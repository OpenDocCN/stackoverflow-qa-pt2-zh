# StackOverflow 问答 13082000-13082999

# c# - 我应该如何清除通用静态类中的字段？

> ID：13082007
> 
> 赞同：2
> 
> 时间：2012-10-26T06:39:46.087
> 
> 标签：c#, generics, static

我有一堂课是这样的：

```
public static class Messenger<T>
{
    private static readonly Dictionary<string, Delegate> eventTable = new Dictionary<string, Delegate>();
    public static void DoSomethingWithEventTable() //Somehow fills eventTable
    public static void Clear() 
    {
        eventTable.Clear();
    }
} 
```

现在，我`DoSomethingWithEventTable`在程序的某个地方调用了两次，如下所示：

```
Messenger<int>.DoSomethingWithEventTable();
Messenger<float>.DoSomethingWithEventTable(); 
```

我想清除`eventTable`每个`Messenger<T>`. 我该怎么做？我是否应该调用`Clear`我放入泛型中的每种类型，如下所示：

```
Messenger<int>.Clear();
Messenger<float>.Clear(); 
```

或者做一次像这样愚蠢的事情就足够了：

```
Messenger<string>.Clear(); 
```

**UPD：**基本实验表明，我应该为每个使用过的 T 清除 Messenger。现在有人可以为这些类提供更好的设计吗？

我现在使用的更详细的版本：

```
static public class Messenger<T>
{
    private static readonly Dictionary<string, Delegate> eventTable = new Dictionary<string, Delegate>();

    static public void AddListener(string eventType, Callback<T> handler)
    {
        // Obtain a lock on the event table to keep this thread-safe.
        lock (eventTable)
        {
            // Create an entry for this event type if it doesn't already exist.
            if (!eventTable.ContainsKey(eventType))
            {
                eventTable.Add(eventType, null);
            }
            // Add the handler to the event.
            eventTable[eventType] = (Callback<T>)eventTable[eventType] + handler;
        }
    }

    static public void RemoveListener(string eventType, Callback<T> handler)
    {
        // Obtain a lock on the event table to keep this thread-safe.
        lock (eventTable)
        {
            // Only take action if this event type exists.
            if (eventTable.ContainsKey(eventType))
            {
                // Remove the event handler from this event.
                eventTable[eventType] = (Callback<T>)eventTable[eventType] - handler;

                // If there's nothing left then remove the event type from the event table.
                if (eventTable[eventType] == null)
                {
                    eventTable.Remove(eventType);
                }
            }
        }
    }

    static public void Invoke(string eventType, T arg1)
    {
        Delegate d;
        // Invoke the delegate only if the event type is in the dictionary.
        if (eventTable.TryGetValue(eventType, out d))
        {
            // Take a local copy to prevent a race condition if another thread
            // were to unsubscribe from this event.
            Callback<T> callback = (Callback<T>)d;

            // Invoke the delegate if it's not null.
            if (callback != null)
            {
                callback(arg1);
            }
        }
    }

    static public void Clear()
    {
        eventTable.Clear();
    }
} 
```

同样重要的是我有另一个类`Messenger`（非泛型，是的）和`Messenger<T,M>`，也许有一天我什至需要类似的东西`Messenger<T,M,N>`，等等。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T06:50:20.333

每种`Messenger<T>`类型都有自己的 eventTable 副本，因此您需要为您使用的每个不同的 T 调用 Clear() 。

如本次测试所示：

```
[TestFixture]
    public class Tests
    {    
        static class MyClass<T>
        {
            public static List<int> Member = new List<int>();
        }

        [Test]
        public void StaticTest()
        {
            var m1 = MyClass<int>.Member;
            var m2 = MyClass<string>.Member;

            Assert.AreNotSame(m1, m2);
        }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T06:55:04.733

自从

```
private static readonly Dictionary<string, Delegate> eventTable = new Dictionary<string, Delegate>(); 
```

不依赖于`<T>`，为所有事件表创建一个静态“处理程序”。

IE

```
public static class TableHandler {
    ICollection<Dictionary<string, Delegate>> tables = new List<Dictionary<string, Delegate>>();

    public void Add(Dictionary<string, Delegate> item) 
    {
        tables.Add(item);
    }

    public void Clear()
    {
        foreach (var item in tables) item.Clear();
        tables.Clear();
    }
} 
```

并确保`DoSomethingWithEventTable()`将事件表添加到`TableHandler`.

可能不是最佳的整体解决方案，但它可以帮助您跟踪当前设计的表格。

**编辑：**

我试图用谷歌搜索找到静态类的所有通用变体的方法，但我没有找到方法。有谁知道这样做的方法？

# json - Jackson 1.9.0：抽象类的 JsonTypeInfo 不能与列表一起使用

> ID：13082009
> 
> 赞同：1
> 
> 时间：2012-10-26T06:39:56.733
> 
> 标签：json, spring-mvc, jackson

使用这个抽象类：

```
@JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = "type")
@JsonSubTypes({ @JsonSubTypes.Type(value = PostingTaskInstanceDto.class, name = "TI") })
public abstract class BasePostingDto {} 
```

这个继承的类：

```
public class PostingTaskInstanceDto extends BasePostingDto {} 
```

我得到了单个对象的正确序列化。这工作，使用 Spring-MVC：

```
@RequestMapping("/{id}")
@ResponseBody
public BasePostingDto findById(@PathVariable("id") Long id) {
    return createDto(postingService.findById(id));
} 
```

但是，如果我从遥控器检索 BasePostingDto 列表，则缺少 type 属性：

```
@RequestMapping("/by-user/all")
@ResponseBody
public List<BasePostingDto> findByUser() {
    return createDtoList(postingService.findByUser(AuthUtils.getUser()));
} 
```

为什么会这样，我该如何强制 type 属性？

`List<BasePostingDto>`更新：如果我更改为，则 type 属性也包括在内`BasePostingDto[]`，但是我更愿意使用 List。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-27T00:06:31.863

听起来您正在使用的框架（并且在后台使用 Jackson）没有传递完整的泛型感知类型信息。

我不知道如何解决（这是框架集成的问题，而不是杰克逊可以解决的问题），但通常的解决方法是让您使用 List 的子类：

```
public class PostingDtoList extends List<BasePostingDto> { } 
```

并在签名中使用它，而不是泛型类型。这解决了这个问题，因为泛型类型签名被保留（因为它存储在超类型声明中，并且可以通过类型擦除`PostingDtoList`类访问！）。

一般来说，我认为最好避免使用泛型`List`和`Map`类型作为根类型（而是使用 POJO）；部分原因是发布的问题（例如，使用 XML 时会出现更大的问题）。但如果需要，它可以工作。

# javascript - 从数组中删除逗号

> ID：13082013
> 
> 赞同：1
> 
> 时间：2012-10-26T06:40:08.400
> 
> 标签：javascript, arrays

我有这个代码：

```
var comment_count = instadata[0].data[i].comments.count
var comment_data = instadata[0].data[i].comments.data
var comments = [];

    $.each(comment_data, function(i, user) {
       comments.push('<li><img class="commentUserImg" src="' + user.from.profile_picture + '"><div class="commentUser">' + user.from.username + '</div><div class="commentText">' + user.text + '</div></li>');
    }); 
```

显示评论。它是一个附加的，直接在 AJAX 内的 $.each() 下方

```
<ul class="messageComments">' + comments + '</ul> 
```

显示时，每个 LI 元素之间都有逗号。

我怎样才能摆脱这个？一切正常，除了逗号。

谢谢

**更新了代码。这也是通过 AJAX 完成的**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T06:53:29.490

你可以用胶带固定它：

```
<ul class="messageComments">' + comments.join('') + '</ul> 
```

或者第一次做对（好吧，只是我的方式）：

```
var comment_count = instadata[0].data[i].comments.count
var comment_data = instadata[0].data[i].comments.data
var $comments = $('<ul />', {'class': 'messageComments'});

$.each(comment_data, function(i, user) {
    var $li = $('<li />');

    $('<img />', {
        'class': 'commentUserImg',
        'src': user.from.profile_picture
    }).appendTo($li);

    $('<div />', {
        'class': 'commentUser',
        'text': user.from.username
    }).appendTo($li);

    $('<div />', {
        'class': 'commentText',
        'text': user.text
    }).appendTo($li);

    $li.appendTo($comments);
});

$comments.appendTo('body');  // Tweak this selector 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T06:59:25.277

您需要使用空字符串调用 join ，否则默认使用 ','。如果您甚至不调用 join ，您将自动使用 toString() ，结果将与 join() 相同；

```
<ul class="messageComments">' + comments.join('') + '</ul> 
```

测试：

```
var a = [1,2,3,4];
console.log(a.toString()); //1,2,3,4
console.log("string: "+a); //string: 1,2,3,4
console.log(a.join());     //1,2,3,4
console.log(a.join(''));   //1234 
```

# c++ - 确定对象是否在静态内存块中分配（或如何避免数据竞争条件）

> ID：13082019
> 
> 赞同：1
> 
> 时间：2012-10-26T06:40:46.650
> 
> 标签：c++, winapi

前言：

这个问题与这些问题密切相关：...
- [C++：同时避免静态初始化顺序问题和竞争条件](https://stackoverflow.com/questions/9203841/c-avoiding-static-initialization-order-problems-and-race-conditions-simultane)
-[如何检测内存块的分配位置？](https://stackoverflow.com/questions/5924595/how-to-detect-where-a-block-of-memory-was-allocated)
...但他们没有积极的解决方案，我的实际目标用例略有不同。

在对象的构造过程中，我需要知道它是在静态内存块（[BSS](https://stackoverflow.com/questions/93039/where-are-static-variables-stored-in-c-c)）中初始化还是在堆中实例化。

原因如下：

*   对象本身被设计为在构造函数中初始化为“全零”-因此，如果对象被静态初始化，则不需要初始化-加载程序时，具有所有对象的整个块已经设置为零。

*   *对象*的静态实例可以被其他静态分配的对象使用并改变对象的一些成员*变量*

*   静态变量的初始化顺序 [不是预先确定的](https://stackoverflow.com/questions/211237/static-variables-initialisation-order)——即我的目标对象可以在其构造函数被调用之前被调用，从而改变它的一些数据，并且构造函数可以稍后根据一些未知的静态初始化顺序被调用，**从而已经清除更改数据**。这就是为什么我想在构造函数中为静态分配的对象禁用代码。

*   注意：在某些情况下，对象是严重多线程访问的主题（它具有一些 InterlockedIncrement/Decrement 逻辑），并且必须在任何线程可以接触它之前完全初始化它 - 如果我在 Heep 中显式分配它，我可以保证，但不在静态区域（但我也需要静态对象）。

用于说明案例的示例代码：

```
struct MyObject
{
    long counter;

    MyObject() {
        if( !isStaticallyAllocated() ) {
            counter = 0;
        }
    }
    void startSomething() { InterlockedIncrement(&counter); }
    void endSomething() { InterlockedDecrement(&counter); }
}; 
```

目前我正在尝试检查“this”指针是否在某个预定义的范围内，但这并不可靠。

```
LONG_PTR STATIC_START = 0x00400000;
LONG_PTR STATIC_END   = 0x02000000;
bool isStatic = (((LONG_PTR)this >= STATIC_START) && (LONG_PTR)this < STATIC_END)); 
```

**更新：** 显式 new 运算符不适用的示例用例。代码是“伪代码”，只是为了说明用例。

```
struct SyncObject() {
    long counter;
    SyncObject() { 
        if( !isStaticallyAllocated() ) {
            counter = 0;
        } }
    void enter() { while( counter > 0 ) sleep(); counter++; }
    void leave() { counter--; }
}

template <class TEnum>
struct ConstWrapper {
    SyncObject syncObj;
    TEnum m_value;

    operator TEnum() const { return m_value; }
    LPCTSTR getName() {
        syncObj.enter();
        if( !initialized ) {
            loadNames();
            intialized = true;
        }
        syncObj.leave();
        return names[m_value];
    }
}

ConstWrapper<MyEnum> MyEnumValue1(MyEnum::Value1); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T06:47:24.577

您可以通过覆盖`new`类的运算符来实现这一点。在您的自定义`new`中，您可以在分配的内存中设置一个“魔术字节”，您可以稍后检查。这将不允许将堆栈与堆区分开来，而是静态地与动态分配的对象区分开来，这可能就足够了。但是请注意，在以下情况下

```
class A {
};

class B {
   A a;
};

//...

B* b = new B; 
```

ba 将被认为是使用建议的方法静态分配的。

编辑：一个更干净但更复杂的解决方案可能是对新的进一步定制，您可以在其中跟踪动态分配的内存块。

第二次编辑：如果您只是想禁止静态分配，为什么不将构造函数设为私有并在类中添加工厂函数动态创建对象并传递指针？

```
class A {
private:
    A () { ... }
public:
    static A* Create () { return new A; }
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:02:29.003

我认为你控制它的最好方法是为你的班级创建一个工厂。这样您就可以完全控制对象的创建方式，而不是对使用的内存进行复杂的猜测。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:40:29.533

第一个答案是：不可移植，在某些平台上可能根本不可能。在 Solaris 下（我认为 Linux 也是如此），有一个隐式定义的全局符号`end`，任意地址的比较有效，如果`this < &end`（在适当的转换之后），变量是静态的，至少只要不涉及动态加载。但这远非普遍。（无论平台如何，只要涉及动态链接，它肯定会失败。）

我过去使用的解决方案是手动进行区分。基本上，我设计了这个类，使普通的构造函数做与零初始化相同的事情，然后我提供了一个特殊的无操作构造函数用于静态对象：

```
class MayBeStatic
{
public:
    enum ForStatic { isStatic };
    MayBeStatic() { /* equivalent of zero initialization */ };
    MayBeStatic( ForStatic ) { /* do absolutely nothing! */ };
    //  ...
}; 
```

在定义具有静态生命周期的实例时，您使用第二个构造函数：

```
MayBeStatic object( MayBeStatic::isStatic ); 
```

我不认为这是由标准保证的。我认为允许实现在调用构造函数之前以任何方式修改内存，特别是，我认为允许在调用构造函数之前立即“重做”零初始化。但是，没有人这样做，因此您在实践中可能是安全的。

或者，您可以将所有静态实例包装在一个函数中，以便它们是局部静态的，并且将在第一次调用该函数时被初始化：

```
MayBeStatic&
getStaticInstance()
{
    static MayBeStatic theInstance;
    return theInstance;
} 
```

当然，每个静态实例都需要一个单独的函数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-27T10:13:48.560

看起来经过一段时间的思考，我找到了一个可行的解决方案来识别块是否在静态区域中。如果有潜在的陷阱，请告诉我。

专为 MS Windows 设计，这是我的目标平台 - 另一个操作系统实际上是指另一个版本的 MS Windows：XP -> Win7。这个想法是获取已加载模块（.exe 或 .dll）的地址空间并检查块是否在此地址空间内。计算静态区域的开始/结束的代码被放入'lib'段，因此它应该在'user'段的所有其他静态对象之前执行，即构造函数可以假设staticStart/End变量已经初始化。

```
#include <psapi.h>

#pragma warning(push)
#pragma warning(disable: 4073)
#pragma init_seg(compiler)
#pragma warning(pop)

HANDLE gDllHandle = (HANDLE)-1;
LONG_PTR staticStart = 0;
LONG_PTR staticEnd = 0;

struct StaticAreaLocator {
    StaticAreaLocator() {
        if( gDllHandle == (HANDLE)-1 )
            gDllHandle = GetModuleHandle(NULL);

        MODULEINFO  mi;
        GetModuleInformation(GetCurrentProcess(), (HMODULE)gDllHandle, &mi, sizeof(mi));

        staticStart = (LONG_PTR)mi.lpBaseOfDll;
        staticEnd = (LONG_PTR)mi.lpBaseOfDll + mi.SizeOfImage;

        // ASSERT will fail in DLL code if gDllHandle not initialized properly
        LONG_PTR current_address;
        #if _WIN64
            ASSERT(FALSE) // to be adopted later
        #else
            __asm {
                        call _here
                _here:  pop eax                     ; eax now holds the [EIP]
                        mov [current_address], eax
            }
        #endif
        ASSERT((staticStart <= current_address) && (current_address < staticEnd));
        atexit(cleanup);
    }

    static void cleanup();
};

StaticAreaLocator* staticAreaLocator = new StaticAreaLocator();

void StaticAreaLocator::cleanup() {
    delete staticAreaLocator;
    staticAreaLocator = NULL;
} 
```

# c - 原始套接字侦听器

> ID：13082023
> 
> 赞同：5
> 
> 时间：2012-10-26T06:41:08.397
> 
> 标签：c, linux, sockets, network-programming

这是 linux c 编程原始套接字的一个快速问题。如果我只想用原始套接字监听任何接口，我必须实际绑定到 IP 地址或接口来监听流量吗？据我了解，我觉得我应该能够调用 sock(); 然后开始 recvfrom() 流量。也许我错了，但我见过一些不使用它的程序。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-26T07:29:39.240

你是对的，你唯一需要做的就是打电话`socket()`，然后`recvfrom()`。不过请注意，使用`SOCK_RAW`.

> 如果您没有在“发送后忘记”的基础上使用原始套接字，您将对读取原始数据包的回复数据包感兴趣。是否将数据包传递到原始套接字的决策逻辑可以枚举如下：
> 
> 1.  TCP 和 UDP 数据包永远不会传递到原始套接字，它们总是由内核协议栈处理。
>     
>     
> 2.  ICMP 数据包的副本被传递到匹配的原始套接字。对于某些 ICMP 类型（ICMP 回显请求、ICMP 时间戳请求、掩码请求），内核可能希望同时进行一些处理并生成回复。
>     
>     
> 3.  所有 IGMP 数据包都被传递到原始套接字：例如 OSPF 数据包。
>     
>     
> 4.  所有其他发往未由内核子系统处理的协议的数据包都被传递到原始套接字。
>     
>     
> 
> 您正在处理将回复数据包传递到原始套接字的协议这一事实并不一定意味着您将获得回复数据包。为此，您可能还需要考虑：
> 
> 1.  在通过 socket(2) 系统调用创建套接字时相应地设置协议。例如，如果您正在发送 ICMP echo-r​​equest 数据包，并且想要接收 ICMP echo-r​​eply，则可以将协议参数（第三个参数）设置为 IPPROTO_ICMP）。
>     
>     
> 2.  将 socket(2) 中的协议参数设置为 0，因此接收到的数据包头中的任何协议号都将匹配。
>     
>     
> 3.  为你的套接字定义一个本地地址（例如通过bind(2)），所以如果目标地址与套接字的本地地址匹配，它也会被传送到你的应用程序。

有关更多详细信息，您可以阅读例如[this](http://www.enderunix.org/docs/en/rawipspoof/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T06:44:13.187

如果您打算捕获接口上的流量，则可以使用 libpcap。

# solr - 在 json 中获取 Solr Schema

> ID：13082025
> 
> 赞同：0
> 
> 时间：2012-10-26T06:41:16.387
> 
> 标签：solr, getjson, solr-schema

我想知道是否可以获得完整的架构或只是架构以 json 格式定义的字段？显然我可以刮掉架构所在的页面

/solr/#/collection1/schema

做一个转换并创建我自己的 json 但是如果 solr 有一个内置的方法:)

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:30:41.280

您无法`schema.xml`直接获取 JSON 格式的文件，但您可以从 Solr 获取原始文件，而不必抓取显示它的 solr 管理页面。您可以使用此 url，其中 collection1 是您的核心名称：

```
http://localhost:8080/solr/collection1/admin/file?file=schema.xml&contentType=text/xml;charset=utf-8 
```

# android - 滚动视图在布局中不起作用

> ID：13082033
> 
> 赞同：0
> 
> 时间：2012-10-26T06:41:35.547
> 
> 标签：android, android-layout

我有一个滚动视图：

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:fillViewport="true"
    >
<LinearLayout 
    android:layout_width="500dp"
    android:layout_height="wrap_content"
    android:orientation="vertical" 
    android:background="@color/antiquewhiter"
    android:weightSum="100"

    >

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="0dp" 
        android:layout_weight="10"
        android:background="@drawable/green_gradient_top_bar"

        >

        <TextView
            android:id="@+id/log_in_header_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerHorizontal="true"
            android:layout_centerVertical="true"
            android:text="@string/Einloggen_text"
            style="@style/headerfromdialogs" />

        <ImageView
            android:id="@+id/log_in_header_exit_image"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBottom="@+id/log_in_header_text"
            android:layout_alignParentRight="true"
            android:layout_marginRight="20dp"
            android:onClick="finish"
            android:src="@drawable/x_android" />

    </RelativeLayout>

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="90" >

        <TextView
            android:id="@+id/log_in_benutzername_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_alignParentTop="true"
            android:layout_marginLeft="40dp"
            android:layout_marginTop="80dp"
            android:text="@string/Benutzername_text"
            style="@style/dialogsGreenTexts" />

        <EditText
            android:id="@+id/log_in_benutzername_edit_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_alignBaseline="@+id/log_in_benutzername_text"
            android:layout_alignBottom="@+id/log_in_benutzername_text"
            android:layout_marginLeft="50dp"
            android:layout_marginRight="20dp"
            android:layout_toRightOf="@+id/log_in_benutzername_text"
            android:ems="10"
            android:hint="@string/hint_name_log_in" 
            >

        </EditText>

        <TextView
            android:id="@+id/log_in_passwort_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/log_in_benutzername_text"
            android:layout_below="@+id/log_in_benutzername_edit_text"
            android:layout_marginTop="52dp"
            android:text="@string/Passwort_text"
            style="@style/dialogsGreenTexts" />

        <EditText
            android:id="@+id/log_in_passwort_edit_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_alignBaseline="@+id/log_in_passwort_text"
            android:layout_alignBottom="@+id/log_in_passwort_text"
            android:layout_alignLeft="@+id/log_in_benutzername_edit_text"
            android:ems="10"
            android:layout_marginRight="20dp"
            android:inputType="textPassword" 
            android:hint="@string/hint_passwort_log_in" 
            >

        </EditText>

        <Button
            android:id="@+id/log_in_button"
            android:layout_width="100dp"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:layout_alignRight="@+id/log_in_passwort_edit_text"
            android:layout_marginBottom="45dp"
            android:layout_marginRight="-10dp"
            android:onClick="logIn"
            android:text="@string/Login_text"
            style="@style/bold_text18" />
<!--             android:background="@drawable/green_gradient_button" -->

        <TextView
            android:id="@+id/log_in_passwort_vergessen_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_above="@+id/log_in_button"
            android:layout_alignLeft="@+id/log_in_passwort_edit_text"
            android:text="@string/Passwort_vergessen_text"
            style="@style/dialogsGreenTexts" />

        <ProgressBar
            android:id="@+id/waitProgessBar"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerInParent="true"
            android:visibility="gone"
           />

        <TextView
            android:id="@+id/userError"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_above="@+id/log_in_benutzername_edit_text"
            android:layout_alignLeft="@+id/log_in_benutzername_edit_text"
            android:layout_marginBottom="5dp"
            android:visibility="gone"
            android:textColor="@color/errorRed"/>

    </RelativeLayout>

</LinearLayout>
</ScrollView> 
```

我想滚动，因为在我的 se xperia neo V 上水平方向我看不到所有视图。第二个问题是当我改变方向时，所有视图都被打破了。如何更改此视图以在两个方向上正确显示？

但滚动不起作用。有谁知道为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T06:45:41.357

**请注意 ：**

1) 滚动视图必须有一个子视图（即所有视图必须包含在滚动视图内的单个根布局中）

2）当您的页面大小大于屏幕的默认高度时，ScrollView 起作用。

请检查这两个东西，如果仍然不起作用...粘贴一些代码以更好地理解问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-21T23:28:06.117

试试这个代码

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout 
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="500dp"
android:layout_height="wrap_content"
android:orientation="vertical" 
android:background="@color/antiquewhiter"
android:weightSum="100"
>

<ScrollView 
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:fillViewport="true"
>

<LinearLayout 
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:orientation="vertical" 
>

<RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="0dp" 
    android:layout_weight="10"
    android:background="@drawable/green_gradient_top_bar"

    >

    <TextView
        android:id="@+id/log_in_header_text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:text="@string/Einloggen_text"
        style="@style/headerfromdialogs" />

    <ImageView
        android:id="@+id/log_in_header_exit_image"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/log_in_header_text"
        android:layout_alignParentRight="true"
        android:layout_marginRight="20dp"
        android:onClick="finish"
        android:src="@drawable/x_android" />

 </RelativeLayout>

 <RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="0dp"
    android:layout_weight="90" >

    <TextView
        android:id="@+id/log_in_benutzername_text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="40dp"
        android:layout_marginTop="80dp"
        android:text="@string/Benutzername_text"
        style="@style/dialogsGreenTexts" />

    <EditText
        android:id="@+id/log_in_benutzername_edit_text"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/log_in_benutzername_text"
        android:layout_alignBottom="@+id/log_in_benutzername_text"
        android:layout_marginLeft="50dp"
        android:layout_marginRight="20dp"
        android:layout_toRightOf="@+id/log_in_benutzername_text"
        android:ems="10"
        android:hint="@string/hint_name_log_in" 
        >

    </EditText>

    <TextView
        android:id="@+id/log_in_passwort_text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/log_in_benutzername_text"
        android:layout_below="@+id/log_in_benutzername_edit_text"
        android:layout_marginTop="52dp"
        android:text="@string/Passwort_text"
        style="@style/dialogsGreenTexts" />

    <EditText
        android:id="@+id/log_in_passwort_edit_text"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/log_in_passwort_text"
        android:layout_alignBottom="@+id/log_in_passwort_text"
        android:layout_alignLeft="@+id/log_in_benutzername_edit_text"
        android:ems="10"
        android:layout_marginRight="20dp"
        android:inputType="textPassword" 
        android:hint="@string/hint_passwort_log_in" 
        >

    </EditText>

    <Button
        android:id="@+id/log_in_button"
        android:layout_width="100dp"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignRight="@+id/log_in_passwort_edit_text"
        android:layout_marginBottom="45dp"
        android:layout_marginRight="-10dp"
        android:onClick="logIn"
        android:text="@string/Login_text"
        style="@style/bold_text18" />
      <!-- android:background="@drawable/green_gradient_button" -->

    <TextView
        android:id="@+id/log_in_passwort_vergessen_text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/log_in_button"
        android:layout_alignLeft="@+id/log_in_passwort_edit_text"
        android:text="@string/Passwort_vergessen_text"
        style="@style/dialogsGreenTexts" />

    <ProgressBar
        android:id="@+id/waitProgessBar"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:visibility="gone"
       />

    <TextView
        android:id="@+id/userError"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/log_in_benutzername_edit_text"
        android:layout_alignLeft="@+id/log_in_benutzername_edit_text"
        android:layout_marginBottom="5dp"
        android:visibility="gone"
        android:textColor="@color/errorRed"/>

</RelativeLayout>

 </LinearLayout>
 </ScrollView>
 </LinearLayout> 
```

# html - XSLT 副本在 Opera 中不起作用，打断标签

> ID：13082036
> 
> 赞同：1
> 
> 时间：2012-10-26T06:41:54.400
> 
> 标签：html, xslt, tags, opera

我在 Opera 将我的`p`标签拆分到不应该的地方时遇到问题。

这是示例 XML：

```
<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="temp.xsl"?>
<data>
    <item name="car">
        <summary>It goes by land.</summary>
    </item>
    <item name="plane">
        <summary>It simply flies.</summary>
    </item>
</data> 
```

这是 XSL：

```
<?xml version="1.0"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:template match="/data">
        <html>
            <link rel="stylesheet" type="text/css" href="temp.css"/>
            <body>
                <xsl:for-each select="item">
                    <h1><xsl:value-of select="@name"/></h1>
                    <xsl:if test="count(summary)&gt;0">
                        <p class="summary"><xsl:copy-of select="summary" /></p>
                    </xsl:if>
                </xsl:for-each>
            </body>
        </html>
    </xsl:template>
</xsl:stylesheet> 
```

和CSS：

```
body { 
    font-size:14px;  text-align:center;  width:400px;  margin:0 auto; font-family:Verdana; 
}

h1 { 
    color: #231F20;  font-size: 1.2em; 
} 

.summary { 
    text-align: justify; padding: 1em; background-color: #F0F4F8;
    border-left: 1px solid #BBB; border-right: 1px solid #BBB; 
} 
```

当我在 IE9 中运行它时，它看起来像这样： ![IE9](../Images/09d35085985285bf7082e319f127d937.png)

IE9 不尊重正文的宽度，但这并不重要，XSLT 正确地转换了数据。`summary`xml 标签放在标签之间，`p`带有`class="summary"`.

但是当我在 Opera 12 中运行它时，我得到了这个：![歌剧12](../Images/ffc8d5e613283673ebcc06e7c632334a.png)

正如你所看到的，宽度是被尊重的，但是`p`标签被分成了两部分，`summary`标签插入在中间。这可以在 Opera 的检查器中看到：

![督察](../Images/329998fe182ac93fcd083ca3bf78afb6.png)

我需要使用，`copy-of`而不是`value-of`，因为我希望`&lt;summary&gt;`标签包含`html`标签，如`b`，`i`或`span`。

为什么 Opera 将`p`标签分成两个空标签并在它们之间插入`summary`？以及如何避免这种情况，使我能够将标签的内容放在`summary`标签内`p`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T09:33:58.577

那么 HTML5 有一个`summary`元素：[http://www.w3.org/TR/html5/single-page.html#the-summary-element](http://www.w3.org/TR/html5/single-page.html#the-summary-element)。目前尚不清楚您是否`summary`将输入中的元素视为`summary`要复制到转换结果文档的 HTML5 元素，或者它是否只是您选择的 XML 输入格式中的任意 XML 元素。至于在 IE 和 Opera 中解析的差异，可能是由于`summary`元素本身对 HTML5 的支持不同或不同的 HTML5 解析实现导致 Opera 似乎将摘要结果元素视为 HTML5 元素并试图移动它属于它的某个地方。正如您在链接的 HTML5 规范中看到的那样，它说的是 HTML5`summary`元素：“可以使用此元素的上下文：作为详细信息元素的第一个子元素。”。这意味着它在元素中没有位置`p`，因此它很可能被移到`p`XSLT 尝试放置它的外部。

[因此，您有两个选择，或者像您已经完成](https://stackoverflow.com/a/13082107/93770)的那样仅复制`summary`元素的子节点，或者更改您的 XSLT 以在 HTML5 为该元素指定的正确上下文中创建干净的 HTML5 。`summary`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T06:48:16.850

我发现改变

```
<p class="summary"><xsl:copy-of select="summary" /></p> 
```

进入

```
<p class="summary"><xsl:copy-of select="summary/node()" /></p> 
```

解决问题。

但我不确定为什么浏览器之间存在差异。

# java - 在线程之间共享资源，不同java版本中的不同行为

> ID：13082037
> 
> 赞同：4
> 
> 时间：2012-10-26T06:42:01.617
> 
> 标签：java, multithreading, parallel-processing, thread-safety, javac

这是我第一次遇到像下面这样的事情。

*   多个线程（实现 Runnable 的内部类）共享一个数据结构（上层类的实例变量）。

*   工作：从 Eclipse 项目的 bin 文件夹中获取类，在 Unix 机器上运行。

*   不工作：直接在 Unix 机器上编译 src 并使用那些类文件。代码编译然后运行，没有错误/警告，但一个线程无法正确访问共享资源。

*   问题：一个线程将元素添加到上述常见的 DS 中。第二个线程执行以下操作...

    ```
     while(true){
       if(myArrayList.size() > 0){
       //do stuff
       } 
    ```

    }

*   日志显示大小在线程 1 中更新。

*   出于某种神秘的原因，工作流程没有进入 if() ...

如果我直接从 Eclipse 的 bin 文件夹中粘贴类文件，完全相同的代码可以完美运行。

如果我错过了任何明显的东西，我深表歉意。

代码：

```
ArrayList<CSRequest> newCSRequests = new ArrayList<CSRequest>(); 
```

//线程1

```
private class ListeningSocketThread implements Runnable {
    ServerSocket listeningSocket;

    public void run() {
        try {
            LogUtil.log("Initiating...");
            init(); // creates socket
            processIncomongMessages();
            listeningSocket.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private void processIncomongMessages() throws IOException {     
        while (true) {
            try {
                processMessage(listeningSocket.accept());
            } catch (ClassNotFoundException e) {                    
                e.printStackTrace();
            }
        }
    }

    private void processMessage(Socket s) throws IOException, ClassNotFoundException {
        // read message
        ObjectInputStream ois = new ObjectInputStream(s.getInputStream());
        Object message = ois.readObject();
        LogUtil.log("adding...: before size: " + newCSRequests.size());
        synchronized (newCSRequests) {
                newCSRequests.add((CSRequest) message);
        }
        LogUtil.log("adding...: after size: " + newCSRequests.size()); // YES, THE SIZE IS UPDATED TO > 0
        //closing....

    }

........ 
```

}

```
//Thread 2
private class CSRequestResponder implements Runnable {

        public void run() {
            LogUtil.log("Initiating..."); // REACHES..
            while (true) {
//              LogUtil.log("inside while..."); // IF NOT COMMENTED, FLOODS THE CONSOLE WITH THIS MSG...
                if (newCSRequests.size() > 0) { // DOES NOT PASS
                    LogUtil.log("inside if size > 0..."); // NEVER REACHES....
                    try {
                        handleNewCSRequests();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
            }
        }
....
} 
```

**更新**

解决方案是在我检查线程 2 中的大小之前添加 synchronized(myArrayList)。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-26T06:59:20.053

要在多线程环境中访问共享结构，您应该使用隐式或显式锁定来确保线程之间的安全发布和访问。使用上面的代码，它应该如下所示：

```
while(true){
    synchronized (myArrayList) {
        if(myArrayList.size() > 0){
            //do stuff
        }
    }
    //sleep(...) // outside the lock!
} 
```

注意：这种模式看起来很像[生产者-消费者](http://en.wikipedia.org/wiki/Producer-consumer_problem)，使用队列更好地实现。[LinkedBlockingQueue](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/LinkedBlockingQueue.html)是一个很好的选择，它提供了内置的并发控制功能。这是线程间安全发布数据的良好结构。使用并发数据结构可以让您摆脱同步块：

```
Queue queue = new LinkedBlockingQueue(...)
...
while(true){
        Data data = queue.take(); // this will wait until there's data in the queue
        doStuff(data);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T10:05:50.383

每次修改 a （具有多个并行运行的线程的区域）`shared variable`内的给定值时，您必须确保. 您可以在 Java 中使用or来保证，通常当您想要更细粒度的同步时使用锁。`parallel region``mutual exclusion``mutual exclusion``synchronized``locks`

如果程序只对给定的共享变量进行性能读取，则不需要同步/锁定对该变量的访问。

由于您是该主题的新手，因此我向您推荐本[教程](http://docs.oracle.com/javase/tutorial/essential/concurrency/index.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:23:08.007

如果我做对了.. 至少有 2 个线程使用相同的共享数据结构。你提到的数组..如果数组的大小> 0，一个线程将值添加到数组中，第二个线程“做事”。线程调度程序有可能运行第二个线程（检查集合是否> 0)，在第一个线程有机会运行并添加值之前。从 bin 运行类或重新编译它们无关。如果您要从 bin 目录再次运行该应用程序，您可能会再次看到该问题。您运行该应用程序多少次？它可能无法始终如一地重现，但有时您可能会再次看到该问题。

您可以以串行方式访问数据结构，一次只允许一个线程访问数组。但这并不能保证第一个线程会运行，只有第二个线程才会检查大小是否 > 0。

根据您需要完成的工作，可能会有更好/其他方法来实现这一目标。不一定使用数组来协调线程..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-26T07:07:36.930

检查返回

```
newCSRequests.add((CSRequest) message); 
```

我猜它可能由于某种原因没有被添加。如果它是 HashSet 或类似的，可能是因为多个对象的哈希码返回相同的值。消息对象的equals实现是什么？

你也可以使用

```
List list = Collections.synchronizedList(new ArrayList(...)); 
```

以确保 arraylist 始终正确同步。

高温高压

# bash - 在 bash 脚本中执行 tcsh 命令

> ID：13082038
> 
> 赞同：0
> 
> 时间：2012-10-26T06:42:10.097
> 
> 标签：bash, tcsh

在 bash 脚本中，我需要执行这个 tcsh 命令。该命令在 tcsh 命令提示符下运行良好，但在我的 bash 脚本中却不行。

```
eval `/app/modules/0/bin/modulecmd tcsh $variable` 
```

我已经尝试了几件事，比如添加

```
/usr/bin/tcsh -c eval `/app/modules/0/bin/modulecmd tcsh $variable` 
```

但随后它说：没有这样的文件或目录。

编辑：当前代码：

```
# hook for some commands

echo 'To be sure the version that are loading exist for your platform plase use: "module aplikation load/version" instead of "module load application". A check will then be done.'
cmd=$(basename "$0") # it givs error here if i start with: tcsh -v xmodule load firefox/3.6.13     
var1=$(echo "$@" | awk '{print $2}' | cut -f1 -d"/") # Gets the application name and put it into var1
var2=$(echo "$@" | grep -o '[^/]*$')  # Gets version name and put it into var2 

if [[ $cmd = "xmodule" ]]
        then
#First if statement: checking if a spesific version of an apllication is requested.
        if  [[ ${@} =~ .*/.* && ${@} =~ ((^)|([ ]))load(($)|([ ])) ]]
        then
           if find /app/$var1 -noleaf -maxdepth 1 -type l -o -type d | grep $var2; then #matching version to symlink or dir in /app/appname/
           echo "$@"
           tcsh -c 'eval `/app/modules/0/bin/modulecmd tcsh $@`'  #execute the module command as normal if version exist
           exit $?
        else
           echo "Could not find $var1 or $var2, one of these things happend:"
           echo "$var1 was misspelled"
           echo "$var2 was misspelled"
           echo "version does exist as a module but not for your platform (see module avail $var1). Printing a list of suported versions:"
                ls /app/$var1/
           echo "exiting: please rety again"
           exit $?
        fi
fi
# Next check. Checking if default module version is loaded
fi
exit 
```

再次编辑：

环境变量是实际设置的，但不是为运行脚本的用户设置的

> *   /app/modules/0/bin/modulecmd tcsh load gcc/4.3.4 setenv LD_LIBRARY_PATH '/app/mpfr/2.4.0/lib:/app/gmp/4.2.4/lib:/usr/lib64/mp​​i/gcc /openmpi/lib64';setenv LD_RUN_PATH '/app/mpfr/2.4.0/lib:/app/gmp/4.2.4/lib:/app/gcc/4.3.4/lib64:/app/gcc/4.3.4 /lib';setenv MANPATH '/app/gcc/4.3.4/man:/app/emacs/23.2/LMWP3/share/man:/app/vim/7.3.021/LMWP3/share/man:/app/xemacs /21.5.29/LMWP3/share/man:/app/j2re/1.6.0_22/LMWP3/man:/usr/lib64/mp​​i/gcc/openmpi/man:/usr/share/man:/opt/quest/man :/usr/local/man:/usr/man:/opt/lsb/man:/opt/mpich/man:/opt/gnome/share/man:/app/modules/0/man:/app/modules/ 0/man';setenv PATH'/app/gcc/4.3.4/bin:/app/firefox/3.6.12/LMWP3:/app/emacs/23.2/LMWP3/bin:/app/sametime/8.0.2: /app/nxclient/3.4.0.7/LMWP3/bin:/app/vim/7.3.021/LMWP3/bin:/app/xemacs/21.5.29/LMWP3/bin:/app/thunderbird/3.1.6/LMWP3: /app/thunderbird/3.1.6/LMWP3/bin:/app/openoffice/3.2.1/LMWP3/opt/openoffice.org3/program:/app/openoffice/3.2.1/LMWP3/openoffice.org3/program:/app/j2re/1.6.0_22 /LMWP3/bin:/app/ica/client/11.1:/app/acroread/9.4.0/LMWP3/Adobe/Reader9/bin:/home/ebrfred/.afs/0/rbin:/home/ebrfred/.afs /0/pbin:/env/seln/bin:/home/ebrfred/.afs/0/ibin:/usr/atria/bin:/usr/afsws/bin:/usr/NX/bin:/usr/lib64/ mpi/gcc/openmpi/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/quest/bin:/usr/local/bin:/usr/bin/X11:/usr/X11R6/ bin:/usr/games:/opt/kde3/bin:/usr/openwin/bin:/opt/cross/bin:/usr/lib/mit/bin:/usr/lib/mit/sbin:/opt/gnome /bin:/usr/lib/qt3/bin:/usr/dt/bin:/usr/ccs/bin:/app/arc/0/bin';setenv/home/ebrfred/.afs/0/rbin:/home/ebrfred/.afs/0/pbin:/env/seln/bin:/home/ebrfred/.afs/0/ibin:/usr/atria/bin: /usr/afsws/bin:/usr/NX/bin:/usr/lib64/mp​​i/gcc/openmpi/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/quest/bin: /usr/local/bin:/usr/bin/X11:/usr/X11R6/bin:/usr/games:/opt/kde3/bin:/usr/openwin/bin:/opt/cross/bin:/usr/ lib/mit/bin:/usr/lib/mit/sbin:/opt/gnome/bin:/usr/lib/qt3/bin:/usr/dt/bin:/usr/ccs/bin:/app/arc/ 0/bin';setenv/home/ebrfred/.afs/0/rbin:/home/ebrfred/.afs/0/pbin:/env/seln/bin:/home/ebrfred/.afs/0/ibin:/usr/atria/bin: /usr/afsws/bin:/usr/NX/bin:/usr/lib64/mp​​i/gcc/openmpi/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/quest/bin: /usr/local/bin:/usr/bin/X11:/usr/X11R6/bin:/usr/games:/opt/kde3/bin:/usr/openwin/bin:/opt/cross/bin:/usr/ lib/mit/bin:/usr/lib/mit/sbin:/opt/gnome/bin:/usr/lib/qt3/bin:/usr/dt/bin:/usr/ccs/bin:/app/arc/ 0/bin';setenv*LM文件*'/env/common/modules/firefox/3.6.12:/env/common/modules/acroread/9.4.0:/env/common/modules/flashplayer/10.1:/env/common/modules/ica/11.1:/ env/common/modules/j2re/1.6.0_22:/env/common/modules/openoffice/3.2.1:/env/common/modules/thunderbird/3.1.6:/env/common/modules/xemacs/21.5.29 :/env/common/modules/vim/7.3.021:/env/common/modules/nxclient/3.4.0.7:/env/common/modules/sametime/8.0.2:/env/common/modules/emacs/23.2 :/home/ebrfred/.afs/0/imodules/isit_modules:/env/common/modules/gmp/4.2.4:/env/common/modules/mpfr/2.4.0:/env/common/modules/gcc/ 4.3.4';setenv LOADEDMODULES 'firefox/3.6.12:acroread/9.4.0:flashplayer/10.1:ica/11.1:j2re/1.6.0_22:openoffice/3.2.1:thunderbird/3.1.6:xemacs/21.5。 29:vim/7.3.021:nxclient/3.4.0.7:sametime/8.0.2:emacs/23.2:isit_modules:gmp/4.2.4:mpfr/2.4.0:gcc/4.3.4';setenv PKG_CONFIG_PATH '/app /gcc/4.3。4/lib/pkgconfig:/opt/gnome/lib64/pkgconfig:/opt/gnome/share/pkgconfig';+退出0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T09:55:44.523

见[man tcsh](http://linux.die.net/man/1/tcsh)。您必须引用`eval ...`命令：

```
tcsh -c "eval \`/app/modules/0/bin/modulecmd tcsh $variable\`" 
```

否则`bash`将解释反引号命令。

# java - 如何在没有来自用户的任何 HTTP 请求的情况下从 servlet 向登录用户发布数据

> ID：13082040
> 
> 赞同：0
> 
> 时间：2012-10-26T06:42:13.643
> 
> 标签：java, servlets, servlet-filters, servlet-3.0

有许多用户登录到 servlet。如何在没有来自登录用户的任何 HTTP 请求的情况下从 servlet 向特定的登录用户发送数据。我应该遵循哪种方法。管理员一旦登录到 servlet，就可以看到用户数量及其登录详细信息。现在管理员将选择一个用户并将数据发布给该用户如何实现这一点。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:03:01.923

无论有多少用户登录，他们都可以只使用一个 HTTP 请求和一个 servlet。登录用户数与否无关。servlet 或 jsp 的。我认为您的问题并不具体，请在问题上更加清楚。

# ios - 在 UIPickerView 内滚动时，UIScrollView 行为异常

> ID：13082051
> 
> 赞同：0
> 
> 时间：2012-10-26T06:43:11.813
> 
> 标签：ios, uiscrollview, uipickerview

我认为我有两个文本文件。按下文本字段时，从底部显示 UIPickerView 或普通键盘（取决于文本文件的类型）。UIScrollView 包装了我视图中的所有内容。
ViewController.h 文件如下所示：

```
@interface MyViewController : UIViewController<UIPickerViewDataSource, UIPickerViewDelegate>

@property (weak, nonatomic) IBOutlet UIScrollView *scrollView;
@property (weak, nonatomic) IBOutlet UITextField *textNormal;
@property (weak, nonatomic) IBOutlet UITextField *textScroll;
@property UIPickerView * picker;

@end 
```

我混合了一些代码来滚动到滚动视图，以便在显示键盘或选择器视图时使文本字段可见。

ViewController.m 文件：

```
@interface MyViewController ()

@property BOOL keyboardVisable;
@property CGPoint offset;
@property CGRect frame;
@property UIPickerView * picker;
@end

@implementation MyViewController

- (void)viewDidLoad
{
    [super viewDidLoad];

    self.keyboardVisable = NO;
    [[NSNotificationCenter defaultCenter]
     addObserver:self selector:@selector(keyboardDidShow:) name:UIKeyboardDidShowNotification object:nil];
    [[NSNotificationCenter defaultCenter]
     addObserver:self selector:@selector(keyboardDidHide:) name:UIKeyboardDidHideNotification object:nil];

    UITapGestureRecognizer *tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(hideKeyboard)];
    tapGesture.cancelsTouchesInView = NO;
    [self.scrollView addGestureRecognizer:tapGesture];

    self.picker = [[UIPickerView alloc] init];
    self.textScroll.inputView = self.picker;
    self.picker.delegate = self;
    self.picker.dataSource = self;
    self.picker.showsSelectionIndicator = YES;

}
-(void)hideKeyboard
{
    NSLog(@"hide now");
    [self.scrollView endEditing:YES];
}

- (void)keyboardDidShow:(NSNotification *)notif{
    if(self.keyboardVisable)
        return;

    NSLog(@"keyboard did show");

    NSDictionary* info = [notif userInfo];
    NSValue* aValue = [info objectForKey:UIKeyboardFrameBeginUserInfoKey];
    CGSize keyboardSize = [aValue CGRectValue].size;

    // Save the current location so we can restore
    // when keyboard is dismissed
    self.offset = self.scrollView.contentOffset;
    self.frame = self.scrollView.frame;

    // Resize the scroll view to make room for the keyboard
    CGRect viewFrame = self.scrollView.frame;
    viewFrame.size.height -= keyboardSize.height;
    self.scrollView.frame = viewFrame;

    CGRect textFieldRect = [self.textScroll frame];
    textFieldRect.origin.y += 10;

    [self.scrollView scrollRectToVisible:textFieldRect animated:YES];

    // Keyboard is now visible
    self.keyboardVisable = YES;

}

- (void)keyboardDidHide:(NSNotification *)notif{
    if(!self.keyboardVisable)
        return;

    NSLog(@"keyboard did hide");

    //self.scrollView.contentOffset = self.offset;
    self.scrollView.frame = self.frame;
    [self.scrollView setContentOffset:self.offset animated:YES];

    self.keyboardVisable = NO;

} 
```

当按下普通文本字段时，这些代码正常工作。
（滚动视图会改变它的框架大小和偏移量，以使文本字段可见，并且当按下键盘以外的任何地方都会恢复正常）

但是，它们不适用于带有 inputView == pickerview 的文本字段。滚动视图会按预期改变它的帧大小。一旦用户滚动了pickerview，背景（scrollview）将突然滚动到顶部并意外变为不可滚动。

谢谢！

# postgresql - 如何在 Heroku Postgres 数据库中查找“丢失”的行？

> ID：13082053
> 
> 赞同：2
> 
> 时间：2012-10-26T06:43:22.403
> 
> 标签：postgresql, heroku

我不断收到电子邮件，内容如下：

“[您的数据库 X] 包含 16,919 行，超过了 10,000 的计划限制。对数据库的 INSERT 权限将在 7 天内自动撤销。这将导致大多数依赖此数据库的应用程序服务失败。”

即使我已将单表应用程序中的行数限制为最大 10 000，通常徘徊在 9999。

我已经通过 psql 和 PGAdmin3 检查了行数和表数。

知道 Heroku 如何计算数据库中的行数吗？这是平台错误还是我遗漏了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-28T15:50:26.913

现在它会进行估计计数，直到您达到某个阈值，此时它会执行准确的计数（此机制可能会发生变化）。`SELECT count(*) FROM table1`如果不先进行准确计数（ +`SELECT count(*) FROM table2`等），它将永远不会撤销访问权限或向用户发送电子邮件。

它不计算系统表；它考虑所有用户级别的表。人们常常没有意识到他们的桌子正在吃掉行，例如`sessions`，`events`或`logs`。

# applescript - 如何将对象格式的Applescript输出解析为文本？

> ID：13082060
> 
> 赞同：0
> 
> 时间：2012-10-26T06:43:50.143
> 
> 标签：applescript

目前正在运行以从 Java 中的 Applescript 检索窗口的全部内容，applescript 正在返回类对象，如果我从 java 运行相同的脚本，则不会发生这种情况，请建议如何格式化。

```
tell application "System Events"

    tell process "Install Adobe Flash Player"

      set tElements to entire contents of window 1

        end tell
end tell
tElements 
```

输出 ：

```
{button 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", button 2 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", button 3 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", group 1 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", image 1 of group 1 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", group 2 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", static text "Adobe Flash Player 11" of group 2 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", progress indicator 1 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", group 3 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", static text "  " of group 3 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", image 1 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", group 4 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", static text "Error: General installation error" of group 4 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", button "Finish" of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events", static text "Adobe Flash Player Installer" of window "Adobe Flash Player Installer" of application process "Install Adobe Flash Player" of application "System Events"} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T14:03:00.090

You want to target one of them... which one? You don't say. However normally you get the "value" of one of those objects. So for example you would do something like this...

```
tell application "System Events"
    tell process "Install Adobe Flash Player"
       set theValue to value of group 2 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer"
    end tell
end tell 
```

And if the "value" doesn't work then you can get the properties of the object and see which property you want...

```
tell application "System Events"
        tell process "Install Adobe Flash Player"
           set theProperties to properties of group 2 of UI element 1 of scroll area 1 of window "Adobe Flash Player Installer"
        end tell
end tell 
```

# php - 将 PHP 项目链接到 Visual SVN 和 Visual Studio 2012？

> ID：13082063
> 
> 赞同：2
> 
> 时间：2012-10-26T06:43:59.097
> 
> 标签：php, visual-studio, visual-studio-2012, project, visualsvn

我正在寻找一种能够在我的 PHP 项目中使用 VisualSVN 的方法。我尝试将我的整个项目添加到 Visual Studio 2012 中，但文件没有添加到解决方案资源管理器中，因此我无法将解决方案推送到 SVN 服务器。

是否有在 VS2012 中创建 PHP/html/javascript 项目的合法方法，或者另一种将 VisualSVN 用于 PHP 项目的方法？

我必须使用这个 SVN，因为这是我的大学目前唯一支持的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:14:26.353

我创建了一个新的 javascript 项目并将文件重命名为`index.php`. 然后我创建了文件夹，例如`css`和`js`并将我网站的所有文件拖到 VS2012 中。我现在将它用作代码编辑器，我可以立即提交我的更改。我希望 VS 有一个强大的 PHP 模板（即使它不支持它的语法，我也不在乎！），这样就不会那么麻烦了。

现在一切都很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-15T16:13:49.113

在 Visual Studio 中有很多工具可以创建 PHP 项目，包括代码着色和代码完成。只需在[Visual Studio Gallery中](http://visualstudiogallery.msdn.microsoft.com/)[搜索“PHP”](http://visualstudiogallery.msdn.microsoft.com/site/search?query=php&f%5B0%5D.Value=php&f%5B0%5D.Type=SearchText&ac=4)。

# mysql - 提高查询性能

> ID：13082066
> 
> 赞同：0
> 
> 时间：2012-10-26T06:44:16.827
> 
> 标签：mysql, performance

我有嵌套查询：

```
SELECT PIXEL_X as 'X_Coord', PIXEL_Y as 'Y_Coord', 
CONVERTWATTS2DBM_udf(SUM(L2_VALUE)/SUM(L3_VALUE)) as 'Pixel_Value' 
   FROM table  
   WHERE  
      ('GSM 850/900' like CONCAT('%',FILTER2,'/%') OR 
       'GSM 850/900' like CONCAT('%/',FILTER2,'%') ) 
GROUP BY X_Coord, Y_Coord; 
```

但是需要很长时间，你能帮我提高他们的表现吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T06:58:15.620

一个直接的优化方法是这样的：

*   以您用于访问数据库的任何语言自行创建过滤器变量。
*   为“GMS 850/900”的每个选项设置一个查询，然后使用 UNION 将它们连接在一起，如下所示：

    ```
    SELECT PIXEL_X as 'X_Coord', PIXEL_Y as 'Y_Coord', 
    CONVERTWATTS2DBM_udf(SUM(L2_VALUE)/SUM(L3_VALUE)) as 'Pixel_Value' 
    FROM table  WHERE  
    'GSM 850/900' like '%YOURVALUE1%'
    UNION
    SELECT PIXEL_X as 'X_Coord', PIXEL_Y as 'Y_Coord', 
    CONVERTWATTS2DBM_udf(SUM(L2_VALUE)/SUM(L3_VALUE)) as 'Pixel_Value' 
    FROM table  WHERE  
    'GSM 850/900' like '%YOURVALUE2%' 
    ```

这应该会加快查询速度。

此外，如果您事先生成了动态生成的值，它将大大加快查询速度。您可以在 ON WRITE 触发器中创建列并生成 CONVERTWATTS2DBM_udf。这将消除不仅在每一行上运行此函数的必要性，而且在查询本身的每次运行上都运行此函数。

最后，对 Pixel_X、Pixel_Y 和新创建的列的复合索引可以进一步加快查询速度。

# c# - .Net 4.5 中 Async/Await 的简要说明

> ID：13082074
> 
> 赞同：45
> 
> 时间：2012-10-26T06:45:08.960
> 
> 标签：c#, .net-4.5, async-await

.Net 4.5 中的异步任务（Async/Await）如何工作？

一些示例代码：

```
private async Task<bool> TestFunction()
{
  var x = await DoesSomethingExists();
  var y = await DoesSomethingElseExists();
  return y;
} 
```

第二个`await`语句是立即执行还是在第一个`await`返回后执行？

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2012-10-26T11:53:55.683

`await`暂停方法直到操作完成。所以第二个`await`将在第一个`await`返回后执行。

有关更多信息，请参阅我的[`async`/`await`介绍](http://blog.stephencleary.com/2012/02/async-and-await.html)或[官方常见问题解答](http://blogs.msdn.com/b/pfxteam/archive/2012/04/12/10293335.aspx)。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-10-26T07:02:48.050

它在第一个 await 返回后执行。如果这件事让您感到困惑，请尝试使用断点 - 新的异步模式完全支持它们。

想象一下它看起来像这样：

```
var x = await GetSomeObjectInstance();
var y = await GetSomeObjectInstance2(x); 
```

某处可能会发生 NullReferenceException，因此第一个 await**必须先**返回。否则，`x`将为空/未定义或其他。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2014-06-04T03:10:01.180

方法调用仍将像“常规”、非等待的方法调用一样按顺序发生。await 的目的是它会将当前线程返回到线程池，而等待的操作运行并执行任何操作。

这在高性能环境中特别有用，例如 Web 服务器，其中给定请求在整个线程池中的给定线程上处理。如果我们不等待，那么在 db / service 调用完成时，处理请求（及其所有资源）的给定线程将保持“正在使用”。这可能需要几秒钟或更长时间，尤其是对于外部服务调用。

现在在低流量网站中，这不是什么大问题，但在高流量网站中，所有这些请求线程的成本只是闲置，无所事事，处于“使用中”状态，等待其他进程，如那些 db /service 调用返回可能是一种资源负担。

我们最好将线程释放回工作池，以允许它为其他请求做其他有用的工作。

一旦 db / service 调用完成，我们就可以中断线程池并请求一个线程从中断的地方继续处理该请求。此时请求的状态被重新加载并且方法调用继续。

*因此，在使用 await 时，在每个请求的基础上，从用户的角度来看，请求仍将花费相同的时间*……加上一点点更多的切换开销。

但总的来说，在所有用户的所有请求中，对于所有用户来说，事情似乎更具性能，因为 Web 服务器（在这种情况下）运行效率更高，资源利用率更高。即它要么不必排队等待空闲线程处理请求的请求，因为 await 正在返回它们，要么我们不必购买更多硬件，因为我们使用相同数量的硬件，更有效地获得更高吞吐量。

不过，这有一个转换成本，因此尽管您在默认模板和许多文档中看到了什么，但您不应该只是盲目地为每个调用使用 await。它只是一个工具，就像所有工具一样，它也有它的位置。如果切换成本不低于同步完成调用的成本，那么您不应该使用 await。

# java - int 反向符号 negate() java

> ID：13082075
> 
> 赞同：3
> 
> 时间：2012-10-26T06:45:18.587
> 
> 标签：java, methods, logic, negate

**要求**

假设现有类 ICalculator 的可用性，该类对整数算术计算器进行建模并包含：

*   一个实例变量 currentValue ，它存储计算器的当前 int 值，并且可以被任何子类访问和修改。

*   方法 add、sub、mul 和 div

    ICalculator 中的每个方法都接收一个 int 参数并将其操作应用于 currentValue 并返回 currentValue 的新值。因此，如果 currentValue 的值为 8 并且 sub(6) 被调用，那么 currentValue 以值 2 结束，并返回 2。

因此，您将基于 ICalculator 编写子类 ICalculator2 的定义。ICalculator2 类有一个额外的方法，即 negate，它不接收任何参数。negate 的作用是反转 currentValue 的符号。例如，如果 currentValue 为零，则没有变化，如果为 -22，则变为 22，如果为 100，则变为 -100。此外，negate 返回 currentValue 的新值。

**源代码**

```
public class ICalculator2 extends ICalculator {
public int negate() { 
int val = add(0);      
if (val == -22) return val * -1;   
else if (val == 100) return val * -1;   
else return 0;}} 
```

**评论：**

*   您的代码在执行过程中出错

**更多提示：**

*   您可能想要使用 100 以外的数字

*   您可能想要使用 22 以外的数字

*   您确定要使用：val

**提示：**

*   您可能想使用：<
*   您确定要使用：=

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-26T06:53:38.083

你不需要做任何那些奇怪的计算。试试这个：

```
public class ICalculator2 extends ICalculator {
    public int negate() { 
        return (currentValue = -currentValue);
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T20:30:28.637

为此，您可以操作 ICalculate 类中为您提供的方法之一。请记住，您不能直接使用实例变量 currentValue，因为它是私有变量，子类只能通过方法访问私有变量。在这种情况下，最好的操作方法是 mul()，参数为 -1。

公共整数否定（）{

返回 mul(-1); }

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T06:55:59.680

请尝试这将帮助您解决此问题

```
 int i = -22;
        i = i*-1;

        System.out.println(i);
            return i; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-27T01:57:50.423

你得到的数字就是一个例子。如果有一个使用任何其他数字的真值表，那么您的示例将失败。这就是代码出现问题的原因。您需要使用代码来显示当 currentValue 不是 0 时会发生什么。

查看以下内容：

```
 public class ICalculator2 extends ICalculator {
        public int negate() {
          if (currentValue != 0) {
            return currentValue * -1;}
          else {
            return 0; 
            }
        }
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-07-08T11:14:49.067

我刚刚注意到您正在尝试扩展*通常*应该是接口的内容。那是行不通的。你**实现**了一个接口。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-04-02T22:26:40.347

伙计，你把这一切都搞错了。

公共类 ICalculator2 扩展 ICalculator{

```
public int negate(){
    int val =mul(-1);
    return val;}} 
```

你看？-22 和 100 是示例，它们无关紧要。关键是你需要否定它是什么。

# html - Bootstraper 中三个大小相等的按钮

> ID：13082079
> 
> 赞同：0
> 
> 时间：2012-10-26T06:45:38.877
> 
> 标签：html, css, twitter-bootstrap

我已经开始使用引导程序。我想要一个有三个按钮的行。按钮应具有相同的高度和宽度。我怎样才能做到这一点？

我想出了以下内容，但这给了我不同高度的按钮。

```
<div class="row-fluid">
    <div class="span2 offset1">
        <a href="#" class="btn btn-info btn-block">
            <div class="buttonbody">
                <img src=".." />
                <p>Button1<br />Second row<p>
            </div>
        </a>
    </div>
    <div class="span2 offset1">
        <a href="#" class="btn btn-info btn-block">
            <div class="buttonbody">
                <img src=".." />
                <p>Button2<p>
            </div>
        </a>
    </div>
    <div class="span2 offset1">
        <a href="#" class="btn btn-info btn-block">
            <div class="buttonbody">
                <img src=".." />
                <p>Button3<p>
            </div>
        </a>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:14:26.897

简短答案：http: [//jsfiddle.net/D2RLR/2942/](http://jsfiddle.net/D2RLR/2942/)

长答案：

以下代码可以满足您的需求。

```
<div class="container">
    <a href="#" class="btn"><strong>Button 1</strong></a>
    <a href="#" class="btn"><strong>Button 2</strong></a>
    <a href="#" class="btn"><strong>Button 3</strong></a>
</div>​ 
```

这是相同的[教程](http://bootsnipp.com/snipps/row-of-buttons)。

我建议您通过 twitter bootstrap 文档和[bootsnipp.com](http://bootsnipp.com)了解更多信息。

根据您的评论，正如您所说，`<br/>`您可以使用以下内容：[fiddle](http://jsfiddle.net/D2RLR/2943/)，

```
<div class="container">
<a href="#" class="btn"><strong>Button 1<br/>Second row</strong></a>
<a href="#" class="btn"><strong>Button 2<br/>&nbsp;</strong></a>
<a href="#" class="btn"><strong>Button 3<br/>&nbsp;</strong></a>
</diV>​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T12:03:30.140

要获得相同的高度，您必须使用 jQuery 计算最大值，然后将其应用于应该具有相同高度的所有元素：

```
var selector = ".row-fluid .buttonbody";
var maxHeight = 0;
$(selector).each(function() {
    var selfHeight = $(this).height();
    if (selfHeight > maxHeight) {
        maxHeight = selfHeight;
    }
});
// set the same height on all elements
$(selector).height(maxHeight); 
```

**更新：**要在每次调整窗口大小时调整按钮大小，您可以执行以下操作：

```
// declare a function to be called
// each time buttons need to be resized
var resizeButtons = function() {
    var selector = ".row-fluid .buttonbody";
    var maxHeight = 0;
    $(selector).each(function() {
        var selfHeight = $(this).height();
        if (selfHeight > maxHeight) {
            maxHeight = selfHeight;
        }
    });
    // set the same height on all elements
    $(selector).height(maxHeight);
}

$(function() {
    // attach function to the resize event
    $(window).resize(resizeButtons);

    // call function the first time window is loaded;
    resizeButtons();
}); 
```

希望有帮助。

# c# - 根据 .config 文件中的设置选择注入构造函数

> ID：13082083
> 
> 赞同：2
> 
> 时间：2012-10-26T06:45:53.683
> 
> 标签：c#, asp.net-mvc-3, dependency-injection, ninject, ninject.web.mvc

我有一个使用 Ninject 作为 DI 容器的 MCV3 应用程序。

我有一个对象有 2 个构造函数（每个都有 1 个参数）

```
public MyObject(IDependencyOne dep){}
public MyObject(IDependencyTwo dep){} 
```

如何让 Ninject 根据运行时从 web.config 文件中读取的一些布尔值选择两个构造函数之一？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T09:23:54.867

从[这里](https://stackoverflow.com/a/2147855/1182982)，它说：Ninject 没有 XML 配置。

> **从 XML 中解脱出来**
> 
> 大多数其他 .NET 依赖注入框架都是围绕使用 XML 来声明类型绑定而设计的。Ninject 不是强迫您编写繁琐且容易出错的文本，而是为您提供流畅的界面，让您可以使用成熟的代码连接应用程序的各个部分。这意味着您可以利用 IDE 和编译器的功能，例如代码完成和类型安全。

将 IoC 绑定移入代码并移出 XML 是一种普遍趋势（无论如何，在我认识或关注的人中）。大多数情况下，您可以获得智能感知和运行时错误反馈。

我没有使用它，但有[Ninject.Extensions.Xml](https://github.com/ninject/ninject.extensions.xml)的候选版本，它允许您在 xml 中设置映射。但是，我通常会回避这样做。还有[Ninject.Extensions.Conventions](https://github.com/ninject/ninject.extensions.conventions)可能是您所追求的。

资源 ：

[注入和配置](https://stackoverflow.com/questions/4639689/ninject-and-configuration)

[Ninject 和 XML 配置绑定](https://stackoverflow.com/questions/4647972/ninject-and-xml-configuration-binding)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T20:15:11.120

您可以将[构造函数选择语法](http://www.planetgeek.ch/2011/05/28/ninject-constructor-selection-preview/)与 Conditional Bindings 一起使用 - 请参阅[此相关问题/答案](https://stackoverflow.com/questions/8391521/ninject-conditional-binding)以及[Contextual Binding 上的相关 wiki 部分](https://github.com/ninject/ninject/wiki/Contextual-Binding)。

# java - JIT 和 HotSpot 编译器是分开的还是作为一个单元工作？

> ID：13082087
> 
> 赞同：3
> 
> 时间：2012-10-26T06:46:42.470
> 
> 标签：java, jit, jvm-hotspot

JIT 编译器在代码即将执行之前，在运行时将字节码编译成某种目标形式。HotSpot 有关于运行代码的特定平台的详细信息，并且可以为该机器生成高度优化的代码。

[关于 SO 的这个答案](https://stackoverflow.com/questions/95635/what-does-a-just-in-time-jit-compiler-do)似乎表明这两个都作为一个单元工作，而关于 SO 的[这个答案](https://stackoverflow.com/questions/2903113/what-does-a-jit-compiler-do)似乎表明它们是相互独立的。

在 Oracle 的 JVM 中，HotSpot 和 JIT 是两个不同的系统，还是只是一个系统？

# caching - 如何在运行时创建 JCS 缓存区域？

> ID：13082088
> 
> 赞同：0
> 
> 时间：2012-10-26T06:46:44.603
> 
> 标签：caching, jcs

谁能告诉我如何在运行时创建 JCS 缓存区域？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T00:36:34.497

```
JCS jcs = JCS.getInstance("REGION");
IElementAttributes attr = new ElementAttributes();
attr.setIsEternal(false);
attr.setMaxLifeSeconds( maxLife );
jcs.put("Key",data, attr); 
```

# html - css冲突如何解决？

> ID：13082090
> 
> 赞同：1
> 
> 时间：2012-10-26T06:46:46.823
> 
> 标签：html, css

我在用 css 设计网页时遇到问题。我有这个结构代码。

```
<div id="tabs">
   <ul>
      <li><a href="menu link"></a></li>
      ... other menu ...
   </ul>
   <div id="content">
       ... some codes ...
      <section class="slider">
        <div class="flexslider">
        <ul class="slides">
        <li>
            <img src="image/1.jpg" />
        </li>
                 ... other image ...
            </ul>
        </div>
      </slider>
   </div>

</div> 
```

在#tabs 中，它使用 css`#tab ul{}`来设计 和 的导航栏`ul`菜单`li`。

当我`flexslider`在我的页面中应用时，flexslider 的`ul`and`li`也感染了`#tab ul`and的 css 设计`#tab li`。

有什么方法可以让 flexslider 的`ul`and`li`不会被`#tab ul`and感染`#tab li`？

顺便说一句，我无法更改页面的结构，因为它会影响其他页面。我只能在`content`div 中编辑。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T06:48:15.523

你可以有单独的规则

```
#tabs > ul 
```

和

```
.flexslider > ul 
```

这些规则不会传播到`ul`树的更深处。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-26T06:57:08.633

添加 .flexsider ul 和 .flexsider ul li，最后加上 !important。

# java - 多任务与多线程与多处理

> ID：13082102
> 
> 赞同：-5
> 
> 时间：2012-10-26T06:47:37.100
> 
> 标签：java

> **可能重复：**
> [多任务、多线程和多处理之间的区别？](https://stackoverflow.com/questions/6022629/difference-between-multitasking-multithreading-multiprocessing)

多任务，多处理和多线程之间的真正区别和相似之处是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T06:51:50.583

来自维基百科：

**多**道程序是将计算机系统及其资源分配给多个并发应用程序、作业或用户（本术语中的“程序”）。

**多处理**是在单个计算机系统中使用两个或多个中央处理单元 (CPU)。

随着**多任务处理**极大地提高了计算机的吞吐量，程序员开始将应用程序实现为一组协作进程（例如，一个进程收集输入数据，一个进程处理输入数据，一个进程在磁盘上写出结果）。然而，这需要一些工具来允许流程有效地交换数据。

# android - Android 扩展 EditText

> ID：13082103
> 
> 赞同：1
> 
> 时间：2012-10-26T06:47:39.693
> 
> 标签：android, html, android-edittext, extend

似乎 EditText 可以使用 Html.fromHtml 获得有限的 html 格式，但是在添加图像时无法对其进行动画处理。使用动画 gif 不起作用，动画列表仅显示动画的第一帧。

如果有可能并且我只是在此过程中做错了什么，请告诉我。

假设不可能，我想扩展 EditText 并重写处理 HTML 的部分，以便启用动画。

可悲的是，我不知道如何做到这一点，任何指针将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T06:55:08.380

步骤#1：创建你自己的子类`ReplacementSpan`，基于`DynamicDrawableSpan`and `ImageSpan`，它处理`Drawable`is an`AnimationDrawable`和启动动画的情况。

第 2 步：通过查找现有对象 ( )、删除它们 ( ) 并添加替换 ( )，`Spanned`获取您返回的对象`fromHtml()`并将所有出现的 转换为第 1 步中自定义跨度类的出现。`ImageSpan``ImageSpan``getSpans()``removeSpan()``setSpan()`

第 3 步：祈祷它有效，而不是一个巨大的性能猪。

# java - 以编程方式设置环境变量

> ID：13082108
> 
> 赞同：-4
> 
> 时间：2012-10-26T06:48:27.537
> 
> 标签：java, classpath, environment-variables

我正在尝试`CLASSPATH`使用`runtime.exec()`.

```
String classpath = "my.jar";
String[] command1 = { "setenv", "CLASSPATH", classpath }; 
```

操作系统是Linux。

这有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:05:08.500

您不能以这种方式设置环境变量。

当您调用时，`runtime.exec()`您将创建一个新进程，该进程拥有自己的环境空间，其中包含 Java 程序环境的副本。`setenv`在该环境中运行，*但*随后该过程结束并且其环境被丢弃。

如果要更改要从当前程序启动的另一个 Java 程序的类路径，可以将修改后的环境传递给`ProcessBuilder`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:07:23.593

是的，它会抛出异常，因为：

```
A program can modify its environment variables within the process it's running. 
It can also pass those changes on to child processes. It cannot (generally) 
modify its parent's environment. 
```

没有 Java API 可以做到这一点。

# c# - 在什么条件下从 DC 加载数据

> ID：13082111
> 
> 赞同：-1
> 
> 时间：2012-10-26T06:48:29.347
> 
> 标签：c#, sql, linq, linq-to-sql

在我的应用程序中，数据是从基于特定条件的 DC 加载的，但我们不知道它是如何加载的。如果我再添加一个条件，则数据正在加载，但在提交时，不匹配的条件数据将从数据库中删除。如何在 linq 中检查数据从 Dc 到本地 DB 的位置？我们需要使任何标志为真？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:34:43.350

数据上下文中有一个日志属性。您可以在此处设置文本编写器，以便跟踪生成的查询。

[http://msdn.microsoft.com/en-us/library/system.data.linq.datacontext.log.aspx](http://msdn.microsoft.com/en-us/library/system.data.linq.datacontext.log.aspx)

您还可以执行 sql 跟踪以查看发生了什么。

# pdf - PDF字体系列和字体名称是否有正则表达式

> ID：13082117
> 
> 赞同：0
> 
> 时间：2012-10-26T06:49:03.593
> 
> 标签：pdf, fonts

我正在使用 PDF 文档中的 FontNames，并希望尽可能将它们转换为 14 种标准字体之一。一个例子是：

```
KAIKCD+Helvetica-Oblique 
```

前/后缀/修正的标点符号和值是否有标准？我发现这两个`-Oblique` `.I`和`-Italic`作为后缀都 - 大概 - 意思是斜体。还是名称在语义上是无效的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:16:27.943

前缀在[PDF 规范](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf)中定义：

> 对于字体子集，字体的 PostScript 名称——字体的 BaseFont 条目和字体描述符的 FontName 条目的值——应以标记开头，后跟加号 (+)。标签应由六个大写字母组成；字母的选择是任意的，但是同一个 PDF 文件中的不同子集应该有不同的标签。

否则只有一些常见的命名模式；Jon Tan 曾尝试在[此处](http://v1.jontangerine.com/silo/typography/naming/)列出一些目录。

# java - 在 primefaces 中单击 ESCAPE(ESC) 时关闭所有对话框

> ID：13082118
> 
> 赞同：5
> 
> 时间：2012-10-26T06:49:13.153
> 
> 标签：java, jsf, primefaces

我正在使用 4-5 个 primefaces 对话框。当单击 ESC 我想关闭所有打开的对话框。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:14:36.660

`hide()`通过指定的客户端对象调用对话框的函数`widgetVar`。所以如果你定义了你的`p:dialog`喜欢：

```
<p:dialog widgetVar="dialog1" header="Dialog 1"/>
<p:dialog widgetVar="dialog2" header="Dialog 2"/> 
```

您的 ESC 按钮应如下所示：

```
<p:commandButton value="ESC" onclick="dialog1.hide();dialog2.hide()"/> 
```

您还可以创建一个可重用`p:remoteCommand`的来关闭所有对话框并在您的`p:commandButton`或其中使用它`p:hotkey`- 如果通过“单击 ESCAPE”您的意思是点击 Escape 按钮：

```
<p:remoteCommand name="closeAll" onsuccess="dialog1.hide();dialog2.hide()"/> 
```

然后在您的组件中引用`closeAll()`命令：

```
<p:hotkey bind="esc" handler="closeAll()"/>
<p:commandButton value="ESC" onclick="closeAll()"/> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-06-04T08:02:02.070

虽然帖子很旧，但答案是一个静态解决方案，这是一个使用 jQuery 的动态解决方案。

```
function escDialog() {
   $(document).keyup(function(e) {
       if (e.keyCode == 27) { // esc code is 27 
           closeAllDialog() ;
       }   
   });
}

function closeAllDialog() {
   for (var propertyName in PrimeFaces.widgets) {
     if (PrimeFaces.widgets[propertyName] instanceof PrimeFaces.widget.Dialog ||
         PrimeFaces.widgets[propertyName] instanceof PrimeFaces.widget.LightBox) {
         PrimeFaces.widgets[propertyName].hide();
     }
   }
} 
```

然后在你的 document.ready 你会打电话`escDialog()`

希望这可以帮助。

# solaris - 挂载：权限被拒绝

> ID：13082120
> 
> 赞同：0
> 
> 时间：2012-10-26T06:49:18.617
> 
> 标签：solaris, mount, sparc

我正在尝试在 solaris sparc 5.11 上安装一个 solaris sparc 5.10 目录，例如

root> mount S5.10Machine:/mydir /mydir

我得到

nfs mount S5.10Machine:/mydir 权限被拒绝。

我已在 S5.10Machine:/mydir 上授予 777 权限

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T06:40:42.997

如果您尝试挂载 nfs 共享，请确保您在 /etc/dfs/dfstab 中有预设。

[男人分享](http://www.bga.org/~lessem/psyc5112/usail/man/solaris/share.1.html)

有 rw 选项，设置访问权限。

如果你想挂载 nfs 共享，正确的命令是：

```
mount -F nfs S5.10Machine:/mydir /mydir 
```

# php - 上传后，我的上传表单页面未重定向到thank-you.php 页面

> ID：13082121
> 
> 赞同：-1
> 
> 时间：2012-10-26T06:49:23.620
> 
> 标签：php, redirect, http-redirect, output

嗨，我的上传表单页面在上传后没有重定向到thank-you.php 页面。一切都很完美我不想更改代码，只是标题没有指示页面转到thank-you.php。

这是发布数据的代码。

```
<?php
$target = "Carpics";
//$target = $target . basename( $_FILES['photo']['name']);

ini_set('display_errors',1);
error_reporting(0);
$conn = mysql_connect("localhost","admin","");
if(!$conn)
{
    echo mysql_error(); 
}
$db = mysql_select_db("upload",$conn);
if($db)
{ echo mysql_error();
    }
    $name = $_POST['name'];
    $address = $_POST['address'];
    $from_date = $_POST['from_date'];
    $to_date = $_POST['to_date'];
    $full_name = $_POST['full_name'];
    $email = $_POST['email'];
    $city = $_POST['city'];
    $tel = $_POST['tel'];
    $town = $_POST['town'];
    $country = $_POST['country'];
    $model = $_POST['model'];
    $displacement = $_POST['displacement'];
    $trans = $_POST['trans'];
    $driver = $_POST['driver'];
    $photopath1 = $target . basename( $_FILES['photo1']['name']);
    $photopath2 = $target . basename( $_FILES['photo2']['name']);
    $photopath3 = $target . basename( $_FILES['photo3']['name']);
    $photopath4 = $target . basename( $_FILES['photo4']['name']);
    for($i=1;$i<5;$i++){ 
        if($i==1){
            $target = $photopath1;
        }elseif($i==2){
            $target = $photopath2;
        }elseif($i==3){
            $target = $photopath3;
        }elseif($i==4){
            $target = $photopath4;
        }   
    $photo = addslashes(file_get_contents($_FILES['photo'.$i]['tmp_name']));
    $image = getimagesize($_FILES['photo'.$i]['tmp_name']);
        $imgtype = $image['mime'];
if(move_uploaded_file($_FILES['photo'.$i]['tmp_name'], $target))
{
echo "The file ". basename( $_FILES['photo'.$i]['name']);
}
else {
echo "Sorry, there was a problem uploading your file.";
}       
    }
    if(!$insert = mysql_query("INSERT INTO data VALUES('','$name','$address','$from_date','$to_date','$full_name','$email','$city','$tel','$town','$country','$model','$displacement','$trans','$driver','$photo', '$photopath1', '$photopath2', '$photopath3', '$photopath4','$imgtype')")); 
      echo header('Location: thank-you.php');   
?> 
```

而是显示这个 文件 img5.jpg 文件 img7.jpg 文件 Pontiac sports car.jpg 文件 volkswagen-polo.jpg

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:10:37.087

在查看您的样本时，我注意到以下内容。

```
if(move_uploaded_file($_FILES['photo'.$i]['tmp_name'], $target))  
{  
echo "The file ". basename( $_FILES['photo'.$i]['name']);  
}
else {  
echo "Sorry, there was a problem uploading your file.";  
} 
```

这发生在您尝试执行重定向之前，并且[Php.net](http://php.net/manual/en/function.header.php "php.net")声明以下内容：

> 请记住，必须在发送任何实际输出之前调用 header()，无论是通过普通 HTML 标记、文件中的空白行还是从 PHP 发送。使用 include 或 require 函数或其他文件访问函数读取代码并在调用 header() 之前输出空格或空行是一个非常常见的错误。

所以这可能是一个原因，除了你也以错误的方式使用了 header 函数。您不必在它前面放置回声。所以而不是

> echo header('位置：thank-you.php');

利用

> header('位置：thank-you.php');

这就是它打印出文件名但不执行重定向的原因。重定向之前的任何输出都无法完成。据我记得，如果您将错误处理放在 8191 上，您应该可以查看它。(E_ALL)

此外，您不会转义文件名、用户名等中的任何内容，这为用户提供了使用时髦字符甚至 SQL 注入来破坏数据库的空间。

看看[mysql_real_escape_string](http://php.net/manual/en/function.mysql-real-escape-string.php "真正的转义字符串")和最后一个注释。这个函数不会转义某些通配符，所以当你准备好时，你可能也想检查一下。并阅读：清理[用户输入](https://stackoverflow.com/questions/129677/whats-the-best-method-for-sanitizing-user-input-with-php)

# sql-server - mssql - 一个存储过程与多个存储过程

> ID：13082124
> 
> 赞同：2
> 
> 时间：2012-10-26T06:49:25.820
> 
> 标签：sql-server, stored-procedures

我有一种情况，服务器端函数（c#）应该从不同的表（t1，t2，...）数据库返回不同的选择，但参数的数量和类型总是相同的。

有一个参数`@Type`确定应返回的选择类型。

为每个编写不同的存储过程`@type`还是编写一个存储过程更好`switch(@type)`？

编辑：每个选择可能很大，大约 2000 - 3000 个字符

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:59:38.357

如果存储过程之间唯一的共同点是参数的定义，我看不出有任何理由将它们作为一个存储过程。

软件设计的原则之一是[单一职责原则](http://en.wikipedia.org/wiki/Single_responsibility_principle)——你应该将这个一般意图应用到你的存储过程中

# android - 检查从哪个市场（亚马逊、三星或谷歌）安装了应用程序？

> ID：13082127
> 
> 赞同：3
> 
> 时间：2012-10-26T06:49:34.977
> 
> 标签：android

检查是否在设备中安装了 android 应用程序的亚马逊或三星市场或谷歌播放。

假设我的 Android 手机中安装了名为 ABC 的应用程序。在我的应用程序中，我列出了手机中安装的所有应用程序，并且需要列出它们下载的市场。

如何才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:56:34.613

一种选择是将它们单独打包。如果您在某个时候决定使用任何特定于市场的功能，例如许可或应用内支付，那么无论如何您都需要这样做。

一种易于管理的方法是一个包含几乎所有内容的库项目和一些引用它并仅包含细节的迷你项目。

缺点：多个项目而不是一个。好处：可管理性、可维护性。

编辑：如果您仍然喜欢为此使用证书，此示例可以提供帮助：thomascannon.net/misc/android_apk_certificate/。

请发布您最终提出的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:02:18.837

引用[检测应用程序是否从 Android 市场下载的答案](https://stackoverflow.com/questions/986627/detect-if-app-was-downloaded-from-android-market?rq=1)

> 从 API 5 开始，您可以使用 [PackageManager.getInstallerPackageName(String)](http://developer.android.com/reference/android/content/pm/PackageManager.html#getInstallerPackageName%28java.lang.String%29)。从文档中：
> 
> 检索安装包的应用程序的包名。这确定了包裹来自哪个市场。
> 
> 要获取 Android Market 的软件包，这篇文章可能会有所帮助。

我想使用适当的设备，您可以构建一个应用程序来输出您想要识别的每个市场的包名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-28T17:43:30.953

我是这样做的（所有项目的单个 src 和 res 文件夹，每个市场的不同 LauncherActivities）：

复制您的 res 和 src 文件夹，例如 /sharedsources/

为 Google/Amazon/Samsung 创建三个新项目。
从每个项目中删除 res 和 src 文件夹

在每个项目中链接到 /sharedsources/res 和 .../src
现在创建三个新活动：
例如 GoogleLicensing、AmazonLicensing、SamsungLicensing

Google Project Manifest：将 GoogleLicensing 设置为 Launcher Activity
三星项目清单：将 SamsungLicensing 设置为 Launcher Activity
亚马逊项目清单：将 AmazonLicensing 设置为 Launcher Activity

Google 项目：从构建中删除 SamsungLicensing 和 AmazonLicensing 活动（不要删除） 三星项目：从构建中删除 GoogleLicensing 和 AmazonLicensing 活动（不要删除） 亚马逊项目：从构建中删除 SamsungLicensing 和 GoogleLicensing 活动（不要删除）

完毕。
导出每个项目。

请记住，您现在有三个 AndroidManifest，需要进行相应的编辑。另请记住，您一次只能打开一个项目。无论如何，没有理由打开多个，因为它们共享相同的来源......

实际上，我这样做是为了能够在 Linux 和 Windows 之间进行交换（我的 sharedsources 文件夹位于共享硬盘上），仅用于 1 个项目，但它也适用于不同的市场。

# django - Django 模型设计查询：使用 ManyToManyField 的任何替代方法

> ID：13082132
> 
> 赞同：0
> 
> 时间：2012-10-26T06:49:54.530
> 
> 标签：django, database-design, model

所以我有一个django项目的以下模型结构

```
class RawData(models.Model):
    user = models.ForeignKey(User)
    timestamp = models.DateTimeField()
    ...
    value = models.PositiveIntegerField()

class SummarizedData(models.Model):
    SUMMARY_DURATION = (
        ('H', 'Hour'),
        ('D', 'Day'),
        ('M', 'Month'),
        ('Y', 'Year')
    )
    user = models.ForeignKey(User)
    duration = models.CharField(max_length=1, choices=SUMMARY_DURATION)
    timestamp = models.DateTimeField()      #for keeping track of which duration's data is this
    ...
    min_max_values = models.ManyToManyField(RawData) 
```

现在我的问题与 min_max_values 有关。我只希望每个 SummarizedData 有 2 个 RawData 元组——一个对应于该持续时间内看到的最小 RawData 值，另一个对应于该值的最大值。

然而，由于一个特定的 RawData 元组可能是多个 SummarizedData 条目的最小值（例如给定小时、同一天等），我通过多对多关系将它们关联起来。但是我无法弄清楚如何识别与 SummarizedData 相关的 2 个 RawData 值中的哪个是最大值，哪个是最小值，除非我比较它们各自的值。所以到目前为止，我将在 SummarizedData 中使用 getMaxValue 和 getMinValue 等函数。

我的问题是，对于这种特定情况，是否有可能以某种方式在 SummarizedData 中包含两个字段，每个字段对应一个 RawData 字段？也许像这样？

`~~min_value = models.OneToOneField(RawData)~~`
`~~max_value = models.OneToOneField(RawData)~~`

还是我应该采用我的第一种方法？

## **已编辑**

抱歉，我应该使用 ForeignKey 而不是 OneToOneField

```
min_value = models.ForeignKey(RawData)
max_value = models.ForeignKey(RawData) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:08:06.240

由于以下原因，我认为您不应该将数据存储为 ManyToMany 字段：

1.  您将不得不编写显式函数来确定哪些值是最小值，哪些是最大值
2.  如果分别存储最小值或最大值，任何聚合操作（如平均值、求和、最小值、最大值）或排序等（如果以表格格式显示）都会更容易。

它将节省大量额外的计算，并且您将需要更少的代码行来执行所需的操作，因此我建议您对 min_value 和 max_value 使用单独的 ForeignKey 字段

```
min_value = models.ForeignKey(RawData)
max_value = models.ForeignKey(RawData) 
```

# javascript - js函数队列

> ID：13082139
> 
> 赞同：1
> 
> 时间：2012-10-26T06:50:20.770
> 
> 标签：javascript, html, node.js, canvas, webgl

所以基本上我想要做的是有一个我可以添加的函数队列。假设这些函数像在 requestAnimationFrame 中一样将东西绘制到画布上。

我试过的：

```
var drawQueue = [];
function animate() {
    while (drawQueue.length !== 0) {
        drawQueue.shift()();
    }
    requestAnimationFrame(function () {
        animate();
    });
} 
```

有了这个，我试图添加如下内容：

```
drawQueue.push(drawthing(0,0,0,0)); 
```

这只会运行函数并将 undefined 推送到数组，如果你这样做，这将如何工作：

```
drawQueue.push(function () {
    console.log("derp");
}); 
```

或者

```
drawQueue.push(functionName); //with no args 
```

但这里的问题是我需要将参数传递给我正在调用的大多数函数。

我的第二次尝试：

```
var drawQueue = [];
function animate() {
    while (drawQueue.length !== 0) {
        var data = drawQueue.shift();
        Object.apply(data.func, data.args);
    }   
    requestAnimationFrame(function () {
        animate();
    }); 
} 
```

同时向队列添加功能，例如：

```
drawQueue.push({func: functionName, args: [0,0,0,0]}); 
```

但我也无法让它工作，不是 100% 如何使用 Object.apply() 以及它到底在做什么......

所以我的问题是如何让我的函数队列或者有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:03:23.553

你不能像这样向队列中添加一些东西：

```
drawQueue.push(drawthing(0,0,0,0)); 
```

所做的只是`drawthing(0,0,0,0)`立即调用并将执行函数的返回结果推送到队列中。

* * *

相反，您需要将一个实际函数推送到队列中，如下所示：

```
drawQueue.push(function() {drawthing(0,0,0,0)}); 
```

* * *

如果您只想将函数和参数分别推送到队列中，如下所示：

```
drawQueue.push({func: functionName, args: [0,0,0,0]}); 
```

然后，您可以从队列中拉出一个项目并像这样执行它：

```
var item = drawQueue.shift();
item.func.apply(this, item.args); 
```

当您调用时`function.apply(a, b)`，它将`this`ptr 设置为第一个参数，然后使用数组`a`中的任何参数调用该函数。`b`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:01:06.883

前段时间我需要做同样的事情！看看这里：[https ://github.com/alexandernst/jniftilities#functions-queue](https://github.com/alexandernst/jniftilities#functions-queue)

这是一个小型图书馆，可以完全满足您的需求。请参阅同一链接中的评论/示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:13:16.133

`while (drawQueue.length !== 0) { var data = drawQueue.shift(); data.func(data.args); }`

并使用 an`Object`作为论点。

# iphone - UIPageViewController 无法正常工作

> ID：13082141
> 
> 赞同：0
> 
> 时间：2012-10-26T06:50:32.230
> 
> 标签：iphone, ios, cocoa-touch, uigesturerecognizer, uipageviewcontroller

我正在使用 UIPageViewController 在 webview 中加载 10 个网页。

所有网页都正确加载。但我面临一个奇怪的问题

```
- (UIViewController *)pageViewController:(UIPageViewController *)pageViewController viewControllerAfterViewController:(UIViewController *)viewController 
```

现在我在第一页。所以没有回到原点的可能

```
- (UIViewController *)pageViewController:(UIPageViewController *) pageViewController viewControllerBeforeViewController:(UIViewController *)viewController 
```

加载第一页后，我只是用 WebView 上下滚动。突然，该`viewControllerAfterViewController`方法被调用。奇怪的是，它没有移动到下一个视图，即（第二页）没有加载。

可能是什么问题呢 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T00:32:21.907

我不确定，但我认为问题出在手势识别器或 CGRects 的位置。基本上，页面视图控制器会监听触摸动作。因此，如果用户滑动滚动（在 webView 上）页面视图会尝试执行翻页。（我猜）我认为一个解决方案是确保页面视图触摸位置（CGRect）不与网络视图重叠。显然，您可以设置“UIPageViewController”的触摸位置（区域）以翻页。

您可以先在 iOS 参考库中查找“UIGestureRecognizer 类参考”。我希望这有帮助

这是我在那里找到的：

locationInView：返回计算为接收器表示的手势的给定视图中的位置的点。

*   (CGPoint)locationInView:(UIView *)view 参数 view 发生手势的 UIView 对象。指定 nil 表示窗口。返回值 本地视图坐标系中的一个点，用于标识手势的位置。如果为视图指定 nil，则该方法返回窗口基本坐标系中的手势位置。

讨论 返回值是 UIKit 框架计算的手势的通用单点位置。它通常是手势中涉及的触摸的质心。对于 UISwipeGestureRecognizer 和 UITapGestureRecognizer 类的对象，该方法返回的位置对于手势具有特殊的意义。这种重要性记录在这些类的参考中。

可用性 适用于 iOS 3.2 及更高版本。另请参阅 – locationOfTouch:inView：在 UIGestureRecognizer.h 中声明 locationOfTouch:inView：返回给定视图的本地坐标系中手势触摸的位置。

*   (CGPoint)locationOfTouch:(NSUInteger)touchIndex inView:(UIView *)view 参数 touchIndex UITouch 对象在接收者维护的私有数组中的索引。这个触摸对象代表当前手势的触摸。手势发生在其上的 UIView 对象。指定 nil 表示窗口。返回值 本地视图坐标系中的一个点，用于标识触摸的位置。如果为视图指定 nil，则该方法返回窗口基本坐标系中的触摸位置。

可用性 适用于 iOS 3.2 及更高版本。另请参阅 – locationInView：在 UIGestureRecognizer.h 中声明

# jquery - 按钮单击而不是悬停时出现在其他地方的 JqueryUI 工具提示

> ID：13082145
> 
> 赞同：16
> 
> 时间：2012-10-26T06:50:55.303
> 
> 标签：jquery, html, jquery-ui, jquery-plugins

我正在使用***JQueryUI 工具提示***向用户显示一些动态消息。基本上，我想在用户单击按钮时在输入字段顶部显示工具提示。

我编写它的方式仅在将鼠标悬停在按钮顶部时才有效，而在 JQueryUI 示例中，对于实现这种情况没有任何帮助。我与悬停效果有何不同并使其与按钮的单击事件一起使用？我怎样才能做到这一点？

我正在使用`jquery-ui-1.9.0.custom.js`和`jquery-1.8.2.js`为此。

**HTML 代码：** 我想在此输入框顶部显示消息

```
<input id="myInput" type="text" name="myInput" value="0" size="7" /> 
```

我单击以弹出工具提示的按钮

```
<input id="myBtn" type="submit" name="myBtn" value="myBtn" title="this is not used" class="myBtn" /> 
```

**jQuery 代码**

```
$(document).ready(function() {
    $(".myBtn").tooltip({
               content: function () {
                  return '<span id="msg">Message</span>';
               },
               position: {
                  my: "center bottom",
                  at: "center top"
               }
            });
}); 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-26T09:14:38.583

最简单的方法是删除 title 属性`myBtn`并将您的工具提示移动到另一个元素上。例如：

```
<a id="myTooltip" title="Message"></a> 
```

然后你可以这样做：

```
$('#myTooltip').tooltip({
    //use 'of' to link the tooltip to your specified input
    position: { of: '#myInput', my: 'left center', at: 'left center' }
});

$('#myBtn').click(function () {
    $('#myTooltip').tooltip('open');
}); 
```

同样，您可以关闭工具提示

```
$('#myTooltip').tooltip('close'); 
```

* * *

要在打开后自动关闭工具提示，您只需调用事件`close`内部的方法`open`：

```
$('#myTooltip').tooltip({
    open: function (e) {
        setTimeout(function () {
            $(e.target).tooltip('close');
        }, 1000);
    }
}); 
```

使用`e.target`（因为在事件中`this`不起作用）并设置时间限制，之后工具提示将关闭。`open``setTimeout()`

# c# - 从母版页获取 div 的高度

> ID：13082148
> 
> 赞同：2
> 
> 时间：2012-10-26T06:50:58.337
> 
> 标签：c#, asp.net

如何获得`div`放置在母版页内的 a 的高度？

我可以设置高度如下：

```
((HtmlControl)this.Master.FindControl("sidebar")).Style.Add("height", "600px"); 
```

现在我正试图从我的`div`被叫中获得高度，我`mainPage`该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:21:13.140

MasterPage.Master：

```
<div id="_test" style="height: 100px" runat="server"></div> 
```

MasterPage.Master.cs：

```
public HtmlGenericControl test
{
    get { return this._test; }
} 
```

任何其他cs文件：

```
string width = ((MasterPage)this.Master).test.style["height"]; 
```

**编辑**：如果您想获取动态创建的任何样式信息，您需要将此信息存储到隐藏字段中，因为您将无法通过在回发中调用 style["x"] 来检索数据。

**Edit2**：调整后的母版页名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:13:42.017

您必须在客户端获取 div 的高度，因为每个客户端的呈现方式可能不同......

使用 jQuery，你可以做到

```
$("#sidebar").height(); 
```

但为此，您必须等待文件准备好。所以你可以把这一行放在`ready`函数中`document`：

```
$(document).ready(function(){}); 
```

**编辑**

另一个解决方案是添加`runat="server"`到您的`div`

```
<div ID="sidebar" runat="server">...</div> 
```

然后从您的代码中您可以执行类似的操作

```
HtmlGenericControl sb = this.form1.FindControl("sidebar") as HtmlGenericControl;
int sidebarHeight = sb.Height; 
```

# objective-c - 在 Xcode 项目目标构建设置中，什么是 Mach-O 类型？

> ID：13082149
> 
> 赞同：33
> 
> 时间：2012-10-26T06:50:58.953
> 
> 标签：objective-c, ios, xcode, linker, llvm

在厌倦了无数的 Match-O 链接器错误之后，我想知道这件事是什么意思。我想知道这些事情背后的概念，而不是反复试验的解决方案。具体来说，我想知道两者之间的区别：

1.  可执行文件
2.  动态库
3.  捆
4.  静态库
5.  可重定位目标文件

这些是我在链接部分单击 Mach-O 类型设置时出现的选项。一些小的定义或一些指向适当内容的链接也可以。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-10-26T07:13:51.970

[Mach-O](http://en.wikipedia.org/wiki/Mach-O)是 Mach 目标文件格式的缩写，是一种用于可执行文件、目标代码、共享库、动态加载代码和核心转储的文件格式。对于 unix 用户来说，这很像`a.out`，但有改进。这是 Mac OS X 和 iPhone OS 库中用于可执行文件的格式。

如您所知，iOS 设备（iPhone、iPad 等）具有不同的架构 ARMv6（iPhone 2G + 3G、iPod Touch）和 ARMv7（iPhone 3GS、iPod Touch 2G + 3G），但 Xcode 中使用的模拟器主要在 i386 平台上运行。这意味着库客户端必须为模拟器和设备设置单独的目标。单独的目标复制了大部分信息，仅在包含的静态库中有所不同。因此，如果您遇到 Mach-O 链接器错误，这意味着 xcode 无法链接到该目标设备的库之一；结果编译失败。

现在你的定义 -

1.  可执行 - 已编译的机器目标程序，准备好以二进制格式运行。
2.  动态库 - 在运行时链接 - 引用动态库的程序将在启动时（或按需）加载并与库链接。
3.  捆绑包 - 捆绑包标识符让 iOS 和 OSX 能够识别您的应用程序的任何更新。它使其在应用程序中具有独特的存在感。
4.  静态库 - 文件在构建时链接。代码被复制到可执行文件中。程序未引用的库中的代码将被删除。只有静态库的程序在运行时没有任何依赖关系。
5.  可重定位目标文件 - 是动态库的另一个词。当您与动态库链接时，会根据库在内存中的加载位置计算其中包含的函数的地址。它们是“可重定位的”，因为包含函数的地址不是在链接时确定的。（在静态库中，地址是在链接时计算的。）

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-26T07:14:43.213

根据苹果文档，

![Mach-O 类型定义](../Images/0c0974074d5673a3f45e44649d5eed8d.png)

检查此以获取更多详细信息[构建 Mach-O 文件](https://developer.apple.com/library/mac/#documentation/developertools/conceptual/MachOTopics/1-Articles/building_files.html)和[Xcode 构建设置参考](https://developer.apple.com/library/mac/#documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html)

# java - 如何从 jar 文件运行类文件，其中类文件位于 bin 文件中

> ID：13082153
> 
> 赞同：1
> 
> 时间：2012-10-26T06:51:10.833
> 
> 标签：java, eclipse, class, exception, bin

我已经使用该命令`jar -cvf myjar.jar javaproject`来创建整个 Java 项目的 jar 文件

我无法从 jar 文件运行类文件，我在命令提示符下给出了这样的命令：

```
D:\Automation>java -cp myjar.jar bin.Test.First 
```

发生以下异常：

```
Exception in thread "main" java.lang.NoClassDefFoundError: bin/Test
Caused by: java.lang.ClassNotFoundException: bin.Test.First
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Metho
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Sourc
        at java.lang.ClassLoader.loadClass(Unknown Source)
Could not find the main class: bin.Test.First.  Program will exit. 
```

我在 Eclipse 中的项目结构如下：

```
javaproject 
  |
  |- src 
     |
     |- package(Test)
        |
        |- First.java 
```

注意：class文件来自bin文件夹，而我在Eclipse中保存了Test.java文件，其中src不是系统创建文件夹，是Eclipse创建的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:02:54.437

你有最简单的替代方法来创建一个罐子`eclipse IDE`

[请参阅此处](http://www.cs.utexas.edu/~scottm/cs307/handouts/Eclipse%20Help/jarInEclipse.htm)并按照这些步骤创建一个 jar 。

要运行，请从命令提示符移至 bin 文件夹

```
 >java -cp path/to/jar/ classname 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:04:46.480

仅将目录的内容添加`bin`到 JAR。如果您感到困惑，一个简单的方法是选择`bin`目录的内容并将它们添加到 zip 存档并将扩展名更改为`jar`. 然后你可以使用

```
java -cp myjar.jar Test.First 
```

而且由于您使用的是eclipse，因此请转到

```
File --> Export --> Runnable Jar File 
```

这种方式只需使用

```
java -jar myjar.jar 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T06:54:14.757

您需要省略 bin 文件夹。利用

```
jar cvf myjar.jar -C bin . 
```

创建 jar 文件。该`-C`选项告诉在创建 jar 文件之前`jar`进入指定的文件夹（在这种情况下）。`bin`

然后使用

```
java -cp myjar.jar Test.First 
```

运行您的应用程序。该`bin`文件夹不是 Java 包结构的一部分。

# c# - 如何将函数传递给项目中包含的不同 DLL 作为参考

> ID：13082154
> 
> 赞同：0
> 
> 时间：2012-10-26T06:51:11.620
> 
> 标签：c#, dll

我已经引用了一个 DLL（我有这个的源代码）说 Dll_A 其中有一个函数

```
private void uploadPic(int a) 
```

在我的主要项目中，我有一个功能说

```
private void passMe(int b)
{
} 
```

我需要将上述函数 ( `passMe`) 传递给`uploadPic`Dll_A 中的函数，我该怎么做？可能吗？我可以从我的主项目中使用 Dll_A 的函数，所以实例化不是问题，我只需要一种传递函数的方法。

=== 谢谢，试试看。如果有人可以编辑下面的代码

```
//code in main project  picbackman.cs
public delegate void delObj(int v);
private void uploadSome(string path, string fName, string str)
{
delObj del1 = new delObj(updatePValue);
UploadFileResponse response =  boxProvider1.UploadFiles(args1, folderString, ((Picbackman.BoxProvider.delObj)( del1)));
}
//code in different dll which is referenced in main project //Dll_A                     

public delegate void delObj(int v);
public UploadFileResponse UploadFiles(string[] filePathes,string folderId, delObj d)
{} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:39:35.230

首先，您的*方法*需要接受委托作为其参数之一。那会是这样的

```
private void uploadPic(Action<int> func,int a){
   //at some point do func(someInt);
} 
```

在另一点声明另一个方法或函数

```
public class someClasse {
   public vois passMe(int b){
  ...
  }
} 
```

首先请注意访问修饰符已更改。如果它们不在同一个类中，则您将需要能够从另一个类中访问它们，因此它们不能都是私有的，并且由于它们位于不同的程序集中，因此内部也无法正常工作。

当你需要委托时这样做

```
var obj = new someClass();
var myInt = 5; //or whatever the value is
uploadPic(obj.passMe,myInt); 
```

请注意，该方法与 out 参数一起使用。当使用不带参数的方法时，编译器将尝试将其转换为合适的委托。

我建议您不要使用`delegate`但坚持使用 Func/Action 它们是代表但更通用

```
public delegate void DelObj1();
public delegate void DelObj2()

public void F(){};

var del1 = new DelObj1(F);
var del2 = new DelObj2(F); 
```

即使您对每个都使用相同的方法，也不能在需要 DelObj2 的地方传递 del1。如果您使用 Action/Function，您将不会遇到该问题

```
Action del1 = F;
Action del2 = F; 
```

原因是 DelObj1 和 DelObj2 是具有相同基类的两个不同类，即它们是类型树中的兄弟。`Action`del1 和 del2 的使用类型相同

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T06:56:06.777

你应该看看[`Delegates`](http://msdn.microsoft.com/en-us/library/ms173172%28v=vs.80%29.aspx)。

从文档中：

> 委托是一种引用方法的类型。一旦为委托分配了一个方法，它的行为就与该方法完全相同。委托方法可以像任何其他方法一样使用，带有参数和返回值

和

> 委托允许方法作为参数传递

因此，在您的情况下，您应该能够执行以下操作：

```
// define the delegate
public delegate int PictureDelegate(int value)

// define your passMe function (in the class MyClass for example)
public int passMe(int value)
{
    return value + 1;
}

// when you want to use it
MyClass myInstance = new MyClass();
PictureDelegate passFunc = new PictureDelegate(myInstance.passMe);
myDll.uploadPic(passFunc, 12); 
```

# objective-c - UIScrollView 不适用于 EXC_BAD_ACCESS

> ID：13082157
> 
> 赞同：1
> 
> 时间：2012-10-26T06:51:36.507
> 
> 标签：objective-c, ios, uiscrollview, subviews

我有一个滚动视图，它是视图的子视图，并且有子视图。问题是这样的：scrollView 带有黑色背景（因为我设置了透明）并且也不起作用。scrollView 与`IBOutlet`. 我重做了两次XIB，需要修复什么？当我将 scrollView 添加为视图的子视图时：

```
 [self.view addSubview:self.scrollView]; 
```

我在运行时收到此错误：

```
 0x132b61:  calll  0x132b66;   CA::Layer::ensure_transaction_recursively(CA::Transaction*) + 14
   EXC_BAD_ACCESS(code=2 address=0xbf7ffffc) 
```

如果我不在代码中将其添加为子视图，则视图控制器将打开并且滚动视图为黑色且不滚动。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T15:16:11.220

您可能正在某个地方做某事，例如：

```
[myScrollView addSubview:myAnotherView];
[myAnotherView addSubview:myScrollView]; 
```

这会引发不必要的递归。检查你的代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:04:55.460

检查您是否使用带有框架的滚动视图进行初始化：

```
self.scrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 0, 280, 360)]; 
```

还要记住将 contentSize 设置为大于 frame，例如：

```
self.scrollView.contentSize = CGSizeMake(2*280, 360); 
```

还在您的界面中添加委托：

```
<UIScrollViewDelegate> 
```

并委托它：

```
self.scrollView.delegate = self; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-29T17:06:44.757

在我的情况下，我有一个 UIView 收到相同的错误。就我而言，我忘记为我的视图创建一个 IBOutlet。一旦我这样做了，错误就消失了。

# javascript - jquery弹出窗口不登录/注册工作

> ID：13082158
> 
> 赞同：0
> 
> 时间：2012-10-26T06:51:36.783
> 
> 标签：javascript, jquery, asp.net, html

我想为登录/注册制作一个弹出窗口。所以我写了这段代码。 **但不工作...**

**.css**

```
#main_box
{
    border: 1px solid black;
    height: 300px;
    left: 34%;
    position: fixed;
    top: 32%;
    width: 300px;
}

#close_btn
{
    float: right;
}

#main_box
{
    display: none;
}

#box_a, #box_b
{
    float: left;
}

#box_a, #box_b, #box_c
{
    border: 1px solid black;
    height: 82px;
    width: 82px;
    margin: 10px;
}
</style> 
```

**.js**

```
 <script type="text/javascript">
            $(document).ready(
        function () {
            $('#login_btn').click(
                    function () { $('#main_box').show(); }
                );       
            $('#forgt_p').click(
                    function () { $('#box_c').show(); }
                );    
            $('#close_btn').click(
                    function () { $('#main_box').hide(); }
                );
         }
         );
     </script> 
```

**.aspx**

```
 <a href="javascript:;" id="login_btn">login</a>

    <div id="main_box">         

        <button id="close_btn" name="close">close</button>
        <div id="box_a">                      
            //////////////////////login code
        </div>

        <div id="box_b">
            //////////////////////signup code            </div>
        <div style="clear: left;"></div>
             <a href="javascript:;" id="forgt_p">forgot password</a>

        <div id="box_c">
             //////////////////////forgot password code
        </div>

</div> 
```

还想**在按下转义时关闭**它，并通过 jquery 使其尽可能顺利地工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T06:55:35.000

您应该考虑令人惊叹的[JQueryUI](http://jqueryui.com)插件，例如[对话框](http://jqueryui.com/dialog/#modal-message)

它允许创建具有大量选项的 CSS 样式对话框：

```
$(function() {
    $( "#dialog-message" ).dialog({
        modal: true,
        buttons: {
            Ok: function() {
                $( this ).dialog( "close" );
            }
        }
    });
}); 
```

# php - 从服务器下载文件超时

> ID：13082164
> 
> 赞同：0
> 
> 时间：2012-10-26T06:52:04.530
> 
> 标签：php, curl, download

当我尝试从服务器下载一些文件时，出现以下代码超时

```
<?php

$ch = curl_init();

$source=array("landshop_formdata.sql","landshop_clientdata.sql","landshop_blogs.sql","landshop_counter.sql","landshop_hitems.sql");

$sourcepath = "http://www.landshoppe.com/";

$root = "C:\Program Files\EasyPHP-5.3.8.1\www\Landshoppe/Downloaded Dbs/";

foreach($source as $bkup){
$source=$sourcepath.$bkup;

curl_setopt($ch, CURLOPT_URL, $source);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$data = curl_exec ($ch);

$destination = $root.$bkup;
$data = file_get_contents($source);
$file = fopen($destination, "w+");
fputs($file, $data);
fclose($file);
}
?> 
```

应该是什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T06:55:06.573

为避免超时问题，您可以通过在服务器端代码顶部添加以下行来禁用它：

```
set_time_limit(0); // no time limit 
```

或者，您可以设置一个足够长的超时时间，以通知您的用户如果没有发生任何事情发生了问题。

# c# - 如何使用 Encoding.Convert 删除特定字符

> ID：13082165
> 
> 赞同：1
> 
> 时间：2012-10-26T06:52:08.930
> 
> 标签：c#, .net, encoding, utf-8, character-encoding

我通过 WebClient 将签名的 XML 发送到网关。现在我必须确保节点值只包含德语字母。我有 2 个测试词。第一个通过使用得到很好的转换：

```
string foreignString = "ŁůjęŁĄü";
Encoding utf8 = Encoding.UTF8;
Encoding iso = Encoding.GetEncoding("ISO-8859-1");
byte[] utfBytes = Encoding.Convert(iso, utf8, iso.GetBytes(foreignString));
string result = utf8.GetString(utfBytes); 
```

但在第二个字符串中是一个字符，它也包含在 UTF-8 编码中。它的

```
ç (Latin small letter c with cedilla) 
```

在用其他编码进行了一些测试后，我总是得到相同的结果：字符总是在那里。有什么意义，因为它是 UTF-8 表的一部分 :)

所以我的问题是：有没有办法在不删除德语变音符号的情况下掩盖所有法语、葡萄牙语和西班牙语字符？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:36:05.540

`Encoding`您可以使用附加的特殊规则基于 ISO-8859-1 编码创建自己的类：

```
class GermanEncoding : Encoding {

  static readonly Encoding iso88791Encoding = Encoding.GetEncoding("ISO-8859-1");

  static readonly Dictionary<Char, Char> charMappingTable = new Dictionary<Char, Char> {
    { 'À', 'A' },
    { 'Á', 'A' },
    { 'Â', 'A' },
    { 'ç', 'c' },
    // Add more mappings
  };

  static readonly Dictionary<Byte, Byte> byteMappingTable = charMappingTable
    .ToDictionary(kvp => MapCharToByte(kvp.Key), kvp => MapCharToByte(kvp.Value));

  public override Int32 GetByteCount(Char[] chars, Int32 index, Int32 count) {
    return iso88791Encoding.GetByteCount(chars, index, count);
  }

  public override Int32 GetBytes(Char[] chars, Int32 charIndex, Int32 charCount, Byte[] bytes, Int32 byteIndex) {
    var count = iso88791Encoding.GetBytes(chars, charIndex, charCount, bytes, byteIndex);
    for (var i = byteIndex; i < byteIndex + count; ++i)
      if (byteMappingTable.ContainsKey(bytes[i]))
        bytes[i] = byteMappingTable[bytes[i]];
    return count;
  }

  public override Int32 GetCharCount(Byte[] bytes, Int32 index, Int32 count) {
    return iso88791Encoding.GetCharCount(bytes, index, count);
  }

  public override Int32 GetChars(Byte[] bytes, Int32 byteIndex, Int32 byteCount, Char[] chars, Int32 charIndex) {
    return iso88791Encoding.GetChars(bytes, byteIndex, byteCount, chars, charIndex);
  }

  public override Int32 GetMaxByteCount(Int32 charCount) {
    return iso88791Encoding.GetMaxByteCount(charCount);
  }

  public override Int32 GetMaxCharCount(Int32 byteCount) {
    return iso88791Encoding.GetMaxCharCount(byteCount);
  }

  static Byte MapCharToByte(Char c) {
    // NOTE: Assumes that each character encodes as a single byte.
    return iso88791Encoding.GetBytes(new[] { c })[0];
  }

} 
```

此编码基于您希望使用 ISO-8859-1 编码以及一些附加限制的事实，您希望将“非德语”字符映射到其 ASCII 等效字符。内置的 ISO-8859-1 编码知道如何映射`Ł`到`L`，因为 ISO-8859-1 是单字节字符集，您可以对字节进行额外的映射，因为每个字节对应一个字符。这是在`GetBytes`方法中完成的。

您可以使用以下代码“清理”字符串：

```
var encoding = new GermanEncoding();
string foreignString = "ŁůjęŁĄüç";
var bytes = encoding.GetBytes(foreignString);
var result = encoding.GetString(bytes); 
```

结果字符串是`LujeLAüc`.

请注意，该实现非常简单，它使用字典来执行字节的附加映射步骤。这可能效率不高，但在这种情况下，您可以考虑使用 256 字节映射数组等替代方法。此外，您需要扩展`charMappingTable`以包含您要执行的所有其他映射。

# android - 选择特定版本的 Eclipse 进行 Android 开发背后的原因是什么？

> ID：13082168
> 
> 赞同：0
> 
> 时间：2012-10-26T06:52:19.133
> 
> 标签：android, eclipse

Android[网站](http://developer.android.com/sdk/installing/installing-adt.html)说 - “我们推荐“Eclipse Classic”版本。否则，您应该使用 Java 或 RCP 版本的 Eclipse。”

但是《Hello Android》一书（第 3 版）说 Eclipse Classic 还不够。改为获取适用于 Java 开发人员的 Eclipse。

我总是使用官方文档。但是，我想知道——

哪个版本的 Eclipse 适合 Android 开发以及为什么（为什么很重要）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T06:59:59.330

使用 Eclipse，您可以获得为 android 构建的[ADT 插件和其他开发人员工具。](http://developer.android.com/tools/sdk/eclipse-adt.html)它也是开源的，你会得到很多很酷的插件来配合 eclipse。除此之外，真的没有理由特别推荐eclipse。这是一个很好的 IDE，但也有其他的，例如[IntelliJ IDEA](http://www.jetbrains.com/idea/)、[NetBeans](http://netbeans.org/)等。

这真的是一个偏好问题。如果您愿意，您甚至可以跳过所有 IDE 并转到命令行 :-)

在不同版本的eclipse中，有很多不同之处。这是来自 eclipse 的比较页面，详细说明了这些差异：

[http://www.eclipse.org/downloads/compare.php](http://www.eclipse.org/downloads/compare.php)

Eclipse for Java 预包含 EGit、MyLyn、XML 工具等，如果计划使用它们，这些工具在 android 开发中很有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-27T08:17:27.927

这些不同下载包之间的唯一区别是预安装了哪些插件/功能（因此无法卸载）。如果您随后在其中任何一个中安装 ADT，安装管理器将确保自动添加所有缺少的必备插件（如 Java 开发工具和 Web 服务工具）。这意味着，*任何*对 Android 开发都有好处，它们仅在已安装的“奖励”插件上有所不同。

因此，您还可以为您的平台下载更小的 Eclipse 运行时二进制文件，将其指向 ADT 安装并让它运行。这将为安装在 Eclipse 中的 ADT 生成尽可能少的必要插件选择。

唯一真正重要的区别下载包的情况是，如果您必须在没有 Internet 连接的机器上安装它，因为显然安装管理器无法下载附加的必备插件。

# cordova - 无法使用phonegap将图像从服务器下载到黑莓模拟器

> ID：13082169
> 
> 赞同：0
> 
> 时间：2012-10-26T06:52:21.997
> 
> 标签：cordova, blackberry, blackberry-webworks

我无法将图像从服务器下载到黑莓设备 我得到 0kb 大小的图像

我需要添加一些功能或权限吗？

而且，我们是否需要像 android 一样将 url 列入白名单才能下载图片？这是代码

```
function downloadFile(dcim, img_arr, index) {
alert("download called");
alert("value of index is" + index);

if (index == img_arr.length) {
    displayImageGallery(dcim);
    return;
}

var image_url = img_arr[index]['image_url'];
alert("the image url is" + image_url);

var localFileName = image_url.substring(image_url.lastIndexOf('/') + 1);

dcim.getFile(localFileName, {
    create : true,
    exclusive : false
},
        function(fileEntry) {
            var localPath = fileEntry.fullPath;
            if (device.platform === "Android"
                    && localPath.indexOf("file://") === 0) {
                localPath = localPath.substring(7);
            }
            var ft = new FileTransfer();
            ft.download(image_url, localPath, function(entry) {
                downloadFile(dcim, img_arr, index + 1);
            }, function() {
                alert("Error While Downloading File");
            });
        }, fail); 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T16:44:12.280

您可以通过编辑 config.xml 文件并为需要连接的每个外部域创建访问元素来将外部域列入白名单。

这是一个例子：

```
<access subdomains="true" uri="http://twitter.com" />
<access subdomains="true" uri="http://myimagedomain.com" /> 
```

可以在此处找到有关此访问元素的文档： [https ://developer.blackberry.com/html5/documentation/access_element_834677_11.html](https://developer.blackberry.com/html5/documentation/access_element_834677_11.html)

希望有帮助。

# ruby-on-rails - 如果我有文件夹层次结构，查找文件夹大小？

> ID：13082173
> 
> 赞同：0
> 
> 时间：2012-10-26T06:53:10.043
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我正在尝试准确获取文件夹大小..我的文件夹是这样排列的

![文件夹结构](../Images/9da8e19c6e86a440f3abb420e6727d58.png)

m 对所有文件夹使用 parent_folder_id。如果文件夹是根文件夹 parent_folder_id 为零。对于子文件夹 parent_folder_id 是连续的文件夹/子文件夹 ID。现在我想准确显示文件夹大小，即包括子文件夹大小。由于它是一个无限的层次结构，我对循环有点困惑。我也想显示子文件夹大小。

任何人都可以建议我的解决方案。提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:09:27.867

利用[`acts_as_tree`](https://github.com/rails/acts_as_tree/blob/master/lib/active_record/acts/tree.rb)

在您的模型中添加以下方法

```
def all_children
  all = []
  self.children.each do |category|
    all << category
    root_children = category.all_children.flatten
    all << root_children unless root_children.empty?
  end
  return all.flatten
end 
```

然后调用方法

```
@subfolder_children = @subfolder.all_children 
```

# java - 绕过警报“您要运行此应用程序吗”

> ID：13082178
> 
> 赞同：0
> 
> 时间：2012-10-26T06:53:38.403
> 
> 标签：java, applet, security

有没有办法将**自签名证书转换为受信任**的证书？

那么我可以绕过警报吗？

![在此处输入图像描述](../Images/ae4043546330ff6814afad2f85dfc5c1.png)

我有一个小程序试图在用户的机器上运行一些应用程序。

我正在使用自签名的 jar。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-26T06:56:00.893

不，您无法阻止该警告出现。它的存在完全是为了防止开发人员做你想做的事情，因为未经许可运行可执行文件可能会对最终用户的系统和个人数据造成危险。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T19:30:35.587

您必须在卸载 Java 或使用旧版本之间做出选择。否则，您必须确定您曾经使用过的每一个 JSP 页面。永远不要升级您的 Java，因为它会重置所有这些警告，并且您将不得不重新完成整个过程。我们的内部 LAN 使用 JSP 应用程序作为 Oracle 数据库的前端，每次升级 Java 时，我都必须选中此框约 2 到 300 次。我终于安装了一个旧版本。如果甲骨文试图让人们更不愿意升级 Java，那就太好了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-25T16:32:07.370

另一种选择是打开一个页面，接受并运行应用程序，然后让页面保持打开状态。添加一个新选项卡再次打开页面，您将不会收到警告。

# asihttprequest - ASINetworkQueue 没有设置 DownloadDestinationPath

> ID：13082181
> 
> 赞同：0
> 
> 时间：2012-10-26T06:54:01.023
> 
> 标签：asihttprequest, ios5.1, imagedownload

我想从我希望使用的服务器获取多个图像`ASINetworkQueue`。`setDownloadDestinationPath:path`我想知道是否有必要使用for`ASIHTTPRequest`对象设置 downloadDestinationPath 。有没有办法在`ASINetworkQueue`不设置 DownloadDestinationPath 的情况下使用？如果是这样，该怎么做？此外，一旦将图像下载到 Documents 目录中，它们会发生什么。我不想堆积所有的图像，因为我的项目涉及到大量使用图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T10:42:56.537

在将它们添加到 ASINetworkQueue 对象之前，我使用`tag`ASIHTTPRequest 对象的属性为我的每个请求设置不同的标签。

```
ASIHTTPRequest *request;
    request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:[imageURLDictionary objectForKey:@"test1"]]];
    request.tag=1;
    [networkQueue addOperation:request];

    request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:[imageURLDictionary objectForKey:@"test2"]]];
    request.tag=2;
    [networkQueue addOperation:request];

    request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:[imageURLDictionary objectForKey:@"test3"]]];
    request.tag=3;
    [networkQueue addOperation:request];
[networkQueue go]; 
```

并在委托方法中处理成功和失败。

```
- (void)imageFetchComplete:(ASIHTTPRequest *)request
{
if (request.tag==1) {
    _image1.image=[UIImage imageWithData:request.responseData];
}
if (request.tag==2) {
    _image2.image=[UIImage imageWithData:request.responseData];
}
if (request.tag==3) {
    _image3.image=[UIImage imageWithData:request.responseData];
}
} 
```

# html - 清除表单中的文本字段并重新提交

> ID：13082185
> 
> 赞同：1
> 
> 时间：2012-10-26T06:54:53.940
> 
> 标签：html, forms

我有一个 html 表单（在 php 中生成），其中还包含一个文本字段。要提交表单，我使用提交按钮，结果显示在页面左侧。现在，我想添加另一个按钮来清除文本字段中的文本并重新提交表单（`value=""`在文本字段中）。你知道怎么做吗？简单`<input type="reset">`不提交表单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T06:59:52.747

你的按钮应该是这样的：

```
<input type="button" onclick="DeleteText();" value="Delete text" /> 
```

和你的 javascript 代码：

```
function DeleteText() {
   document.getElementById('my_text_input_id').value = '';
   document.getElementById('my_form_id').submit();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:00:35.247

假设文本框有`id="myText"`，新按钮有`id="clearBtn"`，表单有`id=myForm`。您可以执行以下操作：

```
$(#clearBtn).on("click",function() {
    $('#myText').val("");
    document.forms["myForm"].submit();
}) 
```

这是未经测试的，但提出了一个想法。此外，这是一个 jquery 解决方案，在大多数情况下，我推荐使用纯 javascript。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-03T15:19:38.687

HTML5 为我们带来了“占位符”属性，它允许对此进行纯 CSS 实现。

```
<input type="text" name="focus" required class="search-box" placeholder="Enter search term" /> 
```

我已经成功使用了 Shidhin 的解决方案，在这里找到：

[http://codepen.io/shidhincr/pen/ICLBD](http://codepen.io/shidhincr/pen/ICLBD)

# javascript - 如果没有文件输入，则禁用文件拖放

> ID：13082192
> 
> 赞同：6
> 
> 时间：2012-10-26T06:55:14.613
> 
> 标签：javascript, file-upload, drag-and-drop, fileapi

我认为解决这个问题的方法正盯着我看，但我似乎找不到。

所以，我正在制作一个有一个小文件上传部分的网站。上传部分将有一个地方为不同的设备和设备方向（即 iPhone、iPad、纵向和横向）上传图像。我可以很容易地弄清楚如何在单个设备图标上实现拖放，但是如果用户错过了放置区域，浏览器只会导航到他们系统上的那个图像。如果没有文件输入类型来接收拖动的文件，如何禁用拖放？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-26T07:23:14.120

本文档（jQuery 文件上传插件的文档）展示了如何禁用浏览器的默认操作： [https ://github.com/blueimp/jQuery-File-Upload/wiki/Drop-zone-effects](https://github.com/blueimp/jQuery-File-Upload/wiki/Drop-zone-effects)

引用文件：

> 如果您想允许特定拖放区但禁用文档上文件拖放的默认浏览器操作，请添加以下 JavaScript 代码：

```
$(document).bind('drop dragover', function (e) {
     e.preventDefault();
}); 
```

> 请注意，需要阻止“drop”和“dragover”事件的默认操作才能禁用默认浏览器放置操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-03T18:26:21.523

这可能与主题无关，但只是相反。如果您不想在输入文件上传器中拖放文件，可以使用

```
$('body').on('drop', function (e) {
     return false;
}); 
```

它在 IE 11 和 chrome 中都适用于我。感谢弗朗索瓦提供类似的指导方针

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-03T23:03:05.307

dropzone 必须在没有任何 HTML 元素的表单内：

```
<form id="frmdropzone" class="dropzone" action="Save" method="post" enctype="multipart/form-data">
       <div class="dropzone-previews"></div>
</form> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-10-30T20:06:22.727

为了改进 Jan 的答案，如果您不想禁用文件输入元素上的拖放：

```
$(document).bind("drop dragover", function(e){
    if(e.target.type != "file"){
        e.preventDefault();
    }
}); 
```

# ios - 加载远程图像的最佳方式是什么？

> ID：13082194
> 
> 赞同：3
> 
> 时间：2012-10-26T06:55:29.693
> 
> 标签：ios, objective-c, uiimage, grand-central-dispatch

我一直在研究并没有找到这个问题的任何答案 - sendAsynchronousRequest vs. dataWithContentsOfURL。

哪个更有效率？更优雅？更安全？等等

```
- (void)loadImageForURLString:(NSString *)imageUrl
{
    self.image = nil;

    [UIApplication sharedApplication].networkActivityIndicatorVisible = YES;
    NSURLRequest * request = [NSURLRequest requestWithURL:[NSURL URLWithString:imageUrl]];
    [NSURLConnection sendAsynchronousRequest:request
                                       queue:[NSOperationQueue mainQueue]
                           completionHandler:^(NSURLResponse * response, NSData * data, NSError * connectionError)
     {
         [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;
         if (data) {
             self.image = [UIImage imageWithData:data];
         }
     }];
} 
```

或者

```
- (void)loadRemoteImage
{
    self.image = nil;
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^{
        NSData * imageData = [NSData dataWithContentsOfURL:self.URL];
        if (imageData)
            self.image = [UIImage imageWithData:imageData];

        dispatch_async(dispatch_get_main_queue(), ^{
            if (self.image) {
                [self setupImageView];
            }
        });
    });
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T20:51:54.630

所以我为我自己的问题想出了一个答案：
目前有 3 种主要方法可以异步加载图像。

1.  NSURL连接
2.  GCD
3.  NSOperationQueue

对于每个问题，选择最好的方法都是不同的。
例如，在 a 中`UITableViewController`，我将使用第三个选项 ( `NSOperationQueue`) 为每个单元格加载图像，并确保在分配图片之前该单元格仍然可见。如果单元格不再可见，则应取消该操作，如果 VC 从堆栈中弹出，则应取消整个队列。

当使用`NSURLConnection`+ GCD 时，我们没有取消选项，因此在不需要时应该使用它（例如，加载恒定的背景图像）。

另一个好的建议是将该图像存储在缓存中，即使它不再显示，并在启动另一个加载过程之前在缓存中查找它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:13:02.967

`sendAsynchronousRequest`更好，更优雅，随便你怎么称呼。但是，就个人而言，我更喜欢单独创建`NSURLConnection`并听取其`delegate`和`dataDelegate`方法。这样，我可以： 1\. 设置我的请求超时。2\. 使用 的缓存机制设置要缓存的图像`NSURLRequest`（虽然不可靠）。2\. 观看下载进度。3.`NSURLResponse`在实际下载开始之前接收（对于 http 代码 > 400）。等等......而且，它还取决于图像大小和应用程序的其他一些要求等情况。祝你好运！

# asp.net - 在 asp.net 中实时显示命令行程序的输出

> ID：13082195
> 
> 赞同：2
> 
> 时间：2012-10-26T06:55:29.880
> 
> 标签：asp.net, jquery, asynchronous

我正在编写一个 Web 应用程序，其中应用程序使用 System.Diagnostics 类在系统上运行命令。我想显示命令的实时输出，这需要很长时间才能完成。经过一番搜索，我发现 BeginOutputReadLine 可以将输出流式传输到事件处理程序。

我也在使用 jquery ajax 来调用这个方法并让进程异步运行。到目前为止，我正在尝试这样做：

`Process p2= new Process(); p2.OutputDataReceived += new DataReceivedEventHandler(opHandler); p2= Process.Start (psi2);
p2.BeginOutputReadLine();`

我已经声明了一个带有静态变量的类，以将命令的输出存储为页面上的标签，不能从静态方法访问。

```
public class ProcessOutput
{
    public static string strOutput;

    [WebMethod]
    public static string getOutput()
    {
        return strOutput;
    }
} 
```

在 BeginOutputReadLine 的事件处理程序中，使用输出中的行设置变量。

```
private static void opHandler(object sendingProcess,DataReceivedEventArgs outLine)
    {
        if (!String.IsNullOrEmpty(outLine.Data))
        {
            ProcessOutput.strOutput= outLine.Data;  
        }
    } 
```

并从 aspx 页面，我正在调用该方法来获取 strOutput 的值

```
 $(document).ready(function() {

setInterval(function() { 
  $.ajax({
   type: "GET",
   url: "newscan.aspx/getOutput",
   data: "",
   success: function(msg){
     $('#txtAsyncOp').append(msg.d);
   }
 });
}, 1000);

}); 
```

我不知道为什么，但是标签没有更新。如果我发出警报，我每 10 秒就会在警报框中得到“未定义”。任何人都可以建议我如何正确地做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-09T02:36:15.067

每个请求都会作为请求管道的一部分开始一个新线程。这是设计使然。每个线程都有自己的堆栈，并且不能访问彼此的堆栈。当一个线程开始运行一个新方法时，它将该方法中的参数和局部变量存储在它自己的堆栈上。长话短说，您将无法分配该变量并期望从另一个请求中检索其值。

您可以采取几种方法，您可以将其范围限定为会话变量（最常见）：

```
System.Web.HttpContext.Current.Session["variable"]  = value ; 
```

或者您使用以下方法将其设置为应用程序范围：

```
if (System.Web.Caching.Cache["Key1"] == null)
      System.Web.Caching.Cache.Add("Key1", "Value 1", null, DateTime.Now.AddSeconds(60), Cache.NoSlidingExpiration, CacheItemPriority.High, onRemove); 
```

或者，您可以将输出记录到数据库或文件并通过 WebMethod 回显结果。如果您的长时间运行的进程是异步运行的，您将无法访问 HttpContext——因此 Session 状态包将不可用；可以使用应用程序缓存，但是它通常不用于这种类型的机制（缓存是出于性能原因，而不是持久性机制 - 重要的是要记住您无法控制 Web 应用程序何时回收）。

我强烈建议写入数据库或日志文件。异步过程通常需要记录输出或跟踪来诊断潜在问题并验证结果。

此外，由于您无法控制 Web 应用程序何时回收，您很容易失去对正在启动的子进程的控制。更好的设计将启动[异步方法 in-process](http://msdn.microsoft.com/en-us/library/hh191443.aspx)，或轮询数据库以获取作业的进程外应用程序或服务（根据您的平台，可能使用任务调度程序或 cron）。

# r - 多元 XTS 的每月回报

> ID：13082196
> 
> 赞同：2
> 
> 时间：2012-10-26T06:55:32.930
> 
> 标签：r, xts, quantmod

我有一个名为 AUM 的 XTS，它有 5 列

```
head(AUM)
             FXI.Adjusted X2823.HK.Adjusted HSCE.Adjusted X3049.HK.Adjusted HSI.Adjusted
2010-04-08     100.0000          100.0000      100.0000          100.0000     100.0000
2010-04-09     100.9009          100.9009      100.9009          100.9009     100.9009
2010-04-12     100.4474          100.6022      100.1916          100.1448     100.0890
2010-04-13     101.7668          101.8123      101.6008          101.4299     101.4111
2010-04-14     102.1177          102.3792      101.9873          101.7272     101.7813
2010-04-15     102.0445          102.1387      101.7266          101.5462     101.4893 
```

我想计算每列的月收益。我可以通过调用为一列执行此操作，`monthlyReturn(AUM[,1])`但我无法计算所有五列的月度回报并返回一个多元 XTS。

我试过这个`apply(AUM, 2, monthlyReturn)`，但我得到了错误

```
Error in array(r, dim = d, dimnames = if (!(is.null(n1 <- names(x[[1L]])) &  : 
  length of 'dimnames' [1] not equal to array extent 
```

非常感谢任何帮助。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:06:00.777

它应该与以下功能一起使用`lapply`：

```
lapply(AUM, monthlyReturn) 
```

此命令将返回`xts`对象列表。

# android - 如何获取 Framelayout wrap_content 直到水平滚动视图

> ID：13082198
> 
> 赞同：0
> 
> 时间：2012-10-26T06:55:42.793
> 
> 标签：android

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:paddingLeft="@dimen/quickaction_shadow_horiz"
    android:paddingRight="@dimen/quickaction_shadow_horiz">

    <FrameLayout
        android:id="@+id/header"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="10dip">
        <LinearLayout
            android:id="@+id/quickaction_header"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/quickaction_top_frame"
            android:gravity="center_vertical"
            android:orientation="horizontal">

            <ImageView
                android:id="@+id/quickaction_icon"
                android:layout_width="54dip"
                android:layout_height="57dip"
                android:layout_marginLeft="15dip"
                android:layout_marginTop="5dip"
                android:layout_marginBottom="5dip"
                android:scaleType="center" 
                android:visibility="gone" />

            <LinearLayout
                android:id="@+id/quickaction_header_content"
                android:layout_width="0dip"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:layout_marginLeft="15dip"
                android:layout_marginRight="15dip"
                android:orientation="vertical"
                android:visibility="gone">
                <TextView
                    android:id="@+id/quickaction_primary_text"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:focusable="true"
                    android:focusableInTouchMode="true"
                    android:singleLine="true"
                    android:ellipsize="marquee"
                    android:textColor="@android:color/primary_text_light"
                    android:textStyle="bold"
                    android:textSize="18dip"
                    android:visibility="gone" />

                <TextView
                    android:id="@+id/quickaction_secondary_text"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:textColor="@android:color/secondary_text_light"
                    android:textSize="15dip"
                    android:layout_marginTop="-3dip"
                    android:visibility="gone" />
            </LinearLayout>
        </LinearLayout>
    </FrameLayout>

    <HorizontalScrollView
        android:id="@+id/scroll"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/header"
        android:fadingEdgeLength="0dip"
        android:background="@drawable/quickaction_slider_background"
        android:scrollbars="none">

        <LinearLayout
            android:id="@+id/quickaction"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:paddingTop="4dip"
            android:paddingBottom="4dip"
            android:orientation="horizontal">

            <ImageView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/quickaction_slider_grip_left" />

            <ImageView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/quickaction_slider_grip_right" />

        </LinearLayout>

    </HorizontalScrollView>

    <FrameLayout
        android:id="@+id/footer"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/scroll"
        android:background="@drawable/quickaction_bottom_frame" />

    <!--  <LinearLayout
        android:id="@+id/footer_disambig"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@id/scroll"
        android:background="@drawable/quickaction_disambig_bottom_bg"
        android:orientation="vertical"
        android:visibility="gone">

        <ListView
            android:id="@android:id/list"
            android:layout_width="fill_parent"
            android:layout_height="0dip"
            android:layout_weight="1"
            android:background="@color/quickaction_disambig"
            android:divider="@drawable/quickaction_disambig_divider"
            android:cacheColorHint="@null" />

        <CheckBox
            android:id="@+id/checkbox"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginLeft="19dip"
            android:layout_marginRight="19dip"
            android:minHeight="60dip"
            android:textColor="#f000"
            android:textStyle="bold"
            android:text="Remember Choice"
            android:textAppearance="?android:attr/textAppearanceSmallInverse"
            android:button="@drawable/quickaction_disambig_checkbox" />

    </LinearLayout> -->

    <ImageView
        android:id="@+id/arrow_up"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/quickaction_arrow_up" />

    <ImageView
        android:id="@+id/arrow_down"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="-1dip"
        android:layout_below="@id/footer"
        android:src="@drawable/quickaction_arrow_down" />

    <!-- <ImageView
        android:id="@+id/arrow_down_stub"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="-1dip"
        android:layout_below="@id/footer_disambig"
        android:visibility="invisible"
        android:src="@drawable/quickaction_arrow_down" />-->

</RelativeLayout> 
```

您好，我希望我的 Framelayout 的宽度与 Horizo​​ntalscrollview 的宽度相同，如果给定 wrap_content，我不采用 Horizo​​ntalscrollview 的宽度，但采用 fill_parent 我想保留 wrap_content 我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:06:31.810

在里面添加以下两行`<HorizontalScrollView>`并尝试一下：

```
android:layout_alignLeft="@id/header"
android:layout_alignRight="@id/header" 
```

希望这可以帮助。

# javascript - 如何使用 jquery 更改选定的菜单选项

> ID：13082208
> 
> 赞同：1
> 
> 时间：2012-10-26T06:56:14.013
> 
> 标签：javascript, jquery

嗨，我正在使用 jquery 选择的插件。我想通过从其他选择菜单中选择的值来选择菜单值。但是我的代码使用简单的选定菜单。我希望它与 jquery 选择的插件一起使用。示例[代码](http://jsfiddle.net/7vkLv/13/)

```
$(".chzn-select").chosen()
    $('[id*=second]').change(function(){
    var val = $(this).find('option:selected').val()

    if(val.toLowerCase()=='mr'){
    $('[id*=gender]').find('option').eq(0).attr('selected', 'selected');
}

else{       
    $('[id*=gender]').find('option').eq(1).attr('selected', 'selected')
     }
})
​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-31T17:23:34.977

您应该添加`value`选项并尝试匹配这些值`onchange`。请参阅下面的实现，让我知道它是否适合您。

**编辑：**添加了几行来更新插件选择。

**演示：http:** [//jsfiddle.net/vUkQg/3/](http://jsfiddle.net/vUkQg/3/)

> **注意：**下面的方法可以将任意数量的下拉列表与相同的类关联起来`value`。（脚本没有变化）[http://jsfiddle.net/vCE4Y/18/](http://jsfiddle.net/vCE4Y/18/)

**HTML：**

```
<select id="second" class="chzn-select" style="width:100px">
  <option value="1"> mr</option>
  <option value="2"> mrs</option>
</select>

<select id="gender" class="chzn-select" style="width:100px">
  <option value="1"> male</option>
  <option value="2"> female</option>
</select> 
```

**JS：**

```
$(function() {
    $(".chzn-select").chosen().change(function() {
        var val = $(this).val();
        $('.chzn-select').val(val);

        $('.chzn-select').not(this).each(function () {                       
            var $chzn = $('#' + this.id + '_chzn');
            var $li = $chzn.find('li');            
            $li.removeClass('result-selected');  

            var selectedLi = $li.eq(val - 1);
            selectedLi.addClass('result-selected');

            $chzn.find('a.chzn-single span').html(selectedLi.html());            
            //update selected result in plugin
            var $data = $(this).data('chosen');

            $.each($data['results_data'], function (idx, el) {
                if (idx == val-1) {
                    el.selected = true;
                    $data.result_single_selected = selectedLi;
                } else {
                    el.selected = false;
                }
            });
        });
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:57:54.240

[演示](http://jsfiddle.net/7vkLv/100/ "JSfiddle")

我希望下面的脚本能达到你的预期

```
$(".chzn-select").chosen();
$('[id*=second]').change(function(){
    var val = $('div[id*=second]').find('li.result-selected').html().trim();
    $('select[id*=gender]').find('option').removeAttr('selected');
    $('div[id*=gender]').find('li.active-result').removeClass('result-selected');
    var selectedValue = "";
    if(val.toLowerCase()=='mr'){
        selectedValue = $('div[id*=gender]').find('li.active-result').eq(0).addClass('result-selected').html();
        $('select[id*=gender]').find('option').eq(0).attr('selected','selected');
    } else {
        selectedValue = $('div[id*=gender]').find('li.active-result').eq(1).addClass('result-selected').html();
        $('select[id*=gender]').find('option').eq(1).attr('selected','selected');
    }
    $('div[id*=gender]').find('a.chzn-single span').html(selectedValue);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:12:50.143

使用**selectedIndex**

例如：

```
 document.getElementById('selectId').selectedIndex = 0; 

   //selectId - id of the select elem

<select id="selectId">
  <option value="1" selected="selected">Male</option>
  <option value="2">Female</option>
</select> 
```

获取选定值

```
 var e = document.getElementById("selectId");
    var strUser = e.options[e.selectedIndex].value; 
```

这里 strUser = 1;

如果你想要**文本**

```
 var strUser = e.options[e.selectedIndex].text; 
```

这里 strUser = 男；

我认为这对你有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-26T07:31:04.053

```
<select id="second" class="chzn-select" style="width: 100px">
    <option value="1">mr</option>
    <option value="2">mrs</option>
</select>
<select id="gender" class="chzn-select" style="width: 100px">
    <option value="1">male</option>
    <option value="2">female</option>
</select>​

   $(document).ready(function () {
        $('.chzn-select').change(function () {
            $('.chzn-select').val($(this).val());
            //$('.chzn-select').val($(this).val()).trigger('change');
        });
    });​ 
```

[演示](http://jsfiddle.net/nanoquantumtech/3UP3a/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-26T07:35:30.203

我用options的值，减1是达到indexnumber

[演示](http://jsfiddle.net/7vkLv/61/)

```
 $('#second').change(function(){
      var val = $(this).val();

    $('#gender option').eq(val - 1).attr('selected', 'selected');
}); 
```

或者

```
$('#second').change(function(){
    var index = $(this)[0].selectedIndex;

    $('#gender option').eq(index).attr('selected', 'selected');
}); 
```

# ios - 我做了一个简单的更新，添加了两个声音，现在一些用户报告说，当你继续使用应用程序时，它会立即退出

> ID：13082210
> 
> 赞同：1
> 
> 时间：2012-10-26T06:56:21.663
> 
> 标签：ios, app-store, ios6, updates, parse-framework

我有一个音板应用程序，它一直运行良好，但是自从我收到更新报告后，该应用程序在打开时就退出了，当我在 5 台设备上测试它时，它在所有设备上都运行良好。这是我对 ios6 的第一次更新，因此可能与此有关，在此更新中我还必须更新解析框架，这可能会搞砸一些事情。

任何帮助将不胜感激，因为我需要快速修复它的任何问题。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T14:37:54.463

这是非常古老的，但即使没有人关心，我也可以回答它。这是由于我添加了解析框架所需的框架，但 ios5 不支持它们并且它们被设置为必需，我将它们更改为可选并且它工作正常。

# jquery - 从表 jquery 中检索过滤的单元格数据

> ID：13082223
> 
> 赞同：1
> 
> 时间：2012-10-26T06:57:11.160
> 
> 标签：jquery

我有一个很像这样的表结构

```
 <table id="oustandingItems">
            <thead>
                <tr><th>Category</th>
                <th>Details</th>
                <th></th>
            </tr></thead>
            <tbody>
                <tr>
                    <td>
                        <select id="OICategory">
                             <option value="1">Fault</option>
                             <option value="2">Shortage</option>
                             <option value="3">Retorfit</option>
                             <option value="4">Labour</option>
                             <option value="5">Other</option>
                         </select>
                    </td>
                    <td><textarea id="OIDetails" rows="3" cols="62"></textarea></td>
                    <td><button id="addNewRow" class="addbutton">>Add</button></td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td class="detailsCounter textareacounter">185 characters remaining</td>
                    <td>&nbsp;</td>
                </tr>
            <tr>
                <td class="evenrow">Fault</td>
                <td class="evenrow">ghgfhgfhgfhgfh</td>
                <td class="butCell evenrow">
                    <button class="removeitem">Remove</button>
                </td>
            </tr>
            <tr>
                <td class="oddrow">Fault</td>
                <td class="oddrow">cvbcvbcvbcvbcvb</td>
                <td class="butCell oddrow">
                    <button class="removeitem">Remove</button>
                </td>
            </tr>
         </tbody>
        </table> 
```

我正在尝试使用此代码从奇数行和偶数行的前两个 td 中检索数据

```
$(document).ready(function() {
var tableHeader = $('#oustandingItems');
var tds = $('#oustandingItems td.evenrow, #oustandingItems     td.oddrow').filter(function(index) {
    alert($(this).not('button.removeitem').html());
});
});​ 
```

但是我没有得到正确的输出，任何人都可以提出我返回按钮单元格以及前两个单元格的原因。

[JSFiddle 示例](http://jsfiddle.net/EcDcd/1/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:05:20.317

您正在使用`filter`方法，但实际上不过滤元素，您可以使用`not`方法：

```
$(document).ready(function() {
  var $tableHeader = $('#oustandingItems');
  var $tds = $tableHeader.find('td.evenrow, td.oddrow').not('.butCell').each(function(){
      // alert($(this).text())
  })
}); 
```

[http://jsfiddle.net/8rSLC/](http://jsfiddle.net/8rSLC/)

您可以使用`find`比重新查询 DOM 更有效的缓存对象和方法。请注意，使用`button.removeitem`不会过滤您的`td`元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:02:32.063

尝试将其添加到您的选择器：

```
button:not(.removeitem) , 
```

即排除您的按钮：

`var tds = $('#oustandingItems td.evenrow, #oustandingItems td.oddrow button:not(.removeitem)').filter(function(index)`

[请参阅此处](http://api.jquery.com/not-selector/)的jQuery 选择器文档。

# f# - 为什么我不能用 null 初始化可变类型？

> ID：13082228
> 
> 赞同：1
> 
> 时间：2012-10-26T06:57:42.470
> 
> 标签：f#

我正在努力：

```
let mutable ncon : NCon = null 
```

并得到：

```
Error   1   The type 'NCon' does not have 'null' as a proper value 
```

以这种方式声明类型的位置

```
type NCon(settings : ISettings) = ... 
```

我打算将它用作静态属性并稍后在用户完成设置时对其进行初始化，那么我做错了什么？为什么我不能用 null 初始化可变类型？

我必须使用选项吗？所以让它成为 None 或 Some ？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-26T07:10:59.693

您必须像这样向您的 NCon-Type提供[AllowNullLiteral ：](http://msdn.microsoft.com/en-us/library/ee353608.aspx)

```
[<AllowNullLiteral>]
type NCon(settings : ISettings) = ... 
```

这是因为 F# 阻止您使用 Null ...恕我直言，这不是一个坏主意

对于您的其他问题：是的，我宁愿使用一个选项——我也会考虑使用一个参考单元——但这取决于你想用它做什么。

# xmpp - 是否有 XMPP 方法来获取服务器上已经存在的房间数？

> ID：13082235
> 
> 赞同：0
> 
> 时间：2012-10-26T06:58:20.697
> 
> 标签：xmpp, openfire, smack, chatroom

XMPP 中是否有任何预定义的方法来获取 openfire 服务器上已经存在的房间数。我已经进行了彻底的搜索，但我无法得到好的和有效的答案。

请让我知道如何在 openfire 服务器（已创建）上获得可用的房间。

编码

```
boolean supports = MultiUserChat.isServiceEnabled(conn, "user3@host.org/Smack"); 
```

正在返回一个 NULL 指针。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:11:51.373

您可以使用Smack API 的 MultiUserChat 类的[getHostedRooms方法。](http://www.igniterealtime.org/builds/smack/docs/latest/javadoc/org/jivesoftware/smackx/muc/MultiUserChat.html#getHostedRooms%28org.jivesoftware.smack.Connection,%20java.lang.String%29)

> `public static Collection<HostedRoom> getHostedRooms(Connection` `connection, String serviceName) throws XMPPException`

这将返回服务器上所有公共[房间](http://www.igniterealtime.org/builds/smack/docs/latest/javadoc/org/jivesoftware/smackx/muc/HostedRoom.html)的集合。在此之前检查用户是否支持 MUC

```
boolean supports = MultiUserChat.isServiceEnabled(conn, "user3@host.org/Smack"); 
```

更多信息可以在[smack api guide](http://www.igniterealtime.org/builds/smack/docs/latest/documentation/extensions/index.html)中找到。

# android - 从 PHP MySQL 检索数据到 Android 列表视图

> ID：13082238
> 
> 赞同：0
> 
> 时间：2012-10-26T06:58:40.940
> 
> 标签：android, json

我能够从我的 php mysql 检索数据到我的 android，但是当我试图将其放入我的列表视图时，它们似乎是我的代码的问题。

这是我的活动代码

```
public class View extends Activity{

     // Progress Dialog

    // Creating JSON Parser object
    JSONParser jParser = new JSONParser();

    ArrayList<HashMap<String, String>> productsList;

    // url to get all products list
    private static String url_all_products = "http://atlantis-us.com/viewFile.php";

    // JSON Node names
    private static final String TAG_NAME = "name";
    ListView lv;
    // products JSONArray
    JSONArray products = null;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.all_products);

        // Get listview
        lv = (ListView) findViewById(R.id.list);

        // Hashmap for ListView
        productsList = new ArrayList<HashMap<String, String>>();

        new LoadAllProducts().execute();

    }

    class LoadAllProducts extends AsyncTask<String, String, String> {

        @Override
        protected String doInBackground(String... arg0) {
            // TODO Auto-generated method stub
             // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();

            JSONObject json = jParser.makeHttpRequest(url_all_products, "GET", params);
            Log.d("All Products: ", json.toString());
            ListAdapter adapter = new SimpleAdapter(
                    View.this, productsList,
                    R.layout.list_item, new String[] {
                            TAG_NAME},
                    new int[] {R.id.name });
            // updating listview
            lv.setAdapter(adapter);

            return null;

        }
    }

} 
```

这是我的 JSONParser 类

```
public class JSONParser {

    static InputStream is = null;
    static JSONObject jObj = null;
    static String json = "";

    // constructor
    public JSONParser() {

    }

    // function get json from url
    // by making HTTP POST or GET method
    public JSONObject makeHttpRequest(String url, String method,
            List<NameValuePair> params) {

        // Making HTTP request
        try {

            // check for request method
            if(method == "POST"){
                // request method is POST
                // defaultHttpClient
                DefaultHttpClient httpClient = new DefaultHttpClient();
                HttpPost httpPost = new HttpPost(url);
                httpPost.setEntity(new UrlEncodedFormEntity(params));

                HttpResponse httpResponse = httpClient.execute(httpPost);
                HttpEntity httpEntity = httpResponse.getEntity();
                is = httpEntity.getContent();

            }else if(method == "GET"){
                // request method is GET
                DefaultHttpClient httpClient = new DefaultHttpClient();
                String paramString = URLEncodedUtils.format(params, "utf-8");
                url += "?" + paramString;
                HttpGet httpGet = new HttpGet(url);

                HttpResponse httpResponse = httpClient.execute(httpGet);
                HttpEntity httpEntity = httpResponse.getEntity();
                is = httpEntity.getContent();
            }           

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            json = sb.toString();
        } catch (Exception e) {
            Log.e("Buffer Error", "Error converting result " + e.toString());
        }

        // try parse the string to a JSON object
        try {
            jObj = new JSONObject(json);
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        }

        // return JSON String
        return jObj;

    }
} 
```

这就是日志猫说的

```
10-26 14:57:53.673: I/Choreographer(1391): Skipped 61 frames!  The application may be doing too much work on its main thread.
10-26 14:57:54.653: D/All Products:(1391): {"products":[{"name":"Ghalia"},{"name":"yuan"},{"name":"kevin"},{"name":"kevin"},{"name":"kevin"},{"name":"Ghalia"},{"name":"Ghalia"},{"name":"dbgg"},{"name":"Ghalia"},{"name":"Ghalia"},{"name":"test"}]}
10-26 14:57:54.663: W/dalvikvm(1391): threadid=11: thread exiting with uncaught exception (group=0x40a13300)
10-26 14:57:54.684: E/AndroidRuntime(1391): FATAL EXCEPTION: AsyncTask #1
10-26 14:57:54.684: E/AndroidRuntime(1391): java.lang.RuntimeException: An error occured while executing doInBackground()
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.os.AsyncTask$3.done(AsyncTask.java:299)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at java.lang.Thread.run(Thread.java:856)
10-26 14:57:54.684: E/AndroidRuntime(1391): Caused by: android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:4607)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:835)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.view.View.requestLayout(View.java:15129)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.view.View.requestLayout(View.java:15129)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.view.View.requestLayout(View.java:15129)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.view.View.requestLayout(View.java:15129)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.view.View.requestLayout(View.java:15129)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.widget.AbsListView.requestLayout(AbsListView.java:1928)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.widget.ListView.setAdapter(ListView.java:488)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at com.example.mysql.View$LoadAllProducts.doInBackground(View.java:74)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at com.example.mysql.View$LoadAllProducts.doInBackground(View.java:1)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at android.os.AsyncTask$2.call(AsyncTask.java:287)
10-26 14:57:54.684: E/AndroidRuntime(1391):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
10-26 14:57:54.684: E/AndroidRuntime(1391):     ... 5 more 
```

有没有人有想法是什么导致了错误？任何建议将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:02:51.047

在 doInBackground() 内部，**不能直接对 Any View 执行更新操作**。

所以你在这里做错了`doInBackground()`：

```
 ListAdapter adapter = new SimpleAdapter(
                    View.this, productsList,
                    R.layout.list_item, new String[] {
                            TAG_NAME},
                    new int[] {R.id.name });
            // updating listview
            lv.setAdapter(adapter); 
```

所以把这段代码写在里面**`onPostExecute()`**。

# c++ - 编译错误 C++“未在此范围内声明”“预期类型说明符”等

> ID：13082239
> 
> 赞同：0
> 
> 时间：2012-10-26T06:58:44.447
> 
> 标签：c++, compiler-errors, g++

这是我看到的错误列表

```
RST.hpp:23:18: error: ‘RSTNode’ has not been declared
RST.hpp:23:38: error: ‘RSTNode’ has not been declared
RST.hpp:23:45: error: expected ‘,’ or ‘...’ before ‘&lt;’ token
RST.hpp:41:30: error: ‘RSTNode’ has not been declared
RST.hpp:41:37: error: expected ‘,’ or ‘...’ before ‘&lt;’ token
RST.hpp:44:28: error: ‘RSTNode’ has not been declared
RST.hpp:44:35: error: expected ‘,’ or ‘...’ before ‘&lt;’ token
RST.hpp: In member function ‘virtual void RST<Data>::leftRotate(int)’:
RST.hpp:25:7: error: ‘RSTNode’ was not declared in this scope
RST.hpp:25:19: error: expected primary-expression before ‘&gt;’ token
RST.hpp:25:23: error: ‘dummyone’ was not declared in this scope
RST.hpp:25:34: error: ‘ptr’ was not declared in this scope
RST.hpp:26:19: error: expected primary-expression before ‘&gt;’ token
RST.hpp:26:23: error: ‘dummytwo’ was not declared in this scope
RST.hpp:27:19: error: expected primary-expression before ‘&gt;’ token
RST.hpp:27:23: error: ‘dummythree’ was not declared in this scope
RST.hpp: In member function ‘virtual bool RST<Data>::addToTree(int)’:
RST.hpp:46:11: error: ‘ptr’ was not declared in this scope
RST.hpp:48:13: error: ‘num’ was not declared in this scope
RST.hpp:50:11: error: ‘temp’ was not declared in this scope
RST.hpp:55:11: error: ‘temp’ was not declared in this scope
RST.hpp:63:20: error: expected type-specifier before ‘RSTNode’
RST.hpp:63:20: error: expected ‘;’ before ‘RSTNode’
RST.hpp:64:23: error: ‘temp’ was not declared in this scope
RST.hpp: In member function ‘bool RST<Data>::insert(const Data&) [with Data = countint]’:
test_RST.cpp:43:23:   instantiated from here
RST.hpp:14:7: error: no matching function for call to             RST<countint>::addToTree(BSTNode<countint>*&, NULL, const countint&)’
RST.hpp:14:7: note: candidate is:
RST.hpp:44:18: note: bool RST<Data>::addToTree(int) [with Data = countint]
RST.hpp:44:18: note:   candidate expects 1 argument, 3 provided 
```

这是我的所有代码，除了测试仪很好@这一点 [http://pastebin.com/3zu0hAy1](http://pastebin.com/3zu0hAy1)

请帮忙，我不知道为什么会这样！

注意：BST 是 RST 的超类 // BSTNode 是 RSTNode 的超类

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:01:35.227

问题似乎是您没有在“RST.hpp”中包含“RSTNode.hpp”。因此，“未声明 RSTNode”错误消息是完全正确的。

该错误不是我在您之前的问题中猜到的，因此您最好撤消该更改。

# c# - 在 CellEditEnding 上更改 WPF DataGrid 单元格背景颜色

> ID：13082241
> 
> 赞同：1
> 
> 时间：2012-10-26T06:58:53.983
> 
> 标签：c#, wpf, datagrid

我有`WPF` `DataGrid`一个`event handler` `CellEditEnding`，我想要一个简单`code`的改变编辑`cell`里面的背景颜色`event handler`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:47:55.157

下面的代码在成功编辑后使单元格变为粗体。

**风格**

```
 <Style TargetType="Controls:DataGridCell" 
   BasedOn="{StaticResource {x:Type Controls:DataGridCell}}" 
   x:Key="CellBoldStyle">
<Style.Triggers>
    <EventTrigger RoutedEvent="Binding.SourceUpdated">
    <BeginStoryboard>
        <Storyboard>
        <ObjectAnimationUsingKeyFrames
            Duration="00:00:00.5"                                   Storyboard.TargetProperty
                                    ="(TextBlock.FontWeight)">
            <DiscreteObjectKeyFrame KeyTime="00:00:00" 
                                Value="{x:Static FontWeights.Normal}" />
            <DiscreteObjectKeyFrame KeyTime="00:00:00.5" 
                                Value="{x:Static FontWeights.Bold}" />
        </ObjectAnimationUsingKeyFrames>
        </Storyboard>
    </BeginStoryboard>
    </EventTrigger>
</Style.Triggers>
  </Style> 
```

**柱子**

```
 <Controls:DataGridTextColumn 
             Binding="{Binding Side, Mode=TwoWay, 
                               NotifyOnTargetUpdated=True, 
                               NotifyOnSourceUpdated=True}" 
             CellStyle="{StaticResource CellBoldStyle}" /> 
```

# android - ProgressDialog 关闭后显示 alertDialog

> ID：13082244
> 
> 赞同：0
> 
> 时间：2012-10-26T06:59:08.457
> 
> 标签：android, android-progressbar

我似乎无法让它工作，在 progressDialog 完成显示后如何显示警报对话框？

这是一些相关的代码：

```
progressDialog = ProgressDialog.show(MainActivity.this, "", "Loading...");

        new Thread() {
            public void run() {
                try{
                    initializer();
                } catch (Exception e) {
                    Log.e("tag", e.getMessage());
                }
                progressDialog.dismiss();
                SharedPreferences welcome_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
                welcome = welcome_pref.getString("getwelcome", "null");

                if (welcome.equals("no")) {

                }else{
                    AlertDialog welcome = new AlertDialog.Builder(MainActivity.this).show();
                    welcome.setContentView(R.layout.welcome);
                    welcome_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
                    SharedPreferences.Editor welc = welcome_pref.edit();
                    welc.putString("getwelcome", "no");
                    welc.commit();
                }
            }
        }.start();
    }

    private void initializer() {
        startMoving = (ImageView) findViewById(R.id.imMove);
        aboutApp = (ImageView) findViewById(R.id.imAbout);
        devSite = (ImageView) findViewById(R.id.imDevSite);
        movingTips = (ImageView) findViewById(R.id.imTips);
        rateApp = (ImageView) findViewById(R.id.imRate);

        start = (EditText) findViewById(R.id.etFrom);
        end = (EditText) findViewById(R.id.etTo);

        startMoving.setOnClickListener(this);
        aboutApp.setOnClickListener(this);
        devSite.setOnClickListener(this);
        movingTips.setOnClickListener(this);
        rateApp.setOnClickListener(this);

        tvabout = (TextView) findViewById(R.id.tvabout);
        tvstartmove = (TextView) findViewById(R.id.tvStart);
        tvrate = (TextView) findViewById(R.id.tvRate);
        tvdevelop = (TextView) findViewById(R.id.tvDev);
        tvmovetips = (TextView) findViewById(R.id.tvTips);

        tvabout.setShadowLayer(30, 0, 0, 0xff000000);
        tvstartmove.setShadowLayer(30, 0, 0, 0xff000000);
        tvrate.setShadowLayer(30, 0, 0, 0xff000000);
        tvdevelop.setShadowLayer(30, 0, 0, 0xff000000);
        tvmovetips.setShadowLayer(30, 0, 0, 0xff000000);

        checklistitem();

    }

    private void checklistitem() {
        SharedPreferences createlistitem_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
        checkitem = createlistitem_pref.getString("getcheck", "null");

        if (checkitem.equals("no")) {

        }else{
            SQLHandler checkitemstat = new SQLHandler(MainActivity.this);
            checkitemstat.open();
            checkitemstat.createList();
            checkitemstat.close();
            SharedPreferences setitem_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
            SharedPreferences.Editor setcheck = setitem_pref.edit();
            setcheck.putString("getcheck", "no");
            setcheck.commit();
        }
    }
} 
```

我收到一条错误消息，说`Can't create handler inside thread that has not called Looper.prepare()`我知道是什么导致了这个错误，但我不知道如何解决这个问题。

这行代码就是造成这种情况的原因。

```
 progressDialog.dismiss();
                SharedPreferences welcome_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
                welcome = welcome_pref.getString("getwelcome", "null");

                if (welcome.equals("no")) {

                }else{
                    AlertDialog welcome = new AlertDialog.Builder(MainActivity.this).show();
                    welcome.setContentView(R.layout.welcome);
                    welcome_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
                    SharedPreferences.Editor welc = welcome_pref.edit();
                    welc.putString("getwelcome", "no");
                    welc.commit();
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:07:27.073

在 runonUiThread 中添加警报对话框显示代码，

```
this.runOnUiThread(new Runnable() {

                public void run() {
                    // TODO Auto-generated method stub

                }
            }); 
```

像这样的东西，

```
}else{

 MainActivity.this.runOnUiThread(new Runnable() {

                public void run() {
                      AlertDialog welcome = new AlertDialog.Builder(MainActivity.this).show();
            welcome.setContentView(R.layout.welcome);
                }
            });

                    welcome_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
                    SharedPreferences.Editor welc = welcome_pref.edit();
                    welc.putString("getwelcome", "no");
                    welc.commit();
                } 
```

正如此处建议的答案之一所说，您无法从工作线程更新您的 UI。当您更新任何 UI 时，您必须处于 UI 线程中。

因此，您需要使用处理程序或 runonUiThread 来执行此操作。但由于 runOnUiThread 在内部使用处理程序，它应该对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:04:40.373

您无法在线程内更新 UI。只有通过主线程才能更新 UI，您必须使用处理程序。否则你可以这样做

```
runOnUiThread(new Runnable() {

                @Override
                public void run() {
                    // TODO Auto-generated method stub
                     progressDialog.dismiss();
 AlertDialog welcome = new AlertDialog.Builder(MainActivity.this).show();
                    welcome.setContentView(R.layout.welcome);
                    welcome_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
                    SharedPreferences.Editor welc = welcome_pref.edit();
                    welc.putString("getwelcome", "no");
                    welc.commit();
                }
            }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:04:13.180

```
SharedPreferences welcome_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
                welcome = welcome_pref.getString("getwelcome", "null");

                if (welcome.equals("no")) {

                }else{
                    AlertDialog welcome = new AlertDialog.Builder(MainActivity.this).show();
                    welcome.setContentView(R.layout.welcome);
                    welcome_pref = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);
                    SharedPreferences.Editor welc = welcome_pref.edit();
                    welc.putString("getwelcome", "no");
                    welc.commit();
                } 
```

在`Thread.`

# php - 避免 fpdf 单元格中的重复

> ID：13082251
> 
> 赞同：3
> 
> 时间：2012-10-26T06:59:27.350
> 
> 标签：php, alignment, cell, fpdf

这是一个屏幕截图，可以更清楚地向您解释我的第二个单元格如何与第一个单元格重复[1](http://i.stack.imgur.com/i207Z.png)我是 PHP 新手，我试图从 fpdf 制作一个 pdf，但困难是我想在每个单元格旁边对齐两个单元格其他，但单元格在彼此旁边重复。这是我的代码：

```
require("library/fpdf/fpdf.php");
  class pdf extends fpdf {

        enter code here

       function Footer() {

        enter code here

    //Position at 1.5 cm from bottom
        $this->SetY(-15);
        //Arial italic 8
        $this->SetFont('Arial','I',8);
        //Page number
        $this->Cell(0,10,'Page '.$this->PageNo().'/{nb}',0,0,'C');

         }
     }
      $ctr=0;
     $pdf = new pdf('P','mm','A4');
     $pdf->AliasNbPages();
     $pdf->AddPage();
     $pdf->SetMargins(10,10,10);
     $pdf->SetXY(5,5);

                while ($lbl = mysql_fetch_assoc($get))
          {
                    $ctr++;
                    $pdf->SetFont('Arial','B',8);{
            $pdf->Cell(85,6,$lbl["hotelname"],1,0,'L');}
                    $pdf->SetFont('Arial','B',8);{
                    $pdf->Cell(85,6,$lbl["hotelname"],1,1,'L');}
                    $pdf->SetFont('Arial','',8);{
            $pdf->Cell(85,6,"Haji No-".$lbl["hajino"]."Ctr-"." ".$ctr,1,0,'L');
            $pdf->Cell(85,6,"Haji No-".$lbl["hajino"]."Ctr-"." ".$ctr,1,1,'L');
                    }
            $pdf->Cell(85,6,$lbl["suffix"]." ". $lbl["surname"]." ". $lbl["name"]." ". $lbl["midname"],1,0,'L');
            $pdf->Cell(85,6,$lbl["suffix"]." ". $lbl["surname"]." ". $lbl["name"]." ". $lbl["midname"],1,1,'L');

                    $pdf->SetFont('Arial','B',8);{
            $pdf->Cell(85,6,"Room No - ". $lbl["roomno"]." "." "." "." "." "." "." ". "Bus No- ".$lbl["busname"],1,0,'L');
                    $pdf->Cell(85,6,"Room No - ". $lbl["roomno"]." "." "." "." "." "." "." ". "Bus No- ".$lbl["busname"],1,1,'L');
                    $pdf->Ln(10);
                    }

              }

            $pdf->Output('Hotel_label.pdf','D');

      } // Submit Tag Close

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T07:05:59.540

您可以尝试以下修改后的代码版本..

```
require("library/fpdf/fpdf.php");
  class pdf extends fpdf {
       // enter code here

       function Footer() {
       // enter code here

    //Position at 1.5 cm from bottom
        $this->SetY(-15);
        //Arial italic 8
        $this->SetFont('Arial','I',8);
        //Page number
        $this->Cell(0,10,'Page '.$this->PageNo().'/{nb}',0,0,'C');

         }
     }
      $ctr=0;

      $yheight=5;  //assign value for y-axis

     $pdf = new pdf('P','mm','A4');
     $pdf->AliasNbPages();
     $pdf->AddPage();
     $pdf->SetMargins(10,10,10);
     $pdf->SetXY(10,$yheight);

$loopvariable=1; //to check page break

$side=0;//to check left or right record placement

                while ($lbl = mysql_fetch_assoc($get))
          {
                    $ctr++;
                    if($side==0){                   
                    $pdf->SetFont('Arial','B',8);{
            $pdf->Cell(85,6,$lbl["hotelname"],1,1,'L');         
            $pdf->Cell(85,6,"Haji No-".$lbl["hajino"]."Ctr1-"." ".$ctr,1,1,'L');            
            $pdf->Cell(85,6,$lbl["suffix"]." ". $lbl["surname"]." ". $lbl["name"]." ". $lbl["midname"],1,1,'L');
            $pdf->Cell(85,6,"Room No - ". $lbl["roomno"]." "." "." "." "." "." "." ". "Bus No- ".$lbl["busname"],1,1,'L');
            $pdf->Ln(10);
                     }

                    $side++;

                    }else{

                         $pdf->SetFont('Arial','B',8);{
                              $pdf->SetXY(100,$yheight);
            $pdf->Cell(85,6,$lbl["hotelname"],1,1,'L');  
                              $pdf->SetXY(100,$yheight+6);
            $pdf->Cell(85,6,"Haji No-".$lbl["hajino"]."Ctr2-"." ".$ctr,1,1,'L');
                         $pdf->SetXY(100,$yheight+12);
            $pdf->Cell(85,6,$lbl["suffix"]." ". $lbl["surname"]." ". $lbl["name"]." ". $lbl["midname"],1,1,'L');
             $pdf->SetXY(100,$yheight+18);
            $pdf->Cell(85,6,"Room No - ". $lbl["roomno"]." "." "." "." "." "." "." ". "Bus No- ".$lbl["busname"],1,1,'L');
            $pdf->Ln(10);
                    }
                    $side--;        
                    $yheight+=34;
                if($loopvariable%16==0){$yheight=10;}//reset the y-axis value after every 16 records i.e. after every page break

                    }

$loopvariable++;

              }

            $pdf->Output('Hotel_label.pdf','D');

      } // Submit Tag Close

    } 
```

# php - 如何在magento中将静态块添加到侧边栏

> ID：13082252
> 
> 赞同：1
> 
> 时间：2012-10-26T06:59:30.990
> 
> 标签：php, magento

怎么能`static block`加到`side bar`

```
<block type="static block" name="static.poll" before="cart_sidebar"> 
```

我正在使用上面的代码但仍然错误

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:27:45.753

最好的方法是在您的主题布局部分创建“local.xml”文件并将其放在代码下方。

```
<layout version="0.1.0">
    <default>
        <reference name="right">
            <block type="cms/block" name="your-block-identifier" before="-">
                <action method="setBlockId"><block_id>your-block-identifier</block_id></action>
            </block>
        </reference>
    </default>
</layout> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:14:53.947

核实

[http://dx3webs.com/front/2010/11/how-to-add-a-static-block-to-the-side-bar/](http://dx3webs.com/front/2010/11/how-to-add-a-static-block-to-the-side-bar/)

希望这会帮助你

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-26T09:09:50.990

使用此代码..

```
<action method="setBlockId"><block_id>STATIC_BLOCK_ID</block_id></action> </block> <reference> 
```

希望这可以帮助..

# php - 有没有办法在 symfony2 中自动更新 AppKernel？

> ID：13082254
> 
> 赞同：4
> 
> 时间：2012-10-26T06:59:33.780
> 
> 标签：php, symfony, console, bundle, composer-php

可能类似于 generate:bundle 命令（在生成包后提示更新 AppKernel）或 Composer（使用您安装的依赖项更新您的自动加载）。

我想获得与 generate:bundle 类似的功能，但我不想创建一个新的包，而是想添加一个刚刚下载的包，而无需手动编辑 AppKernel。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:54:59.047

我找不到扩展现有命令的方法，所以我的想法是在现有包中创建一个新的控制台命令。

```
namespace Your\OriginalBundle\Command;

use Symfony\Bundle\FrameworkBundle\Command\ContainerAwareCommand;
use Symfony\Component\Console\Input\ArrayInput;
use Symfony\Component\Console\Input\InputArgument;
use Symfony\Component\Console\Input\InputInterface;
use Symfony\Component\Console\Input\InputOption;
use Symfony\Component\Console\Output\OutputInterface;

class AppendNewBundleCommand extends ContainerAwareCommand
{
    protected $appKernel;

    protected function configure()
    {
        $this
            ->setName('yourbundle:appendnewbundle')
            ->setDescription('Append a new bundle to the AppKernel.php')
            ->addArgument('namespace', InputArgument::REQUIRED, 'Define your new bundle/namespace')
        ;
        $this->appKernel = __DIR__.'/../../../../app/AppKernel.php';
    }

    protected function execute(InputInterface $input, OutputInterface $output)
    {
        if (!file_exists($this->appKernel)) {
            throw new \ErrorException(sprintf("Could not locate file %s",$this->appKernel));
        }
        if (!is_writable($this->appKernel)) {
            throw new \ErrorException(sprintf('Cannot write into AppKernel (%s)',$this->appKernel));
        }

        $namespace = $input->getArgument('namespace');
        $appContent = file_get_contents($this->appKernel);

        $bundle = str_replace("/","\\",$namespace)."\\".str_replace("/","",$namespace);
        $newBundle = "new {$bundle}(),";

        $pattern = '/\$bundles\s?=\s?array\((.*?)\);/is';
        preg_match($pattern, $appContent,$matches);

        $bList = rtrim($matches[1],"\n ");
        $e = explode(",",$bList);
        $firstBundle = array_shift($e);
        $tabs = substr_count($firstBundle,'    ');

        $newBList = "\$bundles = array("
                            .$bList."\n"
                            .str_repeat('    ', $tabs).$newBundle."\n"
                        .str_repeat('    ',$tabs-1).");";

        file_put_contents($this->appKernel,preg_replace($pattern,$newBList,$appContent));
    }
} 
```

您现在可以在生成捆绑包后立即执行它

```
php app/console yourbundle:appendnewbundle Your/SecondBundle 
```

这会将其附加到现有捆绑包的列表中

```
new Your\SecondBundle\YourSecondBundle(), 
```

如果您有一个标准的 (symfony2) AppKernel，这将有效。前任：

```
<?php

use Symfony\Component\HttpKernel\Kernel;
use Symfony\Component\Config\Loader\LoaderInterface;

class AppKernel extends Kernel
{
    public function registerBundles()
    {
        $bundles = array(
            new Symfony\Bundle\FrameworkBundle\FrameworkBundle(),
            new Symfony\Bundle\SecurityBundle\SecurityBundle(),
            new Symfony\Bundle\TwigBundle\TwigBundle(),
            new Symfony\Bundle\MonologBundle\MonologBundle(),
            new Symfony\Bundle\SwiftmailerBundle\SwiftmailerBundle(),
            new Symfony\Bundle\DoctrineBundle\DoctrineBundle(),
            new Symfony\Bundle\AsseticBundle\AsseticBundle(),
            new Sensio\Bundle\FrameworkExtraBundle\SensioFrameworkExtraBundle(),
            new JMS\SecurityExtraBundle\JMSSecurityExtraBundle(),
            new Ornicar\ApcBundle\OrnicarApcBundle(),
            new Your\OriginalBundle\YourOriginalBundle(),
        );

        if (in_array($this->getEnvironment(), array('dev', 'test'))) {
            $bundles[] = new Symfony\Bundle\WebProfilerBundle\WebProfilerBundle();
            $bundles[] = new Sensio\Bundle\DistributionBundle\SensioDistributionBundle();
            $bundles[] = new Sensio\Bundle\GeneratorBundle\SensioGeneratorBundle();
        }

        return $bundles;
    }

    public function registerContainerConfiguration(LoaderInterface $loader)
    {
        $loader->load(__DIR__.'/config/config_'.$this->getEnvironment().'.yml');
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-02-13T08:27:02.630

我还没有测试它

```
use Symfony\Component\HttpKernel\KernelInterface;
use Sensio\Bundle\GeneratorBundle\Manipulator\KernelManipulator;
use RuntimeException;

class SomeClass {
    /**
     * Register bundle in Kernel
     * @param  KernelInterface $kernel
     * @param  sting           $namespace
     * @param  sting           $bundle
     * @return boolean
     * @throws RuntimeException         When bundle already defined in <comment>AppKernel::registerBundles()</comment>
     */
    protected function registerBundle(KernelInterface $kernel, $namespace, $bundle)
    {
        $manip = new KernelManipulator($kernel);

        return $manip->addBundle($namespace.'\\'.$bundle);
    }
} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-10-26T07:28:50.173

从技术上讲，这当然是可能的，只是必须有人去做。

# dhtmlx - 更改 DHTMLX 调度程序中特定时间段的背景颜色

> ID：13082255
> 
> 赞同：0
> 
> 时间：2012-10-26T06:59:35.823
> 
> 标签：dhtmlx

在 Dhtmlx 调度程序中，我想更改特定时间段的背景颜色，例如下午 1 点到下午 2 点，前提是这不是“事件”。有没有办法做到这一点？

先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-31T15:03:02.987

您可以使用该方法实现此目的`scheduler.markTimespan`。

[请参阅此处](http://docs.dhtmlx.com/doku.php?id=dhtmlxscheduler%3aapi_method_dhtmlxscheduler_marktimespan)的文档。

# c - 动态分配文件指针数组

> ID：13082257
> 
> 赞同：2
> 
> 时间：2012-10-26T06:59:50.190
> 
> 标签：c, arrays, pointers, dynamic-allocation, file-pointer

是否可以在 C 中“动态”分配文件指针？我的意思是：

```
FILE **fptr;
fptr = (FILE **)calloc(n, sizeof(FILE*)); 
```

其中 n 是一个整数值。我需要一个指针值数组，但在获得用户输入之前我不知道有多少，所以我无法对其进行硬编码。任何帮助都会很棒！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:34:59.110

您正在尝试实现有时称为*灵活数组*（或*flex 数组*）的东西，即在程序生命周期内动态改变大小的数组。）在 C 的本机类型系统中不存在这样的实体，所以你必须自己实现它。在下文中，我将假设它`T`是数组中元素的类型，因为这个想法与任何特定类型的内容没有任何关系。（在你的情况下，`T`是`FILE *`。）

或多或少，您需要一个如下所示的结构：

```
struct flexarray {
    T *array;
    int size;
} 
```

以及一系列用于初始化和操作此结构的函数。首先，让我们看一下基本的访问器：

```
T  fa_get(struct flexarray *fa, int i) { return fa->array[i]; }
void fa_set(struct flexarray *fa, int i, T p) { fa->array[i] = p; }
int fa_size(struct flexarray *fa) { return fa->size; } 
```

请注意，为了简洁起见，这些函数不进行任何错误检查。`fa_get`在现实生活中，您应该在和中添加边界检查`fa_set`。这些函数假定`flexarray`已经初始化，但不显示如何执行此操作：

```
void fa_init(struct flexarray *fa) {
    fa->array = NULL;
    fa->size = 0;
} 
```

请注意，这开始时 flexarray 为空。使这样的初始化程序创建一个固定最小大小的数组是很常见的，但是从大小为零开始可以确保您执行您的数组增长代码（如下所示）并且在大多数实际情况下几乎没有成本。

最后，你如何做一个`flexarray`更大的？其实很简单：

```
void fa_grow(struct flexarray *fa) {
    int newsize = (fa->size + 1) * 2;
    T *newarray = malloc(newsize * sizeof(T));
    if (!newarray) {
        // handle error
        return;
    }
    memcpy(newaray, fa->array, fa->size * sizeof(T));
    free(fa->array);
    fa->array = newarray;
    fa->size = newsize;
} 
```

请注意，flexarray 中的新元素未初始化，因此您应该安排在从每个新索引*i*获取之前存储一些内容。

每次通过一些常数乘数来增长 flexarrays 通常来说是一个好主意。相反，如果您将其大小增加一个恒定增量，则您将花费​​二次时间来复制数组的元素。

我没有展示缩小数组的代码，但它与增长代码非常相似，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:04:29.610

无论如何，它只是指针，因此您可以为它们分配内存，但不要忘记`fclose()`每个文件指针，然后`free()`是内存

# google-apps-script - 如何或在哪里定义一个函数以用于多个电子表格？

> ID：13082260
> 
> 赞同：2
> 
> 时间：2012-10-26T06:59:53.567
> 
> 标签：google-apps-script

我在属于电子表格的脚本项目中定义了函数，并且也希望在其他电子表格中使用它们。这些是设计用于从电子表格中的单元格调用的函数。

我可以保存项目的一个版本，并将其作为库导入到另一个版本中，但这不允许直接从电子表格调用函数。（据我所知）。

如果我在 Drive 中创建一个独立的脚本项目，并将其作为库导入到两个电子表格中，也会出现同样的问题。

我应该将希望能够直接从多个电子表格调用的函数放在哪里？如果它们进入图书馆，我如何直接从电子表格中调用它们？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T10:47:56.800

要从电子表格中调用函数，所有这些函数都需要在电子表格的脚本中定义。

您可以做的是编写一个库，并在您希望此代码可用的每个电子表格中，提供可用的 shell 函数，这些函数又从库中调用实际函数。

因此，在电子表格的脚本编辑器中，编写一个函数，例如

```
function customFunc(arg1, arg2){ 
   return Library.customFunc(arg1, arg2); 
} 
```

您可以将 customFunc 放在一个可以完成艰苦工作的库中。

# java - 多次访问 Redis Q 时出现资源错误

> ID：13082264
> 
> 赞同：3
> 
> 时间：2012-10-26T07:00:07.513
> 
> 标签：java, android, redis, socketexception, jedis

这是我用于从 redis Q 访问值的代码。

```
Jedis jedis = null;
try
{
int maxActive = 1000;
int maxIdle = 5;
int minIdle = 1;
long maxWait = 5000;

JedisPoolConfig config = new JedisPoolConfig ();
config.setMaxActive (maxActive);
config.setMaxIdle (maxIdle);
config.setMinIdle(minIdle);
config.setMaxWait (maxWait);
config.setTestOnBorrow (false);
pool = new JedisPool (config, RedisServerURL) ;

jedis = pool.getResource();
jedis.getClient().setTimeoutInfinite();
redisQMesssage = jedis.rpop(RedisQ);
//my code           
}
catch (Exception e) 
{
e.printStackTrace();
}
finally{
pool.returnResource(jedis); 
pool.destroy();
} 
```

我在 3 个工作线程中有上述代码。我正在调用 3 个工作线程 40 次（总共）。
很少有 1/5 次我收到错误**“无法从池中获取资源（SocketTimeoutException :)”**

堆栈跟踪是

```
redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool
at redis.clients.util.Pool.getResource(Pool.java:22)
at Workers.Worker1.met1(Worker1.java:124)
at Workers.Worker1.work(Worker1.java:108)
at org.gearman.impl.worker.WorkerConnectionController$3.run(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source)  

Caused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: connect timed out
at redis.clients.jedis.Connection.connect(Connection.java:124)
at redis.clients.jedis.BinaryClient.connect(BinaryClient.java:54)
at redis.clients.jedis.BinaryJedis.connect(BinaryJedis.java:1657)
at redis.clients.jedis.JedisPool$JedisFactory.makeObject(JedisPool.java:63)
at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1188)
at redis.clients.util.Pool.getResource(Pool.java:20)
... 6 more  

Caused by: java.net.SocketTimeoutException: connect timed out
at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)
at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
at java.net.PlainSocketImpl.connect(Unknown Source)
at java.net.SocksSocketImpl.connect(Unknown Source)
at java.net.Socket.connect(Unknown Source)
at redis.clients.jedis.Connection.connect(Connection.java:119)
... 11 more 
```

请帮帮我。

# javascript - 如何为 TypeScript 文件创建模板？

> ID：13082266
> 
> 赞同：3
> 
> 时间：2012-10-26T07:00:38.723
> 
> 标签：javascript, typescript

我有以下内容：

```
(function ($) {
    /**
    * Opens a new modal window
    * @param object options an object with any of the following options
    * @return object the jQuery object of the new window
    */
    $.modal = function (options) {
        var settings = $.extend({}, $.modal.defaults, options),
            root = getModalDiv(), 
```

在我的代码中，我有：

```
///<reference path='jquery.d.ts' />
function alertWin(title, message) {
    $.modal({ 
```

有一个错误说：

'JQueryStatic' 类型的值不存在属性模式

为了解决这个问题，我需要创建某种模板文件吗？如果需要，我该怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:39:36.630

只需扩展JQueryStatic的接口，可以在任何文件中完成，typescript将它们合并

```
interface JQueryStatic {
  modal( options );
} 
```

# ruby-on-rails - 努力理解模型和关联是如何保存在 Rails 中的

> ID：13082267
> 
> 赞同：5
> 
> 时间：2012-10-26T07:00:47.757
> 
> 标签：ruby-on-rails, ruby, json, validation, associations

我是 ruby​​ 和 rails 的新手，我想尽可能地遵循编码标准和约定，所以我不会养成任何坏习惯。我有两个模型：课程和位置。一门课程属于一个位置，因为一门课程只能有一个位置。一个位置有多个课程，因为一个位置可以由多个课程共享。

创建课程时，可能已经存在通过其 ID 找到的位置。或者该位置可能还不存在，在这种情况下，必须创建一个新的位置记录。我的课程控制器具有以下创建操作。

```
def create
  @course = Course.new(params[:course])

  if params[:course][:location][:id].blank?
    @course.location = Location.create(params[:course][:location])
  else
    @course.location = Location.find_by_id(params[:course][:location][:id])
  end

  @course.save

  respond_with @course
end 
```

请注意，这是一个仅使用 JSON 响应的 REST API。发出请求的 javascript 以与 GET 请求返回的相同格式发布 JSON 数组

```
{
  "course":
  {
    "title":"US History",
    "credits":"3",
    "max_students":"100",
    "location":
    {
      "id":"",
      "building":"Freedom Hall",
      "room":"301"
    }
  }
}

or

{
  "course":
  {
    "title":"US History",
    "credits":"3",
    "max_students":"100",
    "location":
    {
      "id":"12", # this is the only difference
      "building":"Freedom Hall",
      "room":"301"
    }
  }
} 
```

1.  与我读过的所有示例相比，这段代码看起来并不那么优雅。有没有更好的方法来分解它？
2.  如果 Location.create 引发异常，还会调用 @course.save 吗？我需要使用 Location.create! 吗？
3.  同样，验证错误是否会出现在 @course.errors 中，即使错误出现在 Location 模型上？我是否需要从异常中解救，以便将错误返回给客户端？

非常感谢您的任何帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:17:16.690

您可以使用`find_or_initialize_by_id`. 这应该有效：

```
def create
  @course = Course.new(params[:course])
  @course.location = Location.find_or_initialize_by_id(params[:course][:location][:id],
                                                       params[:course][:location])
  @course.save
  respond_with @course
end 
```

关于您的第二个问题，在您的代码中，如果（或）引发异常（因为它们会首先发生） ，`@course.save`则不会调用它。但是，按照我上面的编码方式，异常会发生在代码中的同一点，当被调用时，关联也会被保存。`Location.create``Location.find``save`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:15:13.717

试试这个，在你的控制器中

```
def new
  @course = Course.new 
  @location = @course.location.build # if one..many relationship
  @location = @course.build_location # if one..one relationship
end

def create
 @course = Course.new(params[:course])
 if @course.save
   respond_with @course
 else
   render :action => "new"
 end
end 
```

更多关于[nested_attributes](http://railscasts.com/episodes/196-nested-model-form-part-1)

# kineticjs - kineticjs - click 事件也会在 dblclick 上触发

> ID：13082268
> 
> 赞同：3
> 
> 时间：2012-10-26T07:01:01.457
> 
> 标签：kineticjs

我正在处理“dblclick”事件，如果我为一个形状注册一个 click 和 dblclick 事件，在调用 dblclick 事件代码之前会调用两次 click 事件。这种行为让我的代码发疯了。因为我有一些点击操作和不同的 dblclick 操作集。我不确定这是 kineticjs 中的错误还是预期的行为。在处理这个问题时，我需要帮助。我需要帮助使 dblclick 在不调用 click 事件的情况下工作。请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T13:47:22.917

似乎这不是动力学问题，而只是一般的 DOM 事件。

[dblclick 事件触发时防止触发 click 事件](https://stackoverflow.com/questions/880608/prevent-click-event-from-firing-when-dblclick-event-fires)

# mysql - 2个同ID表的内连接

> ID：13082272
> 
> 赞同：5
> 
> 时间：2012-10-26T07:01:08.460
> 
> 标签：mysql, sql, join, inner-join

我有一个表（`T1`），其中 2 列（`X`和`Y`）是 id。这些对应的名称`id`在另一个表 ( `T2`) 中的列`name`。

假设我只是在`X`那时使用，一个简单的内连接就可以解决我在获取名称方面的问题。

如

```
Select T1.somedata,T1.somedata1,T2.name from T1
Inner Join T2 ON T1.X=T2.id 
```

但是，如果我想为`T1.Y`也解析名称怎么办？，`name`内部连接会将其解析为哪个？

```
Select T1.somedata,T1.somedata1,T2.name from T1
Inner Join T2 ON T1.X=T2.id
Inner Join T2 ON T1.Y=T2.id 
```

上面的查询是错误的，我知道。我可以得到与`name`两者对应的 s吗？`T1.X``T1.Y``INNER Join`

-初学者

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-26T07:02:48.647

我建议始终为表和列添加别名。因此，您将确定选择了哪些数据。

```
select
    T1.somedata,
    T1.somedata1,
    T2X.name as XName,
    T2Y.name as YName
from T1 as T1
    inner join T2 as T2X on T2X.id = T1.X
    inner join T2 as T2Y on T2Y.id = T1.Y 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:03:54.680

这会选择两个名称作为单独的列：

```
Select T1.somedata,T1.somedata1,T2a.name, T2b.name 
from T1
Inner Join T2 as T2a ON T1.X=T2a.id 
Inner Join T2 as T2b ON T1.Y=T2b.id 
```

以下将在结果集中生成两条记录：

```
Select T1.somedata, T1.somedata1, T2.name
from T1
Inner Join T2 ON T1.X=T2.id Or T1.Y=T2.id 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T07:04:00.297

您需要两次加入表`T2`并在名称上提供别名以避免歧义。

```
SELECT  a.*, 
        b.name as NameB, 
        c.name as NameC
FROM    T1 a
        INNER JOIN T2 b
            ON a.x = b.id
        INNER JOIN T2 c
            On a.y = c.id 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-17T07:05:46.567

您需要两次连接表 T2 并在名称上提供别名以避免歧义。

```
SELECT  a.*, 
        b.name as NameB, 
        c.name as NameC
FROM    T1 a
        INNER JOIN T2 b
            ON a.x = b.id
        INNER JOIN T2 c
            On a.y = c.id 
```

# android - 在 android 中使用 KSOAP2 调用 .NET Web 服务时出错

> ID：13082273
> 
> 赞同：1
> 
> 时间：2012-10-26T07:01:10.017
> 
> 标签：android, android-ksoap2

**这是 .net 中定义的 User 类**

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace Properties
{

    public class User
    {
        private int userId;
        private String location;
        private String firstName;
        private String lastName;
        private String email;
        private String password;
        private int userType;
        private int loginStatus;
        private String login;

        public int UserId
        {
            get
            {
                return userId;
            }

            set
            {
                userId = value;
            }

        }

        public String Location
        {
            get
            {
                return location;
            }

            set
            {
                location = value;
            }

        }

        public String FirstName
        {
            get
            {
                return firstName;
            }

            set
            {
                firstName = value;
            }

        }

        public String LastName
        {
            get
            {
                return lastName;
            }

            set
            {
                lastName = value;
            }
        }

        public String Email
        {
            get
            {
                return email;
            }

            set
            {
                email = value;
            }
        }

        public String Password
        {
            get
            {
                return password;
            }

            set
            {
                password = value;
            }
        }

        public int UserType
        {
            get
            {
                return userType;
            }

            set
            {
                userType = value;
            }

        }

        public int LoginStatus
        {
            get
            {
                return loginStatus;
            }

            set
            {
                loginStatus = value;
            }

        }

        public String Login
        {
            get
            {
                return login;
            }

            set
            {
                login = value;
            }

        }
    }

} 
```

**这是.net中Web服务的方法签名**

```
 [OperationContract]
        int addUser(User user); 
```

此方法将用户信息添加到数据库。

我想在android中调用这个网络服务方法

**这是用户类定义**

```
package com.webservice;

import java.util.Hashtable;

import org.ksoap2.serialization.KvmSerializable;
import org.ksoap2.serialization.PropertyInfo;

public class User implements KvmSerializable {

    public int userId;
    public String location;
    public String firstName;
    public String lastName;
    public String email;
    public String password;
    public int userType;
    public int loginStatus;
    public String login;

    public User() {
    }

    public User(int userId, String location, String firstName, String lastName,
            String email, String password, int userType, int loginStatus,
            String login) {
        this.userId = userId;
        this.location = location;
        this.firstName = firstName;
        this.lastName = lastName;
        this.email = email;
        this.password = password;
        this.userType = userType;
        this.loginStatus = loginStatus;
        this.login = login;

    }

    public Object getProperty(int arg0) {
        switch (arg0) {
        case 0:
            return userId;
        case 1:
            return location;
        case 2:
            return firstName;
        case 3:
            return lastName;
        case 4:
            return email;
        case 5:
            return password;
        case 6:
            return userType;
        case 7:
            return loginStatus;
        case 8:
            return login;
        }

        return null;
    }

    public int getPropertyCount() {
        // TODO Auto-generated method stub
        return 9;
    }

    public void getPropertyInfo(int index, Hashtable arg1, PropertyInfo info) {
        switch (index) {
        case 0:
            info.type = PropertyInfo.INTEGER_CLASS;
            info.name = "userId";
            break;
        case 1:
            info.type = PropertyInfo.STRING_CLASS;
            info.name = "location";
            break;
        case 2:
            info.type = PropertyInfo.STRING_CLASS;
            info.name = "firstName";
            break;
        case 3:
            info.type = PropertyInfo.STRING_CLASS;
            info.name = "lastName";
            break;
        case 4:
            info.type = PropertyInfo.STRING_CLASS;
            info.name = "email";
            break;
        case 5:
            info.type = PropertyInfo.STRING_CLASS;
            info.name = "password";
            break;
        case 6:
            info.type = PropertyInfo.STRING_CLASS;
            info.name = "userType";
            break;
        case 7:
            info.type = PropertyInfo.STRING_CLASS;
            info.name = "login";
            break;
        default:
            break;
        }
    }

    public void setProperty(int index, Object value) {
        switch (index) {
        case 0:
            userId = Integer.parseInt(value.toString());
            break;
        case 1:
            firstName = value.toString();
            break;
        case 2:
            lastName = value.toString();
            break;
        case 3:
            email = value.toString();
            break;
        case 4:
            password = value.toString();
            break;
        case 5:
            userType = Integer.parseInt(value.toString());
            break;
        case 6:
            loginStatus = Integer.parseInt(value.toString());
            break;
        case 7:
            login = value.toString();
            break;
        default:
            break;
        }
    }

} 
```

**这是活动代码**

```
public class WebServiceDemoActivity extends Activity {
    /** Called when the activity is first created. */

    private static String SOAP_ACTION3 = "http://tempuri.org/IServiceLibrary/addUser";
    private static String NAMESPACE = "http://tempuri.org/";    
    private static String METHOD_NAME3 = "addUser";
    private static String URL = "http://xxx.xxx.xxx.xxx:8030/ServiceLibrary/Service1.svc?wsdl";

    Button btnFar, btnCel, btnClear;
    EditText txtFar, txtCel;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        btnFar = (Button) findViewById(R.id.btnFar);        

        btnFar.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {

                    long messageId = 0;
                    Boolean messageSpecified;
                    User user = new User();
                    user.email = "arunm@camo.com";
                    user.location = "banaglore";
                    user.firstName = "arun";
                    user.lastName = "m";
                    user.login = "arun";
                    user.password = "camo@india";
                    user.userType = 0;
                    user.loginStatus = 1;

                    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME3); 
                    PropertyInfo propertyInfo = new PropertyInfo();
                    propertyInfo.setName("user");
                    propertyInfo.setValue(user);
                    propertyInfo.setType(user.getClass());
                    request.addProperty(propertyInfo);

                    SoapSerializationEnvelope envelope = 
                        new SoapSerializationEnvelope(SoapEnvelope.VER11); 
                    envelope.dotNet=true;
                    envelope.setOutputSoapObject(request);
                    envelope.addMapping(NAMESPACE, "User", user.getClass(), new Marshal(

                    ) {

                        public void writeInstance(XmlSerializer arg0, Object arg1)
                                throws IOException {
                            // TODO Auto-generated method stub

                        }

                        public void register(SoapSerializationEnvelope arg0) {
                            // TODO Auto-generated method stub

                        }

                        public Object readInstance(XmlPullParser arg0, String arg1, String arg2,
                                PropertyInfo arg3) throws IOException, XmlPullParserException {
                            // TODO Auto-generated method stub
                            return null;
                        }
                    });
                    HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
                    SoapFault soapFault=null;
                    SoapObject soapObject=null;
                    try {
                        androidHttpTransport.call(SOAP_ACTION3, envelope);
                        Object body = envelope.bodyIn;
                        if(body instanceof SoapObject)
                            soapObject = (SoapObject) envelope.bodyIn;
                        else if(body instanceof SoapFault){
                            soapFault = (SoapFault)envelope.bodyIn;
                            System.out.println("Error encountered is:"+soapFault.faultstring);
                            //Toast.makeText(getApplicationContext(), "", duration)
                        }
                    } catch (Exception e) {
                        e.printStackTrace();
                        System.out.println("Error encountered is:"+e.getMessage());
                    }

                    if (messageId == -1) {
                        Toast.makeText (getApplicationContext(), "Failed to send message", Toast.LENGTH_SHORT);
                    } else {
                        Toast.makeText (getApplicationContext(), "Message sent successfully, message id is:"+messageId, Toast.LENGTH_SHORT);
                    }               
            }
        });
    }
} 
```

*当我跑步时，我遇到了错误*

SoapFault - faultcode: 'a:DeserializationFailed' faultstring: '格式化程序在尝试反序列化消息时抛出异常：尝试反序列化参数[http://tempuri.org/:user](http://tempuri.org/:user)时出错。InnerException 消息是“第 1 行位置 344 中的错误。元素“http://tempuri.org/:user”包含映射到名称“http://tempuri.org/:User”的类型的数据。反序列化器不知道映射到此名称的任何类型。考虑使用 DataContractResolver 或将与“用户”对应的类型添加到已知类型列表中 - 例如，通过使用 KnownTypeAttribute 属性或将其添加到传递给 DataContractSerializer 的已知类型列表中。有关更多详细信息，请参阅 InnerException。故障者：“空”

请帮帮我，很紧急。

提前致谢。

# intellij-idea - Intellij Idea：不断要求增加内存

> ID：13082282
> 
> 赞同：0
> 
> 时间：2012-10-26T07:01:40.157
> 
> 标签：intellij-idea, heap-memory, performance

我的 intellij 想法运行速度非常慢，即使我给它的内存超过 4 GB，它也会不断要求更多的内存。我该如何摆脱这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:05:17.847

[清理 IntelliJ Idea 中的系统缓存](http://www.jetbrains.com/idea/webhelp/cleaning-system-cache.html)。如果您一直在为具有许多不同库的许多项目运行相同的 Idea 实例，这将很有帮助......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T07:31:15.340

我删除了包含所有配置和其他信息的 ~/.IntellijIdea* 文件夹。这对我有用。不确定是否有更简单的解决方案。

# c# - 如何授予我的 Windows 服务管理员权限

> ID：13082284
> 
> 赞同：3
> 
> 时间：2012-10-26T07:01:53.560
> 
> 标签：c#, windows-services

我有一个 winform，允许我使用以下代码启用和禁用我所有 8 岁的网络适配器：

```
protected override void OnStart(string[] args)
    {
        //start timer
        SelectQuery query = new SelectQuery("Win32_NetworkAdapter","NetConnectionStatus=2");
        ManagementObjectSearcher search = new ManagementObjectSearcher(query);
        foreach (ManagementObject result in search.Get())
        {
            NetworkAdapter adapter = new NetworkAdapter(result);

            adapter.Disable();
            enabled = false;

        }

        InternetCheckTimer.Start();
    } 
```

假设我以管理员身份运行，此代码在 win 表单上运行良好。我以前从未编写过 win 服务，所以问题可能出在其他地方，我可以使用 installutill 安装并将调试器附加到进程，但是没有遇到断点。我已经尝试启动和停止进程，但无法附加调试器，所以我可能也做错了......现在我假设代码正在运行，我太愚蠢了，无法让调试器工作。也就是说，我认为我的代码需要服务像表单那样具有管理员才能工作。

抱歉，如果不清楚，如果您需要更多信息，我会尽力澄清。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:11:48.943

使用服务的用户名和密码，并确保启动服务的用户拥有应用程序运行所需的所有权限。如果您可以控制服务，另一种可能性是使用模拟，请参阅： http: [//www.codeproject.com/Articles/4051/Windows-Impersonation-using-C](http://www.codeproject.com/Articles/4051/Windows-Impersonation-using-C)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:34:07.700

您可以尝试几个选项。

1.  添加 app.manifest
2.  安装window服务后，设置服务权限以最高权限运行，还可以设置登录用户的用户名和密码。

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2014-02-17T11:34:20.123

如何在 Windows 7 中获得完全管理员权限：

1.  点击开始
2.  单击计算机（您可能还会在桌面上找到此图标）。
3.  右键单击安装操作系统的硬盘图标，然后单击属性。
4.  单击安全选项卡。
5.  单击高级选项卡。
6.  单击位于权限条目列表后的更改权限按钮。
7.  屏幕上将出现一个新窗口；其中包含所有用户帐户的列表
8.  选择您想要完全控制您的 Windows 7 的用户帐户）并单击“编辑”按钮。
9.  现在，勾选标有“Total Control”的复选框，然后按 OK。

你们都完成了！

# facebook-opengraph - 打开图表：显示用户的时间线，无需用户进行任何设置

> ID：13082285
> 
> 赞同：1
> 
> 时间：2012-10-26T07:02:08.127
> 
> 标签：facebook-opengraph, facebook-timeline

我和我的同事最近在 Facebook Open Graph 工作，今天完成了。它工作正常，但我们只有一个问题。

当用户在我们的应用程序上做某事时，它会自动显示 Facebook 的时间线，并带有“时间线允许”选项。因此，用户必须手动更改它“在时间轴上显示”，然后它会出现一个时间轴。

我们已经使用了“publish_stream”，它不会改变任何东西。有什么解决办法吗？

# asp.net-mvc - .Net 中的 MVC Web 服务

> ID：13082287
> 
> 赞同：1
> 
> 时间：2012-10-26T07:02:10.657
> 
> 标签：asp.net-mvc

在 MVC Web 服务而不是 asmx 和 WCF Web 服务中工作有什么用处。谁能说说这三者的区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:29:16.097

关于 WCF Web 服务和 ASPNET Web 服务 (ASMX)，您可以从 MSDN 中找到并排比较：[Comparing ASP.NET Web Services to WCF Based on Development](http://msdn.microsoft.com/en-us/library/aa738737.aspx)

如果您正在制作 MVC 应用程序，您可以同时使用 ASMX 和 WCF Web 服务，但**我强烈建议在任何新开发中使用 WCF Web 服务。**

有关信息，我认为比较适合的博客是：[ASMX Vs WCF](http://fuchangmiao.blogspot.in/2008/09/wcf-vs-asmx.html)

> **WCF 与 ASMX**
> 
> *协议支持*
> 
> WCF
> 
> *   HTTP
> *   TCP
> *   命名管道
> *   MSMQ
> *   风俗
> *   UDP
> 
> ASMX
> 
> *   仅 HTTP
> 
> *托管*
> 
> ASMX
> 
> *   只能使用 IIS 上的 HttpRuntime 托管。
> 
> WCF
> 
> *   WCF 组件可以托管在 .NET 3.0 中的任何类型的环境中，例如控制台应用程序、Windows 应用程序或 IIS。
> *   WCF 服务被称为“服务”而不是 Web 服务，因为您可以在没有 Web 服务器的情况下托管服务。
> *   自托管服务使您可以灵活地使用 HTTP 以外的传输方式。
> 
> *WCF 向后兼容性*
> 
> *   WCF 的目的是为分布式应用程序提供统一的编程模型。
> *   向后兼容性
> *   WCF 采用现有技术堆栈的所有功能，而不依赖其中任何一个。
> *   使用这些早期技术构建的应用程序将继续在安装了 WCF 的系统上保持不变。
> *   现有应用程序可以使用 WCF 进行升级
> *   新的 WCF 事务应用程序将与基于 System.Transactions 构建的现有事务应用程序一起使用
> 
> *WCF 和 ASMX 集成*
> 
> *   WCF 可以使用 WS-* 或 HTTP 绑定与 ASMX 页面进行通信
> 
> *ASMX 的限制*：
> 
> *   ASMX 页面不会告诉您如何通过传输传递它并使用特定类型的安全性。这是 WCF 显着增强的东西。
> *   ASMX 与 HTTP 运行时紧密耦合，并且依赖于 IIS 来托管它。WCF 可以由任何能够承载 .NET Framework 3.0 的 Windows 进程承载。
> *   ASMX 服务在每次调用的基础上进行实例化，而 WCF 通过提供各种实例化选项（例如单例、私人会话、每次调用）为您提供了灵活性。
> *   ASMX 提供了互操作性的方式，但它不提供或保证端到端的安全性或可靠的通信。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-03T19:11:44.113

我是维护[ServiceStack](http://www.servicestack.net/)的核心团队的一员，这是在 .NET / Mono 上构建基于 REST 的服务的另一个[非常流行的选择。](https://github.com/ServiceStack/ServiceStack/wiki/Contributors)

### 支持基于 REST、SOAP 和 MQ 的服务

除了基于 REST 的服务之外，您还可以重复使用相同的服务来支持 SOAP 和基于 REST 的端点。ServiceStack 还包括 .NET 最快的[JSON、JSV 和 CSV 文本序列化程序](https://github.com/ServiceStack/ServiceStack.Text)。这是一个较早的答案，比较了它[相对于 WCF 和 WebApi 的优势](https://stackoverflow.com/a/9709236/85785)。

### 简洁、类型化、端到端的 API

ServiceStack 还包括所有主要支持格式的类型化通用服务客户端，包括：JSON、XML、JSV、SOAP 1.1/1.2 以及超快速二进制[ProtoBuf](https://github.com/ServiceStack/ServiceStack/wiki/Protobuf-format)和[MessagePack](https://github.com/ServiceStack/ServiceStack/wiki/MessagePack-Format)格式。

ServiceStack 的通用服务客户端提供最[简洁、类型化的端到端客户端/服务器 API](https://github.com/ServiceStack/ServiceStack/wiki/New-Api)，无需任何代码生成。

### ServiceStack 概览幻灯片

今年的[ServiceStack Overview Talk](http://www.slideshare.net/newmovie/what-istheservicestack-14819151) MonkeySpace[很好](http://monkeyspace.org/)地介绍了 ServiceStack 及其优势。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:51:28.200

关于 WCF 优于 ASMX 的优点，我无法在此处的其他帖子中脱颖而出，它来自源代码（微软），我将添加到该帖子中，因为它没有提及 MVC Web API，这是......你的问题实际上取决于您要解决的问题。如果您尝试进行消息传递、消息队列或较低级别的 tcp/ip，它仍然是 WCF..

我是一个现代世界的程序员，尽管他们来得那么懒惰.. ASMX 和 WCF 技术对我来说开始有点过时了，例如，一个典型的 WCF 实现可能会有一个与之关联的大量 XML 配置，如果这是你习惯的工作方式，那么它可能会感觉很自然。

我喜欢类型安全，讨厌魔术字符串，更讨厌在大型 XML 中挖掘，在我看来，这是运行时错误的路径。

如果您使用 MVC 框架创建了 Web 应用程序，那么使用 mvc webapi 的学习曲线几乎为零。

所有标准的东西，如路由、模型和控制器，仍然以完全相同的方式应用，所有的 HTTP 动词都可以使用......

只需最少的努力，您的所有路由和控制器都可以以完全类型安全的方式（无字符串）使用，所以如果它被破坏，那么它可能无法编译......

*此外，编写单元*测试来练习控制器比单元测试 ServiceContract容易得多

我不确定，但出于与上述相同的原因，我希望 MVC 路线比 WCF 更适合 IoC/DI，但我准备在这方面犯错。

你能说我有偏见吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-26T08:21:00.837

这是一个主观问题，关于 3; WCF 更适合层与层之间的通信，asmx 基本上是我们在 wcf 出现之前使用的，并且由于 mvc 的灵活性，它可以在许多场景中使用。然而，WCF 非常适合实现 OData 服务。

我个人使用 MVC 在客户端层上为 AJAX 交互实现 Web 服务，并且已经在几个项目中这样做了。优点是我没有单独的项目，因此前端堆栈重量轻且干燥，更高效，以这种方式组织代码对我来说更符合逻辑。

恕我直言 wcf 的开销太大，对于简单的 JSON 序列化来说过于复杂。我个人认为在 n 层架构站点中使用 MVC 而不是 WCF 是有道理的。

本文着眼于在臭名昭著的 NerdDinnerd 项目[书呆子晚餐休息中使用它](http://blogs.msdn.com/b/mvpawardprogram/archive/2011/09/12/using-mvc-as-a-rest-service-that-is-accessed-by-jquery-javascript.aspx)

有几个框架，例如 OpenRasta，但我发现标准的 mvc.net 工具绰绰有余。

此外，haacked 的一篇好文章在这里：[haacked.com](http://haacked.com/archive/2009/08/17/rest-for-mvc.aspx)

# android - OpenGL ES2：使用 FrameBuffer 对象更快地渲染许多形状

> ID：13082289
> 
> 赞同：0
> 
> 时间：2012-10-26T07:02:23.417
> 
> 标签：android, opengl-es-2.0

我有一个程序可以绘制超过 90 个带有纹理的 2D 形状，用户可以通过触摸屏幕来拾取和拖动这些形状。有明显的波动，DDMS 告诉我，占用最多 CPU 时间 (~85%) 的一种方法是 draw() 方法。由于实际上只有 1 个形状在移动，而其他 89 个形状没有移动，是否可以/更快地使用 FrameBuffer 对象将 89 个形状渲染到纹理并在填充整个屏幕的形状上绘制该纹理？如果没有，是否还有其他可能的加快速度的方法？

```
private void draw() {
    // Pass in the position information
    mCubePositions.position(0);
    GLES20.glVertexAttribPointer(mPositionHandle, mPositionDataSize, GLES20.GL_FLOAT, false, 0, mCubePositions);
    GLES20.glEnableVertexAttribArray(mPositionHandle);

    // Pass in the color information
    mCubeColors.position(0);
    GLES20.glVertexAttribPointer(mColorHandle, mColorDataSize, GLES20.GL_FLOAT, false, 0, mCubeColors);
    GLES20.glEnableVertexAttribArray(mColorHandle);

    // Pass in the texture coordinate information
    mCubeTextureCoordinates.position(0);
    GLES20.glVertexAttribPointer(mTextureCoordinateHandle, mTextureCoordinateDataSize, GLES20.GL_FLOAT, false, 0, mCubeTextureCoordinates);
    GLES20.glEnableVertexAttribArray(mTextureCoordinateHandle);

    // This multiplies the view matrix by the model matrix, and stores the
    // result in the MVP matrix
    // (which currently contains model * view).
    Matrix.multiplyMM(mMVPMatrix, 0, mViewMatrix, 0, mModelMatrix, 0);

    // Pass in the modelview matrix.
    GLES20.glUniformMatrix4fv(mMVMatrixHandle, 1, false, mMVPMatrix, 0);

    // This multiplies the modelview matrix by the projection matrix, and
    // stores the result in the MVP matrix
    // (which now contains model * view * projection).
    Matrix.multiplyMM(mMVPMatrix, 0, mProjectionMatrix, 0, mMVPMatrix, 0);

    // Pass in the combined matrix.
    GLES20.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mMVPMatrix, 0);

    // Draw the cube.
    GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, 6);
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:34:25.960

*当它意味着四边形时，我对提到“立方体”的问题感到困惑，所以这个答案涉及 3d 案例，无论如何这可能更具启发性。*

将视图和投影矩阵组合成一个 ViewProj 矩阵。然后在垂直着色器中执行 VertexPos * Model * ViewProj。

你也真的需要批处理。您应该有一个包含所有立方体的大数组，以及另一个包含每个立方体的变换的数组。然后你对*所有的立方体*进行一次绘制调用。考虑将其转换为使用顶点缓冲区对象。绘图调用是 CPU 密集型的，因为它们在后台调用 API 中的一大堆逻辑和内存复制等。游戏引擎竭尽全力将它们最小化。

**如何让一个绘图调用绘制很多东西**

将所有不同的纹理放入单个纹理（“图集”）中，并通过调整每个立方体的 UV 以查找纹理的适当部分来进行补偿。将所有模型矩阵放入一个连续数组中，并在顶点着色器中索引到该数组，例如

```
attribute vec3 a_position;
attribute vec2 a_texCoord;
attribute int  a_modelIndex;
attribute int  a_UVlIndex;

uniform   mat4   u_model[90];
uniform   vec2   u_UVOffset[16];   // Support 16 different textures in our atlas.

varying   vec2   v_texCoord;
...

void main()
{
    gl_Position = u_viewProj * u_model[a_modelIndex] * vec4(a_position, 1);
    v_texCoord  = a_texCoord + u_UVOffset[a_UVlIndex];
    ...
} 
```

您可以将所有顶点数据打包到一个大数组中，因此您最终会这样做。`GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, 6 * 90);`但更好的是，由于您一直在绘制立方体，因此每次都可以重复使用*完全相同的顶点数据。*模型矩阵负责其余部分（缩放、旋转、平移）。为此，请使用[`glDrawElements`](http://www.khronos.org/opengles/sdk/docs/man/xhtml/glDrawElements.xml)而不是 glDrawArrays，并且 --- 为简单起见假设三列表 --- 指定 36 个索引，这些索引引用顶点数组中构成立方体的 36 个顶点，然后只需将这 36 个索引重复 90 次即可创建索引大批。顶点应该是一个单位立方体，以 (0, 0, 0) 为中心。然后这个相同的“立方体模板”被顶点着色器中的模型矩阵修改，以创建每个可见的“立方体实例”。唯一需要更改每一帧的是模型矩阵和纹理 UV。

`glVertexAttribPointer()`允许您将几乎任何您喜欢的东西喷入您的顶点着色器，并且将模型矩阵作为属性而不是使用 glVertexAttribPointer 进行一些创造性使用可能会更有效。

移动设备往往对像素绑定非常敏感。如果你的立方体在屏幕上相当大，你可能会得到很多透支。高 CPU 百分比（毕竟只是一个*百分比）可能是一个红鲱鱼，你可能会在 GPU 上受到像素限制。*一个简单的测试是让所有的立方体都非常小，看看帧率是否有所提高。

作为参考，[S5570](http://www.gsmarena.com/samsung_galaxy_mini_s5570-3725.php)有一个[Adreno 200 GPU](https://developer.qualcomm.com/discover/chipsets-and-modems/adreno-gpu)。

# asp.net - 如何在 datalist 控件中添加滑块

> ID：13082290
> 
> 赞同：0
> 
> 时间：2012-10-26T07:02:23.620
> 
> 标签：asp.net

我想在 datalist 控件中添加滑块。

```
<ItemTemplate>
<img alt=""  src='Image/<%#Eval("Image") %>' /><br />
</a>
<h4><asp:Label ID="lb" runat="server" Font-Bold="True" Font-Size="12pt" Text='<%# Eval("Title") %>'></asp:Label><br />
Product Code: <span><%# Eval("product_code") %></span></h4>
<span ><del>&#2352;</del><%# Eval("Our_price") %>INR</span><br />
<a href='Shopping_Cart.aspx?cart_id=<%# Eval("id") %>'>Add to Cart</a> 
```

现在我想添加滑块，以便所有产品都可以与图像一起滑动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:17:13.030

你的问题不清楚我的理解是你想滚动你的项目列表。给你的数据列表一个固定的大小（高度和宽度）和溢出：在 css 中滚动

```
style='height:400;width:500; overflow:scrolling' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-30T13:50:53.373

我知道您可以动态执行此操作。您可以在数据列表中使用图像滑块，如下所示：

```
<div id="box">

<div id="slider">
    <div class="slider">

        <ul>
            <asp:DataList ID="DataList1" runat="server" RepeatColumns="7" RepeatDirection="Horizontal">
                <ItemTemplate>
                    <li><a href="#"><img src='<%#Eval("Path") %>' alt="" width="272" height="170" runat="server"/></a></li>
                </ItemTemplate>

            </asp:DataList> 

        </ul>

    </div>

    <div class="sliderButon">
    <a href="#" class="onceki">Previous</a>
    <a href="#" class="sonraki">Next</a>
    </div>
</div>
</div> 
```

# notepad++ - 如何让记事本++控制台输出丰富多彩

> ID：13082292
> 
> 赞同：2
> 
> 时间：2012-10-26T07:02:29.833
> 
> 标签：notepad++, nppexec

如何让记事本++控制台输出丰富多彩
例如：我运行一些nppexec脚本并在控制台中输出这样的文本

[资源] => 资源 id #574
[光标] => 2
[EOF] => 1
[字段] => 数组

输出都是黑色的。但我想让 [...] 变成绿色。如何设置？ ![在此处输入图像描述](../Images/6ac4b9ade0dfd2b02bcdc33ef7464497.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T11:39:45.057

您需要设置过滤器。按`SHIFT`+`F6`然后您可以设置通配符匹配并定义颜色，例如我的是；

![在此处输入图像描述](../Images/d5e9bd4fad6d86d1b3d07ec1c171b7b4.png)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-26T07:05:15.443

您需要先保存文件，然后在 [另存为] 对话框中，选择与文本匹配的格式（例如，C++/Visual Basic/Java/...等）。

# java - 如何导入包中的jar文件？

> ID：13082299
> 
> 赞同：0
> 
> 时间：2012-10-26T07:02:56.650
> 
> 标签：java, jar

我有一个名为[stdlib-package](http://algs4.cs.princeton.edu/code/)的 jar 文件，这个 jar 文件中的**.class**文件都在一个**edu.princeton.cs.introcs**包 中

例如，我想在我自己的代码中使用该 jar 文件中名为**StdDraw的一个类**

说**E:\code**是我当前的工作目录。像其他条件一样，我创建了一个子目录**bin\edu\princeton\cs\introcs**来 放入**stdlib-package**

这是我的代码：

```
package com.david.test;
import edu.princeton.cs.introcs.stdlib-package.*; // any problems here ?

public class DrawTest
{
    public static void main(String[] args)
    {
        StdDraw.line(0.5, 0.5, 1, 0.5);
    }
} 
```

然后我把**DrawTest.java**放在**src\com\david\test**

要编译**DrawTest.java**，我在命令行中键入命令：

```
javac -d bin -cp bin\edu\princeton\cs\introcs\stdlib-package.jar src\com\david\test\DrawTest.java 
```

但它失败了：包**edu.princeton.cs.introcs.stdlib_package**不存在......

找了好久都没找到答案
谢谢大家帮忙

**EDIT===**
@EJP 的评论也解决了我的问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:05:56.160

这应该是您在代码中需要的全部内容：

```
import edu.princeton.cs.introcs.* 
```

然后你只需要确保 jar 在你的类路径上；罐子的名称是什么或它在哪里并不重要。如果它在您的类路径中，Java 将加载它，并使用其中文件的位置。

将 jar 移动到`lib`当前目录中的目录中，然后执行类似的操作

```
javac -cp lib\stdlib-package.jar src\com\david\test\DrawTest.javac 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:11:43.187

您的导入错误。该 .jar 文件中没有这样的包。

```
import edu.princeton.cs.introcs.*; 
```

但是，总的来说，这是一种不好的做法，您实际上应该只导入您需要的内容：

```
import edu.princeton.cs.introcs.StdDraw; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:12:15.743

我知道没有名称为“stdlib-package”的包。

如果您使用的类的完全限定名称是 edu.princeton.cs.introcs.StdDraw，您可以只导入 'edu.princeton.cs.introcs.StdDraw'

```
 import edu.princeton.cs.introcs.StdDraw 
```

如果要加载该包中的所有类

```
 import edu.princeton.cs.introcs.* 
```

# javascript - JS 提示 - 不要在循环中创建函数

> ID：13082302
> 
> 赞同：62
> 
> 时间：2012-10-26T07:03:15.323
> 
> 标签：javascript, jshint

我无法绕过 JSHint 的错误消息。这是我正在使用的循环：

```
for (i = 0; i < Collection.length; i += 4) {
    data.push({
        items : Collection.slice(i, i + 4).map(function(item) {
            return {
                id: item[0],
                title: item[1],
            };
        })
    });
} 
```

* * *

## 回答 #1

> 赞同：121
> 
> 时间：2012-10-26T07:08:42.330

您可以将函数移到循环之外并将对它的引用传递给`map`：

```
function mapCallback(item) {
    return {
        id : item[0],
        title : item[1],
    };
}
for (i = 0; i < Collection.length; i += 4) {
    data.push({
        items: Collection.slice(i, i + 4).map(mapCallback)
    });
} 
```

或者，您可以使用 JSHint 指令来忽略循环内的函数表达式。只需将其放在相关文件的顶部即可：

```
/*jshint loopfunc: true */ 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-26T07:10:29.947

在循环中声明函数很麻烦，并且可能容易出错。相反，定义一次函数，然后进入循环。

```
var objMaker = function(item) {
    return {
        id : item[0],
        title : item[1],
    };
};

for (i = 0; i < Collection.length; i += 4) {
    data.push({
                  items : Collection.slice(i, i + 4).map(objMaker)
             });
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2019-02-03T11:10:42.950

人们说“在循环中声明一个函数很麻烦，并且可能容易出错”，但循环中的函数是直接指示的，例如*[Array.prototype.forEach](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)*方法。仅仅因为“函数”这个词理论上应该意味着在每次*forEach*调用中重新定义它**并不意味着它实际上每次都由 Javascript 引擎定义**。

外部循环也是如此，因为引擎对指令有“惰性”处理。如果没有真正改变它，他们不会重新定义整个*forEach* / *Map /etc 构造指令，他们只会向它提供新的参数。*

古代 JS 引擎对这些简单的事情以及代码上下文一无所知的时代早已一去不复返了。*然而，我们得到了这个古老的警告，它是在函数还不能像forEach*或*Map*的情况下作为参数传递时构想的。

# c# - 如何识别哪台客户端机器向服务器上的打印机发送打印请求？

> ID：13082304
> 
> 赞同：1
> 
> 时间：2012-10-26T07:03:21.860
> 
> 标签：c#

如何检测哪个客户端将打印请求发送到打印机？当请求发送到服务器时，该打印请求将在服务器上引发哪个事件？我想检测哪个用户一天打印了多少页。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:28:52.163

您可以使用 WMI 来监控打印机。

WMI 任务：打印机和打印 [http://msdn.microsoft.com/en-us/library/windows/desktop/aa394598%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394598%28v=vs.85%29.aspx)

Win32_PrintJob [http://msdn.microsoft.com/en-us/library/windows/desktop/aa394370%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394370%28v=vs.85%29.aspx)

观察例如打印作业的创建。PrintJob 类有一个 totalPages。

使用 System.Management 在 C# 中使用 WMI

# eclipse - Eclipse 的首选项在本地存储在哪里？

> ID：13082307
> 
> 赞同：0
> 
> 时间：2012-10-26T07:03:45.740
> 
> 标签：eclipse, macos, eclipse-juno

我有一个旧的 Eclipse 存储在“ **/Applications** ”下，今天我下载了最新的`Juno`并在桌面中打开，我发现`Juno`它能够读取我当前的配置，例如代码格式化程序设置、颜色主题。

这些设置是否存储在全局可读的地方？

（我使用的是 Mac OSX，并没有执行首选项的导入/导出。）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-26T07:57:55.283

大多数设置都存储在`.metadata`文件夹中的工作区中。特别`.metadata\.plugins\org.eclipse.core.runtime\.settings`

有些存储在`configuration`Eclipse 安装文件夹中的文件夹中。

# android - 原点是在左上角所有安卓设备的屏幕上吗？

> ID：13082315
> 
> 赞同：3
> 
> 时间：2012-10-26T07:04:16.287
> 
> 标签：android, rotation, screen

我正在处理在我的程序中使用的通用旋转功能。我使用 atan2(y, x) 函数来获取角度。由于原点位于我的 Nexus S 的左上角，我实际上使用 atan2(-y, x) 在 atan2 中获得正确的结果。否则我会得到错误的旋转方向。例如，从 P0(5,1) 移动到 P1(1, 5) 在我的机器人中是顺时针方向，而在正常象限中是逆时针方向。

我的假设是所有安卓设备的原点都在左上角。这是正确的吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-26T07:05:30.207

是的，原点总是在屏幕空间的左上角。这是有历史原因的，因为屏幕空间计算是在电视机用作屏幕时开始的。电视的光栅枪从左上角开始，所以这被认为是原点。

该规则有一些值得注意的例外（尽管不适用于 android 设备） - 可可界面似乎起源于左下角。

# jquery - 将对象拖放到对话框之一

> ID：13082321
> 
> 赞同：0
> 
> 时间：2012-10-26T07:04:37.657
> 
> 标签：jquery, html

我有一个屏幕，其中有故事点，即简单的语句行> 我想在单击按钮后打开的对话框中拖动这些行。正如你在屏幕上看到的那样。

想要将我的故事拖到对话框中，即单击“+创建迭代”按钮后打开的迭代 1。

任何人都可以帮助我或提供任何参考吗？

![在此处输入图像描述](../Images/28e73965ec1f06da311973b6e033fddd.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:07:50.120

使用[Droppable](http://jqueryui.com/droppable)。以购物车演示为例。

z-index 问题可以通过正确设置 draggable 的 zIndex 选项来解决，例如：

```
$( "#catalog li" ).draggable({
    zIndex: 10000
}); 
```

我编辑了购物车演示以使用对话框：http: [//jsfiddle.net/7683X/](http://jsfiddle.net/7683X/)

# objective-c - 具有多个 CDVViewController 的 Phonegap/Cordova

> ID：13082330
> 
> 赞同：4
> 
> 时间：2012-10-26T07:05:10.533
> 
> 标签：objective-c, ios, cordova, uiviewcontroller

我的想法是使用 Phonegap 作为我的应用程序的业务逻辑，但使用原生转换。所以我在每个 UIViewController 中都需要 CDVWebView。这适用于普通的 UIWebview，但如果我为 TabBar 使用多个 CDVViewController，则 deviceReady 事件只会为第一个 CDVWebView 触发。

这是我在 App Delegate 中所做的：

```
- (BOOL) application:(UIApplication*)application didFinishLaunchingWithOptions:(NSDictionary*)launchOptions
{    
NSURL* url = [launchOptions objectForKey:UIApplicationLaunchOptionsURLKey];
NSString* invokeString = nil;

if (url && [url isKindOfClass:[NSURL class]]) {
    invokeString = [url absoluteString];
    NSLog(@"NativeNavigationTest launchOptions = %@", url);
}    
NSLog(@"invokeString = %@", invokeString);
CGRect screenBounds = [[UIScreen mainScreen] bounds];
self.window = [[[UIWindow alloc] initWithFrame:screenBounds] autorelease];
self.window.autoresizesSubviews = YES;

CGRect viewBounds = [[UIScreen mainScreen] applicationFrame];

//4 ViewController, each one inherits from CDVViewController

self.viewController = [[[MainViewController alloc] init] autorelease];
self.viewController.useSplashScreen = YES;
self.viewController.wwwFolderName = @"www";
self.viewController.startPage = @"index.html";
self.viewController.invokeString = invokeString;
self.viewController.view.frame = viewBounds;

self.secondController = [[[SecondController alloc] init] autorelease];
self.secondController.useSplashScreen = YES;
self.secondController.wwwFolderName = @"www";
self.secondController.startPage = @"second.html";
self.secondController.invokeString = invokeString;
self.secondController.view.frame = viewBounds;

self.thirdController = [[[ThirdController alloc] init] autorelease];
self.thirdController.useSplashScreen = YES;
self.thirdController.wwwFolderName = @"www";
self.thirdController.startPage = @"third.html";
self.thirdController.invokeString = invokeString;
self.thirdController.view.frame = viewBounds;

self.fourthController = [[[FourthController alloc] init] autorelease];
self.fourthController.useSplashScreen = YES;
self.fourthController.wwwFolderName = @"www";
self.fourthController.startPage = @"fourth.html";
self.fourthController.invokeString = invokeString;
self.fourthController.view.frame = viewBounds;

//add them in a native ViewController environment like a Tabbar

self.tabBarController = [[[UITabBarController alloc] init] autorelease];
self.tabBarController.viewControllers = [NSArray arrayWithObjects:viewController, secondController, thirdController, fourthController, nil];
self.window.rootViewController = self.tabBarController;
[self.window makeKeyAndVisible];
return YES; 
```

}

这是我为每个 ViewController 得到的错误，除了第一个。

```
Error: executing module function 'setInfo' in module 'cordova/plugin/ios/device'. Have you included the iOS version of the cordova-1.9.0.js 
```

和

```
ERROR: Attempting to call cordova.exec() before 'deviceready'. Ignoring. 
```

当然，我在我的 HTML 文件中引用了 cordova-1.9.0，我认为 Cordova 并非旨在使用它的多个 WebView，但是有人知道如何更改它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T10:52:16.337

我确认这是[Cordova 中的一个竞争条件](https://issues.apache.org/jira/browse/CB-2271)- 从 2.4.0 开始，该问题已得到修复。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-31T08:07:01.270

答案是[Cordova WebView](http://docs.phonegap.com/en/1.9.0/guide_cordova-webview_ios.md.html)。旨在嵌入本机应用程序。

**编辑**

使用多个 Cordova Webviews，它有相同的错误。当您仍然只能在项目中放置一个由 Phonegap 驱动的 Webview 时，我不知道这有什么意义。

# java - 将 Bean 从一个 JMX 服务器导出到另一个 JMX 服务器

> ID：13082334
> 
> 赞同：0
> 
> 时间：2012-10-26T07:05:18.647
> 
> 标签：java, jmx

是否可以从一个 JMX 服务器获取已注册的 MBean 到另一个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T15:50:00.673

可以通过启动您自己的 MBean 代理并远程注册它们来做到这一点，但更简单的方法是使用[MBean Server Federation](https://blogs.oracle.com/jmxetc/entry/federating_mbeanservers_with_opendmk)（也称为级联）。OpenDMK库有一些类可以让这变得相当简单[。](http://opendmk.java.net/)或者，如果您有 maven 倾向，那么有一个[mavenized fork](https://github.com/nickman/OpenDMK)。

# node.js - 根据节点中的内容设置请求的内容长度

> ID：13082338
> 
> 赞同：0
> 
> 时间：2012-10-26T07:05:41.493
> 
> 标签：node.js

如何根据内容设置请求的内容长度？

例如：

```
POST /Display HTTP/1.0
Content-Type: application/json
Content-Length: 125

{"QueryReq":
  {
    "Tid": "Tid-123456",
    "SessionId" : "1350711351232058820" 
  }
} 
```

在 telnet 中发布此请求时，我需要多次按 Enter 键，直到内容长度为`125`在服务器中接收到空块为止。如何根据请求内容自动设置内容长度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:30:43.887

设置`Content-Length`标题

```
var data = querystring.stringify({
  "QueryReq": { "Tid": "Tid-123456", "SessionId" : "1350711351232058820" }
});

var options = {
    host: xxx,
    port: xxx,
    ----
    ----
    headers: {
      'Content-Length': data.length
    }
}; 
```

# algorithm - 这个函数的大 O 符号是什么？

> ID：13082339
> 
> 赞同：0
> 
> 时间：2012-10-26T07:05:54.850
> 
> 标签：algorithm, big-o

我写了一个函数，我需要知道它的大 O 符号。我自己尝试过解决这个问题，我得到了 O(N^2)，但是有人告诉我这不是正确的答案。

有人可以告诉我正确的符号是什么，并逐步解释他们是如何得出这个答案的吗？

函数如下。

提前致谢

```
 public static string Palindrome(string input) 
    {
        string current = string.Empty;
        string longest = string.Empty;

        int left;
        int center;
        int right;

        if (input == null || input == string.Empty || input.Length == 1)  {   return input;   }

        for (center = 1; center < input.Length -1; center++) 
        {
            left = center - 1;  
            right = center + 1;

            if (input[left] == input[center])
            {
                left--;
            }

            while (0 <= left && right < input.Length) 
            {
                if (input[left] != input[right])
                {
                    break;
                }

                current = input.Substring(left, (right - left + 1));

                longest = current.Length > longest.Length ? current : longest;

                left--;  
                right++;
            }
        }
        return longest;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:17:17.897

这是 O(n^3) 算法：

这部分需要 O(n^2)：

> **// O(n) 次 while 循环**

```
 while (0 <= left && right < input.Length)   
        {
            if (input[left] != input[right])
            {
                break;
            } 
```

> **// 取子字符串是 O(n)**

```
 current = input.Substring(left, (right - left + 1)); 

            longest = current.Length > longest.Length ? current : longest;

            left--;  
            right++;
        } 
```

还有一个外部 O(n)`for`循环，导致 O(n*n^2)。

您可以通过更改以下行来改进您的算法：

```
 current = input.Substring(left, (right - left + 1)); 
   longest = current.Length > longest.Length ? current : longest; 
```

到：

```
 currentLength = right - left + 1;
   if(currentLength > longest)
   { 
     longest = current.Length > longest.Length ? current : longest;
     longestLeft = left;
     longestRight = right;
   } 
```

最后返回一个从longestLeft到longestRight的子串。实际上避免使用`substring`方法太多次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:28:18.973

该`if (input[left] != input[right])`语句被执行 O(n^2) 次，它后面的几个赋值也是如此，特别是：

```
current = input.Substring(left, (right - left + 1)); 
```

在子字符串函数的典型实现中，字符序列从字符串复制到新的字符串对象。复制是一个 O(n) 操作，导致循环和子字符串操作的 O(n^3) 时间。

可以通过将分配移到`current`和移到构造`longest`的右括号之后来解决问题。`while`但请注意，`left--;`and`right++;`将比现有代码多执行一次，因此赋值`current`为

```
current = input.Substring(left+1, (right-1 - (left+1) + 1)); 
```

或者

```
current = input.Substring(left+1, (right-left-1)); 
```

因此，O(n) 子串操作最多执行 O(n) 次。

# sql - 在sql server中使用完整字符串进行自由文本搜索

> ID：13082341
> 
> 赞同：1
> 
> 时间：2012-10-26T07:05:56.000
> 
> 标签：sql, sql-server, tsql

当我在自由文本搜索中提供像*hello world这样的两个单词字符串时，它使用***hello**字符串获取数据，然后使用**world**但不使用*hello world*获取数据。

但我不能选择类似的运营商。

```
DECLARE @var VARCHAR(50)
    SET @var = 'hello world'
 select * from helloTable where freetext(ColumnName, @var) 
```

结果：

第一组行在“hello”上获取，第二组在“world”上获取，**但我需要完整的字符串**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:08:48.010

您是否尝试过添加双引号？

```
'"hello world"' 
```

# wpf - WPF Datagrid TemplateColumn 控件启用和禁用

> ID：13082345
> 
> 赞同：0
> 
> 时间：2012-10-26T07:06:09.837
> 
> 标签：wpf, wpfdatagrid

我有两个 TemplateColumn 的 Datagrid。

第一列是 Combobox，第二列是扩展的 IntergerUpDown 控件

我需要根据 Combox 框 SelectedItem 值启用/禁用 IntegerUpDown 控件。

请帮助我如何做到这一点。下面的示例 xaml。

```
<Grid><DataGrid ItemsSource="{Binding List1}" Name="x1">
            <DataGrid.Columns>
                <DataGridTemplateColumn Header="ColorTemplate">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <ComboBox  ItemsSource="{Binding DataContext.List2, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type DataGrid}}}" 
                                      DisplayMemberPath="Name"  SelectedValue="{Binding ColourId}" SelectedValuePath="Id" Tag="{Binding Id}"
                                       HorizontalAlignment="Stretch" x:Name="discussTemplate" VerticalAlignment="Stretch"
                                         />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="UPDown" Width="Auto">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <extToolkit:IntegerUpDown AllowSpin="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto" Minimum="0"
                                                  x:Name="updown"
                                                  IsEnabled="????" >

                            </extToolkit:IntegerUpDown>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:26:38.560

这可以通过 ViewModel ColourId 属性上的 DataTrigger 轻松完成。

由于 ComboBox 上的 SelectedValue 属性已绑定，因此您可以在 extToolkit:IntegerUpDown 控件上有一个 DataTrigger，该控件将根据 ViewModel 上的 ColourId 值将 IsEnabled 设置为 True/False。

# php - 非法字符串偏移 SEO

> ID：13082346
> 
> 赞同：1
> 
> 时间：2012-10-26T07:06:30.633
> 
> 标签：php, arrays, string

我在这里阅读了一些内容，但是由于我是新手，我无法自行配置将描述更改为的内容，有人可以帮助我吗？

我收到此错误：

> 警告：第 37 行 C:\xampp\htdocs\testdb1\wp-content\themes\prospect\functions\meta-box.php 中的非法字符串偏移 'seodescription'

第 37 行如下所示：

```
echo htmlspecialchars( $data[ $meta_box[ 'name' ] ] ); 
```

[] 是对我不利吗？如果是，我该如何更改它们并保留 $meta_box 定义？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:11:25.980

在下面的行中：

```
$data[ $meta_box[ 'name' ] ] 
```

看起来`$data`key 没有值`$meta_box['name']`。确保您拥有正确的密钥，并确保`$data`已定义且可访问。

将上面的行替换为下面的行。

```
$data[$meta_box['seodescription']['name']]; 
```

当你 print_r($data) 时你会得到什么？在第 37 行之前添加此打印语句。粘贴您的输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:30:47.887

当脚本到达第 37 行时，$data 不是一个数组（但显然​​是一个字符串）。
要测试它，请尝试类似

```
if ( !is_array($data) ) {
    echo '$data is not an array.';
    var_dump($data);
    die;
}
else if ( !isset($data[ $meta_box[ 'name' ] ]) ) {
    echo '$data doesn\'t have a key ', $meta_box[ 'name' ];
    die;
}
else {
    echo htmlspecialchars( $data[ $meta_box[ 'name' ] ] );
} 
```

# objective-c - NSWorkspace selectFile:inFileViewerRootedAtPath: 第一次调用时不起作用

> ID：13082348
> 
> 赞同：1
> 
> 时间：2012-10-26T07:06:57.950
> 
> 标签：objective-c, cocoa, finder, nsworkspace

我有一个沙盒 Cocoa 应用程序。我注意到当我调用`[[NSWorkspace sharedWorkspace] selectFile:path inFileViewerRootedAtPath:path]`第一次调用时没有打开 Finder 窗口。Finder.app 被带到前台（菜单栏更改为 Finder），但没有任何反应。

当我将我的应用程序带回前面并再次让它在 Finder 中选择一个文件时，Finder 窗口将打开，并按预期选择文件。我试过这个`@""`作为第二个参数，同样的事情。

当 Finder 窗口已经打开时，一切都按预期工作。

有没有其他人看到这个问题？解决方法是立即调用`selectFile:...`两次，但这似乎不对。

编辑：与沙盒无关。没有沙箱的同样问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-17T10:51:56.757

我认为 activateFileViewerSelectingURLs 更好。它在查找器中正确选择了多个文件。

# java - com.sun.mail.imap.MessageCache.getMessage(MessageCache.java:123) 处的 java.lang.ArrayIndexOutOfBoundsException

> ID：13082349
> 
> 赞同：11
> 
> 时间：2012-10-26T07:07:01.800
> 
> 标签：java, jakarta-mail

我正在从 emailServer 读取电子邮件并将它们保存在数据库中。我正在使用以下代码从电子邮件服务器上的文件夹（“INBOX”）中读取消息并检索与它们对应的消息，但我得到了

```
"java.lang.ArrayIndexOutOfBoundsException: message number (621) out of bounds (620)
at com.sun.mail.imap.MessageCache.getMessage(MessageCache.java:123)
at com.sun.mail.imap.MessageCache.getMessageBySeqnum(MessageCache.java:153)
at com.sun.mail.imap.IMAPFolder.getMessageBySeqNumber(IMAPFolder.java:2795)
at com.sun.mail.imap.IMAPFolder.getMessagesByUID(IMAPFolder.java:1924)" 
```

我正在使用 javax.mail.1.4.4，这个问题主要出现在收件箱被淹没时。

使用的代码：

```
folder = store.getFolder("INBOX");

folder.open(Folder.READ_WRITE);
// messageUID is uid of last message I saved in DB

 Message messages[] = ((UIDFolder) folder).getMessagesByUID(messageUID + 1, UIDFolder.LASTUID); 
```

我做了一些研究，发现 messagecache 一打开就为文件夹设置，假设它设置为 520（文件夹大小）。而如果在设置消息缓存后有任何消息到达，则在最后一个消息序列中，num 超出消息缓存的总大小，并引发异常。

谁能让我知道如何获取文件夹中最后一条消息的 UId 的绝对值或如何获取文件夹锁定，以便在设置缓存后，文件夹不会更新文件夹的大小。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-11-13T23:27:46.453

有趣的问题！

首先，我认为这是 javax 邮件中的一个错误。可能应该在[getMessageBySeqNumber()中调用](http://grepcode.com/file/repo1.maven.org/maven2/javax.mail/mail/1.4.1/com/sun/mail/imap/IMAPFolder.java#IMAPFolder.getMessageBySeqNumber%28int%29)[checkRange(](http://grepcode.com/file/repo1.maven.org/maven2/javax.mail/mail/1.4.1/com/sun/mail/imap/IMAPFolder.java#IMAPFolder.checkRange%28int%29) ) ，或者只是一个带有向量大小的[Math.min() 。](http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#min%28int,%20int%29)

无论如何，问题在于代码会转到服务器以获取最新的消息计数，但从不更新本地 messageCache。这意味着 messageCache 与该方法相比具有过时的数据，但该方法仍假定它是最新的……正如您所看到的那样，这很有趣。

现在，如何避免它直到它被修复？

不幸的是，我认为您遇到了一些可怕的解决方法，例如：

```
folder = store.getFolder("INBOX");

folder.open(Folder.READ_WRITE);
// messageUID is uid of last message I saved in DB

/* I apologize for all of the kittens that this code is about to kill */
boolean getMessagesWorked = false;
do {
  try {
    Message messages[] = ((UIDFolder) folder).getMessagesByUID(messageUID + 1, UIDFolder.LASTUID);
    getMessagesWorked = true;
   } catch (ArrayIndexOutOfBoundsException e) {
     /* Doing this should force the internal messagesCache to get updated
      * Unfortunately, this is also somewhat racy, depending on just how
      * hard the mail folder is being hit */
      try {
       folder.getMessage(folder.getMessageCount());
      } catch (ArrayIndexOutOfBoundsException e) {
        /* There really isn't much you can do here, except try again.
         * the good news is that this should hardly ever happen!!
         * Good in this case is a relative term! */
      }
   }
} while (! getMessagesWorked); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-21T12:04:43.853

这可能是这个 Javamail 错误：

[https://java.net/projects/javamail/lists/issues/archive/2010-09/message/1](https://java.net/projects/javamail/lists/issues/archive/2010-09/message/1)

# sql - 使用变量的 where 语句

> ID：13082355
> 
> 赞同：0
> 
> 时间：2012-10-26T07:07:25.967
> 
> 标签：sql

我在SQL中使用用户变量检索字符有一个小问题查询如下

```
DECLARE @search
SET @search='chicken'

SELECT * from Recipes where TITLE like '@search' 
```

它是否正确？它应该检索标题包含提供给@search 的单词的食谱。

我什至尝试给予

```
SELECT * from Recipes where TITLE IN ('+@search+')
SELECT * from Recipes where TITLE =@search
SELECT * from Recipes where TITLE =$[@search] 
```

但似乎没有一个工作。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:08:44.793

试试这个

```
set @search='chicken'

select * from recipes where title like '%' + @search + '%' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:08:53.847

假设您`SQL Server`因为未定界查询而使用，将变量连接起来，`%`这样您将获得包含您搜索的关键字的标题

```
DECLARE @search
SET @search='chicken'

SELECT * from Recipes where TITLE like '%' + @search + '%' 
```

# windows-phone-8 - 在 Windows Phone 8 应用程序中实现增强现实

> ID：13082359
> 
> 赞同：2
> 
> 时间：2012-10-26T07:07:53.297
> 
> 标签：windows-phone-8, augmented-reality

我正在使用 SLARTOOLKIT 在 Windows Phone 8 中实现增强现实，但网站中提供的源代码有一些 pat 文件。如何在 wp8 应用程序中实现这个 pat 文件。我想使用增强现实检测图像

有没有任何编程方式从图像生成模式文件？或者是否有任何基于 Web 的服务，我可以发送给它图像和模式响应？

如果可能的话，请给我一些使用 SLAR Toolkit 在 Windows Phone 中实现增强现实的用户指南。

# iphone - 如何给出 NSMutableArray 组之间的关系？

> ID：13082360
> 
> 赞同：1
> 
> 时间：2012-10-26T07:08:04.683
> 
> 标签：iphone, objective-c, ios

我的申请是世界指南。有 4`tableview`和 4 `mapview`。

1.  大陆
2.  国家
3.  城市
4.  地方

* * *

我已经`NSMutableArray`为上述每个项目分配了它们并在视图中分配了它们。当从 Continent 表中选择 Asia 时，仅应从国家/地区数组中显示亚洲国家/地区。如果选择国家/地区，则只有相应国家/地区的城市应从城市阵列中的城市表视图中显示，如地方副。它就像一棵树。使用数组太长了。如果存在使这项任务变得容易的另一种方法，请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:23:37.210

我认为更好的实施方式应该是：

*   仅用于`NSMutableArray`存储顶级对象。
*   用于`NSMutableDictionary`存储中低级对象。
*   将 存储`NSMutableDictionary`在您`NSMutableArray`的顶级对象的每个索引中。
*   将键作为大陆名称放在顶部`NSMutableDictionary`，将值作为国家名称，并按照相同的方式进行下一级。

在这种情况下，您只需要维护一个`NSMutableArray`即可工作。无需处理 4-5 个不同的数组。

希望对你有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T13:15:46.067

以拥有所有四个对象的数据的方式处理数据或对数据进行分类非常复杂，因为没有键值对可以用来识别哪个国家属于哪个大陆以及哪个城市属于哪个国家等等在。

因此，您需要做的是，使用 Web 服务来获取分类数据。

这是 Web 服务的链接，您可以通过它简单地点击 URL 并捕获 XML 作为响应。

网址：[http](http://ws.geonames.org/countryInfo) ://ws.geonames.org/countryInfo ？

上面的 URL 为您提供 XML 作为响应。像这样 ：

```
<geonames>
<country>
<countryCode>AD</countryCode>
<countryName>Andorra</countryName>
<isoNumeric>020</isoNumeric>
<isoAlpha3>AND</isoAlpha3>
<fipsCode>AN</fipsCode>
<continent>EU</continent>
<continentName>Europe</continentName>
<capital>Andorra la Vella</capital>
<areaInSqKm>468.0</areaInSqKm>
<population>84000</population>
<currencyCode>EUR</currencyCode>
<languages>ca</languages>
<geonameId>3041565</geonameId>
<west>1.4071867141112762</west>
<north>42.65604389629997</north>
<east>1.7865427778319827</east>
<south>42.42849259876837</south>
</country>
.
.
.
and so on... 
```

或者如果你想要 JSON 格式。采取以下网址：

URL api.geonames.org/countryInfoJSON?username=demo&formatted=true

所以现在你离你的解决方案只有几步之遥。

现在根据您的要求进行 XML 解析和过滤数据。

或者如果您想了解有关此 Web 服务的详细信息

只需访问： http: [//geonames.r-forge.r-project.org/](http://geonames.r-forge.r-project.org/)

希望对你有效。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-26T08:23:39.870

我想你有关于大陆、国家、城市和地点的所有数据。在这种情况下，连接所有 4 个数组的方式**完全取决于**您在 TableViews 上显示的数据格式。

无论是**字符串**数组还是每个项目**的字典数组，还是****JSON**或**XML**。请告诉我数据格式。之后我会尽力而为。

# ruby-on-rails - Ruby/Rails Apache2 & Passenger 设置返回目录列表

> ID：13082362
> 
> 赞同：2
> 
> 时间：2012-10-26T07:08:36.540
> 
> 标签：ruby-on-rails, passenger, ubuntu-12.04, vps

首先，我有一个功能齐全的 Apache2 服务器（在 Ubuntu 12.04 VPS 上）和多个工作虚拟主机（但这是我第一次尝试部署 Rails 站点），这毫无价值。此外，我尝试启动的 Rails 站点在我的本地 WEBRick 服务器上功能齐全。

我参考了各种在线说明，让 Apache、Ruby、Rails 和Passenger 一起玩得很好，包括：

*   [这来自我的主机 Linode](http://library.linode.com/frameworks/ruby-on-rails-apache/ubuntu-10.04-lucid)（他们不提供特定于 12.04 的文档）
*   [这是来自 O'Reilly](http://ofps.oreilly.com/titles/9780596521424/production_id35801033.html)
*   作为安装过程一部分的乘客文件`passenger-install-apache2-module`
*   在线[乘客文件](http://www.modrails.com/documentation/Users%20guide%20Apache.html#_deploying_a_rack_based_ruby_application_including_rails_gt_3)
*   诸如[this](https://stackoverflow.com/questions/154959/apache-rails-passenger-displaying-site-index)和[this之类的各种旧SO问题](https://stackoverflow.com/questions/8105592/passenger-and-apache2-display-file-directory-structure-rather-than-application)

总而言之，到目前为止，我已经：

1.  已安装 Ruby（`ruby -v`在站点根目录中返回 1.9.3）、RVM、Ruby Gems、Rails（`rails -v`在 app 文件夹中返回 3.2.8，我可以`rails server`在 app 文件夹中启动）和 Passenger（包括所有依赖项）
2.  按照指示`passenger-install-apache2-module`，我在底部添加了以下几行`/etc/apache2/apache2.conf`：

    ```
    LoadModule passenger_module /var/lib/gems/1.8/gems/passenger 3.0.17/ext/apache2/mod_passenger.so
    PassengerRoot /var/lib/gems/1.8/gems/passenger-3.0.17
    PassengerRuby /usr/bin/ruby1.8 
    ```

3.  创建并启用（在 中列出）包含以下内容`/etc/apache2/sites-enabled/`的虚拟主机：`/etc/apache2/sites-available/foo.com`

    ```
    <VirtualHost *:80>
      ServerName foo.com
      DocumentRoot /home/user/public/foo.com/public
      <Directory /home/user/public/foo.com/public>
        AllowOverride all
        Options -MultiViews
      </Directory>
    </VirtualHost> 
    ```

4.  将我的 Rails 应用上传到`/home/user/public/foo.com/`

5.  做了`bundle install`一个`/home/user/public/foo.com/`

6.  在我的本地 OSX 机器上，我已将`xxx.xxx.xxx.xxx foo.com`[VPS IP] 添加到`/etc/hosts`.

7.  重新启动 Apache

但是当我在浏览器中导航到 foo.com 时，我只会看到一个`/home/user/public/foo.com/public`. 此外，Apache 中没有最近的条目`error.log`。但是，每当我`restart`使用 Apache 时，我都会得到：

```
 * Restarting web server apache2
[Fri Oct 26 00:04:12 2012] [warn] module passenger_module is already loaded, skipping
 ... waiting [Fri Oct 26 00:04:13 2012] [warn] module passenger_module is already loaded, skipping
   ...done. 
```

我希望我忽略了一些非常愚蠢的事情。任何帮助弄清楚那是什么都会非常非常感谢。谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-26T08:48:06.710

如果您使用的是 apache2.2，则不应在 apache2.conf 中包含以下内容

```
LoadModule passenger_module /var/lib/gems/1.8/gems/passenger 3.0.17/ext/apache2/mod_passenger.so
PassengerRoot /var/lib/gems/1.8/gems/passenger-3.0.17
PassengerRuby /usr/bin/ruby1.8 
```

相反，您应该在以下位置创建 2 个文件`/etc/apache2/mods-available`：

**乘客**.加载：

```
LoadModule passenger_module /var/lib/gems/1.8/gems/passenger3.0.17/ext/apache2/mod_passenger.so 
```

**乘客.conf**：

```
PassengerRoot /var/lib/gems/1.8/gems/passenger-3.0.17
PassengerRuby /usr/bin/ruby1.8 
```

最后你只需运行：

```
a2enmod passenger 
```

它已经完成了。顺便说一句，当你让它工作时，你可能会考虑使用更新版本的 ruby​​（1.9.3... 左右）。最好的方法是使用[RVM](https://rvm.io/)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-09-17T21:01:10.173

我试图使用乘客来运行 Rails 2.3。我几年前创建的应用程序需要迁移到新服务器。

我添加了乘客，但我得到的只是一个目录列表。

最后发现我没有`config.ru`文件。用这两行创建一个文件就足够了：

`require File.dirname(__FILE__) + '/config/environment' run ActionController::Dispatcher.new`

我花了大约 5 个小时才发现我错过了这两行。我希望处于类似情况的每个人都能在花费太多时间之前找到这个答案...... :-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-19T22:51:09.003

有同样的问题，原来，在 /etc/apache2/mods-enabled/passanger.load 我有 apache2 安装的乘客。所以不想工作，把它改成 gems 安装的乘客.so

```
LoadModule passenger_module /var/lib/gems/1.9.1/gems/passenger-4.0.20/buildout/apache2/mod_passenger.so 
```

# javascript - 将pdf（编码：UniJIS-UCS2-H）转换为base64

> ID：13082373
> 
> 赞同：2
> 
> 时间：2012-10-26T07:09:21.320
> 
> 标签：javascript, character-encoding, xmlhttprequest, base64

我有一个编码 UniJIS-UCS2-H 的 pdf。我想在javascript中将它转换为base 64。我写了这样的代码。它将其转换为pdf，但内容不可见。我的代码如下所示。

```
function getBinary(file){
    var xhr = new XMLHttpRequest();  
    xhr.open("GET", file, false);  
   xhr.overrideMimeType("application/pdf; charset=UniJIS-UCS2-H");  
    xhr.send(null);
    return xhr.responseText;
}

function base64encode(binary) {
    return btoa(unescape(encodeURIComponent(binary)));
}

var binary = getBinary('http://localhost/first.pdf');
var base64encoded = base64encode(binary);
data = "data:application/pdf;base64,"+base64encoded; 
```

数据仅包含纯 pdf。我该如何解决？

# c# - 在 C# 中将数据从 ajax 发送到控制器

> ID：13082375
> 
> 赞同：1
> 
> 时间：2012-10-26T07:09:35.313
> 
> 标签：c#, ajax, asp.net-mvc

我正在使用 LocationId 和 id 在 javascript 中创建一个对象。

我在 C# 中有一个带有这两个变量的类 MyClass。

我有一个 ajax 调用，它调用我的控制器中的一个方法：

```
MyMethod(List<MyClass> myObject, int user_id) 
```

我用：

```
traditional: true 
```

在ajax调用中。

方法被调用，myObject 的长度正确，但 LocationId 和 id 都是 0。为什么会发生这种情况以及如何解决？

```
public class MyClass {
     public int LocationId {get; set;}
     public int id {get; set;}
} 
```

Javascript：

```
var myArray = new Array();
var object = new {
    LocationId: 1;
    id: 2;
}
myArray.push(object); 
```

阿贾克斯：

```
$.ajax({
    type: "GET",
    url: "correctUrl",
    traditional: true,
    data: { user_id: 1, myObject: myArray}
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:09:33.640

您创建对象的 Javascript 代码无效。试试这个：

```
var myArray = new Array();
var object = {       // No new
    LocationId: 1,   // , instead of ;
    id: 2
}
myArray.push(object); 
```

顺便说一句，您可以将其缩短为：

```
var myArray = [ { LocationId: 1, id: 2 } ]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:51:00.983

我同意亚历克斯。我会像这样改变你的ajax调用：

```
$.ajax({
    type: 'POST',
    dataType: 'json',
    contentType: 'application/json; charset=utf-8;',
    url: "correctUrl",
    data: JSON.stringify( {user_id: 1, myObject: myArray} ),
    // traditional: true,
    error: function (req, status, error) {
        alert(error);
    }
}); 
```

我已经删除了`traditional: true`你在这里不需要它。
将提交类型更改为 POST。它适用于序列化对象。
我已经用**JSON.stringify转换了提交的数据**

您可以在此处下载**json2.js并** [在](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/stringify)[此处](https://github.com/douglascrockford/JSON-js/blob/master/json2.js)找到更多信息。

我以这种方式更改了您的 C# 类：

```
public class MyClass
{
    public int LocationId { get; set; }
    public int id { get; set; }
}

[Serializable]
public class jSonObject
{
    public int user_id { get; set; }
    public List<MyClass> myObject { get; set; }
} 
```

并且您的 MVC 操作应如下所示：

```
 [HttpPost]
    public ActionResult MyMethod(jSonObject myData)
    {
        ...
    } 
```

我建议的另一件事是实现**JsonValueProviderFactory**。[你可以在这里](http://haacked.com/archive/2010/04/15/sending-json-to-an-asp-net-mvc-action-method-argument.aspx)和[这里](http://msdn.microsoft.com/en-us/library/system.web.mvc.jsonvalueproviderfactory%28v=vs.98%29.aspx)
找到很多有用的信息。

# sql - 根据行值获取列的总和

> ID：13082377
> 
> 赞同：1
> 
> 时间：2012-10-26T07:10:04.123
> 
> 标签：sql, oracle, crystal-reports, pivot

我有一张如下所示的表格。

```
EMPNUM  EMPNAME     LOCATION    CATEGORY    COUNT
123     JOHN DOE    BLDG A      1           5
123     JOHN DOE    BLDG A      1           6
123     JOHN DOE    BLDG A      2           4
123     JOHN DOE    BLDG A      3           7
123     JOHN DOE    BLDG B      1           1
123     JOHN DOE    BLDG B      2           3
234     EMILY DOE   BLDG A      1           1
234     EMILY DOE   BLDG A      2           2
234     EMILY DOE   BLDG A      3           4
234     EMILY DOE   BLDG B      2           3
234     EMILY DOE   BLDG B      2           9
234     EMILY DOE   BLDG B      3           3 
```

我想将它传输到将产生类似于下面的输出的列中。我需要根据 LOCATION 和 CATEGORY 的值得到 COUNT 的总和

```
EMPNUM  EMPNAME     SUM_A1  SUM_A2  SUM_A3  SUM_B1  SUM_B2  SUM_B3  
123     JOHN DOE    11      4       7       1       3       0
234     EMILY DOE   1       2       4       0       12      3 
```

有什么方法可以作为 SQL 查询来做到这一点？或在水晶报表中（虽然我更喜欢使用 SQL 输出）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:45:23.027

This will work providing the values in LOCATION and CATEGORY are constant:

```
select empnum
       , empname
       , sum(case when location='BLDG A' and category = 1 then count else 0 end) sum_a1 
       , sum(case when location='BLDG A' and category = 2 then count else 0 end) sum_a2
       , sum(case when location='BLDG A' and category = 3 then count else 0 end) sum_a3
       , sum(case when location='BLDG B' and category = 1 then count else 0 end) sum_b1
       , sum(case when location='BLDG B' and category = 2 then count else 0 end) sum_b2
       , sum(case when location='BLDG B' and category = 3 then count else 0 end) sum_b3
from your_table
group by empnum
       , empname 
```

If the values are not known or not stable when you run the query you will need to use dynamic SQL.

* * *

Note that if you are on 11g you should employ [A B Cade's PIVOT solution](https://stackoverflow.com/a/13082873/146325), which is more elegant.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T07:47:01.767

如果您使用的是 11g 或更高版本，请尝试

```
select * from table1
PIVOT  (SUM("COUNT")         
        FOR ("LOCATION","CATEGORY") IN 
        (('BLDG A',1) AS sum_a1,
         ('BLDG A',2) AS sum_a2,
         ('BLDG A',3) AS sum_a3,
        ('BLDG B',1) AS sum_b1,
        ('BLDG B',2) AS sum_b2,
        ('BLDG B',3) AS sum_b3)); 
```

[这](http://www.sqlfiddle.com/#!4/a1905/18)是一个小提琴

否则使用[APC 的解决方案](https://stackoverflow.com/a/13082852/1083652)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T10:50:07.900

如果您有已知数量的值要转换为列，则其他答案将非常有用。但是如果你有一个未知数，那么你可以使用动态 sql 来生成结果。

您将创建以下过程：

```
CREATE OR REPLACE procedure test_dynamic_pivot(p_cursor in out sys_refcursor)
as
    sql_query varchar2(1000) := 'select empnum, empname';

    begin
        for x in (select distinct location, category from yourtable order by 1)
        loop
            sql_query := sql_query ||
              ' , sum(case when location = '''||x.location||''' and category='||x.category||' then cnt else 0 end) as sum_'||substr(x.location, -1, 1)||x.category;

                dbms_output.put_line(sql_query);
        end loop;

        sql_query := sql_query || ' from yourtable group by empnum, empname';

        open p_cursor for sql_query;
    end;
/ 
```

然后执行它：

```
variable x refcursor
exec test_dynamic_pivot(:x)
print x 
```

结果与硬编码版本相同：

```
| EMPNUM |   EMPNAME | SUM_A1 | SUM_A2 | SUM_A3 | SUM_B1 | SUM_B2 | SUM_B3 |
----------------------------------------------------------------------------
|    234 | EMILY DOE |      1 |      2 |      4 |      0 |     12 |      3 |
|    123 |  JOHN DOE |     11 |      4 |      7 |      1 |      3 |      0 | 
```

# php - 无法使用php写入文件

> ID：13082378
> 
> 赞同：-1
> 
> 时间：2012-10-26T07:10:06.170
> 
> 标签：php, permissions, file-get-contents

我见过类似的问题，但答案对我没有帮助。我正在使用下面的代码。我已经检查过，正在读取文件，它将在页面上输出 count.txt 中的数字。$hit_count 确实在增加（我在测试中回应了这一点）。`count.txt`具有权限`777`并且`count.txt`与我希望数据出现的页面位于同一目录中。我不知道下一步该做什么。这是非常简单的代码，我已经搜索了几个小时的答案。

```
<?php
$hit_count = @file_get_contents('count.txt'); // read the hit count from file
echo "Site visits since Jun 30,2012: ";
echo $hit_count; //  display the hit count
$hit_count++; // increment the hit count by 1
@file_put_contents('count.txt',  $hit_count); // store the new hit count
?> 
```

如果我删除`@`标志来测试错误，我会得到以下信息：

> 警告：file_put_contents(count.txt) [function.file-put-contents]：无法打开流：第 220 行的 D:\Hosting\9541237\html\indexTEST.php 中的权限被拒绝

什么权限？`count.txt`是`777`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:23:15.500

我会检查 php 认为您的文件权限正在使用什么`fileperms`。有关更多信息，请参阅[此](https://stackoverflow.com/questions/19466/check-file-permissions)问题。

# jsf - 会话结束时销毁视图范围的 bean

> ID：13082379
> 
> 赞同：3
> 
> 时间：2012-10-26T07:10:06.947
> 
> 标签：jsf, jakarta-ee, jsf-2, glassfish, view-scope

我的问题与这个（可能还有其他）有关：

[@PreDestroy 从未调用过 @ViewScoped](https://stackoverflow.com/questions/6368840/predestroy-never-called-on-viewscoped)

如那里所述，没有简单的解决方案可以在导航时销毁视图范围的 bean，并且会话到期时似乎也是如此。

释放（调用方法）JSF 视图范围 bean 的非平凡方法`@PreDestroy`会是什么样子，或者更具体地说，一旦会话到期，会是什么样子？

我在 GlassFish 3.1.2 上使用 Java EE 6 和 Mojarra 2.1.x。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-26T11:21:03.070

创建一个`@SessionScoped`bean 来保存资源（在某个集合/数组中？）并将其注入`@ViewScoped`bean，然后依赖`@PreDestroy`会话范围 bean 的。

诚然，这样资源的寿命比您想要的要长一些，但这是您可以获得的最简单和最可靠的解决方案。如果您想将 bean 保留`@PreDestroy`在视图范围的 bean 中，那么您需要以某种方式确保最终用户始终通过 HTTP POST 请求对这个视图范围的 bean 执行导航。您不能可靠地保证（最终用户的 PC 可能会崩溃等等）。

# jboss7.x - 使用 arquillian 调试远程容器失败

> ID：13082380
> 
> 赞同：2
> 
> 时间：2012-10-26T07:10:08.633
> 
> 标签：jboss7.x, jboss-arquillian

使用 arquillian 调试远程容器 jboss7.1.1 失败。[我按照https://community.jboss.org/wiki/WhyDontBreakPointsWorkWhenDebugging](https://community.jboss.org/wiki/WhyDontBreakPointsWorkWhenDebugging)的描述在standalone.conf.bat 中设置了调试配置。但这不会在调试模式下启动 jboss。控制台输出：

```
INFO: Starting container with: [D:\java\jdk1.6.0_22\bin\java, -Xmx512m,
 -XX:MaxPermSize=128m, -ea, -Djboss.home.dir=target/jboss-as-7.1.1.Final,
... 
```

使用 arquillian 1.0.3.Final。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:15:29.877

如果您使用托管容器并且 arquillian 正在为您启动 JBoss AS，您需要将选项添加到 arquillian.xml。就像是：

```
<arquillian xmlns="http://jboss.org/schema/arquillian"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://jboss.org/schema/arquillian
        http://jboss.org/schema/arquillian/arquillian_1_0.xsd">

    <engine>
        <property name="deploymentExportPath">target/</property>
    </engine>

    <container qualifier="jboss" default="true">
        <protocol type="jmx-as7">
            <property name="executionType">REMOTE</property>
        </protocol>
        <configuration>
            <property name="jbossHome">${basedir}/target/jboss-as-${jbossas.version}</property>
            <property name="javaVmArguments">-Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=y -Xmx512m -XX:MaxPermSize=128m</property>
        </configuration>
    </container>

</arquillian> 
```

# coffeescript - Coffeescript：调用函数声明

> ID：13082381
> 
> 赞同：1
> 
> 时间：2012-10-26T07:10:11.610
> 
> 标签：coffeescript

ember 视图上的计算属性具有以下形式

```
myComputedProperty: function() {
    return doSomething();
}.property() 
```

但是，当我在咖啡脚本中写这个时

```
myComputedProperty: ->
    doSomething()
.property() 
```

我收到类似“第 5 行解析错误：意外'.'”的错误。我做错了什么，或者这是我正在使用的解释器的怪癖（Mindscape VS 插件）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:21:27.973

该语言的语法不支持这一点。您必须在函数周围添加括号：

```
myComputedProperty: (->
    doSomething()
).property() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T09:18:57.973

您可以`()`在函数周围添加，或者您可以使语法对咖啡脚本更友好：

```
prop = (fn) -> fn.property()

myComputedProperty: prop ->
    doSomething() 
```

# jquery - jQuery 完整日历 addEventSource 不工作

> ID：13082382
> 
> 赞同：0
> 
> 时间：2012-10-26T07:10:14.540
> 
> 标签：jquery, fullcalendar, datasource

**HTML：**

```
<div id='calendar1' class='right-panel-item'> </div> 
```

**初始化代码（完美运行）：**

```
 var calendar = $('#calendar1').fullCalendar({
        events: "calendarAdmin?assignToUserId="+idValue,
                 ..... (Goes like this ) 
```

**改变一些东西：**

```
 var events = {
                      url: "calendarAdmin?assignToUserId="+ui.item.id,
                      type : 'GET'
                };
            $('#calendar1').fullCalendar('removeEventSource');
            $('#calendar1').fullCalendar('addEventSource', events);
            $('#calendar1').fullCalendar('refetchEvents'); 
```

这不是更新事件。当我追踪到这是火虫

```
var calendar = $.data(this, 'fullCalendar'); 
```

calendar 的值为`undefined`. 所以它退出循环而不应用结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T16:50:32.657

研究独立于 fullcalendar 获取数据，在我的机器上我永远无法让任何 php 脚本正常工作（即使是创建者提供的演示）。祝你好运！

# php - 通过输入类型按钮重定向到另一个站点

> ID：13082383
> 
> 赞同：0
> 
> 时间：2012-10-26T07:10:15.433
> 
> 标签：php, html, smarty

我在本地主机上配置了两个站点：

即：`http://localhost/site1/create.tpl`和`http://localhost/site2/create.php`

我想通过输入类型按钮从 site1 创建页面重定向到 site2/create。

我怎样才能做到这一点。我正在使用这个

```
<input type="button" name="doCreate"  value="{$labels.btn_create}" onclick='window.location="http://localhost/site2/create.php"'/> 
```

但不工作。我有 smarty 和 .tpl 文件，我是 smarty 的新手。

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:12:07.663

这应该有效，但可能会尝试添加一个属性`href`：

```
<input type="button" name="doCreate"  value="{$labels.btn_create}" onclick='window.location.href="http://localhost/site2/create.php"'/> 
```

PS：有关更多选项，请参阅[此](http://ntt.cc/2008/01/21/5-ways-to-redirect-url-with-javascript.html)小教程。

# vba - 如何使用 VBA 从每一行读取位置？

> ID：13082385
> 
> 赞同：0
> 
> 时间：2012-10-26T07:10:24.980
> 
> 标签：vba, excel

如何从 txt 文件中读取位置值？就像我在文本文件中有包含多行数据的文本文件。

```
10234511234preview compostion 12345  
2034512344566345644444  
2344455555555  
2100000034567 
```

现在我想`7 to 10`从第一行读取位置并将我的常量值和位置`11 to 18`再次与常量值匹配。同样的方式必须对第二行执行此操作。

所以开始两位数是 10,20 每行的键值。

请帮我如何为上述场景做 VBA 代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T10:18:33.313

您的问题有多种方法，我使用以下一种方法来实现我使用 VBA 的自动化。

我会建议你使用两张表（比如同一个工作簿的输入和输出），其中输入表应该有来自你的文本文件的数据，输出表会给你从特定位置开始的数据（比如 10,20）。

在输入表上添加一个按钮并在其单击事件上编写以下代码（从文本文件的 C7 单元格中粘贴您的数据）：

首先使用以下代码获取总行数：

`usedRowCount = Worksheets("Input").UsedRange.Rows.Count`

然后使用以下代码从特定位置复制字符串并使用以下代码将其粘贴到输出表上：

```
For i = 1 To usedRowCount

'Get the first row in variable strRecord

strRecord = Worksheets("Input").Cells(i, "C").Value        
'Copy substring from 10th posotion, 6 characters and copy it to sheet Output position A1  
Worksheets("Output").Cells(i, "A").Value = Mid(CStr(strRecord), 10, 6)    
'Copy substring from 20th posotion, 8 characters and copy it to sheet Output position B1  
Worksheets("Output").Cells(i, "B").Value = Mid(CStr(strRecord), 20, 8)    
'Copy substring from 30th posotion, 4 characters and copy it to sheet Output position C1  
Worksheets("Output").Cells(i, "C").Value = Mid(CStr(strRecord), 30, 4)    
next i 
```

# .net - 如何使用 OpenXML 修改 word 超链接

> ID：13082387
> 
> 赞同：3
> 
> 时间：2012-10-26T07:10:27.777
> 
> 标签：.net, url, hyperlink, ms-word, openxml

**如何使用 OpenXml 和 .Net 将 Microsoft Word url 中的超链接从“http://www.google.com”修改为“MyDoc.docx”？**

我可以获得文档中的所有超链接，但找不到要更改的 url 属性。我有这样的事情：

```
using (WordprocessingDocument wordDoc = WordprocessingDocument.Open(@"C:\Users\Costa\Desktop\AAA.docx", true))
{
    MainDocumentPart mainPart = wordDoc.MainDocumentPart;
    Hyperlink hLink = mainPart.Document.Body.Descendants<Hyperlink>().FirstOrDefault();
} 
```

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-26T09:49:19.053

不幸的是，您无法使用 OpenXml 直接更改超链接路径。唯一的方法是找到当前超链接的 HyperlinkRelation 对象并将其替换为具有相同关系 Id 但新超链接路径的 hew 对象：

```
using DocumentFormat.OpenXml.Wordprocessing;

MainDocumentPart mainPart = doc.MainDocumentPart;
                Hyperlink hLink = mainPart.Document.Body.Descendants<Hyperlink>().FirstOrDefault();
                if (hLink != null)
                {
                    // get hyperlink's relation Id (where path stores)
                    string relationId = hLink.Id;
                    if (relationId != string.Empty)
                    {
                        // get current relation
                        HyperlinkRelationship hr = mainPart.HyperlinkRelationships.Where(a => a.Id == relationId).FirstOrDefault();
                        if (hr != null)
                        // remove current relation
                        { mainPart.DeleteReferenceRelationship(hr); }
                        //add new relation with same Id , but new path
                        mainPart.AddHyperlinkRelationship(new System.Uri(@"D:\work\DOCS\new\My.docx", System.UriKind.Absolute), true, relationId);
                    }
                }
                // apply changes
                doc.Close(); 
```

# c++ - MySQL C++ 连接器中的内存泄漏

> ID：13082389
> 
> 赞同：5
> 
> 时间：2012-10-26T07:10:34.700
> 
> 标签：c++, mysql, mysql-connector

我正在使用 MySQL C++ 连接器。Valgrind 显示它在每个连接上都泄漏了 192 个字节。它仅在没有线程的线程环境中泄漏内存，它没有泄漏任何内存。我做错了什么？我是否需要调用其他一些函数进行清理？示例代码：

```
#include <pthread.h>
#include <iostream>
#include <cppconn/driver.h>
#include <cppconn/exception.h>
#include <cppconn/resultset.h>
#include <cppconn/statement.h>
#include <cppconn/prepared_statement.h>

using namespace std;

void* test(void* arg) {

  try {
    sql::Driver *driver;
    sql::Connection *con;
    /* Create a connection */
    driver = get_driver_instance();
    con = driver->connect("tcp://127.0.0.1:3306", "root", "root");
    /* Connect to the MySQL test database */
    con->setSchema("test");
    delete con;
  } catch (sql::SQLException &e) {
    cout << "# ERR: SQLException in " << __FILE__;
    cout << "(" << __FUNCTION__ << ") on line " << __LINE__ << endl;
    cout << "# ERR: " << e.what();
    cout << " (MySQL error code: " << e.getErrorCode();
    cout << ", SQLState: " << e.getSQLState() << " )" << endl;
  }
  return NULL;
}

int main() {
  pthread_t thread1, thread2, thread3, thread4;
  pthread_create(&thread1, NULL, test, NULL);
  pthread_create(&thread2, NULL, test, NULL);
  pthread_join(thread1, NULL);
  pthread_join(thread2, NULL);
  return 0;
} 
```

Valgrind 输出：

```
==10252== Memcheck, a memory error detector
==10252== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==10252== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==10252== Command: ./app/bin/app-test
==10252== Parent PID: 6312
==10252== 
==10252== 
==10252== HEAP SUMMARY:
==10252==     in use at exit: 384 bytes in 2 blocks
==10252==   total heap usage: 212 allocs, 210 frees, 208,400 bytes allocated
==10252== 
==10252== 192 bytes in 1 blocks are definitely lost in loss record 1 of 2
==10252==    at 0x4C29DB4: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==10252==    by 0x5E1CB3E: my_thread_init (in /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18.0.0)
==10252==    by 0x5E1CE3C: my_thread_global_init (in /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18.0.0)
==10252==    by 0x5E1AA54: my_init (in /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18.0.0)
==10252==    by 0x5DF86CA: mysql_server_init (in /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18.0.0)
==10252==    by 0x4EA3C08: sql::mysql::NativeAPI::getCApiHandle(sql::SQLString const&) (in /usr/lib/libmysqlcppconn.so.5.1.1.0)
==10252==    by 0x4EA40EA: sql::mysql::NativeAPI::MySQL_NativeDriverWrapper::MySQL_NativeDriverWrapper(sql::SQLString const&) (in /usr/lib/libmysqlcppconn.so.5.1.1.0)
==10252==    by 0x4EA4138: sql::mysql::NativeAPI::createNativeDriverWrapper(sql::SQLString const&) (in /usr/lib/libmysqlcppconn.so.5.1.1.0)
==10252==    by 0x4E6F2F3: sql::mysql::MySQL_Driver::MySQL_Driver(sql::SQLString const&) (in /usr/lib/libmysqlcppconn.so.5.1.1.0)
==10252==    by 0x4E6F50B: sql::mysql::get_driver_instance_by_name(char const*) (in /usr/lib/libmysqlcppconn.so.5.1.1.0)
==10252==    by 0x40AB8C: test(void*) (main.cc:17)
==10252==    by 0x50D9E99: start_thread (pthread_create.c:308)
==10252== 
==10252== 192 bytes in 1 blocks are definitely lost in loss record 2 of 2
==10252==    at 0x4C29DB4: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==10252==    by 0x5E1CB3E: my_thread_init (in /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18.0.0)
==10252==    by 0x5DF86DC: mysql_server_init (in /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18.0.0)
==10252==    by 0x5DFE85E: mysql_init (in /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18.0.0)
==10252==    by 0x4EA4A82: sql::mysql::NativeAPI::MySQL_NativeConnectionWrapper::MySQL_NativeConnectionWrapper(boost::shared_ptr<sql::mysql::NativeAPI::IMySQLCAPI>) (in /usr/lib/libmysqlcppconn.so.5.1.1.0)
==10252==    by 0x4EA4014: sql::mysql::NativeAPI::MySQL_NativeDriverWrapper::conn_init() (in /usr/lib/libmysqlcppconn.so.5.1.1.0)
==10252==    by 0x4E6F0DC: sql::mysql::MySQL_Driver::connect(sql::SQLString const&, sql::SQLString const&, sql::SQLString const&) (in /usr/lib/libmysqlcppconn.so.5.1.1.0)
==10252==    by 0x40ABE8: test(void*) (main.cc:18)
==10252==    by 0x50D9E99: start_thread (pthread_create.c:308)
==10252==    by 0x5AFCCBC: clone (clone.S:112)
==10252== 
==10252== LEAK SUMMARY:
==10252==    definitely lost: 384 bytes in 2 blocks
==10252==    indirectly lost: 0 bytes in 0 blocks
==10252==      possibly lost: 0 bytes in 0 blocks
==10252==    still reachable: 0 bytes in 0 blocks
==10252==         suppressed: 0 bytes in 0 blocks
==10252== 
==10252== For counts of detected and suppressed errors, rerun with: -v
==10252== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 2 from 2) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-11T19:54:37.993

正如 WhozCraig 建议的那样，您可以添加 `delete Driver;`到测试函数中，但我建议您使用`auto_ptr`C++11`unique_ptr`或`shared_ptr`所有 MYSQL，您将永远不必担心内存泄漏

以此为例

使用 C++11

```
std::unique_ptr< sql::Connection > con( driver->connect("tcp://127.0.0.1:3306", "root", "root")); 
```

或 C++

```
std::auto_ptr< sql::Connection > con( driver->connect("tcp://127.0.0.1:3306", "root", "root")); 
```

**编辑**

你不能`delete Driver`，我有时间会多研究的

**更新**

我查看了`driver.h`源代码，确实`protected: virtual ~Driver() {}`不能只使用删除，`public:`但是有两个

```
virtual void threadInit() = 0;

    virtual void threadEnd() = 0; 
```

这可能是你需要的

还有这个[示例](http://mysql-connector-cplus-pplus-p.sourcearchive.com/documentation/1.1.0-1/pthreads_8cpp-source.html)可能非常有用，并且与您的做法有些不同

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-01-18T21:56:45.237

第一个问题是你的代码是错误的。如果块中出现任何异常`try`，程序将永远不会到达`delete con;`语句，并且您将保持与 MySQL 服务器的开放连接和内存泄漏。您必须`con`在块外声明和删除`try`或使用 C++11 智能指针：

**错误的：**

```
 try {
    sql::Connection *con = driver->connect("URL", "user", "password");

    // code

    delete con;
  }
  catch (const sql::SQLException &e) {
    // code
  } 
```

**正确，在 C++11 之前：**

```
 sql::Connection *con = NULL;     
  try {
    con = driver->connect("URL", "user", "password");

    // code

  }
  catch (const sql::SQLException &e) {
    // code
  }
  delete con; // delete on NULL is harmless.
  con = NULL; 
```

**正确，C++11，推荐方式：**

```
 try {
    // unique_ptr will automatically call delete when it goes out of scope.
    // That will also happen in case of exception.
    std::unique_ptr<sql::Connection> con (driver->connect("URL", "user", "password"));     

    // code

  }
  catch (const sql::SQLException &e) {
    // code
  } 
```

此外，`driver = get_driver_instance();`应该只在程序中调用一次，而不是在每个线程中调用。因此，您应该在创建任何线程之前创建`sql::Driver *driver;`一个全局变量并调用。`driver = get_driver_instance();``main()`

# css - 基于绝对定位的父元素设置子元素的“高度”

> ID：13082392
> 
> 赞同：1
> 
> 时间：2012-10-26T07:10:44.470
> 
> 标签：css

我有一个父元素，我想在父元素中设置元素的高度。例如：

```
<div id="parent">
    <p id="child"></p>
</div> 
```

现在我们知道，为了给“孩子”设置一个高度，我们还必须在“父母”上设置一些高度值。否则，单独对“孩子”设置任何高度值都不会产生影响。

```
#parent { height: 200px; }
#child { height: 75%; } 
```

这会将“孩子”的高度设置为 200 像素的 75%。如果我们删除“父”的高度，“子”将不会设置任何高度。

现在，我发现不是设置高度，而是如果我们将“父”的定位设置为绝对，我们可以不设置任何高度就可以离开，并且“子”的高度值仍然有效：

```
#parent { position: absolute; top: 0; bottom: 0; }
#child { height: 75%; } 
```

我想知道这是一种标准行为还是偶然发生的事情。另外，如果它是标准的，这是否意味着给元素一个布局（通过设置它的位置）隐含地赋予它一些高度值？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-26T07:50:52.223

基本思想是这样的：对于绝对定位的元素，如果将相对侧的偏移量（例如`left`and `right`，或`top`and `bottom`）设置为零，则元素将分别拉伸到其包含块的宽度或高度。

这不仅是一种常用的技巧，而且也是一种标准行为。血淋淋的细节[在](http://www.w3.org/TR/CSS21/visudet.html#abs-non-replaced-height)规范中；关键在于这个等式：

> 对于绝对定位的元素，垂直尺寸的使用值必须满足这个约束：
> 
> > 'top' + 'margin-top' + 'border-top-width' + 'padding-top' + 'height' + 'padding-bottom' + 'border-bottom-width' + 'margin-bottom' + 'bottom ' = 包含块的高度

（这是用于计算高度的；还有一个相应的计算宽度的公式，可以在[这里](http://www.w3.org/TR/CSS21/visudet.html#abs-non-replaced-width)找到。）

因此，假设所有其他值的默认值，这意味着

> 0 + 0 + 0 + 0 + 'height' + 0 + 0 + 0 + 0 = 包含块的高度

其祖先都是静态的绝对定位元素的包含块始终是视口（或*初始包含块*），它通常与浏览器的查看区域（或 jsFiddle 中的结果 iframe）具有相同的高度。这会产生我刚才描述的效果。

因为您没有为父元素指定显式高度，所以这为它提供了一个隐式高度，用于[以百分比](http://www.w3.org/TR/CSS21/visudet.html#the-height-property)计算子元素的高度：

> [百分比是根据生成框的包含块](http://www.w3.org/TR/CSS21/visuren.html#containing-block)的高度计算的。

事实上，即使您设置`top`和/或设置`bottom`为某个非零值，这些框也会根据上述等式进行缩放。

另请注意，“生成框的包含块的高度”不是指该`height`块的指定值或计算值，而是使用的值，即计算呈现在屏幕上的高度。这可能是您困惑的根源，为什么您可以在不设置`height`父元素的情况下逃脱，但浏览器仍然知道如何根据一些隐式高度计算子元素的高度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:47:39.937

当然，是的。这是标准行为。

始终为元素设置`top: 0;`and时，意味着将 设置为父值。例如，考虑一个带有 的元素，如果您有一个带有and的子元素，则该子元素也将是`bottom: 0;``absolute``height``height``relative``height: 400px;``absolute``top: 0;``bottom: 0;``height: 400px;`

```
<div style='position: relative;height: 400px'>
    <div style='position: absolute;bottom: 0;top:0;'>
        ...
    </div>
</div> 
```

# excel - 特定工作表（而不是活动工作表）的范围地址

> ID：13082393
> 
> 赞同：0
> 
> 时间：2012-10-26T07:10:52.853
> 
> 标签：excel, range, vba

我想写一个简单的函数来告诉我列的长度，给出列的第一条记录。因此，我写了类似...

```
Public Function getColumnLen(firstCell As Range) As Long

Dim lastRow As Long
lastRow = Range(firstCell.Address).End(xlDown).Row

getColumnLen = lastRow - firstCell.Row + 1
End Function 
```

现在我的项目中有两个工作表，“A”和“B”，在 VBA 中我调用

```
Dim colLen as Long
colLen = getColumnLen(Worksheets("A").Range("A1")) 
```

当我想知道从 A1 开始的数据高度时。结果值`colLen`取决于工作表“A”是否处于活动状态或“B”处于活动状态。问题是在`getColumnLen`函数中，`firstCell`记住它是“A”表的一部分，但是滚动是在活动表上完成的。`firstCell`除了在每次调用中激活之外，有没有什么方法可以让这不管活动工作表都给出正确的结果？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:13:51.610

这是因为你给它一个不完全合格的单元格地址：

```
lastRow = Range(firstCell.Address).End(xlDown).Row 
```

在这里，无论您在调用函数时指定什么工作表，`firstCell.Address`都会返回。`$A$1`

*   `Worksheets("A").Range("A1").Address`
*   `Worksheets("B").Range("A1").Address`
*   `Worksheets("Whatever other sheet").Range("A1").Address`

这些都回来了`$A$1`！

忘记`Address`财产。如果您想知道它的作用，请阅读 VBA 帮助。只需这样做：

```
lastRow = firstCell.End(xlDown).Row 
```

但是请注意，如果您的范围包含空白单元格，则此查找最后一行的方法将失败。这个问题已经解决了无数次；只需[搜索此站点](https://stackoverflow.com/search?q=[vba]+%2Blast+%2Bcell)，但请注意并非所有建议的解决方案都同样有效！

# spring - 如何重新运行 Spring Batch 作业？

> ID：13082394
> 
> 赞同：1
> 
> 时间：2012-10-26T07:10:53.733
> 
> 标签：spring, spring-batch

我已经定义了一个运行一次就可以的 Spring Batch 作业。但是，由于 JOB_INSTANCE_ID 的主键中有重复条目，它无法第二次运行；

```
SEVERE: Job Terminated in error: PreparedStatementCallback; SQL [INSERT into    BATCH_JOB_INSTANCE(JOB_INSTANCE_ID, JOB_NAME, JOB_KEY, VERSION) values (?, ?, ?, ?)]; Duplicate entry '0' for key 'PRIMARY'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '0' for key 'PRIMARY' 
```

我读过这可以通过在作业中设置命令行参数来克服，例如

```
java -cp ${CLASSPATH} org.springframework.batch.core.launch.support.CommandLineJobRunner myJob.xml myJob date=20121025154016 -next 
```

无论我是否包含 -next 参数，它都不会运行该作业。

我的 Spring Batch 配置如下所示（batch/launchContext.xml）；

```
<?xml version="1.0" encoding="UTF-8"?>
<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:batch="http://www.springframework.org/schema/batch"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:util="http://www.springframework.org/schema/util"
    xmlns:jdbc="http://springframework.org/schema/jdbc"
    xsi:schemaLocation="http://www.springframework.org/schema/jdbc     http://www.springframework.org/schema/jdbc/spring-jdbc.xsd
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd
    http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch.xsd
http://springframework.org/schema/jdbc http://springframework.org/schema/jdbc/spring-jdbc.xsd
    http://www.springframework.org/schema/context 
http://www.springframework.org/schema/context/spring-context.xsd">

    <!-- Launch context: how to launch all of the jobs -->
    <!-- Expects a data source configuration file to be used, with a DataSource bean 
called "dataSource" -->

    <!-- The data source for the jobs status -->
    <import resource="dataSource.xml" />

    <bean
            id="jobRepository"                        
class="org.springframework.batch.core.repository.support.JobRepositoryFactoryBean">
            <property
                    name="dataSource"
                    ref="dataSource" />
            <property
                    name="databaseType"
                    value="MySQL" />
            <property
                    name="transactionManager"
                    ref="transactionManager"></property>
    </bean>

    <bean
            id="incrementer"
            class="org.springframework.batch.core.launch.support.RunIdIncrementer" />

    <bean
            id="jobLauncher"
            class="org.springframework.batch.core.launch.support.SimpleJobLauncher">
            <property
                    name="jobRepository"
                    ref="jobRepository" />
    </bean>

    <bean
            id="transactionManager"
            class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
            <property
                    name="dataSource"
                    ref="dataSource" />
    </bean>

    <bean
            id="jobExplorer"       
class="org.springframework.batch.core.explore.support.JobExplorerFactoryBean">
            <property
                    name="dataSource"
                    ref="dataSource" />
    </bean>

</beans> 
```

工作是这样的（在 myJob.xml 文件中）

```
....
<import resource="batch/launchContext.xml" />
...
    <batch:job
            id="myJob"
            job-repository="jobRepository"
            incrementer="incrementer">
            <batch:step id="step1">
                    <batch:tasklet transaction-manager="transactionManager">
                            <batch:chunk
                                    reader="myReader"
                                    processor="myProcessor"
                                    writer="myWriter"
                                    commit-interval="10" />
                    </batch:tasklet>
            </batch:step>
    </batch:job> 
```

理想情况下，我希望每次运行作业都与运行日期/时间保持一致。有没有办法将启动器配置为自动执行此操作？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-30T08:15:59.837

我也将这个问题放在官方春季论坛上。我最终找到了自己的答案（一路上有提示）；

[http://forum.springsource.org/showthread.php?131347-How-to-re-run-a-job&p=428484#post428484](http://forum.springsource.org/showthread.php?131347-How-to-re-run-a-job&p=428484#post428484)

简而言之，问题是我从这三个表中删除了值“0”；

*   BATCH_STEP_EXECUTION_SEQ
*   BATCH_JOB_EXECUTION_SEQ
*   BATCH_JOB_SEQ

因此，在清理 Spring Batch 元数据表时（例如，使用 truncate 或 delete from ...）确保之后运行以下命令；

```
INSERT INTO BATCH_STEP_EXECUTION_SEQ values(0);
INSERT INTO BATCH_JOB_EXECUTION_SEQ values(0);
INSERT INTO BATCH_JOB_SEQ values(0); 
```

# javascript - 使用 JS/Jquery 在单独的文件中更改 DIV id

> ID：13082401
> 
> 赞同：0
> 
> 时间：2012-10-26T07:11:31.797
> 
> 标签：javascript, jquery, html, css, xhtml

嗨，我有一点问题。我正在加载一个附属横幅，并且控制大小、宽度和其他输出的 JS 文件无法托管在我的服务器上（发布者不允许）。

**当前配置**

我有一个 div 里面有一个图像：

```
<div>
<img src="someimage.jpg" id="img=" />
</div> 
```

当您单击图像时，此 div 会展开为 300 像素宽和 180 像素宽的调查，人们可以填写并提交。

所以这里是问题：

我无法触摸的 JS 文件具有图像的所有样式，我正在尝试使用与我的网站匹配的东西来更改图像大小。所以我在我的 html 文件（其中包含 JS）中硬编码：#img{height:100px; width:100px;} 这工作正常，图像缩小到 100x100，但问题是调查不再扩大并且也设置为 100x100。

所以我试图找到一种在不下载 JS 文件的情况下更改图像大小的好方法。所以我正在考虑两种解决方案：

1.  使用JS调用设置高宽的函数并覆盖
2.  使用JS调用ID并在html中更改。

如果您有更好的方法，我会全神贯注:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T10:41:59.700

您可以在图像上使用一个类（更改 id 不是那么优雅）：

```
 .imgClass{height:100px; width:100px;}

<div>
    <img src="someimage.jpg" id="img" class="imgClass" />
</div> 
```

在图像的 onclick 事件中，您可以删除该类：

```
$("#img").bind("click",function(){
    $(this).removeClass('imgClass');
}); 
```

或内联

```
 <div>
    <img src="someimage.jpg" onclick="$(this).removeClass('imgClass');" id="img" class="imgClass" />
</div> 
```

# drupal - 无法发送电子邮件。如果仍然存在，请联系站点管理员。登录后在drupal中

> ID：13082402
> 
> 赞同：0
> 
> 时间：2012-10-26T07:11:41.280
> 
> 标签：drupal, login, registration

谁能为此提供我的解决方案。这是在 drupal 7 注册之后。并且用户自动登录并收到此错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T12:43:10.830

这个模块可能有助于
[logging_alerts](http://drupal.org/project/logging_alerts)

# jquery - 多个 jQuery UI 选项卡 + 连接的 Sortables 无法按预期工作

> ID：13082404
> 
> 赞同：4
> 
> 时间：2012-10-26T07:11:45.240
> 
> 标签：jquery, jquery-ui, jquery-ui-tabs, jquery-ui-sortable

我正在使用 jQuery 1.8.2 和 jQuery UI 1.9.0。

这是[jQuery UI 选项卡演示页面](http://jqueryui.com/tabs/#sortable)中可排序演示的扩展，其中包含两组选项卡 + 可排序，相互连接[http://jsfiddle.net/sujay/cUDLF/](http://jsfiddle.net/sujay/cUDLF/)。

此举效果很好，但即使`refresh`选项卡无法按预期工作。

要重现此问题，请尝试将未选择的选项卡从顶部集移动到底部集，然后选择它。

您会看到选项卡和面板都已移至底部设置（底部设置的选择将被取消选择）。但是在选择时，顶部的选项卡会被取消选择。

**更新**

我现在可以让它工作了。检查[http://jsfiddle.net/cUDLF/6/](http://jsfiddle.net/cUDLF/6/)。

但是正弦接收事件只获得绝对位置而不是索引。位置丢失。它始终附加到选项卡列表的末尾。

如果有办法找到索引，问题就会得到解决。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:00:08.480

代替：

```
tabs.tabs( "refresh" ); 
```

和：

```
tabs.tabs('destroy');
tabs.tabs(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-26T16:10:54.513

我终于找到了解决这个问题的方法。

可以在[http://jsfiddle.net/cUDLF/12/](http://jsfiddle.net/cUDLF/12/)找到一个可行的解决方案。

感谢[此答案](https://stackoverflow.com/a/3942852/556856 "document.elementFromPoint")中的提示。

接收片段看起来像

```
 receive: function (event, ui) {
            var receiver = $(this).parent(),
                sender = $(ui.sender[0]).parent(),
                tab = ui.item[0],
                tab$ = $(ui.item[0]),
            // Find the id of the associated panel
                panelId = tab$.attr( "aria-controls" ),
                insertBefore = document.elementFromPoint(event.pageX,event.pageY);

            tab$ = $(tab$.removeAttr($.makeArray(tab.attributes).
                          map(function(item){ return item.name;}).
                          join(' ')).remove());
            tab$.find('a').removeAttr('id tabindex role class');
            if(insertBefore.parentElement == tab){
                insertBefore = document.elementFromPoint(event.pageX + insertBefore.offsetWidth, event.pageY);
            }
            insertBefore = $(insertBefore).closest('li[role="tab"]').get(0);
            if(insertBefore)
                tab$.insertBefore(insertBefore);
            else
                $(this).append(tab$);

            $($( "#" + panelId ).remove()).appendTo(receiver);
            tabs.tabs('refresh');
        } 
```

如果您发现这种方法有任何问题，请告诉我。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-31T09:59:43.223

这是工作示例：http: [//jsfiddle.net/5qY5B/](http://jsfiddle.net/5qY5B/)

如果 newTab 和 oldTab 来自不同的选项卡容器，解决方法是阻止选项卡更改事件:)

例子 ：

安装了这个：

```
var tabs = $( "#tabs_1, #tabs_2" ).tabs(); 
```

使用这个（**更新**）：

```
var tabs = $( "#tabs_1, #tabs_2" ).tabs({
        beforeActivate : function( event, ui ) {        
            if(ui.oldTab.parent().parent().attr("id") != ui.newTab.parent().parent().attr("id")) {
                if( $( this ).tabs( "option", "active") == -1) $( this ).tabs( "option", "active", 0); // NEW
                return false;
            }        
        }    
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-01T10:57:04.727

这似乎适用于接收：

```
 tabs.tabs("destroy");
            $( "#" + panelId ).appendTo(receiver);
            tabs.tabs(); 
```

在这里演示[http://jsfiddle.net/nxtwrld/yxgUR/1/](http://jsfiddle.net/nxtwrld/yxgUR/1/)

# java - 创建和使用 GUI 时

> ID：13082406
> 
> 赞同：0
> 
> 时间：2012-10-26T07:11:49.350
> 
> 标签：java, user-interface, rule

我即将开始我的第一个公司项目！当然，我想把它做对，并使用我所学到的一切。

当然，UI 对公司和我来说都很重要。我对你们的问题是：在创建 GUI 和在程序逻辑中使用 gui 元素时是否有共同的经验法则？您是否将其划分为尽可能多的子类，或者您是否创建了许多不同的对象，或者您是否只有一个可以完成所有工作的大型 GUI 类？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:16:30.283

**分而治之！**您当然不想要一个包含数千行代码的大类，这些代码混合了各种东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:28:04.463

我认为这个问题没有一般的答案，这真的取决于项目。在一个相当小的项目中，只有一个 GUI 类可能更容易，但对于大型项目，“分而治之”的原则对于成功至关重要。否则一段时间后你将无法理解你自己的程序，因为单个文件中的代码太多了。

我的建议是按照您认为最好的方式开始和划分项目。经过一段时间的研究，您可能会找到更好的方法。但是再一次在提取/合并类的意义上进行重构并不是那么多工作。对于下一个项目，您将能够从一开始就做得更好。

# javascript - 为什么 for...in 循环遍历函数名

> ID：13082409
> 
> 赞同：6
> 
> 时间：2012-10-26T07:11:52.390
> 
> 标签：javascript, for-loop, internet-explorer-8

在 IE8 中测试一些 JavaScrpt 代码时，我在执行简单的 for..in 循环时遇到了一些奇怪的行为：

```
var categories = ['for', 'bar', 'steam'];
for(var key in categories) {
    console.log(key);
} 
```

输出：

```
0
1
2
forEach
map
filter
reduce
indexOf
end 
```

其中包括 Array 原型函数，对吧？这绝对不是它应该工作的方式。这是为什么？

顺便说一句，当将循环更改为`for (var key=0; key < categories.length, key++)`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:18:07.673

`for..in`用于对象*而不是*数组。使用常规`for`循环：

```
for (var i = 0; i < categories.length; i++) {
  console.log(categories[i]);
} 
```

`for...in`当您不关心索引但不建议使用时，它将适用于数组。您遇到的问题是因为`for...in`查找对象的*所有*属性，包括原型中的属性，这就是为什么建议始终检查属性是否实际上在对象中的原因。

```
for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
        // do something
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:21:11.903

那是因为您可能正在使用扩展`Array.prototype`. 它不会在其他浏览器中发生的原因是它们已经原生支持这些方法。由于 IE 不支持，所以有一些代码在 JS 中添加了它，这使得方法可以枚举。

`for in`这就是你不应该使用数组的原因之一。

另一个是不能保证迭代顺序的事实，`for in`尽管它在大多数浏览器中确实有效，但它被规范明确地保留为未定义的行为。John Resig 自己针对 chrome [http://code.google.com/p/chromium/issues/detail?id=883](http://code.google.com/p/chromium/issues/detail?id=883)提交了一个错误，它已关闭，因为无法修复，因为不需要订购属性

坚持使用标准循环

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:20:46.067

好像您使用了一些框架。迭代数组是不好的方法，因为一些框架向标准原型添加了功能。

```
 for (var i=0, len=arr.length; i<len; ++i) {

 } 
```

该代码将在任何地方工作。

# ruby-on-rails - Rails：如何显示一个模型中的项目列表，该模型由位于另一个模型上的属性过滤

> ID：13082412
> 
> 赞同：0
> 
> 时间：2012-10-26T07:11:56.537
> 
> 标签：ruby-on-rails, model, attributes

在 Rails 中假设我有 3 个模型 A、B 和 C，每个模型都有自己的控制器。

A型

has_many :b

模型 B 具有属性 :a_id 和 :c_id （B 和 A 的外键）

属于_to :a
属于_to :c

具有属性的模型 C :item1、:item2 等。

has_many :b

我想显示由特定 a_id 过滤的 Model C 中的项目列表。由于各种原因，我不想在 Model C 上携带 b_id 外键。实现这一点的最佳方法是什么？我想到了数组，但似乎很复杂。我确信有一个更简单的方法。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:25:00.777

尝试以这种方式建立关系

```
Model A
  has_and_belongs_to_many :c

Model C
  has_and_belongs_to_many :a

Model B
  belongs_to :a
  belongs_to :c 
```

这样您就可以像这样在控制台中尝试获取数据

```
# a = user, c = customer
@user.customers # you get all customers for particular user
@customer.users # you get all users for particular customer 
```

[在HATBM](http://mikewilliamson.wordpress.com/2010/07/02/rails-has_and_belongs_to_many/)中查看更多信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T10:34:29.997

感谢您的建议，我不想因为我有其他依赖关系而弄乱模型关联，所以我想出了一个涉及 pluck 的解决方案。

我用过这样的东西：

```
@pluckfromModelC = ModelB.where("attribute_I_want_mapping =?", @attribute_to_map_from).uniq.pluck(:item_id) 
```

这产生了一个数组。

在我看来，然后我创建了一个循环

```
<% @pluckfromModelC.each do |x| %>

    <% @founditem = Item.find(x) %>
    <%= @founditem.description %>
     ...etc.

<% end %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T08:30:46.693

试试这个：

```
C.find(:all, :joins => [:B], :conditions => ["a_id = ", id_of_a]) 
```

# ios - 如何打印 Nag 符号 ⩱ ⩲ ⟳ ？

> ID：13082417
> 
> 赞同：0
> 
> 时间：2012-10-26T07:12:30.207
> 
> 标签：ios, xcode

我必须在 UILabel 上打印 nag 符号。

⩱ ⩲ ⟳</p>

这三个符号在 UILabel 上打印不正确。

我也试过：- UniChar str = 0x27F3; NSString *myString = [NSString stringWithCharacters:&str length:1];

```
 [lblNextMove setText:myString]; 
```

我从这个链接得到了符号：- [Wiki](http://en.wikipedia.org/wiki/Numeric_Annotation_Glyphs)

虽然大多数符号都可以正确打印，但我无法打印这三个。

我想知道为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T10:52:49.997

您没有正确生成字符串。

例如，要获得该页面上列出的轻微优势符号，您可以生成一个字符串：

```
NSString *slightAdvantageString = @"\u2213"; 
```

在标签中显示为：

![在此处输入图像描述](../Images/7234c3cad62d830c9d26e1e0f030365c.png)

# c - 谁能建议我，如何为此数据接收代码实现暂停和恢复功能？

> ID：13082418
> 
> 赞同：0
> 
> 时间：2012-10-26T07:12:32.917
> 
> 标签：c, linux, http, sockets, download

这是来自http服务器的数据接收功能代码，完美工作..但我想在这个功能中添加暂停和恢复..有人可以建议我怎么做吗？
注意：忽略变量声明。

```
int rest=0,size=0,count=0;                               
memset(buffer,'\0',sizeof(buffer));
do {
    rc=read(sockfd,buffer,1500);                  //Reading from socket connection
    if(rest==0)
    {   /*Extracting Content length*/
        data=strstr((char*)buffer,"Content-Length"); 
        if(data!=NULL)
        {
            value=atoi((char*)data+15);data_rest=value;
            rest=1;
        }
    }
    if(count==0)
    {   /*Extracting Header*/
        content=strstr(buffer,"\r\n\r\n");
        if(content!=NULL)
        { 
            printf("FOUND Header END\n");
            content=content+4;count=1;
            /*copying DATA to the file which has same Extension*/
            data_wrote=fwrite(content,sizeof(char),rc-(content-buffer),fp);
        }
    }
    else
    {
        content=buffer;
        /*copying DATA to the file which has same Extension*/
        data_wrote=fwrite(content,sizeof(char),rc,fp);
    }
    size=size+rc;
    total_wrote=total_wrote+data_wrote;
    printf("Total size = %d\n",size);

    memset(buffer,'\0',sizeof(buffer));
} while(rc>0);  /*until end of file*/ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T16:31:29.950

这是我将使用的过程：

*   发送带有`Range: bytes=0-`HTTP/1.1 请求标头的初始请求。如果服务器以 响应`HTTP/1.1 206 Partial content`，您知道您可以稍后恢复连接。保存`ETag`响应标头，因为它应该保持不变，除非服务器上的内容发生更改，和/或`Content-Type`, 和`Last- Modified`标头。注意，`Content-Range`响应头指定了本次响应中字节的偏移量，最后一个数字是完整内容的总长度，并且`Content-Length`只指定了当前响应的长度（不是原始内容的长度）。

*   只需关闭连接即可中断传输。

*   发送带有`Range: bytes=N-`HTTP/1.1 请求标头的继续请求，其中`N`是本地副本中仍然缺少的第一个字节的偏移量。如果服务器没有响应 a `HTTP/1.1 206 Partial content`，则您没有办法，但必须再次下载整个内容（使用正常的 HTTP 请求处理）。如果`ETag`、`Content-Type`或`Last-Modified`响应标头不匹配，则可能是服务器上的内容已被修改，您应该断开此连接并下载完整的请求。响应头指定了本`Content-Range`次响应中字节的偏移量，最后一个数字是完整内容的总长度，并且`Content-Length`只指定了当前响应的长度（不是原始内容的长度）。

在所有情况下，服务器都可能使用`chunked`内容传输编码，因此您必须准备好处理它，因为请求是 HTTP 1.1。有关详细信息，请参阅[RFC2616](https://www.rfc-editor.org/rfc/rfc2616)。

当您对此进行测试时，我建议您使用一个简单的 Bash 脚本使用您的自定义标头连接到某个 URL，并将响应标头输出到标准错误并将消息内容输出到标准输出：

```
#!/bin/bash

Host="localhost"   # Host name, use your own servers
Port="80"
Query="/"          # Path to the content requested
Range="0-"         # Byte range requested

# Open up a connection
exec 3<>/dev/tcp/$Host/$Port || exit $?

# Set up a reader sub-shell that will flush the headers
# to standard error, and content to standard out.
(   Headers=1
    while read Line ; do
        Line="${Line//$'\r'/}"
        if [ -z "$Line" ]; then
            Headers=0
        elif [ $Headers -gt 0 ]; then
            printf '%s\n' "$Line" >&2
        else
            printf '%s\n' "$Line"
        fi
    done
    exit 0
) <&3 &

# Construct a byte-range request:
Request=""
Request="$Request""GET $Query HTTP/1.1"$'\r\n'
Request="$Request""Host: $Host"$'\r\n'
Request="$Request""Range: bytes=$Range"$'\r\n'
Request="$Request""Connection: close"$'\r\n'

# Do a normal request.
printf '%s\r\n' "$Request" >&3

# Close the connection (the read end is still open).
exec 3>&-

# and wait for the request to complete.
wait 
```

上面不是 HTTP 客户端，不做分块传输，例如；它只是一个调试工具，您可以使用它来准确查看从服务器流向客户端的数据。

# android - Android Roboguice 扩展 Robo 类的目的是什么？

> ID：13082419
> 
> 赞同：1
> 
> 时间：2012-10-26T07:12:47.040
> 
> 标签：android, dependency-injection, roboguice

我是 roboguice 的新手，我一直在查看他们的文档，我知道是的，而不是说

```
 findViewById, i can just do @InjectView, etc 
```

但是扩展它们的类的目的是什么，例如 RoboAcitivy 或 RoboFragment 等？我的意思是这样做有什么好处？我还是没看到。

请你好

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T09:51:16.273

我强烈建议您查看[RoboActivity](https://code.google.com/p/roboguice/source/browse/roboguice/src/main/java/roboguice/activity/RoboActivity.java)课程。那么，我想，这对你来说就很清楚了。

Roboguice 正在使用注释来了解注入实例的内容和位置。这是在`Injector`必须在某处调用的地方完成的。Roboguice 的创建者决定以`Activity.onCreate()`方法运行它。因此`Activity`扩展到下面的代码`RoboActivty`中添加这样的`onCreate()`代码：

```
final RoboInjector injector = RoboGuice.getInjector(this);    
injector.injectMembersWithoutViews(this); 
```

Injector 将检测带注释的字段并注入实例。

# java - 如何在 Jenkins 中配置 Selenium HTML 报告

> ID：13082425
> 
> 赞同：4
> 
> 时间：2012-10-26T07:13:09.863
> 
> 标签：java, selenium, jenkins, jenkins-plugins, mojo

我们在 Jenkins 中配置了 Java MOJO。一旦在 CI 中构建代码，就会生成万无一失的报告。我们有 Junit 和 Selenium 测试用例来测试应用程序。

我需要以 HTML 格式呈现来自测试用例的结果。Jenkins 是否有可用的插件以 HTML 格式显示内容？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:22:58.017

首先，您需要安装[Selenium HTML Report Plugin](https://wiki.jenkins-ci.org/display/JENKINS/seleniumhtmlreport+Plugin)。如果您不知道安装插件，请使用此[链接](https://wiki.jenkins-ci.org/display/JENKINS/Plugins)

安装 Selenium HTML 报告插件后，添加构建后脚本以从安全报告生成 HTML 内容。使用以下屏幕截图配置 HTML 插件。

![在 Jenkins 中配置 SeleniumHTML 报告插件](../Images/d2ba154ad5f93800740bbe113af97fd2.png)

用你的 MOJO改变**ProjectRoot**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-12T21:55:59.197

1.  在 jenkins 中安装“Selenium HTML Report Plugin”。
2.  在后期构建操作中添加以下操作。

    **行动 1：发布 Selenium HTML 报告**

    **value** : */(Job Name)/workspace/ --> note: (把你的测试结果文件放在这个文件夹里)

    **行动 2：发布 Selenium 报告**

    **值**：* */（工作名称）/workspace/* .html

这样我们就可以生成成功的硒报告。

# objective-c - 相等的字符串不相等？

> ID：13082427
> 
> 赞同：0
> 
> 时间：2012-10-26T07:13:17.943
> 
> 标签：objective-c, ios, nsstring

> **可能重复：**
> [了解 Objective-C 中的 NSString 比较](https://stackoverflow.com/questions/3703554/understanding-nsstring-comparison-in-objective-c)

我在objective-c中遇到了奇怪的事情，我试图将cell.label与元素标题进行比较，它是字符串。确定它是否是我正在寻找的单元格。

```
NSLog(@"%@", cell.textLabel.text);
NSLog(@"%@", [_dropDownSelection1.elements[1] title]);
if(cell.textLabel.text == [_dropDownSelection1.elements[1] title]){
    NSLog(@"Positive");
}
else{
    NSLog(@"Negative");
} 
```

NSLog 打印出两者中的文本完全相同，但我仍然总是以否定结尾......这是为什么呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:16:28.360

您应该使用`[cell.textLabel.text isEqualToString:[_dropDownSelection1.elements[1] title]]`来比较字符串。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T07:16:37.207

您正在将指针相互比较，而不是字符串。

请改用 IsEqual。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T07:16:40.753

你不能这样比较它们。

请参阅[Objective-C 文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html)中的识别和比较字符串部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-26T08:48:45.373

比较两个字符串的方法是 isEqualToString：

你的代码是这样的

```
NSLog(@"%@", cell.textLabel.text);
NSLog(@"%@", [_dropDownSelection1.elements[1] title]);

if(cell.textLabel.text isEqualToString:[_dropDownSelection1.elements[1] title])
{
NSLog(@"Positive");
}
else
{
NSLog(@"Negative");
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-26T08:09:37.813

这是对我有用的代码！我不知道为什么，但是，如果不初始化变量，即使使用上面提供的 isEqualToString，我也无法使其工作。

```
NSLog(@"CELL:%@", cell.textLabel.text);
NSLog(@"ELEM:%@", [_dropDownSelection1.elements[1] title]);
NSString *labl = cell.textLabel.text;
NSString *tit = [_dropDownSelection1.elements[1] title];

if([labl isEqualToString:tit])
{

    NSLog(@"Positive");
}
else{
    NSLog(@"Negative");

} 
```

# java - 是否有节俭的演示来发送和接收消息？

> ID：13082428
> 
> 赞同：0
> 
> 时间：2012-10-26T07:13:24.700
> 
> 标签：java, thrift

我目前正在学习 apache thrift。但是我得到的所有演示都是关于 RPC 的。我的问题是，它是否能够发送和接收消息，比如结构或字符串？（.thrift 文件中只有一个结构定义）Java 中的演示很受欢迎。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T14:09:37.470

Thrift 是 RPC 协议，而不是消息传递协议。从理论上讲，您可以在其之上实现消息传递，但如果您的需求是面向消息的，那么您最好使用一些消息传递协议，例如 AMQP。

另一方面，如果您想知道是否可以通过 thirft 在 RPC 调用中传递更复杂的数据结构，那么答案是肯定的。

# php - 用 preg_replace 的简码结构替换 href 标记

> ID：13082430
> 
> 赞同：0
> 
> 时间：2012-10-26T07:13:35.897
> 
> 标签：php, regex, href, bbcode

我正在尝试替换 href 并且我有以下代码：`<a href="http://www.mysite.com" target="_blank">My site</a>`

接着就，随即 ：

```
$textarea_content = '<a href="http://www.mysite.com" target="_blank">My site</a>';
$patterns = array(
    "/<a href=/",
    "/target*\=*\'*\_blank*\'*\>/",
    "/<*\/a>/"
);
$replacements = array(
    "[url=",
    "]",
    "[/url]"
);
$textarea_content = preg_replace($patterns,$replacements, $textarea_content); 
```

我需要将链接标签转换为这种结构：

```
[url='http://www.mysite.com']My site[/url] 
```

问题是输出类似于：`<a href="" http:="" www.mysite.com''="" target="_blank">My site</a>`

我做错了什么？感谢帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:21:13.997

```
echo preg_replace('/(?:\<a\s+.*href=\"([^\"]*)"[^\>]*\>([^\<]*)\<\/a\>)/', '[url=\'\\1\']\\2[/url]', $text); 
```

假设：

```
$text = 'Bla bla bla <a href="http://www.mysite.com" target="_blank">My site</a> bla bla bla'; 
```

结果：

```
Bla bla bla [url='http://www.mysite.com']My site[/url] bla bla bla 
```

**编辑**根据以下OP的评论：

如果想取回您的 HTML，您只需执行以下操作：

```
echo preg_replace('/(?:\[url=\'([^\']*)\'\]([^\[]*)\[\/url\])/', '<a href="\\1" target="_blank">\\2</a>', $parsed); 
```

假设：

```
$parsed = 'Bla bla bla [url=\'http://www.mysite.com\']My site[/url] bla bla bla'; 
```

结果：

```
Bla bla bla <a href="http://www.mysite.com" target="_blank">My site</a> bla bla bla 
```

# asp.net - 在 mvc3 中的 Get Call 上将数据从视图传递到控制器

> ID：13082439
> 
> 赞同：2
> 
> 时间：2012-10-26T07:14:00.783
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3, razor

我有用于在视图中显示页面大小的下拉列表。例如作为

```
@Html.DropDownListFor(m => m.PageSize,
new List<SelectListItem>() { new SelectListItem() { Text = "10" }, 
new SelectListItem() { Text = "20" },
new SelectListItem() { Text = "50" },
new SelectListItem() { Text = "100" }
}) 
```

我必须在控制器操作中获取选定的项目值。

我的行动将只接受接听电话。我只是不想作为查询字符串传递。那么如何实现呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:39:19.190

如果您想使用 GET 传递它，恐怕您唯一的选择是查询字符串。

从[w3.org 规范](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html)中引用：

*“GET 方法意味着检索由 Request-URI 标识的任何信息（以实体的形式）。”*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:46:12.197

我的想法是准备这个更加动态的并将数据发送到模型。

```
<td>
@Html.DropDownListFor(m => m.CurrentVoucher, new System.Web.Mvc.SelectList(Model.OutgoingStatusList, "Value", "Text"), new { style = "width:140px" })
</td>

------------
model.OutgoingStatusList = new List<SelectListItem>();
------------
model.KidsList = new List<SelectListItem>();
            for (int i = 0; i <= 20; i++)
                model.KidsList.Add(new SelectListItem { Value = i.ToString(), Text = i.ToString() }); 
```

模型将获得值“m.CurrentVoucher”。只有示例（我从我的笔记中获取）和“model.kidsList”您可以更改为“model.OutgoingStatus”您可以更改名称。阅读这个例子，希望对我有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T07:54:17.940

如果您对使用查询字符串的厌恶是手动构建 url，然后将其包装在一个带有 method="get" 的表单中，这样您仍然可以使用下拉菜单等控件，但它们会在提交表单时自动转换为查询字符串.

# php - 如何从同一类中的函数中调用类中的函数？

> ID：13082442
> 
> 赞同：1
> 
> 时间：2012-10-26T07:14:12.843
> 
> 标签：php, class

我是 PHP 类的新手，我想知道如何调用驻留在我调用它的同一个类中的函数。这是正确的还是最好的方法？

page1.php：

```
 $object=new MyClass();
 $object->func1(); 
```

MyClass.php：

```
class MyClass{

    function func1(){
        ....
         $object->func2();
    }

    function func2(){
        ....
    }

} 
```

我想这样做的原因是因为 func1 会在 func1 结束时调用 func2 但我还需要在其他情况下独立于 func1 使用 func2 并且我认为如果这可能它会减少代码（即使它将是来自 func2 的简单复制/粘贴，并将其放在 func1) 的末尾。

编辑：或者我可以使用：

```
self::func2(); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-26T07:15:09.080

您可以使用`$this`来引用当前对象，从而调用`$this->func2()`.

（`$this`当您在对象实例的上下文中时，PHP 会自动填充 的值。）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-26T07:16:13.713

代替

```
$object->func2 
```

写

```
$this->func2() 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-26T07:17:17.127

```
class MyClass{

    function func1(){
        ....
        $this->func2()
    }

    function func2(){
        ....
    }

} 
```

您可以`$this`用来调用类中的内部函数和内部变量

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-26T07:18:41.377

如果您想从 func1 调用，请使用`$this->func2();`

从课堂外调用，使用`$object->func2();`

但是如果你不需要 func2，你可以将代码移动到 func1 的末尾，你可能需要从 func2 更改一些代码，这是你的选择。

# entity-framework-4 - 实体框架中的多个 SaveChanges 调用

> ID：13082443
> 
> 赞同：30
> 
> 时间：2012-10-26T07:14:15.590
> 
> 标签：entity-framework-4, transactions, transactionscope

我正在基于实体框架构建自己的自定义存储库，并且正在创建一些扩展方法，这些方法允许我将部分视图模型保存为实体模型，因此我正在构建自己的 Add 和 Update 方法。

目前，每个方法最后都会调用 DbContext 中的 SaveChanges()，这意味着对于每个模型，都会调用一个调用。

我正在为 MVC4 站点构建这个基本 DAL 模式，这意味着大多数时候我将访问 1 个模型，但不一定是这种情况。

在更新即 3 个实体时为每个模型调用 SaveChanges() 是不是太糟糕了，还是我应该首先将所有内容添加到对象上下文中，而不是 SaveChanges() 作为某种事务提交？

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2014-04-26T09:21:26.093

我知道这是一个迟到的答案，但我发现分享它很有用。

现在在**EF6**中，通过使用更容易实现这一点`dbContext.Database.BeginTransaction()`

像这样 ：

```
using (var context = new BloggingContext())
{
    using (var dbContextTransaction = context.Database.BeginTransaction())
    {
        try
        {
            // do your changes
            context.SaveChanges();

            // do another changes
            context.SaveChanges();

            dbContextTransaction.Commit();
        }
        catch (Exception ex)
        {
            //Log, handle or absorbe I don't care ^_^
        }
    }
} 
```

有关更多信息，请查看[此](http://msdn.microsoft.com/en-us/data/dn456843)

**又是在 EF6 以后**

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-26T07:55:06.780

`SaveChanges`当相关实体应保留在单个事务中时，多次调用（没有事务范围）是一种不好的做法。您创建的是一个泄漏的抽象。创建一个单独的工作单元类或使用它`ObjectContext/DbContext`本身。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-26T11:04:48.750

我强烈建议不要在每种方法中调用 SaveChanges()。使用存储库模式和工作单元是更好的前进方式。工作单元，允许您更高效地调用数据库，并且如果某些数据无效（例如，用户详细信息正常，但地址失败），还可以帮助您防止污染数据库。

这是一个很好的教程来帮助你。

[http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net- mvc-应用程序](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-07-27T10:21:25.050

这是我目前使用的处理多个`context.SaveChanges()`使用 UnitOfWork 的另一种方法。

我们将**保留**所有`context.SaveChanges()`方法，直到最后一个方法被调用。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using Microsoft.EntityFrameworkCore;

namespace DataAccess
{
    public class UnitOfWork : IUnitOfWork
    {
        private readonly Context context;
        private readonly Dictionary<Type, object> repositories = new Dictionary<Type, object>();

        private int beginChangeCount;
        private bool selfManagedTransaction = true;

        public UnitOfWork(Context context)
        {
            this.context = context;
        }     

        //Use generic repo or init the instance of your repos here
        public IGenericRepository<TEntity> GetRepository<TEntity>() where TEntity : BaseEntityModel
        {
            if (repositories.Keys.Contains(typeof(TEntity)))
                return repositories[typeof(TEntity)] as IGenericRepository<TEntity>;

            var repository = new Repository<TEntity>(context);
            repositories.Add(typeof(TEntity), repository);

            return repository;
        }

        public void SaveChanges()
        {           
            if (selfManagedTransaction)
            {
                CommitChanges();
            }
        }

        public void BeginChanges()
        {
            selfManagedTransaction = false;
            Interlocked.Increment(ref beginChangeCount);
        }

        public void CommitChanges()
        {
            if (Interlocked.Decrement(ref beginChangeCount) > 0)
            {
                return;
            }

            beginChangeCount = 0;
            context.SaveChanges();
            selfManagedTransaction = true;
        }
    }
} 
```

样品使用。

在下面的代码中找到我的评论

```
using System.Linq;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Identity;

namespace BusinessServices.Domain
{
    public class AService : BaseBusinessService, IAService
    {
        private readonly IBService BService;
        private readonly ICService CService;
        private readonly IUnitOfWork uow;

        public AService (IBService BService, ICService CService, IUnitOfWork uow)
        {
            this.BService = BService;
            this.CService = CService;
            this.uow = uow;
        }

        public void DoSomeThingComplicated()
        {
            uow.BeginChanges();

            //Create object B - already have uow.SaveChanges() inside
            //still not save to database yet
            BService.CreateB();

            //Create object C  - already have uow.SaveChanges() inside
            //still not save to databse yet
            CService.CreateC();

            //if there are no exceptions, all data will be saved in database
            //else nothing in database
            uow.CommitChanges();

        }
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-04-08T16:01:59.880

在这种情况下，建议采用[此处阐述](http://mehdi.me/ambient-dbcontext-in-ef6/)的新现代方法。

如果您熟悉`TransactionScope`该类，那么您已经知道如何使用`DbContextScope`. 它们在本质上非常相似——唯一的区别是`DbContextScope`创建和管理`DbContext`实例而不是数据库事务。但就像`TransactionScope`,`DbContextScope`是环境的，可以嵌套，可以禁用其嵌套行为并且可以在异步执行流中正常工作。

```
public void MarkUserAsPremium(Guid userId)  
{
    using (var dbContextScope = _dbContextScopeFactory.Create())
    {
        var user = _userRepository.Get(userId);
        user.IsPremiumUser = true;
        dbContextScope.SaveChanges();
    }
} 
```

在 a`DbContextScope`中，您可以通过`DbContext`两种方式访问​​范围管理的实例。您可以通过以下`DbContextScope.DbContexts`属性获取它们：

```
public void SomeServiceMethod(Guid userId)  
{
    using (var dbContextScope = _dbContextScopeFactory.Create())
    {
        var user = dbContextScope.DbContexts.Get<MyDbContext>.Set<User>.Find(userId);
        [...]
        dbContextScope.SaveChanges();
    }
} 
```

但这当然只在创建`DbContextScope`. 如果您需要`DbContext`在其他任何地方访问环境实例（例如，在存储库类中），您可以只依赖于`IAmbientDbContextLocator`，您可以像这样使用它：

```
public class UserRepository : IUserRepository  
{
    private readonly IAmbientDbContextLocator _contextLocator;

    public UserRepository(IAmbientDbContextLocator contextLocator)
    {
        if (contextLocator == null) throw new ArgumentNullException("contextLocator");
        _contextLocator = contextLocator;
    }

    public User Get(Guid userId)
    {
        return _contextLocator.Get<MyDbContext>.Set<User>().Find(userId);
    }
} 
```

# tfs - 如何下载 TFS 搁置集

> ID：13082465
> 
> 赞同：31
> 
> 时间：2012-10-26T07:15:40.237
> 
> 标签：tfs, shelve, unshelve

我需要从 TFS 下载一个搁置集到本地文件夹。Visual Studio 2010 是否有任何工具或插件可以下载搁置集

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-10-27T14:28:04.280

如果您只需要将**文件从搁置集中获取到本地文件夹**，这是一个正常的过程，称为[**Unshelve**](http://msdn.microsoft.com/en-us/library/ms181403.aspx#view)。它将文件*下载*到您的本地文件夹。

![在此处输入图像描述](../Images/66171cf5c47dd7483c9ec776da04eff8.png)

例如，在取消搁置之前，您的**本地文件夹**中有以下内容：

> *   文件 1
> *   文件 2

**搁板**有：

> *   文件 1 *（修改）*
> *   文件 3 *（已创建）*

**unshelf 后**会有：

> *   **文件 1 *（更新）***
> *   文件 2
> *   **文件 3 *（添加）***

如果您只需要工作区文件夹**中搁置**集中的文件而不需要其他任何内容，则其中一种方法是：

1.  创建新工作区，但**不下载任何东西**（即不获取最新版本）
2.  那应该创建一个空的本地文件夹
3.  使用 Visual Studio 或 tf.exe 取消搁置
4.  您应该**只有搁置集中的文件**

您可以在此处找到有关管理搁置集的更多信息： [暂停您的工作并管理您的搁置集 (MSDN)](http://msdn.microsoft.com/en-us/library/ms181403.aspx#view)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-03-29T05:58:24.087

使用命令提示符，我们可以获得文件的转储：

```
set shelveset=<ShelvesetName>
set temppath=c:\temp\%shelveset%
md %temppath%

for /f "delims=;" %t in ('tf status /shelveset:%shelveset% /format:detailed ^| find ^"$^"') do tf view %t /shelveset:%shelveset% /noprompt > %temppath%\%~nxt 
```

请注意，这提供了一个平面结构，如果有同名的文件，它将重写。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-01-22T07:16:45.497

1.  关闭 Visual Studio
2.  重命名文件夹，例如在文件夹名称中添加 postfix original 使“SolutionX”文件夹变为“SolutionX - Original”
3.  再次创建一个“SolutionX”文件夹，这将是空的
4.  打开 VS，取消搁置 shelvset1，“SolutionX”现在只有 shelvset1 文件
5.  关闭 VS（这可能不需要）
6.  将“SolutionX”重命名为“SolutionX Shelveset1”
7.  再次创建一个“SolutionX”文件夹，这将是空的
8.  打开 VS 并撤消挂起的更改
9.  取消搁置 shelvset2，“SolutionX”现在只有 shelvset1 文件
10.  关闭VS，将“SolutionX”文件夹重命名为“SolutionX Shelveset2”
11.  将“SolutionX - Original”文件夹重命名为“SolutionX”
12.  打开 VS 并撤消挂起的更改
13.  使用比较工具比较“SolutionX Shelveset1”和“SolutionX Shelveset2”

    如果您发现不需要某些步骤，请告诉我进行更新，我尝试了第一个答案，遇到了问题，不得不提出这个。

# apache - htaccess mod_rewrite 将不带斜杠的目录路径重定向到 PHP GET

> ID：13082468
> 
> 赞同：0
> 
> 时间：2012-10-26T07:15:53.450
> 
> 标签：apache, .htaccess, mod-rewrite, get, trailing-slash

我正在构建一个 ajax 驱动的网站，该网站使用 html5 pushState() 来保留其 url 结构并促进可靠的页面重新加载等。为此，我设置了我的 htaccess，以使任何以大写字母开头的目录路径并且没有尾部斜杠被重定向到一些

“domain.com/index.php?page=目录路径”

所以现在我的请求被翻译为：

domain.com/文件夹 => domain.com/index.php?page=文件夹

domain.com/Folder/ , domain.com/folder, domain.com/folder/ => （默认，不重写）

这是由我的 .htaccess 文件（位于域根目录）完成的，代码如下：

```
# Enable Rewriting
RewriteEngine on
RewriteBase /
RewriteCond %{REQUEST_URI} ^((/?[A-Z][A-Za-z0-9]*)+[^/])$
RewriteRule ^((/?[A-Z][A-Za-z0-9]*)+[^/])$ index.php?page=$1 
```

在我添加一个名为“Folder”的空白目录并在我的浏览器上访问“domain.com/Folder”之前，这一直很好。
以前，“domain.com/Folder”给了我预期的内容（“domain.com/index.php?page=Folder”）和“domain.com/Folder/”给了我一个 404 错误，正如预期的那样在文档根目录中没有名为“文件夹”的目录。

现在我的预期结果是：
浏览器在 url 栏中显示“domain.com/Folder”，服务器提供“domain.com/index.php?page=Folder”的内容（与“Folder”不存在的情况相同） )

但相反：
浏览器显示“domain.com/Folder?page=Folder”

有人可以指出我在这里做错了什么吗？而且，如果可能的话，我该如何纠正它？

*我在任何其他目录中都没有其他 htaccess 文件。
编辑：**当我强制永久重定向 [R=301] 时，该方案似乎工作正常，但不幸的是，这会更改浏览器地址栏中的 url。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-27T11:43:43.167

最后，我想通了！
头痛是由 apache 内置的**DirectorySlash**配置引起的，如果目录存在，它会默默地添加尾部斜杠。
所以我通过**关闭它来**修复它。但是当我仔细考虑它时，我觉得它实际上是一个有用的重定向，所以我硬编码我的 htaccess 来**为所有其他不以大写字母开头的目录添加斜杠**

所以这是我最终的 htaccess 文件：

```
RewriteEngine On
DirectorySlash Off
RewriteBase /
RewriteCond %{REQUEST_URI} ^((/?[A-Z][A-Za-z0-9]*)+[^/])$ 
RewriteRule ^((/?[A-Z][A-Za-z0-9]*)+[^/])$ index.php?page=$1 [L]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^([a-z0-9][A-Za-z0-9/]*[^/])$ $1/ [R,L] 
```

希望这可以帮助其他有类似问题的人

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:57:55.423

您缺少将忽略系统上不存在的文件或文件夹的指令。尝试在规则集的开头添加它：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d 
```

希望这可以帮助！

# php - 仅使用加号运算符

> ID：13082470
> 
> 赞同：-5
> 
> 时间：2012-10-26T07:16:00.127
> 
> 标签：php

如果变量 1,2 和 3 分别具有值 3,5 和 7，请选择正确的等式序列，这将导致将值 12 放入变量 1 中，将 15 放入变量 3 中（仅使用 ADD 运算符）

```
 $var1 = 3;
$var2 = 5;
$var3 = 7;

//anser 12 
echo $var1 = $var2 + $var3;

echo $var3 = $var3 + $var1;
//here i need to ge 15 for var 3 
//but var1 value now 12 so anser is 19 (wrong) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:31:11.203

```
$var1 = 3;
$var2 = 5;
$var3 = 7;

$var2 = $var3+$var2; # 12
$var3 = $var2+$var1; # 15
$var1 = $var2; # 12 
```

# mysql - mysql 一对多关系

> ID：13082471
> 
> 赞同：0
> 
> 时间：2012-10-26T07:16:13.213
> 
> 标签：mysql, distinct, one-to-many, group-concat

我有这样的表结构：

```
mysql> describe post_category_relations;
+-------------+---------+------+-----+---------+----------------+
| Field       | Type    | Null | Key | Default | Extra          |
+-------------+---------+------+-----+---------+----------------+
| relation_id | int(11) | NO   | PRI | NULL    | auto_increment |
| post_id     | int(11) | NO   |     | NULL    |                |
| category_id | int(11) | NO   |     | NULL    |                |
+-------------+---------+------+-----+---------+----------------+
3 rows in set (0.01 sec)

mysql> describe posts;
+---------+--------------+------+-----+---------+----------------+
| Field   | Type         | Null | Key | Default | Extra          |
+---------+--------------+------+-----+---------+----------------+
| post_id | int(11)      | NO   | PRI | NULL    | auto_increment |
| title   | varchar(255) | YES  |     | NULL    |                |
| content | text         | YES  |     | NULL    |                |
| date    | datetime     | YES  |     | NULL    |                |
| active  | tinyint(1)   | YES  |     | NULL    |                |
+---------+--------------+------+-----+---------+----------------+
5 rows in set (0.00 sec)

mysql> describe categories;
+----------+--------------+------+-----+---------+----------------+
| Field    | Type         | Null | Key | Default | Extra          |
+----------+--------------+------+-----+---------+----------------+
| cat_id   | int(11)      | NO   | PRI | NULL    | auto_increment |
| cat_name | varchar(255) | YES  |     | NULL    |                |
+----------+--------------+------+-----+---------+----------------+
2 rows in set (0.00 sec) 
```

* * *

我想要做的是选择类别 1 中的帖子。这是我的查询，但它不能拆分 id 为 2 的类别和 id 为 21 的类别。我该怎么做`where`？我想在单个查询中完成。到目前为止，这是我的查询：

```
SELECT posts . * , (
SELECT GROUP_CONCAT( DISTINCT categories.cat_name ) 
FROM categories
LEFT JOIN post_category_relations ON post_category_relations.category_id = categories.cat_id and categories.cat_id = 1
WHERE post_category_relations.post_id = `posts`.post_id
GROUP BY post_category_relations.post_id
) AS category, (
SELECT GROUP_CONCAT( DISTINCT categories.cat_id ) 
FROM categories
LEFT JOIN post_category_relations ON post_category_relations.category_id = categories.cat_id
WHERE post_category_relations.post_id = `posts`.post_id
GROUP BY post_category_relations.post_id
) AS cate_id
FROM (`posts` 
)
HAVING `cate_id` LIKE '%2%'
LIMIT 0 , 30 
```

编辑：我的一个朋友解决了它，我认为我的方法毕竟是错误的：

```
SELECT posts. * , categories. * 
FROM post_category_relations
INNER JOIN posts ON posts.post_id = post_category_relations.post_id
INNER JOIN categories
ON categories.cat_id = post_category_relations.category_id
WHERE post_category_relations.category_id =2
LIMIT 0 , 30 
```

# installation - NSIS：创建快捷方式在 Windows 8 中不起作用

> ID：13082473
> 
> 赞同：0
> 
> 时间：2012-10-26T07:16:14.013
> 
> 标签：installation, nsis

我正在使用 NSIS 创建我的应用程序。它在 windows xp、vista 和 windows 7 中运行良好。但在 windows 8 中我的应用程序在桌面上的快捷方式没有创建。但在其他操作系统中它正在正确地在桌面上创建快捷方式。为什么会这样不在 Windows 8 操作系统中创建快捷方式？有什么解决方案可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T16:39:03.590

你`RequestExecutionLevel`的剧本里有吗？如果没有，可能会有 Windows 兼容性垫片妨碍您...

# android - 在 android.sqlite 中更新查询

> ID：13082476
> 
> 赞同：0
> 
> 时间：2012-10-26T07:16:21.203
> 
> 标签：android, android-sqlite

我的应用程序在更新查询中崩溃并出现以下错误

```
10-26 12:35:59.219: E/AndroidRuntime(23078): Caused by: android.database.sqlite.SQLiteException: no such column: current_Playlist.xml: , while compiling: UPDATE FileRevisionHistory SET FileRevision=? WHERE FileName=current_Playlist.xml 
```

更新代码是

```
public void updateFileRevision(FileRevision  inFileRevision) {
    ContentValues values = new ContentValues();
    values.put(MySQLiteHelper.KEY_REVISION, inFileRevision.mRevision);
    long updatetId = database.update(MySQLiteHelper.TABLE_REVISION_HISTORY, values,MySQLiteHelper.KEY_NAME + "=" + inFileRevision.mFileName,null);
    Log.i("DbExampleLog", "The file's rev is: " + updatetId); 
```

我的查询有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:23:09.970

首先，我建议您使用**占位符**，因为您的方法不是很干净。

所以这样做：

```
long updatetId = database.update(<tableName>, values, <column> + " = ?", 
                                 new String[] {inFileRevision.mFileName}); 
```

**注意：**如果您想使用您的方法，您需要使用`'`称为单引号

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:24:43.153

由于您指定的文件名是一个字符串，它应该在单引号内。试试这个

```
long updatetId = database.update(MySQLiteHelper.TABLE_REVISION_HISTORY, values,MySQLiteHelper.KEY_NAME + "='" +inFileRevision.mFileName+ "'",null); 
```

# javascript - 如何从网页（.aspx）通过收据打印机打印收据？

> ID：13082482
> 
> 赞同：9
> 
> 时间：2012-10-26T07:16:36.740
> 
> 标签：javascript, asp.net, firefox, printing, thermal-printer

在网页上添加了 IFrame 并将源作为文本文件。它在普通打印机上工作正常。但是，无法通过收据打印机打印收据。它以空白纸的形式出现。

打印机名称：**PR-85 热敏打印机**。单击下面的链接查看打印机规格详细信息。

[http://www.essae.com/popup_html/pr-85.html](http://www.essae.com/popup_html/pr-85.html)

有人有解决方案吗？

![在此处输入图像描述](../Images/b395c512180e706e51e5d3fdaeef1d48.png)

# game-maker - 对齐瓷砖最有效的方法是什么？

> ID：13082488
> 
> 赞同：1
> 
> 时间：2012-10-26T07:16:53.493
> 
> 标签：game-maker

我有 17 个图块需要根据周围的块更改它们绘制的图像。

[http://i.stack.imgur.com/aFsIw.png](http://i.stack.imgur.com/aFsIw.png)

我可以这样做，但它非常麻烦且容易出错，我无法让它工作。

```
if left != mine and right = mine and top = mine and bottom != mine {tile_indexID[ww,hh] = 0;} // 
if left = mine and right != mine and top = mine and bottom != mine {tile_indexID[ww,hh] = 1;} //
if left != mine and right = mine and top = !mine and bottom = mine {tile_indexID[ww,hh] = 2;} // 
if left != mine and right = mine and top = mine and bottom != mine {tile_indexID[ww,hh] = 3;} // 
```

有没有更好的办法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-07T10:11:17.460

你需要这样的东西； [http://gmc.yoyogames.com/index.php?showtopic=416796](http://gmc.yoyogames.com/index.php?showtopic=416796)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-08T01:16:22.597

使用位掩码。`angry fish studios`来自网站的良好描述。

![在此处输入图像描述](../Images/c2c68dd6284bd884f47958fdad8c5d4f.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-12T02:44:02.003

我在对齐精灵时使用的东西

是对物体

```
if (place_meeting(x,y-16,obj_tile)) { 
    image_index = top;
} 
```

这是我使用的，但是 IF 语句和嵌套 IF 语句的代码在代码编号中变得很长，但是如果您在其中添加漂亮的注释，它*会*更容易调试。

# git - GIT：使所有分支的文件唯一

> ID：13082501
> 
> 赞同：1
> 
> 时间：2012-10-26T07:17:37.867
> 
> 标签：git, file, repository, branch, unique

我需要向 git 存储库添加一些全局描述（例如如何使用特定存储库和其他说明）。

有没有办法保证，例如，更改只能在主分支上跟踪并且对所有其他分支都是唯一的？

谢谢你，最好的问候，MS

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:30:47.600

并不真地。在单个存储库中，您*可以*使用预提交挂钩脚本来拒绝任何修改未在主分支上生成的文件的提交。但是，为了影响存储库的克隆，还需要在其中设置挂钩脚本。即使有那个钩子，也很容易绕过那个检查。

# google-app-engine - 解决失败！谷歌应用引擎

> ID：13082503
> 
> 赞同：1
> 
> 时间：2012-10-26T07:18:02.857
> 
> 标签：google-app-engine

我已经在 GAP 上部署了我的 java 应用程序。在 jsp 中，我连接到托管在 somee.com 上的外部数据库。我成功加载了 sqljdbc4.jar 但是当我连接到数据库时出现以下错误

```
java.lang.RuntimeException: Resolve failed: Request=LibraryProject.mssql.somee.com Exception=java.net.SocketException: Socket operation timed out: The API call remote_socket.Resolve() took too long to respond and was cancelled. 
```

我将驱动程序放在 lib 文件夹中并使用以下代码连接到数据库

```
Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
String conURL="jdbc:sqlserver://LibraryProject.mssql.somee.com";
Connection con=DriverManager.getConnection(conURL,"mrquack","complete1"); 
```

代码看起来很好，在 localhost 上运行良好，并在 appengine 上出现上述错误，请告诉我一个解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:36:11.810

[Google App Engine Sandbox](https://developers.google.com/appengine/docs/java/runtime?hl=en#The_Sandbox)不允许打开套接字或直接访问其他主机。sqljdbc4.jar 正在使用`java.net.Socket`，这是不允许的。

# javascript - 一个复杂的应用程序可以有多少“单页”？

> ID：13082510
> 
> 赞同：4
> 
> 时间：2012-10-26T07:18:30.830
> 
> 标签：javascript, dom, architecture, browser, single-page-application

我正在开发一个包含多个子模块的相当大的应用程序。每个子模块都可以具有许多面板和 UI 组件的复杂功能。我之前作为单页应用程序做过较小规模的项目，但这次担心如果用户继续跨多个模块工作，我的 DOM 将很长时间不会刷新。

当我分析 Facebook 的运作方式时，我发现它大部分时间都是作为单页应用程序运行的。但有时它会通过用户的操作刷新整个 DOM（显然它是随机的或基于用户活动计数）。

他们是否有任何关于如何创建像单页这样的大型应用程序而不影响 DOM 性能的模式或最佳实践？

（我不是在寻找编码技术来保持低内存占用......而是寻找整个应用程序的设计方法）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-26T08:34:47.657

刷新页面并不丢人。应用程序不必**是**严格的单页的。

如果您的页面上有控件，则它们的操作应保留在该页面中。但是，如果用户进入应用程序的完全不同部分，他没有理由不能简单地导航到该特定页面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:26:45.380

`innerHTML = ''`在更改发生之前销毁必须更改的 DOM 节点或面板设置应该没问题。我想 UI 元素具有`destroy`或类似的功能。

还可以考虑取消设置面板功能中涉及的所有 javascript 变量，这些变量应该被清除。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T02:59:17.097

拥有一个控制模块生命周期的**应用程序核心**总是好的。然后，您的每个模块都将具有定义明确的接口，例如 launch()、destroy() 等或任何有意义的接口。因此，当调用 destroy() 函数时，它将清空 html 以及存储应用程序数据的 Javascript 对象。Nicholas Zakas 对大型 Javascript 应用程序进行了出色的演示。希望能帮助到你。

[Nicholas Zakas 的可扩展 Javascript 应用程序架构](http://www.youtube.com/watch?v=vXjVFPosQHw)

# c# - 在图形应用程序中撤消/重做

> ID：13082514
> 
> 赞同：-1
> 
> 时间：2012-10-26T07:18:53.763
> 
> 标签：c#, winforms

我想在我的应用程序中提供撤消/重做功能。

例如，考虑这一系列调用：

```
gr.Drawrectangle(pen, p1, p2);
gr.FillEllipse(brush, p1, dx, dy); 
```

我想将调用存储在某种列表中并能够撤消它们。有什么好方法可以做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:32:09.540

我不完全了解您想要什么，但可以创建一个操作或功能列表。

```
List<Action<Graphics>> actions = new List<Action<Graphics>>();

actions.Add(gr => gr.Drawrectangle(pen, p1, p2));
actions.Add(gr => gr.FillEllipse(brush, p, x, y)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:36:19.923

您可以使用反射来获取方法列表：http: [//msdn.microsoft.com/en-us/library/4d848zkb.aspx](http://msdn.microsoft.com/en-us/library/4d848zkb.aspx)

但是我认为对于“撤消”按钮，您应该使用某种缓存来保留以前的位图。可以说最后 10 个动作（位图）可以放在内存中，而下一个动作可以放在临时文件中。

# android - PowerManager.userActivity() 不打开显示器

> ID：13082519
> 
> 赞同：0
> 
> 时间：2012-10-26T07:19:25.800
> 
> 标签：android, powermanager

我有一个倒数计时器活动，并希望在计时器完成后打开显示器。我试过了

```
PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);
pm.userActivity(SystemClock.uptimeMillis(), false); 
```

但没有任何反应，没有报告错误，显示仍然关闭或变暗。我做错了什么？

# c++ - 使用 boost::container 或 boost::recursive_wrapper 创建不完整类型的容器

> ID：13082520
> 
> 赞同：2
> 
> 时间：2012-10-26T07:19:29.143
> 
> 标签：c++, boost, incomplete-type

我需要创建一个具有 a`vector<self>`作为成员变量的结构。Boost 提供了 2 种机制来实现这一点：

1 - 使用`boost::recursive_wrapper`即：

```
struct filter
{
    uint32_t id;
    std::vector< boost::recursive_wrapper< filter > > childFilters; 
}; 
```

2 - 使用`boost::container`即：

```
struct filter
{
    uint32_t id;
    boost::container::vector< filter > childFilters; 
}; 
```

每种技术有什么优势吗？第二个`boost::container`选项涉及较少的语法，我猜它使用类似于`boost::recursive_wrapper`内部的技术。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T11:08:08.693

更好的选择是使用`boost::container::vector`，因为它允许直接访问存储在向量中的类型。

它提供的额外间接层`boost::recursive_wrapper`允许 a 的声明`std::vector<self>`使操作向量的代码更加麻烦，因为有必要`get`访问所持有的实际类型。

IE

```
struct filter
{
    uint32_t id;
    std::vector< boost::recursive_wrapper< filter > > childFilters; 
};

filter myFilter;

// fill myFilter .....

BOOST_FOREACH( boost::recursive_wrapper< filter > f, myFilter.childFilters )
{
    std::cout << f.get().id << "\n";
} 
```

有了`boost::container::vector`例子就变成了：

```
struct filter
{
    uint32_t id;
    boost::container::vector< filter > childFilters; 
};

filter myFilter;

// fill myFilter .....

BOOST_FOREACH( boost::recursive_wrapper< filter > f, myFilter.childFilters )
{
    std::cout << f.id << "\n";    // no call to get()
} 
```

# mysql - 编写将 datetime null:false 变为 true 的数据库迁移

> ID：13082522
> 
> 赞同：0
> 
> 时间：2012-10-26T07:19:31.907
> 
> 标签：mysql, ruby-on-rails, ruby-on-rails-3, activerecord

我正在尝试编写一个数据库迁移，将我的连接表中的日期时间字段从 null 更改为 true，但有些东西不能正常工作。这是我的代码：

```
class ChangeDateColumnsInCirclesUsers < ActiveRecord::Migration
  def change
    change_column :circles_users, :created_at, :datetime, :null => true
    change_column :circles_users, :updated_at, :datetime, :null => true
  end
end 
```

这是行不通的。关于如何将这些空值设置为 true 而不是 false 的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T10:41:04.510

尝试这个

```
change_column :table_name, :created_at, :datetime, :null => true, :default => nil 
```

并运行迁移

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T10:16:03.237

你想用这个来完成什么？

日期时间列不能将其默认值设置为 true。

阅读规范：[迁移](http://api.rubyonrails.org/classes/ActiveRecord/Migration.html)

* * *

Rails 不支持迁移脚本中的动态默认值。因此，如果您想要当前时间，您可以轻松地在模型级别添加它们。

`after_initialize`1) 使用回调设置默认值

```
class Test
  def after_initialize
    self.day ||= Date.today if new_record?
  end
end

t = Test.new
t.day # will return today's date
t.save
t.day # will return today's date 
```

* * *

**编辑：**

在评论中，我们发现您不必担心填充，`updated_at`而`created_at`ActiveRecord 已经为您完成了。

因此，您不必删除或更改这些列。

“Active Record 自动填充的时间戳列 created_at 和 updated_at 也将被添加。” 从[迁移](http://guides.rubyonrails.org/migrations.html)

希望能帮助到你！

# javascript - 如何将表记录标识符传递给客户端

> ID：13082526
> 
> 赞同：2
> 
> 时间：2012-10-26T07:19:40.920
> 
> 标签：javascript, html, database, security, privacy

在 CRUD 环境中，假设我们正在显示用户联系人列表。网站需要为用户提供“编辑”和“删除”功能。每个联系人代表数据库表中的一条记录，记录的标识符必须传递给浏览器（客户端）。

在我的应用程序中，我通常在表中有一个自动增量标识符字段，并将其值传递给浏览器。因此，当用户想要编辑或删除时，我会连同该标识符一起向服务器发送请求。这样我就可以在表中找到记录。

但我担心安全和隐私。通常我不允许任何其他用户访问其他人的记录（Duh），尽管仍然不喜欢只将整数传递给浏览器。

AFAIK，大公司正在提供一个长的唯一标识符，如 40F0C923BACECBF40C4CAA465D0E4DB0 来执行此操作，但这次我需要在每次创建新记录之前检查是否使用了该值。

我不知道在哪里向数据库部分或这里问这个问题，只是在这里问。你们是如何做到这一点的？或者换句话说，它是如何专业地完成的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-27T01:19:16.683

听起来像是 OWASP 前 10 名违规。特别[是不安全的直接对象引用](https://www.owasp.org/index.php/Top_10_2010-A4-Insecure_Direct_Object_References)。每个数据库记录都需要有一个所有权 ID。这样您就可以将用户的 id 存储在会话状态中，并确保用户正在访问属于他们的记录。

# jquery - Jquery 在检索到的数据上使用 css 选择器

> ID：13082528
> 
> 赞同：2
> 
> 时间：2012-10-26T07:19:59.510
> 
> 标签：jquery

当我使用

```
$.ajax("...", { success: function(data) { /* Do something with data */ }}); 
```

是否可以使用 css 选择器处理数据`$("body")`？仅获取数据主体 html 标记的内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:22:03.447

如果您想要在 div 中加载接收到的数据的片段，您可以使用这个：

```
$('#result').load('test.html body'); 
```

请参阅加载函数的参考：http: [//api.jquery.com/load/](http://api.jquery.com/load/)

如果您的目标更笼统，并且您需要身体，您可以这样做：

```
$.ajax("...", { success: function(data) {
    var $body = $(data); // yes, other elements are filtered out
    var bodyHtml = $body.html();
    ...
}}); 
```

如果你想得到身体以外的其他部分，你可以使用选择器：

```
$.ajax("...", { success: function(data) {
    var $element = $(data).find('#myId'); // here finds the element with id myId
    ...
}}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:25:31.277

如果我理解您试图从响应数据中获取正文的问题。

```
$(data).find("body"); 
```

显示数据内容的示例 - 正文

```
$.ajax("...", { 
    success: function(data) { 
        /* Do something with data */ 
        alert( $(data).find("body").html()); 
    } 
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:26:11.603

您可以在 ajax 方法中使用此代码：

```
success:function(data){
    $("#result").text(data.d);
} 
```

# asp.net - 从 html 编辑器中删除格式

> ID：13082533
> 
> 赞同：0
> 
> 时间：2012-10-26T07:20:22.640
> 
> 标签：asp.net, html

我有一个 html 编辑器，我希望当有人将粘贴内容复制到编辑器时，它会删除所有格式、额外的 html、css，它们会自动应用粘贴的内容。它在我的 asp.net 网站中使用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:53:38.970

尝试**正则表达式。替换**

```
//// To remove all HTML tags    
string pattern = @"<.*?>";

//// If you want to keep some tags(Eg:<p>,<b>) you can use a pattern like
string pattern = @"<([/]{0,1}(!--|p|b))(.|\n)*?>";

Regex.Replace(inputHtml, pattern, string.Empty, RegexOptions.IgnoreCase); 
```

# linq - MongoDb c# driver LINQ vs Native 查询

> ID：13082537
> 
> 赞同：16
> 
> 时间：2012-10-26T07:21:01.100
> 
> 标签：linq, c#-4.0, mongodb

这些查询中哪一个在性能方面更好，一个使用 linq，另一个使用本机查询机制

```
LINQ

var query =
collection.AsQueryable<Employee>()
.Where(e => e.FirstName == "John")
.Select(e => e); 

NATIVE

var query= Query<Employee>.EQ(e => e.FirstName, "John");
var emp = collection.FindOne(query); 
```

我假设 mongoDb 中的本机查询机制会更好，因为据我了解，它会过滤掉数据库中的结果，因为 linq 首先获取集合中的所有项目，然后过滤结果。我什么时候应该考虑在本机查询机制上使用 LINQ？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-26T07:45:11.527

> 因为，据我了解，它会过滤掉数据库中的结果，因为 linq 首先获取集合中的所有项目，然后过滤结果

不，不，不。它在数据库级别过滤所有内容。

第二个不是构建 mongodb 查询的原生方式。它仍然是相同的包装器，只是构建真正的**本机**mongod 查询（例如`{"a": 1, "b": 2 }`）。

第一个查询使用表达式树来构建 mongo 查询。第二个使用反射来构建相同的查询。据我所知，表达式树应该更快（[这是](http://cockneycoder.wordpress.com/2011/11/19/performance-or-readability-with-expression-trees-in-c/)我找到的第一篇文章）。无论如何，我认为性能差异并不重要。因此，只需使用您更喜欢的东西。

至于我，我对大多数查询使用 linq，一些开发人员甚至可能对 mongo 不太了解，但这里的黑边是你实际上可能没有意识到它可以为你构建什么查询。（例如与 linq to sql 的情况相同）。但是您仍然可以记录所有本机查询、查看它们并找到优化、更改的地方。对于复杂的查询，我通常使用第二种方法。

# java - 如何知道 FTP 欢迎信息的结束

> ID：13082538
> 
> 赞同：8
> 
> 时间：2012-10-26T07:21:00.970
> 
> 标签：java, sockets, ftp, inputstream

我的问题是我正在创建一个 FTP 客户端，到目前为止，除了一个小细节之外，它的工作完美无缺，这一直困扰着我。我需要知道 FTP 欢迎消息跨越了多少行......这是不能接受的！

```
 private Socket connection;
    private PrintWriter outStream;
    private Scanner inStream;

public void InitiateConnection() throws IOException 
{
    log.Info(this, "Initiating connection to host: " + host + ":" + port);
    connection = new Socket(host, port);
    log.Info(this, "Connection initiated.");
    outStream = new PrintWriter(connection.getOutputStream(), true);
    inStream = new Scanner(connection.getInputStream());
    Listen();
    Listen();    
    Listen();
}

public String Listen() throws IOException
{
    if(connection == null)
        throw new IOException("Connection not initiated yet");
    String response = inStream.nextLine();
    log.Info(this, "Response: " + response);
    return response;
} 
```

这是简单的设置，我省略了所有其他代码，因为它与我的问题没有任何关系。

我尝试了多种方法来实现这一目标。失败的解决方案1：

```
String response = "";
while(response != null)
    Listen(); 
```

失败的解决方案2：

```
while(connection.getInputStream().available > 0)
    Listen(); 
```

还有无数其他的......但要么它不起作用，要么方法阻塞并等待新的输入。我什至尝试过超时，但这也不能完美地工作，它不是解决这个问题的正确方法......

I need to be able to get the entire welcome message from the FTP server, without knowing the amount of lines... So I can both get this:

```
Response:   220-FileZilla Server version 0.9.39 beta
Response:   220-written by Tim Kosse (Tim.Kosse@gmx.de)
Response:   220 Please visit http://sourceforge.net/projects/filezilla/ 
```

And this:

```
Response:   220-FileZilla Server version 0.9.40 beta
Response:   220 Welcome to Andrés FTP Server 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-26T08:05:58.603

If you have a close look at the messages, you see that all but the last lines have a `-` behind the status code. The last line has a `, however, indicating, well, the last line.`

 `You can read that in [RFC 959](http://www.faqs.org/rfcs/rfc959.html), section 4.2:

> Thus the format for multi-line replies is that the first line will begin with the exact required reply code, followed immediately by a Hyphen, "-" (also known as Minus), followed by text. The last line will begin with the same code, followed immediately by Space , optionally some text, and the Telnet end-of-line code.

There is nothing said about the 2nd to second-last line, but it is logical that they have the same format as the 1st one.

* * *

Update: The FTP protocol seems to be badly documented, but I found another reference stating the same as me above:

The [TCP/IP Guide](http://www.tcpipguide.com/free/t_FTPRepliesReplyCodeFormatandImportantReplyCodes-5.htm) mentions that

> It is possible for a reply to contain more than one line of text. In this case, each line starts with the reply code, and all lines but the last have a hyphen between the reply code and the reply text, to indicate that the reply continues. The last line has a space between the reply code and reply text, just like a single-line reply. This facility is often used to provide additional response information after a user logs in, via the 230 reply code.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:37:52.387

Have you tried like this?

```
 StringBuilder response = new StringBuilder();
    BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));
    do {            
        response.append(br.readLine());                                     
    }
    while (br.ready()); 
```

Whereas the [BufferedReader](http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html)'s [ready()](http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#ready%28%29) method:

> Tells whether this stream is ready to be read. A buffered character stream is ready if the buffer is not empty, or if the underlying character stream is ready.
> Returns:
> True if the next read() is guaranteed not to block for input, false otherwise. Note that returning false does not guarantee that the next read will block.

It is actually a [Reader](http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html)'s [method](http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html#ready%28%29).

UPDATE:

As glglgl pointed out there are two types of responses in FTP:

*   "single line" response (my term)
*   multiline response (spec term)

As I said in comment, fire up FIlleZilla, connect and observe the log (preferably comparing the commands in output with spec defintion) and you will see why the "single line" is quoted.

On some FTP server implementations the above code may work, but it will surley not work on all implementations, since it does not implement the client part of the protocol correctly. This is the updated version:

```
String response;
List<String> responseList = new ArrayList<String>();  
boolean isMultilineStart = false, isMultilineEnd = false;
String mlCode = null;
do {            
   responseList.add(br.readLine());                           
   if (!isMultilineStart) {
        isMultilineStart = responseList.get(responseList.size()-1).matches("\\d\\d\\d-.*");                
        mlCode = responseList.get(responseList.size()-1).substring(0,3);
   }
   else {
       isMultilineEnd = responseList.get(responseList.size()-1).startsWith(mlCode+" ");
   }
}
while (br.ready() || (isMultilineStart && !isMultilineEnd));   
response = Arrays.deepToString(responseList.toArray()); 
````

# sql-server - 从存储过程到 REST 服务

> ID：13082539
> 
> 赞同：3
> 
> 时间：2012-10-26T07:21:06.037
> 
> 标签：sql-server, vb.net, visual-studio, rest, stored-procedures

我在 Visual Studio 2005 和 SQL Server 2005 中有一个 6 年前的 VB.NET 项目。这个项目使用存储过程获取数据，我打算做一个移动项目，但无法从数据库中获取数据，因为我没有没有网络服务或 REST 服务。我应该如何开始将存储过程转换为可以在外部调用的服务？有没有直接做的工具？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T15:21:25.787

我不知道自动执行此操作的工具，但这是一个示例堆栈

移动应用程序 --> Asp.Net Web API --> EF / 代码优先 --> SP --> DB

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-23T00:21:32.820

您可以创建 WCF Web 服务并为所有存储过程定义包装器方法。要检索数据集，您需要创建数据协定类，每个类都有一个构造函数和一组表示您要返回的字段的属性（数据成员）。然后您发出 Command.ExecuteReader，其中命令文本是您的存储过程名称。要执行多个复杂操作，包括插入、更新和删除以及它们的组合，您只需使用 Command.ExecuteNonQuery 执行存储过程，其中命令文本再次是适当的存储过程名称。然后，您的 WCF Web 服务基本上可以成为任何客户端的数据管道：移动、Web 或 WinForms。这实际上非常简单，您可以重用存储过程中的所有逻辑。

如果您的存储过程只是简单的 CRUD 语句，那么我建议使用基于 REST 的 WCF Web 服务。

# jquery - 如何将日期选择器绑定到新的动态字段？

> ID：13082545
> 
> 赞同：1
> 
> 时间：2012-10-26T07:21:34.453
> 
> 标签：jquery, jquery-ui

我花了一天多的时间寻找有关此的解决方案。我运行了 Jquery 1.8.1 和 Jquery UI 1.9.1。

用户在输入字段中输入一个数字并动态创建动态输入字段。这些输入字段需要附加 Jquery UI 日期选择器。这就是问题所在。

我写了这段代码，但它不起作用

```
function dateinput(){
    console.log('clicked');
    var dateinput = $('.hasDatepicker');
        dateinput.datepicker("option", "dateFormat", 'mm/dd/yy');
        dateinput.datepicker({
            showAnim : 'fold'
        });
    } 
```

控制台“点击”正常，所以我确信 DOM 正在获取在这个 dateinput() 函数中运行的所有内容。我也碰到了这个[stackoverflow 问题](https://stackoverflow.com/questions/1585918/jquery-live-works-but-not-with-datepicker)，这是同样的问题，但它有点过时了。我尝试了该主题的所有内容，但没有看到任何结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:25:43.087

这就是你所追求的吗？

[JsFiddle在这里](http://jsfiddle.net/geLHh/1/)

**HTML**

```
<input id="numberToCreate" maxlength="1" />
<input id="addInput" type="button" value="Add Input" />
<div id="inputs"></div> 
```

**jQuery**

```
$(function(){
    $('#addInput').click(function() {
        var numberToCreate = $('#numberToCreate').val();
        for (var i = 1; i <= numberToCreate; i++)
        {
            $('<input />').datepicker().appendTo('#inputs');
        }
        return false;
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-20T10:06:17.747

```
function getPhase()
{

$(document).click(function(){
    $(".date").datepicker({
                    dateFormat: "dd/mm/yy",
                    showOn: "button",
                    buttonImage: "images/calendar.gif",
                    buttonImageOnly: true,
                    //minDate: '-16d -1m', 
                    //maxDate: '-6d -1m',
                    onSelect: function(dateText, inst) {
                        $(this).focus();
                    }
        });
});
    /*i++;

    if(i>30)
    {
        alert("Maximum Allows 30 Entries! Please Press Save Button");
        return false;
    }*/
    var in_tbl_name="dataTable";

    var tbody = document.getElementById(in_tbl_name).getElementsByTagName("TBODY")[0];
    // create row
    var row = document.createElement("tr");

    // create table cell 1
    var td1 = document.createElement("td")
    var strHtml1="<input name='chk"+count+"'  id='chk"+count+"'  type='checkbox' value='"+count+"' class='csc_input' >";
    td1.innerHTML = strHtml1.replace(/!count!/g,count);

    // create table cell 2
    var td2 = document.createElement("td")
    var strHtml2="<input name='sno"+count+"' id='sno"+count+"' style='width:20px;'  type='text' value='"+count+"' class='csc_input' >";
    td2.innerHTML = strHtml2.replace(/!count!/g,count);

    // create table cell 3
    var td3 = document.createElement("td")
    var strHtml3="<strong>Phase Demand</strong>";
    td3.innerHTML = strHtml3.replace(/!count!/g,count);

    // create table cell 4
    var td4= document.createElement("td")
    var strHtml4 = "<input type='text'  size='13'  name='kva"+count+"'  id='kva"+count+"'  class='csc_input'  ><B>KVA";
    td4.innerHTML = strHtml4.replace(/!count!/g,count);

    // create table cell 5
    var td5 = document.createElement("td")
    var strHtml5 = "<strong>From Date </strong>";
    td5.innerHTML = strHtml5.replace(/!count!/g,count);

    // create table cell 6
    var td6 = document.createElement("td")
    var strHtml6 = "<input type='text'  name='fyear"+count+"'  id='fyear"+count+"'  size='13' class='date'>";
     td6.innerHTML = strHtml6.replace(/!count!/g,count);

    // create table cell 7
    var td7 = document.createElement("td")
    var strHtml7 = "<strong>End Date</strong>";
    td7.innerHTML = strHtml7.replace(/!count!/g,count);

    // create table cell 8
    var td8 = document.createElement("td")
    var strHtml8= "<input type='text'  name='year"+count+"'  id='year"+count+"'  size='13' class='date' >";
    td8.innerHTML = strHtml8.replace(/!count!/g,count);

    // append data to row
    row.appendChild(td1);
    row.appendChild(td2);
    row.appendChild(td3);
    row.appendChild(td4);
    row.appendChild(td5);
    row.appendChild(td6);
    row.appendChild(td7);
    row.appendChild(td8);

    // add to count variable
    // append row to table
     count = parseInt(count) + 1;
    document.f1.count.value=parseInt(document.f1.count.value)+1;
    //alert("count"+count);
    // append row to table
    tbody.appendChild(row);
    getSno();
    } 
```

# iphone - 跟踪数据不会传播到 www.google.com/analytics

> ID：13082546
> 
> 赞同：1
> 
> 时间：2012-10-26T07:21:36.183
> 
> 标签：iphone, ios, google-analytics

我正在开发一个 iPad 应用程序，该应用程序用于使用 Flicker API 搜索照片，带有 XCode 4.5 和 iOS 6.0

我只需遵循 Google-Analytics-SDK 1.5.1 for iOS 提供的指南，添加**GANTracker.h**和**libGoogleAnalytics.a**并在 iPad Simulator 6.0 上运行我的应用程序。

我在**AppDelegate.m中编写了以下代码**

```
#import "AppDelegate.h"

static NSString *const kAnalyticsAccountId = @"UA-35865309-1";
static const NSInteger kDispatchPeriodSeconds = 10;

@implementation AppDelegate

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:   (NSDictionary *)launchOptions
{
[[GANTracker sharedTracker] startTrackerWithAccountID:kAnalyticsAccountId
                                       dispatchPeriod:kDispatchPeriodSeconds
                                             delegate:self];
[[GANTracker sharedTracker] setDebug:YES];
[[GANTracker sharedTracker] setDryRun:NO];
[[GANTracker sharedTracker] setSampleRate:100];
[[GANTracker sharedTracker] setAnonymizeIp:YES];

NSError *error = nil;
if (![[GANTracker sharedTracker] setCustomVariableAtIndex:1
                                                     name:@"iOS Application"
                                                    value:@"Demo Flicker"
                                                withError:&error]) {
    NSLog(@"Set Custom Variable At Index failed :: %@",error);
}
else {}

if (![[GANTracker sharedTracker] trackEvent:@"APP Launching"
                                     action:@"No Action"
                                      label:@"didFinishLaunchingWithOptions"
                                      value:-1
                                  withError:&error]) {
    NSLog(@"Track event failed :: %@",error);
}

if (![[GANTracker sharedTracker] trackPageview:@"/app_entry_point"
                                     withError:&error]) {
    NSLog(@"Track page view failed :: %@",error);
}
return YES;
}

#pragma mark -
#pragma mark - GANTrackerDelegate Methods

-(void) hitDispatched:(NSString *)hitString {
NSLog(@"Hit Dispatched: %@", hitString);
}

-(void) trackerDispatchDidComplete:(GANTracker *)tracker eventsDispatched:(NSUInteger)hitsDispatched eventsFailedDispatch:(NSUInteger)hitsFailedDispatch {
NSLog(@"Dispatch completed (%u OK, %u failed)",hitsDispatched, hitsFailedDispatch);
} 
```

在 iPad Simulator 6.0 上运行应用程序后，控制台会打印以下内容：

```
2012-10-26 00:21:26.835 DemoFlicker[737:11303] dispatch called
2012-10-26 00:21:26.836 DemoFlicker[737:11303] dispatching 1 hits
2012-10-26 00:21:26.836 DemoFlicker[737:11303] GET /__utm.gif?    utmwv=4.9.1mi&utmn=1254389404&utmt=event&utme=5(Photo%20Search*Searching*textFieldShouldReturn)&utmcs=UTF-8&utmsr=768x1024&utmsc=24-bit&utmul=en-us&utmac=UA-35865309-1&utmp=%2FHome%20Page&utmcc=__utma%3D1.1252676167.1351163416.1351235761.1351236010.8%3B&aip=1&utmht=1351236076832&utmqt=10004 HTTP/1.1
Host: www.google-analytics.com
User-Agent: GoogleAnalytics/1.5.1 (iPad Simulator; U; CPU iPhone OS 6.0 like Mac OS X; en-us)

2012-10-26 00:21:27.004 DemoFlicker[737:11303] Hit Dispatched: /__utm.gif?utmwv=4.9.1mi&utmn=1254389404&utmt=event&utme=5(Photo%20Search*Searching*textFieldShouldReturn)&utmcs=UTF-8&utmsr=768x1024&utmsc=24-bit&utmul=en-us&utmac=UA-35865309-1&utmp=%2FHome%20Page&utmcc=__utma%3D1.1252676167.1351163416.1351235761.1351236010.8%3B&aip=1&utmht=1351236076832&utmqt=10004
2012-10-26 00:21:27.005 DemoFlicker[737:11303] Dispatch completed (1 OK, 0 failed)
2012-10-26 00:21:36.835 DemoFlicker[737:11303] dispatch called
2012-10-26 00:21:36.836 DemoFlicker[737:11303] ...nothing to dispatch
2012-10-26 00:21:48.757 DemoFlicker[737:12303] Found 10 photos matching Flower 
```

现在，问题在于主机 www.google.com/analytics 上跟踪数据的传播。实际上我在 www.google.com/analytics 上看不到跟踪数据。

我在哪里做错了？

# javascript - jQuery 无法识别函数

> ID：13082547
> 
> 赞同：0
> 
> 时间：2012-10-26T07:21:37.450
> 
> 标签：javascript, jquery, html

我有一个具有某些功能的 .js 文件：

```
$(function(){
    function slideDown(class) {

        var className = class;

        $('.slide_' + className).slideDown('slow', function() {

        });
    }
}); 
```

（是的，我在标题中添加了 .js 文件，它显示在萤火虫控制台中。）

我得到了一个调用该函数的链接：

```
<a href="#" onclick="slideDown('.$x.');" class="info">i</a> 
```

但是当我按下按钮时，我的萤火虫给出了以下错误：

> ReferenceError：未定义 slideDown

那我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:23:45.213

您`slideDown`在另一个函数中声明，因此它仅在该函数内部可用，在函数外部声明它，使其具有全局范围。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:24:58.710

变量 有错误`class`。请使用另一个变量名

> 错误：`class`是保留标识符

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:34:45.360

$x 未定义，我猜这段代码是为 php

```
<a href="#" onclick="slideDown('<?=$x?>');" class="info">i</a> 
```

# jmeter - 用于具有动态令牌的页面的 Jmeter

> ID：13082550
> 
> 赞同：1
> 
> 时间：2012-10-26T07:21:44.990
> 
> 标签：jmeter, antiforgerytoken

我正在使用 JMeter 记录一组页面。一些页面具有动态生成的令牌存储在隐藏字段中。

我使用 xpath 提取器检索此令牌，查询是 `//input[@name='__RequestVerificationToken']/@value`，将其存储在变量中并将此变量用于下一个请求。

我不知道为什么这个请求会失败。我已经在查看结果树中检查了请求值。在原始选项卡中，该值与隐藏字段的值完全相同，而在 http 选项卡上，最后缺少“==”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:52:10.033

看起来像 JMeter 中的一个错误。我在这里报告了 - [https://issues.apache.org/bugzilla/show_bug.cgi?id=54055](https://issues.apache.org/bugzilla/show_bug.cgi?id=54055)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T21:17:49.107

正如 Andrey Bolatov 所提到的，Request HTTP 选项卡中存在一个可视化问题，现已修复（您可以使用[nightly build](http://jmeter.apache.org/nightly.html)进行测试）。

这不能解释你的问题。

要进行调试，请添加一个[Debug Sampler](http://jmeter.apache.org/usermanual/component_reference.html#Debug_Sampler)以查看已提取的内容。

您的问题可能来自您没有对参数进行编码的事实，请阅读：

[随请求发送参数](http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request)

# internet-explorer-9 - less.js 是否支持 IE9？

> ID：13082551
> 
> 赞同：2
> 
> 时间：2012-10-26T07:21:45.863
> 
> 标签：internet-explorer-9, less

我将使用 less.js，但我怀疑 Internet Explorer 9+。在 LESS 网站，他们写道：

> LESS 在客户端（Chrome、Safari、Firefox）和服务器端都运行...

[http://lesscss.org](http://lesscss.org)

但是列表中没有 IE。我只是想知道有人使用less.js并且IE 9+没有问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T08:42:56.537

不能谈论客户端，但我可以建议在服务器端使用它。

有像[SimpleLess](http://wearekiss.com/simpless)这样的工具可以在设计时生成 css 文件，因此您可以将完成的 css 文件放在服务器上。这样您就不必担心浏览器支持和 JavaScript，并且您的服务器也没有更多工作要做。作为奖励，您可以自动获得缩小的 css 文件，并且可以将多个 css 文件组合成一个文件。

对于我的网站，我不能再考虑编写 css 文件`less`了。

# objective-c - 在 ARC ObjectiveC++ 中使用 C++11 lambda 函数 - 如何正确执行？

> ID：13082555
> 
> 赞同：9
> 
> 时间：2012-10-26T07:22:16.147
> 
> 标签：objective-c, lambda, c++11, automatic-ref-counting, objective-c-blocks

我有一个 ObjectiveC++ 项目。在 ObjectiveC 上下文中，我使用 ARC 和 iPhoneSDK 6。在 C++ 中，我使用 C++11 编译器。

C++11 中的 Lambda 函数使用引用捕获变量。ObjectiveC 并不真正支持这个概念，通过“尝试和错误”我想出了以下解决方案。有没有我不知道的陷阱？

这个问题有更好的解决方案吗？

```
typedef std::function<void ()> MyLambdaType;

...
// m_myView will not go away. ARC managed.
UIView * __strong m_myView;

...
// In Objective C context I create a lambda function that calls my Objective C object
UIView &myViewReference = *m_myView;
MyLambdaType myLambda = [&myViewReference]() {
    UIView *myViewBlockScope = &myViewReference;
    // Do something with `myViewBlockScope`
}

..
// In C++11 context I call this lambda function
myLambda(); 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-29T20:19:26.867

最简单的做法是让 lambda 捕获对象指针变量`m_myView`（我从您的代码片段中假设这是一个局部变量），并在 lambda 中正常使用它：

```
MyLambdaType myLambda = [m_myView]() {
    // Do something with `m_myView`
} 
```

唯一需要考虑的是`m_myView`. 一般来说，lambda 需要在`m_myView`创建时保留，并在销毁时释放它（就像块一样；因为 lambda 可以在`m_myView`不存在的范围内使用）。

通读 ARC 文档，我没有看到具体提到这种情况，但我相信它应该正确处理它，因为 (1) 捕获的 C++11 lambda 变量存储为匿名类的字段，它们是在构造 lambda 时初始化为捕获的值，并且 (2) ARC 在构造和销毁时正确处理 C++ 类的 Objective-C 对象字段的保留和释放。除非它特别说明了有关 lambdas 的内容，或者存在编译器错误，否则我看不出它不应该工作的原因。

# c - 替代 gethostbyname 我可以在哪里选择 DNS 服务器？

> ID：13082557
> 
> 赞同：3
> 
> 时间：2012-10-26T07:22:22.107
> 
> 标签：c, linux, networking, dns, uclibc

我需要从我的应用程序中解析一些主机名。是否有任何替代 gethostbyname 的方法，我可以将我自己的 DNS 服务器作为参数作为解析器使用？

我已经编写了自己的函数，但我想可能有一个我不知道。

我正在使用 Linux/C 语言。我的 libc 是 uclibc。但我也对 GNU LibC 很好奇。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-26T07:39:05.960

您需要进行自己的查询，但这并不困难。

为此，您需要使用[`res_query()`](http://linux.die.net/man/3/res_query)函数族，它允许您通过环境变量指定解析器：

> res_init() 函数读取配置文件（请参阅 resolv.conf(5)）以获取默认域名、搜索顺序和名称服务器地址。如果没有给定服务器，则尝试本地主机。如果没有给出域，则使用与本地主机关联的域。它可以被环境变量 LOCALDOMAIN 覆盖

IBM 的[文档](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/index.jsp?topic=/apis/resini.htm)更深入地介绍了*如何*设置变量：

> 配置的搜索列表（struct state.defdname 和 struct state.dnsrch）可以通过将环境变量 LOCALDOMAIN 设置为最多 6 个搜索域的空格分隔列表，总共 256 个字符（包括空格）来覆盖。如果指定了搜索列表，则不会在查询中使用默认本地域。

备注 -

*   您应该在打电话`setenv()`之前先打电话`res_init()`，否则设置将不会被接听。如果适用，请记住在完成后取消设置

*   如果您对搜索域使用主机名，则`/etc/hosts`仍然优先。

*   `res_init()`2007年[在 uclibc 中正确可重入](http://git.uclibc.org/uClibc/commit/?id=08b4b5e281451daf3b5e3c896b19e1187886f7e3)，所以我很确定你可以将它用于任何目的。

这些函数还有一个额外的好处，就是能够检索更详细的数据（MX 等）。不过，如果你有一些更小的东西也能很好地工作，那么不使用它是没有意义的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:37:35.740

您可以更改默认 DNS 并使用您自己的 DNS 服务器，然后在应用程序中完成 DNS 服务后将其设置回原始 DNS。

1.  首先查询 DNS 并保存旧的 DNS。

2.  设置新的 DNS

3.  做你的 DNS 服务

4.  将原件放回原位

基本上上述所有步骤都是通过编辑完成的，`/etc/resolv.conf`这可以通过Linux 中的[http://linux.die.net/man/3/resolver命令完成。](http://linux.die.net/man/3/resolver)

# javascript - 获取类名 jquery

> ID：13082559
> 
> 赞同：-1
> 
> 时间：2012-10-26T07:22:25.880
> 
> 标签：javascript, jquery

我有以下html

```
<div class="static dynamic1 dynamic2 prop">Hello SO</div> 
```

我需要获取`dynamic1`和`dynamic2`（获取以 开头的类名`dynamic`）

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:23:34.293

尝试这个：

```
var cls = $('div')[0].className.split(' ');
var dynamics = $.grep(cls, function(v) {
    return v.indexOf('dynamic') > -1
}) 
```

[http://jsfiddle.net/C88uF/](http://jsfiddle.net/C88uF/)

`dynamics`变量是一个数组，如果要将其转换为字符串，可以使用`join`方法：

```
dynamics.join(' ') 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-26T07:31:55.853

将 ID mydiv 添加到元素并使用以下内容：

```
var str = $('#mydiv').attr('class');

str = str.split(' ');

var res = new Array();
for(key in str){
    if(str[key].indexOf('dynamic') >= 0)
        res.push(str[key]);
}

alert(res); 
```

# firefox - 来自 Firefox 扩展的用户定义函数

> ID：13082562
> 
> 赞同：0
> 
> 时间：2012-10-26T07:22:45.460
> 
> 标签：firefox, firefox-addon

是否可以从 Firefox 中触发用户定义的功能？

我试过这个，没有运气：

```
var window=window.QueryInterface(Components.interfaces.nsIInterfaceRequestor).
             getInterface(Components.interfaces.nsIWebNavigation).
             QueryInterface(Components.interfaces.nsIDocShellTreeItem).
             rootTreeItem.QueryInterface(Components.interfaces.nsIInterfaceRequestor).
             getInterface(Components.interfaces.nsIDOMWindow).
             getBrowser().
             selectedBrowser.
             contentWindow;
// user function defined in frame
window.frames[1].someFunction(arg) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:52:29.880

你想`window.frames[1].wrappedJSObject.someFunction(arg)`，大概。

# jquery - 事件未在 Jquery UI 选项卡中触发

> ID：13082568
> 
> 赞同：1
> 
> 时间：2012-10-26T07:23:12.167
> 
> 标签：jquery, jquery-ui, jquery-tabs

我在我的应用程序中使用 jquery UI 选项卡。最初，选项卡窗格是空的。选项卡是动态创建的。默认情况下，每个选项卡都有一个保存按钮。请看下面的代码。标签看起来很好。如果我有多个选项卡，则会出现问题。例如：如果我有 3 个选项卡，每个选项卡上有 3 个保存按钮。单击事件仅从第一个选项卡触发。事件不会从任何其他选项卡触发。只有当我从第一个选项卡单击保存按钮时，我才会收到“来自保存”和“你好”的警报。当我从第二个和第三个选项卡单击保存按钮时，它什么也不做。如果我遗漏了什么，你能告诉我吗？谢谢。

```
MyModel = Backbone.Model.extend({

    defaults: {
        name: "Name",
        contents: "<div><table><tr>"+
                "<td><button id='save' value='Save'>Save</button></td>"+
                "</tr></table></div>"

    }

  });

MyView = Backbone.View.extend({

      initialize: function() {
        _.bindAll(this, 'render');
      },
      events: {
            "click #save" : "save"
      },
      save: function(){
        alert("from save");

      },
      render: function() {
        // add the actual content
        $("#tabs").append('<div id="tab_' + this.model.cid + '">'
            + this.model.get('contents')
            + '<br /><br /><br />'
            );

        // ask jQueryUI to add the tab to the bar
        $("#tabs").tabs("add", "#tab_" + this.model.cid, this.model.get('name'));
         $("#save").live("click", function(){
          alert("hello");
        });
        return this;
      }
});

var view = new MyView({ 
                model: model, 
              });
view.render(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:28:36.720

ID 应该是唯一的。我的猜测是您正在创建多个`#save`按钮。尝试将其更改为类。

附带说明，`live()`已弃用。如果您使用的是新版本的 jquery，我建议您使用该`on()`方法。一些伪代码：

```
$("#container").on("click", ".savebutton", function(){
      alert("hello");
}); 
```

# php - sql文件没有备份

> ID：13082572
> 
> 赞同：0
> 
> 时间：2012-10-26T07:23:24.073
> 
> 标签：php, database, database-backups

以下代码不会引发任何错误，但数据库不会备份新数据；

```
<?php
include('conn.php');
$dbhost="localhost";
$dbuser="landshop_anitgop";
$dbpass="password";

$source=array("landshop_formdata.sql","landshop_clientdata.sql","landshop_blogs.sql","landshop_counter.sql","landshop_hitems.sql");

$path = '"C:/Program Files/EasyPHP-5.3.8.1/www/Landshoppe/Downloaded Dbs/"';

        $mysqldump = '"pathToExe".mysqldump.exe"';
       foreach($source as $db) {
            $dbsource= $path.$db;
            $command = "mysql -u{$dbuser} -p{$dbpass} {$db} < ".$path."backup_{$db}.sql";
       system($command,$output);
       echo "Backed Up : ".$db." Output [".print_r($output,1)."]<br>";

     //system('mysql -u <user> -p<password> dbname < filename.sql');  

}

?> 
```

不知道怎么回事。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:03:51.320

两点：

1.  我认为你必须引用你的路径

    ```
     //$path = "C:\Program Files\EasyPHP-5.3.8.1\www\Landshoppe/Downloaded Dbs/";
     // change this into
     $path = '"C:/Program Files/EasyPHP-5.3.8.1/www/Landshoppe/Downloaded Dbs/"'; 
    ```

2.  为什么你不使用**mysqldump**？

该代码应该有效

```
 <?php 
           $path = '"C:/Program Files/EasyPHP-5.3.8.1/www/Landshoppe/Downloaded Dbs/"';
           $mysqldump = '"pathToExe".mysqldump.exe"';
           foreach($source as $db) {
                $dbsource= $path.$db;
                $command = $mysqldump." -u{$dbuser} -p{$dbpass} {$db} > ".$path."backup_{$db}.sql";
           system($command,$output);
           echo "Backed Up : ".$db." Output [".print_r($output,1)."]<br>";
            } 
```

# sql-server - 如何加入三张桌子并按每人评论数排序？

> ID：13082573
> 
> 赞同：0
> 
> 时间：2012-10-26T07:23:27.007
> 
> 标签：sql-server

我正在尝试根据收到的大多数评论从三个表中获取数据，下面是我的表结构：

```
Table A
ID | Follower | Comment | PLACE
-------------------------------
1  | ABC      | TEXT1   | LA
3  | ABC      | TEXT1   | NY
1  | ABC      | TEXT2   | LA
2  | ABC      | TEXT1   | IL
1  | ABC      | TEXT2   | LA

Table B
ID | NAME     | PLACE
-----------------------
1  | Name1    | LA
2  | Name2    | IL
3  | Name3    | NY

Table C
PLACE | COUNTRY 
-----------------------
LA    | US      
IL    | US      
NY    | US 
```

我想做的是这样的：

```
 SELECT        
a.PLACE, a.ID, a.NAME, b.PLACE, Count(b.ID) AS CT, c.PLACE, c.COUNTRY
FROM            
TableB AS a INNER JOIN
TableA AS b ON a.ID = b.ID INNER JOIN
TableC AS c ON b.PLACE = c.PLACE
GROUP by b.ID
ORDER BY (CT) DESC 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:38:10.807

```
select b.ID,b.Name,b.Place,c.COUNTRY,a.MostComments  
from TableB b inner join 
(select ID,count(*) as MostComments from TableA
group by ID) a
on a.ID=b.ID
inner join TableC c
on b.PLACE=c.PLACE
order by a.MostComments Desc 
```

# c# - 从asp.net中的xml文件加载时图像不显示

> ID：13082574
> 
> 赞同：0
> 
> 时间：2012-10-26T07:23:27.320
> 
> 标签：c#, xml, image, path

我在桌面上有一个带有图像的文件夹。我在 xml 文件中有他们的路径。当我尝试使用图像路径时，图像不会出现。但是当我的解决方案中有图像文件夹时，它工作正常。下面是我的xml文件。

```
 <?xml version="1.0" encoding="utf-8" ?>
  <ImagesXml>
  <Ad>
<ImageUrl>~/Images/bravo_bronze.jpg</ImageUrl>
<AlternateText>Img1</AlternateText>
<ImageUrl1>~/Images/bravo_star.jpg</ImageUrl1>
<ImageUrl2>C:\Users\273714\Desktop\Certificate_images\bravo_bronze - Copy</ImageUrl2>
<ImageUrl3>C:\Users\273714\Desktop\Certificate_images\bravo_star-Copy</ImageUrl3>
<ImageUrl4>~/Images/bravo_bronze - Copy (2).jpg</ImageUrl4>

  </Ad>
 </ImagesXml> 
```

我需要在这里使用图片路径

```
 protected void Page_Load(object sender, EventArgs e)
       {
          XmlDocument xmldoc = new XmlDocument();
        string file = HttpContext.Current.Server.MapPath("XMLFile1.xml");
        xmldoc.Load(file);
        Image2.ImageUrl = xmldoc.SelectSingleNode("ImagesXml/Ad/ImageUrl2").InnerText;
        Image1.ImageUrl = xmldoc.SelectSingleNode("ImagesXml/Ad/ImageUrl3").InnerText;
     } 
```

在 aspx 文件中，我使用图像标签。任何建议都会有所帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:31:21.820

看起来您正在尝试从网页提供图像。它们需要托管在 Web 服务器上。本地文件路径不起作用

# css - CSS 未在 Mozilla chrome 中显示

> ID：13082576
> 
> 赞同：0
> 
> 时间：2012-10-26T07:23:32.093
> 
> 标签：css, firefox, webkit

我在一个网站上工作，遇到了 CSS 问题。Mozilla 和 Chrome 不采用 css。请帮我解决这个问题。我已经检查了 w3.validator 网站上的 url，它显示我没问题。

这是网站链接：[http ://adtrack.seoperspective.com](http://adtrack.seoperspective.com)

谢谢， Praful

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:11:17.737

这里的问题是样式未加载，因为您的域被 AdBlock 过滤。

即，它会触发 EasyList 中的以下规则：`/adtrack.`

如果我禁用 AdBlock 并重新加载，CSS 文件将被加载并应用，并带有阴影和黑色背景。

没有简单的解决方案，只能将您的三级域更改为不会冒犯 AdBlock 的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:12:29.607

您的 CSS 受 login.php:6 保护。

编辑：或者是因为 adtrack URL。但无论如何，当我尝试在新窗口中打开 styles.css 时，我会重新路由到登录页面。

# javascript - 如何在 Jasmine 中编写以下测试

> ID：13082580
> 
> 赞同：2
> 
> 时间：2012-10-26T07:23:39.533
> 
> 标签：javascript, backbone.js, requirejs, jasmine

**我的测试声称将数据插入字符串，但实际上还检查模型是否自动更新 DOM。我应该如何处理这种情况？**

使用 Jasmine 测试 ItemView：

```
describe("ItemView handles rendering views with a model", function() {

    it("should render a template and interpolate data from a model", function() {

        var user = new Backbone.Model({
            name    : "Peeter",
            age     : 24
        });

        var itemView = new ItemView({
            model       : user,
            template    : 'Hello my name is <%= model.get("name") %> and I\'m <%= model.get("age") %> years old.'
        });

        itemView.render();

        user.set({
            name    : "Pjotr",
            age     : 25
        });

        expect(itemView.$el).toHaveText('Hello my name is Pjotr and I\'m 25 years old.');

    });

}); 
```

*** 正在测试的代码（BaseView 有自己的测试） ***

我的基本观点：

```
define(['jquery', 'backbone', 'underscore'], function($, Backbone, _) {
    'use strict';

    var BaseView = Backbone.View.extend({

        /**
         * Update the dom element
         */
        replaceDomElement : function() {

            this.trigger("before:replace_dom_element");

            var $el = this.$el.empty();
            var $clone = $el.clone();
            $el.replaceWith($clone);
            this.setElement($clone);

            this.trigger("after:replace_dom_element");

        },
        /**
         * Default serialize function
         * @returns empty object
         */
        serialize: function(){
            return {};
        },

        /**
         * Render the view, passing the pictures collection to the view and the
         * inner template
         */
        render : function() {

            this.replaceDomElement();

            this.trigger("before:render");

            var template = _.template(this.options.template);
            /**
             * Allow for serialization overwriting
             */
            var options = this.serialize();
            if(this.options.serialize) {
                options = _.isFunction(this.options.serialize) ? this.options.serialize() : this.options.serialize;
            }

            this.$el.append(template(options));
            this.trigger("after:render");

        }

    });

    return BaseView;

}); 
```

我的项目视图：

```
define(['jquery', 'yolojs/views/BaseView'], function($, BaseView) {
    'use strict';

    var ItemView = BaseView.extend({

        className : "item",

        /**
         * Helper function to determine which data should the view pass to the template
         */
        serialize : function() {
            return  {
                model : this.model
            };
        },
        /**
         * Set up our view to autoupdate on change
         */
        initialize: function() {
            /**
             * Assign the cid as a data attribute on the model 
             */
            this.$el.attr("data-cid", this.model.cid);
            this.model.on('change',this.render,this);
        }

    });

    return ItemView;

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T14:55:32.420

最简单的方法是：

```
describe("ItemView", function() {

            var user;
            var itemView;

            beforeEach(function() {

                user = new Backbone.Model({
                    name    : "Peeter",
                    age     : 24
                });

                itemView = new ItemView({
                    model       : user,
                    template    : 'Hello my name is <%= model.get("name") %> and I\'m <%= model.get("age") %> years old.'
                });

            });

            it("should render a template and interpolate data from a model", function() {

                itemView.render();

                expect(itemView.$el).toHaveText('Hello my name is Peeter and I\'m 24 years old.');

            });

            it("should call render if the models data changes", function() {

                spyOn(itemView, 'render');

                user.set({
                    name    : "Pjotr",
                    age     : 25
                });

                expect(itemView.render).toHaveBeenCalled();

            });

            it("should update the dom element with the new models data", function() {

                user.set({
                    name    : "Pjotr",
                    age     : 25
                });

                expect(itemView.$el).toHaveText('Hello my name is Pjotr and I\'m 25 years old.');

            });

        }); 
```

由于以下原因，我还不得不稍微更改我的 itemview：Testingbackbone.js [application with jasmine - how to test model bindings on a view？](https://stackoverflow.com/questions/6471457/testing-backbone-js-application-with-jasmine-how-to-test-model-bindings-on-a-v/13088228#13088228)

这个答案归功于@theml

# xml - 使用具有相同名称节点的 XSLT 将 XML 转换为 xml

> ID：13082582
> 
> 赞同：1
> 
> 时间：2012-10-26T07:23:48.657
> 
> 标签：xml, xslt

我在使用 XSLT 将 xml 文件转换为 xml 时遇到问题。我似乎可以获得第一个节点的属性，但是我无法获得命名的节点`<attribute>`及其属性和值，并且在某些情况下，节点`<attribute>`有一个名为的节点`<codedvalue>`，它具有我需要的属性和值：

这是一个文件的示例（编辑：为易读添加了空格）：

```
<?xml version='1.0' encoding='UTF-8'?>
<arb:result xmlns:arb="urn::codeservice">
 <arb:document 
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
   xsi:schemaLocation="urn::codeservice prod_code.xsd">
  <header>Produced by CodeRows 4.2</header>
   <body>
    <termsystem id="1" begindate="1970-01-01T00:00:01" 
      expirationdate="2099-12-31T23:59:59" 
      lastmodifieddate="2012-10-05T09:52:02.35522" 
      lastmodifiedby="Admin">
     <attribute type="longname" datatype="ST" 
       language="fi">1</attribute>
     <attribute type="status" datatype="ST">1</attribute>
     <attribute type="codetype" datatype="ST">1</attribute>
     <attribute type="relatesto" datatype="ST">BASE</attribute>
     <attribute type="relatestoname" datatype="ST">BASE</attribute>
     <attribute type="hierarchical" datatype="ST">0</attribute>
     <termitementry id="1010110" language="fi" 
      createdate="2007-10-25T15:24:17.0" 
      begindate="2003-01-01T00:00:01.0" 
      expirationdate="2004-12-31T23:59:59.0" 
      lastmodifieddate="2007-10-25T17:06:25.0" 
      lastmodifiedby="Admin">
     <attribute type="status" datatype="ST">1</attribute>
     <attribute type="shortname" datatype="ST" language="fi">Whey protein</attribute>
     <attribute type="longname" datatype="ST" language="fi" />
     <attribute type="abbreviation" datatype="ST" 
       language="fi">Raspberry</attribute>
     <attribute type="hierarchylevel" datatype="ST">0</attribute>
     <attribute type="parentid" datatype="ST" language="fi" />
     <attribute type="description" datatype="ST" language="fi" />
     <attribute type="owner" datatype="ST" 
       language="sv">Admin</attribute>
     <attribute type="externallink" 
      datatype="CV" 
      begindate="2003-01-01T00:00:01.0" 
      expirationdate="2005-12-31T23:59:59.0"
      ><codedvalue code="08" 
          codesystem="PUN" 
          codesystemversion="1" 
          referenceid="BASEpowder" /></attribute>
     <attribute type="externallink" 
       datatype="CV" 
       begindate="2001-01-01T00:00:01.0" 
       expirationdate="2006-12-31T23:59:59.0"
       ><codedvalue code="80112" 
          codesystem="PROTEIN" 
          codesystemversion="1" 
          referenceid="BASEprotein" /></attribute>
     <attribute type="externallink" 
       datatype="CV" 
       begindate="2003-01-01T00:00:01.0" 
       expirationdate="2008-01-31T23:59:59.0"
       ><codedvalue code="03" 
          codesystem="REF" 
          codesystemversion="1" 
          referenceid="BASEref" /></attribute>
</termitementry
></termsystem
></body
></arb:document
></arb:result> 
```

我使用的 XSLT 是：

```
<?xml version="1.0" encoding="utf-8" ?> 
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"> 
    <xsl:output method="xml" indent="yes"/> 

    <xsl:template match="termitementry">
        <xsl:element name="CodeRow">

            <xsl:element name="Code">
                <xsl:apply-templates select="@id" />
            </xsl:element>

            <xsl:element name="Begindate">
                <xsl:apply-templates select="@begindate" />
            </xsl:element>

            <xsl:element name="Expirationdate">
                    <xsl:apply-templates select="@expirationdate" />
            </xsl:element>

            <xsl:element name="Lastmodifiedby">
                    <xsl:apply-templates select="@lastmodifiedby" />
            </xsl:element>

        </xsl:element> 
    </xsl:template> 

    <xsl:template match="@id">
        <xsl:value-of select="." />
    </xsl:template>

    <xsl:template match="@begindate">
        <xsl:value-of select="." />
    </xsl:template>

    <xsl:template match="@expirationdate">
        <xsl:value-of select="." />
    </xsl:template> 

    <xsl:template match="@lastmodifiedby">
        <xsl:value-of select="." />
    </xsl:template>

</xsl:stylesheet> 
```

有了这个，我似乎只得到了第一个节点的属性，`<termitementry>`但在我得到一些废话之后没有任何东西，我正在使用[http://chris.photobooks.com/xml/default.htm](http://chris.photobooks.com/xml/default.htm)来测试一下

```
<transformiix:result>
    Produced by CodeRows 4.2

    1
    1
    1
    BASE
    BASE
    0
    <CodeRow>
        <Code>
            1010110
        </Code>
        <Begindate>
            2003-01-01T00:00:01.0
        </Begindate>
        <Expirationdate>
            2004-12-31T23:59:59.0
        </Expirationdate>
        <Lastmodifiedby>
            Admin
        </Lastmodifiedby>
    </CodeRow>
</transformiix:result> 
```

有人可以帮助如何摆脱其余的吗？

我想获得一个具有以下基本结构的 xml：

```
<coderow>
     <Code>
          1010110
     </Code>
    <Begindate>
        2003-01-01 (only want the 10 first digits of 2003-01-01T00:00:01.0, preferably I would just to have the digits so it looks like 20030101)
    </Begindate>
    <Shortname>
        Whey protein
    </Shortname>
    <BASEpowder>
        08
    <BASEpowder>
    <BASEprotein>
        80112
    </BASEprotein>

</CodeRow> 
```

我怎么会得到“由 CodeRows 4.2 等制作的”，我看不到我已经为它制作了任何模板？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:11:04.607

回答您的问题“*我怎么会出现 '由 CodeRows 4.2 等生产。' 我看不到我已经为它制作了任何模板？* ”答案是因为您没有为其他元素制作任何模板，XSLT将使用默认模板匹配。此默认行为将处理所有节点子节点，或者在案例或文本节点中，它将这些作为文本输出。

XSLT 将开始寻找与顶级文档元素匹配的模板，并且由于您没有指定模板匹配，因此默认行为开始生效。您的第一个模板匹配**termitementry**，当它找到它时，它将已经对所有父元素执行了默认匹配。

为了阻止这种情况发生，并直接跳转到**termitemtentry**节点，你应该做这样的事情

```
<xsl:template match="/"> 
  <xsl:apply-templates select="//termitementry" />
</xsl:template> 
```

另外，请注意将属性转换为元素的现有代码可以简化。而不是这样做

```
<xsl:element name="Code">
    <xsl:apply-templates select="@id" />
</xsl:element> 
```

你可以这样做

```
<Code>
   <xsl:value-of select="@id"/>
</Code> 
```

这意味着您可以删除与所有属性匹配的模板。

您可能只需要与“外部”链接元素匹配的模板，您可以在其中执行类似的操作

```
<xsl:template match="attribute[@type='externallink']">
   <xsl:element name="{codedvalue/@referenceid}">
      <xsl:value-of select="codedvalue/@code"/>
   </xsl:element>
</xsl:template> 
```

这是完整的 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>

   <xsl:template match="/">
      <xsl:apply-templates select="//termitementry"/>
   </xsl:template>

   <xsl:template match="termitementry">
      <CodeRow>
         <Code>
            <xsl:value-of select="@id"/>
         </Code>
         <Begindate>
            <xsl:value-of select="@begindate"/>
         </Begindate>
         <Expirationdate>
            <xsl:value-of select="@expirationdate"/>
         </Expirationdate>
         <Lastmodifiedby>
            <xsl:value-of select="@lastmodifiedby"/>
         </Lastmodifiedby>
         <xsl:apply-templates select="attribute[@type='externallink']"/>
      </CodeRow>
   </xsl:template>

   <xsl:template match="attribute[@type='externallink']">
      <xsl:element name="{codedvalue/@referenceid}">
         <xsl:value-of select="codedvalue/@code"/>
      </xsl:element>
   </xsl:template>
</xsl:stylesheet> 
```

应用于您的示例 XML 时，将输出以下内容

```
<CodeRow>
   <Code>1010110</Code>
   <Begindate>2003-01-01T00:00:01.0</Begindate>
   <Expirationdate>2004-12-31T23:59:59.0</Expirationdate>
   <Lastmodifiedby>Admin</Lastmodifiedby>
   <BASEpowder>08</BASEpowder>
   <BASEprotein>80112</BASEprotein>
   <BASEref>03</BASEref>
</CodeRow> 
```

# python - 具有自定义元类行为的 Python 元类

> ID：13082584
> 
> 赞同：1
> 
> 时间：2012-10-26T07:24:01.080
> 
> 标签：python, oop, metaclass

我正在使用 Python 2.7 中的元类。所以我创建了一个如下所示的代码：

```
class M(type):
    def __new__(meta, name, parents, attrs):
        print 'In meta new'
        return super(meta, meta).__new__(meta, name, parents, attrs)

    def __init__(cls, *args, **kwargs):
        print 'In meta init'

    def __call__(cls, *attr, **val):
        print 'In meta call'
        return super(cls, cls).__new__(cls)

class A(object):
    __metaclass__ = M

    def __new__(cls):
        print 'In class new'
        return super(cls, cls).__new__(cls)

    def __init__(self):
        print 'In object init'

    def __call__(self):
        print 'In object call' 
```

但是输出让我感到困惑：

```
A()

In meta new
In meta init
In meta call 
```

不知何故，类方法 __ new __ 和 __ init __ 被覆盖了，所以解释器只是跳过它们。任何人都可以解释这些东西吗？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:26:08.647

你打错电话了`super()`。的第一个参数`super()`应该是*类本身*，而不是它的实例。

```
return super(meta, meta).__new__(meta, name, parents, attrs) 
```

应该...

```
return super(M, meta).__new__(meta, name, parents, attrs) 
```

对于其他调用，依此类推`super()`——第一个参数应该是它们所在的类；第二个是实际实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T12:54:52.487

它不起作用，因为我不使用原始 Python 机制 - `cls()`，它保证了`__new__`and`__init__`方法的自动工作，它被元类`__call__`方法覆盖，它不做同样的事情。

# windows-7 - Bat 文件在我的桌面上创建 Windows 7 快捷方式.lnk

> ID：13082585
> 
> 赞同：4
> 
> 时间：2012-10-26T07:24:03.127
> 
> 标签：windows-7, vbscript, batch-file, desktop-shortcut, lnk

如何创建 bat 或 vbs 文件来创建与 Windows 7 兼容的桌面快捷方式？

我需要 bat 或 vbs 文件来使用以下目标和起始位置（如下）创建桌面快捷方式。我基本上创建了一个桌面应用程序，它使用 Google Chrome Portable 来呈现我的 web 应用程序，就好像它是 Windows 原生的一样，并且快捷方式将启动 Chrome，所以它非常轻量级，看起来像一个真正的 Windows 应用程序，有点像 Prism 过去所做的。我尝试手动创建shortcut.lnk，但是当我的用户安装我的应用程序时，它不会通过这个路径C:\Users\Public\Desktop 提取我的shortcut.lnk 所以这就是为什么我现在尝试创建一个bat 或vbs 文件我可以在安装时运行。谢谢你的帮助。

目标：

C:\MyProgram\App\Chrome-bin\chrome.exe --user-data-dir="C:\MyProgram\Data\profile" --app=http://my-web-site-url.com/

开始于：

C:\MyProgram\App\Chrome-bin

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-26T10:07:27.673

您的安装程序应该能够做到这一点......这是在 VBS 中的方法：

```
Set wsc = WScript.CreateObject("WScript.Shell")
Set lnk = wsc.CreateShortcut(wsc.SpecialFolders("desktop") & "\XXXX.LNK")

lnk.targetpath = "C:\MyProgram\App\Chrome-bin\chrome.exe"
lnk.arguments = "--user-data-dir=""C:\MyProgram\Data\profile"" --app=http://my-web-site-url.com/"
lnk.description = "Bla bla"
lnk.workingdirectory = "C:\MyProgram\App\Chrome-bin" 
lnk.save 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-28T01:44:04.593

您可以使用**INTERNAL**命令`MKLINK`创建**符号**链接（即：它的作用就像它链接到的文件一样）。

您需要有一个提升的命令提示符，或者激活管理员帐户（设置密码，因为`RUNAS`不接受空白密码）。

从提升的命令提示符：

`mklnk.bat`

```
@echo off
mklink %~n1.lnk %~dpnx1 
```

使用有效的管理员帐户：

`mklnk.bat`

```
@echo off
runas /user:administrator "cmd /c mklink %~dpn1.lnk %~dpnx1" 
```

因为`mklink`是**内部**命令，所以不能`RUNAS`直接访问，但是可以`CMD.EXE`以管理员身份运行，然后`mklink`从那里调用。

* * *

上述两个批处理文件都将接受相同的选项并在同一位置创建相同的文件。因此，如果您调用批处理文件`mklnk.bat`：

```
c:>mklnk welcome.msg
symbolic link created for welcome.lnk <<===>> welcome.msg 
```

屏幕上会闪烁另一个`CMD.EXE`窗口，但这是正常的。

# php - 如何处理在 jquery post 请求中调用的表单

> ID：13082587
> 
> 赞同：0
> 
> 时间：2012-10-26T07:24:21.437
> 
> 标签：php, jquery, html, forms

我有一个评论系统，其中有一个带有隐藏评论ID输入的评论系统，评论系统由php后端，我使用jquery post请求在html页面中带来评论。一切正常，除非我尝试通过 jquery 处理评论中的表单，它没有给出任何响应。

**php中的评论系统**

```
 <?php while($row = mysqli_fetch_assoc($query)):?>
  <div class="comment-container">

    <div class="comment"><?php if(!empty($row['comment'])){echo $row['comment'];}else{echo 'None.';} ?></p></div>

    <form name="comment_delete" method="post">
    <input name="remove" type="hidden" value="<?php echo $row['id']; ?>" />
    <input value="Delete" type="submit" class="comment-delete" />
   </form>

  </div>
  <?php endwhile;?> 
```

**jquery 来处理评论。**

```
function get_comments(){
$.post('../comment.php', {value1:url1, value2:comment}, function(data)
   {
   $('#comments').html(data);
});

$('form[name=comment_delete]').submit(function(){
            alert('hi')
}); 
```

请查看并建议通过 jquery 处理此表单的任何可能方式。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:47:24.790

```
<form name="comment_delete" method="post" onsubmit="return get_comments()"> 
```

# android - 无法打开堆栈跟踪文件'/data/anr/jbt/jbt.907.tmp'：没有这样的文件或目录？

> ID：13082588
> 
> 赞同：0
> 
> 时间：2012-10-26T07:24:24.650
> 
> 标签：android, android-ndk

我的程序运行，但我在 logcat 中得到了上面提到的 eroor 是什么原因我在这方面无法得到如此帮助。我正在提供我的堆栈跟踪。如果有人知道为什么会出现此错误，请告诉我

```
10-26 06:55:55.248: W/System.err(981):  at android.app.ActivityThread.main(ActivityThread.java:3814)
10-26 06:55:55.248: W/System.err(981):  at java.lang.reflect.Method.invokeNative(Native Method)
10-26 06:55:55.248: W/System.err(981):  at java.lang.reflect.Method.invoke(Method.java:538)
10-26 06:55:55.248: W/System.err(981):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:901)
10-26 06:55:55.248: W/System.err(981):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:659)
10-26 06:55:55.248: W/System.err(981):  at dalvik.system.NativeStart.main(Native Method)
10-26 06:55:55.248: W/System.err(981): Caused by: java.lang.NullPointerException
10-26 06:55:55.248: W/System.err(981):  at com.simsys.securex.PolicyReceiver.onReceive(PolicyReceiver.java:821)
10-26 06:55:55.248: W/System.err(981):  at android.app.ActivityThread.handleReceiver(ActivityThread.java:1888)
10-26 06:55:55.248: W/System.err(981):  ... 10 more
10-26 06:56:05.529: I/dalvikvm(981): threadid=4: reacting to signal 3
10-26 06:56:05.529: D/dalvikvm(981): SigQuit + : 0
10-26 06:56:05.533: I/dalvikvm(981): Wrote stack traces to '/data/anr/traces.txt'
10-26 06:56:05.543: E/dalvikvm(981): Unable to open stack trace file '/data/anr/jbt/jbt.981.tmp': No such file or directory
10-26 06:56:05.543: D/dalvikvm(981): SigQuit - : 0
10-26 06:59:19.745: I/dalvikvm(1043): threadid=4: reacting to signal 3
10-26 06:59:19.745: D/dalvikvm(1043): SigQuit + : 0
10-26 06:59:19.757: I/dalvikvm(1043): Wrote stack traces to '/data/anr/traces.txt'
10-26 06:59:19.765: E/dalvikvm(1043): Unable to open stack trace file '/data/anr/jbt/jbt.1043.tmp': No such file or directory
10-26 06:59:19.765: D/dalvikvm(1043): SigQuit - : 0
10-26 06:59:32.834: D/AndroidRuntime(1135): Shutting down VM
10-26 06:59:32.834: W/dalvikvm(1135): threadid=1: thread exiting with uncaught exception (group=0x4001c648)
10-26 06:59:32.838: W/System.err(1135): java.lang.RuntimeException: Unable to start receiver com.simsys.securex.PolicyReceiver: java.lang.NullPointerException
10-26 06:59:32.839: W/System.err(1135):     at android.app.ActivityThread.handleReceiver(ActivityThread.java:1899)
10-26 06:59:32.839: W/System.err(1135):     at android.app.ActivityThread.access$2400(ActivityThread.java:155)
10-26 06:59:32.839: W/System.err(1135):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1043)
10-26 06:59:32.839: W/System.err(1135):     at android.os.Handler.dispatchMessage(Handler.java:130)
10-26 06:59:32.840: W/System.err(1135):     at android.os.Looper.loop(SourceFile:351)
10-26 06:59:32.840: W/System.err(1135):     at android.app.ActivityThread.main(ActivityThread.java:3814)
10-26 06:59:32.840: W/System.err(1135):     at java.lang.reflect.Method.invokeNative(Native Method)
10-26 06:59:32.840: W/System.err(1135):     at java.lang.reflect.Method.invoke(Method.java:538)
10-26 06:59:32.840: W/System.err(1135):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:901)
10-26 06:59:32.841: W/System.err(1135):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:659)
10-26 06:59:32.841: W/System.err(1135):     at dalvik.system.NativeStart.main(Native Method)
10-26 06:59:32.841: W/System.err(1135): Caused by: java.lang.NullPointerException
10-26 06:59:32.841: W/System.err(1135):     at com.simsys.securex.PolicyReceiver.onReceive(PolicyReceiver.java:821)
10-26 06:59:32.841: W/System.err(1135):     at android.app.ActivityThread.handleReceiver(ActivityThread.java:1888)
10-26 06:59:32.842: W/System.err(1135):     ... 10 more
10-26 06:59:43.649: I/dalvikvm(1135): threadid=4: reacting to signal 3
10-26 06:59:43.649: D/dalvikvm(1135): SigQuit + : 0
10-26 06:59:43.653: I/dalvikvm(1135): Wrote stack traces to '/data/anr/traces.txt'
10-26 06:59:43.664: E/dalvikvm(1135): Unable to open stack trace file '/data/anr/jbt/jbt.1135.tmp': No such file or directory
10-26 06:59:43.664: D/dalvikvm(1135): SigQuit - : 0
10-26 07:01:01.606: I/dalvikvm(1184): threadid=4: reacting to signal 3
10-26 07:01:01.606: D/dalvikvm(1184): SigQuit + : 0
10-26 07:01:01.611: I/dalvikvm(1184): Wrote stack traces to '/data/anr/traces.txt'
10-26 07:01:01.613: E/dalvikvm(1184): Unable to open stack trace file '/data/anr/jbt/jbt.1184.tmp': No such file or directory
10-26 07:01:01.613: D/dalvikvm(1184): SigQuit - : 0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-27T02:18:13.480

尝试在 PolicyReceiver.java 文件的第 821 行访问一些**空**对象。

关于`Unable to open stack trace file`错误消息，它们似乎是某些 Android 系统构建的常见问题。系统尝试但未能写入一些可以帮助您调试实际错误的信息。这与您无关，因为您已经在使用 logcat 看到的日志中拥有此信息。

# c# - C#：“使用”指令和 try/catch 块

> ID：13082590
> 
> 赞同：0
> 
> 时间：2012-10-26T07:24:30.797
> 
> 标签：c#, database, try-catch, using-statement

我知道如何在数据库调用的情况下使用 try/catch 块，并且知道如何在使用 try/finally 构造的上下文中使用“using”指令。

但是，我可以混合它们吗？我的意思是当我使用“使用”指令时，我是否也可以使用 try/catch 构造，因为我仍然需要处理可能的错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:26:19.393

你绝对可以同时使用两者。

`using`块基本上只是 try/finally 块的一点语法糖，如果你愿意，你可以嵌套 try/finally 块。

```
using (var foo = ...)
{
     // ...
} 
```

大致相当于这个：

```
var foo = ...;
try
{
    // ...
}
finally
{
    foo.Dispose();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:26:13.997

当然你可以这样做：

```
using (var con = new SomeConnection()) {
    try {
        // do some stuff
    }
    catch (SomeException ex) {
        // error handling
    }
} 
```

`using`由编译器翻译成 a ，因此它与将 a 嵌套在 a中`try..finally`没有太大区别。`try..catch``try..finally`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:28:24.090

这是完全有效的：

```
using (var stream = new MemoryStream())
{
    try
    {
        // Do something with the memory stream
    }
    catch(Exception ex)
    {
        // Do something to handle the exception
    }
} 
```

编译器会将其翻译成

```
var stream = new MemoryStream();
try
{
    try
    {
        // Do something with the memory stream
    }
    catch(Exception ex)
    {
        // Do something to handle the exception
    }
}
finally
{
    if (stream != null)
    {
        stream.Dispose();
    }
} 
```

当然，这种嵌套也可以反过来工作（就像将`using`-block嵌套在`try...catch`-block 中一样。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-26T07:31:56.003

一个`using`如：

```
using (var connection = new SqlConnection())
{
    connection.Open
    // do some stuff with the connection
} 
```

只是编写如下代码的语法快捷方式。

```
SqlConnection connection = null;
try
{
   connection = new SqlConnection();
   connection.Open
   // do some stuff with the connection
}
finally
{
   if (connection != null)
   {
      connection.Dispose()
   }
} 
```

这意味着，是的，您可以将它与其他 try..catch 或其他任何内容混合使用。这就像将 a 嵌套`try..catch`在 a 中一样`try..finally`。它只是作为一种快捷方式来确保您“使用”的项目在超出范围时被处理掉。它对您在范围内所做的事情没有真正的限制，包括提供您自己的`try..catch`异常处理。

# sql - T-SQL：如何通过触发器拒绝更新表的一列？

> ID：13082595
> 
> 赞同：7
> 
> 时间：2012-10-26T07:25:06.913
> 
> 标签：sql, sql-server, tsql, sql-server-2005, sql-server-2008-r2

问：
在我们的 SQL-Server 2005 数据库中，我们有一个表 T_Groups。
T_Groups 具有字段 ID (PK) 和名称等。

现在我们公司的一些白痴使用名称作为映射表中的键......
这意味着现在人们可能不会更改组名，因为如果这样做，映射就消失了......
现在，直到解决这个问题，我需要为 T_Groups 添加限制，因此无法更新组的名称。
请注意，插入应该仍然是可能的，并且不更改组名的更新也应该是可能的。

另请注意，应用程序的用户和开发人员同时拥有 dbo 和 sysadmin 权限，因此 REVOKE/DENY 不起作用。

我怎样才能用触发器做到这一点？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-26T07:41:39.560

```
CREATE TRIGGER dbo.yournametrigger ON T_Groups
FOR UPDATE
AS
BEGIN
  IF UPDATE(name)
  BEGIN
    ROLLBACK
    RAISERROR('Changes column name not allowed', 16, 1);
  END
  ELSE
  BEGIN
  --possible update that doesn't change the groupname
  END
END 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-26T07:33:07.453

```
CREATE TRIGGER tg_name_me
ON tbl_name
INSTEAD OF UPDATE
AS
IF EXISTS (
   SELECT *
   FROM INSERTED I
   JOIN DELETED D ON D.PK = I.PK AND ISNULL(D.name,I.name+'.') <> ISNULL(I.name,D.name+'.')
)
RAISERROR('Changes to the name in table tbl_name are NOT allowed', 16,1);
GO 
```

根据您用于访问数据库的应用程序框架，检查更改的更便宜的方法是[Alexander 的答案](https://stackoverflow.com/a/13082812/573261)。一些框架会生成包含所有列的 SQL 更新语句，即使它们没有更改，例如

```
UPDATE TBL
   SET name = 'abc', -- unchanged
       col2 = null, -- changed
       ... etc all columns 
```

该`UPDATE()`函数仅检查该列是否*存在*于语句中，而不是其值是否已更改。`UPDATE()`此特定语句将使用如上所示的更复杂的触发器进行测试，但不会引发错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-04-08T06:06:01.497

这是使用更新触发器保留一些原始值的示例。它的工作原理是每次将 orig_author 和 orig_date 的值设置为已删除伪表中的值。它仍然执行工作并使用循环。

```
CREATE TRIGGER [dbo].[tru_my_table]  ON [dbo].[be_my_table]
AFTER UPDATE
AS
    UPDATE [dbo].[be_my_table]
    SET
    orig_author = deleted.orig_author
    orig_date   = deleted.orig_date,
    last_mod_by = SUSER_SNAME(),
    last_mod_dt = getdate()
    from deleted
    WHERE deleted.my_table_id IN  (SELECT DISTINCT my_table_id FROM Inserted)

ALTER TABLE [dbo].[be_my_table] ENABLE TRIGGER [tru_my_table]
GO 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-28T07:51:20.543

此示例将通过触发器锁定 SABENTIS_LOCATION.fk_sabentis_location 上的任何更新，并将输出一条详细消息，指示哪些对象受到影响

```
ALTER TRIGGER dbo.SABENTIS_LOCATION_update_fk_sabentis_location ON SABENTIS_LOCATION
FOR UPDATE
AS
DECLARE @affected nvarchar(max)
SELECT @affected=STRING_AGG(convert(nvarchar(50), a.id), ', ')
  FROM inserted a
  JOIN deleted b ON a.id = b.id
  WHERE a.fk_sabentis_location != b.fk_sabentis_location
IF @affected != ''
BEGIN
  ROLLBACK TRAN
  DECLARE @message nvarchar(max) = CONCAT('Update values on column fk_sabentis_location locked by custom trigger. Could not update entities: ', @affected);
  RAISERROR(@message, 16, 1)
END 
```

一些示例似乎正在使用：

```
IF UPDATE(name) 
```

但是，如果该字段是更新语句的一部分，这似乎评估为 TRUE，**即使该值本身没有更改**导致误报。

# token - 将 iOS5 迁移到 iOS6 中的错误“此商店以前与不同的 iCloud 帐户相关联”

> ID：13082596
> 
> 赞同：4
> 
> 时间：2012-10-26T07:25:13.047
> 
> 标签：token, icloud, account

当我从 iOS5 迁移到 iOS6 时，我的应用程序中有一个错误：“此商店以前与不同的 iCloud 帐户相关联”。

我当前的身份令牌：XXXXXX 和此商店之前与不同的 iCloud 帐户相关联：XXXXXX 之间存在差异。

拥有当前令牌是否容易

```
[[NSFileManager defaultManager] ubiquityIdentityToken]; 
```

但我没有找到恢复我以前的帐户令牌的解决方案。

有任何想法吗？

# c# - 显示相互依赖的验证消息

> ID：13082598
> 
> 赞同：1
> 
> 时间：2012-10-26T07:25:18.957
> 
> 标签：c#, asp.net, validation

我在 aspx 页面中有以下代码：

```
 <TABLE id="tblGeneratedTo" cellspacing="0" cellpadding="0" width="100%" align="left" border="0" runat="server">
                    <TR>
                        <td width="20%" align="left"><FONT face="Verdana" size="2"><strong>To:</strong></FONT>&nbsp;</TD>
                        <td width="80%">
                            <asp:textbox id="txtGeneratedTo" runat="server" CssClass="ptinput" MaxLength="10" Width="90px"></asp:textbox>
                            <A onclick="window.open('../calPopUp.aspx?textbox=txtGeneratedTo','cal','width=230,height=190,left=400,top=200')"
                                href="javascript:;"> <IMG src="../images/SmallCalendar.gif" border="0"></A> <FONT class="fontbody">
                                (mm/dd/yyyy)</FONT>
                        </TD>               
                    </TR>
                    <tr>
                        <td colspan="2" align="right">
                            <asp:RegularExpressionValidator ID="Regularexpressionvalidator4" runat="server" CssClass="fontbody"
                                Display="Dynamic" ErrorMessage="*Date should be in (mm/dd/yyyy) format." 
                                ValidationExpression="^([\d]{1,2}/[\d]{1,2}/[\d]{4})$"
                                ControlToValidate="txtGeneratedTo"></asp:RegularExpressionValidator>
                            <asp:CompareValidator ID="CompareValidator6" runat="server" CssClass="fontbody" 
                                Display="Dynamic" ErrorMessage="'End' date cannot fall before 'Start' date."
                                ControlToValidate="txtGeneratedTo" Type="Date" Operator="GreaterThanEqual" 
                                ControlToCompare="txtGeneratedFrom"></asp:CompareValidator>
                        </td>
                    </tr>
                </TABLE> 
```

**To:**   (mm/dd/yyyy)
这里我有一个文本框和两个验证控件。当我在文本框中输入一些垃圾值时，正则表达式并在实际页面上进行比较我一次看到两条消息：

![在此处输入图像描述](../Images/5f54469e2dfbe904383425b86742e34e.png)

我想一次只看到一条消息。如果满足正则表达式验证器，则最好显示 comparevalidator 消息，否则仅显示正则表达式验证器。

如何做到这一点？如果我们可以仅从 MarkUp 而不是代码隐藏为此做一些事情，那将很容易。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T09:33:53.117

为此，您必须使用 CustomValidator。验证者

```
<asp:CustomValidator ID="CompareDateValidator" runat="server" 
        ClientValidationFunction="CompareDateValidatorClient"
        ErrorMessage="Some error message" /> 
```

与`ClientValidationFunction`此相伴的

```
function CompareDateValidatorClient(sender, args) {
    var fromValue = document.getElementById('<%=txtGeneratedFrom.ClientID%>').value;
    var toValue = document.getElementById('<%=txtGeneratedTo.ClientID%>').value;
    var isValid = false;
    if (ValidateDate(fromValue)) {
        if (ValidateDate(toValue)) {
            if (Date.parse(toValue) > Date.parse(fromValue)) {
                isValid = true;
            }
            else
                sender.innerHTML = "'End' date cannot fall before 'Start' date.";
        }
        else
            sender.innerHTML = "To date should be in (mm/dd/yyyy) format.";
    }
    else
        sender.innerHTML = "From date should be in (mm/dd/yyyy) format.";
    args.IsValid = isValid;
}

function ValidateDate(str) {

    var rm_date = /^(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)\d\d$/;
    //triple check for not empty, mm/dd/yyyy format and whether the date is valid
    return (str.trim() !== "" && str.match(rm_date) && !isNaN(Date.parse(str)));
}

//remedial javascript. trim function
if (!String.prototype.trim) {
    String.prototype.trim = function () {
        return this.replace(/^\s*(\S*(?:\s+\S+)*)\s*$/, "$1");
    };
}

// ControlToValidate property supports hooking up single element. 
//The below hack hooks both txtGeneratedFrom and txtGeneratedTo to the validator
var validatorObj = document.getElementById("<%= CompareDateValidator.ClientID %>");
ValidatorHookupControlID("<%= txtGeneratedFrom.ClientID %>", validatorObj);
ValidatorHookupControlID("<%= txtGeneratedTo.ClientID %>", validatorObj); 
```

# javascript - Chrome 不加载外部 JavaScript

> ID：13082599
> 
> 赞同：2
> 
> 时间：2012-10-26T07:25:25.643
> 
> 标签：javascript, google-chrome

这不是垃圾邮件，[而是我正在开发的实际网站](http://www.kalevloterija.lv/)（抱歉，它是拉脱维亚语）。

这里的问题是 AdForm 提供了一个跟踪脚本，Chrome 不想加载该脚本。Firefox 可以顺利加载它。虽然没有检查过其他浏览器。

由于脚本是外部的，我想不出调试它的方法。

有没有人在使用 Chrome 时遇到过这样的问题，我该如何解决？

该脚本就在结束`<head>`标记之前。

## 更新

正如 Blender 所建议的那样，我之前尝试过删除 async 参数，但无济于事。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:30:53.023

您很可能安装了 AdBlock 扩展程序（或类似的扩展程序）。如果我禁用 AdBlock，脚本会在 Google Chrome 中正常加载。激活后，脚本将被阻止。

**更新**

AdBlock 扩展（Google Chrome 和 Firefox 版本）使用 EasyList，它是一个广告服务器域列表。从这些域加载的任何文件都被扩展阻止，并且您的外部 JS 文件所在的域 adform.net[在列表中](https://easylist-downloads.adblockplus.org/easylist.txt)（对其执行 CTRL+F）。

# svn - 哪个用户应该在 Jenkins 构建作业中从 SVN 签出代码？

> ID：13082600
> 
> 赞同：2
> 
> 时间：2012-10-26T07:25:26.210
> 
> 标签：svn, jenkins

我正在使用 svn+ssh 方法使用 Subversion 设置 Jenkins。

这提出了一个“最佳实践”的问题，我应该使用自己的 svn 凭证进行结帐还是应该有一个特殊的 Jenkins 用户进行结帐？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T08:52:01.197

您是否希望其他有权访问 Jenkins 的人看到您的凭据？当然，Jenkins 应该有一个单独的用户。（而且他实际上不需要对存储库具有写访问权）。

# jquery - 动态 Metro 风格 UI

> ID：13082605
> 
> 赞同：2
> 
> 时间：2012-10-26T07:25:52.653
> 
> 标签：jquery, html, css, user-interface, user-experience

使用 HTML、CSS、jQuery 是否可以创建 Metro 风格 UI，它允许用户在屏幕上拖动每个正方形或矩形，并且在拖动时，屏幕上的其他正方形/矩形会自动移动自己，为元素腾出空间被感动？

如果要移动的元素具有相同的宽度，我知道如何部分执行此操作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:57:29.967

是的，你会想试试[Gridster](http://gridster.net)！

# hadoop - 获取配置单元脚本的 _SUCCESS 文件

> ID：13082606
> 
> 赞同：4
> 
> 时间：2012-10-26T07:25:57.703
> 
> 标签：hadoop, mapreduce, workflow, hive, oozie

> **可能重复：**
> [在 oozie 中覆盖 hadoop 的 mapreduce.fileoutputcommitter.marksuccessfuljobs](https://stackoverflow.com/questions/13017433/override-hadoops-mapreduce-fileoutputcommitter-marksuccessfuljobs-in-oozie)

我正在尝试从 oozie 工作流程运行配置单元脚本。“mapreduce.fileoutputcommitter.marksuccessfuljobs”属性已设置为true，但他的配置单元脚本覆盖了它，因此，我没有得到成功文件。有没有办法可以在我的配置单元脚本中配置相同的属性或任何其他方式来克服这种情况？

```
<property>
<name>mapreduce.fileoutputcommitter.marksuccessfuljobs</name>
<value>true</value>
</property> 
```

在作业跟踪器中，它表示 hive 的“mapreduce.fileoutputcommitter.marksuccessfuljobs”属性设置为 true，但最终输出位置中仍然没有可用的 _success 文件

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-09T22:02:52.117

这是不可能的，因为 hive 用它自己的 NullOutputCommitter 覆盖了 OutputCommitter。请参阅此处的欺骗问题：

[在 oozie 中覆盖 hadoop 的 mapreduce.fileoutputcommitter.marksuccessfuljobs](https://stackoverflow.com/questions/13017433/override-hadoops-mapreduce-fileoutputcommitter-marksuccessfuljobs-in-oozie)

# graph - 任何可以输出具有透明绘图背景的 .png 的 php 图形框架？

> ID：13082613
> 
> 赞同：1
> 
> 时间：2012-10-26T07:26:22.200
> 
> 标签：graph, graphing, php

作为制作折线图的示例，图后面有透明背景......

最好使用抗锯齿线...

这样生成的 .png 图形可以更有用，更容易与其他内容等融合......

我知道 php gd 等可以输出透明的背景图像......这不正是我在这里要求的：我最接近的是使用 jpgraph for php，然后将图像输出返回到 php gd 并制作白色背景透明并将其输出为具有 alpha 背景的 .png 图像。虽然它真的很难看，因为 grpah 线条将在白色背景上进行抗锯齿处理，使这些线条仍然有白色/（线条中的任何颜色残留物）的痕迹，并且 php gd 等并不完全提供 Photoshop 工具来掩盖和羽化脏像素。

到目前为止，我什么也没找到。他们似乎都想默认为白色背景或其他指定的颜色/背景图像。没有阿尔法通道。我只是没有时间或知识来制作一个完整的库来制作图表

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:40:55.693

您可以使用提供此功能的融合图表通过这样的设置来提供生成图形的透明`bgAlpha='0'`背景

```
<chart bgColor='999999,FFFFFF' bgAlpha='0' ...> 
```

此外，您可以使用他们的[文档](http://docs.fusioncharts.com/charts/?/AttDesc/Background.html)进行更多自定义。

您还可以通过设置以下参数来使用 Dojo Charts (Free)

```
programmersChart.surface.rawNode.childNodes[1].setAttribute('fill-opacity','0'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T08:19:54.007

您可以为此使用[ezcGraph](http://ezcomponents.org/docs/api/latest/classtrees_Graph.html)。

> Graph 组件使您能够创建折线图、饼图和条形图。输出驱动机制允许您从每个图表创建不同的图像类型，并且可用的渲染器使图表输出可定制，从简单的二维图表到漂亮的三维数据投影。

从他们的教程页面：

> 每种未定义的颜色将默认为透明白色。正如您在示例定义中所见，您可以在颜色的正常 RGB 值旁边定义 alpha 值。

其中一个例子是这样的：

```
require_once 'tutorial_autoload.php';
require_once 'tutorial_custom_palette_palette.php';
$wikidata = include 'tutorial_wikipedia_data.php';
$graph = new ezcGraphBarChart();
$graph->palette = new tutorialCustomPalette();
$graph->title = 'Wikipedia articles';
// Add data
foreach ( $wikidata as $language => $data )
{
$graph->data[$language] = new ezcGraphArrayDataSet( $data );
}
$graph->data['German']->displayType = ezcGraph::LINE;
$graph->options->fillLines = 210;
$graph->render( 400, 150, 'tutorial_custom_palette.svg' ); 
```

并会产生像

![透明条形图](../Images/3107892e6c0901a70c548d328dacebeb.png)

如果您更改此页面的背景颜色，您将看到图像是透明的。

# ui-automation - 如何在一次运行中运行多个 .trace 文件，即在 UI 自动化工具中一个接一个地运行？

> ID：13082614
> 
> 赞同：0
> 
> 时间：2012-10-26T07:26:25.927
> 
> 标签：ui-automation, ios-ui-automation

我有五个 .trace 文件，现在我想一键运行所有测试用例。怎么做到呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-31T07:33:35.050

您必须从 .trace 文件中复制所有内容并将其保存在 testEditor 中，如 .js 文件。之后，您可以使用您的 .js 文件，例如 #import ".../fileName.js"

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-05T19:49:00.550

我建议不要将脚本文件嵌入单独的跟踪文档中，而是将脚本放入单独的文本文件中，然后使用一个主脚本文件来导入它们，如下所示：

```
// In master.js
#import "test1.js"
#import "test2.js"
// etc… 
```

因此，其他文件（test1.js、test2.js 等）包含您的实际测试用例。现在，您可以从左侧边栏脚本面板中的“添加”按钮中选择“导入”，然后选择您的`master.js`文件。运行时，它将导入所有其他脚本文件并按顺序运行它们。

# c - 如何在 C 中访问 Struct 变量中的指针成员？

> ID：13082615
> 
> 赞同：7
> 
> 时间：2012-10-26T07:26:26.930
> 
> 标签：c, data-structures

我对 C 并不陌生，但我刚刚发现了一个我必须处理的问题。如何访问作为指向另一个结构的指针的结构成员？

前任。

```
typdef struct {
   int points;
} tribute;

typedef struct {
    int year;
    tribute *victor;
} game;

int main(){
  tribute myVictor;
  myVictor.points = 10;  

  game myGame;
  myGame.year = 1994; // Runs fine
  myGame.victor = myVictor; // I want to point the victor member of the game struct to 
                            //myVictor object... But it gives me an error
} 
```

我怎么能纠正这个？我知道我应该将 myGame 变量作为指针。但我问我是否可以在普通的结构变量中执行此操作。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-26T07:27:22.803

尝试：

```
myGame.victor = &myVictor; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:30:45.783

这个问题与结构本身无关。您只是试图将数据变量复制到指针中，这是无效的。而不是`myGame.victor = myVictor;`，让 myGame.victor 指向 myVictor 的*地址*。

`myGame.victor = &myVictor;`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T07:31:38.127

如果要指向 victor 成员，则应传递 victor 指针（地址，内存方向，...）。

所以，它应该是：

```
myGame.victor = &myVictor; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-26T07:32:07.407

```
typdef struct {
   int points;
} tribute;

typedef struct {
    int year;
    tribute *victor;
} game;

int main(){
  tribute myVictor;
  myVictor.points = 10;  

  game myGame;
  myGame.year = 1994; 
  myGame.victor = &myVictor; 
} 
```

这`victor`是一个`pointer`to`tribute`所以你需要 在你的代码的最后一行提供所以错误是正确`address`的`myvictor`

在最后一行更改为：`myGame.victor=&myVictor`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-26T07:34:22.990

游戏结构的胜利者是指针。所以你应该分配 myVictor 的地址。像这样的东西：

```
myGame.victor = &myVictor;
printf("Points is: %d",myGame.victor->points); 
```

# c++ - Qt Object::connect: No such slot Signal to Thread Slot

> ID：13082616
> 
> 赞同：0
> 
> 时间：2012-10-26T07:26:28.630
> 
> 标签：c++, qt, signals-slots

当线程启动但收到此错误时，我尝试在线程对象中调用 Slot：

```
Object::connect: No such slot Worker::doWork(pFoo) 
```

线程执行代码：

```
// main class   

            m_WorkerThread = new QThread();

             FooStack* pfooStack = InternalStorageManager::getInstance()->getStack();
             m_Worker = new Worker();
             bool done = connect(m_WorkerThread,
                                    SIGNAL(started()),
                                    m_Worker,
                                    SLOT(doWork(pfooStack))); 

             m_Worker->moveToThread(m_WorkerThread);          
             m_WorkerThread->start();

// class Worker
 // cpp imple            
void Worker::doWork(FooStack *& rp_urlsStack)
{

}
// header 
class Worker : public QObject
{

    Q_OBJECT

    public :

        Worker();
        ~Worker();
    public slots:
        void doWork(FooStack *&);

}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:33:08.577

```
Object::connect: No such slot Worker::doWork(pFoo) 
```

您不能在连接声明中传递对象。

你不能传入`pfooStack`构造`Worker`函数吗？

**编辑：**

```
class Main : ...
{
    ...
    void startThread();  // The method in your example.
private slots:
     void startWork();
    ...
};

void Main::startThread()
{
     m_WorkerThread = new QThread();
     m_Worker = new Worker();
     bool done = connect(m_WorkerThread, SIGNAL(started()),
                         this, SLOT(startWork())); 

     m_Worker->moveToThread(m_WorkerThread);          
     m_WorkerThread->start();
}

void Main::startWork()
{
     m_Worker->doWork(InternalStorageManager::getInstance()->getStack());
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:38:36.603

我没有在我的电脑上编译代码，但它应该暗示你需要什么：

```
 m_WorkerThread = new QThread();

             FooStack* pfooStack = InternalStorageManager::getInstance()->getStack();
             m_Worker = new Worker(pfooStack);
             bool done = connect(m_WorkerThread,
                                    SIGNAL(started()),
                                    m_Worker,
                                    SLOT(doWork())); 

             m_Worker->moveToThread(m_WorkerThread);          
             m_WorkerThread->start();

void Worker::doWork()
{
      //use stack here
}

class Worker : public QObject
{

    Q_OBJECT

    public :

        Worker(FooStack *& rp_urlsStack):stack(rp_urlsStack);
        ~Worker();
    public slots:
        void doWork();
    private:
        FooStack*& stack;

}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T07:56:08.730

你不能那样做，你不能在connect中将当前变量作为槽方法参数传递，槽不能有比信号更多的参数。除了其他答案之外，您还可以使用[QSignalMapper](http://doc.qt.digia.com/qt/qsignalmapper.html)来实现这一点，但如果您只有一个与插槽的连接，那似乎有点过头了。

如果您可以使用 Qt5 和 C++11，那么您可以将信号连接到 lambda 函数，而不仅仅是插槽，但我不确定这是否支持创建闭包（即使用 lambda 函数中的局部变量，你需要在这里）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-26T07:34:44.150

我认为您需要更改信号和插槽签名。来自 QT 文档：

> 关于是否在 SIGNAL() 和 SLOT() 宏中包含参数的规则，如果参数具有默认值，则传递给 SIGNAL() 宏的签名的参数不得少于传递给 SLOT 的签名() 宏。

# android - 如何在移动时缩放位图？

> ID：13082618
> 
> 赞同：2
> 
> 时间：2012-10-26T07:26:42.420
> 
> 标签：android

触摸时我创建并移动位图。现在我想在移动时缩放位图。我如何带来这种效果？我使用精灵对象来移动它。我想创造一种射击的错觉。我想这应该通过逻辑来实现。

```
public class SpriteObject {

    private Bitmap bitmap;
    private int x;      
    private int y;  
    private int x_move = 0;
    private int y_move = -1;

    public SpriteObject(Bitmap bitmap, int x, int y) {
        this.bitmap = bitmap;
        this.x = x;
        this.y = y;
    }

    public int getX() {
        return x;
    }

    public int getY() {
        return y;
    }

    public Bitmap getBitmap() {
        return bitmap;
    }

    public void setMoveX(int movex){
        x_move = movex;
    }
    public void setMoveY(int movey){
        y_move = movey;
    }
    public void setX(int x) {
        this.x = x;
    }

    public void setY(int y) {
        this.y = y;
    }
    public void setBitmap(Bitmap bitmap) {
        this.bitmap = bitmap;
    }

    public void draw(Canvas canvas) {
        canvas.drawBitmap(bitmap, x - (bitmap.getWidth() / 2), y - (bitmap.getHeight() / 2), null);
    }

    public void update(int adj_mov) {
            x += (adj_mov * x_move);
            y += (adj_mov * y_move);

    }
    public void still(int adj_still) {
        x += (adj_still * x_move);
        y += (adj_still * y_move);

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T10:43:17.580

请试试这个：

```
int h = 100; // height in pixels
int w = 100; // width in pixels

Bitmap photoBitmap = Bitmap.createScaledBitmap(yourSelectedImageBitmap, h, w,true); 
```

# python - 如何打印带有数千个分隔符的浮点数？

> ID：13082620
> 
> 赞同：23
> 
> 时间：2012-10-26T07:26:58.030
> 
> 标签：python, format, decimal

如何格式化十进制数字以便`32757121.33`显示为`32.757.121,33`？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-10-26T07:31:47.690

使用[`locale.format()`](http://docs.python.org/library/locale.html#locale.format)：

```
>>> import locale
>>> locale.setlocale(locale.LC_ALL, 'German')
'German_Germany.1252'
>>> print(locale.format('%.2f', 32757121.33, True))
32.757.121,33 
```

您可以将区域设置更改限制为数值的显示（使用 等时`locale.format()`）`locale.str()`，而其他区域设置不受影响：

```
>>> locale.setlocale(locale.LC_NUMERIC, 'English')
'English_United States.1252'
>>> print(locale.format('%.2f', 32757121.33, True))
32,757,121.33
>>> locale.setlocale(locale.LC_NUMERIC, 'German')
'German_Germany.1252'
>>> print(locale.format('%.2f', 32757121.33, True))
32.757.121,33 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-10-26T16:02:37.537

我找到了另一个解决方案：

```
'{:,.2f}'.format(num).replace(".","%").replace(",",".").replace("%",",") 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-10-26T14:49:06.560

如果由于某种原因不能或不想使用`locale`，也可以使用正则表达式：

```
import re
def sep(s, thou=",", dec="."):
    integer, decimal = s.split(".")
    integer = re.sub(r"\B(?=(?:\d{3})+$)", thou, integer)
    return integer + dec + decimal 
```

`sep()`采用标准 Python 浮点数的字符串表示形式，并使用自定义的千位和小数分隔符返回它。

```
>>> s = "%.2f" % 32757121.33
>>> sep(s)
'32,757,121.33'
>>> sep(s, thou=".", dec=",")
'32.757.121,33' 
```

**解释：**

```
\B      # Assert that we're not at the start of the number
(?=     # Match at a position where it's possible to match...
 (?:    #  the following regex:
  \d{3} #   3 digits
 )+     #  repeated at least once
 $      #  until the end of the string
)       # (thereby ensuring a number of digits divisible by 3 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-12-07T16:12:56.060

```
>>> import locale

>>> locale.setlocale(locale.LC_ALL, 'en_GB.UTF-8')
'en_GB.UTF-8'
>>> print(locale.format_string('%.2f', 12742126.15, True))
12,742,126.15 
```

此示例代码适用于 docker 容器中的 GB。

```
FROM python:3.8.2-slim-buster

RUN apt-get update && apt-get install -y locales && \
    sed -i -e 's/# en_GB.UTF-8 UTF-8/en_GB.UTF-8 UTF-8/' /etc/locale.gen && \
    dpkg-reconfigure --frontend=noninteractive locales

ENV LANG en_GB.UTF-8
ENV LC_ALL en_GB.UTF-8 
```

可以通过在终端上运行以下命令来找到语言环境 (Linux Dirstro)

```
locale -a 
```

然后出现完整的语言环境列表：

```
en_AG.utf8
en_AU.utf8
...
en_GB.utf8
... 
```

# xcode - XCode 中的 __FILE__ 和 __LINE__ 预定义宏

> ID：13082622
> 
> 赞同：0
> 
> 时间：2012-10-26T07:27:21.557
> 
> 标签：xcode, memory-leaks, macros, operator-overloading, new-operator

有没有办法在 XCode中实现**FILE**、**LINE Visual Studio 宏的功能？**重载 new 和 delete 以查找泄漏是必需的，其中包含有关在哪个文件和行中有内存分配的信息。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:34:28.073

你试过`__FILE__`吗`__LINE__`？他们应该在 Xcode 中工作。

以下对我有用：

```
NSLog(@"%s %d", __FILE__, __LINE__); 
```

您也可能会发现它也`__PRETTY_FUNCTION__`很有用。

# java - 构建 jar 后从数据库中添加图像

> ID：13082631
> 
> 赞同：0
> 
> 时间：2012-10-26T07:27:53.247
> 
> 标签：java

所以，我有一个读取 MySQL 数据库的 java 程序。它从那里读取很多东西，其中之一是图像的路径。

有没有办法可以在这个数据库中添加一个图像路径并让一个构建的 jar 显示它而不重建？

# sql - 如何计算当月员工的阅读量

> ID：13082632
> 
> 赞同：0
> 
> 时间：2012-10-26T07:27:54.163
> 
> 标签：sql, oracle, date, view, count

我正在尝试研究如何为我的数据库制作此视图

每个抄表员在当月读取的抄表数（此视图应该能够随时使用，而无需更改以适应日期）。

我遇到的主要麻烦是计算员工在一个月内读了多少次电表。我正在使用 oracle 和 sql 开发人员。

这些是我的表：

```
a2_METERREADER

 - EMPLOYEEID
 - FIRSTNAME
 - LASTNAME

a2_READING

 - READINGID
 - METERID
 - EMPLOYEEID
 - BILLNUMBER
 - READING
 - DATERECORD

a2_Watermeter

 - METERID
 - ADDRESS
 - SUBURB
 - POSTCODE
 - STATUS
 - CUSTOMERID
 - REPLACE
 - INSTALLDATE 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:38:47.490

您需要加入读表器和读表并计算行数，按相关月份的员工分组。

这些方面的东西：

```
SELECT reader.EMPLOYEEID, COUNT(reading.READINGID)
FROM a2_METERREADER reader, a2_READING reading
WHERE reader.EMPLOYEEID = reading.EMPLOYEEID
AND YEAR(reading.DATERECORD) = YEAR(SYSDATE)
AND MONTH(reading.DATERECORD) = MONTH(SYSDATE)
GROUP BY reader.EMPLOYEEID 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:56:58.080

如果您的日期记录是 DATE，那么要从 Windows 访问当前月份，您可以执行此操作。

```
SELECT EMPLOYEEID, COUNT(*)
FROM a2_READING
WHERE TO_CHAR(DATERECORD, 'MM/YYYY') = TO_CHAR(SYSDATE, 'MM/YYYY')
GROUP BY EMPLOYEEID 
```

这样您就可以从 DATERECORD 中删除日期（仅保留月份和年份），并且它必须与 SYSDATE（当前日期）相同，再次转换为保留月份和年份。

如果您只需要 ID，则不需要加入 METERREADER 表

# c# - 如何在 Windows 8 中使用密码解压缩 zip

> ID：13082633
> 
> 赞同：-3
> 
> 时间：2012-10-26T07:28:02.337
> 
> 标签：c#, windows-8, zipfile

我有一个 zip 密码文件并且知道这个密码。我需要在 Windows 8 Metro 应用程序代码中打开这个 zip 文件。但`System.IO.Compression.ZipArchive`在 Windows 8 Metro 应用程序代码中不支持带密码的 zip。

还有其他方法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:50:05.553

使用[SharpZipLib](http://www.icsharpcode.net/OpenSource/SharpZipLib)

```
SharpZipLibZip.Zip.FastZip zip = new ICSharpCode.SharpZipLib.Zip.FastZip();
zip.Password = "password";
zip.CreateZip(zipfilename, "temp\\", true, null, null); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:50:52.800

我使用 [DotNetZip](http://dotnetzip.codeplex.com/)。

可以像这样使用密码解压缩（来自 c# 示例页面）：

```
using (ZipFile zip = ZipFile.Read(ExistingZipFile))
{
    ZipEntry e = zip["TaxInformation-2008.xls"];
    e.ExtractWithPassword(BaseDirectory, Password);
} 
```

# c++ - boost::is_enum 它是如何工作的？

> ID：13082635
> 
> 赞同：7
> 
> 时间：2012-10-26T07:28:15.537
> 
> 标签：c++, boost, typetraits

我很感兴趣这个东西在理论上是如何工作的。例子：

```
#include <boost/type_traits/is_enum.hpp>
#include <iostream>

enum foo 
{
    AAA,
    BBB
};

typedef foo bar;

struct sfoo {
    enum bar {
        CCC
    };
};

int main()
{
    std::cout << boost::is_enum<foo>::value << "\n";        // 1
    std::cout << boost::is_enum<bar>::value << "\n";        // 1
    std::cout << boost::is_enum<sfoo>::value << "\n";       // 0
    std::cout << boost::is_enum<int>::value << "\n";        // 0
    std::cout << boost::is_enum<sfoo::bar>::value << "\n";  // 1
    return 0;
} 
```

我尝试探索源代码，但太难了（宏 + 模板代码导航失败）。有人可以对它的工作原理进行理论探索吗？我不知道如何实现它。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-26T07:49:38.097

您会遇到很多宏，因为 Boost 在它支持的所有平台的编译器内在函数之间切换。例如，Visual C++ 定义了if是 an ，否则`__is_enum(T)`返回。MSDN[列出](http://msdn.microsoft.com/en-us/library/ms177194.aspx)了 Visual C++ 为支持类型特征而实现的此类内在函数。`true``T``enum``false`

[`is_enum`](http://en.cppreference.com/w/cpp/types/is_enum)现在是 C++11 的一部分，并且包含在`type_traits`标头中。浏览您的标准库实现很可能比 Boost 标头更容易。

**编辑：**
我找到了 Boost 实现；它位于`<boost_path>\boost\type_traits\intrinsics.hpp`。在此文件中搜索此文件`BOOST_IS_ENUM`，您将看到由各种编译器实现的编译器内在函数。有趣的是，他们似乎都将这个特定的实现为`__is_enum(T)`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:45:17.677

`boost::is_enum` is implemented like `std::is_enum`. It requires some compiler magic. Check the following link which has the same question, and an implementation: [is_enum implementation](https://stackoverflow.com/questions/11316912/is-enum-implementation)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T08:07:50.623

我没有详细遵循 Boost 代码，但它似乎使用了简单的消除：枚举不是算术（内置整数和浮点类型和指针），不是引用，不是函数，不是一个类或联合，而不是一个数组。

# r - 当匹配列的行只有一个唯一值时，为什么合并会产生意外结果？

> ID：13082638
> 
> 赞同：1
> 
> 时间：2012-10-26T07:28:25.253
> 
> 标签：r

当我说出乎意料时，我的意思是对我来说出乎意料。请允许我举例说明。我们有两个data.frames：

```
b1<-data.frame(a=c("a","b"),b=1:2)
b2<-data.frame(a=c("a","b"),c=1:2) 
```

合并产生以下

```
> merge(b1,b2)
  a b c
1 a 1 1
2 b 2 2 
```

但是当我们有 data.frames

```
b1<-data.frame(a=c("a","a"),b=1:2)
b2<-data.frame(a=c("a","a"),c=1:2) 
```

合并产生

```
> merge(b1,b2)
  a b c
1 a 1 1
2 a 1 2
3 a 2 1
4 a 2 2 
```

当我期待

```
 a b c
  a 1 1
  a 2 2 
```

为什么会出现两种不同的结果？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:43:36.207

This is by design. base `merge` uses `match` on columns specified (or not specified). In case 1, it found only a single match for each value of `a` so there were no duplicates. But in case 2, it found two matches:

```
> b1$a %in% b2$a 
[1] TRUE TRUE 
```

for each a and therefore returned all possible matches. See `?merge` for more information. `join` in `plyr` has the option of matching only the first match.

```
> join(b1,b2, match="first")
Joining by: a
  a b c
1 a 1 1
2 a 2 1 
```

# java - 如何在Java图形中缩放期间存储临时bufferedImage

> ID：13082639
> 
> 赞同：1
> 
> 时间：2012-10-26T07:28:25.347
> 
> 标签：java, swing, graphics2d

我想使用渐进式双三次方法将大型 1920x1080 缓冲图像缩放为较小的 200x200 尺寸。我从 1024x768 开始并缩小到原始图像的近 80%，然后想以某种格式将此临时图像存储在某处，以便在下一次迭代中我再次在此图像上执行缩放到 80% 并继续该过程直到我获得 200x200我最终在我的 JFrame 上显示的图像。

存储此临时图像的方法或方式是什么？或者任何人都可以建议一种简单的方法来实现这种渐进式双三次缩放。

预期的代码看起来与此类似（虽然它需要各种修改，但我只需要存储临时图像的方式）

```
int sizew=1920,sizeh=1080;
    int deltaw = (int)(0.20 *1920);
    int deltah= (int)(0.20*1920);
    while(sizew>200&&sizeh>200)
    {
        sizew=sizew-deltaw;
        sizeh=sizeh-deltah;
        if(sizew<200||sizeh<200)
        {
            sizew=200;
            sizeh=200;
            temp=new BufferedImage(sizew,sizeh,BufferedImage.TYPE_INT_RGB);
                    //but using this how would i give reference to my original 1920x1080 image or temp image???
            break;
        }
        else
            temp=new BufferedImage(sizew,sizeh,BufferedImage.TYPE_INT_RGB);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T14:10:31.293

绝非易事；这是蛮力方法的概述：

使用适合源的可用方法将图像平铺成可管理的部分，例如

*   Java `getSubImage()`，在[这里](https://stackoverflow.com/a/3078354/230513)看到。
*   [Ossim](http://en.wikipedia.org/wiki/OSSIM)，专为大地测量数据而设计，但可用于图像。

根据预期用途对瓷砖重新取样，例如

*   `AffineTransform`，在[这里](https://stackoverflow.com/a/4216635/230513)看到，使用`TYPE_NEAREST_NEIGHBOR`.
*   [`ImageJ`](https://stackoverflow.com/tags/imagej/info)，这可能是[脚本化](https://stackoverflow.com/a/12590571/230513)的。

重新组装瓷砖；方法取决于目的地。

# android - 像 SKOUT 这样的菜单和在 Android 中通过触摸从一个视图滑动到另一个视图

> ID：13082640
> 
> 赞同：29
> 
> 时间：2012-10-26T07:28:26.240
> 
> 标签：android, android-layout, android-fragments, android-viewpager, slidingdrawer

我想实现一个滑动菜单，如 FB 或 G+ 应用程序，我从[FB Menu Demo](https://github.com/gitgrimbo/android-sliding-menu-demo)和[https://github.com/jfeinstein10/SlidingMenu中找到了一些示例代码](https://github.com/jfeinstein10/SlidingMenu)

这些都是好的开始，但我需要从他们那里得到一些额外的东西。就像这里一样，它只能在单击菜单按钮时起作用，但我也想通过手势来移动它。我想要有一个中心视图的行为，并且在将该中心向右移动时，将出现一个视图，而在向左移动时，将出现菜单。假设有三个视图 A、B、C，当我向左滑动 C 时出现 A，当我向右滑动 C 时出现 B。C在A和B的中间。

1.中间视图向右移动

![那个屏幕在中间](../Images/784b32d77c148476a6b86fbedbc8aa2a.png)向右移动 ![出现菜单](../Images/e81d32c783e5217694f463ba2a6751e0.png)

2.将中间视图向左移动

![通过触摸向左移动](../Images/b0db73b52a55ae7e1913134d7b8e47fd.png) 向左移动![第三视图](../Images/3733fe0a0af5a713fd4397375e310a3c.png)

现在我的问题是：发展这样的观点的最佳实践是什么。我从某人那里听说我也应该使用 Fragments 和 View pager。那么我该如何开发呢？是否有人做过任何示例实现？任何帮助和建议表示赞赏。

作为参考，请参阅此应用程序，它使用这种类型的滑动黑白视图[Skout 应用程序](https://play.google.com/store/apps/details?id=com.skout.android&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5za291dC5hbmRyb2lkIl0.)

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-29T18:38:06.557

最简单的解决方案可能是使用[android-undergarment](https://github.com/eddieringle/android-undergarment)，它内置了边框滑动，基于项目 README：

> 用户还可以通过从屏幕左侧滑动边框以打开抽屉并从右侧进行相同操作以关闭它来控制抽屉。如果你想阻止这种触摸功能，你可以调用 setDrawerEnabled(false)。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-11-02T09:21:29.947

您可以简单地`TranslateAnimation`在要移动的视图上使用淡出弹出窗口和菜单弹出窗口。我已经在我的应用程序中实现了它，它就像一个魅力。
![此图像显示您何时需要动画和其他组件](../Images/d478c837e12b89e60869fe584871e169.png)

**代码**：

```
public class SlidingOptionsMenuActivity extends Activity {

    /**
     * Signifies that the menu is already visible
     */
    boolean alreadyShowing = false;
    /**
     * Width of the current window
     */
    private int windowWidth;
    /**
     * Height of the current window
     */
    private int windowHeight;
    /**
     * Reference of the {@link PopupWindow} which dims the screen
     */
    private PopupWindow fadePopup;
    /**
     * The translate animation
     */
    private Animation ta;
    /**
     * The view which needs to be translated
     */
    private RelativeLayout baseView;
    /**
     * Reference of the {@link LayoutInflater}
     */
    LayoutInflater inflater;

    /*
     * (non-Javadoc)
     * 
     * @see android.app.Activity#onCreate(android.os.Bundle)
     */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        Display display = getWindowManager().getDefaultDisplay();
        windowWidth = display.getWidth();
        windowHeight = display.getHeight();
        inflater = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        findViewById(R.id.btnOptions).setOnClickListener(new OnClickListener() {

            /*
             * (non-Javadoc)
             * 
             * @see android.view.View.OnClickListener#onClick(android.view.View)
             */
            @Override
            public void onClick(View v) {
                if(!alreadyShowing){
                    alreadyShowing = true;
                    openSlidingMenu();
                }
            }
        });
    }

    /**
     * Fades the entire screen, gives a dim background
     */
    private void showFadePopup() {
        final View layout = inflater.inflate(R.layout.fadepopup, (ViewGroup) findViewById(R.id.fadePopup));
        fadePopup = new PopupWindow(layout, windowWidth, windowHeight, false);
        fadePopup.showAtLocation(layout, Gravity.NO_GRAVITY, 0, 0);
    }

    /**
     * Opens the sliding Menu
     */
    private void openSlidingMenu() {
        showFadePopup();
        // The amount of view which needs to be moved out. equivalent to the
        // width of the menu
        int width = (int) (windowWidth * 0.6f);
        translateView((float) (width));
        int height = LayoutParams.FILL_PARENT;
        // creating a popup
        final View layout = inflater.inflate(R.layout.option_popup_layout,(ViewGroup) findViewById(R.id.popup_element));

        final PopupWindow optionsPopup = new PopupWindow(layout, width, height, true);
        optionsPopup.setBackgroundDrawable(new PaintDrawable());

        optionsPopup.showAtLocation(layout, Gravity.NO_GRAVITY, 0, 0);

        optionsPopup.setOnDismissListener(new PopupWindow.OnDismissListener() {

            public void onDismiss() {
                //Removing the fade effect
                fadePopup.dismiss();    
                //to clear the previous animation transition in
                cleanUp();
                //move the view out
                translateView(0);
                //to clear the latest animation transition out
                cleanUp();
                //resetting the variable
                alreadyShowing = false;
            }
        });
    }

    /**
     * This method is responsible for view translation. It applies a translation
     * animation on the root view of the activity
     * 
     * @param right The position to translate to
     */
    private void translateView(float right) {

        ta = new TranslateAnimation(0f, right, 0f, 0f);
        ta.setDuration(300);
        ta.setFillEnabled(true);
        ta.setFillAfter(true);

        baseView = (RelativeLayout) findViewById(R.id.baseView);
        baseView.startAnimation(ta);
        baseView.setVisibility(View.VISIBLE);
    }

    /**
     * Basic cleanup to avoid memory issues. Not everything is release after
     * animation, so to immediately release it doing it manually
     */
    private void cleanUp(){
        if (null != baseView) {
            baseView.clearAnimation();
            baseView = null;
        }
        if (null != ta) {
            ta.cancel();
            ta = null;
        }
        fadePopup = null;
    }
} //END of Class
//END of file 
```

希望这会有所帮助。

![实际截图。](../Images/d2e35b109fb864945a7533fb3b59df65.png)

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-11-02T00:34:22.427

我发现另一个非常好的开源库是[SlidingMenu](https://github.com/jfeinstein10/SlidingMenu)。它应该适合您的需求，因为您可以通过单击“菜单”和滑动边框来打开和关闭抽屉。我发现将它与 ActionBar 库（如[ActionBarSherlock](http://actionbarsherlock.com/)或[johannilsson 的 android-actionbar](https://github.com/johannilsson/android-actionbar)库）集成在一起，只需在库项目中更改一两行代码即可。SlidingMenu 库的自述文件解释了如何与 ABSherlock 库集成。

值得注意的是，SlidingMenu 示例项目演示了许多不同的抽屉打开关闭动画。这些是我见过的这种风格的菜单/导航的一些最好的动画。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2017-06-21T11:53:37.347

有一种官方方式...有用且轻巧（通过使用 v4 支持库）：

## 创建导航抽屉：

[https://developer.android.com/training/implementing-navigation/nav-drawer.html](https://developer.android.com/training/implementing-navigation/nav-drawer.html)

# excel - 如何防止数字在 Excel 中转换为日期？

> ID：13082641
> 
> 赞同：3
> 
> 时间：2012-10-26T07:28:27.563
> 
> 标签：excel

我正在尝试将粘贴数字数据从数据库复制到 Excel。在数据库中，小数点分隔符是点 (.)，而在我的 Excel 中，小数点分隔符是逗号 (,)。现在，当我将此数据从数据库复制粘贴到 Excel 时，数字数据将转换为日期。如何防止这种情况并将数据转换为数字（使用逗号小数分隔符）？

数据：

```
1.2
1.3
1.4 
```

转换为（在我的语言环境中）

```
1.helmi
1.maalis
1.huhti 
```

虽然应该是

```
1,2
1,3
1,4 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T11:43:06.393

我使用 Notepad++ 完成此任务：将数据复制到 notepad++ 替换“。” 用“，”复制到excel。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T11:28:33.060

是的，有时这真的很痛苦——我的快速解决方案是使用格式化为文本的单元格。

下面是它的工作原理：

*   用`.`
*   选择一列或一些单元格
*   将单元格格式更改为*文本*
*   现在粘贴特殊（或粘贴内容）为无格式/纯文本
*   现在替换`.`为`,`
*   现在将格式更改回*数字*或*默认值*

你当然可以把它放在一些宏中。

但是，我认为可能（或至少应该）有更好的解决方案。

但作为一个快速的人，这也很有效；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-01T13:20:50.153

首先标记要粘贴到的单元格。右键单击“格式”，然后选择“数字”。

现在右键单击粘贴，然后选择“匹配目标格式”

您的文本现在将再次粘贴为数字:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-06-14T15:37:48.053

1.  打开微软 Word
2.  从网络粘贴您的数据
3.  打开excel
4.  全部格式化为文本
5.  从单词中复制所有内容 (Ctr+A)
6.  在 Excel 中将特殊粘贴为文本 vuala！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-10-10T16:57:32.020

微软建议将单元格格式化为文本并在此之后粘贴值：https:
[//support.office.com/en-us/article/stop-automatically-sharing-numbers-to-dates-452bd2db-cc96-47d1-81e4-72cec11c4ed8](https://support.office.com/en-us/article/stop-automatically-changing-numbers-to-dates-452bd2db-cc96-47d1-81e4-72cec11c4ed8)

# ios - uisplitviewcontroller segue 到另一个 uisplitviewcontroller

> ID：13082643
> 
> 赞同：0
> 
> 时间：2012-10-26T07:28:41.907
> 
> 标签：ios, uisplitviewcontroller, segue

我知道 UISplitViewController 只能用作根控制器。但是可以从一个拆分视图转到另一个拆分视图吗？

像加载具有不同数据和布局的详细视图和主视图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-12T09:16:57.117

它本身不是一个 segue，但它确实改变了另一个视图控制器：

```
AppDelegate *app = (AppDelegate *)[[UIApplication sharedApplication] delegate];
app.window.rootViewController = [self.storyboard instantiateViewControllerWithIdentifier:@"HomeViewController"]; 
```

其中@"HomeViewController" 是情节提要上 UISplitViewController 的情节提要 ID。

# email - 在我的应用程序中没有为某些用户获取 Facebook 电子邮件 ID

> ID：13082647
> 
> 赞同：1
> 
> 时间：2012-10-26T07:29:08.610
> 
> 标签：email, facebook-graph-api

我正在使用应用程序访问令牌来获取用户信息

[https://graph.facebook.com/100003159076005?fields=friends,email,username&access_token=XXXXXXXXXX](https://graph.facebook.com/100003159076005?fields=friends,email,username&access_token=XXXXXXXXXX)。

[对https://graph.facebook.com/100000122482221?fields=friends,email,username&access_token=XXXXXXXX](https://graph.facebook.com/100000122482221?fields=friends,email,username&access_token=XXXXXXXX)使用相同的模式 我可以获取用户 emailid

问题是，我无法为所有用户获取 emailid。

谢谢

罗希特·班萨尔

# ruby - 如何在 Watir 中模拟私人浏览体验？（硒）

> ID：13082656
> 
> 赞同：2
> 
> 时间：2012-10-26T07:30:12.090
> 
> 标签：ruby, watir, watir-webdriver, privacy

Watir 是一个基于 Selenium 的黑盒测试工具，可以在浏览器上自动执行任务。

我希望能够打开一个处于隐私浏览模式的 Watir::Browser.new。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T14:38:23.753

对于 Firefox（我不确定其他浏览器），您可以将配置文件设置为启用隐私浏览：

```
profile = Selenium::WebDriver::Firefox::Profile.new
profile['browser.privatebrowsing.dont_prompt_on_enter'] = true
profile['browser.privatebrowsing.autostart'] = true
b = Watir::Browser.new :firefox, :profile => profile 
```

这是来自[https://github.com/watir/watir-webdriver/issues/95](https://github.com/watir/watir-webdriver/issues/95)的解决方案。它似乎工作（至少主菜单说它是私人浏览）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-12-09T23:51:10.983

对于铬

`browser = Watir::Browser.new :chrome, switches: ['--incognito']`

# c# - 如何在sqlite中为自动增量字段提供获取和设置

> ID：13082657
> 
> 赞同：0
> 
> 时间：2012-10-26T07:30:17.843
> 
> 标签：c#, sqlite, windows-phone-7

我正在使用 sqlite 在 wp7 中开发数据库应用程序，其中我将 sno 设置为自动增量主键。在该应用程序中，我使用辅助实用程序和另一个可以使用 get 和 set 属性的类。如果我为 sno 使用 get 和 set 属性，它总是设置到 0，当我第二次插入记录时引发异常，因为**约束失败**。如果我从类中删除 Sno 属性，它工作正常，但我无法在列表框中显示 sno，因为它不存在于类中，如果我只使用 get 属性异常被抛出为

> 错误 2 'Sample.Data.Case.SNo.get' 必须声明一个主体，因为它没有标记为抽象或外部。自动实现的属性必须同时定义 get 和 set 访问器。

我不知道如何解决这个问题。请给我一个解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:17:04.760

要获取记录中的[SQLite 自动增量值](http://www.sqlite.org/autoinc.html)，您必须插入列 as `NULL`，对应[`DBNull.Value`](http://msdn.microsoft.com/en-us/library/system.dbnull.value.aspx)于 C#。

# html - 对于垂直页面布局很长的应用程序，如何将 TwitterBootstrap 的导航栏固定在屏幕顶部？

> ID：13082660
> 
> 赞同：2
> 
> 时间：2012-10-26T07:30:25.883
> 
> 标签：html, css, twitter-bootstrap, initializr

[我从http://www.initializr.com/](http://www.initializr.com/)下载了引导模板 我的问题是，当我向下滚动到网页的页脚时，如何将导航栏固定在屏幕顶部？为了更好地了解我想要实现的目标，我制作了一个屏幕截图。

示例：**从移动设备的角度来看，NAVBAR 是固定的**

![导航栏固定在屏幕顶部](../Images/84d51fa728044857831609d748decbd5.png)

示例：**当我向下滚动到页面的页脚时，我希望 NAVBAR 保持固定在屏幕顶部。如您所见，导航栏无法固定在屏幕顶部。**

![在此处输入图像描述](../Images/6fed173041bf2555cce6de0efe62ea25.png)

代码：

```
<div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a>
                    <a class="brand" href="#"><img src="img/pldttranssmall.png"></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav">
                            <li class="active">
                                <a href="#">Home</a>
                            </li>
                            <li>
                                <a href="#about">About</a>
                            </li>
                            <li>
                                <a href="#product">Product and Services</a>
                            </li>
                            <li>
                                <a href="#investor">Investor Relations</a>
                            </li>
                            <li>
                                <a href="#support">Get Support</a>
                            </li>
                        </ul>
                        <form class="navbar-form pull-right">
                            <input class="span2" type="text" placeholder="Search">
                            <button type="submit" class="btn btn-default">
                                <i class="icon-search icon-black"></i>Go
                            </button>
                        </form>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div> 
```

**我如何实现这一目标？**

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-26T08:10:56.527

只需将导航栏包装在 div 中并将这些 css 类添加到它的样式`class="navbar navbar-fixed-top"`

示例：http: [//jsfiddle.net/codovations/Uy5tt/show/](http://jsfiddle.net/codovations/Uy5tt/show/)

PS：去掉url末尾的show就可以看到html了

更新：基本上这是他们应用于 div 以使其固定在顶部的内容。

```
.navbar-fixed-top {
    position: fixed;
    right: 0;
    left: 0;
    z-index: 1030;
    top: 0;
} 
```

# wamp - Microsoft HTTPAPI/2.0 使用端口 80 – 无法启动 WAMP Apache

> ID：13082662
> 
> 赞同：10
> 
> 时间：2012-10-26T07:30:32.310
> 
> 标签：wamp

Microsoft HTTPAPI/2.0 使用端口 80 – 无法启动 WAMP Apache。

我怎样才能停止微软 httpapi/2.0 ？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T15:15:57.770

我自己也遇到过这个问题……这意味着其他东西正在使用端口 80，可能是来自 IIS、SQL Reporting Services 的任何东西，甚至可以发现 Skype 使用端口 80。还要检查你是否安装了 Web 平台安装程序可以使用80端口。

快速修复将是更改 WAMP 中的 apache 端口。

# .net - 当 CLR 在 .net 中调用垃圾收集器时？

> ID：13082664
> 
> 赞同：4
> 
> 时间：2012-10-26T07:30:38.197
> 
> 标签：.net, garbage-collection, clr

谁能告诉我垃圾收集器何时被调用？它是否继续在后台线程中运行？垃圾收集器如何知道我必须清理内存形式的世代？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:43:09.823

If you want to know exaclty if the GC is collecting, you can use this class:

```
public class GCWatcher
{
    protected override void Finalize()
    {
        Debug.Print("GC on the prowl");
        try {
            if (!AppDomain.CurrentDomain.IsFinalizingForUnload() && !Environment.HasShutdownStarted) {
                GCWatcher g = new GCWatcher();
            }
        } catch {
            // nothing to do, but in case of error, the GC should continue anyway!
        }
    }
} 
```

[Source](http://www.vb-paradise.de/allgemeines/tipps-tricks-und-tutorials/allgemein/65003-garbage-collector/)

The class instantiates itself when it is getting finalized by the GC. Also, it prints a message when the GC kicks in.

Also you can take a look at the links posted in the comments to get a deep-dive into the .NET GC [here](http://msdn.microsoft.com/en-us/library/0xy59wtx.aspx) and [here](http://msdn.microsoft.com/en-us/library/ee787088.aspx).

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T07:57:49.353

垃圾收集器运行：

*   当您的代码尝试分配内存时，堆上没有足够的空间。
*   当系统向应用程序发送信号以尝试使用更少的资源时（例如，当您最小化应用程序时）。
*   每当垃圾收集器觉得它很有用时，例如，如果剩下的堆空间很少，而您的应用程序无论如何都忙于进行磁盘 I/O，则可能是这样。

垃圾收集器如何确定它应该何时运行是一个实现细节，因此它可能在框架版本之间有所不同。

垃圾收集器不会连续运行。当它运行时，应用程序中的所有其他线程都被冻结，因此垃圾收集器可以单独控制内存。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T07:37:20.797

垃圾收集器没有连续运行；它一次运行一个“集合”（这可能会影响多个 GC“代”）。

当它被调用时（忽略`GC.Collect()`）是不确定的，我相信它是 CLR 的实现细节，而不是规范的一部分。

也就是说，只要程序尝试在托管堆中分配内存并且没有足够的连续可用内存来执行此操作，当前的 .NET GC 就会运行。集合释放空间并对堆的内容进行碎片整理，留下空间来执行分配。

任何在 Gen0 集合中幸存下来的东西都被提升为 Gen1；如果 Gen1 中没有足够空间用于提升项目，则 Gen1 也会被收集。Gen1 和 Gen2 之间也是如此。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-20T18:11:08.677

*   当 Gen 0 对象将达到 ~ 256 KB 时。
*   当 Gen 1 对象将达到 ~ 2Mb 时。
*   当第 2 代对象将达到 ~ 10Mb。
*   当系统内存不足时。

# php - 使用 CMS (Wordpress) 还是从头开始？

> ID：13082670
> 
> 赞同：-2
> 
> 时间：2012-10-26T07:30:59.517
> 
> 标签：php, html, css, web, comparison

我确信这个话题之前已经在这里讨论过，但我想就我的时间和精力是否值得我为这个网站使用 Wordpress 方式提供个人反馈：[http ://www.liturgycentrebandra.org/](http://www.liturgycentrebandra.org/)

这是一个基于天主教堂的网站，您可以在其中看到文章可能会定期出现的部分，但它也有部分，例如媒体/书籍，可能需要自己看一下。

我称自己为“网络开发人员”，因为我是 HTML 和 CSS 的自学初学者。联系我们页面是通过获取现成的 PHP 脚本创建的，我看到画廊选项卡也需要类似的东西。

我的朋友告诉我学习 PHP，因为这会给我更多的控制权而不是 Wordpress，因为他们会有“内容管理模板”，不会给我足够的自由去做我想做的事。我记得当我刚接触网页设计时，我花了几个小时试图弄清楚 Dreamweaver，然后最终在记事本中手动编码就可以更快地完成工作！

所以，很抱歉，如果这是一个漫谈，但我非常感谢任何关于我应该做什么的全面反馈。有人提到[http://online.wsj.com/public/page/magazine-index.html?mg=blogs-wsj](http://online.wsj.com/public/page/magazine-index.html?mg=blogs-wsj)是用 Wordpress 制作的。我认为这令人印象深刻。但是 PHP、HTML 和 CSS 的人会更快地完成这项工作，还是 Wordpress 的人？此外，Wallbase.cc 之类的网站对我来说也是一种启发，因为创作者似乎只是通过在 HERE 之类的网站上闲逛而学会了所有各种技巧。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:45:51.967

WordPress 也有 CMS 方面，并且在开发社区中被广泛使用。我不会将它从任何网站的可能性列表中删除。

就你想做的事情而言，我会说它会很好用，但你需要熟悉编辑 HTML 和 CSS 以自定义外观。从头开始创建主题可能非常棘手，因此如果您是新手，我不会走那条路。

Drupal 有一个广泛的主题库，您可以每天查看更多主题，这可能是一个不错的选择，但您需要掌握 PHP 才能开始使用它，并且它有一个学习曲线。虽然有很多书可用，请参阅[此站点](http://www.packtpub.com/books/all?keys=drupal)

同样，Joomla 有大量的主题库，但同样需要定制。

总的来说，我会选择你最喜欢的东西，但是使用代码从头开始创建仍然是最灵活的选择，因为你正在创建你想要的东西，并且每种语言的论坛和文档都会给你很大的支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:44:20.713

如果您要使用 Wordpress，请查看这些链接以帮助您入门；

*   [http://wordpress.org/](http://wordpress.org/)
*   [http://wordpress.org/extend/themes/](http://wordpress.org/extend/themes/)
*   [http://codex.wordpress.org/Editing_Files](http://codex.wordpress.org/Editing_Files)
*   [http://codex.wordpress.org/Child_Themes](http://codex.wordpress.org/Child_Themes)
*   [http://wordpress.org/extend/plugins/one-click-child-theme/](http://wordpress.org/extend/plugins/one-click-child-theme/)
*   [http://wordpress.org/extend/plugins/contact-form-7/](http://wordpress.org/extend/plugins/contact-form-7/) [联系表格]
*   [http://wordpress.org/extend/plugins/search.php?q=gallery](http://wordpress.org/extend/plugins/search.php?q=gallery) [图库插件]

您还有一个专门的 Wordpress stackexchange 论坛

*   [https://wordpress.stackexchange.com/](https://wordpress.stackexchange.com/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-26T07:35:31.407

基本上 wordpress 本质上是一个博客系统，而不是一个 CMS。因此，对于有文章的网站，我宁愿使用 Joomla 或 Drupal 之类的 CMS。

# java - GWTCanvas 在 IE8 中不起作用

> ID：13082672
> 
> 赞同：2
> 
> 时间：2012-10-26T07:31:04.557
> 
> 标签：java, javascript, gwt, internet-explorer-8

我们在项目中大量使用 GWTCanvas，它运行良好。

标准文档模式下的 IE8 除外。

为了解决这个问题，我们尝试了：

1.  将 gwt-incubator 更新到最新版本 (2.1.0)
2.  `GWTCanvas.java`根据这个[链接](https://groups.google.com/forum/#!topic/google-web-toolkit/7g0O2ar5MiI)打补丁

但这没有帮助。有人让它在IE8上运行吗？工作和可靠的解决方案/方法将不胜感激。

更新

已经通过这种方式解决了：

*   [修补](http://dev.sencha.com/playpen/tm/excanvas-patch/) `excanvas.js`并将其注入您的 GWT 类
*   `GWTCanvasImpl`通过适当`gwt.xml`文件中的延迟绑定替换为您的班级

希望这可以帮助某人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T12:55:43.113

GWTCanvas 使用 SVG 规范在给定的 GWT 站点上实现矢量对象。

尽管几乎所有其他浏览器（Firefox、chrome 和 Opera，我相信还有很多其他浏览器）都以一种或另一种方式实现了 SVG，但 Ms 对 svg 的支持还不够。

也许包括[http://code.google.com/p/svgweb/](http://code.google.com/p/svgweb/) SVG 的 google javascript 库实现将解决您的问题，但它可能不会（没有亲自测试过）。

与 GWT 不同的矢量图形实现 - gwt-graphics 是另一种解决方案，但同样，如果您的矢量对象很多，则 IE gwt-graphics 上的仿真确实会使应用程序没有响应，而且速度很慢（个人经验）。

# java - 将列表视图添加到 pageindicator 片段

> ID：13082673
> 
> 赞同：1
> 
> 时间：2012-10-26T07:31:08.000
> 
> 标签：java, android, list, listview

我想向 sherlok 的 viewpageindicator 添加一个列表视图，但是当我收到错误时。我的代码是：我可以向 SherlockFragment 插入什么列表视图？

```
package com.example.vpiabstest;

import java.util.Date;
import java.util.List;

import android.os.Bundle;
import android.support.v4.app.ListFragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TextView;

 import com.actionbarsherlock.app.SherlockFragment;

public class TestFragment extends SherlockFragment {
private String mContent = "???";
private static final String KEY_TAB_NUM = "key.tab.num";
public static TestFragment newInstance(String text) {
    TestFragment fragment = new TestFragment();

    // Supply num input as an argument.
    Bundle args = new Bundle();
    args.putString(KEY_TAB_NUM, text);
    fragment.setArguments(args);

    return fragment;
}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    View view = inflater.inflate(R.layout.activity_main, null);
    String text = getString(R.string.tab_page_num) + mContent;

    ((TextView)view.findViewById(R.id.text)).setText(text);

    return view;
}

 **public void onActivityCreated(Bundle savedInstanceState) {
     super.onActivityCreated(savedInstanceState);
     setListAdapter(new ArrayAdapter<String>(getActivity(),
     android.R.layout.simple_list_item_1, list));
 }

 public static final String[] list = new String[]{"France", "London", "Sweden", "Denmark", "Germany", "Finland", "Thailand", "Taiwan", "USA", "Norway", "Denmark (again)", "Lithuania", "Bosnia", "Russia", "Vietnam", "Australia"};**
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    mContent =  getArguments() != null ? getArguments().getString(KEY_TAB_NUM) : "???";
}
} 
```

我添加了代码行但 SetListAdapter 导致错误

```
public void onActivityCreated(Bundle savedInstanceState) {
     super.onActivityCreated(savedInstanceState);
     setListAdapter(new ArrayAdapter<String>(getActivity(),
     android.R.layout.simple_list_item_1, list));
} 
```

但这会导致错误：

> 该类型的方法`setListAdapter(ArrayAdapter<String>)`未定义`TestFragment`

我能做些什么 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T09:22:44.270

`TestFragment`如果您希望`SherlockListFragment`使用.`SherlockFragment``setListAdapter()`

# c++ - 构造函数C ++的超级与子类继承

> ID：13082676
> 
> 赞同：2
> 
> 时间：2012-10-26T07:31:19.480
> 
> 标签：c++, inheritance, constructor, subclass, base

所以这是具有左、右、父和数据的二叉搜索树的基类。

```
template<class Data>
class BSTNode
{
public:

    /** Constructor.  Initialize a BSTNode with the given Data item,
     *  no parent, and no children.
     */
    BSTNode(const Data & d) : data(d)
    {
        left = right = parent = 0;
    }

    BSTNode<Data>* left;
    BSTNode<Data>* right;
    BSTNode<Data>* parent;
    Data const data;   // the const Data in this node.

    /** Return the successor of this BSTNode in a BST, or 0 if none.
     ** PRECONDITION: this BSTNode is a node in a BST.
     ** POSTCONDITION:  the BST is unchanged.
     ** RETURNS: the BSTNode that is the successor of this BSTNode,
     ** or 0 if there is none.
     */
    BSTNode<Data>* successor()
    {
        BSTNode<Data>* cursor;
        BSTNode<Data>* par;
        cursor = this->right;
        par = this->parent;

        if (this->right != NULL)
        {
            while (cursor->left != NULL) {
                cursor = cursor->left;
            }
            return cursor;
        }
        if ((this->right == NULL) &&  (this == par->left))
            return this->parent;

        if ((this->right == NULL) && (this == par->right))
        {
            do
            {
                cursor = par;
                par = par->parent;
                if (par ==  NULL)
                {return cursor;}
            } while(cursor != par->left);
            return par;
        }
        if (this->right == NULL && this->parent == NULL)
            return NULL;

        return NULL;
    }
}; 
```

子类是 RSTNode ，它应该使用 BSTNode 的所有成员并在其之上添加优先级：

```
template<class Data>
class RSTNode: public BSTNode<Data>
{
public:
    int priority;

    RSTNode(Data const & d)
        : BSTNode<Data>(d)
    {
        //call a random number generator to generate a random priority
        priority = rand();
    }
}; 
```

现在的问题是我不确定如何实现 RSTNode 的构造函数，因为它由于某种原因无法识别 BSTNode 的成员。我知道它应该识别它们，因为它应该继承这些信息。任何帮助都会得到帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T11:47:44.950

好的，我在 Visual Studio 中编译了这个...

```
template<class Data>
class BSTNode
{
public:

    /** Constructor.  Initialize a BSTNode with the given Data item,
     *  no parent, and no children.
     */
    BSTNode(const Data & d) : data(d)
    {
        left = right = parent = 0;
    }

    BSTNode<Data>* left;
    BSTNode<Data>* right;
    BSTNode<Data>* parent;
    Data const data;   // the const Data in this node.
};

template<class Data>
class RSTNode : public BSTNode<Data>
{
public:
   int priority;

   RSTNode(Data const & d)
      : priority(rand()),
        BSTNode<Data>(d)
   {
      left = 0; //Accessible because public
      right = 0;
      parent = 0;
   }
};

int _tmain(int argc, _TCHAR* argv[])
{
   RSTNode<std::string> node(std::string("test"));
    return 0;
} 
```

它编译所以没有访问问题。像上面的其他海报一样，在我看来，您要么没有发布问题的详细信息，要么您不了解基本的东西。

**>现在的问题是我不确定如何实现 RSTNode 的构造函数，因为它 >由于某种原因无法识别 BSTNode 的成员。我知道它应该识别>它们，因为它应该继承这些信息。任何帮助都会得到帮助。**

上面的代码实现了一个构造函数，或者如果你想特别设置 left、right 和 parent，那么你需要：

```
BSTNode(const Data & d, BSTNode* l, BSTNode* r, BSTNode* p) 
       : data(d),
       left(l),
       right(r),
       parent(p)
    {
    } 
```

然后在 RSTNode 中使用它，或者有一个类似的用于 RSTNode 传递给那个....

```
RSTNode(Data const & d, BSTNode* l, BSTNode* r, BSTNode* p)
   : priority(rand()),
     BSTNode<Data>(d,l,r,p)
{
} 
```

希望对您有所帮助，请注意，您应该更喜欢初始化列表而不是直接访问 ctor 中的成员。但是，如果您不能更改基类，那么您将需要...

* * *

更正错字 - 数据 -> 数据

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:35:44.790

这是因为数据成员的默认范围是`private`. 您需要像`protected`要在子类中访问它们一样声明它们。

更好的是，添加一个构造函数`BSTNode`，允许您传入初始化值，并从`RSTNode`构造函数调用它，因为它应该是管理其成员生命周期的基类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T08:31:39.470

如果我没看错，您尝试从模板类继承：

```
class RSTNode: public BSTNode<Data> 
```

BSTNode 的类定义不是模板类？

```
class BSTNode { 
```

这是问题的一部分还是您粘贴了错误的代码？

您可以通过模板化 BSTNode 来修复它

```
template <typename T> class BSTNode { 
```

或从非模板化 BSTNode 派生 RSTNode：

```
class RSTNode: public BSTNode 
```

**然而**，你已经尝试过你所写的事实意味着你并没有真正理解更深层次的类定义，而且你试图直接在派生类构造函数中设置基类参数并且你'已经公开它们会让我相信你需要更多地了解面向对象的设计 - 所以虽然这可能会在技术上解决你的问题，但它只是你遇到的问题的冰山一角。

**还说**“由于某种原因它无法识别 BSTNode 的成员”并不是很有帮助，因为我怀疑这不是您尝试执行此操作时编译器的确切输出。

# iphone - 在 xcode iOS 中将事件添加到日历

> ID：13082678
> 
> 赞同：14
> 
> 时间：2012-10-26T07:31:26.723
> 
> 标签：iphone, ios, calendar, eventkit

海

我有将事件添加到日历的代码，但它没有添加。

```
-(void)event
{
    EKEventStore *eventStore = [[EKEventStore alloc] init];

    EKEvent *event  = [EKEvent eventWithEventStore:eventStore];
    event.title     = @"Event";

    NSDateFormatter *tempFormatter = [[NSDateFormatter alloc]init];
    [tempFormatter setDateFormat:@"dd.MM.yyyy HH:mm"];

    NSString *dateandtime =[NSString stringWithFormat:@"%@%@%@",datestring,@" ",starttimestring];
    NSString *dateandtimeend =[NSString stringWithFormat:@"%@%@%@",datestring,@" ",endtimestring];

    event.startDate = [tempFormatter dateFromString:dateandtime];
    event.endDate = [tempFormatter dateFromString:dateandtimeend];

    [event addAlarm:[EKAlarm alarmWithRelativeOffset:60.0f * -60.0f * 24]];
    [event addAlarm:[EKAlarm alarmWithRelativeOffset:60.0f * -15.0f]];

    [event setCalendar:[eventStore defaultCalendarForNewEvents]];
    NSError *err;
    [eventStore saveEvent:event span:EKSpanThisEvent error:&err];
} 
```

从 XML 我得到这种格式的日期和时间：

日期字符串：28.10.2012

开始时间字符串：15:00

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-26T15:23:14.307

您是在 iOS 6 模拟器上还是在装有 iOS 6 的设备上？如果是这样，您需要先询问用户使用事件存储的权限，然后才能将项目保存到其中。

基本上，如果 requestAccessToEntityType:completion: 选择器在您的事件存储对象上可用，则调用该方法并提供在用户授予权限时执行的代码块，然后您将在该块中保存事件。

首先将 EventKit 框架添加到您的项目中，并且不要忘记包含导入：

`#import <EventKit/EventKit.h>`

这是我使用的对我有用的代码片段：

```
EKEventStore *eventStore = [[EKEventStore alloc] init];
if ([eventStore respondsToSelector:@selector(requestAccessToEntityType:completion:)])
{
    // the selector is available, so we must be on iOS 6 or newer
    [eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {
        dispatch_async(dispatch_get_main_queue(), ^{
            if (error)
            {
                // display error message here
            }
            else if (!granted)
            {
                // display access denied error message here
            }
            else
            {
                // access granted
                // ***** do the important stuff here *****
            }
        });
    }];
}
else
{
    // this code runs in iOS 4 or iOS 5
    // ***** do the important stuff here *****
}

[eventStore release]; 
```

这是我在这个主题上写的一篇博文：

[http://www.dosomethinghere.com/2012/10/08/ios-6-calendar-and-address-book-issues/](http://www.dosomethinghere.com/2012/10/08/ios-6-calendar-and-address-book-issues/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-04-25T06:55:30.750

1）添加**Eventkit**框架和`#import <EventKit/EventKit.h>`

2)

```
 -(void)syncWithCalendar {
    EKEventStore *store = [EKEventStore new];
    [store requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {
        if (!granted) { return; }
        EKEvent *event = [EKEvent eventWithEventStore:store];
        event.title = @"Event Title Testing"; //give event title you want
        event.startDate = [NSDate date];
        event.endDate = [event.startDate dateByAddingTimeInterval:60*60];
        event.calendar = [store defaultCalendarForNewEvents];
        NSError *err = nil;
        [store saveEvent:event span:EKSpanThisEvent commit:YES error:&err];
    }];
} 
```

3) 调用函数

```
[self syncWithCalendar]; 
```

# html - IE中显示的菜单

> ID：13082679
> 
> 赞同：1
> 
> 时间：2012-10-26T07:31:28.877
> 
> 标签：html, css, internet-explorer

在 IE 中，我的菜单显示如下图所示。如果菜单长度很短，那么两个菜单会放在一起。

如何解决这个菜单。

我的 CSS 代码：

```
.module-content{ float:left;margin: 8px 11px 4px;}

.module-content ul{   float: left; margin: 0; padding: 0 0 0 0px; width: 99%;}  

.module-content ul li{list-style:none;  background: url("../images/red-arrow.png") 0 5px no-repeat; padding-left:12px;}

.module-content ul li a{  color: #393939; font: 12px Verdana,Geneva,sans-serif;}

.module-content ul li a:hover{  color: #EF2030; } 
```

![在此处输入图像描述](../Images/26975325c2113023dd364842cbc83154.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:35:46.877

将 的宽度设置为`.module-content ul li`与 的宽度相同`module-content ul`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:51:14.383

确保当您使 .module-content ul li 与 .module-content ul 具有相同的宽度时，.module-content ul li 也具有“显示：块”

# jquery - 使用js从url读取xml

> ID：13082682
> 
> 赞同：0
> 
> 时间：2012-10-26T07:31:41.390
> 
> 标签：jquery, xml, ajax

我试图读取 url 提供的 xml 数据

网址：[http ://api.simplyhired.co.in/a/jobs-api/xml-v2/q-java/l-hyderabad/ws-10?pshid=46408&ssty=3&cflg=r](http://api.simplyhired.co.in/a/jobs-api/xml-v2/q-java/l-hyderabad/ws-10?pshid=46408&ssty=3&cflg=r)

但我没有从 url 获得任何响应数据。我尝试了以下代码：

```
var url = "http://api.simplyhired.co.in/a/jobs-api/xml-v2/q-java/l-hyderabad/ws-10?pshid=46408&ssty=3&cflg=r";

$.ajax({
    url: url,
    complete: function(data) {
        alert(data.responseText);
    }
});​ 
```

当我在浏览器中打开 url 时，它以 xml 格式显示数据。即使在对 url 进行编码之后，问题仍然存在。

有没有更好的方法来做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:51:46.953

尝试这样的事情

```
$.ajax({
        type: "GET",
    url: "www.mysite.com/file.xml",
    dataType: "xml",
    success: function(xml) {
       #do work here if success
    }
}); 
```

如果这仍然不起作用，请注意您的网址，它有一些应该编码的字符（例如“=”，编码是“%3D”）

在这里查看 JQuery URI 编码：[http ://www.w3schools.com/jsref/jsref_encodeURIComponent.asp](http://www.w3schools.com/jsref/jsref_encodeURIComponent.asp)

# android - 在活动中打开 .txt 文件

> ID：13082692
> 
> 赞同：2
> 
> 时间：2012-10-26T07:32:09.813
> 
> 标签：android

是否可以在活动中打开 .txt 文件或显示 .txt 文件的内容？我的项目真的需要它。在我的项目中，我正在制作可扩展列表视图，它在父列表中显示单元，在子列表中显示章节。选择子项后，选定的子项将打开相应的 .txt 文件。有没有可能这样做。请对此提出一些建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:46:32.003

Yes.

You just need a `File` and read it. Just use the Commons IO library from apache.org

```
//file located directly on SD root.
File myFile = new File(Environment.getExternalStorageDirectory(), "file.txt"); 
String contents = FileUtils.readFileToString(myFile); 
```

After that just use something like `myTextView.setText(contents);` to set the text to a `TextView`.

Download Commons IO library [here](http://commons.apache.org/io/).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-15T18:29:04.733

我认为显示一个带有 textview 的 xml 文件并设置 textview 以显示您想要显示的任何内容都可以解决问题。

```
 textview.setText(open file you want to read from here); 
```

要打开文件，您应该使用缓冲阅读器和 IO 流。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:36:31.243

您可以让 TextView 在 Activity 中显示文本，在 TextView 上使用 setText(CharSequence) 方法设置文本。

要从 .txt 文件中读取文本，请使用以下方法：

```
FileInputStream fis=null;
final StringBuffer buffer= new StringBuffer();

try {
    fis = openFileInput("fileName.txt");
    DataInputStream dataIO = new DataInputStream(fis);
    String strLine = null;

    if ((strLine = dataIO.readLine()) != null) {
        buffer.append(strLine);
    }

    dataIO.close();
    fis.close();
}
catch  (Exception e) {  
} 
```

利用

```
textView.setText(buffer.toString()); 
```

在活动中显示。

# jquery - 带有附加功能的 Jquery 提交

> ID：13082693
> 
> 赞同：-1
> 
> 时间：2012-10-26T07:32:10.200
> 
> 标签：jquery, forms, submit

问题解决了。代码是正确的。它是Angularjs和Jquery之间的交互。如果你只使用 Jquery 就可以了

我正在尝试在我的表单提交中添加一个额外的检查方法。我在[这里使用 Jquery 提交功能](http://api.jquery.com/submit/)

下面是我的代码

**HTML**

```
<form id="upload_form" action="javascript:console.log('submitted');">
<table class="tablestyle">
    <tr>
        <td class="labelstyle" style="width:80px;">File</td>
        <td class="datastyle">
<input type="file" class="textinput" tabindex="7" id="file" name="file">
<input id="upload" name="upload" class="button" value="Upload" tabindex="8" type="submit"></td>
    </tr>   
</table>    
</form> 
```

**Javascript**

```
$("#upload_form").submit(function() {
    console.log("checking");
}); 
```

但是，当我提交时，只有“javascript:console.log('submitted');” 打印在我的控制台中。无法获取“console.log("checking");” 去工作。

有谁知道是什么问题？

任何帮助表示赞赏！谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:38:31.810

您的代码没有错误。

我创建了一个小提琴来证明你的代码：http: [//jsfiddle.net/tzjcA/](http://jsfiddle.net/tzjcA/)

打印所有日志消息

```
$("#upload_form").submit(function() {
    console.log("checking");
});​ 
```

**编辑**

按 F12，然后按“控制台”选项卡

**编辑 2**

精确`enctype` `method`和删除`javascript:console.log('submitted');`

```
<form id="upload_form" enctype="multipart/form-data" method="post">
<table class="tablestyle">
    <tr>
        <td class="labelstyle" style="width:80px;">File</td>
        <td class="datastyle">
<input type="file" class="textinput" tabindex="7" id="file" name="file">
<input id="upload" name="upload" class="button" value="Upload" tabindex="8" type="submit"></td>
    </tr>   
</table>    
</form> 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-26T07:37:13.870

那是因为您正在调用 colsole.log("submitted") 。调用适当的方法，它将起作用。

```
<form id="upload_form" action="javascript:console.log('submitted');"> 
```

# objective-c - 线程错误 - 线程 1：Breakpoint1.1

> ID：13082694
> 
> 赞同：0
> 
> 时间：2012-10-26T07:32:15.800
> 
> 标签：objective-c, xcode

我附上了以下程序代码，用于显示分数的实际值，构建成功，但程序因线程错误而崩溃。你能告诉我，我在哪里犯了错误。非常感谢您的帮助。
谢谢
小牛10

```
#import<Foundation/Foundation.h>

@interface Fraction : NSObject
{
    int numerator;
    int denominator; // variables to be used
}
-(void) print;
-(void) setNumerator:(int) n;
-(void) setDenominator:(int) d;
-(int) numerator;
-(int) denominator;
-(double) convertToNum; // new method declared
@end

@implementation Fraction
-(void) print
{
NSLog(@"%i/%i",numerator,denominator);
}
-(void) setNumerator :(int) n
{
numerator=n;
}
-(void) setDenominator :(int)d
{
denominator=d;
}
-(int)numerator
{
return numerator;
}
-(int) denominator
{
return denominator;
}
-(double) convertToNum
{
if(denominator!=0) // checking for denominator to be non zero
return (double) numerator/denominator;
else
return NAN;
}
@end
//Program Section
int main(int argc, char*argv[])
{
    NSAutoreleasePool * pool = [[ NSAutoreleasePool alloc] init];

    Fraction * aFraction =[[Fraction alloc] init];
    Fraction * bFraction =[[Fraction alloc] init];

    [aFraction setNumerator:1]; // setting the numerator for the first fraction.Similarly denominator
    [aFraction setDenominator:4];
    [aFraction print];
    NSLog(@"= ");
    NSLog(@"%g",[aFraction convertToNum]);

    [bFraction print];
          NSLog(@"="); 
    NSLog(@"%g",[bFraction convertToNum]);

    [aFraction release];
    [bFraction release];

    [pool drain];
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-28T18:40:49.107

你得到 Thread1:Breakpoint1.1 因为你在 -(void)setNumerator 添加了一个断点。您可能只是不小心单击了该空间以添加断点。

# castle-windsor - 温莎的通用型工厂

> ID：13082695
> 
> 赞同：2
> 
> 时间：2012-10-26T07:32:18.317
> 
> 标签：castle-windsor, typed-factory-facility

也许抽象类型的工厂不是从 Windsor 开始的容易的点（如果重要的话是 2.5.3），但无论如何我都必须这样做。我正在尝试建立一个工厂，根据消息类型返还处理器。到目前为止，我已经从不同的地方搜索了以下代码：

```
public class Complicato
{
    public static void Do(string[] args)
    {
        IKernel kernel = new DefaultKernel();
        IWindsorContainer container = new WindsorContainer();

        kernel.AddFacility<TypedFactoryFacility>();

        container.Install();
        container.Register(

            Component.For<HandlerSelector, ITypedFactoryComponentSelector>(),

            AllTypes.FromThisAssembly().BasedOn(typeof(ITrier<>))
                .WithService.Base().Configure(conf => conf.LifeStyle.Is(LifestyleType.Transient)),
            Component.For<Factor>(),
            Component.For<ITryFactory>().AsFactory(c => c.SelectedWith<HandlerSelector>()).LifeStyle.Singleton);

        var factor = container.Resolve<Factor>();
        var factory = container.Resolve<ITryFactory>();
    }
}

public class HandlerSelector : DefaultTypedFactoryComponentSelector
{
    protected override Type GetComponentType(MethodInfo method, object[] arguments)
    {
        return typeof(ITrier<>).MakeGenericType(arguments[0].GetType());
    }
}

public class Factor
{
    private ITryFactory factory;

    public void Try(IWhat onto)
    {
        factory.GetTrier(onto).Try(onto);
    }
}

public interface ITryFactory
{
    ITrier<IWhat> GetTrier(IWhat onto);
    void Release(object elem);
}

public interface IWhat { }

public interface ITrier<in TWhat> where TWhat : IWhat
{
    void Try(TWhat input);
}

public class TrierYes : ITrier<WhatYes>
{
    public void Try(WhatYes input) { Console.WriteLine("Yes? " + input.Aye()); }
}

public class TrierNo : ITrier<WhatNot>
{
    public void Try(WhatNot input) { Console.WriteLine("No? " + input.Naa()); }
}

public class WhatYes : IWhat
{
    public bool Aye() { return true; }
}

public class WhatNot : IWhat
{
    public bool Naa() { return false; }
} 
```

这里的主要问题是 id 不起作用。首先，我得到工厂为 null 的因子，然后试图明确地解析工厂给了我 ComponentActivator: could not proxy Factories.Complex.ITryFactory 与拦截器 Castle.TypedFactory.Interceptor 的内部消息无法解析和“密钥（组件带有特定键）-Castle.TypedFactory.Interceptor 未注册”在容器中。我什至不知道 Handler 选择器是否有效，到目前为止还没有问题。

如果我让 ITrier 不通用 - 它会突然开始工作，但这绝对不是我想要实现的目标。

那么我是在温莎配置中犯了一些愚蠢的初学者错误还是误解了类型工厂的想法？

为了完整起见，这里是异常消息：

```
Castle.MicroKernel.ComponentActivator.ComponentActivatorException was unhandled
  Message=ComponentActivator: could not proxy Factories.Complex.ITryFactory
  Source=Castle.Windsor
  StackTrace:
       at Castle.MicroKernel.ComponentActivator.DefaultComponentActivator.CreateInstance(CreationContext context, Object[] arguments, Type[] signature) in e:\OSS.Code\Castle.Windsor\src\Castle.Windsor\MicroKernel\ComponentActivator\DefaultComponentActivator.cs:line 166
  InnerException: Castle.MicroKernel.Resolvers.DependencyResolverException
       Message=The interceptor Castle.TypedFactory.Interceptor could not be resolved
       Source=Castle.Windsor
       StackTrace:
            at Castle.Core.InterceptorReference.Castle.MicroKernel.IReference<Castle.DynamicProxy.IInterceptor>.Resolve(IKernel kernel, CreationContext context) in e:\OSS.Code\Castle.Windsor\src\Castle.Windsor\Core\InterceptorReference.cs:line 142 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:35:47.780

最终获胜者是

```
container.AddFacility<TypedFactoryFacility>(); // good code 
```

代替

```
kernel.AddFacility<TypedFactoryFacility>(); // bad code 
```

现在我只有没有注入工厂和不正确的HandlerSelector的问题。

NullReference 通过向 Factor 引入显式初始化构造函数来解决。我不知道为什么我认为它没有。

处理程序接口的最终版本如下：

```
public interface ITrier<out TWhat> where TWhat: IWhat
{
    void Try(IWhat input);
} 
```

允许协方差。不像 über-elegant 那样需要不必要的演员阵容，并且处理程序会放松他们的类型。但这是残酷的现实。你要么是协变体，要么是反变体。

# python - 将整数向下舍入到最接近的倍数

> ID：13082698
> 
> 赞同：35
> 
> 时间：2012-10-26T07:32:36.470
> 
> 标签：python

Python中有一个函数可以让我向下舍入到最接近的整数倍数吗？

```
round_down(19,10)=10
round_down(19,5)=15
round_down(10,10)=10 
```

我认真地看着 SO，没有发现与四舍五入***到***最近的基数有关的东西。在发布相关问题的链接或标记为重复之前，请记住这一点。

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2012-10-26T07:33:21.503

```
def round_down(num, divisor):
    return num - (num%divisor)

In [2]: round_down(19,10)
Out[2]: 10

In [3]: round_down(19,5)
Out[3]: 15

In [4]: round_down(10,10)
Out[4]: 10 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-08-05T01:42:53.437

这可能不是最有效的解决方案，但是

```
def round_down(m, n):
    return m // n * n 
```

很简单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-09-19T15:47:01.833

在相同情况下，我最终使用该`floor`功能执行了以下操作。就我而言，我试图将数字四舍五入到最接近的 1000。

```
from math import floor

def round_down(num, divisor):
    return floor(num / divisor) * divisor 
```

`ceil`如果您也想定义一个相应的总是舍入函数，可以做类似的事情（？）

# python - 仅在 python 包中运行 main 时导入包

> ID：13082704
> 
> 赞同：2
> 
> 时间：2012-10-26T07:33:17.983
> 
> 标签：python, import, packages, main

我喜欢在我的包底部使用以下代码在 python 中测试我的包：

```
if __name__ == "__main__":
    sys.exit(main()) 
```

`main()`我在上面定义的函数在哪里。现在我的问题是：

我需要在我的 main 中导入额外的包来测试我的模块，如果用户只是导入我的模块（即从另一个脚本），则不需要导入这些包。如果我的 main 明确运行，有没有办法只导入这些额外的包？当我的包刚被导入（即从另一个脚本）时，这些额外的包不会被导入。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:35:59.817

为什么不将您的导入语句直接放在您的正文中`main()`？那应该这样做。

```
def main():
   import my_module # import ONLY if main is called
   # code 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T07:39:22.073

在 Python 中，您可以在代码中的任何位置放置导入。

所以你可以有：

```
if __name__ == "__main__":
    import <package> # place your imports here
    sys.exit(main()) 
```

[这个问题](https://stackoverflow.com/questions/4177735/best-practice-for-lazy-loading-python-modules)中详细讨论了“延迟导入”

# linux - 我自己制作的 Linux 网桥：arp 请求永远不会成功

> ID：13082706
> 
> 赞同：2
> 
> 时间：2012-10-26T07:33:24.207
> 
> 标签：linux, networking, wireless, arp, raw-sockets

我使用我的 Boost.Asio 扩展编写了一个桥接器（第 2 层交换机）。我们可以轻松地制作满足其类型要求的其他套接字、端点和协议。我的扩展使用带有`AF_PACKET`,`SOCK_RAW`和的 linux 数据包套接字`htons(ETH_P_ALL)`（[`man 7 packet`](http://linux.die.net/man/7/packet)有关数据包套接字的更多信息，请参阅）。

这是一个解释我的桥如何工作的示例：

```
[PC1] <----> IF1[PC2]IF2 <----> [PC3] 
```

网桥连接网络接口（例如 eth0）IF1 和 IF2，因此 PC1 可以通过在 PC2 上运行的网桥与 PC3 通信。连接接口的方式是将接收到的数据包从 IF1 发送到 IF2（反之亦然）

我的网桥按预期在有线连接下工作，但在无线连接下不起作用。所以我试图找出导致这个问题的原因，我发现 ARP 请求从未成功。

导致此问题的实际环境是：

```
[PC1] <--wired--> eth0[PC2]wlan0 <--wireless(802.11g)--> [router1] 
```

例如，在上述环境下，现在 PC1 尝试向 router1 发送 ping(ICMP) 数据包。要将其发送到 PC3，PC1 必须知道 router1 的 MAC 地址，因此 PC1 向 PC1 发送 ARP 请求，`FF:FF:FF:FF:FF:FF`而我在 PC2 上运行的网桥从 eth0 接收它并将其发送到 wlan0，但 router1 从不向 PC1 发送 arp 回复。

注意：SOCK_RAW 数据包传入和传出设备驱动程序，数据包数据没有任何变化。（引用自数据包的手册页）

我应该怎么做才能让 PC1 与 router1 通信？
谢谢你。

编辑：
这是我的 Boost.Asio 扩展。
[github：pfpacket/libarex](https://github.com/pfpacket/libarex)
这是我上面使用的桥。
[libarex/example/layer2_switch/interface_bridge.cpp](https://github.com/pfpacket/libarex/blob/master/example/layer2_switch/interface_bridge.cpp)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T19:12:09.553

我正在写下我们在评论中讨论的内容。

无线桥接有问题是一个[常见](https://serverfault.com/questions/114657/linux-ethernet-wireless-bridging)的问题（至少在linux下，我不知道其他人）。调查表明，用作桥接的硬件的无线驱动程序或芯片组很可能无法进行桥接操作（`brctl`失败支持此假设）。

其他可能的原因，如上面链接中所解释的，可能是 AP 丢弃了具有未关联 MAC 地址等的数据包。

此外，该代码适用于有线接口，因此在某些层上是硬件问题。没什么好说的了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:40:29.043

您必须使用以下方式桥接您的接口`bridge-utils`：

```
# brctl addbr mybridge0
# brctl addif mybridge0 eth0
# brctl addif mybridge0 wlan0 
```

（在 PC2 上；）

# sockets - netty：获取 OutputStream 进行写入

> ID：13082710
> 
> 赞同：1
> 
> 时间：2012-10-26T07:33:41.530
> 
> 标签：sockets, netty, outputstream

我从 netty 开始，需要一些帮助。

我不明白，我怎样才能让通道的 OutputStream 写入。我已经有一个 UpstreamHandler（解码器），它读取请求并对其进行解码 - 现在我想写回（连接客户端的答案）。我可以写一个字符串（来自netty网站的例子），但我想直接写到一些OutputStream（我的业务逻辑方法有一个OutpuStream作为参数，数据被写入其中）。

我怎么能用netty做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:15:02.050

在 Netty 中，您使用“Channel.write(..)”将数据写回客户端。如果你真的需要写入一个 OutputStream 你可以这样做：

```
ChannelBufferOutputStream out = new ChannelBufferOutputStream(ChannelBuffers.dynamicBuffer());
yourObject.handle(out);
Channel.write(out.buffer()); 
```

另一种方法是编写一个包装 Channel 的 OutputStream。

# django - angular.js 的一个很好的服务器端解决方案

> ID：13082718
> 
> 赞同：4
> 
> 时间：2012-10-26T07:34:35.313
> 
> 标签：django, rest, web-applications, frameworks, angularjs

我正在为我的项目使用 Angular.js。业务逻辑是在 Angular 中开发的，我只是在寻找两件事：

1.  我需要一种简单的用户身份验证方法，但我不知道如何通过 Angular 来实现它。

2.  我需要一个提供 REST Api 的服务器端框架，一个用于实现关系数据模型的 api 以及对 Postgres 或 Mysql 等数据库的良好支持。

现在我将 Django 框架用于这两件事，它与数据库完美配合，并为处理数据提供了一个漂亮的 api，但我觉得将 Django 与 angular 一起使用并不是一个好的解决方案，因为我没有使用很多功能Django 提供的。我只需要一个带有良好数据模型 api 的简单 REST api。对我有什么建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T08:54:54.367

我认为这真的取决于你在 Django 中使用的是什么。如果 API 很简单，您不会使用很多中间件类、上下文处理器等。那么您可以放弃它。如果你习惯了 Python，那里有一堆轻量级的 WSGI Web 框架，例如[Bottle](http://bottlepy.org/)或[Flask](http://flask.pocoo.org/)。它们的性能通常比 Django 好一点 + 它们主要是编写的，因此您可以轻松创建 REST API。“缺点”是，如果您需要特定的东西，例如 SQL ORM 或一些缓存处理，您必须单独包含这些电池，并且不能使用您可能习惯的 Django 自己的部分。这还包括推出您自己的身份验证系统。

我认为你必须弄清楚你是否真的想重写代码。我个人认为，轻微的性能提升通常不值得付出努力和时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T20:49:39.270

这可能不适合您的环境（不确定您在哪个平台上），但我们当前的项目正在使用 AngularJS 和使用 ASP.NET Web API 构建的类似 REST 的后端。这一切都非常适合。由于 Web API 是在 ASP.NET 之上构建的，因此您可以“免费”获得身份验证，并且不乏用于 .NET 的关系数据库框架。我们正在使用 Entity Framework Code-First，并在此处和那里添加了一些[Massive 。](https://github.com/robconery/massive)这可以很好地满足我们的需要，并且非常快速且易于组合，但您也可以使用 NHibernate 或可用于 .NET 的许多其他框架中的任何一个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T07:48:55.510

关于问题 1（身份验证），这篇博文 + 示例解释了一个很好的解决方案： [https ://github.com/witoldsz/angular-http-auth](https://github.com/witoldsz/angular-http-auth)

我对 Django 了解不多，但如果你不能改变它的“渲染模式”，我会感到惊讶。我一直在使用 Express (Node.js) 来公开 REST api。从 HTML 渲染转换为 JSON 很容易。

# java - 在递归计算幂时我不理解我的方法的输出

> ID：13082720
> 
> 赞同：3
> 
> 时间：2012-10-26T07:34:43.240
> 
> 标签：java, recursion

当我尝试递归计算 2^8 时，我看不到这种方法将如何使用 31 次。

此方法是否计算 O(logN) 复杂度的幂？

当我运行它时，输出是：

```
0
1
2
3
4
5
...
29
30
2^8 is: 256 
```

代码

```
private static int power(int x, int y)
{
    System.out.println(step++);

    if (y == 0)
        return 1;

    return power(x, y/2) * power(x, y/2);
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-26T07:38:11.127

在这里，您实际上使用相同的值对 power 方法进行了两次调用：

```
return power(x, y/2) * power(x, y/2); 
```

相反，如果你这样写，你可以进行一半的调用：

```
int toReturn = power(x, y/2);
return toReturn * toReturn; 
```

如果我们遍历您的原始示例，我们将进行 31 次调用，这就是您所看到的（0 到 30）。浏览您的代码以了解原因：

```
power(2, 8)

power(2, 4)
power(2, 4)

power(2, 2)
power(2, 2)
power(2, 2)
power(2, 2)

power(2, 1)
power(2, 1)
power(2, 1)
power(2, 1)
power(2, 1)
power(2, 1)
power(2, 1)
power(2, 1)

power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0)
power(2, 0) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:59:43.410

正如其他海报所指出的那样，您`power`过于频繁地调用该方法。我只是想补充一下（我不想将其作为评论），我不建议使用静态变量来计算递归级别。相反，我建议将当前步骤作为另一个参数传递给函数：

```
private static int power(int x, int y, int recursiveCallStep)
{
    System.out.println(recursiveCallStep++);

    if (y == 0)
        return 1;

    int toReturn = power(x, y/2, recursiveCallStep);
    return toReturn * toReturn;
} 
```

然后第一个电话将是：

```
int result = power(2, 8, 0); 
```

如果您之前这样做过，您会意识到相同的步数会多次输出。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T07:39:49.840

不，不是 O(logN)，而是 O(NlogN)

在每次迭代中，您创建的问题的大小只有问题的一半（这很好），但您正在创建**其中两个**。

你应该这样做，而不是

```
 return power(x, y/2) * power(x, y/2); 
```

这

```
 int power = power(x, y/2);
 return power * power; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-26T08:11:15.283

绝对不需要分界树。这就是为什么您的代码不止一次地重新计算相同的值。

使用这个更简单的递归代码，您可以获得更好的复杂性：（您可以看到它是 O(N)）

```
private static int power(int x, int y)
{
    System.out.println(step++);

    if (y == 0)
        return 1;
    else
    {
        return x * power(x, y - 1);
    }
} 
```

X = 2 和 Y = 3 时，堆栈跟踪将是：

```
power(2,3) = 2 * power(2, 2);
power(2,2) = 2 * power(2, 1);
power(2,1) = 2 * power(2, 0);
power(2,0) = 1; 
```

# spring - 如何与 GWT 进行交互 - Spring RestTemplate

> ID：13082723
> 
> 赞同：0
> 
> 时间：2012-10-26T07:34:44.937
> 
> 标签：spring, gwt, resttemplate, gwt-compiler

这是[问题的延续](https://stackoverflow.com/q/12972409/1012454)

我目前正在处理它具有`GWT`和环境`Restful`的任务。`Spring Framework`

它有两个应用程序；**应用程序#1**通过 Restful Web 服务公开一些信息，**应用程序 #2**使用该服务并在 GWT 中显示这些详细信息。

对于应用程序#2，我曾经通过接口`Spring RestTemplate`使用`Restful Webservice`并返回详细信息列表。在 GWT 端，有一些`DataListProvider`要在`GWT-DataGrid`.

现在的问题是，我不知道如何`GWT DataListProvider`与我的`DetailService`类进行交互（这会返回**`List<Details>`**一个方法）。`GWT- OnModule()`当我在方法中直接调用服务类时`GWT Compile`，我遇到了一些**UnResolved Type Error**，由于这个类间接调用了`Spring Libraries`类，因此 GWT 无法编译它。

```
com.google.gwt.dev.jjs.InternalCompilerException: Failed to get JNode
    at com.google.gwt.dev.jjs.impl.TypeMap.get(TypeMap.java:140)
    at com.google.gwt.dev.jjs.impl.TypeMap.get(TypeMap.java:71)
    at com.google.gwt.dev.jjs.impl.BuildTypeMap.getType(BuildTypeMap.java:730)
    at com.google.gwt.dev.jjs.impl.BuildTypeMap.createField(BuildTypeMap.java:570)
    at com.google.gwt.dev.jjs.impl.BuildTypeMap.access$300(BuildTypeMap.java:99)
    at com.google.gwt.dev.jjs.impl.BuildTypeMap$BuildDeclMapVisitor.visit(BuildTypeMap.java:180)
    at org.eclipse.jdt.internal.compiler.ast.FieldDeclaration.traverse(FieldDeclaration.java:285)
    at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1232)
    at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.traverse(CompilationUnitDeclaration.java:687)
    at com.google.gwt.dev.jjs.impl.BuildTypeMap.createPeersForNonTypeDecls(BuildTypeMap.java:637)
    at com.google.gwt.dev.jjs.impl.BuildTypeMap.exec(BuildTypeMap.java:514)
    at com.google.gwt.dev.jjs.impl.BuildTypeMap.exec(BuildTypeMap.java:523)
    at com.google.gwt.dev.jjs.JavaToJavaScriptCompiler.precompile(JavaToJavaScriptCompiler.java:599)
    at com.google.gwt.dev.jjs.JavaScriptCompiler.precompile(JavaScriptCompiler.java:33)
    at com.google.gwt.dev.Precompile.precompile(Precompile.java:284)
    at com.google.gwt.dev.Precompile.precompile(Precompile.java:233)
    at com.google.gwt.dev.Precompile.precompile(Precompile.java:145)
    at com.google.gwt.dev.Compiler.run(Compiler.java:232)
    at com.google.gwt.dev.Compiler.run(Compiler.java:198)
    at com.google.gwt.dev.Compiler$1.run(Compiler.java:170)
    at com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:88)
    at com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:82)
    at com.google.gwt.dev.Compiler.main(Compiler.java:177)
      [ERROR] <no source info>: public class org.springframework.web.client.RestTemplate
    extends org.springframework.http.client.support.InterceptingHttpAccessor
    implements : Unresolved type org.springframework.web.client.RestOperations 
```

请提供您的建议，如何在这些服务类和 GWT 之间进行交互。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-04T17:15:35.393

您不能在客户端代码中使用 Spring。

可用选项有：

Presenter 中的回调，其中异步接口对服务控制器（在 App#2 的服务器端）进行 GWT-RPC 调用。您可以有一个 @RequestMapping 注释方法，其内部使用 RestTemplate。

让演示者使用 RequestFactory 并为您的有效负载使用 GWT 覆盖功能。

# javascript - Javascript 条件格式无法识别

> ID：13082724
> 
> 赞同：2
> 
> 时间：2012-10-26T07:34:48.927
> 
> 标签：javascript, jquery, json, datatables

我有一个从 JSON 文件生成的 jQuery DataTable。一切正常，但在条件格式方面，我被卡住了。以下脚本为第 2 列中的所有单元格提供了一个“正”类（甚至是负整数）。我的 if 语句有什么问题？

```
 "fnRowCallback": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {
      if ( parseFloat(aData[1]) <= 0 ) {
         jQuery('td:eq(1)', nRow).addClass('negative');
      } else {
         jQuery('td:eq(1)', nRow).addClass('positive');
      }
      return nRow;
} 
```

提前致谢！

编辑：JSON文件的一部分（我指的数字是“punten”：

```
[
    {
        "spel_id": "2012-09-24 15:43:56",
        "locatie": "white room",
        "speler": "Arne",
        "punten": "17"
    },
   {
        "spel_id": "2012-09-24 15:43:56",
        "locatie": "white room",
        "speler": "Bjorg",
        "punten": "26"
    }
] 
```

和我的 js 生成表（使用 DataTables）：

```
$(document).ready( function() {
        var oTable = $('#example').dataTable( {
            "sAjaxSource": "json_gespeeldekaartings.php",
            "aoColumns": [
              { "mData": "kaarting"},
              { "mData": "speler" },
              { "mData": "punten"}
            ],
            "sAjaxDataProp": "",
            "sPaginationType": "full_numbers",
            "aaSorting": [],
            "fnRowCallback": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {
                if ( parseFloat(aData[1]) <= 0 ) {
                    jQuery('td:eq(1)', nRow).addClass('negative');
                } else {
                    jQuery('td:eq(1)', nRow).addClass('positive');
                }
                return nRow;
                }
            } )
        } ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:00:30.693

因斯特

```
if ( parseFloat(aData[1]) <= 0 ) { 
```

采用

```
if ( parseFloat(aData.punten <= 0 ) 
```

**编辑** 试试这个：

删除 fnRowCallback 并在此示例中使用 mRender ：

```
...
"aoColumns": [
              { "mData": "kaarting"},
              { "mData": "speler" },
              { "mData": "punten",
                "sType": "numeric",
                "mRender":  function ( data, type, full ) {
                      if(data > 0) return "<div class='positive'>" + data + "</div>"; // example
                      return "<div class='negative'>" + data + "</div>";              // example
                 }
              }
            ],
... 
```

# javascript - 寻找有关如何构建 javascripts 的建议

> ID：13082725
> 
> 赞同：2
> 
> 时间：2012-10-26T07:34:54.307
> 
> 标签：javascript, design-patterns, refactoring, asp.net-mvc-4

我正在寻找关于如何更好地构建我的 java 脚本的反馈和建议。我已经尝试将 js 代码移动到他们自己的文件中。它有效，但我想知道这是否是像下面示例这样的脚本的首选方式？揭示原型模式是否过大，或者出于其他原因不是一个好的选择？

```
Portalen.Archive = function() {
};

Portalen.Archive.prototype = function () {

var options = {
    minDate: new Date(2012, 0, 1),
    changeMonth: true,
    changeYear: true
};

var start = function () {

    $("#StartDate").datepicker(options);
    $("#EndDate").datepicker(options);

    $("#searchButton").on("click", function() {
        search();
    });
};

var search = function() {
    $.ajax({
        url: "/Archive/Index",
        type: "post",
        data: $("#searchForm").serialize(),
        success: function (response) {
            $("#resultContainer").html(response);
        }
    });
};

return {
    start: start
}; 
```

}();

在视图中我像这样使用它

```
<script type="text/javascript" src="~/Scripts/app/portalen-archive.js"></script>
<script type="text/javascript">
    $(function () {
        var s = new Portalen.Archive();
        s.start();
    })
</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:49:32.980

我最近开始使用[require.js](http://requirejs.org/)。它正在利用`module`模式。您可以定义模块，然后在需要时导入它们，并以某种 python 样式的导入方式表达依赖关系。

在这种情况下，额外的好处是您不必滥用“类”创建来包装曾经使用过的代码，以防止它污染全局命名空间。您可以为此使用模块，它更干净，更具表现力。[您可以在此处](http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth)阅读有关模块模式的目标。并且 require.js 使模块模式易于实现，同时为您提供[AMD等附加功能](http://addyosmani.com/writing-modular-js/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:55:49.683

JavaScript 不是 Java，所有实体都应该用类来表示。因此，只有当我们需要创建多个当前类型的对象时，我们才在 JavaScript 中使用类/原型。因此，我认为没有必要在这里创建课程。但是尽管您可以使用常规 JavaScript 对象作为命名空间。此外，我会将此方法命名为，而`init`不是`start`，但这当然取决于您。

**在模块中：**

```
var Portalen = (function($, window, app) {

    app.Archive = {} || app.Archive;

    var options = app.Archive.options = {
        minDate: new Date(2012, 0, 1),
        changeMonth: true,
        changeYear: true
    };

    var search = app.search = function() {
        $.ajax({
            url: "/Archive/Index",
            type: "post",
            data: $("#searchForm").serialize(),
            success: function (response) {
                $("#resultContainer").html(response);
            }
        });
    };

    app.Archive.init = function() {
        app.initDatePickers();
        app.initEventHandlers();
    };

    app.initDatePickers = function() {
        $("#StartDate").datepicker(options); // or app.options
        $("#EndDate").datepicker(options);
    };

    app.initEventHandlers = function() {
        $("#searchButton").on("click", app.search);
    };

    return app;
})(jQuery, window, Portalen || {}); 
```

**别的地方：**

```
$(function() {
    Portalen.Archive.init();
}); 
```

​ 另外我想建议你看看[Require.js](http://requirejs.org/)，它可以让你以方便的方式组织你的 JavaScript 模块。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T10:56:17.427

我有时使用这种方式：

```
/* defined in ~/Scripts/app/portalen.js */    
var Portalen = {
    Archive: '',
    AnotherClass: ''
}

/* defined in ~/Scripts/app/portalen-archive.js  */
Portalen.Archive = function(options){
    this.options = {
        someSettings: 'default',
        anotherOneOption: [],
        datePickerSettings: {
            minDate: new Date(2012, 0, 1),
            changeMonth: true,
            changeYear: true
        }
    }

    /* You can overwrite these settings (this.options) when creating an instance  */
    $.extend(this.options, options)

    /* auto init an instance.. but you can remove it and call init when & where you want after creating an instance of Portalen.Archive */
    this.init(); 
}

Portalen.Archive.prototype = {
    init: function(){
        var self = this;
        console.log('initialize');

        self._bindEvents();
    },

    search: function(){
        $.ajax({
            url: "/Archive/Index",
            type: "post",
            data: $("#searchForm").serialize(),
            success: function (response) {
                $("#resultContainer").html(response);
            }
        });
    },

    _bindEvents: function(){
        var self = this;
        $("#StartDate").datepicker(self.options.datePickerSettings);
        $("#EndDate").datepicker(self.options.datePickerSettings);

        $("#searchButton").on("click", function() {
            self.search();
        });
    }
} 
```

你可以创建实例

```
<script type="text/javascript" src="~/Scripts/app/portalen.js"></script>
<script type="text/javascript" src="~/Scripts/app/portalen-archive.js"></script>
<script type="text/javascript" src="~/Scripts/app/portalen-another-class.js"></script>
<script>
    $(function(){
        /* For now it will automaticly call init method..  */
        var archive = new Portalen.Archive({
                /* you can overwrite any optioin */
                someSettings: 'overwrite this option'
            });
    });
</script> 
```

我将不胜感激任何改进这种模式的建议:))

# android - BOOT_COMPLETED 后警报对话框中出现空指针异常

> ID：13082728
> 
> 赞同：3
> 
> 时间：2012-10-26T07:35:01.737
> 
> 标签：android, broadcastreceiver, android-alertdialog, bootcompleted

我想在设备启动完成时显示一个警报对话框。广播接收器没有问题，它工作正常。但是当启动完成时，没有打开的活动，因此我到`NullPointerException`了这里。在这种情况下如何显示对话框？这是我用来显示对话框的代码：

```
public class RestartReceiver extends BroadcastReceiver 
{
    @Override
    public void onReceive(Context context, Intent intent) 
    {

        AlertDialog alertHelp;
        AlertDialog.Builder dialog = new AlertDialog.Builder(context);
        TextView m_timetext = new TextView(context );
        m_timetext.setText("hello");
        //  m_timetext.setTextColor(getResources().getColor(R.color.dark_green));

        LinearLayout linearLayout = new LinearLayout(context );
        linearLayout.setLayoutParams( new  LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT,
                LinearLayout.LayoutParams.FILL_PARENT));
        linearLayout.setOrientation(1); 
        linearLayout.addView(m_timetext);

        dialog.setPositiveButton("Ok", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {

            }});

        dialog.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {

            }});

        alertHelp = dialog.create();
        alertHelp.setView(linearLayout);
        alertHelp.show();       

        Log.d("In","Switched On");
    }
} 
```

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-27T05:53:36.800

这是一篇关于如何做到这一点的[帖子。](http://nsamteladze.blogspot.com/2012/10/show-dialog-in-android-after-device.html)您可以从[这里](https://github.com/NikolaiSamteladze/Boot_Dialog_Sample)获取源代码。

您的代码不起作用，因为您无法直接从广播接收器显示对话框。你必须使用一个`Activity`. 此外，为了接收`ACTION_BOOT_COMPLETED`您的活动，必须首先由用户或其他应用程序明确启动（谷歌应用程序停止状态以获取更多信息）。

基本上，要实现所需的功能，您需要执行以下操作：

1.  创建显示对话框的透明活动。
2.  创建`BroadcastReceiver`接收`ACTION_BOOT_COMPLETED`并开始您的活动。
3.  在清单中注册您的广播接收器并获得适当的权限。

此外，[此](https://stackoverflow.com/questions/2176922/how-to-create-transparent-activity-in-android)问题还提供了有关如何创建透明活动的更多信息。

# matlab - Matlab：xv / sy图

> ID：13082731
> 
> 赞同：0
> 
> 时间：2012-10-26T07:35:27.683
> 
> 标签：matlab, plot

我想绘制一个函数 y=1-exp(c) ，其中定义了 x 的范围。该图位于 x 和函数 y 之间。该图仅显示 1 个点，而不是呈指数显示一系列点。我是 Matlab.Sp 的新手，请帮助我哪里出错了这是代码：

```
 for x = -10:0.25:10

   if(x>0)

   c=-6*x;
   m=exp(c);
   y = 1-m  

   end
   plot(x,y,'o')
   xlabel('x') 
   ylabel('y') 
   title('Plot')
   end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:48:06.173

你的问题是for循环。它正在重置 y 的值并在每个循环中重新绘制一个点。你根本不需要那个循环。这段代码可以解决 y = 1-exp(A*x)

编辑（2012-10-30）OP 说对于 x<=0，y 为零。[@Nate](https://stackoverflow.com/users/1292464/nate)上面答案中的代码可能是最好的，但在这里我使用逻辑索引来展示做同样事情的不同方式。

```
x = -10:0.25:10; % <vector>
y = zeros(size(x)); % prealocate y with zeros and make it the same size as x
y(x>0) = 1 - exp(-5*x(x>0)); % only calculate y values for x>0
plot(x,y,'o')
xlabel('x')
ylabel('y')
title('Plot') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T07:39:47.237

这应该这样做：

```
x = -10:0.25:10; % define the x vector
c=  -5*x.*(x>0); % using a  logical condition the 'if' is avoided
y = 1-exp(c);    % calc y given c

plot(x,y,'o')
xlabel('x') 
ylabel('y') 
title('Plot') 
```

不需要'for'循环或'if'......

# git - 创建本地分支并将其变基为 master

> ID：13082741
> 
> 赞同：2
> 
> 时间：2012-10-26T07:36:10.653
> 
> 标签：git

我相信已经有很多关于这个的讨论，但是我们在工作中对此进行了长时间的讨论，并且没有明确的答案是正确的方法。我们提出了两种不同的技术，也许还有更多方法可以处理这种情况。

第一种方式：

```
git clone master
git checkout -b dev_branch
[do some changes, commit]
[master branch changed]
git checkout master
git pull
git checkout dev_branch
git rebase master
git push master 
```

第二种方式：

```
git clone master
git checkout -b dev_branch
[do some changes, commit]
[master branch changed]
git checkout master
git pull
git rebase --onto master master dev_branch
git push master 
```

在这种情况下，从本地开发分支推送到实际的 master 有什么问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:39:15.807

为什么不跳过然后不必要的结帐`master`？

```
git clone
git checkout -b dev_branch
[do some changes, commit]
git fetch origin
git rebase origin/master
git push origin HEAD:master 
```

# sql - 如何使用 Hibernate 在多列中搜索子字符串

> ID：13082744
> 
> 赞同：0
> 
> 时间：2012-10-26T07:36:11.847
> 
> 标签：sql, hibernate

以下是我调用数据库以查找子字符串“ello”的代码。

```
String queryString = "from ContentItem where singerName = '%"+searchString+"%' OR  songName = '%"+searchString+"%'";
System.out.println(queryString);
Query query = session.createQuery(queryString);
return query.list(); 
```

字符串输出是

```
from ContentItem where singerName = '%ello%' OR songName = '%ello%' 
```

它说 % 的意外令牌。如何使在这些列中搜索子字符串成为可能？

我在 Tapestry 中使用 Hibernate。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:09:34.470

等于 (=) 运算符不适用于通配符。您需要使用`like`（或喜欢）。

例如

```
SELECT * FROM table WHERE column like '%abc%'; 
```

[有关更多信息，请参阅此文档](http://www.w3schools.com/sql/sql_like.asp)。

# ios - ios模拟器在尝试加载故事板时给我一个黑屏？

> ID：13082749
> 
> 赞同：2
> 
> 时间：2012-10-26T07:36:41.923
> 
> 标签：ios, xcode

我已经尝试解决这个问题超过 14 个小时了......我真的希望有人可以帮助我加载我的故事板。每次我以非编程方式尝试它时，它都会决定将其保持为黑屏（而不是加载屏幕。我检查它是否在初始视图控制器中。但什么也没有。所以我想，也许我需要以编程方式进行。如您所见，我已经正确合成了它们。仍然没有。我做错了什么（没有 xcode 错误输出）。

Appdelegate.h

```
#import <UIKit/UIKit.h>
@class ViewController;
@interface AppDelegate : UIResponder <UIApplicationDelegate> {
        UIWindow *window;
    UIViewController *viewController;
}

@property (strong, nonatomic) UIWindow *window;
@property (strong, nonatomic) UIViewController *viewController;
@end 
```

AppDelegate.m

```
#import "AppDelegate.h"
#import "ViewController.h"

@implementation AppDelegate

@synthesize window;
@synthesize viewController=_viewController;
- (BOOL)application:(UIApplication *)application
didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc]
                   initWithFrame:[[UIScreen mainScreen] bounds]];

self.window.rootViewController = viewController;
    [self.window makeKeyAndVisible];
    return YES;
}
- (void)applicationWillTerminate:(UIApplication *)application {
    // Save data if appropriate
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-26T08:34:23.913

如果您使用的是 Storyboard，则应删除您在应用委托方法中编写的代码；将其更改为如下所示：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    return YES;
} 
```

接下来查看您的构建目标属性（在您的项目导航器中，单击最顶部的项目名称）。您的情节提要是否在“摘要”窗格的“主情节提要”部分中选择？

最后转到情节提要并确保您的视图控制器被选为初始视图控制器。选择视图控制器场景并验证属性检查器窗格中的“初始场景：是初始视图控制器”框是否已选中。

如果所有这些步骤都已经过验证并且您仍然看到一个空白屏幕，那么您的视图控制器中可能存在错误。尝试将一个全新的视图控制器拖到情节提要中，添加一个标签，并将其设置为初始视图控制器。如果您能够看到该场景启动，则您的原始视图控制器存在问题（而不是故事板启动的问题）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T08:16:33.883

首先，您的`viewController`属性只是一个零，它没有在任何地方初始化。有了这个`self.window.rootViewController = viewController;`，你只需将 nil 传递给`rootViewController`.

在 Interface Builder 中，您应该有箭头指示您的初始视图控制器 - 如此[图片](http://cdn2.raywenderlich.com/wp-content/uploads/2012/11/Initial-arrow-394x500.png)或在 Attributes Inspector 中所见，如此[处所示](http://cdn1.raywenderlich.com/wp-content/uploads/2012/11/Is-Initial-View-Controller-attribute.png)

你也可以在[这里阅读关于故事板的优秀教程](http://www.raywenderlich.com/5138/beginning-storyboards-in-ios-5-part-1)

# java - 将华氏温度发送到 Web 服务，返回错误，请帮助

> ID：13082750
> 
> 赞同：-1
> 
> 时间：2012-10-26T07:37:04.263
> 
> 标签：java, android, android-asynctask, ksoap2

当我试图联系网络服务并向他们发送华氏温度时，它会为我将它们转换为 celsium，但它会返回：

FahrenheitToCelsiusResponse{FahrenheitToCelsiusResult = ERROR;}

```
package com.test123;

import java.net.SocketException;

import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapPrimitive;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;

import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

import com.test123.R;

public class Activity123 extends Activity 
   {
      /** Called when the activity is first created. */
      private static String SOAP_ACTION1 = "http://tempuri.org/FahrenheitToCelsius";
      private static String SOAP_ACTION2 = "http://tempuri.org/CelsiusToFahrenheit";
      private static String NAMESPACE = "http://tempuri.org/";
      private static String METHOD_NAME1 = "FahrenheitToCelsius";
      private static String METHOD_NAME2 = "CelsiusToFahrenheit";
      private static String URL = "http://www.w3schools.com/webservices/tempconvert.asmx?WSDL";

      /*private static String SOAP_ACTION = "http://tempuri.org/HelloWorld";
      private static String NAMESPACE = "http://tempuri.org/";
      private static String METHOD_NAME = "HelloWorld";
      private static String URL = "http://192.168.0.25/webapplication1/ws.asmx";*/

      Button button_to_f,button_to_c,button_clear;
      EditText text_f,text_c;

      @Override
      public void onCreate(Bundle savedInstanceState)
         {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_activity123);

            button_to_f = (Button)findViewById(R.id.button_to_f);
            button_to_c = (Button)findViewById(R.id.button_to_f);
            button_clear = (Button)findViewById(R.id.button_clear);
            text_f = (EditText)findViewById(R.id.text_f);
            text_c = (EditText)findViewById(R.id.text_c);
         }

      @Override
      public boolean onCreateOptionsMenu(Menu menu) 
         {
            getMenuInflater().inflate(R.menu.activity_activity123, menu);
            return true;
         }

      public void F_TO_C(View button_to_f)
         {
            new CelsiumToFahrenheit().execute(""); 
            //text_f.setText( "zagonAsynTask");
         }

      private class CelsiumToFahrenheit extends AsyncTask<String, Void, String> 
         {
            @Override
            protected String doInBackground(String... params) 
               {
                  SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1); // Zmeraj je že tuki program se ustavu, dons pa kr po čudežu NIKJER se ne ustav...                      
                  final SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);     

                  envelope.dotNet = true;
                  envelope.encodingStyle = SoapSerializationEnvelope.XSD;
                  envelope.setOutputSoapObject(request);

                  request.addProperty("Celsius",text_c.getText().toString() );

                  final HttpTransportSE  HT = new HttpTransportSE(URL);
                  //Allow for debugging - needed to output the request
                  //HT.debug = true;

                  try 
                     {
                        HT.call(SOAP_ACTION1, envelope);

                        //final SoapPrimitive response = (SoapPrimitive)envelope.getResponse();
//                      Object result = (Object)envelope.getResponse(); 
                        final SoapObject result = (SoapObject)envelope.bodyIn;

                        // Get the SoapResult from the envelope body.
                        //return "Executed:"+response.toString();
                        return result.toString();
                     }
                  catch (Exception e) // Tukaj je blo InterruptedException e
                     {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                        return "Napaka:" + e.toString();
                     }               
              }      

            @Override
            protected void onPostExecute(String result) 
               {
                  text_f.setText(result); // txt.setText(result);
                  // might want to change "executed" for the returned string passed into onPostExecute() but that is upto you
               }

            @Override
            protected void onPreExecute() 
               {
                //Empty
               }

            @Override
            protected void onProgressUpdate(Void... values) 
               {
                 / Empty
               }
         }

      public void CLEAR(View v)
         {
            text_c.setText("");
            text_f.setText("");
         }

   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:46:56.863

为 EditTexts 创建一个全局引用

喜欢

```
public EditText myEditText; 
```

然后在onCreate中，将它们分配给真正的EditText

```
@Override
public void onCreate(Bundle savedInstanceState) {
       .
       .
       setContentView(...)
       myEditText = (EditText) findViewById (R.id.myedittextid);
       .
} 
```

现在在您的工作线程中，您可以使用 myEditText.getText().toString() 来获取 EditText 中的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:10:11.287

你为什么不直接使用[`runOnUiThread()`](http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29). 您将在提供的链接中找到说明。

此方法将帮助您从工作线程运行和操作，并将其应用于 UI 线程

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-27T08:58:29.220

愚蠢的错误，更改
`request.addProperty("Celsius",text_c.getText().toString() );`
为`request.addProperty("Fahrenheit",text_c.getText().toString() );`

我的代码

```
public class Sample extends Activity {
/** Called when the activity is first created. */
private static String SOAP_ACTION1 = "http://tempuri.org/FahrenheitToCelsius";
private static String NAMESPACE = "http://tempuri.org/";
private static String METHOD_NAME1 = "FahrenheitToCelsius";
private static String URL = "http://www.w3schools.com/webservices/tempconvert.asmx";
EditText text_c, text_f;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    text_c = new EditText(this);
    text_f = new EditText(this);
    text_c.setText("76");
    new CelsiumToFahrenheit().execute();
}

private class CelsiumToFahrenheit extends AsyncTask<String, Void, String> {
    @Override
    protected String doInBackground(String... params) {

        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);
        request.addProperty("Fahrenheit", "78");
        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER12);
        envelope.dotNet = true;
        envelope.setOutputSoapObject(request);
        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
        System.setProperty("http.keepAlive", "true");
        try {
            androidHttpTransport.call(SOAP_ACTION1, envelope);
            androidHttpTransport.debug = true;
            Object result = envelope.getResponse();
            System.out.println("GetDataFromNetwork.doInBackground()" + result);
        } catch (IOException e) {
            // e.printStackTrace();
        } catch (XmlPullParserException e) {
            // e.printStackTrace();
        }
        return null;

    }

    @Override
    protected void onPostExecute(String result) {
        text_f.setText(result); // txt.setText(result);
    }
} 
```

}

# java - Android，ObjectAnimator 滞后于两个重叠的布局

> ID：13082756
> 
> 赞同：3
> 
> 时间：2012-10-26T07:37:16.350
> 
> 标签：java, android, android-layout, listview, animation

我的应用程序在两个重叠布局上的平滑度方面存在问题。我建立了某种幻灯片菜单（如 Facebook 或 YouTube）。此菜单包含两种布局：显示数据的主布局并包括其下方的菜单布局。然后是菜单布局本身，一个带有自定义行布局的普通 ListView。

主要的：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

<include
        android:id="@+id/menu_list"
        layout="@layout/menu_list"/>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:id="@+id/news_content"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"
              android:background="#FFF"
              android:orientation="vertical">
    <ListView
            android:id="@android:id/list"
            android:layout_width="match_parent"
            android:layout_height="match_parent"/>

 </LinearLayout>

 <LinearLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:orientation="horizontal"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent">

    <ProgressBar
            android:id="@+id/NewsProgressBar"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:visibility="gone"
            style="@android:style/Widget.Holo.Light.ProgressBar.Large"/>

 </LinearLayout>

</RelativeLayout> 
```

菜单：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:layout_width="250dip"
          android:layout_height="fill_parent"
          android:orientation="vertical"
          android:background="@drawable/ic_sidebar_bg">

<RelativeLayout
        android:layout_height="wrap_content"
        android:layout_width="wrap_content">

    <ImageView
            android:alpha="0.8"
            android:layout_height="40dp"
            android:layout_width="match_parent"
            android:background="#222222"/>

    <TextView
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:layout_marginLeft="10dip"
            android:layout_marginTop="12dip"
            android:textSize="14dp"
            android:textColor="#666"
            android:text="@string/menu_cat_main"/>

    <ImageView
            android:layout_height="1dp"
            android:layout_marginTop="40dp"
            android:layout_width="match_parent"
            android:background="#666666"/>

</RelativeLayout>

<ListView
        android:id="@+id/mainMenuList"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"/>
</LinearLayout> 
```

我已经认识到这种重叠会导致 ListView 严重滞后。我所做的就是让菜单包含“visibility:gone”，这会导致 ListViews 工作得非常好。但是，如果我尝试将内容侧向滑动，则包含（菜单）会再次可见，并且幻灯片不会平滑。但除了这个外观问题之外，菜单的工作方式与 YouTube 上的完全一样。

为了清楚地了解以下代码： viewContent (View) 包含带有其内容的 LinearLayout viewMenu (View) 包含菜单布局 include canSlide (bool) 只要菜单可以通过触摸滑动（屏幕的某些区域为真） touch) isMenuScrolled (bool) 每当菜单滑出或不滑出时

这里是来自触摸事件的代码：

```
public boolean dispatchTouchEvent(MotionEvent touchevent) {

    switch (touchevent.getAction()) {
        case MotionEvent.ACTION_MOVE:

            if (canSlide) {
                if (touchevent.getX() < viewMenu.getWidth()) {
                    viewContent.setX(touchevent.getX());
                } else if (touchevent.getX() < 0) {
                    viewContent.setX(0);
                } else if (touchevent.getX() > viewMenu.getWidth()) {
                    viewContent.setX(viewMenu.getWidth());
                }

                viewContent.setEnabled(false);
            }
            return true;

        case MotionEvent.ACTION_DOWN:

            if (touchevent.getY() > 200 && touchevent.getX() < 50 && !isMenuScrolled) {
                viewMenu.setVisibility(View.VISIBLE);
                touchStart = touchevent.getX();
                canSlide = true;
            } else if (touchevent.getY() > 200 && touchevent.getX() > viewMenu.getWidth() && isMenuScrolled) {
                viewMenu.setVisibility(View.VISIBLE);
                touchStart = touchevent.getX();
                canSlide = true;
            } else {
                canSlide = false;
            }
            return true;

        case MotionEvent.ACTION_UP:

            if (viewContent.getX() != 0 || viewContent.getX() != viewMenu.getWidth()) {
                if (viewContent.getX() < touchStart) {
                    ObjectAnimator transAnimation = ObjectAnimator.ofFloat(viewContent, "x", viewContent.getX(), 0);

                    transAnimation.addListener(new Animator.AnimatorListener() {

                        @Override
                        public void onAnimationStart(Animator animator) {
                            viewContent.setEnabled(false);
                            isMenuScrolled = false;
                        }

                        @Override
                        public void onAnimationEnd(Animator animation) {
                            viewMenu.setVisibility(View.GONE);
                            viewContent.setEnabled(true);
                        }

                        @Override
                        public void onAnimationCancel(Animator animator) {
                            // nothing
                        }

                        @Override
                        public void onAnimationRepeat(Animator animator) {
                            // nothing
                        }

                    });

                    transAnimation.setDuration(300);
                    transAnimation.start();

                } else if (viewContent.getX() > touchStart) {
                    ObjectAnimator transAnimation = ObjectAnimator.ofFloat(viewContent, "x", viewContent.getX(), viewMenu.getWidth());

                    transAnimation.addListener(new Animator.AnimatorListener() {

                        @Override
                        public void onAnimationStart(Animator animator) {
                            viewContent.setEnabled(false);
                            isMenuScrolled = true;
                        }

                        @Override
                        public void onAnimationEnd(Animator animation) {
                            viewContent.setEnabled(true);
                        }

                        @Override
                        public void onAnimationCancel(Animator animator) {
                            // nothing
                        }

                        @Override
                        public void onAnimationRepeat(Animator animator) {
                            // nothing
                        }

                    });

                    transAnimation.setDuration(300);
                    transAnimation.start();
                }
            }
            return true;
    }

    return true;
} 
```

如何解决此问题，使其滚动更流畅？最后一件事，在滚动菜单时禁用内容的最佳方法是什么？viewContent.setEnabled 无法正常工作。

非常感谢提前！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-05-04T09:43:01.410

**尝试：**

`android:hardwareAccelerated="true"`在清单的应用程序标签下添加。

**和：**`myViewContainer.setLayerType(View.LAYER_TYPE_HARDWARE, null);`

这在某些环境情况下可能会更顺畅，测试你的运气。

# c++ - 函数 CWnd::CreateControl 成功，但 m_hWnd 为 NULL

> ID：13082758
> 
> 赞同：4
> 
> 时间：2012-10-26T07:37:25.837
> 
> 标签：c++, windows, visual-studio-2010, visual-c++, mfc

我用 VC++ 6.0 运行代码，一切正常。但是在 Visual C++ 2010 下运行相同的代码时，`wnd`（即`m_hWnd`）的句柄始终为 NULL。此外，返回值bRet 为TRUE（即成功）。

这是我的代码：

```
BOOL CDemoDlg::OnInitDialog()
{
    CDialog::OnInitDialog();

    // Set the icon for this dialog.  The framework does this automatically
    //  when the application's main window is not a dialog
    SetIcon(m_hIcon, TRUE);         // Set big icon
    SetIcon(m_hIcon, FALSE);        // Set small icon

    // TODO: Add extra initialization here
    CRect rect;
    GetClientRect(rect);
    CWnd wnd;
    BOOL bRet = wnd.CreateControl(_T("WMPlayer.OCX"), NULL, WS_VISIBLE, rect, this, 19089);

    return TRUE;  // return TRUE  unless you set the focus to a control
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T10:07:54.513

wnd 对象超出范围 - 尝试使其成为成员并检查随后发生的情况。此外，如果您尝试为对话框 m_hWnd 对象分配不同的句柄，那么您就犯了一个错误，因为 m_hWnd 在调用 OnInitDialog 时应该对您的对话框有效（响应 Create 调用），所以您不应该重新分配对话框成员窗口句柄，而是为其创建一个单独的成员。希望这可以帮助。

# maven - 不仅仅是 pom.xml 中的编译步骤

> ID：13082763
> 
> 赞同：1
> 
> 时间：2012-10-26T07:37:46.783
> 
> 标签：maven

我有 pom.xml 的结构如下：

```
<plugins>
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
    <version>2.5</version>
    <configuration>
        <includes>
                 ... some directories with .java files to compile. 
```

...

```
<plugin>  --- some my plugin that generates one more dir with .java files. 
```

此时我想编译新生成的文件，所以我在这里重复第 1 步，使用不同的“包含”元素内容。第二次编译根本不会发生。请指教。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:33:20.230

您的插件应该分阶段运行`generate-sources`。然后您必须确保生成的源在正常`compile`阶段可用。

您的插件应配置如下：

```
<build>
    <plugins>
        <plugin>
            <groupId>your.group</groupId>
            <artifactId>your-generator-plugin</artifactId>
            <version>your-generator-version</version>
            <executions>
                <execution>
                    <phase>generate-sources</phase>
                    <goals>
                        <goal>your-generator-goal</goal>
                    </goals>
                    <configuration>
                        <!-- Here goes all the plugin configuration -->
                    </configuration>
                </execution>
            </executions>
        </plugin>
    </plugins>
</build> 
```

你可以直接从你的插件（mojo）中添加编译源路径来使用。

以下是您必须添加到 mojo 中的示例：

```
/**
 * The current project representation.
 * @parameter expression="${project}"
 * @required
 * @readonly
 */
private MavenProject project;

/**
 * Directory wherein generated source will be put; main, test, site, ... will be added implictly.
 * @parameter expression="${outputDir}" default-value="${project.build.directory}/src-generated"
 * @required
 */
private File outputDir; 
```

并且必须将这样的内容添加到您的`execute()`方法中：

```
if (!settings.isInteractiveMode()) {
    LOG.info("Adding " + outputDir.getAbsolutePath() + " to compile source root");
}
project.addCompileSourceRoot(outputDir.getAbsolutePath()); 
```

* * *

This will output the generated java source files into `target/src-generated/` but that can either be changed to some other default value in your mojo **OR** by adding this to the configuration part of the plugin:

```
<outputDir>path/to/my/generated/source/</outputDir> 
```

* * *

The generated java source files will automatically be included in the `compile` phase.

# actionscript-3 - 在 AS3 中添加到阶段的符号的 1046 错误

> ID：13082766
> 
> 赞同：1
> 
> 时间：2012-10-26T07:38:06.823
> 
> 标签：actionscript-3, flash, actionscript, compiler-errors

我不断收到的错误是这个 x4：

```
Symbol 'list'  ---  1046: Type was not found or was not a compile-time constant 
```

我的电影剪辑中有四个名为“列表”的电影剪辑，它们被称为 print1 等。我得到一个错误。我要做的就是使用 addChild(list) 将“列表”电影剪辑添加到舞台，这在我添加这四个“打印”电影剪辑之前就起作用了。

“打印”电影剪辑嵌套在我的库中的文件夹和子文件夹中。我的“列表”符号在主目录中。这对错误有什么影响吗？还是我必须在动作脚本中声明除了“列表”电影剪辑之外的任何其他内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-27T19:13:11.573

您需要选中“自动声明阶段实例”，或者您需要在类定义中提供一个变量。

# android - Android：如何将我的自定义表面视图设置为 xml 中的固定大小比例？

> ID：13082769
> 
> 赞同：5
> 
> 时间：2012-10-26T07:38:12.637
> 
> 标签：android, surfaceview

我正在尝试在xml布局中添加一个surfaceview（扩展surfaceview的自定义类）以具有固定的尺寸比：4：3（长宽比）。

我希望它在长度或宽度上尽可能多地填充它的父级，但是一旦它达到全长或全宽，它就会像我之前所说的那样调整另一侧以具有固定的尺寸比。

我怎样才能做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-26T07:46:44.870

在活动的 onCreate 方法中，您可以读取屏幕的分辨率并将布局宽度和高度设置为它。

假设您使用 RealtiveLayout 的示例：

```
private void create43RatioSurface() {
    SurfaceView surfaceView43 = (SurfaceView)findViewById(R.id.surfaceView1);

    DisplayMetrics metrics = getResources().getDisplayMetrics();
    int height = 0;
    int width = 0;

    if(metrics.widthPixels < metrics.heightPixels){
        width = metrics.widthPixels;
        height= (metrics.widthPixels/4) * 3 ;
    } else {
        height= metrics.heightPixels;
        width= (metrics.heightPixels/4) * 3 ;
    }

    RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(width, height);
    layoutParams.addRule(RelativeLayout.ALIGN_PARENT_LEFT, RelativeLayout.TRUE);
    layoutParams.addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);

    surfaceView43.setLayoutParams(layoutParams);        
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T08:06:12.137

这可能有点骇人听闻，但您可以将空白图像视图作为表面视图的一种框架。现在来解释疯狂

> 1）创建一个符合您想要的比例且全透明的图像资产。让我们称之为我们的幽灵图像（最好也让它不可见）
> 
> 2）使用相对布局并将图像视图放置在相对布局中，使用 match_parent 作为高度和宽度，并使用 scaletype CENTER_INSIDE 或 CENTER_CROP 如果你去 van gocha 并创建了大量资产
> 
> 3）在图像视图之后将您的表面视图添加到布局中，并与图像视图对齐顶部/底部/右/左

我还没有尝试过这种实现，但它应该为你提供你想要的任何屏幕的比例。

# java - 为什么 StringBuilder 比 StringBuffer 慢？

> ID：13082771
> 
> 赞同：9
> 
> 时间：2012-10-26T07:38:25.543
> 
> 标签：java, stringbuilder, stringbuffer

在[此示例](http://diycomputerscience.com/competencies/topic/core-java/competency/understands-why-using-a-stringbuffer-is-better-than-using-the--operator)中，StringBuffer 实际上比 StringBuilder 快，而我预期的结果相反。

这与 JIT 进行的优化有关吗？有谁知道为什么 StringBuffer 会比 StringBuilder 快，即使它的方法是同步的？

这是代码和基准测试结果：

```
public class StringOps {

    public static void main(String args[]) {

        long sConcatStart = System.nanoTime();
        String s = "";
        for(int i=0; i<1000; i++) {
            s += String.valueOf(i);
        }
        long sConcatEnd = System.nanoTime();

        long sBuffStart = System.nanoTime();
        StringBuffer buff = new StringBuffer();
        for(int i=0; i<1000; i++) {
            buff.append(i);
        }
        long sBuffEnd = System.nanoTime();

        long sBuilderStart = System.nanoTime();
        StringBuilder builder = new StringBuilder();
        for(int i=0; i<1000; i++) {
            builder.append(i);
        }
        long sBuilderEnd = System.nanoTime();

        System.out.println("Using + operator : " + (sConcatEnd-sConcatStart) + "ns");
        System.out.println("Using StringBuffer : " + (sBuffEnd-sBuffStart) + "ns");
        System.out.println("Using StringBuilder : " + (sBuilderEnd-sBuilderStart) + "ns");

        System.out.println("Diff '+'/Buff = " + (double)(sConcatEnd-sConcatStart)/(sBuffEnd-sBuffStart));
        System.out.println("Diff Buff/Builder = " + (double)(sBuffEnd-sBuffStart)/(sBuilderEnd-sBuilderStart));
    }
} 
```

**基准测试结果：**

```
Using + operator : 17199609ns
Using StringBuffer : 244054ns
Using StringBuilder : 4351242ns
Diff '+'/Buff = 70.47460398108615
Diff Buff/Builder = 0.056088353624091696 
```

**更新：**

谢谢大家。热身确实是个问题。添加一些预热代码后，基准更改为：

```
Using + operator : 8782460ns
Using StringBuffer : 343375ns
Using StringBuilder : 211171ns
Diff '+'/Buff = 25.576876592646524
Diff Buff/Builder = 1.6260518726529685 
```

YMMV，但至少总体比率与预期一致。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-10-26T07:41:42.373

我查看了您的代码，`StringBuilder`它*看起来*较慢的最可能原因是您的基准测试没有正确考虑 JVM 预热的影响。在这种情况下：

*   JVM 启动将产生大量需要处理的垃圾，并且
*   JIT 编译可能会在运行的中途开始。

这些中的任何一个或两者都可能会增加`StringBuilder`您测试部分的测量时间。

请阅读此问题的答案以获取更多详细信息：[如何在 Java 中编写正确的微基准测试？](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-26T07:44:08.610

在两种情况下都使用完全相同的代码 from `java.lang.AbstractStringBuilder`，并且两个实例都是以相同的容量 (16) 创建的。

唯一的区别是`synchronized`在初始调用时使用 。

我得出结论，这是一个测量工件。

**字符串生成器：**

```
228    public StringBuilder append(int i) {
229        super.append(i);
230        return this;
231    } 
```

**字符串缓冲区：**

```
345    public synchronized StringBuffer append(int i) {
346        super.append(i);
347        return this;
348    } 
```

**抽象字符串生成器：**

```
605     public AbstractStringBuilder append(int i) {
606         if (i == Integer.MIN_VALUE) {
607             append("-2147483648");
608             return this;
609         }
610         int appendedLength = (i < 0) ? Integer.stringSize(-i) + 1
611                                      : Integer.stringSize(i);
612         int spaceNeeded = count + appendedLength;
613         if (spaceNeeded > value.length)
614             expandCapacity(spaceNeeded);
615         Integer.getChars(i, spaceNeeded, value);
616         count = spaceNeeded;
617         return this;
618     }

110     void expandCapacity(int minimumCapacity) {
111         int newCapacity = (value.length + 1) * 2;
112         if (newCapacity < 0) {
113             newCapacity = Integer.MAX_VALUE;
114         } else if (minimumCapacity > newCapacity) {
115             newCapacity = minimumCapacity;
116         }
117         value = Arrays.copyOf(value, newCapacity);
118     } 
```

（expandCapacity 未被覆盖）

这篇博文详细介绍了：

*   微基准测试的难点
*   事实上，你不应该在不看一下你测量的东西的情况下发布基准的“结果”（这里是常见的超类）

请注意，在最近的 JDK 中同步的“缓慢”可以被认为是一个神话。我所做或阅读的所有测试都得出结论，通常没有理由浪费太多时间来避免同步。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-26T07:44:42.107

当您自己运行该代码时，您会看到不同的结果。有时 StringBuffer 更快，有时 StringBuilder 更快。可能的原因可能是`JVM warmup`使用前所花费的时间`StringBuffer`，`StringBuilder`正如@Stephen 所述，这可能因多次运行而异。

这是我进行了 4 次运行的结果：-

```
Using StringBuffer : 398445ns
Using StringBuilder : 272800ns

Using StringBuffer : 411155ns
Using StringBuilder : 281600ns

Using StringBuffer : 386711ns
Using StringBuilder : 662933ns

Using StringBuffer : 413600ns
Using StringBuilder : 270356ns 
```

当然，仅基于 4 次执行无法预测确切的数字。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-26T08:16:28.700

我建议

*   将每个循环分解成一个单独的方法，这样一个循环的优化就不会影响另一个循环。
*   忽略前 10K 次迭代
*   运行测试至少 2 秒。
*   多次运行测试以确保其可重复性。

当您运行代码少于 10000 次时，它可能不会触发将代码编译为默认值`-XX:CompileThreshold=10000`。它这样做的部分原因是收集有关如何最好地优化代码的统计信息。但是，当循环触发编译时，它会为*整个方法*触发它，这可以使以后的循环看起来 a) 在开始之前编译时更好 b) 在不收集任何统计信息的情况下编译时更差。

* * *

考虑以下代码

```
public static void main(String... args) {
    int runs = 1000;
    for (int i = 0; i < runs; i++)
        String.valueOf(i);

    System.out.printf("%-10s%-10s%-10s%-9s%-9s%n", "+ oper", "SBuffer", "SBuilder", "+/Buff", "Buff/Builder");
    for (int t = 0; t < 5; t++) {
        long sConcatTime = timeStringConcat(runs);
        long sBuffTime = timeStringBuffer(runs);
        long sBuilderTime = timeStringBuilder(runs);

        System.out.printf("%,7dns %,7dns %,7dns ",
                sConcatTime / runs, sBuffTime / runs, sBuilderTime / runs);
        System.out.printf("%8.2f %8.2f%n",
                (double) sConcatTime / sBuffTime, (double) sBuffTime / sBuilderTime);
    }
}

public static double dontOptimiseAway = 0;

private static long timeStringConcat(int runs) {
    long sConcatStart = System.nanoTime();
    for (int j = 0; j < 100; j++) {
        String s = "";
        for (int i = 0; i < runs; i += 100) {
            s += String.valueOf(i);
        }
        dontOptimiseAway = Double.parseDouble(s);
    }
    return System.nanoTime() - sConcatStart;
}

private static long timeStringBuffer(int runs) {
    long sBuffStart = System.nanoTime();
    for (int j = 0; j < 100; j++) {
        StringBuffer buff = new StringBuffer();
        for (int i = 0; i < runs; i += 100)
            buff.append(i);
        dontOptimiseAway = Double.parseDouble(buff.toString());
    }
    return System.nanoTime() - sBuffStart;
}

private static long timeStringBuilder(int runs) {
    long sBuilderStart = System.nanoTime();
    for (int j = 0; j < 100; j++) {
        StringBuilder buff = new StringBuilder();
        for (int i = 0; i < runs; i += 100)
            buff.append(i);
        dontOptimiseAway = Double.parseDouble(buff.toString());
    }
    return System.nanoTime() - sBuilderStart;
} 
```

运行次数 = 1000 的打印

```
+ oper    SBuffer   SBuilder  +/Buff   Buff/Builder
  6,848ns   3,169ns   3,287ns     2.16     0.96
  6,039ns   2,937ns   3,311ns     2.06     0.89
  6,025ns   3,315ns   2,276ns     1.82     1.46
  4,718ns   2,254ns   2,180ns     2.09     1.03
  5,183ns   2,319ns   2,186ns     2.23     1.06 
```

但是，如果您增加运行次数 = 10,000

```
+ oper    SBuffer   SBuilder  +/Buff   Buff/Builder
  3,791ns     400ns     357ns     9.46     1.12
  1,426ns     139ns     113ns    10.23     1.23
    323ns     141ns     117ns     2.29     1.20
    317ns     115ns      78ns     2.76     1.47
    317ns     127ns     103ns     2.49     1.23 
```

如果我们将运行次数增加到 100,000 我得到

```
+ oper    SBuffer   SBuilder  +/Buff   Buff/Builder
  3,946ns     195ns     128ns    20.23     1.52
  2,364ns     113ns      86ns    20.80     1.32
  2,189ns     142ns      95ns    15.34     1.49
  2,036ns     142ns      96ns    14.31     1.48
  2,566ns     114ns      88ns    22.46     1.29 
```

注意：由于`+`循环的时间复杂度为 O(N^2)，因此操作变慢了

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-26T08:08:26.327

我稍微修改了您的代码并添加了预热循环。大多数时候我的观察结果是一致的，大多数时候 StringBuilder 更快。

我在 Ubuntu12.04 机器上运行，它虚拟地在 Windows 7 上运行，并为 VM 分配了 2 GB RAM。

```
public class StringOps {

public static void main(String args[]) {

    for(int j=0;j<10;j++){
        StringBuffer buff = new StringBuffer();
        for(int i=0; i<1000; i++) {
                buff.append(i);
        }
    buff = new StringBuffer();
    long sBuffStart = System.nanoTime();
    for(int i=0; i<10000; i++) {
                buff.append(i);
        }
    long sBuffEnd = System.nanoTime();

        StringBuilder builder = new StringBuilder();
        for(int i=0; i<1000; i++) {
                builder.append(i);
        }
    builder = new StringBuilder();
    long sBuilderStart = System.nanoTime();
    for(int i=0; i<10000; i++) {
                builder.append(i);
        }   
        long sBuilderEnd = System.nanoTime();

        if((sBuffEnd-sBuffStart)>(sBuilderEnd-sBuilderStart)) {
        System.out.println("String Builder is faster") ; 
    }
    else {
        System.out.println("String Buffer is faster") ;
    }
    }
} 
```

}

结果是：

```
String Builder is faster
String Builder is faster
String Builder is faster
String Builder is faster
String Buffer is faster
String Builder is faster
String Builder is faster
String Builder is faster
String Builder is faster
String Builder is faster 
```

# django - 模型中与不存在的模型相关的可选外键

> ID：13082789
> 
> 赞同：0
> 
> 时间：2012-10-26T07:39:35.880
> 
> 标签：django, model, foreign-key-relationship

我试图将第二个 ForeignKey 关系添加到与尚未创建的模型相关的 Django 模型中。

```
class Forms2012(models.Model):
    """
    Employer forms for the 2012-13 tax year
    """
    employer = models.ForeignKey('Employer', blank=True, null=True)
    # employee model is yet to be implemented
    employee = models.ForeignKey('Employee', blank=True, null=True)
    name = models.CharField(
        max_length=50,
        choices=constants.FORM_CHOICES)
    description = models.CharField(max_length=255)
    datemodified = models.DateTimeField() 
```

正如您所料，这是一个`not installed or is abstract`错误。但是我被告知应该可以验证这一点，因为该密钥是可选的。

有人可以解释这是否可能，我已将标志添加`blank=True, null=True`到 FK 但模型验证失败，所以我认为我正在打一场失败的战斗。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:45:08.707

你为什么不制作（临时）虚拟模型？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:48:49.050

我建议您实施“存根”`Employee`模型，例如

```
class Employee(models.Model):
    pass 
```

如果您应该使用数据库迁移（例如 South ），那么稍后“填写” Employee 类应该是一件简单的事情。

但是，如果您想要一个相当复杂的问题“解决方案”，您可以查看[这个问题](https://stackoverflow.com/questions/10623854/django-soft-foreignfield-without-database-integrity-checks)中接受的答案。问题和答案的作者承认它很丑（即使它有效）。“存根”解决方案更好。

# java - 如何使用 javascript 重命名树视图节点或更改树视图节点

> ID：13082791
> 
> 赞同：0
> 
> 时间：2012-10-26T07:39:41.513
> 
> 标签：java, javascript, jsp

我在 Java 脚本中使用树视图结构重命名节点，如父节点或子节点。

我有这样的代码无法正常工作。

```
 function rename(TreeId , TreeNode)
{

         var selectnode  = Ztree1.getSelectedNode();

} 
```

上面的 var 声明我会收到错误警报消息之类的错误。谁能告诉我如何修改父节点和子节点。提前谢谢。**强文本**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:45:22.013

Add listener to tree, it works here for rename.

refer here [Rename a treeViewer Node with SWT](https://stackoverflow.com/questions/9921560/rename-a-treeviewer-node-with-swt) not for java script but will give you idea

# html - Jquerymobile剃须刀模板不呈现html

> ID：13082804
> 
> 赞同：0
> 
> 时间：2012-10-26T07:40:55.040
> 
> 标签：html, asp.net-mvc, jquery-mobile, razor

我正在使用剃须刀模板，因此在处理代码时可以减少 mvc 视图中的混乱程度。我创建了“部分”，它将呈现为我的移动页面所需的单独页面，如下所示：

```
<div data-role="page" id="page2">
<div data-role="header">
    @if (IsSectionDefined("Header2"))
    {
        @RenderSection("Header2")
    }
    else
    {
    }
</div>
<div data-role="content">
    @if (IsSectionDefined("Content2"))
    {
        @RenderSection("Content2")
    }
    else
    {
    }
</div>
<div data-role="footer">
    @if (IsSectionDefined("Footer2"))
    {
        @RenderSection("Footer2")
    }
    else
    {
    }
</div> 
```

我使用与上面相同的模板最多 3 页。

我目前的问题是我已经使用以下方法为我的第 2 页分配了一些代码：

```
@section Content2{
<div id="machinesearch" class="ui-content">
    <ul id="machinelist" data-autodividers="true" data-theme="d" data-divider-theme="a"
        data-filter="true" data-role="listview">
        @foreach (var item in Model.Plants)
        {
            <li><a href="#page1" onclick="javscript:MachineSet($(this).find('input').val(),$(this).text());">@item.Asset_Descriptor<input id="Sap_ID" type="hidden" value="@item.Asset_SAP_ID"/></a></li>      
        }
    </ul>
</div> 
```

}

我显示此页面的链接是：

```
$("#testbutton").click(function(){

$('#page2').trigger('pagecreate');
$("#machinelist").listview('refresh');
alert("test");

}); 
```

但这似乎没有任何区别。

有任何想法吗？

当我查看第一页的 html 源代码时，我可以看到所有数据都正确加载，其中还包含第二页的 html。这似乎是因为剃须刀在第 1 页加载后将数据注入第 2 页。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:59:22.870

你实际上并没有显示页面......

```
$.mobile.changePage("#page2"); 
```

将显示页面。

# javascript - How can I get Margin-left pixel, when I set the Margin to be auto

> ID：13082816
> 
> 赞同：0
> 
> 时间：2012-10-26T07:41:59.190
> 
> 标签：javascript, html

How can I get Margin-left pixel, when I set the Margin to be auto in HTML?
eg: HTML:`<img class="image_main" src="....." style="margin:auto;">`
i have no idea to do that.

thank you very much

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:02:32.067

想想属性：offsetLeft。

# php - PHP HTML 创建库

> ID：13082818
> 
> 赞同：9
> 
> 时间：2012-10-26T07:42:08.873
> 
> 标签：php, html

我正在寻找一种 PHP 解决方案，它允许以以下样式创建 HTML：

```
$head=new Head();
$title=new Title("The title of the page");
$head->setTitle($title);

$body=new Body();
$h1=new H(1,"Header 1");
$body->add($h1);

$html=new HTML();
$html->setHead($head);
$html->setBody($body);

echo $html->asHTMLString(); 
```

**哪些 PHP 库有类似的 API？** 我对“什么是最好的......？”不感兴趣 我想知道 API 具有可比性这一事实。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:46:52.080

我现在确实有一个无 OO 版本，如下所示：

```
<?php
/**
 * HTML Abstraction
 */

   // html
   function html($html) {
     return tag("html",$html,-1,0);
   } 

   // body
   function body($body,$indent=1) {
     return tag("body",$body,$indent,$indent);
   }

   // head
   function head($head,$indent=1) {
     return tag("head",$head,$indent,$indent);
   }

   // image
   function img($src,$alt,$width,$height,$indent=-1) {
     return attrtag("img",attr("src",$src).attr("alt",$alt).attr("width",$width).attr("height",$height),"",$indent,$indent);
   }

   // table
   function table($lt,$indent=3) {
     return tag("table",$lt,$indent,$indent);
   }

   // title
   function title($title,$indent=2) {
     return tag("title",$title,$indent,-1);
   }

   // tag with possible indentation
   function tag($tag,$ltagcontent,$openindent=-1,$closeindent=-1) {
      return attrtag($tag,"",$ltagcontent,$openindent,$closeindent);
   }

   function td($ltd,$indent=5) {
     return tag("td",$ltd,$indent,$indent);
   }

   function th($lth,$indent=5) {
     return tag("th",$lth,$indent,$indent);
   }

   function tr($ltr,$indent=4) {
     return tag("tr",$ltr,$indent,$indent);
   }

   function a($href,$la,$indent=-1) {
     return attrtag("a",attr("href",$href),$la,$indent,$indent);
   }

   function h($h,$lh,$indent=-1) {
     if ($indent<0) 
       $indent=$h+1;
     return tag("h".$h,$lh,$indent,-1);
   }

   // an attribute with a given value
   // or empty if value is not set
   function attr($attr,$value) {
     if (empty($value))
       return "";
     else
       return " ".$attr."='".$value."'";
   }

   // attributed tag, possibly indented
   function attrtag($tag,$attr,$ltagcontent,$openindent=-1,$closeindent=-1) {
    $html="<".$tag.$attr;
    if ($openindent>=0)
      $html="\n".indentation($openindent).$html;
    if (empty($ltagcontent)) {
      $html.="/>";
        if ($closeindent>=0)
          $html.="\n".indentation($closeindent);
    } else {
        $html.=">".$ltagcontent;
        if ($closeindent>=0) {
          $html.="\n".indentation($closeindent);
        }
        $html.="</".$tag.">";
    }
    return $html;
   }

   // indent the given lines
   function indent($html,$indent) {
     $result="";
     $lines=explode("\n",$html);
     foreach($lines as $line) {
       $result.=indentation($indent).$line."\n"; 
     }
     return $result;
   }

   // indentation by the given count
   function indentation($count) {
     return str_repeat("  ",$count);
   }

   // adds a newline    
   function line($line) {
     return $line."\n";
   }

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:45:53.490

php [http://php.net/manual/en/class.domdocument.php](http://php.net/manual/en/class.domdocument.php)将对此有好处。它是php集成类

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:45:58.697

为此，您可以使用[DOM 对象](http://php.net/manual/en/book.dom.php)或编写我们自己的类，这更容易。但是您尝试的是普通模板系统的功能，例如[Smarty](http://www.smarty.net/)、[Twig](http://twig.sensiolabs.org/) 或其他。

如果你想缩短你的 HTML 代码，你可以使用[HAML](https://github.com/hamlphp)

# iphone - 没有得到图像的索引值

> ID：13082823
> 
> 赞同：-2
> 
> 时间：2012-10-26T07:42:44.963
> 
> 标签：iphone, tableview

![在此处输入图像描述](../Images/3b95e7ceebdbb83cfb62a060ae1d081d.png)`UITableView`我在来自 web 服务的七个部分中有七个图像数组。数组图像计数可能是 1 或 2 或 3，但最大计数是 6。在每个部分中，我有 2 行，每行有 3 个数组图像。我将三个图像视图命名为 LeftImageview、middleImageview 和 rightImgaeview。

我正在将图像发送到 Looksfullimage viewcontroller。但是在使用`didSelectRowAtIndexPath:`委托方法时，我选择了部分但没有获得图像的索引值。任何人都可以建议如何获取图像相对于部分的索引值。

我还尝试使用 leftImagepressed 操作获取图像的标签值并在三个图像上应用按钮。我试图通过将 int 类型的 imagetagvalue 保持为`cellforRowAtIndexPath:`委托方法中的某个 no 来查找 tableview 的部分，但我没有正确获取部分。我有 imageview看起来完整的图像视图控制器名为照片图像视图。我的需要是当我单击视图的一部分中的任何图像时，应该在看起来完整图像视图控制器的照片图像视图中显示特定图像。我正在放置我的 tableview 的截图。任何人都可以建议......

提前致谢。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *MyIdentifier= @"MyIdentifier";

    LooksCustomCell* cell= (LooksCustomCell *)[myTableView dequeueReusableCellWithIdentifier:MyIdentifier];
    if(cell==nil)
    {
        [[NSBundle mainBundle] loadNibNamed:@"LooksCustomCell" owner:self options:nil];
        cell=self.looksCustomCell;
    }
    cell.selectionStyle=UITableViewCellSelectionStyleNone;
    if(indexPath.section==0)
    {
        self.imageTagValue=1;

        NSLog(@"the tag value at section 0 is:%d",self.imageTagValue);
        if ([self.looksTodayDataArray count]>0)
        {
            if ([self.looksTodayDataArray count]>indexPath.row*3)
            {
                LooksObject *looksObjectRef1 = [self.looksTodayDataArray objectAtIndex:indexPath.row*3];

                [cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];
                cell.leftImageButton.tag=indexPath.row*3;

            }
                       //[cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage]];
            //  [cell.leftImageView setContentMode:UIViewContentModeScaleAspectFit];

            if ([self.looksTodayDataArray count]>(indexPath.row*3)+1)
            {
                LooksObject *looksObjectRef2 = [self.looksTodayDataArray objectAtIndex:(indexPath.row*3)+1];

                [cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];
                cell.middleImageButton.tag=(indexPath.row*3)+1;

            }
            // [cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage]];
            //  [cell.middleImageView setContentMode:UIViewContentModeScaleAspectFit];
            if ([self.looksTodayDataArray count]>(indexPath.row*3)+2)
            {
                LooksObject *looksObjectRef3 = [self.looksTodayDataArray objectAtIndex:(indexPath.row*3)+2];

                [cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];
                cell.rightImageButton.tag=(indexPath.row*3)+2;

            }
            //[cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage]];
            //   [cell.rightImageView setContentMode:UIViewContentModeScaleAspectFit];

        }
    }
    if(indexPath.section==1)
    {
        self.imageTagValue=2;
        if ([self.looksYesterdayDataArray count]>0)
        {
            if ([self.looksYesterdayDataArray count]>indexPath.row*3)
            {
                LooksObject *looksObjectRef1 = [self.looksYesterdayDataArray objectAtIndex:indexPath.row*3];
                [cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];
                cell.leftImageButton.tag=indexPath.row*3;

            }
            //[cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage]];
            // [cell.leftImageView setContentMode:UIViewContentModeScaleAspectFit];

            if ([self.looksYesterdayDataArray count]>(indexPath.row*3)+1)
            {
                LooksObject *looksObjectRef2 = [self.looksYesterdayDataArray objectAtIndex:(indexPath.row*3)+1];

                [cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.middleImageButton.tag=(indexPath.row*3)+1;
            }
            //[cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage]];
            //  [cell.middleImageView setContentMode:UIViewContentModeScaleAspectFit];
            if ([self.looksYesterdayDataArray count]>(indexPath.row*3)+2)
            {
                LooksObject *looksObjectRef3 = [self.looksYesterdayDataArray objectAtIndex:(indexPath.row*3)+2];
                [cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.rightImageButton.tag=(indexPath.row*3)+2;

            }
            //[cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage]];
            //  [cell.rightImageView setContentMode:UIViewContentModeScaleAspectFit];

        }

    }
    if(indexPath.section==2)
    {
        self.imageTagValue=3;
        if ([self.day5DataArray count]>0)
        {
            if ([self.day5DataArray count]>indexPath.row*3)
            {
                LooksObject *looksObjectRef1 = [self.day5DataArray objectAtIndex:indexPath.row*3];
                [cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];
                cell.leftImageButton.tag=indexPath.row*3;

            }
            //[cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage]];
            //  [cell.leftImageView setContentMode:UIViewContentModeScaleAspectFit];

            if ([self.day5DataArray count]>(indexPath.row*3)+1)
            {
                LooksObject *looksObjectRef2 = [self.day5DataArray objectAtIndex:(indexPath.row*3)+1];

                [cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.middleImageButton.tag=(indexPath.row*3)+1;
            }
            //[cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage]];
            // [cell.middleImageView setContentMode:UIViewContentModeScaleAspectFit];
            if ([self.day5DataArray count]>(indexPath.row*3)+2)
            {
                LooksObject *looksObjectRef3 = [self.day5DataArray objectAtIndex:(indexPath.row*3)+2];

                [cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.rightImageButton.tag=(indexPath.row*3)+2;

            }

            //[cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage]];
            // [cell.rightImageView setContentMode:UIViewContentModeScaleAspectFit];

        }
    }
    if(indexPath.section==3)
    {
        self.imageTagValue=4;
        if ([self.day4DataArray count]>0)
        {
            if ([self.day4DataArray count]>indexPath.row*3)
            {
                LooksObject *looksObjectRef1 = [self.day4DataArray objectAtIndex:indexPath.row*3];

                [cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];
                cell.leftImageButton.tag=indexPath.row*3;

            }
            // [cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage]];
            // [cell.leftImageView setContentMode:UIViewContentModeScaleAspectFit];
            if ([self.day4DataArray count]>(indexPath.row*3)+1)
            {

                LooksObject *looksObjectRef2 = [self.day4DataArray objectAtIndex:(indexPath.row*3)+1];

                [cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.middleImageButton.tag=(indexPath.row*3)+1;
            }
            //[cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage]];
            // [cell.middleImageView setContentMode:UIViewContentModeScaleAspectFit];
            if ([self.day4DataArray count]>(indexPath.row*3)+2)
            {
                LooksObject *looksObjectRef3 = [self.day4DataArray objectAtIndex:(indexPath.row*3)+2];

                [cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.rightImageButton.tag=(indexPath.row*3)+2;

            }
            //[cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage]];
            // [cell.rightImageView setContentMode:UIViewContentModeScaleAspectFit];

        }
    }
    if(indexPath.section==4)
    {
       self.imageTagValue=5;
        if ([self.day3DataArray count]>0)
        {
            //[cell.image1 setImageWithURL:[NSURL URLWithString:tempBud.bigImageUrl] placeholderImage:[UIImage imageNamed:@"IBudDummyPic.png"]];
            if ([self.day3DataArray count]>indexPath.row*3)
            {

                LooksObject *looksObjectRef1 = [self.day3DataArray objectAtIndex:indexPath.row*3];

                [cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.leftImageButton.tag=indexPath.row*3;

                self.imageTagValue=5;

            }
            if ([self.day3DataArray count]>(indexPath.row*3)+1)
            {

                                LooksObject *looksObjectRef2 = [self.day3DataArray objectAtIndex:(indexPath.row*3)+1];
                [cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.middleImageButton.tag=(indexPath.row*3)+1;
            }
            //[cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage]];
            //  [cell.middleImageView setContentMode:UIViewContentModeScaleAspectFit];
            if ([self.day3DataArray count]>(indexPath.row*3)+2)
            {
                LooksObject *looksObjectRef3 = [self.day3DataArray objectAtIndex:(indexPath.row*3)+2];
                [cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.rightImageButton.tag=(indexPath.row*3)+2;

            }
            //[cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage]];
            // [cell.rightImageView setContentMode:UIViewContentModeScaleAspectFit];

        }
    }
    if(indexPath.section==5)
    {
        self.imageTagValue=6;
        if ([self.day2DataArray count]>0)
        {
            if ([self.day2DataArray count]>indexPath.row*3)
            {
                LooksObject *looksObjectRef1 = [self.day2DataArray objectAtIndex:indexPath.row*3];

                [cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.leftImageButton.tag=indexPath.row*3;

            }
            //[cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage]];
            //  [cell.leftImageView setContentMode:UIViewContentModeScaleAspectFit];

            if ([self.day2DataArray count]>(indexPath.row*3)+1)
            {
                LooksObject *looksObjectRef2 = [self.day2DataArray objectAtIndex:(indexPath.row*3)+1];

                [cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.middleImageButton.tag=(indexPath.row*3)+1;
            }
            //[cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage]];
            //   [cell.middleImageView setContentMode:UIViewContentModeScaleAspectFit];
            if ([self.day2DataArray count]>(indexPath.row*3)+2)
            {
                LooksObject *looksObjectRef3 = [self.day2DataArray objectAtIndex:(indexPath.row*3)+2];

                [cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.rightImageButton.tag=(indexPath.row*3)+2;

            }
            //[cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage]];
            //   [cell.rightImageView setContentMode:UIViewContentModeScaleAspectFit];

        }
    }
    if(indexPath.section==6)
    {
        self.imageTagValue=7;
        if ([self.day1DataArray count]>0)
        {
            if ([self.day1DataArray count]>indexPath.row*3)
            {
                LooksObject *looksObjectRef1 = [self.day1DataArray objectAtIndex:indexPath.row*3];

                [cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];
                cell.leftImageButton.tag=indexPath.row*3;

            }
            //[cell.leftImageView setImageWithURL:[NSURL URLWithString:looksObjectRef1.looksThumbImage]];
            //   [cell.leftImageView setContentMode:UIViewContentModeScaleAspectFit];

            if ([self.day1DataArray count]>(indexPath.row*3)+1)
            {
                LooksObject *looksObjectRef2 = [self.day1DataArray objectAtIndex:(indexPath.row*3)+1];

                [cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.middleImageButton.tag=(indexPath.row*3)+1;
            }
            //[cell.middleImageView setImageWithURL:[NSURL URLWithString:looksObjectRef2.looksThumbImage]];
            // [cell.middleImageView setContentMode:UIViewContentModeScaleAspectFit];
            if ([self.day1DataArray count]>(indexPath.row*3)+2)
            {
                LooksObject *looksObjectRef3 = [self.day1DataArray objectAtIndex:(indexPath.row*3)+2];

                [cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage] placeholderImage:[UIImage imageNamed:@"FashTag_no_image.png"]];

                cell.rightImageButton.tag=(indexPath.row*3)+2;

            }
            //[cell.rightImageView setImageWithURL:[NSURL URLWithString:looksObjectRef3.looksThumbImage]];
            //  [cell.rightImageView setContentMode:UIViewContentModeScaleAspectFit];

        }
    }
    return cell;    
}
-(void)tableView:(UITableView *) tableView didSelectRowAtIndexPath: (NSIndexPath *) indexPath
{

    LooksFullImageViewController *looksFullImageVC=[[LooksFullImageViewController alloc]initWithNibName:@"LooksFullImageViewController" bundle:nil];

    if(indexPath.section==0)
    {
        looksFullImageVC.array=self.looksTodayDataArray;
    }
    else if(indexPath.section==1)
    {
        looksFullImageVC.array=self.looksYesterdayDataArray;
    }
    else if(indexPath.section==2)
    {    

        looksFullImageVC.array=self.day5DataArray;
            }
    else if(indexPath.section==3)
    {
        looksFullImageVC.array=self.day4DataArray;
            }
    else if(indexPath.section==4)
    {
        looksFullImageVC.array=self.day3DataArray;

    }
    else if(indexPath.section==5)
    {
        looksFullImageVC.array=self.day2DataArray;

    }
    else if(indexPath.section==6)    
    {
    looksFullImageVC.array=self.day1DataArray;

    }
     [self.navigationController pushViewController:looksFullImageVC animated:YES];

}
-(IBAction)leftImageButtonPressed:(id)sender
{
    LooksFullImageViewController *looksFullImageVC=[[LooksFullImageViewController alloc]initWithNibName:@"LooksFullImageViewController" bundle:nil];
    if(self.imageTagValue==1)
    {
    looksFullImageVC.array=self.looksTodayDataArray;
    looksFullImageVC.tagValue=[sender tag];

    }
    if(self.imageTagValue==2)
    {
        looksFullImageVC.array=self.looksYesterdayDataArray;
        looksFullImageVC.tagValue=[sender tag];
    }
    if(self.imageTagValue==3)
    {
        looksFullImageVC.array=self.day5DataArray;
        looksFullImageVC.tagValue=[sender tag];
    }
    if(self.imageTagValue==4)
    {
        looksFullImageVC.array=self.day4DataArray;
        looksFullImageVC.tagValue=[sender tag];
    }
    if(self.imageTagValue==5)
    {
        looksFullImageVC.array=self.day3DataArray;
        looksFullImageVC.tagValue=[sender tag];
    }
    if(self.imageTagValue==6)
    {
        looksFullImageVC.array=self.day2DataArray;
        looksFullImageVC.tagValue=[sender tag];
    }
    if(self.imageTagValue==7)
    {
        looksFullImageVC.array=self.day1DataArray;
        looksFullImageVC.tagValue=[sender tag];
    }
    //looksFullImageVC.tagValue=indexPath.row;
    //fullimage.scrollValue=2;
    [self.navigationController pushViewController:looksFullImageVC animated:YES];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T11:36:34.977

您无法获取图像的索引路径，didSelectRowAtIndexPath 将为您提供所选行的索引路径，其中包含 3 个图像。

您需要做的是扩展 imageView 类并在图像上实现触摸以找出单击了哪个图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-29T11:01:33.623

我将表格视图更改为滚动视图。并将标签应用于图像的每个按钮。现在工作正常......

# java - 无法通过包含邮件依赖项 jar 文件来运行 java 应用程序（作为 exec JAR）

> ID：13082828
> 
> 赞同：0
> 
> 时间：2012-10-26T07:43:26.893
> 
> 标签：java, jakarta-mail, executable-jar

我正在构建一个 java 应用程序作为可执行 jar。要编译和构建应用程序，我使用的是 ANT build。

应用程序运行正常，但我没有包含“邮件”依赖 jar 文件。

根据要求，我使用 Java Mail API 发送电子邮件通知。

为此，我添加了以下 Mail 依赖 jar 文件：

*   mail-1.4.jar
*   激活.jar

一旦我在我的 ANT 构建中包含这些依赖项并运行应用程序，它就会引发以下异常：

```
Exception in thread "main" java.lang.SecurityException: no manifiest section for signature file entry javax/activation/MimeType.class
    at sun.security.util.SignatureFileVerifier.verifySection(SignatureFileVerifier.java:380)
    at sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:231)
    at sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:176)
    at java.util.jar.JarVerifier.processEntry(JarVerifier.java:245)
    at java.util.jar.JarVerifier.update(JarVerifier.java:199)
    at java.util.jar.JarFile.initializeVerifier(JarFile.java:323)
    at java.util.jar.JarFile.getInputStream(JarFile.java:388)
    at sun.misc.JarIndex.getJarIndex(JarIndex.java:120)
    at sun.misc.URLClassPath$JarLoader$1.run(URLClassPath.java:608)
    at java.security.AccessController.doPrivileged(Native Method)
    at sun.misc.URLClassPath$JarLoader.ensureOpen(URLClassPath.java:599)
    at sun.misc.URLClassPath$JarLoader.<init>(URLClassPath.java:583)
    at sun.misc.URLClassPath$3.run(URLClassPath.java:333)
    at java.security.AccessController.doPrivileged(Native Method)
    at sun.misc.URLClassPath.getLoader(URLClassPath.java:322)
    at sun.misc.URLClassPath.getLoader(URLClassPath.java:299)
    at sun.misc.URLClassPath.getResource(URLClassPath.java:168)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:194)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
sysvineMM04:MamaBear arun_kumar$ 
```

请专家帮我解决这个错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:01:11.663

我假设您将所有类文件打包到一个“uberjar”中？

问题是激活库是一个签名的jar；它在其清单中包含类文件的数字签名。当您打包 uberjar 时，您丢失了那些。

处理这个问题的正确方法是不要把所有东西都装进一个罐子里。将每个库保留在自己的包装中，然后将它们一起分发。

但是，如果您想继续使用 uberjar，您应该能够通过将签名从激活 jar 的清单复制到 uberjar 的清单来解决此问题。恐怕我不知道是否有蚂蚁支持。

# android - Phonegap + 网络服务

> ID：13082829
> 
> 赞同：2
> 
> 时间：2012-10-26T07:43:31.667
> 
> 标签：android, asp.net, jquery, cordova, mobile

我有一个 index.html，它带有对 web 服务（ASP.NET）的 ajax 调用，当我将它部署在 bigrock 服务器上时（我有一个域），它可以正常工作。

```
$.ajax({
        type: "POST",
        url: "myurl/mywebservice.asmx",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
            alert("success");
        },
        error: function (msg,status) {
           $('#demo').html("status is "+status+" . Msg is "+msg.d.responseText);
           //attribute for responsetext might be wrong here but in my application it is correct as i am using different system ryt now.
        }
    }); 
```

但是当我使用phonegap的在线拉链从html、css、js、web.config、few类为我的android应用程序制作一个apk并将它安装在我的设备上时......什么都没有出现。它向我显示了一个没有 responseText 的 ajax 错误。

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-27T06:37:24.263

当您压缩资产以提交到 PhoneGap Build 时，您需要包含一个[config.xml 文件](https://build.phonegap.com/docs/config-xml)并指定类似于

```
<access origin="https://your.domain.com" /> 
```

这将指示 PhoneGap 允许与您的服务器通信。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T09:24:29.163

当您的应用程序使用 PhoneGap 部署到设备时，您的“主页”位置将成为本地设备上的文件系统。

这意味着任何 ajax 调用都是跨域调用，需要进一步配置才能正确设置。

请参阅[此问题以获取潜在答案](https://stackoverflow.com/questions/11990907/same-origin-policy-on-mobile-apps)

# c# - 如何使用反射动态设置对象实例的属性值？

> ID：13082832
> 
> 赞同：5
> 
> 时间：2012-10-26T07:43:44.290
> 
> 标签：c#

给定一个基本的类定义：

```
using System.Reflection;

public class Car()
{
  public int speed {get;set;}

  public void setSpeed()
  {
       Type type = this.GetType(); 
       PropertyInfo property = type.GetProperty(PropertyName );
       property.SetValue(type, Convert.ToInt32(PropertyValue), null);
  }
} 
```

此代码示例已简化并且不使用动态类型转换，我只想要一个工作示例来在实例上设置该属性。

编辑：上面代码中的 PropertyName 和 PropertyValue 也被简化了。

提前致谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-26T07:45:56.827

您传递的第一个参数应该是持有您希望设置的属性的实例。如果它是静态属性，则为第一个参数传递 null。在您的情况下，将代码更改为：

```
 public void setSpeed()
  {
       Type type = this.GetType(); 
       PropertyInfo property = type.GetProperty(PropertyName );
       property.SetValue(this, Convert.ToInt32(PropertyValue), null);
  } 
```

对于一个天真的类型转换，你可以做

```
 var value = Convert.ChangeType(PropertyValue,property.PropertyType);
   property.SetValue(this, value, null); 
```

# nhibernate - 多对一映射

> ID：13082834
> 
> 赞同：0
> 
> 时间：2012-10-26T07:44:13.303
> 
> 标签：nhibernate

我有一个看起来像的表格，

*表1*

someID PK，节点

*表2*

nodeID PK，节点

我正在尝试在 nhibernate 而不是 sql 中进行以下操作

```
SELECT *
FROM tabel1 
LEFT OUTER JOIN tabel2 
ON tabel1.node = tabel2.nodeid 
```

我已经尝试过（这是多对一的关系，因为 Tabel2 可以有多个 Tabel1 关系）

Tabel1 映射文件

```
 References(x => x.Tabel2)
            .Column("nodeID")
            .Not.LazyLoad(); 
```

Table2 映射文件

```
 HasMany(x => x.Tabel1)
            .KeyColumn("node")
            .Not.LazyLoad(); 
```

我不明白为什么这不起作用！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T09:32:41.587

`.Column("nodeID")`必须是`.Column("node")`因为它是表1中的列指向table2的id（默认）

# php - 使用 Git 作为多版本软件的基础，但要合并下游

> ID：13082836
> 
> 赞同：2
> 
> 时间：2012-10-26T07:44:15.737
> 
> 标签：php, git, version-control

我有一个软件想提供给我的客户，但他们有机会订购更改和个人定制。

到目前为止，我只是简单地复制了原始软件并在那里进行了更改。但是这种方法在维护和更新核心文件和功能时一直很痛苦（这仅在开发服务器上，部署时 git 制作的“副本”将是实际副本）。

我想出了一个想法，使用 git 分支来创建那些不同的“副本”并在那里工作。但问题是，我想在分支中传播我在 master（软件的基础，所有分支开始的基础）中所做的更改，而不是相反，从分支到 master 中的合并。

用git可以吗？如果没有，有没有其他软件可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:48:57.363

Master 和其他分支一样，只是一个分支。没有什么能阻止您合并其他方式以将任何分支与已添加到主分支的任何更改同步。在分支 A 时，只需执行以下操作：

```
git merge master 
```

master 中的合并将被添加到 A 分支。您必须像在任何其他合并中一样解决任何冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:49:04.857

当然，这完全有可能。要将更改从另一个分支传播`master`到另一个分支，您只需...

```
git checkout <another branch>
git merge master 
```

这会从 中获取任何新更改`master`并将它们添加到 中`<another branch>`，而根本不更改`master`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T07:55:20.450

只需确保您已签出要更新的分支

`git checkout BRANCHNAME`

比你能做的

```
git merge master 
```

这会将您从 master 中的所有更改带入您当前的分支，唯一的问题可能是，我不确定是否可以一次为多个分支执行此操作。

# java - 有没有办法在 Android 设备上安全地存储文件？

> ID：13082841
> 
> 赞同：-4
> 
> 时间：2012-10-26T07:44:29.493
> 
> 标签：java, android, security

我想将下载的文件安全地存储在 Android 设备上，我不想使用加密。我该怎么做？

我可以将[Context.getDir()](http://developer.android.com/reference/android/content/Context.html#getDir%28java.lang.String,%20int%29)与 MOD_PRIVATE 一起使用吗？为什么不 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:49:53.137

为了保护数据免受不必要的访问，您需要加密。所以，不，你不能

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T09:21:29.437

> 我可以将 Context.getDir() 与 MOD_PRIVATE 一起使用吗？

该目录已经是私有的。

> 我想下载 .apk 文件并以编程方式安装

这是不可能的，除非安装程序可以访问该文件，这只有在您使该文件对世界可读的情况下才有可能。

# javascript - Custom selections in JavascriptMVC Controller event handler?

> ID：13082842
> 
> 赞同：1
> 
> 时间：2012-10-26T07:44:32.960
> 
> 标签：javascript, jquery, events, javascriptmvc

In JavascriptMVC's Controller they use the following format for event handling

Instead of classic jquery

```
$(function(){
  $('#tabs').click(someCallbackFunction1)
  $('#tabs .tab').click(someCallbackFunction2)
  $('#tabs .delete click').click(someCallbackFunction3)
}); 
```

they do this

```
$.Controller('Tabs',{
  click: function() {...},
  '.tab click' : function() {...},
  '.delete click' : function() {...}
}) 
```

Is there any way I could set an click event handler for the following jquery selection using their way:

```
$('#continent_select').siblings("ul:first").find('a').click(function() {
    console.log('here');
}); 
```

And if it's not possible, where is the best place to init this handler?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-16T14:14:58.357

允许将`$.Controller`DOM 事件绑定到其容器元素及其任何后代。

它还允许将事件绑定到对象（并且可以扩展以满足您的特殊需求）。

如果`$('#content_select')`与您的控制器的元素匹配，那么您将无法将元素绑定到其兄弟姐妹。如果它包含在您的控制器元素中，那么您必须构建适当的选择器，从您的代码的外观来看，它可能看起来像这样：

```
li:has(#content_select) > ul:first a 
```

# c# - 在安装时更改文件的访问控制时出错

> ID：13082848
> 
> 赞同：1
> 
> 时间：2012-10-26T07:45:16.803
> 
> 标签：c#, file-io, wix

我正在尝试在安装时更改文件的访问控制。更具体地说，通过 Wix 的自定义操作，我确信它是以管理员权限执行的。

这是代码：

```
 string pathVersioningDat = ConfigurationManager.GetPath("versioning.dat", true);
   FileSystemAccessRule rule = new FileSystemAccessRule("everyone", FileSystemRights.FullControl, AccessControlType.Allow);
   FileSecurity fSecurity = File.GetAccessControl(pathVersioningDat);
   fSecurity.SetAccessRule(rule);
   File.SetAccessControl(pathVersioningDat, fSecurity); 
```

我知道它适用于多台计算机。它不适用于任何 W7 Starter Edition，在某些情况下也不适用于其他 Windows 7 Edition。

异常消息 (IdentityNotMappedException) 是“无法翻译部分或全部身份引用”。似乎在这些计算机中找不到“每个人”用户，但我不确定。它发生在 System.Security.Principal.NTAAccount.Translate 方法中。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T11:27:04.823

这个问题前段时间来到了我们的开发团队。

您尚未指定 Windows 7 Starter Edition 的语言。我们意识到，在许多装有 Windows 7 Enterprise 或 Ultimate Edition 的机器中，这个问题从未发生过，但在英文 Starter Edition 中也没有。但是，在使用其他语言（例如西班牙语）时，我们可能会看到某些问题。

您是否尝试过从头开始安装英文版 Windows 7 Starter？（请注意，Windows 7 Starter 不允许您在安装后更改语言）。

**编辑：**

如果您想在将来避免此问题，您可以使用此解决方案：

```
SecurityIdentifier sid = new SecurityIdentifier(WellKnownSidType.WorldSid, null);
string pathVersioningDat = ConfigurationManager.GetPath("versioning.dat", true);
FileSystemAccessRule rule = new FileSystemAccessRule(sid, FileSystemRights.FullControl, AccessControlType.Allow);
FileSecurity fSecurity = File.GetAccessControl(pathVersioningDat);
fSecurity.SetAccessRule(rule);
File.SetAccessControl(pathVersioningDat, fSecurity); 
```

使用[WellKnownSidType](http://msdn.microsoft.com/en-us/library/system.security.principal.wellknownsidtype.aspx) .WorldSid 值，您不必担心目标操作系统中的初始语言。

告诉我它是否有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-27T18:52:46.440

[antiocol 似乎是对的](https://stackoverflow.com/a/13086068/572834)。

在俄语版本的 Windows 上，*Everyone*被称为*Все*。这不仅限于 Starter 版本。所有内置帐户和组均已本地化。即使您稍后将语言更改为英语（在 Ultimate 版本中），内置帐户的名称仍为俄语。

我建议直接使用内置或[Well-known SIDs](http://msdn.microsoft.com/en-us/library/windows/desktop/aa379649%28v=vs.85%29.aspx)。对于*每个人*，使用`SECURITY_WORLD_SID_AUTHORITY`和`SECURITY_WORLD_RID`。

[不过，我无法为您提供有关如何使用 C# 的代码示例。]

# assembly - （操作 dex 文件）如何反汇编（如 dexdump），修改（文本中的字节码），然后再次汇编为 dex

> ID：13082854
> 
> 赞同：1
> 
> 时间：2012-10-26T07:45:24.550
> 
> 标签：assembly, dalvik, disassembly, dex

我想将“.dex”文件的字节码修改为文本格式，然后再将文本组装成dex文件。必须确保最终的“.apk”可用。

我想知道一些工具，而不是自己制作一个汇编器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T07:56:48.450

[smali/baksmali](https://github.com/JesusFreke/smali)正是你想要的。

# excel - Beyond Compare: Export Differences in two CSV files in CSV format

> ID：13082859
> 
> 赞同：1
> 
> 时间：2012-10-26T07:45:59.003
> 
> 标签：excel, csv, beyondcompare

I want to export differences between 2 CSV files and want the export to be present in CSV format.

Using **Beyond Compare** software:

*   I can use `text compare` and export differences in csv, but if i use text compare, i cant use keys
*   I can use `data compare` which allows me to use keys (by using csv format) but then differences are exported without any separators.

I am using *Session > Data compare report > Side-by-Side* for exporting differences

Any tips/suggestion?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-27T06:10:36.690

我在数据比较报告中使用并排导出差异作为 HTML 报告。（使用单色，因为它的大小较小）然后将表格复制到 excel 并将结果保存为 csv。

不是我期待的解决方案，但它解决了我的问题。

# ruby-on-rails - 保存时更新数据库中的数据

> ID：13082860
> 
> 赞同：1
> 
> 时间：2012-10-26T07:46:01.373
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我正在尝试使用我写的 after_create 回调更新数据库中的数据

```
Dm::Advertisement.where (:type => Dm::Advertisement).update_all(ads_counter: 0) 
```

在我的模型中，但有 SyntaxError。谁能指出我在哪里做错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:49:58.003

```
Dm::Advertisement.where (:type => Dm::Advertisement).update_all("ads_counter =0") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T07:54:10.307

```
Dm::Advertisement.where (:type => Dm::Advertisement).update_all(:ads_counter => 0 ) 
```

# android - Android: get DatePickerDialog in a fragment

> ID：13082861
> 
> 赞同：3
> 
> 时间：2012-10-26T07:46:04.027
> 
> 标签：android, datepicker, fragment

Previously i was using **showDialog()** which now is deprecated.

I am already in a **Fragment** which contains an EditText. How can i call this **DatePickerDialog** and set the EditText's Text to the selected date?

Using **DialogFragment** seems a bit complicated.

Thank You

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-26T07:54:09.837

这很简单：

```
DatePickerDialog.OnDateSetListener mDateSetListener = new DatePickerDialog.OnDateSetListener() {

    public void onDateSet(DatePicker view, int year,
            int monthOfYear, int dayOfMonth) {
        mYear = year;
        mMonth = monthOfYear;
        mDay = dayOfMonth;
        updateDisplay();
    }
};

DatePickerDialog d = new DatePickerDialog(getActivity(),
        R.style.MyThemee, mDateSetListener, mYear, mMonth, mDay);
d.show(); 
```

更新显示方法：

```
private void updateDisplay() {

    GregorianCalendar c = new GregorianCalendar(mYear, mMonth, mDay);
    SimpleDateFormat sdf = new SimpleDateFormat("dd MMMM yyyy");

    editDate.setText(sdf.format(c.getTime()));

    sdf = new SimpleDateFormat("yyyy-MM-dd");

    transDateString=sdf.format(c.getTime());
}// updateDisplay 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:56:04.813

请查看 android API 指南：http: [//developer.android.com/guide/topics/ui/dialogs.html#ShowingADialog](http://developer.android.com/guide/topics/ui/dialogs.html#ShowingADialog)

# gwt - Showing GWT validation errors using Editor Framework

> ID：13082864
> 
> 赞同：4
> 
> 时间：2012-10-26T07:46:30.987
> 
> 标签：gwt, gwt-editors, gwt-validation

I do GWT client side validation and I've a problem of how to show validation errors which are returned by validator. I debugged it and I can see that the set contains errors but driver doesn't show them. SimpleBeanEditorDriver is used.

```
Entry Entry = driver.flush();
Validator validator = Validation.buildDefaultValidatorFactory().getValidator();
Set<ConstraintViolation<Entry>> violations = validator.validate(Entry, Default.class);
if (violations.size() > 0) {
   driver.setConstraintViolations(new ArrayList<ConstraintViolation<?>>(violations));
   ... 
} 
```

Tested on GWT ver. 2.4 and 2.5

The code is written according to [https://developers.google.com/web-toolkit/doc/latest/DevGuideValidation](https://developers.google.com/web-toolkit/doc/latest/DevGuideValidation) but they're not using editors.

Does anybody make it work together GWT validation and Editors ? May be somebody can give links to good examples of it ? I couldn't find any working ones. Any help are welcomed!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T20:03:40.067

这是我们如何使用编辑器/HasEditorError 和 ConstraintViolations 的简单示例。我还包含了一个来自我们的 ValueBoxEditorDecorator 的示例，它允许我们布局错误消息。

我们的活动

```
 @Override
  public void onSave() {
    RequestFactoryEditorDriver<DashboardModelProxy, ?> driver = display.getDriver();
    RequestContext context = driver.flush();
    context.fire(new Receiver<Void>() {

      @Override
      public void onSuccess(Void response) {
        Place previousPlace = clientFactory.getPlaceController().getPreviousPlace();
        clientFactory.getPlaceController().goTo(previousPlace);
      }

      @Override
      public void onFailure(ServerFailure error) {
        display.showError(error.getMessage());
      }

      @Override
      public void onConstraintViolation(Set<ConstraintViolation<?>> violations) {
        display.getDriver().setConstraintViolations(violations);
      }
    });
  } 
```

从我们的角度来看样本。

```
/**
 * Name component for the name of the analytics operation.
 * This also implements {@link HasEditorErrors so it can show
 * constraint violations when an error occurs.
 */
@UiField
ValueBoxEditorDecorator<String> name; 
```

使用错误位置的 UIBinder 示例。

```
 <t:ValueBoxEditorDecorator errorLocation="RIGHT" ui:field="name">
            <t:valuebox>
                <g:TextBox />
            </t:valuebox>
  </t:ValueBoxEditorDecorator> 
```

我们正在使用的 ValueBoxEditorDecorator。

```
import java.util.List;

import com.google.gwt.dom.client.Style.Display;
import com.google.gwt.editor.client.EditorError;
import com.google.gwt.editor.client.HasEditorErrors;
import com.google.gwt.editor.client.IsEditor;
import com.google.gwt.editor.client.adapters.TakesValueEditor;
import com.google.gwt.editor.ui.client.adapters.ValueBoxEditor;
import com.google.gwt.uibinder.client.UiChild;
import com.google.gwt.uibinder.client.UiConstructor;
import com.google.gwt.user.client.ui.Composite;
import com.google.gwt.user.client.ui.HorizontalPanel;
import com.google.gwt.user.client.ui.Label;
import com.google.gwt.user.client.ui.SimplePanel;
import com.google.gwt.user.client.ui.ValueBoxBase;
import com.google.gwt.user.client.ui.ValueListBox;

/**
 * This is a copy of the original ValueBoxEditorDecorator in the gwt source The
 * reason we are not using it is because it did not support laying out the error
 * panel in a different location.
 * 
 * 
 * A simple decorator to display leaf widgets with an error message.
 * <p>
 * <h3>Use in UiBinder Templates</h3>
 * <p>
 * The decorator may have exactly one ValueBoxBase added though an
 * <code>&lt;e:valuebox></code> child tag.
 * <p>
 * For example:
 * 
 * <pre>
 * &#064;UiField
 * ValueBoxEditorDecorator&lt;String&gt; name;
 * </pre>
 * 
 * <pre>
 * &lt;e:ValueBoxEditorDecorator ui:field='name'>
 *   &lt;e:valuebox>
 *     &lt;g:TextBox />
 *   &lt;/e:valuebox>
 * &lt;/e:ValueBoxEditorDecorator>
 * </pre>
 * 
 * @param <T>
 *            the type of data being edited
 */

public class ValueListBoxEditorDecorator<T> extends Composite implements HasEditorErrors<T>, IsEditor<TakesValueEditor<T>> {

    /**
     * The location of the text relative to the paging buttons.
     */
    public static enum ErrorPanelLocation {
        LEFT, RIGHT;
    }

    SimplePanel contents = new SimplePanel();

    @Ignore
    Label errorLabel = new Label();

    HorizontalPanel layout = new HorizontalPanel();

    private TakesValueEditor<T> editor;

    /**
     * Constructs a ValueBoxEditorDecorator.
     */
    @UiConstructor
    public ValueListBoxEditorDecorator(ErrorPanelLocation errorLocation) {
        initWidget(layout);
        setStyleName("gwt-ValueBoxEditorDecorator");
        errorLabel.setStyleName("gwt-ValueBoxEditorDecorator-error");
        errorLabel.getElement().getStyle().setDisplay(Display.NONE);

        if (errorLocation == ErrorPanelLocation.RIGHT) {
            layout.add(contents);
            layout.add(errorLabel);
        } else {
            layout.add(errorLabel);
            layout.add(contents);
        }
    }

    /**
     * Constructs a ValueBoxEditorDecorator using a {@link ValueBoxBase} widget
     * and a {@link ValueBoxEditor} editor.
     * 
     * @param widget
     *            the widget
     * @param editor
     *            the editor
     */
    public ValueListBoxEditorDecorator(ValueListBox<T> widget, TakesValueEditor<T> editor) {
        this(ErrorPanelLocation.RIGHT);
        contents.add(widget);
        this.editor = editor;
    }

    /**
     * Returns the associated {@link ValueBoxEditor}.
     * 
     * @return a {@link ValueBoxEditor} instance
     * @see #setEditor(ValueBoxEditor)
     */
    public TakesValueEditor<T> asEditor() {
        return editor;
    }

    /**
     * Sets the associated {@link ValueBoxEditor}.
     * 
     * @param editor
     *            a {@link ValueBoxEditor} instance
     * @see #asEditor()
     */
    public void setEditor(ValueBoxEditor<T> editor) {
        this.editor = editor;
    }

    /**
     * Set the widget that the EditorPanel will display. This method will
     * automatically call {@link #setEditor}.
     * 
     * @param widget
     *            a {@link ValueBoxBase} widget
     */
    @UiChild(limit = 1, tagname = "valuebox")
    public void setValueBox(ValueBoxBase<T> widget) {
        contents.add(widget);
        setEditor(widget.asEditor());
    }

    public void clearErrors() {
        errorLabel.setText("");
        errorLabel.getElement().getStyle().setDisplay(Display.NONE);
    }

    /**
     * The default implementation will display, but not consume, received errors
     * whose {@link EditorError#getEditor() getEditor()} method returns the
     * Editor passed into {@link #setEditor}.
     * 
     * @param errors
     *            a List of {@link EditorError} instances
     */
    public void showErrors(List<EditorError> errors) {
        StringBuilder sb = new StringBuilder();
        for (EditorError error : errors) {
            if (error.getEditor().equals(editor)) {
                sb.append("\n").append(error.getMessage());
            }
        }

        if (sb.length() == 0) {
            clearErrors();
            return;
        }

        errorLabel.setText(sb.substring(1));
        errorLabel.getElement().getStyle().setDisplay(Display.INLINE_BLOCK);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-24T09:04:33.240

这个 wiki 可能会对您有所帮助： [https](https://github.com/apetrelli/gwt-integration/wiki/GWT-Integration-Editor) ://github.com/apetrelli/gwt-integration/wiki/GWT-Integration-Editor 尽管它集成了 Editor、Validator 和 RequestFactory。我创建了一个使用它的 Maven 原型： [https ://github.com/apetrelli/samplegwt](https://github.com/apetrelli/samplegwt)

# function - 基本 DOJO 1.8：如何获取对方法的引用？

> ID：13082866
> 
> 赞同：0
> 
> 时间：2012-10-26T07:46:41.803
> 
> 标签：function, methods, reference, dojo

我对 DOJO 1.8 还很陌生，想知道如何从 require 方法之外调用函数？我尝试实现一个淡入淡出的消息框。

我创建了方法：

```
require(["dojo/dom", "dojo/on", "dojo/domReady!" ], function(dom, on, ready) {

    /*function which shows a msg-box on top of the page */
    var showMsg = function(text) {
        dom.byId("msgbox").innerHTML = text;
    }     
}); 
```

好的！它可以工作....但我不想从我的应用程序的其他地方调用它：

```
showMsg("Item saved"); 
```

但这不起作用： Uncaught ReferenceError: showMsg is not defined

我如何获得该参考？

谢谢您的帮助！

AFX

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T11:54:30.503

就目前情况而言，您正在声明一个局部变量，因此它在程序的其他地方不可见。

例如，您可以使变量成为全局变量

```
window.showMsg = function(text) {
    dom.byId("msgbox").innerHTML = text;
} 
```

这种方法的缺点是，随着应用程序变得越来越大，最终会得到越来越多的全局变量，这使得维护变得更加困难。

因此，Dojo 提供了打包可重用代码块并引用它们的方法。当您使用“require”时，您已经在利用其中的一些功能——您可以访问大量的 dojo。您可以以相同的方式使您自己的代码作为可重用的块可见。

这是一个相当大的话题，但你可以从阅读[这个开始](http://dojotoolkit.org/documentation/tutorials/1.7/modules/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-27T20:50:28.753

您可以做的另一件事是将 require 移动到函数内部。

即使你有很多这样的功能，虽然重复很烦人，但基本上没有因为一遍又一遍的要求而造成的运行时损失。唯一需要注意的是函数内部的代码变成异步的，所以你必须使用回调或承诺来代替返回值。

或者，如果您仅在某些事件处理程序（我看到`dojo/on`）中使用此函数，您可以在同一个 require 块的范围内设置它们。

# jquery - FancyBox 2 YouTube wmode 参数未激活

> ID：13082871
> 
> 赞同：1
> 
> 时间：2012-10-26T07:47:00.127
> 
> 标签：jquery, parameters, fancybox, fancybox-2, wmode

出于某种原因，即使我将参数设置为，即使是“X”关闭按钮，我也无法获得绝对位置元素，并`z-index`设置`9999`为出现在我的 FancyBox 上：`iframe``wmode``opaque`

花式盒子 v2.1.3

FancyBox Media v1.0.5

JS：

```
(function($) {
    $(function() {

        $('#splash-video')
            .fancybox({
                fitToView : true,
                width     : '100%',
                height    : '100%',
                margin    : 10,
                padding   : 0,
                helpers   : {
                    media : true
                },
                youtube : {
                    params : {
                        autoplay : 1,
                        fs       : 1,
                        hd       : 1,
                        rel      : 0,
                        showinfo : 0,
                        wmode    : 'opaque' // this no worky
                    }
                }
            });

        $('.skip-video').on('click', function() {
            $.fancybox.close();
            $(this).remove();
        });

        setTimeout(function() {
            $.fancybox.close();
            $('.skip-video').remove();
        }, 64000);
    });
})(jQuery); 
```

HTML：

```
<a id="splash-video" href="http://www.youtube.com/watch?v=dQw4w9WgXcQ"></a>
<a href="#" class="skip-video">Skip Video</a> 
```

上面激活了我的 FancyBox，然后单击触发出现，同时将我的`.skip-video`锚点位置放在顶部，但事实并非如此。

透明和不透明似乎对任何浏览器都没有影响；“X”关闭按钮和 div 在 Chrome 中的 YouTube 视频上方，但实际上没有其他主要浏览器（FF、IE7-9、Opera 和 Safari）。

总而言之，我认为 YouTube 参数都不起作用。

**更新：**

多亏了[Janis](https://stackoverflow.com/users/486595/janis)的帮助，它现在可以工作了 :)。我将我的 Fancybox JS 更改为：

```
$('#splash-video')
    .fancybox({
        fitToView : true,
        width     : '100%',
        height    : '100%',
        margin    : 0,
        padding   : 0
    }); 
```

并将锚点更改为：

```
<a id="splash-video" class="fancybox.iframe" href="http://www.youtube.com/embed/opj24KnzrWo?autoplay=1&amp;autohide=1&amp;fs=1&amp;rel=0&amp;hd=1&amp;wmode=opaque&amp;enablejsapi=1"></a> 
```

巨大的成功！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:53:16.657

1.  为什么您认为所有参数都不起作用？您的视频是否自动启动？如果您检查开发人员工具，iframe 源是否看起来像这样？
    `http://www.youtube.com/embed/opj24KnzrWo?autoplay=1&autohide=1&fs=1&rel=0&hd=1&wmode=opaque&enablejsapi=1`
    如果是，那么脚本工作得很好。

2.  我不知道你究竟是如何试图让绝对位置元素出现在 fancyBox 上，以及为什么它对你不起作用，但这对我来说很好：

    ```
    $(".fancybox")
    .attr('rel', 'gallery')
    .fancybox({
        openEffect  : 'none',
        closeEffect : 'none',
        nextEffect  : 'none',
        prevEffect  : 'none'
    });​ 
    ```

    [测试用例](http://jsfiddle.net/NcQ2u/)。

# c# - 使用 C# 在 Excel 单元格中制作边框

> ID：13082880
> 
> 赞同：1
> 
> 时间：2012-10-26T07:47:31.243
> 
> 标签：c#, excel, border, cell

我有一个小问题，使用 C# 我希望文本在单元格中而不是在单元格之外。因为有时文本太长，它会自动转到另一个单元格。我怎样才能在那里做边界？我应该使用`Excel.Range.Borders`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:21:28.343

好像您正在寻找**在您的单元格中换行的文本**

这是执行此操作的一些代码：

```
sheet.Range["G3"].IsWrapText = true; 
```

[来源和更多信息](http://janewdaisy.wordpress.com/2012/04/18/how-to-wrap-text-in-excel-cell-with-cvb-net/)

# javascript - 将下拉选择选项的背景图像向右对齐

> ID：13082883
> 
> 赞同：0
> 
> 时间：2012-10-26T07:47:43.283
> 
> 标签：javascript, html, css

我正在尝试将背景图像添加到下拉列表的选择选项中。

这是我正在使用的代码：

```
<html>
<head>
<style>

    .flag16
    {   
        height:16px;
        width:16px;
        background:url(http://imgur.com/l2KaB.png) no-repeat;
    }

    .flag16.us{background-position:0 -3664px;}
    .flag16.il{background-position:0 -1824px;}
    .flag16.in{background-position:0 -1856px;}
    .flag16.it{background-position:0 -1920px;}

</style>
</head>
<body>

    <select id="my_select" style="width: 180px;height:20px;">
    <option value="some Value 1" class="flag16 us">USA</option>
    <option value="some Value 2" class="flag16 il">Israel</option>
    <option value="some Value 3" class="flag16 in">India</option>
    <option value="some Value 4" class="flag16 it">Italy</option>
    </select>

</body>
</html> 
```

JSFiddle在这里：http: [//jsfiddle.net/26Wgq/4/](http://jsfiddle.net/26Wgq/4/)

如何让所有图像都向右对齐？

此外，此代码段仅适用于 Firefox。如何让它在所有浏览器中工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:57:52.637

可能不适用于所有浏览器的 CSS。还发现了这个： [HTML <select> selected option background-color CSS style](https://stackoverflow.com/questions/2402146/html-select-selected-option-background-color-css-style)

但我会密切关注这一点，过去只能通过 JS/Jquery 来实现......也许有更好的方法。

干杯

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:00:30.993

我想如果你试试这个会很好。我知道这不是一个解决方案，但它可以做你想做的事，想想这个：

```
<select id="my_select" style="width: 180px;height:20px;">
    <option value="some Value 1" class="flag16 us">USA<span class="as"><img src="usa.jpg" /></span></option>
    <option value="some Value 2" class="flag16 il">Israel<span class="as"><img src="Israel.jpg" /></span></option>
    <option value="some Value 3" class="flag16 in">India<span class="as"><img src="India.jpg" /></span></option>
    <option value="some Value 4" class="flag16 it">Italy<span class="as"><img src="Italy.jpg" /></span></option>
</select> 
```

现在只需为图像创建 css，这并不是什么大事 :)

# javascript - 什么 JavaScript 数据表类似于 Google 电子表格？

> ID：13082885
> 
> 赞同：0
> 
> 时间：2012-10-26T07:47:54.247
> 
> 标签：javascript, datatable

我正在寻找与[Google 电子表格](https://docs.google.com/)或 Microsoft Excel 具有相似功能的 JavaScript 数据表。

[Datatables.net](http://datatables.net/)和[jqGrid](http://trirand.com/blog/jqgrid/)等数据表更多地用于显示表格数据，而不是与 Excel 相同样式的内联编辑。

[YUI3 有一个](http://yuilibrary.com/yui/docs/datatable/)看起来很有希望但尚未完成的数据表。

[YUI2有一个](http://developer.yahoo.com/yui/datatable/)也关闭的数据表，但它的内联编辑风格更多的是“单击单元格，编辑文本，单击保存按钮”风格。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:56:02.537

[手持式](http://handsontable.com/)

用于 HTML、JavaScript 和 jQuery 的简约类 Excel 数据网格编辑器

# web-applications - Meteor 教程（特别是在 Ubuntu 上）

> ID：13082888
> 
> 赞同：5
> 
> 时间：2012-10-26T07:48:26.403
> 
> 标签：web-applications, ubuntu, meteor

对于我的一个课程的最后一个项目，我们的任务是研究与 Web 开发有关的东西。环顾四周后，我遇到了 Meteor，真的很感兴趣。

截至目前，我知道他们不支持 0.5 版的 Windows，所以我安装了 VirtualBox 4.2.2 和 Ubuntu 12.10。我不会详细介绍，但我在使用该 VM 时遇到了各种各样的问题。

我只有几个问题：Meteor 的一些好的实际编码示例/教程在哪里？在Web开发经验方面，我很少。

和

使用 Ubuntu，用于 Meteor 的最佳 IDE/编辑器是什么？我是 Ubuntu 的新手，我看到的所有教程（从视觉上讲）都是在 Mac 上编写的（我不/不会拥有）。

到目前为止，我已经在meteor.com 上完成了记分牌示例，但没有安装 IDE/Editor 来实际编辑代码。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-26T08:22:20.700

Meteor 本质上是 JavaScript，如果您对 JavaScript 有基本的了解，那么只需使用 Meteor 文档就可以了，尽管如果您正在寻找一些可以向您展示如何入门的教程，那么这里有很多

Meteor 的软介绍和教程：http: [//net.tutsplus.com/tutorials/javascript-ajax/whats-this-meteor-thing/](http://net.tutsplus.com/tutorials/javascript-ajax/whats-this-meteor-thing/)

一个基本的实时聊天室：http: [//vimeo.com/40300075](http://vimeo.com/40300075)

HTML5、Bootstrap 和 Meteor 教程：http: [//vimeo.com/49433252](http://vimeo.com/49433252)

将 Meteor 推送到 Heroku：[http ://bytesofpi.com/post/20898722298/pushing-your-meteor-project-to-heroku](http://bytesofpi.com/post/20898722298/pushing-your-meteor-project-to-heroku)

我推荐前两个来让自己开始，确保你熟悉 Node.JS 是什么和 JavaScript 基础。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T08:55:35.293

不是您问题的直接答案，但仅供参考，有一个 Windows 安装程序可以工作，您可以在此页面上找到它的链接：[https](https://github.com/meteor/meteor/wiki/Supported-Platforms) ://github.com/meteor/meteor/wiki/Supported-Platforms 。我在几分钟内就在 Windows 上启动并运行了一个流星样本。从那里我猜你可以使用 Visual Studio 或者你通常在 Windows 上使用的任何东西。

# android - AChartEngine 最大 x 个标签可见

> ID：13082889
> 
> 赞同：3
> 
> 时间：2012-10-26T07:48:34.343
> 
> 标签：android, mobile, charts, achartengine

我的问题是如何在 AChartEngine 中设置 x 轴上的许多 x 标签并设置为仅可见例如 20，并且当放大时会出现更精确的标签。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:32:05.813

一开始，只需为初始视图设置所需的最大标签数：

```
renderer.setXLabels(20); 
```

每当您放大时，AChartEngine 都会更新标签，使其最多包含 20 个标签。它会自动选择圆形值标签，因此您不会正好有 20 个，但您将有相当数量的相当整数。

另一方面，如果您指的是自定义文本标签，例如使用 renderer.setXTextLabel() 添加的标签，那么您必须监听缩放事件并相应地更新标签：

```
mChartView.addZoomListener(new ZoomListener() {
  public void zoomApplied(ZoomEvent e) {
    double start = renderer.getXAxisMin();
    double stop = renderer.getXAxisMax();
    double step = (stop - start) / 20;
    renderer.removeXTextLabels();
    for (double i = start; i <= stop; i += step) {
      renderer.addXTextLabel(i, "text");
    }
  }

  public void zoomReset() {
  }
}, true, true); 
```

# objective-c - NSFetchedResultController 不会在 IOS 5 中显示数据

> ID：13082891
> 
> 赞同：1
> 
> 时间：2012-10-26T07:48:54.090
> 
> 标签：objective-c, ios5, core-data, ios6, nsfetchedresultscontroller

我是IOS开发的新手。目前我正在构建一个 iPad 应用程序，从 web 服务获取数据，将其保存在核心数据库中，并使用 NSFetchedResultController 在表格视图中显示。

问题是什么。在 IOS6 中它就像一个魅力，在 IOS 5.0 中它保存数据但不显示在 tableview 中。它给出了以下错误。

```
 CoreData: error: Serious application error.  An exception was caught from the delegate of NSFetchedResultsController during a call to -controllerDidChangeContent:.  The NIB data is invalid. with userInfo (null) 
```

当我在 IOS 5.1 中进行测试时，它什么也没做。它不在表格视图中显示数据，并且数据未存储在核心数据库中。

这就是我所做的。在我看来确实出现了我检查是否有我可以使用的文件。

```
if (!self.genkDatabase) {  // we'll create a default database if none is set
        NSURL *url = [[[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask] lastObject];
        url = [url URLByAppendingPathComponent:@"Default appGenk Database"];
        self.genkDatabase = [[UIManagedDocument alloc] initWithFileURL:url]; // setter will create this for us on disk
    } 
```

然后它去我的二传手。接下来在 usedocument 中将检查我的文档处于哪个状态。

```
- (void)setGenkDatabase:(UIManagedDocument *)genkDatabase
{
    if (_genkDatabase != genkDatabase) {
        _genkDatabase = genkDatabase;
        [self useDocument];
    }
    NSLog(@"Comes in the setdatabase methode.");
}

    - (void)useDocument
    {
        NSLog(@"Comses in the use document");
        if (![[NSFileManager defaultManager] fileExistsAtPath:[self.genkDatabase.fileURL path]]) {
            // does not exist on disk, so create it
            [self.genkDatabase saveToURL:self.genkDatabase.fileURL forSaveOperation:UIDocumentSaveForCreating completionHandler:^(BOOL success) {
                NSLog(@"create");
                [self setupFetchedResultsController];
                NSLog(@"create 2");
                [self fetchNewsIntoDocument:self.genkDatabase];
                NSLog(@"create 3");
            }];
        } else if (self.genkDatabase.documentState == UIDocumentStateClosed) {
            NSLog(@"closed news");
            // exists on disk, but we need to open it
            [self.genkDatabase openWithCompletionHandler:^(BOOL success) {
                [self setupFetchedResultsController];
            }];
        } else if (self.genkDatabase.documentState == UIDocumentStateNormal) {
            NSLog(@"normal");
            // already open and ready to use
            [self setupFetchedResultsController];
        }

    } 
```

最后，我使用以下函数在我的文档中获取我的数据。

```
- (void)fetchNewsIntoDocument:(UIManagedDocument *)document
{
    dispatch_queue_t fetchNews = dispatch_queue_create("news fetcher", NULL);
    dispatch_async(fetchNews, ^{
        NSArray *news           = [GenkData getNews];
        [document.managedObjectContext performBlock:^{
        int newsId          = 0;
        for (NSDictionary *genkInfo in news) {
            newsId++;
            [News newsWithGenkInfo:genkInfo inManagedObjectContext:document.managedObjectContext withNewsId:newsId];
            NSLog(@"news inserted");
        }
        [document saveToURL:document.fileURL forSaveOperation:UIDocumentSaveForOverwriting completionHandler:NULL];
        }];

    });
    dispatch_release(fetchNews);
} 
```

对于 IOS 5.0 中的问题，这是我的 NSFetchResultController 方法。

```
- (void)setupFetchedResultsController // attaches an NSFetchRequest to this UITableViewController
{
    NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"News"];
    request.sortDescriptors = [NSArray arrayWithObjects:[NSSortDescriptor sortDescriptorWithKey:@"date" ascending:YES],nil];
    self.fetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:request
                                managedObjectContext:self.genkDatabase.managedObjectContext
                                sectionNameKeyPath:nil
                                cacheName:nil];
} 
```

我正在这样做，就像斯坦福大学 Paul Hegarty 的例子一样。您可以在[此处找到](http://www.stanford.edu/class/cs193p/cgi-bin/drupal/system/files/sample_code/Photomania_0.zip)*Photomania*示例。

希望任何人都可以帮助我！

亲切的问候

# c# - 模板复选框选中的属性在 Gridview 中为删除操作变为假

> ID：13082894
> 
> 赞同：3
> 
> 时间：2012-10-26T07:48:58.653
> 
> 标签：c#, asp.net

我在gridview中使用模板CheckBox进行多行删除，当我通过选择CheckBox选择多行并执行删除操作时，似乎选中了CheckBox在下面的代码中没有返回true。

受保护的无效Button6_Click（对象发送者，EventArgs e）{

```
 foreach (GridViewRow row in GridView1.Rows)
        {
            LinkButton ch = new LinkButton();
            ch = (LinkButton)row.FindControl("l1");
            id = Convert.ToInt16(ch.CommandArgument);
            CheckBox chs = new CheckBox();
            chs = ((CheckBox)row.FindControl("c1"));

            if (chs.Checked == true)
            {
                DeleteSelected(id);
            }
        }
    }

private void DeleteSelected(short id)
{
    var ch = from a in empd.Employees where (a.ID == id) select a;
    empd.Employees.DeleteAllOnSubmit(ch);
    empd.SubmitChanges();
    display_emp();
} 
```

有人可以帮助我为什么`CheckBox`在调用函数中没有返回真实值。

现在我已经修复了所有连接，请刷新数据库。请在下面的链接中获取 Web 应用程序。

[http://www.ziddu.com/download/20716096/WebApplication.zip.html](http://www.ziddu.com/download/20716096/WebApplication.zip.html) 请帮助我了解为什么选中的复选框在代码中没有返回 true。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T11:12:43.130

**详细信息：**在开始时添加 if(IsPostback) 否则它只会重置您的网格控件。下面的例子

**解决方案：**

```
 if (!IsPostBack)
 {
     empd = new Employee_DetailsDataContext();
     empd.Connection.ConnectionString = ConfigurationManager.ConnectionStrings["DemosConnectionString1"].ConnectionString;

     display_emp();
 } 
```

# jasper-reports - 如何在 jasper 中创建多个交叉表报告

> ID：13082897
> 
> 赞同：2
> 
> 时间：2012-10-26T07:49:17.370
> 
> 标签：jasper-reports, crosstab

我想使用 iReport Designer Professional 4.7.0 创建一个多交叉表报表。请在下面找到相同的示例屏幕截图。

我能够接受显示类型总计的总计行。

提前致谢

![在此处输入图像描述](../Images/d3d0d477158c73596711f3df2691098a.png)

# c# - 在 asp.net 中实现 reCaptcha 时出错

> ID：13082904
> 
> 赞同：0
> 
> 时间：2012-10-26T07:49:53.207
> 
> 标签：c#, asp.net, recaptcha

我正在关注本教程：[http](http://www.sieena.com/blog/archive/2010/10/05/how-to-add-recaptcha-to-an-asp-net-site.aspx) : //www.sieena.com/blog/archive/2010/10/05/how-to-add-recaptcha-to-an-asp-net-site.aspx 在我的来自 VS2010 的 ASP.net 网站 ...但我收到这样的错误

![在此处输入图像描述](../Images/e95d7876bb202296ad6ea5f60fbc5e9f.png)

我可能做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:52:26.037

你换过钥匙吗

> PublicKey="你自己的公钥在这里" PrivateKey="你自己的私钥在这里"

你应该从你的帐户中得到什么？

# .net - 底层连接已关闭：无法为 SSL/TLS 建立安全通道

> ID：13082909
> 
> 赞同：3
> 
> 时间：2012-10-26T07:50:08.387
> 
> 标签：.net, web-services, asmx, .net-1.1

我正在使用 .NET Web 服务通过安全通道（即使用 SSL 证书）交换 XML 文件。Web 服务在 vb.NET 1.1 中开发并托管在 windows server 2000 上。

在发送文件时，我间歇性地收到以下错误

> 底层连接已关闭：无法为 SSL/TLS 建立安全通道。

我需要在我的服务器上进行任何设置，或者您能否建议我使用其他方法来解决此问题？

# jsf - 我们如何使用多个 标签或 单个 JSF 页面中的标签？

> ID：13082911
> 
> 赞同：2
> 
> 时间：2012-10-26T07:50:10.350
> 
> 标签：jsf

我的问题是我在一个 JSF 页面中有 2 个表单，每个表单都有它的`<h:message>`or`<h:messages>`标记。我们知道消息/消息标签会打印任何验证错误，所以会发生什么，假设我将 2 个表单中的任何一个的字段留空，它应该打印“字段不能留空”或某种消息。它给出了这个消息，但它给出了两次，因为有两种形式。所以我在这两种形式中都看到了相同的错误/验证消息。

所以我需要的是`<h:messages>`or`<h:message>`标签应该只为它们各自的表格显示一次错误/验证消息！

所以任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T11:11:13.023

如果您使用的是 JSF 2，那么您可以通过 ajax 提交和更新表单。这允许部分更新视图。

```
<h:form>
    <h:messages />
    ...
    <h:commandButton ...>
        <f:ajax execute="@form" render="@form" />
    </h:commandButton>
</h:form>

<h:form>
    <h:messages />
    ...
    <h:commandButton ...>
        <f:ajax execute="@form" render="@form" />
    </h:commandButton>
</h:form> 
```

或者，如果您因为某些不明显的原因不能/不想使用 ajax，或者仍在使用旧版 JSF 1.x，请检查是否已[提交](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIForm.html#isSubmitted%28%29)`rendered`所需表单的属性。`<h:messages>`

```
<h:form binding="#{form1}">
    <h:messages rendered="#{form1.submitted}" />
    ...
    <h:commandButton ... />
</h:form>

<h:form binding="#{form2}">
    <h:messages rendered="#{form2.submitted}" />
    ...
    <h:commandButton ... />
</h:form> 
```

顺便说一句，不应该有这个`<h:message>`问题，这与你在问题中暗示的相反。

# c# - ASP.Net 页面可以在不使用代码隐藏页面的情况下实现接口吗？

> ID：13082912
> 
> 赞同：2
> 
> 时间：2012-10-26T07:50:13.247
> 
> 标签：c#, asp.net, .net, vb.net

我有一个 ASP.Net 页面，需要实现我创建的接口类，但由于此页面中的代码是内联的，因此没有类声明，因此没有地方放置“Implements IMyInterface”行。我也尝试使用 @interface 页面指令，但它似乎只适用于内置的 .Net 框架类。

除了使用代码隐藏页面来编辑类声明行之外，还有其他选择吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-26T08:51:54.283

您可以使用实施指令来做到这一点：

```
<%@ Implements Interface="MyNamespace.IMyInterface"  %> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-26T07:59:02.990

我不这么认为。您可以使用继承指令指定基类。您可以拥有一个派生自 Page 的类并在此类中实现接口。

# c# - 使用 lambda 从数组中选择第二个元素

> ID：13082913
> 
> 赞同：10
> 
> 时间：2012-10-26T07:50:44.173
> 
> 标签：c#, linq, lambda

C# 4.0。如何使用 lambda 表达式完成以下操作？

```
int[] a = new int[8] { 0, 1, 2, 3, 4, 5, 6, 7 };
// Now fetch every second element so that we get { 0, 2, 4, 6 } 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-26T07:52:54.897

```
int[] list = a.Where((value, index) => index % 2 == 0)
              .ToArray(); 
```

它只会选择偶数索引，由`%`(mod) 运算符计算。

```
5 % 2 // returns 1
4 % 2 // returns 0 
```

根据 MSDN：

> [％ 操作员](http://msdn.microsoft.com/en-us/library/0w4e0fzs%28v=vs.80%29.aspx)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-26T07:57:32.273

另一种方法使用`Enumerable.Range`

```
var result = Enumerable.Range(0, a.Length/2)
                       .Select(i => a[2*i])
                       .ToArray(); 
```

或者使用*按位*更有效地检查*偶数*：

```
var result = a.Where((i, index) => (index & 1) == 0)
              .ToArray(); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-10-26T07:54:53.900

余数运算符是你的朋友。

```
int[] everySecond = a.Where((i, ind) => ind % 2 == 0).ToArray(); 
```

[% 运算符（C# 参考）](http://msdn.microsoft.com/en-us/library/0w4e0fzs.aspx)

> % 运算符计算第一个操作数除以第二个操作数后的余数。所有数字类型都有预定义的余数运算符。

[E.Lippert：有什么区别？余数与模数](http://blogs.msdn.com/b/ericlippert/archive/2011/12/05/what-s-the-difference-remainder-vs-modulus.aspx)

# mingw - 使用 Mingw64 编译 Blitz++

> ID：13082916
> 
> 赞同：0
> 
> 时间：2012-10-26T07:50:51.907
> 
> 标签：mingw, blitz++

我在 Win7 64Bit 系统上，我想用 mingw64 编译 Blitz++ 库。我遇到了一些问题，因为 Blitz++ 库的自述文件指出我必须运行 ./configure ，而我不能在 Win 上运行，对吧？

那么，谁能指出我正确的方向？

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:53:52.570

从 MSYS shell 运行它。MSYS 尝试模拟 *Nix shell。如果不使用 MINGW 安装程序，您应该使用 MINGW 安装 MSYS。

# google-drive-api - 以 HTML 格式下载 Google Docs 电子表格

> ID：13082918
> 
> 赞同：3
> 
> 时间：2012-10-26T07:50:58.067
> 
> 标签：google-drive-api, google-docs-api

我使用带有 php 的 Google Drive api 来做各种美妙的事情，但在下载 HTML 格式的电子表格时遇到了困难。我可以使用 getExportLinks() 方法以各种格式下载它，但我想要的只是表格中的文本，而不是 docx 或 ods 中的格式化文件。

这可以通过使用 /feeds/download/spreadsheets/Export?exportFormat=html&format=html&key=ID url 使用 google docs api 实现。但是目前在我使用它时被重定向。

是否可以使用驱动器 api 将电子表格下载为 html？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T01:39:57.790

@Andre J 的回答有效，代码：

```
 Drive driveService = new Drive.Builder(TRANSPORT, JSON_FACTORY, credential).build();
                            File file = driveService.files().get(____documentKey____).execute();
                            String downloadUrl = file.getExportLinks().get("application/pdf");
                            downloadUrl = downloadUrl.replaceFirst("exportFormat=pdf", "exportFormat=html");
                            HttpResponse resp =
                                    driveService.getRequestFactory().buildGetRequest(new GenericUrl(downloadUrl))
                                        .execute();
                            System.out.println("downloadUrl:"+downloadUrl);
                            InputStream fileContent = resp.getContent();
                            String htmlContent = new Scanner(fileContent).useDelimiter("\\A").next();
                            System.out.println("htmlContent:"+htmlContent); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T08:20:04.693

只需将exportLink 中的exportformat 更改为html。

# asp.net - ASP.net webservice 401 错误仅适用于某些服务

> ID：13082919
> 
> 赞同：1
> 
> 时间：2012-10-26T07:50:58.317
> 
> 标签：asp.net, web-services, http-status-code-401

我在 ASP.net 中创建了一个 web 服务。对相应网站的所有访问都是通过**HTTPS**完成的。我添加的服务只是众多服务中的一项。

我试图通过 Javascript（Ajax，json）仅出于测试目的访问此服务。最终的目标实际上是Android。

我收到以下消息：

```
401 - Unauthorized: Access is denied due to invalid credentials.
You do not have permission to view this directory or page using the credentials that you supplied. 
```

这里的主要问题是不一致：当我的 web 服务无法访问时，另一个以前编写的 web 服务可以访问。另一个明显的不一致之处是，即使我通过将所需方法添加到可访问的 Web 服务来尝试折衷解决方案，这些方法本身也会引发 401 错误。

所以，我的问题与“为什么我的网络服务不起作用”和“这应该如何工作”有关，更强调后者。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T09:42:05.027

没关系 ！

由于我没有注意到我在服务器上更改的代码的深度，我不知道由于代码的组织方式而发送了 401 错误消息。要访问其他服务，我必须首先通过身份验证 Web 服务进行身份验证。

# mysql - 仅从 MySQL 表中获取较新的记录，按日期属性过滤

> ID：13082923
> 
> 赞同：0
> 
> 时间：2012-10-26T07:51:10.697
> 
> 标签：mysql

我想过滤掉旧记录，只显示较新的记录。这个想法是 currentDate 减去 2 年。一条记录如下所示（表 Symposium）：

属性：

```
ID;Day;Month;Year;Firstname;Lastname;Symposium_title;Speakers; 
```

记录

```
1;26;10;2012;Markus;Meier;Topic MySQL;5;
3;26;10;2011;Markus;Meier;Topic PHP;5;
6;26;01;2010;Markus;Meier;Topic CSS;5; 
```

希望的输出

```
1;26;10;2012;Markus;Meier;Topic MySQL;5;
3;26;10;2011;Markus;Meier;Topic PHP;5; 
```

我可以轻松地做一个小 php 来过滤掉旧数据，但我确信有一种方法可以在一个命令中直接使用 mysql 来完成。

像这样的一些查询（这只是伪代码）

```
SELECT * FROM Symposium WHERE (current_data() - 2 Years); 
```

备注：天、月、年属性不会改变。有超过 50 个表，是由这个属性建立的。所以不建议换表。

有人能帮我吗 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:54:53.223

您可以为此任务使用[STR_TO_DATE 函数](http://www.sqlines.com/mysql/functions/str_to_date)和[DATE_ADD ：](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_adddate)

句法：

```
STR_TO_DATE(string, format) 
```

所以在你的代码中：

```
SELECT * from Symposium
WHERE DATE_ADD(STR_TO_DATE(concat(Day,'-',Month,'-',Year),'%d-%m-%Y'), INTERVAL 2 YEAR) > NOW(); 
```

(sadly, I don't have a MySQL at hand right now, so I can't test it, but unless there is some very basic typo in it, it should work)

# colorbox - Colorbox maxWidth，maxHeight 不起作用

> ID：13082924
> 
> 赞同：9
> 
> 时间：2012-10-26T07:51:12.587
> 
> 标签：colorbox

我在仅使用可用视口设置颜色框时遇到问题。一旦我设置了 maxHeight 或 maxWidth 属性，就不会显示任何图像。颜色框打开，但停留在“纺车”上。

```
function showImage(e) {
  $.colorbox({href:$(e.currentTarget).attr("src")}); } 

jQuery(document).ready(function () {
  $('.popout').on("click", showImage);
  $('.popout').colorbox({rel:'popout', maxWidth:'95%', maxHeight:'95%'}); });

<img class="popout" src="my.jpg" alt="" width="500" height="373" /> 
```

那么，我的代码有什么问题？或者我是否还需要设置其他属性才能使 maxWidth/height 正常工作？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-29T06:14:54.100

听起来您正在导致 JS 错误（检查浏览器的开发控制台）。

但是，您的方法存在问题。试试这个：

```
jQuery(document).ready(function () {
    $('.popout').colorbox({rel:'popout', maxWidth:'95%', maxHeight:'95%', href:function(){
        return this.src;
    }});
});

<img class="popout" src="my.jpg" alt="" width="500" height="373" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-05-30T07:58:11.550

虽然我知道这是一个老问题。我只想为这个问题添加一个我认为有用的参考答案。

为了在颜色框上设置 maxWidth 或 maxHeight，还应该首先定义宽度和高度。maxWidth 和 maxHeight 仅应设置为图像应加载的大小。

对于移动视口，我通常将我的函数设置如下，以确保颜色框永远不会为更大的屏幕加载大于 800 像素的图像。较小的屏幕以 90% 的宽度显示颜色框。

下面的代码示例仅使用 width 和 maxWidth 属性：

```
$(document).ready(function(){
    $(".popout").colorbox({rel:'popout', width:"90%", maxWidth:"800px"});
}); 
```

我希望这可以帮助任何仍然在这个问题上绊倒的人。

# wcf - WCF 数据服务更改跟踪：如何取消保存更改并恢复为对象的原始值

> ID：13082926
> 
> 赞同：1
> 
> 时间：2012-10-26T07:51:13.917
> 
> 标签：wcf, entity-framework, wcf-data-services, odata, change-tracking

我有一个包装实体框架 4 数据模型的 WCF 数据服务。我正在使用 WCF 数据服务客户端库将 WPF 客户端连接到服务。

WCF 数据服务中是否可以撤消/取消对跟踪对象的更改？

场景：在 UI 中，我允许用户编辑对象。我有保存和取消按钮。如果用户选择保存，我在我的 WCF 上下文中调用 SaveChanges()，更改将通过 WCF 服务发送到数据库。如果用户单击取消，我想撤消更改并恢复为当前对象的原始属性值。

我知道 WCF 数据服务客户端库内置了更改跟踪 - 但我找不到任何方法来访问此信息。

在实体框架中，上下文支持 Refresh 方法，您可以指定 RefreshMode.StoreWins 并传入对象 - 这将有效地取消/撤消任何更改。记录在这里：http: [//msdn.microsoft.com/en-us/library/bb896255.aspx](http://msdn.microsoft.com/en-us/library/bb896255.aspx)

关于如何在我的客户端应用程序中的 WCF DataServices 中实现相同功能的任何建议？

克里斯欢呼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T11:02:57.503

我知道的唯一“解决方案”是：

```
var oldMergeOption = _service.MergeOption;
_service.MergeOption = MergeOption.OverwriteChanges;
try {
    _service.YourQueryable.Where(x => x.Id==oldObject.Id).Single();
} finally {
    _service.MergeOption = oldMergeOption;
} 
```

这应该将“oldObject”的值替换为存储在 DB 中的值。但是，我不确定 Single() 返回的对象是否总是与“oldObject”相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-03T20:01:06.533

在准备好将这些更改提交到数据库之前，我通常不会对 DataServiceContext 中的实体进行操作。我不将我的实体视为我的域模型的一部分，因此我创建了一个特定的域模型，它使用适配器和存储库类将我的模型对象调整为实体对象。这样，域模型中的所有操作都是自包含的，直到我准备好将它们提交到数据库。Ben Day 关于我所指的内容的精彩文章可以在这里找到：http: [//visualstudiomagazine.com/articles/2011/04/01/pfcov_silverlight-mvvm-tips.aspx](http://visualstudiomagazine.com/articles/2011/04/01/pfcov_silverlight-mvvm-tips.aspx)

# c++ - 将 C++ dll 导出到 Delphi 程序

> ID：13082933
> 
> 赞同：0
> 
> 时间：2012-10-26T07:51:56.733
> 
> 标签：c++, delphi, dll

我有一个带导出功能的 dll

```
extern "C" __declspec(dllexport) IDriver * __stdcall GetDriver() 
```

有一个用 Delphi 编写的程序。它看不到函数GetDriver()。这是双重可怕的，因为我无法获取和修改该程序的来源。

成功加载我的 dll（根据日志文件）和调用导出功能失败的原因可能是什么？谢谢你。

Window 7 x64，Visual Studio 2010，用于 x86 目标的 C++ 项目

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T07:57:26.600

最可能的解释是该函数将使用修饰名称导出。我希望它以 name 导出`GetDriver@0`。所以你可以像这样导入它：

```
function GetDriver: IDriver; stdcall; external 'DllName.dll' name 'GetDriver@0'; 
```

使用[Dependency Walker](http://www.dependencywalker.com/)之类的工具来检查用于导出函数的确切名称。

如果您不能修改 Delphi 代码，那么您需要使您的 C++ DLL 匹配。通过使用允许您控制导出名称的 .def 文件来做到这一点。

* * *

您将面临的另一个问题是 Delphi 的返回值 ABI 与 Windows 平台上大多数其他工具使用的不同。具体来说，返回值在语义上是一个`var`参数。另一方面，您的 C++ 编译器会将返回值视为`out`参数。我关于[Delphi`WideString`返回值](https://stackoverflow.com/questions/9349530/why-can-a-widestring-not-be-used-as-a-function-return-value-for-interop)的问题正好涵盖了这个问题。

因此，我希望上面的函数声明会导致访问冲突。相反，您应该将返回值声明为 a`Pointer`并将其转换为 Delphi 代码中的接口引用。您需要仔细检查并确保正确处理引用计数。

同样，如果不能修改 Delphi 代码，则需要使 C++ 代码匹配。Delphi 接口返回值是作为[其他`var`参数之后的](http://docwiki.embarcadero.com/RADStudio/XE3/en/Program_Control#Handling_Function_Results)附加参数实现的。因此，要使您的 C++ 函数匹配，请像这样声明它：

```
void __stdcall GetDriver(IDriver* &retVal); 
```

# paypal - Paypal IPN 处理程序 - 如何知道谁的交易发生

> ID：13082935
> 
> 赞同：0
> 
> 时间：2012-10-26T07:52:07.240
> 
> 标签：paypal, paypal-ipn

我第一次在其中一个项目中实现了 IPN 处理程序（从代码项目中粘贴它）。

用户的问题可以使用一些电子邮件地址注册到我的网站，然后在付款时他可以使用一些不同的电子邮件地址

IPN 处理程序请求变量给出了它支付的电子邮件地址。我应该如何找出哪个用户已付款。

```
if (strResponse == "VERIFIED")
        {
            //check the payment_status is Completed
            //check that txn_id has not been previously processed
            //check that receiver_email is your Primary PayPal email
            //check that payment_amount/payment_currency are correct
            //process payment

            string payerEmail = Request.Form["payer_email"];
            string paymentStatus = Request.Form["payment_status"];
            string receiverEmail = Request.Form["receiver_email"];
            string amount = Request.Form["mc_gross"];
         } 
```

解决方案：

在支付处理页面中传递一些附加的可能是用户 ID，并假设它将在 IPN 处理程序中返回。

或者要求用户在付款前输入贝宝邮箱地址。（感觉不太好）

感谢您在这方面的任何帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T08:22:27.950

我通常在购物车信息中发布标识我的本地交易或本地购物车的自定义字段。IPN 会将该自定义字段发回给您，以便您可以将交易与您的用户进行匹配。或者您可以只传递 USER_ID，然后不管交易如何都将其取回。

使用此字段在您的表单中向贝宝发送您的自定义数据：

```
<input type="hidden" name="custom" value="YOUR_CUSTOM_INFO_HERE"> 
```

在您的回调中处理 IPN：

```
if (strcmp ($res, "VERIFIED") == 0) {
  // This is the custom field i posted within the cart form.
  $cid = $_POST['custom'];
  $txn_id = $_POST['txn_id'];
  $cart = load_cart_by_cid($cid);
  if (!empty($cart)) {
    // Fetch your user from cart and do things with it,
    // along with your security checks.
    $user = $cart->getUser();
    // For example, store the transaction.
    TransactionManager::saveTransaction($user, $txn_id);
  }
} 
```

源代码是 php，但我认为它足够冗长，可以很容易地用 java、c# 或其他语言翻译。

# generics - 使用 Lambda 表达式添加模型映射

> ID：13082936
> 
> 赞同：1
> 
> 时间：2012-10-26T07:52:20.110
> 
> 标签：generics, lambda, ef-code-first, factory-pattern

我有一个这样的映射接口：

```
public interface IMapping<T> where T: class, IEntityModel
{
    IQueryable<U> Project<U>(IQueryable<T> set) where U : class, IModel;
} 
```

如果我想实例化特定的映射，我会这样做：

```
public class UserMapping : IMapping<User>
{
    .... code that contains mapping between IEntityModel and IModel
} 
```

现在我想在 global.asax application_start 中注册所有映射，并让我的基础存储库使用它们来投影以查看具有通用方法的模型。这就是我的映射解析器现在的工作方式：

```
public static class MappingResolver
{
    private static Dictionary<Type, object> Mappings = new Dictionary<Type, object>(); 

    public static void RegisterMapping<T, U>(U UMapping) where T: class, IEntityModel where U : IMapping<T> 
    {
        Mappings.Add(typeof(T), UMapping);
    }

    public static IMapping<T> GetMapping<T>() where T : class, IEntityModel
    {
        return Mappings[typeof(T)] as IMapping<T>;
    }
} 
```

它工作得很好，除了我不喜欢将一个映射添加到解析器的样子：

```
MappingResolver.RegisterMapping<User, UserMapping>(new UserMapping()); 
```

我要完成的是语法，例如（语法可能根本不正确，只是为了描述这个想法）：

```
MappingResolver.RegisterMapping((x,y) => {User, new UserMapping()}); 
```

# android - 在 Android PHP-MySQL 服务器上使用 BackupManager

> ID：13082938
> 
> 赞同：0
> 
> 时间：2012-10-26T07:52:22.630
> 
> 标签：android, backup, android-backup-service

我正在制作一个使用硬币游戏内货币（可以在应用程序计费中购买）的 Android 应用程序，并且使用该虚拟货币，用户可以购买只能购买一次的物品。

为了管理每次购买以及每个用户拥有多少硬币，我最初虽然在我保存我的项目列表的服务器上的应用程序中使用的每次购买和用户使用一个表，但由于我的服务器是一个低成本的服务器，我认为/希望有很多交易，服务器将无法及时处理每个用户请求（回答更新列表，管理购买，将物品发送给用户等等）。

最近我发现了[BackupManager](http://developer.android.com/guide/topics/data/backup.html)并且我在想我是否使用本地文件来保存用户硬币、更新的项目列表和用户所做的购买而不是使用服务器，然后当其中一项更改时（购买时一个新项目，在更新项目列表等时）我会更新本地文件和备份`BackupManager`，甚至无需联系我的服务器。这可行吗，是否`BackupManager`设计用于像这样非常频繁的备份？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T12:16:40.677

这是错误的做法，因为您对“欺诈”持开放态度。在有根设备上，人们可以轻松替换或修改您的“钱包”文件，如果没有自己的记录，您将无法捕捉到它。

BackupManager 很好......对于备份，所以我并没有真正看到您的需求和备份之间的相关性。

# twitter-bootstrap - 无法水平对齐社交按钮

> ID：13082942
> 
> 赞同：0
> 
> 时间：2012-10-26T07:52:41.070
> 
> 标签：twitter-bootstrap, facebook-like, google-plus-one

首先，在有人将这个问题作为“精确副本”关闭之前，我在网站上搜索并回答，但找不到任何可以帮助的内容：)

我有一个网页，其中有一个社交栏，在他们的首页看起来有点像[Bootstrap社交栏。](http://twitter.github.com/bootstrap/)我的站点使用[Bootstrap](http://twitter.github.com/bootstrap/)作为站点模板。

我的社交按钮问题。我添加了 Google+、Twitter 和 Facebook 按钮，现在我正在努力正确对齐......感谢 Facebook 按钮。

我使用的代码与来自 3 个社交网络的官方代码完全相同，并且我将每个按钮都放在了`<li>`a 中`<ul>`（同样，请参阅[Bootstrap](http://twitter.github.com/bootstrap/)主页以获取示例）。注意：我添加了一些背景颜色和一些填充以使事情变得清晰。

结果就是您在下面看到的图像（来自 IE 的屏幕截图）。Google+ 和 Twitter 玩得很好，而 Facebook 让事情变得困难……还是相反？

![社交按钮](../Images/1ebe7246d564632ded137d9444981087.png)

在我用于测试的所有浏览器（IE、Firefox、Chrome 和 Opera）中，这都是相同的行为

**更新**：访问此[小提琴](http://jsfiddle.net/FYCMb/)以查看示例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T09:41:16.933

首先，LI 的高度并不完全相同——G+ 和 Twitter 都是 25px，FB like button 只有 22px。`height:25px`通过在样式表中添加它们，使所有 LI 具有相同的高度。

之后，也只需`vertical-align:middle`为 LI 设置，它们应该很好地对齐。

# wordpress - mod_pagespeed 删除缓存？

> ID：13082948
> 
> 赞同：12
> 
> 时间：2012-10-26T07:53:33.710
> 
> 标签：wordpress, apache, caching, pagespeed

我们有一个服务器（OVH - France），带有 Apache 和[mod_pagespeed](https://developers.google.com/speed/pagespeed/mod)。在这台服务器上，我安装了 WordPress。

我在我的主题中更改了一个 Javascript 文件，但 pagespeed 不明白有一个新文件，并继续加载原始 javascript 文件。`js/ui.js.pagespeed********`

我在两周前进行了更改，今天早上重新启动了服务器，它仍在加载原始的 Javascript 文件。

如何删除pagespeed缓存？

在我的服务器上，在 中`/var/mod_pagespeedcache/http,3A/,2Fwww.myURL.fr/wp-content/themes/mytheme/js`，我看到了`ui.js.pagespeed.jm.************.js`.

我可以删除这个文件吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2016-04-06T18:21:40.550

[谷歌关于Legacy Flushing Of Entire Cache](https://developers.google.com/speed/pagespeed/module/system#flush_cache_legacy)的 PageSpeed 文档表明了这一点：

```
sudo touch /var/cache/mod_pagespeed/cache.flush 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-01T17:07:45.923

来自：[https ://developers.google.com/speed/docs/mod_pagespeed/faq#ignores-changes](https://developers.google.com/speed/docs/mod_pagespeed/faq#ignores-changes)

> 当您使用 mod_pagespeed 时，有两个不同的缓存时间在起作用：
> 
> mod_pagespeed 用于刷新其内部服务器端缓存的原始 TTL。
> 
> mod_pagespeed 向浏览器提供重写资源的 TTL。当 mod_pagespeed 第一次读取您的资源文件时，它使用原始 TTL 来计算重新检查原始 CSS 文件的频率。假设您的原始 TTL 为 1 天。一旦 mod_pagespeed 将该文件放入缓存中，它将不会返回并在一天内重新检查该文件。在 mod_pagespeed 将资源放入其缓存后更改 TTL 将无济于事，因为 mod_pagespeed 不会重新加载资源，直到其缓存中的资源过期或您[清除其缓存](https://developers.google.com/speed/docs/mod_pagespeed/system#flush_cache)。
> 
> 我们建议使用 10 分钟的原始 TTL，这样可以在您更新文件时提供合理的响应。如果您尝试使其更小，那么您的服务器将需要更频繁地刷新它。这会增加服务器负载并减少优化。
> 
> 要在开发过程中更快地查看文件更改，请[刷新](https://developers.google.com/speed/docs/mod_pagespeed/system#flush_cache) 服务器上的缓存。
> 
> 如果您的环境允许您启用 [ModPagespeedLoadFromFile](https://developers.google.com/speed/docs/mod_pagespeed/domains#ModPagespeedLoadFromFile)，您可以两全其美，因为 mod_pagespeed 可以消除其内部服务器端缓存。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-01-28T22:35:28.623

在 Pagespeed 中刷新特定页面的缓存需要服务器支持缓存清除。在 Apache 中，这意味着`ModPagespeedEnableCachePurge on`在站点的配置中。在 Nginx 中，您将需要`pagespeed EnableCachePurge on;`。此设置允许您发送特制的 HTTP 请求以强制清除 Pagespeed 中的特定页面。例如使用 cURL：

`curl 'http://example.com/pagespeed_admin/cache?purge=path/file.ext'`

还有另一种方法可以清除缓存中的单个页面`curl --request PURGE 'http://www.example.com/path/file.ext'`（`ModPagespeedPurgeMethod PURGE``pagespeed PurgeMethod PURGE;`

有关详细信息，请参阅描述此过程的[文档以获取更多详细信息。](https://developers.google.com/speed/pagespeed/module/system#flush_cache)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-11-20T01:37:45.920

```
sudo touch /var/cache/mod_pagespeed/cache.flush 
```

再次加载页面。你应该看到变化

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-01-10T18:22:45.430

在 bitnami AWS 服务器 (lightsail) 上使用以下命令：

```
sudo touch /opt/bitnami/apache2/var/cache/mod_pagespeed/cache.flush 
```

重启阿帕奇：

```
sudo /opt/bitnami/ctlscript.sh restart apache 
```

这是[帮助页面](https://docs.bitnami.com/aws/components/pagespeed/)。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-07-29T17:39:31.057

刷新缓存 nginx 页面速度

```
sudo touch /var/cache/ngx_pagespeed/cache.flush 
```

# c++ - 处理进程的终止（C++）

> ID：13082951
> 
> 赞同：0
> 
> 时间：2012-10-26T07:53:43.710
> 
> 标签：c++, signals

我希望我的程序对被“killall myApplication”命令杀死做出反应。这样它就可以保存一些东西然后终止。我知道这必须通过信号处理来完成，但我不确定它在被杀死时会得到哪个 Singal。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T07:55:57.750

`killall`还是`killall -9`？因为`-9`这意味着 SIGKILL，它不能被处理也不能被屏蔽（你的进程将在调度程序中立即终止，没有任何信号发送给它的任何概念）。

没有`-9`，就是SIGTERM，可以处理。看看[`man signal`](http://linux.die.net/man/2/signal)。

# objective-c - 比较两个 BOOL 值

> ID：13082952
> 
> 赞同：0
> 
> 时间：2012-10-26T07:53:49.400
> 
> 标签：objective-c, ios, comparison, boolean

在我的实例方法中，想将 BOOL 参数与静态变量的内容进行比较，例如：

```
- (NSArray*)myMethod:(NSString*)someString actualValuesOnly:(BOOL)actualValuesOnly {
static NSString *prevSsomeString;
static BOOL prevActualValuesOnly;
static NSArray *prevResults

if ([someString isEqualToString:prevSomeString] && 
              ([actualValuesOnly isEqual: prevActualValuesOnly]) 
               // HOW TO COMPARE THESE TWO BOOLEANS CORRECTLY?? 
    { return prevResults; }// parameters have not changed, return previous results 
else { } // do calculations and store parameters and results for future comparisons) 
```

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-26T07:55:57.997

由于`BOOL`是原始（或标量）类型，而不是类，您可以直接将其与`==`

```
if ([someString isEqualToString:prevSomeString] && actualValuesOnly == prevActualValuesOnly) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T08:43:47.250

布尔变量与 == 符号而不是 isEqual 进行比较

```
if(Bool1 == Bool2){

    // do something here} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T08:42:13.547

布尔值与 == 符号而不是等号进行比较：

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-03-11T19:41:09.220

这里提到的解决方案并不是比较 2 个 BOOL 值的最安全方法，因为 BOOL 实际上只是一个整数，因此它们可以包含的不仅仅是 YES/NO 值。最好的方法是将它们异或在一起，如下所示：[https ://stackoverflow.com/a/11135879/1026573](https://stackoverflow.com/a/11135879/1026573)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-26T08:44:41.897

正如 Matthias Bauch 所建议的，

只需使用**==**运算符进行比较，即

```
if (BOOL1 == BOOL2)   
{   
    //enter code here
} 
```

# c++ - OpenCV 中的矩阵乘法 - 结合 cv::Mat 和 cv::Scalar 对象

> ID：13082963
> 
> 赞同：1
> 
> 时间：2012-10-26T07:54:36.313
> 
> 标签：c++, matlab, opencv

我正在尝试使用一些 OpenCV 库函数在 C++ 中实现不同的互相关算法。在某些时候，我需要对矩阵的行和列求和。我使用 cv::Mat 作为我的矩阵类，作为初学者，我很乐意使用 cv::Mat 进行一些基本的矩阵运算。我唯一的问题是我在 MATLAB 方面经验丰富，在这种小事情上真的很擅长。因此，我将根据 MA​​TLAB 代码提出我的要求（如果有人不了解 MATLAB，请提前道歉）。我所追求的是：

在 MATLAB 中，例如

```
gg = [1 1 1; 2 2 2; 3 3 3; 4 4 4]; % is a 4x3 matrix

sumGrows = (gg,1); % Sum of all rows - will be [10 10 10]; 1 means DIMENSION=ROWS
sumGcols = (gg,2); % Sum of all columns - [3; 6; 9; 12]; 2 means DIMENSION=COLUMNS 
```

仅供参考，在 MATLAB 中，注释带有 %

我怎样才能在 OpenCV 中做到这一点？我知道 OpenCV 中有一个名为“sum”的函数，但它不会返回 cv::Mat 对象。那我需要做一些静态/动态转换吗？AFAIK， sum() 的返回类型是标量。请指出正确的方向。

仅供参考，我不是学生！我是专业人士（曾经从事基于 Java 的开发和系统工程）。但目前接管了一个我必须进行基于 C++ 的实现的项目。

TIA

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T09:20:40.287

有一个[cv::reduce](http://docs.opencv.org/modules/core/doc/operations_on_arrays.html#reduce)用于对行或列求和。

另请参阅此问题：[Opencv 矩阵元素的列总和](https://stackoverflow.com/questions/12833657/column-sum-of-opencv-matrix-elements)

# oracle - 在 Oracle 应用程序框架中为 exportButton 生成的 CSV 文件设置编码

> ID：13082964
> 
> 赞同：0
> 
> 时间：2012-10-26T07:54:49.173
> 
> 标签：oracle, jakarta-ee, character-encoding, jdeveloper, oracle-apps

是否可以为从 OAF 页面导出的数据设置编码？我有一些波兰字母，如“ś”或“ć”，OAF 页面正确显示，但在导出的 CSV 文件中，这些字母显示为“？”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T14:20:56.877

为您找到了可能相关的此线程：

[https://forums.oracle.com/forums/thread.jspa?messageID=3151892](https://forums.oracle.com/forums/thread.jspa?messageID=3151892)

# c# - 使用 Javascript MVC4 访问从数据库返回的对象

> ID：13082972
> 
> 赞同：1
> 
> 时间：2012-10-26T07:55:01.167
> 
> 标签：c#, javascript, asp.net-mvc

如何使用 Javascript 访问从数据库返回的对象

这个函数是从 Javascript 调用的

```
function searchUser() {
    var userName = document.getElementById('UserName').value
    $.post("SearchForUser", { userName: userName }, function (UserInfo) {

        UserInfo; //How to access the returned UserInfo properties?

    });
} 
```

我使用此代码从数据库中获取 UserInfo

```
 public UserInfo SearchForUser(string userName)
    {
       string password = "nicola";

        using (FormValueEntities db = new FormValueEntities())
        {
            //Query the database for the user
            UserInfo userInfo = new UserInfo();
            userInfo = db.UserGet(userName, password).FirstOrDefault();
            return userInfo;
        }
    } 
```

UserInfo 具有以下属性：UserName、UserPassword 和 Description

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T08:07:04.553

如果你能退货就更好了`JsonResult`

```
public JsonResult SearchForUser(string userName)
{
     ...
     return Json(userInfo, JsonRequestBehavior.AllowGet);
     //you don't need the AllowGet if this is a POST action, cannot tell
} 
```

然后在 JavaScript 中，您可以轻松访问您的模型，例如

```
$.post("SearchForUser", { userName: userName }, function (UserInfo) {

        console.log(UserInfo.UserName) ; 

    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:07:43.813

您可以从[Json](http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.json%28v=vs.98%29.aspx)方法返回您的操作。这将对您提供的对象进行 JSON 序列化并返回一个`JsonResult`.

```
public ActionResult Search(string usernameName)
{
    return Json(SearchForUser(userName)); // borrows the result of your SearchForUser method and returns it as JSON-serialized string.
} 
```

`JsonResult`应该将响应内容类型设置为“application/json”，这意味着 jQuery`$.post`应该看到该响应标头并自动反序列化它。

```
function searchUser() {
    var userName = document.getElementById('UserName').value
    $.post("Search", { userName: userName }, function (UserInfo) {

        alert(UserInfo.Description); // example of consuming the deserialized JSON messsage.

    });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-26T08:12:18.480

您的脚本的第二部分是我假设的服务器端 Java。

你不能就这样返回它，jQuery 所做的就是向服务器发出一个 http 请求，然后服务器将返回一个响应。

正如鸽子评论的那样，您可以将响应格式化为 JSON 并在客户端使用 jQuery.getJSON。

# c++ - Vector C++，获取向量的第二个元素有什么问题

> ID：13082974
> 
> 赞同：-5
> 
> 时间：2012-10-26T07:55:06.687
> 
> 标签：c++

我有一个向量，它是代码

```
Vector<Vehicle> list
Vehicle *v1; 
```

我做了以下

```
string inVehicle;

cout << "Enter Vehicle Type";
cin >> inVehicle;

*v1 = new Vehicle;
v1->setName(inVehicle); 
```

所以我做了另一个代码

```
cout << v1[0].getName() << endl; 
```

结果还可以，但是如果我添加另一个值，因为我的 cin Enter 车辆类型是一个开关盒，直到用户键 5 退出程序，它才会继续工作。

所以我输入了我的第二个条目，但是当我尝试

```
cout << v1[1].getName() << endl; 
```

第二个记录，它不起作用。它是空白的，但如果我 cout v1.size() ，它显示为 2

如何正常获取第二个元素记录并正常工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T08:00:34.377

v1 不是向量，也不是数组，而只是分配给单个对象的指针。因此`v1[1]`不是一个有效的对象。

`new`如果你想使用矢量，你可能根本不应该使用。（这是矢量，不是矢量）

```
std::vector<Vehicle> list;
list.push_back( Vehicle() );
list.back().setName( inVehicle ); 
```

您必须知道您的 Vehicle 对象需要是可复制的、默认可构造的和可分配的。

从您之前的问题来看，Vehicle 实际上是一个基类。因此，您需要一个指针向量。如果`shared_ptr`对您不可用（我假设`unique_ptr`不是），您将不得不使用它`new`来创建实际的底层类。`Vehicle`将需要一个虚拟析构函数，您需要稍后删除对象，因为`std::vector`不会为您删除指针。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:04:35.903

也许问题与程序的这一部分有关：

```
cout << "Enter Vehicle Type";
cin >> inVehicle; 
```

你是在输入一个完整的句子吗？如果这样做，那么第一个空间之后的剩余部分将存储在输入缓冲区中，第二次循环将不起作用。

尝试以下操作：

```
cout << "Enter Vehicle Type";
getline( cin, inVehicle ); 
```

您必须使用#include 实用程序。另外，不要忘记：

```
v1->setName(inVehicle);
list.push_back( v1 ); 
```

但是，你的向量的定义是错误的，应该是：

```
vector<Vehicle *> list; 
```

并且不要忘记在将其添加到向量之前创建一个新对象：

```
v1 = new Vehicle;
v1->setName(inVehicle);
list.push_back( v1 ); 
```

希望这可以帮助。

# java - Zehon SFTP getGileNamesInFolder 仅每两天工作一次

> ID：13082975
> 
> 赞同：1
> 
> 时间：2012-10-26T07:55:12.200
> 
> 标签：java

我已经实现了一个在 sftp 服务器上获取文件的 cron 任务。此任务仅每两天执行一次。我正在使用zehon 的librairy fot 创建我的sftp 连接并获取文件。前几天我遇到了这个错误：

```
com.zehon.exception.FileTransferException: org.apache.commons.vfs.FileSystemException: Unknown message with code "Could not determine the type of file "sftp://____:***@ftp.___.org/".".
    at com.zehon.FileTransferClient.getFileNamesInFolder(FileTransferClient.java:858)
    at com.zehon.sftp.SFTPClient.getFileNamesInFolder(SFTPClient.java:668)
    at org.___.si.application.module.imports.ImportService.importer(ImportService.java:66)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:592)
    at org.jboss.seam.util.Reflections.invoke(Reflections.java:22)
    at org.jboss.seam.intercept.RootInvocationContext.proceed(RootInvocationContext.java:31)
    at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:56)
    at org.jboss.seam.transaction.RollbackInterceptor.aroundInvoke(RollbackInterceptor.java:28)
    at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    at org.jboss.seam.core.BijectionInterceptor.aroundInvoke(BijectionInterceptor.java:77)
    at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    at org.jboss.seam.core.MethodContextInterceptor.aroundInvoke(MethodContextInterceptor.java:44)
    at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68)
    at org.jboss.seam.intercept.RootInterceptor.invoke(RootInterceptor.java:107)
    at org.jboss.seam.intercept.JavaBeanInterceptor.interceptInvocation(JavaBeanInterceptor.java:185)
    at org.jboss.seam.intercept.JavaBeanInterceptor.invoke(JavaBeanInterceptor.java:103)
    at org._____.si.application.module.imports.ImportService_$$_javassist_440.importer(ImportService_$$_javassist_440.java)
    at org._____.si.application.module.prestation.demande.tachePeriodique.ImportTache.execute(ImportTache.java:45)
    at org.____.si.application.util.batch.GestionnaireDeTache$1$1.process(GestionnaireDeTache.java:104)
    at org.jboss.seam.servlet.ContextualHttpServletRequest.run(ContextualHttpServletRequest.java:53)
    at org._____.si.application.util.batch.GestionnaireDeTache$1.run(GestionnaireDeTache.java:106)
Caused by: org.apache.commons.vfs.FileSystemException: Unknown message with code "Could not determine the type of file "sftp://_____:***@ftp._____.org/".".
    at org.apache.commons.vfs.provider.sftp.SftpFileObject.refresh(SftpFileObject.java:84)
    at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:366)
    at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:314)
    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:86)
    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:66)
    at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)
    at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:620)
    at com.zehon.FileTransferClient.getFileObject(FileTransferClient.java:741)
    at com.zehon.FileTransferClient.getFileNamesInFolder(FileTransferClient.java:848)
    ... 23 more 
```

# c# - 在遍历表达式时提取实例变量的当前值

> ID：13082976
> 
> 赞同：5
> 
> 时间：2012-10-26T07:55:13.713
> 
> 标签：c#, reflection, expression

我目前正在尝试编写一些将 C# 表达式转换为文本的代码。

为此，我不仅需要遍历表达式树，还需要计算其中的一小部分 - 以获取局部变量的当前值。

我发现很难用语言表达，所以这里是伪代码。缺少的部分在第一种方法中：

```
public class Program
{
    private static void DumpExpression(Expression expression)
    {
        // how do I dump out here some text like:
        //      set T2 = Perform "ExternalCalc" on input.T1
        // I can easily get to:
        //      set T2 = Perform "Invoke" on input.T1
        // but how can I substitute Invoke with the runtime value "ExternalCalc"?
    }

    static void Main(string[] args)
    {
        var myEvaluator = new Evaluator() {Name = "ExternalCalc"};
        Expression<Func<Input, Output>> myExpression = (input) => new Output() {T2 = myEvaluator.Invoke(input.T1)};

        DumpExpression(myExpression);
    }
}

class Evaluator
{
    public string Name { get; set; }  

    public string Invoke(string input)
    {
        throw new NotImplementedException("Never intended to be implemented");
    }
}

class Input
{
    public string T1 { get; set; }
}

class Output
{
    public string T2 { get; set; }
} 
```

我已经开始使用以下代码对此进行调查：

```
 foreach (MemberAssignment memberAssignment in body.Bindings)
        {
            Console.WriteLine("assign to {0}", memberAssignment.Member);
            Console.WriteLine("assign to {0}", memberAssignment.BindingType);
            Console.WriteLine("assign to {0}", memberAssignment.Expression);

            var expression = memberAssignment.Expression;
            if (expression is MethodCallExpression)
            {       
                var methodCall = expression as MethodCallExpression;
                Console.WriteLine("METHOD CALL: " + methodCall.Method.Name);
                Console.WriteLine("METHOD CALL: " + expression.Type.Name);
                var target = methodCall.Object;

                // ?
            }
        } 
```

但是一旦我达到 MethodCallExpression 级别，我就会对如何解析它然后获取实际实例感到有点迷茫。

非常感谢有关如何执行此操作的任何指示/建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-26T08:28:04.263

解析表达式树是......复杂且耗时。这是一个**非常不完整**的版本，几乎可以处理您的示例。特别要注意的是，我们需要：

*   Evaluator 的硬编码，因为“ExternalCalc”不是表达式的一部分
*   手动评估一些树

输出：

> 一个新的输出设置 T2 为：调用 ExternalCalc on get myEvaluator from capture-context with input = get T1 from @input

代码：

```
private static void DumpExpression(Expression expression)
{
    var sb = new StringBuilder();
    Walk(expression, sb);
    string s = sb.ToString();      
}
static object Evaluate(Expression expr)
{
    switch (expr.NodeType)
    {
        case ExpressionType.Constant:
            return ((ConstantExpression)expr).Value;
        case ExpressionType.MemberAccess:
            var me = (MemberExpression)expr;
            object target = Evaluate(me.Expression);
            switch (me.Member.MemberType)
            {
                case System.Reflection.MemberTypes.Field:
                    return ((FieldInfo)me.Member).GetValue(target);
                case System.Reflection.MemberTypes.Property:
                    return ((PropertyInfo)me.Member).GetValue(target, null);
                default:
                    throw new NotSupportedException(me.Member.MemberType.ToString());
            }
        default:
            throw new NotSupportedException(expr.NodeType.ToString());
    }
}
static void Walk(Expression expr, StringBuilder output)
{
    switch (expr.NodeType)
    {
        case ExpressionType.New:
            var ne = (NewExpression)expr;
            var ctor = ne.Constructor;
            output.Append(" a new ").Append(ctor.DeclaringType.Name);
            if(ne.Arguments != null && ne.Arguments.Count != 0)
            {
                var parameters = ctor.GetParameters();
                for(int i = 0 ;i < ne.Arguments.Count ; i++)
                {
                    output.Append(i == 0 ? " with " : ", ")
                          .Append(parameters[i].Name).Append(" =");
                    Walk(ne.Arguments[i], output);
                }                    
            }
            break;
        case ExpressionType.Lambda:
            Walk(((LambdaExpression)expr).Body, output);
            break;
        case ExpressionType.Call:
            var mce = (MethodCallExpression)expr;

            if (mce.Method.DeclaringType == typeof(Evaluator))
            {
                object target = Evaluate(mce.Object);
                output.Append(" call ").Append(((Evaluator)target).Name);
            }
            else
            {
                output.Append(" call ").Append(mce.Method.Name);
            }
            if (mce.Object != null)
            {
                output.Append(" on");
                Walk(mce.Object, output);
            }
            if (mce.Arguments != null && mce.Arguments.Count != 0)
            {
                var parameters = mce.Method.GetParameters();
                for (int i = 0; i < mce.Arguments.Count; i++)
                {
                    output.Append(i == 0 ? " with " : ", ")
                            .Append(parameters[i].Name).Append(" =");
                    Walk(mce.Arguments[i], output);
                }
            }
            break;
        case ExpressionType.MemberInit:
            var mei = (MemberInitExpression)expr;
            Walk(mei.NewExpression, output);
            foreach (var member in mei.Bindings)
            {
                switch(member.BindingType) {
                    case MemberBindingType.Assignment:
                        output.Append(" set ").Append(member.Member.Name)
                            .Append(" to:");
                        Walk(((MemberAssignment)member).Expression, output);
                        break;
                    default:
                        throw new NotSupportedException(member.BindingType.ToString());
                }

            }
            break;
        case ExpressionType.Constant:
            var ce = (ConstantExpression)expr;
            if (Attribute.IsDefined(ce.Type, typeof(CompilerGeneratedAttribute)))
            {
                output.Append(" capture-context");
            }
            else
            {
                output.Append(" ").Append(((ConstantExpression)expr).Value);
            }
            break;
        case ExpressionType.MemberAccess:
            var me = (MemberExpression)expr;
            output.Append(" get ").Append(me.Member.Name).Append(" from");
            if (me.Expression == null)
            { // static
                output.Append(me.Member.DeclaringType.Name);
            }
            else
            {
                Walk(me.Expression, output);
            }
            break;
        case ExpressionType.Parameter:
            var pe = (ParameterExpression)expr;
            output.Append(" @").Append(pe.Name);
            break;
        default:
            throw new NotSupportedException(expr.NodeType.ToString());
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-26T08:33:21.257

如果我理解正确，您想知道如何从调用示例中的方法的对象实例中获取属性。正如 Marc 在他的回答中提到的那样，表达式树使用起来既复杂又耗时，这专门针对您的示例（可能没有其他问题）。

```
 private static void DumpExpression(Expression expression)
    {
        var lambda = expression as LambdaExpression;

        if(lambda != null)
        {
            DumpExpression(lambda.Body);
            return;
        }

        var init = expression as MemberInitExpression;

        if(init != null)
        {
            foreach(var binding in init.Bindings)
            {
                var assignment = (MemberAssignment) binding;
                DumpExpression(assignment.Expression);
                return;
            }
        }

        var methodCallExpression = expression as MethodCallExpression;

        if(methodCallExpression != null)
        {
            //Create a func that retrieves the real value of the object the method call
            //   is being evaluated on and get the Name property from it
            var objectGetExpression = Expression.Lambda<Func<Evaluator>>(methodCallExpression.Object);
            var objectGetFunc = objectGetExpression.Compile();
            Console.WriteLine(objectGetFunc().Name);
            return;
        }
    } 
```

# c# - 路由捕获出错

> ID：13082980
> 
> 赞同：2
> 
> 时间：2012-10-26T07:55:21.900
> 
> 标签：c#, asp.net-mvc, routes

我正在尝试编写一个 C# ASP.NET 应用程序，但我遇到了路由问题，我不知道如何继续：

```
routes.MapRoute(
    "DefaultArticole",
    "{limba}/Art-{id}/{titluPagina}",
    new { controller = "Pagini", action = "Index", limba = UrlParameter.Optional, id = UrlParameter.Optional, titluPagina = UrlParameter.Optional }
);

routes.MapRoute(
    "DefaultPagini",
    "{limba}/{paginaCurenta}/{id}",
    new { controller = "Home", action = "Index", limba = UrlParameter.Optional, paginaCurenta = UrlParameter.Optional, id = UrlParameter.Optional }
); 
```

我想要的只是在uri上像：

```
/Art-10/title 
```

或者

```
/en/Art-10/title 
```

被抓住`DefaultArticole`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:36:14.530

最简单的方法是为`Pagini`控制器定义两条路由：

```
routes.MapRoute("DefaultArticole", "{limba}/Art-{id}/{titluPagina}",
    new { controller = "Pagini", action = "Index", limba = UrlParameter.Optional, id = UrlParameter.Optional, titluPagina = UrlParameter.Optional });

routes.MapRoute("DefaultArticoleDefaultLimba", "Art-{id}/{titluPagina}",
    new { controller = "Pagini", action = "Index", id = UrlParameter.Optional, titluPagina = UrlParameter.Optional }); 
```

然后在你的`PaginiController`你可以这样做：

```
public ActionResult Index(string limba, int id, string titluPagina)
{
    // Set the language to default, if none given (via /Art-10/title route)
    if (string.IsNullOrEmpty(limba)) limba = "en";
    // Your actual stuff here
    return View();
} 
```

# css - 学习 CSS（JavaFx 风格）

> ID：13082981
> 
> 赞同：1
> 
> 时间：2012-10-26T07:55:25.710
> 
> 标签：css, javafx

最近我切换了我的 GUI 和编程以适应 Javafx 并使用新的 JavaFx 场景构建器！这些新工具（至少对我来说是新工具）在创建用户界面时打开了许多大门，我想了解更多并做得更好。因此，我希望为 JavaFx 学习 CSS。

到目前为止，我一直无法为初学者找到任何在线教程，因此我想问你们；你知道我可以学习为 JavaFx 项目编写 CSS 的任何网站、书籍或视频教程吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-26T15:48:50.273

要学习 JavaFX CSS，请完成以下教程：

*   [关于 CSS 的 JavaFX 入门教程](http://docs.oracle.com/javafx/2/get_started/css.htm)。
*   [JavaFX CSS 教程](http://docs.oracle.com/javafx/2/css_tutorial/jfxpub-css_tutorial.htm)。

使用 SceneBuilder 时，请查看：

*   [在 SceneBuilder 中使用样式表](http://docs.oracle.com/javafx/scenebuilder/1/get_started/preview-stylesheet.htm#BABIDJEI)。
*   [SceneBuilder 样式表支持](http://docs.oracle.com/javafx/scenebuilder/1/user_guide/stylesheet-support.htm#BEHGAGEH)。

在开发自己的应用程序时，两个最有用的资源是：

*   JavaFX CSS参考[指南](http://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html)。
*   （基本）[JavaFX 2.2 Caspian 样式表](http://hg.openjdk.java.net/openjfx/2.2/master/rt/raw-file/tip/javafx-ui-controls/src/com/sun/javafx/scene/control/skin/caspian/caspian.css)，其中包含所有 JavaFX 控件的默认样式。

* * *

如果你在网上搜索，你会发现很多关于 CSS 和 HTML 的资源。小心使用这些资源。JavaFX CSS 与用于设置网页样式的 CSS 不同。虽然文件格式相同，但 JavaFX CSS 有自己的一组属性和允许的值，包括很少的布局处理说明符，使用自己的语法进行效果处理、背景和边框规范等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T08:02:15.703

只需通过谷歌搜索，您就可以轻松找到许多好的资源。

这里有推荐的

**[MDN](https://developer.mozilla.org/en-US/learn/css)**

**[www.w3.org](http://www.w3.org/Style/CSS/learning)**

*注意：远离[w3schools.com](http://www.w3schools.com)。*

[避免使用 w3schools 的原因](http://w3fools.com/)

**学习 CSS 的最好方法是边做边学。创建一些网页并为它们设置样式而不是您自己的样式。**

# database - C#：在 WCF 服务中使用“使用/尝试/捕获”进行异常处理

> ID：13082982
> 
> 赞同：0
> 
> 时间：2012-10-26T07:55:25.443
> 
> 标签：database, wcf, error-handling

我刚刚发布了关于“使用/尝试/捕获”构造的一般用法的问题，现在一切都清楚了。

但是，我有一个与前一个问题相关的新问题 - 如果我在 WCF 服务的方法中有它，如何使用“使用/尝试/捕获”构造？目标是在客户端查看特定数据库异常的描述。

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T07:59:02.927

```
fault = Message.CreateMessage(version, sqlServerFault, newEx.Action); 
```

看看这篇博客文章[WCF 错误处理和一些最佳实践](http://blogs.msdn.com/b/pedram/archive/2008/01/25/wcf-error-handling-and-some-best-practices.aspx)

# jquery - 是否有任何 jQuery 插件可以将长 html 格式的文本切片为 div？

> ID：13082983
> 
> 赞同：0
> 
> 时间：2012-10-26T07:55:36.177
> 
> 标签：jquery, jquery-plugins, pagination

我在 html 对象中有可变的长 html 文本`overflow: auto`。我需要以某种方式将此文本转换为可分页的。我尝试为此编写自己的 jQuery 插件，但效果不佳。这个有解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T10:07:43.780

我有一些截断的旧代码，我稍作修改以创建页面... [http://jsfiddle.net/3mQLG/](http://jsfiddle.net/3mQLG/) 这不是“插件”格式，但那里的功能是它的症结所在。您需要做的就是添加 css 和分页控件。

这是循环的核心，它将一次缩短一个单词的文本块，直到达到所需的高度。它可能会为了提高效率而进行调整，但也许它会给你一些想法。

```
 while (el.height() > maxHeight) {
        text = $.trim(el.text());
        newText = text.substring(0, text.lastIndexOf(" "));
        el.text($.trim(newText));
    } 
```

循环完成后，您将其`newText`放入页面中，然后使用剩余的原始文本再次执行所有操作，直到没有剩余。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:00:25.113

你的意思是截断插件？这将在指定数量的字符后截断文本并隐藏其余部分，可以使用“阅读更多”链接查看。[这个](https://stackoverflow.com/questions/2010999/jquery-truncate-plugin)问题的答案显示了很好的插件

# sql - excel工作表和sql文件中的多个表需要作为输出

> ID：13082989
> 
> 赞同：0
> 
> 时间：2012-10-26T07:56:00.233
> 
> 标签：sql, excel

我有一个 Excel 工作表，其中包含大约 50 个表定义。表定义如下：

```
Table School
Name Varchar2 20
Marks Number 5 
```

这些值位于 excel 的不同列中，并且有很多类似的表。现在我需要使用 excel 文件生成一个 sql 脚本。输出脚本应包含为所有表创建表语句。我只需要所有表的 sql 脚本。让我知道我该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:59:05.423

使用宏 youtube.com/watch?v=ABXa6X18nyo。

另一种方法只是连接字符串，例如 ![在此处输入图像描述](../Images/19dc38d3d516711dc7c6acb95a1531c3.png)

```
="create table "&B1&"("&A2&" "&B2&","&A3&" "&B3&");" 
```

在任何其他列中键入此内容，您将获得结果为`create table School(Name Varchar2 20,Marks Number 5);

对于此访问[http://www.dummies.com/how-to/content/how-to-join-text-strings-in-excel-2010-with-the-op.html](http://www.dummies.com/how-to/content/how-to-join-text-strings-in-excel-2010-with-the-op.html) `

# android - 是否可以在 ListView 行中的 ImageVIews 上显示多个进度对话框

> ID：13082995
> 
> 赞同：0
> 
> 时间：2012-10-26T07:56:36.250
> 
> 标签：android, listview, android-asynctask, imageview, progressdialog

我有一个 ListView，其中列表的每一行都有一个 ImageView 和两个 TextView。首先，我在每一行上显示一个默认图像，当我获得图像（我从 Internet 使用 AsyncTasks 调用 url 获得的图像）时，我将它们替换为 ListView 中相应行上的默认图像。现在我想在每一行显示一个进度对话框而不是默认图像，当我得到一个图像时，我会用相应的图像替换那个进度对话框。但我无法在列表视图行的 ImageView 上显示进度对话框。我认为问题在于，要显示进度对话框，它需要上下文，我正在尝试传递图像的视图。1个月来，我一直在挣扎，没有成功。所以现在我在想，甚至有可能做到这一点，如果是的话 - 怎么做？或者我可以使用任何其他小部件代替 ImageView 来显示进度对话框吗？请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:39:38.180

我有一个替代解决方案。在这种情况下，显示多个进度对话框不是一个好的解决方案。加载视图时不显示静态图像，而是立即显示进度/加载动画。例如 gif[在这里你可以找到参考如何做到这一点](https://stackoverflow.com/questions/3660209/android-display-animated-gif)。这是一个似乎合适的示例 gif 文件：http: [//peacechild.org/wp-content/uploads/2012/09/loading.gif](http://peacechild.org/wp-content/uploads/2012/09/loading.gif)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T08:02:52.573

您可能很难在每一行中设置一个进度条。这种方式可能会降低您的应用程序的性能。最好的方法是为所有行设置一个通用进度条。您可以设置进度条的可见性，以便它可以等待所有图像被加载，然后再打开“gone”

# ruby - 通过 ssh 在远程服务器中执行 puppet 文件

> ID：13082996
> 
> 赞同：0
> 
> 时间：2012-10-26T07:56:36.720
> 
> 标签：ruby, ssh, provisioning, puppet

是否可以使用 SSH 在远程服务器中执行人偶？我不想在远程服务器上安装 ruby​​。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T08:43:59.597

据我所知，只有 Puppet 可以解释 Puppet 文件。我认为安装 Puppet 的依赖项（包括 Ruby）比查找/开发 Puppet 替代品更容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T11:48:19.633

Puppet（和因子）需要能够检查远程服务器的文件系统、进程表和其他内核表（仅提及几件事）。为此，它必须**在**远程服务器上执行。ssh 没有提供一种在主机 A 上运行命令的方式，即它在主机 B 上执行并可以访问主机 B 的资源；它确实提供了一种从主机 A 执行安装在主机 B 上的程序的方法，但这不是您想要的。

Puppet 带来了开销（安装它所需的空间及其依赖项，加上它消耗的内存和 CPU 时间）；如果您不喜欢开销，请不要使用 Puppet。

注意：如果可以*做*你想做的事，那么你会在主机 B 上节省少量空间，但会遇到三个新问题：

1.  如果你的 puppetmaster 对*所有*工作都有作用，那么它的负担就会显着增加。
2.  远程服务器上还有很多工作，因为它提供了对资源的访问
3.  网络流量大幅增加。