# StackOverflow 问答 13025000-13025999

# regex - 正则表达式 - 提取文本

> ID：13025007
> 
> 赞同：0
> 
> 时间：2012-10-23T06:54:50.563
> 
> 标签：regex, text, extract

我正在使用

```
(?<=Activties</h3>)[\w\s\/\,\-\.]* 
```

从这里提取文本，但我只得到第一行。我想捕捉所有线条，直到下一个“h3 风格”。是否捕获“br”并不重要

```
 <h3 style="margin: 10px 0px 0px;">Beach Type</h3> sand <h3 style="margin: 10px 0px 0px;">Facilities</h3> Cafes/restaurant<br>Toilets<br>Disabled toilets<br> <h3 style="margin: 10px 0px 0px;">Activities</h3> Swimming<br>Fishing<br>Snorkeling<br> <h3 style="margin: 10px 0px 0px;">Nature and Wildlife</h3> Grandes Rocques is located at the start of Guernsey's 14km west coast footpath and cycle route. Port Soif Nature Trail and the Saumarez Nature trail are also located nearby. There is a diverse range of wildlife here. The first live Green Turtle to be rec <h3 style="margin: 10px 0px 0px;">Parking</h3> 200 spaces are available <h3 style="margin: 10px 0px 0px;">Water Quality</h3> Excellent <h3 style="margin: 10px 0px 0px;">Lifeguard</h3> No <h3 style="margin: 10px 0px 0px;">Cleaning and Litter</h3> The beach is cleaned daily by hand in the summer and twice a week in winter. There are litter and dog bins present. <h3 style="margin: 10px 0px 0px;">Awards and Recommendations</h3> Marine Conservation Society Recommended<br> 
```

任何帮助，将不胜感激。感谢您的关注

欧米茄

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:06:42.200

1.  用哪种语言？

2.  通常最好使用 HTML/DOM 解析器从 HTML 中获取数据。我很确定这就是这种情况。

3.  您的角色类中没有`<>`括号。为什么要匹配`<br>`标签？

4.  你在哪里告诉模式在下一个停止`<h3 style`？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:10:26.223

这是一个相当模糊的问题，但这样的事情完成了你的要求：

```
(?<=Activities</h3>)(.*?)<h3 
```

You could make the `.*?` more restrictive if you need to. The `.*` means match anything, and `?` means non-greedy (so it will stop at the first `<h3` it finds, not the last one).

# windows-8 - 如何在 Windows8 中转换和存储位图图像

> ID：13025010
> 
> 赞同：0
> 
> 时间：2012-10-23T06:55:09.263
> 
> 标签：windows-8, windows-runtime, windows-store-apps

我想将位图图像存储在本地目录中。我写了那些代码。但是发生了未知错误，无法编译。请告诉我错误的原因以及转换和存储位图图像的正确方法。

```
 void StoreAndGetBitmapImage()
    {
        BitmapImage image = new BitmapImage(new Uri("ms-appx:///Assets/" + "test.png"));
        StorageFile storageFile = ConvertBitmapImageIntoStorageFile(image, "image_name");
        StoreStorageFile(storageFile);
        BitmapImage resultImage = GetBitmapImage("image_name");
    }

    StorageFile ConvertBitmapImageIntoStorageFile(BitmapImage bitmapImage,string fileName)
    {
        StorageFile file = Windows.Storage.StorageFile.GetFileFromApplicationUriAsync(bitmapImage.UriSource).GetResults();
        file.RenameAsync(fileName);
        return file;
    }

    void StoreStorageFile(StorageFile storageFile)
    {
        storageFile.CopyAsync(Windows.Storage.ApplicationData.Current.LocalFolder);
    }

    BitmapImage GetBitmapImage(string fileName)
    {
        BitmapImage bitmapImage;
        bitmapImage = new BitmapImage();

        bitmapImage.UriSource = new Uri(new Uri(
             Windows.Storage.ApplicationData.Current.LocalFolder.Path + "\\" +
             Windows.Storage.ApplicationData.Current.LocalFolder.Name),
             fileName);

        return bitmapImage;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:21:12.417

您需要`await`异步方法调用。因此，您必须将该方法声明为异步。例如：

```
async Task<StorageFile> ConvertBitmapImageIntoStorageFile(BitmapImage bitmapImage,string fileName)
{
    StorageFile file = await Windows.Storage.StorageFile.GetFileFromApplicationUriAsync(bitmapImage.UriSource);
    await file.RenameAsync(fileName);
    return file;
} 
```

`await`导致从方法返回。如果任务完成，该方法会在这个位置继续（可能在不同的线程中）。异步方法返回一个`IAsyncOperation`对象，例如`Task`. 这是启动过程的句柄，可用于确定何时完成。

# python - 如何在 App Engine NDB 中测试 DateTimeProperty？

> ID：13025011
> 
> 赞同：7
> 
> 时间：2012-10-23T06:55:10.863
> 
> 标签：python, google-app-engine, app-engine-ndb

我正在尝试使用 App Engine 的 NDB 测试 DateTimeProperty 的过滤器，但我已将其设置为 auto_now？

有没有办法绕过这个进行单元测试？

例子：

```
class MyModel(ndb.Model)
  timestamp = ndb.DateTimeProperty(auto_now)
  name = ndb.StringProperty()

def testMyModelFilter(self):
  test1 = MyModel()
  test1.timestamp = datetime.datetime.now() - datetime.timedelta(hours=2)
  test1.put()
  test2 = MyModel()
  test2.timestamp = datetime.datetime.now() - datetime.timedelta(hours=1)
  test2.put()

  hour_ago = datetime.datetime.now() - datetime.timedelta(hours=1)
  fetched = MyModel.query().filter(MyModel.timestamp < hour_ago).fetch(
      None, keys_only=True) 
```

不幸的是，当我使用 test.put() 将其提交到数据存储时，它使用的是 put() 的时间。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-23T08:05:06.053

因此，您可以尝试的一件事（正如@mjibson 所暗示的）是在测试期间覆盖您的模型。由于`MyModel`它本身是一个对象，因此您可以将 的`_auto_now`属性修改`timestamp`为 False 以进行测试。例如：

```
def testMyModelFilter(self):
  # Change the auto_now parameter to False
  MyModel.timestamp._auto_now = False

  # Test as usual...
  test1 = MyModel()
  test1.timestamp = datetime.datetime.now() - datetime.timedelta(hours=2)
  test1.put()
  test2 = MyModel()
  test2.timestamp = datetime.datetime.now() - datetime.timedelta(hours=1)
  test2.put()

  hour_ago = datetime.datetime.now() - datetime.timedelta(hours=1)
  fetched = MyModel.query().filter(MyModel.timestamp < hour_ago).fetch(
      None, keys_only=True) 
```

我记得在其他地方看到过这种技术，所以如果我能找到它，我会链接（如果它有效，当然:)）。

# spring - 休息服务上的 Spring Security

> ID：13025014
> 
> 赞同：1
> 
> 时间：2012-10-23T06:55:16.323
> 
> 标签：spring, spring-security, taglib

我已经使用 Spring MVC、Restful webservices 为移动客户端实现了服务器后端。我想用弹簧安全保护应用程序。我已经放置了一个自定义 login.jsp 来处理登录，如下所示。

```
<body onload='document.f.j_username.focus();'>
<h3>Login with Username and Password (Custom Page)</h3>

<c:if test="${not empty error}">
    <div class="errorblock">
        Your login attempt was not successful, try again.<br /> Caused :
        ${sessionScope["SPRING_SECURITY_LAST_EXCEPTION"].message}
    </div>
</c:if>

<form name='f' action="<c:url value='j_spring_security_check' />"
    method='POST'>

    <table>
        <tr>
            <td>User:</td>
            <td><input type='text' name='j_username' value=''>
            </td>
        </tr>
        <tr>
            <td>Password:</td>
            <td><input type='password' name='j_password' />
            </td>
        </tr>
        <tr>
            <td colspan='2'><input name="submit" type="submit"
                value="submit" />
            </td>
        </tr>
        <tr>
            <td colspan='2'><input name="reset" type="reset" />
            </td>
        </tr>
    </table>

</form> 
```

我的 web.xml 如下。

```
<display-name>Spring MVC Application</display-name>

<!-- Spring MVC -->
<servlet>
    <servlet-name>mvc-dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>mvc-dispatcher</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>

<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>

<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
        /WEB-INF/mvc-dispatcher-servlet.xml,
        /WEB-INF/spring-security-context.xml
    </param-value>
</context-param>

<!-- Spring Security -->
<filter>
    <filter-name>springSecurityFilterChain</filter-name>
    <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
</filter>

<filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

spring-security-context.xml 如下所示。

```
<beans:beans xmlns="http://www.springframework.org/schema/security"
xmlns:beans="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans 
                http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                http://www.springframework.org/schema/security 
                http://www.springframework.org/schema/security/spring-security-3.0.xsd">

<http auto-config="true">
    <intercept-url pattern="/getHierarchy" access="ROLE_USER" />
    <form-login login-page="/login" default-target-url="/getHierarchy"
        authentication-failure-url="/loginfailed" />
    <logout logout-success-url="/logout" />
</http>

<authentication-manager>
    <authentication-provider>
        <user-service>
            <user name="admin" password="admin" authorities="ROLE_USER" />
        </user-service>
    </authentication-provider>
</authentication-manager> 
```

但我收到关于日食的警告

> 在 Java 构建路径上找不到“c:if”的标记处理程序类 (org.apache.taglibs.standard.tag.rt.core.IfTag)

当我提交表单时，在 j_spring_security_check 上得到一个 not found 错误。我在类路径中包含了 jstl1.2。为什么即使我包含了标记库，我也会收到未找到标记处理程序的警告？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:16:58.993

**为什么即使我包含了标记库，我也会收到未找到标记处理程序的警告？** 应该部署到服务器的 Eclipse 动态 Web 项目中的 jar 必须位于`\myProject\WebContent\WEB-INF\libs` *（而不是在 \myProject\webapp\WEB-INF\lib 中）*

在 Eclipse 动态 Web 项目中，此文件夹中的 jar 将自动附加到您的构建路径，您不得手动添加它们。

* * *

**当我提交表单时，在 j_spring_security_check 上出现 not found 错误：**

检查您是否已将登录页面映射到 url `/login` *，您只需在浏览器中输入 url 即可对其进行测试*

* * *

**附加提示**

另一件可能不是那么理想的事情是这个陈述

```
<form name='f' action="<c:url value='j_spring_security_check' />"
   method='POST'> 
```

试着这样写：

```
<c:url value='j_spring_security_check' var='loginUrl'/>
<form name='f' action="${loginUrl}" method='POST'> 
```

这避免了两个标签的这种讨厌的编织。也许问题只是eclipse编辑器有点混乱。

* * *

![Java 构建路径应该看起来像最后的图像，当然你会有更多的库](../Images/7278a836eaac83afc872f73eec8084da.png)

# ios6 - 如何在 iOS6 中访问子视图

> ID：13025015
> 
> 赞同：1
> 
> 时间：2012-10-23T06:55:17.477
> 
> 标签：ios6

我在我的 ViewController 中创建动态子视图，如下所示：

```
CGRect imageFrame = CGRectMake(0.0, 0.0, 1024.0, 748.0);
UIImageView *backgroundImage = [[UIImageView alloc] initWithImage:bgImage];
backgroundImage.frame = imageFrame;
[self.view addSubview:backgroundImage]; 
```

（基本上，我在视图中添加了各种子视图，它们是不同类型内容的容器。）

我现在正在寻找一种适当的方法，以便稍后访问这些子视图，例如将它们淡出。有没有办法用标识符添加这些子视图，所以我可以直接调用它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:06:58.253

UIView 的 tag 属性呢？

# c# - 初始化组件错误 C#

> ID：13025017
> 
> 赞同：1
> 
> 时间：2012-10-23T06:55:20.050
> 
> 标签：c#, initializecomponent

所以我完成了我的程序并尝试在顶部编辑一些小东西，然后开始出现错误并且无法将它们改回来。这是代码：

```
namespace FinalProject
{
    public partial class Form : Form
    {
        public Form();
        {
           InitializeComponent();

        }
    }
} 
```

我更改了 Form: Form 部分，然后它`InitializeComponent();`变成了一个错误。试图改回来，它仍然显示错误。撤消不是一个选项，我相信这是一个简单的修复。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-23T07:00:07.710

1.  删除构造函数第一行末尾的分号。
2.  将您的班级名称更改为“表格”以外的名称。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T07:00:56.773

一个名为 Form 的类不能继承另一个也名为 Form 的类。你必须给它一个不同的名字。

# c# - 如何将函数的返回值赋给变量？

> ID：13025019
> 
> 赞同：-1
> 
> 时间：2012-10-23T06:55:30.147
> 
> 标签：c#

***也许这可以更清楚。该方法正在返回值......但在返回值后，我无法在程序的其余部分访问它。我对困难的部分发表了评论。***

```
class CharacterStats
{
    public int CharacterHitPoints()
    {
        int Health = 0;            
        Random rnd = new Random();
        Health = rnd.Next(30,70);
        return (Health);
    }

    public int CharacterStrength()
    {
        int Strength = 0;
        Random rnd = new Random();
        Strength = rnd.Next(1,20);
        return (Strength);
    }
}

class ApplicationObject
{
    static void Main()
    {
      string CharName;
      string KeepStats;

      MonsterAttackRolls GoblinAttack = new MonsterAttackRolls();
      MonsterAttackRolls OrcAttack = new MonsterAttackRolls();
      MonsterAttackRolls OgreAttack = new MonsterAttackRolls();
      MonsterAttackRolls DragonAttack = new MonsterAttackRolls();

      MonsterHitPoints GoblinHealth = new MonsterHitPoints();
      MonsterHitPoints OrcHealth = new MonsterHitPoints();
      MonsterHitPoints OgreHealth = new MonsterHitPoints();
      MonsterHitPoints DragonHealth = new MonsterHitPoints();

      CharacterStats PlayerHealth = new CharacterStats();
      CharacterStats PlayerStrength = new CharacterStats();

      Console.WriteLine("Welcome to Realm, the top adventure game in the world!  Please enter the name of your character if you wish to continue:");
      CharName = Console.ReadLine();

      Console.WriteLine("Welcome {0} to Realm!  You will be given stats.  They may be good or they may be bad.\nYou only get 2 rolls for your stats though, so pick wisely!  From there you must fight 4 fearsome beasts.\n  If you survive, you will win the game.  If you die, well, you die.  Press any key to continue.", CharName);
      Console.ReadLine();

      Console.WriteLine("You will be given a strength number which augments your damage. Your strength can range from 1 - 20.\n A strength of 15 or over gives you a bonus to damage.  A strength of 5 or less gives you a penalty.   You will be start with a hit point number between 30-70\.  Good luck!");
      Console.ReadLine();

      Console.WriteLine("Your first set of stats is:\n Health = {0}.\nYour strength is {1}.\nIf you would like to roll again press 1\.  If you want to keep your stats press any other key.", PlayerHealth.CharacterHitPoints(), PlayerStrength.CharacterStrength());
      KeepStats =  Console.ReadLine();

      if (KeepStats == "1")
      {
          Console.WriteLine("So you want a second set of stats.  Okay.\n Your health is now: {0}.\n Your strength is now: {1}.", PlayerHealth.CharacterHitPoints(), PlayerStrength.CharacterStrength());
          Console.ReadLine();
      }

        Console.WriteLine("Okay {0} you are ready to go.  Good luck!\n.  Once again, your stats are:  Health: {1}\n Strength: {2}", CharName, //How do I access the return value? x 2?;
        Console.ReadLine();
    }

    }
} 
```

***注释就在上面的行中，这是我想要放置返回值并可以访问程序其余部分的位置。***

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T06:58:42.450

你可以简单地打电话

```
int strength = characterStatsObject.CharacterStrength() 
```

创建 CharacterStats-Object 之后。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T06:58:34.823

```
CharacterStats charObj = new CharacterStats();
int CharacterStrengthInt = charObj.CharacterStrength();
int CharacterHitPointsInt = charObj.CharacterHitPoints(); 
```

编辑：，因为您编辑的问题使它更清楚。我相信您正在寻找以下内容。

您需要将返回值分配给代码中的某个变量，然后**在 Console.WriteLine 中显示这些变量的值**。否则他们将丢失。

类似于以下的东西。

```
int CharacterStrengthInt = PlayerStrength.CharacterStrength();
int CharacterHitPointsInt = PlayerHealth.CharacterHitPoints();
 if (KeepStats == "1")
      {
        Console.WriteLine("So you want a second set of stats.  Okay.\n Your health is now: {0}.\n Your strength is now: {1}."
       , CharacterHitPointsInt, CharacterStrengthInt);
          Console.ReadLine();
      } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-23T06:59:41.983

```
CharacterStats objCS = new CharacterStats();
int CHP = objCS.CharacterHitPoints();
int CRS = objCS.CharacterStrength(); 
```

如果您在 MAIN 子句中执行此操作，则可以同时使用这两个变量

# sencha-touch-2 - Sencha touch 2 带插件的列表分页

> ID：13025024
> 
> 赞同：3
> 
> 时间：2012-10-23T06:56:04.010
> 
> 标签：sencha-touch-2, paging

我有要应用分页的 Ext.List 项目，我找到了一个插件“Ext.plugin.ListPaging”。但它在我的解决方案中不起作用。我搜索了一些有关其用法的示例，发现唯一的区别是加载要存储的数据。我的情况是这样的

```
Ext.define('MyApp.view.ListTemplate', {
extend: 'Ext.List',
config: {
    fullscreen: true,
    plugins: [
        {
            xclass: 'Ext.plugin.ListPaging',
            autoPaging: true
        }
    ]},
    itemTpl: '<div class="listContainer"><div class="listItemTitle">{listItemTitle}</div><div class="elapsedTime"><tpl if="listItemDate != null">{listItemDate}</tpl></div><div class="listItemDetail"><tpl if="listItemDetail != null">{listItemDetail}</tpl></div></div>'
 });

Ext.define('MyApp.store.ListStore', {
extend: 'Ext.data.Store',
config:
{
    model: 'MyApp.model.ListData',
    proxy: {
        id: 'ListStore',
        access: 'public'
    }
}
}); 
```

在我的控制器中，商店就这样被填满了，

```
var myStore = Ext.getStore('ListStore');
myStore.setData(jsonData);
myStore.setPageSize(5);
myStore.sync(); 
```

在这种情况下分页不起作用，有人知道吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T11:52:50.077

试试这个，它与我使用的类似，它对我有用。

```
Ext.define('MyApp.view.ListTemplate', {
extend: 'Ext.List',
requires: [
    'Ext.plugin.ListPaging'
    ],
config: {
    fullscreen: true,
    storeId: 'ListStore',
    plugins: [
        {
            type: 'listpaging',
            autoPaging: true
        }
    ]},
    itemTpl: '<div class="listContainer"><div class="listItemTitle">{listItemTitle}</div><div class="elapsedTime"><tpl if="listItemDate != null">{listItemDate}</tpl></div><div class="listItemDetail"><tpl if="listItemDetail != null">{listItemDetail}</tpl></div></div>'
 });

Ext.define('MyApp.store.ListStore', {
extend: 'Ext.data.Store',
config:
{
    model: 'MyApp.model.ListData',
    pageSize: 5,
    storeId: 'ListStore',
    proxy: {
        id: 'ListStore',
        pageParam: 'param' //very important the parameter you use in the server side for pagination
        url: 'somesite.com' //you dont seem to have specified a url
    }
}
}); 
```

# iphone - 在 presentViewController 中应该完成什么？

> ID：13025026
> 
> 赞同：25
> 
> 时间：2012-10-23T06:56:17.103
> 
> 标签：iphone, ios

我`presentViewController`在 xcode 中使用，不确定应该完成什么。

xcode 文档给出的代码：

```
- (void)presentViewController:(UIViewController *)viewControllerToPresent animated: (BOOL)flag completion:(void (^)(void))completion NS_AVAILABLE_IOS(5_0); 
```

我正在使用的示例：

```
[self presentViewController:second animated:YES completion:<#^(void)completion#>]; 
```

应该完成什么？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-10-23T07:03:35.477

您可以改用以下代码：

```
[self presentViewController:second animated:YES completion:^{ }]; 
```

或者你可以简单地传递 NULL

```
[self presentViewController:second animated:YES completion:NULL]; 
```

完成块用于在呈现视图控制器后执行任何任务，完成块内编写的代码只有在呈现视图后才会执行。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-10-23T07:08:10.390

@试试这个

```
[self presentViewController:second animated:YES completion:^{[self animationCompleted];}];

-(void)animationCompleted{

   // Whatever you want to do after finish animation

    NSLog(@"Animation Completed")

} 
```

如果您不想在动画完成后做任何事情

```
[self presentViewController:second animated:YES completion:NULL]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-23T07:04:24.360

您可以使用以下代码来呈现视图

```
 [[self navigationController] dismissViewControllerAnimated:YES completion:NULL]; 
```

以下是那个的代码

```
SecondViewController *second = [[SecondViewController alloc] initWithNibName:@"SecondViewController" bundle:nil];
[self presentViewController:second animated:YES completion:nil]; 
```

有关更多详细信息，请查看苹果[论坛讨论](https://discussions.apple.com/thread/4443561?start=0&tstart=0)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-04-20T19:43:24.790

**斯威夫特 2.0**

* * *

*完成后处理某事*

```
viewController.presentViewController(anotherViewController, animated: true, completion: {
    // Whatever you'd like to do when presentViewController completes :)
}) 
```

*或者完成后什么都不做*

```
viewController.presentViewController(anotherViewController, animated: true, completion: nil) 
```

# web-services - 编写安全的 REST Web 服务

> ID：13025034
> 
> 赞同：4
> 
> 时间：2012-10-23T06:56:50.303
> 
> 标签：web-services, security, rest, hash, checksum

他们中的许多人对如何编写安全的 rest web 服务感到困惑，对于那些对使用哪种方法感到困惑的人来说，这篇文章会很有帮助。

**编写 REST 服务的可能方式（部分安全）**

*   您意识到通过 HTTP 传递凭据会导致数据以纯文本形式被嗅探；在 Gawker 事件之后，您意识到纯文本或弱散列的任何内容通常都是一个坏主意。

*   您意识到散列密码并通过线路发送散列代替纯文本密码仍然可以让人们至少嗅探帐户的用户名和密码的散列，可以（在令人不安的情况下）被查看在彩虹表中。

*   您惊呼，因为在这种情况下（这实际上是一个用户名/密码场景），您仍然会遇到与以纯文本形式发送用户名和密码相同的问题（嗅探流量）。

*   在这一点上，您即将放弃并承认使用**OAuth**，但您坚持必须有一种安全但相对简单的方法来设计可以保持凭据私有的公共 Web API。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T06:59:38.187

**最佳解决方案**

服务器和客户端知道公钥和私钥；只有服务器和客户端知道私钥，但每个人都可以知道公钥……谁在乎他们知道什么。客户端创建一个唯一的 HMAC（哈希）来表示它对服务器的请求。它通过组合请求数据（参数和值或 XML/JSON 或它计划发送的任何内容）并将请求数据的 blob 与私钥一起散列来实现这一点。然后客户端将该 HASH 连同它本来要发送的所有参数和值一起发送到服务器。服务器获取请求并使用客户端使用的相同方法根据提交的值重新生成它自己的唯一 HMAC（哈希）。服务器然后比较两个 HMAC，如果它们相等，则服务器信任客户端，并运行请求。

**示例说明：（** 假设您从 android 发送此请求，因为 android 应用程序大多是无会话的，它们无法使用 cookie 或任何内容来记住哪个用户已登录。因此，对于这种情况，当请求与它还需要用户凭据。）

*   必须发出请求的网站（在这种情况下，我使用的是 localhost）：**localhost:8080/**
*   用户 X 的 URL REST 请求： **localhost:8080/REST/books/favorites**（假设响应是用逗号分隔的纯文本 [Harry Potter, Chandamama, Infinitethoughts, Twilight]）。
*   由于必须显示用户 X 信息，因此请求将如下所示： **localhost:8080/REST/username/Password/books/favorites - localhost:8080/REST/X/abc/books/favorites**

**这里的问题是用户名和密码可以被嗅探，因为它们是纯文本..所以，最好在客户端加密它们并在服务器端解密它们。**

**现在实际问题出现了，服务器如何知道发送的请求是否由有效的客户端发送......**

*   解决方案是生成您的 URL 请求的哈希并将该哈希添加到 URL 的末尾，然后将请求发送到服务器。（我们通常说的是校验和）.. 使用您自己的或使用基于 java 的哈希生成器（如 SHA1、MD5 等）生成校验和

*   假设为 URL 请求 **localhost:8080/REST/encrypted-username/encrypted-Password/books/favorites** 生成的哈希是一些哈希字符串 adasfsjimnom123123k。因此，将其添加到您的 URL

**本地主机：8080/REST/加密用户名/加密密码/书籍/收藏夹/adasfsjimnom123123k**

因此，通过这种方式，您可以保护 Web 服务请求。只有当生成的校验和有效时，服务器才会提供请求的详细信息。

**使用 Curl 工具作为休息客户端（而不是单独的 java 代码）来测试您的服务。**

[完整参考](http://www.thebuzzmedia.com/designing-a-secure-rest-api-without-oauth-authentication/)

# php - Zend 多条路线在一个动作中

> ID：13025036
> 
> 赞同：0
> 
> 时间：2012-10-23T06:57:03.130
> 
> 标签：php, zend-framework

我有 Zend 应用程序，我在其中重定向来自`/popular?ref=<type>`类型为`openings`或`reviews`其他类型的页面请求，该请求将被重定向到索引页面。这是我尝试的新东西，而不是我一直做的通常方式。所以控制器`popularAction`看起来像这样：

```
public function popularAction()
    {
        $type = $this->_getParam('ref',1);
        if($type == 'reviews'){

            $this->view->text = "Popular Reviews";

        } elseif($type == 'openings') {
            $this->view->text = "New Openings";

        } else {
            $this->_helper->redirector('index', 'index', 'default');
        }

    } 
```

我有 1 个通用视图模板名称`popular.phtml`，现在我的问题是，我怎样才能使用部分模板，以便将数据返回给特定 ref 的控制器的所有模型都可以将数据传递给部分模板，然后将其渲染到 Popular.phtml。谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T08:41:02.563

同意@Arif。您需要使用 Zend 视图部分。

流行动作：

```
 $this->view->data = $data; // whatever be the data to be displayed on the popular.phtml
   $this->view->type = $type; 
```

在popular.phtml中：

```
 <?php if ($this->type == 'review'):
    echo $this->partial('review.phtml',array('data' => $this->data)); 
   else:

    echo $this->partial('opening.phtml',array('data' => $this->data)); 

   endif; ?> 
```

注意：partials 的路径需要在你的视图/脚本文件夹的相对函数中指定 - 例如，“index/view.phtml”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:38:42.543

我认为您可以使用[**Zend 视图部分**](http://framework.zend.com/manual/1.12/en/zend.view.helpers.html)

# jdeveloper - JDeveloper 在一个应用程序中创建多个项目

> ID：13025037
> 
> 赞同：0
> 
> 时间：2012-10-23T06:57:12.440
> 
> 标签：jdeveloper

我确实有一个关于 JDeveloper 的问题，我的老板想要的是在 JDeveloper 的一个应用程序中创建一个由多个项目组成的系统，我的意思是这是否可能。因为每次创建应用程序时，我只能创建 1 个项目。我的老板要我创建会计系统，他希望每个项目将其分开，比如说小额现金系统，人力资源管理系统等等，但是当点击小额现金系统按钮时，所有这些都是相互关联的，项目小额现金系统是打开并且可以使用...伙计们，如果您有任何建议或意见，这将对我非常有帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T13:15:27.047

可以使用多个项目构建一个应用程序。在 JDev 中用作应用程序外壳的工作区可以容纳多个可以交互的项目。

由于您没有说明您想要构建哪种应用程序（基于 Web 的胖客户端）以及您想要使用哪些技术，因此我们无法提供更好的建议。并且知道您使用哪个 jdev 版本会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-24T13:57:20.907

在您的应用程序中，使用“新建项目...”菜单项。这将在您的应用程序中创建项目。

![新项目菜单](../Images/e48d430a2938659d101bf8f583d02461.png)

# delphi - 发送自我不起作用

> ID：13025038
> 
> 赞同：2
> 
> 时间：2012-10-23T06:57:14.570
> 
> 标签：delphi, delphi-xe2

不确定要制作什么标题，如果需要，请编辑。我有一个程序

```
procedure TFZone1Mod7.ChangeText(sender: TObject);
var
  ShapeOrderNo: integer;
  FoundComponent: TComponent;
begin
  if TryStrToInt(copy(TShape(Sender).Name,6,MaxInt),ShapeOrderNo) then
    begin
      FoundComponent := FindComponent('label'+inttostr(ShapeOrderNo+12));
      if (FoundComponent is TLabel) then
            Label25.Caption := TLabel(FoundComponent).Caption
      else
          showmessage('not found');
    end;
  showmessage(TShape(sender).Name);

end; 
```

所以我在 Shape1MouseEnter 上调用该过程。所以我认为（Self）会发送 shape1 但它不会发送表单（TFZone1Mod7） 我怎样才能让它发送形状？这就是我所说的。

```
procedure TFZone1Mod7.Shape1MouseEnter(Sender: TObject);
begin
    changetext(self);
end; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:20:39.473

在这个方法里面

```
procedure TFZone1Mod7.Shape1MouseEnter 
```

`Self`是一个类型的对象`TFZone1Mod7`。这就是你的形式。请记住，它`Self`指的是与活动方法关联的实例。在您的代码中，该类是一个表单，因此实例 ,`Self`始终是一个表单实例。

要知道它是什么`Self`，请查看`procedure`or`function`关键字后面的类型。该`Self`实例是该类型的一个实例。

在您的情况下，如果您想通过形状，您可以通过`Shape1`，或者更一般地说，`Sender`。后者允许您在多个形状之间共享一个事件处理程序。

这种错误突出了为什么应该对`as`运算符使用检查强制转换。当您犯错时，您会立即以有用的方式得到通知。您未经检查的强制转换只会导致难以理解的神秘错误。

所以我可能倾向于声明`ChangeText`为接收类型的参数`TShape`。然后像这样调用它：

```
ChangeText(Sender as TShape); 
```

这允许您从事件处理程序中删除强制转换`ChangeText`并将它们限制在事件处理程序中，这些事件处理程序必须只有一个可用的`TObject`实例`Sender`。

# powershell - Powershell将开关参数传递给self

> ID：13025039
> 
> 赞同：4
> 
> 时间：2012-10-23T06:57:15.150
> 
> 标签：powershell

我有这个调用自身的 powershell 脚本（因为脚本的第 1 阶段是在 GAC 中加载程序集，所以我需要刷新 AppDomain）。如何将开关参数传递给 self. 目前我正在这样做：

```
if ($provisionsites -eq $true)
{
    powershell $currentDirectory/Deploy.ps1 -reload:$true -env:$env -provisionsites
}
else
{
    powershell $currentDirectory/Deploy.ps1 -reload:$true -env:$env
} 
```

这对我来说似乎太冗长了。如果我试试这个：

```
powershell $currentDirectory/Deploy.ps1 -reload:$true -env:$env -provisionsites:$provisionsites 
```

它失败了：

> 无法将值“System.String”转换为类型“System.Management.Automation.SwitchParameter”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T10:09:48.523

大概`powershell.exe`根本不需要调用。将其替换为 operator `&`，即在同一会话中调用脚本，避免参数转换和相关问题。这些问题是可以解决的，但最好首先避免。也就是说，做

```
& $currentDirectory/Deploy.ps1 -reload:$true -env:$env -provisionsites:$provisionsites 
```

* * *

至于问题。在传入外部应用程序之前`$provisionsites`转换为字符串（`True`or `False`、 not `$true`or ）。`$false`因此，结果实际参数看起来像`-provisionsites:True`。然后在一个新的 powershell 会话中，它将这样一个参数传递给脚本`Deploy.ps1`。它失败是因为字符串`True`或`False`不是预期的，需要一个布尔值。

一种可能的解决方法是添加转义`$`

```
powershell $currentDirectory/Deploy.ps1 ... -provisionsites:`$$provisionsites 
```

但考虑删除呼叫`powershell`及其问题。

# xpages - 格式丢失 xpages 只读形式

> ID：13025043
> 
> 赞同：0
> 
> 时间：2012-10-23T06:57:40.977
> 
> 标签：xpages, formatting

我是 xpages 的新手。只读时如何保留 xpages 表单的格式？使用 8.5.3。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T15:57:05.453

Graham，当您打开 XPage 时，它​​始终处于编辑模式，从不处于读取模式。如果它弄乱了格式，那么不要保存它。如果您熟悉 XML，请跳转到源视图以查看问题所在，或者使用大纲控件在数据结构中导航。

有时，当开发人员在 XPage 上使用标准 html 元素时，它们不会在 UI 中很好地呈现，您将不得不跳转到源代码以查看发生了什么。

希望这会有所帮助，如果没有，请提供有关您的问题的更多信息并附上屏幕截图，以便我们知道您指的是什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T20:21:18.633

您需要确保您的表单设计不会根据输入字段的大小呈现。您可以通过用一个或多个 div 或 span 包围您的字段并将 css min-height 设置为固定高度来做到这一点。

# java - org.joda.DateTime 返回错误的月份

> ID：13025045
> 
> 赞同：1
> 
> 时间：2012-10-23T06:57:42.847
> 
> 标签：java, datetime

```
DateTimeFormatter d_t = DateTimeFormat.forPattern("DD-MMM-YYYY HH:mm");
String date = "02-Mar-2003 00:01";
DateTime dateTime = DateTime.parse(date, d_t); 
```

当我运行代码时，它返回 02-Jan-2003 12:01

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-23T07:09:57.320

您的日期格式字符串错误。使用`dd`代替`DD`的日子。

根据[文档](http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormat.html)，`DD`意思是“**一年**中的一天”，而你需要`dd`，意思是“**一个月**中的一天”。

将第一行更改为：

```
DateTimeFormatter d_t = DateTimeFormat.forPattern("dd-MMM-YYYY HH:mm"); 
```

# opengl - 在OpenGL中用相机固定一个部分而另一个旋转

> ID：13025047
> 
> 赞同：0
> 
> 时间：2012-10-23T06:57:43.150
> 
> 标签：opengl, glut, freeglut

是否有可能有一个 openGL 窗口，其中一个部分是固定的，而另一个部分是用相机旋转或平移的。

要更清楚。我想要一个控制基地屏幕。我希望在其余屏幕随相机移动时固定控件（可能是以方形形式生成的按钮）。谁能告诉我这是否可行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:57:23.303

OpenGL 不是场景图。这是一个状态控制的绘图 API。在调用 OpenGL 函数时绘制事物。完全可以使用一组投影和模型视图矩阵以及视口 A 绘制一个东西，然后将投影、模型视图和视口更改为设置 B 并绘制更多的东西。

我把剩下的留给你想象。

大胖提示，希望让它点击：如果您在某些窗口调整大小处理程序中设置视口和投影，请将此代码移动到绘图代码中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:29:13.143

要实现这种效果，您需要首先使用透视投影绘制 3D 场景，然后切换到正交投影并绘制 2D 控制元素。然后在每一帧重复这个过程。[此处](http://www.lighthouse3d.com/opengl/glut/index.php3?bmpfontortho)概述了该技术。

# jsp - 需要为每个特定的间隔时间调用一个struts动作，结果需要反映在jsp中

> ID：13025048
> 
> 赞同：0
> 
> 时间：2012-10-23T06:57:50.807
> 
> 标签：jsp, struts2, action, intervals

我需要为每个特定的间隔时间调用一个 struts-action，结果需要反映在前端 (*.jsp)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:30:24.947

使用 Javascript（jQuery）：

```
$(function(){
    setInterval(function(){
        $(selector).load(yourAction);
    }, pauseTime);
}); 
```

说明：
`selector`表示应该刷新的内容
`yourAction`表示您正在调用的操作
`pauseTime`表示您的页面的生命周期。

# android - Android GridView 有两个不同的项目？

> ID：13025049
> 
> 赞同：3
> 
> 时间：2012-10-23T06:57:52.687
> 
> 标签：android, gridview, memory-leaks

我有一个 GridView，我应该填充两个不同的项目，例如 left_item 和 right_item。无论如何，我写了一个从 BaseAdapter 扩展的自定义适配器。

而且我看到转换后的视图并没有按照我的想法排列。所以我看到我的 GridView 是这样的：

```
Left    Right
Right   Left
Left    Right
Left    Right
Right   Left
…       … 
```

等等。我也找到了一个可以订购的解决方案。但我的问题是我的解决方案是否是解决这个问题的正确方法？这是我的自定义适配器和我的解决方案：

```
class MyGridAdapter extends BaseAdapter {

    // return even count in any case
    public int getCount() {
        if (items.size() % 2 == 0)
            return items.size();
        else
            return (items.size() + 1);
    }

    public Object getItem(int arg0) {
        return null;
    }

    public long getItemId(int arg0) {
        return 0;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;

        // Here, i thought that i was gonna have 
        // converted views one left one right, but i didn't!
        if (v == null) {
            if (position % 2 == 0) {
                // inflate left side
                v = inflater.inflate(R.layout.left_shelf_item, null);
            } else {
                // inflate right side
                v = inflater.inflate(R.layout.right_shelf_item, null);
            }
        }

        if (position % 2 == 0) {

          // So i had to inflate left view, if i'm not getting that
            if(v.getId() != R.layout.left_shelf_item)
                v = inflater.inflate(R.layout.left_shelf_item, null);

            if (position != items.size()) {
                ImageView img = (ImageView) v
                        .findViewById(R.id.leftShelfItemBook);
                if (img != null) {
                    int bookId = Integer.parseInt(items.get(position)
                            .getBookId());
                    if (images.get(bookId) != null) {
                        img.setImageDrawable(Drawable.createFromPath(images
                                .get(bookId)));
                    } else {
                        img.setImageDrawable(null);
                    }
                }
            }
        } else {

          // And here, i do the same for right
            if(v.getId() != R.layout.right_shelf_item)
                v = inflater.inflate(R.layout.right_shelf_item, null);

            if (position != items.size()) {
                ImageView img = (ImageView) v
                        .findViewById(R.id.rightShelfItemBook);
                if (img != null) {
                    int bookId = Integer.parseInt(items.get(position)
                            .getBookId());
                    if (images.get(bookId) != null) {
                        img.setImageDrawable(Drawable.createFromPath(images
                                .get(bookId)));
                    } else {
                        img.setImageDrawable(null);
                    }
                }
            } else if (position == items.size()) {
                ((View) v.findViewById(R.id.rightShelfItemHolder))
                        .setVisibility(View.GONE);
            }

        }

        return v;
    }

} 
```

如您所见，如果它们不是应有的视图，我会通过再次膨胀视图来强制适配器使用正确的视图。

正因为如此，我非常担心内存泄漏和 OutOfMemoryError，或者由于膨胀太多而导致的其他一些错误。

有没有其他方法可以实现这一目标？我需要一个更好的解决方案，拜托。任何帮助或信息将不胜感激。

# java - 关于 DataOutputStream 的困惑

> ID：13025051
> 
> 赞同：0
> 
> 时间：2012-10-23T06:57:56.890
> 
> 标签：java, dataoutputstream, inputstreamreader

我编写了下面的代码来熟悉 DataOutputStream。我想在我输出数据的文件中会有某种`11010111`二进制文件，相反，只有一些可读的字符串。我的问题是：当DataOutputStream用于输出数据时，文件中不应该有二进制数据吗？

代码：

```
FileOutputStream fos = null;
try {
    fos = new FileOutputStream("myData.dat");
} catch (FileNotFoundException e) {
    System.out.println("File Not Found!!");
    System.exit(-1);
}
DataOutputStream dos = new DataOutputStream(new BufferedOutputStream(fos));
try {
    dos.writeChars("HELLO WORLD!!!\n");
    dos.writeChars("HELLO PRETTIES!!!\n");
    dos.writeChars("HELLO KITTY!!!");
    dos.flush();
    dos.close();
    fos.close();
} catch (IOException e1) {
    e1.printStackTrace();
}
FileInputStream fis = null;
try {
    fis = new FileInputStream("myData.dat");
} catch (FileNotFoundException e) {
    System.out.println("File Not Found!!");
    System.exit(-1);
}
BufferedReader br = new BufferedReader(new InputStreamReader(
        new DataInputStream(fis)));
String s;
try {
    while ((s = br.readLine()) != null) {
        System.out.println(s);
    }
    br.close();
    fis.close();
} catch (IOException e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:27:52.870

计算机中的所有数据都是二进制的。一些二进制数据*可能*是可读文本，这就是您的情况。

该`writeChars`方法将每个`char`字符串写入两个字节。如果您在十六进制查看器中打开文件，您会看到`00`每个字母的 ASCII 码之前都有一个 NUL ( ) 字节。当您在文本编辑器中打开文件时，它会将文件中的字节解释为文本，因为这就是文本编辑器所做的：读取一堆（二进制）数据并将其作为文本显示给您。

编辑器如何做到这一点取决于编辑器。它要么跳过 NUL 字节并仅显示可读字节，要么将字节解释为以 UTF-16LE 编码的文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:03:19.930

由于您使用`writeChars()`您只输出字符。小心，因为只有换行符会拆分数据。在字符串中间插入另一个换行符可能会导致问题。以下是一些可能感兴趣的[文档：](http://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html#writeChars%28java.lang.String%29)

> 将字符串作为字符序列写入基础输出流。每个字符都被写入数据输出流，就像通过 writeChar 方法一样。如果没有抛出异常，则写入的计数器增加 s 长度的两倍。

# c# - 如何从 Google Drive 下载文件

> ID：13025053
> 
> 赞同：5
> 
> 时间：2012-10-23T06:58:05.023
> 
> 标签：c#, google-drive-api

我目前正在尝试制作一个从 Google Drive 下载文件的应用程序。

在 Google Drive SDK 文档中，我找到了一个应该返回 System.IO.Stream 对象的示例方法。

[https://developers.google.com/drive/manage-downloads](https://developers.google.com/drive/manage-downloads)

为此，它需要每个文件的下载 URL。但是，并不总是指定返回此下载 URL。有谁知道这是为什么？我能做些什么呢？

更新：我发现我可以使用 exportURL。这些几乎总是由服务返回。

后续问题：如何以特定用户身份运行应用程序？=> 有时应用程序向 url 发出请求，然后请求超时。当我在浏览器中尝试相同的 URL 时，它就像一个魅力......

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-29T16:54:33.880

可能会迟到，但我刚刚使用以下代码从 Google Drive 下载：

```
var stream = service.HttpClient.GetStreamAsync(downloadUrl);
        var result = stream.Result;
        using (var fileStream = System.IO.File.Create(filePath))
        {
            result.CopyTo(fileStream);
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T08:40:09.670

如果您尝试下载的文件是原生 google 文档格式，您将没有下载链接。如果是这种情况，您必须查找 exportLinks。

您将有多个导出链接，因此您必须选择最适合您的格式：例如 docx 或 odt 用于文档

# javascript - 在 YUI 表中添加行

> ID：13025054
> 
> 赞同：-1
> 
> 时间：2012-10-23T06:58:09.537
> 
> 标签：javascript, yui

当我在文本框中键入任何数据并且用户单击添加按钮时，文本框的输入值将在 yui 表中添加为一行。yui 使用数据源，然后追加行，但在我的情况下，我没有数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T14:09:29.280

定义 DataTable 为其初始数据提供一个空数组是没有问题的。然后，对于每条新信息，您只需调用 addRow。无需处理任何 DataSource。

参见代码块：http: [//yuilibrary.com/yui/docs/datatable/#using](http://yuilibrary.com/yui/docs/datatable/#using)

无需使用所有这些值加载数据，只需执行以下操作：`var data = [];`

稍后，对新行使用 addRow。

# sql-server - 加入输出结果

> ID：13025060
> 
> 赞同：0
> 
> 时间：2012-10-23T06:58:47.777
> 
> 标签：sql-server, tsql

为什么这个查询无法运行？

```
select * 
from ass 
join (
    UPDATE [dsa]
    SET col1='123'
    OUTPUT inserted.*) as ds on ass.dsaid = ds.ID 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:32:54.683

您必须分两步完成。使用您的`OUTPUT`子句转到一个变量，然后从该变量中进行选择：

```
DECLARE @tbl_out TABLE(ID int, col VARCHAR(10));

UPDATE [dsa] SET [col1] = '123'
OUTPUT inserted.* INTO @tbl_out

SELECT * FROM ass JOIN @tbl_out ds ON ass.dsaid = ds.ID 
```

（未测试）

# java - 在 servlet 中使用同步块

> ID：13025061
> 
> 赞同：-5
> 
> 时间：2012-10-23T06:58:52.563
> 
> 标签：java, servlets

在 servlet 中使用同步和静态块是编码的好习惯。是否会影响系统的性能

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:02:15.323

Servlet 是处理元素，并且被期望本质上是线程安全的，因为 servlet 容器通常会创建一个 servlet 实例，并在单独的线程中为每个传入请求在该单个实例上调用适当的 http 方法。

因此，静态块通常仅限于初始化特定于 Servlet 类的东西。最好避免同步块，因为当许多请求同时进入系统时，它们将成为瓶颈。不过，您应该使用您的用例扩展您的问题以获取特定评论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T06:59:56.847

同步块将使您的 servlet 响应变慢，因此除非您需要线程安全，否则最好避免同步块。

# android - listView 与 XmlPullParser 崩溃应用程序

> ID：13025063
> 
> 赞同：1
> 
> 时间：2012-10-23T06:59:08.203
> 
> 标签：android, android-layout

下一个代码应该将数据解析为`listView`我正在使用的`XmlPullParser`方法，但是当我运行此活动时，应用程序崩溃:(我在另一个类中使用了相同的代码并且工作完美，但在这里我不知道原因？？`logCat`阻止了我在 ：`rewardsList.setAdapter(adapter);`

```
//Class:
     @Override
            protected void onCreate(Bundle savedInstanceState) {
                // TODO Auto-generated method stub
                super.onCreate(savedInstanceState);
                setContentView(R.layout.rewards);
                rewards2=new ArrayList<HashMap<String,String>>();
                rewardsList=(ListView) findViewById(R.id.reward);
                tv=(TextView) findViewById(R.id.text);
                try {
                    url=new URL("http://api.androidhive.info/pizza/?format=xml");

                    xpf=XmlPullParserFactory.newInstance();
                    xpf.setNamespaceAware(false);
                    xpp=xpf.newPullParser();
                    xpp.setInput(getInputStream(url),"UTF_8");
                    insideItem = false;
                   HashMap<String, String> map=new HashMap<String, String>();

                    int type=xpp.getEventType();
                    while(type!=XmlPullParser.END_DOCUMENT){
                        if(type==XmlPullParser.START_TAG){
                            if(xpp.getName().equalsIgnoreCase("item")){
                                 map=new HashMap<String, String>();
                                insideItem=true;

                            }else if(xpp.getName().equalsIgnoreCase("id")){
                                if(insideItem)
                                //  map.add(xpp.nextText());
                               map.put("item", xpp.nextText());
                            }//
                        }else if(type==XmlPullParser.END_TAG && xpp.getName().equalsIgnoreCase("item")){

                            insideItem=false;
                           rewards2.add(map); 
                        }

                        type=xpp.nextTag();
                    }

                } catch (MalformedURLException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (XmlPullParserException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

                ListAdapter adapter = new SimpleAdapter(this,rewards2, R.layout.rewards_list,
                        new String[] {"item"}, new int[] 
                           {R.id.t3});
               rewardsList.setAdapter(adapter);
                //tv.setText(rewards2.get(0));
            }

            private InputStream getInputStream(URL url2) {
                // TODO Auto-generated method stub
                try{
                    return url.openConnection().getInputStream();
                }catch(IOException e){
                return null;

    } 
```

日志猫：

```
10-23 06:43:54.365: E/AndroidRuntime(937):  at com.university.app.Rwards.onCreate(Rwards.java:131)
10-23 06:49:28.995: E/AndroidRuntime(1006): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.university.app/com.university.app.Rwards}: java.lang.NullPointerException
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.app.ActivityThread.access$600(ActivityThread.java:123)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.os.Looper.loop(Looper.java:137)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at java.lang.reflect.Method.invokeNative(Native Method)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at java.lang.reflect.Method.invoke(Method.java:511)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at dalvik.system.NativeStart.main(Native Method)
10-23 06:49:28.995: E/AndroidRuntime(1006): Caused by: java.lang.NullPointerException
10-23 06:49:28.995: E/AndroidRuntime(1006):     at com.university.app.Rwards.onCreate(Rwards.java:132)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.app.Activity.performCreate(Activity.java:4465)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
10-23 06:49:28.995: E/AndroidRuntime(1006):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920) 
```

xml布局：奖励：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
     android:background="@drawable/bg">

    <LinearLayout android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/title_bar">

        <TextView android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:text="Rwards"/>

    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/white_strip_4header" >

        <TextView
            android:id="@+id/textView1"
            android:layout_width="60dp"
            android:layout_height="wrap_content"
            android:layout_weight="1.10"
            android:text="notes" />
        <TextView
            android:id="@+id/textView2"
            android:layout_width="70dp"
            android:layout_height="wrap_content"
            android:layout_weight="1.10"
            android:text="Amount owed" />
        <TextView
            android:id="@+id/textView3"
            android:layout_width="20dp"
            android:layout_height="wrap_content"
            android:layout_weight="1.10"
            android:text="month" 
            android:gravity="center"/>
        <TextView
            android:id="@+id/textView4"
            android:layout_width="20dp"
            android:layout_height="wrap_content"
            android:layout_weight="1.10"
            android:text="year" 
            android:gravity="center"/>
    </LinearLayout>

 <TextView
            android:id="@+id/text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            />

    <ListView
        android:id="@+id/reward"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >
    </ListView>

</LinearLayout> 
```

奖励清单

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >
    <TextView
            android:id="@+id/t3"
            android:layout_width="50dp"
            android:layout_height="wrap_content"
            android:gravity="left"
            android:layout_weight="1"
            android:layout_margin="1dp"/>

        <TextView
            android:id="@+id/t2"
            android:layout_width="70dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:layout_margin="2dp"
            android:gravity="left">
        </TextView>

     <TextView
            android:id="@+id/t1"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
           android:gravity="left"
           android:layout_weight="1"
            android:layout_margin="1dp"
             />    

</LinearLayout> 
```

我试图在没有使用`textView`它的列表的情况下运行它也崩溃了！！所以请有人知道为什么？我已经将活动添加到了`manifest`！

# search - 在 couchdb 中搜索或通过弹性搜索进行河流搜索

> ID：13025065
> 
> 赞同：3
> 
> 时间：2012-10-23T06:59:10.963
> 
> 标签：search, couchdb, elasticsearch, diskspace

我知道我们在 couchdb 上创建视图，然后我们可以搜索。另一个有趣的方法是将 couchdb 与 elasticsearch 通过河连接并在 elasticsearch 中搜索。我有两个问题：

*   在磁盘空间使用方面，elasticsearch会更高效吗？
*   使用 couchdb 搜索与在 couchdb 之上使用 elasticsearch 的优缺点是什么？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T09:16:58.167

只有 CouchDB 查询可以给您的是键 -> 值映射。您可以搜索有序字典，但不能在多维数据中搜索，使用正则表达式甚至包含关键字作为子字符串的键（例如，您有数据“Mr. John Smith”，并且您希望它是由关键字“John”的查询找到）。ElasticSearch 填补了空白并提供了额外的数据索引。它主要用于全文索引，但也支持地理空间数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T22:42:23.107

在磁盘使用方面：

*   [https://github.com/logstash/logstash/wiki/Elasticsearch-Storage-Optimization](https://github.com/logstash/logstash/wiki/Elasticsearch-Storage-Optimization)
*   [http://till.klampaeckel.de/blog/archives/95-Operating-CouchDB.html](http://till.klampaeckel.de/blog/archives/95-Operating-CouchDB.html)

正如 Marcin 所指出的，Elasticsearch 在全文搜索及其分析器和搜索功能的灵活性方面表现出色。

# java - 实现接口并扩展不同项目的类

> ID：13025071
> 
> 赞同：2
> 
> 时间：2012-10-23T06:59:17.183
> 
> 标签：java, class, extends, eclipse-juno, interface-implementation

这个疑问已经困扰了我很长一段时间了。我将尝试以以下场景的形式呈现它。

设想 -

假设我在 Eclipse-JUNO 的同一个工作区中有 2 个不同的项目，Project-1 和 Project-2。Project-1 在包 P 中有一个接口 I 和一个类 A，而 Project-2 在包 Q 中有一个类 B。我想知道我是否可以让（Project-2 的）类 B 实现接口 I并扩展 Project-1 的 A 类（均位于包 P 中）。如果是，如何？如果不是，有哪些替代方法？

期待了解这种情况。

提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:01:32.400

是的，您可以，只要 Project-1 在 Project-2 的类路径中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-09-02T05:17:53.157

是的，当您在 Project2 的构建路径中添加 Project1 时，这是绝对可能的。

这就是你可以做到的。

1.  右键单击 Project2，选择“属性”。
2.  在列表中选择“Java Build Path”，单击“Projects”选项卡。
3.  单击“添加”并选择“Project1”复选框，单击“确定”。
4.  完成。

现在，您可以使用 import 语句从 Project1 中导入类。

希望能帮助到你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T07:06:02.980

为了扩展 Project-1 的 A 类，首先它应该在其包之外可以访问/可见（使其公开），其次您的 Project-1 应该位于 Project-2 的类路径中

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T07:05:45.273

使您的 Project-2 依赖于 Eclipse 中的 Project-1。并更改项目 2 中的 B 类声明。

这种情况就像类路径中的任何其他 jar 文件一样。project-2 在其类路径中包含 project-1 jars 并正在处理它。

# c++ - 获取错误的类变量值

> ID：13025073
> 
> 赞同：3
> 
> 时间：2012-10-23T06:59:24.220
> 
> 标签：c++, class

我对 C++ 很陌生。实际上，我正在将我的代码从 c# 转换为 c++。我的代码的问题是我得到了某个类变量的默认值，即使我已经将它设置为其他值。部分代码如下。请帮忙。节点和单元格是类。

```
node nodes [10];
cell cells [10][10];
for (i = 0; i < n; i++)
            for (j = 0; j < n; j++)
            {
                cell c1;                    
                cells[i][j] = c1;
            }   

// mapping nodes to cells 
        for (i = 0; i < N; i++)
        {
            nodes[i] = node(i); 
            // depending upon some x and y, nodes are assigned to appropriate cells.            
            cellNodeCount = cells[x][y].appendNode(nodes[i]);                               
        } 
```

现在在同一类中的稍后代码中，我正在更新节点的标志。

```
for (i = 0; i < n; i++)
            for (j = 0; j < n; j++)
            { 
               cellNodeList = cells[i][j].getNodeList();

               //for some p
               cellNodeList[p].setNodeFlag(true);
            } 
```

稍后，当我尝试访问节点标志时，我总是得到 false 即 0，即使该节点的标志设置为 true。

节点类如下

```
class node
{
private:
     int nodeID;    
     bool Flag;

public:
    node(void){}
     ...

    void setNodeFlag(bool nodeFlag)
    {
        Flag = nodeFlag;
    }

    bool getNodeFlag()
    {
        return Flag;
    }     
}; 
```

这是包含`getNodeList()`函数的单元类。

```
class cell
{
private:        
vector<node> nodeList;

public:

    int appendNode(node nod)
    {            
        nodeList.push_back(nod);           
        return nodeList.size();
    }

vector<node> getNodeList()
    {
        return nodeList;
    }

    int cellNodeCount()
    {
        return nodeList.size();
    }       

}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:04:55.383

一个猜测，但我只有一个答案。当您设置节点标志时，您是在节点的**副本**上设置它，而不是在您认为正在设置它的原始节点上。记住 C# 和 C++ 之间的巨大区别。在 C# 中，您的类变量是对基础对象的引用，当您分配变量时，您复制的是引用而不是对象。在 C++ 中则相反，您的类变量是实际对象，当您将一个变量分配给另一个变量时，您就是在*复制实际对象*。这有时称为*值语义*(C++) 与*引用语义*（C# 和 Java）。

从您发布的代码中无法说出如何解决。但是您需要对指针或引用做一些事情。可能您的方法`getNodeList`是复制节点列表，而不是返回对现有节点列表的引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:05:43.773

这些循环看起来可能会产生问题：

```
for (i = 0; i < n; i++)
    for (j = 0; j < n; j++)
    {
        cell c1;                    
        cells[i][j] = c1;
    } 
```

虽然您没有显示 的​​值`n`，但您将它用于两个循环。这意味着如果`n`是 10（`cells`数组的外部维度），那么您将访问`cells[i][j]`越界。您也可以在另一个嵌套循环中使用它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T08:44:42.087

我建议交叉检查双重 for 循环，这可能会产生问题。

# javascript - IE9 显示 SCRIPT601：未知的运行时错误

> ID：13025074
> 
> 赞同：1
> 
> 时间：2012-10-23T06:59:27.603
> 
> 标签：javascript, jquery, ajax

在 IE9 for innerHTML 中它显示 SCRIPT601: Unknown runtime error

我插入的数据如下。所有的标签都是封闭的。我猜表单标签引起了问题，但我希望它在那里

```
 getHtmlStr='   <p></p>
    <div id="rs_div"></div>
    <form id="documentDetails" name="documentDetails"></form>
    <p></p>
    <div class="portlet magazines_details" id="magazines">
    <div class="content" id="doc_content">
    <div class="transcript" id="transcript">
    <div class="document-text">
    <p>Many people believe that a spin in a washing machine turns dirty clothes sparkly clean. Aarthi Shankar did too, until she came across a study by Charles Gerba, a microbiologist at the University of Arizona, which showed that household washers contain a shocking amount of bacteria.</p>
    <p>&nbsp;</p>
    </div>
    </div>
    </div>
    </div> ';

document.getElementById("notesdiv_"+html[i][0]).innerHTML = getHtmlStr; 
```

"notesdiv_"+html[i][0] 是某个 div 的 id

# mysql - rake db:create 给出错误

> ID：13025078
> 
> 赞同：1
> 
> 时间：2012-10-23T06:59:46.013
> 
> 标签：mysql, ruby-on-rails, ruby, macos, rake

当我运行 rake db:create 时出现以下错误

```
xyz-MacBook-Pro:ruby_project xyz$ rake db:create
rake aborted!
dlopen(/Users/xyz/.rvm/gems/ruby-1.9.3-p194/gems/mysql2-0.2.7/lib/mysql2/mysql2.bundle, 9): Library not loaded: libmysqlclient.18.dylib
Referenced from: /Users/xyz/.rvm/gems/ruby-1.9.3-p194/gems/mysql2-0.2.7/lib/mysql2/mysql2.bundle
Reason: image not found - /Users/xyz/.rvm/gems/ruby-1.9.3-p194/gems/mysql2-0.2.7/lib/mysql2/mysql2.bundle 
```

我的系统中安装了 mysql 5.1.66，并且我的 database.yml 文件结构是

```
adapter: mysql2
encoding: utf8
reconnect: false
database: ruby_test
pool: 5
username: root
password:
host: /tmp/mysql.sock 
```

以下是我系统中mysql文件夹的内容

```
libdbug.a           libmysqlclient_r.a
libheap.a           libmysqlclient_r.dylib
libmygcc.a          libmysqlclient_r.la
libmyisam.a         libmysqld.a
libmyisammrg.a          libmystrings.a
libmysqlclient.16.dylib libmysys.a
libmysqlclient.a        libvio.a
libmysqlclient.dylib    libz.a
libmysqlclient.la       libz.la
libmysqlclient_r.16.dylib   plugin 
```

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T04:18:07.277

使用命令
gem install mysql2为 mysql2 安装 gem，
检查包以确保它使用 mysql 作为默认数据库。并将 libmysql.dll 文件放在您的 MySQL bin 文件夹中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:45:31.790

你可以安装 libmysqlclient。我猜你正在使用 Ubuntu，然后使用以下安装

```
sudo apt-get install libmysql-ruby libmysqlclient-dev 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T07:32:32.837

一种简单且最好的方法是通过命令创建软链接 -

```
sudo ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/lib/libmysqlclient.18.dylib 
```

[http://rorguide.blogspot.com/2011/07/getting-error-library-not-loaded.html](http://rorguide.blogspot.com/2011/07/getting-error-library-not-loaded.html)

# php - 从不使用 PHPExcel 的任何位置上传

> ID：13025080
> 
> 赞同：0
> 
> 时间：2012-10-23T06:59:52.713
> 
> 标签：php, phpexcel, dirname

我正在使用 PHPExcel 插件来读取 excel 并将值存储在数据库中。它真的很酷，而且工作得很好。但是当我从我的机器上的不同位置上传一个 excel 表时我遇到了一个问题。
我猜是 bcoz，**PHPExcel.php**定义了一个常量

```
if (!defined('PHPEXCEL_ROOT')) {
   define('PHPEXCEL_ROOT', dirname(__FILE__) . '/');
   require(PHPEXCEL_ROOT .'PHPExcel/Autoloader.php');
} 
```

我想知道如何从任何位置上传和读取文件？另外，我不是在上传后保存文件，而是读取记录并将其保存到数据库，因为目的是将记录输入数据库。如何我可以修吗？该**文档**非常好且内容广泛，但我有点缺乏时间来探索它，也是面向 Obj 的 PHP 的新手
感谢您抽出宝贵的时间。

**PS**：我没有将文件存储在服务器上，只是从中读取和获取数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T05:16:48.100

@Mark Ba​​ker
您的评论对我帮助很大，我解决了这个问题。我实际上是在尝试通过不上传文件来减少负载。而只是阅读并保存它。但这是不可能的，因为我们必须物理地拥有文件操作时位于发球台上。我已经改变了我的方法，现在**上传文件，阅读它，然后在操作结束后取消文件与服务器的链接**。

感谢您的帮助，感谢您为解决 PHPExcel 问题所做的努力。它确实是一个很好的工具，可以继续使用并期待更多地探索它。

# javascript - 在独立 ios 应用程序中使用 URL var 将表单发布到同一页面

> ID：13025086
> 
> 赞同：0
> 
> 时间：2012-10-23T07:00:29.873
> 
> 标签：javascript, html, ios

我目前正在开发一个独立的 iOs iPad 应用程序。在这个应用程序中，我有一个表单，我想使用 URL var ?formsubmitted=true 提交到同一页面，这样我就可以使用coldfusion 验证表单并发送邮件。

问题是我用来禁止在 Safari 中打开链接的脚本也禁止提交表单。我正在使用的脚本是

```
//disable links to open in safari
  (function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){d=a.target;while(!f.test(d.nodeName))d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}})(document,window.navigator,"standalone"); 
```

有人知道我可以如何调整这个脚本，以便表单提交可以工作。

没有这个脚本，除了链接在 safari 中打开外，一切正常。

* * *

解决方案

* * *

我自己找到了一个可行的解决方案，只需将用于提交表单的 a 标签替换为 span 标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T09:17:51.687

我的问题的解决方案是将用于提交表单的 a 标签替换为 span 标签。

# sql - 创建一个不返回任何内容的用户定义函数

> ID：13025091
> 
> 赞同：2
> 
> 时间：2012-10-23T07:00:35.903
> 
> 标签：sql, postgresql, user-defined-functions

我正在尝试制作一个不返回任何内容的用户定义函数。我有正文： `select form from bookings where id=$1`其中 $1 是函数采用的第一个也是唯一的参数。

我试过了

```
create function findBookgins(character varying(100)) returns void
select form from bookings where id=$1; 
```

我在选择时遇到错误。我只想显示创建的表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:25:52.773

函数调用应该类似于：

```
SELECT * FROM findBookgins('FooBar' :: character varying); 
```

或者

```
SELECT findBookings('Foo'); 
```

或者

```
Perform findBookings('Bar'); 
/* note this call will not return anything but 
   is only available when calling function from other functions */ 
```

编辑：好的，让我们一步一步看问题。首先什么都不返回： [这是一个关于函数返回如何在 postgresql 中工作的完美解释](https://stackoverflow.com/questions/1343954/how-do-i-write-a-postgres-stored-procedure-that-doesnt-return-anything)

接下来如何定义函数（因为你的代码是纯的`sql`，我猜你也需要一个函数`sql`）：

```
CREATE OR REPLACE FUNCTION findBookgins(prm_booking character varying(100))
  RETURNS SETOF bookings AS
    'SELECT * FROM bookings WHERE id = $1';
  LANGUAGE sql VOLATILE
  ROWS 1000; 
```

此函数应返回符合您给定条件的所有预订，如下所示：

```
SELECT * FROM findBookings('15'); 
```

将返回所有 id 为 15 的预订。

我假设这就是你想要做的，因为否则你的函数不会做任何事情，要使用你需要`plpgsql`函数的循环

更多关于 plpgsql 过程语言语法[的信息在这里](http://www.postgresql.org/docs/current/static/plpgsql-statements.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:46:22.530

您的函数中有语法错误。您需要正确引用函数的主体。

```
CREATE FUNCTION findBookgins(character varying(100)) RETURNS VOID AS
$$
  SELECT form FROM bookings WHERE id=$1;
$$
LANGUAGE SQL
; 
```

我认为有关[基于 SQL 的函数的文档对](http://www.postgresql.org/docs/9.2/static/xfunc-sql.html)您特别有帮助。

顺便说一句，我真的不敢相信你希望这个特定的函数什么都不返回。那有什么意义呢？

# c# - 将值从弹出表单传递到弹出表单

> ID：13025094
> 
> 赞同：1
> 
> 时间：2012-10-23T07:00:48.980
> 
> 标签：c#, winforms

我正在制作 Windows 应用程序。

我有要求，我需要从按钮单击事件中打开一个弹出表单，我可以通过下面的代码打开该表单

```
Form2 frm = new  Form2();
frm.ShowDialog(); 
```

这个 Popup 表单`Form2`是数据输入表单，这将被调用 from `Form1`。`Form2`是数据录入表格。当我填写字段`Form2`并单击保存按钮时，所有值都将填充到`Form1's`网格中。

这个网格也有编辑和删除按钮。

我怎样才能做到这一点 ？我必须将数据保存在 xml 文件中并从中检索，但我不想这样做。

任何人都可以用示例代码建议任何其他方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:02:02.683

你可以有一些`public properties`在你`form`的获取和设置数据。

```
Form2 frm = new  Form2();
frm.FirstName = "John";
frm.ShowDialog();

string newFirstName = frm.FirstName; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:43:52.120

n 这样，您可以从 Form2 到达 Form1。

```
public class Form2
{
    private Form1 _instance;
    public Form2(Form1 instance)
    { 
          _instance = instance;   
    } 

    public void Save()
    {
         _intance.FillMethod();
    }
}

// this = form1 instance
Form2 frm = new  Form2(this);
frm.ShowDialog(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T08:00:22.117

如果您的数据输入表单*需要*一些数据，那么最好通过构造函数传递数据。其他数据可以通过属性甚至方法传递。使用属性是返回数据的最佳方式。

```
using(Form2 fom2 = new Form2(requiredData))
{
    form2.OtherData = optionalData;
    if (form2.ShowDialog() != DialogResult.OK)
        return;
    // read data from dialog form
    grid.DataSource = form2.Data;
    textBox.Text = form2.SomeString;
} 
```

# android - 如何防止Android程序被关闭或删除

> ID：13025099
> 
> 赞同：0
> 
> 时间：2012-10-23T07:01:07.593
> 
> 标签：android, kernel

由于某些原因，我想为 andorid 运行一个程序并防止它被删除或停止/禁用它。从我所读到的，如果不修改操作系统是不可能的，是的，我们可以要求客户在他们的手机上安装操作系统的自定义修改版本。但我需要知道如何修改内核或在其中加载程序。

对此的任何帮助将不胜感激

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:07:41.483

您的解决方案是创建一个所谓的系统应用程序。这里已经[询问了一些关于系统应用程序](https://stackoverflow.com/questions/5711047/android-how-can-app-run-as-system-app)的问题，因此您可能已经在这里找到了您的解决方案。

# javascript - 检测浏览器的本机日期/时间选择器

> ID：13025102
> 
> 赞同：3
> 
> 时间：2012-10-23T07:01:14.097
> 
> 标签：javascript, html

对于移动 html5/js 网站，我想在可用时利用本机浏览器日期/时间选择器（例如在移动 safari 上）。我知道我可以检测浏览器是否支持日期/日期时间输入类型，这将有助于确保输入正确的数据格式，但是是否有适当的方法来检测当前浏览器是否提供本机日期和/或时间选择器？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-23T07:06:17.573

您可以创建一个输入元素并尝试分配类型，如果不支持该类型将切换回默认类型（即文本）

```
function isDateSupported() {
    var i = document.createElement("input");
    i.setAttribute("type", "date");
    return i.type !== "text";
} 
```

或者你可以使用像[modernizr这样的工具](http://modernizr.com/)

# c# - DataTemplate 中的按钮单击事件无法加载

> ID：13025118
> 
> 赞同：0
> 
> 时间：2012-10-23T07:02:21.017
> 
> 标签：c#, wpf

添加后`ContentPresenter`，`Click="btnAdd_Click"`出现`GridViewColumn`空异常错误，Windows 无法加载。

WPF：

```
<ContentPresenter Content="{Binding}">
        <ContentPresenter.ContentTemplate>
            <DataTemplate>
               <Grid>
                    <ListView Name="productList" ItemsSource="{Binding Path=ProductList}" Height="200">
                        <ListView.View>
                            <GridView>
                                <GridView.ColumnHeaderContainerStyle>
    <GridViewColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation ="Horizontal">
                                                                        <Button x:Name="btnOfflineAdd" 
                                                                    Tag="{Binding Index}"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Top" 
                                                                    FontFamily="Segoe WP" 
                                                                    Content="+"
                                                                    Height="30" Width="25"
                                                                    Click="btnAdd_Click" />
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </GridViewColumn.CellTemplate>
                                                        </GridViewColumn>
                    ...
                </Grid>
            </DatTemplate>
            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding Path=ProductList.Count}" Value="0">
                     <Setter TargetName="productList" Property="Visibility" Value="Collapsed"/>
                    <Setter TargetName="productListEmpty" Property="Visibility" Value="Visible"/>
                </DataTrigger>
            </DataTemplate.Triggers>
        </ContentPresenter.ContentTemplate>
    </ContentPresenter> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:09:57.993

我认为 a 中的控件`ContentPresenter`不会在鼠标事件中被击中..请参考[这个答案](http://social.msdn.microsoft.com/Forums/en/wpf/thread/c22ebb2e-cb27-4ae3-bfe4-8f66f8a5e9f2)

# android - GPS android requestLocationUpdate

> ID：13025123
> 
> 赞同：3
> 
> 时间：2012-10-23T07:02:45.413
> 
> 标签：android, gps

我有一个名为`GPSSampleLocation`

有一个功能可以打开 gps 并基于该获取位置

这里 gpsEnabled 为真，但在我的手机中，当我请求 gps 时，我的 PHONE 上方的 GPS 图标会闪烁……但它也不闪烁……而且我没有获取数据

```
public void getGPSLocation() {
    LocationManager mlocManager = (LocationManager) GPSSampleLocation.this
            .getSystemService(Context.LOCATION_SERVICE);
    boolean gpsEnabled = mlocManager
            .isProviderEnabled(LocationManager.GPS_PROVIDER);
    if (!gpsEnabled) {
        String provider = Settings.Secure.getString(
                getContentResolver(),
                Settings.Secure.LOCATION_PROVIDERS_ALLOWED);
        if (!provider.contains("gps")) { // if gps is disabled
            final Intent poke = new Intent();
            poke.setClassName("com.android.settings",
                    "com.android.settings.widget.SettingsAppWidgetProvider");
            poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
            poke.setData(Uri.parse("3"));
            sendBroadcast(poke);
        }
    }
    gpsEnabled = mlocManager
            .isProviderEnabled(LocationManager.GPS_PROVIDER);
    System.out.println("GPS ENALBLE" + gpsEnabled);
    if (gpsEnabled) {
        mlocManager.requestLocationUpdates(
                LocationManager.GPS_PROVIDER, 0, 0,
                GPSSampleLocation.this);
    }
} 
```

我也使用了这些权限：

```
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
<uses-permission android:name="android.permission.INTERNET"/> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T07:05:58.900

以下是我测试 RequestLocationUpdates 和 LocationManager 和 LocationListener 的代码。

```
package com.test.locationmanager;

import android.app.Activity;
import android.content.Context;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.location.LocationProvider;
import android.os.Bundle;
import android.widget.TextView;

public class LocationManagerStatus extends Activity {
    private LocationManager locationManager;
    private TextView textView;

    private final LocationListener gpsLocationListener = new LocationListener() {

        @Override
        public void onStatusChanged(String provider, int status, Bundle extras) {
            switch (status) {
            case LocationProvider.AVAILABLE:
                textView.setText(textView.getText().toString() + "GPS available again\n");
                break;
            case LocationProvider.OUT_OF_SERVICE:
                textView.setText(textView.getText().toString() + "GPS out of service\n");
                break;
            case LocationProvider.TEMPORARILY_UNAVAILABLE:
                textView.setText(textView.getText().toString() + "GPS temporarily unavailable\n");
                break;
            }
        }

        @Override
        public void onProviderEnabled(String provider) {
            textView.setText(textView.getText().toString() + "GPS Provider Enabled\n");
        }

        @Override
        public void onProviderDisabled(String provider) {
            textView.setText(textView.getText().toString() + "GPS Provider Disabled\n");
        }

        @Override
        public void onLocationChanged(Location location) {
            locationManager.removeUpdates(networkLocationListener);

            textView.setText(textView.getText().toString() + "New GPS location: "
                    + String.format("%9.6f", location.getLatitude()) + ", "
                    + String.format("%9.6f", location.getLongitude()) + "\n");

        }
    };

    private final LocationListener networkLocationListener = new LocationListener() {

        @Override
        public void onStatusChanged(String provider, int status, Bundle extras) {
            switch (status) {
            case LocationProvider.AVAILABLE:
                textView.setText(textView.getText().toString() + "Network location available again\n");
                break;
            case LocationProvider.OUT_OF_SERVICE:
                textView.setText(textView.getText().toString() + "Network location out of service\n");
                break;
            case LocationProvider.TEMPORARILY_UNAVAILABLE:
                textView.setText(textView.getText().toString() + "Network location temporarily unavailable\n");
                break;
            }
        }

        @Override
        public void onProviderEnabled(String provider) {
            textView.setText(textView.getText().toString() + "Network Provider Enabled\n");

        }

        @Override
        public void onProviderDisabled(String provider) {
            textView.setText(textView.getText().toString() + "Network Provider Disabled\n");
        }

        @Override
        public void onLocationChanged(Location location) {
            textView.setText(textView.getText().toString() + "New network location: "
                    + String.format("%9.6f", location.getLatitude()) + ", "
                    + String.format("%9.6f", location.getLongitude()) + "\n");

        }
    };

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        textView = (TextView) findViewById(R.id.textview);
        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);

    }

    @Override
    protected void onResume() {
        super.onResume();

        locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 5000, 0, networkLocationListener);
        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 3000, 0, gpsLocationListener);
    }

    @Override
    protected void onPause() {
        super.onPause();

        locationManager.removeUpdates(networkLocationListener);
        locationManager.removeUpdates(gpsLocationListener);
    }
} 
```

# z3 - 解决大问题

> ID：13025127
> 
> 赞同：3
> 
> 时间：2012-10-23T07:02:54.073
> 
> 标签：z3, smt

我从模板生成问题，由于问题的性质，我不得不依赖量词。现在，求解器只能找到非常简单（可满足）问题的实例。在许多情况下，查找“未饱和”是有效的。找到“sat”很少奏效。

问题是，即使是像定义两个不相交集合这样简单的事情也必须用一些非常讨厌的公式来表达：

```
(assert (! (disjoint_1 B A) :named a2 ))
(assert (! ; axiom for "disjoint_1"
    (forall ((A Rel1)(B Rel1)) (= 
        (disjoint_1 A B) 
        (forall ((a0 Atom)) (not (and (in_1 a0 A) (in_1 a0 B)))))) 
:named ax8)) 
```

（[在这里找到完整的问题](https://gist.github.com/3937226#file_syntaxtest.smt2)）

为了找到实例，Z3 必须找到函数的解释`in_1`。所有其他功能都依赖于它。

到目前为止，我*听到*了以下与我的问题有关的陈述：

1.  每个量词都应该有一个模式
2.  如果有任何无限模型，则实例查找不起作用

我在网络或文献中找不到任何有用的信息来说明如何实现或避免这种情况。所以我的问题仍然存在：

如何有效地找到可满足公式的实例（使用 Z3）？我如何使用模式来实现这一点（如果有的话）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T14:31:47.667

Z3 4.x 使用两个主要引擎来处理量词：EMatching 和 MBQI（基于模型的量词实例化）。EMatching 引擎仅对无法满足的实例有效。也就是说，它永远无法证明一个公式（包含量词）是可满足的。另一方面，MBQI 可以做到这一点。实际上，它可以决定许多有用的片段。[Z3 指南](http://rise4fun.com/Z3/tutorial/guide)（量词部分）描述了其中一些片段。话虽如此，Z3 没有用于一阶逻辑的有限模型查找器（如[Paradox](http://vlsicad.eecs.umich.edu/BK/Slots/cache/www.cs.chalmers.se/~koen/paradox/)）。这是一个有用的功能，我们将来可能会包含它。您消息中的示例可以使用 Z3 解决。[你可以在这里](http://rise4fun.com/Z3/8wK0)试试。

关于模式，它们是 EMatching 引擎的“提示”。由于 EMatching 引擎无法表明问题是可满足的，因此它们不会真正提供帮助。对于可满足的实例，我们可以添加模式，因为我们不希望 EMatching 引擎通过生成太多实例而妨碍 MBQI 引擎；或者我们想通过断言量词的简单实例来急切地修剪搜索空间。我们也可以使用选项禁用 Ematching 引擎`(set-option :ematching false)`。

```
(declare-sort Rel1)
(declare-sort Atom)
(declare-fun disjoint_1 (Rel1 Rel1) Bool)
(declare-fun in_1 (Atom Rel1) Bool)
(declare-const A Rel1)
(declare-const B Rel1)

(assert (! (disjoint_1 B A) :named a2 ))
(assert (! ; axiom for "disjoint_1"
    (forall ((A Rel1)(B Rel1)) (= 
        (disjoint_1 A B) 
        (forall ((a0 Atom)) (not (and (in_1 a0 A) (in_1 a0 B)))))) 
:named ax8)) 

(check-sat)
(get-model) 
```

# javascript - 使用闭包编译器编译两个js文件

> ID：13025128
> 
> 赞同：0
> 
> 时间：2012-10-23T07:03:00.470
> 
> 标签：javascript, google-closure-compiler

我有两个js文件：

1.js

```
(function(){
  function setLength(a,len){
  a.length=len;
}
  ...........
})(); 
```

2.js：

```
function View(){
  setLength(this,3);
} 
```

注意，`2.js`将访问`setLength`定义在`1.js`.

所以我希望编译器使用相同的替换来编译这两个文件。

我想要这样的结果：

```
(function(){
  function x(a,b){
  a.length=b;
}
  ...........
})();

function View(){
  x(this,3);
} 
```

这可能吗？

顺便说一句，我使用 compiler.js 来编译文件：

```
java -jar compiler.jar --js file.js --js_output_file file.min.js 
```

这是单个文件，我想编译多个文件，每个文件都有自己的输出文件，如下所示：

```
java -jar compiler.jar --js file.js,file2.js --js_output_file file.min.js,file2.min.js 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T08:32:27.017

要使用相同的替换编译这两个文件，闭包编译器的两个选项可以提供帮助

```

 --variable_map_input_file VAL : 包含序列化版本的文件
                                           产生的变量重命名图
                                           通过以前的编译
 --variable_map_output_file VAL：t 的序列化版本所在的文件
                                          he 变量重命名图制作 shou
                                          我得救了

```

这样你就可以

*   首先编译1.js并生成variable_map。

    ```
      java -jar compiler.jar --js 1.js --js_output_file 1.min.js -variable_map_output_file variable_map.txt

    ```

*   第二次使用生成的 variable_map 编译 2.js。

    ```
      java -jar compiler.jar --js 2.js --js_output_file 2.min.js --variable_map_input_file variable_map.txt      

    ```

如果 2.js 将引用 1.js 中定义的函数，那么编译器将需要一个[extern.js](https://developers.google.com/closure/compiler/docs/api-tutorial3#externs)来编译 2.js

并且使用输出包装器`(function(){%s})()`，在 1.js 中定义的所有函数都不能从 2.js 访问。您可能需要删除包装器，或使用[导出](https://developers.google.com/closure/compiler/docs/api-tutorial3#export)

# java - javax.servlet.ServletException: java.lang.NoSuchMethodException: Action[/common/DepartmentAction] 不包含指定的方法

> ID：13025131
> 
> 赞同：0
> 
> 时间：2012-10-23T07:03:20.923
> 
> 标签：java, struts

我正在超越异常，但我在我调用的那个动作类中有动作类和方法。

这是struts-config.xml。

```
<action path="/common/DepartmentAction"  name="SecurEyesForm" type="com.secureyes.eswastha.struts.action.DepartmentAction" scope="request" parameter="method" validate="false">
   <forward name="departmentHome" path="/WEB-INF/Masters/DepartmentMaster.jsp"></forward>            
</action> 
```

这就是我的 Action 课：

```
public class DepartmentAction extends DispatchAction {    
    /* forward name="success" path="" */
    private String forwardRequestTo = "success";
    public ActionForward goToHome(ActionMapping mapping, ActionForm form,
            HttpServletRequest request, HttpServletResponse response)
            throws Exception {
        //call method to verify Pagetoken
        forwardRequestTo = "departmentHome";
        return mapping.findForward(forwardRequestTo);
    }
} 
```

这就是我在 javascript 中调用该方法的方式：

```
function dataSave(){                    
    document.forms[0].action="DepartmentAction.htm";
    document.forms[0].method.value="saveDepartmentDetails";
    document.forms[0].target="workFrame";
    document.forms[0].submit();   
} 
```

当我看到堆栈跟踪时，我看到如下内容：

```
SEVERE: Action[/common/DepartmentAction] does not contain method named ''

By which should i to conclude that the method parameter is '' but i have given parameter as method. 
```

堆栈跟踪 ：

```
Oct 23, 2012 12:29:50 PM org.apache.struts.actions.DispatchAction dispatchMethod
SEVERE: Action[/common/DepartmentAction] does not contain method named ''
java.lang.NoSuchMethodException: com.secureyes.eswastha.struts.action.DepartmentAction.(org.apache.struts.action.ActionMapping, org.apache.struts.action.ActionForm, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)
    at java.lang.Class.getMethod(Class.java:1622)
    at org.apache.struts.actions.DispatchAction.getMethod(DispatchAction.java:348)
    at org.apache.struts.actions.DispatchAction.dispatchMethod(DispatchAction.java:252)
    at org.apache.struts.actions.DispatchAction.execute(DispatchAction.java:170)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)

Oct 23, 2012 12:29:50 PM org.apache.struts.util.PropertyMessageResources loadLocale
WARNING:   Resource org/apache/struts/action/ActionResources_en_US.properties Not Found.
Oct 23, 2012 12:29:50 PM org.apache.struts.util.PropertyMessageResources loadLocale
WARNING:   Resource org/apache/struts/action/ActionResources_en.properties Not Found.
Oct 23, 2012 12:29:50 PM org.apache.struts.action.RequestProcessor processException
WARNING: Unhandled Exception thrown: class java.lang.NoSuchMethodException 
```

这是struts框架的版本问题，因为1.29中的dispatch action而我的项目配置的版本是1.3.9？如果是版本问题如何将 struts 1.2.9 配置到 Netbeans7.2 IDE？`

更新 ：

包含所有框架的主页

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="shortcut icon" href="favicon.ico">
<title>SecureEyes - Infusing Security</title>
<script language="javascript" type="text/javascript" src="<%=resourcePath%>/scripts/frameset.js"></script>
<script language="javascript" type="text/javascript" src="<%=resourcePath%>/scripts/commonForHomePageTemplate.js"></script>
<script language="javascript">
<!--
var opt_no_frames = false;
var opt_integrated_mode = false;
var _help_prefix = "";
var _help_module = "";
var _context = "";
//-->
</script>
</head>
            <frameset border="0" frameborder="0" framespacing="0" rows="64,*">
                    <frame border="0" frameborder="0" framespacing="0" id="topFrame" name="topFrame" src="<%=resourcePath%>/common/header.jsp" marginheight="0" marginwidth="0" noresize="noresize" scrolling="no">
                    <frameset border="0" frameborder="0" framespacing="0" id="MainFrameSet" cols="209,*">
                            <frame noresize="noresize" border="0" frameborder="0" framespacing="0" id="leftFrame" name="leftFrame" src="<%=resourcePath%>/common/left_menu.jsp" >
                            <frame border="0" frameborder="0" framespacing="0" id="workFrame" name="workFrame" src="<%=resourcePath%>/common/WelcomePage.jsp" marginheight="7" marginwidth="7" noresize="noresize" scrolling="auto">
                    </frameset>
            </frameset>
</html> 
```

和`DepartemtMaster.jsp`

<%@ taglib uri="/WEB-INF/struts-html.tld" prefix="html"%> <%@ taglib uri="/WEB-INF/struts-bean.tld" prefix="bean"%> <%@ taglib uri="/WEB-INF/struts-logic.tld" prefix="logic"%> <%@ page contentType="text/html"%> <%@ page pageEncoding="UTF-8"% > <% String resourcePath = request.getContextPath(); %> SecureEyes - 注入安全性

```
 <link rel="stylesheet" type="text/css" href="<%=resourcePath %>/css/autocomplete.css"/> 
```

/scripts/prototype/prototype.js"> /scripts/script.aculo.us/effects.js"> /scripts/script.aculo.us/controls.js"> /scripts/autocomplete.js">

```
 <script src="<%=resourcePath%>/scripts/blanket.js"></script>

    <script src="<%=resourcePath%>/data-page/jquery-latest.js" type="text/javascript"></script>
    <script type="text/javascript" src="<%=resourcePath%>/data-page/jquery.tablesorter.js"></script>
    <link href="<%=resourcePath%>/data-page/table-sorter.css" rel="stylesheet" type="text/css">
    <link href="<%=resourcePath%>/css/eswastha.css" rel="stylesheet" type="text/css">
    <script src="<%=resourcePath%>/data-page/smartpaginator.js" type="text/javascript"></script>
    <link href="<%=resourcePath%>/data-page/smartpaginator.css" rel="stylesheet" type="text/css" />

    <script language="javascript" type="text/javascript" src="<%=resourcePath%>/scripts/commonForHomePageTemplate.js"></script>
    <script language="javascript" type="text/javascript" src="<%=resourcePath%>/data-page/main.js"></script>
    <script language="javascript" type="text/javascript" src="<%=resourcePath%>/header_data/tooltip.js"></script>
    <link rel="stylesheet" type="text/css" href="<%=resourcePath%>/header_data/general.css">
    <link rel="stylesheet" type="text/css" href="<%=resourcePath%>/data-page/custom.css">
    <link rel="stylesheet" type="text/css" href="<%=resourcePath%>/data-page/layout.css">
    <link rel="stylesheet" type="text/css" href="<%=resourcePath%>/data-page/desktop.css">
    <script src="<%=resourcePath%>/data-page/custom.js"></script>
    <link rel="stylesheet" type="text/nonsense" href="<%=resourcePath%>/header_data/misc.css">

    <script src="../dwr/interface/DepartmentAction.js"></script>
    <script src="../dwr/engine.js"></script>
    <script src="../dwr/util.js"></script>
    <script type="text/javascript">

        function updateList(autocompleter, textBoxValue) {
            document.getElementById("INST_ID_LOADER").style.display = 'none';
            if(textBoxValue!=null && textBoxValue!="" && textBoxValue.length>0){
                document.getElementById("INST_ID_LOADER").style.display = '';
                DepartmentAction.getAutocompleteDepartMentData(textBoxValue,function(data) {
                    document.getElementById("INST_ID_LOADER").style.display = 'none';
                    autocompleter.setChoices(data)
                });
            }
        }
        function nameValueSelector(tag){
            return tag;
        }
        function isDepartmentExist(){
            var departmentName= document.getElementById('department').value;
            DepartmentAction.isDepartmentExist(departmentName,isDepartmentTrue);
        }
        function isDepartmentTrue(isDepartmentExist){
            if(isDepartmentExist){
                 document.getElementById('department').value="";
                 alert("Department exist already");
                return false;
            }
        }

        function getDepartmentData(){
            var departmentName= document.getElementById('departmentName').value;
            DepartmentAction.getDepartmentResultHTML(departmentName,loadDepartmentHTML);
        }
        function loadDepartmentHTML(htmlTable){
            if(htmlTable){
                document.getElementById("departmentList").style.display = "";
                document.getElementById("departmentList").innerHTML = htmlTable;
                document.getElementById("total").value="20";
                //for paginator
                t=40;
                r=0;
                $(function () {
                    r = document.getElementById('rec_per_page').value;
                    $('#paginator').smartpaginator({ totalrecords: t, recordsperpage: 10, datacontainer: 'product-table', dataelement: 'tr', initval: 0, next: 'Next', prev: 'Prev', first: 'First', last: 'Last'});
                });
                prepareForSearch();

            }
        }
        function prepareForSearch(){
            $(function() {      
                $("#product-table").tablesorter();
            }); 

        }
        function deleteDepartment(departmentid){
            if(confirm("Are you sure to delete")){
                alert("departmentid : D :"+departmentid);
            }

        }
        function updateDepartment(departmentid){
            if(confirm("Are you sure to Update")){
                alert("departmentid : U :"+departmentid);
            }
        }
        function addDepartment(){
            document.getElementById("addDepartment").style.display = '';
        }
        function cancelAddDepartment(departmentid){
            document.getElementById("addDepartment").style.display = 'none';
        }
        function saveDepartment(){ 
            var department= document.getElementById('department').value;
            if(department.length<=0){
                alert("Please Enter Department Name");
                return false;
            }else {
                var answer = confirm("Do You Want to Continue?");
                if (answer){
                    dataSave();
                }
            }
        }
        function dataSave(){
            getBlanket('continueDIV');
            document.forms[0].action="DepartmentAction.htm?method=saveDepartmentDetails";
            document.forms[0].method.value="saveDepartmentDetails";
            document.forms[0].target="workFrame";
            document.forms[0].submit();   
        }

    </script>
</head>
<body >
    <div id="blanket" style="display:none;"></div>
    <div id="continueDIV" style="display:none;" align="center" class="loadingRequest">
        <img src="<%=resourcePath%>/images/loading_1.gif" align="middle" border="0"><br /><bean:message key="reqinprogress" />
    </div>
    <form method="get" autocomplete="off">
        <table style="display: none;" id="loaderContainer" onclick="return false;" border="0" cellpadding="0" cellspacing="0" width="100%">
            <tbody><tr><td id="loaderContainerWH"><div id="loader" style="z-index: 10;"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><p><img alt="1x1.gif" title="" id="loaderAnimation" style="background-image: url(/skins/vista/images/loading.gif);" src="left_data/1x1.gif" height="20" width="20"><strong>Please wait. Loading...</strong></p></td></tr></tbody></table></div><script language="JavaScript" type="text/javascript">_lanim_start(24, 20);</script></td></tr></tbody></table>
        <table id="pageLayout" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td id="screenWH">
                        <div class="titleWrapper">
                            <div class="pathbar clear">
                                <span class="pathbarItem"><a href="#">Home</a></span>
                                <span class="pathbarItem separator">&gt;</span>
                            </div>
                            <div class="screenTitle">
                                <table cellspacing="0" width="100%">
                                    <tbody><tr>
                                            <td class="title">
                                                <div class="titleContainer clear"><h1>Master: Department</h1></div>
                                            </td>
                                        </tr>
                                    </tbody></table>
                            </div>  
                        </div>
                        <div id="addDepartment" style="display: none">
                            <table id="commonBodyTable" border="0" cellspacing="0" cellpadding="0" align="center">
                                <tr>
                                    <td>
                                        <table width="100%" align="center" class="tableBorder2" border="0" cellpadding="2" cellspacing="0">
                                            <tr>
                                                <td colspan="4" class="mainheader">Add Department</td>
                                            </tr>
                                            <tr class="lightrow">
                                                <td width="30%" class="textalign">&nbsp;</td>
                                                <td width="5%" class="mandatory">&nbsp;</td>
                                                <td width="65%" colspan="2" class="textfieldalign" >&nbsp;</td>
                                            </tr>
                                            <tr class="darkrow">
                                                <td width="30%" class="textalign">Department Name</td>
                                                <td width="5%" class="mandatory">*</td>
                                                <td width="65%" colspan="2" class="textfieldalign" ><input type="text" class="textbox" name="department" id="department" maxlength="20"  onblur="isDepartmentExist()"></td>
                                            </tr>
                                            <tr class="lightrow">
                                                <td width="30%" class="textalign">&nbsp;</td>
                                                <td width="5%" class="mandatory">&nbsp;</td>
                                                <td width="65%" colspan="2" class="textfieldalign" ><input type="button" class="submitbu" name="save" id="save" value="Save" onclick="saveDepartment()">
                                                    <input type="button" class="submitbu" name="exit" id="exit" value="Exit" onclick="cancelAddDepartment();"></td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="screenBody" id="">
                            <div class="listArea">
                                <div class="searchArea">
                                    <table cellspacing="0" cellspacing="0">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <label>Department Name</label>
                                                    <input type="text" name="departmentName" id="departmentName" size="50" maxlength="245"  onfocus="new Autocompleter.DWR('departmnet','departmentNameList',updateList,{ valueSelector: nameValueSelector });">
                                                    <img id="INST_ID_LOADER" style="display:none;" src="<%=resourcePath%>/images/loading_3.gif" align="middle" border="0">
                                                    <div id="departmentNameList" class="auto_complete"></div>
                                                </td>
                                                <td>
                                                    <div class="commonButton" id="bid-search">
                                                        <input type="button" name="bname_search" class="submitbu" value="Search" onclick="getDepartmentData()">
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <form method="post" autocomplete="off" id="mainform">
                                    <div class="report-heading" >
                                        <div align="right">
                                            <a href='#' onclick="addDepartment()">Add Department</a>
                                            <label>Export to:</label>
                                            <select>
                                                <option value="">Excel</option>
                                                <option value="">CSV</option>
                                                <option value="">PDF</option>
                                            </select>
                                            <input type="button" class="submitbu" value="Export" />
                                            <input type="hidden" id="method" name="method" />
                                        </div>
                                    </div>
                                    <div class="gridArea">
                                        <div id="departmentList"></div>
                                    </div>
                                    <input type="hidden" name="total" id="total" value="40" />
                                    <input type="hidden" name="rec_per_page" id="rec_per_page" value="10" />
                                </form>
                                <div id="paginator"></div><!-- for paginator -->
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="LeftFrameSwitcher" id="divLeftFrameSwitcher">
            <img alt="bar_close.gif" title="Hide/show the navigation pane" id="imgLeftFrameSwitcher" onclick="SwitchLeftFrame();" src="<%=resourcePath%>/data-page/bar_close.gif" height="60" width="8">
        </div>
        <input type="hidden" name="method" >
    </form>
</body> 
```

请帮我，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:42:06.643

请摆脱嵌套形式，请插入：

```
<input type="hidden" id="method" name="method"> 
```

在第一种形式中，缺少此隐藏字段

我会帮你的

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:22:45.463

Struts`DispatchAction`需要一个与您在操作中声明的方法**相匹配**`parameter`的属性（如您在 中提供的`struts-config.xml`） 。请记住，参数名称区分大小写，传递给方法名称的值也区分大小写。**`DispatchAction`**

 **您已`DispatchAction`通过提供`parameter`. 为了调用您的`DispatchAction`，您必须在您的操作中指定要调用的方法。这通常通过`method=xxxx`在您的 URL 中作为属性附加来完成。

在您的情况下，这就是我可能所做的：

```
function dataSave(){                    
    document.forms[0].action="DepartmentAction.htm?method=saveDepartmentDetails";
    document.forms[0].method.value="saveDepartmentDetails";
    document.forms[0].target="workFrame";
    document.forms[0].submit();   
} 
```

如您所见，我在您后面附加`action`了`method`参数键和方法的名称。

Struts 清楚地告诉您它没有找到一个属性`method`或该`method`属性不包含任何值：

> Action[/common/DepartmentAction] 不包含名为 '' 的方法

希望这可以帮助。**

# sql - 如何从具有产品、属性、值等列的表中编写选择查询？

> ID：13025135
> 
> 赞同：0
> 
> 时间：2012-10-23T07:03:29.673
> 
> 标签：sql, oracle11g, entity-attribute-value

我有这样的桌子

```
 - Products: PID,ProductName...
 - Attributes:AID,AttributeName...
 - ProductAttributes:PID,AID,Value 
```

值是

```
***ProductAttributes***

 - P1,A1,V1
 - P1,A2,V2
 - P1,A3,V3
 - P2,A1,V4
 - P2,A2,V2
 - P2,A3,V3
 - P3,A1,V1
 - P3,A2,V2
 - P3,A3,V5 
```

我需要一个具有 2 个数组参数的过程，并通过这些参数过滤产品。如果`Parameter1:{A1,A2}`和`Parameter2:{V1,V2}`程序应该选择

```
P1,P3 
```

我怎么写这个？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T19:08:44.173

我假设 V1 必须是属性 A1 的值，而 V2 必须是属性 A2 的值。换句话说，如果您搜索具有属性（'canvascolor'、'solecolor'）和值（'red'、'black'）的鞋子，那么您不会想要黑色帆布和红色鞋底的鞋子。

每当您想比较 WHERE 表达式中的多个属性时，它们都需要位于同一行。如果您有一个传统的关系表设计，这将很容易，其中每个属性都存储在不同的列中：

```
SELECT p.*
FROM Products p
WHERE p.canvascolor = 'red' AND p.solecolor = 'black'; 
```

你也可以用元组比较来写这个表达式：

```
SELECT p.*
FROM Products p
WHERE (p.canvascolor, p.solecolor) = ('red', 'black'); 
```

当您将属性存储在多行上时，就像您正在使用的这个实体-属性-值表一样，事情会变得更加复杂。这是 EAV 赋予您随意定义属性的灵活性的权衡。您需要使用连接将它们放在同一行上，以便进行比较：

```
SELECT p.*
FROM Products p
JOIN ProductAttributes pa1 ON pa1.PID = p.PID
JOIN Attributes a1 ON a1.AID = pa1.AID
JOIN ProductAttributes pa2 ON pa2.PID = p.PID
JOIN Attributes a2 ON a2.AID = pa2.AID
WHERE (a1.AttributeName, pa1.Value) = ('A1', 'V1')
 AND (a2.AttributeName, pa2.Value) = ('A2', 'V2'); 
```

另一种方法是匹配*任*一属性/值对，然后按匹配的 PID 分组。匹配数恰好为两个的组具有所需的属性和值。

```
SELECT p.PID, MAX(p.ProductName), ...
FROM Products p
JOIN ProductAttributes pa ON pa.PID = p.PID
JOIN Attributes a ON a.AID = pa.AID
WHERE (a.AttributeName, pa.Value) = ('A1', 'V1')
 OR (a.AttributeName, pa.Value) = ('A2', 'V2')
GROUP BY p.PID
HAVING COUNT(*) = 2; 
```

# c# - 自动保存表单直到会话到期

> ID：13025141
> 
> 赞同：0
> 
> 时间：2012-10-23T07:03:42.050
> 
> 标签：c#, asp.net, .net

如何在用户注销之前每 10 秒自动保存一次 Web 表单。有没有使用 system.thread.sleep 类的方法。？或者有没有其他可行的方法来实现这一点。我正在使用.net 2.0。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:25:43.910

使用计时器并在您要保存的页面上，并设置 10 秒的间隔。并将所有表单数据保存在计时器的滴答事件中。所以 tick 事件将每 10 秒后执行一次，您的表单将被保存。

请参阅下面的链接以获取与计时器滴答事件相关的示例以执行某些任务

[http://www.devasp.net/net/articles/display/1412.html](http://www.devasp.net/net/articles/display/1412.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:53:15.710

作为帮助您继续前进的提示，这里使用 jQuery 是一些代码：

```
var ajxAutoSaveTimer = null;

function TriggerChanges()
{
   if(ajxAutoSaveTimer)
     clearTimeout(ajxAutoSaveTimer);

   ajxAutoSaveTimer = setTimeout(MakeAutoSave, 10000);
}

function MakeAutoSave()
{
  // fix the data that you going to send here.

  jQuery.ajax({
        url: "PageName.aspx/MethodName",
        data: "{}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        success: function(data) 
        {
          // you can make a tiny notification here
          return;
        }
        error: function(responseText, textStatus, XMLHttpRequest) {             
                return;
            }
    });
}

jQuery(document).ready(function() {
    jQuery(":input:not(*[ExcludeFromNotice])").bind('change', TriggerChanges);
}); 
```

Now what I do here. Starting with this line, I capture all the `input` that are the changes by the user controls. All exept the one that I have flagged with `ExcludeFromNotice` because some of them I do not won to be part of the autosave process.

```
jQuery(":input:not(*[ExcludeFromNotice])").bind('change', TriggerChanges); 
```

you can set that to a control as `"ExcludeFromNotice=true"` on properties. Alternative you can set a class only to the controls you like to be part of the auto-save notification.

Now on `TriggerChanges()` what I do is to create a time that is fired after 10sec that user not make other changes.

And the rest part that is the most difficult, if the `MakeAutoSave()`, there you need to collect and post the autosaved data.

Some extra pages that can help you make the ajax call that saves the data:
[http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)
[How to post form data in asp.net using ajax](https://stackoverflow.com/questions/9616134/how-to-post-form-data-in-asp-net-using-ajax)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:50:37.440

最好的方法是使用定时器控件，它们会触发滴答事件，您可以在其上编写代码来保存数据，将定时器时间设置为 10000。

# javascript - 加号和减号按钮使用 javascript 添加和减去分钟

> ID：13025142
> 
> 赞同：0
> 
> 时间：2012-10-23T07:03:42.250
> 
> 标签：javascript, jquery, time

我到处寻找，但找不到可以执行此操作的脚本。无论如何，我有两个按钮 +/-，它们应该添加或减去输入字段中的分钟数。我试图用 jQuery 来做，但它不能正常工作。如果有人能指出我正确的方向。

HMTL：

```
<a href="#" class="btn" onclick="SubTime('#input-time')"><h1>&nbsp;<i class="icon-minus"></i>&nbsp;</h1></a>
<a href="#" class="btn"><h1>&nbsp;<input type="text" value="0:50" id="input-time">&nbsp;</h1></a>
<a href="#" class="btn" onclick="AddTime('#input-time')"><h1>&nbsp;<i class="icon-plus"></i>&nbsp;</h1></a> 
```

jQuery（只添加了应该添加时间的函数）：

```
function AddTime(where) {
 var oldTime = $(where).val();
 var contains = oldTime.split(":");
 var hours = parseInt(contains[0], 10);
 var minutes = parseInt(contains[1], 10);
 var j = 1;

if (minutes == 0) {
    return false;
}

if (minutes > 0 && minutes < 11) {
    var value = minutes + j;
    value = hours + ':0' + value;
    $(where).val(value);
}

if (minutes > 10) {
    var value = minutes + j;
    value = hours + ':' + value;
    $(where).val(value);
}

if (minutes > 58) {
    hours = hours + 1;
    var value = hours + ':0' + j;
    $(where).val(value);
}
} 
```

它没有正确添加小时，现在输入字段值为 0:50，所以当我开始按下 + 按钮时，只要时间为 1:01，它就会一次添加一分钟，然后小时又回到 0： 02\. 我不知道如何正确添加时间，我敢打赌有一种更简单的方法可以做到这一点，所以请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:38:55.797

So first things first, you shouldn't really be using inline event handlers to bind events to dom elements, use jQuery `on()` instead. Secondly, in a case like this it's much easier to track minutes in your logic and then format that value into hours and minutes for display:

html:

```
<a href="#" class="btn btn-subtract">subtract</a>
<input type="text" value="1:50" id="input-time" data-minutes="110"/>
<a href="#" class="btn btn-add">add</a> 
```

JS (assumes jQuery 1.8+):

```
 $(function() {// on document ready
    var $input = $('#input-time');//cache the input as a jQuery object (optional)
    //bind events to the buttons
    $('.btn-add').on('click', function(){
      changeTime(1);
    });
    $('.btn-subtract').on('click', function(){
      changeTime(-1);
    });

    function changeTime(mins){
      var currentTime = parseInt($input.data('minutes')), //get the current value from the data attr in the HTML
          newTime = currentTime + mins, //calculate the new time
          minutes = (newTime % 60).toString(), //get the minutes using the modulus operator and convert to a string (so we can use length below)
          hours = (Math.floor(newTime / 60)).toString();// get the hours and convert to a string

      //make sure we've got the right length for the minutes string
      if (minutes.length === 0){
        minutes = "00";
      }
      else if(minutes.length === 1){
        minutes = "0" + minutes;
      }
      //update the data attr and the displayed output
      $input.data('minutes', newTime).val(hours + ":" + minutes);

    }
  }); 
```

(also, check your html structure: you had a `h1` around your input element, which is a bit odd, and a linka round that too. is that really what you meant to do?)

## Update

If you aren't able to set a data attribute with the minutes in your html, you can set it with jQuery like this:

```
//before you bind your events
$input.data('minutes', parseTimeString($input.val()));

function parseTimeString(str){
  var time = str.split(":");
  return (parseInt(time[0])*60) + parseInt(time[1]);
} 
```

# spring - 在 JSF 和 Spring 中解析支持 bean 的可能性

> ID：13025144
> 
> 赞同：-1
> 
> 时间：2012-10-23T07:03:51.263
> 
> 标签：spring, jsf, el

我`org.springframework.web.jsf.el.SpringBeanFacesELResolver`在我的 JSF + Spring 应用程序中使用。每个支持 bean 都需要一个接口来解析。我猜它是依赖注入的接口类型。

```
#{bean.text}

public interface IBean {
    String getText();
}

@Named
@Scope("session")
public class Bean implements IBean {
    public String getText() {
        return "Hello World!";
    }
} 
```

我想摆脱界面。这对我来说有点官僚主义。是否可以？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-28T17:56:36.803

我终于解决了。问题出在范围取决于 HTTP（请求、会话）的 bean 中。默认情况下，应手动创建接口。这可以通过使用代理来避免。

如果使用组件扫描：

```
<context:component-scan base-package="..." scoped-proxy="targetClass" /> 
```

或者在 bean 定义中：

```
<bean ...>
    <aop:scoped-proxy>
</bean> 
```

请参阅 Spring 文档中的第 4.5.4.5 章 Scoped beans as dependencies。[http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html)

# javascript - 输入选择的jQuery历史记录（简单）

> ID：13025145
> 
> 赞同：3
> 
> 时间：2012-10-23T07:03:57.340
> 
> 标签：javascript, jquery

我有一个名为 email class keyup-an 的输入字段。我很容易验证它，但它可以工作，或者当个人手动输入字段时。我如何使它也适用于选择历史数据。当您单击电子邮件并且昨天输入 test@test.com 时，历史记录列表会下拉，您可以选择它，但它不是键盘。

我在使用 .change 或 .click 之后尝试了相同的功能，但它没有用。你们能建议吗？有效

```
$('.keyup-an').keyup(function() {
    $('span.error-keyup-1').hide();
    var inputVal = $(this).val();
    var numericReg = /^[a-zA-Z0-9_ ]{2,30}$/;
    if(!numericReg.test(inputVal)) {
        $(this).css('background', '#FAC3C3');
        $(this).after('<span class="error error-keyup-1">Validationfail</span>');
    } 
    else {
        $(this).css('background', 'lightgreen');
    }
}); 
```

![jQuery历史](../Images/645b56ecc82872ba27aaa8d476257046.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:06:54.823

你可以这样做

```
autocomplete='off' 
```

例子

```
<form name="form1" id="form1" method="post" autocomplete="off"> 
```

或尝试类似的东西

```
$(input).autocomplete().keyup(function(event) {
  event.stopPropagation();
}).keydown(function() {
$(this).autocomplete('search', $(input).val());   
}); 
```

好读

[如何关闭表单自动完成](https://developer.mozilla.org/en-US/docs/How_to_Turn_Off_Form_Autocompletion)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:11:10.253

如果我对您的理解正确，您希望在单击自动完成项时触发一个事件。

这是一个已知的错误，请查看这篇关于 jquery 插件的文章，我认为这正是您所需要的：

[http://furrybrains.com/2009/01/02/capturing-autofill-as-a-change-event/](http://furrybrains.com/2009/01/02/capturing-autofill-as-a-change-event/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:11:14.663

而不是将您的函数绑定到keyup事件..也许将它绑定到更改事件？好的..这似乎不适用于某些浏览器..您可以参考上一个答案并使用该解决方案，该解决方案基本上创建了一个计时器来检查间隔中的值以检测更改。如果您希望 imo 快速进行验证，则强制浏览器做很多工作。或者您可以关闭自动完成功能并强制用户手动输入值，就像第一个答案建议的那样。

# iphone - 尝试在 CGContext 中用颜色填充路径而没有太多运气

> ID：13025146
> 
> 赞同：0
> 
> 时间：2012-10-23T07:04:10.037
> 
> 标签：iphone, objective-c, ios, xcode, cgcontext

我目前有以下代码来尝试允许用户绘制虚线路径并制作自定义形状。一旦他们做出这个形状，我希望它自动填充颜色。那没有发生。

目前我收到以下代码的此错误：

```
<Error>: CGContextClosePath: no current point. 
```

这是我正在使用的代码：

```
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{

UITouch *touch = [touches anyObject];

CGPoint previous = [touch previousLocationInView:self];
CGPoint current = [touch locationInView:self];

#define SQR(x) ((x)*(x))
//Check for a minimal distance to avoid silly data
if ((SQR(current.x - self.previousPoint2.x) + SQR(current.y - self.previousPoint2.y)) > SQR(10))
{

    float dashPhase = 5.0;
    float dashLengths[] = {10, 10};
    CGContextSetLineDash(context,
                         dashPhase, dashLengths, 2);

    CGContextSetFillColorWithColor(context, [[UIColor lightGrayColor] CGColor]);
    CGContextFillPath(context);

    CGContextSetLineWidth(context, 2);
    CGFloat gray[4] = {0.5f, 0.5f, 0.5f, 1.0f};
    CGContextSetStrokeColor(context, gray);

    self.brushSize = 5;
    self.brushColor = [UIColor lightGrayColor];

    self.previousPoint2 = self.previousPoint1;
    self.previousPoint1 = previous;
    self.currentPoint = current;

    // calculate mid point
    self.mid1 = [self pointBetween:self.previousPoint1 andPoint:self.previousPoint2];
    self.mid2 = [self pointBetween:self.currentPoint andPoint:self.previousPoint1];

    if(self.paths.count == 0)
    {

    UIBezierPath* newPath = [UIBezierPath bezierPath];

    CGContextBeginPath(context);

    [newPath moveToPoint:self.mid1];
    [newPath addLineToPoint:self.mid2];
    [self.paths addObject:newPath];

    CGContextClosePath(context);

    }

    else

    {

        UIBezierPath* lastPath = [self.paths lastObject];

        CGContextBeginPath(context);

        [lastPath addLineToPoint:self.mid2];
        [self.paths replaceObjectAtIndex:[self.paths indexOfObject:[self.paths lastObject]] withObject:lastPath];

        CGContextClosePath(context);

    }

    //Save
    [self.pathColors addObject:self.brushColor];

    self.needsToRedraw = YES;
  [self setNeedsDisplayInRect:[self dirtyRect]];
  //[self setNeedsDisplay];
}

} 
```

为什么会发生这种情况，为什么路径内部没有填充颜色？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T08:35:35.620

您的代码有几个问题：

*   您应该在视图的`drawRect:`方法中进行绘图，而不是触摸处理程序。
*   您永远不会`context`使用当前上下文的值设置变量。用方法做到这一点 `UIGraphicsGetCurrentContext()`。再次，在你的`drawRect:`方法范围内。
*   您经历了创建`UIBezierPath`对象的麻烦，但您从不使用它。通过调用`CGContextAddPath( context, newPath.CGPath )`，在您出现的两个地方根据需要更改变量名称使用`UIBezierPath`.
*   将调用保留`setNeedsDisplayInRect:`在您的触摸处理程序方法中。这告诉系统使用您的（尚未实现的）`drawRect:`方法绘制的绘图来更新您的视图。

# android - 在android中输入edittext时删除特殊字符；

> ID：13025147
> 
> 赞同：1
> 
> 时间：2012-10-23T07:04:10.757
> 
> 标签：android, android-edittext

如果我在输入数据时向编辑文本添加任何特殊符号，我需要删除字符。例如，我输入一个单词 smwinææ 是一个特殊字符，所以如果我添加该字符编辑文本应该删除 æ 并仅显示smwin 通过替换 æ .i 使用文本更改侦听器。检查下面的代码

```
email.addTextChangedListener(new TextWatcher() {
        public void afterTextChanged(Editable s) {
            // Abstract Method of TextWatcher Interface.
            System.out.println("started after");
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            System.out.println("started");

            // Abstract Method of TextWatcher Interface.
        }

        public void onTextChanged(CharSequence searchcontact, int start,
                int before, int count) {
            System.out.println("sssssssssss"+searchcontact);
            String a=searchcontact.toString();
            System.out.println("casted "+a);
            String[] parts = a.split(" ");
            String lastWord = parts[parts.length - 1];
            System.out.println("------------------------------"+lastWord);

//              String lastWord = a.substring(a.lastIndexOf(" ")+1);
//              System.out.println("lastword"+lastWord);
            if(a.equals("p"))
            {

            try {  
                email.getText().delete(email.getSelectionEnd() - 1, email.getSelectionStart());  
            } catch (Exception e) {  
                try {  
                    email.getText().delete(email.length() - 1, email.length());  
                } catch (Exception myException) {  
                //textfield.getText().delete(textfield.length(), textfield.length() - 1);  
                }  
            }  
            // Method User For Sort Out THE Words
                                        // in
                                        // The SearchBar
            }
        }

    }); 
```

在这里，当文本更改时，我尝试获取字符串中的最后一个单词，但我没有这样做。使用

> 字符串 a=searchcontact.toString(); System.out.println("铸造的"+a); String[] 部分 = a.split(" "); 字符串 lastWord = parts[parts.length - 1];

得到最后一个字，但它在edittext中打印整个字符串我该怎么做，请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:09:26.573

您可以将 TextWatcher 添加到 EditText 并在每次通知文本时收到通知。使用它，您可以解析字符串以查找空格后的字符，并将它们更新为大写。

这是我做的一个快速测试，效果很好（远非最佳，因为每次编辑 Editable 时它都会再次调用监听器......）。

```
editText.addTextChangedListener(new TextWatcher() {

    @Override
    public void onTextChanged(CharSequence s, int start, int before, int count) {
        // TODO Auto-generated method stub

    }

    @Override
    public void beforeTextChanged(CharSequence s, int start, int count, int after) {
        // TODO Auto-generated method stub

    }

    @Override
    public void afterTextChanged(Editable s) {
        String string = s.toString();
        int index = -1;
        while (((index = string.indexOf(' ', index + 1)) != -1) && (index + 1 < string.length())) {
            // Get character
            char c = string.charAt(index + 1);
            if (Character.isLowerCase(c)) {

                // Replace in editable by uppercase version
                s.replace(index+1, index + 2, Character.toString(c).toUpperCase());
            }
        }
    }
}); 
```

为避免经常被调用，您可以在 char[] 中进行所有更改，并且仅在进行更改时才提交给 Editable。

一个更简单的解决方案可能是在您的字符串上使用 split(' ')，将 String[] 中的所有首字母替换为大写版本（如果需要），并且只提交一次到 Editable。

更简单的优化是在匿名类中添加一个布尔值，将其设置为在输入 afterTextChanged 时尝试，在退出时将其设置回 false，并且仅在布尔值为 false 时处理字符串。

# c# - 在 C# 方法中检查资源参数

> ID：13025151
> 
> 赞同：0
> 
> 时间：2012-10-23T07:04:25.853
> 
> 标签：c#, .net, embedded-resource

我想这看起来有点愚蠢，但我正在尝试找到一种简单的方法来做到这一点。

我在不同的文件中有一堆 SQL 脚本，我已将它们作为文本文件资源添加到我的 .net 项目中。我将这些资源字符串中的每一个都传递给一个`ExecuteScript`方法，该方法借助预定义的连接字符串在数据库中执行脚本。它是这样的：

```
ExecuteScript(Resources.Script1);
ExecuteScript(Resources.Script2);
ExecuteScript(Resources.Script3);

private void ExecuteScript(string script)
{
    connectionString = // Get connection string from config file
    // Rest of the code to execute the script.
} 
```

现在，当我想为不同的脚本使用不同的连接字符串时，问题就出现了。例如：我想使用 connectionString1 来执行`Resources.Script1`，connectionString2来执行`Resources.Script2`.

我如何在我的`ExecuteScript`方法本身中做到这一点？有没有办法在进入方法后找到资源的名称？还是我应该明确定义单独的连接字符串？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:15:15.697

您可以使用更复杂的类型作为参数。

```
ExecuteScript(Resources.Script1); 
ExecuteScript(Resources.Script2); 
ExecuteScript(Resources.Script3);  

private void ExecuteScript(ScriptContext scriptContrxt) 
{     
    connectionString = // Get connection string from config file     
    // Rest of the code to execute the script. 
} 
```

定义一个`ScriptContext`具有两个属性的新类，如下所示：

```
public class ScriptContext
{
     // may be create a constructor and make the setter private.
     public string script { get; set; }
     public ConnectionString ConnectionString { get; set; }
} 
```

比您可以为每个脚本使用另一个连接字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:21:08.737

除非资源名称或 connectionString 包含在脚本中，否则您无法实现此目的。
我会去做这样的事情：

```
ExecuteScript(Resources.Script1, Resources.ConnectionString1); 
```

或者，作为替代方案：

```
private void ExecuteScript(int index)
{
    var connectionString = Resources.ResourceManager.GetString(string.Format("ConnectionString{0}",index));
    var script = Resources.ResourceManager.GetString(string.Format("Script{0}",index));
// Rest of the code to execute the script.
} 
```

# http - 网页http post检查工具

> ID：13025152
> 
> 赞同：0
> 
> 时间：2012-10-23T07:04:32.050
> 
> 标签：http, post, get

我的任务是保护一个网络项目。而且代码很乱。基本上我需要专注于使用 http GET 的网页并进行适当的验证或转换为 http POST。

是否有在 linux 上运行的免费工具可以搜索并生成报告？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:25:01.200

据我所知，没有工具会生成这样的报告。你可以做什么，使用名为[Fiddler](http://www.fiddler2.com/fiddler2/)的工具（仅限 Windows）拦截获取和发布请求，它将列出所有进出的请求和响应的浏览器。

1.  安装提琴手，启动它。
2.  访问应用程序
3.  浏览应用程序并检查 Fiddler 界面。
4.  它将列出所有 GET 和 POST 数据
5.  您可以通过检查这些数据来生成报告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:08:54.977

一个 Web 应用程序发出哪些 http get requets 的报告？

那么，一个简单的网络嗅探器怎么样，比如`tcpdump`or `wireshark`？列出您提出的每个请求。您可以使用简单的 cli 处理工具（如 grep 和 sed）来处理转储。

# algorithm - 为什么在 heapify 中 siftDown 比 siftUp 好？

> ID：13025163
> 
> 赞同：16
> 
> 时间：2012-10-23T07:05:24.560
> 
> 标签：algorithm, complexity-theory

要构建一个 MAX 堆树，我们可以`siftDown`或`siftUp`，通过从根开始筛选并将其与它的两个孩子进行比较，然后用两个孩子中较大的元素替换它，如果两个孩子都较小，则停止，否则，我们继续向下筛选该元素，直到到达叶节点（或者当然再次，直到该元素大于其两个子节点）。

现在我们只需要这样做`n/2`，因为叶子的数量是`n/2`，并且当我们在最后一层（叶子之前）上完成对最后一个元素的堆化时，叶子将满足堆属性 - 所以我们将剩下`n/2`要堆积的元素。

现在，如果我们使用`siftUp`，我们将从叶子开始，最终我们需要将所有`n`元素堆起来。

我的问题是：当我们使用时`siftDown`，我们基本上不是在进行两次比较（将元素与其两个子元素进行比较），而不是在使用时仅进行一次比较`siftUp`，因为我们只将该元素与其一个父元素进行比较？如果是，那是否意味着我们将复杂性加倍并最终得到与筛选相同的复杂性？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-10-23T08:09:31.683

实际上，通过重复调用 of 构建堆`siftDown`的复杂度为 ，`O(n)`而通过重复调用 of 构建堆`siftUp`的复杂度为`O(nlogn)`.

这是因为当你使用`siftDown`时，每次调用所花费的时间**随着节点的深度而减少**，因为这些节点更靠近叶子。当您使用`siftUp`时，交换的数量会随着节点的深度而**增加**，因为如果您处于全深度，则可能必须一直交换到根。随着节点的数量随着树的深度呈指数增长，使用`siftUp`给出了更昂贵的算法。

此外，如果您使用 Max-heap 进行某种排序，您会弹出堆的最大元素，然后重新堆化它，使用`siftDown`. 您可以`O(logn)`通过弹出最大元素，将最后一个元素放在根节点（因为您弹出它是空的）然后将它一直筛选到正确的位置来及时重新堆放。

# wxwidgets - 如何在 wxScrolledWindow 中缩小包装图像

> ID：13025164
> 
> 赞同：0
> 
> 时间：2012-10-23T07:05:28.880
> 
> 标签：wxwidgets

我有一个框架，顶部有一些东西，下面有一个 wxScrolledWindow。滚动窗口包含用户选择的图像。我希望框架收缩包装，以便背景永远不会显示在滚动窗口中。我在框架中使用 BoxSizer。一切正常，直到用户拖动边框以增加查看区域。他走得太远了，背景显示。我已经尝试了至少十几种方法，但是当用户将边框拖到滚动条消失的位置之外时，我无法让窗口的边框恢复原状。加载图像时，滚动窗口使用正确的数字调用 SetMaxClientSize()，但没有任何效果。几张照片会有所帮助。我刚刚把右边的边框拖到右边，增加了查看区域。这是它的样子：

![在此处输入图像描述](../Images/3e28ced36f7ea95f181bc476a551bf5c.png)

我希望边框回弹，所以它看起来像这样：

![在此处输入图像描述](../Images/8772d6dbd8eafd7bb99164d40f67a086.png)

Windows 7 x64，wxWidgets 2.9.4

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T11:57:22.843

重新实现 size 事件处理程序。如果新尺寸比您想要的大，请将其修改为您接受的最大尺寸。然后调用基本实现。

```
void MyFrame::OnSize(wxSizeEvent& event)
{
    wxSize new_size = event.GetSize()

    wxSize max_size = ... calculate max size ....

    if ( new_size.GetHeight() > max_size.GetHeight() {
        new_size.SetHeight(  max_size.GetHeight() );
    if ( new_size.GetWidth() > max_size.GetWidth() {
        new_size.SetWidth(  max_size.GetWidth() );

    event.SetSize( new_size );
    wxFrame::OnSize( event ); 
```

另外，请注意文档中的此注释：

> 重要提示：Sizer（请参阅 Sizer 概述）依赖于 size 事件才能正常运行。因此，在基于 sizer 的布局中，不要忘记在您捕获的所有 size 事件上调用 Skip（并且在您不需要时根本不要捕获 size 事件）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-26T19:50:51.140

Ravenspoint 的答案似乎不起作用（使用 wxWidgets 3.0.3 或 2.8.12）。即使按照您的建议减小和传播事件大小，框架的大小也会调整得比期望的大。这是一个例子： [![在此处输入图像描述](../Images/9e8397196b971fd1b948a628a0c4ac0d.png)](https://i.stack.imgur.com/jEzsz.png)

# redis - redis 可以禁用流水线命令的回复吗？

> ID：13025165
> 
> 赞同：5
> 
> 时间：2012-10-23T07:05:30.330
> 
> 标签：redis, pipeline, reply

我目前正在开发一个缓存，需要为每个调用增加几百个计数器，如下所示：

```
redis.pipelined do
  keys.each{ |key| redis.incr key }
end 
```

现在在我的分析中，我看到我不需要的回复仍然由 redis gem 收集，浪费了一些宝贵的时间。我可以以某种方式告诉redis我对回复不感兴趣吗？有没有更好的方法来增加很多值。

例如，我没有找到`MINCR`命令..

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T11:51:06.307

是的……至少在 2.6 中。您可以在 LUA 脚本中执行此操作，并且只需让 LUA 脚本返回一个空结果。这里使用的是 bookleeve 客户端：

```
const int DB = 0; // any database number
// prime some initial values
conn.Keys.Remove(DB, new[] {"a", "b", "c"});
conn.Strings.Increment(DB, "b");
conn.Strings.Increment(DB, "c");
conn.Strings.Increment(DB, "c");

// run the script, passing "a", "b", "c", "c" to
// increment a & b by 1, c twice
var result = conn.Scripting.Eval(DB,
    @"for i,key in ipairs(KEYS) do redis.call('incr', key) end",
    new[] { "a", "b", "c", "c"}, // <== aka "KEYS" in the script
    null); // <== aka "ARGV" in the script

// check the incremented values
var a = conn.Strings.GetInt64(DB, "a");
var b = conn.Strings.GetInt64(DB, "b");
var c = conn.Strings.GetInt64(DB, "c");

Assert.IsNull(conn.Wait(result), "result");
Assert.AreEqual(1, conn.Wait(a), "a");
Assert.AreEqual(2, conn.Wait(b), "b");
Assert.AreEqual(4, conn.Wait(c), "c"); 
```

或者用 做同样的事情`incrby`，将“by”数字作为参数传递，将中间部分更改为：

```
// run the script, passing "a", "b", "c" and 1, 1, 2
// increment a & b by 1, c twice
var result = conn.Scripting.Eval(DB,
    @"for i,key in ipairs(KEYS) do redis.call('incrby', key, ARGV[i]) end",
    new[] { "a", "b", "c" }, // <== aka "KEYS" in the script
    new object[] { 1, 1, 2 }); // <== aka "ARGV" in the script 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:40:29.780

不，这是不可能的。没有办法告诉 Redis 不回复。

避免在某些时候同步等待回复的唯一方法是运行完全异步的客户端（如 node.js 或异步模式下的hiredis）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-01-12T13:37:44.403

Redis 3.2 版明确支持这一点：

[https://redis.io/commands/client-reply](https://redis.io/commands/client-reply)

CLIENT REPLY 命令控制服务器是否会回复客户端的命令。可以使用以下模式： ON。这是服务器对每个命令都返回回复的默认模式。离开。在这种模式下，服务器不会回复客户端命令。跳过。此模式会跳过命令的回复。

返回值 当使用 OFF 或 SKIP 子命令调用时，不做出响应。使用 ON 调用时：简单字符串回复：OK。

# ios6 - 从应用程序创建许多通行证 - iphone passbook

> ID：13025166
> 
> 赞同：0
> 
> 时间：2012-10-23T07:05:35.710
> 
> 标签：ios6, passbook

**情况 ：**

我有一个应用程序，当用户达到某个分数说“x”时，我必须发出礼品卡之类的东西。
我想在用户达到分数“x”时创建一个带有唯一二维码的优惠券，以便他可以在他的 iPhone 上下载并使用它。一旦使用，该杯应作废。这适用于使用该应用程序的任何用户。这意味着一旦达到分数就会创建优惠券，并在使用后将其删除或失效。

**问题 ：**

每次任何用户达到分数时，我都无法弄清楚如何创建一个杯子。当然，我确实浏览了很多文档和链接，例如[http://www.raywenderlich.com/20734/beginning-passbook-part-1](http://www.raywenderlich.com/20734/beginning-passbook-part-1)。我也尝试使用 pass-source，但有效帐户要求您至少支付 8 美元。

正如 raywenderlich 教程中所建议的那样，我可以创建通行证，但不是通过应用程序创建的。

此外，我没有看到任何方法可以在用户使用他发行的优惠券时通知我们，以便我们可以使其无效。

我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T23:45:50.763

“使用”优惠券上的二维码意味着它被其他东西扫描。其他人必须负责将活动报告给您，因此您可以在数据库中使用“过期”标志更新通行证，重新签名并重建通行证，发出推送通知以便最终更新在设备上。您可能还希望扫描仪在接受之前与您核对代码是否有效。所以，是的，不是苹果的问题。

# android - 如何在android中动态创建的按钮之间添加空间

> ID：13025171
> 
> 赞同：0
> 
> 时间：2012-10-23T07:05:48.333
> 
> 标签：android, button, spaces

我已经动态创建了很多按钮。如何在两个按钮之间添加空格。请帮我。提前致谢

**我的代码：**

```
private LinearLayout LLDynamic;

 private RelativeLayout.LayoutParams ParaOne;

ParaOne = new RelativeLayout.LayoutParams(280, 30);

Button button1= new Button(Twindo_fromEditGroup.this);
button1.setTextSize(16);

LLDynamic = new LinearLayout(Twindo_fromEditGroup.this); 
LLDynamic.setOrientation(LinearLayout.VERTICAL);
LLDynamic.addView(button1,ParaOne); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T07:13:33.497

在此处使用 LayoutParams [Study 进行 LinearLayout](http://developer.android.com/reference/android/widget/LinearLayout.LayoutParams.html)

您可以使用 RelativeLayout 参数也可以[看到这里](http://developer.android.com/reference/android/widget/RelativeLayout.LayoutParams.html)

然后你可以使用 setMargins()。最后将这些值设置为您动态创建的按钮。我没有发布任何代码。代码示例已在 Nunu 的帖子中给出。

快乐编码:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:12:51.613

```
LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
params.setMargins(10, 0, 0, 0);
params.setLayoutParams(urButton); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:08:32.663

您可以添加边距..例如..

```
Button button1 = new Button(this);
LinearLayout.LayoutParams rel_button1 = new LinearLayout.LayoutParams(buttonWidth, buttonHeight);
rel_button1.setMargins(20, 0, 0, 0);
button1.setLayoutParams(rel_button1); 
```

# c# - 从 Func 转换功能 工作，但对 Func 失败

> ID：13025176
> 
> 赞同：4
> 
> 时间：2012-10-23T07:06:00.280
> 
> 标签：c#, generics, covariance, func, contravariance

我有以下代码：

```
static Func<object, string> s_objToString = (x) => x.ToString();
static Func<string, string> s_stringToString = s_objToString; //compiles
static Func<int, string> s_intToString = s_objToString; //error 
```

第二行编译，但第三行编译失败，出现错误：

> 无法将类型“ `System.Func<object,string>`”隐式转换为“ `System.Func<int,string>`”

**这是为什么？**

我知道，虽然 string 是从 object a派生而`List<string>`不是从 派生的`List<object>`，但是在遗传学`object`中`string`起作用并且失败`object`了`int`，为什么？

好吧，假设我明白为什么；现在的问题是有没有办法解决它（除了定义`MyInt`类来装箱`int`，因为`Func<object,string>`可以`Func<MyInt,string>`工作）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T07:11:20.263

这是因为`Func`被定义为 `Func<in T, out TResult>`，MSDN在[这里](http://msdn.microsoft.com/en-us/library/bb549151.aspx)，所以`T`是与关键字*逆变的*`in`，也就是说，你可以使用你指定的类型或任何派生较少的类型，但请记住，*协变和逆变*不支持*值类型*：

[为什么协变和逆变不支持值类型](https://stackoverflow.com/questions/12454794/why-covariance-and-contravariance-do-not-support-value-type)

因此，它适用于`string`但不适用于`int`. 您可能需要阅读有关*协变和逆变*的更多信息：

[http://msdn.microsoft.com/en-us/library/dd233060.aspx](http://msdn.microsoft.com/en-us/library/dd233060.aspx)

[http://msdn.microsoft.com/en-us/library/dd799517.aspx](http://msdn.microsoft.com/en-us/library/dd799517.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T07:10:45.713

因为 co/contra-variance 不适用于值类型。

请看[这里](http://blogs.msdn.com/b/csharpfaq/archive/2010/02/16/covariance-and-contravariance-faq.aspx)

仅当类型参数是引用类型时才支持变体。值类型不支持方差。
以下也不编译：

```
// int is a value type, so the code doesn't compile.
IEnumerable<Object> objects = new List<int>(); // Compiler error here. 
```

# vmware - 在虚拟机中运行程序

> ID：13025180
> 
> 赞同：1
> 
> 时间：2012-10-23T07:06:06.417
> 
> 标签：vmware, vmware-workstation, vix

我正在使用 VixVM_RunProgramInGuest 在来宾虚拟机中运行可执行文件。如果 EXE 需要提升，则会失败并显示 VIX_E_PROGRAM_NOT_STARTED 错误代码。如果 exe 没有被提升，它工作正常。

我无法弄清楚如何使这项工作。

谢谢

# drupal-7 - 高级用户管理模块中的配置文件字段 - Drupal 7

> ID：13025184
> 
> 赞同：2
> 
> 时间：2012-10-23T07:06:22.683
> 
> 标签：drupal-7, drupal-modules

我正在使用 drupal 7.14 开发一个站点，并且我已经安装了*7.x-3.0-alpha2版本的***高级用户管理**模块。使用这个模块，我可以通过用户名、电子邮件 ID 等过滤掉用户。但除了这些功能之外，我还需要添加配置文件字段（特别是“姓氏”）并根据姓氏过滤掉用户.

 *任何人都知道如何在这个模块中实现配置文件字段？对此的任何解决方案将不胜感激..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T23:44:52.223

在 Drupal 7 中，用户是实体，因此您不需要用于用户管理或配置文件字段的单独模块。

只需将字段添加到用户，就像您将它们添加到内容类型一样，然后构建带有视图的自定义管理仪表板。您可以公开您想要的过滤器（通过您添加给用户的字段）。*

# facebook - oauth 没有在生产中触发 auth/facebook

> ID：13025189
> 
> 赞同：0
> 
> 时间：2012-10-23T07:06:46.257
> 
> 标签：facebook, ruby-on-rails-3, facebook-graph-api, oauth, unicorn

我已经构建了一个带有 facebook 和 twitter 集成的 rails 应用程序，在开发中一切正常，但在进入生产环境后（我已将 fb 上的 url 和 twitter 设置更改为我的站点 url subdomain.domain.com）oauth 不会仅触发. 它指向独角兽玉米文件名并给出无效的 URI 错误。我已经粘贴了下面的错误。任何帮助都非常感谢...

```
URI::InvalidURIError (the scheme http does not accept registry part: unicorn_txt_browser (or bad hostname?)):
  /usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/uri/generic.rb:213:in `initialize'
  /usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/uri/http.rb:84:in `initialize'
  /usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/uri/common.rb:214:in `new'
  /usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/uri/common.rb:214:in `parse'
  /usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/uri/common.rb:747:in `parse'
  omniauth (1.1.1) lib/omniauth/strategy.rb:404:in `full_host'
  omniauth-oauth2 (1.0.3) lib/omniauth/strategies/oauth2.rb:34:in `callback_url'
  omniauth-facebook (1.4.0) lib/omniauth/strategies/facebook.rb:106:in `callback_url'
  omniauth-oauth2 (1.0.3) lib/omniauth/strategies/oauth2.rb:46:in `request_phase'
  omniauth-facebook (1.4.0) lib/omniauth/strategies/facebook.rb:94:in `request_phase'
  omniauth (1.1.1) lib/omniauth/strategy.rb:207:in `request_call'
  omniauth (1.1.1) lib/omniauth/strategy.rb:174:in `call!'
  omniauth (1.1.1) lib/omniauth/strategy.rb:157:in `call'
  omniauth (1.1.1) lib/omniauth/builder.rb:48:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T12:37:18.113

我遇到了问题，在我的 nginx conf 文件中，**代理通行证**是“unicorn_txt_browser”，其中不允许下划线，将其更改为“unicorn-txt-browser”解决了问题....

# html - IE错误？还是我做错了什么？

> ID：13025190
> 
> 赞同：0
> 
> 时间：2012-10-23T07:06:48.703
> 
> 标签：html, css, internet-explorer, firefox

我有以下代码：

**CSS**

```
ul li {
    width: 100%;
    padding 0;
    margin 0;   
}
    ul.step li{
    list-style-image: url(TID05.png);
    background: #5E5E5E;
}

    ul.substep li{
    list-style-image: url(TID07.png);
background: #A6A6A6;
}

table{
table-layout: fixed; 
width: 100%;
}
td.bgImage{
    width:15px;
    background-repeat: no-repeat;
    background-image: url(TID09.png);
} 
```

**HTML**

```
<ul class="step">
<li>1</li>
<ul class="substep">
    <li>1</li>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
    <li>2</li>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
    <li>3</li>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
    <li>4</li>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
    </ul>
</ul> 
```

![浏览器输出](../Images/e25fe150a1cb86264096f498a569384b.png)

我希望在 Internet Explorer 上获得与在 Firefox 上相同的结果。有人可以帮忙吗？我的 HTML 代码有问题吗？或者 Internet Explorer 中是否存在错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:14:39.720

您的 HTML 标记已损坏。当你把东西放在一个列表中时，它应该放在`li`元素里面：

```
<ul class="step">
  <li>1
    <ul class="substep">
      <li>1
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></table>
      </li>
      <li>2
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></table>
      </li>
      <li>3
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></table>
      </li>
      <li>4
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></table>
      </li>
    </ul>
  </li>
</ul> 
```

损坏的 HTML 的典型特征是 htat 浏览器将使用不同的方法来尝试修复标记。一些浏览器倾向于添加更多元素，而其他浏览器倾向于重新排列元素。

提示：使用[W3C HTML Validation Service](http://validator.w3.org/)检查您的代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:10:04.617

`<ul>`只能生`<li>`孩子。你有`<table>`a的孩子`<ul>`和 a 的`<ul>`孩子`<ul>`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-23T07:14:18.693

就像 Alohci 所说，一个很可能的问题是你`table`的 s 中有`ul`s。

这样的事情会更容易接受：

```
<ul class="step">
<li>1
<ul class="substep">
    <li>1
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</td></tr></table>
    </li>
    <li>2
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</td></tr></table>
    </li>
    <li>3
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</td></tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</td></tr></table>
    </li>
    <li>4
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</td></tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</td></tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</td></tr></table>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</td></tr></table>
    </li>
    </ul>
    </li>
</ul> 
```

`td`您还试图用`tr`s 和 a 来关闭一堆 s，`ul`我在`ul`上面也提到过。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-23T07:13:19.327

```
Write your HTML as - 

<ul class="step">
<li>
    <div>1</div>
    <ul class="substep">
    <li>
        <div>1</div>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
    </li>
    <li>
        <div>2</div>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table>
    </li>        

    </ul>
</li>
</ul> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-23T07:16:38.550

您不能使用 li 标签之外的任何标签。

添加 span 标签以使数字作为标题并相应地编写 css。

**HTML**

```
<ul class="step">
    <li><span>1</span></li>
<ul class="substep">
    <li><span>1</span>
        <table><tr><td class="bgImage"></td><td>Lorem</td><td>ipsum</td><td>foo</td><td>bar</tr></tr></table></li>
</ul> 
```

**CSS**

```
ul li {
        width: 100%;
        padding 0;
        margin 0;   
    }
        ul.step li{
        list-style-image: url(TID05.png);
        background: none;
    }
        ul.step li span{
        list-style-image: url(TID05.png);
        background: #5E5E5E; display:block
    }

        ul.substep li{
        list-style-image: url(TID07.png);
    background: none;
    }
       ul.substep li span{
        list-style-image: url(TID07.png);
    background: #A6A6A6; display:block
    }

    table{
    table-layout: fixed; 
    width: 100%;
    }
    td.bgImage{
        width:15px;
        background-repeat: no-repeat;
        background-image: url(TID09.png);
    }​ 
```

**演示** [http://jsfiddle.net/WCqLh/2/](http://jsfiddle.net/WCqLh/2/)

这在 IE 7+ 和 chrome 中给出了相同的结果

# java - 来自 ComboBox 的线程“AWT-EventQueue-0”java.lang.NullPointerException 中的异常

> ID：13025191
> 
> 赞同：0
> 
> 时间：2012-10-23T07:06:50.827
> 
> 标签：java, swing, events, nullpointerexception, awt

今晚我正在做一个课堂作业，我已经编写了大部分程序，但是我有一些顽固的代码，无论我如何调整它都无法正常工作。不过，我可能对特定对象的工作原理没有确切的了解。

所以发生的事情是我有一个对象的 ArrayList，我正在迭代它，从中获取一个特定的变量，并保存到一个新的 ArrayList 中，因为接收对象必须能够根据需要进行更改。

但是，当我尝试返回第二个 ArrayList 时，Eclipse 告诉我类型不正确。我尝试使用它的建议

```
return (String[]) iNames.toArray(); 
```

但这会导致标题中提到的错误。我也尝试将它作为对象数组传回，但是在创建组合框时也会发生同样的事情。

这是我的代码，您要查看的是以下方法：

MenuOperations 中的 guiCInventory，其中创建了 ComboBox 操作中的 Object[] getINames()

您可能还想查看 addSItem 以了解我如何创建 TableValues 的 ArrayList，我从中提取信息以尝试填充 ComboBox。

prg421_w2_IA：

```
import javax.swing.JFrame;

public class prg421_w2_IA
{
    public static void main(String[] args)
{
    GUI mMenu = new GUI();

    //mMenu.setBounds(100, 100, 537, 223);
    //mMenu.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    //mMenu.setVisible(true);
}
} 
```

图形用户界面

```
import java.awt.event.ActionListener;
import javax.swing.*;
import javax.swing.table.DefaultTableModel;

public class GUI extends JFrame
{   
public GUI()
{       
    setBounds(100, 100, 537, 223);
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    getContentPane().setLayout(null);

    mMenu = this;       
    setVisible(true);

    lblTitle = new JLabel("Retail Operations Application V1.0");
    lblTitle.setBounds(10, 0, 169, 14);
    add(lblTitle);

    btnAIS = new JButton("Add Item to Store",null);
    btnAIS.setBounds(392, 31, 119, 23);
    add(btnAIS);

    btnAIC = new JButton("Add Item to Customer Cart",null);
    btnAIC.setBounds(348, 65, 163, 23);
    mMenu.getContentPane().add(btnAIC);

    btnSCC = new JButton("Show Customer Cart",null);
    btnSCC.setBounds(380, 99, 131, 23);
    mMenu.getContentPane().add(btnSCC);

    btnEProgram = new JButton("Exit Program",null);
    btnEProgram.setBounds(418, 133, 93, 23);
    mMenu.getContentPane().add(btnEProgram);

    sp = new JScrollPane();
        sp.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
    sp.setBounds(21, 36, 317, 127);
    mMenu.getContentPane().add(sp);

    txtrInstructions = new JTextArea();
    sp.setViewportView(txtrInstructions);
    txtrInstructions.setEditable(false);
    txtrInstructions.setText("Welcome to the Retail Operations Application.  For instructions on how to use the program continue reading.\r\n\r\nImportant Information:\r\nIn order to use this application in this version you must input the items contained in the store inventory before you can use the other functions of the program.\r\n\r\nAdd Item to Store:\r\nPressing this button opens the store inventory editor where you can create new items and edit existing ones.  Using this twice will overwrite the previous store inventory created.\r\n\r\nAdd Item to Customer Cart:\r\nPressing this button opens the dialog to add an item to a customer's shopping cart.  Using this feature twice will overwright previous customer cart.\r\n\r\nShow Customer Cart:\r\nPressing this button will display a list of the items currently in the customer's shopping cart and allow for calculation of the total cost of the customer's purchase.\r\n\r\nExit Program:\r\nOnce done, press this button to close the program.");
    txtrInstructions.setRows(10);
    txtrInstructions.setWrapStyleWord(true);
    txtrInstructions.setLineWrap(true);

    ButtonHandler handler = new ButtonHandler();

    btnAIS.addActionListener(handler);
    btnAIC.addActionListener(handler);
    btnSCC.addActionListener(handler);
    btnEProgram.addActionListener(handler);
}

//Creates inner-class which detects events as they are sent and enacts the proper methods associated with those events.
class ButtonHandler implements ActionListener
{
    public void actionPerformed(java.awt.event.ActionEvent event)
    {
        if (event.getSource() == btnAIS)
        {
            mOps.guiSInventory();
        }

        else if (event.getSource() == btnAIC)
        {
            mOps.guiCInventory();
        }

        else if (event.getSource() == btnSCC)
        {
            mOps.guiCCheckout();
        }

        else if (event.getSource() == btnEProgram)
        {
            mMenu.dispose();
        }

        else
        {
            JOptionPane.showMessageDialog(null,"An error has occured: Message, " + event.getActionCommand() + ", cannot be resolved.", "ERROR CODE 8",JOptionPane.ERROR_MESSAGE);
        }           
    }
}   

//Global References
MenuOperations mOps = new MenuOperations();
JLabel lblTitle; 
JScrollPane sp;

//Main Menu GUI References
JFrame mMenu;
JButton btnAIS;
JButton btnAIC;
JButton btnSCC;
JButton btnEProgram;
JTextArea txtrInstructions; 
} 
```

菜单操作：

```
import java.awt.event.ActionListener;

import javax.swing.*;
import javax.swing.table.DefaultTableModel;

public class MenuOperations extends JFrame
{

public MenuOperations()
{

}

public void guiSInventory()
{       
    setBounds(100, 100, 537, 390);
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    getContentPane().setLayout(null);

    sInv = this;        
    setVisible(true);

    lblTitle = new JLabel("Store Inventory Editor");
    lblTitle.setBounds(10, 0, 169, 14);
    sInv.getContentPane().add(lblTitle);

    sp = new JScrollPane();
    sp.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
    sp.setBounds(10, 161, 501, 180);
    sInv.getContentPane().add(sp);

    sInventory = new JTable();
    tSModel = new DefaultTableModel();
    sInventory.setModel(tSModel);
    tSModel.setColumnIdentifiers(new String[] {"Item Name", "Department", "Item Price", "Item Sale Price"});

    sInventory.getColumnModel().getColumn(0).setPreferredWidth(163);
    sInventory.getColumnModel().getColumn(1).setPreferredWidth(118);
    sInventory.getColumnModel().getColumn(3).setPreferredWidth(95);
    sp.setViewportView(sInventory);

    txtIName = new JTextField();
    txtIName.setText("Item Name");
    txtIName.setBounds(10, 39, 109, 20);
    sInv.getContentPane().add(txtIName);
    txtIName.setColumns(10);

    cbDept = new JComboBox(sDept);
    cbDept.setToolTipText("Choose a Department");
    cbDept.setBounds(157, 39, 133, 20);
    sInv.getContentPane().add(cbDept);

    txtIPrice = new JTextField();
    txtIPrice.setText("Item Price");
    txtIPrice.setBounds(315, 39, 86, 20);
    sInv.getContentPane().add(txtIPrice);
    txtIPrice.setColumns(10);

    txtISPrice = new JTextField();
    txtISPrice.setText("Item Sale Price");
    txtISPrice.setBounds(425, 39, 86, 20);
    sInv.getContentPane().add(txtISPrice);
    txtISPrice.setColumns(10);

    btnAISI = new JButton("Add Item to Inventory",null);
    btnAISI.setBounds(64, 81, 141, 23);
    sInv.getContentPane().add(btnAISI);

    btnExit = new JButton("Exit",null);
    btnExit.setBounds(315, 81, 89, 23);
    sInv.getContentPane().add(btnExit); 

    ButtonHandler handler = new ButtonHandler();

    btnAISI.addActionListener(handler);
    btnExit.addActionListener(handler);
}

@SuppressWarnings({ "unchecked", "rawtypes" })
public void guiCInventory()
{
    setBounds(100, 100, 537, 339);
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    getContentPane().setLayout(null);

    cInv = this;        
    setVisible(true);

    lblTitle = new JLabel("Store Inventory Editor");
    lblTitle.setBounds(10, 0, 169, 14);
    cInv.getContentPane().add(lblTitle);

    sp = new JScrollPane();
    sp.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
    sp.setBounds(10, 161, 501, 180);
    cInv.getContentPane().add(sp);

    cInventory = new JTable();
    tCModel = new DefaultTableModel();
    cInventory.setModel(tSModel);
    tSModel.setColumnIdentifiers(new String[] {"Item Name", "Department", "Item Price", "Item Sale Price"});

    cInventory.getColumnModel().getColumn(0).setPreferredWidth(163);
    cInventory.getColumnModel().getColumn(1).setPreferredWidth(118);
    cInventory.getColumnModel().getColumn(3).setPreferredWidth(95);
    sp.setViewportView(cInventory);

    Object[] oArray = ops.getINames();
    cbItems = new JComboBox(oArray);
    cbItems.setToolTipText("Choose an Item to Add");
    cbItems.setBounds(10, 39, 133, 20);
    cInv.getContentPane().add(cbItems);

    btnAICI = new JButton("Add Item to Inventory",null);
    btnAICI.setBounds(193, 38, 141, 23);
    cInv.getContentPane().add(btnAICI);

    btnExit2 = new JButton("Exit",null);
    btnExit2.setBounds(411, 38, 89, 23);
    cInv.getContentPane().add(btnExit2);    

    ButtonHandler handler = new ButtonHandler();

    btnAICI.addActionListener(handler);
    btnExit2.addActionListener(handler);
}

public void guiCCheckout()
{

    setBounds(100, 100, 537, 334);
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    getContentPane().setLayout(null);

    cCOut = this;       
    setVisible(true);

    lblTitle = new JLabel("Store Inventory Editor");
    lblTitle.setBounds(10, 0, 169, 14);
    cCOut.getContentPane().add(lblTitle);

    sp = new JScrollPane();
    sp.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
    sp.setBounds(10, 161, 501, 180);
    cCOut.getContentPane().add(sp);

    sp.setViewportView(cInventory);     

    btnCBill = new JButton("Calculate Bill",null);
    btnCBill.setBounds(20, 224, 100, 23);
    cCOut.getContentPane().add(btnCBill);

    txtCBill = new JTextField();
    txtCBill.setText("Calculate Bill");
    txtCBill.setBounds(330, 224, 146, 20);
    cCOut.getContentPane().add(txtCBill);
    txtCBill.setColumns(10);

    btnExit3 = new JButton("Exit",null);
    btnExit3.setBounds(183, 262, 89, 23);
    cCOut.getContentPane().add(btnExit3);

    ButtonHandler handler = new ButtonHandler();

    btnCBill.addActionListener(handler);
    btnExit3.addActionListener(handler);
}

//Creates inner-class which detects events as they are sent and enacts the proper methods associated with those events.
    class ButtonHandler implements ActionListener
    {
        public void actionPerformed(java.awt.event.ActionEvent event)
        {
            if (event.getSource() == btnAISI)
            {           
                //Convert string to float
                f1 = new Float(txtIPrice.getText());
                f2 = new Float(txtISPrice.getText());   

                if (cbDept.getSelectedItem().equals("Appliances"))
                {
                    s2 = "Appliances";          
                }

                else if (obj == Electronics)
                {
                    s2 = "Electronics";
                }

                else if (obj == bBath)
                {
                    s2 = "Bed/Bath";
                }

                else if (obj == Furnishings)
                {
                    s2 = "Furnishings";
                }

                else if (obj == mClothing)
                {
                    s2 = "Men's Clothing";
                }

                else if (obj == wClothing)
                {
                    s2 = "Women's Clothing";
                }

                else if (obj == Landscaping)
                {
                    s2 = "Landscaping";
                }

                else if (obj == Pet)
                {
                    s2 = "Pet";
                }

                ops.addSItem(txtIName.getText(), s2, f1, f2, sInventory, tSModel);
            }

            else if (event.getSource() == btnAICI)
            {
                //Obtain department name
                s1 = (String)cbItems.getSelectedItem();

                ops.addCItem(s1, cInventory, tCModel);
            }

            else if (event.getSource() == btnCBill)
            {
                cTotal = ops.cCBill();

                String.format("%.2f", cTotal) ;

                txtCBill.setText(cTotal.toString());
            }

            else if (event.getSource() == btnExit)
            {
                sInv.dispose();
            }

            else if (event.getSource() ==  btnExit2)
            {
                ops.clearINames();
                cInv.dispose();
            }

            else if (event.getSource() == btnExit3)
            {
                cCOut.dispose();
            }

            else
            {
                JOptionPane.showMessageDialog(null,"An error has occured: Message, " + event.getActionCommand() + ", cannot be resolved.", "ERROR CODE 8",JOptionPane.ERROR_MESSAGE);
            }

        }
    }

//Global References
    Operations ops = new Operations();
    JLabel lblTitle; 
    JScrollPane sp;
    JTextField  txtIName;
    static String[] sDept = {"Appliances","Electronics","Bed/Bath","Furnishings","Men's Clothing","Woman's Clothing","Landscaping","Pet"};
    JTextField  txtIPrice;
    JTextField  txtISPrice;

    //Store Inventory GUI References/Variables
    JFrame      sInv;
    JButton btnAISI;
    JButton btnExit;
    JTable      sInventory;
    JComboBox   cbDept;
    DefaultTableModel tSModel;

    //Customer Inventory GUI References/Variables
    JFrame      cInv;
    JButton     btnAICI;
    JButton     btnExit2;
    JTable      cInventory;
    JComboBox   cbItems;
    DefaultTableModel tCModel;

    //Customer Checkout GUI References
    JFrame cCOut;
    JButton btnCBill;
    JTextField txtCBill;
    JButton btnExit3;

    //btnASIS event method Variables
    Float f1,f2,cTotal;
    Object obj,Appliances,Electronics,bBath,Furnishings,mClothing,wClothing,Landscaping,Pet;
    String s1,s2;

} 
```

操作：

```
import java.util.ArrayList;

import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;

public class Operations
{
public Operations()
{
    //Create Array Lists
    sItems = new ArrayList<TableValues>();
    cItems = new ArrayList<TableValues>();      
}

public void addSItem(String s1, String s2, float f1, float f2, JTable table, DefaultTableModel model)
{
    for (i = 0;;i++)
    {
        if (table.getRowCount() < 0)
        {
            if (table.getModel().getValueAt(i,0).equals(s1))
            {
                JOptionPane.showMessageDialog(null,"Item already exists!","Program Information",JOptionPane.PLAIN_MESSAGE);
                break;
            }           

            else if (i == table.getRowCount())
            {
                sItems.add(new TableValues(s1, s2, f1, f2));
                updateSTable(table, model);
                break;
            }
        }

        else
        {
            sItems.add(new TableValues(s1, s2, f1, f2));
            updateSTable(table, model);
            break;              
        }
    }
}

public void addCItem(String s1, JTable table, DefaultTableModel model)
{
    for (i = 0; i < table.getRowCount()-1; i++)
    {       
        if (sItems.get(i).getIName().equals(s1))
        {
            s2 = sItems.get(i).getDName();
            f1 = sItems.get(i).getIPrice();
            f2 = sItems.get(i).getISPrice();

            cItems.add(new TableValues(s1, s2, f1, f2));
            updateSTable(table, model);
            break;
        }

        else if (i == table.getRowCount() - 1)
        {
            JOptionPane.showMessageDialog(null,"Item Does Not Exist!","Error Code 1",JOptionPane.PLAIN_MESSAGE);
            break;
        }
    }
}

public void updateSTable(JTable table, DefaultTableModel model)
{
    table.removeAll();

    for (TableValues items : sItems)
    {
        f1 = items.getIPrice();
        f2 = items.getISPrice();

        s1 = "" +f1;
        s2 = "" +f2;            

        model.addRow(new String[] {items.getIName(), items.getDName(), s1, s2});
    }

    table.revalidate();
}

public void updateCTable(JTable table, DefaultTableModel model)
{
    table.removeAll();

    for (TableValues items : cItems)
    {
        model.addRow(new Object[] {items.getIName(), items.getDName(), items.getIPrice(), items.getISPrice()});
    }

    table.revalidate();
}

public Object[] getINames()
{
    for (i = 0; i < sItems.size()-1; i++)
    {
        iNames.add(sItems.get(i).getIName());
    }

    return iNames.toArray();
}

public void clearINames()
{
    iNames.clear();
}

public float cCBill()
{
    cTotal = 0.0f;

    for (i = 0; i < cItems.size() -1; i++)
    {
        cTotal += cItems.get(i).getISPrice();
    }

    return cTotal;
}

//Variables
public ArrayList<TableValues> sItems; //Store Items
public ArrayList<TableValues> cItems; //Customer Items
public ArrayList<String>      iNames; //Item Names for combobox
String s1,s2;
float f1,f2,cTotal;
int i;
} 
```

表值：

```
public class TableValues
{
public TableValues(String name, String depart, float price1, float price2)
{
    tvIName = name;
    tvDepartment = depart;
    tvIPrice = price1;
    tvISPrice = price2;
}

public String getIName()
{
    return tvIName;
}

public String getDName()
{
    return tvDepartment;
}

public float getIPrice()
{
    return tvIPrice;
}

public float getISPrice()
{
    return tvISPrice;
}

//Variables
public String    tvIName; //Item name
public String    tvDepartment; //Department name
public float         tvIPrice; //Item price
public float         tvISPrice; //Item sale price
} 
```

这是完整的错误消息：

> GUI$ButtonHandler.actionPerformed(GUI.java:69) 的 MenuOperations.guiCInventory(MenuOperations.java:109) 的 Operations.getINames(Operations.java:106) 的线程“AWT-EventQueue-0”java.lang.NullPointerException 中的异常在 javax.swing.AbstractButton.fireActionPerformed(Unknown Source) at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source) at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source) at javax.swing.DefaultButtonModel.setPressed(Unknown Source)在 javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source) at java.awt.Component.processMouseEvent(Unknown Source) at javax.swing.JComponent.processMouseEvent(Unknown Source) at java.awt.Component.processEvent(Unknown来源）在 java.awt.Container。processEvent(Unknown Source) at java.awt.Component.dispatchEventImpl(Unknown Source) at java.awt.Container.dispatchEventImpl(Unknown Source) at java.awt.Component.dispatchEvent(Unknown Source) at java.awt.LightweightDispatcher.retargetMouseEvent( Unknown Source) at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source) at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source) at java.awt.Container.dispatchEventImpl(Unknown Source) at java.awt.Window.dispatchEventImpl(Unknown Source ) at java.awt.Component.dispatchEvent(Unknown Source) at java.awt.EventQueue.dispatchEventImpl(Unknown Source) at java.awt.EventQueue.access$200(Unknown Source) at java.awt.EventQueue$3.run(Unknown Source ) 在 java.security 的 java.awt.EventQueue$3.run(Unknown Source)。AccessController.doPrivileged(Native Method) at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source) at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source) at java.awt.EventQueue$4.run(Unknown Source) at java.awt .EventQueue$4.run(Unknown Source) at java.security.AccessController.doPrivileged(Native Method) at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source) at java.awt.EventQueue.dispatchEvent(Unknown Source) at java.awt .EventDispatchThread.pumpOneEventForFilters(Unknown Source) at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) at java.awt.EventDispatchThread.pumpEvents(Unknown Source) at java.awt.EventDispatchThread .java.awt.EventDispatchThread.run（未知源）上的 pumpEvents（未知源）

编辑1：

我已经修复了它，尽管采用了一种偷工减料的方法。

getINames 方法现在写成这样：

```
public String getIName(int i)
{
    return sItems.get(i).tvIName;
} 
```

guiCInventory 中的 ComboBox 块现在是这样的：

```
String[] sArray = new String[ops.getSISize()];

    for (int i = 0; i < ops.getSISize(); i++)
    {
        sArray[i] = ops.getIName(i);
    }

    cbItems = new JComboBox(sArray); 
```

现在我只需要让 cInventory 表正常工作就可以了。感谢下面的建议，他们让我明白了我的意思。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:10:34.587

```
public Operations()
{
    //Create Array Lists
    sItems = new ArrayList<TableValues>();
    cItems = new ArrayList<TableValues>();      
} 
```

你也可以在这里初始化 iNames 看看它是否有帮助？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:11:07.643

我认为你还没有初始化你`iNames`声明的 as( `public ArrayList<String> iNames;`)

您没有实例化`iNames`您直接调用`add`它。尝试添加行

`iNames = new ArrayList<String>();`在您的`getINames()`方法中，正如我在下面添加的那样：

```
public Object[] getINames()
{
    iNames = new ArrayList<String>();
    for (i = 0; i < sItems.size()-1; i++)
    {
        iNames.add(sItems.get(i).getIName());
    }

    return iNames.toArray();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:15:36.490

请更新您的构造函数，例如：
`public Operations() { //Create Array Lists sItems = new ArrayList(); cItems = new ArrayList();
iNames = new ArrayList() ; }`

# android - 使虚拟键盘消失

> ID：13025195
> 
> 赞同：1
> 
> 时间：2012-10-23T07:06:54.557
> 
> 标签：android, actionlistener

我正在使用以下代码使虚拟键盘在用户按下回车后消失：

```
nameText.setOnEditorActionListener(new OnEditorActionListener() {

                @Override
                public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {
                    if(event.getKeyCode() == KeyEvent.KEYCODE_ENTER) {
                        EditText nameText=(EditText) findViewById(R.id.nameText);
                        InputMethodManager imm = (InputMethodManager)getSystemService(
                                  Context.INPUT_METHOD_SERVICE);
                            imm.hideSoftInputFromWindow(nameText.getWindowToken(), 0);
                        return true;
                    }
                    return false;
                }
            }); 
```

但是，当我按 Enter 键时，应用程序崩溃了。代码有什么问题

错误日志cat如下：

```
10-23 12:37:15.507: E/AndroidRuntime(2969): FATAL EXCEPTION: main
10-23 12:37:15.507: E/AndroidRuntime(2969): java.lang.ClassCastException: com.olacabs.customer.model.TextViewPlus cannot be cast to android.widget.EditText
10-23 12:37:15.507: E/AndroidRuntime(2969):     at com.olacabs.customer.activity.MyProfileActivity$3.onEditorAction(MyProfileActivity.java:173)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.widget.TextView.doKeyDown(TextView.java:5611)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.widget.TextView.onKeyDown(TextView.java:5503)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.KeyEvent.dispatch(KeyEvent.java:2668)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.View.dispatchKeyEvent(View.java:5527)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1266)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1266)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1266)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1266)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1266)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1266)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1266)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchKeyEvent(PhoneWindow.java:1928)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at com.android.internal.policy.impl.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1388)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.app.Activity.dispatchKeyEvent(Activity.java:2388)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1855)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewRootImpl.deliverKeyEventPostIme(ViewRootImpl.java:3604)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2848)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.os.Looper.loop(Looper.java:154)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at android.app.ActivityThread.main(ActivityThread.java:4974)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at java.lang.reflect.Method.invokeNative(Native Method)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at java.lang.reflect.Method.invoke(Method.java:511)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-23 12:37:15.507: E/AndroidRuntime(2969):     at dalvik.system.NativeStart.main(Native Method)
10-23 12:37:15.527: E/EmbeddedLogger(1613): App crashed! Process: com.olacabs.customer
10-23 12:37:15.527: E/EmbeddedLogger(1613): App crashed! Package: com.olacabs.customer v2001 (2.0.0.1)
10-23 12:37:15.527: E/EmbeddedLogger(1613): Application Label: Ola Cabs
10-23 12:37:17.399: E/InputDispatcher(1613): channel '40e86a78 com.olacabs.customer/com.olacabs.customer.activity.PickUpActivity (server)' ~ Channel is unrecoverably broken and will be disposed!
10-23 12:37:17.419: E/InputDispatcher(1613): channel '416bd7f8 com.olacabs.customer/com.olacabs.customer.activity.MyProfileActivity (server)' ~ Channel is unrecoverably broken and will be disposed!
10-23 12:37:17.429: E/InputDispatcher(1613): channel '418c7898 PopupWindow:4105d7e8 (server)' ~ Channel is unrecoverably broken and will be disposed!
10-23 12:37:17.429: E/InputDispatcher(1613): channel '41c40030 com.olacabs.customer/com.olacabs.customer.activity.MyAccountActivity (server)' ~ Channel is unrecoverably broken and will be disposed!
10-23 12:37:17.579: E/ActivityManager(1613): fail to set top app changed! (2)
10-23 12:37:17.579: E/ActivityManager(1613): java.lang.NullPointerException
10-23 12:37:17.579: E/ActivityManager(1613):    at com.android.server.am.ActivityManagerService.handleTopAppChanged(ActivityManagerService.java:15869)
10-23 12:37:17.579: E/ActivityManager(1613):    at com.android.server.am.ActivityManagerService.updateOomAdjLocked(ActivityManagerService.java:15319)
10-23 12:37:17.579: E/ActivityManager(1613):    at com.android.server.am.ActivityManagerService.updateLruProcessInternalLocked(ActivityManagerService.java:1942)
10-23 12:37:17.579: E/ActivityManager(1613):    at com.android.server.am.ActivityManagerService.updateLruProcessLocked(ActivityManagerService.java:1949)
10-23 12:37:17.579: E/ActivityManager(1613):    at com.android.server.am.ActivityStack.realStartActivityLocked(ActivityStack.java:626)
10-23 12:37:17.579: E/ActivityManager(1613):    at com.android.server.am.ActivityManagerService.attachApplicationLocked(ActivityManagerService.java:4285)
10-23 12:37:17.579: E/ActivityManager(1613):    at com.android.server.am.ActivityManagerService.attachApplication(ActivityManagerService.java:4373)
10-23 12:37:17.579: E/ActivityManager(1613):    at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:347)
10-23 12:37:17.579: E/ActivityManager(1613):    at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:1714)
10-23 12:37:17.579: E/ActivityManager(1613):    at android.os.Binder.execTransact(Binder.java:338)
10-23 12:37:17.579: E/ActivityManager(1613):    at dalvik.system.NativeStart.run(Native Method)
10-23 12:37:18.169: E/MapActivity(3867): Couldn't get connection factory client 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:18:27.617

所以你得到 `java.lang.ClassCastException: com.olacabs.customer.model.TextViewPlus cannot be cast to android.widget.EditText`.

这意味着这`EditText nameText=(EditText) findViewById(R.id.nameText);`是错误的。

`findViewById(R.id.nameText)`返回的不是一个，`EditText`而是一个`TextViewPlus`实例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:22:19.190

你的错误是：`java.lang.ClassCastException: com.olacabs.customer.model.TextViewPlus cannot be cast to android.widget.EditText`

你只做一次演员`EditText`：

```
EditText nameText=(EditText) findViewById(R.id.nameText); 
```

`R.id.nameText`可能是 a`com.olacabs.customer.model.TextViewPlus`而不是`EditText`. 所以改变你的演员阵容。

# c# - C#：远程图像大小，无需下载

> ID：13025196
> 
> 赞同：0
> 
> 时间：2012-10-23T07:06:54.537
> 
> 标签：c#

我有一张图片的网址。是否可以在不下载完整图像的情况下找出它的大小（以字节为单位）和尺寸？

**编辑**

```
HttpWebRequest req = (HttpWebRequest)WebRequest.Create(url);
req.Method = "HEAD";
HttpWebResponse resp = (HttpWebResponse)(req.GetResponse());
System.Console.WriteLine(resp.ContentLength); 
```

我已经写了这段代码。无论图像网址如何，它在前两次和第三次都可以正常工作，`WebException`即“操作超时”。我在这里缺少什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:14:09.953

不，这是不可能的。

您可以通过发出`HTTP HEAD`命令（而不是 a ）来获取其大小（以字节为单位`GET`）；这将仅返回 HTTP 标头，省略内容。

图像的 HTTP 标头将返回其大小（以字节为单位）：

```
Content-length: 6372
Content-type: image/jpeg 
```

但不是它的尺寸。

所以你必须做一个`HTTP GET`...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:15:12.573

基本上，是的。如果您知道它是什么类型的图像，例如 png 或 jpg（您也可以从 HTTP 连接的 MIME 类型获取此信息，您可以仅下载标头并从那里读取图像范围。另请参阅此相关问题：

[png、jpg/jpeg、bmp、gif等常见图形格式的表头尺寸是多少？](https://stackoverflow.com/questions/10423942/what-is-the-header-size-of-png-jpg-jpeg-bmp-gif-and-other-common-graphics-for)

# c# - 使用 Google 和 dotnetopenauth 打开 ID - 传递查询字符串

> ID：13025200
> 
> 赞同：2
> 
> 时间：2012-10-23T07:06:58.273
> 
> 标签：c#, dotnetopenauth, google-apps

我有一些代码使用 Google Apps 作为 Open ID 提供程序来对我的基于示例[https://developers.google.com/google-apps/marketplace/tutorial_dotnet](https://developers.google.com/google-apps/marketplace/tutorial_dotnet)的 Web 应用程序进行身份验证。

这一切都按预期工作。但是，当重定向到 Google 登录屏幕时，默认选中“保持登录”复选框。我发现如果我手动将 &rm=false 添加到 URL 的末尾，则未选中该复选框，我认为这是一个更安全的默认选项。

我的问题是，如何在我的代码中传递 &rm=false 。我看过 AddCallbackArguments 但这似乎不是这样做的方法。

代码是

```
 private static readonly HostMetaDiscoveryService GoogleAppsDiscovery = new HostMetaDiscoveryService
    {
        UseGoogleHostedHostMeta = true,
    };
    private static readonly OpenIdRelyingParty relyingParty;

    static login()
    {
        relyingParty = new OpenIdRelyingParty();

        relyingParty.DiscoveryServices.Clear();
        relyingParty.DiscoveryServices.Insert(0, GoogleAppsDiscovery);
    }

    protected void buLogin_Click(object sender, EventArgs e)
    {
        IAuthenticationRequest request = relyingParty.CreateRequest("mydomain");
        request.RedirectToProvider();
    } 
```

# c# - 在 Metro 中找不到 MethodImplOptions.Synchronized

> ID：13025203
> 
> 赞同：1
> 
> 时间：2012-10-23T07:07:17.303
> 
> 标签：c#, windows-8, microsoft-metro

我倾向于通过使用创建一个同步方法

`[MethodImpl(MethodImplOptions.Synchronized)]`

但是，我意识到`MethodImplOptions.Synchronized`在 Metro 中找不到。

因此，什么是等效替换？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:13:31.313

> 因此，什么是等效替换？

`MethodImplOptions.Synchronized`只是这些构造的等价物：

```
lock(this)
{
    InstanceFoo(); // instance method
}

lock(typeof(MyType))
{
    StaticFoo(); // static method
} 
```

你可以使用常规`lock`，但我强烈建议不要锁定`this`and `typeof()`。

# mongodb - Heroku：将本地 MongoDB 存储到 MongoLab

> ID：13025208
> 
> 赞同：2
> 
> 时间：2012-10-23T07:07:42.077
> 
> 标签：mongodb, deployment, heroku, mlab

这可能是一个非常简单的问题，但我仍然想问。我创建了一个 Node.js 应用程序并将其部署在**Heroku**上。我也设置了数据库连接，没有任何麻烦。

但是，我无法将 MongoDB 中的本地数据加载到我在 heroku 上使用的**MongoLab**。我搜索了谷歌并找不到有用的解决方案，所以我最终尝试了这些命令；

```
mongodump 
```

和：

```
mongorestore -h mydburl:mydbport -d mydbname -u myusername -p mypassword --db Collect.1 
```

现在，当我运行命令 mongorestore 时，我收到了错误；

```
ERROR: multiple occurrences

Import BSON files into MongoDB. 
```

当我查看我在本地开发期间指定和使用的 MongoDB 数据库文件时，我看到有文件**Collect.0**、**Collect.1**和**Collect.ns**。现在我知道我的数据库名称是“Collect”，因为当我使用 shell 时，我总是输入“use Collect”。所以我在命令行中将 db 指定为 Collect.1，但我仍然收到相同的错误。我应该删除所有其他收集文件还是有其他方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T08:30:26.107

您不能对原始数据库文件使用“mongorestore”。'mongorestore' 旨在处理由 'mongodump' 生成的转储文件。首先我们使用 'mongodump' 转储您的本地数据库，然后使用 'mongorestore' 恢复该转储文件。

如果您转到数据库的 MongoLab UI 中的工具选项卡，然后单击“导入/导出”，您可以看到每个命令的示例，其中包含正确的数据库参数。

如果您仍然遇到问题，请发送电子邮件至 support@mongolab.com。

-将要

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-03-06T13:08:53.800

这可以通过两个步骤来完成。

1.转储数据库

```
mongodump -d mylocal_db_name -o dump/ 
```

2.恢复数据库

```
mongorestore -h xyz.mongolab.com:12345 -d remote_db_name -u username -p password dump/mylocal_db_name/ 
```

# firefox - .post() 在 IE 和 Chrome 下工作，但在 Firefox 下不工作

> ID：13025212
> 
> 赞同：1
> 
> 时间：2012-10-23T07:07:53.103
> 
> 标签：firefox, jquery

我遇到了以下代码的问题。在 IE 和 Chrome 中发送 POST 变量，但在 FF 下它是空的。我怀疑选择器是 FF 不喜欢的东西，就好像我给出了一个确切的值并且 POST 变量被填充了一样。你能否给我一个提示我做错了什么。

```
$.post(
"index.php?t=wlist&a=insert&ajax=1",
{pid:$(parent.pid).val(), q:$(parent.q).val()} ,
function(result){
    $("#wlist_content").load("index.php?t=wlist&a=view&ajax=1");
}); 
```

需要哪些值的元素：

```
<input type="hidden" id="pid" name="id" value="[:ID:]" />
<input type="text" id="q" name="q" value="1">db</input> 
```

# c++ - C ++中的结构继承与类继承

> ID：13025214
> 
> 赞同：4
> 
> 时间：2012-10-23T07:08:02.110
> 
> 标签：c++, inheritance, struct, memcpy

我刚刚从这个[Q/A](https://stackoverflow.com/questions/979211/struct-inheritance-in-c)中发现结构在 C++ 中是可继承的，但是，这是一种好的做法，还是最好使用类？在哪些情况下是可取的，在哪些情况下不是？

我从来不需要这个，但现在我有一堆不同类型的消息，但经度相同。我将它们以二进制形式存储在 char 数组中，然后使用 memcpy 将它们复制到结构中以填充其字段（我不知道是否可以使用 std::copy 来完成）。

我想能够从具有公共标头的基本结构继承每个结构会很棒，这就是我搜索它的原因。所以第二个问题是：如果我对类执行此操作，是否可以从缓冲区执行 memcpy（或 std:copy）到类？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T07:32:21.623

`struct`是否可以使用按位复制与or标记无关`class`，仅取决于是否表示`struct`or `class` [`is_trivially_copiable`](http://en.cppreference.com/w/cpp/types/is_trivially_copyable)。它们是否在标准（9/6 [类]）中定义，*它基本上归结为不必声明除构造函数之外的任何其他特殊成员方法*。

然后在 3.9/2 [basic.types] 中的标准允许按位复制

> 对于普通可复制 type 的任何对象（基类子对象除外）`T`，无论该对象是否拥有 type 的有效值`T`，构成该对象的底层字节（1.7）都可以复制到`char`or的数组中`unsigned char`。`char`如果or的数组的内容`unsigned char`被复制回对象，则该对象随后应保持其原始值。[*示例：*
> 
> ```
> #define N sizeof(T)
> char buf[N];
> T obj; // obj initialized to its original value
> std::memcpy(buf, &obj, N); // between these two calls to std::memcpy,
>                            // `obj` might be modified
> std::memcpy(&obj, buf, N); // at this point, each subobject of `obj`
>                            // of scalar type holds its original value 
> ```
> 
> *—结束示例*]

*注意：填充字节的按位复制将导致 Valgrind 中的报告。*

使用`std::copy`相同的效果：

```
char const* b = reinterpret_cast<char const*>(&obj);
std::copy(b, b + N, buf); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:10:05.197

`struct`和之间的唯一区别`class`是对其成员的默认访问修饰符。In `struct`it's`public`和 in `class`it's `private`（除非另有说明）。除此之外，在 C++ 中是相同的`struct`。`class`有时，为了便于阅读，PDO（普通数据对象）比类更喜欢结构，但这实际上取决于编码约定。

# android - 查看元素android

> ID：13025218
> 
> 赞同：-1
> 
> 时间：2012-10-23T07:08:19.017
> 
> 标签：android, view, achartengine

我想在另一个 View 元素中显示我使用 AChartEngineLibrary 中的 GraphicalView 创建的图表。我应该这样做，因为我使用另一个视图元素来接收用于更新图表的消息。我不知道如何在视图元素中显示视图元素。有人能帮我吗？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-05T09:04:15.680

```
without third parties like AChartEngineLibrary also we will implement charts. below is the sample code for without third party this is the piechart example

package com.rmn.piechart;

import android.app.Activity;
import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.RectF;
import android.os.Bundle;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.widget.LinearLayout;

public class AndroidPieChartActivity extends Activity {
    /** Called when the activity is first created. */
    float values[]={200,400,200,500,300};

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        LinearLayout linear=(LinearLayout) findViewById(R.id.linear);
        values=calculateData(values);
        MyGraphview graphView = new MyGraphview(this, values);
        graphView.setPadding(50, 30, 35, 0);
        linear.addView(graphView,LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT);

    }
    private float[] calculateData(float[] data) {

        float total=0;
        for(int i=0;i<data.length;i++)
        {
            total+=data[i];
        }
        for(int i=0;i<data.length;i++)
        {
            data[i]=360*(data[i]/total);  
        }
        return data;

    }
    public class MyGraphview extends View
    {
        private Paint paint=new Paint(Paint.ANTI_ALIAS_FLAG);
        private float[] value_degree;
        private int[] COLORS={Color.BLUE,Color.GREEN,Color.GRAY,Color.CYAN,Color.RED};
        RectF rectf = new RectF (10, 10, 200, 200);
        int temp=0;
        public MyGraphview(Context context, float[] values) {
            super(context);
            value_degree=new float[values.length];
            for(int i=0;i<values.length;i++)
            {
                value_degree[i]=values[i];
            }
        }
        @Override
        protected void onDraw(Canvas canvas) {
            super.onDraw(canvas);

            for (int i = 0; i < value_degree.length; i++) {//values2.length; i++) {
                if (i == 0) {
                    paint.setColor(COLORS[i]);
                    canvas.drawArc(rectf, 0, value_degree[i], true, paint);
                } 
                else
                {
                        temp += (int) value_degree[i - 1];
                        paint.setColor(COLORS[i]);
                        canvas.drawArc(rectf, temp, value_degree[i], true, paint);
                }
            }
        }

    }
} 
```

# php - 如何在 PHP 数组中查找重复值？

> ID：13025222
> 
> 赞同：0
> 
> 时间：2012-10-23T07:08:45.873
> 
> 标签：php, arrays

我有一个这样的数组

```
$a=array(0=>1,1=>1,2=>5,3=>5,4=>10) 
```

现在我想找出重复的值并将它们添加到这样的数组中：

```
array_push($arrayOfones,$a['0'],$a['1'];
array_push($arrayOfFive,$a['2'],$a['5']; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:14:20.707

你可以看看[array_count_values](http://php.net/manual/en/function.array-count-values.php)

```
$ret = array_count_values($a);

// get the duplicate values
$ret = array_filter($ret, function ($var) {
  return $var > 1;
});

array_walk($ret, function(&$var, $key) {
  $var = array_fill(0, $var, $key);
});

var_dump($ret); // $ret[1] is $arrayOfOnes, $ret[5] is $arrayOfFive 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:17:39.823

除了count（）之外没有数组函数更简单：

```
foreach($a as $key=>$value){
    $ip[$value][] = $key;
}

foreach($ip as $key=>$inner_arr){  
    if(count($inner_arr) > 1)
    $dup[$key] = $inner_arr ;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T16:42:05.840

```
 $a=array(0=>1,1=>1,2=>5,3=>5,4=>10); 
    $c=0;
    foreach ($a as $key => $row) {

        if (!isset($rs[$row])) {
            $rs[$row][$key]= $key;
             $c = 1;
             $res[$row]['count'] = $c;
             $res[$row]['values'][$key] = $key;
        } 
        else {
            $res[$row]['count']++;
            $res[$row]['values'][$key] = $key;
        }
    } 
```

# asp.net - 访问 SSL 证书的私钥

> ID：13025223
> 
> 赞同：0
> 
> 时间：2012-10-23T07:08:46.797
> 
> 标签：asp.net, security, cryptography, ssl-certificate, wif

从安全的角度来看，是否可以让网络服务访问站点的 SSL 证书私钥？

编辑：为问题添加一些上下文在此[链接](http://msdn.microsoft.com/en-us/library/windowsazure/hh289318.aspx)中，在“使用 RSA 加密 cookie”步骤 4 部分下，代码使用“serviceCertificate”来加密和签署 cookie。此处需要访问证书的私钥。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:17:51.273

如果你的意思是像apache这样的服务......你别无选择。另一种方法是在每次启动时输入密码——但即使这样，软件也可以访问密钥。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:18:33.360

好吧，如果有人设法破解您的 Web 脚本（通过 SQL 注入或其他方式），从而使邪恶的黑客下载了私钥副本，那么该黑客将能够建立假冒您的 SSL 服务器。然而，要想真正成功，黑客还需要注入伪造的 DNS 记录，以便伪造的服务器具有匹配的主机名。

话虽如此，很难不开放对 Web 服务器本身的私钥的访问 - 否则每次重新启动 Web 服务器时都必须输入私钥密码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T21:46:45.947

最安全的做法是不要有任何超出绝对必要的访问权限。访问密钥和私钥在密钥管理中非常重要。为了确保您没有引入漏洞，不要在其用例之外使用私钥也非常重要（例如，SSL 中的身份验证与签名数据不同）。

安全性是关于层的。您可以引入的安全层越多越好，您就越安全。限制访问是非常好的。因此，如果可以避免，请不要将传输层和应用层混为一谈。

在我们公司，我们总是为不同的用途创建单独的证书。我们尝试在不同的服务器上保持 SSL 处理和应用程序处理。应用程序服务器只获取身份验证详细信息。

也就是说，我受雇于一家专注于安全的公司。您显然可以使用不太严格的安全性，但如果您围绕它制定一些经过深思熟虑的安全策略，那将是一件好事。如果您不确定，请聘请顾问。

# apache - 如何每天轮换 apache 日志文件？

> ID：13025226
> 
> 赞同：0
> 
> 时间：2012-10-23T07:08:53.873
> 
> 标签：apache, ubuntu

我对apache很陌生。我们希望每天轮换日志文件。我们使用以下方法安装了 apache2：

```
sudo apt-get install apache2 
```

在 Ubuntu 中。有什么方法可以使用`logrotate`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:28:58.583

在 Ubuntu 中，您无需执行任何操作 - 默认情况下，logrotate 已预先配置为轮换 apache 日志。

您可以在文件中检查和调整 logrotate 配置`/etc/logrotate.d/apache2`

# php - preg_replace()：分隔符不能是字母数字或反斜杠

> ID：13025228
> 
> 赞同：0
> 
> 时间：2012-10-23T07:09:22.217
> 
> 标签：php

```
$test =array('APP_TITLE' =>'ssfss');
update_define($test);

function update_define($arr_con){
    $file='config.php';
    $fileContent= file_get_contents($file);
    $i = 0;
    $define_arr = array();
    $new_value_arr = array();

    foreach ($arr_con as $constant => $vale){
        $line = getLine($constant);

        $define_arr[$i] = $line;
        if(($vale == 'true') || ($vale == 'false')){
            $new_value_arr[$i] = "define('$constant', $vale)";
        }else{
            $new_value_arr[$i] = "define('$constant', '$vale')";
        }
        $i++;
    }
    $modified=preg_replace($define_arr, $new_value_arr, $fileContent);

    file_put_contents($file, $modified);

}

function getLine($string){
    $ret = '';
    $file = fopen("config.php", "r") or exit("Unable to open file!");
    //Output a line of the file until the end is reached
    $i = 0;
    while(!feof($file))
    {
        $i++;
        $line = fgets($file);
        $pos = strpos($line, $string);
        if( $pos !== false ){
            $test =array('APP_TITLE' =>'ssfss');
            update_define($test);

function update_define($arr_con){
    $file='config.php';
    $fileContent= file_get_contents($file);
    $i = 0;
    $define_arr = array();
    $new_value_arr = array();

            foreach ($arr_con as $constant => $vale){
                $line = getLine($constant);

                $define_arr[$i] = $line;
                if(($vale == 'true') || ($vale == 'false')){
                    $new_value_arr[$i] = "define('$constant', $vale)";
                }else{
                    $new_value_arr[$i] = "define('$constant', '$vale')";
                }
                $i++;
                }
                $modified=preg_replace($define_arr, $new_value_arr, $fileContent);

                file_put_contents($file, $modified);

            }

        function getLine($string)
        {

        $ret = '';
            $file = fopen("config.php", "r") or exit("Unable to open file!");
            //Output a line of the file until the end is reached
            $i = 0;
            while(!feof($file))
            {
                $i++;
                $line = fgets($file);
                $pos = strpos($line, $string);
                if( $pos !== false ){
                    //          echo $i.'<br/>';
                    $line = str_replace("define(", "define\(",$line);
                    $line = str_replace(");","\);", $line);
                    $ret= $line;
                }
            }
            fclose($file);
            return $ret;
        }
                $line = str_replace("define(", "define\(",$line);
                    $line = str_replace(");","\);", $line);
                    $ret= $line;
                }
            }
            fclose($file);
            return $ret;
        } 
```

config.php 文件

```
<?PHP
    define ( 'APP_TITLE', 'test com title' ); 
    define('COMPANY_ADDRESS_2', '49 sd d');
    define('COMPANY_ZIPCODE', '2085');
    define('COMPANY_PHONE', '+44 (0)2 8007-5554');
    define('COMPANY_FAX', '+62 (0)2 253-9479');
?> 
```

上面的代码给了我下面的错误

```
Warning: preg_replace(): Delimiter must not be alphanumeric or backslash in /opt/lampp/htdocs/Edit_file/abc.php on line 46
Array ( [0] => define\('APP_TITLE', 'test com title' \); ) /nArray ( [0] => define('APP_TITLE', 'ssfss') ) 
```

我试图使用上面的方法编辑一些 php 文件，但调用 preg_replace() 方法给了我一些错误。请帮助解决这个问题

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:25:22.987

使用`preg_replace`模式时应该分隔，以便解析器知道模式的开始和结束位置。经常使用的分隔符是正斜杠`/`：

```
$a = preg_replace(array("/1/", "/3/"), array("10", "30"), "this is a 1 2 3 test"); 
```

`$a`现在成立`this is a 10 2 30 test`。

您需要做的是用分隔符将您的模式括起来：

```
$define_arr = Array ( [0] => "/define('APP_TITLE', 'some test' )/" );
$new_value_arr = Array ( [0] => "define('APP_TITLE', 'ssfss')" ):

preg_replace($define_arr, $new_value_arr, $fileContent); 
```

那应该行得通。

但请注意，您实际上并不需要数组或`preg_replace`这种简单的替换。改为使用`str_replace`。

# c# - 是否可以在一个赋值语句中将多个方法链接到委托？

> ID：13025240
> 
> 赞同：6
> 
> 时间：2012-10-23T07:10:08.870
> 
> 标签：c#, delegates, chaining

我想将两个（将来可能更多）方法链接到一个委托，只是想知道是否有一种方法可以在一个赋值语句中执行此操作，例如

我有一个委托方法签名定义为

```
public delegate void MaskRequestSection(Request request); 
```

...以及使用此签名的 2 种方法，即...

```
public void MaskCvnSection(Request request)
{
    // do the masking operation
}

public void MaskCardNumberSection(Request request)
{
    // do the masking operation
} 
```

目前，我正在使用以下方法来实例化委托，将 2 个方法链接到它，然后调用它们......

```
private void HideDetailsInRequest(Request request)
{
    MaskRequestSection maskRequestSection = MaskCvnSection;
    maskRequestSection += MaskCardNumberSection;
    maskRequestSection(request);
} 
```

....我只是好奇为什么我不能在下面的一个语句中链接两个代表，

```
MaskRequestSection maskRequestSection = MaskCardNumberSection+ MaskCvnSection; 
```

...但如果有另一种方法可以在一个声明中完成。我无法在 MSDN 上找到任何专门解决此问题的内容，我只是问问自己的好奇心。

提前致谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-23T07:15:57.787

你可以通过演员来做到这一点：

```
var maskRequestSection = (MaskRequestSection) MaskCardNumberSection
       + (MaskRequestSection) MaskCvnSection; 
```

...但是你不能没有一个，因为`+`这里的操作符在委托上工作，而不是方法组。当编译器看到二元`+`运算符时，它必须计算出表达式的类型，而*这*并没有考虑到赋值部分。

# mysql - 如何动态地将行变成列，反之亦然

> ID：13025242
> 
> 赞同：0
> 
> 时间：2012-10-23T07:10:19.697
> 
> 标签：mysql, sql, pivot, dynamic-data

> **可能重复：**
> [选择 MYSQL 行，但将行选择为列，将列选择为行](https://stackoverflow.com/questions/3288014/select-mysql-rows-but-rows-into-columns-and-column-into-rows)

如何显示：

```
╔══════╦════╦════╗
║ Code ║ A  ║ B  ║
╠══════╬════╬════╣
║ xxxx ║ 50 ║ 63 ║
║ yyyy ║ 38 ║ 68 ║
║ .... ║ .. ║ .. ║
╚══════╩════╩════╝ 
```

喜欢这样：

```
╔══════╦══════╦══════╦═════╗
║ Code ║ xxxx ║ yyyy ║ ... ║
╠══════╬══════╬══════╬═════╣
║ A    ║   50 ║   63 ║ ... ║
║ B    ║   38 ║   68 ║ ... ║
╚══════╩══════╩══════╩═════╝ 
```

因为它可能有一些“代码”，如 xxxx、yyyy、zzzz ......
所以，我需要动态显示所有“代码”，而不需要硬编码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T11:19:13.377

不幸的是，MySQL 没有一个`UNPIVOT`or`PIVOT`函数，但是可以使用`UNION ALL`for`UNPIVOT`和一个聚合函数来复制它们，并`CASE`使用`PIVOT`. 如果您知道要转换的值，则可以硬编码，然后类似于以下内容：

```
select col code,
  sum(case when code = 'xxxx' then value end) xxxx,
  sum(case when code = 'xxxx' then value end) yyyy
from
(
  select code, A value, 'A' col
  from table1
  union all
  select code, B value, 'B' col
  from table1
) x
group by col; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/f0990/1)

但是您说您将拥有未知数量的`code`值。如果是这种情况，那么您可以`pivot`对数据使用准备好的语句：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'SUM(case when code = ''',
      code,
      ''' then value end) AS ',
      code
    )
  ) INTO @sql
FROM Table1;

SET @sql = CONCAT('SELECT col as code, ', @sql, ' 
                  FROM
                  (
                    select code, A value, ''A'' col
                    from table1
                    union all
                    select code, B value, ''B'' col
                    from table1
                  ) x
                  GROUP BY col');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!2/abca5/8)。

两者都产生相同的结果：

```
| CODE | XXXX | YYYY |
----------------------
|    A |   50 |   38 |
|    B |   63 |   68 | 
```

# amazon-ec2 - 亚马逊 ec2 micro 的交叉编译

> ID：13025245
> 
> 赞同：0
> 
> 时间：2012-10-23T07:10:31.453
> 
> 标签：amazon-ec2, cmake, cross-compiling, toolchain, wt

我正在尝试在 amazon ec2 micro（免费层）上安装最新的 wt。它在编译期间内存不足。

如何在另一个系统上编译 wt（我有 8gb 内存的 i7 笔记本电脑）？

我希望我可以使用一些选项运行 cmake，并获得一个我需要的所有 gcc 选项的 Makefile，但我找不到如何做到这一点。我的两个系统都是 64 位的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:57:30.963

运行一个临时的 m1.small、c1.medium 或更大的 EC2 实例，在那里进行编译，然后终止该实例。

这些系统将匹配，并且只花费一毛钱或两毛钱。

或者，您可以暂时将 t1.micro 切换到更大的大小，进行编译，然后将其切换回来。

# php - xampp 中的错误，但 wamp 中没有

> ID：13025247
> 
> 赞同：0
> 
> 时间：2012-10-23T07:10:39.897
> 
> 标签：php, mysql, xampp, wamp, web-deployment-project

我已经完成了显示在我的数据库中找到的所有条目的 PHP 并且它有效！！！在 wamp 但是当我用 xampp 在 skul 打开它时..

```
Warning: mysql_num_rows() expects parameter 1 to be resource 
```

我不知道问题是什么，。

```
$connect = mysql_connect('localhost','root','') or die(mysql_error());
$select = mysql_select_db('mis_library',$connect) or die(mysql_error());

$result=mysql_query('SELECT book FROM Catalog') or die(mysql_error());;

$total=mysql_num_rows($result);   <<<<<<<<<<<<<<<THIS PART! ! ! ! ! !

echo "<div style=font-family:calibri;font-size:20px;font-weight:bold;>There are $total Available Entries.</div><br />";
echo "<div style=font-family:calibri;font-size:15px;font-weight:bold;margin-top:-10px;>Select some from the following. . .</div><br />";

echo "<div style=overflow-y:auto;overflow-x:hidden;height:210px; >";
$i=0;
while ($row=mysql_fetch_row($result))
{
    foreach ($row as $field)

    $get=mysql_query("SELECT b_total, b_os FROM catalog WHERE book='$field'");
    $view=mysql_fetch_array($get);
    $i++;
    echo "
    <form id='Entry_view' action='Entry_view.php' method='get' target='area_right' >
    <input type='hidden' id='input$i' name='Entry_view_get' value='$field' />
        <a href='' onClick='submit();standout();' >

        <div id='div' style=background:url('Background/Transparent_8.png')no-repeat;background-size:350px;width:450px;height:30px;float:left;margin-left:5px;margin-top:5px;border-radius:3px;>
            <div style='font-family:calibri;padding-left:5px;padding-top:3px;float:left;size:8px;color:darkgreen;font-weight:bold;margin-top:0px;margin-left:0;border:groove;border-radius:3px;width:340px;height:21px;overflow:hidden; white-space: nowrap; text-overflow:ellipsis;'>
            $field
            </div>
        </a>
            <div style='font-family:calibri; font-size:10px; color:darkgreen; height:25px; font-weight:bold;float:left;margin:2px 0px 0px 2px;' >
            Total Books: ".$view[b_total]." <br />Books on Shelf: ".$view[b_os]."
            </div>
        </div>

    </form>
    ";
}
echo "</div>"; 
```

不要介意我的 div 和表单，这只是我为功能提供的额外细节。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:20:31.327

首先，您的第一行代码有两个结束分号 ( `;`)。这可能会导致您的问题。您遇到的问题实际上与`$result`您在第 1 行定义的值有关，而不是您突出显示的行。

在旁注中，此代码可以替换：

```
echo "
<form id='Entry_view' action='Entry_view.php' method='get' target='area_right' >
yada yada yada
</form>
"; 
```

有了这个，为了让你不必到处使用单引号：

```
echo <<< HTML
<form id="Entry_view" action="Entry_view.php" method="get" target="area_right" >
yada yada yada
</form>
HTML; 
```

我还注意到您在`div`没有将样式属性用双引号括起来的情况下呼应内联样式。我强烈建议避免这种做法，并确保用引号括起你的样式。

# iphone - 在.mm文件上截屏时不给出输出

> ID：13025249
> 
> 赞同：0
> 
> 时间：2012-10-23T07:10:52.097
> 
> 标签：iphone, objective-c, ios

我正在对 .mm 文件进行屏幕截图我使用了以下代码，我尝试了 2 种方式它不起作用。如果我将相同的代码放在我的任何一个 .m 文件中，它的工作原理

```
- (void)viewWillAppear:(BOOL)animated
{
 UIGraphicsBeginImageContext(self.view.bounds.size);
    [self.view.layer renderInContext:UIGraphicsGetCurrentContext()];
    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
    appDelegate.convertedImage=image;
UIGraphicsEndImageContext();
}

         (or)

-(void)viewWillAppear:(BOOL)animated
{
CGSize newSize = CGSizeMake(320, 416);//377
    UIGraphicsBeginImageContext(newSize);
    [self.view.layer renderInContext:UIGraphicsGetCurrentContext()];
    UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();
    appDelegate.convertedImage=viewImage;
} 
```

它不适用于 .mm 是否有其他选择？（我在我的项目中集成了 openCv，我使用了 1 个 .mm 文件）

请指导我

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:33:20.083

viewWillAppear 方法在视图渲染之前调用，所以没有什么可以捕获的。您是否尝试过使用 viewDidAppear 代替？

[一些参考](https://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/RespondingtoDisplay-Notifications/RespondingtoDisplay-Notifications.html)。

# mongodb - 在 Hadoop 中访问 MongoDB？

> ID：13025250
> 
> 赞同：0
> 
> 时间：2012-10-23T07:10:53.323
> 
> 标签：mongodb, hadoop

我使用 MongoDB-Hadoop 插件将 MongoDB 组合到 Hadoop 中。( [http://www.mongodb.org/display/DOCS/Hadoop+Quick+Start](http://www.mongodb.org/display/DOCS/Hadoop+Quick+Start) )

我发现 PHP 可以通过 Thrift 访问 HBase。是否可以使用 PHP 和 Thrift 或任何其他解决方案访问（读/写）MongoDB？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T12:30:12.803

如果你想用 PHP 和 ODM 查询 MongoDB，你应该看看

学说或锂数据映射器

*   教义：[教义信息](http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/index.html)
*   锂：[锂 PHP 库](https://github.com/UnionOfRAD/lithium)

我敢肯定，您可以轻松地使用锂映射器来启动 hadoop 作业和查询 hadoop。

# php - 从 Codeigniter 中的多个选择框中获取值

> ID：13025253
> 
> 赞同：2
> 
> 时间：2012-10-23T07:11:03.227
> 
> 标签：php, codeigniter, select

我有一个多选框：

```
<select name="tar[]" multiple="multiple" style="height:100px;" id="select1">
            <?php foreach($lists as $list){ ?>
            <option value="<?php echo $list['des_id']; ?>"><?php echo $list['designation']; ?></option>
            <?php } ?>

            </select> 
```

在控制器处，我试图获取选定字段的值，但未能获得，我得到的值是 2 或 3。

```
$target = $this->input->post('tar');
                  print_r($target);die; 
```

我做得对吗？请指导我。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T07:16:56.973

我不确定，但试试这个来得到所有的焦油

```
foreach($this->input->post("tar") as $tar){
    echo $tar;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:23:51.803

好吧，我得到了答案...

这是我错了，只是我必须在控制器中定义数组：

```
$target['tar'] = $this->input->post('tar');
print_r($target);die; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-10T14:02:19.663

你也可以使用 Core PHP 风格，因为 Core PHP 是所有框架的顶部：

```
if(isset($_POST['tar'])){
foreach ($_POST['tar'] as $tar_value){
        print "You are selected $tar_value<br/>";
        }
} 
```

# javafx-2 - 在 javafx 2.0 中旋转一条线

> ID：13025259
> 
> 赞同：0
> 
> 时间：2012-10-23T07:11:22.587
> 
> 标签：javafx-2, javafx

如何在 java fx 中旋转线（旋转 360 度）？这里的代码：

```
package javafxapplication1;

import javafx.application.Application;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.paint.Color;
import javafx.scene.shape.Ellipse;
import javafx.scene.shape.EllipseBuilder;
import javafx.scene.shape.LineTo;
import javafx.scene.shape.MoveTo;
import javafx.scene.shape.Path;
import javafx.stage.Stage;
import javafx.scene.transform.Transform;

public class JavaFXApplication1 extends Application { 
  public static void main(String[] args) {
    launch(args);
}

@Override
public void start(Stage primaryStage) {
  Group root = new Group();
  Scene scene = new Scene(root, 800, 600, Color.WHITE);

  Ellipse lingkaran = EllipseBuilder.create()
    .centerX(400)
    .centerY(300)
    .radiusX(210)
    .radiusY(210)   
    .strokeWidth(3)
    .stroke(Color.BLACK)
    .fill(Color.WHITE)
    .build();

  Path path = new Path();
  MoveTo moveTo = new MoveTo();
  moveTo.setX(400);
  moveTo.setY(300);

  LineTo lineTo = new LineTo();
  lineTo.setX(400);
  lineTo.setY(100);

  path.getElements().add(moveTo);
  path.getElements().add(lineTo);
  path.setStrokeWidth(5);
  path.setStroke(Color.BLACK);

  root.getChildren().add(lingkaran);
  root.getChildren().add(path);

  primaryStage.setScene(scene);
  primaryStage.show();
  }
} 
```

我想将线旋转 360 度，但我不知道该怎么做。我一直在谷歌上寻找这个，但我从来没有找到解决方案。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T14:01:40.223

你可以旋转你的圆圈和线条：

```
root.getChildren().add(lingkaran);
root.getChildren().add(path);

RotateTransition rot = RotateTransitionBuilder.create().node(root)
    .byAngle(360).duration(new Duration(3000)).build();
rot.play();

primaryStage.setScene(scene);
primaryStage.show(); 
```

如果您只想旋转线条，请替换`.node(root)`为`.node(path).`. 如果您不想使用动画，您可以设置线条的旋转属性。

# php - 多个选择字段 PHP

> ID：13025262
> 
> 赞同：0
> 
> 时间：2012-10-23T07:11:27.177
> 
> 标签：php, forms, session, post, select

我正在使用 PHP 编写预订脚本，我需要获取它们的值。要明确的是，选择不是多值选择，您可以在一次选择中选择多个值。它只是表单中简单明了的选择字段。问题是我不能确定他们中有多少人以及他们的名字是什么。当我单击提交按钮时，有没有办法在不知道它们有多少以及它们的名字是什么的情况下获取它们的名称和值？我使用一个while循环来打印它们。有人建议我使用会话来实现这一点，但我不确定我将如何实现它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:39:07.687

html 部分传输到页面的 php 部分的所有数据都发送到一个变量（$_GET、$_POST）。哪一个由您用于表单本身的方法定义。变量本身构建为一个数组，其中 fieldname 作为数组元素的键，值（选择字段的选定元素的值，或输入字段的输入值，...）作为数组元素的值.

如果您想解析表单字段中的所有元素，那么您可以使用 foreach （如果您不想解析所有元素，它会变得有点复杂......那么我建议您确保要处理的所有字段都以其名称中的特定“标签”开头，只有他们拥有。例如，c_Field1、c_Field2、Field3、Field4、.. c_ 是标签.. ..然后您可以在键上使用字符串函数（等于字段名），或者您可以使用数组函数来仅获取这些字段）。

以 foreach 为例，如果您想获取以“c_”开头的所有字段：

```
foreach ($_POST as $fieldname => $value)
{
     if (str_replace('c_','',$fieldname)!=$fieldname)
     {
        //field to be processed so use $value
     }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:16:33.110

如果您提交它们，它们就在`POST`变量中（嗯，可能是`GET`，但可能不是）。那东西是一个数组，所以你可以使用所有花哨的数组函数来找出里面的内容

例如： http: [//php.net/manual/en/function.array-keys.php](http://php.net/manual/en/function.array-keys.php)

或者只是一个普通的老`foreach`我猜。

# textpad - 自动突出显示文本板中的选定单词（6.X 版）

> ID：13025265
> 
> 赞同：0
> 
> 时间：2012-10-23T07:11:39.830
> 
> 标签：textpad

![在此处输入图像描述](../Images/51a3d4699a7d1c9f747fa3c25ad74057.png)

大家好

我正在寻找 Textpad 中的一个功能，它将突出显示所选单词的所有出现。这可能对所有情况都不是很有用。但我发现这在 Notepad++ 中非常有趣。

是否有任何选项可以在 Textpad 中实现这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-07T22:40:31.800

在 Textpad6 中可能无法实现。Textpad 社区中存在增强建议请求。

# c++ - 重新定义模板 在 C++ 中

> ID：13025266
> 
> 赞同：7
> 
> 时间：2012-10-23T07:11:46.223
> 
> 标签：c++, templates, header, redefinition

我已经搜索并搜索了我的问题的解决方案，但我似乎找不到一个。我正在使用 Code::Blocks 并且收到模板类的重新定义错误。

这是我的“vectorAux.h”文件：

```
#ifndef vectoraux_h
#define vectoraux_h

#include <vector>
#include <algorithm>
#include <iostream>

template <typename T>
void removeDup(std::vector<T> & v);

template <typename T>
unsigned seqVectSearch(const std::vector<T> & v, unsigned first,
               unsigned last, const T& target);

template <typename T>
void writeVector(const std::vector<T> & v);

#include "vectorAux.cpp"
#endif 
```

这是我的“vectorAux.cpp”文件：

```
#include "vectorAux.h"

#include <vector>
#include <algorithm>
#include <iostream>

template <typename T>
void removeDup(std::vector<T> & v)
{
    std::vector<int> vector1;
    unsigned i, last = v.size();

    for(int j = 0; j <= v.size(); j++)
    {
        std::cout << seqVectSearch(v, j, last, j);
        if(seqVectSearch(v, j, last, j) != v[i])
            vector1.push_back(seqVectSearch(v, j, last, j));
    }
}

template <typename T>
unsigned seqVectSearch(const std::vector<T> & v, unsigned first,
                       unsigned last, const T& target)
{
    unsigned i = first;
    while((v[i] != target) && (v[i] <= last))
    {
        if(v[i] == target)
            return i;
        i++;
    }
    return last;
}

template <typename T>
void writeVector(const std::vector<T> & v)
{
    unsigned i;
    unsigned n = v.size();

    for (i = 0; i < n; i++)
        std::cout << v[i] << ' ';
    std::cout << std::endl;
} 
```

这个程序的最终文件是“vectorDriver.cpp”，但是这个没有错误。这个只是通过调用函数来运行程序：

```
#include "vectorAux.h"
#include <vector>
#include <iostream>

void fillVector(std::vector<int> & vect);

int main()
{
  using namespace std;

  vector<int> vect;

  fillVector(vect);
  cout << "Testing removeDup" << endl;
  cout << "Original vector is  ";
  writeVector(vect);

  removeDup(vect);
  cout << "Vector with duplicates removed is  ";
  writeVector(vect);
  cout << endl;
  writeVector(vect);

  return 0;
}

void fillVector(std::vector<int> & vect)
{
  int arr[] = {1,7,2,7,9,1,2,8,9};
  unsigned arrsize = sizeof(arr)/sizeof(int);

  vect = std::vector<int>(arr, arr+arrsize);
} 
```

我真的很感激任何和所有的帮助/建议！我环顾四周，我发现的每个来源都说要保护头文件，但我已经这样做了，我的问题仍然存在。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T07:16:11.267

您在vectorAux.h 中包含vectorAux.cpp。我猜你也在单独编译vectorAux.cpp。所以你最终编译了vectorAux.cpp中的代码两次。

答案很简单，将vectorAux.cpp中的代码移到vectorAux.h，删除vectorAux.cpp，就不需要了。

模板代码几乎总是放在头文件中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T07:16:32.700

“VectorAux.cpp”的内容应该在“VectorAux.h”中，因为您定义了一个**模板**类。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-23T07:15:37.943

简单的答案是：不应将模板拆分为源文件和头文件。使用模板时将其全部保存在头文件中。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-05-15T05:31:48.930

从项目源文件中删除模板类的 .cpp。您当前正在编译 .cpp 文件两次；一次是因为它在您的项目中，其次是因为您的 .h 包含它。此外，从 .cpp 中删除 .h 包含，您不需要它，因为标题在底部包含 .cpp。这是分离模板类的不幸问题之一。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-05-15T20:13:35.133

该错误发生在`vectorAux.cpp`文件编译期间，因为您包含头文件，而头文件又包含实现文件。这样，您最终会得到 cpp 文件的内容被**复制**。

如果您确实想将模板函数的实现和声明拆分为两个单独的文件，您应该做两件事：

1.  不要在实现文件中包含头文件。
2.  不要将 cpp 文件添加到编译器正在翻译的文件中。

这两个选项中的任何一个都将消除您的编译器错误，但您确实应该两者都做。

# ios - IOS Evernote SDK Public API 是否支持多账户？

> ID：13025267
> 
> 赞同：1
> 
> 时间：2012-10-23T07:11:48.753
> 
> 标签：ios, evernote

IOS Evernote SDK Public API 是否支持多账户？

我可以使用多个 Evernote 会话来保存用户信息吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-07-26T11:41:54.123

您可以使用类别公开身份验证令牌：

```
@interface ENSession(MultiSession)

@property (nonatomic, strong) NSString *primaryAuthenticationToken;

@end 
```

为每个帐户保存令牌后，您可以使用[它](https://stackoverflow.com/a/31582414/588879)来使用保存的令牌进行身份验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:24:00.550

我认为您可以使用多个帐户。只需将开发人员令牌保存在数组中即可。

# iphone - 通过 plist 添加 TimePicker

> ID：13025269
> 
> 赞同：-2
> 
> 时间：2012-10-23T07:11:56.800
> 
> 标签：iphone, objective-c, ios, xcode

有没有办法将 DatePicker 添加到设置中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:25:27.283

抱歉，您无法在 iOS 设置中添加时间选择器。没有使用`settings.bundle root plist`.

请检查[实施 iOS 设置包](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/UserDefaults/Preferences/Preferences.html)

这些是为设置提供的主要选项。

> **文本域**
> 
> 文本字段类型显示一个标题（可选）和一个可编辑的文本字段。您可以将此类型用于需要用户指定自定义字符串值的首选项。
> 
> 这种类型的关键是**PSTextFieldSpecifier**。
> 
> **标题**
> 
> 标题类型显示只读字符串值。您可以使用此类型显示只读首选项值。（如果首选项包含神秘或不直观的值，则此类型允许您将可能的值映射到自定义字符串。）
> 
> 此类型的键是**PSTitleValueSpecifier**。
> 
> **拨动开关**
> 
> 切换开关类型显示 ON/OFF 切换按钮。您可以使用此类型来配置只能具有两个值之一的首选项。尽管您通常使用此类型来表示包含布尔值的首选项，但您也可以将其与包含非布尔值的首选项一起使用。
> 
> 这种类型的关键是**PSToggleSwitchSpecifier**。
> 
> **滑块**
> 
> 滑块类型显示滑块控件。您可以将此类型用于表示一系列值的首选项。此类型的值是一个实数，您可以指定其最小值和最大值。
> 
> 这种类型的关键是**PSSliderSpecifier**。
> 
> **多值**
> 
> 多值类型允许用户从值列表中选择一个值。您可以将此类型用于支持一组互斥值的首选项。这些值可以是任何类型。
> 
> 这种类型的关键是**PSMultiValueSpecifier**。
> 
> **团体**
> 
> 组类型用于在单个页面上组织首选项组。组类型不代表可配置的首选项。它只包含一个标题字符串，该字符串显示在一个或多个可配置首选项之前。
> 
> 这种类型的键是**PSGroupSpecifier**。
> 
> **子窗格**
> 
> 子窗格类型允许用户导航到新的首选项页面。您使用此类型来实现分层首选项。有关如何配置和使用此首选项类型的更多信息，请参阅“分层首选项”。</p>
> 
> 此类型的键是**PSChildPaneSpecifier**。

# windows-7 - 如何在 Windows 7 上从 Inno Setup 安装程序执行“net use”命令？

> ID：13025271
> 
> 赞同：2
> 
> 时间：2012-10-23T07:12:05.020
> 
> 标签：windows-7, inno-setup, uac, net-use

我正在开发一个 Inno Setup 安装程序，它调用`net use`连接到共享服务器。安装程序可以连接到服务器，如果它在 Windows XP 上运行，但不是在 Windows 7 上运行。我认为它与 UAC 有关，因为我键入相同的命令，服务器连接在 Windows 7 上，但安装程序以`admin`特权运行。

我通过或脚本函数使用以下`net use`命令：`Exec``ShellExec`

```
/c net use \\servername password /user:username 
```

实际上，这是显示`net use`命令调用的脚本的一部分：

```
[Code] 
var 
  ErrorCode: Integer; 
  cmdString: String; 
  intvalue: Integer; 
  str: String; 

function InitializeSetup(): Boolean; 
begin 
  cmdString := '/c net use \\servername password /USER:username'; 
  ShellExec('', ExpandConstant('{cmd}'), cmdString , '', SW_SHOWNORMAL, 
    ewWaitUntilTerminated, ErrorCode) 
  if (ErrorCode = 0) then 
  begin 
    MsgBox(ExpandConstant('{cmd}'), mbInformation, MB_OK); 
  end; 
end; 
```

有人可以建议如何`net use`在 Windows 7 上使用 Inno Setup 吗？我们只想连接到服务器并让用户输入名称和密码。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T08:40:50.207

***如何连接到调用凭据对话框的远程资源？***

对您的问题使用不同的观点，实际上正如这个答案的标题所说，我建议您使用带有和标志的[`WNetUseConnection`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa385482%28v=vs.85%29.aspx)函数调用。这将结合空的用户 ID 和密码参数调用凭据对话框（这就是您想要的）。在 Inno Setup 脚本中，它可能如下所示：`CONNECT_INTERACTIVE``CONNECT_PROMPT`

```
[Setup]
AppName=My Program
AppVersion=1.5
DefaultDirName={pf}\My Program

[Code]
#ifdef UNICODE
  #define AW "W"
#else
  #define AW "A"
#endif
const
  NO_ERROR = 0;
  ERROR_ACCESS_DENIED = 5;
  ERROR_BAD_NET_NAME = 67;
  ERROR_ALREADY_ASSIGNED = 85;
  ERROR_INVALID_PASSWORD = 86;
  ERROR_INVALID_PARAMETER = 87;
  ERROR_MORE_DATA = 234;
  ERROR_NO_MORE_ITEMS = 259;
  ERROR_INVALID_ADDRESS = 487;
  ERROR_BAD_DEVICE = 1200;
  ERROR_NO_NET_OR_BAD_PATH = 1203;
  ERROR_BAD_PROVIDER = 1204;
  ERROR_EXTENDED_ERROR = 1208;
  ERROR_NO_NETWORK = 1222;
  ERROR_CANCELLED = 1223;
  RESOURCETYPE_ANY = $00000000;
  RESOURCETYPE_DISK = $00000001;
  RESOURCETYPE_PRINT = $00000002;
  CONNECT_UPDATE_PROFILE = $00000001;
  CONNECT_INTERACTIVE = $00000008;
  CONNECT_PROMPT = $00000010;
  CONNECT_REDIRECT = $00000080;
  CONNECT_COMMANDLINE = $00000800;
  CONNECT_CMD_SAVECRED = $00001000;
type
  TNetResource = record
    dwScope: DWORD;
    dwType: DWORD;
    dwDisplayType: DWORD;
    dwUsage: DWORD;
    lpLocalName: string;
    lpRemoteName: string;
    lpComment: string;
    lpProvider: string;
  end;
  TResourceType = (
    rtAny,
    rtDisk,
    rtPrinter
  );

function WNetUseConnection(hwndOwner: HWND; const lpNetResource: TNetResource;
  lpPassword, lpUserID: string; dwFlags: DWORD; lpAccessName: PAnsiChar;
  var lpBufferSize, lpResult: DWORD): DWORD;
  external 'WNetUseConnection{#AW}@mpr.dll stdcall';

function UseConnection(const ARemoteName: string; 
  AResourceType: TResourceType): DWORD;
var
  BufferSize: DWORD;
  ResultFlag: DWORD;
  NetResource: TNetResource;
begin
  case AResourceType of
    rtAny: NetResource.dwType := RESOURCETYPE_ANY;
    rtDisk: NetResource.dwType := RESOURCETYPE_DISK;
    rtPrinter: NetResource.dwType := RESOURCETYPE_PRINT;
  end;
  NetResource.lpLocalName := '';
  NetResource.lpRemoteName := ARemoteName;
  NetResource.lpProvider := '';  
  BufferSize := 0;
  Result := WNetUseConnection(WizardForm.Handle, NetResource,
    '', '', CONNECT_INTERACTIVE or CONNECT_PROMPT, '',
    BufferSize, ResultFlag); 
end;

procedure UseConnectionButtonClick(Sender: TObject);
var
  S: string;
  ResultCode: DWORD;
begin
  ResultCode := UseConnection('\\MySuperSecret\Place', rtDisk);
  case ResultCode of
    NO_ERROR: S := 'NO_ERROR';
    ERROR_ACCESS_DENIED: S := 'ERROR_ACCESS_DENIED';
    ERROR_ALREADY_ASSIGNED: S := 'ERROR_ALREADY_ASSIGNED';
    ERROR_BAD_DEVICE: S := 'ERROR_BAD_DEVICE';
    ERROR_BAD_NET_NAME: S := 'ERROR_BAD_NET_NAME';
    ERROR_BAD_PROVIDER: S := 'ERROR_BAD_PROVIDER';
    ERROR_CANCELLED: S := 'ERROR_CANCELLED';
    ERROR_EXTENDED_ERROR: S := 'ERROR_EXTENDED_ERROR';
    ERROR_INVALID_ADDRESS: S := 'ERROR_INVALID_ADDRESS';
    ERROR_INVALID_PARAMETER: S := 'ERROR_INVALID_PARAMETER';
    ERROR_MORE_DATA: S := 'ERROR_MORE_DATA';
    ERROR_INVALID_PASSWORD: S := 'ERROR_INVALID_PASSWORD';
    ERROR_NO_MORE_ITEMS: S := 'ERROR_NO_MORE_ITEMS';
    ERROR_NO_NET_OR_BAD_PATH: S := 'ERROR_NO_NET_OR_BAD_PATH';
    ERROR_NO_NETWORK: S := 'ERROR_NO_NETWORK';
  end;
  MsgBox(S, mbInformation, MB_OK);
end;

procedure InitializeWizard;
var
  UseConnectionButton: TNewButton;
begin
  UseConnectionButton := TNewButton.Create(WizardForm);
  UseConnectionButton.Parent := WizardForm;
  UseConnectionButton.Left := 8;
  UseConnectionButton.Top := WizardForm.ClientHeight - UseConnectionButton.Height - 8;
  UseConnectionButton.Width := 155;
  UseConnectionButton.Caption := 'Use connection...';
  UseConnectionButton.OnClick := @UseConnectionButtonClick;
end; 
```

# iphone - Receiver type () 例如消息是 ARC 中的前向声明问题

> ID：13025278
> 
> 赞同：1
> 
> 时间：2012-10-23T07:12:35.480
> 
> 标签：iphone, objective-c, ios, ipad, automatic-ref-counting

我有两个协议 BaseDAO 和 ICategoryDAO。ICategoryDAO 采用 BaseDao。类 categoryDao 采用 ICategoryDao。

下面的代码是 serviceRepo 类（NSObject 的子类）的初始化方法。在这里我执行类型检查等。

```
 - (id)init {
        self = [super init];
        if (self) {
            self.dict  = [NSMutableDictionary new];
            [self.dict setValue:[CategoryDao description] forKey:[NSString stringWithFormat:@"%s",[@protocol(ICategoryDao) name]]];
        }
        return self;
    } 
```

问题是 Xcode 总是弹出错误**Receiver type 'Protocol' 例如 message is a forward declaration** in this call -> `[@protocol(ICategoryDao) name]`。我正在使用**ARC**，它在非 ARC 项目上运行良好。我在互联网上找不到任何解决方案，所以最后我在这里。我该如何解决这个问题，我在这里做错了什么。

这是协议和类的结构；

**基地道**

```
#import <Foundation/Foundation.h>

@protocol BaseDao <NSObject> 
```

**I类别DAO**

```
#import <Foundation/Foundation.h>
#import "BaseDao.h"

@protocol ICategoryDao <BaseDao> 
```

**类别DAO**

```
#import <Foundation/Foundation.h>
#import "ICategoryDao.h"

@interface CategoryDao : NSObject <ICategoryDao> 
```

**服务回购**

```
#import <Foundation/Foundation.h>

@interface ServiceRepository : NSObject 
```

**服务报告.m**

```
#import "ServiceRepository.h"
#import "CategoryDao.h"
#import "BaseDao.h"

@implementation ServiceRepository 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:38:59.033

请尝试以下可能对您有所帮助的代码。

```
[self.dict setValue:[CategoryDao description] forKey:[NSString stringWithFormat:@"%s",NSStringFromProtocol(@protocol(ICategoryDao))]; 
```

**NSProtocolFromString** 返回具有给定名称的协议。

```
Protocol *NSProtocolFromString (
   NSString *namestr
); 
```

**参数**

namestr 协议的名称。

**返回值**

由 namestr 命名的协议对象，如果当前没有加载该名称的协议，则为 nil。如果 namestr 为 nil，则返回 nil。

# c++ - 我们如何使用 boost::mpl 实现 Builder 设计模式？

> ID：13025279
> 
> 赞同：0
> 
> 时间：2012-10-23T07:12:35.213
> 
> 标签：c++, design-patterns, architecture, boost-mpl

我有三个类，它们遵循相同的概念类，但在用于存储的底层数据结构上有所不同。作为一个例子，采取下面给出的三个类。

```
template< typename T >
class A{
  std::vector<T> storage;
  //etc
};

template<>
class A<bool>{
  boost::dynamic_bitset<> storage;
  //etc
};

class B{
   ComplexUDT storage;
   //etc
}; 
```

A 类是使用向量的通用类。为避免使用`vector<bool>`A 类的完全特化，提供了使用`boost::dynamic_bitset<>`作为底层存储的 A 类。最后，B 类使用用户定义的数据类型作为存储。上面的设计导致了代码的大量冗余。为了消除这种冗余，我想到了使用 boost::mpl

```
template< typename T >
class vec_impl{
   std::vector< T >  storage;
   //impl of methods
};

class bitset_impl{
   boost::dynamic_bitset<> storage;
   //impl of methods
 };

 class udt_impl{
    ComplexUDT storage;
    //impl of methods
 };

 template<Derived,Storage>
 class main_class_gen{
     typedef typename boost::mpl::if_<is_complexudt<Storage>,
                                      udt_impl,
                                      typename boost::mpl::if_< is_bool<Storage>,
                                                                bitset_impl,
                                                                vec_impl<Storage> >::type >::type type
 };

 class main_class:
                  public main_class_gen< main_class<Storage>,Storage >::type{
        //impl. of methods
 }; 
```

由于 boost::dynamic_bitset 不为 Container 建模，因此某些类方法的实现与向量类不同。complexUDT 基类与其他两个类非常不同，但确实有一些共同的小代码段。但是当前的重构方法仍然会导致代码冗余。概念类中提到的所有方法都必须在每个实现中实现。

所以我的问题有两个。

1.  我们如何使用 boost::mpl 来实现 Builder 设计模式？
2.  CRTP 在上面的例子中有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T10:07:30.727

如果我正确理解您想要做什么，这可能对您有用：

首先，每个容器都必须实现相同的接口。根据需要创建适配器（例如 ComplexUDT）：

```
struct AdapterUDT {
  typedef double const_reference;
  void push_back( double );
  private: ComplexUDT complexUDT;
}; 
```

虽然通常不建议这样做，但您可以将 dynamic_bitset 子类化以添加/修改功能。请注意，您不能多态地使用它，因为它缺少虚拟析构函数。确保它没有在其他地方使用。

```
struct AdapterBitset : dynamic_bitset<> { // not recommended
  typedef my_biterator iterator;
  AdapterBitset( int n ) : dynamic_bitset(n) {}
  iterator begin();
}; 
```

定义特征以将类型与容器相关联：

```
template<typename T> struct Trait {
  typedef vector<T> type;
};
template<> struct Trait<bool> {
  typedef dynamic_bitset<> type;
}; 
```

创建一个实现 Storage 接口的模板（减去容器）：

```
template<class T, class Derived> struct Base {
  typedef Base<T,Derived> base_t;
  typedef typename Trait<T>::type container_type;
  typedef typename container_type::const_reference const_reference;
  void append( const_reference value ) {
    // static polymorphism to access the standardized containers/adapters
    static_cast<Derived*>(this)->container.push_back(value);
  }
  // etc
}; 
```

由于您需要基于存储类型的构造函数，因此 Storage 模板必须管理实例化：

```
template<class T> struct Storage : Base<T,Storage<T>> {
  friend struct base_t;
  protected: container_type container;
};
// specialize for types with ctor arguments:
template<> struct Storage<bool> : Base<bool,Storage<bool>> {
  friend struct base_t;
  Storage( int bits ) : container(bits) {}
  protected: container_type container;
}; 
```

使用示例：

```
Storage<int> astore; // generic version uses default ctor
astore.append(314);
Storage<bool> bstore(7); // bool specialization requires an int
bstore.append(true); 
```

这应该会减少大部分冗余代码。如果这不是您要查找的内容，我需要一个更具体的示例来说明您希望解决的问题。

# jekyll - 如何在 jekyll 中获取已排序的 tags_list

> ID：13025281
> 
> 赞同：6
> 
> 时间：2012-10-23T07:12:47.400
> 
> 标签：jekyll

我正在使用[jekyll-bootstrap](http://jekyllbootstrap.com/)在 GitHub 上维护一个博客。

我想要一个排序的tags_list。帖子最多的标签排在第一位。然后我可以显示第一个标签的字体大小较大，最后一个标签的字体大小较小。而且我还想要一个拼接功能。

如果在 python/Jinja2 中，我想要一些这样的代码：

```
{% for tag in sorted_tags[:10] %}
  <li style="font-size:{{ tag.count }}px;">{{ tag.name }}</li>
{% endfor %} 
```

ruby/jekyll 中的等效实现是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-06-22T10:35:05.433

这就是我按标签中的帖子数量（降序）排序的方式，**没有任何插件**（即与 GitHub Pages 兼容）。

当您的标签名称包含空格时，它也可以使用；only`,`和`:`是禁止字符（但您可以轻松更改这些字符）。

```
{% capture counts_with_tags_string %}{% for tag in site.tags %}{{ tag[1] | size | prepend:"000000" | slice:-6,6 }}:{{ tag[0] }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
{% assign counts_with_tags = counts_with_tags_string | split:"," | sort | reverse %}

<ol>
  {% for count_with_tag in counts_with_tags %}
    {% assign tag = count_with_tag | split:":" | last %}
    {% assign count = site.tags[tag] | size %}
    <li><a href="/blog/tags/{{ tag | slugify }}">{{ tag }} ({{ count }})</a></li>
  {% endfor %}
</ol> 
```

太恶心了 它能做什么：

*   `counts_with_tags_string`设置为字符串，如`000005:first_tag,000010:second_tag,000002:third_tag`. 零填充数字是使用过滤器链生成的`| prepend:"000000" | slice:-6,6`。
*   这是用逗号分割并按字典顺序排序的，这是因为零填充而起作用的。结果分配给`counts_with_tags`。
*   最后，我们遍历元素并将每个元素拆分`:`以找到原始标签名称。我们可以用同样的方式找到计数，但是因为它是零填充的，所以使用它更容易查找它`site.tags[tag] | size`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-02T02:36:11.287

我只需要在列出标签列表的页面上的一个地方执行此操作，因此我将其编写为 Jekyll 过滤器：

**tag_index.html**

```
<h2>Posts by Tag</h2>

<ul class="tags-list">
  {{ site.tags | render_tags_list }}
</ul> 
```

**_plugins/filters.rb**

```
module Jekyll
  module Filters
    def render_tags_list(tags)
      sorted_tags = tags.keys.sort_by! { |tag| tag.downcase }

      str = ''
      sorted_tags.each { |tag|
        str << '<li>' + tags[tag].size.to_s + ' - <a href="/tag/' + tag + '">' + tag + '</a></li>'
      }

      str
    end
  end
end 
```

`sorted_tags`如果您想在“视图”逻辑和编程逻辑之间保持更好的分离，您当然可以只允许过滤器返回上面，但我的情况非常简单。尝试使用 Liquid 模板通过特定键重新访问哈希值并不是一个非常简洁的过程，或者我可能只是做错了，但在 Ruby 中要容易得多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T21:38:06.443

我认为标签数组已排序。假设是这样，您可以这样做：

```
{% for tag in site.tags %}
    <li style="font-size: {{ tag[1].size }}px">{{ tag[0] }}</li>
{% endfor %} 
```

这感觉有点hacky，但它应该工作。不幸的是，Liquid 目前不允许您在模板中对数组进行排序。如果您想对数组进行任何排序，您可能必须编写一个插件来执行此操作 - 它不应该太复杂。事实上，有一个用于排序访问器的现有插件可以做到这一点：[https ://github.com/krazykylep/Jekyll-Sort](https://github.com/krazykylep/Jekyll-Sort)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-29T19:36:47.553

我在 github 上托管我的博客，并且想要一个解决方案来对**不**涉及任何 jekyll 插件的标签列表进行排序，因为 Github 不允许自定义插件（jekyll bootstrap 也尝试这样做）。我在这里的帖子并没有真正回答这个问题，因为我按标签名称排序，而不是按大小排序。您可以调整此方法以在字符串中输出标签大小，然后进行一些更漂亮的拆分以获得不同的排序顺序（但这会很混乱）

我能够使用以下代码做到这一点：

```
{% capture tagString %}{% for tag in site.tags %}{{ tag[0] }}{% unless forloop.last %}|{% endunless %}{% endfor %}{% endcapture %}
{% assign tags = tagString | split: '|' | sort: 'downcase' %}
<div id="cloud">
  {% for tag in tags %}
  {% assign number = site.tags[tag].size %}
  {% assign slug = tag | downcase | replace: ' ', '_' %}
  <span class="{% if number == 1 %}small{% elsif number <= 5 %}medium{% elsif number <= 10 %}large{% else %}huge{% endif %}">
    <a href="#tag-{{ slug }}">{{ tag | downcase }}</a>
  </span>
  {% endfor %}
</div> 
```

这有点奇怪，因为我捕获了一串标签（`|`用作分隔符）然后用它来创建一个数组。在那之后（在循环中），我可以将标签称为`tag`，并将使用该标签的网站列表称为`site.tags[tag]`.

我在我的博客上使用它： [https ://github.com/kelsin/kelsin.github.io/blob/master/tags/index.html](https://github.com/kelsin/kelsin.github.io/blob/master/tags/index.html)

其余的代码就是我选择在我的标签页面上制作标签云的方式。希望这可以帮助其他人寻找解决方案（没有插件）！

# windows - 如何在 Windows 中运行 WLST？

> ID：13025285
> 
> 赞同：3
> 
> 时间：2012-10-23T07:13:00.233
> 
> 标签：windows, weblogic, wlst

我尝试运行 WLST（在 Windows XP 上），但我总是得到 java.lang.NoClassDefFoundError：

```
Exception in thread "main" java.lang.NoClassDefFoundError: weblogic/wlst
Caused by: java.lang.ClassNotFoundException: weblogic.wlst
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
Could not find the main class: weblogic.wlst.  Program will exit. 
```

我尝试运行 *user_projects/domains/my_domain/bin/setDomainEnv.cmd* 和 *wlserver_10.3/server/bin/setWLSEnv.cmd* 但没有任何成功，当我运行**java weblogic.wlst myscript 时总是得到这个 NoClassDefFoundError。 py**。我该怎么办？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T16:45:26.153

要调用 WLST：

```
<WL_HOME>/common/bin/wlst.cmd myscript.py 
```

例子：

```
C:/Oracle/Middleware/wlserver_10.3/common/bin/wlst.cmd myscript.py 
```

您的错误的原因是，您的环境变量`weblogic.jar`中不存在。`CLASSPATH`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-25T15:42:15.100

每次运行批处理文件时都不需要这样做。

1.  从“我的电脑”或“电脑”（取决于您的 Windows 版本）
2.  单击“属性”或“系统属性”
3.  点击“高级系统设置”
4.  添加这些**用户**环境变量

    ```
    WL_HOME=C:/Oracle/Middleware/wlserver_10.3 
    ```

    和

    ```
    CLASSPATH=.;%WL_HOME%/server/lib/weblogic.jar 
    ```

# android - 通过 photo_ID 显示联系人的照片

> ID：13025290
> 
> 赞同：4
> 
> 时间：2012-10-23T07:13:33.953
> 
> 标签：android, image, contacts, photo

我让用户在我的应用程序中选择一个联系人，并将其显示在主屏幕小部件上，但照片没有显示，我不知道出了什么问题。

这就是我获得照片参考的方式：

```
...
Cursor c = null;
try {
    c = getContentResolver().query(uri, new String[] {
            ContactsContract.CommonDataKinds.Phone.NUMBER,
            ContactsContract.CommonDataKinds.Phone.TYPE,
            ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME,
            ContactsContract.CommonDataKinds.Phone.PHOTO_ID },
            null, null, null);

    if (c != null && c.moveToFirst()) {
        String number = c.getString(0);
        int type = c.getInt(1);
        String name = c.getString(2);
        int photo = c.getInt(3);
        showSelectedNumber(type, number, name, photo);
    }
} 
```

这就是我显示它的方式：

```
public void showSelectedNumber(int type, String number, String name, int photo) {
    mAppWidgetPrefix.setText(name);
    pickedNumber.setText(number);
    pickedPhoto.setImageResource(photo);
} 
```

为什么它不起作用？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-29T09:59:41.643

您正在尝试将`ContactsContract.Data`表中行的 ID 作为资源 ID 设置到`ImageView`. 而且肯定行不通。这甚至没有任何意义。

您应该先从数据库中检索原始照片，然后才能显示它。

例如，您可以使用此代码在指向图像数据的行 ID 的帮助下检索图像位图（我重新创建了一些代码只是为了测试它）：

```
private void queryContactInfo(int rawContactId) {
    Cursor c = getContentResolver().query(
            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,
            new String[] {
                    ContactsContract.CommonDataKinds.Phone.NUMBER,
                    ContactsContract.CommonDataKinds.Phone.TYPE,
                    ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME,
                    ContactsContract.CommonDataKinds.Phone.PHOTO_ID
            }, ContactsContract.Data.RAW_CONTACT_ID + "=?", new String[] { Integer.toString(rawContactId) }, null);
    if (c != null) {
        if (c.moveToFirst()) {
            String number = c.getString(0);
            int type = c.getInt(1);
            String name = c.getString(2);
            int photoId = c.getInt(3);
            Bitmap bitmap = queryContactImage(photoId);
            showSelectedNumber(type, number, name, bitmap);
        }
        c.close();
    }
}

private Bitmap queryContactImage(int imageDataRow) {
    Cursor c = getContentResolver().query(ContactsContract.Data.CONTENT_URI, new String[] {
        ContactsContract.CommonDataKinds.Photo.PHOTO
    }, ContactsContract.Data._ID + "=?", new String[] {
        Integer.toString(imageDataRow)
    }, null);
    byte[] imageBytes = null;
    if (c != null) {
        if (c.moveToFirst()) {
            imageBytes = c.getBlob(0);
        }
        c.close();
    }

    if (imageBytes != null) {
        return BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length); 
    } else {
        return null;
    }
}

public void showSelectedNumber(int type, String number, String name, Bitmap bitmap) {
    mInfoView.setText(type + " " + number + " " + name);
    mImageView.setImageBitmap(bitmap); // null-safe
} 
```

您还可以查看[http://developer.android.com/reference/android/provider/ContactsContract.Contacts.Photo.html](http://developer.android.com/reference/android/provider/ContactsContract.Contacts.Photo.html) 作为获取联系人照片的便捷提供商目录。还有一个例子。

# wpf - 取消 RadRichTextBox 打印方法上的 PrintDialog

> ID：13025293
> 
> 赞同：0
> 
> 时间：2012-10-23T07:13:49.253
> 
> 标签：wpf, printing, telerik

我使用 Telerik WPF RichTextBox，我想在没有任何用户干预的情况下打印它。目前，当您调用该方法时，对话框会打开。

```
 richTextBox.Print("Document", PrintMode.Native); 
```

有办法吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T13:52:46.600

在更高级的版本中有一个解决方案。

[电信论坛](http://www.telerik.com/community/forums/wpf/richtextbox/richtextbox-automatioc-print.aspx)

# sql - 将 nvarchar 转换为 int 时出错

> ID：13025294
> 
> 赞同：0
> 
> 时间：2012-10-23T07:13:53.577
> 
> 标签：sql

我有一个表`#DateDay_temp`，其中有一列`ExtraAdultPrice`type `NVARCHAR(20)`。当我尝试在存储过程中运行此语句时

```
DECLARE @ExtraAdultPAX DECIMAL(10,2)

SELECT 
    @ExtraAdultPAX = SUM(CAST((CASE ISNULL(ExtraAdultPrice, '') 
                                  WHEN '' THEN 0 
                                  ELSE ExtraAdultPrice END) AS DECIMAL(10,2))) 
FROM #DateDay_temp; 
```

当我在`ExtraAdultPrice`" 列中传递值 54.56 时，出现错误

> *将 nvarchar 值“54.56”转换为数据类型 int 时转换失败。*

帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:17:34.527

最有可能发生此错误是因为`0`您的`CASE`语句中有 a ；因此，`CASE`声明的“类型”被确定为`INT`- 这在这里是完全错误的......

试试这个：

```
SELECT 
    @ExtraAdultPAX = SUM(CAST((CASE ISNULL(ExtraAdultPrice, '') 
                                 WHEN '' THEN 0.00   <<== use "0.00" instead of just "0" !!
                                 ELSE ExtraAdultPrice 
                               END) AS DECIMAL(10,2))) 
FROM 
    #DateDay_temp; 
```

现在，一切都应该`DECIMAL(10,2)`并且不应该有任何尝试将您的价值观转换为`INT`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:15:57.463

由于小数点，54.56 不是 int。

# javascript - 使用phonegap将数据从网页粘贴到移动应用程序中的textarea？

> ID：13025302
> 
> 赞同：3
> 
> 时间：2012-10-23T07:14:41.870
> 
> 标签：javascript, jquery, html

我想将 Web 浏览器中的内容粘贴到我的 phonegap 应用程序中的文本区域。我的应用程序有一个 textarea，在输入 textarea 时我应该提供一个选项来粘贴网页中的内容。当我在移动设备中浏览内容时，如果我选择任何数据有一个复制选项，但数据被复制到剪贴板。我想将选定的数据直接粘贴到 textarea 中？

请帮助我

# postgresql - openerp 6中的控制器文件..？

> ID：13025306
> 
> 赞同：0
> 
> 时间：2012-10-23T07:14:55.287
> 
> 标签：postgresql, openerp

几天来，我已经了解了 openerp 结构，我理解，openerp 是 mvc。从教程：

型号：Postgre 表

查看：XML 文件

控制器：OpenERP的对象

让我仍然感到困惑的是，当我试图归档控制器文件的位置时，我在模块 (sale) 中找到了一个文件 sale.py，我认为它是控制器，但是当我检查文件内部时，那里里面也是一个查询..

...

```
def _picked_rate(self, cr, uid, ids, name, arg, context=None):
    if not ids:
        return {}
    res = {}
    for id in ids:
        res[id] = [0.0, 0.0]
    cr.execute('''SELECT
            p.sale_id, sum(m.product_qty), mp.state as mp_state
        FROM
            stock_move m
        LEFT JOIN
            stock_picking p on (p.id=m.picking_id)
        LEFT JOIN
            procurement_order mp on (mp.move_id=m.id)
        WHERE
            p.sale_id IN %s GROUP BY mp.state, p.sale_id''', (tuple(ids),)) 
```

...

正如我从其他框架中知道的那样，关于模型、视图和控制器是分开在不同的文件（CI、Yii 等）中的。那么openerp呢？控制器和模型呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:53:59.163

[Developer book](http://doc.openerp.com/v6.1/developer/02_architecture.html#mvc-architecture)中的 MVC 架构描述告诉您“在 OpenERP 中，我们可以将这种模型-视图-控制器语义应用于”：

*   模型：PostgreSQL 表。
*   view : 视图在 OpenERP 的 XML 文件中定义。
*   controller : OpenERP 的对象。

`sale.py`定义了对象和业务逻辑，所以它是控制器。但是，有时实现代码会绕过ORM，直接访问数据库，通过`execute()`方法运行SQL。这应该是个例外，因为正确的方法是通过 ORM 的[`browse()`](http://doc.openerp.com/v6.1/developer/02_architecture.html#mvcsql)方法。

另请注意，尽管模型组件由 PostgreSQL 表“托管”，但实际上它们是在`.py`文件中定义的。我会说`.py`文件定义了模型和控制器逻辑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T14:35:40.860

OpenERP 可以应用于 The Standard MVC，但 OpenERP 是一个[多租户](http://doc.openerp.com/v6.1/developer/02_architecture.html#technical-architecture)、三层架构。根据框架模型可以通过控制器访问，例如。

```
cr.execute('select partner_id from sale_order where id=%d', (ID,))
partner_id = cr.fetchone()[0] 
```

通过覆盖 fields_view_get 方法，还可以从控制器（.py 文件）（[Doc](http://doc.openerp.com/v6.0/developer/2_5_Objects_Fields_Methods/methods.html)）创建视图

# internet-explorer - IE 删除不应删除的 cookie

> ID：13025307
> 
> 赞同：0
> 
> 时间：2012-10-23T07:15:04.027
> 
> 标签：internet-explorer, cookies

我有 IE8 和 IE9 的问题。我登录到某个网站（站点 A），然后在另一个选项卡上登录到另一个站点（站点 B）。当我从站点 A 注销时，IE 会删除它的 cookie（这是正确的）和站点 B 的登录 cookie，因此我必须再次登录到站点 B。

我需要解决站点 B 的情况。因为我无法更改站点 A。

这个问题并非发生在每个站点 B 上，而仅发生在少数站点上，例如 Gmail。对于其他人来说，它工作得很好。Firefox 也不存在这样的问题。抱歉，很遗憾，我无法提供站点 URL 和登录名/密码，因为它不公开。

谁能知道它是什么？

我将非常感谢任何建议。

PS。我刚刚发现，当我从站点 A 注销时，IE 会删除所有“EXPIRES”字段等于“在会话结束时”的 cookie，不仅来自它自己的域，还来自所有其他域。

有人知道为什么 IE 会这样吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:02:20.897

如果两个网站的 cookie 名称与站点 A 和站点 B 相同，则取决于 cookie 的名称。然后它将删除它。或者两个站点具有相同的域可能是问题。

如果站点来自同一个域，那么它将删除整个域 cookie。

# python - 为什么 os.rename() 在 Python 2.7 中引发异常？

> ID：13025313
> 
> 赞同：3
> 
> 时间：2012-10-23T07:15:23.050
> 
> 标签：python, windows, file, errno

```
print(path)
print(dir_name+"\\"+f_parent+"_"+parts[0]+"_"+date+extension)
os.rename(path, dir_name+"\\"+f_parent+"_"+parts[0]+"_"+date+extension) 
```

第 1 行和第 2 行是调试和语句，这些打印：

```
D:\Doc\Papa\Photos\2012\2012_07_divers\CSC_3709.jpg
D:\Doc\Papa\Photos\2012\2012_07_divers\2012_07_divers_CSC_3709_2012_07_06_21_04_26.jpg 
```

第 3 行加注：

```
File "D:\Doc\Papa\scripts\python\photosort\photosort.py", line 83, in rename
  os.rename(path, dir_name+"\\"+f_parent+"_"+parts[0]+"_"+date+extension)
WindowsError: [Error 183] Impossible de créer un fichier déjà existant 
```

翻译为：

```
 WindowsError: [Error 183] Can not create a file that already exists 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T08:55:53.990

在 Python 3.3+ 上，您可以使用[os.replace()](http://docs.python.org/dev/library/os#os.replace)而不是 os.rename() 来覆盖现有文件并避免 Windows 上的错误。

在较旧的 Python 版本上，您可以`os.replace()`使用 ctypes 模块进行模拟：

```
# MOVEFILE_REPLACE_EXISTING = 0x1; MOVEFILE_WRITE_THROUGH = 0x8
ctypes.windll.kernel32.MoveFileExW(src, dst, 0x1) 
```

看看[`atomicfile.atomic_rename()`](https://github.com/mitsuhiko/python-atomicfile/blob/master/atomicfile.py#L21)在 Windows 上是如何实现的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T07:22:18.097

从[Windows 系统错误代码列表](http://msdn.microsoft.com/en-us/library/windows/desktop/ms681382%28v=vs.85%29.aspx)：

> ERROR_ALREADY_EXISTS
> 
> 183 (0xB7)
> 
> 当该文件已存在时无法创建该文件。

您正在尝试创建一个已经存在的文件。先删除它或选择一个不同的文件名。

作为奖励提示：使用该`os.path.join()`功能正确连接路径：

```
os.path.join(dir_name, '{0}_{1}_{2}{3}'.format(f_parent, parts[0], date, extension)) 
```

我还使用[字符串格式](http://docs.python.org/library/string.html#formatstrings)来创建您的文件名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:21:54.510

您尝试使用的名称已经属于某物。即，已经有一个文件名为：

```
D:\Doc\Papa\Photos\2012\2012_07_divers\2012_07_divers_CSC_3709_2012_07_06_21_04_26.jpg 
```

为您的函数添加检查

# python - vim-jedi 自动完成功能不起作用

> ID：13025318
> 
> 赞同：11
> 
> 时间：2012-10-23T07:15:31.483
> 
> 标签：python, vim, jedi-vim

我刚刚用 vundle 安装了[jedi-vim](https://github.com/davidhalter/jedi-vim)我的 vim 版本是 7.3.429。我安装了绝地 vi pip

每次我点击`.`或`<C-Space>`收到此错误。

```
Omni completion (^O^N^P) Pattern not found 
```

当我在这里搜索此模式时，我找到了使用 vim-jedi 的解决方案。但不幸的是，绝地武士会发生这种情况。

这是一些寄存器的一些输出：

`:set omnifunc`

`omnifunc=jedi#complete`

* * *

`:messages`

```
Messages maintainer: Bram Moolenaar <Bram@vim.org>
"models.py" 31L, 1052C
<emptyline> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-03-11T12:45:07.330

因为这一行在我的 .vimrc 中：

```
autocmd FileType python setlocal omnifunc=pythoncomplete#Complete 
```

很长一段时间我都无法使用绝地。去掉后就OK了。

```
:set omnifunc
omnifunc=jedi#completions 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:34:33.167

IIRC，jedi-vim 在一两周前公开发布。我怀疑你会在它的问题跟踪器之外得到很多帮助。

无论如何，该插件似乎在后台使用了 Vim 的全功能补全，特别是`<C-x><C-o>`快捷方式，在您的情况下，它似乎没有返回任何内容，因为它无法识别`.`.

jedi-vim 不起作用，或者您的代码错误或插件安装错误。

# visual-studio-2010 - Visual Studio 不断请求缺少的 Web 组件

> ID：13025319
> 
> 赞同：4
> 
> 时间：2012-10-23T07:15:31.877
> 
> 标签：visual-studio-2010

当我在 VS 2010 中打开特定的 mvc 3 网站项目时，我收到以下消息：

Web 项目“X”需要缺少 Web 组件才能与 Visual Studio 一起运行。您想现在使用 Web 平台安装程序下载并安装它们吗？具有 Razor 语法的 ASP.NET 网页。

当我点击是

Web 平台安装程序显示需要安装“0”项的消息。

我的其他 mvc 3 项目没有显示这种行为

不是很大的不便，但仍然...

任何想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-02-15T20:23:53.923

重新安装计算机后，我得到了同样的错误。

我得出这个结论，VS 需要 IISExpress 来加载我的附加项目。添加的项目有一个网络服务，它可以在本地运行。即使我的端点指向本地地址，它仍然需要 IISExpress（标准 IIS 7.5 不响应端点请求）才能从 VS（我正在运行 VS2010）打开。

所以在安装 IISExpress 之后，我可以在 VS 中重新加载我的项目。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T18:58:54.673

C。，

这不应该发生，找出原因会很有趣。同时，您应该可以通过取消选中 Visual Studio 的“选项”对话框中的“包还原”复选框来关闭此功能。（在树形视图中选择“包管理器”以找到它。）

如果它只发生在特定项目中，您可以通过删除受影响项目的 packages.config 文件来更彻底地解决这个问题。事实上，如果您想进行根本原因分析，您应该查看该文件存在的原因以及它是如何到达那里的。

HTH，粘土

# sublimetext2 - 为什么 Sublime Text 2 不更新文件夹的修改日期？

> ID：13025324
> 
> 赞同：4
> 
> 时间：2012-10-23T07:15:41.753
> 
> 标签：sublimetext2

这是一个文本文件：test/foo.txt

当我使用 Sublime Text 2 编辑和保存它时，'test' 文件夹的修改日期不会改变。

所以如果我想更新文件夹的日期，需要在终端中运行“touch test/”。它让我发疯。

有什么方法可以自动做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:36:41.230

只有在添加、删除或重命名文件时，才会更新目录的修改时间。更改该目录中文件的内容根本不会触发它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-06T18:28:24.980

您可以在首选项文件中更改它。这称为原子保存。

在您的首选项文件上，将其更改为：

```
"atomic_save": false 
```

这将在您每次保存文件时触及文件。

# crystal-reports - 水晶报表在 x64 上初始化

> ID：13025326
> 
> 赞同：2
> 
> 时间：2012-10-23T07:15:54.603
> 
> 标签：crystal-reports, 64-bit

我有一个可以在 x86 上正常运行的程序。即使在 x64 上，它也可以在带有 Visual Studio 的系统上正常工作。但是在没有 Visual Studio 的 x64 系统上，调用报告时会出现错误。消息异常是：

```
The type initializer for 'CrystalDecisions.CrystalReports.Engine.ReportDocument' threw an exception.
Source:
CrystalDecisions.CrystalReports.Engine
Stack Trace:
   at CrystalDecisions.CrystalReports.Engine.ReportDocument..ctor()
   at CrystalDecisions.CrystalReports.Engine.ReportClass..ctor() 
```

和包含此描述的消息：

```
An error has occurred while attempting to load the Crystal Reports runtime.
Either the Crystal Reports registry key permissions are insufficient or the Crystal Reports runtime is not installed correctly.
Please install the appropriate Crystal Reports redistributable (CRRedist*.msi) containing the correct version of the Crystal Reports runtime (x86, x64, or Itanium) required.  Please go to http://www.businessobjects.com/support for more information. 
```

我的程序基于：

*   .net 框架 4
*   视觉工作室 2012
*   水晶报告 13.0.2

有时安装 CRRuntime_64bit_13_0_2 。

谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T12:42:37.520

一种可能的解决方案

转到您的应用程序项目，右键单击，然后选择“属性”

在 Build 选项卡上，找到 Platform Target 组合框。它可能会说，“任何CPU”。

将此更改为 x86，您的项目将仅编译为 32 位，从而消除了该问题。

# r - R - 在浏览器中获取帮助，而不是内置 R 帮助器

> ID：13025327
> 
> 赞同：7
> 
> 时间：2012-10-23T07:15:54.703
> 
> 标签：r

我已经看到 R 帮助的两种不同行为（`?density`例如，当您键入时）：

*   帮助在您的默认浏览器中打开
*   帮助在内置 R 助手中打开（R 中的窗口）

我目前有第二种行为，但我想在浏览器中打开帮助。我可以以某种方式轻松地在这两种行为之间切换吗？无需重新安装。理想情况下，设置一些 R 选项。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-23T09:07:29.057

```
options(help_type = "html") # open help in browser
options(help_type = "text") # open help internally 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-01-23T00:21:03.780

如果有人在 OSX 中遇到此问题，您可能需要遵循此过程（抱歉，我不记得我在哪里找到的）：

1.  编辑`/Applications/RStudio.app/Contents/Resources/R/Options.R`（例如`nano ...`）

2.  注释掉条目如下：

```
# options(browser = function(url)
# {
# .Call("rs_browseURL", url) ;
# })
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-11T18:29:34.147

您还可以使用 help.start() 函数。然后将控制台中的 URL 粘贴到任何浏览器中，例如，当我运行 help.start() 时，控制台中会显示以下内容：

> help.start() 如果没有任何反应，你应该打开 '<a href="http://127.0.0.1:17741/doc/html/index.html" rel="nofollow noreferrer">http://127.0.0.1 :17741/doc/html/index.html' 你自己

所以我将[http://127.0.0.1:17741/doc/html/index.html](http://127.0.0.1:17741/doc/html/index.html)复制到 Chrome 或 Firefox 中，并在浏览器中享受 R 帮助。

# python - 确保变量的内存位置没有改变

> ID：13025332
> 
> 赞同：0
> 
> 时间：2012-10-23T07:16:07.037
> 
> 标签：python, variables, design-by-contract, memory-address

[这是我之前的问题](https://stackoverflow.com/questions/13021011/referencing-self-in-old-in-pycontract-constraints)的后续

我正在使用[PyContract](http://pypi.python.org/pypi/contract/1.4)（不是[PyContracts](http://pypi.python.org/pypi/PyContracts/1.4.0)）为类方法编写一些约束。作为后置条件，我想确保某个对象的内存地址没有改变，即`id(myObj)`在调用函数之前和之后应该是相同的。我怎样才能用 PyContract 做到这一点？

这就是我现在正在做的事情：

```
def foo(param1, param2)
    """
        # some other constraints
        post[param1, param2]:
            __old__.param1 is param1
            __old__.param2 is param2
    """ 
```

但是，该后置条件失败。我只能想象这是因为`__old__.param1`它没有存储在与 is 相同的内存位置`param1`。这是有道理的，因为 PyContract 需要制作`param1`before执行的副本，以便根据after执行`foo`的值检查其值。`param1``foo`

假设上面的分析是真的，它只是用来解释为什么`id(__old__.param1)`不同`id(param1)`。但是，它仍然没有回答我如何确保`id(param1)`不会因为`foo`. 我怎么能在 PyContract 中检查这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:42:59.353

我不熟悉您正在使用的 PyContract 库，但是您正在测试的实际合同在 Python 中没有多大意义，因为函数参数是通过引用传递的。如果您有如下代码：

```
x = a
y = b
foo(x, y) 
```

`x`然后该函数将接收对由`y`调用范围命名的对象的引用。在函数调用中，您有两个单独的变量，它们使用对这些参数的引用进行了初始化。

所以对函数内部这些变量的更改不会影响调用范围内`x`的绑定。`y`

# php - CodeIgniter / jQuery - 分页 - 无休止的分页

> ID：13025338
> 
> 赞同：4
> 
> 时间：2012-10-23T07:16:36.663
> 
> 标签：php, jquery, codeigniter

我试图将在这里找到的无尽分页 jquery 插件（[https://github.com/jney/jquery.pageless](https://github.com/jney/jquery.pageless)）实现到我的 codeigniter 项目中。

我输入的 jquery 代码与演示页面上的相同

```
$('#results').pageless({ totalPages: 10
, url: '/theurl/index'
, loaderMsg: 'Loading more results'
}); 
```

我的codeigniter控制器中的代码如下

```
 $config['base_url'] = base_url() . 'theurl/index';
    $config['total_rows'] = $this->model->record_count();
    $config['per_page'] = 20;
    $config['uri_segment'] = 3;

    // Init the config
    $this->pagination->initialize( $config );

    // Create pagination
    $page = ($this->uri->segment(3)) ? $this->uri->segment(3) : 0;
    $data['results'] = $this->onyafeet->fetch_results($config['per_page'], $page);
    $data['links'] = $this->pagination->create_links();

    // Load the view and pass through all the data
    $this->load->view('theurl/index', $data); 
```

当我运行代码并到达页面底部时，它确实可以工作，但它也会将输入页面加载到它为结果创建的新 div 中。

任何帮助将不胜感激。

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:39:20.767

也许您应该将结果加载到部分视图中，否则您将再次加载整个页面。创建一个局部视图以加载所有数据，然后将局部视图加载到主页面中：

```
$config['base_url'] = base_url() . 'theurl/index';
$config['total_rows'] = $this->model->record_count();
$config['per_page'] = 20;
$config['uri_segment'] = 3;

// Init the config
$this->pagination->initialize( $config );

// Create pagination
$page = ($this->uri->segment(3)) ? $this->uri->segment(3) : 0;
$data['results'] = $this->onyafeet->fetch_results($config['per_page'], $page);
$data['links'] = $this->pagination->create_links();
// AJAX load: 
if ($this->input->is_ajax_request) {
    $this->load->view('theurl/partial/ajax_partial',$data);
}
else {
    // Load the view and pass through all the data
    $this->load->view('theurl/index', $data);
} 
```

我认为使用这种方法应该可以工作，部分视图必须只有您想要显示的正确部分，以及您想要异步加载的所有内容的 div。

# php - php和Mysql没有加表

> ID：13025346
> 
> 赞同：1
> 
> 时间：2012-10-23T07:17:29.833
> 
> 标签：php, mysql, sql

我是 php 和 mysql 的新手。我现在有这个主题的在线教程。我使用 wamp 并且已经创建了各种没有表的数据库。现在我用这些代码行创建了一个文件 createTable.php：

```
<?php
mysql_connect("localhost", "admin", "1admin") or die(mysql_error());
mysql_select_db("test") or die(mysql_error());
mysql_query("CREATE TABLE example(
id INT NOT NULL AUTO_INCREMENT, 
PRIMARY KEY(id),
name VARCHAR(30), 
age INT)")
 or die(mysql_error());  

echo "Table Created!";
?> 
```

在这段代码中，我创建了一个名为 example 的表。现在，当我在 wamp 中检查 phpmyAdmin 时，示例表未添加到测试数据库中。我的代码有什么问题？还是 WAMP？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:31:56.987

我尝试了您的代码并查看其运行情况，只需对其进行一些更改即可。当您使用 wamp 时，请尝试此代码。

```
<?php 
    mysql_connect("localhost", "root", ""); 
    mysql_select_db("test"); 
    mysql_query("CREATE TABLE example( id INT NOT NULL AUTO_INCREMENT,  PRIMARY KEY(id), name VARCHAR(30),  age INT)");    
    echo "Table Created!"; 
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:25:16.530

```
mysql_connect("localhost", "admin", "1admin") or die(mysql_error());
mysql_select_db("test") or die(mysql_error());
mysql_query("CREATE TABLE 'example'(
'id'    INT   NOT NULL AUTO_INCREMENT, 
'name'  VARCHAR(30), 
'age'   INT,
 PRIMARY KEY('id'))
  ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=1;")
 or die(mysql_error()); 
```

echo "表已创建！";

# vim - 使用 vimdiff 查看多于一对文件的差异

> ID：13025351
> 
> 赞同：4
> 
> 时间：2012-10-23T07:17:49.193
> 
> 标签：vim, diff, vimdiff

vimdiff 显示两个或多个相同文件之间的差异。是否可以看到两对文件的差异。例如，在查看`.H`文件和`.C`文件中的差异时，可以方便地来回查看差异。一种方法是`old.C` `new.C` `old.H` `new.H`使用 vim 打开，然后将它们拆分并`:diffthis`在每个缓冲区中运行。有没有更好的办法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T07:41:04.390

当您使用`vimdiff`时，它会将所有传递的文件放在一起。要获得成对差异，请在单独的标签页中传递和排列对：

```
vim -c "edit old.C" -c "diffsplit new.C" -c "tabedit old.H" -c "diffsplit new.H" 
```

如果你经常这样做，你可以为它写一个别名/脚本包装器。

# android - 滑动抽屉位置变化，同时调整它的高度

> ID：13025353
> 
> 赞同：1
> 
> 时间：2012-10-23T07:17:56.533
> 
> 标签：android, android-layout

我为我的相关布局创建了滑动抽屉，其中包括一些按钮。但是当我调整抽屉的高度时，抽屉按钮的位置会改变而不是它的高度。这是我的xml文件.......

```
 <?xml version="1.0" encoding="utf-8"?>
 <FrameLayout
    android:visibility="visible"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" 

    xmlns:android="http://schemas.android.com/apk/res/android">

 <com.measure.sizemesurment2.MyView
    android:id="@+id/DrawViewId"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    </com.measure.sizemesurment2.MyView >

  <SlidingDrawer
    android:id="@+id/drawer"
    android:layout_width="wrap_content"
    android:layout_height="100dip"
    android:content="@+id/content"
    android:handle="@+id/handle" >

  <Button
     android:id="@id/handle"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:background="@drawable/arrow" />

 <RelativeLayout
     android:id="@id/content"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content"
     android:layout_alignParentBottom="true"
     android:orientation="horizontal" >

     <ImageButton
         android:id="@+id/left"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
         android:onClick="ButtonOnClick"
         android:src="@drawable/left" />

     <ImageButton
         android:id="@+id/right"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
         android:layout_marginLeft="40dp"
         android:onClick="ButtonOnClick"
         android:src="@drawable/right" />

     <ImageButton
         android:id="@+id/up"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
         android:layout_marginLeft="80dp"
         android:onClick="ButtonOnClick"
         android:src="@drawable/up" />

     <ImageButton
         android:id="@+id/down"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
         android:layout_marginLeft="120dp"
         android:onClick="ButtonOnClick"
         android:src="@drawable/down" />

     <Button
         android:id="@+id/plus"
         android:layout_width="40dp"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
         android:layout_marginLeft="180dp"
         android:onClick="ButtonOnClick"
         android:text="+"
         android:textSize="20dp" />

     <Button
         android:id="@+id/minus"
         android:layout_width="40dp"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
         android:layout_marginLeft="220dp"
         android:onClick="ButtonOnClick"
         android:text="-"
         android:textSize="20dp" />

     <Button
         android:id="@+id/ok"
         android:layout_width="60dp"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
         android:layout_marginLeft="260dp"
         android:onClick="ButtonOnClick"
         android:text="OK"
         android:textSize="20dp" />
   </RelativeLayout>
</SlidingDrawer>

</FrameLayout> 
```

其中 MyView 是一个用于在画布上绘制的类。当我将 SlidingDrawer 高度设置为填充父级时，我在布局的底部获得了按钮。但它的高度是父母的高度，我需要有限的高度，我所有的按钮都应该放在布局的底部......提前谢谢......

嗨，这是我得到的图像，第一个是设置壁板 drwer 高度“fill_parent”时产生的，第二个是 100dip

![图像1](../Images/6a4635e63ed52100e868946ec23049ee.png) ![图2](../Images/6e76d710e46f7ba66ae397ad77c72963.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T08:56:42.903

它的发生是因为你所有的按钮都驻留在相对布局中，它是 SliderDrawable 的子级，所以你需要从中取出你的按钮，

做这样的事情

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:visibility="visible" >

    <SlidingDrawer
        android:id="@+id/drawer"
        android:layout_width="wrap_content"
        android:layout_height="50dp"
        android:content="@+id/content"
        android:handle="@+id/handle" >

        <Button
            android:id="@+id/handle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@android:color/white"
            android:textSize="50dp"
            android:text="^"
            android:textColor="@android:color/black" />

        <RelativeLayout
            android:id="@+id/content"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" >
        </RelativeLayout>
    </SlidingDrawer>

  <com.measure.sizemesurment2.MyView
    android:layout_below="@+id/drawer"
    android:layout_above="@+id/linear_bottom"
    android:id="@+id/DrawViewId"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    </com.measure.sizemesurment2.MyView >

    <LinearLayout
        android:id="@+id/linear_bottom"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:orientation="horizontal" >

        <ImageButton
            android:id="@+id/left"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:onClick="ButtonOnClick" />

        <ImageButton
            android:id="@+id/right"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:onClick="ButtonOnClick" />

        <ImageButton
            android:id="@+id/up"
            android:layout_width="0dip"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:onClick="ButtonOnClick" />

        <ImageButton
            android:id="@+id/down"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:onClick="ButtonOnClick" />

        <Button
            android:id="@+id/plus"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:onClick="ButtonOnClick"
            android:text="+" />

        <Button
            android:id="@+id/minus"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:onClick="ButtonOnClick"
            android:text="-" />

        <Button
            android:id="@+id/ok"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:onClick="ButtonOnClick"
            android:text="OK" />
    </LinearLayout>

</RelativeLayout> 
```

输出：

![在此处输入图像描述](../Images/58947e10e2a38d51bd4aed5fcbc837dc.png)

# hardware - 外部硬盘适配器可以在任何硬盘上使用吗？

> ID：13025359
> 
> 赞同：0
> 
> 时间：2012-10-23T07:18:40.410
> 
> 标签：hardware, hard-drive

我想购买**Seagate Backup Plus**外置硬盘。它带有一个非常有用的适配器，因为您可以将适配器放下并像内部 Sata HDD 一样放入，并且使用该适配器，您可以通过 USB 连接它。

现在，我的问题是我是否可以在任何内部硬盘上使用适配器，以便我能够通过 USB 访问它？

从我所见，这应该是可能的，因为它只有标准的 Sata 和 alimentation 电缆插槽，但我对硬件不是很好，在我购买它之前希望其他愿意提供帮助的人提供第二意见。

非常感谢。

编辑：我们正在谈论便携版。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:20:28.737

是的，这应该适用于任何 SATA HDD，如果需要，甚至适用于 SSD。

如果它是笔记本电脑驱动器，它也应该没问题：[https ://superuser.com/questions/226481/connect-a-2-5-laptop-hard-disk-sata-hard-disk-to-desktop-pc](https://superuser.com/questions/226481/connect-a-2-5-laptop-hard-disk-sata-hard-disk-to-desktop-pc)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:24:43.003

我不确定您是否可以在任何内部硬盘上使用该电缆。

话虽如此，但您可以获得与此类似的东西，实际上这将允许您通过 USB 使用大多数内部硬盘：

[http://www.newegg.com/Product/Product.aspx?Item=N82E16812232002&name=Adapters-Gender-Changers](http://www.newegg.com/Product/Product.aspx?Item=N82E16812232002&name=Adapters-Gender-Changers)

# android - 如何将库项目中的活动添加到 android 项目中？

> ID：13025361
> 
> 赞同：0
> 
> 时间：2012-10-23T07:18:53.187
> 
> 标签：android, android-manifest, library-project

我有一个使用库项目的 android 项目。如何将库项目中的活动添加到`AndroidMAnifest.xml`android 项目中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:28:27.307

访问库项目的活动是在Android 项目中声明`Activity`其包名，如下所示：`AndroidManifest.xml`

```
 <activity android:name="com.example.LibraryProjectActivity" android:screenOrientation="portrait"></activity> 
```

现在您可以访问库项目的`Activity`.

# php - 迭代结果数组，两两

> ID：13025364
> 
> 赞同：1
> 
> 时间：2012-10-23T07:19:45.317
> 
> 标签：php, mysql, loops, array-map

我有一个来自遵循以下格式的 SQL 查询的数组：

```
[ 
  ["2012-10-01", 1, 3890], 
  ["2012-10-01", 0, 8900], 
  ["2012-09-21", 0, 8900], 
  ["2012-09-21", 1, 8900], 
  ...
] 
```

最后，我想要计算 0 和 1。因此，例如，对于日期 2012-10-01，我会认为值 1 的计数为 3890，值 0 的计数为 8900。我想知道如何迭代该数组以构建最终数组像这样：

```
$final_array["value0"]["2012-10-01"] = 3890
$final_array["value1"]["2012-10-01"] = 8900
$final_array["total"]["2012-10-01"] = 12790 
```

考虑到日期可能没有值 0 或 1 的计数，并且值 0 和 1 的顺序并不总是相同的。

所以第一个例子可能是这样的：

```
[ 
   ["2012-10-01", 1, 3890], 
   ["2012-09-21", 1, 8900], 
   ["2012-09-21", 0, 8900], 
   ...
] 
```

如您所见，第一个日期缺少值 0，最终数组仍然必须像这样：

```
 $final_array["value0"]["2012-10-01"] = 3890
   $final_array["value1"]["2012-10-01"] = 0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:27:23.700

```
foreach ($array1 as $value){
    $final_array["value".$value[1]][$value[0]] = $value[2];
} 
```

作为你的`$array1`第一个数组

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:28:46.513

这是代码。你真的应该先尝试自己解决，因为这是基本的数组映射。

```
foreach($initialarray as $data){
    $finalarray["value".$data[1]][$data[0]]=$data[2]; 
} 
```

编辑：这是满足您更新要求的代码：

```
$initialarray = array(array("2012-10-01", 1, 3890), array("2012-09-21", 1, 8900), array("2012-09-21", 0, 8900));
$finalarray["value0"]=array();
$finalarray["value1"]=array();
foreach($initialarray as $data){
    $finalarray["value".$data[1]][$data[0]]=$data[2]; 
    $finalarray["value".round(cos($data[1]*pi()/2))][$data[0]]=$finalarray["value".round(cos($data[1]*pi()/2))][$data[0]]?$finalarray["value".round(cos($data[1]*pi()/2))][$data[0]]:0;
}
echo "<pre>";
var_dump($finalarray);
echo "<pre>"; 
```

[演示](http://phpfiddle.org/main/code/sid-inp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:27:16.197

这将起作用：

```
$result = array('value0' => array(), 'value1' => array());
foreach ($array as $value) {
    $result[('value' . $value[1])][$value[0]] = $value[2];
} 
```

# ios - 从 NIB 加载自定义类 UIView (IBOutlets nil)

> ID：13025366
> 
> 赞同：1
> 
> 时间：2012-10-23T07:19:48.570
> 
> 标签：ios, cocoa, interface-builder, xib, iboutlet

我正在尝试在几个 xib 中模块化复杂的 UI。

我想以编程方式从文件中加载每个额外的 xib。

xib 具有连接到自定义视图代码的控件。

然后我尝试在主视图控制器中以以下方式加载 xib：

```
WIFClientData *clientDataView;

NSArray* nibViews = [[NSBundle mainBundle] loadNibNamed:@"WIFClientData" owner:self options: nil];

clientDataView = [nibViews objectAtIndex:0];
[clientDataView configure]; 
```

问题是当我尝试配置视图时：

```
-(void)configure
{
    self.name.label.text = @"Name";
    self.mobile.label.text = @"Mobile";
} 
```

name 和 mobile 为 nil

我目前没有文件的所有者连接，或设置为任何自定义类。我只有位于 xib 中的视图，设置为自定义类。

我已经阅读了很多关于此的内容，但还没有找到答案。

有人能帮我吗？

努诺

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:53:23.183

如果您有一个自定义类`WIFClientData`并将顶级视图的类设置为`WIFClientData`nib （然后您可以通过 获取`[nibViews objectAtIndex:0]`），则将 IBOutlets 连接到该视图（而不是文件所有者），那么这应该可以工作。（适用于自定义单元格）

也许您错位或输入错误？

# java - 如果创建内部类，如何让实例方法修改对象？

> ID：13025367
> 
> 赞同：0
> 
> 时间：2012-10-23T07:19:56.837
> 
> 标签：java, android, andengine

当我为它调用适当的实例方法时，我有一个想要修改的对象。（我认为这是正确的词汇）

在一堂课上，我正在这样做：

```
 Pizza pizza = new Pizza();
 pizza.addTopping(Cheese);
 pizza.addTopping(Pepperoni);
 pizza.setCrustType("thick");
 pizza.make();
 pizza.putInOven(); 
```

这就是事情变得有趣的地方。所以`make()`这是上面调用的方法，它在 class 中`Pizza`。

```
 public void make()
 {  
      final Pizza pizza = this;
      pizza.registerUpdateHandler(new IUpdateHandler()
      {             
           @Override
           public void onUpdate(float cookTime)
           {
                // need to do some modifications to pizza
                pizza.doSomething();
                pizza.doSomethingElse();
           }
      });
 } 
```

为了能够访问内部类 IUpdateHandler() 中的披萨对象，我必须将`Pizza`对象设置为`this`. 但是，这也必须是`final`因为您：

`Cannot refer to a non-final variable inside an inner class defined in a different method`.

回到我原来的代码片段，我仍然需要调用`pizza.putInOven()`它并让它引用与`Pizza`所有其他调用相同的对象，但***对*** `make()` ***方法进行了有效***的修改。因为我必须在方法中创建一个新`Pizza`的类型对象，该对象**不再是**我想调用时修改的同一个对象。`final``make()`**`putInOven()`**

 **我该如何解决这个问题？如果我的问题不清楚，我会尽力编辑和重申，只需发表评论。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:26:26.620

> 因为我必须在方法 make() 中创建一个 final 类型的新 Pizza 对象，它不再是我想调用 putInOven() 时修改的同一个对象。

这不是真的。

```
final Pizza pizza = this; 
```

由于您没有使用`new`运算符，因此该行不会创建新对象。因此，它是引用的同一个对象`this`，因此您`putInOven`将看到方法所做的更改`make`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:27:36.507

您不需要额外的 Pizza 变量，因为代码已经在 Pizza 对象中执行。

```
public void make(){  
      registerUpdateHandler(new IUpdateHandler(){             
           @Override
           public void onUpdate(float cookTime){
                // need to do some modifications to pizza
                doSomething();
                doSomethingElse();
           }
      });
 } 
```**

# jquery - jQuery on("input paste") 粘贴后触发两次

> ID：13025380
> 
> 赞同：2
> 
> 时间：2012-10-23T07:20:53.583
> 
> 标签：jquery, paste

我想检查 URL 是否已输入到 textarea 中。这是一个检查 textarea 的函数：

```
$('#text textarea').on('input paste', function() {
            checkUrl($(this));
        }); 
```

只允许一个 URL，因此在找到 URL 处理程序后使用 off 取消绑定：

```
function checkUrl(elem) {

var words = elem.val().split(/\s+/);
$.each(words, function(index, element) {
    if (isValidURL($.trim(element))) {          
        $.ajax({...}); // Ajax call
        elem.off('input paste');
        return;
    }
}); 
```

}

粘贴 URL (CTRT+V) 后，函数 checkUrl 不仅被调用一次，而且被调用两次。Ajax 也被触发了两次。

提前非常感谢。

**编辑**

我已经根据[这个](https://stackoverflow.com/questions/6902455/how-do-i-capture-the-input-value-on-a-paste-event)更改了我的代码：

```
$('#text textarea').bind('paste', function() {
        var _this = $(this);
        setTimeout( function() {
            checkUrl(_this);
        }, 100);
    }); 
```

它现在只使用粘贴处理程序，但主要问题仍然存在......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T09:34:09.190

获取事件对象并检查事件类型“输入”，因此如果它是粘贴事件，它将触发输入事件

你可以试试这个

```
$('#text textarea').on('input paste',function(event){

    if(event.type=='input'){
       checkUrl($(this));
    }
 });​ 
```

演示：http: [//jsfiddle.net/nLPrG/](http://jsfiddle.net/nLPrG/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T07:27:42.653

我想我已经解决了这个问题。在绑定事件之前，我已经解除了元素中的所有内容。

```
$('#text textarea').unbind();   
$('#text textarea').bind('paste', function() {
        var _this = $(this);
        setTimeout( function() {
            checkUrl(_this);
    }, 100);
}) 
```

# android - Systrace创建的html文件空白

> ID：13025382
> 
> 赞同：5
> 
> 时间：2012-10-23T07:21:00.853
> 
> 标签：android, android-4.2-jelly-bean, systrace

[我按照Android 开发者 systrace](http://developer.android.com/tools/help/systrace.html)的 Jelly Bean 上的 systrace 教程进行操作

该过程似乎正确，并为我创建了一个 html 文件，但它在浏览器中没有显示任何内容，只是空白。我可以在 html 文件中看到很多源代码。

我试过firefox和IE，谁能告诉我什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-02T08:32:51.540

我遇到过同样的问题。使用 chrome 22.0.1229.95 解决。我认为最新的镀铬会没问题

# c# - 我正在更新 XML，它显示更新成功，但不会更改实际字段。怎么做？

> ID：13025385
> 
> 赞同：0
> 
> 时间：2012-10-23T07:21:28.660
> 
> 标签：c#, xml, bitmap, dataset

我是 C# 新手，我正在使用新字段更新 xml 数据。这些字段未在我的 xml 文件中更新。在我的应用程序中显示已成功更新，但在 xml 文件中我没有找到任何修改...

```
 #region UpdateCountry method defination
    public void UpdateCountry()
    {
        Image myimg = Image.FromFile(_strLargePath);
        Bitmap myBitmapLarge = new Bitmap(myimg, 64, 64);

        string strFileLarge = string.Format(@"..\..\imageLarge\{0}", Path.GetFileName(_strLargePath));

        //Store Large Image File In Desire Folder
        myBitmapLarge.Save(strFileLarge);

       //Convert those image into 40 * 40 format
       Bitmap myBitmapSmall = new Bitmap(myimg, 40, 40);
       //store it into Desired Small Image folder

       string strFileSmall = string.Format(@"..\..\imageSmall\{0}", Path.GetFileName(_strLargePath));     

        myBitmapSmall.Save(strFileSmall);
        dsXMlData.Tables[0].DefaultView.RowFilter = string.Format("Name='{0}'", txtCountryName.Text);

        string[] strColArr = new string[] { "CapitalCity", "Currency", "Population", "NatLanguage", "LargeImgPath", "SmallImgPath"};

        string[] strValArr = new string[] 

      {txtCapitalCity.Text,txtCurrency.Text,txtPopulation.Text,
           txtLangualge.Text,strFileLarge,strFileSmall};
        DataRow drTemp = dsXMlData.Tables[0].DefaultView.ToTable().Rows[0];
        //Updation Starts here
        drTemp.BeginEdit();

        for (int intindex = 1; intindex < strColArr.Length; intindex++)
        {
            drTemp[strColArr[intindex]] = strValArr[intindex];
        }
        drTemp.EndEdit();

        dsXMlData.AcceptChanges();

        //Updation complete

        dsXMlData.WriteXml(@"..\..\Countries.xml");

        MessageBox.Show("Updated Successfully");
       // LoadXMlData();
    }
    #endregion 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:27:48.383

```
DataRow drTemp = dsXMlData.Tables[0].DefaultView.ToTable().Rows[0]; 
```

这是复制表和 drTemp 实际上没有引用到 dsXMlData 行。

我认为，你必须使用这样的东西：

```
 DataRow drTemp = dsXMlData.DefaultView[0].Row; 
```

# ember.js - ember.js：当我对数组使用 valueBinding 时它不起作用

> ID：13025386
> 
> 赞同：2
> 
> 时间：2012-10-23T07:21:35.197
> 
> 标签：ember.js

```
Controller:
games : Ember.A(["1", "2", "3"]),

View:
{{#each view.games}}
    {{view Ember.TextField valueBinding="this"}}
{{/each}} 
```

当我更改文本字段的值时，它没有同时更改数组？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:37:21.573

嗯，我对此感到很奇怪......如果你在数组中使用对象，那么绑定工作得很好，使用字符串，就像你做的那样，实际上它不起作用......

```
<script type="text/x-handlebars">
  <h5> work with object </h5>
  {{#each plop in App.controller1}}
    {{view Em.TextField valueBinding="plop.name"}} {{plop.name}}
  {{/each}}
  <h5> don't work with strings </h5>
  {{#each plop in App.controller2}}
    {{view Em.TextField valueBinding="plop"}} {{plop}}
  {{/each}}
</script>  

window.App = Ember.Application.create({
  controller1: Ember.ArrayController.create({
    content: [{name:"aaaa"}, {name:"bbbbb"}, {name:"ccccc"}]
  }),

  controller2: ["aaaa", "bbbbb", "cccc"]       
});​ 
```

[http://jsfiddle.net/Sly7/SQ5g8/](http://jsfiddle.net/Sly7/SQ5g8/)

**编辑**：感谢 Kris Selden，他向我解释了这是有意的行为，因为绑定通过 obj[key] 工作的两种方式，显然，字符串没有这样的键。总而言之，没有基于数组位置的绑定。

# android - 构造函数 CursorAdapter(Context, Cursor, int) 未定义..？

> ID：13025389
> 
> 赞同：-2
> 
> 时间：2012-10-23T07:21:42.630
> 
> 标签：android

请帮我解决这个错误

```
public class CustomAdapter extends CursorAdapter {

public CustomAdapter(Context context,Cursor c,int flags) {
    **super(context,c,flags);** EEROR ON THIS LINE

}

Thread thread = new Thread() {

        public void run() {

            customAdapter = new CustomAdapter(MyActivity.this, databaseHelper.getAllData(), CursorAdapter.NO_SELECTION);

            listView.setAdapter(customAdapter);
        } 
```

日志：

```
10-23 12:37:14.617: E/AndroidRuntime(668): java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()
10-23 12:37:14.617: E/AndroidRuntime(668):  at android.os.Handler.<init>(Handler.java:121)
10-23 12:37:14.617: E/AndroidRuntime(668):  at android.widget.CursorAdapter$ChangeObserver.<init>(CursorAdapter.java:449)
10-23 12:37:14.617: E/AndroidRuntime(668):  at android.widget.CursorAdapter.init(CursorAdapter.java:170)
10-23 12:37:14.617: E/AndroidRuntime(668):  at android.widget.CursorAdapter.<init>(CursorAdapter.java:116)
10-23 12:37:14.617: E/AndroidRuntime(668):  at com.example.databasesim.CustomAdapter.<init>(CustomAdapter.java:18)
10-23 12:37:14.617: E/AndroidRuntime(668):  at com.example.databasesim.MyActivity$1.run(MyActivity.java:39) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:25:35.200

问题是您正在非 ui 线程内进行 UI 操作。

您应该从线程中删除此代码，并在主线程中执行，或使用`runOnUiThread(action)`检查[http://developer.android.com/reference/android/app/Activity.html#runOnUiThread(java.lang.Runnable](http://developer.android.com/reference/android/app/Activity.html#runOnUiThread(java.lang.Runnable) )

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:25:48.960

尝试在 UI 线程中创建您的适配器：

```
puvblic class MyActivity extends Activity {

    public void onCreate(...) {
       customAdapter = new CustomAdapter(MyActivity.this, databaseHelper.getAllData(), CursorAdapter.NO_SELECTION);
    }
} 
```

# windows - XEN上Windows上的CPU热调整大小

> ID：13025391
> 
> 赞同：1
> 
> 时间：2012-10-23T07:21:50.750
> 
> 标签：windows, resize, cpu, xen

我有一个 XEN 虚拟机管理程序，具有以下 Windows 虚拟机配置

```
vcpu_avail = "1" #(number of VCPUs to boot the system with)

vcpus = "4" #(maximum number of VCPUs (total) that can be hot added later) 
```

但是当 Windows 加载时，我检查了 Windows 使用的 CPU 数量 - 我看到所有 4 个 CPU。我尝试通过命令“bcdedit /set numproc 1”修复它，重新启动 VM - 一切正常，Windows 使用 1 个 CPU。

下一个问题 - 我尝试对此 Windows VM 进行热调整：

```
xm vcpu-set vm_name 2 
```

然后转到我的窗口 - 没有任何改变，它仍然使用 1 个 cpu，有时我看到窗口弹出这样的错误 - “MY_CPU_DESCRIPTION 设备不可移动，无法弹出或拔出”

有谁能够帮我？也许需要特殊的 Windows 驱动程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-16T07:03:15.760

如果你想在运行时添加 vcpus，你想使用“xm vcpu-add”。在所有情况下都无法进行 vcpus 的热添加（据我所知，这些实际上是尚未修复的错误）

# android - 如何使用 Opengl ES 自定义 Android4.0 的 LockScreen？

> ID：13025392
> 
> 赞同：1
> 
> 时间：2012-10-23T07:21:50.957
> 
> 标签：android, opengl-es, lockscreen

在使用 Opengl ES 和 NDK 编程开发 Android LiveWallPaper 之后，我正在尝试自定义 Android 的 LockScreen。我知道我们可以通过修改源代码来自定义 LockScreen

```
frameworks/base/policy/src/com/android/internal/policy/impl/LockScreen.java 
```

我发现我们应该覆盖“MultiWaveView”类。但是我发现很少有人提到使用 Opengl ES 来做动画。我想知道的是：这里可以使用Opengl ES吗？这是一种常见的方法吗？有人有成功经验吗？我应该放弃使用 Opengl ES 的想法吗？欢迎任何讨论或建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T01:58:50.353

没有办法更换安卓锁屏（KeyGuard）。

但是，您可以禁用 KeyGuard 并显示您想要的任何活动（和视图）。所以是的，您可以使用 OpenGL 视图或任何其他视图。

为此，只需处理`FLAG_DISMISS_KEYGUARD`和/或`FLAG_SHOW_WHEN_LOCKED`正确处理您要显示的活动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T18:59:03.117

是的，可以在锁定屏幕中使用 OpenGL： [如何在锁定屏幕上显示 SurfaceView？](https://stackoverflow.com/questions/13797906/how-to-show-surfaceview-on-lock-screen/13866500#13866500)

但是，您不能将锁屏作为 apk 的一部分，在这种情况下，您需要伪造主屏幕。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:47:39.380

我有很多在不同 Android 版本上更改默认 LockScreens 的经验，但没有 OpenGL。无论如何 MultiWaveView 只是扩展了 View 类。我相信只有你需要扩展 GLSurfaceView 并使用你自己的视图而不是 MultiWaveView。

# jquery - 文件上传对话框未显示

> ID：13025395
> 
> 赞同：0
> 
> 时间：2012-10-23T07:22:06.163
> 
> 标签：jquery, upload, internet-explorer-9

上传文件时遇到问题。当我单击 ClickMe 按钮时，将显示对话框确认。当我单击确定按钮时，不会显示上传文件对话框。如果我在控制台中运行代码，则会显示上传文件对话框。这是我的源代码：

```
<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/jquery-ui.min.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/themes/dark-hive/jquery-ui.css" />
<script type="text/javascript">
function showUpload() {
   $("#tpl_file").click();
};
$(document).ready(function(){
    $("#verify_dialog").dialog({
        "autoOpen": false,
        "modal": true,
        "buttons": [{
            "id":"btn_okdialog",
            "text": "yes",
            "click": function() {
                showUpload();
            }
          },
          {
            "id":"btn_cancedialog",
            "text": "no",
            "click": function() {
                $(this).dialog("close");
            }
          }
        ]
    });
    $("#ClickMe").button();
    $("#ClickMe").click(function(){
        $("#verify_dialog").dialog("open");
    });
});
</script>
</head>
<body>
<button title="ClickMe" id="ClickMe">ClickMe</button>
<input type="file" name="tpl_file" id="tpl_file">
<div id="verify_dialog" style="display:none;" title="verify_dialog">
    <div id="message">are you sure?</div>
</div>
</body>
</html> 
```

你能帮助识别错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:38:45.523

您的函数 showUpload() 被触发，但其中的代码不起作用：

```
$("#tpl_file").click(); 
```

我不确定你想做什么，如果你想触发点击事件，你应该使用：

```
$("#tpl_file").trigger('click'); 
```

# c - 为什么我可以绑定到 C 中的（看似）无效端口？

> ID：13025397
> 
> 赞同：2
> 
> 时间：2012-10-23T07:22:11.207
> 
> 标签：c, sockets

我使用 BSD 套接字在 C 中制作了一个基本的客户端和服务器。我能够绑定到65535以上的端口号，客户端可以连接到它。我在这里做错了什么？

代码：

```
int port = 999999;
...
serverAddr.sin_port = htons(port); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T07:24:29.187

因为 htons 采用 16 位参数，其输入将被截断。

试试这个，看看你得到了什么：

```
#include <stdio.h>
#include <arpa/inet.h>

int
main(int argc, char **argv)
{
        int foo = 999999;
        int bar = ntohs(htons(foo));

        printf("%d\n", bar);

        return 0;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:41:18.673

`htons`适用于短整数。所以它会将数字截断为 16 位版本。在这种情况下，您应该使用`htonl`32 位整数。但它也不会工作。In`netinet/in.h` `sockaddr_in`定义为，

```
struct sockaddr_in
  {
    __SOCKADDR_COMMON (sin_);
    in_port_t sin_port;         /* Port number.  */
    ....
  }; 
```

并且`in_port_t`被定义为

```
/* Type to represent a port.  */
typedef uint16_t in_port_t; 
```

因此`sin_port`是一个**16 位整数**。截断也将发生在这里。因此，如果您运行以下代码，

```
int main(){
    unsigned long l = 0x00010001;
    unsigned short s = 0x00;
    printf("l=0x%08lX\n", l);       
    printf("s=0x%08X\n", s=l);      
    printf("l=0x%08lX\n", l=s);    
    return 0;
} 
```

输出将是

```
l=0x00010001
s=0x00000001
l=0x00000001 
```

看看高位是如何丢失的！ [IDEONE](http://ideone.com/Cr4T7U)

# asp.net - 一个按钮可以验证更多的验证组吗？

> ID：13025398
> 
> 赞同：11
> 
> 时间：2012-10-23T07:22:16.460
> 
> 标签：asp.net, validation

我有 3 种类型的验证器：

1.  它是“VG1”验证组的一部分

2.  它是“VG2”验证组的一部分

3.  它不属于任何验证组

我有两个按钮，B1 和 B2。

当且仅当第一种和第三种类型的所有验证器都成功验证了与它们关联的控件时，我想验证 B1.Click。

当且仅当第二种和第三种类型的所有验证器都成功验证了与它们关联的控件时，我想验证 B2.Click。

这在 ASP.NET 中可行吗？如果是这样，你能告诉我我该怎么做，或者我在哪里可以读到一些可以在这个问题上启发我的东西？

编辑：

```
 function isValidButton1()
    {
        var VG1 = Page_ClientValidate("VG1");
        var empty = Page_ClientValidate("");
        return VG1 && empty;
    } 
```

这很好用，但是，如果 VG1 无效，则消息将消失，因为验证了空组。是否有显示所有验证错误消息的解决方案？谢谢你。

编辑2：

```
 function isValidSaveAsClosed()
    {
        Page_ClientValidate("");
        Page_ClientValidate("VG1");
        var groups = [];
        groups[0] = undefined;
        groups[1] = "VG1";
        var valid = true;
        for (var f in Page_Validators)
        {
            if (jQuery.inArray(Page_Validators[f].validationGroup, groups) >= 0)
            {
                ValidatorValidate(Page_Validators[f]);
                valid = valid && Page_Validators[f].isvalid;
            }
        }

        return valid;
    } 
```

上面的功能解决了我的问题。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-23T07:32:24.133

```
<asp:Button ID="Button1" runat="server" Text="Button" OnClientClick="return Validate()" />

<script type="text/javascript">
    function Validate() 
    {
        var isValid = false;
        isValid = Page_ClientValidate('VG1');
        if (isValid) 
        {
            isValid = Page_ClientValidate('VG2');
        }

        return isValid;
    }
</script> 
```

试试这个....希望它会有所帮助

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-23T07:31:18.850

是的，一个按钮可以验证多个验证组。

在 button_click 内，您可以将组验证为

```
 Page.Validate("VG1");
    Page.Validate("VG2");

    if (Page.IsValid)
    {

         // Page is valid  so proceed..!!

    } 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-06-06T16:56:46.787

我正在添加另一个答案，因为添加到我最后一个现有答案会使答案太大，任何人都无法阅读。

在这个答案中，我已经扩展了我的最后一个答案，因此`automatically`在客户端和服务器端都连接了多个验证组。这意味着您不需要`Page_ClientValidate("group1,group2")`在 JavaScript 中调用按钮的 onclick 事件，因为它会自动发生。此外，多个组的服务器端验证将自动发生。

下面给出了标记和代码隐藏。您可以尝试我提供的 aspx 代码并在网站项目中对其进行测试。要测试是否发生自动服务器端验证，您必须`EnableClientScript="false"`为三个验证器中的每一个进行设置。

**多组自动验证方法说明**

如果要实现多个验证组，则需要在您的 aspx 页面中完成以下步骤。`ValidationGroup`如果您需要一次验证多个组，请确保在您的标记中提及按钮控件属性的逗号分隔的验证组列表。

1.  您需要`IsValidationGroupMatch`通过将 JavaScript 添加到您的 aspx 页面末尾来覆盖 JavaScript 方法（此覆盖的代码在下面的标记代码末尾给出，您可以将其复制/粘贴到您的 aspx 页面中）；这是 ASP.Net 验证框架提供的标准方法。
2.  您需要将按钮与多个验证组连接以进行客户端验证，因为这不是由 ASP.Net 自动完成的；为此，您必须为`HookupValidationForMultipleValidationGroups`具有多个验证组的每个按钮在 Page_Load 事件的代码隐藏中调用该方法。（您可以将第二个代码片段中给出的此方法复制/粘贴到您的 aspx 页面的代码隐藏中）
3.  您需要覆盖服务器端方法`Validate`以添加多个验证组的功能，因为 ASP.Net 中缺少此功能。（您可以将第二个代码片段中给出的此方法复制/粘贴到您的 aspx 页面的代码隐藏中）

**带有多个验证组的 aspx 标记**

```
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="MultipleValidationGroupsByOneButton.aspx.cs" Inherits="MultipleValidationGroupsByOneButton" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>

</head>
<body>
    <form id="form1" runat="server">
        <div>
            TextBox1 : 
            <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ErrorMessage="TextBox1 needs input"  ControlToValidate="TextBox1" ForeColor="Red" ValidationGroup="group1"></asp:RequiredFieldValidator>

            <br />
            <br />
            TextBox2 : 
            <asp:TextBox ID="TextBox2" runat="server"></asp:TextBox>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" ErrorMessage="TextBox2 needs input"  ControlToValidate="TextBox2" ForeColor="Red" ValidationGroup="group2"></asp:RequiredFieldValidator>
            <br />
            <br />
            TextBox3 :
             <asp:TextBox ID="TextBox3" runat="server"></asp:TextBox>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server" ErrorMessage="TextBox3 needs input"  ControlToValidate="TextBox3" ForeColor="Red" ValidationGroup="group3"></asp:RequiredFieldValidator>

            <br />
            <br />
        </div>
        <asp:Button ID="btnMultipleValidationGroups" runat="server" Text="Validate group1 and group2" ValidationGroup="group1,group2" OnClick="btnMultipleValidationGroups_Click" />
        <asp:Button ID="btnGroup1" runat="server" Text="Validate only group1" ValidationGroup="group1" OnClick="btnGroup1_Click" />
        <asp:Button ID="btnGroup2" runat="server" Text="Validate only group2" ValidationGroup="group2" OnClick="btnGroup2_Click" />
        <asp:Label ID="lblMessage" runat="server" ForeColor="Red" Font-Bold="true"></asp:Label>
        <script type="text/javascript">
            window["IsValidationGroupMatch"] = function (control, validationGroup) {
                if ((typeof (validationGroup) == "undefined") || (validationGroup == null)) {
                    return true;
                }
                var controlGroup = "";
                var isGroupContained = false;
                if (typeof (control.validationGroup) == "string") {
                    controlGroup = control.validationGroup;
                    var controlGroupArray = [];
                    if (validationGroup.indexOf(",") > -1) {
                        controlGroupArray = validationGroup.split(",");// validationGroup.split(",");
                    }
                    for (var i = 0; i < controlGroupArray.length; i++) {
                        if (controlGroupArray[i].trim() == controlGroup.trim()) {
                            isGroupContained = true;
                        }
                    }
                }
                return (controlGroup == validationGroup || isGroupContained);
            }
        </script>
    </form>
</body>
</html> 
```

**上述aspx页面的代码隐藏**

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

public partial class MultipleValidationGroupsByOneButton : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        //always call this method in Page Load event for each button with multiple validation groups
        HookupValidationForMultipleValidationGroups(btnMultipleValidationGroups);
    }
    //the method below will automatically hook up a button with multiple validation groups for client-side validation
    private void HookupValidationForMultipleValidationGroups(IButtonControl button)
    {
     if (!Page.IsPostBack && button.ValidationGroup.Contains(","))
     {
        //hook up validation on client-side by emitting the appropriate javascript for onclick  event of the button with multiple validation groups
        PostBackOptions myPostBackOptions = new PostBackOptions((WebControl)button);
        myPostBackOptions.ActionUrl = string.Empty;
        myPostBackOptions.AutoPostBack = false;
        myPostBackOptions.RequiresJavaScriptProtocol = true;
        myPostBackOptions.PerformValidation = true;//THIS true value hooks up the client-side validation
        myPostBackOptions.ClientSubmit = true;
        myPostBackOptions.ValidationGroup = button.ValidationGroup;

        // Add postback script so cleint-side validation is automatically hooked up for control with multiple validation groups
        ((WebControl)button).Attributes.Add("onclick", Page.ClientScript.GetPostBackEventReference(myPostBackOptions));
     }
    }
    //Override default Validate method so server-side validation of buttons with multiple validation groups occurs automatically 
    public override void Validate(string validationGroup)
    {
        if (validationGroup.Contains(","))
        {
            string[] validationGroups = validationGroup.Split(",".ToCharArray());
            foreach (string group in validationGroups)
            {
                Page.Validate(group);
            }
        }
        base.Validate(validationGroup);
    }
    protected void btnMultipleValidationGroups_Click(object sender, EventArgs e)
    {
        if (Page.IsValid)
        {
            lblMessage.Text = "Button with multiple validation groups was clicked";
        }
    }
    protected void btnGroup1_Click(object sender, EventArgs e)
    {
        if (Page.IsValid)
        {
            lblMessage.Text = "Button with Group1 validation group was clicked";
        }
    }
    protected void btnGroup2_Click(object sender, EventArgs e)
    {
        if (Page.IsValid)
        {
            lblMessage.Text = "Button with Group2 validation group was clicked";
        }
    }

} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2018-06-09T12:13:40.850

不涉及编写任何额外代码的更简单的方法是在需要的地方简单地复制验证器，如下面的示例所示：

```
<div>
    <asp:TextBox ID="txt1" runat="server" placeholder="field1" />
    <asp:RequiredFieldValidator runat="server" ID="req1a" ControlToValidate="txt1" ValidationGroup="group1" Display="Dynamic" />
    <asp:RequiredFieldValidator runat="server" ID="req1b" ControlToValidate="txt1" Display="Dynamic" />
</div>
<div>
    <asp:TextBox ID="txt2" runat="server" placeholder="field2" />
    <asp:RequiredFieldValidator runat="server" ID="req2" ControlToValidate="txt2" />
</div>
<!-- Validate validators with empty ValidationGroup -->
<asp:Button runat="server" ID="btn1" Text="Validate All" />
<!-- Validate group1 validators -->
<asp:Button runat="server" ID="btb2" Text="Validate Group 1" ValidationGroup="group1"/> 
```

第一个按钮将验证两个文本框，即使它们位于不同的组中，而第二个按钮将仅验证第一个文本框。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-23T07:32:47.613

您可以使用`Page_ClientValidate(validationgroup)`函数来验证验证组。

像

```
function Validate(vgroup) {
     return Page_ClientValidate(vgroup);
} 
```

你可以试试

```
<asp:Button ID="B1" runat="server" Text="Button" 
     OnClientClick="return Validate('VG1') && Validate() " />

<asp:Button ID="B2" runat="server" Text="Button" 
     OnClientClick="return Validate('VG2') && Validate() " /> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-06-06T03:56:50.230

这是一篇旧帖子，但我最近遇到了同样的问题，我解决它的方法如下所述。

您可以将本文中给出的代码复制到您的 ASP.Net 网站项目中并自己进行测试。与其他两个按钮不同，第一个按钮（即左侧的按钮）同时验证三个验证组。

只需在下面的代码中包含在 aspx 页面末尾给出的 JavaScript，其中我已经覆盖了验证函数`IsValidationGroupMatch`，因此可以验证多个组。然后，如果您想在客户端验证多个组，则必须调用`Page_ClientValidate("group1,group2,group6,group5")`您只需向其传递以逗号分隔的验证组列表的函数。

（注意：但请记住，通过使用这种方法，您只能在客户端验证多个验证组。这不会自动在服务器端验证多个组。您必须`Page_ClientValidate`在客户端调用 API 函数，因为多个组验证不会被 ASP.Net 框架自动连接。）

**允许在客户端同时验证多个组的示例 aspx 页面代码**

```
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="MultipleValidationGroupsByOneButton.aspx.cs" Inherits="MultipleValidationGroupsByOneButton" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>

</head>
<body>
    <form id="form1" runat="server">
        <div>
            TextBox1 : 
            <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ErrorMessage="TextBox1 needs input" ControlToValidate="TextBox1" ForeColor="Red" ValidationGroup="group1"></asp:RequiredFieldValidator>

            <br />
            <br />
            TextBox2 : 
            <asp:TextBox ID="TextBox2" runat="server"></asp:TextBox>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" ErrorMessage="TextBox2 needs input" ControlToValidate="TextBox2" ForeColor="Red" ValidationGroup="group2"></asp:RequiredFieldValidator>
            <br />
            <br />
             TextBox3 :
             <asp:TextBox ID="TextBox3" runat="server"></asp:TextBox>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server" ErrorMessage="TextBox3 needs input" ControlToValidate="TextBox3" ForeColor="Red" ValidationGroup="group3"></asp:RequiredFieldValidator>

            <br />
            <br />
        </div>
        <asp:Button ID="btnMultipleValidationGroups" runat="server" Text="Validate group1 and group2"  onclientclick="if(!Page_ClientValidate('group1,group2,group3')) { return false;}" />
        <asp:Button ID="btnGroup1" runat="server" Text="Validate only group1" ValidationGroup="group1" />
        <asp:Button ID="btnGroup2" runat="server" Text="Validate only group2" ValidationGroup="group2" />
        <script type="text/javascript">
            window["IsValidationGroupMatch"] = function (control, validationGroup) {
                if ((typeof (validationGroup) == "undefined") || (validationGroup == null)) {
                    return true;
                }
                var controlGroup = "";
                var isGroupContained = false;
                if (typeof (control.validationGroup) == "string") {
                    controlGroup = control.validationGroup;
                    var controlGroupArray = [];
                    if (validationGroup.indexOf(",") > -1) {
                        controlGroupArray = validationGroup.split(",");
                    }
                    for (var i = 0; i < controlGroupArray.length; i++) {
                        if (controlGroupArray[i].trim() == controlGroup.trim()) {
                            isGroupContained = true;
                        }
                    }
                }
                return (controlGroup == validationGroup || isGroupContained);
            }
        </script>
    </form>
</body>
</html> 
```

 <asp:panel runat="server" width="210mm" style="margin: 0 auto;"><asp:label id="Label8" runat="server" font-underline="True">Financial Information -Trading Experience</asp:label>

<asp:label id="Label9" runat="server" font-underline="False" font-bold="True">Answers on questionnaire</asp:label>

. .(Many more s of two cells) . .

|  
*   Main Shareholders - partners - members with more than 25% share - 1

 | <%= PrintAnsw66.Trim() %> |
|  
*   Main Shareholders - partners - members with more than 25% share - 2

 | <%= PrintAnsw67.Trim() %> |</asp:panel> 当我尝试在 IE9 中打印该页面时，接近分页符的 tr 无法正确打印。恰好接近分页符的 tr 在前一页中有它的 2d 单元格，而在应该是的页面中 SAME 行的第一个单元格。在 FF 和 Chrome 中，表格的每一行甚至分页符中的行都被打印在一起，没有奇怪的行为。 有谁知道可能是什么问题，我该如何解决？提前致谢！ jQuery/JavaScript 脚本在 IE7 上不起作用 我在 Internet EXPLODER 7.0 上遇到 jquery/javascript 问题。在现代浏览器（包括 IE 8 和 9）上一切正常。IE 7 不隐藏元素，不显示日期选择器 - 总体而言，该脚本不像在其他“普通”浏览器上那样工作。 这是我的 jsfiddle：http: //jsfiddle.net/W7NHK/ 如果有任何帮助，我将不胜感激！ 这是我的html：

<fieldset> <select id="time_from_hour" name="rent-a-car[time_from_hour]" class="select"><option value="">---</option> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option></select> :  <select id="time_from_minute" name="rent-a-car[time_from_minute]" class="select"><option value="">---</option> <option value="00">00</option> <option value="15">15</option> <option value="30">30</option> <option value="45">45</option></select> <select id="get_car" name="rent-a-car[get_car]" class="select"><option value="">---</option> <option value="Katowice">Katowice</option> <option value="Kraków">Kraków</option> <option value="Warszawa">Warszawa</option> <option value="Wrocław">Wrocław</option> <option value="Gdańsk">Gdańsk</option></select> <select id="get_city_district" name="rent-a-car[get_city_district]" class="select"><option id="e1a" value="direction1">direction1</option> <option id="e1b" value="direction2">direction2</option> <option id="e2a" value="direction3">direction3</option> <option id="e2b" value="direction4">direction4</option> <option id="e3a" value="direction5">direction5</option> <option id="e3b" value="direction6">direction6</option> <option id="e4a" value="direction7">direction7</option> <option id="e4b" value="direction8">direction8</option> <option id="e5a" value="direction9">direction9</option> <option id="e5b" value="direction10">direction10</option> <option id="e6" value="direction11">direction11</option> <option id="e8" value="direction12">direction12</option></select></fieldset>

<fieldset> <select id="time_to_hour" name="rent-a-car[time_to_hour]" class="select"><option value="">---</option> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option></select> :  <select id="time_to_minute" name="rent-a-car[time_to_minute]" class="select"><option value="">---</option> <option value="00">00</option> <option value="15">15</option> <option value="30">30</option> <option value="45">45</option></select> <select id="return_car" name="rent-a-car[return_car]" class="select"><option value="">---</option> <option value="Katowice">Katowice</option> <option value="Kraków">Kraków</option> <option value="Warszawa">Warszawa</option> <option value="Wrocław">Wrocław</option> <option value="Gdańsk">Gdańsk</option></select> <select id="return_city_district" name="rent-a-car[return_city_district]" class="select"><option id="d1a" value="direction1">direction1</option> <option id="d1b" value="direction2">direction2</option> <option id="d2a" value="direction3">direction3</option> <option id="d2b" value="direction4">direction4</option> <option id="d3a" value="direction5">direction5</option> <option id="d3b" value="direction6">direction6</option> <option id="d4a" value="direction7">direction7</option> <option id="d4b" value="direction8">direction8</option> <option id="d5a" value="direction9">direction9</option> <option id="d5b" value="direction10">direction10</option> <option id="d6" value="direction11">direction11</option> <option id="d7" value="direction12">direction12</option></select></fieldset>

<fieldset>Sample TXT</fieldset>

和我的js： var today = new Date().getDay(); var tomorrow = new Date(); tomorrow.setDate(tomorrow.getDate() + 1); tomorrow.setHours(0, 0, 0, 0); var disabledDays = ['15/8/2012', '1/11/2012', '11/11/2012', '25/12/2012', '26/12/2012']; function noWeekendsOrHolidays(date) { var noWeekends = $.datepicker.noWeekends(date); var holiday = $.inArray($.datepicker.formatDate('d/m/yy', date), disabledDays) > -1; var friSat = today >= 5 && date.getTime() == tomorrow.getTime(); return [!friSat]; } $(function () { var disabledDays = ['15/8/2012', '01/11/2012', '11/11/2012', '25/12/2012', '26/12/2012']; $.datepicker.setDefaults({ dateFormat: 'dd/mm/yy', dayNamesMin: ['Nie', 'Pon', 'Wt', 'Śr', 'Czw', 'Pt', 'Sob'], dayNames: ['Niedziela','Poniedzialek','Wtorek','Środa','Czwartek','Piątek','Sobota'], monthNamesShort: ['Sty', 'Lut', 'Mar', 'Kwi', 'Maj', 'Cze', 'Lip', 'Sie', 'Wrz', 'Paź', 'Lis', 'Gru'], changeMonth: true, changeYear: true, numberOfMonths: 1, constrainInput: true, firstDay: 1}); $('#date_from, #date_to').datepicker({ beforeShowDay: noWeekendsOrHolidays, defaultDate: '+1d', minDate: '+1d', onSelect: function (dateText, inst) { var dateMin = $('#date_from').datepicker('getDate'); var dateMax = $('#date_to').datepicker('getDate'); if (this.id == 'date_from') { var rent_date_from = new Date( dateMin.getFullYear(), dateMin.getMonth(), dateMin.getDate() + 1); var rent_date_to = new Date( dateMin.getFullYear(), dateMin.getMonth(), dateMin.getDate() + 29); $('#date_to').datepicker('option', {minDate: rent_date_from, maxDate: rent_date_to}); } $('#day_of_week1').val($.datepicker.formatDate('DD', dateMin)); $('#day_of_week2').val($.datepicker.formatDate('DD', dateMax)); // sprawdzenie czy dzien nalezy do swiat - odbior if( $.inArray($("#date_from").val(), disabledDays)>=0) { var freeday_value = 'holiday'; $('#weekend_day1').val(freeday_value); }else{ $('#weekend_day1').val(''); } // sprawdzenie czy dzien nalezy do swiat - zwrot if( $.inArray($("#date_to").val(), disabledDays)>=0) { var freeday_value = 'holiday'; $('#weekend_day2').val(freeday_value); }else{ $('#weekend_day2').val(''); } compute(); //Add compute } }); $.viewMap_get = { // pokazwywanie wartoci w zaleznosci od wybranego miasta '0': $([]), 'Katowice': $('#e1a, #e1b, #e6, #e8'), 'Kraków': $('#e2a, #e2b, #e6, #e8'), 'Warszawa': $('#e3a, #e3b, #e6, #e8'), 'Wrocław': $('#e4a, #e4b, #e6, #e8'), 'Gdańsk': $('#e5a, #e5b, #e6, #e8') }; $.each($.viewMap_get, function() { $(this).remove(); }); $('#get_city_district').hide(); $('#get_car').on('change', function() { // hide all $.each($.viewMap_get, function() { $(this).remove(); }); $('#get_city_district').hide(); // show current $('#get_city_district').append($.viewMap_get[$(this).val()]).show(); var id = $.viewMap_get[$(this).val()].attr("id"); $('#'+id).attr('selected', 'selected'); }); $.viewMap_return = { '0' : $([]), 'Katowice' : $('#d1a, #d1b, #d6, #d7'), 'Kraków' : $('#d2a, #d2b, #d6, #d7'), 'Warszawa' : $('#d3a, #d3b, #d6, #d7'), 'Wrocław' : $('#d4a, #d4b, #d6, #d7'), 'Gdańsk' : $('#d5a, #d5b, #d6, #d7') }; $.each($.viewMap_return, function() { $(this).remove(); }); $('#return_city_district').hide(); $('#return_car').on('change', function() { $.each($.viewMap_return, function() { $(this).remove(); }); $('#return_city_district').hide(); // show current $.viewMap_return[$(this).val()].show(); $('#return_city_district').append($.viewMap_return[$(this).val()]).show(); var id = $.viewMap_return[$(this).val()].attr("id"); $('#'+id).attr('selected', 'selected'); }); function compute() { var c = $('select#time_from_hour').val(); var d = $('select#time_from_minute').val(); var e = $('select#time_to_hour').val(); var f = $('select#time_to_minute').val(); var g = $('input#date_from').val(); var h = $('input#date_to').val(); date1= g.split("/"); var timestamp = (new Date(date1[2],date1[1],date1[0],c,d).getTime()/1000) + 7200; $('#total_hour1').val(timestamp); date2= h.split("/"); var timestamp = (new Date(date2[2],date2[1],date2[0],e,f).getTime()/1000) + 7200; $('#total_hour2').val(timestamp); var x = -$('input#total_hour1').val(); var y = -$('input#total_hour2').val(); var total_time = x - y; result = total_time / 86400; new_number = Math.ceil(result); if(isNaN(new_number)) { var new_number = 0; } $('#finish_day').val(new_number); if( parseInt($("#finish_day").val()) < 4 ) { $('#return_car').children('option[value=' + $('#get_car').val() + ']').prop('disabled', false).attr('selected', true).siblings().prop('disabled', true); if ($('#return_car').val()) $('#return_car').change(); } else { $('#get_car > option, #return_car > option').prop('disabled', false); $('#three_day').hide(2000, function () { $(this).remove(); }); } } //$('#three_day').hide(); // zaznaczanie tej samej godziny i minuty $('#time_from_hour').change(function () { $('#time_to_hour').val($(this).val()); }); $('#time_from_minute').change(function () { $('#time_to_minute').val($(this).val()); }); // linijki konieczne do wykonania funkji compute $('select#time_from_hour').change(compute); $('select#time_from_minute').change(compute); $('select#time_to_hour').change(compute); $('select#time_to_minute').change(compute); //$('select#return_car').change(); $('select#get_car').change(compute); $('input#finish_day').change(compute); $("#birthday").datepicker({ yearRange: '1950:2010', }); // konkiguracja wywietlania bledu $(".error").mouseover(function () { $(this).hide(2000, function () { $(this).remove(); }); }); }); asp.nethtml 4 2 回答 2 This answer is useful 1 基本思想是用 div 替换表格。 原因是如果表格中断（当资源管理器尝试打印它时），那么结果可能不会像你喜欢的那样，但是 div 可以在其中一行中断而不改变它们继续时的视图下一页。 我看到你的表实际上是两列 70%-30%，所以很容易用 div 来制作。 这里有一些例子： http: //matthewjamestaylor.com/blog/equal-height-columns-2-column.htm http://www.456bereastreet.com/lab/developing_with_web_standards/csslayout/2-col/ http://www .thesitewizard.com/css/design-2-column-layout.shtml 于 2012-10-23T07:33:47.100 回答 This answer is useful 0 这是 IE9 渲染问题：http ://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/e6f49d52-ec3f-47c5-802e-b80d1a58ed39/ 我找不到票的链接，但它存在。 要解决此问题，您需要删除表格元素结束标记和下一个表格单元格开始之间的所有空格和换行符。换句话说，使 td, tr 在同一行，彼此相邻，中间没有空格。 于 2012-10-23T07:34:42.510 回答 Related 0 maven - Maven 包的版本与依赖项不同：树显示 3 java - 添加 OnItemSelectedListener 时应用程序崩溃 0 ruby-on-rails - Rails - 使用 fields_for 重复代码的自定义助手 4 c++ - GDB：运行直到特定断点 4 database - 将plone数据库转换为csv或SQL 2 java - 有没有办法确定 Tomcat on Elastic Beanstalk 中环境的 URL 是什么？ 1 c++ - 必要时扩展 Qt 接口 2 c# - 将同步 Moq 模拟转换为异步 1 asp.net-mvc-3 - MVC 实体框架修改子实体 2 android - 没有硬编码 IP 地址的 KSOAP2 连接 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641 <link href="../Styles/Style.css" type="text/css" rel="stylesheet">

# asp.net - 长在 aspx 页面中 - IE9 中的打印布局不正确 我有一个 aspx 页面，我想在我的应用程序中用作注册人帐户的打印版本。 在该页面中，我有以下代码，基本上包括一个很长的表格，该表格延伸到多个 A4 页面： <%@ Page Language="C#" AutoEventWireup="true" CodeFile="PrintAccountDetails.aspx.cs" Inherits="protected 问问题 问问题 2012-10-23T07:22:20.783 372 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 我有一个 aspx 页面，我想在我的应用程序中用作注册人帐户的打印版本。 在该页面中，我有以下代码，基本上包括一个很长的表格，该表格延伸到多个 A4 页面： <%@ Page Language="C#" AutoEventWireup="true" CodeFile="PrintAccountDetails.aspx.cs" Inherits="protected_PrintAccountDetails" %>  <title>Print Account Details</title> <asp:panel runat="server" width="210mm" style="margin: 0 auto;"><asp:label id="Label8" runat="server" font-underline="True">Financial Information -Trading Experience</asp:label>

<asp:label id="Label9" runat="server" font-underline="False" font-bold="True">Answers on questionnaire</asp:label>

. .(Many more s of two cells) . .

|  
*   Main Shareholders - partners - members with more than 25% share - 1

 | <%= PrintAnsw66.Trim() %> |
|  
*   Main Shareholders - partners - members with more than 25% share - 2

 | <%= PrintAnsw67.Trim() %> |</asp:panel> 当我尝试在 IE9 中打印该页面时，接近分页符的 tr 无法正确打印。恰好接近分页符的 tr 在前一页中有它的 2d 单元格，而在应该是的页面中 SAME 行的第一个单元格。在 FF 和 Chrome 中，表格的每一行甚至分页符中的行都被打印在一起，没有奇怪的行为。 有谁知道可能是什么问题，我该如何解决？提前致谢！ jQuery/JavaScript 脚本在 IE7 上不起作用 我在 Internet EXPLODER 7.0 上遇到 jquery/javascript 问题。在现代浏览器（包括 IE 8 和 9）上一切正常。IE 7 不隐藏元素，不显示日期选择器 - 总体而言，该脚本不像在其他“普通”浏览器上那样工作。 这是我的 jsfiddle：http: //jsfiddle.net/W7NHK/ 如果有任何帮助，我将不胜感激！ 这是我的html：

<fieldset> <select id="time_from_hour" name="rent-a-car[time_from_hour]" class="select"><option value="">---</option> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option></select> :  <select id="time_from_minute" name="rent-a-car[time_from_minute]" class="select"><option value="">---</option> <option value="00">00</option> <option value="15">15</option> <option value="30">30</option> <option value="45">45</option></select> <select id="get_car" name="rent-a-car[get_car]" class="select"><option value="">---</option> <option value="Katowice">Katowice</option> <option value="Kraków">Kraków</option> <option value="Warszawa">Warszawa</option> <option value="Wrocław">Wrocław</option> <option value="Gdańsk">Gdańsk</option></select> <select id="get_city_district" name="rent-a-car[get_city_district]" class="select"><option id="e1a" value="direction1">direction1</option> <option id="e1b" value="direction2">direction2</option> <option id="e2a" value="direction3">direction3</option> <option id="e2b" value="direction4">direction4</option> <option id="e3a" value="direction5">direction5</option> <option id="e3b" value="direction6">direction6</option> <option id="e4a" value="direction7">direction7</option> <option id="e4b" value="direction8">direction8</option> <option id="e5a" value="direction9">direction9</option> <option id="e5b" value="direction10">direction10</option> <option id="e6" value="direction11">direction11</option> <option id="e8" value="direction12">direction12</option></select></fieldset>

<fieldset> <select id="time_to_hour" name="rent-a-car[time_to_hour]" class="select"><option value="">---</option> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option></select> :  <select id="time_to_minute" name="rent-a-car[time_to_minute]" class="select"><option value="">---</option> <option value="00">00</option> <option value="15">15</option> <option value="30">30</option> <option value="45">45</option></select> <select id="return_car" name="rent-a-car[return_car]" class="select"><option value="">---</option> <option value="Katowice">Katowice</option> <option value="Kraków">Kraków</option> <option value="Warszawa">Warszawa</option> <option value="Wrocław">Wrocław</option> <option value="Gdańsk">Gdańsk</option></select> <select id="return_city_district" name="rent-a-car[return_city_district]" class="select"><option id="d1a" value="direction1">direction1</option> <option id="d1b" value="direction2">direction2</option> <option id="d2a" value="direction3">direction3</option> <option id="d2b" value="direction4">direction4</option> <option id="d3a" value="direction5">direction5</option> <option id="d3b" value="direction6">direction6</option> <option id="d4a" value="direction7">direction7</option> <option id="d4b" value="direction8">direction8</option> <option id="d5a" value="direction9">direction9</option> <option id="d5b" value="direction10">direction10</option> <option id="d6" value="direction11">direction11</option> <option id="d7" value="direction12">direction12</option></select></fieldset>

<fieldset>Sample TXT</fieldset>

和我的js： var today = new Date().getDay(); var tomorrow = new Date(); tomorrow.setDate(tomorrow.getDate() + 1); tomorrow.setHours(0, 0, 0, 0); var disabledDays = ['15/8/2012', '1/11/2012', '11/11/2012', '25/12/2012', '26/12/2012']; function noWeekendsOrHolidays(date) { var noWeekends = $.datepicker.noWeekends(date); var holiday = $.inArray($.datepicker.formatDate('d/m/yy', date), disabledDays) > -1; var friSat = today >= 5 && date.getTime() == tomorrow.getTime(); return [!friSat]; } $(function () { var disabledDays = ['15/8/2012', '01/11/2012', '11/11/2012', '25/12/2012', '26/12/2012']; $.datepicker.setDefaults({ dateFormat: 'dd/mm/yy', dayNamesMin: ['Nie', 'Pon', 'Wt', 'Śr', 'Czw', 'Pt', 'Sob'], dayNames: ['Niedziela','Poniedzialek','Wtorek','Środa','Czwartek','Piątek','Sobota'], monthNamesShort: ['Sty', 'Lut', 'Mar', 'Kwi', 'Maj', 'Cze', 'Lip', 'Sie', 'Wrz', 'Paź', 'Lis', 'Gru'], changeMonth: true, changeYear: true, numberOfMonths: 1, constrainInput: true, firstDay: 1}); $('#date_from, #date_to').datepicker({ beforeShowDay: noWeekendsOrHolidays, defaultDate: '+1d', minDate: '+1d', onSelect: function (dateText, inst) { var dateMin = $('#date_from').datepicker('getDate'); var dateMax = $('#date_to').datepicker('getDate'); if (this.id == 'date_from') { var rent_date_from = new Date( dateMin.getFullYear(), dateMin.getMonth(), dateMin.getDate() + 1); var rent_date_to = new Date( dateMin.getFullYear(), dateMin.getMonth(), dateMin.getDate() + 29); $('#date_to').datepicker('option', {minDate: rent_date_from, maxDate: rent_date_to}); } $('#day_of_week1').val($.datepicker.formatDate('DD', dateMin)); $('#day_of_week2').val($.datepicker.formatDate('DD', dateMax)); // sprawdzenie czy dzien nalezy do swiat - odbior if( $.inArray($("#date_from").val(), disabledDays)>=0) { var freeday_value = 'holiday'; $('#weekend_day1').val(freeday_value); }else{ $('#weekend_day1').val(''); } // sprawdzenie czy dzien nalezy do swiat - zwrot if( $.inArray($("#date_to").val(), disabledDays)>=0) { var freeday_value = 'holiday'; $('#weekend_day2').val(freeday_value); }else{ $('#weekend_day2').val(''); } compute(); //Add compute } }); $.viewMap_get = { // pokazwywanie wartoci w zaleznosci od wybranego miasta '0': $([]), 'Katowice': $('#e1a, #e1b, #e6, #e8'), 'Kraków': $('#e2a, #e2b, #e6, #e8'), 'Warszawa': $('#e3a, #e3b, #e6, #e8'), 'Wrocław': $('#e4a, #e4b, #e6, #e8'), 'Gdańsk': $('#e5a, #e5b, #e6, #e8') }; $.each($.viewMap_get, function() { $(this).remove(); }); $('#get_city_district').hide(); $('#get_car').on('change', function() { // hide all $.each($.viewMap_get, function() { $(this).remove(); }); $('#get_city_district').hide(); // show current $('#get_city_district').append($.viewMap_get[$(this).val()]).show(); var id = $.viewMap_get[$(this).val()].attr("id"); $('#'+id).attr('selected', 'selected'); }); $.viewMap_return = { '0' : $([]), 'Katowice' : $('#d1a, #d1b, #d6, #d7'), 'Kraków' : $('#d2a, #d2b, #d6, #d7'), 'Warszawa' : $('#d3a, #d3b, #d6, #d7'), 'Wrocław' : $('#d4a, #d4b, #d6, #d7'), 'Gdańsk' : $('#d5a, #d5b, #d6, #d7') }; $.each($.viewMap_return, function() { $(this).remove(); }); $('#return_city_district').hide(); $('#return_car').on('change', function() { $.each($.viewMap_return, function() { $(this).remove(); }); $('#return_city_district').hide(); // show current $.viewMap_return[$(this).val()].show(); $('#return_city_district').append($.viewMap_return[$(this).val()]).show(); var id = $.viewMap_return[$(this).val()].attr("id"); $('#'+id).attr('selected', 'selected'); }); function compute() { var c = $('select#time_from_hour').val(); var d = $('select#time_from_minute').val(); var e = $('select#time_to_hour').val(); var f = $('select#time_to_minute').val(); var g = $('input#date_from').val(); var h = $('input#date_to').val(); date1= g.split("/"); var timestamp = (new Date(date1[2],date1[1],date1[0],c,d).getTime()/1000) + 7200; $('#total_hour1').val(timestamp); date2= h.split("/"); var timestamp = (new Date(date2[2],date2[1],date2[0],e,f).getTime()/1000) + 7200; $('#total_hour2').val(timestamp); var x = -$('input#total_hour1').val(); var y = -$('input#total_hour2').val(); var total_time = x - y; result = total_time / 86400; new_number = Math.ceil(result); if(isNaN(new_number)) { var new_number = 0; } $('#finish_day').val(new_number); if( parseInt($("#finish_day").val()) < 4 ) { $('#return_car').children('option[value=' + $('#get_car').val() + ']').prop('disabled', false).attr('selected', true).siblings().prop('disabled', true); if ($('#return_car').val()) $('#return_car').change(); } else { $('#get_car > option, #return_car > option').prop('disabled', false); $('#three_day').hide(2000, function () { $(this).remove(); }); } } //$('#three_day').hide(); // zaznaczanie tej samej godziny i minuty $('#time_from_hour').change(function () { $('#time_to_hour').val($(this).val()); }); $('#time_from_minute').change(function () { $('#time_to_minute').val($(this).val()); }); // linijki konieczne do wykonania funkji compute $('select#time_from_hour').change(compute); $('select#time_from_minute').change(compute); $('select#time_to_hour').change(compute); $('select#time_to_minute').change(compute); //$('select#return_car').change(); $('select#get_car').change(compute); $('input#finish_day').change(compute); $("#birthday").datepicker({ yearRange: '1950:2010', }); // konkiguracja wywietlania bledu $(".error").mouseover(function () { $(this).hide(2000, function () { $(this).remove(); }); }); }); asp.nethtml 4 2 回答 2 This answer is useful 1 基本思想是用 div 替换表格。 原因是如果表格中断（当资源管理器尝试打印它时），那么结果可能不会像你喜欢的那样，但是 div 可以在其中一行中断而不改变它们继续时的视图下一页。 我看到你的表实际上是两列 70%-30%，所以很容易用 div 来制作。 这里有一些例子： http: //matthewjamestaylor.com/blog/equal-height-columns-2-column.htm http://www.456bereastreet.com/lab/developing_with_web_standards/csslayout/2-col/ http://www .thesitewizard.com/css/design-2-column-layout.shtml 于 2012-10-23T07:33:47.100 回答 This answer is useful 0 这是 IE9 渲染问题：http ://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/e6f49d52-ec3f-47c5-802e-b80d1a58ed39/ 我找不到票的链接，但它存在。 要解决此问题，您需要删除表格元素结束标记和下一个表格单元格开始之间的所有空格和换行符。换句话说，使 td, tr 在同一行，彼此相邻，中间没有空格。 于 2012-10-23T07:34:42.510 回答 Related 0 maven - Maven 包的版本与依赖项不同：树显示 3 java - 添加 OnItemSelectedListener 时应用程序崩溃 0 ruby-on-rails - Rails - 使用 fields_for 重复代码的自定义助手 4 c++ - GDB：运行直到特定断点 4 database - 将plone数据库转换为csv或SQL 2 java - 有没有办法确定 Tomcat on Elastic Beanstalk 中环境的 URL 是什么？ 1 c++ - 必要时扩展 Qt 接口 2 c# - 将同步 Moq 模拟转换为异步 1 asp.net-mvc-3 - MVC 实体框架修改子实体 2 android - 没有硬编码 IP 地址的 KSOAP2 连接 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：13025401
> 
> 赞同：0
> 
> 时间：
> 
> 标签：asp.net, html

我有一个 aspx 页面，我想在我的应用程序中用作注册人帐户的打印版本。

在该页面中，我有以下代码，基本上包括一个很长的表格，该表格延伸到多个 A4 页面：

```
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="PrintAccountDetails.aspx.cs" Inherits="protected_PrintAccountDetails" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Print Account Details</title>

</head>
<body style="margin: 0;">

    <asp:Panel runat="server" Width="210mm" Style="margin: 0 auto;">
      <br /><br />
            <asp:Label ID="Label8" runat="server" Font-Underline="True">Financial Information -Trading Experience</asp:Label>
            <br />
            <br />
            <asp:Label ID="Label9" runat="server" Font-Underline="False" Font-Bold="True">Answers on questionnaire</asp:Label>
            <br />
            <br />
            <table style="width: 100%">
                <tr>
                    <td style="width: 70%">
                        <ul>
                            <li id="q66" runat="server">Main Shareholders - partners - members with more than 25%
                                share - 1</li>
                        </ul>
                    </td>
                    <td style="width: 30%">
                       <%= PrintAnsw66.Trim() %>
                    </td>
                </tr>
                <tr>
                    <td>
                        <ul>
                            <li id="q67" runat="server">Main Shareholders - partners - members with more than 25%
                                share - 2</li>
                        </ul>
                    </td>
                    <td>
                        <%= PrintAnsw67.Trim() %>
                    </td>
                </tr>
                  .
                  .(Many more <tr>s of two cells)
                  .
                  .
               </table>
     </asp:Panel>
</body> 
```

当我尝试在 IE9 中打印该页面时，接近分页符的 tr 无法正确打印。恰好接近分页符的 tr 在前一页中有它的 2d 单元格，而在应该是的页面中 SAME 行的第一个单元格。在 FF 和 Chrome 中，表格的每一行甚至分页符中的行都被打印在一起，没有奇怪的行为。

有谁知道可能是什么问题，我该如何解决？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:33:47.100

基本思想是用 div 替换表格。

原因是如果表格中断（当资源管理器尝试打印它时），那么结果可能不会像你喜欢的那样，但是 div 可以在其中一行中断而不改变它们继续时的视图下一页。

我看到你的表实际上是两列 70%-30%，所以很容易用 div 来制作。

这里有一些例子： http:
[//matthewjamestaylor.com/blog/equal-height-columns-2-column.htm](http://matthewjamestaylor.com/blog/equal-height-columns-2-column.htm)
[http://www.456bereastreet.com/lab/developing_with_web_standards/csslayout/2-col/](http://www.456bereastreet.com/lab/developing_with_web_standards/csslayout/2-col/) [http://www .thesitewizard.com/css/design-2-column-layout.shtml](http://www.thesitewizard.com/css/design-2-column-layout.shtml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:34:42.510

这是 IE9 渲染问题：[http ://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/e6f49d52-ec3f-47c5-802e-b80d1a58ed39/](http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/e6f49d52-ec3f-47c5-802e-b80d1a58ed39/)

我找不到票的链接，但它存在。

要解决此问题，您需要删除表格元素结束标记和下一个表格单元格开始之间的所有空格和换行符。换句话说，使 td, tr 在同一行，彼此相邻，中间没有空格。

# java - 从小程序上传文件到服务器

> ID：13025403
> 
> 赞同：0
> 
> 时间：2012-10-23T07:22:42.187
> 
> 标签：java, apache, tomcat, applet, vaadin

我有一个记录声音的小程序。该小程序使用 AppletIntegration 插件集成到 VAADIN 应用程序中。小程序运行得很好。现在，我必须将该记录的文件上传到运行 vaadin 应用程序的服务器。我怎么能那样做。任何解决方案，任何想法？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T01:48:22.790

嗯...

您可以使用 HttpComponents 它的[HttpClient](http://hc.apache.org/httpcomponents-client-ga/index.html) + [FileUpload](http://commons.apache.org/fileupload/)库组合；

有关更多详细信息，您可以阅读[此](http://hc.apache.org/httpcomponents-client-ga/examples.html)和[此](http://commons.apache.org/fileupload/using.html)示例

PS如果有帮助请报告

祝你好运

# android - 无法构建：文件 dx.jar 未从我的 Eclipse 中的 SDK 文件夹加载

> ID：13025404
> 
> 赞同：8
> 
> 时间：2012-10-23T07:22:44.127
> 
> 标签：android, eclipse, sdk

我收到此错误

```
Description Resource    Path    Location    Type
Unknown error: Unable to build: the file dx.jar was not loaded from the SDK folder! Sample1     Unknown Android Packaging Problem 
```

在一段时间之前它对我来说工作正常，我认为由于某些病毒或我的设置受到影响，请帮我解决这个问题？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-14T16:13:47.017

如果自动删除构建/重建不起作用，[此 SO 答案提供了更多详细信息。](https://stackoverflow.com/a/8960943/953105)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:27:43.267

它对我有用。

我自动删除了构建，然后构建了整个工作区，它对我来说是如何工作的:)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-12-20T03:45:25.470

从[Android ADT 错误，dx.jar 没有从 SDK 文件夹加载](https://stackoverflow.com/questions/5228453/android-adt-error-dx-jar-was-not-loaded-from-the-sdk-folder/8960943#)：

“在你的项目的 project.properties 中添加这个：sdk.buildtools=25.0.2”

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-27T13:06:05.343

文件->切换工作区->（新工作区）它肯定会工作:)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-05-03T08:07:34.727

1.  打开 Android SDK 管理器。（Windows → Android SDK 管理器）

2.  转到工具 → 选项。

3.  单击清除缓存→关闭。

4.  转到包→重新加载。

现在，软件包将在 SDK 管理器中的最新下载下可见。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-06-15T15:10:01.400

我尝试了大多数事情，但对我没有任何帮助。花了一些时间后，我得到了解决方案

在我们的项目中打开`{Android SDK dir}\build-tools`也打开`project.properties`

检查`sdk.buildtools=29.0.0`（如果没有，只需手动添加）`29.0.0`根据`{Android SDK dir}\build-tools`文件夹更改条目并开始构建

**前任：**

*   {Android SDK 目录}\build-tools 我有 28.0.3。然后我改变了 sdk.buildtools=28.0.3 给了构建。没用
*   {Android SDK 目录}\build-tools 我有 25.0.3。然后我改变了 sdk.buildtools=25.0.3 给了构建。没用
*   {Android SDK 目录}\build-tools 我有 24.0.3。然后我改变了 sdk.buildtools=24.0.3 给了构建。成功

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-05-16T08:21:11.170

在尝试了所有这些之后，还没有解决我的问题，然后我更改了 SDK 位置：请更改 windows -> 首选项-> Android-> 从更改 SDK 位置。它对我有用

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-03-30T18:07:42.997

唯一对我有用的解决方案是从构建工具文件夹中删除受影响的版本。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-07-30T16:29:04.483

转到`project.properties`文件并添加以下行

```
sdk.buildtools=25.0.3 
```

# entity-framework - 插入记录而不是更新

> ID：13025406
> 
> 赞同：0
> 
> 时间：2012-10-23T07:22:48.500
> 
> 标签：entity-framework, entity-framework-4

我正在开发一个 MVC 应用程序。

当我尝试更新记录时，它显示 DBEntityValidation 异常错误，（因为它试图在数据库中添加记录。这是我的代码）

```
public JsonResult SavePassword(int EmpId, string Password)
    {
        try
        {

        Employee e1 = db.Employees.First(i => i.Id == EmpId);
        db.Entry(e1).State = EntityState.Modified;
        e1.Password = Password;
        db.SaveChanges();

        return Json(EmpId);

        }

        catch (DbEntityValidationException e)
        {
            foreach (var eve in e.EntityValidationErrors)
            {
                Console.WriteLine("Entity of type \"{0}\" in state \"{1}\" has the following validation errors:",
                  eve.Entry.Entity.GetType().Name, eve.Entry.State);
                foreach (var ve in eve.ValidationErrors)
                {
                    Console.WriteLine("- Property: \"{0}\", Error: \"{1}\"", ve.PropertyName, ve.ErrorMessage);
                }
            }
             throw;
        }

    } 
```

在例外情况下，它显示了我在添加新记录时检查过的验证消息。所以，我认为它试图在数据库中添加更新。

# silverlight - 与 Silverlight 4 相比，Silverlight 5 中的真实网络性能提升？

> ID：13025410
> 
> 赞同：2
> 
> 时间：2012-10-23T07:23:20.047
> 
> 标签：silverlight, silverlight-4.0, silverlight-5.0

在 Silverlight 5 的功能列表中我们可以看到：

> 通过使用后台线程进行联网来减少网络延迟。这对于使用客户端 HTTP Web 请求的方案很有帮助。

我想知道是否有人知道实际效果。

在哪些情况下会引起注意，是否有人进行了彻底的测试？此修复程序旨在解决哪个问题？

**编辑**：关于关闭

以下原因

> 我们希望答案得到事实、参考资料或特定专业知识的支持，但这个问题可能会引发辩论、争论、投票或扩展讨论。

关闭这个问题真的很奇怪。我没有问上帝是否存在，我问的是这个更新。这显然是技术性的，并且是可量化的。我认为世界各地的人可能会比较新旧网络性能，并找到可以清楚看到收益的场景。

另外我相信这个更新是某人请求的结果，这意味着有人有一个性能不够的 SL4 场景，这些人应该非常清楚更新导致的性能提升。

那么这里会发生什么样的征集辩论呢？有人要么知道，要么他像大多数人一样不知道。

所以我重新打开，如果他偶然发现这个问题，我希望有人好奇地回答。

# android - GCMRegistrar.getRegistrationId 在 App 首次启动时返回空字符串

> ID：13025412
> 
> 赞同：0
> 
> 时间：2012-10-23T07:23:41.860
> 
> 标签：android, google-cloud-messaging

我指的是[标准的 Android GCM 教程](http://developer.android.com/guide/google/gcm/gs.html)

似乎在第一次启动应用程序时，注册 ID 是在 oncreate() 方法触发后设置的。如何将 GCMRegistrar.java 中的注册 ID 发送回活动？

我在 MainActivity 的 onCreate() 中调用它：

```
GCMRegistrar.checkDevice(this);
    GCMRegistrar.checkManifest(this);
    String regId = GCMRegistrar.getRegistrationId(this);

    //provide RegID for the Class that can communicate with Javascript.

    Log.v(TAG, "regID: "+regId);
    if (regId.equals("")) {
      GCMRegistrar.register(this, SENDER_ID);

    } else {
      Log.v(TAG, "Already registered");

    }

    EDIT:
    //Call after .register also returns empty String on first App Launch
    String regId2 = GCMRegistrar.getRegistrationId(this);// returns "" 
```

它在第一次启动时在此处返回一个空字符串。在日志中，我看到注册 ID 稍后在 GCMRegistrar.java 中设置

```
static String setRegistrationId(Context context, String regId) {
    Log.v(TAG, "REGISTRATION ID IN SET: "+regId);
    final SharedPreferences prefs = getGCMPreferences(context);
    String oldRegistrationId = prefs.getString(PROPERTY_REG_ID, "");
    int appVersion = getAppVersion(context);
    Log.v(TAG, "Saving regId on app version " + appVersion);
    Editor editor = prefs.edit();
    editor.putString(PROPERTY_REG_ID, regId);
    editor.putInt(PROPERTY_APP_VERSION, appVersion);
    editor.commit();
    return oldRegistrationId;
} 
```

上面这个方法是在 GCMBaseIntentService 中调用的。

如果我第二次运行该应用程序，我可以获得注册。Mainactivity 中的 ID，我如何实现回调函数之类的东西，以便我可以访问 Reg。MainActivity 中的 ID？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:21:00.497

使用带有字符串参数的抽象方法创建一个说“GCMInterface”的接口，让您的活动实现此接口，即您想对 regId 做什么。将您的活动引用传递给您的 GCMIntentService。当调用 GCMIntentservice 的 onREgistered 方法时，调用 activity.method 并将 regId 作为参数传递。

```
public interface GCMInterface {
    public void mOnRegistered(String id);
}

...

public class MyActivity implements GCMInterface {

    // implementation of GCMInterface interaface
    public void mOnRegistered(String id) {
        // do whatever you want to do with id
    }
}
...
public class GCMIntentService extends GCMBaseIntentService {

    GCMInterface interface;   // initialize it with your activity's context
    public GCMIntentService() {
    }

    @Override
    protected void onRegistered(Context context, String regId) {
        // call mOnRegistered method with your activity's context like
        interface = (GCMInterface)context;
        if(interface != null) {
            interface.mOnRegistered(regId);
        }

    }

} 
```

我希望你明白我的意思。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:31:58.597

是**的 GCMRegistrar.getRegistrationId(this)**如果您没有在 GCM 中注册，将返回空字符串。注册后，它将返回实际的注册 ID。以便他们在演示中使用 if() 条件来检查此设备是否已注册

# axapta - Axapta 中的中断语句会做什么？

> ID：13025415
> 
> 赞同：2
> 
> 时间：2012-10-23T07:23:56.370
> 
> 标签：axapta, break, x++

我有 2 个 while 循环，第二个有一个中断；（见下面的代码）

我的问题是：中断会导致第二个循环或第二个循环停止吗？

```
while select dirPartyRelationship
join    dirPartyTable
    where dirPartyTable.RecId == dirPartyRelationship.ChildParty
join    dirPersonName
    where   dirPersonName.Person == dirPartyTable.RecId
{
    while select checkDirRelationship
        where checkDirRelationship.ChildParty == dirPartyRelationship.RecId
    {
        if (checkDirRelationship.RelationshipTypeId == _relationshipType)
        {
            break;
        }
    }... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T09:20:02.990

break 只会跳出当前的代码块。

创建作业并使用此示例代码；

```
for(i=0; i<100; i++)
    {
        for(j=0; j<100; j++)
        {
            info(strfmt("inner loop count %1",j));
            break;
        }
        info(strfmt("outer loop count %1",i));
    } 
```

您将看到一个 j 永远不会超过 0，但被打印 100 次的快速示例。

**编辑;**

如果你想跳出嵌套循环，你可以通过在内部循环中的行之前声明 a `boolean`，可能被调用`breakAll`并设置`breakAll`为 true 来解决。`break;`在外循环中检查`breakAll`这样的；

```
for(i=0; i<100; i++)
    {
        for(j=0; j<100; j++)
        {
            info(strfmt("inner loop count %1",j));
            if (somethingToCheck)
            {
                breakAll = true;
                break;
            }
        }
        info(strfmt("outer loop count %1",i));
        if (breakAll)
        {
             break;
        }
    } 
```

# rest - RESTful 和 RESTless 有什么区别

> ID：13025417
> 
> 赞同：65
> 
> 时间：2012-10-23T07:24:20.887
> 
> 标签：rest

宁静和不安之间的基本区别是什么，我一直在阅读一些人们似乎可以互换使用它们的文章。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-10-23T07:32:34.790

REST 代表 REpresentational State Transfer，有点像这样：

我们有一堆唯一可寻址的“实体”，我们希望通过 Web 应用程序提供这些“实体”。这些实体每个都有一些标识符，并且可以以各种格式访问。REST 定义了一堆关于 GET、POST 等对这些目的意味着什么的东西。

REST 的基本思想是，您可以将一堆“渲染器”附加到不同的实体，以便使用相同的 HTTP 动词和 url 格式轻松地以不同的格式提供它们。

有关 RESTful 的含义以及如何使用 google rails 的更多说明。Rails 是一个 RESTful 框架，因此在其文档和相关博客文章中提供了大量有用的信息。即使您不热衷于使用该框架，也值得一读。例如：[http ://www.sitepoint.com/restful-rails-part-i/](http://www.sitepoint.com/restful-rails-part-i/)

RESTless 意味着不平静。如果您的 Web 应用程序不遵守 RESTful 原则，那么它就不是 RESTful

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-10-23T13:21:27.497

“RESTless”是一个不常用的术语。

您可以*将*“RESTless”定义为任何*非 RESTful*系统。为此，没有一个 RESTful 系统所需的特性就足够*了*。

根据这个定义，大多数系统都是 RESTless 的，因为它们没有实现[HATEOAS](https://en.wikipedia.org/wiki/HATEOAS)。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-07-08T12:50:07.753

任何不识别资源和相关动作的模型都是不安分的。restless 不是任何术语，而是一个俚语，表示所有其他不符合上述定义的服务。在 restful 模型中，资源由 URL（名词）标识，动作（动词）由 HTTP 协议中的预定义方法（即 GET、POST、PUT、DELETE 等）标识。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2020-07-15T08:03:51.913

这里粗略地总结了 RESTful 和 RESTless Web 服务之间的主要区别（不必严格有效）：

**1.协议**

*   RESTful 服务使用[REST](https://restfulapi.net/)架构风格，
*   RESTless 服务使用[SOAP](https://www.w3schools.com/xml/xml_soap.asp)协议。

**2.业务逻辑/功能**

*   RESTful 服务使用 URL 来公开业务逻辑，
*   RESTless 服务使用服务接口来公开业务逻辑。

**3\. 安全**

*   RESTful 从底层传输协议继承了安全性，
*   RESTless 定义了自己的安全层，因此被认为更安全。

**4.数据格式**

*   RESTful 支持 HTML、JSON、文本等多种数据格式，
*   RESTless 支持 XML 格式。

**5\. 灵活性**

*   RESTful 更简单灵活，
*   RESTless 没有那么简单和灵活。

**6\. 带宽**

*   RESTful 服务消耗更少的带宽和资源，
*   RESTless 服务消耗更多的带宽和资源。

# yii - yii 中的自定义搜索下拉菜单

> ID：13025419
> 
> 赞同：0
> 
> 时间：2012-10-23T07:24:27.657
> 
> 标签：yii

我有一个包含 3 个表、`countries`和`cities`的数据库`datacenters`。`country`是 的父级`city`并且`city`是 的父级`datacenter`。在`cities`我添加了国家的搜索下拉列表及其工作正常。我已经在数据中心添加了引用搜索下拉列表，它也可以正常工作，但现在我想要数据中心中的国家/地区搜索下拉列表，该怎么做。

国家/地区搜索下拉列表中的数据中心代码`admin.php`。

```
<?php $this->widget('zii.widgets.grid.CGridView', array(
    'id'=>'data-centers-grid',
    'dataProvider'=>$model->search(),
    'filter'=>$model,
    'columns'=>array(
        'id',
        'city.cityname'=>array(
            'name'=>'cityid',
            'value'=>'$data->city->cityname',
            'filter'=>CHtml::listData(Cities::model()->findAll(array('order'=>'cityname')), 'id', 'cityname')
        ),
        'city.country.countryname'=>array(
            'name'=>'city.country.id',
            'value'=>'$data->city->countryid',
            'filter'=>CHtml::listData(Countries::model()->findAll(array('order'=>'countryname')), 'id', 'countryname')
        ),
        'datacentername',
        'datacentercode',
        'lastupdatedon',
        'createdon',
        array(
            'class'=>'CButtonColumn',
            'template'=> '{view}{update}',
        ),
    ),
)); ?> 
```

# 型号代码：

```
class DataCenters extends CActiveRecord
{
    [...]

    /**
     * @return array relational rules.
     */
    public function relations()
    {
        // NOTE: you may need to adjust the relation name and the related
        // class name for the relations automatically generated below.
        return array(
            'lastupdatedby0' => array(self::BELONGS_TO, 'Users', 'lastupdatedby'),
            'city' => array(self::BELONGS_TO, 'Cities', 'cityid'),
            'servers' => array(self::HAS_MANY, 'Servers', 'datacenterid'),
        );
    }

    [...]

    /**
     * Retrieves a list of models based on the current search/filter conditions.
     * @return CActiveDataProvider the data provider that can return the models based on the search/filter conditions.
     */
    public function search()
    {
        // Warning: Please modify the following code to remove attributes that
        // should not be searched.

        $criteria=new CDbCriteria;

        $criteria->compare('id',$this->id);
        $criteria->compare('cityid',$this->cityid);

        $criteria->compare('datacentername',$this->datacentername,true);
        $criteria->compare('datacentercode',$this->datacentercode,true);
        $criteria->compare('lastupdatedon',$this->lastupdatedon,true);
        $criteria->compare('lastupdatedby',$this->lastupdatedby);
        $criteria->compare('createdon',$this->createdon,true);

        return new CActiveDataProvider($this, array(
            'criteria'=>$criteria,
        ));
    }

    [...]
} 
```

# c# - 如何刷新下拉列表值更改的页面？

> ID：13025421
> 
> 赞同：2
> 
> 时间：2012-10-23T07:24:40.737
> 
> 标签：c#, asp.net-mvc-3

我有一个通用的视图布局页面。此布局页面包含一个下拉列表，其中显示了可用日期的列表。我想要的是仅更改数据参数后重新加载此页面。控制器、动作和任何其他参数应该以某种方式从当前请求上下文中获取。

如果我想在每个视图上手动执行，我会说它等于

```
@Html.ActionLink(
     "",                                        
     "I need to have current action name here", 
     new { date = "The Value of the chosen SelectListItem" }); 
```

我怎样才能做到这一点？或者有什么不同的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:37:04.133

有关当前操作的信息可在 中找到`RequestContext`，您可以直接访问它：

```
@Url.Action(ViewContext.RequestContext.RouteData.Values["action"], 
         new { date = "The Value of the chosen SelectListItem" }); 
```

在您的情况下，我会将 url 添加到选项数据属性，然后使用 jQuery 使用它：

```
$('select#yourid').change(function() {
    document.location.href = $(this).find('option:selected').data('url'));
});​ 
```

如何在下拉列表更改时获取数据属性可以在这个[FIDDLE](http://jsfiddle.net/NpzUE/)中看到。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-23T07:28:21.677

html:

```
<select id="mySelect" name="list" size="1"> 
   <option value="1">Option 1</option> 
   <option value="2">Option 2</option> 
</select> 
<span id="tag"></span> 
```

Javascript：

```
//cache the select and span elements  var mySelect =
 document.getElementById("mySelect"), 
 tag = document.getElementById("tag");    //when it changes  
 mySelect.onchange = function() { 
 //change the tag innerHTML checking the selected value of the select 
 tag.innerHTML = mySelect.value === "1" ? "some text" : "some other text";  } 
```

那是一个例子。如果你想加载另一个页面 - 调用另一个 JS 函数或 ajax 控件

# php - 如何将网址替换为除锚文本和锚href之外的可点击链接？

> ID：13025424
> 
> 赞同：0
> 
> 时间：2012-10-23T07:24:54.400
> 
> 标签：php, javascript

```
$str="hi this http://google.com   <a href="http:
//yahoo.com">http://yahoo.com</a>"; 
```

我想将[http://google.com](http://google.com)转换为上述字符串中的可点击链接，但我不想转换已经锚文本和锚 href。

我怎样才能使用 php / javascript 实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-22T10:18:48.307

你可以使用[自动链接功能](https://github.com/iamcal/lib_autolink)来做这类事情

# javascript - 没有右侧滚动条的文本区域

> ID：13025426
> 
> 赞同：-1
> 
> 时间：2012-10-23T07:25:12.520
> 
> 标签：javascript, html, css, scrollbar

是否可以在 a 上使用 CSS`<textarea>`来删除右侧滚动条？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:28:17.567

通常，这可以通过`overflow: hidden;`style 属性来完成。

```
<textarea style="width: 500px; height: 100px; overflow: hidden;"></textarea> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:28:47.290

你试过什么了？您可以粘贴您当前使用的代码吗？尝试为您的文本区域添加以下 CSS 规则：

`overflow-y:hidden;`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T07:28:15.290

您可以分配高度值

```
textarea{height:150px; width:300px; overflow:hidden}​ 
```

**[演示](http://jsfiddle.net/qhxW3/1/)**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T07:29:09.207

尝试以下规则

```
overflow: hidden; 
```

# wpf - 打印 WPF DataGrid 内容

> ID：13025430
> 
> 赞同：3
> 
> 时间：2012-10-23T07:25:26.613
> 
> 标签：wpf, xaml

如何打印 DataGrid 的内容。我查看了以下帖子 [如何在 WPF 应用程序中生成 FlowDocument 的“打印预览”？](https://stackoverflow.com/questions/2322064/how-can-i-produce-a-print-preview-of-a-flowdocument-in-a-wpf-application)它只生成网格的可见部分而不是可滚动部分。我需要预览有多个页面，我认为我应该使用 FlowDocument，但我不知道如何去做。任何想法，将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T08:58:35.893

我前段时间遇到过这个问题。我编写了一个从 DataGrid生成**System.Windows.Documents.Table的方法。**由于**XpsDocumentWriter** ，我将它放在 FlowDocument 中并生成了一个固定的文档。然后，您将拥有可以在**DocumentViewer中可视化的 DataGrid 的完整分页视图**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-31T18:45:08.717

使用它：它工作正常。

```
public class UIPrinter
{
    #region Properties

    public Int32 VerticalOffset { get; set; }
    public Int32 HorizontalOffset { get; set; }
    public String Title { get; set; }
    public UIElement Content { get; set; }

    #endregion

    #region Initialization

    public TimelinePrinter()
    {
        HorizontalOffset = 20;
        VerticalOffset = 20;
        Title = "Print " + DateTime.Now.ToMyStringWithTime();
    }

    #endregion

    #region Methods

    public Int32 Print()
    {
        var dlg = new PrintDialog();
        if (dlg.ShowDialog() == true)
        {
            //---FIRST PAGE---//
            // Size the Grid.
            Content.Measure(new Size(Double.PositiveInfinity,
                                     Double.PositiveInfinity));

            Size sizeGrid = Content.DesiredSize;

            //check the width
            if (sizeGrid.Width > dlg.PrintableAreaWidth)
            {
                MessageBoxResult result = MessageBox.Show(Properties.Resources.s_EN_Question_PrintWidth, "Print", MessageBoxButton.YesNo, MessageBoxImage.Question);
                if (result == MessageBoxResult.No)
                    throw new PrintAborted(Properties.Resources.s_EN_Info_PrintingAborted);
            }

            // Position of the grid 
            var ptGrid = new Point(HorizontalOffset, VerticalOffset);

            // Layout of the grid
            Content.Arrange(new Rect(ptGrid, sizeGrid));

            //print
            dlg.PrintVisual(Content, Title);

            //---MULTIPLE PAGES---//
            double diff;
            int i = 1;
            while ((diff = sizeGrid.Height - (dlg.PrintableAreaHeight - VerticalOffset*i)*i) > 0)
            {
                //Position of the grid 
                var ptSecondGrid = new Point(HorizontalOffset, -sizeGrid.Height + diff + VerticalOffset);

                // Layout of the grid
                Content.Arrange(new Rect(ptSecondGrid, sizeGrid));

                //print
                int k = i + 1;
                dlg.PrintVisual(Content, Title + " (Page " + k + ")");

                i++;
            }

            return i;
        }

        throw new PrintAborted(Properties.Resources.s_EN_Info_PrintingAborted);
    }

    #endregion
} 
```

它使用选定的打印机在多个页面上打印 Datagrid 或任何其他控件...

用法：

```
 MessageBoxResult result = MessageBox.Show(Properties.Resources.s_EN_Question_Print, "Print", MessageBoxButton.YesNo, MessageBoxImage.Question);
        if (result == MessageBoxResult.Yes)
        {
            try
            {
                var border = VisualTreeHelper.GetChild(MyDataGrid, 0) as Decorator;
                if (border != null)
                {
                    var scrollViewer = border.Child as ScrollViewer;
                    if (scrollViewer != null)
                    {
                        scrollViewer.ScrollToTop();
                        scrollViewer.ScrollToLeftEnd();
                    }
                }

                Title = _initialTitle + " - " + Properties.Resources.s_EN_Info_Printing;

                var myPrinter = new UIPrinter{ Title = Title, Content = PrintGrid };
                int nbrOfPages = myPrinter.Print();

                Title = _initialTitle + " - " + Properties.Resources.s_EN_Info_PrintingDone + " (" + nbrOfPages + " Pages)";
            }
            catch (PrintAborted ex)
            {
                Title = _initialTitle + " - " + ex.Message;
            }
        } 
```

编辑：我将我的 Datagrid 放在一个包含标题控件的简单网格上，以便在我的论文上有一个标题。

# c# - 从数字转换时，值必须是小于无穷大的数字

> ID：13025432
> 
> 赞同：0
> 
> 时间：2012-10-23T07:25:28.603
> 
> 标签：c#

我只想对来自数据表的值进行四舍五入，数据来自 SQL 到数据表。数据表也有空值我猜这是问题，但也请你帮我检查

```
string Maxmonthlytable = Math.Round((decimal)monthlytable.Rows[u][3], 2, MidpointRounding.AwayFromZero).ToString(); 
```

我收到错误“从数字转换时，值必须是小于无穷大的数字”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:43:58.457

您可以使用[`DataRow.Field`](http://msdn.microsoft.com/en-us/library/bb301394%28v=vs.90%29.aspx)支持[nullables](http://msdn.microsoft.com/en-us/library/b3h38hb0.aspx)的方法：

```
decimal? num = monthlytable.Rows[u].Field<decimal?>(3);
Console.Write(num.HasValue 
                 ? Math.Round(num.Value, MidpointRounding.AwayFromZero)
                 : "no value"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:29:20.100

你可以试试：

```
decimal num = 0;
if (monthlytable.Rows[u][3] != DBNull.Value)
    num = Math.Round((decimal)monthlytable.Rows[u][3], 2, MidpointRounding.AwayFromZero)
string Maxmonthlytable = num.ToString(); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-08T23:04:36.270

Instead of using the cast `(decimal)` or using the cast `(int)`, you have to use the cast `(System.Decimal)` or `(System.Int32)` and that will make this problem go away.

# visual-studio-2010 - 在 nuget 中添加 msbuild 属性

> ID：13025434
> 
> 赞同：1
> 
> 时间：2012-10-23T07:25:42.727
> 
> 标签：visual-studio-2010, visual-studio, msbuild, nuget

我想创建一个 nuget 包，它将在 PostBuildEvent 属性之前（因为我需要在构建后事件中使用它）和导入之后（以便我可以使用 TargetDir 属性）添加一个自定义 msbuild 属性，而不会要求用户重新加载解决方案. 这可能吗？

我尝试使用 NuGet Power Tools 中的 Set-MSBuildProperty，但这会在第一个属性组中添加属性；我还尝试了 Get-MSBuildProject 和“$buildProject.Xml.AddPropertyGroup().AddProperty()”，但这会在最后一个现有属性组之后立即添加新属性组（但这可能仍然在导入之前）。更糟糕的是，这两种方法都会导致一个丑陋的对话框，询问是否应该丢弃或覆盖对项目文件的更改（这两个术语听起来同样糟糕）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T18:36:24.737

MSBuild 确实有一个 PreBuildEvent，它在链接完成后但在实际构建开始之前执行。那行得通吗？

谢谢，克莱

# javascript - jQuery/JavaScript 脚本在 IE7 上不起作用

> ID：13025436
> 
> 赞同：1
> 
> 时间：2012-10-23T07:25:43.747
> 
> 标签：javascript, jquery, internet-explorer, datepicker

我在 Internet EXPLODER 7.0 上遇到 jquery/javascript 问题。在现代浏览器（包括 IE 8 和 9）上一切正常。IE 7 不隐藏元素，不显示日期选择器 - 总体而言，该脚本不像在其他“普通”浏览器上那样工作。

这是我的 jsfiddle：http: [//jsfiddle.net/W7NHK/](http://jsfiddle.net/W7NHK/)

如果有任何帮助，我将不胜感激！

这是我的html：

```
<fieldset>

<div class="type-text">

  <label for="date_from">Date1:</label>
  <input type="text" size="20" id="date_from" name="rent-a-car[date_from]" value="" readonly="readonly" />
</div>

<div class="type-select">

    <label for="time_from_hour">Hour1: </label>
    <select id="time_from_hour" name="rent-a-car[time_from_hour]" class="select">
        <option value="">---</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
    </select>
    <span> : </span>

    <label for="time_from_minute" style="display: none;">minute1: </label>
    <select id="time_from_minute" name="rent-a-car[time_from_minute]" class="select">
        <option value="">---</option>
        <option value="00">00</option>
        <option value="15">15</option>
        <option value="30">30</option>
        <option value="45">45</option>
    </select>

</div>

<div class="type-select">

    <label for="get_car">City1:</label>
    <select id="get_car" name="rent-a-car[get_car]" class="select">
        <option value="">---</option>
        <option value="Katowice">Katowice</option>
        <option value="Kraków">Kraków</option>
        <option value="Warszawa">Warszawa</option>
        <option value="Wrocław">Wrocław</option>
        <option value="Gdańsk">Gdańsk</option>
    </select>

</div>

<div class="type-select">

    <label for="get_city_district" style="display: none;">District </label>
  <select id="get_city_district" name="rent-a-car[get_city_district]" class="select">
        <option id="e1a" value="direction1">direction1</option>
        <option id="e1b" value="direction2">direction2</option>
        <option id="e2a" value="direction3">direction3</option>
        <option id="e2b" value="direction4">direction4</option>
        <option id="e3a" value="direction5">direction5</option>
        <option id="e3b" value="direction6">direction6</option>
        <option id="e4a" value="direction7">direction7</option>
        <option id="e4b" value="direction8">direction8</option>
        <option id="e5a" value="direction9">direction9</option>
        <option id="e5b" value="direction10">direction10</option>
        <option id="e6" value="direction11">direction11</option>
        <option id="e8" value="direction12">direction12</option>
  </select>

</div>

</fieldset>

<fieldset>

<div class="type-text">

  <label for="date_to">Date2:</label>
  <input type="text" size="20" id="date_to" name="rent-a-car[date_to]" value="" readonly="readonly" />
</div>

<div class="type-select">

    <label for="time_to_hour">Hour2: </label>
    <select id="time_to_hour" name="rent-a-car[time_to_hour]" class="select">
        <option value="">---</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
    </select>
    <span> : </span>

    <label for="time_to_minute" style="display: none;">minute: </label>
    <select id="time_to_minute" name="rent-a-car[time_to_minute]" class="select">
        <option value="">---</option>
        <option value="00">00</option>
        <option value="15">15</option>
        <option value="30">30</option>
        <option value="45">45</option>
    </select>

</div>

<div class="type-select">

    <label for="return_car">City2:</label>
    <select id="return_car" name="rent-a-car[return_car]" class="select">
        <option value="">---</option>
        <option value="Katowice">Katowice</option>
        <option value="Kraków">Kraków</option>
        <option value="Warszawa">Warszawa</option>
        <option value="Wrocław">Wrocław</option>
        <option value="Gdańsk">Gdańsk</option>
    </select>

</div>

    <div class="type-select">

    <label for="return_city_district" style="display: none;">Odstawienie samochodu: </label>
  <select id="return_city_district" name="rent-a-car[return_city_district]" class="select">
        <option id="d1a" value="direction1">direction1</option>
        <option id="d1b" value="direction2">direction2</option>
        <option id="d2a" value="direction3">direction3</option>
        <option id="d2b" value="direction4">direction4</option>
        <option id="d3a" value="direction5">direction5</option>
        <option id="d3b" value="direction6">direction6</option>
        <option id="d4a" value="direction7">direction7</option>
        <option id="d4b" value="direction8">direction8</option>
        <option id="d5a" value="direction9">direction9</option>
        <option id="d5b" value="direction10">direction10</option>
        <option id="d6" value="direction11">direction11</option>
        <option id="d7" value="direction12">direction12</option>
  </select>

</div>

</fieldset>

<fieldset>

  <div style="display:none;">

<div class="type-text">

  <label for="total_hour1"> </label>
  <input type="text" size="20" id="total_hour1" name="rent-a-car[total_hour1]" value="" readonly="readonly" />
</div>

<div class="type-text">

  <label for="total_hour2"> </label>
  <input type="text" size="20" id="total_hour2" name="rent-a-car[total_hour2]" value="" readonly="readonly" />
</div>

  </div>

<div class="type-text">

  <label for="finish_day">Total day: </label>
  <input type="text" size="20" id="finish_day" name="rent-a-car[finish_day]" value="" readonly="readonly" />
</div>

    <div id="three_day">Sample TXT</div>

</fieldset> 
```

和我的js：

```
var today = new Date().getDay();
    var tomorrow = new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    tomorrow.setHours(0, 0, 0, 0);
var disabledDays = ['15/8/2012', '1/11/2012', '11/11/2012', '25/12/2012', '26/12/2012'];
function noWeekendsOrHolidays(date) {
     var noWeekends = $.datepicker.noWeekends(date);
     var holiday = $.inArray($.datepicker.formatDate('d/m/yy', date), disabledDays) > -1;
     var friSat = today >= 5 && date.getTime() == tomorrow.getTime();
     return [!friSat];
}

$(function () {

var disabledDays = ['15/8/2012', '01/11/2012', '11/11/2012', '25/12/2012', '26/12/2012'];

$.datepicker.setDefaults({
    dateFormat: 'dd/mm/yy', dayNamesMin: ['Nie', 'Pon', 'Wt', 'Śr', 'Czw', 'Pt', 'Sob'],
    dayNames: ['Niedziela','Poniedzialek','Wtorek','Środa','Czwartek','Piątek','Sobota'],
    monthNamesShort: ['Sty', 'Lut', 'Mar', 'Kwi', 'Maj', 'Cze', 'Lip', 'Sie', 'Wrz', 'Paź', 'Lis', 'Gru'],    
    changeMonth: true, changeYear: true, numberOfMonths: 1, constrainInput: true, firstDay: 1});

$('#date_from, #date_to').datepicker({
    beforeShowDay: noWeekendsOrHolidays,
    defaultDate: '+1d', minDate: '+1d',
    onSelect: function (dateText, inst) {        
        var dateMin = $('#date_from').datepicker('getDate');            
        var dateMax = $('#date_to').datepicker('getDate');            
        if (this.id == 'date_from') {            
            var rent_date_from = new Date(
                dateMin.getFullYear(), dateMin.getMonth(), dateMin.getDate() + 1);            
            var rent_date_to = new Date(
                dateMin.getFullYear(), dateMin.getMonth(), dateMin.getDate() + 29);            
            $('#date_to').datepicker('option', {minDate: rent_date_from, maxDate: rent_date_to});        
        }        
        $('#day_of_week1').val($.datepicker.formatDate('DD', dateMin));        
        $('#day_of_week2').val($.datepicker.formatDate('DD', dateMax));

        // sprawdzenie czy dzien nalezy do swiat - odbior
        if( $.inArray($("#date_from").val(), disabledDays)>=0) {  
            var freeday_value = 'holiday';
            $('#weekend_day1').val(freeday_value);
        }else{
            $('#weekend_day1').val('');
        }
        // sprawdzenie czy dzien nalezy do swiat - zwrot
        if( $.inArray($("#date_to").val(), disabledDays)>=0) {  
            var freeday_value = 'holiday';
            $('#weekend_day2').val(freeday_value);
        }else{
            $('#weekend_day2').val('');
        }

        compute(); //Add compute    
    }
    });

    $.viewMap_get = { // pokazwywanie wartoci w zaleznosci od wybranego miasta
        '0': $([]),
        'Katowice': $('#e1a, #e1b, #e6, #e8'),
        'Kraków': $('#e2a, #e2b, #e6, #e8'),
        'Warszawa': $('#e3a, #e3b, #e6, #e8'),
        'Wrocław': $('#e4a, #e4b, #e6, #e8'),
        'Gdańsk': $('#e5a, #e5b, #e6, #e8')
    };

    $.each($.viewMap_get, function() { $(this).remove(); });
    $('#get_city_district').hide();

    $('#get_car').on('change', function() {
        // hide all
        $.each($.viewMap_get, function() { $(this).remove(); });
        $('#get_city_district').hide();
        // show current
        $('#get_city_district').append($.viewMap_get[$(this).val()]).show();

        var id = $.viewMap_get[$(this).val()].attr("id");   
        $('#'+id).attr('selected', 'selected');
    });

    $.viewMap_return = {
        '0' : $([]),
        'Katowice' : $('#d1a, #d1b, #d6, #d7'),
        'Kraków' : $('#d2a, #d2b, #d6, #d7'),
        'Warszawa' : $('#d3a, #d3b, #d6, #d7'),
        'Wrocław' : $('#d4a, #d4b, #d6, #d7'),
        'Gdańsk' : $('#d5a, #d5b, #d6, #d7')
    };

    $.each($.viewMap_return, function() { $(this).remove(); });
    $('#return_city_district').hide();

    $('#return_car').on('change', function() {

        $.each($.viewMap_return, function() { $(this).remove(); });
        $('#return_city_district').hide();
        // show current
        $.viewMap_return[$(this).val()].show();
        $('#return_city_district').append($.viewMap_return[$(this).val()]).show();

        var id = $.viewMap_return[$(this).val()].attr("id");
        $('#'+id).attr('selected', 'selected');
    });

    function compute() {
        var c = $('select#time_from_hour').val();
        var d = $('select#time_from_minute').val();
        var e = $('select#time_to_hour').val();
        var f = $('select#time_to_minute').val();
        var g = $('input#date_from').val();
        var h = $('input#date_to').val();
        date1= g.split("/");
        var timestamp = (new Date(date1[2],date1[1],date1[0],c,d).getTime()/1000) + 7200;
        $('#total_hour1').val(timestamp);

        date2= h.split("/");
        var timestamp = (new Date(date2[2],date2[1],date2[0],e,f).getTime()/1000) + 7200;
        $('#total_hour2').val(timestamp);

        var x = -$('input#total_hour1').val();
        var y = -$('input#total_hour2').val();
        var total_time = x - y;
        result = total_time / 86400;
        new_number = Math.ceil(result);

        if(isNaN(new_number)) {
          var new_number = 0;
        }
        $('#finish_day').val(new_number);

        if( parseInt($("#finish_day").val()) < 4 ) {
            $('#return_car').children('option[value=' + $('#get_car').val() + ']').prop('disabled', false).attr('selected', true).siblings().prop('disabled', true);

            if ($('#return_car').val()) $('#return_car').change();
        }
        else {
            $('#get_car > option, #return_car > option').prop('disabled', false);
            $('#three_day').hide(2000, function () {
                $(this).remove();
            });
        }

    }

    //$('#three_day').hide();

    // zaznaczanie tej samej godziny i minuty
    $('#time_from_hour').change(function () {
        $('#time_to_hour').val($(this).val());
    });

    $('#time_from_minute').change(function () {
        $('#time_to_minute').val($(this).val());
    });

    // linijki konieczne do wykonania funkji compute

    $('select#time_from_hour').change(compute);
    $('select#time_from_minute').change(compute);
    $('select#time_to_hour').change(compute);
    $('select#time_to_minute').change(compute);
    //$('select#return_car').change();
    $('select#get_car').change(compute);
    $('input#finish_day').change(compute);

    $("#birthday").datepicker({
        yearRange: '1950:2010',
    });

    // konkiguracja wywietlania bledu
    $(".error").mouseover(function () {
        $(this).hide(2000, function () {
            $(this).remove();
        });
    });

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:03:20.813

您在这里有一个语法错误：`yearRange: '1950:2010',`

问题在于结尾的逗号。

请参阅此处的解释：[数组和对象中的尾随逗号是规范的一部分吗？](https://stackoverflow.com/questions/7246618/trailing-commas-in-javascript)

PS 评论用英文

# c - 如何将 char 数组转换为 unsigned int？

> ID：13025441
> 
> 赞同：2
> 
> 时间：2012-10-23T07:25:53.283
> 
> 标签：c, arrays, pointers, char, unsigned-integer

我有以下代码：

```
volatile unsigned int * address;
char * array="0x10000008"; 
```

请告诉我，将“数组”值写入“地址”变量的正确方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T07:29:35.950

你可以使用`sscanf`：

```
#include <stdio.h>

sscanf(array, "%p", &address); 
```

或`strtoull`：

```
#include <stdlib.h>

address = (unsigned int *)strtoull(array, NULL, 0); 
```

# c# - “无法将参数值从 int64 转换为 int32”

> ID：13025446
> 
> 赞同：1
> 
> 时间：2012-10-23T07:26:12.527
> 
> 标签：c#, sql-server

我在 SQL Server 表中插入了几个值。当我从前端获取值时，它们是字符串。所以我需要先将它们转换为`int`第一个，然后才能将它们插入表中。

我正在使用这段代码：

```
Int64 x = Convert.ToInt64(some string value); 
```

我想将此`x`插入表中，插入类型为 的列中`numeric(18,0)`。

进行此转换时，出现错误

> *将参数值从 int64 转换为 int32 失败*

而我所有的值都在 1000 左右。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:29:44.727

使用`int x = Convert.ToInt32(some string value)`它应该可以工作。

您的数据库需要 type 的值`Int32`。SQL Server 不会将 64 位数字隐式转换为 32 位数字，因为可能会丢失信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:31:38.337

`Int64`范围 from`−9,223,372,036,854,775,808`到`9,223,372,036,854,775,807`，如您所见，它有 19 个字符长（不包括逗号），因此它不适合您的 18 数字范围。如果您真的想使用1000`Int64`等小数字，您应该修改您的列到数据类型`bigint`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:35:12.780

对于 sql server 端的 System.Int64 (long)，您必须使用 bigint 数据类型。[http://msdn.microsoft.com/en-us/library/ms187745.aspx](http://msdn.microsoft.com/en-us/library/ms187745.aspx)

# java - 用 try 语句声明对象

> ID：13025448
> 
> 赞同：0
> 
> 时间：2012-10-23T07:26:24.560
> 
> 标签：java, exception

```
try {
  Man Fred = new Man();
} catch (exception e) {
  Print e 
}

Print Fred.getName (); 
```

弗雷德现在超出了范围。我应该怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:27:31.313

您似乎知道 Java 语法，所以在伪

```
 Man Fred = null;
    try {
      Fred = new Man();
    } catch (exception e) {
      print e 
    } finally {
       //You could do some clean up.
    }

    if(Fred != null) {
      print Fred.getName();
    } 
```

如果不..

```
 Man fred = null;
   try {
      fred = new Man();
    } catch (Exception e) {
      System.out.println(e.printStackTrace());
    } finally {
       //You could do some clean up.
    }

    if(fred != null) {
      System.out.println(fred.getName());
    } 
```

Fred 变量必须在 try 块之外声明。所以它在方法或外部范围内是可见的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-23T07:30:23.230

现在在适当的Java中：

```
Man fred = null;
try {
  fred = new Man();
} catch (Exception e) {
  e.printStackTrace(); 
}

if (fred != null) {
  System.out.println(fred.getName());
} 
```

您必须在要访问它的代码块内声明该变量。在这种特殊情况下：在“try”块之外。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T07:29:19.617

`Fred`仅*在*-block内可用`try`，因为那是您声明他的地方。相反，在块外声明他，如下所示：

```
Man fred;
try {
    fred = new Man();
} catch (Exception e) {
    e.printStackTrace();
}

if (fred != null) {
    System.out.println(fred);
} 
```

注意额外的`if (fred != null)`；因为创建 fred 可能会抛出一个`Exception`, 在这种情况下`fred`会是`null`，并且打印他可能不起作用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T09:32:33.627

正确的方法如下：

```
try
{   
    Man fred = new Man(); 
    print(fred.getName()); 
} 
catch (Exception exc) 
{   
    exc.printStackTrace();
} 
```

换句话说，您的“尝试”块应该足够大，以包含`fred`. 抵制使它们变得微小和连续的诱惑。而是使它们大而嵌套。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-23T07:30:22.313

请参阅以下更改：

```
Man Fred = null; 
Try
{   
    Fred = new Man(); 
} 
catch (exception e) 
{   
    Print e  
}  

If(Fred != null)
{
    Print Fred.getName (); 
} 
```

# silverlight - Silverlight 插件在视频会议中崩溃

> ID：13025451
> 
> 赞同：1
> 
> 时间：2012-10-23T07:26:29.530
> 
> 标签：silverlight, video, plugins, encoding, crash

我们开发了一个使用 silverlight 进行视频会议的应用程序。它可以正常工作 15 到 19 分钟，然后视频停止，silverlight 插件崩溃。

对于视频编码，我们使用 JPEG 编码器和来自 capturesource 的单个图像进行编码并在每个计时器滴答时发送..

我也尝试使用 Silversuite 但消息弹出到达即 Silversuite 过期

是编码或定时器或插件的正确解决方案...

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T10:28:19.377

我们将崩溃时间从 15 分钟延长到 1 到 1 n 1/2 小时......通过刷新内存流并减小接收缓冲区大小......

# jquery - 如何在 jquery 的帮助下从 xml 中获取一些过滤后的数据？

> ID：13025455
> 
> 赞同：0
> 
> 时间：2012-10-23T07:26:48.660
> 
> 标签：jquery, xml, xml-parsing, xmlhttprequest

```
 <Item id="419" rank="0.0000" date_added="2012-09-24T19:43:14" date_end="2012-10-15T19:43:14" uid="134333" price="  ,-" district="-1" district_text="Friend" cid="9" cid_text="Underholdning" img_height_thumb="433" />
  <Item id="418" rank="0.0000" date_added="2012-09-24T19:17:42" date_end="2012-10-15T19:17:42" uid="134332" price="  ,-" district="-1" district_text="Friend" cid="9" cid_text="Underholdning" img_height_thumb="254" />
  <Item id="405" rank="102.0000" date_added="2012-09-23T18:55:20" date_end="2012-10-14T18:55:20" uid="134331" price="  102,-" district="-1" district_text="Friend" cid="761" cid_text="Mote" img_height_thumb="280" /> 
```

这是示例 xml 数据。我正在使用这段代码来获取 xml。

我想过滤所有大于 0 的数据等级。我只想在这个地方添加过滤器，这样我的其余代码就不会改变。那么我如何过滤项目变量并在其他变量中获取过滤器值。所以循环不会生效。我可以在 for 循环中更改变量的名称。

请为此建议我任何想法。

```
xmlDoc = xmlhttp.responseXML;
        var items1 = xmlDoc.getElementsByTagName("Item");

    var items = $(items1).filter('Item').each(function () {
        var bRank = $(this).attr('rank');
        var tempRank = bRank.replace("0000", "").replace(".", "");
        if (tempRank > 0)
            return this;
    });

alert(items.length);
        alert(items1.length); 
```

两个警报的答案都是 3。

但是对于第一个警报 1 和第二个警报 3，答案应该是这样的。

但我得到相同的响应每个警报。请检查并告诉我您的建议。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:32:26.867

您可能想使用带有*函数*参数的 jQuery 的[**.filter**](http://api.jquery.com/filter/)方法：

 *```
var items = $(items1).filter(function () {
    var bRank = $(this).attr('rank');
    return parseInt(bRank, 10) > 0;
}); 
```

这是[**JS Fiddle**](http://jsfiddle.net/zc9KU/)可以玩的。我显然必须自己构建 XML 字符串，并且我摆脱了`replace`代码，因为`parseInt`它更适合从字符串中解析整数部分。

`.each`只是为某个集合的每个元素调用一些代码，但它不收集结果（就像`.map`和`.filter`做的那样） - 事实上，它只是返回原始集合。`return`函数中的语句唯一有用的`.each`是它可以用来中断迭代（当`falsy`返回值时）。*

# java - Java EE 生成的类中的 VerifyError

> ID：13025456
> 
> 赞同：0
> 
> 时间：2012-10-23T07:27:04.793
> 
> 标签：java, jakarta-ee, verifyerror

我需要创建一个可以监听套接字的 java bean (Singleton)。我尝试从@PostConstruct 调用@Asynchronous 方法，但出现异常：

```
@Singleton
@Lock(LockType.READ)
@DependsOn("CalculationServerStorage")
public class TaskManager {

    @PostConstruct
    public void init() {
        select();
    }

    @Asynchronous
    public void select() {...}
} 
```

例外：

```
Caused by: java.lang.VerifyError: class com.asu.dmsaas.calculationserver.ejb.__EJB31_Generated__TaskManager__Intf____Bean__ overrides final method getName.()Ljava/lang/String;
                at java.lang.ClassLoader.defineClass1(Native Method)
                at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
                at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
                ... 44 more 
```

我该怎么做？

# html - Css 将一个固定的 div 放入另一个具有不同分辨率的 div

> ID：13025458
> 
> 赞同：0
> 
> 时间：2012-10-23T07:27:08.010
> 
> 标签：html, css

大家好，我有一个固定位置的 div 区域。我还有另一个 div，我称之为“页面”并包含固定的 div。但是当我用不同的分辨率检查我的设计时，每个其他 div 都适合我的“页面”div，但固定位置的 div 不适合我的页面 div。

这是我的div：

```
.page {
    width: 964px;
    margin-top:6px;
    margin-left: auto;
    margin-right: auto;
    background-image:url(../images2/images/orta_alan_bg_GOLGE.png);
    background-repeat:repeat-y;
} 
```

位置固定 div

```
#rocket_left
{
  width:127px;
  height:148px;
  background-image:url(../../images2/images/tapinak_resim.jpg);
  top:244px;
  left:73px;
  position:fixed;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:29:37.567

您可以通过使用边距、填充、以 % 表示的位置而不是固定像素来使其正确

# selenium - 单击不适用于 InternetExplorerDriver Selenium

> ID：13025460
> 
> 赞同：1
> 
> 时间：2012-10-23T07:27:19.750
> 
> 标签：selenium, webforms, postback

我正在为 ASP .NET Webforms 应用程序开发大量测试。为此，我将 Selenium 与 InternetExplorerDriver 一起使用。

但是，我有一个我无法解决的问题。有时，当我调用元素的“单击”方法时，单击不起作用。在 Internet Explorer 中，按钮看起来像被点击了，但在应用程序中没有触发 click 事件。你有想法吗 ？

最后一个问题：您如何知道使用 Selenium 完成回发？WebForms 和 UpdatePanel 使用 Postbacks 来刷新内容。所以，我无法验证一个特定元素的存在......

感谢您的回答！

PS：我正在使用 IE 9 / IE 10 和 Selenium For .NET 2.25.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T10:50:15.413

我通过以下方式解决了这个问题：

```
 driver.findElement(By locator).sendKeys("\n"); 
```

要与可能已更改的元素进行交互，请尝试 fluentWait：

```
 public WebElement fluentWait(final By locator){
            Wait<WebDriver> wait = new FluentWait<WebDriver>(driver)
                    .withTimeout(30, TimeUnit.SECONDS)
                    .pollingEvery(5, TimeUnit.SECONDS)
                    .ignoring(org.openqa.selenium.NoSuchElementException.class);
            WebElement foo = wait.until(
                    new Function<WebDriver, WebElement>() {
                        public WebElement apply(WebDriver driver) {
                            return driver.findElement(locator);
                        }
                    }
            );
            return  foo;              }     ; 
```

有关 fluentWait 的详细信息，您可以在[这里获取](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html)

所以假设你有元素应该被改变，例如下面的xPath：

```
String xPathElement ="blablabla";

fluentWait(By.xpath(xPathElement)).sendKeys("\n"); 
```

希望这对你有帮助

# php - IF/ELSE 未显示所需结果

> ID：13025466
> 
> 赞同：-2
> 
> 时间：2012-10-23T07:27:38.520
> 
> 标签：php

在这个查询中寻找评论，如果有评论应该显示，如果没有评论应该显示No comments。

评论显示正确，但显示没有任何评论的 if 函数不起作用。

```
$comments = mysql_query ("SELECT * FROM comments WHERE post_id = '". $_GET['id']."'");

while ($comment = mysql_fetch_array ($comments)) {

    //If there are'nt any results
    if(mysql_num_rows($comment) < 0 ) {
        echo "No comments yet!";

} else {

    //If there are any results
        echo "<p>" . $comment['comment'] . "</p>
            <p><b>" . $comment['author'] . "</b>, " . date("M j, Y ", strtotime($comment["date"])) . "</p>";
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:30:08.493

您应该重新组织您的代码，并且在比较 0 条评论时出现错误：

```
$comments = mysql_query ("SELECT * FROM comments WHERE post_id = '". $_GET['id']."'");

//If there are'nt any results
if(mysql_num_rows($comments) == 0 ) { // <-- watch for 0 results
    echo "No comments yet!";            
}
else {
  while ($comment = mysql_fetch_array ($comments)) {                        
    //If there are any results
    echo "<p>" . $comment['comment'] . "</p>
    <p><b>" . $comment['author'] . "</b>, " . date("M j, Y ", strtotime($comment["date"])) . "</p>";
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:32:26.820

问题是：

```
if(mysql_num_rows($comment) < 0 ) 
```

您不能少于 0 行。改成：

```
if(mysql_num_rows($comment) <= 0 ) 
```

（或== 0，或者当它为0但不高于0时会触发的任何东西）

# c - 使用 libcurl 通过 HTTP POST 发送多个文件

> ID：13025479
> 
> 赞同：6
> 
> 时间：2012-10-23T07:28:27.303
> 
> 标签：c, http-post, libcurl

我正在编写一个 C 应用程序，该应用程序使用带有 libcurl 的简单 HTTP POST 请求上传文件。我可以用一个文件来做，但我不知道如何上传多个文件。我尝试使用相同代码的另一种方法，但无济于事。HTTP POST 的代码如下：

```
void sendHashes()
{
    struct curl_httppost *post = NULL;
    struct curl_httppost *last = NULL;
    CURL *curlhash;
    CURLcode response;

    curlhash = curl_easy_init();
    curl_easy_setopt(curlhash, CURLOPT_URL, URL);

    curl_formadd(&post, &last,
        CURLFORM_COPYNAME, "Hash",
        CURLFORM_FILECONTENT, "C:\\file.txt", 
        CURLFORM_END
    );

    curl_easy_setopt(curlhash, CURLOPT_HTTPPOST, post);

    response = curl_easy_perform(curlhash);
    curl_formfree(post);
    curl_easy_cleanup(curlhash);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-24T08:44:19.833

如[`docs/examples/postit2.c`](http://curl.haxx.se/libcurl/c/postit2.html)示例代码所示，并且如[文档](http://curl.haxx.se/libcurl/c/curl_formadd.html)[1] 所述，您需要做的就是调用`curl_formadd`您要上传的每个文件：

```
curl_formadd(&post,
             &last,
             CURLFORM_COPYNAME, "Foo",
             CURLFORM_FILE, "foo.txt",
             CURLFORM_END);

curl_formadd(&post,
             &last,
             CURLFORM_COPYNAME, "Bar",
             CURLFORM_FILE, "bar.txt",
             CURLFORM_END);

/* ... */ 
```

请注意，我使用了该`CURLFORM_FILE`选项而不是`CURLFORM_FILECONTENT`该选项*导致读取该文件并将其内容用作这部分中的数据*。通过检查文档 [1] 确保使用正确的选项。

专业提示：您可以使用[httpbin](http://httpbin.org/)或[echohttp](http://echohttp.com/)等调试服务轻松测试您的代码。

[1]

> 对于 CURLFORM_FILE，用户可以通过提供多个 CURLFORM_FILE 参数，每个参数后跟文件名来发送一个或多个文件。

# sql-server-2005 - 我想在 SQL Server 2005 中创建一个 2GB 的 mdf 文件。

> ID：13025480
> 
> 赞同：0
> 
> 时间：2012-10-23T07:28:39.017
> 
> 标签：sql-server-2005

我想`.mdf`在 SQL Server 2005 中创建一个 2GB 的新文件。

我可以做什么来创建 2GB 文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:36:02.467

基本上，只需启动您的 SQL Server Management Studio，转到您的对象资源管理器，然后在`Databases`节点上右键单击并选择`New database...`.

在出现的对话框中，给新数据库起一个有意义的名称，并将数据文件（`.mdf`文件）的初始大小设置为 2048 MB（= 2 GB）：

![在此处输入图像描述](../Images/a9dd37ebaad08ecbf8302fbb58d25dad.png)

点击`OK`，你就完成了。

# solr - 更改 Web 应用程序的 url

> ID：13025485
> 
> 赞同：0
> 
> 时间：2012-10-23T07:28:59.007
> 
> 标签：solr, web, web.xml

如何将 'http://localhost:8983/solr/' 更改为 'http://localhost:8983/solr-test/' ？

原因：我想在具有不同 solr home 的一台服务器上运行 2 个 solr 实例（开发和测试）。

此致。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-24T14:49:10.120

使用多核怎么样？

见：[http ://wiki.apache.org/solr/CoreAdmin](http://wiki.apache.org/solr/CoreAdmin)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:39:58.193

只需将文件夹名称从 solr 更改为 solr-test，如果你有 wamp 它在 www 目录中......

# javascript - jQuery 和 RegEx：获取数字范围作为输入

> ID：13025486
> 
> 赞同：3
> 
> 时间：2012-10-23T07:29:00.503
> 
> 标签：javascript, jquery, regex

我创建了一个 Web 应用程序，我需要在其中获取一系列数字作为输入：

例如：1-10、0-100 等。

以下是我用来将范围放入变量“s”并显示它的代码。#ucode 是我用来获取输入的文本框的 ID。

```
//JavaScript
function validate() {
    var i = $("#ucode").val(); //input
    i = i.replace(/ /,'');
    var constraint = /([0-9]+[,-])?[0-9]+$/;
    if(!constraint.test(i))
    {
        alert("Invalid Expression");
        return;
    }
    var a = i.split(","); //split and array
    var s = "";           //output string
    if(a != "")
    {
        for(n = 0; n < a.length; ++n )
        {
            var conh = /^[0-9]-[0-9]$/;
            var conc = /^[0-9]+$/;
            if(conh.test(a[n]))
            {
                var range = a[n].split("-");
                var ll = parseInt(range[0]);   //lower limit
                var ul = parseInt(range[1]);   //upper limit
                if(ul < ll) { alert("Invalid Expression"); return; }
                for(m = ll; m <= ul; ++m)
                    s += " " + m;
            }
        }
        alert(s); // Alert output
    }
} 
```

问题是此功能适用于范围 1-9 不超出该范围

如果我给 1-9，它会显示

`1 2 3 4 5 6 7 8 9`

如果我给出 1-2,5-9，它会显示

`1 2 5 6 7 8 9`

但如果我给出超过 9 即 1-10 或 5-45，它会显示一条`blank`警报消息。

我哪里错了？请帮助我提前谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T08:05:08.283

首先我感谢 @NullPointer 的想法，感谢 @Jeff 在哪里使用它。

问题出在`if()`条件上。所以我改变了代码如下，它工作正常。

```
var conh = /^[0-9]+-[0-9]+$/; //Now it matches any number of digits.
if(conh.test(a[n]))
{
  .
  :
} 
```

现在它工作正常。谢谢朋友。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:31:05.023

因为它就像

```
[0-9]   Find any digit from 0 to 9 
```

尝试一些像

```
[0-9]|[0-9][0-9] 
```

检查
[http://www.regular-expressions.info/brackets.html](http://www.regular-expressions.info/brackets.html)
和
[http://www.regular-expressions.info/repeat.html](http://www.regular-expressions.info/repeat.html)

# javafx - 文本框的上下文菜单以粗体显示菜单选项

> ID：13025487
> 
> 赞同：0
> 
> 时间：2012-10-23T07:29:08.770
> 
> 标签：javafx, contextmenu, bold

如果我右键单击 JavaFX 应用程序中的文本框，菜单项将显示为粗体。这发生在某些文本框中。例如，我们有一个登录屏幕，其中菜单项正确显示，但在另一个屏幕中以粗体显示。

注意：我没有编写任何右键单击文本框的代码，因为我猜它是一个内部功能，它显示通常的**剪切、复制、粘贴、删除和全选。**

如何避免上下文菜单显示为粗体？

仅当我将文本框前面的标签 CSS 设置为粗体时才会发生这种情况。

```
.label { -fx-font-weight:bold; } 
```

最后一件事是这些控件是动态生成的。它是一个包含标签、文本框和按钮的弹出窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T08:28:43.247

通过设置

```
.label { -fx-font-weight:bold; } 
```

通过将此 CSS 加载到场景中，您将覆盖 caspian.css 中定义的标签的全局默认 CSS 选择器，从而将场景中所有标签的所有字体粗细属性更改为粗体，以及上下文菜单的标签。
您应该定义自己的 CSS 选择器并将其仅应用于所需的标签：

```
#my-bold-label {
    -fx-font-weight:bold;
} 
```

在java代码中：

```
Label lbl = new Label("My bold text");
lbl.setId("my-bold-label"); 
```

# javascript - 如何将函数的输出添加到 JavaScript 中的数组

> ID：13025494
> 
> 赞同：0
> 
> 时间：2012-10-23T07:29:25.810
> 
> 标签：javascript

我遇到过几次这个问题。如何将函数的输出而不是函数本身添加到 JavaScript 中的数组中。考虑以下：

```
function getRandomValue(){
  returns a random number
}

myArray = [getRandomValue(), getRandomValue()]; 
```

是否可以只将随机数而不是函数本身添加到数组中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:55:26.537

您*已经*使用函数的返回值填充数组：

```
function getRandomValue(){
    //returns a random number
}

var myArray = [getRandomValue(), getRandomValue()]; // Call the function
var myArray2 = [getRandomValue, getRandomValue]; // Reference to the function 
```

标识符后面的括号导致函数被调用，它的返回值将放置在数组的适当索引处。

如果您删除如上所示的调用括号，您将使用对函数的引用填充数组，而不是它返回的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:33:13.620

您可以使用变量。

```
var a = getRandomValue();
var b = getRandomValue();
myArray = [a,b]; 
```

但是，正如评论中所说，当您调用数组中的函数时，您将结果放入数组中，而不是函数本身。因此，您的行为与我的解决方案完全相同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:47:34.817

**试试这个：如果你想要一个以上的值，只需将它放入一个循环中。**

```
var myArray= [];
console.log(myArray.push(Math.random())); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-23T07:32:55.713

另一种方法是使用 array_push 函数：

```
myarray.push(getRandomValue()); 
```

# java - JDBC性能

> ID：13025495
> 
> 赞同：0
> 
> 时间：2012-10-23T07:29:27.647
> 
> 标签：java, jdbc

我的数据库中有这些表。一是`employee`，二是`employee_Project`，三是`employee_Reporting`。每个表都有一个公共`employee_Number`作为其主键，并且它们之间存在一对多的关系，因此员工有许多项目和报告日期。

我已经`select * from employee`在三个具有方法`select * from employee_project`和. 这是基于一个有方法的类 ，并且已经完成了实现。`select * from employee_reporting``fillResultSet(Result set)``List<T> getData()``SqlDbEngine``runQuery(PreparedStatement,DataHolder)`

现在我必须设计一个`getAllEmployee()`方法以及项目和报告细节，并使用 JDBC 在 Java 中使用最佳代码。我使用了迭代器，但这种解决方案是不可接受的；现在我必须使用 foreach 循环。

这就是我所做的：

```
public List<Employee> getAllEmployees() {
    EmployeeDataHolderImpl empdataholder = new EmployeeDataHolderImpl();
    List<Employee> list_Employee_Add = null;

    try {
        Connection connection = mySqlDbConnection.getConnection();
        PreparedStatement preparedStatement = connection
                .prepareStatement(GET_ALL_EMPLOYEE_DETAILS);
        mySqlDBEngineImpl.runQuery(preparedStatement, empdataholder);
    } catch (SQLException e) {

        e.printStackTrace();
    }
    for (Employee employee : empdataholder.getData()) {
        new EmployeeDAOImpl().getProject(employee);
                    new EmployeeDAOImpl.getReport(employee);
    }
    list_Employee_Add = empdataholder.getData();
    return list_Employee_Add;

} 
```

并制作另一种方法

```
 public void getProject(Employee emp) {
    EmployeeProjectDataHolderImpl employeeProjectHolder = new EmployeeProjectDataHolderImpl();
    try {
        Connection connection = mySqlDbConnection.getConnection();
        PreparedStatement preparedStatement = connection
                .prepareStatement(GET_ALL_PROJECT_DETAILS);
        mySqlDBEngineImpl
                .runQuery(preparedStatement, employeeProjectHolder);
    } catch (SQLException e) {
        e.printStackTrace();
    }
    for (EmployeeProject employee_Project : employeeProjectHolder.getData()) {
        if (employee_Project.getEmployeeNumber() == emp.getEmpNumber()) {
            emp.getProjects().add(employee_Project);
        }
    }
}

    public void getReport(Employee emp) {
    EmployeeReportDataHolderImpl employeeReportHolder = new EmployeeReportDataHolderImpl();
    try {
        Connection connection = mySqlDbConnection.getConnection();
        PreparedStatement preparedStatement = connection
                .prepareStatement(GET_ALL_REPORT_DETAILS);
        mySqlDBEngineImpl
                .runQuery(preparedStatement, employeeReportHolder);
    } catch (SQLException e) {
        e.printStackTrace();
    }
    for (EmployeeReport employee_Report : employeeReportHolder.getData()) {
        if (employee_Report.getEmployeeNumber() == emp.getEmpNumber()) {
            emp.getProjects().add(employee_Project);
        }
    }
}
} 
```

和员工报告一样，但是这样做，这种表现会下降。没有人担心关闭连接我会这样做

请告诉我如何改进我的解决方案..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:42:03.603

您的代码存在一些问题。

1.您每次都在初始化 EmployeeDAOImpl，而您可以只保留一个实例并调用它的操作。

> new EmployeeDAOImpl().getProject(employee); new EmployeeDAOImpl.getReport(employee);

2.执行 SQL 操作后，我看不到您关闭连接的位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T08:07:41.543

你应该有

```
try {

--code statements 

}
catch(SQLException e){
e.printStackTrace();
}
finally{
-- close your connection and preparedStatement
} 
```

关闭数据库连接非常重要。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T08:03:29.833

如果我理解正确，您的代码首先加载所有`EmployeeReport`行，然后根据`getEmployeeNumber()`. 您可以通过修改 SQL 查询让您的数据库执行此操作。

由于您没有显示您的 SQL 查询（我假设它们在 中`GET_ALL_REPORT_DETAILS`），所以我只是猜测...尝试执行 SQL，如下所示：

```
select *
from employee_reporting
where employeeNumber = ? 
```

如果你把它放在一个`PreparedStatement`中，然后设置参数值，你的数据库将只返回你需要的数据。例如：

```
PreparedStatement pstmt = con.prepareStatement(GET_ALL_REPORT_DETAILS);
pstmt.setInt(1, employee.getEmployeeNumber()); 
```

那应该只返回`EmployeeReport`具有期望的记录`employeeNumber`。如果性能仍然是一个问题，您可以考虑向`EmployeeReport`表中添加索引，但那是另一回事......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T08:09:14.800

如果您使用实际代码，您的代码将产生 3 种影响：

*   您正在打开一个连接以获取员工的数据。
*   对于每个员工，您打开（和关闭）一个新连接以获取他的项目。
*   对于每个员工，您打开（和关闭）一个新连接以获取他的报告。

请注意，打开新连接会影响您的应用程序的性能。无论您使用增强的 for 循环还是迭代器，都会有很多点击会减慢您的应用程序的速度。

解决这个问题的两种方法：

1.  打开一个运行所有选择语句的连接。这比打开/关闭大量连接要好。

2.  创建单个 SQL 语句来检索员工以及每个员工所需的数据。由于不同的原因，它将具有更好的性能：

    *   与数据库的单个连接。
    *   单个查询而不是对数据库的大量查询（单个 I/O 操作）。
    *   如果您的 rdbms 允许，查询将针对未来的请求进行优化（单个查询而不是多个查询）。

我宁愿选择第二种选择。为此，我倾向于使用执行任何 SQL 选择语句并返回 ResultSet 的方法。我将发布一个基本示例（注意，提供的代码可以根据您的需要进行改进），此方法可以在您的`SqlDbEngine`课程中：

```
public ResultSet executeSQL(Connection con, String sql, List<Object> arguments) {
    PreparedStatement pstmt = null;
    ResultSet rs = null;
    try {
        pstmt = con.prepareStatement(sql);
        if (arguments != null) {
            int i = 1;
            for(Object o : arguments) {
                pstmt.setObject(i++, o);
            }
        }
        //method to execute insert, update, delete statements...
        rs = pstmt.execute();
    } catch(SQLException e) {
        //handle the error...
    }
    return rs;
} 
```

而这个其他方法来处理所有的查询操作

```
public List<Employee> getAllEmployee() {
    Connection con = null;
    ResultSet rs = null;
    List<Employee> lstEmployee = new ArrayList<Employee>();
    try {
        con = mySqlDbConnection.getConnection();
        //write the sql to retrieve all the data
        //I'm assuming these can be your columns, it's up to you
        //this can be written using JOINs...
        String sql = "SELECT E.EMPLOYEE_ID, E.EMPLOYEE_NAME, P.PROJECT_NAME, R.REPORT_NAME FROM EMPLOYEE E, PROJECT P, REPORT R WHERE E.EMPLOYEE_ID = P.EMPLOYEE_ID AND E.EMPLOYEE_ID = R.EMPLOYEE_ID";
        //I guess you don't need parameters for this...
        rs = SqlDbEngine.executeSQL(con, sql, null);
        if (rs != null) {
            Employee e;
            int employeeId = -1, lastEmployeeId = -1;
            while (rs.next()) {
                //you need to make sure to create a new employee only when
                //reading a new employee id
                employeeId = rs.getInt("EMPLOYEE_ID");
                if (lastEmployeeId != employeeId) {
                    e = new Employee();
                    lastEmployeeId = employeeId;
                    lstEmployee.add(e);
                }
                Project p = new Project();
                Report r = new Report();
                //fill values of p...
                //fill values of r...
                //you can fill the values taking advantage of the column name in the resultset
                //at last, link the project and report to the employee
                e.getProjects().add(p);
                e.getReports().add(r);
            }
        }
    } catch (Exception e) {
        //handle the error...
    } finally {
        try {
            if (rs != null) {
                Statement stmt = rs.getStatement();
                rs.close();
                stmt.close();
            }
            if (con != null) {
                con.close();
            }
        } catch (SQLException e) {
            //handle the error...
        }
    }
    return lstEmployee;
} 
```

请注意，第二种方式可能更难编码，但它会为您提供最佳性能。您可以改进提供的方法，一些建议：

*   创建一个接收 ResultSet 并`Project`使用 ResultSet 的列名称构建实例的类（类似于`Report`和`Employee`）。
*   创建一个处理 the`ResultSet`及其`Statement`关闭的方法。
*   作为最佳实践，**永远不要**使用`select * from mytable`，最好编写所需的列。

# c++ - boost scoped_lock 是否保护返回值的复制？

> ID：13025523
> 
> 赞同：3
> 
> 时间：2012-10-23T07:31:02.890
> 
> 标签：c++, boost-thread

> **可能重复：**
> [返回受保护数据时如何使用 lock_guard](https://stackoverflow.com/questions/3856729/how-to-use-lock-guard-when-returning-protected-data)

假设以下小班：

```
#include <boost/thread.hpp>
#include <vector>

class ThreadSafeIntCollection {
public:
    void add(int value) {
        boost::mutex::scoped_lock lock(mMutex);
        mVector.push_back(value);
    }

    std::vector<int> getValues() const {
        boost::mutex::scoped_lock lock(mMutex);
        return mVector;
    }
private:
    mutable boost::mutex mMutex;
    std::vector<int> mVector;
}; 
```

C++ 标准是否保证变量`lock`in`getValues()`在复制向量后被破坏？否则，此构造在线程代码中将是不安全的。

使用 g++ 4.4 进行实验，我看到以下测试程序导致了预期的结果：

```
#include <iostream>

struct Collection {
    Collection() {}
    Collection(const Collection & /*other*/) {
        std::cout << "Copied collection via copy constructor\n";
    }
    Collection operator=(const Collection & /*other*/) {
        std::cout << "Copied collection via operator=\n";
        return Collection();
    }
};

struct Lock {
    ~Lock() {
        std::cout << "Destroyed lock\n";
    }
};

class SynchronizedClass {
public:
    Collection getElements() {
        Lock l;
        return c;
    }

private:
    Collection c;
};

int main( int /*argc*/, const char* /*argv*/[] ) {
    SynchronizedClass s;
    Collection c = s.getElements();
    return 0;
} 
```

输出：

```
Copied collection via copy constructor
Destroyed lock 
```

这种行为是由 C++ 标准保证的，还是只是 g++ 行为？标准中的相关引用会很棒。

# php - 遵循客户端或服务器端验证的最佳实践是什么？

> ID：13025527
> 
> 赞同：-6
> 
> 时间：2012-10-23T07:31:27.957
> 
> 标签：php, javascript, jquery, html

使用 php 遵循客户端验证或服务器端验证的最佳实践是什么以及遵循什么以及为什么遵循？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:34:02.513

我会说两者。

客户端验证对于向用户确认他们到底做错了什么以及为什么做错很重要。这可以是实时更新，不需要任何服务器端交互（尽管可以）。

服务器端验证是为了您的确认，而不是让用户检查所提供的信息是否确实正确以及您所期望的。

两者都有自己的位置，并且彼此同样有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:35:41.143

服务器端验证必须包括使用 strip_slashes 来防止 SQL 注入攻击......

在客户端，使用 Jquery 或 JavaScript 进行必要的验证和检查，以减少服务器的负载......

您可以完全忽略它们，但如果您的应用程序有大量流量，那么您应该考虑这一点，但服务器端验证是必须的.​​.....

# c++ - Can X x(t...) ever result in a function declaration with vexing parse?

> ID：13025535
> 
> 赞同：15
> 
> 时间：2012-10-23T07:32:22.180
> 
> 标签：c++, templates, c++11, variadic-templates

I was writing a function template as

```
template<typename ...T>
void f(T ...t) {
  X x(t...);
  // ...
} 
```

When I was looking at it, I was wondering what happens for a call `f()`. Will vexing parse make x a function declaration? Compilers seem to make it a variable. Can someone help me be sure about it please?

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-23T07:52:37.893

The empty parenthesis (`()`) will make it a function declaration only if it's written as such in the source code.

`§14.5.3 [temp.variadic] p6` also mentions this:

> The instantiation of a pack expansion that is not a sizeof... expression produces a list E1, E2, ..., EN, where N is the number of elements in the pack expansion parameters. [...] When N is zero, the instantiation of the expansion produces an empty list. **Such an instantiation does not alter the syntactic interpretation of the enclosing construct**, even in cases where omitting the list entirely would otherwise be ill-formed or would result in an ambiguity in the grammar. [ *Example:*
> 
> ```
> template<class... T> struct X : T... { };
> template<class... T> void f(T... values) {
> X<T...> x(values...);
> }
> template void f<>(); // OK: X<> has no base classes
>                      // x is a variable of type X<> that is value-initialized 
> ```
> 
> *—end example* ]

See specifically the second comment in the example code.

# c - 矩阵和向量相乘，逻辑错误

> ID：13025540
> 
> 赞同：0
> 
> 时间：2012-10-23T07:32:32.703
> 
> 标签：c, arrays, matrix

我有一个函数，就是将矩阵和向量相乘：

```
 double *matrix_vector_multiply(int rows, int cols,
                           double **mat, double *vec)
{

    double *answer = malloc(rows * sizeof (double));
    int i,j;
    for (i=0; i<rows; rows++)
    ans[i]=0;

    for (i=0; i<rows; rows++){

        for (j=0; j<cols; cols++)
             {
            answer[i] = answer[i] + mat[i][j] * vec[j];
            }
        }
    return ans;
} 
```

我一直得到所有输出的 0.. 关于如何修复它的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:37:03.100

你有`ans`和`answer`。我希望你能弄清楚其余的；）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:38:25.710

这是您发布的实际代码吗？除了等方面的明显问题`ans`外`answer`，您的 for 循环是完全错误的，例如

```
for (i=0; i<rows; rows++) 
```

应该：

```
for (i=0; i<rows; i++) 
```

和：

```
 for (j=0; j<cols; cols++) 
```

应该：

```
 for (j=0; j<cols; j++) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:40:50.587

你的两个 for 循环中的变量 i 和 j 永远不会改变，因为你似乎增加了 rows 和 cols 。这意味着您将始终在第二个 for 循环的主体中执行相同的求和。您的其他答案别无选择，只能保持在 0，因为您在初始化后从不计算它们的值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T08:28:20.463

您将所有值存储为 0 `ans`，然后返回`ans`. 而您显然正在修改 variable `answer`。

# c# - 你调用的对象是空的。渲染另一个控制器的页面时出错

> ID：13025543
> 
> 赞同：0
> 
> 时间：2012-10-23T07:32:40.250
> 
> 标签：c#, .net, razor

我是 ASP.NET MVC4 的新手。我想问一下如何解决这个错误。

我正在从另一个控制器渲染另一个视图。我有两个控制器，Denomination 和 DenominationPeriod，每个都有不同的模型。我想要的是，渲染我的 DenominationPeriod 的视图。但是当我尝试运行程序时出现此错误。“你调用的对象是空的。”

这是我的面额视图中的渲染页面代码。

```
@RenderPage("~/Views/DenominationPeriod/Index.cshtml"); 
```

它说错误来自 /Views/DenominationPeriod/Index.cshtml

请帮我。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:42:49.377

我想你会得到一个错误，因为`@RenderPage`视图使用与当前视图相同的模型。您已经提到模型是不同的，所以请使用`@Html.RenderPartial`or`@Html.RenderAction`并通过参数传递所需的模型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:42:31.340

您是否尝试改用 Html.RenderAction ？

# javascript - 为什么 Firefox 和 Chrome 的 Unload 事件会在初始获取或回发后触发？

> ID：13025546
> 
> 赞同：0
> 
> 时间：2012-10-23T07:32:47.210
> 
> 标签：javascript, firefox, google-chrome

我有一个 unload 和 beforeunload 事件定义为：

```
 window.onunload =  (function () {
        alert("In unload); } ());
   window.beforeonunload = (function () {
        alert("In unload); } ()); 
```

当页面第一次加载或回发后（不是之前）时，会显示警报。它不应该。这发生在 Firefox 和 Chrome 中，但不在 IE 中。为什么？看来 IE 有正确的行为。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:39:41.097

好的，首先，您在 s 上缺少引号，因此它*根本*`alert`不应该提醒。

 *为了解决您的实际问题，您正在调用该函数，而不仅仅是声明它。

```
(function (){
    alert();
}()) 
```

（你也写`beforeonunload`。这是不正确的。应该是`onbeforeunload`） 

这会创建一个匿名函数并立即调用它。它们在 JavaScript 中通常称为 IIFE。要添加事件处理程序，您必须传递对函数的引用。所以这里正确的方法是这样的：

```
window.onunload =  function () {
     alert("In unload");
};
window.onbeforeunload = function () {
     alert("In unload");
};​ 
```

在您的情况下，分配给事件的是`undefined`，因为您的匿名函数没有`return`任何作用。如果它`return`具有功能，它将完美地工作。

Chrome 倾向于阻止 onunload 和 onbeforeunload 警报，因为这些通常是垃圾网站，试图阻止用户离开。然而，一个`console.log`完美的作品。检查[演示](http://jsfiddle.net/amaan/PQzTV/)。打开控制台，单击运行，因为当您单击运行时，代码会刷新，框架会重新加载，并且您会在页面被卸载之前触发事件，然后再次加载。*

# php - 如何向具有复选框的查询添加分页？

> ID：13025549
> 
> 赞同：1
> 
> 时间：2012-10-23T07:33:12.497
> 
> 标签：php, mysql, forms, pagination, checkbox

因此，我有一个由 Frost 慷慨提供的查询示例，它帮助我学到了很多东西（我是个新手），但我一直在尝试添加分页。我已经在网上搜索了一个星期了，有很多不同的例子，我尝试了很多，但收效甚微或没有成功。我终于能够构建您在下面看到的内容，问题是当您点击搜索时，它确实只返回 20 条记录，但页面不起作用。他们不起作用的方式是，当您单击“下一步”时，它将转到第二页但没有结果显示，如果您再次单击期待第 3 页，它不会去那里，它会停留在第 2 页。我真的不想接受任何人的宝贵时间，但我非常迷失。这是“我的”代码：

```
 <?php

    //we select all the License records
    $req_limit = mysql_query("Select License from OPLR");
    $result = mysql_numrows($req_limit);//mysql_numrows() give us the result of the     request

    // now we will use the result to limit the displayed messages
    $page_limit = '20'; //we chose the number of messages by page
    // here we divide the total by the number of messages we choose
    $page_number = $result / $page_limit; 

    // we round the number of pages to avoid commas.
    $total_number = ceil($page_number); 

    // here we take of one page because the first page will be displyed is number one
    $number = $total_number - 1; 

    // if the variable number_page is equal or defferent to 0
    if(isset($_GET['page_number']) || $_GET['page_number'] != '0' ) 

    {
    // multiplies the page limit with the current number page on the url
    $mysql_limit = $page_limit * $_GET['page_number']; 

    }
    else{ // no variable number_page

    $mysql_limit = '0'; // the limit is 0

    }

    ?>

    <?php
    /*****************************
     *  Simple SQL Search Tutorial by Frost
     *  of Slunked.com
     ******************************/

    // Set up our error check and result check array
    $error = array();
    $results = array();

    // First check if a form was submitted. 
    // Since this is a search we will use $_GET
    if (isset($_GET['search'])) {
       $searchTerms = trim($_GET['search']);
       $searchTerms = strip_tags($searchTerms); // remove any html/javascript.

       if (strlen($searchTerms) < 0) {
  $error[] = "Search terms must be longer than 3 characters.";
       }else {
          $searchTermDB = mysql_real_escape_string($searchTerms); // prevent sql         injection.
       }

       // If there are no errors, lets get the search going.
               if (count($error) < 1) {

          $searchSQL = "SELECT License, Pet_Name, Owner_Name, Species, Notes, Unowned FROM OPLR WHERE ";

  // grab the search types.
  $types = array();
  $types[] = isset($_GET['License'])?"`License` LIKE '%{$searchTermDB}%'":'';
  $types[] = isset($_GET['Pet_Name'])?"`Pet_Name` LIKE '%{$searchTermDB}%'":'';
  $types[] = isset($_GET['Owner_Name'])?"`Owner_Name` LIKE '%{$searchTermDB}%'":'';
  $types[] = isset($_GET['Species'])?"`Species` LIKE '%{$searchTermDB}%'":'';
  $types[] = isset($_GET['Unowned'])?"`Unowned` LIKE 'y'":'';

   $types = array_filter($types, "removeEmpty"); // removes any item that was empty (not checked)

  if (count($types) < 1)
     $types[] = "`Pet_Name` LIKE '%{$searchTermDB}%'"; // use the Pet_Name as a default search if none are checked

      $andOr = isset($_GET['matchall'])?'AND':'OR';

  $searchSQL .= implode(" {$andOr} ", $types) . " ORDER BY `Pet_Name`"; // order by Pet Name.

  $searchResult = mysql_query($searchSQL) or trigger_error("There was an error.<br/>"         . mysql_error() . "<br 

    />SQL Was: {$searchSQL}");

  if (mysql_num_rows($searchResult) < 1) {
     $error[] = "The search term provided {$searchTerms} yielded no results.";
  }else {
     $results = array(); // the result array
     $i = 1;
     while ($row = mysql_fetch_assoc($searchResult)) {
        $results[] = "<B>License Number: {$row['License']}</B><br />Pet Name: {$row['Pet_Name']}<br /> Owner Name: {$row['Owner_Name']}<br />Species: {$row['Species']}<br />Notes: {$row['Notes']}<br /><br />";
        $i++;
     }
  }
       }
    }

    ?>
    <?php echo (count($error) > 0)?"The following had errors:<br /><span         id=\"error\">" . implode("<br />", 

    $error) . "</span><br /><br />":""; ?>
       <form method="GET" action="<?php echo $_SERVER['PHP_SELF'];?>"         name="searchForm" id="searchform">

           <fieldset>
     <center><p>Search For:
     <input type="text" name="search" value="<?php echo         isset($searchTerms)?htmlspecialchars

    ($searchTerms):''; ?>" /></p></center>
   </fieldset>

         <fieldset>

     <div id="checks"><center>
       License Number: 
       <input type="checkbox" name="License" value="on" <?php echo         isset($_GET['License'])?"checked":''; ?> />      
       |    

     Species: 
       <input type="checkbox" name="Species" value="on" <?php echo         isset($_GET['Species'])?"checked":''; ?> /> 
        |  &nbsp;     
     Unowned: 
     <input type="checkbox" name="Unowned" value="on" <?php echo         isset($_GET['Unowned'])?"checked":''; ?> />
     <br />
             Match All Selected Fields? <input type="checkbox" name="matchall"         value="on" <?php echo isset($_GET['matchall'])?"checked":''; ?> />
 <br /><br />

     <input type="submit" name="submit" value="Search!" /></center></div>
 </fieldset>
       </form>
       <?php echo (count($error) >         0)?"The following had errors:<br /><span         id=\"error\">" .   implode("<br />", 

    $error) . "</span><br /><br />":""; ?>

      <?php echo (count($results) > 0)?"Your search: {$searchTerms} <br> <b>Returned:        </b><br /><br />" . implode("", 

    $results):""; 
    ?>
    <?php
    // If the page number different of 0 and if the page_number is unset
    if( $number != '0' && empty($_GET['page_number']))
    {
    print '<a href="registry.php?page_number=1">Next page</a>'; // we set the         page_number to 1
    }

    // in this condition, the variable page_number is set and its value is less than         $number
    elseif($number !='0' && isset($_GET['page_number']) && $_GET['page_number']         <             $number)
    {
           $next = $_GET['page_number'] + 1; // add 1 to the current page number
    print '<a href="registry.php?page_number='.$suivant.'">next page</a>'; //The link         for the next pages
    // go back to the precedent page, we used a java-script code to do it print         '&nbsp;&nbsp;<a href="javascript: history.back();">Previous page</a>';
    }

    // here, the link that will be displayed when the page number is reched
    elseif( $number !='0' && isset($_GET['page_number']) && $_GET['page_number'] >= $number )
    {
    print '<a href="javascript: history.back();">Previous page</a>';
    }
    function removeEmpty($var) {
       return (!empty($var)); 
    }
    ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:46:57.297

你有多个问题。第一个是您使用表单提交从选项中获取值（这很好），但是“下一页”链接只给出了 page_id 而不是所有其他选项。（您可以将它们放在下一个链接中（就像您使用 _GET 一样）或将提交的值存储在 sessionn 中。我更喜欢后者）。

另一个问题是，你做了一些分页计算，但你从不使用你计算的数字。您必须输入一个 mysql LIMIT 语句。（正确的一点是在“ORDER BY”之后。对于那个替换

```
" ORDER BY `Pet_Name`"; 
```

经过

```
" ORDER BY `Pet_Name` LIMIT ". $mysql_limit .",". $page_limit; 
```

但是请记住，这只会解决问题 2，您仍然必须将那些 _GET 变量放入“下一页”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:05:43.253

**改变**

`print '<a href="registry.php?page_number='.$suivant.'">next page</a>'; //The link for the next pages`

**到**

```
print '<a href="registry.php?page_number='.$next.'">next page</a>'; //The link         for the next pages 
```

# html - 使用图层将文本环绕在图像周围

> ID：13025557
> 
> 赞同：0
> 
> 时间：2012-10-23T07:33:49.763
> 
> 标签：html, css

> **可能重复：**
> [CSS：在右下角的 div 周围环绕文本？](https://stackoverflow.com/questions/499829/css-wrap-text-around-a-bottom-right-div)

是否可以有 2 层，一层带有文本，一层带有图像，并且文本环绕图像？

![在此处输入图像描述](../Images/e07f56ff91523e698ac740fbc78018d0.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:40:09.927

给 div2 a`float: right`

```
<div id="div1">
  <div id="div2">
  </div>
</div>

#div2{float:right;} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:37:42.153

不需要添加额外的 div 来放置图像。

**HTML**

```
<div><img src="" />
Content here
</div> 
```

**CSS**

```
div{width:450px; text-align:justify}
div img{float:right; margin-left:10px}​ 
```

**[演示](http://jsfiddle.net/Lucnc/2/)**

# vb.net - 数组中对象的总和计算错误

> ID：13025565
> 
> 赞同：0
> 
> 时间：2012-10-23T07:34:31.127
> 
> 标签：vb.net, sum

我收到了`Obj`带有一个名为`Number`. 这些对象的数组由索引 0..39 中的 40 个对象定义。我不需要 index 处的对象`0`。

该代码有一个静态变量，用于保存数组中所有`Number`' 的总和`Obj`。这个变量只初始化一次。在`Number`值本身被定义之后。

它通常有效，但有时我用不同对象的值记录一个异常（我无法重现），我看到那里的值`NumberAll`是错误的（我最近记录了 1722 和 2134。没关系- 但他们唯一常见的主要因素是 2。应该是 1554，如果你想知道，你可以在下面查看我 :) )。

**编辑：**异常是`Index was outside the bounds of the array`在下面的代码中引入的循环 - 这个问题的直接影响。

我尝试了两种求和方法，如下所示。

相关代码如下。代码中没有其他地方可以为 赋值`NumberAll`。

```
Static NotFirstTime As Boolean, NumberAll As Integer

If NotFirstTime = False Then GoTo Data

sPoint:    'Code and more code
' ...
' ...
breakValue = someValue Mod NumberAll
Sum = 0
I = 1
    Try
        Do
            If Sum + myArray(I).Number >= breakValue Then
                Exit Do
            End If
            Sum = Sum + myArray(I).Number
            I = I + 1
        Loop
    Catch ex As Exception
        'log error and variable data - breakValue is larger than Sum will ever get
        'hence the loop reaches the point of trying myArray(40) which doesn't exist
    End Try

' ...

Data:
    NotFirstTime = True

    myArray(1).Number = 37
    myArray(2).Number = 34
    myArray(3).Number = 44
    myArray(4).Number = 31
    myArray(5).Number = 59
    myArray(6).Number = 26
    myArray(7).Number = 33
    myArray(8).Number = 28
    myArray(9).Number = 20
    myArray(10).Number = 13
    myArray(11).Number = 92
    myArray(12).Number = 65
    myArray(13).Number = 71
    myArray(14).Number = 22
    myArray(15).Number = 22
    myArray(16).Number = 42
    myArray(17).Number = 26
    myArray(18).Number = 26
    myArray(19).Number = 33
    myArray(20).Number = 34
    myArray(21).Number = 22
    myArray(22).Number = 19
    myArray(23).Number = 85
    myArray(24).Number = 72
    myArray(25).Number = 47
    myArray(26).Number = 40
    myArray(27).Number = 47
    myArray(28).Number = 54
    myArray(29).Number = 48
    myArray(30).Number = 44
    myArray(31).Number = 37
    myArray(32).Number = 34
    myArray(33).Number = 44
    myArray(34).Number = 9
    myArray(35).Number = 57
    myArray(36).Number = 37
    myArray(37).Number = 19
    myArray(38).Number = 13
    myArray(39).Number = 68
    NumberAll = 0

    'Only one of the following methods is used. They seem to give the same result. The bug exists in both.

    'Method one
    For I = 1 To 39 'E מספר המסכתות
        NumberAll = NumberAll + myArray(I).Number
    Next I

    'Method two
    Dim myList As List(Of Obj) = New List(Of Obj)(myArray)
    NumberAll = myList.Sum(Function(b) b.Number)
    NumberAll -= myArray(0).Number
GoTo sPoint 
```

# iphone - 如何让 iPhone4 及以下版本的应用兼容 iPhone5？

> ID：13025567
> 
> 赞同：8
> 
> 时间：2012-10-23T07:34:34.713
> 
> 标签：iphone, objective-c, ios, user-interface, compatibility

我在 iphone 市场上有一个适用于 iPhone 4s 及更低版本的应用程序。所以现在 iPhone 5 已经推出了更大尺寸的屏幕，我的问题是我必须在我的应用程序中做哪些更改，以便它也与 iPhone 5 兼容。

1) 我必须为 iPhone 5 重建我的应用程序吗？

2) 我必须只在 UI 中进行更改吗？

3) iPhone 5 会兼容吗？

您的宝贵回复将对我有很大帮助。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:40:30.843

以下是我的回答，

1) 我必须为 iPhone 5 重建我的应用程序吗？

如果您想利用完整的屏幕空间，您可以添加`Default-568h@2x.png`和重建应用程序并发布它。

2) 我必须只在 UI 中进行更改吗？

您可以利用 iphone 5 的完整屏幕空间。您可以对其他 iPhone 的屏幕修改进行编码。

3) iPhone 5 会兼容吗？

是的。它将使其自动兼容。它将在顶部和底部添加一个黑色条以补偿屏幕中的额外空间，除非您添加`Default-568h@2x.png`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:41:51.857

如果你的应用使用苹果提供的标准 UIKit，你只需要在你的应用中添加一个 4 英寸的启动图像，它就会自动调整大小。但是，如果您的应用程序使用自定义控件或游戏中的大量图形，您可能需要调整图像并利用更大的屏幕。

您还必须确保您使用的方法在 iOS6 上不被弃用，以防止应用程序崩溃。如果您需要进一步阅读，请提供[一些参考资料。](https://developer.apple.com/technologies/ios6/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T07:52:13.617

要使旧应用程序与 iPhone 5 兼容，您需要查找以下内容。

1.  最新的 Xcode 版本 4.5。

2.  打开您的项目并选择升级设置以获取新版本。

3.  为新分辨率添加 Default-568h@2x.png 。

4.  对于 UI，您必须更改 xib 的对象 autoresizing 属性。当您选择 View 转到检查器并选择 size 属性时，它将显示无、全屏、Retina 4 选项。为所有 Buttons 、 labels 设置 autoresize 属性，并检查 xib 的视网膜 4 和 None 两者。这与为 Landscape 和 Portrait 设置相同。

5.其他一些更改将在代码中，因为某些方法已在 ios 6.0 中贬值。6\. 做完这一切后，你可以在iphone 5模拟器上运行它进行测试。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-23T07:57:22.927

我有一个使用 GLKMatrix3 及其支持功能的应用程序。我发现 GLKMatrix3Multiply 函数总是会在 iPhone 5 硬件上崩溃。改用 GLKMatrix4 很容易解决，但关键是如果没有在 iPhone 5 硬件上实际尝试我的应用程序，我永远不会发现问题。

我被告知要为 GLKMatrix3 问题提交一个错误，所以也许这会得到修复。但代码在 iOS 6 模拟器中运行良好。

我从中了解到，无论您是否需要为 iPhone 5 重新构建您的应用程序，您都需要至少在设备上运行您的应用程序，然后才能为该设备提供支持。

# java - Galaxy S3 和 ACR122 之间的 P2P NFC 通信

> ID：13025569
> 
> 赞同：4
> 
> 时间：2012-10-23T07:34:40.977
> 
> 标签：java, android, nfc, android-beam, nfc-p2p

我正在开发一个需要在安卓手机和 PC 之间进行 NFC 通信的项目。我使用 Galaxy S3 作为 android 手机和 ACR122 作为 NFC 阅读器。我已经在[这里](http://www.grundid.de/nfc/)和[这里](http://code.google.com/p/ismb-npp-java/)尝试过应用程序。

我使用在 android sdk 中找到的示例应用程序通过 NFC 发送 NDEF 消息。

无论我尝试了多少次，我都无法在手机和PC之间建立连接。Android 应用程序工作正常，因为它可以通过其他手机推送 NDEF 消息，但是在与 PC 连接时，它不起作用。当我将手机触碰阅读器时，阅读器上的 LED 会从红色变为闪烁的绿色和橙色，但没有其他反应。

ismb-npp-java 应用程序有日志输出：

> 获取工厂
> 
> 获取终端
> 
> 终端名称：ACS ACR122 0
> 
> T=1
> 
> 称为 rightProcedureTarget..
> 
> [debug] {sending [50 bytes]} 0xff 0x00 0x00 0x00 0x2d 0x2d 0x8c 0x8c 0x01 0x00 0x00 0x00 0x00 0x00 0x00> 0x40> 0x4010101010X010x0FE 0x0F 0xBBBBBB 0xBA 0xBA 0XBA 0XBA 0XC9 0XC9 0X000BER 0X00 0X00 0BER 0X000BER 0X00 0BBER 0xC9 0x89 0x00 0x00 0x06 0x46 0x66 0x6D 0x01 0x01 >0x10 0x00
> 
> it.ismb.npp.IsmbNppException：传输数据的问题
> 
> [调试] {发送 [7 字节]} 0xFF 0x00 0x00 0x00 0x02 0xD4 0x86
> 
> [调试] {发送 [26 字节]} 0xFF 0x00 0x00 0x00 0x15 0xD4 0x8E 0x05 0x20 0x06 0x0F 0x63 >0x6F 0x6D 0x2E 0x61 0x6E 0x64 0x72 0x6F 0x706 0x64 0xE 2
> 
> 在 it.ismb.npp.IsmbNppConnection.transceive(IsmbNppConnection.java:281)
> 
> 在 it.ismb.npp.IsmbNppConnection.rightProcedureTarget(IsmbNppConnection.java:301)
> 
> 在 it.ismb.npp.SenderToPhone$ThreadSender.run(SenderToPhone.java:90)
> 
> 在 it.ismb.npp.SenderToPhone$InitiatorTask.run(SenderToPhone.java:75)
> 
> 在 java.util.TimerThread.mainLoop（未知来源）
> 
> 在 java.util.TimerThread.run（未知来源）
> 
> it.ismb.npp.IsmbNppException：传输数据的问题
> 
> 在 it.ismb.npp.IsmbNppConnection.transceive(IsmbNppConnection.java:281)
> 
> 在 it.ismb.npp.IsmbNppConnection.rightProcedureTarget(IsmbNppConnection.java:306)
> 
> 在 it.ismb.npp.SenderToPhone$ThreadSender.run(SenderToPhone.java:90)
> 
> 在 it.ismb.npp.SenderToPhone$InitiatorTask.run(SenderToPhone.java:75)
> 
> 在 java.util.TimerThread.mainLoop（未知来源）
> 
> 在 java.util.TimerThread.run（未知来源）
> 
> 线程“Timer-0”java.lang.IllegalStateException 中的异常：卡已被移除
> 
> 在 sun.security.smartcardio.CardImpl.checkState（未知来源）
> 
> 在 sun.security.smartcardio.ChannelImpl.checkClosed（未知来源）
> 
> 在 sun.security.smartcardio.ChannelImpl.transmit（未知来源）
> 
> 在 it.ismb.npp.IsmbNppConnection.transceive(IsmbNppConnection.java:263)
> 
> 在 it.ismb.npp.IsmbNppConnection.rightProcedureTarget(IsmbNppConnection.java:317)
> 
> 在 it.ismb.npp.SenderToPhone$ThreadSender.run(SenderToPhone.java:90)
> 
> 在 it.ismb.npp.SenderToPhone$InitiatorTask.run(SenderToPhone.java:75)
> 
> 在 java.util.TimerThread.mainLoop（未知来源）
> 
> 在 java.util.TimerThread.run（未知来源）

我已经使用了我能找到的所有驱动程序（包括最新的驱动程序），但问题仍然存在。

设备可能有问题吗？或者我在这里错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T10:59:05.807

试试这个来获得 NfcAdapter

nfcP2PAdapter = NfcAdapter.getDefaultAdapter(recentContext.getApplicationContext());

//recentContext 是活动(this)

它对你有用，它对我有用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-24T04:42:43.053

你运行的是什么版本的安卓？NPP 仅适用于旧版本的 Android（我相信是 ICS 之前的版本）。

对于 ICS 和 JellyBean，请尝试使用 SNEP 协议。您正在使用的项目的作者在这里有一个 SNEP 版本：

[http://code.google.com/p/ismb-snep-java/](http://code.google.com/p/ismb-snep-java/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-09T13:51:32.963

您所说的错误来自 NppConnection.java 中的收发方法。我建议您先将手机放在阅读器上（让阅读器的 LED 变为绿色），然后再次运行应用程序。看看这是否有效。如果不是，则在收发方法中设置断点并检查 SW1 和 SW2 的值（如果命令成功，则预期 sw1 = 0x90 和 sw2 = 0x00）。如果出现错误，您会得到 sw2 不等于 0x00 或 sw1 = 0x63。

据我了解，即使您使用的是较新版本的 android，并且如果您的任何设备都不支持 snep，它们也会退回到 NPP。

# qt4 - Qt - 如何设置从 64 开始而不是从 0 开始的 QTableWidget 行索引？

> ID：13025579
> 
> 赞同：1
> 
> 时间：2012-10-23T07:35:57.450
> 
> 标签：qt4, qtablewidget, qt4.7, qt4.8, qmodelindex

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-24T16:46:39.943

如果问题是关于垂直标题标签，那么更改它们的最简单方法`QTableWidget`是使用`QTableWidget::setVerticalHeaderLabels()`.

```
#include <QApplication>
#include <QTableWidget>
#include <QTableWidgetItem>
#include <QAbstractItemModel>

#define COL_NUM 2
#define ROW_NUM 5

int main(int argc, char** argv)
{
    QApplication app(argc, argv);

    QTableWidget table(ROW_NUM, COL_NUM);
    QAbstractItemModel *model = table.model();
    QStringList labels;
    for (int i = 0; i < ROW_NUM; ++i) {
        /* Fill the row */
        for (int j = 0; j < COL_NUM; ++j) {
            QTableWidgetItem *item =
                new QTableWidgetItem(QString("item %1     %2").arg(i).arg(j));
            table.setItem(i, j, item);
        }
        /* Get row's vertical header label */
        QVariant data = model->headerData(i, Qt::Vertical);
        labels << QString("%1").arg(data.toInt() + 64);
        /* Apparently, two lines above can be replaced with one below */
        // labels << QString("%1").arg(65 + i);
    }
    /* Update vertical header labels */
    table.setVerticalHeaderLabels(labels);
    table.show();

    return app.exec();
} 
```

`QTableWidget`具有更简单的 API，但功能有限。例如，`QAbstractItemModel::setHeaderData()`is 没有操作，也没有在`QTableModel`. 另一种方法是使用`QTableView`with`QAbstractItemView`来保存数据。正如您所说，您已经在某种结构中单独拥有数据，因此您可以对您的结构进行子类化并`QAbstractItemView`生成要显示的自定义模型`QTableView`。

# css - 堆栈溢出式页脚？

> ID：13025580
> 
> 赞同：0
> 
> 时间：2012-10-23T07:36:00.753
> 
> 标签：css, user-interface, footer

Stack Overflow 上的这个页脚是一个梦想：全长页脚的颜色与正文不同，但文本与中心列对齐，并且粘在页面底部。

我想我得到了粘性部分，但无法概念化与全长页脚对齐是如何做到的。

我想知道是否有人成功地构建了像 Stack Overflow 中的页脚，以及他们是否可以帮助我理解编码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:53:56.243

这是因为 stackoverflow 与许多网站一样，使用广泛接受的 960 像素页面容器宽度标准。

在您的全宽页脚容器中，放置第二个不可见的内容容器，其宽度与主文档正文的宽度相同，例如 960 像素。这是stackoverflow的body容器：

```
#content {
    margin: 0 auto;
    width: 960px;
    min-height: 450px;
} 
```

这是页脚内容的容器：

```
.footerwrap {
    margin: 0 auto;
    text-align: left;
    width: 960px;
} 
```

此外，我不认为页脚“粘”在任何东西上。它只是在文档的末尾，所以它呈现在页面的底部。我可能错了，因为我没有详细查看 stackoverflow 的 html 源代码，但其他任何东西似乎都过大了。

# python - python中的for循环语法

> ID：13025581
> 
> 赞同：0
> 
> 时间：2012-10-23T07:36:00.613
> 
> 标签：python

抱歉，这可能是一个非常愚蠢的问题。但我确实有以下命名的错误。

```
for i in my_hash_dict:      #1st
   for y in my_hash_dict[i]:
      do something with i ...

for i in my_hash_dict:       #2nd
      do something with i... 
```

问题似乎是，如果我在第二个 for 循环中重用这个名称，“似乎”会使我的程序无法正常运行。如果我在第二个 for 循环中更改 i ，那么似乎一切正常......

也许这只是我的一些愚蠢的错字或其他原因导致了这个问题。

但我希望有经验的python程序员能给我一些答案...谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-23T07:53:06.333

问题是您使用 'i' 元素作为索引。
可能这段代码对你有用：

```
for element in my_hash_dict:     
    for y in element:
        do something with y ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:43:43.430

它是 Tichodroma 提到的语法问题，看看这个[文档](http://www.tutorialspoint.com/python/python_for_loop.htm)，你的例子看起来不错，你只需要添加`:`如果你仍然得到意外的输出，请发布它。

# ant - 访问 ant 的日志

> ID：13025585
> 
> 赞同：2
> 
> 时间：2012-10-23T07:36:45.427
> 
> 标签：ant, installation, phpunit

我正在尝试使用 phpunit 从 github 安装一个项目。该项目使用 composer 来安装依赖项。当我运行 ant 构建项目时，我收到一条简单的错误消息，但我想访问更完整的 ant 日志。它可以访问吗？

最好的，迈赫迪

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T08:05:28.417

见：
[http ://ant.apache.org/manual/running.html](http://ant.apache.org/manual/running.html)

例如使用：

```
-verbose, -v 
```

了解 ANT 的功能以及它如何解决依赖关系非常受欢迎。

塞巴斯蒂安

# html - 在 HTML 中绘制（树）图

> ID：13025587
> 
> 赞同：3
> 
> 时间：2012-10-23T07:36:51.963
> 
> 标签：html, diagram

我想在网页中有一个图表，看起来像这样（来自[维基百科](http://en.wikipedia.org/wiki/UEFA_Euro_2012#Knockout_stage)）：

![在此处输入图像描述](../Images/cd07a370bb2689ff749a79a1a92b118d.png)

（细节无关紧要 - 它不能是二叉树，也不一定是 3 级）

我目前使用一个（预先计算的）表格，其大部分边框都是透明的，但这是丑陋的编程，并且难以维护。我将如何以编程方式绘制这样的图表？我不想使用a `canvas`，因为我需要`html`在框中放置元素，主要是下拉列表和链接。

我正在考虑通过 手动定位框`CSS`，并使用以下元素绘制线条（对于水平线）：

```
<p style="border: 2px solid black; height: 0px; width: ...;  top:...; right:...;"/> 
```

这是要走的路吗？是否有一种不那么特别的画线方式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:45:31.407

我认为带有位置的面向DIV的网页：css元素是最好的方法。

# javascript - 我可以在网站加载时自动将哈希标签添加到 URL 中吗？

> ID：13025588
> 
> 赞同：2
> 
> 时间：2012-10-23T07:36:51.877
> 
> 标签：javascript, html, css, web

我想知道在网站加载时是否有任何可能的方法来重写 URL 以包含井号标签？

**示例：**
www.google.com 会自动变为 www.google.com#something？

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:38:59.893

是的，你可以这样做。

```
location.hash = 'something'; 
```

运行这段代码会将“#something”添加到所述页面的 URL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T03:28:31.050

这是一个简单的方法，如果我误解了你的问题，请纠正我！首先使用 location.hash 将“#something”添加到您的 URL 然后使用 javascript 中的 window.location 重定向到该位置。试试这个片段：

```
<html>
<head>
    <script type="text/javascript">
        location.hash = "something";
        window.location = location.hash;
    </script>
</head>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T08:13:22.473

如果您想**自动**重定向`www.google.com`到`www.google.com#something` 您可以使用 firefox 的重定向器插件。
每当您加载 www.google.com 时，插件都会自动将地址栏中的 URL 更改为 www.google.com#something （或您指定的任何内容）。

或者，您可以使用名为greasemonkey 的 Firefox 插件来编写 1 Jacob给出的行脚本。这也将达到目的。

当然，这两种解决方案都是针对 Firefox 的。

# jakarta-ee - 更新（启用/禁用）按钮

> ID：13025594
> 
> 赞同：0
> 
> 时间：2012-10-23T07:37:13.527
> 
> 标签：jakarta-ee, jsf-2, primefaces

我有一个`<p:toolBar>`包含，但这个工具 栏没有放在 表单`<p:commandButton>`
中，因为我使用的是
模板其中一个不起作用

例子 ：

```
<p:layout id="layout">  
    <p:layoutUnit position="west">  
      <p:toolbar>  
        <p:toolbarGroup align="left">  
           <p:commandButton type="button" value="New" icon="ui-icon-document" />  
           <p:commandButton type="button" value="Open" actionListener="#{bean.anyMethod}" update="frm"/>  
        </p:toolbarGroup>   
      </p:toolbar>    
    </p:layoutUnit>  

    <p:layoutUnit position="center">  
       <h:form id="frm">
         contents of h:form <p:inputText> and <p:outputText> componenets
       </h:form>
    </p:layoutUnit>  
</p:layout> 
```

我的问题是我`<p:toolbar>`不在表单中，当单击**打开按钮**时，**actionListener**正在工作并且`<h:form id="frm">`更新
但如果我想要**新按钮**，当单击以启用/禁用不起作用的**打开按钮**时，我无法`<p:toolBar>`放入表单，因为我的打开按钮正在更新`<h:form id="frm">`，如果`<p:toolbar>`放在表单中，那么 **update="frm"**`<h:form id="frm">`将给出一个无法从工具栏表单引用的异常，
请对我的问题有任何帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:48:36.750

如果我理解正确，您想在单击“*打开”按钮时禁用“**新建*”按钮。

 *您不需要将工具栏放入表单中，您可以通过 JavaScript 禁用该按钮：

```
<p:commandButton type="button" value="New" 
                 icon="ui-icon-document" 
                 widgetVar="disablethis"/>  
<p:commandButton type="button" value="Open" 
                 actionListener="#{bean.anyMethod}" update=":frm"
                 onclick="disablethis.disable()"/> 
```

还可以尝试`:frm`在您的`update`.

您还应该考虑`onclick`根据您的要求将操作更改为：

*   *启动*

在 ajax 请求开始之前执行的客户端回调。

*   *点击*

单击按钮时要执行的客户端回调。

*   *成功*

ajax 请求成功时执行的客户端回调。

*   *未完成*

ajax 请求完成时执行的客户端回调。

**编辑**

如果你想在没有显式 JavaScript 的情况下解决这个问题，你需要在你的支持 bean 中有一个标志（正如你已经发现的那样），指示打开按钮是否被禁用。然后调用`anyMethod`你的 backing bean （它将按照你的描述在里面设置那个标志），最后更新*Open*按钮：

```
<p:commandButton value="New" action="#{bean.anyMethod}" 
                 icon="ui-icon-document" update="button1"/>  
<p:commandButton id="button1" value="Open" type="button"
                 disabled="#{bean.disabled}"/> 
```

在您的支持 bean 中有适当的 getter/setter，并在以下位置设置标志`anyMethod`：

```
private boolean disabled;

public boolean isDisabled() {
    return disabled;
}

public void setDisabled(boolean disabled) {
    this.disabled = disabled;
}

public void anyMethod() {
    if (disabled) {
        disabled = false;
    } else {
        disabled = true;
    }
} 
```*

# c# - 更改文件的权限

> ID：13025597
> 
> 赞同：1
> 
> 时间：2012-10-23T07:37:27.363
> 
> 标签：c#, google-drive-api

我在 Google Drive 中有两个用户的企业帐户：用户和管理员用户（超级管理员角色）。AdminUser 创建文件夹 TestFolder，并与用户共享（读取和写入）。用户在共享文件夹 (TestFolder) 中创建文件 TestFile，并且在此文件的共享选项中只保留他的帐户（删除 AdminUser 帐户）。

我的应用程序（C#）连接到 Google Drive（作为 AdminUser），当我尝试

```
ChildrenResource.ListRequest request1 = Service.Children.List(“TestFolderID”);
do
{
  try
  {
    ChildList children1 = request1.Fetch();
    foreach (ChildReference child in children1.Items)
    {
      try
      {
        PermissionList permissions = Service.Permissions.List(child.Id).Fetch();            
      }
      catch (Exception exc)
      {
        MessageBox.Show(exc.Message);
      }
    }
    request.PageToken = children1.NextPageToken;
  }
  catch (Exception e)
  {
    request.PageToken = null;
  }
} while (!String.IsNullOrEmpty(request.PageToken)); 
```

我得到了 Google.Apis.Requests.RequestError

找不到文件：1O-XXXXXXXXXXXXXXXXXXXXXXXXXXX-XXXXXXx[404] 错误 [消息[找不到文件：1O-XXXXXXXXXXXXXXXXXXXXXXXXXXXX-XXXXXXx] 位置[-] 原因[未找到] 域 [全局]]

如何更改权限？

我知道在 Web GUI 超级管理员用户有一个菜单，他可以将所有文件的所有权从一个用户转移到另一个用户。如何在 C# 代码中执行此操作？我在 Google Drive SDK 中找不到它。

# c - 当 main() 调用 main() 时堆栈帧会发生什么

> ID：13025598
> 
> 赞同：3
> 
> 时间：2012-10-23T07:37:33.340
> 
> 标签：c, main, stack-frame

请考虑以下代码：

```
#include <stdio.h>

int main()
{
    static int counter=5;

    printf ("Counter = %d\n", counter);

    if (counter--)
    {
        main();
    }

    return 0;
} 
```

编译：

```
gcc test.c -ansi -Wall –pedantic 
```

执行：

```
[root@mars home]# ./a.out 
Counter = 5
Counter = 4
Counter = 3
Counter = 2
Counter = 1
Counter = 0 
```

这里 main() 调用了它自己()。

似乎`main()`每次`main()`自己调用函数的原始堆栈帧都会被覆盖。

但是返回地址是什么？函数可以返回到自己的堆栈帧吗？

请帮我澄清这个疑问。

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T07:46:11.090

**不**，它不会被覆盖。这是一个普通的函数调用（在这种情况下是递归的）。你可能对你的`counter`变量感到困惑。这个变量被声明为**static**，这意味着它只被**初始化一次**，所以下面的行只被“执行”了一次：

```
static int counter=5; 
```

换句话说，您可以将`counter`其视为仅初始化一次的全局变量（值为 5）。在每次调用中，`main`它都会递减，直到达到零。在那之后，所有`main`函数都返回，所以堆栈是`unwinded`（就像在正常的函数调用中一样）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T07:46:31.370

这在许多计算机语言中是很正常的，称为“递归”。每次调用函数都会创建一个新的堆栈帧，因此不会被覆盖。

外部 main() 的返回地址和往常一样是运行时库。内部 main() 的返回地址是外部 main()。

在您的示例中混淆水域的一件事是您将 counter 声明为静态的。这意味着它是在数据段~~的堆上~~而不是在堆栈上分配的（正如注释中的 alk 所解释的），因此 main() 的每次调用都共享相同的计数器实例。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T08:05:56.913

Short answer: It's a simple case of recursion. So it will allocate new stack frames & not overwrite previous frame.

Long answer:
What happens to stack Frames when **main()** calls **main()**:
C doesn't differentiate main from any other function. It's a simple, normal case of recursion. 'main' is special ONLY because, the default crt0.asm that came with the compiler (or whatever its name is in your compiler) calls main after its basic initialization (like stack pointer, etc) is done.
Apart from this difference, there is nothing, in which main is special.

# jquery - 如何在全日历中更改当前一周的背景颜色 http://arshaw.com/fullcalendar/

> ID：13025599
> 
> 赞同：1
> 
> 时间：2012-10-23T07:37:33.400
> 
> 标签：jquery, fullcalendar

我想在 Web 浏览器的加载事件中更改当前一周的背景颜色。因此，每次我看到日历时，它都会仅在 MONTH 视图中以任何背景颜色突出显示当前一周。

请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T15:28:31.837

在你的函数中添加这一行`$(document).ready`- 在 fullCalendar 初始化之后：

```
$('.fc-today').siblings().addClass('week-highlight'); 
```

这`fc-today`是代表今天的课程。让我知道这是否有帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-07T12:55:24.487

@ganeshk 的答案已停止在全日历的新交互中工作。dayClick 函数的更新答案如下：

```
dayClick: function(date, allDay, jsEvent, view) {
        // $(this).parent().siblings().removeClass('week-highlight');
        $('.week-highlight').removeClass('week-highlight');
        $(this).parent().addClass('week-highlight');
    } 
```

# c - 如何将4个字符组合成1个字符

> ID：13025602
> 
> 赞同：0
> 
> 时间：2012-10-23T07:37:43.267
> 
> 标签：c

这让我发疯，因为我不知道寻找解决方案的神奇词汇。

我初始化：

`unsigned char foo[] = {'0', 'x', '1', '1'};`

`unsigned char bar[] = {'\0'};`

本质上，我希望 bar[0] 等于值 0x11。我怎么做？我觉得很愚蠢，我很确定有一个简单的解决方案，但我无法弄清楚。我试过了

`memcpy(&bar[0], &foo[0], 1);`

但这只是让 bar[0] 的值为 0x30，这是 '0' 字符的 ascii 值。

任何帮助/提示？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:45:13.087

如果您想将文本值转换为整数，可以通过[`sscanf`](http://linux.die.net/man/3/sscanf)函数完成：

```
char * string = "0x11";
int numeric;
sscanf(string, "%i", &numeric);
// numeric is now 0x11 
```

注意：

*   `string`实际上有五个字符，因为最后有一个终止零。如果您在上面的未终止数组 {'0', 'x', '1', '1'} 上运行 C-string-expecting 函数，如果会继续处理经过数组的数据，这是您绝对不想要的.
*   在实际使用外部提供的数据时，您必须检查 sscanf 的返回值，以确保它确实完成了您想做的转换。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T07:44:08.593

符号`'a'`将字符转换为[ASCII 系统](http://www.asciitable.com/)`a`定义的数字

所以，

```
unsigned char foo[] = {'0', 'x', '1', '1'}; 
```

实际上是

```
unsigned char foo[] = {48, 120, 49, 49}; 
```

或者，十六进制

```
unsigned char foo[] = {0x30, 0x78, 0x31, 0x31}; 
```

所以，你需要的是简单

```
unsigned char bar[] = { 0x11 }; 
```

或者

```
bar[0] = 0x11; 
```

如果你已经在`bar`某个地方定义了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-23T07:51:38.607

我认为您的问题表述可能有点错误，您可能希望第一个元素`bar`具有将字符串转换`foo`为十六进制整数时获得的值：

```
char foo[] = "0x11";
char bar[1];
bar[0] = (char)strtol(foo, NULL, 0); 
```

在您最初的初始化中，`foo`您错过了尾随`\0`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T07:53:37.310

一种简单的方法：（还有更多）

如果要转换：`unsigned char foo[] = {'0', 'x', '1', '1'};`并将`0x11`其存储在`unsigned char bar[] = {'\0'};`执行此操作：

```
unsigned char foo[] = {'0', 'x', '1', '1', '\0'};//Add end of string character, to be sure
unsigned char bar[] = {'\0'};//Allocated 1 byte of memory
bar[0]=strtol(foo,NULL,16);//Include stdlib.h. Converts strings to long int and due to assignment, result downgraded to unsigned char 
```

# jquery - 使用带有 jQ uery 的键盘从锚点到锚点的动画滚动

> ID：13025603
> 
> 赞同：1
> 
> 时间：2012-10-23T07:37:44.490
> 
> 标签：jquery, scroll, anchor

我动态生成一个 html 页面，我希望能够使用箭头键上下导航，每次按 UP 或 DOWN 时滚动到下一个锚点。

这是我的代码（不起作用）

```
$(document).keydown(function(e){
    if (e.keyCode == 40) {
        console.log('keydown');
        if ( next === undefined ) {
            next = $('.js_anchor').next();
        } else {
            next = next.next();
        } 
        $(document).animate({scrollTop: next}, 2000,'easeInOutCubic');
    }
}); 
```

有任何想法吗 ？谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:57:45.863

使用一个变量来存储锚列表，然后是当前列表的键索引，如下所示：

```
$myAnchors = $('.js_anchor');
currentAnchor = -1;

$(document).keydown(function(e){
    if (e.keyCode == 40) {
        console.log('keydown');
        if ($myAnchors.length < currentAnchor+1) {
            currentAnchor++;
            $(window).animate({scrollTop: $myAnchors.eq(currentAnchor).offset().top}, 2000,'easeInOutCubic');
        }
    }
}); 
```

如果用户自己滚动并按下可能向上滚动的向下箭头，这会产生一些不良影响...使用此函数来确定要滚动到哪个：

```
function getAnchorOffset(prevnext){
    //prevnext = 'next' or 'prev' to decide which we want.
    currentPosition = $(window).scrollTop();
    for(k in $myAnchors){
        if($myAnchors[k].offset().top<currentPosition && $myAnchors[k].offset().top>closestOffset){
             closestOffset = $myAnchors[k].offset().top;
             key = k;
        }else if($myAnchors[k].offset().top>currentPosition){
            break;
        }

    }
    if(prevnext=='next'){
        return $myAnchors[key+1].offset().top;
    }else{
        return closestOffset; 
    }
} 
```

并更换

```
$(window).animate({scrollTop: $myAnchors.eq(currentAnchor).offset().top}, 2000,'easeInOutCubic'); 
```

经过

```
$(window).animate({scrollTop: getAnchorOffset('next')}, 2000,'easeInOutCubic'); 
```

请注意，它尚未经过测试，但应该接近工作，如果还没有工作的话。

# android - 使图像按钮形状与图像相同

> ID：13025615
> 
> 赞同：4
> 
> 时间：2012-10-23T07:38:27.843
> 
> 标签：android, image, button, shape

我正在使用 android API 1.5，并尝试制作一些图像供用户点击。图像具有非常随机的形状。当我将图像放在图像按钮上时，按钮本身总是矩形的。这样您就可以在不按实际图像的情况下单击按钮。我希望用户按下图像来单击按钮，而不是按下按钮上的空白点并仍然单击按钮。

有没有办法让图像按钮的可点击区域匹配随机形状的图像？

# objective-c - UITableViewCell 宽度大于 UITableView 宽度

> ID：13025616
> 
> 赞同：6
> 
> 时间：2012-10-23T07:38:34.837
> 
> 标签：objective-c, ios, uitableview

我遇到了一个奇怪的问题。我正在为我的表格视图创建一个自定义选定视图。但是，此选择视图不太适合。我发现这是因为我的选择视图是 300 像素，而单元格本身是 320 像素。奇怪的是，它`UITableView`的宽度实际上只有 300px。如何调整表格的单元格宽度？

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
   static NSString *tableIdentifier = @"Cell";

   UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:tableIdentifier];

  if (cell == nil)
    cell = [[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:tableIdentifier] autorelease];

  if (tableView == bandTable)
  {
    UIImageView *imageBg = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"column1_selected.png"]];
    [imageBg setAutoresizingMask:UIViewAutoresizingFlexibleWidth];

    [tableView setSeparatorStyle:UITableViewCellSeparatorStyleNone];
    [cell setSelectionStyle:UITableViewCellSelectionStyleGray];
    [cell setSelectedBackgroundView:imageBg];
    [imageBg release];

    NSArray *array = [bandDictionary objectForKey:@"Bands"];

    cell.textLabel.text = [array objectAtIndex:indexPath.row];
    NSLog(@"CELL: %f", cell.bounds.size.width);
  }
  return cell;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T09:14:10.803

刚设置

```
cell.frame = CGRectMake(0,
                        0,
                        self.tableView.frame.size.width,
                        cell.frame.size.height); 
```

在`cellForRowAtIndexPath`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-03-25T12:05:21.430

创建单元格后添加这两行，

```
[[cell contentView] setFrame:[cell bounds]];
[[cell contentView] setAutoresizingMask:UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-25T11:58:02.000

@IvorPrebeg，您不应该为`UITableViewCell`inside设置框架`cellForRowAtIndexPath`。将`UITableViewCell`自动设置为执行`UITableView`后的宽度。这将在您插入的标签上设置值后自动完成。`cell``layoutSubviews``cell`

`heightForRowAtIndexPath`根据字体和插入到其中的文本与单元格内的文本相同的大小来计算内部大小非常重要`cell`。就我而言，它看起来像这样：

```
- (CGFloat)tableView:(UITableView *)tableView 
           heightForRowAtIndexPath:(NSIndexPath *)indexPath{+
    ChatMessage *message = 
     [self.fetchedResultsController objectAtIndexPath:indexPath];

    CGSize size = [message.text sizeWithFont:self.messageCell.labelMessage.font
                       constrainedToSize:CGSizeMake(self.tableView.frame.size.width * 0.8f, HUGE_VAL)
                           lineBreakMode:NSLineBreakByWordWrapping];

    return size.height;
} 
```

**而不是在里面`UITableViewCell`：**

```
- (void)layoutSubviews{
    [super layoutSubviews];

    if( _fInitWidth == 0 ){
        self.labelMessage.preferredMaxLayoutWidth = 
           self.bounds.size.width * 0.8f;
    }    
    [self.contentView setNeedsDisplay];
} 
```

如您所见，`prefferedMaxLayoutWidth`内部`UILabel`my`UITableViewCell`将是`cells`宽度的 0.8 (320 * 0.8)。设置单元格属性`LayoutSubviews`后将在内部执行。`cellForRowAtIndex`之后，`UITableView`将调用`heightForRowAtIndexPath`并计算高度的大小。因此，我`UILabels`通过传递一个 width * 0.8 for `constrainedToSize`(tableview width is 320.0 * 0.8) 来计算大小，与`cell`.

示例值适用于 iPhone 设备，它们当然会在更大的屏幕上发生变化。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-05-17T11:11:44.477

**在 C# 上：**

```
public UITableViewCell GetCell(UITableView tableView, NSIndexPath indexPath){

  UITableViewCell cell = new UITableViewCell();
  cell.Frame = new CoreGraphics.CGRect(0, 0,this.selectSchoolTableview.Frame.Width, cell.Frame.Size.Height);
  cell.ContentView.AutosizesSubviews = true;
  return cell;
} 
```

另一个技巧：

```
public UITableViewCell GetCell(UITableView tableView, NSIndexPath indexPath){

UITableViewCell cell = new UITableViewCell();
cell.Accessory = UITableViewCellAccessory.None;
cell.ContentView.AutoresizingMask = UIViewAutoresizing.FlexibleWidth;
cell.ContentView.AutoresizingMask = UIViewAutoresizing.FlexibleHeight;
return cell;

 } 
```

# android - Android 启动模式不起作用

> ID：13025617
> 
> 赞同：1
> 
> 时间：2012-10-23T07:38:38.723
> 
> 标签：android, android-activity, single-instance

我从通知开始临时活动，只显示一些短信。无论我设置launchMode=singleInstance或noHistory=true，上次显示的临时活动将在从“最近打开”进入时再次显示。我希望仅在单击通知时才显示临时活动，而不是在“最近打开”中显示。先感谢您。

```
 <activity
        android:name=".NotifiticationDialog"
        android:launchMode="singleInstance"
        android:noHistory="true"
        android:theme="@android:style/Theme.Translucent.NoTitleBar" >

            Notification notification = new Notification(R.drawable.icon, context.getString(R.string.app_name), System.currentTimeMillis());
            Intent intent = new Intent(context, NotifiticationDialog.class);
            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);
            PendingIntent activity = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);
            notifycation.setLatestEventInfo(context, context.getString(R.string.app_name), message, activity);
            notifycation.flags = Notification.FLAG_AUTO_CANCEL;
            _nm.notify(NotifiticationDialog.ID, text); 
```

编辑：@Lalit Poptani，我尝试了你的建议，但这不是我需要的。在我使用 android:excludeFromRecents="true" 单击临时活动后，我的应用程序在“最近”中消失了。（用户找不到它，我的所有活动都被排除在外）

编辑：事实：我有 3 个 tmp 活动显示一些文本，就像 toast 一样，2 个是从小部件打开的，它们没有与应用程序堆栈混合。1 是从通知中打开的，它总是从“最近”中单独显示。

```
 <activity
        android:name=".AppwidgetDialog1"
        android:launchMode="singleInstance"
        android:noHistory="true"
        android:theme="@android:style/Theme.Translucent.NoTitleBar" />
    <activity
        android:name=".AppwidgetDialog2"
        android:launchMode="singleInstance"
        android:noHistory="true"
        android:theme="@android:style/Theme.Translucent.NoTitleBar" />
    <activity
        android:name=".NotifiticationDialog"
        android:excludeFromRecents="true"
        android:theme="@android:style/Theme.Translucent.NoTitleBar" > 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:41:37.270

要从最近的应用程序中删除您的活动，您可以使用[android:excludeFromRecents](http://developer.android.com/guide/topics/manifest/activity-element.html#exclude)，因此请尝试添加`android:excludeFromRecents="true"`到您的活动标签。

# python - 如何展平 optparse 结构？

> ID：13025618
> 
> 赞同：0
> 
> 时间：2012-10-23T07:38:37.680
> 
> 标签：python, django, optparse, django-commands

我正在尝试为 Django 构建管理命令，但遇到了问题。似乎该`option_list`变量需要是一个扁平的选项列表。

这是执行的代码——为简洁起见而编辑：

```
def add_options(self, parser):
    group = OptionGroup(parser, "Global Options")
    group.add_option("--logfile", metavar="FILE", \
        help="log file. if omitted stderr will be used")
    ...
    ...
    ...
    group.add_option("-s", "--set", action="append", default=[], metavar="NAME=VALUE", \
        help="set/override setting (may be repeated)")
    parser.add_option_group(group)
    parser.add_option("-t", "--output-format", metavar="FORMAT", default="jsonlines", \
        help="format to use for dumping items with -o (default: %default)") 
```

我需要获取所有选项`parser`变量，然后将其展平，即删除`OptionGroup`，同时保留选项并将它们放入一个新变量中。

Django 需要一个类来指定它的选项，这样它就可以迭代它。

```
option_list = (
    make_option('-v', '--verbosity', action='store', dest='verbosity', default='1',
        type='choice', choices=['0', '1', '2', '3'],
        help='Verbosity level; 0=minimal output, 1=normal output, 2=verbose output, 3=very verbose output'),
    make_option('--settings',
        help='The Python path to a settings module, e.g. "myproject.settings.main". If this isn\'t provided, the DJANGO_SETTINGS_MODULE environment variable will be used.'),
    make_option('--pythonpath',
        help='A directory to add to the Python path, e.g. "/home/djangoprojects/myproject".'),
    make_option('--traceback', action='store_true',
        help='Print traceback on exception'),
) 
```

我对如何做到这一点非常迷茫。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T09:01:39.467

您可以使用以下`option_list`属性获取选项：

```
>>> print parser.option_list
[<Option at 0x7f938c8243f8: -h/--help>, <Option at 0x7f938c82b3f8: -t/--output-format>] 
```

不幸的是，这将错过选项组。为此，您还必须遍历这些组。然后，您可以执行以下操作（未经测试）：

```
for group in parser.option_groups:
    option_list += tuple(group.option_list)
option_list += tuple(parser.option_list) 
```

这将失去选项的分组，但如果你需要，你可能可以摆弄一些东西来到达那里。

简而言之，只需使用`option_list`and`option_groups`属性即可。如何发现自己：使用`dir(parser)`并寻找最适用的属性；然后是一些反复试验。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:26:11.793

您应该能够像这样添加选项：

```
option_list += (
    make_option("--logfile", metavar="FILE", \
        help="log file. if omitted stderr will be used"),
    make_option("-s", "--set", action="append", default=[], metavar="NAME=VALUE", \
        help="set/override setting (may be repeated)"),
) 
```

# request - Tomcat7 从 Tomcat5.5 和 Struts1.1 中断请求参数行为？

> ID：13025621
> 
> 赞同：0
> 
> 时间：2012-10-23T07:38:49.070
> 
> 标签：request, tomcat7, struts-1, http-request-parameters

我有一个指向我的 servlet（Struts 1.1 App）的链接。

```
http://myserver.com/app/preview.do;jsessionid=1234567;p1=test;filename=/page2.htm 
```

在 Tomcat5.5 和 jdk1.6 中一切正常，但现在使用 tomcat7 和 jdk7，它不再工作了。Tomcat 现在发送 404 错误，因为

```
/app/preview.do;jsessionid=1234567;p1=test;filename=/page2.htm" could not be found on server 
```

所以它试图在路径中找到文件 page2.htm。

有人知道如何配置 Tomcat 以使其再次工作吗？

# sql - if 语句的内连接

> ID：13025631
> 
> 赞同：1
> 
> 时间：2012-10-23T07:39:08.627
> 
> 标签：sql, sql-server, if-statement, inner-join

我正在尝试构建以下 sp ：

```
USE [MarMoniApp]
GO
/****** Object:  StoredProcedure [dbo].[Desc_by_date]    Script Date: 10/23/2012     09:01:40 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER PROCEDURE [dbo].[Desc_by_date]
@DateToSearch varchar(50)
AS
BEGIN
select a.ticker,a.First_T, a.Last_T, a.Size_mln, a.pct_d_vol,a.a_trad,a.coolname,a.recency,b.Analyst
from Order_Desc a

CASE
When a.coolname = 'ELTORO'
then (Inner join MarMoniApp.dbo.Namelist b on a.ticker = b.ticker )
END

where convert(datetime, cast(rtrim(First_T) AS nvarchar)) > DateToSearch 
order by  CONVERT(DATETIME, cast(rtrim(First_T) AS nvarchar) )  DESC
END 
```

我只想在“coolname”等于 eltoro 的情况下进行内部连接，但我的语法似乎不正确。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:43:58.703

制作两个 select 语句然后合并它们怎么样。

```
select ... from Order_Desc a
Inner join MarMoniApp.dbo.Namelist b on a.ticker = b.ticker
where a.coolname = 'ELTORO' AND ...

union

select ... from Order_Desc a
where a.coolname != 'ELTORO' AND ... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T10:15:33.780

您应该使用**左外连接**，如下所示：

```
select a.ticker,a.First_T, a.Last_T, a.Size_mln, a.pct_d_vol,a.a_trad,a.coolname,a.recency,b.Analyst
from Order_Desc a
LEFT OUTER JOIN MarMoniApp.dbo.Namelist b
on a.ticker = b.ticker
**where 
(   
    (a.coolname <> 'ELTORO')
    OR
    (a.coolname = 'ELTORO' AND a.ticker = b.ticker)
)** 
AND convert(datetime, cast(rtrim(First_T) AS nvarchar)) > DateToSearch 
order by  CONVERT(DATETIME, cast(rtrim(First_T) AS nvarchar) )  DESC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:46:06.740

可能你需要类似的东西：

```
INNER JOIN
 MarMoniApp.dbo.Namelist b 
ON 
 a.coolname = 'ELTORO'
 AND a.ticker = b.ticker 
```

基本上——你不能做有条件的加入。您只能选择要加入的行。

如果`MarMoniApp.dbo.Namelist`仅在`a.coolname = 'ELTORO'`使用时才需要表中的列`LEFT JOIN`。

另一种选择（即在性能是关键的情况下）是`UNION ALL`按照[@Turcia 的](https://stackoverflow.com/users/172412/turcia) [建议](https://stackoverflow.com/a/13025696/1483)使用（使用 NULL 作为不带部分的额外列的值`JOIN`）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T07:47:03.913

免责声明：我主要使用 postgres 和 mysql，所以我不知道 CASE 语法...但是，按照我阅读您的 SQL 的方式，我会将“CASE”中的部分写为

```
WHERE 
Inner join MarMoniApp.dbo.Namelist b on a.ticker = b.ticker and a.coolname='ELTORO')
and convert(datetime, cast(rtrim(First_T) AS nvarchar)) > DateToSearch 
order by  CONVERT(DATETIME, cast(rtrim(First_T) AS nvarchar) )  DESC 
```

（当然，我可能误解了 CASE 语法的概念）

# ios - 屏蔽 UIImage 并设置彩色图像

> ID：13025634
> 
> 赞同：1
> 
> 时间：2012-10-23T07:39:42.950
> 
> 标签：ios, uiimage, uigesturerecognizer, uicolor

我正在开发一个与gestureRecognizer 一起使用的应用程序。
使用手势可以选择 UIImage（例如 rectangle.png），并且可以使用 UIPopoverView 通过选择所选图像的颜色来更改该图像的颜色。

该图像位于 UIImageView 中，我认为最好的解决方案是掩盖该图像并设置具有 dame 大小和框架的彩色图像。

这是正确的方法吗？如何优化我的方法？哪个可能是此要求的最佳实践？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-16T12:11:18.777

```
 (UIImage *)maskImage:(UIColor *)maskColor
{
    CGRect rect = CGRectMake(0, 0, self.size.width, self.size.height);

    UIGraphicsBeginImageContext(rect.size);

    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextTranslateCTM(context, 0, rect.size.height);
    CGContextScaleCTM(context, 1.0, -1.0);
    CGContextClipToMask(context, rect, self.CGImage);
    CGContextSetFillColorWithColor(context, maskColor.CGColor);
    CGContextFillRect(context, rect);

    UIImage *smallImage = UIGraphicsGetImageFromCurrentImageContext();

    UIGraphicsEndImageContext();

    return smallImage;
} 
```

# jsf - Icefaces 和 jsf 托管 Bean

> ID：13025636
> 
> 赞同：0
> 
> 时间：2012-10-23T07:39:51.420
> 
> 标签：jsf, jakarta-ee, icefaces, icefaces-3

我有一个 JSF 应用程序，我在其中使用它重新创建我的 bean

```
FacesContext
           .getCurrentInstance()
              .getExternalContext()
                 .getSessionMap()
                    .put("myBean" , new MyBean()); 
```

现在所有的值都消失了，但一个值仍然存在，下次提交并销毁所有输出（我的意思是它显示错误的输出）。
实际上我正在使用 ICEFACES 自动填充标签，并且该字段提交的值不会被删除。
icefaces 是否使用另一张地图作为其 bean？如果是，那么我怎样才能从 icefaces 会话地图中获取 bean？
我无法理解这个问题。有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T10:46:23.590

显然你在错误的时刻重新创建它。您需要在调用操作阶段执行此操作，而不是之前。否则，更新模型值阶段仍将使用提交的值填充 bean。

# gwt - 在 GWT 中触发 (KEY_ENTER) 按键事件

> ID：13025637
> 
> 赞同：7
> 
> 时间：2012-10-23T07:39:57.613
> 
> 标签：gwt

我想要做的是在 GWT 中触发回车按键事件。这是我的钥匙处理程序：

```
 itemBox.addKeyDownHandler(new KeyDownHandler() { 
          public void onKeyDown(KeyDownEvent event) {
                 if(event.getNativeKeyCode == KeyCodes.KEY_ENTER) {
                       // do something
                 } 
```

然后稍后我想触发一个输入按键事件，但我似乎无法弄清楚我是如何做到这一点的。我想做一些类似 KeyDownEvent.setNativeKeyCode(KEY_ENTER) 的事情。

```
 textBox.fireEvent(new KeyDownEvent(null)); 
```

可以设置这些参数吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-23T08:02:59.933

您可以使用 DomEvent.fireNativeEvent 而不是 textBox.fireEvent 来触发事件。

这是一个如何执行此操作的工作示例：

```
final TextBox tb = new TextBox();
tb.addKeyDownHandler(new KeyDownHandler() {

    @Override
    public void onKeyDown(KeyDownEvent event) {
     if(event.getNativeKeyCode() == KeyCodes.KEY_ENTER) {
                 Window.alert("enter!");
           }
    }
});

Button b = new Button("keyevent");
b.addClickHandler(new ClickHandler() {

    @Override
    public void onClick(ClickEvent event) {
    DomEvent.fireNativeEvent(Document.get().createKeyDownEvent(false, false, false, false, KeyCodes.KEY_ENTER), tb);
    }
});

RootPanel.get().add(tb);
RootPanel.get().add(b); 
```

# reporting-services - Reporting Services - 在组中发现价值

> ID：13025643
> 
> 赞同：0
> 
> 时间：2012-10-23T07:40:17.863
> 
> 标签：reporting-services, grouping, aggregate-functions

我有一列包含三个可能的值：

-1、0 和任何大于 0 的值。

在每个组中，我必须验证所有值是否等于 -1 以及是否存在 ALMOST 0 值。是否可以？

我试图以这种方式解决它：

```
=IIf(CountDistinct(Fields!Flag_09.Value,"Group1") = CountRows("Group1")
     And First(Fields!Flag_09.Value = "-1"), "-",
     [ ???? ]) 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:18:42.497

据我所知，您想查看组中的所有详细信息行是否为-1，然后执行某些操作。幸运的是，您的数据提供了一个非常简单的解决方案：

```
=IIF(CountRows("Group1") = 0 - SUM(Fields!MyField.Value), "-", "They aren't all -1") 
```

也就是说，如果行数等于该字段之和的负数，则所有字段中都有-1。

# php - Magento 获取父类别及其所有子类别

> ID：13025644
> 
> 赞同：1
> 
> 时间：2012-10-23T07:40:18.800
> 
> 标签：php, magento

这是我的类别树：

```
Cat_1 (This is the parent category with ID 4)
    Subcat_1
    Subcat_2
        Subsubcat_1
        Subsubcat_2
    Subcat_3
        Subsubcat_3
        Subsubcat_4
    Subcat_4 
```

我尝试了这段代码来检索这个类别树，但我只达到了 subcats 的级别。我需要更深一层。

```
<?php
$cat = Mage::getModel('catalog/category')->load(4);
$subcats = $cat->getChildren();

foreach(explode(',',$subcats) as $subCatid)
{
  $_category = Mage::getModel('catalog/category')->load($subCatid);
  if($_category->getIsActive()) {
    $sub_cat = Mage::getModel('catalog/category')->load($_category->getId());
    $sub_subcats = $sub_cat->getChildren();
    foreach(explode(',',$sub_subcats) as $sub_subCatid)
    {
          $_sub_category = Mage::getModel('catalog/category')->load($sub_subCatid);
          if($_sub_category->getIsActive()) {
              echo '<li class="sub_cat"><a href="'.$_sub_category->getURL().'" title="View the products for the "'.$_sub_category->getName().'" category">'.$_sub_category->getName().'</a></li>';
          }
     }
  }
}
?> 
```

有人能帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T08:14:20.183

试试这个。

```
<?php
$cat = Mage::getModel('catalog/category')->load(4);
$subcats = $cat->getChildren();

foreach(explode(',',$subcats) as $subCatid)
{
  $_category = Mage::getModel('catalog/category')->load($subCatid);
  if($_category->getIsActive()) {
    echo '<ul><a href="'.$_category->getURL().'" title="View the products for the "'.$_category->getName().'" category">'.$_category->getName().'</a>';
    $sub_cat = Mage::getModel('catalog/category')->load($_category->getId());
    $sub_subcats = $sub_cat->getChildren();
    foreach(explode(',',$sub_subcats) as $sub_subCatid)
    {
          $_sub_category = Mage::getModel('catalog/category')->load($sub_subCatid);
          if($_sub_category->getIsActive()) {
              echo '<li class="sub_cat"><a href="'.$_sub_category->getURL().'" title="View the products for the "'.$_sub_category->getName().'" category">'.$_sub_category->getName().'</a></li>';
              $sub_sub_cat = Mage::getModel('catalog/category')->load($sub_subCatid);
              $sub_sub_subcats = $sub_sub_cat->getChildren();
              foreach(explode(',',$sub_sub_subcats) as $sub_sub_subCatid)
              {
                $_sub_sub_category = Mage::getModel('catalog/category')->load($sub_sub_subCatid);
                if($_sub_sub_category->getIsActive()) {
                    echo '<li class="sub_cat"><a href="'.$_sub_sub_category->getURL().'" title="View the products for the "'.$_sub_sub_category->getName().'" category">'.$_sub_sub_category->getName().'</a></li>';
                }
              }
           }
     }
     echo '</ul>';
  }
}

?> 
```

# .htaccess - 将 /SUBDIRECTORY 重写为 /subdirectory

> ID：13025650
> 
> 赞同：2
> 
> 时间：2012-10-23T07:40:52.297
> 
> 标签：.htaccess, rewrite, uppercase, lowercase

我想这样做，如果访问者导航到：

```
http://www.website.com/folder 
```

他们被重定向到：

```
http://www.website.com/FOLDER 
```

我只想影响（或打算）这个特定的文件夹。

我试过了：

```
RewriteEngine On
RewriteBase /FOLDER/
RewriteRule ^folder(/.*)?$ /FOLDER$1 [L,R=301] 
```

但我认为这是不对的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T09:12:43.390

在文档根目录的 htaccess 文件中，

```
RewriteEngine On
RewriteRule ^folder(/.*)?$ /FOLDER$1 [L,R=301] 
```

应该足够好。您不需要重写基础，但我认为这不会影响它。

# javascript - 在我的 JS 中提交时添加禁用按钮

> ID：13025651
> 
> 赞同：0
> 
> 时间：2012-10-23T07:40:56.743
> 
> 标签：javascript, jquery

如何在我的代码下方包含 JS 禁用按钮 ON SUBMIT ：

```
$(document).ready(function(){

        $('#haps').bind("blur focus keydown keypress keyup", function(){recount();});
        $('input.button').attr('disabled','disabled');

        $('#hapsForm').submit(function(e){

            haps();

        });

    }); 
```

这个我给出了防止双重发布的功能。那么有一个想法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:43:17.393

你可以通过

```
attr('disabled', 'disabled'); 
```

像

```
 $('#hapsForm').submit(function(e){
  $(this).attr('disabled', 'disabled');
            haps();

        }); 
```

# javascript - Radpanelbar 滚动问题

> ID：13025653
> 
> 赞同：5
> 
> 时间：2012-10-23T07:40:58.517
> 
> 标签：javascript, ajax, c#-4.0, telerik

我有 Telerik 控件 RadPanelBar 的滚动问题。页面处于自动刷新状态。在页面刷新 RadPanelBar 滚动向上。我用 JavaScript 处理这个。下面是图片。

![在此处输入图像描述](../Images/13f41aa86854f2fdb40cd3de1d88dd46.png)

下面是代码。它适用于经销商联系人滚动，但不适用于员工。我正在尝试相同的方式（方法）来保持员工的滚动位置。

```
<script type="text/javascript">

   $(".rpSlide ul").scroll(function() { 
       SaveStafftScrollPosition();            
   });

   function SaveStaffScrollPosition(){
       yPos = $(".rpSlide ul").scrollTop();        
   }

   function ReturnStaffScrollPosition() {
       $(".rpSlide ul").scrollTop(yPos);        
   }

   function OnResponseEnd(sender ,eventArgs){
       ReturnStaffScrollPosition();
   }

   function OnRequestStart(sender ,eventArgs){
       SaveStafftScrollPosition();
   } 
```

在 HTML 中有一段代码。

```
<telerik:RadAjaxManager ID="RadAjaxManager1"  runat="server"
         ClientEvents-OnRequestStart="OnRequestStart" 
         ClientEvents-OnResponseEnd="OnResponseEnd" 
         OnAjaxRequest="RadAjaxManager1_AjaxRequest">
    //some code here
</telerik:RadAjaxManager> 
```

问题是当我向下滚动时，它为员工保存了滚动位置为零。为什么即使我向下滚动到中间/末尾，它也总是将员工联系人的滚动位置保存为零？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T14:11:59.520

您是否尝试过使用标签的`MaintainScrollPositionOnPostback`属性并将属性设置为？`@Page``AutoEventWireup``false`

```
<%@ Page Language="VB" AutoEventWireup="false" CodeFile="YourPage.aspx.vb"
MaintainScrollPositionOnPostback="true" Inherits="YourPageClass" %> 
```

> **MSDN 文档**
> 
> ***自动事件连线***
> 
> 指示页面的事件是否自动装配。如果启用了事件自动装配，则为 true；否则为假。默认值为真。有关详细信息，请参阅 ASP.NET Web 服务器控件事件模型。
> 
> ***维护ScrollPositionOnPostback***
> 
> 指示回发后是否将用户返回到客户端浏览器中的相同位置。如果用户应该返回到相同的位置，则为 true；否则为假。默认值为假。
> 
> *注意*：开发者可以通过在Web.config文件的元素上设置maintainScrollPostitionOnPostback属性（注意在配置文件中区分大小写）来为所有页面定义这个属性。

# node.js - soundcloud 节点 npm

> ID：13025654
> 
> 赞同：2
> 
> 时间：2012-10-23T07:41:01.873
> 
> 标签：node.js, soundcloud

是否有用于与 SoundCloud 交互的官方或“祝福”Node.js NPM 模块。

周围有一些包装器 API。我想知道是否有社区喜欢的人。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:11:00.917

有一个。

[https://github.com/podviaznikov/soundcloud-node](https://github.com/podviaznikov/soundcloud-node)

```
npm install soundcloud 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-11T23:05:13.773

node.js 没有一个有福的模块。这里有一个不错的包：[https ://github.com/khilnani/soundclouder.js/blob/master/lib/soundclouder.js](https://github.com/khilnani/soundclouder.js/blob/master/lib/soundclouder.js)

它目前得到维护，但仍然非常基本

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-14T13:54:33.820

我刚刚更新了我自己的 Soundcloud NodeJS Api-Wrapper 包：[https ://www.npmjs.com/package/soundcloud-nodejs-api-wrapper](https://www.npmjs.com/package/soundcloud-nodejs-api-wrapper)

您只能进行服务器端 API 通信，其中包括对给定凭据的帐户进行数据操作。不需要用户权限弹出窗口。

到目前为止，我还没有找到任何其他支持这个的 nodejs 包。

# magento - Magento 网站关闭 403 被禁止/被黑

> ID：13025657
> 
> 赞同：0
> 
> 时间：2012-10-23T07:41:07.253
> 
> 标签：magento, http-status-code-403

您无权访问此服务器上的 /index.php。

此外，在尝试使用 ErrorDocument 处理请求时遇到 403 Forbidden 错误。

index.php 的文件权限已更改为 0000，如果我将其更改为 0755 甚至删除文件，index.php 会自行重新创建。

错误日志不显示任何内容。

[http://sitecheck.sucuri.net/scanner/](http://sitecheck.sucuri.net/scanner/)无法在网站上运行恶意软件扫描，因为该网站返回 403 Forbidden。

请指导

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T16:18:36.573

> 发现它是共享主机的原因，并且服务提供商已禁用 index.php，因为它导致服务器上的负载过多。也许我必须启用缓存并禁用日志记录以提高性能。

您的托管服务提供商发现 Magento 在他们的服务器上的负载过大，并已删除了运行它的能力。Magento 不善于与他人相处，讨厌与他人共享资源。小型站点只能在共享主机上运行，​​前提是您的托管服务提供商优化了他们的服务器以与 Magento 一起使用，并极大地限制了每台服务器的站点数量。

是时候寻找了解托管 Magento 的托管服务提供商了。

# android - 如何克服“无法在未调用 Looper.prepare() 的线程内创建处理程序”问题？

> ID：13025659
> 
> 赞同：0
> 
> 时间：2012-10-23T07:41:13.797
> 
> 标签：android, android-asynctask, android-fragments, android-fragmentactivity

我正在尝试在 viewpager 中创建片段。在适配器中，我使用线程来创建片段。在线程内部，我正在执行进一步获取片段的 AsyncTask。在每个片段类（OneFragment、TwoFragment）中，我都有 AsyncTask 从 Web 访问一些 API。如果我根本不使用线程和 AsyncTask，则该应用程序可以正常工作。我正在使用它来获得更流畅的 UI 性能。但它正在获取错误。我已经就同一问题浏览了一些已经存在的主题。但我无法弄清楚这其中的原因。谁能指出我在这里做错了什么？

这是我的适配器类和 AsyncTask 类：

```
class SectionsPagerAdapter extends FragmentStatePagerAdapter {
     Activity activity;
     Fragment f = null;
public SectionsPagerAdapter(FragmentManager fm, Activity activity) {
    super(fm);
    this.activity = activity;
}

@Override
public Fragment getItem(int i) {        
    switch (i) {
    case 0: {           
        activity.runOnUiThread(new Runnable() {
            public void run() {
        try {
             f =  new FetchFragment().execute("one").get();             
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (ExecutionException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
            }
        });             
        return f;
    }
    case 1: {
        activity.runOnUiThread(new Runnable() {
            public void run() {
        try {
             f =  new FetchFragment().execute("two").get();             
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (ExecutionException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
            }
        });             
        return f;
    }
    }
    return null;
}

@Override
public int getCount() {
    return 2;
}

@Override
public CharSequence getPageTitle(int position) {
    switch (position) {
    case 0:
        return "one";
    case 1:
        return "two";
    }
    return null;
}

class FetchFragment extends AsyncTask<String, Void, Fragment>
{   
@Override
protected Fragment doInBackground(String... arg0) {     
    if(arg0[0].equalsIgnoreCase("one"))
    {
        Fragment fragment = new OneFragment();
        Bundle args = new Bundle();
        args.putInt(CategoriesFragment.ARG_SECTION_NUMBER, 1);
        fragment.setArguments(args);
        return fragment;
    }
    if(arg0[0].equalsIgnoreCase("two"))
    {
        Fragment fragment = new TwoFragment();
        Bundle args = new Bundle();
        args.putInt(FeaturedFragment.ARG_SECTION_NUMBER, 2);
        fragment.setArguments(args);
        return fragment;
    }       
    return null;
}

@Override
 protected void onPostExecute(Fragment fragment){}
}
} 
```

这是我的错误日志。

```
10-23 12:52:28.835: E/AndroidRuntime(17485): FATAL EXCEPTION: AsyncTask #3
10-23 12:52:28.835: E/AndroidRuntime(17485): java.lang.RuntimeException: An error occured while executing doInBackground()
10-23 12:52:28.835: E/AndroidRuntime(17485):    at android.os.AsyncTask$3.done(AsyncTask.java:299)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at java.lang.Thread.run(Thread.java:856)
10-23 12:52:28.835: E/AndroidRuntime(17485): Caused by: java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()
10-23 12:52:28.835: E/AndroidRuntime(17485):    at android.os.Handler.<init>(Handler.java:121)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at android.support.v4.app.ListFragment.<init>(ListFragment.java:47)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at com.store.fragments.OneFragment.<init>(OneFragment.java:68)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at com.store.adapter.SectionsPagerAdapter$FetchFragment.doInBackground(SectionsPagerAdapter.java:173)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at com.store.adapter.SectionsPagerAdapter$FetchFragment.doInBackground(SectionsPagerAdapter.java:1)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at android.os.AsyncTask$2.call(AsyncTask.java:287)
10-23 12:52:28.835: E/AndroidRuntime(17485):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:48:01.123

好的，你对异步任务做错了。通常 asynctasks 用于一些应该在后台处理的耗时操作，但您正在尝试在 UiThread 上运行它。在 asynctask 中，您尝试在 doInBackground() 中修改 UI，而强烈建议在 onPostExecute() 中进行修改

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:45:51.310

您不应该在 AsyncTask 中进行任何 UI 更新。所有`doInBackground()`UI 操作必须在`onPostExecute()`. 了解更多[在这里学习](http://developer.android.com/reference/android/os/AsyncTask.html)

也可以看看我之前的[帖子](https://stackoverflow.com/a/12008663/792232)

# java - JPA 中是否有任何功能可以反映不存在的 @PreCascadePersist 功能

> ID：13025665
> 
> 赞同：1
> 
> 时间：2012-10-23T07:41:37.553
> 
> 标签：java, jpa

我正在尝试保留一个对象 A，该对象 A 具有标记为 Cascade All 的字段 b 和 c。我想要做的是能够在 b 和 c 被持久化时运行预定义的方法，因为 A 正在被持久化。

@PrePersist 不起作用，因为我希望此方法仅起作用 - 以防 b 和 c 通过 A 上的级联操作持续存在。如果 b 和 c 独立持续存在，我不希望运行此行的代码。

例子：

```
@Entity
public class A{

    @Id;  
    Long id;         

    @OneToOne(mappedBy="a",cascade=CascadeType.ALL)
    B b;

}

@Entity
public class B{

    @Id
    Long id;

    String field;

    boolean isCascaded;

} 
```

所以在这里我想要的是标记 B 类的每个单独对象，这些对象通过 A 级联而不是独立地拥有该字段

> isCascaded

存储为“真”。我不能使用@PrePersist，因为无论 B 是通过级联操作还是独立地保持不变，它都会被调用。

# javascript - javascript验证@登录文本区域

> ID：13025666
> 
> 赞同：4
> 
> 时间：2012-10-23T07:41:44.493
> 
> 标签：javascript

我试图做一个任务，但无法让代码验证。问题是我需要表单中的电子邮件文本框来检查“@”是否存在，但同样的形式我需要检查名称文本框是否为空。我只能让其中一个同时工作。

这是我的编码。

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Weclome to the Recipe Collection Website</title>
    <script>
    function validateForm()
    {
    var x=document.forms["myForm"]["name"].value;
    if (x==null || x=="")
     {
     alert("Name text box must be filled out");
     return false;
     }
    </script>
    <script>
    function checkEmail()
    {
    var y=document.forms["myForm"]["email"].value;
    var atpos=y.indexOf("@");
    var dotpos=y.lastIndexOf(".");
    if (atpos<1 || dotpos<atpos+2 || dotpos+2>=y.length)
     {
     alert("Not a valid e-mail address");
     return false;
     }
    }
    </script>
  </head>
  <body>
    <form name="myForm" onsubmit="return validateForm()" method="post">
        Name: <input type="text" name="name"><br>
        Email: <input type="text" name="email"><br>
        Number of recipes previously submitted: <input type="radio" name="recipes" value="0">0<br>
        <input type="radio" name="recipes" value="1-2">1-2<br>
        <input type="radio" name="recipes" value="3-4">3-4<br>
        <input type="radio" name="recipes" value="5+">5+<br>
        Have you ever submitted recipes to another site?: <input type="radio" name="othersite" value="yes">Yes<br>
        <input type="radio" name="othersite" value="no" checked>No<br>
        <input type="submit" value="Submit">
    </form>
  </body>
</html> 
```

这条路走吗？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:45:36.507

### 工作[jsFiddle 演示](http://jsfiddle.net/pajtai/cLEcZ/)

问题的根本原因是，即使一切正常，您的验证方法也会返回错误值。

### 首先，简单的部分是结合这两种方法：

我不会做内联js，但坚持你所拥有的......只需创建一个结合这两个功能的方法：

```
<script>
function doBoth() {
    return validateForm() && checkEmail();
}
<script>

...

<form name="myForm" onsubmit="return doBoth()" method="post"> 
```

### 二是解决短路问题

但是，您的两种方法存在错误，您隐式地`undefined`从它们返回。`undefined`是错误的，所以`doBoth`永远不会使用第二种方法。这是因为[短路](http://www.openjs.com/articles/syntax/short_circuit_operators.php)。JS 是惰性的，因此如果`&&`语句的第一部分为假，JS 将停止并且不评估第二部分，因为现在不可能整个语句为真。

这个问题的解决方案是`true`如果事情被验证没问题就返回。

另外，请注意，您在`validateForm`

```
<script>

function validateForm()
{
    var x=document.forms["myForm"]["name"].value;
    if (x==null || x=="")
    {
        alert("Name text box must be filled out");
        return false;
    }

    // everything ok *this is a MUST to return*
    return true;
}

function checkEmail()
{
    var y=document.forms["myForm"]["email"].value;
    var atpos=y.indexOf("@");
    var dotpos=y.lastIndexOf(".");

    if (atpos<1 || dotpos<atpos+2 || dotpos+2>=y.length)
    {
        alert("Not a valid e-mail address");
        return false;
    }

    // everything ok *this is a MUST to return*
    return true;
}
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:44:36.207

我知道你从哪里拿来的，试试这个

```
<script type="text/javascript">
function validateForm() {
var x=document.forms["myForm"]["fname"].value;
if (x==null || x=="") {
  alert("First name must be filled out");
  return false;
}

var x=document.forms["myForm"]["email"].value;
var atpos=x.indexOf("@");
var dotpos=x.lastIndexOf(".");
if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length) {
  alert("Not a valid e-mail address");
  return false;
  }
}
</script> 
```

# iphone - 在iphone中的两个视图之间传递控制

> ID：13025672
> 
> 赞同：-1
> 
> 时间：2012-10-23T07:42:06.287
> 
> 标签：iphone, ios, ios6

> **可能重复：**
> [将模型对象从一个视图控制器传递到导航堆栈中的另一个](https://stackoverflow.com/questions/6231484/passing-model-objects-from-one-view-controller-to-another-in-a-navigation-stack)

我正在尝试在 iphone 中的两个视图之间传递控件。我已经尝试过了，当您从第一个视图控制器传递到第二个时它工作正常，但是当我单击第二个时，它会空白。为什么呢？任何帮助表示赞赏.. 谢谢...

视图控制器.h

```
#import <UIKit/UIKit.h>
#import "ViewController2nd.h"

@interface ViewController : UIViewController <SecondViewControllerDelegate>
{
    IBOutlet UILabel *lbl;

}
-(IBAction)passdata:(id)sender;

@end 
```

视图控制器.m

```
#import "ViewController.h"
#import "ViewController2nd.h"

@interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}
-(void) changeLabel:(NSString*)str{
    lbl.text = @"Hello";
}

-(IBAction)passdata:(id)sender{
    ViewController2nd *second = [[ViewController2nd alloc] initWithNibName:nil bundle:nil];
    [self presentViewController:second animated:YES completion:^{ }];
}

@end 
```

ViewController2nd.h

```
#import <UIKit/UIKit.h>

@protocol SecondViewControllerDelegate <NSObject>
@optional
-(void) changeLabel:(NSString*)str;
@end

@interface ViewController2nd : UIViewController{

    IBOutlet UIButton *bttn;

}

-(IBAction)bttnclicked;
-(IBAction)back:(id)sender;
@end 
```

ViewController2nd.m

```
#import "ViewController2nd.h"
#import "ViewController.h"

@interface ViewController2nd ()

@end

@implementation ViewController2nd

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

-(IBAction)bttnclicked{

}

-(IBAction)back:(id)sender{
    ViewController *first = [[ViewController alloc] initWithNibName:nil bundle:nil];
    [self presentmodalViewController:first animated:YES completion:^{ }];
}

@end 
```

我错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:51:02.820

如果您的要求是转到第一个视图，请更改`back:`方法，例如：

```
-(IBAction)back:(id)sender
 {
     [self dismissViewControllerAnimated:YES completion:NULL];
 } 
```

不要将 parentView 显示为 chilkdViewController 的 childView。它还会产生内存问题和逻辑问题。

因此，如果您想从 childView 转到 parentView，请关闭 childView，并且永远不要创建父对象并将其呈现在那里。

# android - AChartEngine的GraphicalView实时更新

> ID：13025674
> 
> 赞同：2
> 
> 时间：2012-10-23T07:42:13.273
> 
> 标签：android, achartengine, real-time-updates

我想要一个应用程序，它向我显示一个文本视图和一个折线图，它使用我从范围传感器接收到的值动态更新。我使用了一个修改后的 TextView 来管理消息并且效果很好。我试图用 AChartEngine 的 GraphicalView 做同样的事情，但图表不会随着新消息的到来而改变。

这是我的代码，有什么建议或建议吗？

```
public class NxtActivity extends RosActivity{

private XYSeries mCurrentSeries = new XYSeries("range data series");
private XYSeriesRenderer mCurrentRenderer = new XYSeriesRenderer();
private XYMultipleSeriesDataset mDataset = new XYMultipleSeriesDataset();
private XYMultipleSeriesRenderer mRenderer = new XYMultipleSeriesRenderer();

private LineChart linec;
private Canvas canvas = new Canvas();
private RosChartView<std_msgs.String> rdrawview;

private RosTextView<std_msgs.String> rosTextView;
private Android_Talker talker;
 private java.net.URI master_uri;

//costruttore
public NxtActivity() {
    // The RosActivity constructor configures the notification title and ticker
    // messages.
        super("Pubsub Tutorial mod", "Pubsub Tutorial mod");

  }

@Override
public void onCreate(Bundle savedInstanceState) {

super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_nxt);
//setto i parametri del renederer relativo alla singola seria
mCurrentRenderer.setPointStyle(PointStyle.CIRCLE);
mCurrentRenderer.setFillPoints(true);
mCurrentRenderer.setLineWidth(2);
//setto i parametri del renderer globale
mRenderer.addSeriesRenderer(mCurrentRenderer);
  mRenderer.setApplyBackgroundColor(true);
    mRenderer.setBackgroundColor(Color.argb(100, 50, 50, 50));
    mRenderer.setAxisTitleTextSize(16);
    mRenderer.setChartTitleTextSize(20);
    mRenderer.setLabelsTextSize(15);
    mRenderer.setLegendTextSize(15);
    mRenderer.setMargins(new int[] { 20, 30, 15, 0 });
    mRenderer.setZoomButtonsVisible(true);
    mRenderer.setPointSize(10);
mRenderer.setXTitle("time");
mRenderer.setYTitle("ranges");
//setto la serie
mCurrentSeries.add(1,1);
//setto il dataset
    mDataset.addSeries(mCurrentSeries);
//setto LineChart
    linec = new LineChart(mDataset,mRenderer);
//inizializzo RosChartView
    rdrawview=new RosChartView<std_msgs.String>(this,linec,canvas);
rdrawview.setTopicName("chatter_nxt");
   rdrawview.setMessageType(std_msgs.String._TYPE);
rdrawview.setMessageToStringCallable(new MessageCallable<String, std_msgs.String>() {
           @Override
          public String call(std_msgs.String message) {          
    return message.getData();
          }
      });
    //assegno RosChartView al Layout corrispondente
LinearLayout layout = (LinearLayout) findViewById(R.id.chart);
layout.addView(rdrawview, new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
rdrawview.repaint();
//rdrawview.setup(3,3);

 rosTextView = (RosTextView<std_msgs.String>) findViewById(R.id.text1);
    rosTextView.setTopicName("chatter_nxt");
    rosTextView.setMessageType(std_msgs.String._TYPE);

 rosTextView.setMessageToStringCallable(new MessageCallable<String, std_msgs.String>() {
           @Override
          public String call(std_msgs.String message) {          
    return message.getData();
          }
      });
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
   getMenuInflater().inflate(R.menu.activity_nxt, menu);
    return true;
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        //case android.R.id.home:
         //   NavUtils.navigateUpFromSameTask(this);
          //  return true;
    }
    return super.onOptionsItemSelected(item);
}

@Override
protected void init(NodeMainExecutor nodeMainExecutor) {
talker = new Android_Talker();
NodeConfiguration nodeConfiguration = NodeConfiguration.newPrivate();
// At this point, the user has already been prompted to either enter the URI
// of a master to use or to start a master locally.
try {

    master_uri  = new java.net.URI("http://150.145.11.98:11311");
 nodeConfiguration.setMasterUri(master_uri);
}
catch(URISyntaxException e){
System.out.println("URI is a malformed URL");
}
rdrawview.setup(3,3);
nodeConfiguration.setMasterUri(master_uri);
nodeMainExecutor.execute(talker, nodeConfiguration);
// The RosTextView is also a NodeMain that must be executed in order to
// start displaying incoming messages.
nodeMainExecutor.execute(rosTextView, nodeConfiguration);
nodeMainExecutor.execute(rdrawview, nodeConfiguration);
}

} 
```

修改后的文本视图：

```
 public class RosTextView<T> extends TextView implements NodeMain {

  private String topicName;
  private String messageType;
    private int count=0;
  private MessageCallable<String, T> callable;

  public RosTextView(Context context) {
    super(context);
  }

  public RosTextView(Context context, AttributeSet attrs) {
    super(context, attrs);
  }

  public RosTextView(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
  }

  public void setTopicName(String topicName) {
    this.topicName = topicName;
  }

  public void setMessageType(String messageType) {
    this.messageType = messageType;
  }

  public void setMessageToStringCallable(MessageCallable<String, T> callable) {
    this.callable = callable;
  }

  @Override
  public GraphName getDefaultNodeName() {
    return GraphName.of("android_gingerbread/ros_text_view");
  }

  @Override
  public void onStart(ConnectedNode connectedNode) {
    Subscriber<T> subscriber = connectedNode.newSubscriber(topicName, messageType);
    subscriber.addMessageListener(new MessageListener<T>() {
      @Override
      public void onNewMessage(final T message) {
        if (callable != null) {
          post(new Runnable() {
            @Override
            public void run() {
              setText(callable.call(message));
        count++;
        if((count%2)==0){setTextColor(Color.RED);}
        else{setTextColor(Color.BLUE);}
            }
          });
        } else {
          post(new Runnable() {
            @Override
            public void run() {
              setText(message.toString());
            }
          });
        }
        postInvalidate();
      }
    });
  }

  @Override
  public void onShutdown(Node node) {
  }

  @Override
  public void onShutdownComplete(Node node) {
  }

  @Override
  public void onError(Node node, Throwable throwable) {
  }
} 
```

修改后的图形视图：

```
 public class RosChartView<T> extends GraphicalView implements NodeMain {
    //---------
  private XYMultipleSeriesDataset mDataset = new XYMultipleSeriesDataset();
  private XYMultipleSeriesRenderer mRenderer = new XYMultipleSeriesRenderer();
  private XYSeries mCurrentSeries = new XYSeries("range data series");
  private int x;
  private int y;
  Context context;
  Canvas canvas; 
    //---------
  private String topicName;
  private String messageType;
  private int count=0;
  private MessageCallable<String, T> callable;

  public RosChartView(Context context, LineChart xyc, Canvas canvas_) {
    super(context,xyc);
    this.context=context;
    mDataset = xyc.getDataset();    
    mRenderer = xyc.getRenderer();
    mRenderer.setClickEnabled(true);
        mRenderer.setSelectableBuffer(100);
    x=0;
    y=0;
    canvas=canvas_;

  }

  public RosChartView(Context context, AttributeSet attrs, LineChart xyc) {

    super(context, xyc);
    mDataset = xyc.getDataset();    
    mRenderer = xyc.getRenderer();
    mRenderer.setClickEnabled(true);
        mRenderer.setSelectableBuffer(100);
    x=0;
    y=0;

  }

  public RosChartView(Context context, AttributeSet attrs, int defStyle, LineChart xyc) {
    super(context, xyc);

    mDataset = xyc.getDataset();    
    mRenderer = xyc.getRenderer();
    mRenderer.setClickEnabled(true);
        mRenderer.setSelectableBuffer(100);
    x=0;
    y=0;
  }

  public void setTopicName(String topicName) {
    this.topicName = topicName;
  }

  public void setMessageType(String messageType) {
    this.messageType = messageType;
  }

  public void setMessageToStringCallable(MessageCallable<String, T> callable) {
    this.callable = callable;
  }

  @Override
  public GraphName getDefaultNodeName() {
    return GraphName.of("android_gingerbread/ros_text_view");
  }

  @Override
  public void onStart(ConnectedNode connectedNode) {
    Subscriber<T> subscriber = connectedNode.newSubscriber(topicName, messageType);
    subscriber.addMessageListener(new MessageListener<T>() {
      @Override
      public void onNewMessage(final T message) {
        if (callable != null) {
          post(new Runnable() {
            @Override
            public void run() {
        count++;
        x=count;
        y=Integer.parseInt(callable.call(message));
        XYSeries series=new XYSeries("new_series");
        series=mCurrentSeries;
        series.add(2,2);
        mDataset.removeSeries(mCurrentSeries);
        mCurrentSeries=series;
        mDataset.addSeries(mCurrentSeries);
                repaint();
            }
          });
        } else {
          post(new Runnable() {
            @Override
            public void run() {
          count++;
          x=count;
              y=Integer.parseInt(message.toString());
          mCurrentSeries.add(x,y);

            }
          });
        }
        postInvalidate();
      }
    });
  }

  @Override
  public void onShutdown(Node node) {
  }

  @Override
  public void onShutdownComplete(Node node) {
  }

  @Override
  public void onError(Node node, Throwable throwable) {
  }

  public void setup(double x,double y)
  {

        mCurrentSeries.add(x,y);          
          this.repaint();

   }
} 
```

布局

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"

        xmlns:tools="http://schemas.android.com/tools"

        android:layout_width="match_parent"

        android:layout_height="match_parent" >

       <org.ros.android.view.RosTextView
        android:id="@+id/text1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="30dip" 
    />

    <LinearLayout
    android:id="@+id/chart"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:layout_below="@id/text1"
    android:orientation="horizontal" />

    </RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T10:30:06.660

收到消息后，您执行以下操作：

```
 XYSeries series=new XYSeries("new_series");
    series=mCurrentSeries;
    series.add(2,2);
    mDataset.removeSeries(mCurrentSeries);
    mCurrentSeries=series;
    mDataset.addSeries(mCurrentSeries); 
```

这意味着您创建一个新系列，然后将当前系列的引用提供给先前作为新系列创建的变量，然后在位置 2、2 添加一个点，然后删除该系列并将其添加回来。这是完全错误的。

以下内容就足够了：

```
mCurrentSeries.add(x, y); // NOT 2, 2 
```

# ios - 企业计划 - 也部署在应用商店

> ID：13025681
> 
> 赞同：0
> 
> 时间：2012-10-23T07:43:03.650
> 
> 标签：ios, xcode, provisioning-profile

通过 Apple 常见问题解答，我知道如果我注册了 iOS 开发者企业计划 (https://developer.apple.com/support/ios/enterprise.html)，我将无法在应用商店进行部署。我知道我必须创建一个标准的 iOS 开发人员程序来做到这一点。

我不明白的一点是如何在我的 xcode 上管理它？

作为开发人员，我如何才能成为企业计划和标准计划的一部分？因为我想继续为内部开发应用程序，但我也希望能够在应用商店上部署一些其他应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:48:48.473

如果应用是 Ad-Hoc、Enterprise 或 appstore 版本，您在构建应用的发布版本时选择的配置文件是标识符。

因此，您可以轻松地为每种类型创建目标。

# java - 爪哇。无法使用 DateFormat 解析日期

> ID：13025682
> 
> 赞同：3
> 
> 时间：2012-10-23T07:43:07.630
> 
> 标签：java, date, date-format

我有一个日期字符串：

```
Thu Feb 20 08:00:00 EET 1992 
```

并使用此代码对其进行格式化：

```
String datePatternFrom = "EEE MMM dd HH:mm:ss ZZZ yyyy";
String datePatternTo = "MMM dd, yyyy";
String prettyDate = "";

try {
    DateFormat fromFormatter = new SimpleDateFormat(datePatternFrom);
    Date date = (Date)fromFormatter.parse(userBirthday.toString());

    DateFormat toFormatter = new SimpleDateFormat(datePatternTo);
    prettyDate = toFormatter.format(date);

} catch (ParseException e) {
    e.printStackTrace();
} 
```

为什么我得到例外？

```
java.text.ParseException: Unparseable date: "Thu Feb 20 08:00:00 EET 1992" (at offset 0) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T08:22:18.173

问题在于工作日和月份以及您的语言环境。 `Thu`是英文，所以你必须告诉解析器它应该使用英文工作日：

```
DateFormat fromFormatter = new SimpleDateFormat(datePatternFrom, Locale.US); 
```

这将适用于您的模式。如果您不指定区域设置，将使用默认设置，但并不总是英语。;-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:58:08.067

它可能是您的语言环境。尝试使用 datePatternFrom 制作 SDF，给它一个日期以*格式化*并在某处打印。看看弹出什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:49:33.413

可能您的 userBirthday 对象不是作为 java.util.Date 对象创建的。你可以试试`System.out.println(userBirthday.getClass().getName());`吗？

# c# - 您将所有解决方案级别（全局）任务放在哪里？在一个专门为此目的的空项目中？

> ID：13025683
> 
> 赞同：7
> 
> 时间：2012-10-23T07:43:08.443
> 
> 标签：c#, visual-studio-2010, msbuild

当有人构建我的解决方案时，我要运行多个任务，具体取决于解决方案配置：

*   在发布配置中，为整个解决方案运行 Doxygen (doxygen.exe ....)
*   在调试和发布配置中，为整个解决方案运行 StyleCop（调用 StyleCop 目标）
*   在调试配置中，为整个解决方案运行 FxCop (fxcop.exe ...)
*   和更多

这些都是解决方案级别（全局）任务，因此将其放在每个项目文件中对我来说没有意义。看起来这将是一个普遍的问题，那么您如何处理呢？

我在想我可以创建一个空项目，确保所有其他项目都依赖它并将所有解决方案级别的任务放在其中......？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T14:31:41.173

最简单的方法是创建一个名为“Build.csproj”的空项目。将它放在解决方案中并使其依赖于所有其他项目。然后对于简单的任务，您可以使用构建后事件来运行您的工具。如果您需要更高级，您可以修改项目的 Build 目标。

它有几件好事：

1.  它简单易懂，易于设置和理解。
2.  它通常不会干扰调试，因为您将不同的项目设置为启动。
3.  您可以创建忽略项目的配置。
4.  假设您坚持发布构建事件，它允许 VS 集成而不会发出警告。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T08:14:59.220

我更喜欢将这些任务放在一个 .targets 文件中，并从我的主要项目中引用它们（大约是那些不生成库的项目）。我还可以`Target`在该 .targets 文件中创建 s 来组合常见任务的子集。这样，我的一些项目可以方便地运行`sharedtask1`and `sharedtask2`，而其他项目运行`sharedtask1`and `sharedtask3`，因为我只是添加`DependsOnTargets="Shared12"`and `DependsOnTargets="Shared13"`（显然，我会尝试选择描述性的名称）。

这些文章对组织您的 msbuild 任务有一些很好的建议：

[创建可靠构建的最佳实践，第 1 部分](http://msdn.microsoft.com/en-gb/magazine/dd419659.aspx)

[创建可靠构建的最佳实践，第 2 部分](http://msdn.microsoft.com/en-gb/magazine/dd483291.aspx)

**编辑**

要仅运行一次某些任务，请使用上面第二篇文章中描述的增量构建：

*   在我上面提示的通用 .targets 文件中，创建一个任务，将所有文件作为输入，并将一些虚拟标记文件作为输出。
*   让该任务完成您感兴趣的实际工作*并*更新标记文件。
*   让你所有的项目都依赖于新创建的任务

构建解决方案后，第一个项目将启动上述任务，该任务将输出一个标记文件，只要您的输入文件在构建的其余部分没有更改，该任务就不会再次运行. 现在，这样做的缺点是

*   如果您的构建导致在此过程中生成或更改文件，则该任务将运行多次
*   即使您只构建单个项目，该任务也会运行。如果您正在生成文档，这实际上可能是“正确”的行为。如果你想避免这种情况，我认为你必须对你的 msbuild 文件进行真正的微调，但我觉得这就是你想要避免的。
*   该任务将在构建之前运行，因此任何依赖于要构建的程序集版本的任务都将不走运

要解决最后一个问题，您将不得不放弃从 VS 构建，而是调用自定义任务，该任务将构建解决方案，然后依次执行一个或多个自定义任务）使用命令行中的 msbuild.exe。我意识到这可能不是您正在寻找的开发人员体验。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-25T08:18:54.710

这个问题假设您希望每次都构建所有内容，但实际上我并没有发现这种情况。目前，我正在与之合作的团队对构建时间非常敏感。

因此，我建议您不要将构建视为单一事物，而应将其视为具有多种风格。有“它建立了吗？” 构建，为此我会将构建选择（仅限当前项目）映射到一个键，直到我开始使用 reshaper。对于不进行单元测试的人（包括那些开发不可测试的 ui 更改的人），有一个“让我们测试它构建”，如果当然还有“Everything and the kitchen sink build”，文档、stylecop 和任何其他指标都可以获得。

出于这个原因，我建议使用构建服务器。将您的其他目标放在一边，并在您完成所有其他工作后使用它们。我会推荐 TeamCity 的预测试提交功能，这是一种让您的团队能够测试他们不会中断并构建故障条件（例如覆盖率降低）的好方法。

此外，如果您在开发时正在寻找更快速的构建，那么我建议使用 NCrunch，它具有高度优化的构建过程，可以在您编辑文件或 ContinuousTests 后一秒左右运行。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-28T05:00:57.277

在我们的解决方案中，我们将此类构建操作放在我们的启动项目中，因为我们不想将它放在每个项目中，并且我们正在运行的项目引用所有其他项目。因此，在该项目的构建后操作上运行的所有操作都将在所有其他项目已经完成之后完成。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-25T17:26:59.263

也许我遗漏了一些东西，但为什么不创建一个解决方案文件夹，其中包含对选定目标执行构建后续任务的各种脚本，并从项目的构建后事件中调用它们？IE

*   PostBuildScripts（解决方案文件夹）
    *   FxCop.Debug.Target
    *   FxCop.Release.Target
    *   StyleCop.Release.Target
    *   StyleCop.Release.Target
    *   Doxygen.Debug.Target
    *   Doxygen.Release.Target
    *   Others.Release.Target
    *   Others.Release.Target

... ETC ...

这些脚本调用以针对目标构建类型运行您的后续任务；如果您实际上不想针对某个构建类型运行它，只需将其留空即可。

在您的项目中进行后期构建：

/PostBuildScripts/FxCop.$(ConfigurationName).Target

/PostBuildScripts/Doxygen.$(ConfigurationName).Target

/PostBuildScripts/StyleCop.$(ConfigurationName).Target

/PostBuildScripts/Others.$(ConfigurationName).Target

... ETC ...

# java - 调试在 Eclipse 中不可配置的 java 代码

> ID：13025684
> 
> 赞同：0
> 
> 时间：2012-10-23T07:43:15.900
> 
> 标签：java, eclipse, debugging

我正在处理在 Eclipse 中不可配置的客户端代码。它在请求打开应用程序时提到的特定端口的服务器上运行。实际上它是一个小程序应用程序，它使用 web 作为启动器，然后打开一个新的弹出窗口，所有操作服务器通过在客户端计算机上执行的 cim-xml 发送 jar 文件。

有没有办法调试这样的代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T09:49:53.623

我假设

> 1.  您要调试的代码具有调试信息。
>     
>     
> 2.  您可以添加一些 jvm 参数来打开调试端口。
>     
>     
> 3.  即使代码在 Eclipse 中不可配置，您也可以访问代码。

现在请按照以下步骤操作。将下面的 jvm 参数传递给要调试的服务器/java 进程。

> -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8888,server=n,suspend=y

现在将您的 Eclipse 连接到调试器端口，`8888`调试器将启动。现在你可以看到调试器已经启动了。为要调试的类放置一个类加载断点。当调试器将通过单击“附加源”按钮开始附加源时。这个按钮会在类加载时出现。并指向保存代码的文件夹。基本上我们需要停止调试器并附加源代码。因为在 Eclipse 中不导入代码就很难设置断点。

# c# - 如何从具有多参数linq的数据库中获取记录

> ID：13025687
> 
> 赞同：1
> 
> 时间：2012-10-23T07:43:25.820
> 
> 标签：c#, .net, linq

我有一个从数据库中获取记录的查询，我需要在参数中传递 id 来调用这个函数，比如 Myfunction(1, 2, 3)

我想得到与这个ID匹配的结果，

喜欢

```
public List<Items> GetItems(int[] ids)
{
var a = from Items in db.item 
where items.id == ids[]
select new Items
{

}
    return a.ToList();
} 
```

where 子句存在混淆（如何获取有关提供的记录）

我用循环ID尝试了这个，但没有成功

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T07:45:37.330

您可以使用 Contains 方法进行检查。类似于 Select * from table where Ids in (1,2,3,...)

试试下面的。

```
var a = from item in db.Items
        where ids.Contains(item.id)
        select new Item {.....} 
```

`ids`你的数组在哪里。

您可能会看到：[使用 Linq To Sql 创建 IN 查询](http://wekeroad.com/2008/02/27/creating-in-queries-with-linq-to-sql)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:45:12.120

将您的代码更改为以下

```
 public List<Items> GetItems(int[] ids)
    {
    var a = from Items in db.item 
    where ids.Contains(Items.id)
    select new Items
    {

    }
        return a.ToList();
    } 
```

# c - C中strncpy的总线错误

> ID：13025690
> 
> 赞同：0
> 
> 时间：2012-10-23T07:43:43.260
> 
> 标签：c, substring, c-strings, strncpy, bus-error

我正在从事与此[问题](https://stackoverflow.com/questions/12995287/access-element-of-struct-passed-into-a-void-pointer)相同的项目，但是 typedef 略有不同：

```
typedef struct {
    char* word;
    int index;
} data_t;

typedef struct node node_t;

typedef node {
    void *data;
    node_t *left;
    node_t *right;
} 
```

我正在尝试将字符串拆分为单个单词，将其粘贴到 data_t 结构中，然后将其插入到二叉搜索树中。这个想法是，在遍历输入字符串时，当发现该字符是一个标记单词结尾的字符时，将单词开头和结尾之间的字符数复制到一个字符串中，我有尝试使用：

```
strncpy(newstring, (in+wordstart), (i-wordstart)); 
```

在哪里：

```
char* newstring, in;
int i, wordstart; 
```

但是，当调用该特定行时，gcc 会给出总线错误。如何修复此总线错误并保留当前解决方案，还是寻找不同的解决方案更明智？

到目前为止，我能想到的唯一想法是，一次一个字符，将字符放入字符串中，直到到达单词的末尾。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:50:40.497

这没有声明两个指针，这只是一个指针和一个字符

```
char* newstring, in; 
```

应该这样声明：

```
char *newstring, *in; 
```

此外，正如其他人所指出的，您似乎没有为这些指针分配任何内存。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T08:07:55.113

这个：

```
typedef node {
    void *data;
    node_t *left;
    node_t *right;
} 
```

根本没有任何意义。之前没有`struct`关键字，在 之后`node`没有您尝试引入的类型别名的名称`}`，也没有终止分号。这不应该编译。

# macos - Mac 上的 MS Dynamics 开发

> ID：13025691
> 
> 赞同：0
> 
> 时间：2012-10-23T07:43:48.047
> 
> 标签：macos, dynamics-crm

我有一台带有 2GM Ram 的 Macbook。我想在 Microsoft Dynamics 上进行开发。是否有可能因为我将运行虚拟机/VMware？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T12:56:47.037

如果您希望在虚拟机上运行完整的 Dynamics CRM 安装（Windows Server 2008、Dynamics CRM 和 SQL Server），我建议单独为虚拟机分配不少于 4GB 的内存以使其可用。

我不相信只有 2GB 总内存的机器就足够了。

# mysql - 无法在 MySQL 中创建函数

> ID：13025693
> 
> 赞同：0
> 
> 时间：2012-10-23T07:43:55.773
> 
> 标签：mysql

我想向 MySQL 服务器添加一些 udf，并且我在 mysql/lib/plugin 文件夹中有 .dll 文件。

我打开了一个 MySQL 客户端，它报告了一些奇怪的错误。

```
mysql> create function ipv6_ntop returns string soname 'libmysql-udf-ipv6.dll';
ERROR 1125 (HY000):  Function 'inet6_ntop' already exists 
```

然后我尝试删除此功能：

```
mysql> drop function inet6_ntop;
ERROR 1305 (42000): FUNCTION (UDF) inet6_ntop does not exist 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:54:39.123

尝试检查[http://kmaiti.blogspot.com/2010/11/how-to-install-tcpwrapper-on-linux.html](http://kmaiti.blogspot.com/2010/11/how-to-install-tcpwrapper-on-linux.html)。看起来您必须将“ipv6_ntop”导入库。

[http://www.justskins.com/forums/issues-creating-function-140539.html](http://www.justskins.com/forums/issues-creating-function-140539.html)

[http://dev.mysql.com/doc/refman/5.0/en/create-procedure.html](http://dev.mysql.com/doc/refman/5.0/en/create-procedure.html)

再说一遍 - 如果你没有先创建它，你就不能丢弃它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-20T20:17:17.060

`mysql> drop function 'inet6_ntop';` /*WITH QUOTES*/

# c# - C#将form1中的datalist选定项目调用到form2

> ID：13025697
> 
> 赞同：1
> 
> 时间：2012-10-23T07:43:59.843
> 
> 标签：c#, wpf

我在 form1 中有一个数据列表。如何将选定的数据列表项带到 form2？

那是form1中的代码。当我单击上下文菜单时，form2 来了。我想将表格中选定项目的常用数据绑定到form2中的数据网格。

```
 protected void showKontextMenu(string key, int col = -1, WlistRow row = null)
    {
          int cou = datalist.SelectedItems.Count;
             if (utilDB.isAllowed(utilDB.eDBRights.eEditor) && cou>1)
            {
                cm.Items.Add(new MenuItem() { Header = utilText.sstr("Stichworte und Attribute"), Name = "AttrEdit", Tag = key });
            }
        cm.AddHandler(MenuItem.ClickEvent, new RoutedEventHandler(KontextMenu_Click));
        cm.IsOpen = true;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:46:49.087

正如 Dejo 也提到的，有很多方法。但我想最简单和最有效的方法是跟随。

*   在主程序中创建静态变量。
*   从 from1 为这些变量赋值。
*   从 form2 访问它们。

希望你得到它（没有示例代码！）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:52:57.503

有很多方法。

常见的是将数据保存到示例对象，并从另一个类（表单）访问它

您还可以使用 datalist 类型作为参数创建构造函数，并通过构造函数调用发送数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T08:10:28.300

您可以在 Form1 上公开一个属性并从 Form2 访问它

在 Form1 上添加属性

```
private DataList _formOneList
public DataList FormOneList
{
    get{return _formOneList;}
} 
```

在您的 Form2 上访问它

```
private DataList FormTwoList
Form2.FormTwoList=Form1.FormOneList; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T07:48:59.170

将选定的值保存在 form1 中的某个变量中并从 form2 访问该变量

# statistics - 使用偏度分割体积

> ID：13025701
> 
> 赞同：1
> 
> 时间：2012-10-23T07:44:24.007
> 
> 标签：statistics, normal-distribution

我的统计知识很少，对不起。我有大量的测量幅度。在没有信号的情况下，假设噪声具有正态分布。当信号的幅度高于周围噪声时，分布的形状在正侧更拖尾。我正在考虑使用偏度来检测信号。但是与体积本身相比，更高振幅的区域（体积中的细胞）相当小。所以，我们说的是总共数千个细胞中的数百个细胞。如果正态分布的偏度为零，我如何提取体积中导致非零偏度的那些单元格。如果说，我的偏度值为 0.5，有没有办法删除所有单元格并只保留那些提高偏度值的单元格。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-10T18:34:14.750

在我看来，最好将问题建模为混合模型：我们有高斯背景

B ~ N(0, 西格玛)

和一个信号，发布者没有指定一个特定的模型。

如果我们可以假设信号也采用一个（或可能几个混合）高斯的形式，那么使用 EM 算法的高斯混合建模可能是解决它的好方法（参见 Wikipedia）。

一篇关于分割的好论文在这里：

[http://www.fil.ion.ucl.ac.uk/~karl/Unified%20segmentation.pdf](http://www.fil.ion.ucl.ac.uk/~karl/Unified%20segmentation.pdf)

如果我们不能做出这样的假设，我会使用稳健的回归方法来估计高斯噪声的参数，其中信号被视为异常值，例如最小修剪平方（再次参见维基百科）。

然后可以通过（Bonferroni 校正）假设检验找到异常值单元，如本文所述：

[http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2900857/](http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2900857/)

# windows - 我必须使用打印命令打印，而我的打印机是带 IP 的网络打印机？

> ID：13025702
> 
> 赞同：0
> 
> 时间：2012-10-23T07:44:25.270
> 
> 标签：windows, command

我在尝试

```
print /d:<ipaddressofnetworkprinter> test.txt 
```

我得到的错误是：

```
Unable to initialize device <ipofprinter> 
```

我知道我们可以通过网络打印机的队列名称 (\ServerName\ShareName) 来执行此操作，但这里我只有 IP 打印机。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-11T13:49:04.540

试试这个 lpr -S (printer ip address) -P (Give it a name) (file location) sample lpr -S 192.168.1.197 -P SLC Branch C:\test.txt

# android - 用 HTML 页面填充 web 视图而不滚动

> ID：13025705
> 
> 赞同：1
> 
> 时间：2012-10-23T07:44:34.210
> 
> 标签：android, html, view, webview, fill

我正在使用 web 视图加载作为背景图像 (827 x 1102) 的 HTML 页面，我试图将内容包装在 webView 的给定高度和宽度内，并且我不想在初始阶段通过探索来滚动内容我开始了解下面的代码行

```
 mwebview.getSettings().setLoadWithOverviewMode(true);
    mwebview.getSettings().setUseWideViewPort(true); 
```

上述代码在 2.2、2.3.3 上运行良好，但在 3.0 及更高版本上增加了额外空间，您可以查看不同版本的附加图像。

我什至尝试通过附加

```
 <head><meta name=viewport content=target-densitydpi=device-dpi/></head> 
```

在 html 文件中，但没有运气。

![摩托罗拉 Xoom 3.0](../Images/fc71f9621f5be9fd19c08b1e9bbf38be.png) 摩托拉 Xoom 3.0

![三星 Tab 2.3.3](../Images/39ef784a15054f8f569de6a167b397da.png) 三星标签 2.3.3

任何帮助将不胜感激

先感谢您

# mysql - 在同一台服务器上导入 mysql 转储输出时出现 SQL 语法错误

> ID：13025709
> 
> 赞同：0
> 
> 时间：2012-10-23T07:44:42.790
> 
> 标签：mysql, import, syntax-error, mysqldump, recover

我已经使用这个命令备份了我所有的 mysql 数据库（我在 debian linux 上运行 mysql 5）：

```
mysqldump --user="root" --password="pass" --routines --triggers --events --all-databases > dbs_backup.sql 
```

然后我根据[这个链接](http://dev.mysql.com/doc/refman/5.0/en/innodb-data-log-reconfiguration.html)关闭了我的mysql服务器以更改innodb配置；重新启动服务器后，当我想使用此命令导入转储输出时：

```
mysql -u root -p pass < dbs_backup.sql 
```

我在这个文件的中间遇到了一些语法错误（它执行了很多查询和一些数据库成功导入，但只有在创建一些存储过程时才会发生错误）。我想知道为什么会发生这种情况，因为服务器没有重大变化并且转储的数据库都很好并且在转储之前运行良好。
什么会导致这个问题？？？

# ios - ios : CFUUIDRef 的 NSArray

> ID：13025711
> 
> 赞同：1
> 
> 时间：2012-10-23T07:44:56.863
> 
> 标签：ios, automatic-ref-counting, core-bluetooth

我正在尝试使用 CoreBluetooth 的 retrievePeripheral ：

```
- (void)retrievePeripherals:(NSArray *)peripheralUUIDs; 
```

文档说 peripheralUUIDs 应该是 CFUUIDRef 的 NSArray。在 Apple 示例项目 temperatureSensor 中，它被称为：

```
[centralManager retrievePeripherals:[NSArray arrayWithObject:(id)uuid]]; 
```

（uuid 是 CFUUIDRef）当我在 XCode 4.5.1、IOS6 中使用完全相同的代码时，出现错误：

> 将 C 指针类型“CFUUIDRef”（又名“const struct __CFUUID *”）转换为 Objective-C 指针类型“id”需要桥接转换

我会说（尽管我不确定）它在 TemperatureSensor 而不是在我的项目中工作的原因是因为 TemperatureSensor 似乎不使用 ARC 而我的项目使用。

Xcode 建议了 2 种解决问题的方法：添加`__bridge`或使用`CFBridgingRelease().`我都尝试过，但我的印象是该功能不起作用 [Edit] 因为委托方法 didRetrievePeripheral: never 被调用 [/Edit] （我的理解是这些操作会将 C 风格的结构更改为目标 C 对象，从而创建 a `NSUUID`，并且该方法不能使用它，但是，我真的不确定）

所以我该怎么做 ？我一直在谷歌上搜索使用 ARC 的retrievePeripherals 示例，但没有成功。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T09:24:52.820

在温度传感器中更改此行并运行

`LeDiscovery.m`

```
 -(void) startScanningForUUIDString:(NSString *)uuidString
 {
      [centralManager scanForPeripheralsWithServices:nil options:0];
 } 
```

更改单词`nil`并假设为 0。

如果你想要更多检查这个[链接](http://processors.wiki.ti.com/index.php/Category%3aIPhone4SBLEDemo)。

我希望它对你有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T08:42:03.467

事实证明问题比这简单得多。我从 TemperatureSensor 复制/粘贴了一些代码，特别是 DidRetrievePeripheral。但事实证明，这段代码有一个错误（它是 DidRetrievePeripheralS），所以委托方法永远不会被调用。我认为该错误已被报告。

谢谢/抱歉

# iphone - 在 iOS 中，如何将模型与 UIButton（或通常的 UIViews）相关联？

> ID：13025712
> 
> 赞同：1
> 
> 时间：2012-10-23T07:44:58.390
> 
> 标签：iphone, objective-c, ios, model-view-controller, properties

我有一个显示“报纸”（模型）实例详细信息的屏幕。我的屏幕的 ViewController 有这个 Newspaper 模型的一个属性。一个 Newspaper 实例包含多个 Article 实例，这些 Article 实例必须在屏幕中表示为 UIButtons。点击 UIButton 必须显示包含文章标题的警报消息。

将 UIButton 与 Article 模型相关联的一些好方法是什么？基本上，当点击 UIButton 时，如何检索 UIButton 对应的 Article 实例？

我目前有两种方法：

1.  覆盖 UIButton，并为 Article 实例添加一个属性。
    *   这违反了 MVC 模型，因为视图 ​​(UIButton) 具有与模型 (Article) 的直接通信方式，但这将简化按钮操作，因为 UIButton 可以简单地调用其属性来知道将使用哪个 Article 实例来执行操作（显示包含文章标题的警报消息）。
2.  创建一个 UIButton 的 NSArray (buttonsArray) 和一个 Article 实例的 NSArray (articlesArray)。
    *   buttonArray 的索引 0 对应articlesArray 的索引 0。与点击的 UIButton 关联的 Article 实例将基于按钮在数组中的位置。为了检索一个UIButton对应的Article，必须循环buttonsArray直到找到被点击的UIButton，然后使用相同的索引从articlesArray中获取Article。

有没有更好的方法来实现这一目标？

编辑：按钮将具有动画和手势识别器。此外，来自文章模型的按钮操作所需的信息不仅包括标题（例如文章位置，或者对象本身，如果它将被传递到另一个屏幕等）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:51:39.567

您可以使用第二种方法，但使用 NSDictionary 而不是两个数组。

或者您可以使用第一种方法，但不是为您的文章实例添加属性，而是添加一个通用字符串属性，如“additionalTitle”或某事。这样您就不会在按钮类和模型类之间创建直接依赖关系。然后，您可以在此属性中保存警报视图的标题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T11:19:06.283

UIButton 有一个可设置的标签属性，它是一个整数。tag 属性可以很容易地与数组中的索引匹配。因此，在接收到触摸事件时，您取出标签值，您就知道哪篇文章被点击了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T07:57:42.650

感觉苹果在iOS中普遍采用的方式更像是模型——（视图+控制器）的结合。例如`UIViewController`和`UITableViewController`是视图和控制器作为单个实体连接在一起的示例。考虑到这一点，将模型值存储为`UIButton`子类的一部分不会违反 MVC，只要它只是充当模型和视图之间的值传递。它可能不是一个完美的 MVC，但这是开发人员必须决定是否遵循这种方式的事情。因此，我建议第一种方法，因为它看起来很整洁，并确保了可读性和可维护性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T07:49:40.673

难道你不想`UITableView`在集成了 UIButton 的单元格中使用吗？

因为如果您采用这种方法，您可以使用第二种方法。使用存储所有文章的数组并获取表格单元格的点击索引以从数组中加载文章。您可以创建一个包含 UIButton 的 CustomCell。按钮甚至不必知道他下面是哪篇文章。它是使用单击的索引处理它的表格视图。

如果您不想使用 a`UITableView` *我会选择第二种方法。*

# php - 狮身人面像搜索标签排名

> ID：13025715
> 
> 赞同：0
> 
> 时间：2012-10-23T07:45:15.397
> 
> 标签：php, mysql, search, sphinx, rank

我需要设置排名顺序：按付费标签，然后按名称等。

例如：客户想要购买“汽车”标签。对于“汽车”搜索，他的个人资料应该排在列表的首位。

谢谢

我有 2 张桌子：

1 - 配置文件：p_id、p_name 等。

2 - 标签：tag_id、profile_id、tag_name

我希望关键字与标签完全匹配。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:26:11.287

使用基于表达式的排序器并优先考虑标签。

[http://sphinxsearch.com/docs/current.html#weighting](http://sphinxsearch.com/docs/current.html#weighting)

# android-listview - 为什么 ViewPager 不适用于列表视图中的位图

> ID：13025718
> 
> 赞同：0
> 
> 时间：2012-10-23T07:45:34.147
> 
> 标签：android-listview, android-arrayadapter

我有一些自定义列表视图适配器，在适配器中我使用 ViewHolder 模式，它适用于任何东西，但不适用于位图。

该代码有效，但与位图一起使用的请不要使用视图。我评论了它以进行测试，所以现在我看到了，viewholder 不适用于位图。

如果有人知道原因或有任何想法，请告诉我如何解决。

有我的代码：

```
public class FrontListAdapter extends ArrayAdapter<GoodObject> {

    private Context context;
    private AdapterLoadNotifier notifier;
    private List<GoodObject> list;
    public HashMap<String, Bitmap> avatars = new HashMap<String, Bitmap>();

    public FrontListAdapter(MainActivity activity, List<GoodObject> objects) {
        super(activity, R.layout.row_front_layout, objects);
        this.context = activity;
        this.list = objects;
        this.notifier = activity;
    }

    static class ViewHolder {
        static TextView shopTitle;
        static TextView time;
        static TextView description;
        static ImageView goodsImage;
        static ProgressBar loadingGoodsImageDialogue;
        static ImageView shopAvatar;
        static ImageView loadingAvatarHolder;
        static ProgressBar loadingAvatarDialogue;
        static TextView commentAuthor;
        static TextView commentText;
        static Button likeButton;
        static Button commentButton;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder viewHolder;
        if (convertView == null) {
            LayoutInflater inflater = LayoutInflater.from(context);
            convertView = inflater.inflate(R.layout.row_front_layout, null);

            viewHolder = new ViewHolder();
            viewHolder.shopTitle = (TextView) convertView.findViewById(R.id.row_front_layout_shop_title);
            viewHolder.time = (TextView) convertView.findViewById(R.id.row_front_layout_time);
            viewHolder.description= (TextView) convertView.findViewById(R.id.row_front_layout_description_label);
            viewHolder.goodsImage = (ImageView) convertView.findViewById(R.id.row_front_layout_good_image);
            viewHolder.loadingGoodsImageDialogue = (ProgressBar) convertView.findViewById(R.id.row_front_layout_good_image_progress);
            viewHolder.shopAvatar = (ImageView) convertView.findViewById(R.id.row_front_layout_logo);
            viewHolder.loadingAvatarDialogue = (ProgressBar) convertView.findViewById(R.id.row_front_layout_avatar_image_progress);
            viewHolder.loadingAvatarHolder = (ImageView) convertView.findViewById(R.id.row_front_layout_logo_back);
            viewHolder.commentAuthor = (TextView) convertView.findViewById(R.id.row_front_layout_first_comment_author);
            viewHolder.commentText = (TextView) convertView.findViewById(R.id.row_front_layout_first_comment_text);
            viewHolder.likeButton = (Button) convertView.findViewById(R.id.row_front_layout_like_button);
            viewHolder.commentButton = (Button) convertView.findViewById(R.id.row_front_layout_comment_button);

            convertView.setTag(viewHolder);
        } else {
            viewHolder = (ViewHolder) convertView.getTag();
        }

        GoodObject goodObject = list.get(position);
        String shopTitle = goodObject.getShopTitle();
        Bitmap avatar = goodObject.getAvatar();
        Bitmap image = goodObject.getGoods_logo();

        viewHolder.shopTitle.setText(shopTitle);
        viewHolder.time.setText(goodObject.getTime());
        viewHolder.description.setText(goodObject.getDescription());

        if (image != null) {
            //viewHolder.goodsImage.setImageBitmap(image);
            //viewHolder.loadingGoodsImageDialogue.setVisibility(View.GONE);
            ((ImageView) convertView.findViewById(R.id.row_front_layout_good_image)).setImageBitmap(image);
            convertView.findViewById(R.id.row_front_layout_good_image_progress).setVisibility(View.GONE);
        }
        if (avatar != null) {
            convertView.findViewById(R.id.row_front_layout_avatar_image_progress).setVisibility(View.GONE);
            convertView.findViewById(R.id.row_front_layout_logo_back).setVisibility(View.GONE);

            //viewHolder.loadingAvatarDialogue.setVisibility(View.GONE);
            //viewHolder.loadingAvatarHolder.setVisibility(View.GONE);
        }
        ((ImageView) convertView.findViewById(R.id.row_front_layout_logo)).setImageBitmap(avatars.get(shopTitle));

        //viewHolder.shopAvatar.setImageBitmap(avatars.get(shopTitle));

        viewHolder.commentAuthor.setText(goodObject.getLast_comment().getUser() + ":");
        viewHolder.commentText.setText(goodObject.getLast_comment().getComment());
        viewHolder.likeButton.setText(Integer.toString(goodObject.getLikesAmount()));
        viewHolder.commentButton.setText(Integer.toString(goodObject.getCommentsAmount()));

        if (position == list.size() - 2 && !notifier.isEnded()) {
            notifier.loadNextPage();
        }
        return convertView;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T09:50:00.167

为了修复错误，ViewHolder 类中的字段不能是静态的：

```
static class ViewHolder {
    TextView shopTitle;
    TextView time;
    TextView description;
    ImageView goodsImage;
    ProgressBar loadingGoodsImageDialogue;
    ImageView shopAvatar;
    ImageView loadingAvatarHolder;
    ProgressBar loadingAvatarDialogue;
    TextView commentAuthor;
    TextView commentText;
    Button likeButton;
    Button commentButton;
} 
```

在这种情况下，所有工作都很好且正确。

# android - 安卓 cocos2dx linux 支持

> ID：13025721
> 
> 赞同：0
> 
> 时间：2012-10-23T07:45:45.160
> 
> 标签：android, linux, cocos2d-x

我正在为 Android 设置 Linux（Ubuntu 11.10）中的 cocos2dx 环境。我指的是链接[http://blog.plicatibu.com/how-to-debug-cocos2d-x-and-java-code-using-eclipse/](http://blog.plicatibu.com/how-to-debug-cocos2d-x-and-java-code-using-eclipse/) 但在安装过程中我发现该评论删除了对 linux 的支持。 **cocos2d-x 2.x 移除了对 Linux 的支持，因此本教程不再适用。** 任何人都可以让我更详细地了解。我在 Android.mk 文件中加载模块时出错。

cocos2dx 版本 cocos2d-2.0-x-2.0.2

谢谢你。

# php - 在 PHP 中的多个服务器上的 Memcahced

> ID：13025726
> 
> 赞同：0
> 
> 时间：2012-10-23T07:46:08.830
> 
> 标签：php, memcached, load-balancing

关于 PHP 中的 memcached 模块，我有以下问题：

**介绍：**

我们正在使用该模块来防止相同的查询被发送到数据库服务器，在一个每时每刻都有 500 多个用户的站点上。

有时（非常罕见）memcahed 进程停止运行，所有活动用户开始生成对数据库的查询，因此一切都停止工作。

**问题：**

我知道，memcached 支持多台服务器，但我想知道其中一台死机时会发生什么？是否有某种平衡器背景或其他东西，可以告诉`Ow! server 1 is dead. I'll send everything to server 2 until the server 1 goes back online.`或负载被平等地发送给每个人？

**可能的解决方案：**

我需要知道这一点，因为如果不支持它，我们的系统管理员可以将当前的 memcached 服务器设置为负载均衡器并平衡其他几个服务器之间的负载。

我应该要求他手动创建负载平衡还是默认支持此功能？这两种方法的风险是什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:59:37.697

您在 PHP 脚本中添加多个服务器，而不是在 Memcache 的配置中。

使用 时`Memcached::addServers()`，可以为每个服务器指定权重。在您的情况下，您可以将一个 Memcache 服务器设置为高于另一个，并且仅将第二个服务器用作故障转移。

使用`Memcached::setOption()`，您可以设置重试连接的频率并设置超时。如果您知道您的 Memcache 服务器经常死机，那么将其设置为低于默认值可能是值得的，但这不是必需的。

# windows - 监视对文件应用的操作的进程

> ID：13025738
> 
> 赞同：0
> 
> 时间：2012-10-23T07:47:13.100
> 
> 标签：windows, file, process

我想监视 Windows 中的进程以检查它对特定文件执行的操作，包括重命名或加密它。我想为这些动作生成事件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:49:57.250

监视文件比监视进程更容易。看看 FileSystemWatcher 类。[http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher.aspx](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher.aspx)

# django - Django Haystack 订购

> ID：13025740
> 
> 赞同：1
> 
> 时间：2012-10-23T07:47:19.317
> 
> 标签：django, django-haystack

我想按喜欢的数量（反向）对我的应用程序上的帖子进行排序，所以我将此代码放在 search_indexes.py 中：

```
like = IntegerField(model_attr="like", null=True) 
```

在模型中：

```
like = models.IntegerField(null=True, blank=True) 
```

在视图中代码是：

```
context = {
   'var': SearchQuerySet().all().order_by('-like'),
} 
```

这似乎按喜欢的数量对帖子进行排序，但按此顺序（按喜欢排序）：

97 9 9 8 83 7

似乎仅按第一个数字排序。我怎样才能解决这个问题？这是一个错误吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T11:14:08.003

我终于找到了这个问题的根源——这是计划。起初，like 字段不是整数，而是 CharField，当我更改它时，我只重建了索引而不是 build_solr_schema，因为它是必需的。

# java - 如何编写一个反转用户输入的数字的程序

> ID：13025743
> 
> 赞同：1
> 
> 时间：2012-10-23T07:47:21.060
> 
> 标签：java, math

作业问题是用户输入一个数字。然后你必须编写一个颠倒这个顺序的程序。因此，如果用户输入 7364，您必须编写一个在下一行显示 4637 的程序。我想我已经找到了解决方案，但我不确定如何编写它。

由于最后一个数字是倒序的第一个数字，这意味着如果有人输入 7364，这意味着我想得到 4637。我必须编写一个程序，将 4 乘以 1000、6 乘以 100、3 乘以 10 和 7 乘以 1将这些加起来得到 4637。我不是 100% 确定该怎么做。让我困惑的是如何将一个数字乘以 1000，下一个乘以 100，下一个乘以 10，下一个乘以 1，然后将它们相加。

```
import acm.program.*;
public class ReverseNumber extends ConsoleProgram{
    public void run(){

    int n = readInt("please enter any positive number: ");

    int total = 0;

    while ( n > 0){
    total = total + n % 10;    <----?
    n = n * 1000;         <----?
      }
    println("the reverse order is" + total); 

   }

  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T08:01:43.103

使用库的最简单方法。

```
System.out.println(new StringBuilder(String.valueOf(i)).reverse()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T07:51:46.837

尝试这个：

```
while( n != 0 )
{
    reverse = reverse * 10;
    reverse = reverse + n%10;
    n = n/10;
} 
```

逻辑是在每次迭代中从单位位置开始获取单个数字，直到遇到所有数字。

`n`是输入编号。 是完成后存储`reverse`反向的变量。`n``while`

`%`运算符与 10 一起使用时，为您提供单位位置的数字。 `/`运算符与 10 一起使用时，为您提供除个位数字以外的所有数字。

何时`n = 7364`和`reverse = 0`

在第一次迭代中，循环将如下所示：

```
while(7364 != 0) // true
{
    reverse = 0 * 10; // reverse = 0
    reverse = 0 + 7364%10 // reverse = 4
    n = 7364/10 // n = 736
} 
```

在第二次迭代中：

```
while(736 != 0) // true
{
    reverse = 4 * 10; // reverse = 40
    reverse = 40 + 736%10 // reverse = 46
    n = 736/10 // n = 73
} 
```

在第三次迭代中：

```
while(73 != 0) // true
{
    reverse = 46 * 10; // reverse = 460
    reverse = 460 + 73%10 // reverse = 463
    n = 73/10 // n = 7
} 
```

在第四次迭代中：

```
while(7 != 0) // true
{
    reverse = 463 * 10; // reverse = 4630
    reverse = 4630 + 7%10 // reverse = 4637
    n = 7/10 // n = 0
} 
```

在第 5 次迭代中：

```
while(0 != 0) // false and loop ends
{
    ...
} 
```

我们有`reverse = 4637`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-23T07:54:01.340

好吧，要反转数字，最简单的解决方案是将其转换为字符串，获取第一个字母并将其附加到末尾，直到在这种情况下到达最后一个字母或数字。此外，您可以对乘法部分执行几乎相同的操作。将数字一一作为字符串转换回 int 然后相乘和相加。

编辑：如果你不能使用字符串来做到这一点。这是一个有点数学的解决方案。

```
int num = 123456; // any number than you want to reverse
string revnum = ''; // the reversed number
int temp = 0;
do {
 temp= (temp*10)+(num%10);
 num = (int)(num/10);
}while(num>0){
 revnum = revnum + temp;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-23T07:50:54.957

这应该有效：

```
 total = 0;
    while (n > 0) {
        total = total * 10 + n % 10;
        n = n / 10;
    }
    println("the reverse order is " + total); 
```

您不必知道原始数字中有多少位，无论如何您都在遍历所有数字。这是发生的事情：

*   当你得到一个新数字 ( `n % 10`) 时，你将结果乘以 10 并将其添加到其中。这样，您可以抵消结果中的数字。
*   然后，您通过执行从原始数字中删除最后一个数字（您在之前的步骤中添加的那个）`n / 10`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-23T07:50:12.460

你必须用int来表示它吗？字符串似乎更自然？

如果您坚持使用 int，则需要跟踪要乘以的因子：这意味着您每次迭代乘以 10 的另一个变量。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-23T07:53:02.670

将 to转换`Int`为`String`，然后放入 a `StringBuffer` then 使用`.reverse()`

我不想添加代码，因为有很多示例。喜欢[这个](http://www.java-examples.com/java-stringbuffer-reverse-example)。

之后，您可以再次将其转换为`String`.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-20T05:40:46.990

```
public class value{

   public static void main(String[] args){

    int n=Integer.parseInt(args[0]);
    int t=0;

    do{
        t=n%10;
        System.out.print(t);
        n=n/10;
    }while(n>0);

}
} 
```

# c# - 需要正则表达式从字符串中仅提取字母

> ID：13025744
> 
> 赞同：1
> 
> 时间：2012-10-23T07:47:25.100
> 
> 标签：c#, regex, extract

嗨，我有类似`A01`,`AAA`等的字符串。

我想提取它的字母部分，例如`A01`=> `A`，`AAA`=> `AAA`。

我正在使用`[A-Za-z\s]`，但它不起作用。但是，当我在 [http://gskinner.com/RegExr/在线尝试时，它可以工作](http://gskinner.com/RegExr/)

什么不见​​了？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-23T07:50:30.977

这是一个不可知论的语言正则表达式解决方案：

```
/[a-z]+/i 
```

C#代码：

```
public Regex MyRegex = new Regex( "[a-z]+", RegexOptions.IgnoreCase); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-02-29T06:53:37.253

您可以使用 LINQ，因为正则表达式涉及开销：

```
var res = String.Join("", input.Where(c => Char.IsLetter(c))); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T08:27:06.833

这是一个可以肯定工作的示例代码。

```
string txt="a123b";
        string re1="([A-Za-z])";

    MatchCollection matches = Regex.Matches(txt, re1);

    string str = String.Empty;

        // Use foreach loop.
        foreach (Match match in matches)
        {
            foreach (Capture capture in match.Captures)
                {
                    str += capture.Value ;
                }
        }
    Console.WriteLine(str); 
```

使用 System.Text.RegularExpression 命名空间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-02-29T06:09:13.437

您可以使用正则表达式替换。

```
using System.Text.RegularExpressions;

string aplhaNumericString = "A01", alphabeticalString ="AAA";

Regex.Replace(aplhaNumericString,@"\d","");
Regex.Replace(alphabeticalString,@"\d",""); 
```

# wpf - 列表框数据模板中的选项卡用户控件

> ID：13025745
> 
> 赞同：1
> 
> 时间：2012-10-23T07:47:30.697
> 
> 标签：wpf, user-controls, focus

我在 ListBox 中有一个用户控件，当我使用 Tab 键聚焦时，我希望将焦点放在控件中的 TextBox 而不是自定义控件上。我该怎么做？

我简化了代码，因为在我的控制中我有其他 UI 元素。

用户控制代码：

```
<Grid>
    <TextBox Name="txtFreeTextDescription" Style="{StaticResource TextBoxStyleLargeDynamic}" Text="{Binding Description, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" />
</Grid> 
```

列表框代码：

```
<ListBox Name="lsbItems" DataContext="{Binding}" KeyboardNavigation.TabNavigation="Local">
      <ListBox.ItemTemplate>
         <DataTemplate>
             <local:SectionDynamicItem x:Name="ucSectionDynamicItem" Description="{Binding SectionItem.Description}"  />
          </DataTemplate>
       </ListBox.ItemTemplate>
</ListBox> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T09:40:00.407

这对我有用....

```
 <ListBox ItemsSource="{Binding EmployeeList}"
            KeyboardNavigation.TabNavigation="Continue">
        <ItemsControl.ItemContainerStyle>
            <Style TargetType="ListBoxItem">
                <Setter Property="Focusable" Value="False"/>
            </Style>
        </ItemsControl.ItemContainerStyle>
        <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
                <StackPanel Orientation="Horizontal"/>
            </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>
        <ItemsControl.ItemTemplate>
            <DataTemplate>
                <Grid Margin="5" Focusable="False">
                    <TextBox Text="{Binding Name}"/>
                </Grid>
            </DataTemplate>
        </ItemsControl.ItemTemplate>
    </ListBox> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-23T09:34:52.363

检查下面的链接。

[http://social.msdn.microsoft.com/forums/en-US/wpf/thread/98d8423c-9719-4291-94e2-c5bf3d80cd46/](http://social.msdn.microsoft.com/forums/en-US/wpf/thread/98d8423c-9719-4291-94e2-c5bf3d80cd46/)

谢谢拉杰尼坎特

# php - 如何获取下拉jquery的值

> ID：13025750
> 
> 赞同：0
> 
> 时间：2012-10-23T07:48:07.597
> 
> 标签：php, jquery, dom

我想获取下拉列表的值。我正在使用 msDropDown，但我将其值设为未定义。html如下：

```
 <select name="category[]" 
         id="webmenus_<?php echo $BPackageCityRelatedToCountry[$i]['city_id']; ?>"      
         onchange="showValue(this.value)"
 >
     <option value="0" selected="selected" title="Please select hotel category"></option>
     <option value="5_<?php echo $BPackageCityRelatedToCountry[$i]['city_id']; ?>" title="/public/front_end/images/5star.png"></option>
     <option value="4_<?php echo $BPackageCityRelatedToCountry[$i]['city_id']; ?>" title="/public/front_end/images/4star.png"></option>
     <option value="3_<?php echo $BPackageCityRelatedToCountry[$i]['city_id']; ?>" title="/public/front_end/images/3star.png"></option>
     <option value="2_<?php echo $BPackageCityRelatedToCountry[$i]['city_id']; ?>" title="/public/front_end/images/2star.png"></option>
     <option value="1_<?php echo $BPackageCityRelatedToCountry[$i]['city_id']; ?>" title="/public/front_end/images/1star.png"></option>
</select> 
```

`jquery alert($("input[name='category[]']").val());`未定义的警报。

我怎样才能得到下拉列表的值？谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:58:42.013

```
$(":input[name='category[]']").val() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T07:50:34.943

尝试

```
 $("class of select ").change(function() {
        alert($(this).val());
    }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T07:54:46.113

您使用**select**而不是**input**

编辑您的 HTML 并将 select Tag 设置为 mutiple

```
 <select name="test" multiple>
     <option value="1">ITEM 1</option>
      <option value="2">ITEM 2</option>
      <option value="3">ITEM 3</option>
  </select>

alert($('select[name="test"]').val());
// outputs 1,2,3 when you select all three options 
```

# android - 如何使用 NFC 标签 ACTION_TECH_DISCOVERED 主要活动？

> ID：13025752
> 
> 赞同：2
> 
> 时间：2012-10-23T07:48:21.793
> 
> 标签：android, nfc

我是新开发者 android 。当我触摸 NFC 标签读取数据时，如何在 onCreate Main 活动中使用此代码。我使用流动代码读取标签，如何更改它来解决问题？

```
in manifest

<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
      package="example.Ultralight"
      android:versionCode="1"
      android:versionName="1.0">
    <uses-permission android:name="android.permission.NFC" /> 
    <uses-sdk android:minSdkVersion="10" /> 
    <uses-feature android:name="android.hardware.nfc" android:required="true" />

    <application android:icon="@drawable/icon" android:label="@string/app_name" android:debuggable="true">
        <activity android:name="MainView"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
           <intent-filter>
                <action android:name="android.nfc.action.TECH_DISCOVERED"/> 
            </intent-filter>
                <meta-data android:name="android.nfc.action.TECH_DISCOVERED"
                android:resource="@xml/tech_filter"/> 
        </activity>

    </application>
</manifest> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-24T05:46:10.667

如果您希望应用程序仅在应用程序启动时对标签进行操作，那么您需要在 OnCreate 中设置一个意图过滤器并对其进行操作。像这样的东西。

**更新：**添加代码。

```
NfcAdapter mAdapter;
private PendingIntent mPendingIntent;
private IntentFilter[] mFilters;
private String[][] mTechLists;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.fbintenthandler);

    mAdapter = NfcAdapter.getDefaultAdapter(this);
    mPendingIntent = PendingIntent.getActivity(this, 0,
            new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);

    IntentFilter ntech2 = new IntentFilter(NfcAdapter.ACTION_NDEF_DISCOVERED);
    IntentFilter ntech3 = new IntentFilter(NfcAdapter.ACTION_TECH_DISCOVERED);

    mFilters = new IntentFilter[] {
            ntech3, ntech2,
    };

    mTechLists = new String[][] { new String[] { 
            NfcA.class.getName(), 
            Ndef.class.getName() } };

    Intent intent = getIntent();
    resolveIntent (intent);

} 

@Override
protected void onNewIntent(Intent intent) {
    super.onNewIntent(intent);
    resolveIntent(intent);   
}

private void resolveIntent (Intent intent)
{
    String action = intent.getAction();
    if ((NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) || 
            (NfcAdapter.ACTION_TECH_DISCOVERED.equals(action)))
    {
        Tag tagFromIntent = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);

        Parcelable[] rawMsgs = intent
                .getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);
        NdefMessage msg = (NdefMessage) rawMsgs[0];

        extractMessage(msg);

    }
}

private void extractMessage(NdefMessage msg) {
    byte[] array = null;
    array = msg.getRecords()[0].getPayload();
    String displaystring = convert (array);

    TextView tv = (TextView) findViewById(R.id.txt_DisplayData);
    tv.setText(displaystring);
}

String convert(byte[] data) {
    StringBuilder sb = new StringBuilder(data.length);
    for (int i = 0; i < data.length; ++ i) {
        if (data[i] < 0) throw new IllegalArgumentException();
        sb.append((char) data[i]);
    }
    return sb.toString();
} 
```

# ios - 在导出的 Unity Xcode 项目中显示 Gamecenter

> ID：13025753
> 
> 赞同：0
> 
> 时间：2012-10-23T07:48:28.920
> 
> 标签：ios, unity3d, game-center

我有一个已经构建好的 iOS Unity 项目，现在我有一个 Xcode 项目。现在我想实现 Gamecenter，但我似乎无法找到 rootviewcontroller 来显示 GKLleaderboardViewController。在本机应用程序上，我只需执行以下操作：

```
#import "AppDelegate.h"

AppDelegate *_delegate = [UIApplication sharedApplication].delegate;
[_delegate.viewController presentModalViewController: leaderboardController animated: YES]; 
```

但是 Unity 把代码弄乱了，我只有一个 AppController.h 和一个 AppController.mm

有人设法解决了这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:54:01.123

查看 AppController.mm 内部，您可以找到：

```
if( [_window respondsToSelector:@selector(rootViewController)] )
    _window.rootViewController = controller; 
```

所以你可以通过调用获得根视图控制器

```
[[UIApplication sharedApplication].keyWindow rootViewController] 
```

# visual-studio - 如何强制 MSBuild 复制项目中的空文件夹？

> ID：13025754
> 
> 赞同：5
> 
> 时间：2012-10-23T07:48:37.440
> 
> 标签：visual-studio, msbuild

我在 Visual Studio 2012 中有一个 MVC 4 项目。其中有一个`Logs`文件夹，其中仅包含四个空子文件夹。我使用的一个库需要这种结构。我将这些文件夹包含在这样的项目中：

```
<ItemGroup>
    <Folder Include="App_Data\" />
    <Folder Include="XSockets\XSocketServerPlugins\Log\XConnectionInterceptor\" />
    <Folder Include="XSockets\XSocketServerPlugins\Log\XErrorInterceptor\" />
    <Folder Include="XSockets\XSocketServerPlugins\Log\XHandshakeInterceptor\" />
    <Folder Include="XSockets\XSocketServerPlugins\Log\XMessageInterceptor\" />
</ItemGroup> 
```

但这还不够，所有这些文件夹（包括`App_Data`Visual Studio 创建项目时存在的文件夹）都不会复制到包中。即使它们是空的，我能否以某种方式强制 MSBuild 复制它们？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-24T22:25:38.110

添加 PostBuild 步骤以复制文件夹。

我无法专门针对 VS2012 回答，但这是在 VS2010 中执行此操作的方法：

*   右键单击项目并选择属性
*   显示构建事件选项卡
*   将您的复制命令放在构建后事件命令中

如果单击编辑按钮，弹出对话框将有一个宏按钮，其中列出了所有可用的 VS 变量，您可以使用它们来避免使用显式路径等。

在 VS2010 中，这会将项目文件修改为如下所示：

```
 <PropertyGroup>
    <PostBuildEvent>copy /Y "$(TargetDir)\*.*" "$(ProjectDir)\..\..\..\net40"</PostBuildEvent>
  </PropertyGroup> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-31T19:53:00.020

不要编辑项目文件。我可以看到您在 XSockets 上使用的是旧版本，对吗？

照 Brenda 说的做，不要介意项目文件。看附上的图片... ![构建事件](../Images/47c01e22130d1318d2a757e0a656fbc0.png)

不是 100% 确定您正在寻找的是这个，但是......它显示了构建前和构建后的事件

问候 Uffe，XSockets 团队

# wpf - 将控件分配给 XAML 中的属性

> ID：13025758
> 
> 赞同：0
> 
> 时间：2012-10-23T07:49:04.497
> 
> 标签：wpf, xaml, collections, controls

嘿嘿，

我想知道是否可以将多个控件分配给 XAML 中的属性。

假设我的 XAML 中有 2 个控件：

```
<Button x:Name="_Btn1 Content="Button 1" />
<Button x:Name="_Btn2 Content="Button 2" />

<local:MyControl x:Name="_MyCtrl" Controls="{what goes here?}" /> 
```

或者我应该将我的控件声明为容器控件并将所有控件放入其中，如下所示：

```
<local:MyControl x:Name="_MyCtrl">
    <Button x:Name="_Btn1 Content="Button 1" />
    <Button x:Name="_Btn2 Content="Button 2" />
</local:MyControl> 
```

提前谢谢！

格茨，德维

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:59:41.407

如果您让**MyControl**继承**ItemsControl** ，您可以这样做。

那么这个

```
<local:MyControl x:Name="_MyCtrl">
   <Button x:Name="_Btn1 Content="Button 1" />
    <Button x:Name="_Btn2 Content="Button 2" />
</local:MyControl> 
```

会工作，这

```
<local:MyControl x:Name="_MyCtrl" ItemsSource="ViewModelorControlCollection" /> 
```

也会起作用。

ViewModelorControlCollection 可以在 ViewModel 中定义，也可以在 xaml 中定义为静态资源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:04:41.773

这真的取决于你要做什么。通常，您只需定义 a 即可`DataTemplate`。

```
<local:MyControl x:Name="_MyCtrl">
    <local:MyControl.ControlsTemplate>
        <DataTemplate>
            <StackPanel>
                <Button x:Name="btn1" Content="Button 1" />
                <Button x:Name="btn2" Content="Button 2" />
            </StackPanel>
        </DataTemplate>
    </local:MyControl.ControlsTemplate>
</local:MyControl> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T08:05:10.877

你肯定需要某种容器。这可以是一个简单的列表或一个专门的集合。无论您在控制中使用什么。

```
<local:MyControl>
    <local:MyControl.Controls>
        <ControlCollection> <!-- or whatever -->
            <Button/>
            <Button/>
        </ControlCollection>
    </local:MyControl.Controls>
</local:MyControl> 
```

如果您使用 a`Panel`或类似的类，则无需`ControlCollection`显式指定。然后，您可以定义控件，例如`StackPanel`.

# javascript - jQuery手风琴的问题

> ID：13025759
> 
> 赞同：0
> 
> 时间：2012-10-23T07:49:05.213
> 
> 标签：javascript

我已经通过以下方式初始化了手风琴。

```
<script>
$(function()
    $( "#accordion" ).accordion({
    autoHeight:false});
});
</script> 
```

一切正常，除了以下内容在扩展包含比第一个更高的部分时没有向下移动。

现场查看的网址是[http://thephpcode.com/index.php/web/setting_issue](http://thephpcode.com/index.php/web/setting_issue)

尝试展开最后一部分并查看手风琴下方的按钮不向下移动。它出现在手风琴显示器的顶部。如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:55:17.057

解决方案是：

```
$( "#accordion" ).accordion({
heightStyle: "content"
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-14T12:57:45.143

你也可以试试这个**插件**：[http ://accordion-cd.blogspot.com/](http://accordion-cd.blogspot.com/)

如果您希望默认选择特定项目。还有许多选项可用于定制您的要求。

**传入插件的参数：**

```
heading  :  null  //mandatory to provide Heading tag to attach event
content  :  null  //mandatory to provide Content to show/hide
headingEvent  : "click"   //Attach Event
active : 0   //By default visible element
callapsAll  :  false   //to hide all on page load
expandAll  :  "expandAll"   //Element name on Expand All Functionality attached
collapsAll  :   "collapsAll"   //Element name on Collapse All Functionality attached
headingClass  :  "accordion-header"   //Accordion Heading Class
contentClass  :  "accordion-content"   //Accordion Content Class 
```

# jquery - 为什么 Highcharts 不接受来自我的 JSON 的 UTC 值？

> ID：13025760
> 
> 赞同：4
> 
> 时间：2012-10-23T07:49:09.687
> 
> 标签：jquery, json, highcharts, cosm, xively

我正在尝试将一些 JSON 格式的数据从 COSM 提要中获取到一个简单的图表中，但是在这样做时遇到了麻烦。我不确定我是否误解了系列数组的工作原理（即使在查看了它的[文档](http://api.highcharts.com/highcharts#series.data)之后也是如此。

这是我的带有实验的代码（我最终希望通过循环获取 JSON 数据，但现在我只是手动尝试推送第二个数据点）。

```
$(document).ready(function(){
            var options = {
                    chart: {
                        renderTo: 'container',
                        type: 'line',
                        marginRight: 130,
                        marginBottom: 25
                    },
                    title: {
                        text: 'Temperature',
                        x: -20 //center
                    },
                    xAxis: {
                        //type: 'datetime',
                    },
                    yAxis: {
                        title: {
                            text: 'Temperature (°C)'
                        },
                        plotLines: [{
                            value: 0,
                            width: 1,
                            color: '#808080'
                        }]
                    },
                    tooltip: {
                        formatter: function() {
                                return '<b>'+ this.series.name +'</b><br/>'+
                                this.x +': '+ this.y +'°C';
                        }
                    },
                    legend: {
                        layout: 'vertical',
                        align: 'right',
                        verticalAlign: 'top',
                        x: -10,
                        y: 100,
                        borderWidth: 0
                    },
                    exporting: {
                        enabled: false
                    },
                    series: [{"name":"Temperature", "data":[]}]
            };
            $.getJSON('http://api.cosm.com/v2/feeds/79903.json?key=dNSiSvXZtR6QBUqbzll4CCgnngGSAKxIQVFSeXBneGpqWT0g', function(data) 
            {
                var xval = data.datastreams[7].at;
                var yval = parseFloat(data.datastreams[7].current_value);
                alert(xval);
                alert(yval);
                var pointChart = new Array(xval, yval);
                options.series[0].data.push(pointChart);
                xval = data.datastreams[2].at;
                yval = parseFloat(data.datastreams[2].current_value);
                pointChart = [xval, yval];
                options.series[0].data.push(pointChart);
                //options.series[0].data.push(data.datastreams[7].at, 25);
                alert(options.series[0].data[0]);
                alert(options.series[0].data[1]);
            });
            var chart = new Highcharts.Chart(options);
        }); 
```

JSON 看起来像这样：

```
{
   "version" : "1.0.0",
   "created" : "2012-10-12T05:01:53.231981Z",
   "status" : "live",
   "location" : {
   },
   "datastreams" : [{
         "max_value" : "100.0",
         "min_value" : "0.0",
         "at" : "2012-10-22T01:28:12.610947Z",
         "id" : "Battery_Level",
         "current_value" : "88"
      }, {
         "max_value" : "30431.0",
         "min_value" : "-26691.0",
         "at" : "2012-10-22T01:22:32.905001Z",
         "id" : "Heading",
         "current_value" : "95"
      }, {
         "max_value" : "64.9304",
         "min_value" : "21.6153",
         "at" : "2012-10-22T01:30:52.656318Z",
         "unit" : {
            "symbol" : "%"
         },
         "id" : "Humidity",
         "current_value" : "55.7556"
      }, {
         "max_value" : "32684.0",
         "min_value" : "0.0",
         "at" : "2012-10-22T01:30:52.656318Z",
         "id" : "Light_Level",
         "current_value" : "37"
      }, {
         "max_value" : "649994.0",
         "min_value" : "-139994.0",
         "at" : "2012-10-18T06:47:56.226880Z",
         "unit" : {
            "symbol" : "µT"
         },
         "id" : "Magnetic_X",
         "current_value" : "-24.90"
      }, {
         "max_value" : "99997.0",
         "min_value" : "-9.9006731e+24",
         "at" : "2012-10-18T06:47:56.226880Z",
         "unit" : {
            "symbol" : "µT"
         },
         "id" : "Magnetic_Y",
         "current_value" : "7.35"
      }, {
         "max_value" : "432.0",
         "min_value" : "-3950.0",
         "at" : "2012-10-18T06:47:56.226880Z",
         "unit" : {
            "symbol" : "µT"
         },
         "id" : "Magnetic_Z",
         "current_value" : "7.10"
      }, {
         "max_value" : "25.59",
         "min_value" : "11.1",
         "at" : "2012-10-22T01:30:52.656318Z",
         "unit" : {
            "symbol" : "°C"
         },
         "id" : "Temperature",
         "current_value" : "22.3800"
   ],
} 
```

据我了解，Highcharts 接受 UTC 格式的 x 轴日期/时间值吗？来自我的 JSON 提要的 UTC 是否无效？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T07:55:53.120

您必须将日期和时间值转换为 Unix 时间戳，然后 Highcharts 将接受它。

```
Date.UTC(2010, 0, 1) 
```

查看[本教程](http://www.elated.com/articles/working-with-dates/)，了解如何在 Javascript 中使用日期对象。

# javascript - 谷歌地图：如何使用 gmaps.js 找到地图内的所有标记

> ID：13025761
> 
> 赞同：2
> 
> 时间：2012-10-23T07:49:14.850
> 
> 标签：javascript, google-maps

我使用 gmaps.js 的 addMarker() 创建了一些标记：

```
var lat= new Array();
var lng= new Array();
var title= new Array();
lat[0]=...
lng[0]=...
title[0]=...
...

for(i=0;i<lat.lenth;i++){
  map.addMarker({
    lat: lat[i],
    lng: lng[i],
    title: title[i],    
  });
} 
```

现在，我只想获取当前显示地图内的标记并将站点列表显示到表格中。我怎样才能做到这一点？是否有任何来自 gmaps.js 的 API 可以轻松实现？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:43:17.157

您需要获取地图的边界，然后查看该边界是否包含每个标记。

```
var bounds = map.getBounds();

for (var i=0;i<lat.length;i++) {
  var latlng = new google.maps.LatLng(lat[i], lng[i]);

  map.addMarker({
    lat: lat[i],
    lng: lng[i],
    title: title[i],    
  });

  if (bounds.contains(latlng)) {
    // add the details into an array here.  After the loop, output the contents to a div
  }
} 
```

# java - J2ME 中 LWUIT 中的工具提示概念

> ID：13025762
> 
> 赞同：0
> 
> 时间：2012-10-23T07:49:23.277
> 
> 标签：java, java-me, lwuit

我有一个 J2ME 应用程序，其中有四个图像按钮。在关注每个图像按钮时，我想展示这个图像的含义。那么，如何在 LWUIT(J2ME) 中使用工具提示的概念？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T08:17:07.983

您可以有一个标签，将焦点事件上的文本设置为该标签。通常，工具提示是桌面概念，而不是移动概念。此外，焦点事件在基于触摸的设备上没有多大意义，因此您将硬编码您的应用程序以配备手机和旧黑莓。

# ruby-on-rails - 是否可以在 em-http-request multi 中使用不同的会话？

> ID：13025763
> 
> 赞同：0
> 
> 时间：2012-10-23T07:49:31.677
> 
> 标签：ruby-on-rails, concurrency, eventmachine

我需要通过一些会话向服务器发出 em-http-request 多请求。可能吗？

我使用 sessionId 参数获取 url，它对所有请求都是相同的。但它应该不同，即：

```
example.com?sessionId=AabBcC
example.com?sessionId=DdEeFf 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-28T12:51:46.560

是的你可以。考虑到这种抽象程度，不知道还能说什么。

# jquery - 如何在 jQuery 验证插件中使用 invalidHandler 选项将 CSS 类添加到无效输入的父级？

> ID：13025766
> 
> 赞同：1
> 
> 时间：2012-10-23T07:49:45.100
> 
> 标签：jquery, jquery-validate

我正在使用 jQuery 验证插件来验证我的表单。如果输入有类错误，我正在尝试向父 div 添加一些样式。

我[在这里查看](http://docs.jquery.com/Plugins/Validation/validate)并找到了该`invalidHandler`选项，但是当我尝试覆盖它时，验证完全停止工作。

这是我的js代码：

```
$(".sign_up").validate({
    invalidHandler: function(form, validator) {
        if (errors) {
            $("errorContainer").show();
            $(':input').each(function() {
                if ($(this).hasClass('error')) {
                    $(this).parent().addClass('bg2');
                }
            });

        }
        else {
            $("errorContainer").hide();
            $(':input').each(function() {
                $(this).parent().removeClass('bg2');
            })
        };
    },
    rules: {

        "user[email]": {
            required: true,
            email: true,
            remote: {
                type: "get",
                dataType: "json",
                url: url_name.concat("checkemail"),
                async: false
            },
        },
        'user[password]': {
            required: true,
            minlength: 6
        },
        'user[password_confirmation]': {
            equalTo: "#passs",
            minlength: 6,
            required: true
        }
    },
    messages: {
        "user[email]": {
            remote: "This email is already taken"
        },
        'user[password]': {
            required: "Password is required",
            minlength: "Your password is too short"
        },
        'user[password_confirmation]': {
            equalTo: "Your password confirmation doesn't match",
            required: "Enter password confirmation"
        }

    },
    onsubmit: true,
    onkeydown: true,
    onkeyup: false,
    onfocusin: false,
    onfocusout: false,
    errorContainer: "#messageBox2",
    errorLabelContainer: "#messageBox2 ul",
    wrapper: "li"
}) 
```

我的 HTML 表单：

```
 <form accept-charset="UTF-8" action="/users/sign_in" class="login" id="login" method="post" novalidate="novalidate"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <div id="messageBox1"> 
  <ul></ul>
</div>

<div class="field2">
  <label for="user_email">E-mail Adress</label>
  <input id="em" name="user[email]" size="30" type="email" value="">
</div>

<div class="field2">
  <label for="user_password">Password</label>
  <input class="passwords" id="user_password" name="user[password]" size="30" type="password">
</div>

 <div class="submit_login">
  <input class="btn go" id="check_login" name="commit" type="submit" value="Sign In">  
   </form> 
```

下一个代码（与 invalidHandler 相同）正在工作，但它仅在第二次单击时添加

```
$("#submit").click(function(){
    $(':input').each(function() {
        if ($(this).hasClass('error')) {
            $(this).parent().addClass('bg2');
        }
    });
}) 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T10:24:19.737

我建议您使用以下方式为各个错误字段添加和删除类

```
$(".sign_up").validate({
  rules:{//add your rules here
  },
  messages:{//add messages here
  },
  errorPlacement: function(error, element) {
   //here you will get error with label/wrapper element (ul in your case) and 
   //input element on for which the error is related to

   $(element).parent().addClass('bg2');
   $("errorContainer").show();//clearly mention if selector is a class or id
  },
  success: function(label) {
   //this part gets executed if a input fields has an error previously 
   //and successfully validated
   //here you will have only the error which was passed in the above function
   //ie errorPlacement
   //assuming that parent container holds the error label
   $(label).parents('.bg2').removeClass('.bg2');
  },
  submitHandler: function(form){
   //submit form here
  }
}); 
```

# c# - 在 UserControl 中设置 ForegroundColor

> ID：13025768
> 
> 赞同：4
> 
> 时间：2012-10-23T07:49:49.440
> 
> 标签：c#, wpf, user-controls, wpf-controls, foreground

我正在 WPF 中编写一个用户控件，这是我自己的第一个控件。为了您的信息，我正在使用 Telerik 控件。

我的用户控件只是一个`Grid`只包含 2 个`GridView`的。现在我想给某人`GridView`通过设置前景和背景来设置 s 样式的可能性。

我都是这样设置的：

```
Background="{Binding ElementName=Grid, Path=DarkBackground}"
Foreground="{Binding ElementName=Grid, Path=LightForeground}" 
```

我背后的代码是：

```
public static DependencyProperty LightForegroundProperty = DependencyProperty.Register( "LightForeground", typeof( Brush ), typeof( ParameterGrid ) );
public Brush LightForeground
{
  get
  {
    return (Brush)GetValue( LightForegroundProperty );
  }
  set
  {
    SetValue( LightForegroundProperty, value );
  }
}

public Brush DarkBackground
{
  get
  {
    return (Brush)GetValue( DarkBackgroundProperty );
  }
  set
  {
    SetValue( DarkBackgroundProperty, value );
  }
} 
```

问题是我的前景、背景值在运行时被忽略了。为前景设置一个固定值会带来预期的结果。

我没有发现我的错误，有人知道吗？？？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T09:45:15.950

所以澄清一下……你有一个`UserControl`with a `Grid`inside 和 2 `GridViews`。

要引用 UserControl 上的依赖项属性...可以通过不同的方式完成。

## 将 DataContext 设置为 Self（代码隐藏）

在 UserControl 的构造函数中，将 DataContext 设置为指向您的 UserControl 实例。

```
DataContext = this; 
```

然后像这样访问您的属性：

```
Background="{Binding DarkBackground}"
Foreground="{Binding LightForeground}" 
```

## 将 DataContext 设置为 Self (XAML)

如果您不想通过代码隐藏执行此操作，则可以使用 XAML。

```
<UserControl DataContext="{Binding RelativeSource={RelativeSource Self}}"> 
```

## 在您的 UserControl 和 ElementName 上使用名称来引用它

穿上`x:Name="MyUserControl"`你的`UserControl`，然后用`ElementName`.

```
Background="{Binding ElementName=MyUserControl, Path=DarkBackground}"
Foreground="{Binding ElementName=MyUserControl, Path=LightForeground}" 
```

* * *

## 使用 RelativeSource 告诉 Binding 属性的来源。

通过使用 RelativeSource 在树中寻找 UserControl 来指定绑定的“源”。

```
Background="{Binding RelativeSource={RelativeSource AncestorType={x:Type UserControl}}, Path=DarkBackground}"
Foreground="{Binding RelativeSource={RelativeSource AncestorType={x:Type UserControl}}, Path=LightForeground}" 
```

# php - 在 pear excel writer 中更改 BIFF 版本的风险是什么

> ID：13025772
> 
> 赞同：0
> 
> 时间：2012-10-23T07:49:59.587
> 
> 标签：php, pear

我正在使用 PEAR 的一个组件 Spreadsheet_Excel_Writer 在 Web 应用程序中生成 Excel 文件。

默认情况下它保存在 BIFF5 中，我使用 setVersion 将 BIFF5 版本更改为 BIFF8。

手册说将不推荐使用此功能。有谁知道原因？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T07:55:10.430

它已被弃用，因为 PEAR Spreadsheet_Excel_Writer 的开发人员总是打算使 BIFF8 成为默认格式，并最终随着 Excel 用户从 Excel95 迁移到 Excel98 和更高版本的 2003 完全放弃 BIFF5，并且减少了与早期版本向后兼容的需求。

但是，PEAR Spreadsheet_Excel_Writer 的持续开发在达到该点之前就萎缩并死亡；所以临时状态仍然存在。

在风险方面：最小。BIFF8 文件的大部分功能仍然可以被仍在使用 Excel95 的人读取（BIFF8 的新功能从未添加到 Spreadsheet_Excel_Writer 中）；但是现在大多数 Excel 用户已经开始使用 Excel98 作为最低版本。较新的版本（Excel2007 和 Excel2010）仍然可以毫无问题地读取 BIFF8 文件。

# gcc - 禁止 GCC 建议的候选人

> ID：13025773
> 
> 赞同：5
> 
> 时间：2012-10-23T07:50:08.357
> 
> 标签：gcc, g++, optional-parameters, gcc-warning

我正在使用 gcc 4.7.2。[我的代码在模板和提升](http://www.boost.org/)使用方面相当繁重。当我编译并且我已经定义或使用了一些模棱两可的东西时，我经常收到错误消息，提示有两个候选者，通常在它们单独的“包含在 [some deep path]:”中的文件中定义，每个候选者都有相应的错误消息说明原因那个特定的候选人失败了。尤其是使用 boost 和模板，即使是这样的单个错误也会变得完全无法理解。

我的问题：

> 是否有一个选项可以控制对合适候选人的搜索深度？

理想情况下，我希望它*关闭*，或者至少减少到只有前一两个候选人——无论如何，其余的候选人通常都没什么用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T13:22:21.773

我使用[gccfilter](http://www.mixtion.org/gccfilter/)使模板错误更具可读性。从网站：

> 特征：
> 
> *   诊断消息的着色（使用可定制的颜色），
> *   简化模板程序输出：删除“with”子句、模板参数、
> *   用它们的值内联替换模板参数，
> *   删除命名空间，
> *   删除实例化链。

# mysql - MySQL BETWEEN vs. 大于和小于

> ID：13025778
> 
> 赞同：0
> 
> 时间：2012-10-23T07:50:23.217
> 
> 标签：mysql, rewrite, system, between

我有一个有效的预订查询。此查询检查预订时哪些项目可用。

[PROJECT]: projectid, datefrom, dateto, ...
[ITEM]: itemid, itemgroupid, ...
[ITEMGROUP]: itemgroupid, itemgroupname, ...
[RESERVELIST]: itemid, projectid, reservelistnr

```
SELECT *
FROM item i inner join itemgroup ig on i.itemgroupid = ig.itemgroupid
WHERE i.itemid NOT IN  (
                        SELECT r.itemid 
                        FROM reservelist r inner join project p on r.projectid = p.projectid
                        WHERE p.datefrom BETWEEN '$datefrom' AND '$dateto'
                        OR p.dateto BETWEEN '$datefrom' AND '$dateto'
                        OR '$datefrom' BETWEEN p.datefrom AND p.dateto
                        OR '$dateto' BETWEEN p.datefrom AND p.dateto
                        )
ORDER BY itemid 
```

$datefrom 和 $dateto 是预订时间的日期。
现在此查询运行良好，但如果有人在 08:00 - 21:00 之间进行预订，则下一次预订只能在 21:01 进行，而不能在 21:00 进行。所以我需要有一个小于和大于。

我玩了很多 < 和 >，但不知何故，它似​​乎不起作用。

我最好的猜测是这应该是一个很好的解决方案：

```
SELECT *
FROM item i inner join itemgroup ig on i.itemgroupid = ig.itemgroupid
WHERE i.itemid NOT IN  (
                        SELECT r.itemid 
                        FROM reservelist r inner join project p on r.projectid = p.projectid
                        WHERE p.datefrom > '$datefrom' AND p.datefrom < '$dateto'
                        OR p.dateto > '$datefrom' AND p.dateto < '$dateto'
                        OR '$datefrom' > p.datefrom AND '$datefrom' < p.dateto
                        OR '$dateto' > p.datefrom AND '$dateto' < p.dateto
                        )
ORDER BY itemid 
```

不幸的是，事实并非如此。

* * *

有人知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:02:37.080

您必须对条件进行分组。代替：

```
OR p.dateto > '$datefrom' AND p.dateto < '$dateto' 
```

你想写：

```
OR (p.dateto > '$datefrom' AND p.dateto < '$dateto') 
```

这样，您就具有与 BETWEEN 相同的功能（仅具有严格的“大于”条件）。你的其他条件也是如此。

最后，您的 WHERE 子句应如下所示：

```
WHERE (p.datefrom > '$datefrom' AND p.datefrom < '$dateto')
OR (p.dateto > '$datefrom' AND p.dateto < '$dateto')
OR ('$datefrom' > p.datefrom AND '$datefrom' < p.dateto)
OR ('$dateto' > p.datefrom AND '$dateto' < p.dateto) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T14:12:33.653

```
WHERE i.itemid NOT IN  (
                        SELECT r.itemid 
                        FROM reservelist r inner join project p on r.projectid = p.projectid
                        WHERE p.datefrom BETWEEN '$datefrom' AND '$dateto'
                        OR p.dateto BETWEEN '$datefrom' AND '$dateto'
                        OR '$datefrom' BETWEEN p.datefrom AND p.dateto
                        OR '$dateto' BETWEEN p.datefrom AND p.dateto
                        ) 
```

作品。

# heroku - How to reach a Heroku deployment within Heroku bash or Heroku Scheduler

> ID：13025782
> 
> 赞同：2
> 
> 时间：2012-10-23T07:50:33.850
> 
> 标签：heroku

I'm trying to invoke a HTTP endpoint in my deployed Heroku app with Heroku Scheduler, which basically runs commands on Heroku `bash` at a fixed rate.

When I run `$ heroku run bash`, I can read my port with `echo $PORT` (let's say 5555). However when I try to access my webpage using `curl http://localhost:5555`, it does not work.

What is the way to reach to the app within Heroku bash **without using the app name**?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T02:34:49.367

It's seems that there is no pre-configured environment variable.

However you can set it:

```
heroku config:add HEROKU_URL=http://<your app>.herokuapp.com 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-13T16:44:44.347

When you run "heroku run bash" you are actually firing up a one-off dyno which - according to Heroku - is a different process (from the dyno running your "web" process type) running on a different runtime instance. Routing does not exist between processes, so the HTTP requests you're issuing will always fail.

# caching - memcached 使用模式

> ID：13025784
> 
> 赞同：0
> 
> 时间：2012-10-23T07:50:38.267
> 
> 标签：caching, architecture, amazon-web-services, memcached

我正计划在我的网站中注入一个缓存系统，将在不同的层（数据、表示，可能在其他地方）使用它。作为我的堆栈 LAMP 和我的基础设施 100% 在 AWS 上的云，我认为自然的选择是 Amazon Elasticache（memcached 的托管安装）。但...

令人惊讶的是——对我来说——我发现 memcached 完全缺乏依赖管理。我不需要像 ASP.Net 缓存 SqlDependency 或 FileDependency 这样的“高级”东西，但 memcached 也没有提供简单的其他键依赖，这对于构建大大简化失效过程的依赖树非常有用。

那么，据我所知，memcached 用于许多复杂的系统，我是否遗漏了什么？是否存在使这种缺乏无关紧要的使用模式？

谢谢

按要求更新，我添加了一些伪代码来澄清我的意思

```
dependency = 'ROOT_KEY';
cache:set(dependency, 0, NEVER_EXPIRE);

expire = 600;
cache:set('key1', obj1, expire, dependency);
cache:set('key2', obj2, expire, dependency);
...
cache:set('keyN', objN, expire, dependency); 

//later, when I have to invalidate
cache:remove(dependency); //this will cause all keyX to be invalidated too 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T20:51:31.510

根据您问题中的示例，memcached（以及因此弹性缓存）不支持您正在寻找的任何类型的键元数据，您可以通过这些元数据关联这些键并将它们作为一个组进行操作。

我想如果您只有少数不同的“依赖项”，您可以简单地利用多个弹性缓存实例，这将允许您同时使每个实例/依赖项中的所有项目无效。当然，这最终可能会让您在 AWS 硬件成本方面付出比您想要的更多的成本，因为您只能以离散量增加缓存大小。这也将消除您在不知道查找发生的依赖项/实例的情况下进行缓存查找的能力。

对于您正在尝试做的事情，如果您正在寻找更多开箱即用的解决方案，您可以使用 MySQL/RDS 中的内存表之类的东西。当然，您不希望使用 RDS 高可用性功能或时间点恢复，因为它们会中断，因为它们需要写入磁盘。您基本上需要一个独立的 RDS 实例，除了这些内存表之外什么都不做。

然而，这些选项似乎都不完全适合您想要做的事情，因此您可能需要考虑调整您的方法（如果您想使用基本的 AWS 组件），或者在 EC2 上部署备用缓存系统.

# adfs2.0 - 使用 java 应用程序通过 openam 登录 adfs

> ID：13025786
> 
> 赞同：2
> 
> 时间：2012-10-23T07:50:50.917
> 
> 标签：adfs2.0, openam

我已将 adfs 配置为身份提供者，将 openam 配置为服务提供者，但是如何通过 adfs throght openam 测试登录是否正常工作。

任何人都可以帮助我使用 java 应用程序通过 openam 登录到 adfs 服务器。

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T18:04:03.333

请参阅[OpenAM 和 ADFS2 配置](https://wikis.forgerock.org/confluence/display/openam/OpenAM+and+ADFS2+configuration)。

这篇文章涵盖了你所有的问题。

**更新：**

我通常这样做的方式是使用 OpenSSO / OpenAM Java Fedlet。

请参阅[在 Java Web 应用程序中使用 Fedlet](http://openam.forgerock.org/openam-documentation/openam-doc-source/doc/dev-guide/index.html#chap-fedlet-java)（第 8 章）。

显示令牌内容的代码（根据 fedlet）如下所示：

```
Response samlResp = (Response) map.get(SAML2Constants.RESPONSE); 
Assertion assertion = (Assertion) map.get(SAML2Constants.ASSERTION);
Subject subject = (Subject) map.get(SAML2Constants.SUBJECT);
String entityID = (String) map.get(SAML2Constants.IDPENTITYID);
String spEntityID = (String) map.get(SAML2Constants.SPENTITYID);
NameID nameId = (NameID) map.get(SAML2Constants.NAMEID);
String value = nameId.getValue();
String format = nameId.getFormat();
out.println("<br><br><b>Single Sign-On successful with IDP " 
    + entityID + ".</b>");
out.println("<br><br>");
out.println("<table border=0>");
if (format != null) {
    out.println("<tr>");
    out.println("<td valign=top><b>Name ID format: </b></td>");
    out.println("<td>" + format + "</td>");
    out.println("</tr>");
}
if (value != null) {
    out.println("<tr>");
    out.println("<td valign=top><b>Name ID value: </b></td>");
    out.println("<td>" + value + "</td>");
    out.println("</tr>");
}    
String sessionIndex = (String) map.get(SAML2Constants.SESSION_INDEX);
if (sessionIndex != null) {
    out.println("<tr>");
    out.println("<td valign=top><b>SessionIndex: </b></td>");
    out.println("<td>" + sessionIndex + "</td>");
    out.println("</tr>");
}    

Map attrs = (Map) map.get(SAML2Constants.ATTRIBUTE_MAP);
if (attrs != null) {
    out.println("<tr>");
    out.println("<td valign=top><b>Attributes: </b></td>");
    Iterator iter = attrs.keySet().iterator();
    out.println("<td>");
    while (iter.hasNext()) {
        String attrName = (String) iter.next();
        Set attrVals = (HashSet) attrs.get(attrName);
        if ((attrVals != null) && !attrVals.isEmpty()) {
            Iterator it = attrVals.iterator();
            while (it.hasNext()) {
                out.println(attrName + "=" + it.next() + "<br>");
            }
        }
    }
    out.println("</td>");
    out.println("</tr>");
}
out.println("</table>"); 
```

# python - 用一个正则表达式匹配多个重叠的 n-gram

> ID：13025791
> 
> 赞同：2
> 
> 时间：2012-10-23T07:51:09.623
> 
> 标签：python, regex, search, nlp, n-gram

我正在尝试执行正则表达式来匹配文档中的多个 n-gram。我首先得到一个 n-gram 列表，我将它们编译成一个正则表达式，如下所示：

```
sNgrams = '|'.join(('\s+'.join(re.escape(gram) for gram in nGram.split())) for nGram in aNgrams) 
```

（将 n-gram 拆分为任何空白字符上的标记，重新转义这些标记并使用 '\s+'-es 加入它们（这样我就可以通过换行符、双空格、制表符等匹配 ngram），然后加入正则表达式带有“|”的 n-gram）

我的正则表达式如下所示：

```
reNgram = re.compile('(\A|\W+)(' + sNgrams + ')(?=\W+|\Z)',flags=re.UNICODE|re.IGNORECASE) 
```

现在，这在大多数情况下都可以正常工作，但是，当一个 n-gram 与另一个 n-gram 重叠时，只会找到一个匹配项：

```
doc = 'aap noot mies'

aNgrams = ['aap','noot','aap noot']
sNgrams = 'aap|noot|aap\\s+noot'
re.findall(reNgram,doc)
[('', 'aap'), (' ', 'noot')]

aNgrams = ['mies','aap noot']
re.findall(reNgram,doc)
[('', 'aap noot'), (' ', 'mies')] 
```

*   有没有办法解决这个问题？返回文档中匹配的所有（子）字符串？

*   此外，速度/效率非常重要（我正在解雇数以万计的这些正则表达式），我可以做些什么来优化？我读过预编译正则表达式并没有多大作用，因为无论如何都会缓存“即时”编译的正则表达式，我可以采取任何（其他）明显的步骤来加速这些表达式吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T09:02:48.403

我不认为你可以用一个正则表达式来做到这一点。

你可以靠近一点

*   使用前瞻断言至少找到那些不在同一位置开始的重叠匹配
*   按长度降序对 n-gram 进行排序，以确保首先找到较大的匹配项

现在，可以找到实际的重叠匹配（`noot`开始之后）：`app noot`

```
>>> sNgrams = '|'.join(('\s+'.join(re.escape(gram) 
...                    for gram in nGram.split())) 
...                    for nGram in reversed(sorted(aNgrams, key=len)))
>>> sNgrams
'aap\\s+noot|noot|aap'
>>> reNgrams = re.compile(r"(?<!\w)(?=(" + sNgrams + r")(?!\w))",
...                         flags=re.UNICODE|re.IGNORECASE)
>>> reNgrams.findall(doc)
['aap noot', 'noot'] 
```

但它仍然无法同时找到`aap`和`aap noot`。正则表达式只能报告字符串中每个位置的一个匹配项，因此它必须匹配两者之一。

为了解决这个问题，您必须将您的 n-gram 列表拆分为没有任何字符串以相同单词开头的列表，并按顺序应用这些正则表达式。我怀疑这不会非常高效，但我看不到任何其他方式（除了检查每个单词在其自己的正则表达式中，而且这也不会很快）。

# android - 如何限制从我的 Android .apk 生成代码？

> ID：13025792
> 
> 赞同：0
> 
> 时间：2012-10-23T07:51:12.833
> 
> 标签：android

我想限制我的 Android 应用程序代码使用逆向工程过程从我的 android .apk 文件重新生成代码。那么我的应用程序代码将是安全的，但我不知道该怎么做，请帮助我将逆向工程过程限制为我的 android .apk 文件。

谢谢，安卓开发者。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T12:06:19.687

据我所知，您能做的最好的事情就是在部署代码之前对其进行混淆。

即使代码被反编译，混淆、缩小等也会使原始代码不可读。不可读我的意思是人们将无法轻易分辨出哪些变量用于等，因为它们将不再具有有意义的名称。方法等也是如此。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-17T09:07:02.100

“你不能完全限制 Android apk 反编译。因为它使用 dex 格式，任何人都可以使用 dex2jar 等公开可用的工具轻松地将这些 dex 文件转换为 jar 文件。但是你可以混淆代码以降低代码可读性，你也可以使用原生代码来防止容易反编译代码。您可以将部分代码存储在服务器中，并在运行时使用反射概念将它们下载到库中调用函数，这将帮助您防止代码被反编译。

# java - 如何在单击按钮时在其他屏幕内打开 Java fxml 屏幕

> ID：13025795
> 
> 赞同：0
> 
> 时间：2012-10-23T07:51:25.560
> 
> 标签：java, javafx-2, fxml

我在 fxml 中有三个屏幕。第一个屏幕是登录屏幕。身份验证后，单击登录按钮。用户进入第二个屏幕。我已经完成了。现在在屏幕 2 上，有一个名为身份验证的按钮。单击此按钮，第三个屏幕在第二个屏幕内打开。我怎样才能实现它，即如何在单击按钮时在第二个屏幕内打开第三个屏幕。请建议在 javafx 中执行此操作的一些方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T10:40:01.053

我建议你看看这个问题：[Multiple FXML with Controllers, share object](https://stackoverflow.com/questions/12166786/multiple-fxml-with-controllers-share-object) I use this in my current application :)

# objective-c - 如何在 Objective-C 的宏中使用三元运算符？

> ID：13025801
> 
> 赞同：1
> 
> 时间：2012-10-23T07:52:05.493
> 
> 标签：objective-c, ios, xcode, macros, ternary-operator

我有一个通用 iOS 应用程序，可以将某些页面加载到 UIWebView 中供用户查看。现在 iPad 和 iPhone 有一组不同的页面（每种设备类型都有自己的页面目录）。

为了根据设备类型重定向到正确的页面，我在 Xcode 中的代码在查询字符串中提到了设备类型。我正在尝试通过宏来做到这一点：

```
#define BaseURL @"http://someurl/Pages/Login.aspx?"
#define QueryStringParam (UI_USER_INTERFACE_IDIOM()==UIUserInterfaceIdiomPad) ? @"deviceType=iPad" : @"deviceType=iPhone"
#define LoginPageUrl    BaseURL QueryStringParam 
```

这里的第二个宏会抛出编译错误*“调用的对象类型 NSString* 不是函数或函数指针”*

那么我可以使用宏来解决我的问题吗？在宏中使用三元运算符的正确语法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T07:58:43.563

与相邻字符串文字的字符串连接仅在两者都是字符串文字时才有效，即

```
@"foo" @"bar"       is the same as         @"foobar" 
```

因为`@"foo"`and`@"bar"`是字符串文字，但是

```
@"foo" (@"bar")     is compiler error 
```

因为`(`介于两者之间。这和你的情况一样。在这种情况下，您最好在运行时连接两个字符串：

```
#define LoginPageUrl    [BaseURL stringByAppendingString:(QueryStringParam)] 
```

或通过结合 BaseURL 和 QueryStringParam 强制编译器查看两个相邻的字符串文字

```
#define LoginPageUrl \
    ((UI_USER_INTERFACE_IDIOM()==UIUserInterfaceIdiomPad) ? \
        BaseURL @"deviceType=iPad" : \
        BaseURL @"deviceType=iPhone") 
```

# javascript - 如何使用javascript在asp.net中获取两个日期时间之间的差异

> ID：13025802
> 
> 赞同：0
> 
> 时间：2012-10-23T07:52:05.220
> 
> 标签：javascript, asp.net, datetime

我有

```
 var hours = sender.get_selectedDate() - LoginTime.get_selectedDate();
 var Hou = parseFloat((hours % 86400000) / 3600000).toFixed(2); 
```

我得到小时 = 34200000 和侯 = 9.50

但我需要 9 小时和 30 分钟

这个怎么做...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T07:57:59.933

转换`9.5`成`9:30`很容易，不是吗？只需使用简单的数学。

```
h=Math.floor(Hou);
m=(Hou-h)*60;
s=h+":"+m // s= '9:30' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:57:17.780

使用时间跨度类型..您可以使用其属性直接添加或减去。

[点击这里查看时间跨度](http://www.dotnetperls.com/timespan)

# javascript - jQgrids loadComplete在IE7中没有触发

> ID：13025804
> 
> 赞同：0
> 
> 时间：2012-10-23T07:52:21.890
> 
> 标签：javascript, jqgrid, internet-explorer-7

在我的一个 Web 应用程序中使用 jqgrid，我发现它仅在 IE7 中不起作用。在其他浏览器上，它工作正常 IE8+、chrome、FF。

在调试时，我发现 loadComplete() 方法在 IE7 中没有触发，尽管它在其他浏览器中触发。

使用提琴手，我发现我得到了正确的 json 和响应，但为什么 loadComplete 没有触发？如何调查这个问题？

```
 loadComplete : function(){
            alert('lc');

        }, 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:31:11.770

抱歉，`loadComplete`通常在所有 Web 浏览器中都会调用回调。可能是在特定浏览器中处理某些数据时会抛出异常。

如果您想自己调查问题，我建议您在 IE 的开发人员工具中启动代码（按`F12`开始），然后在“脚本”选项卡中开始调试。我想你会得到一些只在 IE7 中产生的异常。

# vba - Application.ScreenUpdating 停止 VBA 中的宏执行

> ID：13025805
> 
> 赞同：2
> 
> 时间：2012-10-23T07:52:22.430
> 
> 标签：vba, excel, excel-2010

我不是经验丰富的 VBA 程序员，我需要社区来发现 Excel 的问题。

我的问题是，在 Excel 中，代码在以下行之后立即停止执行： `Application.ScreenUpdating = True`

我使用来自 msdn 网站的以下示例代码：

```
Dim elapsedTime(2) 
Application.ScreenUpdating = True 
For i = 1 To 2 
    If i = 2 Then Application.ScreenUpdating = False 
    startTime = Time 
    Worksheets("Sheet1").Activate 
    For Each c In ActiveSheet.Columns 
        If c.Column Mod 2 = 0 Then 
            c.Hidden = True 
        End If 
    Next c 
    stopTime = Time 
    elapsedTime(i) = (stopTime - startTime) * 24 * 60 * 60 
Next i 
Application.ScreenUpdating = True 
MsgBox "Elapsed time, screen updating on: " & elapsedTime(1) & _ 
     " sec." & Chr(13) & _ 
     "Elapsed time, screen updating off: " & elapsedTime(2) & _ 
     " sec." 
```

来源：http: [//msdn.microsoft.com/en-us/library/office/ff193498.aspx](http://msdn.microsoft.com/en-us/library/office/ff193498.aspx)

但是，Msgbox 永远不会被执行，VBA 也不会显示任何错误——它只是默默地失败。

Anyidea为什么会发生这种情况以及如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T16:06:14.553

这不是答案；像早期的海报一样，我无法让这个例程失败。

首先，我会说这是一段可怕的代码。我不明白为什么微软发布了这么糟糕的东西。例如：

*   未键入 elapsedTime。（应该是`Dim elapsedTime(2) As Double`）
*   i、startTime 和 stopTime 没有定义。
*   激活在第一个循环的定时块内，因此，如果 Sheet1 在开始时不是活动工作表，则激活它的时间将添加到第一个循环的持续时间。
*   列在两个循环之间没有隐藏，因此第二个循环无关。如果您再次运行该例程，则两个循环的持续时间相同。

Excel 中有一个错误，我很少遇到，而且几年都没有。当我遇到它时，我花了很长时间才发现我落后于计划的原因，并且忘记记录下一次的细节。某些错误 Excel 不会停止并报告故障；相反，它终止当前函数并继续调用例程中的下一条语句。这个子程序已经被直接调用了，所以它会在没有完成的情况下停止。

我唯一的建议是，您计算机上的 Sheet1 上的此代码有一些东西会导致此错误。

您似乎认为该`Application.ScreenUpdating = True`声明失败了。这是可能的，但不太可能。根据您的描述，您所知道的只是例程未达到`MsgBox`语句。

我怀疑`c.Hidden = True`。我看到一个问题询问隐藏列的最大数量，但没有人知道最大数量。一个答案是您无法隐藏合并区域的一部分，但我无法复制该错误。看看您的 Sheet1：是否隐藏了一些偶数列但不是全部？取消隐藏列并重试。例程是否在一致的列上失败？隐藏 1,024 列后它会失败吗？

祝你调查顺利。但是，我建议您放弃这个致命的代码并接受这`Application.ScreenUpdating = False`将减少任何更新活动工作表的例程的运行时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-24T09:31:32.083

在这种情况下，出现了以下问题，乍一看并没有立即发现：

*   Sheet中有自动验证规则
*   自动验证规则是基于用户空间函数的，即匹配的代码规则是公式：`=NOT(IsValidCell(INDIRECT("RC";FALSE)))`
*   这个功能有问题。

baqd 代码示例：

```
Function IsValidCell(ByVal CellValue As String) As Boolean
IsValidCell = False
If CellValue Like "#####" Then
    IsValidColumn = True ' Notice bug
Else ' Notice second bug
End Function 
```

结果是，当 excel 尝试重新计算规则时，完全未分离的例程中的代码会失败。

# android - Prestigio Multipad PMP3370B USB 驱动程序

> ID：13025806
> 
> 赞同：8
> 
> 时间：2012-10-23T07:52:24.597
> 
> 标签：android, usb, driver

我正在尝试在 Prestigio Multipad 上设置 USB 调试。我点击了这个链接[http://blog.itfiser.cz/android-adb-with-prestigio-multipad-pmp5080cpro-and-win7/](http://blog.itfiser.cz/android-adb-with-prestigio-multipad-pmp5080cpro-and-win7/)但我找不到设置**存储-> USB**计算机连接（Android 版本 4.0.3） .

当我尝试将驱动程序（在**Device Manager->Disk Drives->PMP3370B Device**下）更新为 Google 驱动程序（位于**../android-sdks/extras/google/usb_driver**）时，它说驱动程序是最新的。

我还将供应商 ID 添加到`%user_dir%/.android/adb_usb.ini`, restart `adb`，但仍然没有成功。有类似问题的人怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-07-06T14:48:57.237

我知道这个答案来的有点晚，但这对我有用（我有 PMP7100D，Prestigio Multipad）。

按照您提供的链接（博客）中的所有步骤操作。

您应该额外做的是安装 Adb 驱动程序安装程序 ( [http://adbdriver.com/downloads/](http://adbdriver.com/downloads/) ) 并正确安装 Prestigio 的驱动程序（在此处找到分步说明：http: [//adbdriver.com/documentations/如何使用-android-adb-driver-installer-for-windows-xp-vista-7-8.html](http://adbdriver.com/documentations/how-to-use-android-adb-driver-installer-for-windows-xp-vista-7-8.html)）。在此之后，当您打开 USBDeview 时，您的平板电脑应更改名称（具有相同的 VendorID），如下面的屏幕截图所示：

![在此处输入图像描述](../Images/d1a14023180c93ed447eafe287008c5e.png)

此外，请确保您的 adb_usb.ini 文件如下所示： ![在此处输入图像描述](../Images/e230d73e1f86a9f3b934986ee2eab00f.png)

最后执行以下步骤：

在 %android_sdk%\platform-tools\ 打开命令行

adb 杀死服务器

adb 启动服务器

亚行设备

最终结果应该是这样的：![在此处输入图像描述](../Images/3b8187dfa0fed83721086bb5aeb622e3.png)

# mysql - MySQL：在子查询中选择一行类似于MAX，只有自定义顺序优先级

> ID：13025814
> 
> 赞同：2
> 
> 时间：2012-10-23T07:52:58.473
> 
> 标签：mysql, sql

假设我有两个表**a**和**b**；列**id在表****a**中是唯一的，但在表**b**中有多个条目，列**x**以及该表中的其他列具有不同的值。表**b**的主键是**(id,x)**。

我需要能够将**b**中的单行加入到 SELECT 查询中，就像我可以使用 MAX 一样：

```
SELECT * FROM a
INNER JOIN b USING(id)
WHERE b.x = (SELECT MAX(x) FROM b WHERE b.id = a.id) 
```

使用 MAX，这没有问题。但我不需要MAX。我实际上需要这样的东西：

```
SELECT * FROM a
INNER JOIN b USING(id)
WHERE b.x = (SELECT x FROM b 
             WHERE x IN (2,3,7) OR x IS NULL
             ORDER BY FIELD(x,3,2,7) DESC
             LIMIT 1) 
```

此查询失败，因为我的 MySQL 版本不支持此子查询中的 LIMIT。是否有另一种方法可以确保按照我提供的顺序至少并准确地加入一行？

我正在尝试做的示意图概述将是：

```
Select * from table a for each id
Join table b where x = 7
If no entry in b exists where a.id=b.id and x = 7, join b where x = 2
If no entry in b exists where a.id=b.id and x IN (2,7), join b where x = 3
If no entry in b exists where a.id=b.id and x IN (2,3,7), join b where x IS NULL 
```

我有这个需求是因为：

*   在我需要的这段特定代码中，我不能使用多个查询；它必须是一个神奇的多合一查询
*   我不能使用 INNER JOIN (SELECT *** ) 语句
*   我不能有任何 id 出现多次的查询（因此 DISTINCT 不是选项，因为表 b 中的值可能不同）
*   我确定表 b 有一个 a.id 条目，其中 x 是 2、3、7 或 NULL，但我不知道是哪个，我也不知道 a.id 中有多少条目表 b。
*   升级 MySQL 不是最佳选择，因为此代码必须在我的任何客户的通用服务器上运行

所以，简而言之，我的问题是：是否有类似于 MAX 的函数可以考虑特定顺序而不是 MAX 值？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:22:12.573

您可以通过手动指定每个 X 的排序权重来做到这一点。

```
mysql> select * from aa;
+----+------+
| id | name |
+----+------+
|  1 | John |
|  2 | Ted  |
|  3 | Jill |
|  4 | Jack |
+----+------+
4 rows in set (0.00 sec)

mysql> select * from bb;
+------+------+------------+
| id   | x    | class      |
+------+------+------------+
|    1 |    7 | HighPriori |
|    1 |    2 | MediumPrio |
|    1 |    3 | LowPriorit |
|    2 |    2 | Medium     |
|    2 |    3 | Low        |
|    3 |    3 | Low only   |
+------+------+------------+
5 rows in set (0.00 sec)

select version();
+-------------+
| version()   |
+-------------+
| 5.5.25a-log |
+-------------+

SELECT aa.name, bb.x, bb.class
    FROM aa LEFT JOIN bb ON (aa.id = bb.id AND bb.x IN (2,3,7)
        AND bb.x = ( SELECT x FROM bb WHERE bb.id = aa.id AND x IN (2,3,7)
           ORDER BY CASE
               WHEN x = 7 THEN 100
               WHEN x = 2 THEN 200
               WHEN x = 3 THEN 300
               ELSE 400
           END LIMIT 1 )
    ); 
```

最内层`SELECT`将根据优先级选择最合适的 X 值：如果可用则为 7，否则为 2，否则为 3。如果“优先级”不按顺序排列，即 7 高于 3，这也适用于本例, 但 2 也高于 3。

然后`LEFT JOIN`将匹配该一条记录，如果它存在，或者`NULL`，如果它不存在。

John 有 2,3 和 7 并获得 7 记录，而 Ted 有 2 和 3 并获得 2：

```
+------+------+------------+
| name | x    | class      |
+------+------+------------+
| John |    7 | HighPriori |
| Ted  |    2 | Medium     |
| Jill |    3 | Low only   |
| Jack | NULL | NULL       |
+------+------+------------+ 
```

（严格来说，`IN (2,3,7)`in the inner`SELECT`和 the `ELSE`in the`CASE`都是多余的；两者都可以）。

## 急需`CASE`...

如果 X 字段已经建立了一个顺序，例如，您希望值 3,2,7 在 2 - 3 - 7 或 7 - 3 - 2 数字顺序中，则可以不使用`CASE`: 而不是

```
 ORDER BY CASE
           WHEN x = 7 THEN 100
           WHEN x = 2 THEN 200
           WHEN x = 3 THEN 300
           ELSE 400
       END 
```

你可以指定

```
 ORDER BY x 
```

或者

```
 ORDER BY x DESC 
```

...即使 x 被索引，性能提升也很小，但是如果您有很多 X 值，那么在其中指定它们`CASE`可能会很尴尬，并且研究异常可能很长。

但是让我们假设您希望对象按此顺序排列

```
 First                          Last
       20,21,22,23,40,41,42,9,1,2,3,4,5 
```

这通常在 X 被声明为无符号值 1-5 时出现（“我们*永远*不需要更多的类，并且 1*永远*是第一个！”），然后几周后有人添加了“这是一个令人兴奋的新产品，*必须*去第一的！” 异常并为其分配 9，最后它再次发生“让我们为即将推出的产品系列添加一个全新的 XY 类，从 2X 和 4X 开始......”，你可以这样做

```
 WHEN x <= 5 THEN 900+x
       WHEN x = 9   THEN 809
       ELSE 700 + x 
```

它将上述混乱的集合翻译成有序的序列

```
720,721,722,723,740,741,742,809,901,902,903,904,905 
```

使用 3 个`WHEN`s 即可完成所有工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:05:42.980

```
SELECT * FROM a
INNER JOIN b USING(id)
WHERE b.x = (SELECT x FROM b 
             WHERE x IN (2,3,7) OR x IS NULL
             ORDER BY FIELD(x,3,2,7) DESC
             LIMIT 1) 
```

将子查询切换为连接

```
SELECT * FROM a
join ( SELECT x FROM b 
             WHERE x,id IN (2,3,7) OR x IS NULL
             ORDER BY FIELD(x,3,2,7) DESC
             LIMIT 1) as X on X.id = a.id 
```

# sql - 如何在postgres中将多个值收集为单个字符串？

> ID：13025818
> 
> 赞同：6
> 
> 时间：2012-10-23T07:53:11.953
> 
> 标签：sql, postgresql, postgresql-9.1

我有桌子：

```
Project table

id name
-------
1  A
2  B

Assignment table

id name project_id
-------------------
1  A1   1
2  A2   1
3  A3   2 
```

我希望编写一个查询，返回每个项目以及从中创建的分配的名称，例如：

```
project_id  assignments
-----------------------
1            A1,A2
2            A3 
```

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-23T07:56:04.497

您可以加入表格并使用`array_agg`以组合逗号分隔的值

```
SELECT a.id, array_agg(b.name) assignments
FROM    Project a
        INNER JOIN assignment b
          ON a.id = b.project_ID
GROUP BY a.id 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!1/df056/3)

或通过使用`STRING_AGG`

```
SELECT a.id, STRING_AGG(b.name, ', ' ORDER BY b.name) assignments
FROM    Project a
        INNER JOIN assignment b
          ON a.id = b.project_ID
GROUP BY a.id 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!1/df056/5)

# unit-testing - Grails 单元测试“CreateAlias”不起作用

> ID：13025820
> 
> 赞同：8
> 
> 时间：2012-10-23T07:53:15.620
> 
> 标签：unit-testing, grails, grails-orm

我正在尝试对命名查询方法进行单元测试，但它不起作用，因为我正在使用 Grails 似乎找不到的方法 grails.orm.HibernateCriteriaBuilder.createAlias：“没有方法签名：grails。 gorm.CriteriaBuilder.createAlias()"

我想问题是在进行单元测试和模拟类时，它试图在“ **grails.gorm.CriteriaBuilder** ”类而不是**grails.orm.HibernateCriteriaBuilder**类周围找到方法，为什么？有什么想法可以解决吗？

```
class Book{
  static namedQueries = {     
      testMethod()
      {
         createAlias('name', 'james')
      }
   }
}

@Mock([Book])
class BookTests{
  @Test
  void myTest() {
      Book.testMethod();
   }
} 
```

**错误：没有方法签名：grails.gorm.CriteriaBuilder.createAlias()**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T16:15:41.450

我们也想不通。我们怀疑它只是在 GORM UnitTest 实现中丢失了。但是如果你只想查询一个关联，在 Grails 中你不需要别名。观察：

```
Book.createCriteria {
    eq("title", "One Hundred Years of Solitude")
    author {
        eq("name", "Gabriel García Márquez")
    }
} 
```

# postgresql - 获取所有表的 PostgreSQL 统计信息？

> ID：13025827
> 
> 赞同：0
> 
> 时间：2012-10-23T07:53:30.807
> 
> 标签：postgresql, statistics

我已经看到 PostgreSQL 有几个[统计信息](http://www.postgresql.org/docs/9.1/static/monitoring-stats.html)，具体取决于每个表的 OID（如插入次数等）[1](http://www.postgresql.org/docs/9.1/static/monitoring-stats.html)。我正在寻找的是某种`SELECT`查询或可以总结每个表的所有内容的东西。它会是这样的：

`SELECT SUM(pg_stat_get_db_tuples_returned(SELECT oid FROM pg_class));` 或类似的东西。我会在这里得到任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:07:41.290

你是这个意思吗：

```
SELECT SUM(pg_stat_get_db_tuples_returned(oid))
from pg_class; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T08:07:44.443

像这样，通过您选择的 stats 函数，聚合除了临时和系统目录表之外的所有表上的 stats 函数：

```
SELECT
  sum(pg_stat_get_db_tuples_returned(c.oid))
FROM pg_catalog.pg_class c
  INNER JOIN pg_namespace n ON (c.relnamespace = n.oid)
WHERE NOT (n.nspname LIKE ANY(ARRAY['pg_temp%','pg_catalog','information_schema'])); 
```

请注意，*其中*`pg_toast`包含模式，因为我假设您希望您的统计信息包含任何 TOAST 边表。如果不这样做，请添加到排除项。*`pg_toast%`*

 *编辑：我正在使用构造：

```
(quote_ident(n.nspname)||'.'||quote_ident(c.relname))::regclass 
```

得到表 oid，但是当它就在那里时，这很愚蠢`pg_class`；如 a_horse_with_no_name 所示，这是可笑的迂回。*

# windows - 在 Windows 上安装 MonoDevelop：Gtk# 要求的解决方法？

> ID：13025828
> 
> 赞同：3
> 
> 时间：2012-10-23T07:53:34.417
> 
> 标签：windows, mono, installation, monodevelop, gtk#

我已经在我的 Windows 7 系统上安装了*Mono*（版本 2.11.4），现在我打算安装*MonoDevelop*（版本 3.0.4.7）。但是，当我启动*MonoDevelop*安装程序时，我收到以下错误消息，并且安装终止：

![MonoDevelop 安装错误](../Images/b4ef578b99a2519039e95af9038d248a.png)

好的，这可以通过从[此处获取](http://download.mono-project.com/gtk-sharp/gtk-sharp-2.12.10.win32.msi)*Gtk#*安装程序来轻松解决。但是，*Mono*安装已经包含*Gtk# 2.12.11 ，因此单独安装**Gtk#*似乎是一个不必要的步骤。

 ***当已经安装了包含*Gtk#的**Mono时，是否有***任何**方法可以指示*MonoDevelop安装程序（另外）在**Mono*安装目录中查找所需的*Gtk#*文件？

 *******更新**我试图为 Gtk# 安装“虚拟”注册表设置*，将**Mono*根目录指定为*Gtk#*安装文件夹。这使我无需单独安装*Gtk#即可安装**MonoDevelop*，但之后我无法**运行***MonoDevelop* ...

 ***** * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-23T17:14:08.073

您需要为 .NET 安装 GTK#，因为 Mono 中包含的 GTK# 在 Mono 的 GAC 中，而不是在 .NET 的 GAC 中，并且 MonoDevelop 安装程序专门设计用于安装 MonoDevelop，以便它在 .NET 运行时上运行。虽然*应该*可以在 Windows 上的 Mono 上运行 MD，但在 .NET 上运行是经过测试和官方支持的全部内容。

您仍然可以在 .NET 上运行时以 Mono 为*目标*- MonoDevelop 将检测已安装的 Mono 运行时。它们将显示在“目标运行时”菜单中。************

# python - python 2.7中的pyparsing setParseAction方法抛出异常

> ID：13025830
> 
> 赞同：2
> 
> 时间：2012-10-23T07:53:41.380
> 
> 标签：python, parsing, python-2.7, pyparsing

这是 python 2.7 的一个普遍问题`pyparsing`（在 3 中它工作得很好）。一般结构是这样的：

```
class SomeParser(object):

    def some_action(self, string, loc, tok):
         print("action")

    def gramma(self):
          ...pyparsing gramma for some 

             language....
         some_rule = (token + token2).setParseAction(self.some_action)
         return some_rule

     def parse(self, string):
         self.gramma().parseString(string)
         return True 
```

在 python3`pyparsing`中工作得很好，但在 2.7 中我得到了

```
Parsing error : some_action() takes exactly 4 arguments (1 given) 
```

我的问题是如何使它在两个版本中都起作用？

编辑：经过一些测试，我发现这是一般问题，不仅仅是类方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T13:49:53.960

我想我发现了一个问题（在朋友的帮助下），它在`pyparsing`1.5.6 中，它的`_trim_arity`函数试图猜测 func in`setParseAction(func)`接受的参数数量。我将其更改为：

```
if not _PY3K:                                                                                                                                                               
    def _trim_arity(func, maxargs=2):                                                                                                                                                 
        limit = [0]                                                                                                                                                                   
        def wrapper(*args):                                                                                                                                                           
            while 1:                                                                                                                                                                  
                try:                                                                                                                                                                  
                    return func(*args[limit[0]:])                                                                                                                                     
                except TypeError:                                                                                                                                                     
                    if limit[0] <= maxargs:                                                                                                                                           
                        limit[0] += 1                                                                                                                                                 
                        continue                                                                                                                                                      
                    raise                                                                                                                                                             
        return wrapper                                                                                                                                                                
    else:                                                                                                                                                                                 
        def _trim_arity(func, maxargs=2):                                                                                                                                                 
            limit = maxargs                                                                                                                                                             
            def wrapper(*args):                                                                                                                                                                                                                                                                                                             
                #~ nonlocal limit                                                                                                                                                         
                while 1:                                                                                                                                                                  
                    try:                                                                                                                                                                  
                        return func(*args[limit:])                                                                                                                                        
                    except TypeError:                                                                                                                                                     
                        if limit:                                                                                                                                                         
                            limit -= 1                                                                                                                                                    
                            continue                                                                                                                                                      
                        raise                                                                                                                                                             
            return wrapper 
```

到：

```
if not _PY3K and False:                                                                                                                                                               
    def _trim_arity(func, maxargs=2):                                                                                                                                                 
        limit = [0]                                                                                                                                                                   
        def wrapper(*args):                                                                                                                                                           
            while 1:                                                                                                                                                                  
                try:                                                                                                                                                                  
                    return func(*args[limit[0]:])                                                                                                                                     
                except TypeError:                                                                                                                                                     
                    if limit[0] <= maxargs:                                                                                                                                           
                        limit[0] += 1                                                                                                                                                 
                        continue                                                                                                                                                      
                    raise                                                                                                                                                             
        return wrapper                                                                                                                                                                
    else:                                                                                                                                                                                 
        def _trim_arity(func, maxargs=2):                                                                                                                                                 
            # limit = maxargs                                                                                                                                                             
            def wrapper(*args):                                                                                                                                                           
                limit = maxargs                                                                                                                                                           
                #~ nonlocal limit                                                                                                                                                         
                while 1:                                                                                                                                                                  
                    try:                                                                                                                                                                  
                        return func(*args[limit:])                                                                                                                                        
                    except TypeError:                                                                                                                                                     
                        if limit:                                                                                                                                                         
                            limit -= 1                                                                                                                                                    
                            continue                                                                                                                                                      
                        raise                                                                                                                                                             
            return wrapper 
```

不是很优雅，但我可以看到`trunk`在 pyparsing 版本中它已经修复了。

# php - 当php会话没有在codeigniter的另一个控制器中继续时该怎么办？

> ID：13025836
> 
> 赞同：2
> 
> 时间：2012-10-23T07:54:03.703
> 
> 标签：php, codeigniter, session

我正在使用 codeigniter 开发一个 Web 应用程序，但由于与它相关的错误，我更喜欢回避使用 codeigniter 方式处理会话。因此，我使用的是本机 php 会话处理。我遇到的问题是，从默认控制器启动的会话似乎不会在其他控制器中继续，这让我很头疼。在我的默认控制器和其他控制器中，在任何其他类似这样的代码之前，我已经开始或继续会话方式：

```
<?php
@session_start(); 
```

那么我该怎么做才能使会话在其他控制器中继续，而不是被限制在默认控制器中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:55:50.283

在核心文件夹中创建一个 MY_Controller.php，并在其构造中使用会话开始调用 - 将其设置为扩展 CI_Controller 并使您的其他控制器改为扩展您新创建的 MY_Controller。

就像是：

```
<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class MY_Controller extends CI_Controller {

    public function __construct() {
            parent::__construct();

            @session_start();
    }

}
/* End of file MY_Controller.php */
/* Location: ./application/core/MY_Controller.php */ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:58:39.463

由于所有内容都是`controllers`通过主`index.php`文件加载的，您可以在其中启动会话

# crystal-reports - Crystal Reports 中的子报表

> ID：13025837
> 
> 赞同：1
> 
> 时间：2012-10-23T07:54:16.670
> 
> 标签：crystal-reports, subreport

是否可以在 Crystal 报表中创建一个报表，显示仅从 1 个主表中获取信息的 3 个列表？

这是我从数据库中提取的主表，并使用完全外连接到 AccountNum1 和 AccountNum2，导致某些行中的空白值：

```
AccountNum1 ActDate     SuspDate    AccountNum2 EntryDate   Charge
12345       01/01/2001  12/12/2012  12345       01/01/2012  1.00
67890       02/02/2002  11/11/2011  67890       02/02/2012  1.00
<Blank>     <Blank>     <Blank>     23456       03/03/2012  1.00
34567       04/04/2004  12/12/2012  <Blank>     <Blank>     <Blank> 
```

对于第一份报告，我想显示包含完整条目的所有记录：

```
AccountNum  ActDate     SuspDate    EntryDate   Charge
12345       01/01/2001  12/12/2012  01/01/2012  1.00
67890       02/02/2002  11/11/2011  02/02/2012  1.00 
```

对于第二份报告，我想显示所有包含 AccountNum2、EntryDate、Charge 条目的记录

```
AccountNum  EntryDate   Charge
67890       02/02/2012  1.00 
```

对于第 3 份报告，我只想显示所有包含 AccountNum1、ActDate、SuspDate 条目的记录

```
AccountNum  ActDate     SuspDate
34567       04/04/2004  12/12/2012 
```

我需要能够在单个报告中显示信息，还需要汇总报告 1、报告 2 和报告 3 中的条目数。

感谢你的帮助。：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-24T11:39:49.123

这在**Crystal**中可以通过一种解决方法实现：

添加一个公式来定义您希望该行所在的部分，例如`SectionNo`： *公式可能需要根据您的逻辑进行更改*

```
If (Not Isnull(AccountNum) and Not Isnull(ActDate) and Not Isnull(SuspDate) and Not isnull(EntryDate) and Not Isnull(Charge) then
    1
else if (Not Isnull(ActDate)) then
    2
else
    3 
```

现在您可以通过新公式添加一个组，这会将行分成三个部分。

接下来添加两个新的详细信息部分并设置 detaila、detailb 和 detailc 以在第 1、2 和 3 部分中显示您想要的字段。

最后在三个细节部分抑制公式中添加3个公式：

```
DetailA enter "SectionNo <> 1"
DetailB enter "SectionNo <> 2"
DetailC enter "SectionNo <> 3" 
```

如果您需要手动设置，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T12:37:02.450

不，这在水晶报表中是不可能的，您必须为第二个和第三个列表创建两个子报表。

# angularjs - 获取 FormController 的变量名属性

> ID：13025845
> 
> 赞同：0
> 
> 时间：2012-10-23T07:54:53.513
> 
> 标签：angularjs

当我在表单中使用变量名称并且未指定名称属性时，表单控制器不会以该名称在当前范围内发布。我怎样才能得到 FormController？

```
<form name="{{'myForm'}}" ng-controller="Ctrl">
  <input name="input" required>
  <tt>myForm.$valid = {{myForm.$valid}}</tt>
</form> 
```

# unity3d - Unity3D：在运行时减少骨骼数量

> ID：13025853
> 
> 赞同：1
> 
> 时间：2012-10-23T07:55:38.103
> 
> 标签：unity3d

我正在创建类似模拟人生的东西，你有一个角色，你可以为角色添加不同的衣服。

我使用的所有模型都使用相同的骨骼和装备。我已将这些模型放在不同的资产包中。在运行时，我读取资产包并将这些模型组合到一个 SkinnedMeshRenderer 中，从而组合到一个对象中。但是每次我添加另一个对象时，骨骼数量都会增加。

我知道为什么会这样，但我想再次减少骨头的数量。我试图找到重复的骨骼并删除它们以及与删除的骨骼在同一索引上的绑定姿势，但这仍然给我错误“绑定姿势的数量与骨骼的数量不匹配”，即使它们都是 45。

这是附加模型的代码：

```
private void UpdateSkinnedMesh()
{
    float startTime = Time.realtimeSinceStartup;

    // Create a list of for all data
    List combineInstances = new List();
    List materials = new List();
    List bones = new List();
    Transform[] transforms = baseModel.GetComponentsInChildren();

    //TEMP
    List elements = new List();
    elements.Add(body);
    if(_currentActiveProps.ContainsKey(ItemSubCategory.Skin))
        elements.Add(tutu);

    //Go over all active elements
    foreach (CharacterElement element in elements)
    {
        //Get the skinned mesh renderer
        SkinnedMeshRenderer smr = element.GetSkinnedMeshRenderer();

        //Add materials to the entire list
        materials.AddRange(smr.materials);

        //Add all submeshes to a combined mesh
        for (int sub = 0; sub < smr.sharedMesh.subMeshCount; sub++)
        {
            CombineInstance ci = new CombineInstance();
            ci.mesh = smr.sharedMesh;
            ci.subMeshIndex = sub;
            combineInstances.Add(ci);
        }

        //Bones are not saved in asset bundle, get the names and reference them again
        foreach (string bone in element.GetBoneNames())
        {
            foreach (Transform transform in transforms)
            {
                if (transform.name != bone) continue;
                bones.Add(transform);
                break;
            }
        }

        //Destroy the temp object
        Destroy(smr.gameObject);
    }

    //Get skinned mesh renderer
    SkinnedMeshRenderer r = baseModel.GetComponentInChildren();

    //Create enew combined mesh
    r.sharedMesh = new Mesh();
    r.sharedMesh.CombineMeshes(combineInstances.ToArray(), false, false);

    //Add bones and materials
    r.bones = bones.ToArray();
    r.materials = materials.ToArray();

    Debug.Log("Bindposes: " + r.sharedMesh.bindposes.Length);

    Debug.Log("Generating character took: " + (Time.realtimeSinceStartup - startTime) * 1000 + " ms");
    Debug.Log("Bone count: " + r.bones.Length);
} 
```

我已经在 Unity Answers 上提出了这个问题，但是因为版主批准这个问题需要几个小时，所以我也想在这里尝试一下。

# java - 使用 JCC 从 Python 覆盖 Java 类。那可能吗？

> ID：13025856
> 
> 赞同：0
> 
> 时间：2012-10-23T07:56:01.573
> 
> 标签：java, python, pylucene, jcc

我正在使用 JCC 为 Java 库创建 Python 包装器，并且我需要覆盖 Python 脚本中 Java 类的方法。可能吗？如果可能的话，你怎么能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:20:47.417

您可以在 Python 中创建一个调用 Java 类的代理类。然后在代理类上，您可以覆盖您需要的任何内容。

# java - 果冻豆中的通知未显示

> ID：13025859
> 
> 赞同：0
> 
> 时间：2012-10-23T07:56:20.123
> 
> 标签：java, android, notifications, android-4.2-jelly-bean

我正在尝试创建一个 JB 通知，但我无法让它显示，并且它不会在 logcat 中给出任何错误，只是它什么都不做。

我用来创建通知的代码如下

```
private void bigPictureNotification(){

    Notification.Builder builder;
    Notification notification;
    NotificationManager manager;

    Intent intent = new Intent(this, NotificationPendingIntent.class);
    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, 0);

    //carica l'immagine
    Bitmap icon = BitmapFactory.decodeResource(getApplicationContext().getResources(), R.drawable.androidworld);

    builder = new Notification.Builder(getApplicationContext());
    builder.setContentTitle("Titolo piccolo");
    builder.setContentText("Testo della notifica");
    builder.setSmallIcon(R.drawable.ic_stat_notifica);
    builder.setLargeIcon(icon);
    builder.addAction(R.drawable.ic_action_search, "Cerca", pendingIntent);
    builder.addAction(R.drawable.ic_stat_notifica, "AndroidWorld", pendingIntent);
    builder.addAction(R.drawable.ic_launcher, "Launcher", pendingIntent);
    builder.build();

    notification = new Notification.BigPictureStyle(builder).bigPicture(icon).build();
    //notification = builder.build();
    notification.flags = Notification.FLAG_AUTO_CANCEL;

    manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
    manager.notify(0, notification);

} 
```

错误在哪里？谢谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T19:05:05.123

我会删除对

```
builder.build() 
```

就在之前

```
notification = ... 
```

因为 builder.build() 给你一个通知对象。试一试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T04:28:21.277

在我把它放进去之后，试着在为我工作`builder.setContentIntent(pendingIntent);`之前添加`builder.build();`。

# linux - 如何在 GNU/Linux 上的目录树中搜索文件

> ID：13025860
> 
> 赞同：2
> 
> 时间：2012-10-23T07:56:32.437
> 
> 标签：linux, bash, filesystems, gnu

我有几个存储库，每个存储库都有 config.php 文件，其中包含有关数据库的信息，如密码。我有使用该文件中的内容连接到数据库的脚本，并且需要在目录树中进行搜索，以便我可以在每个嵌套目录中调用它。

```
[ -e config.php ] && $(php -r 'require("config.php"); echo "mysql -u".$config["db_user"] . " -p".$config["db_pass"] . " " . $config["db_name"];') 
```

使用 Bash 在目录树中搜索的最简单方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-24T07:37:01.393

这会从末尾切断一个目录，`PWD`直到它变空。在存在链接的情况下可能需要注意一些。

```
S="${PWD}"
while [ -n "${S}" ]
do
    [ -e "config.php" ] && ls $S/
    S=${S%/*}
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:03:49.630

'find topdir/ -type f -iname "config.php"' 其中 'topdir' 是配置脚本所在的最上层目录。根据您的要求，您可能希望一次性处理“config.php”文件

'find topdir/ -type f -iname "config.php" -print0 | xargs -0 你的脚本'

或一一 'find topdir/ -type f -iname "config.php" -exec yourscript {} \;'

# sass - Sass，Compass，将所有 CSS 文件编译为一个

> ID：13025865
> 
> 赞同：11
> 
> 时间：2012-10-23T07:56:48.690
> 
> 标签：sass, compass-sass

现在，当我开发我的项目时，我有三个文件，“main.css”、“about.css”和“news.css”（例如）。是否可以将它们编译成一个“final.css”用于生产？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-10-23T12:36:23.030

SASS[导入指令](http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#import)用于将一个文件的内容导入另一个文件，因此您可以创建一个文件`final.scss`，其内容为：

```
@import 'main';
@import 'about';
@import 'news'; 
```

然后，您需要将文件重命名为具有“scss”扩展名，以便导入指令可以找到它们。如果您不希望`main.scss`、`about.scss`和`news.scss`文件本身编译为 CSS 文件，您可以通过在文件名前加上下划线（即 、、）来使用[部分](http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#partials)文件。`_main.scss``_about.scss``_news.scss`

# android - 如何在单击按钮时展开和折叠列表视图？

> ID：13025876
> 
> 赞同：1
> 
> 时间：2012-10-23T07:57:41.983
> 
> 标签：android, android-layout, android-listview, expandablelistview

我的片段中有一个列表视图，它占据了我屏幕大小的大约 25%。我也有一个精简按钮。所以，我希望当单击剥离时，该时间列表视图应该扩展并覆盖大约 50% 的屏幕大小，然后当我再次单击剥离时，它应该返回到以前的状态。您能否建议一些我可以实现这一目标的技术。

我的列表视图是这样的：假设我有 25 个元素，然后最初只有 10 个是可见的，要查看其他元素，我将在列表视图中向下滚动。之后，当我单击 stripDown 按钮时，可见项目的数量将增加到 15，并且要查看其他元素，我将向下滚动。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:22:34.880

在蜜梳之前尝试`ListView`Api 演示部分。有几个例子描述了`ListView`s 的用法。它还包括一个`ExpandableListView`和一个`ListView`具有可扩展效果的正则。

您可以从您机器上的 Android SDK 安装中找到演示。

```
android-sdk/samples/android-x/ApiDemos 
```

# vb.net - 使用 VB.NET 2010 获取 MAC 地址

> ID：13025878
> 
> 赞同：2
> 
> 时间：2012-10-23T07:57:51.490
> 
> 标签：vb.net, vb.net-2010

我曾尝试使用[VB.NET](http://en.wikipedia.org/wiki/Visual_Basic_.NET)中的以下函数获取机器上每个网络接口卡的[MAC 地址](http://en.wikipedia.org/wiki/MAC_address)，但我刚刚意识到此函数在 Windows XP 中不起作用：

```
 Function getMacAddress()
        Dim nics() As NetworkInterface = NetworkInterface.GetAllNetworkInterfaces()
        Return nics(1).GetPhysicalAddress.ToString
    End Function 
```

如何使此代码在 Windows XP 上运行？在 Windows XP 上获取 MAC 地址列表还有哪些其他替代方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-10T16:56:08.777

在连接到不同的 VPN 时，我做了一些挖掘工作。到目前为止，以下似乎相当可靠。在许多情况下，依赖 0 或 1 来表示上面建议的实际物理适配器是行不通的。在某些情况下，我实际的以太网适配器是第三个适配器。排除环回、隧道和 ppp 适配器应该可以缩小范围。我发现我的许多非物理适配器都有字符串“00000000000000E0”作为mac地址。

```
Private Function getMacAddress() As String
    Try
        Dim adapters As NetworkInterface() = NetworkInterface.GetAllNetworkInterfaces()
        Dim adapter As NetworkInterface
        Dim myMac As String = String.Empty

        For Each adapter In adapters
            Select Case adapter.NetworkInterfaceType
                'Exclude Tunnels, Loopbacks and PPP
                Case NetworkInterfaceType.Tunnel, NetworkInterfaceType.Loopback, NetworkInterfaceType.Ppp
                Case Else
                    If Not adapter.GetPhysicalAddress.ToString = String.Empty And Not adapter.GetPhysicalAddress.ToString = "00000000000000E0" Then
                        myMac = adapter.GetPhysicalAddress.ToString
                        Exit For ' Got a mac so exit for
                    End If

            End Select
        Next adapter

        Return myMac
    Catch ex As Exception
        Return String.Empty
    End Try
End Function 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T09:55:42.820

在 XP 上为我工作，除了我有几个接口，我的第一个（第 0 个）是我的“真实”MAC 地址，它对应于非 .NET 程序报告的 MAC 地址。

# javascript - JS：将变量附加到 URL 而不重复

> ID：13025880
> 
> 赞同：0
> 
> 时间：2012-10-23T07:57:53.433
> 
> 标签：javascript, jquery, append

> **可能重复：**
> [使用 jQuery 更改 URL 参数？](https://stackoverflow.com/questions/1090948/change-url-parameters-with-jquery)

目前，我有一个`<div>`看起来像按钮的标签，并使用 onClick 函数更改 URL，该函数重定向到仅添加 `&view_all=Yes`或添加`&view_all=No`到 URL 的同一页面。

`<div onclick="javascript:window.location.href = 'page.php?action=list-volunteer-apps&view-all=No';">Hide Closed Applications</div>`

好吧，我正在向网站添加一个新功能，并且我需要能够将其附加`&view_all=Yes`到`&view_all=No`URL 的末尾而不是重定向它们，因为我将在 URL 中有其他我不能丢失的变量。

我想出了一种方法来进行追加，但它不断将`&view_all`变量添加到 URL 的末尾，所以它看起来像这样`page.php?action=list-volunteer-apps&view-all=No&view_all=Yes&view_all=No`。

这是我做追加的方式： `onclick="javascript:window.location.assign(window.location.href+='&view-all=No');"`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:16:53.583

您可以使用正则表达式替换字符串中的值：

```
$(this).attr("onclick", function(i, val) {
    return val.replace(/view-all=(Yes|No)/, function() {
        return "view-all=" + ((arguments[1] || "") == "Yes" ? "No" : "Yes");
    });
}); 
```

# perl - Perl：排序 <=> 不起作用

> ID：13025881
> 
> 赞同：0
> 
> 时间：2012-10-23T07:57:58.160
> 
> 标签：perl, sorting, numeric

我不确定为什么这种 Perl 排序不起作用。请建议如何解决这个问题。

```
while (<>) {

    chomp;
    if (/VIOLATE/) {

        @lines = split " ", $_;
        #print "$lines[-2]\n";  ## Print last but one column
        my @viol = "$lines[-2]\n";

        @sorted = sort {$a <=> $b} @viol;
        print "@sorted";
    }
}; 
```

命令 ：`perl test.pl test.log`

测试日志：

```
0.98           2.04          -1.106  VIOLATE
0.98           2.04          3.06
0.98           2.04          -11.06  VIOLATE
0.98           2.04          -1.06  VIOLATE
0.98           2.04          1.06 
0.98           2.04          -0.226  VIOLATE
0.98           2.04          -2.06  VIOLATE 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T08:04:01.203

您是否尝试匹配其中的任何行`VIOLATE`，将结果放入数组中，然后对所有违规行为进行排序？如果是这样，您需要`@viol`在循环外声明和排序：

```
use strict;
use warnings; # Don't forget these!

my @viol;

while (<>) {
    chomp;
    if (/VIOLATE/) {
        my @lines = split(/\s+/); # Split on one or more whitespace characters.
        push @viol, $lines[-2];
    }
}

# sort and print
my @sorted = sort {$a <=> $b} @viol;
print "@sorted"; 
```

这输出：`-11.06 -2.06 -1.106 -1.06 -0.226`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-23T08:13:13.993

你的排序工作得很好。唯一的问题是您的数组只有一个元素。在排序的正上方，你做作业。

如果你想让它工作，你需要在排序之前填充你的数组。

这也是单行：

```
perl -lanwe 'push(@a, $F[-2]) if /VIOLATE/ }{ print for sort { $a <=> $b } @a' 
```

请注意“爱斯基摩之吻”运算符的使用，`}{`. 它的工作方式类似于`END { ... }`块，因为它在输入结束时执行之后的任何内容。

**对于好奇的人：** “爱斯基摩之吻”之所以有效，是因为该开关以一种非常直接的方式在程序字符串周围`-n`添加了一个`while(<>) { ... }`循环。`-e`Deparsed，它看起来像这样，为了清晰起见，注释：

```
perl -MO=Deparse -lanwe 'push(@a, $F[-2]) if /VIOLATE/ }{ print for sort { $a <=> $b } @a'
BEGIN { $^W = 1; }                     # warnings enabled by -w
BEGIN { $/ = "\n"; $\ = "\n"; }        # line endings enabled by -l
LINE: while (defined($_ = <ARGV>)) {   # while(<>) loop added by -n
    chomp $_;                          # chomp added by -l
    our(@F) = split(' ', $_, 0);       # autosplit enabled by -a
    push @a, $F[-2] if /VIOLATE/;      # our code
}                                      # eskimo kiss close
{                                      # eskimo kiss open
    print $_ foreach (sort {$a <=> $b} @a);   # our END code
}                                      # closing bracket added by -n
-e syntax OK 
```

# hibernate - HIbernate 4：将最后一个审计行映射为关联属性

> ID：13025887
> 
> 赞同：1
> 
> 时间：2012-10-23T07:58:14.100
> 
> 标签：hibernate, subquery, jointable

我需要映射两个类 Person 和 PersonAudit：

```
public class Person implements Serializable {

    private int id;
    private String name;
    private PersonAudit personAudit;

    public Person() {
    }

    //getters and setters omitted
}

public class PersonAudit implements Serializable {

    private int id;
    private Person person;
    private String name;
    private String user;
    private Date date;

    public PersonAudit() {
    }

    //getters and setters omitted
} 
```

表 PersonAudit 存储了 Person 表上的历史更改。

考虑到 Person 表实际上没有任何引用 PersonAudit 表的列，是否可以映射**Person.personAudit属性以始终获取最后一个审计寄存器？**

我正在关注 Employee-Employment-Organization 文档的示例（[http://docs.jboss.org/hibernate/orm/4.1/manual/en-US/html_single/#assoc-complex](http://docs.jboss.org/hibernate/orm/4.1/manual/en-US/html_single/#assoc-complex)），但它似乎只有在 Employee表包含一个 orgId 列。

这是到目前为止 Person 类的映射：

```
<class catalog="test" name="test.Person" table="Person">
    <id name="id" type="int">
      <column name="Id"/>
      <generator class="increment"/>
    </id>
    <property name="name" type="string">
      <column length="30" name="Name" not-null="true"/>
    </property>

    <join table="PersonAudit"> 
        <subselect>
            select Id,IdPerson
            from PersonAudit
            group by IdPerson
            having Id = max(Id)
        </subselect>
        <key column="Id" />
        <many-to-one name="personAudit" class="test.PersonAudit" column="???"/>
    </join>
</class> 
```

所以，多对一不是要走的路，我该如何解决这种情况？

任何帮助我将不胜感激，在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T10:16:24.717

公式参考适用于这种情况。在我的脑海中，它应该看起来像：

```
<many-to-one name="personAudit"
  formula="(SELECT Max(pa.Id) FROM PersonAudit pa WHERE pa.IdPerson = Id)" > 
</many-to-one> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:25:14.780

对于那些可能需要将这种关联映射为组件的人，这是解决这种情况的另一种方法：

```
<join table="PersonAudit" optional="true"> 
        <subselect>
            select pa.Id,pa.IdPerson,pa.Name,pa.User,pa.Date
            from PersonAudit pa
            where pa.Id = 
                ( select max(Id)
                    from PersonAudit
                    where IdPerson = Id)
        </subselect>    
        <key column="IdPerson" />
        <component name="personAudit" class="test.PersonAudit">
            <property name="id" column="Id"/>
            <property name="name" column="Name"/>
            <property name="user" column="USer"/>
            <property name="date" column="Date"/>
        </component>
</join> 
```

# gcc - 提高 GCC 错误消息的漂亮打印效果

> ID：13025898
> 
> 赞同：0
> 
> 时间：2012-10-23T07:59:11.083
> 
> 标签：gcc, boost, g++, optional-parameters, gcc-warning

我正在使用 GCC 4.7.2。[我的代码在模板、STL 和boost](http://www.boost.org/)使用方面相当繁重。当我编译并在某些派生自或使用某些 boost/STL 功能的类或函数中出现错误时，我收到错误消息，显示我的类/函数的返回类型和/或函数参数非常可怕。

我的问题：

> 对于包含 boost/STL 类型的 GCC 警告/错误，是否有一种漂亮的打印类型，以便错误消息中显示的返回类型对应于我在代码中键入的内容，或者至少变得更容易理解？

我已经简要浏览了[这个问题](https://stackoverflow.com/questions/432567/debugging-best-practices-for-c-stl-boost-with-gdb?rq=1)，但是，这是关于 GDB 而不是 GCC ......

我也在[Haskell 中遇到过这台漂亮的打印机](https://github.com/ailiev/gcc-pretty-print)，但这似乎只是增加了结构，而不是带走了（大部分）不需要的细节......

还有其他建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T10:50:22.773

我问了一个[类似的问题](https://stackoverflow.com/questions/13025773/supress-candidates-suggested-by-gcc)，有人建议我尝试[gccfilter](http://www.mixtion.org/gccfilter/)。这是一个 Perl 脚本，它重新格式化 g++ 的输出并对其进行着色、缩短、隐藏完整路径名等等。

实际上，这个建议也很好地回答了这个问题：它能够隐藏不需要的细节并漂亮地打印 STL 和 boost 类型。所以：我也会把这个留在这里作为答案。

我能看到的唯一缺点是 g++ 需要从脚本中调用（即，当时不可能通过管道连接它）。我怀疑这很容易解决，无论如何，这是一个相对较小的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T10:40:26.957

您可以尝试David Abrahms 和[Alesky](http://c2.com/cgi/wiki?StlFilt) Gurtovoy 在“C++ 模板元编程”中提到的 STLfilt。

本书包含有关模板消息诊断的一章。它建议使用`STLFilt /showback:N`消除编译器回溯材料以获得简化的输出。

# java - 如何在 Windows 上找到正在运行的 Java 进程的进程 ID？以及如何单独杀死进程？

> ID：13025900
> 
> 赞同：40
> 
> 时间：2012-10-23T07:59:12.277
> 
> 标签：java, windows, process-management

我想杀死 Windows 中的特定 Java 进程，就像在 Linux 中一样（`ps -aux`获取 processid 然后`kill processid`杀死进程）。

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-10-23T08:02:12.960

您可以使用[JDK](https://docs.oracle.com/en/java/javase/11/tools/jps.html#GUID-6EB65B96-F9DD-4356-B825-6146E9EEC81E)`jps`中包含的实用程序来查找 Java 进程的进程 ID。输出将显示可执行 JAR 文件的名称或主类的名称。

然后使用 Windows 任务管理器终止该进程。如果您想在命令行上执行此操作，请使用

```
TASKKILL /PID %PID% 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-10-17T16:06:53.023

您还可以使用任务管理器找到 java 程序的 PID。您启用**PID**和**命令**行列`View -> Select Columns`，然后能够找到正确的进程。

您的结果将是这样的： ![在此处输入图像描述](../Images/ceff1c225f596c8afa4512d6750704d6.png)

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-10-23T08:03:00.520

设置好 jdk 的路径后使用`JPS`.Then 你可以很容易地通过任务管理器杀死它
`JPS`会给你所有的 java 进程

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2017-01-06T07:46:39.660

即使有多个 jar 实例正在运行，这也会起作用

```
wmic Path win32_process Where "CommandLine Like '%yourname.jar%'" Call Terminate 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-01-12T07:10:51.643

我找到的解决方案非常简单。使用 Window 的 WMIC 和 Java 的运行时来定位和终止进程。

第 1 部分：您需要将某种标识符放入应用程序的启动命令行中。例如：

```
String id = "com.domain.app"; 
```

第 2 部分：运行应用程序时，请确保包含字符串。假设您从 Java 中启动它，请执行以下操作：

```
Runtime.getRuntime().exec(
   "C:\...\javaw.exe -cp ... -Dwhatever=" + id + " com.domain.app.Main"
); 
```

第 3 部分：要终止进程，请使用 Window 的 WMIC。只需确保您的应用程序已从上面包含您的 id 开始：

```
Runtime.getRuntime().exec(
  "wmic process Where \"CommandLine Like '%" + id + "%'\" Call Terminate"
); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-23T08:04:31.997

在 Windows XP 及更高版本中，有一个命令：**列出**所有进程 ID 的任务列表。

要在 Windows 中终止进程，请参阅：

[真正杀死Windows中的进程| 堆栈溢出](https://stackoverflow.com/a/49990/92063)

您可以通过以下方式在 Java 中执行操作系统命令：

```
Runtime.getRuntime().exec("your command here"); 
```

如果您需要处理命令的输出，请参见示例：[在 Java 中使用 Runtime.exec()](https://stackoverflow.com/questions/1319286/using-runtime-exec-in-java)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-01-08T10:12:21.623

这是特定于 Windows 的。我遇到了同样的问题，我必须使用 taskkill 杀死一个特定的 java 程序。当我运行 java 程序时，tasklist 显示图像名称设置为 java.exe 的相同程序。但是使用杀死它`taskkill /F java.exe`会停止所有其他Java应用程序，而不是不需要的预期应用程序。

所以我使用以下方法运行相同的 java 程序：

```
start "MyProgramName" java java-program.. 
```

这里的启动命令将打开一个新窗口并运行窗口标题设置为 MyProgramName 的 java 程序。

现在要杀死这个 java 程序，使用以下 taskkill 命令：

```
taskkill /fi "MyProgramName" 
```

您的 Java 程序只会被杀死。休息不受影响。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2022-02-07T09:13:51.633

在windows中，我们可以使用PowerShell来列出java运行的进程。然后使用进程ID我们可以终止进程。请找到以下需要在 PowerShell 中执行的命令。

**列出 Java 进程。**

```
ps | Where-Object -Property ProcessName -EQ -Value 'Java' 
```

**杀死具有特定 id 的 java 进程。**

```
Stop-Process <PID> 
```

上述方法对我有用。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-10-16T10:38:55.767

1.  打开 Git Bash
2.  类型`ps -ef | grep java`
3.  找到`pid`运行jdk的
4.  `kill -9 [pid]`

# iphone - 如何使用 MKMapView 在 Apple Map 上启用两指旋转

> ID：13025901
> 
> 赞同：0
> 
> 时间：2012-10-23T07:59:14.337
> 
> 标签：iphone

我是 iPhone 新手，根据客户要求，我想使用 MKMapView 启用两指旋转。正如我们在 iOS6 的 Apple 地图中看到的那样，如何启用两指旋转？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T08:01:23.773

据我所知，这是做不到的。苹果记录的 API 不包括在 MKMapView 中用两个手指旋转。这是文档：http: [//developer.apple.com/library/ios/#documentation/MapKit/Reference/MKMapView_Class/MKMapView/MKMapView.html](http://developer.apple.com/library/ios/#documentation/MapKit/Reference/MKMapView_Class/MKMapView/MKMapView.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-22T14:31:48.610

做就是了：

```
[mapView setRotateEnabled:YES]; 
```

这是iOS7中的新功能。

# sql - 从另一个数据表中选择平均评分

> ID：13025902
> 
> 赞同：2
> 
> 时间：2012-10-23T07:59:19.093
> 
> 标签：sql, select

我有 3 个数据表。

在条目数据表中，我有带有 ID 的条目（entryId 作为主键）。

我有另一个名为 EntryUsersRatings 的表，其中有多个条目具有 entryId 字段和评级值（从 1 到 5）。（评级为一个 entryId 存储多次）。列：ratingId（主键）、entryId、rating（整数值）。

在第三个数据表中，我有第一个表中条目的翻译（带有 entryId、languageId 和 title - 翻译）。

我想做的是从第一个数据表中选择所有条目及其标题（按语言 ID）。最重要的是，我想要存储在 EntryUsersRatings 中的每个条目的平均评分（可以存储多次）。

我试过这个：

```
SELECT entries.entryId, EntryTranslations.title, AVG(EntryUsersRatings.rating) AS AverageRating
FROM entries 
    LEFT OUTER JOIN
        EntryTranslations ON entries.entryId = EntryTranslations.entryId AND EntryTranslations.languageId = 1
    LEFT OUTER JOIN
        EntryUsersRatings ON entries.entryId = EntryUsersRatings.entryId
      WHERE entries.isDraft=0
    GROUP BY title, entries.entryId 
```

isDraft 只是意味着条目没有存储所需的所有信息（只是不完整的数据 - 与我们的案例无关）。

任何帮助将不胜感激。

编辑：我的解决方案给了我评级的空值。Edit1：这个查询工作得很好，我正在寻找错误的数据库。我们还找到了另一个解决方案，它给了我们相同的结果（我希望有人会觉得这很有用）：

```
 SELECT entries.entryId, COALESCE(x.EntryUsersRatings, 0) as averageRating
    FROM entries  
    LEFT JOIN(
    SELECT rr.entryId, AVG(rating) AS entryRating 
    FROM EntryUsersRatings  rr 
    GROUP BY rr.entryId) x ON x.entryId = entries.entryId 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:48:36.430

@Cyber​​Hawk：当您使用带有条目的左外连接时，您的结果将提供左表中的所有记录以及与右表中的连接条件匹配的记录。但对于不匹配的记录，它会给你一个空值。

查看以下链接以获取详细信息：

[http://msdn.microsoft.com/en-us/library/ms187518(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms187518(v=sql.105).aspx)

# xcode - 在mac上开发和调试KEXT

> ID：13025906
> 
> 赞同：3
> 
> 时间：2012-10-23T07:59:49.637
> 
> 标签：xcode, macos, debugging, kernel-extension

我正在使用 Xcode 在 Mac 上开发 KEXT，每次编译后我都通过终端更改权限并加载 KEXT，然后从控制台应用程序读取结果。开发中的一些错误使系统出现内核恐慌，我必须重新启动我的 mac，这太烦人了。我想知道是否有更好的方法来开发和调试 KEXT？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T10:37:35.190

这是一个太大的话题，无法回答，但至少有据可查，请查看 Apple 的这些文档：

*   [当事情出错时：调试内核](https://developer.apple.com/library/mac/#documentation/Darwin/Conceptual/KernelProgramming/build/build.html)
*   [使用 GDB 调试内核扩展](https://developer.apple.com/library/mac/#documentation/Darwin/Conceptual/KEXTConcept/KEXTConceptDebugger/debug_tutorial.html)
*   [技术说明 TN2063：理解和调试内核恐慌](http://developer.apple.com/library/mac/#technotes/tn2063/_index.html)

另请注意，您可以`kprintf()`通过 Firewire（使用`fwkpfv`另一台 Mac 上的命令行实用程序）或串行端口（主要用于在 VM 中进行测试，因为现代 Mac 没有串行端口）从记录调用中获取输出。`kprintf`是同步的，因此与 kernel.log 不同的是，即使它发生在崩溃之前，您也会看到调试输出。

# java - 如何将变量标记为 final 允许内部类访问它们？

> ID：13025907
> 
> 赞同：17
> 
> 时间：2012-10-23T07:59:57.750
> 
> 标签：java

除非标记了这些局部变量，否则在方法内部定义的**内部类**无法访问方法的局部变量。`final`我查看了堆栈溢出和 java 代码牧场中的其他帖子，但似乎没有一个完全回答关于如何标记的问题variables final 允许内部类访问方法中的局部变量。

```
class MyOuter {
    private String x = "Outer";

    void fly(final int speed) {
        final int e = 1;
        class FlyingEquation {

            public void seeOuter()
            {
                System.out.println("Outer x is " + x);
            }
            public void display()
            {
                System.out.println(e);// line 1
                System.out.println(speed);// line 2
            }
        }
        FlyingEquation f=new FlyingEquation();
        f.seeOuter();
        f.display();
    }       
    public static void main(String args[])
    {
        MyOuter mo=new MyOuter();
        mo.fly(5);
    }
} 
```

我发现的解释：

**局部变量**存储在堆栈中，一旦方法调用完成，堆栈就会弹出并且**局部变量**不可访问，而 **最终局部变量**存储在**内存的数据部分中，**即使在方法调用结束后也可能允许`JVM`访问它们。在哪里`data section of memory`？我相信所有**的局部变量最终或不是**都存储在堆栈中。当方法从堆栈中删除时，最终变量将随之删除。最终变量中的值是否与堆中的对象一起存储？

它不支持非最终字段，因为它们可以通过方法或类进行更改，并且不支持这是因为实际上有两个不同的字段/变量。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-23T08:08:33.993

将局部变量标记为`final`告诉编译器它的值一旦被分配就保证不会改变。这使得编译器可以安全地在内部类中创建合成字段，并在构造内部类实例时将局部变量的值*复制*到该合成字段中。从内部类代码内部对局部变量的所有读取实际上都编译为对合成字段的读取。

这个技巧不适用于非最终变量，因为它们可能会在内部类被实例化后发生变化，并且合成字段将与原始变量不同步。

重要的是要认识到*所有*内部类都是编译器的技巧 - 对于运行时 JVM，所有类（顶级、嵌套静态和内部）都被同等对待。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-10-23T08:14:45.283

在内部类的实例化过程中，当方法和类都在作用域内时，内部类会复制作为常量的变量，这意味着方法可以超出作用域，因为内部类只使用变量的副本。 [看看这篇文章](http://techtracer.com/2008/04/14/mystery-of-accessibility-in-local-inner-classes/)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-23T08:20:07.950

是的，最终的局部变量保存在堆栈中，并在方法从堆栈中删除的那一刻被销毁。正如@Ian 所建议的那样，当编译器看到变量的 final 关键字时，它会在堆上的内部类对象中创建值的副本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-25T15:29:52.660

这背后的故事是java的创造者没有足够的时间来全力支持[闭包](http://en.wikipedia.org/wiki/Closure_%28computer_programming%29)。

有几种方法可以使语言支持闭包。例如，在方案中，函数中的自由参数绑定到与定义函数的词法范围相对应的环境。在诸如 SML 等强制不可变数据的语言中，可以通过将闭包所需的局部变量复制到堆中来实现闭包。

所以他们创建了内部类来拥有一个模仿 ML 风格的穷人版本的闭包。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-08T12:31:04.467

方法局部内部类不能使用外部方法的局部变量，直到该局部变量未声明为最终变量。我们需要将局部变量声明为 final 的主要原因是局部变量存在于堆栈上，直到方法在堆栈上，但可能存在内部类的对象仍然存在于堆上的情况。

查看这篇文章： [http ://www.geeksforgeeks.org/inner-class-java/](http://www.geeksforgeeks.org/inner-class-java/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-02-29T19:31:40.110

所以现在想一想。方法的局部变量存在于**堆栈**中，并且只在方法的生命周期内存在。我们已经知道，局部变量的作用域仅限于声明变量的方法。当方法结束时，栈帧被吹走，变量就是历史。但是即使在方法完成之后，在其中创建的内部类对象也可能在**堆上**仍然存在，例如，如果对它的引用被传递到其他代码中，然后存储在实例变量中。因为局部变量不保证只要方法局部内部类对象存在就一直存在，内部类对象不能使用它们。除非局部变量被标记为**final**。

> **最终局部变量是否存储在堆而不是堆栈上？**
> 
> **说明：**现在在 SO 中进行一些研究后，我发现所有局部变量（**最终或非最终**变量）都存储在**堆栈**中，并且在方法执行结束时超出范围。
> 
> 但是关于 final 变量`JVM`将这些作为常量，因为它们在启动后不会改变。并且当内部类尝试访问它们时，编译器会将该变量（不是它自身的变量）的副本创建到**堆中** 并在内部类中创建一个**合成字段**，因此即使方法执行结束它也可以访问，因为内部类有它自己的副本。**合成领域**文件实际上在源代码中不存在，但编译器在一些内部类中创建这些字段以使这些字段可访问。在简单的单词隐藏字段中。
> 
> ***所以最终变量也存储在堆栈中，但是内部类存储在堆中的那个变量的副本。***

# html - display:inline 块，但将 div 移动到尽可能高的位置

> ID：13025912
> 
> 赞同：1
> 
> 时间：2012-10-23T08:00:50.340
> 
> 标签：html, css

我有两个 div，如果屏幕足够宽，我想并排放置，但如果屏幕很窄，我希望它们在另一个下方显示一个，基本上就像内联块一样。内联块的问题是较短的块在“行”上尽可能低，就像一个更大的字母旁边的句号。如何使两个 div 在“行”上尽可能高，以便空白位于较小的 div 下方而不是其上方，更像是字母旁边的引号

任何一个 div 都可能比另一个高

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T08:03:38.920

我想你正在寻找：

```
vertical-align: top; 
```

但是，如果没有看到您的测试用例，很难辨别是否有其他指标正在创建该空间，*例如*边距、填充等。

# jquery - 通过减法日期获取人的年龄

> ID：13025918
> 
> 赞同：0
> 
> 时间：2012-10-23T08:01:12.177
> 
> 标签：jquery, jquery-selectors

假设我有如下代码：

```
$('#dateNaissance').datepicker({
        onSelect:function(date){
        var today=new Date();
        console.log(today.getTime());
        console.log(new Date(date));
        console.log(DateDiff(today,new Date(date)));

        $('#txtage').val(DateDiff(today,new Date(date)));

        }        

    });

    function DateDiff(date1,date2) {
        return (date1.getTime() - date2.getTime());
    }
    <tr>
        <td>Date de naissance :</td>
        <td><input type="text" name="txtdob" class="validate[required] text-input datepicker TextInput"  id="dateNaissance"/></td>
        <td>Age :<br /><input type="text" name="txtage" class="validate[required] TextInput" id="txtage"/></td>
    </tr> 
```

**我需要：**

当用户从日期选择器中选择日期时，它会自动计算日期以获取`<td>Age :<br /><input type="text" name="txtage" class="validate[required] TextInput" id="txtage"/></td>`ex:中的结果`23 year`。

**问题**

当我按照上面的代码进行操作时，结果将是`<td>Age :<br /><input type="text" name="txtage" class="validate[required] TextInput" id="txtage"/></td>`ex:中的数字`1954172067`。我不知道如何解决这个问题。请任何人帮助我，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T08:04:32.117

你得到的数字是两个日期之间的秒数。您需要做的就是将其划分为您需要的范围。例如，天将是`days = Math.round(x / 1000 / 60 / 60 / 24)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:21:02.760

我希望下面的代码可以帮助你：

```
 $('#dateNaissance').datepicker({
        onSelect:function(date){
        var today=new Date();
        console.log(today.getTime());
        console.log(new Date(date));
        console.log(DateDiff(today,new Date(date)));        
        $('#txtage').val(DateDiff(today,new Date(date)));       
        }        
});
    function DateDiff(date1,date2) {
        var val = (date1.getTime() - date2.getTime());
        var days = Math.round(val /1000 / 60 / 60 / 24);
        var years = Math.round(days /365);
        return years;
    } 
```

# ruby-on-rails - 捆绑安装在rails fork上不起作用

> ID：13025919
> 
> 赞同：0
> 
> 时间：2012-10-23T08:01:19.530
> 
> 标签：ruby-on-rails, ruby-on-rails-3, gem, ruby-on-rails-3.2, bundler

[如果我在 github 上](https://github.com/rails/rails)签出或分叉rails 项目，运行时会出现错误，`bundle install`找不到 sprockets-rails。如何安装这些 gem？

```
new-host-4:rails scott$ bundle install
Updating git://github.com/rails/arel.git
Updating git://github.com/brynary/rack-test.git
Updating git://github.com/rails/jquery-rails.git
Updating git://github.com/rails/coffee-rails.git
Updating git://github.com/rails/journey.git
Updating git://github.com/rails/activerecord-deprecated_finders.git
Updating git://github.com/rails/sprockets-rails.git
Updating git://github.com/fxn/sdoc.git
Fetching gem metadata from https://rubygems.org/.
Error Bundler::HTTPError during request to dependency API
Fetching full source index from https://rubygems.org/
Could not find gem 'sprockets-rails (~> 2.0) ruby', which is required by gem 'rails (>= 0) ruby', in any of the sources. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:25:48.777

在你的 gem 文件中试试这个写

```
gem "sprockets-rails", "1.0.0" 
```

然后，捆绑安装

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T18:31:12.100

好的，那么你想走这条路：[https](https://github.com/rails/rails-dev-box) ://github.com/rails/rails-dev-box ...在积极开发期间，rails repo 不能与 bundler 一起安装。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T18:35:10.493

[http://status.rubygems.org](http://status.rubygems.org)

Rubygems 正在经历成长的痛苦和问题。目前依赖 API 已关闭。所以这是它试图通过 ruby​​gems 解决依赖关系的失败。至于解决它，您可以在您的机器上手动安装所有要求，然后捆绑应该使用本地副本。

# java - 在 Java 中读取文本文件并使用递归向后打印

> ID：13025921
> 
> 赞同：2
> 
> 时间：2012-10-23T08:01:24.333
> 
> 标签：java, list, loops, recursion, text-files

> 编写一个Java程序，递归地从一个文件中读取十个名字，然后依次输出名字中的字符总数、名字列表、名字列表。所有循环都必须递归执行。
> 
> Jay Walker
> Erol Flintstone
> C. Erol Madre
> Billy Pilgrim
> Mickey Angels
> José Francisco de San Martín Squarebob
> 海绵裤
> Mischa Ternoff
> Chester Peak
> Al Italia
> Ben Dover
> Pat Pending

我100%迷路了。我想建议从哪里开始。考虑到这个程序，我想构建一个*主程序*，它会调用一个首先读取文件的*扫描仪。*读取文件时，它会计算文本中的字符（快速提问，扫描仪会计算字符之间的空格吗？）。

接下来我想到了一个简单的*打印*函数，它可以显示整个*names.txt*文件。

最后，我迷失了 110% 的部分......我怎么会以相反的顺序列出名字？我会用什么？递归如何适应这一切？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T08:10:25.267

递归部分的伪代码：

```
function printLines(lines):
    if lines not empty:
        print first line from lines // this prints lines in order
        call printLines(remaining lines)
        print first line again      // this prints lines in reverse order 
```

行的示例输出`["line1", "line2", "line3"]`

```
line1   // 1st output for printLines(["line1", "line2", "line3"])
line2   // 1st output for printLines(["line2", "line3"])
line3   // 1st output for printLines(["line3"])
        //  no output for printLines([])
line3   // 2nd output for printLines(["line3"])
line2   // 2nd output for printLines(["line2", "line3"])
line1   // 2nd output for printines(["line1", "line2", "line3"]) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T08:13:09.407

像这样的东西：

```
Reader(Stream strm)
{
    string line;

    if(!strm.eof())
    {
        line = strm.ReadLine();
        Reader(strm);
    }

    // Info - char counte etc
    string parseResult = Parse(line);
    Print(parseResult);
} 
```

递归将在文件末尾停止并开始展开。最后一条消息将首先打印。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T08:10:00.937

您可以使用`scanner.nextLine()`. 它将读取包括空格在内的整行。

对于如何使用递归向后打印字符串，想象一下它是一种在侧面包含房屋的方式。您想向后参观房屋（尽管您进入了前进的方向）。所以你决定继续前进，直到路的尽头，然后一步一步地返回并打印邻居的房子名称。

```
function print( i )
     if i == wayEnd
        return
     print(i + 1) // go ahead
     // after you return, print:
     output house at i 
```

**添加**

方法的代码应该是：

```
private static Scanner scanner;
private static void readFile() {
      if (!scanner.hasNext()) return;
      String line = scanner.nextLine();
      readFile();
      System.out.println(line);
} 
```

只需`readFile()`要从 main 调用：

```
public static void main(String[] args) {
     scanner = new Scanner(new File("myText.txt"));
     readFile();
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-23T08:32:24.873

为了训练我的 Java 技能，我为您编写了以下代码：

```
import java.util.*;
import java.io.*;

public class RecursiveReadNames{
    public static final int MAXLINES = 10;

    public static void main(String[] args) throws FileNotFoundException {
        Scanner scan = new Scanner(new File("listOfNames.txt"));
        String[] names = new String[MAXLINES];

        readNames(names, scan, 0);
        printNames(names,0);
        System.out.println();
        printNamesReverse(names,0);
        System.out.println(totalNumberOfCharsInNames(names, 0,0));
    }

    static String[] readNames(String[] names, Scanner scan, int curLine) {
        if(curLine >= MAXLINES)
            return names;
        names[curLine] = scan.nextLine();
        return readNames(names, scan, curLine+1);
    }

    static void printNames(String[] names, int cur) {
        if(cur >= names.length)
            return;
        System.out.println(names[cur]);
        printNames(names, cur+1);
    }

    static void printNamesReverse(String[] names, int cur) {
        if(cur >= names.length)
            return;
        printNamesReverse(names, cur+1);
        System.out.println(names[cur]);     
    }

    static int totalNumberOfCharsInNames(String[] names, int cur, int sum) {
        if(cur >= names.length)
            return sum;
        return totalNumberOfCharsInNames(names, cur+1, sum+names[cur].length());
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-23T08:16:57.753

我不擅长扫描，但使用 Desolator 的扫描仪，您可以按如下方式完成其余部分，

```
private Scanner scanner;
static Map<String, Integer> counts = new HashMap<String, Integer>(); 
public static void main(String[] args) {
 scanner = new Scanner(new File("myText.txt"));
 readFile();
 System.out.println(counts);
}
 private void readFile() {
          if (!scanner.hasNext()) return;
          String line = scanner.nextLine();
          String[] names = line.split("([\\W\\s]+)");
          for(int i=0;i<names.length;i++) {
              populateMap(names[i]);
          }
          readFile();
    }
static void populateMap(String str) {
    counts.put(reverse(str), str.length());     

}
static String reverse(String s) {
    if(s.length() == 0)
        return "";
    return s.charAt(s.length() - 1) + reverse(s.substring(0,s.length()-1));
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-23T08:30:00.040

做这样的事情

```
import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Scanner;

public class Test {
    public static void printname(String name,BufferedReader br)
    {

        if(name!=null && br!=null)
        {
            try {
                Test.printname(br.readLine(), br);
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            System.out.println(name);
        }
    }
    static Scanner scanner1 = new Scanner(System.in);

    public static void main(String[] args)
    {
        //print the names and total character in each name
        try {
            FileInputStream fin=new FileInputStream("d:\\file.txt");
            BufferedReader br=new BufferedReader(new InputStreamReader(fin));
            String n;
            while((n=br.readLine())!=null)
            {
                System.out.println(n+" length:"+n.length());
            }
            fin.close();
            br.close();
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        //print names in reverse order
        try {
            FileInputStream f=new FileInputStream("d:\\file.txt");
            BufferedReader br=new BufferedReader(new InputStreamReader(f));
            try {
                Test.printname(br.readLine(),br);
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            f.close();
            br.close();
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

} 
```

注意我正在传递 br 对象

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-23T09:06:22.580

```
 import java.util.Scanner;
    import java.io.*;
  class Listnames{
   public static void recursiveRead(Scanner scanner) {
      String name; 
      if(scanner.hasNext())   
       {name=scanner.next();
        recursiveRead(scanner);
       System.out.println(name.length() +" "+ name);  
       }
   }

  public static void main(String[] args)
 {
 try{
    Scanner scanner=new Scanner(new File("name.txt"));
    scanner.useDelimiter(System.getProperty("line.separator"));

   recursiveRead(scanner); 
   }
catch (FileNotFoundException e) {
      e.printStackTrace();
      }
 }
} 
```

# javascript - 从 ajax 调用生成的链接调用 javascript 函数

> ID：13025927
> 
> 赞同：0
> 
> 时间：2012-10-23T08:02:09.263
> 
> 标签：javascript, ajax

我有一个javascript函数。我正在进行 AJAX 调用，在收到的内容中有一个链接，我想用它来调用 javascript 函数。

```
MyJavascriptFunction(bla){
   alert (bla);
}

Result from ajax = "<a href="#" onclick="MyJavascriptFunction(bla)">Click</a> 
```

我是否必须对 AJAX 的结果进行任何特殊处理才能使其正常工作，或者它是否应该正常工作。

我已经尝试过这样但单击链接没有成功。

AJAX 调用：

```
function doSearch() {

  var form = $('form');

   $.ajax({
     url: "doSearch.php", 
     type: "GET",
     data: form.serialize(), 
     success: function(result){ 
       document.getElementById("result").innerHTML=result;
       }
    });
} 
```

在我打印出来的php中

```
<a href="#" onclick="MyJavascriptFunction(bla)">Click</a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:20:55.003

`<a>`将您的标签更改为：

```
<a href="#" onclick="MyJavascriptFunction(bla); return false;">Click</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:21:48.563

您正在混合 jQuery 和 DOM。那不漂亮

试试这个 - 假设您在 html 中没有多个链接

```
success: function(result){ 
  $("#result").html(result).find("a").on("click",function() {
    MyJavascriptFunction(bla); 
    return false;
  };
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T08:05:34.073

首先，尝试一下。但是是的，您必须对 AJAX 结果做一些事情。它必须放在 DOM 中的某个位置，否则用户将无法单击它。

另外，请确保 javascript 函数是顶级的。不过，我建议您改用事件处理程序。

# actionscript-3 - 如何根据时间给出分数？

> ID：13025932
> 
> 赞同：1
> 
> 时间：2012-10-23T08:02:28.857
> 
> 标签：actionscript-3, flash, scoring

在我正在制作的游戏中，我需要制作一个基于时间的评分系统。

如果您在游戏的第一秒获得比赛。那场比赛比我在游戏的最后一秒得到一场比赛更有价值。

所以换句话说，你越快完成关卡，你得到的分数就越多。有谁知道如何实现这一目标？我知道每个级别的总时间。

游戏是实时的，因此需要在游戏早期显示高分，随着时间的推移分数会降低。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T08:08:49.297

定义每个级别的最长时间，然后做一些数学技巧：

```
score = Math.max(0, levelMaxTime - timeSpent) * levelScore; 
```

例子：

```
timeSpent = 12; // The player completed the level in 12 seconds
levelMaxTime = 20; // The player has to completed the level within 30 seconds
levelScore = 50; // The player will be awarded of 50 points per remaining second

// Compute the final score
score = Math.max(0, levelMaxTime - timeSpent) * levelScore; // 400 points 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-23T08:25:02.227

为此，您可以使用[Timer 类](http://www.adobe.com/livedocs/flash/9.0/ActionScriptLangRefV3/flash/utils/Timer.html)。因此，您应该以类似于以下内容结尾：

```
private var delay:uint = 1000;
private var repeat:uint = 3;
private var timer:Timer = new Timer(delay, repeat); 
```

为滴答声添加侦听器...

```
timer.addEventListener(TimerEvent.TIMER, timerHandler);
timer.addEventListener(TimerEvent.TIMER_COMPLETE, completeHandler);

// Reduce bonus with time by a percentage
private function timerHandler(e:TimerEvent):void { scoreBonus *= 0.9;  }

// Set bonus to 0
private function completeHandler(e:TimerEvent):void { scoreBonus = 0; } 
```

现在设置分数奖金并在您希望开始奖金的地方启动计时器。

```
scoreBonus = 10;

timer.start(); 
```

所以在任何时候，你只需要将奖金加到总分上。

# windows-installer - MSI 应用转换删除签名

> ID：13025936
> 
> 赞同：2
> 
> 时间：2012-10-23T08:02:38.553
> 
> 标签：windows-installer, transform, digital-signature

我遇到了数字签名 msi 设置的问题。

我在发送之前签署了我的设置，因此 UAC 在设置开始时识别我的证书。但是，一旦我对此设置应用转换以以其他语言提供它，它似乎会删除签名。

在我看来，这是一个正确的行为，因为在签名后修改了 msi 设置。

你知道有什么方法可以避免这种情况吗？在转换后保持 msi 签名。

我已经考虑过以不同的语言将我的设置以多合一的方式分发，但它会增长得非常快（每种语言的 x64 和 x86 设置）。

谢谢 ！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T12:15:11.440

.msi 文件本身应保持签名，但 Windows Installer 将正确报告安装总体上是未签名的。要将聚合视为已签名，请对 .mst 文件进行签名。

# ios5 - viewDidUnload 弃用，但是对辅助视图的强引用呢？

> ID：13025939
> 
> 赞同：1
> 
> 时间：2012-10-23T08:02:47.980
> 
> 标签：ios5, view, ios6, didreceivememorywarning, viewdidunload

在 iOS6 中，该方法`viewDidUnload`已被弃用，内存管理对于`UIViewController`. 这里简单介绍一下新模式。
在视图控制器中占用更多内存的部分是视图（当然还有您最终会创建的大量数据）。视图本身不会消耗太多内存，是后备存储，被绘制的部分（最奇怪的是`CABackingStore`）。这种新模式似乎检查了视图控制器的视图所拥有的所有后备存储所占用的内存是易失性的，这些后备存储未显示在窗口中。当内存警告出现时，该后备存储将从内存中清除。使用这种方法，您可以节省重新创建非常昂贵的视图的过程。
Apple 表示从 iOS5 项目中删除 viewDidUnload/viewWillUnload 是安全的，即使您将部署目标设置为 iOS5，模板也不会显示这些方法。我知道，如果视图拥有的出口很弱，当您在超类实现中释放视图控制器的视图时，由于 ARC，一切都将被正确释放，而不会出现泄漏或僵尸。
因为我真的很欣赏这种新方法，所以我对这种情况没有信心：假设我们有一个视图控制器及其视图，这个视图只是一个内容视图，它将承载在视图控制器的 xib 中创建的不同视图，改变它们在运行时动态。当您为此视图创建出口时，它们会自动创建为强大的，这是有道理的，因为“主视图”不拥有它们。
关于新规则，此视图的后备存储不会被签名为 volatile，因为它们不属于 iOS6 和 iOS5 中的主视图（如果我删除`viewDidUnLoad`），它们将不会出于相同的原因发布。
我该如何处理这种情况？在 didReceiveMemoryWarning 中释放它们是否正确？但是如果视图只加载一次，我可以在 iOS6 中重新创建它们吗？

# javascript - 如何为 HTML5 音频元素制作加载栏？

> ID：13025946
> 
> 赞同：9
> 
> 时间：2012-10-23T08:03:37.763
> 
> 标签：javascript, html, html5-audio

我正在尝试为 HTML5 音频元素制作一个加载栏（显示加载/缓冲的百分比）。

对于视频标签，可以使用以下方法进行计算：

```
video.buffered.end(0) / video.duration 
```

但我无法让它与音频标签一起使用。它只是返回一个固定值。

任何想法？

谢谢！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-12-14T05:20:24.563

在不检查的情况下调用`end`方法`buffered`是不可靠的。您可能试图在任何情况下调用该方法。检查这个小提琴：

```
document.querySelector('span').innerHTML = document.querySelector('audio').buffered.length;
```

```
<audio src="http://myst729.qiniudn.com/within-temptation_pale.mp3" controls autoplay></audio>
<p>Buffered Length: <span></span></p>
```

看？在最开始时，缓冲长度为 0 - 没有加载任何内容。`start`在调用或`end`方法之前，您需要确保缓冲长度不为 0 。

* * *

每次阅读`buffered`，它确实是固定的。因此，要获得视觉上的“加载”效果，您需要一遍又一遍地阅读它。

在这里，我尝试每 50 毫秒更新一次加载和播放的百分比：

```
var audio = document.querySelector('audio');
var percentages = document.querySelectorAll('span');

function loop() {
  var buffered = audio.buffered;
  var loaded;
  var played;

  if (buffered.length) {
    loaded = 100 * buffered.end(0) / audio.duration;
    played = 100 * audio.currentTime / audio.duration;
    percentages[0].innerHTML = loaded.toFixed(2);
    percentages[1].innerHTML = played.toFixed(2);
  }

  setTimeout(loop, 50);
}

loop();
```

```
<audio src="http://myst729.qiniudn.com/within-temptation_pale.mp3" controls autoplay></audio>
<p>Loaded: <span></span>%</p>
<p>Played: <span></span>%</p>
```

**注意**：您所在的地方可能无法访问 MP3 文件。如果是这种情况，请尝试其他对您有利的来源。否则你会听到一个非常好听的女声，并且看到百分比不断变化，最终达到 100%。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-14T01:16:55.100

您可以使用以下代码获取 HTML5 音频元素的进度并将其应用于[`<progress>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/progress)元素：

```
var myAudio = document.getElementById('#myAudio');
var myProgressBar = document.getElementById('#myProgressBar'); 

myAudio.addEventListener('timeupdate', onLoadProgress);

function onLoadProgress () {
    var progress = parseInt(((myAudio.currentTime / myAudio.duration) * 100), 10);
    myProgressBar.value = progress; 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-04T15:50:26.563

我不太确定我是否理解你的问题。但这是我用来计算缓冲音频量的一种方法

```
var audio = document.querySelector('audio');
var set;
window.onload = function(){set=setInterval(buffer,1000);}; 
    function buffer () {
    if(audio.buffered.length>0){
   var percent = (audio.buffered.end(0) / audio.duration) * 100;
       document.querySelector('p').innerHTML = percent+'%';
     if(percent === 100){
           clearInterval(set); 
       } 
       }
}
```

```
<audio src="http://customhtml5video.000webhostapp.com/audio.mp3" controls></audio>
<p></p>
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-23T10:03:40.593

它返回的固定值是多少？你能创建一个简单的[jsfiddle](http://jsfiddle.net)来演示这个问题吗？

这个[html5 医生教程](http://html5doctor.com/html5-audio-the-state-of-play/)是最近写的，有一些关于 HTML5 音频当前播放状态的很好的信息。页面中间的以下提示看起来可能与您的情况相关：

> 您可能需要检查 durationchange 事件，因为某些持续时间可能会在媒体下载时发生变化。此外，根据元数据是否可用，您可能需要等到音频开始播放才能检查其持续时间。简而言之，请密切关注 durationchange 事件，并在持续时间未知时注意 NaN 值！

# android - 在android中更改方向时如何恢复弹出窗口的位置？

> ID：13025947
> 
> 赞同：5
> 
> 时间：2012-10-23T08:03:37.963
> 
> 标签：android

我试图在用户触摸屏幕的任何地方显示弹出窗口。我能够在所需位置显示弹出窗口。但是问题是当弹出窗口处于纵向模式时，如果我在横向模式下更改弹出窗口显示在同一位置的方向，因为弹出窗口与横向模式下的视图重叠，并且当我们将方向横向更改为纵向时会出现同样的问题. 我的要求低于 1\. 更改方向时不想关闭弹出窗口。2\. 动态改变所有弹出窗口的位置，每当方向改变时视图不重叠（弹出窗口不与图像重叠）。例如，当我将方向纵向更改为横向弹出窗口位置时，位置将向上移动。

```
private void showPopup(final Activity context, Point p) {
    int popupWidth = 200;
    int popupHeight = 150;
    boolean showEditText = true;
    // Inflate the popup_layout.xml
    LinearLayout viewGroup = (LinearLayout) context
            .findViewById(R.id.popup);
    LayoutInflater layoutInflater = (LayoutInflater) context
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View layout = layoutInflater.inflate(R.layout.popup_layout, viewGroup);

    // Creating the PopupWindow
    final PopupWindow popup = new PopupWindow(context);
    popup.setContentView(layout);
    popup.setWidth(popupWidth);
    popup.setHeight(popupHeight);
    popup.setFocusable(false);
    popup.setOutsideTouchable(false);

    // Some offset to align the popup a bit to the right, and a bit down,
    // relative to button's position.
    int OFFSET_X = 5;
    int OFFSET_Y = 5;

    // Clear the default translucent background
    popup.setBackgroundDrawable(new BitmapDrawable());

    // Displaying the popup at the specified location, + offsets.
    popup.showAtLocation(layout, Gravity.NO_GRAVITY, p.x + OFFSET_X, p.y
            + OFFSET_Y);

    final Button addname = (Button) layout.findViewById(R.id.addName);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-09-23T04:55:53.430

我知道这不是一个好的解决方案，但我们可以这样做

制作`popup`为类级对象

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);
    new Handler().postDelayed(new Runnable() {
        @Override
        public void run() {
            if (popupWindow != null && popupWindow.isShowing()) {
                popupWindow.dismiss();
                showPopup(...);
            }
        }
    },500);
} 
```

# c# - .NET 中字符串的简单混淆？

> ID：13025949
> 
> 赞同：18
> 
> 时间：2012-10-23T08:03:42.573
> 
> 标签：c#, .net, string, obfuscation

我需要通过互联网发送大约 30 个字符的字符串，这可能最终会成为另一家公司数据库中的 ID。

虽然字符串本身不会被识别，但我仍然希望它不会以任何方式被识别。

在 .NET 中混淆这样一个字符串的最简单方法是什么，以便在必要时可以轻松地反转它？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-10-23T08:44:29.517

经典的东西（带有现代风格）怎么样。

```
public static string Caesar(this string source, Int16 shift)
{
    var maxChar = Convert.ToInt32(char.MaxValue);
    var minChar = Convert.ToInt32(char.MinValue);

    var buffer = source.ToCharArray();

    for (var i = 0; i < buffer.Length; i++)
    {
        var shifted = Convert.ToInt32(buffer[i]) + shift;

        if (shifted > maxChar)
        {
            shifted -= maxChar;
        }
        else if (shifted < minChar)
        {
            shifted += maxChar;
        }

        buffer[i] = Convert.ToChar(shifted);
    }

    return new string(buffer);
} 
```

显然你会这样使用

```
var plain = "Wibble";
var caesered = plain.Caesar(42);
var newPlain = caesered.Caesar(-42); 
```

它很快，您的密钥只是一个`Int16`，它会阻止不经意的观察者复制粘贴该值，但它并不安全。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-23T08:27:27.373

怎么样：

```
 Convert.ToBase64String(Encoding.UTF8.GetBytes(myString)); 
```

及其相反：

```
 Encoding.UTF8.GetString(Convert.FromBase64String(myObfuscatedString)); 
```

只要您不介意增加字符串的长度

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-23T08:06:49.607

Try encrypting it with for example AES, if you know the encrypt key on the other machine you can easily decrypt it there

[http://msdn.microsoft.com/en-us/library/system.security.cryptography.aes(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/system.security.cryptography.aes(v=vs.100).aspx)

There are many code samples around. For example i found this post by a quick search, even though it's only 128 bit i think it should do the trick

[Using AES encryption in C#](https://stackoverflow.com/questions/273452/using-aes-encryption-in-c-sharp)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-01-27T09:32:23.613

我受到@Jodrell 的回答的启发，这是我的替代版本。唯一真正的区别是我使用模运算符而不是 if-then-else 构造。

如果你和我一样，以前从未听说过凯撒密码，这里有一个链接：

[https://en.wikipedia.org/wiki/Caesar_cipher](https://en.wikipedia.org/wiki/Caesar_cipher)

```
 public static partial class MString
   {
      ...

      /// <summary>
      /// Method to perform a very simple (and classical) encryption for a string. This is NOT at 
      /// all secure, it is only intended to make the string value non-obvious at a first glance.
      ///
      /// The shiftOrUnshift argument is an arbitrary "key value", and must be a non-zero integer 
      /// between -65535 and 65535 (inclusive). To decrypt the encrypted string you use the negative 
      /// value. For example, if you encrypt with -42, then you decrypt with +42, or vice-versa.
      ///
      /// This is inspired by, and largely based on, this:
      /// https://stackoverflow.com/a/13026595/253938
      /// </summary>
      /// <param name="inputString">string to be encrypted or decrypted, must not be null</param>
      /// <param name="shiftOrUnshift">see above</param>
      /// <returns>encrypted or decrypted string</returns>
      public static string CaesarCipher(string inputString, int shiftOrUnshift)
      {
         // Check C# is still C#
         Debug.Assert(char.MinValue == 0 && char.MaxValue == UInt16.MaxValue);

         const int C64K = UInt16.MaxValue + 1;

         // Check the arguments
         if (inputString == null)
            throw new ArgumentException("Must not be null.", "inputString");
         if (shiftOrUnshift == 0)
            throw new ArgumentException("Must not be zero.", "shiftOrUnshift");
         if (shiftOrUnshift <= -C64K || shiftOrUnshift >= C64K)
            throw new ArgumentException("Out of range.", "shiftOrUnshift");

         // Perform the Caesar cipher shifting, using modulo operator to provide wrap-around
         char[] charArray = new char[inputString.Length];
         for (int i = 0; i < inputString.Length; i++)
         {
            charArray[i] = 
                  Convert.ToChar((Convert.ToInt32(inputString[i]) + shiftOrUnshift + C64K) % C64K);
         }

         // Return the result as a new string
         return new string(charArray);
      }

      ...
   } 
```

还有一些测试代码：

```
 // Test CaesarCipher() method
     const string CHelloWorld = "Hello world!";
     const int CCaesarCipherKey = 42;
     string caesarCiphered = MString.CaesarCipher(CHelloWorld, CCaesarCipherKey);
     if (MString.CaesarCipher(caesarCiphered, -CCaesarCipherKey) != CHelloWorld)
        throw new Exception("Oh no!"); 
```

# mysql - 复杂查询的 MySQL 存储过程需要 5 分钟

> ID：13025950
> 
> 赞同：0
> 
> 时间：2012-10-23T08:03:47.077
> 
> 标签：mysql, stored-procedures, database-performance

此过程正在运行，但需要 5 分钟才能运行。有没有更快、更简单的方法？

我有一个包含检查列表的表。稍后会在同一张表中插入后续检查。后续检查具有相同的序列号但不同的日期戳。我需要找出哪些检查没有完成后续检查。

所以首先我得到了所有 type_due=3 并且没有标记为inspection_completed 的serial_numbers。

然后，从这个序列号列表中，我正在检查是否在稍后的 date_stamp 有相同序列号的检查，标记为检查完成。

因此，仅当存在其他内容时才选择；如果第二个查询中的结果具有相同的序列号、更大的日期和非空的inspection_completed 值，则消除第一个查询中的结果池。

每次运行此查询时，我都会截断 Inspections_due 表，因为添加到 Inspections 表的新后续检查将使 Inspections_due 表中的某些结果不再有效。

第一个查询有大约 9,000 个结果。总体而言，编写另一个查询以删除 Inspections_due 表中的无效结果并仅在每次运行此查询时将新记录添加到 Inspections_due 可能会更快。

注意：我尝试了 Select count(*) 而不是 Select Exists，但速度差异不大。

任何建议都会很棒！谢谢

```
CREATE PROCEDURE create_due_inspections()
BEGIN

  DECLARE done INT DEFAULT FALSE;
  DECLARE iid int(10); #unique inspection id
  DECLARE sn VARCHAR(16); #serial number
  DECLARE dt date; #date_stamp
  DECLARE `result` int;

  DECLARE cur1 CURSOR FOR SELECT inspection_id, serial_number, date_stamp FROM 
      Inspections where type_due = '3' and inspection_completed is null;

  DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

  TRUNCATE TABLE `Inspections_due`; # clean out the old results

  OPEN cur1;

  read_loop: LOOP

    FETCH cur1 INTO iid,sn,dt;
    IF done THEN
      LEAVE read_loop;
    END IF;

    SET `result` := (select exists(Select inspection_id from Inspections
where serial_number = sn and date_stamp > dt and inspection_completed is not null));

    IF  `result` THEN
        insert into Inspections_due values(iid);
    END IF;

  END LOOP;

  CLOSE cur1;
END; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:10:55.427

您应该**避免使用光标并使用集合**：

```
INSERT into Inspections_due 
SELECT 
      inspection_id as iid 
FROM 
      Inspections I1 
where 
      type_due = '3' and inspection_completed is null
      and exists(
           Select inspection_id 
           from Inspections I2
           where I2.serial_number = I1.serial_number 
                 and I2.date_stamp >  I1.date_stamp
                 and inspection_completed is not null)) 
```

还**通过内部连接替换存在子查询**：

```
SELECT distinct
      inspection_id as iid 
FROM 
      Inspections I1 
inner join  
      Inspections I2
         on
                 I2.serial_number = I1.serial_number 
                 and I2.date_stamp >  I1.date_stamp
                 and inspection_completed is not null 
```

# ruby-on-rails - form_for 未定义方法“model_name”错误

> ID：13025953
> 
> 赞同：2
> 
> 时间：2012-10-23T08:03:54.287
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我遇到了 form_for 的问题，已经搜索了问题，给出的解决方案并不能解决我的问题。

我正在尝试制作一个表格来创建新食谱：

```
**app/views/recipes/new.html.erb**
<%= form_for @recipe do |f| %>
  <% if @recipe.errors.any? %>
  <% end %>

  <div class="field">
    <%= f.label :recipename %><br />
    <%= f.text_area :recipename %>
  </div>
  <div class="field">
    <%= f.label :user_id %><br />
    <%= f.number_field :user_id %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div> 
```

```
**routes.rb**
Baserecipe::Application.routes.draw do

  resources :users
  resources :recipes
  ....
  match '/createrecipe', to: 'recipes#new' 
```

* * *

```
**recipes_controller.rb**
class RecipesController < ApplicationController

  def create
    @recipe = Recipe.new(params[:recipe])
  end
end 
```

我总是收到错误：

```
undefined method `model_name' for NilClass:Class 
```

提取的源代码（在第 1 行附近）：

```
1: <%= form_for @recipe do |f| %>
2:   <% if @recipe.errors.any? %>
3:   <% end %> 
```

* * *

```
class Recipe < ActiveRecord::Base
  attr_accessible :recipename, :instruct1, :instruct2, :instruct3, :instruct4, :instruct5,
  :instruct6, :instruct7, :instruct8, :instruct9, :instruct10, :instruct11, :instruct12,
  :instruct13, :instruct14, :instruct15, :instruct16, :instruct17, :instruct18, :instruct19,
  :instruct20, :instruct21, :instruct22, :instruct23, :instruct24, :instruct25, :instruct26,
  :instruct27, :instruct28, :instruct29, :instruct30, :preptime, :cooktime

  belongs_to :user
  has_many :ingredients
  has_many :rcomments

  validates :recipename, presence: true, length: { maximum: 140 }
  validates :user_id, presence: true
  validates :preptime, presence: true
  validates :cooktime, presence: true

  default_scope order: 'recipes.created_at DESC'
end 
```

完整的跟踪：

```
activemodel (3.2.7) lib/active_model/naming.rb:163:in `model_name_from_record_or_class'
activemodel (3.2.7) lib/active_model/naming.rb:158:in `param_key'
actionpack (3.2.7) lib/action_view/helpers/form_helper.rb:369:in `form_for'
app/views/recipes/new.html.erb:3:in `_app_views_recipes_new_html_erb___168565054_39061080'
actionpack (3.2.7) lib/action_view/template.rb:145:in `block in render'
activesupport (3.2.7) lib/active_support/notifications.rb:125:in `instrument'
actionpack (3.2.7) lib/action_view/template.rb:143:in `render'
actionpack (3.2.7) lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
actionpack (3.2.7) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
activesupport (3.2.7) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.7) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.7) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.7) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
actionpack (3.2.7) lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
actionpack (3.2.7) lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
actionpack (3.2.7) lib/action_view/renderer/template_renderer.rb:45:in `render_template'
actionpack (3.2.7) lib/action_view/renderer/template_renderer.rb:18:in `render'
actionpack (3.2.7) lib/action_view/renderer/renderer.rb:36:in `render_template'
actionpack (3.2.7) lib/action_view/renderer/renderer.rb:17:in `render'
actionpack (3.2.7) lib/abstract_controller/rendering.rb:110:in `_render_template'
actionpack (3.2.7) lib/action_controller/metal/streaming.rb:225:in `_render_template'
actionpack (3.2.7) lib/abstract_controller/rendering.rb:103:in `render_to_body'
actionpack (3.2.7) lib/action_controller/metal/renderers.rb:28:in `render_to_body'
actionpack (3.2.7) lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
actionpack (3.2.7) lib/abstract_controller/rendering.rb:88:in `render'
actionpack (3.2.7) lib/action_controller/metal/rendering.rb:16:in `render'
actionpack (3.2.7) lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
activesupport (3.2.7) lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
c:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
activesupport (3.2.7) lib/active_support/core_ext/benchmark.rb:5:in `ms'
actionpack (3.2.7) lib/action_controller/metal/instrumentation.rb:40:in `block in render'
actionpack (3.2.7) lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
activerecord (3.2.7) lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
actionpack (3.2.7) lib/action_controller/metal/instrumentation.rb:39:in `render'
actionpack (3.2.7) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
actionpack (3.2.7) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
actionpack (3.2.7) lib/abstract_controller/base.rb:167:in `process_action'
actionpack (3.2.7) lib/action_controller/metal/rendering.rb:10:in `process_action'
actionpack (3.2.7) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.2.7) lib/active_support/callbacks.rb:414:in `_run__22188539__process_action__1016913818__callbacks'
activesupport (3.2.7) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.7) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.7) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.7) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.7) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.7) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.7) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.7) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.7) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.7) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.7) lib/action_controller/metal/params_wrapper.rb:207:in `process_action'
activerecord (3.2.7) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.7) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.7) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.7) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.7) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.7) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.7) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.7) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.7) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.7) lib/action_dispatch/routing/route_set.rb:600:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.7) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.7) lib/active_support/callbacks.rb:405:in `_run__305680696__call__774818341__callbacks'
activesupport (3.2.7) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.7) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.7) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.7) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.7) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.7) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.7) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.7) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.7) lib/rails/engine.rb:479:in `call'
railties (3.2.7) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.7) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
c:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
c:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
c:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T08:09:43.117

试试这个

```
# in your recipes_controller.rb
def new
  @recipe = Recipe.new
end 
```

并删除匹配 '/createrecipe'，到：'recipes#new'

```
#in routes.rb 
Baserecipe::Application.routes.draw do
 resources :users
 resources :recipes
 .... 
```

查看有关[路线的更多信息](http://guides.rubyonrails.org/routing.html)

你的模型文件看起来像 - recipe.rb

```
class Recipe < ActiveRecord::Base
 ...
 ...
end 
```

# java - 实例化新类时，代理背后的 Java 小程序遇到临时冻结

> ID：13025957
> 
> 赞同：3
> 
> 时间：2012-10-23T08:04:21.220
> 
> 标签：java, proxy, applet, classloader

### 介绍

我们在客户办公室的 Java 小程序存在一些问题。该小程序旨在通过定期截屏来记录屏幕。它已签名，并且应该以提升的权限运行。

我们遇到的问题是：

1.  Java 小程序有时可能根本无法启动。如果 Java 控制台出现，它可能很快就会消失。感觉好像整个 JVM 都崩溃了。
2.  如果 Java 小程序启动，它有时会在启动后 10 秒左右崩溃。
3.  如果 Java 小程序启动，它几乎总是会遇到持续长达 12 秒的临时冻结。
4.  （小程序启动有点慢。）

一个典型的情况是，在启动 Windows 后，第一次尝试时无法加载小程序。刷新/重新登录/重新启动浏览器（我不完全确定需要什么）后，小程序启动，体验冻结然后崩溃。在第三次尝试时，它不会再崩溃，但仍然会冻结。

### 背景

客户有一个可能与该问题有关的 Blue Coat Systems HTTP 代理。网络的设置使得到 Internet 的所有流量都必须通过代理。例如，`ping www.google.com`超时后会失败，因为主机 www.google.com 无法解析。我发现了一些描述 Java 和 Blue Coat 代理问题的页面。我不认为这些提供了太多有用的信息，但它们加强了我的信念，即代理与问题有关。

*   [Java 无法解析为 bluecoat 代理](https://forums.oracle.com/forums/thread.jspa?threadID=1149527)
*   [访问 GoToAssist、GoToMeeting、GoToWebinar 或 GoToMyPC 时出现问题](https://kb.bluecoat.com/index?page=content&id=KB3082)
*   [访问 Salesforce.com 时出现问题](https://kb.bluecoat.com/index?page=content&id=KB5106)
*   [使用 Firefox 浏览器访问 RealTimeGraph 时出现 Java 错误。](https://kb.bluecoat.com/index?page=content&id=KB3770)

代理需要 NTLM 身份验证，这意味着当浏览器第一次尝试通过时，我会收到一个弹出窗口，询问我的用户名和密码。这是我尝试使用 Chrome 访问 Google 时来自代理的 HTTP 响应的一部分：

```
HTTP/1.1 407 Proxy Authentication Required
Proxy-Authenticate: NTLM TlRMTVNTUAACAAAADAAMADgAAAAFgokC/+XiO/tpmQMAAAAAAAAAAKQApABEAAAABQLODgAAAA9KAEEATQBQAFQASQACAAwASgBBAE0AUABUAEkAAQASAFAASwBIAEsASQBEAEMAMAAxAAQAHgBwAHUAdQBrAGUAcwBrAHUAcwAuAGwAbwBjAGEAbAADADIAcABrAGgAawBpAGQAYwAwADEALgBwAHUAdQBrAGUAcwBrAHUAcwAuAGwAbwBjAGEAbAAFAB4AcAB1AHUAawBlAHMAawB1AHMALgBsAG8AYwBhAGwAAAAAAA== 
```

### 环境

我在客户的场所用我自己的笔记本电脑亲身体验了这个问题。我的设置是在虚拟机中运行 Ubuntu Linux 12.04 和 Windows 7。我使用 Windows 和 Java 1.6.35 进行大部分测试。我确实在 Linux 中运行过一次小程序（我认为使用 Oracle Java 1.7.0_07）并且它没有遇到冻结，但小程序拍摄的屏幕截图可能是空白或损坏的。

我在 Java 设置中取消选中“在我的计算机上保留临时文件”框，因为缓存的 Java 小程序有时会干扰开发。我在客户办公室调试小程序时禁用了临时文件，但我认为此设置不会影响问题，因为我们的客户可能启用了临时文件并且他们总是遇到这些问题。

这些问题似乎与浏览器无关。我试过 IE9、Firefox、Chrome 和 Opera。

### 观察

在 Windows 中运行小程序时，我将 Eclipse 调试器附加到小程序。当小程序被冻结时，我暂停了它的执行，并检查了它在做什么。这是堆栈的样子。“OurOwnClass.doStillMoreSomething”是我们自己代码中正在执行的最后一行，它创建了一个类的新实例。

```
Thread [AWT-EventQueue-2] (Suspended)
    Inet6AddressImpl.lookupAllHostAddr(String) line: not available [native method]
    InetAddress$1.lookupAllHostAddr(String) line: not available
    InetAddress.getAddressFromNameService(String, InetAddress) line: not available
    InetAddress.getAllByName0(String, InetAddress, boolean) line: not available
    InetAddress.getAllByName(String, InetAddress) line: not available
    InetAddress.getAllByName(String) line: not available
    InetAddress.getByName(String) line: not available
    Handler(URLStreamHandler).getHostAddress(URL) line: not available
    Handler(URLStreamHandler).hostsEqual(URL, URL) line: not available
    Handler(URLStreamHandler).sameFile(URL, URL) line: not available
    Handler(URLStreamHandler).equals(URL, URL) line: not available
    URL.equals(Object) line: not available
    JarVerifier$VerifierCodeSource(CodeSource).equals(Object) line: not available
    JarVerifier$VerifierCodeSource.equals(Object) line: not available
    HashMap<K,V>.getEntry(Object) line: not available
    HashMap<K,V>.containsKey(Object) line: not available
    HashSet<E>.contains(Object) line: not available
    CPCallbackHandler.isTrusted(CodeSource) line: not available
    CPCallbackHandler.access$1200(CPCallbackHandler, CodeSource) line: not available
    CPCallbackHandler$ChildElement.checkResource(String) line: not available
    DeployURLClassPath$JarLoader.checkResource(String, boolean, JarEntry, JarFile, DeployURLClassPath$PathIterator) line: not available
    DeployURLClassPath$JarLoader.getResource(String, boolean, DeployURLClassPath$PathIterator) line: not available
    DeployURLClassPath.getResource(String, boolean) line: not available
    Plugin2ClassLoader$2.run() line: not available
    AccessController.doPrivileged(PrivilegedExceptionAction<T>, AccessControlContext) line: not available [native method]
    Applet2ClassLoader(Plugin2ClassLoader).findClassHelper(String) line: not available
    Applet2ClassLoader.findClass(String, boolean) line: not available
    Applet2ClassLoader(Plugin2ClassLoader).loadClass0(String, boolean, boolean) line: not available
    Applet2ClassLoader(Plugin2ClassLoader).loadClass(String, boolean, boolean) line: not available
    Applet2ClassLoader(Plugin2ClassLoader).loadClass(String, boolean) line: not available
    Applet2ClassLoader(ClassLoader).loadClass(String) line: not available
    OurOwnClass.doStillMoreSomething(String) line: 701
    OurOwnClass.doMoreSomething() line: 671
    OurOwnClass.doSometihng() line: 655
    OurOwnClass.handleTimer() line: 510
    OurOwnClass.actionPerformed(ActionEvent) line: 391
    Timer.fireActionPerformed(ActionEvent) line: not available
    Timer$DoPostEvent.run() line: not available
    InvocationEvent.dispatch() line: not available
    EventQueue.dispatchEventImpl(AWTEvent, Object) line: not available
    EventQueue.access$400(EventQueue, AWTEvent, Object) line: not available
    EventQueue$2.run() line: not available
    EventQueue$2.run() line: not available
    AccessController.doPrivileged(PrivilegedAction<T>, AccessControlContext) line: not available [native method]
    AccessControlContext$1.doIntersectionPrivilege(PrivilegedAction<T>, AccessControlContext, AccessControlContext) line: not available
    EventQueue.dispatchEvent(AWTEvent) line: not available
    EventDispatchThread.pumpOneEventForFilters(int) line: not available
    EventDispatchThread.pumpEventsForFilter(int, Conditional, EventFilter) line: not available
    EventDispatchThread.pumpEventsForHierarchy(int, Conditional, Component) line: not available
    EventDispatchThread.pumpEvents(int, Conditional) line: not available
    EventDispatchThread.pumpEvents(Conditional) line: not available
    EventDispatchThread.run() line: not available 
```

有几行代码会冻结小程序。堆栈看起来与我们自己代码中的第一行相同（上图：OurOwnClass.doStillMoreSomething），所以看起来所有的冻结都有相同的原因。我们导致这个问题的所有行都在创建新对象。我相信在所有这些情况下，这也是第一次加载特定的类，尽管我没有检查这一点。其中一个类是我们自己的公共类，但其中大多数是匿名类，名称类似于 OurOwnClass$4，代码如下：

```
worker = new SwingWorker<Void,Void>() {
    @Override
    public Void doInBackground() {
        // Do stuff.
        return null;
    }
}; 
```

堆栈顶部的 Java 方法是 Inet6AddressImpl.lookupAllHostAddr。调试器表明此方法正在尝试解析为小程序提供服务的主机的主机名。我想我在某处看到了我们的小程序 JAR 文件的完整 URL，所以我的印象是 JVM 试图再次访问我们的小程序 JAR 文件，即使它应该已经有了它——它还在执行什么？

### 分析

我最好的猜测是类加载器需要对即将加载的类进行某种权限检查。也许 JVM 正在尝试检查 JAR 文件自最初加载以来是否已更新，但 JVM 在尝试使用本机方法解析我们服务器的主机名时挂起。当地址解析失败时，类加载器的执行返回。这一切有点奇怪，因为小程序可以很好地与我们的服务器通信（它从浏览器获取代理信息），但我觉得 JVM 不会使用代理来完成它在这里所做的任何事情。这个解释听起来可信吗？

再说一次，我不知道如何解释崩溃以及让小程序首先启动的问题。我没有花时间尝试调试这些问题，所以我不知道发生了什么。如果我以后还去客户办公室，也许我应该尝试查找 hs_err_*.log 文件。

如果我有与客户类似的设置，这将有助于调试。我可能会尝试设置一个只能使用 HTTP 代理访问 Internet 但我不知道它是否必须是 Blue Coat 代理的环境。我也不确定是否可以使用 NTLM 协议而不是其他方法（基本、摘要）使代理需要身份验证。

在任何情况下，我都会感谢帮助摆脱冻结（如果可能的话，崩溃和启动问题）。我们能否以某种方式更改代码或 JAR 包以避免这些问题？是否有一些 JVM 启动参数可以提供帮助？我还应该做些什么来调查这个问题吗？

### 编辑

我更改了我的 Windows 虚拟机的网络设置，使其只能与主机 Linux 通信，而不是与整个 Internet 通信。然后我在主机 Linux 上设置了 Squid HTTP 代理，并告诉 Windows 使用它作为代理。现在我遇到了类似的问题，就像我们客户办公室发生的问题一样，虽然不那么可靠。看来我不需要让代理需要身份验证。

### 编辑 2

我使用了模拟环境并启动了 Wireshark 来查看 Windows 客户机正在尝试做什么。显然，它正在与主机打一种乒乓球：它向我们的服务器询问 ip 并返回响应“无法访问目标（无法访问端口）”（类型 3，代码 3）。这种情况发生了五次，它们之间的间隔是 1、1、2 和 4 秒。然后在 4 秒后，小程序继续愉快地做它正在做的任何事情。间隔总计为 12 秒，这恰好是最常见的延迟长度。我不知道我们客户办公室的网络是否响应主机无法访问或任何情况。Ping 会在那里和我的这个模拟设置中超时。

我想知道这是JVM中的错误还是设计错误。我通常不会期望实例化一个类会冻结线程一段时间。我还希望类加载器/JVM 使用代理。通常我会认为尝试几次主机名解析是有意义的，但我不确定在这种情况下这样做是否正确。

### 编辑 3

一位评论者是对的：是操作系统在打乒乓球。我通过捕获由生成的网络流量进行了尝试，`ping www.google.com`并得到了相同的行为。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T09:58:44.910

查看有问题的 JRE 代码`URLStreamHandler`：

```
protected synchronized InetAddress getHostAddress(URL u) {
    if (u.hostAddress != null)
        return u.hostAddress;

    String host = u.getHost(); 
    if (host == null || host.equals("")) {
        return null;
    } else {
        try {
            u.hostAddress = InetAddress.getByName(host); // Hanging here
        } catch (UnknownHostException ex) {
            return null;
        } catch (SecurityException se) {
            return null;
        }
    }
    return u.hostAddress;
} 
```

如果此代码失败并返回 null，则父`hostsEqual`方法将退回到 String 比较，这很好。所以我们想要要么`UnknownHostException`要么`SecurityException`。

看起来防火墙正在丢弃 DNS 请求，导致超时，而不是返回 NXDOMAIN（或者更好的是，ICMP 被管理禁止）。

你能说服客户端正确配置防火墙吗？（您可以通过在您的 ubuntu 机器上阻止传出 DNS（代理除外）来测试这一点）

另一种选择是强制`SecurityException`被 抛出`InetAddress.getByName`，这可能发生：

> 如果存在安全管理器并且其 checkConnect 方法不允许该操作

我不知道该怎么做，或者是否可能 - 你能改变小程序的权限吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-19T16:58:33.853

我们有同样的冻结问题。我们的小程序应用程序曾经间歇性地冻结。根本原因是“虚假重新传输”，TCP 级别缺少一些数据包序列号。它与第 4 层有关。

这是通过用下一个给出的覆盖下面的 apache 配置条目来解决的。原始值为：

**SetEnvIf User-Agent " .MSIE *.* " \ nokeepalive ssl-unclean-shutdown \ downgrade-1.0 force-response-1.0**

我们通过在 openshift 配置参数中的 apache_config 中写入此值来覆盖此值。

**SetEnvIf 用户代理 " .MSIE *.* " \ !nokeepalive !ssl-unclean-shutdown \ !downgrade-1.0 !force-response-1.0**

HTTP 1.1 在完成传输数据时使用特定的标头向客户端发送信号，而 HTTP 1.0 中不存在该标头

# php - FuelPHP：无法直接访问我的控制器

> ID：13025958
> 
> 赞同：0
> 
> 时间：2012-10-23T08:04:24.847
> 
> 标签：php, fuelphp, fuelphp-routing

我正在尝试学习fuelPHP，并且我具有CI背景。我正在使用本教程，以便我可以熟悉这一点。

[http://net.tutsplus.com/tutorials/php/getting-started-with-the-fuel-php-framework/](http://net.tutsplus.com/tutorials/php/getting-started-with-the-fuel-php-framework/)

我的问题在第 2 步。当我访问我的简单控制器时

```
http://localhost/fuel/public/index.php/hello 
```

我收到 404 错误。

*fuel 是我本地主机上新安装的fuelPHP 的目录。

当我将其设置为我的默认路由时，控制器工作。

新版本中是否有什么变化导致了这一点？

这是我在 /public/ 文件夹上的 .htaccess。

```
<IfModule mod_rewrite.c>
    RewriteEngine on

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    RewriteRule ^(.*)$ index.php/$1 [L]
</IfModule> 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T19:33:31.227

像这样安装 FuelPHP 会让你自己变得非常复杂。

它的设计方式是“公共”文件夹是您的网络服务器文档根目录，这意味着所有燃料都在您的文档根目录之外，而 .htaccess 直接在您的文档根目录内。

通过不仅将其完全安装在文档根目录中，而且还安装在该文档根目录的子文件夹中，您需要修改重写规则。从添加开始

```
RewriteBase /fuel/public 
```

公开给那个人，看看是否有帮助。此外，此 .htaccess 是为“标准”apache 类型安装而制作的。如果你运行其他任何东西，你可能需要一个不同的 .htaccess。例如，如果您使用 fcgi，从 1.4/develop 存储库获取 .htaccess，它对您的网络服务器类型具有更高的容错性。

最后一句话：你不应该使用 localhost 作为主机名。在许多 RFC 中，这是一个非法名称，其中一个是记录 cookie 使用的名称。如果您使用“localhost”，您将在某些浏览器（版本）中遇到各种会话问题。相反，设置虚拟主机（无论如何都是子文件夹更好的解决方案），并使用像“mymachine.local”这样的主机名。

# ios - UIScrollView 里面有固定的内容

> ID：13025959
> 
> 赞同：3
> 
> 时间：2012-10-23T08:04:28.007
> 
> 标签：ios, uiscrollview

我的问题是：在我的应用程序中，我想使用`UIScrollView`

![在此处输入图像描述](../Images/90140f3214aeefe7019426dcff1b8e9d.png)

他的`UIScrollView`所有内容都在里面。但是当我到达屏幕顶部（或者可能是屏幕底部）时，我想锚定一些内容，例如在 AppStore (iOS 6) 中。

![在此处输入图像描述](../Images/80193740b40e78488b671d3b0d453316.png)

在这种情况下，“详细信息”、“评论”和“相关”按钮停止滚动并保持固定在顶部。

有人知道该怎么做吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-23T08:39:24.037

如果您的滚动视图还没有委托，请给它一个委托。这可能是您的视图控制器。

还要给委托一个对浮动视图的引用。（在示例中，浮动视图包含“Dettagli”、“Recensioni”和“Correlati”按钮，并且浮动视图在三角形缺口处是透明的，阴影也是浮动视图的一部分。） view 必须是滚动视图的子视图。

将浮动视图框架的“正常”Y 坐标保存在实例变量中。例如，如果委托是一个视图控制器，你可能应该这样做`viewDidLoad`：

```
- (void)viewDidLoad {
    [super viewDidLoad];
    originalFloatingViewY = floatingView.frame.origin.y;
} 
```

在委托的`scrollViewDidScroll:`方法中，检查滚动视图是否已经滚动到浮动视图“正常”位置的顶部下方。如果是这样，将浮动视图移动到可见区域的顶部边缘：

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView {
    [self updateFloatingViewFrame];
}

- (void)updateFloatingViewFrame {
    CGPoint contentOffset = scrollView.contentOffset;

    // The floating view should be at its original position or at top of
    // the visible area, whichever is lower.
    CGFloat y = MAX(contentOffset.y, originalFloatingViewY);

    CGRect frame = floatingView.frame;
    if (y != frame.origin.y) {
        frame.origin.y = y;
        floatingView.frame = frame;
    }
} 
```

您也可以通过子类化`UIScrollView`和覆盖来做到这一点`layoutSubviews`。观看来自[WWDC 2011](https://developer.apple.com/videos/wwdc/2011/)的“高级 ScrollView 技术”视频，了解有关此技术的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:10:33.943

您需要在`UIScrollView's`委托方法（`scrollViewDidScroll`:) 中处理此问题以进行滚动。当`y`of`scrollview`达到该特定值时，您需要单独禁用该方向的滚动。您只需要在其中添加一个 if 条件即可`y`在滚动时检查并重置该点。为此，您可能必须将此特定部分作为单独的滚动视图保留在下方内容之外，并将其与下方滚动视图的向上移动一起移动。

# xamarin.ios - 如何将具有值 [PSPDFAnnotationParser 类] / [MyCustomAnnotationParser 类] 的 NSDictionary() 转换为 MonoTouch？

> ID：13025969
> 
> 赞同：2
> 
> 时间：2012-10-23T08:05:08.280
> 
> 标签：xamarin.ios, nsdictionary

从我正在使用的绑定 API 的文档中：

> 覆盖类名
> 
> 使用它来使用特定的子类而不是默认的 PSPDF* 类。例如，添加一个 [PSPDFAnnotationParser 类] / [MyCustomAnnotationParser 类] 作为键/值对来使用自定义子类。（MyCustomAnnotationParser 必须是 PSPDFAnnotationParser 的子类）如果覆盖类不是被覆盖类的子类，则引发异常。注意：保存到磁盘时不会序列化。
> 
> @property (nonatomic, strong) NSDictionary *overrideClassNames

这是我尝试过但不起作用的方法。显然不需要字符串，而是需要实际类型或其他东西。如何在 MonoTouch 中使用它？

```
var oClassDic = new NSMutableDictionary();
oClassDic.Add(new NSString("[PSPDFAnnotationParser class]"), new NSString("[PSPDFKitAnnotationParser class]"));
oDoc.OverrideClassNames = oClassDic; 
```

我创建的 PSPDFKitAnnotationParser 是这样的：

```
[Register("PSPDFKitAnnotationParser")]
    public class PSPDFKitAnnotationParser : PSPDFAnnotationParser
    {
        public PSPDFKitAnnotationParser () : base()
        {
        }

        public PSPDFKitAnnotationParser (PSPDFDocumentProvider provider) : base(provider)
        {
        }

        public PSPDFKitAnnotationParser (IntPtr handle) : base(handle)
        {
        }

        public PSPDFKitAnnotationParser (NSObjectFlag t) : base(t)
        {
        }

        public PSPDFKitAnnotationParser (NSCoder coder) : base(coder)
        {
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T12:12:38.650

MonoTouch 自己的绑定通常隐藏[`class`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html)并替换为，.NETy 越多，`System.Type`.

但是该`MonoTouch.ObjCRuntime.Class`类型存在并且也可以使用。如果本机代码需要`class`实例，那么您应该能够执行以下操作：

```
var oClassDic = new NSMutableDictionary();
oClassDic.Add(new Class("PSPDFAnnotationParser"), new Class("PSPDFKitAnnotationParser"));
oDoc.OverrideClassNames = oClassDic; 
```

您可能需要稍微调整一下，因为`Class`实例不是 a `NSObject`，它是 MonoTouch 中的 a ，因此在向字典添加值/键时`NativeObject`，您可能需要更深入一层并使用`Handle`属性 ( )。`IntPtr`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-24T00:47:13.497

按照@poupou 的回答~~这可能有效，我没有测试过~~这是你必须做的，它有效（TM）

```
var oClassDic = new NSMutableDictionary();
var key = new Class("PSPDFAnnotationParser");
var val = new Class("PSPDFKitAnnotationParser");

IntPtr selSetObjectForKey = Selector.GetHandle ("setObject:forKey:");

Messaging.void_objc_msgSend_IntPtr_IntPtr (oClassDic.Handle, selSetObjectForKey, val.Handle, key.Handle);

oDoc.OverrideClassNames = oClassDic; 
```

选择器[setObject: forKey:](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSMutableDictionary_Class/Reference/Reference.html#//apple_ref/occ/instm/NSMutableDictionary/setObject%3aforKey%3a)在两个参数上都需要一个 ObjC`id`类型

> “id”它只是一种特殊类型，可以保存指向您可以使用 ObjC 构造的任何对象的指针

所以这应该工作:)

希望这可以帮助

亚历克斯

# php - 使用 tcpdf 编写更快的 pdf

> ID：13025974
> 
> 赞同：4
> 
> 时间：2012-10-23T08:05:30.777
> 
> 标签：php, pdf-generation, tcpdf

我使用 writeHTML 用 tcpdf 生成了 pdf。我所做的是，我完全编写 html 代码，然后用 writeHTML 生成 pdf。

我的问题是它非常慢。生成 5 页数据表（每页 5 列 x 12 行）大约需要 10 秒。

我遵循了这里的几乎所有说明：[http](http://www.tcpdf.org/performances.php) ://www.tcpdf.org/performances.php 。我放

```
$pdf->setFontSubsetting(false) ; 
```

你有其他提示吗？如果我有问题地生成 pdf，它会更快吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T08:55:28.000

生成 HTML，让 TCPDF 解析该 HTML 并将其重新调整为 Postscript 指令，然后编写此 Postscript 当然比直接编写 Postscript 开始要慢得多。如果您想要获得最佳性能，请使用常规`Ln`、等方法直接生成 PDF。是的，它比编写 HTML 稍微复杂一些，但那是因为它们是不同的东西。缓慢的部分是在这些不同的事物之间进行转换。`Cell``Write`

# javascript - Javascript向上和向下滚动按钮

ID：13025978

赞同：0

时间：2012-10-23T08:05:43.897

标签：javascript, jquery

# java - AChartEngine renders null values

> ID：13025981
> 
> 赞同：2
> 
> 时间：2012-10-23T08:05:45.257
> 
> 标签：java, android, achartengine

I have a BarChart which has some values which are set to MathHelper.NULL_VALUE so they are not rendered (it is supposed to leave blank positions in the chart). However, the null values are still rendered and look more like 0.0 as shown below.

![null values](../Images/49ad931bf4b3c5479d014773a7bd243c.png)

If I log the values printed I can see that the NULL_VALUEs are present in the series:

```
10-23 09:50:24.206: DEBUG/ConsumptionChartBuilder(27359): x:16.0Y:1.0
10-23 09:50:24.206: DEBUG/ConsumptionChartBuilder(27359): x:17.0Y:3.0
10-23 09:50:24.206: DEBUG/ConsumptionChartBuilder(27359): x:18.0Y:1.7976931348623157E308
10-23 09:50:24.206: DEBUG/ConsumptionChartBuilder(27359): x:19.0Y:1.7976931348623157E308
10-23 09:50:24.216: DEBUG/ConsumptionChartBuilder(27359): x:20.0Y:6.0
10-23 09:50:24.216: DEBUG/ConsumptionChartBuilder(27359): x:21.0Y:1.7976931348623157E308 
```

Setting/Unsetting the min Y value doesn't change anything.

I really need to differentiate between 0 and null and leaving points out of the bar chart results in some further odd rendering (the blank spaces are not the correct width)...

**Does anyone know how to not render null values in an AChartEngine BarChart?**

Edit: Some code which reproduces it.

```
 XYMultipleSeriesDataset multipleSeriesDataset = new XYMultipleSeriesDataset();
    XYMultipleSeriesRenderer multipleSeriesRenderer = new XYMultipleSeriesRenderer();
    XYSeriesRenderer renderer= new XYSeriesRenderer();

    //set up renderer(s)
    renderer.setColor(Color.RED);
    multipleSeriesRenderer = new XYMultipleSeriesRenderer();
    multipleSeriesRenderer.setInScroll(true);
    multipleSeriesRenderer.setPanEnabled(false, false);
    multipleSeriesRenderer.setZoomEnabled(false, false);
    multipleSeriesRenderer.setAntialiasing(true);
    multipleSeriesRenderer.setShowLabels(true);
    multipleSeriesRenderer.setShowLegend(false);
    multipleSeriesRenderer.setYLabelsAlign(Paint.Align.LEFT);
    multipleSeriesRenderer.setApplyBackgroundColor(true);
    multipleSeriesRenderer.setMargins(new int[]{20, 3, 0, 0});
    multipleSeriesRenderer.setMarginsColor(Color.WHITE);
    multipleSeriesRenderer.addSeriesRenderer(renderer);
    multipleSeriesRenderer.setXLabelsAlign(Paint.Align.CENTER);
    //text size
    final float scale = getResources().getDisplayMetrics().density;
    multipleSeriesRenderer.setLabelsTextSize((int)(scale*10+0.5f));

    multipleSeriesRenderer.setXLabelsColor(Color.BLACK);
    multipleSeriesRenderer.setYLabelsColor(0,Color.BLACK);
    multipleSeriesRenderer.setShowAxes(false);
    multipleSeriesRenderer.setBackgroundColor(Color.TRANSPARENT);

    //set max and min of axis
    multipleSeriesRenderer.setYAxisMin(0);
    multipleSeriesRenderer.setYAxisMax(10);
    multipleSeriesRenderer.setXAxisMax(7.5);
    multipleSeriesRenderer.setXAxisMin(0.5);
    multipleSeriesRenderer.setBarSpacing(0.1);

    //set up series
    XYSeries series = new XYSeries("test");
    series.add(1, MathHelper.NULL_VALUE);
    series.add(2, 1);
    series.add(3, 6);
    series.add(4, MathHelper.NULL_VALUE);
    series.add(5, 0);
    series.add(6, 5);
    series.add(7, MathHelper.NULL_VALUE);
    multipleSeriesDataset.addSeries(series);

    //add x labels to replicate my original code
    multipleSeriesRenderer.setXLabels(0);
    multipleSeriesRenderer.addXTextLabel(1, "Mon");
    multipleSeriesRenderer.addXTextLabel(2, "Tue");
    multipleSeriesRenderer.addXTextLabel(3, "Wed");
    multipleSeriesRenderer.addXTextLabel(4, "Thu");
    multipleSeriesRenderer.addXTextLabel(5, "Fri");
    multipleSeriesRenderer.addXTextLabel(6, "Sat");
    multipleSeriesRenderer.addXTextLabel(7, "Sun");

    ((LinearLayout)findViewById(R.id.layout_graph)).addView(ChartFactory.getBarChartView(this, multipleSeriesDataset, multipleSeriesRenderer, BarChart.Type.DEFAULT)); 
```

**Edit number 2: Screenshots of the above code:**

With null values:

![screenshot with null values](../Images/6ae93da59d151d852d1015ef4afc117c.png)

If I don't add the null values then the graph looks skewed as shown here where the bars touch one another.

![screenshot without null values](../Images/b48bc85d1358370e1cef8b9252d38668.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T06:37:33.490

我认为您的意图是将那些 MathHelper.NULL_VALUE 条设置为空白，因此您可以将这些条设置为 color.transparent，因此如果您的意图是我声明的，它们将不可见。所以如果您想显示这些条，您可以将值设置为{} 空白的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T11:44:26.343

我建议您不要添加这些`MathHelper.NULL_VALUE`值。只需添加其他的。

# jekyll - 突然我的页面向我抛出 404 错误

> ID：13025984
> 
> 赞同：1
> 
> 时间：2012-10-23T08:05:59.157
> 
> 标签：jekyll, github-pages

嗨，我有一个页面托管在我的

```
username.github.com 
```

但是突然之间，这个页面向我抛出了 404 错误消息。我不确定出了什么问题。但问题是它不起作用！

有没有人遇到同样的情况并解决了这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T14:26:11.977

这可能与最近的[GitHub 问题有关](https://status.github.com/)：

```
October 22, 2012 – minor interruption occurred

02:17 pm PST
The status website is misreporting availability of services again.  
Git and Downloads are both available. 
```

* * *

注意：[自 2013 年 4 月以来](https://help.github.com/articles/user-organization-and-project-pages)，这将是 username.github.io

# syntax-highlighting - Is there a way to convert syntax highlighting file from TextPad to gedit?

> ID：13025985
> 
> 赞同：1
> 
> 时间：2012-10-23T08:06:20.440
> 
> 标签：syntax-highlighting, gedit, textpad

Is there any script available which automatically translates a .syn file used by TextPad into a .lang file used by GtkSourceView in gedit? Or at least, any recursive pattern which may be easily substituted?

thanks for your help

# iphone - 我们可以限制某些网站在网页视图中打开吗

> ID：13025986
> 
> 赞同：0
> 
> 时间：2012-10-23T08:06:35.457
> 
> 标签：iphone, ios, uiwebview

我希望在我的应用程序中不要在 Web 视图中打开某些特定站点。那么我们可以以这种方式限制任何网站吗？我想再添加一件事，我想完全限制网站而不是任何特定页面。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T08:12:10.370

是的，您可以在此 UIWebview 委托方法中阻止页面加载。请记住将类设置为 webviews 委托。`webView.delegate = self;`, 并且类需要是`UIViewController <UIWebViewDelegate>`

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
{
    if ([request.URL.absoluteString rangeOfString:@"google"].length != 0) {
        // maybe show a UIAlertView to indicate the page is blocked?
        return NO;  
    }else {
        return YES;
    }
} 
```

编辑：现在它检查 URL 中是否提到了 google，如果它包含 Google，则阻止它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:56:51.603

一点改进：将要阻止的网站保存在 NSArray 中：

```
NSArray *restrictedSites = [NSArray arrayWithObjects:@"http://www.google.com", @"http://www.google.co.uk", nil]; 
```

现在检查请求的网站是否是受限制的网站之一：

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
{
    NSString *site = request.URL.absoluteString

    for(NSString *str in restrictedSites)
    {
        if ([site isEqualToString:str]) 
        {
            return NO;
        }
    }
    return YES;
} 
```

或者，您可以检查请求的网站是否包含 URL。在以下情况下，所有包含“http://www.google”或“http://www.apple”的网址都将被屏蔽：

首先创建受限站点数组：

```
NSArray *restrictedSites = [NSArray arrayWithObjects:@"http://www.google", @"http://www.apple", nil]; 
```

现在检查请求的网站是否包含受限制的网站之一（没有 .com 或 .co.uk 等...）：

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
{
    NSString *site = request.URL.absoluteString

    for(NSString *str in restrictedSites)
    {
        if ([site rangeOfString:str].location != NSNotFound) 
        {
            return NO;
        }
    }
    return YES;
} 
```

所以在这里，所有的[http://www.google.com](http://www.google.com)、[http://www.google.fr](http://www.google.fr)、[http://www.google.co.uk](http://www.google.co.uk)都会被屏蔽。

# c++ - C++ access multiple members by array

> ID：13025990
> 
> 赞同：2
> 
> 时间：2012-10-23T08:06:57.973
> 
> 标签：c++

Lot's of year from last project in C++, I cannot remember/find how to do this.

Sample (pseudo code) :

```
 MyClass
    {
    public :
        float x;
        float y;
        float z;
    }

    main.cpp

    void MyFunction(void)
    {
        MyClass *myclass = new MyClass(); 
        float x = myclass->x;

        //want I want :
        float *xyz = myclass->xyz;
    } 
```

How to do this ?

Thank you very much and sorry for my poor english.

[EDITED] It's only a concept now, but the goal, is near the vec4 class in GLSL (OpenGL Shader for GPU). Vec4 is a math vector class with four values (x, y, z, w). You can get/assign value like this sample :

```
vec4 vectorA = vec4(1.0, 1.0, 1.0, 1.0);
vectorA.x = 2.0;
vec2 vectorB = vectorA.xy;
vec3 vectorC = vectorA.xxx; 
```

etc. (so : VectorC.x = 2.0, vectorC.y = 2.0, vectorC.z = 2.0)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-23T08:24:09.183

使用[未命名的结构](http://gcc.gnu.org/onlinedocs/gcc/Unnamed-Fields.html)：

```
union Vector
{
    struct 
    {
        float x;
        float y;
        float z;
    };
    float xyz[3];
}; 
```

然后您可以访问组件而无需隐式引用包含结构：

```
int main()
{ 
    Vector* vec = new Vector();
    vec->x = 50;
    vec->y = 30;
    vec->xyz[2] = vec->xyz[0] + vec->xyz[1]; // vec->z == 80
    delete vec;
    return 0;
} 
```

当然，你可以用另一个结构/类包装这个联合，达到同样的效果：

```
class MyClass
{
public:
    union
    {
        struct 
        {
            float x;
            float y;
            float z;
        };
        float xyz[3];
    };
}; 
```

另外，为什么要在堆上创建结构（使用“new”）？不会在堆栈上分配吗？

编辑：哦，我明白了。好吧，这绝对是可行的，但*只有*在您希望尽可能多地与 GLSL 兼容时才值得。这个想法是创建一个“代理”来存储每个组件变体的引用。权衡是 vec2，而不是占用 8 个字节的内存将占用 40 个字节。对于 vec3 和 vec4 显然会变得更糟

```
class vec2
{
    // private proxy, auto-convertible into vec2
    struct proxy2
    {
        // store references, not values!
        proxy2(float &x, float &y) : x(x), y(y) {}
        // implicit conversion to vec2
        operator vec2() { return vec2(x, y); }
        // support assignments from vec2
        proxy2& operator=(const vec2& vec) 
        { 
            x = vec.x; 
            y = vec.y; 
            return *this; 
        }
    private:
        // hide copy and assignment operators
        proxy2(const proxy2&);
        proxy2& operator=(const proxy2&);
        // hide member variables
        float& x;
        float& y;
    };

public:
    vec2(float _x, float _y) 
        : x(_x), y(_y) 
        , xx(x, x), xy(x, y), yx(y, x), yy(y, y)
    {}

    vec2(const vec2& vec)
        : x(vec.x), y(vec.y)
        , xx(x, x), xy(x, y), yx(y, x) , yy(y, y)
    {}

    float x;
    float y;
    proxy2 xx;
    proxy2 xy;
    proxy2 yx;
    proxy2 yy;
}; 
```

通过这个类，您可以获得非常接近 GLSL 提供的语法：

```
vec2 v(1.0f, 2.0f);
vec2 vxx = v.xx; // 1, 1
vec2 vyx = v.yx; // 2, 1
vec2 vxy = v.xy; // 1, 2
vec2 vyy = v.yy; // 2, 2

v.yx = vec2(3, 4); // 4, 3
v.y = 5;           // 4, 5

vec2::proxy2 proxy = v.xx;     // compile error
v.xx = vec2::proxy2(v.x, v.y); // compile error 
```

要将其扩展为支持`vec3`并`vec4`简单地从`vec2`和派生`vec3`，请为每个组件变体创建`proxy3`和`proxy4`构造并声明成员（27`vec3`个，仅 64 个`vec4`）。

EDIT2：新版本，根本不占用额外空间。再次，工会来救援！转换`proxy2`为模板并添加与`vec2`组件​​匹配的数据成员，您可以安全地将其放入联合中。

```
class vec2
{
    // private proxy, auto-convertible into vec2
    template <int x, int y>
    struct proxy2
    {
        // implicit conversion to vec2
        operator vec2()
        { 
            return vec2(arr[x], arr[y]); 
        }
        // support assignments from vec2
        proxy2& operator=(const vec2& vec) 
        { 
            arr[x] = vec.x; 
            arr[y] = vec.y; 
            return *this; 
        }
    private:
        float arr[2];
    };

public:
    vec2(float _x, float _y) 
        : x(_x), y(_y) 
    {}

    vec2(const vec2& vec)
        : x(vec.x), y(vec.y)
    {}

    union
    {
        struct 
        {
            float x;
            float y;
        };
        proxy2<0, 0> xx;
        proxy2<0, 1> xy;
        proxy2<1, 0> yx;
        proxy2<1, 1> yy;
    };
}; 
```

希望这就是你所追求的。

EDIT3：我花了一段时间，但我想出了[一个有效的 GLSL 仿真库（包括 swizzling），让您](https://github.com/gwiazdorrr/CxxSwizzle)*无需修改*​​即可运行片段着色器。如果你仍然感兴趣，你应该看看。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-23T08:38:19.453

C++ 可以容纳类似`vec.xyx`的语法，但编写起来并不容易。而且您不会通过一项一项添加功能来实现这一目标。最好列出需求，选择工具，直截了当。

你需要什么：

1.  像这样的存储类`std::array`
2.  成员名为`x`, `y`, ... `xy`, `xz`, ... `xyz`, `xzx`, ...</li>
3.  将这些成员转换为所需输出的东西
4.  为输出提供所需语义的类型

第一个要求很简单：使用`std::array`.

接下来，您必须定义 3 + 3^2 + 3^3 = 39 个成员。这可以通过复制粘贴来完成，但最好使用模板元编程。有`z`会员是必须的。

成员的类型没有意义，但必须告诉编译器如何从数组中选择命名元素。

例子：

```
selection_vector< 0, 1, 0 > xyx;
selection_vector< 0, 1, 1 > xyy; // ad nauseam 
```

理想情况下，这些成员会知道如何选择没有状态的元素，但它们需要被初始化`this`并占用一个指针。因此请注意，每个 3 向量对象会浪费 312 个字节。

要让成员做某事，你必须定义转换函数。所以你有类似的东西

```
selection_vector::operator array3_type() { return { ptr[0], ptr[1], ptr[2] }; } 
```

隐式转换函数在执行赋值和作为函数参数传递时适用`this`，但在许多其他情况下不适用。所以要获取`vec.xyx.x`或者类型就需要定义额外`vec.xyx[ 1 ]`的成员。`selection_vector`

一旦你定义了疯狂类型和运算符重载的网络，你就可以节省一些击键......</p>

## 轻微妥协

听起来您并不想妥协，但`->*`运营商值得一提。这是实现下标的最佳非成员运算符重载。

这允许像

```
xyx_type xyx;

template< typename vec >
my_3vector< vec > operator->* ( vec &&v, xyx_type )
    { return { v[0], v[1], v[2] }; }

std::array< float, 3 > a { 0.5, 1.5, 9 };

my_3vector< … > b = a->*xyx; 
```

您甚至可以`my_3vector`简单地制作`std::array`并避免任何模板元编程。`xyx_type`进行枚举以避免预处理器元编程。

操作员`->*`代表。`.`这让事情变得容易多了，但请注意，这`->*`有一个有趣的优先级；它低于`.`并且`->`您期望它是对等的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-12T17:12:24.923

这是另一种可能的解决方案，与@gwiazdorrr 发布的基于联合的示例略有不同。它假设

```
#include <cassert>
#include <algorithm>
#include <stdexcept>

struct MyClass
{
    enum { size = 3 };

    typedef float& reference;
    reference x;
    reference y;
    reference z;

    MyClass() 
        : x(xyz[0] = 0), y(xyz[1] = 0), z(xyz[2] = 0)
    {}
    MyClass(float x, float y, float z)
        : x(xyz[0] = x), y(xyz[1] = y), z(xyz[2] = z)
    {}
    MyClass& operator=(MyClass const& other)
    {
        std::copy(other.xyz, other.xyz + size, xyz);
        return *this;
    }

    // convenient indexed access
    reference operator[](std::size_t index)
    {
        if (index < size)
            return xyz[index];
        else
            throw std::out_of_range("index not less than size");
    }

    // raw data access
    float* data() { return xyz; }

private:
    float xyz[size];
};

int main()
{
    MyClass c1;
    MyClass c2(1, 2, 3);
    c1 = c2;
    assert(c1.data()[0] == c2[0]);
    assert(c1.data()[1] == c2[1]);
    assert(c1.data()[2] == c2[2]);

    MyClass c3(c2);
    assert(c2[0] == c3.x);
    assert(c2[1] == c3.y);
    assert(c2[2] == c3.z);
} 
```

我假设无法访问 C++11，因此构造函数中的初始化体操。

# haskell - Haskell Error when using readsPrec -> Could not match type

> ID：13025992
> 
> 赞同：-1
> 
> 时间：2012-10-23T08:07:05.570
> 
> 标签：haskell, types, input, instance

I tried several hours from now to implement a custom read function for this data structure:

```
data Term = Monom(Float, Integer)
        | Addition(Term, Term) 
        | Subtraktion(Term, Term)
        | Multiplikation(Term, Term) 
        | Division(Term, Term) 
```

The idea behind the read function is to parse infix-terms like `(+ (+ Monom Monom) Monom)`. For now I tried Monoms which are numbers like `2` which translate to `Monom(2,0)`, not expressions like `2x^5` which would translate to `Monom(2,5)`.

```
instance Read Term where 
    readsPrec _ inp = let [(a,b)] = lex inp in
        case a of
        -- these are control characters for making the input look nicer
        "(" -> readsPrec 0 b
        ")" -> readsPrec 0 b
        " " -> readsPrec 0 b
        -- end character -> nothing to do here
        ""  -> []
        -- operators
        "+" -> let res = readsPrec 0 b in [Addition(res)]  
        "-" -> let res = readsPrec 0 b in [Subtraktion(res)]
        "*" -> let res = readsPrec 0 b in [Multiplikation(res)]
        "/" -> let res = readsPrec 0 b in [Division(res)]
        -- monom
        c -> let res  = readsPrec 0 b in [Monom(read c::Float,0),res] 
```

Sadly this does not work, due to this error (which occurs in the Addition and other Operators):

```
Couldn't match expected type `(Term, String)'
            with actual type `Term'
In the return type of a call of `Addition'
In the expression: Addition (res)
In the expression: [Addition (res)] 
```

Can you please give hints how fix the source? I have no Idea why the expected type is `(Term,String)` and how to fix it in a appropriate way.

Thanks for your help!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T09:07:21.940

`readsPrec`for`Term`应该返回`[(Term, String)]`。所以你返回的地方`[Addition (res)]`，你需要`[(Term, String)]`但实际上有一个`[Term]`. 请注意，参数也是错误的：`res`is a `[(Term, String)]`，但`Addition(res)`您需要它是`(Term, Term)`，因此您需要稍后修复它。

# c++ - Get available physical drives on local machine

> ID：13025994
> 
> 赞同：3
> 
> 时间：2012-10-23T08:07:13.637
> 
> 标签：c++, c, winapi

I am trying to get all the physical drives available on local machine. I tried to use `GetLogicalDrives()` but when i'm using this function it gets me also drives that physically not available on the machine, for example floppy drive A. Here is my code:

```
void FindDrives()
{
    DWORD drives = GetLogicalDrives();
     for (int i=0; i<26; i++)
     {
        if( ( drives & ( 1 << i ) ) )
        {
           wchar_t driveName[] = { L'A' + i, L':', L'\\', L'\0'};
           std::wcout << driveName << std::endl;
        }
     }
} 
```

How can I get only physically available drives?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T08:14:36.707

尝试使用[wmic](http://ss64.com/nt/wmic.html)

```
wmic diskdrive list 
```

了解较少的信息

```
wmic diskdrive list brief 
```

或者，在 c 中，首先使用 GetLogicalDrives() 来获取系统中映射的所有驱动器，然后使用 GetDriveType() 来找出每个驱动器是哪种类型的驱动器。然后按照你的意愿进行排序。

# c++ - List of things that cant be portably(Win/Linux) implemented with C++11 +Boost?

> ID：13025995
> 
> 赞同：3
> 
> 时间：2012-10-23T08:07:15.023
> 
> 标签：c++, boost, c++11, portability

as a zealous fan of portable C++ :) I recommended to my boss to try to implement one project with C++11 and Boost(Instead of relying on #if and OS specific stuff), and Im confident we can do it with C++11 + Boost.

Now (as a fan of generalizing:) ) Im wondering what are the things that **can't** be done portably with c++11 + boost.

Afaik std::atomic removes need for Interlocked*, boost has ASIO for sockets, std and boos have threads and mutexes, boost has filesystem...

EDIT: ignore reality of partial support of C++11, lets assume total C++11 compiler support.

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-23T08:11:13.367

实际上，这取决于您在 Windows 和 Linux 中使用的编译器。

[您可以在此处](https://wiki.apache.org/stdcxx/C++0xCompilerSupport)查看支持矩阵。有了它，您将确切地知道您将能够使用哪些功能，具体取决于您在 Linux 和 Windows 中的编译器。

# c# - 单击“异步”方法按钮后，我的窗口没有保持活动状态

> ID：13025997
> 
> 赞同：1
> 
> 时间：2012-10-23T08:07:21.190
> 
> 标签：c#, wpf, async-await

我有以下代码：

```
public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
    }

    private void Button_Click_1(object sender, RoutedEventArgs e)
    {
        this.Background = Brushes.Red;
    }

    private void Button_Click_2(object sender, RoutedEventArgs e)
    {
        int res = WaitFiveSecMethod();
        this.text2.Text = res.ToString();
    }

    private int WaitFiveSecMethod()
    {
        Thread.Sleep(5000);
        return 5;
    }

    private async void Button_Click_3(object sender, RoutedEventArgs e)
    {
        var res = await WaitFiveSecMethodAsync();
        this.text1.Text = res;

    }

    private async Task<string> WaitFiveSecMethodAsync()
    {
        Thread.Sleep(5000);
        return "5";
    }

} 
```

我想展示单击“同步”按钮（按钮 2）和单击“异步”按钮（按钮 3）之间的区别。单击两个按钮应该执行相同的耗时计算（在我的例子中，用“Thread.Sleep(5000)”表示）。目前使用异步和等待让我的客户卡住我认为这些关键字不应该阻止我的客户线程。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T08:31:56.230

您的以下代码同步工作并阻止 UI，而不是异步：

```
private async Task<string> WaitFiveSecMethodAsync()
{
    Thread.Sleep(5000);
    return "5";
} 
```

请记住 async 只负责启用`await`关键字，如果您没有`await`，`async`则没有意义并转向同步。因此，async 方法内部必须至少有一个`await`关键字。

更好的方法是，您应该通过*等待*不会阻塞您的 UI 线程来*延迟：* *`Task.Delay`*

 *```
private async Task<string> WaitFiveSecMethodAsync() 
{ 
    await Task.Delay(5000); 
    return "5"; 
} 
```*

# php - 在 php 中从在线系统在本地计算机中创建一个文件夹

> ID：13025999
> 
> 赞同：-1
> 
> 时间：2012-10-23T08:07:36.867
> 
> 标签：php

我想从在线系统中保存一个文件并将其保存到特定的，例如。C:/我的文件夹/。因此，如果 C:/ 中没有 myFolder 名称，系统会自动检测并创建 C 盘中的文件夹，并将文件保存到该文件夹​​中。当我在本地尝试系统时，它可以将文件夹和文件创建到 C 驱动器中。

但是当它将我的文件上传到服务器时，该文件夹是在服务器中创建的，而不是在本地计算机中。谁能帮我解决这个问题？如何在本地计算机中创建一个文件夹并将文件从在线系统保存到该文件夹​​中？

以下是系统在本地运行时的代码：

```
$directory = 'C:/sales/'.$filename.'.txt';

$path_name = 'C:/sales/';

if ( ! is_dir($path_name)) {
    mkdir($path_name);
}

if(mysql_num_rows($query))
{
    $fp = fopen($directory, 'w');

    if($fp)
    {
        for($i = 0; $i < mysql_num_rows($query); $i++)
        {
            $f = mysql_fetch_array($query);

            $orderFee_q = mysql_query("select * from sales_order where status in ('waiting', 'waiting1', 'waiting2', 'approved') and outstanding = 'N' order by so_no desc");
            $get_orderFee = mysql_fetch_array($orderFee_q);

            $line = $f["id"]."\t".$f["so_no"];

            if(trim($line) != '') {fputs($fp, $line."\r\n");}
        }
    }

    fclose($fp);
}

$download_name = basename($filename);

if(file_exists($filename))
{
header('Content-Description: File Transfer');
header('Content-Type: application/force-download');
header('Content-Transfer-Encoding: Binary');
header("Content-Disposition: attachment; filename=".$download_name);
header('X-SendFile: '.$filename);
header('Pragma: no-cache');
header("Expires: 0");
readfile($filename);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T08:09:18.483

简单地说，你不能用 php 或任何其他服务器端语言来做到这一点。

编辑：原因是简单的服务器端应用程序和脚本只能访问它们启动的本地资源。因此，当您在本地计算机上运行应用程序时，一切都会如您所愿。但是由于 HTTP 的工作方式以及出于安全原因，您无法访问用户本地文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T08:23:35.143

您无法告诉用户将您发送的文件保存在哪里。即使使用 JavaScript。服务器站点语言可以默认操作服务器上的文件，而不是客户端机器上的文件。但是无论如何，没有客户端的许可是不可能访问客户端的文件的。这可能由 ActiveX 组件完成，但客户端应同意并接受此操作。否则到目前为止，您的计算机将比您的文件具有更多病毒。因此，浏览器为安全浏览提供了受保护的环境。您已经设置了要发送的文件的名称......所以这是您在服务器端可以做的最大可能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T08:14:54.490

您可以创建一个与您的服务器交互的桌面应用程序，这将允许您执行类似的操作。