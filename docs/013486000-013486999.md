# StackOverflow 问答 13486000-13486999

# r - 成对相关表

> ID：13486000
> 
> 赞同：15
> 
> 时间：2012-11-21T03:42:14.650
> 
> 标签：r, statistics, stata, spss

我是 R 新手，所以如果这是一个简单的问题，我深表歉意，但是我今晚做了很多搜索，似乎无法弄清楚。我有一个包含大量变量的数据框，我想做的是创建这些变量子集之间的相关性表，基本上相当于 Stata 中的“pwcorr”，或“相关性” SPSS。这样做的一个关键是，我不仅想要 r，而且还想要与该值相关的重要性。

有任何想法吗？这似乎应该很简单，但我似乎想不出一个好方法。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-21T05:21:21.393

Bill Venables 在 R 邮件列表中的[这个答案](https://stat.ethz.ch/pipermail/r-help/2001-November/016201.html)中提供了这个解决方案，我对它做了一些轻微的修改：

```
cor.prob <- function(X, dfr = nrow(X) - 2) {
  R <- cor(X)
  above <- row(R) < col(R)
  r2 <- R[above]^2
  Fstat <- r2 * dfr / (1 - r2)
  R[above] <- 1 - pf(Fstat, 1, dfr)

  cor.mat <- t(R)
  cor.mat[upper.tri(cor.mat)] <- NA
  cor.mat
} 
```

所以让我们测试一下：

```
set.seed(123)
data <- matrix(rnorm(100), 20, 5)
cor.prob(data)

          [,1]      [,2]      [,3]      [,4] [,5]
[1,] 1.0000000        NA        NA        NA   NA
[2,] 0.7005361 1.0000000        NA        NA   NA
[3,] 0.5990483 0.6816955 1.0000000        NA   NA
[4,] 0.6098357 0.3287116 0.5325167 1.0000000   NA
[5,] 0.3364028 0.1121927 0.1329906 0.5962835    1 
```

这与cor.test一致吗？

```
cor.test(data[,2], data[,3])

 Pearson's product-moment correlation
data:  data[, 2] and data[, 3] 
t = 0.4169, df = 18, p-value = 0.6817
alternative hypothesis: true correlation is not equal to 0 
95 percent confidence interval:
 -0.3603246  0.5178982 
sample estimates:
       cor 
0.09778865 
```

似乎工作正常。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-08-24T04:20:55.340

这是我刚刚制作的东西，我偶然发现了这篇文章，因为我正在寻找一种方法来获取每一对变量，并获得一个整洁的 nX3 数据框。第 1 列是变量，第 2 列是变量，第 3 列和第 4 列是它们的绝对值和真实相关性。只需将数值和整数值的数据框传递给函数即可。

```
 pairwiseCor <- function(dataframe){
  pairs <- combn(names(dataframe), 2, simplify=FALSE)
  df <- data.frame(Vairable1=rep(0,length(pairs)), Variable2=rep(0,length(pairs)), 
                   AbsCor=rep(0,length(pairs)), Cor=rep(0,length(pairs)))
  for(i in 1:length(pairs)){
    df[i,1] <- pairs[[i]][1]
    df[i,2] <- pairs[[i]][2]
    df[i,3] <- round(abs(cor(dataframe[,pairs[[i]][1]], dataframe[,pairs[[i]][2]])),4)
    df[i,4] <- round(cor(dataframe[,pairs[[i]][1]], dataframe[,pairs[[i]][2]]),4)
  }
  pairwiseCorDF <- df
  pairwiseCorDF <- pairwiseCorDF[order(pairwiseCorDF$AbsCor, decreasing=TRUE),]
  row.names(pairwiseCorDF) <- 1:length(pairs)
  pairwiseCorDF <<- pairwiseCorDF
  pairwiseCorDF
  } 
```

这就是输出：

```
 > head(pairwiseCorDF)
             Vairable1        Variable2 AbsCor     Cor
    1        roll_belt     accel_belt_z 0.9920 -0.9920
    2 gyros_dumbbell_x gyros_dumbbell_z 0.9839 -0.9839
    3        roll_belt total_accel_belt 0.9811  0.9811
    4 total_accel_belt     accel_belt_z 0.9752 -0.9752
    5       pitch_belt     accel_belt_x 0.9658 -0.9658
    6 gyros_dumbbell_z  gyros_forearm_z 0.9491  0.9491 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-06-22T18:42:03.327

我发现 R 包 picante 可以很好地解决您遇到的问题。您可以轻松地将数据集传递给 cor.table 函数，并获取所有变量的相关性和 p 值表。您可以在函数中指定 Pearson 的 r 或 Spearman。请参阅此链接以获取帮助： http: [//www.inside-r.org/packages/cran/picante/docs/cor.table](http://www.inside-r.org/packages/cran/picante/docs/cor.table)

还记得在运行函数之前从数据集中删除任何非数字列。这是一段示例代码：

```
install.packages("picante")
library(picante)
#Insert the name of your dataset in the code below
cor.table(dataset, cor.method="pearson") 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-07-02T12:51:11.577

您可以使用[sjPlot-package](http://cran.r-project.org/package=sjPlot)`sjt.corr`的功能，它为您提供格式精美的相关表，可以在您的 Office 应用程序中使用。

最简单的函数调用就是传递数据框：

```
sjt.corr(df) 
```

请参阅[此处的示例](http://www.strengejacke.de/sjPlot/sjt.corr/)。

# php - facebook 图形 api 图片 - 使用 .jpg 获取完整网址

> ID：13486001
> 
> 赞同：0
> 
> 时间：2012-11-21T03:42:18.830
> 
> 标签：php, facebook, facebook-graph-api

我可以通过`id`像这样访问用户，使用图形 api 从 FB 访问我的用户图像：
`https://graph.facebook.com/<USER_ID>/picture`

但是，为了使我的代码正常工作，我需要图像的真实路径，如
`http://profile.ak.fbcdn.net/hprofile-ak-snc6/******_**************_********_q.jpg`

[FBs doc](http://developers.facebook.com/docs/reference/api/using-pictures/)显示，通过添加`?callback=foo`我可以获得输出，但是在练习它似乎不起作用。任何有关从或 使用该扩展名

获取我的图像的完整路径的建议，谢谢。`.jpg``graph api``user id`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T03:47:44.393

回调用于 javascript 请求，

对于 php，请尝试`redirect=false`在 url 中附加一个。

做一个 curl 请求，

[https://graph.facebook.com/shaverm/picture?redirect=false](https://graph.facebook.com/shaverm/picture?redirect=false)

如果你想在 js 中使用回调，

```
$.getJSON('https://graph.facebook.com/zuck/picture?callback=?',function (resp) {
    $('body').html(resp.data.url);
});​ 
```

[演示](http://jsfiddle.net/jashwant/4Vh9b/)

[参考](http://developers.facebook.com/docs/reference/api/using-pictures/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-22T10:23:45.200

**使用以下方法，您永远不会得到错误的结果 **

```
$URL='FB GRAPH API URL';
$headers = get_headers($URL, 1); // make link request and wait for redirection
    if(isset($headers['Location'])) {
      $URL = $headers['Location']; // this gets the new url
    }
    $url_arr = explode ('/',$URL);
    $ct = count($url_arr);
    $name = $url_arr[$ct-1];
    $name_div = explode('.', $name);
    $ct_dot = count($name_div);
    $img_type = $name_div[$ct_dot -1];
    $pos = strrpos($img_type, "&");//many time you got in url
    if($pos)
    {
        $pieces = explode("&", $img_type);
        $img_type = $pieces[0];

    }

    $imagename = imgnameyouwant'.'.$img_type;
    $content = file_get_contents($URL);
    file_put_contents("fbscrapedimages/$imagename", $content); 
```

# xcode - Objective C/Xcode/AppleScript：在 AppleScript 中从 NSDatePicker 获取日期值/字符串

> ID：13486003
> 
> 赞同：0
> 
> 时间：2012-11-21T03:42:32.557
> 
> 标签：xcode, macos, applescript, nsdatepicker

我的 Mac 应用程序中有一个 NSDatePicker 对象（仅限小时、分钟和秒）。我把所有东西都联系起来了，我唯一的问题是从 NSDatePicker 对象中检索日期/字符串的 AppleScript 语法是什么？然后我想使用 AppleScript 关键字“say”来说出所选日期。AppleScript 代码在我的应用程序 GUI 中按下“Speak Date”按钮时执行。

谢谢你。

最好的...SL

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T15:16:57.600

在您的 Cocoa 应用程序中，尝试以下操作：

```
NSAppleScript *script = [[NSAppleScript alloc] initWithSource:[NSString stringWithFormat:@"say \"%@\"", [[yourDatePicker dateValue] description]]];
[script executeAndReturnError:nil]; 
```

# .htaccess - zcreating htaccess for subdomain

> ID：13486008
> 
> 赞同：0
> 
> 时间：2012-11-21T03:42:50.497
> 
> 标签：.htaccess, zebra-printers

目前我们拥有像 www.mydomain.com 这样的域，在此我们创建像 subdomain.mydomain.com 这样的子域

在主域中，我们有单独的站点和 htaccess 文件，而在子域中，我们有单独的站点和 htaccess 文件

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} -s [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^.*$ - [NC,L]
#RewriteRule ^.*$ index.php [NC,L]
RewriteRule .* index.php 
```

这是我在子域中的 htaccess 文件，用于将页面重定向到子域索引页面，但它重定向到 www.mydomain.com 索引页面 如何为 sum 域编写 htaccess，这个 htaccess 文件有什么问题

我们正在使用**Zend 框架**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T11:00:38.370

它不是`mod_rewrite`（引用的配置），重定向到主站点的是什么。检查您的 Zend Framework 应用程序配置和/或可能的其他重写规则。

# c++ - 为什么 C++ 允许将指向基对象的指针转换为派生类的指针

> ID：13486010
> 
> 赞同：0
> 
> 时间：2012-11-21T03:43:10.430
> 
> 标签：c++, pointers, inheritance

> **可能重复：**
> [在 C++ 中使用 Static_cast 向下转换](https://stackoverflow.com/questions/6322949/downcasting-using-the-static-cast-in-c)

我很困惑我们什么时候需要将指向基对象的指针转换为派生类的指针？谁能帮我举个例子？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T03:45:56.930

你在说什么样的*转换*？

如果它是关于*向下转换*（或*动态转换*，它是同一类型但在运行时验证），那么您可以通过强制执行您指定的类型来强制类型检查器不检查该特定类型。

这意味着它是代码内部的潜在中断，该特定指令中缺少保证的类型安全性，但有时需要它，即使一个好的设计不应该先验地需要它。

必要性是因为如果没有强制转换，即使您确定指向基类的指针包含派生类，也不允许调用派生类的任何方法（但编译器无法验证它） ）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:09:04.430

**WHEN**

so heres an example:

say you have a factory (an animal factory) that you can send it a string or an enum of what type of object you want...

"Hey Animal Factory, give me a 'Dog'"

there are two ways to write your factory...

You could write a function for every animal like so (good programmers dont do this):

*   Dog* GetDog();
*   Cat* GetCat();
*   Etc

or you could write a factory with one function like so (dont think about generics for now):

*   Animal* GetAnimal(string animalType);

You know that Animal is actually a dog or cat so you can typecast it to what you need it to be **WHEN** you need to access the members of Dog or Cat...

My Favorite thing to do in C++ is the temporary cast to get into something (excuse my C++ its rusty)

```
Animal* myAnimal = Factory.GetAnimal("Dog");
int barkVolume = ((Dog*)myAnimal).BarkVolume; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T04:10:10.373

Imagine you have a base class `Animal` and two derived classes, `Cat` and `Dog`.

```
// Assume methods are public.
class Animal { virtual void Attack(); }
class Dog : public Animal { void Meow(); }
class Cat : public Animal { void Bark(); } 
```

We can use *base class* pointers to reference our derived objects. This helps as we can now contain them as the same type.

```
Animal* myCat = new Cat;
Animal* myDog = newDog;
std::vector<Animal*> myAnimals;
myAnimals.push_back(myCat);
myAnimals.push_back(myDog); 
```

This is useful, as we can call base member functions all all kinds of animals, regardless of their derived class types.

```
// Call Attack() on every cat and dog.
for_each(myAnimals.begin(), myAnimals.end(), [](auto& e) { e->Attack(); }); 
```

You can use *dynamic casting* to test if one of the base pointers can be converted into a derived class pointer.

```
Cat* realCat = dynamic_cast<Cat*> myAnimals[0]; // Success. Pointer is valid.
Cat* fakeCat = dynamic_cast<Cat*> myAnimals[1]; // Failure, it's not a cat. NULL. 
```

You can now call your member methods, such as `Meow()` from the derived class pointers. This was not possible before, as `Animal` does not have these methods.

```
realCat->Meow(); // Valid.
myCat->Meow(); // Animal*, there is not Meow() method. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T03:46:04.943

您需要这样做才能访问基类中不存在的派生类成员。不过，有了良好的编程实践和泛型，您可能不应该将指针类型化为基类。

# ios - 在 iOS 中格式化月份和年份

> ID：13486013
> 
> 赞同：2
> 
> 时间：2012-11-21T03:43:23.250
> 
> 标签：ios, ipad, nsdate, nsdateformatter, nsdatecomponents

我只想在我的 iPad 应用程序中显示当前月份和年份，例如“2012 年 11 月”，为此我目前正在将月份格式化为“MMMM”，将年份格式化为“yyyy”并将它们连接起来。这适用于大多数地区，但不适用于“中国”地区。

我当前的代码将“中国”地区的月份和年份显示为，

![在此处输入图像描述](../Images/07a610ea25443e87b8dda8426f6abf3a.png)

然而，这是不对的。正如它应该显示在 iOS 日历应用程序中一样，

![在此处输入图像描述](../Images/fa0e46a8a209d80746e4e3372343d1f0.png)

关于如何实现这一点的任何想法？

编辑1：

```
NSDate *date = [NSDate date];

NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
dateFormatter.dateFormat=@"MMMM";
NSString * monthString = [[dateFormatter stringFromDate:date] capitalizedString];
dateFormatter.dateFormat=@"yyyy";
NSString * yearString = [[dateFormatter stringFromDate:date] capitalizedString];

lblMonthAndYear.text = [NSString stringWithFormat:@"%@ %@",monthString,yearString]; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T03:53:25.170

我认为您的日期格式化程序根本不使用语言环境，这里的关键是使用当前语言环境创建模板，而不仅仅是格式字符串，例如：

```
NSString *dateFormat = [NSDateFormatter dateFormatFromTemplate:@"MMMM d"
                                                       options:0
                                                        locale:[NSLocale currentLocale]];
dateFormatter = [[NSDateFormatter alloc] init];
dateFormatter.dateFormat = dateFormat; 
```

# django - Django 和 Celery 的混淆

> ID：13486015
> 
> 赞同：1
> 
> 时间：2012-11-21T03:43:23.283
> 
> 标签：django, celery, django-celery

在阅读了很多博文之后，我决定从 crontab 切换到 Celery 来完成我的中型 Django 项目。我有一些我不明白的事情：

1- 我打算启动一个专用于 RabbitMQ 的微型 EC2 实例，这对于中小型繁重任务是否足够？（例如向 Amazon SES 发送定期电子邮件）。

2-任务的计算，任务的计算发生在Django服务器还是rabbitMQ服务器上（假设rabbitMQ在单独的服务器上）？

3-当我需要扩展我的系统并在负载均衡器后面有 2 个或更多应用程序服务器时，这两台 celery 机器是否需要连接到同一个 rabbitMQ vhost？假设应用程序服务器是副本并且任务相同并且一切都在数据库级别上同步。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-06T15:45:23.733

1.  我不知道这个问题的答案，但您绝对可以将其配置为合适的（例如`-c1`，用于单个进程工作者以避免使用大量内存，或 eventlet/gevent 池），另请参阅该`--autoscale`选项。代理传输的选择在这里也很重要，不轮询的那些 CPU 效率更高（rabbitmq/redis/beanstalk）。

2.  计算发生在工人身上，代理只负责接受、路由和传递消息（并在必要时将消息持久化到磁盘）。

3.  要添加额外的工作人员，这些工作人员确实应该连接到同一个虚拟主机。如果您希望应用程序具有单独的消息总线，您将只使用单独的虚拟主机。

# android - 应用程序在后台时广播接收器不活动

> ID：13486026
> 
> 赞同：3
> 
> 时间：2012-11-21T03:45:50.607
> 
> 标签：android, broadcastreceiver

我有一个通过清单文件注册的广播接收器。基本上，它会在互联网连接打开/关闭时激活。它在启动和关闭时显示 Toast。

但是，当我的应用程序在后台（按下主页按钮）时，我不希望显示此 Toast。我怎样才能做到这一点？我不介意广播是否仍在注册，但我需要一种方法来知道我的应用程序不可见，因此我禁用了 Toast。

非常感谢

```
 ConnectivityManager connManager = (ConnectivityManager)context.getSystemService(context.CONNECTIVITY_SERVICE);
        NetworkInfo active_nwInfo = (NetworkInfo) connManager.getActiveNetworkInfo();

if(active_nwInfo == null || !active_nwInfo.isConnected()) {
            //broadcast.putExtra("action", "no_connection");
            Toast.makeText(context, "No Internet Connection", Toast.LENGTH_LONG).show();

        }else {
            //broadcast.putExtra("action", "new_connection");
            Toast.makeText(context, "Internet Connection", Toast.LENGTH_LONG).show();

        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T05:33:02.683

您可以创建一个**Activity** ，例如**BaseActivity**（当然它扩展了 Activity）。在此 Activity 的**onResume()**和**onPause()方法中，您可以设置一个****布尔变量**，就像 Anup Cowkur 在他的回答中所做的那样。

现在您可以**从 BaseActivity** 而不是 Activity 类扩展您的所有活动。因此，在**BroadcastReceiver的****onReceive()**函数中，您可以首先检查此布尔变量并仅在“真”时显示 Toast。

 **这些链接很有帮助：

[检查Android应用程序是否在后台运行](https://stackoverflow.com/questions/3667022/android-is-application-running-in-background/5862048#5862048)

[为什么即使应用程序处于后台，BroadcastReceiver 也能正常工作？](https://stackoverflow.com/questions/12274997/why-broadcastreceiver-works-even-when-app-is-in-background)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T03:54:53.297

在您的活动中，在 onPause() 中取消注册您的接收器，然后在 onResume() 中再次注册它

```
@Override
protected void onPause() {
    mLocalBroadcastManager.unregisterReceiver(mReceiver);
    super.onPause();
}

@Override
protected void onResume() {
    mLocalBroadcastManager.registerReceiver(mReceiver, filter);
    super.onResume();
} 
```

我只是使用 LocalBroadcastManager 进行演示，将其更改为适合您的接收器的任何一个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T05:23:58.707

使用布尔标志来指示应用程序是否在后台：

```
boolean appIsInBackgorund = false;
  @Override
    protected void onPause() {
        appIsInBackgorund = true;
        super.onPause();
    }

    @Override
    protected void onResume() {
        appIsInBackgorund = false;
        super.onResume();
    } 
```

现在，您可以检查此标志以确定应用程序是否处于后台状态并确定是否显示您的 toast。

如果您在多个活动中需要相同的标志，则可以将其存储在[SharedPreferences](https://developer.android.com/reference/android/content/SharedPreferences.html)中。**

# git - 如何处理文件而不是二进制文件（git）

> ID：13486027
> 
> 赞同：4
> 
> 时间：2012-11-21T03:45:50.220
> 
> 标签：git

我有一个名为 a.uni 的文件，我必须合并解决方案。但是 git 将 a.uni 视为二进制文件。当我合并解决方案时，它总是显示：

警告：无法合并二进制文件：a.uni（HEAD vs. 549af46...测试）错误：无法应用549af46...测试提示：解决冲突后，标记更正的路径提示：使用'git add'或' git rm ' 提示：并使用 'git commit' 提交结果 其他人可以帮助我吗！！！多谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T06:22:43.580

由于您的`.uni`文件实际上是一个文本文件，我想它必须包含一些 NUL 字符（请参阅“[如何确定 Git 将文件处理为二进制文件还是文本文件？](https://stackoverflow.com/questions/6119956/how-to-determine-if-git-handles-a-file-as-binary-or-as-text) ”）。

这取决于您要如何管理合并。

如“[告诉 git 不要合并二进制文件而是选择](https://stackoverflow.com/questions/2920594/tell-git-not-to-merge-binary-files-but-to-choose)”中所述，您可以在文件中指定一个合并管理器`.gitattributes`，它将根据您的策略进行合并。

至少，如“[为什么 git 将某些 cpp 文件视为二进制文件？](https://stackoverflow.com/questions/4735663/why-does-git-treat-some-cpp-files-as-binary) ”，您可以尝试指定（仍然是`.gitattributes`文件）：

```
*.uni -text crlf diff 
```

* * *

对于 Unicode 文件，查看“[我可以让 git 将 UTF-16 文件识别为文本吗？](https://stackoverflow.com/questions/777949/can-i-make-git-recognize-a-utf-16-file-as-text) ”，您可以：

*   定义支持该格式的自定义差异或合并工具： `git config --global diff.tool vimdiff ; git difftool commit1 commit2`
*   或定义如下属性： *.uni diff merge -crlf

您还应该确保：

*   你有 git1.7.10+（它有更好的 UTF-8 支持）
*   已设置 utf-8 设置：请参阅“ [git、msysgit、accents、utf-8、最终答案](https://stackoverflow.com/a/5855213/6309)”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-16T18:39:39.397

.uni 文件的编码类型是否更改（例如 UTF-8 到 ANSI）？Git 似乎无法比较/合并不同编码类型的文件。请参阅[我在这篇文章中给出的答案](https://stackoverflow.com/questions/6855712/git-treats-text-file-as-a-binary/21170043#21170043)。

# javascript - Highchart 中 X 轴标签之间的填充

> ID：13486033
> 
> 赞同：3
> 
> 时间：2012-11-21T03:46:07.470
> 
> 标签：javascript, highcharts

有谁可以帮我离开这里吗？我们正在尝试为我们的 Web 应用程序实现 Highchart，但在某些图表中，由于点较近，X 轴标签是重叠的。

我们用于 X 轴的代码：

```
Highcharts.setOptions({
  xAxis: {
    gridLineWidth: 1,
    lineColor: '#000',
    tickColor: '#000',
    labels: {
      style: {
        color: '#000',
        font: '11px Trebuchet MS, Verdana, sans-serif',
      }
    },
    title: {
      style: {
        color: '#333',
        fontWeight: 'bold',
        fontSize: '12px',
        fontFamily: 'Trebuchet MS, Verdana, sans-serif'
      }
    }
  }
}) 
```

和

```
setXAxisParameters = {
  categories: xAxisCategories,
  title: {
    text: xAxisTitle
  },
  labels: {
    formatter: function() {
      xVal = (this.value).split("#")[0];
      if(xVal != '')
        return xVal;
      else
        return '';
    },
    y: 5,
    rotation: 90,
    align: 'left'
  }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T15:41:18.630

如果没有看到您的数据示例，很难判断它们是如何重叠的。您可以尝试将标签的方向更改为垂直 ( [`rotation`](http://api.highcharts.com/highcharts#xAxis.labels.rotation)) 和/或更改标签的其他选项 ( [`labels`](http://api.highcharts.com/highcharts#xAxis.labels))。

# html - 保存样式表时Div消失？

> ID：13486034
> 
> 赞同：0
> 
> 时间：2012-11-21T03:46:07.670
> 
> 标签：html, css

我正在使用 coda 和实时预览，当我保存这个 CSS 文件时，我的#middle div 消失了吗？如果我然后在屏幕上的任意位置按 Enter 键，它就会重新出现在它应该出现的位置。但是，如果我再次重新保存文件，它就会消失，我的 #footer 会跳到页面顶部。我没有对任何代码进行任何更改，所以我无法弄清楚为什么会发生这种情况，有什么想法吗？在[http://jsfiddle.net/UkYBy/](http://jsfiddle.net/UkYBy/)它根本不显示#middle 或#footer？这是它的样子：[https ://dl.dropbox.com/u/14754850/Screen%20shot%202012-11-20%20at%2010.22.40%20PM.jpg](https://dl.dropbox.com/u/14754850/Screen%20shot%202012-11-20%20at%2010.22.40%20PM.jpg)

谢谢！

PS。它不允许我在没有在这篇文章中发布一些代码的情况下发布这个问题，所以这是 html：

```
<body>
    <div id="wrap">
    <div id="menu">
        <ul>
            <li><a href="#">One</a></li>
            <li><a href="#">Two</a>
                <ul>
                    <li><a href="#">Six</a></li>
                    <li><a href="#">Seven</a></li>
                    </ul></li> 
            <li><a href="#">Three</a></li>
            <li><a href="#">Four</a></li>
            <li><a href="#">Five</a></li>
      </ul>
   </div>

    <div id="middle"></div>        
    <div id="footer"></div>

</div>
</body> 
```

​</p>

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T05:15:00.380

您忘记关闭 CSS 中的三个标签。

```
#menu ul li ul { 
 display: none;  

#menu ul li ul li {
 background-color: #2d2d2d; 

#menu ul li ul li:last-child {
 padding-bottom: 15px; 
```

需要是：

```
#menu ul li ul { 
 display: none;  
}

#menu ul li ul li {
 background-color: #2d2d2d; 
}

#menu ul li ul li:last-child {
 padding-bottom: 15px; 
} 
```

[http://jsfiddle.net/UkYBy/1/](http://jsfiddle.net/UkYBy/1/)

# python - 将 Pyo 振荡器输出绑定到 WX 事件

> ID：13486035
> 
> 赞同：0
> 
> 时间：2012-11-21T03:46:16.443
> 
> 标签：python, wxwidgets, pyo

我正在基于 Pyo 和 WX 库在 Python 中构建一个简单的信号发生器。

我已经完成了每个简单的教程，并成功地将 WX 中的按钮绑定到 WX 函数。我现在试图通过按下标有“振荡器 1”的按钮来生成一个简单的正弦波（440 赫兹）1 秒；但是，当 main() 函数执行时，会播放正弦音，而当按钮显示在 wx 框架中时，我无法重新触发正弦音。这两种症状都是不需要的。

为什么程序执行时会立即播放正弦音？为什么 firstOSC 按钮似乎不起作用？

```
import wx
from pyo import *
import time

pyoServer = Server().boot()  
pyoServer.start()

class MainWindow(wx.Frame):
    def __init__(self,parent,title):
        wx.Frame.__init__(self,parent,title=title, size = (640,640))
        self.CreateStatusBar() # A StatusBar in the bottom of the window        

        # Signal Generator controls
        oscillator = SoundOutput()
        firstOSC = wx.Button(self, wx.ID_YES,"Oscillator 1 " + str(oscillator.str_osc1State))
        self.Bind(wx.EVT_BUTTON, oscillator.OnOff1(440), firstOSC)

        #Menus
        filemenu = wx.Menu()
        menuExit = filemenu.Append(wx.ID_EXIT,"&Exit","Terminate the program")
        menuBar = wx.MenuBar()
        menuBar.Append(filemenu,"&File")
        self.SetMenuBar(menuBar)    
        self.Bind(wx.EVT_MENU, self.OnExit, menuExit)

        self.Show(True)
    def OnExit(self,e):
        self.Close(True)   

class SoundOutput(object):
    def __init__(self):
        self.osc1State = False
        self.str_osc1State = "Off"
        self.a = Sine(440, 0, 0.1)     
    def OnOff1(self, frequency):
        self.a.freq = frequency
        self.a.out()
        time.sleep(1)
        self.osc1State = True

def Main():
    app = wx.App(False)
    frame = MainWindow(None,"Signal Generator")
    app.MainLoop() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-22T23:34:40.943

我通过调查 WX 如何处理事件来解决这个问题。事实证明，由于某种原因，在类的嵌套或单独实例中调用方法会导致在运行时而不是事件上播放音调。我通过为 MainWindow 类创建一个方法来解决此问题，该方法用作 firstOSC 的绑定事件处理程序。然后，此方法调用实际振荡器类的必要方法。

这是新代码：

```
 # Signal Generator controls
    self.fOscillator = SoundOutput()
    self.fOscillatorstatus = False
    self.firstOSC = wx.Button(self, wx.ID_ANY,"Oscillator 1 On")
    self.firstOSC.Bind(wx.EVT_BUTTON, self.OnFirstOSC)

    def OnFirstOSC(self,e):
    if not self.fOscillatorstatus:
        self.fOscillator.OnOff1(440) 
        self.fOscillatorstatus = True
        self.firstOSC.SetLabel("Oscillator 1 Off")
    elif self.fOscillatorstatus:
        self.fOscillator.OnOff1(0)
        self.firstOSC.SetLabel("Oscillator 1 On")
        self.fOscillatorstatus = False 
```

# python - 为什么这个 listiterator 卡住了？

> ID：13486036
> 
> 赞同：0
> 
> 时间：2012-11-21T03:46:32.373
> 
> 标签：python, beautifulsoup

我非常困惑。我有一块 HTML 是我从一个更大的表格中刮下来的。它看起来像这样：

```
<td align="left" class="page">Number:\xc2\xa0<a class="topmenu" href="http://www.example.com/whatever.asp?search=724461">724461</a> Date:\xc2\xa01/1/1999 Amount:\xc2\xa0$2.50 <br/>Person:<br/><a class="topmenu" href="http://www.example.com/whatever.asp?search=LAST&amp;searchfn=FIRST">LAST,\xc2\xa0FIRST </a> </td> 
```

（实际上，它看起来更糟，但我正则表达式掉了很多换行符）

我需要把这些线弄出来，把日期/金额线分开。开始的地方似乎是找到那个 HTML 块的孩子。该块是一个字符串，因为这就是正则表达式将它还给我的方式。所以我做了：

```
text_soup = BeautifulSoup(text)
text_children = text_soup.find('td').childGenerator() 
```

我可以遍历孩子

```
for i,each in enumerate(text_soup.find('td').childGenerator()):
    print type(each)
    print i, ":", each 
```

但不与

```
for i, each in enumerate(text_children):
    ...etc 
```

这些应该是一样的。所以我很困惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:02:47.263

BeautifulSoup 的方法通过 python 的内置函数[`childGenerator()`](http://networkdynamics.org/static/zen/autogen/zen.util.BeautifulSoup-pysrc.html#Tag.childGenerator)返回一个对象。迭代器有一个方法，该方法返回下一项或在元素用完时引发。[`iterator`](http://docs.python.org/2/glossary.html#term-iterator)`iter()``.next()``StopIteration`

[枚举](http://docs.python.org/2/library/functions.html#enumerate)器是一种特殊的迭代器。它也有一个`.next()`方法，但不是只返回下一个值，而是返回一个包含计数和下一个值的元组。

您的 for 循环需要两个参数 (`i`和`each`)，因此 python 解释器期望迭代器提供一个二元素元组。如果只传入由 提供的迭代器`childGenerator()`，python 只有一个可用元素，而不是它需要和阻塞的两个元素。但是，如果您从迭代器中创建枚举器 via `enumerate()`，则解释器将获得它所需的二元素元组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T03:17:59.707

gnibbler 正确地解释了您只能使用一次生成器。只是为了进一步说明：

根据[文档](http://docs.python.org/2/glossary.html#term-iterator)，an`iterator`是表示数据流的对象。由于您已经使用了流（即您到达了流的末尾），因此重复它不会产生任何数据。我之前也遇到过同样的问题，但 Karl Knechtel 的[评论](https://stackoverflow.com/questions/10103107/python-sum-not-working-in-list-comprehension-syntax-if-the-source-is-file/10103584#10103584)为我解决了问题。希望我的解释清楚。

# java - 如何更改此应用的 JLabel 中的文本？

> ID：13486041
> 
> 赞同：0
> 
> 时间：2012-11-21T03:47:05.553
> 
> 标签：java, swing, jlabel

我正在尝试在java中编写一个简单的按钮单击计数器，它应该已经完成​​，但是当我运行它时，当我单击应用程序的按钮时，第 33 行中测试的 JLabel 更改似乎有问题崩溃。我如何解决它; 我做错了什么？这是代码：

```
package Main;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.*;
public class Eventos extends JFrame{

    JTextField clicksCounter;
    Eventos (){
        //Parámetros generales de la ventana.
        super("Eventos en Java");//Titulo de la ventana.
        setSize(320,200);//Tamaño de la ventana.
        setVisible(true);//Configurar como visible.
        setLocation(520,220);//Posicion inicial de la ventana en el medio y un poco arriba.
        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);//Salir al cerrrar la venta.
        this.setLayout(new GridLayout(2,1));
        //Componentes dentro de la ventana.
        JButton ClickMe = new JButton("Haz Click aqui!");//Boton que cuenta clicks.
        add(ClickMe);//Agrega el Boton a la venatana.
        ClickMe.setSize(140, 20);
        ClickMe.setLocation(90,40);
        JTextField clicksCounter = new JTextField("Número de Clicks");//Muestra el número de clicks al boton.
        add(clicksCounter);
        ButtonHandler handler = new ButtonHandler();
        ClickMe.addActionListener(handler);
    }
    private class ButtonHandler implements ActionListener{
        public void actionPerformed(ActionEvent handler){
            int times=0;
            times ++;
            clicksCounter.setText("Clicks:"+times);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T03:55:47.850

虽然所有其他答案都是部分正确的，但您还有另一个大错误。你定义`clicksCounter`了两次。一次在您的全局变量中，再次在您的构造函数中。

看：

`JTextField clicksCounter;`

`JTextField clicksCounter = new JTextField("Número de Clicks");//Muestra el número de clicks a l boton.`

将第二行（位于构造函数中）更改为：`clicksCounter = new JTextField("Número de Clicks");//Muestra el número de clicks a l boton.`

如果你不这样做，你会得到一个 NullPointerException。

您遇到的另一个问题是`times`ActionListener 中的本地定义。通过`times`在您的侦听器本身中定义，您每次单击按钮都会重置它，从而破坏了计数器的目的。

移动`times`使其超出动作侦听器的范围，最好与所有其他全局定义一起使用。您的动作侦听器应如下所示：

```
private class ButtonHandler implements ActionListener{
    public void actionPerformed(ActionEvent handler){
        times++;
        clicksCounter.setText("Clicks:"+times);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T03:53:46.960

`times`每次单击按钮时都会创建变量并增加它...

```
int times=0;
times ++; // This will never be anything other then 1 
```

更改动作侦听器类，以便将`times`变量作为类实例的一部分进行维护

```
private class ButtonHandler implements ActionListener{
    private int times=0;
    public void actionPerformed(ActionEvent handler){
        times ++;
        clicksCounter.setText("Clicks:"+times);
    }
} 
```

您定义`clicksCounter`为实例变量，但在构造函数中，您创建了一个名称相同的本地实例（AKA 名称冲突）。这意味着当您运行程序时，实例变量`clicksCounter`为空。

更改构造函数以删除对局部变量的引用...

```
public class Eventos extends JFrame{

    JTextField clicksCounter;
    Eventos (){
        // ... Your previous code ...
        JTextField clicksCounter = new JTextField("Número de Clicks");//Muestra el número de clicks al boton.
        // ... Your previous code ...
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T03:52:32.313

```
public void actionPerformed(ActionEvent handler){
        int times=0;
        times ++;
        clicksCounter.setText("Clicks:"+times);
} 
```

在这个方法中，`times`是一个局部变量。每当调用此方法时，其值将被初始化为 0。相反，您必须使用：

```
private static int times=0;
public void actionPerformed(ActionEvent handler) {
    times ++;
    clicksCounter.setText("Clicks:"+times);
} 
```

甚至更好的解决方案是使用

```
public class Eventos extends JFrame implements ActionListener 
```

并`times`用作非静态变量`private int times=0;`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T03:52:46.523

`times`需要是一个成员变量，要么是你的`Eventos`类，要么是`ButtonHandler`. `0`实际上，每次单击按钮时都会实例化它，因为它是一个局部变量。

# php - 从 print_r 或对象中排除私有财产？

> ID：13486042
> 
> 赞同：7
> 
> 时间：2012-11-21T03:47:10.010
> 
> 标签：php, debugging, properties

基本上我正在使用 Code Igniter，并且 Code Igniter 基类很大，当我 print_r 我的一些对象时，它们将基类嵌入其中。这使得获取我真正想要的信息（其余属性）变得很痛苦。

所以，我想知道是否有办法隐藏或删除基类对象？

我努力了

```
clone $object;
unset($object->ci);
print_r($object); 
```

但当然 ci 财产是私有的。

我用于倾销的实际功能是：

```
/**
 * Outputs the given variables with formatting and location. Huge props
 * out to Phil Sturgeon for this one (http://philsturgeon.co.uk/blog/2010/09/power-dump-php-applications).
 * To use, pass in any number of variables as arguments.
 * Optional pass in "true" as final argument to kill script after dump
 *
 * @return void
 */
function dump() {
    list($callee) = debug_backtrace();
    $arguments = func_get_args();
    $total_arguments = count($arguments);
    if (end($arguments) === true)
        $total_arguments--;

    echo '<fieldset style="background: #fefefe !important; border:2px red solid; padding:5px">';
    echo '<legend style="background:lightgrey; padding:5px;">' . $callee['file'] . ' @ line: ' . $callee['line'] . '</legend><pre>';

    $i = 0;
    foreach ($arguments as $argument) {
        //if the last argument is true we don't want to display it.
        if ($i == ($total_arguments) && $argument === true)
            break;

        echo '<br/><strong>Debug #' . (++$i) . ' of ' . $total_arguments . '</strong>: ';

        if ((is_array($argument) || is_object($argument)) && count($argument)) {
            print_r($argument);
        } else {
            var_dump($argument);
        }
    }

    echo '</pre>' . PHP_EOL;
    echo '</fieldset>' . PHP_EOL;

    //if the very last argument is "true" then die
    if (end($arguments) === true)
        die('Killing Script');
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T03:58:42.707

这应该适用于仅返回未知类的公共变量：

```
// Get the class of the object
$class_of_object= get_class($object);

// Get only public attributes (Note: if called from within class will return also private and protected)
$clone = get_class_vars($class_of_object);

// Try it
dump($clone); 
```

这很 hacky，但有效 - 从对象中删除私有属性（这不会​​保留对象名称），当然另一个缺点是您需要对属性名称进行硬编码：

```
// First cast clone to array
$b = (array) clone($a);

// Then unset value (There will be null bytes around A and to use them you need to run it in double quotes
// Replace A for * to remove protected properties
unset($b["\0A\0_ci"]);

// Finally back to object
$b = (object) $b;

// Test it
dump($b); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T05:51:15.727

您可以使用 PHP Reflextion API 轻松完成

```
$myClassName = 'myChildClass';
$reflection = new ReflectionClass($myClassName);

// get properties, only public in this case
$properties = $reflection->getProperties(ReflectionMethod::IS_PUBLIC);
//Print all properties (including parent class)
print_r($properties);

//Print properties of desired class only
foreach ($properties as $property) {
    if ($property->class == $myClassName) {
        print_r($property);
    }
} 
```

方法也是一样。

如果您真的需要它 - 您可以创建特殊功能来为您完成这项工作，并在您需要此类分析时调用它。但我认为在大多数情况下，好的 IDE，比如我最喜欢的 PHPStorm，可能会为您完成这项工作，并且当您调用类实例时 - 仅在建议列表中向您显示公共方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-11-03T15:20:40.850

我有一个简单的方法适合我：

```
<?php print_r(json_decode(json_encode($object))); ?> 
```

# sockets - PHP - IRC“退出”无法正常工作

> ID：13486050
> 
> 赞同：0
> 
> 时间：2012-11-21T03:47:49.383
> 
> 标签：sockets, irc

**更改：** 我已确定问题与编码无关。但是问题仍然存在，因为这似乎是由 IRC 引起的，我仍在寻找原因。

我正在连接的服务器使用两种 PING 请求：

连接到服务器时询问一个，它的格式为 8 个字符的字母数字值。

例子：`PING :EA0E9275.`

另一种是在服务器发出 MOTD 后，加入频道，完成“/NAMES 列表结束”。然后在“n 延迟”之后，服务器向我发送一个以当前连接主机为值的 ping 请求。

例子：`PING :irc.ams.nl.euirc.net`

如果我在回复主机 PING 请求之前发送命令“QUIT :Quit Message”，服务器会忽略 QUIT 消息，而是以类似于“Client Exited”消息的服务器填充状态消息退出。

例子：`ERROR :Closing Link: Nick[IP.ADD.RE.SS] (Life is too short...)`

但是，如果我在响应主机 PING 请求后发送相同的命令，我的 QUIT 会得到应有的处理。

例子：`ERROR :Closing Link: Nick[IP.ADD.RE.SS] (Quit: Quit Message)`

我检查了 RFC，并在 QUIT 部分找到了这个：

*如果由于某些其他原因，客户端连接在客户端没有发出 QUIT 命令的情况下关闭（例如，客户端死亡并且套接字上发生 EOF），则服务器需要用某种反映服务器性质的消息填写退出消息导致它发生的事件。*

此外，如果仍然需要查看我用来完成此操作的部分代码，[您可以在此处查看](http://pastebin.com/2EZigTUY)。但是，这是 IRC 客户端 mIRC 的常见问题。

**基本方案**

*   连接到服务器...
    *   连接的！
    *   服务器等待 NICK/USER 信息...
    *   服务器收到 NICK/USER 信息，等待字母数字 PING 回复...
        *   服务器收到字母数字 PING 回复，发送 MOTD。
        *   MOTD结束，发送JOIN加入频道...
        *   已加入频道，已请求频道的名称列表。
        *   NAMES 列表结束。
    *   接收活动通道/服务器数据。
        *   如果发送 QUIT 命令，服务器将忽略通常的 QUIT，服务器默认发送“Closing Link”作为状态退出（生命太短...）。
    *   服务器正在进行活动检查，收到主机 PING(irc.ams.nl.euirc.net)，服务器正在等待回复...
        *   向服务器发送回复。
        *   如果发送 QUIT 命令，服务器将按用户级别处理 QUIT 命令，通常方式，并通过用户指定的消息或空发送“关闭链接”。（（QUIT：用户消息）或（QUIT：））

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T17:28:29.537

让我们回顾一下您的代码：

1.  当我制作我的 IRC 机器人时，我`explode()`将来自服务器的字符串编辑为单词（按空格分隔），然后您可以参考单词：

    ```
    if ($words[0] == "PING") { reply("PONG :" . $words[1]); } 
    ```

2.  总是`PONG`紧随其后`PING`，并回复与服务器相同的消息。

如果满足了第二个，那么您将永远不会遇到服务器等待 PING 的问题，因为您会立即回答。客户端应该遵守来自服务器的 PING PONG 命令，否则服务器会认为它是离线的（是的，即使您发送其他任何内容，服务器也需要 PONG）。

# php - PHP - 为什么在 WHILE 和 DO-WHILE 之间循环会在 mysql 获取中给出不同的结果？

> ID：13486051
> 
> 赞同：0
> 
> 时间：2012-11-21T03:48:01.273
> 
> 标签：php, mysql

我的 mysql 数据库的表中有一条记录。我使用以下 PHP 代码来检索数据：

```
$result = mysql_query($query = "SELECT realname FROM t_user");

if($result)
{
  while($data=mysql_fetch_assoc($result)){
    echo $data['realname'];
  }
} 
```

结果没有出现，但是当我使用如下所示的**do-while**循环时：

```
if($result)
{
  $data=mysql_fetch_assoc($result);
  do{
    echo $data['realname'];
  } while($data=mysql_fetch_assoc($result));
} 
```

结果出现了，然后我尝试在表中再添加一条记录，在**while**循环中，只显示一条数据记录（第一条记录），而**do-while**循环显示所有数据。这是为什么？是不是因为我的代码错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:04:26.803

您显示的代码不可能出现此问题，因此合乎逻辑的解释是：

```
$result = mysql_query($query = "SELECT realname FROM t_user");

if($result)
{
  // Something fetched a row from $result before this statement is run
  while($data=mysql_fetch_assoc($result)){
    echo $data['realname'];
  }
} 
```

看到你如何比较两个相似的代码，你可能不小心在两者之间写了一些东西：

```
if($result)
{
  mysql_fetch_assoc($result);
  while($data=mysql_fetch_assoc($result)){
    echo $data['realname'];
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:04:59.840

> $result = mysql_query($query = "SELECT realname FROM t_user");
> 
> if($result) { while($data=mysql_fetch_assoc($result)){ echo $data["realname"]; } }

```
$result = mysql_query($query = "SELECT realname FROM t_user");
 var_dump($data);die; 
```

在浏览器中查看结果数组。上面的while循环应该可以工作。检查你的结果。

# android - 是否有更快的碰撞检测算法？

> ID：13486053
> 
> 赞同：2
> 
> 时间：2012-11-21T03:49:13.050
> 
> 标签：android, performance, collision-detection

我正在 Android 上编写这个游戏，我有一堆角色四处走动，相互碰撞。一切正常，但是当我同时在屏幕上传递一定数量的字符时，应用程序的性能会受到严重影响。我做了我的测试并且绘图并没有导致低帧率，它是碰撞检测的算法，因为每次他们移动时，他们都必须检查他们对所有其他角色的位置。所以目前我只是为每个角色循环遍历它们。有没有办法改善这一点？在我不知道的大量对象上进行碰撞检测是否有性能技巧？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:12:37.027

是的，有一种基于第一个宽相和第二个窄相碰撞检测的技术。

我将引用Mario Zechner 的《*Beginning Android Games 》中的一些段落。*

> **宽相**：在这个阶段，我们试图找出哪些物体可能发生碰撞。想象一下，有 100 个物体可以相互碰撞。如果我们选择天真地测试每个对象与其他对象，我们需要执行 100 * 100 / 2 重叠测试。这种朴素的重叠测试方法具有 O(n^2) 渐近复杂度，这意味着它需要 n^2 步才能完成（实际上它只完成了一半的步骤，但渐近复杂度忽略了任何常数）。在一个好的、非暴力的广泛阶段，我们试图找出哪些对象对实际上有碰撞的危险。不会检查其他对（例如，两个相距太远而不会发生碰撞的对象）。我们可以通过这种方式减少计算负载，因为窄相测试通常非常昂贵。
> 
> **窄阶段**：一旦我们知道哪些对象对可能发生碰撞，我们通过对其边界形状进行重叠测试来测试它们是否真的发生碰撞。

广义阶段包括将世界划分为大单元，形成某种网格。每个细胞都有完全相同的大小，整个世界都被细胞覆盖。如果两个对象不在同一个单元格中，则不需要这两个对象的窄阶段。

再次引用：

> 我们需要做的就是以下几点：
> 
> *   根据我们的物理和控制器步骤更新世界上的所有对象。
>     
>     
> *   根据对象的位置更新每个对象的每个边界形状的位置。我们当然也可以在这里包括方向和比例。
>     
>     
> *   根据其边界形状找出每个对象包含在哪个或哪些单元格中，并将其添加到这些单元格中包含的对象列表中。
>     
>     
> *   检查碰撞，但仅限于可以碰撞的对象对之间（例如，Goombas 不会与其他 Goombas 碰撞）并且在同一个单元格中。
>     
>     
> 
> 这被称为空间哈希网格广泛阶段，并且非常容易实现。我们必须定义的第一件事是每个单元格的大小。这在很大程度上取决于我们用于游戏世界的规模和单位。

它还取决于您使用的边界形状。字符周围的简单矩形或圆形及其*欧几里得距离*是一件容易计算的事情，但更精细的形状（包括“头部”、“腿部”等细节，几乎没有额外的边界形状）将在计算上花费更多计算。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T03:53:49.910

如果所有对象都可以自由移动到屏幕的任何部分，那么您能做的最好的就是您的`O(n^2)`算法。您可以通过意识到当您检查对象 A 是否与对象 B 碰撞时，您可以通过一个常数因子来改进它，那么您不必稍后检查对象 B 是否与对象 A 碰撞。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T05:58:20.307

将每个字符包围在一个固定大小的正方形内。在检查字符碰撞之前，请检查它们所在的方块是否发生碰撞。当且仅当方块发生碰撞时，角色才有可能发生碰撞。现在检查正方形碰撞很容易，因为您只需比较 x 和 y 坐标。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-06-06T08:42:29.643

正如 Federico 所建议的那样，划分为宽阶段和窄阶段只有在您的碰撞检测算法很昂贵时才有帮助，即它不是一个简单的边界框。

幸运的是还有其他选择。

您可以尝试使用碰撞遮罩技术。由于您似乎不受渲染速度的限制，因此将每个对象的边界框渲染到隐藏位图中。在渲染下一个对象之前，检查其边界框四个角的像素，看看它们是否已经被写入。您甚至可以为每个对象使用不同的颜色，以便颜色告诉您与哪个对象发生碰撞。

另一个流行的技巧是不要在每一帧都进行所有碰撞检查。例如，像超级马里奥兄弟这样的游戏实际上每隔一帧检查玩家和敌人之间的碰撞。您可以做一个更高级的版本，以循环方式检查所有对象，每帧尽可能多地检查。当事情变得繁忙时，每个对象可能只会每隔一个甚至每三帧检查一次，但玩家不太可能注意到。如果您的对象没有移动得如此之快以至于它们可以通过彼此只有一帧的碰撞，则此方法效果最佳。

# android - 本机应用程序登录

> ID：13486054
> 
> 赞同：0
> 
> 时间：2012-11-21T03:49:23.367
> 
> 标签：android, ios

我有一个需要登录的会员访问部分的网站。

我想开始在 iOS 和 Android 上进行本机应用程序开发，并访问会员网站。我似乎找不到任何关于我应该如何进行身份验证的答案。理想情况下，在本机应用程序上，用户应该只需要在第一次进行身份验证，而不是网站上给出的通常超时。

谁能阐明我应该在哪里/看什么？我想我必须更改我的登录模块以允许这样做，但我什至不知道如何解决这个问题。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T18:58:02.380

为您的应用程序创建一个小型 RESTful API。

基本上，他们会向您的服务器发送一个 POST 请求，其中包含要登录的用户的用户名和密码。服务器将回复 1 或 0（如果用户/密码存在且匹配，或者不匹配）。然后应用程序将登录用户并保存他们的登录状态。在 Android 上，您可以将其保存为 SharedPreference。

# gwt - 如何找出给定的字符串是否适合特定的 gwt 标签。

> ID：13486055
> 
> 赞同：0
> 
> 时间：2012-11-21T03:49:24.560
> 
> 标签：gwt, resize, label

我是 gwt 的新手，我正在尝试检查我正在检索的动态字符串文档 ID 是否适合 gwt 标签。现在我正在检查字符数，如果数字超过 15，我将在 12 个字符之后附加 ... 并在工具提示中显示实际 id。我需要知道如何在不计算字符数的情况下实现这一点。请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T08:38:04.497

The width of a label does not only depend on the string size, but on the font used.

You could write you string in a temporary label attached to the dom and query the size using the method 'getClientWidth' of the element or gwtquery, and remove recursively the last character until you get the appropriate size.

In my opinion the easier way would be to use css and define a fixed width of your label and set the property overflow to hidden, so you see just the chars which fit in the label and you dont have to deal with a different string.

# jquery - 适用于 Web、Android、iPhone 的 HTML 线框/模型

> ID：13486058
> 
> 赞同：2
> 
> 时间：2012-11-21T03:49:49.087
> 
> 标签：jquery, html, css, mobile, mockups

是否有一个 HTML/Javascript/CSS 框架可以用文本编辑器的最少工作完成花哨的模拟工具所做的事情。

我刚刚在评估各种在线模型工具

例子

*   pidoco.com
*   balsamiq.com
*   模拟流

我想我更愿意直接在 HTML 中执行此操作，但我想要一些灵活性。

*   应用简单的文本控件（标准 HTML 会做 DropDown、TextBox、Radio Button）
*   应用针对设备的主题（iPhone、Android、Web）
*   给它一些效果（排版，3D，盒子）
*   简易布局系统，如 960.gs

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:33:40.067

试试 Moqups

1.  [Moqups](https://moqups.com/) : 基于在线矢量的线框图工具
2.  [嘲笑鸟](https://gomockingbird.com/)

# python - 如何为 Python 应用程序打包翻译文件？

> ID：13486059
> 
> 赞同：2
> 
> 时间：2012-11-21T03:49:50.340
> 
> 标签：python, gtk, translation, gettext, packaging

我有一个用 Python 和 Gtk 编写的应用程序，其中包含许多翻译字符串，使用`_()`. 此应用程序的存储库包含一组 `.po`用于不同语言的文件，这些文件在目录布局中进行编译和分类，以便在应用程序运行`gettext`时加载。`setup.py`

当前项目目前看起来像这样：

```
/
/po/fr.po
/mo/fr/LC_MESSAGES/my-app.mo
/my-app/__init__.py
/setup.py 
```

`gettext.install()`目前被调用了好几次，尝试了各种“知名的地方”（如`/usr/share/locale`,`dirname(my-app.__file__ ) + "../mo"`等）。正如我之前所说， `.mo`文件不存储在存储库本身中，而是在`setup.py`启动时动态生成。

我想知道处理这些文件的“最佳方式”是什么。具体来说，我想找到一种方法：

*   允许开发人员使用翻译，而无需在某处安装应用程序（直接在存储库中工作）；
*   允许想要安装它的人将翻译文件分布在正确的位置；
*   允许打包程序（例如 Linux 发行版）轻松处理这些翻译文件。

我的问题是：

1.  我在哪里存储我的 .mo 文件？
2.  我如何找到这些文件的位置（考虑到上述几点）？
3.  我如何打包这些文件（Python 方面）？

# internet-explorer-8 - 设置按钮的类型，ie8

> ID：13486064
> 
> 赞同：1
> 
> 时间：2012-11-21T03:50:47.837
> 
> 标签：internet-explorer-8

动态创建一个按钮，然后尝试将其设置为 a`button`而不是 default `submit`。

这是我创建按钮和设置类型的方式。

```
var pickButton = document.createElement("button");
pickButton.type = "button"; 
```

IE8 会报错，说：

```
SCRIPT445: Object doesn't support this action 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T03:50:47.837

利用：

```
pickButton.setAttribute('type', 'button'); 
```

# css - css - 如何设置 div 的固定宽度，即 display:inline

> ID：13486067
> 
> 赞同：0
> 
> 时间：2012-11-21T03:51:06.837
> 
> 标签：css, html

我想将固定宽度设置为设置为`display:inline`不使用的 div，`float`因为它破坏了我的布局。有没有办法做到这一点？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T03:55:06.710

无法为带有 的元素设置宽度`display:inline`。

尝试使用：`display: inline-block`。

# python - (Python) 转到函数内的一行

> ID：13486070
> 
> 赞同：1
> 
> 时间：2012-11-21T03:51:45.220
> 
> 标签：python, function, line, goto

所以，我有这样的事情：

```
def pickClass():
    print('What class are you? FIGHTER, MAGE, or THIEF?')
    classChoice = raw_input()
    if classChoice == 'FIGHTER':
        print('You are a mighty warrior. Are you sure? YES or NO.')
        _confirm = raw_input()
        if _confirm == 'YES':
            print('So be it.')
        elif _confirm == 'NO':
            pickClass()
        else:
            print('YES or NO only!')
            #go back to '_confirm = raw_input()' 
```

我被卡住的部分在最后——如何在不再次遍历整个函数的情况下进入代码的特定部分？

（我知道那张印刷品有点多余，但无论如何，maaaaan）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T03:53:47.757

您将需要重组您的功能。尝试这样的事情：

```
def pickClass():
    valid_classes = ["FIGHTER", "MAGE", "THIEF"]
    while True:
        print('What class are you? FIGHTER, MAGE, or THIEF?')
        classChoice = raw_input()
        if classChoice not in valid_classes:
            print("Invalid class")
        else:
            print("Are you sure you want to be a %s?" % classChoice)
            while True:
                _confirm = raw_input()
                if _confirm == 'YES':
                    print('So be it.')
                    return classChoice
                elif _confirm == 'NO':
                    break
                else:
                    print('YES or NO only!') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:01:15.107

```
def pickClass():
    classChoice = None
    while classChoice is None:
        print('What class are you? FIGHTER, MAGE, or THIEF?')
        classChoice = raw_input()
        if classChoice == 'FIGHTER':
            while True:
                print('You are a mighty warrior. Are you sure? YES or NO.')
                _confirm = raw_input()
                if _confirm == 'YES':
                    print('So be it.')
                    break
                elif _confirm == 'NO':
                    break
                print('YES or NO only!')
    return classChoice 
```

`confirm`制作一个可以重用于其他问题的函数可能是个好主意。注意这如何简化逻辑`pickClass`

```
def confirm(msg):
    while True:
        print(msg)
        _confirm = raw_input()
        if _confirm == 'YES':
            print('So be it.')
            return True
        elif _confirm == 'NO':
            return False
        print('YES or NO only!')

def pickClass():
    while True:
        print('What class are you? FIGHTER, MAGE, or THIEF?')
        classChoice = raw_input()
        if classChoice == 'FIGHTER':
            if confirm('You are a mighty warrior. Are you sure? YES or NO.'):
                return classChoice 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T03:56:10.283

您可以`while _confirm not in['YES', 'NO']`在这种情况下使用。制作功能也很有意义`confirm()`。

# c# - 将 Region 转换为 GraphicsPath

> ID：13486071
> 
> 赞同：0
> 
> 时间：2012-11-21T03:51:46.587
> 
> 标签：c#, intersection, region, polygons, graphicspath

我使用 Region 来查找两条路径的交集（由两个多边形创建）。

```
GraphicsPath gp1 = new GraphicsPath();
gp1.AddPolygon(P);//P - array of points [first polygon]

Region d = new Region(gp1);

GraphicsPath gp2 = new GraphicsPath();
gp2.AddPolygon(P_);//P_ - array of points [second polygon]
d.Intersect(gp2);//founded intersection 
```

如何获得 Region d 的交点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:12:01.950

我建议使用适合此任务的多边形相交库。

这是一个可以从 C# 中使用的最优秀的

[http://www.angusj.com/delphi/clipper.php](http://www.angusj.com/delphi/clipper.php)

如果需要的话，我也相信还有很多其他的用 C# 编写的。这是关于该主题的 SO Q&A：

[如何使两个多边形相交？](https://stackoverflow.com/questions/1526352/how-to-intersect-two-polygons)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:00:09.820

通过使用检查图形路径是否相交

```
if(!d.IsEmpty(this.CreateGraphics())

{

RectangleF rectBound=d.GetBound(this.CreateGraphics());

Pointf intersectionPoint=new Pointf(rectBound.X+rectBound.Width/2,rectBound.Y+rectBound.Height/2);

} 
```

# django - 带有 Jeditable 的 Django：POST 将整个页面呈现为表格单元格

> ID：13486073
> 
> 赞同：1
> 
> 时间：2012-11-21T03:52:20.587
> 
> 标签：django, jeditable

用例：用户点击评论栏发表评论。评论通过帖子发送到服务器。服务器上传到数据库。

然而，Django 不仅仅是更新页面，而是将我的整个页面放入表格单元格中

之前：http: [//i50.tinypic.com/28cdkb7.jpg](http://i50.tinypic.com/28cdkb7.jpg)

之后：http: [//i45.tinypic.com/346vuag.jpg](http://i45.tinypic.com/346vuag.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T06:14:33.410

[http://foreconversal.wordpress.com/2009/11/01/inline-editing-with-jquery-jeditable-and-django/](http://formerlyconversal.wordpress.com/2009/11/01/inline-editing-with-jquery-jeditable-and-django/)

你可能正在寻找这个。

# java - 模拟汽车 (Java)

> ID：13486075
> 
> 赞同：1
> 
> 时间：2012-11-21T03:52:43.583
> 
> 标签：java, car-analogy

我正在做一个模拟汽车的项目。要求是通过给汽车加注燃料来证明汽车的运行，然后让汽车运行直到它没有更多的燃料。模拟以不同速度填充和运行汽车的过程。在汽车运行时，定期打印汽车的当前里程、燃油量和速度。

我编写了一些其他类来保存一些我将用来计算燃料、速度和里程的方法。我只是在如何让它像一辆真正的汽车一样工作时遇到了一点麻烦，任何帮助都将不胜感激。

```
public class FuelGauge {

protected double fuel;

public FuelGauge()
{
    fuel = 0.0;
}

public double getFuel() 
{
    return fuel;
}

public void setFuel(double fuel) 
{
    this.fuel = fuel;
}

public void fuelUp()
{
    if(fuel<18)
    fuel++;     
}

public void fuelDown()
{
    if(fuel>0)
        fuel--;
} 
```

}

公共类里程表扩展 FuelGauge {

```
private int mileage, mpg;
private int economy;

public int getMileage()
{
    return mileage;
}

public void setMileage(int mileage)
{
    this.mileage = mileage;
}

public int getMpg() 
{
    return mpg;
}

public void setMpg(int mpg)
{
    this.mpg = mpg;
}

public void mileUp()
{
    if(mileage<999999)
        mileage++;
}

public void mileReset()
{
    if(mileage>999999)
        mileage = 0;
}

public void decreaseFuel(int fuel)
{
    if(mileage == mpg)
        fuelDown();
}

public int getEconomy()
{
    return (int) (mileage/fuel);
}

public void setEconomy(int economy) 
{
    this.economy = economy;
} 
```

}

公共类汽车扩展里程表{

```
private String name;
private int speed;  

 public Car()
    {
        name = "Car";
        getMileage();
        getMpg();
        getEconomy();
        getFuel();
    }

public String getName() 
{
    return name;
}

public void setName(String name)
{
    this.name = name;
}

public int getSpeed() 
{
    return speed;
}

public void setSpeed(int speed) 
{
    this.speed = speed;
}

public void increaseSpeed()
{
    if(speed<=120)
        speed++;
}

public void decreaseSpeed()
{
    if(speed>0)
        speed--;
} 
```

}

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T04:17:27.543

我会更推荐您的汽车组件的 contains 与 isa 关系。

```
class FuelGauge { ... }
class Odometer { ...}

class Vehicle { ... }

class Car extends Vehicle
{
   private FuelGauge fuelGauge = new FuelGauge();
   private Odometer odometer = new Odometer();

   ...
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:19:39.613

好吧，这里有一些建议：

*   启动汽车。
*   从你的车道上拉出来；如果不需要，请开始驾驶
*   如果您计划以固定速度行驶，您可以计算出骑行需要多长时间，然后使用循环来更新距离和燃料；否则，您可以将一组速度存储在一个数组中，使用一个循环，并在每次迭代中传递可变速度（这可能有点难以计算剩下多少燃料）

希望这有助于灵感运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T05:17:57.560

这是您的汽车模拟器应用程序的设计：

*   识别将具有里程表读数、油箱内当前燃料等作为实例变量的汽车类。
*   编写一个线程，该线程在每次迭代中以 100 毫秒左右的睡眠时间连续运行，并且在线程的 run 方法中，您处理增加里程表读数并按一定比例减少燃料的逻辑。确保您的线程将运行直到油箱中的燃料大于 0。如果您可以仅在 cse 中引发事件或警报，则燃料低于某个常数。
*   编写主类以使用满油箱燃料（可能是 40 升常数）和里程表读数为 0 启动该类，然后启动线程。

希望这会有所帮助。

-基肖尔麦地那

# coldfusion - 为什么在 Coldfusion 中不能顺序调用同一组件的两个方法？

> ID：13486077
> 
> 赞同：1
> 
> 时间：2012-11-21T03:52:53.933
> 
> 标签：coldfusion, components, sequence, cfinvoke

所以，我几乎整夜都在追一个虫子……找到了它，但不知道出了什么问题。

我有`Coldfusion`发送两封电子邮件的脚本。两封邮件都在我`cfinvoke`这样调用的邮件脚本中：

```
<cfinvoke component="form_mailer_basket" method="msg_order_seller"> 
... parameters
</cfinvoke>

<cfinvoke component="form_mailer_basket" method="msg_order_retailer">
... parameters
</cfinvoke> 
```

两个邮件参数都ok，但是第二个mailer抛出一个错误：

```
mailer orders 
************************************************************************************ 

type: Application 
************************************************************************************ 

message: Could not find the ColdFusion Component or Interface form_mailer_basket. 
************************************************************************************ 

detail: Ensure that the name is correct and that the component or interface exists. 
************************************************************************************ 
```

**问题：**
谁能告诉我为什么第二封邮件找不到组件，而上面的第一个脚本 5 行可以？

谢谢！

**编辑**：
这是我调用这两种方法的代码：

```
<cfif new_mail.recordcount GT 0>
    <cfloop query="new_mail">
        <cfset variables.newMail = new_mail.email_bestelleingang>
            <cfinvoke component="form_mailer_basket" method="msg_order_seller"> 
                <cfinvokeargument name="delDate" value="#variables.liefdatum_mail#"/>
                <cfinvokeargument name="delMsg" value="#variables.bestell_text_mail#"/>
                <cfinvokeargument name="delOrd" value="#LOCAL.Basket.bestelltyp#"/>
                <cfinvokeargument name="mailto" value="#variables.newMail#"/>
                <cfinvokeargument name="client" value="#LOCAL.Basket.re_firma#"/>
                <cfinvokeargument name="rebate" value="#variables.kopf_rabatt#"/>
                <cfinvokeargument name="sellerIln" value="#variables.iln_verkaeuferNEU#"/>
                <cfinvokeargument name="ordNo" value="#variables.bestellnummer_neu#"/>
            </cfinvoke> 
    </cfloop>
</cfif>

...

 <cfloop query="active_check">
      <cfif active_check.freigeschaltet NEQ "1" AND active_check.freigeschaltet NEQ "0">
           <cfinvoke component="form_mailer_basket" method="msg_order_retailer">
                <cfinvokeargument name="delDate" value="#variables.liefdatum_mail#" />
                <cfinvokeargument name="delOrd" value="#LOCAL.Basket.bestelltyp#" />
                <cfinvokeargument name="mailto" value="#variables.cusMail#" />
                <cfinvokeargument name="client" value="#order_recipients.firma#" />
                <cfinvokeargument name="rebate" value="#variables.kopf_rabatt#" />
                <cfinvokeargument name="sellerIln" value="#variables.iln_verkaeuferNEU#" />
                <cfinvokeargument name="ordNo" value="#variables.bestellnummer_neu#" />
                <cfinvokeargument name="total" value="#variables.gesamtsumme#" />
                <cfinvokeargument name="menge" value="#variables.gesamtmenge#" />
                <cfinvokeargument name="curr" value="#variables.waehrung#" />
                <cfinvokeargument name="agentF" value="#variables.agentFirma#" />
               <cfinvokeargument name="agentN" value="#variables.agentName#" />
            </cfinvoke>
         </cfif>
    </cfloop> 
```

第一个有效，第二个无效。方法名称正确，所有参数都可以（我知道我应该使用argumentsColletion ...），所以我一无所知，需要小睡一下。稍后回来查看！

和 CFC：

```
<cfcomponent output="false" hint="basket mailing cfc - sends out all basket related mail messages">

    <!--- LOAD LANGUAGES --->
    <cfinclude template="../templates/tmp_lang.cfm">

    <!--- INIT --->
    <cffunction name="Init" access="public" returntype="any" output="false" hint="Initialize">

        <!--- nothing here for now --->

        <cfreturn true />
    </cffunction>

    ... msgs like this:

    <!--- NEW ORDER SELLER --->
    <cffunction name="msg_order_seller" access="public" output="false" hint="msg for new orders"> 
        <cfargument name="delDate" type="date" required="true" hint="delivery date" />
        <cfargument name="delMsg" type="string" required="true" hint="text message by retailer" />
        <cfargument name="delOrd" type="string" required="true" hint="order type pre/asap" />
        <cfargument name="mailto" type="string" required="true" hint="email adress" />
        <cfargument name="client" type="string" required="true" hint="buyer" />
        <cfargument name="rebate" type="string" required="true" hint="rebate 1/0" />
        <cfargument name="sellerIln" type="string" required="true" hint="seller ILN" />
        <cfargument name="ordNo" type="string" required="true" hint="order number" />

        <cfprocessingdirective suppresswhitespace="No">
            <cfmail
                    TO="#mailto#"
                    FROM="automailer@..."
                    SERVER="mail.bbb.de"
                    USERNAME="ddd"
                    PASSWORD="123456"
                    SUBJECT="#tx_automailer_order_new# - #client#">
#tx_automailer_default_anrede#

#tx_automailer_order_info#

#tx_automailer_order_type#: #ordertype# #rebateTxt#
#tx_automailer_order_del#: #deliveryDate#

#tx_automailer_order_no#:     #ordNo#
#tx_automailer_order_date#:      #DateFormat(now(),"dd.Mm.yyyy")#

#tx_kaeufer#:            #client#
#tx_automailer_order_msg#:
#delMsg#

#tx_automailer_order_iln#:  #sellerIln#

#tx_automailer_default_gruss#
#tx_automailer_default_team#
-------------
#tx_automailer_default_disclaimer#
                    </cfmail>
              </cfprocessingdirective>      
          <cfreturn />
    </cffunction>  
    ...

 </cfcomponent> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T12:45:38.047

如果您只是想解决问题而不是试图找出导致问题的原因，我有一个建议。不要多次对同一个组件使用 cfinvoke 标记，而是使用 cfobject 或 CreateObject() 来创建它的一个实例。然后直接调用方法。

即使您确实采用了当前的工作方法，它也会比我的建议慢。cfinvoke 每次调用它时都会创建一个对象，这需要处理时间。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T04:06:07.193

Are you sure that both methods exist and are public?

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-23T11:19:44.943

1.  在 cfc 中使用 cfinclude**不是**好的做法，尽管我承认有时我也必须这样做。
2.  您的错误`Could not find the ColdFusion Component or Interface form_mailer_basket`似乎暗示**组件**本身发生了某些事情-我怀疑它与您在`Init()`方法中的 return 语句有关。
3.  在早期版本的 CF（我认为大约是 6/7 版可能是 8 版）中，您可以通过在 cfc 中设置同名变量来覆盖您的函数。您没有提及您正在运行的 CF 版本。

# java - 递归搜索二叉树的字符串值

> ID：13486078
> 
> 赞同：0
> 
> 时间：2012-11-21T03:53:06.603
> 
> 标签：java, recursion

我有一个应该只保存唯一字符串值的二叉树。在输入新字符串（由用户完成）之前，我需要递归检查树以查看字符串是否已经存在。这是我想出的方法，但它只能找到某些值（我相信的根和左边的值）。任何有关如何解决此问题的提示表示赞赏！

```
public static TreeNode wordExists(TreeNode root, String strInput){
    if (root != null){

    if (strInput.equals(root.dataItem))
    {
        return root;
    }
    if (root.left != null){
        return wordExists (root.left, strInput);
    }
    if (root.right != null){
        return wordExists (root.right, strInput);
        }
    }
    return null;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T03:55:13.740

当您向下导航每个分支时，您需要在返回之前检查结果。否则，如果结果仅在右分支中，但左侧还有其他非 null 值，则您将返回 null，因为在左侧路径中找不到它。

所以而不是

```
if (root.left != null) {
    return wordExists(root.left, strInput);
}
if (root.right != null) {
    return wordExists(root.right, strInput);
} 
```

你可能会做类似的事情

```
TreeNode result;
if ((result = wordExists(root.left, strInput)) != null) {
    return result;
}
return wordExists(root.right, strInput); 
```

您可以在第二次递归时使用该快捷方式，因为如果它失败，您无论如何都会返回 null 。

# c# - 我可以看到给编译器以构建项目的命令吗？

> ID：13486080
> 
> 赞同：4
> 
> 时间：2012-11-21T03:53:31.360
> 
> 标签：c#, .net, visual-studio, visual-studio-2012

我想知道是否可以看到给编译器的命令以在 Visual Studio 2012 中构建项目。我怎样才能做到这一点？

（我对 .Net C# 项目很感兴趣）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T05:01:16.517

去把它改成`TOOLS -> Options -> Projects and Solutions -> Build and Run -> MSBuild project output verbosity -> Normal`

`Output`然后你会在窗口中看到你想要的。

示例输出：

`CoreCompile: 1> C:\Windows\Microsoft.NET\Framework\v4.0.30319\Csc.exe /noconfig /nowarn:1701,1702,2008 /nostdlib+ /errorreport:prompt /warn:4 /define:DEBUG;TRACE /errorendlocation ...`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:13:57.523

使用[Process Monitor](http://technet.microsoft.com/en-au/sysinternals/bb896645.aspx)查看`CSC.exe`Visual Studio 使用的命令。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:01:42.187

我不确定，但您是否正在寻找这个 [命令行构建](http://msdn.microsoft.com/en-us/library/vstudio/78f4aasd.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T04:07:15.313

转到输出选项卡：菜单 -> 调试 -> Windows -> 输出

# c++ - 插入运算符的非成员函数形式

> ID：13486088
> 
> 赞同：0
> 
> 时间：2012-11-21T03:54:17.013
> 
> 标签：c++, operator-overloading, ostream

我想要一个非类成员重载 put 运算符，它使用引用参数从汽车对象输出信息。

这是我的代码：

```
ostream& operator<<(ostream& os, Car& p)
{
         os << "For a car make " << p.get_make() << ", " << p.get_year()<< ", the price is $" << p.get_price()  << endl;
         return os;
} 
```

我收到一个 `std::ostream& Car::operator<<(std::ostream&, Car&)' must take exactly one argument`错误

我不允许有汽车作为参数吗？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T03:57:46.410

你说你想定义一个*非成员*运算符。然而，您将运算符定义放在类定义中，这使得编译器将其视为*成员*（此运算符的成员实现必须只有一个参数，因此会出现错误消息）。如果要定义非成员运算符，请将其移到类定义之外或将其声明为`friend`（或两者）

# matlab - 在 MATLAB 中总结骰子

> ID：13486093
> 
> 赞同：2
> 
> 时间：2012-11-21T03:54:49.467
> 
> 标签：matlab, dice

我的名为 RollDice 的函数模拟了给定数量的六面骰子的滚动给定次数。该函数有两个输入参数，每个实验中将掷出的骰子数 (NumDice) 和掷骰子的总次数 (NumRolls)。该函数的输出将是一个长度为 NumRolls 的向量 SumDice，其中包含每个实验中骰子值的总和。

这是我现在的代码：我如何计算骰子的总和？谢谢！

```
function SumDice= RollDice(NumDice,NumRolls)

FACES= 6;               
maxOut= FACES*NumDice;         
count= zeros(1,maxOut);  

for i = 1:NumRolls

    outcome= 0;  
    for k= 1:NumDice
        outcome= outcome + ceil(ranNumDice(1)*FACES);
    end

    count(outcome)= count(outcome) + 1;
end

bar(NumDice:maxOut, count(NumDice:length(count)));
message= sprintf('% NumDice rolls of % NumDice fair dice',  NumRolls, NumDice);
title(message);
xlabel('sum of dice values');  ylabel('Count'); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T04:19:30.097

这是一个简单而整洁的小问题（+1），我很喜欢研究它:-)

有很多地方我觉得我可以改进你的功能。与其一一浏览，我想我只是重写函数我会怎么做，我们可以从那里开始。我把它写成一个脚本，但它可以很容易地变成一个函数。最后，我还通过允许骰子有任意数量的面（6 个或其他）来概括它。所以，这里是：

```
%#Define the parameters
NumDice = 2;
NumFace = 6;
NumRoll = 50;

%#Generate the rolls and obtain the sum of the rolls
AllRoll = randi(NumFace, NumRoll, NumDice);
SumRoll = sum(AllRoll, 2);

%#Determine the bins for the histogram
Bins = (NumDice:NumFace * NumDice)';

%#Build the histogram
hist(SumRoll, Bins);
title(sprintf('Histogram generated from %d rolls of %d %d-sided dice', NumRoll, NumDice, NumFace));
xlabel(sprintf('Sum of %d dice', NumDice));
ylabel('Count'); 
```

我建议您仔细查看我的代码和我使用的每个函数的文档。将来在解决 Matlab 中的其他问题时，该练习可能对您有用。完成后，如果您有任何不明白的地方，请在评论中告诉我，我会尽力提供帮助。干杯!

ps，如果您不再需要参考单个卷，您当然可以将`AllRoll`and`SumRoll`行转换为单行，即：`SumRoll = sum(randi(NumFace, NumRoll, NumDice), 2);`. 我个人认为两行更易读，我怀疑它会对代码的效率产生很大影响。

# javascript - 这是您合并 Onload 事件的方式吗？

> ID：13486094
> 
> 赞同：1
> 
> 时间：2012-11-21T03:54:51.657
> 
> 标签：javascript, html, events, onload

我有一个快速的问题。我正在尝试在 HTML5 中合并一个 onload 事件。这是我的代码，但它拒绝工作。请让我知道我做错了什么。

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Animation</title>

    <script>
        document.getElementById('videoBackground').onload = function()
        {
            document.body.style.backgroundColor = 'black';
        }
    </script>

    <script type="text/javascript" src="js/animCD.js"></script>    
    <link rel="stylesheet" href="style.css" type="text/css" />

    </head>
    <body>

    <video id="videoBackground" poster="img/loading.png" onload="function()" width="1920" height="1080" preload="auto" onprogress="animCD_onprogress();" onended="animCD_start();">
        <source id="colorVid_mp4" type="video/mp4" src="img/luther_color.mp4">      
    </video> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T03:59:08.987

指定`someElement.onload = function() { }` *是*在一般意义上创建 onload 处理程序的方式。你不起作用的原因是你的脚本块出现在有问题的元素之前并立即运行，此时`document.getElementById()`找不到该元素，因为它尚未被解析。

**您可以通过将脚本块移动到元素之后的某个位置来解决此问题（许多人将他们的脚本放在正文的末尾），**或者通过在页面的 onload 处理程序中调用它：

```
window.onload = function() {
    document.getElementById('videoBackground').onload = function() {
        document.body.style.backgroundColor = 'black';
    }
}; 
```

尽管应该在加载所有内容后调用页面/窗口的 onload，但我不确定从那里创建更多 onload 处理程序是否有任何意义。

我注意到您`onload="function()"`的 html 中也有一个属性。这是另一种指定处理程序的方法，虽然内联事件属性不是首选的处理方式，但您需要放置一个实际的函数名称`onload="someFunction()"`来调用在其他地方定义的命名函数，或者直接放置代码：

```
<video ... onload="document.body.style.backgroundColor='black';" ...> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:01:33.987

在您执行`getElementById('videoBackground')`具有 id 的元素的位置`videoBackground`还不存在。

将脚本移到您创建`videoBackground`元素的位置下方，或者在 DOM 加载后使用`document.onload`.

# java - JAVA代码中的android getInputType

> ID：13486101
> 
> 赞同：0
> 
> 时间：2012-11-21T03:55:18.340
> 
> 标签：java, android

我在 XML 中定义了一个带有属性**android:inputType="numberSigned"**的 EditText ，因此，当我尝试在 Java 代码中获取它时，例如：

> `int type = mEditText.getInputType();`
> `switch(type){`
> `case InputType.TYPE_NUMBER_FLAG_SIGNED:`
> `//do when I get EditText defined with 'numberSinged'`
> `//do something`
> `break;`
> `}`

但是，它对我不起作用。所以我尝试检查Android源代码，`TYPE_NUMBER_FLAG_SIGNED=4096`. 当我尝试打印`println(mEditText.getInputType())`时，它变成了`4098`。而且我找不到任何变量 equals `4098`。
谁能告诉我原因？

*我英语不好，希望你能理解我！谢谢！*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T03:59:48.427

可以有多个标志分配给 inputType。要确定是否设置了标志，请使用按位 AND ( `&`) 运算符：

```
int type = mEditText.getInputType();
if((type & InputType.TYPE_NUMBER_FLAG_SIGNED) > 0)
{
    // your stuff here
} 
```

我想，`switch`这里不可能使用 case 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:02:10.073

`TYPE_NUMBER_FLAG_SIGNED`常数值：4096 (0x00001000)。

[在此处](http://developer.android.com/reference/android/text/InputType.html#TYPE_NUMBER_FLAG_SIGNED)获取更多信息

# android - 选项卡中捆绑的传输变量

> ID：13486104
> 
> 赞同：0
> 
> 时间：2012-11-21T03:55:40.197
> 
> 标签：android, tabs, nullpointerexception, bundle

我有一个 tabHost`MainActivity`和两个 A、B 活动。在每个选项卡中，我想将名为 cityName 的字符串从 MainActivity 传输到 A 活动。但我总是`NullPointerException`在 Logcat 中得到一个并被迫关闭 TT

这是我的代码：

```
public class MainActivity extends TabActivity {

private static TabHost tabHost;
public static String selectedCity;
Bundle selectedCityBundle = new Bundle();
Intent selectedCityIntent = new Intent();

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    Resources res = getResources();
    selectedCityBundle.putString("CityName", "LA");
    selectedCityIntent.setClass(this, A.class);
    selectedCityIntent.putExtras(selectedCityBundle);
    tabHost = getTabHost();     
    TabHost.TabSpec spec;
    Intent intent;
    intent = new Intent().setClass(this, A.class);
    spec = tabHost.newTabSpec("tab1")
            .setIndicator("A", res.getDrawable(R.drawable.start))
            .setContent(intent);
    tabHost.addTab(spec);

    intent = new Intent().setClass(this, B.class);
    spec = tabHost.newTabSpec("tab2")
            .setIndicator("B", res.getDrawable(R.drawable.weather))
            .setContent(intent);
    tabHost.addTab(spec);

    tabHost.setCurrentTab(0);

} 
```

**A级**

```
public class A extends Activity {

TextView tempNum, cn1, cn2, cn3, ln1, ln2, ln3, city, rainProb;
Intent cityIntent = new Intent();
Bundle cityBundlecityBundle = cityIntent.getExtras();

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.start);
    tempNum = (TextView) findViewById(R.id.temp);
    rainProb = (TextView) findViewById(R.id.raining);
    cn1 = (TextView) findViewById(R.id.zone1News1);
    cn2 = (TextView) findViewById(R.id.zone1News2);
    cn3 = (TextView) findViewById(R.id.zone1News3);
    ln1 = (TextView) findViewById(R.id.zone2News1);
    ln2 = (TextView) findViewById(R.id.zone2News2);
    ln3 = (TextView) findViewById(R.id.zone2News3);
    city = (TextView) findViewById(R.id.location);      
    city.setText(cityBundle.getString("CityName"));
    //Always got error NullPointerException here
}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T03:59:44.580

您当前正在将一个捆绑包放入另一个捆绑包中。像这样传递您的城市名称：

```
selectedCityIntent.putExtra("CityName", "LA"); 
```

你的代码应该运行良好。

**编辑：**

你也没有捕捉到意图，你只是在你的代码中创建了一个新的。在您的 A 类中，像这样获取捆绑包：

```
Bundle cityBundle;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.start);
    cityBundle = getIntent().getExtras();
    tempNum = (TextView) findViewById(R.id.temp);
    rainProb = (TextView) findViewById(R.id.raining);
    cn1 = (TextView) findViewById(R.id.zone1News1);
    cn2 = (TextView) findViewById(R.id.zone1News2);
    cn3 = (TextView) findViewById(R.id.zone1News3);
    ln1 = (TextView) findViewById(R.id.zone2News1);
    ln2 = (TextView) findViewById(R.id.zone2News2);
    ln3 = (TextView) findViewById(R.id.zone2News3);
    city = (TextView) findViewById(R.id.location);      
    city.setText(cityBundle.getString("CityName"));
} 
```

**编辑2：**

好的，当您向选项卡提供意图时也会出现问题。您没有包括您的 selectedCityBundle。由于您不必要地使用了太多捆绑包，请参阅下面的代码`MainActivity`：

```
public class MainActivity extends TabActivity {

private static TabHost tabHost;
public static String selectedCity;    

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    Resources res = getResources();
    tabHost = getTabHost();     
    TabHost.TabSpec spec;
    Intent intent;
    intent= new Intent().setClass(this, A.class);
    intent.putExtra("CityName", "LA");
    spec = tabHost.newTabSpec("tab1")
            .setIndicator("A", res.getDrawable(R.drawable.start))
            .setContent(intent);
    tabHost.addTab(spec);

    intent = new Intent().setClass(this, B.class);
    intent.putExtra("CityName", "LA");
    spec = tabHost.newTabSpec("tab2")
            .setIndicator("B", res.getDrawable(R.drawable.weather))
            .setContent(intent);
    tabHost.addTab(spec);

    tabHost.setCurrentTab(0);

} 
```

请注意，我不确定意图和规范是否会像这样重用。如果您在更改选项卡时发现任何错误，请尝试在每个选项卡的不同变量中创建新的意图和规范。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:36:16.250

尝试这个...

```
 Bundle bundle = getIntent().getExtras();
    String string = bundle.getString("CityName");
 city.setText(string); 
```

# php - 如何在 Drupal 6 中以编程方式分配角色？'角色' => '角色名没有用

> ID：13486105
> 
> 赞同：0
> 
> 时间：2012-11-21T03:55:42.710
> 
> 标签：php, drupal, drupal-roles

在我的 Drupal 6 站点中，我具有使用节点表单内的信息创建新用户的功能：

```
function altas_create_user($name,$pass,$mail) {
  $newuser = array(
    'name' => $name,
    'mail' => $mail,
    'pass' => $pass,
    'access' => 1,
    'notify' => 1,
    'status' => 1,
  );
  return user_save(NULL, $newuser); 
} 
```

现在，我注意到的是我没有为该用户分配角色。我该怎么做？

我试过添加这个，但没有奏效：`'role' => 'rolename',`

我该怎么做？谢谢你的帮助！

编辑：我忘了说我已经查看了 API，[发现](http://api.drupal.org/api/drupal/modules!user!user.module/function/user_save/7#comment-18324)也许我应该使用 `'roles' => $roles`，但不明白如何实际填写`$roles`我的角色名。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:27:02.453

解决了！[（在此处](http://mattdanger.net/2009/12/programmatically-create-users-in-drupal-6-x/)找到答案）并认为我会将结果发布出来，以防万一它对某人有所帮助：我应该

```
// Get an array of roles
$roles = user_roles(); 
```

首先（在函数内部，在 $newuser 数组之前），然后，

```
'roles' => array(array_search('myrolename', $roles) => 1), 
```

在那里，它就像一个魅力。

# c# - RijndaelManaged 与 AesCryptoServiceProvider（AES 加密）

> ID：13486109
> 
> 赞同：30
> 
> 时间：2012-11-21T03:56:39.017
> 
> 标签：c#, .net, encryption, aes

我需要使用 AES 加密数据。在研究时，我发现了[AesCryptoServiceProvider](http://msdn.microsoft.com/en-us/library/system.security.cryptography.aescryptoserviceprovider%28v=vs.100%29.aspx)类。

我对加密知之甚少，也不知道初始化向量 (IV) 是什么，所以我尝试在堆栈溢出中搜索 AES 示例，这导致我提出了[这个问题](https://stackoverflow.com/a/273499/637142)。

**为什么堆栈溢出链接使用 RijndaelManaged 类？[RijndaelManaged](http://msdn.microsoft.com/en-us/library/3k2d54f8%28v=vs.100%29.aspx)和[AesCryptoServiceProvider](http://msdn.microsoft.com/en-us/library/system.security.cryptography.aescryptoserviceprovider%28v=vs.100%29.aspx)类是否在做同样的事情？**

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-11-21T08:32:28.480

AES 基于 Rijndael，但块大小限制为 128 位。Rijndael 支持更广泛的块大小，许多加密库提供单独的 Rijndael 实现来补充 AES。

> Rijndael 算法支持 128、160、192、224 和 256 位的块大小，但 AES 标准中仅指定了 128 位的块大小。[[维基百科](http://en.wikipedia.org/wiki/Advanced_Encryption_Standard#cite_note-blocksize-2)]

你链接到`RijndaelManaged`班级。AES 的等效类是[`AesManaged`](http://msdn.microsoft.com/en-us/library/system.security.cryptography.aesmanaged%28v=vs.100%29.aspx).

关于类之间的区别：`AesManaged`只需将`RijndaelManaged`块大小设置为 128即可使用。`AesManaged`并且`RijndaelManaged`不符合 FIPS，如果设置了 FIPS 组策略标志，则使用时将引发异常。.NET Framework 4.6.2（2016 年 8 月）添加了[AesCng](https://msdn.microsoft.com/en-us/library/system.security.cryptography.aescng(v=vs.110).aspx)类，它是 AES 算法的[CNG版本的实现。](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa376210%28v=vs.85%29.aspx)

*[IV](http://en.wikipedia.org/wiki/Initialization_vector)是一段随机数据，长度与块大小相等，这是某些对称操作模式（例如，CBC 模式）所要求的。通常，IV 与第一个明文块或第一个密文块组合（异或）。这个想法是为了确保使用相同的密钥对相同的消息进行两次加密不会导致相同的输出。*

# cordova - 让 jQuery Mobile 的点击事件更敏捷？

> ID：13486110
> 
> 赞同：0
> 
> 时间：2012-11-21T03:56:48.060
> 
> 标签：cordova, jquery-mobile, responsive-design

使用 jQuery Mobile 的 PhoneGap 应用程序上的按钮仅在我点击按钮几秒钟后才会响应。`tap`如果我用`click`事件替换也是如此。我该如何加快速度？或者，如果不可能，我该如何简单地做到这一点，以便当用户点击按钮时，按钮的样式会立即更改（也就是让用户知道他们已经成功按下按钮）。这是为了防止他们不断点击按钮，认为它不起作用。

我知道我在这里看到了一个帖子，详细说明了如何做到这一点，但我再也找不到了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:27:44.383

iOS 上的 click 事件存在延迟，您可以通过绑定到 vclick 或点击而不是点击来避免。对于没有自定义事件处理程序的按钮，请搜索 jquery mobile fastbutton。

但是，该延迟是 300 毫秒 - 很明显，但不是您看到的几秒钟，因此您可能还有另一个问题。

在您的事件处理程序中使用 setTimeout 可能会有所帮助 - 如果应用程序忙于点击处理程序，则不会呈现活动按钮样式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:21:54.047

这个库完全符合您的要求：[https ://github.com/ftlabs/fastclick](https://github.com/ftlabs/fastclick)

# android - 源码联系android

> ID：13486114
> 
> 赞同：1
> 
> 时间：2012-11-21T03:57:44.327
> 
> 标签：android, android-contacts, android-source

每当按下通话按钮或视频通话按钮时，我都需要让我的手机执行某些操作。我已经从源代码修改了拨号盘和通话记录，那里的通话按钮也按照我想要的方式工作。但是，我完全无法找出哪个 .java 文件处理联系人中的呼叫按钮。比如说，我点击联系人，然后选择一些联系人，稍后在下一个屏幕中选择按下通话按钮.. 需要在此处捕获 onClick()。任何帮助，将不胜感激。

谢谢

# hibernate - hibernate：如何将标准放在浮点类型上

> ID：13486118
> 
> 赞同：3
> 
> 时间：2012-11-21T03:58:02.850
> 
> 标签：hibernate

我正在对浮动且不工作的实体属性应用标准。

```
 Criteria crit = session.createCriteria(MyClass.class);
         float a = (float)0.2;
         crit.add(Restictions.eq("mynumber", a)); 
```

mynumber 是我的实体在哪里

```
 @Column(name = "mynumber")
               private float  mynumber; 
```

它总是给我空结果，而在我的表中有行 mynumber=0.2

如果我将任何其他标准放在它工作的任何其他列上，那么问题只出在这种浮点类型上。

任何想法可能是解决方案

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:09:48.027

`floating`数字遵循`IEEE Standard 754`表示形式，`0.2`可以存储为`0.19999967..`. 这会使您的比较失败，因此没有结果。

为避免此问题，请尽可能使用`double`或。`BigDecimal`

# asp.net-mvc - 十进制和整数的 MVC 编辑器模板

> ID：13486120
> 
> 赞同：3
> 
> 时间：2012-11-21T03:58:06.390
> 
> 标签：asp.net-mvc, vb.net, razor, asp.net-mvc-4

我尝试为 Decimal 和 Integer 类型创建一个简单的自定义编辑器模板：

```
@ModelType Decimal?
@Html.NumericBoxFor(Function(m) m) 
```

和

```
@ModelType Integer?
@Html.NumericBoxFor(Function(m) m) 
```

将它们保存为 ~/Views/Shared/EditorTemplates/Decimal.vbhtml 和 ~/Views/Shared/EditorTemplates/Integer.vbhtml（也尝试过 Int32.vbhtml）。

但是我的自定义 HtmlHelper 函数永远不会被调用。在网上搜索并尝试了很多东西后无法弄清楚..这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-22T03:24:42.723

我刚刚发现在应用程序中有一个自定义 ViewEngine，它搞砸了路径（通过 global.asax 定义）。删除它可以解决问题。

# java - 将明文密码*临时*存储在 MySQL 中是否安全？

> ID：13486126
> 
> 赞同：7
> 
> 时间：2012-11-21T03:58:51.583
> 
> 标签：java, php, mysql, security, phpbb3

一点背景——

我运行一个运行在 Java 中的游戏服务器，以及一个运行在 PHP (phpbb) 中的论坛。我把游戏和论坛账号绑定了，所以在游戏中修改密码会自动修改论坛账号的密码。这两个系统使用不同的密码哈希算法，我需要使用 phpbb 的内置函数来更新论坛端的密码哈希，这意味着我必须从 PHP 脚本调用它们（而不是运行我自己的代码）。

为了做到这一点，我决定让 Java 通过在需要更改密码时向 PHP 脚本发出 HTTP 请求来调用 PHP 脚本，以触发 PHP 脚本来完成论坛帐户的密码更改过程。但是，我不想将明文密码放在任何 HTTP 调用中，因为它可能会出现在日志文件和其他可利用的区域中。我目前的想法是，Java端在修改密码时，将新的明文密码放在数据库表中，然后发出HTTP请求触发PHP脚本，这样HTTP请求中就不会出现哈希或敏感信息。HTTP 调用只会传递要更改的帐户的用户名，以及共享密钥的 md5 哈希加上用户名，以进行身份​​验证。当 PHP 脚本运行时，

在典型情况下，明文密码在被删除之前可能会在数据库中保存不到一秒钟。理想情况下，我根本不会将它存储在任何地方，但是当我无法预测论坛的密码哈希是什么时，我不确定如何将所需的更改从 Java 传递到 PHP，所以我需要以某种方式发送执行散列的 PHP 脚本的明文密码。

关于更好的方法的任何想法，或者是否有任何关于在很短的时间内存储明文密码的反馈？我认为 MySQL 登录是安全的，不会与其他人或项目共享。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:17:44.877

不要存储明文密码。如果您的游戏变得流行，它可能会成为黑客不断攻击的目标，特别是如果它包含金钱方面的内容（例如，魔兽世界、travian 等）。在这种情况下，您需要假设尽管您试图保护您的系统，但有人可能会破解它，并因此获得敏感数据。您应该使用标准加密机制来执行此任务（例如，以安全的方式通过 HTTPS 将密码发送到论坛系统）。我还建议您探索@Joshua Kaiser 的评论 - 单点登录可能是满足您需求的关键，不要试图在这里重新发明轮子。例如，我可以告诉你我使用 kerberos，而 Kerberos 有一个票证机制，其中票证可以在应用程序之间重复使用。

PS - 我错误地发布了这个答案两次，并尝试按“删除帖子” - 我希望 stackoerflow 能解决这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:09:15.057

这取决于您使用 Java 而不是 PHP 的数据库。在 PHP 中使用 PDO 连接到不同的数据库并操作数据。您可以尝试简单地将一个数据库作为主密码存储，另一个作为辅助 - 取决于您的反向加密。

让 PHP（例如）将文本密码直接 PDO 到临时字段中的 Java 数据库中 - 当然特定于用户 - 然后告诉 PHP 触发 Java 函数来读取该列，对其进行哈希处理，更新正确的列并删除临时字段。

如果处理得当，您可以将漏洞的时间范围限制在几毫秒内。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T09:45:26.030

加密是一种方式。

*   加密连接：HTTPS 的同义词。如果您的服务器支持，则使用 HTTPS 将数据传递给 phpbb。
*   加密数据：要么加密密码并以某种方式存储密钥（非常不安全），要么使用非对称加密。[请参阅我的问题](https://stackoverflow.com/questions/13470950/is-it-possible-to-establish-a-shared-secret-over-a-public-channel/13471002)的答案，以深入了解如何通过安全通道发送密码。

# c# - 正确存储/公开函数列表 在课堂上

> ID：13486127
> 
> 赞同：1
> 
> 时间：2012-11-21T03:59:00.770
> 
> 标签：c#, class, delegates, lambda

我有一个类需要提供一种方法来注册任意数量的`Func<T, TResult>`代表。

然后在一系列操作期间在我的班级中调用这些。

公开注册这些代表的能力的正确方法是什么？它只是`IEnumerable<Func<T, TResult>>`, `IList<Func<T, TResult>>`,的公共财产`ReadOnlyCollection<Func<T, TResult>>`吗？

是否有一些通常在这里使用的特定模式？

更加具体..

假设一个场景

```
public class Foo 
{
    public List<Func<Control, Func<bool>>> Conditions { get; set; }
    public void DoWork() 
    {
         foreach (Func<Control, Func<bool>> condition in this.Conditions)
             var result = condition.Invoke(new Control());
    }

} 
```

这是一个可接受的实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:11:48.873

没有足够的信息。这将完全取决于您的情况，特别是您想要提供的合同保证（例如保证订单、集合的不变性等）。除非您有特殊要求，否则我建议您使用最简单的版本 -- `IEnumerable<Func<T, TResult>>`-- 其余的留给您的实现。这就是我过去所做的。

至于`List`在您的示例中使用 a as ，本质上没有任何问题。您可能会发现坚持下去很方便，`IEnumerable<Func<T, TResult>>`以免过度限制自己。`List<T>`implements `IEnumerable<T>`，因此您`Conditions = new List<Func<T, TResult>>`在初始化时仍然可以使用它。

# jquery - 使用 if then 在窗口调整大小时移动 div

> ID：13486133
> 
> 赞同：0
> 
> 时间：2012-11-21T03:59:41.323
> 
> 标签：jquery, window-resize, insertafter

当窗口被调整大小时，我试图移动一些 div，如果 then 语句不应该这样工作：

```
$(window).resize(function() {
if ($(window).width() < 1024) {
    $('.div1').insertAfter('.div2');
}
else ($(window).width() > 1024) {
    $('.div1').insertBefore('.div2');
}
}); 
```

另外，我可以在使用 .resize 加载页面或首次加载页面时触发此操作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:09:11.497

Else statements can't have a condition attached.

```
else ($(window).width() > 1024) {
    $('.div1').insertBefore('.div2');
}
}); 
```

has to be

```
else {
    $('.div1').insertBefore('.div2');
}
}); 
```

If you wan't to call this during page load, you can put it into a function and call the function both on resize and on page load.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:11:51.837

尝试这个

```
$(window).resize(function() {
if ($(window).width() < 1024) {
    $('.div1').insertAfter('.div2');
}
else{
    $('.div1').insertBefore('.div2');
}
}); 
```

你可以使用jquery[触发器](http://api.jquery.com/trigger/)

# c - 第一行代码之前的分段错误

> ID：13486137
> 
> 赞同：8
> 
> 时间：2012-11-21T03:59:58.503
> 
> 标签：c, io, segmentation-fault

我正在开发一个简单的 C 程序来打开一个文件并从中读取一些数据。没有编译错误，但是当我在某个文件上运行程序时，我收到“分段错误：代码转储”错误。我在代码的最顶部插入了一条打印语句，但它没有运行。当您还没有做任何事情时，是否有可能出现分段错误？

```
#include <stdio.h>

int main(int argc, char **argv)
{
    printf("%s", "Made it to here!");
FILE *fp;   
char input[100];
fp = fopen(argv[1], "r+b");
fgets(input, sizeof(input), fp);
printf("%s", input);
fclose(fp);
return(0);

} 
```

当我在其自身的文本版本上运行它时，它会起作用，它会打印出第一行。但是，当我在另一个文件 texttest.vmf 上运行它时，我得到了分段错误并且第一次打印没有执行。VMF 是阀门图文件，但它们采用标准文本格式。该文件大小约为 3.7 KB。有任何想法吗？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-11-21T04:02:57.043

您的代码之前没有必要失败`printf`：调用`printf`可能已经成功，但是因为控制台的输出是*缓冲*的，所以程序可能在输出写入屏幕之前就崩溃了。

添加`\n`到输出字符串会导致控制台缓冲区刷新。如果您希望通过`printf`s 进行调试，则应始终添加`\n`到格式字符串的末尾。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:07:52.440

您的`fopen`通话可能会失败。在尝试使用之前尝试检查返回值`fp`：

```
FILE *fp;   
char input[100];
if((fp = fopen(argv[1], "r+b") == NULL) {
  fprintf(stderr, "ERROR: Cannot open file.\n");
  return 1;
} 
```

确保添加`#include <stdlib.h>`NULL 宏以供使用。

# c - 如何从 simple_strtol() 获取错误状态？（在 C 中将字符串转换为 int）

> ID：13486139
> 
> 赞同：1
> 
> 时间：2012-11-21T04:00:15.743
> 
> 标签：c, linux

我想`int`从 C 中的`string`( `char*`) 解析一个。我正在为嵌入式 linux 编写一个 linux 内核模块。我正在尝试使用`simple_strtol`found [here](http://www.kernel.org/doc/htmldocs/kernel-api/API-simple-strtol.html)。

我在理想情况下解析的令牌将是数字。我遇到的问题`"0"`是有效输入。如果无法解析值（错误），则`strtol`返回。`0`所以这意味着以下代码：

```
char* token = "should_fail";

char **endptr;
char value = simple_strtol(token, endptr, 10); // 10 is the base to convert to
if (!**endptr){
    printf("failed!");
} else {
    printf(value);
}

char* token = "0"; // should pass
char **endptr;
char value = simple_strtol(token, endptr, 10); // 10 is the base to convert to
if (!**endptr){
    printf("failed!");
} else {
    printf(value);
} 
```

在两种情况下都打印出来`0`，而在第一种情况下它应该失败。我正在尝试使用该`*endptr`参数来检查转换是否成功，但它不起作用。根据我的研究，`*endptr`是“指向已解析字符串末尾的指针将放置在此处”。而且我相信如果转换失败，指针将指向任何内容，因此我可以识别该失败。

有谁知道我如何`"0"`正确解析并获得返回值，`0`同时仍然识别失败的解析，而不是让它返回`0`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:07:04.283

You should not create a pointer-to-pointer variable for `endptr`. Instead declare a single pointer, and pass the address of that with the unary `&` operator:

```
char *endptr;

simple_strtol(token, &endptr, 10);

if (endptr == NULL) ... 
```

* * *

I didn't read the manual page but basically copied what the OP had used. Froom the [manual page](http://pubs.opengroup.org/onlinepubs/9699919799/functions/strtol.html):

> If the subject sequence is empty or does not have the expected form, no conversion is performed; the value of str is stored in the object pointed to by endptr, provided that endptr is not a null pointer.

This means that if `strtol` (or your alternative if it's working as specified) returns `0` *and* `endptr == token` then the string was invalid.

So the check should be

```
if (value == 0 && endptr == token)
{
    /* String is not a valid number */
} 
```

# java - 用jsp解析文本文件名

> ID：13486140
> 
> 赞同：0
> 
> 时间：2012-11-21T04:00:24.390
> 
> 标签：java, jsp

我需要获取实际上以 45- **something.log**之类的开头的文件的名称。我可以抓住 45，但不能抓住其余的，因为**某些东西是**由随机数组成的。此外，这样的文件已经在服务器上，我需要事先寻找它。

我已经尝试过类似以下的方法：

```
 <%
        String line ="";

        String file = "/tmp/smsrouter/" + pageContext.getAttribute("cid");
        BufferedReader br = new BufferedReader(new FileReader(file));
        int count = 0;
        int lineNumber = 0;
        while((line=br.readLine())!=null)
        {
            String[] parts = line.split("\\,");

            lineNumber++;
            if(parts[3].equals("0") && count < lineNumber)
            {
                    count++;
            }
       }
       count = (count/lineNumber)*100;
       br.close();

      %> 
```

显然，它不会像预期的那样得到任何结果。那我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:21:20.007

为什么不迭代 /tmp/smsrouter/ dir 并匹配您想要的文件名？

```
 File[] files = new File("/tmp/smsrouter/").listFiles();

    for (File file : files) {
        if (file.isDirectory()||!file.getName().startsWith("45-")) {
            continue;
        } else {
            BufferedReader br = new BufferedReader(new FileReader(file));
            int count = 0;
            int lineNumber = 0;
            while((line=br.readLine())!=null)
            {
                String[] parts = line.split("\\,");

                lineNumber++;
                if(parts[3].equals("0") && count < lineNumber)
                {
                    count++;
                }
            }
            count = (count/lineNumber)*100;
            br.close();
        }
    } 
```

可能您想将计数逻辑提取到另一种方法。希望这有帮助。

在实际生产系统中不建议这样做，因为调用可能很长，可能会引发请求超时。

# javascript - 获取所有输入值并进行加法

> ID：13486148
> 
> 赞同：2
> 
> 时间：2012-11-21T04:01:40.563
> 
> 标签：javascript, jquery

```
 <ul class="liste_couleur_qty">
             <li style="margin-bottom: 20px;">
                    <dl>
                            <table width="200" border="0">
                          <tbody><tr>
                            <td width="50%">
                            <span style="display: block; font-size: 13px; line-height: 16px; margin-bottom: 2px;margin-right: 0px;margin-left: 20px;">Noir</span>
                        </td>

                            <td width="50%"><div class="add-to-cart">

                              <label for="qty-2195">qty :</label>

                              <input type="text" class="input-text qty calcul_qty_product" title="Qté" value="0" autocomplete="off" maxlength="5" data-product_color="127" id="qty-2195" name="qty-2195" onblur="addToCartPlus(2195, 127, this);">

                            </div></td>
                          </tr>
                        </tbody></table>
                        </dl>
                </li>

                <li style="margin-bottom: 20px;">
                    <dl>
                            <table width="200" border="0">
                          <tbody><tr>
                            <td width="50%">
                            <span style="display: block; font-size: 13px; line-height: 16px; margin-bottom: 2px;margin-right: 0px;margin-left: 20px;">Blanc</span>
                        </td>

                            <td width="50%"><div class="add-to-cart">

                              <label for="qty-2196">qty :</label>

                              <input type="text" class="input-text qty calcul_qty_product" title="Qté" value="0" autocomplete="off" maxlength="5"  id="qty-2196" name="qty-2196" onblur="addToCartPlus();">

                            </div></td>
                          </tr>
                        </tbody></table>
                        </dl>
                </li>
    <li style="margin-bottom: 20px;">
                    <dl>
                            <table width="200" border="0">
                          <tbody><tr>
                            <td width="50%">
                            <span style="display: block; font-size: 13px; line-height: 16px; margin-bottom: 2px;margin-right: 0px;margin-left: 20px;">Blanc</span>
                        </td>

                            <td width="50%"><div class="add-to-cart">

                              <label for="qty-2196">qty :</label>

                              <input type="text" class="input-text qty calcul_qty_product" title="Qté" value="0" autocomplete="off" maxlength="5"  id="qty-2196" name="qty-2196" onblur="addToCartPlus();">

                            </div></td>
                          </tr>
                        </tbody></table>
                        </dl>
                </li>

                    </ul> 
<div id="qtyvalue"><div> 
```

我想要做：

输入值更改时动态更改**div(qtyvalue)**的内容？如果有更多输入文本值，请将它们加在一起，然后在**div(qtyvalue)**中显示数字。我使用以下代码。

```
input.onkeyup = function() {
var result = 0;
$('.liste_couleur_qty li input').each(function(){
     result += parseInt(this.value, 10);
});
    document.getElementById('qtyvalue').innerHTML = result.value;    
} 
```

但是代码不起作用，我不知道如何循环输入，如果有两个或多个输入文本框。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:13:07.137

你想要的是这样的：

```
$(document).ready(function() { //wrap in a document.ready event handler
    $('input').on('keyup', function() { //bind using jQuery
        var result = 0;
        $('.liste_couleur_qty li input').each(function() {
            result += parseInt(this.value, 10);
        });
        $('div#qtyvalue').text(result); //result.value doesn't exist, use result.
    });
});​ 
```

这是一个演示：http: [//jsfiddle.net/jeRdA/](http://jsfiddle.net/jeRdA/)

**UDPATE：**

要允许用户将任何输入的值更改为`''`（例如，空白或空）或非数字值，请修改以下行：

```
result += parseInt(this.value, 10); 
```

到：

```
result += parseFloat(this.value, 10) || 0; 
```

更新小提琴：http: [//jsfiddle.net/jeRdA/3/](http://jsfiddle.net/jeRdA/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:14:26.097

试试这个：

```
var $inputs = $('.liste_couleur_qty li input');
$inputs.keyup(function() {
   var result = 0;
   $inputs.each(function(){
     result += parseInt(this.value, 10);
   });
   $('#qtyvalue').html(result);    
}); 
```

这需要在文档就绪处理程序中或在相关元素之后的脚本块中（许多人将他们的脚本放在正文的末尾）。

在您的代码中，`input.onkeyup = ...`由于没有变量`input`（它不会自动获取所有输入元素），因此无法正常工作，并且 using`someElement.onkeyup =`仅允许您一次将处理程序附加到一个元素。改用 jQuery 来绑定 keyup 处理程序。此外，要在最后使用总数，只需使用`result`，使用`result.value`将不起作用。

# microsoft-sync-framework - 静默安装 Sync Framework 2.1

> ID：13486152
> 
> 赞同：0
> 
> 时间：2012-11-21T04:02:18.250
> 
> 标签：microsoft-sync-framework, silent-installer

我想静默安装 Sync Framework 2.1，因为我将[http://www.microsoft.com/en-us/download/details.aspx?id=19502](http://www.microsoft.com/en-us/download/details.aspx?id=19502)处的可再发行包放入我的安装包中。

any1可以帮忙吗？提前致谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T01:44:49.823

看看这里的引导：http: [//social.microsoft.com/Forums/en-US/syncdevdiscussions/thread/fd0a494f-cc12-435f-9d1e-5b74a893fdca](http://social.microsoft.com/Forums/en-US/syncdevdiscussions/thread/fd0a494f-cc12-435f-9d1e-5b74a893fdca)

# c++ - 为什么打开文件时 fopen 返回 errno 21 ("is a directory")

> ID：13486154
> 
> 赞同：1
> 
> 时间：2012-11-21T04:02:54.750
> 
> 标签：c++, directory, fopen

所以我试图用 fopen 打开一个文件，它通常可以正常工作，但是对于一个文件，它认为我把它交给了一个目录，而不是一个文件。

这是我的电话：

```
fopen("/data/data/something/file.typ", "wb"); 
```

有谁知道为什么 fopen 会认为它正在尝试打开一个目录？错误编号/描述是否具有误导性？

# for-loop - PL/SQL 在 for 循环中执行即时异常处理

> ID：13486156
> 
> 赞同：2
> 
> 时间：2012-11-21T04:02:57.247
> 
> 标签：for-loop, plsql, record, locked, execute-immediate

在下面的 PL/SQL 代码中，TABLE_ONE 包含表名 tname 、列名 cname 和 rowid rid。For 循环从 TABLE_ONE 获取记录并更新表 tname 中的列 cname 以获取行 ID 为 rid 的记录。但是如果 tname 中要更新的记录被锁定，那么 for 循环就会卡住，并且不会处理来自 TABLE_ONE 的更多记录。理想情况下，脚本忽略更新失败的记录并继续进行。请告知可能是什么问题。

```
BEGIN
    FOR c IN (SELECT * FROM TABLE_ONE a )
    LOOP
        DECLARE
            TNAME varchar2(30);
            CNAME varchar2(30);
            RID ROWID;
            X number;
            updt_stmt varchar2(300);
        BEGIN
          BEGIN
            TNAME := c.TNAME;
            CNAME := c.CNAME;
            RID   := c.RID;                
            DBMS_OUTPUT.PUT_LINE( TNAME || '=>' || CNAME);
            updt_stmt := 'UPDATE ' || TNAME || ' SET ' || CNAME || ' = ''123'' WHERE  ROWID   like ''%' || RID || '%''';                
            EXECUTE IMMEDIATE updt_stmt;

          EXCEPTION
            WHEN OTHERS THEN
            DBMS_OUTPUT.PUT_LINE('ERROR');

          END;
        END;
    END LOOP;
END; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-09-08T18:24:36.897

未经测试，但我认为您可以先尝试使用 FOR UPDATE 锁定记录，如果其他事务处于活动状态，则指定 NOWAIT 会导致失败。然后，您可以捕获此异常并跳过处理。这是一个未经测试的示例：

```
DECLARE
  x ROWID;
  resource_busy EXCEPTION;
  PRAGMA EXCEPTION_INIT(resource_busy,
                        -00054);
BEGIN
  FOR c IN (SELECT *
              FROM table_one a)
  LOOP
    DECLARE
      tname     VARCHAR2(30);
      cname     VARCHAR2(30);
      rid       ROWID;
      x         NUMBER;
      updt_stmt VARCHAR2(300);
    BEGIN
      BEGIN
        tname := c.tname;
        cname := c.cname;
        rid   := c.rid;
        dbms_output.put_line(tname || '=>' || cname);

        BEGIN
          EXECUTE IMMEDIATE 'SELECT rowid FROM ' || tname ||
                            ' WHERE rowid = :x FOR UPDATE NOWAIT'
            INTO x
            USING rid;
        EXCEPTION
          WHEN resource_busy THEN
            dbms_output.put_line('Record locked; try again later.');
            CONTINUE;
        END;

        updt_stmt := 'UPDATE ' || tname || ' SET ' || cname ||
                     ' = ''123'' WHERE  ROWID   like ''%' || rid || '%''';
        EXECUTE IMMEDIATE updt_stmt;

      EXCEPTION
        WHEN OTHERS THEN
          dbms_output.put_line('ERROR');

      END;
    END;
  END LOOP;
END; 
```

# ruby-on-rails - Rails：未显示表单验证错误（使用 Formtastic 和 Bootstrap-Sass）

> ID：13486157
> 
> 赞同：1
> 
> 时间：2012-11-21T04:03:40.963
> 
> 标签：ruby-on-rails, forms, validation, formtastic

我正在使用 Bootstrap-Sass 和 Formstatic。我认为应该在带有 Formstatic 的字段旁边自动显示一条错误消息，如下图所示：（[来源：][[asciicasts.com](http://asciicasts.com/system/photos/227/original/E185I06.png)][）][![这里](../Images/53d241cfd64b2ec53e859dff76dfe9d3.png)](https://i.stack.imgur.com/hKzoI.png)

但即使用户输入了无效输入，我的应用程序也不会显示错误消息。这似乎是一个简单的问题，但我无法弄清楚背后的原因。

**后控制器**

```
# POST /posts
# POST /posts.json
def create
  @post = Post.new(params[:post])
  @post.view = 0
  @post.like = 0 
  @post.hate = 0
  respond_to do |format| 
    if @post.save
      @posts = Post.paginate(:page => params[:page], order: 'like desc', per_page: 10) 
      format.html { redirect_to posts_path }
      format.json { render json: @post, status: :created, location: @post }
    else
      format.html { render action: "new" }
      format.json { render json: @post.errors, status: :unprocessable_entity }
    end
  end
end 
```

**后模型**

```
 validates :name,  :presence => true
  validates :content, :presence => true,
                      :length => { :minimum => 10, :maximum => 300} 
```

**_form（发布）**

```
<% @post = Post.new %>
<%= semantic_form_for @post do |f| %>
<%= f.semantic_errors :name %>
<%= f.inputs do %>
     <%= f.input :name, :label => 'name' %>
     <%= f.input :content, :label => 'body' %>
<% end %>
<%= f.actions do %>
    <%= f.action :submit, :button_html => { :class => "btn btn-primary" }, :as => :button  %>
    <%= f.action :cancel, :as => :link %>
<% end %> 
```

在 PostController 中，我尝试删除以下两行

```
 #format.html { render action: "new" }
    #format.json { render json: @post.errors, status: :unprocessable_entity } 
```

并添加

```
render @post.errors 
```

然后，我得到了

```
@messages={:name=>["can't be blank"], :content=>["can't be blank", "is too short (minimum is 10 characters)"]}> 
```

所以我认为问题可能是我渲染 json 的方式是错误的。有人可以帮我解决它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-08T20:25:36.440

Rails 有自己的验证错误渲染，与 Bootstrap 使用的 HTML 结构或 CSS 结构不匹配。

要解决这个问题，您只需添加以查看您自己的代码块以查看输出错误。

```
<% if @posts and @posts.errors and @posts.errors.count > 0 %>
 <div class="alert alert-danger">
   <a class="close" data-dismiss="alert">&times;<a>
   <strong><%= pluralize(@posts.errors.count,"error") %> validation problems found.</strong>
   <ul>
   <% @posts.errors.full_messages.each do |error| %>
     <li><%= error %></li>
   <% end %>
   </ul>
 </div> 
```

或者您可以将此块移动到部分模板以避免重复代码。

```
<% if resource and resource.errors and resource.errors.count > 0 %>
  <div class="alert alert-danger">
    <a class="close" data-dismiss="alert">&times;<a>
    <strong><%= pluralize(resource.errors.count,"error") %> validation problems found.</strong>
    <ul>
    <% resource.errors.full_messages.each do |error| %>
      <li><%= error %></li>
    <% end %>
    </ul>
  </div>
<% end %> 
```

并将@posts 传递给参数

```
<%= render "shared/validation_errors", :resource => @posts %> 
```

在这里您可以找到有关此问题的更多信息 [http://fizzylogic.nl/2013/12/22/temp-slug-54/](http://fizzylogic.nl/2013/12/22/temp-slug-54/)

# sql - 如何根据最大记录获取其他字段？

> ID：13486166
> 
> 赞同：1
> 
> 时间：2012-11-21T04:05:12.670
> 
> 标签：sql, sql-server, tsql

我创建了一个临时表，存储客户详细信息，如果 IsDefault 设置为 1，我想查询按 CustomerNo 分组的数据并显示 ImagePath。

```
CREATE TABLE #Temp
(ID varchar(100), CustomerNo varchar(10), IsDefault int, ImagePath varchar(100), ViewCount int)

INSERT INTO #Temp
SELECT '1', 'AC1234', 1, 'xxx1.jpg', 12 UNION ALL
SELECT '2', 'AC1234', 0, 'xxx2.jpg', 42 UNION ALL
SELECT '3', 'AC1234', 0, 'xxx3.jpg', 15 UNION ALL
SELECT '4', 'AC1235', 0, 'xxx4.jpg', 16 UNION ALL
SELECT '5', 'AC1236', 1, 'xxx5.jpg', 13 UNION ALL
SELECT '6', 'AC1234', 0, 'xxx6.jpg', 56 UNION ALL
SELECT '7', 'AC1235', 1, 'xxx7.jpg', 17

SELECT * FROM #Temp
SELECT CustomerNo, MAX(IsDefault) as IsDefault, Sum(ViewCount) as ViewCount FROM #Temp
GROUP BY CustomerNo

DROP TABLE #Temp 
```

结果：

```
CustomerNo IsDefault   ViewCount
---------- ----------- -----------
AC1234     1           125
AC1235     1           33
AC1236     1           13 
```

我可以得到这样的结果吗（如果“IsDefault”= 1，则显示 ImagePath）？

```
CustomerNo IsDefault   ViewCount   ImagePath
---------- ----------- ----------- -----------
AC1234     1           125         xxx1.jpg
AC1235     1           33          xxx4.jpg
AC1236     1           13          xxx5.jpg 
```

非常感谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:23:10.777

假设只有一条记录的 IsDefault 标志为 1，这可以解决问题：

```
CREATE TABLE #Temp (
    ID varchar(100)
  , CustomerNo varchar(10)
  , IsDefault int
  , ImagePath varchar(100)
  , ViewCount int
);

INSERT INTO #Temp
SELECT '1', 'AC1234', 1, 'xxx1.jpg', 12 UNION ALL
SELECT '2', 'AC1234', 0, 'xxx2.jpg', 42 UNION ALL
SELECT '3', 'AC1234', 0, 'xxx3.jpg', 15 UNION ALL
SELECT '4', 'AC1235', 0, 'xxx4.jpg', 16 UNION ALL
SELECT '5', 'AC1236', 1, 'xxx5.jpg', 13 UNION ALL
SELECT '6', 'AC1234', 0, 'xxx6.jpg', 56 UNION ALL
SELECT '7', 'AC1235', 1, 'xxx7.jpg', 17
;

with CustomerReport (CustomerNo, ViewCount) as 
     (SELECT t.CustomerNo, Sum(t.ViewCount) ViewCount 
        FROM #Temp t
       GROUP BY t.CustomerNo)
Select q1.CustomerNo, q1.ViewCount 
       , (Select ImagePath
            from #Temp
           where #Temp.CustomerNo = q1.CustomerNo
             and #Temp.IsDefault = 1) ImgPath
  from CustomerReport q1
;

drop table #temp
; 
```

AFAIK，您需要 MS-SQL 2008+ 才能获得对 CTE 语法的支持。

# mysql - 无法添加第二个 FK：出现错误无法创建表'.jobstatus\#sql-32c_12f2f.frm' (errno:150)

> ID：13486167
> 
> 赞同：-1
> 
> 时间：2012-11-21T04:05:20.417
> 
> 标签：mysql, mysql-error-1005

```
 CREATE TABLE `job` (
    `jobId` int(11) NOT NULL auto_increment,
    `jobcode` varchar(25) default NULL,
    `jobname` varchar(255) default NULL,
    `location` varchar(255) default NULL,
    `budget` int(10) unsigned default NULL,
    `year_type` varchar(100) default NULL,
    `worklineId` int(11) default NULL,
     PRIMARY KEY  (`jobId`),
     KEY `NewIndex` (`worklineId`),
     FOREIGN KEY (`worklineId`) REFERENCES `workline` (`worklineId`)
     ) TYPE=InnoDB;

     CREATE TABLE `subjob` (
    `subjobId` int(11) NOT NULL auto_increment,
    `subjobcode` varchar(25) default NULL,
    `subjobname` varchar(255) default NULL,
    `subjobbudget` int(11) unsigned default NULL,
    `jobgoal_date` date default '0000-00-00',
    `jobId` int(11) default NULL,
     PRIMARY KEY  (`subjobId`),
     KEY `NewIndex` (`jobId`),
     FOREIGN KEY (`jobId`) REFERENCES `job` (`jobId`)
     ) TYPE=InnoDB;

     CREATE TABLE `contract` (
    `contractId` int(11) NOT NULL auto_increment,
    `contractcode` varchar(25) default NULL,
    `price` int(11) unsigned default NULL,
    `contractprice` int(11) unsigned default NULL,
    `company` varchar(50) default NULL,
    `signdate` date default '0000-00-00',
    `begindate` date default '0000-00-00',
    `enddateplan` date default '0000-00-00',
    `note` text,
     PRIMARY KEY  (`contractId`)
     ) TYPE=InnoDB;

     CREATE TABLE `subjob_contract` (
    `subjobcontractId` int(11) NOT NULL auto_increment,
    `status` varchar(11) default NULL,
    `contractId` int(11) default NULL,
    `subjobId` int(11) default NULL,
     PRIMARY KEY  (`subjobcontractId`),
     KEY `NewIndex` (`contractId`),
     KEY `NewIndex2` (`subjobId`),
     FOREIGN KEY (`contractId`) REFERENCES `contract` (`contractId`)
     ) TYPE=InnoDB 
```

我正在使用 mysql front 3.2 来管理数据库，我可以添加第一个 fk，但是当我添加第二个 fk 时，出现以下错误：sql execution error #1005。来自数据库的响应：无法创建表'.jobstatus#sql-32c_12f2f.frm' (errno:150)。我已经为子作业表的 fk subjobId 引用定义了新索引这个错误的可能性是什么？谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:50:31.890

检查主表和引用表上**subjobId**列的数据类型和大小。两者都必须与允许您创建外键相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T07:02:05.243

答案是：您不能引用尚未创建的列/表。尝试在引用的表之后执行具有外键的表。

显然，您也应该在外键和引用列的数据类型上保持一致

[正确执行演示](http://sqlfiddle.com/#!2/c35ca)。你也应该使用`Engine=InnoDB`而不是`Type=InnoDB`

# java - Java：单个目录中的导入错误？

> ID：13486170
> 
> 赞同：0
> 
> 时间：2012-11-21T04:05:34.530
> 
> 标签：java, javac

我是 Java 新手。

我所有的源文件（例如 TreeJPanel.java、Tree.java）都在一个名为 jview 的**目录**中，它们之间存在依赖关系。当我尝试编译时

```
javac jview/TreeJPanel.java
```

我明白了：

```
jview/TreeJPanel.java:39: cannot find symbol
symbol  : class Tree
location: class TreeJPanel
  protected Tree tree;
            ^
jview/TreeJPanel.java:41: cannot find symbol
symbol  : class Tree
location: class TreeJPanel
  public Tree getTree() {
         ^
jview/TreeJPanel.java:45: cannot find symbol
symbol  : class Tree
location: class TreeJPanel
  public void setTree(Tree tree) {
```

有 15 个类似的错误。我以为我不需要从同一目录中显式导入？我究竟做错了什么？我的问题很可能表明缺乏对 Java 的概念理解——请随时指出。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:10:25.823

Was `Tree.java` first compiled into `Tree.class`? when `TreeJPanel.java` was trying to compile, it was searching for it.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:16:38.837

尝试一起编译这两个文件：

```
 javac jview/Tree.java jview/TreeJPanel.java 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:17:04.270

因为这很简单，你应该将 Tree 类导入 TreeJpanel 类

您的代码应如下所示

```
import jview.Tree;

Class TreeJPanel { .... 
```

# android - layout_gravity 没有达到预期的效果

> ID：13486173
> 
> 赞同：2
> 
> 时间：2012-11-21T04:05:58.093
> 
> 标签：android

我有这个线性布局垂直方向，包含三个视图，

我希望第一个视图位于顶部，第二个位于中心，第三个位于父线性布局的底部，我在布局的子级上应用 layout_gravity 但此属性似乎根本不起作用..它们一个接一个地显示在屏幕顶部

编辑：如果将权重应用于第二个视图，这可能会得到解决，但是 layout_gravity 发生了什么，为什么它不能达到目的？

这是代码

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"    
android:orientation="vertical" >   

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="top"
        android:text="Wifi not enabled"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_vertical"
        android:text="App require wifi to be enabled on your phone"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <Button
        android:id="@+id/btn_wifion"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"      
        android:text="Turn on my Wifi" />

  </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:28:24.900

尝试阅读[此处](http://thinkandroid.wordpress.com/2010/01/14/how-to-position-views-properly-in-layouts/)的 [UPDATE] 部分。它说 -

*“layout_gravity”属性只能与 LinearLayout 的方向正交使用。*

*换句话说，如果你有一个水平的LinearLayout，那么通过构造，每个内部子视图只能有layout_gravity top、bottom和center。这背后的直觉是 LinearLayout 已经被告知将每个子视图水平相邻放置（从左到右），因此它只允许垂直指定每个子视图的 layout_gravity。垂直线性布局反之亦然。*

垂直 n 也是如此，`layout_gravity`现在不允许您将子视图与父视图的顶部/底部/...对齐，因为存在相对布局。

也许这就是你要找的。:)

**更新**并参阅此[链接](http://sandipchitale.blogspot.co.uk/2010/05/linearlayout-gravity-and-layoutgravity.html)了解更多信息。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:54:06.943

你最好使用[RelativeLayout：](http://developer.android.com/reference/android/widget/RelativeLayout.html) 以及为什么layout_gravity 在线性布局中不起作用，看看线性布局的[类概述](http://developer.android.com/reference/android/widget/LinearLayout.html)。

为了实现您想要的目标，请使用相对布局并使用`android:layout_alignParent`以下代码检查#

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent"    
android:orientation="vertical" >   

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"

       android:layout_centerHorizontal="true"
        android:text="Wifi not enabled"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:text="App require wifi to be enabled on your phone"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <Button
        android:id="@+id/btn_wifion"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
       android:layout_alignParentBottom="true"     
        android:text="Turn on my Wifi" />

  </RelativeLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:11:27.500

这是你需要的吗？

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"    
android:orientation="vertical" >   

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="top"
        android:layout_weight="0"
        android:text="Wifi not enabled"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center_vertical"
         android:layout_weight="1"
        android:text="App require wifi to be enabled on your phone"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <Button
        android:id="@+id/btn_wifion"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"      
         android:layout_weight="0"
        android:text="Turn on my Wifi" />

  </LinearLayout> 
```

# mysql - 从两列中选择非空列

> ID：13486177
> 
> 赞同：16
> 
> 时间：2012-11-21T04:06:19.063
> 
> 标签：mysql, sql, null

我有一个有两列的表，其中一列将，一列`NULL`不会，我想做的是：

```
SELECT (column1 OR column2) AS value 
```

但我需要检索不为空的值。我觉得这可能是一个简单的问题，但任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-11-21T04:08:13.870

```
SELECT COALESCE(column1, column2) AS value 
```

或者

```
SELECT IFNULL(column1, column2) AS value 
```

或者

```
SELECT CASE WHEN column1 IS NOT NULL THEN column1 ELSE column2 END AS value 
```

或者

```
SELECT IF(column1 IS NOT NULL, column1, column2) AS value 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:11:08.827

在 mysql 中，可以使用**IFNULL**函数。在 SQL Server 中，您可以使用**ISNULL**函数。

# c# - 列表和列表有什么区别 和数组索引器？

> ID：13486182
> 
> 赞同：6
> 
> 时间：2012-11-21T04:07:01.570
> 
> 标签：c#, arrays, generics, struct

[在是否可以从列表中访问结构的引用以进行更改](https://stackoverflow.com/questions/13484849/is-it-possible-to-access-a-reference-of-a-struct-from-a-listt-to-make-changes/13484967#13484967)之后，我脑海中提出的问题？*reza*的线程。

因此，请考虑以下`struct`和`interface`（绝对不是很有用，而只是为了说明问题）：

```
public interface IChangeStruct
{
    int Value { get; }
    void Change(int value);
}

public struct MyStruct : IChangeStruct
{
    int value;

    public MyStruct(int _value)
    {
        value = _value;
    }

    public int Value
    {
        get
        {
            return value;
        }
    }

    public void Change(int value)
    {
        this.value = value;
    }
} 
```

`MyStruct`implements `IChangeStruct`，因此我们可以直接在堆中更改它的盒装副本，而无需拆箱并替换为新的。这可以用下面的代码来演示：

```
MyStruct[] l1 = new MyStruct[]
{
    new MyStruct(0)
};

Console.WriteLine(l1[0].Value); //0
l1[0].Change(10);
Console.WriteLine(l1[0].Value); //10 
```

现在，让我们将数组更改为`List<T>`，即：

```
List<MyStruct> l2 = new List<MyStruct>
{
    new MyStruct(0)
};

Console.WriteLine(l2[0].Value); //0
l2[0].Change(10);
Console.WriteLine(l2[0].Value); //also 0 
```

据我了解，在第一种情况下`l1[0]`，将引用返回到盒装结构，而在第二种情况下 - 它是其他的。

我也试着拆开这个，发现：

1) 对于`MyStruct[]`：

> ```
> IL_0030:  ldelema    Utils.MyStruct
> IL_0035:  ldc.i4.s   10
> IL_0037:  call       instance void Utils.MyStruct::Change(int32) 
> ```

2) 对于`List<MyStruct>`：

```
 IL_007c:  callvirt   instance !0 class [mscorlib]System.Collections.Generic.List`1<valuetype Utils.MyStruct>::get_Item(int32)
 IL_0081:  stloc.s    CS$0$0001
 IL_0083:  ldloca.s   CS$0$0001
 IL_0085:  ldc.i4.s   10
 IL_0087:  call       instance void Utils.MyStruct::Change(int32) 
```

但我似乎还没有准备好解释它。

*那么，`List<T>`回报是什么呢？或者如何`List<T>`按索引排列和返回元素？或者这只是值类型的情况，与引用类型无关？*

PS：我**确实**知道**不能**更改值类型实例，但是所描述的问题让我明白了，我从来没有意识到`List<T>`数组是如何工作的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-21T04:09:03.100

`ldelema`.Net 可以使用指令（数组元素的加载地址）就地寻址数组元素。

这使您可以直接对数组元素进行操作而无需复制它们。（这也是您可以将数组元素作为参数传递`ref`的原因`out`）

`List<T>`没有这样的能力。相反，`list[i]`它只是语法糖`list.get_Item(i)`，它是一个返回结构副本的普通方法调用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-21T18:11:37.637

数组的索引器以类似于将元素作为`ref`参数传递的方式使元素可用于以下代码。任何 .net 语言中都不存在任何其他类型的行为相同的机制。任何其他允许索引访问的类型都必须公开一对方法，其中一个方法将内部存储的数据的副本提供给调用者的代码，其中一个将在给定调用者代码中的一些数据的副本的情况下存储这些数据以某种方式。这种限制在值类型中最为明显，但在某些情况下，引用类型也可能存在问题（例如，可以对`Interlocked.ComapreExchange`a 中的元素执行 an `T[]`，但不能对具有 a 的元素执行`List<T>`）。

如果一个人正在设计自己的集合类型，则可以通过提供一个`ActOnItem`成员来减轻对索引器的限制，从而允许像`MyFancyList.ActOnItem(4, (ref Point it) => {it.X += 4;});`. 提供一系列具有不同数量的附加`ref`参数的通用版本可能会有所帮助，这些附加参数将从调用者（例如`MyFancyList.ActOnItem(4, (ref MyThing it, ref Thing newValue, ref Thing compareValue) => Threading.Interlocked.CompareExchange(ref it, newValue, compareValue);`）传递过来，因为使用此类方法可以避免 lambda 使用捕获的变量。

# html - 如何仅在一侧使用边框图像？

> ID：13486187
> 
> 赞同：9
> 
> 时间：2012-11-21T04:08:01.847
> 
> 标签：html, css

我有一个图像，我想将其设置为元素的边框，但仅作为底部边框：![边框图像](../Images/9094c0c8fcaf06d9d4e57b813f5ecb3c.png)<- 它很小 - 但它就在那里。

这是我到目前为止所得到的：

```
<style>
body { margin: 0; padding: 10px; }
    h1 {
background-color: red;
    border: solid transparent;
    border-width: 2px;
    border-image: 2 repeat url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB9JREFUeNpiZGBgOMOABv7//48uxMDEQCQgWiFAgAEAjqADz4EvP7IAAAAASUVORK5CYII=");
}
</style>
<h1>Bacon</h1>
<p>Bacon ipsum dolor sit amet tenderloin drumstick ribeye filet mignon t-bone beef ribs. Tri-tip venison turkey salami drumstick chicken pastrami. Frankfurter pork jowl ball tip tail.</p> 
```

或者参见 JS Fiddle：http: [//jsfiddle.net/eqpt5/](http://jsfiddle.net/eqpt5/)。

如您所见，这会将边框图像放在顶部和底部（以及侧面 - 尽管您看不到它）。如何使用仅在底部放置边框图像`border-image`？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-11-21T04:46:45.443

更改`border-width:2px`为`border-width:0 0 2px`

通过这种方式，您实际上设置边框底部宽度 2px 和其他边宽度等于零

演示[http://jsfiddle.net/naveenksh/eqpt5/3/](http://jsfiddle.net/naveenksh/eqpt5/3/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T04:12:16.450

```
border-bottom-width: 1px; 
```

将它放在您的其他边框内容之后以覆盖特定的边框边。

您可以使用简写，但我认为这更容易阅读。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T05:06:04.620

你可以`border-top:none;`根据你想要的结果让它工作正常......

**CSS**

```
h1 {
background-color: red;
    border: solid transparent;
    border-width: 2px;
    border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB9JREFUeNpiZGBgOMOABv7//48uxMDEQCQgWiFAgAEAjqADz4EvP7IAAAAASUVORK5CYII=") 2 repeat;
    border-top:none;
} 
```

**[演示](http://jsfiddle.net/eqpt5/6/)**

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-09-28T04:14:35.437

除了最佳答案。由于border-image 覆盖了border-style，要获得另一边的边框，只需将div 与另一个div 包装，然后声明边框。

HTML：

```
<div id="wrapper">             //div with border style
 <div id="content"></div>      //div with border image
</div> 
```

CSS：

```
#wrapper {
border-top: 1px solid black;
border-right: 1px solid black;
border-bottom: 1px solid black;
}
#content {
border-image: url(../images/blue-bg.png) 0 0 0 50;
border-left-width: 10px; 
```

}

# plc - CJ1W-CT021 卡错误 Omron PLC

> ID：13486189
> 
> 赞同：1
> 
> 时间：2012-11-21T04:08:48.303
> 
> 标签：plc

我在 CJ1W-CT021 卡上收到此错误。它在运行程序一段时间后突然发生。我是通过 IO 表和单元设置找到它的。单击该卡的参数，发现两个设置为红色。

输出控制模式和/或计数器输出模式。这是在那里阅读

```
Output Control Mode = 0x40 No Applicable Set Data
And/Or Counter Output Patterns = 0x64 No Applicable Set Data 
```

不知道这些应该如何或为什么会改变

```
 Output Control Mode = Range Mode
 And/Or Counter Output Patterns = Logically Or 
```

我添加了一些新代码，但没有什么大的，甚至没有真正使用过，因为我已经跳出了新梯级的输出。我认为可能导致这种情况的一件事是程序的每个循环都在检查连接到此卡的编码器的值。也许检查它太频繁了？无论如何，如果有人知道这些做什么或它们将如何改变，请发布。谢谢格伦

编辑..我想添加我使用的位，不认为任何是这张卡内部 io 的一部分，但我可能错了？

```
Work bits 66.01 - 66.06 , 60.02 - 60.07 , 160.12, 160.01 - 160.04, 161.02, 161.03 
```

和

```
Data Bits (D)20720, 20500, 20600, 20000, 20590, 20040 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T12:03:46.223

[我会检查CT021 手册](http://downloads.industrial.omron.eu/IAB/Products/Automation%20Systems/PLCs/Modular%20PLC%20Series/CJ2M/CJ1%20Position%20Control%20Units/W401/W401-E1-03+CJ1W-CT021+OperManual.pdf)的第 4-1 节到第 4-2-4 节- 确保您没有写入用于 CT021 单元配置数据的保留内存位置。

编辑：

1) 查看上述手册的第 26 页，查看机器开关设置的位置。底部拨盘设置'1'位，顶部拨盘设置'10'位（即机器号可以是0-99）；

2) 每页 94，D-Memory 从`D20000 + (N X 100)`(400 Words) 分配，其中 N 等于机器编号。

我猜您的机器编号设置为 0（即：两个拨号都在“0”）、5 或 6。如果机器编号为“0”，这将使保留的 DM 范围`D20000 -> D20399`。在这种情况下（参见第 97、105 页）`D20000`将包含`Output Control Mode`（位 00-07）和`Counter Output Patterns`（位 08-15）的配置数据。看起来您正在写入`0x6440`（`D20000`或机器号 5 或 6 的 D20500、D20600）并且正在破坏配置数据。

如果您的机器编号为 0，则远离，`D20000-D20399`除非您直接尝试修改计数器的配置状态（即：不要在程序中使用它们！）。

如果机器编号为 1，那么对于`D20100-D20499`等也是如此。如果您有多个计数器，它们可以重叠范围，因此它们应始终设置为彼此相隔 4 的机器编号。

# javascript - Popup Window With Specific Size

> ID：13486191
> 
> 赞同：0
> 
> 时间：2012-11-21T04:09:00.510
> 
> 标签：javascript, html

I am trying to implement a pop-up window similar to how [Origin](http://www.origin.com/ca/about) (click on the 'Log In' does it (pops up in another window with a specific size). I've tried going through their code but I cannot find out how they are doing it. I tried Googling this issue and someone said to use `window.open`, but I cannot find on the Origin website any reference to this code. I've also noticed that the when viewing the Origin website on IE, clicking the 'Log In' link will open the page in the same window as oppose to popping up another window. Is there some sort of IE detection going on? Why would Origin do that only for IE?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:12:31.410

它们可以`window.open`在外部 JS 文件中使用。基本上，他们使用它来打开登录页面并将所有登录内容保存在所谓的 PHP 会话中。

它可能在 IE 中不起作用，因为 IE 不支持很多现在正在使用的新技术。老实说，最好将登录页面设置在同一个窗口中，因为某些浏览器可能会禁用弹出窗口，或者某些用户可能会觉得弹出窗口很烦人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T10:04:58.917

像这样的东西？

```
window.open('your page location', 'pop out window's title', 'width=850px,height=600px,top=200px,left=400px,toolbars=no,scrollbars=yes,status=no,resizable=yes'); 
```

# c++ - glGetUniformLocation return -1 on nvidia cards

> ID：13486199
> 
> 赞同：2
> 
> 时间：2012-11-21T04:09:39.920
> 
> 标签：c++, opengl, glsl

I've been having an issue running glGetUnfiormLocation calls. While building a project on school computers running ATI graphics cards, the program functions flawlessly. However, using the school computers running nvidia cards, the calls to glGetUniformLocation return -1.

```
//c++ side
glLinkProgram(ShaderIds[0]);
ExitOnGLError("ERROR: Could not link the shader program");

ModelMatrixUniformLocaion = glGetUniformLocation(ShaderIds[0], "ModelMatrix");
ViewMatrixUniformLocation = glGetUniformLocation(ShaderIds[0], "ViewMatrix");
ProjectionMatrixUniformLocation = glGetUniformLocation(ShaderIds[0], "ProjectionMatrix");

ExitOnGLError("ERROR: Could not get the shader uniform locations"); 
```

And here is the vertex shader

```
 layout(location=0) in vec4 in_Position;
    layout(location=1) in vec4 in_Color;
    layout(location=2) in vec2 in_Coord;

    uniform mat4 ModelMatrix;
    uniform mat4 ViewMatrix;
    uniform mat4 ProjectionMatrix;

    varying vec2 v_UVCoord;
    out vec4 ex_Color;

    void main(void)
    {
        gl_Position = (ProjectionMatrix * ViewMatrix * ModelMatrix) * in_Position;
        gl_PointSize = in_Coord.x; 
        ex_Color = in_Color;
        v_UVCoord = in_Coord; 
    } 
```

From what I can tell, it shouldn't be giving me -1 based on optimization of the uniforms, because they are all in use, as are the attributes. Any insight into the matter would be greatly appreciated.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T04:44:04.657

链接 OpenGL 程序失败时*不会*给出 OpenGL 错误。您必须[实际检查程序是否正确链接](http://www.opengl.org/wiki/OpenGL_Shading_Language#Error_Checking)。

# imacros - Imacros won't click button?

> ID：13486200
> 
> 赞同：4
> 
> 时间：2012-11-21T04:09:45.243
> 
> 标签：imacros

I'm trying to build a script to post auto blog on Google Sites but the problem is that the button won't click. This is my screenshot: [http://i.stack.imgur.com/W5mxq.png](http://i.stack.imgur.com/W5mxq.png)

Code Button

```
<div aria-label="New page" tabindex="0" style="-moz-user-select: none;" role="button" id="create-new-btn" class="goog-inline-block jfk-button jfk-button-standard jfk-button-collapse-left" aria-disabled="false"><span id="sites-collaborator-bar-create-new-page-icon" class="sites-camelot-icon"></span></div> 
```

This is my code in Imacros

Code IMACROS

```
VERSION BUILD=7601105 RECORDER=FX
TAB T=1
URL GOTO=https://sites.google.com/site/testing/
TAG POS=1 TYPE=DIV ATTR=ID:create-new-btn 
```

This is other code but in Javascript Imacros

Code JAVA

```
var macro;
macro = "CODE:";
macro += "TAB T=1" + "\n";
macro += "SET !ERRORIGNORE YES" + "\n";
macro += "SET !ERRORCONTINUE YES" + "\n";
macro += "SET !EXTRACT_TEST_POPUP NO" + "\n";
macro += "SET !TIMEOUT 500" + "\n";
macro += "URL GOTO=https://sites.google.com/site/testing/" + "\n";
macro += "TAG POS=1 TYPE=DIV ATTR=ID:create-new-btn" + "\n";
iimPlay(macro) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T23:01:00.020

you can simply load create new page form instead of clicking on the button, since to click you'll have to emulate mouse hovering and use javascript. Just load: [https://sites.google.com/site/your-site/system/app/pages/createPage?source=/home](https://sites.google.com/site/your-site/system/app/pages/createPage?source=/home)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-05T21:55:58.393

您可以尝试 Firefox 的 imacros 而不是 Chrome，因为在单击按钮方面，imacros 在 Mozilla Firefox 浏览器中的性能更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-11T19:23:34.750

一种可能的解决方法是`CLICK`在 imacros 中使用该命令，如下所示：

```
VERSION BUILD=7601105 RECORDER=FX
TAB T=1
URL GOTO=https://sites.google.com/site/testing/
CLICK X=1000 Y=10 
```

其中**X**是从浏览器左上角到您要点击的按钮中间的距离，**Y**是从浏览器顶部到您要点击的按钮中间的距离。您可以通过**打印屏幕**并进入诸如**绘画**之类的工具并测量像素距离（或您发现更方便的任何其他工具）来测量这些距离。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-28T23:13:09.220

也许您应该尝试单击该 div 内的跨度。也许这会触发动作。

```
VERSION BUILD=7601105 RECORDER=FX
TAB T=1
URL GOTO=https://sites.google.com/site/testing/
TAG POS=1 TYPE=SPAN ATTR=ID:sites-collaborator-bar-create-new-page-icon 
```

# python - how to extract a text file into a dictionary

> ID：13486203
> 
> 赞同：3
> 
> 时间：2012-11-21T04:10:02.333
> 
> 标签：python, dictionary

i am wondering how you would extract a text into dictionary in python. the text file is formatted as such(see below) and extract in way so that object earth for example is the key and its radius, period and all are within its key.

```
RootObject: Sun

Object: Sun

Satellites: Mercury,Venus,Earth,Mars,Jupiter,Saturn,Uranus,Neptune,Ceres,Pluto,Haumea,Makemake,Eris

Radius: 20890260

Orbital Radius: 0

Object: Earth

Orbital Radius: 77098290

Period: 365.256363004

Radius: 6371000.0

Satellites: Moon

Object: Moon

Orbital Radius: 18128500

Radius: 1737000.10

Period: 27.321582 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T05:02:22.140

使用上述其中一项的修改，您将获得如下内容：

```
def read_next_object(file):    
        obj = {}               
        for line in file:      
                if not line.strip(): continue
                line = line.strip()                        
                key, val = line.split(": ")                
                if key in obj and key == "Object": 
                        yield obj                       
                        obj = {}                              
                obj[key] = val

        yield obj              
planets = {}                   
with open( "test.txt", 'r') as f:
        for obj in read_next_object(f): 
                planets[obj["Object"]] = obj    

print planets 
```

修复 the case，`RootObject`我相信这是您从您发布的示例数据中寻找的最终字典。它是一本行星词典，其中每个行星都是其信息的词典。

```
print planets["Sun"]["Radius"] 
```

应该打印值`20890260`

上面的输出如下所示：

```
{   'Earth': {   'Object': 'Earth',
             'Orbital Radius': '77098290',
             'Period': '365.256363004',
             'Radius': '6371000.0',
             'Satellites': 'Moon'},
     'Moon': {   'Object': 'Moon',
            'Orbital Radius': '18128500',
            'Period': '27.321582',
            'Radius': '1737000.10'},
     'Sun': {   'Object': 'Sun',
           'Orbital Radius': '0',
           'Radius': '20890260',
           'RootObject': 'Sun',
           'Satellites': 'Mercury,Venus,Earth,Mars,Jupiter,Saturn,Uranus,Neptune,Ceres,Pluto,Haumea,Makemake,Eris'}} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-21T07:01:56.737

```
nk="""
RootObject: Sun

Object: Sun
Satellites: Mercury,Venus,Earth,Mars,Jupiter,Saturn,Uranus,Neptune,Ceres,Pluto,Haumea,Makemake,Eris
Radius: 20890260
Orbital Radius: 0

Object: Earth
Orbital Radius: 77098290
Period: 365.256363004
Radius: 6371000.0
Satellites: Moon

Object: Moon
Orbital Radius: 18128500
Radius: 1737000.10
Period: 27.321582

"""

my_test_dict={}
for x in nk.splitlines():
    if ':' in x:
        if x.split(':')[0].strip()=='RootObject':
            root_obj=x.split(':')[1].strip()
        elif x.split(':')[0].strip()=='Object':
            my_test_dict[x.split(':')[1].strip()]={}
            current_dict=x.split(':')[1].strip()
            if x.split(':')[1].strip()!=root_obj:
                for x1 in my_test_dict:
                    if 'Satellites' in my_test_dict[x1]:
                        if x.split(':')[1].strip() in my_test_dict[x1]['Satellites'].split(','):
                            my_test_dict[x.split(':')[1].strip()]['RootObject']=x1
        else:
            my_test_dict[current_dict][x.split(':')[0].strip()]=x.split(':')[1].strip()

print my_test_dict 
```

输出：

```
{
    'Sun':
        {
        'Satellites': 'Mercury,Venus,Earth,Mars,Jupiter,Saturn,Uranus,Neptune,Ceres,Pluto,Haumea,Makemake,Eris',
        'Orbital Radius': '0',
        'Radius': '20890260'
        },

    'Moon':
        {
        'Orbital Radius': '18128500',
        'Radius': '1737000.10',
        'Period': '27.321582',
        'RootObject': 'Earth'
         },

    'Earth':
        {
        'Satellites': 'Moon',
        'Orbital Radius': '77098290',
        'Radius': '6371000.0',
        'Period': '365.256363004',
        'RootObject': 'Sun'
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:17:52.783

假设您希望将具有逗号分隔值的元素作为列表，请尝试：

```
mydict={}
with open(my_file,'r') as the_file:
    for line in the_file:
        if not line.strip(): continue # skip blank lines
        key,val=line.split(": ")
        val = val.split(",")
        mydict[key] = val if len(val) > 1 else val[0] 
```

# iphone - Issue in String return from NSdictionary in Iphone

> ID：13486209
> 
> 赞同：0
> 
> 时间：2012-11-21T04:10:29.880
> 
> 标签：iphone

i got a string from the json parsing is given below

```
{"categories":[{"Id":"4","name":"hm\u00c3\u0080\u00c2\u00afI\u00c3\u0084"},{"Id":"257","name":"Atkmkntbj\u00c2\u00b3"},{"Id":"258","name":"kv]ncnNz\u00c3\u00b0"},{"Id":"259","name":"tlm\u00c2\u00abv Uo\u00c3\u00b0kv"},{"Id":"260","name":"hnt\\mZw"},{"Id":"265","name":"kvs]jy\u00c3\u00b0kv"},{"Id":"273","name":"tImfwkv"},{"Id":"278","name":"Fgp\u00c2\u00afv"},{"Id":"285","name":"tNmtZym\u00c2\u00afcw"},{"Id":"290","name":"BiwkI\u00c3\u0084"},{"Id":"291","name":"\u00c2\u00a2mknss^Uvkv"}]} 
```

I uses the code

```
list = [(NSDictionary*)[responstring JSONValue] objectForKey:@"categories"];

NSLog(@"%@\n\n",list);

for (int i = 0; i<[list count]; i++)

{

    NSDictionary *dict = (NSDictionary *) [list objectAtIndex:i];

    [array_maincategory addObject:[dict objectForKey:@"name"]];

    NSLog(@"value = %@",[array_maincategory objectAtIndex:i]);

} 
```

i get response like this

```
2012-11-21 09:29:01.784 BritishMalayali[412:fb03] value = hmÃ€Â¯IÃ„

2012-11-21 09:29:01.786 BritishMalayali[412:fb03] value = AtkmkntbjÂ³

2012-11-21 09:29:01.787 BritishMalayali[412:fb03] value = kv]ncnNzÃ°

2012-11-21 09:29:01.789 BritishMalayali[412:fb03] value = tlmÂ«v/ UoÃ°kv

2012-11-21 09:29:01.790 BritishMalayali[412:fb03] value = hnt\mZw

2012-11-21 09:29:01.791 BritishMalayali[412:fb03] value = kvs]jyÃ°kv

2012-11-21 09:29:01.793 BritishMalayali[412:fb03] value = tImfwkv

2012-11-21 09:29:01.794 BritishMalayali[412:fb03] value = FgpÂ¯v

2012-11-21 09:29:01.797 BritishMalayali[412:fb03] value = BiwkIÃ„ 
```

in the above response some text is missing my required response is like this hm\u00c3\u0080\u00c2\u00afI\u00c3\u0084 and got as hmÃ€Â¯IÃ

so please help to get the correct response

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:06:32.473

这是与字符串编码相关的问题。您可以参考[这个](https://stackoverflow.com/questions/7441989/how-to-change-an-nsstrings-encoding)问题的解决方案。

# jquery - jQuery在循环中将css类分配给div

> ID：13486210
> 
> 赞同：0
> 
> 时间：2012-11-21T04:11:02.713
> 
> 标签：jquery

我这里有这些html结构，

```
<div class="myCaption">
 <h2>caption 1</h2>
 <h2>caption 2</h2>
 <h2>caption 3</h2>
 <h2>caption 4</h2>
 <h2>caption 5</h2>
</div> 
```

我想知道如何使用 jquery 将“活动”类添加到第一个**H2**标记，然后每隔例如**2 秒**，将“活动”类从第一个**H2**标记切换到第二个**H2**标记，然后切换到第三个。 ...当到达最后一个 H2 标签时，它将再次**无限循环到第一个****H2**。请指教。谢谢。

 *** * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T04:17:57.920

您需要使用`setInterval`来启动处理您的更改的计时器。 [这是一个工作小提琴](http://jsfiddle.net/DJYmv/1/)

```
$(function(){ 
    //get all of the h2 tags.
    var h2s = $('.myCaption h2');

    //set up a counter
    var counter = 0;

    //start the interval
    setInterval(function(){

       //remove any active classes you have on the h2s.
       h2s.removeClass('active');

       // update the counter, use a modulo on it with the number of
       // h2 tags to find an index. Get the jquery object at that index, 
       // and add the class to that.
       h2s.eq(counter++ % h2s.length).addClass('active');

    }, 2000); //2000 milliseconds = 2 seconds.
}); 
```

编辑：谢谢@Christophe，我忘了`eq()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:23:08.553

```
$(document).ready(function() {
    'use strict';
    var activeCaption = 0,
        switchCaption = function switchCaption() {
            var captions = $('div.myCaption > h2'),
                count = captions.length - 1;
            captions.removeClass('active');
            captions.eq(activeCaption).addClass('active');
            if (activeCaption < count) {
                activeCaption += 1;
            } else {
                activeCaption = 0;
            }
            window.setTimeout(switchCaption, 2000);
        };
    switchCaption();

});​ 
```

工作演示：http: [//jsfiddle.net/NPRzM/](http://jsfiddle.net/NPRzM/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T04:17:50.243

您可能希望[setTimeout](https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout)在 while 循环中。您将在变量中保留一个索引，每次迭代您将删除活动类，增加索引，将活动类添加到新索引。冲洗，重复。当您的索引与 h2 标签的数量相同时，将其设置为零。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T04:44:36.043

```
setInterval(function() {
        var current = $('div.myCaption > h2.active'),
            next = current.next().length?current.next():$('div.myCaption > h2').eq(0);
        current.removeClass('active');
        next.addClass('active');
    },2000); 
```

演示：http: [//jsfiddle.net/NPRzM/3/](http://jsfiddle.net/NPRzM/3/)

**[更新]**缓存选择器的稍微高效的版本：

```
(function(h2s){
setInterval(function() {
    var current = h2s.filter('.active'),
        next = current.next().length?current.next():h2s.eq(0);
    current.removeClass('active');
    next.addClass('active');
},2000);
})($('div.myCaption > h2')); 
```**

# jpa - 如何从与 JPQL 中的实体具有一对多关系的集合中选择部分字段

> ID：13486211
> 
> 赞同：0
> 
> 时间：2012-11-21T04:11:03.520
> 
> 标签：jpa, eclipselink

这个问题很拗口，可以简单地用下面的查询来描述：

```
select c.name,c.brands FROM ShopChannels c 
```

ShopChannel 是基本实体，它有一个对多的品牌集合，而不是在这个查询中选择所有品牌属性，我只想选择品牌的部分字段，如果我使用

```
select c.name,c.brands.spell from ShopChannels c 
```

我将收到“无法导航集合值关联字段”错误消息。

这种查询可以大大提高性能，所以有人有想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T06:43:27.607

JPA 规范说“'从评估为集合的路径表达式组成路径表达式在语法上是非法的。'”您需要的解决方案是连接查询，例如：'select c.name,b.spell from ShopChannels c 内连接 c.brands b´。

# lisp - lisp 应用追加

> ID：13486215
> 
> 赞同：3
> 
> 时间：2012-11-21T04:11:32.780
> 
> 标签：lisp, append, apply

我用这个函数从列表 x 中删除数字

```
(defun rm-nums (x)
  (cond
    ((null x) nil)
    (t (mapcar 'numberp x)))) 
```

但是当我输入`(rm-nums '(32 A T 4 3 E))` 返回时`(T NIL NIL T T NIL)`

我想要它而不是返回 T 或 Nil，我希望它只返回导致 NIL 的值 [不是数字] 所以这个例子应该返回`(A T E)` 我应该使用 mapcar 而不使用递归或迭代或 bultin 函数“remove-if "

我认为它与一种叫做 apply-append 的东西有关，但我对此一无所知。有什么帮助吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T07:51:17.813

我认为您的课程考虑到了*这*一点：

```
(defun my-remove-if (pred lst)
  (apply #'append (mapcar (lambda (x)
                            (and (not (funcall pred x))
                                 (list x)))
                          lst))) 
```

它确实使用`apply`and`append`和`mapcar`，就像你说的那样。示例用法：

```
(my-remove-if #'numberp '(32 a t 4 3 e))
=> (a t e) 
```

* * *

Rörd 建议的更惯用的解决方案：

```
(defun my-remove-if (pred lst)
  (mapcan (lambda (x)
            (and (not (funcall pred x))
                 (list x)))
          lst)) 
```

# actionscript-3 - 以简单的方式将参数传递给 AS3 中的事件侦听器......它存在吗？

> ID：13486230
> 
> 赞同：25
> 
> 时间：2012-11-21T04:13:48.943
> 
> 标签：actionscript-3, flash, events, parameters, addeventlistener

预期/伪示例：

```
stage.addEventListener(MouseEvent.CLICK, onClick.someWayToPassParameters(true, 123, 4.56, "string"));
function onClick(e:MouseEvent):void {
    trace("Received " + someWayToRetrieveParameters().b/i/n/s + ".");
} 
```

多年来（3~4），在每个网站、论坛、博客上，无论我在哪里搜索，人们都告诉我没有简单的方法可以做到这一点。他们通常建议：

*   *将侦听器添加到动态对象，您可以在其中将值设置为额外的属性并在函数中引用它（e.target.property / e.currentTarget.property）。*

    并非所有类都是动态的。例如，它不适用于 Sprite。

*   *使用自定义类扩展对象的类以添加属性或使其动态化。*

    您每次都必须创建一个全新的调整类。

*   *使用匿名函数作为事件处理程序。*

    没有参考（而且很难看）。要删除侦听器以释放资源，您必须使用 arguments.callee 从函数本身内部执行此操作。

*   *在事件处理程序中使用参数调用另一个函数。*

    参数在事件处理程序调用中的哪个位置？

*   *将事件处理程序保持在与参数相同的范围内。*

    破坏完全的语义混乱。

*   *在接收目标和参数的函数中封装事件处理程序定义和 addEventListener 调用。*

    它可以混合范围，但它是一个接近的范围。不过，你必须小心。

...在许多其他建议的解决方法中。

我想要的只是**将一个参数传递**给事件处理程序，这样我就可以在它的函数中使用它，就像任何普通函数一样！

我要求太多了吗？

* * *

## 回答 #1

> 赞同：93
> 
> 时间：2012-11-21T07:53:54.877

开箱即用：只需**2 行额外的优雅代码**即可解决这个古老的难题。

```
stage.addEventListener(MouseEvent.CLICK, onClick(true, 123, 4.56, "string"));
function onClick(b:Boolean, i:int, n:Number, s:String):Function {
  return function(e:MouseEvent):void {
    trace("Received " + b + ", " + i + ", " + n + " and " + s + ".");
  };
} 
```

但最重要的是，稍后您很可能需要删除侦听器以释放资源，因此**+1 行将其存储**在变量中：

```
var functionOnClick:Function = onClick(true, 123, 4.56, "string");
stage.addEventListener(MouseEvent.CLICK, functionOnClick);
function onClick(b:Boolean, i:int, n:Number, s:String):Function {
  return function(e:MouseEvent):void {
    trace("Received " + b + ", " + i + ", " + n + " and " + s + ".");
  };
} 
```

您将能够正常删除它：

```
trace("Before: " + stage.hasEventListener(MouseEvent.CLICK));
stage.removeEventListener(MouseEvent.CLICK, functionOnClick);
trace("After: " + stage.hasEventListener(MouseEvent.CLICK)); 
```

* * *

这是一个更详细的动态示例来证明其用途：

```
function onClick(s:String):Function {
  return function(e:MouseEvent):void {
    trace("The square " + s + " at x = " + e.currentTarget.x + "px was clicked");
  };
}
var myFunctions:Array = new Array();
for (var i:int = 0; i < 10; i++) {
  myFunctions.push(onClick("#" + (i+1)));
}
for (i = 0; i < myFunctions.length; i++) {
  var square:Sprite = new Sprite();
  square.name = "sqr" + i;
  square.addChild(new Bitmap(new BitmapData(20, 20, false, 0)));
  square.x = 5 + 25 * i;
  square.addEventListener(MouseEvent.CLICK, myFunctions[i]);
  stage.addChild(square);
} 
```

**没有通过动态对象的属性，没有自定义类，没有松散的功能，没有范围重叠。正是逻辑所期望的：您只是将参数传递给它。**

要正确删除每个侦听器，您可以稍后这样做：

```
for (i = 0; i < myFunctions.length; i++) {
  square = stage.getChildByName("sqr" + i) as Sprite;
  trace("Before (#" + (i+1) + "): " + square.hasEventListener(MouseEvent.CLICK));
  square.removeEventListener(MouseEvent.CLICK, myFunctions[i]);
  trace("After (#" + (i+1) + "): " + square.hasEventListener(MouseEvent.CLICK));
  stage.removeChild(square);
} 
```

恕我直言，这是最简单但最可靠的方法。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-01-23T00:49:57.260

## 这是一个例子

```
var s1:Boolean = true;

station1.addEventListener(MouseEvent.ROLL_OVER, function(e:MouseEvent) : void { spread(e, s1) });
station1.addEventListener(MouseEvent.ROLL_OUT, function(e:MouseEvent) : void { collapse(e, s1) });

function spread(event:MouseEvent ,bb:Boolean):void {
 if(bb != true) event.currentTarget.gotoAndPlay(2);
}

function collapse(event:MouseEvent,bb:Boolean ):void {
    if(bb != true) event.currentTarget.gotoAndPlay(18);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-21T07:57:10.720

为什么不使用 AS3 信号？然后传递一个参数很简单：

```
import org.osflash.signals.Signal;

public class AlarmClock 
{
    public var alarm:Signal;

    public function AlarmClock() 
    {
        alarm = new Signal(String);
    }

    public function ring():void
    {
        alarm.dispatch("9 AM");
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T07:06:47.393

无法将参数直接传递给事件处理程序。

最好的近似是使用函数工厂方法，IMO

//--EDITED：我创建了一个单独的类来维护参数化处理程序，请参阅[https://gist.github.com/4124722](https://gist.github.com/4124722)

用法很简单：

```
 public class Usage extends Sprite{

        private var _handlers : ParameterizedHandlerContainer;

        public function ParameterizedEvents()
        {

            _handlers = new ParameterizedHandlerContainer();
            _handlers.registerHandler( this, Event.ADDED_TO_STAGE, someMethod, 3000 );
        }

        private function someMethod( event : Event, amount : uint ):void
        {
            trace( this, 'someMethod', amount );
            _handlers.destroyHandler( arguments.callee, event );
        }

    } 
```

现在您可以使用 注册参数化处理程序`ParameterizedHandlerContainer#registerHandler`并使用`ParameterizedHandlerContainer#destroyHandler`.

您可以传入任意数量的参数，但回调方法的第一个参数必须是 Event 类型或后代类型。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-11-21T07:32:17.660

我会稍微修改一下 Creynders 的例子：

```
 protected function createHandler(handler:Function, ...args):Function
    {
        var h:Function = function(e:Event = null):void
        {
            trace(args);

            if (handler != null)
                handler(e);
        }
        return h;
    }

    sm.addEventListener(StyleEvent.STYLE_CHANGE, 
            createHandler(updateStyle, 1,true,"Lorem",["a","b","c"]), 
            false, 0, true); 
```

这样您就可以使用原始事件处理程序并向其注入“参数”，

您也可以让您的处理程序具有以下签名：

```
protected function myHandler(e:Event, ...args):void; 
```

然后您可以将参数直接传递给目标处理程序：

```
 protected function createHandler(handler:Function, ...args):Function
    {
        var h:Function = function(e:Event = null):void
        {
            //trace(args);

            if (handler != null)
            {
                args.unshift(e);
                handler.apply(this, args);
            }
        }
        return h;
    } 
```

最好的祝福

# java - 检查大写的计数

> ID：13486234
> 
> 赞同：-1
> 
> 时间：2012-11-21T04:14:12.000
> 
> 标签：java, uppercase

```
import java.util.Scanner;
 public class Test{
  public static int countUppercase(String s){
  int count = 0;
 for(int i = 0; i<s.length(); i++){
 if(s.charAt(i)>='A'&&s.charAt(i)<='Z'){
 count++;
}
} 

 return count;
 }
 public static void main(String[] args){
System.out.println("Please enter a word to check for uppercase:");
  Scanner input = new Scanner(System.in);

  String s=input.nextLine();
  countUppercase(s);
   }
 } 
```

为什么这段代码不起作用？它只接受输入但不返回计数！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:17:47.457

```
System.out.println(countUppercase(s)); 
```

因为您没有打印输出

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:16:55.053

你有没有尝试过

```
if(Character.isUpperCase(s.charAt(i)))
{
     count++;
} 
```

**编辑** 我刚刚执行了你的代码。它工作正常。唯一的问题是您**没有打印**结果。那是你的问题吗？

```
int nUpperCase = countUppercase(s);
System.out.println(nUpperCase ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:19:26.807

你确定它不返回计数吗？

当您调用该方法时：

```
countUppercase(s); 
```

你不使用返回值。

试试这个例如：

```
int count = countUppercase(s);
System.out.println("count is " + count); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T04:19:44.940

您没有打印输出。您也可以尝试以下代码：

```
for (int i=0; i<input.length(); i++)
{
     for(char c='A'; c<='Z'; c++)
    {
           if (input.charAt(i) == c)
          {
                    upperCaseCount++;
          }
     }
} 
```

# java - 使用 simpleAdapter ANDROID 在列表视图中显示图像

> ID：13486235
> 
> 赞同：0
> 
> 时间：2012-11-21T04:14:23.870
> 
> 标签：java, android, listview, simpleadapter

我目前正在开发一个使用 SimpleAdapter 将图像显示到我的列表视图中的 android 应用程序。我的图像是从我的在线服务器检索的。检索图像后，我尝试显示图像，但没有显示任何内容，也没有错误。

**下面是我的代码**

```
class ListApplicant extends AsyncTask<String, String, String> {

    // Before starting background thread Show Progress Dialog
    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        pDialog = new ProgressDialog(SignUpApplicantActivity.this);
        pDialog.setIndeterminate(false);
        pDialog.setCancelable(false);
    }

    // getting All applicants from URL
    protected String doInBackground(String... args) {
        // Building Parameters
        List<NameValuePair> params = new ArrayList<NameValuePair>();
        params.add(new BasicNameValuePair("eid", eid));

        // getting JSON string from URL
        JSONObject json = jParser.makeHttpRequest(url_list_applicant,
                "GET", params);

        // Check your log cat for JSON response
        Log.d("All applicants: ", json.toString());

        try {
            // Checking for SUCCESS TAG
            int success = json.getInt(TAG_SUCCESS);

            if (success == 1) {
                // applicants found
                // Getting Array of applicants
                applicant = json.getJSONArray(TAG_APPLICANTS);

                // looping through All applicants
                for (int i = 0; i < applicant.length(); i++) {
                    JSONObject c = applicant.getJSONObject(i);

                    // Storing each JSON item in variable
                    String uid = c.getString(TAG_UID);
                    String name = c.getString(TAG_NAME);
                    String overall = c.getString(TAG_OVERALL);
                    String apply_datetime = c.getString(TAG_APPLY_DATETIME);

                    // creating new HashMap
                    // HashMap<String, String> map = new HashMap<String,
                    // String>();

                    // IMAGE HASHMAP
                    HashMap<String, String> map = new HashMap<String, String>();

                    // adding each child node to HashMap key (value)
                    map.put(TAG_UID, uid);
                    map.put(TAG_NAME, name);
                    map.put(TAG_OVERALL, overall);
                    map.put(TAG_APPLY_DATETIME, apply_datetime);

                    // adding HashList to ArrayList
                    // applicantsList.add(map);

                    // LISTING IMAGE TO LISTVIEW
                    try {
                        imageURL = c.getString(TAG_PHOTO);

                        InputStream is = (InputStream) new URL(
                                "http://ec2-175-41-164-218.ap-southeast-1.compute.amazonaws.com/android/images/"
                                        + imageURL).getContent();
                        d = Drawable.createFromStream(is, "src name");
                    } catch (Exception e) {
                        e.printStackTrace();
                    }

                    map.put(TAG_PHOTO, d.toString());

                    // adding HashList to ArrayList
                    applicantsList.add(map);
                }
            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

        return null;
    }

    // After completing background task Dismiss the progress dialog
    protected void onPostExecute(String file_url) {
        // dismiss the dialog after getting all applicants
        pDialog.dismiss();
        // updating UI from Background Thread
        runOnUiThread(new Runnable() {
            public void run() {
                if (applicantsList.isEmpty()) {
                    applicantDisplay
                            .setText("No applicants have signed up yet");
                } else {

                    //Updating parsed JSON data into ListView

                    adapter = new SimpleAdapter(
                            SignUpApplicantActivity.this, applicantsList,
                            R.layout.list_applicant, new String[] {
                                    TAG_UID, TAG_NAME, TAG_OVERALL,
                                    TAG_APPLY_DATETIME, TAG_PHOTO },
                            new int[] { R.id.applicantUid,
                                    R.id.applicantName,
                                    R.id.applicantOverall,
                                    R.id.apply_datetime, R.id.list_image });
                    // updating listView
                    setListAdapter(adapter);
                }
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:43:18.953

问题在这里：

```
map.put(TAG_PHOTO, d.toString()); 
```

您将该键设置为一个字符串`"Drawable@0x12345678"`，然后将其绑定到`R.id.list_image`我假设是一个 ImageView。那是行不通的。

我没有像那样使用过 Drawable，但我在 Bitmap 上取得了成功：

```
Bitmap bitmap = BitmapFactory.decodeStream(is); 
```

然后我覆盖`bindView`了我的适配器来设置图像：

```
public void bindView(View view, Context context, Cursor cursor) {
    // do the default stuff
    super.bindView(view, context, cursor);

    // now set the image
    ImageView imgView = (ImageView) view.findViewById(R.id.imageView1);
    imgView.setImageBitmap(bitmap);
} 
```

A`SimpleAdapter`没有`bindView`方法，因此您可以提供`ViewBinder`：

```
mySimpleAdapter.setViewBinder(new SimpleAdapter.ViewBinder() {
    @Override
    public boolean setViewValue(View view, Object data, String textRepresentation) {
        if (view.getId().equals(R.id.my_img_view_id)) {
            ((ImageView) view).setImageBitmap(bitmap);

            // we have successfully bound this view
            return true;
        } else {
            // allow default binding to occur
            return false;
        }
    }
}); 
```

# bash - 无限循环麻烦bash

> ID：13486240
> 
> 赞同：0
> 
> 时间：2012-11-21T04:14:59.500
> 
> 标签：bash

所以，基本上下面的代码给出了一个无限循环。但是，如果我将 i+2 和 f+2 更改为 i++ 和 f++，它们不会给出无限循环。有人可以向我解释这是为什么吗？谢谢

```
#!/bin/bash
for ((i=0; i<5; i+2))
do
for ((f=0; f<5; f+2))
do
echo "$i $f"
done
done 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T04:16:43.703

您需要做`+=`，而不是`+`（另外， i+=2 应该是 f+=2 在您的内部循环中）：

```
for ((i=0; i<5; i+=2))
do
    for ((f=0; f<5; f+=2))
    do
        echo "$i $f"
    done
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:19:21.997

`i+2`不改变 的值`i`。它只是将 2 的当前值加 2`i`并返回结果。通过增加它`i++`的值来改变它。`i`试试这个：

```
for ((i=0; i<5; i=i+2)) 
```

请注意，`i=i+2`也可以简写为`i+=2`. 含义相同：将 2 的当前值加 2`i`并将结果分配给`i`。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-21T05:29:55.530

`+=`语法是简短的形式，因此您也可以表示`i+=2`为`i=i+2`

```
for ((i=0; i<5; i+=2))
do
    for ((f=0; f<5; f+=2))
    do
        echo "$i $f"
    done
done 
```

# php - 在第二个表上选择条件，显示来自 3 个表的信息

> ID：13486241
> 
> 赞同：0
> 
> 时间：2012-11-21T04:15:01.340
> 
> 标签：php, mysql

我尝试根据第二个表的寄存器从一个表中进行选择

我使用 4 张桌子

```
table Products
Product_Id     |  Product_Name    |   Product_Value   | Category_Id
1              |  Ball            |   10              | 1
2              |  Pen             |    2              | 2 
3              |  Eraser          |    1              | 1

table Categories
Category_Id    |  Category_Name
1              |  Acessories
2              |  Others

table Customers
Customer_Id    |  Customer_Name
1              |  John
2              |  Peter

table Sells
Sell_Id        |  Product_Id      |   Customer_Id   |  Sell_Date
1              |  1               |   1             |  2012-01-01
2              |  2               |   1             |  2012-01-02 
```

所以我想做出一个选择来展示客户历史上他买的东西

像

约翰历史

```
Product Name  Category Name   Date
Ball          Accessories     2012-01-01
Pen           Others          2012-010 
```

在最后我显示信息表格 3 个不同的表格

我尝试使用 INNER JOIN 和 LEFT JOIN 但没有成功。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T04:22:53.587

分解：您想要的第一件事是产品名称：

```
SELECT Product_Name FROM Products 
```

我们如何获得类别？加入吧！

```
SELECT Products.Product_Name, Categories.Category_Name 
FROM Products JOIN Categories ON Products.Category_Id = Categories.Category_Id 
```

越来越接近！是时候引入订单历史了：

```
SELECT Products.Product_Name, Categories.Category_Name, Sells.Sells_Date 
FROM Products 
JOIN Categories ON Products.Category_Id = Categories.Category_Id
JOIN Sells ON Sells.Sells_Id = Products.Product_Id 
```

现在我们可以引入名称，并过滤到 John：

```
SELECT Products.Product_Name, Categories.Category_Name, Sells.Sells_Date 
FROM Products 
JOIN Categories ON Products.Category_Id = Categories.Category_Id
JOIN Sells ON Sells.Sells_Id = Products.Product_Id
JOIN Customers ON Sells.Customer_Id = Customers.Customer_Id
WHERE Customers.Customer_Name = 'John' 
```

在你的脑海中一步一步地走。随时从每个部分构建查询。

## 既然你提到了...

`LEFT JOIN`是你如何处理丢失的数据。它从“左”表返回行，如果子句`NULL`不匹配，则放入“右”表的字段。`ON`

例如，如果 John 购买了没有类别 ( `Product.Category_Id`was `NULL`) 的产品，则使用 a`JOIN`不会返回该购买记录，因为没有与 匹配的类别`Category_Id` `Null`。在这种情况下，您可以`LEFT JOIN Categories`并且在结果集中`Category_Name`也可以`NULL`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T04:22:37.630

```
SELECT
    Customers.Customer_Name as 'Customer Name',
    Products.Product_Name as 'Product Name',
    Categories.Category_Name as 'Category Name',
    Sells.Sell_Date as 'Date Sold'
FROM Customers
    INNER JOIN Sells on Sells.Customer_Id = Customers.Customer_Id
    INNER JOIN Products ON Products.Product_Id = Sells.Sell_Id
    INNER JOIN Categories ON Categories.Category_Id = Products.Category_ID; 
```

如果要为一个人提取历史记录，可以使用 WHERE 子句：

```
WHERE Customers.Customer_Id = 1 
```

或者...

```
WHERE Customers.Customer_Name = 'John' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T04:19:32.333

只需在所有这些表上使用 JOIN 并选择您想要的任何内容：

```
SELECT 
    p.Product_Name, c.Category_Name, s.Sell_Date
FROM
    Customers cu JOIN Sells s ON cu.id = s.Customer_Id
    JOIN Products p ON p.id = s.Product_Id     
    JOIN Categories c ON p.Category_Id = c.id
WHERE
    cu.Customer_Name = "John" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-21T04:21:49.190

`JOIN`是正确的：

```
SELECT Products.Product_Name, Categories.Category_Name, Sells.Sell_Date
FROM Sells JOIN Products ON Sells.Product_Id = Products.Product_Id JOIN Categories ON Sells.Category_Id = Categories.Category_Id
WHERE Sells.Customer_Id = 1; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T04:22:07.613

```
SELECT Product_Name, Category_Name, Sell_Date
FROM Products, Categories, Sells
WHERE Sells.Customer_Id = 1
    AND Sells.Product_Id = Products.Product_Id
    AND Products.Category_Id = Categories.Category_Id; 
```

# haskell - 为什么这个函数不延迟消费？

> ID：13486242
> 
> 赞同：1
> 
> 时间：2012-11-21T04:15:11.023
> 
> 标签：haskell, lazy-evaluation

我有两个类似于`filter`和的功能`takeWhile`。

```
filterAcc, takeWhileAcc :: ([a] -> Bool) -> [a] -> [a]
filterAcc p xs = go xs []
    where go [] acc     = acc
          go (x:xs) acc
            | p (x:acc) = go xs (x:acc)
            | otherwise = go xs acc

takeWhileAcc p xs = go xs []
    where go [] acc     = acc
          go (x:xs) acc
            | p (x:acc) = go xs (x:acc)
            | otherwise = acc 
```

它们都采用谓词和列表，它们与常规的不同之处`filter`在于`takeWhile`谓词将累积的结果作为输入。

我的问题是，虽然`filter even [1..]`会立即（懒惰地）开始产生输出，但会`filterAcc (any even) [1..]`挂起。我的怀疑是辅助函数`go`正在阻止这些函数懒惰地行动。

我怎样才能让这些功能懒惰地运行？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-21T04:24:04.253

问题是 cons 的情况`go`总是以对自身的尾调用结束。它只在到达列表末尾时返回有用的东西，这当然不会发生在无限列表中。

相反，您应该随时返回元素：

```
filterAcc, takeWhileAcc :: ([a] -> Bool) -> [a] -> [a]
filterAcc p xs = go xs []
    where go [] acc     = []
          go (x:xs) acc
            | p (x:acc) = x : go xs (x:acc)
            | otherwise = go xs acc

takeWhileAcc p xs = go xs []
    where go [] acc     = []
          go (x:xs) acc
            | p (x:acc) = x : go xs (x:acc)
            | otherwise = [] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T14:32:34.713

惰性列表消费通常是通过`foldr`.

您的累加器需要从左到右的信息流。这通常是通过使用来实现的`foldl`，但这意味着严格的列表消费。

解决方案是使用`scanl`：

```
--- mapAccumL :: (acc -> x -> (acc, y)) -> acc -> [x] -> (acc, [y])
--- scanl     :: (a   -> b -> a)        -> a   -> [b] -> [a]

takeWhileAcc p []     = []
takeWhileAcc p (x:xs) = map snd $ takeWhile (p.fst) 
                                $ scanl (\(acc,_) y-> (y:acc,y)) ([x],x) xs

filterAcc p []        = []
filterAcc p (x:xs)    = map snd $ filter (p.fst) 
                                $ scanl (\(acc,_) y-> (y:acc,y)) ([x],x) xs 
```

另一种可能性是使用`until`, 或`mapAccumL`。后者很自然，只是它不收集累加值，而是传递最后一个累加器值。

# c - 关于 C 指针的说明

> ID：13486244
> 
> 赞同：0
> 
> 时间：2012-11-21T04:15:29.633
> 
> 标签：c, pointers

在以下示例中：

```
int *i;
*i=1; 
```

它会产生一个挂起的程序，因为我知道我正在将一个值直接放入内存位置。

我的问题是为什么如下：

```
int *i=1; 
```

只产生与整数转换相关的警告并且不挂起程序？

为什么这条指令既不产生错误也不产生警告？

```
char *s="acd"; 
```

如果我使用与之前的示例类似的东西

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:21:59.813

让我们分别谈谈这3个案例：

```
int *i;
*i=1; 
```

第一行为指针分配内存，但不初始化它，给 i 留下一个随机垃圾值。第二行尝试写入由随机垃圾拼出的内存地址，导致运行时出现未定义的行为。

```
int *i=1; 
```

这为指针分配内存并为其分配值 1（即内存地址`0x1`）。由于这将整数值 1 隐式转换为指针，因此您会收到警告，因为将指针初始化为非空内存地址的情况极为罕见。

顺便说一句，如果你要这样做：

```
int *i=1;
*i=1; 
```

它会尝试将值 1 写入内存地址`0x1`，从而导致与第一种情况相同的未定义行为。

```
char *s="acd"; 
```

这会在堆栈上创建一个以 null 结尾的字符串并让 s 指向它。字符串文字是分配给 char * 的自然事物，因此没有警告。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T04:20:42.210

您的第一个案例是您尝试写入内存的唯一案例：

```
int *i; // i is a pointer but it's value is undefined
*i = 1; // Whoops, you just wrote to a random memory location.

int *i=1; // i is an invalid pointer (address 1), but you aren't writing to it

char *s="acd"; // s points to the string literal "acd" - again: no write. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T04:23:49.637

```
int *i = 1; 
```

相当于：

```
int *i;
i = 1; 
```

出于同样的原因：

```
char *s = "acd"; 
```

...相当于：

```
char *s;
s = "acd"; 
```

类型定义中星号的出现是表示它的符号，`i`并且`s`是指针。这与您看到在类型定义之外使用的星号不同，星号表示取消引用。

因此，在这些情况下，您只是分配指针值本身......而不是取消引用它并写入它指向的内存。*指针本身*的内存是在堆栈上分配的，因此被占了。当您取消引用并在未正确初始化时尝试写入时，您的危险就来了。

请注意，对于字符串，您可以取消对它的引用。当编译器看到字符串文字时，四个内存字符`acd\0`被隐式留出......然后将文字评估为该内存的地址。所以你的`s`指针很好。您的`i`指针是一个任意值，在大多数系统上很可能不可读。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T04:22:14.667

```
int *i; 
```

声明一个指针。如果在函数中完成，这是一个自动变量*并且未初始化*。然后当你尝试

```
*i = 1; 
```

您访问由分配给 name 的内存位置中的值给出的一些内存`i`。您可能没有访问该内存的权限，因此您的程序崩溃了。

当你写

```
int *i = 1; 
```

您声明指针并将其初始化为指向内存位置 1。请注意，您没有尝试将任何内容写入内存位置 1，只是指向`i`它。如果您确实尝试写入它，您将再次遇到段错误。

您的最后一个案例声明了一个指向字符串文字的字符指针（因为`"string"`计算结果为存储该文字的地址），该字符串通常存储在您有权读取但无权写入的内存的特殊部分中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T04:22:37.357

对于第一部分，声明：

```
int *i=1; 
```

实际上和做的一样：

```
int *i;
i=1; 
```

也就是说，指针 i 被声明为位于内存位置 1（如果您有 32 位地址空间，则为 0x00000001）。警告仅仅是因为您将整数转换为地址。

对于第二部分，它是声明字符串的正确语法。这就是为什么它不会触发错误。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-21T04:22:58.620

在你的第一个例子中

```
int *i;
*i = 1; 
```

您声明一个指针并让它未初始化。即未初始化意味着它基本上具有随机值，因此指针指向随机内存位置。然后您尝试将该位置的内存设置为一个值，这可能会使您的程序崩溃。使用未初始化的指针是*未定义的行为*。

在第二个示例中，您实际上初始化了指针。您没有在`i`指向的位置分配值，但实际上`i` *指向*内存地址`1`。

第三个示例只是第二个示例的变体，您可以在其中告诉指针`s`指向存储文字字符串的内存`"acd"`。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-21T04:24:57.090

在第一个示例中：

```
int *i;
*i=1; 
```

您将 1 分配给 i 指向的位置，该位置未初始化，因此它很可能写入无效的位置。

在第二个例子中：

```
int *i = 1; 
```

您将值 1 分配给指针值 i - 也就是说，您说 i 指向内存地址 1。这相当于：

```
int *i;
i = 1; 
```

出现警告是因为 i 是 type`int*`并且是 type `int`。

在最后一个例子中：

```
char *s="acd"; 
```

您正在分配 s 以指向字符串文字。字符串文字存储在程序的静态内存中，因此在运行时它被替换为有效地址。搅拌文字的类型是`char*`，它是相同的类型，`s`所以没有警告。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-21T04:27:32.360

```
int *i; 
```

将变量声明`i`为指向`int`while的指针

```
*i = 1; 
```

尝试将整数 1 存储在存储在的任何地址`i`。当您在存储任何内容之前执行此命令时`i`，这应该是未定义的行为。它可能`i`包含一些随机值，因此您试图将 1 存储在随机地址。

```
int *i = 1; 
```

将变量声明`i`为指向 an 的指针`int`并尝试将该指针初始化为 1。由于 1 是整数而不是整数的地址，因此您会收到警告。

`"acd"`根据定义，字符串字面量是一个包含字符串中字符的以 - 结尾的数组`NULL`。`char`在分配时，该数组衰减为指向 a 的指针`char`，并且当您将其分配给 a`char *`时，没有问题。不过，我认为您不应该修改该数组的元素，因此最好将其分配给 a `const char *`，gcc 可能会很乐意警告您。

# winforms - WinForms如何调用一个Button的双击事件？

> ID：13486245
> 
> 赞同：7
> 
> 时间：2012-11-21T04:15:34.657
> 
> 标签：winforms, events, button, double-click

我希望仅在双击按钮时才发生事件，而不是在单击按钮时发生事件。遗憾的是，双击事件没有出现在 IDE 的事件列表中。

有谁知道解决这个问题的好方法？谢谢！

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-11-21T04:45:11.477

不，标准按钮不会对双击做出反应。请参阅[Button.DoubleClick](http://msdn.microsoft.com/en-us/library/system.windows.forms.button.doubleclick.aspx)事件的文档。它不会对双击做出反应，因为在 Windows 中，按钮总是对点击做出反应，而不是对双击做出反应。

你讨厌你的用户吗？因为您将创建一个与系统中任何其他按钮的行为不同的按钮，而某些用户永远不会明白这一点。

也就是说，您必须创建一个从`Button`事件派生到此的单独控件（因为[SetStyle](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.setstyle.aspx)是受保护的方法）

```
public class DoubleClickButton : Button
{
    public DoubleClickButton()
    {
        SetStyle(ControlStyles.StandardClick | ControlStyles.StandardDoubleClick, true);
    }
} 
```

然后您必须`DoubleClick`在代码中手动添加事件处理程序，因为它仍然不会显示在 IDE 中：

```
public partial class Form1 : Form {
    public Form1()  {
        InitializeComponent();
        doubleClickButton1.DoubleClick += new EventHandler(doubleClickButton1_DoubleClick);
    }

    void doubleClickButton1_DoubleClick(object sender, EventArgs e)  {
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-12-23T11:37:03.073

用这个。代码有效。

```
public class DoubleClickButton : Button
            {
                public DoubleClickButton()
                {
                    SetStyle(ControlStyles.StandardClick | 
ControlStyles.StandardDoubleClick, true);
                }
            }

 DoubleClickButton button = new DoubleClickButton();
 button.DoubleClick += delegate (object sender, EventArgs e)
        {
           //codes
        }; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-04-18T07:51:43.543

我曾经在我的对象上添加 MouseDoubleClick 事件，例如：

`this.pictureBox.MouseDoubleClick += new System.Windows.Forms.MouseEventHandler(this.pictureBox_MouseDoubleClick);`

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-11-21T17:09:19.287

双击只是时间 t 内的两个常规单击事件。

这是假设 t = 0.5 秒的一些伪代码

```
button.on('click' , function(event) {
    if (timer is off or more than 0.5 milliseconds)
        restart timer
    if (timer is between 0 and 0.5 milliseconds)
        execute double click handler
}) 
```

# html - 如果包装了 i 标签，链接将不起作用

> ID：13486246
> 
> 赞同：0
> 
> 时间：2012-11-21T04:15:35.180
> 
> 标签：html

如果我的链接有一个子元素，为什么我的链接不起作用？有针对这个的解决方法吗？我找到了这个：[当我将内容包装在 <a> 标记中时，链接在 IE 中不起作用，帮助？](https://stackoverflow.com/questions/6496525/when-i-wrap-contents-in-an-a-tag-the-link-doesnt-work-in-ie-help) 它建议使用 div 而不是锚标记，但我想坚持使用默认浏览器功能并且不想为此编写脚本。

```
<td class="pointer">
            <a href="{{ URL::to('admin/user/' . $user->user_id) }}"><i class="icons foundicon-unlock"></i></a>
        </td> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:18:23.257

它不适用于 IE 或所有浏览器，因为它适用于我

[**演示**](http://jsfiddle.net/WNpLt/)

如果你愿意，你可以从元素中取出`<i>`标签`<a>`

[**演示 2**](http://jsfiddle.net/WNpLt/1/)

HTML

```
<i><a href="www.google.com">Google</a></i> <!--Tested on IE 7,8,9 and obviously on firefox--> 
```

我怀疑你的`href`属性，只要确定你得到了什么作为来源，顺便说一句，你`<a>`的标签之间没有文字，假设你正在使用一些图像

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T06:19:05.277

发布的代码创建了一个`a`以`i`元素为内容的元素，后者没有内容，所以我们可以说它是一个空链接。它是否有效是一个定义问题。谷歌会关注它，用户也许可以专注于它并通过按 Enter 来关注它。但是不会有任何可点击的内容，因此人们通常不会看到任何链接。这不依赖于内部`i`元素。`a`使用内容为空的元素可以获得相同的结果。

但是使用的类名表明您希望某些样式表格式化空链接，使其看起来像一个链接，可能使用背景图像。并且大概该代码依赖于对标记的特定期望，而您的使用`i`可能无法满足它们。

因此，请查阅您正在使用的 CSS（或 JavaScript？）代码的文档。如果问题仍然存在，请发布所有相关代码并确定您在哪里找到代码。

# jquery - Ajax 将下拉列表和复选框的值从 jquery 数据表发送到控制器

> ID：13486248
> 
> 赞同：1
> 
> 时间：2012-11-21T04:15:44.333
> 
> 标签：jquery, datatable, asp.net-mvc-4

我的视图中有一个数据表，我需要在提交按钮上将值从数据表传递到控制器。在文本框的情况下，它工作正常。我无法从下拉列表和复选框中传递值。

我的视图侧代码，

```
<script type="text/javascript" charset="utf-8">
  $(document).ready(function () {
  $.get(
  '/Food/GetAllChild',
  function (data) {
  var htmlstmp = "";
  for (var i = 0; i < data.length; i = i + 1) {
    //Add rows to the datatable as per number of items in database
    htmlstmp += "<tr>"; 
    htmlstmp += " <td>";
    htmlstmp += "<div class='divslno'><div class='tdlabel'>" + data[i].ChildId +"</div> </div>";
    htmlstmp += "</td>"; 
    htmlstmp += "<td><div class='divdeliveryitem'><select class='fordivdeliveryitemselector' id='" + data[i].ChildId + "'>";
    htmlstmp += "<option class='foodlist'>Select</option>";
    htmlstmp += "<option class='foodlist'>Menu 1</option>";
    htmlstmp += "</select></div></td>";
    htmlstmp += "<td>";     
    htmlstmp += "<div class='deliverystatusrow1'> <input type='checkbox' class='deliverystatuschb' value='false' /></div>";
    htmlstmp += "</td>";
    htmlstmp += "</tr>";
  }

  //Append "htmlstmp" to the datatable's tbody. childfoodattendancetbody is id of tbody
$('#childfoodattendancetbody').append(htmlstmp);
     var oTable = $('#example').dataTable({
     "iDisplayLength": 5,
     "bSort": false
  }); 
$("#btnsaveall").click(function () {
   var datatopost = new Object(); 
  $("#example .row_selected").each(function (i, item) {
     var chidltdid = $(item).find("td .tdlabel:eq(0)").html();
     datatopost["[" + i + "].ChildId"] = chidltdid;
     datatopost["[" + i + "].FoodMenuId"] = $(item).find("td .fordivdeliveryitemselector#"+chidltdid+" :eq(1)").html(); 
     datatopost["[" + i + "].FoodDelivery_Status"] = $(item).find("td .deliverystatuschb :eq(2)").attr("value");
   }); 
});
 $.ajax({
    url: '@Url.Action("InsertData")',
    type: 'POST',
    traditional: true,
    data: datatopost,
    dataType: "html",
    success: function (response) {
  }
 });

 });
});

 </script> 
```

当我通过 chrome 检查元素检查时，Datapost 变量显示以下值

```
[0].ChildId: "1"
[0].FoodDelivery_Status: undefined
[0].FoodMenuId: undefined
[1].ChildId: "2"
[1].FoodDelivery_Status: undefined
[1].FoodMenuId: undefined 
```

我的动作看起来像，

```
[HttpPost]
public ActionResult InsertData(List<FoodDelivery> fooddelivery)
{
    int _childid, _menu;
    bool _deliverystatus;           
    for (int i = 0; i < fooddelivery.Count; i++)
    {
        _childid = fooddelivery[i].ChildId;
        _deliverystatus = fooddelivery[i].FoodDelivery_Status;
        _menu = fooddelivery[i].FoodMenuId;
            // Code to insert to database

      }
      return View();
   } 
```

我在这里做错了什么？

请帮忙，

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T09:24:18.213

将 tablebody 渲染更改为 razor syndax 而不是 Jquery，并为每个控件分配一个 ID，以便更容易找到它的值。

试试这个

```
var selectValMenuItem = $('.fordivdeliveryitemselector#' + chidltdid + ' :selected').val();                                        

var delvstatus = $('input[id=' + chidltdid+']').attr('checked'); 
```

# jquery - 为列中的每个单元格提供更快的 addClass()

> ID：13486251
> 
> 赞同：0
> 
> 时间：2012-11-21T04:16:11.257
> 
> 标签：jquery, performance, addclass

我有一个很大的表（我需要显示超过 4000 行），我需要为每行（例如）第 4 个单元格添加一些类。我的代码可以在大约 800 毫秒内完成。但我需要这样做 2 次（对于另一列和另一类），所以用户必须等待很长时间。

伙计们，如果我错过了一些昂贵的时间，你能看看我的代码吗？我最好的想法是那段代码：

```
// $(td) - is a cell in header that was clicked
// index = column number to add class
var countColumns = $(td).closest("table").find("tr:last").children("td").length;
var $childrenTD = $(td).closest("table").find("tr").not("headrow").children("td");
for(var i=index; i<$childrenTD.length; i+=countColumns) {
    $($childrenTD[i]).addClass(cssClass);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:19:49.897

在我看来，您可以简单地执行以下操作：

```
$(td).closest("table")
    .find("tr:not(.headrow) td:nth-child(" + index + ")")
    .addClass(cssClass); 
```

在这里，您选择`td:nth-child(4)`，它是`td`其父项（行）的第四个子项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:44:27.340

首先... Ben Alpert 的回答很好，并且可能是可以接受的。

如果您仍然发现性能或速度存在问题，我建议您使用“老式方式”......使用 vanilla JavaScript 和 DOM 遍历：

这是一个[小提琴](http://jsfiddle.net/VZzxd/)。我在这里使用了混合 JQuery/vanilla-js 代码来跳过任何昂贵的查询。

```
$('td').click(function() {
    //get all the trs in the table.
    var trs = this.parentElement.parentElement.parentElement.getElementsByTagName('tr');

    for (var i = 0; i < trs.length; i++) {
        var tr = trs[i];
        if ($(tr).hasClass('headrow')) continue;
        var fourth = tr.getElementsByTagName('td')[3];        
        $(fourth).addClass('someclass');
    }
});​ 
```

如果不制作一些自定义函数来添加和测试来自 DOM 的类，它不会比这快很多，这很痛苦。

**编辑：[这是一个 100% vanilla JS 解决方案的小提琴](http://jsfiddle.net/VZzxd/3/)**

这是它的 100% vanilla 版本（我没有在 IE 中测试过）：

```
function bindAllElements(elements, eventName, fn) {
    for (var i = 0; i < elements.length; i++) {
        var element = elements[i];
        element.addEventListener(eventName, fn);
    }
}

function hasClass(element, className) {
    if (typeof element.className === 'undefined') return false;
    return element.className.indexOf(className) >= 0;
}

function addClass(element, className) {
    if (!hasClass(element, className)) {
        element.className += ' ' + className;
    }
}

var alltds = document.getElementsByTagName('td');

bindAllElements(alltds, 'click', function(e) {
    var td = e.target || event.srcElement;
    var table = td.parentElement.parentElement.parentElement;
    var trs = table.getElementsByTagName('tr');
    for (var i = 0; i < trs.length; i++) {
        var tr = trs[i];
        if (!hasClass(tr, 'headrow')) {
            addClass(tr.getElementsByTagName('td')[3], 'someclass');
        }
    }
});​ 
```

**EDIT2：嗯，这是一个有趣的挑战......[这是一个](http://jsperf.com/table-dom-traversal-speed-test)展示 VanillaJS/Jquery/Hybrid 性能的 jsperf。**

它表明 VanillaJS 版本的速度大约是其他建议方式的两倍。

# upload - 如何实现大小大于 200MB 的多文件上传

> ID：13486252
> 
> 赞同：-6
> 
> 时间：2012-11-21T04:16:26.597
> 
> 标签：upload

我想知道是否可以将大于 200MB 的文件上传到我的网站。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T04:19:21.720

# 是的，有可能。​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​

# php - 阅读更多链接未显示在 joomla 1.7 类别博客中

> ID：13486253
> 
> 赞同：0
> 
> 时间：2012-11-21T04:16:36.533
> 
> 标签：php, categories, joomla1.7

我无法在我的类别博客中显示 Readmore 链接，因为我目前正在使用 joomla 1.7 我还单击了 ReadMore 链接并在文章管理器中打开它，但仍然无法显示它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T09:41:31.367

[尝试使用 K2 组件，使用http://getk2.org/](http://getk2.org/)会容易得多 ..

# python - 如何迭代一个对象并将它的所有属性分配给一个列表

> ID：13486257
> 
> 赞同：1
> 
> 时间：2012-11-21T04:16:55.077
> 
> 标签：python

从

```
a = []

class A(object):
    def __init__(self):
        self.myinstatt1 = 'one'
        self.myinstatt2 = 'two' 
```

至

```
a =['one','two'] 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-21T04:23:26.297

Python 有一个方便的内置函数，称为 vars，它会将属性作为 dict 提供给您：

```
>>> a = A()
>>> vars(a)
{'myinstatt2': 'two', 'myinstatt1': 'one'} 
```

要仅获取属性值，请使用适当的`dict`方法：

```
>>> vars(a).values()
['two', 'one'] 
```

在 python 3 中，这会给你一个与列表稍有不同的东西——但你可以在`list(vars(a).values())`那里使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T04:19:51.347

尝试查看 `__dict__`属性。它将帮助您：

```
a = A().__dict__.values()
print a
>>> ['one', 'two'] 
```

# hibernate - Grails 命名 id 列错误

> ID：13486261
> 
> 赞同：1
> 
> 时间：2012-11-21T04:17:22.337
> 
> 标签：hibernate, postgresql, grails, identifier, quoting

我的域类有问题。每次我尝试插入条目时，都会出现此错误：

```
The column name "Sequence_No" was not found in this ResultSet. 
```

这是我的域类：

```
class Record {

String firstName
String middleName
String lastName
String motherMaidenLastName
String motherMaidenMiddleName
Date birthDate
String examTypeCode
Date examinationDate

static constraints = {
    firstName nullable:false, blank:false, maxSize: 50
    middleName nullable:true, blank:true, maxSize: 50
    lastName nullable:false, blank:false, maxSize: 50
    motherMaidenLastName nullable:true, blank:true, maxSize: 50
    motherMaidenMiddleName nullable:true, blank:true, maxSize: 50
    birthDate  nullable: false
    examTypeCode  nullable: false, maxSize: 4
    examinationDate  nullable: false
}

static mapping  = {
    datasource 'oevs'
    table '`elig`'
    id column: '`Sequence_No`'
    firstName column: '`FirstName`'
    middleName column: '`MiddleName`'
    lastName column: '`LastName`'
    motherMaidenLastName column: '`MotherMaidenLastName`'
    motherMaidenMiddleName column: '`MotherMaidenMiddleName`'
    birthDate column: '`Date_Birth`'
    examTypeCode column: '`ExamType`'
    examinationDate column: '`Date_Exam`'
    }
} 
```

但是我试图保存的条目被插入到数据库中，它只是抛出了那个错误。我正在使用 PostgreSQL。我被要求以这种方式命名列名。这就是为什么我需要在命名我的列时放置一个反引号字符，因为如果不这样做，PostgreSQL 会自动将其全部转换为小写字母。每次我删除 id 列中的反引号字符时，错误都不会出现，但显然列名已转换为小写。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-25T23:29:40.373

错误在于以下语句：

> 这就是为什么我需要在命名我的列时放置一个反引号字符，因为如果不这样做，PostgreSQL 会自动将其全部转换为小写字母。

**反引号 (``)**仅在**MySQL**中使用（毫无意义地违反 SQL 标准 - 您可以使用它`SET sql_mode = 'ANSI';`来解决此问题）。反引号对 PostgreSQL 或标准 SQL 没有特殊意义。**在 PostgreSQL**中使用**双引号（`""`** ） （真的在任何地方）来实现您的目标。[此相关答案](https://stackoverflow.com/a/13186974/939860)中的更多详细信息。

你几乎是对的：在 PostgreSQL 中，没有*双引号*的标识符被转换为小写。[有关详细信息，请阅读手册中的标识符和关键字](http://www.postgresql.org/docs/current/interactive/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS)一章。

我通常建议**不要**在 PostgreSQL 中使用 CamelCase 标识符。有很多方法可以克服它。困惑的用户的绝望问题不断出现在这里。如果可以的话，不要使用 CamelCase 和双引号标识符。创建非标准标识符后，您必须始终将其双引号...

# javascript - Google Map MarkerManager：无法调用未定义的方法 substr

> ID：13486271
> 
> 赞同：5
> 
> 时间：2012-11-21T04:18:31.727
> 
> 标签：javascript, google-maps, google-maps-markers

我有一个 Web 应用程序，它使用下面的谷歌地图开源 MarkerManager JavaScript 在谷歌地图上绘制地理位置。它突然停止工作并抱怨调用未定义的东西的 substr 方法。Google main.js 突然出现这个问题？

**MarkerManager.js 的第 98 行（本地代码）：**

```
 if (typeof map.mapTypes.get(sType) === 'object' && typeof map.mapTypes.get(sType).maxZoom === 'number') { 
```

**[https://maps.gstatic.com/intl/en_us/mapfiles/api-3/10/15a/main.js](https://maps.gstatic.com/intl/en_us/mapfiles/api-3/10/15a/main.js)（谷歌代码）的第24和25行：**

```
function pf(a,b){a.f[b]||(a.f[b]=k,a.e.ne(function(c){O(c.b[b],function(b){a.d[b]||pf(a,b)});c=c.d;c.C[b]||(c.n?(c.e[D](b),c.d||(c.d=n[Hb](P(c,c.L),0))):le(c.b,de(c.f,b)+".js"))}))}of[H].Hc=function(a,b){var c=this,d=c.n;c.e.ne(function(e){var f=e.b[a]||[],g=e.e[a]||[],h=d[a]=be(f[G],function(){delete d[a];qf[f[0]](b);O(g,function(a){d[a]&&d[a]()})});O(f,function(a){c.d[a]&&h()})})};function rf(a,b){Vd(of).Hc(a,b)}var qf={},sf=ed.google.maps;sf.__gjsload__=rf;Hd(sf.modules,rf);delete sf.modules;function tf(a,b,c){var d=Vd(of);if(d.d[a])b(d.d[a]);else{var e=d.b;e[a]||(e[a]=[]);e[a][D](b);c||pf(d,a)}}function uf(a,b){var c=Vd(of);c.d[a]=b;O(c.b[a],function(a){a(b)});delete c.b[a]}function vf(a,b,c){var d=[],e=be(K(a),function(){b[Yb](l,d)});O(a,function(a,b){tf(a,function(a){d[b]=a;e()},c)})};function wf(){}wf[H].route=function(a,b){tf("directions",function(c){c.Ph(a,b,k)})};function S(a,b,c,d){na(this,a);Ia(this,b);this.j=c||"px";this.L=d||"px"}var xf=new S(0,0);Ba(S[H],function(){return"("+this[u]+", "+this[B]+")"});S[H].b=function(a){return!a?m:a[u]==this[u]&&a[B]==this[B]};S[H].equals=S[H].b;function T(a,b){this.x=a;this.y=b}var yf=new T(0,0);Ba(T[H],function(){return"("+this.x+", "+this.y+")"});T[H].b=function(a){return!a?m:a.x==this.x&&a.y==this.y};T[H].equals=T[H].b;T[H].round=function(){this.x=zd(this.x);this.y=zd(this.y)};T[H].md=bd(0);function zf(a){this.F=this.D=da;this.G=this.H=-da;O(a,P(this,this[jb]))}function Af(a,b,c,d){var e=new zf;e.F=a;e.D=b;e.G=c;e.H=d;return e}Ka(zf[H],function(){return!(this.F<this.G&&this.D<this.H)});oa(zf[H],function(a){a&&(this.F=yd(this.F,a.x),this.G=wd(this.G,a.x),this.D=yd(this.D,a.y),this.H=wd(this.H,a.y))});zf[H].getCenter=function(){return new T((this.F+this.G)/2,(this.D+this.H)/2)};var Bf=Af(-da,-da,da,da),Cf=Af(0,0,0,0);function Df(a){if(!Td(a)||!a)return""+a;a.__gm_id||(a.__gm_id=++Ef);return""+a.__gm_id}var Ef=0;function U(){}I=U[H];I.get=function(a){var b=Ff(this)[a];if(b){a=b.eb;var b=b.Bc,c="get"+Gf(a);return b[c]?b[c]():b.get(a)}return this[a]};I.set=function(a,b){var c=Ff(this),d=c[a];if(c[Ob](a)&&d){var c=d.eb,d=d.Bc,e="set"+Gf(c);if(d[e])d[e](b);else d.set(c,b)}else this[a]=b,Hf(this,a),c[a]=l};I.notify=function(a){var b=Ff(this),c=b[a];b[Ob](a)&&c?c.Bc[Eb](c.eb):Hf(this,a)};I.setValues=function(a){for(var b in a){var c=a[b],d="set"+Gf(b);if(this[d])this[d](c);else this.set(b,c)}};I.setOptions=U[H][tb];
Pa(I,Zc());function Hf(a,b){var c=b+"_changed";if(a[c])a[c]();else a[tc](b);var c=If(a,b),d;for(d in c){var e=c[d];Hf(e.Bc,e.eb)}R[r](a,b[Nc]()+"_changed")}var Jf={};function Gf(a){return Jf[a]||(Jf[a]=a[Cb](0,1).toUpperCase()+a[Cb](1))}function Ff(a){a.gm_accessors_||(a.gm_accessors_={});return a.gm_accessors_}function If(a,b){a[xc]||(a.gm_bindings_={});a[xc][Ob](b)||(a[xc][b]={});return a[xc][b]} 
```

**错误：** ![谷歌控制台](../Images/5fb71d60c4a2bba6c3a8a207d3d691fa.png)

**脚本片段：**

```
 MarkerManager.prototype.initialize = function (map, opt_opts) {
      var me = this;

      opt_opts = opt_opts || {};
      me.tileSize_ = MarkerManager.DEFAULT_TILE_SIZE_;

      var mapTypes = map.mapTypes;

      // Find max zoom level
      var mapMaxZoom = 1;
      for (var sType in mapTypes ) {
//below line is line 98
        if (typeof map.mapTypes.get(sType) === 'object' && typeof map.mapTypes.get(sType).maxZoom === 'number') {
          var mapTypeMaxZoom = map.mapTypes.get(sType).maxZoom;
          if (mapTypeMaxZoom > mapMaxZoom) {
            mapMaxZoom = mapTypeMaxZoom;
          }
        }
      } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-21T05:00:04.890

我也遇到了两个使用 gmaps + markermanager 的应用程序的问题

为了暂时解决问题，我不得不从 release 更改为 v3.9 api (Google Maps JavaScript API v3)

[https://maps.googleapis.com/maps/api/js?v=3.9&sensor=false](https://maps.googleapis.com/maps/api/js?v=3.9&sensor=false)

============================================

此问题已报告给 gmaps-api-issues，建议的解决方案适用于 v3.9、v3.10 和 v3.11：

[http://code.google.com/p/gmaps-api-issues/issues/detail?id=4543&q=markermanager&colspec=ID%20Type%20Status%20Introduced%20Fixed%20Summary%20Stars%20ApiType%20Internal](http://code.google.com/p/gmaps-api-issues/issues/detail?id=4543&q=markermanager&colspec=ID%20Type%20Status%20Introduced%20Fixed%20Summary%20Stars%20ApiType%20Internal)

============================================

尝试编辑文件 markermanager.js

更改此行：

if (typeof map.mapTypes.get(sType) === 'object' && typeof map.mapTypes.get(sType).maxZoom === 'number') {

到

if (sType!="constructor" && typeof map.mapTypes.get(sType) === 'object' && typeof map.mapTypes.get(sType).maxZoom === 'number') {

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-04T12:17:31.423

我在markermanagerv1.1中出现了同样的问题

那里的口语（98）看起来略有不同：

```
 if (mapTypes.hasOwnProperty(sType) && mapTypes.get(sType).maxZoom === 'number') { 
```

仍然，将其更改为上述行解决了问题：

```
if (sType!="constructor" && typeof map.mapTypes.get(sType) === 'object' && typeof map.mapTypes.get(sType).maxZoom === 'number') { 
```

# objective-c - 如何调整 UINavigationBar 的字体大小，使其适合 titleView 的大小？

> ID：13486273
> 
> 赞同：0
> 
> 时间：2012-11-21T04:19:14.370
> 
> 标签：objective-c, uinavigationbar

我喜欢使用 UINavigationBar 的默认大小。

但是，有时标题太长，我希望字体大小适当减小。

我该怎么做？

我想，首先我需要先找出titleView的大小。我认为这是可以做到的。

然后我需要调用一个函数来告诉我适当的字体大小。

然后我需要指定具有该大小的字体而不更改该 UINavigationBar 的字体名称。

任何人都知道如何做这些（不需要全部）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:34:09.020

您需要设置`titleTextAttributes`. `UINavigationBar`您可以从同一属性中获取字体大小和字体类型，并根据您的要求调整或更改字体大小和字体类型。

查看文档以获取更多详细信息。

[http://developer.apple.com/library/ios/#documentation/uikit/reference/UINavigationBar_Class/Reference/UINavigationBar.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UINavigationBar_Class/Reference/UINavigationBar.html)

# actionscript-3 - 从 AS3 flash 应用程序访问 www.google.com

> ID：13486279
> 
> 赞同：0
> 
> 时间：2012-11-21T04:19:26.817
> 
> 标签：actionscript-3, actionscript, cross-domain

在我的应用程序中，我试图显示来自 google.com 的一些数据。我的问题是我总是有这个错误：

```
Error #2048: Security sandbox violation: https://XXXXX.com/runtime.swf cannot load data from http://www.google.com/finance/company_news?q=null:OZG&output=rss. 
```

google 的 crossdomain.xml 是这样的：

```
<?xml version="1.0"?>
<!DOCTYPE cross-domain-policy SYSTEM "http://www.macromedia.com/xml/dtds/cross-domain-policy.dtd">
<cross-domain-policy>
  <site-control permitted-cross-domain-policies="by-content-type" />
</cross-domain-policy> 
```

我在我的 AS3 代码中这样调用页面：

```
var hdr:URLRequestHeader = new URLRequestHeader("Content-type", "text/x-cross-domain-policy");
var request:URLRequest = new URLRequest(feedURL);
request.requestHeaders.push(hdr);
//then load the request with an UrlLoader 
```

你知道为什么 flash 会给我这个跨大敏安全错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:49:32.640

我实际上误解了crossdomain.xml文件的含义。基本上，谷歌的跨域策略文件不允许任何域。

我认为我唯一的解决方案是使用代理...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T19:12:33.797

您可以使用 PHP 代理，但必须启用 cURL。例如：

```
$gogle = curl_init(); 
curl_setopt($gogle , CURLOPT_URL, $googleurl); 
curl_exec($gogle); 
```

如果您需要进一步的操作，请使用该`CURLOPT_RETURNTRANSFER`选项将内容作为字符串返回，而不是输出。

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER , TRUE); 
$content = curl_exec($ch); 
```

`CURLOPT_POSTFIELDS`如果您需要传递 POST 参数，请使用（例如：“param=value&q=google”）

# c++ - 错误：终止调用抛出异常中止陷阱：6

> ID：13486281
> 
> 赞同：1
> 
> 时间：2012-11-21T04:19:31.443
> 
> 标签：c++, threadabortexception

我正在制作一个处理继承的烫手山芋游戏。我有土豆班、球员班和裁判班。

在我的裁判类中调用 toss 函数时，我一直收到同样的错误，我似乎无法弄清楚为什么：终止调用抛出异常中止陷阱：6

我通过并发现在 umpire::start() 中，我的 for 循环中对 Players.at(randU)->toss(*m) 的调用导致出现此错误。但在我看来一切都很好。

谁能帮我吗？谢谢！

**裁判.cc**

```
#include <iostream>
#include <string>
#include "potato.h"
#include "player.h"
#include "umpire.h"
#include "PRNG.h"
using namespace std;

// Declare globally
int gamecount=1;

// GLOBAL VARIABLES
bool first=false; // False if set has not started
PRNG rplayer;

// UMPIRE CONSTRUCTOR-------------------------------------------------------------------
Umpire::Umpire( Player::PlayerList &players ){
   Players=players;
   cout<<"\tMashed POTATO will go off after ";
   cout.flush();
   m=new Mashed(Players.size()-1);
   cout << " tosses" << endl;
   cout.flush();
   cout <<"\tFried POTATO will go off after 5 tosses" << endl;  
   cout.flush();
   f=new Fried(5);}

// UMPIRE DESTRUCTOR-------------------------------------------------------------------
Umpire::~Umpire(){  
    delete m;
    delete f;}

// UMPIRE START------------------------------------------------------------------------
void Umpire::start(){
int randU;
int gameCount=1; // Keeps track of sets

// Check if you are at the end of the list.
if(Players.size()==1){
    // Who won?
    cout << Players.at(0)->getId() << "wins the Match!" << endl;
    cout.flush();}
else{

// Print output for sets----------------------------------------------------------------
// See which potato is being used in the set
if(gameCount%2!=0){ 
    cout << "Set " << gameCount << "-\tUser (mashed) [";
    cout.flush();}
else{ 
    cout << "Set " << gameCount << "-\tUser (fried) [";
    cout.flush();}
gameCount++; // increase gamecount
// Outputting players left in the set
for(unsigned int i=0;i<Players.size();i++){
    cout<<Players.at(i)->getId();}
cout <<"]: ";
cout.flush();

//Start Tossing--------------------------------------------------------------------------
    randU=rplayer(Players.size()-1);
    // Output A(id) or R(id)
    if (randU%2==0){
        cout<<"A("<<randU<<"), ";
        cout.flush();}
    else{
        cout<<"R("<<randU<<"), ";
        cout.flush();}
    if(first==false){
        for(unsigned int i=0; i<Players.size(); i++){
            if(Players.at(i)->getId()==Players.at(randU)->toss(*m)){
                Players.erase(Players.begin()+i);
                cout << "Eliminated: "<< i << endl;
                cout.flush();}
        }
        first=true;
        f->reset();
        start();
    }
    else{
        for(unsigned int i=0; i<Players.size(); i++){
            if(Players.at(i)->getId()==Players.at(randU)->toss(*f)){
                Players.erase(Players.begin()+i);
                cout << "Eliminated: "<< i << endl;
                cout.flush();}
        } 
        first=false;
        m->reset();
        start();
        }
    }
} 
```

**播放器.cc**

```
#include <iostream>
#include "player.h"
#include "potato.h"
#include "PRNG.h"
using namespace std;

// GLOBAL DECLARATIONS--------------------------------------------------------------------
PRNG randP;

// PLAYER CONSTRUCTOR---------------------------------------------------------------------
Player::Player(unsigned int id, Player::PlayerList &players){
    pid=id;
    Players=players;
    lrpFLAG=false;}

// getId() returns the player's id--------------------------------------------------------
unsigned int Player::getId(){
        return pid;}

// RNPlayer Constructor-------------------------------------------------------------------
RNPlayer::RNPlayer( unsigned int id, Player::PlayerList &players ) : Player(id,players){}

// TOSS FUNCTION--------------------------------------------------------------------------
unsigned int RNPlayer::toss( Potato &potato ){
unsigned int randnum;
if(potato.countdown()){ return getId(); }
    for(;;){    
        randnum=randP(Players.size()-1);
        if (randnum%2==0){
            cout<<"A("<<randnum<<"), ";
            cout.flush();}
        else{
            cout<<"R("<<randnum<<"), ";
            cout.flush();}
        // If our randomly selected player is not the current player...
        if(Players.at(randnum)->getId()!=getId()){
            break;}
    }   
return Players.at(randnum)->toss(potato);
}

// LRPlayer Constructor-------------------------------------------------------------------
LRPlayer::LRPlayer( unsigned int id, Player::PlayerList &players ) : Player(id,players){}

// TOSS FUNCTION
unsigned int LRPlayer::toss( Potato &potato ){
    unsigned int current; // current player
    // Find who our current player is
    for(unsigned int i=0; i<Players.size(); i++){
        if(Players.at(i)->getId()==getId()){
            current=i;
            cout<<"A("<<i<<"), ";}
    }
    // if timer hasn't gone off yet...
    if(potato.countdown()!=true){
    // if this is the FIRST toss, we want to toss left
        if(lrpFLAG==false){
            if(current==0){
                lrpFLAG=true;
                (Players.at(Players.size()-1))->toss(potato);}
            else{
                lrpFLAG=true;
                (Players.at(current-1))->toss(potato);}
            }
        else{
            if(current==Players.size()-1){
                lrpFLAG=false;
                (Players.at(0))->toss(potato);}
            else{
                lrpFLAG=false;
                (Players.at(current+1))->toss(potato);}
            }
        }
    return (Players.at(current))->getId();
} 
```

**主.cc**

```
#include <iostream>
#include <vector>
#include <time.h>
#include "potato.h"
#include "player.h"
#include "umpire.h"
#include "PRNG.h"
using namespace std;

int main(int argc, char *argv[] ){
    int p = 5;
    int tmp;
    unsigned int s;
    PRNG prng1;
    prng1.seed(1234567890);
    // Parse the command line arguments
    switch ( argc ) {
        case 3:
            tmp=atoi(argv[1]);
            s=atoi(argv[2]);
            prng1.seed(s);
            if(tmp<2 || tmp>20){
                cout << "Player must be between 2 and 20 inclusive" << endl;
                    return 0;}
            else{
                p = atoi(argv[1]);}
        }
    // Creating list of players.
    Player::PlayerList players;
    for(int i=0; i<p; i++){
        if(i%2==0){
            players.push_back(new LRPlayer(i,players));}
        else{               
            players.push_back(new RNPlayer(i,players));}
        }

//for (int i=0;i<players.size();i++){
//  cout << "Player at " << i << " id: " << players.at(i)->getId() << endl;}

// How many players?----------------------------------------------------------------------
cout << p << " players in the match" << endl;

// Construct an UMPIRE--------------------------------------------------------------------
Umpire u(players);

// Start the game!------------------------------------------------------------------------
u.start();

} 
```

另请注意：PRNG.h 是一个生成随机数的类。所以 PRNG prng1; int rand=prng1(#) 生成一个介于 0 和 # 之间的随机数。

**另外：** 当我调用我的 toss 函数时，问题就出现了。我没有超出范围，因为当我尝试调用 Players.at(randU)->getID() 时，我根本没有收到任何错误。难道是我无法达到那个玩家的投掷功能吗？我认为这与我指向的东西或记忆有关。我首先在我的 main.cc 中创建一个 PlayerList 播放器，并在两者之间交替使用 push_back 播放器。但是每个玩家也需要一份名单。也许我遇到了与此有关的错误？

谢谢！任何帮助深表感谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:39:57.747

`randU``Players.erase()`调用后必须重新生成。否则会超出范围。
或者您应该将循环中断为：

```
for(unsigned int i=0; i<Players.size(); i++){
            if(Players.at(i)->getId()==Players.at(randU)->toss(*f)){
                Players.erase(Players.begin()+i);
                cout << "Eliminated: "<< i << endl;
                cout.flush();
                break; // BREAK HERE as randU now can be greater than (Players.size() - 1)
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:33:33.347

抛出的异常必须是 std::out_of_range。您生成的随机数必须高于向量中的元素数。

# sql-server - 运行手动备份时是否计划备份工作

> ID：13486282
> 
> 赞同：0
> 
> 时间：2012-11-21T04:19:31.140
> 
> 标签：sql-server, sql-server-2008

如果我每隔一小时安排一次差异备份，并假设我在下午 6.59 进行完全备份，那么计划备份是否有效？

如果可能的话，请有任何帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T07:35:13.507

是的，它应该工作

如果在晚上 7 点差异备份开始时完整备份 @ 6 59 尚未完成，则差异备份应该备份自下午 6 点以来的所有内容（最后一次差异备份）

# python - 使用 python google appengine 获取数据库中每一行的行 ID/键

> ID：13486290
> 
> 赞同：1
> 
> 时间：2012-11-21T04:20:20.780
> 
> 标签：python, database, google-app-engine

我需要获取每行的行 ID，以便可以将其用作主键。这就是我正在做的

```
 qr = MoreGames.query()
    res = qr.fetch()
    if res:
        data = []
        for row in res:
            d = {'id':row.key().id(),'title':row.title,'description':row.description,'link':row.link}
            data.append(d); 
```

每当我使用 row.key().id() 时，它都会给我“500 内部服务器错误”。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T07:47:17.893

Using`.query()`建议您使用 NDB 而不是 DB，在这种情况下，' `key`'是一个属性而不是一个方法，所以：

```
row.key.id() 
```

获取密钥的 id 部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:27:52.803

尝试调试。

您的密钥很可能有名称而不是 id。尝试 id_or_name() 而不是 id()。

# java - 带有子类的 toString 方法

> ID：13486292
> 
> 赞同：1
> 
> 时间：2012-11-21T04:20:23.230
> 
> 标签：java, subclass, tostring, superclass

我正在创建一个包含许多子类（A 到 G）的程序，并尝试使用 toString 方法从子类 G 创建对象引用的可打印表示。G 类继承自 F 类。我对 toString 不太熟悉然而，无法弄清楚如何做这样的事情。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T04:21:32.587

```
@Override
public String toString() {
    return /* fill this in */;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:21:42.733

您必须覆盖`toString()`超类中的方法：

```
@Override
public String toString() {
    return getClass().getCanonicalName();
} 
```

以上将简单地返回类的规范名称

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T05:01:51.960

覆盖类 G 中的 toString() 方法，您将可以访问 G 的成员及其父类，直到其在层次结构中的根。通过连接有意义的前缀从所有实例变量中准备一个字符串。例如：“年龄：”+ this.age+“薪水：”+this.salary；希望这会有所帮助。

# haskell - FRP 是实现大多数“事件驱动”事物的正确方法吗？

> ID：13486293
> 
> 赞同：16
> 
> 时间：2012-11-21T04:20:33.637
> 
> 标签：haskell, event-handling, frp

在我对 Haskell 的第一印象中，它是一种可以非常出色地处理“执行然后结果”事情的语言。但我找不到如何实现“事件驱动”的东西，比如游戏或 HTTP/FTP/TCPSocket 服务器。

这个问题在我阅读了一些关于 FRP 的论文后得到了回答，包括 Yampa 和它创建的 FPS 游戏（[Frag](http://www.haskell.org/haskellwiki/Frag)）。看起来 FRP 是一个很好的模型来实现像 3D 游戏这样的“重”事件驱动的东西，但是像 HTTP 服务器或普通桌面 GUI 程序这样的*轻微*事件驱动的应用程序呢？如果我使用 FRP 来实现所有这些东西，会出现什么缺点？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-21T05:24:24.193

FRP 是一种非常通用的技术，几乎可以肯定地用于实现通常会使用事件的任何东西。在 FRP 的经典演绎中，核心抽象之一*是*事件。不同之处在于，您不是使用回调单独操作事件，而是操作事件*流*。

您应该能够根据事件流呈现任何正常的事件驱动代码；唯一的困难是将流与现有的外部代码（如 GUI 工具包）绑定；然而，这比棘手更乏味。因此，我认为没有任何基本问题会阻止您在任何使用不同语言的事件的地方使用 FRP。

事实上，我有一些使用 FRP 的很好的经验，正是你所说的“更轻”：简单的 GUI 程序。我使用[响应式香蕉](http://www.haskell.org/haskellwiki/Reactive-banana)和 wxWidgets 编写了一些非常简单的小图形程序。我发现生成的代码比等效的基于回调的代码更简单、更容易编写和更容易阅读。

Reactive Banana 也可以用于[音乐](http://www.haskell.org/haskellwiki/Reactive-balsa)之类的东西，因此它显然具有广泛的适用性。除了使用它进行 GUI 编程外，我没有尝试过任何东西，但其他人已经尝试过，所以它必须是可能的。

此外，您应该查看 Elm，它是一种 ML 风格的语言，用于使用 FRP 实现 Web 应用程序。它生成您需要的一切：HTML、CSS*和*JavaScript。我相信它甚至可以处理与服务器的通信。我没试过，但它看起来很不错。

因此，人们显然在各种各样的领域中使用 FRP，包括那些不“重”的领域。但这并不意味着您应该在任何地方使用它！

一方面，有可能获得不可预测的空间和时间行为。我知道 Reactive Banana 和 Elm 的创建者都付出了很多努力来减少这些，但我怀疑仍然存在一些风险。我知道在玩 Reactive Banana WX 时我有一些非常奇怪的空间泄漏，所以这肯定是需要注意的。与您习惯使用的事件驱动代码相比，使用 FRP 处理这些可能更难。当然，我在标准 JavaScript 中遇到过莫名其妙的内存泄漏，所以非 FRP 代码也不能幸免！

另一个考虑因素是 FRP 可能不是您特定任务的最佳或最清晰的抽象。虽然它非常适合必须完全响应的事物，但对于非常简单的代码（例如 Web 服务器）呢？（我的意思很简单，因为在不同的请求中可能彼此之间的交互不太密切。）我想拥有一个使用基于 FRP 的编程模型来处理大量请求的 Web 框架是可能的；我只是不认为这是*最佳*的。

事实上，我的理解是，GHC IO 系统实际上已经在底层实现了事件驱动，因此您可以以标准的编程风格编写 Web 服务器，并获得免费使用事件的好处。因此，对于 Web 服务器代码，更简单的底层抽象可能是更好的选择。我相信这就是 Snap 和 Yesod 等现有框架所做的——它们都没有使用反应式编程风格，但它们仍然很容易使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T04:16:43.773

除了“简单”的 Haskell 之外，您不需要使用任何东西来实现事件驱动游戏。我目前正在使用具有以下（非常高级）“架构”的 Haskell 编写 FPS：

```
uiMake :: IO ([UIEvent],UIState)
uiTick :: UIState -> [ApEvent] -> IO ([UIEvent],UIState)

apMake :: ([ApEvent],ApState)
apTick :: ApState -> [UIEvent] -> ([ApEvent],ApState)

-- UIState = The state of the UI
-- ApState = The state of the application (game)
-- UIEvent = Key presses, screen resolution changes etc.
-- ApEvent = Entity movements etc. 
```

它工作得很好。不需要镜片、玻璃钢或其他任何“异国情调”的东西。

# mysql - 如何找到表中每一列的最大值？

> ID：13486294
> 
> 赞同：6
> 
> 时间：2012-11-21T04:20:37.767
> 
> 标签：mysql, sql, max

我只是被困在寻找这个要求的确切查询。
我想在每一列中找到最大值。

这是一个例子

```
A B C D
-------
0 3 4 1
4 1 5 3
5 9 6 7
7 2 1 6 
```

结果应该是这样的：

```
A | B | C | D |
--------------
7 | 9 | 6 | 7 | 
```

如果你能帮助我，那会更有帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T04:22:13.600

```
SELECT MAX(A) max_a,
       MAX(B) max_b,
       MAX(C) max_c,
       MAX(D) max_d
  FROM tablename 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:25:32.253

`select max(A) as A, max(B) as B, max(C) as C, max(D) as D from my_table`;

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T04:22:11.793

```
select max(a) as A ,max(b) as B  , max(c) as C  , max(d) as D  from 
 tablename 
```

# javascript - 如何在同一个 onclick= 事件上调用 javascript 和 vbscript 函数？

> ID：13486316
> 
> 赞同：0
> 
> 时间：2012-11-21T04:22:24.377
> 
> 标签：javascript, function, vbscript, onclick, call

```
 onclick='showthread(); myjsfunction()' language='vbscript'> 
```

有点上述的效果，但不起作用。其中 showthread 是一个 vbscript 函数，而 myjsfunction 是一个 javascript 函数。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:37:44.397

在我看来，你最好的选择是放弃`onxyz`处理程序并通过 DOM 正确连接事物——或者两者的结合。

例如，您的元素可以通过以下方式连接 VBScript `onxyz` *（我已经复制了您的语法）*：

```
<div id="mydiv" onclick="showthread();" language="vbscript"> 
```

...并且`<script>`文档中的标签可以连接 JavaScript：

```
<script>
document.getElementById("mydiv").attachEvent("onclick", myjsfunction);
</script> 
```

*（我在`attachEvent`那里使用是因为我知道您使用的是基于 IE 的引擎，如果您使用的是 VBScript。）*

或者，当然，有两个`<script>`元素（一个 JavaScript 和一个 VBScript）并通过 DOM 连接这两个函数：

```
<div id="mydiv">

<script>
document.getElementById("mydiv").attachEvent("onclick", myjsfunction);
</script>

<script type="application/x-vbscript">
document.getElementById("mydiv").attachEvent "onclick", showthread
</script> 
```

（或者 VBScript 的任何正确 MIME 类型。或者您可以使用`language="VBScript"`基于 IE 的引擎。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:29:09.687

我对 VBScript 不是很熟悉，但在我看来你可以做类似的事情

```
function myjsfunction() {
    window.location = "vbscript:showthread();"

    // other JS code
} 
```

从 JS 调用 VBScript 函数。这当然是hacky，但我不知道有什么更好的方法。

但是，如果可能的话，最好完全转换为 JavaScript。

# javascript - 如何在 Datatables 中加载表并让它在加载时自动滚动到最后一条记录

> ID：13486319
> 
> 赞同：3
> 
> 时间：2012-11-21T04:22:41.480
> 
> 标签：javascript, php, jquery, jquery-datatables

问题：使用 dataTables javascript 库完美地显示数据。

通过 PHP/mysql 检索数据，然后绘制表格，代码在表格中循环，如下所示：

数据表的 JAVA 代码 -

```
<script>
$(document).ready(function() {
    $("#PayMasterResults").dataTable( {
    "sPaginationType": "full_numbers",
    "bPaginate": false,
    "bJQueryUI" : true,
    "sScrollY": "215",
    "bLengthChange": true,
    "bFilter": true,
    "bSort": false,
    "bInfo": true,
    "bAutoWidth": false,
    "sDom": \'<"H"lTfr>t<"F"ip>\',
    "oTableTools": {
            "sSwfPath": "lib/copy_csv_xls_pdf.swf",
            "sRowSelect": "multi",
            "aButtons": [
                    "print",
                    {
                            "sExtends": "copy",
                            "sButtonText": "Copy to clipboard"
                    },
                    {
                            "sExtends": "csv",
                            "sButtonText": "Export CSV"
                    },
                    {
                            "sExtends": "xls",
                            "sButtonText": "Save for Excel"
                    },
                    {
                            "sExtends": "pdf",
                            "sButtonText": "Save to PDF",
                            "sPdfOrientation": "landscape",
                    }
            ]
    }
} );
});
</script> 
```

HTML / PHP -

```
 <div class="table">
            <table class="display" id="PayMasterResults">
                    <thead>
                            <tr>
                             <th class="" width="600px"><b>Entry Description</b></th>
                             <th class=""><b>Entry Timestamp</b></th>
                             <th class=""><b>Debit/Credit</b></th>
                             <th class=""><b>Running Balance</b></th>
                            </tr>
                    </thead>
                    <tbody>
            ';
            for($x=0; $x<$xmldata->Ledger->count(); $x++) {
                    echo '
                            <tr class="gradeB">
                             <td><a href="#" onclick="loadPMLedgerDetail(\''.$xmldata->Ledger[$x]->attributes()->ID.'\',\''.$_POST['ID'].'\');">'.$xmldata->Ledger[$x]->Description.'</a></td>
                             <td>'.$xmldata->Ledger[$x]->Stamp.'</td>
                             <Td>'.$xmldata->Ledger[$x]->Amount.'</td>
                             <td>'.$xmldata->Ledger[$x]->Balance.'</td>
                            </tr>
                    ';
            }
            echo '
                    </tbody>
            </table>

            </div> <!-- End Table --> 
```

--

问题是，表格当前显示所有数据，用户可以根据需要向下滚动，我需要表格底部有滚动条。因此用户可以向上滚动，但不能向下滚动。

我尝试过 jquery scrollTop 但这没有用，我找不到任何人成功地让它工作的例子。

-- 推荐后尝试#2 --

不幸的是没有运气

```
<script>
$(document).ready(function() {
var myTable = $("#PMLedgerDetailsTable").dataTable( {
    "sPaginationType": "full_numbers",
    "aaSorting": [[ 0, "asc" ]],
    "bPaginate": true,
    "bJQueryUI" : true,
    "sScrollY": "215",
    "bLengthChange": true,
    "bFilter": true,
    "bSort": false,
    "bInfo": true,
    "bAutoWidth": false,
    "sDom": \'<"H"lTfr>t<"F"ip>S\',
    "oTableTools": {
            "sSwfPath": "lib/copy_csv_xls_pdf.swf",
            "sRowSelect": "multi",
            "aButtons": [
                    "print",
                    {
                            "sExtends": "copy",
                            "sButtonText": "Copy to clipboard"
                    },
                    {
                            "sExtends": "csv",
                            "sButtonText": "Export CSV"
                    },
                    {
                            "sExtends": "xls",
                            "sButtonText": "Save for Excel"
                    },
                    {
                            "sExtends": "pdf",
                            "sButtonText": "Save to PDF",
                            "sPdfOrientation": "landscape",
                    }
            ]
    },
    "fnInitComplete" : function() {
            myTable.fnSettings().oScroller.fnScrollToRow(10000);
    }
} );

});

</script> 
```

还是没有运气。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T13:38:07.523

如果您使用[Scroller extra](http://datatables.net/extras/scroller/)，您可以在初始化函数中调用以下内容：

```
"fnInitComplete": function() { 

    // Make sure you have your table stored to a variable
    // (here, I used oTable).  Then tell the Scroller to
    // scroll to an arbitrary large number beyond the 
    // number of rows in your table.

    oTable.fnSettings().oScroller.fnScrollToRow(100000); 

    // Alternatively, if you know the number of rows in 
    // your table at runtime, you could just feed in that
    // value to the Scroller.
} 
```

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-13T18:50:13.337

尝试，

$(".dataTables_scrollBody").scrollTop(9999);

[http://datatables.net/forums/discussion/19084/scroller-plugin-scroll-table-with-keypress](http://datatables.net/forums/discussion/19084/scroller-plugin-scroll-table-with-keypress)

# php - $_SESSION 在 symfony2.1 中不起作用

> ID：13486324
> 
> 赞同：-2
> 
> 时间：2012-11-21T04:23:19.000
> 
> 标签：php, session, symfony

我已将 symfony2.0 项目升级到 symfony2.1.3。所有模块都与旧版本相同，但`$_SESSION`在新版本中不起作用。

如何在我的 Symfony 应用程序中获取会话的所有数据？我希望在 2 个应用程序之间共享会话。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T04:29:57.920

```
use Symfony\Component\HttpFoundation\Session\Session;

$session = new Session();
$session->start();

$data = $session->all(); 
```

该`$data`变量现在将包含会话数据。

# php - 当我将代码上传到服务器时，我有 PHP 会话登录的警告消息

> ID：13486326
> 
> 赞同：0
> 
> 时间：2012-11-21T04:23:23.067
> 
> 标签：php, session, hosting

我的登录代码如下：

```
<?php
session_start();
if (isset($_GET['action']) && $_GET['action']=='logout' ){
    session_destroy();
    header('location:index.php');
    exit();
}
?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="css/login_style.css" />
<link rel="stylesheet" href="css/validationEngine.jquery.css" type="text/css"/>
<script src="js/jquery-1.6.min.js" type="text/javascript"></script>
<script src="js/languages/jquery.validationEngine-en.js" type="text/javascript" charset="utf-8"></script>
<script src="js/jquery.validationEngine.js" type="text/javascript" charset="utf-8"></script>

<title>Login</title>
<style>
a:hover{
    cursor:pointer;
    text-decoration:none;
}
</style>
<script>
$(document).ready(function(){
    $("#myform").validationEngine();
});
</script>
</head>
<body>

<div class="form_controller">    
   <form action="index.php" method="post" id="myform" name="log">
    <table style=" margin-left: 164px; margin-top:86px;width: 292px;">
     <tr>
        <td style="color:#30a3b8;">Identifiant:</td><td><input type="text" name="text_username" class="validate[required]" style="border:1px solid #c9bbbb; height:20px; width:180px;"/></td>
     </tr>

   <tr>
    <td style="color:#30a3b8;"><br />Mot de passe: </td>
    <td><input type="password" name="text_password"  class="validate[required] TextInput" style=" margin-top:20px;border:1px solid #c9bbbb; height:20px; width:180px;"/><br /></td>
     </tr>

     </table>
    <table style="margin-top:50px; margin-left:197px;">
      <tr>
        <td></td>
        <td><input type="submit" name="tbn_submit" class="btnValider" value="Valider" style=""/>&nbsp;&nbsp;&nbsp;&nbsp;<input type="reset" class="btnValider" value="Annuler" /></td>
     </tr>
     </table>
     <table style="text-align:left; margin-top:-22px;">
         <tr>
            <td colspan="2"><a  href="register.php" style=" text-decoration:none; color:#30a3b8;" id="NewUser">Nouvel utilisateur?</a></td>
         </tr>
    </table>
        </form>
            <?php 
             include('include/encriptUrl.php');
             include ('include/connectdb.php');
                if(isset($_POST['tbn_submit'])){
                      $username = $_POST['text_username'];
                      $password = $_POST['text_password'];
                      $query = "SELECT * FROM tblusers WHERE `user_username`='".$username."' AND user_password='".$password."'";
                      $res = mysql_query($query) or die (mysql_error());
                      if($res){
                            if(mysql_num_rows($res)){
                                $user = mysql_fetch_assoc($res);
                                $_SESSION['username'] = $user['user_username'];
                                $_SESSION['password'] = $user['user_username'];
                                    if($user['user_possition'] == "Admin"){
                                        echo '<script type="text/javascript">window.location = "view_form.php"</script>';
                                    }
                                    else if($user['user_possition'] == "User"){
                                        echo '<script type="text/javascript">window.location = "view_edit_uid.php?uid='.encode5t($user['user_id']).'"</script>';                                        
                                    }                                       
                                    else if($user['user_possition'] == "R1"){
                                        echo '<script type="text/javascript">window.location = "view_form_res1.php"</script>';
                                    }
                                    else if($user['user_possition'] == "R2"){
                                        echo '<script type="text/javascript">window.location = "view_form_res2.php"</script>';
                                    }                               
                             } 
                             else {
                        echo '<script>alert("Invalid identifiant ou votre mot de passe.");</script>';             
                        }
                     }       
        }   
    ?>

 </div>
</body>
</html> 
```

**问题：** 根据上面的代码，我在登录时使用会话来获取用户会话，它在本地运行良好，但是当我将其上传到服务器时，我收到了警告消息`Warning: session_start() [function.session-start]: open(c:/wamp/tmp/sess_2m7odit3i1mprbmk1qg5b3j701, O_RDWR) failed: No such file or directory (2) in /homepages/0/d315362104/htdocs/demo/segpp/index.php on line 2`，`Warning: Unknown: open(c:/wamp/tmp/sess_2m7odit3i1mprbmk1qg5b3j701, O_RDWR) failed: No such file or directory (2) in Unknown on line 0`并且`Warning: Unknown: Failed to write session data (files). Please verify that the current setting of session.save_path is correct (c:/wamp/tmp) in Unknown on line 0`。我不知道如何解决这个问题。

请任何人帮助我，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:26:27.637

创建目录 c:/wamp/tmp/ 并确保它可由运行服务器的用户写入...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T03:08:12.183

非常感谢您的回答，现在我用以下代码解决了它：

```
session_save_path('/tmp');
session_start(); 
```

所以我只是添加。比`session_save_path('/tmp');`它运作良好。

# sql - SQL - 查询以将平均值显示为“长于”或“短于”

> ID：13486328
> 
> 赞同：2
> 
> 时间：2012-11-21T04:23:30.200
> 
> 标签：sql

这是我创建的表：

```
CREATE TABLE Plane_new (Pnum char(3), Feature varchar2(20), Ptype varchar2(15), 
primary key (Pnum));

CREATE TABLE Employee_new (eid char(3), ename varchar(10), salary number(7,2), mid char(3),
PRIMARY KEY (eid), FOREIGN KEY (mid) REFERENCES Employee_new);

CREATE TABLE Pilot_new (eid char(3), Licence char(9), primary key (eid), 
foreign key (eid) references Employee_new on delete cascade);

CREATE TABLE FlightI_new (Fnum char(4), Fdate date, Duration number(2), Pid char(3), 
Pnum char(3), primary key (Fnum), foreign key (Pid) references Pilot_new (eid), 
foreign key (Pnum) references Plane_new); 
```

这是我必须完成的查询：对于每个航班，显示其编号、执行该航班的飞行员的姓名，如果飞行持续时间长于平均水平或“短于平均水平”，则显示“长于平均”字样如果飞行时间短于或等于平均值​​。对于包含“长于平均值”或“短于平均值”的列，请制作标题长度。

这是我想出的-没有运气！

```
SELECT F.Fnum, E.ename,
CASE Length 
WHEN F.Duration>(SELECT AVG(F.Duration) FROM FlightI_new F)
THEN "Longer than average"
WHEN F.Duration<=(SELECT AVG(F.Duration) FROM FlightI_new F)
THEN 'Shorter than average' END
FROM FlightI_new F LEFT OUTER JOIN Employee_new E ON F.Pid=E.eid
GROUP BY F.Fnum, E.ename; 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:06:45.550

请您看一下 * [SQLFiddle](http://sqlfiddle.com/#!2/03289/4)中的这个示例查询 也许它或多或少是一个语法问题。在 Case 语句的末尾使用`Case Length`而不是使用。`As Length`不过，在优化方面，我没有对您的查询进行任何更改。

```
SELECT F.Fnum, E.ename,
CASE 
WHEN F.Duration>(SELECT AVG(F.Duration) 
                 FROM FlightI_new F)
THEN Longer than average
WHEN F.Duration<=(SELECT AVG(F.Duration) 
                  FROM FlightI_new F)
THEN 'Shorter than average' 
END as Length
FROM FlightI_new F 
LEFT OUTER JOIN Employee_new E 
ON F.FPid=E.eid 
```

根据我使用的样本数据提供以下结果。我仍然不确定您的“中间”列`FOREIGN KEY (mid) REFERENCES Employee_new);`是否真的引用了任何地方......所以我删除了引用完整性并将其单独放置。

```
FNUM    ENAME   LENGTH
f001    kaen    Longer than average
f002    jerry   Longer than average
f003    dane    Longer than average
f004    jerry   Shorter than average
f005    kaen    Shorter than average
f006    tim     Shorter than average
f007    dane    Shorter than average 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:33:15.750

```
SELECT F.Fnum, E.ename,
(CASE F.Duration 
WHEN F.Duration>(SELECT AVG(B.Duration) FROM FlightI_new B)
THEN 'Longer than average'
ELSE 'Shorter than average' END) AS LENGTH
FROM FlightI_new F LEFT OUTER JOIN Employee_new E ON F.Pid=E.eid
GROUP BY F.Fnum, E.ename; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:35:44.950

替换这一行：

```
THEN "Longer than average" 
```

用这条线：

```
THEN 'Longer than average' 
```

换句话说，将双引号更改为单引号。

# jquery - jquery Gallery 多重过滤器

> ID：13486333
> 
> 赞同：0
> 
> 时间：2012-11-21T04:24:02.660
> 
> 标签：jquery, jquery-plugins

大家好，我已经从下面的网络链接下载了这段代码，它可以让我过滤我拥有的画廊页面。但是他们在网站上没有太多关于多重过滤功能的文档吗？例如，假设我有 2 个选项 Country 和 Type 我可以选择 US 和 Cars，因此它将显示由我们和汽车过滤。

[演示链接](http://jscraft.net/demo/plugins/filters/index.html)

这是我使用的 coe 的链接。

谁可以帮我这个事 ？

```
<div class="filters demo1">
    <div class="filter">
        <a href="#" rel="city">City</a>
        <a href="#" rel="cars">Cars</a>
        <a href="#" rel="other">Other</a>
        <a href="#" rel="all">All</a>
    </div>

    This is the part for filter option 2

    <div class="filter2">
        <a href="#" rel="Malaysia">Malaysia</a>
        <a href="#" rel="India">India</a>
        <a href="#" rel="US">US</a>
        <a href="#" rel="ALL">All</a>
    </div>

    <div class="filter3">
        <a href="#" rel="East">East</a>
        <a href="#" rel="West">West</a>
        <a href="#" rel="North">North</a>
        <a href="#" rel="ALL">All</a>
    </div>

    <div class="container">
        <ul>
            <li class="cars">
                <a href="#"><img src="assets/img1.jpg" alt="" /></a>
            </li>
            <li class="city">
                <a href="#"><img src="assets/img6.jpg" alt="" /></a>
            </li>
            <li class="cars">
                <a href="#"><img src="assets/img5.jpg" alt="" /></a>
            </li>
            <li class="city">
                <a href="#"><img src="assets/img7.jpg" alt="" /></a>
            </li>
            <li class="cars">
                <a href="#"><img src="assets/img3.jpg" alt="" /></a>
            </li>
            <li class="cars">
                <a href="#"><img src="assets/img4.jpg" alt="" /></a>
            </li>
            <li class="city">
                <a href="#"><img src="assets/img8.jpg" alt="" /></a>
            </li>
            <li class="cars">
                <a href="#"><img src="assets/img2.jpg" alt="" /></a>
            </li>
            <li class="other">
                <a href="#"><img src="assets/img10.jpg" alt="" /></a>
            </li>
            <li class="city">
                <a href="#"><img src="assets/img12.jpg" alt="" /></a>
            </li>
        </ul>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T07:02:14.070

试试这个

代码

```
 <div class="filters demo1">
        <div class="filter">
            <a href="#" rel="city">City</a>
            <a href="#" rel="cars">Cars</a>
            <a href="#" rel="other">Other</a>
            <a href="#" rel="all">All</a>
        </div>
        <div class="container">
            <ul>
                <li class="cars">
                    <a href="#"><img src="assets/img1.jpg" alt="" /></a>
                </li>
                <li class="city">
                    <a href="#"><img src="assets/img6.jpg" alt="" /></a>
                </li>
                <li class="cars">
                    <a href="#"><img src="assets/img5.jpg" alt="" /></a>
                </li>
                <li class="city">
                    <a href="#"><img src="assets/img7.jpg" alt="" /></a>
                </li>
                <li class="cars">
                    <a href="#"><img src="assets/img3.jpg" alt="" /></a>
                </li>
                <li class="cars">
                    <a href="#"><img src="assets/img4.jpg" alt="" /></a>
                </li>
                <li class="city">
                    <a href="#"><img src="assets/img8.jpg" alt="" /></a>
                </li>
                <li class="cars">
                    <a href="#"><img src="assets/img2.jpg" alt="" /></a>
                </li>
                <li class="other">
                    <a href="#"><img src="assets/img10.jpg" alt="" /></a>
                </li>
                <li class="city">
                    <a href="#"><img src="assets/img12.jpg" alt="" /></a>
                </li>
            </ul>
        </div>
    </div> 
```

JAVASCRIPT代码

```
 $(function(){
     $('.filters.demo1').filters();
 }); 
```

注意：不要忘记包含 jQuery 和 Filter 插件 js 文件。将 jquery.js 放在过滤器插件文件的顶部

# java - 遍历霍夫曼树

> ID：13486348
> 
> 赞同：1
> 
> 时间：2012-11-21T04:25:46.103
> 
> 标签：java, tree, huffman-code

所以我在遍历我的霍夫曼树并找到每个字符的路径代码时遇到了问题。基本上我所做的是：我使用 FileReader 读取文件，获取每个字节，然后将其视为一个字符，然后我将它放在一个`char[]`数组中并使用另一个`int[]`数组来保存每个字符对应的频率。之后，我通过在数组中移动并使用字符和频率来创建 Tree 对象。我创建的每棵树都将其存储到`tree[]`数组，然后使用该数组创建最终的霍夫曼树。现在我不知道如何在树中移动以找到字符的路径并创建路径代码。我已经编写了将近 5 个月的代码，所以我不是专家，我知道对于路径代码，右边是 0，左边是 1，我打算将这些值存储在另一个数组中，但是在阅读了之前的一些内容之后帖子我认为这是一个坏主意。请帮忙！我的树如下。

```
private void crearArbol(){
  arbol = new Arbol[cantidadSimbolos];
  for(int i = 0; i < cantidadSimbolos; ++i){
     arbol[i] = new Arbol(charsDelArchivo[i], frecuenciaChars[i]);     
  }
  while(arbol.length > 1){
     Arbol [] provisional = new Arbol[arbol.length-1];
     for(int p = 2; p <arbol.length; ++p){
        provisional[p-1] = arbol[p];      
     }
     provisional[0] = new Arbol(arbol[0].getFrecuencia()+arbol[1].getFrecuencia());
     provisional[0].adoptarHijos(arbol[0], arbol[1]);
     this.arbol = provisional;
     ordenarVectores(0);
     System.gc();
  }
} 
```

我写的这个是通过移动每个字符的数组和相应的频率来创建霍夫曼树的...... ps。我们的教授不允许我们使用诸如 ArrayList 之类的 java 库，但不知道为什么，他喜欢让事情变得复杂。

# visual-studio-2010 - 存储过程到实体框架模型

> ID：13486350
> 
> 赞同：2
> 
> 时间：2012-11-21T04:25:50.290
> 
> 标签：visual-studio-2010, entity-framework, stored-procedures

您可以将存储过程添加到实体框架模型 ( `Model.edmx`) 中吗？

我刚刚在 Visual Studio 2010 中做到了，就像这样（除了我的存储过程现在不在“添加”选项卡中并且在“刷新”选项卡中）

![VS 截图](../Images/b14a8884b69d91029ae52ad2432396b9.png)

我的存储过程是一个简单的`SELECT`语句，带 1 个参数。

VS2010似乎已经将它添加到模型中，但我想知道它在哪里以及如何使用它？

我在图表中的任何地方都看不到它`Model.designer.cs`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-21T04:46:04.100

你在那里分道扬镳。这是一个隐藏的过程并且是多步骤的。您必须通过在上面显示的菜单中选择它们来将存储过程包含在模型中。

完成后，您想查看“模型浏览器”

![模型浏览器的图片](../Images/5e5305243d7b4eec198606af15768ff3.png)

然后在模型浏览器中，找到模型存储（这将有像“表/视图”这样的文件夹）。右键单击您的存储过程并选择“添加函数导入”。

![函数导入上下文菜单的图片](../Images/87d2dbcfd35a97d83ac70da050fe2bbb.png)

完成此操作后，您可以映射将从您的 SP 返回的实体。

![函数导入对话框的图片](../Images/6d2ffdefdb932a4ca416a36230a9efd6.png)

然后，您将能够通过代码中的上下文以强类型的方式访问您的实体。希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:30:30.057

从模型图中，右键单击并选择模型浏览器（或`View/Other Windows/Entity Data Model Browser`从菜单中）。在 Model.Store 部分，您应该看到表/视图、存储过程/函数和约束。您的存储过程将位于存储过程/函数部分。

检查此链接以很好地解释如何将存储过程与 EF 一起使用：http: [//msdn.microsoft.com/en-us/data/gg699321.aspx](http://msdn.microsoft.com/en-us/data/gg699321.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-20T12:36:26.087

补充上一个答案：

如果需要，不是实体，而是创建一个复杂类型（您可以在模型资源管理器的复杂类型文件夹中创建它）并将其关联到您的存储过程，如果您返回的数据对象与您的数据库表不匹配，例如：

[http://img46.imageshack.us/img46/9168/j4ax.jpg](http://img46.imageshack.us/img46/9168/j4ax.jpg)

# sql - SQL - 如何在自动生成的临时表中添加自动增量 id

> ID：13486353
> 
> 赞同：5
> 
> 时间：2012-11-21T04:26:27.213
> 
> 标签：sql, sql-server

我有一个像下面这样的查询，它会根据参数自动生成一个临时表。因此，该表的列数可以变化。现在，我需要在这个表中添加一个自动增量 id 列。我是怎么做的？

```
SELECT @SourceFields INTO ##StoreSourceInfo FROM testdb.dbo.@SourceTable 
```

注意：1）使用参数的源字段数和表名`@SourceFields & @SourceTable`。2）因此，##StoreSourceInfo 表上的列数可以不同。

**当前结果：**

`select * from ##StoreSourceInfo`仅显示可用列。

**预期结果：** `select * from ##StoreSourceInfo`查询将显示**一个额外的自动增量 id 列**和临时表中可用的所有其余列。

希望你能得到我。提前致谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-10-09T11:12:15.250

```
SELECT
  IDENTITY(INT, 1, 1) AS id
INTO #Temptable
FROM User 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-21T04:44:26.283

您可以使用 row_number 函数

```
Select ROW_NUMBER() over (order by T.field1) rownum
, T.field1, T.field2 into #temp1 
from @Table T 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-21T04:48:52.467

使用身份功能。有关示例，请参见链接。 [http://msdn.microsoft.com/en-us/library/ms189838.aspx](http://msdn.microsoft.com/en-us/library/ms189838.aspx)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-11-21T05:08:41.417

您必须尝试使用​​以下查询来获取例外结果以添加额外的自动增量列：

```
SELECT 
    IDENTITY(INT, 1,1) AS Rank, 
    @SourceFields 
INTO 
    ##StoreSourceInfo 
FROM 
    testdb.dbo.@SourceTable 
```

表示应用`IDENTITY`函数...

# java - 具有未选中或不安全操作的实体 bean

> ID：13486354
> 
> 赞同：3
> 
> 时间：2012-11-21T04:26:31.257
> 
> 标签：java, ejb

我正在学习 Entity Bean，但在进行实验室时出现此错误。我选择为 Entity 类（对于 Entity `Product`）创建一个 Session Bean。此文件由 NetBeans 自动创建。但它告知`ProductsFacade.java uses unchecked or unsafe operations.`

这是代码：

```
@Stateless
public class ProductsFacade implements ProductsFacadeRemote {
    @PersistenceContext(unitName = "NhungBHSE02082_SE0606_AdvJava_Lab10_11-ejbPU")
    private EntityManager em;

    public void create(Products products) {
        em.persist(products);
    }

    public void edit(Products products) {
        em.merge(products);`enter code here`
    }

    public void remove(Products products) {
        em.remove(em.merge(products));
    }

    public Products find(Object id) {
        return em.find(Products.class, id);
    }

    public List<Products> findAll() {
        return em.createQuery("select object(o) from Products as o").getResultList();
    }

    public List<Products> findRange(int[] range) {
        Query q = em.createQuery("select object(o) from Products as o");
        q.setMaxResults(range[1] - range[0]);
        q.setFirstResult(range[0]);
        return q.getResultList();
    }

    public int count() {
        return ((Long) em.createQuery("select count(o) from Products as o").getSingleResult()).intValue();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T04:32:02.787

非泛型的[`Query.getResultList`](http://docs.oracle.com/javaee/6/api/javax/persistence/Query.html#getResultList%28%29)返回值`List`被隐式转换为`List<Products>`. 现在，因为`List`是非泛型的，所以编译器没有必要的信息来确保它实际上是`Products`s 的列表。这就是编译器显示警告的原因。

即使编译器不知道，但你知道它实际上总是一个`Products`s 的列表，这保证了强制转换在运行时永远不会失败，所以你可以`@SuppressWarnings("unchecked")`在这里用注解来装饰你的方法

```
@SuppressWarnings("unchecked")
public List<Products> findAll() {
    return em.createQuery("select object(o) from Products as o").getResultList();
} 
```

这将消除警告。

另外：其他方法是使用[`TypedQuery`](http://docs.oracle.com/javaee/6/api/javax/persistence/TypedQuery.html).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T04:33:34.780

警告是由于以下方法：

```
public List<Products> findAll() {
    return em.createQuery("select object(o) from Products as o").getResultList();
}

public List<Products> findRange(int[] range) {
    ...
    return q.getResultList();
} 
```

内部发生的是`query.getResultList()`返回 generic `List`。列表中的每个对象都是类型`Products`。你知道，但编译器不知道。类型只能在运行时确定。所以编译器显示警告*uncheck or unsafe operation*。您可以放心地忽略此警告。

如果你真的很担心，那么你可以在`@SuppressWarnings("unchecked")`这两个方法中添加注解，让警告消失。

# java - 在jsp中包含spring webflow控制器

> ID：13486358
> 
> 赞同：1
> 
> 时间：2012-11-21T04:27:04.700
> 
> 标签：java, ajax, spring, spring-webflow

一点背景：我们有一个现有的 spring webflow，我们希望将其 ajaxified 以便页面可以显示在“灯箱”（在不同的 URL）中，用户可以以类似于完整的方式与流交互现有页面。

正常的注册表位于

```
http://localhost:8080/csso/customer/registration?execution=e1s1\. 
```

（csso 是应用程序名称）

Spring Webflow 中的 webflow 的 id 为 /customer/registration。

```
 <flow-registry id="flowRegistry" flow-builder-services="flowBuilderServices">
            <flow-location id="customer/registration" path="/WEB-INF/views/customer/registration/registration-flow.xml"/>
  </flow-registry> 
```

*注册-flow.xml*

```
<view-state id="create" model="customer" view="customer/registration/create">
        <on-render> 
            <evaluate expression="customer.setAcceptTermsAndConditions(false)"/>
        </on-render>
        <transition on="submit" to="confirm" />
        <transition on="cancel" to="cancel" bind="false" />
    </view-state> 
```

现在我的问题是我需要以两种不同的方式访问此页面。

1.  直接地。目前有效。
2.  作为包含在不同的 JSP 页面（使用控制器 /tabEntry 访问的 tabEntry.jsp）中，表单的流程不会中断。

如何在 tabEntry 中包含 /customer/registration 以使单击提交通过相同的流程？

面临的问题：

1.  通过 jsp:include 包含 /customer/registration 不起作用，因为 /customer/registration 不是控制器。此外，@include 也不起作用，因为对 /customer/redirection 的调用包含一个重定向，该重定向设置了 webflow 的执行密钥

    1.  表单操作自动设置为 /tabEntry，但应设置为 /customer/registation 的第二个状态以继续流程。

乐于接受设计变更，而不是在技术上敲定它。

# javascript - AngularJS - 空的 - 其他解决方案不起作用

> ID：13486367
> 
> 赞同：3
> 
> 时间：2012-11-21T04:28:00.283
> 
> 标签：javascript, angularjs

我试图在我的 <select> 中去掉这个空的 <option>。我已经阅读了一些关于此的其他问题，但似乎没有一个对我有帮助。任何人都可以帮我摆脱这个小提琴中的空 <option> 吗？谢谢。

[http://jsfiddle.net/4CYkd/](http://jsfiddle.net/4CYkd/)

js

```
function testCtrl($scope) {
    $scope.data = {};
    $scope.data.club = {'1':{name:'club name!'}};
    $scope.data.admin = [{related_id:'1',related_table:'club'}]

    //$scope.admin_idx = 0;
}​ 
```

html

```
<div ng-controller="testCtrl">
<select ng-model="admin_idx">
    <option ng-repeat="admin in data.admin" value="{{$index}}">
        {{data[admin.related_table][admin.related_id].name}}</option>
</select> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:43:46.407

[http://docs.angularjs.org/api/ng.directive:select](http://docs.angularjs.org/api/ng.directive:select)

[http://jsfiddle.net/4CYkd/1/](http://jsfiddle.net/4CYkd/1/)

```
<select ng-model="admin_idx"
        ng-options="$index as data[admin.related_table][admin.related_id].name for admin in data.admin">
</select> 
```

希望这可以帮助

# php - PHP/MySQL 允许当前用户编辑他们的帐户信息

> ID：13486370
> 
> 赞同：0
> 
> 时间：2012-11-21T04:28:30.353
> 
> 标签：php, html, mysql, database, phpmyadmin

我创建了 2 个页面

```
update.php
edit.php 
```

我们从 edit.php 开始，所以这里是 edit.php 的脚本

```
<?php
session_start();
$id = $_SESSION["id"];
$username = $_POST["username"];
$fname = $_POST["fname"];
$password = $_POST["password"];
$email = $_POST["email"];

mysql_connect('mysql13.000webhost.com', 'a2670376_Users', 'Password') or     die(mysql_error());
echo "MySQL Connection Established! <br>";

mysql_select_db("a2670376_Pass") or die(mysql_error());
echo "Database Found! <br>";

$query = "UPDATE members SET username = '$username', fname = '$fname', 
password = '$password' WHERE id = '$id'";

$res = mysql_query($query);

if ($res)
echo "<p>Record Updated<p>";
else
echo "Problem updating record. MySQL Error: " . mysql_error();
?>

<form action="update.php" method="post">
<input type="hidden" name="id" value="<?=$id;?>">
ScreenName:<br> <input type='text' name='username' id='username' maxlength='25'   style='width:247px' name="username" value="<?=$username;?>"/><br>
FullName:<br> <input type='text' name='fname' id='fname' maxlength='20' style='width:248px'     name="ud_img" value="<?=$fname;?>"/><br>
Email:<br> <input type='text' name='email' id='email' maxlength='50' style='width:250px'    name="ud_img" value="<?=$email;?>"/><br>
Password:<br> <input type='text' name='password' id='password' maxlength='25'     style='width:251px' value="<?=$password;?>"/><br>
<input type="Submit">
</form> 
```

现在这是我遇到主要问题的 update.php 页面

```
<?php
session_start();
mysql_connect('mysql13.000webhost.com', 'a2670376_Users', 'Password') or   die(mysql_error());
mysql_select_db("a2670376_Pass") or die(mysql_error());

$id = (int)$_SESSION["id"];

$username = mysql_real_escape_string($_POST["username"]);
$fname = mysql_real_escape_string($_POST["fname"]);
$email = mysql_real_escape_string($_POST["email"]);
$password = mysql_real_escape_string($_POST["password"]);

$query="UPDATE members
SET username = '$username', fname = '$fname', email = '$email', password = '$password'
WHERE id='$id'";

mysql_query($query)or die(mysql_error());
if(mysql_affected_rows()>=1){
echo "<p>($id) Record Updated<p>";
}else{
echo "<p>($id) Not Updated<p>";
}
?> 
```

现在在edit.php上，我填写表格以编辑帐户“test”，而我现在登录它，一旦表格填写完毕，我点击提交按钮，它需要我更新.php并返回这个

```
(0) Not Updated  

(0) <= id of user logged in

Not Updated <= MySql Error from  

mysql_query($query)or die(mysql_error());
if(mysql_affected_rows()>=1){ 
```

我希望它更新登录的用户，如果我在这个脚本中没有记错的话，它会说

```
 $id = (int)$_SESSION["id"]; 
```

它使用登录人的 id 更新用户

但它没有更新，它说没有表受到影响

如果有帮助，这是我的 MySQL 数据库图片，请单击此处 [http://i50.tinypic.com/21juqfq.png](http://i50.tinypic.com/21juqfq.png)

如果这可能有助于找到解决方案，我还有 2 个文件 delete.php 和 delete_ac.php 他们可以从我的 sql 数据库中删除用户并显示用户 ID，并且它可以正常工作，这个脚本中没有任何错误请不要对下面的脚本提出建议 delete.php 首先

```
 <?php

$host="mysql13.000webhost.com"; // Host name 
$username="a2670376_Users"; // Mysql username 
$password="PASSWORD"; // Mysql password 
$db_name="a2670376_Pass"; // Database name 
$tbl_name="members"; // Table name 

// Connect to server and select database.
mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
mysql_select_db("$db_name")or die("cannot select DB");

// select record from mysql 
$sql="SELECT * FROM $tbl_name";
$result=mysql_query($sql);
?>

<table border="0" cellpadding="3" cellspacing="1" bgcolor="#CCCCCC">
<tr>
<td colspan="8" style="bgcolor: #FFFFFF"><strong><img src="http://i47.tinypic.com/u6ihk.png" height="30" widht="30">Delete data in mysql</strong> </td>
</tr>

<tr>
<td align="center" bgcolor="#FFFFFF"><strong>Id</strong></td>
<td align="center" bgcolor="#FFFFFF"><strong>UserName</strong></td>
<td align="center" bgcolor="#FFFFFF"><strong>FullName</strong></td>
<td align="center" bgcolor="#FFFFFF"><strong>Password</strong></td>
<td align="center" bgcolor="#FFFFFF"><strong>Email</strong></td>
<td align="center" bgcolor="#FFFFFF"><strong>Date</strong></td>
<td align="center" bgcolor="#FFFFFF"><strong>Ip</strong></td>
<td align="center" bgcolor="#FFFFFF">&nbsp;</td>
</tr>

<?php
while($rows=mysql_fetch_array($result)){
?>

<tr>
<td bgcolor="#FFFFFF"><? echo $rows['id']; ?></td>
<td bgcolor="#FFFFFF"><? echo $rows['username']; ?></td>
<td bgcolor="#FFFFFF"><? echo $rows['fname']; ?></td>
<td bgcolor="#FFFFFF"><? echo $rows['password']; ?></td>
<td bgcolor="#FFFFFF"><? echo $rows['email']; ?></td>
<td bgcolor="#FFFFFF"><? echo $rows['date']; ?></td>
<td bgcolor="#FFFFFF"><? echo $rows['ip']; ?></td>
<td bgcolor="#FFFFFF"><a href="delete_ac.php?id=<? echo $rows['id']; ?>">delete</a></td>
</tr>

<?php
// close while loop 
}
?>

</table>

<?php
// close connection; 
sql_close();
?> 
```

现在 delete_ac.php

```
<table width="500" border="0" cellpadding="3" cellspacing="1" bgcolor="#CCCCCC">
<tr>
<td colspan="8" bgcolor="#FFFFFF"><strong><img src="http://t2.gstatic.com/images?           q=tbn:ANd9GcS_kwpNSSt3UuBHxq5zhkJQAlPnaXyePaw07R652f4StmvIQAAf6g" height="30"     widht="30">Removal Of Account</strong> </td>
</tr>

<tr>
<td align="center" bgcolor="#FFFFFF">
<?php

$host="mysql13.000webhost.com"; // Host name 
$username="a2670376_Users"; // Mysql username 
$password="javascript00"; // Mysql password 
$db_name="a2670376_Pass"; // Database name 
$tbl_name="members"; // Table name 

// Connect to server and select databse.
mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
mysql_select_db("$db_name")or die("cannot select DB");

// get value of id that sent from address bar 
$id=$_GET['id'];

// Delete data in mysql from row that has this id 
$sql="DELETE FROM $tbl_name WHERE id='$id'";
$result=mysql_query($sql);

// if successfully deleted
if($result){
echo "Deleted Successfully";
echo "<BR>";
echo "<a href='delete.php'>Back to main page</a>";
}

else {
echo "ERROR";
}
?> 

<?php
// close connection 
mysql_close();
?>
</td>
</tr>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:48:44.660

尝试以下查询，并在此处发布输出。还要在 phpmyadmin 中执行相同的回显查询以查看发生了什么。

```
echo $query="UPDATE members
SET username = '$username', fname = '$fname', email = '$email', password = '$password'
WHERE id=$id"; 
```

从您的链接看来，任何人都可以直接进入编辑页面，这是错误的。

您需要添加条件，如果用户登录，那么只有他可以更新他的个人资料。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:35:42.870

如果 $id 实际上设置为某个值而不是空值，您能否检查 edit.php？可能是 id 从未存储在会话中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:36:23.990

现在你的 $id 是空的。(int)$id 为 0。因此，当您尝试更新 WHERE id=$id 时，您基本上是在说 WHERE id=0 如果 id 是自动增量整数，那么您将不会有 id=0 并且不会更新任何内容. 您需要通过在其中放入一些东西来创建 $_SESSION['id'] 。$_SESSION['id'] = XXXX;

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-14T22:42:09.193

```
$sqlshow =@ mysqli_query($con,"SELECT `id`, `Registration_No`, `First_Name`, `Middle_Name`, `Sir_Name`, `Sex`, `Birth_Day`, `Email`, `Address`, `Phone` FROM `cdtistudent` WHERE id=40"); while($row = @mysqli_fetch_object($sqlshow)) {
```

```
update.php page

if(isset($_POST["update"])){

	$Registration = $_POST['Registration'];
	$First_Name = $_POST['First'];
	$Middle_Name = $_POST['Middle'];
	$Sir_Name = $_POST['Sir'];
	$Sex = $_POST['Sex'];
	$Birth_Day = $_POST['Birth'];
	$Email = $_POST['Email'];
	$Address = $_POST['Address'];
	$Phone=$_POST['Phone'];
	$id=$_POST['id'];

	$sqlupdate =mysqli_query($con,"UPDATE  cdtistudent
	SET 
	Registration_No='$Registration',
	First_Name='$First_Name',
	Middle_Name='$Middle_Name',
	Sir_Name='$Sir_Name',
	Sex='$Sex',
	Birth_Day='$Birth_Day',
	Email='$Email',
	Address='$Address',
	Phone='$Phone'
	WHERE id='$id'");

	if($sqlupdate  === false){

			die("".mysqli_error($con));

}}
```

它看起来像
UPDATE `cdtistudent`SET `id`=[value-1], `Registration_No`=[value-2]
, `First_Name`=[value-3], `Middle_Name`=[value-4], `Sir_Name`=[value-5],
`Sex`=[value-6], `Birth_Day`=[value -7], `Email`=[value-8], `Address`=[value-9], `Phone`=[value-10] WHERE id=?;

和edit.php页面

```
$sqlshow =@ mysqli_query($con,"SELECT `id`, `Registration_No`, `First_Name`, `Middle_Name`, `Sir_Name`, `Sex`, `Birth_Day`, `Email`, `Address`, `Phone` FROM `cdtistudent`
                WHERE id=40");

	while($row = @mysqli_fetch_object($sqlshow))
	{
```

# node.js - Rackspace 授权 Node.js

> ID：13486372
> 
> 赞同：1
> 
> 时间：2012-11-21T04:29:00.957
> 
> 标签：node.js, authentication, rackspace-cloud

我正在使用 node-cloudfiles 进行身份验证。

```
var cloudfiles = require('cloudfiles');
var config = {
auth : {
  username: 'my-username',
  apiKey: 'my-api-key'
  }
};

var client = cloudfiles.createClient(config);
console.log(client); 
```

这就是我得到的

```
{ config:
   { auth:
      { username: 'my-username',
        apiKey: 'my-api-key',
        host: 'auth.api.rackspacecloud.com' },
     servicenet: false },
  authorized: false } 
```

用户名和apiKey是对的，它在php中有效，但在node.js中无效

```
authorized: false 
```

- 问题可能出在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T18:59:35.960

这会失败，因为不推荐使用“cloudfiles”npm 模块。这是官方的 GitHub 页面：[https ://github.com/nodejitsu/node-cloudfiles](https://github.com/nodejitsu/node-cloudfiles)

它也使用旧形式的身份验证，并尝试针对错误的 URL 进行身份验证。我尝试将其更改为正确的 URL，但仍然无法正常工作。

我建议您改用[pkgcloud](https://github.com/nodejitsu/pkgcloud "包云")，这就是该模块已被替换的内容。Rackspace 开发人员直接为这个包做出了贡献，所以它应该比你尝试使用的更新得多。

# iphone - 如何将普通应用程序图标转换为 iPhone SpringBoard 上的下载图标？

> ID：13486378
> 
> 赞同：1
> 
> 时间：2012-11-21T04:29:59.327
> 
> 标签：iphone, jailbreak, springboard

我正在 iPhone 上编写一个越狱应用程序，我想为这个应用程序添加一个更新机制，它的工作原理就像通过 App Store 更新一样。

我知道 SpringBoard 上的每个图标都是一个 SBApplicationIcon 对象，而带有更新进度条的图标是 SBDownloadingIcon 对象。我的问题是我找不到任何转换方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T20:04:35.383

如果我理解正确，您想通过带有进度条的 App Store 更新应用程序。

尝试使用 itms-services（[无线临时分发](http://idevblog.info/wireless-ad-hoc-app-distribution/)）。为此，您需要创建一个简单的 plist 文件和 ipa 并将其上传到服务器。它将帮助您以与 App Store 相同的方式下载该应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T20:59:33.307

如果你想这样做，你必须使用 itms-services url。由于您的代码无法使其自身可写，因此您将无法将对象从 SBApplicationIcon 更改为 SBDownloadingIcon 对象（然后再更改回 SBApplicationIcon 以便用户可以使用该应用程序）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-27T20:55:51.603

我明白，因为它是针对越狱文件系统的，它不在 App Store 上。所以我说，把这两个文件（IPA和PLIST文件）上传到免费的网络服务器空间，就可以轻松搞定。

如果您可以为应用程序构建 ipa，请按照我上面提到的链接进行操作。
如果它是一个 .deb 包，那么就不能那样做，AFAIK。

希望这可以帮助。

# java - 通过 Button Action Listener 添加游戏的 JPanel（使用 KeyListener）会禁用 keylistener

> ID：13486379
> 
> 赞同：2
> 
> 时间：2012-11-21T04:30:12.930
> 
> 标签：java, button, actionlistener, keylistener

```
import javax.swing.*;

import java.awt.*;
import java.awt.event.*;
import java.util.ArrayList;

public class Game extends JPanel{
private static JFrame primary= new JFrame("Game");
private JButton x1;

public Game(){
    x1= new JButton("YES");
    x1.addActionListener(new LevelChoice(1));
    add(x1);
}

public static void setScreen(JPanel jp){

    //primary.removeAll();
    //System.out.println("hi");
    //primary.revalidate();
    //primary.repaint();

}

public static void main(String[] args){

    primary.setPreferredSize(new Dimension(1000, 700));
    /*primary.add(new LevelHUD("xxxxxxxxxxxxxxxxxxxx" +
            "xoooooooooooooooooox" +
            "xoooooooooooooooooox" +
            "xooomoooooooooooooox" +
            "xoooooooooxoooooooox" +
            "xoooooooooxooooomoox" +
            "xoooommoooxxxxooooox" +
            "xoooomooooooooooooox" +
            "xoooomooomooooooooox" +
            "xooomooooolooomoooox" +
            "xoooomcoooooooooooox" +
            "xooomococoooooooooox" +
            "xooomocoooloooooooox" +
            "xgoomocoooooooooooox" +
            "xcooooogooooooooooox" +
            "xocooooocoooooooooox" +
            "xoococooolooogooooox" +
            "xoooooooooooooooooox" +
            "xxxxxxxxxxxxxxxxxxxx"));*/

    primary.add(new Game());

    primary.setResizable(false);
    primary.setVisible(true);
    primary.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    primary.pack();
}

private class LevelChoice implements ActionListener{

    private int level;

    public LevelChoice(int i){
        level=i;
    }

    public void actionPerformed(ActionEvent e) {
        //Game.setScreen(new LevelHUD(gamelevel1));
        primary.add(new LevelHUD("xxxxxxxxxxxxxxxxxxxx" +
                "xoooooooooooooooooox" +
                "xoooooooooooooooooox" +
                "xooomoooooooooooooox" +
                "xoooooooooxoooooooox" +
                "xoooooooooxooooomoox" +
                "xoooommoooxxxxooooox" +
                "xoooomooooooooooooox" +
                "xoooomooomooooooooox" +
                "xooomooooolooomoooox" +
                "xoooomcoooooooooooox" +
                "xooomococoooooooooox" +
                "xooomocoooloooooooox" +
                "xgoomocoooooooooooox" +
                "xcooooogooooooooooox" +
                "xocooooocoooooooooox" +
                "xoococooolooogooooox" +
                "xoooooooooooooooooox" +
                "xxxxxxxxxxxxxxxxxxxx"));
        revalidate();

    }

}

} 
```

好的，所以我有一个大约有 12 个类 atm 的游戏，但我不会对此进行详细介绍 - 我的游戏涉及玩家通过按键侦听器使用箭头键的移动。这是我的主要课程- 现在发生的事情是这样的。我正在努力做到这一点，以便人们可以选择他们想要在 A 级或 B 级上玩的关卡。然后我添加一个包含该游戏关卡供用户玩的 JPanel——如果我在主要方法，一切正常！

但是，当我单击按钮然后添加 JPanel 时，玩家无法移动，仅此而已 - 但是，关卡中的所有怪物都可以正常工作。

有什么想法吗？ButtonListener 是否覆盖 KeyListener 之类的？顺便说一句，setFocusable 在游戏级别面板类中已经设置为 true，所以我怀疑这是一个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:33:30.907

`KeyListeners`要求他们正在收听的组件具有焦点，当您单击按钮时，焦点会更改并且键不再“发送”到您的组件。

你有两个选择。更改您的代码以使用[键绑定](http://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)（首选）或调用`requestFocusInWindow`您想要接收键事件的面板

**更新了示例**

演示核心问题的简单示例。焦点必须返回到带有 的组件`KeyListener`，它不足以聚焦它的子组件或父组件。

您应该确保焦点请求是在 EDT 内发出的，否则可能会被盗

```
public class TestKeyListener {

    public static void main(String[] args) {
        new TestKeyListener();
    }

    public TestKeyListener() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame();
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                KeyPane keyPane = new KeyPane();
                frame.add(keyPane);
                frame.add(new ButtonPane(keyPane), BorderLayout.SOUTH);
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public class KeyPane extends JPanel {

        private JLabel keyed;
        public KeyPane() {

            setLayout(new GridBagLayout());
            keyed = new JLabel("...");
            add(keyed);
            setFocusable(true);
            requestFocusInWindow();

            addKeyListener(new KeyAdapter() {

                @Override
                public void keyPressed(KeyEvent e) {
                    keyed.setText(KeyStroke.getKeyStroke(e.getKeyCode(), e.getModifiers()).toString());
                }

            });

            addFocusListener(new FocusListener() {

                @Override
                public void focusGained(FocusEvent e) {
                    keyed.setText("Focus gained");
                }

                @Override
                public void focusLost(FocusEvent e) {
                    keyed.setText("Focus lost");
                }

            });

        }

    }

    public class ButtonPane extends JPanel {

        public ButtonPane(final Component focus) {
            setLayout(new GridBagLayout());
            JButton bad = new JButton("Steal Focus");
            JButton good = new JButton("Return Focus");
            good.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    focus.requestFocusInWindow();
                }
            });

            add(good);
            add(bad);
        }

    }

} 
```

# android - 无法使用 url 在 android 中解析 JSON

> ID：13486381
> 
> 赞同：1
> 
> 时间：2012-11-21T04:30:33.047
> 
> 标签：android, json, web-services

我正在`id`使用意图从按钮单击中获取按钮，并且`id`应该重定向到其他 Web 服务。我写了一个网络服务，它在浏览器中运行良好。我无法解析 json 也无法知道我哪里出错了

谁能建议我哪里出错了？

```
 Intent j = getIntent();
 int position = j.getExtras().getInt("id");
 String uri_book="http://apps.ADSFDS.com/service/details.php?bookid="+position;
 Log.i("uri", uri_book);
 List<NameValuePair> params = new ArrayList<NameValuePair>();
 JSONObject json = jParser.makeHttpRequest(uri_book, "GET",params); 
```

**编辑：-** Json 字符串的格式是这样的

```
 {
"bookdetails": [
    {
        "bid": "3",
        "name": "Introducing Html5",
        "bookid": "3",
        "description": null,
        "image1": "http://ecx.images-amazon.com/images/I/41S-eXdQS4L._SL500_PIsitb-sticker-arrow-big,TopRight,35,-73_OU01_.jpg",
        "image2": "http://www.html5videoguide.net/presentations/HTML5_Video_LCA2011/book_index.png"
    }
]
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:34:31.963

你可以看看[这个](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)

教程。我想它会帮助你。

# java - 无法使用 UTF8/UTF16 编码在 Excel 中写入多字节字符

> ID：13486382
> 
> 赞同：2
> 
> 时间：2012-11-21T04:30:53.313
> 
> 标签：java, character-encoding

我一直在尝试使用将简体中文字符写入excel文件

```
OutputStreamWriter(OutputStream out, String charsetName).write(String str,int off,int len);

OutputStreamWriter osw = new OutputStreamWriter(new FileOutputStream(file), "UTF-16");
osw.write((vt.get(index)).toString()); 
```

但不幸的是，这不起作用。它显示垃圾字符。有没有人对此有任何想法。

这是excel的问题还是我可以在我的代码中纠正这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:31:17.867

我的 Excel 版本在中文方面有问题，所以我决定改用俄罗斯人。西里尔字母在 Unicode 中已经足够深入，如果你能让它工作，你应该能够让中文工作。

您的代码很接近，但有两点错误：

UTF-16 可以是大端或小端。Java 字符集名称“UTF-16”实际上意味着具有大端编码的 UTF-16。Microsoft 始终使用 little-endian 作为默认值。您需要使用字符集“UTF-16LE”

您需要通过在文件开头放置一个[字节顺序标记 (BOM)](http://www.unicode.org/faq/utf_bom.html#bom1)来警告 Excel 您正在使用此编码。它只是两个字节 0xFF 后跟 0xFE。

这是一个简单的程序，它用俄语打印“战争与和平”，每个单词都在一个单独的列中。生成的文件可以导入 Excel。只需将俄语文本替换为您的中文文本即可。

```
import java.io.FileOutputStream;
import java.io.OutputStreamWriter;

public class Russian
{
   public static void main(String [] args) throws Exception
   {
      byte [] bom = { (byte) 0xFF, (byte) 0xFE};
      String text = "ВОЙНА,И,МИР";
      FileOutputStream fout = new FileOutputStream("WarAndPeace.csv");
      fout.write(bom);
      OutputStreamWriter out = new OutputStreamWriter(fout, "UTF-16LE");
      out.write(text);
      out.close();;
   }
} 
```

# asp.net-mvc - 关于将复选框绑定到 MVC 视图模型中的字符串属性

> ID：13486385
> 
> 赞同：0
> 
> 时间：2012-11-21T04:31:50.267
> 
> 标签：asp.net-mvc

在我的项目中，我在视图模型中有一个字符串字段以表单形式显示并回发到控制器。

但是由于某种原因，我想显示一个复选框，并从用户输入中检索字符串“True”/“False”

我在互联网上进行了搜索，发现了 [如何在 ASP.NET MVC 中将字符串类型的模型属性呈现为复选框，](https://stackoverflow.com/questions/7203583/how-to-render-a-model-property-of-string-type-as-checkbox-in-asp-net-mvc) 它利用了编辑器模板并实现了我的需要。

我的问题是如何实现这一点，因为在编辑器模板中，我只能看到它如何将字符串解释为复选框，但它从未解释或显示复选框值将如何用“绑定回字符串字段”真假”。

如果我想要“是”/“否”而不是“真”/“假”，我应该怎么做，我需要做任何转换器来将复选框解析为字符串吗？

对不起，我的英语不好，缺乏 mvc 知识，我刚开始 MVC 和 web 开发几天。

更新： 1\. 我正在使用 ViewModel 与表单绑定，所以我需要类似 Html.CheckBoxFor(x=>x.value) 而 x.value 是一个字符串，显然这是不可能的默认 CheckboxFor

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:44:42.610

我认为您要问的是如何将值保存回数据库中，这更像是后端 C# 或 VB 问题。

如您所知，当您在 HTML 页面上提交表单时，如果选中了一个复选框，它的值将在 POST 参数中传递回服务器：

前端 HTML：

```
<input type="checkbox" name="theCheckBox" value="Yes" /> 
```

Page_Load() 或类似的后端 C#

```
if(Request.Form["theCheckBox"] == "Yes") {
    // save value "Yes" into database
} 
```

请记住，如果未勾选复选框，则 Request.Form["theCheckBox"] 将为空

# java - java代码的uml创建者

> ID：13486388
> 
> 赞同：2
> 
> 时间：2012-11-21T04:32:53.797
> 
> 标签：java, uml

嗨，我有 6 个 java 文件，我想将它们反向工程为 uml 设计。现在它们都是通过组合相关的，其中三个是通过继承相关的。你们知道我可以用来自动生成这些 UML 设计的任何免费软件吗？

# c - c fwrite() 仅在结构变量之一的右侧写入数据？

> ID：13486389
> 
> 赞同：0
> 
> 时间：2012-11-21T04:33:11.853
> 
> 标签：c

该函数应该获取一个参数作为文件的指针，并将所有文件放入struct anagram，然后将其写入另一个文件。现在数据只包含a.word，但它也应该包含a.sorted？

```
#include <stdio.h>
#include <stdlib.h>
#include <stddef.h>
#include <string.h>
#include <errno.h>
#include <ctype.h>
#include "anagrams.h"

void buildDB ( const char *const dbFilename ) 
{
    FILE *dict, *anagramsFile;
    struct anagram a;

    //check if dict and anagram.data are open
    errno=0;
    dict= fopen(dbFilename, "r");

    if(errno!=0) {
        perror(dbFilename);
        exit(1);
    }

    errno=0;

    anagramsFile = fopen(anagramDB,"wb");

    char word[SIZE];
    char *pos;
    int i=0;

    while(fgets(word, SIZE, dict) !=NULL) {

        //get ripe of the '\n'
        pos=strchr(word, '\n');
        *pos = '\0';

        strncpy(a.word,word,sizeof(word));
        //lowercase word
        int j=0;
        while (word[j]) {
            tolower(word[j]);
            j++;
        }

        /* sort array using qsort functions */ 
        qsort(word,strlen(word), 1, charCompare);

        strncpy(a.sorted,word,sizeof(word));

        fwrite(&a,1,sizeof(word),anagramsFile);

        i++;
    }
    fclose(dict);
    fclose(anagramsFile);

} 
```

数据：

![在此处输入图像描述](../Images/be4284570c9c1613aead5b416d9caf9d.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:40:35.700

```
char word[SIZE];
...
fwrite(&a,1,sizeof(word),anagramsFile); 
```

`sizeof(word)`返回缓冲区的完整大小，因此您每次都在写入缓冲区的完整长度。您将希望使用`strlen()`或类似的方式仅写入您实际使用的缓冲区部分。

# http - 有没有办法让 Firefox 在按下后退按钮时使用缓存？

> ID：13486392
> 
> 赞同：1
> 
> 时间：2012-11-21T04:33:24.093
> 
> 标签：http, firefox

当我在 Chrome 和 IE 中使用后退按钮（并且正在请求的页面是通过 HTTP GET 获取的）时，我注意到该页面是从本地缓存中检索的。即没有发出新的HTTP 请求。

Firefox 的工作方式不同，按下后退按钮时会发出新的 HTTP 请求。

有没有办法让 firefox 表现得像 Chrome 和 IE？

# android - Android EditText：在触摸时选择所有文本，并在用户开始输入时清除。

> ID：13486405
> 
> 赞同：18
> 
> 时间：2012-11-21T04:35:31.130
> 
> 标签：android, android-edittext

我的应用程序中有一个编辑文本。当用户触摸编辑文本时，应该选择整个文本，当他开始输入时，应该清除文本。一个例子是浏览器地址栏。有什么办法吗？请帮帮我。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-11-21T04:44:25.837

您可以使用 EditText 选择所有文本

[`android:selectAllOnFocus`](http://developer.android.com/reference/android/widget/TextView.html#attr_android%3aselectAllOnFocus)并且[`setSelectAllOnFocus(boolean)`](http://developer.android.com/reference/android/widget/TextView.html#setSelectAllOnFocus%28boolean%29)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-21T04:38:42.133

调用`EditText.setSelectAllOnFocus(boolean selectAllOnFocus)`以选择焦点上的所有文本。

`EditText`为您的`onClick`通话设置点击监听器`edittext.selectAll();`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-21T04:38:25.907

将属性添加到您的 main.xml 文件：

```
android:selectAllOnFocus="true" 
```

然后将选择所有文本，并且当用户键入将删除它的内容时。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-21T05:10:15.493

您可以使用属性`android:hint`代替，`android:text`并且无需特殊代码即可获得所需的内容。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T05:19:18.747

您可以使用[`android:selectAllOnFocus`](http://developer.android.com/reference/android/widget/TextView.html#attr_android%3aselectAllOnFocus)或选择 EditText 中的所有文本[`setSelectAllOnFocus(boolean)`](http://developer.android.com/reference/android/widget/TextView.html#setSelectAllOnFocus%28boolean%29)。

选择所有文本时设置一个标志。[然后使用 EditText 上的addTextChangedListener](https://developer.android.com/reference/android/widget/TextView.html#addTextChangedListener%28android.text.TextWatcher%29)方法检测文本更改，并使您的类实现或定义实现[TextWatcher](https://developer.android.com/reference/android/text/TextWatcher.html)类的内部类。

在此观察程序类方法中，检查您设置的标志以指示是否选择了所有文本。如果是真的，那么做`TextView.setText("")`。这将清除文本。现在再次将该标志设置为 false，以便后续文本更改不会导致文本被清除。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-11-24T09:20:29.897

这是有效的，所有文本都将被选中，当用户键入将删除它的内容时。

```
 editText.setSelectAllOnFocus(true);

            editText.requestFocus();
            editText.postDelayed(new Runnable() {
                @Override
                public void run() {
                    InputMethodManager keyboard = (InputMethodManager) catalougeJobDetailFragment
                            .getActivity().getSystemService(
                                    Context.INPUT_METHOD_SERVICE);
                    keyboard.showSoftInput(commentEt, 0);
                }
            }, 20); 
```

# java - 如何在java中显示特殊字符？

> ID：13486410
> 
> 赞同：2
> 
> 时间：2012-11-21T04:36:03.813
> 
> 标签：java, special-characters

那么，如果可能的话，如何在不使用 Unicode 的情况下在 Java 控制台应用程序中显示这组字符？

```
♦ ♥ ♣ ♠ 
```

它们是通过按`Alt`+`(3/4/5/6)`按钮组合创建的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T04:37:05.953

显示心`System.out.println("\u2764");`

[你可以在这里](http://www.fileformat.info/info/unicode/char/2764/index.htm)找到 unicode 字符的 Java 编码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:38:32.563

对于 Unicode，这是一个简单的问题：

System.out.println("UNICODE IDENTIFIER GOES HERE");

没有统一码？我不认为它可以做到。

# hadoop - 按键然后按值对 Mapper 输出进行排序

> ID：13486415
> 
> 赞同：3
> 
> 时间：2012-11-21T04:36:34.580
> 
> 标签：hadoop, mapreduce

我正在尝试编写一个示例 Map Reduce 程序，其 Mapper 输出如下所示：

```
1/1/2012        15:11:46
1/1/2012        19:09:26
1/1/2012        14:01:25
1/1/2012        17:32:26
1/1/2012        17:41:00
1/1/2012        19:35:38
1/1/2012        14:28:10
1/1/2012        15:45:55 
```

我希望我对减速器的输入按键排序，然后按值排序。默认情况下，Hadoop 框架仅按键对映射器输出进行排序。

我想我应该使用辅助排序来完成这项任务，但不知道如何使用它。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:45:21.563

在高水平：

*   使您的键成为当前键和值的串联。保持值不变。
*   创建一个分组比较器，它采用两个键（它们是连接），仅提取日期并返回两个日期的比较。这使得所有具有相同日期的记录在一次调用 reduce() 时被传递。
*   使用所有其他作业和配置设置在作业驱动程序中指定分组比较器。

请注意，您显示的日期值不会按日期按词汇排序 - 您希望年份排在第一位。

编辑：在我看来，您可能还必须编写一个分区程序，因为您要确保将显然具有不同值（但都在同一天）的键发送到同一个分区。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-11T13:04:30.887

有一个自定义的 Hadoop WritableComparable，如 TextPair 对示例[TEXT PAIR](http://code.google.com/p/haloop/source/browse/trunk/src/examples/org/apache/hadoop/examples/textpair/TextPair.java?r=328)，

*   将其用作 KEY，将 Date 作为 TextPair 类中的第一个元素，将 time 作为第二个元素。

如果您不想分配 Diffrent Reducer，对于具有不同 TIME 的相同日期，请使用自定义分区器，该分区器将基于 Date Alone 进行分区

# objective-c - 预期的方法体错误？

> ID：13486418
> 
> 赞同：1
> 
> 时间：2012-11-21T04:36:41.680
> 
> 标签：objective-c, xcode

当我尝试在 Xcode 上运行我的应用程序时，我不断收到“预期方法主体”错误。加粗的地方是我得到错误的地方。帮助！！！还有一件事，我在“@implementation SoundnoardFirstViewController”部分不断收到“不完整实现”的错误消息。帮助！！谢谢

```
#import "SoundnoardFirstViewController.h"

@interface SoundnoardFirstViewController ()

@end

@implementation SoundnoardFirstViewController

-(IBAction)PlaySound1:(id)sender1

**-(IBAction)PlaySound2:(id)sender2**

-(IBAction)PlaySound3:(id)sender3

-(IBAction)PlaySound4:(id)sender4

-(IBAction)PlaySound5:(id)sender5

-(IBAction)PlaySound6:(id)sender6

(IBAction)PlaySound1:(id)sender1:(id)sender { 
    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"This is the name of the clip", CFSTR ("sound file type"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);
 }

-(IBAction)PlaySound2:(id)sender2:(id)sender{ 
    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"DoYouHave?", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);
}

-(IBAction)PlaySound3:(id)sender3:(id)sender {
    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"Hello", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);
}

-(IBAction)PlaySound4:(id)sender4:(id)sender {
    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"SoupBetter?", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:00:55.080

在内部声明私有方法`SoundnoardFirstViewController ()`

```
@interface SoundnoardFirstViewController ()

  //declare the private methods here

@end 
```

**例子：**

```
#import "SoundnoardFirstViewController.h"

@interface SoundnoardFirstViewController ()

-(IBAction)PlaySound1:(id)sender1:(id)sender;
-(IBAction)PlaySound2:(id)sender2:(id)sender

@end

@implementation SoundnoardFirstViewController

-(IBAction)PlaySound1:(id)sender1:(id)sender { 
    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"This is the name of the clip", CFSTR ("sound file type"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);
 }

-(IBAction)PlaySound2:(id)sender2:(id)sender{ 
    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"DoYouHave?", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);
}
@end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:51:54.533

您在行中缺少`-`sender` 的实施之前：

```
(IBAction)PlaySound1:(id)sender1:(id)sender { 
```

# c++ - C++ 中的虚拟（平面）文件系统

> ID：13486420
> 
> 赞同：5
> 
> 时间：2012-11-21T04:36:43.560
> 
> 标签：c++, filesystems, vfs

本质上，我需要实现一个程序来充当用户空间文件系统，它实现非常简单的操作，例如查看磁盘上的内容，将文件复制到本机文件系统和从本机文件系统复制到我的文件系统（包含在单个文件中）称为“disk01”）并从我的文件系统中删除文件。

我基本上是在寻找一个跳板或一些关于我可以从哪里开始的提示，因为我不确定如何创建自己的“磁盘”并将其他文件放入其中，这是一项家庭作业。

只是一个正在寻找方向的 C++ 学生。

**编辑：**

我知道这是一个已经在多个不同地方用作“VFS”或虚拟文件系统的概念，有点像 zip 文件（您只能通过可以处理 zip 文件的程序查看内容）。我基本上是在尝试编写自己的程序，类似于 zip 或 winrar 或其他程序，但没有那么复杂和功能丰富。

*感谢您迄今为止的建议！你们都是一个巨大的帮助！*

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-21T06:56:27.823

创建类似 FAT 的磁盘结构非常简单。

在文件中的固定位置，很可能首先，您有一个包含有关磁盘的一些信息的结构。然后是“FAT”，一个简单结构的表格，详细说明了磁盘上的文件。这基本上是一个固定大小的结构表，类似于：

```
struct FATEntry
{
    char      name[20];  /* Name of file */
    uint32_t  pos;       /* Position of file on disk (sector, block, something else) */
    uint32_t  size;      /* Size in bytes of file */
    uint32_t  mtime;     /* Time of last modification */
}; 
```

在此表之后，您有一个固定大小的区域，用于磁盘上的空闲块位图。如果文件系统可以动态增长或收缩，则可能不需要位图。然后是实际的文件数据。

对于这样的系统，所有文件都必须连续布局在磁盘上。当您添加、删除和调整文件大小时，这将导致碎片化。

* * *

另一种方法是使用链表方法，例如在旧的 Amiga 文件系统上使用。使用这种方案，所有块都是简单的链表。

就像之前你需要一个实际磁盘数据的结构，可能还有一个显示空闲/分配磁盘块的位图。磁盘数据结构中唯一需要的字段是指向第一个文件的“指针”。

指针我的意思是一个整数，指出一个块在磁盘上的位置。

文件本身可以类似于上面的类 FAT 系统：

```
struct FileNode
{
    char     name[12];  /* Name of file */
    uint32_t next;      /* Next file, zero for last file */
    uint32_t prev;      /* Previous file, zero for first file */
    uint32_t data;      /* Link to first data block */
    uint32_t mtime;     /* Last modification time */
    uint32_t size;      /* Size in bytes of the file */
}; 
```

数据块本身就是链表：

```
struct DataNode
{
    uint32_t next;  /* Next data block for file, zero for last block */
    char data[BLOCK_SIZE - 4];  /* Actual data, -4 for the block link */
}; 
```

链表文件系统的好处是它永远不会碎片化。缺点是您可能必须跳过整个磁盘来获取数据块，并且数据块不能完全使用，因为它们至少需要一个链接到下一个数据块。

* * *

第三种方式，在类 Unix 系统中很常见，是让文件数据包含一组指向数据块的链接。这样数据块就不必连续存储在磁盘上。它将包括一些与链表方法相同的缺点，因为块可以存储在整个磁盘上，并且文件的最大大小受到限制。一个优点是可以充分利用数据块。

这样的结构可能看起来像

```
struct FileNode
{
    char name[16];      /* Name of file */
    uint32_t size;      /* Size in bytes of file */
    uint32_t mtime;     /* Last modification time of file */
    uint32_t data[26];  /* Array of data-blocks */
}; 
```

上述结构将最大文件大小限制为 26 个数据块。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T07:41:57.847

打开文件进行非破坏性读/写。使用 fstream 这可能是`fstream stream(filename)`.

然后使用搜索功能在它周围移动。如果您使用的是 C++ fstream，则为`stream.seekg(position)`.

然后你会想要二进制读写函数，所以你会使用`stream.read(buffer, len)`and `stream.write(buffer, len)`。

启动文件系统的一种简单方法是确定块大小。过去大多数人使用 512 字节。您可以这样做或使用 4K 或使其完全可调。然后，您在开始附近留出一个块用于自由空间地图。这可以是每个块一个位，或者如果你是懒惰的，每个块一个字节。然后你有一个根目录。FAT 以一种简单的方式做到了这一点：它只是一个名称列表、一些元数据，如时间戳、文件大小和块偏移量。我认为 FAT 块有一个指向文件中下一个块的指针，因此它可以对文件进行分段，而无需在写入时运行碎片整理。

然后你搜索目录，找到文件，转到偏移量并读取块。

真正的文件系统变得复杂的地方在于诸如为文件分配块这样的艰巨任务，以便它们在末端有增长空间而不会浪费空间。处理碎片。在多个线程或程序同时编写时具有良好的性能。面对意外的磁盘错误或断电时的强大恢复。

# c# - Lua 使表只读

> ID：13486422
> 
> 赞同：0
> 
> 时间：2012-11-21T04:37:05.260
> 
> 标签：c#, security, scripting, lua, sandbox

如何在 Lua 中将表设为只读？（特别是用于 C# 的 LuaInterface 与 Lua 5.1，但我认为这不会改变任何东西）我知道如何使用`__index`and `__newindex`，但这并不能阻止某人运行: `math = nil`，这可能会导致进一步的脚本错误地执行。

我目前的“保护”功能：

```
function protect(table) 
return setmetatable({}, { __index = table, 
__newindex = function(table, key, value) error("attempted to modify a read only table")         
end, __metatable = false }) end

math = protect(math)
math.sqrt = nil // successfully protected
math = nil // this is bad and can happen! 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T04:52:20.707

全球环境只是一张桌子。在 Lua 5.1 中，每个函数（即编译好的 Lua 脚本）都有自己的环境，您可以*更改*. 如果您想对脚本进行沙盒处理以使其无法修改全局表，您可以通过*将*其环境替换为沙盒环境来实现。

基本上，您创建一个只读表，将您希望他们能够访问的内容放入其中。您甚至可以设置您的元表，以防止覆盖现有元素，但允许他们修改当前不存在的条目（即：他们可以创建和使用自己的全局变量）。

话虽如此，除非您取消用户使用`rawget`/的能力，否则`rawset`他们总是可以为您的沙箱提供后门并开始破坏这些表。

一个更安全的版本是通过复制函数来为每个脚本构建一个环境。他们不是每个脚本都获得同`math`一张表，而是获得原始副本的副本，您将这些副本隐藏在脚本无法触及的地方。

# jquery - 在 prettyPhoto 插件中获取 Pinterest 的单个图像 src 和标题？

> ID：13486425
> 
> 赞同：0
> 
> 时间：2012-11-21T04:37:25.847
> 
> 标签：jquery, lightbox, prettyphoto, pinterest

Pinterest 适用于单个照片图像，而不是网页 URL。Twitter 和 Facebook 可以只使用页面 URL，但对于 Pinterest，每个单独的图像 URL 都应该提供给“Pin It”按钮链接而不是页面 URL。

我正在尝试将 Pin It 按钮添加到 prettyPhoto 插件中，到目前为止一切都已设置，除了我不知道如何获取幻灯片中每个单独图像的 img src 和标题，以便将它们附加到“Pint它”链接。

我目前在 jquery.prettyPhoto.js 中的 facebook 代码之后立即拥有的内容：

```
<div class="pinterest">
    <a href="http://pinterest.com/pin/create/button/?url='+window.location.href+'&media='+$('#fullResImage').attr('src')+'&description='+$(this).attr('title')+'" class="pin-it-button" count-layout="horizontal" target="_blank">
        <img border="0" src="http://assets.pinterest.com/images/PinExt.png" title="Pin It" />
    </a>
</div> 
```

但是由于某种原因， **$('#fullResImage').attr('src')**和**$(this).attr('title')**都不能正常工作。你可以在[这里查看页面](http://www.avivaly.com/product/silk-wedding-dress-the-princess-bride/#!lightbox%5Bgallery%5D/2/)，脚本在[这里](http://avivaly.com/wp-content/themes/mystile/includes/js/jquery.prettyPhoto.js)。它们是“未定义的”并且是空的。

有人可以帮我让他们工作吗？非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:44:15.010

我不确定上述解决方案是如何起作用的，因为`{path}`在`settings.social_tools`.

唯一的方法是声明一个全局并根据大小写（图像/视频/等）为其分配媒体 url，最后更新`.pp_social`div

我相信它可以做得更优雅，但这更像是一个快速补丁，它只是工作。

对于正在寻找解决方案的其他人，这是[修改后的 prettyphoto javascript](http://themesupport.webylabs.com/wp-content/uploads/2013/02/jquery.prettyPhoto.js)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-26T10:11:19.753

众所周知，Pinterest 是针对个人照片图像而不是网页 URL，所以我们需要做一些不同的事情，比如

```
<a href="http://pinterest.com/pin/create/button/?url='+encodeURIComponent(location.href.replace(location.hash,""))+'&media={path}&description={title}" class="pin-it-button" count-layout="horizontal" target="_blank">
    <img border="0" src="http://assets.pinterest.com/images/PinExt.png" title="Pin It" />
</a> 
```

这在漂亮的照片库上不起作用，所以现在这是解决方案，

当我们初始化漂亮照片时，我们必须使用 script.js 中的代码。

像这样，代码

```
$(document).ready(function(){
    $(‘.prettyPhoto’).prettyPhoto({
        changepicturecallback: onPictureChanged,
    });

    function onPictureChanged() {

    var href= “http://pinterest.com/pin/create/button/?url=”‘+ encodeURIComponent(location.href.replace(location.hash,”&quot;)) +’”&amp;media=”+$(‘#fullResImage’).attr(‘src’);

    jQuery(‘.pp_social’).append(“&lt;div class=’pinterest’ ><a href=’”+ href +”‘ class=’pin-it-button’ count-layout=’horizontal’ target=’_blank’&gt;<img border=’0′ src=’http://assets.pinterest.com/images/PinExt.png’ title=’Pin It’ /></a></div>”);
} 
```

有关完整说明，请访问我的教程页面。

[将 Pinterest 添加到 prettyPhoto 中的社交媒体图标](http://websolstore.com/how-to-add-pinterest-to-social-media-icons-in-prettyphoto/)

我相信它会对你有很大帮助。

谢谢

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-21T10:04:44.943

这是唯一可行的方法。

不要为图像使用 ID，因为每次您要固定图像时，每次在您的网页上使用带有 ID 的第一张图像。

请参阅下面的代码：

```
$('.prettyPhoto').prettyPhoto({ changepicturecallback: onPictureChanged, });

function onPictureChanged() {

  var href= "http://pinterest.com/pin/create/button/?url=" + encodeURIComponent(location.href.replace(location.hash,"")) +"&media="+$('#pp_full_res').find('img').attr('src');

  jQuery('.pp_social').append("<div class='pinterest' ><a   href='"+ href +"' class='pin-it-button' count-layout='horizontal' target='_blank'><img border='0' src='http://assets.pinterest.com/images/PinExt.png' title='Pin It'/></a></div>");

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-22T07:24:54.583

将代码更改为此，它现在可以工作：

```
<div class="pinterest">
    <a href="http://pinterest.com/pin/create/button/?url='+encodeURIComponent(location.href.replace(location.hash,""))+'&media={path}&description={title}" class="pin-it-button" count-layout="horizontal" target="_blank">
        <img border="0" src="http://assets.pinterest.com/images/PinExt.png" title="Pin It" />
    </a>
</div> 
```

# java - 如何解锁lucene中的索引目录

> ID：13486426
> 
> 赞同：1
> 
> 时间：2012-11-21T04:37:34.900
> 
> 标签：java, lucene

与java`lucene api 3.0`一起使用时如何解锁索引目录 ？方法不起作用。我是新手？`SimpleFsFactory``unlock()``lucene`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-21T14:13:30.890

我正在这样做，它对我有用：

```
 Directory directory = FSDirectory.open(folder);
    if (directory.fileExists(IndexWriter.WRITE_LOCK_NAME)) {
        directory.clearLock(IndexWriter.WRITE_LOCK_NAME);
        log.warn("Existing write.lock at [" + folder.getAbsolutePath() + "] has been found and removed. This is a likely result of non-gracefully terminated server. Check for index discrepancies!");
    }
    directory.close(); 
```

# java - JRE 1.7 与 win7(x64) 的兼容性

> ID：13486428
> 
> 赞同：0
> 
> 时间：2012-11-21T04:37:50.360
> 
> 标签：java

jre 1.7（32 位）是否与 windows 7 64 位操作系统兼容？

我正在使用 jre 1.7 update 9。当我登录应用程序时，它没有打开。这是一个 jre 问题，但我想知道 64 位操作系统是否支持 32 位 jre。应用程序适用于 64 位 jre。但我想让它兼容 32 位。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:07:17.910

Windows 32 位 JRE 可以在 Windows 64 位上运行。

您是说您正在尝试“登录”您的应用程序。那是小程序吗？如果是这样，那么您必须确保您的浏览器以 32 位模式运行：

1.  如果您安装 32 位 JRE，那么 Java 插件（允许您运行小程序）将只能在 32 位浏览器下工作。

2.  如果安装 64 位 JRE，那么 Java 插件只能在 64 位浏览器下工作。

3.  要同时支持 32 位和 64 位浏览器，您必须安装两个 JRE。

# ios - 未找到有效的签名身份 - 在一台机器上工作，而不是在另一台机器上工作

> ID：13486430
> 
> 赞同：0
> 
> 时间：2012-11-21T04:38:06.973
> 
> 标签：ios, xcode, ios-provisioning

我意识到这是人们遇到的一个常见问题，但我已经搜索了所有我能找到的答案，但没有比“擦掉一切，重新开始”更好的了。

我希望做得比这好一点。问题是，我只能让我的 iOS 配置在单台机器上工作。我在我的 Macbook Air 上设置了它，但它在我的 iMac 上停止工作。因此，我遵循“全部擦除”，包括吊销证书并在我的 iMac 上从头开始，它可以工作，但会破坏我的 Air。

我必须缺少一些基本的拼图。

我已经下载并安装了 WWDR 证书。我已经下载并安装了我的开发者证书。我已经下载并安装了我的分发证书。

一切都应该排队。我有我的所有个人资料，但他们说“未找到有效的签名身份”。

缺少什么证书？什么代表签名身份？一台机器上存在而另一台机器上不存在的东西是什么？

我真的很想了解这一点并妥善解决。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:45:51.787

我对这个概念也不是很清楚，但我认为问题在于您的钥匙串访问权限中没有正确的证书。

如果您打开钥匙串，您将在左侧面板的其中一个钥匙串中找到私钥证书。

您必须导出私钥以获取`.p12`可以在其他机器上打开的文件并`.mobileprovision`从开发者网站下载以使其在不同机器上工作。

如果您有任何不清楚的地方，请大声喊叫。

# html - 设置指向 youtube iframe 视频的外部链接

> ID：13486434
> 
> 赞同：0
> 
> 时间：2012-11-21T04:38:34.720
> 
> 标签：html, css, video, youtube

我在我的网站上使用 iframe youtube 视频。

示例代码：

```
<iframe width="414" height="270" src="samplecode" frameborder="0" allowfullscreen></iframe> 
```

如果我单击 youtube 视频，它将重定向到外部页面。我使用了下面的代码。

```
<a href="#"> <iframe width="414" height="270" src="samplecode" frameborder="0" allowfullscreen></iframe></a> 
```

我知道我的方法是错误的。它不工作。请确认无论如何都要这样做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T09:41:15.203

这行不通。要解决您的问题，您必须使用 javascript。作为参考，您可以检查以下线程 [Detect Click into Iframe using JavaScript](https://stackoverflow.com/questions/2381336/detect-click-into-iframe-using-javascript)

另一个解决方案是

```
<div style="position:relative">
<div style="position:absolute;width:414px;height:270px" onclick='window.location.href="http://google.com"' ></div>
<iframe width="414" height="270" src="samplecode" frameborder="0" allowfullscreen></iframe>
</div> 
```

在这里，我叠加了另一个 div overiframe（我们不会为它设置任何背景，因此会看到 iframe 内容），它将具有 onclick 功能，可以将用户带到所需的 url

# delphi - 如何从字符串中修剪任何字符（或子字符串）？

> ID：13486438
> 
> 赞同：6
> 
> 时间：2012-11-21T04:39:10.900
> 
> 标签：delphi, delphi-7, trim

我基本上使用 C#。在那里我可以做到：

```
string trimmed = str.Trim('\t'); 
```

从字符串中修剪制表`str`并将结果返回到`trimmed`.

在 delphi7 中，我只发现`Trim`, 修剪空格。

我怎样才能实现相同的功能？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-11-05T11:29:37.020

有字符串助手[TStringHelper.Trim](http://docwiki.embarcadero.com/Libraries/XE7/en/System.SysUtils.TStringHelper.Trim)接受 Char 数组作为可选参数。

```
function Trim(const TrimChars: array of Char): string; overload; 
```

所以，你可以使用

```
trimmed := str.Trim([#09]); 
```

以你为例。`#09`这是制表符的 ASCII 码。

这个功能至少从 Delphi XE3 开始就存在。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-21T05:11:50.373

这是一种有时比找到它所在的位置更容易创建的过程:)

```
function TrimChar(const Str: string; Ch: Char): string;
var
  S, E: integer;
begin
  S:=1;
  while (S <= Length(Str)) and (Str[S]=Ch) do Inc(S);
  E:=Length(Str);
  while (E >= 1) and (Str[E]=Ch) do Dec(E);
  SetString(Result, PChar(@Str[S]), E - S + 1);
end; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-21T05:20:08.767

在 Delphi 中，Trim 函数不接受参数，但它会修剪其他字符和空格。这是代码（来自 XE2 中的 System.SysUtils，我认为它没有改变）：

```
function Trim(const S: string): string;
var
  I, L: Integer;
begin
  L := Length(S);
  I := 1;
  if (L > 0) and (S[I] > ' ') and (S[L] > ' ') then Exit(S);
  while (I <= L) and (S[I] <= ' ') do Inc(I);
  if I > L then Exit('');
  while S[L] <= ' ' do Dec(L);
  Result := Copy(S, I, L - I + 1);
end; 
```

它正在修剪小于 ' ' 的任何内容，这将消除任何控制字符，如制表符、回车符和换行符。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-21T14:38:13.657

Delphi 没有提供你想要的功能。内置`Trim`函数总是从输入字符串的两端修剪相同的字符集（空格和控制字符）。这里的几个答案显示了修剪任意字符的基本技术。如您所见，它不必很复杂。这是我的版本：

```
function Trim(const s: string; c: Char): string;
var
  First, Last: Integer;
begin
  First := 1;
  Last := Length(s);
  while (First <= Last) and (s[First] = c) do
    Inc(First);
  while (First < Last) and (s[Last] = c) do
    Dec(last);
  Result := Copy(s, First, Last - First + 1);
end; 
```

为了适应修剪多个字符，您所要做的就是更改每个循环中的第二个条件项。您将其更改为什么取决于您选择如何表示多个字符。C# 使用数组。您也可以将所有字符放在一个字符串中，或​​者您可以使用 Delphi 的本机集合类型。

```
function Trim(const s: string; const c: array of Char): string;
// Replace `s[x] = c` with `CharInArray(s[x], c)`.

function Trim(const s: string; const c: string): string;
// Replace `s[x] = c` with `CharInString(s[x], s)`.

function Trim(const s: string; const c: TSysCharSet): string;
// Replace `s[x] = c` with `s[x] in c`. 
```

和函数很容易编写`CharInArray`：`CharInString`

```
function CharInArray(c: Char; ar: array of Char): Boolean;
var
  i: Integer;
begin
  Result := True;
  for i := Low(ar) to High(ar) do
    if ar[i] = c then
      exit;
  Result := False;
end;
// CharInString is identical, except for the type of `ar`. 
```

回想一下，从 Delphi 2009 开始，它`Char`是. 此外，该语法会在参数上生成警告，因此您希望改用该语法。（与and不同，RTL已经为需要它的 Delphi 版本提供了。）`WideChar``AnsiChar``s[x] in c``WideChar``CharInSet(s[x], c)``CharInArray``CharInString`[`CharInSet`](http://docwiki.embarcadero.com/Libraries/XE3/en/System.SysUtils.CharInSet)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-21T04:56:26.780

您可以使用字符串替换：

```
var
  str:String;
begin
  str:='The_aLiEn'+Chr(VK_TAB)+'Delphi';

  ShowMessage(str);

  str:=StringReplace(str, chr(VK_Tab), '', [rfReplaceAll]);

  ShowMessage(str);
end; 
```

这会省略给定字符串中的所有制表符。但是你可以改进它，如果你想删除前导和尾随标签，那么你也可以使用 Pos 功能。

**编辑：** 对于询问如何使用 Pos 进行操作的评论，这里是：

```
var
  str:String;
  s, e: PChar;
begin
  str:=Chr(VK_TAB)+Chr(VK_TAB)+'The_aLiEn'+Chr(VK_TAB)+'Delphi'+Chr(VK_TAB)+Chr(VK_TAB);

  s:=PChar(str);

  while Pos(Chr(VK_TAB), s)=1 do inc(s);
  e:=s;
  inc(e, length(s)-1);
  while Pos(Chr(VK_TAB), e)=1 do dec(e);
  str:=Copy(s, 1, length(s)-length(e)+1);

  ShowMessage(str);
end; 
```

当然，这与 Maksee's 的方法**相同**，而且需要做更多的工作。但是，如果没有太多时间来完成这项工作，并且如果**Pos**是您首先想到的，那么这就是可以完成的方式。你，程序员**应该**也**必须**考虑优化，而不是我。如果我们谈论优化的约束，稍微调整一下用 char compare 替换 Pos，这将比 Maksee 的代码运行得更快。

**编辑 Substr 搜索泛化：**

```
function TrimStr(const Source, SubStr: String): String;
var
  s, e: PChar;
  l: Integer;
begin
  s:=PChar(Source);
  l:=Length(SubStr);

  while Pos(SubStr, s)=1 do inc(s, l);
  e:=s;
  inc(e, length(s)-l);
  while Pos(SubStr, e)=1 do dec(e, l);
  Result:=Copy(s, 1, length(s)-length(e)+l);
end; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-03-18T11:47:51.707

JEDI JCL v2.7 为您提供了这些有用的功能：

`function StrTrimCharLeft(const S: string; C: Char): string; function StrTrimCharsLeft(const S: string; const Chars: TCharValidator): string; overload; function StrTrimCharsLeft(const S: string; const Chars: array of Char): string; overload; function StrTrimCharRight(const S: string; C: Char): string; function StrTrimCharsRight(const S: string; const Chars: TCharValidator): string; overload; function StrTrimCharsRight(const S: string; const Chars: array of Char): string; overload; function StrTrimQuotes(const S: string): string;`

# android - 在android中使用chart引擎创建组合条形图和折线图时出错

> ID：13486439
> 
> 赞同：0
> 
> 时间：2012-11-21T04:39:11.073
> 
> 标签：android, bar-chart, achartengine, linechart

我正在为我的应用程序使用 achart 引擎做图表应用程序。我创建了条形图、双折线图和折线图。现在我正在为条形图和折线图做组合图表。. 但是我在这段代码上遇到了一些错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:52:05.460

我不确定，但你应该更换

```
values.add(new double[] { 5000,4000,3100,2000,200,-1200,-300,200,1000,200,500,200}); 
```

和

```
 for (int i = 0; i < titles.length; i++) {

     values.add(new double[] { 5000,4000,3100,2000,200,-1200,-300,200,1000,200,500,200});
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:33:45.550

是的，我得到了答案。我在以下行中犯了一些愚蠢的错误

```
 String[] titles = new String[] { "Actual", "Budget" }; 
```

实际上在这里我必须给出一个选择。所以它显然会出现 ArrayIndexOutOfBoundsException 。谢谢你们。

# regex - Perl：如何使用正确的数据结构：多行，多捕获组

> ID：13486441
> 
> 赞同：0
> 
> 时间：2012-11-21T04:39:24.163
> 
> 标签：regex, perl

我有一个文件：

```
XXGuy:Tom1XXBill1XX<tab>XXBlah2XX\n
XXFriend:Bob1XXcarry:Stuff1XX\n
XXGuy:Tom2XXBill2XX<tab>XXBlah7XX\n
XXFriend:Bob2XXcarry:Stuff2XX\n 
```

我要提取的内容是 Tom{1,2}、Bob1{1,2} 和 Stuff1{1,2} 并打印：

“Tomx 的朋友是 Bobx，他带着 Stuffx”

我可以使用具有多个捕获组的多行正则表达式，并且 Tomx、Bobx 和 Stuffx 将在 $1、$2 和 $3 中，我可以打印出每个元素，但不能以我想要的方式真正处理它们描述 - 我不知道如何存储到什么结构中（数组/哈希在这里看不到适合账单？）并检索数据。

我正在看这些帖子：

[Perl：从数组中提取值对](https://stackoverflow.com/questions/4470189/perl-pulling-pairs-of-values-from-an-array) [使用多行正则表达式查找多个匹配项 perl](https://stackoverflow.com/questions/13372641/finding-multiple-matches-with-multiline-regex-perl)

建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T04:46:16.870

通常，您正在列表上下文中寻找`/g`标志，但您对结果所做的仍然是更难的部分。我会做这样的事情，我不确定它绝对是最好的方式，但它应该服务：

```
#!/usr/bin/env perl

use strict;
use warnings;

my $string = <<'END';
XXGuy:Tom1XXBill1XX XXBlah2XX
XXFriend:Bob1XXcarry:Stuff1XX
XXGuy:Tom2XXBill2XX XXBlah7XX
XXFriend:Bob2XXcarry:Stuff2XX
END

my @data;
push @data, [$1,$2,$3] while $string =~ /(Tom\d+).*?(Bob\d+).*?(Stuff\d+)/msg;

use Data::Dumper;
print Dumper \@data; 
```

[在perldoc perlretut](http://p3rl.org/retut)和[perldoc perlreref](http://p3rl.org/reref)中阅读更多信息（或天堂帮助你[perldoc perlre](http://p3rl.org/perlre)）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T07:36:30.287

这是一个对数据使用命名捕获的选项：

```
use strict;
use warnings;

while (<DATA>) {
    if (/:(?<name>.+?)XX.+(?=\t)/) {
        print "$+{name}'s friend is ";
        next;
    }

    /:(?<name>.+?)XX.+:(?<stuff>.+?)XX/;
    print "$+{name} and is carrying $+{stuff}\n";
}

__DATA__
XXGuy:Tom1XXBill1XX XXBlah2XX
XXFriend:Bob1XXcarry:Stuff1XX
XXGuy:Tom2XXBill2XX XXBlah7XX
XXFriend:Bob2XXcarry:Stuff2XX 
```

输出：

```
Tom1's friend is Bob1 and is carrying Stuff1
Tom2's friend is Bob2 and is carrying Stuff2 
```

# c# - 意外编辑文件时禁用 Visual Studio 2010 中的自动签出

> ID：13486443
> 
> 赞同：2
> 
> 时间：2012-11-21T04:39:30.350
> 
> 标签：c#, visual-studio-2010

由于意外击键，我最终在用 C# 浏览项目时检查了很多文件。是否可以禁用签出，这样只有当我明确地从 perforce 签出文件时，它才允许我进行编辑？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T04:40:44.390

> 工具 -> 选项 -> 源代码管理 -> 环境

请参阅已托运的物品部分。在编辑下拉菜单中选择“提示签出”

![在此处输入图像描述](../Images/3e90d0a34ec1ac879f6635169d65f10c.png)

# javascript - 为什么所有的迭代都同时运行？

> ID：13486451
> 
> 赞同：5
> 
> 时间：2012-11-21T04:40:40.827
> 
> 标签：javascript, jquery

这是[jsfiddle](http://jsfiddle.net/JaQmd/)模拟我与此代码相关的问题：

```
$('#button').click(function(){
   var i;
   for (i = 1; i < 4; ++i) {
      $('#img' + i).fadeIn("slow").delay(1000);
      $('#img' + i).fadeOut("slow");
   }
}); 
```

我期待`#img1`元素淡入，然后执行停止 1 秒然后淡出，然后重新开始`#img2`元素等。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-21T04:56:43.317

动画看起来同时运行的原因是 jQuery 的动画都是异步执行的。因此，您的代码所做的基本上是启动所有动画，然后您的浏览器几乎同时处理实际动画。

然而，jQuery 的动画函数确实支持使用在动画完成后调用的回调。通过确保后面的动画发生在这个回调中，我们可以强制动画按顺序执行。

这是实现您的要求的一种方法（[此处为 jsfiddle](http://jsfiddle.net/9zrpZ/)）：

```
$('#button').click(function(){
    var i;
    var $elems = [];
    for (i = 1; i < 4; ++i) {
        $elems.push($('#img' + i));
    }

    var animate = function () {
        var $elem;
        if ($elems.length) {
            $elem = $elems.shift();
            $elem.fadeIn("slow").delay(1000).fadeOut("slow", animate);
        }
        // if the $elems has been cleared out, we're done and this function won't be requeued
    };

    animate();
}); 
```

请注意，我正在排队另一个调用`animate()`作为`.fadeOut`. 然后该函数将重新执行，但`$elems`数组的状态将在每个函数调用中发生变化，以便每个元素按顺序执行一次动画。当数组被清除时，该函数将再次运行一次以验证元素是否都已被动画化，并且在这种情况下它将返回而无需重新排队。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:55:08.610

请试试这个：

我们无法在 for 循环中使用**fadeIn()**延迟。

相反，我们可以使用**setInterval()**。

请尝试以下代码。

```
var i;
var timeMgt;

$('#button').click(function(){
   i = 1;
   timeMgt = setInterval(ChangeImage,1000);
});

function ChangeImage()
{
    if(i<4)
    {
        $('#img' + i).fadeIn("slow").delay(1000);
        $('#img' + i).fadeOut("slow");
        i++;
    }
    else
    {
         window.clearInterval(timeMgt);
         return;
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T05:02:33.820

您可能希望在fadeIn 和fadeOut 函数中使用回调。这是一个示例[http://jsfiddle.net/JaQmd/5/](http://jsfiddle.net/JaQmd/5/)。

代码的核心基本上是像这样用新的图像编号调用回调

```
var imageNumber = 0;

$('#button').click(function doAnimation() {
++imageNumber;
if(imageNumber <= 3){
   $("#img" + imageNumber).fadeIn('slow').delay(1000);
   $("#img" + imageNumber).fadeOut('slow', doAnimation);
  }
});​ 
```

# c++ - 在 C++ 中调用函数

> ID：13486454
> 
> 赞同：1
> 
> 时间：2012-11-21T04:41:04.243
> 
> 标签：c++, class, function

我试图在 C++ 中调用一个函数，我认为它与 C 中的相同，但是在尝试将 C 程序转换为 C++ 时，我遇到了一个错误，它说函数未声明。

这是我的课：

```
class contacts
 {
  private:;
          char *First_Name;
          char *Last_Name;
          char *home;
          char *cell;
  public:;
  //constructor
         contacts()
         {
         }  
//Function declaration     
void readfile (contacts*friends ,int* counter, int i,char buffer[],FILE*read,char user_entry3[]);

  }; 
```

这是我的菜单功能的片段：

```
 if(user_entry1==1)
  {
    printf("Please enter a file name");
    scanf("%s",user_entry3); 
    read=fopen(user_entry3,"r+");

   //This is the "undeclared" function
   readfile(friends ,counter,i,buffer,read,user_entry3);
   }else; 
```

我显然做错了什么，但每次我尝试编译我都会得到`readfile undeclared(first use this function)`我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T04:43:02.787

您需要创建一个`contacts`类对象，然后调用`readfile`该对象。像这样： `contacts c; c.readfile();`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:43:20.530

是类内部的“菜单”功能`contacts`吗？您设计它的方式，它只能在类的实例上调用。您可以根据确切**的含义`readfile`来选择`contacts`**

我猜这个**函数会读取所有联系人**，而不仅仅是 1 个联系人，这意味着它可以成为一个**静态函数**

```
static void readfile(... ; 
```

并称为

```
contacts::readfile(...; 
```

或者**，如果您不需要直接访问类的内部**，您可以在**类外部**声明它（作为一个自由函数，类似于普通的 C 函数）并完全按照您现在的方式使用。这实际上是编译器在遇到您的代码时正在搜索的内容。

另外，我建议您重命名`class contacts`->`class contact`因为似乎每个对象都只包含一个人的联系信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T05:01:40.683

我建议重构以使用 STL 向量。

```
#include <vector>
#include <ReaderUtil>

using namespace std;

vector< contact > myContactCollection;
myContactCollection.push_back( Contact("Bob",....) );
myContactCollection.push_back( Contact("Jack",....) );
myContactCollection.push_back( Contact("Jill",....) ); 
```

或者...

```
myContactCollection = ReaderClass::csvparser(myFile); 
```

在哪里

```
ReaderClass::csvparser(std::string myFile) returns vector<Contact> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T05:39:13.100

由于您的 readfile 函数位于 contacts 类中，因此上面的答案在技术上是正确的，因为您需要创建对象的实例然后调用该函数。但是，从 OO 的角度来看，您的类函数通常应该只对包含它的类的对象的成员进行操作。您在这里拥有的更像是一个通用函数，它接受多种类型的参数，其中只有一个是指向本身包含您正在调用的函数的类的指针，如果您考虑一下，这有点奇怪。因此，您会将指向该类的指针传递给该类的成员函数，该类的成员函数需要它的两个实例。您不能将类视为对指向结构的指针的简单替换。由于这是一堂课，您将所需的所有变量声明为类的成员，因此无需将它们作为参数传递（类的要点之一是将通用数据与类成员数据隔离开来）。这是一个应该为您指明正确方向的更新。

```
 class contacts
     {
      private:

          char *First_Name;
          char *Last_Name;
          char *home;
          char *cell;
          FILE *read;  // these all could also be declared as a stack variable in 'readfile'

    public:
    //constructor

    contacts()
        {
        }  

    //destruction
    ~contacts()
    {
    }

    //Function declaration     
    int contacts::readfile (char * userEnteredFilename);

    };

    contacts myContact = new contacts();

    printf("Please enter a file name");
    scanf("%s",user_entry3); 

    int iCount = myContact->readfile(user_entry3);

    // the readfile function should contain all of the file i/O code 
```

# jquery - 如何使用 Jquery 在锚标记内附加输入？

> ID：13486456
> 
> 赞同：2
> 
> 时间：2012-11-21T04:41:10.910
> 
> 标签：jquery, tags, anchor

请帮忙，我得到了带有跨度的锚标签，使用Jquery我如何在不丢失跨度并使用实际值的情况下追加输入！？？

我懂了

```
<a class='fieldEditable' href='#'><span class='blue'>Id. Usuario</span> **Juan David**</a> 
```

我想使用值 Juan David 作为输入的值

```
<a class='fieldEditable' href='#'><span class='blue'>Id. Usuario</span><input type="text" name="newid" value="**Juan David**"> </a> 
```

span class='blue' 在某些情况下不一样我的意思是它会改变

我试过了

```
$('a.fieldEditable').append('<input type="text" name="newid" value="">'); 
```

结果

```
<a class='fieldEditable' href='#'><span class='blue'>Id. Usuario</span> **Juan David**<input type="text" name="newid" value="**HOW MOVE THE VALUE JUAN DAVID TO HERE??**"></a> 
```

快完成了，我需要一些帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:07:26.893

定位 textNodes 有点困难，但这里有一种方法：

```
$(".fieldEditable")
    .contents()
    .filter(textNodes)
    .each(function(index, object){
        $("<input>", { 
            type: "text", 
            value: object.textContent.trim() 
        }).replaceAll(this).before(" ");
    });

function textNodes () {
    return this.nodeType === 3 && this.textContent.trim().length;
}​ 
```

```
<a class='fieldEditable' href='#'>
    <span class='blue'>Id. Usuario</span> 
    Juan David
</a>​ 
```

结果如下：

```
<a class="fieldEditable" href="#">
    <span class="blue">Id. Usuario</span> 
    <input type="text" value="Juan David">
</a> 
```

演示：http: [//jsfiddle.net/TxvYE/](http://jsfiddle.net/TxvYE/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:46:39.503

您可以更改标记：

```
<a class='fieldEditable' href='#'><span class='blue'>Id. Usuario</span><span id='target'>**Juan David**</span></a> 
```

和js：

```
$('a.fieldEditable').append('<input type="text" name="newid" value="">');
$('input[name=newid]').val($('#target').text()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:52:52.237

尝试这个：

```
var v=$('a.fieldEditable').html();
var newHTML=v+'<input type="text" name="newid" value="">';
$('a.fieldEditable').html(newHTML); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T05:02:20.973

使用容器

```
<a class='fieldEditable' href='#'><span class='blue'>Id. Usuario</span><span id='target'>**Juan David**</span></a> 
```

然后它很容易更换：

```
var target = $('#target');
target.replaceWith($('<input/>').val(target.text()) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T05:21:36.320

无需更改您的标记 - 并使用 javascript 正则表达式，您可以使用：

```
var inner = $('.fieldEditable').html();
var re = /(<span.*<\/span>) ([\s\S]+)/i;
var m = re.exec(inner);
if(m != null && m.length == 3) {
    var span = m[1];
    var person = m[2]
    $('.fieldEditable').html(span + '<input type="text" name="newid" value="' + person + '">')
} 
```

# javascript - javascript：class.property 与 class.prototype.property 模拟静态属性

> ID：13486457
> 
> 赞同：15
> 
> 时间：2012-11-21T04:41:11.810
> 
> 标签：javascript, static, prototype

我一直在尝试在 javascript 中模拟静态属性。在几个地方已经提到，class.prototype.property 在从该类继承的所有对象中都是静态的。但我的 POC 另有说法。请看一下：

**使用 Class.prototype.property**

```
//Employee class
function Employee() {
    this.getCount = function(){
        return this.count; 
    };      
    this.count += 1;
}
Employee.prototype.count = 3;

var emp = [], i;
for (i = 0; i < 3; i++) {
    emp[i] = new Employee();
    console.log("employee count is "+ emp[i].getCount());
}
/*Output is:
employee count is 4
employee count is 4
employee count is 4*/ 
```

*我的问题 #1：如果这是静态的，那么 count 的值不应该是 4、5、6 等，因为所有对象都共享相同的 count 变量吗？*

然后我用 Class.prototype 做了另一个 POC，我认为这是静态的。

**使用 Class.property**

```
//Employee class
function Employee() {
    this.getCount = function(){
        return Employee.count; 
    };      
    Employee.count++;
}
Employee.count = 3;

var emp = [], i;
for (i = 0; i < 3; i++) {
    emp[i] = new Employee();
    console.log("employee count is "+ emp[i].getCount());
}
/*Output is:
employee count is 4
employee count is 5
employee count is 6*/ 
```

*我的问题 #2：我没有看到直接使用 class.property。记住我上面的代码，javascript中的静态变量究竟是如何制作的？*

还是我在这里编码错误？这不是正确的认识吗？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-11-21T04:47:25.743

> 我的问题 #1：如果这是静态的，那么 count 的值不应该是 4、5、6 等，因为所有对象都共享相同的 count 变量吗？

原型属性在实例之间共享，但如果一个实例有它自己的属性副本，它将使用它。分配给实例上的属性会给它自己的副本，因此它不再使用原型的。

, , 和类似的`+=`运算`++`符会导致赋值，因此它们也会导致这种行为。

考虑：

```
function Employee() {
}
Employee.prototype.count = 0; 
```

在上面的代码中，内存中有一个对象用于`Employee.prototype`. 一些 ASCII 艺术：

```
+−−−−−−−−−−−−−−−−−−−−−−−+
| Employee.prototype |
+−−−−−−−−−−−−−−−−−−−−−−−+
| 计数：0 |
+−−−−−−−−−−−−−−−−−−−−−−−+
```

然后我们这样做：

```
var e = new Employee(); 
```

现在内存中有第二个对象，它有一个对的引用`Employee.prototype`：

```
+−−−−−−−−−−−−−−−−−+
| 电子|
+−−−−−−−−−−−−−−−−+ +−−−−−−−−−−−−−−−−−−−−−−+
| [[原型]] |−−−−−−−−−−>| Employee.prototype |
+−−−−−−−−−−−−−−−−+ +−−−−−−−−−−−−−−−−−−−−−−+
                           | 计数：0 |
                           +−−−−−−−−−−−−−−−−−−−−−−−+
```

如果您查询`e.count`：

```
console.log(e.count); 
```

...由于`e`没有自己的名为 的属性`count`，因此引擎会查看`e`的原型以找到它，找到它并使用该值。

但是，当我们这样做时：

```
e.count += 1; // Or more idiomatically, `++e.count;` or `e.count++;` 
```

这会在实例上*分配*一个值。现在有*自己的*副本：`count``e``e`*`count`*

 *```
+−−−−−−−−−−−−−−−−−+
| 电子|
+−−−−−−−−−−−−−−−−−+
| 计数：1 | +−−−−−−−−−−−−−−−−−−−−−−−+
| [[原型]] |−−−−−−−−−−>| Employee.prototype |
+−−−−−−−−−−−−−−−−+ +−−−−−−−−−−−−−−−−−−−−−−+
                           | 计数：0 |
                           +−−−−−−−−−−−−−−−−−−−−−−−+
```

*现在*，如果您查询`e.count`：

```
console.log(e.count); 
```

...引擎在`count`上找到`e`，并且不查看原型。

您可以在代码中看到这种效果：

```
function Employee() {
}
Employee.prototype.count = 0;

var e = new Employee();
console.log(e.hasOwnProperty('count')); // false
e.count += 1;
console.log(e.hasOwnProperty('count')); // true

console.log(e.count);                   // 1
console.log(Employee.prototype.count);  // 0
```

这也很有趣：

```
var e = new Employee();

console.log(e.count);                   // 0
++Employee.prototype.count;
console.log(e.count);                   // 1
```

由于`e`（还）没有自己的副本`count`，如果我们实际增加 上的属性，无论我们直接（ ）或间接（ ）`Employee.prototype`请求它，我们都会看到更新的值。`Employee.prototype.count``e.count`

关于此的最后说明：如果`e`获得自己的属性副本，您可以再次将其删除：

```
var e = new Employee();
console.log(e.count);    // 0, because it's using `Employee.prototype.count`
++e.count;               // Now `e` has its own `count` property
console.log(e.count);    // 1, `e`'s own `count`
delete e.count;          // Now `e` doesn't have a `count` property anymore
console.log(e.count);    // 0, we're back to using `Employee.prototype.count`
```

`delete`会更恰当地称为`remove`. 它从对象中删除属性。

> 我的问题 #2：我没有看到直接使用 class.property。记住我上面的代码，javascript中的静态变量究竟是如何制作的？

两种方式：

1.  正如你所做的那样，`Employee.sharedProperty`.

2.  通过在函数中定义整个“类”，并在该函数中使用局部变量：

    ```
    var Employee = (function() {
        var sharedVariable = 0;

        function Employee() {
            ++sharedVariable;
            console.log("sharedVariable = " + sharedVariable);
        }

        return Employee;
    })(); 
    ```

    在该外部作用域函数中定义的所有函数都可以访问其中定义的局部变量。所以只有一个变量，在对创建`Employee`.

    然后，这段代码：

    ```
    new Employee();
    new Employee();
    new Employee();
    new Employee(); 
    ```

    输出

    ```
    1
    2
    3
    4
    ```*

# php - 我的 php 表单代码有什么问题？

> ID：13486458
> 
> 赞同：0
> 
> 时间：2012-11-21T04:41:33.493
> 
> 标签：php, redirect, csv, vote

我在网上找到了一些教程和一些免费代码，并试图制作这个投票页面，但没有提交投票并且页面没有被重定向。我做错了什么？我如何解决它？我尝试了几个小时，但我无法得到它。这是代码，但用 John Doe 替换了真实姓名。

```
<?php
if($_POST['formSubmit'] == "Submit")
{
    $errorMessage = "";

    if(empty($_POST['varVote']))
    {
        $errorMessage .= "<li>error</li>";
    }

    $varVote = $_POST['varVote'];

    if(empty($errorMessage)) 
    {
        $fs = fopen("doe.csv","a");
        fwrite($fs,$varName . ", \n");
        fclose($fs);

        header("Location: thank.htm");
        exit;
    }
}
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Doe</title>
<style type="text/css">
body,td,th {
    font-size: 24pt;
    color: #FFFFFF;
    font-family: Verdana, Geneva, sans-serif;
}
body {
    background-color: #0000DD;
}
</style>
<meta name = "viewport" content = "width=device-width">
<script language="javascript" src="cookie.js">
   </script>
</head>

<body bgcolor="#0000DD" onload="CheckForCookie ();">
<center>Are you sure you want to cast a vote for John Doe? You can only vote once!
<form id="form1" name="form1" method="post" action="aguire.php">
  <p>
    <label for="Doe"></label>
  </p>
  <p>
    <input name="varVote" type="radio" value="1" checked="checked" style="display:none;"     />
  </p>
  <p></p>
  <p><a href="javascript:history.go(-1)"><img src="no.png" width="174" 
border="0" align="middle" /></a>
    <style>
 input.btn {
    background-image: url(yes.png);
    background-repeat: no-repeat;
    color: #FFFFFF;
    font-size: 0px;
    height: 41px;
    width: 174px;
    border: 0px;
    cursor: pointer;
    background-color: #000000;
}
    </style>
    <input name="formSubmit" type="submit" class="btn" value="submit" />
  </p>
</form>
<p>&nbsp;</p>
<p><a href="thank.htm"><img src="skip.png" width="221" height="62" alt="skip" /></a></p>
</body></center>
<p>&nbsp;</p>
<center><p>&nbsp;</p>
<p>&nbsp;</p></center>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:50:26.940

您的 if 条件无法进入 php 块

```
if($_POST['formSubmit'] == "submit") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:53:18.533

你错过了一些事情：

第 1 行

```
if($_POST && $_POST['formSubmit'] == "submit") 
```

提交按钮值等于“提交”而不是“提交”

第 18 行

```
fwrite($fs,$varVote . ", \n"); 
```

第 13 行设置的变量名称是“$varVote”而不是“$varName”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:58:17.250

您在 php 代码中给出了错误的名称。

试试看

```
<?php 
     if ($_POST['formSubmit'] == "submit" )
     {
         inner block;
         //ETC.........
     }
?> 
```

# c - 这种类型的套接字连接状态场景有名称吗？

> ID：13486459
> 
> 赞同：0
> 
> 时间：2012-11-21T04:41:52.593
> 
> 标签：c, sockets, networking

我在同一台（Windows）计算机上运行一个简单的客户端/服务器。服务器在端口 9878 上侦听。这是由 Process Explorer 捕获的服务器 exe 的连接状态：

```
Protocol    Localhost         Remote            Status
TCP         localhost:9878   localhost:0        LISTENING
TCP         localhost:9878   localhost:55555    ESTABLISHED
TCP         localhost:55555  localhost:9878     ESTABLISHED 
```

如您所见，出了点问题。我观察到的问题是数据现在从服务器无限发送到客户端。是否有这种情况的名称在这里看到的服务器连接到同一台机器的 2 个端口？此外，是否有可能发生这种情况的典型方式？对我来说，一旦客户端在第一次连接后断开连接，就会发生这种情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:06:50.600

该列表没有任何问题。这正是本地客户端连接到本地服务器时应该看到的一组连接。在这种情况下，您确实有三个套接字：

1.  服务器 - 监听套接字
2.  服务器 - 连接到客户端的套接字
3.  客户端 - 连接到服务器的套接字

如果您遇到某种问题，则可能是您的代码中的错误。

# jquery - 在 ajax 成功时在 div 中显示另一个 html 内容

> ID：13486461
> 
> 赞同：0
> 
> 时间：2012-11-21T04:42:10.263
> 
> 标签：jquery, ajax

**gameLike.jsp**

```
<div id="gameLikeStatus">
<a  href="likeit"   id="likeitlink">likeit</a>  
</div>

var dataString = 'elementId='+ '<s:property value="id"/>'+ '&elementType=' + 'games';                          

$(document).ready(function(){                                   
    $('a#likeitlink').bind('click',function(event){
        event.preventDefault();
        $.ajax({   
            type: "POST",   
            url: "likeit", 
            dataType: "text html",
            data: dataString,   
            success: function() {  
                $.post('isLiked',dataString, function(data) {
                    alert(data);//1
                    $('#gameLikeStatus').html(data);
                });

            }   
        }); 
    });

}); 
```

in`second.jsp`包含一个链接

```
<a  href="unlikeit"   id="Unlikeitlink">likeit</a> 
```

在这里我喜欢元素，喜欢后应该显示

```
<a  href="unlikeit"   id="Unlikeitlink">likeit</a> 
```

代替

```
<a  href="likeit"   id="likeitlink">likeit</a> 
```

在

```
<div id="gameLikeStatus"></div> 
```

在`gameLike.jsp`,`alert(data);//1`显示

```
<a  href="unlikeit"   id="Unlikeitlink">likeit</a> 
```

这个数据但是

```
$('#gameLikeStatus').html(data); 
```

什么都不显示。

如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:56:49.453

采用

```
 $('.gameLikeStatus').html(data); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:49:22.050

检查ajax调用是否有效，因为我不确定它是否有效在锚链接中你已经定义了**class = likeitlink**，在jquery函数中你使用了**id = likeitlink的锚链接**

其次，只需使用 html 作为 ajax dataType 它总是对我有用。

第三，您使用了**class = gameLikeStatus**但是当您从 ajax 成功获得响应时，您使用的**id=gameLikeStatus**必须是**$(.gameLikeStatus)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T07:11:43.620

div 有一个 id，所以使用 $("#gameLikeStatus").append(data);

# java - 在java中使用错误startsWith

> ID：13486463
> 
> 赞同：-4
> 
> 时间：2012-11-21T04:42:21.697
> 
> 标签：java

定义变量：

```
 LinkedList list1=new LinkedList(); 
```

`Object get()`在 list1 中获取 list1 的一个节点

`Object remove()`in list1 删除 list1 的一个节点

`count()`是 list1 的长度

```
for(int i=1;i<list1.count();i++){
  if(list1.get(i).startsWith('"',0)) //Error here
    list1.remove(i);
} 
```

错误：找不到符号

> 符号：方法 charAt(int)
> 位置：类 Object

如何解决这个问题？我想删除 list1 中以 (") 开头的节点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T04:46:16.853

1.  `startsWith`是`String`类中的一个方法；您使用的是原始 LinkedList 类型，因此它被视为`LinkedList<Object>`. 如果您想使用字符串，请将其设为`LinkedList<String>`.
2.  `startsWith`只接受`String`参数，不接受`char`参数。改为使用`startsWith("\"")`。
3.  您提供的第二个参数`startsWith`是多余的；不提供第二个参数将假定起始位置为 0。
4.  你的`if`语句后面有一个多余的分号。这将导致`if`身体被视为空的。一定要删除这个分号，并且可以选择使用花括号。

* * *

您修改后的解决方案可能如下所示：

```
LinkedList<String> list1 = new LinkedList<String>();

// [...] Populate the list accordingly here

for(int i=1; i < list1.count(); i++){
    if (list1.get(i).startsWith("\"")) {
        list1.remove(i);
    }
} 
```

* * *

**补充笔记：**

1.  您的 for 循环从索引 1 开始。请注意，这不会删除第一个元素。我确定这是否是您想要的行为。
2.  当您删除列表中的元素时，列表中后面元素的索引将发生变化。

例如：

```
[ "a", "b", "c", "d" ]
   ^
(remove element at index 0)

[ "b", "c", "d" ]
        ^
(remove element at index 1... uh oh, we missed "b"!)

[ "b", "d" ]
              ^
(remove element at index 2... ERROR; index out of bounds) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:44:55.473

如果它是字符串列表，则需要告诉编译器。Java 没有鸭式类型，您必须明确告诉编译器该对象是一个字符串。

```
List<String> list1=new LinkedList<String>(); 
```

当它以这种方式声明时，`get(i)`将返回 String 类型的引用，您可以使用它的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:45:08.730

1.  如果不指定 list 类型，Java 会将 is 视为`Object`s 的列表，没有`Object.charAt()`方法。添加`<String>`类型：

    ```
    LinkedList<String> list1 = new LinkedList<String>(); 
    ```

    或者，如果没有，在`get`调用中添加一个演员：

    ```
    if (((String) list1.get(i)).startsWith("\"", 0)) 
    ```

2.  该[`String.startsWith()`](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#startsWith%28java.lang.String%29)方法接受一个字符串参数，而不是一个字符。

    ```
    if (list1.get(i).startsWith("\"")) 
    ```

3.  列表索引从 0 开始。

    ```
    for (int i = 0; i < list1.count(); i++)
                 ^ 
    ```

4.  您不应该`get(int)`与 LinkedList 一起使用。此方法用于[随机访问](http://en.wikipedia.org/wiki/Random_access)。链表可以按顺序快速遍历，但随机访问很慢。您应该按顺序遍历列表，或者使用支持快速随机访问的[ArrayList 。](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/ArrayList.html)

    ```
    for (String str: list1) {
    }

    // or

    List<String> list1 = new ArrayList<String>(); 
    ```

5.  在迭代列表时从列表中删除元素是很棘手的。最好的方法是使用迭代器。

    ```
    Iterator<String> it = list1.iterator();

    while (it.hasNext()) {
        String str = it.next();

        if (str.startsWith("\"")) {
            it.remove();
        }
    } 
    ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T04:45:36.280

您正在尝试在 Object 上获取 startWith，类型转换为 String。

if(((String)list1.get(i)).startsWith('"',0))

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T04:45:54.417

if(list1.get(i).startsWith("\"",0))

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-21T04:46:11.803

```
List<String> itemsToBeRemoved = new ArrayList<String>();

for(int i=1;i<list1.count();i++){
    String str = list1.get(i);
    if(str.startsWith("\""))
    itemsToBeRemoved.add(str);
}
list1.removeAll(itemsToBeRemoved); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-21T04:47:41.450

您应该指定 LinkedList 在尝试调用该`charAt`方法时将持有或执行强制转换的对象类型。就像是：

```
LinkedList<String> list1=new LinkedList<String>(); 
```

或投射到`String`

```
if (((String) list1.get(i)).startsWith("\"")) 
```

# ruby-on-rails - NameError（未初始化的常量 Savon::Request）

> ID：13486464
> 
> 赞同：0
> 
> 时间：2012-11-21T04:42:29.850
> 
> 标签：ruby-on-rails, controller, gem, savon

我正在尝试使用这个 Ruby 包装器[https://github.com/mattetti/Pvwatts](https://github.com/mattetti/Pvwatts)但我的控制器 app/controllers/projects_controller.rb 有问题（相关摘录）

```
require 'rubygems'
require 'savon'

class ProjectsController < ApplicationController
    <snip>
    def annual_production
        <snip>
        client = Savon::Client.new("http://pvwatts.nrel.gov/PVWATTS.asmx?WSDL")
        production_data = Pvwatts.new("<key>").yearly_production(:locationId => @locationId, :dc_rating => @dc_rating, :tilt => @tilt, :azimuth => @azimuth, :derate => @derate, :cost => @cost, :array_type => @array_type)
        <snip>
        respond_to do |format|
            if @project.update_attributes(params[:project])
                format.js
                format.html
            else
                format.html { render :action => "update" }
                format.json { render :json => @project.errors, :status => :unprocessable_entity }
            end
        end
    end
end

class Pvwatts
    Savon::Request.log = false
    <snip>
    def yearly_production(opts={})
        <snip>
        client = Savon::Client.new("http://pvwatts.nrel.gov/PVWATTS.asmx?WSDL")
        <snip>
        req = prep_request(@locationId, @dc_rating, @tilt, @azimuth, @derate, @array_type, @cost)
        response = client.get_pvwatts{|soap| soap.input = "GetPVWATTS"; soap.body = req }
        <snip>
    end
end 
```

这是触发 SOAP 请求的按钮的定义

```
<input type=button id='pvwatt_update_button_id' value="Update from PVWatts" class='pvwatt_update_button_class'> 
```

单击该按钮时，我收到此“500 Internal Server Error”

```
Started GET "/projects/annual_production?id=4&keys=8<key>&reference_state=California&reference_city=San+Francisco&locationId=23234&dc_rating=1&tilt=20&azimuth=180&derate=80&cost=0.1&array_type=0" for <server_ip_address> at Tue Nov 20 20:07:18 -0800 2012
Processing by ProjectsController#annual_production as */*
Parameters: {"array_type"=>"0", "azimuth"=>"180", "locationId"=>"23234", "dc_rating"=>"1", "reference_city"=>"San Francisco", "keys"=>"<key>", "id"=>"4", "derate"=>"80", "reference_state"=>"California", "cost"=>"0.1", "tilt"=>"20"}
Project Load (0.2ms)  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "4"]]
Completed 500 Internal Server Error in 282ms

NameError (uninitialized constant Savon::Request):
app/controllers/projects_controller.rb:1697
app/controllers/projects_controller.rb:1628:in `annual_production'

Rendered /var/lib/gems/1.8/gems/actionpack-3.2.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /var/lib/gems/1.8/gems/actionpack-3.2.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
Rendered /var/lib/gems/1.8/gems/actionpack-3.2.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.0ms) 
```

有人知道我在做什么错吗？

这是我安装的宝石列表

```
root@sv-001:/home/user/myapp# gem list

*** LOCAL GEMS ***

actionmailer (3.2.9)
actionpack (3.2.9)
activemodel (3.2.9)
activerecord (3.2.9)
activeresource (3.2.9)
activesupport (3.2.9)
akami (1.2.0)
arel (3.0.2)
builder (3.0.4)
bundler (1.2.2, 1.2.1)
coffee-rails (3.2.2)
coffee-script (2.2.0)
coffee-script-source (1.4.0)
erubis (2.7.0)
execjs (1.4.0)
git (1.2.5)
gyoku (0.4.6)
hike (1.2.1)
httpi (1.1.1)
i18n (0.6.1)
jeweler (1.8.4)
journey (1.0.4)
jquery-rails (2.1.3)
json (1.7.5)
libv8 (3.3.10.4 x86-linux)
mail (2.4.4)
mime-types (1.19)
multi_json (1.3.7)
nokogiri (1.5.5)
nori (1.1.3)
polyglot (0.3.3)
rack (1.4.1)
rack-cache (1.2)
rack-ssl (1.3.2)
rack-test (0.6.2)
rails (3.2.9)
railties (3.2.9)
rake (10.0.2, 10.0.1)
rdoc (3.12)
sass (3.2.3)
sass-rails (3.2.5)
savon (1.2.0)
sprockets (2.2.1)
sqlite3 (1.3.6)
therubyracer (0.10.2)
thor (0.16.0)
tilt (1.3.3)
treetop (1.4.12)
tzinfo (0.3.35)
uglifier (1.3.0)
wasabi (2.5.1) 
```

这是我的 ruby​​ 和 rails 版本

```
root@sv-001:/home/user/myapp# gem -v
1.8.15
root@sv-001:/home/user/myapp# ruby -v
ruby 1.8.7 (2011-06-30 patchlevel 352) [i686-linux]
root@sv-001:/home/user/myapp# rails -v
Rails 3.2.9
root@sv-001:/home/user/myapp# 
```

更新 1

```
NoMethodError (undefined method `debug' for :logger:Symbol):
app/controllers/projects_controller.rb:1757:in `yearly_production'
app/controllers/projects_controller.rb:1638:in `annual_production' 
```

更新 2

```
NoMethodError (undefined method `get_pvwatts' for #<Savon::Client:0xb275c15c>):
app/controllers/projects_controller.rb:1737:in `yearly_production'
app/controllers/projects_controller.rb:1628:in `annual_production' 
```

更新 3

对我有用的代码如下：

```
Savon.configure do |c|
   c.log = false
   c.logger = Rails.logger
end

client = Savon::Client.new do
    wsdl.document = "http://pvwatts.nrel.gov/PVWATTS.asmx?WSDL"
end

response = client.request :wsdl, "get_pvwatts" do
  soap.body = req
end

rdata = response.to_hash 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T02:51:52.413

Savon 的语法自从 1.x 版本以来发生了变化。您已安装最新版本。

我使用名为 SoapUI 的工具调查了有问题的 Web 服务。我在开发 SOAP 客户端时强烈推荐它。您可以在工具之外创建调用，并且可以在编写实际源代码之前在 SOAP 级别上进行修改。对于这个给予（遗留？）网络服务，您需要明确设置 SOAPAction。

我把所有这些都放在一个工作的 Ruby 脚本中。我没有使用 WSDL。Savon 的 WSDL 支持不完整。作者正在开发一个改进的版本。我对命名空间和端点进行了“硬编码”。

```
#!ruby

require 'savon'
require 'pp'

Savon.configure do |c|
  c.log = true
  c.pretty_print_xml = true
end

client = Savon::Client.new do
  # wsdl.document = "http://pvwatts.nrel.gov/PVWATTS.asmx?WSDL"
  wsdl.endpoint = "http://pvwatts.nrel.gov/PVWATTS.asmx"
  wsdl.namespace = "http://pvwatts.nrel.gov"
end

begin
  response  = client.request :pvw, "GetPVWATTS" do
    http.headers['SOAPAction'] = '"http://pvwatts.nrel.gov/GetPVWATTS"'
    soap.body = { 'pvw:key' => 'your_secret',
                  'pvw:latitude' => 43,
                  'pvw:longitude' => 280 }
  end
  pp response.to_hash
rescue Savon::SOAP::Fault => error
  print error
end 
```

它没有在我的机器上返回有效结果，因为我缺少授权码。让我们知道这是否有助于您迈出下一步。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T19:06:23.810

那个图书馆挺旧的，看来这两年Savon变了。有问题的类现在似乎被调用了`Savon::SOAP::Request`，它不再有`log=`方法。仅仅通过观察代码，我*认为*你可以简单地删除所有引用`Savon::Request`，你应该没问题。

# c# - .NET Remoting，为什么列表不是可远程处理的？

> ID：13486467
> 
> 赞同：5
> 
> 时间：2012-11-21T04:43:07.603
> 
> 标签：c#, .net, remoting, binaryformatter

我正在使用`RemotingServices.Marshal`and`Activator.GetObject`在驻留在同一台计算机上的两个简单程序之间建立远程处理通道。

```
public class IpcInterface : MarshalByRefObject
{
    public int number = -1;
    public string text = "default";
    public List<String> strings;
}
// A simplification 
```

我已确认该频道存在并且可以进行通信，因为这两个程序都已成功更改`number`并`text`具有完全独特的值（已确认）。

所以我立即尝试对`strings`.

在一个程序中，我调用了`strings.Add("1")`. 我尝试阅读`strings`第二个程序的内容。它是*空*的。更重要的是，计数是`0`。我不知道为什么`strings`继续有`0`对象，就好像我从未添加过它们一样。同样的事情发生在 a `Stack<T>`and`Dictionary<T, K>`上，我只是不能向它添加任何元素。为了确保引用类型一般不会发生什么奇怪的事情，我还尝试`StringBuilder`在 IPC 接口类中放置一个，并且在两个程序中成功地维护了“状态”，从而改变了它的值。

**问题：为什么没有添加字符串列表，解决方案是什么？**

我希望有经验的人可以立即发现这个问题。我尝试用谷歌搜索类似的问题，但没有得到任何有用的结果。令人惊讶的是，我只有 1 个用于谷歌搜索“*调试 .net 远程透明代理*”的好链接。这也是我的第二个问题。如何调试透明代理对象？

1.  所有对象都被正确实例化（没有 NullReferenceException；事实上，没有异常）。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-21T05:00:20.450

问题在于它`List<T>`本身不是一个`MarshalByRefObject`，而是一个可序列化的类。当您调用`Add()`列表中的方法时，您实际上正在做的是要求远程对象序列化其列表，在本地反序列化，然后在本地对象上调用该方法。您的更改将永远不会传播回列表对象的远程实例。

你必须在你的`IpcInterface`类中提供方法来操作列表；因为此类型继承自`MarshalByRefObject`，所以将在远程对象而不是本地反序列化实例上调用方法。

IE

```
public class IpcInterface : MarshalByRefObject {
    public List<String> strings;

    public void Add(string value) {
        strings.Add(value);
    }
} 
```

您可能还希望将其公开`strings`为只读集合，否则您给人的印象是它可以被直接操作（它不能）。

# ruby-on-rails - 在部署 Rails 应用程序期间，工头启动 Heroku 时出错

> ID：13486470
> 
> 赞同：0
> 
> 时间：2012-11-21T04:43:33.303
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku, ruby-on-rails-3.2, heroku-toolbelt

我尝试从 Rails 3.2.6 和 Heroku 开始。我的 Ruby 版本是 1.9.3，我的 database.yml 是这样的：

```
development:
  adapter: postgresql
  encoding: utf8
  reconnect: false
  database: iscubeonror_development
  pool: 5
  username: rails
  password: rails
  host: localhost

test:
  adapter: postgresql
  encoding: utf8
  reconnect: false
  database: iscubeonror_test
  pool: 5
  username: root
  password:
  host: localhost

production:
  adapter: postgresql
  encoding: utf8
  reconnect: false
  database: iscubeonror_production
  pool: 5
  username: root
  password:
  host: localhost 
```

我的 procfile 是

```
web: bundle exec rails server thin -p $PORT -e $RACK_ENV 
```

我在 production.rb、development.rb 和 test.rb 上有这个：

```
 config.active_support.deprecation = :notify
 config.active_support.deprecation = :stderr
 config.active_support.deprecation = :stderr 
```

最后我正在使用 Windows，我的 Gemfile 是

```
gem 'rails', '3.2.6'
gem 'pg'
gem 'thin'
gem "foreman" 
```

当在终端**heroku 日志**上写入时，它给了我警告

```
2012-11-20T18:05:32+00:00 app[web.1]: DEPRECATION WARNING: You have Rails 2.3-st
yle plugins in vendor/plugins! Support for these plugins will be removed in Rail
s 4.0\. Move them out and bundle them in your Gemfile, or fold them in to your ap
p as lib/myplugin/* and config/initializers/myplugin.rb. See the release notes f
or more on this: http://weblog.rubyonrails.org/2012/1/4/rails-3-2-0-rc2-has-been
-released. (called from <top (required)> at /app/config/environment.rb:5)
2012-11-20T18:05:32+00:00 app[web.1]: DEPRECATION WARNING: You have Rails 2.3-st
yle plugins in vendor/plugins! Support for these plugins will be removed in Rail
s 4.0\. Move them out and bundle them in your Gemfile, or fold them in to your ap
p as lib/myplugin/* and config/initializers/myplugin.rb. See the release notes f
or more on this: http://weblog.rubyonrails.org/2012/1/4/rails-3-2-0-rc2-has-been
-released. (called from <top (required)> at /app/config/environment.rb:5)
2012-11-20T18:05:35+00:00 app[web.1]: => Ctrl-C to shutdown server
2012-11-20T18:05:35+00:00 app[web.1]: => Booting Thin
2012-11-20T18:05:35+00:00 app[web.1]: => Rails 3.2.6 application starting in pro
duction on http://0.0.0.0:52284
2012-11-20T18:05:35+00:00 app[web.1]: => Call with -d to detach 
```

当写在终端**领班开始时**它给了我

```
D:\Kalpesh\web\iscubeonror> foreman start
19:37:27 web.1  | started with pid 3868
19:38:18 web.1  | You did not specify how you would like Rails to report depreca
tion notices for your $RACK_ENV environment, please set config.active_support.de
precation to :log, :notify or :stderr at config/environments/$RACK_ENV.rb 
```

由于这个原因，我的瘦服务器没有启动，
尽管我按照 [https://devcenter.heroku.com/articles/rails3#deploy-your-application-to-heroku](https://devcenter.heroku.com/articles/rails3#deploy-your-application-to-heroku)的所有步骤操作我应该怎么做， 请紧急回复我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T11:49:39.433

你应该阅读：

```
You did not specify how you would like Rails to report depreca
tion notices for your $RACK_ENV environment, please set config.active_support.de
precation to :log, :notify or :stderr at config/environments/$RACK_ENV.rb 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-25T15:28:16.150

我认为您需要在 .env 中定义一些环境变量：

```
RACK_ENV=development
PORT=3000 
```

# iphone - 如何使 iCarousel 视图居中

> ID：13486473
> 
> 赞同：2
> 
> 时间：2012-11-21T04:44:10.453
> 
> 标签：iphone, ios, icarousel

我有 6 个按钮，我想使用 iCarousel 制作动画，代码如下

```
- (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index reusingView:(UIView *)view
{
UIButton *button = (UIButton *)view;
if (button == nil)
{
    self.icon = [NSMutableArray arrayWithObjects:@"icon-02.png",@"icon-03.png",@"icon-04.png",@"icon-05.png",@"icon-06.png",@"icon-07.png",nil];

    //no button available to recycle, so create new one
    UIImage *image = [UIImage imageNamed:[icon objectAtIndex:index]];
    button = [UIButton buttonWithType:UIButtonTypeCustom];
    button.frame = CGRectMake(0.0, 0.0, 130.0f, 130.0f);
    [button setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
    [button setBackgroundImage:image forState:UIControlStateNormal];
    //button.titleLabel.font = [button.titleLabel.font fontWithSize:50];
    //[button addTarget:self action:@selector(buttonTapped:) forControlEvents:UIControlEventTouchUpInside];
}

return button;
} 
```

但是按钮不在中心，现在有没有人热心让旋转木马在中心，我已经调整了 uiview 的大小但仍然无法正常工作。谢谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T07:54:31.313

carousel 和 carousel 项目默认应该居中（它们在 iCarousel 包含的示例项目中，它们没有做任何特别的事情）。无需调整笔尖中旋转木马的位置（除非它没有明显居中）。如果这没有按预期工作，您可能发现了一个错误 - 您可以在项目的 github 页面上提出问题吗？

无关：您那里的按钮回收逻辑完全错误，只是巧合。除其他事项外，您正在重新创建图标数组 6 次。

创建按钮的正确方法是这样的：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    //set up icons array
     self.icon = [NSMutableArray arrayWithObjects:@"icon-02.png",@"icon-03.png",@"icon-04.png",@"icon-05.png",@"icon-06.png",@"icon-07.png",nil];
}

- (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index reusingView:(UIView *)view
{
    UIButton *button = (UIButton *)view;
    if (button == nil)
    {
        //*************************************************
        //do setup that is the same for every button here
        //*************************************************

        button = [UIButton buttonWithType:UIButtonTypeCustom];
        button.frame = CGRectMake(0.0, 0.0, 130.0f, 130.0f);
        [button setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
        //button.titleLabel.font = [button.titleLabel.font fontWithSize:50];
        //[button addTarget:self action:@selector(buttonTapped:) forControlEvents:UIControlEventTouchUpInside];
    }

    //*************************************************
    //do setup that is different depending on index here
    //*************************************************

    UIImage *image = [UIImage imageNamed:[icon objectAtIndex:index]];
    [button setBackgroundImage:image forState:UIControlStateNormal];

    return button;
} 
```

# java - 在 WebView 中从本地客户端浏览 HTML 文件

> ID：13486474
> 
> 赞同：2
> 
> 时间：2012-11-21T04:44:15.413
> 
> 标签：java, swing, javafx-2, javafx

我正在混合 JavaFX 控件来摆动应用程序。我想`WebView`在 Swing 应用程序中使用 JavaFX 控制。我可以`JEditorPane`在 Java 的帮助下浏览存储在客户端本地硬盘上的 HTML 文件吗？Web View 可以显示来自 Internet 的网页，但也可以浏览本地系统 HTML 文件。

在`WebView`我使用以下代码。

```
try
{ 
   final WebView webview = new WebView();
   webview.getEngine().load("http://oracle.com");
}
 catch(Exception ex)
 {
    ex.printStackTrace();
 } 
```

我的查询不是来自网络的网页，如何在加载方法中提供本地 HTML 文件？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-21T04:54:35.183

```
File f = new File(..);
// ..
final WebView webview = new WebView();
webview.getEngine().load(f.toURI().toURL().toString()); 
```

# javascript - 如何从包含 JavaScript 中重复项的数组中获取唯一值数组？

> ID：13486479
> 
> 赞同：109
> 
> 时间：2012-11-21T04:44:39.390
> 
> 标签：javascript, arrays, unique

给定一个`['0','1','1','2','3','3','3']`数组，结果应该是`['0','1','2','3']`。

* * *

## 回答 #1

> 赞同：257
> 
> 时间：2013-07-27T22:19:04.143

已编辑

ES6 解决方案：

```
[...new Set(a)]; 
```

选择：

```
Array.from(new Set(a)); 
```

旧回应。O(n^2) （不要将它与大型数组一起使用！）

```
var arrayUnique = function(a) {
    return a.reduce(function(p, c) {
        if (p.indexOf(c) < 0) p.push(c);
        return p;
    }, []);
}; 
```

* * *

## 回答 #2

> 赞同：52
> 
> 时间：2012-11-21T04:50:51.233

如果你想维持秩序：

```
arr = arr.reverse().filter(function (e, i, arr) {
    return arr.indexOf(e, i+1) === -1;
}).reverse(); 
```

由于没有内置的反向索引，我反转数组，过滤掉重复项，然后重新反转它。

filter 函数在当前索引之后（在原始数组中之前）查找任何出现的元素。如果找到一个，它会抛出这个元素。

**编辑：**

或者，您可以使用 lastindexOf （如果您不关心订单）：

```
arr = arr.filter(function (e, i, arr) {
    return arr.lastIndexOf(e) === i;
}); 
```

这将保留唯一元素，但仅保留最后一次出现。这意味着 ['0', '1', '0'] 变为 ['1', '0']，而不是 ['0', '1']。

* * *

## 回答 #3

> 赞同：26
> 
> 时间：2013-04-04T08:48:40.413

这是一个数组原型函数：

```
Array.prototype.unique = function() {
    var unique = [];
    for (var i = 0; i < this.length; i++) {
        if (unique.indexOf(this[i]) == -1) {
            unique.push(this[i]);
        }
    }
    return unique;
}; 
```

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2014-04-03T14:22:51.380

带[下划线](http://underscorejs.org/#uniq)

```
_.uniq([1, 2, 1, 3, 1, 4]); //=> [1, 2, 3, 4] 
```

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2014-10-22T18:07:03.837

现在是 2014 年，时间复杂度仍然很重要！

```
array.filter(function() {
  var seen = {};
  return function(element, index, array) {
    return !(element in seen) && (seen[element] = 1);
  };
}()); 
```

[http://jsperf.com/array-filter-unique/13](http://jsperf.com/array-filter-unique/13)

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2012-11-21T04:50:04.870

```
function array_unique(arr) {
    var result = [];
    for (var i = 0; i < arr.length; i++) {
        if (result.indexOf(arr[i]) == -1) {
            result.push(arr[i]);
        }
    }
    return result;
} 
```

不是内置函数。如果产品列表不包含该项目，则将其添加到唯一列表并返回唯一列表。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2013-07-09T15:13:37.063

给你！不客气！

```
Array.prototype.unique = function()
{
    var tmp = {}, out = [];
    for(var i = 0, n = this.length; i < n; ++i)
    {
        if(!tmp[this[i]]) { tmp[this[i]] = true; out.push(this[i]); }
    }
    return out;
}

var a = [1,2,2,7,4,1,'a',0,6,9,'a'];
var b = a.unique();
alert(a);
alert(b); 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2014-04-24T08:41:08.143

你可以在这里找到各种数组唯一的实现：

[http://jsperf.com/distinct-hash-vs-comparison/12](http://jsperf.com/distinct-hash-vs-comparison/12)

[http://jsperf.com/array-unique-functional](http://jsperf.com/array-unique-functional)

我更喜欢功能风格，例如：

```
var arr = ['lol', 1, 'fdgdfg', 'lol', 'dfgfg', 'car', 1, 'car', 'a', 'blah', 'b', 'c', 'd', '0', '1', '1', '2', '3', '3', '3', 'crazy', 'moot', 'car', 'lol', 1, 'fdgdfg', 'lol', 'dfgfg', 'car', 1, 'car', 'a', 'blah', 'b', 'c', 'd', '0', '1', '1', '2', '3', '3', '3', 'crazy', 'moot', 'car', 'lol', 1, 'fdgdfg'];

var newarr = arr.reduce(function (prev, cur) {
    //console.log(prev, cur);
    if (prev.indexOf(cur) < 0) prev.push(cur);
    return prev;
}, []);

var secarr = arr.filter(function(element, index, array){
    //console.log(element, array.indexOf(element), index);
    return array.indexOf(element) >= index;
});

//reverses the order
var thirdarr = arr.filter(function (e, i, arr) {
    //console.log(e, arr.lastIndexOf(e), i);
    return arr.lastIndexOf(e) === i;
});

console.log(newarr);
console.log(secarr);
console.log(thirdarr); 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-07-30T09:07:05.313

我喜欢用这个。使用 for 循环没有任何问题，我只是喜欢使用内置函数。您甚至可以为类型转换或非类型转换匹配传入一个布尔参数，在这种情况下，您将使用 for 循环（`filter()`方法/函数进行类型转换匹配 (===)）

```
Array.prototype.unique =
function()
{
    return this.filter(
        function(val, i, arr)
        {
            return (i <= arr.indexOf(val));
        }
    );
} 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2014-12-26T14:54:15.807

这是您可以从**数组中删除重复值的方法。**

```
function ArrNoDupe(dupArray) {
   var temp = {};
    for (var i = 0; i < dupArray.length; i++) {
         temp[dupArray[i]] = true;
         var uniqueArray = [];
       for (var k in temp)
           uniqueArray.push(k);
 return uniqueArray;
    }
} 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2013-05-15T21:14:14.737

这将起作用。试试看。

```
function getUnique(a) {
  var b = [a[0]], i, j, tmp;
  for (i = 1; i < a.length; i++) {
    tmp = 1;
    for (j = 0; j < b.length; j++) {
      if (a[i] == b[j]) {
        tmp = 0;
        break;
      }
    }
    if (tmp) {
      b.push(a[i]);
    }
  }
  return b;
} 
```

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2012-11-21T04:44:39.390

```
function array_unique(nav_array) {
    nav_array = nav_array.sort(function (a, b) { return a*1 - b*1; });      
    var ret = [nav_array[0]];       
    // Start loop at 1 as element 0 can never be a duplicate
    for (var i = 1; i < nav_array.length; i++) { 
        if (nav_array[i-1] !== nav_array[i]) {              
            ret.push(nav_array[i]);             
        }       
    }
    return ret;     
} 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2015-02-24T21:54:19.503

另一种方法是使用对象来初始存储数组信息。然后转换回来。例如：

```
var arr = ['0','1','1','2','3','3','3'];
var obj = {};

for(var i in arr) 
    obj[i] = true;

arr = [];
for(var i in obj) 
    arr.push(i); 
```

变量“arr”现在包含 [“0”、“1”、“2”、“3”、“4”、“5”、“6”]

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2013-07-19T16:00:01.670

没有多余的“返回”数组，没有 ECMA5（我很确定！）并且易于阅读。

```
function removeDuplicates(target_array) {
    target_array.sort();
    var i = 0;

    while(i < target_array.length) {
        if(target_array[i] === target_array[i+1]) {
            target_array.splice(i+1,1);
        }
        else {
            i += 1;
        }
    }
    return target_array;
} 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2014-09-20T17:34:03.137

那些使用 google 闭包库的人，可以随意使用`goog.array.removeDuplicates`，这与 unique 相同。但是，它会更改数组本身。

* * *

## 回答 #16

> 赞同：-2
> 
> 时间：2013-11-07T02:12:29.227

```
 //
    Array.prototype.unique =
    ( function ( _where ) {
      return function () {
        for (
          var
          i1 = 0,
          dups;
          i1 < this.length;
          i1++
        ) {
          if ( ( dups = _where( this, this[i1] ) ).length > 1 ) {
            for (
              var
              i2 = dups.length;
              --i2;
              this.splice( dups[i2], 1 )
            );
          }
        }
        return this;
      }
    } )(
      function ( arr, elem ) {
        var locs  = [];
        var tmpi  = arr.indexOf( elem, 0 );
        while (
          ( tmpi ^ -1 )
          && (
            locs.push( tmpi ),
            tmpi = arr.indexOf( elem, tmpi + 1 ), 1
          )
        );
        return locs;
      }
    );
    // 
```

* * *

## 回答 #17

> 赞同：-4
> 
> 时间：2014-03-27T10:43:05.013

```
Array.prototype.unique =function(){
    var uniqObj={};
    for(var i=0;i< this.length;i++){
      uniqObj[this[i]]=this[i]; 
    }
    return uniqObj;
} 
```

# php - 服务器端推送 PHP (Comet)

> ID：13486483
> 
> 赞同：0
> 
> 时间：2012-11-21T04:44:53.720
> 
> 标签：php

我已经花了很多时间，但找不到任何好的 commet 示例。我和我的朋友正在用PHP开发一个小型聊天软件，我急需commet的东西，如果有人能用简单的话解释一下。我会很感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T04:53:06.073

有几种方法可以实现：

*   重复轮询
*   服务器推送
*   长轮询

如果`repeated polling`您的客户端在一定间隔后不断轮询服务器以检查是否有新消息。

如果`server push`您的客户端通过套接字或类似的方式维护并主动连接到服务器，然后服务器通过推送通知客户端

如果`long polling`客户端发出请求，服务器不会立即响应，而是等待直到有消息要发送。因此，要么在一段时间后客户端收到消息，要么客户端超时并开始一个新请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:56:11.337

Commet 只是长轮询的另一种方式。本质上，您使用 jquery 之类的东西来调用服务器。服务器保持该调用打开，直到它：

*   有数据要返回或
*   指定的时间已经过去

当服务器返回时，您的 jquery 对可能已返回的任何数据执行某些操作，然后启动对服务器的另一个调用。

javascript函数的一个例子如下：

```
function commetpoll() {
    $.get("/myserversidescript.php", {}, function(data) {
        //Do something with data
        commetpoll();
    }));
}; 
```

# jquery - jquery 选择器没有找到动态插入的输入

> ID：13486490
> 
> 赞同：1
> 
> 时间：2012-11-21T04:45:25.573
> 
> 标签：jquery, dynamic, field

我有一个带有货币值输入字段的表单，它们的值在 keyup 事件上加在一起，并将总数插入另一个输入字段。这很好用。

```
<table id="itemsqty"><tr><th style="min-width: 4em;">Qty</th><th style="min-width: 10em;">Description</th><th style="width: 4em;">Price</th></tr>
<tr><td><select name="qty[]" id="qty0"><option selected="selected">1</option>    <option>2</option><option>3</option><option>4</option><option>5</option></select></td><td>    <input placeholder="Enter item name in here" type="text" name="item[]" id="item0" /></td>    <td><input class="itemprice" placeholder="Total price for this item" type="text"      name="itemprice[]" id="itemprice0" /></td></tr>
<tr><td><select name="qty[]" id="qty1"><option selected="selected">1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></td><td><input placeholder="Enter item name in here" type="text" name="item[]" id="item1" /></td><td><input class="itemprice" placeholder="Total price for this item" type="text"  name="itemprice[]" id="itemprice1" /></td></tr>
<tr><td><select name="qty[]" id="qty2"><option selected="selected">1</option>   <option>2</option><option>3</option><option>4</option><option>5</option></select></td><td>  <input placeholder="Enter item name in here" type="text" name="item[]" id="item2" /></td><td><input class="itemprice" placeholder="Total price for this item" type="text"  name="itemprice[]" id="itemprice2" /></td></tr>
<tr id="totalrow"><td><a href="javascript:;" id="addanotherlnk">Add another item</a></td><td style="text-align: right;padding-right: 7px;float: right;"><label for="gtotal" >Total:</label></td><td><input readonly type="text" name="gtotal" id="gtotal" value="£0.00" /></td></tr></table> 
```

使用此脚本更新总输入字段 (#gtotal) 的值，它工作正常：

```
$('.itemprice').live("keyup", function (event) {
    var t = 0;
    for (var ip=0; ip <3; ip++){
        a = $('#itemprice'+ip).val();
        a = a.replace("£","");
        //t = t + a;
        t = Number(t) + Number(a);
    }

    //then add all values
    $('#gtotal').val('');
    var formattedMoney = '£' + t.formatMoney(2,',','.');
    $('#gtotal').val(formattedMoney);
}); 
```

然后，用户可以使用触发此脚本的链接添加新字段：

```
$('#addanotherlnk').click(function(){
    //count number of items of same class
    var ic;
    ic = $('.itemprice').length;

    $('<tr><td><select name="qty[]" id="qty'+ic+'"><option selected="selected">1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></td><td><input placeholder="Enter item name in here" type="text" name="item[]" id="item'+ic+'" /></td><td><input class="itemprice" placeholder="Total price for this item" type="text"  name="itemprice[]" id="itemprice'+ic+'" /></tr>').insertBefore('#totalrow');
}); 
```

这工作正常，并为输入添加了一个唯一的 ID/但是，更新总数的脚本似乎无法识别这个新的输入字段。我知道这与这是一个动态添加的字段有关，因此我使用 jquery .live() 方法，但这并没有解决问题。

非常感谢所有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:05:08.870

您的 keyup 处理程序被编码为仅循环前 3 个元素 - 您已硬编码了 3 个限制：

```
for (var ip=0; ip <3; ip++){ 
```

相反，您应该使用“itemprice”类遍历所有元素：

```
var t = 0;
$('.itemprice').each(function() {
    t += Number( this.value.replace("£","") );
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:06:37.637

您的问题是...您在 for 循环中对 3 进行了编码...因此它采用 3 输入的值，而动态添加的输入实际上并未添加到总数中...

我建议你创建一个函数来进行总计算.....并在 keyup 函数中调用它

试试这个：

```
function sumItemprice()  // function to calculate the sum
{
   var sum=0;
   $.each($('input.itemprice'),function(){ //select all ur input with the classname
     //add only if the value is number
      if(!isNaN($(this).val()) && $(this).val().length!=0)
      {
          sum += parseFloat($(this).val());  // DO YOUR STUFF HERE (REPLACE or sumthing..)
      }
   });

  $('#gtotal').val(sum);
} 
```

和 keyup 功能

```
$('.itemprice').bind("keyup",sumItemprice); 
```

**注意**：不推荐使用 live()，建议使用 on()。

# regex - Htaccess Regex - 重定向带有加号和百分比字符的网址

> ID：13486491
> 
> 赞同：0
> 
> 时间：2012-11-21T04:45:27.837
> 
> 标签：regex, apache, .htaccess, http, redirect

当 URL 包含 + 或 % 字符时，我想将该 URL 重定向到我编写的 php 重定向脚本。正则表达式 (.+)(?:+|%)(.*)? 可以工作并找到包含 + 或 % 的任何 URL，但在 htaccess 中使用时它将无法工作，例如 -

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} (.+)(?:\+|%)(.+)?
RewriteRule ^(.*)$ /directory/content/my-redirect-rewrite.php [L] 
```

我究竟做错了什么？谢谢参观。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T07:40:10.657

由于您没有使用 RewriteCond 捕获组，因此不需要 ?: 并且也不需要 (.+) 组。试试这个，`R=302`如果您不希望它实际更改浏览器中显示的 url ，请删除

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} (\+|\%)
RewriteRule ^(.*)$ /directory/content/my-redirect-rewrite.php [R=302,NC,L] 
```

# ios - facebook 应用程序的最后活动时间？

> ID：13486492
> 
> 赞同：1
> 
> 时间：2012-11-21T04:45:33.143
> 
> 标签：ios, facebook, time, android-activity

我的 iOS 应用程序集成了 Facebook，它显示了一组安装了该应用程序的用户（Facebook 朋友）。该列表必须根据用户的最后活动时间进行排序。

是否可以从 facebook 获取最后的活动时间？如果有关于如何获取这些信息的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T20:49:29.620

您将无法获得用户上次在 Facebook 上活跃的时间。您可能必须（在您的服务器上）管理用户最后一次访问您的应用程序并使用它来订购列表。

# iphone - ios - 以编程方式调整自定义视图的大小

> ID：13486495
> 
> 赞同：2
> 
> 时间：2012-11-21T04:45:45.543
> 
> 标签：iphone, ios, uiviewcontroller, storyboard, containers

在我实施更大的项目之前，这只是一个测试项目:-)

根据图像，我在 1 个 ViewController 中创建了 2 个自定义视图。我需要它们重叠或至少移开并再次在应用程序内返回。

我曾尝试查找自定义视图，但我很幸运。

我希望使用此代码或类似的东西：

```
-(IBAction)move02Action
{
   [UIView beginAnimations:nil context:NULL];
   [UIView setAnimationDuration:0.5];
       _left.view.frame = CGRectMake(80, 70, 160, 380);  //_left is Left UIViewContorller
       _right.view.frame = CGRectMake(240, 70, 160, 380); //_right is Right UIViewContorller
   [UIView commitAnimations];
} 
```

我意识到这是针对 UIViews 而不是 View Controllers。关于在哪里看的任何想法？

![故事板](../Images/c188c6f3759ff581b09f26ca00636dcc.png)

感谢您的洞察力:-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:15:37.770

您可以像这样使用包含视图控制器

```
 UIView *view = [[UIView alloc] initWithFrame:CGRectMake((80, 70, 160, 380))];
 [view setBackgroundColor:[UIColor whiteColor]];
[self.view addSubview:view];

LeftViewController *left = [[LeftViewController alloc] init];

left.view.frame = view.bounds; 
[left  setDelegate:self];
[view addSubview:left .view];

[left  didMoveToParentViewController:self];
[self addChildViewController:left ]; 
```

查看[“实现容器视图控制器”](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html)文档。

**编辑**

1）向self.view添加一个ScrollView，并在滚动视图中添加两个不同帧的视图使用上面建议的代码添加视图。

2）像这样在必要时为滚动视图设置内容

```
 CGPoint bottomOffset = CGPointMake(scrolposition, scrollView.contentSize.height - scrollnView.bounds.size.height);
    [scrollView setContentOffset:bottomOffset animated:NO]; 
```

如果您想要重叠视图的效果，请使用 `[[self view] bringSubviewToFront:[self LeftView]];`和 `[[self view] sendSubviewToBack:LeftView];`

# r - 分组条形图中的堆积条形图

> ID：13486501
> 
> 赞同：21
> 
> 时间：2012-11-21T04:46:09.553
> 
> 标签：r, ggplot2

我有以下图表

```
test <- expand.grid('cat' = LETTERS[1:5], 'cond'= c(F,T), 'year' = 2001:2005)
test$value <- floor((rnorm(nrow(test)))*100)
test$value[test$value < 0] <- 0

ggplot() +
  geom_bar(data=test, aes(y = value, x = year, fill = cat), stat="identity",position='dodge') +
  theme_bw() 
```

![测试](../Images/3f7ea7f880e9203d19f954f7a061891e.png) 我需要将每个“猫”除以“条件”（真或假）。我怎么做？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-11-23T13:20:22.920

您可以放在`cat`x 轴上并使用`facet_grid`with `year`：

```
ggplot() +
  geom_bar(data=test, aes(y = value, x = cat, fill = cond), stat="identity",
           position='stack') +
  theme_bw() + 
  facet_grid( ~ year) 
```

![在此处输入图像描述](../Images/0aee7f9ec7e53223037f743eebe937bc.png)

# c# - 来自文本文件的数据表？

> ID：13486503
> 
> 赞同：3
> 
> 时间：2012-11-21T04:46:11.000
> 
> 标签：c#, datatable, sqldataadapter

我接管了另一个开发人员编写的应用程序，它从数据库中读取数据并将其导出。

开发人员使用了 DataTables 和 DataAdaptor。

所以，

```
 _dataAdapter = new SqlDataAdapter("Select * From C....", myConnection); 
```

接着

```
ExtractedData = new DataTable("CreditCards");
_dataAdapter.Fill(ExtractedData); 
```

然后将 ExtractedData 传递以执行不同的功能。

现在有人告诉我，除此之外，我还需要从一些逗号分隔的文本文件中获取相同格式的数据。该应用程序执行相同的处理 - 它只是从两个来源获取数据。

所以，我想知道我是否可以将数据读入 DataTable，如上所述，然后从 CSV 文件中添加更多记录。

这可能吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-21T05:57:23.600

您可能需要使用此函数`DataTable`从文件中读取数据。

```
public DataTable GetDataSourceFromFile(string fileName)
{
    DataTable dt = new DataTable("CreditCards");
    string[] columns = null;

    var lines = File.ReadAllLines(fileName);

    // assuming the first row contains the columns information
    if (lines.Count() > 0)
    {
        columns = lines[0].Split(new char[] { ',' });

        foreach (var column in columns)
            dt.Columns.Add(column);
    }

    // reading rest of the data
    for (int i = 1; i < lines.Count(); i++)
    {
        DataRow dr = dt.NewRow();
        string[] values = lines[i].Split(new char[] { ',' });

        for (int j = 0; j < values.Count() && j < columns.Count(); j++)
            dr[j] = values[j];

        dt.Rows.Add(dr);
    }
    return dt;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T04:55:33.897

这绝对是可能的。
DataTable 有一个 NewRow 方法，所以我能看到的最简单的蛮力方法是一次读取文本文件一行，解析字符串 (split(",") 然后填充行的字段。然后你需要将新行添加到 DataTable 的 Rows 集合中。
可能有更聪明的方法可以做到这一点，但这似乎相当容易实现（不了解您的架构）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:57:23.963

好的，试试这个：

```
public string[] getColumns(bool ColumnNames)
{
    try {
        StreamReader fileReader = new StreamReader(FileName);
        string line = fileReader.ReadLine;
        fileReader.Close();
        string[] Columns = line.Split(",");
        if (ColumnNames) {
            return Columns;
        }
        int i = 1;
        int c = 0;
        string[] columnsNames = new string[Columns.Count];
        foreach (string column in Columns) {
            columnsNames(c) = "column" + i;
            i += 1;
            c += 1;
        }
        return columnsNames;
    } catch (Exception ex) {
        //log to file    
    }
    return null;
} 
```

和

```
public DataTable ReturnData(bool ColumnNames)
{
    try {
        DataTable dt = new DataTable();
        foreach ( columnName in getColumns(ColumnNames)) {
            dt.Columns.Add(columnName);
        }
        StreamReader fileReader = new StreamReader(FileName);
        if (ColumnNames) {
            fileReader.ReadLine();
        }
        string line = fileReader.ReadLine;
        while ((line != null)) {
            line = line.Replace(Strings.Chr(34), "");
            dt.Rows.Add(line.Split(","));
            line = fileReader.ReadLine;
        }
        fileReader.Close();
        return dt;
    } catch (Exception ex) {
        //log to file
    }
    return null;
} 
```

# iphone - UIAlertView 弹出窗口锁定键盘操作

> ID：13486506
> 
> 赞同：0
> 
> 时间：2012-11-21T04:46:22.997
> 
> 标签：iphone, objective-c, xcode

我有一个奇怪的行为，如果 UIAlert 触发（如下面的那个），所有后续的键盘或按下行为都被禁用/无响应。滚动屏幕仍然有效，但任何按钮或键盘按下都不会触发任何操作。

```
 [[[[UIAlertView alloc] initWithTitle:@"Invalid Address"
                                     message:@"The email address you entered isn't valid. Please check and try again."
                                    delegate:self
                           cancelButtonTitle:@"OK"
                           otherButtonTitles:nil] autorelease] show]; 
```

任何人以前经历过这种行为并且可以阐明一些问题吗？或者也许引导我朝着正确的方向进一步调试它以找到根本原因？

谢谢各位！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T04:56:55.787

您是否使用过任何 UIAlertView 代表，例如 didDismissWithButtonIndex ？

然后交叉检查委托 UIAlertview 委托方法实现。

别的

只需将委托作为 nil 传递`delegate:nil`

```
UIAlertView *alert =  [[UIAlertView alloc] initWithTitle:@"Invalid Address"
                                         message:@"The email address you entered isn't valid. Please check and try again."
                                        delegate:nil
                               cancelButtonTitle:@"OK"
                               otherButtonTitles:nil];
[alert show];
[alert release]; 
```

# google-cloud-messaging - com.google.android.gcm.server 你在哪里

> ID：13486511
> 
> 赞同：1
> 
> 时间：2012-11-21T04:46:58.637
> 
> 标签：google-cloud-messaging

第一次尝试 GCM。在服务器端，我创建了标准项目并设法将其上传到谷歌应用引擎。

尝试将 GCM 添加到 Eclipse“WebApplication Project”我似乎无法解决：com.google.android.gcm.server。

我已将 gcm-server.jar 复制到此目录：`war/WEB-INF/lib/gcm-server.jar`.

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T10:44:53.023

我找到了解决这个问题的方法。

转到项目的属性 -> google -> webapplication 并在那里添加你的 jar。

希望它对你有用。

# markdown - 如何将图像插入到 octopress 框架中？

> ID：13486512
> 
> 赞同：18
> 
> 时间：2012-11-21T04:47:15.927
> 
> 标签：markdown, octopress

我在目录 /Users/tragicidea/Desktop/terminal.png 上有图像 terminal.png。我想使用此脚本在我的帖子中插入该图像

```
{% img /Users/tragicidea/Desktop/terminal.png %} 
```

但是我的图片没有出现在我的帖子中，我该怎么办？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-12-19T16:40:29.373

在 Octopress/source/images 中复制您的图像。

PS：Octopress（无论你如何命名）目录是您博客的存储库目录。

那么你可以使用 img 标签作为

`{% img left /images/terminal.png 350 350 'image' 'images' %}`

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-01T06:16:40.667

你应该看看这个：http: [//octopress.org/docs/plugins/image-tag/](http://octopress.org/docs/plugins/image-tag/)

例子：

`{% img center http://www.moviequotesandmore.com/image-files/avatar-6.jpg %}`

# java - Eclipse 无法在 Windows 8 中运行

> ID：13486515
> 
> 赞同：2
> 
> 时间：2012-11-21T04:47:31.267
> 
> 标签：java, eclipse, windows-8

我最近升级到 Windows 8（这显然是一个非常糟糕的决定并且浪费了 40 美元）并且 Eclipse 没有启动。我下载了朱诺，但结果还是一样。感谢是否有人可以帮助我。

```
eclipse.buildId=M20120914-1800
java.version=1.6.0_23
java.vendor=Sun Microsystems Inc.
BootLoader 常量：OS=win32、ARCH=x86_64、WS=win32、NL=en_US
框架参数：-product org.eclipse.epp.package.jee.product
命令行参数：-os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product

!ENTRY org.eclipse.osgi 4 0 2012-11-20 20:42:45.300
!MESSAGE 应用程序错误
!堆栈 1
java.lang.UnsatisfiedLinkError：无法加载 SWT 库。原因：
    C:\Users\Lahiru\Desktop\eclipse\configuration\org.eclipse.osgi\bundles\628\1\.cp\swt-win32-4234.dll：动态链接库 (DLL) 初始化例程失败
    java.library.path 中没有 swt-win32
    无法加载库：C:\Users\Lahiru\.swt\lib\win32\x86_64\swt-win32-4234.dll
    无法加载库：C:\Users\Lahiru\.swt\lib\win32\x86_64\swt-win32.dll
    C:\Users\Lahiru\.swt\lib\win32\x86_64\swt-win32-4234.dll：动态链接库 (DLL) 初始化例程失败

    在 org.eclipse.swt.internal.Library.loadLibrary(Library.java:331)
    在 org.eclipse.swt.internal.Library.loadLibrary(Library.java:240)
    在 org.eclipse.swt.internal.C.(C.java:21)
    在 org.eclipse.swt.widgets.Display.(Display.java:138)
    在 org.eclipse.ui.internal.Workbench.createDisplay(Workbench.java:653)
    在 org.eclipse.ui.PlatformUI.createDisplay(PlatformUI.java:161)
    在 org.eclipse.ui.internal.ide.application.IDEApplication.createDisplay(IDEApplication.java:154)
    在 org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:96)
    在 org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
    在 org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
    在 org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
    在 org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
    在 org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
    在 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    在 sun.reflect.NativeMethodAccessorImpl.invoke（未知来源）
    在 sun.reflect.DelegatingMethodAccessorImpl.invoke（未知来源）
    在 java.lang.reflect.Method.invoke（未知来源）
    在 org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
    在 org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
    在 org.eclipse.equinox.launcher.Main.run(Main.java:1438)
    在 org.eclipse.equinox.launcher.Main.main(Main.java:1414)

```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T04:50:49.723

确保您已设置 JAVA_HOME 和 JRE 环境。如果您使用的是 64 位操作系统并安装了 64 位 Eclipse，那么安装 x64 位 JRE 也会有所帮助。 [http://www.java.com/en/download/faq/java_win64bit.xml](http://www.java.com/en/download/faq/java_win64bit.xml)

我在我的两个 Windows 8 版本上运行了一些类似的问题，并且能够解决这些问题。祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-19T11:44:40.447

尝试将 Windows 更新到 8.1。

我是 Windows 8.1 64 位用户。我的 JDK 也是 64 位的。起初我在我的 8.1 上使用了 eclipse Kepler。但是当我工作时，日食经常变得没有响应。在那之后，我决定回到 eclipse Juno，它现在工作正常。

# iphone - Cocos2d - 平铺地图 RPG 中的平滑精灵移动

> ID：13486517
> 
> 赞同：1
> 
> 时间：2012-11-21T04:48:10.427
> 
> 标签：iphone, objective-c, animation, cocos2d-iphone, sprite

我一直在研究 2-D Gameboy 风格的 RPG 一段时间，游戏逻辑大部分都完成了，所以我开始尝试让事情看起来不错。我注意到的一件事是步行运动/屏幕运动有点不稳定。从技术上讲，它应该可以正常工作，但要么它似乎有一些怪癖，要么是由于占用了大量的处理能力，要么是移动屏幕和移动精灵之间的时间不一致。

要移动精灵，一旦我知道要移动它的位置，我会调用：

```
tempPos.y += 3*theHKMap.tileSize.width/5; 
id actionMove = [CCMoveTo actionWithDuration:0.1 position:tempPos]; 
id actionMoveDone = [CCCallFuncN actionWithTarget:self selector:@selector(orientOneMove)];
[guy runAction:[CCSequence actions:actionMove, actionMoveDone, nil]];
[self setCenterOfScreen:position]; 
```

然后，在 orientOneMove 中，我调用：

```
[self.guy setTexture:[[CCTextureCache sharedTextureCache] addImage:@"guysprite07.png"]]; //the walking picture-I change texture back at the end of the movement
id actionMove = [CCMoveTo actionWithDuration:0.15 position:self.tempLocation2];
id actionMoveDone = [CCCallFuncN actionWithTarget:self selector:@selector(toggleTouchEnabled)];
[guy runAction:[CCSequence actions:actionMove, actionMoveDone, nil]]; 
```

并发运行的 setCenterOfScreen:position 方法的代码是：

```
id actionMove = [CCMoveTo actionWithDuration:0.25 position:difference]; [self runAction:
[CCSequence actions:actionMove, nil, nil]]; 
```

因此，当`setCenterOfScreen`移动的人被分成两个动作来制作动画时，摄像机以一个干净的动作移动（我认为这可能效率低下。）很难说是什么使运动不完全干净，但本质上是家伙并不总是完美地位于屏幕的中心——在移动过程中，他经常会瞬间偏离一两个像素。任何想法/解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:38:10.257

使用可以解决您的问题的线程加载。参考这篇文章：[cocos2d-continuously-scrolling-tile-based-game](https://stackoverflow.com/questions/12345556/cocos2d-continuously-scrolling-tile-based-game-strange-flash-only-in-device)可能是有用的提示

```
[NSThread detachNewThreadSelector:@selector(loadTileMapInThread:) toTarget:self withObject:nil];

-(void)loadTileMapInThread:(id)argument
{
    NSAutoreleasePool *autoreleasepool = [[NSAutoreleasePool alloc] init];
    CCGLView *view = (CCGLView*)[[CCDirector sharedDirector] view];
    EAGLContext *auxGLcontext = [[EAGLContext alloc]
                                 initWithAPI:kEAGLRenderingAPIOpenGLES2
                                 sharegroup:[[view context] sharegroup]];

    if( [EAGLContext setCurrentContext:auxGLcontext] ) {

        [self LoadTilesMap];

        glFlush(); 

        [EAGLContext setCurrentContext:nil];
    } else {
        CCLOG(@"cocos2d: ERROR: TetureCache: Could not set EAGLContext");
    }

    [auxGLcontext release];

    [autoreleasepool release];
} 
```

# visual-studio-2010 - Visual Studio 2010 / SharePoint 2010 工作流错误

> ID：13486518
> 
> 赞同：2
> 
> 时间：2012-11-21T04:48:16.013
> 
> 标签：visual-studio-2010, sharepoint-2010

我在 VS 2010 中创建了一个简单的工作流。它所做的是为一个人创建一个任务，当这个人将任务状态更改为“完成”时，它会在工作流历史记录中记录一条消息。

当我将状态更改为完成时，它显示：**“xxxx（工作流名称）中发生错误”。**

**代码：**

```
using System;
using System.ComponentModel;
using System.ComponentModel.Design;
using System.Collections;
using System.Drawing;
using System.Linq;
using System.Workflow.ComponentModel.Compiler;
using System.Workflow.ComponentModel.Serialization;
using System.Workflow.ComponentModel;
using System.Workflow.ComponentModel.Design;
using System.Workflow.Runtime;
using System.Workflow.Activities;
using System.Workflow.Activities.Rules;
using Microsoft.SharePoint;
using Microsoft.SharePoint.Workflow;
using Microsoft.SharePoint.WorkflowActions;

namespace WorkflowProject2.Workflow1
 {
 public sealed partial class Workflow1 : SequentialWorkflowActivity
 {
     public Workflow1()
     {
         InitializeComponent();
     }

    public Guid workflowId = default(System.Guid);
     public SPWorkflowActivationProperties workflowProperties = new SPWorkflowActivationProperties();

    private void onWorkflowActived(object sender, ExternalDataEventArgs e)
     {

    }

    public Guid taskID = default(System.Guid);
     public SPWorkflowTaskProperties taskProperties = new Microsoft.SharePoint.Workflow.SPWorkflowTaskProperties();
     private bool taskHasCompleted = false;

    public SPWorkflowTaskProperties taskAfterProperties = new Microsoft.SharePoint.Workflow.SPWorkflowTaskProperties();
     public SPWorkflowTaskProperties taskBeforeProperties = new Microsoft.SharePoint.Workflow.SPWorkflowTaskProperties();
     public String taskOutcome = default(System.String);
     public Guid TaskStatusFieldID = new Guid("c15b34c3-ce7d-490a-b133-3f4de8801b76");  

    private void createTask1_MethodInvoking(object sender, EventArgs e)
     {

        taskID = Guid.NewGuid();
         taskProperties.AssignedTo = "spdev\\lzhang";
         taskProperties.Description = "Please review";
         taskProperties.Title = "Leave application";

    }

     private void completeTask1_MethodInvoking(object sender, EventArgs e)
     {
         // Finalize the task:
         taskAfterProperties.PercentComplete = 100;
         taskOutcome = "Completed";
     }

    private void notComplete(object sender, ConditionalEventArgs e)
     {
         e.Result = !taskHasCompleted;    // **(A)**
     }
     private void onTaskChanged1_Invoked(object sender, ExternalDataEventArgs e)
     { 
        string taskStatus = taskAfterProperties.ExtendedProperties[TaskStatusFieldID].ToString();

        if (taskStatus == "Completed")
         {
             taskHasCompleted = true;     // **(B)**

        }

    }

}
 } 
```

我感觉（A）或（B）一定有问题，但我不知道如何解决。我在 14/LOGS 文件夹的日志文件中没有发现任何错误...

我很感激任何帮助！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T09:13:48.287

我在使用 Visual Studio 和 Workflows 时遇到的问题很少，其中大部分是由于没有分配正确的任务 ID，或者忘记为任务更改或关联令牌或其他小东西创建后属性。

所以你面临的问题似乎属于这一类，而不是背后的代码有问题。

尝试使用本指南并确保完成每个步骤：http: [//dotnetadil.wordpress.com/2012/05/29/sharepoint-foundation-2010-visual-studio-approval-workflow/](http://dotnetadil.wordpress.com/2012/05/29/sharepoint-foundation-2010-visual-studio-approval-workflow/)

甚至更好的 Microsoft 分步指南：

[http://msdn.microsoft.com/en-us/library/hh824675.aspx](http://msdn.microsoft.com/en-us/library/hh824675.aspx)

我会尝试的另一件事是创建您的工作流程并确保退出条件设置为 true，以便您可以检查结构是否正确完成

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-22T08:52:39.460

是的，您需要使用 GUID 填充它，在 Visual Studio 中选择工具，创建 Guid，然后在新窗口中选择注册表格式，选择复制并粘贴所有 0 的位置。

或者选择 […] 并在新框中选择绑定到新成员并创建字段。它可能被称为 createTask1_TaskId1 之类的东西，最后在 createTask1method _invoking 后面的代码中确保您分配一个新的 Guid，如下所示：

```
 createTask1_TaskId1 = Guid.NewGuid(); 
```

第二个选项确保由同一工作流创建的多个任务不会冻结。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T23:56:59.807

我发现了问题！这是因为在“Workflow1.cs[design]”（设计视图）中，我没有在“属性框”中为“completeTask1”指定 TaskID。默认情况下它是“00000000-0000-0000-000000000000”，我应该把它改成“taskID”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-17T06:59:45.540

要获取工作流中的当前任务 id，我建议阅读帖子 [http://blog.technovert.com/2013/12/solved-taskid-without-using-ontaskcreated/](http://blog.technovert.com/2013/12/solved-taskid-without-using-ontaskcreated/)

# javascript - jquery/javascript 在输入字段中添加文本

> ID：13486520
> 
> 赞同：4
> 
> 时间：2012-11-21T04:48:30.060
> 
> 标签：javascript, jquery, placeholder

我有一个使用 html5 占位符的输入框：

```
<input type="text" name="website" class="url" required placeholder="enter website"> 
```

使用 jQuery 或直接 javascript，我想在用户键入的数据前添加一个字符串。如果该字段包含的数据多于预设的字符串变量（例如：[http](http://example.com) ://example.com ），则该字段满足我的要求。如果它只包含原始字符串 ('http://')，则清除输入值并显示占位符。

以下代码适用于我。

```
var input = $("#processor .url");
var prefix = 'http://';

input.focus(function() {
    if (input.val().indexOf(prefix) == -1) {
        input.val(prefix + input.val());
    }
}).blur(function() {
    if (input.val() == prefix) {
        input.val('');
    }
}); 
```

有没有更好的方法来写这个以提高性能等等......，这是我真正的问题吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-21T07:53:26.433

这比实际看起来要容易。我根据@Tahir Yasin 的评论做了一个演示。

CSS：

```
.grey { color:#aaa; } 
```

html:

```
<input type="text" /> 
```

jQuery：

```
var inputval = "";
$(document).ready(function() {
    // Define your default value to show on input
    $("input[type='text']").val("Enter your link here...");
    // Add grey color or optionally blur effect
    $("input[type='text']").addClass('grey');
    // Save your default value
    inputval = $("input[type='text']").val();
    $("input[type='text']").focusin(function() {
    // if textbox is empty or got the default value
    if ($(this).val() == "" || $(this).val() == inputval) {
        // Clear the box
        $(this).val("http://"); // Your text here..
        // Remove grey color
        $(this).removeClass('grey'); }
    }).focusout(function() {
        // if textbox is empty or just contains your value
        if ($(this).val() == "" || $(this).val() == "http://" ) {
            // Put your Default value back
            $(this).val(inputval);
            // Add grey color
            $(this).addClass('grey'); }
    });
}); 
```

小提琴：http: [//jsfiddle.net/BerkerYuceer/TgZ8L/](http://jsfiddle.net/BerkerYuceer/TgZ8L/)

我只是喜欢在动作的每一步都使用 jQuery。但是您可以看到我的代码的性能不如您的代码，因此您已经在使用性能最高的方式。

这是基于您的代码的演示：http: [//jsfiddle.net/BerkerYuceer/qbLyD/](http://jsfiddle.net/BerkerYuceer/qbLyD/)

您可以自己看到差异几乎相同，但显然您的代码更快。

# python - 如何在 Django 中运行 FFMPEG 命令？

> ID：13486524
> 
> 赞同：4
> 
> 时间：2012-11-21T04:49:04.893
> 
> 标签：python, django, video, flv

我花了几个星期的空闲时间试图找出这个问题或搜索它无济于事，我不确定它是 Python 还是 Django 问题，并且想知道是否有人可以引导我朝着正确的方向前进。

我了解上传视频文件并查询它们，但我在将 FFMPEG 与 Django 结合使用（特别是将视频转换为 FLV）方面缺乏经验。如何在 Django 视图中调用命令来转换视频，以及如何在单击提交按钮和将视频保存到数据库之间执行该操作。

感谢您的任何帮助！我还没有找到任何关于此的文章/文献，它杀死了我！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-21T05:44:56.167

上传文件后，您可以使用 subprocess python 模块调用 ffmpeg。

```
import subprocess
subprocess.call('ffmpeg -i video.mp4 video.flv') # check the ffmpeg command line :) 
```

ffmpeg 是相当 cpu 密集型的。在现实世界的 Web 应用程序中，您应该注意这一点。子进程调用将阻塞应用程序，直到转换完成（在某些情况下可能很长）。[celery](http://celeryproject.org/)可以作为非阻塞异步任务运行的解决方案。

有几个用于视频管理的应用程序。我从未使用过其中之一，但我认为您应该看看[django-multimedia](https://github.com/salvaorenick/django-multimedia)。这似乎是您正在寻找的东西。

# iphone - xcode 将 iPhone 转换为 iPad

> ID：13486528
> 
> 赞同：2
> 
> 时间：2012-11-21T04:49:33.383
> 
> 标签：iphone, objective-c, ios, xcode

请帮忙。我更改 UIImageView 的代码是：

```
- (void) viewDidLoad {

background.image = [UIImage imageNamed:@"myImage.png"];

} 
```

它在 iPhone 和 iPad 上运行良好，但是，当我将在我的 iPad 上运行这个应用程序时，如何将“myImage.png”更改为“myImageHD.png”？？如果我的应用程序可以在 iPad 上运行，我只需要显示 myImageHD。它可以用 XIB 文件完成，但我需要用代码来修复它。检测应用程序是否在 iPad 上运行，并显示 myImageHD。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T04:51:37.773

做这个，

```
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {
   background.image = [UIImage imageNamed:@"myImage.png"];
} else { //UIUserInterfaceIdiomPad is for iPad
   background.image = [UIImage imageNamed:@"myImageHD.png"];
} 
```

另一种方法是，

```
if ([(NSString*)[UIDevice currentDevice].model isEqualToString:@"iPad"] } { //As per the below comment, for iPad simulator the string will be "iPad simulator"
    background.image = [UIImage imageNamed:@"myImageHD.png"];
} else {
    background.image = [UIImage imageNamed:@"myImage.png"];
} 
```

`UI_USER_INTERFACE_IDIOM()`也可用于检查当前设备是 iPad 还是 iPhone。除了`[[UIDevice currentDevice] userInterfaceIdiom]`上面的 if 条件，你也可以使用`UI_USER_INTERFACE_IDIOM()`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-21T04:56:34.213

```
NSString *deviceType = [UIDevice currentDevice].model;

if([deviceType isEqualToString:@"iPhone"])
{
     // it's an iPhone
} 
```

这将对您有所帮助，但我认为使用相同的 XIB 并仅更改图像不是一个好的尝试！问候

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-21T07:58:37.887

试试这个

```
 - (void) viewDidLoad {

    if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad){
        background.image = [UIImage imageNamed:@"myImageHD.png"];
    }
    else{
        background.image = [UIImage imageNamed:@"myImage.png"];
    }
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-21T04:54:01.373

尝试使用下面的代码

```
- (void) viewDidLoad {

if([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad)
{
background.image = [UIImage imageNamed:@"myImageHD.png"];
}
else
background.image = [UIImage imageNamed:@"myImage.png"];

} 
```

# java - “找不到符号：方法”，但方法已声明

> ID：13486529
> 
> 赞同：10
> 
> 时间：2012-11-21T04:49:46.483
> 
> 标签：java

在我的驱动程序中，这一行给了我`cannot find symbol`错误，我不知道为什么。该方法在`SavingsAccount`类中明确定义，我可以引用驱动程序中的所有其他方法，但不是那个，我尝试将类型更改为`double`, 等等，但仍然无法正常工作。

```
Account acct2 = new SavingsAccount (name);
acct2.calculateBalance(); 
```

`SavingsAccount`类继承自`Account`类：

```
public class SavingsAccount extends Account
{
    private final short minBalance = 0;
    private double overdraftFee;
    private double yearlyInterestRate = 0.02;
    private double interestAmount;

    public SavingsAccount (String name)
    {
        super(name);
    }

    public double withdraw (double amount)
    {
        if (accountBalance - amount >= minBalance)
        {
            accountBalance -= amount;
            System.out.print ("Withdraw Successful");
        }
        else 
        {
            accountBalance -= amount;
            overdraftFee = accountBalance * (0.10);
            accountBalance += overdraftFee;
            System.out.print ("Withdraw Succesful, however overdraft fee of 10% has been applied to your account");

        }

        return accountBalance;
    }

// ----------------- this is the method I try to invoke -----------------------------
    public void calculateBalance ()
    {
        interestAmount = (accountBalance * yearlyInterestRate);
        accountBalance += interestAmount;
    }
// ----------------------------------------------------------------------------------

    public String toString()
    {
        return super.toString() + " Interest Received: " + interestAmount;
    }

} 
```

帐户类，如果需要

```
import java.util.Random;
import java.text.NumberFormat;

public abstract class Account
{
    protected double accountBalance;
    protected long accountNumber;
    protected String accountHolder;
    public Account (String name)
    {
        accountHolder = name;
        accountBalance = 0;
        Random accountNo = new Random();
        accountNumber  = accountNo.nextInt(100000);
    }

    public double deposit (double amount)
    {
        accountBalance += amount;

        return accountBalance;
    }

    public String toString()
    {
        NumberFormat accountBal = NumberFormat.getCurrencyInstance();
        return "Account Balance: " + accountBal.format(accountBalance) + "\nAccount Number: " + accountNumber;
    }

    public String getAccountHolder()
    {
        return accountHolder;
    }

    public double getAccountBalance()
    {
        return accountBalance;
    }

    public abstract double withdraw (double amount);

} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-21T04:53:04.177

```
Account acct2 = new SavingsAccount (name);
acct2.calculateBalance(); 
```

这是因为尽管您有一个对象，但`SavingsAccount`您正在使用类型的引用变量，`Account`因此您只能访问`Account`类中存在的那些方法。

而且你的课堂上没有`calculateBalance()`方法。`Account`

这就是为什么您无法访问它并且编译器抱怨它找不到名为的方法`calculateBalance` ，因为它看到引用类型是`Account`并且类中没有这样的方法`Account`。

如果您想使用该方法，请将引用类型更改为`SavingsAccount`：

```
SavingsAccount acct2 = new SavingsAccount (name); 
```

或者您可以在访问该方法时显式转换它

```
((SavingsAccount) acct2).calculateBalance(); 
```

但请注意，`ClassCastException`如果`acct2`object 实际上不是`SavingsAccount`

**更新：**

*但请记住，在运行时，Java 使用虚拟方法调用来根据实际实例动态选择将要运行的方法的实际版本。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:54:28.160

换个试试

```
Account acct2 = new SavingsAccount (name);
acct2.calculateBalance(); 
```

到

```
SavingsAccount acct2 = new SavingsAccount (name);
acct2.calculateBalance(); 
```

或者（不知道你为什么想要），我相信你可以`acct2`投到`SavingsAccount`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T04:57:41.440

“所有其他方法”来自`Account`，而不是`SavingsAccount`。当你想打电话`cCalculateBalance`时，试试这样：

```
(SavingsAccount)acct2.calculateBalance() 
```

# c++ - 字符串文字的隐式转换

> ID：13486530
> 
> 赞同：2
> 
> 时间：2012-11-21T04:49:57.257
> 
> 标签：c++, visual-studio-2010, gcc

今天早些时候，我尝试编译类似于：

```
class example
{
public:
    example(const char (&in_data)[6]);
};

example foo()
{
    return "ABCDE";
} 
```

在 GCC 上，它抱怨在返回线上没有转换为示例。我能够使用代码在其他地方初始化示例类型的对象，例如

```
example bar("ABCDE"); 
```

正好。在 VS2010 中编译时，所有这些都可以正常工作。

现在，我的问题是，这应该有效，还是这是一些 Visual Studio 编译器扩展？在我看来，由于非显式构造函数，这*应该可以工作......*

我现在没有确切的错误信息，因为我不在工作，但这真的让我很困扰。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:07:59.870

我看不出隐式转换不起作用的任何原因。尝试使用 gcc、clang 和 EDG，只有 gcc 失败。我*猜*这是一个 gcc 错误。也就是说，gcc 似乎热衷于`char const*`从数组引用中创建一个。这段代码

```
example f()
{
    char const (&array)[6] = "abcde";
    return array;
} 
```

产生此错误：

```
implicit.cpp: In function ‘example f()’:
implicit.cpp:10:12: error: could not convert ‘(const char*)array’ from ‘const char*’ to ‘example’
     return array;
            ^ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:03:28.577

您是否定义了示例类的构造函数，而不仅仅是声明它？我认为，如果您想使用隐式转换，构造函数很重要。

# neo4j - 为什么 neo4j webadmin 报告不正确的节点/关系/属性计数？

> ID：13486534
> 
> 赞同：3
> 
> 时间：2012-11-21T04:50:23.020
> 
> 标签：neo4j

我在我的 neo4j 服务器数据库中创建了一些节点、关系和属性，并且 webadmin 仪表板计数器显示正确的数字。但是，在我删除任何节点/关系后，仪表板仍然显示旧计数。我使用 neoclipse 删除了所有节点（以及关系），除了 ROOT 节点（id=0）。但是网络管理员仍然显示节点/关系/属性的旧计数。怎么了？

注意：另外，当我在 webadmin 控制台中查询数据库时，除了 ROOT 节点之外的任何节点都不会返回（例如，gv(1) 返回 null），这验证了该节点不存在的事实。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:20:53.500

尝试重新启动服务器。在您重新启动之前，它不会更新删除的计数。

*更新*
嗯，对，现在我记得这些计数 - 它们实际上是 NumberOfNodeIdsInUse，所以它们不考虑删除，而是考虑发出的 id 数量，除非你将其配置为重用节点ID。

# php - 如何从 mysql 读取标记信息并使用 AJAX 在谷歌地图上动态显示这些标记？时间问题

> ID：13486537
> 
> 赞同：2
> 
> 时间：2012-11-21T04:50:29.143
> 
> 标签：php, javascript, ajax, google-maps

我的应用程序使用 javascript、google maps api、php 和 mysql。它应该从 mysql 数据库中获取标记列表，将其转储到 myXML.xml 文件中，然后读取此文件以便在每次加载地图时在地图上绘制这些标记。

```
 <!DOCTYPE html>
<html>
<head>
<script>...</script>

<script>
function initialize()
{
    ...
    //load previous markers from dbase
    **loadMarkers();**

    map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
}

google.maps.event.addDomListener(window, 'load', initialize);

//loadMarkers
function **loadMarkers()**
{
    var xmlhttp;
    if (window.XMLHttpRequest)
    {// code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp=new XMLHttpRequest();
    }
    else
    {// code for IE6, IE5
        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange=function()
    {
        if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
            var xmlDoc=document.implementation.createDocument("","",null);
        ***//alert("here1");***
            xmlDoc.load("myXML.xml");
            xmlDoc.async=false;
        ***//alert("here2");***
            //xmlDoc.onload=doNothing;

            var markerNodes = xmlDoc.documentElement.getElementsByTagName("marker");
            var bounds = new google.maps.LatLngBounds();
            for (var i = 0; i < markerNodes.length; i++) 
            {
                var RowID = markerNodes[i].getAttribute("RowID");
                var LatLng = markerNodes[i].getAttribute("LatLng");
                var Type = markerNodes[i].getAttribute("Type");
                alert(Type);
                //Separate Lat and Lng from LatLng
                var string = LatLng;
                var n=string.indexOf(",");
                var Lat = string.slice(1,n);
                var n2=string.indexOf(")");
                var Lng = string.slice(n+2,n2);

                //Set Marker Type
                if(Type=="hospital")
                    markerIcon='markHospital.png';
                if(Type=="airport")
                    markerIcon="airport.jpg";

                var marker3=new google.maps.Marker({
                    position:new google.maps.LatLng(Lat,Lng),
                    icon:markerIcon
                    //icon:'markHospital.png'
                    //animation:google.maps.Animation.BOUNCE
                    });

                marker3.setMap(map);

            }
        }
    }
    //xmlhttp.open("GET","addmarker.php?maidenLatLng="+maidenLatLng+"&clickID="+clickID,true);
    var queryString = "";
    xmlhttp.open("GET", "getmarkers.php" + queryString, true);
    xmlhttp.send();
}

    ... 
```

该代码似乎工作正常，但只有当两个警报消息（在**loadMarkers()**内）没有被注释掉时。当它们被注释掉（就像现在一样）时，旧标记不会加载并且不可见。

我怀疑这是某种时间问题。可能是脚本到达该点时 myXML.xml 文件尚未准备好。因此，我还将 XMLHTTPRequest 的 async 属性设置为 false。但这也无济于事。知道为什么此脚本仅在允许运行两个**警报框时才有效吗？**

任何帮助将不胜感激 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T09:13:37.697

如果您使用的是 jQuery，则可以使用[ajaxComplete](http://api.jquery.com/ajaxComplete/)之类的东西，仅在 AJAX 请求完成后才从 XML 中加载所有标记。

# iphone - 谓词时间/日期间隔字符串（1 小时前 1 天前 1 周前）以在 uitableview iphone 中设置部分标题，如字母谓词

> ID：13486541
> 
> 赞同：1
> 
> 时间：2012-11-21T04:50:56.583
> 
> 标签：iphone, objective-c, uitableview, nspredicate, predicate

在我的表格视图中**，我将 sqlite 数据库中的联系人放入 NSmutableArray** * *`(sort By Date)`** 并将*它们填充到 tableview*中。

所以*最近添加的联系人总是添加到表格的顶部*，很好。

现在我的要求是**设置部分标题..使用时间间隔如下**，

**`1 Hour Ago, 1 Day ago , 1 week ago, 1 Month ago, 1 Year ago`**像那样。

我实现了如下逻辑**来获取标题字符串**，

```
- (NSString *)interval {
      NSDate *date = self.time; // self.time get from database for each contact insert time
      double timeInterval = [date timeIntervalSinceNow];

      NSString *tmpValue = nil;
      timeInterval *= -1;

      if(timeInterval < 3600*24) {
            tmpValue = @"Today";

      }

      else if (timeInterval > 3600*24) {
            int div = round(timeInterval / 60 / 60 / 24);
            if (div ==1 && div <7)
                  //tmpValue= [NSString stringWithFormat:@"%d days ago", div];
                  tmpValue = @"This Week";

            else if(div <30)
                  tmpValue = @"This Month";
            else 
                  tmpValue = @"Earlier";
      } 
      NSLog(@"xxxyyyyyy%@",tmpValue);

      return tmpValue;

} 
```

现在我要在视图加载中**获取标题（日期索引）**，并按如下方式设置标题标题。

```
// Implemented logic for Recent Contacts fetched from recent Ids in view will appear
      //=================================================
      recentContactsArray = [[NSMutableArray alloc] init];

      datesArray = [[NSMutableArray alloc] init];
      for(int i=0; i< storedRecentArray.count ; i++)
      {
            Recent *r = [storedRecentArray objectAtIndex:i];
            NSMutableArray *recentContact =  [DataBase selectContactsByRowId:r.recentRowId];
            Contact *recentContactDict = [recentContact objectAtIndex:0];            
            [recentContactsArray addObject: recentContactDict ];

            [datesArray addObject:[r interval]];
      }

      dateIndex = [[NSMutableArray alloc] init];
      for (int i=0; i<[datesArray count]; i++)
      {
            //---get the date wise headers of each contactName---
            NSString *dateHeader = [NSString stringWithFormat:@"%@",  [datesArray objectAtIndex:i]];
            //---add each date wise headers to the index array---
            if (![dateIndex containsObject:dateHeader])
            {            
                  [dateIndex addObject:dateHeader];
            }        
      }
      NSLog(@"Date Insex array is xxxxxxxx %@", dateIndex); 
```

* * *

```
// Set the section count as number of date indexes
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView 
{
            return [dateIndex count];
}

// Set the section Header from date indexes
    - (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {

     return   [dateIndex objectAtIndex:section];   

    } 
```

现在标题设置完美，但在两个部分中都重复了联系人。联系人没有按日期分开到各自的部分中，

我需要将联系人**谓词**`split them in their respective sections using NSprecate like following example.`

**仅用于示例它将所有联系人按其首字母拆分到各自的部分**

```
 //---get all contactNames beginning with the letter---
        NSPredicate *predicate =  [NSPredicate predicateWithFormat:@"SELF beginswith[c] %@", alphabet];
        NSArray *contacts = [contactsArray filteredArrayUsingPredicate:predicate];
        if (isSearchOn)
        {
              contacts = [searchedNamesArray filteredArrayUsingPredicate:predicate];
        }
        //---return the number of contactNames beginning with the letter---
        return [contacts count]; 
```

现在我应该如何断言我的日期间隔..

(1 小时前 1 天前 1 周前) 对应的单元格

# android - 用于下载/上传的 Android Ksoap2 Web 服务

> ID：13486543
> 
> 赞同：1
> 
> 时间：2012-11-21T04:51:10.640
> 
> 标签：android, web-services, android-ksoap2

我想使用`ksoap`网络服务编写一个程序并从网络服务下载一个文件到安卓手机。我必须从网络服务访问一个文本文件并将其下载到 android 手机中。有人可以帮助我提供相应的教程或链接吗

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-21T05:12:50.933

`KSOAP`只是发送请求并得到响应。网络搜索中有很多示例，并获得合适的示例。这里有一些示例 [示例 1](http://mobile.dzone.com/news/android-development-tutorial)

[示例 2](http://www.android10.org/index.php/articleslibraries/167-using-ksoap2-for-android-soap-web-service)

[示例 3](http://android-helper.blogspot.in/2012/04/accessing-webservices-using-soap.html)

[示例 4](http://androidtestexample.blogspot.in/2012/02/soap.html)

对于通过 SOAP Web 服务上传和下载文件，我使用以下方法

## 上传：

1.  将您的文本文件转换为二进制字符串
2.  将其存储到单个字符串中
3.  通过soap web服务发送

例子

```
Uri uriString = Uri.parse(objBundle.get("").toString());
File file = new File(uriString.getPath());
FileInputStream objFileIS;
objFileIS = new FileInputStream(file);
ByteArrayOutputStream objByteArrayOS = new ByteArrayOutputStream();
byte[] byteBufferString = new byte[1024];
for (int readNum; (readNum = objFileIS.read(byteBufferString)) != -1;) 
{
objByteArrayOS.write(byteBufferString, 0, readNum);
system.out.println("read " + readNum + " bytes,");
}                    
byte[] byteBinaryData = Base64.encode((objByteArrayOS.toByteArray()), Base64.DEFAULT);
strAttachmentCoded = new String(byteBinaryData); 
```

## 下载：

1.  要求服务器端开发人员以二进制字符串的格式发送您的文件
2.  获取响应字符串并将其转换为文件并将其存储在 sdcard 中。

例子

```
byte[] bytes;
strBinaryPDFString = cursorGetBinaryString.getString(0);//Index position of the binary string in table
File createfile = new File(Environment.getExternalStorageDirectory(),"/Folder/");
createfile.mkdirs();
File outputFile = new File(createfile,"FileName.pdf");//creating temporary file in phone Memory
new FileOutputStream(outputFile);
bytes = Base64.decode(strBinaryPDFString,Base64.DEFAULT);
File filepath = new File(Environment.getExternalStorageDirectory(),"/Folder/FileName.pdf");
OutputStream pdffos = new FileOutputStream(filepath);
pdffos.write(bytes);//writing the binary string into the payslip.pdf temporary file
pdffos.flush();
pdffos.close(); 
```

上述方法对我来说效果很好。也许你可以找到另一种最好的方法。

# c - 为什么不同系统的打印位数不同？

> ID：13486544
> 
> 赞同：3
> 
> 时间：2012-11-21T04:51:15.277
> 
> 标签：c, gcc, printf, llvm

我在 OS X`i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)`和 Windows 7 上使用`gcc (tdm64-1) 4.6.1`.

为什么以下代码会在两个系统上生成不同的输出：

```
double d = 2.71828152557319224769116772222332656383514404296875;
printf("%1.55f\n", d); 
```

OS X 输出是`2.7182815255731922476911677222233265638351440429687500000`

Win7输出是`2.7182815255731922000000000000000000000000000000000000000`

`sizeof(double) == 8`在两个系统上。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T05:09:09.650

C 标准不要求`printf`打印实际值，只要求它正确到一定数量的位置并满足一定的舍入方向误差约束。大多数类 unix 操作系统打印精确值，或者如果没有足够的位置来打印精确值，则将值正确四舍五入到请求的位置数。MSVCRT 四舍五入到固定数量的位置并用零填充其余位置。两种行为都符合，但后者确实丑陋且质量低下。

# javascript - 正则表达式和字符串替换中难以捉摸的错误

> ID：13486546
> 
> 赞同：3
> 
> 时间：2012-11-21T04:51:16.800
> 
> 标签：javascript, regex

我已经为一个页面编写了一个简单的 javascript 搜索器，并且遇到了一些不匹配/错误匹配以及可能较差的 css 类匹配的问题。

[http://jsfiddle.net/C4q7T/](http://jsfiddle.net/C4q7T/)

如果我单击第一个示例“代码”（过滤到一个元素），然后在“样式”链接上，“代码”突出显示仍然存在。不用说这是不可取的。

我认为问题将发生在代码的过滤部分，但对我来说一切都很好。特别是因为我正在抓取标题的文本而不是它的 HTML，然后添加一个新的跨度。

```
function filter(searchTerm) {
    var searchPattern = new RegExp('(' + searchTerm + ')', 'ig');  // The brackets add a capture group

    entries.fadeOut(150, function () {
        noResults.hide();

        $('header', this).each(function () {
            $(this).parent().hide();

            // Clear results of previous search
            $('li', this).removeClass('searchMatchTag');

            // Check the title
            $('h1', this).each(function () {
                var textToCheck = $('a', this).text();
                if (textToCheck.match(searchPattern)) {
                    textToCheck = textToCheck.replace(searchPattern, '<span class="searchMatchTitle">$1</span>');  //capture group ($1) used so that the replacement matches the case and you don't get weird capitolisations
                    $('a', this).html(textToCheck);
                    $(this).closest('.workshopentry').show();
                }
            });

            // Check the tags
            $('li', this).each(function () {
                if ($(this).text().match(searchPattern)) {
                    $(this).addClass('searchMatchTag');
                    $(this).closest('.workshopentry').show();
                }
            });
        });

        if ($('.workshopentry[style*="block"]').length === 0) {
            noResults.show();
        }

        entries.fadeIn(150);
    });
} 
```

其他一些组合会发生这种情况，但其他一些组合不会，这让我很难找到这个特定问题的原因。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T06:53:03.647

如果没有正确引用，您将无法使用正则表达式信任用户输入。考虑使用这样的引用函数：

```
var rePattern = searchTerm.replace(/[.?*+^$\[\]\\(){}|]/g, "\\$&"),
searchPattern = new RegExp('(' + rePattern + ')', 'ig');  // The brackets add a capture group 
```

**编辑**

如评论中所述，尚不清楚为什么要使用捕获括号来执行搜索；您可以`$&`用作替换模式。当然，如果您简化了这篇文章的正则表达式，我会理解 :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T06:40:29.883

在不转义 searchTerm 的情况下生成 searchPattern 可能是个问题。的 searchTerm`.*`将匹配任何内容。

改用怎么样`var match = textToCheck.indexOf(searchTerm) >= 0`？

这将返回文本中子字符串的第一个实例的索引`searchTerm`，否则，它将返回 -1。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-05T12:47:44.670

原来我错过了删除以前匹配标签的检查。

```
var textToCheck = $('a', this).text();
if (textToCheck.match(searchPattern)) {
    //capture group ($1) used so that the replacement matches the case and you don't get weird capitolisations
    textToCheck = textToCheck.replace(searchPattern, '<span class="searchMatchTitle">$1</span>');
    $('a', this).html(textToCheck);
    $(this).closest('.workshopentry').show();
} else {
    $('a', this).html(textToCheck);
} 
```

# c# - 正常注销后清除win8应用程序的后台堆栈？

> ID：13486553
> 
> 赞同：1
> 
> 时间：2012-11-21T04:52:06.460
> 
> 标签：c#, windows-8, windows-store-apps, windows-store

在通常的注销功能之后，我想清除 win8 应用程序的后台堆栈。我想到了 3 种方法：虽然它们都不能完美地工作

1.注销后创建一个新框架并导航到LoginScreen

> 问题 - 导航到登录屏幕后，当键盘启动时页面不滚动。

2.在backstack为0时循环并继续调用Frame.Goback。

> 问题 - 它在遍历每个页面时调用每个页面的 onnavigatedTo。

3.获取和设置导航状态

> 问题：在注销后设置 LoginScreen 的导航状态后，它工作正常，但我导航到的每个页面都不会调用其构造函数。

如果有人在注销类功能方面取得成功，请提供帮助。

Win8+XAML+C#。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-15T14:58:23.313

在加载的事件中试试这个

```
 this.Frame.BackStack.Clear(); 
```

# oracle - ORACLE：检查时间约束

> ID：13486560
> 
> 赞同：0
> 
> 时间：2012-11-21T04:53:19.547
> 
> 标签：oracle, plsql

我有一个 start_session 和 end_session。

我想确保 end_session 是 start_session 后 60 分钟的约束。

这可能吗，类似于以下内容

```
ALTER TABLE BOOKING_SESSION ADD CONSTRAINT SESSION_LENGHT CHECK (END_SESSION > START_SESSION + 60 MINUTES ); 
```

我得到了以下触发器来检查开始会话是否大于结束会话（感谢 Justin Cave）

```
CREATE OR REPLACE TRIGGER trg_check_dates
  BEFORE INSERT OR UPDATE ON BOOKING_SESSION
  FOR EACH ROW
BEGIN
  IF( :NEW.END_SESSION < :NEW.START_SESSION )
  THEN
    RAISE_APPLICATION_ERROR( -20001, 
          'Invalid: END_SESSION must be greater than START_SESSION = ' || 
          to_char( :NEW.START_SESSION, 'YYYY-MM-DD HH24:MI:SS' ));
  END IF;
 END;
 / 
```

**但是我需要一个确保结束会话在 start_session 之后一小时的那个**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:22:03.840

以下是如何使用`Check`约束来施加这种限制：

```
SQL> create table Tb_test(
  2    id number not null primary key,
  3    start_session timestamp,
  4    end_session   timestamp
  5  )
  6  ;

Table created

SQL> 
SQL> alter table tb_test
  2    add constraint CHK_SES_TIME
  3  check ((end_session is null) or ((end_session - start_session) >= interval '1' hour))
  4  ;

Table altered

-- data that is violate our constraint
SQL> insert into tb_test(id, start_session, end_session)
  2    values(1, systimestamp, systimestamp)
  3  ;

insert into tb_test(id, start_session, end_session)
  values(1, systimestamp, systimestamp)

ORA-02290: check constraint (HR.CHK_SES_TIME) violated

-- valid data 
SQL> insert into tb_test(id, start_session, end_session)
  2    values(1, systimestamp, systimestamp + interval '1' hour)
  3  ;

1 row inserted 

-- only start session added, end_session is null.
SQL> insert into tb_test(id, start_session)
  2    values(2, systimestamp)
  3  ;

1 row inserted

SQL> commit;

Commit complete

-- updating end_session with data that violate check constraint
SQL> update tb_test
  2    set end_session = systimestamp;

update tb_test
  set end_session = systimestamp

ORA-02290: check constraint (HR.CHK_SES_TIME) violated

-- updating end_session with valid data

SQL> update tb_test
  2    set end_session = systimestamp + interval '1' hour;

 1 row updated 
```

在上面的示例中`start_session`，`end_session`列是`timestamp`数据类型。如果您将它们声明为`Date`数据类型，则`check`约束的公式可能是：

```
(end_session - srtart_session) >= 1/24 
```

# c - 二进制数据到C中的整数

> ID：13486561
> 
> 赞同：1
> 
> 时间：2012-11-21T04:53:22.330
> 
> 标签：c

好的，这就是交易。我一次从二进制文件中读取 1 个字节。然后我把它放在一个像这样的 int 变量中：

```
 l = *rbyte;
    l <<8;
    <read another byte>
    l |=*rbyte;
    l <<8;
    <read another byte>
    l |=*rbyte;
    l <<8;
    <read another byte>
    l |=*rbyte; 
```

现在这应该可以正常工作了，对于像 00 00 00 0D 这样的二进制数据，它返回 13，对于 6 和 9 也是如此。但是对于二进制数据 00 00 80 00，它只是返回 128。当它实际上应该返回 32768 。 是什么赋予了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T04:58:02.417

因为您没有将左移的结果分配给任何东西。移位运算符不一样`++`，`--`它们不会自动更新他们的论点。

将您的换档线更改为

```
l = l << 8; 
```

# meteor - 如何在单个文档中按字段订阅更改

> ID：13486565
> 
> 赞同：2
> 
> 时间：2012-11-21T04:53:53.947
> 
> 标签：meteor

我试图找出订阅单个文档中特定更改的正确模式。一个例子将更好地突出我正在尝试做的事情。比如说，我有一个用于博客文章的 Mongo 文档，其中又包含一个评论列表。现在，我有一个查询来查找该博客文章：`Posts.findOne("<id">)`，它会被动地更新我的模板：

```
<template name="post">
    <h1>{{title}}</h1>
    {{#each comments}}
        {{> comment this}}
    {{/each}}
</template> 
```

问题是，当该帖子发生任何变化时（通常是人们添加评论时的评论列表），查看该帖子的每个人都会刷新整个内容。我宁愿 1) 设置某种特定于字段的侦听器，和/或 2) 进行一些手动拦截以说“发布更新时，检查更新的内容，并根据更改的内容更新某些内容（例如，仅更新已更新的评论，或者，看起来有一条新记录 - 让我们添加它）”。

我知道这种事情在文档级别是可行的`Collection.observe`（例如，随着新文档的出现和消失，您可以精细控制以查看发生了什么变化），但是在文档中呢？我想我可以通过将当前文档存储在会话中来做到这一点，然后当文档更新并且我收到响应式查找命令的通知时，将新文档与旧文档进行比较，但这是最好的方法吗？我错过了一些明显的东西吗？

非常感谢任何指导！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T02:37:03.573

我也在学习 Meteor（几周后）并且遇到了像你描述的那样的问题。我此时的建议是让您的应用订阅**2 个**集合：**帖子**和**评论**。

*评论*项可能如下所示：

```
{
  _id : \\ Mongo 自动生成的 ID，
  text : '这是评论',
  PostID : 'postUniqueID'
  用户：'用户名'
  //ETC。
}

```

在客户端，在您的*评论*订阅中，您将帖子的唯一 ID 作为参数传递。在服务器端，您只发布 PostID = *postUniqueID*的评论。

**重要提示**：您需要在 Meteor.autorun() 块中设置您的*评论*订阅，以便在用户切换到另一篇博客文章时它会更改。

以我的经验，这种方法使您的模板和编码变得更加简单。但是，我没有分析订阅两个集合（相对于一个）是否对 Meteor 的性能有显着影响。

# ios - NSUrlConnection 异步调用提前输入

> ID：13486566
> 
> 赞同：0
> 
> 时间：2012-11-21T04:53:59.767
> 
> 标签：ios, asynchronous, nsurlconnection, nsoperationqueue, dispatch-async

我正在我的应用程序中创建一个类型，它可以访问远程休息服务。现在的问题是我正在使用一个 NSUrl 来连接它是同步的，并且由于通过 json 对象的循环量需要一些时间来解析。这导致 UI 在我搜索时冻结。

因此我决定尝试这样做：

```
[NSURLConnection sendAsynchronousRequest:myRequest
                                       queue:[NSOperationQueue mainQueue]
                           completionHandler:^(NSURLResponse *response, NSData *taxiData,    NSError *error) { 
```

它似乎好一点，但仍然挂起，因为大部分处理都是在完成处理程序中完成的，它与我假设的主队列相关联。

然后我尝试创建自己的 NSOperationsQueue 或使用 dispatch_asynch：

```
[NSURLConnection sendAsynchronousRequest:myRequest
                                       queue:[NSOperationQueue mainQueue]
                           completionHandler:^(NSURLResponse *response, NSData *taxiData, NSError *error) {

           dispatch_queue_t typeAheadQueue = dispatch_queue_create("typeAhead", NULL);

           dispatch_async(typeAheadQueue, ^ { 

}]; 
```

它工作正常。唯一的问题是 uitableview 现在需要 10 秒来刷新数据。我现在可以在没有任何中断的情况下打字，但更新 uitableview 时会有很大的延迟。

我接近这个权利吗？任何帮助表示赞赏。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-24T22:00:53.820

检查这个线程：[在后台运行一个进程，而用户仍然可以使用 UI](https://stackoverflow.com/questions/13465496/run-a-process-in-the-background-while-user-can-still-use-the-ui/13465979#13465979)

考虑将整个 nsurlconnection 调用放在一个单独的队列中，当需要更新用户界面时，请像 Mundi 建议的那样使用 get_main_queue。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-24T21:22:03.670

您可以向主队列发出信号

```
dispatch_async(dispatch_get_main_queue(), ^{
   [self.tableView reloadData];
}); 
```

# java - 如何使用不同的分辨率调整应用程序的所有控件的大小

> ID：13486568
> 
> 赞同：0
> 
> 时间：2012-11-21T04:54:02.933
> 
> 标签：java, swing, layout, deployment, screen-resolution

我正在使用 Swing 应用程序。我在分辨率（1280 * 1024）中构建了许多表格。当我以分辨率部署应用程序时，表单会以分辨率 (1024*768) 和其他较小的分辨率进行裁剪。我已经尝试过[MIGLayOutManager](http://www.miglayout.com/)！和[GridBagLayout](http://docs.oracle.com/javase/6/docs/api/java/awt/GridBagLayout.html)！因为如果您从头开始开发应用程序，这些是更可取的，但它们对我不起作用。我想使用 [示例](http://www.java-gaming.org/index.php?topic=25685.0)调整框架的子控件的大小！

下面是我在@Guillaume Polet 的 Answer 编辑中用于**GridBagLayOut的代码**

```
 try {
    Utility util = new Utility(null);
    Component[] com = null;
    java.util.List<Component> jComp = new ArrayList<Component>();
    if (obj instanceof JPanel) {
        JPanel panel = (JPanel) obj;
        com = panel.getComponents();
    } else if (obj instanceof JFrame) {
        JFrame JFrm = (JFrame) obj;

        jComp = util.harvestAllComp(JFrm);

    } else if (obj instanceof JFrame) {

        JFrame frm = (JFrame) obj;
        //  frm.cp = cp;
        String dbName = "GoldNew";
        util = new Utility(dbName);
        DBEngine db = new DBEngine(dbName);

        for (int a = 0; a < jComp.size(); a++) {
            if (jComp.get(a) instanceof JLabel) {

                JLabel label = (JLabel) com[a];
            } else if (jComp.get(a) instanceof JTextField) {
                JTextField jtxt = (JTextField) jComp.get(a);
                jtxt.setEditable(boolEnable);

                // Do Nothing 
            } else if (jComp.get(a) instanceof JTextArea) {
                JTextArea jtxt = (JTextArea) jComp.get(a);
                jtxt.setEditable(boolEnable);

            } else if (jComp.get(a) instanceof JXDatePicker) {
                JXDatePicker jdate = (JXDatePicker) jComp.get(a);
                jdate.setEditable(boolEnable);
                jdate.getEditor().setEditable(false);

                // Do Nothing 
            } else if (jComp.get(a) instanceof JTabbedPane) {
                JTabbedPane tabPane = (JTabbedPane) jComp.get(a);
                Component[] comTab = tabPane.getComponents();
                tabPane.removeAll();
                GridBagLayout tabLayOut = new GridBagLayout();
                tabPane.setLayout(tabLayOut);
                addRowOfComponents(tabPane, comTab);

            } 
            if (jComp.get(a) instanceof JPanel) {
                JPanel panel2 = (JPanel) jComp.get(a);
                Component[] comTab = panel2.getComponents();
                panel2.removeAll();
                GridBagLayout tabLayOut = new GridBagLayout();
                panel2.setLayout(tabLayOut);
                addRowOfComponents(panel2, comTab);

            } else if (jComp.get(a) instanceof JTable) {

                final JTable tbl = (JTable) jComp.get(a);
                tbl.getTableHeader().setReorderingAllowed(false);
            } else if ((!(jComp.get(a) instanceof JTextField)) && (!(jComp.get(a) instanceof JXDatePicker))
                    && (!(jComp.get(a) instanceof JTextArea))
                    && (!(jComp.get(a) instanceof JLabel))) {
                // jComp.get(a).setEnabled(boolEnable);
                jComp.get(a).setEnabled(boolEnable);

            }
        }
    }
} catch (Exception ex) {
    ex.printStackTrace();
} 
```

我想使用组件大小和屏幕大小来确定纵横比和使用纵横比缩放组件，如[示例](http://www.java-gaming.org/index.php?topic=25685.0)中所示！使用以下信息。如果有人指导如何完成任务，我将非常感激。

```
 Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();
        frm.setBounds(0, 0, dim.width - 100, dim.height - 100);
        int w = frm.getSize().width;//Size Of Form
        int h = frm.getSize().height;
        int x = (dim.width - w) / 2;
        int y = (dim.height - h) / 2; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T08:10:43.057

我认为您错误地使用了 LayoutManagers。不是将它们设置在容器上，而是将它们设置在其内容上（尽管这是允许的，但并不经常这样做）。

1.  在一个 LayoutManager 上使用`Container`
2.  可以选择在其子组件上设置约束。

这是一个完全愚蠢的示例，使用`GridBagLayout`它根据框架的大小增加或减少所有组件的大小：

```
import java.awt.Container;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.net.MalformedURLException;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTabbedPane;
import javax.swing.JTable;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;

public class TestGridBagLayout {

    protected void initUI() throws MalformedURLException {
        final JFrame frame = new JFrame();
        frame.setTitle(TestGridBagLayout.class.getSimpleName());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JPanel mainPanel = new JPanel(new GridBagLayout());
        JTable table = new JTable(new Object[][] { new Object[] { "Cell 1" }, new Object[] { "Cell 2" }, new Object[] { "Cell 3" } },
                new Object[] { "Header 1" });
        JList list = new JList(new Object[] { "Element 1", "Element 2", "Element 3", "Element 4" });
        JTextArea textArea = new JTextArea(8, 30);
        JTabbedPane tabbedPane = new JTabbedPane();
        tabbedPane.addTab("Tab 1", new JLabel("Tab 1"));
        tabbedPane.addTab("Tab 2", new JLabel("Tab 2"));
        tabbedPane.addTab("Tab 3", new JLabel("Tab 3"));
        addRowOfComponents(mainPanel, new JLabel("A label"), new JButton("A button"), new JTextField("A textfield", 24), new JComboBox(
                new Object[] { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" }));
        addRowOfComponents(mainPanel, new JScrollPane(table), new JScrollPane(list), new JScrollPane(textArea), tabbedPane);
        frame.add(mainPanel);
        frame.setSize(800, 500);
        frame.setVisible(true);
    }

    private void addRowOfComponents(Container parent, JComponent... children) {
        GridBagConstraints gbc = new GridBagConstraints();
        gbc.weightx = 1.0;
        gbc.weighty = 1.0;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(3, 3, 3, 3);
        for (int i = 0; i < children.length; i++) {
            JComponent jComponent = children[i];
            if (i + 1 == children.length) {
                gbc.gridwidth = GridBagConstraints.REMAINDER;
            }
            parent.add(jComponent, gbc);
        }
        parent.revalidate();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    new TestGridBagLayout().initUI();
                } catch (MalformedURLException e) {
                    e.printStackTrace();
                }
            }
        });
    }

} 
```

# php - 捕获信息并将其提取到文本文件

> ID：13486578
> 
> 赞同：0
> 
> 时间：2012-11-21T04:54:51.733
> 
> 标签：php, database, vb.net, ms-access

我们有一个没有任何源代码的现有软件。

该软件在某种程度上是一个会议室预订系统，用于指定日期的时间和超时的会议室。

我的任务是为预订系统创建一个网站，但我没有办法读取它的数据库。它是为使用 ( .accdb, .db ) 作为其文件系统的本地 PC 构建的。

我无法读取 accdb，因为它受密码保护。

我在这里有三个问题。

首先）我可以用任何编程语言以某种方式在预订系统的屏幕上捕获文本吗？

第二）如果第一次不可能，我可以以某种方式破解该 accdb 文件的密码，以便我可以连接到它并获取我需要的信息。或 Crack Hex 可执行文件

第三）系统有移动号码。例如：VisayasRoom：时间：2:35 持续时间：1 分 45 秒

我可以用一些软件以某种方式剪断那部分吗？

目前，我无法随心所欲地重新创建我们的系统。我希望我的帖子不会被关闭。我不知道我可以在哪里问。我先尝试谷歌搜索，结果在这里。

编辑：更新我的数据库是标准 Jet DB。当我试图将其作为记事本打开时。这是第一行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T12:22:28.433

如果`.db`文件是使用 Microsoft Access 95/97/2000/XP 或 Jet Database Engine 3.0/4.0 创建的，“Access PassView”（免费实用程序）应该会显示密码。下载它的站点在这里：[http ://www.nirsoft.net/utils/accesspv.html](http://www.nirsoft.net/utils/accesspv.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:53:15.887

您可以尝试使用[SysExporter 之类的屏幕抓取工具](http://www.donationcoder.com/forum/index.php?topic=32887.msg307110;topicseen)

但是要解密数据库，您将不得不使用专业服务或付费购买软件来为您完成。
您也可以尝试破解使用数据库的应用程序，但这可能非常复杂，并且密码可能很好地隐藏在其代码中。

请注意，这`.accdb`是较新的 Access 数据库文件，新格式是在 2007 版中引入的。
还有一件事：`.db`扩​​展名可以引用 Paradox 数据库或其他格式，它可能无法从 Access 打开，您必须准确找到它是什么类型的数据库。

# c++ - OpenGL 中的天空盒

> ID：13486581
> 
> 赞同：4
> 
> 时间：2012-11-21T04:55:19.693
> 
> 标签：c++, opengl, textures, skybox

我正在为 OpenGL 中的天空盒制作环境贴图，但遇到了纹理问题。我的代码会生成我要映射的纹理图块，而不是一个大纹理。瓷砖也失去了大部分分辨率并且非常小。

这是我的代码：

```
#include <windows.h>
#include <stdio.h>
#include <glew.h>
#include <glut.h>
#include "Camera.h"

Camera cam;
GLuint texture [6]; //the array for our texture

GLfloat angle = 0.0;

GLuint LoadTexture( const char * filename, int width, int height) {
    GLuint texture;
    unsigned char * data;
    FILE* file;

    file = fopen( filename, "rb" );
    if ( file == NULL ) return 0;
    data = (unsigned char *)malloc( width * height * 3 );
    fread( data, width * height * 3, 1, file );
    fclose( file );

    glGenTextures( 1, &texture ); 
    glBindTexture( GL_TEXTURE_2D, texture ); 
    glTexEnvf( GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE ); 

    glTexParameterf( GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR );
    glTexParameterf( GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR_MIPMAP_LINEAR );

    glTexParameterf( GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT );
    glTexParameterf( GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT );

    gluBuild2DMipmaps( GL_TEXTURE_2D, 3, width, height, GL_RGB, GL_UNSIGNED_BYTE, data );    
    free(data);
    return texture; 
}    

void FreeTexture( GLuint texture )
{
    glDeleteTextures( 1, &texture );
}

void skybox (void) {
float x = 0;
float y = 0;
float z = 0;
float width  = 100;
float height = 100;
float length = 100;
// Bind the BACK texture of the sky map to the BACK side of the cube
glBindTexture(GL_TEXTURE_2D, texture[0]);
// Center the skybox
x = x - width  / 2;
y = y - height / 2;
z = z - length / 2;
glBegin(GL_QUADS);      
    glTexCoord2f(1.0f, 0.0f); glVertex3f(x + width, y,  z);
    glTexCoord2f(1.0f, 1.0f); glVertex3f(x + width, y + height, z); 
    glTexCoord2f(0.0f, 1.0f); glVertex3f(x, y + height, z);
    glTexCoord2f(0.0f, 0.0f); glVertex3f(x, y,  z);
glEnd();
glBindTexture(GL_TEXTURE_2D, texture[1]);
glBegin(GL_QUADS);  
    glTexCoord2f(1.0f, 0.0f); glVertex3f(x, y,  z + length);
    glTexCoord2f(1.0f, 1.0f); glVertex3f(x, y + height, z + length);
    glTexCoord2f(0.0f, 1.0f); glVertex3f(x + width, y + height, z + length); 
    glTexCoord2f(0.0f, 0.0f); glVertex3f(x + width, y,  z + length);
glEnd();

glBindTexture(GL_TEXTURE_2D, texture[4]);
glBegin(GL_QUADS);      

    glTexCoord2f(1.0f, 0.0f); glVertex3f(x, y,  z);
    glTexCoord2f(1.0f, 1.0f); glVertex3f(x, y,  z + length);
    glTexCoord2f(0.0f, 1.0f); glVertex3f(x + width, y,  z + length); 
    glTexCoord2f(0.0f, 0.0f); glVertex3f(x + width, y,  z);
glEnd();
glBindTexture(GL_TEXTURE_2D, texture[5]);
glBegin(GL_QUADS);      
    glTexCoord2f(0.0f, 0.0f); glVertex3f(x + width, y + height, z);
    glTexCoord2f(1.0f, 0.0f); glVertex3f(x + width, y + height, z + length); 
    glTexCoord2f(1.0f, 1.0f); glVertex3f(x, y + height, z + length);
    glTexCoord2f(0.0f, 1.0f); glVertex3f(x, y + height, z);
glEnd();
glBindTexture(GL_TEXTURE_2D, texture[2]);
glBegin(GL_QUADS);      
    glTexCoord2f(1.0f, 1.0f); glVertex3f(x, y + height, z); 
    glTexCoord2f(0.0f, 1.0f); glVertex3f(x, y + height, z + length); 
    glTexCoord2f(0.0f, 0.0f); glVertex3f(x, y,  z + length);
    glTexCoord2f(1.0f, 0.0f); glVertex3f(x, y,  z);     

glEnd();
glBindTexture(GL_TEXTURE_2D, texture[3]);
glBegin(GL_QUADS);  
    glTexCoord2f(0.0f, 0.0f); glVertex3f(x + width, y,  z);
    glTexCoord2f(1.0f, 0.0f); glVertex3f(x + width, y,  z + length);
    glTexCoord2f(1.0f, 1.0f); glVertex3f(x + width, y + height, z + length); 
    glTexCoord2f(0.0f, 1.0f); glVertex3f(x + width, y + height, z);
glEnd();
//glBindTexture( GL_TEXTURE_CUBE_MAP, texture[0] ); //bind the texture
//glRotatef( angle, 1.0f, 1.0f, 1.0f );
//glutSolidSphere(2, 40, 40);
}

void display (void) {
glClearColor (0.0,0.0,0.0,1.0);
glClear (GL_COLOR_BUFFER_BIT);
glLoadIdentity();
cam.camera();
//gluLookAt (20.0, 20.0, 20.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);
texture[0] = LoadTexture( "Back.bmp", 256, 256 ); //load the texture
texture[1] = LoadTexture( "Front.bmp", 256, 256 ); //load the texture
texture[2] = LoadTexture( "Left.bmp", 256, 256 ); //load the texture
texture[3] = LoadTexture( "Right.bmp", 256, 256 ); //load the texture
texture[4] = LoadTexture( "Bottom.bmp", 256, 256 ); //load the texture
texture[5] = LoadTexture( "Top.bmp", 256, 256 ); //load the texture
glEnable(GL_TEXTURE_2D); //enable 2D texturing
glEnable(GL_TEXTURE_GEN_S); //enable texture coordinate generation
glEnable(GL_TEXTURE_GEN_T);
skybox();
for (int i = 0; i < 6; i++) {
    FreeTexture( texture[i] );
}
glutSwapBuffers();
angle = angle + 0.5;
cam.incAngle();
}

void keyboard (unsigned char key, int x, int y) {
switch (key) {
case 'q': cam.lookUpwards(); break;
case 'z': cam.lookDownwards(); break;
case 'w': cam.slideForward(); break;
case 's': cam.slideBackward(); break;
case 'a': cam.strafeLeft(); break;
case 'd': cam.strafeRight(); break;
case 'e': exit(0); break;
default: break;
}
}

void reshape(int x, int y) {
cam.reshape(x, y);
}

void mouseMovement(int x, int y) {
cam.mouseMovement(x, y);
}

int main (int argc, char **argv) {
glutInit(&argc, argv);
glutInitDisplayMode(GLUT_DOUBLE);
glutInitWindowSize(500, 500);
glutInitWindowPosition(100, 100);
glutCreateWindow("A basic OpenGL Window");
glutDisplayFunc(display);
glutIdleFunc(display);
glutReshapeFunc(reshape);
glutKeyboardFunc(keyboard);
glutPassiveMotionFunc(mouseMovement);
glutMainLoop();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T07:49:13.760

由于您手动指定纹理坐标，您应该删除/禁用以下自动生成：

```
glEnable(GL_TEXTURE_GEN_S); //enable texture coordinate generation
glEnable(GL_TEXTURE_GEN_T); 
```

此外，您将 .bmp 文件作为原始 RGB 数据加载看起来很可疑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-27T03:51:42.457

如果我们将 GL_RGB 替换为“glew.h”中包含的 GL_BGR，颜色将恢复正常

# php - 如何在 PHP 函数 imagecreatefromstring 中使用 png 字符串？

> ID：13486582
> 
> 赞同：2
> 
> 时间：2012-11-21T04:55:21.557
> 
> 标签：php, string, png

我有一个名为 $png_file 的文件，它是从数据库中获取的字符串。我希望能够通过以下方式使用它：

```
$image = imagecreatefromstring($png_file);
$width = imagesx($image);
$height = imagesy($image); 
```

这样我就可以获得作为字符串保存在数据库中的 png 文件的高度和宽度。

但是，每次我尝试这样做时，都会出现以下错误：

```
Warning: imagecreatefromstring() [function.imagecreatefromstring]: gd-png: fatal libpng error: Read Error: truncated data in  on line 39
Warning: imagecreatefromstring() [function.imagecreatefromstring]: gd-png error: setjmp returns error condition in  on line 39
Warning: imagecreatefromstring() [function.imagecreatefromstring]: Passed data is not in 'PNG' format in  on line 39
Warning: imagecreatefromstring() [function.imagecreatefromstring]: Couldn't create GD Image Stream out of Data in  on line 39
Warning: imagesx() expects parameter 1 to be resource, boolean given in  on line 40
Warning: imagesy() expects parameter 1 to be resource, boolean given in  on line 41 
```

我怎样才能解决这个问题？并注意 png 文件是一个字符串，我无法将其作为 url

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T06:03:42.547

检查这个。您将对“imagecreatefromstring”函数有所了解。 [http://php.net/manual/en/function.imagecreatefromstring.php](http://php.net/manual/en/function.imagecreatefromstring.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-15T19:09:58.353

可能会迟到，但您可以尝试：

```
$image = imagecreatefromstring(file_get_contents($png_file));
$width = imagesx($image);
$height = imagesy($image); 
```

注意：`file_get_contents`部分。

希望能帮助到你

# c++ - Windows XP 的 GetConsoleScreenBufferInfoEx 等效项？

> ID：13486585
> 
> 赞同：0
> 
> 时间：2012-11-21T04:55:50.120
> 
> 标签：c++, windows-7, windows-xp, console-application, backwards-compatibility

我知道 kernel32.dll 不提供这个似乎有一些额外功能的新功能，即颜色表的修改，有没有办法获取不在 CONSOLEBUFFERINFO 但在 CONSOLESCREENBUFFERINFOEX 中的值（不仅仅是注册表）？如果是这样，他们在哪里？我对此进行了一些搜索，但一无所获，而且它不像 Windows 7 控制台不使用 xp 那样的旧东西......而且全屏支持检查包含在 7 中而不是 xp 似乎很有趣，因为更多通常在 7 中它根本不受支持，除非您使用 VGA 低分辨率模式。任何帮助都会很棒...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:29:46.827

[James Brown](http://www.catch22.net/sourcecode)实现了功能[SetConsolePalette](http://www.catch22.net/sites/default/source/files/setconsoleinfo.c)。

它通过发送未记录的消息 WM_SETCONSOLEINFO 适用于 Windows 2000 及更高版本，旨在满足您的需求。

# ios - Apple 是否允许模板样式的应用程序通过审核？

> ID：13486587
> 
> 赞同：0
> 
> 时间：2012-11-21T04:56:10.277
> 
> 标签：ios, mobile, app-store, hybrid

我有一个应用程序可以发送给我们的客户，然后他们可以让他们的客户安装它。这意味着主应用程序将有多个版本，但每个客户端都有自定义。示例 我们的 200 位客户获得主应用程序，然后可以对其进行自定义（文本和图像仅通过网络） Apple 会允许这样的事情吗？

有没有其他方法可以绕过这种分发模式？我想一个很好的例子是房地产经纪人拥有一个定制的应用程序并在应用程序商店中，但它仍然是品牌 XYZ 的应用程序。

提前致谢

# database - Greenplum 中的并行数据加载

> ID：13486589
> 
> 赞同：-1
> 
> 时间：2012-11-21T04:56:21.897
> 
> 标签：database, database-design, greenplum

Greenplum 说它具有并行数据加载功能。我对它的工作原理有疑问。请务必向我解释。我知道记录是并行读取的，但我不明白并行写入是如何完成的。并行写入是在同一个数据库上完成还是在不同的数据库（段）上完成？请解释一下。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T20:14:49.843

并行写入在不同的段上完成，数据由 ETL 服务器上运行的 1 个或多个 gpfdist 实例提供。我怀疑魔法的一个重要部分`distributed by`是用于将数据库的行分散到段服务器的扩展。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T00:38:55.940

在 gpfdist 或 gphdfs 的帮助下，可以在段级别完成并发读/写。

例如，如果您想将数据卸载到磁盘上的文件，您可以使用连接到多个 gpfdist 位置的可写外部表，并且每个数据段会将数据并行写入这些目的地。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-30T13:16:52.440

约翰是对的。

默认情况下，每个 gpfdist 实例将处理 4 个并发连接。加载时，每个有连接的段将读取它们的“块”数据并根据表的分布散列进行处理。

见：[https ://blog.2ndquadrant.com/parallel_etl_with_greenplum/](https://blog.2ndquadrant.com/parallel_etl_with_greenplum/)

# webdriver - selenium 2.24 支持 windows 2012 吗？

> ID：13486591
> 
> 赞同：0
> 
> 时间：2012-11-21T04:56:27.160
> 
> 标签：webdriver, selenium-webdriver

我必须在 Amazon EC2 服务器上工作。客户端已经安装了windows 2012 server。我必须仅在该服务器上自动化和执行所有测试用例。我的问题是 Selenium 2.24 支持 windows 2012 吗？Windows 2012 for selenium 2.24 甚至支持哪个版本的版本？也请分享硒支持的浏览器和操作系统的网址

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T06:06:28.530

Selenium 可以在任何支持 java 的操作系统上运行。

[平台和浏览器](http://seleniumhq.org/about/platforms.html)

# android-intent - Android以编程方式添加和删除主屏幕快捷方式不适用于Android版本ICS

> ID：13486592
> 
> 赞同：1
> 
> 时间：2012-11-21T04:56:32.203
> 
> 标签：android-intent

Android 以编程方式添加和删除主屏幕快捷方式不适用于 4.0 版及更高版本。但它适用于其他版本

# drupal - Drupal 7 向页面添加自定义菜单

> ID：13486604
> 
> 赞同：3
> 
> 时间：2012-11-21T04:58:06.317
> 
> 标签：drupal, drupal-7, drupal-navigation

在过去的 4 个月里，我一直在使用 Drupal 7 进行开发，但我似乎无法找到关于如何在我的页面上添加更多菜单的直接答案。我了解整个 system_main_menu 和 system_secondary_menu，但是如果我制作自定义菜单（假设我有一个 footer_social_menu），我该如何向我的页面添加更多菜单？我只是喜欢动态菜单。

这就是我现在正在使用的东西

```
function cornmaze_links($variables){
    $html = '<ul>';
foreach($variables['links'] as $link){
    $html .= '<li>'. l($link['title'], $link['href'], $link).'</li>';
}
    $html .= '</ul>';
    return $html; 
```

}

我尝试使用 THEME_links($vars) 函数，但这会影响所有菜单，如果我想将某个 ID 添加到自定义菜单怎么办？或更改自定义菜单以使用所有 div？那是我不明白的。我不一定能使用 THEME_links() 函数遍历菜单？

我也不想把它们放在一个块中，如果我不需要的话，只是为了避免任何我不需要的额外标记。我只想能够控制菜单，无论它们是系统的还是自定义的。

任何帮助或灯棚都会很棒！先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T06:45:14.527

尝试[菜单块模块](http://drupal.org/project/menu_block)。它将您的菜单创建为块并且高度可配置。

这是[文档链接](http://drupal.org/node/748022)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-21T18:54:21.703

请检查，这可能对你有帮助，

```
function formuserentry_menu() {

  $items = array();

  $items['formuserentry'] = array( //this creates a URL that will call this form at "examples/form-example"
    'title' => 'Entry Page',

    'page callback' => array('formuserentry_view'),

    'access callback' => TRUE,

    'type' => MENU_NORMAL_ITEM

  );

  $items['formuserentry/application'] = array( //this creates a URL that will call this form at "examples/form-example"
    'title' => 'Entry Application Forms', //page title
    'description' => 'A form to mess around with.',
    'page callback' => 'drupal_get_form', //this is the function that will be called when the page is accessed.  for a form, use drupal_get_form
    'page arguments' => array('formuserentry_application' , 2), //put the name of the form here
    'access arguments' => array('administer your module'),
  );

  return $items;
}

/********** front page view ***********/

function formuserentry_view() {
 $result = 'My  Sub Menu URL was hit';

 $header = array('Entry Id','Name', 'DOB', 'Year', 'Image' );
  $rows = array();
  $no_yes = array('No', 'Yes');

  $results = db_query("SELECT * FROM userentryform ORDER BY userentryId DESC");

      foreach ($results as $node) {
        $rows[] = array(
                    l($node->firstname, 'formuserentry/application/'. $node->userentryId ),

            array('data' => $node->firstname, 'class' => 'title'),
            array('data' => $node->lastname, 'class' => 'type'),
            array('data' => $node->birthyear, 'class' => 'type'),
            array('data' => '<img src="sample.jpg">dff', 'class' => 'image'),
            );
       }
  return theme('table', array('header' => $header, 'rows' => $rows));

}

/********************** add form ***************************/

function formuserentry_application($form, &$form_state, $candidateId) {

    $firstname = ''; 
    $lastname = ''; 
    $birthyear = ''; 

    /****** query fetch ******/
    if(isset($candidateId)){
     $fetchquery = db_select('userentryform', 'n')
              ->fields('n', array('firstname','lastname', 'birthyear'))
              ->fields('n')
              ->condition('userentryId',$candidateId)
              ->execute()
              ->fetchAll();

            $firstname = $fetchquery[0]->firstname; 
            $lastname = $fetchquery[0]->lastname; 
            $birthyear = $fetchquery[0]->birthyear; 
    }

    /**************************/
    //print($fetchquery);
   //drupal_set_message('<pre>'. print_r($fetchquery[0]->firstname, TRUE) .'</pre>');
  $form['name'] = array(
    '#type' => 'fieldset',
    '#title' => t('Name'),
    '#collapsible' => TRUE,
    '#collapsed' => FALSE,
  );
  $form['name']['first'] = array(
    '#type' => 'textfield',
    '#title' => t('First Name'),
    '#required' => TRUE,
    '#default_value' => $firstname,
    '#description' => "Please enter your first name.",
    '#size' => 20,
    '#maxlength' => 20,
  );

  $form['name']['canid'] = array(
    '#type' => 'hidden',
    '#required' => FALSE,
    '#default_value' => $candidateId,
    '#description' => "Please enter your first name.",
    '#size' => 20,
    '#maxlength' => 20,
  );

  $form['name']['last'] = array(
    '#type' => 'textfield',
    '#title' => t('Last name'),
    '#value' => $lastname,
    '#required' => TRUE,
  );
  $form['name']['year_of_birth'] = array(
    '#type' => 'textfield',
    '#title' => "Year of birth",
    '#description' => 'Format is "YYYY"',
    '#value' => $birthyear,
    '#required' => TRUE,
  ); 

    // Image upload field.
   $form['name']['image'] = array(
    '#type' => 'managed_file',
    '#title' => 'File',
    '#upload_location' => 'public://my-files/',
    '#process' => array('formuserentry_my_file_element_process'),
    "#upload_validators"  => array('file_validate_is_image' => array())
  );

  $form['submit'] = array(
    '#type' => 'submit',
    '#value' => 'Submit',
  );
  return $form;

}

/*********  for validation ************/

> function formuserentry_my_file_element_process($element, &$form_state,
> $form) {   $element = file_managed_file_process($element, $form_state,
> $form);   $element['upload_button']['#access'] = FALSE;   return
> $element; }
> 
> function formuserentry_application_validate($form, &$form_state) {  
> $year_of_birth = $form_state['values']['year_of_birth'];
>     if ($year_of_birth && ($year_of_birth < 1900 || $year_of_birth > 2000)) {
>         form_set_error('year_of_birth', 'Enter a year between 1900 and 2000.');
>     } }

/********** form submission ***************/

    function formuserentry_application_submit($form, &$form_state) {
        $first_name    = $form_state['values']['first']; 
        $last_name     = $form_state['values']['last'];
        $year_of_birth = $form_state['values']['year_of_birth'];
        $profileimage      = $form_state['values']['image'];

        $canid      = $form_state['values']['canid'];

        if($canid == '') {
            $nid = db_insert('userentryform')
                  ->fields(array(
                    'firstname' => $form_state['values']['first'],
                    'lastname' => $form_state['values']['last'],
                    'birthyear' => $form_state['values']['year_of_birth'],
                    'profileimage' =>  $form_state['values']['profileimage'],
                  ))
                  ->execute(); 
            drupal_set_message(t('The form has been Added your last insert ID is => '.$nid));     
        } else {

        $nid = db_update('userentryform')
                  ->fields(array(
                    'firstname' => $form_state['values']['first'],
                    'lastname' => $form_state['values']['last'],
                    'birthyear' => $form_state['values']['year_of_birth']
                  ))
                  ->condition('userentryId',$canid)
                  ->execute(); 
        drupal_set_message(t('The form has been Updated your last insert ID is => '.$nid));

        }
        drupal_goto("/formuserentry/");

    } 
```

# java - 如何进行“顺序”作业调度（Quartz？）

> ID：13486607
> 
> 赞同：16
> 
> 时间：2012-11-21T04:58:10.050
> 
> 标签：java, scheduling, quartz-scheduler

我正在使用 Quartz Scheduling 并且有 2 个工作。第一个作业执行任务大约 2 分钟，第二个作业是为临时文件的清理操作设置。因此，我需要设置计划以在第一个作业执行/完成执行任务后我需要在第二个作业的帮助下进行清洁操作。
考虑示例 9 - Quartz 2.1.x 下的作业监听器，它指出我们可以定义一个名为 jobWasExecuted(_, _); 的方法；在作业侦听器中，它在第一个作业执行/或进入运行状态时执行。
我们是否能够设置可以侦听第一个作业完成然后执行第二个作业的时间表？或者，
我们是否能够像 Java 多线程中那样定义可以在第一个作业完成时执行的 join() 方法？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-21T05:25:36.777

> 目前没有“直接”或“免费”的方式来使用 Quartz 链接触发器。但是，您可以通过多种方式轻松完成它。以下是几种方法的概述：
> 
> 一种方法是使用一个监听器（即 TriggerListener、JobListener 或 SchedulerListener），它可以注意到作业/触发器的完成，然后立即安排新的触发器触发。这种方法可能会涉及一些问题，因为您必须通知侦听器执行哪个作业 - 您可能需要担心此信息的持久性。
> 
> 另一种方法是构建一个 Job，在其 JobDataMap 中包含要触发的下一个作业的名称，并在作业完成时（其 Execute() 方法的最后一步）让作业安排下一个作业。有几个人正在这样做，并且运气不错。大多数人已经创建了一个基本（抽象）类，它是一个 Job，它知道如何使用特殊键（常量）从 JobDataMap 中获取作业名称和组，并包含用于安排已识别作业的代码。然后他们简单地扩展这个类，包括工作应该做的额外工作。

参考：[http](http://www.quartz-scheduler.net/documentation/faq.html#how-do-i-chain-job-execution?-or,-how-do-i-create-a-workflow) ://www.quartz-scheduler.net/documentation/faq.html#how-do-i-chain-job-execution?-or,-how-do-i-create-a-workflow ？

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-08-03T22:26:42.813

我知道这是一个老问题，但是还有另外 2 个选项可用于链接您的工作的执行，人们会发现它们很有用：

1) 使用从早期版本开始就包含在标准 Quartz 发行版中的[JobChainingJobListener 。](http://quartz-scheduler.org/api/2.2.1/org/quartz/listeners/JobChainingJobListener.html)此侦听器允许您使用其*[addJobChainLink](http://quartz-scheduler.org/api/2.2.1/org/quartz/listeners/JobChainingJobListener.html#addJobChainLink(org.quartz.JobKey,%20org.quartz.JobKey))*方法以编程方式定义简单的作业链。

2) 使用我是主要开发人员的商业解决方案，例如[QuartzDesk 。](https://www.quartzdesk.com/documentation/features#job-chaining)QuartzDesk 包含一个强大的作业链引擎，它允许您将作业链的定义从应用程序代码外部化，并使您能够在运行时通过 GUI 更新作业链，而无需修改、重新部署和重新启动应用程序。作业链可以与特定的作业、触发器相关联，也可以是在任何作业执行时都会执行的全局作业链（对于全局作业执行失败处理程序等很有用）。

[![QuartzDesk GUI：编辑作业链目标](../Images/6df8df6ea4ca005811c8f1202d69585b.png)](https://i.stack.imgur.com/IHYs2.png)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-02-20T22:37:44.890

来自[http://www.quartz-scheduler.net/documentation/faq.html#how-do-i-chain-job-execution?-or,-how-do-i-create-a-workflow](http://www.quartz-scheduler.net/documentation/faq.html#how-do-i-chain-job-execution?-or,-how-do-i-create-a-workflow)

> 如何防止作业同时触发？
> 
> **石英.NET 2.x**
> 
> 实现 IJob 并使用 [DisallowConcurrentExecution] 属性装饰您的作业类。阅读 DisallowConcurrentExecutionAttribute 的 API 文档以获取更多信息。

注解在 Java 实现中可用。

# jquery-ui - $(".column").sortable 不是函数

> ID：13486609
> 
> 赞同：0
> 
> 时间：2012-11-21T04:58:15.210
> 
> 标签：jquery-ui, jquery-ui-sortable

我收到上述错误

```
$(".column").sortable is not a function 
```

我正在尝试在我的代码中创建可排序/可移动的 div。问题是，如果我正在使用一个新项目，那么代码工作正常，但是当我尝试在我的项目中运行它时，它给了我所说的错误。任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:01:06.093

听起来您忘记将 jquery-ui 脚本库添加到页面中。在 head 部分中添加以下内容以查看它是否有效。

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script> 
```

# objective-c - 如何使用 NSCoder 对 long long 属性进行编码/解码？

> ID：13486612
> 
> 赞同：8
> 
> 时间：2012-11-21T04:58:38.403
> 
> 标签：objective-c, ios, nscoder

如何在 iOS 中使用 NSCoder解码**long long**类型属性`initWithCoder:`并编码？`encodeWithCoder:`

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-21T05:09:25.357

在 iOS 上 a`long long`是 64 位的，所以使用`encodeInt64: forKey:`and`decodeInt64ForKey:`方法。

# java - 静态变量标志的值是多少？

> ID：13486613
> 
> 赞同：-5
> 
> 时间：2012-11-21T04:58:44.053
> 
> 标签：java

```
public class A{
    private static flag;

    public void count(){
        flag++;
    }
}

public class B extends A{
    public void count(){
        super.count();
    }
}

public class C extends A{
    public void count(){
        super.count();
    }
}

}

public class D extends A{
    public void count(){
        super.count();
    }
} 
```

让我们假设我的课程以下列方式执行 class B Class C class D

现在我想知道在 D 类计数方法之后标志实例变量的值是多少

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:05:30.453

您只需调用 flag++ 三次。所以最终的值是 flag+3（你必须初始化 flag）。不过，您必须处理并发问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T04:59:44.703

它是静态的，所以无论你调用它多少次，如果你所做的只是每次都递增它，无论你从哪个类调用它，这就是它的值。

不确定这是否是问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T05:04:05.560

假设您更正了声明：

```
private static int flag; 
```

...直到/除非有人实际创建 , , 或 , 的实例`A`是`B`因为`C`这`D`是`flag`它`0`在初始化时获得的值。

如果你开始实例化事物并调用它们的`count`函数（你必须实例化它们才能做到这一点，而`count`不是`static`），它的值将被`A#count`. 因为它是`static`，所以同一个成员在实例之间共享。因此：

```
new A().count();
// Now it's 1
new B().count();
// Now it's 2 
```

等等。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-21T05:10:31.760

tldr; “静态字段”或“类变量”表示在类[的所有实例](http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)（包括子类）之间共享的单个变量：

> 有时，您希望拥有所有对象共有的变量。这是通过静态修饰符完成的。在声明中带有 static 修饰符的字段称为静态字段或类变量。*它们[静态字段]与类相关联，而不是与任何对象相关联。**类的每个实例共享一个类变量，该变量位于内存中的一个固定位置。***任何对象都可以更改类变量的值，但也可以在不创建类实例的情况下操作类变量。

There is only *one* variable with that particular name. In this case the class qualified name is `A.flag` (prepending the package would make it fully qualified). Java just allows static fields be accessed in an instance-qualified manner, which I would consider a historical mistake .. as static fields exist independent of any instance.

# haskell - 导入App.EventBus，需要安装哪个模块？

> ID：13486614
> 
> 赞同：0
> 
> 时间：2012-11-21T04:58:48.767
> 
> 标签：haskell

我的项目导入模块 App.EventBus : "import App.EventBus" 我试图在 hayoo 中搜索，但找不到需要安装哪个模块。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T08:41:56.993

buster 的最新版本是 2.51。您正在尝试安装 2.21 版。所以我要尝试的第一件事是在重新运行`cabal update`之前运行`cabal install buster`。

你用的是哪个版本的 ghc？（`ghc --version`如果不确定，请运行。）Hackage 报告说[buster 2.51 使用 ghc-6.12 构建，](http://hackage.haskell.org/package/buster-2.51)但使用 ghc-7.0 和 ghc-7.4 失败。

# jquery - 带有 .NET 的 JQuery 对话框：在不相关的回发后显示隐藏的 Div

> ID：13486619
> 
> 赞同：0
> 
> 时间：2012-11-21T04:59:57.637
> 
> 标签：jquery, asp.net, webforms, postback, dialog

我正在使用一个非常简单的 JQuery 对话框。用户点击一个链接，之前隐藏的对话框打开。它非常适合一个问题：同一页面上有不相关的按钮会导致回发。如果单击这些按钮之一，对话框的隐藏 div 会显示在屏幕上，但没有样式。

精简到这篇文章的要点，这就是我所拥有的：

```
<a href="#" id="Choose_a_Customer-link"><img alt="Reliabills" src="/billingsystem/images/icn_help.png" border="0" /></a>

<div id="Choose_a_Customer" title="Choose a Customer Help"><p>Coming Soon...!</p></div>

<script>
$(function() {$("#Choose_a_Customer").dialog({ autoOpen: false, buttons: [{ text: "Ok", click: function() { $(this).dialog("close"); } }], width: 400 });

$("#Choose_a_Customer-link").click(function(event) { $("#Choose_a_Customer").dialog("open"); event.preventDefault(); });});

</script>

<input type="submit" name="ctl00$cnt$cmd_clients" value="Go >" onclick="javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$cnt$cmd_clients&quot;, &quot;&quot;, true, &quot;client&quot;, &quot;&quot;, false, false))" id="ctl00_cnt_cmd_clients" /> 
```

最后一个按钮是 .NET 按钮，它在 .aspx 页面中如下所示：

```
<asp:Button ID="cmd_clients" runat="server" Text="Go >" ValidationGroup="client" /> 
```

它是导致问题的按钮。单击它时，我会看到“即将推出...！” 没有它周围的对话框。

有任何想法吗？

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:19:32.360

尝试为 div 默认设置 display:none ：

```
<div style="display:none" id="Choose_a_Customer" title="Choose a Customer Help"><p>Coming Soon...!</p></div> 
```

和

```
<asp:ScriptManager runat="server" />
<script type="text/javascript">
  function pageLoad() {
    $("#Choose_a_Customer").dialog({ autoOpen: false, buttons: [{ text: "Ok", click: function() { $(this).dialog("close"); } }], width: 400 });
  }
</script> 
```

此代码有效：

```
 <%@ Page Language="C#" AutoEventWireup="true" CodeBehind="WebForm1.aspx.cs" Inherits="WebApplication3.WebForm1" %>
    <!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head runat="server">
        <title></title>
        <link href="Content/themes/base/jquery-ui.css" rel="stylesheet" />
        <script src="Scripts/jquery-1.7.1.js"></script>
        <script src="Scripts/jquery-ui-1.8.20.js"></script>
    </head>
    <body>
        <form id="form1" runat="server">       
            <asp:ScriptManager runat="server"></asp:ScriptManager>
            <asp:UpdatePanel runat="server">
                <ContentTemplate>
                    <a href="#" id="Choose_a_Customer-link">Show dialog</a>
                    <div id="Choose_a_Customer" title="Choose a Customer Help">
                        <p>Coming Soon...!</p>
                    </div>
                    <script>
                        function pageLoad() {
                            $("#Choose_a_Customer").dialog({ autoOpen: false, buttons: [{ text: "Ok", click: function() { $(this).dialog("close"); } }], width: 400 });
                            $("#Choose_a_Customer-link").click(function(event) { $("#Choose_a_Customer").dialog("open"); event.preventDefault(); });
                        };
                    </script>
                    <!--<input type="submit" name="ctl00$cnt$cmd_clients" value="Go >" onclick="javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$cnt$cmd_clients&quot;, &quot;&quot;, true, &quot;client&quot;, &quot;&quot;, false, false))" id="ctl00_cnt_cmd_clients" />-->
                    <asp:Button ID="Button1" runat="server" Text="Go >" OnClick="Button1_Click" />
                </ContentTemplate>
            </asp:UpdatePanel>
        </form>
    </body>
    </html> 
```

对于多重实例：文件**WebUserControl1.ascx**

```
<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="WebUserControl1.ascx.cs" Inherits="WebApplication3.WebUserControl1" %>
<a href="#" id="Choose_a_Customer-link<%=ID %>"><%=LinkText %></a>
<div id="Choose_a_Customer<%=ID %>" title="Choose a Customer Help">
    <asp:PlaceHolder runat="server" ID="PlaceHolder1" />    
</div>
<asp:Button ID="Button1" runat="server" Text="Go >" OnClick="Button1_Click"  /> 
```

文件**WebUserControl1.ascx.cs**

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace WebApplication3
{
    public partial class WebUserControl1 : System.Web.UI.UserControl
    {
        public class htmlContainer : Control, INamingContainer
        {
        }

        private ITemplate contentTemplate = null;

        [TemplateContainer(typeof(htmlContainer))]
        [PersistenceMode(PersistenceMode.InnerProperty)]
        public ITemplate ContentTemplate
        {
            get{ return contentTemplate; }
            set{ contentTemplate = value; }
        }

        void Page_Init()
        {
            if (contentTemplate != null)
            {
                htmlContainer container = new htmlContainer();
                contentTemplate.InstantiateIn(container);
                PlaceHolder1.Controls.Add(container);
            }
        }

        public string LinkText { get; set; }

        protected void Page_Load(object sender, EventArgs e)
        {
            ScriptManager.RegisterClientScriptBlock(this, this.GetType(), "key" + ID, 
String.Format(@"
$(document).ready(function(){{
    $(""#Choose_a_Customer{0}"").dialog({{ autoOpen: false, buttons: [{{ text: ""Ok"", click: function () {{ $(this).dialog(""close""); }} }}], width: 400 }});
    $(""#Choose_a_Customer-link{0}"").click(function (event) {{ $(""#Choose_a_Customer{0}"").dialog(""open""); event.preventDefault(); }});
}});
", ID),
            true);
        }

        protected void Button1_Click(object sender, EventArgs e)
        {
        }
    }
} 
```

文件**WebForm1.aspx**

```
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="WebForm1.aspx.cs" Inherits="WebApplication3.WebForm1" %>
<%@ Register Src="~/WebUserControl1.ascx" TagPrefix="uc1" TagName="WebUserControl1" %>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <link href="Content/themes/base/jquery-ui.css" rel="stylesheet" />
    <script src="Scripts/jquery-1.7.1.js"></script>
    <script src="Scripts/jquery-ui-1.8.20.js"></script>
</head>
<body>
    <form id="form1" runat="server">       
        <asp:ScriptManager runat="server"></asp:ScriptManager>

        <asp:UpdatePanel runat="server">
            <ContentTemplate>

                <uc1:WebUserControl1 runat="server" ID="WebUserControl1" LinkText="Instance1" >
                    <ContentTemplate>
                        <p>Content of dialog 1</p>
                    </ContentTemplate>
                </uc1:WebUserControl1>

                <uc1:WebUserControl1 runat="server" ID="WebUserControl2" LinkText="Instance2" >
                    <ContentTemplate>
                        <p>Content of dialog 2</p>
                    </ContentTemplate>
                </uc1:WebUserControl1>

                <uc1:WebUserControl1 runat="server" ID="WebUserControl3" LinkText="Instance3" >
                    <ContentTemplate>
                        <p>Content of dialog 3</p>
                    </ContentTemplate>
                </uc1:WebUserControl1>

            </ContentTemplate>
        </asp:UpdatePanel>
    </form>
</body>
</html> 
```

# sql-server - SQL Server如何显示删除语句的详细信息

> ID：13486623
> 
> 赞同：1
> 
> 时间：2012-11-21T05:00:22.003
> 
> 标签：sql-server, sql-delete

我想执行一个简单的删除语句，如下所示：

```
DELETE
FROM table
WHERE table.value = 123 
```

我期待从表中删除 512 行，因为这 512 行具有 value `123`。

但是，运行 delete 语句后显示 5 行“受影响的 xxx 行”。

*   最后两行是相同的，“512 行受影响”，这是预期的。
*   第一个“受影响的 512 行”是实际删除。
*   第二个“受影响的 512 行”是将 512 行插入 table_AUDIT 的触发器（唯一的删除触发器）。

“受影响的 xxx 行”的前 3 行呢？

我不知道哪些表受到影响，所以我不知道如何使用 OUTPUT(googled) 来确定哪些行/表受到影响。

我的问题是：如何显示删除行的详细信息？插入无意义的“123行影响”，我想看看哪些表中的哪些行被删除了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:32:52.450

您能做的最好的事情是获得一个包含触发器的查询计划。哪些行是留给您的情报的——查询计划通常不提供此信息。

# operating-system - 无法在 qemu 中启动 xv6

> ID：13486629
> 
> 赞同：0
> 
> 时间：2012-11-21T05:00:51.907
> 
> 标签：operating-system, qemu, xv6

我使用 Debian Wheezy，我想在 qemu 中运行 xv6。我已经安装了 libsdl1.2-dev 然后开始运行 make qemu。但是出现错误：Could not initalize SDL（could not find the device）exiting。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T15:25:38.157

这是因为 qemu 默认尝试启动 X。通过使用构建它

`make qemu-nox`

或者，如果您要通过 SSH 连接到远程机器，请使用`ssh -X`

来源：[http ://www.cs.utexas.edu/~mwalfish/classes/f10-cs395t/labs/lab1.html](http://www.cs.utexas.edu/~mwalfish/classes/f10-cs395t/labs/lab1.html)

# .htaccess - .htaccess Rewrite 最后没有斜线就不能工作

> ID：13486630
> 
> 赞同：0
> 
> 时间：2012-11-21T05:00:51.137
> 
> 标签：.htaccess

我对 .htaccess 有疑问，希望您能帮助我。

基本上我有以下结构：

> root/
>        + _archive
>        + index.html
>        + folder1
>        + folder2
>        + css
>        + ...

在存档中，我有几个文件夹，我希望它可以通过我的站点的根目录访问。

假设我的网站调用 rafael.com，那么我将拥有以下档案：

> [http://www.rafael.com/_archive/folder10](http://www.rafael.com/_archive/folder10)
> [http://www.rafael.com/_archive/folder20](http://www.rafael.com/_archive/folder20)
> [http://www.rafael.com/_archive/folder30](http://www.rafael.com/_archive/folder30)

我希望它们可以从（没有_archive）访问：

> [http://www.rafael.com/folder10](http://www.rafael.com/folder10)
> [http://www.rafael.com/folder20](http://www.rafael.com/folder20)
> [http://www.rafael.com/folder30](http://www.rafael.com/folder30)

但我的根目录上也有文件夹和 css 以及图像等以继续工作。请记住，在文件夹 10、文件夹 20、文件夹 30 下我也可以拥有自己的图像和 css 以及 javascript。

好吧，我正在尝试以下 .htaccess

```
RewriteEngine On
RewriteCond $1 ^(folder10|folder20|folder30)
RewriteRule ^(.*)$ _archive/$1 [L] 
```

如果我使用[http://www.rafael.com/folder30/](http://www.rafael.com/folder30/)调用（末尾带有斜线）[，](http://www.rafael.com/folder30)那效果很好重定向到[http://www.rafael.com/_archive/folder30/](http://www.rafael.com/_archive/folder30/)。

那么任何人都可以向我解释为什么要重定向它以及如何修复它以使[http://www.rafael.com/folder30](http://www.rafael.com/folder30)和[http://www.rafael.com/folder30/](http://www.rafael.com/folder30/)在不重定向的情况下正常工作？:)

提前谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T07:27:50.680

你还有其他规定吗？没有`[R=30x]`标志，它不应该明显地重定向 url。您还需要将您的修复`RewriteCond $1`为这样的：

```
RewriteEngine On
RewriteCond %{REQUEST_URI} ^folder(10|20|30)
RewriteRule ^(.*)$ /_archive/$1 [NC,L] 
```

# asp.net-mvc-3 - 无法显示图像

> ID：13486631
> 
> 赞同：0
> 
> 时间：2012-11-21T05:00:53.313
> 
> 标签：asp.net-mvc-3

我在两个文件夹中都放了一张图片：/Views/Home/chart02.jpg 和 /Content/chart02.jpg

在视图文件 index.cshtml 中：

```
@{
    ViewBag.Title = "Home Page";
}

<h2>@ViewBag.Message</h2>

<p>
To learn more about ASP.NET MVC visit <a href="http://asp.net/mvc" title="ASP.NET MVC Website">http://asp.net/mvc</a>.

    <img src="<%= @Url.Content("~/Content/chart02.jpg") %>" />  
    <img src="<%= Url.Content("~/Content/chart02.jpg") %>" />    
    <img src="<%= Url.Content("~")%>/Content/chart02.jpg"/>
    <%= Url.Content("~/Home/chart02.jpg") %>
</p> 
```

但它们都不起作用。在查看页面源代码中：

```
<p>
To learn more about ASP.NET MVC visit <a href="http://asp.net/mvc" title="ASP.NET MVC Website">http://asp.net/mvc</a>.

    <img src="<%= /Content/chart02.jpg %>" />    
    <img src="<%= Url.Content("~/Content/chart02.jpg") %>" />   
    <img src="<%= Url.Content("~")%>/Content/chart02.jpg"/>
    <%= Url.Content("~/Home/chart02.jpg") %>
</p> 
```

我在某个地方错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:11:05.723

你有 Razor 和 WebForms 的混合。您的标记应如下所示：

```
<img src="@Url.Content("~/Content/chart02.jpg")" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:05:17.970

现在编辑您的帖子已清理并且您的代码正确显示：

在您的每个图像标签中，您都有一个小错误。如果您使用的是 MVC 3 和 Razor，则不再使用 <%= %>。只需在代码前加上@。

```
<img src="@Url.Content("~/Content/chart02.jpg")"> 
```

或者，根据您的 MVC 版本，您可以跳过[Url.Content](http://msdn.microsoft.com/en-us/library/system.web.mvc.urlhelper.content%28v=vs.108%29.aspx)

```
<img src="~/Content/chart02.jpg"> 
```

# facebook - IE 卡在权限请求

> ID：13486635
> 
> 赞同：1
> 
> 时间：2012-11-21T05:01:16.533
> 
> 标签：facebook, internet-explorer, permissions

我有一个以前可以运行的桌面应用程序。我用以下方式调用 FB 应用程序：[https ://www.facebook.com/dialog/oauth?client_id=401292276603778&redirect_uri=https%3A%2F%2Fwww.facebook.com%2Fconnect%2Flogin_success.html&scope=manage_pages%2Cpublish_stream%2Cphoto_upload&response_type=token&display =弹出](https://www.facebook.com/dialog/oauth?client_id=401292276603778&redirect_uri=https%3A%2F%2Fwww.facebook.com%2Fconnect%2Flogin_success.html&scope=manage_pages%2Cpublish_stream%2Cphoto_upload&response_type=token&display=popup)

最近，在权限请求页面中，这一直卡在 IE 中。无论我点击多少次“允许”按钮，它都停留在权限请求页面上。它不会卡在 Firefox 或 Chrome 中。但由于桌面应用程序使用嵌入式 IE 浏览器，我现在陷入困境。我这边没有代码更改，我估计问题是在上周出现的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T07:45:38.860

我们在这里遇到了同样的问题。

它似乎遍及任何站点——我们已经在 Vimeo.com 以及我们自己的站点上进行了尝试，我们可以在每个站点上复制该问题。

我们为解决此问题而采取的步骤如下：

1.  确保您有一个从未在该网站上使用过的 Facebook 帐户
2.  确保您**没有**登录该 Facebook 帐户
3.  访问网站，点击 Facebook 登录按钮
4.  你会去Facebook，登录
5.  然后它会向您显示一个权限屏幕，其中包含转到应用程序的按钮
6.  单击该按钮只会导致页面重新加载的无限循环，并且您会再次看到相同的内容

该问题甚至可以在 Facebook 自己的开发者网站页面上复制 - [http://developers.facebook.com/docs/reference/plugins/login/](http://developers.facebook.com/docs/reference/plugins/login/)

# iphone - 是否可以在 iOS5 中的另一个 UIAlertView 上显示 UIAlertView

> ID：13486642
> 
> 赞同：0
> 
> 时间：2012-11-21T05:01:44.220
> 
> 标签：iphone, objective-c, ios5, uialertview

我`password`首先进入`alertView`，如果密码不正确，然后另一个`alertView`显示密码不正确。现在第一个`alertView`消失了。我想在第一个上显示第二`alertView`个`alertView`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:48:48.047

这不是那么复杂的工作，我只是这样做了：-

```
UITextField *forgetPass;
-(IBAction)Password{// here is a Action for login password 
    //[txtEmail resignFirstResponder];

    UIAlertView* dialog = [[UIAlertView alloc] init];
    [dialog setDelegate:self];
    [dialog setTitle:@"Enter your password"];
    [dialog setMessage:@" "];
    [dialog addButtonWithTitle:@"Cancel"];
    [dialog addButtonWithTitle:@"OK"];
    dialog.tag= 1;

    forgetPass = [[UITextField alloc] initWithFrame:CGRectMake(20.0, 45.0, 245.0, 25.0)];
    forgetPass.delegate = self;
    [forgetPass setSecureTextEntry:YES];

    forgetPass.placeholder = @"password";
    forgetPass.keyboardType = UIKeyboardTypeNumbersAndPunctuation;
    [forgetPass setBackgroundColor:[UIColor whiteColor]];
    [dialog addSubview:forgetPass];
    CGAffineTransform moveUp = CGAffineTransformMakeTranslation(0.0, 0.0);
    [dialog setTransform: moveUp];
    [dialog show];

}

   -(void) alertView:(UIAlertView *)alert clickedButtonAtIndex:(NSInteger)buttonIndex{

    if(alert.tag==1)
    {
    if (buttonIndex == 1) { // OK pushed
        if([forgetPass.text length]>0 )
        {

        }
        else {
            UIAlertView *alert2 = [[UIAlertView alloc]initWithTitle:@"Oops..!" message:@"please enter your current password" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
            UITextField *forgetPass2 = [[UITextField alloc] initWithFrame:CGRectMake(20.0, 45.0, 245.0, 25.0)];
            forgetPass2.delegate = self;
            [forgetPass2 setSecureTextEntry:YES];

            forgetPass2.placeholder = @"password";
            forgetPass2.keyboardType = UIKeyboardTypeNumbersAndPunctuation;
            [forgetPass2 setBackgroundColor:[UIColor whiteColor]];
            [alert2 addSubview:forgetPass2];
            forgetPass2.hidden=YES;
            CGAffineTransform moveUp = CGAffineTransformMakeTranslation(0.0, 0.0);
            [alert2 setTransform: moveUp];

            alert2.tag=2;
            [alert2 show];
            [alert2 release];

        }
    }
    if (buttonIndex == 0)
    {

    }
    }
    else if(alert.tag==2)
    {

        if (buttonIndex == 0)
        {
             [self Password];
        }
    }

} 
```

我只是为您创建了一个演示，可能对您有帮助，请下载：-

[http://www.sendspace.com/file/zptg8l](http://www.sendspace.com/file/zptg8l)

# php - 防止通过 url 直接访问 fancybox iframe 内容

> ID：13486643
> 
> 赞同：0
> 
> 时间：2012-11-21T05:01:44.003
> 
> 标签：php, javascript, fancybox-2

是否有任何解决方案可以阻止访问仅通过 fancybox iframe 调用的任何内容？

我使用fancybox 2.0 版和PHP 作为服务器端编程。

看看例子。

```
<a href="feedback.php" class="feedback fancybox.iframe">Feedback</a> 
```

现在一般当用户点击反馈链接时，fancybox 会处理请求。

但我想阻止用户直接从浏览器的地址栏访问“feedback.php”页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T15:07:13.277

```
if (!empty($_SERVER['HTTP_REFERER'])){
    header("Location: ".$_SERVER['HTTP_REFERER']);}
else {
   header("Location: index.php");
} 
```

# javascript - 从 Silverlight 调用 Javascript 函数时，我收到错误“无法调用”该函数

> ID：13486644
> 
> 赞同：2
> 
> 时间：2012-11-21T05:01:47.583
> 
> 标签：javascript, silverlight

我正在从 Silverlight 调用 JavaScript 函数。我的 JavaScript 文件如下：

```
function sayHello() {
    alert("Hello from Silverlight via Javascript");
}

function showText(mytxt) {
    alert(mytxt);
} 
```

在我的 Silverlight .cs 文件中，我有 2 个用于 2 个不同按钮的事件处理程序。Button1 的事件处理程序调用 sayHello()。这很完美。

Button2 的事件处理程序调用 showText() 并且这个失败并出现错误“未能调用 showText”。以下是我的 Silverlight 代码。

```
 void myButtonClickEvent(object sender, RoutedEventArgs e)
    {
      HtmlPage.Window.Invoke("showText", "show this text");
    } 
```

我是客户端编程的新手。感谢您对此的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T06:22:09.793

我得到了这个工作。问题是，JavaScript 文件被缓存了。添加新方法 showText 后，我​​对其进行编译并再次对其进行测试。但是 JavaScript 文件没有得到更新，所以我的 Silverlight 应用程序找不到新的 JavaScript 方法 showText。清除浏览器缓存和 Silverlight 缓存没有帮助。为了解决这个问题，我重命名了 JavaScript 文件并重新编译了它。这一次，该方法被使用参数调用。我仍然需要弄清楚如何在进行更改后更新 JavaScript 文件。我正在构建 JavaScript 文件作为 dll 的资源。

# php - 使用 PHP 文本限制功能显示完整的变音符号

> ID：13486646
> 
> 赞同：1
> 
> 时间：2012-11-21T05:01:56.820
> 
> 标签：php

我有以下函数用“...”替换超过 32 个字符的字符串。我的问题是，如果变音符号落在第 29 到第 33 个字符的范围内，它会由一个奇怪的字符表示。如何更改函数以显示整个变音符号而不破坏它，尽管我在变量 $length 中放置了多少数字长度？

例如，für 前面有 31 个字符，但使用下面的函数，它会给出 31 个字符加上 f...

```
function textLimit($string, $length, $replacer = '...')
{
  if(strlen($string) > $length)
  return (preg_match('/^(.*)\W.*$/', substr($string, 0, $length+1), $matches) ? $matches[1] : substr($string, 0, $length)) . $replacer;

  return $string;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T12:55:04.400

您似乎正在使用 UTF-8 字符串和两者`strlen`，`substr`而您`preg_match`并没有意识到这一点。对于字符串函数，您需要使用 this：

[http://www.php.net/manual/en/ref.mbstring.php](http://www.php.net/manual/en/ref.mbstring.php)

以下示例应使用 UTF-8 字符串（注意 mb 函数和 u preg 修饰符）：

```
function textLimit($string, $length, $replacer = '...') {
  if(mb_strlen($string) > $length) {
    return (preg_match('/^(.*)\W.*$/u', mb_substr($string, 0, $length+1), $matches) ? $matches[1] : mb_substr($string, 0, $length)) . $replacer;
  }

  return $string;
}

mb_internal_encoding('UTF-8');
echo 'example: '.textLimit('füüür', 2)."\n"; 
```

输出：

```
example: fü... 
```

# c - 为什么 EXC_BAD_ACCESS，无法访问内存？

> ID：13486647
> 
> 赞同：1
> 
> 时间：2012-11-21T05:02:15.483
> 
> 标签：c

我的程序有问题。我用一个虚拟的 alfabeth 制作了一个简单的编码程序，但是在尝试访问 char 数组时它无法访问该位置，怎么会？我不知道它是否与 size_t 类型而不是 int 类型有关？

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <time.h>
#include <ctype.h>

static char * createAlfa(void);
char * codify(char *mess, char *alfa);

int
main(void)
{
    char *alfa=createAlfa();
    printf("write your mess to codify: \n");
    char mess[]="";
    scanf("%s", mess);
    char *code=codify(mess, alfa);
    printf("your codified message is: %s\n", code);
    return 0;
}

static char *
createAlfa(void)
{
    char *codealfa=malloc(sizeof(char)*27);
    srand((unsigned int)time(NULL));
    int i, ran;
    for(i=0; i<26; i++)
    {
        codealfa[i]='A'+i;
        if((ran=rand()%26)<i)
        {
            codealfa[i]=codealfa[ran];
            codealfa[ran]='A'+i;
        }
    }
    codealfa[26]=0;
    return codealfa;
}

char *
codify(char *mess, char *alfa)
{
    size_t len=strlen(mess);
    char *code=malloc(sizeof(char)*len);
    int i;
    for(i=0; i<len; i++)
    {
        int pos=(int)(toupper(mess[i])-'A');  //pos is behaving correctly, first loop is 
                                              //it is 15 when i write "potato"
        code[i]=alfa[pos];      //EXC_BAD_ACCESS, Could not access memory
    }
    code[i]=0;
    return code;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T05:09:40.100

您声明`mess`为：

```
char mess[]=""; 
```

这使得它的大小等于`1`, 来保存 NUL 字符。接下来，您正在扫描该数组中的输入：

```
scanf("%s", mess); 
```

这不起作用，因为没有足够的空间。

要解决此问题，您需要以`mess`正确的大小声明：比您打算在其中存储的最大字符数的长度大一。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-21T05:10:44.790

我相信问题是

```
char mess[]=""; 
```

没有为要扫描的字符串分配内存。

将其替换为

```
char mess[MAX_LENGTH];
mess[0] = 0; 
```

另请注意，您使用的 scanf 不会限制输入的长度，请参阅[如何防止 scanf 在 C 中导致缓冲区溢出？](https://stackoverflow.com/questions/1621394/how-to-prevent-scanf-causing-a-buffer-overflow-in-c)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-21T05:16:45.817

当我`valgrind`在 Mac OS X 上运行代码时，我得到输出：

```
$ valgrind excbadacc
==80786== Memcheck, a memory error detector
==80786== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==80786== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==80786== Command: excbadacc
==80786== 
write your mess to codify: 
absintheabelones
==80786== Invalid write of size 1
==80786==    at 0x100000D1B: codify (excbadacc.c:53)
==80786==  Address 0x100007210 is 0 bytes after a block of size 16 alloc'd
==80786==    at 0xB823: malloc (vg_replace_malloc.c:266)
==80786==    by 0x100000CC5: codify (excbadacc.c:45)
==80786== 
==80786== Invalid read of size 1
==80786==    at 0xC894: strlen (mc_replace_strmem.c:398)
==80786==    by 0x1748C2: __vfprintf (in /usr/lib/system/libsystem_c.dylib)
==80786==    by 0x17318D: vfprintf_l (in /usr/lib/system/libsystem_c.dylib)
==80786==    by 0x17C2CF: printf (in /usr/lib/system/libsystem_c.dylib)
==80786==    by 0x100000DFA: main (excbadacc.c:18)
==80786==  Address 0x100007210 is 0 bytes after a block of size 16 alloc'd
==80786==    at 0xB823: malloc (vg_replace_malloc.c:266)
==80786==    by 0x100000CC5: codify (excbadacc.c:45)
==80786== 
your codified message is: AQBRSKHDAQDPZSDB
==80786== 
==80786== HEAP SUMMARY:
==80786==     in use at exit: 10,330 bytes in 36 blocks
==80786==   total heap usage: 36 allocs, 0 frees, 10,330 bytes allocated
==80786== 
==80786== LEAK SUMMARY:
==80786==    definitely lost: 43 bytes in 2 blocks
==80786==    indirectly lost: 0 bytes in 0 blocks
==80786==      possibly lost: 0 bytes in 0 blocks
==80786==    still reachable: 10,287 bytes in 34 blocks
==80786==         suppressed: 0 bytes in 0 blocks
==80786== Rerun with --leak-check=full to see details of leaked memory
==80786== 
==80786== For counts of detected and suppressed errors, rerun with: -v
==80786== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 1 from 1)
$ 
```

一个问题是您在以下位置有一个错误`codify()`：

```
size_t len=strlen(mess);
char *code=malloc(sizeof(char)*len); 
```

您还需要添加 1 来为 null 分配足够的空间。

警告：一次运行，我输入了“土豆”并得到了“编码”输出 POTATO；这不是一个很好的加密。

# iphone - 在一个表格视图中显示两个实体

> ID：13486655
> 
> 赞同：1
> 
> 时间：2012-11-21T05:03:25.380
> 
> 标签：iphone, objective-c, core-data

我有一个自定义表格视图单元格。带有两个标签。右侧的标签从实体加载其文本。（见下图）

```
-(void)viewWillAppear:(BOOL)animated{
if (self.context == nil)
{
    self.context = [(RootAppDelegate *)[[UIApplication sharedApplication] delegate] managedObjectContext];
}
NSFetchRequest *request = [[NSFetchRequest alloc]init];
NSEntityDescription *entity = [NSEntityDescription entityForName:@"Entity" inManagedObjectContext:self.context];

[request setEntity:entity];
NSError *error;
NSMutableArray *array = [[self.context executeFetchRequest:request error:&error] mutableCopy];
[self setTableArray:array];
[self.myTableView reloadData];
[super viewWillAppear:YES];
} 
```

我根据文档相应地设置了文本。

我的问题在于当我尝试从不同的实体加载第二个标签文本时，很简单，我尝试了这个：

```
-(void)viewWillAppear:(BOOL)animated{
if (self.context == nil)
{
    self.context = [(RootAppDelegate *)[[UIApplication sharedApplication] delegate] managedObjectContext];
}
NSFetchRequest *request = [[NSFetchRequest alloc]init];
NSFetchRequest *sRequest = [[NSFetchRequest alloc]init];
NSEntityDescription *entity = [NSEntityDescription entityForName:@"Entity" inManagedObjectContext:self.context];
NSEntityDescription *sEntity = [NSEntityDescription entityForName:@"Entity2" inManagedObjectContext:self.context];
[request setEntity:entity];
[sRequest setEntity:sEntity];
NSError *error;
NSError *sError;
NSMutableArray *array = [[self.context executeFetchRequest:request error:&error] mutableCopy];
NSMutableArray *sArray = [[self.context executeFetchRequest:sRequest error:&sError]mutableCopy];
[self setTableArray:array];
[self setSecondTableArray:sArray];
[self.ammoTable reloadData];
[super viewWillAppear:YES];
} 
```

我通过以下方式设置表格视图的单元格文本：

```
-(UITableViewCell *) tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
static NSString * identifier = @"identifier";

self.cell = [tableView dequeueReusableCellWithIdentifier:identifier];

Entity2 *entity2 = [self.secondTableArray objectAtIndex:indexPath.row];
Entity *entity = [self.tableArray objectAtIndex:indexPath.row];

self.cell.rightLabel.text = [[entity.brand stringByAppendingString:@" "] stringByAppendingString:entity.model];
self.cell.leftLabel.text = entity2.numberOfRounds;
return self.cell;
} 
```

当我推送这个视图时，我得到了这个错误：

`*** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[__NSArrayM objectAtIndex:]: index 0 beyond bounds for empty array'`

我在这一行得到一个`SIGABRT`错误：

`Entity2 *entity2 = [self.secondTableArray objectAtIndex:indexPath.row];`

任何帮助将不胜感激，谢谢！ ![在此处输入图像描述](../Images/b0d452c10920194ad492a2b37c9c0392.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-28T02:24:25.387

我没有尝试加载 2 个不同的实体，而是向原始实体添加了另一个属性，并且我在实体中导入/使用了新创建的属性来填充正确的标签！

# html - 具有最大宽度的 CSS 多列流体设计的序列（按特定顺序调整大小）

> ID：13486656
> 
> 赞同：0
> 
> 时间：2012-11-21T05:03:26.353
> 
> 标签：html, css

有很多教程教人们如何使用最小宽度、最大宽度等设置三列流体设计。例如[http://www.alistapart.com/articles/holygrail/](http://www.alistapart.com/articles/holygrail/)

我的问题是，每当我尝试调整浏览器窗口的大小时，首先调整右列的大小，当它达到最小宽度时，调整中心列的大小等等。有人知道吗？最好不使用 Javascript 或任何 CSS hack

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:48:40.857

您应该能够使用基于百分比的宽度来获得流畅的网格，并可以选择在列上设置最小宽度（只需为您的容器提供其子项总和的最小宽度，以防止列中断）：

html:

```
<div class="wrap">
    <div>col 1</div>
    <div>col 2</div>
    <div>col 3</div>
</div>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

CSS：

```
.wrap {
   width:100%;    
   min-width:500px;
}
.wrap > div { 
    float:left;
    height:50px;
    text-align:center;
}

.wrap > div:nth-child(1){ 
    background : #FCC;
   width:20%;
    min-width:100px
}
.wrap > div:nth-child(2){ 
    background : #CFC;
    width:60%;
    min-width:300px
}.wrap > div:nth-child(3){ 
    background : #CCF;
   width:20%;
    min-width:100px
} 
```

# mysql - 如何在单个查询中插入自动递增的 SORT_ORDER

> ID：13486659
> 
> 赞同：0
> 
> 时间：2012-11-21T05:03:30.613
> 
> 标签：mysql, insert, sql-update

对于多个插入（如果已存在则更新），我使用以下查询并且工作正常。

```
INSERT INTO table (id,Col1,Col2)
VALUES (1,1,1),(2,2,3),(3,9,3),(4,10,12)
ON DUPLICATE KEY UPDATE Col1=VALUES(Col1), Col2=VALUES(Col2); 
```

现在我需要`SORT_ORDER`与值一起输入，但它应该是自动递增的。在单个查询中应该采用什么技术？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-01T22:10:30.640

只是为了澄清我认为您的问题是：您希望排序顺序是插入或修改行的顺序。

我认为最简单的方法是使用[TIMESTAMP](http://dev.mysql.com/doc/refman/5.0/en/timestamp-initialization.html)。

# ruby-on-rails - 如何找到一对一关系中的对象模型？

> ID：13486660
> 
> 赞同：0
> 
> 时间：2012-11-21T05:03:33.947
> 
> 标签：ruby-on-rails, activerecord

我有这两个模型**用户**：

```
class User < ActiveRecord::Base
 attr_accessible :name, :provider, :uid

 # This is a class method, callable from SessionsController 
 # hence the "User." 
 def User.create_with_omniauth( auth)
   user = User.new() 
   user.provider = auth["provider"] 
   user.uid = auth["uid"] 
   user.name = auth["info"]["name"] 
   user.save 
   return user     
  end

 has_one :userprofile
end 
```

和**用户资料**：

```
class Userprofile < ActiveRecord::Base
  belongs_to :user
  attr_accessible :age, :fname, :gender, :lname, :photo_url
end 
```

我想检查是否有与用户关联的 userprofile 对象。如果有，请展示它。否则，创建一个新的。

我正在尝试这个并得到一个错误。

```
def show
 @userprofile = current_user.userprofiles.all.where(:user_id => current_user.uid)
 if !@userprofile.nil? then
   @userprofile
 else
   @userprofile = Userprofile.new
 end
end 
```

**未定义的方法 `userprofiles' 用于#**

我试过**find**没有更好的结果。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T05:14:34.247

您以错误的方式调用用户配置文件。你必须这样称呼它

`@userprofile = current_user.userprofile`

对于 if else 块，有如下更好的解决方案。

```
@userprofile = current_user.userprofile || current_user.userprofile.new 
```

如果未创建，这将初始化用户配置文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T05:34:01.937

user 和 userprofile 具有一对一的关系，因此

```
@userprofile = current_user.userprofile 
```

通过使用它，您可以获得 current_user 的用户配置文件

现在你的`show`方法看起来像

```
def show
 if current_user.userprofile.present?
   @userprofile = current_user.userprofile
 else
  @userprofile = current_user.build_userprofile
 end
end 
```

**更新：为什么要构建**

[http://edgeguides.rubyonrails.org/association_basics.html#has-one-association-reference](http://edgeguides.rubyonrails.org/association_basics.html#has-one-association-reference)

we use `build_userprofile` because it's `one-to-one` relation. but suppose if it's has_many relationship then we use `userprofiles_build`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T07:13:44.407

As the other answers point out, you don't need the `.all.where(:user_id => current_user.uid)`. The point of making these named associations is that rails can automatically handle looking up all the database id's.

That's also why using the build_userprofile method is a good idea, because it automatically links the new userprofile to current_user. Note that method does not automatically save the newly created record though, so make sure you call save:

```
@userprofile = current_user.build_userprofile
@userprofile.save 
```

# ruby - 如何使这个哈希创建更漂亮

> ID：13486663
> 
> 赞同：0
> 
> 时间：2012-11-21T05:03:55.607
> 
> 标签：ruby

我想知道是否有更优雅的方式来编写以下行：

```
section_event_hash = []
sections.each do |s|
   section_event_hash << { s => s.find_all_events }
end 
```

我想创建一个哈希，其键是 的元素，值是该方法`sections`返回的元素数组。`find_all_events`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T05:20:26.013

如果你想`section_event_hash`真正成为一个哈希而不是一个数组，那么你可以使用[`each_with_object`](https://ruby-doc.org/core/Enumerable.html#method-i-each_with_object)：

```
section_event_hash = sections.each_with_object({}) { |s, h| h[s] = s.find_all_events } 
```

您可以使用`map`构建一个数组数组，然后将其提供给[`Hash[]`](https://ruby-doc.org/core/Hash.html#method-c-5B-5D)：

```
section_event_hash = Hash[sections.map { |s| [s, s.find_all_events] }] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T06:38:33.480

您发布的代码并没有完全按照您所说的去做。让我们通过这样的测试来仔细看看它：

```
sections = ["ab", "12"]

section_event_hash = []
sections.each do |s|
   section_event_hash << { s => s.split("") }
end

puts section_event_hash.inspect 
```

给出：

```
[{"ab"=>["a", "b"]}, {"12"=>["1", "2"]}] 
```

因此，您实际上创建了一个哈希数组，其中每个哈希包含一个键值对。

以下代码生成一个包含多个元素的哈希。请注意如何使用 {} 而不是 [] 创建空哈希。花括号是哈希的符号，而方括号指的是特定的键。

```
section_event_hash = {}
sections.each do |s|
   section_event_hash[s] = s.split("")
end

puts section_event_hash.inspect 
```

=>`{"ab"=>["a", "b"], "12"=>["1", "2"]}`

至于“更优雅”的方式，这取决于您的定义。正如此处的其他答案所表明的那样，通常有不止一种方法可以在 ruby​​ 中做某事。seph 产生与原始代码相同的数据结构，而 mu 产生您描述的哈希。就个人而言，我的目标只是易于阅读、理解和维护的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T05:21:15.417

```
array_of_section_event_hashes = sections.map do |s|
  {s => s.find_all_events}
end 
```

# javascript - 如何使用javascript限制用户在文本框中仅输入2位数字（一天中的几个小时）

> ID：13486664
> 
> 赞同：0
> 
> 时间：2012-11-21T05:04:04.660
> 
> 标签：javascript, jquery

如何使用 javascript 在文本框中限制用户仅输入 2 位数字（一天中的几个小时）。

一天只有 24 小时，因此用户只能输入数字 1 到 24。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T05:10:01.873

**详细信息：**以下将仅允许文本框中的 2 位数字，而 onkeypress 将仅允许用户输入数字值。

文本框

```
<input id="txtHours" type="text" maxlength="2" 
  onkeypress="if(event.keyCode<48 ||     event.keyCode>57)event.returnValue=false;" 
  onkeyup="validation(event.keyCode)" onpaste="return false" /> 
```

Javascript验证函数

```
 function validation(keyCode)
  {
        var Hours = document.getElementById("txtHours").value;

        if (Hours < 0 || Hours > 24)
            alert("Must enter a time between 0-24 hours");           
 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T05:10:16.230

也许避免使用 javascript 并使用 HTML：

```
<input id="my_id" type="text" name="your_text_field" maxlength="10"> 
```

在这里进一步看：http: [//www.w3schools.com/tags/att_input_maxlength.asp](http://www.w3schools.com/tags/att_input_maxlength.asp)

如果您需要使用 javascript（例如稍后添加的 HTML 或奇怪的东西）：

```
$("#my_id").attr("maxLength", 10); 
```

关于在文本框中要求数字有几种方法，如建议的内联 javascript 或单独的函数很有用：

```
var input = document.getElementById('my_id');
input.onkeydown = function(e) {
    var k = e.which;
    /* numeric inputs can come from the keypad or the numeric row at the top */
    if ( (k < 48 || k > 57) && (k < 96 || k > 105)) {
        e.preventDefault();
        return false;
    }
}; 
```

你可以在这里看到这个函数和其他函数：[Allow only numeric value in textbox using Javascript](https://stackoverflow.com/questions/7454591/allow-only-numeric-value-in-textbox-using-javascript)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-21T05:10:55.773

我想你的意思是输入。您可以使用 jquery 插件“掩码输入”，它重量轻且有用。

[http://digitalbush.com/projects/masked-input-plugin/](http://digitalbush.com/projects/masked-input-plugin/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-21T05:14:45.653

如果您使用的是 HTML5，那么这可以解决问题

```
<input type="number" name="quantity" min="1" max="24"> 
```

否则你可以通过按键事件做一些条件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T05:10:57.500

为您的文本框使用属性**maxlength=2**。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-21T05:22:30.333

对于简短易读并且可以在（几乎）所有浏览器中工作的简单代码，我会推荐 jQuery mask plugin 。

它看起来像这样

```
 $('.txtBox').mask("99"); 
```

这将限制为 2 位数字，并且不会让用户输入除 0-9 以外的任何内容，而不会自己捕获每个按键和 keyup

[从这里](http://digitalbush.com/projects/masked-input-plugin/)下载

仅设置最大长度的问题是用户可以输入字母或其他任何内容，HTML5 答案的问题是很多人都有旧浏览器

编辑： 如果您想真正阻止用户输入除 0-24 以外的任何内容，那么我建议您在下拉列表中选择所有可用选项的位置。

除此之外，完成您想要做的最简单的方法就是验证 blur() 上的文本框并检查它是否低于 24。

如果您不想执行其中任何一项，那么您需要编写一个自定义处理程序来捕获非常复杂的按键 - 因为您可以输入“9”，但如果“ 9" 被键入，但如果您键入 "0"、"1" 或 "2"，则允许另一个数字。您还必须担心复制和粘贴。与其把它变成一个大麻烦，只需使用一个选择下拉菜单。或者在用户输入他们要输入的任何内容后验证文本框。只屏蔽数字应该有助于用户理解文本框中的内容。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-21T06:58:52.193

我找到了解决方案

**HTML**

```
<input name="txthours" type="text" id="txthours" maxlength="2"/>

  <span id="Errormessage"></span> 
```

**查询**

```
 $('#txthours').bind('input', function() {

      $(this).val($(this).val().replace(/[A-Za-z]/g,''))

 var Hours =$("#txthours").val();

    if (Hours < 1 || Hours > 24)

    { 
      $(this).val($(this).val().replace(/[^A-Za-z]/g,''))

      $('#Errormessage').html('Must enter a time between 0-24 hours');                
    }}); 
```

[现场演示](http://jsfiddle.net/t3Vyd/10/)

# iphone - 如果用户修改日期/时间，iOS 是否会使 localNotifications 无效

> ID：13486666
> 
> 赞同：1
> 
> 时间：2012-11-21T05:04:21.773
> 
> 标签：iphone, ios, ipad, uilocalnotification, localnotification

如果当前日期是 2012 年 11 月 20 日上午 9:00，在我的应用程序中，如果我安排带有 firedate 的本地通知说 2012 年 11 月 21 日上午 10:00 并运行我的应用程序，并且如果我将设置中的日期/时间修改为之前的某个日期说 2012 年 11 月 18 日当日期/时间到达开火日期时，我会正确收到通知。

但是，如果我在设备设置中将日期/时间更改为任何即将到来的日期，例如 2012 年 11 月 30 日 10::PM，我不会收到通知。如果用户将日期/时间设置为任何即将到来的日期，iOS 是否会使 localNotifications 无效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-08-10T18:19:08.950

当您触发 LocalNotification 时，通知将注册到 OS.OS 会按时显示通知。您可以使用代码查看您的应用程序已注册的通知

```
`[[UIApplication sharedApplication] scheduledLocalNotifications]` 
```

您不能编辑已在操作系统中注册的任何通知。

如果您想编辑任何通知，请取消之前的通知并使用更新的 firedate 触发新通知。

如果当前日期是 2012 年 11 月 20 日上午 9:00，我永远不明白您如何在 2012 年 11 月 18 日收到通知。

# java - Maven POM 配置 & Tomcat 共享/库依赖

> ID：13486667
> 
> 赞同：1
> 
> 时间：2012-11-21T05:04:39.677
> 
> 标签：java, maven, tomcat5.5

我是 Maven 新手，我创建了一个新的 Web 应用程序来“迁移”一个旧应用程序并开始使用 Maven 3。这个应用程序使用了一些库（jars），其中大部分位于 Tomcat 中的 shared/lib 文件夹下（5.5 ） 目录。

如何将这些库添加到 Maven POM？我应该添加它们吗？

我忘了提到其中一些 jar 在 Maven 存储库中找不到，因为它们更像是大多数项目通用的实用程序库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:17:24.453

在 POM 的 <dependencies/> 部分中，您可以将共享 jar 声明为“系统”范围的依赖项。此范围识别 <systemPath/> 子元素，允许您指向本地（构建）文件系统上的文件系统位置。

请参阅[Maven“系统”依赖项](http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies)

例子：

```
<project>
…
  <dependencies>
    <dependency>
      <groupId>com.example</groupId>
      <artifactId>someDependency</artifactId>
      <version>1.0.1</version>
      <scope>system</scope>
      <systemPath>${tomcatHome}/shared/lib/someDependency-1.0.1.jar</systemPath>
    </dependency>
  </dependencies>
…
</project> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:10:19.877

利用

```
 <dependency> 
```

标签来指定库。如果在 maven 存储库中找不到某些库。使用指定存储库

```
<configuration> 
```

# r - Rcpp报错：C符号名“sourceCppContext”不在DLL for package“Rcpp”中

> ID：13486668
> 
> 赞同：0
> 
> 时间：2012-11-21T05:04:46.047
> 
> 标签：r, rcpp

我正在 Mac OS 10.8.2 上尝试 Rcpp 0.10.0，并使用[此处](http://dirk.eddelbuettel.com/blog/2012/11/20/#rcpp_attributes_pi_example)的示例来估计 \pi。但是，当我在 R 中运行以下代码时：

`sourceCpp("piSugar.cpp")`

一条错误消息说：

`Error in .Call("sourceCppContext", PACKAGE = "Rcpp", file, code, .Platform) : C symbol name "sourceCppContext" not in DLL for package "Rcpp"`

我错过了什么？我仔细检查了 piSuger.cpp 文件是否在当前目录中。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:10:11.500

我怀疑您正在调用较旧的 Rcpp 版本。也许你有几个`.libPaths()`？或者，也许您没有重新启动会话？

这一切都在这里工作 - 这是我[一两个小时前的博客文章](http://dirk.eddelbuettel.com/blog/2012/11/20#rcpp_attributes_pi_example)`piBySimulation.r`中的示例，您试图在此处复制：

```
edd@max:~/svn/rcpp/pkg/Rcpp/inst/examples/Misc$ Rscript piBySimulation.r
        test replications elapsed relative
2 piSugar(N)          100   5.639    1.000
1     piR(N)          100  11.147    1.977
edd@max:~/svn/rcpp/pkg/Rcpp/inst/examples/Misc$ 
```

# javascript - 适用于 JavaScript 和 Python 的构建工具

> ID：13486688
> 
> 赞同：1
> 
> 时间：2012-11-21T05:06:38.430
> 
> 标签：javascript, python, build-automation

我即将在后端创建一个用python编写的Web应用程序，在前端创建一个用javascript编写的网络应用程序。我正在寻找一个像 Ant 这样的工具，它可以让你运行一些测试（对于 python 和 js），如果它们通过然后执行下一个任务，比如缩小 js 文件或生成文档。

我还没有决定js测试框架。这将是最适合构建工具的一种。可能可以从命令提示符访问。

我知道鼻子可以让你自动化你的测试，但我需要为两种语言都做，然后做剩下的。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:56:31.493

使用诸如[Buildout 之](http://www.buildout.org/)类的系统以及查看[JS Minify In Buildout](http://blog.toms-projekte.de/?p=33)看起来就是要走的路。

过去，我曾将 Buildout 与[Hudson](http://hudson-ci.org/)结合使用来执行我的自动化构建和部署。

# iphone - XCode 存档失败

> ID：13486690
> 
> 赞同：0
> 
> 时间：2012-11-21T05:06:46.237
> 
> 标签：iphone, xcode, distribution, profile

IPhone Distribution 配置文件显示，但它是灰色的，我可以选择它，在它下面，它说配置文件包标识符不匹配，但我已经多次检查它，有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:36:20.553

检查您的 plist 文件中的包标识符。我确信捆绑标识符是错误的。注意案例感

# python - 使用 GUI python 浏览要打开和运行的文件

> ID：13486697
> 
> 赞同：2
> 
> 时间：2012-11-21T05:07:35.553
> 
> 标签：python

嗨，我有一些 python 脚本。我需要创建一个带有几个按钮的 GUI，以通过浏览打开这些文件。我必须通过单击 GUI 按钮来运行这些脚本，并且应该将输出写入 Excel 工作表。我尝试使用下面的代码，但是我可以读取文件！请帮忙？谢谢

```
from Tkinter import *            
from tkFileDialog   
import askopenfilename      

def callback():
    r = open(askopenfilename(),'r')

a = Button(text='click me', command=callback)
a.pack()

mainloop() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-20T03:54:24.120

在 callback() 内部而不是打开文件，使用 execfile("abc.py") 执行文件

```
def callback():
    abc = askopenfilename()
    execfile("abc.py") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:34:24.707

下面的代码是一个简单的示例，它从选定的输入文件中读取每一行，然后将其写入一个名为 output.xls 的新 Excel 文件中。它使用优秀的[xlwt 库](http://www.python-excel.org/)来创建 excel 文件。您还可以选择使用[csv](http://docs.python.org/2/library/csv.html)模块创建一个 csv 文件，该模块是 python 标准库的一部分，excel 也可以读取。使用 xlwt 的优点是您可以应用格式设置、合并单元格、公式和许多其他属于 xls 文件格式的功能。

```
import xlwt
from Tkinter import *            
from tkFileDialog   import askopenfilename      

def callback():
    filename = askopenfilename()
    wb = xlwt.Workbook()
    ws0 = wb.add_sheet('Sheet1')
    with open(filename, 'r') as f:
        for i, line in enumerate(f):
            ws0.write(i, 0, line.strip())
    wb.save('output.xls')

errmsg = 'Error!'
a = Button(text='click me', command=callback)
a.pack()
mainloop() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-14T21:07:38.447

```
 import Tkinter, tkFileDialog
        root = Tkinter.Tk()
        root.withdraw()
        dirname=tkFileDialog.askdirectory(parent=root,initialdir="/",title='Please select a directory')
        do something with dirname
        print dirname

#This code for file selection:

    from Tkinter import Tk
    from tkFileDialog import askopenfilename

    Tk().withdraw() # we don't want a full GUI, so keep the root window from appearing

    filename = askopenfilename() # show an "Open" dialog box and return the path to the selected file
    print(filename) 
```

# hbase - 减速器不适用于蜂巢

> ID：13486700
> 
> 赞同：1
> 
> 时间：2012-11-21T05:07:57.687
> 
> 标签：hbase, hive

我正在使用 cdh3u5 压缩包。我已经创建了 Hive 外部表来查询 Hbase。我可以像做简单的选择查询一样。

```
select * from hbase_tab; 
```

但是当查询使用 mapper 和 reducer 时，它会失败。这就是我得到的。

```
hive> select count(*) from hbase_tab;
                                                                                                                           Total MapReduce jobs = 1
    Launching Job 1 out of 1
    Number of reduce tasks determined at compile time: 1
    In order to change the average load for a reducer (in bytes):
      set hive.exec.reducers.bytes.per.reducer=<number>
    In order to limit the maximum number of reducers:
      set hive.exec.reducers.max=<number>
    In order to set a constant number of reducers:
      set mapred.reduce.tasks=<number>
    Starting Job = job_201211121409_0030, Tracking URL = http://10.3.3.333:50030/jobdetails.jsp?jobid=job_201211121409_030
    Kill Command = /home/hadoop/hadoop/bin/hadoop job  -Dmapred.job.tracker=10.3.3.333:9001 -kill job_201211121409_030
    2012-11-21 10:19:28,150 Stage-1 map = 0%,  reduce = 0%
    2012-11-21 10:20:03,564 Stage-1 map = 100%,  reduce = 100%
    Ended Job = job_201211121409_0030 with errors
    FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask 
```

我已经尝试过在`number`现场给出一些数字。

```
set hive.exec.reducers.bytes.per.reducer=<number>
set hive.exec.reducers.max=<number>
set mapred.reduce.tasks=<number> 
```

但后来我也面临同样的问题。请指导我，因为我是新手。提前致谢。

# iphone - (^) 登录 iOS 的目的

> ID：13486702
> 
> 赞同：1
> 
> 时间：2012-11-21T05:08:17.097
> 
> 标签：iphone, objective-c, ios, ipad, cocoa

我在许多 iOS 标头中看到使用了 (^)，但我从未遇到过为什么使用该标志的原因。有人可能想对此有所启发吗？

谢谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-21T05:11:06.213

这些通常表示“块”。请参阅[块编程主题](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/00_Introduction.html)。

或者，如果您观看[WWDC 2012 会议 712](https://developer.apple.com/videos/wwdc/2012/?id=712)的开始，他们还会带您浏览具有历史背景的街区。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-21T05:21:16.087

它表示一个块。块是一种语法，允许您创建回调函数，并将其作为参数传递给方法。在其他语言中，这类似于闭包、lambda 或匿名类。

例如，列出的参数： `void(^)(NSString *myStr)` 期望您传入一个返回 void 的块/函数，并接受一个 NSString 指针。

您可以使用以下语法根据方法中声明的预期参数创建一个块：

```
^(<Parameters>) { <Body> } 
```

例如，需要块参数的方法可能如下所示：

```
-(void)doSomething:(void(^)(NSString *myStr))theBlock; 
```

...并且可以这样调用：

```
[self doSomething:^(NSString *myStr) { NSLog(@"The String is: %@", myStr); }]; 
```

您的块将`doSomething:`像函数一样被回调，使用参数名称：

```
-(void)doSomething:(void(^)(NSString *myStr))theBlock {
  theBlock(@"Hello!");
} 
```

...这将显示：

```
The String is: Hello! 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-21T05:11:32.500

^ 字符用于块，特别是块参数。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-21T06:14:27.743

如果您要问为什么要在块中使用字符“^”，那是因为剩下的字符相对较少：

1.  适用于所有典型键盘。
2.  完全可以使用 - 即在语言中并不重要并且会发生冲突。
3.  不要看起来很傻。

这实际上将其缩小到只有两个或三个，而选择那些“^”是因为，嗯，因为。

如果您想详细了解讨论，llvm.org 邮件列表等上可能对此有记录。

You could also look at the minutes from the C++11 committee meetings on lambdas, which went through basically the same process.

# ios - 私钥不在我的开发者证书中

> ID：13486705
> 
> 赞同：0
> 
> 时间：2012-11-21T05:08:43.697
> 
> 标签：ios, provisioning-profile, ios-provisioning

当我从供应门户下载供应配置文件时，我遇到了“未找到有效签名身份”的问题。

我尝试了几次从新创建证书，但仍然面临相同的“未找到有效签名身份”问题。

当我在钥匙链中看到时，看起来像“私钥不与我的开发人员证书一起”。我怎么能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T09:17:52.117

如果我尝试使用另一本 Mac 书，它会起作用。我不确定，这是mac book环境问题。

遵循的步骤 1\. 从配置门户撤销我当前的证书 2\. 从新的 Mac Book 创建新的 CSR 3\. 通过提交新的 CSR 创建开发人员证书。

此开发人员证书适用于成功的新 Mac。

我通过从新 mac 导出到旧 mac 尝试了相同的证书。它也很成功。

# iphone - 如何在iphone中获取地理位置城市名称？

> ID：13486707
> 
> 赞同：0
> 
> 时间：2012-11-21T05:09:01.833
> 
> 标签：iphone, ipad, ios5, geolocation, ios6-maps

我已尝试使用此代码获取基于地理位置的值，但无法获取城市名称。我如何获得城市名称？

```
 - (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation
 {
    double lati = newLocation.coordinate.latitude;
   _geo_coder_latitude_lbl.text= [[NSString stringWithFormat:@"%f",lati] retain];
   _geocoder_latitude_str=_geo_coder_latitude_lbl.text;
   NSLog(@"print lat;%@",_geocoder_latitude_str);
   double longi = newLocation.coordinate.longitude;
   _geocoder_longitude_lbl.text= [[NSString stringWithFormat:@"%f",longi] retain];
   _geocoder_longitude_str=_geocoder_longitude_lbl.text;
   NSLog(@"print lat;%@",_geocoder_longitude_str);
  [self._geocoder reverseGeocodeLocation: locationManager.location completionHandler:
 ^(NSArray *placemarks, NSError *error)
 {

     //Get address
     CLPlacemark *placemark = [placemarks objectAtIndex:0];

     NSLog(@"Placemark array: %@",placemark.addressDictionary );

     //String to address

     _located_address = [[placemark.addressDictionary valueForKey:@"FormattedAddressLines"] componentsJoinedByString:@", "];

     //Print the location in the console

     NSLog(@"Currently address is: %@",_located_address);

    // _ex_map_address_lbl.text=_located_address;

 }];

  [self _storeList_json_parser];

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T08:51:27.647

请参阅 CLPlacemark[文档](http://developer.apple.com/library/ios/#documentation/CoreLocation/Reference/CLPlacemark_class/Reference/Reference.html)，`[CLPlacemark locatity]`将返回与地标关联的城市名称。

检查此示例代码：

```
CLGeocoder *geocoder = [[CLGeocoder alloc] init];
double lati = 45.46433;
double longi = 9.18839;

CLLocation *location = [[CLLocation alloc] initWithCoordinate:CLLocationCoordinate2DMake(lati, longi) 
                                                     altitude:0 
                                           horizontalAccuracy:0
                                             verticalAccuracy:0 
                                                   timestamp:[NSDate date]];

[geocoder reverseGeocodeLocation:location completionHandler:
     ^(NSArray *placemarks, NSError *error)
     {
         CLPlacemark *placemark = [placemarks lastObject];
         if (error || !placemark)
             return;

         NSString *city = placemark.locality;
         if (!city)
             city = placemark.subAdministrativeArea;

         NSLog(@"City for location: %@", city);
}]; 
```

# android - 转换一个集合 android中的数据类型到字符串数据类型

> ID：13486711
> 
> 赞同：1
> 
> 时间：2012-11-21T05:09:18.493
> 
> 标签：android, string, types

我在我的安卓应用中使用亚马逊应用。

`PurchasingManager.initiateItemDataRequest(skuKye);`定义了像skuKye这样的错误是字符串。你必须将它转换成设置的数据类型。

请指导我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T05:17:59.970

该`initiateItemDataRequest`方法需要`Set<String>`包含请求的 SKU。如果你只有一个 SKU，你应该可以这样调用它：

```
Set<String> skuSet = new HashSet<String>();
skuSet.add(skuKye);
PurchasingManager.initiateItemDataRequest(skuSet); 
```

# excel - 如何在将文件导出到 servlet 中的 excel 时添加 openwith 和 saveAs 的下载选项

> ID：13486713
> 
> 赞同：0
> 
> 时间：2012-11-21T05:09:31.577
> 
> 标签：excel, servlets, download, export-to-excel

嗨伙计们！我做了一个应用程序，我需要将数据库中的数据导出到 .excel 格式中，在其中我为生成的 .excel 文件提供了硬编码路径以保存在系统上的特定位置。现在根据我的要求，我需要提供下载选项用于浏览器中的 openwith 和 saveAs。下面我发布我的代码。请大家帮助我...将不胜感激。提前谢谢...

```
String datum1 = request.getParameter("fromdate");
        String datum2 = request.getParameter("todate");
        SimpleDateFormat sdfSource = new SimpleDateFormat("dd-MM-yyyy");
        Date date = sdfSource.parse(datum1);
        Date date2 = sdfSource.parse(datum2);
        SimpleDateFormat sdfDestination = new SimpleDateFormat("yyyy-MM-dd");
        datum1 = sdfDestination.format(date);
        System.out.println(datum1);
        datum2 = sdfDestination.format(date2);
        System.out.println(datum2);

        String filename = "d:/".concat(datum1).concat(" ").concat("To").concat(" ").concat(datum2).concat(".xls");
        HSSFWorkbook hwb = new HSSFWorkbook();
        HSSFSheet sheet = hwb.createSheet("CallBillingSystem");

        HSSFRow rowhead = sheet.createRow((short) 0);
        rowhead.createCell((short) 0).setCellValue("calldate");
        rowhead.createCell((short) 1).setCellValue("src");
        rowhead.createCell((short) 2).setCellValue("dst");

        String strQuery = "";
        ResultSet rs = null;

        conexion conexiondb = new conexion();
        conexiondb.Conectar();

        strQuery = "SELECT * FROM cdrcost where date(calldate) between '" + datum1 + "' and '" + datum2 + "'";

        // strQuery = "SELECT * FROM cdrcost where date(calldate) between '2011-09-01' and '2012-01-01'";

        rs = conexiondb.Consulta(strQuery);
        int i = 1;
        while (rs.next()) {
            HSSFRow row = sheet.createRow((short) i);
            row.createCell((short) 0).setCellValue(rs.getString("calldate"));
            row.createCell((short) 1).setCellValue(rs.getString("src"));
            row.createCell((short) 2).setCellValue(rs.getString("dst"));

            i++;
        }
        FileOutputStream fileOut = new FileOutputStream(filename);
        hwb.write(fileOut);
        fileOut.close();
        System.out.println("Your excel file has been generated!");

    } catch (Exception ex) {
        System.out.println(ex);

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:17:45.637

您应该`Content-Disposition`在响应标头中使用

尝试使用此代码

```
response.setContentType("application/vnd.ms-excel");
response.setHeader("Content-Disposition",
                 "attachment;filename=FileName.xls");

OutputStream out = response.getOutputStream();

FileInputStream in = new FileInputStream(my_file);
byte[] buffer = new byte[4096];
int length;
while ((length = in.read(buffer)) > 0){
    out.write(buffer, 0, length);
}
in.close();
out.flush(); 
```

# vb.net - .NET RSA CreateEphemeralKey 与 PersistKeyInCsp

> ID：13486715
> 
> 赞同：3
> 
> 时间：2012-11-21T05:09:39.243
> 
> 标签：vb.net, rsa

我正在尝试更多地了解 RSA 在 .NET 中的功能，并遇到了这篇有用的帖子，该帖子表明默认情况下密钥存储在 Windows 中： [https ://stackoverflow.com/a/5845191/1181412](https://stackoverflow.com/a/5845191/1181412)

我的问题参考了下面的示例代码。假设意图是仅在应用程序会话的生命周期内生成一次性密钥。

**问题 1：**在下面的结构中，是否每次在类中的任何位置创建 RSACryptoServiceProvider 时都需要将 PersistKeyInCsp 标志设置为 false，即使它正在访问同一个 CspParameters 对象？

**问题 2：**在 CspParameters 对象上设置 CreateEphemeralKey 标志是否取代了在此示例中使用 PersistKeyInCsp 的需要？

```
Public Class RSACrypto

    Private RSAKey As CspParameters

    Public Sub New(KeySize As Integer)
        MyBase.New()
        RSAKey = New CspParameters
        Using RSA As New RSACryptoServiceProvider(KeySize, RSAKey)
            RSA.PersistKeyInCsp = False
        End Using
    End Sub

    Public Function PublicKey() As Byte()
        Using RSA As New RSACryptoServiceProvider(RSAKey)
            RSA.PersistKeyInCsp = False
            Return RSA.ExportCspBlob(False)
        End Using
    End Function
End Class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-12-22T16:08:08.993

`CreateEphemeralKey`如果您将密钥容器名称保留`null`在 CspParameters 结构中（并且您没有 assert `UseDefaultKeyContainer`） ，则该标志会为您声明。

对于使用`CreateEphemeralKey`（或通过`null`名称隐式创建）的键，该`PersistKeyInCsp`属性没有意义或效果。对于命名（持久）键，它会在对象被处置或最终确定时从磁盘中删除该键。（注意异常终止意味着密钥永远不会被删除）

> 问题 1：在下面的结构中，是否每次在类中的任何位置创建 RSACryptoServiceProvider 时都需要将 PersistKeyInCsp 标志设置为 false，即使它正在访问同一个 CspParameters 对象？

如果密钥在您第一次设置`PersistKeyInCsp=false`和调用`Dispose()`（直接或通过`using`语句）时被持久化，或者让密钥被垃圾收集并最终确定，那么后续访问将失败或创建不同的密钥（取决于`UseExistingKey`标志是否断言）。所以，说“不，你不应该那样做”是最正确的。

> 问题 2：在 CspParameters 对象上设置 CreateEphemeralKey 标志是否取代了在此示例中使用 PersistKeyInCsp 的需要？

是的。

**隐含问题 3**：为什么我的代码不起作用？

在您的构造函数中，您具有以下三种行为之一，具体取决于 的值`CspParameters.KeyContainerName`和系统状态：

*   `KeyContainerName == null`：
    *   您创建了一个 size 的临时密钥`KeySize`。然后将其丢弃。没有人会知道你的钥匙是什么。
*   命名键不存在：
    *   您生成了一个大小为 的密钥对`KeySize`，将其保存到磁盘，然后将其删除。没有人会知道你的钥匙是什么。
*   命名键确实存在：
    *   您打开了密钥对（`KeySize`被忽略）。然后你把它从磁盘上删除了。希望你不需要它。

在您的`PublicKey`方法中，您可以创建一个 1024 位临时密钥（如果`RSAKey.KeyContainerName == null`）或打开一个现有密钥，或者生成一个 1024 位密钥并将其保存到磁盘。然后导出公钥的 CAPI blob，并（如果是临时的）丢弃密钥或（如果持久）将其从系统中删除。（1024 位是因为您使用了没有 keysize 值的 CspParameters ctor，所以`KeySize`来自 ctor 的值无关紧要）

您可能想要的不是保存 CspParameters，而是实际的 RSA / RSACryptoServiceProvider 对象。

# database - 表的数据库建模，如具有更深子级别的树状子分类

> ID：13486717
> 
> 赞同：2
> 
> 时间：2012-11-21T05:09:54.073
> 
> 标签：database

如何将以下需求转换为数据库表存在疑问。在非常动态的需求中有更深层次的子分类。以下示例将解释我的要求：

类别---->

```
 item1
         item2----->

                   sub-item1
                   sub-item2------->

                                 deeper sub item1
                                 deeper sub item2
                   sub-item3
                   sub item4------->

                                  deeper sub item1

                   sub item5

         item3
         item4 
```

**将来可能会有更深层次的子项目。如何分类，使数据库变得动态。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:50:59.787

我对我的作品弹出菜单的结构使用分层存储，类似于您正在寻找的内容。表结构如下：

```
CREATE TABLE IF NOT EXISTS `page_menu` (
  `menu_id` int(5) NOT NULL AUTO_INCREMENT,
  `menu_parent` int(5) DEFAULT NULL,
  `menu_sibling` int(5) DEFAULT NULL,
  `lang` char(2) NOT NULL,
  `url_id` int(10) NOT NULL,      
  PRIMARY KEY (`menu_id`),
  KEY `menu_parent` (`menu_parent`),
  KEY `menu_sibling` (`menu_sibling`),
  KEY `url_id` (`url_id`),
  KEY `lang` (`lang`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;

ALTER TABLE `page_menu`
  ADD CONSTRAINT `page_menu_ibfk_1` FOREIGN KEY (`menu_parent`) REFERENCES `page_menu` (`menu_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `page_menu_ibfk_2` FOREIGN KEY (`menu_sibling`) REFERENCES `page_menu` (`menu_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `page_menu_ibfk_3` FOREIGN KEY (`url_id`) REFERENCES `page_desc` (`url_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `page_menu_ibfk_4` FOREIGN KEY (`lang`) REFERENCES `lang` (`lang`) ON DELETE CASCADE ON UPDATE CASCADE; 
```

所以基本上每条记录都有自己唯一的 id (menu_id)，并且还列出了一个可选的父级（根元素为 NULL）和可选的老兄弟（最老的兄弟也为 NULL）这两者都是 menu_id 主键列的外键强制菜单元素与其他现有菜单元素关联，最后是 url 本身的语言和 id，它们链接到其他表，这些表保存页面的每个语言版本的页面数据。

因此，虽然行看起来像这样：

![在此处输入图像描述](../Images/30e857832767bf88421d700db369adbd.png)

它拥有的结构是这样的：

```
<ul>
    <li>1</li>
    <li>11
        <ul>
            <li>61
                <ul>
                    <li>111</li>
                    <li>121</li>
                </ul>
            </li>
            <li>71</li>
        </ul>
    </li>
    <li>21</li>
    <li>31</li>
    <li>41</li>
    <li>51</li>
</ul> 
```

这种方法的缺点是您不能单独使用 SQL 提取树，它需要一些处理才能以正确的顺序对记录进行排序，然后才能轻松地重建树。基本上，您必须循环遍历结果以将它们重新排序为树的扁平版本，然后才能将其反向附加到父母中。虽然速度不是很慢，但这也不是很快，因此它可能不是适合的方法无法静态缓存在文件中的复杂树。但是对于简单的事情，比如偶尔重新创建弹出菜单的嵌套结构（保存为 html 包含文件），它的效果很好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:19:17.297

你可以这样做：

```
ID 
Name 
ParentID 
```

所以 ParentID 为零将是顶层。从那里它可以永远持续下去。

# php - php脚本作为root用户

> ID：13486725
> 
> 赞同：3
> 
> 时间：2012-11-21T05:10:38.660
> 
> 标签：php

在有人决定告诉我以 root 身份运行 php 脚本不好之前，请仔细阅读下一行：

这只是局域网访问，没有公共访问。

现在说我正在尝试设置一些 php 脚本来管理 lan dhcp 服务器和其他一些任务，并且我已经安装了 su php，但不知道如何配置它以以 root 身份运行 php 文件。

如果之前有人这样做过，请指导我允许脚本以 root 身份运行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:28:48.133

到目前为止，您尝试过什么配置？

示例配置

[http://www.suphp.org/DocumentationView.html?file=suphp.conf-example](http://www.suphp.org/DocumentationView.html?file=suphp.conf-example)

文档

[http://www.suphp.org/Documentation.html](http://www.suphp.org/Documentation.html)

您还可以在 Google 上找到有关如何设置许多 linux 发行版的信息

你能发布更多细节，你在哪里努力设置它？

# jquery - 不能在 jQuery 中使用 append 和 appendChild？

> ID：13486726
> 
> 赞同：0
> 
> 时间：2012-11-21T05:10:38.600
> 
> 标签：jquery

我有一个示例代码：

```
jQuery(document.body).append('<div id="wrapper-1"></div>').appendChild('<div id="wrapper-2"></div>'); 
```

如何得到这个结果，如何构思？

```
<div id="wrapper-1">
   <div id="wrapper-2"></div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:32:18.240

否则你可以试试这个：

```
$('.body').append('<div id="wrapper-1"></div>');
$('<div id="wrapper-2"></div>').appendTo('#wrapper-1'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:14:20.760

```
jQuery('body').append('<div id="wrapper-1"><div id="wrapper-2"></div></div>'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T05:22:04.967

这里有一个方法：

```
jQuery(document.body).append('<div id="wrapper-1"></div>').children().append('<div id="wrapper-2"></div>'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T05:12:26.297

这有什么问题？

```
jQuery(document.body).append('<div id="wrapper-1"><div id="wrapper-2"></div></div>'); 
```

浏览器会明白这是一个孩子

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T05:16:34.150

`append()`是 jQuery 方法，而`appendChild()`是 DOM Element 方法。

即你需要调用`appendChild()`一个纯DOM 元素。以下应该工作。

```
jQuery(document.body).append('<div id="wrapper-1"></div>')[0].appendChild('<div id="wrapper-2"></div>'); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-21T05:31:03.490

appendChild() 是一个 javascript 原生函数，而 append() 是一个 jquery 方法。因此，链中的两者都不会像您期望的那样工作。

按照Maxim的建议试试这个。

```
jQuery('body').append('<div id="wrapper-1"><div id="wrapper-2"></div></div>'); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-21T07:03:45.197

试试这个：

```
var $div1 = $("<div/>");
$div1.attr("id", "wrapper-1");

var $div2 = $("<div/>");
$div2.attr("id", "wrapper-2");

$div1.append($div2);

 <div id="wrapper-1">
    <div id="wrapper-2"></div>
  </div> 
```

# iphone - 将近剪辑应用到 CALayer

> ID：13486727
> 
> 赞同：0
> 
> 时间：2012-11-21T05:10:42.970
> 
> 标签：iphone, objective-c, core-animation

如何将近剪辑应用到 CALayer。z 值大于 0 的子图层不会隐藏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T20:53:30.017

我怀疑你不能这样做。核心动画层不是真正的 3D。我认为 CA 中没有像 OpenGL 中那样的裁剪量。

如果您需要这种复杂程度，则需要在 OpenGL 中编写动画。

# ruby-on-rails - FactoryGirl 不会初始化工厂

> ID：13486729
> 
> 赞同：1
> 
> 时间：2012-11-21T05:10:45.497
> 
> 标签：ruby-on-rails, rspec, factory-bot

考虑这个例子：

```
*# spec/factory/sections.rb*

FactoryGirl.define do

    factory :any_section do
        (...)
    end

    factory :fake_section do
        (...)
    end

    factory :section do
        (...)
    end
end 
```

我发现我的 rspec 测试只能看到`:section`工厂。所有其他人最终都会抛出一个错误，例如：`uninitialized constant FakeSection`.

这是为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:35:40.547

问题不在于 FactoryGirl 看不到`any_section`and`fake_section`工厂，而是您没有指定它们的类，所以它在猜测名称（即`any_section`become`AnySection`和`fake_section`become `FakeSection`）。

要解决此问题，只需指定该类正在`Section`使用该`class`选项：

```
factory :any_section, :class => Section do
    (...)
end

factory :fake_section, :class => Section do
    (...)
end 
```

另请参阅[这篇文章](http://blog.yodersolutions.com/2011/05/factory-girl-custom-class-name/)。

# php - PHP：比较两个句子

> ID：13486733
> 
> 赞同：0
> 
> 时间：2012-11-21T05:10:59.830
> 
> 标签：php, comparison

我需要比较下面两个句子，输出应该是匹配的百分比

A：生产高级经理

B：高级经理，生产-销售

我尝试通过比较句子的每个单词（下面的代码）。它有效，但我需要更有效的方法。

```
public function contact_title_match($old_title,$new_title)
{
   $new_title=preg_replace('/[^a-zA-Z0-9_ %\[\]\.\(\)%&-]/s', '', $new_title);
   $new_title_arr=explode(" ",$new_title);
   $count=count($new_title_arr);
   $index=0;
   if($count>0)
   {
      foreach($new_title_arr as $title_word)
      {
        if(stripos($old_title,$title_word)!==false)
            $index++;
      }
      if(($index/$count)>= 0.5) return 1;
      else                      return 0;
   }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-21T05:16:23.063

听起来不错[`similar_text`](http://php.net/manual/en/function.similar-text.php)：

```
$sentence_a = "senior manager, production";
$sentence_b = "senior manager, prodcution-sales";
$percentage = 0;

similar_text( $sentence_a, $sentence_b, $percentage );

// The strings are 86 percent similar.
printf("The strings are %d percent similar.", $percentage); 
```

演示：[http ://codepad.org/9Vx797uB](http://codepad.org/9Vx797uB)

# xml - XSD od:tableProperty

> ID：13486736
> 
> 赞同：2
> 
> 时间：2012-11-21T05:11:12.407
> 
> 标签：xml, xsd

我想生成一个 XSD 文件，如下所示：

```
<xsd:schema>
  <xsd:element name="dataroot">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element ref="sys_lookups" minOccurs="0" maxOccurs="unbounded" />
      </xsd:sequence>
      <xsd:attribute name="generated" type="xsd:dateTime" />
    </xsd:complexType>
  </xsd:element>
  <xsd:element name="sys_lookups">
    <xsd:annotation>
      <xsd:appinfo>
        <od:index index-name="PrimaryKey" index-key="lookup_group lookup_value " primary="yes"
        unique="yes" clustered="no" order="asc asc" />
        <od:tableProperty name="Orientation" type="2" value="0" />
        <od:tableProperty name="OrderByOn" type="1" value="0" />
        <od:tableProperty name="NameMap" type="11" value="CswOVQAAAAAM8V6233tZSa18EF/EE1ddAAAAAMKLl3SLseNAAAAAAPgDAABzAHkA cwBfAGwAbwBvAGsAdQBwAHMAAAAAAAAABAYOkgXfa0WRIWHmYxfAYQcAAAAM8V62 33tZSa18EF/EE1ddbABvAG8AawB1AHAAXwBnAHIAbwB1AHAAAAAAAAAAvzD1RGJn 8kWa0lYnVRxv2QcAAAAM8V6233tZSa18EF/EE1ddbABvAG8AawB1AHAAXwB2AGEA bAB1AGUAAAAAAAAA05MSrGDnGkShEFWKASLxOAcAAAAM8V6233tZSa18EF/EE1dd cwBvAHIAdABfAG8AcgBkAGUAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQA 
AAAAAAAAAAAAAAAAAAAAAA== "
        />
        <od:tableProperty name="DefaultView" type="2" value="2" />
        <od:tableProperty name="GUID" type="9" value="DPFett97WUmtfBBfxBNXXQ== " />
        <od:tableProperty name="DisplayViewsOnSharePointSite" type="2" value="1" />
        <od:tableProperty name="TotalsRow" type="1" value="0" />
        <od:tableProperty name="FilterOnLoad" type="1" value="0" />
        <od:tableProperty name="OrderByOnLoad" type="1" value="1" />
        <od:tableProperty name="HideNewField" type="1" value="0" />
      </xsd:appinfo>
    </xsd:annotation>
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element name="lookup_group" minOccurs="0" od:jetType="text" od:sqlSType="nvarchar">
          <xsd:annotation>
            <xsd:appinfo>
              <od:fieldProperty name="ColumnWidth" type="3" value="7140" />
              <od:fieldProperty name="ColumnOrder" type="3" value="1" />
              <od:fieldProperty name="ColumnHidden" type="1" value="0" />
              <od:fieldProperty name="Required" type="1" value="0" />
              <od:fieldProperty name="AllowZeroLength" type="1" value="1" />
              <od:fieldProperty name="DisplayControl" type="3" value="109" />
              <od:fieldProperty name="IMEMode" type="2" value="0" />
              <od:fieldProperty name="IMESentenceMode" type="2" value="3" />
              <od:fieldProperty name="UnicodeCompression" type="1" value="0" />
              <od:fieldProperty name="TextAlign" type="2" value="0" />
              <od:fieldProperty name="AggregateType" type="4" value="-1" />
              <od:fieldProperty name="GUID" type="9" value="BAYOkgXfa0WRIWHmYxfAYQ== " />
            </xsd:appinfo>
          </xsd:annotation>
          <xsd:simpleType>
            <xsd:restriction base="xsd:string">
              <xsd:maxLength value="128" />
            </xsd:restriction>
          </xsd:simpleType>
        </xsd:element>
        <xsd:element name="lookup_value" minOccurs="0" od:jetType="text" od:sqlSType="nvarchar">
          <xsd:annotation>
            <xsd:appinfo>
              <od:fieldProperty name="ColumnWidth" type="3" value="-1" />
              <od:fieldProperty name="ColumnOrder" type="3" value="0" />
              <od:fieldProperty name="ColumnHidden" type="1" value="0" />
              <od:fieldProperty name="Required" type="1" value="0" />
              <od:fieldProperty name="AllowZeroLength" type="1" value="1" />
              <od:fieldProperty name="DisplayControl" type="3" value="109" />
              <od:fieldProperty name="IMEMode" type="2" value="0" />
              <od:fieldProperty name="IMESentenceMode" type="2" value="3" />
              <od:fieldProperty name="UnicodeCompression" type="1" value="1" />
              <od:fieldProperty name="TextAlign" type="2" value="0" />
              <od:fieldProperty name="AggregateType" type="4" value="-1" />
              <od:fieldProperty name="GUID" type="9" value="vzD1RGJn8kWa0lYnVRxv2Q== " />
            </xsd:appinfo>
          </xsd:annotation>
          <xsd:simpleType>
            <xsd:restriction base="xsd:string">
              <xsd:maxLength value="255" />
            </xsd:restriction>
          </xsd:simpleType>
        </xsd:element>
        <xsd:element name="sort_order" minOccurs="0" od:jetType="longinteger" od:sqlSType="int"
        type="xsd:int">
          <xsd:annotation>
            <xsd:appinfo>
              <od:fieldProperty name="ColumnWidth" type="3" value="-1" />
              <od:fieldProperty name="ColumnOrder" type="3" value="0" />
              <od:fieldProperty name="ColumnHidden" type="1" value="0" />
              <od:fieldProperty name="DecimalPlaces" type="2" value="255" />
              <od:fieldProperty name="Required" type="1" value="0" />
              <od:fieldProperty name="DisplayControl" type="3" value="109" />
              <od:fieldProperty name="TextAlign" type="2" value="0" />
              <od:fieldProperty name="AggregateType" type="4" value="-1" />
              <od:fieldProperty name="GUID" type="9" value="05MSrGDnGkShEFWKASLxOA== " />
            </xsd:appinfo>
          </xsd:annotation>
        </xsd:element>
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>
</xsd:schema> 
```

我对上述 xsd 有以下问题：

1.  tableproperty "NameMap" 的值是多少，是否已加密。如果是，那怎么办？
2.  是“GUID”128 位但已加密。如果是，那怎么办？

我是 XML 和 XSD 的新手，所以如果它们是愚蠢的问题，请原谅我 ;)。

在此先感谢，KS

# java - 游戏开始时屏幕有时空白

> ID：13486737
> 
> 赞同：0
> 
> 时间：2012-11-21T05:11:25.270
> 
> 标签：java, screen

我一直在研究一个简单的游戏引擎。一切都很顺利，我完成了基础。我的意思是，游戏设置了用户定义的显示设置，初始化内容，然后开始游戏循环。一切都很好，除了我在窗口模式和全屏模式下都有问题：

在窗口模式下，有时屏幕会显示为空白，直到我调整或最小化窗口。

在全屏模式下，如果我使用默认的显示分辨率，我只会得到一个空白屏幕。大多数其他分辨率看起来都很好。

这是一些与显示屏幕相关的代码：

这在用户按下显示设置对话框上的播放按钮时执行

```
public void actionPerformed(ActionEvent e) {
            DisplayMode dm = modes[resolutionBox.getSelectedIndex()];
            boolean fs = fullscreenBox.getSelectedItem().equals ("Fullscreen");
            boolean vs = vSyncCheckBox.isSelected();

            game.initScreen (dm, fs, vs);
            runGame (game);

            f.dispose();
        }
    });

private final void runGame(EGame g)
{
    Thread t = new Thread (g);
    t.start();
} 
```

这是EGame类中的run方法

```
public final void run() {
    start();
    isRunning = true;
    gameLoop();
    endGame();
} 
```

引擎的用户会在 start() 方法中调用 setGameCanvas() 方法。其他东西可以在 start() 方法中进行，但对于我的测试游戏，它只是那个方法：

```
protected final void setGameCanvas(EGameCanvas c)
{
    screen.remove (canvas);
    canvas = c;
    canvas.addKeyListener (keyboard);
    screen.add (canvas);
} 
```

最后，这是游戏循环：

```
private final void gameLoop()
{
    // Final setup before starting game
    canvas.setBuffer (2);
    screen.addKeyListener (keyboard);
    canvas.addKeyListener (keyboard);

    int TARGET_FPS = screen.getTargetFps();
    final long OPTIMAL_TIME = 1000000000 / TARGET_FPS;

    long lastLoopTime = System.nanoTime();

    long now = 0;
    long lastFpsTime = 0;
    long updateLength = 0;
    double delta = 0;

    int fps = 0;

    while (isRunning)
    {
        now = System.nanoTime();
        updateLength = now - lastLoopTime;
        lastLoopTime = now;
        delta = updateLength / ((double) OPTIMAL_TIME);

        lastFpsTime += updateLength;
        fps++;

        if (lastFpsTime >= 1000000000)
        {
            screen.setFps (fps);
            lastFpsTime = 0;
            fps = 0;
        }

        keyboard.poll();
        keyboardEvents();

        update (delta);

        render();

        try {
            Thread.sleep( (lastLoopTime-System.nanoTime() + OPTIMAL_TIME)/1000000 );
        }
        catch (Exception ex) {}
    }
} 
```

现在，请记住，我的问题都不存在，直到我添加了 run 方法并在单独的线程中运行它。我可以保证这是一个线程问题。

但是，我不是专家，所以任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T08:26:38.070

我认为问题在于您正在尝试在事件调度线程之外修改与 GUI 相关的组件 - 这是唯一允许修改图形界面的线程，否则您可能会遇到这样的问题。

要检查此尝试，如果以下解决了问题：

```
try {
    if (!SwingUtilities.isEventDispatchThread()) {
        SwingUtilities.invokeAndWait( new Runnable() {
            @Override
            public void run() {
                // Do rendering and other stuff here...
            }
        });
    }
} catch (InterruptedException e) {
    e.printStackTrace();
} catch (InvocationTargetException e) {
    e.printStackTrace();
} 
```

如果这有帮助，我建议您看一下[Swing 中的并发教程](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)。

# ruby - Ruby 编码：数字对“x,y”的序列，使得 x 的范围从 0 到 3，y 的范围从 5 到 7

> ID：13486739
> 
> 赞同：2
> 
> 时间：2012-11-21T05:11:30.987
> 
> 标签：ruby

我被困在这个问题上。我试图用 Ruby 解决它。

我的回答是

```
4.times{|i| puts "#{i}"} && 5.upon(7){|i| puts "#{i}} 
```

但是，我不确定它是否正确。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T05:23:07.610

这应该适合你

```
result = (0..3).to_a.product((5..7).to_a)
puts result.inspect
#=> [[0, 5], [0, 6], [0, 7], [1, 5], [1, 6], [1, 7], [2, 5], [2, 6], [2, 7], [3, 5], [3, 6], [3, 7]] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T05:22:39.553

> 不确定它是否正确

通常，在这种情况下，您会尝试运行代码。如果你这样做了，你会注意到（逐渐地）你缺少一个引号，没有这样的方法`Fixnum#upon`（`upto`会这样做），代码一次只输出一个数字，而不是一对，并且第二个循环没有运行（因为`times`返回`nil`，并且`nil && x`被短路，所以`x`不评估）。

至于你的问题，它要求数字对的序列，而不是它的显示，所以`puts`不需要。此外，由于您需要对，因此您应该嵌套两个循环，而不是一个接一个。

```
(0..3).flat_map { |x| (4..7).map { |y| [x, y] } } 
```

将是编写它的一种简单方法。

编辑：`flat_map`比`map.flatten`. 不过，macek 的回答更具体+1。

# java - 在java中执行Axis2 webservice客户端时响应码为空，但是webservice在服务器端执行成功

> ID：13486740
> 
> 赞同：2
> 
> 时间：2012-11-21T05:11:46.307
> 
> 标签：java, web-services, axis2, webservices-client

我正在使用 java 中的axis2 webservice 将记录插入数据库。我正在测试 web 服务客户端，它返回空响应代码，实际上我在 web 服务中返回整数值但我成功地将记录插入到数据库中，我可以在执行客户端时在我的数据库中看到，但它返回 null 而不是整数响应代码100.每当我在服务器端看到日志文件时，无一例外。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-04T16:05:20.063

我遇到了类似的问题，我通过消息检查器解决了它。

实施消息检查器`IClientMessageInspector`捕获并更正您的响应`AfterReceiveReply`

请提供您的回复以帮助您。

# c# - 将 AAC 转换为 WAV

> ID：13486747
> 
> 赞同：4
> 
> 时间：2012-11-21T05:12:15.260
> 
> 标签：c#, .net, wav, aac, ms-media-foundation

我已经在使用 Media Foundation API（感谢 MFManagedEncode，[http://blogs.msdn.com/b/mf/archive/2010/02/18/mfmanagedencode.aspx](http://blogs.msdn.com/b/mf/archive/2010/02/18/mfmanagedencode.aspx)）将 wav 转换为 aac。我还没有完全理解它是如何工作的，但它确实有效——谢天谢地。

现在我发现很难以另一种方式进行转码，即使它有一个 MF 编解码器（AAC 解码器）。我找不到如何使用它的示例，而且我发现 MSDN 文档至少可以说是神秘的；有人幸运吗？

AC# 包装器将是理想的。

TIA。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-01-13T10:37:54.603

我已经成功地使用 NAudio 进行任何音频处理和抽象。它以 NuGet 的形式提供。它具有 Media Foundation（和其他）的包装编码器。

这是使用 NAudio 编码为 AAC 并返回 WAV 的示例：

```
using System;
using NAudio.Wave;

namespace ConsoleApplication11
{
    class Program
    {
        static void Main(string[] args)
        {
            // convert source audio to AAC
            // create media foundation reader to read the source (can be any supported format, mp3, wav, ...)
            using (MediaFoundationReader reader = new MediaFoundationReader(@"d:\source.mp3"))
            {
                MediaFoundationEncoder.EncodeToAac(reader, @"D:\test.mp4");
            }

            // convert "back" to WAV
            // create media foundation reader to read the AAC encoded file
            using (MediaFoundationReader reader = new MediaFoundationReader(@"D:\test.mp4"))
            // resample the file to PCM with same sample rate, channels and bits per sample
            using (ResamplerDmoStream resampledReader = new ResamplerDmoStream(reader, 
                new WaveFormat(reader.WaveFormat.SampleRate, reader.WaveFormat.BitsPerSample, reader.WaveFormat.Channels)))
            // create WAVe file
            using (WaveFileWriter waveWriter = new WaveFileWriter(@"d:\test.wav", resampledReader.WaveFormat))
            {
                // copy samples
                resampledReader.CopyTo(waveWriter);
            }
        }
    }
} 
```

# spring - 无法实例化 bean 类 [net.sf.cglib.core.Local]：

> ID：13486749
> 
> 赞同：0
> 
> 时间：2012-11-21T05:12:24.200
> 
> 标签：spring, hibernate, jakarta-ee, spring-mvc

当我正在开发 spring -mvc 应用程序时，我在尝试访问和页面时遇到了这个异常：

```
org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [net.sf.cglib.core.Local]: 
```

我已经借到了 jar 文件 net.sf.cglib.core 但没有本地类，在这种情况下我该怎么办？堆栈跟踪是：

```
message Request processing failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [net.sf.cglib.core.Local]: No default constructor found; nested exception is java.lang.NoSuchMethodException: net.sf.cglib.core.Local.<init>()

description The server encountered an internal error that prevented it from fulfilling this request.

exception

org.springframework.web.util.NestedServletException: Request processing failed; nested     exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [net.sf.cglib.core.Local]: No default constructor found; nested exception is   java.lang.NoSuchMethodException: net.sf.cglib.core.Local.<init>()
org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:894)
org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
kz.bimash.FoodSec.filters.CharsetFilter.doFilter(CharsetFilter.java:34)
root cause

org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [net.sf.cglib.core.Local]: No default constructor found; nested exception is java.lang.NoSuchMethodException: net.sf.cglib.core.Local.<init>()
org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:107)
org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:131)
org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:81)
org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:102)
org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:74)
org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:155)
org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:117)
org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:96)
org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:617)
org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:578)
org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:900)
org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:827)
org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
kz.bimash.FoodSec.filters.CharsetFilter.doFilter(CharsetFilter.java:34)
root cause

java.lang.NoSuchMethodException: net.sf.cglib.core.Local.<init>()
java.lang.Class.getConstructor0(Unknown Source)
java.lang.Class.getDeclaredConstructor(Unknown Source)
org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:104)
org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:131)
org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:81)
org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:102)
org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:74)
org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:155)
org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:117)
org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:96)
org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:617)
org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:578)
org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:900)
org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:827)
org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
kz.bimash.FoodSec.filters.CharsetFilter.doFilter(CharsetFilter.java:34) 
```

**更新** 这里是 POM>xml

```
 <?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>kz.bimash</groupId>
    <artifactId>foodsec</artifactId>
    <name>foodsec</name>
    <packaging>war</packaging>
    <version>1.0.0-BUILD-SNAPSHOT</version>
    <properties>
        <war-name>foodsec</war-name>
        <project-name>foodsec</project-name>
        <java-version>1.6</java-version>
        <org.springframework-version>3.1.0.RELEASE</org.springframework-version>
        <org.aspectj-version>1.6.9</org.aspectj-version>
        <org.slf4j-version>1.5.10</org.slf4j-version>
        <netbeans.hint.deploy.server>Tomcat</netbeans.hint.deploy.server>
    </properties>
    <dependencies>
        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-template</artifactId>
            <version>2.2.2</version>
        </dependency>
        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-servlet</artifactId>
            <version>2.2.2</version>
        </dependency>
        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-api</artifactId>
            <version>2.2.2</version>
        </dependency>
        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-jsp</artifactId>
            <version>2.2.2</version>
        </dependency>
        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-core</artifactId>
            <version>2.2.2</version>
        </dependency>
        <!-- Spring -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-tx</artifactId>
            <version>${org.springframework-version}</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-orm</artifactId>
            <version>${org.springframework-version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context</artifactId>
            <version>${org.springframework-version}</version>
            <exclusions>
                <!-- Exclude Commons Logging in favor of SLF4j -->
                <exclusion>
                    <groupId>commons-logging</groupId>
                    <artifactId>commons-logging</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-webmvc</artifactId>
            <version>${org.springframework-version}</version>
        </dependency>

        <!-- AspectJ -->
        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjrt</artifactId>
            <version>${org.aspectj-version}</version>
        </dependency>

        <!-- Logging -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>${org.slf4j-version}</version>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>jcl-over-slf4j</artifactId>
            <version>${org.slf4j-version}</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
            <version>${org.slf4j-version}</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.15</version>
            <exclusions>
                <exclusion>
                    <groupId>javax.mail</groupId>
                    <artifactId>mail</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>javax.jms</groupId>
                    <artifactId>jms</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.sun.jdmk</groupId>
                    <artifactId>jmxtools</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.sun.jmx</groupId>
                    <artifactId>jmxri</artifactId>
                </exclusion>
            </exclusions>
            <scope>runtime</scope>
        </dependency>

        <!-- @Inject -->
        <dependency>
            <groupId>javax.inject</groupId>
            <artifactId>javax.inject</artifactId>
            <version>1</version>
        </dependency>

        <!-- Servlet -->
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <version>2.5</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet.jsp</groupId>
            <artifactId>jsp-api</artifactId>
            <version>2.1</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jstl</artifactId>
            <version>1.2</version>
        </dependency>

        <!-- Test -->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.7</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>javax.persistence</groupId>
            <artifactId>persistence-api</artifactId>
            <version>1.0.2</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>3.3.2.GA</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-annotations</artifactId>
            <version>3.3.1.GA</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-commons-annotations</artifactId>
            <version>3.3.0.ga</version>
        </dependency>
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.18</version>
            <type>jar</type>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate</artifactId>
            <version>3.2.5.ga</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-entitymanager</artifactId>
            <version>3.3.2.GA</version>
        </dependency>
        <dependency>
            <groupId>com.ibm.icu</groupId>
            <artifactId>icu4j</artifactId>
            <version>50.1</version>
        </dependency>
        <dependency>
            <groupId>cglib</groupId>
            <artifactId>cglib</artifactId>
            <version>2.1_3</version>
        </dependency>
    </dependencies>
    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <configuration>
                    <source>${java-version}</source>
                    <target>${java-version}</target>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-war-plugin</artifactId>
                <version>2.1.1</version>
                <configuration>
                    <warName>${war-name}</warName>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <executions>
                    <execution>
                        <id>install</id>
                        <phase>install</phase>
                        <goals>
                            <goal>sources</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-resources-plugin</artifactId>
                <version>2.5</version>
                <configuration>
                    <encoding>UTF-8</encoding>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>tomcat-maven-plugin</artifactId>
                <version>1.1</version>
                <configuration>
                    <username>tomcat</username>
                    <password>tomcat</password>
                    <warFile>target/${war-name}.war</warFile>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project> 
```

# hibernate - 如何在休眠搜索的 ManytoOne Join 字段上应用 where 子句？

> ID：13486751
> 
> 赞同：2
> 
> 时间：2012-11-21T05:12:40.797
> 
> 标签：hibernate, lucene, hibernate-search

我有一个*Product*表，它有字段*Name*、*SKU*、*Description*和*Product category*（与产品类别表的多对一关系）。*我使用 Hibernate Search 对Product*进行了索引，并编写了以下代码来执行搜索：

```
FullTextEntityManager fullTextEntityManager = org.hibernate.search.jpa.Search
            .getFullTextEntityManager(getEntityManager());
QueryBuilder qb = fullTextEntityManager.getSearchFactory()
            .buildQueryBuilder().forEntity(Product.class).get();

    org.apache.lucene.search.Query query = qb.keyword().fuzzy()
            .onFields("name", "sku", "uniqueid", "description")
            .matching(value).createQuery();
    javax.persistence.Query persistenceQuery = fullTextEntityManager
            .createFullTextQuery(query, Product.class); 
```

现在我想在产品类别上添加一个 where 条件。例如，我只想搜索 productCategory.Id=101 的产品。

谁能建议我如何做到这一点？

感谢和问候维杰

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T10:20:12.380

像这样的东西应该可以工作（您需要使用*bool*组合查询）：

```
Query fuzzyQuery = qb.keyword()
    .fuzzy()
    .onFields("name", "sku", "uniqueid", "description")
    .matching(value)
    .createQuery();

Query categoryQuery = qb.keyword()
    .onField("productCategory.Id")
    .matching("101")
    .createQuery();

Query luceneQuery = qb
    .bool()
      .should( fuzzyQuery )
      .must( categoryQuery )
    .createQuery(); 
```

像这样的东西。这实际上取决于您如何准确地配置您的实体。确实，您在制作示例时应该谈论实体而不是表格，并且应该发布带​​注释的实体的代码。

# ios - 需要有关打印的信息 [NSDate 日期]

> ID：13486754
> 
> 赞同：7
> 
> 时间：2012-11-21T05:12:48.007
> 
> 标签：ios, nsdate

当我打印日期时

```
//getting the current date and time
self.date = [NSDate date];
NSLog(@"%@",date); 
```

我得到的日期是正确的，但时间延迟了 6 小时。我的系统时间是正确的。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-21T05:17:40.490

试试这个

```
NSLocale* currentLoc = [NSLocale currentLocale];
NSLog(@"%@",[[NSDate date] descriptionWithLocale:currentLoc]); 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-11-21T05:18:11.900

使用**NSDateFormatter**

```
NSDate *today = [NSDate date];

//Create the dateformatter object
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];

//Set the required date format
[dateFormatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];

//Get the string date
NSString *dateString = [dateFormatter stringFromDate:today];

//Display on the console
NSLog(dateString); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-21T09:43:37.903

在调试器中记录一个`NSDate`有点误导，因为它为您提供特定时区的日历日和时间 - UTC / GMT。但是，`NSDate`它根本没有固有的时区或与人类如何感知和思考日期的任何固有关系。相反，它是一个时间戳。像`NSDateComponents`, `NSTimeZone`, `NSDateFormatter`, 等等这样的类都是为了提供人类上下文和格式而存在的。

因此，您看到的是格式化为特定格式和 UTC 时区的时间戳，这是`NSDate`在调试器或控制台中打印时始终显示的方式。如果您要计算 UTC 和您自己的时区之间的时区偏移量，您会发现日期代表您给它的时间戳，而不是一个多小时的时间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T05:17:23.067

您可以设置当前时区以自定义日期格式。

此链接可以提供帮助： [https ://stackoverflow.com/a/7213629/456471](https://stackoverflow.com/a/7213629/456471)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T05:19:41.393

默认日期字符串表示可能会将日期格式化为 UTC，而不是您的本地时区（未定义它将使用的确切格式，并且可能会因版本而异，因此您不应依赖它）。如果您需要以特定格式（或特定时区，包括本地时区）格式化日期，则应使用 NSDateFormatter 类；有关详细信息，请参阅[数据格式指南](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/DataFormatting/Articles/dfDateFormatting10_4.html#//apple_ref/doc/uid/TP40002369-SW1)和[NSDateFormatter 类参考](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSDateFormatter_Class/Reference/Reference.html#//apple_ref/occ/cl/NSDateFormatter)。

# java - 使用谷歌搜索 API

> ID：13486756
> 
> 赞同：1
> 
> 时间：2012-11-21T05:12:53.150
> 
> 标签：java, api, search

我是否应该期望使用 Google 搜索 API 获得与直接在 Google 上进行搜索时完全相同的结果？我有一个使用 Google 搜索 api 的 Java 应用程序，我的意思是[http://ajax.googleapis.com/ajax/services/search/web?v=1.0](http://ajax.googleapis.com/ajax/services/search/web?v=1.0) ..... 但是我跳过了一个搜索项和几个不同的顺序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:22:58.563

我认为你不应该期待同样的结果。

如果你用浏览器搜索谷歌，那么谷歌会从浏览器中提取一些数据，并根据这些数据调整结果以更好地适应你。Java 应用程序不会发生这种情况。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-21T07:05:05.630

试试这个可能对你有帮助。

```
<form method="get" action="http://www.google.com/search">

<input type="text"   name="q" size="31" maxlength="255" value="" />
<input type="submit" value="Google Search" />
<br />
</form> 
```

# java - 来自 URL 的 Android 位图始终为空

> ID：13486758
> 
> 赞同：1
> 
> 时间：2012-11-21T05:13:06.723
> 
> 标签：java, android, image, bitmap, bitmapfactory

我正在尝试从 URL 下载图像并将其转换为位图，但是该行

```
Bitmap myBitmap = BitmapFactory.decodeStream(input); 
```

总是导致调试器跳到下一行

```
return null; 
```

没有实际打印出堆栈跟踪，并且 Exception 变量也不存在于调试器中列出的变量中。我读了很多关于 url 可能存在的问题，这些问题实际上并没有导致图像、格式不正确的图像等，但它仍然存在与我肯定存在的硬编码图像相同的问题。

```
public static Bitmap getBitmapFromURL(String src) {
    try {
        URL url = new URL(
                "http://www.helpinghomelesscats.com/images/cat1.jpg");
        HttpURLConnection connection = (HttpURLConnection) url
                .openConnection();
        connection.setDoInput(true);
        connection.connect();
        InputStream input = connection.getInputStream();
        Bitmap myBitmap = BitmapFactory.decodeStream(input);
        return myBitmap;
    } catch (IOException e) {
        e.printStackTrace();
        return null;
    }
} 
```

由于似乎可能涉及 manifest.xml 文件，因此我已在此处编辑添加。

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.delivery"
android:versionCode="1"
android:versionName="1.0">

<uses-permission android:name="android.permission.CALL_PHONE"/>
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.INTERNET"></uses-permission>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"></uses-permission>

<application android:icon="@drawable/icon" android:label="@string/app_name">
    <activity android:name=".IntroPage"
              android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name=".Browse"></activity>
    <activity android:name=".ViewProduct"></activity>
    <activity android:name=".ViewOrder"></activity>
    <activity android:name=".GetAddress"></activity>
    <activity android:name=".ConfirmOrder"></activity>
</application> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T06:35:05.737

以下代码适用于所有类型的图像。

```
 try {

        URL url = new URL("http://www.helpinghomelesscats.com/images/cat1.jpg");
        InputStream in = url.openConnection().getInputStream(); 
        BufferedInputStream bis = new BufferedInputStream(in,1024*8);
        ByteArrayOutputStream out = new ByteArrayOutputStream();

        int len=0;
        byte[] buffer = new byte[1024];
        while((len = bis.read(buffer)) != -1){
            out.write(buffer, 0, len);
        }
        out.close();
        bis.close();

        byte[] data = out.toByteArray();
        Bitmap bitmap = BitmapFactory.decodeByteArray(data, 0, data.length);
        imageView.setImageBitmap(bitmap);
    }
    catch (IOException e) {
        e.printStackTrace();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T06:45:15.683

嗨，你可以在 android 清单文件中给出这 2 个 pemssions

```
<uses-permission android:name="android.permission.INTERNET"></uses-permission>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"></uses-permission> 
```

在您的活动中：

```
url="http://www.helpinghomelesscats.com/images/cat1.jpg"
Bitmap bmp=readBitmapFromNetwork(url);

 public static Bitmap readBitmapFromNetwork(String imgurl) {
         URL url;
         Bitmap bmp = null;
         InputStream is = null;
           BufferedInputStream bis = null;
           System.out.println("image url ==========   "+imgurl);
        try {

            url=new URL(imgurl);
            System.out.println("url.getPath()"+url.getPath());          
                try {
               URLConnection conn = url.openConnection();
                    conn.connect();
                    is = conn.getInputStream();
                    bis = new BufferedInputStream(is);
                bmp = BitmapFactory.decodeStream(bis);
                } catch (MalformedURLException e) {                 
                    System.out.println("Bad ad URL");
                    e.printStackTrace();
                } catch (IOException e) {                   
                    System.out.println("Could not get remote ad image");
                    e.printStackTrace();
                }

        } catch (MalformedURLException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }
         finally {
                try {
                    if( is != null )
                        is.close();
                    if( bis != null )
                      bis.close();
                } catch (IOException e) {
                    System.out.println("Error closing stream.");
                    e.printStackTrace();
                }
            }   

           return bmp;
            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T20:01:17.710

这对我有用，在寻找另一个问题时在这里找到了它。这样它就不会阻碍用户界面。在 ArrayAdapters 中也能很好地工作。

用途：

```
_coverArt = (ImageView) row.findViewById(R.id.top_CoverArt);

new DownloadImageTask(_coverArt)
            .execute("Put your URL here Hint: make sure it's valid http://www.blah..."); 
```

异步任务

```
class DownloadImageTask extends AsyncTask<String, Void, Bitmap> {
ImageView bmImage;

public DownloadImageTask(ImageView bmImage) {
    this.bmImage = bmImage;
}

protected Bitmap doInBackground(String... urls) {
    String urldisplay = urls[0];
    Bitmap mIcon11 = null;
    try {
        InputStream in = new URL(urldisplay).openStream();
        mIcon11 = BitmapFactory.decodeStream(in);
    } catch (Exception e) {
        Log.e("Error", e.getMessage());
        e.printStackTrace();
    }
    return mIcon11;
}

protected void onPostExecute(Bitmap result) {
    bmImage.setImageBitmap(result);
}
} 
```

# node.js - NodeJS：使用节点检查器调试 RailwayJs

> ID：13486759
> 
> 赞同：0
> 
> 时间：2012-11-21T05:13:25.327
> 
> 标签：node.js, railway.js, node-inspector

目前我正在开发一个基于 RailJS 框架的 NodeJS 应用程序。我想要一个节点检查器类型的调试器，用于逐步调试铁路JS 应用程序。谁能建议我如何使用 node-inspector（或任何类似的调试器）和 RailwayJS。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-28T12:26:07.113

迁移到超酷的框架 GeddyJS。它还可以通过节点检查器进行调试。请点击以下链接了解更多详情。

[https://github.com/mde/geddy/wiki/Debugging](https://github.com/mde/geddy/wiki/Debugging)

# iphone - 无法在 UIView 中制作流畅的动画

> ID：13486760
> 
> 赞同：0
> 
> 时间：2012-11-21T05:13:24.773
> 
> 标签：iphone, objective-c, ios, uiviewanimation, uianimation

我在按钮单击时向我的视图添加了视图动画，第一次单击时视图将滑动到右侧，第二次单击时将返回..（就像在 Facebook iPhone 应用程序中一样）

但是动画不是那么流畅，有一些抽搐和所有。但是当它到达最终（x，y）时，它们处于正确的位置，当视图移动时，动画看起来并不那么专业。帮我纠正这个

**还有一个问题，有没有办法用相同的事件为下面的标签栏设置动画。（您可以在图像中看到标签栏没有随动画一起移动）**

在此处添加代码！

```
- (IBAction)ShowView:(id)sender
{
if (n==0)
{
    CATransition *animation = [CATransition animation];
    [animation setDuration:0.5];
    [animation setType:kCATransitionPush];
    [animation setSubtype:kCATransitionFromLeft];
    [animation setTimingFunction:[CAMediaTimingFunction  functionWithName:kCAMediaTimingFunctionEaseInEaseOut]];
    self.view.center = CGPointMake(410, 205);

    [[self.view layer] addAnimation:animation forKey:@"SwitchToNoti"];

    n=1;
   }else
   {
    CATransition *animation = [CATransition animation];
    [animation setDuration:0.5];
    [animation setType:kCATransitionPush];
    [animation setSubtype:kCATransitionFromRight];
    [animation setTimingFunction:[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut]];
    self.view.center = CGPointMake(160,205);

    [[self.view layer] addAnimation:animation forKey:@"SwitchTohome"];

    n=0;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T06:22:32.507

试试这个

```
- (IBAction)ShowView:(id)sender {

if (n==0)
{

    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration:0.5];
    [self.view setCenter:CGPointMake(self.view.center.x + 100, self.view.center.y)];
    [UIView commitAnimations];

    n=1;
}else
{

    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration:0.5];
    [self.view setCenter:CGPointMake(self.view.center.x - 100, self.view.center.y)];
    [UIView commitAnimations];

    n=0;
} 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:58:39.387

您可以使用以下代码显示动画：-

```
[UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:0.40];
[UIView setAnimationCurve:UIViewAnimationCurveEaseOut];
self.view.frame = TestRect;
[UIView commitAnimations]; 
```

您需要在这里创建一个名为 TestRect 的 CGRect ，看看这是否能解决您的问题。

# android - Android JSON 空值

> ID：13486761
> 
> 赞同：0
> 
> 时间：2012-11-21T05:13:30.717
> 
> 标签：android, mysql, json

此发布请求转到连接到我的数据库的 php 页面，该页面查询文本字段“名称”中的任何内容。当我知道它们不为空时，附加到结果的字符串始终为空。我想念什么？

```
public void onClick(View v) {
    URI website = null;
    HttpResponse response = null;
    BufferedReader in = null;
    InputStream is = null;
    String result = "hello";
    JSONObject jArray = null;

    HttpClient client = new DefaultHttpClient();

    try {
        website = new URI("http://fakesite.com");
    } catch (URISyntaxException e) {
        e.printStackTrace();
    }

    HttpGet getRequest = new HttpGet();
    getRequest.setURI(website);

    HttpPost postRequest = new HttpPost(website);

    try {

        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
        nameValuePairs.add(new BasicNameValuePair("name", name.toString() ));
        postRequest.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        response = client.execute(postRequest);

        HttpEntity entity = response.getEntity();
        is = entity.getContent();

        results.append(" got response");
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
        StringBuilder sb = new StringBuilder();
        String line = null;

        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }

        is.close();
        result=sb.toString();

        results.append(result);

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:23:06.760

nameValuePairs.add(new BasicNameValuePair("name", name.toString() ));

name.toString() 中的名称是什么。你在哪里初始化名称对象？

# c# - 在 MVC3 中绑定嵌套集合

> ID：13486763
> 
> 赞同：3
> 
> 时间：2012-11-21T05:13:36.670
> 
> 标签：c#, asp.net, asp.net-mvc-3, razor, model-binding

我有一个包含多态对象列表的 ViewModel。

```
public class InputParameters
{
    public InputParameters()
    {
        InputPrompts = new List<IInputPrompt>();
    }

    public string Name { get; set; }
    public string Path { get; set; }

    public IList<IInputPrompt> InputPrompts { get; set; }
} 
```

这又看起来是这样的：

```
public interface IInputPrompt
{
    string Name { get; set; }
    bool IsHidden { get; set; }
    bool IsRequired { get; set; }

    dynamic Value { get; set; }
}
public class TextPrompt : IInputPrompt
{
    public string Name { get; set; }
    public bool IsHidden { get; set; }
    public bool IsRequired { get; set; }
    public dynamic Value { get; set; }
}
public class MultiSelectPrompt : IInputPrompt
{
    public string Name { get; set; }
    public bool IsHidden { get; set; }
    public bool IsRequired { get; set; }
    public dynamic Value { get; set; }

    public MultiSelectList Values
    {
        get
        {
            return new MultiSelectList(((IDictionary<int, string>)Value).ToList(), "Key", "Value");
        }
    }
} 
```

每个派生类型都有一个编辑器视图模板，视图如下所示：

```
@model OptionListModelBinding.Models.InputParameters
@{
    ViewBag.Title = "Index";
}
<h2>Index</h2>
@using (Html.BeginForm())
{
    <fieldset>
        <legend><strong>@Model.Name</strong></legend>
        <div><em>@Model.Path</em></div>
        <div>@Html.EditorFor(p => p.InputPrompts)</div>
        <div><input type="submit" /></div>
    </fieldset>

}
// editor template
@model OptionListModelBinding.Models.InputParameters
@{
    ViewBag.Title = "Index";
}
<h2>Index</h2>
@using (Html.BeginForm())
{
    <fieldset>
        <legend><strong>@Model.Name</strong></legend>
        <div><em>@Model.Path</em></div>
        <div>@Html.EditorFor(p => p.InputPrompts)</div>
        <div><input type="submit" /></div>
    </fieldset>

} 
// editor template
@model OptionListModelBinding.Models.MultiSelectPrompt
@{
    ViewBag.Title = "MultiSelectPrompt";
}

<h2>MultiSelectPrompt</h2>
<div><strong>@Model.Name</strong></div>
<div><em>@Html.ListBox(Model.Name, Model.Values)</em></div> 
```

这一切都很好地呈现：![屏幕截图](../Images/bc6aa38e3026a5fb62b2274f7bd0843c.png)

问题是这样的：

如何将其绑定回模型？我有一个自定义模型绑定器：（请原谅这段代码的破坏性质）。

```
 public class InputParameterModelBinder : IModelBinder
{
    public object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
    {
        if (bindingContext == null)
        {
            throw new ArgumentNullException("bindingContext");
        }
        // iterate over the form fields
        foreach (string item in controllerContext.HttpContext.Request.Form.AllKeys)
        {
            // this is where the problem is ... I cannot use the generic here.
            var dog = FromPostedData<string>(bindingContext, item);

        }

        InputParameters userInput = new InputParameters();

        return userInput;
    }

    // Dino Esposito code
    private T FromPostedData<T>(ModelBindingContext context, string id)
    {
        if (String.IsNullOrEmpty(id)) return default(T);
        var key = String.Format("{0}.{1}", context.ModelName, id);
        var result = context.ValueProvider.GetValue(key);
        if (result == null && context.FallbackToEmptyPrefix)
        {
            result = context.ValueProvider.GetValue(id);
            if (result == null) return default(T);
        }

        context.ModelState.SetModelValue(id, result);

        T valueToReturn = default(T);
        try
        {
            valueToReturn = (T)result.ConvertTo(typeof(T));
        }
        catch { }
        return valueToReturn;
    }
} 
```

**编辑** 我是否提到列表中的项目是在运行时确定的？

**编辑** 这是一个报告生成工具的前端。后端服务提供可用报告的列表以及运行每个报告所需的参数。这些在编译时都不知道，报告定义甚至可以随着需要重新编译的门户网站而改变。

我可以有可变数量和类型的输入参数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T23:29:15.260

您不能期望 MVC 实例化 an，`IInputPrompt`因为它没有逻辑来确定您真正想要的类。您的选择是创建一个 ModelBinder 以将模型绑定到此特定接口，或者将接口更改为具体类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T06:59:32.313

我认为您不需要自定义活页夹。您可以简单地将您的视图模型传递回 post 方法：

```
[HttpPost]
public ActionResult ProcessForm(InputParameters viewModel)
{
    ...
} 
```

默认的 MVC 绑定器会将表单值与 InputParameters 参数的属性相匹配。如果您的视图使用任何类型的特殊表单变量名称，您可能需要在该参数上使用 [Bind] 属性来指示绑定器必须查找的变量名称前缀。

# visual-studio-2010 - vs2010调试器中的日期时间设置

> ID：13486764
> 
> 赞同：1
> 
> 时间：2012-11-21T05:13:40.633
> 
> 标签：visual-studio-2010, datetime, overflow

我使用一个接受日期时间参数的查询，例如：

```
SELECT * FROM Table WHERE logindate=@logindate 
```

然后我使用参数在 C# 中传入@logindate 值

```
command.Parameters.AddWithValue("@logindate",DateTime.Now.ToUniversalTime()); 
```

在我的本地，它运行良好，但在我朋友的本地 PC 中出现错误：

```
Arithmetic overflow error converting expression to data type datetime. 
```

我们尝试了很多方法，包括 Convert.ToDateTime 但失败了。当我们检查调试器时，

```
Datetime x = DateTime.Now.ToUniversalTime(); 
```

我的电脑给出“11/21/2012”，而我朋友的电脑给出“21/11/2012”作为日期。我们已尝试更改 PC 的日期时间，并检查了我们 PC 中安装的 IIS 7.5 设置。还有什么我们应该检查的吗？

# iphone - 如何删除用户默认值

> ID：13486771
> 
> 赞同：0
> 
> 时间：2012-11-21T05:14:52.390
> 
> 标签：iphone, ios

> **可能重复：**
> [如何在 iPhone 模拟器中重置 NSUserDefaults 数据？](https://stackoverflow.com/questions/898498/how-can-i-reset-the-nsuserdefaults-data-in-the-iphone-simulator)

在我的项目中，我使用不同的键在 NSUserdefaults 中保存了一些值。当我单击存储在用户默认值中的按钮值应该删除时，我在我的应用程序中有重置按钮。有没有办法在没有键的情况下删除这些值，并且是 addSuitedNamed：并且 removeSuitedName 可以在这种情况下使用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-21T05:21:55.653

```
NSUserDefaults * myNSUserDefaults = [NSUserDefaults standardUserDefaults];
NSDictionary * dict = [myNSUserDefaults dictionaryRepresentation];
for (id key in dict) {

     //heck the keys if u need
     [myNSUserDefaults removeObjectForKey:key];
}
[myNSUserDefaults synchronize]; 
```

或者

```
[NSUserDefaults resetStandardUserDefaults];
[NSUserDefaults standardUserDefaults]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:24:42.887

您可以使用 重置NSUserDefault[的](http://developer.apple.com/mac/library/documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/occ/clm/NSUserDefaults/resetStandardUserDefaults)`resetStandardUserDefaults`值。

检查此代码：

```
[NSUserDefaults resetStandardUserDefaults];
[NSUserDefaults standardUserDefaults]; 
```

您还可以：

```
NSString *appDomain = [[NSBundle mainBundle] bundleIdentifier];
[[NSUserDefaults standardUserDefaults] removePersistentDomainForName:appDomain]; 
```

或者您可以使用：

```
NSUSerDefaults *default = [NSUserDefaults standardUserDefaults];
NSDictionary *dictionary = [default dictionaryRepresentation];
for (NSString *key in [dictionary allKeys])
{
    [default removeObjectForKey:key];
}
[default synchronize]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T05:30:06.363

通过单击按钮调用选择器，您可以使用

```
- (IBAction)btnResetUserDefaultsPressed:(id)sender {
    NSUserDefaults* userDefaults = [NSUserDefaults standardUserDefaults];
    NSDictionary* dictUserDefaults = [userDefaults dictionaryRepresentation];
    for (id akey in dictUserDefaults) {
        [userDefaults removeObjectForKey:akey];
    }
    [userDefaults synchronize];
} 
```

对于您提出的问题的第二部分，您肯定会发现[这](http://cocoadev.com/wiki/WorkingWithUserDefaults)很有用。

# javascript - 更改选项卡显示所有图像，分钟后显示原始图像

> ID：13486773
> 
> 赞同：1
> 
> 时间：2012-11-21T05:15:04.717
> 
> 标签：javascript, ruby-on-rails

我正在为图像使用 javascript easyslider

问题是我有四个选项卡，当我单击下一个选项卡时，它也会在加载时显示下一个选项卡的图像。

请建议任何方式???

这是脚本：---

$(文档).ready(函数() {

```
 $('#reviews').imagesLoaded(function() {
          $("#slider1").easySlider({
                nextId: "slidernext1",
                prevId: "sliderprev1",
                speed: 150
            });
            if ($(".reviewsImage").find('li').length <= 1)
                {
                    $("#slidernext1").hide();
                    $("#sliderprev1").hide();
                }
        } 
```

# svn - 在 SVN 中访问提取的类修订信息

> ID：13486774
> 
> 赞同：1
> 
> 时间：2012-11-21T05:15:18.550
> 
> 标签：svn

所以我有一个 SVN 源代码控制类，它会随着时间的推移而扩展，最终需要分成两个类。所以我从旧类中删除了相关方法并将它们移动到一个新文件中。

然而，就 SVN 而言，新类与原始类没有任何关系，因此新类中代码的更改日志是空的，即使在代码存在时可能已经对代码进行了多次更改在旧班。

有什么方法可以让 SVN 将一个文件与另一个文件关联起来，这样我就可以看到完整的修订日志，包括提取类之前的内容？

如果不是，那么使用什么变通方法来通知其他开发人员该类的代码曾经位于另一个文件中？每次我提取一个类时，我是否需要粘贴引用前一个文件的评论？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:41:51.593

通常，如果我将一个文件一分为二，我会制作一份副本。

在原版中，我删除了前半部分，在副本中 - 另一个。

# html - 媒体屏幕不会随着浏览器的分辨率而改变

> ID：13486780
> 
> 赞同：4
> 
> 时间：2012-11-21T05:16:36.490
> 
> 标签：html, css, screen, media-queries

我第一次使用媒体屏幕，他们似乎也没有按照他们应该的方式工作......

```
@media only screen and (max-width : 320px) { 
```

这里的所有css样式都显示为它应该的样子。

```
@media only screen and (max-width : 321px) { 
```

当宽度超过 321 像素时，我在这里放置的所有 CSS 样式都不适用于页面。这不应该发生....例如，如果我要更改任何文本颜色，则最终不会发生任何变化。

在此先感谢您的帮助:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T05:33:03.073

您在此媒体查询中编写的 CSS 将应用于宽度小于`321px;`

```
@media only screen and (max-width : 321px) { 
```

如果您想在调整大小时应用相同的 CSS，`321px`那么您需要根据您的要求增加宽度 -

```
@media screen and (max-width: 700px){ 
```

您需要将媒体查询写入类或元素，如 -

```
@media screen and (max-width: 700px){

body{
  font-size:20px;
  color:red;
}

} 
```

[**在这里演示**](http://jsfiddle.net/MgSze/)

# javascript - 如何使用 Javascript 创建基于 Web 的镜像工具？

> ID：13486781
> 
> 赞同：-2
> 
> 时间：2012-11-21T05:16:37.457
> 
> 标签：javascript

我正在开发眼镜的电子商务网站。我想在你的脸上或一些样本脸上添加一个功能来尝试戴眼镜。一个完美的例子就是这个网站

[http://www.glasses2you.co.uk/prescription-glasses/gender/mens-glasses](http://www.glasses2you.co.uk/prescription-glasses/gender/mens-glasses)

请参阅本网站上的**“试镜”**选项。

我可以看到它是使用 Flash Actionscript 构建的。有什么建议我可以通过 jQuery 或此类相关工具使用 Javascript 构建它吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:19:38.960

只需将眼镜的图像放在照片的顶部。

您可以使用 CSS 执行此操作，可以使用 JavaScript 进行设置。使用[CSS`position`属性](http://www.barelyfitz.com/screencast/html-training/css/positioning/)。

对于您的眼镜源图像，请使用 PNG，以便您可以拥有适当的 alpha 通道。您可能希望单独为每个图像指定偏移量。

# c#-4.0 - 在 C# 中创建快捷方式时的路径操作

> ID：13486783
> 
> 赞同：0
> 
> 时间：2012-11-21T05:16:47.850
> 
> 标签：c#-4.0

使用下面的代码，我正在创建一个快捷方式。当我运行 HP fortify 工具时，我遇到了突出显示代码的路径操作问题。我是新手。谁能告诉我如何纠正它。我的意思是正在发生什么路径操作.

string fileName = new data().getdata(object_id, Cid, id_pluf).Tables[0].Rows[0]["Name"] + "url";

```
 **var fs = new System.IO.FileStream(start + fileName, System.IO.FileMode.Create);**
            fs.Write(bytes, 0, bytes.Length);
            fs.Flush();
            fs.Close();

     private static void DeleteShortcut(string start, string fileName)
        {
            **if (System.IO.File.Exists(start+ fileName))**
            {

                **System.IO.File.Delete(start+ fileName);**
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:48:28.047

始终使用：

```
Path.Combine(start, fileName) 
```

代替 ：

```
start+ fileName 
```

# jquery - ASP MVC4+JQuery 验证不起作用

> ID：13486786
> 
> 赞同：1
> 
> 时间：2012-11-21T05:17:03.443
> 
> 标签：jquery, asp.net, asp.net-mvc, razor, jquery-validate

我已按照 Internet 中的步骤设置密码验证。

我正在使用 ASP.NET MVC4+razor+jquery，但验证似乎不起作用。这是我的代码：

CSHTML：

```
@using (Html.BeginForm("Index","Home",FormMethod.Post,new { id="resetForm"}))
{

    <ol class="round">
    <li class="one">
        <h5>Select the Application.</h5>
        @model PWDManagementCenter.Models.UserApplicationModels

        @Html.DropDownListFor(x => x.selectedUserApp, Model.userApps)
    </li>

    <li class="two">
        <h5>Input Login ID of Application</h5>
        <input name="txtLogonId"   />
    </li>

    <li class="three">
        <h5>Input the new password</h5>
        <input id="txtPwd" name="txtPwd" type="password" />
        <h6>Retype the password</h6>
        <input id="txtPwd2" name="txtPwd2" type="password" /><p />
        <input id="btnSubmit" type="submit" value="Save" />
    </li>
</ol>
} 
```

html中的JS：

```
<script src="/Scripts/jquery-1.7.1.js" type="text/javascript" />
<script src="/Scripts/jquery.validate.js" type="text/javascript" />
<script type="text/javascript">
    $(document).ready(function () {
        $('#resetForm').validate({
            rules: {
                txtPwd: {
                    require: true, minlength: 6, maxlength: 20
                },
                txtPwd2: {
                    require: true, equalTo: '#txtPwd', minlength: 6, maxlegth: 20
                }
            },
            messages: {
                txtPwd: {
                    require: "Password is required!",
                    minlength: "Password contains at least 6 characters",
                    maxlength: "Password contains at most 20 characters"
                },
                txtPwd2: {
                    equalTo: "Make sure input the same password as above"
                }
            }
        });

</script> 
```

和控制器：

```
[HttpPost]
        public ActionResult Index(UserApplicationModels model)
        {
            string appName = model.selectedUserApp;
            string id = Request.Form["txtLogonId"];
            string newPwd = Request.Form["txtPwd"];
            string newPwd2 = Request.Form["txtPwd2"];

            ......
        } 
```

当我在调试模式下单击提交按钮时，它会跳转到此索引函数而无需验证。

为什么？我错过了什么？请帮忙。

我按照这个简单的验证[演示](http://alittlecode.com/files/jQuery-Validate-Demo/)

感谢那些回答问题的人。你给了我解决问题的方法。

1.  脚本选项卡应该以“ `</script>`”而不是“ `/>`”结尾所以这个“ `<script src="/Scripts/jquery.validate.js" type="text/javascript" />`”不能工作，但这个“ `<script src="/Scripts/jquery.validate.js" type="text/javascript" ></script>`”可以工作

2.  1后出现运行时错误，说“jscript运行时错误对象不支持这个属性或方法” 这是因为我们两次包含jquery。

在 1,2 之后，验证是正常的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T06:56:54.870

1.  除非您 OPed 的代码粘贴错误，否则您的括号/括号不匹配。该`document.ready()`功能未正确关闭 - 您错过了关闭`});`

2.  这`required`不是“要求”

    ```
    $('#resetForm').validate({
            rules: {
                txtPwd: {
                    required: true, minlength: 6, maxlength: 20
                },
                txtPwd2: {
                    required: true, equalTo: '#txtPwd', minlength: 6, maxlegth: 20
                }
            },
            messages: {
                txtPwd: {
                    required: "Password is required!",
                    minlength: "Password contains at least 6 characters",
                    maxlength: "Password contains at most 20 characters"
                },
                txtPwd2: {
                    equalTo: "Make sure input the same password as above"
                }
            }
        }); 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T06:40:58.000

您似乎在手动编写 jquery 验证脚本，而不是依赖于 ASP.NET MVC 中内置的不显眼的 jquery 验证。如果是这种情况，请确保`jquery.validate.unobtrusive`您的页面中永远不会引用该脚本。此外，在 ASP.NET MVC 4 Internet 模板中，还有一个`~/bundles/jqueryval`包含此脚本的包，因此请确保您从未将其包含在您的页面或布局中。

您只需要`jquery`和`jquery.validate`脚本。还要检查您的 javascript 控制台以确保没有任何错误。

# asp.net - 使用单选按钮时，我想隐藏 div，复选框列表 [控件本身] 不显示

> ID：13486787
> 
> 赞同：0
> 
> 时间：2012-11-21T05:17:06.383
> 
> 标签：asp.net, checkboxlist

脚本：

```
 $(document).ready(function () {
          $('#Custom').hide('fast'); 
          $('#rbtnEntire').click(function () {
             $('#Custom').hide('fast');
            $('#Entire').show('fast');
            });

          $('#rbtnCustom').click(function () {
            $('#Entire').hide('fast');
            $('#Custom').show('fast');
           });
      });

    function showdiv() {
        document.getElementById("divChkList").style.display = "block";
     } 
```

.aspx 文件：

```
<div style="height:700; width:500;">
<div id="select scan type">
    <asp:RadioButton ID="rbtnEntire" runat="server" Text="Entire" 
        GroupName="s1"/>
    <asp:RadioButton ID="rbtnCustom" runat="server" Text="Custom" 
        GroupName="s1"/>
</div>
<div id="Entire" style="float:left; height:1000; width:1000; border: solid 1px;  margin-left:5px;">
    Entire<br />
    <asp:TreeView ID="TreeView1" runat="server" ShowCheckBoxes="All" ShowLines="True" ExpandDepth="2">
     <Nodes>
     <asp:TreeNode Text="Entire">
          <asp:TreeNode Text="VM">
            <asp:TreeNode Text="MBS1">   
        </asp:TreeNode>
        <asp:TreeNode Text="PF1"></asp:TreeNode>
        </asp:TreeNode>

        <asp:TreeNode Text="VM1">
        <asp:TreeNode Text="MBS2"></asp:TreeNode>
        <asp:TreeNode Text="PF2"></asp:TreeNode>
        </asp:TreeNode>

    </asp:TreeNode>
    </Nodes>
    </asp:TreeView>
        <p>
    <asp:Button ID="btnCreateXML" runat="server" onclick="btnCreateXML_Click" 
        Text="Create XML" />
   <asp:Label ID="lblResult" runat="server" Text="Label"></asp:Label>
   </p></div>
   <div id="Custom" style="float:left; height:1000; width:2000; border: solid 1px; margin-left:10px;">

    Custom <br />
    <div id="Manual" style="border:solid 1px; float:left;">
        Manual Scan Controls
    </div>

    <div id="Multiple" style="border:solid 1px; float:left;">
    Multiple Scan Controls
        <table>
                <tr>
                    <td valign="top" style="width: 165px">  
                          <asp:PlaceHolder ID="phDDLCHK" runat="server"></asp:PlaceHolder>
                    </td>
                    <td valign="top">
                          <asp:Button ID="btn" runat="server" Text="Get Checked" OnClick="btn_Click" />
                    </td>
                    <td valign="top">
                          <asp:Label ID="lblSelectedItem" runat="server"></asp:Label>
                    </td>
              </tr>
        </table>
     </div>
     <asp:HiddenField ID="hidList" runat="server" />
    </div>
   <br />
   </div> 
```

后面的代码：

```
 protected void Page_Load(object sender, EventArgs e)
 {

    if (!IsPostBack)
    {
        initialiseCheckBoxList();
        rbtnEntire.Checked = true;
        try
        {
            TreeView1.Attributes.Add("onclick", "javascript: OnTreeClick();");
        }
        catch(Exception)
        {
            Response.Write("Error Occured While onTreeClick");
        }
    }
}
  public void initialiseCheckBoxList()
  {

   CheckBoxList chkBxLst = new CheckBoxList();
   chkBxLst.ID = "chkLstItem";
    chkBxLst.Attributes.Add("onmouseover", "showdiv()");
    DataTable dtListItem = GetListItem();
    int rowNo = dtListItem.Rows.Count;
    string lstValue = string.Empty;
    string lstID = string.Empty;
    for (int i = 0; i < rowNo - 1; i++)
    {
        lstValue = dtListItem.Rows[i]["Value"].ToString();
        lstID = dtListItem.Rows[i]["ID"].ToString();
        chkBxLst.Items.Add(lstValue);
    }
    System.Web.UI.HtmlControls.HtmlGenericControl div = new System.Web.UI.HtmlControls.HtmlGenericControl("div");
    div.ID = "divChkList";
    div.Controls.Add(chkBxLst);
    div.Style.Add("border", "black 1px solid");
    div.Style.Add("width", "160px");
    div.Style.Add("height", "130px");
    div.Style.Add("overflow", "AUTO");
    div.Style.Add("display", "block");

   }//end of initialiseCheckBoxList()
  protected void btn_Click(object sender, EventArgs e)
   {
    string x=string.Empty;
    string strSelectedItem = "Selected Items ";
    CheckBoxList chk = (CheckBoxList)phDDLCHK.FindControl("chkLstItem");    // phDDLCHK is placeholder's ID

    for (int i = 0; i < chk.Items.Count; i++)
    {
        if (chk.Items[i].Selected)
        {
            if (strSelectedItem.Length == 0)
            {
                       strSelectedItem = strSelectedItem + ":" + chk.Items[i].Text;

            }
            else
            {
                strSelectedItem = strSelectedItem + ":" + chk.Items[i].Text;
                                }
        }
    }
           lblSelectedItem.Text =strSelectedItem;
  }

  public DataTable GetListItem()  
  {
    DataTable table = new DataTable();
    table.Columns.Add("ID", typeof(int));
    table.Columns.Add("Value", typeof(string));

    for (int icnt = 0; icnt < 10; icnt++)
    {
        table.Rows.Add(icnt, "ListItem"+":"+icnt);
    }
    return table;
} 
```

问题：当我选择单选按钮 rbtnCustom 时，它应该显示 div Custom 以及 CheckboxList 控件，但没有发生。当我不隐藏 div 时，它会显示出来。可以做些什么来显示 checkboxList 控件？这是我的代码，谁能告诉我哪里出错了？任何帮助将不胜感激！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-30T06:19:49.687

## **如何使用 asp 复选框控件作为 RadioButton**

***首先我们创建一个这样的脚本：***

 *```
 <script type="text/javascript">
    function check(sender) {
        var chkBox;
        var i;
        var j;
        for (i = 1; i < 6; i++) {
            for (j = 1; j < 6; j++) {
                if (i != j) {
                    if (sender.id == "ck" + i) {
                        chkBox = document.getElementById("ck" + j);
                    }
                    else {
                        chkBox = document.getElementById("ck" + i);
                    }
                    if (sender.checked) {
                        if (chkBox.checked) {
                            chkBox.checked = false;
                        }
                    }
                }
            }
        }
    }
 </script> 
```

**现在我们为我们的 ASP CheckBox 控件使用以下代码**

```
 <div>
    <asp:CheckBox ID="ck1" runat="server" Text="P1" onclick="check(this)"/>
    <asp:CheckBox ID="ck2" runat="server" Text="P2" onclick="check(this)"/>
    <asp:CheckBox ID="ck3" runat="server" Text="P3" onclick="check(this)"/>
    <asp:CheckBox ID="ck4" runat="server" Text="P4" onclick="check(this)"/>
    <asp:CheckBox ID="ck5" runat="server" Text="P5" onclick="check(this)"/>
   </div> 
```

**谢谢...**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:26:38.153

您的某些 Javascript 无法正常工作的原因是您在客户端 (Javascript) 代码中使用了**服务器ID。**

```
<asp:RadioButton ID="rbtnCustom" runat="server" Text="Custom" 
        GroupName="s1"/> 
```

由于上述控件设置`runat="server"`的ID属性是设置服务器端控件ID，所以会生成客户端ID。如果您不需要访问服务器上的此控件，则简单地使用“输入”元素而不是 asp.net 控件可能更容易。另一个选项是设置`ClientIDMode="Static"`客户端 ID 与服务器 ID 相同。

```
<asp:RadioButton ID="rbtnCustom" runat="server" Text="Custom" ClientIDMode="Static"
            GroupName="s1"/> 
```

如果您没有在后面的代码中设置 ID 并且您在客户端 Javascript 中使用 ID，请使用此控件进行任何控制。

`phDDLCHK.Controls.Add(div);`编辑：您在方法结束时也丢失了`initialiseCheckBoxList`。

您也没有提供什么 javascript "OnTreeClick();" 是。它在后面的代码中被引用。据我所知，您只在 initialiseCheckBoxList 上填充自定义复选框列表的内容一次。*

# sqlite - 如何在 python 3 for mac 中使用 SQLite3 创建数据库？

> ID：13486789
> 
> 赞同：0
> 
> 时间：2012-11-21T05:17:20.093
> 
> 标签：sqlite, python-3.x

到目前为止，这是我拥有的代码，我不断收到一条错误消息：“sqlite3.OperationalError: near ")": syntax error"

```
import sqlite3
con = sqlite3.connect("DatabaseName.sql")

cur = con.cursor()

cur.execute("""CREATE TABLE Contacts (Fname TEXT,
Lname TEXT, Phone INTEGER,)""")

Fname = input("Enter first name: ")
Lname = input("Enter last name: ")
Phone = input("Enter telephone number(no dashes or spaces): ")
Phone = int(Phone)

cur.execute("""INSERT INTO Contacts (Fname, Lname, Phone, joined_club)
VALUES (?,?,?)""", (Fname,Lname,Phone))

con.commit()

cur.close()
con.close() 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T05:20:10.740

在你的 create 语句中，你有一个额外的逗号，在 close paren 之前。它应该是：

```
cur.execute("""CREATE TABLE Contacts (Fname TEXT,
Lname TEXT, Phone INTEGER)""") 
```

`joined_club`稍后，您的`INSERT`语句中有一个额外的参数 , 。它应该是：

```
cur.execute("""INSERT INTO Contacts (Fname, Lname, Phone)
VALUES (?,?,?)""", (Fname,Lname,Phone)) 
```

# iphone - 如何从数据库中检索图像路径并在缩略图中显示图像路径，如 iphone 中的照片库

> ID：13486793
> 
> 赞同：0
> 
> 时间：2012-11-21T05:17:39.797
> 
> 标签：iphone

我是 iPhone 编程的新手。我已经在数据库中存储了图像路径。现在我想检索该图像路径，然后使用该路径我想在缩略图中显示图像，例如照片库图像。我可以检索该图像路径从数据库中，我已将该图像路径存储在数组中，现在我想在缩略图中显示所有图像如何做到这一点。任何人都可以帮助我。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T06:10:51.577

对于`iOS 6`及以上，我建议使用[UICollectionView](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionView_class/Reference/Reference.html#//apple_ref/doc/uid/TP40012177)和[PSTCollectionView](https://github.com/steipete/PSTCollectionView)。

目标是使用`PSTCollectionView`on`iOS 4/5`作为后备并切换到`UICollectionView`iOS6。我们甚至使用某些运行时技巧`UICollectionView`在运行时为旧版本的 iOS 创建。理想情况下，您只需链接文件，一切都可以在旧系统上运行。

**否则**，使用[AQGridView](https://github.com/AlanQuatermain/AQGridView)或[ZZGridView](http://www.zubizubilabs.com/zzgridview.html)

# java - Thread.sleep(1000) 在 Swing 中不起作用

> ID：13486803
> 
> 赞同：1
> 
> 时间：2012-11-21T05:18:36.857
> 
> 标签：java, multithreading, swing, animation

我在 java swing 中有一个简单的动画程序。但它不起作用。

```
 try{
    for(int i = 1; i<=500; i++){    
    ImageIcon icon = new ImageIcon("img\\COVERFront.jpg");
    Image image = icon.getImage();
    Image scaled =  image.getScaledInstance(400, i, 0);
    jLabel2.setIcon(new ImageIcon(scaled));
    Thread.sleep(1000);
    }
    }
    catch(InterruptedException ie){} 
```

我正在使用netbeans 7.1。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T06:01:11.410

从您的代码中，我了解到您正在尝试通过增加（放大）其大小来为图标设置动画。然而，由于睡眠任务是在事件调度线程 (EDT) 上完成的，因此会导致 GUI 冻结。因此，不应在事件调度线程上运行诸如 Thread.sleep() 之类的所有耗时任务。

考虑使用[SwingUtilities](https://stackoverflow.com/questions/6343716/why-do-i-need-swing-utilities-and-how-do-i-use-it)或[计时器](https://stackoverflow.com/questions/1682931/how-to-make-an-animation-with-swing?rq=1)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-21T07:03:41.723

只需将整个 for 循环放在一个线程中。就像是

```
new Thread(){
    for(int i = 1; i<=500; i++){    
        ImageIcon icon = new ImageIcon("img\\COVERFront.jpg");
        Image image = icon.getImage();
        Image scaled =  image.getScaledInstance(400, i, 0);
        jLabel2.setIcon(new ImageIcon(scaled));
        Thread.sleep(1000);
    }
} 
```

这会做。您试图在 Event Dispatcher Thread 中设置相同的动画是唯一的问题。

# php - Codeigniter 表单验证安全性

> ID：13486806
> 
> 赞同：3
> 
> 时间：2012-11-21T05:18:58.950
> 
> 标签：php, security, codeigniter, sql-injection, xss

我们使用 Codeigniter 创建了一个项目，它非常酷且高效。

CI 有一个很好的表单验证功能，它有助于保护系统，但是我很难找到使用规则的正确方法。

请看下面

假设这`ID`是一个整数字段，以便我可以设置

```
$this->form_validation->set_rules("ID","FORM ID","required|trim|integer"); 
```

我认为这已经足够了，因为如果`ID`字段中包含的内容不是`integer`.

但是对于普通的 FORM 字段（文本区域或普通输入类型的文本字段）应该有什么规则，

**要求**

1.  不允许使用 HTML（或需要去除这些标签）
2.  XSS 清理
3.  SQL注入预防

目前我正在做

```
$this->form_validation->set_rules("FIELD_NAME","FIELD_NAME","required|trim|xss_clean|strip_tags"); 
```

这足以使系统安全吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-21T06:27:13.780

使用 Codeigniters 验证库是加强安全性的第一步。您应该使用它来删除任何无效字符（HTML、潜在的 XSS/SQL 攻击等）。

根据您的要求：

`strip_tags`- 删除任何 HTML 标签
`xss_clean`- 删除任何潜在的 xss 攻击字符串

`alpha_numeric`为了防止 SQL 注入攻击，您还可以在验证规则中使用类似的东西，通过只允许字母数字字符来防止潜在的危险字符。

防止 SQL 注入的另一种方法是在向数据库传递和检索数据时使用 Codeigniters 活动记录库。如果您按预期使用 Codeigniters 活动记录，它将自动删除可用于 SQL 注入攻击的危险字符。

**方法一（去除无效字符）——利用活动记录库 WHERE 函数参数**

```
$query = $this->db->where('username', $username);
$query = $this->db->get('users'); 
```

**方法二（无保护）——直接写where语句**

```
$this->db->where('username = '.$username);
$query = $this->db->get('users'); 
```

**方法3（无保护）——将整个SQL语句直接写入查询函数**

```
$this->db->query('SELECT * FROM users WHERE username = '.$username); 
```

当不使用活动记录库时，codeigniter 提供了转义字符串的功能（使它们可以安全地输入数据库）。

> $this->db->e​​scape() 该函数确定数据类型，使其只能转义字符串数据。它还会自动在数据周围添加单引号，因此您不必：

**示例用法：** 

```
$this->db->query('SELECT * FROM users WHERE username = '.$this->db->escape($username)); 
```

参考：[http ://codeigniter.com/user_guide/database/queries.html](http://codeigniter.com/user_guide/database/queries.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T23:07:11.310

还有一项很酷的 CI 安全功能

如果您从表单中获取值，则可以通过在字段名称后添加 TRUE 来清除 XSS 示例：来自已提交表单的名为 first_name 的字段

```
$firstname = $this->input->post( 'first_name', TRUE ); 
```

# php - 使用 PHP DOMDocument 替换 XML 节点的内部文本

> ID：13486811
> 
> 赞同：0
> 
> 时间：2012-11-21T05:19:23.313
> 
> 标签：php, xml

我想替换我的 XML 文件名为的 XML 节点的内部`test.xml`文本

```
<?xml version="1.0" encoding="utf-8"?>
<ads>
    <loop>no</loop>
    <item>
        <description>Description 1</description>
    </item>
    <item>
        <description>Text in item2</description>
    </item>
    <item>
        <description>Let play with this XML</description>
    </item>
</ads> 
```

我想更改两者的值`loop`和`description`标记，它应该保存在`test.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<ads>
    <loop>yes</loop>
    <item>
        <description>Description Changing Here</description>
    </item>
    <item>
        <description>Changing text in item2</description>
    </item>
    <item>
        <description>We will play later</description>
    </item>
</ads> 
```

我在 PHP 中尝试了代码：

```
<?
    $file = "test.xml";
    $fp = fopen($file, "rb") or die("cannot open file");
    $str = fread($fp, filesize($file));
    $dom=new DOMDocument();
    $dom->formatOutput = true;
    $dom->preserveWhiteSpace = false;
    $dom->loadXML($str) or die("Error");
    //$dom->load("items.xml");

    $root=$dom->documentElement; // This can differ (I am not sure, it can be only documentElement or documentElement->firstChild or only firstChild)

    $loop=$root->getElementsByTagName('loop')->item(0);//->textContent;
    //echo $loop;
    if(trim($loop->textContent)=='no')
    {
        echo 'ok';
        $root->getElementsByTagName('loop')->item(0)->nodeValue ='yes';
    }
    echo "<xmp>NEW:\n". $dom->saveXML() ."</xmp>";
?> 
```

我只尝试了标签。`loop`我不知道如何替换`nodevalue`. `description tag`当我运行此页面时，它会显示如下输出：

```
ok
NEW:
<?xml version="1.0" encoding="utf-8"?>
<ads>
    <loop>yes</loop>
    <item>
        <description>Description 1</description>
    </item>
    <item>
        <description>Changing text in item2</description>
    </item>
    <item>
        <description>Let play with this XML</description>
    </item>
</ads> 
```

它`yes`在浏览器中提供了价值，但不以`test.xml`任何理由保存它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T06:33:07.707

所以，既然你已经创建了，`DOMDocument`你就可以使用[DOMXpath](http://www.php.net/manual/en/class.domxpath.php)。或者继续使用`getElementsByTagName()`

您可以这样做（但仅在这种情况下）：

```
$descriptions = $root->getElementsByTagName('description');
foreach($descriptions as $nodeDesciption)
{
    $nodeDesciption->nodeValue ='Your custom value';
} 
```

# android - 在 Android 中的电子邮件中添加正文

> ID：13486814
> 
> 赞同：9
> 
> 时间：2012-11-21T05:19:34.643
> 
> 标签：android

我在我的应用程序中开发了电子邮件发送功能，我需要发送带有指定主题的电子邮件。我已经这样做了，但我需要在单击电子邮件图标时立即在电子邮件格式的正文部分设置一些特定的信息。这可能是我随身携带的任何信息。

是否可以在 android 的电子邮件正文中设置数据，我不想在邮件正文中写任何内容。

谢谢，大卫布朗

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-11-21T05:41:49.167

```
final Intent emailIntent = new Intent( android.content.Intent.ACTION_SEND);

  emailIntent.setType("plain/text");

  emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL,
          new String[] { "abc@gmail.com" });

  emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,
          "Email Subject");

  emailIntent.putExtra(android.content.Intent.EXTRA_TEXT,
          "Email Body");

  startActivity(Intent.createChooser(
          emailIntent, "Send mail...")); 
```

**`Intent.EXTRA_TEXT`**就是你要找的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T05:30:26.200

试试这个

```
intent.putExtra(Intent.EXTRA_TEXT   , 
                "body of email -- add text what you want "); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T05:38:32.750

这可能对你有用..

```
Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);
emailIntent.setType("text/plain");
emailIntent.putExtra(Intent.EXTRA_EMAIL,new String[]{"support@arboristapp.com"});
emailIntent.putExtra(Intent.EXTRA_CC, new String[]{""});
emailIntent.putExtra(Intent.EXTRA_BCC, new String[]{""});
emailIntent.putExtra(Intent.EXTRA_SUBJECT, "Subject of email");
emailIntent.putExtra(Intent.EXTRA_TEXT, "This is test app");
startActivity(emailIntent); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T05:30:02.350

不是很清楚你到底想要什么。但是，如果您需要在电子邮件正文中添加文本/数据，请使用

intent.putExtra(Intent.EXTRA_TEXT, "此数据将出现在电子邮件正文中");

# backbone.js - require.js中是否需要有多个html文件？

> ID：13486818
> 
> 赞同：0
> 
> 时间：2012-11-21T05:19:56.980
> 
> 标签：backbone.js, webview, requirejs

我使用backbone.js 和require.js 制作了一个简单的应用程序。早些时候，我曾经只有一个 index.html 文件并用于动态渲染/隐藏不同的视图。现在使用 require.js，我仍然有 index.html 文件，但我为应用程序中的四个视图中的每一个创建了单独的 html 文件，并将它们全部放在模板文件夹中。重点是，这四个 html 文件没有`<!DOCTYPE html></html>`标签，只有`<div>`视图的标签。

我不确定这是使用 require.js 的正确方法。我应该将所有 html 代码集成到一个 index.html 中并使用`<script>`标签进行模板化吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T12:54:31.423

依靠...

大多数情况下，我会将它们分开，因为它更有条理且更易于维护，但是...如果它们太多（让我们称它们为“瓷砖”），它可能会使您的网站变慢，因为您将进行多次服务器旅行来绘制该站点，我在某处读到，当浏览器必须同时发出超过 4 个 HTTP 请求时，您将因性能下降而受到惩罚，我将尝试找到源并在此处发布。

如果您的图块始终在一起，我认为将所有内容放在一个 HTML 中是可以的，因此您可以使用单个 HTTP 请求获取所有内容，但不利的一面是，当您更新单个模板时，客户端缓存所有模板下地狱。

另一种解决方案是将它们放在单独的文件中，以便它们更有条理，并使用构建工具创建一个用于生产的大型缩小模板文件，但这需要一些工作。

因此，您必须为您的网站找到最佳方式。

PS：您是否使用模板机制？我发现它们在这种情况下真的很有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T18:25:57.433

你不应该把你的模板放在一个大的 html 文件中，**`require.js`并且`Backbone.js`是把所有东西都放在高度灵活的模块中的完美组合**，只有在必要时才加载。

只有几个模块你可能不会注意到它们的优势，但相信我，如果你编写更复杂、动态增长的高速 Web 应用程序，你可以节省大量的调试和重构时间，并且你的代码将非常易于阅读和修改。

您有几种方法可以使用 Backbone 处理**模板**，例如，`this.$el.html( _.template(template, this.model.toJSON() ))`如果您将模板加载到`template`变量中。

**它不会影响速度**，模板只有几千字节。与您的页面可能已经加载了十几个文件（许多图标、一些图像、css-es、js-es）这一事实相比，即使没有`BB.js`or`Require.js`和模块，一个新的几 KB 大文件也不会引人注目。此外，如果您使用`Require.js`加载模板，您可以在首次加载后缓存模板。

# java - Arraylists 的 Arraylists 中的 remove() 不起作用

> ID：13486819
> 
> 赞同：0
> 
> 时间：2012-11-21T05:19:57.843
> 
> 标签：java, arraylist

我声明以下两个类：

```
 public class formula
    {
    ArrayList<values> var= new ArrayList<values>;
}

public class values
{
    int val;
    void addval(int val1)
    {
        val=val1;
    }
} 
```

我正在声明一个 ArrayList 类型的公式。

```
 ArrayList<formula> S= new ArrayList<formula>; 
```

当我尝试执行以下语句时：

```
 S.get(i).var.remove(b); 
```

`i`循环变量在哪里

我没有收到任何错误，它编译得很好，但不会删除`var(b)`for的实例`formula(i)`。价值依然存在。怎么了？我根本没有使用迭代器，只是一个循环遍历`formula()`.

`b`是一个整数。本质上是我试图删除的 var arraylist 中元素的索引。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:29:32.240

在使用集合 API 时，您必须覆盖 equals 和 hashcode。否则你会在你的代码中看到很多不可预知的结果......

如果您是 Java 新手，请养成重写 equals、hashcode 和 toString 方法的习惯。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T05:34:34.633

如果 b = 键，它最好是一个**值**对象。这里对象 b 应该具有与键相同的 hashCode 并且 equals() 方法应该返回 true。在 Java 中，两个对象**obj1**和**obj2**被认为是相同的，应该满足以下条件。

1.  obj1.hashCode()== obj2.hashCode()
2.  obj1.equals(obj2)== 真

# ios - UITableView setContentInset 不起作用

> ID：13486824
> 
> 赞同：1
> 
> 时间：2012-11-21T05:20:37.897
> 
> 标签：ios, uitableview

我设置了这样的按钮操作：

```
[UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:0.3];
[tableView setContentInset:UIEdgeInsetsMake(40, 0, 0, 0)];
[UIView commitAnimations]; 
```

但是，如果`contentSize.height > tableView.frame.size.height`. 解决办法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T06:20:21.923

你可以试试下面的代码：

```
[UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:0.3];
[tableView setContentInset:UIEdgeInsetsMake(40, 0, 0, 0)];
[tableView scrollRectToVisible:CGRectMake(0, 0, 320, 1) animated:YES];

[UIView commitAnimations]; 
```

这可能会有所帮助。

# sql - SQL - 将字符串剪切成一个字符串（仅限第一个）

> ID：13486829
> 
> 赞同：0
> 
> 时间：2012-11-21T05:21:14.470
> 
> 标签：sql, sql-server

我有一个这样的字符串：

```
DECLARE @val nvarchar(max)
set @val='id=1 and Name=abc and Address=NY and age=32' 
```

现在我只需要将字符串剪切**到第一个结尾，** .here id 长度可以是 1-100000。所以我可以固定一个长度。
目前情况：`id=1 and Name=abc and Address=NY and age=32`
预期结果：`Name=abc and Address=NY and age=32`

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:43:30.880

```
DECLARE @val NVARCHAR(MAX)
SET @val='id=1 and Name=abc and Address=NY and age=32' 
SELECT SUBSTRING(@val, PATINDEX('% and%', @val) + 4, LEN(@val)) 
```

*   [SQLFiddle*演示*](http://sqlfiddle.com/#!3/d41d8/6417)

其他链接

*   [PATINDEX()](http://msdn.microsoft.com/en-us/library/ms188395.aspx)
*   [镜头（）](http://msdn.microsoft.com/en-us/library/ms190329.aspx)
*   [子串（）](http://msdn.microsoft.com/en-us/library/ms187748.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:47:59.167

如果我正确理解你在这样的事情之后应该得到你想要的东西：

```
substring(@val , CHARINDEX(@val) + 4, len(@val)) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T06:36:44.583

我想我们也可以在不调用`LEN`and`SUBSTRING`方法的情况下做到这一点。

这样的事情会有所帮助：

```
DECLARE @val nvarchar(max)
set @val='id=1 and Name=abc and Address=NY and age=32' 

Select @val as OriginalValue
select stuff(@val,1,charindex('d ',@val) + 1,'') as ExpectedResult 
```

我们需要一个`STUFF`方法调用以及`CHARINDEX`.

查看[STUFF 的工作原理](http://msdn.microsoft.com/en-us/library/ms188043.aspx)。

**请记住：** STUFF 是`position oriented`（以 1 开头）。

这是输出：

![在此处输入图像描述](../Images/6ff925926d58ce3062324b3816b430f6.png)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-21T05:44:27.613

```
DECLARE @val nvarchar(max)
DECLARE @val1 int

set @val='id=1 and Name=abc and Address=NY and age=32' 

set @val1=CHARINDEX('Name', @val)
select val2=SUBSTRING(@val,@val1,LEN(@val)-(@val1-1)) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-21T05:34:32.240

使用子字符串函数

```
@val=substring('@val',9,'remaining char') 
```

参见：SUBSTRING()、CHARINDEX()、PATINDEX()

参考这里

[http://www.sqlinfo.net/sqlserver/sql_server_function_substring.php](http://www.sqlinfo.net/sqlserver/sql_server_function_substring.php)

# javascript - 如何通过 kineticjs 中的一个点来拉线/多边形？

> ID：13486835
> 
> 赞同：0
> 
> 时间：2012-11-21T05:21:27.667
> 
> 标签：javascript, canvas, kineticjs

我的代码的一部分[在这里](http://jsfiddle.net/z4pSu/5/)：

```
var stage = new Kinetic.Stage({
        container: "canvas",
        width: 300,
        height: 200
    });

    var layer = new Kinetic.Layer({
    });
    var line = new Kinetic.Polygon({
        id: 'wall',
        points: [50, 50, 100, 50, 100, 100, 50, 100],
        stroke: "black",
        strokeWidth: 4,
        draggable: true
});
    line.on('dragmove', function(mouseEvent) {
        line.getPoints()[2] = {x:mouseEvent.x, y:mouseEvent.y};
        layer.draw();
});

stage.add(layer);

layer.add(line);
layer.draw(); 
```

​任务是通过其中一个角拖动多边形（例如通过右下角）。但实际上结果并不如我所愿。我的代码有什么问题？或者移动元素之一的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-03T22:56:17.950

看看这篇文章[iOS6 pull/drag border on circle](https://stackoverflow.com/questions/13201983/kineticjs-ios6-pull-to-refresh-effect-on-a-circle)

我认为，效果与您正在寻找的效果相似。您可以通过检测点击/触摸位置来为您的任何角上的拖动设置动画。

如果您需要另一个示例，请告诉我。

# node.js - 无法让样式表与 node.js 的 ejs 一起使用

> ID：13486838
> 
> 赞同：19
> 
> 时间：2012-11-21T05:21:42.303
> 
> 标签：node.js, express, stylesheet, ejs

我正在尝试为模板制作一个带有 node、express 和 ejs 的简单服务器。我已经让服务器指向页面，加载它，甚至可以使用 include 语句生成其他代码。但是由于某种原因，样式表不会加载。

应用程序.js

```
var express = require('express'),
app = express(),
http = require('http'),
server = http.createServer(app),
fs = require('fs');

var PORT = 8080; 

app.set('view engine', 'ejs');

app.get('/', function(req, res){
res.render('board.ejs', {
    title: "anything I want",
    taco: "hello world",
    something: "foo bar",
    layout: false
  });
});

app.listen(PORT);
console.log("Server working"); 
```

ejs 文件位于目录views/board.ejs 中

```
<html>
 <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='../styles/style.css' />
 </head>
 <body >
    <h1> <%= taco %> </h1>
    <p> <%=  something %> </p>
 </body>
</html> 
```

并且 style.css 位于相对于 app.js 的 styles/style.css 目录中

```
p {
  color:red;
} 
```

我已经尝试了我可以为链接的 href 设想的每条路径，包括相对于我的本地主机相对于 app.js 相对于 board.ejs 指向的位置，甚至只是 style.css，但似乎没有一个有效。非常感谢任何建议。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-11-21T06:03:08.637

声明一个静态目录：

```
app.use(express.static(__dirname + '/public'));

<link rel='stylesheet' href='/style.css' /> 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-06-24T01:51:04.463

在 app.js 中：

```
 you must first declare static directory 

app.use("/styles",express.static(__dirname + "/styles")); 
```

在 ejs 文件中：

```
<link rel='stylesheet' href='/styles/style.css' /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-02-25T02:22:29.190

要为您的应用程序依赖项（如 css、img 等）设置入口点，请将以下行添加到您的 server.js（或曾经使用过的）中。

```
app.use(express.static(__dirname + '/')) 
```

这告诉从 server.js 所在的当前目录获取 css 文件。因此，您可以在 html 文件中定义 css 的相对路径。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-09-19T09:42:43.450

最近我正在处理同样的事情，我的 CSS 无法正常工作。最后，我得到了诀窍。我的静态路径如下所示，

```
const app = express();
const publicDirectoryPath = path.join(__dirname, '../src/public');
const staticDirectory =  express.static(publicDirectoryPath);
app.use(staticDirectory); 
```

我的文件夹结构就像

[![在此处输入图像描述](../Images/238f268b2561cec9481d3e0e58155ab9.png)](https://i.stack.imgur.com/7HROj.png)

诀窍是快速访问只定义了静态路径，在我的情况下，CSS 在公共之外，所以它不起作用，突然我将 CSS 文件夹移动到我的公共文件夹中，就是这样。工作精美。

上面的示例仅适用于一个静态路径。对于多个静态路径，您可以使用下面的代码

```
const app = express();
const publicDirectoryPath = path.join(__dirname, '../src/public');
const cssDirectoryPath = path.join(__dirname, '../src/css');
const staticDirectory =  express.static(publicDirectoryPath);
const cssDirectory =  express.static(cssDirectoryPath);

app.use(staticDirectory);
app.use('/css/',cssDirectory); 
```

我的通用 HTML 文件是

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <link rel="stylesheet"  href="../css/styles.css">
</head>
<body>
<h1>this is index page</h1>
</body>
</html> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-02-23T23:18:15.243

使用 Express 4，您可以通过在 app.js 文件中使用以下内容轻松进行设置。

```
app.use('/static', express.static(path.join(__dirname,'pub'))); 
```

在创建 require 常量并声明 express 应用程序之后，将其放在文件的早期。

它在路径对象的帮助下声明了一个静态目录，让您拥有一个可以使用所有前端资源的地方。它还为它提供了一个可以在站点前面使用的虚拟目录名称 (/static)，而不是您在项目中看到的物理名称 (/pub)。

在您的模板中，您可以在脑海中执行类似的操作

```
 <link rel="stylesheet" href="/static/css_bundle.css"/> 
```

# asp.net-mvc - 单元测试在编辑 _get 操作中失败

> ID：13486839
> 
> 赞同：0
> 
> 时间：2012-11-21T05:21:43.643
> 
> 标签：asp.net-mvc, unit-testing, nunit, moq

我为 edit_get 操作编写了一个单元测试我的控制器操作是

```
 public class GroupController : Controller
  {
     private readonly IGroupService groupService;
     public GroupController(IGroupService groupService)
     {
       this.groupService = groupService;
      }
      public ActionResult EditGroup(int id)
       {
          var group = groupService.GetGroup(id);
          CreateGroupFormModel editGroup = Mapper.Map<Group, CreateGroupFormModel>(group);
          if (group == null)
           {
            return HttpNotFound();
          }
           return View("_EditGroup", editGroup);
       } 
```

控制器动作工作正常。但是当我编写单元测试时它失败了我的测试是

```
[Test]
    public void Edit_Get_ReturnsView()
    {
    //Arrange
    CreateGroupFormModel group = new CreateGroupFormModel()
    {
     GroupId = 2, 
     GroupName = "Test",

     Description = "test" };
     GroupController controller = new GroupController();
    var fake = groupService.GetGroup(2);
    groupRepository.Setup(x => x.GetById(2)).Returns(fake);
    Mapper.CreateMap<CreateGroupFormModel, Group>().ForAllMembers(opt => opt.Ignore());
    Mapper.AssertConfigurationIsValid();
    ViewResult actual = controller.EditGroup(2) as ViewResult;
    Assert.IsNotNull(actual, "View Result is null");
   } 
```

谁能帮我。测试失败

```
Expected Not Null
actual Null 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T06:44:27.400

在您正在调用的控制器操作中`var group = groupService.GetGroup(id);`，这不是很清楚这`groupService`是从哪里来的。在您的单元测试中，您必须模拟它。为此，您`GroupController`必须将此依赖项作为构造函数注入。

同样在您的单元测试中，您似乎已经声明了一些`group`从未使用过的变量。

例如：

```
public class GroupController: Controller
{
    private readonly IGroupService groupService;
    public GroupController(IGroupService groupService)
    {
        this.groupService = groupService;
    }

    public ActionResult EditGroup(int id)
    {
        var group = this.groupService.GetGroup(id);
        CreateGroupFormModel editGroup = Mapper.Map<Group, CreateGroupFormModel>(group);
        if (group == null)
        {
            return HttpNotFound();
        }
        return View("_EditGroup", editGroup);
    }
} 
```

现在在您的单元测试中，您可以模拟此组服务并提供对 GetGroup 方法结果的期望：

```
[Test]
public void Edit_Get_ReturnsView()
{
    // arrange
    var group = new CreateGroupFormModel 
    {
        GroupId = 2,
        GroupName ="Test", 
        Description ="test" 
    };
    var groupServiceMock = new Mock<IGroupService>();
    groupServiceMock.Setup(x => x.GetGroup(group.GroupId)).Returns(group);
    var sut = new GroupController(groupServiceMock.Object);
    Mapper.CreateMap<CreateGroupFormModel, Group>().ForAllMembers(opt => opt.Ignore());
    Mapper.AssertConfigurationIsValid();

    // act
    var actual = sut.EditGroup(group.GroupId) as ViewResult;

    // assert
    Assert.IsNotNull(actual);
    Assert.IsInstanceOfType(typeof(ViewResult), actual);
} 
```

# unity3d - 统一移动到另一个场景，当前场景被暂停

> ID：13486840
> 
> 赞同：13
> 
> 时间：2012-11-21T05:21:49.843
> 
> 标签：unity3d

我正在 Unity3D 中制作回合制战斗游戏，我有 2 个场景（城镇场景和战斗场景）。每当角色遇到怪物时，游戏会跳转到角色进行战斗的战斗场景，并在击败或失败后返回城镇场景。

问题是如何以与角色进入战斗场景时相同的状态（角色位置，状态等）返回城镇场景

如果我使用

```
Application.LoadLevel('battlescene'); 
```

然后

```
Application.loadLevel('townScene'); 
```

然后城镇场景将从第一次开始。如何让城镇场景从我们中断的地方继续？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-21T06:10:22.967

我认为有两种方法可以实现这一点。这完全取决于您的目标平台以及资源的重要性，但我们开始：

**1) 如果资源不是问题**

您可以将所有普通场景和战斗场景对象放在一个场景中。

> *   创建两个空游戏对象（一个用于城镇场景对象，另一个用于战斗场景对象）。然后，您可以拥有两个版本的游戏角色或一个。然后编写一个脚本，在触发战斗时将摄像机从城镇场景切换到战斗场景，并在战斗结束时切换回城镇场景。
>     
>     
> *   如果每个角色都有一个版本，您可以简单地添加一个脚本，将游戏角色控制器的行为更改为/从战斗模式和普通/城镇模式。
>     
>     
> *   如果每个角色有两个版本，那么您只需要编写适当的角色控制器脚本并根据您使用的角色激活/停用游戏角色。这就是最终幻想 7、8、9 等游戏达到相同效果的方式。游戏角色有两个版本：一个是战斗模式，另一个是普通模式。

**2）如果资源是一个问题（我认为一种更有效的方法）**

您可以使用[**Application.LoadLevelAdditive**](http://docs.unity3d.com/Documentation/ScriptReference/Application.LoadLevelAdditive.html)函数。此功能允许您加载不同的场景，而不是破坏当前场景中的所有内容，它会获取新场景及其所有对象并将它们添加到当前场景中。所以基本上你可以像这样使用它：

> *   创建一个单独的战斗场景，并在您的场景中创建一个空的游戏对象来保存场景中的每个对象。
>     
>     
> *   在你的普通场景中做同样的事情。
>     
>     
> *   当您需要进入战斗模式时，请使用：
>     
>     
>     
>     Application.LoadLevelAdditive('battlescene');
>     
>     
> *   当/如果你想在之后卸载你的战斗场景，你可以通过简单地编写代码来销毁战斗场景游戏对象，因为它包含你的战斗场景中的所有内容。

与第一种方法一样，您可以决定是否要拥有两个不同版本的角色。拥有两个版本的优点之一是，如果您想通过不详细介绍游戏模型来节省时间（特别是如果您的游戏非常大），您可以通过使用缩小模型来处理城镇场景和使用更精细的战斗场景模型，假设你的战斗场景是一个小舞台，代表你的角色战斗的地方。想想最终幻想VII。只是需要考虑的事情。

我希望这会有所帮助。我写的很匆忙，但让我知道是否有什么需要清理的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-08-29T07:38:13.133

您可以通过 C# 中的脚本来完成

```
void onYourFunction()
{
    Time.timeScale = 0; //pauses the current scene 
    Application.LoadLevelAdditive("YourNextScene"); //loads your desired other scene
} 
```

当你想激活你的游戏时，你可以使用 Time.timeScale = 1;

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-07-22T18:27:19.650

我知道这是一篇旧帖子，但还有另一种方法可以使用。这将是为了保存场景的状态。当您不希望用户拥有使用 Application.LoadLevelAdditive 加载 2 个场景的资源时，这会派上用场。该方法可能会使用两倍的资源。

当您保存状态（保存所有可以更改到文件或数据库的信息）时，您可以稍后加载关卡，而不是将其放在内存中。您也可以使用它来保存游戏。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-25T16:54:14.353

我知道它在旧帖子上。但是我为我的情况找到了另一个非常简单的解决方案。只需在另一个场景处于活动状态时停用一个场景中的所有游戏对象，然后再重新激活它，只要我回到根场景：

```
[Button]
    public void UnPauseScene()
    {
        EndlessSceneCamera.gameObject.SetActive(true);
        Time.timeScale = 1;
        levelStatus = LevelStatus.Running;

        foreach (var go in activeGameObjectsBeforeScenePaused)
        {
            go.SetActive(true);
        }
    }

    [Button]
    public void PauseScene()
    {
        //EndlessSceneCamera.gameObject.SetActive(false);
        levelStatus = LevelStatus.Pause;
        Time.timeScale = 0;

        var allGameObjects = FindObjectsOfType<GameObject>().ToList();
        activeGameObjectsBeforeScenePaused = allGameObjects.Where(x => isActiveAndEnabled).ToList();
        foreach (var go in activeGameObjectsBeforeScenePaused)
        {
            go.SetActive(false);
        }
    } 
```

# java - 如何在不删除可打印字符和一些特殊字符、数字的情况下删除不可打印字符

> ID：13486842
> 
> 赞同：0
> 
> 时间：2012-11-21T05:21:49.913
> 
> 标签：java

下面的段落包含不可打印的字符，因为这些不可打印的字符一旦 UI 丢失，我就无法将上面的段落放在 html 标记中。

> 和发展、员工\个人关系和与人事有关的法律问题。23\. 确保适用法律、……当前和未来的人力资源趋势、实践和系统，并酌情提出建议。31\. 服务...

任何人都可以找出上述段落中的不可打印字符...我只想使用 JAVA 代码删除那些字符，而不是其他字符。

# php - Cufon 不在服务器上工作，但在本地工作

> ID：13486848
> 
> 赞同：0
> 
> 时间：2012-11-21T05:22:05.413
> 
> 标签：php, javascript, jquery, cufon

我有一个项目，我正在使用 cufon 进行字体替换。问题是在我的本地计算机上，我正在对其进行测试并且运行良好。但是，一旦我将它上传到我的主机，它就不起作用了。可能是什么问题呢？是否存在我不知道的 cufon 需要的依赖项？

我已将完全相同的内容从我的测试服务器上传到主机。

这是网站的链接：http: [//merlionarowana.com/crm](http://merlionarowana.com/crm)

“Search Merlion Arowana MerlionTag™”应更改为另一种字体以及侧面菜单上的主页链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T20:29:11.670

它在这个 url [http://merlionarowana.com/crm/scripts/Quicksand_book.font.js](http://merlionarowana.com/crm/scripts/Quicksand_book.font.js)上抛出 404 。

确保你的路径是正确的。

# ios - 如何以编程方式设置 UISlider 初始值，或者，iOS 程序如何启动？

> ID：13486850
> 
> 赞同：3
> 
> 时间：2012-11-21T05:22:17.170
> 
> 标签：ios, xcode, startup, uislider

我已经在 xCode 中开发了整整 3 天。我最后一次进行 UI 开发是在 Windows 3.1 中使用 Petzold 书。无论如何，我已经启动并运行了我的第一个 iOS 应用程序，它基本上可以满足我的需要。我有两个滑块来选择色调和饱和度，作为对它们的响应，我动态地绘制了一堆渐变阴影圆圈。我在 Hello World 示例和 stackoverflow 之间运行了这么多，包括在 CGLayer 中缓存渐变（感谢所有 stackoverflow 人员）。不过，有一点我不能完全正确：

我想将一个滑块的初始值设置为 1.0 而不是默认的 0.5。我知道我可以在 IB 中做到这一点，但我更喜欢编写代码，我想我想完全远离 IB。我真的不明白它是如何在事物之间建立联系的，我想了解代码。我有这样的代码来尝试设置它：

```
- (void)viewDidLoad
{
    NSLog(@"viewDidLoad");
    [super viewDidLoad];
    [hue_slider setValue:0.5];
    [sat_slider setValue:1.0];
    self.led_view.hue_slider_value=0.5;
    self.led_view.sat_slider_value=1.0;
// Do any additional setup after loading the view, typically from a nib.
} 
```

sat_slider 仍然在中间而不是在末尾（1.0 是最大值）。从 stackexchange 阅读中，我了解到我可能在错误的时间调用它，当调用 viewDidLoad 时滑块并没有真正加载，并且我的初始值被 IB 中指定的值覆盖。我还没有看到应该在哪里打电话。所以问题：

我应该把我的程序放在哪里

```
[sat_slider setValue:1.0]; 
```

以便它设置滑块的初始值，覆盖 IB 中的默认值？有人可以解释一下iOS程序中事物的启动顺序吗？指向有关 iOS 和 Objective C 编程的在线或印刷书籍的指针会很棒。

**编辑**

当我检查 sat_slider 的值时，它是 nil。所以这意味着缺少连接？我将它拖到情节提要中并创建了一个 IBOutlet 和一个动作。

```
@interface led_testViewController : UIViewController

- (IBAction)saturation_scroll:(id)sender;
- (IBAction)hue_scroll:(id)sender;

@property (retain, nonatomic) IBOutlet UISlider *hue_slider;
@property (retain, nonatomic) IBOutlet UISlider *sat_slider;
@property (strong, nonatomic) IBOutlet led_view *led_view;

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:50:17.827

您可以将代码放入`- (void)viewWillAppear:(BOOL)animated;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T03:04:37.100

检查是否`sat_slider`为零。还要确保它在 IB 中正确连接。如果没有，请将其删除并在 nib/storyboard 中再次添加。那应该可以解决问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T18:06:52.107

我按照 ABC 和 NJones 的建议检查了 sat_slider，结果为零。ViewController.h 文件中有 sat_slider 和 hue_slider 的属性，但仍然缺少某些内容。我删除了属性，在 IB 中重新拖动它们，然后我能够毫无问题地在 viewDidLoad 中设置滑块位置。

# windows-8 - 我可以在不使用应用商店的情况下分发 Windows 8 Modern UI 应用程序吗？

> ID：13486860
> 
> 赞同：2
> 
> 时间：2012-11-21T05:23:22.673
> 
> 标签：windows-8, windows-runtime, windows-store-apps

我想知道我是否可以使用某种形式的包文件分发 Windows 8 应用程序的副本，而无需从应用商店获取它。我想针对普通用户，而不是开发人员。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T05:45:40.800

如果您的目标是最终用户，即消费者，那么答案是否定的。在这种情况下，我什至看不到绕过商店的优势，因为它只会为您的应用程序带来更大的潜在市场。

仅企业场景支持侧载应用程序（用于安装它们而不发布到商店的名称），以允许公司安装他们自己不想在商店中发布的业务线应用程序。对此有[多种要求](https://stackoverflow.com/a/10265361/197913)，这对于单个最终用户来说是不可行的。

话虽如此，没有什么能阻止您创建 appx 包（Visual Studio 中的“项目”>“商店”>“创建应用程序包...”菜单）并将其分发给您的用户。与软件包一起生成一个 PowerShell 脚本`Add-AppDevPackage.ps1`（用户将需要管理权限才能运行脚本。他必须每 30 天更新一次开发者许可证，该应用程序才能继续运行。因为这个过程实际上只适合少数可以在您将应用程序提交到商店之前测试您的应用程序的用户。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T05:39:10.177

我发现下面的链接是对上一个问题的回答。看来您可以使用临时文件夹和 NSIS 轻松安装它。

[如何在不提交到商店的情况下安装 Windows 8 应用程序](https://stackoverflow.com/questions/12512196/how-to-install-a-windows-8-app-without-submitting-to-store)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T05:41:44.997

Windows 应用商店正是您希望用于针对普通用户的机制；这是他们发现和安装新应用程序的地方。

从技术上讲，您可以侧载应用程序；但是，[该机制](http://technet.microsoft.com/en-us/library/hh852635.aspx#SideloadingRequirements)用于在企业内分发业务线应用程序。您也可以直接在最终用户计算机上安装应用程序包，但这需要该计算机上的开发人员许可证，这显然与您的目标背道而驰。

# php - php：twilio 如何在特定条件下将传入呼叫转移到特定客户端浏览器

> ID：13486861
> 
> 赞同：3
> 
> 时间：2012-11-21T05:23:27.767
> 
> 标签：php, twilio

我将集成 twilio Voice 以向我的 Web 应用程序进行出站呼叫和接收来电。当有人从传统电话呼叫 twilio 供电的电话号码之一时，twilio 通过 twilio 设备接收传入连接并将异步 HTTP 请求发送到为该特定号码配置的语音 URL 并执行预期的 Twiml 指令。但是在这里，问题是当我想将接收来电或连接到 twilio 号码的这种功能集成到我的多个用户的 Web 应用程序中时，我的应用程序将如何区分该呼叫是在特定号码上接收的以及注册客户端。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-23T15:38:49.570

我相信你的过程有点倒退：

> 当有人从传统电话呼叫 twilio 供电的电话号码之一时，twilio 通过 twilio 设备接收传入连接并将异步 HTTP 请求发送到为该特定号码配置的语音 URL 并执行预期的 Twiml 指令。

当向 Twilio 号码发出呼叫时，该呼叫将直接路由到语音 URL（而不是通过设备客户端之一）。您所描述的唯一一次发生（新的“连接”创建从设备到语音 URL 的请求）是*设备*拨打电话时。

> 问题是当我想将接收来电或连接到 twilio 号码的功能集成到我的多个用户的 Web 应用程序中时，我的应用程序将如何区分该呼叫是在特定号码上接收的

由于所有来电都直接转到您的语音 URL，因此处理该请求的脚本/应用程序/任何东西都可以根据需要的任何标准路由呼叫。

例如，如果您将多个虚拟号码指向同一个语音 URL，只需检查传入的“收件人”号码，并将其映射到正确的设备（使用`<Dial><Client>name</Client></Dial>`）。

# r - 如果数据包含 NA 值，则计算余弦相似度

> ID：13486867
> 
> 赞同：4
> 
> 时间：2012-11-21T05:23:54.763
> 
> 标签：r

> **可能重复：**
> [在 R 中查找余弦相似度](https://stackoverflow.com/questions/2535234/find-cosine-similarity-in-r)

我在 R 中有一个类似于这个的大表。我想找到每个项目之间的余弦相似度，例如对 (91, 93), (91, 99), (91, 100) ... (101, 125)。最终输出应该是

```
No_1 No_2 Similarity
...
6518 6763 0.974
… 
```

桌子看起来像这样。

```
 No_ Product.Group.Code   R1   R2   R3   R4   S1   S2   S3   U1   U2   U3 U4 U6
91  65418                164 0.68 0.70 0.50 0.59   NA   NA 0.96   NA 0.68   NA NA NA
93  57142                164   NA 0.94   NA   NA 0.83   NA   NA 0.54   NA   NA NA NA
99  66740                164 0.68 0.68 0.74   NA 0.63 0.68 0.72   NA   NA   NA NA NA
100 76712                164 0.54 0.54 0.40   NA 0.39 0.39 0.39 0.50   NA 0.50 NA NA
101 56463                164 0.67 0.67 0.76   NA   NA 0.76 0.76 0.54   NA   NA NA NA
125 11713                164   NA   NA   NA   NA   NA 0.88   NA   NA   NA   NA NA NA 
```

因为有些行有`NA`，所以我编写了一些辅助函数来仅比较两行都不为 NA 的列。

```
compareNA <- function(v1,v2) {
    same <- (!is.na(v1) & !is.na(v2))
    same[is.na(same)] <- FALSE
    return(same)
}

selectTRUE <- function(v1, truth) {
    # This function selects only the variables which correspond to the truth vector
    # being true.
    for (colname in colnames(v1)) {
        if( !truth[ ,colname] ) {
            v1[colname] <- NULL
        }
    }
    return(v1)
}

trimAndTuck <- function(v1){
    # Turns list into vector and removes first two columns
    return (unlist(v1, use.names = FALSE)[-(1:2)])
}

cosineSimilarity <- function(v1, v2) {
    truth <- compareNA(v1, v2)
    return (cosine(
                 trimAndTuck(selectTRUE(v1, truth)),
                 trimAndTuck(selectTRUE(v2, truth))
                 ))
}

allPairs <- function(df){
    for ( i in 1:length(df)) {
        for (j in 1:length(df)) {
            print( cosineSimilarity(df[i,], df[j,]) )
        }
    }
} 
```

跑步`allpairs`确实给了我正确的答案，但它是在一系列 1x1 向量中这样做的。我很清楚我所写的内容可能是对功能之神的侮辱，但我不知道该怎么写。

如何重写（矢量化？）以便它以正确的格式返回数据？

编辑：我正在使用作为 LSA 包一部分的余弦函数。这是关于使用余弦函数处理 NA 值，而不是如何计算标准余弦相似度。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T10:15:51.487

```
#data
df <- read.table(text="No_ Product.Group.Code   R1   R2   R3   R4   S1   S2   S3   U1   U2   U3 U4 U6
91  65418                164 0.68 0.70 0.50 0.59   NA   NA 0.96   NA 0.68   NA NA NA
93  57142                164   NA 0.94   NA   NA 0.83   NA   NA 0.54   NA   NA NA NA
99  66740                164 0.68 0.68 0.74   NA 0.63 0.68 0.72   NA   NA   NA NA NA
100 76712                164 0.54 0.54 0.40   NA 0.39 0.39 0.39 0.50   NA 0.50 NA NA
101 56463                164 0.67 0.67 0.76   NA   NA 0.76 0.76 0.54   NA   NA NA NA
125 11713                164   NA   NA   NA   NA   NA 0.88   NA   NA   NA   NA NA NA",header=TRUE)

#remove second column
df <- df[,-2]

#transform to long format
library(reshape2)
df <- melt(df,id.vars="No_")

#cosine similarity taken from package lsa
#I could not load package lsa, because I lack Java on my system
cosine <- function( x, y=NULL ) {

  if ( is.matrix(x) && is.null(y) ) {

    co = array(0,c(ncol(x),ncol(x)))
    f = colnames( x )
    dimnames(co) = list(f,f)

    for (i in 2:ncol(x)) {
      for (j in 1:(i-1)) {
        co[i,j] = cosine(x[,i], x[,j])
      }
    }
    co = co + t(co)
    diag(co) = 1

    return (as.matrix(co))

  } else if ( is.vector(x) && is.vector(y) ) {
    return ( crossprod(x,y) / sqrt( crossprod(x)*crossprod(y) ) )
  } else {
    stop("argument mismatch. Either one matrix or two vectors needed as input.")
  }

}

#define function that removes NA before calculating the similarity
cosine2 <- function(x,y) cosine(na.omit(cbind(x,y)))

#pairwise comparisons
i <- outer(unique(df$No_),unique(df$No_),FUN=function(i,j) i)
j <- outer(unique(df$No_),unique(df$No_),FUN=function(i,j) j)

i <- i[!lower.tri(i)]
j <- j[!lower.tri(j)]

comp <- function(ind) {
  res <- cosine2(df$value[df$No_==i[ind]],df$value[df$No_==j[ind]])[1,2]
  list(No1=as.character(i[ind]),No2=as.character(j[ind]),CosSim=res)
}

res <- as.data.frame(t(sapply(seq_along(i),FUN="comp")))

     No1   No2    CosSim
1  65418 65418         1
2  65418 57142         1
3  57142 57142         1
4  65418 66740 0.9724159
5  57142 66740  0.999714
6  66740 66740         1
7  65418 76712 0.9569313
8  57142 76712 0.9684678
9  66740 76712 0.9854669
10 76712 76712         1
11 65418 56463 0.9741412
12 57142 56463 0.9877108
13 66740 56463 0.9989167
14 76712 56463 0.9708716
15 56463 56463         1
16 65418 11713       NaN
17 57142 11713       NaN
18 66740 11713         1
19 76712 11713         1
20 56463 11713         1
21 11713 11713         1 
```

# html - 为什么在 HTML 中使用 GET 方法时会传递提交按钮的值？

> ID：13486872
> 
> 赞同：1
> 
> 时间：2012-11-21T05:24:26.453
> 
> 标签：html, get, request

我在我的网站上的表单中使用“GET”方法。出于某种原因，它会将提交按钮的值传递给 url。为什么会这样？我究竟做错了什么？

形式：

```
<form method="GET" action="searcht1.php">
    <input type="text" name="search"/>
    <input type="submit" name="submit">
</form> 
```

网址：

```
searcht1.php?search=colin+pacelli&submit=Submit 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-21T05:26:12.037

它应该发生。如果您不想这样，请不要`name`在按钮上定义属性。相反，您可能希望`value`向用户显示按钮的用途。

另外，这个问题与 PHP 无关；它纯粹是关于 HTML 语义的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-21T06:37:03.663

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-21T05:27:41.967

尝试从提交输入中删除名称属性

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-21T05:29:26.970

删除按钮的名称属性.....

# java - 每次访问网站时调用一个 java 函数

> ID：13486873
> 
> 赞同：0
> 
> 时间：2012-11-21T05:24:35.923
> 
> 标签：java, web

每次我在浏览器中访问新网站时，我都想将访问的 URL 传递给将在后台运行的 Java 函数。解决此问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T05:31:12.483

使用[Fiddler](http://www.fiddler2.com/fiddler2/)（仅限 Windows）。您可以订阅 HTTP 请求等事件，并以适当的方式响应 - 在您的示例中调用 Java 函数。

如果您只想响应您使用浏览器访问的网站，您可以检查用户代理 HTTP 标头。

# jquery - 使表格内容可编辑，表格可拖动和调整大小

> ID：13486875
> 
> 赞同：0
> 
> 时间：2012-11-21T05:24:55.797
> 
> 标签：jquery, jquery-ui

我想制作一个可拖动、可调整大小的表格，并且该表格的内容是可编辑的。但是，当我使表格可拖动时， contenteditable 属性不起作用。
即删除下面的代码使内容可编辑，但我失去了可拖动属性

```
$('#awesomeDiv').draggable({
    containment: 'parent'
}); 
```

在谷歌浏览器中它有时可以工作，有时我的意思是如果我将表格拖到容器边缘，不要释放点击，将鼠标放在表格单元格上然后点击，但在 Firefox 中它永远不会工作

我创建了一个 jsfiddle [http://jsfiddle.net/VNLGb/1/](http://jsfiddle.net/VNLGb/1/)

任何人都可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T06:01:55.723

向表头和列添加额外事件

```
onclick="this.focus()" 
```

成功了:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T06:14:34.810

try [http://quocity.com/colresizable/](http://quocity.com/colresizable/)

by using this you can resize the table and its cell also

# twitter-bootstrap - bootstrap .input-append 麻烦

> ID：13486877
> 
> 赞同：5
> 
> 时间：2012-11-21T05:25:15.220
> 
> 标签：twitter-bootstrap

我正在尝试使用 twitter bootstrap 对我的布局进行一些简单的调整，但是使用“input-append”类让我很烦。我确信答案很简单，但我对此很陌生，而且我已经花了很长时间试图找到答案。

我希望文本输入、按钮和 End Text div 在同一行上，并且我希望将按钮附加到文本输入中。

这是我的 jsfiddle：http: [//jsfiddle.net/kdavh/azF8w/2/](http://jsfiddle.net/kdavh/azF8w/2/)

...专注于按钮周围的 div：

```
<div class='span2'>
  <input class="btn btn-primary span2" type="submit" value="Search" />
</div> 
```

如果我将其更改为

```
<div class='span2 input-append'> ... 
```

按钮采用正确的形状，但与文本输入分开

如果我取下 span2 并将其更改为

```
<div class='input-append'> ... 
```

然后按钮被正确附加，但随后的“结束文本”块被推到下一行。

我将免除您尝试过的所有其他排列。我已经搜索但找不到工作示例。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T06:01:20.737

请尝试以下代码：

```
<div class='container'>
    <div class='row'>
        <form>
        <div class='span3 input-append'>
            <input class="span2" id="main_search" type="text" />
            <input class="btn btn-primary" type="button" value="Search" />
        </div>
        <div class='span2'>
            <a class='littleNote' href=''>End Text</a>
        </div>
        </form>
    </div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T09:04:02.057

要向输入元素添加按钮，您需要使用 input-append（或 -prepend）。如

```
 <div class="input-append">
    <input class="span2" id="appendedInputButton" type="text">
    <button class="btn" type="button">Go!</button>
  </div> 
```

[也显示在此处](http://twitter.github.com/bootstrap/base-css.html#forms)文档中的“扩展表单控件”下

请记住，附加的按钮会为输入控件添加额外的宽度，也就是说，在为 div 指定 span*-width 时需要考虑到这一点。即在您的 input-append div 上设置一个 span*-width 足够宽以包含输入元素和按钮。Adit 在他的示例中使用 span3 执行此操作。

# python - 我的埃拉托色尼筛法有缺陷吗？

> ID：13486885
> 
> 赞同：0
> 
> 时间：2012-11-21T05:25:49.740
> 
> 标签：python, function, primes, sieve

我正在用 Python 进行 Eratosthenes 的筛分实现。出现的问题不是所有素数都出现（主要是编号较低的素数）。

这是我的代码：

```
def prevPrimes(n):
    from math import sqrt
    from time import time
    start = time()
    if type(n) != int and type(n) != long:
        raise TypeError("Arg (n) must be of <type 'int'> or <type 'long'>")
    if n <= 2:
        raise ValueError("Arg (n) must be at least 2")
    limit, x, num, primes = sqrt(n), 2, {}, []
    for i in range(1, n+1):
        num[i] = True
    while x < limit:
        for i in num:
            if i%x==0:
                num[i] = False
        x += 1
    for i in num:
        if num[i]:
            primes.append(i)
    end = time()
    primes = sorted(primes)
    print round((end - start), 2), ' seconds'
    return primes 
```

如果我输入`>>> prevPrimes(1000)`，我希望结果以：`[2, 3, 5, 7, 11, 13, 17]`等开头。但是，这就是它的样子：`[1, 37, 41, 43, 47, #more numbers]`。

我知道问题在于它陈述了“原始”素数（2、3、5、7、11、13、17 等），`False`因为我的程序检查素数的方式。我怎样才能避免这种情况？提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T15:24:56.030

First, the answer to your specific question. You are discarding the primes less than the square root of *n*. The easiest fix is to change the line `num[i] = False` to `num[i] = (not x == i)` at the end of your inner loop (I think that works, I haven't tested it).

Second, your algorithm is trial division, not the Sieve of Eratosthenes, and will have time complexity O(n^2) instead of O(n log log n). The modulo operator gives the game away. The simplest Sieve of Eratosthenes looks like this (pseudocode, which you can translate into Python):

```
function primes(n)
  sieve := makeArray(2..n, True)
  for p from 2 to n step 1
    output p
    for i from p+p to n step p
      sieve[i] := False 
```

There are ways to improve that algorithm. If you're interested in programming with prime numbers, I modestly recommend [this essay](http://programmingpraxis.com/essays), which includes an optimized Sieve of Eratosthenes with implementation in Python.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:36:53.130

有时，当您遍历 时`num`，`x`等于`i`，因此`i % x`等于 0，`i`并被标记为非质数。

您需要`if not x == i:`在 while 循环中添加某处，例如：

```
while x < limit:
        for i in num:
            if not x == i:
                if num[i] and i%x==0:
                    num[i] = False 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T06:54:57.297

所以这不是一个实际的 SoE 实现，我前一阵子写的一个在下面。

```
number_primes = 10
prime_list = [True]*number_primes

for i in range (2, number_primes):    #check from 2 upwards
  if prime_list[i]:                   #If not prime, don't need to bother about searching
    j = 2
    while j*i < number_primes:        # Filter out all factors of i (2...n * prime)
      prime_list[j*i] = False
      j+=1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-18T16:49:14.440

进口时间

def primes_sieve1():

```
limitn = int(raw_input("Please enter an upper limit ")) +1
start = time.clock()
primes = {
    }

for i in range(2, limitn):
    primes[i] = True

for i in primes:
    factors = range(i,limitn, i)
    for f in factors[1:]:
        primes[f] = False

end = time.clock()
print "This took ",end-start," seconds"
return [i for i in primes if primes[i]==True] 
```

primes_sieve1()

这段代码不使用除法，而是取所有小于极限根的数字的倍数，并将它们更改为 false。这有点快，因为它不涉及将每个数字除以其他数字。

同样低于 1000 的情况会发生，即素数将被自身模数为 0，因此程序会认为它是错误的。由于 sqrt(1000) 大约是 31，因此小于 31 的素数会受到影响。

例如，在“while x < limit”的第 7 次循环中，会出现这样的情况：7%7 == 0，因此 7 在您的程序中看起来是错误的。这将发生在所有小于“while x < limit”循环限制的素数上，因为 x 将在某个时候成为您试图找到的素数。

# c - 了解 POSIX 和 Linux/glibc sched_* 函数之间的差异

> ID：13486889
> 
> 赞同：13
> 
> 时间：2012-11-21T05:26:15.263
> 
> 标签：c, linux, posix, scheduling

[POSIX XSH 2.8.4 进程调度](http://pubs.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html#tag_15_08_04)定义了线程和进程调度属性的行为。`sched_*`指定接口以影响*进程*的调度属性，而不是线程。这在以下段落中得到了澄清：

> POSIX 模型将“进程”视为系统资源的集合，包括可由操作系统在其控制的处理器上调度的一个或多个线程。尽管一个进程有它自己的一组调度属性，但它们对各个线程的调度行为有间接影响（如果有的话），如下所述。

和

> 对于具有系统调度竞争范围的线程，进程调度属性不应影响线程或专用于该线程的底层内核调度实体的调度属性或行为。

我对此的解读是，在仅支持“系统调度争用范围”的系统上（Linux/glibc 就是这样的系统），这些`sched_*`函数应该绝对没有明显的影响。

`sched_*`这与在 Linux/glibc 上设置特定线程的调度属性的当前行为的现实相反。

除了想更好地理解这种情况，我想我还有以下关键问题：

1.  是否有任何文件说明这种差异的理由？

2.  我对标准的阅读是否正确？特别是，这对我来说似乎真的很令人惊讶，`sched_setparam`并且`sched_setscheduler`会被指定为在单线程应用程序中无效（其中主线程使用默认调度策略，无法更改，并且系统争用范围）。

3.  标准功能的用处是什么`sched_*`？在我看来，它们对大多数实现没有影响，即使对支持进程争用范围的实现也影响很小。有人可以描述它们的预期用途吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-19T04:47:14.753

我相信原因是在 NPTL 实施之前就一直这样，没有人为内核贡献线程组范围的调度属性支持，所以这些函数仍然在做他们一直在做的事情。

并且可能是因为，正如您所指出的，如果没有进程争用范围，POSIX 指定它们的方式根本就没有用......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T14:10:22.653

Linux 中 etc.行为的基本原理`sched_setparam`是线程实际上是由`clone(2)`系统调用创建的进程，参见。`glibc/nptl/sysdeps/pthread/createthread.c`.

# android - 替换项目选择 ListFragment 上的 FragmentActivity 而不是 Activity

> ID：13486896
> 
> 赞同：1
> 
> 时间：2012-11-21T05:27:06.960
> 
> 标签：android, android-fragments

一个片段中有两个片段。我在左右片段中有一个列表，显示了ListFragment中的ListView。如果我单击 ListView 中的列表，我需要显示另一个视图来代替 ListView，但左侧片段仍然存在。

在 onclick 事件中，我正在做意图，但整个视图正在改变。相反，我只需要更改列表视图。

```
public class FriendsFragment  extends ListFragment{
  public static String[] friendsaddoptions=new String[]{
    "Fox User","FaceBook","Email","Twiter","SMS"
  };
  private Intent listIntent = null;
  ListView listview;
  Friends_Names_List_Adapter friendsnameslistadapter;
  JSONArray dataJsonObject;
  Button add;
  Button back;
  Game_Sections_Details_Adapter  GameSectionsDetails;
  View view;
  Context context = getActivity();
  @Override
  public View onCreateView(LayoutInflater inflater,  final ViewGroup container, Bundle savedInstanceState) {
    View view=inflater.inflate(R.layout.friends_list, container,false);
    listview=(ListView)view.findViewById(android.R.id.list);
    add=(Button) view.findViewById(R.id.button_add);
    back=(Button)view. findViewById(R.id.button_back);
    back.setVisibility(View.INVISIBLE);
    FriendsFragmentData dataobserver=new FriendsFragmentData();
    ServerManager.getInstance().addObserver(dataobserver);
    ServerManager.getInstance().readLoopForFriends_Names_List(AppConstances.Friends_Names_List);
    if(friendsnameslistadapter==null)
      friendsnameslistadapter=new Friends_Names_List_Adapter(getActivity(), new JSONArray());
    listview.setAdapter(friendsnameslistadapter);
    add.setOnClickListener(new OnClickListener() {
      @Override
      public void onClick(View v) { /*Intent in=new
      Intent(getActivity().getBaseContext(), FriendsNamesAddActivity.class);
      startActivity(in);*/
      ArrayAdapter< String> adapter=new ArrayAdapter<String>(getActivity().getBaseContext(),
        R.layout.friends_add_listitem,R.id.friends_add_option,friendsaddoptions);
      listview.setAdapter(adapter);
      if(adapter!=null)
      back.setVisibility(View.VISIBLE);
      listview.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> arg0, View view, int position, long id) {
          Intent intent = new Intent(getActivity().getBaseContext(),FoxUserActivity.class);
          startActivity(intent);
        }
      });
      if(adapter!=null) {
        add.setVisibility(View.INVISIBLE);
      }
    }
  });
  back.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View v) {
      listview.setAdapter(friendsnameslistadapter);
      add.setVisibility(View.VISIBLE);
      back.setVisibility(View.INVISIBLE);
    }
  });
  return view;
} 
```

而这个类在点击后显示“

```
public class FoxUserActivity  extends FragmentActivity{
  public static TabHost tHost;
  Button add,back;
  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.foxuser);
    add=(Button) findViewById(R.id.button_add);
    back=(Button) findViewById(R.id.button_back);
    add.setVisibility(View.INVISIBLE);
    back.setOnClickListener(new OnClickListener() {
      @Override
      public void onClick(View v) {
        onBackPressed();
      }
    });
  }
  @Override
  public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_game, menu);
    return true;
  }} 
```

我希望有一个人可以帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T07:02:36.467

哦。你的代码很糟糕。我不认为有人想读它。无论如何，我只是读了它。我看到您使用一个 ListView 和 2 个适配器，如果您使用相互替换的适配器来更改您的 ListView。我不认为这不好。取而代之的是，您应该使用 2 个单独的 ListFragment 并且可以将一个替换为另一个。如果你不知道该怎么做。请阅读[这篇文章](http://developer.android.com/training/basics/fragments/fragment-ui.html)。

# php - 如何从 MySQL for android 获取图像

> ID：13486898
> 
> 赞同：0
> 
> 时间：2012-11-21T05:27:27.287
> 
> 标签：php, android, mysql, image

我一直在努力研究这个应用程序，但最近遇到了一个问题。我正在尝试将图像（或这些图像的路径）存储在本地网络上的数据库中，并从我的 android 应用程序中检索它们。我已经能够使用 PHP 和 JSON 来检索文本信息，但不知道从哪里开始获取图像。我应该将实际图像存储在 MySQL 数据库中还是图像路径中？我怎样才能使它们保持整洁的格式？非常感谢你们提供的任何信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:39:48.777

只需将路径存储在数据库中。创建一个可能包含以下字段的简单表：

path - 服务器上图像的文件路径或文件名 id - 在检索或识别图像宽度时有用的数字 auto_increment id - 可选，但可能会派上用场，因为存储高度/宽度比在检索高度时计算它更快 - 与宽度类别 - 如果您想一次显示多个图像，这可以帮助您将它们分组并确定哪些属于一起。为属于一起的图像赋予相同的类别值

为了检索特定图片的信息，您可以通过以下两种方式之一调用它。最可能的解决方案是根据文件名检索图像。

```
$con = mysql_connect('host', 'user', 'pass');
$db = mysql_select_db('mydb');

$imgName = 'picture.jpg';
$getImg = mysql_query("SELECT * FROM mypics WHERE path='" . $imgName . "' ORDER BY id DESC LIMIT 1");
$imgSrc = mysql_result("path", 0, $getImg);
echo '<img src="' . $imgName . '" />'; 
```

当然这似乎有点没用，因为我们已经知道文件名开头，因为我们将它存储在 $imgName 中并使用它来搜索数据库中的条目，但您可以根据 ID、类别、宽度或高度进行搜索都是一样的。但是，这只会检索返回的第一张图像。同样，由于“ORDER BY id DESC”调用，图像按最新排序。如果您希望能够检索查询返回的所有图像，只需从查询中删除“LIMIT 1”并将 mysql_result() 中的“0”更改为您要检索的任何条目。请注意，结果像数组一样以 0 为索引，因此如果您想要第 5 个结果，您将得到结果 4。

如果要显示某个类别中的所有图像，可以执行以下操作：

```
$con = mysql_connect('host', 'user', 'pass');
$db = mysql_select_db('mydb');

$getImgs = mysql_query("SELECT * FROM mypics WHERE category='android' ORDER BY id DESC");
while( ($i = mysql_fetch_array($getImgs) ) {
    echo '<img src="' . $i['path'] . '" />';
} 
```

这将显示“android”类别中的所有图像，从最近的开始。希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:43:10.547

您可以将图像以字节数组的形式保存在数据库中。当你想找回它时，你可以得到它。或者有图片的Base64转换。

# c# - 使用 ThreadPool 在其他线程完成后执行一些线程

> ID：13486900
> 
> 赞同：0
> 
> 时间：2012-11-21T05:27:33.203
> 
> 标签：c#, multithreading, threadpool

我正在使用 ThreadPool 从服务器下载多个文件。我有一个要下载的文件列表，其中一些文件很大。我想在下载其他小文件后下载这些大文件。而且，我正在使用`WebClient.DownloadFile()`.

目前我正在使用`Thread.Join(time)`启动大文件的线程，以便在一段时间后启动。但不能保证到那时其他下载已经完成。的值`time`会因网络速度而异。

有没有更好的解决方案来处理这个问题？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:41:33.933

使用 ManualResetEvent 对象并将其设置在您的进程中并等待所有重置事件。像这样的东西：

```
public void DispatchWork(IEnumerable<string> worklist)
    {
        var resetEvents = new List<ManualResetEvent>();
        var batch = 100;
        foreach (work in worklist)
        {
            var resetEvent = new ManualResetEvent(false);
            resetEvents.Add(resetEvent);

            ThreadPool.QueueUserWorkItem((a) =>
            {
                try
                {
                    // do work
                }
                catch (Exception e)
                {
                    // do something
                    throw;
                }
                finally
                {
                    if (resetEvent != null) resetEvent.Set();
                }
            });
        }
        foreach (var resetEvent in resetEvents)
        {
            resetEvent.WaitOne();
            resetEvent.Dispose(); // todo: use try-finally
        }

        resetEvents.Clear();
    } 
```

# c# - 如何将数据从数据库刷新到 EF 5.0 DBContext 实体缓存？

> ID：13486905
> 
> 赞同：2
> 
> 时间：2012-11-21T05:27:54.993
> 
> 标签：c#, entity-framework, frameworks, entity, dbcontext

我正在使用 Entity Framework 5.0，DBContext Entities，我通过 linq 查询从数据库中获取数据，例如：

```
from shop in MyEntities.Shops.Include("Equipments") select shop 
```

有时候想刷新部分缓存数据，但是不知道怎么做，

我不想这样做：

```
MyEntities = new Entities() 
```

，因为我只想刷新部分缓存数据；

而且我也不想使用每个实体的 Reload() 函数，因为它太慢了，无法接受

那么我能做什么呢？

任何词将不胜感激！

# ruby - ruby 中的作用和作用（整数之间）

> ID：13486908
> 
> 赞同：2
> 
> 时间：2012-11-21T05:28:19.347
> 
> 标签：ruby, syntax, operators

我想知道 & 在用例中做了什么：

```
7 & 3 
   => 3

8 & 3
   => 0 
```

或者如在一般用例中所见：

```
 Integer & Integer
    => ?? 
```

我知道 array & array2 给出了两个数组之间的交集，但我不确定与整数一起使用时到底发生了什么。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-21T05:33:14.823

`&`是按位与，它逐位检查两个操作数，`1`如果两个相应的输入位都是`1`，则将每个结果位设置为 ，`0`否则。您也可以将其视为逐位乘法。

```
 111 (7)
AND  011 (3)
------------
=    011 (3)

    1000 (8)
AND 0011 (3)
------------
=   0000 (0) 
```

# types - Fortran 类型不匹配错误

> ID：13486909
> 
> 赞同：0
> 
> 时间：2012-11-21T05:28:33.880
> 
> 标签：types, compiler-construction, fortran, real-datatype

在这个fortran程序中，我被告知要调试，我得到了错误：

“在 (1) 处的参数 'p1' 中的类型不匹配；将 REAL(4) 传递给 TYPE(point)”

而且我似乎无法弄清楚错误发生在哪里。我尝试定义不同的变量来传递给每个函数，而不是 p1 和 p2，但错误相同。有任何想法吗？

```
MODULE PointType

TYPE POINT
REAL:: x
REAL:: y
END TYPE

CONTAINS

FUNCTION arePointsEqual(p1, p2)
REAL:: arePointsEqual
TYPE(POINT), INTENT(IN):: p1
TYPE(POINT), INTENT(IN):: p2
LOGICAL :: isEqual
IF ( p1%x == p2%x .AND. p1%y == p2%y) THEN
isEqual = .TRUE.
ELSE
isEqual = .FALSE.
END IF
END FUNCTION

 FUNCTION arePointsNotEqual(p1,p2)
 REAL:: arePointsNotEqual
 TYPE(POINT), INTENT(IN):: p1
 TYPE(POINT), INTENT(IN):: p2
 LOGICAL :: isNotEqual

 IF ( p1%x == p2%x .AND. p1%y == p2%y) THEN
 isNotEqual = .FALSE.
 ELSE
 isNotEqual = .TRUE.
 END IF
 END FUNCTION

 FUNCTION distance(p1, p2)
 REAL:: distance
 TYPE(POINT), INTENT(IN):: p1
 TYPE(POINT), INTENT(IN):: p2
 distance = SQRT((p2%x - p1%x)**2 + (p2%y - p1%y)**2)
 END FUNCTION

 END MODULE

 !MAIN PROGRAM BELOW THIS LINE

 PROGRAM Project3

 USE PointType

 PRINT *, arePointsEqual(p1, p2)

 PRINT *, arePointsNotEqual(p1, p2)

 PRINT *, distance(p1, p2)

 END PROGRAM Project3 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T05:34:29.557

提示：尝试“隐式无”。总是一个好主意。

# java - 对于所有 JVM GC 实现来说，压缩真的是不可避免的吗？

> ID：13486917
> 
> 赞同：4
> 
> 时间：2012-11-21T05:29:03.287
> 
> 标签：java, garbage-collection, real-time, latency, low-latency

在此[链接](http://www.azulsystems.com/technology/c4-garbage-collector)上，据说：

> 这些暂停是压缩堆以释放空间的必然要求的结果。收集器使用不同的策略来延迟这些事件，但是对于所有商业可用的收集器来说，**压缩是不可避免的。**

我的印象是，如果你保持应用程序的内存占用不变，那么就不需要发生 GC 压缩，换句话说，只有在你不断添加和收集对象时才会发生。如果您有足够大的堆和足够的可用空间，为什么在不创建任何孔（即不产生任何垃圾）时需要压缩？

我知道为 Java 应用程序保持恒定的内存占用并不容易，但使用正确的分析工具、引导程序和纪律是可能的。

那么假设 Java 应用程序可以在没有任何 GC 引入的延迟（换句话说，没有 GC 暂停）的情况下运行恒定的内存占用不是合理的吗？

**编辑：**通过不断的内存占用，我的意思是`steady state`Ajay George 提到的，当没有更多的对象被创建或取消引用时。如果你继续创建对象，你最终会耗尽内存，如果你继续取消引用对象，你最终会触发 GC。所以最终目标是启动、预热、强制进行完整的 GC，然后进入稳定状态以进行生产时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T05:46:57.593

> 我的印象是，如果你保持应用程序的内存占用不变，那么就不需要发生 GC 压缩，换句话说，只有在你不断添加和收集对象时才会发生。

当您的对象被取消引用（符合垃圾收集条件）时，就有可能发生压缩。这是因为您开始将堆碎片化，就像您的硬盘驱动器碎片化一样。

> 那么假设 Java 应用程序可以在没有任何 GC 引入的延迟（换句话说，没有 GC 暂停）的情况下运行，这不是合理的吗？

GC 引入的延迟是所使用的 GC 算法类型的结果。它与具有恒定内存占用的概念正交。好吧，如果您正在考虑您的应用程序没有创建或取消引用对象并且已经获得了某种`steady state`可能的情况。理想情况下不会出现这种情况，因为大多数对象都是短暂的。

话虽如此，使用 Azul 的 Pauseless Collection 算法，这也许是可能的。[这里](https://stackoverflow.com/q/4491260/628943)有一个很好的讨论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T16:37:16.833

不，压缩并不是真正必要的，许多垃圾收集器并不压缩，CPython 就是一个例子，对象永远不会在内存中移动。

压缩垃圾收集器确实提供了一个很大的优势——它们可以取回碎片化的内存。

如果你不压缩，你的进程内存使用量永远不会下降，因为如果一个 4K 页面仍然有一个 16 字节的 None ，它就不能被释放。稳态在这里没有帮助，因为在垃圾收集系统中，稳态意味着产生和回收大量垃圾。稳态是等量的。CPython 通过对象生成来处理这个问题（新创建的对象更有可能成为垃圾）。

最后还有增量垃圾收集器，或者如果您进行前沿研究，无暂停并发硬件辅助垃圾收集器[http://www.cs.purdue.edu/homes/hosking/ismm2000/papers/heil.pdf](http://www.cs.purdue.edu/homes/hosking/ismm2000/papers/heil.pdf)，一种商用[http ://www.azulsystems.com/products/zing/whatisit](http://www.azulsystems.com/products/zing/whatisit)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-03T07:31:44.390

我相信当他们说“压缩是不可避免的”时的意思，他们只是意味着一个好的 GC 最终会针对典型的内存分配模式执行压缩。

我不具体了解 Java（这可能取决于您使用的 JVM），但大多数语言根本不会调用 GC，除非您正在分配或释放内存。很多时候，它只是在分配期间（因为这是唯一需要更多空闲内存的时候），当然也是在显式调用时。

因此，对于您对“稳定状态”的相当奇怪的定义，其中没有发生分配，甚至没有产生垃圾，如果它已经完成了完整的收集/压缩，则根本没有理由调用 GC。在这种情况下，尝试压缩堆当然是浪费时间。

# java - 我在哪里可以找到 JavaParserLexer 和 JavaParser

> ID：13486918
> 
> 赞同：-2
> 
> 时间：2012-11-21T05:29:05.450
> 
> 标签：java, antlr

我使用 antlr3 为 java 生成 Lexer 和 Parser，但我遵循[http://www.antlr.org/wiki/pages/viewpage.action?pageId=789](http://www.antlr.org/wiki/pages/viewpage.action?pageId=789)中的示例代码，我找不到 jar 或依赖项有 JavaParserLexer 和 JavaParser，我怎样才能得到它？帮帮我，tks。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T22:39:32.440

你可能想去 antlr Grammars 页面（[http://www.antlr.org/grammar/list](http://www.antlr.org/grammar/list)）。

下载 java 语法（例如 Java 1.6 语法 -> [http://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g](http://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g)）。

一旦你在你的文件系统中拥有它，只需以这种方式构建它：

```
java -jar antlr-3.4-complete.jar Java.g 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T00:43:31.160

[您可以从http://media.pragprog.com/titles/tpantlr2/code/tour/Java.g4](http://media.pragprog.com/titles/tpantlr2/code/tour/Java.g4)下载 Java.g4，这是与本书相关的代码[http://pragprog.com/book/tpantlr2/the-确定的antlr-4参考](http://pragprog.com/book/tpantlr2/the-definitive-antlr-4-reference)

在讨论主题 ( [http://forums.pragprog.com/forums/206](http://forums.pragprog.com/forums/206) ) 中，您可以找到如何开始安装 v4 以及使用此语法打印声明签名的示例。

# c# - 没有获得位于服务器中的文件的正确路径以使用 c# 在 asp.net 中读取？

> ID：13486919
> 
> 赞同：1
> 
> 时间：2012-11-21T05:29:05.397
> 
> 标签：c#, asp.net, file-upload, asyncfileupload

我正在使用 asyncfileupload 控件将文件上传到托管服务器的文件夹中，并尝试读取该文件并将数据存储在数据库中......这就是我正在做的事情：

这是 asyncfilupload 控件：

```
<asp:AsyncFileUpload ID="venfileupld" runat="server" 
  OnUploadedComplete="ProcessUpload" FailedValidation="False" /> 
```

这就是我在 .cs 文件中所做的事情：

```
 protected void ProcessUpload(object sender, AjaxControlToolkit.AsyncFileUploadEventArgs e)
    {

        string name = System.IO.Path.GetFileName(e.FileName);
        string dir = Server.MapPath("upload_excel/");
        string path = Path.Combine(dir, name);
        venfileupld.SaveAs(path);
        writetodb(path);

    } 
```

这`writetodb`是将文件作为参数并读取并保存它的函数...

现在这在我的本地主机中运行良好，但是当我将它托管在托管服务器中时，它无法正常工作......在我的托管服务器中，我可以看到文件正在上传到那里，但我没有得到确切的路径要读取的文件...所以我收到一个错误...

那么现在该怎么办？任何帮助

**更新：-**

这是`writetodb(path)`功能：

```
public void writetodb(string filename)
    {
        string[] str;
        string vcode = "";
        string pswd = "";
        string vname = "";
        StreamReader sr = new StreamReader(filename);
        string line = "";

        sr.ReadLine();
        while ((line = sr.ReadLine()) != null)
        {
            str = line.Split(new char[] { ',' });
            if (str[0] != "")
            {
                vcode = str[0];
                pswd = str[1];
                vname = str[2];
                insertdataintosql(vcode, pswd, vname);
            }
        }
        fetch4();
        lblmsg4.Text = "Data Inserted Sucessfully";
    } 
```

我得到的错误是：`"Unknown Server Error"`

任何人请我真的卡住了

# lua - 在 Lua 中，有没有办法找出值在哪个表中？

> ID：13486921
> 
> 赞同：0
> 
> 时间：2012-11-21T05:29:11.240
> 
> 标签：lua

例子：

```
player = {}
player.shape = {x = 0, y = 0, w = 50, h = 50} 
```

Lua 中是否有一个函数可以告诉我 player.shape 在什么表中，所以我可以这样做：

```
shape_a = player.shape
some_function(shape_a) = player 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-21T09:54:47.680

为什么不在形状中存储对父表的引用？

```
player = {}
player.shape = {x = 0, y = 0, w = 50, h = 50, parent = player} 
```

您可以使用如下元方法自动执行此操作：

```
local new_player = function()
  return setmetatable(
    {},
    {
      __newindex = function(t,k,v)
        if k == "shape" then v.parent = t end
        rawset(t,k,v)
      end,
    }
  )
end

player = new_player()
player.shape = {x = 0, y = 0, w = 50, h = 50} 
```

现在您可以通过调用从形状访问玩家`shape.parent`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:48:26.470

Lua 中的值可以是*任何地方*。它可以同时出现在许多不同的地方。确实，您的代码清楚地表明了这一点：

shape_a = player.shape

该`shape`表现在位于两个位置：全局表（在 name 下`shape_a`）和`player`表（在 name 下`shape`）。

值可以在局部变量中，它们实际上没有名称（一旦编译器完成它们就不会。

你想要的通常是不可能的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T11:18:08.403

您可能在谈论 box2D 或 Chipmunk 物理。（我指的是 Nicol Bolas 回复中的评论）。

如果我没记错的话，他们都有办法做到这一点，在 Chipmunk 中（我猜你正在使用什么）有一个数据字段。

从花栗鼠手册：

```
cpDataPointer cpBodyGetUserData(const cpBody *body)
void cpBodySetUserData(cpBody *body, const cpDataPointer value) 
```

> 用户数据指针。使用此指针从回调中获取对拥有此主体的游戏对象的引用。

# java - apache hive 的“sql like”替代品

> ID：13486927
> 
> 赞同：1
> 
> 时间：2012-11-21T05:29:50.820
> 
> 标签：java, jdbc, hadoop, distributed, hive

我正在寻找一个*分布式数据库*的解决方案，它将支持类似于 sql 的查询。
更准确地说，它应该有一个 JDBC 连接器，并且与 sql 语法相同或相似。
通过谷歌搜索，我发现`HIVE`了 hadoop。
您还知道哪些其他替代方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T11:16:51.270

Cloudera [Impala](http://blog.cloudera.com/blog/2012/10/cloudera-impala-real-time-queries-in-apache-hadoop-for-real/)是一个支持类似 SQL 的查询并与 HiveQL 兼容的框架。

虽然 Hive 已经有一段时间了并且面向批处理，但 Impala 是新的并且面向实时处理。

不完全确定 JDBC 是否适用于 Impala。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T14:54:21.237

蜂巢节俭服务器是您可能想要查看的东西。不过要注意陷阱。

[https://cwiki.apache.org/confluence/display/Hive/HiveServer](https://cwiki.apache.org/confluence/display/Hive/HiveServer)

# php - 调用控制器/方法而不是提交表单

> ID：13486933
> 
> 赞同：0
> 
> 时间：2012-11-21T05:30:17.073
> 
> 标签：php, javascript, jquery, codeigniter

我在尝试调用特定控制器/方法时遇到问题。我正在尝试打电话`myController/myMethod`，但我`$_POST`只是被张贴到`myController`。我认为`$_POST`无法正常工作的原因是由于以下代码：

```
<script type="text/javascript">
$(document).ready(function() {          
    var $body = $('body'),
        $content = $('#content'),
        $form = $content.find('#loginform');
        $("input").uniform();       
        $form.wl_Form({
            status:false,
            onBeforeSubmit: function(data){
                $form.wl_Form('set','sent',false);
                if(data.username && data.password){
                    document.forms[0].submit();  // PROBLEM HERE
                }else{
                    $.wl_Alert('Enter password','warning','#content');
                }
                return false;
            }                             
        });         
        <?php if ($error_msg != ""): ?>
           $.wl_Alert('<?php echo $error_msg; ?>','info','#content');
        <?php endif; ?>
});  
</script> 
```

我认为正在发生的事情是，当`data.username && data.password`设置时，表单正在提交但没有达到我需要的正确方法。

我怎样才能修改上面的javascript，而不是提交表单[0]，代码应该调用`myController/myMethod`？这是显示我试图调用的控制器和方法的表单代码：

```
<form name="login" action="<?php echo site_url(); ?>myController/myMethod" id="loginform" method="POST"> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:33:21.113

代替

```
document.forms[0].submit();  // PROBLEM HERE 
```

试试看会发生什么

```
document.login.action="<?php echo site_url(); ?>myController/myMethod";
document.login.submit(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:59:31.737

你也可以这样试试…………

```
<form action="<?php echo ROOT_FOLDER ?>/controller/function_name" method="post">
       insert your elements
 </form> 
```

当您提交时，它将转到您的控制器中的功能，在那里您可以使用 $_POST 访问您在表单中提交的元素......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T18:21:10.400

尝试

`<form name="login" action="<?php echo base_url(); ?>myController/myMethod" id="loginform" method="POST">`

如果您使用 htaccess 删除了 index.php，或者

`<form name="login" action="<?php echo base_url(); ?>index.php/myController/myMethod" id="loginform" method="POST">` 如果您启用了 index.php。

你是如何确定它发布到 myController 的？您是否在控制器的构造函数中放置了调试行或退出？
当您打印 $_POST 并退出时，您会得到什么输出`myMethod`

# android - 选取框不在android中滚动

> ID：13486935
> 
> 赞同：4
> 
> 时间：2012-11-21T05:30:31.007
> 
> 标签：android, marquee

我想在我的 android 应用程序中使用 marquee 的功能，并使用此代码来实现目标：

```
 <TextView
    android:id="@+id/marqueetext"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:ellipsize="marquee"
    android:fadingEdge="horizontal"
    android:lines="1"
    android:marqueeRepeatLimit="marquee_forever"
    android:scrollHorizontally="true"
    android:text="hello all how are you"
    android:textColor="#ff4500" 
    />

MarqueeText = (TextView)ShowTheMessages.this.findViewById(R.id.marqueetext);
        MarqueeText.setSelected(true); 
```

我不知道为什么它不起作用。我浏览了许多相关帖子，但没有找到解决方案。请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-21T05:51:07.670

更改此行并尝试...

```
android:text="hello all how are you hello all how are you hello all how are you hello all how are you"
TextView txtView=(TextView) findViewById(R.id.marqueetext);
txtView.setSelected(true);

 <TextView
    android:id="@+id/marqueetext"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:ellipsize="marquee"
    android:fadingEdge="horizontal"
    android:lines="1"
    android:marqueeRepeatLimit="marquee_forever"
    android:scrollHorizontally="true"
    android:text="hello all how are you hello all how are you hello all how are you hello all how are you"
    android:textColor="#ff4500" 
    /> 
```

或者另一个例子是......

```
<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    <TextView
        android:id="@+id/marqueetext"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:lines="1"
        android:ellipsize="marquee"
        android:fadingEdge="horizontal"
        android:marqueeRepeatLimit="marquee_forever"
        android:scrollHorizontally="true"
        android:textColor="#ff4500"
        android:text="hello all how are you hello all how are you hello all how are you hello all how are you hello all how are you" />
</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-21T05:38:35.837

```
android:singleLine="true"
android:ellipsize="marquee" 
```

是唯一需要的属性，滚动甚至可以使用`layout_weight`定义`layout_width=0dp`

这是一些示例代码：

```
<TextView 
            android:id="@+id/scroller"
            android:singleLine="true"
            android:ellipsize="marquee"
            android:textAppearance="?android:attr/textAppearanceLarge"
            android:textColor="#FFFFFF"
            android:text="Some veryyyyy long text with all the characters that cannot fit in screen, it so sad :( that I will not scroll"
            android:layout_marginLeft="4dp"
            android:layout_weight="3"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            /> 
```

但最重要的是**TextView 应该被选中**，你已经在你的代码中完成了。

希望它会帮助你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T06:41:34.880

尝试

```
android:singleLine="true" 
```

代替

```
android:lines="1" 
```

它会解决你的问题。

# entity-framework - 将事务范围与实体框架一起使用

> ID：13486938
> 
> 赞同：1
> 
> 时间：2012-11-21T05:30:42.470
> 
> 标签：entity-framework, transactionscope

我有两张桌子。第一个表包含一些数据。第二个表包含数据更改的历史记录。第一个表还包含引用最后一个历史行的列。当第一个表中的行中的数据发生更改时，副本被插入到第二个表中，并在引用最后一个数据副本的第一列中更新。为此，我使用此代码

```
using (TransactionScope trn = new TransactionScope())
{
  Table1 t1=model.Table1.Where(t=>t==id).FirstOrDefault();
  /*update Table1 data*/
  Table2 t2=new Table2();
  t2.Table1=t1;
  model.AddToTable2(t2);
  /*set Table2 fields*/
  model.SaveChanges();

  t1.ref=t2.id;
  model.SaveChanges();
  trn.Complete();
} 
```

使用 TransactionScope 保存符合数据是正确的吗？或者我需要使用其他方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:56:43.857

您需要保存更改两次吗？如果表格是相关的，您应该能够设置导航属性并只保存一次所有更改。在这种情况下，您不需要自己创建交易 - EF 会为您创建一个。如果您需要保存更改两次 TransactionScope 应该可以解决问题。连接在打开时被登记到事务中。在代码片段中，您没有显示上下文是如何实例化的，以及连接在到达事务之前会发生什么，因此很难判断它是否正确。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-12-09T05:57:23.373

Context 类默认支持事务。但是对于上下文类的每个新实例，都会创建一个新事务。这个新事务是一个嵌套事务，一旦关联上下文类上的 SaveChanges() 被调用，它将被提交。

在这种情况下，我们甚至不需要 TransactionScope。我们可以简单地检查两个操作的结果，如果它们成功，我们只需要调用 SaveChanges() 方法。

当我们将 ADO.NET 调用与实体框架混合时，通常需要 TransactionScope。在这种情况下使用 TransactionScope 的技巧是让上下文类知道您想将它与您自己的事务一起使用。由于事务与作用域中的连接对象相关联，因此我们需要将上下文类与与事务作用域相关联的连接一起使用。此外，我们需要让上下文类知道它不能拥有连接，因为它由调用代码拥有。所以我们可以做类似的事情：

```
using (var scope = new TransactionScope(TransactionScopeOption.Required)) 
{ 
    using (var conn = new SqlConnection("...")) 
    { 
        conn.Open(); 

        var sqlCommand = new SqlCommand(); 
        sqlCommand.Connection = conn; 
        sqlCommand.CommandText = 
            @"UPDATE Blogs SET Rating = 5" + 
                " WHERE Name LIKE '%Entity Framework%'"; 
        sqlCommand.ExecuteNonQuery(); 

        using (var context = 
            new BloggingContext(conn, contextOwnsConnection: false)) 
        { 
            var query = context.Posts.Where(p => p.Blog.Rating > 5); 
            foreach (var post in query) 
            { 
                post.Title += "[Cool Blog]"; 
            } 
            context.SaveChanges(); 
        } 
    } 

    scope.Complete(); 
} 
```

请参阅：http: [//msdn.microsoft.com/en-us/data/dn456843.aspx](http://msdn.microsoft.com/en-us/data/dn456843.aspx)

# python - 循环并创建对象数组

> ID：13486945
> 
> 赞同：1
> 
> 时间：2012-11-21T05:31:33.220
> 
> 标签：python, oop, google-app-engine, python-2.7

我正在尝试在 Python 中创建对象列表。下面的代码应该（希望）解释我在做什么：

```
class Base(object):
    @classmethod
    def CallMe(self):
        out = []
        #another (models) object is initialised here which is iterable
        for model in models:
            #create new instance of the called class and fill class property
            newobj = self.__class__()
            newobj.model = model
            out.append(newobj)
        return out

class Derived(Base):
    pass 
```

我正在尝试按如下方式初始化该类：

```
objs = Derived.CallMe() 
```

我希望 'objs' 包含我可以迭代的对象列表。

我在堆栈跟踪中收到以下错误：`TypeError: type() takes 1 or 3 arguments`在包含的行上`newobj = self.__class__()`

有什么方法可以做到这一点，还是我以错误的方式看待问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-21T05:37:12.470

问题是 a`classmethod`没有接收实例 ( `self`) 作为参数。相反，它接收对调用它的类对象的引用。通常这个参数被命名`cls`，尽管这个约定比 for 的约定弱一些`self`（你偶尔会看到带有名称的代码，比如`klass`）。

因此，与其调用`self.__class__()`创建您的实例，不如调用`cls()`. `Derived`如果函数调用为`Derived.CallMe()`，您将获得实例，`Base`如果调用为 ，您将获得实例`Base.CallMe()`。

```
@classmethod
def CallMe(cls):     # signature changed
    out = []
    models = something()
    for model in models:
        newobj = cls()    # create instances of cls
        newobj.model = model
        out.append(newobj)
    return out 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:37:23.387

由于您将其设为类方法，因此它的`self`参数不是实例而是类本身。所以你想做`self()`。出于这个原因，习惯上将类方法的第一个参数命名为 not `self`but `cls`。

# php - 使用facebook登录的jquery移动登录

> ID：13486947
> 
> 赞同：0
> 
> 时间：2012-11-21T05:31:36.587
> 
> 标签：php, html, facebook, jquery-mobile

我正在尝试使用 Facebook 登录创建登录。当我创建它时，它转到 fb 登录面，然后它不重定向。它不创建页簿会话变量。这是什么原因。我用谷歌搜索，但找不到任何答案。请有人帮助我。这是我的代码

```
<?php

require 'src/facebook.php';

// Create our Application instance (replace this with your appId and secret).
$facebook = new Facebook(array(
 'appId' => '435154566546556',
 'secret' => 'f6ff918559a2061ebadd881ee59f2702',
));

  // Get User ID
$user = $facebook->getUser();

if ($user) {
 try {
  // Proceed knowing you have a logged in user who's authenticated.
   $user_profile = $facebook->api('/me');
  } catch (FacebookApiException $e) {
  error_log($e);
  $user = null;
 }
}

 // Login or logout url will be needed depending on current user state.
   if ($user) {
 $logoutUrl = $facebook->getLogoutUrl(array(
                    'next' => 'http://localhost/ronyar/logout.php'));
 } else {
 $loginUrl = $facebook->getLoginUrl();
}

 ?>
  <?php

   if($_SESSION['fb_495235147162870_user_id'])
     {
   $_SESSION['email'] = $user_profile['email'];
   $_SESSION['user_id'] = $_SESSION['fb_495235147162870_user_id'];
   header('Location:songs.php');

    }
     ?>       
<html>
<head>

  <title>Ronyar</title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a1/jquery.mobile-   1.0a1.min.css" />
<script src="http://code.jquery.com/jquery-1.4.3.min.js"></script>
<script src="http://code.jquery.com/mobile/1.0a1/jquery.mobile-1.0a1.min.js"></script>
<script>

  function submit1(){

  window.location.href ='sign_up.php';

  }

</script>   
<style>
.ui-page { background: #242424;}   
</style> 
```

```
<body  >
<div data-role="page" data-theme="a">

        <header data-role="header" >   
        <img src="images/loginform.jpg" width="100%" />  
       </header>

     <div data-role="content"  >

           <form id='myform' name='myform' action='signin_validation.php' method='post'>
            E-mail :
            <input type="text" name="email" name="email"/> <br/>
            Password :
            <input type="password" name="pw" name="pw"/> <br/>

            <input type="submit" name="submit" value="Login" data-theme="a"/>
             <br/>
           <p style="background-color:#000000"> <hr/></p>
           <br/>

        </form>

          <form id='myform1' name='myform1' action='<?php echo $loginUrl; ?>' method='post'>

            <input type="submit" name="submit1" value="Login With Facebook" data-theme="b"/>

        </form>

        <br/>
    <a href="" style="text-decoration:none; color:#993333; background-color:#CCCCCC; float:none" onclick="submit1()"  ><img src="images/signup.jpg" width="100%"/></a> 

</div><!-- /content -->

<div data-role="footer" data-theme="a">
    <p align="center" style="color:#168797;">Copyright  2012&copy;www.ronyar.com <br/> All Rights Reserved.</p>
</div><!-- /header --> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T20:36:37.710

尝试关闭 AJAX

```
<form id='myform1' name='myform1' action='<?php echo $loginUrl; ?>' method='post' data-ajax="false"> 
```

# java - Java 转换实用程序库

> ID：13486949
> 
> 赞同：4
> 
> 时间：2012-11-21T05:31:57.083
> 
> 标签：java, generics, casting, unsafe

我想知道是否存在一个库来执行一堆平凡的演员表（基本上是一堆潜在的不安全演员表的包装，在大多数情况下，这在实践中不是问题）。例如，假设我在库中有以下内容（为简洁起见省略了正文）：

```
public interface LibraryInterface;

public static void doSomething(Collection<LibraryInterface> collection); 
```

所以`doSomething()`固执地只需要一些不如可能灵活的东西（即。。`Collection<? extends LibraryInterface>`是否有一个库提供与以下相同的功能：

```
public static <T, U extends T> Collection<T> cast(Collection<U> collection); 
```

因此，如果我有一个实现的类`LibraryInterface`，并且我有一个`List<MyLibraryInterfaceImpl>`，我仍然可以`doSomething()`通过强制转换该列表来使用？（的主体`cast()`暗示包含不安全的演员表，但至少从用户的角度来看，演员表被隐藏起来，或者集中在一个地方）。

（也很好，与比较器之类的东西相反）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T07:16:41.060

现在，这样的图书馆会做什么？

```
void flexibleDoSomething(Collection<? extends LibraryInterface> collection) {
    doSomething((Collection<LibraryInterface>) collection);
} 
```

这种方法看起来不值得一个图书馆。这样做不会获得任何额外的类型安全性。显然，更好的办法是首先修复另一个库。但是您始终可以内联该方法。

在某些情况下，我见过这样的库正在使用中。主要是为了让演员在频繁出现时集中在一个类中，或者因为其中一些在语法上混乱。例如，转换`Class<Foo<?>>`为`Class<Foo<Something>>`复杂的泛型。

请注意，使用泛型时，*每种*类型都应出现在右侧，以确保编译器正确绑定它。

```
public static <T, U extends T> Collection<T> cast(Collection<U> collection); 
```

对于这种方法，编译器会很高兴地假设它`T`是`Object`.

要获得更严格的泛型，您可能需要使用类似的东西

```
public static <T, U extends T> Collection<T> cast(Collection<U> collection, Class<T> clz); 
```

这样，您实际上可以指定`T`, 和（好吧，不是针对`Collection`，而是针对其他情况），实用程序方法还可以进行一些类型检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T06:44:14.960

您的方法所做的一切都`cast(Collection<U> collection)`可以通过`<T extends LibraryInterface> doSomething(Collection<T> collection)`

图书馆的额外点是什么？

而且，如果 API 构建者决定让类型保持不变，那么这基本上意味着他严格希望您遵守合同并仅提供`LibraryInterface`或设计用于特定用途。在 Java 泛型中`type erasure`你也可以这样做

```
List<? extends Object> p = new ArrayList<Object>(); 
```

但是现在`List<? extends Object> p = new ArrayList<? extends Object>();` 以上是非法的。所以首先没有类型转换和循环，我不知道实现这样一个库的任何其他方式。

因此，对于您想要做的事情，如果泛型是协变的，那就是

`List<Object> p = new ArrayList<String>();`

任何你想要的任何目的都是可能的。但上述说法是非法的。因此你不能忽略它。

因此，执行上述操作的唯一方法是循环并检查，然后最终键入 cast。

更多信息可以在[这里](http://jatinpuri.com/2012/11/co-variance-contra-variance/)和[这里找到](http://jatinpuri.com)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T06:34:52.010

这样的图书馆将是无稽之谈。由于类型擦除，强制转换为父类绝对没有任何作用，除了删除编译器警告。此外，图书馆会做的是直接做演员表或复制馆藏。换句话说，它要么做你不想做的事，并激励你使用这个库，要么做一些非常低效和无用的事情......

如果您想在进行不安全转换之前检查集合的内容，则向下转换更有意义。您可以创建一个函数来遍历集合以检查所有元素的类型，然后通过执行不安全强制转换返回集合。您可以在 ~3 行中编写此函数；）。

# javascript - 如何在 ios 6 中将逗号（，）分隔符作为小数分隔符？

> ID：13486954
> 
> 赞同：3
> 
> 时间：2012-11-21T05:32:11.797
> 
> 标签：javascript, html, objective-c, web, ios6

在我的应用程序中，我使用 HTML 页面从用户那里获取数据，因为我正在使用类型为数字的文本字段，我的问题是，在将数字输入文本字段后，单击带有逗号 (,) 分隔符的文本字段上的完成按钮数据，这个在 ios 5 中运行良好，但在 ios 6 中没有出现，请提出在 ios 6 中获取逗号分隔符的建议？

```
function addCommas(nStr)
        {

            nStr = removeCommas(nStr);

            nStr += '';
            x = nStr.split('.');
            x1 = x[0];
            x2 = x.length > 1 ? '.' + x[1] : '';
            var rgx = /(\d+)(\d{3})/;
            while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + ',' + '$2');
            }
            return x1 + x2;
        } 
```

我使用上面的代码放置逗号，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T12:59:59.930

不要尝试创建自定义方法来处理数字分隔符。IOS 已经为此内置了方法，并且它的工作方式取决于用户所在的国家/地区。

你需要做这样的事情：

```
NSNumberFormatter *nf;
nf = [[NSNumberFormatter alloc] init];
[nf setMaximumFractionDigits:2]; // to show only two decimal places
NSNumber *num =[nf numberFromString:@"123456.789"];
NSLog([nf stringFromNumber:num]); 
```

检查[苹果的 NSNumberFormatter 文档](https://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSNumberFormatter_Class/Reference/Reference.html)，了解更多信息和选项。

# sql - 我怎样才能找到两列的身份

> ID：13486955
> 
> 赞同：2
> 
> 时间：2012-11-21T05:32:12.143
> 
> 标签：sql

我有一张这样的桌子：

```
STATE      code     company   rate 
----------------------------------
TX          SD      1         0.5
TX          SD      2         0.5
TX          SD      3         0.7
TX          SD      4         0.5
.......... 
```

我需要验证在相同状态和相同代码下的速率是否相同。

我考虑自己加入表并获取速率 1 和 rate2 ，然后可以使用 case when 比较两列

像这样的东西：

```
CASE WHEN COLUMN1 = COLUMN2 THEN '1' ELSE '0' END AS MyDesiredResult 
```

不知道行不行？我怎样才能加入表？

基本上，我需要一份报告来查看相同状态和相同代码下的费率是否不同。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:39:54.220

```
select *
from tbl t1
join tbl t2 using (state, code)
where t1.rate <> t2.rate
and t1.company < t2.company; 
```

返回的每一行都将显示不匹配：如果没有不匹配，则现在将返回行。最后一行只是防止显示所有结果两次。

`(state, code)`如果甚至有一个组合包含多个. ，则上述查询可能会返回大量行`rate`。为了只查看它们不同的不同费率的摘要，请改用：

```
select state, code, rate, count(*)
from tbl
group by state, code
having count(*) > 1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T05:52:02.997

这将向您显示有问题的状态/代码组合：

```
select state, code, min(rate) min_rate, max(rate) max_rate
  from myTable
 group by state, code
having min(rate) != max(rate) 
```

您可以进一步处理以查找每个速率有多少行。例如使用 CTE，但我将其作为练习留给读者。

# jekyll - Jekyll index.html 使用 3 种不同的 _layouts

> ID：13486960
> 
> 赞同：8
> 
> 时间：2012-11-21T05:32:39.593
> 
> 标签：jekyll

我有 3 种不同的 _layouts。

*   post-link.html
*   post-article.html
*   post-photo.html

我可以在 index.html 上显示我的所有帖子，但它们都有相同的布局。我可以以某种方式在同一页面（index.html）上显示多个布局吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-12-31T03:54:55.237

一个页面只能有一个`layout`，但布局可以嵌套。

我有三个`_layouts`：

*   master.html
*   默认.html
*   post.html

`master`布局具有我想要的任何页面所需的所有基本结构。它看起来像这样：

```
<html>
  <head>
    <title>{{ page.title }}</title>
  </head>
  <body>
    {{ content }}
  </body>
</html> 
```

我`default`对大多数不是博客文章的页面使用布局。我确实`page`在页面的 YAML 前端内容中广泛使用了一些变量。布局看起来像这样：

```
---
layout: master
---
<h1>
  {{ page.title }}
  {% if page.subtitle %}<small>{{ page.subtitle }}</small>{% endif %}
</h1>
{% if page.description %}<p>{{ page.description }}</p>{% endif %}
{{ content }} 
```

我使用页面`post`布局`_posts`。它看起来像这样：

```
---
layout: default
---
<p>Posted {{ page.date }}</p>
<ul>{% for tag in page.tags %}...{% endfor %}</ul>
{{ content }} 
```

我写的每一篇博文，我都使用`post`布局，它们继承自所有三种布局。

如果您想拥有可重用标记的片段，那么我建议您使用 [`_includes`](https://github.com/mojombo/jekyll/wiki/Liquid-Extensions).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-21T12:02:35.403

一个页面只能有一个布局。您需要的是 _includes，您可以在要显示帖子的任何地方使用它。

# javascript - JqG rid 重新排序 searchBox 中的元素？

> ID：13486970
> 
> 赞同：1
> 
> 时间：2012-11-21T05:33:42.967
> 
> 标签：javascript, jquery, jqgrid

我是 jqGrid 的新手，想知道一种方法来重新排序 searchBox 中的 dropDown 中的各种元素。

我观察到，默认情况下，在搜索框中，我们根据网格 colModel 中的显示顺序获取 columnNames。但我希望特定列在搜索框对话框的顶部。例如在我的 jqGrid 中有 3 列

```
ID | EMPLOYEENAME | EMPID 
```

在上述情况下，假设所有三个字段都是可搜索的，我得到 searchBox 填充

```
ID
EMPLOYENAME
EMPID 
```

以相同的顺序。但我想`EMPID`在 searchBox 中名列前茅。

请指教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-04-12T12:55:03.147

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>

    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/redmond/jquery-ui.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/free-jqgrid/4.12.1/css/ui.jqgrid.min.css" />
    <script src="https://cdn.jsdelivr.net/free-jqgrid/4.12.1/js/jquery.jqgrid.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script type="text/javascript">

    function setCookie(cname, cvalue, exdays)
    {
        var d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        var expires = "expires=" + d.toGMTString();
        document.cookie = cname + "=" + cvalue + "; " + expires;
    }
    function getCookie(cname)
    {
        var name = cname + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++)
        {
            var c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1);
            if (c.indexOf(name) == 0)
            {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }
    var delete_cookie = function (name)
    {
        document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
    };

</script>
    <script type="text/javascript">

        $(document).ready(function () {
            DisplayGrid();  
        });

        function DisplayGrid()
        {
            $.ajax({
                type: "POSt",
                url: "Demo_12.aspx/Display",
                data: "{}",
                datatype: "json",
                contentType: "application/json; charset=utf-8",
                success: function OnSuccess(data) {
                    debugger
                    var dadads = data.d;
                    $("#grid").jqGrid({

                        colModel: [
                            { name: "C_Code", hidden: true },
                            { name: "C_Name", index: 'C_Name', width: 122 },
                            { name: "C_S_Name", index: 'C_S_Name', width: 122 },
                            { name: "C_RapNet", index: 'C_RapNet', width: 100 },
                            { name: "FancyCol", index: 'FancyCol', width: 100 },
                            { name: "FancyColInten", index: 'FancyColInten', width: 120 },
                            { name: "FancyColOverTone", index: 'FancyColOverTone', width: 120 },
                            { name: "ARGCol", index: 'ARGCol', width: 150 },
                            { name: "ARGColInten", index: 'ARGColInten', width: 120 },
                            { name: "C_GIA_Name", index: 'C_GIA_Name', width: 90 },
                            { name: "Ord", index: 'Ord', width: 90 },
                            {
                                name: "Action", width: 115, formatter: function (cellvalue, options, rowObject) {
                                    return '<a href="javascript:void(0)" class="" id="editbtn" ><i class="entypo-pencil"></i></a>';
                                }
                            },
                        ],
                        onSelectAll: function (aRowids, isSelected) {
                            var myGrid = $('#grid');
                            var coockiVal = getCookie("selectedcode_color");
                            var coockiVal_count = getCookie("selectedcount_color_color");
                            var noofcount = 0;

                            if (coockiVal == null || coockiVal == '') {
                                coockiVal = ',';
                            }

                            if (coockiVal_count == null || coockiVal_count == '') {
                                coockiVal_count = '0';
                            }

                            var noofcount = parseInt(coockiVal_count);

                            for (i = 0, count = aRowids.length; i < count; i++) {
                                var celValue = myGrid.jqGrid('getCell', aRowids[i], 'C_Code');
                                if (isSelected == true) {
                                    var n = coockiVal.indexOf(',' + celValue + ',');
                                    if (n == -1) {
                                        coockiVal = coockiVal + ',' + celValue + ',';
                                        noofcount = parseInt(noofcount) + 1;
                                    }
                                }
                                else {
                                    var n = coockiVal.indexOf(',' + celValue + ',');
                                    if (n != -1) {
                                        coockiVal = coockiVal.split(',' + celValue + ',').join("");
                                        noofcount = parseInt(noofcount) - 1;
                                    }
                                }
                            }

                            setCookie("selectedcode_color", coockiVal, 30);
                            setCookie("selectedcount_color", noofcount, 30);
                            var elems = document.getElementById('noofCount');
                            elems.value = noofcount;

                        },
                        serializeGridData: function (postData) {
                            postData.filters = JSON.stringify({

                            });
                            return JSON.stringify(postData);
                        },
                        jsonReader: { root: "d.rows", page: "d.page", total: "d.total", records: "d.records" },
                        onInitGrid: function () {
                            $("<div style='display:none;' id='no-record'>No Record(s) Found</div>").insertAfter($(this).parent());
                        },

                        beforeSelectRow: function (rowid, e) {
                            debugger
                            //return $(e.target).is('input[type=checkbox]');
                            var $self = $(this),
                                iCol = $.jgrid.getCellIndex($(e.target).closest("td")[0]),
                                cm = $self.jqGrid("getGridParam", "colModel"),
                                localData = $self.jqGrid("getLocalRow", rowid);
                            if (cm[iCol].name === "cb" && e.target.tagName.toUpperCase() === "INPUT") {
                                var coockiVal = getCookie("selectedcode_color");
                                var coockiVal_count = getCookie("selectedcount_color");

                                if (coockiVal == null || coockiVal == '') {
                                    coockiVal = ',';
                                }

                                if (coockiVal_count == null || coockiVal_count == '') {
                                    coockiVal_count = '0';
                                }

                                debugger
                                var myGrid = $('#grid');
                                var result1 = $(e.target).is(":checked");
                                if (result1 == true) {
                                    var celValue = myGrid.jqGrid('getCell', rowid, 'C_Code');

                                    coockiVal = coockiVal + ',' + celValue + ',';
                                    coockiVal_count = parseInt(coockiVal_count) + 1;
                                    setCookie("selectedcode_color", coockiVal, 30);
                                    setCookie("selectedcount_color", coockiVal_count, 30);

                                }
                                else {
                                    var celValue = myGrid.jqGrid('getCell', rowid, 'C_Code');
                                    coockiVal = coockiVal.split(',' + celValue + ',').join("");
                                    coockiVal_count = parseInt(coockiVal_count) - 1;

                                    setCookie("selectedcode_color", coockiVal, 30);
                                    setCookie("selectedcount_color", coockiVal_count, 30);
                                }

                                var elems = document.getElementById('noofCount');
                                elems.value = coockiVal_count;

                            }
                            return $(e.target).is('input[type=checkbox]');
                            return true; // allow selection
                        },
                        recordpos: 'left', cmTemplate: { sortable: false, title: false },
                        data: dadads,
                        ignoreCase: true,
                        rowNum: 10,
                        rowList: [10, 50, 100, 150],
                        pager: $('#pagingGrid'),
                        viewrecords: true,
                        height: "auto",
                        shrinkToFit: false,
                        autowidth: false,
                        fixed: true,
                        multiselect: true,
                        sortname: "invdate",
                        sortorder: "desc",
                        rowNum: 10,

                    }).jqGrid("filterToolbar");

                },
                Error: function OnError(data) {

                }
            });
        }

    </script>
</head>
<body>
    <form id="form1" runat="server">
    <div>
            <table id="grid"></table>
            <div id="pagingGrid"></div><br />
    </div>
    </form>
</body>
</html> 
```

# php - CodeIgniter MySQL 动态大小的 Where 子句

> ID：13486974
> 
> 赞同：0
> 
> 时间：2012-11-21T05:34:10.330
> 
> 标签：php, mysql, codeigniter

我希望能够接受可以在查询中使用的一系列约束。当我使用 foreach 循环时，例如

```
$this->db->select('id');
$this->db->from('items');
foreach($tags_array as $tag)
{
    $this->db->where('tag_id', $tag);
} 
```

我注意到它只使用数组中 tag_id 的最后一个赋值。我想知道是否有任何方法可以解决这个问题。

我忘了提到我希望这也是一个“AND WHERE”子句。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T05:59:38.543

```
$this->db->select('id');
$this->db->from('items');
$tag_condition = array();
foreach($tags_array as $tag)
{
      $tag_condition[]   = $tag;
}

$this->db->where_in('tag_id', $tag_condition); 
```

如何使用这个

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T06:02:00.957

像这样在您的模型中创建一个函数，并使用您的控制器将数组中的所有 tag_ids 传递给该函数......

```
$result = $this->model_name->function_name_in_model($tag_ids); 
```

在模型中使用它在 where 条件下使用 in 在 sql........你会得到正确的结果。

```
select id from items where id IN($tag_ids); 
```

# objective-c - 为什么 UISearchDisplayController 中搜索栏的色调看起来与普通搜索栏的色调不同？

> ID：13486976
> 
> 赞同：2
> 
> 时间：2012-11-21T05:34:13.897
> 
> 标签：objective-c, uisearchbar

这就是没有设置的情况。请注意，两种色调都是空的。然而它们看起来不同。

我有点喜欢上面那个发白的，虽然我不能把剩下的改成那个。searchBar.tint 在所有情况下都为零。

![在此处输入图像描述](../Images/bc88aca0ffbec1f6b6435573bdfdfb98.png)

更新：它一定与神秘的 UISearchBarBackground 类有关。

如果我删除它们，就会发生这种情况。

![在此处输入图像描述](../Images/799979705dc2b56e5360b20536ddc842.png)

（我删除了设置 UITextFieldBackground 的代码，所以你们都可以看到它都是苹果的一部分）

# wordpress - 在jQuery中为砌体添加左值

> ID：13486982
> 
> 赞同：0
> 
> 时间：2012-11-21T05:34:32.120
> 
> 标签：wordpress, jquery-masonry

我已经使用砖石在 wordpress 中显示我的所有帖子。有一个名为 post-wrap 的 div。在帖子中显示所有帖子，并在左侧上角帖子类型显示为菜单，如

后 1 后 2 后 3

所有帖子都显示在名为“single-post”的同一类 div 下，并且都在 post-wrap div 下。当我在这里使用砖石时。默认情况下，砌体创建一个 div，它位于 post-wrap 之上，并且是相对位置的。所以我也不能使用我的菜单。现在我想显示砌体 div 下的所有元素，从 left: 340px; 开始。

是否有任何砌体位置变化或位置变化的设置。

# navigation - 如何循环 NavigationService.RemoveBackEntry();

> ID：13486986
> 
> 赞同：0
> 
> 时间：2012-11-21T05:35:05.690
> 
> 标签：navigation

我想循环我的 NavigationService.RemoveBackEntry(); 命令，直到我到达我的后台堆栈中的特定页面（称为 MainPage）。如何通过删除之前堆栈中的所有元素来检查和调整是否已到达该页面。有时，要到达该页面，我需要循环`RemoveBackEntry();`两次或三次，直到到达该页面......等等。

第1步：我希望它首先检查后台堆栈中存在“MainPage”后面多少个地方......说'n'个地方。
第 2 步：然后我想运行`NavigationService.RemoveBackEntry()`n-1 次，这样我就可以在 MainPage 上结束。

帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T12:47:13.190

找到了解决办法！！

[如何在 Wp7.1 中删除 backstack 直到所需的页面名称](https://stackoverflow.com/questions/10294734/how-can-i-remove-backstack-till-the-required-pagename-in-wp7-1/10354820#10354820)

而 (NavigationService.CanGoBack)

{

```
if (NavigationService.BackStack.First().Source.OriginalString == "/C.xaml")
        {
            break;
        }
NavigationService.RemoveBackEntry(); 
```

}

这对我有用，它比我想要使用的方法更简单！

# ruby - 通过 Ruby/Rails rake 任务使用自定义字段解析 iCalendar

> ID：13486987
> 
> 赞同：1
> 
> 时间：2012-11-21T05:35:14.690
> 
> 标签：ruby, rake, icalendar, data-import

我有一个 rake 任务设置，它使用 iCalendar gem从[iCal 文件](http://www.trumba.com/calendars/smithsonian-events.ics)中导入事件。除标准 .ics 字段外，iCal 还包含几个自定义字段。是否也可以导入这些值？

iCal 文件中这样的行我可以毫无问题地处理：

```
DESCRIPTION:The lions and tigers are on exhibit. 
```

像这样的行会出现问题：

```
X-TRUMBA-CUSTOMFIELD;NAME="Event Location";ID=10831;TYPE=SingleLine:Lower Level\, 
across from the Stars and Stripes Cafe 
```

我将如何引用自定义“事件位置”字段？

这是我到目前为止的代码：

```
desc "Import events from Smithsonian"
task :smithsonian => :environment do
  url = "http://www.trumba.com/calendars/smithsonian-events.ics"
  cals = Icalendar.parse(open(url))
  cal = cals.first

  cal.events.each do |event|
    e = TempEvent.find_or_create_by_name(
          :name         => event.summary.to_s,
          :description  => event.description.to_s,
          :starts_at    => event.dtstart.to_s,
          :ends_at      => event.dtend.to_s,
          :tag_list     => event.categories,
          :url          => event.url,
          :facebook_url => "https://www.facebook.com/Smithsonian",
          :twitter_url  => "https://twitter.com/smithsonian",
          :venue_name   => "Smithsonian",
          :external_id  => event.uid.to_s,
          :source       => "Smithsonian iCal import",
          :published    => true)
  end
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T11:47:44.937

使用`icalendar`宝石。
假设有这种类型的属性

> 组织者;CN=abc:MAILTO:abc@gmail.com

访问参数值读取并解析 ical 文件。

`cal = Icalendar.parse(cal_file).first`

`event = cal.events.first`

现在，event.organizer 给了我一个 uri。

要访问 CN 值使用，

`event.organizer.ical_params["CN"][0]`

# rdlc - 如何在 rdlc 数据集中获取关联类属性

> ID：13486988
> 
> 赞同：1
> 
> 时间：2012-11-21T05:35:15.543
> 
> 标签：rdlc

我有一个班级名称**学生**和相关的**课程**班级。我的课看起来像

```
public int StudentId { get; set; }
public String FirstName { get; set; }
public String LastName { get; set; }
public String FatherName { get; set; }
public String MotherName { get; set; }
public String Country { get; set; }
private List<Course> _courseList = new List<Course>();
public List<Course> CourseList
    {
        get { return _courseList; }
        set { _courseList = value; }
    } 
```

如果我使用学生类作为 rdlc 报告数据集。它显示所有学生班级属性和课程班级列表。是否可以从 rdlc 报告设计列表中获取课程类属性...？

# java - 如何在 Java 中进行 FTP

> ID：13486990
> 
> 赞同：1
> 
> 时间：2012-11-21T05:35:22.113
> 
> 标签：java, apache, ftp, java-io

我正在尝试通过 FTPS 下载文件，结果文件始终为空。（我正在使用 org.apache.commons.net.ftp.FTPClient）

```
FTPSClient client = new FTPSClient( );
OutputStream outStream;

client.connect("ip");
client.login("user", "pass");

String remoteFile = "filePath";
outStream = new FileOutputStream( "destinationFile" );
client.retrieveFile(remoteFile, outStream);
outStream.flush(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T05:47:07.867

JSch Java 库是解决您问题的好选择

# javascript - 我可以在具有私有 IP 的嵌入式机器上使用 facebook javascript SDK 吗？

> ID：13486991
> 
> 赞同：2
> 
> 时间：2012-11-21T05:35:23.597
> 
> 标签：javascript, facebook, sdk, embedded, private

我在使用 Facebook Javascript SDK 时遇到了一些问题。

我想写一些html和javascript代码来上传照片到FB，

而这些代码是在我的机器上实现的，这台机器是嵌入式板子，

所以IP地址是私有IP。我不能在这个板上运行Apache，我不想

将我的 App Secret 留在源代码中。所以我认为使用 JS SDK 是一种可能的方式。

但是现在出现了一个严重的问题，在我的APP设置中，我不能使用IP地址作为APP域，也不能使用私有IP。

是否可以在带有私有 IP adderss 的嵌入式板上使用 Facebook Javascript SDK？

当我在我的 linux PC（也使用私有 IP）上运行这些代码时，调试消息显示我的域是非法的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T06:56:16.287

如果您有一些等效的主机文件，您可以执行此操作，您可以将与应用程序关联的域的某些子域指向私有 IP。

例如，如果与应用程序关联的域是`example.com`并且设备的 IP 是`1.2.3.4`，如果您以某种方式进行 DNS 查找以`example.com`解析`1.2.3.4`然后通过 访问该站点`example.com`，这将起作用。您还可以使用主域的任何子域。

# iphone - 如何在 iPhone 上的 MapView 中跟踪我朋友的位置

> ID：13486992
> 
> 赞同：1
> 
> 时间：2012-11-21T05:35:25.253
> 
> 标签：iphone, mkmapview

我是 iPhone 开发的新手。我正在使用类似 mapview 的应用程序，我的问题是如何在其中显示我的当前位置`mapView`以及如何允许我的朋友在 gps 开启时在他的 iPhone 地图视图中看到我的位置。如果有人有教程，分享链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T07:06:23.797

只需将您当前的位置发送到服务器，然后您的朋友就可以使用 webService 从服务器获取您的当前位置，然后他就可以在地图上显示。

# java - NoClassDefFoundError 在运行时与 ant

> ID：13486996
> 
> 赞同：1
> 
> 时间：2012-11-21T05:36:09.390
> 
> 标签：java, ant, configuration, noclassdeffounderror, build.xml

好吧，我正在尝试使用 Ant 配置项目，这就是我得到的：

```
 D:\Dropbox\EclipseWorkspace\PIRS\src\lib>dir
     Volume in drive D is WinMedia
     Volume Serial Number is 8ED9-B662

     Directory of D:\Dropbox\EclipseWorkspace\PIRS\src\lib

    2012.11.20  16:11    <DIR>          .
    2012.11.20  16:11    <DIR>          ..
    2012.10.16  22:03           315.805 commons-lang3-3.1.jar
    2012.10.23  23:08           176.897 commons-validator-1.4.0.jar
    2012.11.20  15:30    <DIR>          hibernate
    2012.11.16  04:48           253.160 junit-4.10.jar
    2012.10.22  02:02           489.883 log4j-1.2.17.jar
    2012.10.31  23:00         1.581.066 mockito-all-1.9.5.jar
    2012.11.02  19:54           651.643 mybatis-3.1.1.jar
    2012.11.01  04:37           832.960 mysql-connector-java-5.1.22-bin.jar
                   7 File(s)      4.301.414 bytes
                   3 Dir(s)   7.277.907.968 bytes free

    D:\Dropbox\EclipseWorkspace\PIRS\src\lib>cd ../..

    D:\Dropbox\EclipseWorkspace\PIRS>
    D:\Dropbox\EclipseWorkspace\PIRS>
    D:\Dropbox\EclipseWorkspace\PIRS>ant run
    Buildfile: D:\Dropbox\EclipseWorkspace\PIRS\build.xml

    init:

    compile:
        [javac] Compiling 1 source file to D:\Dropbox\EclipseWorkspace\PIRS\build

    jar:
          [jar] Building jar: D:\Dropbox\EclipseWorkspace\PIRS\dist
    \jar\PIRS.jar

    run:
         [java] Exception in thread "main" java.lang.NoClassDefFoundError: org/apach
    e/log4j/Logger
         [java]     at com.nortal.pirs.userinterface.fakestarter.FakeUserInterface.<
    init>(Unknown Source)
         [java]     at com.nortal.pirs.userinterface.fakestarter.FakeUserInterface.m
    ain(Unknown Source)
         [java] Caused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger

         [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
         [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
         [java]     at java.security.AccessController.doPrivileged(Native Method)
         [java]     at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
         [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
         [java]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)

         [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
         [java]     ... 2 more
         [java] Java Result: 1

    BUILD SUCCESSFUL
    Total time: 2 seconds

D:\Dropbox\EclipseWorkspace\PIRS> 
```

首先你可以看到我在文件夹 src/lib 中有 log4j，在第二部分你可以看到它在运行时没有找到。很奇怪，因为它编译得很好，它似乎无法在运行时找到它。

我的 build.xml ：

```
<?xml version="1.0" encoding="UTF-8"?>
<project name="PIRS" default="dist" basedir=".">
    <description>PIRS</description>
    <property name="src" location="src"/>
    <property name="build" location="build"/>
    <property name="dist" location="dist"/>
    <property name="lib.dir" location="src/lib"/>

    <path id="classpath">        
        <fileset dir="${lib.dir}" includes="**/*.jar"/>
        <fileset dir="${lib.dir}" includes="*.jar"/>
    </path>

    <target name="init">
        <mkdir dir="${build}"/>
    </target>

    <target name="compile" depends="init">
        <javac includeantruntime="false" srcdir="${src}" destdir="${build}">
        <classpath>
            <path refid="classpath"/>
        </classpath>
        </javac>
    </target>

    <target name="jar" depends="compile" description="generate the jar">
        <mkdir dir="${dist}/jar"/>
        <jar destfile="${dist}/jar/PIRS.jar" basedir="${build}">
            <manifest>
                <attribute name="Main-Class" value="com.nortal.pirs.userinterface.fakestarter.FakeUserInterface"/>
            </manifest>
        </jar>
   </target>

    <target name="clean" description="clean up" >
        <delete dir="${build}"/>
        <delete dir="${dist}"/>
    </target>

    <target name="run" depends="jar">
        <java jar="${dist}/jar/PIRS.jar" fork="true">
        <classpath refid="classpath"/>

        </java>
    </target>

</project> 
```

实际上这条线似乎没有改变任何东西。

嗯，有什么想法吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T08:19:20.893

您在这里遇到了一个常见问题：**当您使用`java -jar ...`命令运行某些内容时，该`-classpath ...`属性会被删除。**原因是安全性（可以对 Jar 文件进行数字签名以确保它们不会被修改，并且很容易`java`加载具有相同内容但具有劫持功能的不同依赖 Jar 文件）。

解决方案很简单：`Class-Path: ...`在您的文件中也包含该属性，`MANIFEST.MF`就像您对`Main-Class: ...`.

# c# - 具有命名空间时使用 xpath 从 XML 获取值

> ID：13486999
> 
> 赞同：3
> 
> 时间：2012-11-21T05:36:17.430
> 
> 标签：c#, xml, xpath, xmldocument

我是 xpath 匹配的新手。在这里，我有一个将 XML 包含为字符串的方法。我将其转换为 XmlDocument。

```
public static void getProjectDataInfo(string content) {

            XmlDocument doc = new XmlDocument();
            doc.LoadXml(content);
} 
```

这是我的 XML。它有 xmlns:my

```
<?xml version="1.0" encoding="UTF-8"?>
<my:myFields xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:my="http://schemas.microsoft.com/office/infopath/2003/myXSD/2012-02-03T16:54:46" xmlns:xd="http://schemas.microsoft.com/office/infopath/2003" xml:lang="en-us">
  <my:Financial>
      <my:Quote>
     <my:CHARGE_TYPE>MRC</my:CHARGE_TYPE>
     <my:Price>463.92</my:Price>
      </my:Quote>
  </my:Financial>
</my:myField> 
```

我只想获得

```
/my:myFields/my:Financial/my:Quote/my:Price 
```

但是我无法获取值，因此这个 XML 有 xmlns。

请帮我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-21T05:48:18.433

使用[XmlNamespaceManager](http://msdn.microsoft.com/en-us/library/system.xml.xmlnamespacemanager.aspx)

```
XmlNamespaceManager nsmgr = new XmlNamespaceManager(new NameTable());
nsmgr.AddNamespace("ns", "http://schemas.microsoft.com/office/infopath/2003/myXSD/2012-02-03T16:54:46");

var str = doc.XPathSelectElement("/root/ns:myFields/ns:Financial/ns:Quote/ns:Price", nsmgr)
            .ToString(SaveOptions.DisableFormatting);
Console.WriteLine(str); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T05:48:08.827

采用`LINQ2XML`

```
XElement doc=XElement.Parse(content);
XNamespace my="http://schemas.microsoft.com/office/infopath/2003/myXSD/2012-02-03T16:54:46";
var price=doc.Element(my+"myFields").Element(my+"Financial").Element(my+"Quote").Element(my+"Price").Value; 
```

* * *

**或者**[如果你想坚持那个**旧**的东西]

```
XmlNamespaceManager nsmgr = new XmlNamespaceManager(doc.OwnerDocument.NameTable);
nsmgr.AddNamespace("my", "http://schemas.microsoft.com/office/infopath/2003/myXSD/2012-02-03T16:54:46");
var priceNode = el.SelectNode(@"/my:myFields/my:Financial/my:Quote/my:Price", nsmgr); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T05:48:17.453

您需要告诉 XmlDocument`my`前缀绑定到什么。您使用 XmlNamespaceManager 来执行此操作。这是一个示例[http://support.microsoft.com/kb/316913](http://support.microsoft.com/kb/316913)。在你的情况下，你会这样做：

`xmlns.AddNamespace("my", "http://schemas.microsoft.com/office/infopath/2003/myXSD/2012-02-03T16:54:46")`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-01T08:53:14.290

对于 Infopath 表格 2013，它可能如下所示：

XmlNamespaceManager nsmgr = new XmlNamespaceManager(new NameTable()); nsmgr.AddNamespace（“我的”，“ [http://schemas.microsoft.com/office/infopath/2003/myXSD/2014-11-10T18:44:26](http://schemas.microsoft.com/office/infopath/2003/myXSD/2014-11-10T18:44:26) ”）；

XmlNode root = doc.DocumentElement;

XmlNode yourIDNode = root.SelectSingleNode("/my:myFields/my:YourID", nsmgr);

详细的“我的”命名空间定义，您可以从您的 infopath 表单提交的 xml 数据所在的 Share Point 文档库下载。下载其中一个保存的 infopath form xml 数据文件，然后用记事本打开它，然后您会在内容顶部找到它。