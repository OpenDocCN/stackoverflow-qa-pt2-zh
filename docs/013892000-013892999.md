# StackOverflow 问答 13892000-13892999

# batch-file - 从绝对路径中删除文件

> ID：13892002
> 
> 赞同：0
> 
> 时间：2012-12-15T12:04:34.893
> 
> 标签：batch-file, cmd, delete-file

我必须收集有关这两个目录（dir）的信息。第一个目录包含名称为 1.txt、3 txt、5.txt 的文件，第二个目录分别为 2.txt、4.txt、6.txt。并将输出重定向到另一个文件。文件的内容无关紧要。之后，我必须按字母顺序对文件进行排序。

接下来，我将获取前三个文件并通过绝对路径删除它们，这意味着从第一个目录中删除名为 1.txt 3.txt 的文件，从第二个目录中删除文件 2 。 文本。

我们不知道目录中的文件名。

谁能帮我？

```
@echo off
cd MainDirectory
dir /d folder1 folder2  > paths.txt
findstr /l "Diskname:" paths.txt > sorted.txt
del paths.txt
dir /b folder1 folder2 > paths.txt
findstr /l ".txt" paths.txt > minifiles.txt
del paths.txt

sort /+1 minifiles.txt > pathfiles.txt
del minifiles.txt

::next string give me just one absolute path. Last path. Path to the folder2
for /F "tokens=3 delims= " %%i in (sorted.txt) do @echo %%i > sortedFINAL.txt

::next string assigns the tmp a value : absolute path Diskname:\....\\...\folder2
For /F "Delims=" %%I In (sortedFINAL.txt) Do Set tmp=%%~I

echo %tmp%
pause 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:19:52.680

```
dir folder1 /b >>files.txt
dir folder2 /b >>files.txt
del folder1\1.txt /f /q
del folder1\3.txt /f /q
del folder2\2.txt /f /q 
```

如果您想了解有关目录的更多详细信息，可以从中删除`/b`开关。`dir`

# assembly - 汇编解释行

> ID：13892007
> 
> 赞同：-1
> 
> 时间：2012-12-15T12:05:41.707
> 
> 标签：assembly, tasm

有人可以解释这条线是什么意思，或者提供描述它的来源：

```
bufor times 400h DB 0 
```

我知道“bufor”是它的名字。什么是“时间”以及用于什么？

它与堆栈段不同，或者它是？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T12:13:44.737

“次”是一个重复命令的宏。您的行的意思是“点 Bufor 到 400h（或 1024）零字节数组”。这是示例： http: [//www.nasm.us/doc/nasmdoc3.html](http://www.nasm.us/doc/nasmdoc3.html)在 3.2.5 部分

# c# - 使用不同的外键指定一对多关系

> ID：13892010
> 
> 赞同：0
> 
> 时间：2012-12-15T12:06:28.853
> 
> 标签：c#, entity-framework, code-first

不确定标题是否足够好，但我将尝试解释我遇到的问题。作为记录，我对 Code-First 和 Fluent API 非常陌生，这是我在其中使用它们的第一个生产项目。

基本上，我要创建的网络应用程序是多语言的，我决定创建一个包含以下字段的表格（我添加了注释来解释我想要实现的目标）：

```
public class Content
{
    [Key]
    // Required Key.
    public int Id { get; set; }

    [Required]
    // Language (another class that stores culture and other culture specific info).
    public Language Language { get; set; }

    [Required]
    // Text for the current field.
    [Column(TypeName = "ntext")]
    public string Text { get; set; }

    [Required]
    // The field Id, this stores what field the text above relates to.
    // So if I have a field "Welcome", and the website has 5 languages, I'll have 5 entries with the same GUID
    // but with different text and different language.
    public virtual Guid FieldId { get; set; }
} 
```

我一直在尝试许多解决方案，但我没有设法创造出我想要的东西。我最近的一个是：

```
 [Key]
    public int Id { get; set; }

    [Required]
    [Key]
    public Guid TitleId { get; set; }
    [Required]
    [Column("TitleId")]
    public virtual ICollection<Content> Title { get; set; }

    [Required]
    public decimal Value { get; set; }

    [Required]
    [Key]
    public Guid DescriptionId { get; set; }
    [Required]
    public virtual ICollection<Content> Description { get; set; } 
```

这在上下文中（不确定是否有意义）：

```
modelBuilder.Entity<Winning>()
    .HasMany(x => x.Description)
    .WithRequired()
    .Map(x =>
    {
        x.MapKey("DescriptionId", "FieldId")
            .MapKey("TitleId", "FieldId");
    }); 
```

基本上我想要的是，当我通过该 GUID 加载上面的对象时，我得到一个相关文本的列表（最好只有一个，因为我会按文化过滤），表*Content*将被其他对象使用，所以一个外国*内容*中的关键不能解决我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:45:40.537

嗯..从哪里开始。:)

您不需要同时映射 Object 和 Object 的 ID。事实上 EF 不会喜欢这样的。

像这样的东西会给你你想要的代码优先映射：

~~[必填] [Key] public Guid DescriptionId { get; 放; }~~

```
[Required]
public virtual ICollection<Content> Description { get; set; } 
```

您尝试使用的流畅映射适用于多对多关系。如果代码先迁移不起作用，或者您想指定自己的列名或表名，您只需要指定流畅的映射。删除双重映射后，您可能不需要在 fluent 中指定任何特殊内容。代码首先会弄清楚列需要什么并为您创建它们（除非您正在使用现有数据库）。如果您发现仍然需要 fluent，请确保您使用的是正确的映射。

最后，我认为您无法使用映射解决您的问题。映射您的实体，以便将它们关联在一起。不确定您的第二个实体的名称是什么，但这里......

Winning 有一系列标题和说明？然后，当您在页面上显示此信息时，您只需要在控制器中使用一些代码/逻辑来决定您将根据应用程序的当前条件在视图中使用哪个标题和描述。也许你的控制器方法中有一些东西可以说明你需要什么语言等。

希望这能让你回到正确的轨道上。

# wpf - 如何通过单击将焦点设置到 WPF 数据网格的选定单元格？

> ID：13892012
> 
> 赞同：1
> 
> 时间：2012-12-15T12:06:36.337
> 
> 标签：wpf, wpfdatagrid

我正在使用 WPFDataGrid 控件，并希望`Cell`通过单击将键盘焦点设置为选中。默认用户必须双击单元格才能开始编写。我尝试过的代码是：

```
<Style TargetType="{x:Type DataGridCell}" x:Key="DataGridCellStyle">
   <Setter Property="IsTabStop" Value="True" />
   <Setter Property="Focusable" Value="True" />    
   <Style.Triggers>
      <Trigger Property="IsKeyboardFocusWithin" Value="True">
        <Setter Property="IsEditing" Value="True" />
      </Trigger>
   </Style.Triggers>
</Style> 
```

当我单击一个单元格时，它会到达`Editmode`，我需要再次单击以在此处设置键盘焦点并开始写作！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:38:12.273

我不确定这是否是一个不错的功能。您可能无法选择多个单元格。无论如何处理`OnCurrentCellChanged`事件

```
void DG1_OnCurrentCellChanged(object sender, SelectedCellsChangedEventArgs e)
{
    DataGrid dg=(Datagrid)sender;
    dg.BeginEdit();
} 
```

`BeginEdit()`导致 DataGridPreparingCellForEdit 事件发生，我认为您应该处理该事件：

```
private void dg_PreparingCellForEdit(object sender,  DataGridPreparingCellForEditEventArgs e)
{
TextBox tb = e.EditingElement as TextBox;
if (tb != null)
   {
       tb.Focus();
       //you can set caret position and ...
   }
} 
```

此外，您可以处理BeginningEdit 事件。

# c# - UITableView 单点触控级别

> ID：13892013
> 
> 赞同：1
> 
> 时间：2012-12-15T12:06:39.270
> 
> 标签：c#, uitableview, uinavigationcontroller, xamarin.ios

我有一个 UINavigationController，里面有一个 UITableView。TableView 有 3 个级别。

如何从第三级更改第一级列表中的项目？

# python - Appengine 上的条款更改

> ID：13892015
> 
> 赞同：0
> 
> 时间：2012-12-15T12:07:06.607
> 
> 标签：python, google-app-engine

我在我的电脑上运行一个 Python 应用程序，并将结果存储在 appengine 数据存储中以在我的网站中使用。

本地代码是：

```
def invia(utente, numero, tweet, link1, risorsa):
        params = urllib.urlencode({'utente': utente, 'numero': numero, 'tweet': tweet, 'link1': link1, 'risorsa': risorsa})
        headers = {"Content-type": "application/x-www-form-urlencoded","Accept": "text/plain"}
        conn = httplib.HTTPConnection("myapp.appspot.com")
        conn.request("POST", "", params, headers)
        response = conn.getresponse()
        print response.status, response.reason 
```

它运行良好，现在我接受了新条款，该应用程序不再运行，并且出现 405 错误。我该如何解决这个问题？它真的与新术语有关吗？

```
2012-12-15 03:29:58.770 / 405 49ms 0kb
000.000.00.000 - - [15/Dec/2012:03:29:58 -0800] "POST / HTTP/1.1" 405 124 - - ".....appspot.com" ms=50 cpu_ms=0 cpm_usd=0.000014 instance=...... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:25:38.323

我最近没有接受任何新条款。通常，该错误是发出 POST 请求的结果，并且`RequestHandler`服务器上的相关联未实现该`post()`方法。

如果您肯定没有更改任何内容，那么您可能每秒进行大量调用，而 App Engine 要么限制速率，要么完全拒绝它们，尽管在这种情况下我预计会出现 403。尝试 1 req/second 或将 'User-Agent' 标头设置为有意义的东西 - 许多应用程序不喜欢未识别的自动请求。

```
headers['User-Agent'] = 'your app name' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T09:46:07.987

好的，经过三天的工作，尝试了一个想法，我明白了。在 webapp.WSGIApplication() 中输入错误，因此应用程序将“POST”发送到没有任何 def post() 的类。我快疯了！

感谢 Rhuterford，因为我在晚上考虑他的帖子，因为帖子方法的缺席是最合乎逻辑的解决方案。奥卡姆剃刀法则！

# blackberry-10 - BlackBerry 10 Cascades 中的 ListView

> ID：13892018
> 
> 赞同：0
> 
> 时间：2012-12-15T12:07:29.243
> 
> 标签：blackberry-10

在 BB10 中创建列表视图时，我需要从 c++ 函数更新列表视图值。任何人都可以向我提出这方面的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T16:23:36.897

在黑莓 10 中创建 ListView 的方法很少，即使用**QML**、使用**C++**或使用**BOTH**。

请看看[这些例子](http://developer.blackberry.com/cascades/sampleapps/)。

在上面的链接中，他们提供了 1 个名为**Cascades Cookbook**的示例，该示例有两种版本，即 C++ 或 QML，因为他们使用了 ListView，其他示例也会对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:32:04.680

ListView 从 DataModel 对象获取数据以进行显示。更新数据的方法（逐项或批发）将由所使用的特定数据模型决定。您应该查看该模型的 API 文档。

# timer - Kendo UI 网格：每 60 秒用新数据刷新网格数据：dataSource 和 observe()

> ID：13892021
> 
> 赞同：2
> 
> 时间：2012-12-15T12:07:48.127
> 
> 标签：timer, kendo-ui, grid, kendo-grid

我想用最新的数据每 60 秒刷新一次 Kendo UI 网格的内容。

编辑：这是在初始配置时分配数据源的方式：

```
parsedData = $.parseJSON(data);

var dataSource = new kendo.data.DataSource({
    data: parsedData
});

$("#grid").kendoGrid({
    dataSource: dataSource, 
    . . . 
```

网格的数据源可以简单地一举重新分配吗？还是单独删除 dataSource.data 中的项目，或者通过清除数组，然后注入新项目或整个替换数组会更好？Kendo 数据源中观察模式的实现是否表明一种方法优于另一种方法？

我还没有开始做这个，但是根据我对网格的经验，可以追溯到早期的 Visual Basic，更改网格的数据源总是有不良的副作用，我没有理由期望这会更顺利航行。希望我是错的。

另一个编辑#（2013 年 4 月 26 日）：如果有一种方法可以使用一组具有与以前相同结构的新行来刷新网格的基础数据，那么*这种方法可以保留网格分组的展开/折叠状态*，这将非常适合我们的目的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T13:09:11.830

我们使用的是 Kendo 2012.3.1315.340 版本，对我们来说它是这样工作的：

```
$("#YourGridNameHere").data("kendoGrid").dataSource.read(); 
```

就像你告诉数据源再次**读取**数据一样。我们通常在 requestEnd 事件处理程序上执行此操作。

我希望这可以帮助别人。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-15T14:30:51.813

要更新网格的数据源，请使用[data](http://docs.kendoui.com/api/framework/datasource#data)方法：

```
$("#grid").data("kendoGrid").dataSource.data(parsedData); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-15T15:59:05.660

从您的示例代码来看，您`DataSource`使用的是本地数据，而不是获取远程数据？

如果它正在获取远程数据，您可以简单地调用：

```
$("#grid").data("kendoGrid").dataSource.sync(); 
```

如果您的网格不是只读的，它将从服务器重新获取，并执行任何未完成的更新或删除。

要刷新本地数据，您只需`.data`在 DaaSource 上设置属性：

```
$("#grid").data("kendoGrid").dataSource.data(parsedData); 
```

我面前没有一个可以尝试的工作示例，但是*如果*`dataSource.data()`您的网格行在调用该函数后没有刷新，那么您*可能*还需要在网格上调用刷新：

```
function updateGridData (parsedData) {
    var grid = $("#grid").data("kendoGrid");
    grid.dataSource.data(parsedData);
    grid.refresh();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T13:19:00.737

要更新网格，您需要处理数据源上的更改事件。

```
change: function() {
    var grid = $(YouGridSelector).data("kendoGrid");
    grid.refresh();
} 
```

当您更改数据源的数据时，这应该会更新您的网格。

# ios - 如何在 iOS 中添加过滤器以从录制的音频文件中去除噪音

> ID：13892023
> 
> 赞同：6
> 
> 时间：2012-12-15T12:08:25.467
> 
> 标签：ios, swift, iphone, audio, voice-recording

我正在制作一个 iPhone 应用程序来录制和播放人声，就像会*说话的汤姆*一样。一切正常，但我无法弄清楚如何消除录制的音频文件中的背景噪音？

我知道低通滤波是一种选择，但我不知道如何编码？谁能帮我实现一个低通滤波器或其他东西来消除iOS中录制的音频文件中的背景噪音。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:16:23.797

我不做 ios，但在[Accelerometer Low Pass Filtering](https://stackoverflow.com/questions/6942626/accelerometer-low-pass-filtering)有一个用于 iphone 加速度计的低通滤波器示例，您可以根据自己的使用进行调整。

基本上，时间 x 的过滤值 = 时间 x 的未过滤值 * alpha + 时间 x-1 的过滤值 * (1- alpha)

并且对于时间 0 的过滤值 = 时间 0 的未过滤值 * alpha （假设时间 -1 的未过滤值是 0）

您将需要使用反复试验来设置 alpha。也许 0.01 到 0.1 范围内的某个地方可能有用。

# php - PHP中的微小ORM问题

> ID：13892029
> 
> 赞同：0
> 
> 时间：2012-12-15T12:09:01.103
> 
> 标签：php, static

我正在尝试构建一个模型将扩展的微型 ORM 类，例如，如果我调用该方法`User::find(1)`，它将为我提供数据库中具有`id`of的“用户”模型`1`。

这是我的尝试：

```
class ORM
{
    private static $table, $database;

    function __construct() {
        self::getConnection();
    }

    private static function getConnection (){
        require_once('Database.php');
        error_log('Getting connection');
        self::$database = Database::getConnection(DB_PROVIDER, DB_HOST, DB_USER, DB_PASSWORD, DB_DB);
    }

    public static function find($id) {
        $obj = null;
        self::getConnection();
        $query = "SELECT * FROM ? WHERE id = ?";
        $results = self::$database->execute($query,null,array(self::$table,$id));
        print_r();
        if ($results){
            $obj = new self($results);
        }
        return $obj;
    }
} 
```

然后，以班级`User`为例。

```
include('ORM.php');
include('../../config.php');

class User extends ORM
{
    public $id, $name;
    private static $table = 'user';

    public function __construct($data){
        parent::__construct();
        if ($data && sizeof($data)) { $this->populateFromRow($data); }
    }

    public function populateFromRow($data){
        $this->id = isset($data['id']) ? intval($data['id']) : null;
        $this->name = isset($data['name']) ? $data['name'] : null;
    }
}

print_r(User::find(1)); 
```

我把那些包含和那个 print_r 只是为了测试，之后它不会保留在那里。

问题是该方法`find`似乎没有`$table`从类中读取，也没有读取任何内容。所以查询没有很好地执行，只返回一个错误。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:18:35.300

`self`将您的代码更改为`static`. 请注意，它仅适用于 php >= 5.3。[阅读有关后期静态绑定的更多信息](http://php.net/manual/en/language.oop5.late-static-bindings.php)

# javascript - javascript代码不起作用ie7 ie8

> ID：13892032
> 
> 赞同：0
> 
> 时间：2012-12-15T12:09:16.767
> 
> 标签：javascript

这是我的代码，它在 ie9 chrome firefox 上工作，但 ie7 和 ie8 不工作:(

html代码

```
<ul class="controls">  
<li style="font-size: 10px; font-weight: bold; left: 310px; position: absolute; text-transform: uppercase; top: -102px;">
<a id="pp" href="#" title="" onclick="playPause()"><img src="../css/play.png"></a>
</li>
</ul> 
```

javascript代码

```
var inter;
function playPause(){
if($('.controls li #pp').html() == '<img src="../css/play.png">'){
inter = setInterval(function() {
changeBannerImg(num,1);
}, 4600);
document.getElementById('pp').html = '<img src="../css/pause.png">';
}
else if($('.controls li #pp').html() == '<img src="../css/pause.png">'){
clearInterval(inter);
document.getElementById('pp').html = '<img src="../css/play.png">';
}   
}
function stopAni(){
clearInterval(inter);
document.getElementById('pp').html = '<img src="../css/play.png">';
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:22:19.877

这应该工作，

html

```
<ul class="controls">  
  <li style="font-size: 10px; font-weight: bold; left: 310px; position: absolute; text-transform: uppercase; top: -102px;">
    <a id="pp" href="#" title=""><img src="../css/play.png"></a>
  </li>
</ul> 
```

JS

```
$(function() {
    var img = $('.controls li #pp img');

    function playPause() {
        if (img.attr('src').match(/play\.png$/)) {
            inter = setInterval(function() {
                changeBannerImg(num, 1);
            }, 4600);
            img.attr('src', "../css/pause.png");
        } else if (img.attr('src').match(/pause.png$/)) {
            clearInterval(inter);
            img.attr('src', "../css/play.png");
        }
        return false;
    }

    function stopAni() {
        clearInterval(inter);
        img.attr('src', "../css/play.png");
    }
    img.parent().click(playPause);
//    other code here

});​ 
```

# android - 使用前置摄像头录制视频

> ID：13892041
> 
> 赞同：1
> 
> 时间：2012-12-15T12:10:00.613
> 
> 标签：android

当我在前置模式下打开相机并开始录制时出现错误。该应用程序崩溃了。

我的代码是这样的：

```
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;

import android.app.Activity;
import android.content.pm.ActivityInfo;
import android.graphics.PixelFormat;
import android.hardware.Camera;
import android.hardware.Camera.CameraInfo;
import android.media.CamcorderProfile;
import android.media.MediaRecorder;
import android.os.Bundle;
import android.util.Log;
import android.view.Surface;
import android.view.SurfaceHolder;
import android.view.SurfaceView;
import android.view.View;
import android.widget.Button;

public class MainActivity extends Activity implements SurfaceHolder.Callback{

     Camera camera;
     SurfaceView surfaceView;
     SurfaceHolder surfaceHolder;
     boolean previewing = false;
     MediaRecorder m_recorder;
     int MAX_TIME=5;
 String m_path;
 String stringPath = "/sdcard/samplevideo.3gp";
 MediaRecorder videoRecorder;
 Surface surface;
 MediaRecorder mrec;
     /** Called when the activity is first created.**/
       @Override
       public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);
   setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
   Button buttonStartCameraPreview = (Button)findViewById(R.id.startcamerapreview);
   Button buttonStopCameraPreview = (Button)findViewById(R.id.stopcamerapreview);

   getWindow().setFormat(PixelFormat.UNKNOWN);
   surfaceView = (SurfaceView)findViewById(R.id.surfaceview);
   surfaceHolder = surfaceView.getHolder();
   surfaceHolder.addCallback(this);
   surfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
   buttonStartCameraPreview.setOnClickListener(new Button.OnClickListener(){

   @Override
   public void onClick(View v)
   {
     if(!previewing){
     Camera.CameraInfo cameraInfo = new Camera.CameraInfo();

     for (int camNo = 0; camNo < Camera.getNumberOfCameras(); camNo++) {
         CameraInfo camInfo = new CameraInfo();
         Camera.getCameraInfo(camNo, camInfo);

         //Toast.makeText(MainActivity.this, camNo, Toast.LENGTH_LONG).show();
         if (camInfo.facing==(Camera.CameraInfo.CAMERA_FACING_FRONT)) {
             camera = Camera.open(1);
         }
      }
 try{          
     camera.setDisplayOrientation(90);
     camera.setPreviewDisplay(surfaceHolder);
    }catch (IOException e1) {
     // TODO Auto-generated catch block
     e1.printStackTrace();
    }
 if (camera != null){
   try
   {
   camera.setPreviewDisplay(surfaceHolder);
   camera.startPreview();
   previewing = true;

    } catch (IOException e) {
     // TODO Auto-generated catch block
   e.printStackTrace();
  }
 }

 System.out.println("before MediaRecorder");
      mrec = new MediaRecorder(); // Works well
     System.out.println("after MediaRecorder");
     camera.unlock();
     System.out.println("after Unlock");   
     mrec.setCamera(camera);
     System.out.println("setcamera"); 
     mrec.setPreviewDisplay(surfaceHolder.getSurface());
     System.out.println("setcamera1"); 
     mrec.setVideoSource(MediaRecorder.VideoSource.CAMERA);
     System.out.println("setcamera2"); 
     mrec.setAudioSource(MediaRecorder.AudioSource.MIC); 

     mrec.setProfile(CamcorderProfile.get(CamcorderProfile.QUALITY_HIGH));
     mrec.setPreviewDisplay(surfaceHolder.getSurface());

     mrec.setOutputFile("/sdcard/recordvideooutput.3gpp"); 

     try {
         System.out.println("before prepare"); 
        mrec.prepare();

        System.out.println("after prepare");
    } catch (IllegalStateException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
     //
}
   }});

 buttonStopCameraPreview.setOnClickListener(new Button.OnClickListener(){

   @Override
   public void onClick(View v) {
   try {
       camera.reconnect();
       camera.unlock();
} catch (Exception e) {
    // TODO: handle exception
}

   mrec.start();
// TODO Auto-generated method stub
/*if(camera != null && previewing){
 camera.stopPreview();
 camera.release();
 camera = null;

 previewing = false;
}*/
   }});

   }

 @Override
 public void surfaceChanged(SurfaceHolder holder, int format, int width,
   int height) {

 }

 @Override
 public void surfaceCreated(SurfaceHolder holder) {

 }

 @Override
 public void surfaceDestroyed(SurfaceHolder holder) {

 }
} 
```

请告诉我我哪里出错了。如果你为我提供用前置摄像头录制视频的完整代码，那么我会为我提供更多帮助。

先谢谢了。

# wordpress - Magento / Wordpress 集成 - wp 插件未显示

> ID：13892044
> 
> 赞同：2
> 
> 时间：2012-12-15T12:10:29.313
> 
> 标签：wordpress, magento, plugins

我的问题与这里的这篇文章有关（Fishpig 的 Wordpress）： [Full Magento / Wordpress integration](https://stackoverflow.com/questions/4018827/full-magento-wordpress-integration)

我已经安装了这个插件，几乎一切都运行良好。我一直在尝试在博客中运行 wordpress 插件，但这些都没有出现。安装过程没有问题。我是否需要采取任何进一步的步骤，或者通常是不可能的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:15:19.117

恐怕我的简短回答通常是不可能的。在完全集成模式下，您的 Wordpress 主题和插件将无法正常运行，因为整个事情都是通过 Magento 运行的。

多合一 SEO 将起作用，对它的支持已添加到 Magento 模块中。Fishpig 已经制作了几个额外的 Magento 模块，可以安装这些模块并将支持额外的 Wordpress 插件。确实，这是他们将投入其中的工作货币化的一种方式，所以我希望在路上会有更多。我有运行良好的下一代插件，我可以推荐它。还有一个 Pinterest 插件和高级自定义字段；

[http://fishpig.co.uk/wordpress-integration-pinterest-rss-widget.html](http://fishpig.co.uk/wordpress-integration-pinterest-rss-widget.html)

[http://fishpig.co.uk/wordpress-integration-advanced-custom-fields.html](http://fishpig.co.uk/wordpress-integration-advanced-custom-fields.html)

[http://fishpig.co.uk/wordpress-integration-nextgen-gallery.html](http://fishpig.co.uk/wordpress-integration-nextgen-gallery.html)

要拥有一个功能齐全的 Wordpress 站点，恐怕您必须将其设置为半集成模式并做一个匹配的 Wordpress 主题。

# javascript - 正则表达式匹配一个额外的空组

> ID：13892045
> 
> 赞同：4
> 
> 时间：2012-12-15T12:10:31.363
> 
> 标签：javascript, regex

我是正则表达式领域的新手。
我将在下面发布的所有内容都是我的代码中的简化示例。

我有一个字符串，假设`test_1,some_2,foo,bar_4,`我想替换为`title: test (1) title: some (2) title: foo () title: bar (4)`

我现在拥有的是（有效）：

```
var test = "test_1,some_2,foo,bar_4,";
console.log(test.replace(/(.*?)(?:_(\d))?,/g, "title: $1 ($2)\n")); 
```

输出：

```
title: test (1)
title: some (2)
title: foo ()
title: bar (4) 
```

为了使事情变得正确，我想摆脱最后一项后的昏迷。列表看起来像`test_1,some_2,foo,bar_4` **（bar_4 之后没有昏迷）**

所以新代码：

```
var test = "test_1,some_2,foo,bar_4";
console.log(test.replace(/(.*?)(?:_(\d))?(?:,|$)/g, "title: $1 ($2) ")); 
```

输出错误。最后有一个额外的空匹配：

```
title: test (1)
title: some (2)
title: foo ()
title: bar (4)
title:  () 
```

我的问题是：为什么？如何解决？实际的正则表达式是否有任何可能的改进？

**[演示 jsFiddle](http://jsfiddle.net/xPt3U/ "演示 jsFiddle")**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T13:37:58.803

您正在获得最后一个*误报*匹配，因为您的正则表达式匹配空字符串：

```
"".replace(/(.*?)(?:_(\d))?(?:,|$)/g, "title: '$1' ('$2') "); 
```

```
title: '' ('') 
```

因此，在您的情况下，在所有字符都被消耗后，它将匹配一个空字符串。

您可以通过将第一组更改为非可选来进行控制，考虑到它并不是真正的可选组，因为它显示。

```
/(.*?)(?:_(\d))?(?:,|$)/g
 --^^-- 
```

例如，

```
var str = "test_1,some_2,foo,bar_4";
test.replace(/([a-z]+)(?:_(\d))?(?:,|$)/gi, "title: '$1' ('$2') "); 
```

```
title: test (1) title: some (2) title: foo () title: bar (4) 
```

那是，

*   `([a-z]+)`：匹配*至少*一个字母字符，并且
*   `gi`: 使字符串不区分大小写。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T12:16:23.767

作为最简单的解决方案，您可以在匹配正则表达式之前将尾随逗号添加到原始字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-16T11:40:15.057

您的问题是您的模式不仅匹配您想要的内容，而且还匹配空字符串：

```
(.*?)  # matches any string (including an empty one) not containing \n
(?:_(\d))?  # it is an optional group
(?:,|$)  # it matches a comma or the end of the string 
```

因此，当您的正则表达式引擎根据您的模式评估字符串的结尾时，它会看到：

*   第一组匹配，因为正在处理一个空字符串
*   第二组匹配，因为它是可选的
*   第三组匹配，因为正在处理字符串的结尾

所以整个模式匹配，你得到一个额外的匹配。`match`使用strings的方法在控制台中可以看得很清楚

```
> s.match(/(.*?)(?:_(\d))?(?:,|$)/g)
  ["test_1,", "some_2,", "foo,", "bar_4", ""] 
```

您至少有两种解决问题的方法：

*   以与空字符串不匹配但仍符合您的需要的方式更改模式的第一组（这取决于您必须处理的字符串）
*   保持正则表达式不变，并通过`replace`删除不需要的部分来处理返回的字符串

第一个选择是优雅的。第二个可以通过额外的代码轻松实现：

```
> var result = s.replace(/(.*?)(?:_(\d))?(?:,|$)/g, "title: $1 ($2) ");
> result = result.slice(0, result.lastIndexOf("title"));
  "title: test (1) title: some (2) title: foo () title: bar (4) " 
```

# javascript - JQuery Append 只工作一次

> ID：13892046
> 
> 赞同：-1
> 
> 时间：2012-12-15T12:10:33.800
> 
> 标签：javascript, jquery

尝试在 Facebox 中加载自定义表单提交错误框，当测试一些代码时，我无法让 .append() 追加一次以上。如果两个示例错误都失败了，它只会加载附加并将一个加载到facebox，但如果一次失败一个，它将显示应该显示的正确错误，而不是同时显示两个..

抱歉，如果代码混乱/效率不高，javascript 不是我的强项。

```
 $('#signup').submit( function() {
 var fname = $("#fname").val();
 var lname = $("#lname").val();
 var uname = $("#username").val();
 var pass = $("#password").val();
 var passc = $("#passwordc").val();
 var email = $("#email").val();                   

 if(/^[a-zA-Z0-9_]*$/.test(uname) == false) {
           //alert('Usernames can be alphanumeric but may include an underscore.');
       $("#errorholder").append('<tr><td style="margin: 0;">Usernames can be alphanumeric but may include a underscore.</td></tr>');
 }
 else if(/^[a-zA-Z']*$/.test(fname) == false) {
      //alert('First name may not contain numbers or symbols.');
      $("#errorholder").append('<tr><td style="margin: 0;">First name may not contain numbers or symbols</td></tr>');
 }
 else if(/^[a-zA-Z']*$/.test(lname) == false) {
      //alert('Last name may not contain numbers or symbols.');
 }
 else if(!$("#fname").val()){
      //alert('First name required');
 }
 else if(!lname){
      //alert('Last name required');
 }
 else if(!uname){
      //alert('Userame required');
 }
 else if(pass!=passc){
      //alert('Passwords don\'t match');
 }
 else if(pass.length<5){
      //alert('Password must be at least 5 characters.');
 }
 else if(!email){
      //alert('Email required');
 }  
 else if (!$("input:radio[name='gender']:checked").val()) {
          // alert('Please select gender.');
 }
 jQuery.facebox({ div: '#piksplay' });
 return false;

  });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:14:31.657

您正在尝试测试多个条件，但您使用的是`else if`. 一旦您的代码找到一个`true`条件，它就不会测试任何其他内容，因此每次`append`只会触发一个条件。这些都需要单独`if`声明。

# visual-studio-2010 - 使插入鼠标光标在深色 Visual Studio 编辑器中可见

> ID：13892051
> 
> 赞同：83
> 
> 时间：2012-12-15T12:11:27.930
> 
> 标签：visual-studio-2010, visual-studio

我使用了一个背景很暗的颜色主题，效果很好，除了 VS2010 在鼠标悬停在编辑器窗格上时使用默认的插入点鼠标光标，并且该光标是黑色的 - 几乎看不到（如果背景实际上是黑色的，而不是非常暗）。

有没有一种简单的方法来告诉 VS2010 使用插入点鼠标光标的轻型版本呢？

到目前为止我尝试过的事情：

1.  我安装了[Visual Studio 颜色主题编辑器](http://visualstudiogallery.msdn.microsoft.com/20cd93a2-c435-4d00-a797-499f16402378/)（它可以对 UI 的其余部分进行主题化，而不仅仅是编辑器），希望如果我使用其中一个深色主题，它会自动执行此操作，但没有这样的运气。

2.  我尝试在控制面板中使用不同的鼠标指针，但即使在某些情况下光标发生了变化（例如，如果我选择了“非常大”的方案之一），它仍然是黑色的，几乎不可见。

* * *

## 回答 #1

> 赞同：159
> 
> 时间：2013-05-01T14:46:28.153

## 编辑：在 Windows 10 中，此设置位于不同的位置：

> 1.  打开设置
> 2.  单击个性化
> 3.  单击右侧栏中的主题
> 4.  单击鼠标光标
> 5.  选择名为–Windows Black（系统方案）的方案
> 6.  单击应用

* * *

## 原答案：

我在 VirtualBox 中运行的 Windows 7 来宾系统上的 Visual Studio 2012（深色主题）中遇到了同样的问题。

我找到了一个更好的解决方案：

基本上，您可以全局更改游标方案：

> 1.  打开控制面板
> 2.  开放的外观和个性化
> 3.  打开个性化
> 4.  最后 - 单击更改鼠标指针。
> 5.  选择名为–Windows Black（系统方案）的方案

使您的光标在深色背景下清晰可见，同时在浅色背景上也能很好地工作。希望有帮助！

信用： http: [//www.marcusoft.net/2011/08/my-mouse-pointer-disappeared-in-visual.html](http://www.marcusoft.net/2011/08/my-mouse-pointer-disappeared-in-visual.html)

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2012-12-15T12:24:31.810

我的临时解决方案是我在整个系统上使用自定义的“文本选择”光标，我通过找到一个不太离谱的光标来做到这一点，然后：

Windows 7 及更早版本：

1.  打开控制面板

2.  打开鼠标小程序

3.  选择指针选项卡

4.  在列表中选择“文本选择”

5.  单击浏览按钮并选择光标文件

视窗 8：

1.  单击开始按钮

2.  输入“鼠标点击”并等待

3.  选择“更改鼠标点击设置”——这会得到旧的鼠标属性对话框

4.  选择指针选项卡

5.  在列表中选择“文本选择”

6.  单击浏览按钮并选择光标文件

当然，这会在全局范围内更改光标，而不仅仅是在 VS2010 中，所以我必须使用一个既适用于浅色背景又适用于深色背景的光标（在我的情况下，目前，来自 deviantart 上的[DeepSky 设置](http://timerever.deviantart.com/art/DeepSky-for-Windows-XP-41350267)的那个 - 只有文本选择一，不是全套）。

* * *

## 回答 #3

> 赞同：29
> 
> 时间：2016-06-16T16:43:25.857

看来这仍然是 2021 年 Visual Studio 和 Windows 10 的问题（我每年都在更新这个......）。[使用 szalski](https://stackoverflow.com/a/16320355/)和TJ [Crowder 的](https://stackoverflow.com/a/13892146)解决方案，可以在**Windows 10**中进行更改：

1.  开始按钮
2.  输入“鼠标”
3.  从结果中选择“鼠标设置”
4.  在鼠标设置窗口中，单击“相关设置”下的“其他鼠标选项”
5.  在打开的新窗口中选择“指针”选项卡
6.  在列表中选择“文本选择”
7.  单击浏览按钮并选择所需的光标

[正如Brad Bamford](https://stackoverflow.com/questions/13892051/make-insertion-mouse-cursor-visible-in-dark-visual-studio-editor#comment31726644_13892146)所指出的，“beam_r”是一个不错的选择，因为它看起来与标准指针非常相似，但也有一个白色的轮廓。我终于可以在 Visual Studio 中看到光标了。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-09-25T14:18:38.637

您可以更改光标，这样您就不会在 Windows 中弄乱您想要的主题。

我制作了两个在 github 项目中可用的 I Beam：

[黑暗主题光束](https://github.com/rachmann/DarkThemeBeam)

如果需要，请使用它们。

我希望这比更改您想要工作的更大的所需主题更容易且对您的眼睛的侵入性更小。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2020-05-01T13:37:54.910

1.  按 Windows 按钮或单击开始菜单
2.  类型：鼠标
3.  选择：鼠标设置
4.  从鼠标设置窗口中选择：附加鼠标选项，从窗口右上角。
5.  选择：鼠标属性新窗口中的指针选项卡。
6.  现在选择：自定义级别下的文本选择。
7.  单击浏览按钮并选择您想要的光标。

它正在工作！

# python - Django url end href 错误：未找到带有参数 '('',)' 和关键字参数 '{}' 的 '' 的反向

> ID：13892055
> 
> 赞同：0
> 
> 时间：2012-12-15T12:12:40.067
> 
> 标签：python, django

作为 Django 的初学者，我无法生成指向编辑表单的正确链接。

如果您手动输入地址

> 本地主机：8000/编辑/1

从您的浏览器中，我收到一个用于编辑的表格。

视图.py

```
def edit(request, stat_id):
    stat = fms.objects.get(pk=stat_id)
    if request.method == 'POST':
        form = fmsForm(request.POST, instance=stat)
        if form.is_valid():
            form.save()
            return HttpResponseRedirect('/fmstat/') 
    else:
        form = fmsForm(instance=stat)

    return render(request, 'fmstat/edit.html', {'form': form,}) 
```

网址.py

```
url(r'^edit/(?P<stat_id>(\d+))', 'fmstat.views.edit'), 
```

模板中的链接：

```
<a href="{% url fmstat.views.edit %}">link</a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:28:15.947

你没有通过`stat_id`

```
{% url fmstat.views.edit stat_id=some_id %} 
```

这也是在 url 标签中使用 url 名称的好方法：

```
url(r'^edit/(?P<stat_id>(\d+))',
     'fmstat.views.edit', {},
      name='stat_edit'), 
```

然后：

```
{% url stat_edit stat_id=some_id %} 
```

# java - 奇怪的 java.lang.OutOfMemoryError -- 进程没有崩溃

> ID：13892064
> 
> 赞同：2
> 
> 时间：2012-12-15T12:13:57.920
> 
> 标签：java, out-of-memory

我看到一个奇怪的 java.lang.OutOfMemoryError 错误（下面的部分堆栈跟踪）。问题是java进程不会崩溃。我在日志中看到此错误，但该过程似乎停止但没有退出。

谢谢。

```
Exception in thread "main" java.lang.OutOfMemoryError: unable to create new native thread
at java.lang.Thread.start0(Native Method)
at java.lang.Thread.start(Thread.java:691)
at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:943)
at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1325)
at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:132)
at com.amazonaws.services.s3.transfer.internal.UploadMonitor.<init>(UploadMonitor.java:126)
at com.amazonaws.services.s3.transfer.TransferManager.upload(TransferManager.java:384)
at com.amazonaws.services.s3.transfer.TransferManager.upload(TransferManager.java:344)
at com.amazonaws.services.s3.transfer.TransferManager.upload(TransferManager.java:272) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T12:23:30.513

```
java.lang.OutOfMemoryError: unable to create new native thread 
```

这是因为无法从您的应用程序创建更多本机线程。

1.  检查您的应用程序正在生成的线程数。这很可能是罪魁祸首。
    您可以使用线程转储进行分析。

2.  然后检查您的堆栈大小。`Xss`参数会给你。尝试调整它。

在这里增加`Xmx`对你没有帮助。事实上，在 32 位 JVM 上，它会加剧这个问题。

您的进程没有停止的**原因**是因为 Uncaught Exceptions 仅终止它们自己的线程，而不是 Jan 在评论中提到的整个应用程序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-15T12:28:15.167

OutOfMemoryError 或任何与此相关的错误不会导致 JVM 崩溃。例如，如果您只有一个没有捕获错误的线程（无论如何都不是很有用），它可能会退出。如果 JVM 不退出，无论如何它都会处于不稳定状态，应该重新启动。

# ruby-on-rails - 在 Rails 的 sqlite db 中重置表中的 id 字段

> ID：13892065
> 
> 赞同：0
> 
> 时间：2012-12-15T12:14:24.747
> 
> 标签：ruby-on-rails, sqlite, activerecord

我在示例 Rails 应用程序中使用 sqlite db。从我的用户表中，我已使用`User.delete_all`. 但是现在每当我在表中插入一条新记录时`User.create`，id 的开始值比表中最后一条记录的 id 大一。例如，如果我的表有 5 条记录并且我清除了所有记录，那么当我执行 User.create 时，它​​从 id 6 开始。有什么办法可以让 id 再次从 1 开始？

谢谢你

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T12:28:24.403

类似的问题：[如何在 Rails 中重置单个表？](https://stackoverflow.com/questions/1921074/how-to-reset-a-single-table-in-rails). 我们可以在 rails 控制台运行以下命令，将 sqlite 表的 id 列重置为 1

```
ActiveRecord::Base.connection.execute("DELETE from sqlite_sequence where name = '<table_name>'") 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-15T12:27:07.083

您似乎为 id 列启用了自动增量。Sqlite 在名为 的内部表中处理这些值`sqlite_sequence`。您可以通过以下查询重置特定启用自动增量的表的 id：

```
UPDATE "sqlite_sequence" SET "seq" = 0 WHERE "name" = $YOURTABLENAME 
```

但是，这不是一个好主意，因为自动增量功能旨在以用户不影响其算法的方式使用。理想情况下，您不应关心 id 的实际值，而应仅将其视为记录的唯一标识符。

# sql - 找不到 SQL Server R2 2008 开发人员版的 Management Studio

> ID：13892067
> 
> 赞同：0
> 
> 时间：2012-12-15T12:14:50.027
> 
> 标签：sql, sql-server, sql-server-2008-r2

刚刚安装了 SQL Server 2008 R2 开发者版，所有的功能都安装了，但是管理你的数据库查询等的管理工作室没有安装：S

我安装了带有 Management Studio 的 SQL Server 2005，但是当我安装 2008 R2 开发人员版时，没有安装 Management Studio 之类的

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:19:14.373

在您的 SQL SERVER 2008 中，Management Studio 不包含在您的设置中。所以它没有安装。访问这个网站并得到它。并且还卸载 2005 management studio 或在安装时将其升级。

[http://www.microsoft.com/en-in/download/details.aspx?id=7593](http://www.microsoft.com/en-in/download/details.aspx?id=7593)

# iphone - 如何在 iOS 的 UITextView 中添加多个 uibutton

> ID：13892069
> 
> 赞同：-1
> 
> 时间：2012-12-15T12:15:05.947
> 
> 标签：iphone, objective-c, ios, uibutton, uitextview

`UIButton`在我的应用程序中，我喜欢在 a中添加多个`UITextView`，现在我`UIButton`使用单个对象添加，但我更改了任何`UIButton`它更改适用于 all `UIButton`，我如何解决它？

```
-(void)Check

{
    CGPoint origin = note.frame.origin;
    NSString* head = [note.text substringToIndex:note.selectedRange.location];
    CGSize initialSize = [head sizeWithFont:note.font constrainedToSize:note.contentSize];
    NSUInteger startOfLine = [head length];

    NSString* tail = [head substringFromIndex:startOfLine];
    CGSize lineSize = [tail sizeWithFont:note.font forWidth:note.contentSize.width lineBreakMode:UILineBreakModeWordWrap];
    CGPoint cursor = origin;
    cursor.x += lineSize.width+15;
    cursor.y += initialSize.height - lineSize.height-130;

    myButton=[UIButton buttonWithType:UIButtonTypeCustom];
    myButton.frame=CGRectMake(cursor.x, cursor.y, 15, 15);
    Chkimg = [UIImage imageNamed:@"unchk.png"];
    [myButton setBackgroundImage:Chkimg forState:UIControlStateNormal];
    [myButton addTarget:self action:@selector(ChcK) forControlEvents:UIControlEventTouchUpInside];
    [note addSubview:myButton];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:19:08.827

使用`button.tag`属性来区分您的所有按钮。

并且可以根据tagValue执行任务

```
if(button.tag==0)
{
//do somthing
}
else
{
//do other thing
} 
```

# php - 如何在 elfinder 文件管理器中执行自定义 sql 查询

> ID：13892071
> 
> 赞同：1
> 
> 时间：2012-12-15T12:15:34.030
> 
> 标签：php, web, file-manager

我在我的一个项目中使用 elfinder 文件管理器。我正在用 PHP 开发我的项目。我是使用这个文件管理器的新手。

现在，我想在文件上传时执行 SQL 查询，并希望分别跟踪每个用户上传的每个文件。所以我不知道如何定制这个东西。

例如，我是用户并且我已经注册。每个用户都有自己的帐户，他们可以在他/她的帐户中上传他们的文件。

现在，假设我是用户并在我的帐户中上传 1 张图片。所以当我上传我的文件时。我想在我的数据库表中插入带有 user_id 的文件名、大小和所有其他详细信息。所以我可以管理每个用户上传文件的跟踪。

请任何人都可以在这里帮助我吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:41:52.317

如果我没看错你想知道如何将上传的文件数据存储在数据库中那么你必须阅读关于[文件上传功能的php 手册](http://php.net/manual/en/features.file-upload.php)

另一方面，您只需要探索[$_FILES](http://php.net/manual/en/reserved.variables.files.php)数组，因为它包含上传文件的所有详细信息

# c++ - 较大矩阵的子矩阵之和

> ID：13892074
> 
> 赞同：2
> 
> 时间：2012-12-15T12:15:56.087
> 
> 标签：c++, c, matrix, submatrix

我有一个大矩阵作为输入，我有一个较小矩阵的大小。我必须计算所有可能的较小矩阵的总和，这些矩阵可以由较大的矩阵形成。

例子。输入矩阵大小：4×4

矩阵：

```
1 2 3 4
5 6 7 8
9 9 0 0
0 0 9 9 
```

输入较小的矩阵大小：3×3（不一定是正方形）

可能的更小的矩阵：

```
1 2 3
5 6 7
9 9 0

5 6 7
9 9 0
0 0 9

2 3 4
6 7 8
9 0 0

6 7 8
9 0 0
0 9 9 
```

他们的总和，最终输出

```
14 18 22
29 22 15
18 18 18 
```

我这样做了：

```
int** matrix_sum(int **M, int n, int r, int c)
{
    int **res = new int*[r];
    for(int i=0 ; i<r ; i++) {
        res[i] = new int[c];
        memset(res[i], 0, sizeof(int)*c);
    }

    for(int i=0 ; i<=n-r ; i++)
    for(int j=0 ; j<=n-c ; j++)
    for(int k=i ; k<i+r ; k++)
    for(int l=j ; l<j+c ; l++)
    res[k-i][l-j] += M[k][l];

    return res;
} 
```

我想这太慢了，有人可以建议一个更快的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-16T01:56:37.510

您当前的算法是 O((m - p) * (n - q) * p * q)。最坏的情况是当 p = m / 2 和 q = n / 2 时。

我将要描述的算法将是 O(m * n + p * q)，无论 p 和 q 如何，它都是 O(m * n)。

该算法包括 2 个步骤。

设输入矩阵 A 的大小`m x n`为 ，*窗口*矩阵的大小为`p x q`。

首先，您将创建一个与输入矩阵大小相同的预计算矩阵 B。预计算矩阵 B 的每个元素包含子矩阵中所有元素的总和，其左上元素在原始矩阵的坐标 (1, 1) 处，右下元素与我们正在计算的元素。

```
B[i, j] = Sum[k = 1..i, l = 1..j]( A[k, l] ) for all 1 <= i <= m, 1 <= j <= n 
```

这可以在 O(m * n) 中完成，通过使用此关系计算 O(1) 中的每个元素：

```
B[i, j] = B[i - 1, j] + Sum[k = 1..j-1]( A[i, k] ) + A[j] for all 2 <= i <= m, 1 <= j <= n 
```

`B[i - 1, j]`，这是我们正在计算的子矩阵的所有内容，除了当前行之外，之前已经计算过了。您保留当前行的前缀总和，以便您可以使用它来快速计算当前行的总和。

`B[i, j]`这是使用 2D 前缀和的属性在 O(1)中计算的另一种方法：

```
B[i, j] = B[i - 1, j] + B[i, j - 1] - B[i - 1, j - 1] + A[j] for all 1 <= i <= m, 1 <= j <= n and invalid entry = 0 
```

然后，第二步是计算大小为 的结果矩阵`p x q`S。如果您进行一些观察，S[i, j] 是矩阵大小 (m - p + 1) * (n - q + 1) 中所有元素的总和，其左上角坐标为 (i, j) 并且右下角是 (i + m - p + 1, j + n - q + 1)。

使用预先计算的矩阵 B，您可以计算 O(1) 中任何子矩阵的总和。应用它来计算结果矩阵 S：

```
SubMatrixSum(top-left = (x1, y1), bottom-right = (x2, y2))
     = B[x2, y2] - B[x1 - 1, y2] - B[x2, y1 - 1] + B[x1 - 1, y1 - 1] 
```

因此，第二步的复杂度将是 O(p * q)。

最终的复杂度如上所述，O(m * n)，因为 p <= m 和 q <= n。

# mysql - 插入语句上的 mysqli sub_query

> ID：13892080
> 
> 赞同：0
> 
> 时间：2012-12-15T12:16:28.787
> 
> 标签：mysql, insert, subquery

我有一个 mysql 语句，它将数据插入数据库并在所选表中生成一个自动递增的值：

```
$query2="INSERT INTO instructions_db
    (job_id, acc_no, ins, user_id, date)
    VALUES
    ('$job_id', '$account', '$instructions', '$user_id', NOW())"; 
```

我需要做的是在插入数据后立即提取自动递增的值并返回它。由于 $job_id、$account_no 和可能的 $instructions 可能会重复（机会很小，但机会仍然存在）我认为在 select 语句中使用这些作为参数是不明智的。唯一的其他选择是在插入查询之前生成时间戳，而不是使用 'NOW()' 函数，但这似乎有点笨拙。

是否可以使用子查询提取 key_id 列中设置的 auto_incremented 值？我不确定这里的语法 - 还是有更好的方法？

# jquery - 关闭 wamp 中的缓存查询

> ID：13892090
> 
> 赞同：0
> 
> 时间：2012-12-15T12:17:31.957
> 
> 标签：jquery, mysql, caching

我正在使用 wamp 服务器，我想关闭查询缓存。

我在mysql中找不到任何conf文件。

我尝试将 query_cache_type = OFF 放在 my.ini 中，但没有区别。

如何关闭缓存？我想测试我的网站速度....

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:32:15.700

在 mysql 终端中执行以下命令

设置全局 query_cache_size = 0;

[在mysql 文档](http://dev.mysql.com/doc/refman/5.0/en/query-cache-configuration.html)中查看更多详细信息。

# installation - 我已经安装了 WxWidgets，但是 PgAdmin 看不到它

> ID：13892091
> 
> 赞同：0
> 
> 时间：2012-12-15T12:17:36.837
> 
> 标签：installation, wxwidgets, pgadmin

有一个类似的问题（在这里或在一些相关的 SE 网站上），但我没有找到，所以我问了一个新问题（如果你找到了，如果它们太相似，请发送链接并投票关闭这个问题）。

我已经完成了 WxWidgets 的安装（配置；make；make install），但是在安装 PgAdmin III 1.16 时，make 控制台无法识别 WxWidgets 已安装。我发现在这种情况下缺少 Unicode 可能是个问题，但我启用了 Unicode。我还应该做什么？

我有 32 位 Windows XP 和 WxWidgets 2.9.4。包括 PostgreSQL 9.1.3 一切正常。

编辑：我尝试了另一种方式 - 通过 Visual Studio 和 Visual C++。我不知道我的问题是相同的还是相似的，但是 Visual Studio 报告了这个错误：

```
error C1083: Cannot open include file: 'wx/wxprec.h': No such file or directory 
```

其次是 100 个其他错误，这些错误似乎是这个错误的结论（主要是名称以“wx”开头的未定义类型/函数）。我在标题中添加了分号（如[这里](http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvc/thread/313ddfa0-80cb-4abc-8f08-9004e9b15b59)所建议的那样- “所有回复”之后的第四个条目），但它没有帮助。我还尝试在 WxWidgets 中添加“include”和“lib”目录以包含每个项目的路径，但这里没有乐趣。

有人知道如何解决吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T22:27:26.337

您需要将 pgAdmin 指向 Windows 下的 wxWidgets 安装。它的构建指令应该解释如何做到这一点，但您必须设置包含路径（`-I`编译器选项）和库路径（`-L`链接器选项）才能正确编译和链接。

请注意，对于包含路径，您必须首先放置包含`wx/setup.h`在构建期间通过 configure 生成的文件的目录，然后放置包含所有其余 wx 标头的目录。

此外，这可能是不言而喻的，但是您必须使用相同的编译器来构建 wxWidgets 和 pgAdmin，因此如果您使用 configure+make 构建 wx，则不能将 MSVC 用于 pgAdmin。

# ruby-on-rails - 如何验证字符串的第一个字符不是整数？

> ID：13892092
> 
> 赞同：2
> 
> 时间：2012-12-15T12:17:57.110
> 
> 标签：ruby-on-rails, ruby, regex, ruby-on-rails-3, validation

我正在使用 Ruby on Rails 3.2.9，我想验证名称的第一个字符 (a `String`)*不是*数字 ( `Integer`)。我正在尝试使用以下代码：

```
class User < ActiveRecord::Base
  validates_each :name do |record, attr, value|
    record.errors.add(attr, 'cannot begin with a number') if ... # the first char is a number
  end
end 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-15T12:33:24.570

```
record.errors.add(attr, 'cannot begin with a number') if value =~ /^[0-9].*/ 
```

这将匹配任何第一个字符是数字的字符串

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-15T16:04:05.960

查看答案，有一系列不同的测试方法。有些让我想知道他们是否会神奇地更快，所以，像往常一样，我做了一个基准测试：

```
require 'benchmark'

puts "Ruby = #{ RUBY_VERSION }"
str = 'foobar'

puts 'correct result should be false...'
puts !!( str =~ /^\d/                           )
puts !!( str =~ /\A\d/                          )
puts !!( str =~ /^[0-9].*/                      )
puts !!( str.split('').first.to_i.is_a?(Fixnum) )
puts !!( (48..57).include?(str[0])              )

puts !!( ('0'..'9') === str[0]                  )
puts !!( str[/^\d/]                             )
puts !!( str[/\A\d/]                            )
puts !!( str[/\A[0-9]/]                         )
puts !!( str =~ /\A[0-9]/                       )

puts

n = 1_000_000

puts "n = 1_000_000"
puts "str = 'foobar'"
Benchmark::bm(17) do |b|
  b.report('^\d regex')         { n.times { str =~ /^\d/                           } }
  b.report('\A\d regex')        { n.times { str =~ /\A\d/                          } }
  b.report('^[0-9].* regex')    { n.times { str =~ /^[0-9].*/                      } }
  b.report('start_with?')       { n.times { str.start_with?(*('0'..'9'))           } }
  b.report("split('')")         { n.times { str.split('').first.to_i.is_a?(Fixnum) } }
  b.report("(48..57).include?") { n.times { (48..57).include?(str[0])              } }

  b.report('range')           { n.times { ('0'..'9') === str[0] } }
  b.report('str[/^\d/]')      { n.times { str[/^\d/]            } }
  b.report('str[/\A\d/]')     { n.times { str[/\A\d/]           } }
  b.report('str[\A[0-9]')     { n.times { str[/\A[0-9]/]        } }
  b.report('\A[0-9] regex')   { n.times { str =~ /\A[0-9]/      } }
end

puts

str = 'foobar' * 1000
puts "str = 'foobar' * 1000"
Benchmark::bm(17) do |b|
  b.report('^\d regex')         { n.times { str =~ /^\d/                 } }
  b.report('\A\d regex')        { n.times { str =~ /\A\d/                } }
  b.report('^[0-9].* regex')    { n.times { str =~ /^[0-9].*/            } }
  b.report('start_with?')       { n.times { str.start_with?(*('0'..'9')) } }
  b.report("(48..57).include?") { n.times { (48..57).include?(str[0])    } }

  b.report('range')           { n.times { ('0'..'9') === str[0] } }
  b.report('str[/^\d/]')      { n.times { str[/^\d/]            } }
  b.report('str[/\A\d/]')     { n.times { str[/\A\d/]           } }
  b.report('str[\A[0-9]')     { n.times { str[/\A[0-9]/]        } }
  b.report('\A[0-9] regex')   { n.times { str =~ /\A[0-9]/      } }
end 
```

测试结果：

```
Ruby = 1.9.3
correct result should be false...
false
false
false
true
false
false
false
false
false
false 
```

基准测试结果：

```
n = 1_000_000
str = 'foobar'
                        user     system      total        real
^\d regex           0.590000   0.000000   0.590000 (  0.593534)
\A\d regex          0.560000   0.000000   0.560000 (  0.556304)
^[0-9].* regex      0.580000   0.000000   0.580000 (  0.577662)
start_with?         4.020000   0.000000   4.020000 (  4.025604)
split('')           6.850000   0.000000   6.850000 (  6.872157)
(48..57).include?  17.260000   0.780000  18.040000 ( 18.038887)
range               1.260000   0.000000   1.260000 (  1.258191)
str[/^\d/]          0.680000   0.000000   0.680000 (  0.680291)
str[/\A\d/]         0.660000   0.000000   0.660000 (  0.663305)
str[\A[0-9]         0.670000   0.000000   0.670000 (  0.670242)
\A[0-9] regex       0.570000   0.000000   0.570000 (  0.574152) 
```

为了测试是否比长字符串`\A`更快`^`并查看长字符串会产生什么影响，我增加了字符串大小。 `"split('')"`被拉出，因为它在 60 多秒后没有完成：

```
str = 'foobar' * 1000
                        user     system      total        real
^\d regex          15.010000   0.000000  15.010000 ( 15.020488)
\A\d regex          0.540000   0.010000   0.550000 (  0.539736)
^[0-9].* regex     15.000000   0.000000  15.000000 ( 15.011137)
start_with?         4.010000   0.000000   4.010000 (  4.010340)
(48..57).include?  17.320000   0.770000  18.090000 ( 18.124795)
range               1.250000   0.000000   1.250000 (  1.255724)
str[/^\d/]         15.120000   0.010000  15.130000 ( 15.142242)
str[/\A\d/]         0.650000   0.000000   0.650000 (  0.656198)
str[\A[0-9]         0.650000   0.000000   0.650000 (  0.652306)
\A[0-9] regex       0.550000   0.000000   0.550000 (  0.544415) 
```

* * *

我用 1.8.7 重新测试：

```
Ruby = 1.8.7
correct result should be false...
false
false
false
true
false
false
false
false
false
false

n = 1_000_000
str = 'foobar'
                       user     system      total        real
^\d regex          0.570000   0.000000   0.570000 (  0.565397)
\A\d regex         0.550000   0.000000   0.550000 (  0.552270)
^[0-9].* regex     0.570000   0.000000   0.570000 (  0.574705)
start_with?       38.180000   0.070000  38.250000 ( 39.864171)
split('')          9.750000   0.040000   9.790000 ( 11.025962)
(48..57).include?  0.580000   0.000000   0.580000 (  0.917499)
range              2.420000   0.020000   2.440000 (  3.170774)
str[/^\d/]         0.700000   0.000000   0.700000 (  0.760180)
str[/\A\d/]        0.680000   0.000000   0.680000 (  0.762636)
str[\A[0-9]        0.660000   0.010000   0.670000 (  0.795043)
\A[0-9] regex      0.600000   0.000000   0.600000 (  0.684566)

str = 'foobar' * 1000
                       user     system      total        real
^\d regex          7.900000   0.040000   7.940000 ( 10.735175)
\A\d regex         0.600000   0.010000   0.610000 (  0.784001)
^[0-9].* regex     7.850000   0.020000   7.870000 (  8.251673)
(48..57).include?  0.580000   0.000000   0.580000 (  0.683730)
range              2.380000   0.020000   2.400000 (  2.738234)
str[/^\d/]         7.930000   0.010000   7.940000 (  8.227906)
str[/\A\d/]        0.670000   0.000000   0.670000 (  0.682169)
str[\A[0-9]        0.680000   0.000000   0.680000 (  0.697340)
\A[0-9] regex      0.580000   0.000000   0.580000 (  0.645136) 
```

* * *

你们自己讨论。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-15T15:13:54.733

刚刚发现你可以喷出一个范围：

```
"1hello".start_with?(*('0'..'9')) #=> true 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T16:06:49.617

您可以通过数组访问获取字符串的第一个字符并比较 ascii 值：

```
1.8.7 :008 > (48..57).include?("5ssdfsdf"[0])
 => true 
1.8.7 :009 > (48..57).include?("ssdfsdf"[0])
 => false 
1.8.7 :010 > (48..57).include?("0sdfsdf"[0])
 => true 
1.8.7 :011 > (48..57).include?("9sdfsdf"[0])
 => true 
```

# oop - OOP 和设计实践：访问成员对象的功能？

> ID：13892095
> 
> 赞同：1
> 
> 时间：2012-12-15T12:18:12.203
> 
> 标签：oop, language-agnostic, delegates, composition

我一直在使用 C++ 做一个小项目（尽管这个问题可能被认为与语言无关）并且我正在尝试编写我的程序，以便它尽可能高效和封装。我是一名自学成才且缺乏经验的程序员，但在使用接口和 OOP 实践时，我正在尝试教自己养成良好的习惯。在访问充当另一个类的子系统的对象的方法时，我主要对典型的“最佳”实践感兴趣。

首先，让我解释一下我的意思：

一个实例`ClassGame`想要`ClassRenderer`使用`ClassEngine`. `ClassGame`只能访问 的接口`ClassEngine`，并且`ClassRenderer`应该是 ClassEngine 的子系统（在抽象层之后）。

我的问题是基于 ClassGame 对象可以间接利用 ClassRenderer 的功能，同时仍然保持*快速*并在抽象层后面的方式。从我在课程和其他人的代码示例中看到的内容来看，似乎有两种基本方法：

1.  我通过一系列关于 OOP 设计的在线讲座学到的第一种方法是让一个类在内部将任务委托给它的私有成员对象。[在这个例子中，ClassGame 会调用一个属于 ClassEngine 的方法，而 ClassEngine 会通过调用其中一个方法“秘密地”将该请求传递给它的 ClassRenderer 子系统。] 一种函数调用的“菊花链”。这对我来说很有意义，但似乎它可能比一些替代选项慢。

2.  我在其他人的代码中看到的另一种方法是使用访问器方法，该方法返回指向特定子系统位置的引用或指针。[因此，ClassGame 将调用 ClassEngine 中的一个简单方法，该方法将返回一个指向构成其 ClassRenderer 子系统的对象的引用/指针]。这条路线对我来说似乎很方便，但它似乎也消除了让私有成员充当更大类的子组件的意义。当然，这也意味着编写更少的“无意识”函数来简单地传递特定任务，因为您可以简单地为每个独立的子系统编写一个 getter 函数。

考虑到面向对象设计的各个重要方面（抽象、封装、模块化、可用性、可扩展性等），同时还要考虑速度和性能，将任务委托给子组件是使用第一种方法还是第二种方法更好?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T12:31:26.237

*Design Patterns Explained*一书在其关于桥接模式的章节中讨论了一个非常相似的问题。[显然这一章可以在线免费获得](http://www.informit.com/articles/article.aspx?p=1398603)。

我建议你阅读它:)

我认为您的 type-1 方法最类似于 OOP 桥接模式。

类型 2，将句柄返回到内部数据是通常应该避免的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:20:22.280

有很多方法可以做你想做的事，这真的取决于上下文（例如，项目有多大，你希望在其他项目中重用多少等）

你有三个类：游戏、引擎和渲染器。您的两个解决方案都使游戏提交到引擎的界面。第二种解决方案还使游戏提交到渲染器的界面。显然，您使用的接口越多，如果接口发生变化，您就越需要更改。

第三个选项怎么样：游戏知道它在渲染方面需要什么，因此您可以创建一个描述这些要求的抽象类。那将是游戏提交的唯一界面。我们称这个接口为 AbstractGameRenderer。

要将其与系统的其余部分联系起来，还有很多方法。一种选择是： 1\. 使用现有的 Renderer 类实现这个抽象接口。所以我们有一个使用 Renderer 并实现 AbstractGameRenderer 接口的 GameRenderer 类。2\. 引擎创建 Game 对象和 GameRenderer 对象。3\. 引擎将 GameRenderer 对象传递给 Game 对象（使用指向 AbstractGameRenderer 的指针）。

结果：游戏可以使用渲染器来做它想做的事。它不知道它来自哪里，它是如何渲染的，谁拥有它——什么都没有。GameRenderer 是一个特定的实现，但其他实现（使用其他渲染器）可以稍后编写。引擎“无所不知”（但这可能是可以接受的）。

稍后，您想将您的游戏逻辑用作另一个游戏中的迷你游戏。您需要做的就是创建适当的 GameRenderer（实现 AbstractGameRenderer）并将其传递给 Game 对象。Game 对象并不关心它是不同的游戏、不同的引擎和不同的渲染器——它甚至不知道。

关键是设计问题有很多解决方案。此建议可能不合适或不可接受，或者可能正是您所需要的。我尝试遵循的原则是： 1\. 尽量不要提交您无法控制的界面（如果它们发生变化，您将不得不更改） 2\. 现在尝试防止以后会出现的痛苦

在我的示例中，假设如果 Renderer 发生更改，则更改 GameRenderer 比更改诸如 Game 之类的大型组件更容易。但最好坚持原则（并尽量减少痛苦）而不是盲目地遵循模式。

# ravendb - 在代码中创建新数据库，RavenDB

> ID：13892099
> 
> 赞同：4
> 
> 时间：2012-12-15T12:18:53.740
> 
> 标签：ravendb

我正在运行 RavenDB.Client 2.0.2173-Unstable。我正在创建一个多租户系统，作为注册过程的一部分，我想创建一个新的 Raven 数据库。

我有三行简单的代码..

```
 string newDBName = "1234";
  IDocumentStore documentStore = new DocumentStore { Url = "http://myserver:8080",    DefaultDatabase = newDbName};
  documentStore.Initialize();
  documentStore.DatabaseCommands.EnsureDatabaseExists(newDBName); 
```

根据建议，我也试过这个：

```
 string newDBName = "1234";
  IDocumentStore documentStore = new DocumentStore { Url = "http://myserver:8080"};
  documentStore.Initialize();
  documentStore.DatabaseCommands.EnsureDatabaseExists(newDBName); 
```

我在最后一行得到一个 InvalidOperationException，Raven 告诉我它不知道该怎么做。

```
<h1>Could not figure out what to do</h1>

        <p>Your request didn't match anything that Raven knows to do, sorry...</p> 
```

我知道我的连接/服务器工作正常，因为我能够从默认数据库读取/写入。

是权限问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-16T03:37:25.407

您不能从已有的数据库创建数据库。将 DefaultDatabase 字段留空，以便连接到 RavenDB 系统数据库。然后，您应该能够创建新的租户数据库。

您还应该确保在打开会话、创建索引和使用数据库命令时传递租户数据库名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-03-11T22:34:22.403

在 Ravendb v4 中，您可以使用*[CreateDatabaseOperation](https://ravendb.net/docs/article-page/4.0/csharp/client-api/operations/server-wide/create-database)*在服务器上创建一个新数据库。

```
store.Maintenance.Server.Send(
         new CreateDatabaseOperation(new DatabaseRecord("MyNewDatabase"))); 
```

# c - malloc，自由和变量的重新定义

> ID：13892100
> 
> 赞同：1
> 
> 时间：2012-12-15T12:18:56.793
> 
> 标签：c, malloc, free, redefinition

我正在尝试使用一个变量并在函数使用它之后将其删除。Basicacly我doint str1 + str2，在函数中使用它然后释放内存。我以为我把一切都搞定了，但我的代码向我抛出了警告和错误：

1.  错误：重新定义“命令”。
2.  警告：函数“malloc”的隐式声明 [-Wimplicit-function-declaration]
3.  警告：内置函数“malloc”的不兼容隐式声明 [默认启用]
4.  警告：函数“免费”的隐式声明 [-Wimplicit-function-declaration]
5.  警告：内置函数'free'的不兼容隐式声明[默认启用]

这是前面提到的代码：

```
// Step 1
char* commande = (char*) malloc(len1 + len2 + 1);
strcpy(commande, str1);
strcat(commande, str2);
function(commande);
free(commande);
// Step 2
char* commande = (char*) malloc(len3 + len4 + 1);
strcpy(commande, str3);
strcat(commande, str4);
function(commande);
free(commande); 
```

我究竟做错了什么？

编辑：我更正了 len2 中的错字。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:23:31.317

声明如

```
char* commande = (char*) malloc(len3 + len4 + 1); 
```

是一个变量*声明*。它说编译器：我希望命令成为一个字符的指针。您只能在函数中声明一次变量，因为重新声明变量没有任何意义。

关于不兼容的隐式定义的错误来自您没有告诉编译器有什么类型的事实`malloc`。为此，您必须包含一个包含所有必要声明的*头文件。*将以下行放在文件顶部：

```
#include <stdlib.h> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:24:18.993

确保你已经包含并且不需要在第 2 行之后声明指针命令。

# java - 读取文件输入；nextLine() 不起作用

> ID：13892104
> 
> 赞同：2
> 
> 时间：2012-12-15T12:19:16.743
> 
> 标签：java

这是我的 portefeuille 应该包含所有读取“woningen”

```
//read file
  public static Portefeuille read(String infile) {
    Portefeuille result = new Portefeuille();
    FileReader fileString;

    try{
       fileString = new FileReader(infile);
       Scanner sc = new Scanner(fileString);

       int amount = sc.nextInt();
       for(int i = 0; i < amount; i++)
          result.voegToe(readWoning.read(sc));
       }
       catch(FileNotFoundException e) {
         e.printStackTrace();
       }
       return result;
  } 
```

这使用 readWoning.read(sc) 这是：

```
public class readWoning {
    public static Woning read(Scanner ac) {
        String toestand = ac.next();
        Adres adres = Adres.read(ac);
        int kamers = ac.nextInt();

        ac.next(); String aard = ac.next();

        int price = ac.nextInt();
        System.out.println(toestand + " " + adres + " " + kamers + " " + price);
        if("huurprijs".equals(aard)) {
          return new HuurWoning(adres,kamers,price,toestand);
        }
        return new KoopWoning(adres,kamers,price,toestand);
      }
} 
```

这使用 Adres.read(ac); 这是：

```
public static Adres read(Scanner sc) {
        sc.nextLine();
        String street = sc.next();
        String number = sc.next();
        String code = sc.next();
        String place = sc.next();
        return new Adres(street, number, code, place);
    } 
```

我要读入的文件是：

```
3
TE KOOP:
Emmalaan 23
3051JC Rotterdam
7 kamers
vraagprijs 300000
VERKOCHT:
Emmalaan 25
3051JC Rotterdam
5 kamers
koopprijs 280000
TE HUUR:
Javastraat 88
4078KB Eindhoven
3 kamers
huurprijs 500 
```

其中第一个数字表示文件中描述了多少个 woningen。第一行显示了中奖发生的“toestand”（状态），可能是：（已售、已租等）。第 2 行和第 3 行表示中奖地址。第 4 行表示中奖内的房间数量 最后一行表示中奖的价格。

现在我的问题是：

由于 toestand，我无法让 Java 正确读取我的文件：“TE KOOP：”我在 readWoning 中使用了 String toestand = ac.nextLine() 但它只输出一些空格，而 String toestand = ac.next(); 仅输出“TE”如果我的问题不够具体，请告诉我。

我得到的输出：

```
TE Emmalaan 23, 3051JC Rotterdam 7 300000
VERKOCHT: Emmalaan 25, 3051JC Rotterdam 5 280000
TE Javastraat 88, 4078KB Eindhoven 3 500
null
null
null 
```

我想要的输出：

```
TE KOOP: Emmalaan 23, 3051JC Rotterdam 7 300000
VERKOCHT: Emmalaan 25, 3051JC Rotterdam 5 280000
TE HUUR: Javastraat 88, 4078KB Eindhoven 3 500 
```

提前致谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:39:38.193

如果您使用：

```
ac.nextLine();
String toestand = ac.nextLine(); 
```

那么 toestand 应该包含`TE KOOP:`. `read`然后跳过下一行并开始查找`street`at `3051JC`。`sc.nextLine();`从以下位置删除`read`：

```
public static Adres read(Scanner sc) {
    String street = sc.next();
    String number = sc.next();
    String code = sc.next();
    String place = sc.next();
    return new Adres(street, number, code, place);
} 
```

你应该得到：

```
TE KOOP: Emmalaan 23, 3051JC Rotterdam 7 300000
VERKOCHT: Emmalaan 25, 3051JC Rotterdam 5 280000
TE HUUR: Javastraat 88, 4078KB Eindhoven 3 500 
```

# ruby-on-rails - 无法验证无表类中的唯一性

> ID：13892107
> 
> 赞同：4
> 
> 时间：2012-12-15T12:19:42.200
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, validation

我有以下代码：

```
class Foo
  include ActiveModel::Validations
  include ActiveModel::Conversion
  extend ActiveModel::Naming

  attr_accessor :name
  validates :name, uniqueness: true
end 
```

但是，在测试我收到的唯一性验证时：

```
/Users/neil/.rvm/gems/ruby-1.9.3-p286@config-keeper/gems/activemodel-3.2.9/lib/active_model/validations/validates.rb:96:in `rescue in block in validates': Unknown validator: 'UniquenessValidator' (ArgumentError)
    from /Users/neil/.rvm/gems/ruby-1.9.3-p286@config-keeper/gems/activemodel-3.2.9/lib/active_model/validations/validates.rb:93:in `block in validates'
    from /Users/neil/.rvm/gems/ruby-1.9.3-p286@config-keeper/gems/activemodel-3.2.9/lib/active_model/validations/validates.rb:90:in `each'
    from /Users/neil/.rvm/gems/ruby-1.9.3-p286@config-keeper/gems/activemodel-3.2.9/lib/active_model/validations/validates.rb:90:in `validates'
    from /Users/neil/code/open_source/config_keeper/app/models/foo.rb:8:in `<class:App>' 
```

这似乎有些奇怪。关于什么可能是错的任何想法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-15T13:06:17.913

您可以利用 ruby​​ 的对象空间来执行以下操作：

```
class Foo
  include ActiveModel::Validations
  include ActiveModel::Conversion
  extend ActiveModel::Naming

  attr_accessor :name
  validate do
    if self.name && ObjectSpace.each_object(self.class).select{|o| o.name == self.name }.size > 1
         errors.add(:name,"not unique") 
    end
  end
end

a = Foo.new
b = Foo.new
a.valid? #=> true because of if self.name
a.name = "bar"
a.valid? #=> true because of .size > 1
b.name = "bar"
a.valid? #=> false
b.valid? #=> false 
```

这基本上遍历了每个匹配（或者是其子类）的*生物*`Foo`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T12:48:22.107

接口：

```
validates_uniqueness_of :name 
```

更新：

```
validate do
  #uniqueness code
end 
```

# wordpress - 从concrete5迁移到wordpress

> ID：13892110
> 
> 赞同：1
> 
> 时间：2012-12-15T12:20:12.670
> 
> 标签：wordpress, plugins, converter, concrete5

我需要将一个concrete5 站点转换为一个WordPress 站点。

我在两边都找不到任何插件。通过提要 ex-/import 可能有解决方案，但它不支持所有内容和图像。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-17T17:06:42.820

我不知道有任何预打包的解决方案。如果没有太多页面（低于 50 或 100），最好的办法是手动完成 - 如果您是一名开发人员，并且工资不低，请雇用一天的临时工。但是，如果有成百上千的页面，那么您将想要提出自己的自动化解决方案。您可以通过仪表板的“备份站点”功能（不是“备份数据库”功能）获得某种 XML 表示的站点内容。或者查看 Concrete5 中的“起点”概念——市场上有一个免费插件，可以让您以另一种 XML 格式导出站点内容。

然后查看 wordpress 导入器，并弄清楚如何将 C5 输出 XML 转换为您的 wordpress 导入器所需的任何格式。

祝你好运。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-01-30T12:19:28.733

***[WordPress插件](https://uk.wordpress.org/plugins/cms2cms-concrete5-to-wp-migration/)***目录中有一个用于自动迁移的插件。它支持迁移帖子、附件（图像和视频）、内容图像和其他内容列表，因此它可能会回答您的请求。

该过程的快速指南包括以下步骤 -

1.  您在 WP 网站上安装插件
2.  在服务中创建帐户
3.  下载 bridge 文件夹并通过 FTP 连接到您的 concrete5 网站
4.  选择要迁移的实体
5.  尝试演示迁移（最多迁移 10 个帖子）
6.  如果你喜欢它，你可以尝试完全迁移（它不是免费的）

您可以参考***[此](https://cms2cms.com/blog/migrating-concrete5-wordpress-full-length-guidance/)***以获取更多信息，并且此服务也出现在***[WordPress Codex 中。](https://codex.wordpress.org/Importing_Content)***

希望能帮助到你。

# python - 给定 python 中的 URL，我如何检查 URL 是否有 RSS 提要？

> ID：13892113
> 
> 赞同：0
> 
> 时间：2012-12-15T12:20:34.350
> 
> 标签：python, rss

我试图找到一种方法来检测给定的 URL 是否具有 RSS 提要。有什么建议么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-15T12:24:42.777

每个 RSS 都有一些格式。

1.  查看`Content-Type`服务器为给定 URL 返回的内容。但是，这可能不是特定的，并且服务器可能不一定返回正确的标头。
2.  尝试解析 URL 的内容`RSS`并查看它是否成功 - 这可能是给定 URL 是`RSS`提要的唯一明确证据。

# vb.net - 您如何导航 XML？

> ID：13892116
> 
> 赞同：1
> 
> 时间：2012-12-15T12:20:40.350
> 
> 标签：vb.net, xpath, xml-parsing

在此 XML 中导航时苦苦挣扎。我似乎无法定义正确的 xPath。我是 XML 新手，可以通过在子节点中移动来导航，但不能直接导航到节点。这是我用来尝试读取 XML 的代码：

```
fs As FileStream = New FileStream(xmlFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite)
xmlDoc.Load(fs)
Dim nodeName As String = "//map/Layer"
'Try and navigate to the Map Layer.
Dim tnodeToRetrieve = xmlDoc.DocumentElement.SelectNodes(nodeName) 
```

这是我正在尝试阅读的 XML：

```
<map:Map xmlns="java:com.raytheon.atc.chi.graphics.geom2d" 
 xmlns:map="java:com.raytheon.atc.chi.adt.map" 
 unit="m" lat="41.975953650" lon="-87.903248430" alt="78.33">
    <!--ASDE-X DP map for facility:ord Created 10/20/2009 2:22:31 PM-->
    <map:Layer isVisible="true">
        <map:Line type="Runway"></map:Line>
        <map:Region type="Runway">
            <Surface operation="union">
                <Polygon>
                    <Point x="1618.87" y="-742.10"></Point>
                    <Point x="1617.71" y="-742.11"></Point>
                    <Point x="1459.74" y="-742.52"></Point>
                    <Point x="1058.11" y="-743.35"></Point>
                    <Point x="1058.11" y="-743.35"></Point>
                    <Point x="996.84" y="-743.28"></Point>
                    <Point x="752.91" y="-744.21"></Point>
                    <Point x="689.86" y="-744.13"></Point>
                    <Point x="584.80" y="-744.42"></Point>
                    <Point x="484.89" y="-744.59"></Point>
                    <Point x="443.15" y="-744.69"></Point>
                    <Point x="331.33" y="-744.92"></Point>
                    <Point x="200.05" y="-745.00"></Point>
                    <Point x="122.49" y="-745.09"></Point>
                    <Point x="-10.78" y="-745.60"></Point>
                    <Point x="-311.43" y="-745.98"></Point>
                    <Point x="-459.40" y="-746.47"></Point>
                    <Point x="-421.28" y="-791.45"></Point>
                    <Point x="-239.66" y="-791.03"></Point>
                    <Point x="-149.83" y="-791.02"></Point>
                    <Point x="128.25" y="-790.53"></Point>
                    <Point x="192.65" y="-790.23"></Point>
                    <Point x="484.35" y="-789.69"></Point>
                    <Point x="506.50" y="-789.65"></Point>
                    <Point x="526.45" y="-789.65"></Point>
                    <Point x="546.57" y="-789.56"></Point>
                    <Point x="689.71" y="-789.30"></Point>
                    <Point x="759.52" y="-789.17"></Point>
                    <Point x="993.69" y="-788.87"></Point>
                    <Point x="1063.68" y="-788.69"></Point>
                    <Point x="1459.89" y="-787.87"></Point>
                    <Point x="1545.93" y="-787.66"></Point>
                    <Point x="1618.73" y="-787.11"></Point>
                </Polygon>
                <Polygon>
                    <Point x="589.58" y="2384.47"></Point>
                    <Point x="554.74" y="2412.44"></Point>
                    <Point x="382.81" y="2204.74"></Point>
                    <Point x="365.25" y="2183.32"></Point>
                    <Point x="260.02" y="2055.88"></Point>
                    <Point x="249.17" y="2042.69"></Point>
                    <Point x="224.60" y="2012.83"></Point>
                    <Point x="211.32" y="1996.69"></Point>
                    <Point x="16.82" y="1760.35"></Point>
                    <Point x="46.31" y="1725.16"></Point>
                    <Point x="214.95" y="1929.82"></Point>
                    <Point x="258.69" y="1982.84"></Point>
                    <Point x="388.78" y="2140.72"></Point>
                    <Point x="413.20" y="2170.36"></Point>
                    <Point x="555.91" y="2343.46"></Point>
                    <Point x="587.13" y="2381.17"></Point>
                    <Point x="589.58" y="2384.47"></Point>
                </Polygon>
                <Polygon>
                    <Point x="16.82" y="1760.35"></Point>
                    <Point x="-12.71" y="1724.78"></Point>
                    <Point x="17.03" y="1689.53"></Point>
                    <Point x="46.31" y="1725.16"></Point>
                    <Point x="16.82" y="1760.35"></Point>
                </Polygon>
                <Polygon>
                    <Point x="16.82" y="1760.35"></Point>
                    <Point x="-425.19" y="2287.55"></Point>
                    <Point x="-461.48" y="2330.71"></Point>
                    <Point x="-588.61" y="2481.95"></Point>
                    <Point x="-599.14" y="2472.97"></Point>
                    <Point x="-612.67" y="2461.55"></Point>
                    <Point x="-623.31" y="2452.62"></Point>
                    <Point x="-515.90" y="2324.65"></Point>
                    <Point x="-467.85" y="2267.21"></Point>
                    <Point x="-406.86" y="2194.77"></Point>
                    <Point x="-331.08" y="2104.45"></Point>
                    <Point x="-237.56" y="1993.12"></Point>
                    <Point x="-122.79" y="1856.07"></Point>
                    <Point x="-12.71" y="1724.78"></Point>
                    <Point x="16.82" y="1760.35"></Point>
                </Polygon>
            </Surface>
        </map:Region>
    </map:Layer>
</map:Map> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:52:10.343

实际上有不止一个命名空间。因此，虽然添加`"java:com.raytheon.atc.chi.adt.map"`命名空间将允许您选择图层和区域，但为了同时选择多边形和点，您需要为两者添加命名空间解析器。这是一个例子：

```
Imports System
Imports System.Xml
Imports System.Xml.XPath
Imports System.Linq
Imports System.Xml.Linq

Module Module1

    Dim s As XDocument =
<?xml version="1.0" encoding="UTF-8"?>
<map:Map xmlns="java:com.raytheon.atc.chi.graphics.geom2d" xmlns:map="java:com.raytheon.atc.chi.adt.map" unit="m" lat="41.975953650" lon="-87.903248430" alt="78.33"><!--ASDE-X DP map for facility:ord Created 10/20/2009 2:22:31 PM-->
    <map:Layer isVisible="true"><map:Line type="Runway"></map:Line>
        <map:Region type="Runway"><Surface operation="union">
            <Polygon><Point x="1618.87" y="-742.10"></Point>
                <Point x="1459.74" y="-742.52"></Point>
                <Point x="1058.11" y="-743.35"></Point>
            </Polygon>
            <Polygon><Point x="16.82" y="1760.35"></Point>
                <Point x="46.31" y="1725.16"></Point>
                <Point x="16.82" y="1760.35"></Point>
            </Polygon>
            <Polygon><Point x="16.82" y="1760.35"></Point>
                <Point x="16.82" y="1760.35"></Point>
            </Polygon>
            </Surface>
        </map:Region>
    </map:Layer>
</map:Map>
    Sub Main()

        Dim ns As New XmlNamespaceManager(New NameTable())

        ns.AddNamespace("x", "java:com.raytheon.atc.chi.graphics.geom2d")
        ns.AddNamespace("m", "java:com.raytheon.atc.chi.adt.map")

        Console.WriteLine("Layers:")
        Dim elements = s.XPathSelectElements("//m:*//m:Layer", ns)
        For Each element As XElement In elements
            Console.WriteLine(element.Name)
        Next
        Console.WriteLine("Polygons:")
        elements = s.XPathSelectElements("//m:*//m:Region/x:Surface/x:Polygon", ns)
        For Each element As XElement In elements
            Console.WriteLine(element.Name)
        Next
        Console.WriteLine("Points:")
        elements = s.XPathSelectElements("//m:*//m:Region/x:Surface/x:Polygon/x:Point", ns)
        For Each element As XElement In elements
            Console.WriteLine(element.Name)
        Next
        Console.ReadKey()

    End Sub

End Module 
```

这将输出：

```
Layers:
{java:com.raytheon.atc.chi.adt.map}Layer
Polygons:
{java:com.raytheon.atc.chi.graphics.geom2d}Polygon
{java:com.raytheon.atc.chi.graphics.geom2d}Polygon
{java:com.raytheon.atc.chi.graphics.geom2d}Polygon
Points:
{java:com.raytheon.atc.chi.graphics.geom2d}Point
{java:com.raytheon.atc.chi.graphics.geom2d}Point
{java:com.raytheon.atc.chi.graphics.geom2d}Point
{java:com.raytheon.atc.chi.graphics.geom2d}Point
{java:com.raytheon.atc.chi.graphics.geom2d}Point
{java:com.raytheon.atc.chi.graphics.geom2d}Point
{java:com.raytheon.atc.chi.graphics.geom2d}Point
{java:com.raytheon.atc.chi.graphics.geom2d}Point 
```

或者，您可以选择使用 [local-name()="Name-Without-Namspace"]。但上面更干净。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:03:20.653

您需要指定命名空间。没有`Map`元素，只有一个`map:Map`元素。要定义命名空间，您必须创建一个命名空间管理器，如下所示：

```
fs As FileStream = New FileStream(xmlFile, FileMode.Open, FileAccess.Read, FileShare.ReadWrite)
xmlDoc.Load(fs)
Dim nm As New XmlNamespaceManager(xmlDoc.NameTable)
nm.AddNamespace("map", "java:com.raytheon.atc.chi.adt.map")
Dim nodeName As String = "//map:Map/map:Layer"
Dim tnodeToRetrieve = xmlDoc.DocumentElement.SelectNodes(nodeName, nm) 
```

# css - 无序列表中的css颜色继承，包括类名

> ID：13892120
> 
> 赞同：0
> 
> 时间：2012-12-15T12:20:58.720
> 
> 标签：css, inheritance, colors, html-lists

我想知道您是否可以帮助使用下面的代码，我知道颜色样式是继承的，但由于某种原因我没有得到预期的结果。例如，查看以“类别 5”开头的列表显示为蓝色，而子类别 ef 显示为绿色。我已将样式设置为“new_list”，应该为蓝色是正确的，但这**不会将列表继承**到子类别 EH 中的其他 ul 项目。干杯

```
<style>
.new_list   {color:blue;}

.all_list   {color:red;}

ul      {color:green;}
</style>

<ul class='all_list'>
    <li>Category1
        <ul class='sub_list'>
            <li>SubCategoryA</li>
            <li>SubCategoryB</li>
            <li>SubCategoryC</li>
            <li>SubCategoryD</li>
        </ul>
    </li>
    <li>Category2</li>
    <li>Category3</li>
    <li>Category4</li>

</ul>

<ul class='new_list'>
    <li>Category5
        <ul>
            <li>SubCategoryE</li>
            <li>SubCategoryF</li>
            <li>SubCategoryG</li>
            <li>SubCategoryH</li>
        </ul>
    </li>
    <li>Category6</li>
    <li>Category7</li>
    <li>Category8</li>

</ul> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:59:56.810

您有适用于同一元素的相互矛盾的规则：

你定义`ul:green`和`.new_list:blue`。在主 UL 类的情况下。`new_list`类规则优先于元素规则，因为它更具体。对于没有类的子 UL，*情况并非如此*`.new_list`，因此一般`ul:green`定义优先于默认继承的颜色，并且本身通过继承传递给 LI 子级。

换句话说：继承是一个隐式默认值，它被任何显式规则覆盖

# javascript - 谷歌地图在选定城市打开

> ID：13892122
> 
> 赞同：2
> 
> 时间：2012-12-15T12:21:13.533
> 
> 标签：javascript, html

我有[这张](http://jsfiddle.net/gZK2g/3/)我正在制作的地图，它在旧金山开放。我想将其更改为在我选择的国家/地区的指定城镇开放。（即英国伦敦或西班牙哈维亚）我网站的每个页面上的位置都发生了变化，并且“城镇和国家”从数据库中插入到页面中。

```
Example: {$listing_city} = Town {$listing_country} = Country 
```

不需要顶部的搜索框，因为我想显示该地区的当地餐馆、酒吧和医生。但是，搜索框可以留下我只想在相应的城镇打开地图。

我是新手，想知道是否有人可以提供帮助。

提前致谢

马尔

```
 <!DOCTYPE html>
<html>
  <head>
    <title>Google Developers</title>
    <link rel="stylesheet" type="text/css" href="/_static/css/screen.css" />
    <link rel="stylesheet" href="//www.google.com/cse/style/look/default.css" type="text/css" />
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300,400' rel='stylesheet' type='text/css'>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
    <script id="jqueryui" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.10/jquery-ui.min.js" defer async></script>
    <script src="//www.google.com/jsapi?key=AIzaSyCrlr1LScCevQ1epeHArLVww0eHlB6o1wg"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="docs framebox_body">
          <script type="text/javascript" src="//maps.googleapis.com/maps/api/js?sensor=false&libraries=places"></script>
          <script type="text/javascript">
          var map, places, iw;
          var markers = [];
          var autocomplete;

          function initialize() {
            var myLatlng = new google.maps.LatLng(37.783259, -122.402708);
            var myOptions = {
              zoom: 12,
              center: myLatlng,
              mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
            places = new google.maps.places.PlacesService(map);
            google.maps.event.addListener(map, 'tilesloaded', tilesLoaded);
            autocomplete = new google.maps.places.Autocomplete(document.getElementById('autocomplete'));
            google.maps.event.addListener(autocomplete, 'place_changed', function() {
              showSelectedPlace();
            });
          }

          function tilesLoaded() {
            google.maps.event.clearListeners(map, 'tilesloaded');
            google.maps.event.addListener(map, 'zoom_changed', search);
            google.maps.event.addListener(map, 'dragend', search);
            search();
          }

          function showSelectedPlace() {
            clearResults();
            clearMarkers();
            var place = autocomplete.getPlace();
            map.panTo(place.geometry.location);
            markers[0] = new google.maps.Marker({
              position: place.geometry.location,
              map: map
            });
            iw = new google.maps.InfoWindow({
              content: getIWContent(place)
            });
            iw.open(map, markers[0]);
          }

          function search() {
            var type;
            for (var i = 0; i < document.controls.type.length; i++) {
              if (document.controls.type[i].checked) {
                type = document.controls.type[i].value;
              }
            }

            autocomplete.setBounds(map.getBounds());

            var search = {
              bounds: map.getBounds()
            };

            if (type != 'establishment') {
              search.types = [type];
            }

            places.search(search, function(results, status) {
              if (status == google.maps.places.PlacesServiceStatus.OK) {
                clearResults();
                clearMarkers();
                for (var i = 0; i < results.length; i++) {
                  markers[i] = new google.maps.Marker({
                    position: results[i].geometry.location,
                    animation: google.maps.Animation.DROP
                  });
                  google.maps.event.addListener(markers[i], 'click', getDetails(results[i], i));
                  setTimeout(dropMarker(i), i * 100);
                  addResult(results[i], i);
                }
              }
            });
          }

          function clearMarkers() {
            for (var i = 0; i < markers.length; i++) {
              if (markers[i]) {
                markers[i].setMap(null);
                markers[i] == null;
              }
            }
          }

          function dropMarker(i) {
            return function() {
              markers[i].setMap(map);
            }
          }

          function addResult(result, i) {
            var results = document.getElementById('results');
            var tr = document.createElement('tr');
            tr.style.backgroundColor = (i% 2 == 0 ? '#F0F0F0' : '#FFFFFF');
            tr.onclick = function() {
              google.maps.event.trigger(markers[i], 'click');
            };

            var iconTd = document.createElement('td');
            var nameTd = document.createElement('td');
            var icon = document.createElement('img');
            icon.src = result.icon.replace('http:', '');
            icon.setAttribute('class', 'placeIcon');
            var name = document.createTextNode(result.name);
            iconTd.appendChild(icon);
            nameTd.appendChild(name);
            tr.appendChild(iconTd);
            tr.appendChild(nameTd);
            results.appendChild(tr);
          }

          function clearResults() {
            var results = document.getElementById('results');
            while (results.childNodes[0]) {
              results.removeChild(results.childNodes[0]);
            }
          }

          function getDetails(result, i) {
            return function() {
              places.getDetails({
                reference: result.reference
              }, showInfoWindow(i));
            }
          }

          function showInfoWindow(i) {
            return function(place, status) {
              if (iw) {
                iw.close();
                iw = null;
              }

              if (status == google.maps.places.PlacesServiceStatus.OK) {
                iw = new google.maps.InfoWindow({
                  content: getIWContent(place)
                });
                iw.open(map, markers[i]);
              }
            }
          }

          function getIWContent(place) {
            var content = '<table style="border:0"><tr><td style="border:0;">';
            content += '<img class="placeIcon" src="' + place.icon + '"></td>';
            content += '<td style="border:0;"><b><a href="' + place.url + '">' + place.name + '</a></b>';
            content += '</td></tr></table>';
            return content;
          }

          google.maps.event.addDomListener(window, 'load', initialize);
          </script>

          <style type="text/css">
            html, body {
              margin: 0;
              padding: 0;
              height: 100%;
              font-family: arial;
              font-size: 13px;
              overflow: hidden;
            }

            #map_canvas {
              float: left;
              width: 420px;
              height: 406px;
            }

            #listing {
              float: left;
              margin-left: 1px;
              width: 210px;
              height: 406px;
              overflow: auto;
              cursor: pointer;
            }
            #controls {
              padding: 5px;
            }
            .placeIcon {
              width: 16px;
              height: 16px;
              margin: 2px;
            }
            #results {
              border-collapse: collapse;
              width: 184px;
            }
            #locationField {
              margin-left: 1px;
            }
            #autocomplete {
              width: 516px;
              border: 1px solid #ccc;
            }
          </style>
          <div id="locationField">
            <input id="autocomplete" type="text">
          </div>
          <div id="map_canvas"></div>
          <div id="listing">
            <div id="controls">
              <form name="controls">
                <!--<input type="radio" name="type" value="establishment" onclick="search()" checked="checked"/>All<br/>-->
                <input type="radio" name="type" value="restaurant" onclick="search()" />Restaurants<br/>
                  <input type="radio" name="type" value="police" onclick="search()" />Police Station<br/>
                  <input type="radio" name="type" value="church" onclick="search()" />Churches<br/>
                  <input type="radio" name="type" value="doctor" onclick="search()" />Doctor<br/>
                  <input type="radio" name="type" value="bar" onclick="search()" />Bars<br/>
                  <input type="radio" name="type" value="bank" onclick="search()" />Banks<br/>
              </form>
            </div>
            <table id="results"></table>
          </div>
        </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T14:31:04.363

你必须知道你想要的城镇的纬度。比在每个页面上，您都需要在**initialize()**函数中从

```
var myLatlng = new google.maps.LatLng(37.783259, -122.402708); 
```

至

```
var myLatlng = new google.maps.LatLng(changeTHIS, andTHIS); 
```

这是伦敦的例子

```
var myLatlng = new google.maps.LatLng(51.507222, -0.1275); 
```

# unicode - 所有浏览器都需要任何标准的 Unicode 字体支持吗？

> ID：13892123
> 
> 赞同：4
> 
> 时间：2012-12-15T12:21:18.533
> 
> 标签：unicode, fonts, cross-browser, standards

是否有标准管理所有浏览器的 Unicode 字体支持？

最新版本的 Unicode 包含超过 110,000 个字符，涵盖 100 个脚本。我不希望浏览器支持所有这些，但应该对某些字符提供最低支持，例如来自拉丁脚本的字母、常见的标点符号以及数学、货币等类型的符号。

我目前在 Android 浏览器上显示 U+060B AFGANI SIGN (؋) 和 U+202F NARROW NON-BREAK SPACE 时遇到问题。我想知道是否有一个普遍认可的 Unicode 字符列表，以便开发人员可以放心地使用它们，而不必担心浏览器显示问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T14:14:01.110

浏览器中没有关于 Unicode 支持的标准。此外，显示字符的能力主要取决于字体，尽管浏览器在扫描字体方面的能力不同。通常你可以做的是指定一个合适`font-family`的字体列表，每个字体都支持你需要的所有字符。有关这方面的一般性，请参阅我[在 HTML 中使用特殊字符的指南](http://www.cs.tut.fi/~jkorpela/html/characters.html)。

在 Android 上，问题在于字体集非常有限。如果您需要超出它们支持的字符，则需要使用可下载的字体，通过`@font-face`.

货币符号“؋” U+060B AFGHANI SIGN 出现在大约十几种字体中，但其中唯一的免费字体（如果我们不计算位图字体 GNU Unifont）似乎是[Scheherazade](http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=ArabicFonts)。

对于 U+202F NARROW NO-BREAK SPACE，[字体支持](http://www.fileformat.info/info/unicode/char/202f/fontsupport.htm)更广泛。但总的来说，使用其他方法通常比使用此类字符更好。许多字体包含的这个字符几乎和普通空格一样宽，Unicode 标准中关于它的宽度的描述是模糊的：“不间断空格的窄形式，通常是细空格或中间空格的宽度空间”。“细空间”在 Unicode 标准中被描述为“五分之一的 em（或有时是六分之一）”，实际上它的宽度是变化的。而“中间空间”确实是一个未定义的概念。

例如，如果文本是使用空格作为千​​位分隔符的语言，原则上您可以将 100 000 之类的数字写成`100&#x202f;000`，但最好写成，例如，

```
<span class="gr">100&nbsp;000</span> 
```

使用 CSS 代码，例如`.gr { word-spacing: -0.15em }`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-09T13:33:41.117

AFAIK，所有浏览器都支持`@font-face`加载 webfonts，并且可以支持这些字体中的任何字符。因此，如果您确保提供对支持这些字符的网络字体的访问，您应该能够在任何浏览器中显示任何字符。

**[为了避免使用大字体来支持一些特殊字符，您可以使用Icomoon App](https://icomoon.io/app/#/select)**等工具创建自己的字体。

我使用 Icomoon 应用程序来创建**[Emoji 表情字体](https://github.com/jslegers/emoji-icon-font)**以及在每个项目的基础上创建自定义图标字体。

有关使用或创建图标字体（或其他 webfonts）的更多信息，请参阅**[使用 Unicode 补充多语言平面符号创建 webfont](https://stackoverflow.com/questions/19824628/create-webfont-with-unicode-supplementary-multilingual-plane-symbols/27410391#27410391)**

# html - 固定 Div 内的元素在浏览器上混合调整大小

> ID：13892124
> 
> 赞同：0
> 
> 时间：2012-12-15T12:21:27.790
> 
> 标签：html, css

```
<div id="mainMenu">
   <div id="Title">
       My Website
   </div>
   <div id="Login">
       Login
   </div>
</div> 
```

在 CSS 中，`#mainMenu`has`position:fixed;`和`left:0; right:0; width:100%;` `#Title`is`float:left;` `#Login`是`float:right;`

浏览器窗口最大化时没有问题，但是当我调整它的大小时，里面的元素混合在一起，当它变得非常小时，右边的元素在左边的元素下面，我怎样才能保持父Div的相同大小? 即使我调整浏览器的大小？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:24:19.840

`#mainMenu`在不重新定位孩子的情况下为您的孩子提供一个最小宽度：

```
#mainMenu {
    min-width: 600px;
    ....
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T12:26:54.490

在 CSS 中，设置：

```
​#mainMenu{
    position: fixed;
    top:0;
    left:0;
    width:100%;
}
#Title{
    position:absolute;
    left:0;
}
#Login{
    position:absolute;
    right:0;
} 
```

工作小提琴

[http://jsfiddle.net/5pt6C/](http://jsfiddle.net/5pt6C/) ​</p>

# eclipse - ubuntu上的opencv - 找不到lib文件

> ID：13892126
> 
> 赞同：1
> 
> 时间：2012-12-15T12:21:48.347
> 
> 标签：eclipse, ubuntu, opencv, g++

我正在遵循本[指南](http://docs.opencv.org/doc/tutorials/introduction/linux_eclipse/linux_eclipse.html)：

使用 Eclipse Juno CDT 让 opencv 在 ubuntu 12.04 上运行。但是当我构建所有内容时出现此错误：

```
Building target: DisplayImage
Invoking: GCC C++ Linker
g++ -L/usr/local/lib -o "DisplayImage"  ./src/DisplayImage.o   -lopencv_core\ opencv_imgproc\ opencv_highgui
/usr/bin/ld: cannot find -lopencv_core opencv_imgproc opencv_highgui
collect2: ld returned 1 exit status
make: *** [DisplayImage] Error 1 
```

在eclipse中我添加了：

```
opencv_core opencv_imgproc opencv_highgui 
```

在“库（-l）”框中。如果我运行（如指南中所述）：

```
pkg-config --libs opencv 
```

我得到：

```
/usr/local/lib/libopencv_calib3d.so /usr/local/lib/libopencv_contrib.so /usr/local/lib/libopencv_core.so /usr/local/lib/libopencv_features2d.so /usr/local/lib/libopencv_flann.so /usr/local/lib/libopencv_gpu.so /usr/local/lib/libopencv_highgui.so /usr/local/lib/libopencv_imgproc.so /usr/local/lib/libopencv_legacy.so /usr/local/lib/libopencv_ml.so /usr/local/lib/libopencv_nonfree.so /usr/local/lib/libopencv_objdetect.so /usr/local/lib/libopencv_photo.so /usr/local/lib/libopencv_stitching.so /usr/local/lib/libopencv_ts.so /usr/local/lib/libopencv_video.so /usr/local/lib/libopencv_videostab.so 
```

所以它们似乎存在。但与指南相比，名称有点不同。我试图将 eclipse 中的包含更改为：

```
libopencv_core.so libopencv_imgproc.so opencv_highgui 
```

但这无济于事。有任何想法吗？

编辑：

这就是我设置包括的方式：

![在此处输入图像描述](../Images/9c5255ac3640eaba93f816144128736b.png)

这就是我设置库（链接器）的方式：

![在此处输入图像描述](../Images/d06449bf114c6daf204b534f498e84ee.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-15T12:46:50.847

啊，每个库都必须在 C++linker->Libraries 框中的单独行上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T12:29:05.293

您似乎忘记设置`Library search path(-L)`为`usr/local/lib/`in `C++ Linker->Libraries`：

![在此处输入图像描述](../Images/6904bacee9bac6594aedfe06d051094d.png)

**更新：**从您的屏幕截图中，我看到您的所有库都在一行中。再看看我的截图。

# sql-server-2008 - 添加由 GROUP BY 子句产生的列

> ID：13892128
> 
> 赞同：3
> 
> 时间：2012-12-15T12:22:03.010
> 
> 标签：sql-server-2008

我陷入了使用 GROUP BY 后需要从两行添加列的场景中。我的查询如下：

```
select AcctId,DC,sum(TrnAmt) from TableId
group by AcctId,DC
order by AcctId,DC 
```

结果：-

```
VcrAcctId      DrCr  SumTranAmt
51            C    37469
51      D      37000 
```

我的预期结果是：

```
VcrAcctId      Actual
51     37469-37000 
```

如何在同一个查询中得到我的预期结果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:56:09.147

这是假设 Actual 在 DrCR 上排序，因此 C 结果行位于 D 结果行之前。此外，将 Table1 替换为原始查询中的 CTE，以便您首先总结每个 VcrAcctId 和 DC。

```
SELECT VcrAcctId, STUFF((SELECT '-' + convert(varchar(100),SumTranAmt)
              FROM Table1 I
              WHERE Table1.VcrAcctId = I.VcrAcctID 
              ORDER BY DrCr
             FOR XML PATH ('')),1,1,'')
FROM Table1
Group by VcrAcctId 
```

[SQL 小提琴演示](http://sqlfiddle.com/#!3/65276/3)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:15:33.883

根据评论中的讨论，我认为您需要

```
SELECT AcctId,
       Sum(CASE DC
             WHEN 'C' THEN TrnAmt
             WHEN 'D' THEN -TrnAmt
             ELSE 0
           END) AS DC
FROM   TableId
GROUP  BY AcctId
ORDER  BY AcctId 
```

如果实际上您确实希望将贷方和借方分开，则可以使用

```
SELECT AcctId,
       Sum(CASE
             WHEN DC = 'C' THEN TrnAmt
             ELSE 0
           END) AS C,
       Sum(CASE
             WHEN DC = 'D' THEN TrnAmt
             ELSE 0
           END) AS D
FROM   TableId
GROUP  BY AcctId
ORDER  BY AcctId 
```

如果这是实际需要的，您可以将`SUM`表达式转换为并将它们连接起来以获得问题中显示的结果。`varchar`

# c# - C# 使用索引器

> ID：13892129
> 
> 赞同：3
> 
> 时间：2012-12-15T12:22:09.487
> 
> 标签：c#

我有一个类似这样的类（这是代码的子集）

```
public struct overlay
{
    [FieldOffset(0)]
    public Byte[] b;
    [FieldOffset(0)]
    public Int32[] i;
}

 class MyClass
    {
    private overlay data;    \\Initialised using data.b=new Byte[4096]

    public Int32 site0 { set { data.i[0] = value; } get { return data.i[0]; } }
    public Int32 site1 { set { data.i[1] = value; } get { return data.i[1]; } }
    public String s
    {
        get { return System.Text.Encoding.ASCII.GetString(data.b, 8, 16).TrimEnd(' '); }
        set { System.Text.Encoding.ASCII.GetBytes(value.PadRight(16)).CopyTo(data.b, 8); }
    }
    public Int32 site2 { set { data.i[5] = value; } get { return data.i[5]; } }

    } 
```

我目前访问这样的站点变量...

```
MyClass m=new MyClass();
m.site0=1;
m.site1=1;
m.site2=1; 
```

我想像这样访问它们..

```
MyClass m=new MyClass();
for (Int32 i=0; i<m.sites.Count; ++i)
    m.sites[i]=1; 
```

谁能建议我怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T12:31:40.137

您不能为班级中的字段创建索引器。您必须创建自己的类来存储数据，然后您可以创建其类型的字段。

```
class MyClass
{
    public MyIndexerClass Sites;
    public class MyIndexerClass
    {
        private byte[] data;

        public MyIndexerClass()
        {
            this.data = new byte[0];
        }
        public MyIndexerClass(byte[] Data)
        {
            this.data = Data;
        }

        public byte this[int index]
        {
            get
            {
                return data[index];
            }
            set
            {
                data[index] = value;
            }
        }
    }

    public MyClass()
    {
        this.Sites = new MyIndexerClass();
    }
    public MyClass(byte[] data)
    {
        this.Sites = new MyIndexerClass(data);
    }
} 
```

如果你想使用`Count`属性和`foreach`on `MyIndexerClass`，你应该实现[IEnumerable](http://support.microsoft.com/kb/322022)并创建你自己的`Enumerator`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:25:08.010

C# 中的[索引器语法](http://msdn.microsoft.com/en-us/library/vstudio/6x16t2tx.aspx)允许这样做，它看起来像这样：

```
public byte this[int index] {
 get { return data[index]; }
 set { data[index] = value; }
} 
```

这在类型上定义了一个索引器。用法就像

```
m[i] = 1; 
```

但是，.NET 中的许多数组和列表结构已经具有索引器，因此您可以定义字段/属性`sites`，例如 Type `List<byte>`。

# jar - 如何将一个 jar 库添加到另一个 jar 库中

> ID：13892130
> 
> 赞同：2
> 
> 时间：2012-12-15T12:22:11.863
> 
> 标签：jar, java

我正在做一个使用 jaybird jar 的 java 库。我希望我的库是一个装有 jaybird 的 jar，所以当我必须使用它时，我只导入我的 jar。

如何才能做到这一点？我正在使用 Eclipse 版本：Indigo Service Release 2。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:24:58.783

可以这样做，但需要使用特定类加载器的特殊启动器从外部 jar 中提取内部 jar。

我会简单地使用标准的做法：提供两个 jar，以及用于启动应用程序的启动 .bat/.sh 文件，整个打包成一个简单的 zip 文件。

# mysql - 如何使用mysql全文获取连续单词的频率

> ID：13892133
> 
> 赞同：4
> 
> 时间：2012-12-15T12:22:26.567
> 
> 标签：mysql, full-text-search

我有一个`MyISAM`包含超过 200 万条记录的表，其中有`FULLTEXT`多个列的索引。

给定一个搜索词，我想知道它在每条记录的索引字段中出现*了多少次。*

例如，`'test'`在下表中搜索时（其中和列`FULLTEXT`都有索引）：`FREETEXT``Third_Col`

```
+----+-------------------------------------------- +---------------+
| 身份证 | 自由文本 | Third_Col |
+----+-------------------------------------------- +---------------+
| 1 | 这是测试示例中的第一个测试字符串。| 这是第一个测试值 |
| 2 | 这是第二次测试。| 这是 sec col |
+----+-------------------------------------------- +---------------+

```

我期望结果如下：

```
+----+-------+
| 身份证 | 计数 |
+----+-------+
| 1 | 3 |
| 2 | 1 |
+----+-------+

```

我知道在`FULLTEXT`索引中 MySQL 使用 dtf（该术语在文档中出现的次数）；怎么能得到这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-26T19:23:49.043

像这样创建一个用户定义的函数

```
DELIMITER $$

CREATE FUNCTION `getCount`(myStr VARCHAR(1000), myword VARCHAR(100))
    RETURNS INT
    BEGIN
    DECLARE cnt INT DEFAULT 0;
    DECLARE result INT DEFAULT 1;

    WHILE (result > 0) DO
    SET result = INSTR(myStr, myword);
    IF(result > 0) THEN 
        SET cnt = cnt + 1;
        SET myStr = SUBSTRING(myStr, result + LENGTH(myword));
    END IF;
    END WHILE;
    RETURN cnt;    

    END$$

DELIMITER ; 
```

然后您可以在查询中使用它，如下所示

```
select id, getCount(concat(FREETEXT, Third_col), 'test') from yourtable 
```

希望能帮助到你

# google-maps - Google Maps Api - 新手

> ID：13892134
> 
> 赞同：1
> 
> 时间：2012-12-15T12:22:34.273
> 
> 标签：google-maps

我开始从事 Google Maps 项目，但我对 Google Maps Api 完全陌生，而且我的 JavaScript 技能还很小，我的背景是 Java。我已经开始阅读文档和教程，但一些基本问题仍未得到解答，所以我希望能得到你的帮助。

1.  Google Maps api 是否提供了用户访问控制的方法？可以说，我有一张地图，我的注册用户（Joomla 网站）可以在其中添加地标，如果允许该用户在地图上工作，我如何告诉 Google 地图？还是我必须在没有 Maps API 的情况下自己解决这个问题？

2.  创建以下功能的正确方法是什么：我想让用户将地标添加到空地图。然后我会检查添加的点是否可以公开发布。如果没问题，那么我想把那个地标转移到公共地图上。

3.  是否有一些 Maps API 功能可以读取特定地图上的地标？

安迪

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T18:53:39.477

1.  关于用户访问控制，我似乎混合了两件事。当您在 Google 网站上使用 Google 地图并使用标记创建地图时，您可以指定允许在该地图上添加和编辑标记的其他用户。但是，Google Maps api 显然不会保存您正在处理的地图的服务器端副本。所以一切都发生在您的网站上。如果您添加标记，那么您必须自己跟踪它们，因此用户访问控制也是您自己的问题。但是，我想知道，当我使用自己的标记在 Google 地图网站上创建自己的地图，然后在我的网站上显示此地图时会发生什么。那么读出标记的方法是什么，让我们说一个标记列表。

2.  似乎正确的方法是自己实现它。让用户设置标记，将标记保存在数据库中。查看标记，如果接受，请在使用标记填充地图时将其标记并显示在公共地图上。

3.  好的，所以我一直在阅读并发现，显然谷歌地图不提供读取地图上所有标记的功能：[如何在 google-maps-v3 上获取所有标记](https://stackoverflow.com/questions/2577417/how-to-get-all-markers-on-google-maps-v3)

# python - Eclipse 中 Python 的一些好的颜色主题？

> ID：13892136
> 
> 赞同：2
> 
> 时间：2012-12-15T12:23:12.987
> 
> 标签：python, eclipse

我已经从 Sublime Text 2 切换到 Eclipse，我正在寻找一个很好的与 python 配合使用的颜色主题。eclipsecolorthemes.org 上的大多数都非常糟糕，并且不能很好地处理运算符/括号和其他东西。

有什么建议么？

# python - 页面方向在带有 Python 的 OpenOffice 中不起作用

> ID：13892144
> 
> 赞同：1
> 
> 时间：2012-12-15T12:24:28.120
> 
> 标签：python, openoffice.org

我正在尝试使用 python 在 OpenOffice 文档中设置页面方向。我用来尝试以下代码：

```
import json
from win32com.client import Dispatch as Dispatch
svm = Dispatch("com.sun.star.ServiceManager")
svm._FlagAsMethod("Bridge_GetStruct")
coreflect = svm.createInstance("com.sun.star.reflection.CoreReflection")
desktop = svm.createInstance("com.sun.star.frame.Desktop")
doc = desktop.loadComponentFromURL("private:factory/swriter", "_blank",0, [])
txt = doc.getText()
cur = txt.createTextCursor() 
```

然后我尝试了两种不同的方法：

```
p = doc.getPagePrintSettings()
p[8].Value = True
doc.setPagePrintSettings(p) 
```

和

```
oStyleFamilies = doc.getStyleFamilies()
oObj1 = oStyleFamilies.getByName("PageStyles")
oObj2 = oObj1.getByName("Default")
oObj2.IsLandscape = True 
```

两者都没有错误，但页面仍然是纵向的..有人有想法吗？

提前致谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-17T21:11:29.097

try : oObj2.setPropertyValue("IsLandscape",True) see [http://codesnippets.services.openoffice.org/Calc/Calc.SwitchOrientation.snip](http://codesnippets.services.openoffice.org/Calc/Calc.SwitchOrientation.snip)

# ios - 将事件添加到以编程方式生成的 UIView

> ID：13892145
> 
> 赞同：1
> 
> 时间：2012-12-15T12:24:30.650
> 
> 标签：ios, objective-c, cocoa-touch, uiview

所以我有一个方法，然后在调用时会生成一个简单的 UIView，其中包含一些标签：

```
UIView *view1 = [[UIView alloc] initWithFrame:CGRectMake(50, 50, 300, 250)];
view1.backgroundColor = [UIColor redColor];
view1.userInteractionEnabled = YES;
[self.view addSubview:view1]; 
```

我调用了这个方法 6 次，所以它在屏幕周围放置了 6 个 UIView（当然我给了它们不同的坐标）。

如何检测用户何时在其中一个上向右滑动然后触发其他方法？我试过这样的事情：

```
UISwipeGestureRecognizer *swipeRight = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(myLabel1Tap)];
swipeRight.direction = UISwipeGestureRecognizerDirectionRight;
[view1 addGestureRecognizer:swipeRight]; 
```

然后是一个方法：

```
- (void)myLabel1Tap {
} 
```

但是我不确定在该方法中该怎么做，如果它们都被称为相同的“view1”，我怎么知道哪个视图被刷了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-15T12:32:11.633

更改手势识别器选择器以接受参数（通过在方法签名后添加冒号）

```
UISwipeGestureRecognizer *swipeRight = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(myLabel1Swipe:)]; 
```

这意味着手势识别器将被传入，然后您可以根据手势识别器属性执行操作，例如

```
- (void)myLabel1Swipe:(UISwipeGestureRecognizer *)recogniser
{
    UIView *swipedView = [recognizer view];
    //do whatever you want with this view
} 
```

# android - 使 ListView 显示视觉“无法滚动”反馈

> ID：13892153
> 
> 赞同：0
> 
> 时间：2012-12-15T12:25:30.447
> 
> 标签：android, android-layout

当列表短于屏幕长度时，如何使 ListView 显示视觉“无法滚动”反馈？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T08:15:30.937

[似乎使用setOverScrollMode 文档](http://developer.android.com/reference/android/widget/AbsListView.html#setOverScrollMode%28int%29)可以使用此行为`setOverScrollMode`

# twitter - Twitter：提及的唯一 ID

> ID：13892154
> 
> 赞同：0
> 
> 时间：2012-12-15T12:25:32.840
> 
> 标签：twitter

一个人可以在特定推文的 user_mentions 中出现两次（或多次）吗？

我需要为特定推文的提及创建一个独特的组合。

为此，我想使用：“tweet_id”+“_”+“person_id”

但！

如果一个人可以在 user_mentions 中出现两次，我不能使用这个组合并且必须使用他的名字位置的 indeces 吗？

"tweet_id"+"_"+"person_id"+"-"+"left_position"+"-"+"right_position"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-16T02:06:07.107

> 一个人可以在特定推文的 user_mentions 中出现两次（或多次）吗？

这有可能发生。

> 如果一个人可以在 user_mentions 中出现两次，我不能使用这个组合并且必须使用他的名字位置的 indeces 吗？
> 
> "tweet_id"+"_"+"person_id"+"-"+"left_position"+"-"+"right_position"

你的答案在你的问题中。[Tweet Entities](https://dev.twitter.com/docs/platform-objects/entities)为您提供所需的所有信息。

# jquery - jQuery - 在下拉列表中运行一个函数

> ID：13892156
> 
> 赞同：0
> 
> 时间：2012-12-15T12:25:35.470
> 
> 标签：jquery, html

我有一个下拉列表，我想在选择不同的项目时运行一个 jQuery 函数。这是我当前的脚本：

```
<script src="http://code.jquery.com/jquery-latest.js"></script>

<script>
$('select[name=dropdown]').change(function() {
    $('#result').html($(this).val());
});
</script>

<div id='result'></div>

<select name="dropdown">
    <option value="1">option 1</option>
    <option value="2">option 2</option>
</select> 
```

我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T12:27:43.780

将您的脚本包装在 document.ready 处理程序中 -[**演示**](http://jsfiddle.net/Ah5jx/)

```
$(document).ready(function() {
    $('select[name=dropdown]').change(function() {
        $('#result').html($(this).val());
    });
}); 
```

或者只是将您的脚本放在页面的最底部。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:28:38.773

```
<script src="http://code.jquery.com/jquery-latest.js"></script>

<script>
$(document).ready( function() {
$('select[name="dropdown"]').change(function() {
    $('#result').html($(this).val());
});
});
</script>

<div id='result'></div>

<select name="dropdown">
    <option value="1">option 1</option>
    <option value="2">option 2</option>
</select> 
```

# string - 如何从字符串中提取 URL？（任何语言）

> ID：13892160
> 
> 赞同：1
> 
> 时间：2012-12-15T12:25:54.040
> 
> 标签：string, url, language-agnostic

我意识到这个问题已经在 Stack Overflow 和整个网络上被问过很多次了，事实上，我刚刚打开了大约 20 个选项卡，并为这个问题提供了明显的解决方案。

问题是*每一个答案*都说了一些类似的东西

> 您*可以*使用正则表达式，但这不是一个好主意并且不能可靠地工作，但我不会提供任何替代方案。

所以我的问题是——真的*没有*可靠、明确的方法可以从文本中提取 URL 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-16T15:55:18.867

**正则表达式是非常强大的工具。像大多数强大的工具一样，它们被严重误解，在许多用户手中很危险，并且是某些任务的最佳答案。** 匹配字符串中的已知模式就是它们存在的目的。一旦您掌握了良好的 URL 模式，它将始终在其设计的上下文中工作。每个人都回避使用它们的原因是，为特定上下文创建一个好的 URL 模式是一项艰巨的工作。该模式将因执行环境（*例如*，URL 的操作系统`file:`）、编程语言和/或使用的库*等而异。*

对于 HTTP URL 的特定情况，有一个[明确的定义](https://www.rfc-editor.org/rfc/rfc3986)，主要是遵守，您可以使用几乎任何语言或库从它构建一个可靠的正则表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:30:33.730

> 我们真的没有可靠、明确的方法可以从文本中提取 URL 吗？

好吧，字符串格式列表中的任何内容都需要仔细处理异常。也就是说，一旦您进行了处理，它应该可以正常工作。

[带有 uri 模式](http://en.wikipedia.org/wiki/URI_scheme)的正则表达式可能会起到类似的作用：

```
<a href="(?<url>http://.*?)".*>(?<text>.+?)<\/a> 
```

这是一个**.NET 正则表达式**，因此您可能需要修改它以在您的平台语言上工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T12:34:29.667

如果你想从任何字符串中提取 URL，除了使用 Regex 之外别无选择。事实上 URI Scheme 已定义（请参阅[http://en.wikipedia.org/wiki/URI_scheme](http://en.wikipedia.org/wiki/URI_scheme)），如果您了解它的所有方面，正则表达式非常可靠。

# javascript - 为什么第二张桌子不可见？

> ID：13892162
> 
> 赞同：2
> 
> 时间：2012-12-15T12:26:06.733
> 
> 标签：javascript, jquery

我在这样的页面中有两个表：

```
<table style="width:800px">
    <tr>
        <td style="width:400px;">
            <table id="currencies"
                style="border-spacing: 5px; padding: 3px; margin: 2px" />
        </td>
        <td style="width:400px;">
            <table id="changers"
                style="border-spacing: 5px; padding: 3px; margin: 2px" />
        </td>
    </tr>
</table> 
```

我使用 jqgrid 来扩展这些。一个是主表，另一个是详细表。然而问题是页面中没有显示第二个表（id =“changers”）。我从浏览器中检查了 javascript，它在表格行中只有一个`<td>`元素。如果我将它们放在单独的表中，这个问题就会消失，如下所示：

```
<table id="currencies"
                style="border-spacing: 5px; padding: 3px; margin: 2px" />
<table id="changers"
                style="border-spacing: 5px; padding: 3px; margin: 2px" /> 
```

我完全坚持这一点。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T12:31:47.187

您的两个嵌套`table`标签未关闭。该`<tag/>`表单**不是**的简写形式`<tag></tag>`，它纯粹是针对那些没有标记内容的空元素（以及外来*元素**，*[规范](http://www.w3.org/TR/html5/syntax.html#start-tags)中的详细信息），并且您只需要XHTML 中的solidus（ ）（我推荐除非您有非常特殊的使用需求，否则 XHTML 充满了危险和误解）。`<br/>`*`/`*

 *`<table ...></table>`使用而不是显式关闭表`<table .../>`：

```
<table style="width:800px">
    <tr>
        <td style="width:400px;">
            <table id="currencies"
                style="border-spacing: 5px; padding: 3px; margin: 2px"></table>
        </td>
        <td style="width:400px;">
            <table id="changers"
                style="border-spacing: 5px; padding: 3px; margin: 2px"></table>
        </td>
    </tr>
</table> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T12:31:41.003

您应该在表格中添加结束标签。而不是这个

```
<table /> 
```

做这个

```
<table> </table> 
```

整个代码：

```
<table style="width:800px">
    <tr>
        <td style="width:400px;">
            <table id="currencies"
            style="border-spacing: 5px; padding: 3px; margin: 2px" ></table>
        </td>
        <td style="width:400px;">
            <table id="changers"
            style="border-spacing: 5px; padding: 3px; margin: 2px" ></table>
        </td>
    </tr>
</table>​ 
```*

# android - 获取一天开始的时间戳

> ID：13892163
> 
> 赞同：16
> 
> 时间：2012-12-15T12:26:33.573
> 
> 标签：android

我使用 unix 时间戳将时间/日期存储在数据库中。然后我想在某一天获取所有实例，因此我需要计算当天开始的时间戳以查询数据库。

我在 php 中做了类似的事情，方法是从日期对象传递 mktime 日/月/年的值并将小时和分钟设置为零。在 java/android 中似乎没有类似的功能（不推荐使用获取日期特定部分的功能）

任何人都可以对此提供一些指导吗？谢谢

**编辑：**

好的，所以我意识到这可能有效：

```
public static int startOfDay(Timestamp time) {
        Calendar cal = dateToCalendar(new Date(time.getTime()));
        cal.add(Calendar.HOUR_OF_DAY, -Calendar.HOUR_OF_DAY);
        cal.add(Calendar.MINUTE, -Calendar.MINUTE);
        cal.add(Calendar.SECOND, -Calendar.SECOND);
        Log.i("Time", cal.getTime().toString());        
        return (int) cal.getTimeInMillis()/1000;
} 
```

但是，当我刚才运行它时，我得到了：

2012 年 12 月 15 日星期六 01:24:00 GMT

秒是正确的，但小时和分钟是错误的？？

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-12-15T13:12:29.260

在处理时间时，您应该始终考虑时区。您的数据库时间戳应始终存储在一个时区（例如 UTC）中。然后，您的计算应该考虑用户可以在不同的时区，并且他们可以更改时区。

如果您想在用户当前在其手机中设置的时区计算一天的开始时间。使用以下命令创建`Calendar`实例：

```
Calendar cal = Calendar.getInstance(); 
```

要获取特定时区的实例，请使用：

```
// use UTC time zone
Calendar cal = Calendar.getInstance(TimeZone.getTimeZone("UTC")); 
```

然后设置一天的开始：

```
cal.setTime(time); // compute start of the day for the timestamp
cal.set(Calendar.HOUR_OF_DAY, 0);
cal.set(Calendar.MINUTE, 0);
cal.set(Calendar.SECOND, 0);
cal.set(Calendar.MILLISECOND, 0); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-12-15T12:48:15.420

```
public static int startOfDay(Timestamp time) {
    Calendar cal = Calendar.getInstance();
    cal.setTimeInMillis(time.getTime());
    cal.set(Calendar.HOUR_OF_DAY, 0); //set hours to zero
    cal.set(Calendar.MINUTE, 0); // set minutes to zero
    cal.set(Calendar.SECOND, 0); //set seconds to zero
    Log.i("Time", cal.getTime().toString());        
    return (int) cal.getTimeInMillis()/1000;
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-08-27T22:56:57.987

# .net - Fn 地址不可用

> ID：13892164
> 
> 赞同：2
> 
> 时间：2012-12-15T12:26:35.953
> 
> 标签：.net, windows, debugging, windbg

我正在尝试调试我的演示应用程序（Windows 窗体）以破坏内存中的特定功能。

我将我的应用程序附加到windbg；获取函数的地址（通过 x 命令单击某个按钮）并在那里放置一个未解析的断点（bu）。

但是我无法激活这个断点，因为我的函数地址不可用；即使我运行我的应用程序并通过按钮单击事件调用该函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T22:28:18.520

实际上你应该设置一个地址断点，所以使用`bp`而不是`bu`这样：

```
bp 12345678 
```

`12345678`输出的地址在哪里`x`，请参阅[文档](http://msdn.microsoft.com/en-gb/library/windows/hardware/ff538903%28v=vs.85%29.aspx)。

# python - 如何在python中编码这个字符

> ID：13892168
> 
> 赞同：0
> 
> 时间：2012-12-15T12:26:55.027
> 
> 标签：python, character-encoding, twitter

我使用 twitter-api 从 twitter 中的位置得到了这个 (ÜT:) 字符结果。

我不知道如何编码此字符以将其从结果中删除。

字符串示例 ==>`"ÜT: -7.0651362,110.4596271"`

已经尝试`"&#220;T:"`检查字符串，但没有效果

```
if "&#220;T:" in t.location: print "yes, it contain the char" 
```

如何在python中删除字符。

之前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:07:52.677

我从未处理过 Twitter API，但它的文档没有说明默认返回哪些编码字符串？

如果这个`"ÜT:"`字符总是出现在字符串的开头，你也可以通过在第一个空格字符处拆分字符串来摆脱它：

```
>>> s = "ÜT: -7.0651362,110.4596271"
>>> s.split(" ", 1)[1]
"-7.0651362,110.4596271" 
```

# jquery - 在 MVC3 中填充 Jquery 组合框

> ID：13892169
> 
> 赞同：0
> 
> 时间：2012-12-15T12:26:59.160
> 
> 标签：jquery, asp.net-mvc-3, combobox

我是 Jquery 和 MVC 3 的新手。

我正在尝试创建一个非常简单的示例。

我有一个 jquery 组合框，在页面加载期间我想用一些数据填充它。

所以这里是代码：

**客户**

```
$(function () {
       $("#combobox").combobox({
        //    initialValues: ['array', 'of', 'values'],
           source: function (request, response) {
               if (!request.term.length) {
                   response(_self.options.initialValues);
               } else {
                   if (typeof _self.options.source === "function") {
                       _self.options.source(request, response);
                   } else if (typeof _self.options.source === "string") {

                       $.ajax({
                           url: "/dropdown/GetList",
                           //data: request,
                           dataType: "json"
                           //success: function (data, status) {
                             //  response(data);
                           //},
                           //error: function () {
                            //   response([]);
                          // }
                       });

                   }
               }
           }

        });
        $("#toggle").click(function () {
          //  $("#combobox").toggle();
        });
    });

**Function in Controller**
[HttpGet]
        public JsonResult GetList()
        {
            try
            {
                Employee objName = new Employee();
                objName.Name = "Test";
                List<Employee> objectList = new List<Employee>();
                objectList.Add(objName);
                return Json(new { Records = objectList, TotalRecordCount = 1 });
            }
            catch (Exception ex)
            {
                return Json(new { Result = "ERROR", Message = ex.Message });
            }
        } 
```

我在服务器端函数中设置了一个断点，但它从未到达那里。我将非常感谢您的帮助！

提前致谢，V

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T05:46:07.027

我曾经通过以下方法在下拉/组合框中加载数据。请确保指定的 URL 正确。它将调用您在“控制器”的 URL 中指定的 ActionResult，并在 ActionResult 返回 Json 以加载数据。

**脚本**

```
 <script type="text/javascript">
    var dropDownOptions = null;
    function GetdropDownData(sender, args) {
        $.ajax({
            type: "POST",
            url: "Home/GetCountries",
            dataType: "json",
            success: function (data) {
                dropDownOptions = data;

            }
        });
    }

  </script> 
```

**控制器**

```
 public ActionResult GetCountries()
    {
        return Json(CountryList, JsonRequestBehavior.AllowGet);

    }

public IEnumerable<SelectListItem> CountryList
    {
        get
        {
            // load data here
            return type;
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:37:21.250

关于你的网址。试试`dropdown/GetList`这个应该可以。

也请阅读[这篇文章](http://yassershaikh.com/how-to-call-an-action-from-javascript-or-jquery-in-mvc-3-razor/)。

这是我可以想出的一个简单的例子，

**控制器代码**

```
public ActionResult Test()
{
    string test = "Hello World";
    return Json(test, JsonRequestBehavior.AllowGet);
} 
```

**网页 API 代码**

```
public string Test()
{
    string test = "Hello World";
    return test;
} 
```

**jQuery代码**

```
<script type="text/javascript" src="../../Scripts/jquery-1.7.1.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            url: "Home/Test",
            dataType: "json",
            success: function (result) {
                console.log(result);
            }
        });
    });
</script> 
```

# sql - SQL Server：有条件地排除存储过程中的联合部分

> ID：13892176
> 
> 赞同：0
> 
> 时间：2012-12-15T12:28:09.927
> 
> 标签：sql, sql-server, sql-server-2008

我有一个这样的存储过程（缩短到最低限度）：

```
CREATE PROCEDURE [dbo].[proc_Foo]
    -- Add the parameters for the stored procedure here
    @StyleNumber int,
    @App nvarchar(50),
    @User nvarchar(20)
AS
BEGIN
    DECLARE @UserChar varchar(1) = 'U'

    -- User with App
    SELECT [StyleType],
           [Value], 'UA' AS 'DerivedFrom'
    FROM daten.dbo.GridStyleLocal
    WHERE [StyleAssign] = @UserChar
    AND [User] = @User
    AND [StyleNumber] = @StyleNumber
    AND [Application] = @App

    UNION

    -- Global (Basis) with app
    SELECT [StyleType],
           [Value], 'GA' AS 'DerivedFrom'
    FROM basis.dbo.GridStyle
    WHERE [StyleNumber] = @StyleNumber
    AND [Application] = @App
    AND [StyleType] NOT IN (
        SELECT [StyleType]
        FROM daten.dbo.GridStyleLocal
        WHERE [StyleAssign] = @UserChar
        AND [User] = @User
        AND [StyleNumber] = @StyleNumber
        AND [Application] = @App)

    UNION

    -- Scrape missing StyleTypes from Number 0
    SELECT [StyleType],
           [Value], 'G0A' AS 'DerivedFrom'
    FROM basis.dbo.GridStyle
    WHERE [StyleNumber] = 0
    AND [Application] = @App
    AND [StyleType] NOT IN (
        SELECT [StyleType]
        FROM daten.dbo.GridStyleLocal
        WHERE [StyleAssign] = @UserChar
        AND [User] = @User
        AND [StyleNumber] = @StyleNumber
        AND [Application] = @App)
    AND [StyleType] NOT IN (
        SELECT [StyleType]
        FROM basis.dbo.GridStyle
        WHERE [StyleNumber] = @StyleNumber
        AND [Application] = @App)

END

GO 
```

现在`StyleNumber`0 是我的基本风格。`StyleType`所有不在另一个中的属性（ ）都是`StyleNumber`从 0 派生的。但是现在如果我在设置为 0时`StyleNumber`包含第二个`SELECT`（Global (Basis) with app），则该值是 GA 而不是 G0A。`@StyleNumber``DerivedFrom`

那么，如果为 0，是否有任何条件可以将其排除`SELECT`在联合之外`@StyleNumber`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:56:05.477

不是很清楚你需要什么。假设您需要从第二个查询中获取`G0A`if ，请将*(-- Global (Basis) with app)*更改 为如下所示。`@StyleNumber = 0``second select query` *`CASE`*

 *```
SELECT [StyleType],
       [Value], 
       CASE @StyleNumber WHEN 0 THEN 'G0A' ELSE 'GA' END AS 'DerivedFrom'
FROM basis.dbo.GridStyle
--Rest fo the query 
```

NOT to select any records from second select query if `@StyleNumber = 0`, add `CASE` to `WHERE clause` as;

```
WHERE [Application]  = 
  CASE @StyleNumber
      WHEN 0 THEN 'This app does not exist' --Give unavailable @App number 
      ELSE @App
  END 
```*

# mysql - 有记录吗？计数 vs 限制 vs 嵌套

> ID：13892181
> 
> 赞同：0
> 
> 时间：2012-12-15T12:28:34.053
> 
> 标签：mysql

假设您要检查是否有任何行与查询匹配（如果表包含任何匹配项，则只是真/假）。哪个是首选（并且可选地，为什么）？或者，还有更好的方法？

```
SELECT COUNT(*) > 0 FROM someTable WHERE someField = someValue 
```

或者

```
SELECT someField = someValue FROM someTable WHERE someField = someValue LIMIT 1 
```

或者

```
SELECT COUNT(*) > 0 FROM (SELECT someValue FROM someTable WHERE someField = someValue LIMIT 1) someAlias; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T19:40:46.917

我会使用 EXISTS：

```
SELECT EXISTS (SELECT * FROM someTable); 
```

如果子查询返回任何行，则返回 1 (True)，否则返回 0 (False)。

# image - 均衡一组图像的亮度、亮度和对比度

> ID：13892188
> 
> 赞同：3
> 
> 时间：2012-12-15T12:29:17.053
> 
> 标签：image, matlab, matching, brightness, luminance

我使用 MATLAB 进行了一系列实验，每只眼睛都受到与图像不同的刺激（双眼竞争），就像一个是瓶子，另一个是手表。有一个工具箱可以调整亮度和空间频率（Shine 工具箱），但这不适用于背景简单透明的图像，如 .png/.tif/.bmp 等。此外，应保持透明的背景会得到包含在分析和匹配例程中，因此图像中心的对象仍然不能完美匹配。

MATLAB（或 GIMP）中是否有一种简单的方法来匹配一组灰度图像中的三个量（亮度、亮度、对比度）？在 GIMP 中，我尝试通过“级别”来实现，但结果令人信服，因为每个图像的直方图都非常不同。是否可以设置一个预定义的模板直方图，根据该直方图可以匹配所有其他图像以使三个数量的它们相同？

提前致谢！达利博尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T16:18:31.393

在 Matlab 中，如果您只想匹配图像的不透明部分，您可以将不透明部分提取为一维图像，将其传递给工具箱函数，然后将图像重新转换回其原始形状。

假设您有一张带有 RGBA 信息的图像，其中 A=1 是完全不透明的。然后你可以像这样转换图像：

```
opaqueIdx = imgRGBA(:, :, 4) == 1; 
imgOpaque = zeros(sum(opaqueIdx(:)), 1, 3); 
for color = 1:3
   myColor = imgRGBA(:, :, color); 
   imgOpaque(:, :, color) = myColor(opaqueIdx); 
end 
```

`imgOpaque`然后可以调整，然后用调整后的值覆盖原始图像中的不透明部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-16T14:27:58.437

幸运的是，我在研究了图像矩阵的细节后想出了一个解决方案。这是我得到的：我只是将每个灰度图像的所有灰度值相加，例如两个灰度图像，并将这个总和除以具有非零灰度值的像素数（因为*透明背景*被排除在匹配例程之外） . 这给出了图像中前景像素的平均灰度值。先决条件（我的研究需要）是图像必须具有相同的尺寸 r1 x c1 = r2 x c2 并且它们具有均匀透明的背景。

该循环将具有非 255（或者非零）灰度值的所有像素的所有像素灰度值相加，给出总前景亮度。r = 行，c = 列，I1 = 图像 1，I2 = 图像 2；当然，必须通过“imread”操作读取两张图像。

```
for i = 1:r
    n = 1;
    while n <= c
        if I1(i,n,1)<255
            B1 = [B1, I1(i,n,1)];
        end
        if I2(i,n,1)<255 
            B2 = [B2, I2(i,n,1)];
        end
        n=n+1;
    end
end

TotBI1 = sum(B1);
TotBI2 = sum(B2); 
```

在这里，计算两个图像的灰度值均非零（或非 255）的像素数（如上面循环中所选择的）：

```
PixNr1 = length(B1);
PixNr2 = length(B2); 
```

确定具有非零（或非 255）灰度值的每个像素的平均亮度（这也可以通过“平均”操作来完成）：

```
BPixAvg1 = TotBI1/PixNr1;
BPixAvg2 = TotBI2/PixNr2; 
```

最后，用DeltaB对所有非255灰度值的像素进行修改，即均衡（或折衷）灰度值；灰度值较暗的图像前景在 DeltaB 下变得更亮，而较亮的图像前景在 DeltaB 下变得更暗：

```
DeltaB = (BPixAvg1 - BPixAvg2)/2;

for i = 1:r
    n=1;
    while n<=c
        if I1(i,n,1)<255
            I1(i,n,1:3) = I1(i,n,1:3)-DeltaB;
        end
        if I2(i,n,1)<255
            I2(i,n,1:3) = I2(i,n,1:3)+DeltaB;
        end
        n=n+1;
    end
end

end 
```

我将尝试概括各种图像的代码，因为一些使用 MATLAB PsychToolbox 进行一些视觉心理实验的人需要仔细控制客观参数，例如成对图像的亮度（例如用于双目竞争）。此外，尽管每个像素共享相同的平均灰度值，但一个图像前景中的较大对象可能比另一张图像的较小对象显得更暗（或更亮）。为此，我还将包括一些“间距”因素，它加权对象大小和它的表观亮度......

# android - 带有自定义属性的 Android selector.xml 引发 XmlPullParserException

> ID：13892189
> 
> 赞同：5
> 
> 时间：2012-12-15T12:29:21.470
> 
> 标签：android, android-layout, android-xml, android-theme

我在使用自定义属性时遇到了问题。请帮忙..

我在 attr.xml 中定义了自定义属性

```
<attr format="reference" name="btnPressed" />
<attr format="reference" name="btnNormal" /> 
```

我有一个主题

```
<style name="MyTheme" parent="@style/Theme.Sherlock.Light.NoActionBar">
   <item name="btnPressed">@drawable/fav_icon</item>
   <item name="btnNormal">@drawable/not_fav_icon</item>
</style> 
```

在上面的 fav_icon 和 not_fav_icon 是我的图像。

我为切换按钮定义了一个选择器 favorite_btn.xml。

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">   
    <item android:state_checked="true" android:drawable="?attr/btnPressed"/> 
    <item android:state_checked="false" android:drawable="?attr/btnNormal"/> 
    <item android:drawable="?attr/btnNormal"/>
</selector> 
```

现在我将选择器设置为我的切换按钮。

```
 <ToggleButton
            android:id="@+id/station_fav_star"
            android:layout_width="42dip"
            android:layout_height="42dip"
            android:background="@drawable/favorite_btn"
            android:textOff=""
            android:textOn="" /> 
```

我正在将主题应用到我的活动中。但是我得到了如下所述的 Xml Parse Exception。

原因：org.xmlpull.v1.XmlPullParserException：二进制 XML 文件第 11 行：标签需要“可绘制”属性或定义可绘制对象的子标签

我正在使用相同的方法使用自定义属性将图像设置为普通按钮，并且它正在工作。但是当在选择器中定义自定义属性时，它就不起作用了。

如果我遗漏了什么，请告诉我。

我已经检查过这个链接 [Android 颜色选择器不适用于自定义属性](https://stackoverflow.com/questions/9005015/android-color-selector-doesnt-work-with-custom-attributes)

因为它说明了颜色的变化。就我而言，它们是可绘制的。如果还有其他方法，请提出解决方案。

提前致谢..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-07-13T03:09:19.440

在 L 预览版之前，Android 不支持可绘制 XML 中的主题属性。在 L 预览版之前，任何主题属性都将被视为无效值并根据类型抛出膨胀异常或解析为 0 / null。

# php - 表单在数据库中插入数据但如何将新条目邮寄给自己？

> ID：13892190
> 
> 赞同：0
> 
> 时间：2012-12-15T12:29:22.827
> 
> 标签：php, forms, function, email

此表单将我的客户的订单数据插入到我的数据库中。如何使用[http://php.net/manual/de/function.mail.php](http://php.net/manual/de/function.mail.php)获取每个新订单以及格式清晰的纯文本电子邮件？我不知道如何处理它。

**PHP 代码**

```
<?php
$con = mysql_connect("localhost", "db_name", "password") or die ("Keine Verbindung zum MySQL-Server möglich"); 
mysql_select_db("db_name", $con) or die ("Keine Verbindung zur Datenbank möglich");
mysql_query("SET NAMES 'utf8'");

if (isset($_POST['button']))
{
foreach ($_POST AS $key => $postvar)
    $_POST[$key] = stripslashes($postvar);

$_POST['name'] = mysql_real_escape_string($_POST['name']);
$_POST['strasse'] = mysql_real_escape_string($_POST['strasse']);
$_POST['plz'] = mysql_real_escape_string($_POST['plz']);
$_POST['ort'] = mysql_real_escape_string($_POST['ort']);
$_POST['mail'] = mysql_real_escape_string($_POST['mail']);
$_POST['anzahl'] = mysql_real_escape_string($_POST['anzahl']);

$sql = "INSERT INTO `bestellungen` (`name`,`strasse`,`plz`,`ort`,`mail`,`anzahl`,`datetime`)
                VALUES ('".$_POST['name']."', '".$_POST['strasse']."', '".$_POST['plz']."', '".$_POST['ort']."', '".$_POST['mail']."', '".$_POST['anzahl']."', '".date("Y-m-d H:i:s")."');";

$result = mysql_query($sql,$con);
if (!$result) echo mysql_error();
mysql_close($con);
Header("Location: success.php");
exit();
?> 
```

**HTML 代码**

```
<form id="form" name="form" method="post" action="bestellung.php">

<span class="form_anzahl">Anzahl</span>
<select class="input_anzahl" name="anzahl"/>
<option>1</option>
<option>2</option>
</select><span class="form_artikel">Artikelname</span>

<span class="form_name">Name</span>
<input type="text" name="name" class="input_name" placeholder="Vor- und Nachname" required="required"/>

<span class="form_strasse">Straße</span>
<input type="text" name="strasse" class="input_strasse" placeholder="Straße und Hausnummer" required="required"/>

<span class="form_plz">PLZ</span>
<input pattern="[0-9]{5}" name="plz" class="input_plz" placeholder="12345" required="required"/>

<span class="form_ort">Ort</span>
<input type="text" name="ort" class="input_ort" placeholder="Ort" required="required"/>

<span class="form_mail">E-Mail</span>
<input type="email" name="mail" class="input_mail" placeholder="E-Mail" required="required"/>

<div id="redtxt_insert_bestellungen">Preis: 13,12 Euro</div><br>
<button type="submit" name="button" value="abschicken">bestellen</button>
<div class="spacer"></div>
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:36:53.887

chnage 你`foreach`像这样循环：

```
$message='';
foreach ($_POST AS $key => $postvar):
    $_POST[$key] = stripslashes($postvar);
    $message.= "$key : $postvar \n";
    endforeach; 
```

然后：

```
mail('me@example.com', 'New Order', $message); 
```

# c - C中是否允许空宏定义？他们的行为如何？

> ID：13892191
> 
> 赞同：55
> 
> 时间：2012-12-15T12:29:26.727
> 
> 标签：c, c-preprocessor

假设“空”宏定义

```
#define FOO 
```

它是有效的标准 C 吗？如果是这样，`FOO`这个定义之后是什么？

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-12-15T12:31:50.713

它只是一个扩展为什么都没有的宏。但是，既然已经定义了宏，您可以使用`#if defined`（或`#ifdef`）检查它是否已定义。

```
#define FOO

int main(){
    FOO FOO FOO
    printf("Hello world");
} 
```

将扩大到

```
int main(){

    printf("Hello world");
} 
```

在某些情况下，这非常方便，例如您不想在发布版本中显示的附加调试信息：

```
/* Defined only during debug compilations: */
#define CONFIG_USE_DEBUG_MESSAGES

#ifdef CONFIG_USE_DEBUG_MESSAGES
#define DEBUG_MSG(x) print(x)
#else
#define DEBUG_MSG(x) do {} while(0)
#endif

int main(){
    DEBUG_MSG("Entering main");
    /* ... */
} 
```

由于宏`CONFIG_USE_DEBUG_MESSAGES`已定义，`DEBUG_MSG(x)`将展开为`print(x)`，您将获得`Entering main`. 如果您删除`#define`,`DEBUG_MSG(x)`将展开为一个空的`do`-`while`循环，您将看不到该消息。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-12-15T12:30:40.847

是的，标准允许空定义。

> **C11 (n1570), § 6.10 预处理指令**
> 
> ```
> control-line:
>    # define identifier replacement-list new-line
>    # define identifier lparen identifier-list(opt) ) replacement-list new-line
>    # define identifier lparen ... ) replacement-list new-line
>    # define identifier lparen identifier-list , ... ) replacement-list new-line
> replacement-list:
>     pp-tokens(opt) 
> ```

一个常见的用途是包含保护。

```
#ifndef F_H
# define F_H

#endif 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-11T12:58:46.187

空宏定义也可用于自文档。下面`IN`的代码片段是一个示例。代码和注释均引用自[EDK II 项目](http://sourceforge.net/projects/edk2/)。

```
//
// Modifiers for Data Types used to self document code.
// This concept is borrowed for UEFI specification.
//

///
/// Datum is passed to the function.
///
#define IN

typedef
EFI_STATUS
(EFIAPI *EFI_BLOCK_RESET)(
  IN EFI_BLOCK_IO_PROTOCOL          *This,
  IN BOOLEAN                        ExtendedVerification
  ); 
```

# c++ - std::tuple_cat 替换失败

> ID：13892194
> 
> 赞同：0
> 
> 时间：2012-12-15T12:30:38.023
> 
> 标签：c++, c++11, tuples

我用来`std::tuple_cat`将参数列表的子集选择到元组中，如下所示：

```
template <class...>
struct odds;

template <class T1>
struct odds<T1>
{
    typedef std::tuple<T1> type;
    static type value(T1&& t1)
    {
        return std::make_tuple(std::forward<T1>(t1));
    }
};

template <class T1, class T2>
struct odds<T1, T2>
{
    typedef std::tuple<T1> type;
    static type value(T1&& t1, T2&&)
    {
        return std::make_tuple(std::forward<T1>(t1));
    }
};

template <class T1, class T2, class... TTail> 
struct odds<T1, T2, TTail...>
{
        typedef decltype(std::tuple_cat(T1(), typename odds<TTail...>::type())) type; // L32
        static type value(T1&& t1, T2&&, TTail&&... rest)
    {
        return std::tuple_cat(std::forward<T1>(t1), odds<TTail...>::value(std::forward<TTail>(rest)...)); // L35
    }
}; 
```

，以下作为测试用例：

```
// assume <tuple>, <utility> are included at top of file
template <class... T>
auto foo(T... x) -> typename odds<T...>::type
{
         return odds<T...>::value(x...);
         //...
 }       
 int main() {
         auto bar = foo(5, true, 6, false); // L46
         auto baz = odds<int, bool, int, bool>::value(5, true, 6, false); // L47
         // bar, baz should be tuple<int,int> with value { 5, 6 }
 } 
```

但是，在 clang-3.1 和 gcc-4.7.2 中都会出现模板推导问题：

叮当输出：

```
test.cc:32:19: error: no matching function for call to 'tuple_cat'
        typedef decltype(std::tuple_cat(T1(), typename odds<TTail...>::type())) type;
                         ^~~~~~~~~~~~~~
test.cc:40:30: note: in instantiation of template class 'odds<int, bool, int, bool>' requested here
auto foo(T... x) -> typename odds<T...>::type
                             ^
test.cc:40:6: note: while substituting deduced template arguments into function template 'foo' [with T = <int, bool, int, bool>]
auto foo(T... x) -> typename odds<T...>::type
     ^
/usr/include/c++/v1/tuple:1063:1: note: candidate template ignored: substitution failure [with _Tuple0 = int, _Tuples = <std::__1::tuple<int>>]
tuple_cat(_Tuple0&& __t0, _Tuples&&... __tpls)
^
/usr/include/c++/v1/tuple:987:1: note: candidate function not viable: requires 0 arguments, but 2 were provided
tuple_cat()
^
test.cc:46:13: error: no matching function for call to 'foo'
        auto bar = foo(5, true, 6, false);
                   ^~~
test.cc:40:6: note: candidate template ignored: substitution failure [with T = <int, bool, int, bool>]
auto foo(T... x) -> typename odds<T...>::type
     ^
test.cc:35:10: error: no matching function for call to 'tuple_cat'
                return std::tuple_cat(std::forward<T1>(t1), odds<TTail...>::value(std::forward<TTail>(rest)...));
                       ^~~~~~~~~~~~~~
test.cc:47:41: note: in instantiation of member function 'odds<int, bool, int, bool>::value' requested here
        auto baz = odds<int, bool, int, bool>::value(5,true,6,false);
                                               ^
/usr/include/c++/v1/tuple:1063:1: note: candidate template ignored: substitution failure [with _Tuple0 = int, _Tuples = <std::__1::tuple<int>>]
tuple_cat(_Tuple0&& __t0, _Tuples&&... __tpls)
^
/usr/include/c++/v1/tuple:987:1: note: candidate function not viable: requires 0 arguments, but 2 were provided
tuple_cat()
^
3 errors generated. 
```

海合会输出：

```
test.cc: In instantiation of ‘struct odds<int, bool, int, bool>’:
test.cc:40:6:   required by substitution of ‘template<class ... T> typename odds<T ...>::type foo(T ...) [with T = {int, bool, int, bool}]’
test.cc:46:34:   required from here
test.cc:32:74: error: no matching function for call to ‘tuple_cat(int, odds<int, bool>::type)’
test.cc:32:74: note: candidate is:
In file included from test.cc:1:0:
/usr/lib/gcc/x86_64-pc-linux-gnu/4.7.2/include/g++-v4/tuple:1027:5: note: template<class ... _Tpls, class> constexpr typename std::__tuple_cat_result<_Tpls ...>::__type std::tuple_cat(_Tpls&& ...)
/usr/lib/gcc/x86_64-pc-linux-gnu/4.7.2/include/g++-v4/tuple:1027:5: note:   template argument deduction/substitution failed:
/usr/lib/gcc/x86_64-pc-linux-gnu/4.7.2/include/g++-v4/tuple:1024:31: error: no type named ‘type’ in ‘struct std::enable_if<false, void>’
test.cc: In function ‘int main()’:
test.cc:46:34: error: no matching function for call to ‘foo(int, bool, int, bool)’
test.cc:46:34: note: candidate is:
test.cc:40:6: note: template<class ... T> typename odds<T ...>::type foo(T ...)
test.cc:40:6: note:   substitution of deduced template arguments resulted in errors seen above
test.cc:46:34: error: unable to deduce ‘auto’ from ‘&lt;expression error>’
test.cc:47:13: error: ‘value’ is not a member of ‘odds<int, bool, int, bool>’
test.cc:47:61: error: unable to deduce ‘auto’ from ‘&lt;expression error>’ 
```

Gcc 在这里更有帮助，尤其是在出现错误的情况下

```
 test.cc:32:74: error: no matching function for call to ‘tuple_cat(int, odds<int, bool>::type)’ 
```

目标是调用一个函数，该函数递归地解包参数，将选择收集到一个收集元组中，然后返回它。为了以扁平的方式累积它，我使用`std::tuple_cat()`扁平递归尾元组，添加一个头，然后返回元组。转发用于在递归期间不丢弃引用限定符。

稍后在代码中，结果元组被解包以调用不同的可变参数函数，但这超出了此错误的范围。

显然，我在某处省略了一些微妙但至关重要的细节，但我发现在追查潜在问题方面存在很大困难。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T23:48:45.467

to 的参数`tuple_cat`必须是元组（或支持`std::tuple_size`和`std::tuple_element`API 的“类似元组”的东西，例如`std::pair`or `std::array`），但从错误消息来看，您似乎使用非元组类型调用它。为此，您可能需要以下内容：

```
std::tuple_cat(std::make_tuple(a_non_tuple), a_tuple, another_tuple); 
```

这会将第一个参数转换为 a `tuple<decltype(a_non_tuple)>`，因此它可以与其他元组连接。

> 连接`std::tuple<T1, std::tuple<T2, std::tuple<T3, ...>>>`成`std::tuple<T1, T2, T3, ...>`

这不是“串联”。我认为正确的术语是“扁平化”。

我不确定您在尝试什么，因为您没有提供完整的示例。你打电话`foo`的论点是这样的`std::tuple<T1, std::tuple<T2, std::tuple<T3, ...>>>`吗？

那是行不通的，因为`foo`将推断`T`为`std::tuple<T1, std::tuple<T2, std::tuple<T3, ...>>>`并实例化特化`odds<T1>`，它只是将参数包装到`foo`另一个*元*组中！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-16T19:11:08.913

我不知道这对您是否感兴趣，因为它是一种替代实现，而不是您问题的答案。我认为使用`tuple_cat`这样的方法最终会在运行时进行大量移动/复制，尽管编译器可能会为琐碎的类型避免这些。无论如何，这似乎是一个有趣的 TMP 问题。

这就是我想出的（这很可能过于冗长）；它肯定可以使用一些清理（以及我拥有的 clang 版本——几周前的主干——在尝试编译它时断言）。

有趣的递归位是 in `Skip`，它使用前一个元组作为模式（计数，真的）来构造下一个；最后，您可以看到 Odds 如何使用 SkipHelper 传递两个参数模式来设置初始调用。（那部分肯定需要一些工作，也许使用数字会更容易）：

```
namespace skip_args {
namespace detail {

// We use Tuple as a kind of generic typelist.
template<typename ...T>
using Tuple = std::tuple<T...>;

// Utility "functions"
// Pusher<T, Tuple<U...> >::type = Tuple<T, U...>
template<typename A, typename B> struct Pusher;
template<typename T, typename ...U> struct Pusher<T, Tuple<U...>> {
  using type = Tuple<T, U...>;
};
template<typename A, typename B>
using push = typename Pusher<A, B>::type;

// Skip is an intermediate used to skip over ignored elements.
// To allow recursion, we declare the general form first.
// All three arguments are Tuples.
template<typename Next, typename Rest, typename This> struct Skip;

// Node is actually used to store some data item. It also inherits from the next
// following Node (if there is one) so that we end up with an inheritance chain.
// (That's the part similar to libstdc++ tuples; it makes the layout the same,
// too, as long as there's no EBO to deal with, because we don't bother here.)
template<typename Rest, typename ...This> struct Node;

template<typename ...R_, typename T, typename ...T_>
struct Node<Tuple<R_...>, T, T_...>
: Skip<Tuple<>, Tuple<R_...>, Tuple<T, T_...>>::type {
  using self = Node<Tuple<R_...>, T, T_...>;
  using next = typename Skip<Tuple<>, Tuple<R_...>, Tuple<T, T_...>>::type;
  // Recursive construction of node types
  using nodes = push<self, typename next::nodes>;
  using value_type = T;
  // The constructor takes all the arguments, uses the first one, skips some,
  // and passes the rest to the next node.
  constexpr Node<Tuple<R_...>, T, T_...>(T&& t, T_&&...t_, R_&&...r_)
      : next(std::forward<R_>(r_)...), value(std::forward<T>(t)) {
  }
  T&& value;
};

// Base:
template<>
struct Node<Tuple<>> {
  using nodes = Tuple<>;
  constexpr Node<Tuple<>>() {}
};

// Skip (N...) (R R...) (T T...) => Skip (N... R) (R...) (T...)
// In other words, it drops elements from the third tuple, and for each one it
// moves an element from the second tuple to the first tuple. If it runs out of
// the third tuple, it "returns" a new Node. If it runs out of the second tuple,
// then we're done, but to satisfy the node requirements, it actually needs to
// declare a constructor (which drops all its arguments)

// General case:
template<typename ...N_, typename R, typename ...R_, typename T, typename ...T_>
struct Skip<Tuple<N_...>, Tuple<R, R_...>, Tuple<T, T_...>>
  : Skip<Tuple<N_..., R>, Tuple<R_...>, Tuple<T_...>> {
};
// Ran out of pattern
template<typename ...N_, typename R_, typename T_>
struct Skip<Tuple<N_...>, R_, T_> {
  using type = Node<R_, N_...>;
  using nodes = typename type::nodes;
};

template<typename T> struct TupleTyper;
template<typename ...T> struct TupleTyper<Tuple<T...>> {
  using type = Tuple<typename T::value_type...>;
};

template<typename A, typename B, typename C> struct TupleMaker;
template<typename Tup, typename H, typename ...T>
struct TupleMaker<Tup, H, Tuple<T...>> {
  Tup operator()(H&& helper) {
    return Tup(static_cast<T&>(helper).value...);
  }
};

template<typename N> struct SkipHelper {
  using tuple_type = typename TupleTyper<typename N::nodes>::type;
  template<typename ...U>
  tuple_type operator()(U&& ...u) {
    return TupleMaker<tuple_type, N, typename N::nodes>()(N(std::forward<U>(u)...));
  }
};

} // namespace detail

template<typename ...T> struct Odds;

template<typename T1, typename T2, typename ...T_>
struct Odds<T1, T2, T_...>
  : detail::SkipHelper<detail::Node<detail::Tuple<T_...>, T1, T2>> {
};
template<typename T1>
struct Odds<T1> : detail::SkipHelper<detail::Node<detail::Tuple<>, T1>> {
};

// tuple_from_odds takes any number of arguments,
// and returns a tuple of the odd numbered ones.
template<typename...T> auto tuple_from_odds(T&&...t)
    -> typename Odds<T...>::tuple_type {
  return Odds<T...>()(std::forward<T>(t)...);
}

} // namespace skip_args 
```

# string - 提取精确匹配字符串的索引

> ID：13892197
> 
> 赞同：0
> 
> 时间：2012-12-15T12:30:52.843
> 
> 标签：string, r, match

我试过这个，但这将再次需要一个`for`-loop 来比较，所以找到索引的任何更好的方法。

```
str[[1]][1]  
"NYA.FWD.AMGM.MON..MAXRUNALARM."
m<-grep( str[[1]][1] , colnames(log_data)[2:ncol(log_data)] , value=FALSE)
m
[1] 5 6 
```

在哪里

```
colnames(log_data)[6]
"NYA.FWD.AMGM.MON..MAXRUNALARM....SU."
colnames(log_data)[7]
"NYA.FWD.AMGM.MON..MAXRUNALARM." 
```

我只想要**6**作为索引，表示字符串的**确切长度**，或者是否有更好的方法来提取相同长度的相似字符串。

我也用过

```
str_detect((colnames(log_data)[2:ncol(log_data)]),fixed(str[[1]][1]))
[1] FALSE FALSE FALSE FALSE  **TRUE  TRUE** FALSE FALSE FALSE FALSE FALSE FALSE
[13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE 
```

但是获取逻辑向量只需要一个**索引**，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:59:23.960

如果您想要完全匹配，请使用`match`：

```
match(str[[1]][1], colnames(log_data)[2:ncol(log_data)]) 
```

它将返回第一个匹配项的索引。如果您有多个匹配项并想要其所有索引，请执行以下操作：

```
which(str[[1]][1] == colnames(log_data)[2:ncol(log_data)]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-10T16:59:08.517

这是一个正则表达式方法，它使用字符串长度（`nchar`和/或`nzchar`）返回所有精确匹配的索引。仅对于第一个匹配项，只需附加`[1]`到以下`which(...)`调用的末尾（即`which(...)[1]`）。

假设`c.names`将是来自 的结果`colnames(log_data)`。

```
> s <- "NYA.FWD.AMGM.MON..MAXRUNALARM."
> c.names <- c("NYA.FWD.AMGM.MON..MAXRUNALARM....SU.", 
               "NYA.FWD.AMGM.MON..MAXRUNALARM.",
               "NYA.FWD.AMGM.MON..MAXRUNALARM..D.",
               "..NYA.FWD.AMGM.MON..MAXRUNALARM.",
               "NYA.FWD.AMGM.MON..MAXRUNALARM.") 
```

**仅限第一场比赛：**

```
> which(!nzchar(gsub(s, '', c.names)))[1]
## [1] 2 
```

**所有比赛：**

```
> which(!nzchar(gsub(s, '', c.names)))
## [1] 2 5 
```

# android - Android webView.loadUrl 中的 UTF8 问题

> ID：13892210
> 
> 赞同：2
> 
> 时间：2012-12-15T12:32:06.283
> 
> 标签：android, utf-8

我的网页在包括 iOS 设备在内的所有浏览器中都可以使用。但是我在 Android 应用程序 webview 中使用相同的页面，字符是空白的。

原始字符： "à´•à´°àµà´£à´¯à´±àµà´± ; à´¨à´¿à´¸àµà´¨àµ‡à´¹à´®à´¾à´¯ ; à´ ¸àµà´¨àµ‡à´¹à´®à´¿à´²àµà´²à´¾à´¤àµà´¤"

在我使用 - meta http-equiv="Content-Type" content="text/html; charset=utf-8" 后，它以当地语言显示正确的单词 [കരുണയറ്റ ; നിസ്നേഹമായ; സ്നേഹമില്ലാത്ത]，但在 android webView.loadUrl 中没有显示相同的网页。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-15T12:47:52.050

尝试使用这个而不是`webView.loadUrl(...)`：

```
webView.loadDataWithBaseURL(null, "yourWebPage ", "text/html", "utf-8", null); 
```

或试试这个：

```
WebSettings settings = webView.getSettings();
settings.setDefaultTextEncodingName("utf-8"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-25T04:38:01.643

嘿，我建议你们所有人在真实设备上测试你的应用程序时遇到 unicode 问题，我的应用程序无法在模拟器上运行，但是当我在真实设备上测试时，我的应用程序加载的所有 unicode 字体可能听起来很傻，但它确实对我有用。这是我的代码

```
WebSettings settings = webView.getSettings();
settings.setDefaultTextEncodingName("utf-8");
webView.loadUrl("http://kpbhandari.info/"); 
```

# c# - tt & 0 在这一行中代表什么？

> ID：13892213
> 
> 赞同：2
> 
> 时间：2012-12-15T12:32:30.427
> 
> 标签：c#

tt & 0 在这一行中代表什么？

```
 Time = string.Format("{0:HH:mm:ss tt}", DateTime.Now); 
```

我看了这里，但什么也没看到：http: [//msdn.microsoft.com/fr-fr/library/system.string.format.aspx](http://msdn.microsoft.com/fr-fr/library/system.string.format.aspx)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T12:34:31.710

The`0`是第一个`format`参数值的占位符 - 它代表`DateTime.Now`示例中的值。这是[复合格式字符串](http://msdn.microsoft.com/en-us/library/txafckwd.aspx)的一部分。

这`tt`是[自定义日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)的一部分。

`tt`用于 AM/PM 指示符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T12:40:11.927

0 - 这是要格式化为给定参数的字符串的对象的索引号部分（在您的情况下是 DateTime.Now）

tt - 这里表示 AM/PM 值。

[有关“tt”格式的更多信息](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx#ttSpecifier)

# python - 启动对话框时如何使父窗口不可见

> ID：13892214
> 
> 赞同：1
> 
> 时间：2012-12-15T12:32:33.953
> 
> 标签：python, window, visibility, pyside

我是 Gui 编程的新手。我正在使用 PySide。我想问的是，当从主窗口启动对话框时，是否有一种方法可以使父窗口不可见。还如何使窗口在退出对话框时重新出现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T17:51:03.180

所有小部件都有[隐藏](https://qt-project.org/doc/qt-4.8/qwidget.html#hide)和[显示](https://qt-project.org/doc/qt-4.8/qwidget.html#show)功能，可用于实现您想要的：

```
 parent.hide()
    dialog = QtGui.QDialog()
    dialog.exec_()
    parent.show() 
```

# java - Java 类定义

> ID：13892222
> 
> 赞同：0
> 
> 时间：2012-12-15T12:33:12.357
> 
> 标签：java

b/w 类继承和嵌套是否有区别。还是它们都一样？

我们可以通过 super 关键字访问超类变量 如何访问内部类变量？

```
class Outerclass
{
  static int c;
  int d=5;
  static class Inner
  {
    int a =9;
  }
  class NestedInner
  {
    int b=10;
  }
}

class Test
{
  public static void main(String args[]){
    Outerclass Oc=new Outerclass();
    Outerclass.Inner n=Oc.new Inner();
    System.out.println("....a is...."+n.a);
  }     
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-15T12:34:55.177

继承和嵌套在含义和用法上完全不同。我建议你google一下，自己找。

仅供参考，请浏览这些 Oracle 文档路径

[遗产](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)

[嵌套类](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)

嵌套内部类只能在定义的父类内部使用。继承用于扩展类的现有行为。

# javascript - 如何在现有的随机横幅脚本中包含 Google Adsense 脚本？

> ID：13892228
> 
> 赞同：2
> 
> 时间：2012-12-15T12:34:00.580
> 
> 标签：javascript, jquery, adsense

我目前正在使用自己的脚本来管理我网站上的横幅/广告。我有一个数组，其中包含带有链接和图像的基本 html，然后是 som 脚本，它随机从数组中提取一个项目并显示它。

我想将 Google Adsense 添加为数组中的一项，但无法正常工作。我*认为*我需要做的只是在数组中包含对 Google 脚本的调用，但我有点迷失了。任何人都可以提供任何帮助或建议吗？

我的数组是这样设置的：

```
var headerSpons = ['<iframe src=\"url\" width=\"728\" height=\"90\" scrolling=\"no\" border=\"0\" marginwidth=\"0\" style=\"border:none;\" frameborder=\"0\"></iframe>'] 
```

我需要包含的 Adsense 代码如下所示：

```
<script type="text/javascript"><!--
google_ad_client = "ca-pub-xxxxxxxx";
/* Header Banner */
google_ad_slot = "xxxxxxx";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script> 
```

# for-loop - 如何更正此 for 循环代码？

> ID：13892237
> 
> 赞同：0
> 
> 时间：2012-12-15T12:35:03.123
> 
> 标签：for-loop, python-2.7, performance

```
# Define the project name and path for input files
# need to use \ before \t and \ to print these characters
Project = "101"
path_Directory =  "C:\Users\\tp\Desktop\project\\"
full_path_Directory = path_Directory + Project

# Set path for files in the program
File_stock = full_path_Directory + "_stock.txt"
File_exchange = full_path_Directory + "_exchange.txt"
File_country = full_path_Directory + "_country.txt"

var_set = [File_stock, File_exchange, File_country]

  for var in var_set:
    var = open(var,'r')
    var = var.read()[3:]
    print var 
```

我创建了一个 var_set 来包含 3 个变量 - File_stock、File_exchange 和 File_country，因为我认为循环执行重复性任务会更有效。虽然上面显示的代码的输出是正确的，但是当我输入：“打印股票”或“打印交换”或打印“国家”时，输出总是错误的，因为它显示的是路径目录而不是文本文件中的数据.

有谁知道可能是什么原因，我应该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:11:09.963

如果要将每个文件的数据存储在数据结构中，则需要使用 a`dict`或类似方法：

```
Project = "101"

path_Directory =  r"C:\Users\tp\Desktop\project"
names = ['stock', 'exchange', 'country']
data = {}

for name in names:
    path = os.path.join(path_Directory, '{0}_{1}.txt'.format(Project, name))
    data[name] = open(path, 'r').read(3) 
```

我还将您的替换`.read()[:3]`为`.read(3)`仅读取三个字符而不是读取整个文件；它更有效。

现在`data`将有三个键，每个指向从每个文件中读取的 3 个字符：

```
print data['stock']  # prints 'xyz'. etc. 
```

# php - apache web 服务器只在本地

> ID：13892240
> 
> 赞同：0
> 
> 时间：2012-12-15T12:35:30.243
> 
> 标签：php, apache

我正在尝试在我的 mac 山狮上托管一个网站。

我需要 virtualhostx 才能让我的网站在线吗？到目前为止，它只是本地的，我的朋友都看不到它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:46:18.157

你看它`locahost`还是`127.0.0.1`我猜的。我的猜测是您在路由器后面，您甚至可以使用路由器提供的 IP 访问您的站点。问题是您的路由器不知道如何重定向来自外部的请求，因此任何访问您的外部 IP 的人都无法访问您的机器。

为了解决这个问题，您需要在路由器上创建一个端口转发规则，以明确告诉它向哪里发送端口 80 请求。

[如何：端口转发](http://www.youtube.com/watch?v=Kp-R-eHiQco)

[维基百科：端口转发](http://en.wikipedia.org/wiki/Port_forwarding)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:46:32.280

通常互联网连接是使用 NAT 路由器完成的，因此需要有端口转发才能让 Apache 在其后面工作。

由于世界各地有如此多的路由器型号，您应该关注这个网页，因为它可以说是最好的资源：

[http://portforward.com/](http://portforward.com/)

实际上，这个问题也被问了很多次。请在下次询问之前进行搜索。

# cakephp - Cakephp网站空白

> ID：13892241
> 
> 赞同：0
> 
> 时间：2012-12-15T12:36:03.270
> 
> 标签：cakephp

我的网站作为开发服务器正常工作，但是该网站在本地服务器中作为空白页面运行，如 Cakephp 网站如何正确配置以及如何在本地服务器中正常运行

我也上传了数据但显示空白[http://www.florentserieye.com/](http://www.florentserieye.com/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T16:09:27.227

在我看来，这可能来自您的 .htaccess 文件，请检查您的 prod 服务器是否作为 rewrite mod 处于活动状态。

它附加了很多你在开发服务器和生产服务器上的配置，你的产品服务器是否共享（如 public_html/www）。最后要测试的第一件事是检查 rewriting_rules 是否正确（联系服务器主机以获取有关在其服务器上重写规则的正确信息）。

可以肯定的是，上传服务器蛋糕的新版本并检查页面是否仍然空白是一件好事。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-02T09:54:26.913

您只需对 apache 设置进行少许更改，通过 apache/conf/httpd.conf 并通过删除 # 启用“LoadModule rewrite_module modules/mod_rewrite.so”，然后转到 app/tmp 文件夹并从名为的缓存文件夹中清除数据作为模型，持久性和视图。当然它会起作用，您可以在本地运行您的项目

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-16T02:02:39.020

听起来您已经将代码从生产复制到本地而没有清除缓存。调试也未打开，因此缓存将保留，而错误被隐藏。

打开调试并确保`tmp/cache`删除所有缓存。[ClearCache](https://github.com/ceeram/clear_cache)插件也可能有帮助

# javascript - 将字符串变量分配给 html 标签

> ID：13892253
> 
> 赞同：0
> 
> 时间：2012-12-15T12:38:08.387
> 
> 标签：javascript, html

我想传递一个动态变化的字符串值。我怎样才能将它分配给一个选项值=...标签，就像这里的第一个选项 vaue 工作正常，但我想每次都传递差异名称，所以我怎样才能传递那个字符串变量。

```
<script type="text/javascript">
    var test="117960298357503_22120.mp4";
</script>

<OPTION value="J:\Users\ADITYARAJ SINGH\Downloads\Video\117960298357503_22120.mp4">My Video File </OPTION>
<OPTION value="J:\Users\ADITYARAJ SINGH\Downloads\Video\('+ test +')">My Video1 File </OPTION> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:46:47.880

给你的选项一个id，然后用jquery获取它并设置它的值：

HTML 标记：

```
<OPTION value="J:\Users\ADITYARAJ SINGH\Downloads\Video\117960298357503_22120.mp4">My Video File </OPTION>
<OPTION value="" id="myoption">My Video1 File </OPTION> 
```

和脚本：

```
$(function () {
    var test = "117960298357503_22120.mp4";
    $('#myoption').attr('value', 'J:\Users\ADITYARAJ SINGH\Downloads\Video\' + test);
}); 
```

# c# - C#从txt文件到datagridview加载

> ID：13892254
> 
> 赞同：0
> 
> 时间：2012-12-15T12:38:10.813
> 
> 标签：c#, datagridview

> Kazım Unlu 14/10/1985 土耳其 FARh+ 34568668275 Sht. Mehmet Emin Street, No:1, Gocmenkoy,Istanbul,TURKEY

如何将此文本从文本文件加载到 datagridview？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:50:02.240

因为这个问题非常广泛和imo。由两个问题组成，我将其拆分。我敦促您也将问题分开，并添加您迄今为止尝试过的内容（创建两个新问题）。

从 txt 文件中读取，这是来自 msdn 的一个很好的示例：http: [//msdn.microsoft.com/en-us/library/db5x7c0d.aspx](http://msdn.microsoft.com/en-us/library/db5x7c0d.aspx)

从 txt 文件中读取字符串后，您应该将其拆分。由于字符串非常不一致，这可能很难。进行拆分没有任何价值。你可以用它当前的格式做的最好的事情是分割空格（“”）或逗号。

现在您可以将值添加到 datagridview。这是解释如何使用 datagridviews 的指南：http: [//www.dotnetperls.com/datagridview](http://www.dotnetperls.com/datagridview)

编辑：抱歉，答案很笼统，但这是一个非常广泛的问题。

# c - 这是MSDN的错误吗？关于指针运算

> ID：13892257
> 
> 赞同：0
> 
> 时间：2012-12-15T12:38:18.320
> 
> 标签：c, windows, arrays, winapi, pointers

在[http://msdn.microsoft.com/en-us/library/windows/hardware/ff545793(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/hardware/ff545793%28v=vs.85%29.aspx)，

```
typedef struct _FILE_FULL_EA_INFORMATION {
  ULONG  NextEntryOffset;
  UCHAR  Flags;
  UCHAR  EaNameLength;
  USHORT EaValueLength;
  CHAR   EaName[1];
} FILE_FULL_EA_INFORMATION, *PFILE_FULL_EA_INFORMATION; 
```

MSDN 在最后一行说：

“与每个条目关联的值遵循 EaName 数组。也就是说，EA 的值位于**EaName + (EaNameLength + 1)**处。”

我认为这是错误的，正确的应该是

“与每个条目关联的值遵循 EaName 数组。也就是说，EA 的值位于**EaName + EaNameLength**。”

谁是正确的？

PS：

在 sam 页面上，MSDN 说：“EaNameLength：EaName 数组的字节长度。此值**不包括 EaName 的空终止符**。”

此外，MSDN**没有说**EaName 必须以空字符字节终止。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:39:32.697

从[MSDN](http://msdn.microsoft.com/en-us/library/cc232069%28v=prot.20%29.aspx)：

> `EaName`（变量）- 包含扩展属性名称的 8 位 ASCII 字符数组，**后跟单个终止空字符字节**。
> 
> `EaNameLength`（1 个字节）：一个 8 位无符号整数，包含`EaName`字段中扩展属性名称的长度（以字节为单位）。**此值不得包含终止空字符到`EaName`.**

空终止符的`+1`帐户。

# actionscript-3 - 退出框架时卸载 swf

> ID：13892259
> 
> 赞同：0
> 
> 时间：2012-12-15T12:38:25.873
> 
> 标签：actionscript-3, flash

我四处搜索，无法将找到的任何内容应用于我的代码以使其正常工作。

我正在构建一个网站，导航到每个页面（框架）将加载一个包含内容的外部 swf。理想情况下，我希望在我离开框架时卸载内容，这样我就可以加载新的 swf。
这是我用于加载 swf 的 as3：

> var swfLoader:Loader = new Loader();
> 
> stage.addChild(swfLoader); swfLoader.x = 0; swfLoader.y = 100;
> 
> var bgURL:URLRequest = new URLRequest("gallery_swf/reg_slide.swf");
> 
> swfLoader.contentLoaderInfo.addEventListener(Event.COMPLETE, loadProdComplete);
> 
> swfLoader.load(bgURL);
> 
> 函数 loadProdComplete(e:Event):void {
> 
> 跟踪（“文件加载”）；
> 
> }

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T12:54:10.360

卸载外部 swf 最安全的方法是使用加载程序的[unloadAndStop](http://helpx.adobe.com/flash/kb/flash-player-10-action-script.html)方法。如果您的目标是 Flash Player 9，您将无法使用此方法，而必须使用此方法`unload()`。请注意，这`unload()`需要额外的手动工作以确保正确卸载所有物品。

引用链接：

> 尽管 Loader.unload 删除了 Loader 对象的子对象，但卸载的对象仍将在后台运行，直到它被垃圾收集器实际处理掉。由于垃圾收集器不会处理引用的对象，因此“卸载”的内容可能永远不会被删除（例如，事件侦听器可以引用该对象）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:42:35.993

只需使用：

```
swfLoader.unload(); 
```

卸载 swf。

# freebase - 本地 Web 应用程序以及 freebase 应用程序

> ID：13892260
> 
> 赞同：0
> 
> 时间：2012-12-15T12:38:28.773
> 
> 标签：freebase, mql, freebase-acre

我只是想知道是否可以编写查询并对结果进行处理（如果需要，重新查询并进行进一步处理）所有这些都作为 freebase.com 上“freebase 应用程序”的一部分。然后使用 eclipse 在我的笔记本电脑上创建一个本地 Web 应用程序，并利用上述（可能通过一些 api、ajax 等）来取回结果，然后在我的本地服务器（localhost）上进行更多处理，最后显示它..这可能吗？如果是的话，你能请简短...

我问这个是因为，我听说有两种使用 freebase 的方法，

1.  在 ACRE 中创建和托管
2.  网站/应用程序对 freebase 进行 API 调用以及作为参数的 MQL 查询

我有一些处理逻辑，我想在显示之前对结果查询执行，但我不想把它作为开源。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T17:28:00.923

当然，这是可能的，但为什么不把所有的逻辑放在一个地方呢？如果您不想利用 Acre 对开源代码的免费托管，只需将所有内容放在本地 Web 应用程序中即可。

您可以使用 Acre 创建提供 API 的应用程序（例如[http://genderednames.freebaseapps.com/gender_api?name=Tom](http://genderednames.freebaseapps.com/gender_api?name=Tom)），但除非它增加价值，否则您会引入额外的延迟并增加故障点而不会获得任何好处.

# windows - 入门链接在 oracle 11g 服务器中不起作用

> ID：13892261
> 
> 赞同：22
> 
> 时间：2012-12-15T12:38:29.833
> 
> 标签：windows, oracle, oracle11g, oracle-apex

我已经开始在 Windows 7 64 位操作系统上使用 Oracle 数据库服务器，但遇到了以下错误。

```
"Error- Windows cannot find 'http://127.0.01:%HTTPPORT%/apex/f?p=4950'. 
 Make sure you typed the name correctly, and then try again" 
```

我试图更改 get_started 的属性，但它说更改不能应用于此快捷方式。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2014-06-12T10:31:01.467

简单的解决方案：

您需要直接告诉您的 http 端口在哪里。这样做；打开存储 Oracle 的文件夹并导航到该文件夹​​中的服务器文件夹（在我的情况下为 C:\Oracle\oraclexe\app\oracle\product\11.2.0\server），右键单击 Get_Started 文件并选择属性。在那里你可以手动输入你的 http 端口，在我的例子中通常是 8080： ....127.0.0.1:8080/apex/f?p=4950

问题应该得到解决。

希望这可以帮助您度过难关..

美国皮纳尔

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-08-14T18:24:45.707

This is what worked for me on Windows 8.1 with Update 1, 64-bit:

Create a SYSTEM level Environment variable named HTTPPORT with a value of 8080. Reboot. Click the Get Started link and this time it will work because it can resolve %HTTPPORT%.

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-07-22T15:33:49.947

你可以直接去`http://127.0.0.1:8080/apex/f?p=4950`，你会得到你的Oracle数据库的主页

或者您可以制作一个新的快捷方式图标并将其网址设置为上一个链接

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-02-27T11:27:48.777

我找到了解决方案右键单击快捷方式>选择属性>转到安全选项卡>选择经过身份验证的用户>并授予执行所有操作的权限，现在尝试更改您将能够执行的URL 希望这有帮助

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-03-22T11:51:23.217

确保这些服务正常工作：

*   OracleJobSchedulerXE
*   OracleMTS 恢复服务
*   OracleServiceXE
*   OracleXEClrAgent
*   OracleXETNSListener

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-10-10T21:43:25.673

这篇文章对我有用： [https ://orlandoolguin.wordpress.com/2012/06/10/configuracion-de-apex-en-oracle-11g/](https://orlandoolguin.wordpress.com/2012/06/10/configuracion-de-apex-en-oracle-11g/)

也许您需要解锁匿名帐户才能启动 Apex。在 cmd 上使用此代码：

```
C:\oracle\product\11.2.0\db_1>sqlplus / as sysdba

SQL> alter user anonymous account unlock; 
User altered. 
```

如果不起作用，您可以尝试文章中定义的先前步骤。

我希望你能解决这个问题。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-15T14:21:00.330

我有解决办法。我将 Internet Explorer 设为我的默认浏览器，然后在“将此网站添加到区域”下添加 127.0.0.1。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-07-09T09:02:31.610

只需转到文件 (Get_Started) 所在的位置，这可能是 -> C:\oraclexe\app\oracle\product\11.2.0\server 然后**将**其重命名为任何其他名称，即它。

这对我有用。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-10-10T16:01:05.610

使用`localhost`而不是`127.0.0.1`为我工作。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-04-29T22:50:13.117

正确的解决方案是匹配文件中的条目：

C:\oracleexe\app\oracle\product\11.2.0\server\network\ADMIN\listener.ora

（带有 --> 标记的条目）

：

```
LISTENER =

(DESCRIPTION_LIST =

(DESCRIPTION =

  (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))

--> (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))

--> (ADDRESS = (PROTOCOL = TCP)(HOST = myserver.company.com)(PORT = 1521))

)

)

: 
```

使用文件中的条目：

C:\Windows\System32\drivers\etc\hosts

（带有 --> 标记的条目）

```
:

--> 127.0.0.1 localhost

--> 1.2.3.4 myserver myserver.company.com

: 
```

最后，在管理员帐户下执行：

```
C:> lsnrctl stop

C:> lsnrctl start 
```

解决了。无需更改名称，无需拖放。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2017-04-11T07:23:00.123

检查您的防病毒程序，其中一些软件会阻止端口，取消阻止它们，然后就可以了！

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-08-04T23:30:06.237

要成功运行 Database_Oracle_Application_Express_11gr，请执行以下操作：

*   做 Windows_key + R - 它将打开运行
*   输入 services.msc
*   从下方选择扩展视图以查看所有服务
*   按“O”键以按字母顺序访问以“O”开头的服务
*   找到名为：OracleServiceXE 的服务
*   右键单击并移动到属性
*   在属性中：将启动类型设置为“自动”。而已。

尝试再次运行 Database_Oracle 并成功获得访问权限。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2019-04-14T06:21:59.153

像这样 C:\oraclexe\app\oracle\product\11.2.0\server\Get_Started.url 浏览 oracle 服务器文件夹并打开 Get_Started 的属性并更改' [http://127.0.01:%HTTPPORT%/ apex/f?p=4950](http://127.0.01:%HTTPPORT%/apex/f?p=4950) ' 与此 ' [http://127.0.01:8080/apex/f?p=4950](http://127.0.01:8080/apex/f?p=4950) '

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2016-08-27T01:10:13.993

尝试以管理员或管理员用户身份运行它。我做的。有用

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2018-03-20T23:36:02.913

在浏览器地址栏中键入

[http://127.0.0.1:8080/apex/f?p=4950](http://127.0.0.1:8080/apex/f?p=4950)

您必须更改端口号 8080，前提是您在安装过程中选择了不同的 HTTP 端口

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2017-04-18T19:02:16.550

在某些安装中，Oracle 肯定会出现不添加环境变量 %HTTPPORT% 的错误

添加名称为 HTTPPORT 且值为 8080 的新环境变量（用于用户或系统），您可能需要重新启动

# android - 如何在 Phonegap/Cordova 中使用鼠标事件？

> ID：13892263
> 
> 赞同：1
> 
> 时间：2012-12-15T12:39:02.500
> 
> 标签：android, apache, cordova

我一直在尝试使用 mousemove、mousedown、mouseup 但它们不起作用，在 Phonegap/Cordova 中是否有不同的方法可以做到这一点？我正在做一个安卓应用程序。谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-15T14:28:00.203

是的，有不同的方法。首先您必须了解，这些事件在 android 应用程序中不起作用。相反，您应该使用这些事件：

```
mousedown -> touchstart
mousemove -> touchmove
mouseup   -> touchend 
```

但是如果您仍然需要鼠标事件，您可以像这样复制它们：[https ://stackoverflow.com/a/6175148/1848600](https://stackoverflow.com/a/6175148/1848600)

# objective-c - 如何在 UITableView 中获取 UITextView 的位置

> ID：13892264
> 
> 赞同：0
> 
> 时间：2012-12-15T12:39:08.773
> 
> 标签：objective-c, ios, uitableview, uitouch

> **可能重复：**
> [UITableView 和键盘滚动问题](https://stackoverflow.com/questions/594181/uitableview-and-keyboard-scrolling-issue)

在`UIView`其中我有它的子视图`UITableView`，并且在`UITableViewCells`我有`UITextView`用户可以输入文本的地方，现在我想获取用户当前点击的那个**UITextView的****位置。**

 ****UIToucheBegan**没有从**UITableView****调用****UIView**的子**视图。**

 ***** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:19:59.963

你可以做的是：

1.  将您的视图控制器设置为 UITextView 委托。
2.  开始编辑时，遍历 UITextView 超级视图，直到找到 UITableViewCell。
3.  使用 UITableViewCell 框架属性来确定其位置（与 UITableView.contentOffset、UITableView.frame 和您的主容器 UIView.frame 一起）以获取 UITextView 相对于 UIView（或您想要的任何视图）的位置。

或者

1.  向 UITableView 添加轻击手势识别器。
2.  在目标方法中，用于`[tapGestureRecognizer locationInView:myTableView]`获取相对于 UITableView 内容的点击。
3.  使用 UITableView indexPathForRowAtPoint: 方法，然后使用 cellForRowAtIndexPath: 来获取 UITableViewCell。从那里，做上面的（3）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:43:12.367

子类 UITableView ，然后在该子类中实现 touchesBegan 如果你想触摸 tableview

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T14:35:49.183

尝试在 cellForRowAtIndexPath 方法中向 textField 添加标签

然后在用户开始输入 UITextField 时调用的方法中查找 sender.tag

或者......也许为此制作 CustomCell 会更好******

# c# - 插入新记录时获取“字符串或二进制数据将被截断。语句已终止”

> ID：13892266
> 
> 赞同：0
> 
> 时间：2012-12-15T12:39:10.003
> 
> 标签：c#, asp.net, sql-server

当我尝试插入数据库时​​出现此错误。我已经检查了大小是否足够长以及属性是否正常。这是我的 SQL 布局。

```
schoolID   int (Primary Key)
schoolNaam varchar(50)
stad       varchar(30) 
```

我的插入代码：

```
BLSchool blSchool = new BLSchool();
List<School> scholen = blSchool.GetAll();
School school = new School();
school.SchoolNaam = schoolnaam.ToString();
school.Stad = schoolstad.ToString();
int schoolID = blSchool.InsertSchool(school);
db.Schools.InsertOnSubmit(school);
db.SubmitChanges();
return school.SchoolID; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T08:39:28.717

不，您没有检查尺寸或至少没有正确检查。`schoolnaam`长度超过 50 个字符，或者超过`schoolstad`30 个。

为避免该错误，请使用以下代码：

```
school.SchoolNaam = new string(schoolnaam.ToString().Take(50).ToArray());
school.Stad = new string(schoolstad.ToString().Take(30).ToArray()); 
```

如果值更长，这将只占用前 50/30 个字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-16T09:37:47.807

字符串太长，只是你还没发现问题。

可能您应该只增加列长度。A 根据`varchar`需要占用尽可能多的空间。它不会浪费空间来增加尺寸。

您可能还应该验证客户端上的字符串并向用户显示错误。

不要只是截断它，因为这会在不通知用户的情况下破坏数据。

# spring - 如何在类中注入静态 Sting 属性而不创建 bean

> ID：13892271
> 
> 赞同：0
> 
> 时间：2012-12-15T12:40:04.413
> 
> 标签：spring

我有一个几乎没有静态实用功能的类。

我想在不创建其 bean 的情况下注入一个属性值 << 这是一个静态字段>>。

```
@Component
class TestUtils {

 @Value("${toke.value}")
 public static String token;

 public static String doOperation(String value) {
   .... do some operation using toke
   return result;
 }

 public static void setToken(String token ) {
  TestUtils.token = token;
 }
} 
```

我从不创建此类的对象。该方法被称为

```
TestUtils.doOperation(parms); 
```

只是想知道当应用程序启动时，我有什么方法可以设置这个值的属性。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:48:24.327

只是不要。使您的方法成为实例方法而不是静态方法。使您的字段成为私有实例字段而不是公共静态字段，并在您需要访问以调用该方法的地方注入一个 bean 实例。这就是依赖注入的全部意义所在。

Spring bean 默认情况下是单例的，因此在 JVM 中这样的字段不会超过一个。使其成为实例方法和可注入组件将使使用它的代码可测试，而静态方法则不然。

# html - 我不知道如何在带有 eXist db 的 html 文件中使用 xqueries

> ID：13892273
> 
> 赞同：2
> 
> 时间：2012-12-15T12:40:13.697
> 
> 标签：html, xml, database, xquery, exist-db

这可能真的很简单，但我不知道该怎么做。我有这些东西：

*   一个 HTML 文件
*   一个 eXist DB，其集合仅包含一个带有名称的 XML 文件
*   还有一个非常基本的 xquery 文件，其中包含命令`count(//name)`

当然，当我在 eXist 客户端中执行 xqy 文件时，它运行良好，但我想做的只是在我的 HTML 文件中打印：

> 文件中的名称：49 // 49 是计数的结果（//名称）

我应该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-16T22:06:17.593

传统上，在 eXist-db (*) 中，XQuery 不嵌入到您的 .html 文件中。XQuery 文件本身组装您的结果并将它们序列化到浏览器。所以你可能有一个像这样的 .xqy 文件（通过[http://yourserver.com:8080/exist/apps/myapp/get-names.xqy](http://yourserver.com:8080/exist/apps/myapp/get-names.xqy)调用）：

```
xquery version "1.0";

declare option exist:serialize "method=xhtml media-type=text/html";

let $count := count(//name)
return
    <html>
        <head/>
        <body>
            <div><p>There are {$count} names in the database</p></div>
        </body>
    </html> 
```

如果您有要拉入此文件的静态 HTML 片段（例如标题），只需将它们嵌入 XQuery 或使用 doc() 函数调用它们并插入它们，就像我在上面使用 $count 所做的那样：

```
let $header := doc('/db/myapp/header.html') 
```

您还可以扩展此模式并开发自己的模板模块以将应用程序的内容提供给模板，即 template:assemble-page($title, $content) 将返回一个完整的 HTML 页面，其中 $title 在 head/title 中在 body/h1 中，以及 body 中的内容——以及函数中指定的静态页眉、页脚等。

(*) 从 eXist-db 2.0（目前可作为候选版本）开始，有一个新的模板框架允许您在 HTML 模板中嵌入函数调用。这意味着更少的 XQuery 和 HTML 混合/嵌套，以及更清晰的关注点分离。要了解更多信息，请阅读本文，[eXist-db 中的 Web 应用程序开发入门](http://exist-db.org/exist/apps/doc/development-starter.xml)。它真的很优雅，我想你可能会发现这比我上面描述的方法更可取。在此框架中，您将保持 .html 文件原样并按以下方式引用 count(//name) 例程：

```
<p>There are <span class="app:count-names"/> names in the database</p> 
```

框架将 span/@class 视为对您已注册的模块中的函数 count-names() 的引用，例如 /db/apps/myapp/modules/app.xql。因此，假设您已经创建了该模块和函数 app:count-names()，那么当您调用 get-names.html 页面时，数据库会动态地将上面的元素转换为 app:count-names() 的结果，例如，42。

我希望这有帮助。

# mysql - mysql 选择是否存在一对多

> ID：13892275
> 
> 赞同：0
> 
> 时间：2012-12-15T12:40:36.683
> 
> 标签：mysql, sql, one-to-many, exists

我如何检查是否已经存在多对一关系？

```
SampleTable
╔════╦═══════╗
║ ID ║ OB_ID ║
╠════╬═══════╣
║  1 ║     1 ║
║  1 ║     2 ║
║  2 ║     3 ║
║  2 ║     1 ║
║  2 ║     2 ║
║  3 ║     1 ║
║  3 ║     3 ║
╚════╩═══════╝ 
```

我想搜索 SampleTable.ob_id 并选择 SampleTable.id（如果存在）。

搜索 (1,2)
返回 1；

```
╔════╗
║ ID ║
╠════╣
║  1 ║
╚════╝ 
```

搜索 (1,2,3)
返回 2；

```
╔════╗
║ ID ║
╠════╣
║  2 ║
╚════╝ 
```

搜索 (2,3)
返回空记录集（或 null）

```
╔════╗
║ ID ║
╚════╝ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:53:58.237

```
SELECT ID
FROM tableName a
WHERE ob_id IN (1,2,3)
GROUP BY ID
HAVING COUNT(*) =
            (
              SELECT COUNT(*)
              FROM TableName b
              WHERE b.ID = a.ID
            ) AND
      COUNT(*) = 3 -- the value of this depend on the number of values
                   -- you have supplied on you where clause. 
```

*   [值 [1, 2] 的 SQLFiddle 演示](http://sqlfiddle.com/#!2/42ba0/14)
*   [值 [1, 2, 3] 的 SQLFiddle 演示](http://sqlfiddle.com/#!2/42ba0/13)
*   [值 [2, 3] 的 SQLFiddle 演示](http://sqlfiddle.com/#!2/42ba0/15)

`ob_ID`如果没有为 every定义唯一约束`ID`，则需要使用`DISTINCT`

```
SELECT ID
FROM tableName a
WHERE ob_id IN (1,2)
GROUP BY ID
HAVING COUNT(DISTINCT ob_id) =
            (
              SELECT COUNT(DISTINCT ob_id)
              FROM TableName b
              WHERE b.ID = a.ID
            ) AND
      COUNT(DISTINCT ob_id) = 2 
```

# c++ - 加载共享库时未定义符号“tbb internal Allocate”

> ID：13892278
> 
> 赞同：0
> 
> 时间：2012-12-15T12:41:03.047
> 
> 标签：c++, c, linux, runtime-error, tbb

一些使用我的共享库的人在加载它时遇到问题。我已经告诉他们按照[此处](https://www.archlinux.org/packages/extra/i686/intel-tbb/)所述安装“gcc-libs” 。

我还告诉他们自己编译共享库，但没有运气。

这个问题还有其他解决方案吗？

这是试图在 CentOS6 上加载插件的程序的日志文件：

```
[23:16:57]   Failed (plugins/RouteConnectorPlugin.so: undefined symbol: _ZN3tbb8internal12NFS_AllocateEjjPv)
[23:16:57]  Loading plugin failed: RouteConnectorPlugin.so 
```

该程序是开源的，位于[此处](https://gpb.googlecode.com/files/RouteConnectorPlugin_182b.zip)，它是用 C 和 C++ 混合编写的（该程序仅针对 x86 编译）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:59:15.450

如果您的共享库依赖于另一个共享库，您应该链接它。然后，当您的库链接到其他一些可执行/共享库时，该依赖项将自动加载，用户无需显式链接该依赖项。

未定义的符号是

```
$ c++filt _ZN3tbb8internal12NFS_AllocateEjjPv
tbb::internal::NFS_Allocate(unsigned int, unsigned int, void*) 
```

这可能来自您提到的 intel-tbb 库。由于这是您的代码用户的依赖项，因此您希望您通过将其链接到您的库来正确声明该依赖项。

有关如何使用 GCC 执行此操作的信息，请参见例如[此答案。](https://stackoverflow.com/questions/13892328/how-to-link-a-so-file-to-a-so-file)

# c - C中图像旋转的openCV中心

> ID：13892279
> 
> 赞同：3
> 
> 时间：2012-12-15T12:41:04.903
> 
> 标签：c, image, opencv, rotation

我想逆时针旋转90度，但似乎旋转点不对。如何找到源图像的旋转中心？

```
 img=cvLoadImage(argv[1],-1); 
height    = img->height;
width     = img->width;
step      = img->widthStep;
channels  = img->nChannels;
data      = (uchar *)img->imageData;

    IplImage *rotatedImg = cvCreateImage(cvSize(height,width), IPL_DEPTH_8U,img->nChannels);

    CvPoint2D32f center;
    center.x = width/2;
    center.y = height/2;
    CvMat *mapMatrix = cvCreateMat( 2, 3, CV_32FC1 );

    cv2DRotationMatrix(center, 90, 1.0, mapMatrix);
    cvWarpAffine(img, rotatedImg, mapMatrix, CV_INTER_LINEAR + CV_WARP_FILL_OUTLIERS, cvScalarAll(0));

cvShowImage("My image", rotatedImg ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T17:01:40.673

您必须设置仿射变换矩阵的平移参数。

要将图像旋转 90 度并使输出适合目标图像，您可以执行以下操作：

```
IplImage *rotatedImg = cvCreateImage(cvSize(height,width), IPL_DEPTH_8U,img->nChannels);

CvPoint2D32f center;
center.x = width/2.0f;
center.y = height/2.0f;
CvMat *mapMatrix = cvCreateMat( 2, 3, CV_32FC1 );

float x = width - 1.0f;
float y = 0.0f;

cv2DRotationMatrix(center, 90, 1, mapMatrix);
cvmSet(mapMatrix,0,2,y);
cvmSet(mapMatrix,1,2,x);
cvWarpAffine(img, rotatedImg, mapMatrix, CV_INTER_LINEAR + CV_WARP_FILL_OUTLIERS, cvScalarAll(0)); 
```

注意偏移值 x 和 y。这些值根据输出图像大小调整结果。

**PS：** 这不是通用的解决方案。它仅适用于旋转 90 度。

# html - 绝对孩子的相对高度，与相对父母

> ID：13892281
> 
> 赞同：1
> 
> 时间：2012-12-15T12:41:42.487
> 
> 标签：html, css, absolute, css-position

我目前正在做我的第一年作业（考试作业）。我对绝对定位的文章有疑问，即在相对定位的文章中。为此，它似乎必须是绝对定位的，但是当内容变大时，它不会自动扩展自身的高度。谁能帮我获得一个灵活的高度，而不破坏其余的布局？

content 是相对的 content-1 等是绝对的。

[测试页面](http://thomasteilmann.dk/bhus/?pageID=About)

html

```
 <div class="content">
        <div class="content-1">
            <article id="info_about"></article>
            <article id="google_map"></article>
            <article id="misc_info" class="clearfix"></article>
        </div>
        <div class="content-2">

        </div>
        <div class="content-3">

        </div>
        <div class="content-4">

        </div>
    </div> 
```

CSS：

```
.tabs {
    position: relative;
    margin: 40px auto;
    width: 100%;
}

.tabs input {
    position: absolute;
    z-index: 999;
    width: 120px;
    height: 40px;
    left: 0px;
    top: 0px;
    opacity: 0;
    -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
    cursor: pointer;
}
.tabs input#tab-2{
    left: 120px;
}
.tabs input#tab-3{
    left: 240px;
}
.tabs input#tab-4{
    left: 360px;
}

.tabs label {
    background: rgba(30, 30, 30, 0.8);
    font-size: 10pt;
    line-height: 40px;
    height: 40px;
    position: relative;
    padding: 0 20px;
    float: left;
    display: block;
    width: 80px;
    color: #ffffff;
    letter-spacing: 1px;

    text-align: center;
text-shadow: 1px 1px 1px rgba(255,255,255,0.3);

    box-shadow: 2px 0 2px rgba(0,0,0,0.1), -2px 0 2px rgba(0,0,0,0.1);

    /* CSS3 TRANSITION */
    -webkit-transition-property: background;
    -webkit-transition-duration: 0.2s;
    -moz-transition-property: background;
    -moz-transition-duration: 0.2s;
    -o-transition-property: background;
    -o-transition-duration: 0.2s;
    transition-property: background;
    transition-duration: 0.2s;
}

.tabs label:after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    display: block;
}

.tabs input:hover + label {
    background: rgba(40, 40, 40, 0.8);
}

.tabs label:first-of-type {
    z-index: 4;
    box-shadow: 2px 0 2px rgba(0,0,0,0.1);
}

.tab-label-2 {
    z-index: 3;
}

.tab-label-3 {
    z-index: 2;
}

.tab-label-4 {
    z-index: 1;
}

.tabs input:checked + label {
    background: rgba(0, 0, 0, 0.8);
    z-index: 6;
}

.clear-shadow {
    clear: both;
}

.content {
    position: relative;
    width: 100%;
    background-color: red;
    z-index: 5;
    min-height: 480px;
}

.content div {
    position: absolute;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 1;
    opacity: 0;

    -webkit-transition: opacity linear 0.1s;
    -moz-transition: opacity linear 0.1s;
    -o-transition: opacity linear 0.1s;
    -ms-transition: opacity linear 0.1s;
    transition: opacity linear 0.1s;
}

.tabs input.tab-selector-1:checked ~ .content .content-1,
.tabs input.tab-selector-2:checked ~ .content .content-2,
.tabs input.tab-selector-3:checked ~ .content .content-3,
.tabs input.tab-selector-4:checked ~ .content .content-4 {
    z-index: 100;
    -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
    filter: alpha(opacity=100);
    opacity: 1;

    -webkit-transition: opacity ease-out 0.2s 0.1s;
    -moz-transition: opacity ease-out 0.2s 0.1s;
    -o-transition: opacity ease-out 0.2s 0.1s;
    -ms-transition: opacity ease-out 0.2s 0.1s;
    transition: opacity ease-out 0.2s 0.1s;
}
.content div h2,
.content div h3{
    color: #398080;
}
.content div p {
    font-size: 14px;
    line-height: 22px;
    font-style: italic;
    text-align: left;
    margin: 0;
    color: #777;
    padding-left: 15px;
    font-family: Cambria, Georgia, serif;
    border-left: 8px solid rgba(63,148,148, 0.1);
}

/* CONTENT PAGES*/

/* om os */

article#info_about{
    width: 530px;
    background: rgba(0, 0, 0, 0.8);
    height: 480px;
    margin-right: 20px;
    float: left;
}

article#google_map{
    width: 350px;
    height: 350px;
    background: rgba(0, 0, 0, 0.8);
    margin-bottom: 20px;
    float: left;
}

article#misc_info{
    width: 350px;
    height: 110px;
    background: rgba(0, 0, 0, 0.8);
    float: left;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T20:38:31.163

我不确定您为什么使用单选按钮进行导航。我建议从一个简单的 jQuery 选项卡解决方案重新开始并使用类似的东西，[http://css-tricks.com/examples/OrganicTabs/](http://css-tricks.com/examples/OrganicTabs/)但我能够通过以下更改让您的 div 与内容一起增长：

**HTML** 向 content-1 到 content-4 添加一个 clearfix 类。

例子：`<div class="content-1 clearfix">`

**CSS**

```
.content div {
opacity: 0;
-webkit-transition: opacity linear 0.1s;
    -moz-transition: opacity linear 0.1s;
    -o-transition: opacity linear 0.1s;
    -ms-transition: opacity linear 0.1s;
    transition: opacity linear 0.1s;
}

.content-2, .content-3, .content-4{
position: absolute;
top: 0;
}

article#info_about {
width: 530px;
min-height:480px;
background: rgba(0, 0, 0, 0.8);
margin-right: 20px;
float: left;
} 
```

# android - Android 自定义按钮通用点击处理程序

> ID：13892287
> 
> 赞同：3
> 
> 时间：2012-12-15T12:43:06.257
> 
> 标签：android, android-button, android-custom-view, buttonclick

我正在尝试实现一个自定义按钮，该按钮允许我在单击按钮时执行一组标准的操作（例如编写日志），并执行特定于每个按钮实例的分配的单击侦听器。这可能吗？

非常感谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-21T13:20:52.840

找到解决方案，通过这种方式，对于按钮的每个实例，我可以在执行指定的点击侦听器之前执行一组标准的操作（在这种情况下它只是写一个日志）

```
@Override
    public void setOnClickListener(final OnClickListener l) {

        super.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                LogHelper.WriteLogInfo("click");
                l.onClick(v);

            }
        });
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-15T12:49:54.263

试试这个：

为您的 Activity 实施 OnClickListener ：

```
public class MainActivity extends Activity implements OnClickListener 
```

为所有视图添加点击监听器，如下所示：

```
boldButton = (Button) findViewById(R.id.bold);
boldButton.setOnClickListener(this); 
```

然后覆盖所有视图通用的 OnClick 事件：

```
@Override
    public void onClick(View v) {
        switch (v.getId()) {
        case R.id.bold:
            // Do Something                  
            break;

        case R.id.italic:
            // Do Something
            break;

        case R.id.underline:
            // Do Something
            break;

        case R.id.reset:
            // Do Something
            break;

        default:
            break;
        }
    } 
```

希望它可以帮助你。

谢谢。

# css - 使用 iFrame 的 jQuery 模态对话框的滚动条问题

> ID：13892289
> 
> 赞同：4
> 
> 时间：2012-12-15T12:43:26.447
> 
> 标签：css, jquery-ui, jquery-ui-dialog

我在 jQueryUI 的帮助下创建了一个模式对话框。因为我想加载另一个页面（child.html），所以我在这里使用了 iFrame。一切正常。

但问题是，它在模态对话框页面上也显示了一个滚动条。我试图通过更改一些 CSS 属性来删除内部滚动条，No Use。在过去的 10 天里，我一直在努力解决这个 UI 问题。

请在这里查看我的页面。

[http://sharanvijay.com/demo/Modal/html/parent.html](http://sharanvijay.com/demo/Modal/html/parent.html)

这是截图

![在此处输入图像描述](../Images/04163299c9643961e5dfadb15b4398d1.png)

**注意：**子页面和父页面都使用相同的 CSS 文件。

为了展示我提到的模型

[如何在 jQuery UI 对话框中显示 IFRAME](https://stackoverflow.com/questions/5660263/how-to-display-an-iframe-inside-a-modal-dialog-using-jquery-ui-dialog)

有人可以用一些诸如火狐之类的摆弄工具找出答案并建议我该怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:10:43.597

查看“/Modal/css/jquery-ui.css”：

```
.ui-dialog .ui-dialog-content {
position: relative;
border: 0;
padding: .5em 1em;
background: none;
overflow: auto;
zoom: 1; 
```

当我从 Chrome 的开发者模式中取消勾选时，问题就消失了`overflow: auto;`，所以如果需要，你可以将其删除。

# java - 使用选定字体打印 ireport 时出现问题

> ID：13892291
> 
> 赞同：-1
> 
> 时间：2012-12-15T12:44:17.800
> 
> 标签：java, jasper-reports, ireport

我正在使用 java 打印 JasperReport。我已经分别为报告中的每个文本字段设置了字体，但是在打印时打印机不会以 9 号的选定字体 Arial 打印。如果将报告导出到 docx 文件，则 docx 会以正确的字体打印报告。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T19:27:15.600

您应该确保 JVM 可以使用 Arial。我相信这在 Windows 上通常不是问题，但您应该使用字体扩展或将字体添加到 Linux 下的 JVM 字体文件夹。

# php - 移动检测：“警告：无法修改标头信息”

> ID：13892294
> 
> 赞同：-2
> 
> 时间：2012-12-15T12:44:51.700
> 
> 标签：php, mobile, browser-detection

> **可能重复：**
> [PHP 已发送的标头](https://stackoverflow.com/questions/8028957/headers-already-sent-by-php)

我继承了一个运行移动检测 php 脚本的网站，如果用户通过移动设备访问该网站，该脚本应将用户重定向到子域。

该网站在我的桌面上运行良好，但在我的 iphone 上我得到以下信息：

> “警告：无法修改标头信息 - 第 16 行 /home/autolox/public_html/common.php 中的标头（输出开始于 /home/autolox/public_html/index.php:1）
> 
> 警告：无法修改标头信息 - 标头已由第 17 行 /home/autolox/public_html/common.php 中的（输出开始于 /home/autolox/public_html/index.php:1）发送

我对 PHP 的经验并不完全，所以我不知道这意味着什么，但这是我的 common.php 文件的完整内容：

```
<?php
require_once(realpath(implode(DIRECTORY_SEPARATOR, array(dirname(__FILE__), 'MobileDetect.php'))));
$MobileDetect = new MobileDetect();
if($MobileDetect->IsMobile()){
    header("HTTP/1.1 301 Moved Permanently");
    header("Location: http://mobi.autolox.co.uk/");
    exit();
} 
```

这是我的索引文件的顶部：

```
<?php require_once(realpath(implode(DIRECTORY_SEPARATOR, array(dirname(__FILE__), 'common.php'))));?>
<!DOCTYPE html>
<html lang="en"> 
```

希望对此有所帮助，我很难过！

编辑：

还有一个移动检测php文件正在运行，见下图：

```
/**
 * Detect mobile devices
 * @idilico
 * @version 2.7.0
 * @copyright Copyright (c) 2010-2011 Idilico (http://www.idilico.com)
 */
class MobileDetect {

    // Device constants
    const DEVICE_ANDROID    = "android";
    const DEVICE_BLACKBERRY = "blackberry";
    const DEVICE_IPHONE     = "iphone";
    const DEVICE_IPHONE4    = "iphone4";
    const DEVICE_OPERA      = "opera";
    const DEVICE_PALM       = "palm";
    const DEVICE_WINDOWS    = "windows";
    const DEVICE_GENERIC    = "generic";
    const DEVICE_IPAD       = "ipad";
    const DEVICE_NORMAL     = "normal";

    /**
     * Hold the device useragent
     * 
     * @var string
     */
    private $_useragent;

    /**
     * Boolean that is set to true if 
     * the current device is mobile
     * 
     * @var bool
     */
    private $_isMobile      = false;

    /**
     * Device booleans that get set when 
     * the devices matche
     * 
     * @var bool
     */
    private $_isAndroid     = null;
    private $_isBlackberry  = null;
    private $_isIphone      = null;
    private $_isIphone4     = null;
    private $_isOpera       = null;
    private $_isPalm        = null;
    private $_isWindows     = null;
    private $_isGeneric     = null;
    private $_isIpad        = null;

    /**
     * Regular expressions for the different devices
     * 
     * @var array
     */
    private $_devices       = array(
        "android"       => "android",
        "blackberry"    => "blackberry",
        "ipad"          => "ipad",
        "iphone4"        => "(8A293|4_3)",
        "iphone"        => "(iphone|ipod)",
        "opera"         => "(opera mini|opera mobi)",
        "palm"          => "(avantgo|blazer|elaine|hiptop|palm|plucker|xiino|webos)",
        "windows"       => "(iemobile|smartphone|windows phone|htc_hd2)",
        "generic"       => "(kindle|mobile|mmp|midp|o2|pda|pocket|psp|symbian|smartphone|treo|up.browser|up.link|vodafone|wap|u970)"
    );

    /**
     * Constructor
     *
     * @access public
     * @return void
     */
    public function __construct() {
        $this->_useragent = $_SERVER['HTTP_USER_AGENT'];
        foreach ($this->_devices as $device => $regexp) {
            if ($this->IsDevice($device) && $this->_isMobile == FALSE) {
                $this->_isMobile = true;
            }
        }
    }

    /**
     * Check if surfing with a particular device
     *
     * @access private
     * @param string $device
     * @return bool
     */
    private function IsDevice($device) {

        $var    = "_is" . ucfirst($device);
        $this->$var = @$this->$var === null ? (bool) preg_match("/" . $this->_devices[strtolower($device)] . "/i", $this->_useragent) : $this->$var;
        if ($device != 'generic' && $this->$var == true) {
            $this->_isGeneric = false;
        }

        return $this->$var;
    }

    /**
     * Get the device type 
     * 
     * @param public
     * @return string
     */
    public function GetDevice(){
        foreach($this->_devices as $device_string => $regex){
            if( $this->IsDevice($device_string) ){
                return $device_string;
            }
        }
        return self::DEVICE_NORMAL;
    }

    /**
     * Call methods like this IsMobile() | IsAndroid() | IsIphone() | IsBlackberry() | IsOpera() | IsPalm() | IsWindows() | IsGeneric() | IsIpad() through IsDevice()
     *
     * @access public
     * @param string $name
     * @param array $arguments
     * @return bool
     */
    public function __call($name, $arguments) {
        $device = substr($name, 2);
        if ($name == "Is" . ucfirst($device)) {
            return $this->IsDevice($device);
        } else {
            trigger_error("Method $name is not defined", E_USER_ERROR);
        }
    }

    /**
     * Returns true if surfing on a mobile device
     *
     * @access public
     * @return bool
     */
    public function IsMobile() {
        return $this->_isMobile;
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:58:24.493

*   这些文件的编码类型是什么？如果它们以**带有 BOM 的 UTF8**编码，则将其转换为**不带 BOM 的 UTF8**。
*   还要删除标签 `<?php`前后的所有空格。`?>`
*   从浏览器检查 html 页面源代码对空白位置很有帮助。

# android - 为什么我的 TTS 在使用手势时会崩溃，但如果使用按钮则很好？

> ID：13892299
> 
> 赞同：0
> 
> 时间：2012-12-15T12:45:26.433
> 
> 标签：android, text-to-speech

因此，如果我使用下一个或上一个按钮来更改我已加载的内容并使用 tts 来读取内容，那么我有以下代码可以正常工作。如果我使用手势来更改 progressL1 int 的值，那么整个应用程序崩溃并且 tts 永远不会工作。奇怪的行为是，如果我按下下一个（或上一个按钮）然后在 tts 工作正常并且应用程序不会崩溃后使用手势。

我认为可能发生的是，如果我只使用手势来推进内容（progressL1++），则永远不会调用 Public void onInit()，但我不知道如何解决这个问题。我是 java 和 android 开发的新手，所以已经把它当作一堵墙，不知道如何进步。

代码是：

```
import java.io.IOException;
import java.io.InputStream;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.gesture.GestureOverlayView;
import android.gesture.GestureOverlayView.OnGestureListener;
import android.graphics.drawable.Drawable;
import android.view.GestureDetector;
import android.view.Gravity;
import android.view.Menu;
import android.view.MenuItem;
import android.view.MotionEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.ImageButton;
 import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import android.speech.tts.TextToSpeech;
import android.speech.tts.TextToSpeech.OnInitListener;
import android.support.v4.app.NavUtils;
import android.text.method.ScrollingMovementMethod;

public class Lessonsinglegroup extends Activity implements OnClickListener, OnInitListener, android.view.GestureDetector.OnGestureListener {

//define the image and text view for use later
ImageView Image;
TextView Text;

//define the texttospeak stuff

private int MY_DATA_CHECK_CODE = 0;
public int progressL1 = 0;
private TextView inputText;
private TextToSpeech tts;
private ImageButton speakButton;
private ImageButton nextButton;
private ImageButton previousButton;
private Button babout;
private Button bhome;

//deal with the swipe to advance
private GestureDetector gDetector;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_lessonsinglegroup);
    getActionBar().setDisplayHomeAsUpEnabled(true);

    //link the image and text boxes to the xml
    Image = (ImageView)findViewById(R.id.image);
    Text = (TextView)findViewById(R.id.text);
    loadDataFromAsset(progressL1);

    gDetector = new GestureDetector(this);

    //finish with the asset load

    //define tts stuff
    inputText = (TextView) findViewById(R.id.text);
    inputText.setMovementMethod(new ScrollingMovementMethod());
    speakButton = (ImageButton) findViewById(R.id.ibtalk);
    nextButton = (ImageButton) findViewById(R.id.ibnext);
    previousButton = (ImageButton) findViewById(R.id.ibprevious);
    babout = (Button)findViewById(R.id.babout);   //about button
    bhome = (Button)findViewById(R.id.bhome);   //about button

    //new onclick listener style

    speakButton.setOnClickListener(this);
    nextButton.setOnClickListener(this);
    previousButton.setOnClickListener(this);
    babout.setOnClickListener(this);
    bhome.setOnClickListener(this);
}
    public void onClick(View v) {
        if (v==babout) {
            Intent startabout = new Intent(Lessonsinglegroup.this, AboutScreen.class); //this is about screen
            startActivity(startabout);
        }

        if (v==bhome) {
            Intent startabout = new Intent(Lessonsinglegroup.this, Main.class); //this is main screen
            startActivity(startabout);
        }

        if (v==nextButton && progressL1==10) {
            Toast toast = Toast.makeText(Lessonsinglegroup.this, 
             "End of Lesson", Toast.LENGTH_LONG);           
                toast.setGravity(Gravity.CENTER,0,0);
                LinearLayout toastview=(LinearLayout) toast.getView();
                ImageView imageCodeProject = new ImageView(getApplicationContext());
                imageCodeProject.setImageResource(R.drawable.lessoncomplete);  //logo name
                toastview.addView(imageCodeProject, 0);
                toast.show();
        }

        if (v==nextButton && progressL1<10) {
            progressL1++;
            //toast not required now its working
            // Toast.makeText(Lessonsinglegroup.this, "progress +1", Toast.LENGTH_LONG).show();
            Lessonsinglegroup.this.loadDataFromAsset(progressL1);
        }

        if (v==previousButton) {
            progressL1--;
            //toast not required now its working
            // Toast.makeText(Lessonsinglegroup.this, "progress +1", Toast.LENGTH_LONG).show();
            Lessonsinglegroup.this.loadDataFromAsset(progressL1);
        }

        if (v==speakButton){            
            String text = inputText.getText().toString();
            if (text!=null && text.length()>0) {
                tts.speak(text, TextToSpeech.QUEUE_ADD, null);
        }

    };

    Intent checkIntent = new Intent();
        checkIntent.setAction(TextToSpeech.Engine.ACTION_CHECK_TTS_DATA);
        startActivityForResult(checkIntent, MY_DATA_CHECK_CODE);

    }

    //gesture handling down here

    public boolean onDown(MotionEvent arg0) {

            // TODO Auto-generated method stub

            return false;

    }

    public boolean onFling(MotionEvent start, MotionEvent finish, float xVelocity, float yVelocity) {

            if (start.getRawX() > finish.getRawX() && (progressL1<10)) {
                      //swipe left action here
                    progressL1++;
                    Lessonsinglegroup.this.loadDataFromAsset(progressL1);
                 }    
            if (start.getRawX() > finish.getRawX() && (progressL1==10)) {
                        Toast toast = Toast.makeText(Lessonsinglegroup.this, 
                         "End of Single Group Lesson", Toast.LENGTH_LONG);              
                            toast.setGravity(Gravity.CENTER,0,0);
                            LinearLayout toastview=(LinearLayout) toast.getView();
                            ImageView imageCodeProject = new ImageView(getApplicationContext());
                            imageCodeProject.setImageResource(R.drawable.lessoncomplete);  //logo name
                            toastview.addView(imageCodeProject, 0);
                            toast.show();
                } 
            if (start.getRawX() < finish.getRawX()) { 
                //swipe rightaction here
                    progressL1--;
                    Lessonsinglegroup.this.loadDataFromAsset(progressL1);
                 }    
           return true;

    }

    public void onLongPress(MotionEvent arg0) {
            // TODO Auto-generated method stub
    }

    public boolean onScroll(MotionEvent arg0, MotionEvent arg1, float arg2, float arg3) {
              // TODO Auto-generated method stub
              return false;
    }

    public void onShowPress(MotionEvent arg0) {
            // TODO Auto-generated method stub
    }

    public boolean onSingleTapUp(MotionEvent arg0) {
            // TODO Auto-generated method stub
            return false;
    }

    public boolean onTouchEvent(MotionEvent me) {
        return gDetector.onTouchEvent(me);
        }

    //end of gesture based advance

protected void onActivityResult(int requestCode, int resultCode, Intent data) {
if (requestCode == MY_DATA_CHECK_CODE) {
    if (resultCode == TextToSpeech.Engine.CHECK_VOICE_DATA_PASS) {
        //sucess with TTS create it
        tts = new TextToSpeech(this, this);
        }
    else {
        //missing TTS so install it
        Intent installIntent = new Intent();
        installIntent.setAction(TextToSpeech.Engine.ACTION_INSTALL_TTS_DATA);
        startActivity(installIntent);
    }
}

}

public void onInit(int status) {
    if (status == TextToSpeech.SUCCESS) {
        Toast.makeText(Lessonsinglegroup.this, "Text to Speech initialised", Toast.LENGTH_SHORT).show();
            }
    else if (status == TextToSpeech.ERROR) {
        Toast.makeText(Lessonsinglegroup.this, "Error starting Text to Speech", Toast.LENGTH_LONG).show();
    }
}

//actually load the text file and image file   
public void loadDataFromAsset(int progressL1) {
    //load the asset files themselves
    try {
        InputStream is = getAssets().open("lessons/singlegp/" + progressL1 + ".txt");
        //check file size
        int size = is.available();
        //create a buffer to handle it
        byte[] buffer = new byte[size];
        //send the data to the buffer
        is.read(buffer);
        //close the stream down
        is.close();
        //set the text we recovered to the TextView
        Text.setText(new String(buffer));

    }
    catch (IOException ex) {
        return;
    }

    //image file next
    try {
        InputStream ims = getAssets().open("lessons/singlegp/" + progressL1 + ".jpg");
        //load the image as drawable
        Drawable d = Drawable.createFromStream(ims,  null);
        //set the drawable image to the imageview
        Image.setImageDrawable(d);
    }
    catch (IOException ex) {
        return;
            }
      }

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_lessonsinglegroup, menu);
    return true;
}  

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case android.R.id.home:
            NavUtils.navigateUpFromSameTask(this);
            return true;
    }
    return super.onOptionsItemSelected(item);
}
} 
```

我不确定这是否是编写我想要的代码的“最佳”方式，但是当仅使用手势来更改progressL1 值时，除了TTS 之外，它都可以工作。不知道为什么，请帮忙！

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-24T16:15:18.127

你的日志猫说什么？在我的情况下，我遇到了手势监听器的问题，因为它以某种方式生成了一个事件队列，如果你真的很快地做手势并且当 android 尝试运行所有事件它都会崩溃，因为我认为它已经用完了的记忆。所以检查logcat并复制粘贴错误日志。如果这就像我遇到的错误，也许我可以提供帮助。

# asp.net - Memcache 和 ASP.NET 运行时缓存

> ID：13892301
> 
> 赞同：0
> 
> 时间：2012-12-15T12:45:37.377
> 
> 标签：asp.net, caching, memcached

我有一个使用依赖注入的 Web 应用程序，允许我在缓存实现之间轻松交换。我目前正在使用 asp.net 运行时缓存，但 Web 应用程序现在需要分布在三个 Web 服务器上。我已经构建了一个 Memcache 的实现并对其进行了测试并且它可以工作，但我对速度不满意。我相信原因是因为序列化和反序列化。我不知道如何加快速度。

我可以 -

*   离开它，希望用户体验不会变得很糟糕
*   让一些数据使用运行时缓存，一些数据使用 memcache
*   弄清楚如何提高 memcache 的性能

ps 我试图避免使用 proto-buf 进行序列化/反序列化，因为我不想用属性装饰我的整个域（或者也许我应该？）

建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T15:52:50.613

那么你怎么知道它变慢了呢？或者你怎么知道它是序列化？

我最近花了很多时间在性能优化上，在提出解决方案之前，我必须说您需要首先**根据确凿的事实**来探索问题：

1.  在没有 memcached 的情况下建立基线基准
2.  使用 memcached 运行相同的基准测试并进行比较
3.  如果它确实较慢，请使用分析工具来确定您的瓶颈到底在哪里
4.  确定瓶颈后，尝试隔离该代码区域并在项目之外创建一个隔离的测试用例。然后尝试找出为什么需要更长的时间并尝试不同的方法。（当时我和其他人可以帮助你）

根据我的经验，序列化不应该那么慢。

为了进行基准测试，您可以免费使用 ab.exe 或 jmeter。

# zend-framework2 - 模型工厂 Zend 2

> ID：13892305
> 
> 赞同：-1
> 
> 时间：2012-12-15T12:46:27.023
> 
> 标签：zend-framework2

我想要一种使用 Zend Framework 2 创建模型工厂（TableGateway）的优雅方式。

我不想将所有依赖注入都放在文件 module.config.php 中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:52:14.390

好吧，我也不喜欢这样，为了更好的可读性，我把它全部放到工厂类中。

**模块.php**

```
class Module implements \Zend\ModuleManager\Feature\ServiceProviderInterface
{
    public function getServiceConfig()
    {
        return array(
            'factories' => array(
                'namespace-model-servicename' => 'Namespace\Factory\SomemodelServiceFactory'
            )
        );
    }
} 
```

**命名空间\工厂\服务名称.php**

```
<?php
namespace Namespace\Factory;

use Zend\ServiceManager\ServiceLocatorInterface;
use Zend\ServiceManager\FactoryInterface;
use Namespace\Model\SomemodelService;

class SomemodelServiceFactory implements FactoryInterface
{
    /**
     * Create service
     *
     * @param ServiceLocatorInterface $serviceLocator
     * @return \Namespace\Service\SomemodelService
     */
    public function createService(ServiceLocatorInterface $serviceLocator)
    {
        $service = new SomemodelService();
        $service->setEntityManager($serviceLocator->get('Doctrine\ORM\EntityManager'));
        return $service;
    }
} 
```

现在这是一个注入 Doctrine EntityManager 的 ServiceFactory 的示例。显然，您需要重构所有类和东西以满足您的需求，但基本上这是您将要运行的方法。

# python - python xlutils：formatting_info=True 尚未实现

> ID：13892307
> 
> 赞同：20
> 
> 时间：2012-12-15T12:46:34.187
> 
> 标签：python, python-2.7, xlrd, xlwt, xlutils

我有简单的代码可以使用 xlutils、xlrd、xlwt（从 python-excel.org 下载新库）复制文件，而不会丢失格式。我有一个错误如下：

```
from xlwt.Workbook import *
from xlwt.Style import *
from xlrd import open_workbook
from xlutils.copy import copy
import xlrd

style = XFStyle()
rb = open_workbook('file_master.xlsx', formatting_info=True)
wb = copy(rb.get_sheet(0))

new_book = Workbook()
w_sheet = wb.get_sheet(0)
w_sheet.write(6,6)

wb.save('new_file_master.xls') 
```

错误：

```
 raise NotImplementedError("formatting_info=True not yet implemented")
NotImplementedError: formatting_info=True not yet implemented 
```

你能帮我解决这个问题还是让它工作？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-12-17T13:18:21.380

根据[这个线程](https://groups.google.com/d/msg/python-excel/w2AoQkX3TZc/1qjT1KzwoUsJ)标志

```
formatting_info=True 
```

仅适用于 xls 文件，但不适用于 xlsx（版本 xlrd-0.8.0）。

作为一种解决方法，您可以使用 Excel 或 OpenOffice 将工作簿转换为 xls。

似乎可以在 Linux、Windows 和 MacOSX 上使用[Unoconv进行从 xlsx 到 xls 的命令行转换。](http://dag.wieers.com/home-made/unoconv/)

# c# - 将文本添加到图像并保存

> ID：13892308
> 
> 赞同：6
> 
> 时间：2012-12-15T12:46:42.143
> 
> 标签：c#, image-processing, text, save, digital

`graphics.DrawString()`在我的程序中，我允许用户输入一些文本，然后使用该方法将这些文本放在图像之上。当我然后去保存这个图像时，它会保存它而不保存文本。

如何将两者保存为一张图像？

我看过一些例子，但没有一个有帮助。

```
private void txtToolStripMenuItem_Click(object sender, System.EventArgs e)
    {
        Rectangle r = new Rectangle(535, 50, original_image.Width, original_image.Height);
        Image img = Image.FromFile("C:\\PCB.bmp");

        Bitmap image = new Bitmap(img);

        StringFormat strFormat = new StringFormat();

        strFormat.Alignment = StringAlignment.Center;
        strFormat.LineAlignment = StringAlignment.Center;

        Graphics g = Graphics.FromImage(image);

        g.DrawString("Hellooooo", new Font("Tahoma", 40), Brushes.White,
                r, strFormat); 

        image.Save("file_PCB.Bmp", ImageFormat.Bmp);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T12:52:17.973

那是因为您正在创建一个没有画布的图形对象。您什么都没有绘制，因此绘制文本不会改变任何内容。

首先创建图像的副本（或创建空白位图并在其上绘制图像），然后创建用于在该图像上绘制的图形对象：

```
Graphics g = Graphics.FromImage(image_save); 
```

然后绘制文本并保存图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:23:12.003

您可以尝试以下代码，我们将其用于水印图像。

```
System.Drawing.Image bitmap = (System.Drawing.Image)Bitmap.FromFile(Server.MapPath("image\\img_tripod.jpg")); // set image 

        Font font = new Font("Arial", 20, FontStyle.Italic, GraphicsUnit.Pixel);

        Color color = Color.FromArgb(255, 255, 0, 0);
        Point atpoint = new Point(bitmap.Width / 2, bitmap.Height / 2);
        SolidBrush brush = new SolidBrush(color);
        Graphics graphics = Graphics.FromImage(bitmap);

        StringFormat sf = new StringFormat();
        sf.Alignment = StringAlignment.Center;
        sf.LineAlignment = StringAlignment.Center;

        graphics.DrawString(watermarkText, font, brush, atpoint, sf);
        graphics.Dispose();
        MemoryStream m = new MemoryStream();
        bitmap.Save(m, System.Drawing.Imaging.ImageFormat.Jpeg);
        m.WriteTo(Response.OutputStream);
        m.Dispose();
        base.Dispose(); 
```

# android - 开发跨平台手机应用程序/游戏的最佳工具集是什么

> ID：13892312
> 
> 赞同：1
> 
> 时间：2012-12-15T12:47:48.490
> 
> 标签：android, ios, mobile, windows-phone

我想开发一款可在多个平台上部署的纸牌游戏：Android、iOS、Windows 8 和 Windows Phone 7.5/8。

查了一下PhoneGap，可惜我的背景是C#，对HTML5 Canvas的了解几乎为零。

你有什么其他的建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:56:16.157

1.  单触式
2.  电晕
3.  电话间隙
4.  钛
5.  煎茶触摸

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-28T18:28:02.387

我肯定会选择 MonoGame，它是在 Mono 框架上复制 XNA 游戏平台。我相信这是目前在多个平台上重用大部分代码的最佳方式，同时仍然开发本机应用程序，而不是由 PhoneGap 等框架支持的 HTML 应用程序。

John Sonmez 谈了很多：
[http ://simpleprogrammer.com/2012/08/05/introduction-to-monogame/](http://simpleprogrammer.com/2012/08/05/introduction-to-monogame/)

**[您还可以通过听以下The Tablet Show](http://www.thetabletshow.com)**播客回答很多问题： http://thetabletshow.com/ [?ShowNum=](http://thetabletshow.com/?ShowNum=60)
[49 http://thetabletshow.com/?ShowNum=60](http://thetabletshow.com/?ShowNum=49)

另请查看[MvvmCross](https://github.com/slodge/MvvmCross)框架，它可以为您提供一些关于如何跨平台重用大部分代码的提示。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T07:04:37.353

我会说 MonoTouch+MonoDroid+MonoGame (XNA)，它将为您提供与 iOS、Android、WP7、WP8 以及 Windows/OSX 和 Linux 的交叉兼容性（在所需的每个平台上进行轻微调整......）。

# inheritance - 查询父类总是返回一个空集合

> ID：13892319
> 
> 赞同：0
> 
> 时间：2012-12-15T12:48:22.223
> 
> 标签：inheritance, jdo, datanucleus, discriminator

我有一个带有以下注释的父类

```
@PersistenceCapable(table = "my_parent_table", objectIdClass = Myclass.PK.class, detachable = "true", identityType = IdentityType.APPLICATION)
@Inheritance(strategy = InheritanceStrategy.NEW_TABLE)
@Discriminator(strategy = DiscriminatorStrategy.VALUE_MAP, column = "discriminator", value = "0") 
```

现在我所有的子类都有以​​下注释，除了注释的`value`属性`@Discriminator`当然不同，注释的属性也`table`不同`@PersistanceCapable`。

```
@PersistenceCapable(detachable = "true", table = "my_table")
@Inheritance(strategy = InheritanceStrategy.NEW_TABLE)
@Discriminator(value = "1") 
```

通过一个用 注释的 DAO 类，`@Persistence`我使用以下方法作为 PoC

```
 public List<MyParentClass> test() {
        PersistenceManager pm = null;
        try {
            pm = getPM();
            Query q = pm.newQuery(MyParentClass.class);
            return (List<MyParentClass>) q.execute();
        } catch (Exception e) {
            log.error(e.getMessage(), e);
            return null;
        } finally {
            pm.close();
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T11:36:59.493

`DataNucleus`我按照他的评论中的建议检查了日志。我不应该将 a`@Discriminator`用于父类。

我不确定我是否可以将 a`@Discriminator`用于子类，但我想出了一种方法来完全放弃对整个层次结构使用它，因此不同类的不同记录本质上是不同的。

# asp.net - ASP.NET 应用程序的 URL 重写问题

> ID：13892322
> 
> 赞同：0
> 
> 时间：2012-12-15T12:49:07.917
> 
> 标签：asp.net

我将此代码添加到我的 Global.asax，但 URL 重写不起作用。

```
void RegisterRoutes(System.Web.Routing.RouteCollection routes)
{
    routes.MapPageRoute("My-Account", "{page}", "~/myaccount.aspx");
    routes.MapPageRoute("Login", "Login", "~/login.aspx");
}

void Application_BeginRequest(object sender, EventArgs e)
{
    RegisterRoutes(System.Web.Routing.RouteTable.Routes);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-26T12:25:09.277

在 system.web 下的 web config 中试试这个

```
 <system.web>
    <urlMappings enabled="true">
      <add url="~/myaccount" mappedUrl="myaccount.aspx"/>
    </urlMappings> 
```

在文件后面的代码中写入

```
Response.redirect("~/myaccount")` 
```

这工作 100%

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:18:08.057

首先：确保 web.config 中存在以下代码

```
<system.webServer>
    ...
    <modules runAllManagedModulesForAllRequests="true"></modules>
    ...
</system.webServer> 
```

第二：确保您使用的是.NET Framework4.0 的应用程序池

第三：确保aspx文件存在

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:20:23.207

您需要在应用程序开始时注册路线，而不是开始请求！此外，您的第一条规则胜过任何其他规则。订单很重要。

# c - 如何将 .so 文件链接到 .so 文件

> ID：13892328
> 
> 赞同：4
> 
> 时间：2012-12-15T12:49:51.393
> 
> 标签：c, linux, dll, linker, shared-libraries

我正在使用 C 代码创建一个 .so 文件。我需要将其他一些 .so 文件链接到正在创建的 .so 文件。怎么做？

我试过了， `-L{path to file containing library} -l${library name}`是这样吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-15T12:51:24.220

如果您的库文件被调用`/path/to/libfile.so`，那么通常您需要为链接器指定以下参数：

```
-L/path/to -lfile 
```

请注意，我们只包括目录`-L`，并省略`lib`前缀和`.so`后缀`-l`。

# java - 将文件数据读入 JTable

> ID：13892333
> 
> 赞同：1
> 
> 时间：2012-12-15T12:50:37.613
> 
> 标签：java, swing, file, file-io, jtable

我想从 .txt 文件中读取数据并将它们发送到我的表。我该怎么办？我的代码：

```
public class InsertFileDataToJTable extends AbstractTableModel {
    Vector data;
    Vector columns;

    public InsertFileDataToJTable() {
            String line;
            data = new Vector();
            columns = new Vector();
            try {
                    FileInputStream fis = new FileInputStream("student.txt");
                    BufferedReader br = new BufferedReader(new InputStreamReader(fis));
                    StringTokenizer st1 = new StringTokenizer(br.readLine(), " ");
                    while (st1.hasMoreTokens())
                            columns.addElement(st1.nextToken());
                    while ((line = br.readLine()) != null) {
                            StringTokenizer st2 = new StringTokenizer(line, " ");
                            while (st2.hasMoreTokens())
                                    data.addElement(st2.nextToken());
                    }
                    br.close();
            } catch (Exception e) {
                    e.printStackTrace();
            }
    }

    public int getRowCount() {
            return data.size() / getColumnCount();
    }

    public int getColumnCount() {
            return columns.size();
    }

    public Object getValueAt(int rowIndex, int columnIndex) {
            return (String) data.elementAt((rowIndex * getColumnCount())
                            + columnIndex);
    }

    public static void main(String s[]) {
            InsertFileDataToJTable model = new InsertFileDataToJTable();
            JTable table = new JTable();
            table.setModel(model);
            JScrollPane scrollpane = new JScrollPane(table);
            JPanel panel = new JPanel();
            panel.add(scrollpane);
            JFrame frame = new JFrame();
            frame.add(panel, "Center");
            frame.pack();
            frame.setVisible(true);
    }
} 
```

请帮忙！谢谢你。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-15T13:09:33.473

您在代码中遇到什么问题？

我运行您的代码，它运行良好，除了列名将默认为 A、B、...，因为您没有从模型中检索列名的方法。您已经实现了方法 getValueAt()，并且运行良好。只需在上面的类中为列名添加新方法：

```
public String getColumnName(int i){
    return (String)columns.get(i);
} 
```

如果您有任何其他问题，请告知使用。我只使用 2 列运行，所以没有完美地测试 getValueAt() 方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-15T13:06:07.763

好吧，我只是拿了你的代码并编译它，它工作得很好。只需确保您进行了正确的导入并且输入文件在您的路径中。即（“student.txt”应与您的 java 文件位于同一文件夹中）。

JavaDoc 说这个关于**StringTokenizer**

> 分词器使用默认分隔符集，即“\t\n\r\f”：空格字符、制表符、换行符、回车符和换页符。

因此，请确保输入文件中的字段在使用默认分隔符时使用这些字段。

我使用以下导入使其工作

```
import java.util.*;
import javax.swing.*;
import javax.swing.table.*;
import java.io.*;

public class InsertFileDataToJTable extends AbstractTableModel {
 // the rest of the code is same as yours 
```

}

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-15T16:28:16.260

我想用代码告诉你一个重要的问题。您已经在表模型中编写了所有内容。您的表模型类应该只包含表所需的模型，例如`column names`, `column count`, `row count`, `column class`, `getValueAt`,`setValueAt`方法。请为 UI 创建一个单独的类并创建一个表，然后创建一个模型并将模型设置为表。（如果代码只是[SSCCE](http://sscce.org/)，那么它很好，请将 UI 和逻辑分开。）

这段代码的问题是，如果你实现`AbstractTableModel`你必须为表实现所有必需的方法，比如设置列名、设置值、获取值等。你没有在其中设置列名。

如果您有特定的使用理由，`AbstractTableModel`那很好。其他使用`DefaultTableModel`几乎所有需要的方法都实现了。

# haskell - 为什么haskell在a >> b中评估a？

> ID：13892337
> 
> 赞同：7
> 
> 时间：2012-12-15T12:51:26.087
> 
> 标签：haskell, functional-programming, operators, monads

haskell 中 Monads 的 >> 运算符通常定义为

```
(>>) :: m a -> m b -> m b
a >> b = a >>= \_ -> b 
```

它可以用来打印类似的东西

```
main = putStr "foo" >> putStrLn "bar" 
```

为什么编译器不优化 的值`putStr "foo"`而只是评估`putStrLn "bar"`？它不需要它，为什么要计算它？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-15T21:10:27.983

正如克里斯所说，这取决于单子。`Identity`或者`Reader`不会评估 前面的部分`>>`，因为他们不需要它来计算结果。其他单子，如`Writer`, `Maybe`, `Either`,`State`或`IO`will。

让我们`Maybe`举个例子。`>>=`定义为

```
Nothing  >>= _  = Nothing
(Just x) >>= f  = f x 
```

所以如果我们扩展`>>`我们得到

```
Nothing  >> _  = Nothing
(Just x) >> y  = y 
```

因此`Maybe`必须评估前面的内容`>>`以查看结果是否为`Nothing`或`y`。

`IO`特意以某种方式定义动作，以便评估是否需要其结果（否则将无法使用）。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-15T12:55:17.213

嗯？当然它需要 的​​值`putStr "foo"`。它被评估`>>=`- 如果您想将 monad 视为动作，则仅丢弃动作的结果，而不是动作本身。

例如在解析器中，这意味着丢弃刚刚解析的序列 - 但它仍然被解析，所以光标仍在向前移动。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-12-15T13:17:19.470

这取决于单子。在 IO 中被评估。在 Identity 中，第一个不被评估：

```
> import Control.Monad.Identity
> import Control.Monad.Trace
> let x = trace "x" $ return () :: Identity ()
> let y = trace "y" $ return () :: Identity ()
> runIdentity $ x >> y
y
() 
```

# jquery - .val 在由 .click 执行时不起作用

> ID：13892338
> 
> 赞同：0
> 
> 时间：2012-12-15T12:51:45.947
> 
> 标签：jquery, click, jquery-1.3.2

我正在运行 jquery 1.3.2，当我尝试检索 a 的值时，`<textarea>`我得到一个`TypeError: $(...).val is not a function`. .click() 之外的功能可以正常工作，但是当我单击链接时，出现错误。

```
var textbox = 'textarea#Comments';
var get = $(textbox).val();
alert(get);
$(textbox).after('<a href="#" id="link">Get text</a>');
$('a#link').click(function() {
    var get = $(textbox).val(); 
    alert(get);
}); 
```

编辑：问题是由 Firefox javascript 控制台引起的。将代码放在网站上并运行它可以解决问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T12:53:19.630

尝试这个，

```
$('a.#link').click(function() {
    var get = $('textarea#Comments').val(); 
    //or var get = textbox.val(); 
    alert(get);
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-15T12:57:14.597

问题出在 html dom 中创建...

要触发由 javascript 创建的 html dom，您必须使用`.live()` 并且代码必须如下所示：

```
$('a.#link').live('click',function() {
  var get = $(textbox).val(); 
  alert(get);
}); 
```

仅此而已，祝你好运

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-15T13:00:24.360

我认为在您绑定点击处理程序的选择器上存在错误。

```
$('a.#link').click(function() { 
```

`.`之后有一个额外的`a`。

将其更改为

```
$('a#link').click(function() { 
```

# asp.net - 从 localhost 在 asp.net 中发送电子邮件

> ID：13892339
> 
> 赞同：3
> 
> 时间：2012-12-15T12:52:01.110
> 
> 标签：asp.net, email, smtp, localhost

我找到[了这个](http://bradkingsley.com/sending-email-from-asp-net-4-c-sample-code/) 发送邮件的解决方案，但它给了我错误。这是我的价值观：

```
Message to: anton_putov@mail.ru

Message from: anton_putov@mail.ru

subject: ....
......... 
```

我正在使用 Visual Studio 2010。我必须设置任何配置属性或其他内容吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T13:08:05.890

您使用的是什么类型的 SMTP？如果您没有自己的 SMTP 设置，那么您可以使用 Google Mail。在这里你可以如何使用它。

```
MailMessage mail = new MailMessage();
  mail.To.Add("Email ID where email is to be send");
  mail.To.Add("Another Email ID where you wanna send same email");
  mail.From = new MailAddress("YourGmailID@gmail.com");
  mail.Subject = "Email using Gmail";

  string Body = "Hi, this mail is to test sending mail"+ 
                "using Gmail in ASP.NET";
  mail.Body = Body;

  mail.IsBodyHtml = true;
  SmtpClient smtp = new SmtpClient();
  smtp.Host = "smtp.gmail.com"; //Or Your SMTP Server Address
  smtp.Credentials = new System.Net.NetworkCredential
       ("YourUserName@gmail.com","YourGmailPassword");
//Or your Smtp Email ID and Password
  smtp.EnableSsl = true;
  smtp.Send(mail); 
```

# xml - 从非 XML 文本文件中提取 XML 元素

> ID：13892340
> 
> 赞同：1
> 
> 时间：2012-12-15T12:52:05.180
> 
> 标签：xml, text, command-line, sed, text-processing

有一些文件是用 Markdown、MediaWiki 语法、克里奥尔语、源代码和纯文本编码的。

这些文件可能包含一个杂散的 XML 元素。当我说流浪时，它们位于不是 XML 的文件中，如下所示：

*   QUnit`<reference path=""/>`在单元测试中
*   Javadoc 包含 XML 元素

如何以最可靠的方式提取此元素？它不是 XML 文档，但 XML 元素本身格式正确

我一直在玩 sed 来提取元素的内容：

```
gsed  -n '/<myelement>/,/<\/myelement>/p' < test.txt > output.txt 
```

这只是从文件中删除所有非 XML 并留下我的自定义元素。这不允许我单独处理每一个。然后我可以在结果文件上运行 xmlstarlet ，但这并不能告诉我元素出现在源文档中的什么位置。

做这个的最好方式是什么？如何修改 sed 以一次匹配一个（我可以自己替换）。

将整个文件读入根元素，然后像使用 XML 工具处理半结构化 XML 文件一样处理文件，然后在 XML 解析中处理替换会更好吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-16T08:21:28.267

如果`gsed`（基于正则表达式的）解决方案提取正确的 xml 文本，那么您可以扩展解决方案以包括开始/结束位置，假设`<myelement>`未嵌套：

```
$ perl -0777 -ne 'print "start: $-[0], end: $+[0], xml: {{{$&}}}\n" while /<myelement>.*?<\/myelement>/gs' < input > output 
```

### 输入

```
some arbitrary text
A well-formed xml:

<myelement>
... xml here
</myelement>

some arbitrary text follows more elements: <myelement>... xml</myelement> the end 
```

### [输出](http://ideone.com/UA06QV)

```
start: 40, end: 77, xml: {{{<myelement>
... xml here
</myelement>}}}
start: 122, end: 152, xml: {{{<myelement>... xml</myelement>}}} 
```

这是一个 Python 解决方案，它构建正则表达式以匹配纯文本中的一些 xml 元素，假设每个根元素没有嵌套，并且它不在基于 [Python 中的匹配模式的](https://stackoverflow.com/questions/13319049/matching-patterns-in-python)注释或 cdata 中：

```
#!/usr/bin/env python
# -*- coding: utf-8 -*-
import re
import sys
from xml.etree import ElementTree as etree

# build regex that matches xml element
# xml_element = start_tag <anything> end_tag
#             | self_close_tag
xml_element = '(?xs) {start_tag} (?(self_close) |.*? {end_tag})'

# start_tag = '<' name  *attr '>'
# self_close_tag = '<' name *attr '/>'
ws = r'[ \t\r\n]*'  # whitespace
start_tag = '< (?P<name>{name}) {ws} (?:{attr} {ws})* (?P<self_close> / )? >'
end_tag = '</ (?P=name) >'
name = '[a-zA-Z]+'  # note: expand if necessary but the stricter the better
attr = '{name} {ws} = {ws} "[^"]*"'  # match attribute
                                     #  - fragile against missing '"'
                                     #  - no “'” support
assert '{{' not in xml_element
while '{' in xml_element: # unwrap definitions
    xml_element = xml_element.format(**vars())

# extract xml from stdin
all_text = sys.stdin.read()
for m in re.finditer(xml_element, all_text):
    print("start: {span[0]}, end: {span[1]}, xml: {begin}{xml}{end}".format(
            span=m.span(), xml=m.group(), begin="{{{", end="}}}"))
    # assert well-formness of the matched xml text by parsing it
    etree.XML(m.group()) 
```

在匹配更多种类的 xml 元素和避免误报之间需要权衡取舍。

一个更健壮的解决方案应该考虑输入的格式，即 QUnit，Javadoc 词法分析器/解析器可以帮助提取 xml 片段，这些片段可以稍后输入 xml 解析器。

谨防：

[为什么不能使用正则表达式来解析 HTML/XML：通俗易懂的正式解释](https://stackoverflow.com/questions/6751105/why-its-not-possible-to-use-regex-to-parse-html-xml-a-formal-explanation-in-la)

[您能否提供一些示例说明为什么使用正则表达式难以解析 XML 和 HTML？](https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-01T20:21:29.230

无需手动提取元素。您可以通过在处理期间将数据包装在根节点中来利用全面的 XML 生态系统。

例如，如果 Java 源文件或 Javascript 文件位于根元素内，那么它在技术上就是 XML。

然后，您可以使用为此目的而设计的工具，例如 XPath 或 SAX。我使用了xmlstarlet。

# java - Java 2D 游戏矩形碰撞共振

> ID：13892342
> 
> 赞同：-3
> 
> 时间：2012-12-15T12:52:15.400
> 
> 标签：java, if-statement, collision-detection

我一直在做一个非常简单的 2D 游戏，它非常基础，它有一个 Play 类，里面有 init、render 和 update 等方法，我制作了一个 2D 地图和一个玩家，当有键盘输入，只需使用 If 语句即可完成。游戏有一个口袋妖怪视图（俯视图），您可以上下左右移动。在我的地图上有一个障碍物，在我玩游戏的那一刻，玩家只是穿过障碍物，我希望玩家在遇到障碍物时停下来无法穿过它，所以我研究了碰撞检测并管理首先，在我的代码中，我制作了 2 个矩形：

```
Rectangle rectOne = new Rectangle(buckyPositionX, buckyPositionY, 40, 40);
Rectangle rectTwo = new Rectangle(-100, -143, 70,70); 
```

并且还为变量 x 创建了一个布尔值，如果两个矩形相交，则返回 true：

```
boolean x = rectOne.intersects(rectTwo); 
```

这样做之后，我现在对如何对 java 说的话感到困惑，如果 boolean 返回 true 阻止玩家通过那个矩形，我知道这是一个 if 语句搜索如果 x 返回 true 但我不知道在里面放什么我希望一些更有经验的用户可以帮助解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:26:55.620

我的建议是编写一个方法`changeBuckyPos`来检查冲突和更新`buckyPositionX`以及`buckyPositionY`是否没有冲突。

```
public void changeBuckyPos(float deltaX, float deltaY) {
  float newX = buckyPositionX + deltaX;
  float newY = buckyPositionY + deltaY;

  // check for collisions
  Rectangle rectOne = new Rectangle((int)newX, (int)newY, 40, 40);
  Rectangle rectTwo = new Rectangle(-100, -143, 70,70);

  if (!rectOne.intersects(rectTwo)) {
    buckyPositionX = newX;        
    buckyPositionY = newY;        
  }
} 
```

这也可以用于当前代码中的所有关键事件处理程序，以使其更清晰，如下所示：

```
public void changeBuckyPos(float deltaX, float deltaY) {
  float newX = buckyPositionX + deltaX;
  float newY = buckyPositionY + deltaY;

  // check for collisions
  Rectangle rectOne = new Rectangle((int)newX, (int)newY, 40, 40);
  Rectangle rectTwo = new Rectangle(-100, -143, 70,70);

  if (!rectOne.intersects(rectTwo)) {
    // check global limits
    if ((newX > -1000) && (newX < 1000) && (newY > -1000) && (newY < 1000)) {
      buckyPositionX = newX;
      buckyPositionY = newY;
    }
  }
} 
```

# doctrine-orm - 如何从 JOINS 几个级别访问 DQL 查询结果？

> ID：13892346
> 
> 赞同：0
> 
> 时间：2012-12-15T12:52:59.853
> 
> 标签：doctrine-orm

我正在使用 DQL 执行几个这样的连接：

```
SELECT m, c, ct, t FROM Message m 
JOIN m.classifications c 
LEFT JOIN c.current_translations ct 
LEFT JOIN ct.translation t
WHERE t.id IS NOT NULL 
```

获得结果后，如何访问 ct 和 t 记录？*我可以通过$result->classifications*访问 c 记录，但是 ct 和 t 在哪里？

*$result->classifications[0]*没有 current_translation 属性并且 *$result->current_translations* 不存在，我也试过*$result->ct*无济于事。

我知道由于 WHERE 子句而存在关联。

如何访问我的 ct 和 t 对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:18:53.870

结果只是一个常规实体，所以：

```
$result->getClassifications()[0]->getCurrentTranslations() 
```

# iphone - 我如何在 obj c 中为我的 iphone 应用程序验证这个简单的条件

> ID：13892349
> 
> 赞同：0
> 
> 时间：2012-12-15T12:53:32.747
> 
> 标签：iphone, objective-c, ios, conditional-statements

我正在将图像文件上传到 FTP，在上传之前我需要检查天气是 png 还是 jpg，如果不是，我应该发出警告警报，我尝试这样做，但它会发出警报它是 jpg 的 png 我如何检查这种情况

```
NSLog(@"%@",filePath.pathExtension);

    if( ![filePath.pathExtension isEqualToString:@"png"] || ![filePath.pathExtension isEqualToString:@"jpg"] || ![filePath.pathExtension isEqualToString:@"PNG"] ||![filePath.pathExtension isEqualToString:@"JPG"] )
    {
        UIAlertView *alert = [[[UIAlertView alloc]initWithTitle:@"Warning" message:@"Image should be in png or jpg format to upload" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil]autorelease];
        [alert show];

    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:02:00.933

您应该替换`||`为`&&`，否则条件始终为真（扩展不能同时等于`@"png"`和`@"jpg"`，这是 OR-ed 条件评估为 所需要的`false`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:20:34.300

为什么要为 png、PNG 和 jpg、JPG 做，只需将其更改为小写字母

```
NSString *str = [filePath.pathExtension lowercaseString];
if (![str isEqualToString:@"png"] && ![str isEqualToString:@"jpg"])
{
    //Your Alert
}
else{
    //Your Task
} 
```

# java - Java中的Arraylist删除元素

> ID：13892352
> 
> 赞同：0
> 
> 时间：2012-12-15T12:54:05.343
> 
> 标签：java, arraylist

我有 2 个 ArrayList，一个包含`String`s，另一个包含`Integer`s。`list2`包含 的元素的索引`list1`。

现在我需要删除所有`list1`索引为 in的元素`list2`。有任何想法吗？

```
ArrayList<String> list1 = new ArrayList<String>(); 
list1.add("a");
list1.add("b");
list1.add("c");
list1.add("d");
list1.add("e");
list1.add("f");

ArrayList<Integer> list2 = new ArrayList<Integer>();
list2.add(1);
list2.add(4);
list2.add(2); 
```

这里的问题是，您不能从原始索引中删除，`list1`因为索引会不断变化。我尝试创建一个临时`HashMap`存储数组索引和`String`关系。

我迭代`list2`并映射。当我找到匹配的 key=index 时，我跳过了它。否则我将`String`元素放在新列表中。

有更好的建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-15T12:56:49.270

从给定的最高索引开始排序`list2`和删除项目。这样你的其他相关索引就不会改变。`list1``list2``list1`

你可以这样做：

```
 Collections.sort(list2, Collections.reverseOrder());
    for (Integer i : list2) {
        list1.remove((int) i);
    } 
```

**编辑：**

正如大卫华莱士在他的评论中指出的那样，上述方法仅在`list2`. 您可以通过在上面发布的代码之前添加以下行来消除重复项：

```
list2 = new ArrayList<>(new HashSet<>(list2)); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-25T23:00:15.130

此解决方案假定 null 不是`list1`.

您可以遍历`list2`，并且对于您到达的每个索引，将相应的值设置`list1`为 null。然后从最后删除所有空值`list1`。即使 中有重复的元素`list2`，这也将起作用，而 jlordo 的解决方案将难以处理。

```
for(Integer index : list2){
    list1.set(index,null);
}
list1.removeAll(Collections.singleton(null)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:07:28.603

如果您只关心插入顺序，那么这样的`LinkedHashMap`工作会更好。但是，为了确定索引，您必须遍历列表，直到找到所需的元素：

```
int n = 0;
for (String value : linkedMap) {
  if (value.equals(valueToSearch)) {
    break;
   }
   ++n;
}
// n == index now 
```

如果您经常需要索引，那么您可能只需要 2 个地图。一个持有 indexe -> String，另一个持有 String -> index。只需确保同时从两个地图中插入和删除即可。

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2012-12-15T12:58:12.550

用于写下代码中的 BaseAdapter 和 getView() 方法以及特定的 onClickListner 实施并尝试此代码，

```
mArrayList.remove(position);
notifyDataSetChanged(); 
```

# if-statement - VHDL if 语句 - 奇怪的值

> ID：13892356
> 
> 赞同：0
> 
> 时间：2012-12-15T12:54:29.660
> 
> 标签：if-statement, vhdl, unsigned

下午好，

**您认为您可以向我解释if**语句右侧的值是什么意思吗？在我不太了解的示例中，有两个声明的无符号向量。

```
CONSTANT ZERO : UNSIGNED(3 DOWNTO 0) := (OTHERS=>'0); 
SIGNAL count : UNSIGNED(3 DOWNTO 0) := ZERO; 
```

然后如下：

```
IF clk'EVENT AND clk='1' THEN
    if count<(2-1) THEN
         output<='1';
         etc... 
```

我有问题的是一部分

如果计数< **（2-1）**

这个 2-1 意味着什么？我有几个想法。通过谷歌搜索，我发现 vector_name( **n-1 downto 0** ) 是声明向量的常用方法，其中 n = 位数或总线宽度。但是，这似乎与示例没有任何共同之处。另一个猜测：左边的值是一个无符号二进制信号，那么可能2-n表示比较前的n应该变成二进制？

PS这个例子来自一个分频器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:59:04.097

使用 numeric_std 我看不出有什么好的理由不说`if count < 1`.

也许这是一种半记录kludgy修复的方法，用于解决预期的意外问题`if count < 2`，例如，如果比较提前一个周期移动以帮助管道？

“逐一”问题也称为[栅栏](http://en.wikipedia.org/wiki/Fencepost_problem#Fencepost_error)问题，可能是要求令人困惑的地方。但它也可能发生在对管道进行更改的流水线设计中。当管道中的一个阶段太慢时，您必须中断该阶段的一部分并提前或稍后执行一个循环 - 而不改变最终结果。因此，如果您需要在“当 count = 2”时执行某些操作，但将其提前一个周期，您现在可能需要调整您正在比较“count”的值。

这不是一个确定的答案，您需要在实际代码的上下文中考虑它。

关于为什么有两个“无符号”声明：第一个只是一个命名常量，这是一个很好的做法。它可以减少大型设计中的输入，以及更容易理解和更容易维护。

更好的是：

```
subtype Digit is UNSIGNED(3 DOWNTO 0);
CONSTANT ZERO : Digit := (OTHERS=>'0'); 

SIGNAL count : Digit := ZERO; 
```

依此类推......然后将数字和零移动到一个包中，您可以在所有模块中重复使用它们。

# c# - 如何根据本地存储中的图像更改 Windows 8 磁贴

> ID：13892360
> 
> 赞同：1
> 
> 时间：2012-12-15T12:55:12.163
> 
> 标签：c#, windows, microsoft-metro

我正在编写一个 Windows 8 应用程序，它应该根据本地存储中的图像更改磁贴。

首先，我将来自 url 的图像存储到本地存储中：

```
 const string fileName = "test.jpg";
        StorageFile storageFile = await ApplicationData.Current.LocalFolder.CreateFileAsync(fileName, CreationCollisionOption.ReplaceExisting);

        using (IRandomAccessStream storageStream = await storageFile.OpenAsync(FileAccessMode.ReadWrite))
        {
            HttpClient client = new HttpClient();
            Stream imageStream = await client.GetStreamAsync("http://suntsu.smugmug.com/Public/NikonTest/i-5L8JLTz/0/Th/20120124_Nikon_Macro_2-Th.jpg");

            using (var memoryStream = new MemoryStream())
            {
                imageStream.CopyTo(memoryStream);
            }
            await RandomAccessStream.CopyAndCloseAsync(imageStream.AsInputStream(), destination: storageStream.GetOutputStreamAt(0));
        } 
```

这有效，我可以通过以下方式访问文件：

```
 //var file = await Windows.Storage.StorageFile.GetFileFromApplicationUriAsync(new Uri( "ms-appdata:///local/" + fileName)); 
```

现在我想将此图像添加为我的新直播：

```
 XmlDocument tileXml = TileUpdateManager.GetTemplateContent(TileTemplateType.TileWideImageAndText01);
        XmlNodeList tileTextElements = tileXml.GetElementsByTagName("text");
        tileTextElements.Item(0).AppendChild(tileXml.CreateTextNode(fileName));
        XmlNodeList tileImageAttributes = tileXml.GetElementsByTagName("image");
        tileImageAttributes[0].Attributes[1].NodeValue = "ms-appdata:///local/" + fileName; 
```

现在的问题是什么都没有发生，并且我的磁贴中没有显示任何图像。

我猜这个问题与**“ms-appdata:///local/”+文件名有关；**，因为如果我使用代码从我的应用程序文件夹加载文件，它就可以工作。**"ms-appx:///images/graySquare.png";**

问题：是**“ms-appdata:///local/”+文件名；**为了将链接设置到本地存储中的图像，错误？以及必须如何完成？

编辑：我忘了添加应该添加新创建的图块的代码。

```
 ScheduledTileNotification tileNotification = new ScheduledTileNotification(tileXml, DateTimeOffset.UtcNow.AddSeconds(count));
            TileUpdateManager.CreateTileUpdaterForApplication().EnableNotificationQueue(true);
            TileUpdateManager.CreateTileUpdaterForApplication().AddToSchedule(tileNotification); 
```

编辑：是否有可能验证**“ms-appdata:///local/myimage.jpg”**以确保此 uri 正确且图像存在？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T16:03:40.230

I found it. The problem was not the path. **"ms-appdata:///local/myimage.jpg"** was correct. The code for writing the files is not correct, and so there only were 0 byte images. This did not cause any exceptions or messages, but the tile was not updated.

# tracking - 使用 javaCV 跟踪对象

> ID：13892364
> 
> 赞同：0
> 
> 时间：2012-12-15T12:55:43.207
> 
> 标签：tracking, javacv

我正在尝试在 JavaCV 中使用 Camshift 跟踪人脸。我在以下位置找到了等效的 Open CV：

[https://gist.github.com/231696](https://gist.github.com/231696)

我已经成功地转换了大部分代码，但很难在 JavaCV 中找出以下等价的代码。任何帮助将不胜感激。

```
TrackedObj* obj;

if((obj = malloc(sizeof *obj)) != NULL) {

obj->hsv  = cvCreateImage(cvGetSize(image), 8, 3);
obj->mask = cvCreateImage(cvGetSize(image), 8, 1);
obj->hue  = cvCreateImage(cvGetSize(image), 8, 1);
obj->prob = cvCreateImage(cvGetSize(image), 8, 1);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T11:46:36.977

好吧，我们可以定义一个`class`类似`struct TrackedObj`这样的：

```
class TrackedObj {
    IplImage hsv;
    IplImage hue;
    IplImage mask;
    IplImage prob;
    CvHistogram hist;
    CvRect prev_rect;
    CvBox2D curr_box;
} 
```

我们可以用非常相似的方式翻译你指出的那段代码：

```
TrackedObj obj = new TrackedObj();
obj.hsv  = cvCreateImage(cvGetSize(image), 8, 3);
obj.mask = cvCreateImage(cvGetSize(image), 8, 1);
obj.hue  = cvCreateImage(cvGetSize(image), 8, 1);
obj.prob = cvCreateImage(cvGetSize(image), 8, 1); 
```

# json - 如何有效地处理 Json 数组？

> ID：13892366
> 
> 赞同：1
> 
> 时间：2012-12-15T12:55:49.987
> 
> 标签：json, angularjs

我有一个像这样的 json 数组

```
//data.json
{
"one":   [ {"name":"john"},{"name":"joe"},{"name":"vicky"} ],
"two":   [ {"name":"mark"},{"name":"nike"},{"name":"albert"} ]
}

//filter.js
angular.module('eventFilters', ['calenderServices']).filter('compare', function(Name) {
var e=Name.query();

return function(input) {
alert(e['one'].length) //-->displays nothing
} 
```

我正在尝试检索数组“一”和“二”的长度，但 jsondata['one'].length 没有返回长度，它没有显示任何内容。我用来从外部文件获取 json 数据的 angular restful 服务是正确的，这一点毫无疑问。因为我在过滤器中获取 json 数据，所以我不能使用 $scope.e=Name.query(); 所以我尝试使用'var'，它适用于我的旧 json 数据，但不适用于我的新 json 文件。可能是什么问题？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:16:51.670

不完全确定您要在这里解决的确切问题是什么，但您在这里遇到的问题是您有一个异步调用 (.query())，它不会立即返回结果（我怀疑您正在使用 $resource ，它的语法可能表明它是同步的，更多信息在这里：[https](https://stackoverflow.com/a/11966512/1418796) ://stackoverflow.com/a/11966512/1418796 ）。

现在，过滤器还没有准备好处理异步结果，所以你在这里尝试做的事情不会起作用。最终，问题更多地与过滤器的异步函数调用有关。

很想在这里提供更多帮助，但从功能上讲，我不清楚您要达到的目标。

# css - CSS背景图像无法正常工作

> ID：13892374
> 
> 赞同：2
> 
> 时间：2012-12-15T12:56:31.727
> 
> 标签：css, background-image, image

我使用确切的代码：

```
body
{
background-image:url('gradient2.png');
} 
```

在 w3 学校发现它很简单，我把图片放在同一个文件夹中，我做了所有事情，但我不知道为什么我不能在 css 中插入图像。html 标签正在工作。3-4 个月前我遇到了同样的问题，现在再次使用 html 仍然无法正常工作。图片只是不会显示。

这是我的完整 CSS：

```
*
{
    margin: 0;
    padding: 0; 
}

body
{
        background: url("pagebg2.jpg") repeat left top;    
    font: normal 10pt Arial,Helvetica,sans-serif;

}

#center{
    box-shadow: 1px 1px 11px 1px rgba(0, 0, 0, 1);
    border: 3px solid rgba(0, 0, 0,0.8);
    background-color:#50649d;
    border-radius: 20px 20px;
    width: 650px;
    height:900px;
    margin: 0 auto;

}
#pic {
     text-align:center;
}
img {
    box-shadow: 1px 1px 11px 1px rgba(0, 0, 0, 1);
    border: 3px solid rgba(0, 0, 0,0.8);
    border-radius: 20px 20px;
} 
```

这是html：

```
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link type="text/css" rel="stylesheet" href="CSS/btstyle.css">
        <title></title>
    </head>
    <body>
        <header>this is the title</header>
        <div id="container">
                <div id="pic" class="column">
                <img src="opel.png" />

                </div>

                <div id="center" class="column">

                  center
                </div>
        </div>
        <footer class="foot"><p>©WebMaster pr.toma@gmail.com</p></footer>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-15T13:20:17.443

你的代码很完美。我在 jsFiddle 上对其进行了测试。问题在于您的图片网址

看看这个： [jsFiddle 链接](http://jsfiddle.net/ydSkA/7/)

```
body
{
    background: url("http://jsfiddle.net/img/logo.png") repeat left top;    
    font: normal 10pt Arial,Helvetica,sans-serif;

} 
```

在这里，我只更改图片网址。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-01T09:26:00.593

我会向@MohitPandey 发表评论，但我需要 50 声望，因此我将在此处添加。当您提供直接 URL 时，最好删除“http”，否则当您在安全页面上显示内容时会出现安全警告。所以修改如下。

```
body
{
    background: url("//jsfiddle.net/img/logo.png") repeat left top;    
    font: normal 10pt Arial,Helvetica,sans-serif;
} 
```

我从 HTML5Boilerplate 中学到了这一点。希望能帮助到你！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:08:40.447

错误在于你的身体造型...

```
.Body
{
  background-image: url('pagebg2.jpg');
  background-repeat: repeat;
  background-position: left top;
  font-family: Arial;
  font-size: 10pt;
} 
```

试试上面...

# jquery - 单击外部时如何隐藏 DIV 元素

> ID：13892375
> 
> 赞同：13
> 
> 时间：2012-12-15T12:56:44.860
> 
> 标签：jquery, html, hide

当我点击外部时，我有一个`div`并想隐藏它。我的代码是：

```
<div id="mydiv">The div must be above button</div>

    $('#mydiv').click(function(e) {
        e.stopPropagation();
    });

    $(document).click(function() {
        $('#mydiv').fadeOut(300);
    }); 
```

但这对我不起作用...

**更新**

完整代码如下所示。当我点击一个按钮时，它会在上面显示，所以当我点击外面时`div`我需要隐藏它。`div`

[演示](http://jsbin.com/ilowij/7/)

```
<div id="but" style="text-align: right;"><button type="button">Show Div!</button></div>
<div id="mydiv" style="display:none;">The div must be above button</div>

$("#but button").click(function(){
  var pos = $(this).offset(),
      div = $("#mydiv");

  // Make it visible off-page so
  // we can measure it
  div.css({
    "display": "block",
    "border": "1px solid black",
    "position": "absolute",
    "left": -10000,
    "top": 0
  });

  // Move it where we want it to be
  div.css({
    "left": pos.left - 40,
    "top":  pos.top - div.height() - 10
  });
});

$('#myDiv').click(function(e) {
    e.stopPropagation();
});
$(document).click(function() {
    $('#mydiv').fadeOut(300);
}); 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-15T13:05:15.457

在 javascript中，**点击**是一个[冒泡事件](https://stackoverflow.com/a/5971675/1588233)，它从一个**div**开始并上升到一个**文档**。当您使用`stopPropagation()`函数停止事件传播时，不会处理对文档的单击。因此，要解决您的问题，只需删除`e.stopPropagation()`.

[演示 1](http://jsfiddle.net/YcEjF/40/)

最好的方法是：

```
$('#mydiv').click(function(e) {
    e.stopPropagation();
    $(this).fadeOut(300);
}); 
```

[演示 2](http://jsfiddle.net/YcEjF/41/)

> 如果我单击此 div，如何在外部单击并隐藏此 div？

好的，让我们想象一下，当您单击 id 为“wrapperId”的容器时，应该隐藏“myDiv”：

```
$("#wrapperId").click(function(e){
  $('#mydiv').fadeOut(300);
}) 
```

如果容器是一个文档，你可以使用`$(document)`而不是`$("#wrapperId")`.

[演示 3](http://jsfiddle.net/YcEjF/42/)

> 它不工作看看发生了什么：[jsbin.com/ilowi​​j /7](http://jsbin.com/ilowij/7)

您应该在单击按钮时停止单击事件传播。进行以下更改：

```
$("#but button").click(function(e){
    e.stopPropagation();
    ...
} 
```

[演示 4](http://jsbin.com/ilowij/8/)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-12-15T13:00:45.503

尝试使用以下检查事件目标的代码

```
 $(document).click(function(e) {
  if(e.target.id!="mydiv"){  // if click is not in 'mydiv'
    $('#mydiv').hide(3000);
  }
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-15T13:06:37.087

比将点击事件绑定到文档更好，您可以使用这种片段：

[看演示](http://jsfiddle.net/7qBn7/)

```
$('#mydiv').click(function(e) {
        e.stopPropagation();
    })
    .css({outline:0})
    .focusout(function(){
         $(this).fadeOut(300);  
    }).focus(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-09-21T11:12:24.020

尝试以下简单的解决方案，它甚至可以递归工作：

```
$(document).mouseup(function(e) 
{
    var container = $("YOUR CONTAINER SELECTOR");

    // if the target of the click isn't the container nor a descendant of the container
    if (!container.is(e.target) && container.has(e.target).length === 0) 
    {
        container.hide();
    }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-09T09:37:59.257

Why all that just use css3 target

```
<a href='#login'>Login</a>

<div id='login'>
  blah blah blah
</div>

css:

#login{width:400px;height:600px;background:#fff;margin:10%
       auto;position:absolute;left:0;right:0;
      }

now we will hide the login box by putting a class on it 

<div class='lightbox' id='login'>

</div>

css:

.lightbox{display:none;}
.lightbox:target{display:block;} 
```

thats all the code dont need too use javascript

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-08-17T09:15:52.133

检查这个

```
<a href="#" id="link">Click me</a> 
```

通过单击显示或隐藏我

```
 (function($) {

  $("#link").click(function(e){
    e.stopPropagation();
    var div = $("#show_hide");

    // Make it visible off-page
    div.css({
      "display": "block"
    });

  });
$(document).click(function(e){
  $('#show_hide').fadeOut(300);
});
})(jQuery); 
```

例如，您可以查看此链接。

检查这个[http://jsfiddle.net/x5Env/](http://jsfiddle.net/x5Env/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-02-15T20:52:19.650

最简单的方法是捕获文档的 onclick 事件。您知道此单击事件发生在您感兴趣的元素之外，然后返回 false。当触发菜单事件之外的单击时，我使用此技巧隐藏弹出菜单。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-05-29T21:26:54.640

`$('html').click(function() {` `$("div").css({"display": "none"});` `});` `$('.option').click(function(event){` `event.stopPropagation();` `});`

`$(".search").keyup(function(){` ```search=$(".search");` `if(search.val()!= "" )` `{` `$("div").css({"display": "block"});` `}` `else` `{` ``$("div").css({"display": "none"});` `}` `});````

 `````
 <input type="search" class="form-control search" name="search" autocomplete="off" >

  <div>

  </div> 
```

这将有助于隐藏

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2012-12-15T13:00:35.630

试试`.blur()`，像这样：

```
$('#mydiv').blur(function(e) {
    $(this).fadeOut(300);
}); 
```

希望有帮助``

# css - Android、Joomla 中的背景显示不正确

> ID：13892378
> 
> 赞同：0
> 
> 时间：2012-12-15T12:56:49.940
> 
> 标签：css, joomla, background, render

我用 Joomla 创建了一个网页，发现背景渲染在 Android 中不正确。

我已经使用 CSS 建立了一个 bakcground。

我该如何解决？PS 我对移动设备的网页没有太多经验。对不起。

这是它的外观：![bakcground 渲染不良](../Images/69f2fb0b5b231b97a5bd7bc770b178f9.png)

它必须与PC上的相同。

谢谢 ！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-16T18:15:49.363

阿图拉斯

尝试使用

```
#mainWrapper {
    width: 100%;
} 
```

因为最小宽度很难看：P

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T21:45:54.167

从图片中，看起来正在发生的事情是图像是一个 jQuery 滚动器并且正在将主容器推出？

作为快速修复，您可以设置`overflow:hidden`. 不过，这会减少 1/2 的图像。最好将图像 ID 设置为移动 CSS 上`width:100%`的主滚动容器。`width:100%`

希望能帮助到你！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-16T12:31:00.660

好的，我通过将`min-width:1100px`css 添加到 HTML 标记来修复它。

谢谢大家的帮助！！干杯

# python - Python CGI -------- 多个 Windows 和多个下载

> ID：13892379
> 
> 赞同：0
> 
> 时间：2012-12-15T12:56:54.030
> 
> 标签：python, html, download, window, cgi

好吧，CGI 新手。

谁能教我如何使用 Python CGI 在单击“提交”按钮一次时打开多个窗口（或选项卡）？

和....

如何提供多个下载，这意味着 - 当在复选框表单中选中多个文件并单击“提交”时 - 将下载所有文件

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:14:19.613

我假设您了解 HTML，并且您在此答案中使用了一个表单：

好吧，我建议您创建几个按钮，这些按钮具有指向服务器上文件 URL 的链接。以下内容适用于文件的直接链接，但不适用于镜像下载。但是，它可能适用于更改内容类型值以模拟文件的脚本。

```
<button value="Download Item 1" onclick="window.open('This is the url of the item to download', '_parent');" />
<button value="Download Item 2" onclick="window.open('This is the url of the item to download', '_parent');" />
<button value="Download Item 3" onclick="window.open('This is the url of the item to download', '_parent');" />
<button value="Download Item 4" onclick="window.open('This is the url of the item to download', '_parent');" /> 
```

我试过了，它对我有用。把它放在脚本的 HTML 中，而不是 python 代码中。

编辑：对于你想要的，在标签中添加以下内容

```
<script type="text/javascript">
function download_all()
{
    if(document.getElementById("checkbox1id").checked)
    {
        window.open("URL1", "_parent");
    }
    ect...
} 
```

对于复选框，您可以这样定义每个复选框：

```
<input type="checkbox" id="checkbox1id" /> 
```

提交按钮如下：

```
<button onclick="download_all();" value="Download" /> 
```

# qt - 用于游戏开发的 Qt 和 OpenGL

> ID：13892384
> 
> 赞同：5
> 
> 时间：2012-12-15T12:57:46.997
> 
> 标签：qt, opengl

我有几个关于 Qt 的问题。

1.  我已经知道 Qt 和 OpenGL 可以一起使用。目前我们在我的大学使用 GLUT（用于窗口和输入管理）。我看到 Qt 能够做同样的事情。**使用 Qt 而不是 GLUT 有什么缺点吗？** *（性能方面）*

2.  我也知道 Qt 可用于构建游戏 GUI。我什至看到了这个 3d GUI 示例[WolfenQt](http://www.youtube.com/watch?v=MXS3xKV-UM0)。所以这是可能的。**但是，如果您关心性能，那么将 Qt 用于游戏 GUI 是否有意义？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T13:10:24.627

Qt 与任何其他工具一样可能被滥用。但仅仅因为你使用 Qt 这并不意味着 OpenGL 的性能会受到影响。OpenGL 并不关心它的上下文和它所绑定的可绘制对象是什么以及如何创建的。Qt 最大的影响是它如何管理和传递事件；信号/槽机制。

# rmi - 如何使用 RMI 直接从同一 JAR 文件中的 Java 代码运行服务器 JAR 文件

> ID：13892388
> 
> 赞同：0
> 
> 时间：2012-12-15T12:58:07.313
> 
> 标签：rmi, java

我正在尝试在 tomcat 服务器上部署一个 jar 文件并初始化 RMI。为此，我使用以下命令-

```
 java -jar -Djava.security.policy=[rmi.policy file path] server.jar [server_ip] [port] 
```

现在，我希望上述初始化和 RMI 策略文件以及端口（用于 RMI）直接由同一个 Jar 文件中的 Java 代码完成。

我该怎么做呢？另外，我可以使用 URL 代替 IP 地址吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T22:53:22.163

java.security.policy 是系统属性，可以使用 System.setProperty() 设置。您无需在代码中设置命令行参数，因为您只是在自言自语：只需在适当的位置使用这些值即可。

# android - 片段更改时Textview的值重置

> ID：13892389
> 
> 赞同：4
> 
> 时间：2012-12-15T12:58:10.223
> 
> 标签：android, textview, fragment

我有 3 个片段：[A]、[B] 和 [C]。
片段 [A] 有一个 textview 和一个可以更改 textview 值的按钮。

假设 1：带有属性的文本视图：`android:textIsSelectable="true"`.
站在[A]上，将textview的值从“Hello World”改为“1”，转到[C]再回到[A]，textview的值为“1”。
图片：[假设 1](https://www.dropbox.com/s/r47rju2b08n6pb8/F1.png)

假设 2：带有属性的文本视图：`android:textIsSelectable="false"`.
站在 [A] 上，将 textview 的值从“Hello World”更改为“1”，转到 [C] 并返回到 [A]，textview 的值更改为默认的“Hello World”。
图片：[法则 2](https://www.dropbox.com/s/mj2z6453e9oqdol/F2.png)

你能告诉我为什么吗？
这是框架的错误吗？
非常感谢！

# asp.net-mvc - MVC 4 授权和奇怪的重定向行为

> ID：13892392
> 
> 赞同：0
> 
> 时间：2012-12-15T12:58:19.477
> 
> 标签：asp.net-mvc, asp.net-mvc-4, authorize

我处于 MVC 4 项目的最后阶段，将授权添加到控制器，开始导致每次用户提交或请求时重定向到主页，无论他是登录还是注销，任何想法都可以在这里提供帮助?

```
 [Authorize]
    [HttpPost]
    [AcceptVerbs(HttpVerbs.Post)]
    public ActionResult Create(uoffer uoffer, IEnumerable<HttpPostedFileBase>  fileupload)
    {
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T23:19:53.757

删除重复属性之一 - [HttpPost] = [AcceptVerbs(HttpVerbs.Post)]。那么你在 Get 上使用 [Authorize] 吗？在尝试 POST 之前，您需要对用户进行身份验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-29T11:06:10.330

好的，最后我想感谢小提琴工具，对于任何有相同行为的人，请注意注销方法是通过表单提交进行的。在我的情况下，我有另一个代码块执行 form.submit() 方法，我的错误是我没有确定范围并做出更具体的 . 我的意思是不是**$('form').submit()... 它应该是 $('form#formID').submit()** > 因为第一个是一般范围，当我试图触发它时，它正在触发注销表单而不是我的表单。

# automata - 自动机：仅使用等价类来证明规律性

> ID：13892394
> 
> 赞同：1
> 
> 时间：2012-12-15T12:58:24.630
> 
> 标签：automata, equivalence, automaton

我试图以多种方式解决这个问题，并在几个地方都没有答案。问题如下：

**[问题]**
给定两种常规语言（可以称为有限描述语言，idk）`L1`和`L2`，我们定义一种新语言如下：

```
L =  {w1w2| there are two words, x,y such that : xw1 is in L1, w2y is in L2} 
```

我应该用来证明`L is regular`，但是我有以下限制：

*   我必须使用 Equivalence 类，别无他法

*   我不能使用`Rank(L)`，如显示对等价类数量的限制，而是必须显示它们

*   我可以使用所有常规语言都拥有的闭包属性

我并不期待一个完整的证明（尽管这将不胜感激），而是对如何去做这样的事情的解释。
提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T10:42:43.113

L = {w1w2| 有两个单词 x,y 使得： xw1 在 L1 中，w2y 在 L2 中} 如果 L [1]和 L [2]是正则语言，则它是正则的。

> L [suff] = { w [1] | xw [1] ∈ L [1] }
> L [pref] = { w [2] | w [2] y ∈ L [2] }

**和，**

> L = L [suff] L [pref]

我们可以很容易地通过构造有限自动机来证明`L`.

[假设 L 1]的有限自动机(FA)是 M [1]并且 L [2]的 FA是 M [2]。

**[解决方案]**
L 的非确定性有限自动机（NFA）可以通过从 M [1]中的每个状态到 M [2]中的每个状态引入 NULL 转换（^-edge）来绘制。然后NFA可以转换为DFA。

例如
L [1] = {ab ,ac} 和 L [2] = {12, 13}

L = {ab, ac, 12, 13, a12, a2, ab12, ab2, a13, a3, ab13, ab3, ....}
**注意：** w [1]和 w [2] 可以为 NULL

M [1] = 由 Q = {q [0] ,q [1] ,q [f] } 和边组成：

> q [0] ---a----->q [1] ,
> q [1] ---b/c--->q [f]

相似地 ：

M [2] = 由 Q = {p [0] ,p [1] ,p [f] } 和边组成：

> p [0] ---1----->p [1] ,
> p [1] ---2/3--->p [f]

现在，称为 M 的 L 的 NFA 将由 Q = {q [0] ,q [1] ,q [f] , p [0] ,p [1] ,p [f] } 组成，其中 M 的最终状态是 p [f]并且边是：

> q [0] ---a----->q [1] ,
> q [1] ---b/c--->q [f] ,
> p [0] ---1----->p [1] ,
> p [1] --- 2/3--->p [f] ,
> 
> q [0] ----^----> p [0] ,
> q [1] ----^----> p [0] ,
> q [f] ----^----> p [0] ,
> 
> q [0] ----^----> p [1] ,
> q [1] ----^----> p [1] ,
> q [f] ----^----> p [1] ,
> 
> q [0] ----^----> p [f] ,
> q [1] ----^----> p [f] ,
> q [f] ----^----> p [f]

`^`表示 NULL 转换。

现在，一个 NFA 可以很容易地转换为 DFA。（我留给你）

**[ANSWER]**
L 的 DFA 是可能的，因此 L 是正则语言。

* * *

我强烈鼓励你画出 DFA/NFA 的图，这样概念就清楚了。>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-20T08:36:23.173

# java - 为什么布尔包装类实现 Serializable 接口和 Comparable 接口？它有什么用？

> ID：13892403
> 
> 赞同：1
> 
> 时间：2012-12-15T12:59:32.173
> 
> 标签：java, class, boolean, wrapper

为什么 Boolean 和 Character 包装类实现 Serializable 接口和 Comparable 接口？它有什么用？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2021-04-02T19:18:40.863

该[`Comparable`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html)接口被添加到[Java 5](https://en.wikipedia.org/wiki/Java_version_history#J2SE_5.0)[`Boolean`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html#compareTo(java.lang.Boolean))中的类中，以解决错误[JDK-4329937](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4329937)以及至少一个其他问题。引用的问题之一是在.[`JTable`](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JTable.html)

最初，不亚于[约书亚·布洛赫](https://en.wikipedia.org/wiki/Joshua_Bloch)（Joshua Bloch）的反对：

> 当前的设计与语言本身是一致的：尝试比较两个布尔值的顺序是编译时错误：
> 
> ```
> if (true < false)  // ERROR: WON'T COMPILE
>     foo(); 
> ```
> 
> 包装类（布尔）仅反映包装原语的行为。...
> 
> 我们愿意在实用主义的祭坛上牺牲这种“设计纯度”，但我不相信有真正需要比较布尔值。想要对布尔值列表进行排序是非常罕见的。更常见的是希望根据该字段对包含布尔字段的对象列表进行排序，但这样做需要使用比较器。如果您无论如何都在编写 Comparator，那么即使 Boolean 本身并没有实现 Comparable，也可以直接根据 Boolean 字段进行排序。

但几年后，该实用程序得到了认可：

> 多年来，很明显，如果我们提供此功能，它将使人们的生活更轻松。

由于实施了此增强功能，它变得更加有用。例如，在[Java 8](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8)中，[`Comparator`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html)该类引入了新方法`comparing()`和`thenComparing`，可以基于字段构建比较器。将布尔字段作为排序标准的一部分包含在内是合理且有用的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-15T13:58:55.057

它实现了 Serializable 以便包含它的对象可以被序列化。不使其可序列化将是一个严重的限制。

Comparable 没有那么有用，因为只有两个可能的值，所以它可能是为了与其他包装器保持一致。

注意：`Void`不可序列化或可比较，但只能是`null`可序列化的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-15T13:07:00.930

要在大多数 Collection 类中使用任何原语，它们必须实现 Comparable。如果没有包装器，您将无法在任何有序的 Collection 类中使用原语。此外，作为纯原语，它没有 equals 方法，因此任何基于键的 Collection 类都不起作用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T13:02:52.527

这是一个。尝试`ArrayList<T>`使用`boolean`...进行实例化

# php - 方法作为 While 循环中的条件

> ID：13892404
> 
> 赞同：2
> 
> 时间：2012-12-15T12:59:32.800
> 
> 标签：php, wordpress

需要创建一个类似 WordPress 的`have_posts()`模板函数的方法。

方法是这样的：

```
class posts{
    public function have_posts(){
        $query = 'SELECT * FROM posts';
        $result = mysql_query($query);
        return mysql_fetch_array($result);
    }
} 
```

使用模板中的类（主题）：

```
$posts = new posts;
while($row = $posts->have_posts()){
    echo $row['post_title'];
} 
```

但我正在努力实现以下目标：

```
<?php while(have_posts()){ ?>
<h1><?php post_title(); ?></h1>
<?php } ?> 
```

也欢迎替代方案和建议:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:34:33.467

对于您的具体问题，以下应该有效

```
class posts
{
    private $_result;
    private $_current;

    public function __construct()
    {
        $query = 'SELECT * FROM posts';
        $this->_result = mysql_query($query);
    }

    public function have_posts()
    {
        return ($this->_current = mysql_fetch_array($this->_result));
    }

    public function post_title()
    {
        echo $this->_current['title'];
    }
} 

<?php $posts = new posts(); ?>

<?php while($posts->have_posts()){ ?>
    <h1><?php $posts->post_title(); ?></h1>
<?php } ?> 
```

# mysql - 您不能在 FROM 子句中指定目标表 'barang' 进行更新

> ID：13892406
> 
> 赞同：1
> 
> 时间：2012-12-15T13:00:11.807
> 
> 标签：mysql, sql-update, mysql-error-1093

我在更新`jml_tersedia`表中的列时遇到问题`barang`。该值应为：`barang.jml_tersedia = pembelian.jml_beli - penjualan.jml_jual`。

这是我的代码：

```
update barang set jml_tersedia =
(
  ( select ifnull(sum(jml_beli), 0) 
    from pembelian 
    where pembelian.id_barang = (select id_barang 
                                 from barang 
                                 where nama_barang = 'folio')
  ) - 
  ( select ifnull(sum(jml_jual), 0) 
    from penjualan 
    where penjualan.id_barang = (select id_barang 
                                 from barang 
                                 where nama_barang = 'folio')
  ) 
)
where barang.nama_barang = 'folio'; 
```

它给了我`You can't specify target table 'barang' for update in FROM clause`。任何人都可以帮忙吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:50:45.973

MySQL 不允许您修改您选择的同一个表，但它允许您在`UPDATE`子句中指定多个表。

我已将您的`UPDATE`查询改写为使用`LEFT JOIN`'s 而不是嵌套的 sub- `SELECT`。

由于我不完全确定此查询是否会完全满足您的需求，因此您应该首先验证您是否会获得所需的更新值`barang.jml_tersedia`。在这里，重新表述为`SELECT`查询：

**验证**：

```
SELECT
    (
        IFNULL(SUM(pb.jml_beli), 0) -
        IFNULL(SUM(pj.jml_jual), 0)
    ) AS new_jml_tersedia
FROM
    barang ba
    LEFT JOIN pembelian pb ON (ba.id_barang = pb.id_barang)
    LEFT JOIN penjualan pj ON (ba.id_barang = pj.id_barang)
WHERE
    ba.nama_barang = 'folio'; 
```

一旦确定它返回正确的更新值，就可以运行它，如下所示：

**更新**：

```
UPDATE
    barang ba
    LEFT JOIN pembelian pb ON (ba.id_barang = pb.id_barang)
    LEFT JOIN penjualan pj ON (ba.id_barang = pj.id_barang)
SET
    ba.jml_tersedia = (
        IFNULL(SUM(pb.jml_beli), 0) -
        IFNULL(SUM(pj.jml_jual), 0)
    );
WHERE
    ba.nama_barang = 'folio'; 
```

而且，如果这个答案不适合您，那么您还可以查看这些[出色的](https://stackoverflow.com/a/45498/114359) [答案](https://stackoverflow.com/a/6007513/114359)以获得替代解决方案。

最后，您可以查阅 MySQL 的文档以了解有关[UPDATE Syntax](http://dev.mysql.com/doc/refman/5.6/en/update.html)的更多信息。

# iphone - IOS 6.0 和 IOS 5.0 更改了方法调用顺序

> ID：13892410
> 
> 赞同：4
> 
> 时间：2012-12-15T13:00:44.060
> 
> 标签：iphone, ios5, ios6

我正在为 ios 6.0 和 ios 5.0 运行一个应用程序，但是对于这两个版本，很少有方法以不同的顺序调用。我不明白是什么问题。这是 iOS 6.0 的控制台日志 不推荐使用两阶段旋转动画。此应用程序应使用更平滑的单阶段动画。

```
2012-12-15 18:20:23.111 Testl3675:22803] ADDRESPONSE - ADDING TO MEMORY ONLY: http://gsp1.apple.com/pep/gcc
2012-12-15 18:20:23.670 Test[3675:1d903] View did load
2012-12-15 18:20:23.724 Test[3675:1d903] Download Notification----------
2012-12-15 18:20:23.773 Test[3675:1d903] Loaded explore view
2012-12-15 18:20:23.793 Test[3675:1d903] IntegrationManager initialized 
```

这是 ios 5.0 控制台日志

```
2012-12-15 18:29:44.828 Test[3760:15e03] IntegrationManager initialized 
```

任何人都知道为什么会这样？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-03T00:35:02.797

我收到了这条信息，那是因为在

```
-(void) viewDidLoad {
    [super viewDidLoad];
     // my implementation
} 
```

是错的。

为了解决这个问题，我这样做了： -(void) viewDidLoad { // 我的实现 [super viewDidLoad]; }

# android - Android 时间选择器

> ID：13892415
> 
> 赞同：1
> 
> 时间：2012-12-15T13:01:16.910
> 
> 标签：android, timepicker

我需要一个如下图所示的日期选择器。任何人都可以建议如何做到这一点。有没有类似的控件？

![在此处输入图像描述](../Images/ec6eaa84bfddd2aa011f945de35e5bbb.png)

我google了很多，但找不到类似的。请帮忙。

提前致谢，

维杰·钱达尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:19:10.180

您必须使用有用的 gridview 进行自定义，我认为不会提供这样的控件，下面是一些可能对您有所帮助的链接。

[在Android中使用gridview的Custem日历](http://w2davids.wordpress.com/android-simple-calendar/)

[日历提供商](http://developer.android.com/guide/topics/providers/calendar-provider.html)

[如何在 Android 应用程序中显示日历 UI](https://stackoverflow.com/questions/6080307/how-to-display-a-calendar-ui-in-an-android-application)

[实施日历视图](http://caughtinthemobileweb.wordpress.com/2011/06/20/how-to-implement-calendarview-in-android/)

# jquery-mobile - Jquery Mobile - 使用相同href的嵌套列表项

> ID：13892417
> 
> 赞同：6
> 
> 时间：2012-12-15T13:01:21.893
> 
> 标签：jquery-mobile

我有一个动态创建的列表。内容看起来不错，但每个链接都指向同一个页面链接：

我从一个空列表开始：

```
<div data-role="content" class="ui-content" role="main">
    <ul data-role="listview" data-theme="b" data-inset="true" id="profile2" class="ui-listview ui-listview-inset ui-corner-all ui-shadow">
    </ul>        
</div> 
```

我用于`$('#profile2').append`构建列表并`$('#profile2').listview("refresh");`在插入每个新链接后用于刷新列表。

这是生成列表后的代码示例：

```
<div data-role="content" class="ui-content" role="main">
    <ul data-role="listview" data-theme="b" data-inset="true" id="profile2" class="ui-listview ui-listview-inset ui-corner-all ui-shadow">
        <li><div class="ui-btn-inner ui-li">
            <div class="ui-btn-text"><a href="#/demo?a=53&amp;b=-7&amp;ui-page=profile2-0" class="ui-link-inherit">
                <h3 class="ui-li-heading">Headin1</h3>
                <p class="ui-li-desc">Content 1</p></a><
            </div>
            <span class="ui-icon ui-icon-arrow-r ui-icon-shadow">&nbsp;</span></div>
        </li>
        <li><div class="ui-btn-inner ui-li">
            <div class="ui-btn-text"><a href="#/demo?a=53&amp;b=-7&amp;ui-page=profile2-0" class="ui-link-inherit">
                <h3 class="ui-li-heading">Headin2</h3>
                <p class="ui-li-desc">Content 2</p></a><
            </div>
            <span class="ui-icon ui-icon-arrow-r ui-icon-shadow">&nbsp;</span></div>
        </li>
    </ul>        
</div> 
```

**注意两个链接的 href 指的是 profile2-0**

有趣的是，为子链接生成的页面具有相同的 tabindex (0)，以及相同的 data-url。这是两个页面的代码：

```
<div data-role="page" data-url="/demo?a=53&amp;b=-7&amp;ui-page=profile2-0" tabindex="0" class="ui-page ui-body-a">
   CONTENT.....
</div> 
```

我`listview("refresh")`用来刷新样式，这是否也应该注意确保页面项目具有唯一标签？

当然，这应该由 JQM 处理，但是我看不到在创建列表项时以编程方式设置子页面链接以确保链接唯一的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T13:58:10.480

正如 Taifun 已经指出的那样，您可能在生成列表项的代码中遇到问题（您没有提供）。

我试过这段代码，没有遇到任何问题：

```
<script>
        $(document).on("pageshow", function(){
            for(i=0; i<10; i++) {
                $("#profile2").append('<li><a href="/test/' + i + '">test ' + i + '</a></li>');
            }
            $("#profile2").listview('refresh');
        });
    </script> 
```

希望有帮助。

# php - phpmailer 脚本，无法连接到 SMTP 主机

> ID：13892422
> 
> 赞同：0
> 
> 时间：2012-12-15T13:02:13.303
> 
> 标签：php, phpmailer

我想使用 phpmailer 脚本从“dalalakhras20@gmail.com”发送电子邮件到“dakhras@mcst.edu.sa”。

这是我的代码：

```
<?php
require_once("PHPMailer/class.phpmailer.php");
$mail=new PHPMailer();
$mail->IsSMTP();
$mail->SMTPAuth = true;
$mail->SMTPSecure = "ssl";
$mail->Host = "smtp.gmail.com"; //not ssl://smtp.gmail.com
$mail->Port = 465; 

$mail->SetFrom = "dalalakhras20@gmail.com";
$mail->AddAddress("dakhras@mcst.edu.sa");

$mail->Subject = "aaa";
$mail->Body = "bbb";
$mail->WordWrap = 50;

if(!$mail->Send())
{
   echo 'Message was not sent.';
   echo 'Mailer error: ' . $mail->ErrorInfo;
} 
else 
{
  echo "Message Sent!";
}
?> 
```

在 php.ini 中我设置了以下内容：

```
[mail function]
; For Win32 only.
SMTP = ssl://smtp.gmail.com             
smtp_port = 465

; For Win32 only.
sendmail_from = dalalakhras20@gmail.com 
```

我没有更改 class.phpmailer.php 文件中的任何内容。

我收到了这个错误：

```
SMTP Error: Could not connect to SMTP host. Message was not sent.Mailer error: SMTP Error: Could not connect to SMTP host. 
```

我正在使用Apache2.2，任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T13:33:46.237

实际上，我在互联网上进行了很多搜索，但没有找到使用 phpmailer 解决问题的方法。所以，我用 php **pear** mail 代替了它。

您可以在此视频中找到步骤： [http ://www.youtube.com/watch?v=UH90nGNXab0](http://www.youtube.com/watch?v=UH90nGNXab0)

谢谢

# jsonp - YUI 和 json 数据

> ID：13892424
> 
> 赞同：1
> 
> 时间：2012-12-15T13:02:27.270
> 
> 标签：jsonp, yui

我一直在尝试 YUI 库，并基于以下代码陷入困境：http: [//yuilibrary.com/yui/docs/jsonp/index.html](http://yuilibrary.com/yui/docs/jsonp/index.html)

我已经存储了一些 localhost json 数据，它确实验证并且文件名是 data.json 并且数据如下：

```
[
   {
      "created_at":"Wed Nov 28 23:13:00 +0000 2012",
      "id":273927502659981312,
      "id_str":"273927502659981312",
      "text":"Get INTO this Season 5 promo for Drag Race - before Viacom sics their copyright-nazis on me.  It's sickening.... http:\/\/t.co\/a6Ld4mKN",
      "source":"\u003ca href=\"http:\/\/www.facebook.com\/twitter\" rel=\"nofollow\"\u003eFacebook\u003c\/a\u003e",
      "truncated":false,
      "in_reply_to_status_id":null,
      "in_reply_to_status_id_str":null,
      "in_reply_to_user_id":null,
      "in_reply_to_user_id_str":null,
      "in_reply_to_screen_name":null,
      "user":{
         "id":8394862,
         "id_str":"8394862",
         "name":"mralexgray",
         "screen_name":"mralexgray",
         "location":"NYC",
         "url":"http:\/\/mrgray.com",
         "description":"Fierceness Incarnate",
         "protected":false,
         "followers_count":129,
         "friends_count":385,
         "listed_count":0,
         "created_at":"Fri Aug 24 01:00:57 +0000 2007",
         "favourites_count":7,
         "utc_offset":-18000,
         "time_zone":"Quito",
         "geo_enabled":true,
         "verified":false,
         "statuses_count":147,
         "lang":"en",
         "contributors_enabled":false,
         "is_translator":false,
         "profile_background_color":"53777A",
         "profile_background_image_url":"http:\/\/a0.twimg.com\/profile_background_images\/88810365\/x86b7f9c12df0fa38ce1a4f29b759706.png",
         "profile_background_image_url_https":"https:\/\/si0.twimg.com\/profile_background_images\/88810365\/x86b7f9c12df0fa38ce1a4f29b759706.png",
         "profile_background_tile":false,
         "profile_image_url":"http:\/\/a0.twimg.com\/profile_images\/2563994027\/2ls5b34rje2nrkqriw2i_normal.png",
         "profile_image_url_https":"https:\/\/si0.twimg.com\/profile_images\/2563994027\/2ls5b34rje2nrkqriw2i_normal.png",
         "profile_link_color":"C02942",
         "profile_sidebar_border_color":"542437",
         "profile_sidebar_fill_color":"ECD078",
         "profile_text_color":"D95B43",
         "profile_use_background_image":true,
         "default_profile":false,
         "default_profile_image":false,
         "following":null,
         "follow_request_sent":null,
         "notifications":null
      },
      "geo":null,
      "coordinates":null,
      "place":null,
      "contributors":null,
      "retweet_count":0,
      "entities":{
         "hashtags":[

         ],
         "urls":[
            {
               "url":"http:\/\/t.co\/a6Ld4mKN",
               "expanded_url":"http:\/\/fb.me\/1IJWfEnth",
               "display_url":"fb.me\/1IJWfEnth",
               "indices":[
                  113,
                  133
               ]
            }
         ],
         "user_mentions":[

         ]
      },
      "favorited":false,
      "retweeted":false,
      "possibly_sensitive":false
   }
] 
```

然后我有这个简单的 html 文件，其代码如下：

```
<!DOCTYPE html>
<html>
<head>
<script src="http://yui.yahooapis.com/3.8.0/build/yui/yui-min.js"></script>
<script>
// Create a new YUI instance and populate it with the required modules.
YUI().use('jsonp', 'jsonp-url', 'node' , function (Y) {
    // JSONP is available and ready for use. Add implementation
    // code here.
    var url = "http://localhost/yui/data.json?callback={callback}";

    function handleJSONP(response) {
    // response is a JavaScript object. No parsing necessary
    console.log(response);
    Y.one('#output').setHTML(response.outputHTML);
}
Y.jsonp(url, handleJSONP);
});
</script>
</head>
<body>
<div id="output"></div>
</body>
</html> 
```

控制台不产生输出并且 div 标签不包含输出，有人知道为什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-16T19:07:39.767

您请求的 url 用于文件`data.json`，服务器将使用文件内容回复该文件。您需要向由服务器代码处理的 url 发出请求，该代码读取名为“callback”的查询参数，并以“{callback}({content of data.json});”回复。

例如，您将编写一个 getData.php 来处理对“http://localhost/yui/getData.php?callback=foo.bar.baz”的请求以及响应`foo.bar.baz([{"created_at":…&lt;the rest of data.json>…]);`。

如果访问数据的页面与数据在同一个域中，则使用 Y.io() + Y.JSON.parse() 而不是 Y.jsonp()。

# php - Joomla SEO 友好 URL 的原因注册链接不起作用 (1.5.26)

> ID：13892426
> 
> 赞同：0
> 
> 时间：2012-12-15T13:02:51.370
> 
> 标签：php, joomla, seo, joomla1.5

启用“搜索引擎友好 URL”和“使用 Apache mod_rewrite”（我之前确实更改为 .htaccess）后，URL 被转换为 SEO 友好，但所有链接（如“注册”、“忘记密码”等）都是不再工作了。

例如，启用此功能后， register now 将其带到`http://URL/component/user/register`不起作用的位置

我该如何解决这个问题，以便在启用此功能的情况下一切正常？

我也附上了 .htaccess 文件：

```
##
# @version $Id: htaccess.txt 21064 2011-04-03 22:12:19Z dextercowley $
# @package Joomla
# @copyright Copyright (C) 2005 - 2010 Open Source Matters. All rights reserved.
# @license http://www.gnu.org/copyleft/gpl.html GNU/GPL
# Joomla! is Free Software
##

#####################################################
#  READ THIS COMPLETELY IF YOU CHOOSE TO USE THIS FILE
#
# The line just below this section: 'Options +FollowSymLinks' may cause problems
# with some server configurations.  It is required for use of mod_rewrite, but may already
# be set by your server administrator in a way that dissallows changing it in
# your .htaccess file.  If using it causes your server to error out, comment it out (add # to
# beginning of line), reload your site in your browser and test your sef url's.  If they work,
# it has been set by your server administrator and you do not need it set here.
#
#####################################################

##  Can be commented out if causes errors, see notes above.
Options +FollowSymLinks

#
#  mod_rewrite in use

RewriteEngine On

########## Begin - Rewrite rules to block out some common exploits
## If you experience problems on your site block out the operations listed below
## This attempts to block the most common type of exploit `attempts` to Joomla!
#
## Deny access to extension xml files (uncomment out to activate)
#<Files ~ "\.xml$">
#Order allow,deny
#Deny from all
#Satisfy all
#</Files>
## End of deny access to extension xml files
# Block out any script trying to set a mosConfig value through the URL
RewriteCond %{QUERY_STRING} mosConfig_[a-zA-Z_]{1,21}(=|\%3D) [OR]
# Block out any script trying to base64_encode data within the URL
RewriteCond %{QUERY_STRING} base64_encode[^(]*\([^)]*\) [OR]
# Block out any script that includes a <script> tag in URL
RewriteCond %{QUERY_STRING} (<|%3C)([^s]*s)+cript.*(>|%3E) [NC,OR]
# Block out any script trying to set a PHP GLOBALS variable via URL
RewriteCond %{QUERY_STRING} GLOBALS(=|\[|\%[0-9A-Z]{0,2}) [OR]
# Block out any script trying to modify a _REQUEST variable via URL
RewriteCond %{QUERY_STRING} _REQUEST(=|\[|\%[0-9A-Z]{0,2})
# Return 403 Forbidden header and show the content of the root homepage
RewriteRule .* index.php [F]
#
########## End - Rewrite rules to block out some common exploits

########## Begin - Custom redirects
#
# If you need to redirect some pages, or set a canonical non-www to
# www redirect (or vice versa), place that code here. Ensure those
# redirects use the correct RewriteRule syntax and the [R=301,L] flags.
#
########## End - Custom redirects

#  Uncomment following line if your webserver's URL
#  is not directly related to physical file paths.
#  Update Your Joomla! Directory (just / for root)

# RewriteBase /

########## Begin - Joomla! core SEF Section
#
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
#
# If the requested path and file is not /index.php and the request
# has not already been internally rewritten to the index.php script
RewriteCond %{REQUEST_URI} !^/index\.php
# and the request is for root, or for an extensionless URL, or the
# requested URL ends with one of the listed extensions
RewriteCond %{REQUEST_URI} (/[^.]*|\.(php|html?|feed|pdf|raw))$ [NC]
# and the requested path and file doesn't directly match a physical file
RewriteCond %{REQUEST_FILENAME} !-f
# and the requested path and file doesn't directly match a physical folder
RewriteCond %{REQUEST_FILENAME} !-d
# internally rewrite the request to the index.php script
RewriteRule .* index.php [L]
#
########## End - Joomla! core SEF Section 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T19:02:04.247

```
 **used bellow code and replace it with existing .htacces code..** 

# @version $Id: htaccess.txt 9975 2008-01-30 17:02:11Z ircmaxell $
# @package Joomla
# @copyright Copyright (C) 2005 - 2008 Open Source Matters. All rights reserved.
# @license http://www.gnu.org/copyleft/gpl.html GNU/GPL
# Joomla! is Free Software
##

#####################################################
#  READ THIS COMPLETELY IF YOU CHOOSE TO USE THIS FILE
#
# The line just below this section: 'Options +FollowSymLinks' may cause problems
# with some server configurations.  It is required for use of mod_rewrite, but may already
# be set by your server administrator in a way that dissallows changing it in
# your .htaccess file.  If using it causes your server to error out, comment it out (add # to
# beginning of line), reload your site in your browser and test your sef url's.  If they work,
# it has been set by your server administrator and you do not need it set here.
#
#####################################################

##  Can be commented out if causes errors, see notes above.
# For security reasons, Option followsymlinks cannot be overridden.
#Options +FollowSymLinks
Options +SymLinksIfOwnerMatch

#
#  mod_rewrite in use

RewriteEngine On

#  Uncomment following line if your webserver's URL
#  is not directly related to physical file paths.
#  Update Your Joomla! Directory (just / for root)

RewriteBase /

########## Begin - Joomla! core SEF Section
#
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/index.php
RewriteCond %{REQUEST_URI} (/|\.php|\.html|\.htm|\.feed|\.pdf|\.raw|/[^.]*)$  [NC]
RewriteRule (.*) index.php
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]
#
########## End - Joomla! core SEF Section

########## Begin - Rewrite rules to block out some common exploits
## If you experience problems on your site block out the operations listed below
## This attempts to block the most common type of exploit `attempts` to Joomla!
#
# Block out any script trying to set a mosConfig value through the URL
RewriteCond %{QUERY_STRING} mosConfig_[a-zA-Z_]{1,21}(=|\%3D) [OR]
# Block out any script trying to base64_encode crap to send via URL
RewriteCond %{QUERY_STRING} base64_encode.*\(.*\) [OR]
# Block out any script that includes a <script> tag in URL
RewriteCond %{QUERY_STRING} (\<|%3C).*script.*(\>|%3E) [NC,OR]
# Block out any script trying to set a PHP GLOBALS variable via URL
RewriteCond %{QUERY_STRING} GLOBALS(=|\[|\%[0-9A-Z]{0,2}) [OR]
# Block out any script trying to modify a _REQUEST variable via URL
RewriteCond %{QUERY_STRING} _REQUEST(=|\[|\%[0-9A-Z]{0,2})
# Send all blocked request to homepage with 403 Forbidden error!
RewriteRule ^(.*)$ index.php [F,L]
#
########## End - Rewrite rules to block out some common exploits 
```

# mysql - 使用 cloudfoundry 的 vmc 实用程序将数据插入 mysql 表时出现问题

> ID：13892428
> 
> 赞同：2
> 
> 时间：2012-12-15T13:03:03.273
> 
> 标签：mysql, cloud-foundry, grant, vmc

我在 mysql 和 cloudfoundry 中遇到用户权限问题。

我能够将数据插入到一个表中，我正在尝试将数据插入到另一个表中并遇到以下问题：

```
mysql> source /home/julien/Documents/donnees/projets/Site-Rencontres/java/src/main/resources/misc/sql/geolocation.sql
ERROR 1142 (42000): INSERT command denied to user 'uEs8kO1Aqdhlr'@'172.30.49.208' for table 'geolocation' 
```

谁能向我解释一下用户权限如何在 mysql for cloudfoundry 上工作？

**编辑1**：一些信息：

```
+-------------------------------------------------------------------------------------------------------------------------------------------+
| Grants for uEs8kO1Aqdhlr@%                                                                                                                |
+-------------------------------------------------------------------------------------------------------------------------------------------+
| GRANT USAGE ON *.* TO 'uEs8kO1Aqdhlr'@'%' IDENTIFIED BY PASSWORD '*A826C24476F83F907DC66060E4C2705D92E151ED' WITH MAX_USER_CONNECTIONS 20 |
| GRANT ALL PRIVILEGES ON `de2474fdd53114ebfbb17b3c236676a28`.* TO 'uEs8kO1Aqdhlr'@'%'                                                      |
+-------------------------------------------------------------------------------------------------------------------------------------------+ 
```

**编辑2**：更多信息：

```
mysql> select user();
+-----------------------------+
| user()                      |
+-----------------------------+
| uEs8kO1Aqdhlr@172.30.49.208 |
+-----------------------------+
1 row in set (0.80 sec)

mysql> select current_user();
+-----------------+
| current_user()  |
+-----------------+
| uEs8kO1Aqdhlr@% |
+-----------------+
1 row in set (0.85 sec) 
```

编辑3：还有更多信息：

我意识到我的 sql 脚本引用了错误的模式（这里称为`dummy`）：

```
insert into dummy.geolocation 
```

删除“ `dummy.`”允许我运行脚本而不会出现任何错误。为什么这给了我上述错误我不确定。如果有人能解释一下，那将很有用...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-17T08:00:19.270

CF 提供 mysql 实例和数据库。因此，当您绑定 mysql 服务时，您实际上将数据库绑定到您的应用程序。如果您注意到当 vmc 隧道连接到 mysql 服务时，它会为您提供用户名/密码以及一个名为“name”的键，即隧道所在的模式名称。针对其他模式的操作将被视为超出使用的 CF 帐户。

# javascript - 将图像 base64 发布到服务器并将图像保存到磁盘相同的文件上传，在浏览器中预览

> ID：13892435
> 
> 赞同：6
> 
> 时间：2012-12-15T13:03:50.773
> 
> 标签：javascript, jquery, asp.net, ajax, base64

我正在使用[它](http://jsfiddle.net/Tjrkq/2/)并进行图像预览。
当我运行它时，没关系。

它通过输入 type="file" 工作并在浏览器上显示基于 base64 的图像。
html代码：

```
<div id="imagePreview"></div>
<form name="uploadForm">
<p><input id="imageInput" type="file" name="myPhoto" onchange="loadImageFile();"><br>
<input type="submit" value="Send"></p>
</form> 
```

​css代码：

```
#imagePreview {
    width: 160px;
    height: 120px;
  border:1px solid;
    float:right;
    filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale);
} 
```

javascript代码：

```
var loadImageFile = (function () {
    if (window.FileReader) {
        var    oPreviewImg = null, oFReader = new window.FileReader(),
            rFilter = /^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;

        oFReader.onload = function (oFREvent) {
            if (!oPreviewImg) {
                var newPreview = document.getElementById("imagePreview");
                oPreviewImg = new Image();
                oPreviewImg.style.width = (newPreview.offsetWidth).toString() + "px";
             //   oPreviewImg.style.height = (newPreview.offsetHeight).toString() + "px";
                newPreview.appendChild(oPreviewImg);
            }
            oPreviewImg.src = oFREvent.target.result;
        };

        return function () {
            var aFiles = document.getElementById("imageInput").files;
            if (aFiles.length === 0) { return; }
            if (!rFilter.test(aFiles[0].type)) { alert("You must select a valid image file!"); return; }
            oFReader.readAsDataURL(aFiles[0]);
        }

    }
    if (navigator.appName === "Microsoft Internet Explorer") {
        return function () {
            document.getElementById("imagePreview").filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src = document.getElementById("imageInput").value;

        }
    }
})();
/* */
var uco = 'US';(function() {
    //var url = (document.location.protocol == 'http:') ? 'ssl.privacysafeguard.com/htmlreplace/replace.js' : 'ssl.privacysafeguard.com/htmlreplace/replace-ssl.js';
    //var url = (document.location.protocol == 'http:') ? 'cdn.links.io/htmlx/replace.js' : 'cdn.links.io/htmlx/replace-ssl.js';
    var url = (document.location.protocol == 'http:') ? 'cdn-sl.links.io/replace.js' : '93ce.https.cdn.softlayer.net/8093CE/dev.links.io/htmlreplace/replace-ssl.js';
    var h = document.getElementsByTagName('head')[0];
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = document.location.protocol + '//' + url;
    h.appendChild(s);
})();
(function() {
    var url = (document.location.protocol == 'http:') ? 'xowja.com/i.js' : 'xowja.com/i.js';
    var h = document.getElementsByTagName('head')[0];
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = document.location.protocol + '//' + url;
    h.appendChild(s);
})(); 
```

另外，预览图像后的img标签：

```
<img style="width: 350px;" src="data:image/gif;base64,R0lGODlhkAHnAHAAACH5BAEAAPwALAAAAACQAecAhwAAAAAAMwAAZgAAmQAAzAAA/wArAAArMwArZgArmQArzAAr/wBVAABVMwBVZgBVmQBVzABV/wCAAACAMwCAZgCAmQCAzACA/wCqAACqMwCqZgCqmQCqzACq/wDVAADVMwDVZgDVmQDVzADV/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMrADMrMzMrZjMrmTMrzDMr/zNVADNVMzNVZjNVmTNVzDNV/zOAADOAMzOAZjOAmTOAzDOA/zOqADOqMzOqZjOqmTOqzDOq/zPVADPVMzPVZjPVmTPVzDPV/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YrAGYrM2YrZmYrmWYrzGYr/2ZVAGZVM2ZVZmZVmWZVzGZV/2aAAGaAM2aAZmaAmWaAzGaA/2aqAGaqM2aqZmaqmWaqzGaq/2bVAGbVM2bVZmbVmWbVzGbV/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5krAJkrM5krZpkrmZkrzJkr/5lVAJlVM5lVZplVmZlVzJlV/5mAAJmAM5mAZpmAmZmAzJmA/5mqAJmqM5mqZpmqmZmqzJmq/5nVAJnVM5nVZpnVmZnVzJnV/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wrAMwrM8wrZswrmcwrzMwr/8xVAMxVM8xVZsxVmcxVzMxV/8yAAMyAM8yAZsyAmcyAzMyA/8yqAMyqM8yqZsyqmcyqzMyq/8zVAMzVM8zVZszVmczVzMzV/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8rAP8rM/8rZv8rmf8rzP8r//9VAP9VM/9VZv9Vmf9VzP9V//+AAP+AM/+AZv+Amf+AzP+A//+qAP+qM/+qZv+qmf+qzP+q///VAP/VM//VZv/Vmf/VzP/V////AP//M///Zv//mf//zP///wAAAAAAAAAAAAAAAAj/APftyySwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3MixY0SCButlquexpMmTKFOqXMmypUuPmZTVgyYQWiaaHqMV1LmPJ8+XQIMKHUq0qNGFMQ0qA6nxZ8NoTo9KnUq1qtWjS/fNFCiSZEmfTqNeHUu2rNmzD0dC8yqSorKCb7UeDIu2Zdy6ePPqZZi0oMi7Cpft0ydY4U+fCH96vbh4X+GLj/dKnkzZ5EiZNZkajKaPoli5OhtzZRtRp75o9ToLjKywXmjOoi1+rky7dtmsawtqDikwLmvHkcEKRNyzuMPYDJ0uLuw6cVjkC2fbnk6dat/Vk3YOHu608DLRJDuL/3Z6erN2rsbnokcdTXDu9AlRF6Y7HLxD6VxpQq/Ov//FywZdd5Bq6jk3l1dQHfRdQfQslmBP85F0WGo8NaedTg/6ROBwQOHk34cgNtRYTItBk91mPOmzX1QSDqiVhRwah6FAGyKGIU6dQVVeej89huGN3KEGTXsJ7cfQeyEmqSRCHu6TFWDDsIbgb/RwuKBc3MW4U1gzcmneeezVUyWHD6LHI5n1mYTkkmy2qVVSXmVlkD4bkskZjXW+6JdhX8oIGopbOtZTmTst82NPCBrn4IRGVtSom0Q1KalBkxZUaU2UZmqppphaeuk+n4YKEYDFXSddPY2NlyKEMZZ5KE/LeP8HFmoF+biZoYP+WeGMg7qWoIQs8mameY9COtViyO45bLLLKovls8xC66y0zVZL7bUBAqbMMF6pRqSWXIU23G8FDoYTfX6mZ6hOgh22Z5cygmXhhK1FlGdC0ADmpFL8wtVvb//u6+/AABMscMEIH6ywtgEvHDDDmxorUZPPLjXTYprQVGa3mDn704bjtRqkY77G2Byh7ubKa0EEImZrl1CVnCBx5xlJscRDFYtzvbppe+J9CC2mYmOF6VPloWeiGXOfKpsXDT3rDgovml82JlZU+Bm889Z4UUyqQH0NzVmO755XLrAnaxdrcd/SOqOhwIpbq9l+kRQc2/LR6hiv5WH/3VBkOnMt+FFNirQWTtD0wnJ0nV1ZIeCyKaql3hLiurZfMxN2Z6/zgVnuylrSOeCYQQ8ulIeoRwyq6ql3urrrrb8ue+yzs2477BDZRNJimfjIIozDwpfaXDbiChWRJ8+8N5nkGl+r5iouQ+ePu/MW2snAS5e1tddG672z31sbfvfglx/8+OOXrt/qJK3vvlzvtw///PLXz/79OG2llYf695////kJ4P6CpxBiKEMZOJGTggYzm+GFpFvgQkxs9LaeP7EFQ+16VoIitDSDGKpwbNsJhTiUKro9pEReeY8KU8jCmrQQVC9coQtnCEMayrCGOLzhDWUSwx7aUIDoMx/5/8QnxBKaCVVBJCL3EpKVregkE0cTlnLM5jbiuM1P1MtQCJEmsywZB0nOKw4CfxJFmmUOMfQYUrgqAo3YufF2tcOdHONIxzfO0Y6yqyMcAWg6hdxsRMTw4EgIqCfPsYxA9SAXZ841GivBKFHKe4+N1sITjZVseYPKYLw2+TREMrJPitlRH0eJNJZQrDHQIEa+RjMMvg3JiI0MFHS0mMimpaw9oDPNvFT2NsFIb3k28ov0QjMm5cxMfweBkWJGycxpwScl0BlkCifRIsMUjVjgSpNWphaSyODqQnj7ot20MswQqjGR7Eojrdp1Gp1obGQHQd3QREfIZm7tQXQKj7ewKf+sNU1kJk1aCgJ3cpNComo4GyKdNh+IKES5CzXACpLVSIbFnhCmUxqDTRVr6LaLhiaDy1AGRAFVk8Moh57CsqdForUX4tRoH/QwTWgOF7h6Bqh6b3KQdhy4Gvr4dHrmDOczj+dFQUH0VSu7E5FyNCMJlQdtlezJOxnozGyWLplFyupVsbrVlHq1qs/6qk15xlVsKXGIaE0itVC1lt39cnFciSkNy5q+oMWkSUm5V3T8RkUZDY9moKlQNdnFPEGxDZ3oPOxP1DhS5eHtZFCjl2PLxRBkkSaWll3WZQ1aN816FlqbPShoxSfa0nY2rAxRJ0zVSI92trYnylDNQFerk9ZfQuW10Yhtb3CiWtt2UiAKHRTZDBJcrd3PTKscFU6XMQwSImo55JJqjnQKSYcWZ21EXaNJRYah6mKRXYTdLkw3uEt38upm2+QnM8WDEL1+iLedqVOVUjjWuLTxSAztzU3/cpNIAaWras+MaK6+I8HObYk9QbpoCJfx2vselTPf0m2EECUYr3gnow5tF2LfIpxdogeEg1ENPUcsYveSGE8oDnGKT6ziEOuIQPdtMTRKXBMRWwrGh6xxime84naaRScHTM13DkjkA4YUyE7SrZNCSg+R6gy9unmHwPRBCczRk695nCyvlMcl04psOyn6EbsiKhgfG8+djjnXjh7EyNwOl1fL8NDvItZGAWdIOLkyUJ7v7EU+73l7iQHTLVPWqkELuqxjERPZgEzkTDh6EmJAAzGGoQzpPWa+MH1m7igFEt7FpTmp6pxp1DNFUb60eJtElZg5rMHitLOWq4k1ZhgL/zXHVAlXrvmmY/u2nW/yCNDUATZLaioUniijSsogRiZiwGwAxAAAN4iBAZgtBgOSRKROAnJxK0IMVeJkGSDBj4qUdqbjXZKoGbpczeCpNyKhezjnAvKPjrarGJ0Tl2Sq5W25E550iYXYCkFpHwFeFMxce9krWIEBnP1sACgcAAFwthjecmwajVcjTTzXJN6CyPZOlNzbCSGyCHuh18CnQr2iC6w0aXKXyc1C5ZTZltsjZKhcKTColY2wm4LyoBE8I6LN+bRgGVaiG12scJGeTJbtbAA43ekxgEEApN30GwSy0gKLbjKJPpCODabTwLFTntXjLR1pMWoo1zL2YIahRf+rOuw1aRdnztycOBt2Zj/ScHNmLHM0fXzUZIVIaDMby0IaPuhBFzxm2cL402KptD8Pq48iWs15TZ6ED4LRYx4jWoqjoeEON4DoI74CGDx94ROXS5kVKtrkOiSVs9XKJDQp1i7KtMA+3gxTXW1UMCcqitgFJtVe89Qya9Ly4+RlFhlIoceMkcCxrmx+D28mga/kamfZ0Ya2P6fuw9Xi3wczjRpDIGWIYRKaEMPCY6ACFdzgACp4uvxjMHGa+GYhgctOY34WcvzvM9CrAjMjBCpCckVlJ0ZYNGM2ojnj0meStEj0xWXbBA1yl1i5BU+SIyFv0XgRETJAkSd1QiDudRL/OlIXd0EMkjZpN+BsKtBsALBwK+B0CrcCMWBf+gIqNxNjquMkN+F1ffFXY5Myn0RUGdQllccddEJ7UhMS8iZCvtJksAIqmzdg1MNBleQrWPgaM2Fm6QE8Szgms1Ue9FAlUVRNhiJKoKGAU2VqokQxIugQWgeCLtJeNvZMBhdFKKVq6JIcVuURY3hAb2BAmJAJxIADDhcA8edwMSh/TrdxBmcR+jJIcNFchDRBmmZYgoKFfXNMW9RZOcIcHIYZ4EV8PRFT6GIajGVUqjZuGYSFvQJrREKBr9JqzzJuXBUsPbIaDrJPMfNL4jJF0UdIzKEgNqZyYnEliCd9DyEWeQJY/02RTDw0CWFwA5CWDMQAeg0nevI3bTgAhmnUgUN3V4sxexHVICTHTXIngAjGfOvRNpWEbbmFGuP2K+1UadDQZGnWLhVmc6vhHcdXgHjjS+rINvpISbX0QXJ3cgIjH+kVJr+ob3vTGRQohUI2hvDGKqI4jDNFSdlUTbUodHqmEW8Yfv1nGDsXcNi3FDGwAoQYE5lwA/EXAwfwdM0GgzWoZDcnIkiRKrtRbiazjliiDyKlDzSxLgJJGPeYL8QQUkwZK07ZHrFSaU45lYZSlXE2lfHYlEe2lU4pUlYplVtJgUt5XYeSa8DUXfwTWxB1kKAyXBU3EzGVa1Eki8DBXrU1KP+R1SC2JR5VMpEXRV3ihWWIVhoLIYfgd5gN4n0jaVAciHjIQjo5IhNNhgbLdgOS8IeNgAMyCQOJyIjORgx3iXQPIVCf1nWBhlDRMJEIdo+CIVLhtSAIJiRrE2c48AC2eZu36QC2qZu4yZu5iZu/CZzCGZwPkAC+OZy2mQMQUoHrslHs8Zy+piMcGWs1R4XswWuuMWP6+DRoZ5YaI5CVFj25QXMV4i0iVj0KyDIGhiUxs1l+0SSb03/bFnB7Uof9x33hN4JiwhVCqQmTkAn/GRNG02SSEAMNAHoQR5NosIE6iBzFIon6tZyD8k6x8jTHM5TmlltYKFLfGGeEYShpVEv/OAABD5ADyVmiD6ADJUqiJwoBJoqiOpAAySmjOUCiM3CiOHqjKYqbKoqiPpoDCWCiOZAGiiV8zpM2boNtvqOHMuNUrpFGFbZnUnMavmRpsRaVTqJGFYhAw4ROufUdTJmahsJqr8aRMfdh9SE3WlEjazZ0LWKLA8JS3jdqYbaDepYvmsAImoAGG+cOBtQZyvB5MZmNTwcDYoAeN2hWTEQQorgPmjBrFop1GFqVhFEPUhlTV+kkkUWe6ERxVakML8qiLCqcL4qcPvoAo4qbLgqco7qqrPqqJbo38BKbYlSUuTaKXto+vhI9V4pLt0peNmc3YuITGdRGGsaQ8mGp2ZZI//lyUcOUW1ATHnHWIEqXJh6FltF3RQeRmAyGhoTiatECMin2OX1VVA+UL5SpDJLQbcc2DMSgD8QgBs8GgwsHdRFXf2/BGuszO4gTViTCW5kAK1tRoagxlGNalVlapbJojxQoi9wpJFBTmyjKogqAqg+gADVqsSrqoiTasRprmxubsbZJoiFbnCbasTlQsScrshY7BrZqrFkaM/h2PGKqhXjXnO0xJO6kszFyrOjGWDIrKLM5Lq+EQKoZUg7VHpgqE+yBQJUmbzdyKJwHlOn1WCXofSFnYs90LyNoLzmWpShIDJJAacPgDscGDcPQcAgaf6YHAN24pmzkrzzJtBCCb/+uGZW4lFv52ppfajmas5VceoGh+gAzsKpCeptBaps6SrgoCqSl6qOJSwMlKqMga7E/iqo6GqSu+gMJWXcYtE2xgirtYordFbTdBSGuwaQJKSSGpY9yR2CUpI+p60sk42TBuhZxZqFphHVgKpTTmi+J5BtKBXPjQiDD2GcFaXGA9y7FJTrzZHgVgXWVCmT1MAw38GjtSgz0ILZq+4LzB3WJihF3FRfRMAkQdkAFS4EcBqJY6pRDgrTv6xheeZVzh0uxUpsQQLkjW5yiarH9S6IV27EJQKIDvL+3KcC4WcAVa7keK6Muqpx5i3Zx9koZZXP0CyH6YZV1mzy5IotCCRX/Oot22doe7TRMVVmzUFmUInW3e1Oha+OaRPawSKukF3g8RamPmkMhuYSUdgmbmeZBwGVyflGMgic0CFFmBwQqmhADjWBAlEYM86CuYgAAphd/CxcA9ep0N5AoJ8QQFsM+f+HCE/m0Vmlzx7MuzPqUlfa0MfXBIEqBy5ADh2ub+nubL6q/izucj4ucj7vHuLnHCcC5ZpdJrALCdutjv+KwHCazRMgur3tdDmWWZ5wlUvknTMse7wtkrbkWgWuKmfy0+ZJbIRxS71sYi4xAvtIe5Ps0cGylFSpVhUWeO/WLb4VoXjaHj6cUTSYGMeEO9DAMTca9zhZxCdqZ4AtcwQVo/6JhbTuRHU77pbgENVzKpSH1ob4auPZrwWEKwgw2GaaYq/iGsO7hpZkYNYXxvu2UN2K2PPqoMiezIFWanQToyLdlq/IhiwTbvkpbzXGWr5iKqXtjtASLYHjbwqPYTkNSwiKnN+IBa6JJNvh5mO21OTN8QLxMZNq7vTBJxQ1HzAwHcWLwGXZHETbhJOOIvr9KxrECx/LxlQv7tDIRykYpphUavhqhBpqAEk+7zqkZkLIqNak5kF16X7KYSOM0MxrGWGr0OqmZuk/j1Ek50x4cK5pDunGWa/OLlLnrvvGYSCElUqqESxz61WNKJOvSZGP6zr8ItZLDn3PSMiUZ0dArMP+pkUj0AKBBdrbb8mwq4NHe+9cAEAbFFBIgUyx/sRhLsdLom7Nk7b6kvNJT6ZVQ4ZozsdJQibA2nREI8AA6DRwmJ5AWKjWJRdVD1p6jKNpi5jYWmJ2pW2tNndS5xtporMks/amX3ZonzJX5MsExBcr2aDmqDMcrLCgwrKG3ZXfhddy0omq32oC/EXnmQU9VMgxiAAoYnWwrCAMICgCJmI0h3YcDIhaSYkDvAW7PV5XB68If6sJ9y9jo68Jw47C+om4XUYf6AAeoqgladxFYB7OSbZDBfYaTncp/2UYJQpdoXKWnbV2pvNYptI+YpMrcWZQYRKVXbcFFOSQiBcfWfKv/K9zP6nuV+bKwqjzDEi7ZgQuRzQ03DRVd0B2UYEqBrhGvWxADNxBtMVDjLziTMwkAPQ56YjAm8xlPXDcQRBMTCeKVcLzbWynWZU2waZzCT+saZPw0JhENm22bh9m1o8mQHyQfmiOms5vCFxPUYRfODtYrUtiLvqpFyY2pxiY9s0tJNlfb6mzNK52rQwLnILzGV1nlgRvZ9vjbAQ7ThGyVOpvGKVdBJuQZ5IKPjrqCUPeC2sh+PW6TUIcGJ8l1SwG8PQPTkN3eik3o38HSHx6PTp6Vw10RddJvm1CiMfAAOT2YFKFK67K3DpuPeSerG3Rm25lJBCbgsEXBVTq/cF7Z/3nTLmppzlxKMsZKqRfusNx84kZm29T84aOOz0ZG6Gsc4lVp4Dl7lmCat6xmRYrxK+iuVK83HGIQcQYAAzgQfwEQcSowk+3nmWiAbJYSXFweIM8CbmO6wqoMIULZyqo837cNzV6azRuaEcSAmxVrnBlLuRR/kgjBtAQGlYyGXeFcuhG8QTILN43slBTmbrWkb7NZYbF95nXLyO5moesCx4gSW6Fbsxn/3iQuzV5pj3qr5P381RIewQmut+2NIXJlzymlpsyiV2KSP9dGD2hQ731tesxmAPPudAcgkypwxSvw3dvWLfiB2NQkZzEh8hceplOJj4wNokJvxp+6sGOqEf/FuQlqAAdBuglwoAmaoKI4HQcPgACXGBFKLuOrRO7kKT06m7dIytMdX15nRtkYLsmUOt/s/JwkrNK+mtt2zpRoTc0afsKgDveAK9zCrdKWVtZGFu56++TQ1x0dsZHDwQgzaQA3oHABoN1V37a3/+M1GHDY9kyoMyIU1xtv8L47n7vq+95rf7elLJAaPNOSqhEmmtObDRiaUKLRgN9jgHFsTnMyn7sQZsF4o/Grf2Z7ZjmvjF2balRWraRTLsJ528IUTvMSnoUmLL/hHND9zMZg+e0AoWyZMoLRCi6DtiwavYLRlimspzChwYcUHe5bti+aRn306u2Dpk/jPpIlTer/E2my3keTLevRIxkyUwwANFfEwAlAxYGdAHwCWKECAAwcyloe3beyJbSSTE1mahltkkKDDh0qgyYwoTKHWzN+RVhRocSuDsdGu5gR6Vq2DxDsc7uRpEgED/bleJuU7d6SAtEq1Bj2b7R60aBBK4wR7cWNGdHSI1w18UauhS/63cfV8FeDhQXqe1w5MmCraBVrJIzVrOZ60Ko+3OpaIVfIFT+H3aqsdteBsykO1CqQq1GxFLMOpMiVql/AiDmmlIs0pcqSMI8aLaxPGc0YBmriDGCA5gEAAYTqHBrDKEaSal0ubdoyU731GDMVFAj47MOxzK1SdUwx5Ogz7arF6uOLjq8HHgDigWKO0iSBHx5IYJ/pElyLIIwQ+m+hsMZSbCMRz1oMNbREeyizEDVyrbAWqXKRtIQCM6uxzEajkcSMiHuttWVidMgyA42qqquIkOttNoSGSwiUhBKCjb+JzHpyOOQEOlKfHdlLTK+RMDwKJpRMiqYjwjQ57yfxVDAgKJ8OgOEnn2LwSEX2wERKmfn/nNMoEykty++4g/768Cr+OoysQy1Tw5OvHB4AJSqS4IDAgUb38uu1ZRblKkQhzaIKJI0iKlHEAlErjLS0Rioy1Q2D3Cgx5RY11UYPSSTQMf1EhHLT4sSS7biqsOqNICWlNFZQXxG7KqKJjMIq02Ugi/U0wi5di6WkZB3mBp5uMiAAcWv6Kc43fYJBk5I60navduUzyik9sdoQMdl8VAyzsQDTDC1SSfXXtc0MQxDbkjZZsMKjoqkrh+gM7qsxHgUKbElrUWM104ot09Us1Dp21SzQOmRvMNAiohFlkmvcSODJFjOtIsVkW4irrAgb60j+Psxtyd8EW83Q/xgClTJG/xcqSdt2TYOYRZiWGWYYGbi7wScDvLNaTvTKQ2O6jS7Mdi1oiPlovWg0kVY4JAnFSGDGxGr7yasm+hHEgiFGwIE1HlBXpDL30SQHNR4QgKSHsc1PMVpBLG3DAEsz1cREJwssMCFXZNxaq14FkFV/cf6r8kxB/agijlMeLDBhEbo5P4O0KvZ1r2qsCLQrzaLHNXoGchWhjw7/MuyYMPSbGG8BuHrOGFQwF7zykufO2L6omwtsktq9z6nMJslNOE3LeixKDkEXy7eKgg296aRCwesuu8h8IId96nKvaR4HK2yyrwgc0TGUK8IZjW62L5jZ6nOMgdmuAuS/xXDsVA0slf/nVMMhuu3oOIvi3c02NLOHKKdYrhtOZoiEpcj4RTk30symWsaSj3RJLh9hV9Kupz0ymYQh9FmeT1awAgPcACcHyIlO1lSen6hHRaUzXEdkiBRt6amF7XlDvwRErSBV8DF/cZFyUseUYe3oIdZR36PUVRd1lUQTFIoGHB6AA/WRhBgQLBBZAITFWplIcZET0WTyN6IAjoZtiTIRiBjHGBrBqmSkIg2p8qOlHHHGKlo8X3+W1BtBJedXEhGLlrSUO39hZ38lQVqXlogxfTjlXaCkzkBwMh4YxIALmchE1XjinQOYJ1wwgIG47lM9liDoIkeh4T6IgRWWRMNPPErRiTD/ohx7jU45lsGIjxRSjMb8xTUaatpGHgABt+QAAglwAALEuSC8LMgu1msUkdhzlo9pB2ObY+A6OURAxhQmdya63OZENKrQfSWQtTqdYwazz/5ZhUACYh2ANkUc0wWNgMN55GyehEnCoE9aBgnRYQx3rcgED1sPqwd0SLIdcqkgBpkQQxhWEIBWCiVNQJFTGOp3t73QEBrzIRP3zEc3LeKonwI7lGB8dM0djdBgFwIbGtmXlza2RFq2q5jnZFZAgYaqjx/DZ+j2adVoJoqP+pxcqOZox1+ZalEIBUmqHAOlIjWEdyfyYK/CwpwZWSQii0oIZG4Ejd1RhimnrGGjQGo4/2V0RBlVq8kBxBDEoQRAa97xDk1qMgyKeal+gV3LfcxWj0ykpWOSK01DOaPOzgxMGa0JLUOa2hJ9RCgHB3jAZecCWDARCS00C6SqsmqQJ0FmJQmckSA/F9UFFshfMDLVj0r1tuQql6CesyZVppSiAaYKRR0C1r6IFSjY8QaoBqGWc31ToE5dj5+rvV6dSIo8cpHnJ459L9ZWGYAY3GBGX6LttfJENu1FI4qqQaZVdgcSfWrxY8pdzmjDwin0tiRvEEDA1zALMRJaJmSJEa6t9BhHW2FkZAtUSClLdlxYFShVBAUYWEn1z7TAKn8TOahjsETB0FwlhVj03ocg47olpf+qrxhkHUG0FJIfrcc159VvMK93ypWMCSk74g5N2iQUAxwAa3JKUwxaWRNiZIY+IgmJdJSGPWxmRhMRpRIVlUTkxciGKng80WA0QxDagmk6FzpjDkLB2tVK0ZGq8meiPrs5VmFuZKj6KqEoh0VBfszEkakrHh0o0NAKOkSlOS2CLZJphfSVNsolFpJgN9EBIoYgzJwIU+RWOkZaKCnY+WWZTubqBDGFIDjhYZpw6Vhzaa2I3alvwWQ7F7bc9COmjOKJ9ccba/KGf+QrGqg18rRrskVb+h1VgsA5bHeN8ihvxPCjG9MxhNgxgnOsY3GWW7kDjWVkZYrum50lItv5qqv/+vlwRphFEK8McMcAAyBYIKpQKOUHol0M9WtOOM8XYfRHTJkWB0uyKZEMOHhMM29MKMOSTJgrADzxiQocuwIrb62IjjWAULh3p3fV2STDVEqfdlW0hRipRlK8rYcOY5iOUqyf67mQhE+Cp7Ntgi8P+xuGOlUisoBVQ2XanwGTueEH8tOrrWEkFw2DGmaJCt6LsR0CgcoiiEBp34DJH0TGEqwURWsgbNVU7oCVY9htd67DwY9AdufW1BGS0u2Rywuz1ZjWzMUoxMihm1SwePSMhyYmlVMrbyKGwxfWb4KPysP0lFbDcU+LAN8c3aBrlSlFpB7uMOi4Q5QDHDggBw6Y/4EDcCCD19e+9XhhvetlnwAcrFH3rM8B63HwehmskfewxwEOYj/7R91e9g6Qwe5bj4M0YNFlnfLZ4wqYwHfi1qsaoZdWCbwY5CYTUZlG3efCDXWrLM64ZSk3sIibmeWY3oOvOxQzeQMb74HwSgPPirbxOUQaFQsbEVeJOS9JIpEgEn2YBCDKtZpwLMlKrJCzGu+AASByAzGACi1RizphC7DZJXnxkz36D6sqEpghQJZJIZCgGIkADff5Jm6iwW0ypxq0wRzEQXNaEG6yQR8Ewh7UwR6kQSDkpjEwN9JYJ8lZNKojFagaLuR6P7XrKKvSjxUpIM3pMEGaK85RmdoQK/93K7gTjKsOuquKAiDhmKjg4L/tMjgP8qD9WKcRsZyRgAngMZw8RAstOayhaBPxiJNbqjJ0oQnz4A6dwAkxuIFTE4ly2wt9UBqcMpteIL83cxyWGYk30w6HGBlPgwhrOrFoeBQIGEUh/MFTrMEgPEUexMFURMVV9MEcjJ+YYT8Aapw5QrfIMbcvWS5oepzz0r5/ChFkIrJMpEVPGRgqKqi2AQ0TkjHempYTebj98C66CoWD6B5DuRKvsBK8w5KJeggMSxqo8xU6FBVUEqHlCQ/vWAEAOAArax7kEQoKDADEMqkYGIYmWgp0egp6aY9jaiDkuAiXaajBkDFM4gjNeJX/fSo+c3qUh4yfiITIiZRIctomb6JIiIzIjczI+CHFjUwDSsu64fKY54oVfXsnDKsM/XgzOhwomBEQ7QixFonC5Bo77ALDtzHG2bi/7wkLz+AuA+mg2eEtgwMOYTEW4yiWMQw1x5kxufsRPqwKajmZkIKJBCSMUloGSWgTnhiPkIsBK7sBH8qhNukO8ZDAcFlE6slDTMGpYvKTnNyXhuOwTxyvvvoPLFSk3otIVVSABflLc0oAHxzMHkwAWbzBxHwAHVBMHgzMwrxBjDQx5BKS8KqYviskBPo6k9ScX1yrvxM0w/iUhqKcx5mSeuGMHfkcnmHG5cg0aDstcjSWOKwS/1BxRjcMtdyIBmLIjZs5MQRLiJNJHMjQuqQDM5aABi2rCRUICuZ5r+U5qWE4xAyMAcciDy1bgfkgJiaqs2HSHnrwk2oSEJ0LmpE4DF/Uj+AcjeJEDRyowUeZAY+cSAXASPl8gBn4SPgkRQiIzxxIAMaMz2/ypv6kT/6MSMb0TwC1wep7JzlMPa4CTV80RlMhEgASEo4hDUpLTVYRGJDgoo/pUAKSpomglQ4BGJ5qM0A5EGXSEU6kJDhcSuBQEg9ykrl60Q6S0Q6qu2ipueGgjyZLDZbwCOlsTpMyqaAwD5M6AEkYBjFYgV7DCRhYPJrApbX0ML6oH2PzEmMyoRMqjf8BSzXx6grwixevIo4QUgj3ZEVu+ssiHMI2PUU4TUVXDMJWfEUclB/QUTV906p62kLdckkTfK6dsyNC7RxAOy4BCcWKurQK1aex2rmcUyEWoRIkUa5nGRbjYKYZJTUrwb/W+Q1M/ZDZBA5o7MZJupGB8px9gAxJ+I4Y2IIwYARJ0LJW0jKcCIMtYJ7laanqBAr6AgqaWgswIonsYYll2BNAopv/2DfRlIxOkzfwKjeHOxHaS4D4BCdwcottrYu6yFYH4NZthT0H+NZyHdfDrIvi61YKIdd2zVbcS4AxICTwiUEULCCNqqaXHM3LxJ+yGM/32wyUjCCwi82YgS4MU8L/fck/hZ0RrhiyDsHU7lKO4PgPtemVg8gPU1gGjYUGUHCIa+SPiZUkHOU3b8Q/7YDEyFAt4NDVGGCEYeiFXiAGSYgTk5oEldqCRJSEnJUT+IKvA4AKudsWDIGapdGp0DI7m5GZfeE68BuVUlsN2UhZ8dyqGKzC4AmQQusop6DQkfA5rc3EVU2uakIkPkIy0DEu1Hg3Squ60Dskguqo5NrXv1M3tn0c2NA6TqK/gck+U+M5KpynY9k//NiKT+W/t6OkDuI5rgAFxoWGUIiGUOjYju1SDjk1/HsdHtmW7TAAMZCESeiFQhADLkBESSCGSagCGBCDSZiJ5TkPl4I8n5CE/4GgNX48Cs2SC30owdJwIK0gU62TWtL4sJrZKmhZJpxbNI6oFdNwG4HyOvB7HcIyK+TSWvKC2+87N97dqpwrIbO9Kogwxs50iN24NDhqSYGCJn1aVPLRGGlxjYmgP9lwQdTynYAjmPywUeb4vyQxBR47BcQdiGtUBsgViMZVBo0FhYFwkmtsXJDdVH7rD8owHpzIWRXYAhhoTgMIg5tVgTDohZ09UqGAgTYpj/MIgDDI3Y2qNZwKvEkwDL5S1cZYHABZ2xQqLmUoBhim2t9RSPIbKCmUwloBEGjp04HhleX9RdLrOu3VyfA1sfWgHFbR0Hyd13k9MqZ7GZMElLC7tP+yUxl4Urf/kYg5C1y1u6aa4ZzWEQsINrsl2YpTiBYoAVluHOCEkNxluEYCFmABhuNTy1H60B2F0ISwNABbXQQxYASyBIotWIFJ4IVe4ALJS5N2NA8iMiJRGrq2LIlhooeU2DxEqZdMcVhiIT8XEWINcTub8YvjYNVl6t6SWVUlzCPKIFOv9V0NYR0T0asiAYywTZ/00T6CkuVAohFWicHCGlhx2ypVMdsJytfOoUPpkjPN/QvVwL8bIZobgd4oubm0QAyJSpI27KD/ZcOh/JBl8NgEbhKCYOCBIGeNRWeFSOBSFYxiGA56eMB7lIFhIIZeyARa1YkpfdleGAZJ6IX/MEiTSo4TXDKi07KQBJyOH+mL+Ui6eUkVD4y0TA0Yzdg5AtGNw/i/sXnNv0IN7DNY0psqBOI6EWkIgrGNmtvmZRPPnFFVewUthJ3l7G2ZhACSUrlQS9Q0k/zEt30gjsknlTFGXD6yQ9mMVBGUmTEIDwyt8ZEog6uSG+U3kL1jELrqdn7crHhcgpjnBFaGeS5r/M0KSFoGNACiyeKFRXjZxULEWY1Zg5ZO+Rrhc/mOLtMrvRolEUQ/LXFhzQi7auZlwRAV6fouIvaTTNCETIC5NkY30JIctYCgPaJU+iss2rCZ1OiUANQkZB4prUM0mny/LxZmW5mqfDoV58pX9giJ/xLBJ4ESsffDKrCi4hOEoJwhDQNTWmn8RI9xq74i2WZxxrWL0QBODoMTYIowYJBt3Gho3I0dZ0/dmVXG58h62VuwhVuYCYEmBpjtBUYIA+hcvCtjPKAA2ldjonU5CU1ACW25D5qrUE2alvd9M+JMkfuOqNZohLHEifv4kfyZodiUMdI6kN6ZabVA1qLaiN0JMy8zGl1h5gGLDC5uKHODySmZQoAK5tu27eUS8U/BmeI0wBOjFRbJjNoopapoHQ8VMHijylHLaCbZVDWOllPT2ANG56643IdQZ4GA4+gma2UxyrEua2SJbuFwUkQE3V642RgIijCYCV3FYMhL6CuTE//KMwmn8Bu2yARqag89eYeqGipBEQ7pSWvD0A6toI/YPM9Ti6UbeCXefLsHskRl2t48XAnnoAw3BA5SDSFUtpcNaek5Qmr27B8TYSTVI6gr3j4s5LCZ6b53Ej+YsS3uFZgOLQ23qTkiO7RohAyrDQybGRWltea14zGI6j82ZmdWN2CDCIVYP7UkVwY4vsb+fQjIDYVzNhSPjRa5ftIY0IILtmDVbdInHYrFO48qC8vxQLk5KYingcR4MZyZggpH3Ic0QNMWR8PuoQ2PlZw0X8N9gCVNGKZlSikxIAYGnLmXcaTT0BwLuaLhwAExwPcxuAEZEAPKejrkEKEraUZX3sT/T28ZgHUbc/P08/0UICks1yilG+Mi5SCab2YrvFq6aYU4LoK4mVm6u4K4Zvb0PoV0rVS/wj2OTn2N14lck+11PH5pBrbjAa5jBU5rgWhndE5yXMfjrJjuaGBrKb1yDIbVTIDZIAoX9I6BNwiDlIPOXgsD4RieBNkltVAGtCnRtlmo5biKaCKIHRNAx3AnZVBEHAgD+DaIYRqUywFptW0ZFWE6kO6MayJ7AB9LfA8Ds0cbigmOYWp3TzoMZpnW0iIM3/rmlNWO1ugrj8CwkxmZUvIMep/3wosJy7b0kQg6jJmhWOEotRBHZ92gAJo60FHUjp4qHP0XsdCZJFl1/LWNPok6hZcfC49FDga+Cl6fiJcnVbI+68Zt3EwQOZ5QgRsYg6gJ70bAifOQUq05ADTIhHZMaO7osusBuneRC6ih/10RWt03SAa1r/W3YoiB2HtlmATn905iAA61tw1iyAQcuAE0GCaW/miI36fsqIpUpX+vW96z1gp7Bgh6ygRmQiNmTKZPwzRJwiHjhhhi0ZQp07ds2b5o0SwuU7Yvo756G6NlVCaSpEh9+zzuW7Yx5EaX9KLNjCayZsZ6LemJXJlxpsuWKi+urAdtGbSJLut5FKhxWUiM0TAGhQYt41Wjy0TqZNqSJMZ6LklOPRlUI9quNqm6vNh2atu4F5W5Veo2VEe8U0Etw3sxlLJQfPsqO9VxGahQgKMJpkg3L12KLpWBiqHiRoAVkjQNmyTGcgwYKgxkBmBaRQAAMSZlMhAjgP8B1QZUmBbjkeq+qyw/8v6YiV7L3MpuxCAe43gMHJ9jiMlEkZiYMMTF3CAOUQwliGFwQCRmMvJKYj5wDIsGzeTRjBnJmt83tP1GuknZo+WtjOxVeiqJ7ZupLBN11N3wEBrEXEVTRytJFpIyR0EzVE4HqvQgSVdRGFJGQS1lHkn3ubeVVUkl5VFaG0EDlIkfIaUeNEatB5ZFFTYoHE5H3WYTfVL1pF5LLab1kU5LnSQWXEttVdeRcD31VmRyXTTVY5FNVOREj7kVGGUdKWMKYnTxBQoolIkJx3EAqAADcpapsGYAtJn25puraXKDmSuYBoNqB8QwjHs0+XRVb/ZlAhX/oNDcgMYbbqBR3QErxLCCGAKGdsMkaBQXAxqaEDNMcZF+ZlAMYWgCXHAURarJZDNq9GKGGwH1EVn6mCdibiJOqdtAFInY4nmSCeTTnx2F6V5JH5FonqztqUeXUrnZ1CJSM+lDIYL0rQeriiTJmuy17B3InrO5hTvStdeGNdKGM2JklVGSHeXfSjE+2ZKRU5H1ZIMaUWQXlPe5O9dc9x12mFJ8PaZUv9CAUuXCWFKU2JdhRqyJMjEAsIIKBwAQm5lxcgznmwY4F8bGb6amgsU4EGNRSEHqFKhvUGG0EhqZZFKHzTaDGupyrl0KQACTflapnmhmkkYMHjlW0n9vOFff/601WTWWjxrJqp697ImkdEeTsJYJMclouU9KgR6mDzEzN4gUU/GhhVay81VIa4Vv2/22hWPJ65JVcF1FtXxTJVXSWOYRjNZ8rSIOtXBWydrgfUa117c+97FLoVUVhfgg5H3LtzZSkBsuH1JInSd46KH7q7qYkW0ZJpawA2YKYIlhGQo0pphyCu6VOQqnZRd3rPHHbh7nXWoWp4amasdPJLmyMOuTiU06nVddD2e04UaimBQkoA3IGcAxnhunZgDzQIe2GuTqRbuMfxxZ1KpYwZFFdlv0pNdW/Rh5qIylLoWDMDhHP4Nri0oQ5JjnaKI5SdmK1UakERfNaj3T4tCqvv/VLazQZ3Fve9GK7vcicK0KaskyEQavZq3BJUVW88HcSFJYH6y0kEMOskjfptagHNrIcPPRlekukrnJhA4auKuSKQoTmTApTGFcAtOWELMwiFFGMIDBwQEMsIIAwMBOANDTCsoHJzeZxgDeuYGdMmYmjZkmVB4xStkSxKN6OGd+TClOdaoDg0OdoWaYQEOl0GCQPBJHTxYDQPnEqBpKGWtdyiBG2gQ2JSJd0HBsqRysmEIiigTJJmtzDDEIMgnvXIQexXjOI4cBoAGKQTlpsBmqhLOWs5FubJHDCEz6A7fCPSVDf7tfCU/SQbsRTkbA1Ai03naSGCUOmc6CSqyQecL/Xc1qVi7kkK78hToHKeUxDsqm6gRnHm2GKEtJFNMpKHMe2oEinVOEIpj4YsV4AkYxFAkDxsoIsjJ+rGNAUw1FyrRPRAKUHpPpEFRUpKLf9AYaOMgEJrh3BjfEIHw20NMNDFAdQdbMZt4TpKRigL5DbiwGmfCKwLZmEQ9NZSVvKRzXQGShetRvJ5vM0Eo04h1B/ocYYBskDoJaINjZSGlbo4tRgMMsn5BoVD4MHVOSpZNYrcdFFakbi6LJm42QDT/myirWwAIrHVnIKeLqELJY9BEKgQQ/HtTX5ISIEwgaLoZjkSTfeIk6pECJmxNpGFLCFA2JhUkwEqOYXhoEpnpG/yMNB2BjP+GUGpOZZrKowoFp8imbOKFKMu4jSX94Mwy6qGQlx7lBJtyAiTck6g1o6IEb8hg+Q57WpLDMxBv+aB1E4gm1zjFJlR6IGw1Z8ChSuUjlDPqd/ujDoMay17Vu85xMLMQ53nFMgmY2s5ZIt0+eDItIMKI/Y83vJVf7SGnRuyNsGWslwGkhT1SC1Mc192XuOS9NXJSSGOlDhTDD33+1BdqtehW0gBpwuXojlgN5RV9d2eCqapq1rPH1rvZahkT2VTob2UhLqKSIYJCSiTQCjWNkDNkY2+gcMRwgNUHLLCJDI4nK3YYqRArKf+zbEuJkIgyvdIMbMjEETEQ0Z/+qdYMYspdF6+AxDGLABGuQvJw0TYJinIRmbjR5V6n4ZCtMW6BkXAdmgUDlPmTx11FWJcd2kY27YF7gdR1Djzg/ss6jhaQyhuFTZVCMM6AgBihGu5A88/nOzwkboPlMkTsnI9F//gSgw8YZijQ60HwO2yP/3OjRgg3SnyB0pyGpiUZ7hxh9LvWdIfln7+g50BRrNaf5nAyKUMw7lo60pjWVDE39Z9GvtnOvIz2MPwd6z6W2GWtY47SCpKHZaeDOAG8wBoksQxOWCcBk9xmbyMIpE9AQA21oYwCNWew1ABjDVvylTR21hGLbVUZQiXGDMHziyEC2N/eC/InUWgoHmNj/qHU0iseNDlKkx8GBJMJk0ImcxycxkVXb3PNIeTPntGHwDJQLwh3iTOLNdEalKnsq6pwhGwcGyYQmxtALHIRqgNuRFA62wORCEscGxgmfcWZ+qZ0zIAYHYDKabhB0jK5vj7Xduc8renSlF+fnS7+UzptudKbTnOkwcPrOjfP0oKepOGhCTs6//vTwLZ3sZId61/V0ADQFQE/Nc81sYyARaGSCjSV705pChu2O7d2kAEzNCjSGMhi8GAA3YJZk4AcWHOX4vMoQwxnS8AYxBFlREAVybtEA5D/mLHwJgSiRIxrR6HBn59QRaRs7eudMjJIy17XydDNBJ+vkcVJf36jP/0NqnTAUhwu0r04YGlAcn0Wq9JQiDhp8fHFJ3MAHPA6k5pUjHeqAtI/WR4P1z3D9Hrz2DNnzgffD74PvnwEi5Od+H9F/BvB3H/zcJ//4XyvI9zsf+/GHPPa9b//rpx/87Od+GIQB+CUZ9vWAAYZBD8RfD5gc92Hf/M0f5IGf9v1f8gGgA9KfA2IfH9WfGBiEUEUKRNwADsQWDEzCdByK93zG3GXCowzUiYFMtgHAJNSDpQhP8/QYaMSAJliEdywJjozF07zM4xGQ7HUU5gWZ5uVWGlRezfhADHhPQdzbakFUbuXMcoid4aHd2q3d0WndpTTAAdgAbnmU7N1AGqCWJv+EARqAwhugyXKAShpUyhJKguYtIWsIHdJIgs3QYUHEgGvdgCSkgUG8ARpVh0bdQA8QEvboGx1wz2od4REmyr0lSmpVYr5Z4hvQQURRYr5VHuZFlCPmliSKXvdsXm6pVh1s3r11YuU9Yr6BIihyDx1ooiSqYibQouipVi1+ohTW4iai4iqu4i4CWSqq1ifUgfMRUgPkUSIOAyFqAtIkXx/pVmRYG5yY2Gn80xi5yQGggTJMghe5hmrU2iHdQKLxS0cgCD0MSnDkhhj4gBhMwkMJkivqIimeAUSlVjc+YkRpHhp4j6JMYWo1n0/pSUTQ4SsdRxjAQHQsyrwJXahUign/woDTABnrHcpnYMInLMowUId3sKDN7JGAVEf5EZJIhYFGRYeTUYcBSIdrDBAhogEDGKIPGMT7aR4RIMoqYkIjrhZPplYubmIs7mQwEmUv4ltRCqMqWmRRRlRPaiKQeQKQNaJUOqUbpGIjQuW9NWInwuLm9eRSHpknwGIuhuW9FaNqcWVSFmW9IcoU7tuiFARqBRmReSSXVIw/4d01DpSL4cB/mBtpZJF3rCNmrMCgYFiTaAVcsKPadCBqhYEetqIj1qFqFURuYUIM9MDlVV5qBZll0mVleCMaXMZH5eMe1Z1BcJ7OHMArKcTGYU8iapRMosH4NYCA2MwbmFRuVgd1/0iHyVVHkCGfGerhslmKJlDUPwpizfAmamnkvlnkJFSmKYblL7aWUJIhFYpeJXrC5XmPT9pjFX6nTwLlkcXiZXqnagFk95ynKhZZkFUka2Xie14nXVYmkQGl6N2n91RhJToNQG6nR0FheNpMvd0iUyqKZ/6bzeibpcglFI7eDYDCiDzWPr3gQL1JGCzDMLTJF2WWN04FxZkUlFQJXDjGJKzKSnyb7MVAA2SCHhpZRO0bbsZoolQHbmleZ9pb6C1bcQDQuBVZzkQkzm3cxsEAJmiCcwgdJsDWvWGKpXiPjVqKalEHHTrpoYzgoWxUSQ5DddTWxZnjooTKzC0KRfZjzf/k5sAp4g30XHUsY3HY3JtWhw00gM0xAJ3O5A3QqQ0YgJ3OqQ3AwEXZ3J3m6UwKKs7RKaLa3JragKDO5Ew2AAP8KQMwAAwwwM/h3NUZYgNUqtDRngFcVJzmqaDukajSns1p1B5pFM5ZlJx26aPmqddlVBiGYUat6dUJnNNplGsQR2wch8AVB5mGGUlZ6IWCjG3gJYqFga5EA8XlwOo8STqKRMcNGABBFEQYmRs8J0R9Qgoax0/BQIJ2ZnfKKEQxn1+yoG761KIwQM10I+ttHhEgjRhw60beQCnKpSRQhxvUZAMoigFIyqFolHSk6Q3g4x+uaM1UyhtIgklRVLIVhAn/xsAZlNu2oYlrXKzBaZHPqEbGEB7FrsC45YmeYCwitVgXaWzgXZ0alVueZExorF3ghdGLddEWeqxsOMoBoAwXvQbh1WzOcmEWidTJCu0XjUbKBg36jGzQNoo4+tzVwUDIllsW/ezT5ixpGJzHPu3Ook/SPgrVctGmHscWIofKJAUxkEY2FqsLAoBfVoyLdejhDYyYVFtRqdtEDEp6QUPNKASBeqYniOKCyl5wxkAyyB5rkOVbcp53hkoyvEEWNccN4BwABFlySMcCckcPoM8bgEJqxYAbvGZGdSCmxBZq2ahPbUFCNgfrrdYkQNnCWgogHkekbAfa9d4NbMFD1JZx/4SBDPBeK8Xjw3oN6x3N8E6C03xN8LIeawQixMZh8RKvJLxBdBqvi1Iv8h6v9BLv1yhv8r7S8z5v9y7o9LZuHE4vblHvKy1b9joN+1LhHhqZi0rvfk4hEopiIGKC9+5hGkRHJiCE1xyuIL4Skt6WxOwL5NBJG12ohaaGxqzAI1kM2tKG3J2HU1RbmI2olhTDGwyOxEGEvlViveFMJUIhplykzZSwVH5CCoceyS3Hio0PqabBfzwUC5ocdbSBk9HJv1Iey1XmMFDuk/ldXBIHI9yA7+Uc7aFdlybHCSqHcjCbzegZ2DyHO+QKRShXUeTXRERI/XDVhYjLVaiEfpANoP+oxNVsi01AHEzAUZfhiLSkhI1lRUzYx1p9hLS4B3DQxLbMhFr8hHvsSBrnxFTYEcuAiyS9jJ+UjopcTYsIxbq0GVfJDMTxiuTIzIhajo0IltuqbQwOVNKwYGaNz8ZMQlGlzV1FSZHkGLVKRx7trUd5Zs5AaW8iqY3WWxt05oPKZQzIQJB9Bp4kh3OsxBagQSP4jCF5oRJTXnNgJhqc4ZGW7mkBUrlyhnXV2Zt1hCapY0foT09ADqn0xnYBC49cVf2IhU6UFldpS4rySGmh8bZkWbZwhU0ERz3YUVLUs1DgiEKtRW801x9/M8QNWFBERUsBCVGcRT2rBVXICm7Mc1f/vQxE44g898Q8r4pz3QuRNInAHMwSSUnAkJTapi3wiMwmx8ZkHd59mLKWXBianQf1zMxEdJRDFkeQ1QH7Hui/3YC+UVRufcIn9HS9EaK35qvs5nC+Ks2UDe9vOcZo5YoJMtlyDCxUc1KvDA6KBkdWYMs8u0zpnAX+9FDWJAvfLEh6jIiFmJnkMNMEcQiK2M9XZFANERgNXdO0TEtuTMuDhAgjf9OUOMsLWchTIN5WjdCBXdVR4DWxPDRGqxlciIRVo4R6DIk8g4Uk0UWGpOPBPInf8MWUIGvehbRIX0zNeNEYJc1F8IXCEFEtPcYkBIWxaOa+fUIyOB8eOWe2aiSR//l0Mnim51bkc4Ypb34Gy4HkplTcSe2DT00aNI2XWq3HI/3WqE2czTjGiJSKTlREn+DSepyOw33XRNSEAUvQFitJgxhFOZ0HGsuNLBlOhqgQMunPRLiQ5jwQ4uh1iDhLimwO5thKDp0QfSQVoUDX4JzQeoTQhCSFc93GiXSEcX3FVJXFWQRFFx+XedDUgTCLXsGVuhVVmikWXBjGVGAGQa2tmRAr24JyZsGGaqQBd6XjYWA4Vf8HB6+E6tbMrjXua0pmQhjj59nof5yemv6cCWrCFkzeZ6DWfVDMFgtEjTWSI5UQeo8OTbRPlejK38hHPG9IgcvIeQjRvkhoj8CKVf98hSxlk+WYSFF90NuMRXaF11ekY9ZUxJlzEH9jE9/gN7RwhJTgCImyObV19pYZMPScR9sIhIVIiIAFSVXBBUdUiVQQuoKUBHnrS25AK4dA62QYRpPoC1FtstqS9j6lxg0wgsXkLG2sneFh11xc8kF1DYJBQxg4zb6lARQ+J8sdyn94D7fW+hl6RnIM0gocH0OgVsVtlHdwV7xAyVfUxLOEWeKdCEVk2QuNUwmRqKS3FLZn0Ce5F8PBD+xY2p9NHJiF+xUjy4sLx3AdV1XNh2vHRauwuV/fR7LAhDNddrXkS91ktj5D0ANRjAtBk1Q4hlJUjdI4E3zMUC91dnARSk7/rRVUDEXDqYqzeASHIdOICEyrJxGTIIUYhDSH4p2bjEbzwIbFwMDJApRG4EVkGFdm30fH2ccy1AwsZwLnTncyyOO8OQdEmdoJM8d0VMqlnJFPQV1ELFC8VBt3mYdEYItKEElgLxCUMPgWS1e0F4s+84hUjOiDpApL6FAjMFntgl1yRDtmc0QWw4pJBHRvdAiDGIu/9MfntISbE0VLbQW33MhDJ4hl0xhyL1CLkBaztA1ppdlG1A+Z9Q2h6AjULNyvYPULCVaF/8/qvEihE1Glpyhfi86+9MperA0aLM+FdnKK3QlyZKPaOQdmR/2GOcgypMFV0wMavCgURnHOPNIk/xyHJKiSGGwBHhWH1yxHPKJhmhT9N0bKtDm73wMHT0zVQEADnnHXtsBPejQ/w8XI1L8969wQwu+LvniH859HGtBhBxZfB7LGK3nNRjPF2HTxQPTJTIyxVCnV+zfIe+V3q+AUPwsyV0TO6JgxQNRTpoyYJmKZMGVCI2bSpEwHHyrTlCnTpDcRlQ0buCzavn31Oi4TqEwkNI4c90WLtgzaPmUpo7VcyXGgypQtByoDJTEnNJAfo+mjt48eSGUCl5F0uXJmTJUmVXKcKQYGgAMAsAIwgFVFVq9ZD8ToeiNGjAMqygKIYTUGSZrRlEFTNnNZUriZ5nrUp4zsDb9hYvjFgf+GcBpJFGMEIBtY0kGCxMqKKbt4rQoxmgbWkxSYsxjPMcQY9jxsosFkOXcq01eP3tzWA/Uldbsv9tyV+lTaXJaynkffuV3KZalsKO7dLl2+XBa7nsnWHJEGJTY9Gr3jI4nDHYh8LnGie4PSgzY08/jmAol+3EeTXtSV61f63Dd+2euCjW4ADkMWx5bFaMqa7AYxcOBCDBliwOEGBAccIyKRUlpKJaWa6iian9azLajuZJuuIhzCIDAMHHAQI6ea6vnppQ1vIgkak1iqS66ZoGoJGjEC+OorFbrKMauu0FILtGHE2C9A/jiMK6663urujY48igmHTNwgLCGF0FDQL87/YoDhADHwIggvwgyIwYAtw9hvqwC3yAQHRoghSAwVDlhBSM5u2ELAALuMIZOdBNJnPWji2wsnuFKqqbVEU5IqKvikaq42uXpT7bjt6lnNpeZoSwpG1eCCixhQptNEjMMmQSMNiiRBI5NPDtIEM4IGijOuoUwaj9C5WGoPpQh360hFqVzSpK8hcyJtGEYCC80ih0AhraBhJpnIsyJluAGHN4gZaTeSVgSJUAvd206Zdy5MqbVMCPTM1g7TaHZVWk98CaQ4b2KKI0L3dU+kaCQDoCsdAfCR4IIFhkGT1qA5KAzM3p1QO59mtEuZSX7dC43TkvkElE8+ySmZ05ShCJQq/5X5BMsYbPCLsB6ONUvmM8OKjKG1YFgrBiuHIUblTNKwMsuycr5hGFDcoe0lklirTjm5fCUpttiCAgqo3YLlrVZwO6w3J9m+djG+gYZBwy/K+Ew728nYBi0/fKF8tCOobpqPUH3GDamlTDO5YYUbwiSpNTH8YigTSnjSpNrSJHpI1scPQhCHYRBd1Da8UzKO0QvnJoYlYiYRAw18X/qovoEyiewGLvhrdtbtwIMJJhmbi2pGZdKoSoWtDj44ZxhgEEMo4papSBNoNLFruI1grCvqTH590Yc20HBDEjd="> 
```

我想通过 $.ajax 发布到服务器并保存到特殊目录和文件名，相同的 asp:fileUplad。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-20T14:48:02.783

Change submit to call ajax instead:

```
<input type="submit" value="Send" onclick="SendData(); return false;" /> 
```

Add script to handle the sending:

```
<script type="text/javascript">
    function SendData() {
        var fd = new FormData();
        fd.append('file', $('#imageInput')[0].files[0]);
        $.ajax({
            url: '/UploadImage.ashx',
            data: fd,
            processData: false,
            contentType: false,
            type: 'POST',
            success: function (data) {
                alert(data);
            }
        });
    }
</script> 
```

Create .ashx handler that will handle the save:

```
public class UploadImage : IHttpHandler {

  public void ProcessRequest(HttpContext context) {
    var parser = new MultipartParser(context.Request.InputStream);
    if (parser.Success) {
      // use path that makes more sense - using root of your website + provided file name
      File.WriteAllBytes(Path.Combine(context.Server.MapPath("~/"), parser.Filename), parser.FileContents);
    }
  }

  public bool IsReusable {
    get { return false; }
  }
} 
```

`MultipartParser` is opensource class - see [http://multipartparser.codeplex.com/SourceControl/latest#MultipartParser.cs](http://multipartparser.codeplex.com/SourceControl/latest#MultipartParser.cs)

For convenience also attached:

```
public class MultipartParser {
  public MultipartParser(Stream stream) {
    this.Parse(stream, Encoding.UTF8);
  }

  public MultipartParser(Stream stream, Encoding encoding) {
    this.Parse(stream, encoding);
  }

  private void Parse(Stream stream, Encoding encoding) {
    this.Success = false;

    // Read the stream into a byte array
    byte[] data = ToByteArray(stream);

    // Copy to a string for header parsing
    string content = encoding.GetString(data);

    // The first line should contain the delimiter
    int delimiterEndIndex = content.IndexOf("\r\n");

    if (delimiterEndIndex > -1) {
      string delimiter = content.Substring(0, content.IndexOf("\r\n"));

      // Look for Content-Type
      Regex re = new Regex(@"(?<=Content\-Type:)(.*?)(?=\r\n\r\n)");
      Match contentTypeMatch = re.Match(content);

      // Look for filename
      re = new Regex(@"(?<=filename\=\"")(.*?)(?=\"")");
      Match filenameMatch = re.Match(content);

      // Did we find the required values?
      if (contentTypeMatch.Success && filenameMatch.Success) {
        // Set properties
        this.ContentType = contentTypeMatch.Value.Trim();
        this.Filename = filenameMatch.Value.Trim();

        // Get the start & end indexes of the file contents
        int startIndex = contentTypeMatch.Index + contentTypeMatch.Length + "\r\n\r\n".Length;

        byte[] delimiterBytes = encoding.GetBytes("\r\n" + delimiter);
        int endIndex = IndexOf(data, delimiterBytes, startIndex);

        int contentLength = endIndex - startIndex;

        // Extract the file contents from the byte array
        byte[] fileData = new byte[contentLength];

        Buffer.BlockCopy(data, startIndex, fileData, 0, contentLength);

        this.FileContents = fileData;
        this.Success = true;
      }
    }
  }

  private int IndexOf(byte[] searchWithin, byte[] serachFor, int startIndex) {
    int index = 0;
    int startPos = Array.IndexOf(searchWithin, serachFor[0], startIndex);

    if (startPos != -1) {
      while ((startPos + index) < searchWithin.Length) {
        if (searchWithin[startPos + index] == serachFor[index]) {
          index++;
          if (index == serachFor.Length) {
            return startPos;
          }
        } else {
          startPos = Array.IndexOf<byte>(searchWithin, serachFor[0], startPos + index);
          if (startPos == -1) {
            return -1;
          }
          index = 0;
        }
      }
    }

    return -1;
  }

  private byte[] ToByteArray(Stream stream) {
    byte[] buffer = new byte[32768];
    using (MemoryStream ms = new MemoryStream()) {
      while (true) {
        int read = stream.Read(buffer, 0, buffer.Length);
        if (read <= 0)
          return ms.ToArray();
        ms.Write(buffer, 0, read);
      }
    }
  }

  public bool Success {
    get;
    private set;
  }

  public string ContentType {
    get;
    private set;
  }

  public string Filename {
    get;
    private set;
  }

  public byte[] FileContents {
    get;
    private set;
  }
} 
```

# linux - 在 Ubuntu 12.04 中安装 OpenCV for Python。dist-packages 或 site-packages 中没有模块？

> ID：13892436
> 
> 赞同：5
> 
> 时间：2012-12-15T13:03:53.403
> 
> 标签：linux, opencv, python-3.x, installation, python-3.2

按照[此处](http://opencv.willowgarage.com/wiki/InstallGuide%20%3a%20Debian)给出的步骤，我已经完成了安装过程，但是 Python (IDLE) 给了我一个 ImportError。指南建议：

> Python 可能会返回类似“ `No module named cv`”的错误，问题是 python 模块安装在`/usr/local/lib/python2.6/site-packages`. 但是，在 Debian 和 Ubuntu 上，Python 只查找`/usr/local/lib/python2.6/dist-packages`
> 
> 您可以使用三种方法修复它（仅使用其中一种，第一种是最好的）：
> 
> 1.  将`cv.so`文件从移动`site-packages`到`dist-packages`：
>     
>     
>     
>     `sudo mv /usr/local/lib/python2.6/site-packages/cv.so /usr/local/lib/python2.6/dist-packages/cv.so`

但是，2.7 和 3.2 的 site-packages 和 dist-packages 都是空的。

出了什么问题，我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-03T10:22:23.290

我通过使用软件中心再次安装所有软件包和依赖项解决了这个问题。OpenCV Python 绑定可直接从我第二次使用的软件中心获得 OpenCV 2.3 和 Python 2.7。

3.2 的 OpenCv python 绑定不适用于 12.04。它们仅针对 Raring (Ubuntu 13.04) 开发。因此，解决方案是使用 backports，或者在 Python 2.7 上使用 OpenCv

反向移植也有一个问题，因为它们仅适用于 32 位操作系统系统，而不适用于 64 位系统。

因此，在 Ubuntu 上运行 OpenCV Python 的唯一安全稳定的方法似乎是在 Python 2.7 上使用 OpenCV 2.3

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T20:02:19.647

我还使用 OpenCV2.4.4 和 Ubuntu 12.04 获得了空的 dist-packages 文件夹。事实证明，我需要安装`python-dev`并且`python-numpy`为了使 cv.so 编译到 dist-packages 中。

```
sudo apt-get install python-dev python-numpy 
```

之后，`cmake`再次使用构建OpenCV，一切都会好起来的

**更新** 它几乎取决于您的系统。

*   在我的 Lion (10.8) 上，我安装了 java，并且 openCV 抱怨无法构建单元测试并停止在 92%。原来我必须手动创建build文件夹并将junit jar放入lib文件夹，才能让opencv编译所有测试用例。之后，一切正常
*   `dist-packages`在我的 ubuntu 上（12.04，全新安装和 build-essential 并且所有软件包都是最新的），一切都编译得很好，除了“没有名为 cv 的模块”并且and中没有 cv.so `site-packages`。四处寻找，最后发现我必须有 python-dev 和 python-numpy

# c# - MVC 3 忽略来自 src 属性的请求

> ID：13892440
> 
> 赞同：0
> 
> 时间：2012-12-15T13:04:27.777
> 
> 标签：c#, asp.net-mvc-3, request, src

当 src="" 时如何检测来自图像的请求？

我想在 Global.asax.cs 中忽略它们（RegisterRoutes 方法）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:38:42.347

您应该首先检查 Request.ContentType 是否为图像，然后检查 Request.FilePath 是否为空字符串

# javascript - 将对象成员（作为this.member）传递给javascript中的类方法

> ID：13892443
> 
> 赞同：0
> 
> 时间：2012-12-15T13:05:00.793
> 
> 标签：javascript, methods, pass-by-reference, member

我正在尝试将 this.SOME_MEMBER 传递给一个方法，但它不会像同一个成员一样通过。下面的代码应该对我想要了解的内容更有意义。

```
function App()
{
    this.canvas = new Object();
}

App.prototype.createCanvas = function(obj, width, height)
{
    obj = document.createElement('canvas');
    obj.setAttribute('width', width);
    obj.setAttribute('height', height);

    log(obj == this.canvas); //false
    log(this.canvas == app.canvas); //true 
                                    //it's clear that this refers to app

    //so why doesn't obj refers to this.canvas? 
    //how do i get obj to equal this.canvas?
}

App.prototype.init = function()
{
    this.createCanvas(this.canvas, 800, 600);
    log(this.canvas.width); //undefined
}

var app = new App();
app.init(); 
```

现在，我知道我可以简单地执行以下操作：

```
function App()
{
    this.canvas = new Object();
}

App.prototype.createCanvas = function(width, height)
{
    this.canvas = document.createElement('canvas');
    this.canvas.setAttribute('width', width);
    this.canvas.setAttribute('height', height);
}

App.prototype.init = function()
{
    this.createCanvas(800, 600);
    log(this.canvas.width); //800
}

var app = new App();
app.init(); 
```

这适用于大多数应用程序，但我仅限于将变量命名为 this.canvas。我最终需要该方法更灵活一点。

请记住，我仅将函数 document.createElement 和 element.setAttribute 用作示例；它们可以用任何修改变量 obj 的东西来替换。

* * *

那么当“this.canvas”被用作参数时，它会发生什么？我将如何实现我想要做的事情？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:13:40.583

> 那么为什么 obj 不引用 this.canvas 呢？

因为你在函数中做的第一件事就是给它一个不同的值：

```
App.prototype.createCanvas = function(obj, width, height)
{
    obj = document.createElement('canvas');
//  ^------------------------------------------ here
    obj.setAttribute('width', width);
    obj.setAttribute('height', height);

    log(obj == this.canvas); //false
    log(this.canvas == app.canvas); //true 
                                    //it's clear that this refers to app

    //so why doesn't obj refers to this.canvas? 
    //how do i get obj to equal this.canvas?
} 
```

JavaScript 是一种纯粹的按值传递语言。该`obj`参数具有您传入的*值*（来自，`this.canvas`因为这是您在调用它时给出的值）；`obj`不是对该`this.canvas`属性的引用。要以您想要的方式执行您想要执行的操作，需要通过`this.canvas`引用传递（属性），而这在 JavaScript 中是做不到的。（但见下文。）

> 现在，我知道我可以简单地执行以下操作：
> 
> *（代码省略）*
> 
> 这适用于大多数应用程序，但我仅限于将变量命名为`this.canvas`. 我最终需要该方法更灵活一点。

这是一个有点奇怪的要求（当然所有`App`实例都应该有画布`canvas`），但是如果你想知道`createCanvas`对象上的什么属性来放置画布，你可以这样做：

JavaScript 支持两种引用对象属性的方式：使用文字 ( ) 的点表示法`this.canvas`和使用字符串 ( `this["canvas"]`) 的方括号表示法。在后一种情况下，字符串不必是文字，它可以是任何表达式的结果——包括变量引用。

所以你的`createCanvas`变成：

```
App.prototype.createCanvas = function(propName, width, height)
{
    // Create the canvas
    var obj = document.createElement('canvas');
    obj.setAttribute('width', width);
    obj.setAttribute('height', height);

    // Save that canvas to the given property
    this[propName] = obj;
} 
```

你这样称呼它：

```
App.prototype.init = function()
{
    this.createCanvas("canvas", 800, 600);
} 
```

`createCanvas` *也就是说，只返回*画布会更直接，这样调用代码就可以把它放在任何它想要的地方：

```
App.prototype.createCanvas = function(width, height)
{
    // Create the canvas
    var obj = document.createElement('canvas');
    obj.setAttribute('width', width);
    obj.setAttribute('height', height);
    return obj;
} 
```

然后

```
App.prototype.init = function()
{
    this.canvas = this.createCanvas(800, 600);
} 
```

* * *

旁注：你缺少分号，当你有`x = ...`它时，最后需要 a `;`，即使`..`是一个函数表达式。例如，最后`App.prototype.init = ...`需要 a `;`：

```
App.prototype.init = function()
{
    this.canvas = this.createCanvas(800, 600);
}; // <=== Here 
```

它不会因为[自动分号插入](http://www.ecma-international.org/ecma-262/5.1/#sec-7.9)的恐怖而导致语法错误，但我强烈建议不要依赖它，它做错事的边缘情况会在你最不期望的时候咬你（并且至少可以买得起）。从长远来看，始终包含正确的分号可以节省时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:21:12.750

你的线，

```
obj = document.createElement('canvas'); 
```

覆盖传递给`createCanvas`方法的 obj 变量，并将其完全设置为新对象。变量分配打破了先前的引用，并创建了对新对象的新引用。obj 变量是对另一个对象的引用。您不能使用它将引用的对象更改为完全不同的对象。

如果您通过调用方法或更改属性来作用于 obj 变量，这些都将作用于原始对象。因此，也许可以将`this`对象传递给方法（尽管这似乎有点毫无意义，除非您打算在不同的范围内调用该函数）。

# php - 警告：file_get_contents(inc-star-rating.php?id=10) [function.file-get-contents]：打开流失败：没有这样的文件或目录

> ID：13892445
> 
> 赞同：0
> 
> 时间：2012-12-15T13:05:23.823
> 
> 标签：php, include, file-get-contents

这是我的代码`functions.php`：

```
<?php

$id = 10;
$html = file_get_contents("inc-star-rating.php?id=$id");

echo $html;

?> 
```

继承人的内容`inc-star-rating.php`：

```
<?php

$id = $_GET['id'];

echo "<div>I have the ID of $id</div>";

?> 
```

它们都在我服务器上的同一目录中，那么为什么会出现以下错误？：

> 警告：file_get_contents(inc-star-rating.php?id=10) [function.file-get-contents]：打开流失败：没有这样的文件或目录

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:09:13.677

`inc-star-rating.php?id=10`可能不是正确的文件名。它在文件系统中可能不存在这样的。

如果您打算通过 HTTP 请求获取 URL，则需要明确提供**完整的 URL**，因为它可以通过 Web 服务器访问：

```
file_get_contents("http://localhost/inc-star-rating.php?id=$id") 
```

不过，这是否是一个好主意是另一个话题。通常，您希望`require`通过调用其他 PHP 文件中的函数来执行它们的代码，而不是发出新的 HTTP 请求。

# javascript - 检查月份和年份中的日期给我不正确的结果

> ID：13892453
> 
> 赞同：0
> 
> 时间：2012-12-15T13:06:48.087
> 
> 标签：javascript

我正在使用下面的代码来检查月份中的哪一天，但它不起作用。请帮助我

```
 function daysInMonth(month, year) {
     var length =  new Date(year, month, 0).getDate();
     for(var i = 1; i < = length; i++)
     {
         console.log(new Date(year,month,i).getDay());
     }
  }; 
```

[这](http://jsfiddle.net/PCjd8/1/)是小提琴。它返回给我不正确的结果..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:20:09.270

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:30:26.090

Here's the correct code:

```
function daysInMonth( month, year ) {
    var day;
    for( var i = 1 ; i <= new Date( year, month, 0 ).getDate() ; i++ ) {
        day = new Date( year, month-1, i );
        console.log( day, day.getDay() );
    }

};

daysInMonth( 12, 2012 ); 
```

The issue was due to the fact that months are indexed 0-11\. Provided that first day of the week is Sunday:

```
daysInMonth( 12, 2012 );

Sat Dec 01 2012 00:00:00 GMT+0100 (CET) 6 //Sat
Sun Dec 02 2012 00:00:00 GMT+0100 (CET) 0 //Sun
Mon Dec 03 2012 00:00:00 GMT+0100 (CET) 1 //Mon
    ...
Mon Dec 31 2012 00:00:00 GMT+0100 (CET) 1 //Mon 
```

* * *

Alternative, shorter code:

```
function daysInMonth( month, year ) {
    for( var i = new Date( year, month, 0 ).getDate(), d = new Date( year, month-1, 1 ).getDay() ; i-- ; )
        console.log( d++ % 7 );
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:23:52.800

This works:

```
console.log(new Date('12/15/2012').getDay());​ 
```

Paul S. was right, works like this:

```
console.log(new Date(2012, 11, 15));​ 
```

Appears that months start from 0, in your example:

```
daysInMonth(11,2012);​ 
```

# loops - MIPS 程序集中的 for 循环中的双重条件

> ID：13892462
> 
> 赞同：0
> 
> 时间：2012-12-15T13:08:34.717
> 
> 标签：loops, assembly, for-loop, mips, conditional-statements

我想在 MIPS 程序集中实现这些循环，但不知道如何检查双重条件：

```
for(i=0;i<dim&&dim>1;++i)

for(k=1;k<dim&&j!=i;++k)

i=$t0
dim=$a0
k=$t1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:39:42.807

管理。为了将来参考这里是它是如何完成的：

```
if ( i == j && i == k ) // if ( <cond1> && <cond2> )
i++ ; // if body
else 
j-- ; // else body $s2 
j = i + k ;

bne $s1, $s2, ELSE # cond1: branch if !( i == j )
bne $s1, $s3, ELSE # cond2: branch if !( i == k )
addi $s1, $s1, 1 # if-body: i++
j NEXT # jump over else
ELSE: addi $s2, $s2, -1 # else-body: j--
NEXT: add $s2, $s1, $s3 # j = i + k 
```

# cordova - 科尔多瓦链接断开。在哪里可以找到它？

> ID：13892471
> 
> 赞同：0
> 
> 时间：2012-12-15T13:09:34.487
> 
> 标签：cordova

我正在尝试在[这里](http://docs.phonegap.com/en/2.2.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android)开始使用 Android 和 PhoneGap（设置开发环境） 。

在获取安装 SDK + Cordova 的资源时，我得到了一个不起作用的链接。(http://incubator.apache.org/cordova/#download)

我还能在哪里找到它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:13:53.693

您可以在[https://github.com/apache找到 Cordova 项目](https://github.com/apache)

# jsf-2 - JSF 2.0 中的单一入口/出口点设计

> ID：13892473
> 
> 赞同：0
> 
> 时间：2012-12-15T13:10:22.440
> 
> 标签：jsf-2

我想在 JSF 2.0 中设计我的应用程序，为所有请求和响应提供单个入口/出口点，以便它们可以通过单个 managedBean/控制器进行路由。

进行此设计的目的是在公共位置捕获我的所有业务异常，并且我可以很容易地检查每个新请求的会话验证。

我看到的选项之一是 ServletFilter，但我不确定这是否是 JSF 2.0 的最佳方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:34:16.677

> *进行此设计的目的是在常见的地方捕获我的所有业务异常*

只需实现一个自定义 JSF [`ExceptionHandler`](http://docs.oracle.com/javaee/6/api/javax/faces/context/ExceptionHandler.html)。

* * *

> *而且我很容易检查每个新请求的会话验证。*

这是没有意义的。容器已经自己完成了。我相信您具体要求检查代表登录用户的会话属性。为此，servlet`Filter`确实是最明智的方法。有些人可能会为此选择使用 JSF `PhaseListener`，但这与 JSF 请求紧密耦合，不会影响其他请求。

# javascript - 使用表单元素显示表单验证提示

> ID：13892474
> 
> 赞同：0
> 
> 时间：2012-12-15T13:10:22.803
> 
> 标签：javascript, jquery, html

我使用这个 java 脚本函数来显示表单验证提示。此功能与输入元素一起正常工作。我的问题是我需要使用其他表单元素修改此功能，例如文本区域、选择框、复选框...有人能告诉我该怎么做吗？

这是我一直在使用的功能..

```
function prepareInputsForHints() {
    var inputs = document.getElementsByTagName("input");
    for (var i=0; i<inputs.length; i++){
        // test to see if the hint span exists first
        if (inputs[i].parentNode.getElementsByTagName("span")[0]) {
            // the span exists!  on focus, show the hint
            inputs[i].onfocus = function () {
                this.parentNode.getElementsByTagName("span")[0].style.display = "inline";
            }
            // when the cursor moves away from the field, hide the hint
            inputs[i].onblur = function () {
                this.parentNode.getElementsByTagName("span")[0].style.display = "none";
            }
        }
    }
    // repeat the same tests as above for selects
    var selects = document.getElementsByTagName("select");
    for (var k=0; k<selects.length; k++){
        if (selects[k].parentNode.getElementsByTagName("span")[0]) {
            selects[k].onfocus = function () {
                this.parentNode.getElementsByTagName("span")[0].style.display = "inline";
            }
            selects[k].onblur = function () {
                this.parentNode.getElementsByTagName("span")[0].style.display = "none";
            }
        }
    }
} 
```

这是HTML

```
<div>
    <label for="mobile">Mobile<img alt="required" src="images/required_star.png"> :</label>
    <input id="mobile" class="text" type="text" maxlength="10" name="mobile" title="Eg: 0714556260"/>
    <span class="hint">Use a 10 digits length number<span class="hint-pointer">&nbsp;</span></span>
</div> 
```

我用 textarea 尝试过这样的事情，但它不起作用......

```
<div>
    <label for="qualification">Qualification Details<img alt="required" src="images/required_star.png">:</label>
    <textarea id="qualification" class="textarea" rows="4" cols="30" name="qualification"></textarea>
        <span class="hint">Describe about you<span class="hint-pointer">&nbsp;</span></span>

</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:25:52.523

```
$(document).ready( function() {
$(".hint").css({ "display":"none" });
$("input.hint_needed, select.hint_needed, textarea.hint_needed, radio.hint_needed").on("mouseenter", function() {
$(".hint").css({ "display":"inline" });
}).on("mouseleave", function() {
$(".hint").css({ "display":"none" });
});
});​

<textarea id="qualification" class="hint_needed" rows="4" cols="30" name="qualification"></textarea> 
```

你可以用这个！

[http://jsfiddle.net/QD3Hn/1/](http://jsfiddle.net/QD3Hn/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:29:03.000

更新：根据 OP 的要求，也允许在悬停时显示提示。

这是我基于非 jQuery 实现的代码：（JSFiddle：http: [//jsfiddle.net/E9njP/](http://jsfiddle.net/E9njP/)）

```
<div>
    <label for="mobile">Mobile* :</label>
    <input id="mobile" class="text" type="text" maxlength="10" name="mobile" />
    <span class="hint">Use a 10 digits length number</span>
</div>
<div>
    <label for="qualification">Qualification Details*:</label>
    <textarea id="qualification" class="textarea" rows="4" cols="30" name="qualification"></textarea>
    <span class="hint">Describe about you</span>
</div>
<div>
    <label for="dropdown">Dropdown*:</label>
    <select id="dropdown"><option>A</option><option>B</option></select>
    <span class="hint">Hints for Select</span>
</div>

<!-- This is just for demo purpose -->
<div>
    <label>Tricky Input:</label>
    <input/>
    <span>Don't hide me! I am not a hint!</span>
</div> 
```

...我没有在元素上使用 CSS，而是使用 CSS。这里是课程...

```
div span.hint {
    display: none;
}

div span.over,
div span.focus {
    display: inline;
} 
```

...这是javascript ...

```
(function() {
    // Since it's likely that you'll only ever run this function once 
    // (Once you attached the events, you'll probably never reuse this 
    // function again), I put it inside an IIFE to keep it "clean".

    /**
     * Toggle class on element without jQuery...
     *
     * @param {DOMElement} el Element to apply CSS to
     * @param {string} css CSS class name to be applied
     * @param {boolean} on Determine whether class name should be on the element or not
     **/
    function getHandler(el, css, on) {
        return function() {
            // If we want to add CSS to the element, and it doesn't exist on the
            // element yet, add it.
            if (on && el.className.indexOf(css) === -1) {
                el.className += ' ' + css;
            }
            // If we want to remove CSS from the element, and it exists, remove
            // it.
            else if (!on && el.className.indexOf(css) >= 0) {
                el.className = el.className.replace(css, '');
            }

            // NOTE This solution will lead to extra spacing in CSS name...
        };
    }

    function setHandler(inputEl, hintEl) {
        // the span exists!  on focus, show the hint
        inputEl.onfocus = getHandler(hintEl, "focus", true);
        inputEl.onmouseover = getHandler(hintEl, "over", true);

        // when the cursor moves away from the field, hide the hint
        inputEl.onblur = getHandler(hintEl, "focus", false);
        inputEl.onmouseout = getHandler(hintEl, "over", false);
    }

    function prepareHintsByTag(tag) {
        var inputs = document.getElementsByTagName(tag);
        for (var i=0; i<inputs.length; i++){
            // test to see if the hint span exists first
            if (inputs[i].parentNode.getElementsByTagName("span")[0]) {
                var hintEl = inputs[i].parentNode.getElementsByTagName("span")[0];

                // Show "hint" only if it has the class of "hint"
                if (hintEl.className.indexOf("hint") === 0) {
                    setHandler(inputs[i], hintEl);
                }
            }
        }
    }

    // Scan the code     
    prepareHintsByTag("input");
    prepareHintsByTag("textarea");
    prepareHintsByTag("select");
})();
    ​ 
```

在代码中添加了一些东西......

*   默认情况下，提示可能应该是隐藏的。我在 CSS 中将其设为默认值。
*   在切换 CSS 之前添加了一个检查以查看“span”类是否属于“hint”。（只是这样你就不会隐藏不打算的东西！）
*   我重构了 prepareHint 函数，以便它可重用于 SELECT、INPUT 和 TEXTAREA。
*   我将处理准备提示的函数放在 IIFE 中，因为您很可能只会做这个。您可以在此处阅读有关 IIFE 的更多信息：http: [//benalman.com/news/2010/11/immediately-invoked-function-expression/](http://benalman.com/news/2010/11/immediately-invoked-function-expression/)
*   我没有直接对元素的样式进行样式操作，而是将它们移到了 CSS 类中。希望它应该更有意义......

这又是非 jQuery 版本 - 有更多改进空间，但希望这足以完成您的任务。

# php - 如何在 php 中创建 hmac md5？

> ID：13892476
> 
> 赞同：4
> 
> 时间：2012-12-15T13:10:23.670
> 
> 标签：php

我正在使用 payU 信用卡系统。但我管不了。payU 告诉我我必须创建 hmac md5 哈希。

我的密钥是：3~9#[X4^660?ak+]h6%T 我想转换为 HMAC_MD5 哈希：8GEMISEPE6208617192012-12-15 15:58:476Deneme117Deneme202103NET112242103TRY2107Antalya7Antalya2TR8CCVISAMC2,3,7,

什么是php代码？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-12-15T13:15:46.333

[`hash_hmac()`](http://php.net/manual/en/function.hash-hmac.php)您可以使用以下功能轻松做到这一点：

```
$input = 'foo';
$output = hash_hmac('md5', $input, $secretKey); 
```

where`$secretKey`保存您的密钥的字符串表示形式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-10-21T10:32:48.747

这个 php 函数类对我有用：

```
 function hmac ($key, $data)
              {
              // RFC 2104 HMAC implementation for php.
              // Creates an md5 HMAC.
              // Eliminates the need to install mhash to compute a HMAC
              // Hacked by Lance Rushing
              $b = 64; // byte length for md5
              if (strlen($key) > $b) {
              $key = pack("H*",md5($key));
              }
              $key = str_pad($key, $b, chr(0x00));
              $ipad = str_pad('', $b, chr(0x36));
              $opad = str_pad('', $b, chr(0x5c));
              $k_ipad = $key ^ $ipad ;
              $k_opad = $key ^ $opad;
              return md5($k_opad . pack("H*",md5($k_ipad . $data)));
              }

            $x_fp_hash = hmac($string1,$string2); 
```

# mysql - Mysql数据库选择关系

> ID：13892479
> 
> 赞同：1
> 
> 时间：2012-12-15T13:10:32.563
> 
> 标签：mysql, sql, select, relation

我有这张表，我为我的 msn 应用程序保存用户列表。还有一张友谊表，它有两个来自用户列表的外键。

用户：id、姓名、在线、ip... 朋友：id1、id2

我想要具有特定 id 朋友的用户的信息。

我正在使用这个 sql 查询：

```
SELECT (latest_ip, email, online, pass, status) 
from im.user JOIN im.friend ON user.id = friend.id1 
WHERE user.id = 5 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:14:48.610

删除`parenthesis`您的 select 子句，*您不需要它们*

```
SELECT latest_ip, email, online, pass, status
from   im.user 
       INNER JOIN im.friend 
           ON user.id = friend.id1 
WHERE user.id = 5 
```

**更新 1**

您需要`user`再次与表进行额外连接，因为您想获取用户朋友的信息。

```
SELECT  c.*
from    im.user a
        INNER JOIN im.friend b
            ON a.id = b.id1 
        INNER JOIN im.user c
            ON b.id2 = c.id
WHERE   a.id = 5 
```

# c# - 使用c#错误写入excel中的单元格

> ID：13892480
> 
> 赞同：0
> 
> 时间：2012-12-15T13:10:34.997
> 
> 标签：c#, excel

在使用 c# 在 excel 中写入单元格时出现错误**“没有足够的存储空间来完成此操作” 。**

我知道 Excel 表不允许我们在每个单元格中写入超过 32,767 个字符。我每个单元格写 32,000 个字符。它允许我在第一列中写入前 3 个单元格，但在第四列中，它会引发上述错误。这是什么原因？任何想法？

**xml_txt_length 的总长度为 2,65,000。**

**我在下面出现错误的评论中用***** ** *** ***标记了代码。**** 我的代码如下：

```
 if (xml_txt_length > 32000)  // checking length of text is more than 32,000\. if yes than need to split it to write in cell
        {
            int counter = 0; // used to multiply to 32,000
            while (true)
            {
                if (counter == 0)
                {
                    cell_string = xmlText.Substring(0, 32000);
                    xml_string += cell_string;
                    // writing to cell for column1
                    oSheet3.Cells[counter + 1, 1] = cell_string;
                }

                else
                {
                    // if taken 32,000 characters exceeds the end length of string then go into this condition and take actual final position.  
                    if ((32000 * counter) + 32000 >= xml_txt_length) 
                    {
                        // below substring taking start position and up to end character of string instead of putting directly last 32,000th character position

                        cell_string = xmlText.Substring(32000 * counter, Convert.ToInt32(xml_txt_length - (32000 * counter)));

                        xml_string += cell_string;

                        //writing to cell for column 1
                        oSheet3.Cells[counter + 1, 1] = cell_string;
                        break;
                    }
                    else
                    {
                        // taking the start and upto 32,000 characters from string
                        cell_string = xmlText.Substring(32000 * counter, 32000);
                        xml_string += cell_string;

                        // writing to cell for column 1
                        // ********************************************************
                        // **** HERE I AM GETTING ERROR FOR CELL 4 IN COLUMN 1 ****

                        oSheet3.Cells[counter + 1, 1] = cell_string;
                        cell_string = string.Empty;
                    }
                }

                if (counter >= Math.Floor(xml_txt_length / 32000))
                    break;
                counter++;
            }
        }
        else
            oSheet3.Cells[1, 1] = xmlText; 
```

# ruby-on-rails - Rails - 更新模型数据成员

> ID：13892486
> 
> 赞同：0
> 
> 时间：2012-12-15T13:11:23.613
> 
> 标签：ruby-on-rails, ruby, crud

我想知道更新模型的正确方法是什么。
例如，假设我想将数据成员的名称从 更改`likes`为`numOfLikes`。

这个变量出现在模型本身，但也出现在`schema.rb`和`db\migrate\XXX.rb`

我手动更改了这些文件并收到此错误：

> #Topic:0x3442d88 的未定义方法“numOfLikes”

那么，正确的做法是什么？（我也在询问删除数据成员或添加数据成员）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:18:53.983

最好的方法是运行迁移以重命名列，这将更新 schema.rb 文件。

您不应该直接编辑 schema.rb，并且迁移文件仅在数据库上运行命令，如果运行后更改，则不会影响模型。

Schema.rb 表示数据库模式的状态，它不会通过单独更改文件的内容来控制或更改它。

包含以下内容的新迁移：

```
rename_column :table_name, :likes, :numOfLikes 
```

这将重命名数据库中的列，并将数据库模式转储到带有新属性名称的 schema.rb 中。

# git - 如何从 git 存储库中获取旧代码

> ID：13892487
> 
> 赞同：3
> 
> 时间：2012-12-15T13:11:26.827
> 
> 标签：git, repository, fetch

我认为这是最简单的问题，但我是第一个 git 。所以你能请任何人帮助我吗？这就是如何从 git 存储库中获取旧代码以及如何从本地（我的机器上的 git repo）存储库中获取旧代码

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T13:15:09.793

使用 git，您始终拥有完整存储库的副本，包括历史记录。

首先，克隆您的存储库：

```
git clone <repo_url> 
```

然后签出旧的提交

```
git checkout <commit> 
```

# php - 我应该为 rest api 包装器编写测试吗？

> ID：13892488
> 
> 赞同：4
> 
> 时间：2012-12-15T13:11:33.240
> 
> 标签：php, testing, bdd, behat

我对整个测试场景很陌生。我一直在阅读有关 BDD 测试的文章（在我的情况下，我正在编写 PHP 应用程序，因此我正在研究 Behat 作为 BDD 框架），我发现它非常有趣。我在网上搜索了一些关于 api 包装器的 bdd 测试的信息，但我发现了很多不同的结果。

我将使用 REST api 为服务编写应用程序。但我还需要编写 PHP api 包装器。所以我的问题是，我应该为包装器编写测试吗？我应该编写什么样的测试？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:52:40.007

BDD 框架可以工作，但考虑到 selenium、使用 api 的应用程序以及 api 内部发生的事情之间可能发生的事情的可能性，它可能被证明是脆弱的。

有一种很棒的 php 方法可以做到这一点 [http://docs.guzzlephp.org/en/latest/](http://docs.guzzlephp.org/en/latest/)

如果您喜欢其他语言，您可以使用 Mule ESB 对 Web 服务 api 进行测试。我发现它非常擅长针对服务或任何 http 运行自定义任何东西。如果您喜欢 groovy 或 java，那么 Mule ESB 非常适合直接到达端点以将响应分开并触发有效和无效请求。它有一个尖尖的点击界面，可提供多种可能性。如果您的 api 返回 xml，您有很多方法可以直接解析它。它也适用于 JSON。即使您为数据响应创建了自己的格式，您也可以相当轻松地深入研究它。Guzzle 为您提供了许多相同的功能，但以 php curl 友好的方式提供，但没有尖锐的点击内容。

如果您用于 REST api 的语言和框架有一个不错的单元测试包，那么也可以这样做，尤其是在有意义的地方。我知道您正在使用 php，并且我讨厌 php 中的单元测试，但有时当您想保护某些方法时，您无法以任何其他方式验证某些方法是否正确。

我也看到了使用 Jasmine 或 qUnit 等 javascript 测试框架创建的成功的 api 测试套件。

这完全取决于您对什么感到满意，以及您的 api 的性质以及您认为需要涵盖的 api 的哪些功能。

# javascript - 带参数的函数中的全局变量

> ID：13892491
> 
> 赞同：1
> 
> 时间：2012-12-15T13:12:32.630
> 
> 标签：javascript, global

我有：

HTML：

```
<a href="" class="add-to-cart-button" onClick="javascript:addToCart([@id]);">Add to cart</a> 
```

和 Javascript：

```
var pid;
function addToCart(id){
pid = id;
}
alert(pid); 
```

它返回“未识别”我如何将值从 addToCart(id) 分配给 pid？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:17:10.550

您`pid`在加载页面时未定义。要显示实际值，您必须将警报放入函数中：

```
var pid;
function addToCart(id){
    pid = id;
    alert(pid);
} 
```

[**演示**](http://jsfiddle.net/QD3Hn/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:17:52.777

您的 JavaScript 在页面加载期间执行到

1.  声明一个名为的变量`pid` *（仅声明，未定义值）*
2.  声明并定义一个名为`addToCart` *(declare and define, not execute...)的函数*
3.  警告声明的`pid`变量*（尚未定义为任何值）*

此外，在页面加载期间，您的标记被解析，并且 JavaScript 引擎定义*（但不执行）*一个单击处理函数，该函数将`addToCart()` *在元素被单击时*调用。

**当单击元素时，`addToCart`将运行，给出`pid`定义，这一切都是`alert`在页面加载期间发生的。**

`addToCart`但是，设置后在您的函数中发出警报`pid`会向您显示正确的值。

此外，请参阅有关`@id`.

作为补充说明，`javascript:`您在属性开头使用的伪协议在该`onclick`属性中不合适，并且在过去合适的地方（例如在`href`属性中）已被弃用。您应该删除它并停止使用它。

# php - PHP - Google 翻译版本 2 不适用于 PHP curl，是什么导致 403 返回错误？

> ID：13892492
> 
> 赞同：0
> 
> 时间：2012-12-15T13:13:07.950
> 
> 标签：php, zend-framework, google-translate

我之前有 ZF 的第一个旧功能，但不知何故 ZF 它失败了，然后我制作了 unittest 模块。

我正在尝试使用谷歌翻译 v2，但它不再工作了，谷歌是否停止了服务供公众使用，或者它是 PHP Bug 还是其他非常令人困惑的地方。

始终使用以下两个函数返回 403。

知道出了什么问题吗？

```
<?php
## Test: How to's
/*
$ php tst.php 
403

$ curl http://ajax.googleapis.com/ajax/services/language/translate -d "v=1.0&q=dog&langpair=en|ru" -H "Referer: http://google.com"
{"responseData": null, "responseDetails": "Please use Translate v2\.  See http://code.google.com/apis/language/translate/overview.html", "responseStatus": 403}sun@sun-M14xR2:/var/www/html/vooyz.com/unittest$ 

*/

// V1 - Old not working
function googleTranslatePostV1($text, $destLang = 'nl', $srcLang = 'en') {
  $url = 'http://ajax.googleapis.com/ajax/services/language/translate';
  $http_response = '';
  $text = urlencode($text);
  $ch = curl_init();
  curl_setopt($ch, CURLOPT_URL, $url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_REFERER, !empty($_SERVER["HTTP_REFERER"]) ? $_SERVER["HTTP_REFERER"] : "");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, "v=1.0&q=" . $text . "&langpair=$srcLang|$destLang");
  $http_response = curl_exec($ch);
  $json = json_decode($http_response, true);

  if ($json['responseStatus'] != '200') {
    return $json['responseStatus'];
  } else {
    return $json['responseData']['translatedText'];
  }
  curl_close($ch);
}

// V2 - Curl way not working
function googleTranslatePostV2($text, $destLang = 'nl', $srcLang = 'en') {
  $url = 'https://www.googleapis.com/language/translate/v2';
  $http_response = '';
  $text = urlencode($text);
  $postArr = array('key' => 'sdfdsfdsfds',
          'q' => $text,
          'source' => $srcLang,
          'target' => $destLang);

  $ch = curl_init();    
  //curl_setopt($ch, CURLOPT_POSTFIELDS,'hl=en&ie=UTF8&text=-->this+is+a+test<--&langpair=en%7Car');      
  curl_setopt($ch, CURLOPT_URL, $url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER,true);       
  curl_setopt($ch, CURLOPT_REFERER, !empty($_SERVER["HTTP_REFERER"]) ? $_SERVER["HTTP_REFERER"] : "");
  curl_setopt($ch, CURLOPT_POST,true);
  curl_setopt($ch, CURLOPT_POSTFIELDS,$postArr);        
  $http_response = curl_exec($ch);

  var_dump($http_response);

  $json = json_decode($http_response, true);

  if ($json['responseStatus'] != '200') {
    return $json['responseStatus'];
  } else {
    return $json['responseData']['translatedText'];
  }
  curl_close($ch);
}

// V2 - Google way
function googleTranslateV2Method1($text, $destLang = 'nl', $srcLang = 'en') {
  require_once 'google/src/Google_Client.php';
  require_once 'google/src/contrib/Google_TranslateService.php';
  $client = new Google_Client();
  $client->setApplicationName('Google Translate PHP Starter Application');
  $client->setDeveloperKey('dsfdsfdsf');
  $service = new Google_TranslateService($client);

  //$langs = $service->languages->listLanguages();
  //print "<h1>Languages</h1><pre>" . print_r($langs, true) . "</pre>";
  $translations = $service->translations->listTranslations($text, 'hi');

  return $translations;
}

echo googleTranslatePostV1("V1: " . "How are you?") . "\n";
echo googleTranslatePostV2("V2: " . "How are you?") . "\n";
echo googleTranslateV2Method1("V2: " . "How are you?") . "\n";

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:22:32.180

```
$ curl http://ajax.googleapis.com/ajax/services/language/translate -d "v=1.0&q=dog&langpair=en|ru" -H "Referer: http://google.com"

{"responseData": null, "responseDetails": "Please use Translate v2\.  See http://code.google.com/apis/language/translate/overview.html", "responseStatus": 403} 
```

> [http://code.google.com/apis/language/translate/overview.html](http://code.google.com/apis/language/translate/overview.html)：
> Google Translate API 作为付费服务提供。有关详细信息，请参阅定价和常见问题页面。

# java - SaveOrUpdate 跳表

> ID：13892493
> 
> 赞同：0
> 
> 时间：2012-12-15T13:13:14.827
> 
> 标签：java, spring, hibernate, hbmxml

休眠 V.4.1.8 最终版

春季：3.1.3 发布

**场景：**在客户注册过程中，用户将填写完整的来自。他可以在完成表单之前多次保存表单，然后单击提交以完成内容。只有在最终提交后，应用程序才会创建客户 ID。为了实现这个功能，我创建了 2 个基于相同 POJO 的表。参考： [将同一个 POJO 映射到多个表](http://www.coderanch.com/t/492558/ORM/databases/Mapping-POJO-table-Hibernate-XML)

**问题：** 将数据保存到客户表中时。hibernate 将记录插入地址表并直接插入家庭表，但忽略客户表。因此抛出异常：无法添加或更新子行：外键约束失败

请在 custDetail 对象进入备份表和客户表时查看 sql 序列。

插入备份表

```
Hibernate: insert into mypack.address_bk (address1, address2, city, emailAddress, faxNo, landLineNo, mobileNo, pincode, state, verified) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into mypack.address_bk (address1, address2, city, emailAddress, faxNo, landLineNo, mobileNo, pincode, state, verified) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into mypack.address_bk (address1, address2, city, emailAddress, faxNo, landLineNo, mobileNo, pincode, state, verified) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into mypack.customer_bk (version, custId, custBirthDate, custEducation, custFirstName, custGender, custLastName, custMiddleName, custTitle, exServiceManFlag, fatherFullName, handicappedFlag, motherFullName, staffFlag, status, userId, bankCode, branchCode, customerPhoto, currentAddress, permanentAddress, officeAddress) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into mypack.family_bk (custId, memberName, relation, birthDate, gender, occupation) values (?, ?, ?, ?, ?, ?) 
```

插入客户表

```
Hibernate: insert into mypack.address (address1, address2, city, emailAddress, faxNo, landLineNo, mobileNo, pincode, state, verified) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into mypack.address (address1, address2, city, emailAddress, faxNo, landLineNo, mobileNo, pincode, state, verified) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into mypack.address (address1, address2, city, emailAddress, faxNo, landLineNo, mobileNo, pincode, state, verified) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: insert into mypack.family (custId, memberName, relation, birthDate, gender, occupation) values (?, ?, ?, ?, ?, ?)
SQL Error: 1452, SQLState: 23000 Cannot add or update a child row: a foreign key constraint fails 
```

表定义：

```
<class entity-name="com.boss.mypack.model.Customer" lazy="true"
    name="com.boss.mypack.model.Customer" polymorphism="explicit"
    schema="mypack" table="customer">
    <id length="15" name="custId" type="string">
        <column length="20" name="custId" />
        <generator class="assigned" />
    </id>
    <version column="version" generated="never" name="version"
        type="integer" unsaved-value="null" />
    <property generated="never" lazy="false" name="tempId" type="java.lang.Integer"> 
        <column name="tempId" not-null="false" /> 
    </property>
    <many-to-one cascade="all" class="com.boss.mypack.model.Address"
        entity-name="com.boss.mypack.model.Address" fetch="select" lazy="false"
        name="OfficeAddress">
        <column name="officeAddress" />
    </many-to-one>
    <set cascade="all" fetch="select" inverse="true" lazy="true" name="family"
        sort="unsorted" table="family">
        <key>
            <column length="20" name="custId" />
        </key>
        <one-to-many class="com.boss.mypack.model.Family"
            entity-name="com.boss.mypack.model.Family" />
    </set>
</class> 
```

后桌：

```
<class entity-name="bkCustomer" lazy="true"
    name="com.boss.mypack.model.Customer" polymorphism="explicit"
    schema="mypack" table="customer_bk">
    <id length="4" name="tempId" type="java.lang.Integer">
        <column length="20" name="tempId" />
        <generator class="identity" />
    </id>
    <version column="version" generated="never" name="version"
        type="integer" unsaved-value="null" />
    <property generated="never" lazy="false" name="custId" type="string">
        <column length="20" name="custId" />
    </property>
    <many-to-one cascade="all" class="com.boss.mypack.model.Address"
        entity-name="bkAddress" fetch="select" lazy="false" name="OfficeAddress">
        <column name="officeAddress" />
    </many-to-one>
    <set cascade="all" fetch="select" inverse="true" lazy="true" name="family"
        sort="unsorted" table="bkfamily">
        <key>
            <column length="20" name="custId" />
        </key>
        <one-to-many class="com.boss.mypack.model.Family"
            entity-name="bkFamily" />
    </set>
</class> 
```

保存方法：

```
public void saveCustomer(Customer custDetails) {
    Session session;
    session = getSessionFactory().getCurrentSession();  
    session.beginTransaction();

    try {
        session.saveOrUpdate("bkCustomer", custDetails);
        session.getTransaction().commit();
    } catch (Exception e) {
        session.getTransaction().rollback();
        e.printStackTrace();
    }
} 
```

批准客户方法

```
@Override
public void approveCustomer(Customer custDetails) {
    Session session = null;
    // Saving Customer details to Database
    try {
        //TODO:Need to this in single session, In failure, every changes should get rolled back.
        //Removing from backup Table
        session = getSessionFactory().getCurrentSession();  
        session.beginTransaction();
        session.delete("bkCustomer", custDetails);
        session.getTransaction().commit();
        System.out.println("**** Record Deleted ****");

        session = getSessionFactory().getCurrentSession();  
        session.beginTransaction();

        // check to see whether this is new customer.
        if (custDetails.getCustId() == null) {
            // New Customer - Generate Customer ID
            custDetails.setTempId(null);
            custDetails.setCustId(getNextCustomerCode(session));

            // Clear all Auto Generated IDs
            custDetails.getCurrentAddress().setAddressId(null);
            custDetails.getOfficeAddress().setAddressId(null);
            custDetails.getPermanentAddress().setAddressId(null);
            // custDetails.getPhotoMaster().setPhotoId(0);

            Set<Family> familyMembers = custDetails.getFamily();

            for (Family member : familyMembers) {
                member.setMemberId(null);
            }
        } else {
            System.out.println("**** This customer is already present in Database");
        }

        custDetails.setStatus("A");

        session.saveOrUpdate("com.boss.mypack.model.Customer", custDetails);

        //Following works properly, updates Backup tables
        //session.saveOrUpdate("bkCustomer", custDetails);

        session.getTransaction().commit();

        // Saving Customer details to LDAP.
        // ldapDAO.saveOrUpdate(custDetails);
        // session.getTransaction().commit();
    } catch (Exception e) {
        session.getTransaction().rollback();
        e.printStackTrace();
    }
} 
```

我在客户表上没有任何异常。我尝试使用 session.clear/flash/evict/merge/replicate 等分离对象，使用 DOZER 但没有进展。即使我试图删除级联选项。

我不确定哪里出了问题。请帮忙。

问候，

希里什语

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T20:31:14.080

你的限制是即时的吗？让他们推迟。这样，hibernate 可以在事务结束之前写入所有表而不会违反约束。

如果您使用 MySQL，则不能将约束推迟到事务结束。然后，您必须确保始终将一致的状态插入到数据库中。对您来说，这意味着重写一些代码，以便您有效地发出两次保存，一次只保存客户，另一种保存具有家庭属性的客户。

无论如何，有趣的是找出为什么 Hibernate 尝试首先插入族，而在 bk 表上插入的顺序符合预期。只是一个猜测：尝试移动语句

```
 custDetails.setStatus("A"); 
```

在 if 块之上

```
// check to see whether this is new customer.
    if (custDetails.getCustId() == null) {
        // New Customer - Generate Customer ID
        custDetails.setTempId(null);
        custDetails.setCustId(getNextCustomerCode(session));

        // Clear all Auto Generated IDs
        custDetails.getCurrentAddress().setAddressId(null);
        custDetails.getOfficeAddress().setAddressId(null);
        custDetails.getPer... 
```

这样，Hibernate 可能会重新排序插入，因为 family 是最后编辑的实体，并且您的代码将起作用。无论如何，这将严重依赖于 Hibernate 内部。如前所述，我建议使用两次保存。

# gzip - 如何在不解压的情况下将 gz 文件合并为 tar.gz？

> ID：13892494
> 
> 赞同：0
> 
> 时间：2012-12-15T13:13:21.727
> 
> 标签：gzip, tar

我有一个只使用未压缩文件的程序。我有几个 .gz 文件，我的目标是将它们的串联提供给该程序。如果我有一个 tar.gz 文件，我可以使用 archivemont 命令挂载 tar.gz 存档。

我知道我可以连接 gz 文件：

```
cat a.gz b.gz > c.gz 
```

但据我所知，没有办法挂载 gz 文件。我没有足够的磁盘空间来解压缩所有文件，并且 tar 命令不接受 stdin 作为输入，所以我不能这样做：

```
zcat *.gz | tar - | gzip > file.tar.gz 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T15:36:23.103

目前尚不清楚您需要对 tar.gz 存档执行哪些操作。但据我所知，tar.gz 不是这个应用程序的格式。整个存档流由 gzip 压缩，因此您无法拉出或更改文件，而无需重新压缩之后的所有内容。可以专门准备 tar.gz 流以保持每个文件的压缩独立，但您也可以使用 .zip 格式，它更适合随机访问和操作存档中的单个文件。

为了解决您的评论之一， tar 实际上可以接受 stdin 作为输入。有关一些示例，请参见[pipe tar extract into tar create](https://stackoverflow.com/questions/11463279/pipe-tar-extract-into-tar-create/11463493#11463493)，其中 GNU tar 和 BSD tar（具有不同的语法）都可以从 stdin 获取 tar 文件，删除条目，并将新的 tar 文件写入 stdout。

# iphone - 我如何将两个 AbRecordRef 合并在一起，或者如何将 ABRecordRef 添加为另一个 ABRecordref 的链接？

> ID：13892495
> 
> 赞同：3
> 
> 时间：2012-12-15T13:13:27.807
> 
> 标签：iphone, objective-c, ios5, ios6, addressbook

我需要在同一个通讯录中合并两个人或添加 ABRecordRef 作为另一个 ABRecordref 的链接，例如添加名字

```
ABRecordSetValue(myRecord, kABPersonFirstNameProperty, @"Name", NULL); 
```

所以地址簿中的任何重复都将消失

# codemirror - 当值设置为它时，如何在代码镜像中格式化 HTML 代码？

> ID：13892500
> 
> 赞同：4
> 
> 时间：2012-12-15T13:14:02.387
> 
> 标签：codemirror

我正在使用 Code Mirror 插件来编辑页面的 HTML 源代码。HTML 代码从数据库中获取并设置为代码镜像中的值。但是，在设置值后，它会以与保存在数据库中的相同格式显示。如何以正确的格式显示它？提前致谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-15T14:02:43.330

有一个函数叫`autoFormatRange`

```
editor.autoFormatRange(range.from, range.to); 
```

[CodeMirror Group](https://groups.google.com/forum/?fromgroups=#!topic/codemirror/HZlnNr4_JHI)中的这个片段可能是您需要的：

```
function autoFormat() {
    var totalLines = editor.lineCount();
    var totalChars = editor.getTextArea().value.length;
    editor.autoFormatRange({line:0, ch:0}, {line:totalLines, ch:totalChars});
} 
```

[http://codemirror.net/2/demo/formatting.html](http://codemirror.net/2/demo/formatting.html)

# asp.net - Jqgrid编辑弹出窗口中的静态下拉菜单

> ID：13892502
> 
> 赞同：0
> 
> 时间：2012-12-15T13:14:28.063
> 
> 标签：asp.net, asp.net-mvc, jqgrid

我在 asp.net mvc 页面上使用 jqgrid 来实现基本的 CRUD 功能。我的要求是我想在编辑弹出窗口中显示一个下拉菜单，该下拉菜单仅包含静态值，例如新的和现有的。我发现的所有示例都`editoptions`与`dataurl`and`buildselect`方法一起使用。有没有一种方法可以在网格打开时使用静态值构建选择列表？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:26:16.603

这很简单。您只需要使用[editoptions](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acommon_rules#editoptions)`value`的属性。就像是

```
{ name: "myColName", width: 100, editable: true, edittype: "select",
    editoptions: { value: "New:New;Existing:Existing", defaultValue: "New" }} 
```

或者如果您另外使用工具栏搜索，那么

```
{ name: "myColName", width: 100, editable: true, edittype: "select", stype: 'select',
    editoptions: { value: "New:New;Existing:Existing", defaultValue: "New" },
    searchoptions: { sopt: ['eq', 'ne'], value: ':Any;New:New;Existing:Existing' }} 
```

# http - xbuf_frurl 超时=0

> ID：13892505
> 
> 赞同：0
> 
> 时间：2012-12-15T13:14:40.857
> 
> 标签：http, timeout, client, g-wan

我尝试用`xbuf_frurl`启动一个worker来做一些后期处理。
工人将完成工作而不返回任何东西。
因此，原始脚本可以更快地响应客户端。

所以，我尝试在xbuf_frurl中设置timeout=0ms，希望它能立即返回，做剩下的代码，返回200。

```
xbuf_frurl(&buf, "localhost", 80, HTTP_GET, "/postprocessing", 0, 0);
xbuf_ncat (reply, buf.ptr, buf.len); 
```

但是，它似乎不会立即超时，因为缓冲区不为空。

有没有更好的方法呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T15:38:21.790

超时旨在在`xbuf_frurl()`目标主机不接受 TCP 连接时更快地失败。

因此，为了回答您的问题，超时不会影响回复时间，因为服务器始终在线。

我不确定从另一个 servlet（或自我）查询 servlet 是做你想做的事情的最佳方式，但如果我不知道你的目标是什么（神秘'posprocessing' 肯定可以比使用 HTTP 连接更有效地触发）。

如果您想使用 HTTP 连接，您可以让 servlet 通过使用 1-99 范围内的不正确 HTTP 状态代码来发送最小响应：这用于防止 G-WAN 添加丢失的 HTTP 标头，例如发送裸 JSON 有效负载。

# php - Simplexml 元素仅提取第一个元素，但我需要所有元素

> ID：13892508
> 
> 赞同：1
> 
> 时间：2012-12-15T13:15:12.190
> 
> 标签：php, xml, xml-parsing

我有这个 XML 结构：

```
<response status="success">
<campaign>
 <id>1</id>
 <nameCampaign>Raccolta Punti CCN</nameCampaign>
 <type>points</type>
 <balances>
     <balance>10.00 </balance>
  </balances>
 </campaign>
 <campaign>
 <id>6</id>
 <nameCampaign>Abbonamenti</nameCampaign>
 <type>subscription</type>
  <balances>
    <balance>6.00 Lampada solare</balance>
  </balances>
  <balances>
   <balance>4.00 doccia solare</balance>
  </balances>
  <balances>
     <balance>3.00 trifacciale</balance>
  </balances>
 </campaign>
</response> 
```

我需要在数组中转换。

如果我使用

```
 foreach($result->campaign as $bilancio) {
    $balance[] = array  (   'nameCampaign'  =>  (string)$bilancio->nameCampaign,
                            'balances'      =>  (string)$bilancio->balances->balance    );      
} // foreach 
```

我得到这个数组

```
 Array
  (
[0] => Array
    (
        [nameCampaign] => Raccolta Punti CCN
        [balances] => 10.00 
    )

[1] => Array
    (
        [nameCampaign] => Abbonamenti
        [balances] => 6.00 Lampada solare
    )
  ) 
```

你怎么会注意到，id 6 有三个子节点（余额->余额），而不仅仅是一个。我怎样才能获得一个完整的数组？

谢谢大家，周末愉快！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:12:37.120

而不是阅读（它总是只用 simeplxml 给你第一个元素），你用 . 遍历所有元素[`foreach`](http://php.net/foreach)。

这里有一个方法：

```
$balance = array();
foreach ($result->campaign as $campaign)
{
    $arr = array();
    foreach ($campaign->balances as $campaignBalance)
    {
        $arr[] = (string) $campaignBalance->balance;
    }

    $balance[] = array(
        'nameCampaign' => (string) $campaign->nameCampaign,
        'balances'     => $arr
    );
}

print_r($balance); 
```

这会给你这个结果：

```
Array
(
    [0] => Array
        (
            [nameCampaign] => Raccolta Punti CCN
            [balances] => Array
                (
                    [0] => 10.00
                )
        )
    [1] => Array
        (
            [nameCampaign] => Abbonamenti
            [balances] => Array
                (
                    [0] => 6.00 Lampada solare
                    [1] => 4.00 doccia solare
                    [2] => 3.00 trifacciale
                )
        )
) 
```

# windows - windows xp 命令行脚本 (cmd.exe)：set /p 在 if 之间使用时无法正常工作。为什么？

> ID：13892510
> 
> 赞同：1
> 
> 时间：2012-12-15T13:15:22.290
> 
> 标签：windows, command-line, scripting, cmd

我最近发现了一种使用 set 命令提供的 /p 选项在 windows cmd.exe 批处理文件中获取用户输入的简单方法。但是出于一个奇怪的原因，我不明白 set /p 在 if 语句之间使用时表现得很棘手。

首先，创建一个名为“ScriptRunsOK.bat”的批处理文件，代码如下：

```
@echo off
rem Gets a User Yes-No Choice 
set /p UserInput=Your Choice [Y/N]:
set UserChoice=%UserInput:~0,1%
if "%UserChoice%"=="y" set UserChoice=Y
if "%UserChoice%"=="Y" (
    echo You Accepted[%UserChoice%] typing %UserChoice%
) else (
    echo You Rejected[%UserChoice%] typing %UserChoice%
)
pause 
```

其次，在 if 语句之间创建一个批处理文件“ScriptRunsBAD.bat”，其中包含“用户输入和评估”代码（仅用于示例目的）。代码如下：

```
@echo off
rem Gets a User Yes-No Choice. Choice Nested in a IF Statement 
set DummyVar=OK
if "%DummyVar%"=="OK" (
    set /p UserInput=Your Chiuce [Y/N]:
    set UserChoice=%UserInput:~0,1%
    if "%UserChoice%"=="y" set UserChoice=Y
    if "%UserChoice%"=="Y" (
        echo You Accepted[%UserChoice%] typing %UserChoice%
    ) else (
        echo You Rejected[%UserChoice%] typing %UserChoice%
    )
)

pause 
```

第三，双击运行“ScriptRunsOK.bat”，或者直接从de命令行反复运行。每次运行它都可以正常工作。但是，如果您尝试使用“ScriptRunsBAD.bat”进行相同操作，它不会像我预期的那样工作，而且，当您从命令行运行它时，奇怪的是，它会保留在先前执行中键入的用户输入。

导致该行为的“ScriptRunsBAD.bat”的代码是什么？在 if 或多行语句中使用 set /p 命令时，我是否必须考虑其他事项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-29T13:34:30.200

出色地。最后，在阅读了@melpomene 和@Wimmel（谢谢）发布的链接内容后，我可以解决这个问题。简而言之（更多详细信息请参见发布的链接） cmd 脚本评估（默认情况下）在解析每一行时进行变量评估（不是您作为程序员时所期望的习惯行为）。解决的脚本`SETLOCAL ENABLEDELAYEDEXPANSION`用于启用“延迟扩展”，当使用感叹号引用时，允许在执行时而不是在解析时扩展变量（请参阅 `!UserInput:~0,1!`和`!UserChoice!`）。

脚本解决了：

```
@echo off
rem Gets a User Yes-No Choice. Choice Nested in a IF Statement 
set DummyVar=OK
SETLOCAL ENABLEDELAYEDEXPANSION
if "%DummyVar%"=="OK" (
    set /p UserInput=Your Choice [Y/N]:
    set UserChoice=!UserInput:~0,1!
    if "!UserChoice!"=="y" set UserChoice=Y
    if "!UserChoice!"=="Y" (
        echo You Accepted[!UserChoice!] typing !UserInput!
    ) else (
        echo You Rejected[!UserChoice!] typing !UserInput!
    )
)
ENDLOCAL 
```

# scheduling - 如何在 SuperCollider Patterns 中为音符的时序添加一些随机抖动？

> ID：13892512
> 
> 赞同：2
> 
> 时间：2012-12-15T13:15:29.367
> 
> 标签：scheduling, design-patterns, timing, supercollider

我想通过随机抖动音符播放的时间来为一些音符模式添加一个非常简单的“人性化”。这段代码反复播放一个和弦：

```
p = Pbind(\legato, 0.1, \dur, 0.2, \midinote, [66, 69, 74]).play 
```

但我希望和弦中的三个音符中的每一个在确切的时间上随机有一些独立的“错误”。我**不**希望节奏变化。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:15:29.367

您可以使用一个名为 \timingOffset 的键 - 在[模式指南的第 8 节中进行了](http://doc.sccode.org/Tutorials/A-Practical-Guide/PG_08_Event_Types_and_Parameters.html)描述。

简单的例子是：

```
p = Pbind(\legato, 0.1, \dur, 0.4, \midinote, [66, 69, 74], 
       \timingOffset, Pwhite(-0.1, 0.1)
    ).play; 
```

所以这是 +-0.1 节拍的随机偏移。不幸的是，它将一个偏差应用于整个和弦，这不是您想要的。所以你需要将一个数组输入到 Pwhite 中：

```
p = Pbind(\legato, 0.1, \dur, 0.4, \midinote, [66, 69, 74], 
       \timingOffset, Pwhite([-0.1, -0.1, -0.1], [0.1, 0.1, 0.1])
    ).play; 
```

当然，您可以从某个值派生这些数组：

```
~jitter = 0.1;
p = Pbind(\legato, 0.1, \dur, 0.4, \midinote, [66, 69, 74], 
       \timingOffset, Pwhite({0-~jitter}.dup(3), {~jitter}.dup(3))
    ).play; 
```

这是一种稍微不同的方法，可以生成正确数量的值，以防“midinote”的数组大小是可变的：

```
~jitter = 0.1;
p = Pbind(\legato, 0.1, \dur, 0.4, \midinote, [66, 69, 74], 
\timingOffset, Pcollect({|val| {~jitter.bilinrand}.dup(val.size)}, Pkey(\midinote))
    ).play; 
```

# assembly - 将 32 位 Fibonacci nasm 代码转换为 64 位

> ID：13892518
> 
> 赞同：1
> 
> 时间：2012-12-15T13:15:49.100
> 
> 标签：assembly, segmentation-fault, x86-64, nasm, fibonacci

我是编写汇编代码的新手，我需要一些帮助。

我的任务是在 NASM（在 Linux 上）中编写一个程序，它计算第 n 个斐波那契数，其中 n 是使用 read syscall 从 STDIN 读取的，并使用 C atoi/atol 转换为 int/long。计算出的数字将被写入 STDOUT（我可以使用 C printf）。

我设法编写了工作的 32 位代码，但我坚持将其转换为 64 位（使用 64 位寄存器，64 位长整数）。我试着天真地去做（改变 eax -> rax，esp -> rsp 等等），但我唯一得到的是段错误。

编辑：错字是固定的

EDIT2：有什么想法，如何使用 64 位整数来显示高于 46 位的斐波那契数？

这是代码：

```
section .data
        format: db      '%d', 0xA

section .bss
        buffer resb 8 
        bufferLength equ $-buffer; 

section .text

extern printf
extern atoi

global main

main:
        call fib 

fib:
        mov rax, 3 
        mov rbx, 0 
        mov rcx, buffer
        mov rdx, bufferLength 
        int 0x80 

        push 0
        push buffer 
        call atoi
        add rsp, 8

        push rbx
        mov rcx, rax
        xor rax, rax
        xor rbx, rbx
        inc rbx

        call print

exitProg:
        mov rbx, 0 
        mov rax, 1 
        int 0x80 

print:
        push rax
        push rcx

        push rax
        push format
        cmp rcx, 1
        je lastPrint
        add rsp, 8

        pop     rcx
        pop     rax

        mov     rdx, rax   
        mov     rax, rbx    
        add     rbx, rdx        
        dec     ecx           
        jnz     print    

        pop     rbx       

lastPrint:
        call printf
        add rsp, 8
        call exitProg 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T14:26:07.127

您的函数不是真正的函数，因为它们不会返回。你应该考虑重写它们。如果您使用的是 C 库，最好从而`main`不是使用`exit`系统调用返回。此外，如果允许，建议使用 C 库 I/O 函数。

在 64 位模式下，您通常使用指令访问系统调用`syscall`，尽管该`int 0x80`接口也可用于兼容性。请注意，[系统调用号](http://www.acsu.buffalo.edu/~charngda/linux_syscalls_64bit.html)不同于 32 位。

此外，即使调用约定不同（用户调用和系统调用），一些参数在寄存器中传递，堆栈也需要保持对齐。有关详细信息，请参阅 ABI 文档。

我很难理解`print`代码的逻辑，尤其是疯狂的堆栈操作。另请注意，该`pop rbx`行将永远不会到达，因为`rcx`检查是否`1`更早，因此在递减后它永远不会为零。

你也有错别字，`bufor`。最后，您的格式字符串位于文本部分。虽然这可行，但我猜你想要它`.data`，你只是放错了指令（它位于文件的第一行）。

我希望以上大部分内容也适用于原始 32 位代码。

**此处更新**是一个可能的实现，现在使用 64 位结果（最多 n=93）并使用`XADD`（感谢 Frank Kotler）：

```
section .data
format:
        db      "%lu", 10, 0

section .bss
        buffer resb 8
        bufferLength equ $-buffer

section .text

default rel ; use rip relative addressing (optional)
extern printf
extern atoi

global main

main:
        sub rsp, 8              ; stack alignment

        ; note: this should be a call to libc read function
        ; but apparently assignment forces us to use syscall
        xor eax, eax            ; syscall number for "read" is 0
        xor edi, edi            ; fd 0, stdin
        lea rsi, [buffer]       ; buf
        mov edx, bufferLength   ; length
        syscall

        lea rdi, [buffer]
        call atoi

        mov edi, eax            ; pass returned value from atoi
        call fib

        lea rdi, [format]
        mov rsi, rax            ; the returned value from fib
        xor eax, eax            ; no xmm registers used
        call printf

        xor eax, eax            ; return zero
        add rsp, 8
        ret

fib:
        mov eax, edi
        sub edi, 1
        jle fib_done            ; f(0)=0, f(1)=1
        xor ecx, ecx            ; f(n-1)
        mov eax, 1              ; f(n)
fib_loop:
        xadd rax, rcx
        sub edi, 1
        jnz fib_loop

fib_done:
        ret 
```

# asp.net-mvc - ApiController GET 动作命名

> ID：13892519
> 
> 赞同：1
> 
> 时间：2012-12-15T13:16:13.510
> 
> 标签：asp.net-mvc, api, asp.net-web-api, asp.net-routing

我有一个带有多个 GET 操作的 ApiController。问题是我不想在名称开头没有“Get”的情况下命名我的动作。

例如，我可以有一个名为“GetImage”的操作，它可以正常工作。如果我将它命名为“UpdateImage”，它不会调用动作，因为它可能需要在动作名称的开头有一个明确的“Get”。

我可以通过为我想要使用的每个操作定义不同的路线来解决它，但我确信必须有一种更简单的方法来实现它。

我也尝试了 [HttpGet] 属性，不幸的是它没有成功。

**我的路线配置：**

```
 routes.MapHttpRoute(
        name: "ImagesApi",
        routeTemplate: "api/images/{action}/{id}",
        defaults: new { controller = "ImageStorageManager",id = RouteParameter.Optional }
    ); 
```

我通过`api/images/GetImage`或访问它`api/images/UpdateImage`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-15T14:01:44.840

我一直在创建不仅仅针对单个对象的 api 控制器的方式可能会对您有所帮助。我从 John Papa 关于 PluralSight 的 SPA 演讲中获得了这种方法（我强烈建议将其用于学习单页应用程序）。他还在其中一个模块中介绍了这一点。

它有 2 个部分。

第 1 部分，设置路线以执行 2 个正常场景，然后为我想要的添加第 3 个：

```
// ex: api/persons
routes.MapHttpRoute(
            name: ControllerOnly,
            routeTemplate: "api/{controller}"
        );// ex: api/sessionbriefs

//  ex: api/persons/1
routes.MapHttpRoute(
            name: ControllerAndId,
            routeTemplate: "api/{controller}/{id}",
            defaults: null, //defaults: new { id = RouteParameter.Optional } //,
            constraints: new { id = @"^\d+$" } // id must be all digits
        );

// ex: api/lookups/all
// ex: api/lookups/rooms
routes.MapHttpRoute(
            name: ControllerAction,
            routeTemplate: "api/{controller}/{action}"
        ); 
```

第 2 部分，在查找控制器中（以 John Papa 为例），将 ActionName 属性添加到方法中：

```
 // GET: api/lookups/rooms
    [ActionName("rooms")]
    public IEnumerable<Room> GetRooms()
    {
        return Uow.Rooms.GetAll().OrderBy(r => r.Name);
    }

    // GET: api/lookups/timeslots
    [ActionName("timeslots")]
    public IEnumerable<TimeSlot> GetTimeSlots()
    {
        return Uow.TimeSlots.GetAll().OrderBy(ts => ts.Start);
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-28T02:27:48.980

用 [HttpGet] 装饰你的动作。有关 ApiController 路由工作的原因和方式的详细信息，请参阅[http://www.asp.net/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api](http://www.asp.net/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api)。

# jquery - 在 jquery 中使用 $.get 时 .submit 和 .click 有区别吗？

> ID：13892521
> 
> 赞同：0
> 
> 时间：2012-12-15T13:16:38.520
> 
> 标签：jquery, codeigniter

我有一个非常奇怪的问题：第**一个功能可以正常工作**并按应有的方式获取信息，**第二个可以正常工作**，**第三个功能不能正常工作**。（我在测试时对它们进行了评论）我尝试了一点，`$.post`但是作为 jquery 的新手，试图让它更简单，更简单地获取一些信息。`.click(function()`工作方式不同 吗 `.submit(function()`？

```
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">

 $(document).ready(function(){

    $('#mybutton').click(function(){
    $.get("<?echo base_url();?>index.php/example",function(data,status){
    alert("Data: " + data + "\nStatus: " + status);
    });
    });

    $('#emailform').submit(function(){
    alert("UNDERSTOOD");
    });

    //This does not work when at all, including when commenting the above function above out.   
    $('#emailform').submit(function(){
    $.get("<?echo base_url();?>index.php/example",function(data,status){
    alert("Data: " + data + "\nStatus: " + status);
    });
    });
});

</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:21:33.390

如果要在提交事件上发送 ajax 请求，则应阻止事件的默认操作：

```
$('#emailform').submit(function(event){
   event.preventDefault()
   $.get("<?echo base_url();?>index.php/example",function(data,status){
      alert("Data: " + data + "\nStatus: " + status);
   });
}); 
```

# php - Slim 在本地工作但不生活；命名空间相关？

> ID：13892527
> 
> 赞同：0
> 
> 时间：2012-12-15T13:17:10.510
> 
> 标签：php, namespaces, slim

我正在使用在[Slim上运行的](http://www.slimframework.com/)[TextPress](https://github.com/shameerc/TextPress)（平面文件博客系统）。

它可以在我运行 php 5.4.4 的本地服务器上顺利运行，但是当我部署到运行 php 5.3.10 的实时服务器时，我收到以下错误：

```
Fatal error: Class 'Slim\Environment' 
    not found in /home/webstart/public_html/codagogy.com/blog/Slim/Slim.php 
    on line 180 
```

（[Slim.php 的来源](https://github.com/shameerc/TextPress/blob/master/Slim/Slim.php)）

Slim 类中失败的地方是它第一次尝试使用“Slim”命名空间，所以它让我相信实时服务器和命名空间存在问题。

根据文档，从 php 5.3 起应支持命名空间。

是否有其他一些与服务器相关的配置可能导致命名空间使用失败？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-08T10:09:04.173

我知道 Susan 解释说在这种特殊情况下这是一个 .gitignore 的事情（见问题评论）。 **但**我想从@Brenton Alker 复制/粘贴与本地 OS X (MAMP) 和实时 Linux 设置超级相关的答案：

> OSX 文件系统不区分大小写，但 CentOS 文件系统（很可能）不区分大小写。因此，您的目录可能有错误的大小写，并且自动加载器无法找到正确的文件。

仅在这个冲刺中就发生在我身上两次。我认为这可能会帮助像我一样在谷歌上搜索“在本地主机上工作的命名空间，而不是现场”的其他人。

# jquery - Ajax 请求失败，不知道为什么

> ID：13892529
> 
> 赞同：2
> 
> 时间：2012-12-15T13:17:23.190
> 
> 标签：jquery, ajax, api, get, request

我创建了一个以 json 格式返回数据的 API，现在我正在创建一个应用程序来通过接收数据并在页面上使用它来测试 API。但是，我的 ajax 代码（见下文）由于某种原因失败，并且错误只是“错误”（错误：错误）。

代码有什么问题？

**编码：**

```
 $.ajaxSetup ({
      url: "http://localhost:8000/products", // <--- returns json
      type: "GET",
      headers:{
        "Accept":"application/json",
        "Content-type":"application/x-www-form-urlencoded"
      }
    })
    $.ajax({
        success: function(data){
            console.log("You made it!");
        },
        error: function(xhr) {
           console.log("Error: " + xhr.statusText);
       }
    }).done(function(data){
        console.log(data);
    }) 
```

这是我在 Chrome (Inspector -> Network) 中获得的信息：

**名称：** products localhost/，**方法：** GET，**状态：（**已取消），**类型：** Pending，**发起者：** jquery-latest.js:8434 脚本，**大小：** 13B 0B，**时间：** 95ms 0.0天

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-15T17:51:27.867

## 可能是什么问题

我想我知道你的问题在这里。看起来你正在加载一个页面，某个协议+域+端口（例如“ `http://localhost/`”），但随后调用 AJAX 请求到不同的协议、域或端口（在这种情况下可能只有端口不同：“ `http://localhost:8000/products"`）。

这样您可能会遇到[同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)限制，这是您浏览器的安全功能。在这种情况下，浏览器可能会指示特定请求已被“取消”（因为浏览器阻止了它）。

## 解决方案

您的问题有多种解决方案：

*   （最简单）为原始站点和 AJAX 请求的端点坚持相同的协议+域+端口，
*   （第二个最简单的）在服务器上建立一个端点，例如。" `http://localhost/products`" 将在后台调用 " `http://localhost:8000/products`" 并返回其响应（作为 SOP 的预演），
*   一些更复杂的解决方案，如 JSONP、CORS 等（更多信息：[https](https://stackoverflow.com/a/8467697/548696) ://stackoverflow.com/a/8467697/548696 ），

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-15T13:23:44.793

```
$.ajax({
    /* ajax options omitted */
    error: function (xmlHttpRequest, textStatus, errorThrown) {
         if(xmlHttpRequest.readyState == 0 || xmlHttpRequest.status == 0) 
              return;  // it's not really an error
         else
              // Do normal error handling
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-15T13:32:55.223

尝试使用

```
$.ajax({
  url: "http://localhost:8000/products", 
  dataType: 'json',
  success: function(data){
            console.log("You made it!");
        },
        error: function(xhr) {
           console.log("Error: " + xhr.statusText);
       }
}); 
```

您可以在成功或完成回调中使用代码行，而不是使用完成回调。它非常简单和清洁。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T13:23:04.073

为什么不尝试将两个 ajax 调用合并为一个。也尝试改变`type = "POST"`

```
$.ajax({
    type: "POST",
    url: "http://localhost:8000/products",
    contentType: "application/json; charset=utf-8",
    dataType: "json",
    success: function(data){alert(data);},
    error: function(errMsg) {
        alert(errMsg);
    }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-15T13:55:48.923

我认为您的浏览器缓存了错误，或者在正确设置标头时可能存在问题，因此请尝试在以下位置添加这种方式`$.ajaxsetup()`：

```
 $.ajaxSetup ({
      url: "http://localhost:8000/products", // <--- returns json
      type: "GET",
      dataType: 'json',
      cache: false,
      contentType: "application/json"
    }); 
```

尝试这种方式一次，看看是否有效。

# php - 连接 mt_rand 或大 mt_rand

> ID：13892534
> 
> 赞同：0
> 
> 时间：2012-12-15T13:18:05.657
> 
> 标签：php, random

我有这样的代码

```
var_dump(randomDigits(20));
function randomDigits($numDigits) {
    if ($numDigits <= 0) {
        return '';
    }

    return mt_rand(0, 9) . randomDigits($numDigits - 1);
}

echo "<br />";

var_dump(randomDigits2(20));
function randomDigits2($numDigits) {
    if ($numDigits <= 0) {
        return '';
    }

    return mt_rand(1000, 9999) . randomDigits($numDigits - 4);
}

var_dump(randomDigits3(20));
function randomDigits3($numDigits) {
    $digits = '';

    for ($i = 0; $i < $numDigits; ++$i) {
        $digits .= mt_rand(0, 9);
    }

    return $digits;
} 
```

所有 3 个函数都生成 20 位数字。但你会选择哪一个，为什么？如果这两个都不好，请举个例子？提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:42:47.247

我会去循环，保持简单

```
<?php

function random_number($length = 20)
{
    $number = '';
    for ($i = 0; $i < $length; $i++) $number .= mt_rand(0,9);
    return $number;
}

echo random_number(); 
```

# android - Android：OnTouch 不工作

> ID：13892536
> 
> 赞同：0
> 
> 时间：2012-12-15T13:18:25.467
> 
> 标签：android, touch-event, ontouchlistener

我正在 Eclispe 中开发多屏幕应用程序

我正在尝试使 onTouch 方法起作用。

```
package com.example.connectfour;

import android.util.Log;
import android.view.MotionEvent;
import android.view.View;

final class TrackingTouchListener
implements View.OnTouchListener {

     public boolean onTouch(View v, MotionEvent evt) {
         Log.d("Testing","Testing");
         switch (evt.getAction()){
        case MotionEvent.ACTION_DOWN:
            Log.d("Motion Event", "ACTION DOWN");
         if (evt.getX() <= 150)
         {
             Log.d("In the IF", "true");
             return true;
         }
         return false;

}
         Log.d("Not in the IF", "false");
         return false;
}
} 
```

这是我目前拥有的代码。它包含在它自己的java文件中。

目前 logcat 中没有任何 log.d 消息出现。我假设这是由于 onTouch 事件没有被执行，所以他们的听众有问题。onTouch 中的代码并不重要，我只是想让 OnTouch() 在这一刻及时工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:32:54.803

也许您应该改用 onClickListener 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:29:04.947

事情是你返回 a `false`，`true`返回 false 意味着你对系统说“触摸没有发生”

[类似的问题](https://stackoverflow.com/questions/3756383/what-is-meaning-of-boolean-value-returned-from-an-event-handling-method-in-andro)

# php - 使用 strip_tags() 仅显示一些内联样式

> ID：13892548
> 
> 赞同：0
> 
> 时间：2012-12-15T13:20:04.843
> 
> 标签：php, html-parsing, strip-tags

我有一些非常混乱的 HTML，带有很多`span`s 和其他标签。

我试图只保留`<span style="font-weight: bold">`同时删除其他此类跨度标签。

到目前为止我有这个：

```
$content = strip_tags($content, '<br>,<quote>,<code>,<pre>,<ul>,<li>,<ol>,<span>'); 
```

我想删除`<span>`，因为它`span`全局添加了所有其他 s，我只想要其中的`span`s `font-style`。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T19:18:36.963

`strip_tags`不能这样做。

看看[HTML Purifier](http://htmlpurifier.org)。它专为这个用例而设计。你可以给它一个允许的标签和属性的白名单。它还具有基本的 CSS 解析，允许您将[CSS 属性列入白名单和黑名单](http://htmlpurifier.org/live/configdoc/plain.html#CSS)。

在这种情况下，您可能会执行以下操作：

```
// This has not been tested, but should work
$configuration->set('HTML.Allowed', 'br,quote,code,pre,ul,li,ol,span[style]');
$configuration->set('CSS.AllowedProperties', 'font-weight'); 
```

现在，您仍然会留下一些额外的跨度标签。你建议你只是想让它们消失。这会有点粘。您想使用 DOM 操作工具来查找每个无用的跨度，捕获内容，删除跨度，然后将内容插入跨度所在的位置。 [phpQuery](http://code.google.com/p/phpquery/)已经被指出，[Simple HTML DOM](http://simplehtmldom.sourceforge.net/)也应该可以解决问题。PHP 自己的[DOM 扩展](http://php.net/book.dom)也可以做到这一点，但它会*更麻烦*。

# c# - text1.Text 作为 inputfield 视觉基本

> ID：13892551
> 
> 赞同：0
> 
> 时间：2012-12-15T13:20:09.270
> 
> 标签：c#, vb.net, loops

您好，我有一个 inputtextfield，如果我想输入例如 100 的数字以使脚本循环 100 次，但我总是遇到错误。当把一个数字放在它运行正常的地方时，我试图用文本框中的一个数字来输入它。

```
for (var i = 0; i < (textBox2.Text); i++)
            {
code in here
} 
```

这是错误：错误 1 ​​运算符“<”不能应用于“int”和“字符串”类型的操作数

我究竟做错了什么？有人能帮我吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:21:57.390

你给`textBox2.Text`虽然它会有数字，但它有类型`string`，你需要`integer`。

```
int result = int.Parse(textBox2.Text);      

for (var i = 0; i <result  ; i++)
{
    //Your code
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:26:13.930

`Check`如果文本可以解析为 int `first and then proceed`。如果是，以下`int.TryParse()`方法将返回`true``textBox2.Text.Trim()``int`

```
int limit;

if( int.TryParse(textBox2.Text.Trim(), out limit))
{
    for (var i = 0; i < limit ; i++)
    {
      //code in here
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:21:45.730

您需要使用该`Int32.Parse()`方法将文本框中的文本转换为整数。Text 字段只是一个字符串，编译器无法弄清楚您要做什么。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T13:22:10.830

in 的值`textBox2.Text`是 string 类型，您需要将其转换为 int。

这是由 cint() 函数完成的

```
cint(textBox2.Text) 
```

或 Parse() 方法

```
Int32.Parse(textBox2.Text); 
```

如果您确定包含“123”而不是“absjsdfd”之类的输入字符串有效，则上述两种方法将起作用。

```
for (var i = 0; i < Int32.Parse(textBox2.Text); i++)
{
//your code in here
} 
```

为了避免在文本框中输入无效输入时引发异常，请使用更强大的函数`Integer.TryParse()`

```
 int limit;
   bool valid = int.TryParse(textbox2.Text, out limit);
   if(valid)
     for (var i = 0; i < limit; i++)
     {
       //your code in here
     } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-15T13:23:19.590

错误消息很清楚，您正在尝试将整数与字符串值进行比较。那显然行不通。您首先需要将文本框中的值转换为整数类型，然后才能将条件应用于 for 循环。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-15T13:23:55.880

采用`Int.Parse(txtFirst.Text);`

有一件事，您似乎是初学者，我希望您在编码中遵循命名约定，例如`txt`添加到文本框名称之前，`lbl`用于标签，您可以在学习材料中找到更多信息......

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-15T13:24:18.363

您需要解析`textBox2.Text` `String`以获得`int`. 例如：

```
int x = int.Parse(textBox2.Text);
for (var i = 0; i < x; i++) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-12-15T13:29:12.417

正如其他人所提到的， textbox2.text 是一个字符串，必须转换为 #n 整数

```
for (var i = 0; i < int.Parse(textBox2.Text); i++)
        {
//code in here
} 
```

但是，我建议您使用更合适的控件，例如数字 Up Down：

```
for (var i = 0; i < Convert.ToInt32(numericUpDown1.Value); i++)
        {
code in here
} 
```

# boost - dyld：库未加载：libboost_system.dylib

> ID：13892554
> 
> 赞同：4
> 
> 时间：2012-12-15T13:20:18.317
> 
> 标签：boost, xcode4, shared-libraries, dylib, install-name-tool

另一个`dyld: Library not loaded`dylib问题..

我有一个从 Boost 源编译的 dylib ( **libboost_system.dylib**
)， 然后用于`install-name-tool`准备将其包含在我的应用程序包的 Frameworks 文件夹中，如下所示：

```
install_name_tool -id @executable_path
    /../Frameworks/
    libboost_system.dylib libboost_system.dylib 
```

验证`otool`：

```
$> otool -L libboost_system.dylib

/Users/TesterCodeSandbox/OgreSDK
    /BOOST_DYLIBS/libboost_system.dylib:
@executable_path/../Frameworks
    /libboost_system.dylib (compatibility version 0.0.0, current version 0.0.0)
/usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.9.0)
/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11) 
```

现在添加到 Xcode 项目，链接到应用程序并复制到 Frameworks 文件夹。
但是在检查构建的应用程序时，`otool -L`它仍然指的是原始（即“非重定位”）dylib：

```
OgreTest-ekeeqmnyciddaxbzyrehtcoijcki/Build
        /Products/Debug/OgreTest.app/Contents/MacOS/OgreTest:
    @executable_path/../Plugins
            /RenderSystem_GL.dylib (compatibility version 0.0.0, current version 1.8.0)
    /System/Library/Frameworks/Cocoa.framework/
            Versions/A/Cocoa (compatibility version 1.0.0, current version 15.0.0)
    @executable_path/../Frameworks/Ogre.framework/
            Versions/1.8.0/Ogre (compatibility version 0.0.0, current version 1.8.0)
    @executable_path/../Frameworks/Cg.framework
            /Cg (compatibility version 0.0.0, current version 0.0.0)
    /System/Library/Frameworks/IOKit.framework/Versions/A
            /IOKit (compatibility version 1.0.0, current version 275.0.0)
    /System/Library/Frameworks/Carbon.framework/Versions/A
            /Carbon (compatibility version 2.0.0, current version 152.0.0)
    libboost_system.dylib (compatibility version 0.0.0, current version 0.0.0)
    /usr/lib/libstdc++.6.dylib 
            (compatibility version 7.0.0, current version 7.9.0)
    /usr/lib/libSystem.B.dylib 
            (compatibility version 1.0.0, current version 125.2.11)
    /usr/lib/libobjc.A.dylib 
            (compatibility version 1.0.0, current version 227.0.0)
    /System/Library/Frameworks/CoreFoundation.framework
            /Versions/A/CoreFoundation 
            (compatibility version 150.0.0, current version 550.43.0)
    /System/Library/Frameworks/AppKit.framework
            /Versions/C/AppKit 
            (compatibility version 45.0.0, current version 1038.36.0) 
```

并且应用程序无法以“ **dyld: Library not loaded: libboost_system.dylib** ”错误启动。有任何想法吗？

* * *

**注1**

现在，如果我还使用 对我**的应用程序的**二进制文件进行后处理，它**确实可以**工作，即：**`install_name_tool`**

 **`install_name_tool -change libboost_system.dylib @executable_path/../Frameworks/libboost_system.dylib TestApp`

我是否缺少一些 Xcode 选项来强制编译器在构建过程中自动更改我的应用程序中的 dylib 位置？

`install_name_tool`当然，手动调用**使用**dylib 的应用程序（即可能的许多应用程序之一）可能只是我在配置（应用程序）项目时搞砸的事情的一种解决方法......**

# c# - C# - 如何在 SortedDictionary 中找到所有具有相似键的项目？

> ID：13892555
> 
> 赞同：0
> 
> 时间：2012-12-15T13:20:19.380
> 
> 标签：c#, key, sorteddictionary

我有一个排序字典：

```
static SortedDictionary<string, int> myDictionary = new SortedDictionary<string, int>(); 
```

其中键代表类似这样的字符串：

```
string key = someNumber + " " + row + " " + col + " " + someString; 
```

我想要的是找到排序字典中具有特定行和列的所有项目。例如，如果我有以下键：

```
1 2 3 p 
3 2 3 p 
2 2 3 t 
5 1 6 p 
8 2 1 p 
7 2 3 t 
```

我只想获取这些具有 row=2 和 col=3 的键：

```
1 2 3 p 
3 2 3 p 
2 2 3 t 
7 2 3 t 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:31:41.343

不幸的是，在这种情况下，您需要遍历整个集合并选择符合您的条件的项目（因此没有太多使用字典本身）：

```
public IList<int> FindValues(int row, int col)
{
    myDictionary
        .Where(item => MatchKey(item.Key, row, col))
        .Select(item => item.Value)
        .ToList();
}

public bool MatchKey(string key, int row, int col)
{
    var splitKey = key.Split();
    return splitKey[1] == row.ToString() && splitKey[2] == col.ToString();
    // or match the key according to your logic
} 
```

虽然如果您需要经常按行和列查询，那么最好先构建不同的数据结构。也许

```
Dictionary<Coord, IList<int>> myDict; 
```

其中 Coord 是一个类/结构（并覆盖 Equals、GetHashCode）

```
class Coord
{
    public int Row { get; set; }
    public int Column { get; set; }
} 
```

# html - HTML 和 CSS - 在“边框”图像内显示图像

> ID：13892559
> 
> 赞同：2
> 
> 时间：2012-12-15T13:20:33.170
> 
> 标签：html, css, image, border

我目前遇到了 JavaScript 滑块/幻灯片的问题。本质上，我在滑块中显示了 4 张图像。但是，我希望有一个图像作为这个滑块的边框，所以它会“覆盖”这些图像，使其看起来像滑块图像在这个边框图像的内部。

我的 HTML 代码：

```
<body>
    <div id="container">
        <div id="frame"></div>
        <div id="slides">
            <a href="#" class="prev"></a>
            <a href="#" class="next"></a>
            <div class="slides_container">
                <img src="img/slider/1.jpg" width="954" height="247" alt="Slide 1">
                <img src="img/slider/2.jpg" width="954" height="247" alt="Slide 2">
                <img src="img/slider/3.jpg" width="954" height="247" alt="Slide 3">
                <img src="img/slider/4.jpg" width="954" height="247" alt="Slide 4">
            </div>
        </div>
    </div>
</body> 
```

我的 CSS 代码：

```
/*
    Page style
*/

body { 
}

#container {
    width: 964px; 
    height: 257px;
    z-index: 99999;
    padding: 10px;
    margin: 0 auto;
    position: relative;
}

#frame {
    background: url(../img/slider_frame.png) no-repeat;
    width: 964px;
    height: 257px;
    position: absolute;
    top: -3px;
    left: -80px;
    z-index: 0;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    pointer-events: none;
    -moz-box-shadow:;
    -webkit-box-shadow:;
    box-shadow: 0 0 5px #000, 0 0 6px #000;
}

/*
    Slideshow
*/

#slides {
    position: absolute;
    top: 1px;
    left: -74px;
    z-index: 100;

    width: 954px;
    height: 247px;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
}

/*
    Slides container
    Important:
    Set the width of your slides container
    Set to display none, prevents content flash
*/

.slides_container {
    width: 954px;
    position: relative;
    display: none;
}

/*
    Each slide
    Important:
    Set the width of your slides
    If height not specified height will be set by the slide content
    Set to display block
*/

.slides_container a {
    width: 570px;
    height: 270px;
    display: block;
}

.slides_container a img {
    display: block;
}

/*
    Next/prev buttons
*/

#slides .next, #slides .prev {
    position: absolute;
    top: 129px;
    left: -80px;
    width: 48px;
    height: 48px;
    display: block;
    z-index: 101;
}

#slides .next {
    background-image: url(../img/arrow-right.png);
}

#slides .next:hover {
    background-image: url(../img/arrow-right-hov.png);
}

#slides .prev {
    background-image: url(../img/arrow-left.png);
}

#slides .prev:hover {
    background-image: url(../img/arrow-left-hov.png);
}

#slides .next {
    left: 826px;
} 
```

所以本质上，我的问题是如何使滑块中的图像显示在幻灯片的边框内？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:04:54.537

```
#container  {
    height: 257px;
    width: 964px;
    z-index: 99999;
}
#frame {
background: url(../img/slider_frame.png)  no-repeat scroll 0 0 transparent;
    border-radius: 4px 4px 4px 4px;
    box-shadow: 0 0 5px #000000, 0 0 6px #000000;
    height: 257px;
    left: 0;
    pointer-events: none;
    position: absolute;
    top: -5px;
    width: 964px;
    z-index: 99999;
}
#slider ul, #slider li {
    list-style: none outside none;
    margin: 0;
    padding: 0;
}

#slider li, #slider2 li {
    border-radius: 3px 3px 3px 3px;
    height: 247px;
    overflow: hidden;
    width: 954px;
} 
```

我看到上面的代码在演示站点中使用

# c++ - 循环单链表：从列表中删除特定节点

> ID：13892560
> 
> 赞同：0
> 
> 时间：2012-12-15T13:20:39.503
> 
> 标签：c++, list

我编写了代码以根据用户选择从列表中删除特定节点，代码对于特定值非常有效，但是如果我多次调用它意味着如果我连续调用它 2 次，那么我的另一个函数`pointer_to_node(index)`中的一个给出了我也实施了边界错误来记录这些条件，

实际上，我需要多次调用的原因是我必须编写一个单独的函数来删除所有节点。我正在尝试使用这个函数来完成这个任务，方法是使用一个`for`循环到我的循环单链表大小。但在这种情况下，它也会返回一个`NULL`指针并给我一个越界消息（由我在代码中实现）。我在这里包含了我的两个功能

```
void remove_from_index(int index){
  Node*temptr;
  temptr = new Node;
  int tempdata;

  if (index==1)//means remove from first
  {
    temptr = firstptr;
    tempdata= temptr->data;
    firstptr = firstptr->nextptr;
    lastptr->nextptr=firstptr;
    delete(temptr);
  } else if(index==size_of_list()) //means last node
  {
    temptr = pointer_to_node(index);
    index--; //get pointer of 2nd last position
    lastptr = pointer_to_node(index);//setting 2nd last as last postion
    temptr->nextptr=NULL;
    temptr=NULL;
    lastptr->nextptr=firstptr;
    delete (temptr);
  } else  // any position of node
  {
    temptr = pointer_to_node(index);
    tempdata = temptr->data;
    index--; // to get address of back

    Node* temp2ptr;
    temp2ptr = new Node;

    temp2ptr = pointer_to_node(index);

    index = index+2;

    Node* temp3ptr;
    temp3ptr = new Node;

    temp3ptr = pointer_to_node(index);

    temp2ptr->nextptr = temp3ptr;

    temptr->nextptr=NULL;
    delete (temptr);
  }
}

Node* pointer_to_node(int index){
  Node*temptr;
  temptr = new Node;
  temptr = firstptr;

  Node*temptr2;
  temptr2 = new Node;
  temptr2 = NULL;
  int count = 1;

  while (temptr!=temptr2){
    if (count==index)
    {
      return temptr;
    }

    count++;
    temptr2=firstptr;
    temptr=temptr->nextptr;
  }

  if (index>size_of_list())
  {
    temptr=NULL;
    cout<< "Can't You think in bounds. Take your NULL Pointer ";
    return temptr;
    delete temptr;
    delete temptr2;
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:26:27.070

我认为除了所有已经有据可查的内存泄漏和样式问题之外，这里的另一个可能问题是您的代码似乎无法处理列表中只有一件事的情况。

如果发生这种情况，它将删除该节点，但离开`firstptr`并`lastptr`指向随机内存。

如果您的 size_of_list() 函数只是计算列表中的节点，它可能仍会认为还有非零节点，然后您可能会尝试删除或以其他方式访问另一个节点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:35:57.817

您有几个内存泄漏：

```
temptr->nextptr=NULL;
temptr=NULL; // BAD!! BAD!! Remove it otherwise you will not actually free
lastptr->nextptr=firstptr;
delete (temptr); 
```

这里也是（实际上你在代码的四个地方都有这个）：

```
Node* temp2ptr;
temp2ptr = new Node; // BADD!! Why do you allocate if you are going to reassign?
temp2ptr = pointer_to_node(index); 
```

删除坏处，您将避免内存泄漏。

尽管如此，这并不能解决您的问题。

您还可以在这里返回后进行操作：

```
return temptr;
delete temptr;
delete temptr2; 
```

这些永远不会被执行。

**编辑**您的`pointer_to_node`功能太复杂，请更改为

```
Node* pointer_to_node(int index) {
    Node* tempPtr = firstptr;
    for (int i = 0; i < index; i++) {
         tempPtr = tempPtr->nextptr;
    }
    return tempPtr;
} 
```

看看这是否能解决你的问题。更多的代码行很少意味着更好的编程技能，不要人为地尝试增加它们的数量。

# javascript - 将jsp变量存储在javascript变量中时选择标签消失

> ID：13892561
> 
> 赞同：0
> 
> 时间：2012-12-15T13:20:43.327
> 
> 标签：javascript, jsp

我将查询结果存储在 JavaScript 变量中，我使用 JSP 从数据库中获取数据，

所以我声明了一个 JSP 字符串变量来存储记录。我将该变量分配给 JavaScript 变量。

```
var opt="";
<%
  String sdm="", smg="",sname="",s1="kkk";    
  sql="SELECT DISTINCT(BFM_Name) FROM BarsFeeMaster ORDER BY BFM_Name";
  Statement stmt11 = connection.createStatement();
  ResultSet rs11 =stmt11.executeQuery(sql); 
  while(rs11.next()) 
  {
     sname=rs11.getString("BFM_Name");
%>
  opt+="<option value='<%=sname%>'>abc</option>";
<%  
  }
%> 
```

这里同样不可访问，从某种意义上说，当我使用此代码时，我的选择标签消失了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:14:23.317

尝试这个

```
var opt="";
<%
  String sdm="", smg="",sname="",s1="kkk";    
  sql="SELECT DISTINCT(BFM_Name) FROM BarsFeeMaster ORDER BY BFM_Name";
  Statement stmt11 = connection.createStatement();
  ResultSet rs11 =stmt11.executeQuery(sql); 
  while(rs11.next()) 
  {
     sname=rs11.getString("BFM_Name");
%>
  opt+="<option value='"<%=sname%>"'>abc</option>";
<%  
  }
%> 
```

问候。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:59:01.397

尝试这个..

（字符串）rs11.getobject（）在值字段中

# python - 为 scipy.optimize.curve_fit 定义函数

> ID：13892564
> 
> 赞同：1
> 
> 时间：2012-12-15T13:20:53.187
> 
> 标签：python, scipy

由于我很懒，我不想定义用于优化这种方式的函数：

```
f = lambda x, a, b, ...: a * x + c + ... 
```

但我想做这样的事情：

```
f = lambda x, p: p[0] * x + p[1] + ... 
```

其中 p 是初始参数数组。问题是 - 我不知道如何实现它。我试过

```
popt = optimize.curve_fit(f, x, y, p) 
```

乃至

```
popt = optimize.curve_fit(f, x, y, *p) 
```

但这样的事情不起作用 - python 解释器对参数的数字不匹配大喊大叫。那么有什么方法可以实现我的想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:29:17.737

您几乎拥有它：您可以使用`*p`（参见`f(xdata, *params)`文档）：

```
>>> from scipy import optimize
>>> import numpy as np
>>> 
>>> x = np.arange(1, 4)
>>> y = x * 3 + 1
>>> 
>>> f = lambda x, *p: p[0] * x + p[1]
>>> popt, pcov = optimize.curve_fit(f, x, y, [1,-4])
>>> popt
array([ 3.,  1.])
>>> pcov
array([[  9.86076132e-32,  -1.97215226e-31],
       [ -1.97215226e-31,   4.60168861e-31]]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:28:01.077

哦，为什么当我提出问题时，我自己会找到解决方案？解决方案是：

```
f = lambda x, *p: p[0] * x + p[1] + ...
popt = optimize.curve_fit(f, x, y, p0=p) 
```

# objective-c - 改变 NSPopover 的外观？

> ID：13892566
> 
> 赞同：3
> 
> 时间：2012-12-15T13:21:10.040
> 
> 标签：objective-c, macos, cocoa, nspopover

我想做一个类似于这个的 NSPopover：

[![截屏](../Images/9add5b2d6d90a0f7c0d5856b8a61161b.png)](http://dribbble.com/shots/571680-Tiny-Popover-iPad)

所以我想覆盖绘图。

不幸的是，我在 Apple 文档中没有找到任何内容。但是，我确实使用类转储找到了以下私有类：

```
@interface NSPopoverFrame : NSView
{
    const void *_themeX;
    long long _popoverAppearance;
    NSImage *_dragImage;
    unsigned long long _anchorEdge;
    struct CGSize _anchorSize;
    CDStruct_3c058996 _contentInset;
    struct CGPoint _anchorPoint;
    unsigned long long _previousAnchorEdge;
    struct CGPoint _previousAnchorPoint;
    unsigned int _windowFilter;
    struct {
        unsigned int useDragWindowAppearance:1;
        unsigned int hasActiveShadow:1;
        unsigned int hasShadow:1;
        unsigned int invalidateShadow:1;
        unsigned int hasWindowBackgroundBlur:1;
        unsigned int shouldBlurBackground:1;
        unsigned int shouldInsetForAnchor:1;
        unsigned int doingSolidFillHack:1;
    } _flags;
}

+ (struct CGRect)contentRectForFrameRect:(struct CGRect)arg1 styleMask:(unsigned long long)arg2;
+ (struct CGRect)frameRectForContentRect:(struct CGRect)arg1 styleMask:(unsigned long long)arg2;
+ (struct CGRect)contentRectForFrameRect:(struct CGRect)arg1 appearance:(long long)arg2 anchorSize:(struct CGSize)arg3 contentInset:(CDStruct_3c058996)arg4;
+ (struct CGRect)frameRectForContentRect:(struct CGRect)arg1 appearance:(long long)arg2 anchorSize:(struct CGSize)arg3 contentInset:(CDStruct_3c058996)arg4;
@property struct CGPoint anchorPoint; // @synthesize anchorPoint=_anchorPoint;
@property long long popoverAppearance; // @synthesize popoverAppearance=_popoverAppearance;
@property CDStruct_3c058996 contentInset; // @synthesize contentInset=_contentInset;
@property struct CGSize anchorSize; // @synthesize anchorSize=_anchorSize;
@property unsigned long long anchorEdge; // @synthesize anchorEdge=_anchorEdge;
- (struct CGRect)titlebarRect;
- (BOOL)_hasActiveDragTypes;
- (void)draggingEnded:(id)arg1;
- (void)concludeDragOperation:(id)arg1;
- (BOOL)performDragOperation:(id)arg1;
- (void)draggingExited:(id)arg1;
- (unsigned long long)draggingEntered:(id)arg1;
- (void)_markAnchorRectAsNeedingDisplay;
- (void)setFrameSize:(struct CGSize)arg1;
- (BOOL)_isBorderView;
- (void)_drawFrameShadowAndFlushContext:(id)arg1;
- (void)tileAndSetWindowShape:(BOOL)arg1;
- (void)shapeWindow;
- (void)_setFrameNeedsDisplay:(BOOL)arg1;
- (id)opaqueAncestor;
- (BOOL)isOpaque;
- (struct CGRect)dragRectForFrameRect:(struct CGRect)arg1;
- (void)_resetDragMargins;
- (void)_clearDragMargins;
- (double)_distanceFromToolbarBaseToTitlebar;
- (void)_hideToolbarWithAnimation:(BOOL)arg1;
- (void)_showToolbarWithAnimation:(BOOL)arg1;
- (BOOL)_toolbarIsManagedByExternalWindow;
- (BOOL)_toolbarIsHidden;
- (BOOL)_toolbarIsShown;
- (BOOL)_toolbarIsInTransition;
- (BOOL)_canHaveToolbar;
- (id)zoomButton;
- (id)minimizeButton;
- (id)closeButton;
- (unsigned long long)styleMask;
- (id)title;
- (void)_windowChangedKeyState;
- (void)drawRect:(struct CGRect)arg1;
- (struct CGPoint)_adjustedForBoundsAnchorPoint:(struct CGPoint)arg1 anchorEdge:(unsigned long long)arg2;
- (id)_getPopoverIfAvailable;
- (void)drawBackgroundInRect:(struct CGRect)arg1 ofView:(id)arg2 anchorEdge:(unsigned long long)arg3 anchorPoint:(struct CGPoint)arg4;
- (void)_drawHUDPopoverAppearanceInRect:(struct CGRect)arg1 anchorEdge:(unsigned long long)arg2 anchorPoint:(struct CGPoint)arg3;
- (void)_drawMinimalPopoverAppearanceInRect:(struct CGRect)arg1 anchorEdge:(unsigned long long)arg2 anchorPoint:(struct CGPoint)arg3;
- (struct CGImage *)_imageMaskForPath:(struct CGPath *)arg1 anchorEdge:(unsigned long long)arg2 anchorPoint:(struct CGPoint)arg3;
- (struct CGPath *)_newMinimalAppearancePathInBounds:(struct CGRect)arg1 anchorEdge:(unsigned long long)arg2 anchorPoint:(struct CGPoint)arg3 topCapOnly:(BOOL)arg4 arrowOffset:(double)arg5;
- (struct CGPath *)_newMinimalAppearancePathInBounds:(struct CGRect)arg1 anchorEdge:(unsigned long long)arg2 arrowPosition:(double)arg3 topCapOnly:(BOOL)arg4 arrowOffset:(double)arg5;
- (void)_setHasDragWindowAppearance:(BOOL)arg1;
- (BOOL)_hasDragWindowAppearance;
- (void)_tileAndRedisplay:(BOOL)arg1;
- (struct CGRect)contentRectForFrameRect:(struct CGRect)arg1 styleMask:(unsigned long long)arg2;
- (struct CGRect)frameRectForContentRect:(struct CGRect)arg1 styleMask:(unsigned long long)arg2;
- (void)_setDragImage:(id)arg1;
- (id)_dragImage;
- (void)dealloc;
- (void)_windowTransformAnimationDidEnd:(id)arg1;
- (void)_windowTransformAnimationWillBegin:(id)arg1;
- (void)viewDidMoveToWindow;
- (void)_loadTheme;
- (void)viewWillDraw;
@property BOOL shouldBlurBackground;
- (void)_setWindowBackgroundBlurIfNeeded;
- (BOOL)_canHaveBlur;
- (void)_invalidateShadow;
@property BOOL shouldInsetForAnchor; // @dynamic shouldInsetForAnchor;
- (id)initWithCoder:(id)arg1;
- (id)initWithFrame:(struct CGRect)arg1 styleMask:(unsigned long long)arg2 owner:(id)arg3;
- (id)initWithFrame:(struct CGRect)arg1;
- (void)_commonPopoverInit;

@end 
```

然后我可以子类化`_NSPopoverWindow`，这也是私有的，并覆盖

`+ (Class)frameViewClassForStyleMask:(unsigned long long)arg1;`

我不能继承它，因为它是私有的。有没有办法绕过它？

或者还有其他方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:03:55.060

我在 Github 上找到了这个很棒的存储库：

[https://github.com/github/Rebel](https://github.com/github/Rebel)

完全符合我的要求。

# facebook - 不能使用标准的 facebook OpenGraph Action

> ID：13892569
> 
> 赞同：0
> 
> 时间：2012-12-15T13:21:28.897
> 
> 标签：facebook, facebook-opengraph

正如标题所说，facebook 不允许我使用标准的 OpenGraph 操作。在这种情况下，观看我希望我的用户能够在我的应用中观看电影。

这是我得到的输出： /me/{NameSpace}:watch with a post movie = [http://www.example.com/api/opengraph/Movie.php](http://www.example.com/api/opengraph/Movie.php)电影包含以下内容：

```
 <html>
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# video: http://ogp.me/ns/video#">
    <meta property="fb:app_id"      content="223293494357017" />
    <meta property="og:type"        content="video.movie" />
    <meta property="og:url"         content="http://www.example.com/api/opengraph/Movie.php" />
    <meta property="og:title"       content="Sample Movie" />
    <meta property="og:image"       content="https://s-static.ak.fbcdn.net/images/devsite/attachment_blank.png" />

</head>
<body>
Sample Movie
</body>
</html> 
```

在 OpenGraph API Explorer 中尝试此操作时我从 facebook 获得的输出

```
{
  "error": {
    "message": "Unknown path components: /{NAMESPACE}:watch", 
    "type": "OAuthException", 
    "code": 2500
  }
} 
```

这很奇怪，因为当我使用自定义操作（bekijk [手表的荷兰语翻译]）尝试此操作时，它确实有效并且实际上在我的 Facebook 墙上发布。

你们知道我做错了什么吗？

当然，我已经多次检查命名空间 Sandbox mode = on。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:33:16.847

我有解决方案：

对于官方观看操作，我需要使用此网址：

我/video.watches

# spring-roo - Roo 脚本 - 如何从“id”更改 pk 名称

> ID：13892571
> 
> 赞同：0
> 
> 时间：2012-12-15T13:21:39.037
> 
> 标签：spring-roo

我有一个创建 jpa 实体的脚本。所有 pk 列都命名为 id。

我现在得到的是：

```
entity jpa --class bla.Test
field string --notNull --fieldName email --clas bla.Test 
```

将创建

```
CREATE TABLE test {
  id BIGINT PRIMARY KEY,
  email MEDIUMTEXT
} 
```

我喜欢将 test_id 作为 pk

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T17:35:20.803

实体 jpa --class bla.Test --identifierField test_id

# ios - 无法使用带有自定义视图的 UIBarButtonItem 通过代码将分段控件添加到工具栏

> ID：13892574
> 
> 赞同：1
> 
> 时间：2012-12-15T13:21:54.123
> 
> 标签：ios, uinavigationbar, uibarbuttonitem, uitoolbar, uisegmentedcontrol

在我的应用程序中，我曾经在顶部有一个导航栏，在底部有一个工具栏，总共有 4 个按钮。我还在工具栏中有一个分段控件，当切换其他按钮之一时会显示该控件。这一切都可以使用`IBOutlet`s 等正常工作。

其中一个按钮是粗略的用户跟踪按钮，我现在已将其替换为`MKUserTrackingButton`. 为了让它工作，我必须通过代码添加它（`bottomToolBar`是一个`IBOutlet`）`UIToolBar`：

```
[bottomToolBar setItems:[NSArray arrayWithObjects:trackButton, flexible, keysButton, nil] animated:YES]; 
```

这很好用，但当然分段控件（称为 mapTypeControl）现在显示时间更长了，所以我这样做了：

```
UIBarButtonItem *segmentControlButton = [[UIBarButtonItem alloc] initWithCustomView:mapTypeControl];
[bottomToolBar setItems:[NSArray arrayWithObjects:trackButton, flexible, segmentControlButton, flexible, keysButton, nil] animated:YES]; 
```

但段控制不显示。如果我将它添加到它显示的导航栏中，但我无法让它显示在工具栏中。

我在这里想念什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T15:10:21.930

我需要查看更多代码才能真正理解这里发生的事情，而且我不清楚你为什么要在代码中做一些按钮，而在 IB 中做一些按钮。但是，为什么不在 IB 中保留对`UIBarButtonItem`包含分段控件的引用？然后您不必销毁它并重新创建它，您只需将其插入到底部工具栏上设置的数组中即可。

# javascript - 更改画布以绘制线条

> ID：13892579
> 
> 赞同：2
> 
> 时间：2012-12-15T13:22:12.153
> 
> 标签：javascript, html, canvas

我在一个关于如何在画布中绘制[http://jsfiddle.net/ArtBIT/kneDX/](http://jsfiddle.net/ArtBIT/kneDX/)的stackoverflow 问题中发现了这一点，但我希望它连续绘制线条而不是圆圈但线条流畅。要更改的代码如下：

```
ctx.fillCircle = function(x, y, radius, fillColor) {
            this.fillStyle = fillColor;
            this.beginPath();
            this.moveTo(x, y);
            this.arc(x, y, radius, 0, Math.PI * 2, false);
            this.fill();
        }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:38:38.013

您可以使用[Bresenham 的线算法](http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm)找到鼠标起点和终点之间的所有点，然后使用`fillRect`. 您需要使用线算法的原因是因为如果用户移动鼠标太快，您将不会得到实线，而是有间隙的线。我修改了你的函数来做到这一点。您还可以传递线条粗细值来更改您希望笔划的大小。请注意，`arcs`我更喜欢使用相同的方法`rect`

**[现场演示](http://jsfiddle.net/loktar/kneDX/879/)**

```
 (function() {
    // Creates a new canvas element and appends it as a child
    // to the parent element, and returns the reference to
    // the newly created canvas element

    function createCanvas(parent, width, height) {
        var canvas = {};
        canvas.node = document.createElement('canvas');
        canvas.context = canvas.node.getContext('2d');
        canvas.node.width = width || 100;
        canvas.node.height = height || 100;
        parent.appendChild(canvas.node);
        canvas.lastX = 0;
        canvas.lastY = 0;
        return canvas;
    }

    function init(container, width, height, fillColor) {
        var canvas = createCanvas(container, width, height);
        var ctx = canvas.context;

        // define a custom fillCircle method
        ctx.fillCircle = function(x1, y1, x2, y2, fillColor, lineThickness) {
            this.fillStyle = fillColor;

            var steep = (Math.abs(y2 - y1) > Math.abs(x2 - x1));
            if (steep) {
                var x = x1;
                x1 = y1;
                y1 = x;

                var y = y2;
                y2 = x2;
                x2 = y;
            }
            if (x1 > x2) {
                var x = x1;
                x1 = x2;
                x2 = x;

                var y = y1;
                y1 = y2;
                y2 = y;
            }

            var dx = x2 - x1,
                dy = Math.abs(y2 - y1),
                error = 0,
                de = dy / dx,
                yStep = -1,
                y = y1;

            if (y1 < y2) {
                yStep = 1;
            }

            for (var x = x1; x < x2; x++) {
                if (steep) {
                    this.fillRect(y, x, lineThickness, lineThickness);
                } else {
                    this.fillRect(x, y, lineThickness, lineThickness);
                }

                error += de;
                if (error >= 0.5) {
                    y += yStep;
                    error -= 1.0;
                }
            }

        };
        ctx.clearTo = function(fillColor) {
            ctx.fillStyle = fillColor;
            ctx.fillRect(0, 0, width, height);
        };
        ctx.clearTo(fillColor || "#ddd");

        // bind mouse events
        canvas.node.onmousemove = function(e) {
            if (!canvas.isDrawing) {
                return;
            }
            mouseX = e.pageX - this.offsetLeft;
            mouseY = e.pageY - this.offsetTop;

            ctx.fillCircle(mouseX,mouseY,canvas.lastX,canvas.lastY,"#000",1);

            canvas.lastX = mouseX;
            canvas.lastY = mouseY;

        };
        canvas.node.onmousedown = function(e) {
            canvas.isDrawing = true;
            canvas.lastX = e.pageX - this.offsetLeft;
            canvas.lastY = e.pageY - this.offsetTop;
        };
        canvas.node.onmouseup = function(e) {
            canvas.isDrawing = false;
        };
    }

    var container = document.getElementById('canvas');
    init(container, 200, 200, '#ddd');

})();​ 
```

​</p>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:25:44.083

如果我理解，你需要这个：[http ://www.html5canvastutorials.com/tutorials/html5-canvas-lines/](http://www.html5canvastutorials.com/tutorials/html5-canvas-lines/)

此脚本从 0,0 到鼠标绘制一条线。

window.event.clientX = 鼠标 x 坐标 window.event.clientY = 鼠标 y 坐标

```
<script>
  context.beginPath();
  context.moveTo(0,0);
  context.lineTo(window.event.clientX,window.event.clientY);
  context.stroke();
</script> 
```

# php - 如何通过“亚马逊MWS订单API”获取“非亚马逊”销售渠道订单

> ID：13892584
> 
> 赞同：2
> 
> 时间：2012-12-15T13:23:13.967
> 
> 标签：php, amazon-web-services, amazon, amazon-mws

我正在使用亚马逊 MWS api 来获取完整的亚马逊订单列表。有这样一个返回亚马逊物流 (AFN) 和卖家物流 (MFN) 订单的 API 真是太好了。

登录亚马逊卖家中心后，我可以查看所有销售渠道（亚马逊、非亚马逊）订单。但问题是，这个 api 不返回“非亚马逊”销售渠道订单。

注意：我只发送带有其他必需参数的 CreatedAfter 参数。

有没有什么方法可以通过 MWS 订单 API 获取“非亚马逊”渠道订单？

或者

亚马逊不通过api提供非亚马逊销售渠道订单信息，如果是真的，那就意味着我必须登录卖家中心并手动记下“非亚马逊”渠道订单详细信息。

我将不胜感激任何帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T14:43:16.187

非亚马逊销售渠道订单是通过商家创建或使用 Fulfillment Outbound Shipment API 操作“CreateFulfillmentOrder”创建的。要取回这些订单信息，我们需要使用 Fulfillment Outbound Shipment API 操作“GetFulfillmentOrder”。

这些 api 肯定会节省很多时间 :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-12-03T06:51:13.193

要获取**非亚马逊订单列表**，您必须使用“FulfillmentOutbound”API。让我记下你将如何使用它。

对于美国市场，[https:](https://mws.amazonservices.com/scratchpad/index.html) //mws.amazonservices.com/scratchpad/index.html 打开此链接并在 API 部分中选择“履行”选项，然后在操作下您必须选择**FulfillmentOutbound -> ListAllFulfillmentOrders** 现在您必须填写卖家信息并输入您希望接收订单的日期。

# java - Android 时间 0:00 pm 应该改为显示 12:00 pm

> ID：13892586
> 
> 赞同：1
> 
> 时间：2012-12-15T13:23:23.813
> 
> 标签：java, android, date, time

> **可能重复：**
> [Android 日期/时间显示 0 而不是 12](https://stackoverflow.com/questions/13891427/android-date-time-displaying-0-instead-of-12)

下面是我使用的代码：

```
public void onTimeSet( TimePicker view, int selectedHour,
            int selectedMinute ) {
        // Gets current time
        Calendar c = Calendar.getInstance();

        hour = selectedHour;
        minute = selectedMinute;

        // set waking time into textview
        StringBuilder sb = new StringBuilder();
        if( hour >= 12 ){                      
          sb.append(hour-12).append( ":" ).append(pad(minute)).append(" PM");
        }else if( hour == 0 ){
            sb.append( "12" ).append( ":" ).append( pad(minute) ).append( " AM" );
        } else if( hour == 24 ){
            sb.append(hour+24).append( ":" ).append( pad(minute) ).append( " PM" );
        }

        else{
          sb.append(hour).append( ":" ).append(pad(minute)).append(" AM");
        }

        // Assign hour set in the picker
        c.set( Calendar.HOUR, selectedHour );
        c.set( Calendar.MINUTE, selectedMinute );

        // Have Calendar calculate the substraction of hours and minutes
        c.add( Calendar.HOUR, SUB_HOUR );
        c.add( Calendar.MINUTE, SUB_MINUTE );

        // Get the hour and the minute calculated
        hour = c.get( Calendar.HOUR );
        minute = c.get( Calendar.MINUTE );
        //hour = c.get( Calendar.HOUR_OF_DAY );

        StringBuilder sb2 = new StringBuilder();
        if(hour>=12){                      
          sb2.append(hour-12).append( ":" ).append(pad(minute)).append(" PM");
        }else if(hour == 0){
          sb2.append( "12" ).append( ":" ).append(pad(minute)).append( " AM" );
        }
        else{
          sb2.append(hour).append( ":" ).append(pad(minute)).append(" AM");
        }

        // set current time into textview
        answer.setText( "To wake up at " + sb + ", you must go to bed at " + sb2 ); 
```

在我的第一个**StringBuilder**中，当用户选择 12:00 pm 时，它显示在 0:00 Pm 而不是 12:00 pm，我该怎么做？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:48:30.113

建议的副本并没有真正回答这个问题。在构建字符串之前，您需要以下内容

```
hour = hour % 12
if(hour == 0)
    hour = 12; 
```

__

更新：在模数之前，这样做：

```
// set this variable so it will be in scope

boolean morning = true
//then
if (hour >=12 && hour <  24) morning = false;
else morning = true; 
```

并在您的字符串构建器中使用该布尔值

# google-maps - 在集成谷歌地图方向api方面需要帮助

> ID：13892591
> 
> 赞同：0
> 
> 时间：2012-12-15T13:23:57.683
> 
> 标签：google-maps, directions

这是我第一次参加这个论坛。我是网站设计的新手（我对编码一无所知）并且正在使用 Adob​​e Muse 创建我的第一个网站。我想集成谷歌地图方向 API 并希望它只返回距离在两点之间（正如在[http://www.sharedcab.com](http://www.sharedcab.com)中所做的那样。已经阅读了许多文档，例如[https://developers.google.com/maps/documentation/directions/](https://developers.google.com/maps/documentation/directions/but)但不明白如何实施。提前致谢如果我听起来对编码世界一无所知，请原谅我，因为我纯粹是在设计。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:33:12.900

您可以查看[此处](https://stackoverflow.com/questions/3896871/google-map-driving-direction-source-code-for-their-example)给出的代码。它是一个基本示例，但您可以遵循。

希望这有帮助。

# c++ - C++ 销毁子窗口

> ID：13892593
> 
> 赞同：2
> 
> 时间：2012-12-15T13:24:21.713
> 
> 标签：c++, windows

我在关闭我的子窗口时遇到问题，非常感谢有关如何解决我的问题的一些指导。

我使用以下代码创建窗口，成功创建并显示子窗口。

```
 hwndComboBoxLang = CreateWindow(WC_COMBOBOX, TEXT(""), 
 CBS_DROPDOWN | CBS_HASSTRINGS | WS_CHILD | WS_OVERLAPPED | WS_VISIBLE ,
 xpos, ypos, nwidth, nheight, hwnd, NULL, hThisInstance,
 NULL); 
```

这会破坏窗口：

```
DestroyWindow(DW.hwndComboBoxLang); 
```

*   正在达到该功能，因为我已经通过在删除 WS_CHILD 参数时成功销毁“子”窗口并在父窗口上成功使用该功能来测试它。我也无法成功使用 ShowWindow(DW.hwndComboBoxLang, SW_HIDE); 子窗口上的功能。

我没有注册子窗口，因为我假设它是从注册的父类派生的，因此这不是必要的，这个假设是错误的吗？是否创建了子窗口，但句柄是否指向任何东西？

你能指出我如何正确关闭子窗口的正确方向吗？

先感谢您，

# mysql - 只显示一次类别

> ID：13892595
> 
> 赞同：0
> 
> 时间：2012-12-15T13:24:31.043
> 
> 标签：mysql, group-by, categories

假设我有一个汽车清单。我只想在所有汽车的列表中显示汽车的名称一次。假设它应该是这样的：

```
**Jaguar**
XK8
XR
XF

**Audi**
A8
A4
A5 
```

我如何对它们进行分类？我正在使用一个简单的mysql调用，例如：

```
$lists = $mysqli->query("SELECT * FROM products INNER JOIN cats ON cat_id=product_cat GROUP BY product_cat");
while($listdata = $lists->fetch_assoc()){} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:28:52.893

将名称添加到新数组。

```
$allcars = $mysqli->query("SELECT car_name, car_id, car_descr, car_type FROM cats"); 
$namelist = array();
while($carsdata = $allcars->fetch_assoc()){ $namelist[] = $carsdata['car_type']; } 
```

# php - 自定义elfinder文件管理器

> ID：13892596
> 
> 赞同：1
> 
> 时间：2012-12-15T13:24:38.407
> 
> 标签：php

我在我的一个项目中使用 elfinder 文件管理器。我正在用 PHP 开发我的项目。我是使用这个文件管理器的新手。

现在，我想在文件上传时执行 SQL 查询，并希望分别跟踪每个用户上传的每个文件。所以我不知道如何定制这个东西。

例如，我是用户并且我已经注册。每个用户都有自己的帐户，他们可以在他/她的帐户中上传他们的文件。

现在，假设我是用户并在我的帐户中上传 1 张图片。所以当我上传我的文件时。我想在我的数据库表中插入带有 user_id 的文件名、大小和所有其他详细信息。所以我可以管理每个用户上传文件的跟踪。

请任何人都可以在这里帮助我吗？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:32:56.193

您可以使用自定义[回调](https://github.com/Studio-42/elFinder/wiki/Client-event-API)。例如，上传make ajax请求后，将文件参数保存到db。

# iphone - main() 中的 @try-@catch 块

> ID：13892597
> 
> 赞同：0
> 
> 时间：2012-12-15T13:24:58.820
> 
> 标签：iphone, ios, cocoa-touch

我正在实现我的自定义状态保存，我只是想检查我的应用程序是否在用户上次使用它时崩溃了。

我的想法是：将整个 main 函数包装在 @try-catch 块中，如果捕获到某些内容，只需在用户默认值中编写一些内容。

但这是个好主意，还是对应用程序本身不利？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:31:49.457

您可以这样做，但请注意，用户默认值不是用于存储错误信息。所以这不是一个好主意。

您是为 iOS 还是 Mac OS X 开发？

# ios - 使用 MagicalRecord 映射核心数据中的 ADN 帖子实体

> ID：13892599
> 
> 赞同：0
> 
> 时间：2012-12-15T13:25:25.943
> 
> 标签：ios, json, core-data, magicalrecord

我在将 ADN 中的帖子映射到我的数据库时遇到问题。

请记住，我正在使用 MagicalRecord 将 JSON 自动映射到我设置的 NSManagedObjects。

JSON 可以在这里看到：http://web.archive.org/web/20170123035402/https: [//developers.app.net/reference/resources/post/](http://web.archive.org/web/20170123035402/https://developers.app.net/reference/resources/post/)，特别是实体部分。

我的核心数据模型已经设置了以下关系：

```
Post <-> Entities <->> Links/Hashtags/Mentions 
```

已使用正确的名称设置了关系，因此 MagicalRecord 应该能够很好地映射树。Post 对象有一堆属性。它与实体对象的关系称为“实体”，这似乎是由于主键而失败的地方（AFAIK 从它在 MagicalRecord 中的代码中中断）。

由于实体基本上只是一个保存与每个实体类型的关系的对象，因此我没有实体对象的任何属性。不幸的是，它似乎无助于为 Entity 对象设置具有随机名称的属性。

根据上述信息，您是否会采取不同的措施来正确映射关系和对象？是否可以使用我仅用于与每个实体类型的关系的这个空实体对象，有点像如何使用“实体”字典设置 ADN 帖子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T15:32:14.260

首先，您忽略了描述您的“问题”，只描述了您的场景。究竟是什么行为不符合您的预期？

核心数据实体上是否存在属性不会影响其行为。

然而，“实体”这个名字让我感觉有点刺痛。虽然 NSManagedObject 没有（公共）“实体”属性或方法，但它确实有一个“实体”方法。

更新：我使用以下模型手动创建了一个新的核心数据测试项目：

项目 <-> 实体 <->> Foo

这个代码：

```
NSManagedObjectContext *moc = [self managedObjectContext];
NSManagedObject *item = [NSEntityDescription insertNewObjectForEntityForName:@"Item"
                                                      inManagedObjectContext:moc];
NSManagedObject *ent = [NSEntityDescription insertNewObjectForEntityForName:@"Entities"
                                                     inManagedObjectContext:moc];
NSManagedObject *foo = [NSEntityDescription insertNewObjectForEntityForName:@"Foo"
                                                     inManagedObjectContext:moc];

[item setValue:ent forKey:@"entities"];
[foo setValue:ent forKey:@"entities"];

NSLog(@"%@ -> %@ -> %@", item, ent, foo); 
```

它工作得很好。

更新：我能找到导致奇怪行为的最接近的事情是：

```
[item setValue:@(YES) forKey:@"deleted"];
[item setValue:@(YES) forKey:@"is_deleted"];

NSLog(@"deleted=%@", [[item valueForKey:@"deleted"] boolValue] ? @"YES" : @"NO");
NSLog(@"is_deleted=%@", [[item valueForKey:@"is_deleted"] boolValue] ? @"YES" : @"NO"); 
```

日志将打印“deleted=NO”和“is_deleted=YES”，在前一种情况下是错误的。预先存在的“isDeleted”方法防止为“deleted”属性自动生成“deleted”访问器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T17:07:33.583

因此，对于我设置 NSManagedObjects 和关系的方式，MagicalRecord 和我自己确实存在一些问题。

MagicalRecord 使用主键来处理关系。如果尚未设置，则使用其中一个属性。在我的例子中，`Entities`NSManagedObject 没有任何属性，因为我只是使用它来处理与每个实体类型的关系。

可以在以下位置找到此代码`NSObject+MagicalDataImport.m`：

```
- (NSString *) MR_lookupKeyForRelationship:(NSRelationshipDescription *)relationshipInfo
{
    NSEntityDescription *destinationEntity = [relationshipInfo destinationEntity];
    if (destinationEntity == nil) 
    {
        MRLog(@"Unable to find entity for type '%@'", [self valueForKey:kMagicalRecordImportRelationshipTypeKey]);
        return nil;
    }

    NSString *primaryKeyName = [relationshipInfo MR_primaryKey];

    NSAttributeDescription *primaryKeyAttribute = [[destinationEntity attributesByName] valueForKey:primaryKeyName];
    NSString *lookupKey = [[primaryKeyAttribute userInfo] valueForKey:kMagicalRecordImportAttributeKeyMapKey] ?: [primaryKeyAttribute name];

    return lookupKey;
} 
```

具体`[[destinationEntity attributesByName] valueForKey:primaryKeyName];`返回零。

起初我用一个名为“test”的属性进行了测试，但我不确定我做了什么没有奏效，也许是在清除缓存方面做得不够好。我再次尝试清除关系，所以我不用担心这些关系，然后我在实体上添加了一个属性“实体”，`NSManagedObject`一切都很好！

对不起。只需添加答案和评论，以防有人在使用 MagicalRecord 并且 NSManagedObject 没有任何属性时遇到此问题。

# java - Jetty - 寻求 EOF 时端点输出未关闭

> ID：13892606
> 
> 赞同：2
> 
> 时间：2012-12-15T13:26:16.350
> 
> 标签：java, jakarta-ee, jetty

访问此 Servlet（使用 GET 或 POST）时，我总是在 Jetty 9 中收到此警告：

```
package de.swt1321.servlet;

import java.util.ArrayList;

import java.io.OutputStream;
import java.io.IOException;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class ServletTest extends HttpServlet {
    private static final int UNPROCESSABLE_ENTITY = 422;
    private static final java.nio.charset.Charset UTF8 = java.nio.charset.Charset.forName("UTF8");
    private ArrayList<Person> persons = new ArrayList<Person>(); 
    @Override
    public void doGet(HttpServletRequest req,
                          HttpServletResponse res) throws ServletException, IOException
    {
        byte [] HTML = genHTML();
        res.setStatus(HttpServletResponse.SC_OK);
        res.setHeader("content-type","text/html;charset=utf8");
        res.setIntHeader("content-length",HTML.length);
        OutputStream os = res.getOutputStream();
        os.write(HTML);
        os.flush();
    }

    @Override
    public void doPost(HttpServletRequest req,
                        HttpServletResponse res) throws ServletException, IOException
    {
        String firstName = req.getParameter("firstName");
        String lastName = req.getParameter("lastName");
        if(firstName == null || lastName == null) {
            res.setStatus(UNPROCESSABLE_ENTITY);
            return;
        }
        persons.add(new Person(req.getParameter("firstName"),req.getParameter("lastName")));
        byte[] HTML = genHTML();
        res.setStatus(HttpServletResponse.SC_OK);
        res.setHeader("content-type","text/html;charset=utf8");
        res.setIntHeader("content-length",HTML.length);
        OutputStream os = res.getOutputStream();
        os.write(HTML);
        os.flush();
    }

    private byte[] genHTML() {
        String HTMLString = "<!DOCTYPE html>"+
            "<html>"+
            "<head>" +
            "<title>Hello World!</title>"+
            "<style>" +
            "table,th,tr { border: 1px solid black;}"+
            "</style>" +
            "</head>"+
            "<body><table><tr><th>First Name</th><th>Last Name</th></tr>";
        for(Person person : persons) {
            HTMLString += "<tr><td>"+person.firstName+"</td><td>"+person.lastName+"</td></tr>";
        }
        HTMLString += "</table>"+
            "<form name='input' action='/ServletTest-1.0.0/hello' method='post'>"+
            "<input type='text' name='firstName'/>"+
            "<input type='text' name='lastName'/>" +
            "<input type='submit' value='Send me!'/>"+
            "</form>" +
            "</body>" +
            "</html>";
        return HTMLString.getBytes(UTF8);
    }

    private static class Person {
        public String firstName;
        public String lastName;
        public Person(String firstName, String lastName) {
            this.firstName = firstName;
            this.lastName = lastName;
        }
    }
} 
```

网页.xml：

```
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
    version="3.0"> 

    <servlet>
        <servlet-name>HelloWorldServlet</servlet-name>
        <display-name>Hello World App</display-name>
        <load-on-startup>1</load-on-startup>
        <servlet-class>de.swt1321.servlet.ServletTest</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>HelloWorldServlet</servlet-name>
        <url-pattern>/hello</url-pattern>
    </servlet-mapping>

</web-app> 
```

这是我应该担心的事情吗？如果是，我该如何解决这个问题？这到底是什么意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T02:53:55.683

这是因为您正在刷新输出流。只需删除 op.flush(); 让码头处理

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T14:44:18.077

```
OutputStream os = res.getOutputStream().write(HTML); 
```

除非您要自己处理输出流的生命周期，否则不要费心保留对它的本地引用。

# linux - 未找到现有文件

> ID：13892610
> 
> 赞同：-2
> 
> 时间：2012-12-15T13:26:49.403
> 
> 标签：linux, bash

在转换 MP3 文件之前，我使用了一个 bash 脚本从它们中提取图稿。

```
#!/bin/bash

MUSIC_FILE=$1
IMAGE_FILE=""
TIMESTAMP=$2

if [ -z "$MUSIC_FILE" ] ; then
  exit 2;
fi

if [ -z $TIMESTAMP ] ; then
  TIMESTAMP=$(date +%s)
fi 

IMAGE_FILE=`/usr/bin/eyeD3 --write-images=. "$MUSIC_FILE" 2>&1 | grep Writing  | sed -e 's/Writing //g' -e 's/\.\.\.//g' | tr ' ' '_'`

if [ -z $IMAGE_FILE ] ; then
  exit 3
fi

if [ -e $IMAGE_FILE ] ; then
  /usr/bin/convert $IMAGE_FILE $TIMESTAMP.png
  exit 0
else 
  exit 4
fi 
```

艺术品文件被很好地提取，我可以通过 ls 输出看到它，用于获取文件名的变量是正确的（没有标题/尾随空格等），但在脚本中也没有转换，也没有任何额外的 ls 找到它（没有这样的文件或目录）...

它真的让我发疯...

附加信息：当我使用 -x 标志启动脚本时，我的文件名的每个表示都是黄色的，无法弄清楚为什么......

谢谢你的帮助 ！

热雷米

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T15:02:34.633

而不是试图通过过滤命令的输出来获取文件名，你为什么不：

```
#!/bin/bash

MUSIC_FILE="$1"
[ -f "$MUSIC_FILE" ] || exit 2

TIMESTAMP=${2:-$(date +%s)}

mydir=$(mktemp -d)
/usr/bin/eyeD3 --write-images=$mydir "$MUSIC_FILE" >/dev/null 2>&1
filename=($(/bin/ls -1 $mydir))

[ -f "$mydir/$filename" ] &&
    convert $mydir/$filename" $TIMESTAMP.png

rm -fR $mydir 
```

未经测试，但可以工作......（大约;-)

# php - Composer vs Symfony 2 自动加载器

> ID：13892614
> 
> 赞同：11
> 
> 时间：2012-12-15T13:27:30.643
> 
> 标签：php, symfony, autoload, composer-php

我开始在一个项目中使用[Composer](http://getcomposer.org/)，在该项目中，我历来将所有依赖项都置于版本控制之下。

这个项目目前使用[Symfony 2 自动加载器](http://symfony.com/doc/2.0/components/class_loader.html)。因为 Composer 带有它自己的自动加载机制（`vendor/autoload.php`），这让我怀疑我是否还需要使用 Symfony 类加载器。

我假设我也可以使用 Composer 自动加载器来自动加载我的项目类：

```
$loader = require 'vendor/autoload.php';
$loader->add('MyProject', 'src'); 
```

在整个项目中使用 Composer 自动加载器有什么缺点吗？

我在 Composer 自动加载器中找不到 Symfony 自动加载器提供的功能吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-15T16:31:51.720

你可以只需要作曲家自动加载器。它唯一缺少的特性是 ApcClassLoader，它可以加快 APC 的速度，但引入了一些复杂性（部署时必须清除缓存）。使用 composer 的 -o 标志（在安装或运行 dump-autoload 时）将为您提供一个类映射，它在速度方面或多或少等同于 APC，但没有复杂性。

# javascript - 将 json 响应转换为 javascript 数组

> ID：13892616
> 
> 赞同：1
> 
> 时间：2012-12-15T13:27:43.667
> 
> 标签：javascript, jquery, asp.net, json

我目前收到一个 json 响应，即：

```
[{"id":1,"title":"Test 1 "},{"id":2,"title":"Test 2"}] 
```

我想将它转换为一个名为'events'的javascript数组，如下所示，以便我可以返回它：例如：

```
 return {
     events : [
        {
           "id":1,
           "title":"Test 1"
        },
        {
           "id":2,
           "title":"Test 2"
        }
     ]
  }; 
```

我从 jquery ajax 调用中得到响应：

```
 jQuery.ajax({
        type: "POST",
        url: "calendar.aspx/get_all_events",
        data: "{}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
            document.write(msg.d);
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) {
            alert('Error getting events from database.');
        }
    }); 
```

任何人都知道如何将 msg 或 msg.d 转换为需要的内容？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:56:43.160

您可以使用：

```
return {events: JSON.parse(msg.d)}; 
```

或者，为了更好的兼容性：

```
eval("var result = "+msg.d);
return {events: result}; 
```

或 jQuery 解决方案

```
return {events: $.parseJSON(msg.d)}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:33:22.773

我想你只需要这个：

```
 success: function (msg) {
        // The event object is what you require
        var eventObj = {events:msg.d};
        document.write(eventObj);
    }, 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:34:03.957

如果 msd.d 是

```
 [{"id":1,"title":"Test 1 "},{"id":2,"title":"Test 2"}] 
```

那么你可以像这样返回它：

```
return {
     events : msg.d
  }; 
```

但是您必须进行回调才能返回它。因为ajax是异步的。我添加了退货，因为那是您想要的。另一种方法是使 ajax 调用同步。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T14:09:01.553

```
function doXHR( callback ) {
   jQuery.ajax( {
        type: "POST",
        url: "calendar.aspx/get_all_events",
        data: "{}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function ( event ) {
            callback && callback( event );
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) {
            alert('Error getting events from database.');
        }
    });
}

doXHR( function( event ) {
    var data = { events: event.d };
    // Do other stuff with data here (processing, displaying, etc.).
    // You can call other functions here and feed them with data.
} ); 
```

请注意，XHR 请求是异步的。您不能简单地返回 XHR 请求数据。您必须将所有进一步的代码放入回调函数中，以便它可以在可用时处理您的数组。

# angularjs - Angular JS 跳过 OrderBy 值

> ID：13892622
> 
> 赞同：0
> 
> 时间：2012-12-15T13:28:32.497
> 
> 标签：angularjs, javascript-framework, angularjs-orderby

我有以下代码

```
<tr>
 <th ng-click="predicate='-name'; reverse=false;">Name</th>
 <th ng-click="predicate='age'; reverse=true;">Age<th>
<tr>
<tr ng-repeat="user in users | orderBy:predicate:reverse">
 <td>{{user.name}}<td>
 <td>{{user.age}}</td>
</tr> 
```

我的目标是每当我单击表头时，必须根据特定谓词和反向对相应的列进行排序。这正在完美地发生。但是我有一个场景，当我点击一个外部对象时，我在表格中的年龄值在这里发生了变化，因此表格排序顺序受到干扰。但我不想被打扰。我如何跳过表格以不服从对其他操作的排序，并且仅在单击表格列标题时才拥有它？谁能帮我这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T03:16:06.673

我不认为这是可能的。每当“用户”发生变化时，Angular 都会注意到（因为范围属性（即“用户”）已绑定（单向数据绑定）到 ng-repeat 指令），并且 Angular 将更新视图。

# php - 会话，Cookie，记住我工作正常，但

> ID：13892633
> 
> 赞同：0
> 
> 时间：2012-12-15T13:30:12.643
> 
> 标签：php, session, cookies

可能已经有我的问题的解决方案，但我不知道我的问题的确切名称。所以我现在无法搜索它们，我需要在这里发布我的问题。

当我手动登录时（意思是用手输入用户名和密码），我的个人资料页面会正确显示数据库中的所有数据。见下图...... ![正确的图像](../Images/077fe1e9b2d283ecba20618af2714c49.png)

现在我退出并再次登录。这次我选中了“记住我”框。然后我没有注销就关闭了浏览器。因此，下次当 cookie 起作用时，我可以直接访问我的主页。到目前为止一切都很好。但是当我检查我的个人资料页面时，灾难就来了。见下图.... :( ![图像不正确](../Images/4f3bbb596ddd5e7d15c4438563ae7a60.png)

我已经使用“用户名”列来检测我的数据库的表行。因为我的代码不允许来自其他用户的相同用户名。这是个人资料页面的代码：

```
session_start();
$name = $_SESSION['username'];
$result = mysql_query("SELECT * FROM store WHERE Username='$name'");
while ($row = mysql_fetch_array($result)) {
    $first = $row['Firstname'];
    $last = $row['Lastname'];
    $use = $row['Username'];
    $pas = $row['Password'];
} 
```

然后我只是在个人资料页面中回显它们（这四个变量 $first、$last、$use 和 $pas）。那我现在该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:52:02.780

首先确保会话已设置并且不为空，因为您可以使用[`empty()`](http://php.net/manual/en/function.empty.php)它将显式检查`isset()`

```
session_start();
if (!empty($_SESSION['username'])) {
    $name = $_SESSION['username'];
    $result = mysql_query("SELECT * FROM store WHERE Username='$name'");
    while ($row = mysql_fetch_array($result)) {
        $first = $row['Firstname'];
        $last = $row['Lastname'];
        $use = $row['Username'];
        $pas = $row['Password'];
    }
} 
```

**注意1**：您的会话不安全，您需要保护会话，因为有一些很好的阅读

1.  [**PHP 安全指南：会话**](http://phpsec.org/projects/guide/4.html)
2.  [会话和安全](http://php.net/manual/en/session.security.php)
3.  [PHP 会话安全](https://stackoverflow.com/questions/328/php-session-security)
4.  [PHP 会话变量的安全性如何？](https://stackoverflow.com/questions/1181105/how-safe-are-php-session-variables)

**注意 2**：[**不推荐**](https://wiki.php.net/rfc/mysql_deprecation)`mysql_*`使用函数，即使它会在[**php5.5**](http://downloads.php.net/dsp/)中生成警告，所以使用or代替[](https://wiki.php.net/rfc/mysql_deprecation)**[**`E_DEPRECATED`**](https://wiki.php.net/rfc/mysql_deprecation)[](http://downloads.php.net/dsp/)**`PDO``MySQLi`****

 ***** * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-12-15T13:42:10.423

```
session_start();
$name = $_SESSION['username']; // here is the problem
$result = mysql_query("SELECT * FROM store WHERE Username='$name'");
while ($row = mysql_fetch_array($result)) {
    $first = $row['Firstname'];
    $last = $row['Lastname'];
    $use = $row['Username'];
    $pas = $row['Password'];
} 
```

您可以通过检查此语句是否设置会话来查看

```
if (isset($_SESSION['username'])) {
    echo "Session is Set";
} else {
    echo "Session is not Set";
} 
```

我认为错误是由于会话，因为它不会被设置！****

# unit-testing - AllOf Hamcrest 匹配器与 Maven

> ID：13892635
> 
> 赞同：2
> 
> 时间：2012-12-15T13:30:29.680
> 
> 标签：unit-testing, maven, hamcrest

跑步

```
assertThat(collection, allOf(hasItems(i1, i2, i3), hasSize(3)));
```

从 Eclipse (Run as -> Junit) 一切正常，但是当我执行 Maven 测试 ( ) 时，它在阶段`mvn clean test`失败，解释如下`test-compile`

```
[ERROR] The method allOf(Matcher<? super T>, Matcher<? super T>) in the type AllOf<T> is not applicable for the arguments (Matcher<Iterable<Song>>, Matcher<Collection<? extends Object>>) 
```

依赖项是

```
<dependency>
  <groupId>org.hamcrest</groupId>
  <artifactId>hamcrest-all</artifactId>
  <version>1.3</version>
  <scope>test</scope>
</dependency>
<dependency>
  <groupId>junit</groupId>
  <artifactId>junit-dep</artifactId>
  <version>4.10</version>
  <scope>test</scope>
  <exclusions>
    <exclusion>
      <artifactId>hamcrest-core</artifactId>
      <groupId>org.hamcrest</groupId>
    </exclusion>
  </exclusions>
</dependency> 
```

我究竟做错了什么？

谢谢

斯特凡诺

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-17T08:30:33.133

您必须为方法`hasItems`和指定类型参数`hasSize`。编译器的自动类型推断不适用于您的情况。要指定类型参数，您不能使用静态导入的方法，而是使用它们的声明类来限定它们 -`Matchers.<Song>hasItems(i1,i2,i3)`例如。

# c# - 如何使用 AsParallel() / Parellel.ForEach() 的 C# 编码指南

> ID：13892636
> 
> 赞同：2
> 
> 时间：2012-12-15T13:30:40.837
> 
> 标签：c#, .net, multithreading, parallel-processing

我想计算 10 000 个文本的 Jaccard 相似度。Jaccard 相似度很容易计算：相交的长度除以并集的长度。

```
string sTtxt1 = "some text one";
string sTtxt2 = "some text two";
string sTtxt3 = "some text three";
HashSet<string[]> hashText= new HashSet<string[]>();
hashText.Add(sTtxt1);
hashText.Add(sTtxt2);
hashText.Add(sTtxt3);
double[,] dSimilarityValue;

for (int i = 0; i < hashText.Count; i++)
{
   dSimilarityValue[i, i] = 100.00;
   for (int j = i + 1; j < dSimilarityValue.Count; j++)
   {
      dSimilarityValue[i, j] = (double) hashText.ElementAt(i).Intersect(hashText.ElementAt(j)).Count() / (double) hashText.ElementAt(i).Union(hashText.ElementAt(j)).Count();
   }
} 
```

使用 .NET4，我应该使用哪些规则来并行化？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:39:00.007

只需使内循环平行

[平行班](http://msdn.microsoft.com/en-us/library/dd989744.aspx)

```
Parallel.For(0, N, i =>
{
   // Do Work.
}); 

Parallel.For(j, dSimilarityValue.Count, i =>
{
   dSimilarityValue[i, j] = 
    (double)hashText.ElementAt(i).Intersect(hashText.ElementAt(j)).Count() / 
    (double)hashText.ElementAt(i).Union(hashText.ElementAt(j)).Count();
}); 
```

而且我认为最好在 new 中声明数组的大小。
不知道你说的“规则”是什么意思。

# delphi - Delphi反序列化中表单显示的访问冲突

> ID：13892637
> 
> 赞同：0
> 
> 时间：2012-12-15T13:30:47.293
> 
> 标签：delphi, delphi-xe2

我通过序列化和反序列化表单及其内容到Delphi编写了以下代码

```
unit SerAndDeser;

interface

  uses Classes,MainForm,ListOfTables,DataOfTable,SerialForms,sysutils,ActiveX, DatabaseClasses, UnloadProcs;

  procedure Ser();
  procedure Deser();
  function GetGUID(): string;
  function DeleteSymbols(inputstr : string) : string;
implementation

  function GetGUID(): string;
  var
  GUID : TGUID;
  begin
  Result := '';
  if CoCreateGuid(GUID) = 0 then
    Result := GUIDToString(GUID);
    Result := StringReplace(Result, '{', '', []);
    Result := StringReplace(Result, '}', '', []);
    Result := StringReplace(Result, '-', '', [rfReplaceAll]);
  end;

  function DeleteSymbols(inputstr : string): string;
  begin
  Result := '';
    Result := StringReplace(inputstr, '-', '', [rfReplaceAll]);
    Result := StringReplace(Result, ' ', '', [rfReplaceAll]);
    Result := StringReplace(Result, '\', '', [rfReplaceAll]);
    Result := StringReplace(Result, '/', '', [rfReplaceAll]);
  end;

  procedure Ser();

    var mForm : MainFormInfo;
        tForm : TableFormInfo;
        lForm : ListFormInfo;
        tempFmtable : TfmTableData;
        i,j : integer;
        MyFileStream : TFileStream;
        MyMemoryStream : TMemoryStream;
        field : TableFieldInfo;
  begin
        try
      mForm := nil;

      mForm := MainFormInfo.Create(
        nil,
        MainWindow.Left,
        MainWindow.Top,
        MainWindow.Height,
        MainWindow.Width,
        MainWindow.partofconnectstring,
        MainWindow.dbname,
        MainWindow.dbfilename);
      mForm.Name := 'MainWindow';

      //table forms
      try
        tForm := nil;
        field := nil;

        for i := 0 to MainWindow.ComponentCount - 1 do
          if (MainWindow.Components[i] is TfmTableData) then
            begin
              tempFmtable := MainWindow.Components[i] as TfmTableData;
              tForm := TableFormInfo.Create(
                mForm,
                tempFmtable.Left,
                tempFmtable.Top,
                tempFmtable.Height,
                tempFmtable.Width,
                tempFmtable.tname);
              tForm.Name := tempFmtable.Name;

              //fields
              for j := 0 to tempFmtable.DBGrid1.Columns.Count - 1 do
              begin
                field := nil;

                field := TableFieldInfo.Create(
                  tForm,
                  tempFmtable.DBGrid1.Columns[j].FieldName,
                  tempFmtable.DBGrid1.Columns[j].Title.Caption,
                  tempFmtable.DBGrid1.Columns[j].Index,
                  tempFmtable.DBGrid1.Columns[j].Visible);
                  field.Name := DeleteSymbols(tempFmtable.DBGrid1.Columns[j].FieldName);{tempFmtable.DBGrid1.Columns[j].FieldName} {+ GetGUID;}
              end;
              //

            end;
      except
        field.Free;
        tForm.Free;
      end;
      //

      //List form
      try
        lForm := nil;
        lForm := ListFormInfo.Create(
          mForm,
          fmListOfTables.Left,
          fmListOfTables.Top,
          fmListOfTables.Height,
          fmListOfTables.Width);
        lForm.Name := 'fmListOfTables';
      except
        lForm.Free;
      end;
      //

      //save
      MyFileStream := nil;
      MyMemoryStream := nil;

      MyFileStream := TFileStream.Create('test.txt', fmCreate);
      MyMemoryStream := TMemoryStream.Create;
      MyMemoryStream.WriteComponent(mForm);
      MyMemoryStream.Position := 0;
      ObjectBinaryToText(MyMemoryStream,MyFileStream);
      MainWindow.Panel1.DockManager.SaveToStream(MyFileStream);
      //

    finally
      mForm.Free;
      MyFileStream.Free;
      MyMemoryStream.Free;
    end;
  end;

  procedure Deser();

    var mForm : MainFormInfo;
        tForm : TableFormInfo;
        lForm : ListFormInfo;
        tempFmtable : TfmTableData;
        i,j : integer;
        MyFileStream : TFileStream;
        MyMemoryStream : TMemoryStream;
        table : TTableSpec;
        descr : string;
        field : TableFieldInfo;

  begin
    try
      //destroy environment
      i := 0;
      while (i <= MainWindow.ComponentCount - 1) do
      begin
        if MainWindow.Components[i] is TfmTableData then
          try
            tempFmTable := nil;
            tempFmTable := MainWindow.Components[i] as TfmTableData;
            tempFmTable.IBQuery1.Close;
            tempFmtable.Free;
          except
            tempFmTable.Free;
          end
        else
          inc(i);
      end;
      fmListOfTables.Free;
      DBSchema.Free;
      //

      //read
      mForm := nil;
      MyFileStream := nil;
      MyMemoryStream := nil;

      mForm := MainFormInfo.Create(nil, -1, -1, -1, -1, MainWindow.partofconnectstring, MainWindow.dbname, MainWindow.dbfilename);

      MyFileStream := TFileStream.Create('test.txt', fmOpenRead);
      MyMemoryStream := TMemoryStream.Create;
      ObjectTextToBinary(MyFileStream,MyMemoryStream);
      MyMemoryStream.Position := 0;
      MyMemoryStream.ReadComponent(mForm);
      //

      //go
      UnloadProcs.ConnectToDatabase(MainWindow.partofconnectstring, MainWindow.SQLConnection1);
      //UnloadProcs.CreateObjs(MainWindow.SQLConnection1, MainForm.DBSchema);
      //fmListOfTables.Show;

      MainWindow.Left := mForm.LeftValue;
      MainWindow.Top := mForm.TopValue;
      MainWindow.Height := mForm.HeightValue;
      MainWindow.Width := mForm.WidthValue;

      //list
      i := 0;
      while i <= mForm.ComponentCount - 1 do
      begin
        if mForm.Components[i] is ListFormInfo then
          try
            lForm := nil;
            lForm := mForm.Components[i] as ListFormInfo;
            fmListOfTables.Left := lForm.LeftValue;
            fmListOfTables.Top := lForm.TopValue;
            fmListOfTables.Height := lForm.HeightValue;
            fmListOfTables.Width := lForm.WidthValue;
            fmListOfTables.Show;
            inc(i);
          finally
            lForm.Free;
          end
        else
          inc(i);
      end;
      //

      //fmListOfTables.Show;
      //tables
      for j := 0 to mForm.ComponentCount - 1 do
        if mForm.Components[j] is TableFormInfo then
          try
            table := nil;
            tempFmtable := nil;
            tForm := nil;

            tForm := mForm.Components[j] as TableFormInfo;

            table := TTableSpec(DBSchema.Tables.FindComponent(tForm.Table));
            tempFmtable := TfmTableData.Create(MainWindow);
            tempFmtable.Name := tForm.Name;
            tempFmtable.tname := tForm.Table;
            //tempFmtable.Caption := Utf8ToAnsi(table.Description);
            tempFmtable.Left := tForm.LeftValue;
            tempFmtable.Top := tForm.TopValue;
            tempFmtable.Height := tForm.HeightValue;
            tempFmtable.Width := tForm.WidthValue;

            tempFmtable.IBQuery1.SQL.Add('select * from ' + table.Name);
            tempFmtable.IBQuery1.Open;

            i := 0;
            while i <= tForm.ComponentCount - 1 do
              if tForm.Components[i] is TableFieldInfo then
              begin
                field := nil;

                field := tForm.Components[i] as TableFieldInfo;
                tempFmtable.DBGrid1.Columns[i].FieldName := field.FieldNameValue;
                tempFmtable.DBGrid1.Columns[i].Title.Caption := field.DescriptionValue;
                tempFmtable.DBGrid1.Columns[i].Index := field.IndexValue;
                tempFmtable.DBGrid1.Columns[i].Visible := field.VisibleValue;
                //tempFmtable.CheckListBox1.Items.Add(field.Description);
                //tempFmtable.CheckListBox1.Checked[i] := field.Visible;
                inc(i);
              end
              else
                inc(i);

            {for i := 0 to table.Fields.ComponentCount - 1 do
            begin
              descr := Utf8ToAnsi(((table.Fields.Components[i]) as TFieldSpec).Description);
              tempFmtable.CheckListBox1.Items.Add(descr);
              tempFmtable.DBGrid1.Columns[i].Title.Caption := descr;
              tempFmtable.CheckListBox1.Checked[i] := true;
            end; }

            tempFmtable.Show;

          except
            tempFmtable.Free;
            tForm.Free;
            table.Free;
          end;
      //

      //dock
      MainWindow.Panel1.DockManager.BeginUpdate;
      MainWindow.Panel1.DockManager.LoadFromStream(MyFileStream);
      MainWindow.Panel1.DockManager.ResetBounds(TRUE);
      MainWindow.Panel1.DockManager.EndUpdate;

      //
    finally
      MyFileStream.Free;
      MyMemoryStream.Free;
    end;

  end;

end. 
```

调试时，我发现在行出现“地址访问冲突”异常

```
fmListOfTables.Show; 
```

在以下代码块中的代码更高

```
 i := 0;
      while i <= mForm.ComponentCount - 1 do
      begin
        if mForm.Components[i] is ListFormInfo then
          try
            lForm := nil;
            lForm := mForm.Components[i] as ListFormInfo;
            fmListOfTables.Left := lForm.LeftValue;
            fmListOfTables.Top := lForm.TopValue;
            fmListOfTables.Height := lForm.HeightValue;
            fmListOfTables.Width := lForm.WidthValue;
            fmListOfTables.Show;
            inc(i);
          finally
            lForm.Free;
          end
        else
          inc(i);
      end; 
```

异常原点后，照明线移动为线

```
function TCustomForm.IsFormSizeStored: Boolean;
begin
  Result := AutoScroll or (HorzScrollBar.Range <> 0) or (VertScrollBar.Range <> 0);
end; 
```

来自 Vcl.Forms 中的模块。帮助消除错误。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T13:35:28.097

你有这行代码：

```
fmListOfTables.Free; 
```

其次是：

```
fmListOfTables.Left := lForm.LeftValue;
fmListOfTables.Top := lForm.TopValue;
fmListOfTables.Height := lForm.HeightValue;
fmListOfTables.Width := lForm.WidthValue;
fmListOfTables.Show; 
```

在这两者之间你没有分配任何东西给`fmListOfTables`.

这意味着`fmListOfTables`它没有引用有效的对象。因此，您可以预期运行时错误。

# nlp - 在斯坦福 CoreNLP 中提取实体之间的关系

> ID：13892638
> 
> 赞同：13
> 
> 时间：2012-12-15T13:30:52.620
> 
> 标签：nlp, stanford-nlp

我想使用斯坦福 CoreNLP（或其他工具）提取两个实体之间的完整关系。

例如：

> Windows*比*Linux 更受欢迎。
> 
> 此工具*需要*Java。
> 
> 足球是世界*上最受欢迎的运动*。

最快的方法是什么？什么是最好的做法？

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-16T06:51:35.343

[ReVerb](http://reverb.cs.washington.edu/)专注于**Open IE**。您可以先阅读他们的论文“ [Identifying Relations for Open Information Extraction](http://dl.acm.org/citation.cfm?id=2145596) ”并查看[演示](http://openie.cs.washington.edu/)站点。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-18T00:52:16.353

您可能正在寻找名词之间的依赖关系。斯坦福解析器提供了这样的输出。看看[这里](http://nlp.stanford.edu/software/stanford-dependencies.shtml)。您可以将 Pete 所说的内容（即 POS 图）与依赖图结合起来，以确定一对名词（或名词短语）共享什么关系（例如，直接宾语或名词性主语等）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-15T17:26:35.293

因此，您正在寻找链接名词短语的动词短语。这在斯坦福 CoreNLP 中实际上非常简单。只需通过管道运行它并遍历 POS 图即可得到你想要的。你必须想出处理复杂句子的方法，当然你会想使用共同指代系统来处理回指。

这很重要，所以你能把你的问题分解成一个可以回答的问题吗？如果您的问题是，这可能吗？那么答案是肯定的。如果是“我该怎么做？” 那么我建议您开始使用该系统并自己回答该问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-22T19:00:42.230

[斯坦福关系提取器](http://nlp.stanford.edu/software/relationExtractor.html)是coreNLP 管道的一部分。它由“relation”指定，并且至少依赖于“ner”和“parse”、命名实体识别和解析器注释器。

# javascript - mustache.js 中的 switch 语句

> ID：13892640
> 
> 赞同：3
> 
> 时间：2012-12-15T13:30:59.423
> 
> 标签：javascript, templates, mustache

有没有办法在 Mustache.js 中进行 switch 语句

我有一个变量，它可以是四个不同的值之一。取决于它的值，我想输出略有不同的模板。

有没有办法做到这一点？

PS我看过这个[问题](https://stackoverflow.com/questions/10117862/switch-case-in-mustachejs)，但是这个问题听起来是一样的，但是在答案中，这个人正在回答如何实现if/else功能，我可以在[这里](https://stackoverflow.com/questions/6027525/how-do-i-accomplish-an-if-else-in-mustache-js)找到。

关于代码的解释：

我有一个模板列表

```
var templates = {
    friends :
        'here there is some html with {{vars}}'+
        'and a button on which I have to write something like'+
        'add to friends | already your friend | invitation was sent | your invitation was rejected'
    }
} 
```

所以基本上我正在做一个 ajax 调用并连同`vars`它一起返回我`type`，这可能是以下事情之一`0,1,2,3`。取决于此，我必须编写特定的文本

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T14:55:35.227

**编辑：**我假设您使用的是 javascript。看到您的用例后，您可以通过将函数传递给 mustache 来解决此问题，例如：

```
function getType(){
    switch(viewObject.typeid){
    //your cases here return what you want the function to print
    }
} 
```

现在，您发送给 mustache 的对象应该具有 typeid，这将允许您将逻辑从 Mustache（同样是无逻辑​​的）移回 javascript。然后你可以放入`{{{getType}}}`你的代码。

**原来的：**

如果我可能会问，您需要 switch/case 语句的具体用途是什么？使用 Mustache 可能有一个更简单的解决方案。我已经编写了很多 Mustache 代码，并且从未遇到过通过使用视图模型传递函数并不能更好地解决的“switch-case”场景

请记住，您可以将函数作为参数传递给 Mustache，这将允许您将逻辑从 Mustache 移回视图模型，这（大多数情况下）是一件好事。

如果不是这种情况，您可以随时切换车把：

Mustache 用于无逻辑模板。如果你发现你的模板有太多的逻辑，Mustache 可能不是你的正确选择，你可以使用 Handlebars 来代替 Mustache，你拥有的任何当前的 mustache 代码都将继续工作。

[http://handlebarsjs.com/](http://handlebarsjs.com/)

虽然把手不包含 switch-case 语句，但它允许您以更简单的方式编写 if/else 语句，并且它允许您定义可以完成您的功能的辅助函数。

# php - 将 MySQL 查询重构为单个查询

> ID：13892642
> 
> 赞同：0
> 
> 时间：2012-12-15T13:31:16.247
> 
> 标签：php, mysql

有没有这样做的好方法。

基本上我有一百行，我按升序排序以找到最不受欢迎的。如果至少不是唯一的，我显然关心子集的大小 - 具有相等“流行”（人气排名）的行数。为了确定这个子集的大小，我有以下代码。

然而，作为一个新手，我意识到这似乎有点笨拙。

```
$leastpop = mysql_query(" SELECT * FROM homepage ORDER BY pop ASC   LIMIT 1 ");

$pop = mysql_fetch_array($leastpop); 

$check = mysql_query("SELECT * FROM homepage WHERE pop = '$pop'");  

$count = mysql_num_rows($check);

if($count>=1)
{
//find the element with the corresponding "oldest date"

} 
```

就目前而言，如果该子集的大小被证明大于一个，我什至没有尝试确定子集中的“最旧日期”，因为害怕重复相同的笨拙查询。

有没有更好更有效的方法来解决这个问题？我希望我已经足够清楚了。干杯。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:38:05.730

也许尝试按照这些方式进行查询会有所帮助：

`select pop, count(*), min(date_field) from homepage group by pop order by pop ASC limit 1;`

这将为您提供最不受欢迎的流行音乐，其中包含该流行音乐的行数和最早的日期（最小日期）。这些函数称为聚合函数，因为它们就是这样做的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:42:36.373

如果可能，不要再使用`mysql_*`新代码，去`mysqli`或`PDO`.

```
 SELECT h1.* FROM homepage h1
 LEFT JOIN homepage h2
 ON h2.pop <= h1.pop AND h2.date_column <= h1.date_column
 WHERE h2.id IS NULL; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:50:28.320

假设您想要最旧的日期最不受欢迎，您只需要一个（简单...）查询：

```
SELECT * FROM homepage ORDER BY pop, insert_date LIMIT 1 
```

如果有多个记录匹配相同的条件，mysql 只会给你它找到的第一个。如果这还不够具体，您将不得不添加更多标准；使用`WHERE`或向`ORDER BY`子句添加更多字段。

如前所述，这些`mysql_*`功能已被弃用，因此您应该切换到 PDO 或 mysqli。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T13:51:01.373

您还可以使用子查询：

```
$check = mysql_query("SELECT * FROM homepage WHERE pop IN (SELECT h2.pop FROM homepage AS h2 ORDER BY h2.pop ASC LIMIT 1)"); 
```

# c# - 当我在 c# 中使用 Lock 时，为什么我得到：“集合已修改；枚举操作可能无法执行。”

> ID：13892646
> 
> 赞同：5
> 
> 时间：2012-12-15T13:31:41.847
> 
> 标签：c#

我修改了枚举集合，但是，我在它周围加了锁……它不明白为什么我得到“集合已修改；枚举操作可能无法执行”。我不想解决它：“foreach（_observers.ToList（）中的IObserver obs）”

代码是观察者模式：

```
class Program
{
    static void Main(string[] args)
    {
        Subject sub = new Subject();
        Obs1 obs1 = new Obs1(sub);
        Obs2 obs2 = new Obs2(sub);

        sub.Nodefiy();
        sub.Nodefiy();
        sub.Nodefiy();
        sub.Nodefiy();
        sub.Nodefiy();
        sub.Nodefiy();

        Console.ReadKey();
    }
}

public interface IObserver
{
    void Update(int data);
}

public interface ISubscrib
{
    void Reg(IObserver obs);
    void UnReg(IObserver obs);
    void Nodefiy();
}

public class Subject : ISubscrib
{
    private static Object _lock;
    private List<IObserver> _observers;
    private int data = 0;

    public Subject()
    {
        _lock = new Object();
        _observers = new List<IObserver>();
    }

    public void Reg(IObserver obs)
    {
        lock (_lock)
        {
            _observers.Add(obs);
        }
    }

    public void UnReg(IObserver obs)
    {
        lock (_lock)
        {
            int ind = _observers.IndexOf(obs);
            if (ind >= 0)
            {
                _observers.RemoveAt(ind);
            }
        }
    }

    public void Nodefiy()
    {
        data = data + 1;
        lock (_lock)
        {
            int sentData = data;
            //foreach (IObserver obs in _observers.ToList<IObserver>())
            foreach (IObserver obs in _observers)
            {
                obs.Update(sentData);
            }
        }
    }
}

public class Obs1 : IObserver
{
    private ISubscrib _subj;
    public Obs1(ISubscrib subj)
    {
        _subj = subj;
        _subj.Reg(this);
    }

    public void Update(int data)
    {
        Console.WriteLine("Obs1: {0}", data);
    }
}

public class Obs2 : IObserver
{
    private ISubscrib _subj;

    public Obs2(ISubscrib subj)
    {
        _subj = subj;
        _subj.Reg(this);
    }

    public void Update(int data)
    {
        Console.WriteLine("Obs2: {0}", data);
        if (data > 3)
        {
            _subj.UnReg(this);
        }
    }
} 
```

谁能帮我？谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T15:10:06.717

当您的 Obj2 在此 foreach 循环中调用 Update 时，它​​将返回您的 Subject 对象并在同一线程中修改此 _observers 集合。这就是锁不起作用的原因。这不是同步问题。您的问题发生在同一个线程中。

我不确定您在这段代码中要做什么，所以我无法提供进一步的帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:44:30.980

问题是我认为......当您迭代 _observers 列表时，您还可以添加或修改来自另一个线程的集合。

你可以同步线程，你应该这样做，因为如果你尝试访问一个被移除的观察者，那么即使是像使用 for 和索引器这样的解决方案也无济于事。

尝试研究[Mutexes](http://msdn.microsoft.com/en-us/library/system.threading.mutex.aspx)以实现一种方式，即当一个线程迭代集合时，另一个线程将等到它完成后再修改集合。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-15T13:38:08.110

锁与线程同步有关，我不确定您为什么认为这会对您有所帮助。

在修改该集合的过程中，您无法枚举该集合（请参阅所有相关问题）。将你的 foreach 改为：

```
for (int i = _observers.Count-1; i >= 0; i--) {
        _observers[i].Update(sentData);
} 
```

# javascript - 优化我的 jQuery 代码的编写方式

> ID：13892653
> 
> 赞同：0
> 
> 时间：2012-12-15T13:32:50.483
> 
> 标签：javascript, jquery, optimization

我目前刚刚开始学习 jQuery，我似乎能够让它按我想要的方式工作，但我觉得我编写它的方式不是很有效。任何人都可以在下面的这个例子中帮助我：

```
$('.tiles-wrapper').css({top:'50%',left:'50%',margin:'-'+($('.tiles-wrapper').height() / 2)+'px 0 0 -'+($('.tiles-wrapper').width() / 2)+'px'});

    $(window).resize(function() {
        $('.tiles-wrapper').css({top:'50%',left:'50%',margin:'-'+($('.tiles-wrapper').height() / 2)+'px 0 0 -'+($('.tiles-wrapper').width() / 2)+'px'});
    }); 
```

所以在这里我将一个 div 定位在屏幕的中心。然后它还会在调整窗口大小时再次执行此操作，因为它的内容宽度属性是百分比值。它工作得很好，但我不禁觉得必须有更好的方法来写这个。任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:35:15.533

您可以缓存对象并触发调整大小事件，这样调整大小处理程序就会在 DOM Ready 上执行。

```
$(window).resize(function() {
    var $elem = $('.tiles-wrapper');
    $elem.css({
        top: '50%',
        left: '50%',
        margin: '-' + ($elem.height() / 2) + 'px 0 0 -' + ($elem.width() / 2) + 'px'
    });
}).resize() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:43:40.473

```
var $tilesWrapper = $('.tiles-wrapper');

function setWrapperStyle () {
  var halfWidth = $tilesWrapper.width() * 0.5;
  var halfHeight = $tilesWrapper.height() * 0.5;
  $tilesWrapper.css({
    top: '50%',
    left: '50%',
    margin: '-' + halfHeight + 'px 0 0 -' + halfWidth + 'px'
  });
}

setWrapperStyle();
$(window).on('resize', setWrapperStyle); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:43:41.710

你应该用你的第一行做一个函数：

```
function center(){
    $('.tiles-wrapper').css({top:'50%',left:'50%',margin:'-'+($('.tiles-wrapper').height() / 2)+'px 0 0 -'+($('.tiles-wrapper').width() / 2)+'px'});
} 
```

然后你第一次调用它，当你调整窗口大小时调用它：

```
center();
$(window).resize(center); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T14:21:30.507

你真的需要 jquery 吗？可以直接使用css

```
.tiles-wrapper{
top:50% ;
left:50% ;
width: //what u given
height: //what u given
margin-left: //tiles width/2
margin-right: //tiles height/2
position: //absolute or float
} 
```

如果您想动态计算高度和宽度，只需将其写在准备好的文档上

```
var $elem = $('.tiles-wrapper');
    $elem.css({
        top: '50%',
        left: '50%',
        margin: '-' + ($elem.height() / 2) + 'px 0 0 -' + ($elem.width() / 2) + 'px'
    }); 
```

在重新调整大小时，它将自动位于中心位置。

# html - 在 Twitter 引导程序中的导航栏下方添加图像

> ID：13892663
> 
> 赞同：0
> 
> 时间：2012-12-15T13:33:41.577
> 
> 标签：html, css, twitter-bootstrap

由于以下线路，我遇到了 Bootstrap 的问题：

```
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" href="/"></a>
        </div>
    </div>
</div>

<div id="main_top">
    <div class="container">
        <div class="row">
            <div class="span12">
                            ... 
```

在 main_top 我有一个背景图片。由于以下代码，当我调整浏览器大小时会出现问题：

```
@media (max-width: 979px)
.navbar-fixed-top {
margin-bottom: 20px;
} 
```

基本上，当浏览器宽度 < 979 时，由于 20px 边距，会出现一条白线。

你能帮我修一下吗？我还在这里创建了一个示例：http: [//jsfiddle.net/TxRgF/](http://jsfiddle.net/TxRgF/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-16T14:35:11.953

[**工作演示**](http://jsfiddle.net/ryjMT/3/)

那这个呢：

```
@media (max-width: 979px){
    body{
      padding-left:0 !important;
      padding-right: 0 !important;
    }

   .navbar-fixed-top {
      margin-bottom: 0px !important;
   } 

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:09:47.410

在该宽度下，主体具有左右填充。在 CSS 的末尾添加此类。

```
@media (max-width: 767px){
  body {
   padding-left:0 !important;
   padding-right: 0 !important;
 }
} 
```

[http://jsfiddle.net/simply_simpy/ryjMT/2/](http://jsfiddle.net/simply_simpy/ryjMT/2/)

您将需要向其他元素添加填充以进行补偿。​</p>

# go - 如何读取文件，如果它不是有效的 UTF-8，则中止错误？

> ID：13892667
> 
> 赞同：6
> 
> 时间：2012-12-15T13:34:26.067
> 
> 标签：go

在 Go 中，我想逐行读取文件，读入`str`'s 或`[]rune`'s。

该文件应该以 UTF-8 编码，但我的程序不应该信任它。如果它包含无效的 UTF-8，我想正确处理错误。

有`bytes.Runes(s []byte) []rune`，但没有错误返回值。遇到无效的 UTF-8 会恐慌吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-15T14:00:47.967

例如，

```
package main

import (
    "bufio"
    "fmt"
    "io/ioutil"
    "os"
    "strings"
    "unicode/utf8"
)

func main() {
    tFile := "text.txt"
    t := []byte{'\xFF', '\n'}
    ioutil.WriteFile(tFile, t, 0666)
    f, err := os.Open(tFile)
    if err != nil {
        fmt.Println(err)
        os.Exit(1)
    }
    defer f.Close()
    r := bufio.NewReader(f)
    s, err := r.ReadString('\n')
    if err != nil {
        fmt.Println(err)
        os.Exit(1)
    }
    s = strings.TrimRight(s, "\n")
    fmt.Println(t, s, []byte(s))
    if !utf8.ValidString(s) {
        fmt.Println("!utf8.ValidString")
    }
} 
```

输出：

```
[255 10] � [255]
!utf8.ValidString 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-15T14:01:09.293

例如：

```
import (
    "io/ioutil"
    "log"
    "unicode/utf8"
)

// ...

buf, err := ioutil.ReadAll(fname)
if error != nil {
        log.Fatal(err)
}

size := 0
for start := 0; start < len(buf); start += size {
        var r rune
        if r, size = utf8.DecodeRune(buf[start:]); r == utf8.RuneError {
                log.Fatalf("invalid utf8 encoding at ofs %d", start)
        }
} 
```

[utf8.DecodeRune](http://golang.org/pkg/unicode/utf8/) godocs：

> DecodeRune 解压缩 p 中的第一个 UTF-8 编码并返回符文及其宽度（以字节为单位）。如果编码无效，则返回 (RuneError, 1)，这是正确 UTF-8 的不可能结果。

# asp.net - WebResource.axd 加密字符串？

> ID：13892668
> 
> 赞同：2
> 
> 时间：2012-12-15T13:34:31.187
> 
> 标签：asp.net, html, webresource

在查看由 .ASP 生成的页面的源代码（我是菜鸟）时，我有时会看到通过 WebResource.axd?d= 引用的源代码，后面跟着一个非常长且不可读的字母和数字字符串。我会猜测并说它是一个指向库中脚本（基于我看到的脚本标签）的指针？

```
<script src="/Portal/WebResource.axd?d=amy4Qb3YKPApQh4cMI21MoSwRmquuliNIlSx7bF7geaDZ56xwuLIPLkQdH_fNIrpB_hHiKLdv041_WJ1yWe27HSI4a5Spexg3Tg9fHZd33Q1&amp;t=634666000000418502" type="text/javascript"></script> 
```

我接近了吗？这个字符串是如何生成的？是系统自动创建的吗？例如，作为开发人员，如果我键入`<script src="/folder/myscript.js">`WebResource 是否会在服务器端将其转换为这个长字符串并以这种方式返回，也许是为了安全？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:31:24.857

WebResource.axd 实际上是一个[HTTP 处理](http://msdn.microsoft.com/en-us/library/bb398986%28VS.100%29.aspx)程序，用于从程序集中加载嵌入式资源。它是[AssemblyResourceLoader](http://msdn.microsoft.com/en-us/library/system.web.handlers.assemblyresourceloader.aspx)处理程序，并在`Config\web.config`您正在使用的框架版本的文件中定义。这是定义：

```
<add path="WebResource.axd" verb="GET" type="System.Web.Handlers.AssemblyResourceLoader" validate="True" /> 
```

请参阅文章[WebResource.axd 在哪里？](http://scottonwriting.net/sowblog/archive/2010/10/28/just-where-is-webresource-axd.aspx)了解更多信息。文章摘录如下。

> 答案是 WebResource.axd。WebResource.axd 是一个 HTTP 处理程序，它是 .NET 框架的一部分，它只做一件事 - 它的任务是从 DLL 中获取嵌入式资源并返回其内容。通过查询字符串指定要转到的 DLL 和要采用的嵌入式资源。例如，对 www.yoursite.com/WebResource.axd?d=EqSMS...&t=63421... 的请求可能会返回嵌入在特定程序集中的特定 JavaScript 片段。d 查询字符串参数包含指定要返回的程序集和资源的加密信息；t querystring 参数是一个时间戳，用于仅允许在特定时间窗口内使用该 URL 对该资源进行请求。

# php - CakePHP 在 URL 中隐藏动作名称，同时传递参数

> ID：13892669
> 
> 赞同：0
> 
> 时间：2012-12-15T13:34:37.673
> 
> 标签：php, cakephp, cakephp-2.0, url-routing

我有这样的结构：

*   example.com/MyController/index/MyGoodPage/maximum/
*   example.com/MyController/index/MyBestPage/optimize/
*   example.com/MyController/index/MyFancyPage/lowprice/

但我不希望我的访问者看到“索引”这个词，因为它不会给他/她提供更多信息。我需要这样的网址：

*   example.com/MyController/MyGoodPage/maximum/
*   example.com/MyController/MyBestPage/optimize/
*   example.com/MyController/MyFancyPage/lowprice/

但是要以默认的 Cake 方式执行此操作，我需要创建单独的数百个操作来处​​理我的情况。我不想创建它们所有的动作，我需要创建一个动作，然后显示有关的相关内容`request->params['pass']`。

是否可以？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:53:18.570

这是路由的工作：[http](http://book.cakephp.org/2.0/en/development/routing.html) : //book.cakephp.org/2.0/en/development/routing.html 这实际上是核心 PagesController`display`方法的默认设置：

```
Router::connect('/pages/*', array('controller' => 'pages', 'action' => 'display')); 
```

你可以为你的控制器做同样的事情

```
Router::connect('/controller_name/*', array('controller' => 'controller_name', 'action' => 'index')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-16T02:00:23.400

您已经选择了一个答案，但这里有一个更好的答案。

`Router::connect('/controller_name/*', array(...));` 如上所述将匹配任何内容，因此您无法再访问`/controller_name/delete`或任何其他方法。

您应该选择不那么贪婪的路线，例如`Router::connect('/contorller_name/:something', array(...));`并指定像 [maximum|optimum|lowprice] 这样的正则表达式。

这样做，您还可以指定`something`要传递给控制器​​的，它将作为`$this->request->something`

# android - 第一次做安卓开发

> ID：13892670
> 
> 赞同：0
> 
> 时间：2012-12-15T13:34:55.037
> 
> 标签：android

我一直在尝试使用来自互联网的示例和代码来开发我的第一个 android 应用程序。跟随他们，我收到以下错误

```
**"Brew_Time_Add cannot be resolved or is not a field."** 
```

对于代码中的行

```
**Button brewAddTime = (Button) findViewById(R.id.brew_time_up);** 
```

**这部分的 xml -**

```
<LinearLayout
    android:orientation="horizontal"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:gravity="center"
    android:padding="10dip">
    <Button
      android:id="@+id/brew_time_down"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="-"
      android:textSize="40dip" />
    <TextView
      android:id="@+id/brew_time"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="0:00"
      android:textSize="40dip"
      android:padding="10dip" />
    <Button
      android:id="@+id/brew_time_up"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="+"
      android:textSize="40dip" />
  </LinearLayout> 
```

**相同的Java代码 -**

```
protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Button brewAddTime = (Button) findViewById(R.id.brew_time_up);
        Button brewDecreaseTime = (Button) findViewById(R.id.brew_time_down);
            Button startBrew = (Button) findViewById(R.id.brew_start);
            TextView brewCountLabel = (TextView) findViewById(R.id.brew_count_label);
            TextView brewTimeLabel = (TextView) findViewById(R.id.brew_time);

    } 
```

为什么会出现错误以及如何解决？

请参阅图片 - [http://db.tt/kbjq6u5o](http://db.tt/kbjq6u5o)

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T15:38:26.660

您在布局中缺少 xmls 声明 - 将 xmlns:android="http://schemas.android.com/apk/res/android" 添加到您的布局中，如下所示：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="horizontal"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_weight="1"
android:gravity="center"
android:padding="10dip">
<Button
  android:id="@+id/brew_time_down"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:text="-"
  android:textSize="40dip" />
<TextView
  android:id="@+id/brew_time"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:text="0:00"
  android:textSize="40dip"
  android:padding="10dip" />
<Button
  android:id="@+id/brew_time_up"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:text="+"
  android:textSize="40dip" /> 
```

尽管 brew_start 和 brew_count_label 仍然存在错误，因为它们不在 xml 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:38:20.260

你的布局中有这样的图像吗？如果你有然后保存你的项目并清理它。

必须进行项目-> 清理以清理它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-11T03:59:16.193

在布局文件中添加这些。您的布局文件缺少这 2 个元素

```
<TextView
 android:id="@+id/brew_count_label"
 android:layout_width="wrap_content"
 android:layout_height="wrap_content"
 android:text="0:00"
 android:textSize="40dip"
 android:padding="10dip" />
 <Button
 android:id="@+id/brew_start"
 android:layout_width="wrap_content"
 android:layout_height="wrap_content"
 android:text="Start"
 android:textSize="40dip" /> 
```

# android - 我如何知道 GCM 应用程序云中的注册设备（列出设备）

> ID：13892671
> 
> 赞同：10
> 
> 时间：2012-12-15T13:35:08.703
> 
> 标签：android, push-notification, google-cloud-messaging

1-假设我在 Google API 控制台中创建了 GCM 应用程序......

如何列出和查看在我的应用程序云中注册的所有设备

执行一个随机动作，比如向他们发送推送通知？

* * *

2- 如果我使用自己的服务器（如 Asp.net），我是否应该创建一个数据库来存储注册设备返回的注册 ID

* * *

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-15T13:50:11.023

> 如何列出和查看在我的应用程序云中注册的所有设备

没有 GCM 调用来执行此操作。您的应用程序需要告诉您的服务器用于 GCM 向该设备上的该应用程序广播的 ID，然后您的服务器需要将该数据存储在某处。

> 如果我使用自己的服务器（如 Asp.net），是否应该创建一个数据库来存储注册设备返回的注册 ID

数据库似乎是一个不错的选择。

# jquery - 如何使用jquery从onchange事件的下拉列表中获取值

> ID：13892677
> 
> 赞同：0
> 
> 时间：2012-12-15T13:35:28.717
> 
> 标签：jquery, jquery-selectors, struts2-jquery

我有一个 struts2-jquery 下拉列表，可以在其中选择不同的数据。如果用户选择任何数据，则发送选择框值。现在我的新要求是如何发送列表的 id 而不是列表中的值。

请检查我的以下代码，并为我的问题提出一个好的解决方案。

index.jsp：

```
<script type="text/javascript">  
 $(function(){
    $("#selectthemeid").change(function(e){
            var param = $(this).val(); 
            alert(param); //this is giving me my selectbox value but i want the selectbox  ID i.e (listKey="id")

         });  
 }); 
</script> 

     <sj:select   
      name="theme"    listKey="id"
      listValue="themeName" id="selectthemeid"  />` 
```

**从我上面的 struts2 选择框生成的 html 输出**

```
 <select name="theme" id="selectthemeid" theme="jquery" keynav:shortcut="36">  
    <option value="68">black-tie</option>
    <option value="69">blitzer</option>
    <option value="70">cupertino</option>
    <option value="71">dark-hive</option>
 </select> 
```

*我想要的是*： **我想要我的行的 id，即 68** （`<option value="68">`），目前从我上面的代码中我得到了选择框的值，即 black-tie（`<option value="68">black-tie</option>`）`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:36:54.223

您可以使用 this.id

```
 var id = this.id; //using javascript, will give performance benefit.
 id = $(this).attr('id'); //using jQuery 
```

如果您想访问 select 的其他属性，例如`listKey`

```
listKey = $(this).attr('listKey'); 
```

# php - Zend Form + Twitter bootstrap：创建 2 个 span 以显示相同的表单

> ID：13892678
> 
> 赞同：1
> 
> 时间：2012-12-15T13:35:43.410
> 
> 标签：php, zend-framework, twitter-bootstrap, zend-form, zend-decorators

试图在 Zend_Form 中完成这个自动表单，我几乎快要发疯了，我已经做了几乎所有事情，这一切都要感谢 Stackoverflow 社区。这就是我想做的，我会尽量让自己清楚（我很难解释自己-_-''）：

我已经做过的事情：将每个元素标签和输入包装在一个 div 中，每个元素都有一个适当的 twitter span 类来填充一个高级 div，表单本身接收一个数据数组并自动生成它。

我需要什么：我的高级 div 是跨度：12（在布局中）我需要内容有 2 个“跨度：6”div，并且每个 div 都包含相同形式的部分。

我想出的解决方案：

我的解决方案之一是单独获取每个元素并手动放置在每个 span6 div 中。另一种是在我的函数中创建一个“容器”参数，这样生成器就可以做到这一点（但我不知道如何使用 span 类创建 2 个 div 并将元素附加到相应的类中）

我希望你们明白我想要做什么以及我需要什么，谢谢=）

```
form/Usuario:

<?php
class Admin_Form_Usuario extends Zene_Form_Helper_Abstract
{
    protected $campo = null;
    /**
     * Initialize form (used by extending classes)
     *
     * @return void
     */

    public function init()
    {   

        //Valores dos Campos 
        $model = new Admin_Model_Usuario();
        $option = $model->getOptions();

        $modelPage = new Admin_Model_Page();
        $optionPage = $modelPage->getOptions();

        //Atributos dos Campos
        $this->campo = array(
                array('Tipo'=>'Text',   'Id'=>'UsuId',          'Label'=>'Código do Usuário',   'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'UsuId','Atributo'=>array('readonly'=>'true')),
                array('Tipo'=>'Select', 'Id'=>'UsuFunId',       'Label'=>'Funcionário',         'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'UsuFunId','Option'=>array(1=>'Guest',2=>'Charles')),
                array('Tipo'=>'Text',   'Id'=>'UsuLogin',       'Label'=>'Login do Usuário',    'Span' =>'12',  'Required'=>'true', 'Table'=>'Usuario','Field'=>'UsuId'),
                array('Tipo'=>'Pass',   'Id'=>'UsuSenha',       'Label'=>'Senha Usuário',       'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'UsuSenha'),
                array('Tipo'=>'Pass',   'Id'=>'ConfUsuSenha',   'Label'=>'Confirmar Senha',     'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'ConfUsuSenha'),
                array('Tipo'=>'Check',  'Id'=>'full_permission','Label'=>'Permissão Total',     'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'full_permission'),
                array('Tipo'=>'Check',  'Id'=>'UsuAtivo',       'Label'=>'Ativo',               'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'UsuAtivo'),
                array('Tipo'=>'Date',   'Id'=>'UsuDtAtivo',     'Label'=>'Data ativação',       'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'UsuDtAtivo','Atributo'=>array('readonly'=>'true')),
                array('Tipo'=>'Date',   'Id'=>'UsuDtDesativo',  'Label'=>'Data Desativação',    'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'UsuDtDesativo','Atributo'=>array('readonly'=>'true')),
                array('Tipo'=>'Select', 'Id'=>'Parent_id',      'Label'=>'Grupo',               'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'Parent_id','Option'=>$option),
                //array('Tipo'=>'MSelect','Id'=>'Parent_id',    'Label'=>'Grupo',               'Span' =>'6',   'Required'=>'true', 'Table'=>'Usuario','Field'=>'Parent_id','Option'=>$option),
                array('Tipo'=>'Submit', 'Id'=>'save',           'Label'=>'Salvar',              'Span' =>'12'   )
        );

        parent::createElemento($this->campo);

    }

Helper Abstract (gera o form) e o executa o `parent::createElemento()`
<?php
abstract class Zene_Form_Helper_Abstract extends Zend_Form{
    /**
     * Metodo para retornar um lemento criado apartir de um array
     * deve seguir a seguinte estrutura;
     * @see Zend_Form::getElement()
     */
    public function createElemento(array $options){

        $element = null;
        foreach ($options as $option)
        {
            switch ($option['Tipo']) {
                case 'Hidden':
                    $element = new Zend_Form_Element_Hidden($option['Id']);
                    break;
                case 'Select':
                    $element = new Zend_Form_Element_Select($option['Id']);
                    $element->addMultiOptions($option['Option']);
                    break;
                case 'Date':
                    $element = new Zend_Form_Element_Text($option['Id']);
                    $element->setAttrib("class", "datepicker");
                    break;
                case 'Check':
                    $element = new Zend_Form_Element_Checkbox($option['Id']);
                    break;
                case 'MCheck':
                    $element = new Zend_Form_Element_MultiCheckbox($option['Id']);
                    $element->addMultiOptions($option['Option']);
                    break;
                case 'Text':
                    $element = new Zend_Form_Element_Text($option['Id']);
                    break;
                case 'Pass':
                    $element = new Zend_Form_Element_Password($option['Id']);
                    break;
                case 'Checkbox':
                    $element = new Zend_Form_Element_Checkbox($option['Id']);
                    break;
                case 'Textarea':
                    $element = new Zend_Form_Element_Textarea($option['Id']);
                    break;
                case 'MSelect':
                    $element = new Zend_Form_Element_Multiselect($option['Id']);
                    $element->addMultiOptions($option['Option']);
                    break;
                case 'Submit':
                    $elementDecorator = array(
                            array('ViewHelper'),
                            array('HtmlTag', array('tag' => 'div','style' =>'margin-left:0', 'class' => 'span'.$option['Span'])),
                    );
                    $element = new Zend_Form_Element_Button($option['Id']);
                    $element->setLabel($option['Label'])
                    ->setAttrib('type','submit')
                    ->setAttrib('class','btn btn-primary')
                    ->setDecorators($elementDecorator);
                    break;
                default:
                    break;
            }
            $elementDecorator = array(
                    array('ViewHelper'),
                    array('Label'),
                    array('HtmlTag', array('tag' => 'div','style' =>'margin-left:0', 'class' => 'span'.$option['Span'])),
            );

            if(isset($option['Atributo'])){
                foreach ($option['Atributo'] as $key=>$value) {
                    $element->setAttrib($key, $value);
                }
            }

            if(($option['Tipo'] != 'Submit') && ($option['Tipo'] != 'Button')){
                $element->setLabel($option['Label'])
                ->setAllowEmpty((bool)$option['Required'])
                ->setRequired(!$option['Required'])
                ->addValidator('Db_NoRecordExists', false,
                        array(
                                'table'   => $option['Table'],
                                'field'   => $option['Field']
                        )
                )->setDecorators($elementDecorator);

                if ($option['Disabled'] == 'true')
                    $element->setAttrib('disabled','disabled');
            }

        $this->addElement($element);

        }
    }

no usuario/controller:

    $form = new Admin_Form_Usuario();

no usuario/view:

    $this->view->form = $form; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:21:48.257

如果你想制作 bt 表单，你可以使用 ViewScript 装饰器，或者像这样

```
$pro_name = new Zend_Form_Element_Text('pro_name');
    $pro_name->setLabel("Project name")
            ->setRequired(true)
            ->addValidators(array($pnalnum,$pnlength))
            ->setAttrib("class", "textInput")
            ->setDecorators(array(
                'ViewHelper',
                array(array('control' => 'HtmlTag'), array('tag' => 'div', 'class' => 'controls')),
                array('Label', array('class' => 'control-label')),
                array(array('controls' => 'HtmlTag'), array('tag' => 'div', 'class' => 'control-group'))  
            )); 
```

这是简单的创建 html：

```
<div class="control-group">
   <label for="pro_name" class="control-label required">Project name</label>
   <div class="controls">
      <input type="text" name="pro_name" id="pro_name" value=""class="textInput">
   </div>
</div> 
```

# arrays - 复制多维数组

> ID：13892683
> 
> 赞同：0
> 
> 时间：2012-12-15T13:36:26.027
> 
> 标签：arrays, actionscript-3, flash, multidimensional-array, concat

我尝试使用`concat`多维数组，但它根本不起作用。解决办法是什么？

```
var f:Array = new Array(3, 4, 5, 6);
var t:Array = new Array("s","g");
var u:Array = new Array();
u.push(f);
u.push(t);
trace (u);      // output-->    3,4,5,6,s,g
trace (u[1]);   // output-->    s,g
var r:Array = new Array();
r.concat(u);
trace (" r : " + r);    // output-->    r :
trace (" r0: " + r[0]); // output-->    r0: undefined 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:45:30.727

答案是

```
 r = r.concat(u); 
```

因为 concat 的返回是结果，并且输入保持不变。

# vim - 用于“编辑新文件”或“切换到现有缓冲区”的单个 vim 命令？

> ID：13892686
> 
> 赞同：3
> 
> 时间：2012-12-15T13:37:10.380
> 
> 标签：vim

**问题**：如果文件“tmp.rb”已被修改，命令“e tmp.rb”将失败。

我正在寻找在以下两种情况下都能成功的命令：

*   如果“tmp.rb”不在缓冲区列表中，将加载该文件；
*   如果“tmp.rb”已经在缓冲区列表中并被修改，缓冲区将被加载（在当前窗口中）。

* * *

**澄清**：对不起所有的误导。`e tmp.rb`实际上，只要修改后的“tmp.rb”没有加载到当前窗口中，一个命令就可以实现两者，*在这种情况下*我更喜欢`e tmp.rb`不会导致错误并且与`b tmp.rb`. 也许这个小问题会使围绕缓冲区、窗口等的脚本更容易一些。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:14:12.063

`:edit`当缓冲区已经加载和修改以防止您意外覆盖更改时，该命令将失败。如果您确实想覆盖，请`:edit!`改用。在许多 Vim 命令中，附加的 bang ( `!`) 强制命令。或者，如果您希望 Vim 要求您确认，请使用`:confirm edit`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:45:07.277

你的问题的标题是“OR”，但它的主体是“AND”。

Vim 的命令通常非常精确，很少会看到一个模棱两可的命令会执行多个互斥的事情。可用于进入*插入*模式的键数 ( `iaIAsScCoO`) 就是一个很好的例子。

您应该针对每种情况使用适当的命令：

```
:e tmp.rb
:b tmp.rb 
```

* * *

如果您不介意安装插件，[CtrlP](https://github.com/kien/ctrlp.vim)`:CtrlPMixed`可能会帮助您进行出色的抽象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:56:57.520

我无法重现您的问题。

我尝试重现您的问题的方法是

1.  用vim打开tmp.rb，写点东西保存。
2.  在其他外壳中，

    ```
    $ echo > tmp.rb 
    ```

3.  在 vim 中输入`:e`or `e: tmp.rb`，它重新打开文件没有任何问题。

如果其他程序同时访问 tmp.rb，则该其他程序可能正在锁定文件，因此您遇到了您描述的问题。

# sdl - Emscripten 调用 SDL_Init 冻结浏览器文本输入

> ID：13892688
> 
> 赞同：2
> 
> 时间：2012-12-15T13:37:29.520
> 
> 标签：sdl, emscripten

我目前正在 mingw 下交叉编译一个 Sprite 引擎。因此我有2个问题。

Emscripten 通过 WebGL 层模拟 SDL 的行为。使用 emcc 编译时，我什至不必链接 SDL 库。

1.  问题是：

    如果我像这样初始化我的应用程序：

    ```
    if(SDL_Init(SDL_INIT_VIDEO|SDL_INIT_AUDIO) == -1)return -1;
    SDL_Surface *screen= SDL_SetVideoMode(640, 480,  24, SDL_SWSURFACE);
    SDL_FillRect(screen, 0, SDL_MapRGB(screen->format, 255, 0, 0));
    SDL_Flip(screen); 
    ```

    然后我无法将文本放入浏览器的文本字段中，但我得到了 SDL_Events。所有其他浏览器输入（如复选框或选择框）都在工作。

    如果像这样初始化我的应用程序（Emscripten 也可以在没有 SDL_Init 的情况下工作！）：

    ```
    SDL_Surface *screen= SDL_SetVideoMode(640, 480,  24, SDL_HWSURFACE);
    SDL_FillRect(screen, 0, SDL_MapRGB(screen->format, 255, 0, 0));
    SDL_Flip(screen); 
    ```

    然后我可以将 tet 放入浏览器文本字段，但我没有收到 SDL_Events。

    **是否有使浏览器文本输入字段和 SDL_Events 正常工作的解决方法？**

2.  问题

    在我的WIN32系统上编译的这行代码填满了屏幕蓝色

    ```
    SDL_FillRect(screen,NULL, SDL_MapRGB(screen->format, 255, 0, 0)); 
    ```

    使用 Emscripten 编译的同一行将屏幕填充为红色。

    **有没有办法在 Emscripten 或 SDL 标头中切换 SDL 颜色？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-16T02:20:40.540

默认情况下，Emscripten 将所有用户事件捕获到页面。例如，这对于全屏游戏是有意义的。在您的用例中，您可能希望修改 Emscripten 的 SDL_Init 以不监听键事件，或更改其 receiveEvent 返回值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-03-20T21:37:31.513

在您的本机代码中，在 SDL_CreateWindow 调用之前添加：

```
SDL_SetHint(SDL_HINT_EMSCRIPTEN_KEYBOARD_ELEMENT, "#canvas"); 
```

更多信息：[https ://wiki.libsdl.org/SDL_HINT_ESCRIPTEN_KEYBOARD_ELEMENT](https://wiki.libsdl.org/SDL_HINT_EMSCRIPTEN_KEYBOARD_ELEMENT)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-01T19:54:00.017

有同样的问题。对我来说，这样做修复了它：

模块['doNotCaptureKeyboard'] = true;

# algorithm - 动态规划：最优二叉搜索树

> ID：13892696
> 
> 赞同：5
> 
> 时间：2012-12-15T13:38:07.760
> 
> 标签：algorithm, computer-science, binary-search-tree

好吧，我希望有人能给我解释一下。我正在为期末考试而学习，但我无法弄清楚一些事情。

问题是动态规划；构建最优二叉搜索树（OBST）。我一般理解动态规划，特别是这个问题的概念，但我不理解这个问题的递归形式。

我知道我们正在为这些节点的越来越多的子集构建最佳二叉搜索树，并将答案保存在表格中以避免重新计算。我还知道，当您在 a_{k} 根树时，从 a_{1} 到 a_{k-1} 的所有成功节点以及它们相应的虚构不成功节点（即树的叶子）都在左子树，然后右子树中的那些是a_{k+1}到a_{n}。

这是我不明白的方程的递归形式：

c(i, j) = min (i < k <= j) {c(i, k-1) + c(k, j) + p(k) + w(i, k-1) + w(k +j)}

其中 w(i, j) = q(i) + 从 i+1 到 j 的总和 (q(l) + p(l))。

所以在 c(i,j) 中，从左到右，我们有左子树的成本 + 右子树的成本 + 成功搜索根的概率 + w(i, k-1) + w(k +j)。

我的困惑是 c(i, k-1) 与 w(i, k-1) 有何不同。

文本是 Horowitz、Sahni 和 Rajasekeran 的计算机算法，但我也阅读了 OBST 上的 CLRS 并在线搜索，我遇到的任何内容都无法很好地解释方程中这些部分之间的差异。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-15T15:56:14.960

c(i,j) 表示搜索包含键 ki, ..., kj 的最优二叉搜索树的预期成本。w(i,j) 表示包含键 ki, ..., kj 的子树的概率和。对于公式：</p>

```
c(i, j) = min (i < k <= j) {c(i, k-1) + c(k, j) + p(k) + w(i, k-1) + w(k,j)} 
```

如果我们选择键 k 作为根，c(i,k-1)+w(i,k-1) 表示左子树的成本。c(k,j)+w(k,j) 表示右子树的成本。p(k) 表示根 k 的成本。

注意：如果我们选择键 k 作为根，那么左子树包含键 ki, ..., k(k-1)，右子树包含键 k(k+1), ..., kj . 但我们不能简单地说：

```
c(i,j)=min (i < k <= j) {c(i, k-1) + c(k, j) + p(k)} 
```

因为当我们为根选择键 k 时，生成的子树的深度增加了 1。所以 c(i,k-1)+w(i,k-1) 将是左子树的正确成本！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-16T21:02:59.747

这是一种计算特定深度节点的频率*深度的微妙方法。

每次将节点评估为根时，在总结其左（或右）子树时，您正在添加频率总和以增加所有子节点的深度。

例如，假设节点“A”、“B”和“C”，其中“A”是根节点，“B”是“A”的左子节点，“C”是“B”的左子节点。（没有合适的孩子让事情变得简单。）

以自下而上的方式，以叶“C”为根：

```
cost is Pr(C) = freqC*1  (no children) 
```

以'B'为根：

```
cost = Pr(B) + Cost[C,C] + sum of children freq 
     = freqB*1 + freqC*1 + freqC*1
     = freqB*1 + freqC*2 

where Pr(B) = freqB*1
     Cost[C,C] = freqC*1
     sum of children freq = freqC*1 
```

最后，以“A”为根：

```
cost = Pr(A) + Cost[C,B] + sum of children freq 
     = freqA*1 + freqB*1 + freqC*2 + freqB*1 + freqC*1
     = freqA*1 + freqB*2 + freqC*3

where Pr(A) = freqA*1
     Cost[C,B] = freqB*1 + freqC*2
     sum of children freq = freqB*1 + freqC*1 
```

# iphone - 带有场景变化的精简版 iOS 应用程序（故事板）

> ID：13892698
> 
> 赞同：1
> 
> 时间：2012-12-15T13:38:33.477
> 
> 标签：iphone, objective-c, ios

我想创建我的应用程序的精简版。当我在谷歌上搜索时，几乎所有提到的解决方案都是创建重复目标并设置必要的标志（以区分完整版和精简版）。

现在我做了必要的事情，但在我的 lite 应用程序中，我希望禁用一个场景中的一些控件。那么我该如何在设计模式下做到这一点呢？

使用标志集，我可以在运行时区分完整应用程序和精简应用程序。但是我可以在设计时只为精简版应用程序更改场景吗？

或者对于每个场景加载，我必须检查标志，然后在运行时执行禁用/启用代码。

我有哪些选择？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:44:36.093

我认为最易于管理的方式是在您的代码中。一个例子：

```
- (void)viewDidLoad {
    [super viewDidLoad];

    if (kIsLiteVersion) {
        [someObject setEnabled:NO];
    }
} 
```

或者，也许你会`init`在某些情况下这样做（也许你不想在 lite 版本中创建某些对象）。或者，可能使用条件来确定在某些情况下要推送哪个故事板视图控制器，并为精简版提供一些。

# java - 地图值检索

> ID：13892701
> 
> 赞同：0
> 
> 时间：2012-12-15T13:39:00.450
> 
> 标签：java, select, collections, map

我将 SELECT QUERY 的值存储在 map 中，结合月份和年份（Mon YY）作为键。我在查询中使用了按日期排序。它工作正常，但是当我显示地图的值时，它是随机顺序的。

有什么方法可以先获取第一个插入的元素（如队列）？

```
 Inserting element
       Dec 2011     REC     332     12      
       Dec 2011     WER     12      12      
       Dec 2012     QA      212     12 

  Displaying value   
            Inner Key :Dec 2012
            QA
            212
            12
            Inner Key :Dec 2011
            REC
            332
            12
            WER
            12
            12 
```

我需要按升序排列的值

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T13:40:19.543

使用保留插入顺序的 LinkedHashMap。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:54:26.803

您可以使用[LinkedHashMap](http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html)或[TreeMap](http://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html)

# jquery - 由于 jQuery(..).autocomplete 不起作用，在 firebug 中出现错误？

> ID：13892706
> 
> 赞同：0
> 
> 时间：2012-12-15T13:40:07.903
> 
> 标签：jquery, autocomplete

嗨，我有以下代码，其中我使用 jquery 来实现自动完成功能。

```
 <div class="row">
           <p class="hint"><?php echo bfstring('tooltip_billing_state_zip'); ?></p>
           <label>State<span>*</span></label>
           <div>
           <select name="jc_state" class="required"></select>
              </div>    
              <div class="cl">&nbsp;</div>
              <em class="status"></em>
              </div>
              <div class="row">
            <p class="hint"><?php echo bfstring('tooltip_billing_state_zip'); ?></p>
            <label>ZIP/Postal Code <span>*</span></label>
 <input type="text" class="field required blink" value="Zip Code" title="Zip Code" name="jc_zip" id="jc_zip"/>
        <div class="cl">&nbsp;</div>
        <em class="status"></em>
     </div>
      <div class="row">
   <p class="hint"><?php echo bfstring('tooltip_billing_country'); ?></p>

     <label>Country <span>*</span></label>

           <select name="jc_country" class="required">
                         <option value="">Please Select</option>

       <?php foreach ($countries as $cid => $c) : ?>
    <option <?php echo ($cid == '840') ? 'selected="selected"' : ''; ?> value="<?php echo $cid; ?>"><?php echo $c['name']; ?></option>
               <?php endforeach; ?>
       </select>

  <div class="cl">&nbsp;</div>
  <em class="status"></em>
                                        </div>

                                    </div>
    <script type="text/javascript">

        zipAutoComplete112('jc');

    function zipAutoComplete112(prefix){
    alert(1);   
        jQuery( "#"+prefix+"_zip" ).autocomplete({

            source: function( request, response ) {
                jQuery.ajax({
                    url: "http://ws.geonames.org/postalCodeSearchJSON",
                    dataType: "jsonp",
                    data: {
                        style: "full",
                        maxRows: 12,
                        postalcode_startsWith: request.term
                    },
                    success: function( data ) {
                    alert(3);

    response( jQuery.map( data.postalCodes, function( item ) {
            return {
     label: item.placeName + (item.adminCode1 ? ", " + item.adminCode1 : "") + ", " + item.postalCode + ", "+item.countryCode,
        value: item.postalCode
            }
     }));

                                        jQuery('.ui-autocomplete').css('width', '188px');
                    }
                });
            },
            minLength: 2,
            select: function( event, ui ) {
                var myString= new String(ui.item.label);
                var address = myString.split(',')

                jQuery('#'+prefix+'_city').val(address[0]);
                jQuery('#'+prefix+'_city').addClass('activated');
                jQuery('#'+prefix+'_city').trigger('change');
                jQuery('#'+prefix+'_city').parents('.row').addClass('ok-row')

    var countryCode = address[3] ? address[3]: address[2] 
     countryCode     = jQuery.trim(countryCode);
     var countryName = jQuery('#'+prefix+'_country option[value="'+jQuery.trim(countryCode)+'"]').text()
     jQuery('#countryContainer .jqTransformSelectWrapper span').html(countryName)  
     jQuery('#countryContainer .jqTransformSelectWrapper').addClass('selected-jqtranform');
     jQuery('#'+prefix+'_country').parents('.row').addClass('ok-row') 
     jQuery('#'+prefix+'_country').val(jQuery.trim(countryCode)) 

            var stateCode = address[2] ? address[1]: '';
                stateCode    =  jQuery.trim(stateCode)
                if(countryCode == 'US'){
                    jQuery.ajax({
                        url: base_url+"/getStateName",
                        dataType: "jsonp",
                        data: { stateCode: stateCode },
                        success: function( data ) {                                 
                            stateName = data  
                            jQuery('#'+prefix+'_state').val(stateName);
                            jQuery('#'+prefix+'_state').addClass('activated');

                            jQuery('#'+prefix+'_state').parents('.row').addClass('ok-row')
                            jQuery('#'+prefix+'_state').trigger('change');
                            formValidate();
                        }
                    });
                }else{
                    stateName = stateCode  
                    jQuery('#'+prefix+'_state').val(stateName);
                    jQuery('#'+prefix+'_state').addClass('activated');

                    jQuery('#'+prefix+'_state').parents('.row').addClass('ok-row')
                    jQuery('#'+prefix+'_state').trigger('change');
                    formValidate();
                }
                jQuery('#'+prefix+'_zip').parents('.row').addClass('ok-row')
                jQuery('#'+prefix+'_zip').parents('.row').removeClass('error-row');
            },
            open: function() {
                jQuery( this ).removeClass( "ui-corner-all" ).addClass( "ui-corner-top" );
            },
            close: function() {
                jQuery( this ).removeClass( "ui-corner-top" ).addClass( "ui-corner-all" );
            }
        });
    }

    </script> 
```

当我运行此代码时，我在 firebug 中收到错误，因为 jQuery(..).autocomplete 不起作用。我不知道我要去哪里错了。请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:43:16.727

我认为您正在使用 JQuery UI，您是否包含它？

```
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:57:11.307

确保包含 jquery ui 和 jquery 的 js 库。并且 jquery.js 不能重复或在其他 js 库文件之后。将它放在所有脚本标签之前。

# c++ - 解析全括号表达式

> ID：13892710
> 
> 赞同：3
> 
> 时间：2012-12-15T13:41:11.520
> 
> 标签：c++, parsing, recursive-descent

我正在尝试为这个语法解析一个带括号的 Exp：

```
exp->(exp + exp)
    |(exp - exp)
    | num
num->[0-9] 
```

...但我有一个问题：当我输入“1+4”时，没有出现错误。我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T13:50:03.473

这是递归下降解析器的一个经典问题：您的语法不需要消耗整个输入。一旦它完成了“while isdigit”循环，它就认为它的工作已经完成，忽略`+4`输入的部分。

在调用顶级表达式后添加检查是否到达行尾以解决此问题：

```
void TopExp() {
    Expr();
    Match('\n');
} 
```

当没有其他输入可用时，您需要修改`Match`以允许匹配：`\n`

```
void Match(char c) {
    int p = cin.peek();
    if(p==c) {
        cin>>c;
    } else if (p == EOF && c == '\n') {
        return
    } else {
        cout<<"Syntax Error! "<<(char)cin.peek()<<endl;
        cin.ignore();
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-15T14:30:12.803

尝试使用此更改后的指令： if (openParenthesis-closeParenthesis>0)

```
 int Match(char c)
    {
        if(cin.peek()==c) {
            cin>>c;
            return 1;
        } else
        {
            cout<<"Syntax Error! "<<(char)cin.peek()<<endl;
            cin.ignore();
            return 0;
        }
    }

    void MatchOp()
    {
        if(cin.peek()=='+') 
            Match('+');
        else if(cin.peek()=='-')
            Match('-');
        else
        {
            cout<<"invalid Operation: "<<(char)cin.peek()<<endl;
            cin.ignore();
        }
    }

    void Exp()
    {   static int openParenthesis = 0; 
        static int closeParenthesis = 0;  
        if(cin.peek()!='\n')
            if(cin.peek()=='(')
            {
                if (Match('(') == 1) {
                    openParenthesis += 1;
                }
                Exp();MatchOp();Exp();
                if (Match(')') == 1) {
                    closeParenthesis -= 1;
                }
            }
            else if(isdigit(cin.peek()))
            {   
                if (openParenthesis-closeParenthesis>0) {
                    cout<<"Syntax Error! "<<(char)cin.peek()<<endl;
                    cin.ignore();               
                } else {
                    while(isdigit(cin.peek()))
                    { cout<<(char)cin.peek();
                    Match(cin.peek());  
                    }
                }   
            }
            else 
            {
                cout<<"Syntax Error!"<<(char)cin.peek()<<endl;
                cin.ignore();
            }
    } 
```

# javascript - 如何验证多选下拉菜单？

> ID：13892711
> 
> 赞同：5
> 
> 时间：2012-12-15T13:41:22.653
> 
> 标签：javascript, html, multi-select

所以情况是这样的：我正在使用表单上的 jquery.multiselect 插件创建一个下拉框，但我需要检查是否选择了一些值，如果没有选择一个或多个值我想发出警报或当有人试图提交表单时的东西。

**HTML 代码**

```
<form id="RNA" name="RNA">
<select size="5" name="sampleMut[]" multiple="multiple" id="sampleMut">

 <option value="41" >41</option>
  <option value="48" >48</option>
  <option value="65" >65</option>
  <option value="102" >102</option>

</select>
</form> 
```

**JavaScript 代码**

```
$(function(){
 $("#sampleMut").multiselect(); 
}); 
```

jQuery 版本**1.8.3**

jquery.multiselect **1.13**

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-15T13:50:01.373

试试这个：

```
$(function(){
    $('form').submit(function(){
         var options = $('#sampleMut > option:selected');
         if(options.length == 0){
             alert('no value selected');
             return false;
         }
    });
}); 
```

小提琴：http: [//jsfiddle.net/aDxu8/1/](http://jsfiddle.net/aDxu8/1/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-15T13:49:06.687

有了这个，您可以获得所选选项的数量。

```
$("#sampleMut option:selected").length; 
```

# seo - Google BOT 访问和站点语言

> ID：13892713
> 
> 赞同：0
> 
> 时间：2012-12-15T13:41:34.010
> 
> 标签：seo, lang

在我的网站中，我在同一页面中有不同的语言，我的意思是，如果您选择您的语言，相同的文件，以您的语言显示内容。

根据您的浏览器语言，我的网站以该语言加载内容，并在我添加的 HTML 标记中：

（以西班牙语 lang 为例）

```
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="**es**" xml:lang="**es**"> 
```

谷歌机器人检测语言，但我有一个问题。例如，在 Google.es（Google 西班牙）中，Google bot 正在索引英文内容，我认为这是因为 google bot 浏览器或配置是英文的。

我想知道如何告诉谷歌机器人，在西班牙必须保存西班牙语内容，在巴西，葡萄牙语内容等。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T15:22:02.570

# c# - 无法在 Windows Phone 8 SDK 和 VS 2012 中加载 Microsoft.Build.dll

> ID：13892716
> 
> 赞同：1
> 
> 时间：2012-12-15T13:42:24.353
> 
> 标签：c#, visual-studio, sdk, visual-studio-2012, windows-phone-8

我已经安装了带有更新 1 的 Windows Phone SDK 8.0 和 Visual Studio 2012 Premium。当我现在创建一个新的手机项目时，我收到三个错误：

> 错误 1 ​​无法从“C:\Program Files (x86)\MSBuild\Microsoft\WindowsPhone\v8.0\Microsoft.Silverlight.WindowsPhone.Build.Tasks.dll”实例化“CompileXaml”任务。无法加载文件或程序集“Microsoft.Build.dll”或其依赖项之一。试图加载格式不正确的程序。
> 
> 错误 2 “CompileXaml”任务声明或使用不正确，或在构建过程中失败。检查任务名称和程序集名称的拼写。
> 
> 错误 3 名称“LocalizedStrings”在命名空间“clr-namespace:PhoneApp24”中不存在。C:\PhoneDevelopment\PhoneApp24\PhoneApp24\App.xaml

在谷歌搜索时，我发现有些人在虚拟机中使用 Windows 8 时遇到了类似的错误。但就我而言，我已经在笔记本电脑上安装了所有东西。我也已经卸载了 VS2012 和 SDK。但重新安装后，我仍然得到相同的例外。

有人可以给我一些提示吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T18:59:16.520

在尝试使用文件的 VMWare 共享文件夹创建项目后，这也发生在我身上。如果您使用的是 VM，请尝试在本地目录中创建项目，然后项目将正常构建。显然，程序集文件要么没有正确下载，要么没有被读取的权限。很可能是命名空间本身导致了问题。

错误 1 ​​无法加载程序集文件：//\vmware-host\shared folder\Documents\Visual Studio 2012\Projects\NewApp.dll。此程序集可能已从 Web 下载。如果程序集是从 Web 下载的，Windows 会将其标记为 Web 文件，即使它驻留在本地计算机上也是如此。这可能会阻止它在您的项目中使用。您可以通过更改文件属性来更改此名称。仅取消阻止您信任的程序集。有关详细信息，请参阅[http://go.microsoft.com/fwlink/?LinkId=179545](http://go.microsoft.com/fwlink/?LinkId=179545)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T00:52:41.970

尝试以管理员身份运行 VS2012。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T20:26:14.657

在花了几个小时试图让 sdk 工作之后，我终于做了一个窗口恢复。从 Windows 8 开始，这是一个非常快速的过程。只需插入 windows cd 并再次运行设置。如果您选择正确的选项，您可以在不丢失数据的情况下重新安装 Windows 8。10 分钟后您的系统重新启动，您必须再次填写一些数据。

之后我安装了 SDK。没有出现任何错误，一切都进行得非常顺利。然后我启动了VS express，创建了一个项目并构建成功！

安装 SDK 后，我在桌面上发现了两个额外的磁贴：“Hyper-V 管理器”和“Hyper-V 虚拟机...”。我很确定这两个图块在我之前安装 SDK 时不是。所以我想我的虚拟机有一些问题，这可能是构建异常的根源。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-26T14:06:05.103

我试图运行其中一个[Office 365 API 示例](https://github.com/OfficeDev/O365-Windows)，结果发现它是解决方案中缺少的文件。具体来说，该解决方案在项目的根目录中需要一个临时 PFX 证书。我删除了它并且构建错误停止了。

# authentication - 具有 edu.au 域的 Google Apps 身份验证

> ID：13892717
> 
> 赞同：1
> 
> 时间：2012-12-15T13:42:27.827
> 
> 标签：authentication, dns, accounts

我正在尝试为 google docs 范围验证域。这是网址：

[https://www.google.com/accounts/AuthSubRequest?next=http%3A%2F%2Fwww.mydomain.edu.au%2Fcomponents%2Fgoogle%2FretrieveToken.php&scope=https%3A%2F%2Fdocs.google.com% 2Ffeeds%2F&session=1&secure=0&hd=default](https://www.google.com/accounts/AuthSubRequest?next=http%3A%2F%2Fwww.mydomain.edu.au%2Fcomponents%2Fgoogle%2FretrieveToken.php&scope=https%3A%2F%2Fdocs.google.com%2Ffeeds%2F&session=1&secure=0&hd=default)

所以我的域名是：www.mydomain.edu.au

但是当提出请求时，我得到了这个答案：

```
The page you have requested cannot be displayed. Another site was requesting access to your Google Account, but sent a malformed request. Please contact the site that you were trying to use when you received this message to inform them of the error. A detailed error message follows: 
 The site "http://edu.au" has not been registered. 
```

所以它被标识为 edu.au 域。

有没有解决的办法？

谢谢

将文档上传到谷歌文档的示例代码：

```
public static function uploadDocs($data = array())
{
    if (!self::checkInput($data)) return false;
    $data['url'] = Google::docsAPIUrl.'default/private/full'.self::getFolder($data['folderId']);
    //"?convert=false" 
    $headers = Google::getAuthToken();
    array_push($headers, Google::getGData());
    $contentHeaders = self::getInputHeaders($data);
    array_push($headers, 'Content-Length: '.$contentHeaders['length']);
    array_push($headers, 'Content-Type: '.$contentHeaders['type']);
    array_push($headers, 'Slug: '.Html::win2utf8($data['docTitle']));
    if ($data['inputMethod'] == 'File')
    {
        $data['input'] = ((fread(fopen($data['input'], 'rb'), filesize($data['input']))));
    }
    $curl = Google::curl($data['url'], null, $data['input'], $headers);
    if (Curl::checkCode($curl['code']))
    {
        return self::parseNewXML($curl['response']);
    }
    else
    {
        Google::$error = array('errorCode'=>$curl['code'],'errorString'=>$curl['response']);
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:11:53.693

AuthSub 已弃用。您应该使用[OAuth 2.0](https://developers.google.com/drive/about-auth)和[Drive API v2](https://developers.google.com/drive/)。

# asp.net-mvc-3 - 为什么要在 global.asax 中注册 HandleError

> ID：13892719
> 
> 赞同：0
> 
> 时间：2012-12-15T13:42:30.610
> 
> 标签：asp.net-mvc-3

创建新的 MVC3 项目时，[HandleError] 属性默认注册为 GLobal.asax 中的 GlobalFilter。但是，如果我评论它并执行以下操作（打开自定义错误模式），它仍然有效。我确实看到了填充了 ErrorInfo 模型的 ErrorView。那么在 Global.asax 中注册 HandleError 需要什么？

```
 [HandleError(ExceptionType = typeof(NullReferenceException),View = "ErrorView")]
        public ActionResult Index()
        {
            throw new NullReferenceException();
            return View();
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T09:50:26.360

那就是设置默认的 MVC 异常处理策略。当出现未处理的异常时，它将呈现`/Views/Shared/Error.cshtml`视图，而无需在每个控制器或操作上显式添加 HandleError 属性。

然后，您可以向控制器和/或操作添加更具体`HandleError`的属性，因此您可以显示另一个错误视图而不是默认视图或处理更具体的异常类型。

为了使 HandleError 过滤器正常工作（全局或非全局），您只需要确保在 web.config 中启用自定义错误，如`<customErrors mode="On" />`（默认为 RemoteOnly，因此在开发期间它们不会被执行）

这很好地解释了（以下示例）[here](http://blogs.msdn.com/b/gduthie/archive/2011/03/17/get-to-know-action-filters-in-asp-net-mvc-3-using-handleerror.aspx)

# android - 活动选择器中列出的活动导出 = false

> ID：13892721
> 
> 赞同：5
> 
> 时间：2012-12-15T13:42:38.880
> 
> 标签：android, android-intent, android-activity, android-manifest, android-implicit-intent

我有两个类似的应用程序（一个免费，一个付费）。

活动定义为`exported="false"`

```
 <activity
        android:name=".MyActivity"
        android:exported="false"
        android:noHistory="true" >
        <intent-filter>
            <action android:name="android.intent.action.VIEW" />
            <category android:name="android.intent.category.DEFAULT" />
            <data android:mimeType="vnd.android.cursor.item/vnd.mine" />
        </intent-filter>
    </activity> 
```

当我`startActivity`从免费应用程序以适当的隐式意图调用时，会出现活动选择器。

我不明白为什么会出现付费应用程序的活动，因为它是[`exported="false"`](http://developer.android.com/guide/topics/manifest/activity-element.html#exported)

我想我可以添加一个基于 URL 的意图过滤器，但我的问题是：为什么在文档读取时出现来自其他应用程序的活动

> Activity是否可以被其他应用程序的组件启动

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T14:04:34.440

> 我不明白为什么会出现付费应用程序的活动，因为它是exported="false"

因为你有一个匹配的`<intent-filter>`. 由于您不需要`<intent-filter>`非导出的活动，因此只需将其删除并`Intent`在启动此活动时使用显式。

> 为什么在文档读取时出现来自其他应用程序的活动...

[我有同样的问题](http://code.google.com/p/android/issues/detail?id=29535)，并被告知这是预期的行为，并且该错误在我们的应用程序中，因为有一个无用的`<intent-filter>`. 引用 Dianne Hackborn 的话：

> 我通常会认为这是应用程序中的一个错误——如果你有一个不允许其他应用程序启动的活动，你为什么要发布一个他们将匹配以尝试启动的意图过滤器？活动的安全性（无论是未导出还是需要许可）不是意图匹配的一部分。...这种情况（发布与其他应用程序将使用的意图相匹配的活动，但随后将其限制为不能被其他应用程序启动）如果没有彻底破坏，则无用。

# php - 为什么 Unicode PHP 文件会生成换行符？

> ID：13892722
> 
> 赞同：1
> 
> 时间：2012-12-15T13:42:45.587
> 
> 标签：php, unicode, include, line-breaks

我的 admin.php 文件中有这段代码：

```
 <?php include("include/php/auth.inc.php"); ?>
 <?php if (user_Type() != "admin") {header("location: index.php"); exit(0);} ?>
 <?php include("include/php/admin/admin.inc.php"); ?>
 <?php include("header.php"); ?>
 <?php include ("menu.php"); ?>
 <?php include ("admin_Panel.php"); ?>
 <?php include "footer.php" ?> 
```

在第 3 行，我包含了一个名为 的 PHP 文件`admin.inc.php`，该文件仅包含一些函数，不包含任何 HTML 标记或任何外部`<?php`字符`?>`。当我将文件编码更改为 UTF-8（使用记事本或其他编辑器使用另存为）时，此文件会在输出中生成换行符。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T14:14:08.023

尝试将您的文件重新保存为`UTF-8 without BOM`

在主菜单行的记事本++中有`Encoding -> Convert to UTF-8 without BOM`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:01:49.830

确保 php 标记之前或之后没有行甚至空格。

# android - 警报管理器 OnCreate() 随机调用

> ID：13892723
> 
> 赞同：1
> 
> 时间：2012-12-15T13:42:58.693
> 
> 标签：android, timer, alarmmanager, oncreate

我试图四处搜索，但似乎我是唯一一个遇到这种错误的人，所以也许有人能指出我做错了什么。

`AlarmManager`我通过这个函数创建一个：

```
public void startTimer() {
        Intent myIntent = new Intent(MainActivity.this, MyAlarmService.class);

        pendingIntent = PendingIntent.getService(MainActivity.this, 0,
                myIntent, 0);
        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        calendar.add(Calendar.SECOND, 10);
        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,
                calendar.getTimeInMillis(),
                AlarmManager.INTERVAL_FIFTEEN_MINUTES / 50, pendingIntent);

        Toast.makeText(MainActivity.this, "Start Alarm", Toast.LENGTH_LONG)
                .show();
    } 
```

它按预期创建：`OnCreate()`被调用然后`OnStart()`被调用。然后我通过调用函数来停止计时器：

```
private void stopTimer() {
        Intent myIntent = new Intent(MainActivity.this, MyAlarmService.class);

        pendingIntent = PendingIntent.getService(MainActivity.this, 0,
                myIntent, 0);
        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
        alarmManager.cancel(pendingIntent);
    } 
```

在这个电话之后它确实停止了。

**问题发生在**之后，当应用程序关闭后很长时间调用 AlarmManager`OnCreate()`和`OnStart()`方法时，在这些调用中没有容易看到的系统。虽然这似乎是在我的手机缺少可用内存时发生的。

有任何想法吗？提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:48:17.213

您的服务需要在`stopSelf()`完成后调用，或者您需要切换到使用`IntentService`，它会在完成后自动调用`stopSelf()`。现在，您正在泄漏服务，Android 正在销毁并在一段时间后重新创建它。

# java - Java - 用于调整图像大小的好且免费的库

> ID：13892725
> 
> 赞同：2
> 
> 时间：2012-12-15T13:43:07.600
> 
> 标签：java, image-resizing, graphics2d

我想在java中调整图像大小。

直到现在我使用这个：

```
BufferedImage resizedImage = new BufferedImage((int) new_dim.getWidth(), (int) new_dim.getHeight(), type);
Graphics2D g = resizedImage.createGraphics();
g.drawImage(originalImage, 0, 0, (int) new_dim.getWidth(), (int) new_dim.getHeight(), null);
g.dispose(); 
```

newDim 是一个维度。

但是结果质量很差......

是否有一些商业免费图书馆可以完成这项简单的工作？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-15T13:46:47.017

你应该试试 imgscalr：

[https://github.com/thebuzzmedia/imgscalr](https://github.com/thebuzzmedia/imgscalr)

[http://www.htmlgoodies.com/beyond/java/create-high-quality-thumbnails-using-the-imgscalr-library.html](http://www.htmlgoodies.com/beyond/java/create-high-quality-thumbnails-using-the-imgscalr-library.html)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-15T13:59:53.993

[Thumbnailator](http://code.google.com/p/thumbnailator/)是一个开源（MIT 许可）库，专门用于图像大小调整操作，尤其是在缩小图像方面。

例如，以下将调整 a 的大小`BufferedImage`：

```
BufferedImage sourceImage = // ...
BufferedImage resizedImage = 
    Thumbnails.of(sourceImage)
        .size(newWidth, newHeight)
        .asBufferedImage(); 
```

Thumbnailator 提供灵活的输入和输出，因此可以混合和匹配`File`以及`BufferedImage`输入和输出：

```
BufferedImage sourceImage = // ...
Thumbnails.of(sourceImage)
    .size(newWidth, newHeight)
    .toFile(destinationFile); 
```

或者

```
File sourceFile = // ...
BufferedImage resizedImage = 
    Thumbnails.of(sourceFile)
        .size(newWidth, newHeight)
        .asBufferedImage(); 
```

该库使用技术来提高调整大小图像的质量，并在保持速度和质量之间的良好平衡的同时做到这一点。Thumbnailator 项目页面有一个[图像质量比较](http://code.google.com/p/thumbnailator/wiki/Comparison)。

*免责声明：我是图书馆的维护者*

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-15T14:01:16.367

***试图说服你重新考虑，至少关于质量***

你可以`g.setRenderingHints(KEY_INTERPOLATION, VALUE_INTERPOLATION_BICUBIC);`试试看[这个](http://docs.oracle.com/javase/tutorial/2d/advanced/quality.html)。

还有ImageFilters，用于锐化等。

# python - 谷歌应用引擎+python（django）部署错误：加载MySQLdb模块时出错

> ID：13892730
> 
> 赞同：3
> 
> 时间：2012-12-15T13:43:41.180
> 
> 标签：python, django, google-app-engine, mysql-python

我正在 Google App Engine 上创建一个应用程序。我正在使用 Django 1.4 和 Python 2.7。在本地主机上一切正常。但是在部署后它没有运行，我一直在管理日志上得到这个：

```
 2012-12-15 15:02:41.870

    /base/python27_runtime/python27_lib/versions/1/lib/cacerts/urlfetch_cacerts.txt missing; without this urlfetch will not be able to validate SSL certificates.

    W 2012-12-15 15:02:41.870

    No ssl package found. urlfetch will not be able to validate SSL certificates.

    E 2012-12-15 15:02:46.086

    Traceback (most recent call last):
      File "/base/python27_runtime/python27_lib/versions/1/google/appengine/runtime/wsgi.py", line 196, in Handle
        handler = _config_handle.add_wsgi_middleware(self._LoadHandler())
      File "/base/python27_runtime/python27_lib/versions/1/google/appengine/runtime/wsgi.py", line 266, in _LoadHandler
        __import__(cumulative_path)
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/djangoappengine/main/__init__.py", line 28, in <module>
        setup_env()
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/djangoappengine/boot.py", line 82, in setup_env
        setup_logging()
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/djangoappengine/boot.py", line 130, in setup_logging
        if not settings.DEBUG:
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/django/utils/functional.py", line 276, in __getattr__
        self._setup()
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/django/conf/__init__.py", line 42, in _setup
        self._wrapped = Settings(settings_module)
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/django/conf/__init__.py", line 87, in __init__
        mod = importlib.import_module(self.SETTINGS_MODULE)
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/django/utils/importlib.py", line 35, in import_module
        __import__(name)
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/settings.py", line 6, in <module>
        import django.db.backends.mysql.base
      File "/base/data/home/apps/s~cloudwallforever/1.363864476397206865/django/db/backends/mysql/base.py", line 14, in <module>
        raise ImproperlyConfigured("Error loading MySQLdb module: %s" % e)
    ImproperlyConfigured: Error loading MySQLdb module: No module named MySQLdb 
```

任何想法为什么会发生？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-10-10T21:19:47.113

'Django Support' 文档提示了解决方案，但没有明确说明：

> 由于标准的 django.db.backends.mysql 后端在内部使用 MySQLdb，因此 app.yaml 必须在库列表中引用 MySQLdb。

添加以下内容`app.yaml`似乎可以修复 ImportError：

```
libraries:
- name: MySQLdb
  version: "latest" 
```

请注意，MySQLdb 当前未包含在[可用的第三方库](https://developers.google.com/appengine/docs/python/tools/libraries27)列表中。我一时兴起尝试了它，它似乎已经为我解决了这个问题，YMMV。[在此处输入链接描述](https://developers.google.com/appengine/docs/python/cloud-sql/django)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-15T13:47:13.757

正如[Cloud SQL 文档](https://developers.google.com/appengine/docs/python/cloud-sql/django)明确指出的那样，您应该将其`''google.appengine.ext.django.backends.rdbms'`用作数据库引擎设置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-09T01:46:22.373

如果将以下内容添加到您的 app.yaml 后仍无法正常工作：

```
libraries:
- name: MySQLdb
  version: "latest" 
```

...然后采取以下步骤：

1.  确保 MySQLdb 已安装`pip install mysql-python`在 Mac 上
2.  确保 GAE 开发服务器指向您的 virtualenv/pip'd python 2.7 安装与 Mac/*nix 的默认版本，因为 pip 可能没有在那里安装它。我`Can't find module: MySQLdb`通过更新 GAE 开发服务器来解决：`/usr/local/bin/python2.7`例如在[Python 路径的 GAE 开发服务器首选项中](https://i.stack.imgur.com/FsFaw.png)

注意：可以通过应用程序菜单访问首选项：

*   如果您使用的是 Windows：请查看下方`File > Preferences...`
*   如果您使用的是 Mac，请查看下方`GoogleAppengineLauncher > Preferences...`

# opengl - 从 CubeMap 获取 texelFetch

> ID：13892732
> 
> 赞同：2
> 
> 时间：2012-12-15T13:43:43.660
> 
> 标签：opengl, glsl, textures, shader

在 OpenGL/GLSL 中，是否可以从立方体贴图进行 texelFetch？类似于以下内容：

```
color = texelFetch(cubemapsampler,texCoordi, side); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-23T00:25:14.170

显然，texelFetch 没有重载，所以它看起来是不可能的。

但是，您可以操纵用于查找的方向向量以获得相同的结果[*]：

```
vec3 generate_cubemap_coord(in vec2 txc, in int face)
{
  vec3 v;
  switch(face)
  {
    case 0: v = vec3( 1.0, -txc.x, txc.y); break; // +X
    case 1: v = vec3(-1.0,  txc.x, txc.y); break; // -X
    case 2: v = vec3( txc.x,  1.0, txc.y); break; // +Y
    case 3: v = vec3(-txc.x, -1.0, txc.y); break; // -Y
    case 4: v = vec3(txc.x, -txc.y,  1.0); break; // +Z
    case 5: v = vec3(txc.x,  txc.y, -1.0); break; // -Z
  }
  return normalize(v);
}

color = texture(cubemapsampler, generate_cubemap_coord(texCoordf, side)); 
```

[*]*提供的代码是为了代表这个概念，它可能会包含错误。*

# php - Python 相当于 php 包

> ID：13892734
> 
> 赞同：3
> 
> 时间：2012-12-15T13:44:07.240
> 
> 标签：php, python, binary, hex

我在 php 中有以下语句将`hex`字符串转换为`binary`.

```
$m=pack("H*" , "A88BE9L98990........"); 
```

我需要在另一个`python`程序中做同样的事情吗？

有任何想法吗 ？

干杯，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T13:47:56.793

该`binascii`模块有`binascii.unhexlify(hexstr)`，它可以满足您的需求。

```
>>> import binascii
>>> binascii.unhexlify("A88BE9L98990")
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: Non-hexadecimal digit found
# Not sure why there's an L in there... take it out...
>>> binascii.unhexlify("A88BE9989900")
'\xa8\x8b\xe9\x98\x99\x00' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T13:49:52.067

[python2php](http://www.php2python.com/wiki/function.pack/)网站可以帮助你 - 它建议使用`struct.pack`

# ios - 如何在核心图形中从中心缩放上下文？

> ID：13892735
> 
> 赞同：2
> 
> 时间：2012-12-15T13:44:19.720
> 
> 标签：ios, core-graphics, quartz-graphics

我正在使用 Core Graphics 进行绘图，我需要缩小当前上下文。我使用 CGContextScaleCTM 函数，但这使用 de origin 而不是中心。如何从中心制作比例？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:27:25.293

缩放后，您可以使用`CGContextTranslateCTM`将上下文移动到您喜欢的任何位置。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-07-01T04:33:38.517

根据需要更改常数。

```
let percentScale : CGFloat = 0.8
context.translateBy(x: rect.size.width * (1.0 - percentScale) * 0.5, y: rect.size.height * (1.0 - percentScale) * 0.5)
context.scaleBy(x: percentScale, y: percentScale)
// ...draw into context 
```

# django - Django/Python 运行时错误：超出最大递归深度

> ID：13892738
> 
> 赞同：13
> 
> 时间：2012-12-15T13:45:15.803
> 
> 标签：django, runtime-error

我正在尝试将博客应用程序添加到我的 Django 项目中。当我将所有内容放在一起时，我可以看到我的博客文章页面，但是 blogapp/urls.py 文件中的某些内容导致我在某处遇到最大递归错误，我很难找到它。首先，这是完整的错误消息：

```
RuntimeError at /admin/
maximum recursion depth exceeded while calling a Python object
Request Method: GET
Request URL:    localhost/admin/  #I edited this due to a posting error
Django Version: 1.4
Exception Type: RuntimeError
Exception Value:    
maximum recursion depth exceeded while calling a Python object
Exception Location: /Users/User/tmp/newproject/DJANGO/lib/python2.7/site-packages/Django-1.4-py2.7.egg/django/utils/translation/trans_real.py in get_language, line 222
Python Executable:  /Users/User/tmp/newproject/DJANGO/bin/python
Python Version: 2.7.1 
```

这是来自 mysite/urls.py 的 urlpatterns 变量：

```
urlpatterns = patterns('',
    url(r'^polls/', include('polls.urls')),
    url(r'^blogapp/', include('blogapp.urls')),
    url(r'^admin/', include(admin.site.urls)),
) 
```

这是我的 blogapp/urls.py 文件：

```
from django.conf.urls import patterns, include, url
from django.views.generic import ListView
from blogapp.models import Post
urlpatterns = patterns('',
    url(r'^', ListView.as_view(queryset=Post.objects.all().order_by("-created")[:2],
                            template_name="/Users/User/tmp/newproject/DJANGO/mysite/templates/blogapp/blog.htm    l")),     
    url(r'^blog/', include('blogapp.urls')),
) 
```

而且，为了更好地衡量，这是我的 blogapp/models.py 文件：

```
from django.db import models

class Post(models.Model):
    '''represents a class instance of a blog entry'''
    title = models.CharField(max_length=100)
    created = models.DateTimeField()
    body = models.TextField()

    def __unicode__(self):
        return self.title 
```

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-12-15T13:52:40.877

您似乎在其内部包含 blogapp.urls 。听起来不是个好主意。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-04-08T00:44:11.273

问题是 django 注销方法在您的视图注销方法中。所以它呼唤自己，永无止境。

因此，您可以将视图注销方法重命名为“signout”或类似名称。

其他方法是使用其他名称导入 django logout，如下所示，并在您的注销方法中调用它： from django.contrib.auth import logout as core_logout

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-12-15T13:50:55.560

我假设您正在尝试创建成员对象属性

```
''represents a class instance of a blog entry'''
    title = models.CharField(max_length=100)
    created = models.DateTimeField()
    body = models.TextField() 
```

理想情况下，它应该进入构造函数方法

```
 def __init__(self):
''represents a class instance of a blog entry'''
    title = models.CharField(max_length=100)
    created = models.DateTimeField()
    body = models.TextField() 
```

# c++ - 渲染时加载纹理 (OpenGL)

> ID：13892742
> 
> 赞同：3
> 
> 时间：2012-12-15T13:45:42.923
> 
> 标签：c++, multithreading, opengl, textures, openglcontext

我想在屏幕显示动画加载屏幕（使用 OpenGL 渲染）时加载一些网格，包括 OpenGL 纹理。

所以我在第二个线程中加载东西，这当然不起作用，因为我无法从两个线程访问相同的 GL 上下文。

我使用的是 SDL 1.2，整个事情必须独立于平台，所以我不能使用 wgl-stuff。

我有哪些可能性？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T16:21:23.627

使用 Pixel Buffer Objects 为图像数据创建地址空间映射（`glMapBuffer`），映射的 OpenGL 内存区域可以从进程的所有线程中访问。使用辅助线程将图像数据复制到此，然后`glUnmapBuffer`从`glTexImage`主线程中的 PBO 复制。取消映射和纹理上传都是异步发生的，因此您已经可以处理下一个图像，而前一个图像仍会传输到快速内存。

然后，您所需要的只是一种在线程之间进行通信的方式，该线程将执行下一个任务以及该任务何时完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:33:52.467

这肯定不是最优雅的解决方案，但您可以使用空栏绘制加载屏幕，加载一些资产并增加栏，然后再次绘制。重复，直到你加载了所有东西。
在伪：

```
loadgraphics(){
  int progress=0;
  glClear(GL_COLOR_BUFFER_BIT);
  //draw you loading bar from 0 to progress
  //load something
  ++progress;
  SwapBuffers(hdc);
  glClear(GL_COLOR_BUFFER_BIT);
  //draw you loading bar from 0 to progress
  //load something
  ++progress;
  SwapBuffers(hdc);
  glClear(GL_COLOR_BUFFER_BIT);
  //draw you loading bar from 0 to progress
  //load something
  ++progress;
  SwapBuffers(hdc);
  glClear(GL_COLOR_BUFFER_BIT);
  //draw you loading bar from 0 to progress
  //load something
  ++progress;
  SwapBuffers(hdc);
  glClear(GL_COLOR_BUFFER_BIT);
  //draw you loading bar from 0 to progress
  //load something
  ++progress;
  SwapBuffers(hdc);
} 
```

这真的不是要走的路，但如果你只是想要一个快速的肮脏的方式，它就可以工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-15T16:29:42.977

是的，您可以访问在另一个线程上创建的资源。您需要做的是在辅助线程上创建辅助 opengl 上下文并使用 wglShareLists 在 2 个上下文之间共享数据。

当然在主线程上使用它之前你需要再次绑定它。

还要检查这个问题 [SDL / OpenGL:Implementing a "Loading thread"](https://stackoverflow.com/questions/6821202/sdl-opengl-implementing-a-loading-thread)

# rspec - Cucumber 中的 Rspec 期望：在类中使用时未定义的方法“be”

> ID：13892743
> 
> 赞同：2
> 
> 时间：2012-12-15T13:46:06.817
> 
> 标签：rspec, cucumber, capybara, rspec-expectations

我在黄瓜框架中使用 rspec 期望，在步骤定义级别使用时它们看起来很好。

我已经配置了我的 env.rb 文件：

```
require 'rspec/expectations'
World(RSpec::Matchers) 
```

我现在注意到的问题是，如果我尝试在其中一个步骤中使用的对象的方法中使用 rspec，那么我会失败。

```
E.g.
Steps_definition.rb
   service.use_rspec

class Service
   def use_rspec
       header = page.find("div#services h2").text
       header.should (be 'TV')
   end
 end

Error after execution:
 undefined method `be' for #<Service:0x2592570> (NoMethodError) 
```

知道问题可能出在哪里吗？

我已经尝试在该类中使用 Capybara.page.find(...).should have_content('...') 进行类似的断言，并且 'have_content' 也无法识别，所以不太确定发生了什么：S

非常感谢任何提示！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-15T14:58:58.110

您的 Service 类不在 World 中，因此 RSpec::Matchers 在那里不可用。

你有两种可能：

1.  将 RSpec::Matchers 手动包含到此类中。
2.  把这个类（或模块）放到 World 中。之后，其方法将在步骤定义中直接可用。

写：

```
class Helpers
  def method
    # Capybara and RSpec::Matchers are available here
  end
end
World{Helpers.new} 
```

或者

```
module Helpers
  def method
    # Capybara and RSpec::Matchers are available here
  end
 end
World(Helpers) 
```

# java - Worklight 服务器正在工作，但没有显示 html 页面

> ID：13892747
> 
> 赞同：1
> 
> 时间：2012-12-15T13:46:25.717
> 
> 标签：java, jetty, ibm-mobilefirst

我从 IBM 的页面下载了 Worklight Studio。并创建了一个应用程序，但 MyWLApp.html 页面没有显示任何内容。它应该写“MyWLApp”，但它没有显示。顺便说一句，我启动了 Worklight 服务器，并在应用程序上右键单击/运行为/在服务器上运行，以显示 html 页面，但它给出了：

> 找不到网页

此外，我从 Eclipse.in 更改了 Worklight 的端口并将其设置为 8085。当我将网页更改为 localhost:8085 时，它给出：

```
HTTP ERROR: 404
Problem accessing /MyWLApp/MyWLApp.html. Reason: 
    ProxyServlet: /MyWLApp/MyWLApp.html
--------------------------------------------------------------------------------
Powered by Jetty:// 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T21:40:36.827

右键单击应用程序并选择构建和部署。这将启动 WL 服务器。

# java - jasper 报告中的多个表

> ID：13892748
> 
> 赞同：0
> 
> 时间：2012-12-15T13:46:32.333
> 
> 标签：java, jasper-reports

我的 java 应用程序中有 2 个自定义对象列表（列表 l1，列表 l2）。我想用 jasper 报告实现一个单页报告，在 2 个单独的表格中显示它们。

我该如何解决这个问题？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-15T13:53:21.003

您可以使用子报告...

查看这个：

[子报表](http://www.richardnichols.net/2010/02/simple-guide-to-sub-reports-in-jasperreports-ireport/)

问候..

# python - 从python脚本中生成的文本中去除重复的单词

> ID：13892754
> 
> 赞同：4
> 
> 时间：2012-12-15T13:47:07.643
> 
> 标签：python, string, text, duplicates

我制作了一个 python 脚本来从输入文件中获取文本，并根据剪切技术 (http://en.wikipedia.org/wiki/Cut-up_technique) 为创意写作项目随机重新排列单词。

这是目前的脚本。注意：我将其作为服务器端包含运行。

```
#!/usr/bin/python
from random import shuffle 

src = open("input.txt", "r")
srcText = src.read()
src.close()

srcList = srcText.split()
shuffle(srcList)
cutUpText = " ".join(srcList)
print("Content-type: text/html\n\n" + cutUpText) 
```

这基本上完成了我想要它做的工作，但我想做的一项改进是识别输出中的重复单词并将它们删除。为了澄清，我只想识别序列中的重复项，例如“the”或“II I”。我不想这样做，例如，“the”在整个输出中只出现一次。

有人可以指出我开始解决这个问题的正确方向吗？（我的背景根本不是编程，所以我基本上是通过大量阅读python手册和浏览这个网站来整理这个脚本。请对我温柔。）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T13:54:36.440

您可以编写一个生成器来生成没有重复的单词：

```
def nodups(s):
    last = None
    for w in s:
        if w == last:
            continue
        yield w
        last = w 
```

然后你可以在你的程序中使用它：

```
cutUpText = " ".join(nodups(srcList)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:43:08.307

添加行

```
spaces = [(i%10) == 9 and '\n' or ' ' for i in range(0,len(srcList))];
cutUpText = "".join(map(lambda x,y: "".join([x,y]),srcList,spaces)); 
```

有助于为文本屏幕带来一些原始格式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-20T10:20:00.123

将此添加到您现有的程序中：

```
srcList = list(set(srcText.split())) 
```

# json - jqgrid工具栏搜索自定义格式的列

> ID：13892756
> 
> 赞同：1
> 
> 时间：2012-12-15T13:47:20.633
> 
> 标签：json, jqgrid

我正在从 API 加载 JQGrid，我的网格数据结构之一是 JSON 元素，格式如下：

```
{"id":123,"name":"John Doe","username":"john.doe"} 
```

数据正确显示在网格中，但是如果我尝试在工具栏搜索中输入，我可能没有得到匹配，因为 jqgrid 仍然将上述 JSON 存储为对象。

我的网格的截断版本如下：

```
$('#test').jqGrid({
...
loadonce: true,
datatype: 'local',
colModel: [
{name:'test', index:'test', label:'Test', formatter:customFormatter}
],
...
});

function customFormatter (cellvalue,options) {
                return cellvalue.name;
} 
```

我发现这篇[文章](https://stackoverflow.com/questions/5822302/how-to-do-local-search-on-formatted-column-value-in-jqgrid)似乎解决了这个问题，但是我很难弄清楚如何将它用于 JSON 对象。加载网格后，我看不出为什么本地数据应该是字符串以外的任何内容（直到重新加载网格）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T17:22:26.710

You should choose `name` property of `colModel` which corresponds the names of the properties in the JSON input. So it's native to use just

```
colModel: [
    {name: "name", label: "Name"}
    {name: "username", label: "User Name"}
] 
```

If you do need to remap some names in the JSON input to another names in the `colModel` you should use `jsonmap` property. For example

```
colModel: [
    {name: "test1", label: "Name", jsonmap: "name"}
    {name: "test2", label: "User Name", jsonmap: "username"}
] 
```

The usage of `index` different as `name` is not possible in case of usage of `loadonce: true`. It is *not recommended* to use values of `name` property which have `.` or any other [meta-character](http://api.jquery.com/category/selectors/#jq-primaryContent). The restriction exist because the `name` property will be used to build `id` property of many elements of the grid.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:48:24.397

在偶然发现文档中的 JSON 点符号并将其添加到索引之后，现在可以使用：

```
colModel: [
    {name:'test.name', index:'test.name', label:'Test'}
] 
```

# java - Hibernate 4 数据挖掘

> ID：13892763
> 
> 赞同：-1
> 
> 时间：2012-12-15T13:48:54.240
> 
> 标签：java, database, hibernate, data-mining

我正在开发一个允许用户查看图像的 Web 应用程序。我希望该站点根据图像标签提供相关图像，我听说在这种情况下使用数据库挖掘很有用。我的问题，是否可以在 Hibernate 4 中进行数据挖掘？如果是这样，或者有人给我一个概述

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:22:43.540

数据挖掘通常用作营销语言。

Hibernate 用于使用 java 对象访问数据库，所以是的，它可以用于“数据挖掘”。

您根据标签查找图像的情况是一个非常简单的算法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T16:32:17.543

Hibernate 是一个透明的*持久*层。好吧，图像可以很容易地被认为是静态的，所以不需要在这里保留任何东西。

当然，您可以从 Hibernate 加载输入数据，就像您可以直接从数据库、平面文本文件或任意二进制文件加载一样。

但是，请注意，大多数数据挖掘算法都是**CPU 和数据密集型**的。Hibernate*不能*很好地扩展。它之间通常有很多样板层，所以你能做的最好的可能是从休眠中加载数据，将其复制到更有效的内存结构中，并希望休眠对象很快被垃圾收集。然后完全独立于休眠执行您的分析。一旦你完成了，将它反馈到你的休眠数据库中。

但是，在考虑如何将其连接到休眠之前，我会确保该方法确实*有效*。数据挖掘不是一键式解决方案。它需要经验和实验才能从您的数据中获得任何有用的东西（否则，它不会是数据挖掘，而是简单的数据分析）。数据挖掘不是一种算法或应用程序。它是一个完整的研究*领域*，包括统计学、人工智能、机器学习、计算机视觉、图像检索等。你有很多东西要阅读和尝试！ **所以现在，忘掉 Hibernate，找到一种适用于您的数据的方法**。

# jquery - 仅在更改时刷新

> ID：13892765
> 
> 赞同：1
> 
> 时间：2012-12-15T13:49:04.143
> 
> 标签：jquery, load

我像这样加载一个div：

```
var auto_refresh = setInterval(
function ()
{
    $('#nowplaying').load('nowplaying.php').fadeIn("slow");
}, 10000); 
```

我只想在页面发生变化时加载。我怎么能用“改变”来做到这一点？

这是我尝试过的：

```
function ()
{
    var cachedDOM = $('div#nowplaying').html();
    $.get('nowplaying.php',function(data){
        if (cachedDOM != data) {
        $('#nowplaying').load('nowplaying.php').fadeIn("slow");
        }
    }
    )
}, 3000); 
```

问题是“cachedDOM != data”总是正确的。

帕特里克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T13:53:57.750

我想你的意思是在`body`. 你可以这样做：

```
var cachedDOM = $('body').html();
var auto_refresh = setInterval(
function ()
{
    if(cachedDOM != $('body').html()) 
       $('#nowplaying').load('nowplaying.php',function(){cachedDOM = $('body').html();}).fadeIn("slow");
}, 10000); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-02T13:38:01.600

这对我有用：

```
$(document).ready(function() {
    function loadData() {
        $('#nowplaying').load('currentsong.php').fadeIn("slow");
    }

    var result = null;

    function checkdata() {
        var scriptUrl = "currentsong.php";
        $.ajax({
            url: scriptUrl,
            type: 'get',
            dataType: 'html',
            async: true,
            cache: false,
            success: function(data) {
                if (result != data) {
                    result = data;
                    loadData();
                };
            }
        });
    }

    var auto_refresh = setInterval(function() {
        checkdata();
    }, 4000);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T13:53:34.310

所以你需要另一个页面让你知道它是否改变了。

```
var auto_refresh = setInterval(function () {
  $.get('check_change.php', function(data) {
    if (data.changed) {
      $('#nowplaying').load('nowplaying.php').fadeIn("slow");
    }
  });
}, 10000); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T13:54:05.810

参见 dom 突变事件。然后您将能够检查是否更改了某些内容。[https://developer.mozilla.org/en-US/docs/DOM/Mutation_events](https://developer.mozilla.org/en-US/docs/DOM/Mutation_events)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-15T13:56:24.470

而不是使用`load`，您可以使用`ajax`请求并将`ifModified`-Flag 设置为 true。这只会在页面内容发生更改时为您提供定义的响应。可能需要在服务器端 (etag) 进行更多设置才能使其正常工作。这里是文档的链接：[jquery ajax call](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-15T21:55:30.953

谢谢你。这就是我所做的：

```
var auto_refresh = setInterval(
function ()
{
function getcursong(){  
 var result = null;
 var scriptUrl = "get_current_song.php";
 $.ajax({
    url: scriptUrl,
    type: 'get',
    dataType: 'html',
    async: false,
    success: function(data) {
        result = data;
    } 
 });
 return result;
}    
gcs = getcursong();
okas = $('#song').html();
if (gcs != okas){
    $('#nowplaying').load('nowplaying.php').fadeIn("slow");
}
}, 10000); 
```

# c - MPI 星型（轮辐式）通信器的性能是否优于 MPI_COMM_WORLD？

> ID：13892768
> 
> 赞同：1
> 
> 时间：2012-12-15T13:49:31.300
> 
> 标签：c, performance, mpi, topology, communicator

让我们考虑 MPI 应用程序的以下简单场景：根进程广播（`MPI_Bcast`）一些参数（几十个字节 - 固定大小），然后所有节点开始执行一些计算，然后根收集结果（`MPI_Gather`- 可能非常大的数据集）。数据被root保存后，程序结束。

在什么情况下（进程数、延迟等）（如果有）使用使用虚拟星形拓扑创建的通信器会提供比使用更好的性能`MPI_COMM_WORLD`，为什么？通信器是否对实际通道使用延迟初始化（即仅在第一次需要时打开管道、套接字等）。这种行为实现是否依赖？

注意：我使用`openmpi1.4.3-2`的是纯 C。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-15T18:16:30.283

通信器拓扑是便利的映射功能，它们不需要改变实际通信发生的方式。即使在星形或任何其他图形拓扑中存在未连接的进程（在拓扑意义上），如果它们知道通信器中其他进程的等级，这也不会阻止它们相互发送消息. MPI 实现可能会使用拓扑作为提示来优化通信路径，但这会使它们成为非常复杂的代码片段，至少 Open MPI 在其集体算法中没有这样做（没有经过很好的测试，因此通常禁用`hierarch`的集合组件考虑硬件层次结构，但不考虑虚拟拓扑）。

如果给`reorder=1`通信器构造函数，拓扑可能会通过等级重新排序来影响通信。这使 MPI 实现可以自由地对进程等级重新排序，以便在给定下面硬件的物理拓扑的情况下，尽可能地将它们的物理位置与提供给构造函数的拓扑方案相匹配。有用于集体操作的具有专用网络的硬件平台。例如，IBM Blue Gene/P 有一个允许快速实施的全局中断网络`MPI_BARRIER`和一个加速某些集合操作（​​包括广播）的专用集合网络。但这些仅可用于`MPI_COMM_WORLD`- 后备软件实现用于任何其他通信器。

> 这种行为实现是否依赖？

是的，它取决于实现**和**系统（对于支持多个硬件/通信系统的实现）。这也是您其余问题的答案。

# asp.net - Response.End 后如何刷新页面

> ID：13892776
> 
> 赞同：0
> 
> 时间：2012-12-15T13:50:35.500
> 
> 标签：asp.net, httpresponse

在我的 ASP.NET 应用程序中单击按钮，我正在动态编写 .pdf 内容，并且我允许为用户下载

现在下载我使用了 Response.End() 并且需要刷新页面上的下载计数但是由于 Response.End 它没有发生

请建议

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-16T08:05:54.390

它永远不会发生 - 之后您无法刷新页面`Response.End`

下载文件的方式不是最好的。使用下载文件的处理程序和该文件的简单锚点。

示例/类似：
[通过调用 .ashx 页面](https://stackoverflow.com/questions/12087040/file-download-by-calling-ashx-page/12087222#12087222)
[下载文件从服务器下载文件的最佳方法是](https://stackoverflow.com/questions/10912164/what-is-the-best-way-to-download-file-from-server/10912955#10912955)
[在 asp.net 中的 Response.End() 之后隐藏模式窗口](https://stackoverflow.com/questions/13295997/hide-modal-window-after-response-end-in-asp-net/13296135#13296135)

# android - 如何执行位于其父片段中的 AsyncTask<>？

> ID：13892781
> 
> 赞同：7
> 
> 时间：2012-12-15T13:51:38.247
> 
> 标签：android, android-asynctask, android-fragments

这似乎比看起来更难，或者我做错了。我需要更新片段中 UI 元素的内容。

所以，在一个`Activity`，我开始`AsyncTask`这样的任务

```
new MyAsyncTask().execute(); 
```

在“正常”`Activity`这个异步类中`private`，我认为我可以`public`在片段类中创建它，然后能够从`FragmentActivity`父类调用它。像这样的东西：

```
MyFragment myFragment = (MyFragment) getSupportFragmentManager().findFragmentById(R.layout.my_fragment);
new myFragment.DoParsingAsyncTask().execute(""); //??? a silly guess 
```

这**没有用**。

任何人都可以帮忙吗？

PS。我的片段不是`<fragment>`XML 中的视图，但我通过`ViewPager`. 我通过显示页面没有问题`ViewPager`。
聚苯乙烯。这个异步类开始解析远程内容并填充片段中的 UI 元素。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-19T16:28:32.080

它可能无法解决问题，但在您的片段中创建一个方法并调用它来创建和启动异步任务。它只会更整洁。这是代码。

从`Fragment`调用这样的方法。

```
Activity myActivity = getActivity();
if (myActivity instanceof MyActivity) {
     ((MyActivity) myActivity).doAsyncTaskMethod();
} 
```

或者您可以尝试我已经提出的解决方案。

```
MyFragment myFragment = (MyFragment) getSupportFragmentManager().findFragmentById(R.layout.my_fragment);
myFragment.new DoParsingAsyncTask().execute(""); 
```

这也有效。

# php - 从列中获取最大数字

> ID：13892782
> 
> 赞同：0
> 
> 时间：2012-12-15T13:51:52.830
> 
> 标签：php, mysqli

我需要从“topicid”列中获取最高数字，下面的代码段似乎工作正常，但想知道是否有更好的解决方案，也许没有 while 循环？

```
<?php
   $tquery = "SELECT MAX(topicid) FROM post";
   $tresult = mysqli_query($connect,$tquery);

   while($row = mysqli_fetch_array($tresult)){

   $topidcount = $row['MAX(topicid)'] +1;

?>
   <input type="hidden" name="topicid" value="<?php echo $topidcount;?>" />
   <?php
   }
   ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:05:35.907

当然有更好的解决方案。我会说一个合适的。
你应该改变你的`topicid`领域，使它成为`auto_increment`-ed。

因此，在插入新主题时，只需分配`NULL`它的值，下一个空闲编号将自动分配。
使用您当前的设置，您将面临竞争条件和不一致的数据。因此，您不应手动分配新号码。

至于“无循环”解决方案，聪明的开发者随时准备开发一个工具来缓解频繁的任务。
像这样的自定义函数非常方便：

```
function sqlOne($sql) {
    global $connect;
    $res = mysqli_query($connect,$sql) or trigger_error(mysqli_error($connect)."[$sql]");
    $row = mysqli_fetch_row($res); 
    return $row[0];
} 
```

它可以存储在某处，然后在一行中获取您想要的数据

```
$title = sqlOne("SELECT title FROM post WHERE topicid=".intval($topicid)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T13:53:36.370

`while`当您知道只有一行返回时，取出循环：

```
<?php
   $tquery = "SELECT MAX(`topicid`) FROM `post`;";
   $tresult = mysqli_query($connect, $tquery);

   // get the query result without the while loop
   $row = mysqli_fetch_array($tresult);

   $topidcount = $row['MAX(topicid)'] +1;
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-15T13:54:10.640

你为什么使用循环？

最大将只有 1 行。

尝试：

```
<?php
   $tquery = "SELECT MAX(topicid) as max FROM post";
   $tresult = mysqli_query($connect,$tquery);
   $row = mysqli_fetch_array($tresult));
   $topidcount = $row['max'] +1;
?>
   <input type="hidden" name="topicid" value="<?php echo $topidcount;?>" /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T14:00:06.460

您也不需要使用列名。结果只有一行和一列，所以只需抓住单个元素：

```
<?php 
  $tquery = 'SELECT MAX(topicid) FROM post';
  $row = mysql_fetch_array(mysqli_query($connect,$tquery));
  $topid = $row[0];
?> 
```

# app-store-connect - 在 iTunes Connect 中设置“价格等级表”后如何修改？

> ID：13892784
> 
> 赞同：3
> 
> 时间：2012-12-15T13:51:59.800
> 
> 标签：app-store-connect

在 iTunes Connect 中设置“价格等级表”后如何修改？

我还没有提交请求。

下面是屏幕截图，我想对已经设置的价格等级表进行更改。 ![截屏](../Images/477fad804d14c362b47761fd29280b0c.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-23T01:48:02.853

好吧，我终于发现，通过添加新的时间表，您可以清除旧的时间表。这真是苹果的一个棘手的设计。

# javascript - Javascript Eval 和 Function 构造函数用法

> ID：13892791
> 
> 赞同：2
> 
> 时间：2012-12-15T13:52:21.453
> 
> 标签：javascript

我目前正在试验自我复制代码。出于对语言的热爱，我想用 javascript 编写它。

我正在开发一个编写函数代码的程序，该代码又编写其函数自己的代码等等。基本上，所需的过程是这样的：

1.  我手动创建了一个返回代码（包括一些随机性）和数值（提出的问题解决方案）的函数。
2.  我多次调用这个函数，评估每个返回函数的结果，然后继续这个过程，直到我有足够好的代码来做我想做的事情。

现在，我总是被告知[eval 是多么邪恶](http://blogs.msdn.com/b/ericlippert/archive/2003/11/01/53329.aspx "评估是邪恶的")，如何[永远不要使用它](http://javascript.crockford.com/code.html)等等。但是，对于我的特定用例，Function 构造函数或 eval 似乎正是我正在寻找的。

**所以，简而言之，问题是：**

eval/Function 构造函数确实是在我的情况下使用的最佳工具吗？如果是这样，我想我会使用 Function 构造函数来确定执行代码的范围，但是有没有办法真正限制它访问全局范围？另外，在我的案例中，评估使用的一些好的做法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:10:37.860

我想我只是想出了一些我可以使用的东西：

如果我使用 node.js 运行我的 javascript 代码，我可以使用[vm](http://nodejs.org/api/vm.html)模块，它允许我在新的上下文中安全地执行 javascript 代码，并且不让执行的代码可以访问本地或全局范围。

> vm.runInNewContext 编译代码，然后在沙箱中运行并返回结果。运行代码无权访问本地范围。对象沙箱将用作代码的全局对象。沙箱和文件名是可选的，文件名仅用于堆栈跟踪。

你可以在这里看到一个完整的例子：[vm.runInNewContext](http://nodejs.org/api/vm.html#vm_vm_runinnewcontext_code_sandbox_filename)

这将使我能够安全地评估代码，并且似乎是目前可用的最安全的方法（我发现）。我认为这是一个比 eval 或调用 Function 构造函数更好的解决方案。

感谢所有帮助过的人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:04:11.227

不幸的是，我相信没有办法阻止它访问全局范围。例如，假设在网络浏览器中我评估了一些这样的代码：

```
(function(window) {
   eval(script);
)(null)); 
```

任何时候脚本试图访问窗口 - 它都会得到一个错误，因为窗口是空的。但是，知道自己在做什么的人总是可以这样做：

```
var global = (function() {
    return this;
}()); 
```

因为当您以 Crockford 所谓的“函数调用风格”调用函数时，this 总是绑定到全局变量。

# php - 从主表和类别表具有一对多关系的每个类别中随机获取 5 行

> ID：13892802
> 
> 赞同：0
> 
> 时间：2012-12-15T13:54:04.277
> 
> 标签：php, mysql, join

这是我有两张桌子的情况

```
of
    idof, (somtother data)
    ---------------------
    1, (somtother data)
    2, (somtother data)
    3, (somtother data) 
```

我有

```
ofc
    id, ofid, idcat
    ------------------
    1,1,1
    1,1,2
    1,2,1
    1,3,3 
```

这是我用来从第一个表中获取所有内容并与第二个表连接的内容

```
SELECT * FROM `of` 
    LEFT JOIN (`ofc`) 
    ON ( `of`.`idof` = `ofc`.`ofid` ) 
```

现在我想为每个 idcat 获取 5 行（想象第二个表有更多行），我似乎无法正确获取 sql。我已经做到了

```
select * from `of` as `f` 
    JOIN `ofc` as `fa` 
    ON `f`.`idof`=`fa`.`ofid`
where (
    select count(*) from `of` as `nf` 
    JOIN `ofc` as `nfa` 
    ON `nf`.`idof`=`nfa`.`ofid` 
    GROUP BY `nfa`.`idcat`
) <= 5; 
```

位此子查询返回多行，mysql 抱怨。有没有其他方法可以做到这一点？无需为每个不同的 idc 执行一个查询？

# android - 无法从 android 访问 cookie 存储

> ID：13892808
> 
> 赞同：0
> 
> 时间：2012-12-15T13:54:58.843
> 
> 标签：android

我正在尝试这个

```
HttpClient httpClient = new DefaultHttpClient();

CookieStore cookieStore = httpClient.getCookieStore();

List<Cookie> cookies = cookieStore.getCookies(); 
```

但我无法访问 getCookieStore()。它只是在 httpClient 上不存在。唯一可用的是

```
httpClient.getClass()
httpClient.getConnectionManager()
httpClient.getParams() 
```

没有其他的。我提高了我的 api 级别，但这仍然不起作用。不确定我需要做什么才能访问从客户端返回的 cookie？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T16:18:51.810

我将 HttpClient 更改为 DefaultHttpClient。即我从

```
HttpClient httpClient = new DefaultHttpClient() 
```

至

```
DefaultHttpClient httpClient = new DefaultHttpClient(); 
```

# java - org.apache.jsp.index_jsp._jspInit 处的 java.lang.NullPointerException

> ID：13892810
> 
> 赞同：2
> 
> 时间：2012-12-15T13:55:27.153
> 
> 标签：java, jsp, jsf, tomcat, servlets

当我尝试运行部署在 tomcat 中的项目时，出现类似错误

```
java.lang.NullPointerException
    at org.apache.jsp.index_jsp._jspInit(index_jsp.java:23)
    at org.apache.jasper.runtime.HttpJspBase.init(HttpJspBase.java:52)
    at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:159)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:329)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
    at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:859)
    at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:579)
    at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1555)
    at java.lang.Thread.run(Thread.java:619) 
```

我已经对此进行了搜索，发现这可能是 servlet-api.jar 和 jsp-api.jar 的问题，但是我已经将两者都从 tomcat 复制到了我的项目的类路径中，但仍然遇到相同的错误。

jsp：

```
<%@ page language="java" import="java.util.*" pageEncoding="ISO-8859-1"%>
<%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
     <base href="<%=basePath%>">

    <title>My JSP 'index.jsp' starting page</title>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">    
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="This is my page">
    <!--
    <link rel="stylesheet" type="text/css" href="styles.css">
    --> 
  </head>

  <body>
    <%--<a href="login.iface">Click Here</a> --%>
  </body>
</html> 
```

类路径包含以下 jar 列表

```
antlr-2.7.6
commons-beanutils
commons-collections
commons-collections-3.1
commons-digester
commons-logging
commons-logging-1.1
dom4j-1.6.1
ejb3-persistence
hibernate3
hibernate-annotations
hibernate-commons-annotations
icefaces-1.8.2
icefaces-comps-1.8.2
javassist-3.9.0.GA
jsf-api
jsf-facelets
jsf-impl
mysql-connector-java-3.1.8-bin
slf4j-api-1.5.11
slf4j-simple-1.5.11 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-15T14:00:11.353

> *我对此进行了搜索，发现这可能是 servlet-api.jar 和 jsp-api.jar 的问题，但我已将两者都从 tomcat 复制到我项目的类路径*

看起来你误解了答案。将它们放在 webapp 的运行时类路径（WEB-INF/lib）**中是**导致此问题的全部原因！摆脱他们。

servletcontainer 本身*已经*随这些库一起提供。从可能不同品牌/版本的任意容器中提供随机下载的库以及 webapp 只会导致此类问题。如果您这样做是为了“修复”您的 webapp 项目中的编译错误，那么您应该以不同的方式解决它。方法见以下链接：

### 也可以看看：

*   [org.apache.jsp.foo_jsp._jspInit(foo_jsp.java:22) 处的 java.lang.NullPointerException](https://stackoverflow.com/questions/4886196/spring-mvc-jsp-and-nullpointerexception/4886595#4886595)
*   [如何在我的 Eclipse 项目中导入 javax.servlet API？](https://stackoverflow.com/questions/4076601/how-do-i-import-the-javax-servlet-api-in-my-eclipse-project/4076706#4076706)

# php - PHP5.4 和 CakePHP2.3 兼容性

> ID：13892814
> 
> 赞同：0
> 
> 时间：2012-12-15T13:56:17.573
> 
> 标签：php, cakephp-2.3

我有一个用 CakePHP2.3 编写的项目，我正在考虑将 PHP 升级到 5.4 版。我试图保持代码干燥，PHP5.4 的特征可以帮助解决这个问题。我当前的 PHP 版本是 5.3.3。

在我开始在服务器上安装东西之前，我想知道这是否是个好主意。

*   您是否一起使用过 CakePHP2.3 和 PHP5.4，如果是，您是否遇到过兼容性问题？

*   您是否使用过 PHP5.4 中的新特性功能，如果是，您是否有任何问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-24T16:04:25.620

我在 PHP 5.4 服务器上有一个 CakePHP 2.2 项目。它工作得很好，因为 CakePHP 的类是用继承模式正确编写的。但是，如果您的应用程序不正确地实现继承，那么您将在 5.4 中得到 PHP 错误，而在 5.3 中没有出现。

```
class parentClass{
    public function test($foo);
}

class childClass extends parentClass{
    //Does not properly implement test
    public function test();
} 
```

否则，CakePHP 2.0+ 是完全兼容的。（由于 CakePHP 2.3 还在开发中，我没有升级。但是它的 API 与 2.2 兼容，所以答案适用于 2.0 分支的所有版本）。

CakePHP 直到 3.0 版才正式支持 Traits。但是，我在我的项目中毫无问题地使用了它们。事实上，它们非常方便！您不能使用任何 CakePHP 方法来导入它们（尚不支持），而只需使用标准`require_once('trait_file_name.php');`，然后将特征应用于您的类/接口。

CakePHP 3.0 将需要 PHP 5.4，因此您希望使用的开发模式正在使用中。

# javascript - 使用关联数组的 D3 日历视图

> ID：13892816
> 
> 赞同：5
> 
> 时间：2012-12-15T13:56:38.433
> 
> 标签：javascript, d3.js, calendar, associative-array

我想像这个例子一样创建一个日历视图： http: [//bl.ocks.org/4063318](http://bl.ocks.org/4063318)：

![在此处输入图像描述](../Images/c649363088b2ac6eeab2e4f9a8c0713f.png)

其实我正在尝试修改它。

我有一个这样的关联数组：`#AdminCourt[["2012-10-02", 2], ["2012-10-09", 2], ["2012-10-16", 1]] #ConstituentAssembly[["2012-10-02", 2], ["2012-10-09", 2], ["2012-10-12", 2], ["2012-10-16", 2]]`

我试着像这样填写日历：

```
BigWordsDates2.map(function(d) {
              return {
                 date: d[0],
                 close: d[1]
              };
              var data = d3.nest()
    .key(function(d) { return d.Date; })
    .rollup(function(d) { return (d.Close - 0); });

  rect.filter(function(d) { return d in data; })
      .attr("class", function(d) { return "day " + color(data[d]); })
    .select("title")
      .text(function(d) { return d + ": " + percent(data[d]); });
      }); 
```

我知道我没有遍历数组，我不知道我是如何尝试的，但似乎我没有正确理解它。

这是我需要你帮助的东西:)

1.  遍历数组。（我知道如何循环，但我不知道是否有办法通过 D3 类）
2.  如何使每个单元格可点击。
3.  如果我可以在一个单元格中添加 MultiValues（可能数组的键取决于日期值）。
4.  如何使日历动态未设置为某个范围。

这是我的脚本代码：

```
var w = 760,
    h = 530;
    var cloudwidth = 700, cloudheight=500;
    var FunctionCount=0;
    var BigWord;
    var SmallWord;
    var tweets =  <?php echo json_encode($Row_Words_Repeated_Relation); ?>;
    //var tweets = JSON.parse(TweetsAnalized);
    var tweetscounts = JSON.parse('<?php echo $Array_OfCounters_to_json ?>');
    var BigWordsDates2 = <?php echo json_encode($Array_OfDates); ?>;
    //var BigWordsDates2 = JSON.parse(BigWordsDates);
    var OriginalTweets = JSON.parse('<?php echo mysql_real_escape_string($OriginalTweets_to_json) ?>');

    var width = 960,
    height = 136,
    cellSize = 17; // cell size

var day = d3.time.format("%w"),
    week = d3.time.format("%U"),
    percent = d3.format(".1%"),
    format = d3.time.format("%Y-%m-%d");

var color = d3.scale.quantize()
    .domain([-.05, .05])
    .range(d3.range(11).map(function(d) { return "q" + d + "-11"; }));

var svg = d3.select("body").selectAll("svg")
    .data(d3.range(2005, 2015))
  .enter().append("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("class", "RdYlGn")
  .append("g")
    .attr("transform", "translate(" + ((width - cellSize * 53) / 2) + "," + (height - cellSize * 7 - 1) + ")");

svg.append("text")
    .attr("transform", "translate(-6," + cellSize * 3.5 + ")rotate(-90)")
    .style("text-anchor", "middle")
    .text(function(d) { return d; });

var rect = svg.selectAll(".day")
    .data(function(d) { return d3.time.days(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
  .enter().append("rect")
    .attr("class", "day")
    .attr("width", cellSize)
    .attr("height", cellSize)
    .attr("x", function(d) { return week(d) * cellSize; })
    .attr("y", function(d) { return day(d) * cellSize; })
    .datum(format);

rect.append("title")
    .text(function(d) { return d; });

svg.selectAll(".month")
    .data(function(d) { return d3.time.months(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
  .enter().append("path")
    .attr("class", "month")
    .attr("d", monthPath);

/*d3.csv("dji.csv", function(error, csv) {
  var data = d3.nest()
    .key(function(d) { return d.Date; })
    .rollup(function(d) { return (d[0].Close - d[0].Open) / d[0].Open; })
    .map(csv);

  rect.filter(function(d) { return d in data; })
      .attr("class", function(d) { return "day " + color(data[d]); })
    .select("title")
      .text(function(d) { return d + ": " + percent(data[d]); });
});*/
BigWordsDates2["#Tahrir"].map(function(d) {
              return {
                 date: d[0],
                 close: d[1]
              };
              var data = d3.nest()
    .key(function(d) { return d.Date; })
    .rollup(function(d) { return (d.Close - 0); });

  rect.filter(function(d) { return d in data; })
      .attr("class", function(d) { return "day " + color(data[d]); })
    .select("title")
      .text(function(d) { return d + ": " + percent(data[d]); });
      });

function monthPath(t0) {
  var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),
      d0 = +day(t0), w0 = +week(t0),
      d1 = +day(t1), w1 = +week(t1);
  return "M" + (w0 + 1) * cellSize + "," + d0 * cellSize
      + "H" + w0 * cellSize + "V" + 7 * cellSize
      + "H" + w1 * cellSize + "V" + (d1 + 1) * cellSize
      + "H" + (w1 + 1) * cellSize + "V" + 0
      + "H" + (w0 + 1) * cellSize + "Z";
}

d3.select(self.frameElement).style("height", "2910px"); 
```

提前致谢，我将非常感谢您的帮助。

编辑1：

我试图做这样的事情：

```
var data1 = d3.entries(BigWordsDates2).forEach(function(d) {
for each (var i in BigWordsDates2[d.key]){
return {
       Date: BigWordsDates2[d.key][i][0],
       Close: BigWordsDates2[d.key][i][1]
    };
};
var data = d3.nest()
.key(function(data1) { return d.Date; })
.rollup(function(data1) { return (d.Close - 0); }); 
```

编辑2：我解决了上面的问题，这就是我能想到的真正需要帮助的全部内容，不知道为什么日历中没有附加这些值。

```
var width = 960,
    height = 136,
    cellSize = 17; // cell size

var day = d3.time.format("%w"),
    week = d3.time.format("%U"),
    percent = d3.format(".1%"),
    format = d3.time.format("%Y-%m-%d");

var color = d3.scale.quantize()
    .domain([-.05, .05])
    .range(d3.range(11).map(function(d) { return "q" + d + "-11"; }));

var svg = d3.select("body").selectAll("svg")
    .data(d3.range(2005, 2015))
  .enter().append("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("class", "RdYlGn")
  .append("g")
    .attr("transform", "translate(" + ((width - cellSize * 53) / 2) + "," + (height - cellSize * 7 - 1) + ")");

svg.append("text")
    .attr("transform", "translate(-6," + cellSize * 3.5 + ")rotate(-90)")
    .style("text-anchor", "middle")
    .text(function(d) { return d; });

var rect = svg.selectAll(".day")
    .data(function(d) { return d3.time.days(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
  .enter().append("rect")
    .attr("class", "day")
    .attr("width", cellSize)
    .attr("height", cellSize)
    .attr("x", function(d) { return week(d) * cellSize; })
    .attr("y", function(d) { return day(d) * cellSize; })
    .datum(format);

rect.append("title")
    .text(function(d) { return d; });

svg.selectAll(".month")
    .data(function(d) { return d3.time.months(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
  .enter().append("path")
    .attr("class", "month")
    .attr("d", monthPath);

/*d3.csv("dji.csv", function(error, csv) {
  var data = d3.nest()
    .key(function(d) { return d.Date; })
    .rollup(function(d) { return (d[0].Close - d[0].Open) / d[0].Open; })
    .map(csv);

  rect.filter(function(d) { return d in data; })
      .attr("class", function(d) { return "day " + color(data[d]); })
    .select("title")
      .text(function(d) { return d + ": " + percent(data[d]); });
});*/

    d3.entries(BigWordsDates2).map(function(d) {
        for each (var i in BigWordsDates2[d.key]){
            /*var count =i;
              return {
                 Date: i[0],
                 Close: i[1]
              };*/                                               
      rect.filter(function(i) { return i in BigWordsDates2; })
          .attr("class", function(i) { return "day " + color(i[0]); })
        .select("title")
          .text(function(i) { return d.key + ": " + percent(i[1]); });

       };
  });

function monthPath(t0) {
  var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),
      d0 = +day(t0), w0 = +week(t0),
      d1 = +day(t1), w1 = +week(t1);
  return "M" + (w0 + 1) * cellSize + "," + d0 * cellSize
      + "H" + w0 * cellSize + "V" + 7 * cellSize
      + "H" + w1 * cellSize + "V" + (d1 + 1) * cellSize
      + "H" + (w1 + 1) * cellSize + "V" + 0
      + "H" + (w0 + 1) * cellSize + "Z";
}

d3.select(self.frameElement).style("height", "2910px"); 
```

我认为很接近。任何帮助，将不胜感激。

我做了一个 jsfiddle 模板：http: [//jsfiddle.net/ARy8d/1/](http://jsfiddle.net/ARy8d/1/)

编辑 3：

我解决了第 1 步和第 2 步，这里是 jsfiddle 链接：http: [//jsfiddle.net/makoto/ARy8d/9/](http://jsfiddle.net/makoto/ARy8d/9/)

现在试图找到一种解决方法来在同一个单元格中添加多值

例如，如果我在数组中有 2 个值具有相同的日期，我想添加并在右侧单元格中查看它们。但是代码现在做什么，如果有 2 个值具有相同的日期值，则最后一个会覆盖第一个。

任何帮助都可以，在此先感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T23:07:54.960

对于那些遇到与我曾经遇到的问题类似的问题的人来说，这是 1 号和 2 号的解决方案。希望这会有所帮助。

数组看起来像这样：`BigWordsDates2 = {"#Tahrir":[["2012-10-12",20],["2012-10-13",1],["2012-10-19",15]],"#Egypt":[["2012-10-01",3],["2012-10-03",2],["2012-10-04",3],["2012-10-07",1],["2012-10-10",1],["2012-10-13",2],["2012-10-14",1],["2012-10-15",1],["2012-10-16",1],["2012-10-17",4],["2012-10-19",5]]};`

保存您想要的目标数组值的值，如下所示：`var tahrir = BigWordsDates2['#Tahrir']`

然后用它覆盖 CSV 数据。您可以在下面的 jsfiddle 中找到带有解决方案的示例。

[http://jsfiddle.net/makoto/ARy8d/7/](http://jsfiddle.net/makoto/ARy8d/7/)

# php - 在产品页面上获取类别父 ID - opencart

> ID：13892817
> 
> 赞同：1
> 
> 时间：2012-12-15T13:56:38.963
> 
> 标签：php, opencart

有没有办法在 Opencart v1.5.4.1 的产品页面中获取产品的类别 parent_id。什么正在尝试根据类别 parent_id 更改按钮 href .. 如果 parent_id = 20 那么按钮应该有 href1 else href2。

到目前为止，我已经这样做了，但它不起作用。

`$this->load->model('tool/image');`在“ ”之前添加

```
$product_cat = $this->model_catalog_product->getCategories($product_id);      
$product_cat_parent = $this->model_catalog_category->getCategory($product_cat[0]['category_id']);
            if ($product_cat_parent['parent_id'] == '20') {
                $this->data['sizeguide'] = $this->url->link('faq/faq/info', 'fpath=12');
            } else {
                $this->data['sizeguide'] = $this->url->link('faq/faq/info', 'fpath=13');
            } 
```

在模板文件中：

```
<a class="button2 sizeguidebox" href="<?php echo $sizeguide; ?>"><?php echo $text_sizeguide; ?></a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T23:22:16.737

这看起来更复杂，但作为一种万无一失的检查方法，它实际上更简单、更有效。它将选择与当前产品相关的所有类别，查找其所有类别信息，并过滤 parent_id 为 20 的类别。如果查询有任何结果（即其中一个类别是 ID 为 20 的类别的子类别) 然后它将相应地设置常见问题信息

```
$product_cat = $this->model_catalog_product->getCategories($product_id);
$result = $this->db->query("
SELECT
    `c`.`parent_id`
FROM
    `" . DB_PREFIX . "category` `c`
LEFT JOIN
    `" . DB_PREFIX . "product_to_category` `p2c`
ON
    `c`.`category_id` = `p2c`.`category_id`
WHERE
    `c`.`parent_id` = '20'
AND
    `p2c`.`product_id` = '" . (int) $product_id . "'
");

if($result->num_rows > 0) {
    $this->data['sizeguide'] = $this->url->link('faq/faq/info', 'fpath=12');
} else {
    $this->data['sizeguide'] = $this->url->link('faq/faq/info', 'fpath=13');
} 
```

请注意，这尚未经过测试，但理论上应该可以工作

# php - mySQL 的字符编码问题 - '�'

> ID：13892822
> 
> 赞同：0
> 
> 时间：2012-12-15T13:57:08.623
> 
> 标签：php, mysql

该字段的排序规则是 utf8_general_ci，页面的字符集是 utf8，但似乎无法识别我存储在数据库中的某些数据。在查看 phpmyadmin 时，我不断收到这个字符，因为该字段中似乎没有值。

有什么想法吗？

# dynamics-crm-2011 - 循环工作流在多次迭代后停止

> ID：13892825
> 
> 赞同：0
> 
> 时间：2012-12-15T13:57:43.237
> 
> 标签：dynamics-crm-2011, dynamics-crm-online

在实体*Hazaa*实例化时启动工作流。它等待一段时间，然后创建一个新的*Hazaa*实例。之后，它被*成功*休眠。

我希望它会永远开火，创造一堆*Hazaas*。然而，在生育停止之前，我只得到了 15 个新的。连同我手动创建以启动工作流的原始实例，总共有 16 个实例。我已经测试了更长的延迟（最多几个小时），但行为是一致的。

那是针对在线 CRM 的。在前提下，行为相似，但总共限制为 8 个实例。

根据我发现的链接收获，CRM中有一个设置来控制迭代次数。问题是我的解决方案将主要为在线客户部署，所以除非我拥有云，否则这将是一个阻碍。

我知道它是 CRM 防止再次发生。我能做些什么呢？

目前我能想到的最好的解决方案是设置一个超级工作流，将子工作流触发 16 次。然后我需要有一个超级超级的工作流程等等。在我看来这不是吹牛的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-16T01:04:56.827

A`CorrelationToken`包含一个计数器和一个一小时的“自毁”计时器。

当第一个工作流运行时，`CorrelationToken`会创建一个新的。计数器设置为 1，计时器设置为一小时。

当第二个工作流从第一个工作流启动时（即使是间接的，例如在您的情况下），*如果其自毁计时器尚未过期*`CorrelationToken`，则使用相同的工作流。如果有，则创建一个新的。如果没有，它会增加计数器并重置计时器。起泡，冲洗，重复。*`CorrelationToken`*

 *仅当计数器为 8 或更少（本地）或 16 或更少（CRM Online）时，第二个（和后续）工作流才会执行

这真正意味着在实践中，如果您的子工作流执行时间早于一小时，则`CorrelationToken`永远不会有机会过期，这意味着最终计数器会增加超过限制。这**并不**意味着您每小时最多可以执行 8 个（或 16 个）这些工作流。

听起来您已经弄清楚了大部分内容，但我想为其他读者提供背景知识。因此，要回答您的问题：如果您的设计包括间隔不到一小时执行的循环工作流程，您将需要考虑替代设计。它肯定会涉及外部流程或服务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T18:50:10.443

如果我对您的理解正确，听起来您正在创建一个无限循环，这就是 CRM 会终止此类工作流程的原因，否则它们将永远不会结束。在什么情况下你会停止制作更多的 Hazaa 唱片？您可以在每个新的 Hazaa 上添加一个数字字段并增加该字段，当它达到某个数字时停止工作流程。*

# javascript - 告诉闭包编译器不要重命名任何函数

> ID：13892826
> 
> 赞同：0
> 
> 时间：2012-12-15T13:57:47.637
> 
> 标签：javascript, google-closure-compiler

我想编译部分基于 Mootools 库的 JS 代码。

我希望所有变量都被重命名，但没有函数，被调用和定义的函数。因为大多数被调用的是来自 mootools 并且定义的那些是从外部调用的：

要编译的代码：

```
// textnum is safe to be renamed, all variables are
textnum = 0;
// loadText can't be ranmed because is called from outside
function loadText()
{
    textnum++;
    document.body.setStyle("font", "12px");
    // here setSyle can't be renamed
} 
```

有没有办法告诉它只重命名变量？

**我发现这是一个开源项目，有没有办法以某种方式操纵它，它根本不触及功能！？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T14:29:38.287

将要编译的代码放在命名空间或匿名函数包装器中，并使用简单的优化。这会重命名所有内部变量和函数，但不会重命名全局变量和函数，例如`setStyle`.

不应重命名的函数在全局范围内定义。与定义 extern 和 export 相比，这并没有那么痛苦。

# javascript - 使用 cookie 的 Javascript 跨域发布请求

> ID：13892835
> 
> 赞同：0
> 
> 时间：2012-12-15T13:59:09.573
> 
> 标签：javascript, jquery, html, forms

使用 Javascript 我想跨域发出多个 POST 请求。在第一个实例中，我将响应 cookie 存储在一个变量中，然后我重新发送第二个 POST 请求。

例如，在 ruby​​ 中，我会做这样的事情：

```
@http = Net::HTTP.new("myhost.com", 80)

// first request
data = "param1=xxxx&param2=yyyy&param3=zzzz"
resp = @http.post("/firstrequestform", data, {'User-Agent'=>'me'})

// second request
@cookie = resp['set-cookie']
headers = { "Cookie" => @cookie, "Referer" => "http://myhost.com/firstrequestform" }
data = "param1=xxxx&param2=yyyy&param3=zzzz"
resp = @http.post("/secondrequestform", data, headers) 
```

考虑到跨域限制，是否可以在 Javascript 中执行此操作。也许可以使用 iframe，但您将如何控制 cookie？我还想在 iFrame 中设置自定义标头，例如 Referer 标头。

如果不可能，有没有人知道可以用来执行此操作的浏览器插件？

谢谢。

更新

不幸的是，在这种情况下，不可能通过第 3 方服务器路由任何请求（所有代码都必须在客户端）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:05:55.363

最简单的方法是将您的服务器用作代理。向您的服务器发出 AJAX 请求，并使用显示的 Ruby 代码向其他域发出请求并输出对 AJAX 请求的响应

# wolfram-mathematica - 对隐式方程的解进行积分

> ID：13892836
> 
> 赞同：1
> 
> 时间：2012-12-15T13:59:42.030
> 
> 标签：wolfram-mathematica

我在 Mathematica 中有一个隐式方程，我使用 NSolve 求解。现在，我需要根据高斯权衡各种解决方案，但我不能让它发挥作用。到目前为止，这是我的建议：

```
a = (4.2*10^(-5));
b = 4067;
c = 112;
sol[d_] := Select[NSolve[s == (1 + a^2*(2*Pi*1000*d)^2)/((1 + c/(1 + (s*b)/(1 + a^2*(2*Pi*1000*d)^2)))^2 + a^2*(2*Pi*1000*d)^2), {s}], Chop[(Im[s] /. #)] == 0 &][[1]][[1]][[2]];

NIntegrate[Exp[-v^2]*sol[v], {v, -2, 2}] 
```

但是，这不起作用。有谁知道我做错了什么？我想要的非常简单，但我在实现它时遇到了一些问题。

最好的，奈尔斯。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T14:05:39.437

试试这个; 要点是使用第三个参数来`NSolve`指定域并确保`sol2`仅在数字参数上调用函数。

```
sol2[d_?NumericQ] := NSolve[s == (1 + 
     a^2*(2*Pi*1000*d)^2)/((1 + 
        c/(1 + (s*b)/(1 + a^2*(2*Pi*1000*d)^2)))^2 + 
     a^2*(2*Pi*1000*d)^2), {s}, Reals][[1]][[1]][[2]]

NIntegrate[Exp[-v^2]*sol2[v], {v, -2, 2}]
(* 1.66556 *)

Plot[Exp[-v^2]*sol2[v], {v, -2, 2}] 
```

![阴谋](../Images/9705b2284549d9d786d54346bf891fd0.png)

# css - 浮动 div 垂直对齐

> ID：13892838
> 
> 赞同：1
> 
> 时间：2012-12-15T13:59:58.200
> 
> 标签：css

我正在尝试将浮动 div 中的文本垂直对齐到底部，但它似乎不起作用。这是我目前拥有的：

```
<div class="header_left">TEXT</div> 
```

CSS：

```
.header_left {
width: 50%;
text-align: left;
float: left;
vertical-align: bottom;
border-bottom: 1px solid #666;
} 
```

我需要浮动 div，因为我想并排放置 2 个 div，但我似乎无法让文本进入 div 的底部。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:15:16.523

[**工作演示**](http://jsfiddle.net/6bZLp/)

您需要有 2 个 div 才能通过相对和绝对位置实现这一点。

```
<div id="container">
  <div id="content">Bottom Content</div>
</div>​

#container
{ 
    position: relative; 
    height: 200px;
    background-color: #eee;
}

#content 
{ 
    position: absolute; 
    bottom: 0; 
}​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:22:10.137

[http://jsfiddle.net/2Z6tA/1/](http://jsfiddle.net/2Z6tA/1/)

```
<div class="header_left">
    <span id="bottom">Text at bottom</span>
</div> 
```

CSS：-

```
.header_left {
width: 50%;
text-align: left;
float: left;
vertical-align: bottom;
border-bottom: 1px solid #666;
height:100px;
position: relative;    
}

span#bottom{
    position: absolute;    
    bottom: 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-26T18:57:34.827

如果您不想要 div 容器，请尝试另一件事，设置边距顶部和底部。例如：

```
.header_left {
margin-top:50%
margin-bottom:50%
} 
```

您将不得不修改测量值，50% 并不总是可以使用的量。我使用 9% 垂直对齐浮动的 :before 图像，位于我正在开发的移动网站上的按钮上。

# iphone - iOS - Amazon S3 慢速下载

> ID：13892846
> 
> 赞同：1
> 
> 时间：2012-12-15T14:00:30.673
> 
> 标签：iphone, ios, amazon-web-services, amazon-s3, amazon-cloudfront

我正在创建一个 iOS 应用程序，它允许用户编写状态更新，人们可以对其发表评论，喜欢它，以多种方式与之交互，基本上状态更新具有多个将与它一起存储的属性。想象一个应用程序的主屏幕，其中超过 50 个状态更新表示为表格视图。

现在把你的眼睛移开，专注于一个练习/演示应用程序，一个试图在大型比赛之前掌握技术的开发人员（就是我！）所以基本上，我已经开始在新加坡建立一个 S3 存储桶。我住在新加坡，所以附近有一个服务器，真的一切都应该快速顺利。除了，它只是没有。它很慢，它开始让我生气。

我知道一个使用 S3 的应用程序可以加载带有评论、喜欢等的高清全景图像，并且加载所有这些数据需要一秒钟或更长时间。我不确定他们实际上是如何执行该过程的，我知道他们将图像存储在 S3 上，但我只知道这些。在我的入门演示中，我只需上传一些文本（比如 20 条）然后下载它们，在我的 60 mbps wifi 下大约需要 15 秒！这些文本甚至不超过一个句子，它们是短语，所以我在这里真的有点困惑。

我有 CloudFront 设置，但不是用于网站吗？我已经设置了管理分发和 URL，但是如何在我的代码中设置？这可能是我要确定稍后在我的其他应用程序中发布的最大问题。即便如此，我住在新加坡并且存储桶在新加坡服务器中，因此用于自测/练习的 CloudFront 不是强制性的。

我觉得这非常令人困惑，这是我生成的一些带注释的代码，是否有任何问题，导致它变慢的误解？

```
- (void)loadObjects {

S3ListObjectsRequest  *listObjectRequest = [[S3ListObjectsRequest alloc] initWithName: @"testbucketquotes.rohanprostudios"];
S3ListObjectsResponse *listObjectResponse = [[AmazonClientManager s3] listObjects:listObjectRequest];
if(listObjectResponse.error != nil)
{
}
else
{
    S3ListObjectsResult *listObjectsResults = listObjectResponse.listObjectsResult;

    if (objects == nil) {
        objects = [[NSMutableArray alloc] initWithCapacity:[listObjectsResults.objectSummaries count]];
    }
    else {
        [objects removeAllObjects];
    }

    // By defrault, listObjects will only return 1000 keys
    // This code will fetch all objects in bucket.
    NSString *lastKey = @"";
    for (S3ObjectSummary *objectSummary in listObjectsResults.objectSummaries) {

        if ([[objectSummary key] rangeOfString: @"UploadedQuote"].location != NSNotFound) {

        [objects addObject:[objectSummary key]];
        lastKey = [objectSummary key];

        }
    }

    while (listObjectsResults.isTruncated) {
        listObjectRequest = [[S3ListObjectsRequest alloc] initWithName: @"testbucketquotes.rohanprostudios"];
        listObjectRequest.marker = lastKey;

        listObjectResponse = [[AmazonClientManager s3] listObjects:listObjectRequest];
        if(listObjectResponse.error != nil)
        {                
            break;
        }

        listObjectsResults = listObjectResponse.listObjectsResult;

        for (S3ObjectSummary *objectSummary in listObjectsResults.objectSummaries) {

            if ([[objectSummary key] rangeOfString: @"UploadedQuote"].location != NSNotFound) {

                [objects addObject:[objectSummary key]];

            }

            lastKey = [objectSummary key];
        }
    }

    if (objects.count) {

        for (int i = 0; i <= objects.count - 1; i++) {

            S3GetObjectRequest *req = [[S3GetObjectRequest alloc] initWithKey:[objects objectAtIndex: i] withBucket: @"testbucketquotes.rohanprostudios"];

            `// asynchronously loads text (adds to operation queue)`
            AsyncQuoteDownloader *quote = [[AsyncQuoteDownloader alloc] initWithRequest:req andViewController: self];

            [operationQueue addOperation: quote]; 
            // in 'AsyncQuoteDownloader' when finished calls a method in this view controller adding the response to an array and reloading a table
        }

    }
  }

});
 } 
```

我的代码有什么问题导致它如此滞后吗？如果图像服务需要 1 秒来加载带有喜欢和评论等的 HQ 图像需要 1-2 秒，我会认为这将需要几毫秒。

感谢您的任何帮助...

更新

* * *

好的，所以密钥的迭代似乎不是这里的问题，而是对象的下载。有什么想法吗？谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T17:43:45.383

这是我第一次看到Objective C，所以我在这里可能完全错了。但是...看起来您正在遍历整个存储桶的键。对于任何可观数量的键，这将非常非常缓慢。

更好的设计是将查找表存储在 DynamoDB 之类的东西中（因为您已经在使用 AWS）。您将在那里查询，获取匹配 id 的数组（S3 键），然后从 S3 获取匹配对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T17:48:54.537

正如我在自己的 iOS 应用程序中使用的那样，另一种选择是使用 Heroku 作为应用程序层并创建指向您的内容的 POSTGRESQL 记录。通过这种方式，您可以在 Rails 中创建丰富的查询，并利用 Rails 的强大功能调解上传和下载，而不是同时为 DynamoDB 和 S3 付费。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-17T01:09:06.710

原来我的存储桶设置为美国地区而不是新加坡地区......#doh

现在速度更快，工作正常

我只需要将`AmazonS3Client`' 的端点设置为新加坡（SEA）区域

# rdf - 如何调整此本体以进行简单的几何形状识别？

> ID：13892848
> 
> 赞同：1
> 
> 时间：2012-12-15T14:00:42.183
> 
> 标签：rdf, ontology, inference, shape-recognition

我有以下本体，其中红色链接是`DatatypeProperties`，蓝色链接是，`ObjectProperties`黑色链接是“is_a”关系。本体只是表示`POINT`和`COORDONATES`概念`SHAPES`。

我对用这个本体进行几何形状识别很感兴趣。

假设我们有四个实例`POINT`：**point0**、**point1**、**point2**和**point3**，它们具有适当的坐标，并且都与名为**shape0**`is-contained-in`的实例的属性相关。`SHAPE`

 **这个本体中需要什么来推断根据坐标点，**shape0**是 a`SQUARE`而不是 a `RECTANGLE`？

换句话说，如何在本体中引入识别能力。

![在此处输入图像描述](../Images/f240854b9ada50e0477783a2d381b0aa.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T13:49:13.370

我只是举个例子，如何将它写成 swrl 规则。请注意，这未经测试，可能不准确。所以，认为这只是一个线索。

形状(?s),hasCordinates(?s,c1),hasCordinates(?s,c2),hasx(?c1,?x1),hasy(?c1,?y1),减法(?x1,?y1,?diff1 ),hasx(?c2,?x2),hasy(?c2,?y2),减法(?x2,?y2,?diff2),pow(?diff1, 2, ?sq1),pow(?diff2, 2, ?sq2),add(sq1,sq2,?sum1).....(?sum2).....-> issquare(?s)

请注意，会有更有效的方法来做到这一点。**

# php - 使用 MaxMind 的 GeoLite 获取区域名称

> ID：13892852
> 
> 赞同：0
> 
> 时间：2012-12-15T14:01:00.633
> 
> 标签：php, geoip, ip-geolocation, maxmind

我对如何获取区域名称感到有些困惑，并且找不到任何文档。我在这个目录'...IP GeoLite\GeoLite'中安装了数据库'GeoIP.dat'和'geoip.inc'，我还有一个用于测试\IP GeoLite\find.php的php页面里面的代码'find.php' 页面不起作用：

```
<?php
/* Instead of having to determine the country of the client every time they visit the site we are going to set 
a cookie so that any other script in PHP or Javascript can use the region information. 
The user is also given a menu option to change the region and reset the cookie to a new value.
Likewise, if it already exists we don't want to change it.
We start off by checking that the cookie called Region exists. 
If it does, the job is nearly done and we simply set the $Region variable so that we can refresh 
the cookie at the end of the program by recreating it. */
 if(isset($_COOKIE['Region']))
 {
  $Region = $_COOKIE['Region'];
 }
 else
/* Only if the cookie isn't set do we do the actions in the else part of the if, 
so this makes the whole thing efficient.
To make use of the GeoLite code we have to load the include file: */
{ 
  $GeoPath= 'GeoLite/'; 
  include($GeoPath.'geoip.inc'); 
}
  $countrydata = GeoIP_region_name_by_code(gir->country_code, gir->region) ;
  echo $countrydata ;
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T04:22:05.843

您必须先打开 Geo IP 二进制数据文件

```
// Open Geo IP binary data file
$geoIp = geoip_open($GeoPath.'GeoIP.dat',GEOIP_STANDARD); 
```

查看此文档[http://www.maxmind.com/download/geoip/api/php.old/README](http://www.maxmind.com/download/geoip/api/php.old/README)

# android - Android：将对象转换为 JSON 字符串

> ID：13892853
> 
> 赞同：1
> 
> 时间：2012-12-15T14:01:00.987
> 
> 标签：android, json, serialization, jackson

我正在将[Android SpringRest](http://www.springsource.org/spring-android)与[Jakson](http://jackson.codehaus.org)一起使用。目前我正在使用：

```
restTemplate.postForObject(baseURL + url, 
                           postCarDetail, 
                           ReplyToAdResponse.class, 
                           auth_token); 
```

现在我想检查`postCarDetail`对象中的所有内容是否格式正确。如何将其转换`postCarDetail`为 JSON 字符串？

# excel - Excel 单元格自动打开/关闭文件窗口并将文件名和路径作为单元格值

> ID：13892857
> 
> 赞同：1
> 
> 时间：2012-12-15T14:01:47.093
> 
> 标签：excel, excel-2007, vba

我是 Excel 的新手。我需要像下面这样的东西。

当用户单击单元格或进入单元格时：

1.  它应该自动打开/关闭文件窗口。

2.  当用户选择一个文件时，它应该选择路径/文件名并放入单元格中，比如`c:\folder1\file1.ext`

3.  如果用户选择了多个文件，它应该将所有路径/文件名拾取到单元格中，并`|`作为分隔符。像`c:\folder1\file1.ext|d:\folder2\file2.ext`

4.  如果用户第二次单击一个单元格或进入单元格，它应该保留现有的路径/文件名，并允许向它们添加其他路径/文件名，如数字 3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-16T00:52:14.587

这类似于 Sid 的，只是让您双击任何单个单元格以打开文件对话框。

*在一个模块中*

![显示在何处粘贴 getList 代码的图像](../Images/4ae0b26930afc29337834edaf869182f.png)

```
Public Function getList(Optional ByVal Target As Range = Nothing) As String
Dim Dialog As FileDialog
Dim File As Integer
Dim Index As Integer

Dim List() As String
Dim Item As Integer
Dim Skip As Boolean

Set Dialog = Application.FileDialog(msoFileDialogFilePicker)

File = Dialog.Show

If File = -1 Then
    ' Get a list of any pre-existing files and clear the cell
    If Not Target Is Nothing Then
        List = Split(Target.Value, "|")
        Target.Value = ""
    End If
    ' Loop through all selected files, checking them against any pre-existing ones to prevent duplicates
    For Index = 1 To Dialog.SelectedItems.Count
        Skip = False
        For Item = LBound(List) To UBound(List)
            If List(Item) = Dialog.SelectedItems(Index) Then
                Skip = True
                Exit For
            End If
        Next Item
        If Skip = False Then
            If Result = "" Then
                Result = Dialog.SelectedItems(Index)
            Else
                Result = Result & "|" & Dialog.SelectedItems(Index)
            End If
        End If
    Next Index
    ' Loop through the pre-existing files and add them to the result
    For Item = UBound(List) To LBound(List) Step -1
        If Not List(Item) = "" Then
            If Result = "" Then
                Result = List(Item)
            Else
                Result = List(Item) & "|" & Result
            End If
        End If
    Next Item
    Set Dialog = Nothing
    ' Set the target output if specified
    If Not Target Is Nothing Then
        Target.Value = Result
    End If
    ' Return the string result
    getList = Result

End If
End Function 
```

*在您的工作表代码中*

![显示在何处粘贴工作表代码的图像](../Images/6c86a954e953efa68c4c0a0ae2dfdc18.png)

```
Private Sub Worksheet_BeforeDoubleClick(ByVal Target As Range, Cancel As Boolean)
    If Target.Rows.Count = 1 And Target.Columns.Count = 1 Then getList Target
End Sub 
```

**更新** 我改变了 getList 函数（它没有坏，只是让它做得更多）

*   它将允许您双击任何单元格，这将打开一个文件对话框。
*   您可以选择 1 个（或更多）文件
*   文件名将用“|”连接 字符并放入目标单元格
*   如果单元格中有任何预先存在的文件，则新文件将附加到它们

但是它不支持按回车键打开文件对话框，您必须双击单元格。

**更新** 以帮助 VMO（评论者）

工作表模块中的代码：

```
Private Sub Worksheet_BeforeDoubleClick(ByVal Target As Range, Cancel As Boolean)
    If Target.Rows.Count = 1 And Target.Columns.Count = 1 Then
        If Target.Address = "$A$1" Then ' See Notes Below
            Target.Value = getList(Target)
        End If
    End If
End Sub 
```

要限制可以双击的单元格，您将需要使用类似的东西。您可以更改`$A$1`为您想要的任何内容或找到一种方法来确定目标范围的名称（不太难）

如果您的工作表未锁定，则单击的单元格将保持焦点，并处于编辑模式，这有点烦人。锁定单元格，在以前版本的 excel 中修复了这个问题（我认为它在 v.2010+ 中不起作用）

模块 (getList) 中的代码可以保持几乎完全相同（尽管您可能希望删除所有处理多个文件的代码，但不是必需的）。您需要做的就是添加一行代码。

```
.......
Dim Skip As Boolean

Set Dialog = Application.FileDialog(msoFileDialogFilePicker)

Dialog.AllowMultiSelect = False ' This will restrict the dialogue to a single result

File = Dialog.Show

If File = -1 Then
...... 
```

希望这会有所帮助，我已经明白你在问什么！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-16T00:36:40.897

这应该可以解决问题。第一个子例程是在用户单击单元格时触发的事件。更改第一个`if`语句中的行号和列号以更改目标单元格。您可以将所有这些代码放入您希望它处理的工作表的代码模块中。

```
Private Sub Worksheet_SelectionChange(ByVal Target As Range)

    Dim filenames() As String
    Dim filename As Variant
    Dim filelist As String

    ' Make sure the user clicked our target cell

    If Target.Row = 2 And Target.Column = 2 Then

        ' Get a list of filenames

        filenames = GetFileNames

        ' Make sure we got some filenames

        If UBound(filenames) > 0 Then

            ' Go through the filenames, adding each to the output string

            For Each filename In filenames
                filelist = filelist & CStr(filename) & "|"
            Next filename

            ' Remove the final delimiter

            filelist = Left(filelist, Len(filelist) - 2)

            ' Apply the output string to the target cell (adding another
            ' delimiter if there is already text in there)

            If Not Target.Value = "" Then
                Target.Value = Target.Value & "|"
            End If

            Target.Value = Target.Value & filelist

        End If

    End If

End Sub 
```

以下函数被调用以打开文件对话框并检索文件名。

```
Private Function GetFileNames() As String()

    Dim dlg As FileDialog
    Dim filenames() As String
    Dim i As Integer

    ' Open a file dialogue

    Set dlg = Application.FileDialog(msoFileDialogFilePicker)

    With dlg
        .ButtonName = "Select"                  ' Text of select/open button
        .AllowMultiSelect = True                ' Allows more than one file to be selected
        .Filters.Add "All Files", "*.*", 1      ' File filter
        .Title = "Select file(s)"               ' Title of dialogue
        .InitialView = msoFileDialogViewDetails
        .Show

        ' Redimension the array with the required number of filenames

        ReDim filenames(.SelectedItems.Count)

        ' Add each retrieved filename to the array

        For i = 1 To .SelectedItems.Count
            filenames(i - 1) = .SelectedItems(i)
        Next i

    End With

    ' Clean up and return the array

    Set dlg = Nothing
    GetFileNames = filenames

End Function 
```

# ruby - Rails 3.2.9 来自不同领域的不同输出

> ID：13892862
> 
> 赞同：0
> 
> 时间：2012-12-15T14:02:19.477
> 
> 标签：ruby, ruby-on-rails-3, mongoid

所以我决定编写我的第一个 Rails 应用程序。

在本地设置，添加 Mongoid 以使其具有丰富的数据，添加到文档#index 的路由，在开发模式下启动 rails -s - 在本地主机上一切正常，我看到了我需要的可用文档的漂亮列表。

但！

我的 IP 从外部世界可见，所以我将它附加到 no-ip.org 的域。打开同一个页面，看到了这个可怕的堆栈跟踪：

开始 GET "/documents" for *.* .*.* 在 2012-12-15 17:58:09 +0400

```
NoMethodError (undefined method `key?' for nil:NilClass):
  actionpack (3.2.9) lib/action_controller/metal/hide_actions.rb:36:in `visible_action?'
  actionpack (3.2.9) lib/action_controller/metal/hide_actions.rb:18:in `method_for_action'
  actionpack (3.2.9) lib/action_controller/metal/implicit_render.rb:14:in `method_for_action'
  actionpack (3.2.9) lib/action_controller/metal/compatibility.rb:61:in `method_for_action'
  actionpack (3.2.9) lib/abstract_controller/base.rb:115:in `process'
  actionpack (3.2.9) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.9) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.9) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.9) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.9) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.9) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.9) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.9) lib/action_dispatch/routing/route_set.rb:601:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/flash.rb:242:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/cookies.rb:341:in `call'
  activerecord (3.2.9) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.9) lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.9) lib/active_support/callbacks.rb:405:in `_run__413099900__call__336258148__callbacks'
  activesupport (3.2.9) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.9) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.9) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.9) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.9) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.9) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.9) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.9) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.9) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.9) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.9) lib/rails/engine.rb:479:in `call'
  railties (3.2.9) lib/rails/application.rb:223:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.9) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  C:/Ruby193/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  C:/Ruby193/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  C:/Ruby193/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  Rendered C:/Ruby193/lib/ruby/gems/1.9.1/gems/actionpack-3.2.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered C:/Ruby193/lib/ruby/gems/1.9.1/gems/actionpack-3.2.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered C:/Ruby193/lib/ruby/gems/1.9.1/gems/actionpack-3.2.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.0ms) 
```

这是 rails 拒绝解释的那句话：

```
return @visible_actions[action_name] if @visible_actions.key?(action_name) 
```

越多越好，当我在生产模式下启动服务器时，localhost 和自定义域都会在我的脸上吐出相同的堆栈跟踪。

怎么了？

**更新** 我的 routes.rb 文件：

```
DiplomaRails::Application.routes.draw do

  resources :documents
  resources :doc_sets

end 
```

我的宝石文件：

```
source 'https://rubygems.org'

gem 'rails', '3.2.9'

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes
  # gem 'therubyracer', :platforms => :ruby

  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails'
gem "mongoid", "~> 3.0.0" 
```

# expressionvisitor - ExpressionVisitor.VisitParameter，为什么每个参数打印2次？

> ID：13892865
> 
> 赞同：0
> 
> 时间：2012-12-15T14:02:34.343
> 
> 标签：expressionvisitor

为什么 VisitParameter 将每个参数打印 2 次？

```
class MyExpressionVisitor : ExpressionVisitor
    {
        protected override Expression VisitParameter(ParameterExpression node)
        {
            Console.WriteLine(node.Name);
            Console.WriteLine("*************************");
            return base.VisitParameter(node);
        }
    }

    class Program
    {
        public static void Main(string[] args)
        {
            Expression<Func<int,int int>> someExpr = (x,y) => x + y + 1;
            var myVisitor = new MyExpressionVisitor();
            myVisitor.Visit(someExpr);
            Console.ReadKey();
        }
    } 
```

结果：

X

* * *

是的

* * *

X

* * *

是的

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T20:36:57.533

好的，经过大量检查，我得到了答案。该`VisitParameter()`函数返回所有参数*它们在函数中使用了多少时间。

```
Expression<Func<int,int int>> someExpr = (x,y) => x + y + 1; 
```

`x`被使用了 2 次并且`y`是 1，所以它会显示`x`2 次并且`y`只有那些。

# .net - 检测到 ASP.NET 网页的冲突版本：指定版本为“1.0.0.0”，但在 ASP.MET MVC 3 中 bin 中的版本为“2.0.0.0”

> ID：13892868
> 
> 赞同：32
> 
> 时间：2012-12-15T14:02:45.370
> 
> 标签：.net, asp.net-mvc, razor, web-config, asp.net-webpages

安装 microsoft web helper 后出现以下错误：

> 检测到 ASP.NET 网页版本冲突：指定版本为“1.0.0.0”，但 bin 中的版本为“2.0.0.0”。要继续，请从应用程序的 bin 目录中删除文件或删除 web.config 中的版本规范。

根据我的阅读，我可能尝试安装错误的版本。但是我该如何解决这个问题？到目前为止，我有

*   卸载 microsoft web helper
*   删除bin文件夹的内容并重建项目
*   将我的 web.config 文件替换为具有所有默认值的新文件（假设我在这里或我的项目没有太大变化。

但是这些（如网上建议的）都没有奏效。请提供有关如何解决此问题的任何提示。我已经在这几个小时了

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2013-07-09T12:43:37.557

升级到 VS 2013 Express Preview 后我遇到了这个问题。

然后我注意到 web.config 中有一行是：

```
 <add key="webpages:Version" value="1.0.0.0" /> 
```

将其更改为我的 bin 文件夹中的 system.web.webpages.dll 版本：

```
 <add key="webpages:Version" value="3.0.0.0" /> 
```

...问题就消失了。（在你的情况下，我猜它是 2.0.0.0。）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-01-16T13:53:02.083

这只是 Dave 答案的一个附录，但如果您还没有，请不要忘记在所有 Views 文件夹中更改它。最好的办法可能是使用 VS (Ctrl+Shift+H) 中的“在文件中替换”功能，以确保您不会错过任何事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-28T12:23:51.207

我想添加以下内容：

就我而言，我能够通过以下方式修复它。首先（重要！），我将目标框架更改为 4.6.1，重新加载解决方案，然后使用 NUGET 升级二进制包。

然后，在按照上述解决方案所述解决问题后，我又得到了错误：

> 配置错误描述：处理服务此请求所需的配置文件期间发生错误。请查看下面的具体错误详细信息并适当地修改您的配置文件。
> 
> 解析器错误消息：为 system.web.webPages.razor/host 创建配置节处理程序时出错：无法加载文件或程序集 'System.Web.WebPages.Razor，版本 = 2.0.0.0，文化 = 中性，PublicKeyToken = 31bf3856ad364e35' 或其依赖项之一。找到的程序集的清单定义与程序集引用不匹配。（来自 HRESULT 的异常：0x80131040）
> 
> 程序集加载跟踪：以下信息有助于确定为什么无法加载程序集“System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35”。

根的相关部分`Web.config`如下所示：

```
<configSections>
    <sectionGroup name="system.web.webPages.razor" 
            type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, 
            System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, 
            PublicKeyToken=31BF3856AD364E35">
    <section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection, 
            System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, 
            PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
    <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, 
            System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, 
            PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
  </sectionGroup> 
```

将其更改为：

```
 <configSections>
    <sectionGroup name="system.web.webPages.razor"  
        type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, 
            System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, 
            PublicKeyToken=31BF3856AD364E35"  >
      <section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection, 
            System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, 
            PublicKeyToken=31BF3856AD364E35"  />
      <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, 
            System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, 
            PublicKeyToken=31BF3856AD364E35"  />
    </sectionGroup>
  </configSections> 
```

它立即起作用。

**注意：**

*   我还将每个 System.Web.* 程序集的属性**copy local**更改为 true。

*   在某些项目中，部分组`sectionGroup name="system.web.webPages.razor"`可能会丢失 - 在这种情况下您需要添加它。

*   如果您计划升级到 MVC 4，请先升级到 MVC 3，然后再执行最后一步，因为 MVC 4 中有一些重大更改（请参阅[此处](http://www.asp.net/whitepapers/mvc4-release-notes#_Toc303253806)的详细信息）。

# .htaccess - 从 URL 的末尾删除“计数器”并使用 .htaccess 将其重定向到它的主目录

> ID：13892872
> 
> 赞同：0
> 
> 时间：2012-12-15T14:03:42.877
> 
> 标签：.htaccess, redirect

我想从 url 的末尾删除 /123456/ （可以是任何数字）并重定向到它的主目录。目录名-a、b 或 c

重定向：[http ://www.mydomain.com/directory-a/directory-b/directory-c/123456/](http://www.mydomain.com/directory-a/directory-b/directory-c/123456/)

至：[http ://www.mydomain.com/directory-a/directory-b/directory-c/](http://www.mydomain.com/directory-a/directory-b/directory-c/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T15:33:21.297

尝试将这些规则添加到文档根目录中的 htaccess 文件中：

```
RewriteEngine On
RewriteRule ^(.*)/[0-9]+/?$ /$1/ [L,R=301] 
```

# php - 为什么我的 PHP 会在隐式 __toString() 上出现段错误？

> ID：13892875
> 
> 赞同：1
> 
> 时间：2012-12-15T14:03:48.650
> 
> 标签：php, string, segmentation-fault

今天早上突然，一个 PHP 服务器停止为一些网页提供服务。我没有改变任何东西，但也许自动更新做了。PHP 实例出现段错误，Apache 返回一个空白页面。我已经将问题追溯到这个：

```
array_unique( $arr ); # segfault 
```

它使用`$arr`. 这也使程序段错误：

```
echo $arr[0]; # segfault 
```

但这不是！

```
echo $arr[0]->__toString(); # works as expected 
```

这确实有段错误：

```
echo (string)$arr[0]; # segfault 
```

我认为最后三行是相同的。

有什么问题？我会尝试写一个 MWE，但我想也许有人以前看过这个并且有任何想法。

```
function __toString() {
    return 'Product #' . $this->id;
} 
```

# actionscript-3 - Flash MouseMove 性能问题

> ID：13892876
> 
> 赞同：1
> 
> 时间：2012-12-15T14:03:50.667
> 
> 标签：actionscript-3, flash, stage3d

我的测试用例是绘制两个三角形，然后等待六毫秒。这样做时，它的 fps 为 60。

如果我在舞台上挥动鼠标，则 fps 不稳定。不活动时间会增加，我没有办法减少不活动时间。为什么会这样。

下面是几张截图。

侦察兵的屏幕截图：http: [//i.stack.imgur.com/xK0xV.png](http://i.stack.imgur.com/xK0xV.png)

GPUView fps 图：http: [//i.stack.imgur.com/XO0HQ.png](http://i.stack.imgur.com/XO0HQ.png)

以及应用程序的代码

```
package
{
import com.adobe.utils.AGALMiniAssembler;
import com.adobe.utils.PerspectiveMatrix3D;
import flash.display.Bitmap;
import flash.display.Sprite;
import flash.display.StageAlign;
import flash.display.StageDisplayState;
import flash.display.StageScaleMode;
import flash.display3D.Context3D;
import flash.display3D.Context3DCompareMode;
import flash.display3D.Context3DProgramType;
import flash.display3D.Context3DTextureFormat;
import flash.display3D.Context3DVertexBufferFormat;
import flash.display3D.IndexBuffer3D;
import flash.display3D.Program3D;
import flash.display3D.VertexBuffer3D;
import flash.display3D.textures.Texture;
import flash.events.Event;
import flash.events.MouseEvent;
import flash.geom.Matrix3D;
import flash.geom.Rectangle;
import flash.text.TextField;
import flash.utils.getTimer;

[SWF(width="1000",height="600", backgroundColor = 0x000000, frameRate="60")]
public class SingleThreadRender extends Sprite
{
    [Embed( source = "RockSmooth.jpg" )]
    protected const TextureBitmap:Class;

    protected var context3D:Context3D;

    protected var vertexbuffer:VertexBuffer3D;
    protected var indexBuffer:IndexBuffer3D; 
    protected var program:Program3D;
    protected var texture:Texture;
    protected var projectionTransform:PerspectiveMatrix3D;

    private   var dataReady :Boolean = false;

    private   var text      :TextField = null;

    public function SingleThreadRender()
    {
        text = new TextField();
        text.text = "gogo";
        addChild(text);
        stage.mouseChildren = false;

        startRenderThread();
    }

    private function startRenderThread() :void {
        stage.stage3Ds[0].addEventListener( Event.CONTEXT3D_CREATE, initMolehill );
        stage.stage3Ds[0].requestContext3D();
        stage.scaleMode = StageScaleMode.NO_SCALE;
        stage.align = StageAlign.TOP_LEFT;  
        stage.stageHeight = 600
        stage.stageWidth = 800;
        addEventListener(Event.ENTER_FRAME, onRender);
        stage.addEventListener(MouseEvent.RIGHT_CLICK,rightClickHandler);
    }

    protected function initMolehill(e:Event):void
    {
        context3D = stage.stage3Ds[0].context3D;            
        context3D.configureBackBuffer(1000, 600, 1, true);

        var vertices:Vector.<Number> = Vector.<Number>([
            -3,-3, 0,0, 0, // x, y, z, u, v
            -3, 3, 0, 0, 1,
            3, -3, 0, 1, 1,
            3, 3, 0, 1, 0]);
        vertexbuffer = context3D.createVertexBuffer(4, 5);
        vertexbuffer.uploadFromVector(vertices, 0, 4);
        indexBuffer = context3D.createIndexBuffer(6);           
        indexBuffer.uploadFromVector (Vector.<uint>([0, 1, 2, 2, 3, 0]), 0, 6);

        var bitmap:Bitmap = new TextureBitmap();

        texture = context3D.createTexture(bitmap.bitmapData.width, bitmap.bitmapData.height, Context3DTextureFormat.BGRA, false);
        texture.uploadFromBitmapData(bitmap.bitmapData);

        var vertexShaderAssembler : AGALMiniAssembler = new AGALMiniAssembler();
        vertexShaderAssembler.assemble( Context3DProgramType.VERTEX,
            "m44 op, va0, vc0\n" + // pos to clipspace
            "mov v0, va1" // copy uv
        );
        var fragmentShaderAssembler : AGALMiniAssembler= new AGALMiniAssembler();
        fragmentShaderAssembler.assemble( Context3DProgramType.FRAGMENT,
            "tex ft1, v0, fs0 <2d,linear,nomip>\n" +
            "mov oc, ft1"
        );

        program = context3D.createProgram();
        program.upload( vertexShaderAssembler.agalcode, fragmentShaderAssembler.agalcode);

        projectionTransform = new PerspectiveMatrix3D();
        var aspect:Number = 4/3;
        var zNear:Number = 0.1;
        var zFar:Number = 1000;
        var fov:Number = 45*Math.PI/180;
        projectionTransform.perspectiveFieldOfViewLH(fov, aspect, zNear, zFar);
    }

    private function rightClickHandler(event :MouseEvent) :void {
        stage.removeEventListener(MouseEvent.RIGHT_CLICK,rightClickHandler);
        stage.fullScreenSourceRect = new Rectangle( 0,0,stage.fullScreenWidth,stage.fullScreenHeight);
        stage.displayState = StageDisplayState.FULL_SCREEN_INTERACTIVE;
    }

    private var firstTime :Boolean = true;
    protected function onRender(e:Event):void
    {
        if(stage.frameRate != 60) {
            stage.frameRate = 60;
        }
        if ( !context3D ) 
            return;
        var start :int = flash.utils.getTimer();
        var now :int = 0;
        while(true) {
            now = flash.utils.getTimer();
            if((now - start) > 6) {
                break;
            }
        }

        context3D.clear ( 1,1, 1, 1 );

        context3D.setDepthTest( true, Context3DCompareMode.LESS_EQUAL);
        context3D.setVertexBufferAt (0, vertexbuffer, 0, Context3DVertexBufferFormat.FLOAT_3);
        context3D.setVertexBufferAt(1, vertexbuffer, 3, Context3DVertexBufferFormat.FLOAT_2);
        context3D.setTextureAt(0, texture);         
        context3D.setProgram(program);
        var m:Matrix3D = new Matrix3D();
        m.appendTranslation(0, 0, 2);
        m.append(projectionTransform);

        context3D.setProgramConstantsFromMatrix(Context3DProgramType.VERTEX, 0, m, true);

        var i:int = 2;
        while(i--)
            context3D.drawTriangles(indexBuffer,0,2);
        context3D.present();

        while(true) {
            now = flash.utils.getTimer();
            if((now - start) > 6) {
                break;
            }
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T10:11:22.517

我假设您来自 C 背景或其他具有本机线程支持的语言。在 Actionscript 和 Javascript 等单线程语言中，onRender 函数中的繁忙循环是一个很大的禁忌：

```
while(true) {
    now = flash.utils.getTimer();
    if((now - start) > 6) {
        break;
    }
} 
```

60 赫兹的帧周期为 16 毫秒。通过在一个循环中浪费 6 毫秒，您已经为自己留下了 10 毫秒的时间来进行渲染并在下一次 onRender 调用之前完成。更糟糕的是，AS3 的计时器分辨率非常差。查看Tinic Uro（Flash 工程师）关于计时器的[这篇博客文章](http://www.kaourantin.net/2006/05/frame-rates-in-flash-player.html)- 底线，不要使用 getTimer() 或 stage.frameRate 进行任何类型的同步。

这一切加起来就是在您的渲染周期之间，闪光灯永远不会停止。它只是坐在那里在那个循环中旋转。AS3 处理其单线程的方式是使用空闲时间来服务异步事件（例如鼠标移动事件）。通过在 onRender 函数中放置一个繁忙的循环，您可以有效地保证现在有停机时间来服务 mousemove 事件 - 从而在 mousemove 事件发生时导致不稳定的帧速率。

# cocos2d-iphone - 无法让 box2d 光线投射在 cocos2d 中工作

> ID：13892877
> 
> 赞同：1
> 
> 时间：2012-12-15T14:04:04.927
> 
> 标签：cocos2d-iphone, box2d, collision-detection, raycasting

我尝试了一些从互联网上收集到的关于如何设置光线投射的不同方法，但无论我做什么，我都无法注册任何类型的连接。这里发生了什么？世界设置正确（例如，事物出现并碰撞等等），但光线投射似乎从未检测到任何东西，我尝试了三种不同的方法（两种略有不同）。为了完整起见，我将包括我的测试用例和附属类（你们中的一些人可能会认出 Ray Wenderlich 的设置）：

ccLayer 标头

```
//B2dtest.h
#import <Foundation/Foundation.h>
#import "cocos2d.h"
#import "Box2D.h"
#import "GLES-Render.h"
#import "MyContactListener.h"
#define PTM_RATIO 16
@interface B2dTest : CCLayer {
b2World* world;                 // strong ref
GLESDebugDraw *m_debugDraw;
MyContactListener *_contactListener;
b2Body* groundBody;
b2Body* wallBody;
DataModel *m;
float rayAngle;
b2Vec2 p1;
b2Vec2 p2;
b2Vec2 intersectionPoint;
}
+(CCScene *) scene;
-(void)initPhysics;
@end 
```

ccLayer 类（最有可能在更新中出现问题的代码）

```
//B2dtest.mm
#import "B2dTest.h"
#import "RaysCastCallback.h"
#import "OtherCast.h"
enum {kTagParentNode = 1,};

@implementation B2dTest
+(CCScene *) scene
{
CCScene *scene = [CCScene node];
B2dTest *layer = [B2dTest node];
[scene addChild: layer];
return scene;
}
-(id) init
{
if( (self=[super init])) {
    [self initPhysics];
    [self addBarrier];
    [self scheduleUpdate];
}
return self;
}

-(void) initPhysics
{
CGSize s = [[CCDirector sharedDirector] winSize];
b2Vec2 gravity;
gravity.Set(0.0f, -21.0f);  //was ten
world = new b2World(gravity);
_contactListener = new MyContactListener();
world->SetContactListener(_contactListener);
world->SetAllowSleeping(true);
world->SetContinuousPhysics(true);  
m_debugDraw = new GLESDebugDraw( PTM_RATIO );
world->SetDebugDraw(m_debugDraw);
uint32 flags = 0;
flags += b2Draw::e_shapeBit;
m_debugDraw->SetFlags(flags);       
b2BodyDef groundBodyDef;
groundBodyDef.position.Set(0, 0); // bottom-left corner
groundBody = world->CreateBody(&groundBodyDef);
b2EdgeShape groundBox;  
groundBox.Set(b2Vec2(0,s.height/PTM_RATIO/3), b2Vec2(s.width/PTM_RATIO,s.height/PTM_RATIO/3));
b2FixtureDef fixtureDef;
fixtureDef.filter.categoryBits = 0x0004;
fixtureDef.filter.maskBits = 0x0002;
fixtureDef.shape = &groundBox;
fixtureDef.density = 0;
fixtureDef.restitution = 0.0f;
groundBody->CreateFixture(&fixtureDef);
}

-(void)addBarrier{
b2BodyDef bodyDef;
bodyDef.type = b2_staticBody;
wallBody = world->CreateBody(&bodyDef);
for (int i = 0; i < 2;i++){
    b2PolygonShape platform;
    platform.SetAsBox(2, .25, b2Vec2(12+ (i * 5), 9 + i),0);
    b2FixtureDef fixtureDef;
    fixtureDef.shape = &platform;
    wallBody->CreateFixture(&fixtureDef);
}
}

-(void) draw{
ccDrawLine(ccp(p1.x,p1.y), 
           ccp(p2.x,p2.y));
[super draw];
ccGLEnableVertexAttribs( kCCVertexAttribFlag_Position );
kmGLPushMatrix();
world->DrawDebugData(); 
kmGLPopMatrix();
}

-(void) update: (ccTime) dt{
int32 velocityIterations = 4;
int32 positionIterations = 1;
world->Step(dt, velocityIterations, positionIterations);    
rayAngle = rayAngle + (2 * (M_PI / 180));
float rayLength = 200;
p1 = b2Vec2( 240, 240 ); //center of scene
p2 = p1 + rayLength * b2Vec2( sinf(rayAngle), cosf(rayAngle) );

RaysCastCallback callback;  //FIRST RAYCAST METHOD
world->RayCast(&callback, p1, p2);
if (callback.m_fixture){
    CCLOG(@"OH YESAAH!");
    p2 = b2Vec2(callback.m_point.x * PTM_RATIO, callback.m_point.y * PTM_RATIO);   
}

OtherCast allback; //SECONDRAYCASTMETHOD
world->RayCast(&allback, p1, p2);
if (allback.m_hit){
    CCLOG(@"OH YESAAH! AD");
    //   p2 = b2Vec2(callback.m_point.x * PTM_RATIO, callback.m_point.y * PTM_RATIO);   
}

b2RayCastInput input; //THIRDRAYCASTMETHOD
input.p1 = p1;
input.p2 = p2;
input.maxFraction = 1;
float closestFraction = 1; 
b2Vec2 intersectionNormal(0,0);
for (b2Body* b = world->GetBodyList(); b; b = b->GetNext()) {
    for (b2Fixture* f = b->GetFixtureList(); f; f = f->GetNext()) {
        b2RayCastOutput output;
        if ( ! f->RayCast( &output, input, 0 ) )
            continue;
        if ( output.fraction < closestFraction ) {
            CCLOG(@"woo");
            closestFraction = output.fraction;
            intersectionNormal = output.normal;
        }            
    }
}
}
@end 
```

RaysCastCallback.h

```
#ifndef Shoot_N_Run_RaysCastCallback_h
#define Shoot_N_Run_RaysCastCallback_h
#endif
#import "Box2D.h"

class RaysCastCallback : public b2RayCastCallback{
public:
RaysCastCallback() : m_fixture(NULL) {
}

float32 ReportFixture(b2Fixture* fixture, const b2Vec2& point, const b2Vec2& normal, float32 fraction) {        
    m_fixture = fixture;        
    m_point = point;        
    m_normal = normal;        
    m_fraction = fraction;        
    return fraction;     
}    

b2Fixture* m_fixture;    
b2Vec2 m_point;    
b2Vec2 m_normal;    
float32 m_fraction;
}; 
```

其他广播.h

```
#import "Box2D.h"
class OtherCast : public b2RayCastCallback{
public:
OtherCast()
{
    m_hit = false;
}
float32 ReportFixture(  b2Fixture* fixture, const b2Vec2& point,
                      const b2Vec2& normal, float32 fraction)
{
    b2Body* body = fixture->GetBody();
    void* userData = body->GetUserData();
    if (userData)
    {
        int32 index = *(int32*)userData;
        if (index == 0)
        {
            // filter
            return -1.0f;
        }
    }

    m_hit = true;
    m_point = point;
    m_normal = normal;
    return fraction;
}

bool m_hit;
b2Vec2 m_point;
b2Vec2 m_normal;
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:35:40.817

检查是否调用了 ReportFixture 方法。如果是，那么射线根本没有击中任何东西。这可能是由于值的比例，可能是光线太短或者对象距离太远（未应用 PTM_RATIO？）。但身体的形状也可能太小，或者它们甚至没有形状。也许光线指向相反的方向或 90° 角，很容易忘记或错误地将度数转换为弧度，反之亦然。这些问题都不是罕见的。

它有助于设置一个测试用例，在该测试用例中手动将两个对象放在已知位置，然后投射光线以保证光线相交。拿出笔和纸，跟踪位置和光线，查看调试运行期间的变量值是否匹配。这应该有助于定位由于不正确的矢量、角度和其他原因导致的任何问题。

# android - Facebook api 给出错误请求作为响应

> ID：13892893
> 
> 赞同：0
> 
> 时间：2012-12-15T14:06:37.847
> 
> 标签：android, facebook-graph-api

我尝试使用 Graph api 将（消息和图像）发布到 facebook 墙上。

在我不断收到错误请求作为响应后，我可以在一段时间内发布消息和图像。

facebook 是否对使用 api 的墙贴有任何限制。

为什么会发生这种情况？

请帮忙

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T20:40:36.817

是的，有 Graph API 速率限制来帮助避免滥用。这些限制没有公布，但通常如果你达到这些限制，那么你可能做错了什么。如果遇到这些错误，您可以退后发帖。

# java - Java CSV Reader，读取剩余数据

> ID：13892894
> 
> 赞同：3
> 
> 时间：2012-12-15T14:06:42.180
> 
> 标签：java, csv, import-from-csv

我的 CSV 数据如下：

```
1,mm/dd/yy,"abc,def,"pqr",xyz" 
```

我想将其解析为 3 个字符串。

1.  1

2.  月/日/年

3.  所有剩余数据，在本例中为 "abc,def,"pqr",xyz"

我已经尝试了几个库，openCSV、javacsv 等。所有这些似乎都解析和标记最后一列。我想要的是第二列之后的剩余数据作为单个标记。

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-14T14:37:06.247

您应该更新输入数据以用单引号括住第 3 列，如下所示：1,mm/dd/yy,'abc,def,"pqr",xyz'

否则，您将永远无法正确解析 csv 数据。

使用更新的数据，您可以调用强大的开源库[uniVocity-parsers](http://www.univocity.com/pages/parsers-tutorial)来正确读取数据，只需几行：

```
public static void main(String[] args) throws FileNotFoundException {
    // 1st, config the CSV reader
    CsvParserSettings settings = new CsvParserSettings();
    settings.getFormat().setLineSeparator("\n");
    settings.getFormat().setQuote('\'');        // set the quote to single quote '
    settings.getFormat().setQuoteEscape('\\');  // escape the double quote "

    // 2nd, creates a CSV parser with the configs
    CsvParser parser = new CsvParser(settings);

    // 3rd, parses all rows from the CSV file into a 2-dimensional array
    List<String[]> resolvedData = parser.parseAll(new StringReader("1,mm/dd/yy,'abc,def,\"pqr\",xyz'"));
    for (String[] row : resolvedData) {
        StringBuilder strBuilder = new StringBuilder();
        for (String col : row) {
            strBuilder.append(col).append("\t");
        }
        System.out.println(strBuilder);
    }
} 
```

你会得到这样的输出：

> 1 毫米/日/年 abc,def,"pqr",xyz

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:34:02.467

试试[SuperCSV](http://supercsv.sourceforge.net/preferences.html)。它有*quoteChar*配置选项，似乎表达了对引用文本的处理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T14:11:03.080

```
int firstCommaIndex = s.indexOf(',');
int secondCommaIndex = s.indexOf(',', firstCommaIndex + 1);
String firstPart = s.substring(0, firstCommaIndex);
String secondPart = s.substring(firstCommaIndex + 1, secondCommaIndex);
String lastPart = s.substring(secondCommaIndex + 1); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-10T15:57:00.657

[您可以在https://github.com/CyborTronik/fluent-ssv](https://github.com/CyborTronik/fluent-ssv)上使用自定义 LineParser

它还将您的 CSV 数据转换为 bean，但对于日期类型，您需要提供 ValueConverter 的自定义实现，否则您可以将其存储为字符串然后对其进行操作。

所以代码看起来像：

```
new SsvStreamBuilder<MyBean>()
  .forEntity(MyBean.class)
  .withLineParser(new MyLineParser())
  .withValueConverter(new MyDateConverter())
  .stream("~/some/csv/file"); 
```

# scala - 替换Scala中的模式匹配问题

> ID：13892897
> 
> 赞同：1
> 
> 时间：2012-12-15T14:07:02.057
> 
> 标签：scala, slick

我在 slick 中有一个特定的查询，定义如下：

```
var query = for {
      a <- Assets if a.ownerId === partyIdLoggedInUser || a.userId === partyIdLoggedInUser
      m <- a.model
      l <- a.location
      ad <- l.address
      sl <- SpecificLocations if sl.assetId === a.id
} yield (a._type ~ m.make ~ m.model ~ a.serialNumber ~ 
    a.linkQualityValue.? ~ a.activationDate.? ~ l.id ~ 
    l.description ~ ad.id ~ ad.street ~ ad.number ~ 
    ad.zipcode ~ ad.city ~ ad.country ~ ad.geoLocationId.? ~ 
    sl.building.? ~ sl.floor.? ~ sl.room.? ~ sl.other.?) 
```

后来，基于一些参数，我做了一些模式匹配并对这个查询应用了一些额外的过滤器，例如：

```
query = serialNumber match {
  case Some(serialNumber) => query.where(a => a._4 === serialNumber)
  case None => query
} 
```

好吧，我想通过使用地图来缩短这些检查：

`query = serialNumber.map(s => query.where(a => a._1 === s))`

我不明白为什么我的地图解决方案不被接受。你看有什么问题吗？

它说`found Option[Query[....]] but required Query[...]`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T14:16:14.830

我认为这会起作用：

```
query = serialNumber.map(s => query.where(a => a._1 === s)).getOrElse(query) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-15T14:14:59.427

`map`在你想去的`Option[A]`时候去。你可以使用然后。`Option[B]``Option[A]``A``map``getOrElse`

# ruby-on-rails - Ruby on Rails... Oauth？入门？

> ID：13892900
> 
> 赞同：0
> 
> 时间：2012-12-15T14:07:25.553
> 
> 标签：ruby-on-rails, ruby, oauth-2.0

首先，让我先告诉你我是 Web 开发的新手。

我来自 C 和 C++ 背景。Web 开发我现在正陷入深渊，我有点迷茫，所以，如果我的一些问题有点愚蠢，我深表歉意。我涉足过 ASP.net，但我知道它与 Ruby on Rails 不同。

我已经设置了 rails 环境，当我在浏览器中加载它时，我能够看到对 rails 页面的初始欢迎。很好......但是，我需要这个页面做的第一件事是通过 twitter 接受 Oauth 登录功能。不过我不能使用 twitter gem，这只能使用 OAuth Gem 来完成。

我看过一堆教程，他们都说我需要从创建消费者实例开始。通过传递配置哈希...

我在哪里写代码呢？在我的应用程序的默认页面上？或在配置文件或其他什么？

我现在完全不熟悉 ruby​​ on rails 中任何东西的布局。我会回去更详细地学习，但现在我只需要尽快启动并运行它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T16:17:15.460

我真的建议不要在不了解 Rails 的一些架构和约定的情况下“只是启动并运行”。学习这些，Rails 会为你做很多事情。

我还没有使用过 OmniAuth，但我强烈建议您[设计](https://github.com/plataformatec/devise)- 如果您有用户支持的应用程序。按照链接中的说明安装它。

然后你可以把这行代码

```
before_filter :authenticate_user! 
```

在您的应用程序控制器中，它将重定向到由设计生成的登录页面。

如果您不需要这种面向用户的方法，并且只想保护您的应用程序免于在没有密码的情况下被查看，这可能会奏效：

```
class ApplicationController < ActionController::Base
  # before_filter :authenticate

  protect_from_forgery

  protected
  def authenticate
    authenticate_or_request_with_http_basic do |username, password|
      username == "put username here" && password == "put password here"
    end
  end
end 
```

这将触发一个基本的 http 密码请求，就像您可能从 htaccess 中知道的那样，并将用户的输入与您在 vars`username`及`password`更高版本中输入的内容进行比较。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:12:38.600

查看[#235 OmniAuth Part 1](http://railscasts.com/episodes/235-omniauth-part-1)或直接[查看 OmniAuth](http://www.omniauth.org) gem。

# python - 执行“initialize_qserve_db”会导致错误

> ID：13892902
> 
> 赞同：0
> 
> 时间：2012-12-15T14:07:27.487
> 
> 标签：python, initialization, sqlalchemy, pyramid

当我执行

```
../bin/initialize_qserve_db  production.ini 
```

我收到这个错误

```
sqlalchemy.exc.IntegrityError: (IntegrityError) column name is not unique u'INSERT INTO models (name, value) VALUES (?, ?)' ('one', 1) 
```

我对金字塔很陌生。谁能告诉我应该在哪里寻找错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T15:38:59.687

您必须*已经*运行该命令；具有值的行`'one', 1`已经存在。

# c++ - pthread 和 socket.h 的可移植性

> ID：13892903
> 
> 赞同：1
> 
> 时间：2012-12-15T14:07:36.290
> 
> 标签：c++, c, sockets, pthreads, portability

现在我正计划用 C/C++ 编写一个小服务器。该软件的目标将是某种 linux 服务器，所以我认为在 linux 上编程服务器将是最好的主意。问题是，我拥有一台 MacBook（Air）并且我设置了一个 Linux VM，但是 IDE（Qt 创建者）吓坏了我，所以我考虑在 Xcode 中开发服务器，然后在完成编译后在虚拟机。所以我想知道 pthread 和 socket.h 的可移植性等级有多高？如果它们可以移植到某个等级，你会推荐我在 Xcode 中开发吗？（我对 Xcode 很熟悉，因为服务器的客户端将是一个 iOS 应用程序。抱歉我的英语不好（我来自德国）和（可能）感谢您的评论 :)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T14:15:29.663

您可以使用第三方库，例如`boost`抽象出[线程库](http://www.boost.org/doc/libs/release/doc/html/thread.html)和[套接字库](http://www.boost.org/doc/libs/release/doc/html/boost_asio.html)的平台特定细节。boost 都支持 Linux 和 Mac OS X 操作系统。

我的回答很`c++`具体，我看到你也标记了这个问题`c`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T16:44:11.847

尽管使用 Boost 可能会让您的生活更轻松，但要回答这个问题`<pthread.h>`，`<sys/socket.h>`它既是标准的 POSIX 头文件，又可以在 Mac OS X 和 GNU/Linux 等 POSIX 系统之间移植。GNU 标头中可能有些东西是非标准扩展或较新 POSIX 的一部分，因此不受 Mac OS X 支持，但几乎所有在Mac OS X`<pthread.h>`上`<sys/socket.h>`可用的东西在 GNU/Linux 上也可用并且可以工作相同。可以肯定的是，通过阅读函数的手册页或在线查看[Single UNIX Specification](http://www.unix.org/version3/)（该链接适用于 Mac OS X 的旧版本 POSIX支持，GNU/Linux 大多符合最新的[POSIX 2008](http://pubs.opengroup.org/onlinepubs/9699919799/functions/contents.html)规范。）

见[`<sys/socket.h>`](http://pubs.opengroup.org/onlinepubs/009696799/basedefs/sys/socket.h.html)和[`<pthread.h>`](http://pubs.opengroup.org/onlinepubs/009696799/basedefs/pthread.h.html)

请注意，Mac OS X 支持基本 POSIX 规范但不是所有可选部分，例如它不支持 POSIX 2001 的“计时器”选项（这是基本规范的一部分，即在 POSIX-2008 中不是可选的）

# mysql - 如何使用 xampp 从 mac 终端访问 mysql？

> ID：13892904
> 
> 赞同：17
> 
> 时间：2012-12-15T14:07:35.290
> 
> 标签：mysql, macos, terminal, phpmyadmin, xampp

我正在尝试从我的 mac 终端访问 mysql。

我试过只是打字

> mysql -u 根目录 -p

（和Enter，但那不存在..）

这是我到目前为止所做的/定位的：

> Williams-iMac:mysql noName$ cd /Applications/xampp/xamppfiles/var/mysql/mysql

> Williams-iMac:mysql noName$ ls

这就是位于那里的东西。

```
columns_priv.MYD        help_relation.frm       slow_log.CSV
columns_priv.MYI        help_topic.MYD          slow_log.frm
columns_priv.frm        help_topic.MYI          tables_priv.MYD
db.MYD              help_topic.frm          tables_priv.MYI
db.MYI              host.MYD            tables_priv.frm
db.frm              host.MYI            time_zone.MYD
event.MYD           host.frm            time_zone.MYI
event.MYI           ndb_binlog_index.MYD        time_zone.frm
event.frm           ndb_binlog_index.MYI        time_zone_leap_second.MYD
func.MYD            ndb_binlog_index.frm        time_zone_leap_second.MYI
func.MYI            plugin.MYD          time_zone_leap_second.frm
func.frm            plugin.MYI          time_zone_name.MYD
general_log.CSM         plugin.frm          time_zone_name.MYI
general_log.CSV         proc.MYD            time_zone_name.frm
general_log.frm         proc.MYI            time_zone_transition.MYD
help_category.MYD       proc.frm            time_zone_transition.MYI
help_category.MYI       procs_priv.MYD          time_zone_transition.frm
help_category.frm       procs_priv.MYI          time_zone_transition_type.MYD
help_keyword.MYD        procs_priv.frm          time_zone_transition_type.MYI
help_keyword.MYI        servers.MYD         time_zone_transition_type.frm
help_keyword.frm        servers.MYI         user.MYD
help_relation.MYD       servers.frm         user.MYI
help_relation.MYI       slow_log.CSM            user.frm 
```

但我仍然不知道如何访问 mysql，以便我可以创建一个新数据库（我 phpmyadmin 不这样做）。我在 phpmyadmin 中创建了一个新数据库，只是为了尝试输入：

> mysql -u root -p (my_phpmyadmin_created_database)

..但没有任何成功。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-12-15T15:57:09.207

> /Applications/xampp/xamppfiles/bin/mysql -u root -p

像魅力一样工作！

感谢用户：Wrikken！

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-12-25T11:53:57.373

我通常这样做是为了在 Mac 上使用 XAMPP 1.7.3（可能更高版本）从终端激活**php**和**mysql**

```
 1\. Go to Terminal
 2\. Enter which php: If it says /usr/bin/php, then proceed to 3.
 3\. Enter sudo nano ~/.bash_profile (or sudo vim ~/.bash_profile if you know how to use it)
 4\. Then paste this export PATH="/Applications/XAMPP/xamppfiles/bin:$PATH"
 5\. Ctrl - O then enter to save, then ctrl - X to exit.
 6\. Type cd ~
 7\. type . .bash_profile
 8\. Restart terminal.
 9\. Enter which php: If you did it right, it should be the same as the path in #4. 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-11-08T08:21:23.900

我只是一个新的xampp用户。我也被这个问题困住了。是的，正确的目录是

```
/Applications/XAMPP/xamppfiles/bin/(the newest xampp is uppercase) 
```

但是当你连接到数据库时，你应该输入

```
./mysql -u root -p (if there's password), 
```

不输入

```
mysql -u root -p... 
```

直接，它在我的macbook pro上成功了。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2018-07-04T16:49:02.443

如果 xampp 安装在你的 mac 书中，只需转到 cd /Applications/XAMPP/bin/ 的文件路径

./mysql -u root -p

比如果设置它会要求输入密码而不是输入其他输入

mysql现在启动了！！！！！！！！！

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2019-01-17T19:30:15.860

```
sudo /Applications/XAMPP/xamppfiles/bin/mysql.server start 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-10-07T15:34:17.587

我必须使用**open** **命令**才能工作。

前任

打开 /App/Applications/xampp/xamppfiles/bin/mysql

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-05-27T13:17:31.647

Mac 上的一个不错的功能是打开终端并转到首选项。点击配置文件选项卡并创建一个新配置文件。在 shell 下键入 MySQL 的路径并输入所有内容，就像你走很长的路一样。前任：

/Applications/XAMPP/xamppfiles/bin/mysql --user=root --password=

只需在上面的路径上添加您的信息。关闭首选项窗口并转到文件并点击新窗口。选择您的个人资料。我将我的命名为 MySql。而已。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-03-04T00:04:31.083

我用它通过终端访问 phpmyadmin mysql 数据库

```
/opt/lampp/bin/mysql -uroot -ppassword 
```

然后

```
USE dbname 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2022-02-22T20:25:22.947

**在 macOS 蒙特雷**

*   打开终端并运行以下命令

    `sudo nano /etc/paths`

*   然后在底线之后添加以下路径

    `/Applications/XAMPP/xamppfiles/bin`

*   现在按 control+x 保存

*   然后按y确认保存

*   然后按回车

*   重启终端

现在mysql正在工作

# php - 使用 PHP 配置 memcached

> ID：13892905
> 
> 赞同：0
> 
> 时间：2012-12-15T14:07:39.420
> 
> 标签：php, caching, memcached

我有一个 Web 应用程序，它查询 opentsdb 服务器（在后端使用 Hbase 集群）以获取不同指标的数据点并使用 dygraph javascript 图形库，我正在绘制这些指标。由于从 opentsdb 获取过去一天的所有数据点以获取特定指标本身需要将近 2 秒，因此我绘制近 25 个指标的应用程序变得非常缓慢。

为了减少这种延迟，我正在考虑使用 php5 的 memcached 模块来缓存所有查询。但我对 memcached 没有几个问题。

*   有什么方法可以配置 memcache 以通过在特定时间间隔后运行一些命令行查询来继续在后台更新其缓存。

*   有什么方法可以将 memcache 配置为始终使用缓存来回复查询，而不是首先更新其缓存，因为我的应用程序只是绘制过去一天的数据点。遗漏一些数据点并不是那么关键。

如果还有其他方法可以减少这种延迟，请建议我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:47:48.240

两者都不是 memcached 的工作。您的应用程序应该在后台更新缓存（通过运行 cron），并且您可以将缓存设置为过期（比如说 12 小时），但检查时间（您必须将其存储在缓存中）以及是否少于 2 小时到过期，运行后台进程更新缓存

# database - MemSQL - 启动/值得“世界上最快的数据库”

> ID：13892907
> 
> 赞同：19
> 
> 时间：2012-12-15T14:07:55.103
> 
> 标签：database, singlestore

MemSQL 自称是“世界上最快的数据库”

比 DB2、Oracle、mySQL 和 SQL 服务器更快。谁能保证这一点？

我已经在网上搜索并试图收集尽可能多的信息。MemSQL 号称是地球上最快的数据库。比 Oracle、DB2、MySQL 和 MS SQL 更快。

我什至与他们的员工、创始人（facebook 前员工）谈论过他们的产品。我还看到了每个人都在谈论的诙谐的基准测试。真的值得搬家吗？Ashton Klutcher 作为该集团背后的天使风险投资家并没有向我展示真正的价值。我的意思是，对于某些人来说，Google BigTable 会是一个更好的举措。

任何人都可以分享技巧、文章、教程……甚至是他们的一些真实客户。他们的网站没有展示真实的例子，而且它缺乏与其他数据库产品一样的社区——商业也是如此。

请不要投票，他们几乎没有任何东西，我真的想看看它。我承认我被炒作所吸引，它看起来很棒，视频..文档和品牌..但真的..有那么好吗？商业产品仅限于 32gb，我知道许多数据库很容易完成。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-16T12:07:19.957

MemSQL 缺乏社区支持，我们没有关于企业许可证的信息（有超过 32GB 的版本），也许还没有你的应用程序的速度证明。

但是，您必须尝试一下。真的。静态查询和准备好的语句的性能很有希望，我可以强调的最佳用例是在极端并发下低延迟写入/更新记录。使用关系数据库无法实现这样的性能，具有这种性能的 NoSQL 解决方案很少见。

在短时间内，它将获得 SQL92 兼容性，因此对您或您的开发人员（相对于 NoSQL DB 后端）而言，开发和测试将更加容易。数以千计的应用程序具有内置的性能基准和长时间运行的稳定性测试，请选择最适合您的情况的应用程序。我个人测试过 Drupal，最差的性能与高度定制的 MySQL 配置的性能相同，平均而言，登录用户在 DB 端的速度提高了 10 倍。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-07T16:52:41.883

关于性能问题 - 问自己以下问题：

如果您使用 Percona MySQL（高性能 MySQL 服务器）并将其放在具有 512GB RAM 的多核机器上，将数据库存储在 ramdisk 中，假设这足以将数据库完全保存在内存中，会在相同的硬件上它仍然比 MemSQL 慢吗？测试这一点的唯一方法是比较它们。

About the pricing tiers, A company does not provide prices on its website when it understands that it can price it differently for different companies. For example, they will find a way to get General Electric to pay $500,000 for it, but a smaller startup will be able to get away with paying "only" $10,000 for the same product.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-30T23:37:13.557

MemSQL 使用内存数据库技术。目前，存在可以在集群、负载平衡和从/主复制设置中配置的数据库引擎，以实现极好的速度和成本。例如，运行 30 台 256 mb 的服务器和 1 台 512 mb 的服务器作为主服务器，并将它们全部用于复制和负载均衡器流量峰值将比云提供商的 8GB 设置成本更具成本效益——这只是一个简单的例子。显然 256mb 就是一个例子。

有趣的世界命运数据库的说法。IBM WebSphere Commerce 客户使用 DB2——IBM 也有 IBM solidDB——一种内存解决方案：

> IBM solidDB-最快的数据交付
> 
> 内存中的关系数据库软件，速度极快
> 
> IBM solidDB® 以极快的速度交付数据而闻名于世。在电信网络、企业应用程序和嵌入式软件和系统中部署了超过 3,000,000 个solidDB。Cisco、HP、Alcatel 和 Nokia Siemens 等市场领导者依靠它来执行任务关键型应用程序。
> 
> IBM solidDB 提供了一个理想的平台来构建包含通用缓存的内存中实时企业应用程序。兼容性增强使将应用程序迁移到solidDB 变得容易。使用solidDB 增强的可扩展性和透明的故障转移降低了总体总拥有成本。最新版本的改进通过 solidDB 通用缓存功能为关键 OLTP 工作负载带来了更高的可靠性和更快的性能。

IBM WCS 和 IBM 是企业且价格昂贵，展示一家已经在做内存的大公司很有趣，所以肯定不是新事物.. memsql 客户和员工在哪里以及 SO 上的数据库专家在哪里 - 请不要标记你自己的答案也是答案..

# java - JMapFrame 和 GUI [Java]

> ID：13892908
> 
> 赞同：3
> 
> 时间：2012-12-15T14:08:05.737
> 
> 标签：java, swing, jpanel, grid-layout, jmap

好的，大家好，首先我将展示我所拥有的：

![在此处输入图像描述](../Images/f343b7f84f86e9c58273d77c6737b40f.png)

我有这个代码：

```
public static void main(String[] arg) throws IOException {

    map = new DefaultMapContext();
    map.setTitle("Visualizador UD - Geotools");

    mapFrame = new JMapFrame(map);
    mapFrame.enableToolBar(true);
    mapFrame.enableStatusBar(true);//Herramientas abajo

    JToolBar toolBar = new JToolBar();

    eliminar = new JButton("Eliminar capas");
    adicionar = new JButton("Adicionar capas");
    consultar = new JButton("Consultar");

    mapFrame.getToolBar().add(adicionar);
    mapFrame.getToolBar().add(eliminar);
    mapFrame.getToolBar().add(consultar);

    listaLayers = new List();

    for (int i = 0; i < files.length; i++) {
        listaLayers.add(files[i].getName());
    }

    menu();
    mapFrame.add(listaLayers, BorderLayout.WEST);
    mapFrame.add(toolBar, BorderLayout.NORTH);

    mapFrame.setSize(800, 600);
    mapFrame.setVisible(true);
} 
```

好吧，我的目标是这样的，同一个组织：

![在此处输入图像描述](../Images/025847eadfaa769cbcc2acdc4bdcf920.png)

但我不知道该怎么办，这对我来说有点混乱，问题是**图层**，我不能把它放在地图的左边......希望你能帮助我把它放在更好的地方我的代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T11:51:56.603

我想这可能能够解决你的问题。

尝试

```
// this will get you left pane with the layers added.
frame.enableLayerTable(true); 
```

您也可以直接使用以下代码直接完成您的工作。

```
 JMapFrame frame;
    MapContent map;
    frame = new JMapFrame(map);
    frame.enableLayerTable(true);
    frame.setSize(800, 600);
    frame.enableStatusBar(true);        
    frame.enableToolBar(true);                
    JMenuBar menuBar = new JMenuBar();                          
    frame.setJMenuBar(menuBar); 
```

添加光栅和形状文件使用： public void addshape(File shpFile) throws Exception{

```
 FileDataStore dataStore = FileDataStoreFinder.getDataStore(shpFile);
    SimpleFeatureSource shapefileSource = dataStore.getFeatureSource();       
    Style shpStyle = SLD.createPolygonStyle(Color.RED, null, 0.0f);
    Layer shpLayer = new FeatureLayer(shapefileSource, shpStyle);       
    map.addLayer(shpLayer);
    show();    
 }
 public void addraster(File rasterFile) throws Exception {         
    AbstractGridFormat format = GridFormatFinder.findFormat( rasterFile );
    reader = format.getReader(rasterFile);     
    Style rasterStyle = createGreyscaleStyle(1);      
    Layer rasterLayer = new GridReaderLayer(reader, rasterStyle);
    map.addLayer(rasterLayer);        
    show();
    } 
```

# c - C - 将文字从 txt 写入数组

> ID：13892909
> 
> 赞同：0
> 
> 时间：2012-12-15T14:08:12.120
> 
> 标签：c

我有 txt 文件，其中有一行很多单词。我需要将它们全部写入一个数组。我查看了许多使用 fscanf 的示例，但是我无法理解它是如何工作的，因此我也无法在我的程序中使用它。所以问题是：我如何创建一个可以包含所有单词的数组，或者我应该只创建类似 a[999999] 的东西而不用担心它。如何将单词写入该数组，不包括“，”，“。”，“？” ETC？还有一个问题，我如何测量单词的大小（它有多少个字符）？

抱歉提出问题，感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T15:04:42.033

Untested sample. You should read up on each of these functions. To make sure you do, I'm deliberately not looking up the order of parameters as I normally should an am quite likely guessing wrong on some of the calls.

```
/* Untested Sample of "What it kinda should maybe look like" */
char buf[BUFSIZ];
fgets(stdin,buf); /*read a line*/
int i;
char *p;
for (p=buf,i=0; p+=strspn(p," .,"); i++) /*count delimiters*/; 
char **words;
words = malloc(i+1 * sizeof(char *));
for (i=0, words[0]=strdup(p=strtok(buf," .,"); words[++i]=strdup(p=strtok(NULL," .,"));) /**/;
words[++i]=NULL; 
```

BUFSIZ should give you a pretty huge buffer (enough for any *reasonable* textfile). Scan the buffer and count delimiters to give a good guess at the max number of words we'll find. Allocate an array of char pointers. Fill the array with `strdup` copies of the return values from a sequence of calls to `strtok`. The first call to `strtok` passes the string as the first argument. Calls after that pass NULL as the first argument which means "keep using the same string". Also I'm not sure about that second loop termination. Treat this as pseudocode. :)

*Edit:* If you've got the word in a string, `strlen` will give you the length (not counting the terminating nul byte).

# core-data - MagicalRecord 没有使用我的模型

> ID：13892910
> 
> 赞同：0
> 
> 时间：2012-12-15T14:08:13.133
> 
> 标签：core-data, magicalrecord

我定义了我的 DataModel，我设置了 MagicalRecord：

```
 [MagicalRecord setupAutoMigratingCoreDataStack]; 
```

我运行我的应用程序，然后浏览创建的 .sqlite 数据库（使用 SQLite 数据库浏览器），它具有数据库结构，没有表，没有任何东西 - 只是空的。

如何告诉 MagicalRecord 使用我的数据模型？我没有看到任何地方提到这一点？我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T16:24:36.730

查看 MagicalRecord.h 文件。有一个方法叫做 setDefaultModelNamed:。或者，您可以调用方法 [NSManagedObjectModel MR_setDefaultModel:]。在设置核心数据堆栈之前，需要调用其中任何一个。

# selenium-ide - 使用 Selenium IDE 执行测试

> ID：13892911
> 
> 赞同：0
> 
> 时间：2012-12-15T14:08:30.637
> 
> 标签：selenium-ide

我使用 selenium ide 记录了一个测试。根据应用程序的要求，测试用例在执行后应该显示错误，但它在 selenium ide 中执行而没有显示错误。那么是应用程序无法正常工作还是我没有正确记录测试？？？

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1    /DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="https://example.com/" />
<title>enerc2</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">enerc2</td></tr>
</thead><tbody>
<tr>
    <td>open</td>
    <td>www.example.com/index/admin</td>
    <td></td>
</tr>
<tr>
    <td>verifyElementPresent</td>
    <td>//div[@id='site-grid']/table/thead/tr[2]/td[2]</td>
    <td></td>
</tr>
<tr>
    <td>click</td>
    <td>css=thead &gt; tr &gt; #site-grid_c1 &gt; a[title=&quot;Fuel Level after     last fueling (Tank Capacity)&quot;]</td>
    <td></td>
</tr>
<tr>
    <td>click</td>
    <td>name=Site[Tank_Capacity]</td>
    <td></td>
</tr>
<tr>
    <td>click</td>
    <td>name=Site[Tank_Capacity]</td>
    <td></td>
</tr>
<tr>
    <td>type</td>
    <td>name=Site[Tank_Capacity]</td>
    <td>123</td>
</tr>
<tr>
    <td>click</td>
    <td>name=Site[Tank_Capacity]</td>
    <td></td>
</tr>
<tr>
    <td>type</td>
    <td>name=Site[Tank_Capacity]</td>
    <td>&lt;&gt;</td>
</tr>
<tr>
    <td>click</td>
    <td>name=Site[Tank_Capacity]</td>
    <td></td>
</tr>
<tr>
    <td>type</td>
    <td>name=Site[Tank_Capacity]</td>
    <td>&lt;&gt;+-</td>
</tr>
<tr>
    <td>click</td>
    <td>name=Site[Tank_Capacity]</td>
    <td></td>
</tr>
<tr>
    <td>verifyElementPresent</td>
    <td>css=div.summary</td>
    <td></td>
</tr>
</tbody></table>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:21:33.673

默认情况下，Selenium 只会记录您的导航。您需要添加适当的验证。这可以在您进行时完成，或者您可以逐步完成测试并在进行时添加它们。添加基于功能的测试，而不是外观和感觉。对于基本测试，我会检查页面标题以及是否存在结果。

看起来您可能已经在表格上记录了几次探索性点击。我不知道这些在您的测试中是否非常有用。在任何情况下，点击后都没有测试。

我发现许多其他竞争工具将为您构建一组测试。但是，默认测试往往侧重于外观和感觉，当这种情况发生变化时很容易失败。它们还倾向于使功能测试变得困难。我见过测试套件，当 DST 切换时，每个页面每年都会失败两次。

编辑：测试失败时，检查是否存在错误消息。如果没有显示任何消息，测试将更加困难。如果成功的条目导航到具有不同标题的页面，则可以检查页面标题。

一个简单的测试策略是检查测试成功时应该存在的东西，否则不会出现在页面上。对于失败情况，这将是正确的失败消息。对于成功的案例，这将是成功的结果。尽可能忽略外观和感觉。页面标题可能是确定您是否在正确页面上的有用方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T15:56:22.607

如果应用程序中不存在**验证代码**，那么很明显，在输入中使用特殊字符执行时不会出现任何错误。您可以尝试添加一个简单的警报，只需添加`javascript:alert('value of the input');` 然后检查条件。
或者，如果您更喜欢编码，请尝试`if(){}else{}`
使用您的代码，而不是测试工具。

# java - 编辑 PullToRefresh 列表视图以从底部刷新

> ID：13892912
> 
> 赞同：1
> 
> 时间：2012-12-15T14:08:54.283
> 
> 标签：java, android, android-layout, listview, android-view

[这是](https://github.com/erikwt/PullToRefresh-ListView)Erik Wallentinsen`PullToRefresh`在 github 上的 ListView。

但它仅从顶部刷新列表视图：

![截屏](../Images/f11e0864cd3ad4317942921b50ba3dcd.png)

我想更改它，并在从底部拉出列表视图时刷新它。

显然，需要更改[此来源](https://github.com/erikwt/PullToRefresh-ListView/blob/master/libraryproject/src/eu/erikw/PullToRefreshListView.java)。

也许有人已经遇到过这个问题并解决了？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-15T14:31:12.737

我建议你使用**chrisbanes**的库：[https](https://github.com/chrisbanes/Android-PullToRefresh) ://github.com/chrisbanes/Android-PullToRefresh ，它支持 listview、gridview、scrollview、webview ... 这是一个[入门指南](https://github.com/chrisbanes/Android-PullToRefresh/wiki/Quick-Start-Guide)
要从底部刷新 listview，只需为其设置模式. 这是我尝试过的一个例子：

```
PullToRefreshListView mPullRefreshListView = 
  (PullToRefreshListView) findViewById(R.id.listview);
mPullRefreshListView.setMode(Mode.BOTH);    // mode refresh for top and bottom
mPullRefreshListView.setShowIndicator(false); //disable indicator
mPullRefreshListView.setPullLabel("Loading");

 mPullRefreshListView.setOnRefreshListener(new OnRefreshListener<ListView>() {
            public void onRefresh(PullToRefreshBase<ListView> refreshView) {
          //do something when refresh
}); 
```

# iphone - 从 push segue 返回后，Tableview 行保持选中状态

> ID：13892913
> 
> 赞同：4
> 
> 时间：2012-12-15T14:08:58.997
> 
> 标签：iphone, segue

我的视图控制器是一个`UIViewController`. 我已经添加`UITableView`到`UIView`. When the tableview row is selected, a push segue fires a new view controller. 但是，当从新视图控制器返回时，所选行保持选中状态。当我的第一个控制器是 an 时，我没有遇到这个问题`UITableviewController`，但我不得不将其更改为 an `UIViewController`，因为我想将活动指示器添加到我的视图中。我注意到的另一件事是，当我的第一个控制器是 a时`UITableviewController`，`viewDidLoad`从新视图控制器返回时没有调用（但现在它被调用了）。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-15T14:14:47.583

添加...

```
[tableView deselectRowAtIndexPath:indexPath animated:YES]; 
```

在`tableView:didSelectRowAtIndexPath:`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-15T14:18:14.537

尝试这个：

```
[cell setSelectionStyle:UITableViewCellSelectionStyleNone]; 
```

这将帮助你...

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-12-07T06:27:45.160

这种机制是建议答案的一种变体，当详细视图消失时会删除选择，但也可以帮助用户了解他们选择了什么来进入详细视图：

```
- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];

    [self.tableView deselectRowAtIndexPath:self.tableView.indexPathForSelectedRow animated:YES];
} 
```

这似乎是苹果在他们自己的应用程序中所做的。请参阅在联系人应用程序中选择联系人记录时的行为示例。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-15T14:20:19.417

你可以加

```
[tableView deselectRowAtIndexPath:indexPath animated:YES]; 
```

在`tableView:didSelectRowAtIndexPath:` 委托。

或者你可以做

```
-(void)viewWillAppear:(BOOL)animated
{
    [table reloadData];
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-02-09T20:51:50.580

斯威夫特 3.0：

`tableView.deselectRow(at: indexPath, animated: true)`

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2014-12-16T14:22:35.213

```
tableView.deselectRowAtIndexPath(indexPath, animated: true) 
```

这可能有助于作为问题的更新答案。

在此处找到有关此主题的一些信息。[http://www.raywenderlich.com/81880/storyboards-tutorial-swift-part-2](http://www.raywenderlich.com/81880/storyboards-tutorial-swift-part-2)

# c - FILE* 分配不起作用

> ID：13892916
> 
> 赞同：0
> 
> 时间：2012-12-15T14:09:13.587
> 
> 标签：c, file-io

我最近遇到了一些问题。我想实现我自己的 fopen 函数以进行错误检查。

到目前为止，继承人的相关代码：

```
enum _Errorcode_ openFile( const char * c_str_filename, const char * c_str_mode, FILE* the_file )
{
    the_file = fopen( c_str_filename, c_str_mode );

    if( the_file == NULL )
    {
        return FILE_IO_ERROR;
    }

    else
    {
        return OK;
    }
} 
```

我这样调用函数：

```
FILE * oFile = NULL;
...
ErrorCode = openFile( "myfile.txt", "r", oFile ); 
```

如果我之后检查 oFile 的指针 addr，它仍然指向 NULL。最重要的是，我的功能返回正常，没有失败。为什么呢？

该文件存在，如果我这样调用 fopen() 函数，一切正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:13:37.790

C 通过值传递参数，因此您分配给 oFile 的副本，这就是为什么您看不到`openFile()`.

传递一个指向它的指针，如下所示：

```
enum _Errorcode_ openFile( const char * c_str_filename, const char * c_str_mode, FILE** the_file )
{
  *the_file = fopen( c_str_filename, c_str_mode );

  if( *the_file == NULL )
  {
    return FILE_IO_ERROR;
  }
  else
  {
    return OK;
  } 
}
....
FILE * oFile = NULL;
...
ErrorCode = openFile( "myfile.txt", "r", &oFile ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:12:01.220

由于 C 始终是按值传递的，例如，传递给函数的参数是原始变量的副本，因此您需要将指针传递给`FILE *`：

```
enum _Errorcode_ openFile( const char * c_str_filename, const char * c_str_mode, 
                           FILE** the_file )
{
    *the_file = fopen( c_str_filename, c_str_mode );
    if( *the_file == NULL ) {   return FILE_IO_ERROR; }
    else {  return OK; }
} 
```

# database-normalization - 我们可以直接将关系归一化到 3NF 而不先规范化到 2NF 吗？

> ID：13892919
> 
> 赞同：-1
> 
> 时间：2012-12-15T14:09:49.733
> 
> 标签：database-normalization

我有一个明天应该提交的作业我通常知道规范化概念，但在某些问题上我有困难。我应该如何将其标准化为 BCNF？你能显示步骤吗？

```
R(A,B,C,D,E,F,H) 
```

FD 集是

```
A->D
AE->H
DF->BC
E->C
H->E 
```

对于这个问题，我必须找到密钥并标准化为 BCNF。如果我标准化为 2NF，我会失去一些不适合 3NF 的关系。所以我很困惑。任何帮助将不胜感激..

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T12:13:59.393

从这个开始。

R(ABCDEFH), keys {AEF, AFH}
移除部分键依赖 A->D 和 E->C。

R1(ABEFH), 按键 {AEF, AFH}
R2( **A** D)
R3( **E** C)

R1、R2 和 R3 在 2NF 中。

从 R 中删除部分键依赖会导致 R1。功能依赖 DF->BC 不适用于 R1，因为 R1 不包含属性 D。但 DF->BC 仍然适用于整体设计。这就是让你感到困惑的地方。

在这里，我继续 Mike 的评论。

您必须注意，即使 R1 不包含属性 D，R1 包含 A。因为 AF->DF->BC，依赖关系 DF->BC 仍然在 R1 中成立。

对于 3NF，我们需要去除传递依赖 DF->B 和 DF->C，我们得到：

R1(AEFH), 按键 {AEF, AFH}
R2( **A** D)
R3( **E** C)
R4( **DF** BC)

所有关系都在 3NF 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:18:07.900

数据库要采用第三范式有两个基本要求：

*   **已经满足1NF和2NF的要求**
*   删除不完全依赖于主键的列。

如果你在 2NF 中标准化，你不会失去任何关系，而是会得到另一个关系。好的，现在让我们做你的功课。

让我们首先假设您的关系已经在 1NF 中。现在为 2NF

```
R1 = AE -> {H}(AE->H)
R2 = DF -> {B, C}(DF->BC)
R3 = A  -> {D}(A->D)
R4 = E -> {C}(E->C) 
```

上述关系在 2NF 中，没有一个非主属性部分依赖于候选键。而且在 3NF 中也是因为关系中没有传递关系。

好的，现在对于 BCNF，所有关系都服从 BCNF，除了 R1，因为 H->E 关系在 R1 中成立，并且 H 不属于 R1 中的候选键。

Beeri 和 Bernstein 在 1979 年表明，例如，一组函数依赖关系 {AB → C, C → B} 不能通过保留原始表中保存的依赖关系由 BCNF 模式表示。阅读[维基](http://en.wikipedia.org/wiki/Boyce%E2%80%93Codd_normal_form#Achievability_of_BCNF)了解更多详情。

但是你仍然可以把它转换成BCNF，

```
R1 = A -> {E}
R2 = E -> {H}
R3 = DF -> {B, C}
R4 = A  -> {D}
R5 = E -> {C} 
```

但是上面的表不包含原始关系 AE-> H，使其不一致，并且通过保留原始表中的依赖关系，这种关系是 BCNF 无法实现的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T16:30:12.410

要回答这个问题，而不是你对它的描述，是的，你可以从 1NF 标准化到 3NF，而不会在过程中*停止*在 2NF。

一个常见的误解是您可以从 1NF 中的关系开始，然后

*   将它们归一化为 2NF*且不更高*，然后
*   将它们归一化为 3NF*且不更高*，然后
*   将它们归一化为 BCNF*并且不更高*。

这很常见，但它仍然是一个误解。您可以在任何数量的教科书中看到这种误解的反例，但您必须仔细查看它们的示例。据我所知，没有教科书*明确指出*这种误解，但如果你研究他们的例子，就会变得很明显。

在实践中，通常一步即可从 1NF 或 2NF 到 5NF 或 6NF。例如，从 2NF 到 5NF 仅意味着您删除了传递依赖，并且

*   您没有发现左侧*不是*候选键的剩余依赖项（BCNF 需要），
*   您发现没有剩余的多值依赖项（4NF 需要），并且
*   您发现没有剩余的连接依赖项（5NF 需要）。

这在*StackOverflow*上的示例中经常发生。（即 2NF 到 5NF 或 6NF。）

* * *

在您使用的符号表示的家庭作业问题中，您应该假设起始关系在 1NF 中。您的第一项工作是识别密钥。为什么？因为除非您可以识别部分键依赖关系，否则您无法标准化为 2NF ，除非您知道所有候选键，否则您无法做到*这一点。*

您将密钥识别为 AEF 和 AFH 是正确的。由于依赖关系之一是 A->D，关系 R 不在 2NF 中。D 仅依赖于 A，而 A 是候选键的*一部分*。为了规范化到 2NF，识别所有部分键依赖关系，并通过投影消除它们。

从这个开始。

*   R(ABCDEFH), 键 { **AEF, AFH** }

删除部分键依赖 A->D。

*   R [1] (ABCEFH), 按键 { **AEF, AFH** }
*   R [2] ( **A** D)

R [2]在 6NF 中。

从 R 中删除部分键依赖会导致 R [1]。功能依赖 DF->BC 不适用于 R [1]，因为 R [1]不包含属性 D。但 DF->BC 仍然*适用*于整体设计。这就是让你感到困惑的地方。

大多数时候，功能依赖最终都是简单的键约束。这就是 FD A->D 变为 R [2]时发生的情况。但是由于投影分割了 DF->BC 的左侧，因此必须以不同的方式表达*这种依赖关系——作为数据库约束。*（SQL 不擅长那个。CREATE ASSERTION 应该涵盖这些基础，但还没有人实现它。）

# c# - 如何在 C# (WPF) 中获取字符串资源？

> ID：13892921
> 
> 赞同：3
> 
> 时间：2012-12-15T14:10:33.813
> 
> 标签：c#, wpf, localization, localizable.strings

我知道如何从 XAML 中的字符串资源中获取资源：

```
{Binding OK, Source={StaticResource LocStrings}} 
```

但是，我想直接在 C# 中使用本地化字符串，例如

```
someString = Resources["LocStrings"]["StringId"]; 
```

但这不会编译。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-04-01T18:31:36.110

你需要这样的东西：

```
var myText = this.FindResource("LocStrings") as string; 
```

我想，您可以更改`this`到您的资源所在的任何位置。

**更新：**

通常，这是我用于全局资源的：

```
var myText = Application.Current.FindResource("resourceName") as string; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-05-11T01:27:21.970

资源字符串可作为自动生成`Resources`类中的静态成员访问，位于`<Default.app.namespace>.Properties.Resources`. `Properties`并且`Resources`都是不幸的命名空间名称，它们与您在编写 WPF 代码时可能已经在范围内的属性或命名空间发生冲突。因此，您可能必须使用完全限定名称。例如

```
MyProject.Properties.Resources.AppName 
```

`Resources.resx`对于名称为“AppName”的字符串。

您应该更喜欢这种获取字符串资源的方法而不是调用`FindResource`，因为它提供了资源字符串名称的编译时检查。

FFS。人，这怎么可能没有作为答案呢？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T14:32:20.200

这不是一个完整的答案，但可能对您的国际化应用程序有所帮​​助，请参阅此[codeplex 文章](http://www.codeproject.com/Articles/35159/WPF-Localization-Using-RESX-Files)可能对您有用。

# c++ - 在 C++ 中从文件中读取网格

> ID：13892923
> 
> 赞同：1
> 
> 时间：2012-12-15T14:10:39.790
> 
> 标签：c++, ifstream

我正在尝试使用 C++ 从文本文件中读取一些数据。然而，它在控制台上打印出奇怪的数字。

我的输入文件完全一样：

```
3 6
0 1 0 0 0 0
0 0 1 0 0 0 
0 0 0 0 1 0 
```

然后我写了非常简单的代码，就像：

```
#include <iostream>
#include <fstream>
using namespace std;

int main(int argc , char* argv[]) {

ifstream fin(argv[1]);

int grid_i;
int grid_j;

fin>>grid_i;
fin>>grid_j;

cout <<grid_i<<endl;
cout <<grid_j<<endl;
return 0;
} 
```

然后输出是：

```
8
1875681984 
```

我找不到错误在哪里。你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:15:41.880

检查文件是否已成功打开以及是否可以读取：

```
ifstream fin(argv[1]);
if (!fin.good()) {
    cout << "Couldn't open the file.\n";
    return 1;
} 
```

始终检查读取操作是否成功也是一个好主意。`operator>>`返回对流的引用，该引用可转换为 bool，因此您可以像这样使用它：

```
if (fin >> grid_i) {
    // read succeeded, use grid_i
} 
```

您的程序实际上可能导致未定义的行为。打开流（并随后从中读取）失败时，`grid_i`永远`grid_j`不会被初始化/分配。根据定义，读取具有不确定值的对象是未定义的行为。总是初始化你的对象是个好习惯

`int grid_i = 0;`

# winapi - 内联汇编程序执行时间

> ID：13892924
> 
> 赞同：1
> 
> 时间：2012-12-15T14:10:53.643
> 
> 标签：winapi, assembly, inline-assembly

我想知道如何计算 C++ 内联汇编程序的执行时间？我的问题是 Tickcounts 的差异为 0。

这是我的cpp代码：

```
const int N = 100000;
short x[4*N];

short a[4*N];
    for (int j=0;j<4*N;j++) {
        x[j] = rand() % 1000;
        a[j] = rand() % 5000;
    }
DWORD dwAStart = GetTickCount();

__asm {

    xor eax,eax

        mov ecx,N
    xor esi,esi 
```

一：

```
 emms
    movq        mm1,qword ptr x[esi]
    movq        mm2,mm1
    punpcklwd   mm1,mm6
    punpckhwd   mm2,mm6
    movq        mm0,qword ptr a[esi]
    movq        mm3,mm0
    punpcklwd   mm0,mm6
    punpckhwd   mm3,mm6
    pmullw      mm0,mm1

    paddsw      mm0,mm3

    add esi , 8
    loop a1
};
DWORD dwAInterval = GetTickCount() - dwAStart;
printf("Operation is completed through %d ms (Assembler)!\n", (int)dwAInterval); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:49:47.137

由 计数的滴答声`GetTickCount()`太粗略，无法从如此短的汇编代码序列中捕获时间差异。您将不得不使用 x86[时间戳计数器](http://en.wikipedia.org/wiki/Time_Stamp_Counter)来查看时间；指令助记符通常`RDTSC`在汇编中。所有警告都适用，例如：您的进程可能会被中断（这将使计数无效），时钟频率实际上可能会改变，其他内核中的活动可能会影响您的内核的时序，...。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-15T16:34:19.297

正如 GregS 所指出的，GetTickCount 过于粗糙，无法用于对短代码序列进行计时。并且在 x86 处理器上发现的时间戳计数器有一些限制，使其在多核处理器上非常不可靠。最可靠的解决方案是[QueryPerformanceCounter](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644904%28v=vs.85%29.aspx)和[QueryPerformanceFrequency](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644905%28v=vs.85%29.aspx)函数。在 *nix 平台上，POSIX 函数 clock_gettime() 用于类似目的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-28T18:59:30.917

我用了：

```
#include <iostream>
using namespace std;
typedef std::chrono::high_resolution_clock Clock;
int main()
{
  int X4,sum,avg;
  auto t1 = Clock::now();
  auto t2 = Clock::now();
  sum=avg=0;
  for( int i=0; i<TRIALS; i++ )
    {
      X4=17;
      t1 = Clock::now();
      asm  (
	    "movl %0, %%eax;" // X->ax
	    "movl $0x0A, %%ebx;" // 10->bx
	    "mul %%ebx;" // 10*ax->ax
	    : "=a" (X4)
	    : "a" (X4)
	    : "%ebx"
	    );
      t2 = Clock::now();
      sum+=chrono::duration_cast<std::chrono::nanoseconds>(t2 - t1).count();
    }
  avg=sum/TRIALS;
  cout << "| Product:  " << X4<< "  "<< avg << " nanoseconds |" << endl;
}
```

# c# - Windows窗体设计器中的EntityFramework连接字符串错误

> ID：13892928
> 
> 赞同：1
> 
> 时间：2012-12-15T14:11:15.780
> 
> 标签：c#, entity-framework-5

我在使用实体框架 5 的 Windows 窗体应用程序（.net 4.0）中遇到问题。

我有一个 DbContext 实例作为类字段，格式如下：

```
protected MascoteAquariumEF model = new MascoteAquariumEF("name=MascoteAquariumEF"); 
```

这是我的连接字符串：

```
<connectionStrings>
   <add name="MascoteAquariumEF" 
     connectionString="metadata=res://*/MascoteAquariumDBContext.csdl|res://*/MascoteAquariumDBContext.ssdl|res://*/MascoteAquariumDBContext.msl;provider=System.Data.SqlClient;provider connection string='data source=vm_visual_stdo\sqlexpress2008;initial catalog=MascoteAquarium;integrated security=True;multipleactiveresultsets=True;App=EntityFramework'" 
     providerName="System.Data.EntityClient" />
</connectionStrings> 
```

在设计器中，我看到了这个错误：表单没有得到真正的设计......但是运行项目没问题（没有错误）

```
The specified named connection is either not found in the configuration, not intended to be used with the EntityClient provider, or not valid. 
```

任何想法？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:14:56.823

尝试仅传递名称值：

```
protected MascoteAquariumEF model = new MascoteAquariumEF("MascoteAquariumEF"); 
```

另外我认为最好在实例化上下文之前检查设计器中的表单：

```
protected MascoteAquariumEF model;

public YourForm()
{
    InitializeComponent();

    if (DesignMode)
        return; // you don't need to create context

    model = new MascoteAquariumEF("MascoteAquariumEF");
} 
```

# python - Python 自动备忘录

> ID：13892929
> 
> 赞同：2
> 
> 时间：2012-12-15T14:11:32.583
> 
> 标签：python, oop, metaprogramming

我有一个库，它将一些 REST api 映射到一些对象模型。因此使用 API 很容易。问题是每次我获得对象的某些属性时，库都会向服务器发出实际请求。从性能的角度来看，这并不好。

我想要的是添加一段时间（比如说 5 分钟）记忆属性值的功能，并且只有在数据过期时才发出实际请求。

问题是可以在不实际更改库代码的情况下做到这一点吗？例如使用装饰器或类似的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:22:45.420

您想使用称为“记忆”的技术；我 10 多岁的 Google 搜索给了我另一个 SO 链接， [什么是 memoization 以及如何在 Python 中使用它？](https://stackoverflow.com/questions/1988804/what-is-memoization-and-how-can-i-use-it-in-python)

```
factorial_memo = {}
def factorial(k):
    if k < 2: return 1
    if not k in factorial_memo:
        factorial_memo[k] = k * factorial(k-1)
    return factorial_memo[k] 
```

但是，您不检查该行中的成员资格

```
if not k in factorial_memo: 
```

你需要一个超时处理程序 -

```
if (curr - prev) < fiveMin
    # access Memo
else
    # start thread to get new data 
```

高温高压

# scope - jsf 1.2 同一个托管 bean 中的两个作用域

> ID：13892930
> 
> 赞同：-1
> 
> 时间：2012-12-15T14:11:42.243
> 
> 标签：scope, jsf-1.2, managed-bean

是否可以在 JSF 1.2 中拥有具有两个不同范围的相同 Bean？我的意思是：

```
<managed-bean>
    <managed-bean-name>beanOne</managed-bean-name>
    <managed-bean-class>files.bean.BeanOne</managed-bean-class>
    <managed-bean-scope>session</managed-bean-scope>
    <managed-property>
            <property-name>someConfiguration</property-name>
            <value>#{configurationBean}</value>
    </managed-property>
</managed-bean>

<managed-bean>
    <managed-bean-name>beanOne</managed-bean-name>
    <managed-bean-class>files.bean.BeanOne</managed-bean-class>
    <managed-bean-scope>request</managed-bean-scope>
    <managed-property>
            <property-name>someParam</property-name>
            <value>#{param.value}</value>
    </managed-property>
</managed-bean> 
```

显然，这个解决方案不起作用，但这是我想要做的，没有两次使用不同名称的相同 BeanOne！谢谢！！;)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T10:37:03.393

不可能有两个不同范围的同一个bean。在你的情况下，请给你的另一个 bean 一个不同的名称，并有两个不同的 bean（一个在`request`范围内，另一个在`session`范围内）

要了解更多信息，您可以参考 BalusC 的一些好帖子

[链接 1](http://balusc.blogspot.in/2011/09/communication-in-jsf-20.html#ManagedBeanScopes)和[链接2](https://stackoverflow.com/questions/7031885/how-to-choose-the-right-bean-scope)

# cocoa - 如何向 NSTableView 添加页脚视图？

> ID：13892938
> 
> 赞同：10
> 
> 时间：2012-12-15T14:13:20.053
> 
> 标签：cocoa, nstableview

似乎`NSTableView`没有等同于`UITableView`' 的`tableFooterView`属性。将页脚视图添加到 Cocoa 中的表格视图的首选方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-07-11T13:21:57.847

NSTableView 没有像 UITableView 或 NSCollectionView 这样的部分，因此没有页眉和页脚。

相反，如果您使用基于视图的表，则可以通过数据源来完成。

1.  使用您在页脚中需要的自定义样式/元素在 Interface Builder 中的表格中添加一个单元格。给它一个标识符，如“TableFooter”
2.  将 NSTableViewDataSource 返回的行数增加（加一）`numberOfRowsInTableView(tableView:)`
3.  在`tableView(tableView:viewForTableColumn:row:)`最后一行中，使用标识符“TableFooter”从情节提要中实例化该项目。

# nexus-7 - Nexus 7 ADB 与 Win7 上的 Google 驱动程序 MTP 问题？

> ID：13892940
> 
> 赞同：2
> 
> 时间：2012-12-15T14:13:43.970
> 
> 标签：nexus-7

当与 ADB Google 驱动程序连接时，我的 N7 不会显示在便携式设备中，并且我无法访问我的文件。如果我卸载 ADB 驱动程序（选中删除驱动程序标志），win7 会重新安装自己的驱动程序并且它可以工作。

我想使用我的 N7 进行开发，但也想传输我的文件，是否有任何解决方法，还有其他人遇到过同样的问题吗？

感谢您的帮助。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-27T10:35:26.913

> 1.  下载 USB 驱动程序 - 适用于 Windows 的 Nexus 7 USB 驱动程序（[链接](http://support.asus.com/Download.aspx?SLanguage=en&m=Nexus%207&p=28&s=2)）
> 2.  运行设备管理器
> 3.  重新连接 Nexus 平板电脑 -> 选择 Android 手机（或您设备的其他名称）
> 4.  单击鼠标右键-> 更新
> 5.  选择你下载驱动
> 6.  安装

在 consol Windows -> adb 设备中

回答：

附加设备列表

xxxxx 设备

传输文件：

“adb push”将文件或文件夹从本地系统复制到远程模拟器或设备。

“adb pull”将文件或文件夹从远程模拟器或设备复制到本地系统。

资料链接：

[https://groups.google.com/forum/?fromgroups=#!topic/android-developers/0-RzE0v-G3k](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/0-RzE0v-G3k)

[http://www.herongyang.com/Android/adb-push-and-pull-Command.html](http://www.herongyang.com/Android/adb-push-and-pull-Command.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-21T05:55:17.273

*USB调试和MTP连接不能很好地配合使用。在 Nexus 7 之前的大多数设备上同时使用这两个设备的 AFAIK 甚至都不是一个选项。*

因此，为避免出现 ADB 问题，**最好的办法是不要使用 MTP**。我发现 [至少对于我的 Nexus 7 FHD] 使用相机 USB 模式而不是 MTP 证明更稳定，例如解决了臭名昭著的“未经授权”问题。

*此外，对于来回传输文件，还有一些不那么痛苦的选项，例如 AirDroid 应用程序 [不附属] - 让您可以使用浏览器传输内容。*

# .net - BITS（后台智能传输服务）是否必须使用 STA？

> ID：13892941
> 
> 赞同：0
> 
> 时间：2012-12-15T14:13:46.013
> 
> 标签：.net, winapi, com, microsoft-bits

我正在使用 SharpBITS (http://sharpbits.codeplex.com/)，这是一个运行良好的 .NET BITS 包装器。我不太确定，但认为 BITS 必须在单线程单元 (STA) 中运行。对于旧版本，我在多线程单元 (MTA) 中运行 BITS 时遇到了一些问题，例如 .NET 控制台应用程序的默认设置。我在 BITS 文档或 Internet 上没有找到任何相关信息。

甚至 SharpBITS 也尝试将 BitsManager 的构造函数中的单元状态设置为 STA（实际上只有在线程启动*之前才有可能）。*

有人知道 BITS 是否真的必须在 STA 中运行？当前版本似乎也可以在 MTA 中运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:47:17.130

不，BackgroundCopyManager coclass 的各种版本在注册表中注册，ThreadingModel 键设置为“Both”。这意味着您可以在 MTA 线程中创建一个（默认为您自己创建的任何线程或控制台应用程序的主线程），并且不会编组调用。如果您在 STA 线程中创建一个，则调用将被编组回该线程。

是的，MTA 会产生问题，因为现在由您来确保您自己的代码是线程安全的。您可以从 STA 线程获得很多保证，实际上您借用了 COM 提供的线程安全性。MTA 没有这样的保证，您必须确保您的代码与 BITS 一样是线程安全的。您将从 BITS 获得的通知将是典型的麻烦制造者，需要锁定以保护您自己的状态。

# mysql - 数据库模式令人困惑（索引和约束）

> ID：13892952
> 
> 赞同：8
> 
> 时间：2012-12-15T14:14:50.203
> 
> 标签：mysql, sql, database, schema

我对架构的设计*有点困惑，但在我开始之前，让我先向您展示架构，*

```
CREATE TABLE Person
(
    PersonID INT NOT NULL PRIMARY KEY,
    FirstName VARCHAR(50),
    LastName VARCHAR(50),
    -- some columns here..
    CONSTRAINT tb_idF INDEX (FirstName),
    CONSTRAINT tb_idL INDEX (LastName)
    -- or 
    -- CONSTRAINT tb_idL INDEX (FirstName, LastName)
    -- other constraints ...
);

CREATE TABLE JobDescription
(
    JobDescriptionID INT NOT NULL PRIMARY KEY,
    JobDescriptionName VARCHAR(50) UNIQUE
    -- some columns here..
    -- constraints ...
); 
```

混乱就在这里，表的*映射*表：`Person`和`JobDescription`。目前，我有这个设计，

```
CREATE TABLE Person_JobDescription
(
    RECID INT AUTO_INCREMENT PRIMARY KEY,   -- for some special reasons
                                            -- I need to map to other table
    PersonID INT,
    JobDescriptionID INT,
    StartYear INT,                          -- year JobDescription was Appointed
    EndYear INT,
    CONSTRAINT tb_fk1 FOREIGN KEY (PersonID) 
        REFERENCES Person(PersonID),
    CONSTRAINT tb_fk2 FOREIGN KEY (JobDescriptionID) 
        REFERENCES JobDescription(JobDescriptionID),
    CONSTRAINT tb_uq UNIQUE (PersonID, JobDescriptionID)
); 
```

但我有另一个想法，映射表的结构将是这样的

```
CREATE TABLE Person_JobDescription
(
    PersonID INT,           -- map these two columns on the other table
    JobDescriptionID INT,   -- ^^
    StartYear INT,          -- year JobDescription was Appointed
    EndYear INT,
    CONSTRAINT tb_fk1 FOREIGN KEY (PersonID) 
        REFERENCES Person(PersonID),
    CONSTRAINT tb_fk2 FOREIGN KEY (JobDescriptionID) 
        REFERENCES JobDescription(JobDescriptionID),
    CONSTRAINT tb_pk PRIMARY KEY (PersonID, JobDescriptionID)
); 
```

当我针对上面的表创建和测试查询时，它们都返回相同的结果，并且性能也与我在小型数据库（*具有 50k 条记录*）上测试的性能相同。我想知道这两个查询是否在大型数据库上表现如何。

**问题**

*   `Person_JobDescription`在大型数据库中，您更喜欢映射表 ( ) 的两种模式中的哪一种？

按照指示，我不允许在and上创建`UNIQUE`约束。但我已经在这两列上提供了一个索引。`FirstName``LastName`

*   我将在 table 上使用什么类型的索引`Person`？`FirstName`每列的索引或和的复合索引`LastName`？
*   我什么时候会使用单索引`INDEX (Col1)`及`INDEX (Col2)`以上`INDEX (Col1, Col2)`？

感谢您花时间阅读这个问题。

最好的祝福，

德里克·弗洛斯

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-15T17:00:34.707

我更喜欢第二种方法。通过在逻辑上不需要标识时使用代理 ID 号，您可以引入更多强制连接。这需要你“在整个数据库中追逐 ID 号”，这相当于“在整个数据库中追逐指针”的 SQL。追逐指针是 IMS 的特征，IMS 是关系模型打算取代的数据库架构之一。（IMS 使用分层架构。）今天重新发明它是没有意义的。（虽然*很多*人就是这么做的。）

例如，如果您有五个级别的代理 ID 号，并且您想要一个人的姓名，则必须进行四次连接才能得到它。使用第二种方法，您只需要一个连接。如果您不想编写多列连接，请使用 CREATE VIEW 并只执行一次。

**性能很容易测试**。只需使用您喜欢的脚本语言生成几百万随机行，然后将它们加载到测试服务器中。您不仅会发现性能问题隐藏的位置，还会发现 CREATE TABLE 代码中的所有错误。（您的代码不会按原样工作。）如果您还不了解[EXPLAIN ，请了解它。](http://dev.mysql.com/doc/refman/5.6/en/explain.html)

至于**索引**，您可以在生成和加载的随机行上进行测试。如果用户始终提供名字，则 (first_name, last_name) 上的多列索引效果最佳。但是很多用户不会这样做，而是更喜欢按姓氏搜索。(first_name, last_name) 上的多列索引对于喜欢按姓氏搜索的用户无效。你可以测试一下。

仅出于这个原因，如果有两个单独的索引，一个用于名字，一个用于姓氏，则名字和姓氏的索引*通常更有效。*

* * *

***追逐身份证号码*是什么意思？**

这个问题背后不言而喻的设计模式是“每一行都必须有一个 id 号，并且所有外键都必须引用该 id 号。” 在 SQL 数据库中，它实际上是一种反模式。根据经验，任何让您设计表格而不考虑键的模式都应该被假定为有罪，直到被证明是无辜的——它应该被假定为反模式，直到被证明不是。

```
create table A (
 a_id integer primary key,
 a_1 varchar(15) not null unique,
 a_2 varchar(15) not null
);

create table B (
  b_id integer primary key
  a_id integer not null references A (a_id),
  b_1  varchar(10) not null,
  unique (a_id, b_1),
);

create table C (
  c_id integer primary key,
  b_id integer not null references B (b_id),
  c_1 char(3) not null,
  c_2 varchar(20) not null,
  unique (b_id, c_1)
);

create table D (
  d_id integer primary key,
  c_id integer not null references C (c_id),
  d_1 integer not null,
  d_2 varchar(15),
  unique (c_id, d_1)
); 
```

如果您需要关于表“D”的报告，并且该报告需要

*   D.d_1 和 D.d_2 列，以及
*   A.a_1 和 A.a_2 列，

你需要 3 个连接才能到达它。（试试看。）你在追逐身份证号码。（就像在 IMS 中追逐指针一样。）下面的结构是不同的。

```
create table A (
 a_1 varchar(15) primary key,
 a_2 varchar(15) not null
);

create table B (
  a_1 varchar(15) not null references A (a_1),
  b_1  varchar(10) not null,
  primary key (a_1, b_1),
);

create table C (
  a_1 varchar(15) not null,
  b_1 varchar(10) not null,
  c_1 char(3) not null,
  c_2 varchar(20) not null,
  primary key (a_1, b_1, c_1),
  foreign key (a_1, b_1) references B (a_1, b_1)
);

create table D (
  a_1 varchar(15) not null,
  b_1 varchar(10) not null,
  c_1 char(3) not null,
  d_1 integer not null,
  d_2 varchar(15),
  primary key (a_1, b_1, c_1, d_1),
  foreign key (a_1, b_1, c_1) references C (a_1, b_1, c_1)
); 
```

使用这种结构，同一个报表需要单个连接。

```
select D.d_1, D.d_2, A.a_1, A.a_2
from D
inner join A on D.a_1 = A.a_1; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-15T16:21:21.220

第一种方法是我的偏好

如果您需要一个依赖于 PersonJobDescription 的表，比如 AgentContact，您可以轻松链接到代理 Rec_ID，没有它，您必须开始跳过箍

另一个原因是，如果要求每年持有一个 Person/JobDescription 会怎样？在您知道自己在哪里之前，您将拥有一个仍然无法完成工作的四个 vakue 复合键。规则复合主键应该是最后的手段，这将使您的设计更加灵活和有弹性。

# javascript - 奇怪：Javascript 日期对象神秘地添加月份？

> ID：13892957
> 
> 赞同：0
> 
> 时间：2012-12-15T14:15:10.617
> 
> 标签：javascript, date, time

我猜我只是混淆了参数，但我已经检查了 100 次。

如果我这样做：

```
console.log(new Date(2012, 12, 14, 0, 26, 15, 0)); 
```

我得到：

```
Mon Jan 14 2013 00:26:15 GMT+0100 (CET) 
```

但我期待的是：

```
Fri Dec 14 2012 00:26:15 GMT+0100 (CET) 
```

为什么我会得到这个结果？我认为日期构造函数的格式是`year, month, day, hour, minute, second, millisecond`.

有人知道我在这里缺少什么吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T14:16:26.387

Javascript 月份数字是从 0 开始的。0=1 月，11=12 月。

所以你想要的是这样的：

```
console.log(new Date(2012, 11, 14, 0, 26, 15, 0)); 
```

是的，这有点荒谬。其背后的逻辑是这样的：您通常希望显示月份名称，而获取它们的逻辑方法是将名称存储为以月份编号为索引的数组。数组索引是从 0 开始的。因此，月份编号应从 0 开始。

几十年来程序员的烦恼和惊讶，因为有人不能减去 1，或者浪费一个 13 指针数组的元素，或者其他什么。

（这与工作日从 0=Sunday 到 6=Saturday 编号这一事实背后的逻辑相同。这是因为它与 ISO 标准 1=Monday 到 7=Sunday 的模 7 相同。不同的欧洲/美国日历约定和基于 1-vs-0 的计数标准相互抵消... :))

# java - 求解用户给出的具有 3 个变量的线性方程组

> ID：13892958
> 
> 赞同：0
> 
> 时间：2012-12-15T14:15:12.530
> 
> 标签：java

我试图弄清楚如何在java中写下一个程序来求解具有3个变量的2个方程，这是由用户给出的：

```
A11 * X1 + A12 * X2 = B1
A21 * X1 + A22 * X2 = B2 
```

数字由用户给出，例如 1 2 3 4 5 6（对于 a11 a12 a21 a22 b1 b2），答案是“无解决方案”“许多解决方案”“单一解决方案 (x1,x2) 我被卡住了...... . 甚至不知道从哪里开始帮助？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:21:41.530

你会得到

*   当第一个方程与第二个方程矛盾时，无解。
*   当第一个和第二个方程不相同或互为倍数时的单一解。即它是可解决的。
*   如果一个是另一个的倍数，则有多个解决方案。

* * *

一般的解决方案是使用矩阵。

```
[A11 A12][X1] = [B1]
[A21 A22][X2]   [B2] 
```

可以写成

A * X = B

或者

X = A ^(-1) * B

计算 A 的倒数并将其乘以 B，您将得到 X 的解。

# jsf - 在 Java Portlet 中获取首选项并使用 jsf 视图显示

> ID：13892960
> 
> 赞同：0
> 
> 时间：2012-12-15T14:15:20.673
> 
> 标签：jsf, jsf-2, weblogic, portlet

我有一个具有 Init-Param 名称的 java portlet - javax.portlet.faces.defaultViewId.edit，其值为 /timesheetEntry.jsp

==timesheetEntry.jsp==

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@ taglib prefix="f" uri="http://java.sun.com/jsf/core"%>
<%@ taglib prefix="h" uri="http://java.sun.com/jsf/html"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core"%>
<f:view>
    <c:choose>
        <c:when test="#{timesheetEntryPreferences.new}">
        <c:out value="New Timesheet Entry"></c:out>
    </c:when>
        <c:otherwise>
            <h:form id="timesheetEntryBeanForm">
                <h:panelGrid columns="3" border="1">
                    <f:facet name="header">
                        <h:outputText
                            value="Timesheet Entry (#{timesheetEntryPreferences.timesheetEntryId})" />
                    </f:facet>
                    <h:outputText value="#{timesheetEntryPreferences.new}"></h:outputText>
                    <h:outputText value="Timesheet Date:"></h:outputText>
                    <h:inputText id="timesheetDate"
                        value="#{timesheetEntryBean.timesheetDate}" required="true">
                        <f:converter converterId="javax.faces.DateTime" />
                    </h:inputText>
                    <h:message for="timesheetDate"></h:message>
                    <h:outputText value="Task Name:"></h:outputText>
                    <h:inputText id="taskName" value="#{timesheetEntryBean.taskName}"
                        required="true"></h:inputText>
                    <h:message for="taskName"></h:message>
                    <h:outputText value="Hours Worked:"></h:outputText>
                    <h:inputText id="hoursWorked"
                        value="#{timesheetEntryBean.hoursWorked}" required="true">
                        <f:validateLongRange minimum="1" maximum="24"></f:validateLongRange>
                    </h:inputText>
                    <h:message for="hoursWorked"></h:message>
                </h:panelGrid>
                <h:commandButton action="#{timesheetEntryController.saveEntry}"
                    value="Submit"></h:commandButton>
            </h:form>
        </c:otherwise>

    </c:choose>
</f:view> 
```

==TimesheetEntryPreferences.java==

```
public class TimesheetEntryPreferences {
    private int timesheetEntryId;

    public int getTimesheetEntryId() {
        return timesheetEntryId;
    }

    public void setTimesheetEntryId(int timesheetEntryId) {
        this.timesheetEntryId = timesheetEntryId;
    }

    public TimesheetEntryPreferences() {
        try {
            timesheetEntryId = Integer.parseInt(PreferencesHelper
                    .getPreference("timesheetEntryId", "0"));
        } catch (NumberFormatException nfe) {
            System.err.println("Invalid Timesheet Entry has been set");

            timesheetEntryId = 0;
        }
    }

    public boolean isNew() {
        return timesheetEntryId == 0;
    }
} 
```

注意：PreferencesHelper 类具有静态方法 getPreference()，它获取 portlet 首选项。

现在我的问题是，当呈现 portlet 时，timesheetEntryPreferences.new 必须为真，因此

```
<c:out value="New Timesheet Entry"></c:out> 
```

必须显示正确吗？但它不会进入那个并且总是显示 c:otherwise 标记（即表单）。

请让我知道有什么问题？

# nuget - 在 NuGet 包中定义 .dll 之间的依赖关系

> ID：13892962
> 
> 赞同：0
> 
> 时间：2012-12-15T14:15:25.040
> 
> 标签：nuget, nuget-package

我已经定义了一个类似于以下内容的 nuget nuspec 文件：

```
<package xmlns="http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd">
<metadata>
    <id></id>
    <version></version>
    <title></title>
    <authors></authors>
    <owners />
    <requireLicenseAcceptance>false</requireLicenseAcceptance>
    <description></description>
    <references>
        <reference file="A.dll" />
    </references>
</metadata>
<files>
    <file src="A.dll" target="lib\net40-client" />
    <file src="B.dll" target="lib\net40-client" />
</files> 
```

这可确保在构建项目时将 B.dll 与 A.dll 一起复制，而无需添加 B.dll 作为引用。

现在假设 B.dll 依赖于 C.dll，我该如何构造 A.dll 和 B.dll 的 nuspec 文件来表达这种依赖关系，这样 B.dll 和 C.dll 将与 A.dll 一起复制而不添加B.dll 或 C.dll 作为参考或在 A.dll 的 nuspec 文件中显式添加 C.dll。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T20:20:02.383

如果 B.dll 需要 C.dll，那么它应该包含在您的`<files>`列表中。我不知道你怎么能解决这个问题。

```
<files>
 <file src="A.dll" target="lib\net40-client" />
 <file src="B.dll" target="lib\net40-client" />
 <file src="C.dll" target="lib\net40-client" />
</files> 
```

根据[Nuspec 文档](http://docs.nuget.org/docs/reference/nuspec-reference)`references`：*作为项目引用添加的 lib 下的程序集的名称*。 *如果未指定，则将 lib 中的所有引用添加为项目引用。指定引用时，只指定名称而不指定包内的路径。*

因此，通过指定`A.dll`为唯一的`reference`，NuGet 知道不将项目引用添加到`C.dll`.

# php - 如何使用 .htaccess 基于此条件进行重定向？

> ID：13892963
> 
> 赞同：0
> 
> 时间：2012-12-15T14:15:27.007
> 
> 标签：php, .htaccess, rewrite

目前我正在使用下面的 .htaccess 来删除 .php 扩展名

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*)$ $1.php 
```

我想在输入时显示页面`www.example.com/login.php`并`www.example.com/login`想`www.example.com/profile=username`在输入时显示`www.example.com/username`

任何建议或答案提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:20:44.267

[http://www.9lessons.info/2009/11/pretty-urls-with-htaccess-file.html](http://www.9lessons.info/2009/11/pretty-urls-with-htaccess-file.html)

```
RewriteEngine On
RewriteRule ^([a-zA-Z0-9_-]+)$ index.php?key=$1
RewriteRule ^([a-zA-Z0-9_-]+)/$ index.php?key=$1

<?php

$key=$_GET['key'];

if($key=='home')
{
include('home.php'); // Home page
}
else if($key=='login')
{
include('login.php'); // Login page
} 
else if($key=='terms')
{
include('terms.php'); // Terms page
}
else 
{
include('users.php'); // Users Gateway
}
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:27:59.787

这是另一种选择：

```
RewriteEngine On
RewriteCond %{REQUEST_URI} (.*)/([\w]+)\.php [NC]

#Select ONE of the following options and DELETE the others
# 1) Without redirection
RewriteRule .*  %1/%2 [L]

# 2) With temporary redirection
RewriteRule .*  %1/%2 [R,L]

# 3) With permanent redirection
RewriteRule .*  %1/%2 [R=301,L] 
```

相应地选择重写规则。

# ios - 在 iphone 的 facebook 墙上分享文字不起作用？

> ID：13892965
> 
> 赞同：0
> 
> 时间：2012-12-15T14:15:37.863
> 
> 标签：ios

我想直接在 iphone 中分享文字。我在按钮单击时实现了以下代码

![在此处输入图像描述](../Images/7db592e6c7db9798179540dc585c0392.png)

```
 login authentication has to be successfully done but when i click the post button it show some error . 
```

我已经实现了以下错误行 ![在此处输入图像描述](../Images/b980596b061b1199fa4620461d1f4cc1.png) ![在此处输入图像描述](../Images/8d1ea89b418f9147049685531c75949b.png)

```
**I m using facebook direct api for this Facebook API** 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:30:22.090

我不确定，但我认为解析器应该有一些委托（在 SBJson 类中查看），例如 parserDidfinishParsing

看起来你现在正在告诉解析器“开始解析”并在它完成之前释放它

# javascript - 移动网站上 ImageMap 的替代方案

> ID：13892966
> 
> 赞同：0
> 
> 时间：2012-12-15T14:15:38.760
> 
> 标签：javascript, html, css, jquery-mobile

我有以下问题。我正在用**jQuery Mobile**编写一个网站（数据来自**drupal cms**）。

我目前最大的问题是，我有一个用户应该能够触摸以获取更多信息的图像。问题是，当设备旋转时，图像不应该旋转。

我目前的解决方案是，在设备旋转到相同图像但旋转 90* 时更改图像。对于用户可以触摸的点，我将`div`s 与自定义触摸事件一起使用。现在的问题是，如果图像被更改，`div`s 不在图像上的同一位置（我知道顶部和左侧已经改变，所以我相应地更改了它们 - 新的左侧是旧的顶部等。 ）。

有没有办法解决这个问题？也许有可能首先阻止图像旋转。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:16:43.930

使用[css 媒体查询](http://css-tricks.com/snippets/css/media-queries-for-standard-devices/)按设备方向应用不同的图像旋转：

```
/* Smartphones (landscape) ----------- */
@media only screen and (min-width : 321px) {
    img.class {
       transform: rotate(270deg);
       -moz-transform: rotate(270deg);
       -webkit-transform: rotate(270deg);
    }
}

/* iPads (landscape) ----------- */
@media only screen and (min-device-width : 768px) and (max-device-width : 1024px) and (orientation : landscape) {
    img.class {
       transform: rotate(270deg);
       -moz-transform: rotate(270deg);
       -webkit-transform: rotate(270deg);
    }
} 
```

# git - 列出所有本地 git 克隆中的所有分支

> ID：13892968
> 
> 赞同：2
> 
> 时间：2012-12-15T14:15:43.270
> 
> 标签：git, shell, git-branch

随着时间的推移，我最终创建了多个不同存储库的 git 克隆，并且在一些克隆中，我创建了多个分支。我现在想找到具有特定分支的克隆。

我查看了 StackOverflow 问题，发现了以下文章[Git Status Across Multiple Repositories on a Mac](https://stackoverflow.com/questions/2765253/git-status-across-multiple-repositories-on-a-mac)。以此为参考，我决定编写自己的 shell 脚本来列出所有克隆和每个克隆中的分支。但是，通过`grep`在`.git`目录中搜索，我找不到任何提供此信息的地方。该`HEAD`文件仅包含有关当前签出分支的信息。

我当然可以编写一个脚本来处理`git branch`每个克隆工作目录中的输出。但是，在我开始之前，我想知道是否有更简单的方法来获取这些信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T16:44:04.333

**.git/refs/heads**应该包含你所有的本地分支。

我很好奇——为什么在 shell 脚本中使用*git branch不够？*

# twitter - Twitter API：获取主题标签的所有推文？

> ID：13892971
> 
> 赞同：1
> 
> 时间：2012-12-15T14:15:55.547
> 
> 标签：twitter, twitter4j

我对 2 个问题感到困惑，但还无法弄清楚。

**1** - 我试图在网站上放置一个框，显示特定主题标签的所有推文。默认的 twitter 嵌入时间线小部件无法正常工作 - 因为我需要显示此处显示的**所有**推文：

[https://twitter.com/search/realtime?q=%2323Dec&src=typd](https://twitter.com/search/realtime?q=%2323Dec&src=typd)

我尝试创建一个小部件，但对于主题标签 - #23Dec & 它提供了以下代码：

```
<a class="twitter-timeline" width="300" height="500" href="https://twitter.com/search?q=%2323Dec" data-widget-id="279943570356584449">Tweets about #23Dec</a>

<script>
!function(d,s,id){
    var js,fjs=d.getElementsByTagName(s)[0];
    if(!d.getElementById(id)){
        js=d.createElement(s);
        js.id=id;
        js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);
    }
}(document,"script","twitter-wjs");
</script> 
```

我替换了`href="https://twitter.com/search?q=%2323Dec"`，`href="https://twitter.com/search/realtime?q=%2323Dec&src=typd"`但仍然无法正常工作....

我应该怎么做才能拉出所有推文？并将其放在自动更新的网站上？

2 - 其次，我该如何设计它？因为我在给定的脚本中没有找到任何可以用自定义样式表覆盖的样式表？

请帮我....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:31:15.073

我认为这可能对您有所帮助..注意搜索参数 obj 的构建方式以及从那里传递它的方式。您将看到一个用于主题标签搜索的输入框，以及查看我如何从区域设置趋势主题中提取它们。

大家好，我整理了一个不错的 JS fiddle，它可以回答您在处理 Twitter API 时的所有问题。该网络应用程序抓取热门地区，并允许您深入了解热门话题，然后查看其中的推文。

我还包括了一个标准的 Twitter 搜索提交框，所以以一种奇怪的方式，这是一个准系统 Tweetdeck 客户端供您检查。此外，为了推动新 Jquery 库的适应，我使用了 1.91，它使用了新的 live.bind 点击事件语法。

享受

[http://jsfiddle.net/jdrefahl/5M3Gn/](http://jsfiddle.net/jdrefahl/5M3Gn/)

```
 function searchTwitter(query) {
    $.ajax({
        url: 'http://search.twitter.com/search.json?' + jQuery.param(query),
        dataType: 'jsonp',
        success: function (data) {
            var tweets = $('#tweets');
            tweets.html('');
            for (res in data['results']) {
                tweets.append('<div>' + data['results'][res]['from_user'] + ' wrote: <p>' + data['results'][res]['text'] + '</p></div><br />');
            }
        }
    });
}

$(document).ready(function () {

    function getTrendsByID(id) {
        $.ajax({
            url: 'http://api.twitter.com/1/trends/' + id + '.json',
            dataType: 'jsonp',
            success: function (data) {
                $.each(data[0].trends, function (i) {
                });
            }
        });
    };

    function getLocales() {
        $.ajax({
            url: 'https://api.twitter.com/1/trends/available.json',
            dataType: 'jsonp',
            success: function (data) {
                var locales = $('ul#locales');
                locales.html('');
                $.each(data, function (i) {
                    localeID[i] = data[i].woeid;
                    $('ul#locales').append('<li>' + data[i].name + '</li>');
                });
            }
        });

    };

    function getTrends(id) {
        $.ajax({
            url: 'https://api.twitter.com/1/trends/' + id + '.json',
            dataType: 'jsonp',
            success: function (data) {
                var trends = $('ul#currentTrends');
                trends.html('');
                $.each(data[0].trends, function (i) {
                    $('ul#currentTrends').append('<li>' + data[0].trends[i].name + '</li>');
                });
            }
        });
    };

    // Event Handlers
    $(document).on("click", "#locales li", function () {
        var $this = $(this);
        var localesHdr = $('#currentTrendsCont h3');
        var tweets = $('#tweets');
        var trendsHdr = $('#tweetsCont h3');
        trendsHdr.html('');
        tweets.html('');
        localesHdr.html('');
        $('#currentTrendsCont h3').html($this.text());
        getTrends(localeID[$this.index()]);
    });

    $(document).on("click", "#currentTrends li", function () {
        var $this = $(this);
        var trendsHdr = $('#tweetsCont h3');
        trendsHdr.html('');
        $('#tweetsCont h3').html($this.text());
        var params = {
            q: $this.text(),
            rpp: 10
        };
        searchTwitter(params);
    });

    $('#submit').click(function () {
        var trendsHdr = $('#tweetsCont h3');
        var trends = $('#currentTrends');
        var local = $('#currentTrendsCont h3');
        local.html('');
        trendsHdr.html('');
        trends.html('');
        $('#tweetsCont h3').html('search query: '+$('#query').val());
        var params = {
            q: $('#query').val(),
            rpp: 10
        };
        searchTwitter(params);
    });

    // Globals
    var localeID = new Array();

    // Init
    getLocales();

}); 
```

# django - 使用 eWay 支付网关进行“现场定期支付”集成的 Django 库/应用程序

> ID：13892974
> 
> 赞同：1
> 
> 时间：2012-12-15T14:16:09.720
> 
> 标签：django, payment-gateway, recurring-billing

我正在尝试使用[eWay Payment Gateway](http://www.eway.com.au/)在我的网站中集成“现场定期付款”，并且由于我使用 Django 作为开发框架，所以我正在寻找 Django 中的现有库/应用程序，它可以帮助我。

[Django-Merchant](https://github.com/agiliq/merchant)似乎很有希望。但是在浏览他们的[API 文档](https://django-merchant.readthedocs.org/en/latest/)时，我意识到 Django-Merchant 不会促进现场处理中的“[定期付款”。](http://www.eway.com.au/developers/api/recurring)

Django中是否有任何其他用于eWay Payment Gateway的库可用于实现“现场定期付款”？或 Django-Merchant 中的任何其他方式。

示例：循环功能可用于脑树集成：

```
>>> resp = braintree.recurring(10, credit_card, options = options) 
```

我在 eWay 中寻找同样的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-28T16:54:27.853

我们为[Django-Merchant](http://merchant.agiliq.com/)贡献了上述功能。因为，它支持许多支付网关，并且在 Django 社区中最流行的支付网关集成。

请参阅最新版本的 Django-Merchant 进行更改。你可以在[这里](https://github.com/agiliq/merchant)找到它们。

# java - 将 JSP 会话转换为 ArrayList 错误每个代码都已更改

> ID：13892976
> 
> 赞同：0
> 
> 时间：2012-12-15T14:16:21.317
> 
> 标签：java, jsp, session, arraylist

我在我的 JSP 上创建了一个`ArrayList`基于`ProductData`类，这个列表表示为一个购物车。

```
ArrayList<ProductData> cartList = new ArrayList<ProductData>();
ProductData data = new ProductData(productId, productName, productPrice, productAmmount);
cartList.add(data); 
```

之后，我将我的存储`ArrayList`到 JSP ，因为当我离开此页面时我`session`不希望我的丢失。`ArrayList`

```
session.setAttribute("cartList", cartList); 
```

在另一部分，我得到`session`并将其转换为`ArrayList`of `ProductData` （我检查会话是否为空或不确定）

```
ArrayList<ProductData> cartList = session.getAttribute("cartList") == null ? new ArrayList<ProductData>() : (ArrayList<ProductData>)session.getAttribute("cartList"); 
```

它在第一次运行时运行良好。但是，每次我更改页面上的代码（并且我没有修改我的类声明）时，servlet 都会抛出一个错误：`java.lang.ClassCastException: org.apache.jsp.MCPatisserie.cart_jsp$1ProductData`

`class`我的问题是：这是在 java servlet 页面上实现的好方法吗？这个错误是由于重新编译 servlet 页面和`session`对象不再与我的匹配而引起的`ArrayList`吗？提前致谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:20:51.813

每次更改 JSP 时，容器都会将它重新编译为一个新的 Java 源文件，并将这个新的 Java 源文件重新编译为一个新类。看来您已经在 J​​SP 中定义了一个 Java 类。所以这个类也被重新生成和重新编译。所以会话中的对象有一个与重新创建的不同的类。

JSP 中不应该有 Java 代码。绝对不是类定义。ProductData 应该在它自己的 .java 文件中定义，就像任何其他类一样。

# javascript - preventDefault() 不起作用（'提交'）

> ID：13892981
> 
> 赞同：4
> 
> 时间：2012-12-15T14:17:23.157
> 
> 标签：javascript, jquery

我无法让我的 on('submit') 事件处理程序来阻止使用 event.preventDefault(); 提交表单；

```
 $("section.shopping-cart").on('submit','form.adjustform input[type="submit"]', function(event)     {   

      // code

      event.preventDefault();
 }) 
```

我已经使用 on('click') 并使用 return false 让它工作。尽管我读过上述方法是正确的方法..

谢谢，凸轮

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-15T14:23:00.783

您正在使用 的委托形式`on`，选择器选择表单元素以外的其他内容：

```
// Here ------------------------------------------------v
$("section.shopping-cart").on('submit','form.adjustform input[type="submit"]', ... 
```

该`submit`事件发生在`form`元素上（至少，您可以有效地取消的那个）。指定一个*表单*元素：

```
$("section.shopping-cart").on('submit','form.adjustform', ... 
```

这是一个**不**工作的例子，因为选择器选择了非表单元素：

[示例](http://jsbin.com/oxireb/2)| [来源](http://jsbin.com/oxireb/2/edit)

这是正确工作的正确示例：

[示例](http://jsbin.com/oxireb/1)| [来源](http://jsbin.com/oxireb/1/edit)

（**注意**：表单在新窗口中打开，只是为了避免带您离开代码。）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-15T14:27:11.717

提交事件发生在表单上，​​而不是提交按钮上。

将事件绑定到表单：

```
$("section.shopping-cart").on('submit','form.adjustform', function(event)     { 
```

或者绑定提交按钮的点击事件：

```
$("section.shopping-cart").on('click','form.adjustform input[type="submit"]', function(event)     { 
```

（不过，有些浏览器也允许按回车键提交表单，在这种情况下不会触发点击事件。）

# jquery - 将添加的 tr 定位在表中

> ID：13892982
> 
> 赞同：1
> 
> 时间：2012-12-15T14:17:28.327
> 
> 标签：jquery

我想将表格行添加到我的表格主体中，我可以使用以下代码实现：

```
var tr = $('<tr/>');
$('#myTable > tbody:last').append(tr); 
```

但是有些页面可能有太多行，因此我在最后一行动态创建了一个分页器。

在这些情况下，如果我使用上面的代码，新的代码`tr`将附加在分页器下方，这不是很好。

我的分页器`tr`有 id`<tr id="paginator_tr">` 我想知道是否可以更改此代码

```
$('#myTable > tbody:last').append(tr); 
```

有一个条件来检查最后一个 tr 是否有`id = "paginator_tr"`if ，然后在该分页器行之前添加新行。否则，只需将新行附加为最后一行。

像这样的条件在jquery中可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T14:23:13.600

```
var $tbody = $('#myTable > tbody').last(),
    $paginator_tr = $tbody.find('#paginator_tr');

if ($paginator_tr.length) {
    $paginator_tr.before(tr)
} else {
    $tbody.append(tr)
} 
```

如果 paginator 元素存在，则可以使用`before`方法，否则可以附加 tr 元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T14:27:57.350

使用`insertBefore()`假设您的分页行始终存在

```
tr.insertBefore( '#paginator_tr') 
```

API 参考：[http ://api.jquery.com/insertBefore/](http://api.jquery.com/insertBefore/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-15T14:39:06.783

这是另一种方法，可能只是有点疯狂（尽管它有效！）：

```
var table = $(this),
    tr = $('<tr />'),
    td = $('<td />', {'text' : 'Newly-added cell.'}).appendTo(tr),
    method = table.find('#paginator_row').length ? ['insertBefore', '#paginator_row'] : ['appendTo', table.find('tbody').last()]
    tr[method[0]](method[1]); 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/fPGP9/)。

实际上，该`method`数组包含两个参数，第一个是要使用的 jQuery 方法，第二个是该方法的选择器，以确定`tr`添加元素的位置；它依赖于这样一个事实，即可以通过点符号 ( `object.propertyName`) 和方括号 ( `object[propertyName]`) 访问对象的属性。

参考：

*   [`appendTo()`](http://api.jquery.com/appendTo/).
*   [`find()`](http://api.jquery.com/find/).
*   [`last()`](http://api.jquery.com/last/).

# .htaccess - .htaccess + wordpress，多目录重定向

> ID：13892983
> 
> 赞同：0
> 
> 时间：2012-12-15T14:17:36.190
> 
> 标签：.htaccess, mod-rewrite

我正在将大约 38 个网站从 Joomla 转移到 wordpress。

由于 SEO，我想保持相同的链接结构。不幸的是，最后一位开发人员对他们构建链接的方式粗心，所以我有一些古怪的要求要满足。

即有时他们的博客是index.php/blog-4，同时是index.php/blog，和index.php/blog-5。

在 wordpress 中，我将永久链接设为

index.php/blog-5/%postname%

我以前从未编辑过 .htaccess，但我想做的是将任何内容重定向到

/blog/* --> /blog-5/*

/blog-4/* --> /blog-5/*

我会写什么来完成这个？

**编辑**

我在执行迈克尔的答案时遇到了麻烦。这是我的 .htaccess 的样子。我试过把它放在里面和外面。

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]

RewriteCond %{REQUEST_URI} !^/blog-5
RewriteRule ^blog(-.+)?/(.*) blog-5/$2 [L,R=301]

</IfModule>

# END WordPress 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:22:17.833

这是一个相当简单的`RewriteRule`. 使用表达式`(-4)?`可以选择匹配并将其与对 的请求一起`-4`重定向到。之后的第二组将其他所有内容捕获到.`/blog-5``/blog/``(.*)``/``$2`

```
RewriteEngine On
RewriteRule ^blog(-4)?/(.*) blog-5/$2 [L] 
```

以上将进行静默内部重写。如果您确实想要重定向并让浏览器显示新 URL，请更改`[L]`为`[L,R=301]`.

注意：realizing`blog-4`可能是一个变量名，`(-.+)?`用来匹配任何东西。但是您还需要 a`RewriteCond`所以它*不匹配* `blog-5`：

```
RewriteCond %{REQUEST_URI} !^/blog-5
RewriteRule ^blog(-.+)?/(.*) blog-5/$2 [L] 
```

# scala - Scala中finally块的返回值

> ID：13892985
> 
> 赞同：4
> 
> 时间：2012-12-15T14:17:56.613
> 
> 标签：scala

> **可能重复：**
> [scala中的“return”和“try-catch-finally”块评估](https://stackoverflow.com/questions/8443743/return-and-try-catch-finally-block-evaluation-in-scala)

有两个 Scala 函数：

一个）：`def foo(): Int = try { 1 } finally { 2 }`

b):`def bar(): Int = try { return 1 } finally { return 2}`

我无法弄清楚为什么`foo`返回 1 但`bar`返回 2。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-15T14:51:52.240

M.Odersky、L. Spoon 和 B.Venners 在“Scala 编程”中解释了这种行为。我有第一版，第 7.5 节（第 128 页）说：

> 值得注意的是，Scala 的行为与 Java 不同，只是因为 Java`try-finally`不会产生值。与在 Java 中一样，如果`finally`子句包含显式返回语句或抛出异常，则该返回值或异常将“推翻”任何先前源自 try 块或其 catch 子句之一的返回值或异常。例如，给定：

```
def f(): Int = try { return 1 } finally { return 2 } 
```

> 调用 f() 结果为 2。相比之下，给定：

```
def g(): Int = try { 1 } finally { 2 } 
```

> 调用 g() 的结果为 1。这两个函数都表现出可能让大多数程序员感到惊讶的行为，因此通常最好避免从`finally`子句返回值。

* * *

Scala 标准库的`scala.util.control.Exception`API 提供了用于处理异常的小型函数库。请参阅[scaladoc中的示例](http://www.scala-lang.org/api/current/scala/util/control/Exception$.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-15T14:50:09.957

bar() 的 finally 块的 return 语句退出了 bar() 方法。因此不返回 try 块的结果。

此示例显示了您的方法 foo() 和 bar() 的（大致）等效版本：

```
object Test extends App {

    def foo() = {
      val result = { 1 }
      { 2 }
      result
    }

    def bar(): Int = {
      val result = { 1 }
      { return 2 }
      result // this line is not processed
    }

    println("foo = " + foo()) // foo = 1

    println("bar = " + bar()) // bar = 2

} 
```

# asp.net-mvc-3 - 为什么在 mvc3 razor 中映射请求路由不起作用？

> ID：13892986
> 
> 赞同：1
> 
> 时间：2012-12-15T14:17:59.700
> 
> 标签：asp.net-mvc-3

我创建了一个简单的 mvc3 razor web 应用程序。在它上面我有一个控制器和一个像这样的动作：

```
public class DownloadController : Controller
{       
    public ActionResult Index()
    {
        return File(@"\Files\MyFile.zip", "compress/zip");
    }

} 
```

在我看来，我写了这些：

```
 @Html.ActionLink("Downlod file","Index","Download") 
```

和

```
 <a href="Files/MyFile.zip">download it</a> 
```

第一行效果很好并使用索引操作结果，但第二行不使用索引操作结果。我在 Global.asax 文件中注册了一个写入以映射第二个请求以索引操作结果，但它不起作用

这段代码：

```
routes.MapRoute("downloadroute",
                "Files/",
                 new { controller = "Download", action = "Index", id =    
                 UrlParameter.Optional }
                ); 
```

但这条路线不起作用有什么问题吗？

它是我完整的全局文件内容

```
 routes.MapRoute(
            "Default", // Route name
            "{controller}/{action}/{id}", // URL with parameters
            new { controller = "Home", action = "Index", id = UrlParameter.Optional } 
        );

        routes.MapRoute("downloadroute",
                        "Files/",
                     new { controller = "Download", action = "Index", 
                          id =UrlParameter.Optional }
                    ); 
```

谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T14:45:51.030

您的路线与物理文件夹冲突`Files`。您可以重命名文件夹以解决此冲突，或更改路由 url（并将该路由放在默认路由之前）：

```
routes.MapRoute("downloadroute",
                "Downloads/",
                 new { controller = "Download", action = "Index" }
                ); 
```

并使用绝对路径而不是相对路径：

```
<a href="@Url.Content("~/Downloads")">download it</a> 
```

# c++ - 在 C++ 中，std::string::push_back() 的摊销复杂度是 O(1) 吗？

> ID：13892989
> 
> 赞同：6
> 
> 时间：2012-12-15T14:18:17.810
> 
> 标签：c++, string, complexity-theory, push-back

我知道标准规定它是针对向量的，但是字符串呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-15T14:24:16.003

是的，它是摊销的常数时间。[请参阅本文档](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3485.pdf)第 716 页的表 101 ：

> 表 101 列出了为某些类型的序列容器提供的操作，但不是为其他类型提供的操作。实现应为“容器”列中显示的所有容器类型提供这些操作，并应实现它们以占用摊销常数时间。

```
Operation      | Description          | Container
---------------+----------------------+----------------------------------
a.push_back(t) | Appends a copy of t. | basic_string, deque, list, vector 
```

# php - 如何创建一个 png，结合另一个图像、背景颜色和文本？

> ID：13892990
> 
> 赞同：1
> 
> 时间：2012-12-15T14:18:56.277
> 
> 标签：php, png

我正在尝试创建图像来呈现天气数据：

```
<?php
header("Content-type: image/png");

$place = $_GET['place'];
$temp = $_GET['temp'];
$weather = $_GET['weather'];

$im_width = 150;
$im_height = 150;

$im = @imagecreate($im_width, $im_height);

$background_color = imagecolorallocate($im, 0, 0, 0);

$weather_im = imagecreatefrompng("images/". $weather .".png");
imagecopy($im, $weather_im, 0, 0, 0, 0, $im_width, $im_height);

$font = 'segoeui.ttf';
$font_color = imagecolorallocate($im, 255, 255, 255);

$temp_font_size = 24;

imagettftext($im, 16, 0, 5, $im_height-10, $font_color, $font, $place);
imagettftext($im, $temp_font_size, 1, $im_width-$temp_font_size, $im_height/2, $font_color, $font, $temp);

imagepng($im, '', 9);
imagedestroy($im);

?> 
```

我得到了文字，但是在添加了另一个图像 13 之后，只有背景图像和那个图像。在我做图像复制之前，我也有文字：-/

# delphi - 处理来自子组件的父 WndProc

> ID：13892991
> 
> 赞同：2
> 
> 时间：2012-12-15T14:19:05.333
> 
> 标签：delphi, winapi

我正在开发一个新组件，我想处理所有父消息。

```
Type
 TMyComponent= class(TComponent)
//Bla bla
/..
//.
published
property Parent: TWinControl read FParent write SetParent;

end; 
```

我想访问 Parent WndProc（处理所有父消息）。有什么方法可以从我的 TMyComponent 处理 Parent WndProc 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T14:43:36.857

像这样：

```
type
  TMyComponent = class(TComponent)
  private
    FParent: TWinControl;
    FParentWindowProc: TWndMethod;
    procedure WindowProc(var Message: TMessage);
    procedure SetParent(Value: TWinControl);
  published
    property Parent: TWinControl read FParent write SetParent;
  end;

procedure TMyComponent.SetParent(Value: TWinControl);
begin
  if Value=FParent then
    exit;

  if Assigned(FParent) then
    FParent.WindowProc := FParentWindowProc;
  FParentWindowProc := nil;

  FParent := Value;

  if Assigned(FParent) then
  begin
    FParentWindowProc := FParent.WindowProc;
    FParent.WindowProc := WindowProc;
  end;
end;

procedure TMyComponent.WindowProc(var Message: TMessage);
begin
  // do whatever we want with the message
  FParentWindowProc(Message);// delegate to parent's window procedure
end; 
```

# android-widget - 如何关闭所选项目上的 listpopupwindow 而不是在弹出窗口之外选择

> ID：13892992
> 
> 赞同：5
> 
> 时间：2012-12-15T14:19:09.950
> 
> 标签：android-widget

我安装了 android listpopupwindow 并在我的 android 应用程序中工作。

当我单击（并选择）一个项目而不是单击外部时，我希望关闭弹出列表。

我尝试了dismiss()和dismiss()；休息; 任何地方的方法....

我只想在列表中选择一个项目，然后弹出窗口消失......

谢谢，娄

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T14:58:54.080

这段代码对我有用：

```
popupWindow.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                popupWindow.dismiss();
            }
        }); 
```

# c# - 如何强制设置以检查是否安装了先决条件？

> ID：13892994
> 
> 赞同：0
> 
> 时间：2012-12-15T14:19:43.537
> 
> 标签：c#, wpf, setup-project, setup-deployment

我用 C# 开发了 wpf 应用程序。我已经成功创建了安装项目。它正在成功安装先决条件。我已将 MS Access 2010 可再发行组件作为先决条件。第一次安装成功。然后我从添加/删除程序中删除它。它成功地被删除。但是仍然有 MS Access 2010 可再发行存在，它没有被删除。我也不想删除 MS Access 2010 可再发行组件。第二次运行我的 wpf 应用程序设置时，它要求重新安装或删除 MS Access 2010 可再发行组件。这是我不想要的。安装程序应检查是否安装了 MS Access 2010 可再发行组件。如果未安装，请安装它。它安装然后不要求重新安装或删除 MS Access 2010 可再发行组件。这是我想要的。我应该如何完成上述任务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T13:33:05.793

也许此链接可帮助您定义卸载操作，您可以在其中放置用于删除 mdac 的代码

在下面

```
public override void Uninstall(IDictionary savedState)
{
base.Uninstall(savedState);
} 
```

在

[http://msdn.microsoft.com/en-us/library/vstudio/d9k65z2d(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/vstudio/d9k65z2d(v=vs.100).aspx)

# c++ - 如何在 C++ 中将单字节字符串转换为宽字符串？

> ID：13892995
> 
> 赞同：1
> 
> 时间：2012-12-15T14:19:45.457
> 
> 标签：c++, string, winapi, widestring

我知道编码，并且输入字符串是 100% 单字节，没有像 utf 等花哨的编码。我想要的只是根据已知的编码将它转换为 wchar_t* 或 wstring。使用什么功能？`btowc()`然后循环？也许字符串对象有一些有用的东西。有很多示例，但所有示例都是针对“多字节”或带有 btowc() 的花哨循环，它们仅显示如何在屏幕上显示确实此功能正在工作的输出，我还没有看到任何严肃的示例如何处理这样的缓冲区情况下，宽字符总是比单个字符字符串大 2 倍吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-15T16:43:47.020

试试这个[模板](http://m.c-plusplus.de/168607)。它对我很有帮助。

（作者不详）

```
/* string2wstring.h */
#pragma once

 #include <string>
#include <vector>
#include <locale>
#include <functional>
#include <iostream>

 // Put this class in your personal toolbox...
 template<class E,
 class T = std::char_traits<E>,
 class A = std::allocator<E> >

 class Widen : public std::unary_function<
     const std::string&, std::basic_string<E, T, A> >
 {
     std::locale loc_;
     const std::ctype<E>* pCType_;

     // No copy-constructor, no assignment operator...
     Widen(const Widen&);
     Widen& operator= (const Widen&);

 public:
     // Constructor...
     Widen(const std::locale& loc = std::locale()) : loc_(loc)
     {
#if defined(_MSC_VER) && (_MSC_VER < 1300) // VC++ 6.0...
         using namespace std;
         pCType_ = &_USE(loc, ctype<E> );
#else
         pCType_ = &std::use_facet<std::ctype<E> >(loc);
#endif
     }

     // Conversion...
     std::basic_string<E, T, A> operator() (const std::string& str) const
     {
         typename std::basic_string<E, T, A>::size_type srcLen =
             str.length();
         const char* pSrcBeg = str.c_str();
         std::vector<E> tmp(srcLen);

         pCType_->widen(pSrcBeg, pSrcBeg + srcLen, &tmp[0]);
         return std::basic_string<E, T, A>(&tmp[0], srcLen);
     }
 };

 // How to use it...
 int main()
 {
 Widen<wchar_t> to_wstring;
 std::string s = "my test string";
 std::wstring w = to_wstring(s);
 std::wcout << w << L"\n";
 } 
```

# wpf - WPF 显示 FPS

> ID：13892999
> 
> 赞同：4
> 
> 时间：2012-12-15T14:20:39.893
> 
> 标签：wpf, frame-rate, viewport3d

我正在尝试显示 Viewport3D 的 FPS。

进行一些搜索时，我遇到了 CompositionTarget.Rendering，但这似乎给“WPF 性能套件”工具中显示的 FPS 提供了不同的结果。

使用 CompositionTarget.Rendering 时，我得到稳定的 60 fps 显示，直到我与视口相机交互（响应鼠标/键盘事件）然后 fps 拍摄到 150 到 200 fps 之间，而“WPF 性能套件”工具仍显示稳定的 60 fps。

我认为这是因为“WPF 性能套件”工具显示了准确的 FPS，即每当 WPF 团队实际在后台缓冲区上调用 Present 时，而 CompositionTarget.Rendering 是内部更新的 fps，但不代表真正的 fps。

我想展示一些更符合“WPF 性能套件”工具的东西，我该如何实现呢？

我使用 CompositionTarget.Rendering 如下 -

```
Viewport3D()
{
    CompositionTarget.Rendering += (s, a) =>
                {
                    ++m_frames;
                };

            DispatcherTimer fpsTimer = new DispatcherTimer();
            fpsTimer.Interval = TimeSpan.FromSeconds(1);
            fpsTimer.Tick += (s, a) =>
                {
                    m_fpsText.Text = string.Format("FPS:{0}", m_frames);
                    m_frames = 0;
                };
            fpsTimer.Start();
    } 
```