# StackOverflow 问答 15082000-15082999

# android - 将 android 应用程序与服务器上的 .net 应用程序连接起来

> ID：15082000
> 
> 赞同：0
> 
> 时间：2013-02-26T05:28:28.450
> 
> 标签：android, .net, database-connection

我正在开发使用 PHP 作为最后一年项目在 mySQL 中输入数据的 android 应用程序。但是该公司正在使用 .net 服务器，他们需要构建我的 android 应用程序来处理他们服务器上的数据。连接是否可行android 与 mySQL 或任何其他 DB 使用 IIS 服务器或直接**不使用 PHP** ??

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T08:04:22.323

您可以使用 webservice 来实现[如何将 Android 与 SQL Server 数据库连接？](https://stackoverflow.com/questions/13540583/how-to-connect-android-with-sql-server-database)

或试试这个 [http://amitku.wordpress.com/2011/08/03/how-to-connect-and-access-sql-database-server-from-android-app/](http://amitku.wordpress.com/2011/08/03/how-to-connect-and-access-sql-database-server-from-android-app/)

# c# - Linq to Entities 多对多选择：如何强制生成 JOIN 而不是子选择子句？

> ID：15082001
> 
> 赞同：4
> 
> 时间：2013-02-26T05:28:46.960
> 
> 标签：c#, entity-framework, join, linq-to-entities, subquery

![在此处输入图像描述](../Images/c7e4d85e9fef3dfa1308f3ef3d85f610.png)

首先使用 EF DB，我有两个具有多对多关系的实体（供应商、产品）。Entity Framework 不会为关联表 (SupplierProduct) 创建实体，因为关联表仅包含强实体的主键。

我通过以下查询获得了所有不提供给定产品的供应商：

```
var q1 = context.Suppliers.Where(s=>!s.Products.Any(p=>p.Id == 1)); 
```

生成的 SQL 使用与此类似的 EXISTS 相关子查询：

```
SELECT *
FROM Suppliers s
WHERE NOT EXISTS
  (SELECT 1 
   FROM SupplierProduct sp WHERE sp.SupplierId = s.Id && sp.ProductId = 1) 
```

是否有可能使用 Linq to Entities 方法语法来生成在关联表上使用连接的查询？

IE：

```
SELECT DISTINCT s.*
FROM SupplierProduct sp
JOIN Supplier s ON s.Id = sp.SupplierId;
WHERE sp.ProductId != 1 
```

**更新**

正如 JoeEnos 所指出的，我上面的查询并没有做同样的事情。NOT EXISTS 子查询可能是最好的方法。如果我试图找到所有提供产品的供应商*怎么*办？我会将我的 linq 更改为实体查询：

```
var q1 = context.Suppliers.Where(s => s.Products.Any(p=>p.Id == 1)); 
```

生成的 SQL 将是：

```
SELECT *
FROM Suppliers s
WHERE EXISTS
  (SELECT 1 
   FROM SupplierProduct sp WHERE sp.SupplierId = s.Id && sp.ProductId = 1) 
```

这很好，我得到了我想要的结果。但是，如果我在这种情况下编写 SQL，我通常会这样做：

```
SELECT s.*
FROM SupplierProduct sp
JOIN Supplier s ON s.Id = sp.SupplierId;
WHERE sp.ProductId = 1 
```

可以更改我的 linq to entity 查询以生成上述 SQL 吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-26T10:09:03.247

[可以使用SelectMany()](http://msdn.microsoft.com/en-us/library/system.linq.queryable.selectmany.aspx)根据与另一个实体的 m:n 关联来选择实体时使用连接而不是 EXISTS 来生成 SQL 。例如：

```
var q1 = context.Suppliers.Where(s => s.Products.Any(p=>p.Id == 1)); 
```

可以改写为：

```
var q1 = context.Products.Where(p => p.Id == 1).SelectMany(p => p.Suppliers); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:31:38.907

您的两个查询做了非常不同的事情。您的`Any`/`EXISTS`查询获取根本没有产品 1 的供应商。您的`JOIN`查询将获取拥有除 1 之外的任何其他产品的所有供应商，无论他们是否也拥有产品 1。

我认为你不能只用一个`JOIN`and来做你要找的`WHERE`事情 - 你可以用一个`IN`子句来做，但我认为`EXISTS`查询是查找数据的最正确方法。

无论如何，Entity Framework 的一大优点是您不必担心会生成什么——只要 LINQ 语句没问题，它就会找到编写查询的最佳方式，而您应该永远不必看它。当您进行分页和其他类似的事情时尤其如此，其中 LINQ 很简单，但生成的 SQL 非常难看。

# android - 开发 USB 主机应用程序

> ID：15082004
> 
> 赞同：0
> 
> 时间：2013-02-26T05:29:08.777
> 
> 标签：android, android-x86

我需要测试一个简单的 USB Host android 应用程序，类似于：

```
UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);
...  
HashMap<String, UsbDevice> deviceList = manager.getDeviceList();
UsbDevice device = deviceList.get("deviceName"); 
```

但是，由于缺乏支持 USB 主机的真实设备，我需要在模拟器或 Android x86 (Android v4.2) 虚拟机上运行它。

在不需要真实手机的情况下测试 USB 主机应用程序有哪些选项。

更新：

好的，我在 VMware 播放器上使用 Andoid-x86 ICS 进行了测试，似乎可以看到检测到 USB：

> dmesg | grep“USB”

然后我看到

> scsi2：USB 存储 1-1：1.0

然后当我断开设备并`dmesg`再次运行时

我懂了：

> usb 1-1：USB 断开，设备号 2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:53:54.630

我认为没有足够的选择，请参阅 [Emulator Limitations](http://developer.android.com/tools/devices/emulator.html#limitations)

# php - SQL查询/PHP将用户从一个表导入到另一个表，但散列密码？

> ID：15082006
> 
> 赞同：0
> 
> 时间：2013-02-26T05:29:16.240
> 
> 标签：php, mysql, sql, password-encryption

我有 2 张桌子 - 旧的和新的。

从 ID 5000 到 ID 10000，我需要将旧表中的数据导入到新表中。

假设需要导入“名称”和“密码”。

在旧表中，用户没有被散列！我如何导入名称和密码但确保导入的密码经过哈希处理，即：“$P$B .....”（wordpress 哈希）？这可以通过 SQL 查询来完成吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:34:18.440

如果您只是使用 MySQL 本身具有的哈希值，例如 md5，您可以执行类似的操作

```
INSERT INTO NewTable (ID, Name, Password)
  SELECT ID, Name, md5(Password) AS Password
  FROM OldTable
  WHERE ID BETWEEN 5000 to 10000 
```

如果您需要使用与 MD5 不同的散列，请查看 MySQL 的文档以了解它们还支持什么。如果它像您所说的那样是自定义的，Word Press 的哈希（我不知道他们使用什么），您将不得不在 PHP 中运行每一个并手动转换它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:36:27.613

您可以执行以下操作

```
INSERT INTO new_table (col1, password, ..., coln)
SELECT col1, MD5(password), ..., coln
FROM old_table
WHERE ID BETWEEN 5000 to 10000; 
```

请参阅[MySQL Password Hashing](http://dev.mysql.com/doc/refman/4.1/en/password-hashing.html) available。

阅读更多

[如何在 MySQL 中对密码进行哈希处理？](https://stackoverflow.com/questions/704194/how-to-hash-passwords-in-mysql)

# pdf - 尝试在 Solr 中索引 PDF 时出现 ClassCastException ExtractingRequestHandler

> ID：15082007
> 
> 赞同：0
> 
> 时间：2013-02-26T05:29:20.223
> 
> 标签：pdf, solr, solrj

我在 Solr 中索引 PDF 时遇到了一些困难。最初我有很多 JAR 丢失，我包括了所有（特别是来自“dist”和“contrib\extraction”文件夹。但现在当我尝试索引我的 PDF 时，我遇到了这个 ClassCastException ExtractingRequestHandler。有没有人遇到过这个或知道出了什么问题吗？

![在此处输入图像描述](../Images/cfe26ac42bf0228d6c32c221da169372.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T08:38:09.767

尝试将 solr-cell.jar 放入您的类路径中。ExtractingRequestHandler 类位于 solr-cell jar 文件中。

将其放在 /webapp/lib 文件夹下，然后重新启动。

# java - 使用 RegEx 匹配大输入时出现 StackOverflowError

> ID：15082010
> 
> 赞同：3
> 
> 时间：2013-02-26T05:29:27.730
> 
> 标签：java, regex, stack-overflow, lookahead

我`StackOverflowError`在使用 RegEx 模式匹配结果时得到。

模式是`(\d\*?(;(?=\d))?)+`。此正则表达式用于验证输入：

`12345;4342;234*;123*;344324`

输入是一个字符串，由以 . 分隔的值（仅数字）组成`;`。每个值可以`*`在末尾包含一个（用作其他匹配的通配符）。`;`字符串的末尾没有。

问题是这个正则表达式可以很好地处理少量的值。但是当值的数量太大（超过 300）时，会导致`StackOverflowError`.

```
final String TEST_REGEX = "(\\d\\*?(;(?=\\d))?)+";

// Generate string
StringBuilder builder = new StringBuilder();
int number = 123456;
for (int count = 1; count <= 300; count++) {
    builder.append(Integer.toString(number).concat(";"));
    number++;
}
builder.deleteCharAt(builder.lastIndexOf(";"))

builder.toString().matches(TEST_REGEX); //<---------- StackOverflowError 
```

和堆栈跟踪：

```
java.lang.StackOverflowError
    at java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3715)
    at java.util.regex.Pattern$GroupHead.match(Pattern.java:4556)
    at java.util.regex.Pattern$Loop.match(Pattern.java:4683)
    at java.util.regex.Pattern$GroupTail.match(Pattern.java:4615)
    at java.util.regex.Pattern$Ques.match(Pattern.java:4079)
    at java.util.regex.Pattern$Ques.match(Pattern.java:4079)
    at java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3715)
    at java.util.regex.Pattern$GroupHead.match(Pattern.java:4556)
    at java.util.regex.Pattern$Loop.match(Pattern.java:4683)
    at java.util.regex.Pattern$GroupTail.match(Pattern.java:4615)
    at java.util.regex.Pattern$Ques.match(Pattern.java:4079)
    at java.util.regex.Pattern$Ques.match(Pattern.java:4079)
    at java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3715)
    at java.util.regex.Pattern$GroupHead.match(Pattern.java:4556)
    at java.util.regex.Pattern$Loop.match(Pattern.java:4683)
    at java.util.regex.Pattern$GroupTail.match(Pattern.java:4615)
    ... 
```

我认为模式中的前瞻会导致此错误，因为有很多查找，但我还没有弄清楚如何减少它或解决问题。

我非常感谢任何建议，因为我在 RegEx 方面没有经验。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T08:22:58.803

在解决问题之前`StackOverflowError`...

1.  我想指出您当前的正则表达式`(\d\*?(;(?=\d))?)+`无法验证此条件。

    > 每个值可以在末尾包含一个 *（用作其他匹配的通配符）

    它未能拒绝此案`23*4*4*;34*434*34`，如此[处所示](http://www.regex101.com/r/pP9eX3)¹。

2.  您的正则表达式将对不匹配的输入进行不必要的回溯。

3.  Java 对组的每次重复使用一个堆栈帧`(\d\*?(;(?=\d))?)`（重复 1 次或更多次`+`）。

正确的正则表达式是：

```
\d+\*?(?:;\d+\*?)* 
```

请注意，这将拒绝`*`，您的要求并不太清楚您是要接受还是拒绝。

这并不能解决 StackOverflow 问题，因为该组`(?:;\d+\*?)`的每次重复也会用完堆栈。为了解决这个问题，使所有量词都*具有所有格*，因为不需要回溯，因为语法没有歧义：

```
\d++\*?+(?:;\d++\*?+)*+ 
```

放入字符串文字：

```
"\\d++\\*?+(?:;\\d++\\*?+)*+" 
```

我已经用匹配和不匹配的输入测试了上面的正则表达式，它有超过 3600 个标记（用 分隔`;`）。

**脚注**

¹ : regex101 使用 PCRE 风格，与 Java regex 风格略有不同。但是，您的正则表达式中使用的功能在它们之间是通用的，因此应该没有差异。

**附录**

*   实际上，从我对您的正则表达式的测试`(\d\*?(;(?=\d))?)+`（根据您的要求是*不正确*的），使最外层的`+`所有格`++`似乎可以解决`StackOverflowError`问题，至少在我对大约 3600 个令牌的测试中（由 分隔`;`，字符串大约 20k 个字符长） . 在针对不匹配的字符串进行测试时，它似乎也不会导致较长的执行时间。

*   在我的解决方案中，使`*`组`(?:;\d+\*?)`所有格的量词足以解决`StackOverflowError`.

    ```
    "\\d+\\*?(?:;\\d+\\*?)*+" 
    ```

    然而，为了安全起见，我让一切都占有欲。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:50:43.083

您的正则表达式有点无效，与您的描述不符。你有 '\d\*?' - 它是**一个**数字，后跟可选的 *。然后可选 ';(?=\d)' - ';' 与前瞻数字。字符串 '1*2*3*' 将匹配您的正则表达式，但不匹配您的描述。您可以使用跟随正则表达式。它与您的输入相匹配，并且更具影响力。

```
final String TEST_REGEX = "(\\d+\\*?)(?:;\\d+\\*?)+"; 
```

当 count < 300 时它将通过测试，但对于较大的值仍然失败。使用*indexOf*和*substring*之类的纯字符串操作来验证输入。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:42:09.753

您可能想要做的事情是增加堆栈的最大大小，使其不会溢出。 [您可以在此处阅读有关如何执行此操作的信息。](http://www.onkarjoshi.com/blog/209/using-xss-to-adjust-java-default-thread-stack-size-to-save-memory-and-prevent-stackoverflowerror/)

基本上，您可以使用该`-Xss`选项启动您的程序。例如，`-Xss4m` 当我使用 开始您的代码时`-Xss4m`，您的程序运行时没有堆栈溢出（它返回`true`）。

# android - Android模拟器：没有信号强度

> ID：15082011
> 
> 赞同：1
> 
> 时间：2013-02-26T05:29:29.113
> 
> 标签：android, android-emulator, android-4.0-ice-cream-sandwich

我使用 Google ICS 代码构建了我的代码。安卓模拟器不显示信号强度。有什么方法可以模拟假信号强度吗？我们可以显示至少 3 格的信号强度吗？我必须在哪里做哪些改变？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:41:54.167

是的，当模拟器运行打开命令行并使用连接到它时`telnet localhost 5554`，5554 是端口（它将显示在模拟器窗口的顶部）。

连接运行后将`gsm signal 2`信号强度设置为 2。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-04T10:48:43.703

`responseRilSignalStrength`您可以在 ril.cpp 文件中的函数中给出信号强度的假值（7 到 99 之间） 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-03-11T10:31:07.017

这个问题很老但仍然合法（在我的情况下）并且没有回答。因此，通过连接到模拟器后，`telnet localhost 5554`您可以模拟信号强度

```
gsm signal-profile <strength> 
```

其中强度是 0 到 4 之间的数字。

# iphone - iPhone应用程序图像中的颜色替换

> ID：15082025
> 
> 赞同：7
> 
> 时间：2013-02-26T05:30:13.980
> 
> 标签：iphone, opencv, image-processing, core-graphics, quartz-core

基本上我想为我的油漆应用程序实现颜色替换功能。以下是原始和预期的输出

原来的： ![原来的](../Images/41762d26b7331abb0b119a54deec4dfd.png)

在更改用户选择的墙壁颜色以及一些替换阈值后

![期望的输出](../Images/8a6ed37e1735a05091ba81627ae546c3.png) 我尝试了两种方法，但无法按预期工作

**方法 1：用于颜色替换**
[的基于队列的 Flood Fill](http://en.wikipedia.org/wiki/Flood_fill)算法，但我的输出速度非常慢，并且没有保留墙阴影。

![洪水填充输出](../Images/f0f8ffc0f11ff36be127536a9430fe87.png)

**方法 2：** 所以我试图查看另一个选项，并在下面的帖子中找到了 SO [如何更改图像中的特定颜色？](https://stackoverflow.com/questions/8046643/how-to-change-a-particular-color-in-an-image)

但我无法理解逻辑，也不确定我在第 3 步中的代码实现。

请根据我的理解为每一步找到以下代码。

1) 使用 cvCvtColor 将图像从 RGB 转换为 HSV（我们只想改变色调）。

```
 IplImage *mainImage=[self CreateIplImageFromUIImage:[UIImage imageNamed:@"original.jpg"]];
 IplImage *hsvImage = cvCreateImage(cvGetSize(mainImage), IPL_DEPTH_8U, 3);
 IplImage *threshImage = cvCreateImage(cvGetSize(mainImage), IPL_DEPTH_8U, 3);
 cvCvtColor(mainImage,hsvImage,CV_RGB2HSV); 
```

2) 用 cvThreshold 指定一定的容差来隔离颜色（您需要一系列颜色，而不是单一颜色）。

```
cvThreshold(hsvImage, threshImage, 0, 100, CV_THRESH_BINARY); 
```

3) 使用 cvBlobsLib 之类的斑点检测库丢弃颜色低于最小尺寸的区域。这将消除场景中相似颜色的点。*我需要指定原始图像或阈值图像吗？*

```
CBlobResult blobs = CBlobResult(threshImage, NULL, 0);
blobs.Filter( blobs, B_EXCLUDE, CBlobGetArea(), B_LESS, 10); 
```

4) 用 cvInRangeS 遮罩颜色，并使用生成的遮罩应用新的色调。

不确定此功能如何帮助颜色替换并且无法理解要提供的参数。

5) cvMerge 新图像与新色调与由您在第一步中保存的饱和度和亮度通道组成的图像。

我知道 cvMerge 将合并 HS 和 V 的三个通道，但是我如何使用上述三个步骤的输出。

所以基本上坚持使用opencv实现，

如果可能的话，请指导我进行 opencv 实施或任何其他尝试解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-01T04:47:53.257

最后，我能够使用下面的 javacv 代码实现一些所需的输出，并且也可以移植到 opencv。

这个解决方案有两个问题

1.  没有边缘检测，我认为使用轮廓我可以实现它
2.  替换的颜色具有平坦的色调和饱和度，应根据源像素色调饱和度差异进行设置，但不确定如何实现。可以使用 cvAddS 代替 cvSet

    ```
    IplImage image = cvLoadImage("sample.png");
    CvSize cvSize = cvGetSize(image);

    IplImage hsvImage = cvCreateImage(cvSize, image.depth(),image.nChannels());

    IplImage hChannel = cvCreateImage(cvSize, image.depth(), 1); 
            IplImage  sChannel = cvCreateImage(cvSize, image.depth(), 1); 
            IplImage  vChannel = cvCreateImage(cvSize, image.depth(), 1);
    cvSplit(hsvImage, hChannel, sChannel, vChannel, null);

    IplImage cvInRange = cvCreateImage(cvSize, image.depth(), 1);
    CvScalar source=new CvScalar(72/2,0.07*255,66,0); //source color to replace
    CvScalar from=getScaler(source,false);
    CvScalar to=getScaler(source, true);

    cvInRangeS(hsvImage, from , to, cvInRange);

    IplImage dest = cvCreateImage(cvSize, image.depth(), image.nChannels());

    IplImage temp = cvCreateImage(cvSize, IPL_DEPTH_8U, 2);
    cvMerge(hChannel, sChannel, null, null, temp);

    cvSet(temp, new CvScalar(45,255,0,0), cvInRange);// destination hue and sat
    cvSplit(temp, hChannel, sChannel, null, null);
    cvMerge(hChannel, sChannel, vChannel, null, dest);
    cvCvtColor(dest, dest, CV_HSV2BGR);
    cvSaveImage("output.png", dest); 
    ```

阈值计算方法

```
 CvScalar getScaler(CvScalar seed,boolean plus){
    if(plus){
        return CV_RGB(seed.red()+(seed.red()*thresold),seed.green()+(seed.green()*thresold),seed.blue()+(seed.blue()*thresold));
    }else{
        return CV_RGB(seed.red()-(seed.red()*thresold),seed.green()-(seed.green()*thresold),seed.blue()-(seed.blue()*thresold));
    }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-06T18:16:11.907

我知道这个答案有一天会对某人有用。在 iOS 的 viewdidLoad() 覆盖方法中试试这个。下面代码片段中的图像应该来自您的 UIImageView 种子也是固定的。您可以根据用户点击事件使其动态化。

```
 cv::Mat mask = cv::Mat::zeros(image.rows + 2, image.cols + 2, CV_8U);
 imageView.image = [self UIImageFromCVMat:image];
 cv::cvtColor(image, image, cv::COLOR_BGR2RGB);

  try {
    if(seed.x > 0 && seed.y > 0){
        cv::floodFill(image, mask, seed, cv::Scalar(50, 155, 20) ,0,        cv::Scalar(2,2, 2), cv::Scalar(2,2, 2), 8);
        cv::floodFill(image, mask, seed2, cv::Scalar(50, 155, 20) ,0, cv::Scalar(2,2, 2), cv::Scalar(2,2, 2), 8);
        cv::floodFill(image, mask, seed3, cv::Scalar(50, 155, 0) ,0, cv::Scalar(2,2, 2), cv::Scalar(2,2, 2), 8);

    }
} catch (Exception ex) {

}
cv::cvtColor(image, image, cv::COLOR_RGB2BGR);

self.imageView.contentMode = UIViewContentModeScaleAspectFill;
self.imageView.image = [self UIImageFromCVMat:image]; 
```

# javascript - Eval 真的为 JavaScript 引入了动态作用域吗？

> ID：15082029
> 
> 赞同：2
> 
> 时间：2013-02-26T05:30:32.577
> 
> 标签：javascript, ecmascript-5, ecma262, dynamic-scope

[人们说](https://stackoverflow.com/questions/10060857/is-it-possible-to-achieve-dynamic-scoping-in-javascript-without-resorting-to-eva)Eval 为 JavaScript 带来了动态范围，但我看不出这种说法是如何有效的。使用 Eval 使用与调用环境相同的词法环境/变量环境来评估表达式（参考[ECMA 262 v. 5](http://www.ecma-international.org/ecma-262/5.1/#sec-10.4.2)）。表达式的*赋值*或*声明*显然是动态的，但我认为说它引入了动态范围是不合理的。

我是否正确地说 Eval 没有引入动态范围？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:49:19.710

是和不是。

严格来说，不；该语言仍然在词法上运行（除了相对于`this`，它始终是动态范围的）。

但是，如果您阅读链接到[的整个问题](https://stackoverflow.com/questions/10060857/is-it-possible-to-achieve-dynamic-scoping-in-javascript-without-resorting-to-eva)，您会看到提问者正在*使用`eval`模拟动态范围*。

```
var x = 1;

function g() {
    print(x);
    x = 2;
}

function f() {
    // create a new local copy of `g` bound to the current scope
    // explicitly assign it to a variable since functions can be unnamed
    // place this code in the beginning of the function - manual hoisting
    var g = eval(String(g));
    var x = 3;
    g();
}

f();                         // prints 3

print(x);                    // prints 1 
```

模拟动态范围完全可以通过提问者使用它的方式来实现。询问者`eval`用于将外部定义的函数实际导入另一个函数的范围。这需要对函数进行字符串化并重新声明它。所以外部定义的函数并没有真正在另一个函数的范围内运行（这个例子并没有*真正*展示严格意义上的动态范围），因为声明了一个全新的函数。话虽如此，提问者的意图是模拟动态范围，他正在通过 eval 实现这一点。

# python - python webkit webview：为什么历史的日期等于0.0，需要修复什么？

> ID：15082031
> 
> 赞同：2
> 
> 时间：2013-02-26T05:30:38.803
> 
> 标签：python, webkit, history, gtk3

**我正在将 GTK3 与 python 一起使用。**

访问后向列表时`get_last_visited_time`返回 0.0

在`get_last_visited_time`通知状态信号回调中调用`load_status = FINISHED`。

uri 和 title 等所有其他值都是正确的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-20T22:15:46.747

历史记录应该是自动的。在这种情况下，要么没有历史命令，要么没有初始化适当的命令。您必须设置一个命令以在某个点启动时钟，否则从时钟的角度来看，时间将始终为 0。我不知道实际的命令，但希望你能理解这个概念。

# ruby-on-rails - 为 Rails 3.2 更新数据库中的数据时出错

> ID：15082034
> 
> 赞同：1
> 
> 时间：2013-02-26T05:30:50.393
> 
> 标签：ruby-on-rails, database, ruby-on-rails-3, postgresql

我正在尝试在 ruby​​ on rails 中实现购物清单。我在数据库中创建了两个表，`products`并且`shopping_list`. 我给产品一个外键参考 shopping_list 是`product.shopping_list_id`.

我试图在 ruby​​ on rails 中找到`total products`现在，`shopping list`但我遇到了一个错误。

我的创建商店架构如下：-

```
class CreateShopSchema < ActiveRecord::Migration
  def up

        # --------------------

        # Table Name: shopping_list
        # --------------------
        # Note: This is the base table that has details about an account.
        # ---------------------------------------------------------------

    create_table :shopping_lists do |t|
            t.string     :id, :null => false
            t.string     :shopping_list_name
            t.string     :shopping_list_status, :default => 'OPEN'          
            t.string     :total_items, :default => 0
            t.timestamps
    end

        # --------------------
        # Table Name: products
        # --------------------
        # Note: This is the base table that has details about an account.
        # ---------------------------------------------------------------

    create_table :products do |t|
            t.references :shopping_list, :null => false
            t.string     :product_name,  :default => 'null'
            t.string     :product_category
            t.integer    :quantity          
            t.string     :status, :default => 'OPEN' 
    end

  end

  def down
    drop_table :products
    drop_table :shopping_lists
  end

end 
```

我的 shopping_list 表如下：-

```
CREATE TABLE shopping_lists
(
  id serial NOT NULL,
  shopping_list_name character varying(255),
  shopping_list_status character varying(255) DEFAULT 'OPEN'::character varying,
  total_items character varying(255) DEFAULT 0,
  created_at timestamp without time zone NOT NULL,
  updated_at timestamp without time zone NOT NULL,
  deleted integer NOT NULL DEFAULT 0,
  CONSTRAINT shopping_lists_pkey PRIMARY KEY (id)
) 
```

我的产品表如下：-

```
CREATE TABLE products
(
  id serial NOT NULL,
  shopping_list_id integer NOT NULL,
  product_name character varying(255) DEFAULT 'null'::character varying,
  product_category character varying(255),
  quantity integer,
  status character varying(255) DEFAULT 'OPEN'::character varying,
  deleted integer NOT NULL DEFAULT 0,
  CONSTRAINT products_pkey PRIMARY KEY (id)
) 
```

我的产品控制器如下：-

```
class ProductsController < ApplicationController
  # GET /products
  # GET /products.json
  def index
  @products = Product.all
   # @products = Product.includes(:shopping_list_id)

    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @products }
    end
  end  

  # GET /products/1
  # GET /products/1.json
  def show
   @product = Product.find(params[:id])
   #product = Product.includes(:shopping_list_id)
   #@product = Product.joins(:shopping_list_id)

    respond_to do |format|
      format.html # show.html.erb
      format.json { render json: @product }
    end
  end

  # GET /products/new
  # GET /products/new.json
  def new
    @product = Product.new

    respond_to do |format|
      format.html # new.html.erb
      format.json { render json: @product }
    end
  end

  # GET /products/1/edit
  def edit
    @product = Product.find(params[:id])
  end

  # POST /products
  # POST /products.json
  def create
    @product = Product.new(params[:product])

    respond_to do |format|
      if @product.save
        format.html { redirect_to @product, notice: 'Product was successfully created.' }
        format.json { render json: @product, status: :created, location: @product }
      else
        format.html { render action: "new" }
        format.json { render json: @product.errors, status: :unprocessable_entity }
      end
    end
  end

  # PUT /products/1
  # PUT /products/1.json
  def update
    @product = Product.find(params[:id])

    respond_to do |format|
      if @product.update_attributes(params[:product])
        format.html { redirect_to @product, notice: 'Product was successfully updated.' }
        format.json { head :no_content }
      else
        format.html { render action: "edit" }
        format.json { render json: @product.errors, status: :unprocessable_entity }
      end
    end
  end

  # DELETE /products/1
  # DELETE /products/1.json

def delete
    @product = Product.find(params[:id])
    @product.deleted = 1
    @product.save

    respond_to do |format|
      format.html { redirect_to products_url }
      format.json { render :json => { :success => true } }
    end
  end

  def list
   @products = Product.find(:all,
                 :order => "id asc")
  # @products = Product.includes(:shopping_list_id)

    respond_to do |format|
      format.html { render :action => 'list' }
      format.json { render :json => @accounts.to_json }
    end       
  end

 end 
```

当我尝试通过前端在数据库中添加新产品时，产品表已填充，但 shopping_list 中的数量（总项目）未在数据库中更新。

我想以这样的方式实现，以便我可以获得特定购物清单的产品数量

谁能帮我实现这个

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:40:18.850

好的，您为什么不考虑将您的应用程序设置为以下内容：

**产品.rb**

```
belongs_to :category 
belongs_to :shopping_list

def total_price
    product.price * quantity
  end 
```

**类别.rb**

```
has_many :products 
```

**Line_item**

```
belongs_to :product 
belongs_to :shopping_list 
belongs_to :order --> will let you finish the rest 
```

**购物清单.rb**

```
has_many :line_items 
```

您的订单表将包括`quantity`. 要获得`quantity`您订单中的内容，您可以执行以下操作：

```
def quantity
    line_items.to_a.sum { |quant| quant.quantity }
  end 
```

将上述内容放入您的产品模型中将意味着您将能够在您的`product/index.html.erb`-->`<%= order.quantity %>`

# objective-c - Searching CoreData relationships

> ID：15082037
> 
> 赞同：1
> 
> 时间：2013-02-26T05:30:53.910
> 
> 标签：objective-c, core-data, nspredicate, nsmanagedobject, nsfetchrequest

I'm about to pull my hair out trying to figure out why this isn't working.

I have two entities:

```
Quote

Customer 
```

A `Quote` has a one-to-one relationship property with a `Customer` called simply '`customer`'. The Customer has a CoreData `objectID` (obviously). I am trying to search through all the Quote's and return the one's that have a specific Customer associated with it based off the `Customer` `objectID`. Reading through all the tutorials I've managed to get this but I keep getting a crash:

```
+ (void)fetchQuotesForCustomerID:(NSManagedObjectID*)objectID results:(void(^)(NSError* error, NSArray *fetchedResults))completion {

    NSManagedObjectContext *context = [[QuoteGenerator sharedGenerator] managedObjectContext];

    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
    NSEntityDescription *entity = [NSEntityDescription entityForName:@"Quote"
                                              inManagedObjectContext:context];
    [fetchRequest setEntity:entity];

    NSPredicate *predicate = [NSPredicate predicateWithFormat:@"customer.objectID == %@", objectID];

    [fetchRequest setPredicate:predicate];

    NSError *error;

    NSArray *fetchedObjects = [context executeFetchRequest:fetchRequest error:&error];

    if (error) {
        NSLog(@"fetch error = %@", [error localizedDescription]);
        completion(error, nil);
    } else {
        NSLog(@"fetch count = %d", fetchedObjects.count);
        completion(nil, fetchedObjects);
    }
} 
```

Output error:

**`*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'keypath customer.objectID not found in entity <NSSQLEntity Quote id=13>'`**

Is the predicated setup wrong? Reading through the documentation is says that you can use dot syntax to access properties in the predicate.

Please help...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:47:53.910

Turns out a lack of sleep and @Gary lead me to the right answer.

1.  I should have had a to-many relationship from customer to Quote.

2.  When comparing an entities `NSManagedObjectID` property you don't have to explicitly state it. So the following modification to the `NSPredicate` fixed my issue.

> NSPredicate *predicate = [NSPredicate predicateWithFormat:@"ANY customer == %@", objectID];

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:51:28.577

You shouldn't need to do a fetch at all, core data should generate a quotes member on your customer object that will return an NSSet of all the related quote objects.

# android - 在开发 Android 应用程序时收到这样的警告

> ID：15082042
> 
> 赞同：0
> 
> 时间：2013-02-26T05:31:14.183
> 
> 标签：android

当我在模拟器中执行我的 android 代码时，我的日志猫显示这样的错误

```
02-26 05:23:49.800: W/Trace(799): Unexpected value from nativeGetEnabledTags: 0
02-26 05:23:49.800: W/Trace(799): Unexpected value from nativeGetEnabledTags: 0
02-26 05:23:49.800: W/Trace(799): Unexpected value from nativeGetEnabledTags: 0
02-26 05:23:49.800: W/Trace(799): Unexpected value from nativeGetEnabledTags: 0
02-26 05:23:49.800: W/Trace(799): Unexpected value from nativeGetEnabledTags: 0 
```

由于这个我没有遇到任何问题，但我不知道为什么会这样..它不会停止，直到我在模拟器中关闭应用程序。关闭应用程序后，我的日志猫给出了这个消息..

```
02-26 05:26:33.859: I/Choreographer(799): Skipped 55 frames!  The application may be doing too much work on its main thread. 
```

我没有做任何大的应用程序.. 但对于基本的你好世界，我也面临这个问题。请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:58:50.123

这是 api 级别 17 中引入的模拟器系统的错误。

因此，在修复错误之前，您可以执行以下任何操作

1.  使用 api 16 或更低版本的模拟器
2.  或者如果您需要带有 api 17 的模拟器，您可以在 logcat 中使用以下过滤器

    ^(?!. *(nativeGetEnabledTags))。*$

它不会损害您的任何任务，只是垃圾邮件。

[您将在此处](https://stackoverflow.com/questions/13416142/unexpected-value-from-nativegetenabledtags-0)的同一问题中找到类似的答案

这是报告的问题[https://code.google.com/p/android/issues/detail?id=39723](https://code.google.com/p/android/issues/detail?id=39723)

# shell - csh 脚本语法

> ID：15082044
> 
> 赞同：0
> 
> 时间：2013-02-26T05:31:16.650
> 
> 标签：shell, csh

我是 csh 脚本的新手，这是我第一次编写任何脚本：这是代码：

```
#!/bin/csh

#arg1 path 
#arg2 condition 
#arg3 number of files 
#arg4-argN name of files

set i=0 
while ( $i < $3 ) 
        if ($2 == 0) then 
                cp /remote/$1/$($i+4) $1/new.$( $i+4 ) 
                p4 add $1/new.$($i+4) 
        else 
                p4 edit $1/new.$($i+4) 
                cp /remote/$1/$($i+4) $1/new.$($i+4)
        endif 
        $i = $i+1 
end 
```

但在这里我不断出错。非法变量名。我已经阅读了一些教程，但没有得到任何相关的东西。请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-04-05T06:24:36.687

您可以在第一行使用标志 -v 和 -x 来查看脚本的作用

```
#!/bin/csh -vx 
```

问题出现在您尝试将四个添加到计数器变量的部分

```
$($i+4) 
```

csh 不能那样添加。我会使用一个临时变量将四个添加到您的计数器，然后在所有调用中使用该变量

```
@ i = 0 
while ( $i < $3 ) 
        @ iplusfour = $i + 4
        if ($2 == 0) then 
                cp /remote/$1/$($i+4) $1/new.$iplusfour 
                p4 add $1/new.$iplusfour 
        else 
                p4 edit $1/new.$iplusfour 
                cp /remote/$1/$iplusfour $1/new.$iplusfour 
        endif 
        @i = $i + 1 
end 
```

我还纳入了 Willams 的评论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-21T20:00:02.597

最后一个增量可以简化为`@ i++`，即修饰muluman88的解决方案：

```
@ i = 0 
while ( $i < $3 ) 
    @ iplusfour = $i + 4
    if ($2 == 0) then 
        cp /remote/$1/$($i+4) $1/new.$iplusfour 
        p4 add $1/new.$iplusfour 
    else 
        p4 edit $1/new.$iplusfour 
        cp /remote/$1/$iplusfour $1/new.$iplusfour 
    endif 
    @ i++
end 
```

确保标志`后有（空格） 。`@``

# wpf - 在 WPF 用户控件中绑定到路由事件的命令

> ID：15082045
> 
> 赞同：2
> 
> 时间：2013-02-26T05:31:17.693
> 
> 标签：wpf, mvvm, user-controls, wpf-controls, commandbinding

我想将 Viewmodel 命令绑定到用户控件的路由事件。这是我所拥有的详细说明。

我有一个用户控件，它有一个`Image`（显示图像）和一个`Button`底部（`Button`删除`Image`）。我在`ListView`.

在我的用户控件后面的代码中，我必须`RoutedEventHandler`删除`Image`：

```
public event RoutedEventHandler RemoveImage; 
```

在我使用这个用户控件的窗口中，我放了：

```
<uc:ucImageListItem x:Name="ImageListItem" RemoveImage="ImageListItem_RemoveImage"  /> 
```

如果我删除图像的代码在后面的代码中，则此代码可以正常工作。但我想将 Viewmodel 的命令绑定到 RemoveImage RoutedEvent。

可能喜欢（不正确）

```
<uc:ucImageListItem x:Name="ImageListItem" RemoveImage="{binding CommandtoRemove}"  /> 
```

如何做到这一点？

我找到了与`RoutedCommand`or相关的东西`DependancyProperty`，但找不到任何正确的方法，如何使用它们。

如果我需要进一步澄清我的问题，请告诉我。感谢期待。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-26T06:38:21.173

嗨，这段代码显示了如何调用命令： **命令处理程序**

```
public class CommandHandler : ICommand
{
    public CommandHandler(Action<object> action,Func<object,bool> canexecute)
    {
        _action = action;
        _canExecute = canexecute;

    }
    Action<object> _action;
    Func<object, bool> _canExecute;

    public bool CanExecute(object parameter)
    {
       return _canExecute(parameter);
    }

    public event EventHandler CanExecuteChanged;

    public void Execute(object parameter)
    {
        _action(parameter);
    }
} 
```

**视图模型**

```
public class MainViewModel
{
    private CommandHandler _buttonCommand;

    public CommandHandler ButtonCommand
    {
        get
        {
            return _buttonCommand ?? (_buttonCommand = new CommandHandler((param) => OnButtonCommand(param),(param)=>true));
        }
    }

    private void OnButtonCommand(object obj)
    {
        //DO things here whatever you want to do on Button click
    } 
} 
```

**看法**

```
<Button Command="{Binding ButtonCommand}" Content="ok"/> 
```

您需要将两个参数传递给 CommandHandler 构造函数，一个是要在 Command 上触发的 Action，第二个参数是必须返回 bool 的 func。如果 func 仅计算为 true，则触发 Action。在上面的例子中，action 和 func 中的参数是您将绑定到 CommandParameter 的内容，因为我没有绑定 CommandParameter。我希望这会有所帮助。

# ajax - jQuery Mobile 提交 AJAX 表单而不重定向

> ID：15082055
> 
> 赞同：1
> 
> 时间：2013-02-26T05:32:22.543
> 
> 标签：ajax, forms, jquery-mobile

我有一个用 jQuery Mobile 创建的表单。正如我们所知，jquery 移动表单默认是使用 ajax 发送请求。但我认为不正确的是为什么在发送 ajax 之后，页面仍然被重定向到操作页面？

请在此处查看实时示例：http: [//puredataconsulting.com/purwa/liquorworks/form/index.php](http://puredataconsulting.com/purwa/liquorworks/form/index.php)

提交表单后，jquery 通过 AJAX 将帖子发送到[http://puredataconsulting.com/purwa/liquorworks/form/inc/store-address.php](http://puredataconsulting.com/purwa/liquorworks/form/inc/store-address.php)

但是发送ajax之后，为什么页面仍然重定向到[http://puredataconsulting.com/purwa/liquorworks/form/inc/store-address.php](http://puredataconsulting.com/purwa/liquorworks/form/inc/store-address.php)？

我不想让 jquery 重定向？怎么做？

# android - 当收到来自特定号码的消息时，从短信广播接收器开始活动

> ID：15082057
> 
> 赞同：1
> 
> 时间：2013-02-26T05:33:06.327
> 
> 标签：android, android-intent, android-activity

我关注了许多链接，但仍然找不到解决问题的方法。基本上，我有 2 个班级`UsingBroadcastReceiver`和`StartAction`. 当我收到来自特定号码的消息时，我需要开始`StartAction`活动。为此，我实现了以下代码。更新代码：-

```
public class UsingBroadcastReceiver extends BroadcastReceiver {

final SmsManager sms = SmsManager.getDefault();

String body = null;
String no = "15555215558";

@Override
public void onReceive(Context context, Intent intent) {
    // Parse the SMS.
    Bundle bundle = intent.getExtras();
    SmsMessage[] msgs = null;
    String str = "";
    if (bundle != null)
    {
        // Retrieve the SMS.
        Object[] pdus = (Object[]) bundle.get("pdus");
        msgs = new SmsMessage[pdus.length];
        for (int i=0; i<msgs.length; i++)
        {
            msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);

            if(msgs[i].getOriginatingAddress().equals(no))
            {
                body = msgs[i].getMessageBody();

            str += "SMS from " + msgs[i].getOriginatingAddress();
            str += " :";
            str += msgs[i].getMessageBody().toString();
            str += "\n";

            Intent open = new Intent(context, StartAction.class);
            open.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            open.putExtra("body", body);
            context.startActivity(open);
            }
        }
        // Display the SMS as Toast.
        Toast.makeText(context, str, Toast.LENGTH_SHORT).show();
    }
} 
```

}

当我在模拟器和设备上运行此代码时，我收到`ForceClose`错误消息。 `logcat`如下：

```
 02-26 11:40:50.047: E/AndroidRuntime(689): FATAL EXCEPTION: main
02-26 11:40:50.047: E/AndroidRuntime(689): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.usingbroadcastreceiver/com.example.usingbroadcastreceiver.UsingBroadcastReceiver}: java.lang.ClassCastException: com.example.usingbroadcastreceiver.UsingBroadcastReceiver
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1569)
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.os.Looper.loop(Looper.java:123)
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.app.ActivityThread.main(ActivityThread.java:3683)
02-26 11:40:50.047: E/AndroidRuntime(689):  at java.lang.reflect.Method.invokeNative(Native Method)
02-26 11:40:50.047: E/AndroidRuntime(689):  at java.lang.reflect.Method.invoke(Method.java:507)
02-26 11:40:50.047: E/AndroidRuntime(689):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-26 11:40:50.047: E/AndroidRuntime(689):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-26 11:40:50.047: E/AndroidRuntime(689):  at dalvik.system.NativeStart.main(Native Method)
02-26 11:40:50.047: E/AndroidRuntime(689): Caused by: java.lang.ClassCastException: com.example.usingbroadcastreceiver.UsingBroadcastReceiver
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
02-26 11:40:50.047: E/AndroidRuntime(689):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1561)
02-26 11:40:50.047: E/AndroidRuntime(689):  ... 11 more 
```

另外，我需要访问`UsingBroadcastReceiver`类中`StartAction`类的字符串体的值。这是正确的方法吗？

```
StartAction start = new StartAction();
            start.msgBody = body; 
```

我的清单如下：

```
 <?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.usingbroadcastreceiver"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.RECEIVE_SMS"/>
    <uses-permission android:name="android.permission.READ_SMS" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.usingbroadcastreceiver.UsingBroadcastReceiver"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
         <activity
            android:name="com.example.usingbroadcastreceiver.StartAction"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.example.usingbroadcastreceiver.StartAction" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <receiver android:name="UsingBroadcastReceiver">
            <intent-filter>
                <action android:name="android.provider.Telephony.SMS_RECEIVED"></action>
            </intent-filter>
        </receiver>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:40:10.257

```
 <receiver android:name=".UsingBroadcastReceiver"> 
```

你不插入“。” 在接收器中

```
@Override
public void onReceive(Context context, Intent intent) {

        String address1 = null;

        Bundle bundle = intent.getExtras();
        if (bundle != null) {
            Object[] pdus = (Object[]) bundle.get("pdus");
            SmsMessage[] messages = new SmsMessage[pdus.length];
            for (int i = 0; i < pdus.length; i++) {
                messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i]);
                address1 = messages[i].getOriginatingAddress();

            }

if (address1==your compareable number ){
  Intent open = new Intent(context, StartAction.class);
        open.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        context.startActivity(open);
 } 
```

} }

# linux - 跨多个操作系统在 VIM 中编译

> ID：15082058
> 
> 赞同：0
> 
> 时间：2013-02-26T05:33:07.200
> 
> 标签：linux, windows, macos, vim, terminal

我遇到的问题是：

在 Windows 机器上打开 vim，制作一些可以编译并保存的东西。

移动到一个新的 Mac 工作站，在 VIM 中打开同一个文件，进行正确的更改并得到奇怪的结果，或者有时甚至编译时出现问题。

根据我的发现，这似乎是因为操作系统使用线路返回的编码。即使代码很好，也会发生奇怪的事情。

环顾四周后，我发现它可以添加到我的 .vimrc 中：

```
set fileformats=unix,mac,dos 
```

但它似乎没有奏效。有没有其他人遇到过这个问题并且知道有效的解决方案？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:14:18.593

默认`'fileformats'`设置应该已经涵盖了所有行尾一致的情况。但是，当您混合（例如 LF 和一些 CR-LF）结尾时，您确实会遇到麻烦。不过，您应该通过检查缓冲区轻松检测到这些。如果有任何带有尾随`^M`字符的行，您可以使用

```
:%s/\r$// 
```

在任何情况下，此类问题都表明工具链配置错误。配置得当，*修订控制系统*和文件传输实用程序应该使行尾透明。你没有提到你的环境的任何细节，所以很难在那里提供帮助。

# visual-c++ - 将 MSVC DLL 设置为与 __stdcall MinGW DLL ABI 兼容

> ID：15082060
> 
> 赞同：0
> 
> 时间：2013-02-26T05:33:16.107
> 
> 标签：visual-c++, dll, mingw, dllexport

我是一个恢复休眠开源项目的团队的一员。我做的第一件事就是修复软件以在 Windows 上使用 Visual C++ 构建。计划是在即将发布的版本中分发 MSVC 版本。

当前的 DLL 是使用`__stdcall`调用约定构建的，原因我无法解释。没什么大不了的，除了它也是用 MinGW 构建的，MinGW 和 Visual C++ 不同意什么`__stdcall`意思。有关详细信息，请参见[此处](http://wyw.dcweb.cn/stdcall.htm)，但基本上 MinGW 将名称弄乱，`Function@n`而 MSVC 将其弄乱，例如`_Function@n`. 这是一个很好的理由不在`__stdcall`你的 DLL 中使用......

切换到`__stdcall`对以前的维护者来说非常重要，以至于他们在切换到它时撞了一个主要版本号（因为它破坏了 ABI 兼容性），我不愿意再次撞到它以切换回`__cdecl`.

基本上，我需要说服 MSVC 像 MinGW 那样装饰 DLL 中的符号，或者使用某种别名，或者只是更改名称。我不在乎哪个，因为套件中的其他软件可以很容易地重建以调用 DLL，但是需要 - 它是我担心的现有软件。

我怀疑我需要一个 .DEF 文件，但我不愿意手工制作。有几十个导出函数。

那么问题来了——是否有任何自动化或大部分自动化的方式来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:07:44.713

我能够编写一个简单的 Python 脚本来执行此操作。我不知道是否有更简单的方法，但这对我有用

你需要[pexports](http://wyw.dcweb.cn/download.asp?path=&file=pexports-0.43.zip)（从[这里](http://wyw.dcweb.cn/stdcall.htm)链接），你可以在你的 DLL 上运行它`pexports mylib.dll > mylib-stock.def`。然后在构建库时运行这个 Python 脚本`fixdefs.py mylib-stock.def mylib.def`并包含它。似乎工作正常。你会得到一个像这样的文件：

```
_Function@n
Function@n=_Function@n 
```

脚本：

```
#!/usr/bin/env python
from sys import argv

def fixline(line):
    if line.startswith('_'):
        line=line.strip()
        return "%s\n%s=%s\n" % (line, line[1:], line)
    return line

if __name__=="__main__":
    if len(argv)!=3:
        print "usage %s <input.def> <output.def>" % argv[0]
        exit(1)

    with open(argv[1], 'r') as input:
        with open(argv[2], 'w') as output:
            for line in input:
            output.write(fixline(line)) 
```

# algorithm - 算法复杂度的大哦符号

> ID：15082063
> 
> 赞同：1
> 
> 时间：2013-02-26T05:33:22.717
> 
> 标签：algorithm, complexity-theory, big-o

如果 N*C*(logN +N) 表示算法 1 的计算时间步长，N*C*(logN +N*C) 表示算法 2 的计算时间步长，那么说两者的计算复杂度为O(N^2)?

*其中 C 是一个常数值

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:39:21.193

是的，这是我的逻辑：

```
O(Cn(log n + Cn)) 
```

移除常量

```
= O(n(log n + n)) 
```

分裂乘法

```
= O(n * log n + n^2) 
```

删除较小的术语

```
= O(n^2) 
```

是否“非常大”无关紧要`C`，我们只关心`n`Big-O 表示法，因为它是一个不断增长的术语。当 n 变得足够大（例如接近无穷大）时，`C`将变得毫无意义。在实践`C`中可能会产生巨大的影响，但这在 Big-O 中被抽象出来了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:43:57.213

是的，这是正确的，因为 f \element O(g) ( *Landau* -Notation) 意味着您的算法*f增加得比**g*慢。由于您的两种算法的增长速度都比 n^2 慢，因此您的假设是正确的。

Wrt 常量 - 让我描述一下:)

说明复杂度为*O(n^2)*意味着您可以看到从 nlog(n) 到 n^2 的整个平面。那就是你忽略常数的地方。所以你的算法a可以比算法b好得多，但仍然保持相同的朗道复杂度，因为这只给出了一个上限。

![在此处输入图像描述](../Images/301c69bc9afda81c6cb3236a071eaa91.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:40:36.697

是的，将步数乘以一个常数对 Big-Oh 复杂度表示法没有影响。

此外，随着 N 变大，N ²项在 N log(N) 上占主导地位，这就是 Big-Oh 表示法旨在传达的内容。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-26T05:47:15.063

要记住的一件事.. c 值起着重要作用..

假设一个算法在一个数组上运行了大约 32 次。

所以算法的复杂度是 32*n = C*n = O(n)

让我们尝试在大小为 30 的数组上运行算法。所以它的 32*30 。这是 n^2 操作。

我们通常为大集合计算大 O 分析..真的很大.所以它是有道理的

来回答你的问题。

只要您的常数 C 具有可比性，它们都在 O(n^2) 中运行。所以这取决于算法

# php - 来自数据库的多条记录并使用 javascript 处理

> ID：15082075
> 
> 赞同：0
> 
> 时间：2013-02-26T05:34:18.933
> 
> 标签：php, javascript, jquery, mysql

我需要想法..

我正在使用 Jquery、PHP、Mysql 我想从数据库中带来 10 条记录。这就像一个测验。因此，一旦第一个问题得到回答，那么我想提出第二个问题。所以它会减少Mysql的过载。

在第 10 个问题之后，我想再次从 DB 带来 10 个问题。

** 我打算使用 Ajax。** 在带来问题和答案的同时，如果用户知道如何使用 firbug 或其他工具，则不应在控制台中看到结果。

我如何实现这一目标？或者有没有其他好的方法可以做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:44:27.710

这取决于您的问题的结构。它们是选择题、简答题等吗？这很重要，因为它决定了您要收听的事件。例如，在多项选择中，我会为单选按钮组使用 onchange 事件。如果您让您的用户点击按钮转到下一个问题，那么您可以轻松地将侦听器绑定到此类事件 `$('#button').click(function(){//perform ajax here});

对于您的 ajax 调用，您需要确定如何知道下一个问题是什么，然后只需编写一个 php 页面，在您提供当前问题的答案后获取下一个问题。例如，如果问题按 id 顺序排列，则可以在 ajax 调用中传递 id 和人的答案，保存答案，然后得到下一个问题：

Javascript：

```
$('#button').click(function(){
    $.ajax({
        url: 'myurl.php',
        type: 'POST',
        data: {answer: $('#answer').val(), 'question_id': question},
        success: function(data)
        {
            $('div.questions').append(data);
            question++;
        }
});
}); 
```

PHP

```
$answer = $_REQUEST['answer'];
$curr_question = $_REQUEST['question'];

//save answer here;

//get next question based off current question

echo <<html for next question >>

etc... 
```

# android - 切换片段时不会重绘画布？

> ID：15082077
> 
> 赞同：0
> 
> 时间：2013-02-26T05:34:32.893
> 
> 标签：android, canvas, android-fragments

我有 4 个`Fragments`，一个带有 3 个按钮和 3 个画布片段的导航片段。因为我需要计算`layout`我`Fragment`以前`onfocuschangedlistener`在`canvas`.

```
view.getViewTreeObserver().addOnGlobalFocusChangeListener(new OnGlobalFocusChangeListener() 
{
    @Override
    public void onGlobalFocusChanged(View oldFocus, View newFocus) 
    {
            //calculate width and height of available space 
            //instansiate view object 
            layout.removeAllViews();
            layout.addView(view object);
    }
}); 
```

这在第一次加载应用程序时工作正常，并且我默认加载视图，但之后一旦我开始通过导航片段在片段之间切换，视图就永远不会重绘。我发现`onglobalfocuschange` 即使我加载另一个也不会再调用它`Fragment`。我怎样才能做到这一点。感谢任何建议。

这是我绘制条形图的视图类。现在我只是使用常量值进行测试。

```
public class bargraphClass extends View
    {
        int startX,startY,stopX,stopY;
        int leftSp,bottomSp;
        RectF fillRect;
        float hrs;
        float ppm;
        Paint rectBrush=new Paint();
        int g1,g2,g3,g4;
        public bargraphClass(Context context,int wt,int ht) 
        {
            super(context);
            leftSp=wt/5;
            bottomSp=ht/20;
            startX=leftSp;
            startY=0;
            stopX=wt;
            stopY=ht-bottomSp;
            fillRect=new RectF();
            g1=5*60;
            g2=4*60;
            g3=8*60;
            g4=6*60;
        }

        @Override
        protected void onDraw(Canvas c) 
        {
            // TODO Auto-generated method stub
            int _wt,gap,temp;       
            super.onDraw(c);
            drawAxis(c);
            ppm=(float)(stopY-startY)/(24*60);
            _wt=stopX-startX;
            gap=_wt/9;

            temp=(int) (g1*ppm);
            fillRect.set(startX+gap, stopY-temp, startX+(gap*2), stopY);            
            rectBrush.setColor(Color.RED);
            rectBrush.setAntiAlias(true);
            rectBrush.setAlpha(128);
            c.drawRect(fillRect,rectBrush);

            temp=(int) (g2*ppm);
            fillRect.set(startX+(gap*3), stopY-temp, startX+(gap*4), stopY);            
            rectBrush.setColor(Color.GREEN);
            rectBrush.setAntiAlias(true);
            rectBrush.setAlpha(128);
            c.drawRect(fillRect,rectBrush);

            temp=(int) (g3*ppm);
            fillRect.set(startX+(gap*5), stopY-temp, startX+(gap*6), stopY);            
            rectBrush.setColor(Color.BLUE);
            rectBrush.setAntiAlias(true);
            rectBrush.setAlpha(128);
            c.drawRect(fillRect,rectBrush);

            temp=(int) (g4*ppm);
            fillRect.set(startX+(gap*7), stopY-temp, startX+(gap*8), stopY);            
            rectBrush.setColor(Color.MAGENTA);
            rectBrush.setAntiAlias(true);
            rectBrush.setAlpha(128);
            c.drawRect(fillRect,rectBrush);

        }

        private void setScaleValues()
        {
            ppm=stopY/(24*60);
        }

        private void drawAxis(Canvas c)
        {
            int sp;
            String str;
            Paint p=new Paint();
            p.setColor(Color.DKGRAY);
            p.setStrokeWidth(2);
            p.setAntiAlias(true);

            c.drawLine(startX,startY,startX,stopY, p);
            c.drawLine(startX, stopY, stopX, stopY, p);

            sp=(stopY-startY)/12;
            for(int i=1;i<12;i++)
            {
                str=String.valueOf(i*2)+" hrs";
                c.drawText(str, 0, ht-(i*sp)-bottomSp,p);
            }
        }
    } 
```

# javascript - 如何使用 jquery 访问这种 Json？

> ID：15082082
> 
> 赞同：0
> 
> 时间：2013-02-26T05:35:13.943
> 
> 标签：javascript, jquery, cordova

我是 Jquery 和 javascript 的初学者，任何人都可以帮助我了解如何使用 jquery 访问这种 json 数据。如果有人知道更好的方法来访问这些数据而不是请帮助我。这个 json 数据来自远程 url。

```
{
    "1": {
        "id": "1",
        "name": "name1",
        "large_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model1.jpg",
        "thumb_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model1_thumb.jpg"
    },
    "2": {
        "id": "2",
        "name": "name2",
        "large_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model2.jpg",
        "thumb_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model2_thumb.jpg"
    },
    "3": {
        "id": "3",
        "name": "name3",
        "large_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model3.jpg",
        "thumb_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model3_thumb.jpg"
    },
    "4": {
        "id": "4",
        "name": "name4",
        "large_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model4.jpg",
        "thumb_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model4_thumb.jpg"
    },
    "5": {
        "id": "8",
        "name": "Name8",
        "large_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model8.jpg",
        "thumb_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model8_thumb.jpg"
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:37:38.717

一旦你解析了 JSON，它就是一个普通的 JS 对象：

```
for (var id in data) {
    var thing = data[id];

    console.log(thing.name);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:48:32.680

使用[$.jsonParse](http://api.jquery.com/jQuery.parseJSON/)解析 json 字符串，然后使用[$.each循环](http://api.jquery.com/jQuery.each/)

```
$.each(data, function(k, v){
    document.write(v['id'] + ' ' + v['name']+'<br />');
}); 
```

**输出：**

```
1 name1
2 name2
3 name3
4 name4
8 Name8 
```

在上面的例子`k`中代表键和`v`代表值（每个`object`），在这种情况下，第一个`key`和`object`是（`"1"`是键和`{...}`是对象）

```
"1": {
    "id": "1",
    "name": "name1",
    "large_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model1.jpg",
    "thumb_name": "http://critiques-demo.she.com/beauty/makeuptool/images/models/model1_thumb.jpg"
} 
```

使用`v['id']`您可以检索`1`，`v['name']`将返回`name1`等等。如果你使用[$.getJSON](http://api.jquery.com/jQuery.getJSON/)那么你不需要解析它，因为它会被解析`jQuery`，你可以像这样使用它

```
$.getJSON('url', function(data){
    $.each(data, function(k, v){
        document.write(v['id'] + ' ' + v['name']+'<br />');
    });
}); 
```

[**演示。**](http://jsfiddle.net/emp24/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:39:09.567

你可以使用`for`循环。

```
for(i = 0; i <= dataJson.length; i++)
{
     console.log(dataJson[i].name);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:40:27.210

您可以将数字键作为数组访问，例如

```
console.log(dataJson[1].id); 
```

# android - Android Sources 中 Acodec.cpp 的“A”是什么意思（在 libstagefright 中）

> ID：15082085
> 
> 赞同：1
> 
> 时间：2013-02-26T05:35:35.467
> 
> 标签：android, media, codec, android-source, android-framework

`Acodec.cpp`Android Sources（in ）中的“A”是什么意思`libstagefright`？？？

完整路径如下：

```
 android/frameworks/av/media/libstagefright/Acodec.cpp 
```

请解释答案和背景知识。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T16:49:12.300

在我的理解中，`A`in`ACodec`代表异步。我相信这是基于整体编解码器功能的实现/设计。

在 的情况下`ACodec`，所有操作都通过`messages`从不同线程发布来处理。收到消息后，`onMessageReceived`将安排方法然后处理`event`. 这样，此实现中的几乎所有操作都是异步的，因此得名。

例如，设置过程是通过[此处](http://androidxref.com/4.2.2_r1/xref/frameworks/av/media/libstagefright/ACodec.cpp#3008)显示的消息。在`onSetup`其中，组件实例被[创建](http://androidxref.com/4.2.2_r1/xref/frameworks/av/media/libstagefright/ACodec.cpp#onAllocateComponent)和[配置](http://androidxref.com/4.2.2_r1/xref/frameworks/av/media/libstagefright/ACodec.cpp#onConfigureComponent)。

类似的操作集`OMXCodec`在本质上是同步的，如[`OMXCodec::create`](http://androidxref.com/4.2.2_r1/xref/frameworks/av/media/libstagefright/OMXCodec.cpp#275). 通常，`OMXCodec::create`作为[`AwesomePlayer::initVideoDecoder`](http://androidxref.com/4.2.2_r1/xref/frameworks/av/media/libstagefright/AwesomePlayer.cpp#1489)or的一部分[`AwesomePlayer::initAudioDecoder`](http://androidxref.com/4.2.2_r1/xref/frameworks/av/media/libstagefright/AwesomePlayer.cpp#1381)调用，在这种情况下，调用`OMXCodec`是同步的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T10:33:33.807

我不确切知道，但在我看来，“A”意味着抽象。我认为这是一个实现使用不同编解码器而不指定精确编解码器类型的逻辑的类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-17T11:31:39.283

正如 Ganesh 所说，我还认为“A”代表“异步”。因为还存在一个处理来自客户端的同步调用的 OmxCodec 类。

# javascript - 如何允许字符串既匹配某个表达式又不包含另一个字符串

> ID：15082092
> 
> 赞同：0
> 
> 时间：2013-02-26T05:36:12.057
> 
> 标签：javascript, regex

我有一个电话号码检查正则表达式：

`/^\+\d{1,3}[\d ]*$/`（它匹配`+7 5165761074`）。

我需要这个正则表达式也不允许在`0000000`里面`1234567`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:41:32.943

你可以使用负前瞻

```
/^\+(?!0000000)(?!1234567)\d{1,3}[\d ]*$/ 
```

[http://www.javascriptkit.com/javatutors/redev2.shtml](http://www.javascriptkit.com/javatutors/redev2.shtml)

前瞻中的实际表达可能会略有不同，具体取决于您对“不允许进入”的确切含义。

# android - xml 怀疑嵌套布局太多

> ID：15082095
> 
> 赞同：0
> 
> 时间：2013-02-26T05:36:26.950
> 
> 标签：android, xml, layout

我制作了一个应用程序，它在经过测试的设备上运行良好，但在其他设备上，当打开一个`layout`包含许多字段的设备时，它会崩溃并收到错误我修改了相同的字段但我认为这还不够，这是错误和我也放了`xml`文件

```
 java.lang.StackOverflowError
      at android.text.TextLine.measureRun(TextLine.java:416)
      at android.text.TextLine.measure(TextLine.java:295)
      at android.text.TextLine.metrics(TextLine.java:269)
      at android.text.Layout.getLineExtent(Layout.java:942)
      at android.text.Layout.draw(Layout.java:405)
      at android.text.BoringLayout.draw(BoringLayout.java:400)
      at android.widget.TextView.onDraw(TextView.java:5295)
      at android.widget.CompoundButton.onDraw(CompoundButton.java:241)
      at android.view.View.draw(View.java:11167)
      at android.view.View.getDisplayList(View.java:10606)
      at android.view.ViewGroup.drawChild(ViewGroup.java:2863)
      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2502)
      at android.view.View.getDisplayList(View.java:10604)
      at android.view.ViewGroup.drawChild(ViewGroup.java:2863)
      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2502)
      at android.view.View.getDisplayList(View.java:10604)
      at android.view.ViewGroup.drawChild(ViewGroup.java:2863)
      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2502) 
```

那是我的`xml`：

```
 <ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="fill_parent"
   android:layout_height="wrap_content" >

      <LinearLayout
   android:layout_width="fill_parent"
   android:layout_height="wrap_content"
   android:orientation="vertical"
   android:padding="5dp" >

<LinearLayout
android:focusable="true" 
android:focusableInTouchMode="true"
android:layout_width="0dip" 
android:layout_height="0dip"/>

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="@string/marca"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtMarcaAuto"
        android:background="@drawable/edit_text"
        android:paddingTop="5dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:textColor="@color/ColorTitlu"
        android:textStyle="bold"
        android:paddingLeft="5dp"
        android:textSize="20sp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="MODEL AUTO"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/ModelAuto"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:background="@drawable/edit_text"
        android:textStyle="bold"
        android:gravity="left"
        android:textColor="@color/ColorTitlu"
        android:inputType="textCapCharacters"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:textSize="20sp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="CATEGORIE AUTVEHICUL"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <RadioGroup
        android:id="@+id/radioCategorie"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:orientation="horizontal"
        android:paddingLeft="5dp"
        android:paddingTop="5dp" >

    <RadioButton 
        android:id="@+id/radio_1"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:gravity="center"
        android:paddingBottom="15dp"
        android:checked="true"
        android:button="@color/transparent"
        android:text="Autoturism"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp"
        android:background="@drawable/button_radio_masina"/>

    <RadioButton
        android:id="@+id/radio_2"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:background="@drawable/button_radio_masina"
        android:button="@color/transparent"
        android:gravity="center"
        android:text="Autoturism de teren"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

     <RadioButton 
        android:id="@+id/radio_3"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:paddingBottom="15dp"
        android:gravity="center" 
        android:button="@color/transparent"
        android:text="Motocicleta"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp"
        android:background="@drawable/button_radio_masina"/>/>

     <Button
         android:id="@+id/alteleCategAuto"
         android:layout_width="70dp"
         android:layout_height="70dp"
         android:background="@drawable/altele_button"
         android:paddingBottom="18dp" />

    </RadioGroup>

    <View
android:layout_width="match_parent"
android:layout_height="1dp"
android:background="#C9C9C9" />      

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="JUDET,LOCALITATE TALON"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtJudLocTalon"
        android:background="@drawable/edit_text"
        android:paddingTop="5dp"
        android:textColor="@color/ColorTitlu"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:focusableInTouchMode="false"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:textStyle="bold"
        android:textSize="20sp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="NR. INMATRICULARE"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtNrInmatriculare"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:background="@drawable/edit_text"
        android:gravity="left"
        android:inputType="textCapCharacters"
        android:textStyle="bold"
        android:maxLength="12"
        android:paddingLeft="5dp"
        android:textColor="@color/ColorTitlu"
        android:paddingTop="5dp"
        android:textSize="20sp" />

        <RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="1dp"
    android:gravity="left"
    android:paddingLeft="5dp"
    android:paddingTop="5dp"
    android:orientation="horizontal" >

        <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="SERIE SASIU"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <ImageView
        android:id="@+id/wrong_text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:visibility="gone"
        android:src="@drawable/exclamare_atentionare" />
</RelativeLayout>

    <EditText
        android:id="@+id/edtSerieSasiu"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:background="@drawable/edit_text"
        android:gravity="left"
        android:maxLength="25"
        android:textStyle="bold"
        android:inputType="textCapCharacters"
        android:textColor="@color/ColorTitlu"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:textSize="20sp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="CM3"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtCM3"
        android:background="@drawable/edit_text"
        android:paddingTop="5dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:textStyle="bold"
        android:gravity="left"
        android:maxLength="10"
        android:textColor="@color/ColorTitlu"
        android:inputType="number|textCapWords"
        android:paddingLeft="5dp"
        android:textSize="20sp" />

            <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="Putere (kW)"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtPutere"
        android:background="@drawable/edit_text"
        android:paddingTop="5dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textColor="@color/ColorTitlu"
        android:layout_margin="1dp"
        android:textStyle="bold"
        android:gravity="left"
        android:inputType="number|textCapWords"
        android:paddingLeft="5dp"
        android:textSize="20sp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="NUMAR LOCURI"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtNumarLocuri"
        android:background="@drawable/edit_text"
        android:textColor="@color/ColorTitlu"
        android:paddingTop="5dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:inputType="number"
        android:textStyle="bold"
        android:paddingLeft="5dp"
        android:textSize="20sp" />

     <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="MASA MAXIMA (kg)"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtMasaMaxima"
        android:background="@drawable/edit_text"
        android:paddingTop="5dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:textStyle="bold"
        android:inputType="number|textCapWords"
        android:textColor="@color/ColorTitlu"
        android:paddingLeft="5dp"
        android:textSize="20sp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="AN FABRICATIE"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtAnFabricatie"
        android:background="@drawable/edit_text"
        android:paddingTop="5dp"
     android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textColor="@color/ColorTitlu"
        android:layout_margin="1dp"
        android:inputType="number|textCapWords"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:textStyle="bold"
        android:textSize="20sp" />

       <RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
    android:orientation="horizontal" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="SERIE TALON"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <ImageView
        android:id="@+id/wrong_text2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:visibility="gone"
        android:src="@drawable/exclamare_atentionare" />
</RelativeLayout>

      <EditText
        android:id="@+id/edt_SerieTalon"
        android:background="@drawable/edit_text"
        android:paddingTop="5dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:inputType="textCapWords"
        android:gravity="left"
        android:textStyle="bold"
        android:maxLength="25"
        android:paddingLeft="5dp"
        android:textColor="@color/ColorTitlu"
        android:textSize="20sp" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="DESTINATIE AUTO"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <RadioGroup
        android:id="@+id/radioDestinatieAuto"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:orientation="horizontal"
        android:paddingLeft="5dp"
        android:paddingTop="5dp" >

    <RadioButton 
        android:id="@+id/radio_4"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:gravity="center"
        android:paddingBottom="3dp"
        android:button="@color/transparent"
        android:text="interes-personal"
        android:checked="true"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp"
        android:background="@drawable/button_radio_masina"/>

    <RadioButton
        android:id="@+id/radio_5"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:paddingBottom="3dp"
        android:gravity="center"
        android:background="@drawable/button_radio_masina"
        android:button="@color/transparent"
        android:textColor="@color/MenuDarkGrey"
        android:text="distributie-marfa"
        android:textSize="12sp" />

     <RadioButton 
        android:id="@+id/radio_6"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:paddingBottom="17dp"
        android:gravity="center"
        android:button="@color/transparent"
        android:text="taxi"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="12sp"
        android:background="@drawable/button_radio_masina"/>

     <Button
         android:id="@+id/alteleDestinatie"
         android:layout_width="70dp"
         android:layout_height="70dp"
         android:background="@drawable/altele_button"
         android:paddingBottom="18dp" />

    </RadioGroup>

    <View
        android:layout_width="match_parent"
        android:layout_height="1dp"
        android:background="#C9C9C9" /> 

         <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:paddingTop="5dp"
        android:text="COMBUSTIBIL"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

<RadioGroup
    android:id="@+id/radioCombustibil"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_margin="1dp"
    android:gravity="left"
    android:orientation="horizontal"
    android:paddingLeft="5dp"
    android:paddingTop="5dp" >

    <RadioButton
        android:id="@+id/radio_7"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:paddingBottom="3dp"
        android:checked="true"
        android:background="@drawable/button_radio_masina"
        android:button="@color/transparent"
        android:gravity="center"
        android:text="benzina"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="12sp" />

    <RadioButton
        android:id="@+id/radio_8"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:background="@drawable/button_radio_masina"
        android:button="@color/transparent"
        android:paddingBottom="3dp"
        android:gravity="center"
        android:text="motorina"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="12sp" />

    <RadioButton
        android:id="@+id/radio_9"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:background="@drawable/button_radio_masina"
        android:button="@color/transparent"
        android:paddingBottom="3dp"
        android:gravity="center"
        android:text="gpl"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="12sp" />

    <Button
        android:id="@+id/alteleCombustibil"
        android:layout_width="70dp"
        android:layout_height="70dp"
        android:background="@drawable/altele_button"
        android:paddingBottom="3dp" />
    </RadioGroup>

      <View
    android:layout_width="match_parent"
    android:layout_height="1dp"
    android:background="#C9C9C9" />

     <TableLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >

    <TableRow >

    <TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_margin="1dp"
    android:gravity="left"
    android:paddingLeft="5dp"
    android:paddingTop="5dp"
    android:text="AUTO IN LEASING?"
    android:textColor="@color/MenuDarkGrey"
    android:textSize="13sp" />

     <Button
         android:id="@+id/da_rca"
         android:layout_width="60dp"
         android:layout_marginLeft="50dp"
         android:layout_height="30dp"
         android:text="DA"
         android:layout_marginTop="5dp"
         android:layout_marginBottom="5dp"
         android:background="@drawable/da_nu_nu_da_rca" />
     <Button
         android:id="@+id/nu_rca"
         android:layout_width="60dp"
         android:layout_marginTop="5dp"
         android:layout_marginLeft="0dp"
         android:layout_height="30dp"
         android:textColor="@color/white"
         android:layout_marginBottom="1dp"
         android:text="NU"
         android:background="@drawable/da_nu_nu_nu_rca" />

     </TableRow>

        </TableLayout>

    <View
    android:layout_width="match_parent"
    android:layout_height="1dp"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    android:background="#C9C9C9" />

    <TextView
        android:id="@+id/tvDenumireFirmaLeasing"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:visibility="gone"
        android:paddingTop="5dp"
        android:text="DENUMIRE FIRMA LEASING"
        android:textColor="@color/MenuDarkGrey"
        android:textSize="13sp" />

    <EditText
        android:id="@+id/edtDenumireFirmaLeasing"
        android:background="@drawable/edit_text"
        android:paddingTop="5dp"
        android:layout_width="match_parent"
        android:textColor="@color/ColorTitlu"
        android:layout_height="wrap_content"
        android:layout_margin="1dp"
        android:textStyle="bold"
        android:visibility="gone"
        android:gravity="left"
        android:paddingLeft="5dp"
        android:textSize="20sp" />

    <RelativeLayout 
            android:layout_width="fill_parent"
            android:paddingTop="5dp"
            android:layout_height="wrap_content" >

            <Button
                android:id="@+id/renunta_masina"
                android:layout_width="140dp"
                android:layout_height="50dp"
                android:textSize="16sp"
                android:text="Renunta"
                android:paddingLeft="40dp"
                android:textStyle="bold"
                android:textColor="@color/MenuLightGrey"
                android:background="@drawable/button_renunta" >
            </Button>

            <Button
                android:id="@+id/salveaza_masina"
                android:layout_width="140dp"
                android:layout_height="50dp"
                android:text="Salveaza"
                android:textSize="16sp"
                android:textStyle="bold"
                android:paddingLeft="40dp"
                android:textColor="@color/MenuLightGrey"
                android:layout_alignParentRight="true"
                android:layout_alignParentTop="true"
                android:background="@drawable/button_salveaza" />

        </RelativeLayout>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:54:48.300

有两种方法可以将您的代码拆分为不同的 xml，然后

1.  使用片段

    请参阅[本](http://developer.android.com/guide/components/fragments.html)文档和 [本](http://www.vogella.com/articles/AndroidFragments/article.html)教程

2.  使用`<include>`标签

    请参阅[此](http://developer.android.com/training/improving-layouts/reusing-layouts.html)文档以获取相同的信息

# wordpress - 初学者：CMS定制

> ID：15082102
> 
> 赞同：0
> 
> 时间：2013-02-26T05:37:02.050
> 
> 标签：wordpress, drupal, joomla, content-management-system

我有一个关于 CMS 的（超级）初学者问题。请原谅我听起来很笨哈哈。

我试图弄清楚在定制方面它是如何工作的。

例如...假设我想将 Wordpress 用作我的网站的 CMS（假设已经建成）。

我是否只是将现有的 html 和 css 代码带入 Worpress（或“在此处插入 CMS 平台”）并对其进行自定义？

我看过一些 Lynda.com 的视频，但我仍然无法完全掌握完全自定义。

这个问题可能没有任何意义，在这种情况下，请告诉我。我只是想弄明白这一切，因为我认为这将使我即将进行的一些项目对客户更具吸引力，因为他们将能够自己添加内容。

非常感谢您提供任何帮助或信息！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:55:21.737

恐怕它比这更复杂一些。您的 CSS 可以导入，但您的 HTML 结构必须转换为实际的 Wordpress 主题，以便能够读取在管理方面定义的信息。因此，假设您有一个如下所示的 HTML 文件：

*about.html*

```
<html>
<head>
<title>About Me</title>
<link rel="stylesheet" href="style.css" />
<script type="text/javascript" src="jQuery.js"></script>
</head>
<body>
<div id="header">
    <h1>About Me</h1>
</div>
<div id="body">
    <p>This page is all about me</p>
</div>
<div id="footer">
    <small>Copyright 2013</small>
</div>
</body>
</html> 
```

Wordpress 等价物是这样的：

*头文件.php*

```
<html>
<head>
<title><?php bloginfo('name'); ?></title>
<link rel="stylesheet" href="<?php bloginfo('stylesheet_url'); ?>" />
<!-- Enqueue Javascript in functions.php -->
</head>
<body>
<div id="header">
    <h1>About Me</h1>
</div> 
```

*page-about.php*

```
<?php get_header(); ?>
<div id="body">
    <?php
    if(have_posts()) : while(have_posts()) : the_post;
        the_content();
    endwhile;endif;
    ?>
</div>
<?php get_footer(); ?> 
```

*页脚.php*

```
<div id="footer">
    <small>Copyright 2013</small>
</div>
</body>
</html> 
```

这是对 Wordpress 主题化过程的主要过度简化。我的建议是执行以下操作：

1.  下载一些免费的 Wordpress 主题，看看你喜欢哪些。和他们一起玩。习惯环境。甚至可以调整另一个主题的 CSS 以满足您自己的需求。
2.  [搜索法典](http://codex.wordpress.org/Theme_Development)！这包含您希望了解的有关主题的所有信息。
3.  [学习 PHP](http://www.php.net/manual/en/index.php)。

您的问题是一个加载的问题，并且在一个答案中太多了。你能为自己做的最好的事情就是研究一切。

祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-19T20:54:20.227

*   对初学者非常有用的工具是开发者工具，您可以通过右键单击要编辑的任何元素打开它——> 检查元素（在 Google chrome 中）。这样，您就可以知道您要定位的特定类、ID 或标签。您可以在开发人员工具窗口中编辑代码并在最终添加它们之前测试您的更改：外观 > 编辑 CSS。

    说到这，**编辑 CSS**并非对所有主题都可用，您需要安装 Jetpack 插件并确认自定义 css 选项处于活动状态。

*   为您和客户定制 .css 和 html 的一个很好的替代方法是使用页面构建器，例如*SiteOrigin*插件或*登陆页面构建器*，它们提供了多种选项。

# c# - WCF 合同中 object[] 类型的数据成员，包含 xmlnode[] 或字符串的 IEnumerables，具体取决于客户端

> ID：15082105
> 
> 赞同：1
> 
> 时间：2013-02-26T05:37:18.233
> 
> 标签：c#, xml, wcf, web-services, xml-serialization

我正在使用 Contract First WCF 创建第三方供应商提供 wsdl 的服务。取决于客户端的字符串类型或 IEnumerables 的数据成员

当我通过 SoapUI 使用服务时，我可以使用 object[] 类型的 request.ProblemDataMember 代码，可以使用以下代码访问。

```
foreach (XmlNode[] xmlNodeArray in request.ProblemDataMember)
{
    foreach (XmlNode xmlNode in xmlNodeArray)
    {
        this.Problem += "\t" + (xmlNode.InnerText) + "\n";
    }
} 
```

当供应商发送消息（我假设使用 ASMX Web 服务）时，我需要以 Enumerable 字符串的形式访问数据成员。

```
foreach (string s in request.ProblemDataMember )
{
    this.Problem += "\t" + s + "\n";
} 
```

我的日志记录使用的是 Newtonsoft.Json Serializes，下面是它的外观。

肥皂界面

[[{"#text":"漏油"}],[{"#text":"表面锈蚀"}],[{"#text":"高速尖叫"}],[{"#text ":"检查电池"}]]

小贩

["c1\. LF座椅电机停止移动后声音继续运转\r\nc2\. 夜间解锁车辆时前驾驶员侧标记不亮","c1\. LF座椅下降调节电机出现故障（齿轮故障） \r\nc2\. 需要标记灯泡 -- N/C","re​​pl. LF 座椅调节器总成。","1.这是一个测试检查。","2.这是一个测试检查。","3.这是一个测试检查。","4.这是一个测试检查。","5.这是一个测试检查。","6.这是一个测试检查。","7.这是一个测试检查。 ","8.这是一个测试检查。","9.这是一个测试检查。","10.这是一个测试检查。","11.这是一个测试检查。","12.这个是测试检查。","13.这是测试检查。","14.这是测试检查。","15.这是测试检查。"]

1.  我的合同是否存在允许这种不一致的问题
2.  有没有办法确定 object[] 的类型是什么，以便我可以将所需的数据放入列表中？

谢谢你。

# ios - 我的 UIButton 不会在触摸时禁用？

> ID：15082107
> 
> 赞同：0
> 
> 时间：2013-02-26T05:37:21.257
> 
> 标签：ios, uibutton, uikit, storyboard

我`UIButton`在**情节提要**中创建了一个，将其声明为 .h 中的一个出口，但由于某种原因两者都没有

```
 addflight.userInteractionEnabled=NO; 
```

或者

```
 addflight.enabled=NO; 
```

禁用它，我不知道我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:41:47.990

请检查您是否已将 .h 文件中的 IBOutlet 连接到 nib。另请查看按钮上方是否没有视图。请参阅启用用户交互。 [请参阅文档](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIButton_Class/UIButton/UIButton.html)。 [看到这个啧啧](http://www.techotopia.com/index.php/Using_Xcode_Storyboarding_%28iOS_6%29)。

# html - 使用相对 URL 进行无线 iOS Adhoc 构建

> ID：15082109
> 
> 赞同：10
> 
> 时间：2013-02-26T05:37:24.943
> 
> 标签：html, ios, xml, ad-hoc-distribution

我想在我自己的服务器上分发我的 Beta Adhoc 构建。Apple 用于无线安装应用程序的逻辑中似乎有 2 个重要的 URL。

第一个 url 在 HTML 中：

```
<p><a href="itms-services://?action=download-manifest&url=http://www.example.com.cn/path/to/plist/theplist.plist">Adhoc Build</a></p> 
```

第二个在那个 plist 文件中

```
<dict>
    <key>kind</key>
    <string>software-package</string>
    <key>url</key>
    <string>http://www.example.com.cn/path/to/binary/app.ipa</string>
</dict> 
```

这些网址可以是相对的吗？我希望相同的 HTML 和 XML 文件在我的开发机器（MAMP 服务器）上工作，首先测试我可以下载二进制文件，然后将临时构建发布给我的 Web 服务器（NGINX）上的测试人员。目前我只能让它与绝对网址一起使用。

我的想法是这两个相对 URL 应该可以工作

```
<p><a href="itms-services://?action=download-manifest&url=/path/to/plist/theplist.plist">Adhoc Build</a></p> 
```

和

```
<dict>
    <key>kind</key>
    <string>software-package</string>
    <key>url</key>
    <string>/path/to/binary/app.ipa</string>
</dict> 
```

当我使用这些相对 URL 时，当我单击“无法连接到（null）”时，我会从设备弹出一个弹出窗口

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-09-17T19:48:18.317

对于 HTTP 或 HTTPS 请求，Web 浏览器可以处理相对 URL 以填充缺失的详细信息。.plist 文件的链接是自定义 URL 方案。Safari 不知道 URL 的格式，因此它不会填写任何缺失的详细信息。因此该链接必须是绝对 URL。Safari 只是寻找可以处理 itms-services URL 方案的东西，并将整个 URL 发送到该方案。

.ipa 文件的链接也必须是绝对的，不是因为处理 itms-services URL 方案的程序没有足够的信息，而是因为该程序没有运行内置的逻辑来处理 URL。我猜苹果更喜欢保持代码简单可靠，而不是添加相对 URL 功能。

您拥有的一种解决方案是为您的 HTML 和 PLIST 文件编写某种服务器端处理器，以基于服务器生成具有绝对 URL 的重写文件。您选择如何完成此操作将取决于您的服务器的配置。

另一种解决方案是将 .plist 和 .ipa 保留在主网络服务器上，使用该服务器的绝对 URL，并在两台服务器上使用您的 HTML 文件。

# java - addFooterView() - 是否可以使用该函数添加整个 XML 布局？

> ID：15082121
> 
> 赞同：0
> 
> 时间：2013-02-26T05:38:08.517
> 
> 标签：java, android

我是 Android/Java 的新手，所以我要提前道歉。

我有两个 XML 文件——一个用于我`activity`的，其中包含`ListView`.，另一个用于定义`ListView`. 我还有一个用于活动的 .java 文件。在这一点上，我只有`onCreate`和`onStart`。onStart 包含我`adapter`为我的项目创建的代码，然后将`ListView`适配器设置为新创建的`adapter`.

无论如何，长话短说，我想知道是否可以将整个 XML 添加到using`layout`的`ImageButtons`底部？我现在拥有它的方式（在修改了活动的 XML 一段时间之后）是使用和边距，基本上将固定在屏幕的最底部，这不是我想要的。我希望并排显示在列表的最底部。`ListView``addFooterView()``RelativeLayout``ImageButtons``ImageButtons`

一个示例的链接，或者发布一个示例本身也非常好。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T05:44:40.703

是的，您可以添加。

```
View footerView = inflater.inflate(R.layout.completeLayout, youtListView, false);
youtListView.addFooterView(footerView); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T05:45:16.223

**是**的 这是可能的。

创建一个具有三个按钮的布局**footerview.xml**，您可以将其用作：

```
RelativeLayout footerview = (RelativeLayout) View.inflate(context, R.layout.footerview, null);
listView.addFooterView(footerview); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-26T05:47:01.750

得到一个充气机

```
 LayoutInflater inflater = (LayoutInflater)context.getSystemService
          (Context.LAYOUT_INFLATER_SERVICE); 
```

然后使用膨胀xml

```
View     inflate(int resource, ViewGroup root)
//Inflate a new view hierarchy from the specified xml resource. 
```

然后通过 addFooterView() 将 inflate(int resource, ViewGroup root) 返回的视图添加到 ListView。

不知道是不是你想要的~~~

# java - 字符串等于命令不与源 tsv 文件的行对齐

> ID：15082125
> 
> 赞同：0
> 
> 时间：2013-02-26T05:38:18.230
> 
> 标签：java, string, processing

我正在编写一个简单的图表来解析一个 .tsv 文件，该文件有 6 列和 9 行。我试图在我的图表上放置一些文本，这些文本根据第三列中存在的数据进行着色。我能够获得屏幕上的所有颜色，但由于某种原因，以红色结尾的文本是与我想要其文本为红色的行下方的行（在 tsv 文件中）对应的文本。例如，虽然我希望自由党候选人填写 (200,60,60)，但出现在下面一行中的 Parti Quebecois 候选人却变成了红色。接下来，新民主党候选人最终获得（155,191,219）的填补。代码如下所示：

```
PImage mapOfCanada; // background map
Premier[] premiers; // premiers data

void setup() {
  size(800, 800);
  // modified mapOfCanada from http://www.theblog.ca/map-canada
  mapOfCanada = loadImage("bigmapofcanada.png");
  // from http://en.wikipedia.org/wiki/List_of_current_Canadian_first_ministers
  Table table = new Table("premiers.tsv");
  int rows = table.getRowCount();
  premiers = new Premier[rows];
  // read through each row of the source data to populate our premiers array
  for (int i=0; i<rows; i++) {
    String name = table.getString(i, 0);
    String province = table.getString(i, 1);
    String party = table.getString(i, 2);
    String imgFile = table.getString(i, 3);
    PImage img = loadImage(imgFile);
    float x = table.getFloat(i,4);
    float y = table.getFloat(i,5);
    premiers[i] = new Premier(name, province, party, img, x, y);
  }
}

void draw() {
  background(255);
  // draw the background image with a light tint
  tint(255, 25);
  image(mapOfCanada, 0, 0);

  // draw each premier
  noTint();
  for (Premier premier : premiers) {
    image(premier.img, premier.x, premier.y);
  }
  //drawing lines for those premier images that cannot fit in the alloted province space
  line(158,560,145,460); //Alberta
  line(300,560,340,500); //Manitoba
  line(650,365,670,410); //Newfoundland
  line(750,385,710,535); //PEI
  line(730,575,720,550); //Nova Scotia
  line(670,595,680,560); //New Brunswick

  //adding text labels
  for (Premier premier : premiers) { //reading through the source data in a loop
   textSize(10); //making the text size small yet readable
   textAlign(CENTER); //making sure the text is centered above the image
    text(premier.name, premier.x+50, premier.y-10); //positioning the text in relation to the x and y coordinates on the source data

{
String string1 = new String("Liberal");
String string2 = new String("Parti Quebecois");
String string3 = new String("New Democratic");
String string4 = new String ("Progressive Conservative");
String string5 = new String ("Saskatchewan Party");
String string6 = new String ("Yukon Party");

if (premier.party.equals("Liberal")) {
  fill(200,60,60);  
} 
else if (premier.party.equals("Parti Quebecois")) {
  fill(155,191,219);
}
else if (premier.party.equals("New Democratic")) {
  fill(180,151,107);
}
else if(premier.party.equals("Progressive Conservative")) {
  fill(96,104,250);
}
else if(premier.party.equals("Saskatchewan Party")) {
  fill (107,180,119);
}
else if(premier.party.equals("Yukon Party")) {
  fill (47,85,232);
}
  else {
  fill (0,0,0);
}
}
  }
}

class Premier {
  String name, province, party;
  PImage img; // this is the thumbnail image
  float x, y; // these are the coordinates for the thumbnail
  Premier(String name, String province, String party, PImage img, float x, float y) {
    this.name = name;
    this.province = province;
    this.party = party;
    this.img = img;
    this.x = x;
    this.y = y;
  }
} 
```

任何帮助回复：我做错了什么将不胜感激！我已经编辑了帖子以包含完整的代码。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:38:38.730

根据您遇到的问题的描述，它可能与索引错误有关 - 即使用基于 0 的索引，而实际上它是基于 1 的索引，反之亦然。但是如果没有循环代码和 fill() 代码，就很难查明问题所在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:47:22.370

似乎是包装您发布的代码的循环中的一次性错误。

# ios - 如何以编程方式将视频从 iPhone 应用程序上传到 youtube？

> ID：15082127
> 
> 赞同：0
> 
> 时间：2013-02-26T05:38:29.817
> 
> 标签：ios, objective-c, xcode, facebook, youtube

我需要从 iPhone 应用程序在 YouTube 上上传视频。我正在从图像和音频文件创建视频。此创建的视频需要上传到 YouTube。我没有得到任何关于如何在 YouTube 上上传视频的链接。我正在开发 xcode 4.6？

如果有人对在 YouTube 上上传视频有任何想法，请告诉我。我花了很多时间，但没有得到任何输出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:44:08.740

**注意：Youtube 已经发布了 Youtube API 3.0，而 2.0 现已弃用。更多细节请参考官方文档：[YouTube for Developers](https://developers.google.com/youtube/)**

我从来没有这样做过，但我相信下面的链接会对你有所帮助。

1.  [YouTube API v2.0](https://developers.google.com/youtube/2.0/developers_guide_protocol#Uploading_Videos)
2.  [gdata-objectivec-client](https://github.com/nparry/gdata-objectivec-client/tree/)
    2.1[使用 iPhone 自定义 App 将视频上传到 YouTube](http://urinieto.com/2010/10/upload-videos-to-youtube-with-iphone-custom-app/)

# amqp - Azure 服务总线 AMQP 令牌身份验证

> ID：15082129
> 
> 赞同：0
> 
> 时间：2013-02-26T05:38:32.377
> 
> 标签：amqp, azureservicebus

除了用户名和密码（例如来自 ACS 的令牌）之外，还有其他方法可以使用 AMQP 对 Azure 服务总线进行授权吗？

在我的场景中，我希望能够在不暴露我的凭据的情况下授予资源级客户端访问服务总线的权限。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T12:39:22.250

今天，在 Service Bus 中 AMQP 支持的预览版中，SASL 用户名/密码方案是唯一的身份验证选项。

尽管您可以自由地在 ACS 中创建多个身份并将一组有限的声明与这些身份相关联，但仍然可以使用此模型提供资源级客户端访问。事实上，这是推荐的最佳实践。在生产设置中使用默认命名空间“所有者”身份的替代方法类似于让应用程序组件访问根密码。

因此，我的建议是为您的应用程序中的每个“角色”创建 ACS 身份，然后仅授予该角色所需的声明。例如，如果 Web 层组件需要能够发送到队列 q1，则为该 Web 层角色创建一个 ACS 身份并向该身份授予“发送”声明。

谢谢，

戴夫。微软服务总线团队。

# mysql - 如何减少浏览器的负载？

> ID：15082134
> 
> 赞同：0
> 
> 时间：2013-02-26T05:38:49.323
> 
> 标签：mysql, caching, twitter-bootstrap, cakephp-2.0

我在云和 css 框架 twitter bootstrap 上使用多个数据库来获取使用带有 ajax 的“typeahead”的文本字段的建议。现在在每个 keyup 事件上，一个 ajax 调用都会触发并触发如下查询：

```
public function prod_identifier_typeahead($value) {             
    $db = ConnectionManager::getDataSource('incident_mgmt');
    $list = $db->rawQuery('select id, identifier from products where identifier like "'.$value.'%";');      
    $options = array();
    while ($row = $db->fetchRow()) { 
        $options[] = array('id' => $row["products"]["id"],'name' => $row["products"]["identifier"]);                    
    }       
    $this->set('options', $options);
    $this->set('_serialize', 'options');        

} 
```

每个 ajax 调用都使用连接对象。现在，谁能帮我减少这个 ajax 调用查询处理的负载？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:02:16.537

Cake 具有[缓存](http://book.cakephp.org/2.0/en/core-libraries/caching.html#caching)，可用于存储从数据库中检索到的数据。因此，重复的请求不会命中数据库，但是，您需要注意不要用永远不会再次使用的数据填充缓存。

我会尝试针对常见的使用模式进行优化。例如，用户键入“abdc”，按两次退格键，然后键入“cd”。在这种情况下，您几乎会立即在“ab”和“abd”上获得缓存命中，但 5 分钟后清除与此查询相关的所有内容可能是安全的。

# qt - 使用 Ui 表单：Dynamic Dialogs(runtime) vs 添加 ui 通过 uic(compile time)

> ID：15082135
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:38:49.740
> 
> 标签：qt, designer, qt-designer

如果我有多个 UI 表单，我想知道哪种方式有效。我对这两种情况下的内存利用率一无所知，我只是在一个简单的例子中尝试了两种方式。

[http://qt-project.org/doc/qt-4.8/designer-using-a-ui-file.html](http://qt-project.org/doc/qt-4.8/designer-using-a-ui-file.html)在这里他们描述了两种方式。现在哪一种方法更有效？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:55:15.587

```
I want to know which way is efficient if I am having number of UI forms 
```

看看这个线程：[Hand Coded GUI Versus Qt Designer GUI](https://stackoverflow.com/q/387092/1758762) (Hand Coded GUI Versus Qt Designer GUI)

```
I don have any idea about memory utilization in both of case 
```

这在两种情况下都是一样的。除此之外，如果你的类是从 QObject 派生的，你不需要关心它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T17:58:08.280

UI 文件只是生成更多 Qt 正确布局的更简单方法。与设计器一起工作也比手动编写 UI 代码要容易得多，并且设计器允许预览您的更改，因此在大多数情况下不需要生成和编译。此外，设计器允许您使用每个小部件的上下文菜单中的“提升为...”选项插入自定义小部件。

设计器代码的最终结果可能看起来更混乱，但它与您手动布局完全相同，并且更不容易出错。

# ubuntu - ubuntu 上的错误“只允许一个文件名”Dmenu + Vim

> ID：15082142
> 
> 赞同：2
> 
> 时间：2013-02-26T05:39:25.783
> 
> 标签：ubuntu, vim

在 ec2/ubuntu 上尝试使用 vim 的 dmenu。安装了 Git。

按照这里的步骤：http: [//leafo.net/posts/using_dmenu_to_open_quickly.html](http://leafo.net/posts/using_dmenu_to_open_quickly.html)

知道为什么我在 vim 中遇到此错误吗？

```
Error detected while processing function DmenuOpen:
line 5:
E172: Only one file name allowed: tabe dmenu: cannot open display 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T09:38:53.857

主要问题出在您的环境中：`cannot open display`. Dmenu 需要访问您的 X 服务器才能显示其完成菜单。在您的终端中，您需要定义类似

```
$ export DISPLAY=:0.0 
```

`dmenu`您可以通过执行（或`xclock`，或`gvim`，或任何其他 X 应用程序）来检查它是否有效。

* * *

二、Vim集成中的命令

```
execute a:cmd . " " . fname 
```

缺少正确的转义；这就是您收到 E172 错误的原因。要处理各种文件名，请使用

```
execute a:cmd . " " . fnameescape(fname) 
```

最重要的是，一点防御性编程就可以阻止这一切。之后`system()`，最好检查`v:shell_error`外部命令是否实际成功。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T07:41:17.920

出于某种原因，您的函数正在传递多个文件名，或者 Vim 将其理解为多个文件名，`:tabe`或者`:e`只能处理*一个*文件名。

也许文件名中有空格？

代替

```
execute a:cmd . " " . fname 
```

和

```
echo fname 
```

看看传递给什么`:tabe`。

# ember.js - Ember.js：将模型传递到视图中

> ID：15082148
> 
> 赞同：8
> 
> 时间：2013-02-26T05:39:49.247
> 
> 标签：ember.js, handlebars.js

我有一个控制器，其中包含有关用户帐户（图标、名称、提供者等）的数据。在每个循环的输出中，我有一个视图，它将根据通过该特定模型传入的提供程序动态构建一个 CSS 类。

```
<script type="text/x-handlebars" data-template-name="accountItem">
{{#each account in controller}}
    {{#view App.AccountView}}
        <h4>{{account.name}}</h3>
        <img {{bindAttr src="account.icon"}} />
        <i {{bindAttr class="account.provider"}}></i>
    {{/view}}
{{/each}}
</script>

App.AccountView = Ember.View.extend({
    tagName: 'a',
    classNames: ['avatar-image'],
    providerClass: function(el) {
        // do something
    }
}); 
```

我有两个问题。

1.  您如何将“帐户”或当前迭代的项目传递到视图中？
2.  传入之后，怎么引用呢？

我敢肯定这是经常发生的事情，但我似乎找不到任何例子。任何人都可以提供一些意见吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-28T11:39:10.027

Views 在视图中有一个特殊的`content`属性，它允许使用更简单的方法：您只需使用模型属性的名称而不使用`view.content.`部件。
此外，当您在控制器上进行迭代时，您可以省略循环变量的名称并使用`this`，就像在[本指南](http://emberjs.com/guides/templates/displaying-a-list-of-items/)中一样。这不是必需的，但可以使代码更简洁。
此外，从视图的模板中，您通常不需要引用外部变量，但如果您愿意，您可以这样做。

```
{{#each controller}}
    {{#view App.IndexView contentBinding="this"}}
        <h4>{{name}}</h4>
        <img {{bindAttr src="icon"}} />
        <i {{bindAttr class="provider"}}></i>
        <i> {{icon}} </i>
        <i>{{provider}}</i>
    {{/view}}
{{/each}} 
```

您始终可以通过以下`content`方式从视图中访问该属性：

```
this.get('content'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T09:21:09.420

当前迭代的项目可以通过属性绑定传递到视图中，在模板中可以称为“{{view.property}}”。例如：

```
{{#each account in controller}}
     {{#view App.IndexView itemBinding="account"}}
            <h4>{{view.item.name}}</h3>
            <img {{bindAttr src="account.icon"}} />
            <i {{bindAttr class="account.provider"}}></i>
              <i> {{view.item.icon}} </i>
              <i>{{view.item.provider}}</i>
        {{/view}}
{{/each}} 
```

我为上述情况创建了一个简单的 jsfiddle。请检查它并让我知道您是否能够解决问题。

小提琴网址：http: [//jsfiddle.net/nCyn6/3/](http://jsfiddle.net/nCyn6/3/)

# java - JDBC 连接到 'jdbc:mysql://127.0.0.1:3306/xxx' 但挂起并抛出 'jdbc:mysql://172.29.198.142:3306/xxx' 的套接字异常

> ID：15082156
> 
> 赞同：0
> 
> 时间：2013-02-26T05:40:15.907
> 
> 标签：java, mysql, jdb

我在这里有一个非常奇怪的问题。JDBC 使用 '127.0.0.1' 连接到 mysql 服务器，但是当我在那个地方使用真正的 IP-ADDRESS 时，它会永远挂起并抛出一些套接字异常

所以“jdbc:mysql://127.0.0.1:3306/xxx”；奇迹般有效....

"jdbc:mysql://172.29.198.142:3306/xxx"; 抛出以下丑陋的异常......！

```
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver   has  not received any packets from the server.
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1117)
at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:350)
at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2408)
at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2445)
at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2230)
at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:813)
at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
at   sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
got null
com.xxxxxxxx.server.test.PersistTest
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)
at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)
at java.sql.DriverManager.getConnection(DriverManager.java:582)
at java.sql.DriverManager.getConnection(DriverManager.java:185)
at com.lntinfotech.server.test.PersistTest.testConnectionJDBC(PersistTest.java:204)
at com.lntinfotech.server.test.PersistTest.main(PersistTest.java:56)
Caused by: java.net.SocketException: Malformed reply from SOCKS server
at java.net.SocksSocketImpl.readSocksReply(SocksSocketImpl.java:90)
at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:429)
at java.net.Socket.connect(Socket.java:529)
at java.net.Socket.connect(Socket.java:478)
at java.net.Socket.<init>(Socket.java:375)
at java.net.Socket.<init>(Socket.java:218)
at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:259)
at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300)
... 16 more 
```

请帮忙！！！！！！

提前致谢......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:54:59.483

检查你是否打开网络端口。简单的测试，您可以在该 PC 或网络中的另一台 PC 上使用 mySql Query 浏览器，但使用 IP 地址而不是 localhost 或 127.0.0.1 ... 如果它可以连接，您可以检查 java 库或 java 代码。如果不能，您可以检查是否有阻止该端口的防病毒或防火墙。

# c++ - 为什么 C 在没有指针的情况下没有按地址/引用传递？

> ID：15082165
> 
> 赞同：2
> 
> 时间：2013-02-26T05:40:44.577
> 
> 标签：c++, c, memory-efficient

考虑使用指针传递的 C++ 中这个交换函数的简单测试。

```
#include <iostream>

using std::cout;
using std::endl;

void swap_ints(int *a, int *b)
{
   int temp = *a;
   *a = *b;
   *b = temp;
   return;
}

int main(void)
{
   int a = 1;
   int b = 0;
   cout << "a = " << a << "\t" << "b = " << b << "\n\n";
   swap_ints(&a, &b);
   cout << "a = " << a << "\t" << "b = " << b << endl;

   return 0;
} 
```

这个程序是否比我按地址传递时使用更多的内存？比如在这个函数 decleration 中：

```
void swap_ints(int &a, int &b)
{
   int temp = a;
   a = b;
   b = temp;
   return;
} 
```

通过不需要创建指针变量，这个 C++ 函数的按引用传递版本是否使用更少的内存？

并且 C 不具有与 C++ 相同的“按引用传递”能力吗？如果是这样，那为什么不呢，因为这意味着内存效率更高的代码，对吧？如果不是，那么 C 不采用这种能力的原因是什么。我想我没有考虑的是 C++ 可能会创建指针以在幕后实现此功能。这就是编译器实际上所做的——所以除了更简洁的代码之外，C++ 真的没有任何真正的优势吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:44:20.950

唯一可以确定的方法是检查编译器为每个生成的代码并比较两者以查看您得到的结果。

也就是说，看到真正的差异（至少在启用优化时）我会有点惊讶，至少对于一个相当主流的编译器来说是这样。您*可能会*在一些非常小的嵌入式系统上看到编译器的差异，这些系统在过去十年左右没有更新，但即使在那里，老实说也不太可能。

我还应该补充一点，在大多数情况下，我希望看到这样一个内联生成的微不足道的函数的代码，所以根本就涉及函数调用或参数传递。在一个典型的情况下，它很可能归结为几个加载和存储。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:46:54.477

不要将代码中的变量计数与处理器使用的内存计数混淆。C++ 有许多抽象隐藏了编译器的内部工作，以使事情变得更简单、更容易让人理解。

按照设计，C 没有 C++ 那么多的抽象级别。

# inheritance - PHP中的OOP继承

> ID：15082169
> 
> 赞同：0
> 
> 时间：2013-02-26T05:41:04.793
> 
> 标签：inheritance, visibility, php

我对 PHP 中的 OOP 继承有一些问题。我有 2 个班级，动物和企鹅。企鹅扩展了动物。我的源代码是这样的：

```
class Animal{
  public $type = "animal";

  function dance(){
    echo $this->type." dances!\n";
  }
} 
```

和，

```
class Penguin extends Animal {
    private $type = "penguin";
} 
```

而且，我的主要代码是这样的；

```
include('animal.php');
include('private_penguin.php');

$tux = new Penguin();
$tux->type = "linux penguin";
$tux->dance(); 
```

这是我所有的代码。我在一些教程中阅读了 OOP。但是就像这段代码一样，有一个致命错误：对 Penguin::$type 的访问级别必须是公共的。但我没有。哪一个是正确的！

在 Animal 类中 $type 是公共的，但 Penguin 类是私有的；

你能帮助我吗！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:44:19.640

不能从`outside`类中访问私有变量。例如

```
class Penguin {
   function setType() {
      $this->type = 'penguin'; // works
   }
}

$tux->type = 'penguin'; // does not work 
```

这就是拥有私有变量的全部意义——防止“外部”代码弄乱对象的内部。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T14:59:07.973

每当您在子类中扩展或继承任何调用时，您的父方法或属性将从子类中覆盖。所以在你的情况下，你的`public $type = "animal";`from animal.php 被你的孩子覆盖了 `private $type = "penguin";`

因此，您`$this->type`将始终具有企鹅班的角色，即使在动物班中也是如此（因为您在企鹅班中扩展了动物班）。这是面向对象编程的非常基本的现象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:56:14.287

您的私有变量在`Penguin`class 内。所以你不能在这个类的范围之外使用它。此外，当您扩展一个类时。您也不必在主页上包含animal.php。您只能在 private_penguin.php 中使用它来扩展 .

所以企鹅类的代码应该是这样的：

```
include('animal.php');   
 class Penguin extends Animal {
        private $type = "penguin";
        function getPrivateData()
        {
            echo $this->type;
        }
    } 
```

然后你可以在你的主页中调用它。

```
include('private_penguin.php');

$tux = new Penguin();
$tux->type = "linux penguin";
$tux->getPrivateData(); 
```

这将使用私有变量来完成。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:47:13.013

我想如果你可以通过PHP中的[可见性。](http://php.net/manual/en/language.oop5.visibility.php)您现在正在做的只是不允许访问私有变量。你可以做的是

```
class Penguin extends Animal {
    public $type = "penguin"; // else keep it as public without changing as in the Animal class
} 
```

# 别的

您可以编写如下所示的方法来访问该`private $type`变量。

**从文档中提取以方便参考**

```
class MyClass
{
    public $public = 'Public';
    protected $protected = 'Protected';
    private $private = 'Private';

    function printHello()
    {
        echo $this->public;
        echo $this->protected;
        echo $this->private;
    }
}

$obj = new MyClass();
echo $obj->public; // Works
echo $obj->protected; // Fatal Error
echo $obj->private; // Fatal Error
$obj->printHello(); // Shows Public, Protected and Private 
```

# c++ - C++ std::string 追加 vs push_back()

> ID：15082170
> 
> 赞同：35
> 
> 时间：2013-02-26T05:41:08.137
> 
> 标签：c++, string, append, push-back

这确实是一个仅出于我自己利益的问题，我无法通过文档确定。

我在[http://www.cplusplus.com/reference/string/string/](http://www.cplusplus.com/reference/string/string/)上看到 append 具有复杂性：

“未指定，但通常在新字符串长度中达到线性。”

而 push_back() 具有复杂性：

“未指定；通常为摊销常数，但在新字符串长度中达到线性。”

作为一个玩具示例，假设我想将字符“foo”附加到字符串中。将

```
myString.push_back('f');
myString.push_back('o');
myString.push_back('o'); 
```

和

```
myString.append("foo"); 
```

完全一样吗？或者有什么不同吗？您可能认为 append 会更有效，因为编译器会知道将字符串扩展指定的字符数需要多少内存，而 push_back 可能需要在每次调用时保护内存？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-02-26T05:46:53.920

在 C++03 中（“cplusplus.com”的大部分文档都是为此编写的），由于允许库实现者对字符串进行 Copy-On-Write 或“绳索式”内部表示，因此未指定复杂性。例如，如果一个字符被修改并且正在进行共享，则 COW 实现可能需要复制整个字符串。

在 C++11 中，COW 和绳索实现被禁止。您应该期望每个添加的字符的固定摊销时间或添加到最后附加到字符串的字符数的线性摊销时间。实现者可能仍然会用字符串做相对疯狂的事情（与 相比`std::vector`），但大多数实现将仅限于“小字符串优化”之类的事情。

在比较`push_back`和`append`时，`push_back`剥夺了可能用于预分配空间的潜在有用长度信息的底层实现。另一方面，`append`要求实现遍历输入两次才能找到该长度，因此性能增益或损失将取决于许多未知因素，例如尝试追加之前的字符串长度。也就是说，差异可能非常非常非常小。继续`append`这样做 - 它更具可读性。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-03-06T00:15:09.190

我有同样的疑问，所以我做了一个小测试来检查这个（g++ 4.8.5 with C++11 profile on Linux, Intel, 64 bit under VmWare Fusion）。

结果很有趣：

```
推：19
附加：21
++++:34

```

这可能是因为字符串长度（大），但是与 push_back 和 append 相比，运算符 + 非常昂贵。

另外有趣的是，当操作符只接收一个字符（不是字符串）时，它的行为与 push_back 非常相似。

为了不依赖于预先分配的变量，每个循环都定义在不同的范围内。

注意：vCounter 只是使用 gettimeofday 来比较差异。

```
TimeCounter vCounter;

{
    string vTest;

    vCounter.start();
    for (int vIdx=0;vIdx<1000000;vIdx++) {
        vTest.push_back('a');
        vTest.push_back('b');
        vTest.push_back('c');
    }
    vCounter.stop();
    cout << "push :" << vCounter.elapsed() << endl;
}

{
    string vTest;

    vCounter.start();
    for (int vIdx=0;vIdx<1000000;vIdx++) {
        vTest.append("abc");
    }
    vCounter.stop();
    cout << "append :" << vCounter.elapsed() << endl;
}

{
    string vTest;

    vCounter.start();
    for (int vIdx=0;vIdx<1000000;vIdx++) {
        vTest += 'a';
        vTest += 'b';
        vTest += 'c';
    }
    vCounter.stop();
    cout << "++++ :" << vCounter.elapsed() << endl;
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-08-30T01:24:42.253

在这里再添加一个意见。

`push_back()`我个人认为从另一个字符串逐个添加字符时使用它更好。例如：

```
string FilterAlpha(const string& s) {
  string new_s;
  for (auto& it: s) {
    if (isalpha(it)) new_s.push_back(it);
  }
  return new_s;
} 
```

如果`append()`在这里使用，我将替换`push_back(it)`为`append(1,it)`，这对我来说不是那么可读。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:45:28.583

是的，由于您给出的原因，我还希望`append()`性能更好，并且在您需要附加字符串的情况下，使用`append()`(or `operator+=`) 当然更可取（尤其是因为代码更具可读性）。

但标准规定的是操作的复杂性。即使对于 ，这通常也是线性的`append()`，因为最终需要复制要附加的字符串的每个字符（以及可能的所有字符，如果发生重新分配）（即使使用`memcpy`或类似的情况也是如此）。

# php - 索取信息的 PHP 电子邮件表格

> ID：15082175
> 
> 赞同：1
> 
> 时间：2013-02-26T05:41:26.490
> 
> 标签：php, mysql, forms, email

我想向单击包含我的数据库中有关他们的信息的链接的人发送电子邮件。所以他们输入他们的用户名、密码和电子邮件，然后将“项目”和“通道”发送给他们。问题是他们的用户名下可以有多个项目。所以我需要在一封电子邮件中回显所有信息。但它不可能在电子邮件中回显信息。目前，它会为找到的每个项目和过道信息发送一封电子邮件，因此它可以发送 2 封以上的信息电子邮件。任何帮助都会受到喜爱。谢谢！

```
$Username = mysql_real_escape_string($_POST['Username']);
$Password = mysql_real_escape_string($_POST['Password']);
$Loc = mysql_real_escape_string($_POST['Loc']);
$To = mysql_real_escape_string($_POST['To']);
$Subject = "List";

$query = mysql_query("select * from Members where Username = '$Username' and Password =       '$Password'");
while ($row = mysql_fetch_array($query)) {
$headers = 'From: email@email.com';
$Items = $row['Items'];
$Loc = $row['Loc'];
$msg= "Item: $Items 
Aisle: $Loc\n";
mail($To, $Subject, $msg, 'From:' . $header);
echo 'Email sent to: ' . $To. '<br>'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:48:36.453

更改代码的第二部分如下：

```
$query = mysql_query("select * from Members where Username = '$Username' and Password =       '$Password'");
$items = '';
$headers = 'From: email@email.com';
while ($row = mysql_fetch_array($query)) {
  $items .= $row['Items'] . PHP_EOL;
  $loc = $row['Loc']; // what is Loc ?
}
$msg= "Item: $items 
Aisle: $loc\n";
mail($To, $Subject, $msg, 'From:' . $header);
echo 'Email sent to: ' . $To. '<br>'; 
```

但是，您的表结构很奇怪。您应该将您的项目放在一个单独的表中，并将您的成员 ID 作为外键。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:49:45.953

尝试将消息放在单独的文件中并将其包含在消息中。

像这样。

```
$message = include('email_massage.php'); 
```

# iphone - -JSONValue 失败。错误跟踪是：在 iPhone 中的 Google 货币转换器中

> ID：15082190
> 
> 赞同：0
> 
> 时间：2013-02-26T05:42:45.433
> 
> 标签：iphone, ios, objective-c

我需要实时汇率。我正在使用 URL 中提供的 Google API

```
http:://www.google.com/ig/calculator?hl=en&q=1USD=?INR 
```

每当我使用 json 解析访问该 URL 时，响应数据就会为零。我没有得到该代码中的确切错误

```
#define openexchangeURl @"http://www.google.com/ig/calculator?hl=en&q=1USD=?INR"

NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:openexchangeURl]];
NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
values =[responseString JSONValue]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-02T00:07:23.450

这将为您提供实时价格：

```
NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@"http://rate-exchange.appspot.com/currency?from=USD&to=INR&q=1"]];
[NSURLConnection sendAsynchronousRequest:request queue:[NSOperationQueue mainQueue] completionHandler:^(NSURLResponse *response, NSData *data, NSError *error) {
    NSDictionary *parsedDict = [NSJSONSerialization JSONObjectWithData:data options:0 error:NULL];
    CGFloat value = [parsedDict[@"rate"] floatValue];
    NSLog(@"Value: %f", value);
}]; 
```

该 api 的 JSON 响应如下所示：

```
{
  to: "INR",
  rate: 54.8245614,
  from: "USD",
  v: 54.8245614
} 
```

您的原始请求没有`NSURLConnection`并且响应不是有效的 JSON（哈希中的每个项目都没有双引号值）。

# android - 列表动态关注该列表中的特定项目

> ID：15082192
> 
> 赞同：0
> 
> 时间：2013-02-26T05:42:48.023
> 
> 标签：android, gridview, datagridview, android-fragments, fragment

在我的项目中，我有一个`GridView`用于处理产品列表的方法。在那我有一个 100 个项目的列表`GridView`。每次我都看到第一排的`GridView`..

`GridView`我在...中有单列

如果我需要查看`GridView`Means 中的数据，我需要向下滚动，我可以通过传递`GridView`..

例如，这是我的`GridView`，其中包含 11 个项目..

![](../Images/6815e391f3808c02bea97e4c477b1117.png)

我每次都看到`GridView`如下，..

![](../Images/5c359acc16d0621e88e330569058c9d0.png)

我的尝试是，如果我将`GridView`位置作为`ID=5`手段，我能否在开头本身中获得以下焦点`ListView`...

![](../Images/167622defecbb81b3637947a96e62025.png)

我们可以通过`Fragment`方法或其他方式得到这个吗？

我已经定制`GridView`了两个`TextView`用于显示数据库中的数据..

```
void loadList(int pos) {
    // TODO Auto-generated method stub
    try {

        sqdb = dc.db.getWritableDatabase();
        Cursor cursorone = sqdb.rawQuery("select * from Table123", null);
        startManagingCursor(cursorone);
        String[] from = new String[] { "ID", "Item"};
        int[] to = new int[] { R.id.id, R.id.item };
        SimpleCursorAdapter sca = new SimpleCursorAdapter(this, R.layout.list_row, cursorone, from, to);
            grid.setAdapter(sca);

        dc.db.close();
    } catch (Exception e) {
        // TODO: handle exception
        Toast.makeText(getApplicationContext(), e.toString(),
                Toast.LENGTH_LONG).show();
        System.out.println(e.toString());
    }
} 
```

在这种情况`loadList(int pos)`下，如果我传递 pos=5 的值意味着我想得到那个结果..

给我推荐最好的..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:50:39.397

不知道`ListFragment`但是在`listview`，你可以使用`listview.setSelection(position);`

此方法将帮助您实现此目的，例如：`listview.setSelection(5);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:51:27.947

试试这个，使用`setselection`

```
listview.setSelection(position); 
```

# python - Python将字符串转换为固定列数组

> ID：15082196
> 
> 赞同：1
> 
> 时间：2013-02-26T05:43:09.257
> 
> 标签：python, string, multidimensional-array, serial-port

万一我的问题在下面丢失了，我需要向我的家庭自动化系统展示一个数组，我可以逐个单元格地从中检索信息。

我正在使用以下代码从轮询我的家庭 HVAC 系统的串行设备中读取（其中大部分是从其他人的帖子中复制的很差）：

```
import time
import serial
import StringIO

# configure the serial connections
ser = serial.Serial(
        port='/dev/ttyS0',
        baudrate=9600,
        parity=serial.PARITY_NONE,
        stopbits=serial.STOPBITS_ONE,
        bytesize=serial.EIGHTBITS
)

input=1
while 1 :
        # Use static command to debug
        input = "stats"
        # Python 3 users
        # input = input(">> ")
        if input == 'exit':
                ser.close()
                exit()
        else:
                # send the character to the device
                # (note that I happend a \r\n carriage return and line feed to the characters - this is requested by my device)
                ser.write(input + '\r\n')
                outputFCUData = ''
                # let's wait one second before reading output (let's give device time to answer)
                time.sleep(1)
                while ser.inWaiting() > 0:
                        outputFCUData += ser.read(1)

                if outputFCUData != '':
                        fcuArrayTemp = StringIO.StringIO(outputFCUData).read().splitlines()
                        fcuArrayTemp.pop(0)
                        fcuArrayTemp.pop(-1)
                        fcuArrayTemp.pop(-1)
                        fcuArrayTemp.pop(-1)
                        print fcuArrayTemp
                        exit() 
```

如果我在没有任何格式的情况下轮询设备，结果将是：

```
stats
101 ON  070F 070F  Low  Heat OK 0
102 ON  069F 069F  Low  Heat OK 0
103 ON  069F 069F  Low  Heat OK 0
104 ON  069F 070F  Low  Heat OK 0
105 OFF 072F 064F  High Heat U5 0
OK
>
> 
```

当我`pop(0)`和`pop(-1)`代码中的 's 删除我想要的 5 行信息之外的所有信息时。对于任何好奇的人，第一列（例如“101”）是我的风扇线圈名称，然后是状态、设定点、当前温度、风扇速度、模式（加热/冷却）、错误代码（例如 105 没有 t -stat，所以它有一个`U5 error`) 然后最后一列是向设备发送命令的任何错误 - 现在没有，因此是“0”。

因此，我想获取该输出并将其转换为数组，以便例如调用`fcuStatus[i][j]`命令将信息从单元格（i，j）中提取出来。

我从我的代码中得到以下信息：

```
['101 ON  070F 070F  Low  Heat OK 0', '102 ON  069F 069F  Low  Heat OK 0', '103 ON  069F 069F  Low  Heat OK 0', '104 ON  069F 070F  Low  Heat OK 0', '105 OFF 072F 064F  High Heat U5 0'] 
```

这是一个 1 行 5 列的列表。我相信我应该只需要从该列表中读取元素并将它们添加到数组中。所以我添加代码：

```
for element in fcuArrayTemp
    parts = element.split(' ')
    print parts 
```

所以现在我的输出是：

```
['101', 'ON', '', '070F', '070F', '', 'Low', '', 'Heat', 'OK', '0']
['102', 'ON', '', '069F', '069F', '', 'Low', '', 'Heat', 'OK', '0']
['103', 'ON', '', '069F', '069F', '', 'Low', '', 'Heat', 'OK', '0']
['104', 'ON', '', '069F', '069F', '', 'Low', '', 'Heat', 'OK', '0']
['105', 'OFF', '072F', '064F', '', 'High', '', 'Heat', 'U5', '0'] 
```

这与我想要的非常接近，除了由于我在有双空白时在单个空白上拆分而添加了一些额外的列。

我的代码很草率，我必须相信有更好的方法。有人可以告诉我如何获取我在`outputFCUData`变量中收到的字符串信息并将其转换为没有额外空格的函数数组吗？将始终有 8 列，但随着向系统中添加风机盘管，阵列可以扩展到 128+ 行。以上任何一个都是因为我不太了解，而不是因为我试图遵守一组特定的指导方针——任何建议都非常受欢迎。

编辑-哇-收音机-正是我需要的-谢谢！

```
for element in fcuArrayTemp
    parts = element.split()
    print parts 
```

所以实际上最后一部分是我如何获取这些有组织的列表并创建一个 N 行 x 8 列矩阵？这个错误是因为没有给出附加参数。将“元素”添加到要追加的项目 (fcuArray.append(element)) 也不能让我到达那里。

```
fcuArray = []
for element in parts:
    fcuArray = fcuArray.append()
    print fcuArray 
```

再次感谢

编辑：找到了一个适合我的解决方案 - 在这里为其他正在寻找类似东西的人发布。诀窍是在生成列表时将列表中的每一行添加到我的数组中：

```
fcuArray = []
for element in fcuArrayTemp
    parts = element.split()
    fcuArray.append(parts) 
```

现在我可以通过请求行和位置来报告数组中的任何值。例如，要报告数组中第 3 个风扇线圈的名称，我会要求 fcuArray[3][0]（即“print fcuArray[3][0]”，它将返回“104”。

这是我的完整代码：

```
import time
import serial
import StringIO
import pprint

# configure the serial connections
ser = serial.Serial(
       port='/dev/ttyS0',
       baudrate=9600,
       parity=serial.PARITY_NONE,
       stopbits=serial.STOPBITS_ONE,
       bytesize=serial.EIGHTBITS
)

input=1
while 1 :
        # Use static command to debug
        input = "stats"
        # Python 3 users
        # input = input(">> ")
        if input == 'exit':
                ser.close()
                exit()
        else:
                # send the character to the device
                # (note that I happend a \r\n carriage return and line feed to the characters - this is requested by my device)
                ser.write(input + '\r\n')
                outputFCUData = ''
                # let's wait one second before reading output (let's give device time to answer)
                time.sleep(1)
                while ser.inWaiting() > 0:
                        outputFCUData += ser.read(1)

                if outputFCUData != '':
                        fcuArrayTemp = StringIO.StringIO(outputFCUData).read().splitlines()
                        fcuArrayTemp.pop(0)
                        fcuArrayTemp.pop(-1)
                        fcuArrayTemp.pop(-1)
                        fcuArrayTemp.pop(-1)
                fcuArray = []
                for element in fcuArrayTemp:
                            parts = element.split()
                fcuArray.append(parts)
                print fcuArray
                print fcuArray[3][0]
                exit() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:31:24.430

更改`element.split(' ')`为`element.split()`足以删除无关的列。

```
>>> for element in fcuArrayTemp:
...     print element.split()
...
['101', 'ON', '070F', '070F', 'Low', 'Heat', 'OK', '0']
['102', 'ON', '069F', '069F', 'Low', 'Heat', 'OK', '0']
['103', 'ON', '069F', '069F', 'Low', 'Heat', 'OK', '0']
['104', 'ON', '069F', '070F', 'Low', 'Heat', 'OK', '0']
['105', 'OFF', '072F', '064F', 'High', 'Heat', 'U5', '0'] 
```

# ldap - 当用户在一个组中时 memberOf 属性不存在（dirsrv，CentOS6.2）

> ID：15082198
> 
> 赞同：4
> 
> 时间：2013-02-26T05:43:27.400
> 
> 标签：ldap, centos

我在使用 dirsrv、CentOS6.2 的组中添加用户时遇到问题。默认模式，在“人员”中有用户*jmarsden*，并在“组”中创建了一个组。

尝试使用任何类型的组：*groupOfNames*，*groupOfUniqueNames*，*posixgroup*。成员（uniqueMember 或 memberUid）已成功添加为属性。

```
 member=uid=jmarsden,ou=People,dc=mymy,dc=localdomain 
```

但是当我使用 Apache Directory Studio 获取操作属性时，用户*jmarsden*没有*memberOf*属性。使用过滤器*“memberOf=cn=M* ”* 搜索也不起作用。我究竟做错了什么？

 *** * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:25:28.867

memberOf 是最常与 Active Directory 关联的属性。许多 LDAP 实现不使用用户的属性来表示用户属于哪个组。

您使用的是哪种 LDAP 实现？**

# asp.net - 使用 LINQ 查询与存储过程

> ID：15082208
> 
> 赞同：0
> 
> 时间：2013-02-26T05:44:23.960
> 
> 标签：asp.net, linq, entity-framework, linq-to-sql, stored-procedures

在我们的新项目中，我们希望使用实体框架 4.0。我想知道在使用实体框架时从以下选项中访问数据库的最佳方法是什么。开发方面，维护方面和性能方面。

1.  使用 LINQ 查询
2.  使用存储过程

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-02-26T07:42:42.103

您可以使用存储过程来处理数据。它在事务中提供了最大的性能。将 LINQ 与实体固件一起使用会降低性能。

# java - SQL 聚合函数如何工作

> ID：15082212
> 
> 赞同：2
> 
> 时间：2013-02-26T05:44:35.037
> 
> 标签：java, sql, sql-server, oracle, aggregate-functions

谁能告诉我聚合函数是如何在 SQL 数据库中实现的，例如：Oracle 或 SQL Server。

我的意思是，当 select 子句中存在聚合函数时，这些数据库是否使用一些内部数据结构或算法。

我问这个的原因是因为我在 java ArrayList 中有 100,000 条记录，当我尝试对所有值求和时大约需要 1 分钟，但是当相同的 100,000 条记录存储在 DB 中并且我使用 sum(column_nm) 它时执行时间几乎是 1/4。

我想以类似的方式提高我的 java 代码性能，为此我想知道 SQL 聚合函数的内部结构。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:12:21.467

有一个非常简单的解释，为什么 java 代码要慢得多：

您正在使用 ArrayList，因此我假设您将 Integer-Objects 放在那里。在某些堆栈中，它们确实比 C 中的整数有很大的开销。其次，当您将它们相加并为每个部分和创建另一个 Integer 时，您的 GarbageCollector 会吃掉所有性能。

如其他答案所述，

1.  DB 将使用直接数学处理器访问仅在寄存器中添加整数 - 不能更快。
2.  好的数据库不会只迭代，而是映射 + 减少总和、最小值或最大值等聚合。因此，它们获得了多处理器的好处，几乎忽略了 I/O 延迟。

为了您在代码中解决它：使用 int[]

```
 int[] parts;
 sum=0;
 for (int i:parts) {
   sum+=i;
 } 
```

您可能想要测试，如果根据您的处理器数量拆分（映射）数组并将其与 Future 并行化是否有用 - 取决于您的数据大小。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T07:39:48.940

尽管这与内部定义的聚合的工作方式不完全匹配，但在 SQL Server 中，您可以创建[用户定义的聚合](http://msdn.microsoft.com/en-us/library/ms131051.aspx)。看看这样的聚合必须定义哪些方法可能会很有启发性：

*   `Init`：

> 查询处理器使用此方法来初始化聚合的计算。对于查询处理器正在聚合的每个组，都会调用一次此方法。查询处理器可以选择重用聚合类的相同实例来计算多个组的聚合。Init 方法应根据此实例的先前使用执行任何必要的清理，并使其能够重新启动新的聚合计算。

*   `Accumulate`：

> ...查询处理器使用此方法来累积聚合值。对于正在聚合的组中的每个值，都会调用一次。只有在聚合类的给定实例上调用 Init 方法后，查询处理器才会调用它。此方法的实现应该更新实例的状态以反映传入的参数值的累积。

*   `Merge`：

> 此方法可用于将此聚合类的另一个实例与当前实例合并。查询处理器使用此方法来合并聚合的多个部分计算。

*   `Terminate`：

> 该方法完成聚合计算并返回聚合结果。...

从 和 的描述中`Merge`，`Terminate`我们可以推断服务器可能在单个组内并行执行多个部分聚合。一旦发生了这些并行累积中的每一个，所有结果将`Merge`在最终调用`Terminate`类的一个实例之前生成最终的聚合结果。

因此，实现加速（如果可能）的一种明显方法是并行化累积阶段。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T08:22:28.670

性能差异仅仅是因为要计算 SUM，您不需要将所有数据同时存储在内存中。

当您直接向数据库发出请求 SUM 的查询时，它可以从磁盘读取每条记录，将运行总计累积到内存中的单个变量中，然后读取下一条记录 - 它永远不需要将内存中的所有记录保存在同时。更重要的是，它不需要通过网络将这些记录发送到任何其他服务器进行处理 - 它只需要在最后将生成的 SUM 作为单个数字发送。

此外，由于整体上的 SUM 等于整体的任何不同子集的 SUM，所以 SUM 可以并行化 - 例如，如果数据是分区的，数据库可以发出多个查询以在不同的会话中运行，每个查询将对其部分数据求和，然后控制会话可以简单地对每个分区的结果进行求和。

当您在 Java 程序中使用数组计算总和时，它必须首先向数据库发出查询，询问它需要的所有数据；所有数据都需要从数据库传输到应用服务器，并且需要分配内存来存储所有数据。只有在那之后，您的程序才会遍历内存中的数组并计算总和；然后，它可能需要从内存中释放 Array。

如果数据量低，性能差异可能微不足道。但是，如果数量很大，则可以预期差异会非常显着。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:54:51.570

聚合通常只是迭代结果集，然后它们执行聚合，无论是求和、平均还是计数等。

如果您在谈论操作的复杂性，它几乎总是 O(n)，其中 n 是结果集中用于简单聚合的记录数。

我不明白为什么在 java 中需要更长的时间，因为您的数组将被实例化到主内存中，这比从磁盘读取要快，就像 RDBMS 那样。老实说，来自 RDBMS 的聚合应该比 arraylist 聚合稍慢。

为了对此进行扩展，如果您想要一个特定条目的一行（带有 PK 或索引），对于一个数组列表来说它是 O(1)，对于一个具有适当索引的 RDBMS 来说是 O(1)（对于一个标准的链表，获取该行将是 o(n)，但与聚合的 arraylist 相同）。遍历整个数据集（无论是数组还是表），执行聚合几乎总是 O(n)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T09:34:20.500

有趣的问题。

一个写得很好的 rdbms 是数以千计的博士数学家和数据库专家工作时间的结晶。您模仿 MSSQL 或 postgressql 的性能的尝试令人钦佩，但在风车上倾斜（如果您不熟悉唐吉诃德，则阅读是徒劳的）。

对 rdbms 的一个常见误解是关系意味着相关表。相关实际上是指数学关系。基本上 - rdbms 专注于集合论。即使有很好的 rdbms，开发人员也可以通过逐行计算来破坏性能，而不是使用固有的原生集合。这实际上是对您所遇到的性能差异的恰当比较。

如果您仅限于在 java 而不是 db 中执行此计算，您应该考虑优化数据结构（最小数据类型）和循环效率。你仍然无法与 sql server 或 postgres 竞争。如果您确实需要改进的性能，可能值得将项目存储在数据库中并从 java 调用它们。

# python - 将 python 打印语句转换为日志记录

> ID：15082213
> 
> 赞同：3
> 
> 时间：2013-02-26T05:44:37.650
> 
> 标签：python, abstract-syntax-tree, rope

我正在开发一个使用打印语句而不是 python 日志记录的大型代码库。我想知道是否有建议将所有这些打印语句转换为对 logging.info 的调用？其中许多印刷品分布在几行上，因此任何解决方案都需要处理这些情况，并希望能保持格式。

我已经研究过 python 绳索，但它似乎没有将调用转换为语句的功能，例如将 print 转换为函数调用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:56:10.393

您可以使用`2to3`并且*仅*将修复应用于 print 语句 -> 打印功能。

```
2to3 --fix=print [yourfiles]          # just displays the diff on stdout
2to3 --fix=print [yourfiles] --write  # also saves the changes to disk 
```

这应该会自动处理所有这些奇怪的情况，然后将打印函数转换为日志记录函数应该是一个简单的查找和替换，例如`sed`.

`2to3`如果由于某种原因您没有脚本的快捷方式，请`lib2to3`改为作为模块运行：

```
python -m lib2to3 --fix=print . 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:07:11.130

只需在代码开始之前添加这几行，它就会记录它打印的所有内容。我想你正在寻找这样的东西。

```
import logging
import sys

class writer :
    def __init__(self, *writers) :
        self.writers = writers

    def write(self, text) :
        logging.warning(text)

saved = sys.stdout
sys.stdout = writer(sys.stdout)

print "There you go."
print "There you go2." 
```

# ios - iPhone 录制的视频在 Windows 操作系统中以横向模式播放

> ID：15082217
> 
> 赞同：1
> 
> 时间：2013-02-26T05:44:46.527
> 
> 标签：ios, objective-c, mpmovieplayercontroller

我在我的 iPhone 应用程序中录制了一段视频，然后保存了它。当我在 MAC OS 中播放此视频时，它以纵向模式播放。但是，当在 Windows 操作系统中播放相同的视频时，它的方向会变为横向模式。

为什么这样？如何解决？

# c# - 什么是符号'？类型名称后的意思

> ID：15082221
> 
> 赞同：4
> 
> 时间：2013-02-26T05:45:11.963
> 
> 标签：c#

我正在使用[Eto gui 框架](https://github.com/picoe/Eto)。我在他们的源代码中看到了一些神奇的语法；例如：

```
int x;
int? x;
void func(int param);
void func(int? param); 
```

有什么不同？我很困惑。而且这个符号`?`很难用谷歌搜索。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T05:45:57.937

这意味着它们是[可空](http://msdn.microsoft.com/en-us/library/b3h38hb0.aspx)的，**它们可以保存空值**。

如果您已定义：

```
int x; 
```

那么你不能这样做：

```
x = null; // this will be an error. 
```

但如果您定义`x`为：

```
int? x; 
```

那么你可以这样做：

```
x = null; 
```

[`Nullable<T> Structure`](http://msdn.microsoft.com/en-us/library/b3h38hb0.aspx)

> 在 C# 和 Visual Basic 中，您可以**使用 ? 将值类型标记为可为空的。**值类型后的**符号。**例如，int? 用 C# 还是整数？在 Visual Basic 中声明了一个可以分配为 null 的整数值类型。

就我个人而言，我会使用[http://www.SymbolHound.com](http://www.SymbolHound.com)来搜索符号，在[这里查看结果](http://www.symbolhound.com/?q=%3F++C%23)

`?`只是语法糖，相当于：

`int? x`和`Nullable<int> x`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T05:57:50.240

`struct`s（如`int`,`long`等）默认不能接受`null`。因此，.NET 提供了一个`struct`名为type-param`Nullable<T>`的泛型`T`可以来自任何其他`struct`s。

```
public struct Nullable<T> where T : struct {} 
```

它提供了一个`bool HasValue`属性，指示当前`Nullable<T>`对象是否有值；和一个`T Value`获取当前`Nullable<T>`值的属性（如果是`HasValue == true`，否则它会抛出一个`InvalidOperationException`）：

```
public struct Nullable<T> where T : struct {
    public bool HasValue {
        get { /* true if has a value, otherwise false */ }
    }
    public T Value {
        get {
            if(!HasValue)
                throw new InvalidOperationException();
            return /* returns the value */
        }
    }
} 
```

最后，在回答您的问题时，`TypeName?`是`Nullable<TypeName>`.

```
int? --> Nullable<int>
long? --> Nullable<long>
bool? --> Nullable<bool>
// and so on 
```

并在使用中：

```
int a = null; // exception. structs -value types- cannot be null
int? a = null; // no problem 
```

例如，我们有一个在名为 的方法`Table`中生成 HTML 标记的类。看：`<table>``Write`

```
public class Table {

    private readonly int? _width;

    public Table() {
        _width = null;
        // actually, we don't need to set _width to null
        // but to learning purposes we did.
    }

    public Table(int width) {
        _width = width;
    }

    public void Write(OurSampleHtmlWriter writer) {
        writer.Write("<table");
        // We have to check if our Nullable<T> variable has value, before using it:
        if(_width.HasValue)
            // if _width has value, we'll write it as a html attribute in table tag
            writer.WriteFormat(" style=\"width: {0}px;\">");
        else
            // otherwise, we just close the table tag
            writer.Write(">");
        writer.Write("</table>");
    }
} 
```

上述类的用法 - 仅作为示例 - 如下所示：

```
var output = new OurSampleHtmlWriter(); // this is NOT a real class, just an example

var table1 = new Table();
table1.Write(output);

var table2 = new Table(500);
table2.Write(output); 
```

我们将拥有：

```
// output1: <table></table>
// output2: <table style="width: 500px;"></table> 
```

# ruby-on-rails - 查询所有后代表的多态关联？

> ID：15082227
> 
> 赞同：1
> 
> 时间：2013-02-26T05:45:34.663
> 
> 标签：ruby-on-rails, ruby-on-rails-3, postgresql, activerecord

以下是一个人为的例子，但它会明白这一点。

假设我有以下模型。

```
class Comment < ActiveRecord::Base
  belongs_to :commentable, :polymorphic => true
end

class Book < ActiveRecord::Base
  has_many :chapters
  has_many :comments, as: :commentable
end

class Chapter < ActiveRecord::Base
  has_many :pages
  has_many :comments, as: :commentable
end

class Page < ActiveRecord::Base
  has_many :paragraphs
  has_many :comments, as: :commentable
end

class Paragraph < ActiveRecord::Base
  has_many :comments, as: :commentable
end 
```

是否可以通过一次查询获得特定书籍及其后代的所有评论？也就是说，我不仅想要书籍模型的所有评论，还想要对章节、页面和段落的评论。顺便说一句，我意识到这本书可以通过每个模型的关联，为每个模型执行内部连接，但这会导致 4 个查询。

我使用 postgres 作为数据库和 Rails 3.2.12。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:47:55.747

我不知道这是否有帮助，但我正在从数据库方面解决这个问题，并试图找出处理这个问题的最佳方法。我认为您的问题将是您的数据库的外观。如果您可以从 SQL 向后工作，那也可能会有所帮助。

这也是一个可靠的数据库设计将使您的生活更轻松的领域。假设我们有以下表结构：

```
CREATE TABLE node_class (
     id int not null unique, 
     node_type label primary key, 
     parent_class int references node_class(id)
);

INSERT INTO node_class (id, node_type, parent_class) 
VALUES (1, 'book', null), (2, 'chapter', 1), (3, 'page', 2), (4, 'paragraph', 3);

CREATE TABLE book_node (
    node_id bigserial primary key,
    node_type int not null,
    parent_class int,
    parent_id int,
    .....
    foreign key (parent_class, parent_id) references book_node(id, node_type)
    foreign key (node_type) references node_class (id),
    foreign key (node_type, parent_class) references node_class(id, parent_class)
);
CREATE TABLE book_comments (
    id bigserial primary key,
    comment_text text not null
); 
```

您可能有其他表然后连接到书节点表以提供例如章节、页码等。

然后从那里很容易生成一个构建树然后加入评论的查询：

```
WITH RECURSIVE bn_tree (node_id, level, path) as
(
   SELECT node_id, 1, node_id::text
     FROM book_node
    where node_id = ?
UNION ALL
   SELECT n.node_id, level + 1, path || ',' || n.node_id::text
     FROM book_node n
     JOIN bn_tree t ON t.node_id = n.parent
)
SELECT c.* 
  FROM book_comments c
  JOIN bn_tree t ON c.node_id = t.node_id; 
```

我认为一旦您了解了 SQL 的工作原理，您就可以调整您的数据库设计以更好地与您的应用程序配合使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:05:40.027

如果您正在考虑预先加载，您可以从 Book 端进行，但不能从 Comment 端进行。

```
>> Book.limit(1).includes(:comments).where('comments.id ...') # you'll probably get a book
>> Comment.limit(1).includes(:commentable).where('books.id ...') # you'll get an error

ActiveRecord::EagerLoadPolymorphicError: Can not eagerly load the polymorphic association 
```

您始终可以执行以下操作来获取一本书的评论，

```
>> book = Book.first
>> comments = book.comments
>> comments = Comment.where(commentable_type: 'Book', commentable_id: book.id) 
```

# android - 渲染到纹理和同步

> ID：15082228
> 
> 赞同：8
> 
> 时间：2013-02-26T05:45:41.827
> 
> 标签：android, opengl-es

我有一个使用标准渲染到纹理设置的跨平台代码库（iOS 和 Android）。每一帧（初始化后），都会发生以下序列：

1.  带有纹理颜色附件的帧缓冲区的 glBindFramebuffer
2.  渲染一些东西
3.  *
4.  默认帧缓冲区的 glBindFramebuffer（Android 上为 0，iOS 上通常为 2）
5.  作为第一个帧缓冲区的颜色附件的纹理的 glBindTexture
6.  使用绑定纹理进行渲染

在 iOS 和一些 Android 设备（包括模拟器）上，这可以正常工作并且符合预期。在其他设备上（当前坐在运行 4.0.4 的三星 Galaxy Note 前面），使用纹理的第二阶段渲染看起来“跳跃”。其他动画在与“跳跃”位相同的屏幕上继续以 60 fps 运行；我的结论是，在第二次渲染过程中，目标纹理的变化并不总是可见的。

为了测试这个理论，我在上面标有 * 的步骤中插入了一个 glFinish()。现在，在所有设备上，这具有正确的行为。有趣的是， glFlush() 并不能解决问题。但是 glFinish() 很昂贵，而且我还没有看到任何文件表明这应该是必要的。

所以，这是我的问题：当完成对纹理的渲染后，我必须做什么以确保最近绘制的纹理在以后的渲染过程中可用？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T03:43:29.037

您描述的代码应该没问题。

只要您使用单个上下文，并且没有选择任何放宽同步行为的扩展（例如[EXT_map_buffer_range](http://www.khronos.org/registry/gles/extensions/EXT/EXT_map_buffer_range.txt "EXT_map_buffer_range")），那么每个命令都必须看起来像按照 API 中指定的完全相同的顺序执行一样，并且在您的 API 使用中，您在读取纹理之前渲染到纹理。

鉴于此，您可能会在这些设备上遇到驱动程序错误。你能列出哪些设备遇到了这个问题吗？您可能会找到常见的硬件或驱动程序。

# python - python，如何对不区分大小写的元组或列表进行排序？

> ID：15082230
> 
> 赞同：1
> 
> 时间：2013-02-26T05:46:15.803
> 
> 标签：python, list, tuples

我有这两个列表，我通过 zip 将它们组合起来，然后我想对它们进行排序，但它给了我这个结果（Ard，Ger，Sla，ard），而我想成为（ard，Ard，Ger，Sla）。任何的想法？

```
N = ["ard","Ard","Ger","Sla"]
L = ["7","4","2","3"]
x=zip(N,L)
x.sort()
for i in x:
    print i[0] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T05:50:03.760

传递一个`key`参数进行排序：

```
x.sort(key=lambda (a, b): (a.lower(), b)) 
```

输出是：

```
Ard
ard
Ger
Sla 
```

# asp.net - gridview中的行背景颜色？

> ID：15082232
> 
> 赞同：1
> 
> 时间：2013-02-26T05:46:35.330
> 
> 标签：asp.net, css, gridview

在 asp.net 应用程序中，我使用网格视图控件，因为我将数据绑定`label`到`grid-view`.
如果**数据为空**，则**该行的颜色**应为红色。
如果不是，我的意思是如果有数据要绑定，则该行为**绿色**。这是我的代码：

```
<asp:TemplateField HeaderText ="Holiday Region">
     <ItemTemplate >
         <asp:Label ID ="lblholdareg" runat ="server" Text ='<%# Eval("Holidaregion") %>' >
         </asp:Label>
     </ItemTemplate>
</asp:TemplateField> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:51:39.613

您可以按以下`rowdatabound`功能执行此操作`gridview`

```
protected void RowDataBound(Object sender, GridViewRowEventArgs e)
{
    if(e.Row.RowType == DataControlRowType.DataRow)
    {
         //change it according your cell number or find element
         if(e.Row.Cells[0].Text != "")
            e.Row.BackColor = Color.Green;
         else
            e.Row.BackColor = Color.Red;   
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T08:31:46.857

您需要处理 RowDataBound 事件，进入 e.Row 项目，并分配 CSS 类或直接设置背景颜色。我更喜欢设置一个 CSS 类，这样您就可以在以后更改它的呈现而无需重新编译。

```
<asp:GridView ID="GridView1" runat="server" OnRowDataBound="GridView1_RowDataBound">
    <Columns>
        <asp:TemplateField HeaderText="Holiday Region">
            <ItemTemplate>
                <asp:Label ID="lblholdareg" runat="server" Text='<%# Eval("Holidaregion") %>' />
            </ItemTemplate>
        </asp:TemplateField>
    </Columns>
</asp:GridView> 
```

在代码隐藏中，我不得不假设您使用 DataTable 作为数据源，更新代码以适合您的数据结构：

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
{
    System.Data.DataRow row = (System.Data.DataRow)e.Row.DataItem;
    if (row["Holidaregion"] == null || row["Holidaregion"].ToString().Trim().Length == 0)
    {
        e.Row.CssClass = "row-empty";
    }
    else 
    {
        e.Row.CssClass = "row-full";
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-21T18:00:30.370

试试这个代码它是每行的颜色变化与类别明智或过滤明智 [http://devloper4u.blogspot.in/2013/10/how-to-set-color-in-every-row-on.html](http://devloper4u.blogspot.in/2013/10/how-to-set-color-in-every-row-on.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:51:41.757

尝试这样的事情

```
<asp:TemplateField HeaderText ="Holiday Region">
  <ItemTemplate >
    <asp:Label ID ="lblholdareg" runat ="server"
     CSSClass='<%# (String.IsNullOrEmply(Eval("Holidaregion")))?"red:green" %>' 
     Text ='<%# Eval("Holidaregion") %>' >  
    </asp:Label>

   </ItemTemplate>
</asp:TemplateField> 
```

**编辑：**

无需与网格视图内联和代码背后的东西打架，只需使用 jQuery 并在客户端实现相同的效果

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T05:53:26.970

```
if(e.Row.RowType == DataControlRowType.DataRow)
{
    Control l = e.Row.FindControl("Label1");
  ((Label)l).BackColor = System.Drawing.Color.Red;
} 
```

# regex - 匹配第一个正则表达式字符

> ID：15082233
> 
> 赞同：0
> 
> 时间：2013-02-26T05:46:36.003
> 
> 标签：regex, c#-3.0

是否有任何正则表达式将字符串的第一个字符匹配为 Underscore( `_`) 或字母表[a-zA-Z] 第二个字符向前的字符串可以包含 [0-9a-zA-Z] 或只有 2 个特殊字符是 ' _' 和 '-'

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:51:30.943

```
^[_a-zA-Z][\w-]+$ 
```

这是一个带有`_`, 和字母字符的字符类。 `\w`是字母数字加号`_`，因此现金包含在字符类中。 `+`意思是“一个或多个”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T05:54:37.877

```
^[_a-zA-Z][\w-]*$ 
```

这应该检查 _、az 和 AZ 的第一个字符，然后是字母数字、_ 和“-”。

编辑：用字母数字替换字母

Edit2：删除了不必要的转义字符

# android - 将鼠标悬停在椭圆词上以显示 JB 中的原始词

> ID：15082235
> 
> 赞同：0
> 
> 时间：2013-02-26T05:46:44.480
> 
> 标签：android, hover, ellipsis

如果 S-pen 在该屏幕的特定部分悬停，我需要闪烁椭圆形的原始单词（由于其周围的空间限制而被缩短）。我有找到悬停位置和找到省略号的代码。我想要一个示例代码来传递椭圆词的精确词，以便一旦笔指向该特定位置，我就可以显示原始词。（自从它在 JB 中新引入 Android 以来，我并没有从谷歌那里得到太多帮助..）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-27T09:40:15.673

你应该使用`PopupWindow`. 创建一个包含 的 XML 布局`TextView`，在弹出窗口中对其进行膨胀（或仅通过构造函数创建它）。

```
public class HoverPopup extends PopupWindow {

    public HoverPopup(Context context, String text) {
        //...
        TextView textView = (TextView) View.inflate(context, R.layout.hover_popup, null);
        textView.setText(text);
        setContentView(textView);
    }
} 
```

S Pen 事件库初始化和悬停监听器实现

```
private final SPenEventLibrary mSPenEventLibrary = new SPenEventLibrary();
private final SPenHoverListener mSPenHoverListener = new SPenHoverListener() {

    private HoverPopup mHoverPopup;

    @Override           
    public boolean onHover(View view, MotionEvent event) {
        switch (event.getAction()) {
        case MotionEvent.ACTION_HOVER_ENTER:
            mHoverPopup = new HoverPopup(mContext, "Your text");
            mHoverPopup.showAsDropDown(view);
            return true;
        case MotionEvent.ACTION_HOVER_EXIT:
            mHoverPopup.dismiss();
            return true;
        default:
            return false;
        }
    }
}; 
```

不要忘记将 S Pen 悬停侦听器附加到视图

```
mSPenEventLibrary.setSPenHoverListener(view, mSPenHoverListener); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-27T06:39:52.863

请参阅[Samsung 提供的 Spen SDK 示例代码](http://developer.samsung.com/s-pen-sdk/samples/20-samples-in-S-Pen-SDK-2-2-5)

# iphone - IOS中的UI实现查询

> ID：15082237
> 
> 赞同：0
> 
> 时间：2013-02-26T05:46:48.320
> 
> 标签：iphone, ios, ipad, math, user-interface

我正在一个需要录制和播放音频文件的应用程序中工作。我已经完成了与录音和播放有关的所有事情。这次我对UI相关的有点困惑，可能是第一次这样的困惑。![回放](../Images/43a367c66211680c7f792fc554411d99.png).

根据上面的图片，我需要显示播放轨迹，到目前为止，我已经做了很多进度条和滑块来显示播放秒数或服务器响应。我正在检查自己以实现这一点，但我没有任何确切的想法要做。有人可以建议我实施相同的任何想法。你的建议对我的工作更有用。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:46:57.693

您可以使用我在下面发布的课程并在背景图像之间使用它，并使用暂停/播放按钮将其置于顶部。对于当前位置的资产（小环），您可能需要使用基本三角法。

一个简单的 UIView 子类，它根据进度绘制一个环。通过配置圆半径等可能需要一些爱：

**CircleProgressView.h**

```
@interface CircleProgressView : UIView
{
    double progress_;
    UIColor *color_;
}

- (void)setProgress:(float)progress;
- (void)setColor:(UIColor *)color;

@end 
```

**CircleProgressView.m**

```
@implementation CircleProgressView

- (void)setProgress:(float)progress
{
    _progress_ = progress;
    [self setNeedsDisplay];
}

- (void)setColor:(UIColor *)color
{
    color_ = color;
}

- (void)drawRect:(CGRect)rect
{
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetLineWidth(context, 6);
    CGContextSetStrokeColorWithColor(context, color_.CGColor);
    CGContextAddArc(context,
                    self.frame.size.width / 2.0,
                    self.frame.size.height / 2.0,
                    self.frame.size.width / 2 - 4.5, 0.0, M_PI * progress_ * 2.0, NO);

    CGContextStrokePath(context);
} 
```

# iphone - 从 WiFi 迁移到 3G 时没有网络

> ID：15082247
> 
> 赞同：2
> 
> 时间：2013-02-26T05:47:28.793
> 
> 标签：iphone, ios, reachability

我的 iphone 应用程序在 3G 网络上运行良好。我正在使用苹果可达性类来检测网络可用性

然而，当从 wifi 区域移动到 3G 时，网络不可用，或者太慢了。为什么会发生……任何想法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T15:10:55.503

这取决于您使用的传输协议。因为您的设备在两个不同的网络之间移动，任何现有的连接（例如您已经启动的 TCP 连接）将不再工作（尽管没有一些花哨的 TCP 切换魔法）。正因为如此，iOS 中依赖连接状态的后台服务可能会尝试重新连接，这可能会导致事情暂时变慢。

希望这能对事情有所启发。

# perl - 将二进制数据从 perl 变量传递到命令

> ID：15082249
> 
> 赞同：2
> 
> 时间：2013-02-26T05:47:44.300
> 
> 标签：perl, security, dns, packet-injection

对于与安全性、DNS 缓存中毒和 Kaminsky 攻击相关的家庭作业，我正在构建一个 Perl 脚本，该脚本使用[Nemesis](http://nemesis.sourceforge.net/ "克星")将数据包发送到本地 DNS 服务器（这一切都在一个封闭的、仅限主机的 VMWare 网络上完成）。我已经完成了所有事情，以使调用 nemesis 的过程自动化。

我专门使用 Perl 来选择随机 DNS 事务 ID，将它们添加到我之前制作的 DNS 有效负载中。现在，有效负载不是 DNS 答案，而只是一个查询，因此我可以完善制作有效负载的 ID 部分并使用 Perl 将其推送到克星的方法。

我的代码目前是...

```
 #!/usr/bin/perl

use strict;
use warnings;

my $dnsId = int(rand(65535));

my $idString = sprintf("%x", $dnsId);

if(length($idString) == 1){$idString = "000".$idString}
elsif(length($idString) == 2){$idString = "00".$idString}
elsif(length($idString) == 3){$idString = "0".$idString}

my $payload = $idString."01000001000000000000037777770f646e737068697368696e676c61627303636f6d0000010001";

print(`echo "$payload" | nemesis udp -S10.1.3.1 -D10.1.3.100 -x53 -y33333 -P-`) 
```

我遇到的问题是，nemesis 正在将数据作为字符串读取，这当然是 echo 所做的。所以我需要做的是将数据作为二进制数据而不是 ASCII 传递给克星。

我想我可以用`pack()`写一个二进制文件然后使用“cat /foo/bar/file | nemesis -...”来执行有效载荷，但这不是一个最佳解决方案，因为我不想要额外的 IO在收到（假设的，它永远不会到达）真实响应之前，我可以尝试多少次恶意 DNS 响应。

我可以研究哪些方法可以让我以二进制格式将这些数据提供给克星？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T06:02:15.320

第一的，

```
print(`...`); 
```

简化为

```
system("..."); 
```

由于我们不再通过管道输出`nemesis`，这意味着我们可以轻松地通过管道输入。（如果您想同时执行这两个操作，请使用[IPC::Run3](http://search.cpan.org/perldoc?IPC%3a%3aRun3)或[IPC::Run](http://search.cpan.org/perldoc?IPC%3a%3aRun)。）

```
my @cmd = ('nemesis',
   'udp', '-S10.1.3.1', '-D10.1.3.100',
   '-x53', '-y33333', '-P-' );

open(my $pipe, '|-', @cmd)
   or die $!;
binmode($pipe);
print($pipe $payload);
close($pipe); 
```

当然，您的代码`$payload`实际上并不包含有效负载，而是它的十六进制表示。你可以`pack 'H*'`整件事，但我认为以下是更好的方法：

```
my $dnsId = int(rand(65536));

my $payload = pack('n H*',
    $dnsId, '010000010000'.  # 000000
    '0000000003777777'.      # 000010
    '0f646e7370686973'.      # 000020
    '68696e676c616273'.      # 000030
    '03636f6d00000100'.      # 000040
    '01');                   # 000050 
```

请注意，我更改`65535`为`65536`使实际返回成为可能`65535`。

# matlab - svmtrain 函数中的支持向量如何将输入数据收敛为一个小子集？

> ID：15082253
> 
> 赞同：0
> 
> 时间：2013-02-26T05:47:56.867
> 
> 标签：matlab, image-processing, svm, subset, pattern-recognition

svmtrain 函数的输入是一个尺寸为 151x22 的矩阵。

在将 svmtrain 函数与上述矩阵（如下所示）一起应用时，我得到了一个结构。在结构内部，有一个名为“支持向量”的字段。

这个支持向量的大小是 42x22。

这个子集是如何形成的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:58:43.353

`help svmtrain`说该领域`SupportVectors`给出了一个`Matrix of data points with each row corresponding to a support vector.`

所以我猜这意味着对于您的特定矩阵，找到了 42 个支持向量。

要了解如何准确找到这些向量，您应该查找一些有关支持向量机的理论。维基百科有一篇关于[SVM](http://en.wikipedia.org/wiki/Support_vector_machine)的相当广泛的文章。

# pointers - c99 指针和 localtime_r 的问题

> ID：15082254
> 
> 赞同：0
> 
> 时间：2013-02-26T05:48:22.503
> 
> 标签：pointers, c99, localtime, time.h

我正在分配一个变量来保存当前时间：

```
struct tm *cur = malloc (sizeof (cur));
time_t t = time (NULL);
localtime_r (&t, cur); 
```

然后我打印年份。它是正确的。接下来我进入一个循环，在其中我从文件中分配一个新的变量时间值：

```
struct stat file_stats;
struct tm *file = malloc (sizeof (file));
lstat (argv[itor], &file_stats);
//check1
localtime_r(&file_stats.st_mtime, file);
//check2 
```

在“check1”处，`cur->tm_year`打印一个正确且合理的值。在“check2”处，`cur->tm_year`打印“0”。这里发生了什么？我认为这与我缺少指针操作有关。任何帮助将不胜感激，尤其是对我所误解的解释。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:08:39.673

我将您的代码改编成这个[SSCCE](http://sscce.org/)：

```
#include <stdio.h>
#include <stdlib.h>
#include <sys/stat.h>
#include <time.h>

int main(int argc, char **argv)
{
    struct tm *cur = malloc(sizeof(cur));
    time_t t = time (NULL);
    localtime_r(&t, cur);

    printf("curr 1 year: %d\n", cur->tm_year + 1900);

    for (int itor = 1; itor < argc; itor++)
    {
        struct stat file_stats;
        struct tm *file = malloc(sizeof(file));
        file->tm_year = 0;
        if (lstat(argv[itor], &file_stats) == 0)
        {
            printf("curr 2 year: %d\n", cur->tm_year + 1900);
            localtime_r(&file_stats.st_mtime, file);
            printf("curr 3 year: %d\n", cur->tm_year + 1900);
            printf("file 1 year: %d\n", file->tm_year + 1900);
        }
    }
    return(0);
} 
```

我运行它的结果是：

```
curr 1 year: 2013
curr 2 year: 2013
curr 3 year: 2013
file 1 year: 2013
curr 2 year: 2013
curr 3 year: 2013
file 1 year: 2010
curr 2 year: 2013
curr 3 year: 2013
file 1 year: 2013
curr 2 year: 2013
curr 3 year: 2013
file 1 year: 2011 
```

我有一些旧文件很有用。从表面上看，似乎没有问题。但是，`valgrind`有一个合适的：

```
==50495== Memcheck, a memory error detector
==50495== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==50495== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==50495== Command: ltr 3d.c const-stuff.c ltr.c madump.c pthread-1.c pthread-2.c pthread-3.c recv.c regress.c send.c strandsort.c x.c
==50495== 
==50495== WARNING: Support on MacOS 10.8 is experimental and mostly broken.
==50495== WARNING: Expect incorrect results, assertions and crashes.
==50495== WARNING: In particular, Memcheck on 32-bit programs will fail to
==50495== WARNING: detect any errors associated with heap-allocated data.
==50495== 
==50495== Invalid write of size 4
==50495==    at 0x105C48: timesub (in /usr/lib/system/libsystem_c.dylib)
==50495==    by 0x1058FE: _st_localsub (in /usr/lib/system/libsystem_c.dylib)
==50495==    by 0x10609D: localtime_r (in /usr/lib/system/libsystem_c.dylib)
==50495==    by 0x100000DE8: main (ltr.c:10)
==50495==  Address 0x10001b188 is 0 bytes after a block of size 8 alloc'd
==50495==    at 0x5686: malloc (vg_replace_malloc.c:274)
==50495==    by 0x100000DC3: main (ltr.c:8)
==50495== 
==50495== Invalid write of size 4
==50495==    at 0x105C70: timesub (in /usr/lib/system/libsystem_c.dylib)
==50495==    by 0x1058FE: _st_localsub (in /usr/lib/system/libsystem_c.dylib)
==50495==    by 0x10609D: localtime_r (in /usr/lib/system/libsystem_c.dylib)
==50495==    by 0x100000DE8: main (ltr.c:10)
==50495==  Address 0x10001b198 is 16 bytes after a block of size 8 alloc'd
==50495==    at 0x5686: malloc (vg_replace_malloc.c:274)
==50495==    by 0x100000DC3: main (ltr.c:8)
==50495== 
```

输出以类似的方式持续了很长一段时间。但它突出了麻烦：你应该在调用中使用`sizeof(*cur)`和。这会产生：`sizeof(*file)``malloc()`

```
#include <stdio.h>
#include <stdlib.h>
#include <sys/stat.h>
#include <time.h>

int main(int argc, char **argv)
{
    struct tm *cur = malloc(sizeof(*cur));
    time_t t = time (NULL);
    localtime_r(&t, cur);

    printf("curr 1 year: %d\n", cur->tm_year + 1900);

    for (int itor = 1; itor < argc; itor++)
    {
        struct stat file_stats;
        struct tm *file = malloc(sizeof(*file));
        file->tm_year = 0;
        if (lstat(argv[itor], &file_stats) == 0)
        {
            printf("curr 2 year: %d\n", cur->tm_year + 1900);
            localtime_r(&file_stats.st_mtime, file);
            printf("curr 3 year: %d\n", cur->tm_year + 1900);
            printf("file 1 year: %d\n", file->tm_year + 1900);
        }
    }
    return(0);
} 
```

并`valgrind`给出一个干净的健康账单。

# android - 如何在 Android SDK 中安装开放的 NFC 插件

> ID：15082255
> 
> 赞同：2
> 
> 时间：2013-02-26T05:48:24.517
> 
> 标签：android, add-on, open-nfc

我已经按照[Open NFC Simulator Usage](https://stackoverflow.com/questions/11234263/open-nfc-simulator-usage?lq=1,when)中的步骤下载了 open NFC，但我不完全知道如何在步骤 2 中提到的 Android SDK 中安装 open NFC 插件。我下载的 open NFC 版本是 Delivery_2012- 12-14_android-4.2.1_r1_OpenNFC_4.5.1。Android SDK 版本是 4.2.1。感谢您的帮助，谢谢！

# numbers - Prolog_Numbers 使用 DCG 将英语翻译成法语

> ID：15082256
> 
> 赞同：2
> 
> 时间：2013-02-26T05:48:26.593
> 
> 标签：numbers, prolog, dcg, language-translation

我必须使用 Prolog 的 DCG 形式编写一些代码，将数字从英语翻译成法语（从 1 到 999）。我是否必须写下两条单独的语法规则（一条用于英语，一条用于法语）？在互联网上找到的这段代码可以帮助我吗？ [https://groups.google.com/forum/?fromgroups=#!topic/comp.lang.prolog/ZF8p5cs4q0U](https://groups.google.com/forum/?fromgroups=#!topic/comp.lang.prolog/ZF8p5cs4q0U) 请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:57:41.080

您可以分两步完成（英语到数字，数字到法语），或者您可以尝试直接从英语到法语。两步选项更通用（即让您可以两种方式进行转换，并且您可以轻松扩展它以支持更多语言），并且您已经有一个可用的工作代码（链接主题中的那个），所以我建议遵循这条路线。

请记住，就像 DCG 规则允许您解析某些文本一样，它也允许您生成它。如链接的主题所示：

```
?- phrase(number(N), [one, hundred, and, twenty, seven]).
N = 127

?- phrase(number(127), L).
L = [one, hundred, and, twenty, seven] 
```

如果您将第二部分替换为`phrase(number_fr(127), L)`，使用您实施的规则，您将获得之前解析的数字，用法语表示。

# ios - 如何从 AcceptCallBack 方法中引用类？

> ID：15082260
> 
> 赞同：0
> 
> 时间：2013-02-26T05:49:09.897
> 
> 标签：ios, sockets, asynchronous

我使用了本[教程](http://oreilly.com/iphone/excerpts/iphone-sdk/network-programming.html)中的 AcceptCallBack 方法，它允许我的应用程序从另一台计算机接收文件。当我尝试`self`在 AcceptCallBack 方法中使用时，出现以下错误“使用未声明的标识符'self'”，我想知道是否有任何方法可以`self`用来调用类中的其他方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:04:24.833

`AcceptCallBack`是一个 C 函数，不属于任何类，所以没有`self`指针。但是，有一种方法可以将 void* 传递给函数，它可以是您需要的任何东西；您可以通过这种方式将指针传递给您的`self`对象。

具体来说，函数原型为：

```
void AcceptCallBack(
CFSocketRef socket,
CFSocketCallBackType type,
CFDataRef address,
const void *data,
void *info) 
```

您可能想要`info`指向您的对象。为此，您需要将 info 成员设置`CFSocketContext`为您的`self`指针：

```
struct CFSocketContext {
CFIndex version;
void *info;
CFAllocatorRetainCallBack retain;
CFAllocatorReleaseCallBack release;
CFAllocatorCopyDescriptionCallBack copyDescription;
}; 
```

当您在`CFSocketCreate`. 然后当`AcceptCallBack`被调用时，你想要的指针就会被传递过去。由你来确保这个指针是有效的；如果你`self`被释放，那么指针将无效。

# cocos2d-android - 在 cocos2d android 中使用粒子

> ID：15082261
> 
> 赞同：0
> 
> 时间：2013-02-26T05:49:18.810
> 
> 标签：cocos2d-android, ccparticlesystem

我正在使用 Cocos2D-android 为 android 开发游戏，当我尝试使用[CCQuadParticleSystem](https://github.com/ZhouWeikuan/cocos2d/blob/master/cocos2d-android/src/org/cocos2d/particlesystem/CCQuadParticleSystem.java)类时，CTOR 只返回 null。我花了几个小时寻找这方面的示例或教程，我发现的只是其他人问同样的问题。它只是返回空值。我的资产文件夹中有我的 .plist 文件 - 与 Cocos2D-X 和 IOS 一起工作的同一个文件。根据 github.com 的好人的说法，它应该可以工作，所以我一定是做错了什么，但就像我说的......当我调用 CTOR 时，它只返回 null 有或没有强制转换：

```
CCQuadParticleSystem p1 = (CCQuadParticleSystem) CCQuadParticleSystem.particleWithFile("fire.plist");

CCParticleSystem p2 = CCQuadParticleSystem.particleWithFile("fire.plist"); 
```

请问，有人吗？？？

如果有用，[这](http://www.megafileupload.com/en/file/396356/fire-plist.html)是我正在使用的 .plist 文件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T07:58:21.540

看看这个例子：

[plist的链接](https://github.com/wangtz/HeartBreaker)

您将了解如何处理 plist 文件。

# php - PHP + PayPal IPN + SQLite = 一个神秘的 503 错误？

> ID：15082263
> 
> 赞同：1
> 
> 时间：2013-02-26T05:49:41.997
> 
> 标签：php, sqlite, paypal-ipn, http-status-code-503

我有一个简单的 php Paypal ipn 侦听器，它将原始 POST 数据插入**SQLite (v2)**数据库。它正在工作。然后......它停止工作。（我不记得对其进行了任何更改。）它使用 Paypal 提供的基本 php 示例，该示例使用 CURL 与 Paypal 进行通信（随后是 db insert）。它现在只是给出一个**503 Service Unavailable**错误。如果我注释掉最后一行，它可以工作（减去实际上做任何事情:)），那个简单包含“sqlite_exec（...）”。

或者，**MySQL**插入工作正常。
邮寄结果也有效。

SQLite 数据库显示正常。另一个脚本正常读取和更新。

Web 主机在服务器端看不到任何问题。

任何人都可以理解这一点吗？或者也许有一种方法可以将 POST 数据发送到另一个脚本，以便单独处理它，而不是完全作为一个页面处理？

**更新：**我要插入的是“原始帖子数据”字符串......

```
$raw_post_data = file_get_contents('php://input'); 
```

...如 php 示例代码下的第一行所示：[https](https://www.x.com/developers/PayPal/documentation-tools/code-sample/216623) ://www.x.com/developers/PayPal/documentation-tools/code-sample/216623 。我的脚本是一样的，除了底部有一个插入，基本上看起来像这样：

```
 $dbloc = "/db/ipn.sqlite";
    if($db = sqlite_open("$dbloc", 0666, $sqlite_error)){}else{die ($sqlite_error);}
    $datetime = date("Y-m-d H:i:s");
    $data = $raw_post_data;
    $sql="INSERT INTO Paypal (entrydate,verified,data) values ('$datetime',$verified,'$data')";
    sqlite_exec($sql,$db); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:13:34.417

从什么时候开始出现这个错误？Paypal 最近做了一些 IPN 更改。

请检查此链接：

[https://www.x.com/content/bulletin-ipn-and-pdt-scripts-and-http-1-1](https://www.x.com/content/bulletin-ipn-and-pdt-scripts-and-http-1-1)

[http://www.tipsandtricks-hq.com/forum/topic/paypal-ipn-and-pdt-changes-effective-from-1st-february-2013](http://www.tipsandtricks-hq.com/forum/topic/paypal-ipn-and-pdt-changes-effective-from-1st-february-2013)

请让我们知道您要插入数据库的内容。

# ios - 为什么在复制块之前将 __block 变量移动到堆中？

> ID：15082265
> 
> 赞同：9
> 
> 时间：2013-02-26T05:49:46.513
> 
> 标签：ios, objective-c, objective-c-blocks, heap-memory

我知道`__block`如果一个访问它的块被复制，一个变量将从堆栈移动到堆中。但是下面的测试代码告诉我变量在块复制*之前*`__block`被移动到堆中。

 *也就是说，四个输出是：stack => heap => heap => heap，这不是我预期的结果：stack => stack => stack => heap。

有人可以纠正我吗？

```
__block int x = 0;
int *pointerToX = &x;
//1\. It's on the stack
NSLog(@"x's location is on the stack: %p", &x);
int (^block)() = ^{
    x += 1;
    return x;
};

//2\. I think its stack, but it's heap
NSLog(@"x's location is on the %@: %p", (&x == pointerToX ? @"stack" : @"heap"), &x); //it's heap not stack

block();
//3\. I think its stack, but it's heap
NSLog(@"x's location is on the %@: %p", (&x == pointerToX ? @"stack" : @"heap"), &x); //it's heap not stack

block = [block copy]; // The variable x will be moved to the heap
//4\. I think its stack, but it's heap
NSLog(@"x's location is on the %@: %p", (&x == pointerToX ? @"stack" : @"heap"), &x); //heap 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T07:06:02.550

让我先说：块很奇怪。

现在，当您开始时，您已经声明了一个变量 x，并在它前面加上了`__block`. 到底是什么`__block`鬼？好吧，对于在块的词法范围内捕获的对象，变量被`-retain`'ed 以保证它们在块执行时就在附近。但是对于原始变量，块通过强制它们按`const`值而不是按引用传递来保护它们的值。通过添加`__block`，您可以在复制块时让编译器自由支配您的变量从堆栈“神奇地”移动到堆中。需要明确`__block`的是，变量实际上是堆栈分配的，但是在`malloc()`复制块时它们被移动到堆（'d）。

但是 x 位置的奇怪变化呢？好吧，再回到`__block`过去。因为你没有`const`像普通变量那样使用对 x 的引用，所以块使用了一个（有点烦人的）技巧：一个块创建一个指向任何`__block`变量的指针，如果该变量发生了变异，它就会被取消引用。达达！您的变量没有从堆栈移动到堆，该块只是取消引用指向它的指针并将其移动到内存中！

因此，实际上，您对变量在何处以及何时移动感到困惑。您的示例正在记录正确的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T08:49:21.640

您的预期输出基于您的假设，即直到步骤 3-4 才复制块。但是，Blocks 规范中的任何内容都不能保证会是这种情况。

是的，最迟当您明确调用该块时，该块将被复制`-copy`。但是为什么不能早点复制呢？早点复制一个块永远*不会错。*因此，何时确切地复制一个块是未定义的，您不应该依赖它。

ARC 下的一些最新版本的编译器可能会比较保守，并在创建块后立即复制它。没有什么不妥。同样，如果这样做，那将是一个实现细节，其他编译器或未来版本可能会做一些不同的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T14:04:58.550

我在 In Objective-C with ARC 上问了同样的问题，[当我定义一个块时编译器会做什么？](https://stackoverflow.com/questions/15089775/in-objective-c-with-arc-what-does-compiler-do-when-i-define-a-block)

如果您在 ARC 中运行代码

在 ARC 中，

> 可保留对象所有者类型的块变量通过使用从堆栈副本中移动的结果初始化堆副本而从堆栈中移出。

在[http://clang.llvm.org/docs/AutomaticReferenceCounting.html#blocks](http://clang.llvm.org/docs/AutomaticReferenceCounting.html#blocks)*

# javascript - 清除从服务器加载的扩展，并在 JavaScript 中的 setTimeout 定期间隔后再次加载它？

> ID：15082266
> 
> 赞同：1
> 
> 时间：2013-02-26T05:49:47.467
> 
> 标签：javascript, html, jquery

由于这个问题，我遇到了麻烦。

我想从服务器加载扩展，然后在几毫秒后将其清除并重新加载这些扩展。我想在我的 java 脚本中一次又一次地重复此步骤以更新扩展的状态，无论它是否忙（显示红灯）或免费（绿灯），如聊天框。

我已经通过 Ajax 尝试过，但它无法正常工作，它只加载一次扩展程序及其状态（忙碌或空闲），但在呼叫断开时无法切换状态。如果我再次刷新页面，那么它将其状态从绿色切换为红色，反之亦然诗。

请帮忙

谢谢你 ：）

# mysql - 如何根据另一个数据库中的更改修改一个数据库中的值？

> ID：15082272
> 
> 赞同：0
> 
> 时间：2013-02-26T05:50:21.057
> 
> 标签：mysql, database, steam

我正在运行一个游戏服务器和一个游戏论坛。每个都有自己的数据库。游戏服务器有一个数据库，用于跟踪所有玩家及其商店积分（用于游戏中的化妆品）。然后是跟踪用户、帖子等的论坛数据库。

我的目标是奖励在论坛上发帖的玩家，通过在他们提交每个论坛帖子后奖励他们游戏内的货币。我正在尝试使用这种方法来提高论坛参与度。

我怎样才能让每次用户发帖时，它都会告诉游戏服务器的数据库将一定数量的游戏内货币添加到他们附加的帐户中？

该论坛通过用户的注册 ID 跟踪用户。游戏服务器通过用户 ID 跟踪用户。

感谢所有的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:18:20.910

我假设您没有访问权限或不希望将代码添加到您的论坛安装以实现此目的，那么解决方案可能是使用 MySQL 触发器。您需要用正确的表名等替换，因为您没有发布数据库表结构。

```
CREATE TRIGGER `CreditsSync` AFTER UPDATE ON `F`.Posts
FOR EACH ROW BEGIN
   UPDATE `U`.Users, `F`.Posts SET `U`.Users.credits = `F`.Posts.num WHERE `F`.Posts.userid = `U`.Users.id
END 
```

触发器需要 MySQL 5.5 或更高版本，有关更多信息，请参阅[https://dev.mysql.com/doc/refman/5.5/en/triggers.html](https://dev.mysql.com/doc/refman/5.5/en/triggers.html)。

*编辑*- 注意到您想插入到不同数据库中的不同表中，在上面的 SQL F = 论坛数据库和 U = 用户数据库中 - 您需要将其替换为您的 dbs 和表的正确定位。

# php - 当我显示表中的记录时，有时会在记录中显示此符号。我想明白为什么它有时会来。？我不想要它。Ø

> ID：15082281
> 
> 赞同：0
> 
> 时间：2013-02-26T05:50:58.893
> 
> 标签：php, mysql

此符号 ( � ) 有时会在表格中的数据显示期间显示。我在我的项目中使用了 PHP、MYSQL。

为什么这个符号来了？给我建议或提示。
提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:53:38.937

通常意味着您在某处遇到了字符集不匹配，并且 utf-8 数据显示在非 utf 上下文中，例如 iso-8859。确保管道的每个阶段都是相同的字符集，或者至少与适当的翻译逻辑连接：

> 浏览器 -> 服务器 -> 数据库 -> 数据表 -> 数据库 -> 服务器 -> 浏览器。

任何地方的任何不匹配都会导致文本损坏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:57:50.227

特别是这个来的`special characters`。所以在插入数据库之前对值进行编码。用于`htmlspecialchars()`编码。并在重新解码文本时。用于`htmlspecialchars_decode()`解码。

# c# - 通过 TcpClient (byte[]) 发送包含特殊字符的字符串

> ID：15082285
> 
> 赞同：8
> 
> 时间：2013-02-26T05:51:19.280
> 
> 标签：c#, .net, encoding, tcp, special-characters

我正在尝试通过 TcpClient (byte[]) 发送包含特殊字符的字符串。这是一个例子：

*   客户在文本框中输入“amé”
*   客户端使用某种编码将字符串转换为字节[] *（我已经尝试了所有预定义的以及一些像“iso-8859-1”这样的）*
*   客户端通过 TCP 发送 byte[]
*   服务器接收并输出使用相同编码重新转换的字符串（到列表框）

编辑 ：

我忘了提到结果字符串是“am？”。

Edit-2（根据要求，这里有一些代码）：

@DJKRAZE 这里有一些代码：

```
byte[] buffer = Encoding.ASCII.GetBytes("amé");
(TcpClient)server.Client.Send(buffer); 
```

在服务器端：

```
byte[] buffer = new byte[1024];
Client.Recieve(buffer);
string message = Encoding.ASCII.GetString(buffer);
ListBox1.Items.Add(message); 
```

出现在列表框中的字符串是“am?”

=== 解决方案 ===

```
Encoding encoding = Encoding.GetEncoding("iso-8859-1");
byte[] message = encoding.GetBytes("babé"); 
```

更新：

简单地使用`Encoding.Utf8.GetBytes("ééé");`就像魅力一样。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-09-09T02:53:59.753

回答我认为的问题永远不会太晚，希望有人能在这里找到答案。

C# 使用 16 位字符，而 ASCII 将它们截断为 8 位，以适应一个字节。经过一番研究，我发现 UTF-8 是特殊字符的最佳编码。

```
//data to send via TCP or any stream/file
byte[] string_to_send = UTF8Encoding.UTF8.GetBytes("amé");

//when receiving, pass the array in this to get the string back
string received_string = UTF8Encoding.UTF8.GetString(message_to_send); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T06:49:33.440

您的问题似乎是`Encoding.ASCII.GetBytes("amé");`and`Encoding.ASCII.GetString(buffer);`调用，正如他的评论中的“500 - Internal Server Error”所暗示的那样。

该`é`字符是一个多字节字符，以 UTF-8 编码，字节序列为`C3 A9`。当您使用`Encoding.ASCII`该类进行编码和解码时，该`é`字符将转换为问号，因为它没有直接的 ASCII 编码。这适用于任何在 ASCII 中没有直接编码的字符。

更改要使用的代码`Encoding.UTF8.GetBytes()`，`Encoding.UTF8.GetString()`它应该适合您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:25:41.727

你的问题和你的错误对我来说不是很清楚，但使用`Base64String`可能会解决问题
像这样

```
static public string EncodeTo64(string toEncode)
    {
      byte[] toEncodeAsBytes
            = System.Text.ASCIIEncoding.ASCII.GetBytes(toEncode);
      string returnValue
            = System.Convert.ToBase64String(toEncodeAsBytes);
      return returnValue;
    }

static public string DecodeFrom64(string encodedData)
    {
      byte[] encodedDataAsBytes
          = System.Convert.FromBase64String(encodedData);
      string returnValue =
         System.Text.ASCIIEncoding.ASCII.GetString(encodedDataAsBytes);
      return returnValue;
    } 
```

# java - 在大型数据集上使用 GATE 时出现 OOM

> ID：15082298
> 
> 赞同：0
> 
> 时间：2013-02-26T05:52:05.410
> 
> 标签：java, nlp, gate

我对 NLP 很陌生，并且正在使用 GATE。如果我为大型数据集（包含 7K+ 记录）运行我的代码，我会收到 OOM 异常。下面是发生异常的代码。

```
 /**
 * Run ANNIE
 * 
 * @param controller
 * @throws GateException
 */
public void execute(SerialAnalyserController controller)
        throws GateException {
    TestLogger.info("Running ANNIE...");
    controller.execute();     /**** GateProcessor.java:217 ***/

    // controller.cleanup();
    TestLogger.info("...ANNIE complete");
} 
```

这是日志：

```
 Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
at java.util.HashMap.addEntry(Unknown Source)
at java.util.HashMap.put(Unknown Source)
at java.util.HashMap.putAll(Unknown Source)
at gate.annotation.AnnotationSetImpl.<init>(AnnotationSetImpl.java:111)
at gate.jape.SinglePhaseTransducer.attemptAdvance(SinglePhaseTransducer.java:448)
at gate.jape.SinglePhaseTransducer.transduce(SinglePhaseTransducer.java:287)
at gate.jape.MultiPhaseTransducer.transduce(MultiPhaseTransducer.java:168)
at gate.jape.Batch.transduce(Batch.java:352)
at gate.creole.Transducer.execute(Transducer.java:116)
at gate.creole.SerialController.runComponent(SerialController.java:177)
at gate.creole.SerialController.executeImpl(SerialController.java:136)
at gate.creole.SerialAnalyserController.executeImpl(SerialAnalyserController.java:67)
at gate.creole.AbstractController.execute(AbstractController.java:42)
at in.co.test.GateProcessor.execute(GateProcessor.java:217) 
```

我想知道执行功能到底发生了什么以及如何解决它。谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-04T10:46:37.947

在 GATE 中处理大型（或许多）文档可能需要大量内存，GATE 需要大量空间来存储注释。另一方面，各种处理资源也需要大量内存：地名词典、基于统计模型的标记器等。

Gate 开发人员 GUI 中的一个技巧是将文档语料库存储在数据存储中，然后仅加载语料库并运行管道。GATE 足够聪明，可以一次加载一个文档，对其进行处理，然后在打开下一个文档之前保存并关闭它。（您可以先将一个空的语料库存储在数据存储中，然后从文件夹中“填充”它，这将再次一个一个地加载文档而不会浪费内存。）

这正是您应该在代码中执行的操作、打开文档、处理、保存和关闭，然后再打开下一个。如果您有一个大文档，则应将其拆分（以不会破坏您的注释性能的方式）。

这是来自[“Advanced GATE Embedded”模块](http://gate.ac.uk/conferences/training-modules.html#track2)的代码示例：

```
// for each piece of text:

Document doc = (Document)Factory.createResource("gate.corpora.DocumentImpl",
              Utils.featureMap("stringContent", text, "mimeType", mime));
Corpus corpus = Factory.newCorpus("webapp corpus");
try {
  corpus.add(doc);
  application.execute();
  ...
finally {
  corpus.clear();
  Factory.deleteResource(doc);
} 
```

# r - 如何识别 R 中时间序列数据的最大波动？

> ID：15082302
> 
> 赞同：1
> 
> 时间：2013-02-26T05:52:51.043
> 
> 标签：r

我有特定时间段的时间序列数据。例如：

```
Time                           Volume
2012-10-01 10:30:01             4567
2012-10-01 10:30:02             1235
2012-10-01 10:30:03             3645
..........   .....              .....

2012-10-01 10:30:49              4646894 
```

我想确定给定时间序列数据的最大波动是：2012-10-01 10:30:49。谁能帮我吗。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:01:01.360

我将“最大波动”解释为变化。如果这不正确，请告诉我。以下是一些不同的 optinos。*`tsDat`将是你的名字`data.frame`*

```
# Greatest increase in volume
diffs <- c(0, diff(tsDat$Volume))
tsDat[diffs == max(diffs), ]

# Greatest absolute increase in volume
diffs <- c(0, abs(diff(tsDat$Volume)))
tsDat[diffs == max(diffs), ]

# Greatest volumne
tsDat[tsDat$Volume==max(tsDat$Volume), ] 
```

* * *

使用数据表：

```
library(data.table)
myDT <- data.table(tsDat, key="Volume")

myDT[.(max(Volume)), Time] 
```

# php - 使用 MySql 和 PHP 的 html 页面的验证和数据库连接

> ID：15082303
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:52:54.947
> 
> 标签：php, html, mysql

这是我创建一个简单的登录页面的代码，该页面具有用户名、密码、确认密码和一个身份识别`select`选项：-

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Sign up</title>
<style type="text/css">
    div#registration
    {
        text-align:center;
        margin-left:auto;
        margin-right:auto;
        width:40%;
        border:solid 2px green;
    }
</style>

</head>

<body>
<h1> Sign Up! </h1>
<h2> Enter username and password. Dont forget to recognize yourself </h2>

<?php

        $mysqli = new mysqli("localhost", "root", "", "signup");
        if($mysqli===false)
        {
            die("ERROR: Could not connect to database." .mysqli_connect_error());
        }

        if(isset($_POST['submit']))
        {

            echo'<div id="message">';

            $inputError = false;
            if(empty($_POST['username'] ))
            {
                echo 'ERROR: Please enter a valid user name';
                $inputError = true;
            }
            else
            {
                $username= $mysqli->escape_string($_POST['username']);
            }

            if($inputError != true && empty($_POST['password'] ))
            {
                echo 'ERROR: Please enter valid password';
                $inputError = true;
            }
            else
            {
                $password= $mysqli->escape_string($_POST['password']);
            }

            $inputError = false;
            if(empty($_POST['cfmpassword'] ))
            {
                echo 'ERROR: empty field';
                $inputError = true;
            }
            else if($_POST['password'] != $_POST['cfmpassword'])
            {
                echo 'ERROR: passwords does not match';
            }
            else
            {
                $cfmpassword = $mysqli->escape_string($_POST['cfmpassword']);
            }

        if($inputError != true && empty($_POST['desig'] ))
        {
            echo 'ERROR: Please enter valid password ';
            $inputError = true;
        }
        else
        {
            $desig= $mysqli->escape_string($_POST['desig']);
        }

        if ($inputError !=true)
        {
                $sql= "INSERT INTO database (Username, password, confirm password, Designation) VALUES ('$username','$password','$cfmpassword','$desig')";

                if ($mysqli->query($sql) === true)
                {
                    echo 'new record added with ID:' . $mysqli->insert_id;
                }
                else
                {
                    echo "ERROR: Could not execute query: $sql." .$mysqli->error;
                }
        }
        echo '</div>';

        $mysqli->close();
    }
?>

<form action="signup.php" method="post">

Username:
<input type="text" size="20" name="username" />
<p/>

Password:
<input type="password" size="20" name="password" />
<p/>

Confirm Password:
<input type="password" size="20" name="cfmpassword" />
<p/>

Identify yourselves:
<select name="desig">

<option name="admin">Admin</option>
<option name="Faculty">Faculty</option>
<option name="Student">Student</option>
</select>
<p/>

<input type="submit" name="submit" value="Submit" />

</form>

</body>
</html> 
```

这是我更新的代码，验证现在完全正常，但我收到一个错误。这是我收到的错误。这段代码中可能出现的错误是什么？

```
ERROR: Could not execute query: INSERT INTO database (Username, password, confirm password, Designation) VALUES ('suhas','99','99','Admin').You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'database (Username, password, confirm password, Designation) VALUES ('suhas','99' at line 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:08:26.030

在你的条件下

```
'$inputError = false' 
```

应该

`'$inputError == false'`

只是少了一个`'='`

# iphone - 检测作为 UIScrollView 的子视图添加的 UIImage 的触摸

> ID：15082309
> 
> 赞同：2
> 
> 时间：2013-02-26T05:53:15.103
> 
> 标签：iphone, ios, uiscrollview, uitouch

我有`UIScrollView`很多`UIImageViews`。我需要将图像从另一个视图拖放`UIScrollView`到另一个视图中。在scrollView touch 之外工作。但是在滚动视图内部触摸不起作用。我使用`touchesBegan`了`touchesMoved`等方法。请帮我。

```
-(IBAction)selectBut:(id)sender
{

 scrollView = [[UIScrollView alloc]initWithFrame:CGRectMake(x,y,w,h)];

 scrollView.userInteractionEnabled = YES;

 int y = 0;

 for (int i = 0; i < [myArray count]; i++) {

UIImageView *image = [[UIImageView alloc]initWithFrame:CGRectMake(0, y, 75, 30)];

 image.userInteractionEnabled = YES;

  y=y+35;

 [scrollView addSubview:image];

}

[self.view addSubview:scrollView];

[scrollView setContentSize:CGSizeMake(150, 300)]

}

-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event

{

   UITouch *touch = [touches anyObject];

    if ([touch tapCount] == 1) {

        NSLog(@"One touch !!");
    }

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T06:03:21.463

您需要`UIImageView`使用**继承**自`UIImageView`. 在该自定义子类中提供触摸方法并将其添加到您的`UIScrollView`..

的子视图`UIScrollview`永远不会`touchesBegan`直接调用方法。您需要使用子视图进行自定义以获取`touchesBegan`添加的子视图/自定义视图的属性。

我的意思是说像 ImageView 的子类

```
CustomImageView *imageView = [[CustomImageView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];
[imageView setUserInteractionEnabled:YES];
[scrollView addSubview:imageView];
[imageView release]; 
```

`CustomImageView`类应该从 UIImageView 继承

```
 @interface CustomImageView : UIImageView
  {
  } 
```

在 # .m 文件中

```
 #import "CustomImageView.h"

@implementation CustomImageView

    - (id)initWithFrame:(CGRect)frame
   {
self = [super initWithFrame:frame];
if (self) {

}
return self;
}

    - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
      NSLog(@"%s", __FUNCTION__);

     }

    - (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {

    }

    - (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event {

    UITouch *touch = [touches anyObject];

      if ([touch tapCount] == 2) {
    drawImageView.image = nil;
    return;
    }

     } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T06:00:52.917

将 Tap 手势识别器添加到滚动视图以启用滚动视图内的触摸：

```
UITapGestureRecognizer *singlTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(methodName:)];
singlTap.cancelsTouchesInView = NO; //Default value for cancelsTouchesInView is YES, which will prevent buttons to be clicked
[scrollViewName addGestureRecognizer:singlTap]; 
```

然后以指定的方法编写您的代码。

```
-(void)methodName:(UITapGestureRecognizer *)gesture
{
     //your code here
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-26T06:03:47.127

我不知道这是否对你有帮助。但是尝试将 的`exclusiveTouch`属性设置`UIImageView`为`YES`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:15:18.240

您是否将滚动视图添加为 IBOutlet？如果它来自 xib 并且正如你所说的触摸在滚动之外而不是内部可用，我猜你可能不小心取消了禁止触摸事件的滚动视图的**userInteractionEnabled**。并且您已将 UIImageViews 作为子视图添加到 UIScrollView。对于 UIImageView，您必须首先将**userInteractionEnabled**设置为**YES**，然后在必要时添加任何手势以获取事件或使用**touchesBegan、touchesMoved**方法。除非您设置启用交互，否则您不会在 UIImageView 上收到触摸事件。如果父视图我的意思是 UIScrollView 的交互被禁用，你也不会接触 UIImageView。希望这可以帮助 ：）

# android - 在带有复选框的列表视图中选择的项目

> ID：15082310
> 
> 赞同：0
> 
> 时间：2013-02-26T05:53:16.597
> 
> 标签：android, listview, onitemclicklistener

如何使用复选框在我的列表视图中获取所选项目，我搜索此问题的答案，但没有什么足够清楚让我理解

这是我的列表视图

```
public void laptopTab() {
        List<String> listDisplay = new ArrayList<String>();
        for (int counter = 0 ; counter<laptopFilter.length;counter ++) {
            listDisplay.add(laptopFilter[counter]);
        }
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, R.layout.filter_listview, 
                R.id.filter_name,listDisplay);

        laptopLV = (ListView) findViewById(R.id.laptopLV);
        laptopLV .setAdapter(adapter);
        laptopLV.setOnItemClickListener(this);
    } 
```

这是我的 onItemClickListener 代码

```
public void onItemClick(AdapterView<?> arg0, View v, int position ,
            long id) {
        // TODO Auto-generated method stub
        if (v != null) {
            cb = (CheckBox)v.findViewById( R.id.cb ); 
            cb.setChecked(!cb.isChecked());
        }
        switch (th.getCurrentTab()) {
        case 0:
            if(cb.isChecked()){
                th.getTabWidget().getChildTabViewAt(1).setEnabled(false);
                th.getTabWidget().getChildTabViewAt(2).setEnabled(false);
                selectedFromLaptopList.add(laptopLV.getItemAtPosition(position).toString());
            }

            else {
                th.getTabWidget().getChildTabViewAt(1).setEnabled(true);
                th.getTabWidget().getChildTabViewAt(2).setEnabled(true);
            }
            break;
        case 1:
            if(cb.isChecked()){
                th.getTabWidget().getChildTabViewAt(0).setEnabled(false);
                th.getTabWidget().getChildTabViewAt(2).setEnabled(false);
                selectedFromMp3List.add(mp3LV.getItemAtPosition(position).toString());
            } else {
                th.getTabWidget().getChildTabViewAt(0).setEnabled(true);
                th.getTabWidget().getChildTabViewAt(2).setEnabled(true);
            }
            break;
        case 2:
            if(cb.isChecked()){
                th.getTabWidget().getChildTabViewAt(0).setEnabled(false);
                th.getTabWidget().getChildTabViewAt(1).setEnabled(false);
                selectedFromMobileList.add(mobileLV.getItemAtPosition(position).toString());
            } else {
                th.getTabWidget().getChildTabViewAt(0).setEnabled(true);
                th.getTabWidget().getChildTabViewAt(1).setEnabled(true);
            }
        default:
            break;
        }
    } 
```

我在选项卡主机中有一个列表视图，所以如果在当前选项卡上选择了一个复选框，我只需要禁用另一个选项卡

我有一个按钮。我想知道在列表视图中选择的所有项目

请帮助我，并提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:19:42.250

[您可以使用链接android listactivity onCheckedChangeListener](https://stackoverflow.com/questions/12051813/android-listactivity-oncheckedchangelistener/12052585#12052585)中提到的代码或答案，还可以使用`mListview.getCheckedItemPositions()`

# ruby-on-rails - 如何在 RoR ActiveRecord 中编写具有多个 JOIN 和 OR 的 MYSQL 查询？

> ID：15082312
> 
> 赞同：0
> 
> 时间：2013-02-26T05:53:22.870
> 
> 标签：ruby-on-rails, activerecord

```
rails --version
2.3.16
ruby --version
1.8.7 
```

楷模：

```
class AToB
    belongs_to :a
    belongs_to :b
    default_scope :include => [:a, :b]
end
class A
    has_many :a_to_bs
    has_many :bs, :through => :a_to_bs
    named_scope :twos, :conditions => { :var => 2 }
    named_scope :buzzed, :conditions => { :fizz => ['buzz'] }
end
class B
    has_many :a_to_bs
    has_many :as, :through => :a_to_bs
end 
```

MYSQL查询：

```
SELECT COUNT(DISTINCT a.id), COUNT(DISTINCT c.id)
FROM a_to_b
INNER JOIN a on a.id = a_to_b.a_id
INNER JOIN b on b.id = a_to_b.b_id
WHERE (a.var = 2 AND a.fizz in ('buzz') AND
       (b.foo = TRUE OR b.bar = TRUE OR (b.moo = TRUE AND a_to_b.goo = FALSE))
      ) 
```

也需要这种变化

```
SELECT COUNT(DISTINCT a.id), COUNT(DISTINCT c.id)
FROM a_to_b
INNER JOIN a on a.id = a_to_b.a_id
INNER JOIN b on b.id = a_to_b.b_id
WHERE (a.var = 2 AND a.fizz in ('buzz') AND
       NOT (b.foo = TRUE OR b.bar = TRUE OR (b.moo = TRUE AND a_to_b.goo = FALSE))
      ) 
```

我已经用谷歌搜索了无数更简单的例子，阅读[rails docs](http://guides.rubyonrails.org/v2.3.8/active_record_querying.html#sum)等都无济于事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:29:36.600

让我试着回答这个问题。例如，您的模型在 Rails 中如下所示：

```
#a.rb
class A < ActiveRecord::Base 
  attr_accessible :var, :fizz
  has_many :a_to_bs
end

#b.rb
class B < ActiveRecord::Base
  attr_accessible :foo, :bar, :moo
  has_many :a_to_bs
end

#a_to_b.rb
class AToB < ActiveRecord::Base
  attr_accessible :goo, :a_id, :b_id, :a, :b
  belongs_to :a
  belongs_to :b
end 
```

第一个的典型查询是：

```
records = AToB.where("a.var = ? AND a.fizz in (?) AND (b.foo = ? OR b.bar = ? OR 
          (b.moo = ? AND a_to_b.goo = ?))", 2, 'buzz', true, true, true, false) 
```

对于第二个，它将是：

```
records = AToB.where("a.var = ? AND a.fizz in (?) AND NOT (b.foo = ? OR b.bar = ? OR
         (b.moo = ? AND a_to_b.goo = ?))", 2, 'buzz', true, true, true, false) 
```

假设您提到的查询是正确的，答案是正确的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:40:11.557

这有点工作：

```
scope = A.twos.buzzed
scope.count(:joins => { :b => :a_to_b }, :conditions => "b.foo = TRUE OR b.bar = TRUE OR (b.moo = TRUE AND a_to_b.goo = FALSE)") 
```

在我确定之前要再测试一下。

# javascript - javascript call() 函数这个上下文

> ID：15082314
> 
> 赞同：0
> 
> 时间：2013-02-26T05:53:34.070
> 
> 标签：javascript

在下面的代码中，

```
var toString = Object.prototype.toString;

toString.call(new Date); // [object Date]
toString.call(new String); // [object String]
toString.call(Math); // [object Math] 
```

在调用中，当前对象像 ( `toString.call(new Date)`) 一样传递，但是在这里的接收端 `var toString = Object.prototype.toString;`不是使用`this`关键字，而是使用`Object`关键字，但仍然得到正确的答案我不理解这个概念。任何人请帮助我理解这个概念

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:00:22.617

[`.call`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/call)使用提供的上下文执行函数。将'函数`var toString = Object.prototype.toString`传递给变量.. 我想是为了方便访问。`Object``toString`

然后，您可以使用提供的上下文`toString.call([new context here])`调用对象的方法。`toString`如您所见，这将打印`[object OBJECTNAME]`为字符串。

`Object`与`toString`其他一些不同。例如：

```
(new Date).toString(); // "Tue Feb 26 2013 01:00:17 GMT-0500 (EST)"
(new String).toString(); // '' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:02:29.677

我不确定我是否理解你的问题。但是这里。

`var toString = Object.prototype.toString;`

在这一行中，您正在阅读 Object 的“prototype”属性并阅读原型的“toString”属性。toString 属性是一个函数。您将其存储在变量中。

现在，当您这样做时：`toString.call(new Date);`，您从上面获取该函数并将其应用于“new Date”返回的对象（即`this`toString 中代码的上下文成为“new Date”返回的对象）

您可以将其视为复制属于某个对象的方法并将其应用于另一个对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:04:35.457

您首先需要了解如何`this`根据调用函数的方式更改值。

首先，我们有成员函数。`Object.prototype.toString`是 的成员函数`Object.prototype`。您可以将其简单地想象为：

```
Object.prototype = {
    toString: function() {} // is responsible for converting an object to it's string representation
}; 
```

当调用成员函数时，上下文`this`引用父对象（的实例`Object`）。随着内置 JS 对象的扩展`Object`，它们都可以使用`.toString()`不同的结果：

```
(new Object).toString(); // [object Object]
(new String).toString(); // [object String] 
```

它有助于想象 的内部运作`.toString()`，你会想象它可能会做类似的事情：

```
// ..
return '[object '+ this.constructor.name + ']';
// .. 
```

希望您现在可以想象更改`this`函数中的值将如何更改正在检查的对象。

当您`Object.prototype.toString`通过 .call() 调用时，您可以传递一个新值用作`this`：

```
Object.prototype.toString.call(new Date); // [object Date] 
```

`this`我强烈推荐阅读 Yehuda Katz 对调用函数时影响值的 3 种方式的简单解释：

[http://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/](http://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/)

# javascript - 如何从 twitter bootstrap 将活动类设置为导航菜单

> ID：15082316
> 
> 赞同：30
> 
> 时间：2013-02-26T05:53:44.437
> 
> 标签：javascript, jquery, css, twitter-bootstrap, menu

我是**twitter 引导程序**的新手。使用那里的**导航菜单**。我正在尝试将活动类设置为选定的菜单。我的菜单是——

```
<div class="nav-collapse">
  <ul class="nav">
    <li id="home" class="active"><a href="~/Home/Index">Home</a></li>
    <li><a href="#">Project</a></li>
    <li><a href="#">Customer</a></li>
    <li><a href="#">Staff</a></li>
    <li  id="broker"><a href="~/Home/Broker">Broker</a></li>
    <li><a href="#">Sale</a></li>
  </ul>
</div> 
```

我在谷歌上搜索后尝试了以下事情，我必须从菜单中的每个页面上设置活动类，例如 -

```
<script>
  $(document).ready(function () {
    $('#home').addClass('active');
  });
</script> 
```

但上面的问题是我默认选择了主菜单。然后它总是被选中。**有没有其他方法可以做到这一点？，或者我可以概括并将我的js保留在布局文件本身中？**

执行应用程序后，我的菜单看起来 - ![在此处输入图像描述](../Images/c9384cfcc5472598fca32ee00f5f8533.png)

单击其他菜单项后，我得到以下结果- ![在此处输入图像描述](../Images/336767ac77e765034b863f00811e67e4.png)

我在索引视图和经纪人视图上添加了以下脚本 ---

```
<script>
  $(document).ready(function () {
    $('#home').addClass('active');
  });
</script>

<script>
  $(document).ready(function () {
    $('#broker').addClass('active');
  });
</script> 
```

分别。

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2014-09-07T00:16:05.183

您可以使用以下`JavaScript\jQuery`代码：

```
// Sets active link in Bootstrap menu
// Add this code in a central place used\shared by all pages
// like your _Layout.cshtml in ASP.NET MVC for example
$('a[href="' + this.location.pathname + '"]').parents('li,ul').addClass('active'); 
```

它会将`<a>`' 的父级`<li>`和`<li>`' 的父级设置`<ul>`为活动的。

一个简单有效的解决方案！

* * *

原始来源：

[Bootstrap 将活动类添加到 li](http://totalprogus.blogspot.com.br/2013/12/bootstrap-add-active-class-to-li.html)

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2013-02-26T06:36:34.820

这是一种解决方法。尝试

```
<div class="nav-collapse">
  <ul class="nav">
    <li id="home" class="active"><a href="~/Home/Index">Home</a></li>
    <li><a href="#">Project</a></li>
    <li><a href="#">Customer</a></li>
    <li><a href="#">Staff</a></li>
    <li  id="demo"><a href="~/Home/demo">Broker</a></li>
    <li id='sale'><a href="#">Sale</a></li>
  </ul>
</div> 
```

并在每个页面上添加 js

```
$(document).ready(function () {
  $(".nav li").removeClass("active");//this will remove the active class from  
                                     //previously active menu item 
  $('#home').addClass('active');
  //for demo
  //$('#demo').addClass('active');
  //for sale 
  //$('#sale').addClass('active');
}); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-11-27T23:59:06.157

我有同样的问题......通过将下面显示的代码添加到我的“functions.js”文件的“$（document）.ready”部分来解决它，该文件包含在每个页脚中。这很简单。它获取显示页面的完整当前 URL，并将其与完整的锚点 href URL 进行比较。如果它们相同，则将锚 (li) 父级设置为活动。并且仅当锚点 href 值不是“#”时才这样做，那么引导程序将解决它。

```
$(document).ready(function () {         
    $(function(){
        var current_page_URL = location.href;

        $( "a" ).each(function() {

            if ($(this).attr("href") !== "#") {

                var target_URL = $(this).prop("href");

                    if (target_URL == current_page_URL) {
                        $('nav a').parents('li, ul').removeClass('active');
                        $(this).parent('li').addClass('active');

                        return false;
                    }
            }
        }); }); }); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-02-04T23:44:08.270

对于菜单项直接跳到页面其他部分的单页网站，这个简单的解决方案对我有用：

```
$('.nav li').on('click', function(){
    $('.nav li').removeClass('active');
    $(this).addClass('active');
  }); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-26T15:28:38.037

您可以在每个页面上的 BODY 标记上添加一个不同的类，例如在主页上，您可以这样：

```
<body class="nav-1-on"> 
```

然后这个CSS：

```
.nav-1-on .nav-1 a, .nav-2-on .nav-2 a, .nav-3-on .nav-3 a, .nav-4-on .nav-4 a {
     // set your styles here
} 
```

资产净值要素：

```
<ul>
  <li class="nav-1"><a href="#">Home</a></li>
  <li class="nav-2"><a href="#">Services</a></li>
  <li class="nav-3"><a href="#">About</a></li>
  <li class="nav-4"><a href="#">Contact</a></li>
</ul> 
```

#

或者，您可以在每个页面的 BODY 上放置一个类，然后通过 jQuery 抓取该类，并将 .active 类添加到基于该标签的正确导航项中。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-07-13T16:11:52.233

```
<div class="nav-collapse">
                <ul class="nav">
                    <li class="home"><a href="~/Home/Index">Home</a></li>
                    <li class="Project"><a href="#">Project</a></li>
                    <li class="Customer"><a href="#">Customer</a></li>
                    <li class="Staff"><a href="#">Staff</a></li>
                    <li class="Broker"><a href="~/Home/Broker">Broker</a></li>
                    <li class="Sale"><a href="#">Sale</a></li>
                </ul>
</div> 
```

然后为每个页面添加以下内容：

//家

```
 $(document).ready(function () {
        $('.home').addClass('active');
    }); 
```

//项目页面

```
$(document).ready(function () {
            $('.Project').addClass('active');
        }); 
```

//客户页面

```
 $(document).ready(function () {
                $('.Customer').addClass('active');
            }); 
```

//员工页面

```
 $(document).ready(function () {
                $('.Staff').addClass('active');
            }); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-08-16T17:32:14.500

```
<div class="nav-collapse">
                <ul class="nav">
                    <li class="home"><a href="~/Home/Index">Home</a></li>
                    <li class="Project"><a href="#">Project</a></li>
                    <li class="Customer"><a href="#">Customer</a></li>
                    <li class="Staff"><a href="#">Staff</a></li>
                    <li class="Broker"><a href="~/Home/Broker">Broker</a></li>
                    <li class="Sale"><a href="#">Sale</a></li>
                </ul>
</div>

$('ul.nav>li.home>a').click();  // first. same to all the other options changing the li class name 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-06-18T04:38:08.700

对于单页网站，以下是我使用的。它不仅根据点击的内容设置活动元素，而且还在初始页面加载时检查 URL 位置内的哈希值。

```
$(document).ready(function () {

    var removeActive = function() {
        $( "nav a" ).parents( "li, ul" ).removeClass("active");
    };

    $( ".nav li" ).click(function() {
        removeActive();
        $(this).addClass( "active" );
    });

    removeActive();
    $( "a[href='" + location.hash + "']" ).parent( "li" ).addClass( "active" );

}); 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-10-22T03:57:29.113

对于使用 Codeigniter 的用户，请将其添加到侧边栏菜单下方，

```
<script>
    $(document).ready(function () {
        $(".nav li").removeClass("active");
        var currentUrl = "<?php  echo current_url();  ?>";
        $('a[href="' + currentUrl + '"]').parents('li,ul').addClass('active');
    });
</script> 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-06-18T01:39:35.970

```
(function (window) {
bs3Utils = {}
bs3Utils.nav = {
    activeTab: function (tabId) {
        /// <summary>
        /// 设置需要展现的tab
        /// </summary>
        /// <param name="tabId"></param>
        $('.nav-tabs a[href="#' + tabId + '"]').tab('show');
    }
}
window.bs3Utils = bs3Utils;
})(window); 
```

例子：

```
var _actvieTab = _type == '0' ? 'portlet_tab2_1' : 'portlet_tab2_2';
            bs3Utils.nav.activeTab(_actvieTab);
                        <ul class="nav nav-tabs">
                        <li class="active">
                            <a href="#portlet_tab2_1" data-toggle="tab">箱-单灯节点 </a>
                        </li>
                        <li>
                            <a href="#portlet_tab2_2" data-toggle="tab">箱-灯组节点 </a>
                        </li>

                    </ul> 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-08-05T11:10:58.537

```
$( ".nav li" ).click(function() {
        $('.nav li').removeClass('active');
        $(this).addClass('active');
    }); 
```

看一下这个。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-07-16T14:11:12.363

我正在使用 Flask Bootstrap。我的解决方案稍微简单一些，因为我的模板已经从 Flask 接收到选项或选项作为参数。

```
var choice = document.getElementById("{{ item_kind }}");
choice.className += "active";
```

第一行，js 代码获取元素。因此，您应该使用 id 标识每个元素。我将在下面展示一个示例。第二行，添加活动类。您可以在下面看到 html id。

```
<div class="navbar-collapse collapse">
    <ul class="nav navbar-nav"> 
        <li>
            <a id="speed" href="{{ url_for('list_gold_per_item',item_kind='speed',level='2') }}">
                <h2>Speed</h2>
            </a>
        </li>
        <li>
            <a id="life" href="{{ url_for('list_gold_per_item',item_kind='life',level='3') }}">
                <h2>Life</h2>
            </a>
        </li>
    </ul>
</div>
```

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2015-10-06T08:16:08.333

我刚刚在名为 ul 的部分中添加了一个自定义类`target-active`

```
<ul class="nav navbar-nav target-active">
    <li><a href="/">HOME</a></li>
    <li><a href="find-truck">FIND A TRUCK</a></li>
    <li><a href="our-service">OUR SERVICES</a></li>
    <li><a href="about-us">ABOUT US</a></li>
</ul> 
```

> 如果每个 li 标签点击从不同的地方或相同的地方获取新页面，则无需添加 jquery removeClass 功能。

将简单的一行 jquery 代码添加到每个页面以获得您想要的结果

## 第一个链接页面

```
$(function(){
    $(".target-active").find("[href='/']").parent().addClass("active");
}); 
```

## 第二个链接页面

```
$(function(){
    $(".target-active").find("[href=find-truck]").parent().addClass("active");
}); 
```

## 第三个链接页面

```
$(function(){
    $(".target-active").find("[href=our-service]").parent().addClass("active");
}); 
```

## 第4个链接页面

```
$(function(){
    $(".target-active").find("[href=about-us]").parent().addClass("active");
}); 
```

# kendo-ui - 如何使用基于 Web 服务的 KendoUI 创建条形图

> ID：15082317
> 
> 赞同：1
> 
> 时间：2013-02-26T05:53:45.623
> 
> 标签：kendo-ui

我是 KendoUI 的初学者。我想在我的移动应用程序中使用 Kendo UI 显示条形图（基于 Phone Gap）。此条形图的数据应来自 Web 服务。此 Web 服务以 JSON 对象的形式返回数据，该对象具有 X 和 Y 坐标的 JSON 数组。

我试过这个

```
$("#chart").kendoChart({
    dataSource: {
        transport: {
            read: {
                url: " some URL ",
                dataType: "json"
            }
        },
        sort: {
            field: "year",
            dir: "asc"
        }
    }
}); 
```

任何帮助都会非常有用。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:58:33.647

ASP.Net Web API 将是您创建返回 JSON 的 HTTP 服务的最佳伙伴。查看本教程：[http ://docs.kendoui.c​​om/tutorials/ASP.NET/asp-net-hello-services](http://docs.kendoui.com/tutorials/ASP.NET/asp-net-hello-services)

# javascript - 覆盖 WebForm_OnSubmit

> ID：15082319
> 
> 赞同：0
> 
> 时间：2013-02-26T05:54:04.123
> 
> 标签：javascript, asp.net, validation

我需要在验证摘要中显示验证消息，并在单独的弹出窗口中显示它们。为了做到这一点，我正在考虑覆盖 WebForm_OnSumbit 方法。

```
function WebForm_OnSubmit() {
      if (typeof (ValidatorOnSubmit) == "function" && ValidatorOnSubmit() == false) {
         showErrorPopup();
         return false;
      }
    return true;
   }

   function showErrorPopup()
   {
     //Get the validation message text and append it to error popup div.
   } 
```

这样做是否可取？还是有其他方法可以实现它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T16:38:12.757

该`ValidationSummary`控件有两个属性会影响验证消息的显示方式。

`ShowSummary`控制消息是否内联显示，作为错误列表。

`ShowMessageBox`控制是否显示浏览器消息框以显示错误列表。

这些不是相互排斥的。如果将两者都设置为 True，您将同时获得内联摘要和消息框。无需编写额外的代码。

现在，这假设您对浏览器消息框感到满意。如果您不是，如果您想使用 jQuery 样式的对话框，那将更具挑战性。

# python - 是否可以从 Python 中的内置函数类进行扩展？

> ID：15082320
> 
> 赞同：4
> 
> 时间：2013-02-26T05:54:05.273
> 
> 标签：python, oop

由于一切都是 Python 中的对象（甚至是函数），是否可以从函数类实际扩展？例如，我可以使用字符串类型执行以下操作。有没有办法在函数类型上做类似的事情？

```
class Foo(str):
    def appendFoo(self):
        return self+'foo'

foo = Foo('test')
print foo
>>> test
print foo.upper()
>>> TEST
print foo.appendFoo()
>>> testfoo 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:58:06.603

不，我希望。你被函子困住了。

```
>>> def f(): pass
...
>>> type(f)
<type 'function'>
>>> function
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'function' is not defined
>>> function = type(f)
>>> class MyFunc(function):
...     pass
...
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: Error when calling the metaclass bases
    type 'function' is not an acceptable base type
>>> type('MyFunc', (function,), {})
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: type 'function' is not an acceptable base type 
```

# iphone - 如何实现 4 个圆形矩形按钮，其行为类似于标签栏项目？

> ID：15082326
> 
> 赞同：-12
> 
> 时间：2013-02-26T05:54:43.963
> 
> 标签：iphone, ios, objective-c, ios5, ios6

我正在尝试创建一个在视图顶部和导航栏下方具有导航栏的应用程序看法。我想在顶部使用它（就在导航栏的下方）。所以我使用了 4 个自定义按钮。我正在使用导航控制器来推送视图，这些视图是根据按下的按钮创建的。你能解释一下如何像标签栏一样实现吗？如何按钮将像标签栏项目一样工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:59:33.570

你可以做如下几点。

*   将 4 个圆形矩形按钮放在 Xib 的底部。
*   为每个按钮创建 4 个类，并使用按钮适当地连接 IBAction。现在您可以在没有动画的情况下推送和弹出：-

`[self.navigationController pushViewController:ObjYourViewcontroler animated:NO];`

并像这样弹出它：-

`[self.navigationController popViewControllerAnimated:NO];`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:09:46.920

只需检查完整的代码。它就像标签栏控制器。

```
localViewControllersArray = [[NSMutableArray alloc] initWithCapacity:0];

AllRumsController *allRumsScreen=[[AllRumsController alloc]init];
RumRecipesController *rumRecipesScreen =[[RumRecipesController alloc] init];
PartyPlannerClass *aPartyPlannerScreen =[[PartyPlannerClass alloc] init];
BarTendingClass *aBarTendingScreen =[[BarTendingClass alloc] init];
MoreControllersClass *moreControllerScreen =[[MoreControllersClass alloc] init];

controllersArray = [[NSArray alloc]initWithObjects:allRumsScreen,rumRecipesScreen,aPartyPlannerScreen,aBarTendingScreen,moreControllerScreen,nil];

for(int i=0;i<[controllersArray count];i++)
{
UINavigationController *localNavigationController=[[UINavigationController alloc]initWithRootViewController:[controllersArray objectAtIndex:i]];
localNavigationController.navigationBar.barStyle = UIBarStyleBlackOpaque;
    if(!i)
        [localNavigationController setTitle:@"All Rums"];
    else if(i ==1)
        [localNavigationController setTitle:@"Recipes"];
    else if(i ==2)
        [localNavigationController setTitle:@"PartyPlanner"];
    else if(i ==3)
        [localNavigationController setTitle:@"BarTending"];
    else 
        [localNavigationController setTitle:@"More"];
       localNavigationController.navigationBar.hidden = YES;
       [localViewControllersArray addObject:localNavigationController];

     [localNavigationController release];
 }
[allRumsScreen release];
[rumRecipesScreen release];
[aPartyPlannerScreen release];
[aBarTendingScreen release];
[moreControllerScreen release];

if(contentView == nil)
{
    contentView = [[UIView alloc] initWithFrame:CGRectMake(0,0,MAX_WIDTH, 431)];
    contentView.backgroundColor = [UIColor clearColor];
}
if(bottomView == nil)
{   
    bottomView = [[UIView alloc] initWithFrame:CGRectMake(0,431,MAX_WIDTH, 49)];
    bottomView.backgroundColor = [UIColor clearColor];
}

allButtonsArray = [[NSMutableArray alloc]initWithCapacity:0];

for(int i=0;i<[localViewControllersArray count];i++)
{
    UIButton *aButton=[UIButton buttonWithType:UIButtonTypeCustom];
    aButton.frame=CGRectMake(i*64,0,64,49);
    [aButton setTag:i];
    if(!i)
    {
        [aButton setImage:[UIImage imageNamed:@"ourrums_n.png"] forState:UIControlStateNormal];
        [aButton setImage:[UIImage imageNamed:@"ourrums_a.png"] forState:UIControlStateHighlighted];
        [aButton setImage:[UIImage imageNamed:@"ourrums_n.png"] forState:UIControlStateDisabled];
    }
    else if(i ==1)
    {
        [aButton setImage:[UIImage imageNamed:@"Recipies_n.png"] forState:UIControlStateNormal];
        [aButton setImage:[UIImage imageNamed:@"Recipies_a.png"] forState:UIControlStateHighlighted];
        [aButton setImage:[UIImage imageNamed:@"Recipies_n.png"] forState:UIControlStateDisabled];

    }else if(i ==2)
    {
        [aButton setImage:[UIImage imageNamed:@"myevents_n.png"] forState:UIControlStateNormal];
        [aButton setImage:[UIImage imageNamed:@"myevents_a.png"] forState:UIControlStateHighlighted];
        [aButton setImage:[UIImage imageNamed:@"myevents_n.png"] forState:UIControlStateDisabled];

    }else if(i ==3)
    {
        [aButton setImage:[UIImage imageNamed:@"bartending_n.png"] forState:UIControlStateNormal];
        [aButton setImage:[UIImage imageNamed:@"bartending_a.png"] forState:UIControlStateHighlighted];
        [aButton setImage:[UIImage imageNamed:@"bartending_n.png"] forState:UIControlStateDisabled];

    }else 
    {
        [aButton setImage:[UIImage imageNamed:@"more_n.png"] forState:UIControlStateNormal];
        [aButton setImage:[UIImage imageNamed:@"more_a.png"] forState:UIControlStateHighlighted];
        [aButton setImage:[UIImage imageNamed:@"more_n.png"] forState:UIControlStateDisabled];
    }
    [aButton addTarget:self action:@selector(showViewOfButton:) forControlEvents:UIControlEventTouchUpInside];
    [allButtonsArray addObject:aButton];
    [bottomView addSubview:aButton];
}

[[[[UIApplication sharedApplication] delegate] window] addSubview:contentView];
[[[[UIApplication sharedApplication] delegate] window] addSubview:bottomView];

[bottomView setHidden:YES];
[contentView setHidden:YES];

[self showViewOfButton:[allButtonsArray objectAtIndex:0]];

-(void)showViewOfButton:(id)sender
    {
if(start == YES)
{
    start = NO;
    [repeat setTag:[sender tag]];
}
else if([repeat tag] == [sender tag])
{
    return;
}
else
{
    [repeat setTag:[sender tag]];
}

if(previous!=nil)
{
    [previous setImage:[previous imageForState:UIControlStateDisabled] forState:UIControlStateNormal];
}

if( [[contentView subviews] count] )
{
    if([[RumsDataHolder sharedHolder] mailController])
    {
        [[[[RumsDataHolder sharedHolder] mailController] retain] dismissModalViewControllerAnimated:NO];
    }
    [[[contentView subviews] objectAtIndex:0] removeFromSuperview];
}

if( ((UIView *)sender).tag == 0)
{
    [sender setImage:[UIImage imageNamed:@"ourrums_a.png"] forState:UIControlStateNormal];
    [contentView addSubview:[[localViewControllersArray objectAtIndex:0] view]];
}
else if( ((UIView *)sender).tag == 1)
{
    [sender setImage:[UIImage imageNamed:@"Recipies_a.png"] forState:UIControlStateNormal];
    [contentView addSubview:[[localViewControllersArray objectAtIndex:1] view]];
}
else if(((UIView *)sender).tag == 2)
{
    [sender setImage:[UIImage imageNamed:@"myevents_a.png"] forState:UIControlStateNormal];
    [contentView addSubview:[[localViewControllersArray objectAtIndex:2] view]];
}
else if( ((UIView *)sender).tag == 3)
{
    [sender setImage:[UIImage imageNamed:@"bartending_a.png"] forState:UIControlStateNormal];
    [contentView addSubview:[[localViewControllersArray objectAtIndex:3] view]];
}
else if(((UIView *)sender).tag == 4)
{
    [sender setImage:[UIImage imageNamed:@"more_a.png"] forState:UIControlStateNormal];
    [contentView addSubview:[[localViewControllersArray objectAtIndex:4] view]];
}
else
    ;
previous=sender;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:10:42.893

好吧，而不是使用`UIbuttons`或调用整个`UITabbarController`为什么不使用`UITabbar`和`tabbar items`这里的代码..这应该让你去:)

```
 UITabBar *tabBar = [[UITabBar alloc] initWithFrame:CGRectMake(your frame)];   
  NSMutableArray  *tabBarItemsArray= [[NSMutableArray alloc] init];
    UITabBarItem *tabBarItem1 = [[UITabBarItem alloc] initWithTitle:@"artist" image:[UIImage imageNamed:@"artist-tab.png"] tag:1];//assigning the title name and image
[tabBarItem1 setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:[UIColor colorWithRed:48.0/255.0  green:60.0/255.0 blue:109.0/255.0 alpha:1.0],UITextAttributeTextColor,nil] forState:UIControlStateNormal];//set the color when the tabbar appears

[tabBarItem1 setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:[UIColor whiteColor],UITextAttributeTextColor,nil] forState:UIControlStateSelected];//sets the color when the tabbar is selected

 UITabBarItem *tabBarItem2 = [[UITabBarItem alloc] initWithTitle:@"Facebook" image:[UIImage imageNamed:@"music-tab.png"] tag:2];

[tabBarItem2 setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:[UIColor colorWithRed:48.0/255.0  green:60.0/255.0 blue:109.0/255.0 alpha:1.0],UITextAttributeTextColor,nil] forState:UIControlStateNormal];

[tabBarItem2 setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:[UIColor whiteColor],UITextAttributeTextColor,nil] forState:UIControlStateSelected];

        [tabBarItemsArray addObject:tabBarItem1];
        [tabBarItemsArray addObject:tabBarItem2];
        tabBar.items = tabBarItemsArray;
        tabBar.delegate = self;

     [self.view addSubview:tabBar]; 
```

确保在头文件中添加委托 UITabBarDelegate 以实现此方法

```
 - (void)tabBar:(UITabBar *)tabBar didSelectItem:(UITabBarItem *)item{
        NSLog(@"Tabbar selected itm %d",item.tag); 
   // here you can call your view based on tab click you can try using switch statements here based on item.tag
       } 
```

希望这能回答您的问题并有所帮助:)

此外，我们可以使用图像自定义 UITabbar...请让我知道...如果您愿意，我会在此处发布代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:19:03.030

要表现得像 tabbar 控制器一样，请按照相同的步骤以编程方式创建 tabbar 控制器，

创建标签栏

> 为要在单击 UIButton 时推送的每个 UIViewController 创建实例，将其添加为 rootviewcontroller`UINavigationController`及其所有对象`NSArray`并将该数组设置为`_tabBarController.viewControllers`，然后将 _tabBarController.view 添加到`self.window`

创建自定义视图

> 接下来现在创建一个`UIView`与视图中 _tabBarController 位置相同的框架，添加`UIButton`要在 _tabBarController 上显示的 s，可以为任何背景图像自定义按钮或匹配您需要的 UI 外观，将所有这些按钮作为子视图添加到`UIView`最后是视图对象到`self.window`子视图。至此，您将看到带有您想要的所有按钮的自定义标签栏，现在让它像标签栏一样。

不要忘记为您添加的每个按钮添加一个动作，动作实现类似于，

```
- (void)select_tab:(UIButton *)sender
{
   _tabBarController.selectedIndex = sender.tag;
   //_tabBarController is object of UITabBarController
} 
```

请记住，还需要每个按钮都应该带有一些标签集，这些标签将作为当前标签栏索引的索引，因此按照将视图控制器添加到数组中的顺序给出标签，按钮标签应该以 0 开头（零）基本索引到您拥有的最大视图控制器。

就是这样，希望这有帮助！

# ruby - 退出鞋子应用程序打破了我的循环！我怎样才能防止这种情况？

> ID：15082330
> 
> 赞同：1
> 
> 时间：2013-02-26T05:55:01.513
> 
> 标签：ruby, loops, shoes

`loop`我有一个等待用户输入字符的命令行（shell） 。根据用户键入的内容，会发生不同的事情，但循环将始终继续，直到用户键入“退出”。只有一个命令，我想打开一个鞋子应用程序。打开工作正常，但是当我关闭它时，循环中断并且过程结束。我不希望这个过程结束。它看起来像这样......

```
def mainLoop()
  loop do
    print "Input word: "
    word = gets.chomp.split(' ')
    if word.length == 0
      launchShoesApp(word[0])
    end

    ...

  end
end

def create_gui(graph)
  Shoes.app { button "Push me" }
end 
```

当 Shoes.app GUI 关闭时，整个过程关闭。我怎样才能防止这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-01T17:25:28.503

我宁愿建议将命令行 ruby​​ 脚本代码和 Shoes 脚本代码分开放在不同的文件中例如：

```
#command-line.rb
def mainLoop()
 loop do
  print "Input word: "
  word = gets.chomp.split(' ')
  if word.length == 0
   #launchShoesApp(word[0])
   Process.spawn("ruby shoes-gui.rb") 
   # this will spawn up a process (opening your shoes app) without blocking this ruby script.
  end
 end  
end 
```

和，

```
#shoes-gui.rb
require 'green_shoes'
Shoes.app { button "Push me" } 
```

确保两个文件都在同一个文件夹中。还要确保你已经安装了“green_shoes”gem。如果您对 green_shoes 完全不满意并且只想使用红色鞋子，您可以更改系统命令

```
from:
'ruby shoes-gui.rb'
to:
'yourpath/to/shoes shoes-gui.rb' 
```

通常，如果您使用的是 linux，您会在 home/username/.shoes/federales/shoes 找到鞋子可执行文件，如果在 Windows 上，您会在 C 驱动器的某个位置找到可执行文件。

这应该很可能工作（我在我的机器上测试过）。希望能帮助到你 ：）

# ant - Ant sshexec：构建进程停止

> ID：15082334
> 
> 赞同：0
> 
> 时间：2013-02-26T05:55:23.993
> 
> 标签：ant

我正在使用 ant 来自动化应用程序服务器类型的部署。

部署的基本第一步运行良好，但是（而且看起来很正常），ant 构建将在启动服务器时停止。

事实上，我的服务器是围绕一个循环构建的，所以当你在终端上运行它时，它会阻塞终端。我试图做一些类似'./exec > log.txt&'的事情，但它并没有改变任何东西。

我希望 ant 等待运行最终准备好，然后传递给下一个任务。有什么办法吗？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T22:37:37.527

[在Jenkins](http://jenkins-ci.org/)中运行您的构建并作为构建后 SSH 步骤运行部署。对于更专用的 SSH 解决方案，我建议调查具有 Jenkins 插件的[rundeck 。](http://rundeck.org/)

保持构建简单，并将部署移交给其他工具。

# ruby-on-rails - RoR 中的 SEO 友好 URL

> ID：15082336
> 
> 赞同：4
> 
> 时间：2013-02-26T05:55:24.943
> 
> 标签：ruby-on-rails, ruby, routing, seo

假设我有一个用于编辑音乐专辑的相对基本的 CRUD 应用程序。在我的数据库中：

```
id | album_name | artist  |  navigation

1    Lets Talk   Lagwagon    lets-talk 
```

但是，我希望该页面可以通过路由访问，而不是`albums/1`返回我的页面。`Show``albums/lets-talk`

所以在我的控制器中，我有：

```
 def show
    @album = Album.find_by_navigation(params[:id])
  end 
```

在我的索引视图中，我有：

```
<%= link_to 'Show', :controller => "albums", :action => "show", :id => album.navigation %> 
```

这成功地执行了它的功能，但是，Ruby API 说我的 link_to 方法是旧的和过时的，没有列出替代方法，所以我怀疑我的方法是错误的。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-26T06:01:42.573

在模型中定义你的 to_param：

```
class album
    def to_param
        "#{id}-#{album-name.parameterize}"
     end
end 
```

现在你可以使用

```
<%= link_to album.album_name, album %> 
```

创建到 seo 路径的链接

然后在你的控制器中：

```
Album.find(params[:id]) 
```

会打电话`to_i`-> 所以你会得到`Topic.find(2133)`或什么。

这将产生以下形式的 url：“/album/2-dark-side-of-the-moon”，尽管不完全是所要求的，但它具有优势 - id 用于查找专辑 - 这是唯一的，当这个名字可能不是。

参数化方法“替换字符串中的特殊字符，以便它可以用作'漂亮' URL 的一部分” - [http://api.rubyonrails.org/classes/ActiveSupport/Inflector.html#method-i-parameterize](http://api.rubyonrails.org/classes/ActiveSupport/Inflector.html#method-i-parameterize)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T07:16:27.990

查看[friendly_id](https://github.com/norman/friendly_id) gem。这正是您所需要的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-23T10:45:29.570

如果您想在浏览器中显示 URL，`app/albums/lets-talk`但 POST 参数为`album_id => 1`，用于添加购物车等。

在您的专辑模型中：

```
# PRODUCT MODEL
 before_create do
   self.navigation = album_name.downcase.gsub(" ", "-")  
  end

def to_param
    [id, album_name.parameterize].join("-")
end 
```

现在你可以

```
@album = Album.find_by_navigation(params[:id]) 
```

和

```
album = Album.find(params[:album_id]) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:02:30.230

似乎您想将 :id 参数覆盖为 :name 参数。本文介绍的这种[情况](http://apidock.com/rails/ActiveRecord/Base/to_param)。

```
class User < ActiveRecord::Base
  def to_param  # overridden
    name
  end
end

user = User.find_by_name('Phusion')
link_to 'Show', user_path(user)  # => <a href="/users/Phusion">Show</a> 
```

# java - Java：是否可以访问私有静态方法

> ID：15082339
> 
> 赞同：1
> 
> 时间：2013-02-26T05:55:29.897
> 
> 标签：java, builder

是否可以在对象创建范围内访问私有静态方法？类似于下面的代码片段。

```
class A {
   private static void func(int x) {
      /*Some Code here*/
   }
} 
```

并从另一个上下文中调用，如下所示：

```
new A(){{
  func(2);
}}; 
```

此处的目的是促进对 的更多调用`func(int)`，为每个调用使用不同的参数，或者更简单地说，为 type 的对象添加某种构建器`A`。

像这样的东西：

```
new A() { {
    func(2);
}
{
    func(3);
}
// ...
}; 
```

这有可能实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:03:31.253

我认为您可以通过实际编写一些简单的代码并自己尝试一下，轻松找到答案。

据我了解（没有尝试过）这是不可能的。

我认为您必须了解以下内容的含义：

```
new A() { { func(2); } } 
```

这是匿名内部类，就像写类似的东西

```
class A_anonymous extends A {
  { 
    func(2); 
  }
} 
```

并做一个

```
new A_anonymous(); 
```

进一步查看类定义，其实是翻译成

```
class A_anonymous extends A {
  public A_anonymous() { 
    func(2); 
  }
} 
```

所以答案是显而易见的。如果 func() 是 A 中的私有方法，那么你当然不能这样使用它。

解决的方法是简单地使方法的可见性受到保护（或更高）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:01:17.093

> 是否可以在对象创建范围内访问私有静态方法？

是的。

在构造函数中，您可以调用静态方法。

```
class AClass
{
    private void static aMethod1()
    {

    }

    private void static aMethod2()
    {

    }

    public AClass()
    {
        aMethod1();
        aMethod2();
    }
} 
```

# django - Dreamhost 上的 django 电子邮件设置

> ID：15082340
> 
> 赞同：4
> 
> 时间：2013-02-26T05:55:33.163
> 
> 标签：django, email, dreamhost

问候 djangonauts
我的 Django 应用程序在 Dreamhost 上运行良好。
当我使用 gmail 时，我的视图中的代码错误通知和 send_mail() 都可以正常工作。
当我使用我的 Dreamhost 电子邮件和设置时，我可以从我的视图中使用 send_mail() 但我不再收到代码错误通知。
我咨询了dreamhost，他们说我的电子邮件设置是正确的，这一定是应用程序的问题。我还缺少任何其他设置吗？任何帮助将不胜感激。

这是我的设置：

```
#settings.py 

#GMAIL SETTINGS:  works great 
EMAIL_HOST = 'smtp.gmail.com' 
EMAIL_PORT = 587 
EMAIL_HOST_PASSWORD = 'PASSWORD' 
EMAIL_HOST_USER = 'my_username' 
EMAIL_SUBJECT_PREFIX = '' 
EMAIL_USE_TLS = True 

#DREAMHOST SETTINGS:
EMAIL_HOST = 'mail.my_site.com'  #also tried 'localhost' 
EMAIL_PORT = 587  #also tried 25
EMAIL_HOST_PASSWORD = 'PASSWORD' 
EMAIL_HOST_USER = 'admin@my_site.com' 
EMAIL_SUBJECT_PREFIX = '' 
EMAIL_USE_TLS = True  #i tried with and without TLS, it does not work. 
```

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:37:38.800

通过“代码错误通知”，我假设您的意思是当出现 500 异常时收到的电子邮件。

三个设置控制此功能。

1.  [SERVER_EMAIL](https://docs.djangoproject.com/en/dev/ref/settings/#server-email) - 电子邮件显示为“来自”的人。一些 SMTP 服务器会拒绝任何不是来自已知帐户的电子邮件。尝试将此设置为您的 Dreamhost 帐户的电子邮件地址。

2.  [ADMINS](https://docs.djangoproject.com/en/dev/ref/settings/#std%3asetting-ADMINS) – 一个元组，包含问题发生时向谁发送电子邮件的列表。确保使用列出的电子邮件帐户进行设置：

    ```
    ADMINS = (('Jack Shedd', 'jack@example.com'),) 
    ```

3.  调试 - 必须设置为`False`

# c++ - c++ _bstr_t 而不是使用字符串

> ID：15082341
> 
> 赞同：1
> 
> 时间：2013-02-26T05:55:39.660
> 
> 标签：c++, string, com, bstr

我有一些代码来读取文件，但它用于 std::string，我需要使用 _bstr_t 后面的代码可以正常工作。如何更改类型？

```
 std::ifstream inFile("QdatPassWordconfig.config");
  std::string sPassWord; //(here, i need to use _bstr_t)
  std::string sTemp;
  if (inFile.is_open())
  {
      if(std::getline(inFile,sTemp)) 
      {
            cout<<sTemp<<endl;
            sPassWord=sTemp;
      }
  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:04:58.203

如果您阅读[`_bstr_t`文档](http://msdn.microsoft.com/en-us/library/zthfhkd6.aspx)，您会看到它的[赋值运算符](http://msdn.microsoft.com/en-us/library/7bh2f8sk.aspx)采用普通的`const char *`.

所以它可能只是分配给它：

```
_bstr_t sPassword;

// ...

sPassword = sTemp.c_str(); 
```

* * *

如果您在使用普通的窄字符串时遇到问题，您应该将所有与此相关的代码转换为使用宽字符串，即带有`w`前缀的类：

```
std::wifstream inFile("QdatPassWordconfig.config");
_bstr_t sPassword;
std::wstring sTemp;

if (inFile.is_open())
{
    if(std::getline(inFile, sTemp)) 
    {
        std::wcout << sTemp << endl;

        sPassword = sTemp.c_str();
    }
} 
```

# ios - iPhone 上的默认区域设置（en_NZ 到 en_AU）

> ID：15082342
> 
> 赞同：1
> 
> 时间：2013-02-26T05:55:52.647
> 
> 标签：ios, locale, nslocalizedstring

我有一个 iOS 应用程序，我需要在 en_NZ（新西兰）本地化中使用与 en_AU（澳大利亚）本地化相同的资源。

除了复制我的资源文件之外，有没有一种方法可以做到，所以如果使用 en_NZ 语言环境的人使用该应用程序，它将默认使用 en_AU 资源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T04:46:32.527

尝试这个：

1) 获取语言

```
 NSUserDefaults* apple_defaults = [NSUserDefaults standardUserDefaults]; 
    NSArray* languagesList = [apple_defaults objectForKey: @"AppleLanguages"];
    NSString* lang = [languagesList objectAtIndex: 0]; 
```

2）然后转换他

```
 if ([lang isEqualToString:@"en_NZ"])
    {
        lang = @"en_AU";
    } 
```

您可以将应用程序的**lang**用作**en_AU**而不是**en_NZ**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T15:48:38.827

您可以使用以下方法：
1）创建 en_AU 资源

2）检查您当前的语言环境是否为 en_NZ

```
NSString *currentLanguage = [[NSLocale preferredLanguages] objectAtIndex:0];
// or 
NSString *langID = [[NSLocale preferredLanguages] objectAtIndex:0];
NSString *lang = [[NSLocale currentLocale] displayNameForKey:NSLocaleLanguageCode value:langID];

NSBundle *xBundle; 
```

3) 在 en_NZ 的情况下：

```
// find the path to the bundle based on the locale
NSString *bundlePath = [[NSBundle mainBundle] pathForResource:@"Localizable" ofType:@"strings" inDirectory:nil forLocalization:@"en_AU"];

// load it!
xBundle = [[NSBundle alloc] initWithPath:[bundlePath stringByDeletingLastPathComponent]]; 
```

4) 在 en_NZ 以外的情况下：

```
xBundle = nil; 
```

5）在您的代码中使用：

```
NSLocalizedStringFromTableInBundle(@"yourStr2Localize", nil, xBundle, nil); 
```

# oracle - 任何人都可以建议如何一次运行多个减号查询，并且必须在单个记事本中捕获所有结果

> ID：15082352
> 
> 赞同：0
> 
> 时间：2013-02-26T05:57:00.037
> 
> 标签：oracle, oracle11g

```
select A.id,A.salary from employee A 
minus
select B.id ,B.salary from Msg b 
```

像上面的查询一样，我有 100 多个类似类型的查询，涉及不同的表。如果上面的查询返回 0 条记录，那么它是成功的。除了手动执行这个查询之外，还有什么方法可以一次执行所有查询，即使是成功还是失败，必须执行所有查询。我有**toad 9.7 版**（附加信息）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T08:49:35.313

可能会保存您对文件的查询，然后使用 toad 加载和执行脚本文件，这将是您的答案。

![在此处输入图像描述](../Images/eef04c27521ce41341e52e5a359ea1e4.png)

# java - Android-检查记录是否存在

> ID：15082354
> 
> 赞同：0
> 
> 时间：2013-02-26T05:57:27.397
> 
> 标签：java, android, database, sqlite

我是 Android SQLite 的新手。我创建了表名“Registration”：

```
id FirstName LastName UserName Password Mobile
0  Rakesh     L        rocky   pw123    9600956892
1  Ramesh     S        ram     wckt123  9600634845
2  Vignesh    A        vicky   vky123   9380930489
3  Balaji     B        bala    ball123  9597735613 
```

如果我使用相同的用户名和密码再次注册，它必须显示 Toast。我已经尝试了以下代码段。但我没有成功。

```
 DBHelper.getReadableDatabase();
            Cursor mCursor = db.rawQuery("SELECT * FROM " + DATABASE_TABLE + " WHERE username=? AND password=?", new String[]{username,password});
            if (mCursor != null) {
                if(mCursor.getCount()!=0)
                {
                    return true;
                }
            }
         return false;
} 
```

请帮助我提供代码片段。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:20:32.923

试试这个代码...

你只需检查**Cursor not null**之后为什么你*检查* **count not 0**。

所以，你试试这个...

```
DBHelper.getReadableDatabase();

Cursor mCursor = db.rawQuery("SELECT * FROM " + DATABASE_TABLE + " WHERE    username=? AND password=?", new String[]{username,password});

if (mCursor != null)
{
                return true;
    /* record exist */
}
else
{
            return false;
    /* record not exist */
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:01:55.893

使用光标检查如下：

```
Cursor c = <YourDatabase>.rawQuery("SELECT * FROM " + DB_TABLE+ " WHERE " + FIELD + "= '" + VALUE + "'");
if(c == null)
{
  //doesn't exists therefore insert record.
} 
```

# visual-studio - 如何在 CPtrList 中添加字符串值？

> ID：15082355
> 
> 赞同：0
> 
> 时间：2013-02-26T05:57:28.840
> 
> 标签：visual-studio, mfc

如何将字符串添加到cptrlist？我正在使用视觉工作室 6.0。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:27:17.967

有很多方法可以做到这一点。一切都取决于你想要做什么。

例如 ：

```
CPtrList MyList ;

...

  CPtrList MyList ;
  MyList.AddTail("Test") ;

  CString str ;
  str = .... ;
  MyList.AddTail(&str) ; 
```

# css - 固定固定头

> ID：15082362
> 
> 赞同：1
> 
> 时间：2013-02-26T05:57:52.223
> 
> 标签：css, wordpress, html, header

一直在为我的网站制作一个固定的标题。它到处都是。过去的任何 wordpress 插件都让我感到困惑，哈哈。但我能够让它工作一半。在 mozilla 上它看起来就像我想要的那样，但在 safari 和 chrome 上它关闭了。页面上的视频也与标题重叠。有什么建议吗？

头文件.php：

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" <?php language_attributes(); ?>>
<head>
    <meta http-equiv="Content-Type" content="<?php bloginfo('html_type'); ?>; charset=<?php bloginfo('charset'); ?>" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title><?php ui::title(); ?></title>

    <link rel="stylesheet" type="text/css" href="<?php bloginfo('stylesheet_url'); ?>" media="screen" />

    <link rel="alternate" type="application/rss+xml" title="<?php bloginfo('name'); ?> RSS Feed" href="<?php ui::rss(); ?>" />
    <link rel="pingback" href="<?php bloginfo('pingback_url'); ?>" />

    <?php ui::head(); ?>

</head>
<body <?php body_class() ?>>
<script>
$("iframe").each(function(){
    var ifr_source = $(this).attr('src');
    var wmode = "wmode=transparent";
    if(ifr_source.indexOf('?') != -1) {
        var getQString = ifr_source.split('?');
        var oldString = getQString[1];
        var newString = getQString[0];
            $(this).attr('src',newString+'?'+wmode+'&'+oldString);
    }
    else $(this).attr('src',ifr_source+'?'+wmode);
});</script>

<div id="header-fixed">
<div id="logo"><a href="http://ngaradio.org/"><img src="http://ngaradio.org/wp-content/uploads/2012/11/NewTop.png" alt="NGA Radio"></a></div>

    <div id="my-menus">
<div class="wrapper">
<?php if (option::get('menu_top_show') == 'on') { 
if (has_nav_menu( 'secondary' )) { 
wp_nav_menu( array('container' => '', 'container_class' => '', 'menu_class' => '', 'menu_id' => '', 'sort_column' => 'menu_order', 'depth' => '1', 'theme_location' => 'secondary' ) );
}
else
{
echo '<ul><li>Please set your Top Menu on the <a href="'.get_admin_url().'nav-menus.php">Appearance > Menus</a> page or disable it from the <a href="'.get_admin_url().'admin.php?page=wpzoom_options">WPZOOM Theme Options</a> page, General tab.</li></ul>';
}
} // if menu top show 
?>
<?php if (option::get('social_icons_show') == 'on') { ?>
<ul id="social-links">
<?php if (option::get('social_icons_facebook')) { ?><a href="<?php echo option::get('social_icons_facebook'); ?>" rel="external,nofollow"><img src="<?php bloginfo('template_url'); ?>/images/icons/ic_facebook.png" alt="" /></a> - <?php } ?>
<?php if (option::get('social_icons_twitter')) { ?><a href="<?php echo option::get('social_icons_twitter'); ?>" rel="external,nofollow"><img src="<?php bloginfo('template_url'); ?>/images/icons/ic_twitter.png" alt="" /></a> - <?php } ?>
<?php if (option::get('social_icons_youtube')) { ?><a href="<?php echo option::get('social_icons_youtube'); ?>" rel="external,nofollow"><img src="<?php bloginfo('template_url'); ?>/images/icons/ic_youtube.png" alt="" /></a> - <?php } ?>
<a href="<?php ui::rss(); ?>"><img src="<?php bloginfo('template_url'); ?>/images/icons/ic_rss.png" alt="" /></a>
</ul><!-- end #social-links -->
<?php } ?></div>

<div id="player">
<iframe src="http://www.streamlicensing.com/stations/testing/fahq.html" style="border:0px #FFFFFF none;" name="NGA Radio" scrolling="no" frameborder="1" marginheight="0px" marginwidth="0px" height="32px" width="500px"></iframe></div>
    </div>
</div>

<div id="container">

<!-- stat #pre-header -->

    <header id="header">
        <div class="wrapper">

            <!--  #logo -->

            <?php if (option::get('banner_header_enable') == 'on') { ?>
            <div class="header-banner">

                <?php if ( option::get('banner_header_html') <> "") { 
                    echo stripslashes(option::get('banner_header_html'));             
                } else { ?>
                    <a href="<?php echo option::get('banner_header_url'); ?>" rel="nofollow" title="<?php echo option::get('banner_header_alt'); ?>"><img src="<?php echo option::get('banner_header'); ?>" alt="<?php echo option::get('banner_header_alt'); ?>" /></a>
                <?php } ?>          

            </div><!-- end .header-banner -->
            <?php } ?>

            <div class="cleaner">&nbsp;</div>

        </div><!-- end .wrapper -->

        <nav id="header-menu">

            <div class="wrapper">

                <?php if (has_nav_menu( 'primary' )) { 
                    wp_nav_menu( array('container' => '', 'container_class' => '', 'menu_class' => 'dropdown', 'menu_id' => 'main-menu', 'sort_column' => 'menu_order', 'theme_location' => 'primary' ) );
                }
                else
                {
                    echo '<p>Please set your Main Menu on the <a href="'.get_admin_url().'nav-menus.php">Appearance > Menus</a> page. For more information please <a href="http://www.wpzoom.com/documentation/morning/">read the documentation</a>.</p>';
                }
                ?>

            </div><!-- end .wrapper -->

        </nav>

    </header><!-- end header -->
<p></p><p></p><p></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <section id="main"> 
```

CSS：

```
#header-menu {
    position: fixed;
    top: 114px;
    margin: auto;
    left: 150px;
    z-index: 100;
    opacity: .8;
}

#logo {
    position: fixed;
    top: -40px;
    margin: auto;
    left: 0;
    z-index: 1;
}

#social-links {
    position: fixed;
    top: 156px;
    right: 50px;
    margin: auto;
    z-index: 1000;
    width: 100%;
}

#player {
    position: fixed;
    top: 108px;
    left: -210px;
    margin: auto;
    z-index: 10000;
    width: 100%;
} 
```

任何帮助将不胜感激...

网站位于[http://ngaradio.org](http://ngaradio.org)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:42:28.707

这绝对是因为`z-index`在 CSS 中。为您希望它在顶部的元素提供更高的数字:) 多次遇到类似的问题。如果您希望标题位于顶部，请始终`z-index`在 CSS 中为该标题提供比视频或其他任何内容更高的数字。您为视频提供 10000，为标题提供 100。因此效果。

# function - 在coldfusion的文件路径中查找最后一次出现的`/`

> ID：15082370
> 
> 赞同：4
> 
> 时间：2013-02-26T05:58:29.710
> 
> 标签：function, coldfusion

在 Coldfusion 中，我试图找到函数来查找`/`文件路径中最后一次出现的索引值，以便`/`拾取之后的文件名。任何机构都可以建议我解决方案。我想从文件路径中检索文件名。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-26T06:11:05.400

使用`GetFileFromPath(filepath)`. 它从给定路径返回文件名。

```
<cfset fileName = GetFileFromPath(filepath)> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T06:44:16.940

您可以使用`listLast()`直接获取所需字符串的片段：

```
filePart = listLast(fullPath, "/\"); 
```

或者您可以简单地使用 java.lang.String 的[`lastIndexOf()`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#lastIndexOf%28java.lang.String%29)方法来完全按照您描述的方式来处理它。

但是我只会使用`listLast()`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-10T00:55:21.457

工作很棒。更改`.`用于获取文件扩展名的代码，以创建存档文件名以备份旧版本。

将代码添加`listLast(form.Document_File_Nm, ".">`到下面，并将句点添加回文件名。

```
<cfset ArchiveFileName = mid(form.Document_File_Nm,1,len(form.Document_File_Nm)-4) & '_' & trim(ATTUID) & '_' & DateFormat(now(),'YYYYMMDD') & TimeFormat(now(),'HHMMSS') & '.' & listLast(form.Document_File_Nm, ".")> 
```

# php - jquery 日历无法通过 php 中的 ajax 页面加载工作

> ID：15082374
> 
> 赞同：2
> 
> 时间：2013-02-26T05:58:56.720
> 
> 标签：php, jquery, ajax

我有带有日历选择输入的 html 页面。当我在本地主机中打开时它工作正常，但我通过 ajax 在 php 页面中调用相同的代码它不起作用。下面是 HTML 代码

```
<html>
   <head>
   <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
   <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
   <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
   <script>
      $(function() {
      $( "#datepicker" ).datepicker({
            numberOfMonths: 3,
            showButtonPanel: true
      });
      });
   </script>
   </head>

   <body>
   <input type="text" id="datepicker" />
   </body>
   </html> 
```

如果我在 php 页面中调用上述代码并通过 ajax 加载该页面，则上述代码不起作用。

我正在使用 2 个 php 文件 delete.php，deleteDateCalender.php

delete.php 的代码

```
<html>
<head>
<title>test</title>

 <script>

        function deleteCalDateAjax()
        {

        if (window.XMLHttpRequest)
          {// code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp=new XMLHttpRequest();
          }
        else
          {// code for IE6, IE5
          xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
          }
        xmlhttp.onreadystatechange=function()
          {
          if (xmlhttp.readyState==4 && xmlhttp.status==200)
             {
                 //alert(xmlhttp.responseText);
                 document.getElementById("calenderDIV").innerHTML=xmlhttp.responseText;
                 //alert(xmlhttp.responseText);
             }
          }

            xmlhttp.open("GET","deleteDateCalender.php",true);
            xmlhttp.send(null); 
        }

 </script>

</head>

<body>

                        <form>
                            <input type="button" value="test" onclick="deleteCalDateAjax();" />
                            <div id="calenderDIV">
                            &nbsp;
                            </div>
                        </form>
</body>
</html> 
```

deleteDateCalender.php 的代码

```
<input type="text" id="datepicker" />

  <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
 <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
 <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
 <script>
 $(function() {
      $( "#datepicker" ).datepicker({
            numberOfMonths: 3,
            showButtonPanel: true
      });
 });
 </script> 
```

在 delete.php 中单击测试按钮时调用 deleteDateCalender.php

你能看出上面的代码有什么问题吗？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:19:25.070

$(function() { ... }); 当文档完成加载时触发。如果您通过 AJAX 加载该代码，则文档已经加载，因此永远不会被触发。

最好的办法是在完成将 AJAX 中的 HTML 添加到页面后启动 datepicker() 脚本。

您的 delete.php 代码看起来像这样：（我删除了所有其他 XMLHttpRequest JavaScript，就好像您正在使用 jQuery 它为您处理所有事情并确保它适用于所有浏览器）

```
<html>
<head>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
<script src="http://code.jquery.com/jquery-1.8.3.js"></script>
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
<script type="text/javascript">
function deleteCalDateAjax() {
   // Call the php page to get the HTML
   $.ajax({
      url: 'deleteDateCalender.php',
      success: function(responseHTML) {
         // Set the HTML somewhere on the page - note: if you are returning a full page of HTML you shouldn't include all the <html><body> tags etc...
         $("#calenderDIV").html(responseHTML);
         // Now that your HTML is available in the DOM you can initiate the datepicker()
         $("#datepicker").datepicker({
           numberOfMonths: 3,
           showButtonPanel: true
         });
         $("#datepicker").datepicker("show");
      }
   });
}
</script>
</head>
<body>
<h1>Example</h1>
<input type="button" onclick="deleteCalDateAjax();" value="Test" />
<div id="calenderDIV">this text will be replaced with HTML from AJAX call</div>
<input name="DateButton" type="button" id="DateButton" value="Open Calander" onclick="$('#datepicker').datepicker('show');" />
</body>
</html> 
```

deleteDateCalender.php 的代码（我不完全确定你为什么要这样做，但我相信你有一个计划）

```
<input type="text" id="datepicker" /> 
```

这有帮助吗？

# java - 如何从java中的请求中获取客户端的浏览器ip？

> ID：15082375
> 
> 赞同：3
> 
> 时间：2013-02-26T05:58:56.600
> 
> 标签：java, jakarta-ee

我知道从 java 中的 httprequest 获取客户端 IP 和服务器 IP 非常容易。是否可以通过任何方式获取客户端的浏览器 IP。

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-27T09:31:57.190

据我正确理解

**您可以使用方法获取客户端IP**

```
HttpServletRequest httpRequest = (HttpServletRequest) request;
String userIpAddress = httpRequest.getHeader("X-Forwarded-For"); 
```

完整报价： [如何确定我的网站已通过什么 IP 地址访问？](https://stackoverflow.com/questions/12107739/how-to-determine-by-what-ip-address-my-website-has-been-accessed)

**从请求中获取服务器 IP**：

```
HttpServletRequest.getLocalAddr(); 
```

完整引用：[获取服务器地址和应用程序名称](https://stackoverflow.com/questions/5645916/getting-server-address-and-application-name)

**并且可以这样做**：

```
Inet4Address.getLocalHost().getHostAddress() 
```

全文引用： [使用Java获取当前机器的IP地址](https://stackoverflow.com/questions/9481865/how-to-get-ip-address-of-our-own-system-using-java)

# ruby - 如何使用 Comparable 模块编写比较歌曲长度的 Ruby 代码？

> ID：15082379
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:59:26.327
> 
> 标签：ruby, comparable

```
class Song
  include Comparable
  attr_accessor :song_name
  def <=>(other)
    @song_name.length <=> other.length
  end

  def initialize(song_name)
    @song_name = song_name
    @song_name_length = song_name.length
  end
end

a = Song.new('Rock around the clock')
b = Song.new('Bohemian Rhapsody')
c = Song.new('Minute Waltz')

puts a < b
puts b >= c
puts c > a
puts a.between?(c,b) 
```

这是我到目前为止所拥有的。我正在尝试编写比较歌曲名称长度的代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:07:30.227

修复您的比较原语，使其与另一个类似属性进行比较：

```
 def <=>(other)
    song_name.length <=> other.song_name.length
  end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:08:46.170

你做错了两件事。后面需要一个分号，`class Song`并且需要比较 the 的长度和 的长度，`@song_name`而`other`不是它`other`本身。你也不需要`attr_accessor`。将其更改为`attr_reader`.

```
class Song; include Comparable
  attr_reader :song_name
  def <=>(other)
    @song_name.length <=> other.song_name.length
  end

  def initialize(song_name)
    @song_name = song_name
    @song_name_length = song_name.length
  end
end 
```

# c++ - 通过 C++ fstream 分隔 .txt 文件中的注释和数据

> ID：15082383
> 
> 赞同：1
> 
> 时间：2013-02-26T05:59:40.583
> 
> 标签：c++, fstream

我有一些具有以下模式的 .txt 文件：

```
#Some comments here

bull rocket 3
trailer laker -12

#More comments there

Warriors Pacers 9 
```

基本上，有一些以 # 开头的注释，其他行包含两个字符串，后跟一个 int

我需要这两个字符串和一个 int 一个一个来处理，我必须忽略任何空白行或以 # 开头的行

我正在考虑使用 ifstream.get() 读取第一个字符并丢弃整行，如果它是 #

但是当涉及到数据时，我被卡住了。如何读取一个字符然后获取第一个字符串？即，我找到一个“b”，然后我需要“公牛”。我应该怎么办？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:03:43.167

使用 " `while (std::getline(is, line)) {`" 一次读取文件流 ( `std::istream is`) 一行 ( `std::string line`)。

如果`line`是`empty()`或以`#`,开头`continue`。您可能希望在执行此检查之前修剪任何前导空格。

否则，解析该行（可能使用`std::istringstream iss(line); iss >> first >> second >> value;`）。StackOverflow 上的其他地方有很多很好的例子来说明如何做到这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:41:58.827

类似的东西：

```
#include <iostream>
#include <string>
#include <fstream>
int main(){
  std::ifstream input("input");
  while (input.good()) {
    char c = input.peek();
    if (c == '#' || c == '\n') {
      input.ignore(256, '\n');
      continue;
    }   
    std::string s1, s2; 
    int i;
    input >> s1 >> s2 >> i;
    if (input.good())
      std::cout << s1 << " - " << s2 << " - " << i << std::endl;
  }
  input.close();
  return 0;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-26T07:22:28.697

```
 #include <iostream>
 #include <fstream>
 #include <sstream>
 #include <string>
 using namespace std;
 int main()
 {
        fstream f1("f1.data");
        string line,w1,w2;
        int num;

        while ( getline(f1,line) ) {
                if ( istringstream(line) >> w1 >> w2 >> num
                  && w1[0] != '#' )
                        cout << w1 <<' '<< w2 <<' '<< num << '\n';
        }
 } 
```

这是轻量级文本扫描，而不是 javascript 解释器或类似的词法分析器；清晰胜过一切，因此请使用 C++ 中将其转化为脚本语言的部分，以充分发挥其优势。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T06:05:35.507

示例代码：

```
 ifstream in("file.txt");
    if (!in.is_open())
        return false;

    string line;
    while (getline(in, line))
    {
        istringstream iss(line, istringstream::in);

        if (!line.length())
            continue;

        if (line[0] == '#') // Ignore the line starts with #
            continue;

       vector<string> words;

        string word;
        while (iss >> word)
        {
                words.push_back(word);
        }

        // now you have all words of current line
        // you can use them to parse your file
    } 
```

这是一个示例代码，您应该在 # 之前跳过空格。例如左修剪很有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T07:07:15.817

除了@MM. 的回答，您可以使用`<regex>`C++ 11 的新功能。但是请注意，目前并非所有标准库都完全实现了这一点，因此您可能还想在[`Boost.regex`](http://www.boost.org/libs/regex)必要时回退。

```
#include <fstream>
#include <iostream>
#include <sstream>

// note: Most C++11 regex implementations are not up to scratch, offer
// Boost.regex as an alternative.
#ifdef USE_BOOST_REGEX
#include <boost/regex.hpp>
namespace std
{
  using ::boost::regex;
  using ::boost::regex_match;
  using ::boost::smatch;
}
#else
#include <regex>
#endif

#include <string>
#include <tuple>
#include <vector>

int main()
{
  // open input file
  std::ifstream in("file.txt");
  if (!in.is_open()) return 1;
  // ECMAScript syntax!
  std::regex empty_or_comment_re("\\s*(?:#.*)?");
  // note: only matches integers
  std::regex values_re("\\s*(\\S+)\\s+(\\S+)\\s+(-?\\d+)\\s*");
  // will contain the results
  std::vector<std::tuple<std::string, std::string, int> > results;
  size_t lineno = 0; // for error reporting
  std::string line;
  // read lines
  while (getline(in, line))
  {
    ++lineno;
    // match empty or comment lines
    if (regex_match(line, empty_or_comment_re)) continue;
    // match lines containing data
    std::smatch match;
    if (!regex_match(line, match, values_re))
    {
      std::cerr<< "ERROR: malformed line in file.txt, line " << lineno
        << ".\n";
      return 1;
    }
    // read integer from match
    int n;
    std::istringstream iss(match[3]);
    iss >> n;
    // append to results
    results.push_back(std::make_tuple(match[1], match[2], n));
  }
} 
```

# map - 在 Clojure 中切片地图的惯用方法是什么？

> ID：15082384
> 
> 赞同：6
> 
> 时间：2013-02-26T05:59:58.817
> 
> 标签：map, clojure, standard-library

对于列表和向量，我们可以对序列进行切片并获取我们想要的任何部分。如何对映射对象进行类似操作？

例如，我有一个地图对象列表，

```
(def plays [
        {:name "Burial",     :plays 979,  :loved 9}
        {:name "Eno",        :plays 2333, :loved 15}
        {:name "Bill",       :plays 979,  :loved 9}
        {:name "Magma",      :plays 2665, :loved 31}]) 
```

对于每张地图，我想切掉播放列，并使用默认值添加速率列，这样做的惯用方法是什么？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-26T06:06:50.760

`assoc`在这种情况下`dissoc` 是你的朋友：

```
(map #(-> % (dissoc :plays) 
            (assoc :rate 10)) plays) 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-02-26T06:42:31.460

根据您的用例，`select-keys`除了`assoc`and之外，您可能还会发现有用`dissoc`：

> ```
> clojure.core/select-keys
> ([map keyseq])
>   Returns a map containing only those entries in map whose key is in keys 
> ```

```
(select-keys {:name "Eno" :plays 2333 :loved 15} [:name :loved])
;; => {:name "Eno" :loved 15} 
```

# ruby - Mechanize 如何在我手动结束脚本之前保持会话？

> ID：15082385
> 
> 赞同：1
> 
> 时间：2013-02-26T06:00:08.967
> 
> 标签：ruby, session, mechanize

我需要在整个工作日期间打开一个网页。我使用 Mechanize 在 Ruby 中编写了一个脚本，它工作正常，但是，当脚本结束时页面关闭。

我找到了一种使用无限循环和的方法`sleep(x)`，但我仍然认为这不是一个好方法。恐怕会占用太多内存。

有什么方法可以让会话保持打开状态，直到我手动结束脚本？

这是我的代码：

```
require 'rubygems'
require 'mechanize'

def autoOpen (loginname, loginpasswd)
    p = Mechanize.new
    p.agent.http.verify_mode = OpenSSL::SSL::VERIFY_NONE
    page = p.get('https://www.webpage.com/index.cgi')
    logpage = page.form_with(:method => "POST")
    logpage.username = loginname
    logpage.password = loginpasswd
    succpage = logpage.submit(logpage.button_with(:name => 'Submit'))
end

while 1 == 1
    if false == system('ping www.webpage.com > tmp')
        autoOpen('username', 'password')
    end
    sleep(1)
end 
```

实际上，即使我添加了无限循环，它也不起作用。

正如@theTinMan 所说，Mechanize 只是打开页面并获取内容/对象，它不能**留**在页面中。

有解决办法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T14:41:34.810

您可以尝试的一件事是使用[Watir](http://watir.com/)打开浏览器窗口。

Watir 不像机械化。Mechanize 是一个页面解析器，它可以让你填写表单并提交它们，作为一个附带功能，它可以查看页面的 DOM 以查找内容。

相反，Watir 告诉浏览器如何像用户一样行事，因此打开页面、单击按钮、获取字段内容或在字段中输入文本都是可行的。这可能会使您的代理系统误以为您实际上正在使用该页面。

但是，实际上，我认为您正在尝试破解一个可能会让您感到惊讶的系统。如果*我*写了一个代理，我会观察会话是否有流量通过。如果没有我会关闭它。代理服务器是网络服务器，资源也有限，所以如果有很多人打开会话而不使用它，这些资源就会被浪费。因此，如果简单地打开浏览器页面不是真正的解决方法，请不要感到惊讶。

相反，也许您需要了解有关该特定代理的更多信息，并查看是否可以通过它打开隧道，并通过对远程主机的 ping 或定期请求保持其打开。

同样，您告诉我们的内容几乎不足以给您任何可用的答案。听起来你对你试图愚弄的代理不够了解，所以你的未来会有很多实验。

作为 Ruby 编码技巧，我将您的代码编写得更像：

```
require 'rubygems'
require 'mechanize'

def auto_open(name, password)
  p = Mechanize.new
  p.agent.http.verify_mode = OpenSSL::SSL::VERIFY_NONE
  logpage = p.get('https://www.webpage.com/index.cgi').form_with(:method => "POST")
  logpage.username = name
  logpage.password = password
  logpage.submit(logpage.button_with(:name => 'Submit'))
end

while true
  if system('ping -c1 www.webpage.com > /dev/null')
    sleep(1)
  else
    auto_open('username', 'password')
  end
end 
```

该代码仍然无法工作，但它更像 Ruby。

此外，您可能想查看使用`ping -i 60 www.webpage.com > /dev/null`. `-i n`意思是“在 ping 之间等待`n`几秒钟”。

# google-apps-script - Apps 脚本小工具设置 100% 宽度和高度错误？

> ID：15082386
> 
> 赞同：0
> 
> 时间：2013-02-26T06:00:13.273
> 
> 标签：google-apps-script, google-sites

我在包含 flextable 的 Google Site 的网页中嵌入了一个 UiApp。小工具的宽度和高度可以根据 flextable 中有多少项目而改变；所以当我嵌入它时，我在小工具设置中将宽度和高度留空，以便让 UiApp 显示 100% 的宽度和高度（按照小工具设置中的说明）。但是，它从未显示 100% 的高度；当我检查网页的 HTML 时，我发现宽度和高度总是设置为某个值（宽度 =“500”高度 =“600”）所以我的显示被剪切并且没有完全显示。

如何确保我的 UiApp 完全显示在页面中？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:10:13.323

“100% 留空”仅适用于宽度属性。您必须为脚本确定一些合适的高度。我不认为有解决办法。

此外，如果您能够将高度设置为 100%，这会告诉浏览器让小工具填充 100% 的*容器*（即小工具周围的页面）。它不会告诉浏览器填充 100% 的*内容*。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T10:55:56.627

虽然不能从小工具首选项设置，但也许您可以编写小工具代码，以便在您更改 html 内容时更新框架高度。看到这个很好的例子：
[https ://developers.google.com/gadgets/docs/ui#Dyn_Height](https://developers.google.com/gadgets/docs/ui#Dyn_Height)

# javascript - 单击下一页后如何使考试计时器继续

> ID：15082391
> 
> 赞同：0
> 
> 时间：2013-02-26T06:00:26.973
> 
> 标签：javascript, php, laravel, timer

我正在进行在线考试，但计时器部分有问题。每次用户单击下一个按钮以获取新页面时，计时器都会重新启动。这是我的代码。我正在使用 laravel

[http://paste.laravel.com/iOo](http://paste.laravel.com/iOo)

如果无法完成考试，我还想添加保存和退出的选项。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:08:54.160

您可以在 cookie 中记录考试的开始时间，然后每个页面都可以在页面加载时读取该 cookie，以查看考试开始时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T09:17:18.487

您可能想尝试这种方式：

*   测试开始时，为当前测试创建一个会话变量以保存问题，例如“testQuestions”
*   创建一个函数，该函数将发送包含来自“testQuestions”数组的单个问题的 json 输出。因此，每当您使用适当的索引查询该 url 时，您都会得到该问题。您还可以在发送该问题时添加其他信息，例如 nextQuestionIndex、prevQuestionIndex 等。他们将帮助您在前端创建 Next 和 Previous 按钮。
*   然后在前端，您可以创建多个部分（或带有 ID 的 div），一个用于显示计时器，一个用于显示问题。
*   然后在 JavaScript 中为下一个和上一个按钮上的单击事件编写函数。您可以发送 ajax 请求并获取包含下一个问题的 json 响应。您可以修改当前问题的内容以显示下一个或上一个问题。

您可以改进此策略并在单击“下一个”或“上一个”按钮时提交问题表单。这样，您将更新问题的答案并在单个呼叫中接收下一个/上一个问题。因为您将使用 ajax 请求，所以可以避免页面刷新。

# javascript - 我应该如何使用带角度的灯箱

> ID：15082400
> 
> 赞同：3
> 
> 时间：2013-02-26T06:01:09.273
> 
> 标签：javascript, angularjs

我正在使用角度来显示我的细节`Student Object`

它工作正常

但也需要作业文本上的超链接，以便当有人点击时，会打开一个包含所有`assignment object`详细信息的灯箱。

现在我的老板只想使用角度。

我知道我可以为此使用 jquery 模态对话框，但是如何在 angularJs 中显示 lighbox

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-27T19:40:30.920

您应该能够集成此项目：

[https://github.com/compact/angular-bootstrap-lightbox](https://github.com/compact/angular-bootstrap-lightbox)

在项目的 README 中，它是如何在 HTML 中声明的：

> 画廊：
> 
> ```
> <ul ng-controller="GalleryCtrl">
>   <li ng-repeat="image in images">
>     <a ng-click="openLightboxModal($index)">
>       <img ng-src="{{image.thumbUrl}}" class="img-thumbnail" alt="">
>     </a>
>   </li>
> </ul> 
> ```

就像@Stewie 的解决方案一样，繁重的逻辑由 Angular 指令处理。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-26T09:17:44.040

去了解[Angular 指令](http://docs.angularjs.org/guide/directive)并看看[AngularUI](http://angular-ui.github.com/) ~~或[UI Bootstrap](http://angular-ui.github.com/bootstrap/)~~如何利用指令将调用代理到 ​​jQuery 插件。

# php - 通过 AJAX 返回的 Gettext 未翻译

> ID：15082402
> 
> 赞同：5
> 
> 时间：2013-02-26T06:01:33.170
> 
> 标签：php, jquery, ajax, gettext

gettext 是否能够通过 AJAX 从 php 文件中翻译文本返回？

这是我正在尝试做的一个粗略的例子

```
<div id="resultText"></div>
<?php echo gettext('Other text'); ?>

<script>
$(document).ready(function() {

    $.post('somefile.php', somedata, function(r) {
        $('#resultText').html(r);
    });

});
</script> 
```

和 php 文件：

```
<?php // somefile.php

// gettext setup (from an included file)

$lang = "de_DE";
if (isset($_GET['lang'])) $lang = $_GET['lang'];
putenv("LC_ALL=$lang");
setlocale(LC_ALL, $lang);
bindtextdomain("de_DE", "locale");
bind_textdomain_codeset('de_DE', 'UTF-8');
textdomain("de_DE");

// do some logic

echo gettext('Text to be translated');

?> 
```

POEdit 选择要翻译的 somefile.php 字符串......并且“其他文本”被正确翻译。但是“要翻译的文本”不是...... :(

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-20T13:46:16.587

我遇到了同样的问题，因为我的 ajax 文件夹不在站点的根文件夹中，而且我在 bindtextdomain() 函数上使用了相对路径，就像你一样。

因此，而不是相对路径：

```
bindtextdomain($po_domain, "./locale"); 
```

我使用了绝对服务器路径：

```
bindtextdomain($po_domain, "/var/www/folder/locale"); 
```

# java - 单例允许创建静态实例但这会增加响应时间吗？

> ID：15082415
> 
> 赞同：-1
> 
> 时间：2013-02-26T06:02:32.103
> 
> 标签：java, singleton

单例机制帮助我们创建一个本质上是静态的实例。但是在网络环境中使用它时，即；当多个客户端使用该应用程序时，这是否会通过阻止新实例的创建而使系统变慢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:04:09.467

> 这会阻止新实例的创建，从而使系统变慢。

我不这么认为。Singleton 只允许每个应用程序域有一个实例。因此，如果未创建新实例，则将返回现有实例。*（关于单例应该考虑的其他事情是**线程安全**。）*

# javascript - 是否可以使用 jcrop 裁剪图像的一部分？

> ID：15082417
> 
> 赞同：0
> 
> 时间：2013-02-26T06:02:42.190
> 
> 标签：javascript, jquery, jcrop

我希望通过指定 X 和 Y 坐标来使用 jcrop 裁剪图像的一部分。可能吗？

# ios - 在 IOS 5.0 的文本字段中的日文字符后无法单击任何按钮

> ID：15082419
> 
> 赞同：0
> 
> 时间：2013-02-26T06:02:49.333
> 
> 标签：ios

我有表单，用户需要输入他的详细信息并在 IOS 5.0 中提交。我也有几个按钮。如果我输入一些日文字符并尝试提交应用程序，它甚至没有响应.. 它挂在那里。如果有人有一些建议和想法，请与我分享。

提前致谢 ：）

# extjs - Ext 2 阻止 ComboBox 存储加载

> ID：15082421
> 
> 赞同：0
> 
> 时间：2013-02-26T06:03:04.710
> 
> 标签：extjs, combobox, store, extjs2

根据最新的[Ext JS 文档](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.form.field.ComboBox)，我必须`queryMode: 'local'`在`ComboBox`配置中设置以防止它自动加载它`Store`（我想在选择 another 中的值后手动加载这个 Store 的内容，`ComboBox`并对记录进行一些过滤）。
我们仍在使用 Ext JS 2.2 版的问题，我在[docs](http://extjs.edspencer.net/extjs/docs/#Ext.form.ComboBox)中没有找到这个选项。所以，问题是：如何`ComboBox`在旧的 Ext JS 中实现相同的行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:37:11.767

好的，我找到了解决方案。配置选项已经存在，Ext 4 和 Ext 2 的唯一区别是该选项的名称不是`queryMode`，而是`mode`。我必须更加周到。

# jquery - 多个内容部分的 jQuery 选项卡

> ID：15082423
> 
> 赞同：1
> 
> 时间：2013-02-26T06:03:14.087
> 
> 标签：jquery

我一直在尝试修改 jQuery 选项卡教程，以便我可以拥有一种选项卡区域，每个选项卡都有两个单独的内容部分，但不能让第二个内容区域工作。任何正确方向的指导将不胜感激。

[演示](http://codepen.io/simmo85/pen/dELwK)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T07:08:19.003

看看这个[DEMO](http://jsfiddle.net/KUW7H/6/)链接，这将帮助您获得带有两个内容区域的 jquery 选项卡。

```
$('#tabs li').mouseover(function(){
        num = $('#tabs li').index(this);
        $('#container .tabs').hide().eq(num).show();
        $('#container-2 .tabs').hide().eq(num).show();
}); 
```

我希望这会对您有所帮助。祝一切顺利。

# mysql - 轻微的mysql插入查询错误

> ID：15082424
> 
> 赞同：1
> 
> 时间：2013-02-26T06:03:19.720
> 
> 标签：mysql, sql

从一个表导入到另一个..这个错误。

```
INSERT INTO wp_users (DEFAULT, user_login, user_pass, user_nicename, user_email, user_url, user_registered, user_status, display_name)
SELECT ID, username, password, LOWER(username), email, company_url, date_added, '0', username
FROM user
WHERE ID BETWEEN 5000 to 10000; 
```

我只是不想插入 ID，因为它会自动递增，`wp_users`所以我使用“DEFAULT”。

> 错误：#1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'DEFAULT, user_login, user_pass, user_nicename, user_email, user_url, user_regist' 附近使用正确的语法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:04:19.503

`DEFAULT`,`user`是 MySQL 中的保留字，请转义它们。谓词也不`BETWEEN`应该是：`BETWEEN ... AND ...``BETWEEN ... TO ...`

```
INSERT INTO wp_users (`DEFAULT`, user_login, user_pass, user_nicename, user_email, user_url, user_registered, user_status, display_name)
SELECT ID, username, password, LOWER(username), email, company_url, date_added, '0', username
FROM `user`
WHERE ID BETWEEN 5000 AND 10000; 
```

# java - Eclipse 提供哪些工具来运行 Eclipse 中未包含的程序？

> ID：15082429
> 
> 赞同：0
> 
> 时间：2013-02-26T06:03:34.083
> 
> 标签：java, eclipse

我被提出了这个问题：

> Eclipse 提供哪些工具来运行 Eclipse 中未包含的程序？

我在搜索引擎的任何地方都找不到这个问题或答案……有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:27:23.493

Eclipse 提供 Rich Client Platform (Eclipse RCP)，它允许创建可在 Eclipse 平台中使用的插件。Eclipse 本身是核心插件的集合，可以作为新插件的依赖项引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:26:29.470

这可能意味着 Eclipse 插件工具，您可以在其中运行 Eclipse 中的程序*，*就好像它是 Eclipse 软件的一部分一样。

# java - 签名 Jar 时出现未签名 Jar 错误

> ID：15082431
> 
> 赞同：1
> 
> 时间：2013-02-26T06:03:43.443
> 
> 标签：java, java-web-start, sign

请不要说这是另一个问题的重复，因为我花了一些时间来解决其他类似的问题，但我的问题是独一无二的。我正在尝试使用 JNLP webstart 运行 jar，错误是：

```
 com.sun.deploy.net.JARSigningException: Found unsigned entry in resource: http://Stanley/A-Skul.jar
    at com.sun.javaws.security.SigningInfo.getCommonCodeSignersForJar(Unknown Source)
    at com.sun.javaws.security.SigningInfo.check(Unknown Source)
    at com.sun.javaws.security.JNLPSignedResourcesHelper.checkSignedResourcesHelper(Unknown Source)
    at com.sun.javaws.security.JNLPSignedResourcesHelper.checkSignedResources(Unknown Source)
    at com.sun.javaws.Launcher.prepareResources(Unknown Source)
    at com.sun.javaws.Launcher.prepareAllResources(Unknown Source)
    at com.sun.javaws.Launcher.prepareToLaunch(Unknown Source)
    at com.sun.javaws.Launcher.prepareToLaunch(Unknown Source)
    at com.sun.javaws.Launcher.launch(Unknown Source)
    at com.sun.javaws.Main.launchApp(Unknown Source)
    at com.sun.javaws.Main.continueInSecureThread(Unknown Source)
    at com.sun.javaws.Main.access$000(Unknown Source)
    at com.sun.javaws.Main$1.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

问题是我的 Jar 已签名，在谷歌搜索后我发现我需要在我的本地计算机中勾选启用临时文件，这已经完成。问题仍然存在。我正在运行 Java 1.7。这是我的 JNLP 文件：

```
<jnlp codebase="http://Stanley" href="launch.jnlp" spec="1.0+">
  <information>
    <title>A-Skul</title>
    <vendor>pc</vendor>
    <homepage href=""/>
    <description>A-Skul</description>
    <description kind="short">A-Skul</description>
    <icon href="Free bsd.png" kind="default"/>
  </information>
  <update check="always"/>
  <security>
    <all-permissions/>
  </security>
  <resources>
    <j2se version="1.7+"/>
    <jar href="A-Skul.jar" main="true"/>
    <jar href="lib/commons-io-1.4.jar"/>
    <jar href="lib/derby.jar"/>
    <jar href="lib/mail.jar"/>
    <jar href="lib/ojdbc14.jar"/>
    <jar href="lib/itext-2.0.1.jar'.jar'.jar"/>
    <jar href="lib/commons-lang-2.0.jar"/>
  </resources>
  <application-desc main-class="a.skul.ASkul"/>
</jnlp> 
```

我的控制台：

```
Java Web Start 10.10.2.18
Using JRE version 1.7.0_10-b18 Java HotSpot(TM) Client VM
User home directory = C:\Users\pc
----------------------------------------------------
c:   clear console window
f:   finalize objects on finalization queue
g:   garbage collect
h:   display this help message
m:   print memory usage
o:   trigger logging
p:   reload proxy configuration
q:   hide console
r:   reload policy configuration
s:   dump system and deployment properties
t:   dump thread list
v:   dump thread stack
0-5: set trace level to <n>
----------------------------------------------------
    Match: beginTraversal
Match: digest selected JREDesc: JREDesc[version 1.7+, heap=-1--1, args=null, href=null, sel=false, null, null], JREInfo: JREInfo for index 0:
    platform is: 1.7
    product is: 1.7.0_10
    location is: http://java.sun.com/products/autodl/j2se
    path is: C:\Program Files\Java\jre7\bin\javaw.exe
    args is: null
    native platform is: Windows, x86 [ x86, 32bit ]
    JavaFX runtime is: JavaFX 2.2.4 found at C:\Program Files\Java\jre7\
    enabled is: true
    registered is: true
    system is: true

    Match: ignoring maxHeap: -1
    Match: ignoring InitHeap: -1
    Match: digesting vmargs: null
    Match: digested vmargs: [JVMParameters: isSecure: true, args: ]
    Match: JVM args after accumulation: [JVMParameters: isSecure: true, args: ]
    Match: digest LaunchDesc: http://Stanley/launch.jnlp
    Match: digest properties: []
    Match: JVM args: [JVMParameters: isSecure: true, args: ]
    Match: endTraversal ..
    Match: JVM args final: 
    Match: Running JREInfo Version    match: 1.7.0.10 == 1.7.0.10
     Match: Running JVM args match: have:<>  satisfy want:<>
#### Java Web Start Error:
#### Found unsigned entry in resource: http://Stanley/A-Skul.jar 
```

此 Jar 已签名，我已使用 Netbeans 对其进行了编译。遇到此错误的任何人请帮助。

# java - 如何在android中动态创建按钮？

> ID：15082432
> 
> 赞同：15
> 
> 时间：2013-02-26T06:03:44.857
> 
> 标签：java, android, android-layout, android-intent, android-button

![链接](../Images/b00a1ca5efbd3fecb419936cbbd9d0fd.png)

我想创建一个这样的页面。这 7 个按钮已经存在，但如果用户想要添加更多类别（按钮），那么他可以使用**+按钮并使用****-**按钮删除。制作这个的任何想法或教程？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-26T06:08:06.873

创建/删除按钮`onClick`和如下：`+ button``- button`

```
 public void onClick(View v) {

     switch(v.getId()){
     case (R.id.plusbutton):
                 Button myButton = new Button(this);
                 myButton.setText("Add Me");

                 LinearLayout ll = (LinearLayout)findViewById(R.id.buttonlayout);
                 LayoutParams lp = new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
                 ll.addView(myButton, lp);
                 break;.
     case (R.id.minusbutton):
                 Button myButton = new Button(this);
                 myButton.setText("Remove Me");

                 LinearLayout ll = (LinearLayout)findViewById(R.id.buttonlayout);
                 LayoutParams lp = new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
                 ll.removeView(myButton, lp);
                 break;
           }
         } 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-26T06:05:09.043

这是用于在 android 中动态创建按钮

```
LinearLayout row2 = (LinearLayout) findViewById(R.id.hll2);
Button ivBowl = new Button(this);
ivBowl.setText("hi");
LinearLayout.LayoutParams layoutParams = new  LinearLayout.LayoutParams(70, 70);
layoutParams.setMargins(5, 3, 0, 0); // left, top, right, bottom
ivBowl.setLayoutParams(layoutParams);
row2.addView(ivBowl); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-26T09:44:03.670

```
LinearLayout mainLayout = (LinearLayout)findViewById(R.id.yourlayoutidthatisonethepicture);

Button addButton =new Button(this);
addButton.setText("add");

mainLayout.addView(addButton); 
```

删除是一样的，只需将这个“ `mainLayout.addView(addButton)`”更改为 removeView 或按钮的 setVisibility 为 View.GONE

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-26T06:07:18.263

这很简单。

```
 Button button1=new Button(context);
    button1.setText("test");
    button1.setId(id);
containerlayout.add(button1); 
```

希望这对您有所帮助。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-06-04T15:38:18.490

如果您想创建动态视图（如 EditText、textview 等），则只需使用此代码并在您的应用程序中运行它。

**MyActivity.java://你的java文件**

```
 LinearLayout ll = (LinearLayout)findViewById(R.id.linearLayout1);
 EditText et = new EditText(v.getContext());
 et.setText("My new Edit Text);
 et.setMinLines(1);
 et.setMaxLines(3);
 ll.addView(et); 
```

**在 XML 文件中：**

```
 <LinearLayout
android:id="@+id/linearLayout1"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:layout_alignBottom="@+id/TextView01"
android:layout_below="@+id/relativeLayout1"
android:orientation="vertical" > 
```

# c++ - HP aCC 编译器是否支持模板作为模板参数？

> ID：15082436
> 
> 赞同：1
> 
> 时间：2013-02-26T06:03:50.450
> 
> 标签：c++, gcc, acc

我有以下代码

```
template <int b> class a {
};

template < int b, template<int> class c > class d {
public:
  d(){
    new c<b>();
  }
};

int main(){
  return 0;
} 
```

编译`GCC`，没有错误。

但是在 HP`aCC`中，发生了以下错误：

```
错误 419：“a.cpp”，第 7 行 # 'c' 用作类型，但尚未定义为类型。
     新的 c();
         ^

错误 318：“a.cpp”，第 7 行 # 应使用模板名称而不是 ''。您是否忘记定义模板？
     新的 c();
         ^^^^

```

现在我想知道 HP`aCC`编译器是否支持模板作为模板参数。

我在上面的代码中犯了什么错误吗？

# git - 如何让 Git 修改、删除和新的行号

> ID：15082439
> 
> 赞同：1
> 
> 时间：2013-02-26T06:04:07.453
> 
> 标签：git

我正在尝试从上一次提交的 git repo 中获取新添加、修改和删除的行的行号。我正在使用下面的 bash 函数来完成工作。但我无法获得路径值（它显示为空），而且我的行号也不完全符合我的预期。请检查下面的输出。

```
diff-lines() {
        local path=
        local line=
        while read; do
            esc=$'\033'
            if [[ $REPLY =~ ---\ (a/)?.* ]]; then
                continue
            elif [[ $REPLY =~ \+\+\+\ (b/)?([^[:blank:]$esc]+).* ]]; then
                path=${BASH_REMATCH[2]}
            elif [[ $REPLY =~ @@\ -[0-9]+(,[0-9]+)?\ \+([0-9]+)(,[0-9]+)?\ @@.*]]; then
                line=${BASH_REMATCH[2]}
            elif [[ $REPLY =~ ^($esc\[[0-9;]+m)*([\ +-]) ]]; then
                echo "$path:$line:$REPLY"
                if [[ ${BASH_REMATCH[2]} != - ]]; then
                    ((line++))
                fi
            fi
        done
    } 
```

当我运行脚本时，我得到低于输出

```
 $ git diff -U0 | diff-lines
    ::+++ b/shipserv/shipserv.cpp
    :1:-
    :1:-// check command-line args
    :1:+// check command-line argsss
    :2:+++ b/shipserv/shipserv_client.cpp
    :3:-// #include <infra/utility/environment/config/PimpConfig.h>
    :3:+// #include <nfra/utility/environment/config/PimpConfig.h>
    :4:+++ b/shipserv/test.text
    :5:-dfssdfsdfsdfsf
    :5:+dfssdfsdfsdfsfZZZZZZZZZZZZZZ
    :6:+modified linsde 9898989
    :7:+New line added 
```

谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T20:24:59.727

类似的东西`git log -n 1 --stat`，也许？在我的回购中：

```
commit 0e35181e68f628234c53347c00a75d7af37bb45e
Author: Horst H. von Brand <vonbrand@example.com>
Date:   Thu Jan 17 15:46:32 2013 -0300

    The proper bibliography key is oliveiraXXX..., add latest results

    Signed-off-by: Horst H. von Brand <vonbrand@example.com>

 logica.tex | 16 +++++++++++++---
 url.bib    | 45 +++++++++++++++++++++++++++------------------
 2 files changed, 40 insertions(+), 21 deletions(-) 
```

# excel - 从 VBA 连接到 teradata 并并行运行代码

> ID：15082440
> 
> 赞同：0
> 
> 时间：2013-02-26T06:04:09.793
> 
> 标签：excel, teradata, vba

1.  我们经常让 Excel 连接到 teradata 数据库并为我们生成的各种报告/模型运行一些 sql。如果我是对的，这将始终按照 Queryman 中运行的标准查询进行连接和“执行”。
2.  但是，我希望能够告诉它连接并“执行并行”。
3.  因为我的查询需要大约 2-3 小时才能获取数据，如果我从 excel VBA 运行它，那么我无法在我的 Excel 应用程序上执行任何操作。
4.  我希望一旦我对 teradata 发起查询，它将并行运行，并且我的 excel 在获取数据所需的时间内也是免费的。

提前致谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-02-12T03:54:28.837

这是建立2个独立的连接，并一个一个地执行：

```
Set objmyconn = New ADODB.Connection
Set objmyconn2 = New ADODB.Connection

objmyconn.Open "Driver={Teradata};DBCName=DB1;Database=DB1;Uid=LUSER1;Pwd=LPWD1;"
objmyconn2.Open "Driver={Teradata};DBCName=DB1;Database=DB1;Uid=LUSR2;Pwd=LPWD2;"

Set RS = objmyconn.Execute("SELECT USER")

While Not RS.EOF
  MsgBox (RS.Fields(0).Value)
  RS.MoveNext
Wend

Set RS2 = objmyconn2.Execute("SELECT USER")

While Not RS2.EOF
  MsgBox (RS2.Fields(0).Value)
  RS2.MoveNext
Wend

objmyconn.Close
objmyconn2.Close 
```

对于并行处理，您需要将上述代码拆分为两个不同的 proc 并安装并行处理 Excel 插件；这样您的两个 Teradata 连接将同时执行。

或者更好 - 通过 2 个并行 VBS 文件执行这些调用，而不是试图征服 Excel。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:31:48.117

我可以先说 2 到 3 个小时是很长的时间！

我只能建议一件事，因为您没有任何代码可以继续，而且我不熟悉连接类型：

Excel 可以打开多个应用程序实例，这与当前打开的工作簿中的新工作簿完全不同。

有几种检查方法，主要是您无法链接到另一个 excel 实例中的单元格，我经常在尝试`vlookup`在不同实例中的工作簿之间执行此操作时遇到此问题。此外，如果您按`<ctrl> + <c>`循环浏览您的当前实例中的工作簿，其他 excel 实例不会显示。

您可以通过右键单击任务栏上的 excel 并打开一个新的 excel 来打开一个新实例。如果成功，打开excel就没有问题了。

顺便说一句，我将异步连接到 oracle 并使用一个循环来检查连接状态并添加`Do Events`函数以使 excel 继续工作。

# django - 配置弹性beantalk以使用新版本的python

> ID：15082442
> 
> 赞同：6
> 
> 时间：2013-02-26T06:04:11.483
> 
> 标签：django, python-2.7, amazon-web-services, amazon-elastic-beanstalk

在不创建自定义 AMI 的情况下运行 Django 时，如何告诉 Amazon Elastic Beanstalk 使用 Python 2.7.3？

告诉弹性 beantalk 使用比 2.6 更高版本的 python 似乎应该很简单。我真的不想创建自定义 AMI，因为这似乎使问题过于复杂。

我需要python 2.7.3，我需要使用virtualenv 1.8.X。我注意到使用比亚马逊部署教程（1.7.X）更高版本的 virtualenv 似乎会对“git aws.push”产生负面影响，但由于客户要求，在这种情况下我没有选择。

我研究了在 .ebextensions/*.config 中创建自定义容器命令，例如：

```
container_commands:
  update_python:
    command: "sudo yum -y install python27; sudo ln -sf `which python2.7` /usr/bin/python" 
```

但这打破了百胜，这可能没问题，但我更愿意保持系统完好无损。

我可以使用 yum 安装 python27，如上所示，并将 python26 保留为默认 python，但我不知道如何确保服务器使用 python27 启动 Django。所以另一个问题是，我如何告诉 elastic beanstalk 使用 python27 来运行 Django 而不是默认的 python？我可以轻松地将 python27 作为备用 python 安装在系统上，我只需要显式调用它。

我希望这个问题不会太宽泛。我试图想出多个角度来解决这个问题。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2013-03-29T16:56:03.823

我遇到了同样的问题，解决方案非常简单。

假设您的 PATH 环境变量指向此文件夹：

```
<path to unzipped EB CLI package>/eb/linux/python2.7/ 
```

去那里编辑名为“eb”的文件

```
$cd <path to unzipped EB CLI package>/eb/linux/python2.7/
$vim eb 
```

在第一行显示“ *!#/usr/bin/env python* ”将其更改为“ *!#/usr/bin/env python2.7* ”

然后你应该没事！

# c - 求串口读示例

> ID：15082447
> 
> 赞同：1
> 
> 时间：2013-02-26T06:04:20.300
> 
> 标签：c, windows, serial-port

我想在 115200,n,8,1 从 COM1 读取（最好是阻塞调用，但我可以添加它。而且我不需要线程）。

我能找到的唯一代码是[这个问题](https://stackoverflow.com/questions/6036716/serial-comm-using-writefile-readfile)的 Stack Overflow 上（微软也有[一些有用的信息](http://msdn.microsoft.com/en-us/library/ms810467.aspx)）。

作者说他的代码有效，我不怀疑他，但是当我运行代码时，即使端口正确打开，我也没有收到任何字符（如果我用终端程序检查，数据正在发送） .

有人可以发布一些示例 C 代码的 URL 吗？谢谢。

FWIW，这是我的代码：

```
// +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
E_boolean OpenCom1(void)
{
   COMMTIMEOUTS timeouts;

   comPorthandle = CreateFile("COM1",  // Specify port device: default "COM1"
   GENERIC_READ | GENERIC_WRITE,       // Specify mode that open device.
   0,                                  // the device isn't shared.
   NULL,                               // the object gets a default security.
   OPEN_EXISTING,                      // Specify which action to take on file.
   0,                                  // default (not overlapped i/o).
   NULL);                              // default (hTemplate must be NULL for COM devices).

   if (comPorthandle == INVALID_HANDLE_VALUE)
      return False;

   deviceControlBlock.DCBlength = sizeof(deviceControlBlock);

    if((GetCommState(comPorthandle, &deviceControlBlock) == 0))
    {
      // CodeMe: do what?
      return False;
    }

    deviceControlBlock.BaudRate = CBR_115200;
    deviceControlBlock.StopBits = ONESTOPBIT;
    deviceControlBlock.Parity   = NOPARITY;
    deviceControlBlock.ByteSize = DATABITS_8;
    deviceControlBlock.fRtsControl = 0;

    if (!SetCommState(comPorthandle, &deviceControlBlock))
    {
      // CodeMe: do what?
      return False;
    }

#if 0
// alternative to GetCommState() and SetCommState()
// both versions succeed
   if (!BuildCommDCB("115200,n,8,1", &deviceControlBlock))
    {
      // CodeMe: do what?
      return False;
    }
#endif 

    // set short timeouts on the comm port.
    timeouts.ReadIntervalTimeout = 0;
    timeouts.ReadTotalTimeoutMultiplier = 1;
    timeouts.ReadTotalTimeoutConstant = 1;
    timeouts.WriteTotalTimeoutMultiplier = 1;
    timeouts.WriteTotalTimeoutConstant = 1;
    if (!SetCommTimeouts(comPorthandle, &timeouts))
    {
      // CodeMe: do what?
      return False;
    }

   return True;
}//OpenCom1()

// +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
void      ReadCharacterFromCom1(INPUT char *theCharacter)
{
   DWORD numBytesRead;

   numBytesRead = 0;

   while (numBytesRead == 0)
   {
      ReadFile(comPorthandle,           // handle of file to read
               theCharacter,            // store read data here
               sizeof(theCharacter),    // number of bytes to read
               &numBytesRead,           // pointer to number of bytes actually read
               NULL);
   }
   return;
}//ReadCharacterFromCom1() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:20:53.890

我在这段代码中看到一个问题：

```
    大小（字符），

```

将其替换为

```
    大小（字符），

```

因为你想读取一个字节，而 sizeof(char*) 是 4 或 8。可能还有别的东西，但你需要显示更多的代码。

此外，使用 Portmon 程序[http://technet.microsoft.com/en-us/sysinternals/bb896644.aspx](http://technet.microsoft.com/en-us/sysinternals/bb896644.aspx)查看是否收到数据 - 您可以将其与您的程序一起运行。

# javascript - 在此队列函数中使用 jquery next()

> ID：15082449
> 
> 赞同：3
> 
> 时间：2013-02-26T06:04:28.430
> 
> 标签：javascript, jquery

`queue()` [我在这里](https://stackoverflow.com/a/3314877/1252748)阅读有关 jquery的信息。第一个答案非常全面：

```
var theQueue = $({}); // jQuery on an empty object - a perfect queue holder

$.each([1,2,3],function(i, num) {
  // lets add some really simple functions to a queue:
  theQueue.queue('alerts', function(next) { 
    // show something, and if they hit "yes", run the next function.
    if (confirm('index:'+i+' = '+num+'\nRun the next function?')) {
      next();
    }
  }); 
});

// create a button to run the queue:
$("<button>", {
  text: 'Run Queue', 
  click: function() { 
    theQueue.dequeue('alerts'); 
  }
}).appendTo('body');

// create a button to show the length:
$("<button>", {
  text: 'Show Length', 
  click: function() { 
    alert(theQueue.queue('alerts').length); 
  }
}).appendTo('body'); 
```

[jsfiddle](http://jsfiddle.net/mkBJk/)

但是，我不明白`next()`（第 8 行）是如何工作的。我知道如果我将其注释掉，“下一个”确认框将无法弹出，直到我再次按下按钮，但我认为`next()`主要用于遍历 dom。但在这里，它似乎在告诉函数再次运行。

另外，如果`confirm`盒子的排队在`each()`函数内，为什么没有`next()`?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:09:48.077

`next`是要排队的回调函数中的参数。 *不要*将它与`.next()`用于 DOM 导航的 jQuery 集合方法混淆。

[正如我在这里演示](http://jsfiddle.net/ExplosionPIlls/mkBJk/249/)的那样，您实际上可以在回调中将参数设置为任何您想要的。这个名字`next`不是特别重要；它在文档中才有意义。

这个参数本身就是一个`.queue`由 jQuery 内部传递给的函数（回调）。

# makefile - 具有多个目标选项的 GNU Make

> ID：15082450
> 
> 赞同：0
> 
> 时间：2013-02-26T06:04:29.083
> 
> 标签：makefile, gnu-make

我很好奇 Make 是否有一种方法来支持创建同一目标的多种（独立）方式。例如，假设我有两个源目录：（`svg_src`包含 SVG 图像）和`agr_src`（包含 xmgrace 图）。我希望能够编写一条规则，这样我就不必担心来源是什么：

```
pdf_out/%.pdf : svg_src/%.svg
    rsvg-convert -f pdf -o $@ $<

pdf_out/%.eps : agr_src/%.svg
    gracebat -hdevice EPS -hardcopy $@ $<

pdf_out/%.pdf : pdf_out/%.eps
    epstopdf $< 
```

但是，第二`%.pdf`条规则会覆盖第一个规则，而不是提供另一个选项。

有没有办法用 Make 完成这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T07:35:14.690

您已经提供了正确的解决方案。与您的假设相反，第二个规则不会覆盖第一个规则，因为它（由于源目录）具有不同的依赖项。

考虑以下示例，我`a.svg`在 svg_src 和`b.svg`agr_src 中使用了您的 Makefile 和目录结构：

```
#> make -n pdf_out/a.pdf pdf_out/b.pdf
rsvg-convert -f pdf -o pdf_out/a.pdf svg_src/a.svg
gracebat -hdevice EPS -hardcopy pdf_out/b.eps agr_src/b.svg
epstopdf pdf_out/b.eps
rm pdf_out/b.eps
#> 
```

我想，这正是你想要的。

# json - 如何将 JSON 对象（在文件中）的数据读入 R？

> ID：15082453
> 
> 赞同：5
> 
> 时间：2013-02-26T06:04:57.197
> 
> 标签：json, r

我是 R 新手，对编程没有太多了解。我在将文件（包含 JSON 对象）加载到 R 时遇到问题。

```
> library(rjson)
> jsonFile <- "C:\\Users\\jsonRecords.txt"
> jsonData <- fromJSON( jsonFile, method = "C", unexpected.escape = "error" )
Error in fromJSON(jsonFile, method = "C", unexpected.escape = "error") : 
  unexpected character 'C' 
```

我希望将数据读入 R 以进行进一步分析。任何帮助将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-26T06:19:07.273

试试这个：

```
 fromJSON( file = json_file ) 
```

它将读取所有文件。这里有一个例子：

```
write(toJSON( iris ),'jstest')
res <- fromJSON( file="jstest")

str(res)
List of 5
 $ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
 $ Sepal.Width : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
 $ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
 $ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
 $ Species     : chr [1:150] "setosa" "setosa" "setosa" "setosa" ... 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T06:10:05.917

看起来你所缺少的只是`file=`论点

```
fromJSON( file = json_file, method = "C", unexpected.escape = "error" ) 
```

* * *

如果你看`args(fromJSON)`

```
 > args(fromJSON)
 function (json_str, file, method = "C", unexpected.escape = "error") 
```

你会看到第一个参数是`json_str`，第二个参数是`file`。由于您只提供第二个参数，因此您必须明确告诉函数您要给它的是什么。 *（否则，它认为你的`json_file`字符串是一个 json 对象，它会尝试这样对待它。因此会出现错误。）*

# java - 如何使用从 java 到 windows 操作系统的系统调用来查找可用的系统内存、磁盘空间、cpu 使用率

> ID：15082456
> 
> 赞同：0
> 
> 时间：2013-02-26T06:05:06.090
> 
> 标签：java

如何使用来自 java 的系统调用查找可用的系统内存、磁盘空间、Windows 操作系统的 cpu 使用情况？

*在windows操作系统中

我真正想做的是，接受来自客户端用户的文件，并在检查可用空间后将文件保存在服务器中。我的服务器和客户端使用 java tcp 套接字程序连接！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:12:51.033

您可以使用以下程序获得一些有限的信息。同一个论坛中的其他人已经回答了这个问题，我只是在复制相同的内容。

```
import java.io.File;

public class MemoryInfo {
  public static void main(String[] args) {
    /* Total number of processors or cores available to the JVM */
    System.out.println("Available processors (cores): " + 
        Runtime.getRuntime().availableProcessors());

    /* Total amount of free memory available to the JVM */
    System.out.println("Free memory (bytes): " + 
        Runtime.getRuntime().freeMemory());

    /* This will return Long.MAX_VALUE if there is no preset limit */
    long maxMemory = Runtime.getRuntime().maxMemory();
    /* Maximum amount of memory the JVM will attempt to use */
    System.out.println("Maximum memory (bytes): " + 
        (maxMemory == Long.MAX_VALUE ? "no limit" : maxMemory));

    /* Total memory currently in use by the JVM */
    System.out.println("Total memory (bytes): " + 
        Runtime.getRuntime().totalMemory());

    /* Get a list of all filesystem roots on this system */
    File[] roots = File.listRoots();

    /* For each filesystem root, print some info */
    for (File root : roots) {
      System.out.println("File system root: " + root.getAbsolutePath());
      System.out.println("Total space (bytes): " + root.getTotalSpace());
      System.out.println("Free space (bytes): " + root.getFreeSpace());
      System.out.println("Usable space (bytes): " + root.getUsableSpace());
    }
  }
} 
```

# java - 是什么导致这个循环超出范围？

> ID：15082457
> 
> 赞同：-1
> 
> 时间：2013-02-26T06:05:08.083
> 
> 标签：java, loops, while-loop, indexoutofboundsexception

我正在写一个单词查找游戏，但找不到 while 循环给我`ArrayIndexOutOfBounds`错误的原因。错误说它在这一行：`grid[i-1][j-1]=kb.next();` 但我不明白为什么？

![代码截图](../Images/454259568e115b9bdbabf0701dd9da7a.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:06:56.047

*（您应该已经发布了代码）*但是，您的 while 循环将持续到：

```
while(i<=height) 
```

和

```
while(i<=widht) 
```

他们应该是

`while(i < height)`和`while(i < width)`

由于数组索引以 开头`0`并将继续`Length - 1`，*（而且您需要`j`在退出内部循环后重置值）*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:16:03.273

这是一个简单的逻辑错误。退出 while 循环（j <= 宽度）后，您不会重置 j 的值。因此，对于 i 的下一个值，j 的值从最后一个可能的索引值开始，而不是从 0 开始。

每次在 while 循环之后增加 i 的值时，将 j 重置为 1。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:13:57.917

如果不是标准做法，将 1 循环到宽度（或高度）很好，因为您使用 [i-1] 或 [j-1] 进行索引。

您的屏幕截图未显示的是用户（我假设是您）为“输入网格宽度”输入的内容。每个人的号码是一样的还是不同的？你有没有调换第一个和第二个索引？

# html - 在 iframe 中设置图像样式

> ID：15082459
> 
> 赞同：5
> 
> 时间：2013-02-26T06:05:17.707
> 
> 标签：html, css, iframe, image

通过设置 iframe 的 src 属性，我在 iframe 中有一个图像：

```
<iframe src="path/to/my/image.jpg" class="myclass"></iframe> 
```

iframe 具有固定的高度和宽度。我希望该图像的宽度填充 iframe，但它的高度将与宽度保持成比例，因此用户可以向下滚动 iframe 以查看图像的其余部分。
我该怎么做呢？
编辑：JSFiddle 链接[http://jsfiddle.net/2LExA/](http://jsfiddle.net/2LExA/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T23:57:31.833

我将 iframe 的 src 设置为名为 show_image.php 的页面，并将图像 url 作为查询字符串传递：

```
<iframe src="show_image.php?src=path/to/image.jpg" class="foobar"></iframe> 
```

然后在 show_image.php 中，我删除了一个 img，其 src 设置为查询字符串，宽度设置为 100%：

```
<img src="<?php echo $_GET['src']; ?>" style="width:100%" /> 
```

完毕！感谢 lukeocom 提示我应该将图像放在单独的页面中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:41:16.717

您主要使用 iframe 来显示一个单独的 html 页面，该页面将包含一个图像。因此，您将对该页面使用 css 来设置图像样式。您可以使用 css 设置 iframe 的宽度，但不能设置其内容。

您的另一种选择是将图像放在 div 中，并相对于该 div 设置图像的样式。

html

```
<div><img src="yourimg" /></div> 
```

css

```
div{width:600px;height:300px;}
img{width:50%;} 
```

# svn - 在 TortoiseSVN 中标记代码的某些部分

> ID：15082468
> 
> 赞同：0
> 
> 时间：2013-02-26T06:06:09.387
> 
> 标签：svn

我想知道我是否可以只标记我的代码的所需部分，或者整个代码连同所有文件一起被标记？

善意的回应将是可观的:)

谢谢

**编辑**

我想稍微编辑一下这个问题：

假设一个场景 - 假设我已经标记了代码以准备一个基线代码，我可以从中继续前进。但是，后来我才知道我需要修复一些页面，但不是所有在上次构建后签入的页面。所以我想单独标记那些与旧标签修复错误相关的页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T06:37:36.273

这是SVN的详细信息，请阅读此

标记将是您希望保留的主干或分支上的时间点。保留的两个主要原因是，要么这是软件的主要版本，无论是 alpha、beta、RC 还是 RTM，或者这是应用主干上的主要修订之前软件的最稳定点。

[Subversion 存储库中的“分支”、“标记”和“主干”是什么意思？](https://stackoverflow.com/questions/16142/what-do-branch-tag-and-trunk-mean-in-subversion-repositories)

# ruby-on-rails - Rails 祖先与 nil 父级

> ID：15082470
> 
> 赞同：4
> 
> 时间：2013-02-26T06:06:14.610
> 
> 标签：ruby-on-rails, ancestry

我正在使用 Ancestry 在 Rails 中构建一个分层类别，并且我允许用户选择他们正在创建的对象的父级。我使用下拉列表显示现有类别：

```
<%= f.input :ancestry, collection: Category.sorted_list %> 
```

只要用户选择一个现有的节点，一切都很好。如果用户在下拉列表中选择空白，我希望 Ancestry 创建一个根节点，但表单会引发“无效”错误。

我的控制器没有做任何令人兴奋的事情：

```
def update
  @category = Category.find(params[:id])

  respond_to do |format|
    if @category.update_attributes(params[:category])        
      format.html { redirect_to @category, notice: 'Category was successfully updated.' }        
      format.json { head :no_content }
    else        
      format.html { render action: "edit" }
      format.json { render json: @category.errors, status: :unprocessable_entity }
    end     
  end 
end 
```

我是 Rails 的新手，所以我不确定如何解决这个问题。是否有我错过的 Ancestry 配置，或者这可能是表单验证器过度保护？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T06:40:27.800

发生这种情况是因为`ancestry`不可能`nil`，并且手动更改它是一个坏主意，因为所有 gem 的行为都基于此属性。对于这种情况，gem 有另一个`parent_id`属性，您应该在表单中使用它。

[gem的wiki](https://github.com/stefankroes/ancestry/wiki/Creating-a-selectbox-for-a-form-using-ancestry)中有一个很好的解释如何使用`ancestry`

希望能帮助到你

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-27T15:49:34.120

Ancestry 通过以下方式验证了他的[领域](https://github.com/stefankroes/ancestry/blob/7a5e0910f22eabe66bcd59d09dea2c59815dd00f/lib/ancestry/has_ancestry.rb#L34)：

```
# Validate format of ancestry column value
validates_format_of ancestry_column, :with => Ancestry::ANCESTRY_PATTERN, :allow_nil => true 
```

但是你不能`nil`在表单中传递值。所以我这样做了：

```
before_validation do
  self.ancestry = nil if self.ancestry.blank?
end 
```

# sip - 使用 ChanSpy 监控双向通话后更改为三向通话 ---Asterisk---

> ID：15082473
> 
> 赞同：0
> 
> 时间：2013-02-26T06:06:25.347
> 
> 标签：sip, voip, asterisk, telephony, freeswitch

我有一个想使用 Asterisk 实现的场景。↓↓

* * *

我想让 3 位参与者通话：A、B 和 C。

A 和 B 应该能够互相交谈和听到对方的声音。

C 应该能够听到 A 和 B 之间的对话，并且能够与 A 交谈但不能与 B 交谈。

* * *

## 我认为上面的场景可以通过 Asterisk cmd "ChanSpy" 来完成，但我也想让监视器 C 加入 A、B 之间的对话并使其成为三向呼叫。

我没有考虑在这个实现中使用“会议室”的想法。

不使用“会议室”是否能够完成上述场景？

请帮助...您的意见，建议总是appriciated。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T17:26:07.103

A 和 B 互相交谈意味着来自 A 的音频传给 B，来自 B 的音频传给 A。ChanSpy 到 C 意味着来自 A 和 B 的音频混合在一起并发送给 C。（所以你已经使用了混音器 hera，但是轻量级的。）

C 与 A 交谈意味着来自 C 的音频和来自 B 的音频必须混合并发送到 A。在这个阶段，理论上你在游戏中投入了第二个混音器，我说“理论上”，因为我什至不知道如何你实际上可以做到这一点。到现在为止，我认为您最好使用真正的会议，大部分时间都使用 C 静音。

我理解您对系统中的所有内容都不是三方会议的担忧。如果 C 谈话是偶尔发生的事件，那么您可以从 AB 桥和 ChanSpy C 开始，然后当 C 想要加入对话时，您打破桥并创建会议。这确实需要一些工作，但它尊重资源:)

# java - 从 ArrayList 中删除 URLConnection 对象

> ID：15082474
> 
> 赞同：7
> 
> 时间：2013-02-26T06:06:30.010
> 
> 标签：java, arraylist, urlconnection

在我的程序中，我需要跟踪到某些 HTTP 服务器的打开连接列表 - 以便在需要时立即断开它们。

我遇到了以下问题。如果我连接到 HTTP 服务器一切正常，但如果连接到 HTTPS，则连接不会从列表中删除。它会导致内存泄漏。

例子：

```
package test;

import java.net.URL;
import java.net.URLConnection;
import java.util.ArrayList;

public class Main {

    public static void main(String[] args) {
        try {
            ArrayList<URLConnection> al = new ArrayList<URLConnection>();

            URL url = new URL("http://www.example.com");

            URLConnection conn = url.openConnection();
            al.add(conn);
            System.out.println("Result of removing = " + al.remove(conn));

        } catch (Exception ex) {
            ex.printStackTrace(System.err);
        }
    }
} 
```

如果 URL 指向“ [http://www.example.com](http://www.example.com) ”，则“删除结果 = true”。

但如果 URL 指向“ [https://www.example.com](https://www.example.com) ”，则“删除结果 = false”。

我不理解这样的行为。我有一些假设，但不确定...

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T06:15:29.997

简而言之（至少，对于 HotSpot JVM 23.7-b01），`conn.equals(conn)==false`当 URL 方案是 HTTPS 时，我们就有这种情况。

该操作`remove(Object o)`被[定义](http://docs.oracle.com/javase/6/docs/api/index.html?javax/net/ssl/HttpsURLConnection.html)为删除元素*e*使得`(o==null ? e==null : o.equals(e))`（即删除是根据*equals*定义的）。可以预期 remove(conn) 会成功，因为元素刚刚被插入，但是因为`conn.equals(conn)`is `false`，集合实现理解该元素不包含在内。

这是一个奇怪的情况，其中*equals*不是自反的。从[openjdk 实现](http://hg.openjdk.java.net/build-infra/jdk7/jdk/file/0f8da27a3ea3/src/share/classes/sun/net/www/protocol/https/HttpsURLConnectionImpl.java)来看，原因很清楚：将*equals*`HttpsURLConnectionImpl`的实现委托给一个内部对象，该对象**不等于**包装器。

 ***```
public class HttpsURLConnectionImpl {
   protected DelegateHttpsURLConnection delegate;
   public boolean equals(Object obj) {
    return delegate.equals(obj);
   }
} 
```***

# javascript - 如何在 Javascript 中浏览图片

> ID：15082476
> 
> 赞同：0
> 
> 时间：2013-02-26T06:06:39.803
> 
> 标签：javascript

我有一个图像滑块，可以在单击下一个按钮和上一个按钮时更改图片。因此，如果用户单击下一张，则会弹出序列中的下一张图片，如果用户点击上一张，则会弹出前一张。下一个功能工作得很好，但我似乎无法让上一个功能工作。

```
<script type="text/javascript">

var image1 = new Image();
var image2 = new Image();
var image3 = new Image();
var image4 = new Image();
var image5 = new Image();
var image6 = new Image();
var image7 = new Image();
var image8 = new Image();
var image9 = new Image();
var image10 = new Image();
var image11 = new Image();

image1.src="jokes.png";
image2.src="facts.png";
image3.src="riddles.png";
image4.src="html.png";
image5.src="xml.png";

</script>

<img alt="previous" id="prev" src="prev_ctrl.png" width=60 height=60 onClick="slideprev()">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="jokes.png" name="slide" width="200" height="200">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img id="next" src="next_ctrl.png" alt="next" width=60 height=60 onClick="slidenext()">
<script type="text/javascript">
var step = 1;

function slidenext() {
  document.images.slide.src = eval("image" + step + ".src");
  if (step < 5){ 
     step++;
   }else{ 
    step = 1;
    }
}

function slideprev() {
  document.images.slide.src = eval("image" + step + ".src");
  if (step >= 5){ 
     step--;
   }else{ 
    step = 5;
    }
}

</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:15:33.380

您的代码不起作用，因为`slidePrev`永远不会低于 5。我已经修改了您的代码。

```
var step = 0;
var images = [ "jokes.png", "facts.png", "riddles.png", "html.png", "xml.png"];
var stepLimit = images.length - 1;

function slideNext() {
   step = Math.min(step + 1, stepLimit);
   document.images.slide.src = images[step]
}

function slidePrev() {
   step = Math.max(step - 1, 0);
   document.images.slide.src = images[step]
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T08:24:50.943

```
function slideprev() {
  document.images.slide.src = "image"+step+".png";
      if (step <= 5 && step > 1){ 
         step--;
        }else{ 
             step = 5;
        }
    } 
```

只需将 slideprev 功能替换为上述功能，即可正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:19:30.813

```
document.images.slide.src = window["image" + step].src; 
```

这是对您的代码的更正，但我建议@Aishwar 的解决方案

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:16:03.717

```
var imgsrc="image" + step + ".src";   
document.images.slide.src=imgscr; 
```

# iphone - 覆盖 UITextField 的返回键类型

> ID：15082481
> 
> 赞同：-1
> 
> 时间：2013-02-26T06:07:05.640
> 
> 标签：iphone, objective-c, uitextfield, return-type

当我`UIToolBar`编辑`UITextField`. 下一个按钮的行为应该`"next"= "returnkeytype"`与`UITextField`.

有没有办法实现这个功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:25:09.497

您应该在下一个按钮的选择器上使用以下代码。用文本字段替换您的文本字段名称。

```
- (IBAction)onNextClick:(id)sender
{
    [textfield resignFirstResponder];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:16:53.090

如果我理解您的问题，那么您可以使用 textField 的委托方法

```
- (BOOL)textFieldShouldReturn:(UITextField *)textField;// called when 'return' key pressed. return NO to ignore. 
```

# c# - 从 Asp.net 中的方法调用时弹出不工作

> ID：15082488
> 
> 赞同：0
> 
> 时间：2013-02-26T06:07:23.230
> 
> 标签：c#, asp.net, popup

```
 <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="/resources/demos/external/jquery.bgiframe-2.1.2.js"></script>
    <script src="http://code.jquery.com/ui/1.9.0/jquery-ui.js"></script>

if (Session["DtaMade1"] != null)
    {
       dtaMade = (string)Session["DtaMade1"];
       ScriptManager.RegisterStartupScript(Page, this.GetType(), "jscript", 
                                                 "alert('" + dtaMade + "');", true);
    } 
```

我正在使用以下代码打开我的**弹出窗口**

但是它不起作用，而且我的所有控件都在更新面板中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:14:19.193

当您使用 Update Panel 时，将您的 javascript 函数放在 pageLoad 事件中，而不是 document.ready 或 window.onload 中。请检查链接。[http://encosia.com/document-ready-and-pageload-are-not-the-same/](http://encosia.com/document-ready-and-pageload-are-not-the-same/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:14:33.267

您只是在提醒您的`dtaMade`对象，脚本中没有提供打开弹出窗口的功能....

# css - Jquery 可折叠/可扩展 div 的 contnet 正在包装到 3 列页面上的下一列

> ID：15082490
> 
> 赞同：0
> 
> 时间：2013-02-26T06:07:24.300
> 
> 标签：css

我有一个使用 css3 列的 3 列 div 的页面。div 内部是可折叠/可扩展的无序列表。其中一些太长了，以至于当它们展开列表项时，它们会换行到下一列。这看起来有点古怪，我想知道somone是否有更好的替代解决方案来显示所有这些看起来更好的数据。有没有办法阻止它进入下一列而只是让那一列自动变高？

这是我页面的链接

[http://tinyurl.com/afuswcs](http://tinyurl.com/afuswcs)

（另请注意，在靠近顶部的第二列或第三列单击一个时，它会在展开后跳转到上一列）

```
 <script type="text/javascript">
jQuery(document).ready(function() {
  jQuery(".wine-type-list-ul").hide();
  //toggle the componenet with class msg_body
  jQuery(".tax-term-heading").click(function()
  {
    jQuery(this).next(".wine-type-list-ul").slideToggle(500);
  });
});
</script>
<style> h5 {cursor: hand; cursor: pointer; ;color:#BE883B; font-size:14pt; padding-bottom:none; margin-bottom:none;  padding-left:10%;} 
.wine-type-list-ul{display:block;}
.wine-type-list-li{width:100%; display:block;padding-left:10%;}
.winery-by-wine-types {}
</style>
<?php

$post_type = 'wineries';
$tax = 'wine-types';
$tax_terms = get_terms($tax,'hide_empty=0');
//list the taxonomy

echo'<div style="clear:both;" class="winery-by-wine-types">';?>
<p align="center" style="padding-bottom:10px; word-spacing:2px; padding-top:20px; font-size:16pt; color:#BEB585;">Full List of Wineries by Wine Types:</p>
<?php
echo '<style>.wine-type-list {font-size:11pt;}</style>
<div style="-moz-column-count:3; /* Firefox */
-webkit-column-count:3; /* Safari and Chrome */
column-count:3;"> 
';
//list everything
if ($tax_terms) {
  foreach ($tax_terms  as $tax_term) {
    $args=array(
      'post_type' => $post_type,
      "$tax" => $tax_term->slug,
      'post_status' => 'publish',
      'posts_per_page' => -1,
      'caller_get_posts'=> 1,
      'orderby'=>'title' ,
       'order'=>'ASC' 
    );

    $my_query = null;
    $my_query = new WP_Query($args);
    if( $my_query->have_posts() ) {

 echo "<h5 class=\"tax-term-heading\" id=\"".$tax_term->slug."\"> $tax_term->name </h5><ul class=\"wine-type-list-ul\">";
      while ($my_query->have_posts()) : $my_query->the_post(); ?>
        <li class="wine-type-list-li"><a class="wine-type-list" href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title(); ?></a></li>
        <?php
      endwhile;

      echo'<p></ul>';

    }

    wp_reset_query();
  }echo'</div></div>';
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T13:33:25.507

不要为此使用列。在 PHP 代码中拆分三个元素，并在每个元素周围放置一个 DIV 标签。然后在 DIV 上添加一些样式以将它们浮动到左侧：

```
 <div style="float:left;width:33.33%";> 
```

请记住在最后创建一个 DIV，或者在标签的包装器上使用 clearfix 类：

```
 <div style="clear:both;"></div> 
```

您的示例已修复：

```
<script type="text/javascript">
    jQuery(document).ready(function() {
    jQuery(".wine-type-list-ul").hide();
        //toggle the componenet with class msg_body
        jQuery(".tax-term-heading").click(function()
        {
            jQuery(this).next(".wine-type-list-ul").slideToggle(500);
        });
    });
</script>
<style>
    h5 {cursor: hand; cursor: pointer; ;color:#BE883B; font-size:14pt; padding-bottom:none; margin-bottom:none;  padding-left:10%;} 
    .wine-type-list-ul{display:block;}
    .wine-type-list-li{width:100%; display:block;padding-left:10%;}
    .winery-by-wine-types {}
</style>
<?php

    $post_type = 'wineries';
    $tax = 'wine-types';
    $tax_terms = get_terms($tax,'hide_empty=0');
            //list the taxonomy

    echo'<div style="clear:both;" class="winery-by-wine-types">';
?>

<p align="center" style="padding-bottom:10px; word-spacing:2px; padding-top:20px; font-size:16pt; color:#BEB585;">Full List of Wineries by Wine Types:</p>

<?php
    echo '<style>.wine-type-list {font-size:11pt;}</style><div><div style="float:left;width:33.33%">';

    //list everything
    if ($tax_terms)
    {
        $totalLength = count($tax_terms);
        $splittedLength = $totalLength / 3;
        $i = 0;
        foreach ($tax_terms  as $tax_term)
        {
            $i++;

            $args=array(
                'post_type' => $post_type,
                "$tax" => $tax_term->slug,
                'post_status' => 'publish',
                'posts_per_page' => -1,
                'caller_get_posts'=> 1,
                'orderby'=>'title' ,
                'order'=>'ASC' 
                );

            $my_query = null;
            $my_query = new WP_Query($args);

            if( $my_query->have_posts() )
            {
                if ($i == $splittedLength)
                {
                    if ($i != 1)
                    {
                        echo '</div>';
                    }

                    if ( $i != $totalLength )
                    {
                        echo '<div style="float:left;width:33.33%">';
                    }
                }

                echo "<h5 class=\"tax-term-heading\" id=\"".$tax_term->slug."\"> $tax_term->name </h5><ul class=\"wine-type-list-ul\">";

                while ($my_query->have_posts()) : $my_query->the_post();

?>
                <li class="wine-type-list-li"><a class="wine-type-list" href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to <?php the_title_attribute(); ?>">
<?php

                the_title();

                echo'</a></li>';

                endwhile;

                echo'<p></ul>';

                if ($i == $splittedLength)
                {
                    $i = 0;
                }
            }

            wp_reset_query();
        }

        echo'</div></div>';
    }
?> 
```

# php - 如何从codeigniter视图发出ajax请求

> ID：15082491
> 
> 赞同：2
> 
> 时间：2013-02-26T06:07:27.093
> 
> 标签：php, jquery, html, ajax

我有一个看法

```
 <script type="text/javascript">

function ajax_articles() {

    $.ajax({
      url: "http://localhost/codeigniter/CodeIgniter_2.1.3/index.php/patientmain/search_doctor_by_name/"+$('#search')[0],
      async: false,
      type: "POST",
      data: "type=article",
      dataType: "html",
      success: function(data) {
        $('#ajax').html(data);
      }

  });

}
</script>
<div class="content">
<div class="content-left">
<div  class="row1">
   <h2>Welcome <? echo $username ?></h2>
   <form name="search">
   Search Doctor by name : <input name="name" id="search" type="text" onChange="ajax_articles();">
   </form>
   </div>

   <div id="ajax">

</div>
</div>

<div class="content-right">
<div class="mainmenu">
<h2 class="sidebar1">My Menu</h2>
<p><ul>
  <li><a href="#">this is a dummy link 1</a></li>
  <li><a href="#">this is a dummy link 2</a></li>
  <li><a href="#">this is a dummy link 3</a></li>
  <li><a href="#">this is a dummy link 4</a></li>
  <li><a href="#">this is a dummy link 5</a></li>
  <li><a href="#">this is a dummy link 6</a></li>
  <li><a href="#">this is a dummy link 7</a></li>
  <li><a href="#">this is a dummy link 8</a></li>
  <li><a href="#">this is a dummy link 9</a></li>
  <li><a href="#">this is a dummy link 10</a></li>
</ul></p>
</div>

</div>
</div> 
```

这是我的观点，现在我想`http://localhost/codeigniter/CodeIgniter_2.1.3/index.php/patientmain/search_doctor_by_name`通过这个 jquery ajax 调用。但什么都没有发生。没有回应。我认为代码中存在一些问题，请任何人指出问题。请建议。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:04:56.633

```
function ajax_articles() {
$.post("http://localhost/codeigniter/CodeIgniter_2.1.3/index.php/patientmain/search_doctor_by_name/"+$('#search').val(),{},function(data) {$('#ajax').html(data);});

} 
```

尝试这个

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:19:31.107

像这样：

```
public function search_doctor_by_name($search_name = '') {
      //$this->db->where('name',$search_name);
      //$row = $this->db->get('table')->result_array();
      $this->output->set_output($data);//or echo 'some data';
} 
```

可能你需要萤火虫。^_^

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T09:33:08.987

包括

```
<script src="http://code.jquery.com/jquery-latest.js"></script> 
```

并使用此功能

```
$(document).ready(function(){
    $("#search").change(function(){
        dataString = $("#JqAjaxForm").serialize();
        $.ajax({
        type: "POST",
        url: "your ci url",
        data: dataString,
        dataType: "json",
        success: function(data) {
            //var obj = jQuery.parseJSON(data); if the dataType is not specified as json uncomment this

            alert(data);// this will be a json string

        }

        });         

    });
}); 
```

并像这样给你的文本框

```
<input id="search" type="text" name="name_ajax" /> 
```

这是您的表单 ID

```
JqAjaxForm 
```

# orchardcms - 覆盖区域渲染

> ID：15082498
> 
> 赞同：2
> 
> 时间：2013-02-26T06:08:19.580
> 
> 标签：orchardcms

我正在尝试覆盖实际区域模板的呈现。

它呈现如下内容：

```
<div class="zone zone-hero" shape-id="13">      

    <div class="inner" shape-id="14">
        content is stuffed in here
    </div>

</div> 
```

我发现如果我将 Zone.cshtml 放入模板的根目录，我可以覆盖它的渲染。我想不通的是如何让它呈现它的小部件和内容（如果存在）。我尝试使用@Display(Model.Content)，但没有运气。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-22T14:42:28.647

此模板尊重形状的 Attribute 和 Classes 属性，并根据 Orchard 的约定设置 Id 字段。因此，对于开发人员而言，带有此代码的模板的行为与预期完全一致。

```
@{
    Model.Id = string.Concat("zone-", Model.Hint.ToLowerInvariant());
    var tag = Tag(Model, "section");
}
@tag.StartElement
@DisplayChildren(Model)
@tag.EndElement 
```

例如，如果您想覆盖 Content 区域，`zone-content.cshtml`请在主题项目的 Views 文件夹中创建一个名为的页面，并将上面的代码复制到其中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-27T05:24:34.903

您可以按照 Bertrand 的建议进行操作（这使您可以更好地控制渲染区域中的每个元素），或者执行`@DisplayChildren(Model)`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T07:28:00.533

您需要做的是枚举它自身下的形状并在每个形状上调用 Display。转换为 IEnumerable 应该可以解决问题。

# javascript - 检查尚未加载的资源

> ID：15082499
> 
> 赞同：0
> 
> 时间：2013-02-26T06:08:19.553
> 
> 标签：javascript

```
<html>
<body>

<img src="">//resource 1

<a href="">//resource 2

<script>

window.onload =function () {// code logic here}

</script>

</body>
</html> 
```

我想检查window.onload之后哪些资源出现了“找不到资源”之类的错误。或者有没有一种方法可以从开发人员工具中提取错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:15:21.330

下面的代码会给你语法错误括号`}`。

```
window.onload =function () {// code logic here} 
```

代替

```
window.onload =function () 
{
  // code logic here
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-26T06:26:54.220

在这里使用浏览器的开发者工具是正确的选择。Chrome 开发者工具有一个网络选项卡，它会安排来自浏览器的请求，并在任何请求失败时通知您。

请注意以下屏幕截图中以红色突出显示的资产。

![Chrome 开发者工具](../Images/a2318467621828df556fb3e488951a04.png)

# java - 在 Java 中的分布式架构上实现 Web Crawler

> ID：15082500
> 
> 赞同：0
> 
> 时间：2013-02-26T06:08:20.210
> 
> 标签：java, multithreading, web-crawler, distributed-computing

朋友们，我已经用 Java 实现了一个多线程的 Web Crawler。为了提高效率，我想将其转换为分布式架构，即在 3 台机器上。据我搜索主从架构是最好的。谁能提供一些关于哪个是最好的架构以及我如何在 Java 中实现它的见解？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:14:48.757

您可以为每个被抓取的域计算哈希码，并使用此哈希来确定哪个节点应该抓取该域。这样，所有节点都可以并行工作而无需太多交互。

您还需要一些代码在爬取完成后或定期合并爬取结果。可能最好只从节点复制一些生成的档案并在中央位置处理。

虚拟机云看起来像一个很好的部署平台，因为爬取不是很占用 CPU 或内存。

# api - 我可以提交一个类似于 html 的链接到 Twitter API

> ID：15082504
> 
> 赞同：1
> 
> 时间：2013-02-26T06:08:27.957
> 
> 标签：api, twitter

我正在尝试向 Twitter API (v1.1) 提交一条推文，如下所示：

```
here is a tweet link <a href="http://bit.ly/path">http://mylinktext.com</a> 
```

现在，如果你提交一个原始链接，twitter 会自动替换它的 t.co 链接包装器。我可以用自己的吗？我不在乎 Twitter 是否也包含我的缩短器（两层重定向）。

编辑：我可以通过帖子向 Twitter API 提交 URL 实体吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:33:37.373

无论如何，在 Twitter 上发布和从 Twitter 发布的链接都将以[http://t.co/](http://t.co/)的形式出现。

阅读此内容以获得更多说明：

[关于 Twitter 链接服务的常见问题解答 (http://t.co)](https://support.twitter.com/articles/109623-faqs-about-twitter-s-link-service-http-t-coresr)

> 由于上述原因，Twitter 将缩短您在 Twitter.com 上发布的 URL。您不能选择退出链接缩短。

# dynamics-crm-2011 - Dynamics CRM 2011 导入数据复制规则

> ID：15082509
> 
> 赞同：2
> 
> 时间：2013-02-26T06:08:55.860
> 
> 标签：dynamics-crm-2011, dynamics-crm

我有一个需求，我需要定期将数据从 excel (CSV) 导入 Dynamics CRM。

我不需要使用一些简单的数据重复规则，而是需要实施一个计**分系统**来确定数据是否被认为是重复的。

让我举个例子吧。例如，这些是 Import 的特定规则：

1.  名字，完全匹配，10 分
2.  姓氏，完全匹配，15 分
3.  电子邮件，完全匹配，20 分
4.  手机，完全匹配，5分

然后阈值 => 19 pts

现在，如果记录的**名字**和**姓氏**与实体中的旧记录匹配，则点数将为 25 分，高于阈值（19 分），因此数据被视为**重复**

例如，如果特定记录只有相同的**First Name**和**Mobile Phone**，则分数将为 15 分，低于阈值，因此被视为**非重复**

实现此要求的最佳方法是什么？是否可以在 MS CRM 中使用**导入数据**的默认功能？是否有任何第 3 方插件可以满足我的上述要求？

谢谢大家的帮助。

更新

嗨康拉德，谢谢你的建议，让我在这里详细说明：

> Excel。您可以使用 Excel 过滤掉数据，然后在获得唯一列表后将其导入。

不错的一个，但我认为它在我的情况下并不可行，数据将定期来自客户端，数量适中（数百到数千）。通常客户端不会检查数据的重复。

> 工作流程。运行一个流程，删除任何计算为重复的实例。

工作流是一个好主意，但是由于它是异步处理的，我担心的是，在某些情况下，用户可能已经在工作流完成工作之前对插入的数据进行了一些更新/更改。因此会产生一些数据不一致或非常最不混乱的用户体验

> 插入。在每次创建新记录时，您都会检查它是否被视为重复并取消它的创建（或标记为删除）。

我喜欢这种方法。所以我只是像往常一样导入（例如，联系实体），但我已经有一个插件，每次创建记录时都会触发，插件将检查记录是否重复并采取必要的措施.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T07:13:04.893

我并没有对重复检测进行太多改动，但是查看您的标准，您可能可以制定与这些标准相匹配的规则，几乎涵盖了三个规则来涵盖您的案例，全名匹配，姓氏和手机匹配以及电子邮件匹配。

如果你想做积分系统，我还没有看到任何开箱即用的组件可以解决这个问题，但是[CRM Extensions](http://www.crmextensions.com/)有一个名为 Import Manager 的产品，它可能具有这种重复检测功能。他们声称已经定制了重复检查。可能值得向他们询问这个问题。

否则，自定义编码将解决此问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T07:04:29.477

我可以想到以下任务方法（取决于记录的数量、导入的重复性、自动化要求等），它们可能都很好。您愿意详细说明目前的情况吗？

1.  **Excel。**您可以使用 Excel 过滤掉数据，然后在获得唯一列表后将其导入。

2.  **插入。**在每次创建新记录时，您都会检查它是否被视为重复并取消它的创建（或标记为删除）。

3.  **工作流程。**运行一个流程，删除任何计算为重复的实例。

您还需要考虑这种数据消除的含义。有一个数学问题。假设唯一性的半径（即一维情况下的阈值）为 3。考虑以下一组数字（它列出了两次，只是顺序不同）。

```
1 3 5 7    ->    1 _ 5 _
3 1 5 7    ->    _ 3 _ 7 
```

你确定这是预期的结果吗？在某些情况下，您甚至可以得到不同大小的记录集（仅取决于顺序）。我有点好奇*为什么*以及*如何*设置。

就个人而言，如果您同意上述内容，我会选择插件。如果您需要确保某些独特的元素永远不会被遗漏，您可能最好将测试算法应用于数据备份。但是，这可能会破坏它的目的。

事实上，这听起来很有趣，我可能会为您创建解决方案（只是为了表明它可以完成）并在博客中介绍它。什么是最后期限？

# php - 将 HTML 元素数组发布到 PHP

> ID：15082512
> 
> 赞同：1
> 
> 时间：2013-02-26T06:09:12.853
> 
> 标签：php, javascript, html

这是我的表格的快照。LPO（第一列）下的输入值是隐藏的，我只是在这里显示它们以显示完整的形式。

![在此处输入图像描述](../Images/8a08a2da19cafaa41b5616869746c342.png)

如果 color_id（最左边的第一个输入框）为 37，则其 DB 值`BB552`与显示的一样。如果为 3，则该颜色的值为`BB110`，但为 0 时，表示用户选择了自定义，并在第三行中自己写入了一个值`FFBBBAA`。

我需要将表单提交给 PHP

字段名称如下

```
color_id[] <-- Hidden input
order_id[] <-- Hidden input
subcolor_id[] <-- Select
subcolor_string[] <-- Input
material_id[] <-- Select
weight[] <-- input 
```

当我在 PHP 中发布表单时

```
<?PHP

$count = count($_POST['weight']);

for($i = 0; $i < $count; $i++){
    $color_id = $_POST['color_id'][$i];
    $order_id = $_POST['order_id'][$i];
    $material_id = $_POST['material_id'][$i];
    $weight = $_POST['weight'][$i];

    // i can count one post item and can iterate over all.

    if($color_id == 0){
       $color_id = $_POST['subcolor_id'][$i]; // this give me wrong result;
    }

} 
```

因此，当 0 存在时，管理员批准此表单，可以将其保留为自定义或将颜色更改回 DB 中的某个值

`color_id`如果第一个隐藏输入为 0，我想知道获得正确子颜色值的可能性是什么。

到目前为止，我想到的一个是在 Sub Color 列中添加两个隐藏字段以匹配它们的索引，但这需要我完全重新编写`del sub color`代码

有没有其他方法可以让我免于对该表格进行大量修改？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:29:41.477

正如 eds 所提到的，这完全有道理。你应该这样做

```
$j=0;
$count = count($_POST['weight']);

for($i = 0; $i < $count; $i++){
$color_id = $_POST['color_id'][$i];
$order_id = $_POST['order_id'][$i];
$material_id = $_POST['material_id'][$i];
$weight = $_POST['weight'][$i];

// i can count one post item and can iterate over all.

if($color_id == 0){
   $color_id = $_POST['subcolor_id'][$j]; // this give me wrong result;
   $j++;
}

} 
```

这解决了你的问题..

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:24:30.393

您的另一个选择是`$j`在循环之外声明另一个迭代器，从 0 开始，并在每次读取子颜色后手动递增该迭代器。那么它应该始终是`subcolor_id`您需要阅读的下一个索引。

# python - 应该是 GAE 数据存储查询中的空返回字符串，但落入说它找到了某些东西的逻辑？

> ID：15082514
> 
> 赞同：0
> 
> 时间：2013-02-26T06:09:25.437
> 
> 标签：python, google-app-engine, google-cloud-datastore

在我的 python 服务器端代码中，我运行一个查询 (q) 来检查指定过滤条件的数据是否存在。我的数据存储区中的 Name_Table 是空的，所以为什么当我期望它落入 else: 逻辑时它落入 if q: 逻辑 ---- 因为它是一个空表实体？

```
q = Name_Table.all().filter("name =", cname).filter("provider =",refkey).filter("platform_provider =",refkey2) 
```

如果 q: xxxx

其他：YYYYYY

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:03:24.127

您尚未执行查询，因此您正在检查查询是否存在，而不是查询是否返回一些数据。您可能想要添加`fetch(10)`或`get()`执行查询。

# android - Android Fragment Tabs 抛出错误

> ID：15082516
> 
> 赞同：0
> 
> 时间：2013-02-26T06:09:37.603
> 
> 标签：android, android-fragments

我正在尝试为 2 个选项卡创建 2 个选项卡和 2 个不同的活动。但在启动活动期间抛出错误。这是我的代码：

```
public class CashSales extends FragmentActivity {
    private FragmentTabHost mTabHost;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.cash_sales_tab);
        mTabHost = (FragmentTabHost)findViewById(android.R.id.tabhost);
        mTabHost.setup(this, getSupportFragmentManager(), R.id.realtabcontent);

        mTabHost.addTab(mTabHost.newTabSpec("simple").setIndicator("Simple"),
                CustomerAddActivity.class, null);
        mTabHost.addTab(mTabHost.newTabSpec("contacts").setIndicator("Contacts"),
                ItemAddActivity.class, null);
    }
} 
```

这是我的活动，将出现在一个选项卡中。

```
 public class CustomerAddActivity extends FragmentActivity {
        private EditText mName; 
        private EditText mEmail1;
        private Integer mPkid;

        @Override
        protected void onCreate(Bundle bundle) {
            super.onCreate(bundle);
            setContentView(R.layout.activity_customer_add);

            mName = (EditText) findViewById(R.id.customer_add_name);
            mEmail1 = (EditText) findViewById(R.id.customer_add_email1);
            Button confirmButton = (Button) findViewById(R.id.customer_add_button);
'''''''''''''''''''''''''''         
        }
    } 
```

目录日志：

```
02-26 05:52:39.732: E/AndroidRuntime(25579): FATAL EXCEPTION: main
02-26 05:52:39.732: E/AndroidRuntime(25579): java.lang.ClassCastException: asia.wavelet.android.customer.CustomerAddActivity cannot be cast to android.support.v4.app.Fragment
02-26 05:52:39.732: E/AndroidRuntime(25579):    at android.support.v4.app.Fragment.instantiate(Fragment.java:394)
02-26 05:52:39.732: E/AndroidRuntime(25579):    at android.support.v4.app.FragmentTabHost.doTabChanged(FragmentTabHost.java:339)
02-26 05:52:39.732: E/AndroidRuntime(25579):    at android.support.v4.app.FragmentTabHost.onAttachedToWindow(FragmentTabHost.java:276) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:18:02.447

您在`addTab`这里为该方法提供了一个活动而不是一个片段：

```
mTabHost.addTab(mTabHost.newTabSpec("simple").setIndicator("Simple"),
                CustomerAddActivity.class, null);
 mTabHost.addTab(mTabHost.newTabSpec("contacts").setIndicator("Contacts"),
                ItemAddActivity.class, null); 
```

这就是系统试图将活动转换为片段并抛出`ClassCastException`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:18:09.193

你应该扩展 Fragment，而不是 Fragment Activity。

像这样。

```
public class CustomerAddActivity extends Fragment
@Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        return inflater.inflate(R.layout.activity_customer_add, container, false);
    } 
```

# c# - 从基类派生并覆盖函数

> ID：15082523
> 
> 赞同：0
> 
> 时间：2013-02-26T06:09:52.817
> 
> 标签：c#, .net, winforms

`Label`下面是WinForms中标准控件的一部分：

```
public class Label : Control
{
       protected override void OnTextChanged(EventArgs e)
       {
           ...
       }
} 
```

我想覆盖 OnTextChanged 事件，但我不确定最好的方法。

我应该从 Label 类派生一个子类，然后像这样覆盖函数吗？

```
public class Class1 : Label
{
    protected override void OnTextChanged(EventArgs e)
    {
        MessageBox.Show("S");
    }
} 
```

如果是这样，我应该如何以及在哪里添加这个类？

如果不是，我如何覆盖控件内定义的函数？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T07:02:45.847

这是您可以覆盖控制方法的方式。正如你所做的那样绝对正确，但详细的实现在这里。

这是表格部分

```
using System;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class TestForm : Form
    {
        MyLabel newLable;
        public TestForm()
        {
            InitializeComponent();
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            newLable = new MyLabel();
            newLable.Height = 30;
            newLable.Width = 40;
            newLable.Text = "hello";
            this.Controls.Add(newLable);

        }       
    }
} 
```

您也可以使用工具箱中的 MyLabel。

MyLabel 类是

```
using System;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{

   public class MyLabel:Label
    {

       public MyLabel()
       {

       }
       protected override void OnClick(EventArgs e)
       {
           base.OnClick(e);
           MessageBox.Show("Label Clicked");
       }

    }
} 
```

# javascript - 根据左/右按钮显示某些短语（文本的内容滑块，而不是图像？）

> ID：15082527
> 
> 赞同：3
> 
> 时间：2013-02-26T06:10:09.867
> 
> 标签：javascript, jquery, slider

我的网站上有一个部分，我希望它类似于内容滑块，但不是自动播放，仅用于循环浏览几个短语。我确信 jQuery 可能是实现这一目标的最佳方式，但我对 jQuery 的了解不足，无法将图像滑块调整为句子滑块。我该怎么做才能达到这个效果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:41:23.373

这是一个简单的文本滑块供您使用。

HTML：

```
<div id="textSlider">
    <p>This is the first test sentence</p>
    <p>This is a another test sentence</p>
    <p>One more test sentence</p>
    <p>The final test sentence</p>
</div>

<div id="textSlider-buttons">
    <a href="#" class='prev'>Prev</a>
    <a href="#" class='next'>Next</a>
</div> 
```

JS：

```
$(function() {
    var slides = $('#textSlider').children();
    var currentSlide = 0;

    // show first item
    slides.eq(0).addClass('active');

    // on button click
    $('#textSlider-buttons').on('click', 'a', function() {

        // increment or decrement slide number
        $(this).attr('class') == 'prev' ? currentSlide-- : currentSlide++;

        // if over number of slides, or less than zero, make adjustments
        if(currentSlide >= slides.length) currentSlide = 0;
        if(currentSlide < 0) currentSlide = slides.length-1;

        // display current slide
        slides.removeClass('active').eq(currentSlide).addClass('active');
    });
}); 
```

见[http://jsfiddle.net/samliew/rZBaT/6/](http://jsfiddle.net/samliew/rZBaT/6/)

如果您想要动画淡入淡出，请参阅[http://jsfiddle.net/samliew/rZBaT/14/](http://jsfiddle.net/samliew/rZBaT/14/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T10:49:27.500

要实现这种内容滑动效果，您需要设置一个`mask`div，它是您希望幻灯片的大小。然后在掩码 div 后面/内部是一个`container`包含所有幻灯片的 - 然后您使用 jQuery 和左侧位置或负边距移动容器以创建此滑动效果。

像这样设置你的 HTML

```
<div id="slider_mask">

    <div class="slide_container">

        <div class="slide"><p>Slide One</p></div>
        <div class="slide"><p>Slide Two</p></div>
        <div class="slide"><p>Slide Three</p></div>
        <div class="slide"><p>Slide Four</p></div>
        <div class="slide"><p>Slide Five</p></div>

    </div>

    <div class="left_button"><</div>
    <div class="right_button">></div>

</div> 
```

你的CSS如下 - 重要的是你`slider_mask`和`overflow:hidden`你在div中`slides`彼此`float`相邻`slider_container`

```
#slider_mask {
    width:300px;
    height:200px;
    overflow:hidden;  
    border:1px solid #000;
    position:relative;
}

    #slider_mask .slide_container {
        height:200px;
        position:relative;
    }

    #slider_mask .slide {
        width:300px;
        height:200px;
        float:left;  
        text-align:center;
        background-color:#f1f1f1;
    }

    #slider_mask .left_button {
        position:absolute;
        padding:5px;
        left:0px;
        top:90px;
    }

    #slider_mask .right_button {
        position:absolute;
        padding:5px;
        right:0px;
        top:90px;
    } 
```

最后是 jQuery，与@Samuel Liew 的示例类似，我们将循环遍历 中的所有元素，`slide_container`但在这种情况下，我们将对 div 进行动画处理，而不仅仅是更改其内容或类。

```
// Setup Variables
var slides = $('#slider_mask .slide_container').children();
var total_slides = slides.length;
var slide_width = $('#slider_mask').width();
var current_slide = 0;

// Set the width of the slide_container to total width of all slides
$('#slider_mask .slide_container').width(slide_width*total_slides);

// Handle Right Arrow Click
$('#slider_mask .right_button').on('click', function() {

    current_slide++;

    if(current_slide == total_slides){ current_slide = 0; }

    var negative_margin_required = current_slide*slide_width;
    $('#slider_mask .slide_container').stop().animate({marginLeft:-negative_margin_required+'px'},'fast');

});

// Handle Left Arrow Click
$('#slider_mask .left_button').on('click', function() {

    current_slide--;

    if(current_slide < 0){ current_slide = total_slides-1; }

    var negative_margin_required = current_slide*slide_width;
    $('#slider_mask .slide_container').stop().animate({marginLeft:-negative_margin_required+'px'},'fast');

}); 
```

这是一个演示此工作的 JSFiddle - [http://jsfiddle.net/2s95M/20/](http://jsfiddle.net/2s95M/20/)

# java - 批处理文件执行后如何让cmd保持打开状态

> ID：15082536
> 
> 赞同：1
> 
> 时间：2013-02-26T06:10:54.780
> 
> 标签：java, batch-file, cmd

我目前正在学习 Java 课程，出于安全原因，它不允许我们为 Java 编译器设置环境变量。我们一直要做的就是打开`cmd`然后放

```
set path="path_to_java" 
```

这真的很烦人，因为当我们关闭命令行时，它会丢失路径。我能够创建 .bat 文件的一部分，但是当我执行它时，它会立即关闭。我知道你可以输入，`PAUSE`但它不会让我们插入任何 Java 代码。

有什么方法可以创建一个 .bat 文件并解决这个问题，所以当我双击它会创建路径变量并让我们编译 Java 代码？

我目前只有这个

```
SET PATH "path_to_compiler"
CLS 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T23:15:43.090

你可以做几件事。一种方法是在某处（例如在您的配置文件文件夹中）创建您的批处理文件，并使其在您启动命令提示符时自动执行：

```
reg add "HKCU\Software\Microsoft\Command Processor" /v AutoRun /t REG_SZ /d "%USERPROFILE%\init.cmd" 
```

但是，由于您不允许设置持久性环境变量，因此也可能会禁止这样做。在这种情况下，您可以在桌面上创建批处理脚本的快捷方式，然后打开其属性并将目标更改为以下内容：

```
%COMSPEC% /k C:\path\to\your.cmd 
```

`%COMSPEC%`是 CMD 可执行文件，该选项`/k`可防止它在脚本完成后自动关闭。

作为旁注，您可能希望将当前`%PATH%`包含在编译器的路径中，否则某些东西可能会停止工作（例如，因为某些命令行实用程序无法再找到）：

```
set PATH=%PATH%;C:\javac\folder 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:20:11.547

我没有检查重复项，但我很确定我最近看到了一个关于这个的问题。无论如何，你引起了我对如何做到这一点的好奇心，所以我进行了实验，幸运的是我尝试的第一件事奏效了。

所以，基本上你应该拥有的是......

```
@echo off
::Add your code under here
set path=path_to_compiler
cls
call cmd 
```

我必须问的一件事是，绝对有必要将变量称为“路径”而不是其他东西吗？我问这个是因为`path`它是解释器用来做事的一个重要变量。

无论如何，这基本上只是运行您的代码，然后在当前窗口中打开 cmd.exe。

# relational-algebra - 关系代数查询

> ID：15082539
> 
> 赞同：-1
> 
> 时间：2013-02-26T06:11:09.410
> 
> 标签：relational-algebra

我有这些桌子

```
Employee(ssn, name, sex, address, salary, bdate, dno, superssn)
fk:superssn is ssn in Employee
fk:dno is dnumber in Department

Department(dnumber, dname, mgrssn, mgrstartdate)
fk:mgrssn is ssn in Employee

Dept_locations(dnumber, dlocation)
fk:dnumber is dnumber in Department

Project(pnumber, pname, plocation, dnum)
fk:dnum is dnumber in Department

Dependent(essn, dependent_name, sex, bdate, relationship)
fk: essn is ssn in Employee

Works_on(essn,pno,hours)
fk: essn is ssn in Employee; pno is pnumber in Project 
```

我想只使用以下关系代数运算 {σ, π, ∪, ρ, -, ×} 来检索每个女性员工的每个孩子的生日。

到目前为止，我有 π bdate (σ{sex = 'f'} Employee) x (σ {relationship='child'} Dependent)，但我认为它不正确。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T00:07:10.187

x 代表什么？自然加入？笛卡尔积 ？

如果它是笛卡尔积，则该笛卡尔积将/可能具有两个不同的属性，名为 BDATE。你需要处理它。

如果是自然连接，则 BDATE 属性将成为连接字段的一部分。你需要处理它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T00:58:14.593

`π bdate (σ{sex = 'f'} Employee) x (σ{relationship='child'} Dependent)`有暧昧`bdate`的s，会和每一个女员工一起带上每一个孩子，甚至是无关的孩子。

在任何关系代数表达式中，您首先投影您关心的属性：

```
π(ssn, sex)Employee ...something... π(essn, bdate, relationship)Dependent 
```

现在您可以选择要加入的元组：

```
(σ{sex='f'} π(ssn, sex)Employee) ...something...
(σ{relationship='child'} π(essn, bdate, relationship)Dependent) 
```

加入他们：

```
(σ{sex='f'} π(ssn, sex)Employee) ×
(σ{relationship='child'} π(essn, bdate, relationship)Dependent) 
```

仅选择每个员工的家属：

```
σ{ssn=essn} ((σ{sex='f'} π(ssn, sex)Employee) ×
(σ{relationship='child'} π(essn, bdate, relationship)Dependent)) 
```

从中选择相关的生日：

```
π(bdate)(σ{ssn=essn} ((σ{sex='f'} π(ssn, sex)Employee) ×
(σ{relationship='child'} π(essn, bdate, relationship)Dependent))) 
```

如果您了解关系代数，您可能会怀疑我没有以最有效的方式做到这一点。您是对的，但这确实分别显示了每个步骤。优化这个查询留给读者练习。

# html - 使用 JQuery 在选定标记内插入块作为最后一个子项

> ID：15082545
> 
> 赞同：0
> 
> 时间：2013-02-26T06:11:52.207
> 
> 标签：html, jquery

我正在开发一个评论模块，它每 5 秒自动刷新一次。代码是这样的：

**jQuery部分：**

```
$(document).ready(function(){
 var refreshId = setInterval(function(){
 $.getJSON('process.php?fooId=1', function(data){
    $.each(data, function(key,val){
       $('#abc:last-child').prepend('<div>some text</div>');
    });
  });
 }, 5000);
}); 
```

**HTML部分：**

```
<div id="abc"></div> 
```

我需要的是，当有人发表评论时，评论必须附加到 div ( `id="abc"`) 中。

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:14:27.743

利用`insertAfter()`

**官方文档**：[http ://api.jquery.com/insertAfter/](http://api.jquery.com/insertAfter/)

```
$('<div>some text</div>').insertAfter($('#abc:last-child')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:16:06.693

试试这个：

```
$(document).ready(function(){
   var refreshId = setInterval(function(){
     $.getJSON('process.php?fooId=1', function(data){
       $.each(data, function(key,val){
          $('#abc').last().append(val);
       });
     });
  }, 5000);
}); 
```

# javascript - 如何使用 Javascript 填充选择框

> ID：15082547
> 
> 赞同：1
> 
> 时间：2013-02-26T06:12:07.573
> 
> 标签：javascript

我有一个带有选择框的简单表单，我想用数据填充，但我不知道该怎么做。

这是我的表格：

```
<form name="form">    
 <select name="req_one" style="width:250px;"/> </select>    
</form> 
```

这是我在我的 JS 中尝试过的：

```
var name = 'test';
var i = 1;
document.form.req_one =new Option(name, i); 
```

这应该会产生等效的结果：

```
<option value="1"> Test </option> 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:21:56.900

您的 HTML 无效，您正在关闭选择标签

还要等到选择在 DOM 中可用

这是一个例子

```
window.addEventListener("load", function() {
  const name = 'test';
  const value = 1;
  const sel = document.querySelector("[name=req_one]"); // or give it an ID and use document.getElementById("req_one")
  if (sel) {
    sel.options[sel.options.length] = new Option(name, value);
  } else {
    alert("Where did the sel go?");
  }
})
```

```
<form name="myform">
  <select name="req_one" style="width:250px;"></select>
</form>
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:26:33.167

我建议使用 jquery 的简单方法。

```
var name = 'test';
var i = 1;
$("select[name='req_one']").append('<option value="'+i+'">'+value+'</option>'); 
```

我希望你知道如何使用 jquery 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:24:29.963

你犯了一个小错误。我合并了您的整个代码：

```
<html>
<head>
<script type="text/javascript">
function l1(){
    var name = 'test';
    var i = 1;
    document.form.req_one.options[0] =new Option(name, i);//you forgot to include .options[0]
}
</script>
</head>
<body onload="l1()">
<form name="form">    
 <select name="req_one" style="width:250px;"/> </select>    
</form>
</body>
</html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:34:02.087

您忘记将新创建的添加`Option`到选择元素的选项列表中：

```
document.form.req_one.options[0] = new Option(name, i); 
```

JSFiddle 示例：http: [//jsfiddle.net/zxT8U/2/](http://jsfiddle.net/zxT8U/2/)

# mysql - 处理大量数据（约 4 亿条记录）

> ID：15082550
> 
> 赞同：-1
> 
> 时间：2013-02-26T06:12:21.477
> 
> 标签：mysql, database, networking, bigdata

我有一个大数据集（一个表）存储了一个用户 ID 字段、日期字段、国家字段（例如 USA、FRA 等）和其他字段

```
| User ID   |    Date    |  Country  | Other Fields ... |
|-----------|------------|-----------|------------------|
| 1         | 2013-2-1   |    USA    |    ...           |
| 2         | 2013-2-1   |    FRA    |    ...           |
| 3         | 2013-2-2   |    GBK    |    ...           | 
```

数据结构很简单，我想传递日期、国家和可能的其他字段，并查询答案。

问题是大约有**4亿**条记录，如果我使用MySQL等普通数据库，速度会变得非常慢。

目前不需要特定的数据库、编程语言或方法，任何可能使其工作的工具都可以，例如 MySQL、Redis、Mongo 等，这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:21:40.153

根据查询类型，拆分为多个表可能会有所帮助（对于可以提前确定哪些子表包含所需行的情况）。

这不是一个非常干净的设计，但进一步拆分为多个数据库服务器（可能也有帮助）更加复杂。

# javascript - js。拼接返回删除的项目？

> ID：15082553
> 
> 赞同：8
> 
> 时间：2013-02-26T06:12:32.980
> 
> 标签：javascript

我有理解拼接的问题，我想得到帮助。

请检查jsfiddle。

[http://jsfiddle.net/fantill/TbpWf/1/](http://jsfiddle.net/fantill/TbpWf/1/)

```
value = "c, a, b"
value = value.split(',').splice(1, 1).join(',')
alert(value); 
```

该值应该有 return `'c, b'`。

但是，它返回`'a'`；

这种方法有什么问题？

非常感谢你。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-26T06:15:30.200

`.splice` *确实*返回已删除的项目。但是，它也在内部操作数组。这可以防止您将任何内容链接到`.splice`; 你必须做两个单独的电话：

```
value = value.split(',');
value.splice(1, 1);
console.log(value.join(',')); 
```

如果你这样做了`value = value.splice(...)`，`value`就会被覆盖，并且数组会丢失！

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-26T06:16:37.623

`.splice`是就地的，所以只需删除`value =`它，它就会像你期望的那样修改数组：

```
> var value = "c, a, b";
> value = value.split(', ');
["c", "a", "b"]
> value.splice(1, 1);
["a"]
> value
["c", "b"] 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2017-07-02T14:12:22.050

```
var a = ["1","2","3"]
a.splice(1,1) && a
a=["1","3"] 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-03-17T19:39:11.077

如果您发现`splice`' 的返回行为令人讨厌，就像许多人一样，并且必须在一个程序中经常使用它，您可以考虑添加以下两个自定义原型函数之一来代替使用。

有一个流行的`spliced`选项，它的行为与您在问题中的预期行为一样`splice`。

```
Array.prototype.spliced = function() {
    Array.prototype.splice.apply(this, arguments);
    return this;
}

value = "c, a, b";
value = value.split(',').spliced(1, 1).join(',');
console.log(JSON.stringify(value));
```

另一种选择是可以在各种情况下使用的选择。它将执行使用其后面的参数指定的任何数组函数，并始终返回该数组。

```
Array.prototype.arrEval = function() {
    var args = Array.prototype.slice.call(arguments);
    Array.prototype[args.shift()].apply(this, args);
    return this;
}

// splice example
value = "c, a, b";
value = value.split(', ').arrEval('splice', 1, 1).join(', ');
console.log(JSON.stringify(value));

// push example
value = value.split(', ').arrEval('push', 'a').join(', ');
console.log(JSON.stringify(value));

// unshift example
value = value.split(', ').arrEval('unshift', 'f', 'e', 'd').reverse().join(', ');
console.log(JSON.stringify(value));
```

* * *

对于真正的粗体，也可以使用内联变量赋值在没有自定义函数的情况下在一行中执行相同的操作。

```
value = "c, a, b"
value = ((arr = value.split(',')).splice(1, 1), arr.join(','))
alert(value);
```

# android - 如何使用 ArrayAdapter 添加自定义适配器？

> ID：15082554
> 
> 赞同：0
> 
> 时间：2013-02-26T06:12:33.977
> 
> 标签：android, web-services, android-arrayadapter, custom-adapter

我正在尝试添加自定义适配器，我想在其中添加文件夹图像和从 Web 服务获取的特定文件夹的名称。

请看我的代码：

```
ListView listview;
LazyAdapter adapter;

private String[] folderslist;

String User_ID;
int i;

static String ID = "ID";
static String KEY_Name = "FolderName";
static String ParentID = "ParentID";
static String CreatedBy = "CreatedBy";                               

private static final String NAMESPACE = "http://tempuri.org/";
private static final String URL = "http://***.***.*.*/somethinghere/something.asmx";
private static final String TREEDATA_METHOD = "TreeData";
private static final String SOAP_ACTION_TREEDATA = "http://tempuri.org/TreeData";

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.homepage_layout);

    Intent Intent = getIntent();
    User_ID = Intent.getStringExtra("User_ID");

    Treedata();

    listview.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> parent, View v, int position, long id) {

            String item = (String) listview.getItemAtPosition(position);
            ID = item;          
            Intent mIntent = new Intent(getApplicationContext(), Files_Folders_Activity.class);
            mIntent.putExtra("ID", ID);

            startActivity(mIntent);

        }
    });

}

        public void Treedata(){
            try {

                SoapObject datarequest = new SoapObject(NAMESPACE, TREEDATA_METHOD);

                datarequest.addProperty("UserID", User_ID);

                SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
                envelope.dotNet = true;
                envelope.setOutputSoapObject(datarequest);

                HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
                androidHttpTransport.debug = true;

                androidHttpTransport.call(SOAP_ACTION_TREEDATA, envelope);

                SoapObject folderResponse = (SoapObject)envelope.getResponse();

                Log.i("AllFolders", folderResponse.toString());

                folderslist = new String[folderResponse.getPropertyCount()];

                for(i=0; i<folderResponse.getPropertyCount(); i++) {

                    SoapObject SingleFolder = (SoapObject)folderResponse.getProperty(i);

                    Log.i("SingleFolder", SingleFolder.toString());

                    ID= SingleFolder.getProperty(0).toString();
                    KEY_Name = SingleFolder.getProperty(1).toString();
                    ParentID = SingleFolder.getProperty(2).toString();
                    CreatedBy= SingleFolder.getProperty(3).toString();                      

                    folderslist[i] = SingleFolder.getProperty(0).toString();

                    folderslist = new String[] {ID};

                   }

                    data = new ArrayList<FolderList>();
                    for (int i = 0; i < folderslist.length; i++) {

                    FolderList item = new FolderList(images[i], folderslist[i]);
                    data.add(item);

            }   
                    listview = (ListView)findViewById(R.id.listview);

                    LazyAdapter adapter = new LazyAdapter(this, R.layout.jpg_row, data);

                    listview.setAdapter(adapter);

                    listview.setOnItemClickListener(this);
            }

        } 
```

懒惰适配器：

```
public class LazyAdapter extends ArrayAdapter<FolderList> {

Context context;

public LazyAdapter(Context context, int resourceId, List<FolderList> items) {
    super(context, resourceId, items);
    this.context = context;
}

/*private view holder class*/
private class ViewHolder {
    ImageView imageView;
    TextView txtTitle;
}

public View getView(int position, View convertView, ViewGroup parent) {
    ViewHolder holder = null;
    FolderList data = getItem(position);

    LayoutInflater mInflater = (LayoutInflater) context
            .getSystemService(Activity.LAYOUT_INFLATER_SERVICE);
    if (convertView == null) {
        convertView = mInflater.inflate(R.layout.jpg_row, null);
        holder = new ViewHolder();

        holder.txtTitle = (TextView) convertView.findViewById(R.id.txtTitle);
        holder.imageView = (ImageView) convertView.findViewById(R.id.imgIcon);
        convertView.setTag(holder);
    } else
        holder = (ViewHolder) convertView.getTag();

    holder.txtTitle.setText(data.getTitle());
    holder.imageView.setImageResource(data.getIcon());

    return convertView;
} 
```

}

我正在使用 string[] 来获取 Web 响应，然后使用属性 1 来获取 id 文件夹名称。任何人都可以让我知道如何添加自定义列表，其中显示文件夹图像和文件夹名称，或者可以以正确的方式引导？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:19:00.193

首先无需在 for 循环中设置您的适配器。每次运行 for 循环时，它都会将您的适配器设置为 listview。您的代码没有错，但也没有效率。您应该通过以下方式设置您的 ArrayAdapter Outside for 循环。

```
 for(i=0; i<folderResponse.getPropertyCount(); i++) {

                        SoapObject SingleFolder = (SoapObject)folderResponse.getProperty(i);

                        Log.i("SingleFolder", SingleFolder.toString());

                        ID= SingleFolder.getProperty(0).toString();
                        KEY_Name = SingleFolder.getProperty(1).toString();
                        ParentID = SingleFolder.getProperty(2).toString();
                        CreatedBy= SingleFolder.getProperty(3).toString();

                        System.out.println(ID);
                        System.out.println(KEY_Name);
                        System.out.println(ParentID);
                        System.out.println(CreatedBy);

                        folderslist[i] = SingleFolder.getProperty(0).toString();

                }
          listview = (ListView)findViewById(R.id.listview);

        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,   android.R.layout.simple_list_item_1,android.R.id.text1, folderslist);

        listview.setAdapter(adapter);

        listview.setOnItemClickListener(this); 
```

此外，如果您想使用文件夹图像和文件夹名称自定义列表，您应该使用 BaseAdater 而不是 ArrayAdapter。

[您将从带有 BaseAdapter 示例演示](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)的自定义列表视图中获得更好的想法，如何将自定义列表与 BaseAdapter 一起使用。希望它会有所帮助。

# php - 警告：ob_start() [ref.outcontrol]：输出处理程序 'ob_gzhandler' 与 zlib 输出压缩冲突'

> ID：15082556
> 
> 赞同：9
> 
> 时间：2013-02-26T06:12:41.713
> 
> 标签：php, apache, gzip, zlib

我正在使用 Gzip 压缩和 Zlib 压缩来加速我的网站

我用过下面的代码

`ob_start("ob_gzhandler");` 在所有页面上包含的公共文件中，并且

```
lib.output_compression = On 
```

但是在这之后我得到了像这样的错误

```
"Warning: ob_start() [ref.outcontrol]: output handler 'ob_gzhandler' conflicts with 'zlib output compression' in E:\xampp\htdocs\projects\trunk\index.php on line 2" 
```

任何人都可以建议我其中有什么问题吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2016-12-21T15:40:09.983

您应该检查是否加载了 zlib 库，然后通过执行清理关闭输出缓冲`ob_end_clean()`
您可以在文件顶部添加此行： `<?php if (extension_loaded('zlib')){ ob_end_clean(); ob_start('ob_gzhandler');} ?>`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-01-05T14:44:20.503

在 php.ini 文件中搜索以下行：

zlib.output_compression = 开

为。。改变：

zlib.output_compression = 关闭

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-22T09:09:18.597

在您的 php.ini 中，搜索“zlib”并切换到 On

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-29T05:33:36.800

**建议：不要使用 PHP Zlib 压缩，将其关闭**

**但尝试打开输出缓冲**

这有助于处理的 HTML 立即开始缓冲而无需等待。这有助于加快一些毫秒。

不要对普通的 HTML 代码使用过多的 PHP 回显。

**利用**

*   网络服务器 Gzip 压缩
*   缩小 HTML 输出
*   使用 Opcache 和静态缓存生成器加速您的网站 100% 增益。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2014-03-06T14:37:35.313

一样的。你只需要做其中一个，而不是两个。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2017-08-28T05:31:04.843

我有同样的问题，你的回答很有帮助。

在 php.ini 文件中搜索以下行：

zlib.output_compression = 开

为。。改变：

zlib.output_compression = 关闭

但是我不知道在哪里可以找到 php.ini 文件或 zlib。我请了几天假，从一个新的角度审视了上面的内容。我的托管服务提供商是“Hostinger” [http://api.hostinger.in/redir/21246281](http://api.hostinger.in/redir/21246281)，他们使用新的控制面板，您将在此处访问 PHP 配置：ps for cpanel 用户如果需要，我将提供更新。

这是 Hostinger 面板上的 php 配置页面示例：

* * *

PHP 配置

* * *

> PHP版本

PHP 5.2
PHP 5.3
PHP 5.4
PHP 5.5
PHP 5.6
PHP 7.0
选择您希望为您的帐户启用的 PHP 版本。

> **Zlib 压缩**

**启用**
**禁用**

是否透明压缩页面。如果在 php.ini 中将此选项设置为“On”，则如果浏览器发送“Accept-Encoding: gzip”或“deflate”标头，则会压缩页面。“Content-Encoding: gzip”（分别为“deflate”）和“Vary: Accept-Encoding”标头被添加到输出中。在运行时，它只能在发送任何输出之前设置。

> 显示错误

`Enabled`/ `Disabled`这决定了错误是否应该作为输出的一部分打印到屏幕上，或者是否应该对用户隐藏。最大输入变量

这是 php 配置管理面板页面的示例，只需进行更改。希望这对某人有帮助。goodloktimes@gmail.com

# forms - Drupal 7 将表单保存到数据库

> ID：15082562
> 
> 赞同：2
> 
> 时间：2013-02-26T06:13:03.107
> 
> 标签：forms, drupal, drupal-7

我是 Drupal 的新手，我想制作一份培训提交表格。

如果我使用 Drupal 的联系表模块，它只会给我发一封电子邮件。

如果我希望它保存在我的数据库中怎么办？应该将其保存为内容还是应该提供新的特定表格？

我试图检查 Webform 模块，但它也只给了我一个发送电子邮件的选项。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:21:05.740

再次查看[Webform](http://drupal.org/project/webform)。您的内容菜单下应该有一个网络表单选项。

Webform 将提交的内容存储在数据库中，此外，您还可以选择将结果邮寄给您。

# c# - 返回从 WCF Web 服务获取的对象

> ID：15082563
> 
> 赞同：0
> 
> 时间：2013-02-26T06:13:02.983
> 
> 标签：c#, .net, wcf, design-patterns, wrapper

我有一个返回从 WCF Web 服务获得的实体的函数。我应该如何返回这个实体？我认为我不能返回原始对象（来自 Web 服务），因为这意味着函数的调用者（来自其他程序集）将被迫拥有对此 Web 服务的服务引用（因为该类定义在服务参考），我想我想避免这种情况。而且我认为我也不能使用接口，因为我无法修改 WCF 实体来实现我的接口。

另一方面，我需要准确地返回原始实体具有的所有属性，例如。所有属性都需要在那里，并且不需要对任何值或任何属性名称和类型进行转换/调整。

创建一个从原始 WCF 类复制相同属性的新类会更好吗？我应该如何实现它，创建一个从原始对象复制所有值的新对象是否更好，例如

`return new Foo() { Id = original.Id, Name = original.Name`, ... 等等`}`?

或者只是用 get set 方法包装它，例如：

```
public int Id
{
   get { return _original.Id; }
   set { _original.Id = value; }
} 
```

并且知道如何命名新类以避免与 WCF 参考中的原始类名产生歧义吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:56:28.597

正如您所知道的，强制客户端使用与服务器相同的类型并不是一个好主意。这将不必要地将服务器应用程序架构暴露给客户端。最好的选择是使用数据传输对象 (DTO)。

您可能对希望向客户端公开的每个实体都有 DTO，并且 DTO 将具有公开实体的所有必需字段的属性。@stephenl 建议使用诸如值注入器 (valueinjecter.codeplex.com) 或自动映射器之类的库来帮助您将值从一个对象复制到另一个对象。

将 DTO 放置在单独的命名空间和程序集中以实现最佳物理解耦。您可以将**YourCompany.YourProduct.Data.Entities**用作实体的命名空间，将**YourCompany.YourProduct.Data.DTO**用作 DTO

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T12:47:32.443

其实这要看你是不是消费者。如果您是消费者，则可以重用类型程序集。但是，如果您无法控制消费服务，最好使用具有`[DataContract]`属性的 DTO 对象。

# python - 当查询结果超过一定数量时，Freebase + GoogleAPI 查询返回错误

> ID：15082564
> 
> 赞同：1
> 
> 时间：2013-02-26T06:13:08.503
> 
> 标签：python, json, google-api, freebase

我正在尝试在 Freebase 上查询所有美国县及其地理位置（经度 + 纬度）。我注意到有时查询会起作用，但在其他尝试时它会返回以下内容：<"HttpError 503 when requesting...returned "Backend Error">。

我尝试更改查询结果限制，我发现我的查询分解的限制各不相同；有时它在“limit”：2900时起作用，有时它在“limit”：1200返回上述错误。

这是我到目前为止编写的代码：

```
    从 itertools 导入 islice

    从 apiclient 导入发现
    从 apiclient 导入模型
    导入json
    从 CREDENTIALS 导入 FREEBASE_KEY

    从熊猫导入数据框，系列

    DEVELOPER_KEY = FREEBASE_KEY

    model.JsonModel.alt_param = ""
    freebase = discovery.build('freebase', 'v1', developerKey=DEVELOPER_KEY)

    query_json = """
    [{
      “身份证”：空，
      “名称”：空，
      "/location/us_county/fips_6_4_code": [],
      “/位置/位置/地理位置”：{
        “纬度”：空，
        “经度”：空
      },
      “限制”：3050
    }]""".replace("\n", "")

    查询 = json.loads(query_json)

    响应 = json.loads(freebase.mqlread(query=json.dumps(query)).execute())

    结果=列表（）

    结果为 islice(response['result'], None):
        results.append({'id': 结果['id'],
                         '名称'：结果['名称']，
                         '纬度'：浮动（结果['/location/location/geolocation']['latitude']），
                         '经度'：浮动（结果['/location/location/geolocation']['longitude']），
                         'fips': 结果['/location/us_county/fips_6_4_code'],
                         })

    状态 = 数据帧（结果）
    plt.scatter(states["longitude"], states["latitude"])

```

这似乎不是配额问题，其他人在 Freebase 邮件列表中注意到了类似的问题：http: [//lists.freebase.com/pipermail/freebase-discuss/2011-December/007710.html](http://lists.freebase.com/pipermail/freebase-discuss/2011-December/007710.html) 但这是针对另一种类型的数据，所以他们的解决方案似乎不适用于我正在研究的内容。

* * *

[编辑] 我使用游标遍历数据，它工作正常。这是我使用的最终代码：

```
    从 itertools 导入 islice
    从 apiclient 导入发现
    从 apiclient 导入模型
    导入json
    从 CREDENTIALS 导入 FREEBASE_KEY
    从熊猫导入数据框，系列

    DEVELOPER_KEY = FREEBASE_KEY

    model.JsonModel.alt_param = ""
    freebase = discovery.build('freebase', 'v1', developerKey=DEVELOPER_KEY)
    查询 = [{
      “身份证”：无，
      “名称”：无，
      "type": "/location/us_county",
      “/位置/位置/地理位置”：{
        “纬度”：无，
        “经度”：无
      }
    }]

    结果 = []
    计数 = 0
    def do_query(cursor=""):
        响应 = json.loads(freebase.mqlread(query=json.dumps(query), cursor=cursor).execute())
        结果为 islice(response['result'], None):

            results.append({'id': 结果['id'],
                             '名称'：结果['名称']，
                             '纬度': 结果['/location/location/geolocation']['latitude'],
                             '经度'：结果['/location/location/geolocation']['longitude'],
                             })
        返回 response.get("光标")

    游标 = do_query()
    而（光标）：
        游标 = do_query(游标)
        # 检查这个循环经历了多少次迭代。
        #打印计数
        计数+=1

    # 将结果插入 pandas DataFrame 并绘图。
    状态 = 数据帧（结果）
    plt.scatter(states["longitude"], states["latitude"])

```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T12:38:15.097

这是一个相对简单的查询，但从长远来看，默认限制是 100，这比您要求的要低很多。我建议使用下限和光标来翻阅结果（并提交错误报告，因为它不应该返回一般的“后端错误”，而是某种 MQL 特定错误）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T19:48:58.420

下面是一些示例代码，向您展示如何使用游标遍历结果：

```
cursor = ''
while cursor != False:
  response = json.loads(freebase.mqlread(query=json.dumps(query), cursor=cursor).execute())
  for county in response['result']:
    print county['name']
  cursor = response['cursor'] 
```

只需将该`limit`子句从您的查询中删除，它将以 100 个结果的批次遍历整个县列表。

# html - 是否可以控制 CSS 规则以不允许其他规则更改它？

> ID：15082565
> 
> 赞同：0
> 
> 时间：2013-02-26T06:13:13.283
> 
> 标签：html, css

例如：

你有这个：

```
<style type="text/css">
.myrule {
  font-weight:bold;
}
</style>
<div class="myrule">
  This text will bold but 
</div>

<style type="text/css">
.myrule {
  font-weight:normal; /* This code will affect the original .myrule */
}
</style> 
```

我需要知道是否可以像这个例子一样“锁定”CSS规则：

```
<style type="text/css">
.myrule:locked {
  color:yellow;
}
</style>
<div class="myrule">
   This text will yellow always!!!!!!!
</div>

<style type="text/css">
.myrule {
  color:red;
}
</style> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:16:38.520

不必要。您可以使用`!important`运算符为 CSS 规则添加一个极端的权重，这将覆盖几乎所有其他内容。但是，另一个更具体的规则*也*有`!important`操作符仍然会覆盖它。

最好的办法是不要尝试“锁定” CSS 规则，而是要确保规则的选择器总是比其他选择器更具体。ID 选择器是控制特异性的好方法，这样你会遇到更少的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:15:21.293

尝试这个 ：

```
.myrule {
  font-weight:bold !important;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:16:22.467

如果可以为您的 DIV 标签定义 ID，例如

```
<div class="myrule" id="firstdiv">
   This text will yellow always!!!!!!!
</div> 
```

然后你可以指定你的 id 特定的 CSS 规则，比如

```
<style type="text/css">
#firstdiv .myrule {
  color:yellow;
}
</style> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:17:31.303

我认为css解释因浏览器而异。如果您想覆盖 css 优先级，我认为您需要使用 javascript 来明确说明您的意图。

# android - 如何获得一个矩阵，我先平移然后旋转，然后平移然后再旋转第二次？

> ID：15082566
> 
> 赞同：5
> 
> 时间：2013-02-26T06:13:14.780
> 
> 标签：android, math, matrix

在一个 Android 应用程序中，我想画一条奔跑的腿。要输出腿的上半部分，我会执行以下操作：

```
// legCX,legCY is the location on screen about which the leg rotates.
Matrix m = new Matrix();
m.postTranslate(-legCX,-legCY);
m.postRotate(legRot);
m.postTranslate(legCX,legCY); 
```

然后我将矩阵设置到画布上并绘制腿。

如何画出膝盖以下腿的第二部分？它的旋转速度与其上方的腿不同，并且有一个中心点随上方的腿一起移动。我尝试了以下方法，但结果是最终结果是围绕某个不跟随上面腿的单点旋转。

```
Matrix m = new Matrix();
m.postTranslate(-legCX,-legCY);
m.postRotate(legRot);
m.postTranslate(0,-legLength);
m.postRotate(footRot);
m.postTranslate(0,legLength);
m.postTranslate(legCX,legCY); 
```

我怀疑可能有必要在两个不同的 Matrix 对象中进行两次旋转，然后以某种方式将它们组合起来，但我不知道该怎么做。

编辑：这种类型的矩阵似乎被称为“变换矩阵”。组合多个操作称为转换的组合。然而，关于这个主题的页面都没有提到如何进行一系列的平移和旋转。

当然，如果您可以使用矩阵围绕一个点进行旋转，则必须可以以某种方式执行多个矩阵运算以允许围绕一个点进行旋转，然后围绕另一个点进行额外的旋转。

我曾尝试查看有关骨骼动画的页面，但我无法理解他们在谈论什么。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T10:44:12.857

如果我正确理解你的问题，你有一个相对旋转的情况。您可以尝试搜索双摆，见图。

![双摆](../Images/527a0c8ecac02a99e4ba8ea72a7b7a3a.png)

使用旋转矩阵可以找到`p1`围绕点旋转的点的新坐标，例如`p0`

![](../Images/b813faa25a4169490e0f51a706abe7f4.png)

`p2`围绕点旋转的点的新坐标`p1`将是

![](../Images/b7e4967f7070667bcc2a4ea70fb34b00.png)

最后，`p2`围绕点旋转的点的新坐标`p0`将是

![](../Images/bbed08bb408d25e309ad100f79be9f40.png)

矩阵乘法的顺序以及角度的符号也很重要。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-02T20:30:48.470

恐怕这将与语言无关 - 我实际上正在 Android 中做类似的事情，但我正在学习 android 和矩阵数学！您似乎知道如何在 Android 中使用矩阵，所以我猜这不会有问题。

所以 - 假设我们有两个网格（其中一个网格是您可以独立绘制到屏幕上的东西）：`UpperLeg`和`LowerLeg`.

*   因为`UpperLeg`您将获得网格旋转的点（`RotationPoint`）（在现实世界中，我猜这将是臀部）并且您将获得`LowerLeg`连接到它的点（`AttachmentPoint`）（在现实世界中猜猜这将是膝盖）。
*   因为`LowerLeg`您将获得网格旋转的点 ( `RotationPoint`)（在现实世界中，我猜这将是膝盖）。

`UpperLeg.AttachmentPoint`= `LowerLeg.RotationPoint`（这样你的腿就不会掉下来）。

现在让我们假设您有两种旋转量（一种用于`UpperLeg`，一种用于`LowerLeg`）：`UpperLeg.Rotation`和`LowerLeg.Rotation`。

（一个旋转的主题 - 如果你还没有听说过*四元数*，你应该看看 - 让我惊讶的是 1846 年的某个人想出了这些 - 它们基本上封装了旋转的概念，可以变成旋转矩阵，可以结合（通过乘法）并且不受万向节锁定的影响）。

首先你旋转`UpperLeg`：

1.  移动`UpperLeg`网格，使其`UpperLeg.RotationPoint`成为原点
2.  旋转`UpperLeg.Rotation`
3.  移动`UpperLeg`网格，使其位于现实世界中需要的位置。我看到你正在这样做。

所以`LowerLeg`它会是：

1.  移动`LowerLeg`网格，使其`LowerLeg.RotationPoint`成为原点
2.  旋转（`UpperLeg.Rotation`结合`LowerLeg.Rotation`）
3.  移动网格的量与步骤 3 中移动`LowerLeg`网格的量相同`UpperLeg`
4.  将网格移动为由旋转`LowerLeg`的向量（从`UpperLeg.RotationPoint`到的向量） 。`UpperLeg.AttachmentPoint``UpperLeg.Rotation`

以上步骤可以组合优化。

本质上我是说：在需要
旋转`LowerLeg`时旋转，然后将其推到需要去的地方 - 它需要去的地方将取决于`UpperLeg`去的地方，以及你如何到达`LowerLeg`连接到的地方`UpperLeg`。

这是我在这里的第一篇文章，所以如果我违反了任何基本规则，请告诉我它们是什么。

# php - Mysqli 在远程服务器上收到警告，但在本地工作

> ID：15082568
> 
> 赞同：0
> 
> 时间：2013-02-26T06:13:20.690
> 
> 标签：php, mysqli

我有以下在本地工作的查询，但我在远程服务器上收到警告。

```
$query_getMainPage = $conCreative->query("SELECT l.*, p.* FROM languagep l INNER JOIN pages p ON (l.languagePageBelongs=p.pageID) WHERE p.pageBelongs=0");
$row_getMainPage = mysqli_fetch_assoc($query_getMainPage); 
$totalRows_getMainPage = mysqli_num_rows($query_getMainPage); 
```

我得到的警告是

**警告：mysqli_fetch_assoc() 期望参数 1 为 mysqli_result，布尔值在...**

这是我第一次使用 Mysqli 而不是 MySql，所以我想我在使用函数的方式上做错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:27:00.703

当然，您并没有做错什么，因为它可以在另一台服务器上运行。
它是负责该错误的远程服务器环境。

但是，无论您使用的是 mysql 还是 mysqli，您都应该做一件事 - 您必须检查查询结果并处理错误。
至少这样做：

```
$sql = "SELECT count(*) FROM languagep l INNER JOIN pages p 
        ON (l.languagePageBelongs=p.pageID) WHERE p.pageBelongs=0";
$res = $con->query($sql) or trigger_error($con->error."[$sql]"); 
```

*   因此，您将收到有关 mysql 错误的通知并能够采取适当的措施。

但是您的代码还有另一个问题 - mysqli。
不要使用 mysqli。**请改用 PDO**。
它将为您节省很多未来的麻烦。

PDO 使用简单但功能强大

首先，创建一个连接

```
$dsn  = 'mysql:dbname=test;host=localhost;charset=utf8';
$opt  = array(
    PDO::ATTR_ERRMODE            => PDO::ERRMODE_EXCEPTION,
    PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC
);
$pdo = new PDO($dsn, $user, $pass, $opt); 
```

然后用它来运行查询：

```
$sql = "SELECT count(*) FROM languagep l INNER JOIN pages p 
        ON (l.languagePageBelongs=p.pageID) WHERE p.pageBelongs=0";
$sth = $pdo->prepare($sql);
$sth->execute();
$totalRows = $sth->fetchColumn(); 
```

如果您不仅需要计数，还需要所有数据：

```
$sql = "SELECT * FROM languagep l INNER JOIN pages p 
        ON (l.languagePageBelongs=p.pageID) WHERE p.pageBelongs=0";
$sth = $pdo->prepare($sql);
$sth->execute();
$data = $sth->fetchAll();
$totalRows = count($data); 
```

# json - Sitecore：Xslt 转 JSON？

> ID：15082574
> 
> 赞同：0
> 
> 时间：2013-02-26T06:14:18.913
> 
> 标签：json, xslt, sitecore

我有几个需要输出为 json 的 Sitecore 项目字段。我可以用 Xslt (1.0) 做到这一点吗？这是 xslt 中相当基本的循环和数据输出，我需要将其转换为 json。

任何提示或想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:12:04.677

阅读[这个 StackOverflow 问题](https://stackoverflow.com/questions/2837809/writing-json-with-xslt)（它在 XSLT 1.0 上）。似乎他们正在尝试做同样的事情，并包含一个代码示例。

# javascript - HTML 和 JavaScript 在选择更改时显示文本

> ID：15082577
> 
> 赞同：0
> 
> 时间：2013-02-26T06:14:26.993
> 
> 标签：javascript, html

好的，所以，我得到了一个列表，当用户从下拉列表中选择一个选项时，我想显示一些文本，我想出了如何为一个选项制作它，但由于某种原因在组中效果不佳。

```
<select id="mySelect" name="values">
<option value=0>0</option>
<option value=1>1</option>
<option value=2>2</option>
</select> 
```

我打算在选择每个选项时“打印”一些确定的文本，谢谢！

（抱歉有任何语法错误，这里是讲西班牙语的人）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T17:09:52.993

设法做到了：

```
<script type="text/javascript"> 
function showstuff(element){ 
    document.getElementById("una").style.display = element=="una"?"block":"none"; 
    document.getElementById("dos").style.display = element=="dos"?"block":"none"; 
    document.getElementById("tres").style.display = element=="tres"?"block":"none"; 
    document.getElementById("cuatro").style.display = element=="cuatro"?"block":"none"; 
    document.getElementById("cinco").style.display = element=="cinco"?"block":"none"; 
    document.getElementById("seis").style.display = element=="seis"?"block":"none"; 
    document.getElementById("siete").style.display = element=="siete"?"block":"none"; 
    document.getElementById("ocho").style.display = element=="ocho"?"block":"none"; 
    document.getElementById("nueve").style.display = element=="nueve"?"block":"none"; 
    document.getElementById("diez").style.display = element=="diez"?"block":"none";     
    } 
</script> 

<select name="type" onchange="showstuff(this.value);"> 
          <option value="una" selected>1</option> 
          <option value="dos">2</option> 
          <option value="tres">3</option> 
          <option value="cuatro">4</option> 
          <option value="cinco">5</option> 
          <option value="seis">6</option> 
          <option value="siete">7</option> 
          <option value="ocho">8</option> 
          <option value="nueve">9</option> 
         <option value="diez">10</option> 
</select> 
<div id="uno" style="display:none;">uno</div> 
<div id="dos" style="display:none;">dos</div> 
<div id="tres" style="display:none;">tres</div> 
<div id="cuatro" style="display:none;">cuatro</div> 
<div id="cinco" style="display:none;">cinco</div> 
<div id="seis" style="display:none;">seis</div> 
<div id="siete" style="display:none;">siete</div> 
<div id="ocho" style="display:none;">ocho</div> 
<div id="nueve" style="display:none;">nueve</div> 
<div id="diez" style="display:none;">diez</div> 
```

感谢大家 ：）

# java - 从Java中的数据集中查找泊松分布

> ID：15082581
> 
> 赞同：0
> 
> 时间：2013-02-26T06:14:45.307
> 
> 标签：java, statistics

我在excel中有大量数据集。我想知道这些数字是遵循Java 中的[泊松分布](http://en.wikipedia.org/wiki/Poisson_distribution)还是[二项分布](http://en.wikipedia.org/wiki/Binomial_distribution)。是否有任何开源库可以帮助我完成这项工作。我在看 Apache Common Math。

任何指针会有所帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:19:51.107

听起来您有一个（相对简单的）模型拟合问题，并且您正试图在两个分布之间进行选择。您通常执行此操作的方式如下。

1.  [估计数据](http://en.wikipedia.org/wiki/Poisson_distribution#Parameter_estimation) `p_poisson`的泊松分布参数
2.  [估计](https://stats.stackexchange.com/questions/16686/estimator-for-a-binomial-distribution) `p_binomial`数据二项分布的参数。
3.  计算`p(data | p_poisson)`和`p(data | p_binomial)`（似然函数）并选择具有较高概率的那个。

为了更通用，我建议查看[AIC](http://en.wikipedia.org/wiki/Akaike_information_criterion)、[BIC](http://en.wikipedia.org/wiki/Bayesian_information_criterion)和有关[模型选择](http://en.wikipedia.org/wiki/Model_selection)的一般信息。在这种情况下，如果您没有大量数据，则应该对二项式分布进行轻微惩罚，因为它可能会过度拟合，因为它的参数比 Poisson 多。

# ruby-on-rails - 使用 fb_graph gem 在 facebook 中分享内容

> ID：15082583
> 
> 赞同：2
> 
> 时间：2013-02-26T06:14:53.193
> 
> 标签：ruby-on-rails, facebook, access-token, sharing, fb-graph

我正在尝试在使用 fb_graph(2.6.0) gem 创建内容时在 facebook 中分享，

我在尝试时遇到以下错误：

```
app = FbGraph::Application.new(APP_ID, :secret => APP_SECRET)
app.get_access_token
user = FbGraph::User.me(access_token).fetch 
```

在开发控制台中

```
 => 377095675642525|X3SyfucEUnahEEFAFwkO_cFXRyc 
 1.9.3p194 :005 > user = FbGraph::User.me(access_token).fetch
 LoadError: cannot load such file -- {"error":{"message":"An active access token must be used to query information about the current user.","type":"OAuthException","code":2500}}
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.1.10/lib/active_support/dependencies.rb:234:in `load'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.1.10/lib/active_support/dependencies.rb:234:in `block in load'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.1.10/lib/active_support/dependencies.rb:223:in `block in load_dependency'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.1.10/lib/active_support/dependencies.rb:640:in `new_constants_in'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.1.10/lib/active_support/dependencies.rb:223:in `load_dependency'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.1.10/lib/active_support/dependencies.rb:234:in `load'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/fb_graph-2.6.0/lib/fb_graph/node.rb:138:in `handle_response'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/fb_graph-2.6.0/lib/fb_graph/node.rb:49:in `get'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/fb_graph-2.6.0/lib/fb_graph/node.rb:19:in `fetch'
from (irb):5
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.1.10/lib/rails/commands/console.rb:45:in `start'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.1.10/lib/rails/commands/console.rb:8:in `start'
from /home/love/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.1.10/lib/rails/commands.rb:40:in `<top (required)>'
from script/rails:6:in `require'
from script/rails:6:in `<main>' 
```

在 Heroku 日志中：

```
 Started GET "/facebook/callback?code=AQDccVXzo55GpSCCnr0vXKb2xpHFtJ8E_Eb-3AfA6Wcx5G1QEMHr4vNuH0366tGYVFepTuDZv2Z9_BLeXdMRNcLtfg1N3mz8rbTZowblEeGqg9Ls7R7X7P2GiuyFPJa0PTric7gjE8cZ3olRyP27otiGfzWQ4REoqS-BFsH4BwyfyZSiZxoQ0PPDUmlxeve4Cn9qAKzC2sYmEEbdTcPo2quu" for 122.164.241.1 at 2013-02-26 05:42:55 +0000
2013-02-26T05:42:56+00:00 app[web.1]: #<FbGraph::Auth:0x00000004e1bbb8 @client=#   <Rack::OAuth2::Client:0x00000004e19b38 @identifier=188451457933295, @secret="13d6158a6ebe35a115bcae7f0ec14826", @redirect_uri=nil, @scheme=nil, @host="graph.facebook.com", @port=nil, @authorization_endpoint="/oauth/authorize", @token_endpoint="/oauth/access_token", @grant=#  <Rack::OAuth2::Client::Grant::ClientCredentials:0x00000005484e28>>>
app/controllers/facebooks_controller.rb:29:in `create'
2013-02-26T05:42:56+00:00 heroku[router]: at=info method=GET path=/facebook/callback?code=AQDccVXzo55GpSCCnr0vXKb2xpHFtJ8E_Eb-3AfA6Wcx5G1QEMHr4vNuH0366tGYVFepTuDZv2Z9_BLeXdMRNcLtfg1N3mz8rbTZowblEeGqg9Ls7R7X7P2GiuyFPJa0PTric7gjE8cZ3olRyP27otiGfzWQ4REoqS-BFsH4BwyfyZSiZxoQ0PPDUmlxeve4Cn9qAKzC2sYmEEbdTcPo2quu host=x.y.com fwd="122.164.241.1" dyno=web.1 queue=0 wait=0ms connect=2ms service=431ms status=500 bytes=0 
```

在facebook中单击登录后，我在浏览器中出现以下错误，

```
Server error
The website encountered an error while retrieving     http://x.y.com/facebook/callback?code=AQAGIeV8GLZWMI98eauog2eTDq7jeXBEhBSDg3izqBBjS6mVN3y5tgTSGcagmAqMTYHyB_EJArN834cglLjBL4yHDQHlEaD7j7wSmSPN43hZXQhCHJTbvP0HHJPBwAiNCCZYOiP2jpLLAyznLoufwvN-6p6dLgjup8WPtRyEeUspv94m-O5lC146JHNvWFUvCHaPaQ2wPWyfmh5C89mR2G0R#_=_. It may be down for maintenance or configured incorrectly. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:06:17.663

从您的问题来看，您似乎正在使用应用程序访问令牌来访问用户信息。这取决于

```
FbGraph::InvalidRequest: OAuthException :: An active access token must be used to query information about the current user. 
```

而您应该使用用户的访问令牌来获取个人资料信息或在墙上发布。

如果您尝试使用 Facebook 进行omniauth 登录，这里有一个很好的入门教程[http://blog.yangtheman.com/2012/02/09/facebook-connect-with-rails-omniauth-devise/](http://blog.yangtheman.com/2012/02/09/facebook-connect-with-rails-omniauth-devise/)

使用[fb_graph](https://github.com/nov/fb_graph)时，您应该拥有用户的访问令牌来执行任何进一步的操作，例如更新状态（墙帖）

这需要一个访问令牌，您应该在为该用户验证您的应用程序时保存该令牌。

**你可以做**

```
me = FbGraph::User.me(ACCESS_TOKEN)
me.feed!(
  :message => 'Updating via FbGraph',
  :picture => 'https://graph.facebook.com/matake/picture',
  :link => 'https://github.com/nov/fb_graph',
  :name => 'FbGraph',
  :description => 'A Ruby wrapper for Facebook Graph API'
) 
```

注意：这将需要您可以在范围属性中指定的扩展权限

```
Rails.application.config.middleware.use OmniAuth::Builder do
  # The following is for facebook
  provider :facebook, [APP ID], [SECRET KEY], {:scope =&gt; 'email, read_stream, read_friendlists, friends_likes, friends_status, offline_access'}

  # If you want to also configure for additional login services, they would be configured here.
end 
```

# sqlite - SQLite 为 2013 年返回错误的周数？

> ID：15082584
> 
> 赞同：10
> 
> 时间：2013-02-26T06:14:55.403
> 
> 标签：sqlite, strftime, week-number

我有一个简单的 SQL 用于在我的 SQLite 报告中计算周数

```
SELECT STRFTIME('%W', 'date_column') 
```

2009-2012 年是正确的。在 2013 年，我总是得到错误的周数。

例如

```
SELECT STRFTIME('%W', '2012-02-28') 
```

返回'09'，这是正确的。

```
SELECT STRFTIME('%W', '2013-02-28') 
```

返回'08'，这是错误的。我们有第 9 周。

SQLite 日期时间函数中是否有我不理解的内容？或者它是 SQLite 的错误？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-19T22:38:28.023

CL 的答案适用于 OP 对“正确”的定义，这与 ISO 定义不太一样。ISO 周数始终在 1-53 范围内（没有第 0 周），一年的最后 3 天可能属于下一年的第 1 周，就像前 3 天可能属于第 52 周或第 53 周一样前一年。要考虑这些极端情况，您需要执行以下操作：

```
SELECT
    (strftime('%j', date(MyDate, '-3 days', 'weekday 4')) - 1) / 7 + 1 AS ISOWeekNumber
FROM MyTable; 
```

附带说明一下，[SQLite 的日期和时间](http://www.sqlite.org/lang_datefunc.html)文档确实链接到[POSIX strftime](http://pubs.opengroup.org/onlinepubs/007908799/xsh/strftime.html)手册页，该手册将`%W`修饰符定义为：“*一年中的周数（星期一作为一周的第一天）作为十进制数 [00,53]。新年中第一个星期一之前的所有日子都被认为是在第 0 周。* ”

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T08:36:29.313

从 SQLite 未记录的周定义（第一周是其中包含一年的第一个星期一的一周，或包含 1 月 7 日的一周）转换为 ISO 周定义（第一周是其中包含一年的第一个星期二的一周，或1 月 4 日的那一周），我们让 SQLite 计算一年中 1 月 4 日的那一周。如果这不是一个，我们必须增加周数：

```
SELECT strftime('%W', MyDate)
       + (1 - strftime('%W', strftime('%Y', MyDate) || '-01-04'))
FROM MyTable 
```

# git - git 对象文件夹权限

> ID：15082590
> 
> 赞同：2
> 
> 时间：2013-02-26T06:15:24.757
> 
> 标签：git, file-permissions, trac

我正在尝试将 trac 与 git 挂钩，并且大多数都很好，除了一些存储库之外，我无法从 git 中获取修订信息。

完成以下操作后，Trac 正确收集了修订版

```
chmod -R 777 <git-repo>/objects/ 
```

（我知道 777 很危险，它只是为了诊断目的）

但是，对于那些新的提交，提交的项目仍然是 0700 权限。

```
drwxrwxrwx 2 git git 4.0K 2013-02-26 10:49 80
drwxrwxrwx 2 git git 4.0K 2013-02-26 10:49 0a
drwxrwxrwx 2 git git 4.0K 2013-02-26 11:01 04
drwxrwxrwx 2 git git 4.0K 2013-02-26 11:01 a6
drwxrwxrwx 2 git git 4.0K 2013-02-26 11:01 61
drwxrwxrwx 2 git git 4.0K 2013-02-26 11:01 2f
drwx------ 2 git git 4.0K 2013-02-26 12:13 da
drwx------ 2 git git 4.0K 2013-02-26 12:13 a3
drwx------ 2 git git 4.0K 2013-02-26 12:13 8c
drwx------ 2 git git 4.0K 2013-02-26 12:13 26 
```

但最奇怪的是，对于同一台机器内的其他一些 git 存储库，那些新的对象文件夹大多是 755 权限（这对 Trac 来说仍然很好）。

```
drwxr-xr-x 2 git git 4.0K 2011-07-12 17:22 14
drwxr-xr-x 2 git git 4.0K 2011-07-12 17:22 f5
drwxr-xr-x 2 git git 4.0K 2011-07-12 17:22 9e
drwxr-xr-x 2 git git 4.0K 2013-02-26 14:12 aa
drwx------ 2 git git 4.0K 2013-02-26 14:12 76
drwxr-xr-x 2 git git 4.0K 2013-02-26 14:12 44
drwxr-xr-x 2 git git 4.0K 2013-02-26 14:12 c5
drwxr-xr-x 2 git git 4.0K 2013-02-26 14:12 9c
drwx------ 2 git git 4.0K 2013-02-26 14:12 6a 
```

我可以知道这可能是什么原因吗？非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:15:23.190

您需要检查执行 track daemon 的用户是否与 git 用户在同一组中。

考虑这个[安装过程](http://www.lowendbox.com/blog/running-trac-git-hosting-on-a-low-end-vps/)：

```
useradd -m -K UMASK=027 git
useradd -m -K UMASK=077 -G git trac 
```

由 git 创建的带有 umask 027 的任何文件仍然可以被 trac 读取。

如果您使用的是 gitolite，如此[处所述](http://axcoto.com/blog/article/840)，您需要设置`umask`为`.gitolite.rc`0027 以允许组具有读取权限。
看[`Rc.pm`](https://github.com/sitaramc/gitolite/blob/master/src/lib/Gitolite/Rc.pm#L319-L328)，默认情况下它是 077 而不是 027：

```
# HELP for all the other external programs (the syntactic sugar helpers and
# the various programs/functions in the 8 trigger lists), can be found in
# doc/non-core.mkd (http://sitaramc.github.com/gitolite/non-core.html) or in
# the corresponding source file itself.

%RC = (
    # if you're using mirroring, you need a hostname. This is *one* simple
    # word, not a full domain name. See documentation if in doubt
    # HOSTNAME => 'darkstar',
    UMASK => 0077, 
```

# android - 如何滚动到 PreferenceActivity 中的指定项目？

> ID：15082591
> 
> 赞同：2
> 
> 时间：2013-02-26T06:15:27.157
> 
> 标签：android, scroll, preference

我的应用程序有一个全局首选项，其中包含所有活动的设置。如果我单击不同活动中的设置，我希望`PreferenceActivity`自动滚动到该活动的设置部分。

我尝试使用`getListView().setSelection(i)`来实现这个功能。但是， in`onCreate()`和`onResume()`,`getListView()`尚未初始化。

我怎么知道`ListView`of什么时候`PreferecneActivity`会被初始化，或者有没有其他方法可以实现这个功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-08-01T13:32:35.423

你可以试试`onResume()`，`getView().post(new Runnable());`

因为视图必须在创建后调度。并且在 runnable 中做你的工作是可以的。

# java - 无法使用 Rome API 从提要中读取图像 URL

> ID：15082596
> 
> 赞同：4
> 
> 时间：2013-02-26T06:15:38.070
> 
> 标签：java, feed, rome

我正在使用 ROME 解析器来解析我的 RSS/Atom 提要。现在的问题是它没有给出新闻提要/条目的图像 URL。部分问题还在于提要不一致，并且它们放置的图像网址不一致。

BBC 新闻将图像 url 放入`<media:thumbnail...>`元素中

```
<item> 
  <title>Dementia in care homes 'more common'</title>  
  <description>Eight out of 10 residents in care homes are now thought to have dementia or severe memory problems, new data shows.</description>  
  <link>http://www.bbc.co.uk/news/health-21579394#sa-ns_mchannel=rss&amp;ns_source=PublicRSS20-sa</link>  
  <guid isPermaLink="false">http://www.bbc.co.uk/news/health-21579394</guid>  
  <pubDate>Tue, 26 Feb 2013 00:28:31 GMT</pubDate>  
  <media:thumbnail width="66" height="49" url="http://news.bbcimg.co.uk/media/images/66064000/jpg/_66064884_c0016428-geriatric_care-spl.jpg"/>  
  <media:thumbnail width="144" height="81" url="http://news.bbcimg.co.uk/media/images/66064000/jpg/_66064885_c0016428-geriatric_care-spl.jpg"/> 
</item> 
```

但是一些新闻提要将图像放在**附件**元素中。有些提要根本没有它们。

所以我的问题是；如果它们出现在提要中，我该如何获取它们。到目前为止，Rome API 对我来说一直很完美；但现在我陷入了困境。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-28T05:35:41.120

我可以想办法从提要中获取图片网址。部分问题是因为罗马不使用泛型；所以无法`<media:thumbnail..`正确读取元素，因此丢失了作为属性的图像的 url。

调试后我可以找出确切的参数化类型，然后很容易:)

```
 List<Element> foreignMarkups = (List<Element>) entry.getForeignMarkup();
 for (Element foreignMarkup : foreignMarkups) {
  String imgURL = foreignMarkup.getAttribute("url").getValue(); 
    //read width and height
 } 
```

[这个博客帮助我了解了罗马的建筑](http://rollerweblogger.org/roller/entry/how_rome_works)

我还发现了一些新闻提要；图片的 url 位于 Enclosure 元素内，如下所示：

`<enclosure url="http://www.wired.com/reviews/wp-content/uploads/2013/02/lights_remote_1-200x100.jpg" type="image/jpeg" length="48000"/>`

`enclosure`因此，如果`<media:thumbnail..`提要中不存在元素，我也会检查元素：

```
 List<SyndEnclosure> encls = entry.getEnclosures();
  if(!encls.isEmpty()){
    for(SyndEnclosure e : encls){
    String imgURL = e.getUrl().toString();
    }                       
  } 
```

# android - 带有线性直线进度条的列表视图

> ID：15082597
> 
> 赞同：1
> 
> 时间：2013-02-26T06:15:43.173
> 
> 标签：android, android-listview, android-progressbar

我是 android 新手，现在正在尝试制作一个小项目。它包括一个`listview`with`textviews`和一个 linear `progressbar`（它的值不需要改变）。 `Simple Adapter`用于将数据填充到`textviews`. 但是要设置`progressbar`值，应该使用哪个适配器。我无法想象如何将值设置为`progressbar`. 请帮助解决这个问题。

这是我的代码：

**主要的.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

<ListView
    android:id="@+id/dblist"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:divider="#b5b5b5"
    android:dividerHeight="1dp"
    android:listSelector="@drawable/list_selector" />
</LinearLayout> 
```

**list_row.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:background="@drawable/list_selector"
android:orientation="horizontal"
android:padding="5dip" >    
<!--  ListRow Left sied Thumbnail image -->
<LinearLayout android:id="@+id/thumbnail" 
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:padding="3dip"      
            android:layout_alignParentLeft="true"
            android:background="@drawable/image_bg" 
        android:layout_marginRight="5dip">

    <ImageView     
        android:id="@+id/list_image"   
        android:layout_width="50dip"
        android:layout_height="50dip"
        android:src="@drawable/ic_launcher"/>

</LinearLayout>

<!-- Title Of Song-->
<TextView
    android:id="@+id/col1tv"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignTop="@+id/thumbnail"
    android:layout_toRightOf="@+id/thumbnail"
    android:text="Rihanna Love the way lie"
    android:textColor="#040404"
    android:typeface="sans" 
    android:textSize="15dip"
    android:textStyle="bold"/>

<!-- Artist Name -->
<TextView
    android:id="@+id/col2tv"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@id/col1tv"
    android:textColor="#343434"
    android:textSize="10dip"
    android:layout_marginTop="1dip"
    android:layout_toRightOf="@+id/thumbnail"
    android:text="Just gona stand there and ..." />

<TextView 
    android:id="@+id/package_id"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:visibility="gone"/>

<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@id/col1tv"
    android:textColor="#343434"
    android:textSize="10dip"
    android:layout_marginTop="1dip"
    android:layout_toRightOf="@+id/col2tv"
    android:text=" puzzles, 0 solved" />

<!-- Rightend Duration -->

 <!-- Rightend Arrow -->    
 <ImageView android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/arrow"
    android:layout_alignParentRight="true"
    android:layout_centerVertical="true"/>

</RelativeLayout> 
```

**main.java**

```
 String[] from = new String[] {"id", "name", "size"};
    int[] to = new int[] { R.id.id, R.id.name, R.id.size };

    // prepare the list of all records
    List<HashMap<String, String>> fillMaps = new ArrayList<HashMap<String, String>>();
    for (int i = 0; i < pkg_id_col.size(); i++) {
         HashMap<String, String> map = new HashMap<String, String>();
         map.put("id", id_col.get(i));
         map.put("name", name_col.get(i));
         map.put("size", size.get(i));

         fillMaps.add(map);
     }

    SimpleAdapter adapter = new SimpleAdapter(this, fillMaps, R.layout.list_row_add_new, from, to);
    lv_add_new.setAdapter(adapter); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-01T05:58:14.270

`SimpleAdapter`知道如何仅为和`TextViews`绑定数据`ImageView`。要绑定您的`ProgressBar`使用`SimpleAdapter.ViewBinder`：

```
String[] from = new String[] {"id", "name", "size", "progress"};
int[] to = new int[] { R.id.id, R.id.name, R.id.size, R.id.theIdOfTheProgressBar}; // it seems that you don't have a `ProgressBar` in the layout

// prepare the list of all records
List<HashMap<String, String>> fillMaps = new ArrayList<HashMap<String, String>>();
for (int i = 0; i < pkg_id_col.size(); i++) {
     HashMap<String, String> map = new HashMap<String, String>();
     map.put("id", id_col.get(i));
     map.put("name", name_col.get(i));
     map.put("size", size.get(i));
     map.put("progress", valueForProgressBar); // progress will hold the progress for  your ProgressBar
     fillMaps.add(map);
 }

SimpleAdapter adapter = new SimpleAdapter(this, fillMaps, R.layout.list_row_add_new, from, to);
adapter.setViewBinder(new SimpleAdapter.ViewBinder() {

      public boolean setViewValue(View view, Object data, String textRepresentation) {
           if (view.getId == R.id.theIdOfTheProgressBar) {
               ((ProgressBar) view).setProgress(Integer.parseInt(data));
               return true;
           }
           return false; 
      }

}); 
```

# android - 如何从 C 文件中调用 Activity 的非静态方法

> ID：15082600
> 
> 赞同：0
> 
> 时间：2013-02-26T06:16:00.700
> 
> 标签：android, java-native-interface

我有一个`activity`有一个 void 方法的说`receiveSMS()`，这是一个 void 方法，由于某种原因我不能使它成为静态函数。

我的问题是如何`activity`从`c`文件中调用 void 方法。

在调用非静态方法时，我们需要类的实例。如何`Activity`在我的`c`文件中获取 a 的实例。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:26:42.507

您需要以下无效类型的签名

```
JNIEXPORT void JNICALL 
```

之后添加方法名称及其包及其属性作为示例以下可以用作参考

```
Java_com_putitout_buck_talkinganimals_VideoPlayback_setActivityPortraitMode(JNIEnv *, jobject, jboolean isPortrait)
{
    isActivityInPortraitMode = isPortrait;
} 
```

在 Java 方法签名中会是这样的

```
private native void setActivityPortraitMode(boolean isPortrait); 
```

进一步了解看[JNI](http://www.steveolyo.com/JNI/JNI.html)

# iphone - iOS 本地播放音乐列表

> ID：15082608
> 
> 赞同：0
> 
> 时间：2013-02-26T06:16:26.513
> 
> 标签：iphone, ios, xcode, avaudioplayer

我对如何在本地播放歌曲列表感到困惑。我正在尝试构建一个应用程序，允许用户从列表中选择一首歌曲，然后继续播放他们离开的列表。除非他们选择一首不同的歌曲，否则它会从那首歌曲开始播放。

我已经阅读并尝试了多个关于如何使用 AVFoundation 播放音频文件的教程，但它们似乎只让我能够播放一种声音。

我已经尝试过 MPMusicPlayer，但这不起作用，因为我只想播放应用程序附带的文件，而不是来自用户的音乐库。

这是我到目前为止从该教程获得的内容：

![iPhone 音乐播放器](../Images/0a6c93221ae895f0a037f9a48d533100.png)

我对如何在列表中本地播放歌曲感到困惑和困惑。我该如何构建这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T14:24:19.197

`UITableView`在尝试需要它的应用程序之前，您可能应该考虑使用 a 。

*我是凭记忆写的，所以请测试一下并确认一切正常...*

确保您的视图控制器实现了表视图委托的方法，并声明一个`UITableView`obj 和一个数组，如下所示：

```
@interface YourTableViewController : UIViewController <UITableViewDataSource, UITableViewDelegate>
{
  IBOutlet UITableView *theTableView;
  NSMutableArray *theArray;
} 
```

确保将它们链接到故事板中。您应该看到`theTableView`如上定义。

当你加载应用程序时，写下这个（在某个地方`viewDidLoad`就好了）：

```
theArray = [[NSMutableArray alloc] initWithObjects:@"Item 1", @"Item 2", @"Item 3", nil]; 
```

您不需要声明表格视图中有多少个部分，所以现在暂时忽略它，直到以后。但是，您应该声明有多少行：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
  return [theArray count]; // Return a row for each item in the array
} 
```

现在我们需要绘制`UITableViewCell`. 为简单起见，我们将使用默认的，但您可以很容易地制作自己的。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
  // This ref is used to reuse the cell.
  NSString *cellIdentifier = @"ACellIdentifier";

  UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellIdentifier]; 

  if(cell == nil)
  { 
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
  }

  // Set the cell text to the array object text
  cell.textLabel.text = [theArray objectAtIndex:indexPath.row];

  return cell; 
} 
```

一旦有了显示曲目名称的表格，就可以使用以下方法：

```
(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
  if(indexPath.row == 0)
  {
    NSString *arrayItemString = [theArray objectAtIndex:indexPath.row];
    // Code to play music goes here...
  }
} 
```

在`NSMutableArray`我们声明的顶部，您不必将`NSString`'s 添加到数组中。例如，如果您想存储多个字符串，您可以创建自己的对象。只要记住修改调用数组项的位置即可。

最后，要播放音频，请尝试使用[此](https://stackoverflow.com/questions/1973902/play-mp3-files-with-iphone-sdk)SO 答案中的答案。

此外，虽然没有必要，但您可以使用 SQLite 数据库将您希望播放的曲目存储在列表中，而不是对列表进行硬编码。`NSMuatableArray`然后在调用数据库后填写。

# android - Android，如何发送 POST 请求

> ID：15082611
> 
> 赞同：1
> 
> 时间：2013-02-26T06:16:43.683
> 
> 标签：android, post, http-post

我无法从我的 Android 应用程序向服务器发送发布请求。我找到了一些关于如何发送**POST**的示例，但我的代码有一些错误，代码如下：

```
public class MainActivity extends Activity 
{
private WebView wv; //Internet
private EditText email1; //Edit's
private EditText email2; //Edit's
private Button btn_get_access; //Get Access
private String post_url = "http://rasnacis.lv/vova.php";

@Override
public void onCreate(Bundle savedInstanceState)
{       
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    wv = (WebView) findViewById(R.id.webView1);
    email1 = (EditText) findViewById(R.id.txt_email_1);
    email2 = (EditText) findViewById(R.id.txt_email_2);
    btn_get_access = (Button) findViewById(R.id.btn_get_access);

    WebSettings webSettings = wv.getSettings();
    webSettings.setSaveFormData(true);

    //BUTTON
    OnClickListener ocl_btn_get_access = new OnClickListener()
    {

        public void onClick(View v) 
        {

            String givenEmail1 = email1.getEditableText().toString();
            String givenEmail2 = email2.getEditableText().toString();

            //SENDING POST
            if (givenEmail1.length() > 0 && givenEmail2.length() > 0)
            {
                HttpClient httpClient = new DefaultHttpClient();
                HttpPost httpPost = new HttpPost(post_url);

                try
                {
                    List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
                    nameValuePairs.add(new BasicNameValuePair("email1", "email2"));
                    nameValuePairs.add(new BasicNameValuePair("email1", "slgjlskjgsg"));
                    nameValuePairs.add(new BasicNameValuePair("email2", "xkjfhgkdjfhgkdjfg"));

                    httpPost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                    httpClient.execute(httpPost);
                }
                catch (ClientProtocolException e) 
                {
                    System.out.println("First Exception caz of HttpResponese :" + e);
                    e.printStackTrace();
                }
                catch (IOException e) 
                {
                    System.out.println("Second Exception caz of HttpResponse :" + e);
                    e.printStackTrace();
                }
            }
            else
            {
                Toast.makeText(getBaseContext(), "All fields are required!", Toast.LENGTH_SHORT).show();
            }

            //sending GET
            //wv.loadUrl("http://rasnacis.lv/vova.php?email1=" + email1.getText() + "&email2=" + email2.getText());
        }
    };
    btn_get_access.setOnClickListener(ocl_btn_get_access);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

} 
```

那么有人可以帮我吗？我刚开始Android开发，不知道很多技巧或困难的东西......

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-26T06:32:04.863

我已经使用这种技术使用 post 方法来敲击服务器：

```
new Thread( new Runnable() {
    @Override
    public void run() {
       try {
          query = "name="+username+"&pass="+passwaord;

          URL url = new URL("https:www.example.com/login.php");
          HttpURLConnection connection = (HttpURLConnection)url.openConnection();
          connection.setRequestProperty("Cookie", cookie);
          //Set to POST
          connection.setDoOutput(true);
          connection.setRequestMethod("POST");
          connection.setReadTimeout(10000);
          Writer writer = new OutputStreamWriter(connection.getOutputStream());
          writer.write(query);
          writer.flush();
          writer.close();
       } catch (Exception e) {
           // TODO Auto-generated catch block
           Log.e(Tag, e.toString());
       }
    }
}).start(); 
```

我希望它会有所帮助。请确保，cookie 是否需要为您的目的而发布。如果没有，那么你可以忽略`connection.setRequestProperty("Cookie", cookie);`行。

`query`可以创建`BasicNameValuePair`，但我使用的过程对我来说更容易。

确保您已在清单中为互联网设置权限：

```
<uses-permission android:name="android.permission.INTERNET" /> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-26T06:35:32.360

这是在您的应用程序中使用的**doPostRequest()**方法，

这对您很有用，并且可以*完美地*在我的代码中工作...

```
private void doPostRequest(){

    String urlString = "http://rasnacis.lv/vova.php";
    try
    {
        HttpClient client = new DefaultHttpClient();
        HttpPost post = new HttpPost(urlString);

        MultipartEntity reqEntity = new MultipartEntity();
        reqEntity.addPart("email1_tag", new StringBody("email1_put_here"));
        reqEntity.addPart("email2_tag", new StringBody("email2_put)here"));
        reqEntity.addPart("email3_tag", new StringBody("email3_put_here"));
        post.setEntity(reqEntity);
        HttpResponse response = client.execute(post);
        resEntity = response.getEntity();
        final String response_str = EntityUtils.toString(resEntity);
        if (resEntity != null) {
            Log.i("RESPONSE",response_str);
            runOnUiThread(new Runnable(){
                public void run() {
                    try {
                    } catch (Exception e) {
                        e.printStackTrace();
                    }
                }
            });
        }
    }
    catch (Exception ex){
        Log.e("Debug", "error: " + ex.getMessage(), ex);
    }
} 
```

如果您实现此代码，则**需要**两个**库**文件：

[http://repo1.maven.org/maven2/org/apache/httpcomponents/httpmime/4.0.1/httpmime-4.0.1.jar](http://repo1.maven.org/maven2/org/apache/httpcomponents/httpmime/4.0.1/httpmime-4.0.1.jar)

[http://repo1.maven.org/maven2/org/apache/james/apache-mime4j/0.6/apache-mime4j-0.6.jar](http://repo1.maven.org/maven2/org/apache/james/apache-mime4j/0.6/apache-mime4j-0.6.jar)

# actionscript-3 - as3 中的错误 1084：在左括号之前需要右括号

> ID：15082613
> 
> 赞同：0
> 
> 时间：2013-02-26T06:17:01.713
> 
> 标签：actionscript-3

找不到错误。不用说我是新手。任何帮助将不胜感激

```
public function setDestination(param1:String, param2, param3:Boolean = true) : void
    {
        var _loc_4:* = {};
        {}[param1] = param2;      
        updateTo(_loc_4, param3);
        return;
    }// end function 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:35:44.230

您的错误与此行有关：

```
{}[param1] = param2; 
```

虽然我不能确定这里的实际意图是什么，但可能是这样的：

```
_loc_4[param1] = param2; 
```

# css - 浏览器调整大小时文本移动

> ID：15082614
> 
> 赞同：0
> 
> 时间：2013-02-26T06:17:16.587
> 
> 标签：css, browser, text, resize

我现在在一个网站上工作，我的文字遇到了问题。当我缩小时，文本开始堆叠并实际上超出了我的 div。我有一个固定宽度和高度的 div，并将它包裹在其他 div 中，并且无法为我的生活解决这个问题。但是只有文本移动，其他一切都保持不变。看起来有点像这个

期望：

> 这是我
> 想要 的文字

实际的：

> 这
> 是 文本
> _

当我缩小文本时，文本往往会堆积起来并从 div 中推出。

```
 .content {
    width: 960px;
    margin: 0 auto;
    }

    .contentleft{
    float: left;
    width: 480px;
   }

    .contentright{
    float: right;
    width: 480px;
    }

    .boxone {
    float: left;
    clear:both;
    height: 211px;
    width: 230px;
    background-image:url(../images/rec1.png);
    }

    .textone {
    width: 220px;
    height: 200px;
    overflow:hidden;
    clear: both;

   } 
```

HTML

```
 <div class=content>
            <div class=contentleft>
                <div class=boxone>

                    <div class=textone>
                 <p> TEXT TEXT TEXT TEXT </p> 

                    </div>
                    <div class=learnone>
                    </div>
                </div>

                <div class=boxtwo>
                </div>
            </div>

            <div class=contentright>
                <div class=boxthree>
                </div>
                <div class=boxfour>
                </div>
            </div>
        </div> 
```

我该怎么做才能阻止该文本移动？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:21:23.197

缩放页面中的所有项目是一种浏览器行为，但作为开发人员，您可以指定以像素为单位的字体大小。

```
font-size:12px; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-30T15:17:19.787

尝试简单地增加 div 的宽度。

例子

```
.contentleft {
    width: 800px;
} 
```

# haskell - 如何使用 XMonad 显示 MPD 音量

> ID：15082615
> 
> 赞同：0
> 
> 时间：2013-02-26T06:17:16.677
> 
> 标签：haskell, xmonad

我正在尝试使用 haskell-libmpd 读取 XMonad 中的 MPD 卷。而独立代码：

```
-- current darcs as of 2010-12-31
{-# LANGUAGE
     DeriveDataTypeable,
     FlexibleContexts,
     FlexibleInstances,
     MultiParamTypeClasses,
     NoMonomorphismRestriction,
     PatternGuards,
     ScopedTypeVariables,
     TypeSynonymInstances,
     UndecidableInstances,
     OverloadedStrings
     #-}
{-# OPTIONS_GHC -W -fwarn-unused-imports -fno-warn-missing-signatures #-}

import Control.Applicative
import Control.Monad
import Control.Monad.Instances ()
import Control.Monad.Writer
import Control.Monad.Trans (liftIO)
import Data.List
import Data.Int
import Data.Maybe
import Data.Either
import Data.Either.Utils
import Data.Traversable(traverse)
import qualified Data.Map as M
import System.IO
import System.Environment (getArgs)
import System.Process
import Prelude
import Text.Regex.Posix
import qualified Network.MPD as MPD
import qualified Network.MPD.Commands.Extensions as MPD
import Data.Array
import System.Cmd

int2str :: (Show a, Num a, Ord a) => a -> String
int2str x = if x < 10 then '0':sx else sx where sx = show x

parseMPD :: MPD.Response MPD.Status -> [[String]]
parseMPD (Left e) = return $ show e:repeat ""
parseMPD (Right st) = do
     return [vol, "%"]
     where
          vol = int2str $ MPD.stVolume st
--          song = MPD.withMPD MPD.currentSong 

main = do
     x <- MPD.withMPD $ MPD.status
     let a = unwords (foldr1 (++) (parseMPD x))
     rawSystem "notify-send" ["MPD Volume", a] 
```

正确编译，在 XMonad 配置中使用相同的代码

```
int2str :: (Show a, Num a, Ord a) => a -> String
int2str x = if x < 10 then '0':sx else sx where sx = show x

parseMPD :: MPD.Response MPD.Status -> [[String]]
parseMPD (Left e) = return $ show e:repeat ""
parseMPD (Right st) = do
     return [vol, "%"]
     where
          vol = int2str $ MPD.stVolume st

volume :: MonadIO m => m()
volume = do
    x <- MPD.withMPD $ MPD.status
    let a = unwords (foldr1 (++) (parseMPD x))
    safeSpawn "notify-send" ["MPD Volume", a] 
```

导致错误：

```
 xmonad.hs:182:14:
     Could not deduce (m ~ IO)
     from the context (MonadIO m)
       bound by the type signature for volume :: MonadIO m => m ()
       at xmonad.hs:180:11-26
       `m' is a rigid type variable bound by
           the type signature for volume :: MonadIO m => m ()
           at xmonad.hs:180:11
     Expected type: m (MPD.Response MPD.Status)
       Actual type: IO (MPD.Response MPD.Status)
     In a stmt of a 'do' block: x <- MPD.withMPD $ MPD.status
     In the expression:
       do { x <- MPD.withMPD $ MPD.status;
            let a = unwords (foldr1 (++) (parseMPD x));
            safeSpawn "notify-send" ["MPD Volume", a] }
     In an equation for `volume':
         volume
           = do { x <- MPD.withMPD $ MPD.status;
                  let a = ...;
                  safeSpawn "notify-send" ["MPD Volume", ....] } 
```

如何在不运行外部应用程序的情况下获得 MPD 音量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:52:23.763

答：你在 xmonad 配置中没有使用相同的代码，你这个骗子！您添加了`volume`. 不过别担心，它应该很容易修复：您可以将任何`IO a`操作转换为`MonadIO m => m a`操作`liftIO`：

```
volume :: MonadIO m => m()
volume = do
    x <- liftIO . MPD.withMPD $ MPD.status
    let a = unwords (foldr1 (++) (parseMPD x))
    safeSpawn "notify-send" ["MPD Volume", a] 
```

顺便说一句，您以后可能[会对 XMonad.Prompt.MPD](http://hackage.haskell.org/packages/archive/xmonad-extras/0.11/doc/html/XMonad-Prompt-MPD.html)感兴趣。

# c# - WCF 生成的 wsdl 与为创建 WCF 服务而提供的原始 wsdl 不同？

> ID：15082616
> 
> 赞同：1
> 
> 时间：2013-02-26T06:17:16.903
> 
> 标签：c#, .net, wcf, wsdl

我从老板那里得到了一个原始的 wsdl 文件，并要求我基于它创建一个 Dummy Web Service。然后创建一个客户端来测试它，使用从 Dummy Web Service 生成的新 wsdl 文件，它需要与原始 wsdl 完全相同。不幸的是，我发现由 Dummy Web Service 生成的新 wsdl 与原来的不同。谁能告诉我为什么？如何获得与原版相同的 wsdl？谢谢！

我为这项任务做了什么：

1.  `SvcUtil.exe /sc original.wsdl`--> 获取 C# 服务类并为其实现具体类（虚拟 Web 服务）
2.  `svcutil /t:metadata 'http://localhost/myservice/test.svc?singlewsdl'`--> 从正在运行的虚拟 Web 服务中获取新的 WSDL，但它会与原来的不同
3.  `WSDLImp.exe`创建Delphi客户端（测试客户端）的代理类

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:51:08.520

情况总是如此。您正在比较两个不同的 WSDL。一种是与您的客户端共享的虚拟 WSDL，用于使用 SvcUtil 生成服务。部署 Web 服务并查看它共享的 WSDL 后，您现在就有了一个具体的 WSDL。

*您最好通过基于虚拟 WSDL*的服务调用来测试您的新服务，因为这是您可能在客户端之间共享的 WSDL。SoaupUI 能够基于您的虚拟 WSDL 生成和执行测试。

# ruby - 如何列出任务中所有修订的描述？

> ID：15082617
> 
> 赞同：1
> 
> 时间：2013-02-26T06:17:25.473
> 
> 标签：ruby, rally

尝试为给定的一组任务打印出任务中所有修订的描述。但`RevisionHistory`似乎是一个`HashArray`而不是一个`RallyObject`。不知道如何进行。这里的任何帮助将不胜感激。这是我正在采取的方向的一个片段。我应该用什么代替`------`？

```
results.each do |task|
  @revisions = task.rally_object['RevisionHistory'].-------
  @revisions.each do |task_revision|
    puts task_revision["Description"]
  end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T15:53:02.513

您不需要在那里找到 RallyObject，而是该类旨在通过缺少方法或 [FieldName] 获得方便的方法来获取每个对象的字段。例如，试试你的循环：

```
results.each do |task|
  @revisions = task['RevisionHistory']['Revisions']
  #you may need a @revisions = task['RevisionHistory'].read or something like that depending what you fetched in your query.
  @revisions.each do |task_revision|
    puts task_revision["Description"]
  end
end 
```

希望有帮助。

# xslt - 对于 xslt 1.0 中的每个循环

> ID：15082621
> 
> 赞同：0
> 
> 时间：2013-02-26T06:17:39.987
> 
> 标签：xslt

如何`for-each`在 xslt 1.0 中编写一个循环，它只考虑`Subbranch`ID=11 和 12 的元素，忽略 13 和 14。

```
<root>
  <branch ID='1'>
    <subbranch ID='11'>
      <Values DataType='String'>
        <Value StringLength='3'>abc</Value>
      </Values>
    </subbranch>
    <subbranch ID='12'>
      <Values DataType='String'>
        <Value StringLength='3'>def</Value>
      </Values>
    </subbranch>
    <subbranch ID='13'>
      <Values DataType='String'>
        <Value StringLength='3'>uvw</Value>
      </Values>
    </subbranch>
    <subbranch ID='14'>
      <Values DataType='String'>
        <Value StringLength='3'>xyz</Value>
      </Values>
    </subbranch>
  </branch>
</root> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:24:07.833

您可以将[xsl:for-each](http://msdn.microsoft.com/en-us/library/ms256166.aspx)与仅匹配前两个子分支的 XPath 表达式一起使用：

```
<xsl:template match="root">
    <xsl:for-each select="branch/subbranch[@ID='11' or @ID='12']">
        <!-- Emit something... -->
    </xsl:for-each>
</xsl:template> 
```

或者，交替：

```
<xsl:template match="root">
    <xsl:for-each select="branch/subbranch[position() &lt; 3]">
        <!-- Emit something... -->
    </xsl:for-each>
</xsl:template> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T07:35:24.600

建议避免`for-each`构造，除非处理`<xsl:key>`. 您应该使用`match-template`and`apply-templates`构造，而不要考虑不需要的值。

此 XSLT 应用于您的源：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">

<xsl:output indent="yes" method="xml"/>

<xsl:template match="node() | @*">
    <xsl:copy>
        <xsl:apply-templates select="node() | @*"/>
    </xsl:copy>
</xsl:template>

<xsl:template match="subbranch[@ID='13']"/>
<xsl:template match="subbranch[@ID='14']"/>

</xsl:stylesheet> 
```

给出这个输出：

```
<?xml version="1.0" encoding="UTF-8"?>
<root>
<branch ID="1">
    <subbranch ID="11">
        <Values DataType="String">
            <Value StringLength="3">abc</Value>
        </Values>
    </subbranch>
    <subbranch ID="12">
        <Values DataType="String">
            <Value StringLength="3">def</Value>
        </Values>
    </subbranch>
</branch>
</root> 
```

通过匹配空模板中不需要的值，您可以避免处理 XML 的那些部分，例如`<xsl:template match="subbranch[@ID='13']"/>`

# parsing - 解析和前瞻令牌误解

> ID：15082622
> 
> 赞同：1
> 
> 时间：2013-02-26T06:17:51.163
> 
> 标签：parsing, compiler-construction, logic

我有一些让我发疯的问题，请帮助我理解它们：

1.在 LR(1) 中，解析器是否在给定时间内查找输入并查找下一个输入，然后决定做出意味着移位或减少的决定，如果是 LR(0) 解析器没有的权利查看任何输入，那么它如何确定解析器是否看不到输入？

在悬而未决的其他问题中：

```
 s--->   if a then s |
    if a then s else s 
```

为什么这个语法不是 LR(1)？

在 LR 解析中，我们是自下而上的，所以首先我们移动“if”，然后我们移动“a”，然后“then”，然后“s”，然后我们查看前瞻标记，如果它是“else”，那么我们不减少直到获得第二个完整语句，如果不是“else”，那么我们通过第一个语句进行减少，那么会发生的`shift-reduce冲突在哪里？

# java - 错误：org.hibernate.hql.ast.QuerySyntaxError：意外令牌

> ID：15082623
> 
> 赞同：0
> 
> 时间：2013-02-26T06:17:56.490
> 
> 标签：java, hibernate, jakarta-ee, hql

错误：

> org.hibernate.hql.ast.QuerySyntaxError：意外令牌 org.hibernate.hql.ast.QuerySyntaxError：意外令牌：在第 1 行，第 148 列附近打开 [SELECT op.username，op.email，orders.p_id，orders.o_id， product.listed_price FROM com.model.Orders orders INNER JOIN orders.OrderProcessing as op ON op.u_id = orders.u_id INNER JOIN orders.Product 作为产品 ON product.p_id = orders.p_id WHERE product.p_id = '208' ORDER BY操作用户名]

```
productList = 
(List<Object[]>) session.createQuery("SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price " + 
"FROM Orders  orders " +
"INNER JOIN orders.OrderProcessing as op " +                                                        
"ON op.u_id = orders.u_id " +                                                              
"INNER JOIN orders.Product as product " +                                                               
"ON product.p_id = orders.p_id " +                                                         
"WHERE product.p_id = '"+p_id +"' " +                                                          
"ORDER BY op.username").list(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T08:34:03.330

Hibernate 支持连接限制，但语法与 SQL 不同。您必须在 Hibernate中替换`ON`关键字！`WITH`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T07:07:13.383

Chetter Hummin 是对的，HQL 不支持“开”。看到这个：[http ://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:45:45.983

```
productList = (List<Object[]>) session.createQuery("SELECT op.username, op.email, orders.p_id, orders.o_id, product.listed_price " + "FROM Orders  orders " +"INNER JOIN orders.OrderProcessing as op " +  "ON op.u_id = orders.u_id"+ "INNER JOIN orders.Product as product " + "ON product.p_id = orders.p_id "+ "WHERE product.p_id = '"+p_id +"'" "ORDER BY op.username").list(); 
```

您必须检查订单表。orders.orderProcessing 不是一个表，它是 orders 表中的一列。

# php - 我们可以结合php和jsp吗？

> ID：15082625
> 
> 赞同：0
> 
> 时间：2013-02-26T06:18:04.567
> 
> 标签：php, html, jsp

如果我使用网页，即。HTML 页面并在其中编写一些 php 代码。另外，如果我在其中编写一些jsp代码并将文件另存为.jsp，可以这样做吗？只是一个常见的问题在我脑海中浮现。所以，想问问大家。对不起，如果我听起来很有趣。我有html和jsp的知识。但是php的新手。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:20:58.880

你不能。每个都由单独的运行时处理，并且它们不互操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:21:03.767

不是以任何明智的方式。PHP 和 JSP 都是服务器端脚本语言，但它们通常用于非常不同的环境，并且不兼容。尝试组合它们是没有意义的 - 选择一个并使用它。

# ios - 带有详细信息的表格视图

> ID：15082629
> 
> 赞同：0
> 
> 时间：2013-02-26T06:18:10.407
> 
> 标签：ios, uitableview

我用数组中的数据创建了一个表格视图。现在我想要 tableview 的所有行的详细信息。如果我从表格视图中选择任何食谱，它应该向我显示准备该食谱的所有成分和程序，并在顶部带有该特定食谱的图片。我是这个领域的新手，所以请帮忙。

这是“ViewController.m”

```
#import "ViewController.h"
@interface ViewController ()
@end
@implementation ViewController

- (void)viewDidLoad
{
[super viewDidLoad];
RecipeList = [[NSMutableArray alloc]init];
[RecipeList addObject:@"Chicken Kabab"];
[RecipeList addObject:@"Chicken Tikka"];
[RecipeList addObject:@"Chicken 65"];
[RecipeList addObject:@"Chicken Do Pyaza"];
CGRect frame = self.view.frame;
RecipeTable = [[UITableView alloc]initWithFrame:frame style:UITableViewStylePlain];
RecipeTable.separatorStyle = UITableViewCellSeparatorStyleSingleLine;
RecipeTable.backgroundColor = [UIColor cyanColor];
RecipeTable.delegate = self;
RecipeTable.dataSource = self;
[self.view addSubview:RecipeTable];
[RecipeTable setScrollEnabled:YES];
[RecipeTable setUserInteractionEnabled:YES];
[RecipeTable setRowHeight:35];
}
- (void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
}
- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section
{
return @"RECIPES";
}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{

return RecipeList.count;
}
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"cell"];
if (!cell) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"cell"];
}
cell.textLabel.text = [RecipeList objectAtIndex:indexPath.row];
return cell;

}
@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:51:55.420

您必须使用 UITableView 的 DidSelectRow 代表。然后，如果您选择一个配方，它会调用 DidSelectRow 委托。在此委托中，您进行编码以推送到新的 ViewController 。在新的 ViewController 之上创建一个 UIImageView ，然后将图像从 TableViewCell 传递到新 viewController 的 UIImageView

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T07:08:19.057

如果您希望将特定 Dish 的详细信息填充到另一个被推送的 ViewController 中，最简单的方法是创建一个**NSObject**，其中包含该特定菜肴所需的所有详细信息并将其维护为一个数组。当您在 tableView 中选择一行时，**didSelectRowAtIndexPath:**获取该 indexPath 处的对象并将其传递给正在推送的下一个 VC。在详细信息 VC 中，您可以使用对象中的详细信息填充详细信息。

而不是这样做

```
 RecipeList = [[NSMutableArray alloc]init];
 [RecipeList addObject:@"Chicken Kabab"]; 
```

做类似的事情

```
 RecipeList = [[NSMutableArray alloc]init];
 [RecipeList addObject:dishObj]; 
```

其中 disObj 是一个 NSObject，属于 Dish 类，其中包含 Dish 名称、图像和食谱。

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"cell"];
    if (!cell) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"cell"];
    }
    Dish *dishObject = [RecipeList objectAtIndex:indexPath.row];
    cell.textLabel.text = dishObject.dishName;
    return cell; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T07:21:11.880

只需将配方名称传递给 detailViewController。然后根据配方的名称，您可以在 UIImageView 中加载合适的图像。在代码 recipename 是 detailViewController 中的 NSString。将其声明为属性..

```
 - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{   
    DetailViewController *detailViewController = [[DetailViewController alloc] initWithNibName:@"DetailViewController" bundle:nil];
    NSString *name=[recipe objectAtIndex:indexPath.row];
      detailViewController.recipename=name; 
    [self.navigationController pushViewController:detailViewController animated:YES];

} 
```

然后在detaiViewController.m

```
 - (void)viewDidLoad
    {
        [super viewDidLoad];
        if([recipename isEqualToString:@"Pizza"])
         {
           UIImage *image = [UIImage imageNamed: @"pizza.png"];
           [img setImage:image];
         }
        else if([recipename isEqualToString:@"Chicken 65"])
         {
           UIImage *image = [UIImage imageNamed: @"chicken.png"];
           [img setImage:image];
         } 
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T07:30:55.823

试试这个，你必须使用 UITableView 的 DidSelectRow 委托

```
 - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
// Navigation logic may go here. Create and push another view controller.

 DetailViewController *detailViewController = [[DetailViewController alloc] initWithNibName:@"DetailViewController" bundle:nil];
NSString *strDishName = [RecipeList objectAtIndex:indexPath.row];
detailViewController.strDishDetail =strDishName;
 // ...
 // Pass the selected object to the new view controller.
 [self.navigationController pushViewController:detailViewController animated:YES];   
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T10:42:25.453

我希望下面的教程对你有用.. [Segue](http://www.appcoda.com/improve-detail-view-controller-storyboard-segue/)

# gwt - 将 GWT 与其同类技术进行比较

> ID：15082633
> 
> 赞同：0
> 
> 时间：2013-02-26T06:18:26.213
> 
> 标签：gwt

我正在寻找一种可以与 GWT 进行比较的技术。我正在考虑比较 GWT 与 Ruby on Rail。但我不确定这是否是最好的选择。如果有人能给我一些提示，我真的很感激

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T09:39:38.270

很难将 GWT 与其他任何东西进行比较。

GWT 背后的主要思想是利用现有工具：调试器、IDE（重构等）、静态分析工具（findbugs、checkstyle、PMD）等。目标不是在 JavaScript 中提供对 Java 的真正模拟；能够将任何现有的 Java 库与 GWT 一起使用不是目标。

那么，什么是 GWT？

*   GWT 是 JavaScript 的*转译*器，很像 CoffeeScript、TypeScript、Script#、Emscripten、[Haxe](https://github.com/jashkenas/coffee-script/wiki/List-of-languages-that-compile-to-JS)[等等](http://altjs.org/) 。
    *   但与许多其他开发不同的是，GWT 开发在 JVM 中运行 Java，而不是编译为 JS（Dart 及其 Dartium 和 dart2js 的工作方式类似），这允许您使用 Java 调试器和 JRebel 等工具进行热代码替换。
    *   编译过程也*可插入*代码/资源生成器（*延迟绑定*）。这与 Java 的静态类型相结合，可以使用依赖注入工具，例如 GIN（Guice for GWT）
*   GWT 也是一个广泛的库：
    *   客户端-服务器通信协议：GWT-RPC 和 RequestFactory（RequestFactory 也可以从 Java 客户端使用，例如 Android 应用程序；RequestFactory 也可以用于消费 JSON-RPC 服务）
    *   通过 AutoBeans 编组 JSON
    *   小部件，这使得人们有时会在构建 UI 的方式上将 GWT 与 Swing 进行比较（尽管如果您像构建 Swing UI 一样构建 GWT UI，那么您注定要失败）
    *   UiBinder 类似于 Flex 的 MXML、.NET 的 XAML 或 Gnome 的 Glade；但也可以用于输出 HTML 而不是构建小部件，这使它更像...... AngularJS 也许？
    *   SafeHtmlTemplates 可以看作类似于 Mustache.js
    *   CssResources 类似于 Closure Stylesheet 或 Sass 或 Less，但功能较少
    *   编辑器在某种程度上可以与 AngularJS 绑定相媲美（参见[https://plus.google.com/114156500057804356924/posts/LSNj2zTZo78](https://plus.google.com/114156500057804356924/posts/LSNj2zTZo78)上的讨论）

根据您正在查看的方面，您可以将 GWT 与许多其他工具进行比较；但最重要的是，GWT 是一个*客户端*工具，所以你**无法**将它与 Rails 相提并论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:50:45.770

**总重量：**

`GWT architecture`需要深入了解才能完全使用。它是为`advanced users`.

**导轨：**

`Rails`很简单，旨在编写更少的代码。适合初学者`web development.`

这是关于比较的完整[PDF 。](http://www.psl.cs.columbia.edu/classes/cs6125-s11/presentations/2010/Presentation_Monal_Sanghvi.pdf)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:34:08.767

简单的 JavaScript MV* 框架数量众多且易于比较。然而，在企业规模上——框架要少得多，而且每个框架都非常不同。其他几个：

*   ExtJS - 一个复杂的企业级 JavaScript 框架
*   TypeScript - 微软开发的一种新语言，强类型化并编译成 JavaScipt
*   Closure - 一种用于类型检查 JavaScript 的 Google 技术

如您所见，这些都与 GWT 不同，但都针对企业级 JavaScript 开发。

# php - 使用数据库和使用 PHP 和 mySQL 进行可扩展性/优化的面向对象设计

> ID：15082634
> 
> 赞同：0
> 
> 时间：2013-02-26T06:18:28.310
> 
> 标签：php, mysql, oop, optimization

我目前在我的网站结构设计方面陷入僵局。目前我正在使用对象来简化我的网站的结构（我有一个人对象、一个派对对象、一个职位对象等......），理论上，这些对象中的每一个都是来自它各自表中的一行数据库。

现在从我所学到的，OO Design 有利于保持简单和易于使用/实现，我同意这一点 - 它使我的代码看起来更加干净和易于维护，但我感到困惑的是如何我开始将我的对象链接到数据库。

假设有一个人员页面。我创建了一个人对象，它等于一个 mysql 查询（这是合理的），但是那个人可能有多个位置，我需要在单个页面上获取并显示这些位置。

我目前正在做的是从 person 对象中使用一个名为*getPositions*的方法，该方法从 mysql 获取数据并为每一行创建一个单独的位置对象，将数据作为数组传递。这样可以将查询降到最低（每页 2 个），但它似乎是一个可怕的实现，对我来说，它违反了面向对象设计的规则（如果我想更改 mysql 行，我需要将其更改为多个地方），但另一种情况更糟。

在这种情况下，替代方法只是获取我需要的 ID，然后创建单独的位置，传入 ID，然后在构造函数中从数据库中获取行。如果你每页有 20 个职位，它可以很快加起来，我已经读过[Wordpress 因其](http://www.codinghorror.com/blog/2008/04/behold-wordpress-destroyer-of-cpus.html)每页的大量查询和 CPU 使用率而受到批评。在这种情况下我需要考虑的另一件事是排序，这样做意味着我需要使用 PHP 对数据进行排序，这肯定不能像在 mysql 中那样高效。

当然，页面将（并且可以）被缓存，但对我来说，这几乎就像对构建不佳的应用程序作弊一样。在这种情况下，正确的解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T15:13:43.750

你现在的做法至少是在正确的轨道上。在父对象中有一个引用子对象的数组基本上是数据在数据库中的表示方式。

如果您将子项作为引用存储在父数组中，我不能完全确定您的问题，但您应该这样做，这就是 PHP 默认存储它们的方式。如果您还对从数据库中提取的对象使用单例模式，则您永远不需要修改多个对象来更改您在问题中建议的一行。

您可能还应该为您的对象创建多个构造函数（使用返回新实例的静态方法），以便您可以从它们的 ID 创建它们并让它们提取数据或仅从您已有的数据创建它们。后一种情况将在您创建孩子时使用；您可以让父级为其子级提取所有数据，并仅使用一个查询创建所有这些数据。从其 ID 中获取孩子可能会在其他地方使用，所以如果需要的话，它很好。

对于排序，您可以创建额外的私有（或公共，如果需要）数组，以特定方式对子项进行排序，并引用主数组引用的相同对象。

# ip-address - 各种IP地址范围

> ID：15082640
> 
> 赞同：0
> 
> 时间：2013-02-26T06:18:43.167
> 
> 标签：ip-address, virtual-ip-address

除了 A、B、C 和 D 类寻址之外，存在哪些 IP 地址范围的各种分类。例如，范围 212.198.0.255-202.190.0.255 具体表示什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:21:48.157

范围有

```
Class   Leftmost bits   Start address   Finish address
A              0xxx     0.0.0.0     127.255.255.255
B              10xx     128.0.0.0   191.255.255.255
C              110x     192.0.0.0   223.255.255.255 
```

D & E 类也存在，但 D 类仅保留用于多播，E 类用于实验；用于研究

```
Class   Leftmost bits   Start address   Finish address

D              1110     224.0.0.0   239.255.255.255
E              1111     240.0.0.0   255.255.255.255 
```

请[点击此链接以获取更多详细信息](http://www.bleepingcomputer.com/tutorials/ip-addresses-explained/)
由于您是 StackOverFlow 的新手，那么我必须请您阅读[常见](https://stackoverflow.com/faq)问题解答，并且必须看到您应该在这里问的方式和问题。这是一个非常简单的问题，您可以轻松地从serach引擎。先自己努力，然后在这里问你是否卡住了。祝你好运

# mysql - mysql中的加入条件需要忽略空字段

> ID：15082641
> 
> 赞同：0
> 
> 时间：2013-02-26T06:18:46.980
> 
> 标签：mysql, sql, join

我有两个表：post、post_image

我目前正在尝试像这样加入他们：

```
$sql = 'SELECT post.*, post_image.name AS img FROM post, post_image 
WHERE post_image.postId=post.id LIMIT 10'; 
```

这是我的问题。有些帖子在 post_image 中没有任何条目，但我仍然需要返回它们。我知道 mysql 可以检查 null，但如果这是解决方案，我不确定它会在我的声明中去哪里。我也不完全确定我可以使用我正在使用的速记连接来做到这一点。

请帮忙 ：）

编辑：

这现在按预期工作，但我还需要确保它只提取字段 ordinal=0 的 post_image，因为可以有多个 post_image 条目。我尝试添加一个 WHERE 子句，它似乎只提取带有图像的帖子。这就是我所拥有的：

```
SELECT post.*, post_image.name AS img FROM post LEFT JOIN post_image ON post_image.postId=post.id WHERE post_image.ordinal=0 LIMIT 10 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T06:20:50.240

像这样使用`LEFT JOIN`：

```
SELECT 
  post.*, 
  post_image.name AS img 
FROM post
LEFT JOIN post_image ON post_image.postId = post.id 
LIMIT 10; 
```

您的查询是`INNER JOIN`使用旧连接语法的两个表，它使用`WHERE`子句来指定连接条件。最好在以后的查询中`JOIN`使用使用条件的显式语法。`INNER JOIN`

了解更多信息：

*   [**SQL 连接的可视化解释**](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)。
*   [**要改掉的坏习惯：使用老式的 JOIN**](https://sqlblog.org/2009/10/08/bad-habits-to-kick-using-old-style-joins)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:23:31.377

怎么用`LEFT JOIN`？我认为它会显示帖子，尽管它没有图像。

```
SELECT * FROM post p LEFT JOIN post_image pi ON p.id = pi.postId 
```

# magento - Magento中没有文件上传错误

> ID：15082643
> 
> 赞同：1
> 
> 时间：2013-02-26T06:18:57.450
> 
> 标签：magento, error-handling, magento-1.7

我已将我的 Magento 版本从 1.4.0.1 升级到 1.7.0.2。

现在我尝试使用 Magento Connect Manager 中的上传包文件上传主题包。它显示错误“未上传文件”。请给我一个解决方案。

[![错误的屏幕截图](../Images/ccad5b76a805df1c27cffca381516219.png)](https://i.stack.imgur.com/nm95n.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:20:46.780

尝试使用 magento-connect 上扩展页面上的下拉菜单中的 2.0 版，这应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-30T15:17:11.647

在以下`No file was uploaded`情况下返回错误：

*   表单键无效
*   `$_FILES`不存在
*   `$_FILES['file']`是空的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-11T08:49:05.337

`.htaccess`我遇到了同样的问题，并通过在 Magento 的根文件夹中的主文件中注释掉重写指令来解决它。完成安装模块后，不要忘记添加这些说明。

我建议您保留一个`.htaccess.magento-connect`文件，以便在您想要使用 Magento Connect 时与您的常规`.htaccess`文件一起使用，并在两者之间切换。

# java - 带有日期格式时间戳的 Java 新日期

> ID：15082651
> 
> 赞同：2
> 
> 时间：2013-02-26T06:19:30.383
> 
> 标签：java

我用过以下

```
SimpleDateFormat df = new SimpleDateFormat("dd-mm-yyyy hh:mm:ss zzz");  
Date date = new Date(); 
String formattedDate= df.format(date);

Date dateWithTime = df.parse(formattedDate); 
```

当我将其转换为日期时，我将格式化的日期作为字符串得到了类似的错误

```
java.text.ParseException: Unparseable date: "Tue Feb 26 11:45:43 IST 2013" 
```

如何转换为日期或我如何格式化当前日期并获取日期？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:21:52.527

我认为您的代码不会抛出 ParseException。但它肯定会产生错误的输出。你的格式应该是：

```
"dd-MM-yyyy hh:mm:ss zzz" 
```

**注意**

*   MM---> 月
*   毫米---> 分钟

**在不更正格式的情况下使用您的代码进行测试：**

```
Sat Jan 26 06:24:07 GMT 2013 
```

**通过更正格式来测试您的代码：**

```
Tue Feb 26 06:20:51 GMT 2013 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:25:47.940

日期格式应如下所示，如异常所示。将其更改为 -

```
EEE MMM d hh:mm:ss z yyyy 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:32:04.180

正确的 simpledateformat 将是

`SimpleDateFormat df = new SimpleDateFormat("dd-MM-yyyy HH:mm:ss");`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T06:40:22.950

请参阅链接以获取正确的日期格式和解析 [SimpleDateFormat](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html)

# jenkins - 如何使用詹金斯打开外部可执行文件

> ID：15082658
> 
> 赞同：3
> 
> 时间：2013-02-26T06:19:47.173
> 
> 标签：jenkins, jenkins-plugins

如何使用詹金斯打开外部可执行文件

我在执行窗口批处理命令中尝试过

```
cd c:\EMailer\
call testcompete.exe 
```

但它不起作用然后我尝试了

```
start testcomplete.exe 
```

此 testcomplete 将运行自动化站点并编写一个文本文件。它也不起作用。jenkin中是否有任何插件或方法可以打开外部可执行文件？ ![在此处输入图像描述](../Images/2ef915ec5ca8d2d7dee2d6ce75603510.png)当 testcomplete 尝试启动时显示提示

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T08:35:54.380

将 Jenkins 服务设置为“允许服务与桌面交互”。这将允许 Jenkins 将桌面用作资源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-14T07:22:46.040

您需要在 Jenkins 中安装**Windows Exe Runner**插件。

更多信息：[https ://wiki.jenkins.io/display/JENKINS/Windows+Exe+Runner+Plugin](https://wiki.jenkins.io/display/JENKINS/Windows+Exe+Runner+Plugin)

# jquery - jquery ui-slider-handle 的嵌套类

> ID：15082662
> 
> 赞同：0
> 
> 时间：2013-02-26T06:19:53.977
> 
> 标签：jquery, css, jquery-slider

我想为每个 jquery 滑块 vfm-slider 和 rating-slider 分配不同的背景图像。

这是代码

```
<div id="slider-content"> 
    <span>VFM</span>
    <div class="vfm-slider"></div>
    <input type="text" class="slider-value"/>
    <div style="clear:both"></div> <span>Heart</span>
    <div class="rating-slider"></div>
    <input type="text" class="slider-value"  />
</div>

.ui-slider .ui-slider-handle  {
    background : url(http://findicons.com/files/icons/2015/24x24_free_application/24/heart.png) no-repeat scroll 50% 50% ;
    border:none;
    #content:"$";
    margin-top: -7px;
    #margin-left: 10px;
    font-size: 1.5em

} 
```

[http://jsfiddle.net/tven/JFdQs/](http://jsfiddle.net/tven/JFdQs/)

请问我该怎么做？一般来说，我对 jquery 和 css 很陌生。这可能是 css 类嵌套的一个非常直观的方面，但我现在无法理解它。任何帮助表示赞赏。

我尝试将类名 .vfm-slider 与 .ui-slider 和 .ui-slider-handle 类结合使用。但是我必须将后两个嵌套在前者之下。那当然是不可能的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:27:29.030

使用单独的规则：

```
.vfm-slider.ui-slider .ui-slider-handle{
  background : url(heart.png) no-repeat scroll 50% 50%;
}
.rating-slider.ui-slider .ui-slider-handle{
  background : url(rating-image.png) no-repeat scroll 50% 50%
} 
```

我已经更新了 jsfiddle 示例，它在那里工作： [http ://tinyurl.com/a67nw67](http://tinyurl.com/a67nw67)

# vb.net - 如何更改/设置 DateTimePicker 值

> ID：15082664
> 
> 赞同：8
> 
> 时间：2013-02-26T06:19:57.923
> 
> 标签：vb.net, datetimepicker

我正在尝试设置/更改 DateTimePicker 值（使用 vb.net），但不知道该怎么做。

我已将控件添加到页面，并尝试使用以下代码，但它不起作用，我无法弄清楚如何在运行时设置值。

```
DateTimePicker1.Value = Now.Day & "-" & Now.Month & "-" & Now.Year 
```

控件的格式设置为 Long，第一次加载时看起来像这样：

**2013 年 2 月 26 日，星期二**

但我不知道如何改变它。

我根据上面的代码得到的错误是：

**从字符串“26-2-2013”​​到类型“日期”的转换无效。**

有人有什么想法吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-26T06:35:07.210

我最终通过执行以下操作使其工作：

```
DateTimePicker1.Value = New Date(2013, 2, 26) 
```

我加载的值错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-06T19:23:32.930

在表单加载事件中添加以下代码以将日期时间选择器值设置为今天：

```
DateTimePicker1.CustomFormat="dd-MM-yyyy"
DateTimePicker1.Value=Now() 
```

# html - CSS：关于 div id 和 div 类

> ID：15082670
> 
> 赞同：0
> 
> 时间：2013-02-26T06:20:44.087
> 
> 标签：html, css

美好的一天，伙计们！我是这里的新手，我只是想知道如何使用 div id 和 div 类。例如，我想在我的网站中有许多 div 框，每个框的样式都相同。这是正确的做法吗？请赐教。

**HTML：**

```
<div id="body">
    <div id="box1" class="style"></div>
    <div id="box2" class="style"></div>
    <div id="box3" class="style"></div>
    //(and so on)//
</div> 
```

**CSS：**

```
.style {
    //(put elements here)//
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:26:11.153

没有真正*正确的事情要做*，因为一切都取决于情况和情况。

为什么你会认为这是“错误”的事情？这减少了您必须编写的代码量，所以它是有利的，对吗？

您还可以使用必须`<div>`单独覆盖 s 样式的 ID：

```
.style {
    color: red;
}
#body1 {
    color: blue;
} 
```

由于元素、ID 和类都具有不同的选择器优先级这一事实，我建议*不要*使用除类和伪类之外的任何东西，无论其他前景看起来多么有吸引力。如果你对它有纪律，你的 CSS 以后会更容易更新。`body1`如果是一个类而不是一个类，上面的示例将完全相同`ID`（不过，我建议使用 ID 来识别用于 DOM 操作的唯一元素）。

在为元素选择类名并在 HTML 中使用它们时，我也会遵循[W3C 的建议：](http://www.w3.org/TR/html5-author/global-attributes.html#classes)

> ...鼓励作者使用描述内容性质的值，而不是描述所需内容呈现的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:23:29.520

ID 是唯一的：

-每个元素只能有一个ID

- 每个页面只能有一个具有该 ID 的元素

类不是唯一的：

- 您可以在多个元素上使用相同的类。

- 您可以在同一个元素上使用多个类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:29:32.857

你可以用这个

```
<div id="demo">
    <div  class="box test"></div>
    <div  class="box test"></div>
    <div  class="box test"></div>

</div> 
```

CSS：

```
#demo
 {
 margin:0;
 padding:0;
 }
 .box
 {
 Width:100px;
 height:50px;
 background:red;

 }
 .test
 {
 color:white;
 } 
```

你可以申请两个班级。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:22:19.847

是的，那会奏效。如果您只想对所有 3 个应用相同的样式，则不需要 id。

[http://www.w3schools.com/tags/att_global_id.asp](http://www.w3schools.com/tags/att_global_id.asp)

[http://www.w3schools.com/tags/att_global_class.asp](http://www.w3schools.com/tags/att_global_class.asp)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T06:22:51.200

是的，如果您想对所有 div 应用相同的样式，那么您可以这样做，而不是绝对可以使用 class 将样式应用于 div。如果您的 div 与其他 div 不同，那么您可能可以使用 id ，它也允许您通过 javascript 访问该 div。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-26T06:23:36.273

如果它只是样式，那么 id 并不是真正需要的，如果它是所有子 div 的同一个类，则不需要给出类名。

**HTML**

```
<div id="body">
    <div></div>
    <div></div>
    <div></div>
</div> 
```

**CSS**

```
#body div {
    background:red;
    width:100px;
    height:100px;
    display:inline-block
} 
```

**[演示](http://jsfiddle.net/fYGdG/1/)**

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-26T06:24:02.443

您可以在许多 div 中使用“class”，但只能在一个地方使用“id”。因为 ID 在每个页面中应该是唯一的。

```
<div id="body">
    <div class="mystyle"></div>
    <div class="mystyle"></div>
    <div class="mystyle"></div>
    //(and so on)//
</div>

<style>
.mystyle{color:#000;}
<style> 
```

# c# - 如何将最新文件从一个目录复制到另一个目录

> ID：15082677
> 
> 赞同：-3
> 
> 时间：2013-02-26T06:21:04.927
> 
> 标签：c#, file-io

大家好，我还是 C# 的新手，我在 c:\SourceFolder 的目录中有文件，这些文件与格式为 FileName_YYYYMMDD 的日期字符串连接，如下所示：

```
report_20130220.text,
report_20130222.text,
report_20130228.text, 
```

我只想将具有最大日期的文件（例如（report_20130228.text））复制到另一个目录，请查看代码，但它会复制所有文件我做错了什么？

```
class Program
{
    static void Main(string[] args)
    {
        Program copy = new Program();
        DirectoryInfo sourcedinfo = new DirectoryInfo(@"C:\Users\Input");
        DirectoryInfo destinfo = new DirectoryInfo(@"C:\Users\Output");

        copy.CopyAll(sourcedinfo, destinfo);
        Console.Read();
    }
    public void CopyAll(DirectoryInfo source, DirectoryInfo target)
    {
        try
        {
            //check if the target directory exists
            if (Directory.Exists(target.FullName) == false)
            {
                Directory.CreateDirectory(target.FullName);
            }

            //copy all the files into the new directory

            foreach (FileInfo fi in source.GetFiles())
            {
                Console.WriteLine(@"Copying {0}\{1}", target.FullName, fi.Name);

                  fi.CopyTo(Path.Combine(target.ToString(), fi.Name), true);
            }

            Console.WriteLine("Success");
        }
        catch (IOException ie)
        {
            Console.WriteLine(ie.Message);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:33:24.653

我已经根据创建时间对列表进行了排序并选择了它。有可能您必须检查和更改它，但只是很小的。

```
public void CopyAll(DirectoryInfo source, DirectoryInfo target)
{
    try
    {
        //check if the target directory exists
        if (Directory.Exists(target.FullName) == false)
        {
            Directory.CreateDirectory(target.FullName);
        }

        //copy all the files into the new directory
        // Modified from here
            DateTime latestDate = source.GetFiles().Max(x => DateTime.ParseExact(x.Name.Substring(x.Name.IndexOf('_') + 1), "yyyyMMdd", System.Globalization.CultureInfo.InvariantCulture));

           FileInfo fileInfo = source.GetFiles().Single(x => x.Name == "report_" + latestDate.ToString("yyyyMMdd") + ".text");

            Console.WriteLine(@"Copying {0}\{1}", target.FullName, fileInfo.Name);

              fileInfo.CopyTo(Path.Combine(target.ToString(), fileInfo.Name), true);
        //ends here

        Console.WriteLine("Success");
    }
    catch (IOException ie)
    {
        Console.WriteLine(ie.Message);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:33:44.517

选择最后一个文件（如果文件名没有点或下划线则有效）：

```
IEnumerable<FileInfo> lastFiles = 
 source.EnumerateFiles()
       .Select(f => new {
            File = f,
            Name = f.Name.Split('_')[0],
            Date = DateTime.ParseExact(f.Name.Split('_', '.')[1], "yyyyMMdd",
                                       CultureInfo.InvariantCulture)
       })
       .GroupBy(x => x.Name)
       .Select(g => g.OrderByDescending(x => x.Date).First().File); 
```

然后只需复制软管文件。

* * *

如果文件名可能包含点或下划线，则使用正则表达式提取名称和日期：

```
IEnumerable<FileInfo> lastFiles = 
 source.EnumerateFiles()
       .Select(f => {
           Match match = Regex.Match(f.Name, @"(?<name>.+)_(?<date>\d{8})\.\w+");
           return new {
              File = f,
              Name = match.Groups["name"].Value,
              Date = DateTime.ParseExact(match.Groups["date"].Value, "yyyyMMdd",
                                         CultureInfo.InvariantCulture) 
           };
        })
       .GroupBy(x => x.Name)
       .Select(g => g.OrderByDescending(x => x.Date).First().File); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:42:32.023

```
DateTime myFileDate = source.GetFiles().Max(i => DateTime.ParseExact(i.Name.Substring(7, 8), "yyyyMMdd", System.Globalization.CultureInfo.InvariantCulture));
FileInfo myFile = source.GetFiles().Single(i => i.Name == "report_" + myFileDate.ToString("yyyyMMdd") + ".text");
myFile.CopyTo(Path.Combine(target.ToString(), myFile.Name), true); 
```

# android - 电子邮件/GMail 客户端未在 android 中显示表格

> ID：15082681
> 
> 赞同：1
> 
> 时间：2013-02-26T06:21:28.100
> 
> 标签：android, email

在我的应用程序中，我提供了“回复”选项。当用户单击“回复”时，将启动包含所有邮件客户端的选择器对话框。我将数据作为 HTML 内容传递。如果 HTML 包含表，那么它是以段落的形式出现。

# python - 带有 2 个 y 轴的 matplotlib 图

> ID：15082682
> 
> 赞同：18
> 
> 时间：2013-02-26T06:21:39.537
> 
> 标签：python, matplotlib

在时间线图的 matplolib 中，我可以在左侧设置 y 轴不同的值，并在右侧使用其他比例设置另一个 y 轴吗？

我正在使用这个：

```
import matplotlib.pyplot as plt 

plt.axis('normal')
plt.axvspan(76, 76, facecolor='g', alpha=1)
plt.plot(ts, 'b',linewidth=1.5)
plt.ylabel("name",fontsize=14,color='blue')
plt.ylim(ymax=100)
plt.xlim(xmax=100)
plt.grid(True)
plt.title("name", fontsize=20,color='black')
plt.xlabel('xlabel', fontsize=14, color='b')
plt.show() 
```

我可以在这个图中给出 2 个 y 轴吗？

在跨度选择器中：

```
 plt.axvspan(76, 76, facecolor='g', alpha=1) 
```

我想用正确的文本来描述这个跨度，例如“这是跨度选择器”我该怎么做？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-26T06:26:43.660

你想要的`twinx` [例子](http://matplotlib.org/examples/api/two_scales.html)。要点如果是：

```
ax = plt.gca()
ax2 = ax.twinx() 
```

然后，您可以绘制到第一个轴

```
ax.plot(...) 
```

第二个是

```
ax2.plot(...) 
```

在你的情况下（我认为）你想要：

```
import matplotlib.pyplot as plt 

ax = plt.gca()
ax2 = ax.twinx()
plt.axis('normal')
ax2.axvspan(74, 76, facecolor='g', alpha=1)
ax.plot(range(50), 'b',linewidth=1.5)
ax.set_ylabel("name",fontsize=14,color='blue')
ax2.set_ylabel("name2",fontsize=14,color='blue')
ax.set_ylim(ymax=100)
ax.set_xlim(xmax=100)
ax.grid(True)
plt.title("name", fontsize=20,color='black')
ax.set_xlabel('xlabel', fontsize=14, color='b')
plt.show() 
```

# jquery-ui - Jquery 可拖动包含字符串值

> ID：15082687
> 
> 赞同：2
> 
> 时间：2013-02-26T06:21:58.380
> 
> 标签：jquery-ui

所有，我知道`Draggable`包含选项可以设置字符串值，如下所示。

`Parent`（限制拖动到当前元素的父元素范围内）`window`和`document`.

`window`但我不知道和`document`值之间有什么区别。而且我没有找到这两个值的任何 api 文档。请帮助我理解它。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:34:52.937

这一切都归结为[和之间的](http://eligeske.com/jquery/what-is-the-difference-between-document-and-window-objects-2/)[区别`window``document`](http://eligeske.com/jquery/what-is-the-difference-between-document-and-window-objects-2/)。当您设置`containment`可拖动对象的 时，jQuery 使用它们中的任何一个的`width`和`height`属性来确定其边界，如[源代码](http://code.google.com/p/jquery-ui/source/browse/trunk/ui/ui.draggable.js?r=3103)所示（为便于阅读而格式化）：

```
if(o.containment == 'document' || o.containment == 'window') this.containment = [
    0 - this.offset.relative.left - this.offset.parent.left,
    0 - this.offset.relative.top - this.offset.parent.top,
    $(o.containment == 'document' ? document : window).width() -
        this.helperProportions.width - this.margins.left,
    ($(o.containment == 'document' ? document : window).height() ||
        document.body.parentNode.scrollHeight) - this.helperProportions.height -
        this.margins.top
]; 
```

如果没有`iframe`s，那么我相信两个维度都是相同的，否则，情况可能会有所不同（尽管我不确定 jQuery 是否支持 s 之间的拖放`iframe`，即使来自同一个来源）。

# iphone - iPhone SDK 中的文本字段输入验证

> ID：15082688
> 
> 赞同：3
> 
> 时间：2013-02-26T06:21:58.850
> 
> 标签：iphone, ios, objective-c, xcode, validation

我必须`UITextField`对用户输入进行验证。

用户必须在文本字段中输入一个值

**即 70-80 或 85 表示 num-num 或 num**

现在，我只允许用户输入数字&`-`但缺点是用户也可以输入`-`次数。

```
// My code is as follow

NSCharacterSet * set = [[NSCharacterSet characterSetWithCharactersInString:@"0123456789-"] invertedSet];

    if (([txtMarks.text rangeOfCharacterFromSet:set].location != NSNotFound )||[txtMarks.text isEqualToString:@""] ) {

        UIAlertView *alt=[[UIAlertView alloc]initWithTitle:@"Error" message:@"Invalid Input" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
        [alt show];
        [alt release];
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T06:33:48.510

试试这个，

```
 int times = [[txtMarks.text componentsSeparatedByString:@"-"] count]-1;
    if(times>1)
    {
        UIAlertView *alt=[[UIAlertView alloc]initWithTitle:@"Error" message:@"'-' used more than one" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
        [alt show];
        [alt release];    
    } 
```

**编辑 1**

使用`NSPredicate`我们可以做到。试试这个，

```
 NSString *regex = @"[0-9]+(-[0-9]+)?";
    NSPredicate *testRegex = [NSPredicate predicateWithFormat:@"SELF MATCHES %@", regex];

    if([testRegex evaluateWithObject:textField.text])
        NSLog(@"Match");
    else
        NSLog(@"Do not match"); 
```

希望能有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:38:10.380

先试试这个，看看你的字符串是否包含`-`

这里的减法是`-`

```
if ([txtMarks.text hasPrefix:@"-"]||[txtMarks.text hasSuffix:@"-"])
{
    UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"sorry " message:@"invalid inoput as it has - at start or end" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles: nil];
    [alert show];
    [alert release];
}
else
{
  NSRange textRange;
  textRange =[string rangeOfString:substring];

  if(textRange.location == NSNotFound)
  {
      //Does not  contain the substring
     NSlog(@" string contains only num")

  }
  else
  {
     int times = [[txtMarks.text componentsSeparatedByString:@"-"] count];
     if(times==2)
     {
         Nslog(@"num-num input")

     }
     else
    {
       UIAlertView *alt=[[UIAlertView alloc]initWithTitle:@"Error" message:@"'-' used more than one" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
         [alt show];
         [alt release];    
    }
  }  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:35:28.200

尝试使用以下正则表达式，它限制用户输入多个`-`。

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
    NSString *newString = [textField.text stringByReplacingCharactersInRange:range withString:string];

    NSString *expression = @"^([0-9]{1,}+)?(\\-([0-9]{1,})?)?$";

    NSError *error = nil;
    NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:expression
                                                                           options:NSRegularExpressionCaseInsensitive
                                                                             error:&error];
    NSUInteger numberOfMatches = [regex numberOfMatchesInString:newString
                                                        options:0
                                                          range:NSMakeRange(0, [newString length])];
    if (numberOfMatches == 0)
    {
        return NO;
    }
    return YES;
} 
```

# javascript - 我可以使用 javascript 在网络应用程序上录制语音吗？

> ID：15082689
> 
> 赞同：18
> 
> 时间：2013-02-26T06:22:01.580
> 
> 标签：javascript, html, web-applications, html5-audio, voice-recording

看来我只能使用 Flash 或 Java 在网络应用程序上录制语音。有没有办法通过 JavaScript 做到这一点？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-26T06:26:29.673

可以完成，但该解决方案目前无法在所有平台上运行。

```
<input type="file" accept="audio/*;capture=microphone"> 
```

请参阅[HTML5 媒体捕获](http://www.w3.org/TR/html-media-capture/)

目前支持：

Android 3.0 浏览器、Chrome for Android (0.16)、Firefox Mobile 10.0、iOS6 Safari 和 Chrome（部分支持）

链接：

[http://www.html5rocks.com/en/tutorials/getusermedia/intro/](http://www.html5rocks.com/en/tutorials/getusermedia/intro/)

[使用 HTML5 捕获音频](https://stackoverflow.com/questions/4227313/audio-capturing-with-html5)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-26T06:42:44.260

Javascript 无法直接访问您的硬件。您需要的是可以的客户端技术。闪光，一个。

Javascript 可以很容易地与 flash 通信，因此您可以隐藏您的 flash 记录器并使用 html/js/css 构建您的记录器 ui。

这是一个例子：[https ://github.com/jwagener/recorder.js/blob/master/examples/example-1.html](https://github.com/jwagener/recorder.js/blob/master/examples/example-1.html)

这是另一个： [http ://blogupstairs.com/flashwavrecorder-javascript-flash-audio-recorder/](http://blogupstairs.com/flashwavrecorder-javascript-flash-audio-recorder/)

我意识到这不是您所需要的，但是您没有说明为什么需要 JS 解决方案。这并不能解决 flash 依赖问题，但它解决了 UI 问题，因为您可以在没有 flash 的情况下构建 UI。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-31T02:55:53.073

另一个众所周知的解决方案是 WAMI，我知道它不是纯 JavaScript，但也许它可以提供帮助。

“在撰写本文时，大多数浏览器仍然不支持 WebRTC 的 getUserMedia()，它承诺通过 Javascript 为 Web 开发人员提供麦克风访问权限。该项目实现了支持 Flash 的浏览器的下一个最佳功能。使用 WAMI 录音机，您可以收集音频在您的服务器上，无需安装任何专有媒体服务器软件。” [https://code.google.com/p/wami-recorder/](https://code.google.com/p/wami-recorder/)

另一个使用 node.js 的示例 这个示例应用程序是用 JavaScript 编写的，并使用 Node 和 Express 作为 Web 服务器和框架。您需要在您的 Web 服务器上安装所有这三个才能使其正常工作，以及 Node.js WebAPI 库。 [nodejs录音示例](https://www.tropo.com/docs/webapi/tutorials/nodejs-voice-recording-example)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-10-02T13:51:41.397

是的，有一种纯 HTML/JavaScript 方式，但它仅适用于 Firefox 和 Chrome： [http ://audior.ec/blog/recording-mp3-using-only-html5-and-javascript-recordmp3-js/](http://audior.ec/blog/recording-mp3-using-only-html5-and-javascript-recordmp3-js/)

直接演示：[http ://audior.ec/recordmp3js/](http://audior.ec/recordmp3js/)

# android - ANDROID - 更新链接状态（在应用程序的后台）

> ID：15082693
> 
> 赞同：0
> 
> 时间：2013-02-26T06:22:19.580
> 
> 标签：android, linkedin

我正在制作一个安卓应用程序。

我有产品清单。

如果我当时选择一种产品，该产品`Linkedin`与用户名共享。

我想要下面的代码（twitter 分享的示例代码）。我想要同样的`Linkedin`。

```
private final static Handler mTwitterHandler = new Handler();
    private static SharedPreferences prefs;

    public static boolean TWEET_LOGIN = false;

    final static Runnable mUpdateTwitterNotification = new Runnable() {
        public void run() {

        }
    };

    public static void sendTweet(Context con, final String msj) {

        prefs = PreferenceManager.getDefaultSharedPreferences(con);

        Thread t = new Thread() {
            public void run() {

                try {
                    TwitterUtils.sendTweet(prefs, msj);
                    mTwitterHandler.post(mUpdateTwitterNotification);
                } catch (Exception ex) {
                    ex.printStackTrace();
                    Log.d("dhaval-->send tweet:", ex.getMessage().toString());
                }
            }

        };
        t.start();
    } 
```

如果是的话，是否有可能，那怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T10:01:26.743

我用过`linkedin-j-android.jar` [下载](http://db.tt/yQjhqeq3)

将此代码放入`AsyncTask`后台执行

```
private void shareText_new() {

        // TODO Auto-generated method stub
        try {

            final LinkedInApiClientFactory factory = LinkedInApiClientFactory
                    .newInstance(generalClass.APIKEY, generalClass.APISECRET);
            final LinkedInApiClient client = factory.createLinkedInApiClient(
                    generalClass._Token1, generalClass._Secret1);

            client.postNetworkUpdate("hello DJ");
            System.out
                    .println("Your update has been posted. Check the LinkedIn site for confirmation.");

            System.out.println("Fetching your network updates of type:"
                    + NetworkUpdateType.STATUS_UPDATE);
            Network network = client.getNetworkUpdates(EnumSet
                    .of(NetworkUpdateType.STATUS_UPDATE));
            printResult(network);
        } catch (Exception e) {
            // TODO: handle exception
            Log.e("error share st--->", "" + e.getMessage().toString());
        }
    } 
```

参考链接[检查](http://code.google.com/p/linkedin-j/source/browse/trunk/linkedin-j/core/src/examples/java/com/google/code/linkedinapi/client/examples/PostNetworkUpdateExample.java?r=197)

[全码](http://dj-android.blogspot.in/2013/02/android-update-status-linked-in.html)

# bulletphysics - Panda3D：如何定位 BulletGenericConstraint？

> ID：15082694
> 
> 赞同：0
> 
> 时间：2013-02-26T06:22:23.277
> 
> 标签：bulletphysics, panda3d

默认情况下，**Panda3D中的****BulletGenericConstraint**沿正 X 轴定向。setAngularLimit方法只能用于沿 X、Y 或 Z 轴进行设置**。**如何通过 BulletGenericConstraint 连接两个不与任何轴正交的物体？

 ****也就是说，我如何将 BulletGenericConstraint**定向**到沿任意矢量的方向，而不是沿 X、Y 或 Z 轴？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T21:00:01.153

BulletGenericConstraint 接受两个“框架”参数，每个参数都是一个 TransformState 对象。我相信您可以使用这些来指定受约束影响的两个物体之间的相对旋转。

TransformState 接口使用起来有点棘手，但一旦掌握了它就很容易使用。转换状态使用一种特殊的缓存，使它们不可变。您对其执行的每个 setX 操作都不会修改对象，而是返回一个新的 TransformState 对象，并应用了请求的操作。

使用已在节点上应用的 TransformState 对象可能是最简单的方法，使用`getTransform()`、`getNetTransform()`或`getTransform(otherNode)`。或者，您可以从平移和一组 HPR 角度构造一个 TransformState 对象：

```
ts = TransformState.makePosHpr(pos, hpr) 
```****

# google-api - 向 CalenderList 插入新条目时找不到 Google Calender API 返回 404？

> ID：15082696
> 
> 赞同：1
> 
> 时间：2013-02-26T06:22:32.377
> 
> 标签：google-api, google-calendar-api

在 CalenderList 中插入一个条目会返回“404 not found”。请求如下：

```
POST https://www.googleapis.com/calendar/v3/users/me/calendarList 
```

请求正文：

```
 {  
    "summary":"test Calender",
    "id":"test@google.com",
    "defaultReminders":[
          {
             "minutes":2,
             "method":"email"
          }
       ]
    } 
```

该响应对错误没有任何很好的解释。只是“未找到”。
可能出了什么问题？

# ios - 在 UIView 中绘制一个矩形

> ID：15082699
> 
> 赞同：17
> 
> 时间：2013-02-26T06:22:42.793
> 
> 标签：ios, core-graphics

我正在尝试在具有黑色边框的 UIView 中绘制一个透明矩形。

然而，我的代码创建了一个完全黑色的矩形。到目前为止，这是我的代码：

```
- (void)drawRect:(CGRect)rect
{
    // Drawing code
    CGRect rectangle = CGRectMake(0, 100, 320, 100);
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetRGBFillColor(context, 0.0, 0.0, 0.0, 0.5);
    CGContextSetRGBStrokeColor(context, 0.0, 0.0, 0.0, 0.5);
    CGContextFillRect(context, rectangle);

} 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-26T06:32:55.303

```
- (void)drawRect:(CGRect)rect
{
    // Drawing code
    CGRect rectangle = CGRectMake(0, 100, 320, 100);
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetRGBFillColor(context, 1.0, 1.0, 1.0, 0.0);   //this is the transparent color
    CGContextSetRGBStrokeColor(context, 0.0, 0.0, 0.0, 0.5);
    CGContextFillRect(context, rectangle);
    CGContextStrokeRect(context, rectangle);    //this will draw the border

} 
```

效果是这样的（背景颜色为蓝色）

![在此处输入图像描述](../Images/81ee5806c63ddbb7521088090c2bdc2f.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T06:46:18.387

它将通过调整`UIView`具有透明度的自框架（自定义视图或任何继承自的类的子类）的值来提供矩形/正方形。

```
[self.layer setBorderWidth:1.0];
[self.layer setBorderColor:[[UIColor colorWithRed:0.10 green:0.45 blue:0.73 alpha:1.0] CGColor]];
[self.layer setCornerRadius:2.0];
[self.layer setShadowOffset:CGSizeMake(-2, -2)];
[self.layer setShadowColor:[[UIColor lightGrayColor] CGColor]];
[self.layer setShadowOpacity:0.5]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-04-08T21:38:42.970

您的代码不需要`CGContextSetRGBFillColor`调用并且缺少`CGContextStrokeRect`调用。使用 Swift 5，您的最终`draw(_:)`实现应该如下所示：

```
class CustomView: UIView {

    override init(frame: CGRect) {
        super.init(frame: frame)
        backgroundColor = .white
    }

    required init?(coder aDecoder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }

    override func draw(_ rect: CGRect) {
        guard let ctx = UIGraphicsGetCurrentContext() else { return }    
        ctx.setStrokeColor(red: 0, green: 0, blue: 0, alpha: 0.5)
        let rectangle = CGRect(x: 0, y: 100, width: 320, height: 100)
        ctx.stroke(rectangle)
    }

} 
```

* * *

作为替代方案，如果你真的想打电话`CGContextSetRGBFillColor`，你也可以打电话`CGContextFillRect`。使用 Swift 3，您的最终`draw(_:)`实现将如下所示：

```
class CustomView: UIView {

    override init(frame: CGRect) {
        super.init(frame: frame)
        backgroundColor = .white
    }

    required init?(coder aDecoder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }

    override func draw(_ rect: CGRect) {
        guard let ctx = UIGraphicsGetCurrentContext() else { return }

        ctx.setFillColor(red: 1, green: 1, blue: 1, alpha: 0)
        ctx.setStrokeColor(red: 0, green: 0, blue: 0, alpha: 0.5)

        let rectangle = CGRect(x: 0, y: 100, width: 320, height: 100)
        ctx.fill(rectangle)
        ctx.stroke(rectangle)
    }

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-19T23:34:58.457

一个方便的提示......

很多时候，当你需要画一个正方形时

**画一条“粗条纹”**更容易......

```
 let context = UIGraphicsGetCurrentContext()
    context!.setLineWidth(100)
    context!.setStrokeColor(blah.cgColor)
    context?.move(to: CGPoint(x: 500, y: 200))
    context?.addLine(to: CGPoint(x: 500, y: 300))
    context!.strokePath() 
```

这将绘制一个正方形，从 200 向下延伸到 300。

它以 500 为中心，宽度为 100。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T06:50:17.633

```
CGRect  bounds  = connectorRect;
CGFloat minx = CGRectGetMinX(bounds), midx = CGRectGetMidX(bounds), maxx = CGRectGetMaxX(bounds);
CGFloat miny = CGRectGetMinY(bounds), maxy = CGRectGetMaxY(bounds);
CGContextSetFillColorWithColor(context, [UIColor grayColor].CGColor);
CGContextSetLineWidth(context, 1.0);
CGContextBeginPath(context);
CGContextSetStrokeColorWithColor(context,[UIColor clearColor].CGColor);
CGContextMoveToPoint(context, minx, maxy);
CGContextAddLineToPoint(context, midx, miny);
CGContextAddLineToPoint(context, maxx, maxy);
CGContextClosePath(context);
CGContextDrawPath(context, kCGPathFillStroke); 
```

# php - mysql_fetch_array 不适用于 1 行查询结果

> ID：15082703
> 
> 赞同：6
> 
> 时间：2013-02-26T06:23:09.747
> 
> 标签：php, mysql

我的查询工作正常。但是试图从表 mysql fetch 数组中获取唯一值不起作用。

这是我的 sql A-2815 是车辆的项目代码。这个领域是独一无二的。预期结果是 item_code A-2815 的车辆详细信息。

```
$sql  = "SELECT vehicle.id, item_code, make, model, vehicle_type, color, showroom_id, "; 
$sql .= "adding_user_Id, approved, image_1 ";
$sql .= "FROM  images,  vehicle ";
$sql .= "WHERE vehicle.id=images.item_id ";
$sql .= "AND (item_code LIKE '%A-2815%' ";
$sql .= "OR  make LIKE '%A-2815%' ";
$sql .= "OR model LIKE '%A-2815%' ";
$sql .= "OR vehicle_type LIKE '%A-2815%' ";
$sql .= "OR color LIKE '%A-2815%' ";
$sql .= "OR showroom_id LIKE '%A-2815%') "; 
$sql .= "AND activate=1 ";
$sql .= "AND type_of_image=1 "; 
```

这是我的 php 代码。

```
<?php
      $query = mysql_query($sql);
      while($result = mysql_fetch_array($query)){
           echo $result['item_code'];
           echo $result['make'];
           echo $result['model'];
           echo $result['vehicle_type'];
           echo $result['color'];
           echo $result['showroom_id'];
      }
 ?> 
```

当结果超过 1 行时，这工作正常。但问题是当结果为 1 行时它不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:28:35.443

```
while ($result = mysql_fetch_array($query, MYSQL_ASSOC)) {

    // assoc
    echo $result['item_code'];
} 
```

MySQLi 解决方案

```
$connect = mysqli_connect('localhost', 'root', 'pwd', 'dbname');

$sql = "select * from sometable";

$query = mysqli_query($connect, $sql);

while ($result = mysqli_fetch_array($query, MYSQLI_ASSOC)) {
    // assoc
    echo $result['item_code'];
} 
```

# javascript - 在 d3.js 中向节点添加标签

> ID：15082713
> 
> 赞同：0
> 
> 时间：2013-02-26T06:24:00.713
> 
> 标签：javascript, d3.js, label, force-layout

我是 d3.js 的新手

我正在尝试向我的节点添加标签。但无论我尝试什么都行不通。我的代码在这里：

[http://jsfiddle.net/Ymtg5/1/](http://jsfiddle.net/Ymtg5/1/)

[它是http://bl.ocks.org/christophermanning/4208494](http://bl.ocks.org/christophermanning/4208494) 和强制有向图之间的混搭。基本上我正在阅读一个 json 文件并创建上述图表。现在我想向节点添加标签，就像[http://bl.ocks.org/mbostock/950642](http://bl.ocks.org/mbostock/950642) 我尝试添加这些行

```
node.append("text")
      .attr("dx", 12)
      .attr("dy", ".35em")
      .text(function(d) { return d.name }); 
```

但它不起作用。任何帮助。建议..谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:27:21.667

最有可能的问题是您的 JSON 类没有“名称”。

**对，这不是问题**

您的代码的相关部分如下：

```
var node = svg.selectAll("path.node")
    .data(nodes)
    .enter().append("path").attr("class", "node")
    .style("fill", function(d) { return fill(d.value); })
    .style("stroke", function(d) { return d3.rgb(fill(d.value)).darker(); })
    .call(force.drag);

 // HERE should go node manipulation to add the text

force
    .nodes(nodes)
    .links(links)
    .on("tick", tick)
    .start();

function tick() {

  //node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; );
  node.attr("d", function(d) { return clip({"type":"F {"type":"Point","coordin...         
  link.attr("d", function(d) { return clip({"type":"Feature","geometry":{ ... 
```

如果您想为节点添加标签，我已经在您的节点操作应该去的地方插入了一个注释行。您正在 tick 函数中执行此操作（嗯，我认为您正在尝试在那里执行此操作，代码不在小提琴中），并且该函数应该仅用于操作节点的 attr。创建文本并将其附加到节点的位置在函数之外。

# image - 我们可以使用表达式混合将图像转换为 xaml 吗？

> ID：15082716
> 
> 赞同：2
> 
> 时间：2013-02-26T06:24:16.390
> 
> 标签：image, xaml, expression-blend

我有一个图像设计，我需要在我的 Windows Phone 应用程序中使用相同的设计。我用谷歌搜索有很多工具可用于将图像转换为 xaml。

但我的问题是有一种方法可以在不使用这些工具和使用 Microsoft 的 Expression Blend 的情况下进行转换。

我们可以直接导出它们吗，如果可以，请告诉我一些信息来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:27:44.080

您可以使用 Expression Blend 中的导入功能。假设您正在开发 Windows Phone 8 应用程序，您有三个导入选项：

*   Adobe Illustrator AI
*   Adobe FXG
*   Adobe Photoshop PSD

简而言之，导入允许的内容取决于您尝试导入的内容。大多数情况下，它们允许您导入“Adobe 路径”并转换为 XAML 路径。

如果你有一个 jpg 图像来说明你未来的应用程序应该是什么样子，那么你最好设计和开发它——为此我强烈推荐 Expression Blend。

Adobe Suite 和 Expression Blend 之间的协作：http: [//msdn.microsoft.com/en-us/expression/dd835382.aspx](http://msdn.microsoft.com/en-us/expression/dd835382.aspx)

查看[http://dev.windowsphone.com/en-us/design](http://dev.windowsphone.com/en-us/design)以获取有关如何开始的信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:51:49.570

无论使用何种设计工具，您都可以使用 Expression Design 直接打开图像，在 Design 中有一个名为 Export as xaml 的选项。

参考这些链接[link1](http://msdn.microsoft.com/en-us/expression/cc197104.aspx)和[link2](http://msdn.microsoft.com/en-us/library/cc294508.aspx)

希望能帮助到你！

# blogger - 如何将 Blogger 博客“映射”到没有日期（年/月）的自定义域？

> ID：15082717
> 
> 赞同：2
> 
> 时间：2013-02-26T06:24:18.550
> 
> 标签：blogger

我有一个带有自定义域的 Blogger 博客。

**情况：** Blogger 博客网址帖子 - [http://mydomainname.com/YEAR/MONTH/posttitle](http://mydomainname.com/YEAR/MONTH/posttitle)。

查询：有没有办法摆脱 /YEAR/MONTH 并让我的 Blogger 博客网址发布 - [http://mydomainname.com/posttitle](http://mydomainname.com/posttitle)？

感谢你的回答！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T17:11:25.850

不。

尝试在“建议”类别下的官方谷歌产品论坛上提出建议。

我三年前成功了。仍然没有运气。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-17T13:55:04.730

目前没有选择获得像博客帖子那样的永久链接，但是您可以获得静态页面的直接链接 { yourdomain.com/p/thepage } 但是静态页面的数量限制为 20，并且有一些技巧可能会有所帮助你克服了这个限制。尽管我没有亲自尝试过，但如果您想要超过 20 个静态页面，也值得一试。 [http://www.hackinguniversity.in/2013/11/unlimited-pages-blogger.html](http://www.hackinguniversity.in/2013/11/unlimited-pages-blogger.html)

我还建议您向博主提出建议以包含此功能。与此同时，这个技巧可能会对你有所帮助。

# vba - Adding code to new excel sheet dynamically

> ID：15082722
> 
> 赞同：6
> 
> 时间：2013-02-26T06:24:38.517
> 
> 标签：vba, excel, validation, programmatically-created

I need some help Regarding VBA. In My code I add an excel sheet and rename it and add a validation list to it.I need to run some code on changing value in that validation list.And that must run only on change of that particular cell. If I am not clear please let me know.Please Help me solving this.

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T12:48:50.623

Instead of trying to create the individual code for each new worksheet with the Visual Basic Extensibility (see [this link](http://www.cpearson.com/excel/vbe.aspx) for further reading), simply use the Workbook wide event `Workbook_SheetChange` (you need to place it in the `ThisWorkbook`module).

In this event code first check, if the worksheet which caused the event is one of the newly created worksheets. This can be done most easily, be checking the `.Name` of the worksheet.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-15T11:08:12.283

you can use `SelectionChange` Event and `Change` event or it is also possible to use the event `Thisworkbook` module. `SheetChange` or `SheetSelectionChange`.

# r - R：布局宽度的奇怪行为

> ID：15082723
> 
> 赞同：3
> 
> 时间：2013-02-26T06:24:40.250
> 
> 标签：r, layout, plot

我试图让我的底部图表的宽度与月份的长度成正比。

但是，我最终得到

[![](../Images/114f45099c1f58d0ab4478afee086ef2.png "由 imgur.com 主办")](https://imgur.com/PcuKLOG)

我有 2 个级别的图表，1 个有一个较大的图，占用一整行，另一个有 12 个图，占用整个第二行。

对于第二行图，我希望它们的宽度与月份的长度成正比，所以我这样做

```
layout(matrix(c(rep(1,12),2:13),nrow=2,byrow=T),widths=c(1,months))

months 
[1] 31 28 31 30 31 30 31 31 30 31 30 31 
```

奇怪的是当我手动调整宽度数组中的数字时（使用 1s 和 2s）。尺寸会相应波动。但是，在这种情况下。情况似乎并非如此。

一月太短了。我的逻辑是否遗漏了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:33:36.733

您在底线上只有 12 个图，但您为`widths=`参数提供了 13 个值（数字`1`加上所有`months`值）。只需使用`widths=months`即可获得所需的结果。您使用 widths= 参数提供的值的数量应等于最长一行中的绘图数量，但不等于所有绘图的数量。

```
months<-c( 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31)    
layout(matrix(c(rep(1,12),2:13),nrow=2,byrow=T),widths=months)
layout.show(n = 13) 
```

![在此处输入图像描述](../Images/b38c0dd7c7aa477fb6c10f278392668a.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T07:15:37.263

Didzis Elferts 的答案是一个很好的答案。我只是要注意，当您处理时间序列时，您可以使用`xts`package.json 。特别是该情节是在基本图形中完成的。这里有一个例子：

*   我`monthly.apply`用来分割我的对象。
*   我使用 plot.xts 来绘制我的时间序列。

首先，我生成一些随机数据

```
library(xts)
days <- seq.Date( as.Date("2011-01-01"), as.Date("2011-12-31") ,1)
dat <- xts(rnorm(365),days)

## I use monthly apply to compute months widths.
## no need to give them by hand.
widths <-  coredata(apply.monthly(dat,length))
par(bg="lightyellow", mar=c(2,2,2,0))
layout(matrix(c(rep(1,12),2:13),nrow=2,byrow=T),widths=widths*2)

mon <- months(days,abbreviate=T)
plot(dat,main = 'my year time series')

apply.monthly(dat,function(x) {
  if(unique(format((index(x)),'%m')) =='01') {#JAN
    par(mar=c(2,2,2,0))   ## special case of JAN because it contians y axis 
    plot(x,main='')
  }
  else{
    par( mar=c(2,0,2,0))
    plot(x,main='',ylab='')
  }
}) 
```

![在此处输入图像描述](../Images/ab90ca1d05a5f9b31d3dab6e8dab6738.png)

请注意：JAN 面板不小于 2 月 1 日。它包含 y 轴。

# .htaccess - 如何为特定文件提供 .htaccess RewriteRule？

> ID：15082726
> 
> 赞同：1
> 
> 时间：2013-02-26T06:24:55.490
> 
> 标签：.htaccess, mod-rewrite

我试图将`.htaccess`规则写成如下特定`REQUEST_FILENAME`的：

```
RewriteCond %{REQUEST_FILENAME} ^/my_file.txt
RewriteRule ^.*$ - [NC,L] 
```

这个特定的文件是 0kb 文件大小。我已经有一条规则可以忽略这些文件，例如

```
`RewriteCond %{REQUEST_FILENAME} -s     
 RewriteRule ^.*$ - [NC,L]` 
```

此空文件用于分析用途。

但这不像我预期的那样工作。我只想按`REQUEST_FILENAME`原样`my_file.txt`阅读。上面的代码中是否有任何语法或错误？

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:49:27.657

从规则中排除的方法`my_file.txt`是这样的：

```
# Insert the next line
RewriteCond %{REQUEST_URI} !my_file\.txt [NC]
RewriteCond %{REQUEST_FILENAME} -s     
RewriteRule ^.*$ - [NC,L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T12:19:08.573

更好的：

```
RewriteCond %{REQUEST_FILENAME} -s
RewriteRule !^/?my_file\.txt - [NC,L] 
```

这将匹配除 my_file.txt 之外的所有文件，如果是 0size 文件，则重写结束。

> [http://httpd.apache.org/docs/current/mod/mod_rewrite.html](http://httpd.apache.org/docs/current/mod/mod_rewrite.html)
> 
> 在 mod_rewrite 中，NOT 字符 ('!') 也可用作可能的模式前缀。这使您能够否定模式；比如说：“如果当前 URL 不匹配这个模式”。

# android - OpenGL ES android中的相机移动

> ID：15082731
> 
> 赞同：0
> 
> 时间：2013-02-26T06:25:04.813
> 
> 标签：android, opengl-es, camera

我对 GLU.gLookAt(eyeX,eyeY,eyeZ,Xpos,Ypos,Zpos,upX,upY,upZ) 方法的使用感到非常困惑。我想要的只是缩放 3d 立方体。当我增加/减少 eyeZ 的值时，相机向前/向后移动到立方体。它在 eyeZ 的某个限制范围内都很好，但是当我将 eyeZ 值增加到超过该限制时，它开始恢复效果，即它不是放大而是开始缩小。

我可能不擅长 openGL 来理解上述方法，但谁能告诉我这背后的基本原因是什么。我提到了这个链接 [http://jerome.jouvie.free.fr/opengl-tutorials/Tutorial8.php](http://jerome.jouvie.free.fr/opengl-tutorials/Tutorial8.php)

如果你愿意，我可以在这里发布我的代码..

```
public void onDrawFrame(GL10 gl) 
{

    gl.glClear(GL10.GL_COLOR_BUFFER_BIT  | GL10.GL_DEPTH_BUFFER_BIT);
    gl.glMatrixMode(GL10.GL_MODELVIEW);
    gl.glLoadIdentity();

    //gl.glTranslatef(xPos, yPos, -zoomFactor);
    GLU.gluLookAt(gl, eyeX, eyeZ, eyeZ, 0f, 0f, 0f  , 0f, 1f, 0f);

    gl.glRotatef(mAngleX, 0, 1, 0);
    gl.glRotatef(mAngleY, -1, 0, 0);

    // Draw the model
    cube.draw(gl);
} 
```

这是我使用 gLookAt 方法的方法..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:26:01.033

`GLU.gluLookAt(gl, eyeX, eyeZ, eyeZ, 0f, 0f, 0f , 0f, 1f, 0f);`是一个让你的相机看着一个特定点的函数，在这种情况下它是 (0,0,0) （我想，不记得参数是哪个方向的，但我假设最后 3 个是你的向上向量）。因此，如果您将相机移向您正在看的东西，最终它会穿过它并从另一侧向外移动，并且由于您正在使用`GLU.gluLookAt`它，它会转向面对它后面的物体，从而给您一种缩小的印象当你继续朝同一个方向移动时。

# internet-explorer - Internet Explorer 插件是否有可能影响网页中的脚本

> ID：15082732
> 
> 赞同：0
> 
> 时间：2013-02-26T06:25:07.547
> 
> 标签：internet-explorer

我有一个应用程序，其中用户报告了脚本错误，但页面中没有显示任何内容（仅显示白色背景，并在通知区域中显示错误通知）。

用户正在使用带有一些附加组件的 Internet Explorer 8.0，他们还没有准备好分享更多详细信息。

错误通知说一个脚本错误，如下所示，但应用程序没有引用所述文件（[https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js](https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js)），我们在站点中有自己的 jQuery-1.5.1 副本。

> 用户代理：Mozilla/4.0（兼容；MSIE 8.0；Windows NT 5.1；Trident/4.0；InfoPath.2；.NET CLR 1.1.4322；.NET CLR 2.0.50727；.NET CLR 3.0.4506.2152；.NET CLR 3.5。 30729)
> 
> 时间戳：2013 年 2 月 22 日星期五 01:23:08 UTC
> 
> 消息：需要对象
> 
> 线路：2
> 
> 字符：14776
> 
> 代码：0
> 
> 网址：[https ://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js](https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js)

所以我的问题是：是否有可能是某些第三方插件导致了这个问题。

注：欢迎投反对票

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-19T06:31:52.067

看来这可以通过[Browser Helper Objects](http://msdn.microsoft.com/en-us/library/ms976373.aspx)来实现。有一个相关的问题[开发 Internet Explorer 扩展？](https://stackoverflow.com/questions/5643819/developing-internet-explorer-extensions)[Miguel Angelo](https://stackoverflow.com/users/195417/miguel-angelo)接受的答案中的代码包括一个执行 JavaScript 提示和修改页面内容的示例。

# javascript - telerik:RadTimePicker 只使用 javascript 获取时间

> ID：15082734
> 
> 赞同：1
> 
> 时间：2013-02-26T06:25:15.820
> 
> 标签：javascript, time, get, telerik

我有 Telerik:RadTimePicker 控件，我想使用 javascript 获取时间。在telerik网站他们提到

```
 var picker = $find("<%=RadDateTimePicker1.ClientID%>");
    var view = picker.get_timeView();
    alert(view.getTime()); 
```

但是当我尝试这个时，我得到了所有的细节，包括时间信息。

```
 Tue Feb 26 2013 05:00:00 GMT+0530 (Sri Lanka Standard Time) 
```

我真正需要的是`05:00:00` 任何简单的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T14:03:01.110

getTime() 返回一个 JavaScript Date 对象。您将需要使用 JavaScript Date 构造来提取 Hours:Minutes:Seconds 类型的数据。这是 JavaScript 日期文档的链接：http: [//www.w3schools.com/jsref/jsref_obj_date.asp](http://www.w3schools.com/jsref/jsref_obj_date.asp)

您可以在选择器上使用 get_selectedDate() 。此方法也返回一个 javaScript Date 对象。然后，您可以从日期对象中提取小时、分钟、秒。我们在选择器对象模型上没有任何特定的时间字符串返回属性。

# ruby-on-rails - mongoid as_document 错误

> ID：15082735
> 
> 赞同：5
> 
> 时间：2013-02-26T06:25:21.337
> 
> 标签：ruby-on-rails, ruby, mongodb, devise, mongoid

我正在使用 mongoid 设计邀请，

为用户分配角色后，我发现以下错误

“**未定义的方法 `as_document' for Array **”，有什么建议吗？

```
invitable = find_or_initialize_with_error_by(:email, attributes[:email])
invitable.attributes = attributes
# scope_id attribute does not set properly
invitable.roles.map {|r| r.scope_id = attributes[:roles_attributes]["0"][:scope_id]}

if invitable.persisted? && !invitable.invited?
  invitable.errors.add(:email, :taken)
elsif invitable.email.present? && invitable.email.match(Devise.email_regexp)
  invitable.invite!
end 
```

我在做什么错？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-19T00:33:09.557

这可能是因为`as_document`不适用于数组，仅适用于单个对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-09T04:49:12.780

这是 Mongoid 和 has_many 关系的错误。

必须为 has_many 关系定义方法“as_document”，就像为 embeds_many 关系定义一样。

我将发出[拉取请求](https://github.com/mrjlynch/mongoid/commit/8d91cc7497fadb9967305d409630e8a0f25dcc0c)以修复此问题，同时您可以在 gemfile 中定义 mongoid ，如下所示：

```
gem 'mongoid', :git => https://github.com/mrjlynch.git 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-06T16:03:41.230

MongoId 5.1.0 发生在我身上时，在一个方向我有“ **embeds_many** ”，而在另一个方向我有“ **belongs_to** ”。

据我所知， embeds_many 的反面应该是**embedded_in**。将反向关系更改为**embedded_in**为我解决了这个问题。

我不得不承认，这是一个非常晦涩的错误信息。

# jquery - Mozilla市场提交错误？

> ID：15082737
> 
> 赞同：1
> 
> 时间：2013-02-26T06:25:40.017
> 
> 标签：jquery, html, web, mozilla

我正在向Mozilla 市场提交我的[新应用程序。](http://www.onlinereversi.com)我收到验证错误。验证引发内容类型错误。

```
Manifests must be served with the HTTP header "Content-Type: application/x-web-app-manifest+json". See https://developer.mozilla.org/en/Apps/Manifest#Serving_manifests for more information. 
```

我遵循所有准则，但仍然出现错误。

我将以下行添加到根目录中的 .htaccess 文件中。

```
AddType application/x-web-app-manifest+json .webapp 
```

我的清单网址是

[http://www.onlinereversi.con/manifest.webapp](http://www.onlinereversi.com/manifest.webapp)

如何解决验证错误？我的方法有什么问题吗？

# sql - 数据库表提取和链接提取的数据

> ID：15082745
> 
> 赞同：1
> 
> 时间：2013-02-26T06:26:03.807
> 
> 标签：sql, tsql, sql-server-2005

假设我们在 DB 中有以下表格：

```
CREATE TABLE #nodes(reporter varchar(10), groupname varchar(10), node varchar(20))
CREATE TABLE #nodes_extract(id int IDENTITY, min_node varchar(20), count_nodes int, descr varchar(10) );
CREATE TABLE #nodes_histo(reporter varchar(10), groupname varchar(10), node varchar(20), nodes_extract_id int) 
```

数据示例：

```
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep1','group1','node1')
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep1','group1','node2')
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep1','group2','node3')
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep2','group1','node1')
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep2','group1','node4')
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep2','group2','node5')
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep3','group1','node5')
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep3','group1','node6')
INSERT INTO #nodes (reporter, groupname, node) VALUES ('rep3','group2','node7') 
```

让我们将一些数据提取到#nodes_extract

```
INSERT INTO #nodes_extract
SELECT min(node), count(node), 'blabla'
FROM #nodes
GROUP BY reporter, groupname 
```

现在我想将所有信息从#nodes 插入到#nodes_histo 并在#nodes_histo 中添加nodes_extract_id 预期结果：

```
    记者组名节点节点提取ID
    代表 1 组 1 节点 1 1
    代表 1 组 1 节点 2 1
    代表 1 组 2 节点 3 4
    代表 2 组 1 节点 1 2
    代表 2 组 1 节点 4 2
    代表 2 组 2 节点 5 5
    代表 3 组 1 节点 5 3
    代表 3 组 1 节点 6 3
    代表 3 组 2 节点 7 6

```

你将如何实现目标？是否可以不更改表结构？

多谢！咖啡厅

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T14:54:34.453

嗯，我想我找到了一种方法..

首先`DISTINCT`在插入命令中需要：

```
INSERT INTO #nodes_extract
SELECT DISTINCT min(node), count(node), 'blabla'
FROM #nodes
GROUP BY reporter, groupname 
```

通过以下选择，我可以提取我正在寻找的信息：

```
INSERT INTO #nodes_histo
SELECT a.reporter, a.groupname,a.node, e.id 
FROM 
    (SELECT  reporter
            , groupname
            , node
            , min(node) OVER (PARTITION BY REPORTER, groupname) m
            , count(node) OVER (PARTITION BY REPORTER, groupname) c
    FROM #nodes) a
LEFT JOIN 
    #nodes_extract e
ON a.m = e.min_node
AND a.c = e.count_nodes 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:46:24.273

不，您必须包含一种加入表格的方法，可能是在#nodes_extract 中包含reporter 和groupname。即使您尝试使用相同的查询（和其他列）重新生成#nodes_extract，也不能保证顺序相同。

# python - 从 Python 播放音乐

> ID：15082746
> 
> 赞同：0
> 
> 时间：2013-02-26T06:26:05.287
> 
> 标签：python, selenium, grooveshark

有人知道是否可以使用 Python 在音乐网站上按下播放按钮？我想做的是制作一个闹钟脚本，在音乐网站上播放随机播放列表。

[这里](https://stackoverflow.com/questions/1698285/automate-navigation-of-a-javascript-powered-website)和[这里](https://stackoverflow.com/questions/9512642/documentation-examples-of-using-selenium-python-to-navigate-a-website)是类似的问题（我认为），虽然我不知道我使用的是否适用于此。我正在尝试使用 Grooveshark。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:06:48.753

使用[Selenium](http://seleniumhq.org/ "硒")的第一个链接问题的答案可能是您最好的选择。您可以用 Python 编写代码，而与 Grooveshark 这样复杂的网站交互的任何其他方式可能并不容易。有*一个*API（[http://developers.grooveshark.com](http://developers.grooveshark.com)），但对于你想要的，Selenium 可能是最简单的方法。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-10-14T17:31:57.857

只需使用 tkinter 按钮小部件并使用 pygame 音乐播放器，它工作得很好。

# php - 单击测试执行链接时出现性能问题。树需要时间来加载

> ID：15082751
> 
> 赞同：1
> 
> 时间：2013-02-26T06:26:27.613
> 
> 标签：php, mysql, smarty, testlink

我目前使用 Testlink1.9.3 进行测试管理和执行我们过去 5 年的项目。首先我们从 Testlink1.6.3 版本开始，现在我已经迁移到 1.9.3。现在我在单击测试执行链接时遇到性能问题。树需要时间来加载。

详细资料 ：

*   测试链接性能很慢。
*   加载测试项目需要时间
*   加载测试计划需要时间
*   在执行测试用例时，性能是公平的
*   在创建新计划/构建时，性能是公平的

机器详情：

```
Database size is :- 193 MB

Database server detail
    Processor :- Intel Xeon CPU X3470  @ 2.93GHz
    RAM        :- 15GB

Application's H/W machine detail is as below
    Processor :-  Intel Core i3 CPU @ 2.93GHz                           
    RAM          :- 4GB 
```

应用程序级别的配置设置为获得最佳性能，例如确保设置以下参数：

```
$g_use_ext_js_library = ENABLED;

$tlCfg->treemenu_type = 'EXTJS'; 
```

并仔细检查是否可以进行任何其他配置改进。

日志：

> 使用未定义的常量 TL_LIGHTBOX_CSS - 假定为 'TL_LIGHTBOX_CSS' - 在 /var/www/html/thunder/gui/templates_c/%%56^560^56038526%%inc_head.tpl.php - 第 40 行 [<<][512c073808f8a063878788][默认][/lib/execute/execNavigator.php][13/Feb/26 00:52:08][13/Feb/26 00:52:25][耗时 17.290396 秒]

我也将 1.9.3 迁移到 1.9.5，但性能问题仍然存在。

对此的任何帮助将不胜感激。还在等高手解答。

# c# - C# 查找和替换

> ID：15082754
> 
> 赞同：0
> 
> 时间：2013-02-26T06:26:30.350
> 
> 标签：c#, string

我有一个类型为 的字符串变量`////abc/abc/abc/asd.aspx`。

`/`字符串的开头 可以有任意数量，我希望输出为`/abc/abc/abc/asd.aspx`.

也可以有一个字符串值，`/abc/abc/abc/asd.aspx`其输出应为`/abc/abc/abc/asd.aspx`

请帮助，我如何使用`String.Replace();`或我可以使用的任何其他方法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T06:29:36.320

你可以这样做：

```
var correctedString = "/" + originalString.TrimStart('/'); 
```

`/`或者，如果字符串的任何部分有任意数量，您可以通过 RegEx 执行此操作：

```
var correctedString = Regex.Replace(originalString, "/{2,}", "/"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:30:06.600

```
string str = " ////abc/abc/abc/asd.aspx";
string newStr = "/"  + string.Join("/", str.Split(new[] { "/" }, 
                                        StringSplitOptions.RemoveEmptyEntries)); 
```

这也适用于字符串`"///abc///abc//abc/asd.aspx"`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:33:39.730

您可以使用正则表达式：

```
string path = "////abc/abc/abc/asd.aspx";

path = System.Text.RegularExpressions.Regex.Replace(path, @"/+", "/"); 
```

结果：

```
/abc/abc/abc/asd.aspx 
```

# asp.net - SQL 存储过程为“IN”条件发送数据

> ID：15082763
> 
> 赞同：0
> 
> 时间：2013-02-26T06:27:19.140
> 
> 标签：asp.net, sql

我有一个存储过程，它具有使用“IN”关键字的 where 条件。所以我想向存储过程发送多个值。

这是我的存储过程：

```
ALTER PROCEDURE [dbo].[xxx]
   @COM_KEY varchar(max) = NULL
AS
BEGIN
    SELECT     
       UserName, UserId
    FROM 
       company        
    WHERE      
       (COM_KEY IN (@COM_KEY))
END 
```

所以我在这里传递值

```
string companyID = "";

for (int i = 0; i < lbCompanies.Items.Count; i++)
{
    if (i == 0)
    {
        companyID += Convert.ToInt32(lbCompanies.Items[i].Value);
    }
    else
    {
        companyID += "," + Convert.ToInt32(lbCompanies.Items[i].Value);
    }
}

DataSet ApproveList = DataRepository.TUsersProvider.xxx(companyID); 
```

但有一个错误

> *将 varchar 值 '3087,4058' 转换为数据类型 int 时转换失败*

我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T06:33:47.837

您不能将逗号分隔的字符串传递到`@COM_KEY`. 你应该传递一个数组。

完成此任务的一种方法是使用[表值参数](http://msdn.microsoft.com/en-us/library/bb675163.aspx)。

看看这篇文章，在`Solution #3`：[TSQL: Passing array/list/set to stored procedure (MS SQL Server)](http://www.codeproject.com/Articles/113458/TSQL-Passing-array-list-set-to-stored-procedure-MS)下。

本质上，您将您的一系列`int`s 视为您应用的表`JOIN` ，而不是通过`WHERE ... IN ()`短语查询它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:42:43.520

您可以创建一个`UserDefinedFunction`解析字符串并将提取的每个整数放入表中以解决此问题

```
CREATE Function fnSplitter (@IDs Varchar(100) )  
Returns @Tbl_IDs Table  (ID Int)  As  

Begin 
 -- Append comma
 Set @IDs =  @IDs + ',' 
 -- Indexes to keep the position of searching
 Declare @Pos1 Int
 Declare @pos2 Int

 -- Start from first character 
 Set @Pos1=1
 Set @Pos2=1

 While @Pos1<Len(@IDs)
 Begin
  Set @Pos1 = CharIndex(',',@IDs,@Pos1)
  Insert @Tbl_IDs Select  Cast(Substring(@IDs,@Pos2,@Pos1-@Pos2) As Int)
  -- Go to next non comma character
  Set @Pos2=@Pos1+1
  -- Search from the next charcater
  Set @Pos1 = @Pos1+1
 End 
 Return
End 
```

现在像这样改变你的存储过程

```
ALTER PROCEDURE [dbo].[xxx]
@COM_KEY varchar(max) = NULL
AS
BEGIN
 SELECT UserName, UserId
 From company        
 WHERE COM_KEY IN (Select ID From dbo.fnSplitter(@COM_KEY))
END 
```

*检查此[链接](http://www.codeproject.com/Articles/6083/Passing-comma-delimited-parameter-to-stored-proced)以获取详细的实现*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T07:05:35.327

您的问题最简单的解决方案是 vale SQL 字符串（用于动态查询），然后执行语句

```
ALTER PROCEDURE [dbo].[xxx]
   @COM_KEY varchar(max) = NULL
AS
BEGIN
DECLARE @SQL nvarchar(MAX)

SET @SQL=N'    SELECT     
       UserName, UserId
    FROM 
       company        
    WHERE      
       (COM_KEY IN ('+@COM_KEY+'))'
EXCE @SQL
END 
```

@ ssilas777 提到的解决方案是相同的复杂版本。

另请注意，`IN`并不总是建议使用。我遇到了

> 查询超时错误

什么时候`IN`有很多ID

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2013-02-26T06:41:57.650

更改您的代码：

```
if (i == 0)
{
  companyID += Convert.ToInt32(lbCompanies.Items[i].Value);
}
else
{
  companyID += "," + Convert.ToInt32(lbCompanies.Items[i].Value);
} 
```

至：

```
if (i == 0)
{
  companyID +="'" + Convert.ToInt32(lbCompanies.Items[i].Value) + "'";
}
else
{
  companyID += ",'" + Convert.ToInt32(lbCompanies.Items[i].Value) + "'";
} 
```

# matlab - 数独求解器，小片段问题（matlab）

> ID：15082764
> 
> 赞同：1
> 
> 时间：2013-02-26T06:27:21.280
> 
> 标签：matlab, sudoku

对于这个小片段，我正在生成一个随机数，检查它是否是行和列的一部分，如果它不是任何一个的一部分，它就会插入数字。我知道它可能会在其 3x3 框中放置一个已经存在的数字，但这是我可以解决的问题。这是我的片段，如果想要我的整个代码，我会编辑。我的整个代码大约有 100 行。

```
% Find empty slots, generate random number 1 - 9, insert into slot.
for i=1:9
    for j=1:9
        number = board(i,j);
        answer = ceil(9*rand(1,1));
        row = board(i,:);
        col = board(:,j);
        if number==0 && (ismember(answer,row)==0) && (ismember(answer,col)==0)
                board(i,j) = answer;
        end
    end
end 
```

我的问题是，当我用一个真正未解决的难题运行它时，是 1）它在插槽中插入了一个 11，这怎么可能？2) 我仍然看到有多个相同数字的行和列。

谢谢你们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:02:36.440

我不知道为什么您的代码会导致行或列重复以及为什么您会看到 11，所以这可能不完全是您问题的答案，但它可能会对您有所帮助。我稍微修改了您的代码，不仅尝试一个随机数，而且尝试所有数字 1-9（以随机顺序）：

```
for i=1:9
    for j=1:9
        tried = [];
        while board(i,j)==0
            newRand = 0;
            while ~newRand
                answer = ceil(9*rand);
                if ~ismember(answer,tried)
                    newRand = 1;
                end
            end
            row = board(i,:);
            col = board(:,j);
            if (ismember(answer,row)==0) && (ismember(answer,col)==0)
                board(i,j) = answer;
            else
                tried = [tried answer];
                if length(tried)==9
                    break;
                end
            end
        end
    end
end 
```

# c# - LINQ LEFT JOIN where 子句不起作用

> ID：15082767
> 
> 赞同：5
> 
> 时间：2013-02-26T06:27:23.923
> 
> 标签：c#, linq

我需要返回所有事件的列表以及用户可能对某个事件拥有的任何 rsvps。但是，无论我通过什么用户名，它都会返回每个 rsvp。我的 linq 查询->

```
 return (from events in this._context.Context.Events
           join rsvps in (this._context.Context.RSVPs
                          .Where(o=> o.UserName == userName))
           on events equals rsvps.Event into re
           from rsvps in re.DefaultIfEmpty()
           select events); 
```

关系是
Events.EventID = RSVPs.EventID

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-26T07:00:59.837

```
from e in _context.Context.Events
join r in _context.Context.RSVPs.Where(o => o.UserName == userName)
    on e.EventID equals r.EventID into g
select new {
    Event = e,
    Rsvps = g
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T07:11:45.793

这样做：

```
return (from events in this._context.Context.Events
        join rsvps in this._context.Context.RSVPs
        on events.EventIDequals equals rsvps.EventID into re
        from c in re.DefaultIfEmpty()
        where c.UserName == userName
        select new {events,rsvps}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T07:12:22.923

如果您只想就地过滤事件的 RSVPs 属性，那么我想您可能可以使用类似的东西

```
var events = _context.Context.Events;

foreach(var event in events)
{
    // Assuming the property is named RSVPs
    event.RSVPs = event.RSVPs.Where(o => o.UserName.Equals(userName));
}

return events; 
```

不过，我不会认为它那么整洁。

# iphone - 将印地语转换成 JSON_UNESCAPED_UNICODE+iphone

> ID：15082771
> 
> 赞同：2
> 
> 时间：2013-02-26T06:27:31.720
> 
> 标签：iphone, ios, sqlite

我有`document file`哪些用字体`hindi`写的单词`hindi`：-`Kruti Dev 010` 现在我想将这些印地语单词输入到 sqlite 中，以便屏幕以`hindi`. 我知道我可以用 : 来做到这一点`-JSON_UNESCAPED_UNICODE`。但是我如何将`hindi`单词转换为`JSON_UNESCAPED_UNICODE`. 然后将其保存到`sqlite`数据库中。
请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-07T05:43:19.280

解决方案是我创建了 1 个带有字体的 doc 文件：-Kruti Dev 010 然后复制粘贴到 sqlite 中。在 sqlite manager 中，它显示在一些 UINOCDE 中。但是当您进行查询时，您将 UNICODE 转换为 NSDATA，然后转换为 NSSTRING，这将允许用户在 ios 应用程序中以印地语字体书写。

# asp.net - 制作从任何域发送电子邮件的联系表格

> ID：15082772
> 
> 赞同：0
> 
> 时间：2013-02-26T06:27:34.227
> 
> 标签：asp.net, forms, email

如何制作“联系我们”表单，允许用户从任何域（gmail、hotmail、yahoo 等）向管理员发送电子邮件。我的意思是任何在其电子邮件中具有任何域的用户都可以向管理员的电子邮件地址发送电子邮件。目前，只有拥有 Gmail 帐户的用户才能发送电子邮件。请帮助并提供任何解决方案和建议。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:33:51.213

在 Asp.net 中，您可以设置任何域的​​用户电子邮件，但它应该是有效的。在 Mail 类的 From 属性中设置用户电子邮件。

```
protected void SendMail()
{
    // Gmail Address from where you send the mail
    var fromAddress = "Gmail@gmail.com";
    // any address where the email will be sending
    var toAddress = YourEmail.Text.ToString(); 
    //Password of your gmail address
    const string fromPassword = "Password";
     // Passing the values and make a email formate to display
    string subject = YourSubject.Text.ToString();
    string body = "From: " + YourName.Text + "\n";
    body += "Email: " + YourEmail.Text + "\n";
    body += "Subject: " + YourSubject.Text + "\n";
    body += "Question: \n" + Comments.Text + "\n";
    // smtp settings
    var smtp = new System.Net.Mail.SmtpClient();
    {
        smtp.Host = "smtp.gmail.com";
        smtp.Port = 587;
        smtp.EnableSsl = true;
        smtp.DeliveryMethod = System.Net.Mail.SmtpDeliveryMethod.Network;
        smtp.Credentials = new NetworkCredential(fromAddress, fromPassword);
        smtp.Timeout = 20000;
    }
    // Passing values to smtp object
    smtp.Send(fromAddress, toAddress, subject, body);
} 
```

**fromAddress 可以是任何有效的电子邮件地址。**

# c++ - 有人可以解释一下这种桶排序的实现是如何工作的吗？

> ID：15082773
> 
> 赞同：2
> 
> 时间：2013-02-26T06:27:41.500
> 
> 标签：c++, sorting

我很难理解桶排序的基本概念，我希望有人能准确地向我澄清排序算法的作用以及它如何在 O(N) 时间内完成所需的结果（对内部容器进行排序）。此外，由于这似乎相当快，其他排序算法（如冒泡、插入或选择）有什么优势可以说服人们使用它们而不是桶排序？

这是我在网上找到的算法的实现。如果有人可以在他们的解释中引用这一点，我将不胜感激。

```
void binsort(std::vector<std::size_t>& A){
    std::vector<std::vector<std::size_t>> B(MAX + 1);
    for(std::size_t i = 0; i < SIZE; ++i){
        B[A[i]].push_back(A[i]);
    }
    std::size_t current = 0;
    for(std::size_t i = 0; i < MAX; ++i){
        for(auto item : B[i]){
            A[current++] = item;
        }
    }
} 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T07:52:52.850

我将尝试解释这个特定的实现，这是您可能会看到的最简单的实现之一。巧合的是，它也对输入域中允许的数字有严格的限制（由 value 表示`MAX`）。

假设我们有 10 个数字的集合。他们共享的一个属性是他们都在域中 [0..5]

```
{ 3, 2, 2, 5, 1, 4, 0, 2, 5, 4 } 
```

现在，我们创建一个桶的“列表”，其中每个桶代表*域中值的集合；**不是**输入数组*。我们的域允许 6 个可能的值，因此我们创建了 6 个存储桶（按“顺序”排列，以防您没有注意到）：

```
 0: {}
 1: {}
 2: {}
 3: {}
 4: {}
 5: {} 
```

现在遍历输入列表，将每个值放入它的存储桶中。从概念上讲，完成后它看起来像这样：

```
 0: {0}
 1: {1}
 2: {2,2,2}
 3: {3}
 4: {4,4}
 5: {5,5} 
```

现在，只需遍历我们的存储桶列表，然后将每个存储桶中的内容转储回原始容器，替换那里的任何项目。

```
{ 0, 1, 2, 2, 2, 3, 4, 4, 5, 5} 
```

看起来很简单，是吗？那么为什么不是每个人都这样做呢？好吧，考虑我们扩大问题。代替`MAX`6 个可能的值，我们将“值”设为`1048576`(2 ^(20)如果您想知道的话)，**但将排序的项目数保持为 10**。

现在，给出以下列表：

```
{ 3, 2, 2, 1048576, 1, 4, 0, 2, 5, 4 } 
```

我们的“桶”列表如下所示：

```
 0: {0}
 1: {1}
 2: {2,2,2}
 3: {3}
 4: {4,4}
 5: {5}
 6: {}
 7: {}
 .....
 1048575: {}
 1048576: {1048576} 
```

是的，超过一百万个桶来对十个数字进行排序，这一切都是因为这是我们问题域中允许的最大值。`MAX`显然，这对于大天花板是不可行的。将输入范围细分为可管理的集合将是解决此问题的可行解决方案（实际上，这本质上是*基数排序*的工作方式。

要回答你的最后一组问题，显然如果你有一个相当小的输入域，你将很难在排序速度上击败它。例如，如果我们有一组一千个数字，*所有*这些数字都在 中`[0..9]`，这将是快速的咆哮。再加上几个数量级，根本就没有可比性。然而，你付出的代价，*沉重**的**代价*，是一个受限制的输入域。随着域大小的增加，您必须从分桶算法的角度来处理它，并且当您这样做时，您开始朝着 O(NlogN) 的方向前进。鉴于此，有*很多*算法（堆排序、合并排序、快速排序等）都有自己的一套警告值得考虑。

一个明显“获胜”的地方：假设您必须对一百万个 8 位字符（定义为 中的值`[0..255]`）进行排序，您将找不到更快的算法来做到这一点。该域定义明确，非常易于管理，如果使用了适当的“桶”表（字面意思是计数器表），我看不出它被打败了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:38:10.963

这是[维基百科](http://en.wikipedia.org/wiki/Bucket_sort)提供的解释。我希望这已经足够了。

> 桶排序或 bin 排序是一种排序算法，它通过将数组划分为多个桶来工作。然后使用不同的排序算法或递归地应用存储桶排序算法对每个存储桶进行单独排序。它是一种分布排序，是基数排序的表亲，具有最高到最低有效数字风味。桶排序是鸽巢排序的一种推广。由于桶排序不是比较排序，因此 Ω(n log n) 下限不适用。计算复杂度估计涉及桶的数量。

桶排序的工作原理如下：

1.  设置一组最初为空的“桶”。
2.  分散：遍历原始数组，将每个对象放入其存储桶中。
3.  对每个非空桶进行排序。
4.  收集：按顺序访问桶，将所有元素放回原始数组中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-24T18:25:20.407

给出的解释很酷。那么，如果我们有负数，我们如何处理这种情况？一种解决方法是为负数保留一个单独的存储桶列表。

想象一下这个数据集：{ -5, -6, 5, 3, 6, -4 }

所以这里我们的“遗愿清单”如下：

清单 1：

```
0: {0}
1: {0}
2: {0}
3: {1}
4: {0}
5: {1}
6: {1} 
```

遗愿清单 2：

```
-1: {0}
-2: {0}
-3: {0}
-4: {1}
-5: {1}
-6: {1} 
```

因此，如果我们的案例仅涉及整数，我们的存储桶列表甚至不必包含其他列表。它们可以只是列表。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-04T03:18:12.823

要处理负数的情况，您可以选择最小的负数并将该数添加到数组中的每个元素。 `{-5,-6,5,3,6,-4}`有最小的元素`-6`。将绝对值 -6 添加到数组中。数组现在是`{1,0,11,9,12,2}`然后用存储桶数组对其进行排序，它变成`{0,1,2,9,11,12}`并得到最终结果添加`-6`到每个，因此`{-6,-5,-4,3,5,6}`。就性能而言，这是可以的，因为数组的最低范围的减法和加法是 O(N)。

# mysql - CentOS 中的 mysql 集群

> ID：15082774
> 
> 赞同：2
> 
> 时间：2013-02-26T06:27:42.060
> 
> 标签：mysql, centos, cluster-computing

我正在尝试在 CentOS 中配置一个 mysql 集群，但我遇到了一些我不知道如何解决的问题，我非常感谢一些帮助。

mysql集群环境：

```
DB1 - 192.168.50.101 - Management Server (MGM) node.
DB2 - 192.168.50.102 - Storage Server (NDBD) node 1.
DB3 - 192.168.50.103 - Storage Server (NDBD) node 2. 
```

我配置整个集群的步骤：

1.  配置管理服务器节点 (192.168.50.101)

1.1 安装mysql服务器并启动它：

```
# yum install mysql mysql-server
# chkconfig --levels 235 mysqld on
# /etc/init.d/mysqld start 
```

1.2 安装集群包：

```
# rpm -ivh MySQL-ndb-management-5.0.90-1.glibc23.i386.rpm
# rpm -ivh MySQL-ndb-tools-5.0.90-1.glibc23.i386.rpm 
```

1.3 创建集群目录和config.ini文件

```
# mkdir /var/lib/mysql-cluster
# cd /var/lib/mysql-cluster
# vi config.ini 
```

1.4 在config.ini中写入集群配置内容

```
[NDBD DEFAULT]
NoOfReplicas=2
DataMemory=80M # How much memory to allocate for data storage
IndexMemory=18M # How much memory to allocate for index storage
# For DataMemory and IndexMemory, we have used the
# default values. Since the .world. database takes up
# only about 500KB, this should be more than enough for
# this example Cluster setup.
[MYSQLD DEFAULT]
[NDB_MGMD DEFAULT]
[TCP DEFAULT]

# Management Section (MGM)
[NDB_MGMD]
#NodeId = 1
# IP address of the management node
HostName=192.168.50.101

# Storage Server Section (NDBD)
[NDBD]
#NodeId = 2
# IP address of the Storage Server (NDBD) node 1
HostName=192.168.50.102
DataDir=/var/lib/mysql
BackupDataDir=/var/lib/backup
DataMemory=100M

[NDBD]
#NodeId = 3
# IP address of the Storage Server (NDBD) node 2
HostName=192.168.50.103
DataDir=/var/lib/mysql
BackupDataDir=/var/lib/backup
DataMemory=100M

# one [MYSQLD] per storage node
# 2 Clients MySQL
[MYSQLD]
#NodeId = 5
[MYSQLD]
#NodeId = 6 
```

1.5 启动管理服务

```
# ndb_mgmd 
```

1.6 进入管理控制台

```
# ndb_mgm 
```

1.7 使用命令 SHOW 查看节点状态

```
ndb_mgm> show

Connected to Managemente Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)] 2 nodes
id=2 (not connected, accepting connect from 192.168.50.102)
id=3 (not connected, accepting connect from 192.168.50.103)

[ndb_mgmd(MGM)] 1 node
id=1 @192.168.50.101 (Version: 5.0.95)

[mysqld(API)] 2 nodes
id=5 (not connected, accepting connect from any host)
id=6 (not connected, accepting connect from any host) 
```

1.  管理节点配置OK，我们配置一个Storage Server节点（192.168.50.102）。

2.1 安装 mysql 服务器，如步骤 1.1 。

2.2 从“ [http://dev.mysql.com/downloads/cluster/](http://dev.mysql.com/downloads/cluster/) ”下载MYSQL集群

2.3 提取内容并将文件ndb复制到/usr/bin/。

2.4 将存储服务器节点连接到管理服务器。

```
ndbd --connect-string=192.168.50.101 --initial -n 
```

这就是问题所在。在 Management Server 中，将显示下一个错误：

```
ndb_mgm > Node 2: Forced node shutdown completed. Ocurred during startphase 0\. 
Caused by error 2350: 'Invalid configuration received from Management 
Server(Configuration error). Permanent error, external action needed'. 
```

在 Storage Server 节点中，显示的警告是：

```
[ndbd] INFO    -- Angel connected to '102.168.50.101:1186'
[ndbd] INFO    -- Angel allocated nodeid: 2
[ndbd] WARNING -- Configuration didn't contain generation (likely old ndb_mgmd 
```

有人知道我应该怎么做才能解决这个问题吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T16:11:35.597

如果它对其他人有帮助，我将在此处粘贴 MySQL 论坛上给出的回复...

* * *

看起来您正在尝试将存储库中的管理节点二进制文件（非常旧的版本）与非集群 MySQL 服务器（不允许）与来自 mysql.com 的数据节点（非常新）混合。

第一步应该是使用来自 mysql.com 的所有节点的二进制文件。

如果您想尝试浏览器驱动的自动安装程序以使您的生活更简单，请查看[http://www.clusterdb.com/mysql-cluster/auto-installer-labs-release/](http://www.clusterdb.com/mysql-cluster/auto-installer-labs-release/)或者如果您'想手动设置然后看看[http://www.clusterdb.com/mysql-cluster/deploying-mysql-cluster-over-multiple-hosts/](http://www.clusterdb.com/mysql-cluster/deploying-mysql-cluster-over-multiple-hosts/)

* * *

你好安德鲁，

非常感谢您的回复。事实上，我在 mgm 节点中使用的是旧的 mysql 版本。

我从[http://www.mysql.com/downloads/cluster/](http://www.mysql.com/downloads/cluster/)下载了所有内容，像我之前所说的那样设置每个节点，并使用以下方法将数据节点连接到管理节点：

shell> /usr/local/mysql/bin/ndbd --connect-string=192.168.56.101 -- Angel 连接到 192.168.56.101:1186 -- Angel 分配的 nodeid: 2

另外，我使用命令 show 检查了管理节点：

ndb_mbm> 显示

## 集群配置

[ndbd(NDB)] 2 个节点 id=2 @192.168.50.102(mysql-5-5.29 ndb-7.2.10, starting, Nodegroup:0) id=3 (未连接，接受来自 192.168.50.103 的连接)

[ndb_mgmd(MGM)] 1 个节点 id=1 @192.168.50.101（版本：5.0.95）

[mysqld(API)] 2 个节点 id=5（未连接，接受来自任何主机的连接） id=6（未连接，接受来自任何主机的连接）

如您所见，数据节点（id 2）正在连接到 mgm 节点，但是当我尝试启动数据节点（id 2）mysql时，它不会启动...

shell> /etc/init.d/mysql start 启动 MySQL.................................服务器退出更新 PID 文件 (/usr/loca/mysql/data/localhost.node2-1\. {FAILED])

查了一下问题，好像mysql不喜欢我在/etc/my.cnf里写的config。

一开始我有：

-- 我的.cnf --

[mysqld] datadir=/var/lib/mysql socket=/var/lib/mysql/mysql.sock user=mysql symbolic-links=0

[mysqld_safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid

在我添加了 ndbcluster 配置之后：

-- 我的.cnf --

[客户端] 端口 = 3306 套接字 = /tmp/mysql.sock

[mysqld] 端口 = 3306 ndbcluster ndb-connectstring=192.168.56.107 [mysqld_cluster] ndb-connectstring=192.168.56.107

datadir=/var/lib/mysql socket=/var/lib/mysql/mysql.sock

[mysqld_safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid

问题是如果我注释掉 ndbluster 部分，mysql 会正确启动，但如果 ndbcluster 行或 ndb-connectstring 行没有被注释，mysql 会启动。我应该怎么办？我不明白为什么mysql在具有ndbcluster配置时无法启动。有什么不对？

* * *

我注意到您只有两个 ndbd 进程之一在运行（并且它仍处于启动状态）。这将阻止 mysqld 连接到集群，因此您需要先启动第二个 ndbd 并等到 ndb_mgm 报告它们都处于运行状态。

* * *

我也尝试先连接两个 nbdb，但它们卡在了起始阶段：

ndb_mgm> 显示

## 集群配置

[ndbd(NDB)] 2 个节点 id=2 @192.168.50.102(mysql-5-5.29 ndb-7.2.10，开始，节点组：0) id=3 @192.168.50.103(mysql-5-5.29 ndb-7.2。 10，开始，节点组：0）

[ndb_mgmd(MGM)] 1 个节点 id=1 @192.168.50.101 (mysql-5-5.29 ndb-7.2.10)

[mysqld(API)] 2 个节点 id=5（未连接，接受来自任何主机的连接） id=6（未连接，接受来自任何主机的连接）

我检查了 mgm 日志（ndb_l_cluster.log）：

[MgmtSrvr] INFO -- 节点 3：初始启动，等待 2 连接，节点 [所有：2 和 3 已连接：3 无等待：] [MgmtSrvr] INFO -- 节点 2：初始启动，等待 3 连接, 节点 [所有：2 和 3 已连接：3 无等待：]

即使我尝试从 mgm 开始它们：

ndb_mgm> 2 start 正在启动数据库节点 2。

ndb_mgm> 3 start 正在启动数据库节点 3。

但是没有“节点 2：启动启动”消息...

我正在使用 CentOS 6.3 的三个虚拟机中运行集群。是问题吗？也许是配置文件？

* * *

通常这种类型的启动问题是由防火墙规则阻止访问集群中另一个节点上的随机高端口造成的。Ndbd 节点使用这些来相互通信。

解决方案是要么允许这些主机之间的所有连接，要么允许连接到由 ServerPort 定义的特定端口。

请参阅：[http](http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-ndbd-definition.html#ndbparam-ndbd-serverport) ://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-ndbd-definition.html#ndbparam-ndbd-serverport 和 [http://johanandersson.blogspot.com/2009/05/ cluster-fails-to-start-self-diagnosis.html](http://johanandersson.blogspot.com/2009/05/cluster-fails-to-start-self-diagnosis.html)

* * *

马修，你是对的！我允许所有节点之间的端口，一切正常！

非常感谢马修和安德鲁！

# javascript - 打开网页时如何获得默认导航（使用标准遥控器）

> ID：15082775
> 
> 赞同：0
> 
> 时间：2013-02-26T06:27:50.497
> 
> 标签：javascript, flash, samsung-smart-tv

我有一个 js/flash 三星电视应用程序，它需要打开远程服务器网页，然后让用户从那里浏览。这是一项要求，因此我无法在我们的应用程序中完成所有操作。

我可以通过简单地调用 window.location = newLocation; 打开一个页面。这确实会转到远程位置并将其显示在屏幕上。但我无法使用标准遥控器导航！

我尝试使用所有已注册和未注册的键（pluginAPI.unregistAllKey();）没有任何改变。

有什么方法可以调用默认浏览器，或者在我打开的页面上启用标准（虽然很尴尬）远程导航？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:45:03.117

您不能调用默认浏览器。默认`Web Browser`为独立应用程序，独立于 SmartTV SDK。

您可以`<iframe>`使用所需的页面制作并自己实施控件。三星浏览器没有跨域限制，因此您可以完全访问`<iframe>`内容。

# php - 将数据从html文件发送到php并存储在数据库中

> ID：15082776
> 
> 赞同：1
> 
> 时间：2013-02-26T06:27:57.573
> 
> 标签：php, html, mysql

我正在将数据从 html 文件发送到 php 但它没有保存所有值在数据库中存储为空我认为它没有从 html 获取值我正在使用以下代码

```
<html>
<body><form action="data.php" method="get">

<input type="text" name="$R1"  id="R1"  value="John"><br>
<input type="text" name="$R2"  id="R2"  value="thePassword"><br>
<input type="text" name="$R3"  id="R3"  value="thePassword"><br>
<input type="text" name="$R4"  id="R4"  value="thePassword"><br>
<input type="text" name="$R5"  id="R5"  value="thePassword"><br>
<input type="text" name="$R6"  id="R6"  value="thePassword"><br>
<input type="text" name="$R7"  id="R7"  value="thePassword"><br>
<input type="text" name="$R8"  id="R8"  value="thePassword"><br>
<input type="text" name="$R9"  id="R9"  value="thePassword"><br>
<input type="text" name="$R10" id="R10" value="thePassword"><br>
<input type="text" name="$R11" id="R11" value="thePassword"><br>
<input type="submit">
</form></body>
</html> 
```

PHP 代码为了将数据添加到表中，它只插入空白记录。

```
 <?php

        $con =            
        mysql_connect("surveyipad.db.6420177.hostedresource.com","","");
     if (!$con)
      {
      die('Could not connect: ' . mysql_error());
       }

      mysql_select_db("surveyipad", $con);

      $device_Id=$_GET['device_Id'];

      $R1=$_GET['R1'];
      $R2=$_GET['R2'];
      $R3=$_GET['R3'];
      $R4=$_GET['R4'];
      $R5=$_GET['R5'];
      $R6=$_GET['R6'];
  $R7=$_GET['R7'];
  $R8=$_GET['R8'];
     $R9=$_GET['R9'];
 $R10=$_GET['R10'];
 $R11=$_GET['R11'];

  echo($R1);

    $update_date_time=$_GET['update_date_time'];

    $teritory1=$_GET['teritory1'];

    $query=("INSERT INTO std     (device_Id,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10,R11,update_date_time,teritory1)

        VALUES 
 ('$device_Id','$R1','$R2','$R3','$R4','$R5','$R6','$R7','$R8','$R9','$R10','$R11','$update_date_time','$teritory1')");

   mysql_query($query,$con);
    printf("Records inserted: %d\n", mysql_affected_rows());
  ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:29:11.773

更改名称

`<input type="text" name="$R1" id="R1" value="John"><br>`

到

`<input type="text" name="R1" id="R1" value="John"><br>`

`name="$R1"`去`name="R1"`尝试

=> 使您的查询免受 sql 注入的影响。

=> 使用`mysql_real_escape_string`

```
$query=("INSERT INTO std       (device_Id,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10,R11,update_date_time,teritory1)
 VALUES 
 ('".mysql_real_escape_string($device_Id)."',
'".mysql_real_escape_string($R1)."',
'".mysql_real_escape_string($R2)."',
'".mysql_real_escape_string($R3)."',
'".mysql_real_escape_string($R4)."',
'".mysql_real_escape_string($R5)."',
'".mysql_real_escape_string($R6)."',
'".mysql_real_escape_string($R7)."',
'".mysql_real_escape_string($R8)."',
'".mysql_real_escape_string($R9)."',
'".mysql_real_escape_string($R10)."',
'".mysql_real_escape_string($R11)."',
'".mysql_real_escape_string($update_date_time)."',
'".mysql_real_escape_string($teritory1)."')"); 
```

=> mysql_* 函数被弃用，使用 mysqli_* 函数或 PDO

=> 不重要：如果您没有具体的使用理由，最好`method="get"`改为`method="POST"``get`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:29:28.117

表单中的`name`属性不应以`$`：

```
<input type="text" name="R1"  id="R1"  value="John"> 
```

...等等

* * *

您的代码极易受到注入攻击。您应该更新它以停止使用[`ext/mysql`](http://www.php.net/manual/en/faq.databases.php#faq.databases.mysql.deprecated)并通过`PDO`/正确使用参数化语句`mysqli`。

您也没有发送`update_date_time`或`territory1`连同表格的其余部分一起发送。有什么理由使用 GET 而不是 POST？您应该将 POST 用于非幂等请求。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:29:54.107

`$`从`name`HTML 中的属性中删除。改成`name="R1"`

# shell - Ubuntu linux命令提取子字符串里面

> ID：15082778
> 
> 赞同：0
> 
> 时间：2013-02-26T06:28:13.133
> 
> 标签：shell, ubuntu

我在 ubuntu 上有一个 txt 文件，其中包含

-rw-r--r-- 1 ftp ftp 0 2 月 26 日 11:37 6.txt
-rw-r--r-- 1 ftp ftp 0 2 月 26 日 11:37 7.txt
-rw-r--r- - 1 ftp ftp 0 2 月 26 日 11:37 8.txt

我可以只想检索文件名吗

6.txt
7.txt
8.txt

到另一个文本文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:48:31.290

```
awk '{print $NF}' your_file >only_names.txt 
```

或者

```
perl -lane '{print $F[scalar(@F)-1]}' your_file >only_names.txt 
```

如果要更改现有文件：

```
perl -i -lane '{print $F[scalar(@F)-1]}' your_file 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:40:05.887

```
cut -d' ' -f 9 f1.txt > f2.txt 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T07:53:08.610

如果您的文件包含空间，它可能看起来像

```
-rw-r--r-- 1 ftp ftp 0 Feb 26 11:37 6.txt 
-rw-r--r-- 1 ftp ftp 0 Feb 26 11:37 7.txt 
-rw-r--r-- 1 ftp ftp 0 Feb 26 11:37 a filename with space 
```

用这个

`cut -d' ' -f9- f1.txt > f2.txt`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:41:02.930

如果您的文件名非常统一，我会使用 grep 和正则表达式：

```
$ grep --color=never -oE '[[:alnum:]]+\.[[:alnum:]]{3}$' files.txt 
```

以上禁用颜色（可能会干扰），只输出匹配部分（-o），使用扩展正则表达式（-E），然后找到一个或多个字母数字字符，后跟一个点（“.”），然后正好是三个字母数字字符（[[:alnum:]]）和一个行尾（'$'）。

# java - 传递输入后从字符串中丢失数据

> ID：15082782
> 
> 赞同：0
> 
> 时间：2013-02-26T06:28:51.740
> 
> 标签：java, string, java.util.scanner

我正在尝试将数据写入包含名称和数字的对象，但由于某种原因，名称在使用初始化后立即丢失了数据`Scanner`（这都在名为 的方法中调用`private void addPerson()`）**。**

```
 String addName = "Just an empty String."; 
    System.out.println(addName + " testing");  // (Just an empty String. testing)
    System.out.println("Name: ");       
    addName = input.nextLine(); 
    System.out.println(addName); // null no matter what is entered
    input.next();
    System.out.println(addName + " again"); // Still null ( again) 
```

输入名称后，我尝试查看名称是否已存储，但没有。第一次打印甚至没有在输出中注册。在我按下 ENTER 后，接下来要显示的是最后一行，但它在输出屏幕中“再次”显示。我有的原因`input.next()`是因为没有它，程序将打印所有内容，直到我要求输入整数。即使我将字符串设置为默认文本，在尝试通过用户输入将其更改为不同的名称后，字符串也会立即变为空。

最后，当我对整数执行相同的测试时，它们工作得很好。

关于可能导致我的字符串不存储任何内容的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:36:27.760

我认为*问题*出在[nexLine()](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine%28%29)，这里是文档：

> 将此扫描器前进到当前行并返回被跳过的输入。此方法返回当前行的其余部分，不包括末尾的任何行分隔符。位置设置为下一行的开头。
> 
> 由于此方法继续搜索输入以查找行分隔符，因此如果不存在行分隔符，它可能会缓冲所有搜索要跳过的行的输入。
> 
> 返回：被跳过的行

也许您可以使用[next()](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next%28%29)？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:35:12.903

你如何声明变量`input`？

```
Scanner input = new Scanner(System.in); 
```

要再次打印`addName`，请将其更改为

```
addName = input.next();
System.out.println("2\. addName: " + addName); 
```

# ember.js - RenderBuffer.string() 中的 Ember.js 性能瓶颈

> ID：15082787
> 
> 赞同：4
> 
> 时间：2013-02-26T06:29:19.363
> 
> 标签：ember.js

我正在调试应用程序的性能问题。深入研究似乎是一个线索：`Ember.RenderBuffer.string()`其中一个元素花费了 4 秒以上。当深入研究代码时，`setInnerHTMLWithoutFix`罪魁祸首是函数：它在模板 HTML 中搜索由 Metamorph 注入的脚本标签，然后将它们全部替换，但要做到这一点，它必须遍历每个 dom比赛次数：超过 400 场比赛！我们必须有一个广阔的视野，但我很想看看是否有人以前遇到过这个问题和/或任何修复或解决这个问题的指针。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-25T15:20:49.283

现在你可以使用 ember inspector 上的 super B 功能[get it here for chrome](https://chrome.google.com/webstore/detail/ember-inspector/bmdblncegkenkacieihfhpjfppoconhi?hl=en)

现在具有渲染性能，您可以查看和评估渲染中的任何瓶颈

![在此处输入图像描述](../Images/710c5ffd5fdea67d315316271e7e90db.png)

# vb6 - 在 vb6.0 中查找缺少的库或参考

> ID：15082788
> 
> 赞同：1
> 
> 时间：2013-02-26T06:29:19.653
> 
> 标签：vb6, vb6-migration

有没有办法找出缺少哪个项目库或参考？或获取有关失踪的更多详细信息？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T06:58:56.360

您可以在项目 > 参考菜单下找到它

还要检查项目组件，其中列出了也是引用的控件（OCX 文件）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-26T06:52:51.807

**是的，您可以看到它们。您可以在其中一个名为References**的菜单中找到它们。我不记得你可以在哪个菜单名下找到它。但是您可以在该选项卡中查看对您的项目实际有效的所有引用。

# linux-kernel - 哪个内核文件负责设置32位或64位模式

> ID：15082789
> 
> 赞同：0
> 
> 时间：2013-02-26T06:29:24.990
> 
> 标签：linux-kernel, linux-device-driver

我正在浏览 Linux 内核代码，并且有兴趣知道哪个文件将负责设置长模式以支持 64 位，或者哪个文件会告诉操作系统要启动的是 32 位还是 64 位？

引导加载程序代码是否负责设置此模式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:32:35.240

引导加载程序（通常是 GRUB）正在引导一些 Linux 内核。该内核可能是 32 位内核（然后只能运行 32 位程序）或 64 位内核。

64 位 Linux 内核能够通过[execve(2)](http://www.kernel.org/doc/man-pages/online/pages/man2/execve.2.html)系统调用运行 32 位二进制可执行程序（在 32 位进程中）或 64 位程序

所以大多数内核都是 64 位的，可以运行 32 位或 64 位的[ELF](http://en.wikipedia.org/wiki/Executable_and_Linkable_Format)可执行文件。

我猜想，取决于它们的引导方式，Linux 内核以 32 位模式启动（至少在由 GRUB 引导时）。

# android - 在android中使用twitter api将图像上传到twitter

> ID：15082801
> 
> 赞同：-1
> 
> 时间：2013-02-26T06:30:02.003
> 
> 标签：android

是否可以使用 twitter api 将图像发布到 twitter？

如果可能的话，请提供一些关于此的信息。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:41:42.050

您需要 Twitter4J Library for Sharing Pic，这应该是最新的，可以从[这里获取](http://twitter4j.org/en/index.html)

并且可以使用下面的方法来post Image

```
 **
 * To upload a picture with some piece of text.
 * 
 * 
 * @param file The file which we want to share with our tweet
 * @param message Message to display with picture
 * @param twitter Instance of authorized Twitter class
 * @throws Exception exception if any
 */

public void uploadPic(File file, String message,Twitter twitter) throws Exception  {
    try{
        StatusUpdate status = new StatusUpdate(message);
        status.setMedia(file);
        twitter.updateStatus(status);}
    catch(TwitterException e){
        Log.d("TAG", "Pic Upload error" + e.getErrorMessage());
        throw e;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:39:51.090

试试这个：[Android 演示](https://github.com/itog/Twitter4j-android-Sample)。愿它有帮助。

```
if(isConnected()){
    OAuthService authService = new ServiceBuilder()
                                .provider(TwitterApi.class)
                                .apiKey(Constants.CONSUMER_KEY)
                                .apiSecret(Constants.CONSUMER_SECRET)
                                .callback(Constants.OAUTH_CALLBACK_URL)
                                .build();
    final OAuthRequest request = new OAuthRequest(Verb.POST, "https://upload.twitter.com/1/statuses/update_with_media.json");
                verifier = uri.getQueryParameter(Constants.IEXTRA_OAUTH_VERIFIER);
                try {   
                    Token token = getToken();
                    if(token!=null){
                        authService.signRequest(token, request); 
                        MultipartEntity entity = new MultipartEntity();

                        entity.addPart("status", new StringBody("Your Status!"));       // THIS IS THE TWITTER MESSAGE
                        entity.addPart("media", new FileBody(new File(uriString)));  // THIS IS THE PHOTO TO UPLOAD

                        ByteArrayOutputStream out = new ByteArrayOutputStream();
                        entity.writeTo(out);

                        request.addPayload(out.toByteArray());
                        request.addHeader(entity.getContentType().getName(), entity.getContentType().getValue());
                    }
                } catch (UnsupportedEncodingException e) {
                    e.printStackTrace();
                } catch(IOException e){
                    e.printStackTrace();
                }
                progressDialog = ProgressDialog.show(this,Constants.LABEL_BLANK, "Uploading Image",true);
                Thread requestThread = new Thread() {
                    public void run() {
                        try {
                            response = new JSONObject (request.send().getBody());
                            uiHandler.sendEmptyMessage(0);
                        }catch (JSONException e) {
                            Log.e("TOUR_APP_TAG", "JSONException Thrown: " + e.getMessage());
                            errorHandler.sendEmptyMessage(0);
                        }
                    }
                };
                requestThread.start();
}
...
...
final Handler uiHandler = new Handler() {
    @Override
    public void handleMessage(Message msg) {
        if(progressDialog != null)progressDialog.dismiss();
        if(response.has("id"))
            //your code
    }
};

final Handler errorHandler = new Handler() {
    @Override
    public void handleMessage(Message msg) {
        if(progressDialog != null)progressDialog.dismiss();
            //your code
    }
}; 
```

# c - C - scanf 等到可以评估格式中的所有部分

> ID：15082806
> 
> 赞同：0
> 
> 时间：2013-02-26T06:30:22.337
> 
> 标签：c, scanf

我没有太多时间，而且很多关于`stdin`这个阶段的问题只是提出了比它回答的问题多得多的问题。我希望测试通过多个`scanf`.

如果我这样做：

```
char inputChar;
char inputChars[15] = { NULL };
int inputInt;
double inputDec;

if(scanf("%c %d %lf",&inputChar,&inputInt,&inputDec) == 3) {
    ...
}
else if(scanf("%c %d %s",&inputChar,&inputInt,&inputChars) == 3) {
    ...
}
else if(scanf("%c %d",&inputChar,&inputInt) == 2) {
    ...
}
else if(scanf("%c",&inputChar) == 1) {
    ...
}
else {
    ...
} 
```

然后键入一个字符并按 Enter，控制台会等到我输入另一个值，然后再评估是否匹配。

**更新**

这似乎工作正常，除了它希望您的输入在使用时*完美*。如果用户在按 Enter 之前键入`aa`然后将其更改为，则它与第 4 次评估匹配。`a 10`这是错误的，原因有两个：

1.  因为如果正确捕获输入，它*应该匹配第三个；*和
2.  因为如果*没有*，`aa`应该被过滤到第 5 次评估中。

修改后的代码：

```
char input[50] = { NULL };

char inputChar = NULL;
char inputChars[15] = { NULL };
int inputInt;
double inputDec;

printf("Input String:\n>");

fgets(input,sizeof(input),stdin);

if(sscanf(input,"%c%d %lf",&inputChar,&inputInt,&inputDec) == 3) { }
else if(sscanf(input,"%c%d%s",&inputChar,&inputInt,&inputChars) == 3) { }
else if(sscanf(input,"%c%d",&inputChar,&inputInt) == 2) { }
else if(sscanf(input,"%c",&inputChar) == 1) { }
else { } 
```

做这样的事情表明退格没有被过滤掉：

```
for(int i=0;i<50;i++) {
    if(input[i] == (char) 10) { break; }
    printf("\n%c %d",(char) input[i],(int) input[i]);
} 
```

所以它似乎`fgets`不在画面中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:33:15.120

语句按顺序执行。所以这是第一个`scanf`等待更多输入的调用。如果输入与第一次调用不匹配，则下一次`scanf`调用将重新开始，等待输入。等等。

相反，您应该使用`fgets`读取整行，然后使用`sscanf`就行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T07:31:13.803

请解释“清除输入缓冲区”是什么意思。你的意思是 _flushall 在我的击键发生之前擦除它们吗？它怎么能做到这一点？也许您的意思是您已经从该行中读取了您需要的数据，而您并不关心该行的其余部分。在这种情况下，我假设您希望“读取并丢弃直到并包括下一个换行符的所有字符”。我有一个可移植的机制来做到这一点：

```
for (int c = getchar(); c >= 0 && c != '\n'; c = getchar()); 
```

您可能还希望阅读[此相关答案](https://stackoverflow.com/questions/14993841/why-does-my-program-loop-without-receiving-any-new-input/14994382#14994382)。

*编辑*：我刚刚想到你想要的行为可能表达如下：

```
char inputChar;
char inputChars[15] = { NULL };
int inputInt;
double inputDec;
int x = scanf("%c%d", &inputChar, &inputInt);

if (x == 2 && scanf("%lf",&inputDec) == 1) {
    ...
}
else if (x == 2 && scanf("%14s", inputChars) == 1) {
    ...
}
else {
    ...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T15:10:09.230

可能不是最好的方法，但它确实有效。

使用`iostream`库运行`getline(std::cin,input);`捕获输入，`std::string input`然后`sscanf`在`input.c_str()`.

# github - Github 无法同步分支

> ID：15082809
> 
> 赞同：11
> 
> 时间：2013-02-26T06:30:35.210
> 
> 标签：github, github-for-windows

我正在使用 W7 64 bi ，并且刚刚从 github 客户端应用程序中得到一个错误。它说：

> 无法同步分支。你可能需要打开一个 shell 并调试这个 repo 的状态。

现在我该怎么做 ？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-19T22:49:29.180

我知道这听起来很疯狂，但请尝试重新启动计算机。

这件事昨天发生在我身上；我收到此错误，并在检查时：`\AppData\Local\GitHub\TheLog.txt`

我发现如下消息：

```
AppData\Local\GitHub\PortableGit_ca477551eeb4aea0e4ae9fcd3358bd96720bb5c8\bin\sh.exe:
*** Couldn't reserve space for cygwin's heap, Win32 error 0 
```

当我使用它时，问题出现在**GitHub for Windows**更新自身（特别是**cygwin**化的**PortableGit**）在后台。最终，之前 dll 中的一些**cygwin**`PortableGit` dll仍然加载到内存中，从而在尝试执行新的（更新的）`PortableGit`命令时导致错误。

重新启动清除了所有以前加载的 cygwin dll。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-18T15:27:44.647

您可能有一个比我的答案更复杂的问题，但是——对于遇到这个问题的任何其他人——可以在[这个视频](https://www.youtube.com/watch?v=w2M5CAonYqY)中找到一些基本的解决方案。简而言之，status.github.com,`git status`和`gitstatus`是你的朋友。看看他们告诉你什么，然后牢记这些新信息继续你的侦查。您可以使用 Github Windows 客户端附带的 Git Shell 使用这些工具。

我会注意到我自己的问题源于尝试同步一个太大的文件：我只是通过使用 Git Shell 才发现这个问题，当我尝试`git sync`. 我目前正在寻找删除以前提交中相关文件的方法，以便我可以适当地同步我的 repo。我目前正在关注的指南可以在[这里](https://help.github.com/articles/working-with-large-files/)找到，如果它似乎把我带向了正确的方向（它实际上是在 Git Shell 错误消息中推荐的！）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-02T11:17:12.183

我之前遇到过这个错误，我通过重新插入我的 github 帐户的凭据来修复它。原来 github 出于某种原因让我退出了

# javascript - 如何将下拉值绑定到 url，然后使用此 url 在文本字段中获取数据？

> ID：15082811
> 
> 赞同：1
> 
> 时间：2013-02-26T06:30:44.973
> 
> 标签：javascript, jquery, ajax

我有一个包含一些值的下拉列表。当用户选择一些值时，我希望将这些值作为参数值绑定到 url，然后使用此 url 在文本字段中获取数据。

我只是不知道如何在这里执行获取然后填充文本字段。

请建议。

提前致谢！罗南

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:37:19.257

执行此任务需要执行几个步骤，例如

1.  您必须根据 Select 值创建 url，例如

    var url="http://yourdomain?value="+SELECTVALUE;

2.  然后在 jquery 中使用此 url ($.ajax) 执行 AJAX 请求

3.  在文本字段中设置响应。

[您将在http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)中获得 ajax 调用过程和响应类型文本

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:35:14.883

您可以使用`$('form').serialize();`jQuery 方法，然后将其作为`jQuery.ajax()`数据传递。

**例子**

```
<select id="foo" name="foo" multiple="multiple">
    <option value="1">one</option>
    <option value="2">two</option>
    <option value="3">three</option>
</select> 
```

在 js 变量中`str = $("form").serialize();`

将产生一个看起来像的查询字符串

```
[path]?foo=1&foo=2&foo=3&someotherparams... 
```

**更清楚的例子**

```
$("#FormSubmit").click(function()
{
    var str = $("#ShowForm").serialize();
    $.post("url.php", str , function(data) {...}); 
}); 
```

# android - 将滚动事件从列表视图分派到滚动视图

> ID：15082815
> 
> 赞同：1
> 
> 时间：2013-02-26T06:31:19.557
> 
> 标签：android, listview, scrollview, touch-event

我有一个 ListView，其中每一行都包含以下内容

```
-2 images
-1 textview
-1 scrollview that will display a bunch of tags 
```

我搜索了互联网，我发现很难将滚动事件从列表视图分派给它的孩子，尤其是当它们在同一轴上滚动时。

我在想是否有可能找出触摸事件是否在滚动视图上，如果是，那么我应该调度滚动事件，否则我将滚动列表。

你有什么想法我该如何实施？

编辑：

我试图从 ListView 覆盖 onTouchEvent 方法，但它不起作用。当我拖动滚动视图时，内容消失了，当我滚动列表视图时，滚动视图的内容仍然在屏幕上弄脏。

有任何想法吗？

# android - 处理没有方案的 VIEW 动作

> ID：15082822
> 
> 赞同：1
> 
> 时间：2013-02-26T06:31:56.720
> 
> 标签：android

面临下一个问题：

我的应用程序从服务器接收一些 HTML 格式的数据。我在 TextView 中显示它。文本肯定可以包含链接 ( `<a href="http://www.google.com">`)。[例如，在this question](https://stackoverflow.com/questions/4438713/android-html-in-textview-with-link-clickable) clarifications之后，使链接可点击不是问题。

```
mTvContent = (TextView) mView.findViewById(R.id.tv_content);
mTvContent.setMovementMethod(LinkMovementMethod.getInstance()); 
```

上面的代码可以完美运行，直到服务器向我发送一个没有 HTML 方案标识符的链接，例如`<a href="www.google.com">`

单击此类链接将导致明显的异常：

> E/AndroidRuntime(10646): android.content.ActivityNotFoundException: 没有找到处理 Intent { act=android.intent.action .VIEW dat=www.google.com (has extras) } E/AndroidRuntime(10646): 在 android .app.Instrumentation.checkStartActivityResult(Instrumentation.java:1683) E/AndroidRuntime(10646): 在 android.app.Instrumentation.execStartActivity(Instrumentation.java:1554) E/AndroidRuntime(10646): 在 android.app.Activity.startActivityForResult (Activity.java:3409) E/AndroidRuntime(10646): 在 android.app.Activity.startActivityForResult(Activity.java:3370) E/AndroidRuntime(10646): 在 android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity .java:817) E/AndroidRuntime(10646)：在 android.app.Activity.startActivity(Activity.java:3580) E/AndroidRuntime(10646)：在 android.app。Activity.startActivity(Activity.java:3548) E/AndroidRuntime(10646)：在 android.text.style.URLSpan.onClick(URLSpan.java:62) E/AndroidRuntime(10646)：在 android.text.method.LinkMovementMethod。 onTouchEvent(LinkMovementMethod.java:212) E/AndroidRuntime(10646): 在 android.widget.TextView.onTouchEvent(TextView.java:7770) E/AndroidRuntime(10646): 在 android.view.View.dispatchTouchEvent(View.java: 7198)

实际上我可以解析收到的 HTML 代码和“修复”链接，但我不喜欢这个想法。有人可以提出任何可能的解决方案来处理“断开”的链接吗？

# java - java.lang.NoClassDefFoundError:oracle/j2ee/ws/common/jaxws/ServiceDelegateImpl

> ID：15082823
> 
> 赞同：0
> 
> 时间：2013-02-26T06:31:58.387
> 
> 标签：java, jakarta-ee, soa, oracle-adf, business-process-management

我正在使用 BPM API 来检索分配给特定用户的任务列表。但是，在运行类文件时，我收到以下错误：-

```
Exception in thread "main" java.lang.NoClassDefFoundError: oracle/j2ee/ws/common/jaxws/ServiceDelegateImpl
    at oracle.bpm.client.BPMServiceClientFactory.<init>(BPMServiceClientFactory.java:102)
    at oracle.bpm.client.BPMServiceClientFactory.getInstance(BPMServiceClientFactory.java:144)
    at project3.Fixture.getBPMServiceClientFactory(Fixture.java:33)
    at project3.Fixture.getBPMServiceClient(Fixture.java:49)
    at project3.GetProcessInstances.testGetProcessInstances(GetProcessInstances.java:29)
    at project3.GetProcessInstances.main(GetProcessInstances.java:24)
Caused by: java.lang.ClassNotFoundException: oracle.j2ee.ws.common.jaxws.ServiceDelegateImpl
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:305)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:246)
    ... 6 more 
```

我已经在我的项目中添加了以下 Jar 文件：--

1.  Oracle.bpm.runtime.jar
2.  Oracle.bpm.client.jar
3.  Bpm-services.jar
4.  wsclient.jar

但是问题还是没有解决。。

有什么建议吗？？？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-28T06:16:00.893

除了它不工作的原因之外，您应该使用 Oracle 提供的开箱即用的 TaskQueryService。

# c# - 在给定的指针地址读取 3 个字节的最快方法？

> ID：15082824
> 
> 赞同：1
> 
> 时间：2013-02-26T06:32:02.220
> 
> 标签：c#, .net, performance, bitmap, int

我目前正在读取位图的像素数据，使用`BitmapData`锁定位图后的可用。我使用的方法分别读取每个颜色字节，并且比`int`直接在给定指针处读取 4 字节要慢。但不幸的是，我的位图是 24bpp，这意味着每个像素有 3 个字节，而不是 4 个。那么有没有办法快速读取 3 个字节并将其转换为`int`给定的指针地址？

```
// read pixel color
byte* Pix = (byte*)bmpScan0 + (y * bmpStride) + (x * 3);
byte R = *(Pix + 2);
byte G = *(Pix + 1);
byte B = *(Pix);
int RGB = ((int)R << 16) | ((int)G << 8) | (int)B; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:59:58.653

您可以在像素地址处读取完整的 int 并屏蔽掉额外的字节，而不是多个操作 - 读取、屏蔽等。

```
int Pix = *(int*)((byte*)bmpScan0 + (y * bmpStride) + (x * 3)) & 0x00FFFFFF; 
```

根据您的字节顺序，您可能需要向下移动而不是屏蔽，并且您的颜色分量可能会反转 - BGR 而不是 RGB。

哦，由于从未与 4 字节边界对齐的内存中读取，您可能会遇到一些速度问题。您可以解决这些问题，但解决方案通常比最初的问题更糟糕。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-26T06:36:02.860

你的意思是这样的：

```
int foo = *(some pixel address in memory);
byte R = (byte)(foo & 0xff0000 >> 16);
byte G = (byte)(foo & 0x00ff00 >> 8);
byte B = (byte)(foo & 0xff); 
```

编辑：应保留此答案未经编辑以保持其他评论的连续性，但根据对问题本身的编辑不再适用。:)

# sap-basis - 如何从 Asp.net App 更新 SAP 数据库

> ID：15082836
> 
> 赞同：0
> 
> 时间：2013-02-26T06:33:14.227
> 
> 标签：sap-basis

我有一个 asp.net web 应用程序，我想在我的 asp.net 应用程序发生特定事务时更新 SAP。我想知道 SAP 是否有任何可用的 SAP API 或 Web 服务，我可以使用它们来更新 SAP。

如果有人知道，请告诉我。

谢谢，钱丹

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T16:21:35.347

好吧，我只能为 R/3 说话，但我会尽力而为。

您可以通过 IDOC、Web 服务、第 3 方 SAP 连接器和中间表对 SAP 表进行插入、更新和删除。

IDOC 是一种 SAP 标准文档格式，用于与其他系统进行数据交换。此过程在 SAP 中称为入站/出站，基本上是一个通用接口，SAP 和其他系统在该接口中共享具有已建立结构的文件。例如，在我们公司，我们与发送 XML 文件的卫星系统通信，其中 SAP 首先获取 IDOC 并在发送之前对其进行转换。另一种情况是系统通过 FTP 将文本文件放在地毯上，SAP 将它们转换为 IDOC 以使用和提取数据以更新系统。

然而，这种配置非常复杂，需要研究、分析和经验才能使其正常工作。为了深入了解，我建议您访问[http://help.sap.com/saphelp_erp2005/helpdata/en/0b/2a60bb507d11d18ee90000e8366fc2/frameset.htm](http://help.sap.com/saphelp_erp2005/helpdata/en/0b/2a60bb507d11d18ee90000e8366fc2/frameset.htm)。

对于 Web 服务，需要 Netweaver 集成（基于 Web 服务），您可以在其中管理此服务，但基本上您可以使用带有事务 SE80 的 Web 应用程序构建器对 Web 服务进行编程。

您可以使用的另一件事是 .Net 连接器，您可以在其中与 .Net 集成 SAP 功能模块的 RFC 调用。[您可以在此处](http://rfcconnector.com/documentation/examples/client/)查看带有 SAP .Net 连接器的示例以获取更多信息。

最后一种有用的技术是在您的系统和 SAP 可以通信的数据库中创建中间表。该方法包括创建自定义表，您的程序在其中添加数据，SAP 读取它以连接到数据库。要连接到数据库，您可以查看[此示例](https://stackoverflow.com/questions/15041871/how-to-import-sql-server-table-to-sap-abap-itab)。

正如我之前所说，我只能谈论 SAP R/3 来共享数据，但我不能谈论 SAP Business One。

希望能帮助到你。

# c# - 无需迭代即可将 DataTable 绑定到 TreeView

> ID：15082841
> 
> 赞同：2
> 
> 时间：2013-02-26T06:33:26.853
> 
> 标签：c#, asp.net, arrays, datatable, treeview

我能够将数据表列绑定到 Gridview

在这里，我从数据表中的列中选择不同的值并将它们插入到 TreeView。

```
string[] menuGroup = ((from DataRow row1 in _ds.Tables["Rest_grdvitems"].Rows
                       orderby row1["Menu_Group"]
                   select row1["Menu_Group"].ToString()).Distinct()).ToArray();

           TreeNode node = new TreeNode("All Items");
           TV_Categories_List.Nodes.Add(node);
           foreach (string menuitem in menuGroup)
           {
               TreeNode node1 = new TreeNode(menuitem);
               TV_Categories_List.Nodes.Add(node1);
           } 
```

因为我没有大量的行要插入到 TreeView，所以我需要避免迭代。

你能帮我吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:42:13.113

TreeView（也不是 ListView）不能直接绑定到 DataSource。

正如@IamStalker 作为评论所说，内部 WinForms 绑定控制机制中有迭代：迭代数据以填充 TreeView 没有任何问题。

如果您主要关心的是性能，那么您应该确保将添加节点的代码包含在`.BeginUpdate`() 和`.EndUpdate()`方法中：它将在填充操作期间锁定 TreeView 显示刷新。这仅适用于 WinForms TreeView

要只进行一次迭代，您应该如下更改 LINQ（放置 var 而不是 string[] 并删除 .ToArray()）。因此 LINQ 语句将返回 LINQ`IEnumerable<string>`而不是 string[]。这样，它只会在填充 TreeView 的 foreach 循环中被枚举。

```
var menuGroup = (from DataRow row1 in _ds.Tables["Rest_grdvitems"].Rows
                orderby row1["Menu_Group"]
                select row1["Menu_Group"].ToString()).Distinct();

TreeNode node = new TreeNode("All Items");

TV_Categories_List.BeginUpdate();

TV_Categories_List.Nodes.Add(node);
foreach (string menuitem in menuGroup)
{
    TreeNode node1 = new TreeNode(menuitem);
    TV_Categories_List.Nodes.Add(node1);
}

TV_Categories_List.EndUpdate(); 
```

# python - 通过 imp.load_source 加载具有相同名称的模块导致模块合并

> ID：15082857
> 
> 赞同：9
> 
> 时间：2013-02-26T06:34:30.790
> 
> 标签：python

我想知道以下行为是预期的还是错误的。我正在使用 CPython2.7

创建一个文件 x.py

```
def funcA():
    print "funcA of x.py"
def funcB():
    print "funcB of x.py" 
```

创建一个文件 y.py

```
def funcB():
    print "funcB of y.py" 
```

创建文件 test.py

```
import sys, imp
# load x.py as fff
m = imp.load_source('fff', 'x.py')
print dir(m)
print sys.modules.get('fff')
# load y.py as fff
m = imp.load_source('fff', 'y.py')
print dir(m)    
print sys.modules.get('fff')

# import and exec func
import fff
fff.funcA()
fff.funcB()
print dir(fff) 
```

结果

```
['__builtins__', '__doc__', '__file__', '__name__', '__package__', 'funcA', 'funcB']
<module 'fff' from 'x.py'>
['__builtins__', '__doc__', '__file__', '__name__', '__package__', 'funcA', 'funcB']
<module 'fff' from 'y.py'>
funcA of x.py
funcB of y.py
['__builtins__', '__doc__', '__file__', '__name__', '__package__', 'funcA', 'funcB'] 
```

我的期望是第二个`imp.load_source`将完全用 y.py 替换模块 x.py。事实上`sys.modules.get('fff')`显示`<module 'fff' from 'y.py'>`，但生成的模块就像 x.py 和 y.py 的混合，后者具有优先级。

这是预期的还是错误的？

编辑：我的测试代码有错字。更新了结果。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-26T07:44:21.747

这是预期的行为。
见[http://docs.python.org/2/library/imp.html](http://docs.python.org/2/library/imp.html)

> imp.load_source（名称，路径名[，文件]）
> 
> > 加载并初始化作为 Python 源文件实现的模块并返回其模块对象。如果模块已经初始化，它将再次初始化。name 参数用于创建或**访问**模块对象。

由于您的第二个模块与第一个模块具有相同的名称，因此它不会替换第一个模块，而是会合并到第一个模块中。

源代码给了我们同样的答案。
`imp`是一个内置模块，在[import.c](http://svn.python.org/projects/python/trunk/Python/import.c)中定义。
我们来看看定义`load_source`

```
static PyObject *
load_source_module(char *name, char *pathname, FILE *fp)
{
    ......
    m = PyImport_ExecCodeModuleEx(name, (PyObject *)co, pathname);
    Py_DECREF(co);

    return m;
} 
```

它只是`PyImport_ExecCodeModuleEx`.

```
PyObject *
PyImport_ExecCodeModuleEx(char *name, PyObject *co, char *pathname)
{
    PyObject *modules = PyImport_GetModuleDict();
    PyObject *m, *d, *v;

    m = PyImport_AddModule(name);
    ......
    d = PyModule_GetDict(m);
    ......
    v = PyEval_EvalCode((PyCodeObject *)co, d, d);
    ......
} 
```

现在，我们只需要专注于`PyImport_AddModule`. Python 使用它来获取模块对象。您解析的源文件将被放入此模块对象中。

```
PyObject *
PyImport_AddModule(const char *name)
{
    PyObject *modules = PyImport_GetModuleDict();
    PyObject *m;

    if ((m = PyDict_GetItemString(modules, name)) != NULL &&
        PyModule_Check(m))
        return m;
    m = PyModule_New(name);
    if (m == NULL)
        return NULL;
    if (PyDict_SetItemString(modules, name, m) != 0) {
        Py_DECREF(m);
        return NULL;
    }
    Py_DECREF(m); /* Yes, it still exists, in modules! */

    return m;
} 
```

最后，我们找到了答案。给定 a `name`，如果某个模块已经具有 this `name`，即 ，`name in sys.modules`Python 不会创建新模块，而是会重用该模块。

# javascript - 使用表格以固定间距布置正方形网格，其中每个正方形的宽度是屏幕宽度的百分比

> ID：15082859
> 
> 赞同：1
> 
> 时间：2013-02-26T06:34:52.867
> 
> 标签：javascript, html, css

我正在布置一个简单的正方形网格，其中每个正方形的宽度是屏幕宽度的 50%，并且每个正方形之间的间距是固定的。我找到了一种非常直观的方法来使用表格和一行 JavaScript（这里是一个[小提琴](http://jsfiddle.net/PNu9G/)）：

**HTML**

```
<table width="100%" cellspacing="10">
  <tr>
    <td width="50%"></td>
    <td width="50%"></td>
  </tr>
  <tr>
    <td width="50%"></td>
    <td width="50%"></td>
  </tr>
</table> 
```

**JavaScript**

```
$('td').height($('td').width()); 
```

这似乎是对表格的理智、语义使用，但我几乎可以肯定我会被我的程序员同事撕毁，因为我将表格用于除了表格文本数据之外的任何东西。是否有任何正当理由*不*使用上述方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:45:09.290

当您的 HTML 将包含**表格**数据时，我认为使用表格不是问题。如果您使用`table`just 来设计布局，则应该使用“普通”元素（`div`,`section`等`article`）。

但是，我想指出的是，您在 HTML 中使用了布局样式 - 现在这是错误的。你应该把你的设计放在 CSS 中，并保持你的 HTML 干净。例子：

**HTML**

```
<table>
    <tr>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
    </tr>
</table> 
```

**CSS**

```
table {
    width:100%;
    border-collapse: seperate;
    border-spacing : 10px;
}
td {
    width:50%;
    background-color:red;
} 
```

**jQuery**

```
$('td').height($('td').width()); 
```

[JSF](http://jsfiddle.net/PNu9G/2/)中。

# iphone - iOS 核心数据 - 为什么它有效？

> ID：15082872
> 
> 赞同：1
> 
> 时间：2013-02-26T06:36:05.693
> 
> 标签：iphone, ios, core-data

我对核心数据的逻辑感到困惑。

我将核心数据视为数据库，将核心数据方法视为 SQL 查询。

当我尝试使用本地内存的对象更新核心数据中的某些对象时，我发现我可以使用以下代码来制作该功能：

```
NSFetchRequest *request = [[NSFetchRequest alloc] init];
[request setEntity:[NSEntityDescription entityForName:@"Book" inManagedObjectContext:_managedObjectContext]];
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"identifier == %@", theBook.identifier];
[request setPredicate:predicate];

NSError *error;
Book *book = [[_managedObjectContext executeFetchRequest:request error:&error] lastObject];
if (error) {
    NSLog(@"Error getting book to update: %@", error);
    abort();
}

// NSLog(@"%d", book == theBook);

error = nil;
if (![_managedObjectContext save:&error]) {
    NSLog(@"Error saving the book: %@", error);
    abort();
} 
```

`theBook`是我想用来更新核心数据对象的对象。

我发现日志消息说这两个对象是相同的......

我获取了请求并没有做任何事情，但它确实有效。为什么它有效？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:55:18.053

起初，Core Data 不是数据库——它是一个对象图，可以保存到某种存储中。如果您在那里的对象具有唯一`identifier`性，那么使用相同的`identifier`值获取会为您提供相同的对象。Core Data 不会为相同的实体创建不同的托管对象实例（比如标识符 = 7 的书），所以无论你在哪里处理同一个对象，如果你获取它 15 次也没关系，你总是会结束同一个。

# mysql - 如何将空值传递给外键字段？

> ID：15082874
> 
> 赞同：34
> 
> 时间：2013-02-26T06:36:18.423
> 
> 标签：mysql, sql, database, database-design

我有 2 张桌子：

`university`：

```
university_id(p.k) | university_name 
```

和`user`：

```
uid | name | university_id(f.k) 
```

如何在用户表中保留`university_id` **NULL ？**

我只写了 1 个查询，我的查询是：

```
INSERT INTO user (name, university_id) VALUES ($name, $university_id); 
```

这里`$university_id`可以从前端为空。

`university`表将由我默认设置。

在前端，学生将选择大学名称，据此`university_id`将传递到`user`表中，但如果学生没有选择任何大学名称，则应将空值传递给`user`表`university_id`字段。

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-02-26T06:38:59.467

只允许表的列`university_id`允许`user`值`NULL`，以便您可以保存*空值*。

```
CREATE TABLE user
(
   uid INT NOT NULL,
   Name VARCHAR(30) NOT NULL, 
   university_ID INT NULL,    -- <<== this will allow field to accept NULL
   CONSTRAINT user_fk FOREIGN KEY (university_ID)
       REFERENCES university(university_ID)
) 
```

**更新 1**

根据您的评论，您应该插入`NULL`而不是`''`.

```
insert into user (name,university_id) values ('harjeet', NULL) 
```

**更新 2**

```
$university_id = !empty($university_id) ? "'$university_id'" : "NULL";
insert into user (name,university_id) values ('harjeet', $university_id); 
```

作为旁注，[`SQL Injection`](http://bobby-tables.com/)如果变量的值（*s*）来自外部，则查询很容易受到攻击。请看下面的文章，了解如何预防。通过使用`PreparedStatements`，您可以摆脱在值周围使用单引号。

*   [如何*防止*PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-26T06:47:28.337

在这里假设我有外键`user_id`，我想为此插入空值。

![在此处输入图像描述](../Images/5e2121b0e6d390a2eb42090e5c9d50b8.png)

必须检查复选框是否为外键插入空值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-09-20T01:02:03.083

我使用的是 MySQL InnoDB，甚至允许在 FK 列中使用 NULL，并且默认使用 NULL，但我遇到了错误。所以我使用了 SET 语法：

```
INSERT INTO (table) SET value1=X... 
```

而且我只是不设置 FK 列。

# php - 使用php合并多个csv文件

> ID：15082877
> 
> 赞同：1
> 
> 时间：2013-02-26T06:36:29.743
> 
> 标签：php, csv, merge, command

我想创建一个命令行 php 脚本，它将文件夹中的多个 CSV 文件合并/合并为一个。

每个 CSV 文件都有 2 列，由逗号 (,) 分隔，但多行数各不相同。此外，每个 CSV 文件名都是唯一的，因此当我们合并 CSV 文件时，我希望 CSV 的文件名成为文件中每一行的第一列。

因此，最终当它运行脚本时，它会将文件夹下的多个 CSV 文件合并为一个。从 2 列开始，输出文件将有 3 列，其中第一列是文件名。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:35:26.860

```
<?php
    $nn = 0;
    foreach (glob("*.csv") as $filename) {

        if (($handle = fopen($filename, "r")) !== FALSE) {

            while (($data = fgetcsv($handle, 0, ",")) !== FALSE) {
                $c = count($data);
                $csvarray[$nn][] = $filename;
                for ($x=0;$x<$c;$x++)
                {
                    $csvarray[$nn][] = $data[$x];
                }
                $nn++;
            }

            fclose($handle);
        }

    }

    $fp = fopen('../file.csv', 'w');//output file set here

    foreach ($csvarray as $fields) {
        fputcsv($fp, $fields);
    }

    fclose($fp);

?> 
```

我没有对其进行任何测试，这是您可以遵循的逻辑和代码。

# asp.net - 错误 :: 找不到文件 ASP.net

> ID：15082882
> 
> 赞同：-3
> 
> 时间：2013-02-26T06:37:13.330
> 
> 标签：asp.net, file

我想从硬盘驱动器上的**任何位置**读取“file11.dat” ，但它不起作用。

紧随其后的是如下所示的错误。

```
ERROR :: Could not find file 'C:\Program Files\Common Files\Microsoft Shared\DevServer\10.0\file11.dat'. 
```

如果我将文件放在指定的上述位置，它不会给我错误。请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:38:57.533

采用

```
Server.MapPath("location"); 
```

它将从您的解决方案文件夹本身中获取文件

# android - 如何在 sharedpreferences 中保存一些价值并在下一个活动中获得它

> ID：15082883
> 
> 赞同：1
> 
> 时间：2013-02-26T06:37:13.877
> 
> 标签：android, sharedpreferences

我正在创建一个测验应用程序，我提出了一些问题并以单选按钮的形式提供选项，现在我想将答案的值（正确答案加上，错误答案减去）存储在其中`SharedPreferences`并在其他活动中显示该结果. 我在[这里搜索并找到了这个答案](https://stackoverflow.com/questions/6234902/how-to-use-the-sharedpreferrence-value-in-another-activity-in-android-app)

我使用了它，但仍然无法获得我想要的结果我的代码看起来像：

主要活动可以节省一些价值`SharedPreferences`：

```
public class MainActivity extends Activity {
private SharedPreferences saveScore;
private SharedPreferences.Editor editor;
RadioGroup group;
RadioButton radioButton;    
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);     
    group = (RadioGroup) findViewById(R.id.radioGroup1);
    radioButton = (RadioButton) group.findViewById(group.getCheckedRadioButtonId());
    saveScore = getPreferences(MODE_PRIVATE);       
}
public void gotoNextAndSaveScore(View view) {
    if(group.getCheckedRadioButtonId() != R.id.radio3){
        editor = saveScore.edit();
        editor.putInt("score", -1);
        editor.commit();
    }else{
        editor = saveScore.edit();
        editor.putInt("score", 1);
        editor.commit();
    }       
    Intent intent = new Intent (MainActivity.this, NextActivity.class);
    startActivity(intent);
}} 
```

这是下一个尝试从以下位置获取值的活动`SharedPreferences`：

```
public class NextActivity extends Activity{

private SharedPreferences preferences;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_next);

    preferences = this.getSharedPreferences("score", MODE_WORLD_WRITEABLE);

    int value = preferences.getInt("score", 0);
    String score = "Your Score is : " + value;
    UIHelper.displayScore(this, R.id.tvScore, score );

}} 
```

有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:41:36.487

你应该换行

```
 saveScore = getPreferences(MODE_PRIVATE); 
```

到

```
saveScore =  getSharedPreferences("score",Context.MODE_PRIVATE); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:38:55.390

试试这个，

```
public class DataStorage {

private static String KEY;
public static SharedPreferences savedSession;

public void saveID(Context context, String msessionid) {
    // TODO Auto-generated method stub

    Editor editor = context
            .getSharedPreferences(KEY, Activity.MODE_PRIVATE).edit();
    editor.putString("SESSION_UID", msessionid);
    editor.commit();
}

public String getID(Context context) {

    savedSession = context.getSharedPreferences(KEY, Activity.MODE_PRIVATE);
    return savedSession.getString("SESSION_UID", "");
}
} 
```

**编辑：**

```
 DataStorage mdata = new DataStorage();

public void gotoNextAndSaveScore(View view) {
if(group.getCheckedRadioButtonId() != R.id.radio3){

   mdata.saveId(Mainactivity.this,1);
}else{
   mdata.saveId(Mainactivity.this,-1);
} 
```

然后从中获取价值`NextActivity`。

```
DataStorage mdata = new DataStorage();
mdata.getId(NextActivity.this); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:40:31.520

存储导航到`nextActivity`时的值`onPause()`，如下所示：

```
 @Override
    protected void onPause() 
    {
      super.onPause(); 
      // Store values between instances here
      SharedPreferences preferences = getSharedPreferences("sharedPrefs", Context.MODE_PRIVATE);
      SharedPreferences.Editor editor = preferences.edit();
      editor.putString("YourStringKeyValue", "StringValue"); // value to store
      // Commit to storage
      editor.commit();
    } 
```

并使用该键获取数据，`next Activity`如下`onCreate`所示：

```
 SharedPreferences preferences = getSharedPreferences("sharedPrefs", 0);
       String name= preferences.getString("YourStringKeyValue",""); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:40:06.777

您使用了错误的首选项文件，Activity 上的 getPreference 函数返回该 Activity 私有的文件。您需要使用命名文件版本- getSharedPreferences(name, mode)

# java - 在 Ubuntu 中编译 Servlet 会返回错误

> ID：15082890
> 
> 赞同：2
> 
> 时间：2013-02-26T06:37:40.573
> 
> 标签：java, bash, servlets, ubuntu, classpath

我正在尝试编译要在 webapp 中使用的源代码。我知道 Ubuntu 中的东西不像 Windows 中的东西，`classpath`永久设置不是一件好事，所以我决定暂时设置标志。这是我在终端中的命令：

`littlejavachild@ubuntu:~/LittleJavaChild/ServletProjects/beerV1$ javac -cp "/usr/share/tomcat7/servlet-api.jar" -d classes src/com/example/*.java`

我想要实现的是：

*   编译`.java`包中的所有文件`com.example`*   将`.class`文件直接发送到适当的目录*   将classes文件夹复制到`WEB-INF`文件夹

尽管设置了`classpath`我得到的错误：

```
src/com/example/ListenerTester.java:3: error: package javax.servlet does not exist
import javax.servlet.*;
^
src/com/example/ListenerTester.java:4: error: package javax.servlet.http does not exist
import javax.servlet.http.*;
^
src/com/example/ListenerTester.java:7: error: cannot find symbol
public class ListenerTester extends HttpServlet{
                                    ^
  symbol: class HttpServlet
src/com/example/ListenerTester.java:8: error: cannot find symbol
    public void doGet(HttpServletRequest request,
                      ^
  symbol:   class HttpServletRequest
  location: class ListenerTester
src/com/example/ListenerTester.java:9: error: cannot find symbol
                HttpServletResponse response) throws IOException, ServletException {
                ^
  symbol:   class HttpServletResponse
  location: class ListenerTester
src/com/example/ListenerTester.java:9: error: cannot find symbol
                HttpServletResponse response) throws IOException, ServletException {
                                                                  ^
  symbol:   class ServletException
  location: class ListenerTester
src/com/example/MyServletContextListener.java:2: error: package javax.servlet does not exist
import javax.servlet.*;
^
src/com/example/MyServletContextListener.java:4: error: cannot find symbol
public class MyServletContextListener implements ServletContextListener{
                                                 ^
  symbol: class ServletContextListener
src/com/example/MyServletContextListener.java:5: error: cannot find symbol
    public void contextInitialized(ServletContextEvent event){
                                   ^
  symbol:   class ServletContextEvent
  location: class MyServletContextListener
src/com/example/MyServletContextListener.java:12: error: cannot find symbol
    public void contextDestroyed(ServletContextEvent event){
                                 ^
  symbol:   class ServletContextEvent
  location: class MyServletContextListener
src/com/example/ListenerTester.java:14: error: cannot find symbol
        Dog dog = (Dog) getServletContext().getAttribute("dog");
                        ^
  symbol:   method getServletContext()
  location: class ListenerTester
src/com/example/MyServletContextListener.java:6: error: cannot find symbol
        ServletContext sc = event.getServletContext();
        ^
  symbol:   class ServletContext
  location: class MyServletContextListener 
```

* * *

我知道当类路径设置不正确时会发生这些错误。请帮我解决一下这个。告诉我哪里出了问题，我该如何纠正它以及将来如何避免它。

### 使用 -verbose 更新

【类文件的搜索路径：/usr/lib/jvm/java-7-openjdk-i386/jre/lib/resources.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/rt .jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/sunrsasign.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/jsse.jar,/ usr/lib/jvm/java-7-openjdk-i386/jre/lib/jce.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/charsets.jar,/usr/lib/ jvm/java-7-openjdk-i386/jre/lib/netx.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/plugin.jar,/usr/lib/jvm/java- 7-openjdk-i386/jre/lib/rhino.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/jfr.jar,/usr/lib/jvm/java-7-openjdk- i386/jre/classes,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/ext/localedata.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/ ext/sunjce_provider.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/ext/dnsns.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/ ext/java-atk-wrapper.jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/ext/pulse-java.jar，/usr/lib/jvm/java-7-openjdk-i386/jre/lib/ext/sunpkcs11。 jar,/usr/lib/jvm/java-7-openjdk-i386/jre/lib/ext/zipfs.jar,.,/usr/share/tomcat7/servlet-api.jar]

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T07:05:12.133

将任务分成几部分，让我们先尝试编译 java 文件。稍后检查如何移动类文件。

该错误确实表明它没有找到所需的类，因此 jar 未正确添加到类路径中。检查这个

```
javac -classpath .:/usr/share/tomcat7/servlet-api.jar src/com/example/*.java 
```

确保罐子存在于给定位置。还可以尝试从 src 文件夹运行它并将路径指定为 com/example/*.java

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T07:06:58.777

我会尝试使用`-classpath`而不是`-cp`. javac的[Ubuntu 手册页](http://manpages.ubuntu.com/manpages/hardy/man1/icepick-javac.1.html)没有指明`-cp`选项。您还可以添加`-verbose`以从`javac`.

*注意：我的 mac 上的 javac 实现不同意，但我不在 ubuntu 机器 atm 上。*

# java - 从接收器到服务器到接收器的套接字编程

> ID：15082891
> 
> 赞同：0
> 
> 时间：2013-02-26T06:37:44.587
> 
> 标签：java, sockets

### 接收端代码 GUI 端

```
sock=new Socket(IP,port);
os = new DataOutputStream(sock.getOutputStream());
if (sock != null && os != null ) {
    os.writeUTF("21");
}
os.flush();
int bytesRead;
InputStream in=sock.getInputStream();     //socket closed..
Receiver receive =new Receiver(sock,in);
s=receive.flagvalue();

if(s==1)
   JOptionPane.showMessageDialog(null, "File Transfer Done","INFORMATION",JOptionPane.INFORMATION_MESSAGE);  
else
   JOptionPane.showMessageDialog(this, "YOU CAN'T ACCESS THIS PORT","BLOCKED",JOptionPane.ERROR_MESSAGE);
}

//Receiver Class whom to class from RECEIVER GUI
public class Receiver implements Runnable {

public  String receiverIP;
String IP;
Socket sock;
InputStream in;
public Receiver(Socket sock,InputStream in) {

    this.sock=sock;
    this.in=in;
    Thread th=new Thread(this);
    th.start();
}

@Override
public void run() {
    try {
        int bytesRead;
        String filename="Files\\rahul.zip";             
        int current = 0;
        while(true) {
            if(in.available()>0) {
                flag=1;
                FileOutputStream fos = new FileOutputStream(filename);
                BufferedOutputStream out =new BufferedOutputStream(fos);
                byte[] buffer=new byte[6022386];
                bytesRead = in.read(buffer, 0, buffer.length);
                current = bytesRead;
                do {
                    bytesRead =in.read(buffer, current, (buffer.length - current));
                    if (bytesRead >= 0) {
                        current += bytesRead;
                    }
                } while (bytesRead > -1);

                out.write(buffer, 0, current);
                out.flush();
                out.close();
                in.close();
                break;
            }

        }
    } catch (Exception ex) {
        JOptionPane.showMessageDialog(null, ex.getMessage()+" HEre");
    }
}

public int flagvalue() {
    return flag;
}
} 
```

### GUI 端的服务器端代码

```
CheckIP chkIP;
port=5001;
try {

chkIP=new CheckIP();
boolean start=true;
String line="";
server=new ServerSocket(port);
String receiverIP;
int pointer;
String finalip;
while(start) {
    clientSocket=server.accept();
    is1 = new DataInputStream(clientSocket.getInputStream());
    line=is1.readUTF();
    is1.close();
    filename="Files\\"+line.trim()+".zip";
    receiverIP=clientSocket.toString();
    pointer=receiverIP.indexOf("/") ;
    finalip=receiverIP.substring(pointer+1) ;
    pointer=finalip.indexOf(",");
    receiverIP=finalip.substring(0, pointer) ;
    String check=chkIP.checkReceiver(receiverIP);
    if(check.toUpperCase().equals("APPROVED")) {
        System.out.println("filename,clientSocket"+filename+"  "+clientSocket);
        Server server1=new Server(filename,clientSocket);
        Thread th=new Thread(server1);
        th.start();
        JOptionPane.showMessageDialog(null, "File Transfered","Process Done" , 1);
    } else
        JOptionPane.showMessageDialog(this, "USER BLOCKED","BLOCKED",JOptionPane.ERROR_MESSAGE);
} 
```

### 服务器代码

```
public class Server implements Runnable {
    Socket clientSocket;
    String filename;

    public Server(String filename,final Socket clientSocket) {
        this.filename=filename;
        this.clientSocket=clientSocket;
    }

    @Override
    public void run() {
        FileInputStream fis = null;
        try {

            System.out.println("filename "+filename);

            File file=new File(filename);
            fis = new FileInputStream(file);
            BufferedInputStream bis=new BufferedInputStream(fis);
            byte[] buffer=new byte[(int)file.length()];
            bis.read(buffer,0,buffer.length);
            OutputStream os=clientSocket.getOutputStream();
            os.write(buffer, 0, buffer.length);
            os.flush();
            os.close();
        } catch (IOException ex) {
            Logger.getLogger(FirewallServer.class.getName()).log(Level.SEVERE, null, ex);
            ex.printStackTrace();
        }  finally {
            try {
                fis.close();
            } catch (IOException ex) {
                Logger.getLogger(FirewallServer.class.getName()).log(Level.SEVERE, null, ex);
                ex.printStackTrace();
            }
        }

    }
} 
```

我想将*文件名*发送到服务器，并且只想接收指定的文件。但不知何故，接收方没有等待服务器发送文件。如何从接收方执行暂停条件，以便服务器可以选择该文件并将其发送给接收方。请帮忙？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:01:05.397

这是等待服务器回复的接收者代码 [客户端等待服务器回复](http://javabeginershub.blogspot.in/)

# email - gerrit -application error 服务器错误连接被拒绝

> ID：15082892
> 
> 赞同：0
> 
> 时间：2013-02-26T06:37:48.197
> 
> 标签：email, smtp, gerrit

```
In gerrit,While registering with a open id(gmail) for the first time it got registered  no issues ,but when I add another user with a open id(gmail)  [settings->Contact Information->Register New Email] am getting an error like this,  
        Application error
        Server error
        Connection refused
        What kind of problem is it.My config file
        [sendemail]
            enable = true
            smtpUser = *xxxxx*@gmail.com
            smtpPass = "xxxx"
            smtpServerPort = 25
            smtpServer = 127.0.0.1
            smtpEncryption = none
            sslVerify = true
            from = MIXED*** 
```

我的错误日志是这样的

```
 com.google.gerrit.httpd.rpc.account.AccountSecurityImpl : Cannot send email verification message to %$%$#@@gmail.com
        com.google.gerrit.server.mail.EmailException: Connection refused
            at com.google.gerrit.server.mail.SmtpEmailSender.open(SmtpEmailSender.java:245)
            at com.google.gerrit.server.mail.SmtpEmailSender.send(SmtpEmailSender.java:152)
            at com.google.gerrit.server.mail.OutgoingEmail.send(OutgoingEmail.java:116)
            at com.google.gerrit.httpd.rpc.account.AccountSecurityImpl.registerEmail(AccountSecurityImpl.java:311)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
            at java.lang.reflect.Method.invoke(Method.java:616)
            at com.google.gwtjsonrpc.server.MethodHandle.invoke(MethodHandle.java:91)
            at com.google.gwtjsonrpc.server.JsonServlet.doService(JsonServlet.java:382)
            at com.google.gwtjsonrpc.server.JsonServlet.service(JsonServlet.java:268)
            at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
            at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:216)
            at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:141)
            at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:93)
            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:63)
            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:134)
            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)
            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:134)
            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)
            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:134)
            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)
            at com.google.gwtexpui.server.CacheControlFilter.doFilter(CacheControlFilter.java:76)
            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:129)
            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)
            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:134)
            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)
            at com.google.gerrit.httpd.RequestCleanupFilter.doFilter(RequestCleanupFilter.java:54)
            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:129)
            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:59)
            at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:122)
            at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:110)
            at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1322)
            at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:473)
            at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:921)
            at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:403)
            at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:856)
            at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
            at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:114)
            at org.eclipse.jetty.server.handler.RequestLogHandler.handle(RequestLogHandler.java:59)
            at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:114)
            at org.eclipse.jetty.server.Server.handle(Server.java:352)
            at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:596)
            at org.eclipse.jetty.server.HttpConnection$RequestHandler.content(HttpConnection.java:1069)
            at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:805)
            at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:218)
            at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:426)
            at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:510)
            at org.eclipse.jetty.io.nio.SelectChannelEndPoint.access$000(SelectChannelEndPoint.java:34)
            at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)
            at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:450)
            at java.lang.Thread.run(Thread.java:679)
        Caused by: java.net.ConnectException: Connection refused
            at java.net.PlainSocketImpl.socketConnect(Native Method)
            at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:327)
            at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:193)
            at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:180)
            at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)
            at java.net.Socket.connect(Socket.java:546)
            at org.apache.commons.net.SocketClient.connect(SocketClient.java:163)
            at org.apache.commons.net.SocketClient.connect(SocketClient.java:184)
            at com.google.gerrit.server.mail.SmtpEmailSender.open(SmtpEmailSender.java:215)*/
            ... 51 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T07:15:07.750

您真的将 localhost 用作 smtpServer 吗？看起来您的本地主机不支持您正在做的事情。如果您有 GMail 帐户，只需使用 Google smtp。

我们使用以下配置，它工作得很好：

```
[sendemail]
        smtpServer = smtp.gmail.com
        smtpUser = XXX@gmail.com
        smtpEncryption = ssl
        smtpPass = XXXXX 
```

# c++ - 状态设计模式 - 编译错误

> ID：15082894
> 
> 赞同：1
> 
> 时间：2013-02-26T06:37:58.553
> 
> 标签：c++, design-patterns, compiler-errors

**尝试编译此程序时出现三个错误。**

我期待以下输出

> OFF-ctor
> 输入 0/1：0 已经 OFF
> 输入 0/1：1
> 从 OFF 到 ON ON-ctor dtor-OFF
> 输入 0/1：1
> 已经 ON
> 输入 0/1：0
> 从 ON 到 OFF OFF-ctor dtor-ON
> 输入 0/1：1
> 从关闭到打开 ON-ctor dtor-OFF
> 输入 0/1：0
> 从打开到关闭 OFF-ctor dtor-ON
> 输入 0/1：0
> 已经关闭 输入 0/1：

以下是程序

```
 #include <iostream>
    using namespace std;
    class Machine
    {
      class State *current;
      public:
        Machine();
        void setCurrent(State *s)
        {
            current = s;
        }
        void on();
        void off();
    };

    class State
    {
      public:
        virtual void on(Machine *m)
        {
            cout << "   already ON\n";
        }
        virtual void off(Machine *m)
        {
            cout << "   already OFF\n";
        }
    };

    void Machine::on()
    {
      current->on(this);
    }

    void Machine::off()
    {
      current->off(this);
    }

    class ON: public State
    {
      public:
        ON()
        {
            cout << "   ON-ctor ";
        };
        ~ON()
        {
            cout << "   dtor-ON\n";
        };
        void off(Machine *m);
    };

    class OFF: public State
    {
      public:
        OFF()
        {
            cout << "   OFF-ctor ";
        };
        ~OFF()
        {
            cout << "   dtor-OFF\n";
        };
        void on(Machine *m)
        {
            cout << "   going from OFF to ON";
            m->setCurrent(new ON());
            delete this;
        }
    };

    void ON::off(Machine *m)
    {
      cout << "   going from ON to OFF";
      m->setCurrent(new OFF());
      delete this;
    }

    Machine::Machine()
    {
      current = new OFF();
      cout << '\n';
    }

    int main()
    {
      void(Machine:: *ptrs[])() =
      {
        Machine::off, Machine::on//Error2->invalid use of non-static member function 'void Machine::off()'
//Error3->invalid use of non-static member function 'void Machine::on()'
      };
      Machine fsm;
      int num;
      while (1)
      {
        cout << "Enter 0/1: ";
        cin >> num;
        (fsm. *ptrs[num])(); //Error1->expected unqualified-id before '*' token
      }
    } 
```

代码取自 sourcemaking.com 状态设计模式。我在 eclipse 和 linux g++ 中运行它。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:42:46.480

要获取指向成员函数的指针，您需要使用 an `&`（即使获取指向非成员函数的指针是可选的）：`&Machine::off, &Machine::on`

对于另一个，您需要意识到这`.*`是一个单一的标记，因此您需要删除两个字符之间的空格：`(fsm.*ptrs[num])();`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:44:28.730

```
void (Machine::*ptrs[])() =
  {
    &Machine::off,  // note: explicit &
    &Machine::on
  };
Machine fsm;
int num;
while (1)
{
    cout << "Enter 0/1: ";
    cin >> num;
    (fsm.*ptrs[num])();  // note: no space between . and *
} 
```

这仍然留下以下警告：

```
try.cc:19:22: warning: unused parameter 'm' [-Wunused-parameter]
try.cc:23:22: warning: unused parameter 'm' [-Wunused-parameter]
try.cc: In member function 'virtual void OFF::on(Machine*)':
try.cc:68:20: warning: deleting object of polymorphic class type 'OFF' which has non-virtual destructor might cause undefined behaviour [-Wdelete-non-virtual-dtor]
try.cc: In member function 'virtual void ON::off(Machine*)':
try.cc:76:14: warning: deleting object of polymorphic class type 'ON' which has non-virtual destructor might cause undefined behaviour [-Wdelete-non-virtual-dtor] 
```

# magento - Magento Payu 错误

> ID：15082897
> 
> 赞同：2
> 
> 时间：2013-02-26T06:38:12.277
> 
> 标签：magento, magento-1.7, payment-gateway, shopping-cart, payment

我们正在使用`pay u`我们的 magento 站点，安装后`pay u`当用户重定向到`pay u`站点并单击浏览器后退按钮而没有 dong 付款 magento 显示如下错误

```
 Fatal error: Call to a member function getMethodInstance() on a non-object in /app/code/core/Mage/Payment/Model/Observer.php on line 46 
```

但是订单已经下达，状态为“处理中”，点击后退按钮后，它转到结帐页面，显示购物车中的产品。

该menas订单已下并且购物车不是空的在解决了`observer.php`magento的问题后两次以“处理”状态和一个空订单下订单。请帮助解决这个问题。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-23T08:50:33.677

我很欣赏最后一个答案，你需要去管理面板>>

系统>>编译并首先评论您的payu文件夹

应用程序/代码/社区/Payu

更改

应用程序/代码/社区/--Payu

并访问管理面板>>系统>>编译>>禁用

之后从 payu 文件夹中删除评论，然后从管理面板运行编译器，但首先卸载当前的 payu，然后安装新的 payu 模块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-10T17:18:38.507

当数据库中没有订单的所有数据时，您会收到该错误。检查您是否有任何`sales_flat_order_payment`与您的订单相关联的行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-18T08:37:20.257

PayU 不能在编译时使用它。将其关闭，清除 - 它应该可以工作。

```
php-f shell / compiler.php - disable
php-f shell / compiler.php - clear
php-f shell / compiler.php - state 
```

# javascript - 如何在水平菜单中排列子子项

> ID：15082898
> 
> 赞同：3
> 
> 时间：2013-02-26T06:38:12.730
> 
> 标签：javascript, jquery, html, css, json

我的任务是从 json 文件中执行水平菜单。我创建了 json 文件。但是在创建子子项时，CSS 无法正常工作。我希望子子菜单是垂直的。

css 文件是

```
#wrapper {
    width:100%;
    height:500px;
}
h2 {
    color:#787878;
} 

#nav,
#nav ul {
    list-style: none;
    padding: 2px;

}
#menu {
    border-bottom: 1px solid #CCCCCC;
    border-spacing: 0;
    display: table;
    float: left;
    height: 25px;
    width: 100%;
}
#menu ul {
    margin: 0;
    padding: 0; 
}

#menu ul li a:hover {
    background: none repeat scroll 0 0 #FFFFFF;
    border-color: #ccc #ccc #FFFFFF;
    border-style: solid;
    border-width: 1px;
    padding-bottom: 0;
}

.nav-child {
    width:160px;
    display:block !important;
}
#menu ul li ul {
    border-radius:0px;
    border-color:#fff #ccc #ccc #ccc !important;
}
#menu ul li ul li:hover {
    border:0px;
}
#nav {
    float: left;
    height: 25px;

}
#nav> li {
    float: left;
}

#nav li a {
    display: block;
    height: 2em;
    line-height: 2em;
    padding: 0 1.5em;
    text-decoration: none;

}

#nav ul {
    position: absolute;
    display: none;
    z-index: 999;
}

#nav ul li a {
    /*width: 80px;*/
}
#nav li:hover ul {
    display: block;
}
#nav {
    font-family: Arial;
    font-size: 12px;
    //background: #F8F8F8 ;
}
#nav > li > a {
    font-family: Verdana,Arial,sans-serif;
    font-style: normal;
    color:#787878 ;
    font-weight: bold;
}
#nav > li > a:hover { 
    /*color: #000;*/
}
#nav ul {
    background: #fff;
    border:1px solid #C0C0C0;
    border-radius:5px;
}
#nav ul li a {
    color: #000;
}
#nav ul li a:hover {
    background: #E0E0E0 ;
}
.logout {
    float:right;
    width:300px;    
}
.title {
    float:left;
    width:300px;
}

#footer {
    width:100%;
    height:100px;
    float:left;
}
.subchild-list {
    margin: 0 116px !important;
    position: absolute !important;
}

.child-list ul {
    display: none !important;
    position: absolute !important;
    z-index: 999 !important;
}
.child-list  li:hover ul {
    display: block !important;
} 
```

如何正确安排子值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:44:05.003

更改`display:block`为`inline-block`in`.nav-child`并为`.nav-subchild`

```
.nav-child {
        width:160px;
        display:inline-block !important;
        }
.nav-subchild{
     display: inline-block !important;
} 
```

**[演示](http://jsfiddle.net/s4DeS/2/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T07:11:07.550

试试这个：[**在这个小提琴**](http://jsfiddle.net/s4DeS/4/)中，也许你想要这样的东西。

```
.subchild-list {
    margin:0;                     /*<-----make 0*/
    position: absolute !important;
    top:0;                        /*<-----0 from top*/
    right:-66px;                  /*<-----gets outside from the .childlist li*/
 }

 .child-list li {
    position:relative !important; /*<-----important*/
 } 
```

# windows - 批处理文件中的 XML 操作

> ID：15082900
> 
> 赞同：0
> 
> 时间：2013-02-26T06:38:22.100
> 
> 标签：windows, batch-file

我有一个 XML 文件，应该通过为非 XML 标记中的项目添加注释来很好地格式化该文件。示例输入文件如下所示。

```
comment 1
<book id=1>
    Book 1
</book>

comment 2
<book id=2>
    Book 2
</book>

comment 3
<book id=3>
    Book 3
</book> 
```

预期输出

```
<!-- comment 1 -->
<book id=1>
    Book 1
</book>

<!-- comment 2 -->
<book id=2>
    Book 2
</book>

<!-- comment 3 -->
<book id=3>
    Book 3
</book> 
```

编写的批处理脚本。

```
@ECHO off
SETLOCAL enabledelayedexpansion

SET INTEXTFILE=test.xml
SET OUTTEXTFILE=out.xml

SET "SEARCH_TEXT_1=^<book "
SET "REPLACE_TEXT_1=--^> ^<book "

SET "SEARCH_TEXT_2=^</book^>"
SET "REPLACE_TEXT_2=^</book^> ^<^!--"

SET "comment=<^!--- Converted to well formed XML --> <^!--"
ECHO !comment! > %OUTTEXTFILE%

for /f "tokens=1,* delims=¶" %%A in ( '"type %INTEXTFILE%"') do (
    SET string=%%A
    SET modified=!string:%SEARCH_TEXT_1%=%REPLACE_TEXT_1%!
    SET modified=!modified:%SEARCH_TEXT_2%=%REPLACE_TEXT_2%!
    ECHO !modified! >> %OUTTEXTFILE%
) 
```

错误：

```
< was unexpected at this time. 
```

这是由于`'!'`在行中 `SET "REPLACE_TEXT_2=^</book^> ^<^!--"` 是否有任何特殊的方式来转义`'!'`符号？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:42:12.937

您需要引用您`set`的 s：

```
SET "string=%%A"
SET "modified=!string:%SEARCH_TEXT_1%=%REPLACE_TEXT_1%!"
SET "modified=!modified:%SEARCH_TEXT_2%=%REPLACE_TEXT_2%!" 
```

否则，将有未引用和未转义`>`的`<`源代码，它们被解释为重定向，这是您不想要的。

但是，结果看起来还不太正确：

```
<!--- Converted to well formed XML --> <!-- 
comment 1--
<book id=1>--
    Book 1--
</book>--
... 
```

另外，你有什么理由使用`delims=¶`吗？你真的期待`¶`你的输入中有一个角色吗？还是只是为了不使用分隔符？在后一种情况下`delims=`会这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T08:09:56.660

您的方法不正确，因为它没有在第一个注释之前插入开始注释标记（您通过在开头显式插入它来修补），并在文件末尾插入一个未关闭的开始注释标记；此外，它不保留空行。下面的批处理文件正确地将**<book ...> </book>**标记之外的任何文本包含在注释中（使用您的示例数据成功测试）：

```
@echo off
setlocal DisableDelayedExpansion
set bang=!
setlocal EnableDelayedExpansion

set inFile=test.xml
set outFile=out.xml

set "startLine=<book "
set startLen=6
set "endLine=</book>"

echo ^<!bang!--- Converted to well formed XML --^> > %outFile%

set inBook=
(for /F "tokens=1* delims=:" %%a in ('findstr /N "^" %inFile%') do (
   set string=
   set "string=%%b"
   if not defined string (
      echo/
   ) else (
      if "!string:~0,%startLen%!" equ "%startLine%" (
         set inBook=true
      )
      if not defined inBook (
         echo ^<!bang!-- !string! --^>
      ) else (
         echo !string!
         if "!string!" equ "%endLine%" (
            set inBook=
         )
      )
   )
)) >>  %outFile% 
```

安东尼奥

# uiview - 在uiview中使用CCSprite

> ID：15082901
> 
> 赞同：1
> 
> 时间：2013-02-26T06:38:47.383
> 
> 标签：uiview, uiviewcontroller, cocos2d-iphone, ccsprite

我有一个 Objective-C 项目。在项目中，我想在图像（UIImage）上使用一些 CCAction。所以，我想我需要把所有的 UIImage 都改成 CCSprite。我有一个添加图像以查看项目中所有图像的功能：

```
UIImage* firstImage = [imageArray objectAtIndex:0];    
UIImageView* imageView = [[UIImageView alloc] initWithImage:firstImage];
[targetView addSubview:imageView];
[imageView release];
return imageView; 
```

此时，我不知道如何在 CCSprite 上做 addSubview。据我所知，在 cocos2d 中，只有一个 CCGLView 正在使用。有什么提示吗？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:46:58.080

一些对您有用的注释：

« 您可以使用 addChild 方法将一个 CCSprite 添加到另一个 CCSprite。

« 从 UIImage 创建 CCSprite：

```
CCTexture2D *tex = [[[CCTexture2D alloc] initWithImage:uiImage] autorelease];
CCSprite *sprite = [CCSprite spriteWithTexture:tex]; 
```

« 从 CCSprite 创建 UIImage：

```
- (UIImage *) imageFromSprite :(CCSprite *)sprite
{
    int tx = sprite.contentSize.width;
    int ty = sprite.contentSize.height;

    CCRenderTexture *renderer   = [CCRenderTexture renderTextureWithWidth:tx height:ty];

    sprite.anchorPoint  = CGPointZero;

    [renderer begin];
    [sprite visit];
    [renderer end];

    return [renderer getUIImage];
}
//call syntax
CCSprite *sprite = (CCSprite *)node;
UIImage *p = [self imageFromSprite:sprite] 
```

# youtube-api - Youtube API v3 返回不同或缺失的播放列表

> ID：15082909
> 
> 赞同：0
> 
> 时间：2013-02-26T06:39:16.613
> 
> 标签：youtube-api

通过 ID 获取播放列表时，我在使用 v3 API 时遇到了一些问题。

我有一个 javascript 应用程序，可让您搜索播放列表（通过调用`www.googleapis.com/youtube/v3/search`），然后将这些播放列表保存到多个“设备”之一，然后将其保存在服务器上。当您返回时，该页面会获取相关的设备和 Youtube 播放列表 ID 列表。要显示更多详细信息（姓名、图像等），请致电`www.googleapis.com/youtube/v3/playlists`。

问题是`/playlists`似乎没有返回有效的播放列表。最简单的测试用例是调用：

`https://www.googleapis.com/youtube/v3/playlists?key=KEY&part=id%2Csnippet&id=PL736C3116AD309B58`

返回

```
{
 "kind": "youtube#playlistListResponse",
 "etag": "\"5cYuq_ImPkYn_h2RKDdX8DHvM2g/T0etSAnItCRUAPOtHRCu92sMKQU\"",
 "pageInfo": {
  "totalResults": 1,
  "resultsPerPage": 1
 },
 "items": []
} 
```

请注意，它显示“totalResults：1”，但实际结果为 0。

调用同一播放列表 ID ( [http://www.youtube.com/playlist?list=PL736C3116AD309B58](http://www.youtube.com/playlist?list=PL736C3116AD309B58) ) 的 youtube 网站会显示有效的播放列表。

这曾经奏效。

我没有使用 oauth 进行身份验证，但我将结果与未经身份验证的 Web 请求或未经身份验证的 API 搜索进行比较。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:20:53.737

我不知道为什么会这样，但是当单击您链接到的播放列表中的一个视频时，它会将 SP736C3116AD309B58 显示为 playlistId（注意前面的 SP 而不是 PL）。但是，我验证了 PL id 确实是出现在搜索中的那个...

但是调用这个端点会给你你正在寻找的数据......调用：

> [https://www.googleapis.com/youtube/v3/playlists?key={API_KEY}&part=id%2Csnippet&id=SP736C3116AD309B58](https://www.googleapis.com/youtube/v3/playlists?key=%7BAPI_KEY%7D&part=id,snippet&id=SP736C3116AD309B58)

回复：

```
{
 "kind": "youtube#playlistListResponse",
 "etag": "\"5cYuq_ImPkYn_h2RKDdX8DHvM2g/iOZzhrEf1VYbGO25CZhT4ga_Gw4\"",
 "pageInfo": {
  "totalResults": 1,
  "resultsPerPage": 1
 },
 "items": [
  {

   "id": "SP736C3116AD309B58",
   "kind": "youtube#playlist",
   "etag": "\"5cYuq_ImPkYn_h2RKDdX8DHvM2g/U04KGNFEmQkvMoEC7XrbSayIGUY\"",
   "snippet": {
    "publishedAt": "2009-04-21T15:23:31.000Z",
    "channelId": "UCNYrK4tc5i1-eL8TXesH2pg",
    "title": "Auto-Tune the News",
    "description": "The only news you need has a bass line",
    "thumbnails": {
     "default": {
      "url": "https://i.ytimg.com/vi/hMtZfW2z9dw/default.jpg"
     },
     "medium": {
      "url": "https://i.ytimg.com/vi/hMtZfW2z9dw/mqdefault.jpg"
     },
     "high": {
      "url": "https://i.ytimg.com/vi/hMtZfW2z9dw/hqdefault.jpg"
     }
    }
   },
   "status": {
    "privacyStatus": "public"
   }
  }
 ]
} 
```

您是否有任何理由不只是在实际的搜索调用中捕获这些数据？

# html - 单击时禁用 DIV 选择

> ID：15082910
> 
> 赞同：9
> 
> 时间：2013-02-26T06:39:19.610
> 
> 标签：html, css

当我点击它时，如何避免选择一个 div 并隐藏突出显示？
我想隐藏虚线轮廓：
![如果我想隐藏什么，这是一个屏幕截图](../Images/7b7d5a4e56692655b47569d21c2acf39.png)

（无法显示截图，这里是：http: [//i.stack.imgur.com/3OKaP.png](https://i.stack.imgur.com/3OKaP.png)）

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-26T06:47:00.860

它可以用一个 CSS 类来完成。像 .if 这是你的 div ：

```
<div class='disableSelection'>text</div> 
```

然后应用这个 css 。

```
<style>
.disableSelection{
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
outline: 0;
}
</style> 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-26T06:49:58.973

使用`outline:none`或`outline:0`

[**在这里**](https://stackoverflow.com/questions/13195081/how-to-remove-the-dotted-line-around-the-clicked-a-element-in-html/13195091#13195091)检查类似的[](https://stackoverflow.com/questions/13195081/how-to-remove-the-dotted-line-around-the-clicked-a-element-in-html/13195091#13195091)

 *** * *

## 回答 #3

> 赞同：4
> 
> 时间：2019-02-19T22:48:10.630

这在我的情况下有效：

元素 {

-webkit-tap-highlight-color：透明；

}

根据 [Mozilla Docs](https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-tap-highlight-color)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-26T06:43:56.867

添加`outline:0;`到您的`div`.

我通常在 IE 上比其他浏览器看到这个问题。

参考[**这里**](http://css-tricks.com/removing-the-dotted-outline/)了解更多信息：

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T06:44:36.193

不确定这是否是您要查找的内容，但请查看[Chris Coyers 的文章（删除虚线轮廓）](http://css-tricks.com/removing-the-dotted-outline/)

但是，如果您根本不设置替代活动状态，请考虑可用性问题。但我猜克里斯无论如何都会提到这一点。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-26T09:38:34.070

```
*:focus{outline:none} 
```

*   **请将此代码添加到您的 css 文件中。这是css问题**

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-05-02T16:16:33.143

添加“a”非常重要，表示您正在为链接添加它：

```
<style>
.disableSelection a {
outline: 0;
}
</style> 
```**

# php - 在php中检查视频文件是否为高清格式

> ID：15082911
> 
> 赞同：0
> 
> 时间：2013-02-26T06:39:20.330
> 
> 标签：php, file-upload

在我的应用程序中，我需要检查特定视频文件是否为高清格式。任何人都可以建议如何在 php 中执行此操作吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T07:29:21.833

首先，您需要定义要声明为高清视频的内容。 [维基百科](http://en.wikipedia.org/wiki/High-definition_video)说：

> 高清视频是比标准分辨率更高的视频。虽然高清没有具体含义，但通常任何水平线超过 480 线（北美）或 570 线（欧洲）的视频图像都被认为是高清的。720 条扫描线通常是最小值，尽管许多系统大大超过了这一点。在某些情况下，高速摄像机以比正常速度更快的速度（北美 60 帧/秒，欧洲 50 fps）捕获的标准分辨率图像可能被视为高清图像。

维基百科文章也有一个最大的表格。不同网站上用于高清流媒体的分辨率。

使用 PHP 扩展[FFMPEG-PHP](http://ffmpeg-php.sourceforge.net/)，您可以读取以下（以及其他）值以确定支持的视频格式的分辨率和比特率：

```
$movie = new ffmpeg_movie('movie file.avi');

// how many frames per second?
$frameRate = $movie->getFrameRate();

// how many bits per second, strongly depends on codec (video compression)
$bitRate = $movie->getBitrate();

// height in px
$frameHeight = $movie->getFrameHeight();

// width in px
$frameWidth = $movie->getFrameWidth(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:49:15.923

对于您正在查看的所有高清文件，高清视频应该有一些独特之处，可以将它们与标清视频区分开来。一旦你明白了这一点，在 PHP 中你所要做的就是检查你正在查看的文件是否包含“独特”的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T07:05:41.707

您可以尝试[getID3](http://getid3.sourceforge.net/)。它是一个 php 媒体文件解析器，可提取比特率、文件格式等信息...

# android - 如何处理 - 应用程序已停止在 Android 中运行

> ID：15082913
> 
> 赞同：0
> 
> 时间：2013-02-26T06:39:26.243
> 
> 标签：android, error-handling, logcat

所以我正在尝试创建一个 Android 应用程序，它基本上根据 UI 内的搜索查询读出 twitter 提要。我需要从解析的 JSON 中显示的提要是用户名、句柄、个人资料图片和推文。

现在我已经创建了整个东西并且我的代码编译了，但是一旦我运行它，应用程序就会打开，我在搜索提要中写一些东西并按 Enter - “不幸的是，AppName 已停止工作”我正在附加我的 logcat 和我的源代码以供参考。

*通过从 DoInBackground 中删除设置文本，然后为 Android 提供足够的权限来访问 Internet，从而解决了该问题。现在的问题是，当我尝试显示个人资料图片时，显示的是 URL，而不是图像。

源代码 ：

```
package com.example.twittersearchactivity;

import java.io.BufferedInputStream;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.MalformedURLException;
import java.net.URL;
import java.net.URLConnection;
import java.net.URLEncoder;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.StatusLine;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONArray;
import org.json.JSONObject;
import android.os.AsyncTask;
import android.os.Bundle;
import android.app.Activity;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.widget.EditText;
import android.widget.TextView;

public class TwitterSearchActivity extends Activity {

    private TextView tweetDisplay;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_twitter_search);
        tweetDisplay = (TextView)findViewById(R.id.tweet_txt);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.twitter_search, menu);
        return true;
    }
    public void searchTwitter(View view){
    EditText searchTxt = (EditText)findViewById(R.id.search_edit);
    String searchTerm = searchTxt.getText().toString();
    if(searchTerm.length()>0){
        try{
            String encodedSearch = URLEncoder.encode(searchTerm, "UTF-8");
            String searchURL = "http://search.twitter.com/search.json?q="+encodedSearch;
            new GetTweets().execute(searchURL);
            Log.i("1", "entered the searchterm");
        }
        catch(Exception e){
            tweetDisplay.setText("Whoops - something went wrong!");
            e.printStackTrace();
        }
    }
    else
        tweetDisplay.setText("Enter a search query!");
    }
    private class GetTweets extends AsyncTask<String, Void, String> {

        @Override
        protected String doInBackground(String... twitterURL) {
            StringBuilder tweetFeedBuilder = new StringBuilder();
            for (String searchURL : twitterURL) {
                HttpClient tweetClient = new DefaultHttpClient();
                try {
                    HttpGet tweetGet = new HttpGet(searchURL);
                    HttpResponse tweetResponse = tweetClient.execute(tweetGet);
                    StatusLine searchStatus = tweetResponse.getStatusLine();

                    if (searchStatus.getStatusCode() == 200) {
                        HttpEntity tweetEntity = tweetResponse.getEntity();
                        Log.i("2", "entered gettweets");
                        InputStream tweetContent = tweetEntity.getContent();
                        InputStreamReader tweetInput = new InputStreamReader(tweetContent);
                        BufferedReader tweetReader = new BufferedReader(tweetInput);
                        String lineIn;
                        while ((lineIn = tweetReader.readLine()) != null) {
                            tweetFeedBuilder.append(lineIn);
                            Log.i("3", "entered while in dobackground");
                        }
                    }
                    else {Log.i("error", "error");}
                        //tweetDisplay.setText("Whoops - something went wrong!");
                }
                catch(Exception e) {
                    Log.e("DEBUGTAG", "Remote Image Exception", e);
                    //tweetDisplay.setText("Whoops - something went wrong!");
                    e.printStackTrace();
                }}

            return tweetFeedBuilder.toString();
        }
        protected void onPostExecute(String result) {
            StringBuilder y;
            StringBuilder tweetResultBuilder = new StringBuilder();
            try {
                Log.i("tag", "entered try block");
                JSONObject resultObject = new JSONObject(result);
                JSONArray tweetArray = resultObject.getJSONArray("results");
                for (int t=0; t<tweetArray.length(); t++) {
                    Log.i("tag", "entered the json stream");
                    JSONObject tweetObject = tweetArray.getJSONObject(t);
                    tweetResultBuilder.append(tweetObject.getString("from_user")+": ");
                    tweetResultBuilder.append(tweetObject.getString("from_user_name")+": ");
                    tweetResultBuilder.append(tweetObject.get("text")+"\n\n");
                    String imageURL = (String) tweetObject.get(("profile_image_url")+": ");
                    Bitmap bitmap = BitmapFactory.decodeStream((InputStream)new URL(imageURL).getContent());
                    @SuppressWarnings("deprecation")
                    Drawable d =new BitmapDrawable(bitmap);
                    d.setAlpha(255);
                    TextView.setCompoundDrawablesWithIntrinsicBounds(0,0,1,0);
                   }
            }
            catch (Exception e) {
                tweetDisplay.setText("Whoops - something went wrong!");
                e.printStackTrace();}

            if(tweetResultBuilder.length()>0)
                tweetDisplay.setText(tweetResultBuilder.toString());
            else
                tweetDisplay.setText("Sorry - no tweets found for your search!");
        }
    }} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:41:19.943

您不能像函数一样`setText`在另一个线程上调用视图`AsyncTask` `doInBackground`函数。你需要在`onPostExecute`.

# php - php会话登录脚本在本地服务器上安装的UniServ上不起作用

> ID：15082916
> 
> 赞同：0
> 
> 时间：2013-02-26T06:39:55.373
> 
> 标签：php, mysql, session, login

我有一个登录脚本，它在托管在共享主机（Windows8 服务器）上的生产服务器上运行良好。

在 WindowsXP 和 UniServ（如 XAMPP 或 WAMP）的本地服务器（未连接到 Internet）上尝试相同的脚本。它只是给出一个空白屏幕。

因此，如果 Apache / Mysql / PHP 中有任何问题，我尝试测试一些脚本。所有 3 都在 Uniserv 上运行良好。

我尝试检查会话路径的配置，一切都很好。如果相同的文件必须在本地服务器上工作，不确定还需要检查什么。需要帮忙。

请检查以下登录脚本：

```
 <?php // accesscontrol.php
    include_once 'common.php';
    include_once 'db2.php';

    session_start();

    $uid = isset($_POST['uid']) ? $_POST['uid'] : $_SESSION['uid'];
    $pwd = isset($_POST['pwd']) ? $_POST['pwd'] : $_SESSION['pwd'];

    if(!isset($uid)) {
      ?>
      <!DOCTYPE html PUBLIC "-//W3C/DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
      <html xmlns="http://www.w3.org/1999/xhtml">
      <head>
    <title>Test - Login</title>
        <meta http-equiv="Content-Type"
          content="text/html; charset=iso-8859-1" />
    <head>
    <style type="text/css">
    <!--
    .style1 {
        font-size: 16px;
        font-family: Verdana, Arial, Helvetica, sans-serif;
    }
    .style3 {
        font-size: 12px;
        font-family: Verdana, Arial, Helvetica, sans-serif;
    }

    body {
        background-color: #D7F0FF;
        margin-left: 0px;
        margin-top: 0px;
        margin-right: 0px;
        margin-bottom: 0px;
    }

    -->
    </style>

      </head>
    <body>
      <h1 class="style1"> <br><br>Testing Login Required </h1>
      <span class="style3"><br>
      You <strong>must login to access this area </strong>of the site. <br>
      <br>
      If you are not a registered user, please contact your Admin
         to sign up for instant access!</span>
      <p><form method="post" action="<?=$_SERVER['PHP_SELF']?>">

        <span class="style3">User ID:&nbsp;&nbsp;&nbsp;&nbsp;    
        <input type="text" name="uid" size="12" />
        <br>
        <br />
        Password:</span>    
        <input type="password" name="pwd" SIZE="12" />
        <br>
        <br />
        <input type="submit" value="Login" />
      </form></p>

    </body>
      </html>
      <?php
      exit;
    }

    $_SESSION['uid'] = $uid;
    $_SESSION['pwd'] = $pwd;

    dbConnect("exceltron");
    $sql = "SELECT * FROM user WHERE
            userid = '$uid' AND password = '$pwd'";
    $result = mysql_query($sql);
    if (!$result) {
      error('A database error occurred while checking your '.
            'login details.\\nIf this error persists, please '.
            'contact you@example.com.');
    }

    if (mysql_num_rows($result) == 0) {
      unset($_SESSION['uid']);
      unset($_SESSION['pwd']);
      ?>

      <!DOCTYPE html PUBLIC "-//W3C/DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
      <html xmlns="http://www.w3.org/1999/xhtml">
      <head>
        <title> Access Denied </title>
        <meta http-equiv="Content-Type"
          content="text/html; charset=iso-8859-1" />
        <style type="text/css">
    <!--
    .style1 {
        font-size: 16px;
        font-family: Verdana, Arial, Helvetica, sans-serif;
    }
    .style3 {
        font-size: 12px;
        font-family: Verdana, Arial, Helvetica, sans-serif;
    }
    -->
    </style>  

      </head>
      <body>
      <br/>
      <br/>

      <h1 class="style1"> Access Denied </h1>
      <p class="style3">Your user ID or password is incorrect, or you are not a
         registered user on this site. To try logging in again, click
         <a href="<?=$_SERVER['PHP_SELF']?>">here</a>. To access, please contact our Admin !</a>.</p>
      </body>
      </html>
      <?php
      exit;
    }

    $username = mysql_result($result,0,'fullname');
    $_SESSION['user'] = mysql_result($result,0,'userid');
    ?> 
```

db.php：

```
 <?php // db2.php this is only for accesscontrol.php

    $dbhost = 'localhost';
    $dbuser = 'exceltron';
    $dbpass = '********';

    function dbConnect($db='') {
        global $dbhost, $dbuser, $dbpass;

        $dbcnx = @mysql_connect($dbhost, $dbuser, $dbpass)
            or die('The site database appears to be down.');

        if ($db!='' and !@mysql_select_db($db))
            die('The site database is unavailable.');

        return $dbcnx;
    }
    ?> 
```

常见的.php

```
 <?php // common.php

    function error($msg) {
        ?>
        <html>
        <head>
        <script language="JavaScript">
        <!--
            alert("<?=$msg?>");
            history.back();
        //-->
        </script>
        </head>
        <body>
        </body>
        </html>
        <?
        exit;
    }
    ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:07:50.243

打开错误报告并查看错误日志并检查 phpinfo() 那里有什么有趣的。

# javascript - 基本 href url 打破了 fancybox 的锚点

> ID：15082918
> 
> 赞同：0
> 
> 时间：2013-02-26T06:40:02.483
> 
> 标签：javascript, jquery, html, joomla, fancybox

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T10:32:27.550

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-04T19:07:35.830

如果有人仍然发生这种情况。实际上，将 base href 与 fancybox 一起使用是有冲突的。

Fancybox 中有一个检查，查看`href`单击的元素的 并检查`#`符号，如果发现它将类型设置为内联。

[https://github.com/fancyapps/fancyBox/blob/master/source/jquery.fancybox.js#L303](https://github.com/fancyapps/fancyBox/blob/master/source/jquery.fancybox.js#L303)

这在不使用的情况下也可以正常工作`<base href>`，但是如果你使用它，那么该`href`属性将返回带有哈希的完整 url，因此查找的检查`href.charAt(0) === '#'`将失败，因为第一次聊天不再是`#`，而可能是一个 h。

也许与其检查`charAt(0) === '#'`它，不如只寻找 a`#`并进行拆分。

# php - Codeigniter，如何在 foreach 中存储来自查询的值

> ID：15082928
> 
> 赞同：0
> 
> 时间：2013-02-26T06:40:31.020
> 
> 标签：php, sql, codeigniter

我有这样的代码

```
$this->load->model("m_crud");
$test= $this->m_crud->get_querry; //this model already have query and result() to return
foreach($test as $retest)
   {
    echo $retest->primary_id;
    $test2=$this->db->query("select * from table2 where id='$retest");
    foreach($test2 as $retest2)
       {
         echo $retest2->name;
        }
   } 
```

**将所有这些代码放入“视图**”很容易，但我想使用 MCV 模型。我尝试使用这样的数组存储结果：

```
$data['test']=$test
foreach($test as $retest)
   {
    echo $retest->primary_id;
    $test2=$this->db->query("select * from table2 where id='$retest");
    $data['test2']=$test2
    foreach($test2 as $retest2)
       {
         echo $retest2->name;
        }
   }
$this->load->view("test_view",$data); 
```

我在视图中得到的是我从 的回声中具有相同的值，每个人的回声`$test2`应该是不同的`$test`

谢谢，对不起我的英语不好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:50:15.980

您可以在视图页面中使用

```
foreach($test2 as $newarray)
{
     foreach($newarray->result() as $row)
     {
           echo $row->columnnames;//
     }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:48:07.243

这很容易，这是一个例子

控制器方法

```
function getResult()
{
    $this->load->model('mymodel');
    $results    =   $this->mymodel->getRecords();
    $data['results']    =   $results;
    $this->load->view('myview',$data);
} 
```

模型方法

```
function getRecords()
{
    return $this->db->query("select * from table2 where id='$retest")->result_array();
} 
```

并查看

```
foreach($results as $row){
    echo $row['id'];
    echo '<br>';
    echo $row['othercolumn'];
} 
```

# ssl - 我在哪里可以获得所有流行的证书颁发机构的公钥

> ID：15082929
> 
> 赞同：0
> 
> 时间：2013-02-26T06:40:44.403
> 
> 标签：ssl, ssl-certificate, public-key, certificate-authority

从那里我可以得到流行的证书颁发机构公钥的列表。就像所有浏览器都带有证书颁发机构的预安装证书（公钥）一样。现在我正在准备 ssl 客户端，它将连接到不同的服务器，所以就像浏览器一样，我需要所有证书颁发机构的公钥来验证我正在连接的服务器。

请至少让我一眼就能获得证书颁发机构证书的地方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:24:23.990

Curl 提供了一个[脚本](http://curl.haxx.se/docs/caextract.html)来提取 Firefox 捆绑的 CA 证书。

# java - 如何从标准java代码调用android活动？

> ID：15082930
> 
> 赞同：0
> 
> 时间：2013-02-26T06:40:52.580
> 
> 标签：java, android, robotium

这是我使用robotium 测试android 计算器的示例测试项目。我想创建这个项目的 jar 文件，但是在创建它时，它显示如下错误：

```
"Error: Could not find or load main class TestMain". 
```

我认为它显示了这个错误，因为其中没有主类，即它找不到“ `public static void main(String args[])`”。我应该怎么做才能克服这个问题？

```
package com.testcalculator;

import com.jayway.android.robotium.solo.Solo;
import android.test.ActivityInstrumentationTestCase2;

@SuppressWarnings("unchecked")
public class TestCal extends ActivityInstrumentationTestCase2
{
    private static final String TARGET_PACKAGE_ID="com.calculator";
    private static final String LAUNCHER_ACTIVITY_FULL_CLASSNAME="com.calculator.Main";
    private static Class launcherActivityClass;
    static
    {
        try
        {
            launcherActivityClass=Class.forName(LAUNCHER_ACTIVITY_FULL_CLASSNAME);
        }
        catch (ClassNotFoundException e)
        {
            throw new RuntimeException(e);
        }
    }
    public TestCal()throws ClassNotFoundException
    {
        super(launcherActivityClass);
    }

    private Solo solo;

    @Override
    protected void setUp() throws Exception
    {
        solo = new Solo(getInstrumentation(),getActivity());
    }
    public void testDisplayBlackBox() 
    {
        solo.enterText(0, "10");

        solo.enterText(1, "20");

        solo.clickOnButton("Multiply");

        assertTrue(solo.searchText("200"));
    }
    @Override
    public void tearDown() throws Exception 
    {
        solo.finishOpenedActivities();
    }
} 
```

# android - 如何使用字符串数组？

> ID：15082933
> 
> 赞同：1
> 
> 时间：2013-02-26T06:41:08.303
> 
> 标签：android

这可能是一个愚蠢的问题，但是您如何使用字符串数组？

我正在尝试做这样的事情，但我的应用程序会在启动时崩溃。

```
String names [] = null ; 

    names[0]= "I am";
    names[1]= "Ammar";

    Toast.makeText(getApplicationContext(), names[1] , Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:42:28.527

您必须创建数组，就像任何其他数组一样

```
String names[] = new String[size]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:49:50.497

数组遵循内存静态分配的概念，因此您必须在使用它之前定义需要多少内存或大小。

`String[] names = new String[10];`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:43:15.303

你应该定义数组大小。

`String name[] = new String[2];`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T06:44:03.317

您可以使用 ：

```
String[] names = new String[2];

names[0] = "I am";
names[1]= "Ammar";

    Toast.makeText(getApplicationContext(), names[1] , Toast.LENGTH_SHORT).show(); 
```

可能是因为您没有为字符串数组分配内存而出错。您已将 null 分配给数组，这就是应用程序崩溃的原因。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-26T06:45:42.713

```
String[] names = { "I am", "Ammar" }; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-26T06:47:21.377

这是对象实例化的标准问题。如果你要定义一个引用，你必须要么将它指向一个已经存在的对象，要么**使用**`new`关键字创建一个对该对象的新引用。

前任：

```
[Class] x = new [Class]() 
```

`[Class]`您要实例化/使用的对象在哪里。

每当创建对象引用但未实例化时，该对象**将**被初始化为 null。

前任：

```
[Class] x; 
```

在这一行之后， x 将为空，因为它没有有效的对象引用（无论是否新）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-26T06:42:47.360

尝试更换

```
String names [] = null ; 
```

和

```
String names[] = new String[2]; 
```

# django - 通过 url 为编辑部分传递参数并在视图中取回它

> ID：15082936
> 
> 赞同：0
> 
> 时间：2013-02-26T06:41:24.783
> 
> 标签：django

![在此处输入图像描述](../Images/c9139c0a04e6d6f5284d787ad711184f.png)如何从 url 中获取 id 在这里请指导某人。单击编辑后，它将接近供应商定义...我的数据库中有 10 条记录。单击模板中每条记录的编辑选项后，它应该显示特定的单个记录详细信息。但是在单击编辑选项后，我将面临 url 的索引页面。

我的意见.py

```
def vendor(request):
key = request.GET.get('id')
obj = vender.objects.get(id = key)
return  render_to_response('edit_vendor.html',  
    {'obj':obj},context_instance=RequestContext(request)) 
```

在模板中我像这样传递 id

```
 <a href ='vendor/id={{vendor.id}}'> edit </a> 
```

当我单击编辑选项时，我能够在 url 中看到 id
我的 url 是

```
url(r'^vendor/(\id+)/$',vendor ), 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:55:59.053

```
def vendor(request, id):
    obj = get_object_or_404(vender, pk=id)
    ...........

<a href ='vendor/{{vendor.id}}/'> edit </a>

url(r'^vendor/(?P<id>\d+)/$',vendor ), 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T07:01:09.737

Django 让这种类型的事情对你来说更容易。

在您的 urls.py 中：

```
(r'^vendor/(?P<vendor_id>\d+)/$', 'vendor', name='vender_detail'), 
```

在您看来：

```
def vendor(request, vendor_id = None, *args, **kwargs): 
```

在您的模板中：

```
<a href ='{% url "vendor_detail" vendor.id %}'> edit </a> 
```

这假设 Django 1.5。

如果您使用的是 1.4，请在模板中执行此操作：

```
<a href ='{% url vendor_detail vendor.id %}'> edit </a> 
```

使用`url`模板标签是将模板与 URL 模式分离的好方法，允许您更改 URL 结构而无需返回并编辑所有模板。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:57:24.377

在模板中：

```
<a href ='vendor/{{vendor.id}}/'> edit </a> 
```

在`urls.py`：

```
(r'^manage_vendor/vendor/(?P<vendor_id>\d+)/$', 'vendor'), 
```

在`views.py`：

```
def vendor(request, vendor_id = None):
    print vendor_id 
```

# wordpress - 如何显示 wordpress 中使用的模板

> ID：15082939
> 
> 赞同：0
> 
> 时间：2013-02-26T06:41:38.357
> 
> 标签：wordpress

如何让 Wordpress 显示正在处理哪个模板文件以生成输出页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:37:56.070

要获取当前页面模板，您应该使用：

```
get_page_template(); 
```

在此处查看更多信息：[get_page_template()](http://codex.wordpress.org/Function_Reference/get_page_template)

要获取当前的 WordPress 主题模板，您应该使用[wp_get_theme()](http://codex.wordpress.org/Function_Reference/wp_get_theme)函数。

```
$current_theme = wp_get_theme();
echo $my_theme->Name; 
```

# android - 将 Android 应用程序连接到 GPS 设备

> ID：15082940
> 
> 赞同：2
> 
> 时间：2013-02-26T06:41:38.623
> 
> 标签：android, mobile, gps

我正在构建一个嵌入谷歌地图的安卓应用程序。

这个应用程序应该在地图上显示一个地区的许多公共汽车。

我知道我需要在公交车上安装 GPS 设备，然后将每个设备连接到我的应用程序。

我的问题是；如何*将***android 应用程序**连接到GPS**设备**？

真的需要资料。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:43:45.000

你不会，直接。您可以让 GPS 设备通过网络服务通过 Internet 向中央服务器报告。然后，您将有第二个网络服务将该数据提供给请求它的 Android 设备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T08:33:40.410

您必须有一种机制，通过该机制，每辆巴士中的 gps 单元会定期将其位置发送到您的巴士轨道应用程序所在的设备。

在 A-GPS（辅助 GPS）中有一个网络发起案例，您的应用程序可以将位置请求发送到各个单元，并且在接收到它们的位置后，您的应用程序可以显示它。您的 GPS 装置必须为此联网。它有点类似于在许多社交网络中，您的设备请求并检索朋友的位置的用例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:48:42.080

通常，您的 Android 设备将包含一个 GPS 芯片，可以按照[此处所述](http://developer.android.com/guide/topics/location/index.html)轻松访问- 只需使用几个类和一个清单条目以允许位置访问。

我不知道是否实际支持任何外部（USB OTG，我假设）设备。如果有的话，知道会很酷。

# spring-security - Spring 安全性和 API 版本控制

> ID：15082942
> 
> 赞同：1
> 
> 时间：2013-02-26T06:41:44.037
> 
> 标签：spring-security, jersey

我正在 Jersey RESTful 应用程序之上使用 Spring Security 构建身份验证层。Jersey 应用程序是一个“版本化”的 API，它基于`Content-Type`.

我的问题是：由于不同的 API 版本会有不同的身份验证机制，那么在 Spring Security 中处理这个问题的最佳方法是什么？我应该`AuthenticationFilter`为每种身份验证机制设置不同的吗？我是否应该在 Spring Security 层构建知识，`AuthenticationFilter`每个版本应该应用哪个 ( `Content-Type`)？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:50:28.653

您可以为不同的 API 版本定义不同的过滤器链，并根据请求`RequestMatcher`的标头使用 a 进行匹配。`Content-Type`

```
<bean id="apiV1Matcher" class="org.springframework.security.web.util.ELRequestMatcher">
    <constructor-arg value="hasHeader('Content-Type','<pattern for api v1>')"/>
</bean>

<bean id="apiV2Matcher" class="org.springframework.security.web.util.ELRequestMatcher">
    <constructor-arg value="hasHeader('Content-Type','<pattern for api v2>')"/>
</bean>

<security:http request-matcher-ref="apiV1Matcher" ...>
    <!-- config for api v1 requests -->
</security:http>

<security:http request-matcher-ref="apiV2Matcher" ...>
    <!-- config for api v2 requests -->
</security:http> 
```

如果这导致过多的重复，请不要使用命名空间配置并尽可能在过滤器链之间共享 bean。

# c++ - 为什么 std::sort 比手工编码的“introsort”更快？

> ID：15082949
> 
> 赞同：-3
> 
> 时间：2013-02-26T06:42:23.407
> 
> 标签：c++, c, algorithm, sorting, introsort

我使用快速排序、堆排序实现了 introsort。我的手工编码版本基于 D. Musser 的建议，递归深度切换到作为参数传递的堆排序，中位数为 3 枢轴选择。切换到简单插入排序的元素阈值为 16。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:52:27.420

gcc 和 Microsoft 的 VisualC++ 都提供了 std::sort 的源代码（在头文件算法中）。所以，你可以自己看看。我以前研究过类似的问题。我的结论是，代码针对通用代码路径进行了优化，甚至使代码更加复杂和难以维护。对我来说有意义的权衡。

# iphone - 如何检测用户是否为我的应用启用了 iCloud？

> ID：15082959
> 
> 赞同：7
> 
> 时间：2013-02-26T06:42:46.033
> 
> 标签：iphone, ios, ipad, ios6, icloud

我开发了一个支持 iCloud 的 iPhone 应用程序，但我面临的问题是，即使用户关闭了我的应用程序的 iCloud 备份，它也会在 iCloud 上备份并反映我的其他设备上的更改，所以我想知道如何我可以知道我的应用程序是否启用了 iCloud。

它专门用于应用程序而不是设备，如果设备启用了 iCloud 但我的应用程序已关闭，那么它不应该进行任何备份。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-06-03T06:09:50.207

如果您使用的是键值而不是文档存储，我建议您使用它。

```
id iCloudToken = [[NSFileManager defaultManager] ubiquityIdentityToken];
if ( iCloudToken != nil) {
// User has enabled icloud in your app...
} else {
// Icloud is not enabled for your app...
} 
```

现在我推荐上述方法的原因是，在新的 Xcode 编译器中，您现在可以决定是否要使用文档存储。如果您选择仅使用键值存储，则 NSFileManager 检查将失败，因为您不会在权利中定义容器标识符。但是，如果用户允许您的应用程序运行，则 ubiquityIdentityToken 将始终存在，这意味着如果用户允许您的应用程序访问 iCloud，它将始终触发 true 或 false。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:52:00.010

请使用它来检查您的 iCloud 的状态是否已启用。

```
NSFileManager *fileManager = [NSFileManager defaultManager]; 
NSURL *iCloudURL = [fileManager URLForUbiquityContainerIdentifier:nil]; 
NSLog(@"%@", [iCloudURL absoluteString]); 

if(iCloudURL){ 
NSUbiquitousKeyValueStore *iCloudStore = [NSUbiquitousKeyValueStore defaultStore]; 
[iCloudStore setString:@"Success" forKey:@"iCloudStatus"]; 
[iCloudStore synchronize]; // For Synchronizing with iCloud Server 
NSLog(@"iCloud status : %@", [iCloudStore stringForKey:@"iCloudStatus"]); 
} 
```

这会告诉你它是开/关:)

# javascript - 剑道 ui 自动完成中的数据源没有被刷新

> ID：15082961
> 
> 赞同：0
> 
> 时间：2013-02-26T06:42:47.590
> 
> 标签：javascript, kendo-ui

我正在使用剑道自动完成，因为我将数据远程绑定到数据源。每次我将数据绑定到剑道数据源时，它都不会清除或刷新数据源中的旧数据。以下是我正在使用的代码

```
$("#input3").kendoAutoComplete
({
    dataSource:new kendo.data.DataSource({

        cache: false,
        read:getPackage(document.getElementById('input3').value),
        data:pkg

    }),
    select: function(e) {
        var dataItem = this.dataItem(e.item.index());
    },
    filter: "startswith",
    placeholder: "Select Package..."
});

function getPackage(req) 
{
    $.ajax
    ({
        url: 'BookingCity.asmx/GetAllCountryforPackage',
        contentType: 'application/json; charset=utf-8',
        type: 'POST',
        dataType: 'json',
        async: false,
        cache: false,
        data:"{'prefixText':'"+ req +"','id':'" + document.getElementById('cityName2').value+ "'}", 
        success: function(response) {
            pkg=response.d
        },

        error: function(xhr, status) {
            alert(status)
        }

    });//ajax
} 
```

谁能告诉我如何清除该数据源中的旧数据的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T19:01:03.640

DataSource的[data](http://docs.kendoui.com/api/framework/datasource#data)方法可用于设置数据。要使其为空，您需要传递一个空的 JavaScript 数组：

```
var autoComplete = $("#input3").data("kendoAutoComplete");
autoComplete.dataSource.data([]); 
```

# c# - 处理列表的扩展方法不起作用

> ID：15082967
> 
> 赞同：2
> 
> 时间：2013-02-26T06:43:07.997
> 
> 标签：c#, oop, extension-methods, dispose, idisposable

我编写了一个简单的扩展方法来处理列表中的所有项目：

```
public static void Dispose(this List<IDisposable> list) {
    for (int i = 0, il = list.Count; i < il; i++) {
        list[i].Dispose();
    }
    list.Clear();
} 
```

但是当我尝试使用它时，VS IntelliSense 并没有在下拉列表中列出它，并且在编译时找不到该方法。我如何使它工作？

```
List<Bitmap> bitmaps = new List<Bitmap>();
bitmaps.Dispose(); // Error: List<Bitmap> does not contain a definition for Dispose() 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T06:48:39.863

试试这个：

```
public static void Dispose<T>(this List<T> list) where T : IDisposable {
    for (int i = 0, il = list.Count; i < il; i++) {
        list[i].Dispose();
    }
    list.Clear();
} 
```

快速解释：A`List<Bitmap>`是位图列表，而不是 IDisposable 列表，即使位图本身是 IDisposable。然而，位图列表是 T 的列表，或者更准确地说：T 的列表，其中 T 实现了 IDisposable。所以编译器很乐意接受上述扩展方法。

进一步（只是因为这是一个很好的例子）：

`List<T>`据说它的类型参数是不变的。因此，不允许进行以下分配，并且会产生编译器错误：

```
List<IDisposable> l = new List<Bitmap>(); 
```

以下类型转换也不是：

```
List<Bitmap> lb = new List<Bitmap>();
List<IDisposable> ld = (List<IDisposable>)lb; 
```

但是，如果您使用的是 .NET 4（其中引入了类型参数的变化）并且您使用带有协变类型参数的泛型类型（例如`IEnumerable<out T>`），则以下类型转换变得有效：

```
List<Bitmap> lb = new List<Bitmap>();
IEnumerable<IDisposable> ld = lb; 
```

并且确实为您隐式完成。在这种情况下，以下扩展方法也可以工作：

```
// In a static class:
public static void Dispose(this IEnumerable<IDisposable> e) {
    foreach(var x in e) {
        x.Dispose();
    }
}

// Somewhere else:
List<Bitmap> l = new List<Bitmap>();
l.Dispose(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T06:49:44.013

`List<Bitmap>`不是`List<IDisposable>`尝试：

```
public static void Dispose<T>(this List<T> list) where T : IDisposable 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-02-26T06:47:55.767

您必须将`List<Bitmap>`转换为`List<IDisposable>`才能使用此扩展方法。

# iphone - 位置状态栏图标不会消失 - MKMapView - iOS 6.1

> ID：15082969
> 
> 赞同：0
> 
> 时间：2013-02-26T06:43:12.800
> 
> 标签：iphone, ios, objective-c, core-location

我有一个包含一个实例的类`MKMapView`

```
@property(nonatomic, weak) IBOutlet MKMapView *ibMapView; 
```

虽然我`CLLocationManager`在项目的其他地方也使用了单例实例，但我发现这个地图视图负责 iPhone 状态栏上显示的“位置”图标。

具体来说，这段代码是罪魁祸首：

```
- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];

    // If I comment out this line below, the "Location" status icon never shows, as expected 
    self.ibMapView.showsUserLocation = YES;

    // ...other magical stuff happens here, not related to map view
} 
```

我试过`showsUserLocation`这样设置为 NO

```
- (void)viewWillDisappear:(BOOL)animated
{
    [super viewWillDisappear:animated];
    self.ibMapView.showsUserLocation = NO;

    // I also have tried logging to make sure showUserLocation is set to NO- returns "NO" as expected
    DebugLog(@"Show User Location: %@", self.ibMapView.showsUserLocation ? @"YES" : @"NO");

    // ...other stuff happens here, not related to map view...
} 
```

但是，位置状态图标仍然显示...它永远不会关闭，即使经过一个小时后...

如何让在实例上设置`showUserLocation`为 YES导致的位置状态图标消失？`MKMapView`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:39:21.620

事实证明，这是 Apple 框架中某处的错误......

请参阅此问题和选择的答案以获取解决方案：

[调用 stopUpdatingLocation 后，位置指示符在状态栏上仍然存在，但仅适用于旧的 Bundle Identifier](https://stackoverflow.com/questions/9710861/location-indicator-persists-on-status-bar-after-stopupdatinglocation-is-called)

本质上，如果您**重置位置和隐私**（设置 -> 常规 -> 重置 -> 重置位置和隐私），这可以解决问题（只要您还确保`showsUserLocation`在完成后设置为 NO）。

# java - Android 2.3 设备上的 USB 主机开发

> ID：15082973
> 
> 赞同：1
> 
> 时间：2013-02-26T06:43:33.413
> 
> 标签：java, android

我刚得到一个具有两个物理 USB 主机端口的开发套件，并且 Android 规范说它支持 USB 主机，我对此感到好奇，因为 USB 主机是在 Android 3.1 中引入的，而我的套件只有 Android 2.3

这是否意味着我可以使用此处描述的 API：

[http://developer.android.com/guide/topics/connectivity/usb/host.html](http://developer.android.com/guide/topics/connectivity/usb/host.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:52:15.250

不，您不能在**Android 2.3中使用 USB 主机 API，因为****Android 3.1 及更高版本**支持 USB 主机模式。即使在其中一些设备中，我的意思是某些 Android 3.1 将需要 root 访问权限才能在 USB 主机模式下使用它们。

# ios - 如何重新加载父视图

> ID：15082991
> 
> 赞同：1
> 
> 时间：2013-02-26T06:44:40.343
> 
> 标签：ios, cocoa-touch

关闭视图后如何更新父`UIModalPresentationFormSheet`视图。如果我使用普通视图，我可以重新加载我的父视图。仅在`UIModalPresentationFormSheet`. 请帮我。谢谢

```
 navigationController.modalPresentationStyle  = UIModalPresentationFormSheet; 
```

如果我使用

```
navigationController.modalPresentationStyle  = UIModalPresentationFullScreen; 
```

我只能在 UIModalPresentationFormSheet 中刷新父 tableview.Issue 但我需要使用 UIModalPresentationFormSheet 进行弹出视图。请帮我。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:14:37.617

IMO最简单的方法：

```
//FormController.h

@protocol FormDelegate;

@interface FormController : UIViewController 
...
@property (nonatomic, assign) id <FormDelegate> delegate;
...
@end

@protocol FormDelegate
-(void)didDismissForm;
@end

//MainViewController.h

#import "FormController.h"    
@interface MainViewController : UIViewController <FormDelegate>
... 
```

在创建（或执行 segue）FormController 时设置委托。
解除委托时调用委托方法。在 MainViewController 中实现委托方法。

```
-(void)didDismissForm {
   [self.tableView reloadData]; 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-28T18:38:27.870

您应该委托 PresentModalView 的 parentView 并应该在 PresentModalView 的 viewWillDisappear 上调用 referesh 方法。

否则，您可以尝试推送通知并在 parentView 中观察。

```
 - (void) refreshMyParentViewController{
     NSNotificationCenter *center = [NSNotificationCenter defaultCenter];
     [center postNotificationName:@"RefreshNeeded" object:self userInfo:refreshData];
} 
```

//在ParentViewController--AddObserver中检测数据。// 还有你要调用的方法。

```
[[NSNotificationCenter defaultCenter] addObserver:self 
                                             selector:@selector(delegateMethod:) 
                                                 name:@"RefreshNeeded" object:nil];

- (void)delegateMethod:(NSNotification *)notification {
      NSLog(@"%@", notification.userInfo);
      NSLog(@"%@", [notification.userInfo objectForKey:@"RefreshObject"]);    
}

   [[NSNotificationCenter defaultCenter] addObserver:self 
                                                 selector:@selector(delegateMethod:) 
                                                     name:@"RefreshNeeded" object:nil];

    - (void)delegateMethod:(NSNotification *)notification {
          NSLog(@"%@", notification.userInfo);
          NSLog(@"%@", [notification.userInfo objectForKey:@"RefreshObject"]);    
    } 
```

# jquery - :not() 无法使用较新的 jQuery 处理 $('body')

> ID：15082992
> 
> 赞同：0
> 
> 时间：2013-02-26T06:44:45.117
> 
> 标签：jquery

我有一个页面，它曾经使用一个类来禁用触发器，直到页面被大量加载。示例剪辑：

* * *

```
$('body').addClass('disable');

// mark unsaved changes
$('body:not(.disable)').on('change', '.CE', function(ev) {
    // mark_if_changed() is at the bottom of this file
    mark_if_changed($(this));
}); 
```

*[...在不触发触发器的情况下加载大部分动态内容...]*

```
$('body').removeClass('disable'); 
```

* * *

触发器的目的是在修改具有 CE 类的字段时更新数据库。使用上述方法，它不起作用。

如果我删除“:not(.disable)”，更改会更新——但在初始页面加载期间会调用很多不必要的回调。

使用 jQuery 1.7，它使用 .live() 工作。对于 1.9，它不工作，使用 .on()。我可以删除 :not() 并测试以查看“禁用”是否是类属性的成员，但这感觉就像是用胶带粘住问题而不是修复它。

[https://dragonstone-mill.com/tabbed.html](https://dragonstone-mill.com/tabbed.html)是我使用它的页面。

在 $(document).ready() 之后以有序的方式调用上述所有内容，请参阅 tabbed.html 中的 ~ln:103，它加载了函数和绑定。

有更好/更正确的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T16:38:17.673

您的事件处理程序设置不太正确。

而不是这个：

```
$('body:not(.disable)').on('change', '.CE', function(ev) { 
```

试试这个：

```
$(document).on('change', 'body:not(.disable) .CE', function(ev) { 
```

现在，您正在检查*附加事件处理程序时是否*禁用了正文。无论如何，您都想附加事件处理程序，但只有在您的选择器匹配时才*运行它。*尝试一下，看看它是否按预期工作。

# python - 在 2 级列表中形成所有可能的字符串

> ID：15082994
> 
> 赞同：1
> 
> 时间：2013-02-26T06:45:05.843
> 
> 标签：python

我有一个像这样的两级列表：

```
[['Demonstrative-Pronoun', 'Personal-Pronoun', 'Adjective', 'Noun', 'Noun', 'Indefinite-Pronouns'], ['Verb', 'Adjective', 'Adverb', 'Noun', 'Noun'], ['Verb', 'Verb', 'Verb', 'Verb', 'Adjective', 'Noun', 'Noun', 'Verb'], ['Verb', 'Verb', 'Verb', 'Verb', 'Verb', 'Verb', 'Noun']] 
```

我想从这些列表中形成所有可能的字符串，例如：

1.  指示代词动词动词动词
2.  指示代词形容词动词动词等等

python中有没有更快的方法来做到这一点或任何快速的方法？这个列表是硬编码的，但它实际上可能包含任意数量的元素和子元素

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T06:47:16.723

用于`itertools.product`基本上制作一堆嵌套`for`循环：

```
import itertools

items = [...]

for grouping in itertools.product(*items):
    print ' '.join(grouping) 
```

这将为您提供所有 1680 种组合。

*来自评论*：“您可以用 map(set, items) 替换项目，它会删除重复项。这会将计数降至 120。”

# php - Magento 按名字搜索客户

> ID：15082998
> 
> 赞同：0
> 
> 时间：2013-02-26T06:45:20.600
> 
> 标签：php, e-commerce, magento-1.7

我正在创建一个 magento 扩展，我需要根据他们的名字搜索客户。我知道我可以在 sql 的帮助下做到这一点。但我想使用magento的客户模型来完成这项工作。

我已经使用了它，它返回一个包含所有用户的数组，但我想要的不是所有用户，而是符合条件的特定用户。

```
$collection = Mage::getModel('customer/customer')->getCollection()->addAttributeToSelect('*'); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T09:23:25.497

您必须[`addAttributeToFilter`](http://fishpig.co.uk/blog/addattributetofilter-conditionals-in-magento.html)使用像简单`WHERE`子句一样使用的方法，您也可以在其中使用通配符。

```
<?php
include 'app/Mage.php';
Mage::app();

$query = "John";

$model = Mage::getSingleton('customer/customer');

$result = $model->getCollection()
        ->addAttributeToSelect('*')
        ->addAttributeToFilter('firstname', array('like' => "%$query%"));

foreach($result as $r) 
{       
        $customer = $model->load($r->getId());
        echo '<b>'.$customer->getFirstname().' '.$customer->getLastname().'</b><br/>';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T07:15:52.327

`$c = Mage::getModel('customer/customer')->getCollection()->addAttributeToFilter('first_name', array('like' => $the_name_you_want_to_find))`