# StackOverflow 问答 15426000-15426999

# ios - 在 Xcode 中通过 IB 选择自定义字体

> ID：15426004
> 
> 赞同：1
> 
> 时间：2013-03-15T06:19:08.970
> 
> 标签：ios, xcode, uistoryboard

我阅读了许多教程，解释如何向 iOS 应用程序添加自定义字体。但在每个教程中，它都是通过代码完成的。我的意思是，如果我需要更改 10 个标签的字体，我必须为每个标签编写代码。我想知道有什么方法可以将自定义字体添加到我的项目中，然后从情节提要中选择该字体，我的意思是从标签对象的属性列表中选择。请帮我解决这个问题....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T10:06:05.603

这不能仅通过界面构建​​器来实现。但是，您可以创建自定义类的子类化`UILabel`。您按如下方式定义 .m 文件：

```
@implementation CustomLabel

-(void) awakeFromNib{

 [super awakeFromNib];
 self.font = [UIFont fontWithName:@"<your custom font's file name>" size: self.font.pointSize];

 //set other settings of the custom label here (colour, etc.)

}

@end 
```

然后在 .xib 文件中，每当您使用 a 时`UILabel`，将类设置为`CustomLabel`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-31T09:42:40.867

这可以在 Storyboard 或 Interface Builder 中使用非常简单的类别和用户定义的运行时属性来完成。

像这样的东西：

![运行时属性](../Images/db208906b20471d46f197b1b95502d65.png)

请检查[此响应](https://stackoverflow.com/a/15155081/469218)以获取有关如何实现它的更多详细信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T14:23:16.377

试试这个：

```
UIFont *font = [UIFont fontWithName:@"YourFontName(without Extension)" size:30.0f];
self.yourLabel.font=[font fontWithSize:28]; 
```

像这样在 projectname.plist 中添加字体名称

```
 Fonts provided by application ---->Array------>2(items)
   item0 --------->string----->urfontname with extension(ttf/otf) also
   item1 --------->string----->secondfont name with extension(ttf/otf) also 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-22T06:45:48.580

这现在可以通过 Xcode 6 中的 Interface Builder 来完成。

现在，当您向项目添加自定义字体并确保在目标设置中正确设置后，您应该在常规字体选择器中看到您的字体。只需选择字体 > 自定义、系列 > 您的自定义字体应在此处列出。

在 beta5 中选择字体后，我目前有一个错误，但这是如何做到的。我只为这个特性安装了 Xcode 6（比在任何地方以编程方式定义它要方便得多）。

# objective-c - 根据标签号选择标签栏项目

> ID：15426008
> 
> 赞同：1
> 
> 时间：2013-03-15T06:19:19.637
> 
> 标签：objective-c, tabs

我有一个有 7 个标签栏项目的应用程序。在某些时候，我想以编程方式单击选项卡栏项目中的 1 个。每个标签栏项目都有一个唯一的标签号。我想做这样的事情：

`[self.tabBarController setSelectedTag:9];` 或者获取标签号为 9 的标签栏项目的索引，以便我可以在`[self.tabBarController setSelectedIndex:index]`. 我找不到任何解决方案。谁能帮帮我吗。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:24:04.580

只需遍历视图控制器以找到带有您需要的标签的控制器，然后选择它。像这样的东西...

```
// find the view controller
UIViewController* viewControllerToSelect;
for(UIViewController* vc in self.tabController.viewControllers) {
  if (vc.tag == tagToFind) {
    viewControllerToSelect = vc;
    break;
  }
}

// select it
self.tabController.selectedViewController = viewControllerToSelect; 
```

有更优雅的搜索方式，使用谓词 - 但上面应该可以解决问题。

# excel - Excel VBA 打开第一个返回的谷歌页面 - 奇怪的行为

> ID：15426013
> 
> 赞同：1
> 
> 时间：2013-03-15T06:19:37.470
> 
> 标签：excel, vba

我正在使用 excel VBA 打开谷歌结果的第一个返回页面。从第一页开始，我根据元素 ID 操作数据。在执行此过程时，我遇到了一个非常奇怪的行为。

让我简要概述一下我正在尝试做的事情。

我将在用户表单中输入名字和姓氏。对于给定的名字和姓氏，我将搜索linkedin 个人资料。

例如，如果名字是 Sachin，姓氏是 Tendulkar，我将使用 VBA 将搜索词作为**Sachin Tendulkar linkedin**传递给 google。对于返回的搜索结果，我将打开第一个搜索结果页面并尝试获取linkedin 的个人资料数据。

到目前为止，我的代码如下。

```
Private Sub CommandButton1_Click()
Dim ie As InternetExplorer
Dim RegEx As RegExp, RegMatch As MatchCollection
Dim MyStr As String
Dim pDisp As Object
Dim FirstName As String
Dim LastName As String
Dim sample As String
Set ie = New InternetExplorer
Set RegEx = New RegExp
Dim iedoc As Object
Dim openedpage As String
Dim inpagestrt, inpageend As Integer
Dim returnstatement As String
Dim detailname, locationdetails, profileexperience, profilecontact
Dim overview,skillslist, profilelanguages, profileeducation, publicgroups
detailname = ""
returnstatement = ""
locationdetails = ""
profileexperience = ""
profilecontact = ""
overview = ""
skillslist = ""
profilelanguages = ""
profileeducation = ""
publicgroups = ""

FirstName = TextBox1.Value
LastName = TextBox2.Value
ie.Navigate "http://www.google.com/search?hl=en&q=" & FirstName & "+" & LastName & "+linkedin&meta="
Do Until ie.ReadyState = READYSTATE_COMPLETE
Loop
MyStr = ie.Document.body.innerText
Set RegMatch = RegEx.Execute(MyStr)

'If a match to our RegExp searchstring is found then launch this page
If RegMatch.Count > 0 Then
ie.Navigate RegMatch(0)
Do Until ie.ReadyState = READYSTATE_COMPLETE
Loop
'****************************************
'EDITS
'****************************************
Set iedoc = ie.Document
Dim extractedHTML As String
Dim iStart, iEnd As Integer
extractedHTML = iedoc.getElementById("search").innerHTML
iStart = InStr(1, extractedHTML, "href=", vbTextCompare) + Len("href=") + 1
iEnd = InStr(iStart, extractedHTML, Chr(34), vbTextCompare)
'extract the text
extractedHTML = Mid(extractedHTML, iStart, iEnd - iStart)
'go to the URL
ie.Navigate extractedHTML
Set iedoc1 = ie.Document
'MsgBox iedoc1
On Error GoTo ErrHandler:
openedpage = iedoc1.getElementById("name").innerText
detailname = "NAME:" & vbCrLf & FirstName + " " + LastName
MsgBox ""
openedpage = ""
openedpage = iedoc1.getElementById("headline").innerText
'On Error GoTo ErrHandler:
MsgBox "LOCATION DETAILS:" & vbCrLf & openedpage
locationdetails = openedpage + vbCrLf
MsgBox locationdetails
openedpage = iedoc1.getElementById("profile-experience").innerText
profileexperience = openedpage + vbCrLf
openedpage = iedoc1.getElementById("profile-contact").innerText
profilecontact = openedpage + vbCrLf
openedpage = iedoc1.getElementById("overview").innerText
overview = openedpage + vbCrLf
openedpage = iedoc1.getElementById("skills-list").innerText
skillslist = openedpage + vbCrLf
openedpage = iedoc1.getElementById("profile-languages").innerText
profilelanguages = openedpage + vbCrLf
openedpage = iedoc1.getElementById("profile-education").innerText
profileeducation = openedpage + vbCrLf
openedpage = iedoc1.getElementById("pubgroups").innerText
publicgroups = openedpage + vbCrLf
returnstatement = locationdetails + profileexperience + profilecontact + overview + skillslist + profilelanguages + profileeducation + publicgroups
MsgBox returnstatement

ErrHandler:
   openedpage = "NULL"
 Resume Next

'****************************************
'End EDITS
'****************************************

Else
MsgBox "No linkedin profile found"
End If

Set RegEx = Nothing
Set ie = Nothing
End Sub 
```

最奇怪的是，当我注释第 59 行时，我的位置详细信息返回为 NULL。但是，如果我有该消息框，则位置详细信息将正确返回。我尝试使用变量而不是消息框，但位置详细信息对于所有场景都变为 NULL，除非我使用消息框。

```
openedpage = iedoc1.getElementById("name").innerText
detailname = "NAME:" & vbCrLf & FirstName + " " + LastName
**MsgBox ""** (If i comment it out, location details becomes NULL. If it is uncommented, location details value is correct. 
openedpage = ""
openedpage = iedoc1.getElementById("headline").innerText
'On Error GoTo ErrHandler:
**MsgBox "LOCATION DETAILS:" & vbCrLf & openedpage**
locationdetails = openedpage + vbCrLf
MsgBox locationdetails 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:17:46.220

我认为您的宏需要一些额外的时间来加载所有（或一些额外的）数据。如果你有你的 MsgBox，你无意中在你找到并关闭你的 MsgBox 之前给了这个过程一些时间。

如果您放置其他类型的“等待”点（例如`Application.Wait`or `Do...Loop`）而不是 MsgBox 会怎样。请让我们知道结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T12:03:57.990

Internet Explorer 需要一些时间来加载和呈现页面。添加一行

```
Do While ie.Busy : WScript.Sleep 100 : Loop 
```

指令后`ie.Navigate extractedHTML`。加载第一页时，您已经在做类似的事情：

```
ie.Navigate "http://www.google.com/search?hl=en&q=" & FirstName _
  & "+" & LastName & "+linkedin&meta="
Do Until ie.ReadyState = READYSTATE_COMPLETE
Loop 
```

尽管您也应该在那里添加睡眠指令。

# html - 如何在jsp中将纯文本表示为html文本？

> ID：15426030
> 
> 赞同：0
> 
> 时间：2013-03-15T06:20:42.367
> 
> 标签：html, jsp, struts

我正在使用 struts 1.3 开发应用程序。我有需要将属性值表示为 html 文本的要求。我有一个名为 commentText 的属性，它是字符串类型，我正在使用打印属性值`<bean:write>`

```
<td width="8%"><span class="formlabel">
    <bean:message key="ui.jsp.dashboard.news.showNews.button.message" />
</td>
<td width="80%">
  :&nbsp;&nbsp;<bean:write name="record" property="commentText" />
</td> 
```

如何将此纯文本表示为 html 文本？

欢迎任何建议，

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:26:07.467

如果它是一个简单的字符串类型的文本放在 [span 标签之间](http://www.w3schools.com/tags/tag_span.asp)

```
 <span>:&nbsp;&nbsp;<bean:write name="record" property="commentText" /></span>. 
```

并且更好地使用`JSTL`

```
<c:out value="YourNormalStringHere" escapeXml="false"/> 
```

# playframework-2.1 - 路线中未使用的可变部分？

> ID：15426038
> 
> 赞同：3
> 
> 时间：2013-03-15T06:21:17.833
> 
> 标签：playframework-2.1

我正在使用播放！框架 2.1（Java 版本）。我有一条看起来像这样的路线：

[http://www.mydomain.com/games/52/super-mario-bros](http://www.mydomain.com/games/52/super-mario-bros)

“超级马里奥兄弟”部分是任意的，仅出于 SEO 目的而添加。只需要对应于该游戏的 ID 的 52。

问题是我似乎无法找到一种在路线中具有任意值的方法。我目前在我的 conf/routes 文件中有：

```
GET       /games/:id/:title       controllers.Games.viewGame(id: Long, title: String) 
```

这可行，但现在我必须在我的 Games 控制器内的“viewGame”方法中添加第二个参数，该方法永远不会被使用。我宁愿有一条看起来像这样的路线：

```
GET       /games/:id/:arbitrary      controllers.Games.viewGame(id: Long) 
```

有没有办法做到这一点？

# javascript - 按F5（刷新）后如何运行功能？

> ID：15426039
> 
> 赞同：1
> 
> 时间：2013-03-15T06:21:19.220
> 
> 标签：javascript, events, refresh, dom-events

我试图制作一些脚本来处理诸如“面板更改跟随 URLhash”之类的事件。我对按钮或链接上的事件没有问题，但刷新页面时出现问题。我的面板无法保持其值并自动重置。

我试图解决这样的刷新问题：

```
<script>
document.addEventListener('keydown', function(e) {
    if(e.which == 116) {
        window.alert("1234");
        var id = window.location.hash;
        changePanel(id);
    }
}, false);
</script> 
```

正如我向您展示的代码一样，`alert()`它可以正常工作，但`changePanel()` 不能正常工作。我想是因为`alert()`之前跑过`changePanel()`也刷新了。但是如果`changePanel()`它在刷新之前运行，那么在刷新之后所有更改都将重置为默认值。

`changePanel()`刷新后如何运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:23:12.630

它不起作用，因为按下`f5`页面后将刷新页面，因此新内容将出现在页面上，因此您的面板/选项卡被重置..

你可以试试你的代码

```
$(document).ready(
     var id = window.location.hash;
     changePanel(id);
); 
```

上面的代码将在刷新按钮后自动设置选项卡，您可以在按下按钮时保留这 2 行的相同代码，这样也适用于您的实时页面。:)

这对你有用。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-06T13:09:34.153

它非常适合我。

从你的 html 调用函数

```
<button type="button" name="button" onclick="loro()">fdthd</button> 
```

JS文件

```
function loro() {
  location.reload();
  localStorage.setItem("po", "momo");
}

$(window).on("load", function() {
if (localStorage.getItem("po") === "momo" ) {
  alert('Bien, ejecutaste el boton')
  localStorage.setItem("po", "lulu");
} else {
  alert('No has precionado el boton')
}

}); 
```

在刷新页面之前，我运行一个函数来保存“po”键中的“momo”值之后，我刷新页面并检查 PO 是否具有 momo 的值。根据我是否在刷新之前运行该功能，它将运行特定警报。

# wordpress - 使用 Powerpress 自动将 RSS 提要发送到 iTunes

> ID：15426046
> 
> 赞同：0
> 
> 时间：2013-03-15T06:22:09.563
> 
> 标签：wordpress, plugins, rss, itunes, podcast

我可以使用 Powerpress 自动将 Wordpress Podcast 的 RSS 提要发送到 iTunes 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-16T15:17:30.307

是的，但“发送”不是正确的术语。

以下是播客如何工作的快速解释：

您网站上的 XML 页面（例如 example.com/feed/podcast/）维护着您的博客文章/播客集的列表。然后使用这个唯一的 URL 提交到包括 iTunes 在内的播客目录。iTunes 和其他目录会每隔一段时间（iTunes 的情况下，它是每 4 小时）检查此 URL 以获取更新和更改。如果 iTunes 看到新内容，它将使新内容出现在 iTunes 播客目录中，通常在几个小时内。这个过程被更好地描述为“联合”。

WordPress 自动为博客提供 RSS 提要。PowerPress 所做的是为您提供仅播客的 RSS 提要，这是优化提要中的博客文章以仅用于播客消费所必需的。在一个完美的世界中，您可以为您的新闻订阅者使用博客订阅源（混合了您的博客文章和剧集），并为您的播客订阅使用仅播客订阅源。

# c - 查找指向 chars 数组的指针的索引

> ID：15426049
> 
> 赞同：3
> 
> 时间：2013-03-15T06:23:05.350
> 
> 标签：c, pointers

我正在使用这个 countof 宏

```
COUNT_OF(x) ((sizeof(x)/sizeof(0[x])) / ((size_t)(!(sizeof(x) % sizeof(0[x]))))) 
```

这给了我一个字符数组的大小，比如

```
char *ta[]={"asdf","qwer","zxcv"} 
```

但是当我在函数范围内使用它时它不起作用。

```
int indexof(char *aword, char *arrayofwords[]){
  int i; unsigned int ct=COUNT_OF(  (*???)  arrayofwords);
  for (i=0 ; i<ct ;i++){
    if (strcmp(aword,arrayofwords[i])==0){return i;}}
  return -1;//not found
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:28:25.777

`sizeof`被称为*编译时运*算符。它只能计算可以预先确定大小的对象的大小。因此，当您将指针传递给它时（数组在作为函数参数传递时退化为指针），您只需获得指针的大小。

一个典型的安排是用 NULL 指针结束列表。使用这样的列表，您的函数可以这样编写：

```
int indexof(char *aword, char *arrayofwords[]){
  int i;
  for (i=0 ; arrayofwords[i]!=NULL ;i++){
    if (strcmp(aword,arrayofwords[i])==0){return i;}}
  return -1;//not found
} 
```

这可能确实令人惊讶，因为以下确实有效：

```
#include <stdlib.h>

#define COUNT_OF(x) ((sizeof(x)/sizeof(0[x])) / ((size_t)(!(sizeof(x) % sizeof(0[x])))))

int main() {
char *ta[]={"asdf","qwer","zxcv"};
char *aword="qwer";
  int i; unsigned int ct=COUNT_OF(ta);
  for (i=0 ; i<ct ;i++){
    if (strcmp(aword,ta[i])==0){return i;}}
  return -1;//not found
} 
```

这是因为该数组是在应用于它`ta`的同一范围内定义的。`sizeof`由于在*编译时*`sizeof`执行计算，它可以使用编译器的符号表来准确地发现为每个部分分配了多少空间。

 *但是，当你将它传递给一个函数时，就编译器而言，它不再是一个数组。该`indexof`函数不能`sizeof`用来发现传递的数组的大小，因为在这个函数内部它不是一个数组，它只是一个指针（char ** == char *[] == char [][]）。

使用`COUNT_OF`宏的一种方法是`indexof`接受长度参数。然后您可以`COUNT_OF`在调用中使用（只要相关数组在范围内定义）。

```
#include <stdlib.h>

#define COUNT_OF(x) ((sizeof(x)/sizeof(0[x])) / ((size_t)(!(sizeof(x) % sizeof(0[x])))))

int main() {
char *ta[]={"asdf","qwer","zxcv"};
char *word="qwer";
  return indexof(word, ta, COUNT_OF(ta));
}

int indexof(char *aword, char *arrayofwords[], int length){

  int i; unsigned int ct=length;
  for (i=0 ; i<ct ;i++){
    if (strcmp(aword,arrayofwords[i])==0){return i;}}
  return -1;//not found
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:30:05.760

@majidaldosari：我想问题出在你的宏 **COUNT_OF(x) ((sizeof(x)/sizeof(0[x])) / ((size_t)(!(sizeof(x) % sizeof(0[x]) ））））**

应该是

**COUNT_OF(x) ((sizeof(x)/sizeof(x[0])) / ((size_t)(!(sizeof(x) % sizeof(x[0])))))***

# bison - 规则 18 和令牌 ADD 之间的冲突解决为 reduce (ADD < UMINUS)

> ID：15426053
> 
> 赞同：0
> 
> 时间：2013-03-15T06:23:27.183
> 
> 标签：bison, yacc, lex

我用野牛写了一个语法分析。我定义了一些优先级规则，例如：

```
%right EQUAL
%left OR AND
%left ADD SUB
%left MUL DIV MOD
%nonassoc UMINUS 
```

然后我像这样使用它们：

```
math
: math ADD math {$$ = math_add($1,$3);}
| math OR math {$$ = math_or($1,$3);}
| math AND math {$$ = math_and($1,$3);}
| math SUB math {$$ = math_sub($1,$3);}
| math MUL math {$$ = math_mul($1,$3);}
| math DIV math {$$ = math_div($1,$3);}
| math MOD math {$$ = math_mod($1,$3);}
| SUB math %prec UMINUS {$$ = math_unary_uminus($2);}
| PARENTHESIS math CLOSE_PARENTHESIS {$$ = $2;}
| literal {$$ =$1;}
| reference {$$ = $1;} 
```

运行，它会生成一个包含一些冲突的 .output 文件：

```
state 33 
11 math: math . ADD math
12     | math . OR math
13     | math . AND math
14     | math . SUB math
15     | math . MUL math
16     | math . DIV math
17     | math . MOD math
18     | SUB math .  [ADD, SUB, MUL, DIV, MOD, OR, AND, CLOSE_PARENTHESIS]

 $default  reduce using rule 18 (math)

 Conflict between rule 18 and token ADD resolved as reduce (ADD < UMINUS).
 Conflict between rule 18 and token SUB resolved as reduce (SUB < UMINUS).
 Conflict between rule 18 and token MUL resolved as reduce (MUL < UMINUS).
 Conflict between rule 18 and token DIV resolved as reduce (DIV < UMINUS).
 Conflict between rule 18 and token MOD resolved as reduce (MOD < UMINUS).
 Conflict between rule 18 and token OR resolved as reduce (OR < UMINUS).
 Conflict between rule 18 and token AND resolved as reduce (AND < UMINUS). 
```

我无法解决，请帮助我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T18:25:15.213

据推测，您使用包含报告`bison`的`-r all`选项（或）运行（“描述转移/解决冲突解决”）。这就是它正在做的事情：它描述了它如何通过使用您提供的优先规则来解决移位/解决冲突。`--report=all``solved`

换句话说，没有问题。

# storekit - SKPaymentTransactionStateFailed，但没有 NSError

> ID：15426056
> 
> 赞同：11
> 
> 时间：2013-03-15T06:24:04.453
> 
> 标签：storekit, in-app-purchase

我们有一个 IAP 硬币购买的应用程序。我们最近收到了一些用户的邮件，说他们无法购买任何硬币。我查看了他们的会话日志并看到了失败的 IAP 事件，每个事件都没有记录失败原因。以下是相关代码：

```
- (void)_purchaseRequestFailed:(SKPaymentTransaction *)transaction state:(StoreTransactionState)state error:(NSError *)error
{
    IAPProduct *product = [self getProductWithId:transaction.payment.productIdentifier];
    if (error.code==SKErrorPaymentCancelled) {
        [_metricsManager logFailIAP:product failReason:@"Payment canceled"];
    } else {
        [_metricsManager logFailIAP:product failReason:error.localizedDescription];
    }
    if ([_delegate respondsToSelector:@selector(didSucceedPurchasingProduct:)]) {
        [_delegate didFailPurchasingProduct:product];
    }
} 
```

在 logFailIAP 中，我记录了时间、UDID、事件名称和 error.localizedDescription 等内容。

```
 if (failReason != nil && failReason.length > 0) {
        [metricsDictionary setObject:failReason forKey:MetricsEventParameterFailReason];
 } 
```

在日志中，我收到了失败的 IAP 事件，但没有记录失败的原因。在任何情况下，您会得到“SKPaymentTransactionStateFailed”，但是有一个空的error.localizedDescription？我可以确认日志可以正常工作，并且在其他设备中看到了“付款取消”和“无法连接到 iTunes”等错误。该问题并非特定于设备或 iOS。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-26T12:19:35.127

`error`我在以下场景中遇到了 nil ：

*   用户在他们的设备上更新 iOS。

*   更新后，用户立即进入您的应用程序并尝试进行购买。

*   他们得到的不是通常的购买对话框，而是“iTunes 服务条款已更改。您需要接受新的 T&C”（或类似的东西），这会将他们重定向到 iTunes 应用程序并向他们显示新的 T&C。然后付款被取消，你得到一个 nil `error`，显然，一个 nil `error.localizedDescription`。

要发生这种情况，您的应用程序需要成为用户在系统更新后与 iTunes Store 交互的第一个点。

# python-2.7 - python ImportError：无法导入名称 libsvm

> ID：15426066
> 
> 赞同：1
> 
> 时间：2013-03-15T06:24:45.183
> 
> 标签：python-2.7, scipy, libsvm, scikit-learn

我试图`svm`通过`scikit-learnkit`python 使用。但我不断收到以下错误。

```
> from sklearn import svm 
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/local/lib64/python2.7/site-packages/sklearn/svm/__init__.py", line 13, in 
<module>
    from .classes import SVC, NuSVC, SVR, NuSVR, OneClassSVM, LinearSVC 
  File "/usr/local/lib64/python2.7/site-packages/sklearn/svm/classes.py", line 1, in <module>
    from .base import BaseLibLinear, BaseSVC, BaseLibSVM 
  File "/usr/local/lib64/python2.7/site-packages/sklearn/svm/base.py", line 6, in <module>
    from . import libsvm, liblinear 
ImportError: cannot import name libsvm 
```

我已检查`/usr/local/lib64/python2.7/site-packages/sklearn/svm/libsvm.so`是否存在

# c - 在不重复选择的情况下找到所有可能的组合？

> ID：15426072
> 
> 赞同：4
> 
> 时间：2013-03-15T06:25:12.460
> 
> 标签：c, algorithm, combinations

您将如何编写从数组 {1, 2, 3, ..., N-1, N} 中选择所有可能的三元组组合而不重复的东西？这是来自最近举办的编程比赛。N 是 3 的倍数。

使用数组 {1,2,3,4,5,6} 的示例：

```
C_1 = { {1,2,3}, {4,5,6} }
C_2 = { {1,2,4}, {3,5,6} }
C_3 = { {1,2,5}, {3,4,6} } 
```

都是有效的，但是

```
C_bad1 = { {1,2,3}, {3, 4, 5} }
C_bad2 = { {1,2,4}, {3, 5, 6}, {1, 2, 5} } 
```

不是。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T12:18:34.867

你有 (N!) / ( ((3!)^(N/3)) * ((N/3)!)) 位置（[证明](http://en.wikipedia.org/wiki/Permutation)）。您可以使用递归算法从数组 {1, 2, 3, ..., N-1, N} 中提供所有可能的三元组组合，而不会重复。但是要产生其中一个，您可以使用任何想法，例如[user1952500](https://stackoverflow.com/a/15426931/1339004)想法（尽管此算法也会生成（N / 3）！位置重复）或每个，例如您不变的最后一个（N-6）成员并提出您的解决方案对于结果开头的前 6 个成员。（此算法不会生成重复的位置）

递归解决方案：

```
void combtriples(int begin)
    {
     for(int i=1;i<=(n/3);i++)
      for(int j=1;j<=(n/3);j++)
       for(int k=1;k<=(n/3);k++)
        {
         if ((mark[i]<3) && (mark[j]<3) && (mark[k]<3))
          {
           count-position++;
           c[count][3]=begin;
           c[count][4]=begin+1;
           c[count][5]=begin+2;
           mark[i]++;
           mark[j]++;
           mark[k]++;
           count-member-flase=count-member-flase+3;
           if (count-member-flase > 0)
           {
             combtriples(begin+3);
           }
          }
         }
    }

    int main()
    {
     int mark[];
     int c[][];
     count-position=0;
     count-member-flase=0;
     combtriples(1);
    return 0;
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T07:29:49.207

由于 N 是 3 的倍数，我们可以使用一个技巧来解决它：

1.  按升序生成数字的所有**排列**
2.  对于每个排列，将数字直接划分为 3 个集合（0-2、3-6、...、N-2..N）

这应该会给你你的结果，而不需要太多花哨的工作。

编辑：我正在等待有人发现上述问题，并且确实发现了。解决重复的方法是有一个额外的步骤：

第 3 步：如果任何三元组在字典上是未排序的形式，则丢弃该集合。否则继续。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T07:49:13.527

```
#include <stdio.h>

#define SEL_NUM 3
#define LIST_SIZE 6

void printset(int *list, int *map, int size);
void select(int *list, int *map, int n, int size, int start);

int main(int argc, const char **argv) {
  int list[LIST_SIZE] = {1, 2, 3, 4, 5, 6};
  int map[LIST_SIZE] = {0};

  select(list, map, SEL_NUM, LIST_SIZE, 0);

  return 0;
}

void select(int *list, int *map, int n, int size, int start) {
  if (n == 0) {
    printset(list, map, size);
    return;
  }
  for (int i = start; i < size; i++) {
    map[i] = 1;
    select(list, map, n - 1, size, i + 1);
    map[i] = 0;
  }
}

void printset(int *list, int *map, int size) {
  int list1[SEL_NUM], list2[SEL_NUM], list1cnt = 0, list2cnt = 0;
  for (int i = 0; i < size; i++)
    if (map[i])
      list1[list1cnt++] = list[i];
    else
      list2[list2cnt++] = list[i];
  for (int i = 0; i < list1cnt; i++)
    printf(" %d ", list1[i]);
  printf(" -- ");
  for (int i = 0; i < list2cnt; i++)
    printf(" %d ", list2[i]);
  printf("\n");
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T13:20:00.473

让我们考虑 N 存在多少这样不同的三元组。首先将 T = floor(N/3) 定义为 N 个元素支持的每个集合中的三元组数。然后注意，由于不需要重复的三元组，每个三元组中的三元组可以按第一个元素升序排序，而不失一般性。那么 N 的三元组总数为：

产品为 t: 0 -> T-1 of ( (N - 3*t - 1) * (N - 3*t - 2) / 2 )

从这个公式可以直接看出如何构建（蛮力）算法来生成三元组。

~~**更新：**以上仅适用于 N % 3 == 0。我现在正在进行概括。~~强制；见 OP 的评论

案例：

1.  N<3 产生 0
2.  N=3 产生 1
3.  N=6 产生 (5 * 4 / 2) * (2 * 1 / 2) = 10
4.  N=9 产生 (8 * 7 / 2) * (5 * 4 / 2) * (2 * 1 / 2) = 28 * 10 = 280

当您参加编程比赛时，我假设您不需要任何代码。

**更新 #2：** 请注意，要自动消除重复项，每个三元组的第一个元素必须强制为编号最小的未选择元素。

# c# - Webview 没有被加载

> ID：15426073
> 
> 赞同：0
> 
> 时间：2013-03-15T06:25:15.370
> 
> 标签：c#, windows, xaml, webview

我正在使用 C# 和 XAML 开发 Windows Store 应用程序。我在 XAML 中使用 Webview，如下所示。

```
 <Grid x:Name="Output" Grid.Row="1">
            <Border BorderBrush="#FF707070" BorderThickness="1">
                <Grid>
                    <WebView x:Name="WebView1" Visibility="Collapsed"/>
                    <Rectangle x:Name="BlockingRect"/>
                    <ProgressRing x:Name="ProgressRing1" Height="50" Width="50"/>
                    <TextBlock x:Name="hello"/>
                </Grid>
            </Border>
        </Grid> 
```

在 C# 后面的代码中，我如下调用 Webview。

```
protected override void LoadState(Object navigationParameter, Dictionary<String, Object> pageState)
        {
            try
            {
                WebView1.Navigate(new Uri("http://www.google.co.in"));
            }
            catch (Exception e)
            {
                hello.Text = "Caught Exception!";
            }
        } 
```

但谷歌或任何其他网页没有使用上述 Webview 代码加载。我需要帮助才能正确加载 Webview。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T09:05:45.480

我只是在 XAML Webview 控件中将 Visibility 从“Collapsed”设置为“Visible”。它正在正确加载。

# html - 网页正在加载，而 CSS 样式还没有准备好？

> ID：15426075
> 
> 赞同：1
> 
> 时间：2013-03-15T06:25:20.397
> 
> 标签：html, css, django

我有一个非常简单的网页，链接两个`css`文件，如下所示：

```
<link href="style1.css">
<!-- Html code -->
<link href="style2.css">
<!-- Html code --> 
```

我注意到，当我不断重新加载页面时，有时页面会在没有的情况下加载，`style2.css`但下一秒页面将应用`style2.css`。

它不会发生`style1.css`；它总是在呈现 html 之前加载。

我之所以`css`像这样获取两个文件，是因为我使用`Django global template`的是基本模板将获取源`style1.css`，然后我可以随时应用`style2.css`（或其他`css`）。

这是我看到这种行为的原因吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:30:20.290

```
<script src="style1.css"></script>
<!-- Html code -->
<script src="style2.css"></script>
<!-- Html code --> 
```

用于加载脚本文件的脚本标签`javascript` `vbscripts.`

用于添加 css 文件使用`link`标签。

```
<link href="style1.css"></link>
<!-- Html code -->
<link href="style2.css"></link>
<!-- Html code --> 
```

**完整代码**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title></title>
    <link href="style1.css"></link>
    <!-- Html code -->
    <link href="style2.css"></link>
    <!-- Html code -->
</head>
<body>

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:27:48.433

CSS 样式表不是脚本。将它们按如下方式包含在 HTML 中`<head></head>`：

```
<link rel="stylesheet" type="text/css" href="style1.css">
<link rel="stylesheet" type="text/css" href="style2.css"> 
```

# python - 在 Python IDLE 2.7 中，为什么 raw_input 存储多个值？

> ID：15426079
> 
> 赞同：0
> 
> 时间：2013-03-15T06:25:25.767
> 
> 标签：python, variables, python-idle, local-variables, raw-input

我正在尝试用 Python 构建一个刽子手游戏，如果用户输入他们已经尝试过的字母，我已经将其设置为重复输入功能。但出于某种原因，“猜测”变量存储了我尝试的每一个值，我很困惑为什么会发生这种情况。我只希望它存储最新的输入。这是代码：

```
def inputGuess(lettersGuessed):

    guess = raw_input("What is your guess? ")
    guess = guess.lower()
    if guess in lettersGuessed:
        print "You've already guessed that. Try again!"
        inputGuess(lettersGuessed)
    print guess
    return guess 
```

和输出（作为一个注释，第一个'a'被预加载以测试'if'语句）：

```
>>> 
Loading word list from file...
55900 words loaded.
The secret word has 8 letters!
Available letters: bcdefghijklmnopqrstuvwxyz
What is your guess? a
You've already guessed that. Try again!
What is your guess? a
You've already guessed that. Try again!
What is your guess? a
You've already guessed that. Try again!
What is your guess? f
f
a
a
a
['a', 'a']
>>> 
```

print 语句显示似乎涉及多个值。谁能解释为什么会这样？我觉得我一定遗漏了一些明显的东西。非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:30:37.740

像这样递归地调用自己是一个坏主意。最终你会得到一个例外。处理这个问题的正确方法是`while`循环

```
def inputGuess(lettersGuessed):
    while True:
        guess = raw_input("What is your guess? ")
        guess = guess.lower()
        if guess in lettersGuessed:
            print "You've already guessed that. Try again!"
        else:
            break
    print guess
    return guess 
```

# ios - 使用键值观察和 ECSlidingView 库的主线程崩溃

> ID：15426080
> 
> 赞同：2
> 
> 时间：2013-03-15T06:25:38.310
> 
> 标签：ios, objective-c, xcode, uitableview, key-value-observing

我正在使用 NSKeyValueChange 刷新从 web 服务获取后出现在 tableview 中的图像。

```
- (void)observeValueForKeyPath:(NSString *)keyPath
              ofObject:(id)object
                change:(NSDictionary *)change
               context:(void *)context {

if ([keyPath isEqual:@"thumbnail"]) {
  UIImage* newImage = [change objectForKey:NSKeyValueChangeNewKey];
  if (newImage != (id)[NSNull null]) {
    self.thumbContainer.image = newImage;
    [self.thumbContainer setNeedsLayout];
  }
}

} 
```

和

```
[item addObserver:cell forKeyPath:@"thumbnail" options:NSKeyValueObservingOptionNew context:NULL]; 
```

一切正常，直到我将整个导航添加到名为 ECSlidingViewController 的第三方库中以具有类似于 Facebook 和 Sparrow Mail 应用程序的左侧导航。

现在我的应用程序崩溃了，下面是当我尝试在 tableview 中加载更多单元格时得到的图像。

![在此处输入图像描述](../Images/621bff1e75fc83635316935192ad0351.png)

正如您在上图中看到的那样，对我来说，仅仅解决问题所在是不够的。我曾尝试在 StackOverflow 上检查与主线程崩溃相关的类似问题，但它们并没有帮助我。

有人可以调查一下，问题出在哪里。提前致谢。

更新：我可以运行该程序，但是当我向下滚动以显示更多单元格时，此问题会导致程序崩溃。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T08:52:48.327

它在 msgSend 调用时崩溃了，这意味着它在错误的指针（不是 obj-c 对象）上发送函数调用。

```
[item addObserver:cell forKeyPath:@"thumbnail" options:NSKeyValueObservingOptionNew context:NULL]; 
```

您进行了隐式订阅。当项目被释放时，观察者仍在注册项目。

来自 Apple 文档：addObserver:forKeyPath:options:context: ... 接收者和观察者都不会被保留

因此，为了保持干净，您**必须**在释放项目之前实现 removeObserver:forKeyPath:context:。我猜你是 KVO 与你的单元格，这是一个坏主意，因为你无权访问它们的内存管理（你对分配做出响应，tableViewcell 自己管理它需要多少单元格）。

因此，尽可能订阅和取消订阅 KVO。

我希望你明白这个想法；）

# c# - 在 MVVM WPF 应用程序中处理导航

> ID：15426082
> 
> 赞同：1
> 
> 时间：2013-03-15T06:25:42.893
> 
> 标签：c#, wpf, mvvm

我正在开发一个遵循 MVVM 的 WPF 应用程序。现在我正在以下列方式处理视图导航。主窗口视图

```
<Border>
    <StackPanel>
    <local:Home
               Content="{Binding CurrentView,Converter={StaticResource ViewConverterHome}, UpdateSourceTrigger=PropertyChanged}"/>
    <local:Page1
            Content="{Binding CurrentView,Converter={StaticResource ViewConverterPage1}, UpdateSourceTrigger=PropertyChanged}"/>
    <local:Page2
        Content="{Binding CurrentView,Converter={StaticResource ViewConverterPage2}, UpdateSourceTrigger=PropertyChanged}"/>
    </StackPanel>

</Border> 
```

Home、Page1、Page2 是 3 个视图。HomeVM,Page1VM,Page2VM 是视图对应的视图模型。有一个名为 ApplicationViewModel 的类，它包含 CViewModelBase 类型的 CurrentView 属性，它是所有三个视图模型的父类。ApplicationViewModel 按以下方式处理导航

```
 private void OnUserInputNextClicked(object sender, OperationInformationChangedEventArgs e)
    {
        do
        {
            if (this.CurrentView is HomeVM)
            {
                this.CurrentView = null;
                Page1VM page1 = new Page1VM("BNM", "MATH HONS", "13");
                page1.NextCilcked += new EventHandler<OperationInformationChangedEventArgs>(OnUserInputNextClicked);
                page1.BackCilcked += new EventHandler<OperationInformationChangedEventArgs>(OnUserInputBackClicked);
                this.CurrentView = page1;
                break;
            }

            if (this.CurrentView is Page1VM)
            {
                this.CurrentView = null;
                Page2VM page2 = new Page2VM("Kolkata", "Monoj", "Itachuna");
                page2.NextCilcked += new EventHandler<OperationInformationChangedEventArgs>(OnUserInputNextClicked);
                page2.BackCilcked += new EventHandler<OperationInformationChangedEventArgs>(OnUserInputBackClicked);
                this.CurrentView = page2;
                break;
            }
            if (this.CurrentView is Page2VM)
            {
                this.CurrentView = null;
                HomeVM home = new HomeVM("Anirban", "30");
                home.NextCilcked += new EventHandler<OperationInformationChangedEventArgs>(OnUserInputNextClicked);
                this.CurrentView = home;
                break;
            }
        } while (false);
    } 
```

导航运行良好；但是处理消失的视图并没有被调用。所以所有的视图都活到最后。有什么办法可以防止这种情况发生吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T13:29:23.367

您的视图将始终存在，因为您使用 XAML 将每个视图的副本添加到您的 UI，即使其中`Content`包含的视图可能不存在

通常，我将使用 a`ContentControl`来显示内容，而不是为每种内容类型创建一个控件实例，并且我将使用它`DataTemplates`来告诉 WPF 如何绘制每种类型的内容。

例如，

```
<Window.Resources>
    <DataTemplate DataType="{x:Type local:HomeVM}">
        <local:Home Content="{Binding }" />
    </DataTemplate>
    <DataTemplate DataType="{x:Type local:Page1VM}">
        <local:Page1 Content="{Binding }" />
    </DataTemplate>
    <DataTemplate DataType="{x:Type local:Page2VM}">
        <local:Page2 Content="{Binding }" />
    </DataTemplate>
</Window.Resources>

<Border>
    <StackPanel>
        <ContentControl Content="{Binding CurrentView}" />
    </StackPanel>
</Border> 
```

这样，您`Content`在 VisualTree 中只有一个您的实例，并且`DataTemplate`WPF 用户可以根据它的`DataType`.

如果您有兴趣查看完整的代码示例，我的博客上有一个[使用 WPF 进行导航的示例](https://rachel53461.wordpress.com/2011/12/18/navigation-with-mvvm-2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:28:35.787

您需要更改 MainWindow 的 DataContext。这取决于您的集成。当我创建一个 MVVM 应用程序时，我所做的就是将 MainWindow 对象传递给每个视图构造函数。每当我必须移动到下一页（比如在下一个按钮上）时，我都会将 MainWindow 对象 DataContext 更改为新视图。

像这样的东西。

```
public PageOneViewModel
{

    private MainWindow _mainWindow;
    public PageOneViewModel(MainWindow mainWindow)
    {
         // Here I am saving MainWindow object.
         _mainWindow = mainWindow;
    }

    public OnNext()
    {
         // Here I am changing the view.
         MainWindow.DataContext = new PageTwoViewModel(_mainWindow);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:36:44.980

你考虑过使用Frame吗？

```
<Frame Name="YourFrame" Navigated="OnNavigated"/> 
```

然后你可以打电话

> YourFrame.CanGoBack()、YourFrame.GoBack()

等等

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T08:09:58.033

这是我对具有工作源代码的类似问题的回答的[链接。](https://stackoverflow.com/questions/15418671/mvvm-main-window-control-bind-from-child-user-control/15418881#15418881)我使用的技术有点类似于 Faisal 的解决方案。

如果您需要一个很好的可下载示例解决方案来演示使用侧边菜单的导航，请查看[此处](http://msdn.microsoft.com/en-us/magazine/dd419663.aspx)和[此处（更简单的示例）](https://rachel53461.wordpress.com/2011/12/18/navigation-with-mvvm-2/)。

# ios - 全屏播放视频后iOS状态栏方向

> ID：15426083
> 
> 赞同：2
> 
> 时间：2013-03-15T06:25:53.607
> 
> 标签：ios, mpmovieplayercontroller

在 iOS 6.1.2 上播放 youtube 视频时遇到问题。也就是说，在以全屏模式横向播放 vieo 后（我的应用只支持纵向模式），或者如果用户在播放视频期间按完成，状态栏将不会旋转。像这样：![在此处输入图像描述](../Images/4500ae8f81fe4fd721d955c3b548bb4a.png)

现在我注册`UIMoviePlayerControllerDidExitFullscreenNotification`观察者来改变状态栏的旋转，它在 iOS 6.1 及更低版本上工作正常，但在 iOS 6.0.1 上不行

如果我犯了任何错误，请告诉我。或任何其他解决状态栏方向的解决方案都是受欢迎的。

```
 [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(youTubeVideoExit:)
                                                 name:@"UIMoviePlayerControllerDidExitFullscreenNotification"
                                               object:nil];

- (void)youTubeVideoExit:(id)sender {
    [[UIApplication sharedApplication] setStatusBarOrientation:UIDeviceOrientationPortrait animated:NO];

} 
```

# android - android Api收费中的地理编码？

> ID：15426085
> 
> 赞同：0
> 
> 时间：2013-03-15T06:25:56.730
> 
> 标签：android, location, geocoding, reverse-geocoding, google-geocoding-api

嗨，地理编码和反向地理编码android api收费吗？

如果是，那么多少钱？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:33:56.973

> 地理编码是将街道地址或位置的其他描述转换为（纬度、经度）坐标的过程
> 
> 反向地理编码是将（纬度、经度）坐标转换为（部分）地址的过程。

它是内置的 android 类。这是免费的 。Android API 可以免费使用。

[点击这里](http://developer.android.com/reference/android/location/Geocoder.html#pubctors)了解更多信息。

# iphone - iOS - 动画后 UIImageView 重置为原始位置，为什么？

> ID：15426090
> 
> 赞同：2
> 
> 时间：2013-03-15T06:26:15.497
> 
> 标签：iphone, ios, animation, uiimageview, nsarray

我目前对一个我似乎无法找到答案的问题感到沮丧。我有一个由用户控制的 UIImageView，根据他们按下的方向向左或向右移动 20 个像素。同时，我正在尝试使用带有不同按钮的 NSArray 对其进行动画处理。但是，每次我为 UIImageView 设置动画时，位置都会重置。

例如，我将它向右移动 80 像素，一旦按下动画按钮，它就会回到动画前的原始位置。这是非常令人愤怒的。这是我的代码：

（'pos' 是一个设置为 (20,0) 像素的 CGPoint）

```
-(IBAction)moveleft {

    player.center = CGPointMake(player.center.x-pos.x,player.center.y+pos.y);
}

-(IBAction)moveright {

    player.center = CGPointMake(player.center.x+pos.x,player.center.y+pos.y);
}

-(IBAction)animove {

isMove = TRUE;

    player.animationImages = [NSArray arrayWithObjects:

                              [UIImage imageNamed:@"move0002.png"],
                              [UIImage imageNamed:@"move0003.png"],
                              [UIImage imageNamed:@"move0004.png"],
                              [UIImage imageNamed:@"move0005.png"],
                              [UIImage imageNamed:@"move0006.png"],
                              [UIImage imageNamed:@"move0007.png"],
                              [UIImage imageNamed:@"move0008.png"],
                              [UIImage imageNamed:@"move0009.png"],
                              [UIImage imageNamed:@"move0010.png"], nil];

    player.animationDuration = 0.35;
    player.animationRepeatCount = 1;
    [player startAnimating];

} 
```

总而言之，两者都`-(IBAction)moveleft`可以`-(IBAction)moveright`正常工作

`-(IBAction)animove`，但一旦`animove`被执行，UIImageView`player`会在进行左右移动之前移回其原始位置。

任何帮助/建议将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-10-08T22:37:34.733

尽管这是一个非常古老的问题，但我遇到了同样的问题并找到了答案：UnCheck AutoLayout。

如何做到这一点：[http ://www.raywenderlich.com/17811/how-to-make-a-simple-mac-app-on-os-x-10-7-tutorial-part-13/smat-disable -自动布局](http://www.raywenderlich.com/17811/how-to-make-a-simple-mac-app-on-os-x-10-7-tutorial-part-13/smat-disable-autolayout)

祝任何像我一样偶然发现这一点的人好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T09:20:17.580

尝试在移动对象时记住位置，而不是在点击动画按钮时重置它。

```
-(IBAction)moveleft {
    rememberPosition = CGPointMake(player.center.x-pos.x,player.center.y+pos.y);
    player.center = rememberPosition; 
}

-(IBAction)moveright {
    rememberPosition = CGPointMake(player.center.x+pos.x,player.center.y+pos.y);
    player.center = rememberPosition;
}

-(IBAction)animove {
    player.center = rememberPosition;
    player.animationImages = [NSArray arrayWithObjects: ...];
    player.animationDuration = 0.35;
    player.animationRepeatCount = 1;
    [player startAnimating];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T09:02:52.060

我不知道你为什么会有这种行为......

我在这里检查了你的代码[https://dl.dropbox.com/u/19438780/testAnim.zip](https://dl.dropbox.com/u/19438780/testAnim.zip)

接缝没问题。

# resolution - 缩放 iPad 分辨率图像以适应 android 分辨率

> ID：15426091
> 
> 赞同：0
> 
> 时间：2013-03-15T06:26:18.930
> 
> 标签：resolution, image-resizing

客户刚刚向我们提供了 iPad 源代码，其中包含所有分辨率为 1024X768 的图像，现在我想将它们转换为 android drawables，即

1.  480*854
2.  320*480
3.  1280*800

我知道我必须使用 1.5 作为比例因子来将 hdpi 转换为 xhdpi 并将 mdpi 转换为 hdpi。但是对于这个 iPad 分辨率，我应该使用什么调整大小？

只是 xhdpi 的比例因子会有所帮助，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:08:24.447

为了将 iPad 图像转换为 android 分辨率，我自己想出来了，这里是缩放因子

**对于 HDPI**

宽度比例因子--------------0.625

高度比例因子---------------0.833

**对于 xhdpi**

高度比例因子--------------1.25

宽度比例系数---------------1.04

**对于 mdpi**

高度比例因子--------------0.468

宽度比例因子----------------0.416

# android - 无法在 addTextChangedListener() 中更新视图

> ID：15426095
> 
> 赞同：1
> 
> 时间：2013-03-15T06:26:35.243
> 
> 标签：android, android-edittext

我正在尝试根据 EditText 中文本的长度来编辑 Button 的背景。如果文本的长度为 0，则背景应该是半透明的，否则它应该是不透明的。但是，我无法动态更新 Button 的背景。如果我点击屏幕上的其他位置，则按钮的背景会更新，但不是实时更新。

这是我正在使用的代码。

```
emailEditText.addTextChangedListener(new TextWatcher(){

        public void afterTextChanged(Editable s) {
            // TODO Auto-generated method stub
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            // TODO Auto-generated method stub
        }

        public void onTextChanged(CharSequence s, int start, int before,
                int count) {

            if(s.length()!=0){
                submitEmail.getBackground().setAlpha(255);
            }
            else{
                submitEmail.getBackground().setAlpha(45);
            }

        }

    }); 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:02:59.040

请在设置值后执行此调用

```
 public void onTextChanged(CharSequence s, int start, int before,
            int count) {

        if(s.length()!=0){
            submitEmail.getBackground().setAlpha(255);
        }
        else{
            submitEmail.getBackground().setAlpha(45);
        }

        submitEmail.invalidate();

    } 
```

# iphone - 运行项目问题（总是询问登录名和密码）

> ID：15426099
> 
> 赞同：0
> 
> 时间：2013-03-15T06:26:48.523
> 
> 标签：iphone, ios, xcode, ipad, keychain

我查了我的钥匙串（删除了一些钥匙，因为钥匙串中有太多不必要的钥匙和证书）。

现在，当我运行任何项目时，都会要求我输入系统登录名和密码。

![在此处输入图像描述](../Images/960a12c379e03ff70b57a9d8ebcefc10.png)

当我进入时，我不会被要求将密码保存在钥匙串中。该应用程序已成功启动，但是当我再次尝试运行项目时，无论如何都会出现登录窗口。

如何摆脱它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:30:10.917

问题是您在钥匙串上的证书位于左侧面板的“系统”下，该面板始终处于锁定状态，需要我的密码才能解锁！

然后你把它移到“登录”，它总是解锁的，现在一切正常。xCode 要求输入密码的烦恼消失了。

所以我的建议是请创建新的新钥匙串并将所有使用的证书插入到开发中。

这可能会 100% 解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:46:18.847

问题是您在钥匙串上的开发人员证书位于“系统”下，该证书始终处于锁定状态，需要您的密码才能解锁。

您必须将其移至始终解锁的“登录”，然后一切都会正常运行。一遍又一遍地询问用户名和密码将消失。

# symfony - 如何在 symfony2 中设置 empty_value 字段的值？

> ID：15426100
> 
> 赞同：1
> 
> 时间：2013-03-15T06:26:48.710
> 
> 标签：symfony

我正在制作一个日期字段，例如

```
->add('myDate','date',array(
                'years' => range(date('Y')-50, date('Y')+20),
                'widget' => 'choice',
                'format' => 'yMMMd',
                'days' => array(1),
                'empty_value' => array('year'=>'Year', 'month'=> 'Month'),
                'required' => false
            )) 
```

**编辑 1**：

**Qus 1** - 如何设置年和月选项的值，其中 empty_text 为年和月？
**Qus 2** - 有没有办法在日期字段中添加额外的月份和年份选项？

**编辑 2**：

使用上面的参数我得到一个字段年份，如下所示

```
<select id="" name="" >
<option value="">Year</option>
<option value="1963">1963</option>
<option value="1964">1964</option>
</select> 
```

**我想像下面**

```
<select id="" name="" >
<option value="0">Year</option>    //value is 0
<option value="1963">1963</option>
<option value="1964">1964</option>
</select> 
```

为我的英语道歉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:53:42.040

你想要这样的东西吗-

```
<select id="" name="" >
<option value="0">Year</option>    //value is 0
<option value="1963">1963</option>
<option value="1964">1964</option>
</select>

<select id="" name="" >
<option value="0">Month</option>    //value is 0
<option value="1">1</option>
<option value="2">2</option>
.
.
.
</select>

<select id="" name="" >
<option value="0">Date</option>    //value is 0
<option value="1">1</option>
<option value="2">2</option>
.
.
<option value="31">31</option>
</select> 
```

然后我认为创建一个对象，对象的默认日期为您想要的值。然后将该对象绑定到表单。但我认为它会失败，因为我认为如果您尝试使用值为 0 的日期、月份或年份创建日期对象，它会出错。

# javascript - 为 HTML + CSS 菜单设置 Javascript？

> ID：15426102
> 
> 赞同：-5
> 
> 时间：2013-03-15T06:26:50.677
> 
> 标签：javascript, html, css, menu

我想按照这种风格制作菜单：-`http://www.australia.com/`

这里我做了一些改动，请看[http://jsfiddle.net/fu3x6/](http://jsfiddle.net/fu3x6/)

菜单应该稍微向下扩展部分。

谢谢

聚苯乙烯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:44:13.480

我认为您没有查看每个菜单选项卡所需的 JS 的详细信息，并且需要 HTML 来更改 UL 标记中的相应类，请参阅[小提琴](http://jsfiddle.net/fu3x6/2/)

```
$('.ex').mouseover(function() {
 $('.extend').animate({"left": "250px"}, "slow");});
$('.ac').mouseover(function() {
 $('.extendac').animate({"left": "250px"}, "slow");});
$('.sp').mouseover(function() {
 $('.extendsp').animate({"left": "250px"}, "slow");});
$('.ma').mouseover(function() {
 $('.extendma').animate({"left": "250px"}, "slow");}); 
```

我在这里为你更新了[小提琴，](http://jsfiddle.net/fu3x6/2/)

我希望这会做:)享受

# python - 为什么使用 SQLAlchemy？编码是否非常方便？

> ID：15426104
> 
> 赞同：48
> 
> 时间：2013-03-15T06:26:58.997
> 
> 标签：python, sql, database, sqlalchemy

由于非常熟悉用 Python 编写简单的 SQL，我还没有意识到使用 SQLAlchemy 或其他 ORM 可以获得的好处。

它是为那些不喜欢程序中的 SQL 的人设计的吗？还是让您的脚本跨越不同类型的数据库？

或者它让你的脚本更加 Pythonic？

还是对于一些处理底层数据库的任务来说非常方便，它会自动为你做很多琐碎的事情，所以你只需编写 2-3 行代码调用 SQLAlchemy，它就会为你完成所有琐碎的数据库操作？

如果有人可以提供使用纯 SQL 与使用 SQLALchemy 进行演示的代码，并展示其优于纯 SQL 的优势，那将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-15T06:41:47.317

你检查了吗？ [https://groups.google.com/forum/?fromgroups=#!topic/sqlalchemy/VXXB12-3JCY](https://groups.google.com/forum/?fromgroups=#!topic/sqlalchemy/VXXB12-3JCY)

此外，Django ORM 和 SQL Alchemy 之间的比较：

[http://blog.mathieu-leplatre.info/sqlalchemy-a-brave-new-world.html](http://blog.mathieu-leplatre.info/sqlalchemy-a-brave-new-world.html)

粘贴上述谷歌群组链接的回复：

> 马克 Erbaugh 22/11/2010
> 
> 我没有任何示例代码，但我已经使用纯 SQL 编写了几个 Python 应用程序（和一个 C++ 应用程序），并且已经开始使用 SQLAlchemy 开发一个新应用程序，所以我将分享我的经验。
> 
> 让我补充一下，我花了几年时间维护一个中等规模的 SQL 数据库，并编写了许多纯 SQL，尽管不一定使用 Python。
> 
> 当我的程序访问 SQL 时，我发现自己编写了大量的 SQL 代码来访问数据。很多这样的代码虽然不完全相同，但非常相似并且似乎是多余的。例如，进行简单的单表查找。如果你想做简单的 CRUD（创建、更新和删除），你必须为每个表编写至少三个单独的 SQL 语句。虽然这些 SQL 语句的框架相似，但具体的列名和表名是不同的。如果我提供了列列表和表名，我最终编写了一些 Python 例程来构建 SQL 语句。但这就是 SQLAlchemy 所做的（以及更多），那么为什么要重新发明轮子呢？
> 
> 对于我的 C++ 应用程序（我没有找到合适的 ORM），我最终编写了一个 Python 脚本来生成 SQL 语句和 C++ 代码来访问表。
> 
> 另一个优点是您可以相对轻松地处理对数据库结构的更改。在我开发 SA 应用程序时，我意识到我需要在（至少）我的一个表中添加一个新列。我使用的是 SA 的声明式方法，我只需要将列添加到我的声明式中。我不必更改任何 SQL 或 Python 代码。
> 
> 我在使用 SQLAlchemy 时遇到的一个“问题”是忘记了我使用纯 SQL 做事的方式。在最简单的层面上，SQLAlchemy 可以生成 SQL 和 Python 代码来访问单个表，您可能很想编写 Python 代码来将这种单表访问合并到更大的数据图中，但 SQLAlchemy 的真正强大之处（恕我直言）是它可以自动处理复杂的数据图。
> 
> 标记

# apache - mercurial + apache 基本认证多重提示

> ID：15426106
> 
> 赞同：0
> 
> 时间：2013-03-15T06:27:00.770
> 
> 标签：apache, authentication, mercurial, webserver, basic-authentication

我正在尝试为我的 mercurial repos 实施基本级别的身份验证。在 Windows 上使用 apache。

我看到很多博客都提到了实现它的步骤，这就是我的 apache httpd.conf 文件部分的样子。

```
.........
...............
LoadModule auth_basic_module modules/mod_auth_basic.so
LoadModule auth_digest_module modules/mod_auth_digest.so

WSGIPythonPath "C:/Python27;C:/apache2/htdocs/library"
<Directory "C:/apache2/htdocs">
    AllowOverride None
    Options Indexes FollowSymLinks Includes ExecCGI
    Order allow,deny
    Allow from all

    AuthName "sample realm"
    AuthType Basic 
    AuthBasicAuthoritative on
    AuthUserFile c:/hgusers.txt
    require valid-user
</Directory>
..........
....... 
```

如果我尝试`hg clone http://my-domain.com/mercurial-repo`，它会要求身份验证。如果我输入错误的凭据，身份验证将按预期失败。但是如果我输入一个有效的凭证，它会继续要求输入用户名和密码......

像这样：

```
C:\test-repo>hg clone http://my-domain.com/mercurial-repo
http authorization required
realm: sample realm
user: dave
password:
http authorization required
realm: sample realm
user: dave
password:
.....................
..................... 
```

但是当我在 repo url 中输入用户和密码凭据时，它工作正常。例如：`hg clone http://username:password@my-domain.com/mercurial-repo`正在工作。但是我需要将用户和密码凭据添加到提示中，因为来自 hgtortoise gui 的身份验证也出于同样的原因而无法正常工作。谁能帮我弄清楚为什么会这样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T11:15:06.273

我认为 Mercurial 协议有一些东西需要两次密码提示，尽管我完全忘记了为什么会这样。

# jquery - 在 html 表中搜索

> ID：15426111
> 
> 赞同：8
> 
> 时间：2013-03-15T06:27:45.483
> 
> 标签：jquery

我有一张近 5000 行的大桌子。我正在使用以下 jquery 片段在此表中搜索特定文本。

```
function searchTable(inputVal) {

    var table = $('.table');

    table.find('tr').each(function(index, row) {
        var allCells = $(row).find('td');

        if(allCells.length > 0) {
            var found = false;
            allCells.each(function(index, td) {
                var regExp = new RegExp(inputVal, 'i');
                if(regExp.test($(td).text())) {
                    found = true;
                    return false;
                }
            });

            if(found == true) {
                $(row).show();
            } else {
                $(row).hide();
            }
        }   
    });
} 
```

现在这个脚本需要一些时间来执行，因为它循环遍历每行的每个单元格。考虑到表格连续有 6 个单元格，迭代总数几乎是**6*5000=30000**！
有什么建议可以优化这个片段吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T11:08:28.177

用您的代码检查以下代码性能：

**代码：（**不包括jquery.js）

```
<!DOCTYPE>
<html>
<head>
    <script src="jquery.js"></script>
    <script type="text/javascript">
    function searchTable(inputVal) {  
        $('.table').html($('.table').html().replace(RegExp(inputVal, 'g'), '<span class="showthis">' + inputVal + '<span>'));
        $("tr").css('display', 'none');
        $(".showthis").parent().parent().css('display', '');
    }
    </script>
</head>
<body>
    <input id="Button1" type="button" value="button" onclick="searchTable('Text');" />
    <table id="tab" class="table" border="1">
        <tr>
            <td>
                Text
            </td>
            <td>
                A
            </td>
        </tr>
        <tr>
            <td>
                C
            </td>
            <td>
                Text
            </td>
            <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td> ER
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                Text
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                Text
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                Text
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                Text
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                Text
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr> 
        <tr>
            <td>
                I
            </td>
            <td>
                Text
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                I
            </td>
            <td>
                H
            </td>
        </tr>
        <tr>
            <td>
                E
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                G
            </td>
            <td>
            </td>
        </tr> 
    </table>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T11:21:59.987

您还可以创建自定义扩展，例如：

```
// jQuery expression for case-insensitive filter
$.extend($.expr[":"], 
{
    "contains-ci": function(elem, i, match, array) 
    {
        return (elem.textContent || elem.innerText || $(elem).text() || "").toLowerCase().indexOf((match[3] || "").toLowerCase()) >= 0;
    }
}); 
```

并像这样使用它：

```
$("#table tbody>tr").hide(); // hides all tr
$("#table td:contains-ci('" + value + "')").parent("tr").show(); // show tr that containt value 
```

这是一个运行示例：http: [//jsfiddle.net/QvU67/](http://jsfiddle.net/QvU67/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T09:03:59.720

首先我想指出，搜索 5000 行不应该那么重。我还将研究其他可能对性能产生影响的同时运行的事情。

我也不向您保证，以下解决方案是最佳解决方案，但从我进行的测试中，我可以看到速度提高了大约 50%。我仍在研究这里优化此代码，我将继续更新此代码。我还计划在一两天内从 jspref 进行自信的测试。

我的方法

1.  Javascript 的原生`for`速度比 jQuery 的快`$(object).each();`
2.  使用 #id 进行 DOM 遍历要快得多。
3.  jQuery 在底层`.html()`使用 javascript `innerHTML`。如果你可以直接使用它，它将会有一些性能提升。

    ```
    $(function() {

    var searchTest = new function () {

        this.tableScope = $("#MyTable");

        this.searchTable = function () {
            var start = new Date().getTime();
            this.tableScope.find("tr").hide();
            var matches = 0;
            var searchPattern = new RegExp("abc");// /A/gi;
            var all_TD = document.getElementById("MyTable").getElementsByTagName("td");

            for (var i = 0; i < all_TD.length; i++) {
                if (searchPattern.test(all_TD[i].innerHTML)) {
                     all_TD[i].parentNode.style.display = '';
                     i += i % 5;
                     matches++;
                }
            }
            var end = new Date().getTime();

            $("#MyMethodClock").text(end - start + " ms to search; Matches found " + matches + " out of 5000 records");
         };

    }

    searchTest.searchTable();
    }); 
    ```

这是一个工作的[jsFiddle](http://jsfiddle.net/W5M8V/1/)

# c - 调用 mbtowc() 时 gcc 如何决定宽字符集？

> ID：15426114
> 
> 赞同：5
> 
> 时间：2013-03-15T06:27:54.530
> 
> 标签：c, character-encoding, multibyte, widechar

根据 gcc 手册，该选项[`-fwide-exec-charset`](http://gcc.gnu.org/onlinedocs/gcc-4.1.2/gcc/Preprocessor-Options.html)在编译时指定宽字符串和字符常量的宽字符集。

`mbtowc()`但是通过在运行时调用将多字节字符转换为宽字符时，宽字符集是什么？[POSIX 标准](http://pubs.opengroup.org/onlinepubs/009696699/functions/mbtowc.html)说多字节字符的字符集由当前语言环境的 LC_CTYPE 类别决定，但对宽字符集只字未提。我现在手头没有 C 标准，所以我不知道 C 标准对此有何评论。

gcc 选项是否像在编译时一样`-fwide-exec-charset`确定 使用的宽字符集？`mbtowc()`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T07:18:49.497

简短的回答：用于宽字符串的字符集由`wchar_t`编译时已知的特征决定。与`mbtowc`库函数一样，在构建 libc 时会发生这种情况。

`mbtowc`从以外部字符集编码的字符串中读取单个字符，并将其写入`wchar_t`能够表示任何字符的值。同样，`mbstowcs`将外部编码的 C 字符串转换为简单的`wchar_t`. 从系统的角度来看，指定生成的宽字符/字符串的“字符集”是没有意义的，因为以任何方式更改其输出编码都会破坏生成的宽字符串作为`wchar_t`.

如果宽字符对应于 ISO 10646 代码点，并且*取决于* . 您还可以将其描述为 little-endian 或 big-endian，具体取决于您的处理器表示的字节序。但这些是平台的属性，您无法在运行时更改它们，就像您无法将字节顺序或 ASCII 更改为 EBCDIC 一样。`mbstowcs``wchar_t``wchar_t`

`-fwide-exec-charset`用于向编译器显式指定与 array-of- 的内部表示相对应的字符集`wchar_t`。当它与编译器通常生成的表示不同时，这很有用（因为您正在交叉编译，或者因为编译器配置错误）。这就是为什么手册继续警告“你会遇到不完全适合的编码问题`wchar_t`”。

# javascript - 如何检查浏览器是否启用了flash？

> ID：15426116
> 
> 赞同：-2
> 
> 时间：2013-03-15T06:28:15.243
> 
> 标签：javascript, jquery, flash, modernizr

我正在使用 jquery 1.9。使用这个 jQuery 版本，我们如何检查正在运行的浏览器中是否启用了 flash？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T07:15:45.393

尝试这个 ：

```
var hasFlash = false;
try {
  var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
  if(fo) hasFlash = true;
}catch(e){
if(navigator.mimeTypes ["application/x-shockwave-flash"] != undefined) 
    hasFlash = true;
} 
```

或者

jqplugin：[http ://code.google.com/p/jqplugin/](http://code.google.com/p/jqplugin/)

`$.browser.flash == true`

# javascript - 如何使向下箭头在输入搜索框上起作用？

> ID：15426123
> 
> 赞同：1
> 
> 时间：2013-03-15T06:28:28.307
> 
> 标签：javascript, ajax

我在我的页面上有一个输入，我要求用户输入任何值，并根据他的输入从数据库中显示值。

例如，如果用户`p`在输入框中键入，他将显示为*程序员 1*和*程序员 2*，就像在*google.com*中一样。这是我通过ajax做的。

我的问题是在显示*程序员 1*和*程序员 2*后，`↓`向下箭头键不会将控件带到*程序员 1*，而是将控件保留在搜索框上，用户必须单击这些选项中的任何一个。我希望用户能够使用`↓`向下箭头键来查看他的搜索建议。

我试图实现`Focus`功能，但它似乎不起作用，我真的不知道如何查找这些信息？

代码：

```
<input type="text" name="searchbox" class="search_input" id="searchboxid" autocomplete="off" autofocus="on" onkeyup="suggest(this.value)" placeholder="Please search here..."/> 
```

任何帮助都感激不尽。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:51:31.893

只是一个建议。而不是与你自己的代码战斗或去寻找键绑定的东西。最好使用 jquery 自动完成。您可以轻松地移植代码以适应 Jquery 自动完成。它提供了您所期望的选项。请参考以下网址。 [http://jqueryui.com/autocomplete/](http://jqueryui.com/autocomplete/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:49:27.440

尝试使用自动建议或自动完成。如果不起作用，请尝试通过十六进制代码进行键绑定以获取向下箭头。它有点暗，但它在很多情况下都有效，只有概率可能是 AV，它可以将其识别为键盘记录器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:59:01.310

好吧，简而言之：我稍后会输入代码（15 分钟）

html:

```
<input type=""text id="r0">
<div id="r1">the damn results</div>
<div id="r2">another dman result</div> 
```

查询：

```
$("body").keydown(function (e) {
    if (e.keyCode == 38) {  //up-arrow

//check wich one is focus
//?????
//r
        if ($("#" + rId).length > 0) {
            //focus on this element
        }
    }

    if (e.keyCode == 40) {  //down-arrow

//check wich one is focus
//?????
//r
        if ($("#" + rId).length > 0) {
            //focus on this element
        }
    }
}); 
```

原始的，我会在一秒钟内解决它

# c# - 使用 c# 读取 CSV 文件

> ID：15426126
> 
> 赞同：0
> 
> 时间：2013-03-15T06:28:33.783
> 
> 标签：c#, arrays, object, csv

我正在开发一个项目，基本上是如下所示的流程 阅读 2 Csv 文件 逐行比较其内容并逐列识别不同的行，甚至按列创建一个新的 Csv 文件以包含差异

遇到的问题：

1.  我无法读取 csv 文件并将它们存储在数据表中。我可以用 xslx（excel 文件）做到这一点，在错误的文件位置上不断出错

我怀疑它是连接字符串错误

我正在使用这个字符串：

```
connectionString = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" + FileDirectory + ";Extended Properties=\"Text;HDR= Yes;FMT = Delimited\"";

Oledbconnection Connection = new OleDbConnection(connectionString);

OleDbDataAdapter Adapter = new OleDbDataAdapter("select * from [" + Filesheet + "$]", Connection); 
```

1.  我正在使用 Oledbconnection 方法，有更有效的方法吗？不储存会更好

2.  我如何运行程序，它将自动访问文件，文件包含在 2 个不同的文件夹中，并逐个文件比较它们，因为到目前为止我只设法读取特定的文件

3.  你们有更好的替代方法来解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:33:17.597

我从未尝试过打开带有连接字符串的 csv 文件。

CSV 文件基本上只是由带有 \n （或 \r\n）的行和由 , （或其他任何东西）分隔的列。

所以我个人所做的通常是使用 TextReader 打开它 - 并执行以下操作

```
foreach (string row in textString.Split('\n')
{
foreach (string cell in row.Split(',')
{
//One cell at a time

}
} 
```

有用于打开 csv 文件的库，但我发现这通常是最简单的。

3.) 好吧，您必须使用不同的文件“两次”运行代码。如果它们是硬编码的，请使用数组 - 或者您可以弹出多个 OpenFileDialog 要求用户选择它们

否则在理解您的问题时遇到问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:38:04.437

这里有一些很好的链接：

1)

[http://www.codeproject.com/Articles/415732/Reading-and-Writing-CSV-Files-in-Csharp](http://www.codeproject.com/Articles/415732/Reading-and-Writing-CSV-Files-in-Csharp)

2)

[http://www.codeproject.com/Questions/384247/How-to-read-from-csv-file-using-csharp-net](http://www.codeproject.com/Questions/384247/How-to-read-from-csv-file-using-csharp-net)

3)

[http://www.codeproject.com/Articles/30705/C-CSV-Import-Export](http://www.codeproject.com/Articles/30705/C-CSV-Import-Export)

# boolean - 当只有一个变量为真时，什么是正确的布尔方程？

> ID：15426128
> 
> 赞同：2
> 
> 时间：2013-03-15T06:28:37.070
> 
> 标签：boolean

我有 4 个变量，这是我能做的最好的，但如果有 3 个真正的变量，它会返回 true。

如果(a ^ b ^ c ^ d)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T06:40:11.453

如果您在谈论 C，其中布尔值只是`0/1`值，您可以使用：

```
a + b + c + d == 1 
```

否则，只要您可以使用`&&`and `||`：

```
( a && !b && !c && !d) ||
(!a &&  b && !c && !d) ||
(!a && !b &&  c && !d) ||
(!a && !b && !c &&  d) 
```

这只是将其分解为四种可能的情况，其中每种情况只有一个变量集。

现在您可以使用卡诺图将其“简化”如下（所有空白均为假）：

```
 AB
          0   0   1   1
          0   1   0   1
        +---+---+---+---+
CD   00 |   | T | T |   |
        +---+---+---+---+
     01 | T |   |   |   |
        +---+---+---+---+
     10 | T |   |   |   |
        +---+---+---+---+
     11 |   |   |   |   |
        +---+---+---+---+ 
```

成为：

```
((a ^ b) && !c && !d) || ((c ^ d) && !a && !b) 
```

但它比上面更简单的表达式更难理解（和调试），并且并没有真正节省太多，除非你精通布尔代数、德摩根定理、卡诺图等，坚持第一个。

* * *

为了证明表达式是等价的，请考虑以下 C 代码来检查所有可能性：

```
#include <stdio.h>

int main (void) {
  int a, b, c, d, x, y;

  for (a = 0; a < 2; a++) {
    for (b = 0; b < 2; b++) {
      for (c = 0; c < 2; c++) {
        for (d = 0; d < 2; d++) {
          x =
            ( a && !b && !c && !d) ||
            (!a &&  b && !c && !d) ||
            (!a && !b &&  c && !d) ||
            (!a && !b && !c &&  d);
          y = ((a ^ b) && !c && !d) || ((c ^ d) && !a && !b);
          printf ("%d %d %d %d | %d %d | %s\n",
            a, b, c, d, x, y, (x == y) ? "Okay" : "Bad");
        }
      }
    }
  }
  return 0;
} 
```

这将输出所有 16 种可能性，表明这两个表达式产生了相同的结果：

```
0 0 0 0 | 0 0 | Okay
0 0 0 1 | 1 1 | Okay
0 0 1 0 | 1 1 | Okay
0 0 1 1 | 0 0 | Okay
0 1 0 0 | 1 1 | Okay
0 1 0 1 | 0 0 | Okay
0 1 1 0 | 0 0 | Okay
0 1 1 1 | 0 0 | Okay
1 0 0 0 | 1 1 | Okay
1 0 0 1 | 0 0 | Okay
1 0 1 0 | 0 0 | Okay
1 0 1 1 | 0 0 | Okay
1 1 0 0 | 0 0 | Okay
1 1 0 1 | 0 0 | Okay
1 1 1 0 | 0 0 | Okay
1 1 1 1 | 0 0 | Okay 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T06:31:13.903

您可以明确地写出您的表达式。在长形式中，对于四个布尔变量，它将是`(!a && !b && !c && d) || (!a && !b && c && !d) || (!a && b && !c && !d) || (a && !b && !c && !d)`

对于任意数量的变量，对于任意布尔函数，您可以使用[真值表](http://en.wikipedia.org/wiki/Truth_table)来获得适当的布尔表达式和[卡诺图](http://en.wikipedia.org/wiki/Karnaugh_map)来简化它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T07:16:52.563

可能您想尝试三元运算符，因为它的执行时间略短，即使我们考虑上述解决方案的最佳情况也是如此。

```
(a?(b?false:(c?false:(d?false:true))):(b?(c?false:(d?false:true)):(c?(d?false:true):(d?true:false)))) 
```

# c# - c#图表改变x轴上的最大值和最小值

> ID：15426129
> 
> 赞同：31
> 
> 时间：2013-03-15T06:28:39.113
> 
> 标签：c#, charts

有人可以告诉我如何更改 C# 图表上 x 轴上的最小值和最大值吗？我想从 0 到 13，但它现在从 -1 到 14。

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-03-15T06:38:04.053

如果您正在使用，您可以通过操作图表的属性`System.Windows.Forms.DataVizualisation.Charting`来设置轴范围。`ChartAreas`所以像

```
myChart.ChartAreas[0].AxisX.Maximum = 13;
myChart.ChartAreas[0].AxisX.Minimum = 0; 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-11-23T09:28:39.307

这将更好地工作：

```
myChart.ChartAreas[0].AxisX.IsMarginVisible = false; 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-05-08T18:26:26.620

你可以试试`myChart.ChartAreas[0].AxisX.RoundAxisValues()`。Y 轴默认开启，我发现它通常也适用于 X 轴。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-03-03T16:56:48.387

New Chart().SetYAxis("GPA",0,4);

如果您使用图表类，您可以使用 SetYAxis 方法设置 Y 或 X 轴

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-07-10T06:17:13.857

*   chart1.ChartAreas[0].AxisX.Minimum = 0;

*   chart1.ChartAreas[0].AxisX.Maximum = 10;

*   chart1.ChartAreas[0].AxisY.Minimum = -5;

*   chart1.ChartAreas[0].AxisY.Maximum = 5;

# 3d - 使用 Three.js 的 .STL 3D 对象在 IE 中不起作用

> ID：15426132
> 
> 赞同：0
> 
> 时间：2013-03-15T06:28:47.760
> 
> 标签：3d, three.js, webgl

我使用[Three.js](https://github.com/mrdoob/three.js/)（使用 r56）和[STLLoader.js](https://github.com/mrdoob/three.js/blob/master/examples/js/loaders/STLLoader.js)加载`.stl(ascii)`文件创建了一个旋转 3D 模型
它在 FF 和 chrome 中工作正常但在 IE（9）中工作正常，它显示空白屏幕
并给出以下错误

```
SCRIPT5009: 'DataView' is undefined 
STLLoader.js, line 82 character 3 
```

好吧，我知道`webglRenderer`在 IE 中不起作用但`CanvasRenderer`确实如此，但正如我所说，我正在加载`.stl`文件

我还尝试使用 CanvasRenderer 以防`IE`
它是否正确？我的意思是和的组合`CanvasRenderer`有效`stlLoading`吗？因为它在我的情况下不起作用

那么是否有任何方法或任何插件，或任何其他替代方法可以使我的工作与 IE9 兼容？
只需要帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T14:19:23.520

不幸的是，IE 本身并不支持 WebGL，而且可能永远不会。他们声称这是一个安全风险[http://blogs.technet.com/b/srd/archive/2011/06/16/webgl-considered-harmful.aspx](http://blogs.technet.com/b/srd/archive/2011/06/16/webgl-considered-harmful.aspx)并且在历史上忽略了 OpenGL 支持以支持他们的竞争标准 Direct3D。

是的，您可以使用插件在 IE 中启用 WebGL。IEWebGL [http://iewebgl.com/](http://iewebgl.com/)或 Chrome 框架[http://www.google.com/chromeframe](http://www.google.com/chromeframe)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:39:55.777

你更新了你的 IE 9 吗，因为三天前，IE 9 有累积更新。IE 9 带来了一些不需要的安全措施，这有时会使事情变得困难，甚至不可能。检查 IE 9 安全设置，它可能会阻止它。有时是兼容性问题，有时是浏览器相关的问题。

# html - 即使文件被修改，浏览器缓存也不会更新

> ID：15426140
> 
> 赞同：0
> 
> 时间：2013-03-15T06:29:05.067
> 
> 标签：html, browser-cache

每当我用新文件更新我的网站时，我每次都需要清除缓存以查看更改，我不想这样做......我已将过期持续时间设置为 1 天，

任何人都可以解释哪里出了问题以及解决方案是什么？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:34:47.850

您需要在脚本/css/图像中添加随机（或类似版本）参数，例如：

```
<script>document.write('<script src="script_path?' + Math.random() + '"\><\/script>');</script> 
```

这使得浏览器像`script_path?0.611818`这样请求脚本将被缓存（实际上它会被缓存，但总是会被请求一个新副本）。另一种方法是添加类似参数的版本，例如您的网络应用程序的当前版本是 5，所以您可以：

```
<script>document.write('<script src="script_path?' + your_version + '"\><\/script>');</script> 
```

在每个版本之后，您将 your_version 参数值增加 on 或 smth 这样

ps

示例以 js 显示，但您将使用您的后端语言来完成

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:34:49.037

要使浏览器`http://example.com/file.ext`每次都从服务器而不是从缓存中加载文件，请将客户端代码更改为指向`http://example.com/file.ext?<random value>`. 每次更改文件时，更改链接中的随机值。

# magento - 我们如何在自定义模块中使用产品重复观察者事件？

> ID：15426141
> 
> 赞同：2
> 
> 时间：2013-03-15T06:29:07.183
> 
> 标签：magento

这是我的 config.xml 文件

```
<?xml version="1.0" encoding="UTF-8"?>
<!--
    Document   : config.xml
    Created on : July 26, 2012, 1:12 PM
    Author     : sanjeewani
    Description:
        Purpose of the document follows.
-->
<config>
    <modules>
        <Proporta_AmazonBarcode>
            <version>0.1.0</version>
        </Proporta_AmazonBarcode>
    </modules>
    <global>
        <events>
            <catalog_model_product_duplicate>
                <observers>
                    <proporta_amazonbarcode_observer>
                        <class>Proporta_AmazonBarcode_Model_Observer</class>
                        <method>duplicate1</method>
                    </proporta_amazonbarcode_observer>
                </observers>
            </catalog_model_product_duplicate>
        </events>
    </global>
</config> 
```

这是我的观察者类函数。

```
public function duplicate1(Varien_Event_Observer $observer) {

      $product=$observer->getEvent()->getProduct();
/*
my logic is here
*/

    } 
```

当我尝试从管理员复制产品时，它可以正常使用 duplicate1() 功能。我的问题是，$product 为空。我无法从活动中获得产品。有人有这样的问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:52:24.957

这是因为`product`不是事件上下文的键。如果您不确定上下文是什么，最好查看事件的调度位置[1]。在这种情况下，`app/code/core/Mage/Catalog/Model/Product.php`在方法中`Mage_Catalog_Model_Product::duplicate()`：

```
 Mage::dispatchEvent(
        'catalog_model_product_duplicate',
        array('current_product' => $this, 'new_product' => $newProduct)
    ); 
```

所以，你可能想要做的是：

```
 $product = $observer->getEvent()->getCurrentProduct(); 
```

[1] 或使用调试器，放置断点并检查`$observer`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-15T06:33:24.857

您必须输入产品 ID ，没有 ID ，它将无法工作。当谈到调试器时，获取 HTTP Debugger ，放置 BP ，并观察响应和所有可能看起来可疑的东西。

# logging - HBase 中的日志文件

> ID：15426142
> 
> 赞同：2
> 
> 时间：2013-03-15T06:29:09.330
> 
> 标签：logging, hadoop, hbase

HLog 文件将存储在 HBase 中的什么位置。目前我在本地文件系统而不是 HDFS 上使用 HBase，我想观察 HBase 如何记录每个操作的详细信息，例如 put。我怎么能观察到呢？
我想检查它如何处理给定时间戳的用户

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T08:08:23.850

**日志**

日志文件中的大部分信息是关于不同节点之间的连接和事务。默认情况下，它们可以在`HBASE_HOME`目录中找到。可以在 中指定另一个目录`hbase-env.sh`。

```
HMaster: $HBASE_HOME/logs/hbase-<user>-master-<hostname>.log
RegionServer: $HBASE_HOME/logs/hbase-<user>-regionserver-<hostname>.log 
```

**指标**

您不会在这些日志文件中找到单个 HBase 事务信息。为此，您可以使用指标，但默认情况下，这些指标仅显示与绝大多数成功查询不同的操作。

看看这里： [http ://hbase.apache.org/book/ops.monitoring.html](http://hbase.apache.org/book/ops.monitoring.html)

**风俗**

为什么不在客户端应用程序中编写自定义记录器？通过 Java API 可以获得很多信息，这样您就可以很好地控制您想要在“日志”文件中包含的内容。

# android - How can I enable disable GPS programmatically in Android?

> ID：15426144
> 
> 赞同：30
> 
> 时间：2013-03-15T06:29:19.507
> 
> 标签：android, gps

I am creating an anti-theft application and, locating my phone through sms and it works perfectly until 2.3. But in 4.0 I can't turn on or off gps programmatically is there any other possible way to switch on gps through code.

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-03-15T06:58:24.977

Try using this code. It worked for me on all the versions.

```
public void turnGPSOn()
{
     Intent intent = new Intent("android.location.GPS_ENABLED_CHANGE");
     intent.putExtra("enabled", true);
     this.ctx.sendBroadcast(intent);

    String provider = Settings.Secure.getString(ctx.getContentResolver(), Settings.Secure.LOCATION_PROVIDERS_ALLOWED);
    if(!provider.contains("gps")){ //if gps is disabled
        final Intent poke = new Intent();
        poke.setClassName("com.android.settings", "com.android.settings.widget.SettingsAppWidgetProvider"); 
        poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
        poke.setData(Uri.parse("3")); 
        this.ctx.sendBroadcast(poke);

    }
}
// automatic turn off the gps
public void turnGPSOff()
{
    String provider = Settings.Secure.getString(ctx.getContentResolver(), Settings.Secure.LOCATION_PROVIDERS_ALLOWED);
    if(provider.contains("gps")){ //if gps is enabled
        final Intent poke = new Intent();
        poke.setClassName("com.android.settings", "com.android.settings.widget.SettingsAppWidgetProvider");
        poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
        poke.setData(Uri.parse("3")); 
        this.ctx.sendBroadcast(poke);
    }
} 
```

# iphone - 使用xcode进行越狱开发

> ID：15426148
> 
> 赞同：2
> 
> 时间：2013-03-15T06:30:02.070
> 
> 标签：iphone, ios, xcode, jailbreak

我一直在寻找学习如何使用 xcode 进行越狱开发。

我有 Lion 和越狱的 iPhone3G 和不支持 iPhone3G 的 xcode4.6。

我已经安装`ldid`但不知道如何使用它。

我也必须制作启动守护程序，并将它们附加到我的应用程序中。我已按照[本](http://chrisalvares.com/blog/7/creating-an-iphone-daemon-part-1/)教程制作守护程序，但我陷入了在 xcode 中创建开放工具链模板的设置中。我遵循了每一步，但我的 xcode 没有显示任何用于打开工具链的模板。**是否真的需要开放工具链模板？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T08:09:20.977

你是对的。Xcode 4.6 不支持 iPhone 3G。你能安装旧版本的 Xcode 吗？例如，Xcode 4.4 仍然支持 3G。

[登录 Apple Developer Portal 并在此处下载旧版本](https://developer.apple.com/downloads/index.action)

您可以选择将旧版本的 Xcode 安装在不同的文件夹中，这样它就不会覆盖新版本（例如，安装到`/Developer-old/`或其他东西）。

安装旧 Xcode 版本后，您可以导航到安装目录并查找名为：

> iPhoneOS5.0.sdk

（或者可能 iPhoneOS5.1.sdk 也可以）。然后，将整个文件夹复制到新的 Xcode 4.6 安装目录中。例如：

> /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs

之后，您应该会看到：

> iPhoneOS5.0.sdk
> iPhoneOS6.1.sdk

安装 5.0 SDK 后，您现在可以使用 Xcode 4.6 为 iPhone 3G 构建应用程序。如果需要，您现在还可以卸载 Xcode 4.4。[在这个其他问题中查看更多信息](https://stackoverflow.com/a/13061562/119114)。关键是您将`armv6`（仅）构建您的应用程序。Armv6 是 iPhone 3G 的处理器。

第二步是**关闭**Xcode 中的代码签名。在您的项目设置中，您将配置文件设置为**Don't Code Sign**。 [您必须修改 Xcode 配置文件以允许您执行此操作](https://stackoverflow.com/a/4953407/119114)。

现在您在 Xcode 中构建应用程序。完成后，导航到 Mac 上构建应用程序的目录（`MyAppName.app/`文件夹所在的位置）。然后，您使用[ldid](http://code.google.com/p/networkpx/downloads/detail?name=ldid&can=2&q=)对应用程序可执行文件进行[伪造代码签名](https://stackoverflow.com/a/12773253/119114)：

```
ldid -S MyAppName.app/MyAppName 
```

现在，您的应用程序有一个伪造的代码签名，可以让它在越狱手机上运行。

然后，您使用`ssh`、 或`scp`或其他东西将其传输到您的手机，它应该安装在`/Applications/`.

您已经拥有构建 iOS [Launch Daemons](http://chrisalvares.com/blog/7/creating-an-iphone-daemon-part-1/)的最佳链接。我会坚持那个教程。 **不**，我在 Xcode 中也没有任何开放的工具链*模板。*我只是使用 Chris 的教程来了解如何构建一个非图形守护`main`程序（不是.`UIApplication``MyAppName.app``com.mycompany.mydaemon.plist`

在手机上安装 plist 后`/System/Library/LaunchDaemons/`，您可以启动它，而无需重新启动手机，方法是：

```
launchctl load -w /System/Library/LaunchDaemons/com.mycompany.mydaemon.plist 
```

在命令行（在电话上）。或者，只需重新启动手机，守护程序就会自动启动。

虽然我在它可用之前就学会了这样做，但如果你想要一种更优雅的方式来做这些事情，你现在可以看看[iOSOpenDev 。](http://iosopendev.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-20T22:41:57.417

是的。Xcode 可用于开发越狱类型的项目。**使用[iOSOpenDev](http://iosopendev.com "iOSOpenDev")设置 Xcode 和 iOS SDK**以允许越狱类型的开发。

iOSOpenDev 带有一组模板、标志（带有 ldid）目标并在其构建阶段创建 Debian 包（包被提交到像 ModMyI 和 BigBoss 这样的仓库），此外还可以使用 Cmd-Shift-I 将包直接安装到 iDevice（ build for profiling shortcut) 用于立即测试，以及使用 Xcode 开发越狱类型项目的其他有用功能。

# ios - iOS：UITableView 应用中用于存储的单例类

> ID：15426152
> 
> 赞同：0
> 
> 时间：2013-03-15T06:30:11.233
> 
> 标签：ios, objective-c, singleton, persistence

我有一个使用导航控制器和 tableViews 的应用程序，我想创建一个类来做一些简单的信息存储，这些信息在导航不同视图而不保存到磁盘时保持持久性。

我可以`singleton`只用`class method`s 创建一个，但在这种情况下，我需要创建将数据保存为的集合类`instance variable`（因为 @properties 不适用于类方法）。我只看到在 iOS 的属性中声明的对象，所以这是不受欢迎的吗？

这个类看起来像这样

标题：

```
+ (BOOL) addObject: (id) object;
+ (BOOL) removeObject: (id) object;
+ (NSInteger) count; 
```

私下我会有一个 NSArray 用于存储

```
NSArray *cache; 
```

但这是完成任务的好方法吗？或者是否可以有一个具有实例方法的非单例类并在不同的表视图中使用该类的相同实例？如果是这样，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:40:51.173

首先，所有读写属性都会自动合成实例变量（除非您同时实现了 setter 和 getter）。

其次，如果该信息对整个（或大部分）应用程序来说是全局的，那么单例正是您所需要的。您不需要将其保留为属性（或 ivar）。它是一个单例，它保持自己的指针。

如果您仍想使用属性，则必须将其传递给应用程序中的每个 VC（`prepareForSegue:sender:`可能如果您使用故事板）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:36:58.107

首先弄清楚你需要什么全局信息。然后找出你已经拥有的哪些对象的生命周期与该全局信息一致，哪些对象在逻辑上与该信息相关联。例如，如果您需要一个信息数组来“备份”一个 UITableView，请将指向该数组的指针存储在表视图数据源实例中。

很少需要创建“单例”，并且有很多单例通常是编程不佳的标志。

# haskell - 在 Haskell 中，如何编写 HTTP 客户端来遍历网站并提交表单？

> ID：15426156
> 
> 赞同：4
> 
> 时间：2013-03-15T06:30:26.243
> 
> 标签：haskell

我很确定[网络浏览器](http://hackage.haskell.org/packages/archive/HTTP/4000.2.8/doc/html/Network-Browser.html)是我想要使用的库，但我不确定如何使用它。我是 Haskell 新手。我读过Learn You A Haskell 和Real World Haskell 的1/3。

我想编写一个程序来访问一个网站，登录它（这需要提交一个表单和 cookie），然后给我一些页面的 HTML。

我想看看如何做这些事情的一些例子。该文档仅给出了一个示例。另外，请教人钓鱼。如果还有其他地方我应该寻找示例（IMO 是学习如何使用库的最佳方式），我想知道。阅读 api 文档并没有削减它。

*旁注：* [这个名为 Shpider 的库看起来很完美](http://hackage.haskell.org/package/shpider-0.2.1.1)，但我在 Windows 上，我不知道如何安装和使用 curl，它是它所依赖的库之一。

# osgi - 从文件系统动态加载 OSGi 包

> ID：15426158
> 
> 赞同：2
> 
> 时间：2013-03-15T06:30:30.597
> 
> 标签：osgi, osgi-bundle

我有一个使用 OSGi 框架的模块化应用程序。这里我使用 org.eclipse.equinox.common_3.4.0 OSGi 容器。因此，现在应用程序已经在所有已安装并处于活动状态的 osgi 包的情况下运行，并且我正在 UI 上显示所有活动的 OSGi 包，通过基于一些操作循环哈希映射。现在的要求是，当应用程序已经在运行时，我想从文件系统安装一个新的 OSGi 包，方法是将这个新包提供给应用程序的 OSGi 容器，以便它启动这个包。

我该如何做到这一点？我尝试将 OSGi 包作为 JarInputstream 读取并读取包激活器完全限定的类路径，并尝试使用 Class.forName("") 实例化它并将类型转换为 BundleActivator 接口。但是在启动它时，它将捆绑上下文作为启动方法的参数。

有没有办法我可以务实地将 OSGi 捆绑包提供给容器，以便它负责安装和启动捆绑包，然后我的 UI 将自动在显示中选择这个新的捆绑包名称。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T07:39:46.807

假设您有要加载的文件，您可以像这样安装包：

```
void install( BundleContext context, File file) throws Exception {
    Bundle b = context.installBundle( file.toURI().toString() );
    b.start();
} 
```

你可以卸载它（如果文件不见了）：

```
void uninstall( BundleContext context, File file) throws Exception {
    Bundle b = context.getBundle( file.toURI().toString() );
    b.uninstall();
} 
```

您从您的激活或声明式服务组件的激活方法中获取 BundleContext。这些是推荐的方法，但在极端情况下，您也可以使用：

```
BundleContext context = FrameworkUtil.getBundle( this.getClass() ).getBundleContext(); 
```

虽然很方便，但它绕过了您将来可能想要使用的一些机制，因此以推荐的方式获取上下文要好得多

# javascript - Twitter 引导选项卡 location.hash 更改问题

> ID：15426159
> 
> 赞同：1
> 
> 时间：2013-03-15T06:30:31.033
> 
> 标签：javascript, jquery, twitter-bootstrap

我正在尝试在 window.load 上加载特定的 twitter 引导选项卡

```
$(function () {

    if (location.hash !== '') {
        $('#myTab a[href="' + location.hash + '"]').tab('show');
    } else {
        $('#myTab a:first').tab('show');
    }

    $('#myTab a[data-toggle="tab"]').on('shown', function(e) {
          location.hash = $(e.target).attr('href').substr(1);
          return false ;
    });
}) 
```

此代码工作正常。我的问题是**跳转**到特定的选项卡 div 内容，我如何禁用**浏览器的默认位置哈希更改事件**的 twitter 引导选项卡。我应该对上述代码进行哪些更改？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T08:16:53.957

@marijn 评论说，我在哈希中添加了一个前缀，它不引用该页面上的任何 DOM 元素

```
if (location.hash !== '') {
    $('#myTab a[href="' + location.hash.replace('tab_','') + '"]').tab('show');
} else {
    $('#myTab a:first').tab('show');
}

$('#myTab a[data-toggle="tab"]').on('shown', function(e) {
      location.hash = 'tab_'+  e.target.hash.substr(1) ; 
      return false ;
}); 
```

# iphone - 使用 CLGeocoder 反向地理编码查找当前位置

> ID：15426162
> 
> 赞同：2
> 
> 时间：2013-03-15T06:30:45.600
> 
> 标签：iphone, ipad, xcode4.5, cllocationmanager, clgeocoder

我想根据经纬度找到用户的当前位置。以前我已经使用 MKReverseGeocoder 完成了它，但由于它在 ios5 中已弃用，我使用 CLGeocoder。但无法获取当前位置。

```
- (void)viewDidLoad
{
 locationManager = [[CLLocationManager alloc] init];
        [locationManager setDelegate:self];
        [locationManager setDistanceFilter:kCLDistanceFilterNone];
        [locationManager setDesiredAccuracy:kCLLocationAccuracyBest];
        [locationManager startUpdatingLocation];

}
- (void)locationManager:(CLLocationManager *)manager
    didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {
    CLLocation *currentLocation = newLocation;

    locationLabelOne=newLocation.coordinate.latitude;

    locationLabelTwo=newLocation.coordinate.longitude;
    geocoder = [[CLGeocoder alloc] init];

    [locationManager stopUpdatingLocation];

    [geocoder reverseGeocodeLocation:currentLocation completionHandler:^(NSArray *placemarks, NSError *error) {
        NSLog(@"Found placemarks: %@, error: %@", placemarks, error);
        if (error == nil && [placemarks count] > 0) {
            placemark = [placemarks lastObject];
           NSString *get = [NSString stringWithFormat:@"%@ %@\n%@ %@\n%@\n%@",
                                 placemark.subThoroughfare, placemark.thoroughfare,
                                 placemark.postalCode, placemark.locality,
                                 placemark.administrativeArea,
                                 placemark.country];
        } else {
            NSLog(@"%@", error.debugDescription);
        }
    } ];
    NSLog(@"%@",placemark);
} 
```

当我 NSLog 地标时，它返回 null。我哪里出错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:43:15.170

可能的问题：

1) `locationManager:didUpdateToLocation:fromLocation`已弃用 iOS 6.0，您应该`locationManager:didUpdateLocations:`改用它。

```
 - (void)locationManager:(CLLocationManager *)manager
 didUpdateLocations:(NSArray *)locations
{
     currentLocation=[locations lastObject];
     // rest code will be same
 } 
```

2） `[locationManager stopUpdatingLocation];`听起来也很可疑。IMO 你不应该在`CLLocationManagerDelegate`方法中使用它。

**附言**

i) 有关正向/反向地理编码的更多详细信息，您可以查看 Apple 的示例代码[**GeocoderDemo**](http://developer.apple.com/library/ios/#samplecode/GeocoderDemo/Introduction/Intro.html#//apple_ref/doc/uid/DTS40011097)

ii) 如果您使用 Google API 进行反向地理编码，它将拥有多年来可用的所有数据，但`CLGeocoder`不会有完整的数据，如街道名称、印度等国家的密码。发生的情况是，当您执行反向地理编码请求时，您将坐标传递给核心位置，后者在后台连接到 Web 服务（开发人员不会知道）并返回一个用户可读的地址。因此，此 Web 服务可能无法像 GOOGLE API 那样返回准确的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-08T20:05:22.993

我有同样的问题，然后通过一些实验我解决了我的问题......</p>

确保：-90 < 纬度 < 90 -180 < 经度 < 180

它似乎没有执行基本的 mod 功能。希望有帮助...

# jboss5.x - 得到一个奇怪的转换异常：javax.mail.session 不能转换为 javax.mail.session

> ID：15426163
> 
> 赞同：0
> 
> 时间：2013-03-15T06:30:48.380
> 
> 标签：jboss5.x, apache-commons-email

我正在尝试`apche-commons-email`在我的 java Web 应用程序中使用 API 发送电子邮件。我已将其配置为`jboss5 mail-service.xml`从`Gmail`id 发送电子邮件。但我得到了错误

```
org.jboss.resteasy.spi.UnhandledException: java.lang.ClassCastException: 
                 javax.mail.Session cannot be cast to javax.mail.Session 
```

执行该行时

```
Session mailSession = (Session) ictx.lookup("java:/Mail"); 
```

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T00:34:36.760

I can only see this as a custom class loader loading a `javax.mail.Session` class along with the original `javax.mail.Session` object !

But when attempting to cast an object of the first class to an instance of the second, an exception occurs because both objects don't match (i.e. method names, member variables..etc)

Check [this answer](https://stackoverflow.com/a/6879929/897041) and other answers for the same question.

# javascript - Youtube - 不安全的 JavaScript 尝试使用 URL 访问框架 - Javascript

> ID：15426165
> 
> 赞同：1
> 
> 时间：2013-03-15T06:30:56.687
> 
> 标签：javascript, jquery, iframe, youtube

我在[此页面](http://mountainfoodstorage.com/index.php/media)上使用以下 javascript 来尝试在有人单击视频缩略图时切换视频。

```
<script>
    function replaceVideo(id) {
      originalSrc = jQuery(" iframe", "#" + id).attr("src");
      autoPlay = originalSrc + "&autoplay=1";
     jQuery(" iframe", "#" + id).attr("src", autoPlay);
      video = jQuery(" .video-content", "#" + id).html();
     jQuery("#video-page-gray-strip #video-page-content").html("");
      jQuery("#video-page-gray-strip #video-page-content").html(video);
      jQuery(" iframe", "#" + id).attr("src", originalSrc);
    }

    jQuery(".video-list li").click(function() {
      id = jQuery(this).attr("id");
      replaceVideo(id);
    });

    jQuery(window).load(function() {
      if(window.location.search.substring(1)) {
            element = window.location.search.substring(1).split('&');
            if (document.getElementById(element[0])) {
                document.onload = replaceVideo(element[0]);
            }
        }
    });
</script> 
```

问题是当我单击缩略图时，视频没有切换，并且出现以下控制台错误：

> 不安全的 JavaScript 尝试 从 URL [http://www.youtube.com/embed/OzOvsDVL_Q8?rel=0的框架访问具有 URL](http://www.youtube.com/embed/OzOvsDVL_Q8?rel=0) [http://mountainfoodstorage.com/index.php/media](http://mountainfoodstorage.com/index.php/media)的框架 。域、协议和端口必须匹配。

我想知道我是否必须更改 JS 来解决这个问题。如果是这样，我该如何解决？

谢谢！

# opengl - 使用效用函数的opengl翻译

> ID：15426173
> 
> 赞同：0
> 
> 时间：2013-03-15T06:31:27.783
> 
> 标签：opengl, translate

这是我用于转换点的实用函数：

```
void translatePoints(float x, float y, int transX, int transY)
{
    glMatrixMode(GL_MODELVIEW);
    //glLoadIdentity();
    glBegin(GL_LINES);
    // original points
    glVertex2f(x,y);    
    glVertex2f(x + transX, y + transY);
    glEnd();
    glFlush();
} 
```

我有类似的功能来绘制圆、缩放点和旋转点 不使用矩阵平移，我必须从 myDisplay 传递 x 和 y 值，并使形状从中心平移、缩放和旋转。如果我有一个有 6 个点的形状，比如星星，这个功能就不起作用。我想这个函数必须返回两个点，否则我可以使用指针。但我不确定如何实现这些，我也相信我不应该在这个函数中画出这些点。最后，我必须绘制不同形状的场景。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:26:27.237

我想你想要的是

```
glVertex2f(x + transX, y + transY);
glVertex2f(a + transX, b + transY); 
```

您的线从 (x,y) 到 (a,b) 的位置。您正在从原始点到已翻译的原始点画一条线，而不是翻译这两个点。

希望我正确地解释了你的问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T11:41:59.383

我理解你的问题，我试图在这里解释。例如，让您使用四个点绘制 2D 正方形。制作一个变量来保存绘制正方形的坐标值，让我们假设变量名称如下

```
x1, y1, z
x2, y2, z
x3, y3, z
x4, y4, z 
```

这里z坐标是固定的。现在，如果您想创建一个函数来平移正方形，那么像这样实现您的函数。

```
void translateSquare(int transX, int transY)
{
  x1 + transX; y1 + transY;
  x2 + transX; y2 + transY;
  x3 + transX; y3 + transY;
  x4 + transX; y4 + transY;
} 
```

当您调用此函数时，您的正方形将通过值 transX 和 transY 进行平移。因此，为您的显示器制作一个类似这样的功能。

# macos - 我可以将命令行脚本转换为 AppleScript 吗？

> ID：15426180
> 
> 赞同：2
> 
> 时间：2013-03-15T06:31:49.350
> 
> 标签：macos, bash, terminal, applescript

我在终端中有我想放入 AppleScript 文件的命令。这可能吗？

**更多信息**：
我正在使用以下代码来显示隐藏文件。我在终端的命令行上键入它以使其工作：

```
defaults write com.apple.finder AppleShowAllFiles -bool true
killAll Finder 
```

我想将其转换为 AppleScript 文件，以便双击它，它会像 Windows 中的批处理文件一样运行 sortof。

**更新**：
如果有比 AppleScript 文件更好的选择，除了双击它之外，我还需要知道如何从命令行运行它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T06:37:55.997

虽然这很容易做到，但您不需要将其转换为 AppleScript - 只需将命令放入文本文件并将其保存在桌面上，例如`my_script.command`（`.command`后缀是重要部分）。然后确保文件是可执行的：

```
$ chmod +x ~/Desktop/my_script.command 
```

现在，您的桌面上有一个可双击的可执行脚本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T06:46:19.237

如果您确实需要将其放入 AppleScript 中：

```
do shell script "defaults write com.apple.finder AppleShowAllFiles -bool true"
do shell script "killall Finder" 
```

..但请注意，这不会像 shell 脚本那样容易从命令行执行（请参阅@Paul R 的答案）。

# html - 固定表格td的宽高

> ID：15426183
> 
> 赞同：0
> 
> 时间：2013-03-15T06:32:07.953
> 
> 标签：html, css, extjs, cross-browser, extjs4.1

在我的项目中，我试图通过执行以下操作来修复 's[的宽度和高度](https://stackoverflow.com/a/4636290/1577396)：`td`

```
td{
   max-width:100px;
   max-height:100px;
   width:100px;
   height:100px;
   overflow:hidden;
   word-wrap:break-word;  /* CSS3 */
} 
```

这是[**小提琴**](http://jsbin.com/avifoj/1/edit)

但是正如您在小提琴中看到的那样，如果 td 中的内容增加，它的高度就会增加。

无论如何要修复它？

请给出一个解决方案是`cross-browser`。

如果 extjs 中有可用的修复程序，那么这也可以帮助我。

PS：我知道[使用 div](http://jsbin.com/awohum/1/edit)可以轻松实现，但现在我无法更改它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:37:01.670

用 div 包装你的内容

```
table{width:500px;height:200px;}

td{border:1px solid green; width:100px;
  height:100px;}
/* My fix try */

td div{
  width:100px;
  height:100px;
  overflow:hidden;
  word-wrap:break-word; 
} 
```

**[演示](http://jsfiddle.net/pgrKM/1/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:01:16.080

我的问题有些不同。我只是给和`width:100%`标签。即，没有固定的。`height:100%``table``td`

我通过`div`在每个标签内添加 '`td`并给它们固定尺寸来解决这个问题。

```
td>div{
   /* Giving values less than the td values by assuming */
   width:100px;
   height:100px;
   overflow:hidden;
} 
```

这是[**工作小提琴**](http://jsbin.com/avifoj/3/edit)

感谢@Sowmya 提出这个想法。:)

PS：*我将其发布为答案，以便将来对其他人有所帮助*。

# android - 带有复选框问题的Android自定义列表视图

> ID：15426191
> 
> 赞同：0
> 
> 时间：2013-03-15T06:33:15.083
> 
> 标签：android, android-layout

我正在创建一个类似于 gmail 收件箱视图的列表视图。

自定义视图的 xml 布局是：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/list_subject_selector"
    android:orientation="horizontal"
    android:padding="5dip" >

<TextView
    android:id="@+id/title"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text=""
    android:textAppearance="?android:attr/textAppearanceLarge"
    android:textColor="@color/firstText"
    android:textStyle="bold"
    android:typeface="sans" />

<TextView
    android:id="@+id/details"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@id/title"
    android:layout_marginTop="1dip"
    android:text=""
    android:maxLines="1"
    android:textAppearance="?android:attr/textAppearanceMedium"
    android:textColor="@color/secondText" />

<CheckBox
    style="?android:attr/starStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_gravity="center_vertical|right"
    android:id="@+id/star" />

<TextView
    android:id="@+id/duration"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@id/details"
    android:text=""
    android:layout_marginTop="1dip"
    android:maxLines="1"
    android:textAppearance="?android:attr/textAppearanceMedium"
    android:textColor="@color/thirdText" />

<TextView
    android:id="@+id/type"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@id/details"
    android:gravity="right"
    android:layout_alignParentRight="true"
    android:layout_toRightOf="@id/duration"
    android:text=""
    android:layout_marginTop="1dip"
    android:maxLines="1"
    android:textAppearance="?android:attr/textAppearanceMedium"
    android:textColor="@color/thirdText" /> 
```

现在我想要的是当用户点击消息时，它应该被标记为已读，如果他选择了星号（复选框），那么它应该被标记为收藏。所以我的问题是，当他选择复选框时，它被标记为已读并且复选框显示为选中，当我取消选中它时，它显示为未读，我已经处理了后端的事情。

相同的代码是：

```
public View getView(int position, View convertView, ViewGroup parent) {
    View vi=convertView;
    if(convertView==null)
        vi = inflater.inflate(R.layout.list_row, null);

    TextView title = (TextView)vi.findViewById(R.id.title); 
    TextView details = (TextView)vi.findViewById(R.id.details); 
    TextView expiry = (TextView)vi.findViewById(R.id.duration);
    TextView type = (TextView)vi.findViewById(R.id.type);
    CheckBox fav = (CheckBox) vi.findViewById(R.id.star);

    final MessageDTO message = data.get(position);
    title.setText(message.getSubject());
    if(message.getExpiryDate() != null) {
        expiry.setText("Expires On : " + 
                new SimpleDateFormat(getContext()
                        .getString(R.string.detailsDisplayDateTimeFormat))
        .format(message.getExpiryDate()));          
    }
    details.setText(message.getMessage());
    type.setText(message.getType());

    if(message.isFavorite()) {
        fav.setChecked(true);
    } else {
        fav.setChecked(false);
    }
    if(message.isRead()) {
        vi.setBackgroundColor(activity.getResources().getColor(R.color.message_read));
        title.setTypeface(null, Typeface.NORMAL);
        details.setTypeface(null, Typeface.NORMAL);
    } else {
        vi.setBackgroundColor(Color.WHITE);
        title.setTypeface(null, Typeface.BOLD);
        details.setTypeface(null, Typeface.BOLD);
    }
    vi.setClickable(true);
    vi.setFocusable(true);
    vi.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            messageRepository.markMessageRead(message.getId());
            Intent intent = new Intent(activity, MessageDetailsActivity.class);
            intent.putExtra("com.xyz.android.msgId", message.getId());
            activity.startActivity(intent);
        }
    });

    fav.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            CheckBox cb = (CheckBox) v;
            if(message.isFavorite() && !cb.isChecked()) {
                messageRepository.markMessageFav(message.getId(), 0);
            } else if(!message.isFavorite() && cb.isChecked()) {
                messageRepository.markMessageFav(message.getId(), 1);
            }
        }
    });
    return vi;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:51:00.743

而不是在您的convertView 上处理onclickListner，即“vi”在“TextView 标题”上设置onclickListner。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:51:53.727

为什么不使用首选项来选中或取消选中复选框的状态，然后通过从保存的首选项值中读取值来完成其余的工作

# java - 加载包含带有数组元素的数组的 json 文件时出错

> ID：15426196
> 
> 赞同：0
> 
> 时间：2013-03-15T06:33:42.900
> 
> 标签：java, json, arrays

我正在为我正在开发的一款安卓小游戏编写加载器/保护程序。我通过为游戏中的每个“演员”创建一个 json 对象，将它们保存为 json 文件，将它们放入 jsonarray，然后将其写入`jsonarray.tojsonstring()`文件。

这是我保存的方式，我调用保存级别方法，该方法将每个参与者添加到数组中，`addActor()`然后调用该`writefile()`方法

```
 public void addActor(Actor actor, int index, JSONArray actorArray) {
    if (actor != null) {
        System.out.println("adding actor " + actor.name);
    } else {
        System.out.println("Adding nulla ctor");
    }
    if (actors[index] != null) {
    } else {
        actors[index] = new JSONObject();
        actors[index].put("index", index);
        actors[index].put("bodyname", actor.name);
        actors[index].put("restitution", actor.body.getFixtureList().get(0).getRestitution());
        actors[index].put("density", actor.body.getFixtureList().get(0).getDensity());
        actors[index].put("friction", actor.body.getFixtureList().get(0).getFriction());
        actors[index].put("startx", actor.startX);
        actors[index].put("starty", actor.startY);
        actors[index].put("startrotation", actor.startAngle);
        actors[index].put("rotationspeed", actor.rotSpeed);
        actors[index].put("enabled", actor.enabled);
        actors[index].put("numPaths", actor.numPaths);
        if (actor.numPaths > 0) {
            JSONArray[] pathx = new JSONArray[actor.getNumPaths()];
            JSONArray[] pathy = new JSONArray[actor.getNumPaths()];
            JSONArray[] pathspeed = new JSONArray[actor.getNumPaths()];
            for (int i = 0; i < actor.getNumPaths(); i++) {
                pathx[i] = new JSONArray();
                pathy[i] = new JSONArray();
                pathspeed[i] = new JSONArray();
                for (int j = 0; j < actor.getPath(i).size; j++) {
                    pathx[i].add(actor.getPath(i).points[j].x);
                    pathy[i].add(actor.getPath(i).points[j].y);
                    pathspeed[i].add(actor.getPath(i).points[j].speed);
                }
            }
            System.out.println("added " + actor.name + ", " + pathx.length + " paths.");
            actors[index].put("pathx", pathx);
            actors[index].put("pathy", pathy);
            actors[index].put("pathspeed", pathspeed);
        }
        //indices.add(index);
        actorArray.add(actors[index]);
    }
}

public void writeFile(String name, JSONArray actorArray) {
    try {
        FileWriter writer = new FileWriter("C:\\Users\\mojo\\Desktop\\svn\\Ball\\src\\com\\moe\\ball\\levels\\" + name + ".json");
        writer.write(actorArray.toJSONString());
        writer.flush();
        writer.close();
    } catch (IOException e) {
        e.printStackTrace();
    }
}

    public void saveLevel(String levelName, BallScreen screen) {
    JSONArray actorArray = new JSONArray();
    for (int i = 0; i < screen.maxActor; i++) {
        addActor(screen.actorList[i], i, actorArray);
    }
    writeFile(levelName, actorArray);

} 
```

抱歉，当我弄清楚 json 库并试图解决问题时，里面有很多随机的东西。这是一段代码，用于测试其加载是否正确

```
 JSONArray array = (JSONArray) parser.parse(new FileReader("C:\\Users\\mojo\\Desktop\\svn\\Ball\\src\\com\\moe\\ball\\levels\\" + name + ".json"));
        JSONObject obj;
        for (int i = 0; i < array.size(); i++) {
            obj = (JSONObject) array.get(i);
            System.out.println("bodyname " + i + ": " + obj.get("bodyname"));
        } 
```

当加载任何具有多个移动路径的actor的关卡（因此在actor的主数组的一个元素内有一个数组）时，我 `JSONArray array = ....` 在行中收到一条错误消息：

```
Unexpected character (L) at position 50. 
```

这是 json 文件中的一个小片段，因此您可以看到它在哪里引起问题

```
[{"enabled":true,"index":0,"density":0.6,"pathy":[Lorg.json.simple.JSONArray;@39d3da65,"friction":0.6,"rotationspe
the \`L\` in \`[Lorg.json....\` is at position 50. 
```

抱歉，如果这是一个愚蠢的问题，我对此很陌生，我确实花了几个小时搜索，如果我在这里找不到答案，我将尝试不同的 json 库（我现在正在使用 json.simple）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:07:06.550

您正在尝试将`JSONArray`s 的 Java 数组存储为 JSON 对象的`pathx`和`pathy`属性。您应该存储 a `JSONArray`of `JSONArray`s 。

# c - 结构宏

> ID：15426198
> 
> 赞同：1
> 
> 时间：2013-03-15T06:33:50.307
> 
> 标签：c, macros, struct

我有一个结构

```
typedef struct lzma_next_coder_s lzma_next_coder;

struct lzma_next_coder_s {
lzma_coder *coder;
lzma_vli id;
uintptr_t init;
lzma_code_function code;
lzma_end_function end;
lzma_check (*get_check)(const lzma_coder *coder);
lzma_ret (*memconfig)(lzma_coder *coder, uint64_t *memusage,
        uint64_t *old_memlimit, uint64_t new_memlimit);
lzma_ret (*update)(lzma_coder *coder, lzma_allocator *allocator,
        const lzma_filter *filters,
        const lzma_filter *reversed_filters);
}; 
```

以下是宏：

```
#define LZMA_NEXT_CODER_INIT \
(lzma_next_coder){ \
    .coder = NULL, \
    .init = (uintptr_t)(NULL), \
    .id = LZMA_VLI_UNKNOWN, \
    .code = NULL, \
    .end = NULL, \
    .get_check = NULL, \
    .memconfig = NULL, \
    .update = NULL, \
} 
```

这是电话

`lzma_next_coder *next;`

`next = LZMA_NEXT_CODER_INIT;` `line 210`.

主要目的是`next`用 NULL 初始化结构。

但我在第 210`error C2059: syntax error : '{'`行`error C2143: syntax error : missing ';' before '{'`

我正在使用 Visual Studio 2010 进行编译。我猜 VS 不识别`.coder=NULL`样式语法。我还编写了一个函数（而不是宏），在其中我像这样用 NULL 初始化结构成员。

```
lzma_next_coder make_null_lzma()
{
lzma_next_coder temp;
temp.coder = NULL;
    //other members
    return temp;
}
next = make_null_lzma(); 
```

错误现在消失了，但我遇到了运行时崩溃。我做得对吗？next 真的用 NULL 初始化吗？还是我搞砸了？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T06:41:02.000

错误消息的格式就像它们来自 MSVC。MSVC 不支持 C99；您使用的结构是 C99 而不是 MSVC 支持的 C89。

您要么需要找到 C99 编译器（建议使用 GCC 编译器，例如 Cygwin 或 MinGW），要么放弃复合文字和指定初始化程序的便利。

功能版本应该可以正常工作。您可以通过打印出初始化结构来检查您是否已初始化所有内容。我假设在函数定义和它在分配给`temp`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T06:42:33.487

基本问题是`LZMA_NEXT_CODER_INIT`用于初始化结构，而`next`是*指向*结构的指针。要将其初始化为 NULL，只需执行以下操作：

```
next = NULL 
```

此外，Visual C++ 无论如何也不支持这种初始化，因为它是在 C99 中引入的，Visual Studio 不支持。要解决此限制，您可以使用 C90 样式的初始化替换宏：

```
#define LZMA_NEXT_CODER_INIT \
{ \
    NULL, \
    LZMA_VLI_UNKNOWN, \
    (uintptr_t)(NULL), \
    NULL, \
    NULL, \
    NULL, \
    NULL, \
    NULL, \
} 
```

请注意，字段已重新排列以匹配结构的顺序。

*编辑：*这仅在初始化结构时有效。如果要分配给已经存在的结构，可以创建一个临时结构并将其分配给旧结构。例如：

```
{
  tmp lzma_next_coder_s tmp = LZMA_NEXT_CODER_INIT;
  old = tmp;
} 
```

# c# - 从 C# windows 服务使用 Outlook Office.Interop

> ID：15426201
> 
> 赞同：1
> 
> 时间：2013-03-15T06:34:17.857
> 
> 标签：c#, outlook, office-interop

我刚刚创建了一个 C# 桌面应用程序供我个人使用，它使用库读取我的 Outlook 日历 `Office.Interop` 并将所有项目发布到 Google 日历。在我尝试将其转换为 Windows 服务之前，它运行良好。它总是抛出以下错误：

```
The file E:\...\Outlook Data File.pst cannot be opened. 
```

我尝试使用不同的用户帐户，但没有任何效果。同时，桌面应用程序按预期工作。任何的想法？

代码：

```
Microsoft.Office.Interop.Outlook.Application application = null;
Microsoft.Office.Interop.Outlook.NameSpace applicationNamespace = null;
Microsoft.Office.Interop.Outlook.MAPIFolder folder = null;
Microsoft.Office.Interop.Outlook.Items calendarItems = null;

application = new Microsoft.Office.Interop.Outlook.Application();
applicationNamespace = application.GetNamespace("MAPI"); ;
folder = applicationNamespace.GetDefaultFolder(
    Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderCalendar);
calendarItems = folder.Items;

foreach (
    Microsoft.Office.Interop.Outlook.AppointmentItem item in calendarItems)
{
    // process item
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:26:52.280

无人值守的非交互式应用程序似乎不支持 Interop：

相关 Stackoverflow 答案：[https](https://stackoverflow.com/a/13480267/1716736)
://stackoverflow.com/a/13480267/1716736 微软文章：http: [//support.microsoft.com/kb/257757](http://support.microsoft.com/kb/257757)

# android - android中的一些关键注释生成事件和另一个关键生成事件不起作用

> ID：15426204
> 
> 赞同：0
> 
> 时间：2013-03-15T06:34:32.863
> 
> 标签：android, events, textview

我正在尝试通过以下代码处理 android 中的事件软键盘：

```
 public class MainActivity extends Activity implements OnKeyListener  {
     EditText editText1;
     EditText editText2;
          public void onCreate(Bundle savedInstanceState) {
          super.onCreate(savedInstanceState);
          setContentView(R.layout.activity_main);
          editText1 = (EditText) findViewById(R.id.editText1);
          editText1.setOnKeyListener(this);
          editText2 = (EditText) findViewById(R.id.editText2);
          editText2.setOnKeyListener(this);
        //  InputMethodManager imm = (InputMethodManager)       getSystemService(Context.INPUT_METHOD_SERVICE);
        // imm.showSoftInput(editText1, InputMethodManager.SHOW_IMPLICIT);
           }
          public boolean onKey(View view, int keyCode, KeyEvent event) {
              if (keyCode == KeyEvent.KEYCODE_B|| keyCode ==KeyEvent.KEYCODE_5) 
              {

                  editText2.setText("hello");  
                   return true;
              }

              return false; // pass on to other listeners.
             }
        } 
```

但是当我按 b 或任何键时永远不会产生任何东西

当我按下数字键时产生了事件

请任何人帮助我并编辑我的代码。

感谢您的帮助，但我整理了该代码并且无法正常工作，并且是新代码：

```
public class MainActivity extends Activity   {
     EditText editText1;
     EditText editText2;
          public void onCreate(Bundle savedInstanceState) {
          super.onCreate(savedInstanceState);
          setContentView(R.layout.activity_main);
          editText1 = (EditText) findViewById(R.id.editText1);

          editText2 = (EditText) findViewById(R.id.editText2);

        //  InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
        // imm.showSoftInput(editText1, InputMethodManager.SHOW_IMPLICIT);
           }
          public boolean onKeyDown(int keyCode, KeyEvent event) {
              if (keyCode == KeyEvent.KEYCODE_B|| keyCode ==KeyEvent.KEYCODE_5) 
              {

                  editText2.setText("hello");  
                   return true;
              }

              return false; // pass on to other listeners.

        }

        } 
```

请关注我的问题我的问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:39:50.160

来自[http://developer.android.com/reference/android/view/KeyEvent.html](http://developer.android.com/reference/android/view/KeyEvent.html)

*由于软输入法可以使用多种创新方式输入文本，因此无法保证软键盘上的任何按键都会产生按键事件：这由 IME 自行决定，实际上不鼓励发送此类事件。您永远不应该依赖接收 KeyEvents 来获取软输入法上的任何键。特别是，默认的软件键盘永远不会向任何针对 Jelly Bean 或更高版本的应用程序发送任何键事件，并且只会向针对 Ice Cream Sandwich 或更早版本的应用程序发送某些按下删除键和返回键的事件。请注意，其他软件输入法可能永远不会发送按键事件，无论版本如何。如果您需要与软件键盘进行特定交互，请考虑使用 IME_ACTION_DONE 等编辑器操作，

因此，大多数键不会生成任何 KeyEvent。

要捕获按下的软键盘，您可以尝试

```
@Override public boolean dispatchKeyEvent(KeyEvent event) 
{ 
    int keyCode = event.getKeyCode();
    if (keyCode == KeyEvent.KEYCODE_B|| keyCode ==KeyEvent.KEYCODE_5) 
          {

              editText2.setText("hello");  

          }
    return super.dispatchKeyEvent(event); 
} 
```

或者，如果您想在软键盘处理按键之前进行处理，请在 dispatchKeyEventPreIme（KeyEvent 事件）中使用相同的代码

# ruby-on-rails - 如何开始制作一个使用 rails 从 flickr 获取照片的网站

> ID：15426210
> 
> 赞同：1
> 
> 时间：2013-03-15T06:34:58.117
> 
> 标签：ruby-on-rails, api, flickr

我对 Rails 很陌生，所以我在哪里可以获得资源来帮助我完成这项工作？我需要什么宝石？如何使用 rails 在网站内使用 flickr api？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T09:38:47.220

你可以使用一个不错的 gem`flickraw`来做到这一点。请查看以下链接：

[Flickraw RDoc](http://hanklords.github.com/flickraw)

[将 Flickr 集成到您的 Rails 网站中](http://code.flickr.net/2009/04/09/integrating-flickr-into-your-rails-website/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-04T06:01:00.987

使用 'flickr_fu' gem 使用起来非常简单[https://github.com/commonthread/flickr_fu](https://github.com/commonthread/flickr_fu)。请访问[http://www.pixellatedvisions.com/2009/04/06/integrating-flickr-into-your-rails-website](http://www.pixellatedvisions.com/2009/04/06/integrating-flickr-into-your-rails-website)

# linux - linux多核负载均衡

> ID：15426217
> 
> 赞同：-3
> 
> 时间：2013-03-15T06:35:55.247
> 
> 标签：linux, multiprocessing, load-balancing

我想知道 Linux 用于在多核架构中平衡负载/核心的负载平衡策略，我在 google、stackoverflow 上进行了很多搜索，但无法获得有用的材料。我的项目需要此信息，如果可能，请尝试帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:57:58.963

这可能会有所帮助。[linux-负载平衡-实现](http://www.techfuels.com/general-software-terms/11084-linux-load-balancing-implementation.html)

# vb.net - vb.net 组合框人口获取第一个组合框的索引

> ID：15426218
> 
> 赞同：1
> 
> 时间：2013-03-15T06:36:00.367
> 
> 标签：vb.net, combobox

我在加载时用这个代码填充了我的组合框1

```
sql = "select name1,id1 from table1"
da = New Odbc.OdbcDataAdapter(sql, con)
da.Fill(ds, "cbtbl1")
ComboBox1.DataSource = ds.Tables("cbtbl1")
ComboBox1.DisplayMember = ds.Tables("cbtbl1").Columns("name1").Caption 
```

我的第二个组合框 2 与组合框 1 相关。我将此代码插入到 combobox1 中`selectedvaluechanged`。这将根据其相关 ID 更改为 combobox2 的值

```
sql = "select name2,id2 from table2 where id1=" & ???????
da = New Odbc.OdbcDataAdapter(sql, con)
da.Fill(ds, "cbtbl2")
ComboBox2.DataSource = ds.Tables("cbtbl2")
ComboBox2.DisplayMember = ds.Tables("cbtbl2").Columns("name2").Caption 
```

在我的代码中，我有问号。它应该是 table1 的 id，我不知道如何获取 :( 或者放什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:55:35.907

您应该将`ValueMember`Combobox1 的 设置为您从数据库中检索到的 ID，并使用该`SelectedValue`属性来检索所选项目的 ID。

除非您在数据绑定 Combobox1 时指定属性，否则我认为它不会起作用`ValueMember`，所以不要忘记先这样做。

好的，我用我目前正在处理的数据库快速组合了一些东西（它是 OLEDB，但对此无关紧要）

```
Public Sub New()

    ' This call is required by the designer.
    InitializeComponent()

    ' Add any initialization after the InitializeComponent() call.

    Dim ds As New DataSet()
    Dim test As New OleDbDataAdapter("SELECT [ID], [名前] FROM [Tレイヤ管理]", DBConnections.PrimaryAccessDBConnection)
    Call test.Fill(ds, "testTable")

    Me.ComboBox1.DataSource = ds.Tables("testTable")
    Me.ComboBox1.ValueMember = "ID"
    Me.ComboBox1.DisplayMember = "名前"

    AddHandler Me.ComboBox1.SelectedValueChanged, AddressOf Something

End Sub

Private Sub Something(sender As Object, e As EventArgs)

    Call MessageBox.Show(String.Format("ID {0}", Me.ComboBox1.SelectedValue))

End Sub 
```

我的身份证显示得很好。

更新：

如果这仍然不起作用，那么您可以通过以下方式获取所选项目：

Private Sub Something(sender As Object, e As EventArgs)

```
 Dim selectedItem As DataRowView = CType(Me.ComboBox1.SelectedItem, DataRowView)

    Call MessageBox.Show(String.Format("ID {0} Name {1}", New Object() {selectedItem("ID"), selectedItem("名前")}))

End Sub 
```

# angularjs - angular.js 从 url 获取斜线分隔的路径

> ID：15426226
> 
> 赞同：2
> 
> 时间：2013-03-15T06:36:24.540
> 
> 标签：angularjs

我需要在我的网站的 url 中将文件路径作为参数（将包含一些“/”字符）。如何从 url 解析这样的参数？类似的东西`http://localhost/path/to/file`会更好，但如果那不起作用，`http://localhost/?path=/path/to/file`或者某些东西也可以起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-09T11:42:46.187

在控制器中使用位置。首先像这样将 html5mode 设置为 true

然后您可以使用 location.search ，它将返回字符串而不会出现任何错误。有关位置的更多使用，请转到此处[https://docs.angularjs.org/api/ng/service/](https://docs.angularjs.org/api/ng/service/) $location

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-14T23:08:34.273

看看[URI.js](http://medialize.github.io/URI.js/)，它看起来像你需要的。

# android - SDK Manager exec:114 java not found error in Ubuntu while running SDK manager

> ID：15426227
> 
> 赞同：2
> 
> 时间：2013-03-15T06:36:28.040
> 
> 标签：android, linux, eclipse, ubuntu

我已经安装了Android-SDK 64位版本的Java-ADT，安装了jdk 64位版本，安装了jre 64位版本，将jre1.7.0_17复制到eclipse文件夹并将其重命名为jre（之后我能够运行eclipse） .

echo $PATH 给出“/allSystemPaths:/pathToJDK:/PathToJDK/bin:/PathToJRE:/PathToJRE/bin:/PathToSDK/PlatformTools:/PathToSDK/tools”

echo $JAVA_HOME 给出“/pathToJDK:/PathToJRE”

但是当我运行 ANDROID SDK Manager 时，仍然出现 java not found error in android。我搜索了很多但无法解决它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-07T05:10:31.987

根据[Eclipse 文档](https://wiki.eclipse.org/Eclipse.ini)，您可以在 eclipse.ini 中定义自定义 JVM ：

> 最推荐使用的选项之一是为 Eclipse 指定一个特定的 JVM 来运行。这样做可以确保您绝对确定 Eclipse 将在哪个 JVM 中运行，并使您免受系统更改的影响，这些更改可能会改变您系统的“默认”JVM。许多用户被绊倒了，因为他们认为他们知道默认情况下会使用什么 JVM，但他们认为错了。eclipse.ini 让你确定。

为此，您需要知道您的 Eclipse 主目录在哪里或对其进行定义。在控制台运行：

```
$ echo $ECLIPSE_HOME 
```

如果您获得路径，请跳过下一步。如果你一无所获，那意味着你必须定义一个。在您的主目录上，只需编辑 .bashrc 文件并在最后一个文件中添加：

```
ECLIPSE_HOME=$HOME/.eclipse 
```

在此之后，您的 ECLIPSE_HOME 将是 /home/YOUR_USER/.eclipse

一旦定义了 ECLIPSE_HOME，您需要在 ECLIPSE_HOME 目录中创建或编辑一个名为 eclipse.ini 的文件。此类文件应具有以下内容：

```
 -vm
 /opt/sun-jdk-1.6.0.02/bin/java 
```

其中 /opt/sun-jdk-1.6.0.02/bin/java 是 java 的绝对路径。

# pointers - 在 Ada 中将字符串分配给链表的问题

> ID：15426229
> 
> 赞同：1
> 
> 时间：2013-03-15T06:36:39.933
> 
> 标签：pointers, for-loop, linked-list, ada

我正在尝试引入一个字符串并将其逐个字符地分配给一个链接列表，声明如下：

```
type lstring is private;
type lstring_node;
type lstring_access is access lstring_node;
type lstring_node is
    record
        Char : character;
        Position : integer;
        Next : lstring_access;
    end record;

private
   type lstring is 
      record
          First : lstring_access := null;
      end record; 
```

分配它的功能如下：

```
function toLstring (Input : string) return lstring is
    LStr : lstring;
    Current : lstring_access;
begin
    -- Set the first item of LStr as Current.
    -- LStr will from now on inherit the items of Current.
    LStr.First := new lstring_node;
    Current := LStr.First;

    -- Iterate through the string and add it to the lstring.
    for I in 1..Input'Length loop
        if I /= 1 then
            Current := new lstring_node;
        end if;
        Current.Char := Input(I);
        Ada.Text_IO.Put(Current.Char);
        Current.Position := I;
        Current := Current.Next;
    end loop;

    -- Return the new lstring.  
    return LStr;
end toLstring; 
```

我通过调试知道 for 循环工作得很好，并且元素被分配给 Current 就好了。但由于某种原因，这些项目没有被添加到 LStr。我需要在 for 循环之后声明一些东西来完成它吗？我的印象是，由于 Current 被分配给 LStr.First，LStr 将继承附加列表的其余部分。我错了吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:11:12.760

在循环结束时，您将`Current.Next`（此时为空）分配给`Current`. 这是一个价值副本。在下一次迭代中更改的值`Current`不会更改`Next`前一个节点中的值。（注意`Current.Char`and`Current.Next`是实际上会执行`Current.all.Char`/的隐式取消引用`Next`，但`Current := new lstring_node`不是取消引用，因为它会更改引用的值。）

相反，您应该分配`new lstring_node`给`Next`然后推进您的`Current`参考：

```
for I in Input'Range loop
    Current.Char := Input(I);
    Ada.Text_IO.Put(Current.Char);
    Current.Position := I - Input'First + 1;
    if I /= Input'Last then
        Current.Next := new lstring_node;
        Current := Current.Next;
    end if;
end loop; 
```

请注意，我更改了循环范围（字符串不需要从 1 开始）并调整了位置计算，因此您最终会在列表中得到一个基于 1 的位置索引。

# java - 当它是一个带有杰克逊的空列表时，不要返回属性

> ID：15426232
> 
> 赞同：27
> 
> 时间：2013-03-15T06:36:48.580
> 
> 标签：java, json, jackson

我有一个类需要使用杰克逊反序列化，并且该类具有一个集合属性。集合为空，但不为空。问题：如何在**没有**空集合的情况下反序列化类。下面的示例代码：

```
class Person
{
    String name;
    List<Event> events;
    //....getter, setter
} 
```

如果

```
person.list = new List<Event>(); 
persion.name = "hello"; 
```

然后除了 json 将是：

```
{name: "hello"} 
```

不是

```
{name: "hello", events:[]} 
```

怎么做？谢谢~~

=================================================

我已经通过 n1ckolas 的建议解决了这个问题。先谢谢你。我的jackson版本是2.1.1，Spring-3.2.2对jackson这个版本导入更好的支持。此外，这适用于**数组和集合。** 以下是我的配置：

```
<!-- Enables the Spring MVC @Controller programming model -->
<mvc:annotation-driven>
    <mvc:message-converters>
        <bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">
            <property name="objectMapper" ref="objectMapper"/>
        </bean>
    </mvc:message-converters>        
</mvc:annotation-driven>

<!--Json Mapper-->
<bean name="objectMapper" class="org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean" autowire="no">
    <property name="featuresToDisable">
        <list>
            <!--not to return empty colletion-->
            <value type="com.fasterxml.jackson.databind.SerializationFeature">WRITE_EMPTY_JSON_ARRAYS</value>
        </list>
    </property>
</bean> 
```

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2017-10-18T09:15:31.423

您可以在您的班级或归档中使用 @JsonInclude(JsonInclude.Include.NON_EMPTY) 注释。

```
import com.fasterxml.jackson.annotation.JsonInclude;
@JsonInclude(JsonInclude.Include.NON_EMPTY)
class Person
{
    String name;
    List<Event> events;
    //....getter, setter
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-15T09:21:01.447

如果您可以使用 Jackson 注释更改您的原始模型，这是实现此目的的方法。

杰克逊有[WRITE_EMPTY_JSON_ARRAYS](https://github.com/FasterXML/jackson-databind/wiki/Serialization-Features)。您可以通过以下方式关闭它：

```
objectMapper.configure(SerializationConfig.Feature.WRITE_EMPTY_JSON_ARRAYS, false); 
```

但它仅适用于`Arrays`，但不适用于`Collections`。但您可以结合`@JsonProperty`，`@JsonIgnore`如下所示：

```
//....getter, setter of Person class
@JsonIgnore
public List<Event> getEvents() {
    return events;
}

@JsonProperty("events")
public Event[] getEventsArr() {
    return events.toArray(new Event[0]);
} 
```

之后，您将获得如您所料的输出。

**编辑**：如果您使用的是 SpringMVC，那么您可以使用以下中的`ObjectMapper`显式参考配置您的实际`mvc:annotation-driven`：

```
<!-- Configures the @Controller programming model -->
<mvc:annotation-driven>
    <mvc:message-converters>
        <bean class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter">
            <property name="objectMapper" ref="objectMapper"/>
        </bean>
    </mvc:message-converters>
</mvc:annotation-driven>

<!--custom Json Mapper configuration-->
<bean name="objectMapper" class="org.springframework.http.converter.json.JacksonObjectMapperFactoryBean" autowire="no">
    <property name="featuresToDisable">
        <list>
            <!--Ignore unknown properties-->
            <value type="org.codehaus.jackson.map.SerializationConfig.Feature">WRITE_EMPTY_JSON_ARRAYS</value>
        </list>
    </property>
</bean> 
```

*Offtop：*通常指定显式实例非常有用`ObjectMapper`，因为：

*   你可以按照你想要的方式配置它
*   您可以通过`@Autowired`

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-08-12T15:51:02.960

如果您使用的是 Spring Boot，只需添加`application.properties`以下内容：

```
spring.jackson.serialization-inclusion=NON_EMPTY 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2019-08-08T12:08:40.583

使用此注释 `@JsonInclude(JsonInclude.Include.NON_EMPTY)`

```
@JsonInclude(JsonInclude.Include.NON_EMPTY)
person.list = new List<Event>(); 
```

从文档

> 指示仅具有空值的属性或被视为空的属性不包括在内的值。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-09-19T18:42:39.290

Spring boot 会自动从 application.properties 中选择属性，您可以添加以下属性：

```
spring.jackson.serialization.write-empty-json-arrays=false 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-15T09:15:32.670

1.  您可以使用 JSON 视图，如下所示：[Jackson - 动态抑制属性的序列化（写入）](https://stackoverflow.com/questions/2981359/jackson-suppressing-serializationwrite-of-properties-dynamically/4422029#4422029)

2.  另一种方法是定义另一个类，几乎与 类似`Person`，但没有`events`属性。然后根据集合的值，您可以决定序列化原始`Person`对象或替代的`events`-less 对象。恕我直言，这更简单，应该适用于上述情况，但不如第一种选择灵活。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-03-03T09:07:13.130

@JsonInclude(JsonInclude.Include.NON_EMPTY) 在班级级别包含此内容，将执行以下操作。

1.  仅包含非空值
2.  仅包括非空列表

# java - 不能进行静态引用，即使没有什么是静态的？

> ID：15426234
> 
> 赞同：0
> 
> 时间：2013-03-15T06:36:54.360
> 
> 标签：java, android, json, gson

我的课很好。它有一个很好的内部类。那个内部类有一些不错的公共变量。

如何在外部类的构造函数中使用内部类的变量？

```
public class Outer {
    class Inner {
        public int id;
        public Inner () { }
    }

    public Outer () {
        System.out.println(Inner.id); // Error!
    }
} 
```

“无法对非静态字段 Inner.id 进行静态引用。”

该项目使用 Gson；类 Inner 及其属性 id 由一些 JSON 定义，如下所示：

```
{
    "Outer": {
        "Inner": {
            "id": 0
        }
    }
} 
```

然后我像往常一样使用 Gson 调用序列化它。

```
Gson gson = new Gson();
Outer o = gson.fromJson(json, Outer.class); 
```

我在这里做错了吗？我可以将 Inner 与 id 一起更改为静态类，但这会使 Gson 呕吐。我可以设置静态 getter 和 setter，但这也不起作用。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T06:41:18.603

以上所有建议都是正确的答案，但我建议您的内部类应该是静态的。因为

InnerClass 的实例只能存在于 OuterClass 的实例中，并且可以直接访问其封闭实例的方法和字段。

要实例化内部类，您必须先实例化外部类。然后，用这个在外部对象中创建内部对象

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:38:40.767

尝试使用 System.out.println( `new`Inner().id);

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:39:19.433

System.out.println(new Inner().id);

# php - php : 电子邮件发送失败，附件不止一个

> ID：15426236
> 
> 赞同：6
> 
> 时间：2013-03-15T06:36:55.070
> 
> 标签：php, email, email-attachments

我正在尝试在 php 中实现邮件功能，它与单个附件一起工作正常，但问题是当我尝试发送多个附件时，它不起作用。我正在使用 php mail() 函数发送电子邮件，我正在尝试附加 PDF 和图像文件。如果附加PDF，则不会附加图像，如果附加图像，则不会附加PDF。有什么想法我做错了吗？

```
$header       .= 'From: test <noreply@test.ae>' . "\r\n";       
$header       .= "MIME-Version: 1.0\r\n";
$file           = '1.png'
$displayname    = '1.png';
$file_size     = filesize($file);
$handle        = fopen($file, "r");
$content       = fread($handle, $file_size);
fclose($handle);
$content       = chunk_split(base64_encode($content));
$uid           = md5(uniqid(time()));
$name          = basename($file);

$filepdf        = '1.pdf'
$displaynamepdf= '1.pdf';
$file_sizepdf  = filesize($filepdf);
$handlepdf     = fopen($filepdf, "r");
$contentpdf    = fread($handlepdf, $file_sizepdf);
fclose($handlepdf);
$contentpdf    = chunk_split(base64_encode($contentpdf));
$name          = basename($file);

$header       .= "Content-Type: multipart/mixed; boundary=\"".$uid."\"\r\n\r\n";
$header       .= "This is a multi-part message in MIME format.\r\n";
$header       .= "--".$uid."\r\n";
$header       .= "Content-type:text/plain; charset=iso-8859-1\r\n";
$header       .= "Content-Transfer-Encoding: 7bit\r\n\r\n";
$header       .= $message."\r\n\r\n";
$header       .= "--".$uid."\r\n";
$header       .= "Content-Type: application/octet-stream; name=\"".$displayname."\"\r\n"; // use different content types here
$header       .= "Content-Transfer-Encoding: base64\r\n";
$header       .= "Content-Disposition: attachment; filename=\"".$displayname."\"\r\n\r\n";
$header       .= $content."\r\n\r\n";

$header       .= "Content-Type: application/octet-stream; name=\"".$displaynamepdf."\"\r\n"; // use different contentpdf types here
$header       .= "Content-Transfer-Encoding: base64\r\n";
$header       .= "Content-Disposition: attachment; filename=\"".$displaynamepdf."\"\r\n\r\n";
$header       .= $contentpdf."\r\n\r\n";
$header       .= "--".$uid."--";

if (mail($to, $subject, "", $header)) {
   return 'sent';
} else {
    return 'not sent';
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:04:48.167

[PHPMailer](http://www.askapache.com/php/phpfreaks-eric-rosebrocks-phpmailer-tutorial.html)最适合用于电子邮件。

查看下面的一些链接，这些链接将来也会对您有所帮助：

1.  [使用 PHPMailer 在 PHP Mail 中添加文件附件](http://www.askapache.com/php/phpfreaks-eric-rosebrocks-phpmailer-tutorial.html#File_Attachments_PHP_Mail_PHPMailer)
2.  [php邮件附件](https://stackoverflow.com/questions/10876228/php-mailer-attachments)
3.  [使用 phpMailer 的附件](https://stackoverflow.com/questions/6322610/phpmailer-attachment)
4.  [PHPMailer 教程](http://phpmailer.worxware.com/index.php?pg=tutorial)
5.  [一个简单的例子：使用 Phpmailer 发送带有附件的电子邮件](http://tournasdimitrios1.wordpress.com/2011/11/08/a-simple-example-sending-email-with-attachment-using-phpmailer/)
6.  [PHP使用带有SMTP身份验证的PHPMailer发送带有多个附件的电子邮件](http://4rapiddev.com/php/phpmailer-send-email-with-attachments-via-smtp-authentication/)
7.  [使用 PHP 发送带有多个附件的电子邮件](http://kanakvaghela.wordpress.com/2011/05/21/sending-email-with-multiple-attachments-with-php/)

这可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:52:10.297

您已经设置`$file`为`$filepdf`“1.png”。设置`$filepdf="1.pdf"`以使标题的其余部分正确。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:02:33.077

这是邮件功能中多个附件的代码..

我已经创建了多个附件的功能。并检查这一点。

```
/* 
     * Function Name: sentMail
     * Scope        : Sent Mail Function with CC , BCC and Attachment files..
     * Input        : Recipient Name            => $recipientName   // (Required)
     *                Recipient MailId(Many)    => $recipientMailId // (Required & Array Format)
     *                Subject Content           => $subjectContent  // (Required)
     *                Message Content           => $messageContent  // (Required)
     *                Sender MailId             => $senderMailId    // (Required)
     *                Sender Name(Many)         => $senderName      // (Required)
     *                Recipient CC MailId       => $recipientCCMailId   //(Optional & Array Format)
     *                Recipient BCC MailId      => $recipientBCCMailId  //(Optional & Array Format)
     *                Attachment Files          => $attachmentFiles     //(Optional & Array Format)
     * Output       : Sent mail to the Recipient.
     */
    public function sentMail($recipientName,$recipientMailId,$subjectContent,$messageContent,$senderName,$senderMailId,$recipientCCMailId,$recipientBCCMailId,$attachmentFiles)
    {
        try 
        {
            /*Get the Mulitple Recipient CC MailId*/
            if(isset($recipientCCMailId)){
                if(count($recipientCCMailId)>1){
                    $recipientCCMailId = implode(',',$recipientCCMailId);
                }
                else{
                    $recipientCCMailId = $recipientCCMailId[0];
                }
            }

            /*Get the Mulitple Recipient BCC MailId*/
            if(isset($recipientBCCMailId)){
                if(count($recipientBCCMailId)>1){
                    $recipientBCCMailId = implode(',',$recipientBCCMailId);
                }
                else{
                    $recipientBCCMailId = $recipientBCCMailId[0];
                }
            }

            /*** Mail Contents Starts ***/
                $subj = $subjectContent;
                $msg ="";

                /*Get the Mulitple Recipient BCC MailId*/
                if(count($recipientMailId)>1){
                    $recipientMailId = implode(',',$recipientMailId);
                    $msg .="Dear, <b>All</b>\r <br>";
                }
                else{
                    $recipientMailId = $recipientMailId[0];
                    $msg .="Dear, <b>".ucwords($user_name)."</b> \r <br>";
                }
                $msg .=$messageContent."\r <br><br>";
                $msg .="Thank you"."\r\n\n <br>";
                $msg .=$senderName."\r\n\n <br><br>";

                $headers ="";

                /** Get the Mulitple Attachment files and Attachment Process Starts **/
                if(isset($attachmentFiles)){
                    $headers .= "From: ".$senderMailId."\r\n";
                    $headers .= "Cc: ".$recipientCCMailId."\r\n";
                    $headers .= "Bcc: ".$recipientBCCMailId."\r\n";
                    // boundary
                    $semi_rand = md5(time());
                    $mime_boundary = "==Multipart_Boundary_x{$semi_rand}x";

                    // headers for attachment
                    $headers .= "\nMIME-Version: 1.0\n" . "Content-Type: multipart/mixed;\n" . " boundary=\"{$mime_boundary}\"";
                     // multipart boundary
                    $msg .= "--{$mime_boundary}\n" . "Content-Type: text/plain; charset=\"iso-8859-1\"\n" .
                    "Content-Transfer-Encoding: 7bit\n\n" . $msg . "\n\n";

                    // preparing attachments
                    for($i=0;$i<count($attachmentFiles);$i++)
                    {
                        if(is_file($attachmentFiles[$i]))
                        { 
                            $msg .= "--{$mime_boundary}\n";
                            $fp     = @fopen($attachmentFiles[$i],"rb");
                            $data   = @fread($fp,filesize($attachmentFiles[$i]));
                                      @fclose($fp);
                            $data   = chunk_split(base64_encode($data));
                            $msg .= "Content-Type: application/octet-stream; name=\"".basename($attachmentFiles[$i])."\"\n" .
                            "Content-Description: ".basename($attachmentFiles[$i])."\n" .
                            "Content-Disposition: attachment;\n" . " filename=\"".basename($attachmentFiles[$i])."\"; size=".filesize($attachmentFiles[$i]).";\n" .
                            "Content-Transfer-Encoding: base64\n\n" . $data . "\n\n";
                        }
                     }
                    $msg .= "--{$mime_boundary}--";
                }
                /** Attachment Process Ends **/
                else{
                    $headers .= "MIME-Version: 1.0" . "\r\n";
                    $headers .= "Content-type:text/html;charset=utf-8" . "\r\n";
                    //$headers .= "Content-type:text/html;charset=iso-8859-1" . "\r\n";
                    $headers .= "From: ".$senderMailId."\r\n";
                    $headers .= "Cc: ".$recipientCCMailId."\r\n";
                    $headers .= "Bcc: ".$recipientBCCMailId."\r\n";
                }
            /*** Mail Contents Ends ***/    
            $sent_mail=mail($recipientMailId,$subj,$msg,$headers); 
            if($sent_mail)
            {
                return true;
            }
            else
            {
                return false;
            }
        }
        catch (Exception $e)
        {
            getConnection('close');
            echo "Caught Exception:",$e->getMessage();
        } 
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-28T07:28:29.990

我面临同样的问题。问题在于 mime 边界。不要添加“--”。$uid。“--”；在每个附件之后。在附件的内容类型之前添加边界就足够了。

# java - 如何设置jfreechart的缩放限制？

> ID：15426237
> 
> 赞同：2
> 
> 时间：2013-03-15T06:36:57.690
> 
> 标签：java, jfreechart

我正在使用 jfreeChart 创建 gnattChart 。我想对 NumberAxis 设置一些限制以限制缩放。例如下限=1000，上限=2000；在这里，我希望 My NumberAxis 应该显示 1000 到 2000 之间的值，并且我想在这两个值之间缩放图形。在缩放图表时我不想要不必要的值，在这种情况下，低于 1000 的值和高于 2000 的值对我来说是不必要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:43:57.857

JFreeChart 目前不支持此功能。调用者应注意限制放大/缩小。如果您使用 ChartPanel，请查看 actionPerformed() 方法和各种 ZOOM_*_COMMAND。

还[搜索 JFreeChart 论坛](http://www.jfree.org/forum/search.php?keywords=%2bzoom%20%2blimit)会找到一些可能有帮助的相关帖子。

希望有帮助，
-马丁

# jquery - 如何获取扩展的属性

> ID：15426244
> 
> 赞同：3
> 
> 时间：2013-03-15T06:37:28.910
> 
> 标签：jquery, yii, yii-extensions

我想`fetch extension attributes`重视任何扩展`yii.`

例如以下：

```
$this->widget('xupload.XUpload', array(
            'url' => Yii::app()->createUrl("site/upload", array("parent_id" => 1)),
            'model' => $model,
            'attribute' => 'file',
            'multiple' => true,
            'options' => array('submit' => 'js:function (){

            }')
        )); 
```

我想在选项的提交功能中获取上述扩展名的假设 URL，但如何？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T08:58:33.717

***初始化***扩展时，将无法访问 url 或扩展的任何其他属性。但是我们可以在小部件初始化**后访问该属性。**

当您调用`$this->widget('extension', array( ... ));`小[部件时正在初始化](http://www.yiiframework.com/doc/api/1.1/CBaseController#widget-detail "http://www.yiiframework.com/doc/api/1.1/CBaseController#widget-detail")，因此数组中传递的选项不能立即在另一个选项中使用。在您的情况下，您正在尝试访问 property`url`内的 property `options`。

要使用该属性，我们必须：

1.  在初始化后存储对小部件的引用，例如：

    ```
    $xwidget = $this->widget('extension', array( ... )); 
    ```

2.  然后使用/访问一个属性：

    ```
    $xwidget->propertyname; 
    ```

对于您想要将属性传递给 js 函数的确切场景，您**还**必须执行以下操作：

1.  不要将匿名函数传递给`submit`选项，而是传递函数引用：

    ```
    'options' => array('submit' => 'submitHandler') 
    ```

2.  然后注册一个脚本`registerScript`或使用直接 html`<script>`标签，并访问其中的小部件属性：

    ```
    Yii::app()->clientScript->registerScript('script-id','
        function submitHandler() {
            var url = "'. $xwidget->url .'"; // this is how we can insert the property into js
            // ... more code ...
        }',
        CClientScript::POS_END// the position of the script
    ); 
    ```

# perl - 为什么系统调用会影响 perl 中的后续打印行为？

> ID：15426247
> 
> 赞同：0
> 
> 时间：2013-03-15T06:37:48.843
> 
> 标签：perl, buffer, system-calls, tcsh

这是我的代码

```
#!/usr/bin/perl
use strict;
use warnings;
use diagnostics;

my $file = $ARGV[0];
system('wc -l $file');
print "\nprinting alpha \n";
sleep 1;
exit; 
```

在我运行（在`tcsh`shell 中）之后，`perl script.pl /path/to/file`我`printing alpha`直到按下`Ctrl+C`. 即使我`$|=1`在系统调用之前或之后添加另一个语句，行为仍然保持不变。

怎么了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T06:49:11.603

您正在执行 shell 命令

```
wc -l $file 
```

shell 没有`$file`定义变量，所以这与

```
wc -l 
```

这会导致 shell`wc`使用单独的 arg执行`-l`。在没有提供文件名的情况下，`wc`依次从 STDIN 读取，直到您使用 Ctrl-C 中的 SIGINT 将其终止。

* * *

你的目标可能是

```
system("wc -l $file");   # XXX 
```

但这也是错误的。这不会传递 args`-l`和`$file`to的值`wc`。考虑如果提供了一个带有空格的文件名会发生什么。

要构建导致正确文件名的 shell 文字，您可以使用

```
use String::ShellQuote qw( shell_quote );
system(shell_quote('wc', '-l', $file)); 
```

但更好的选择是避免使用 shell 并`wc`直接执行，将所需的值传递给它，而无需构建 shell 命令。

```
system('wc', '-l', $file); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:42:13.840

因为单引号防止`$file`. 改为双引号。

正在发生的事情是正在执行字符串而不用`$file`. 当 shell 得到这个时，它会寻找一个`$file`不存在的 shell 变量，所以它执行没有文件的命令。这会导致`wc`从标准输入读取，从而导致您看到的行为。

# .net - Nancy Route 定义可选参数

> ID：15426248
> 
> 赞同：0
> 
> 时间：2013-03-15T06:37:51.083
> 
> 标签：.net, nancy

我想在 Nancy Module 中处理下面的 Get 请求。

```
http://localhost:9988/myapp/home/admin 
```

其中`/admin`是可选参数值。

为此，我定义了如下路线。

```
 Get["/myapp/home/{role?}"] = parameters =>
        {
            Console.WriteLine("Optional....");
            string role = parameters.role;

            Console.WriteLine("region-->" + role);

            return Response.AsRedirect(ADMIN_URL);

            }; 
```

这有什么问题。此溃败无法处理以下网址。

`http://localhost:9988/myapp/home/user`

`http://localhost:9988/myapp/home`

在尝试上面的 URL 时，它给了我**404**错误。

# javascript - datepicker 不是一个函数

> ID：15426255
> 
> 赞同：20
> 
> 时间：2013-03-15T06:38:18.213
> 
> 标签：javascript, jquery, jsp

这个问题已经被问了很多次，但没有一个对我有用。我正在尝试在`JSP`文件中使用此日期选择器。这是我的脚本

```
<head>
<title>My Home</title>
<link rel="stylesheet" type="text/css"
href="../resource/css/page-style.css" />
<link rel="stylesheet" type="text/css"
href="../resource/css/jQuery-ui.css" />
<script src="../resource/js/jquery-1.9.1.js"></script>
<script src="../resource/js/jquery-ui.js"></script>
<script type="text/javascript" src="../resource/js/form-elements.js"></script>

<script type="text/javascript">
$("document").ready(function() {
    $("#shortcuts").load("shortcut.html");
    $("#datepicker").datepicker();
    alert('jQuery is working');
});
</script>
</head> 
```

该`shortcut`文件正在完美加载，警报也显示出来。我收到错误消息为`TypeError: $(...).datepicker is not a function`. 如果我在放置在桌面上的 html 文件中运行此脚本，我不会遇到此问题，当我将代码复制到我的 IDE 并运行它时，我在控制台中收到此错误。请建议我该怎么办？我知道这个问题被问了好几次我已经检查了每个答案这是唯一一个与我的概率密切匹配但对我不起作用的[链接。](https://stackoverflow.com/questions/13709197/using-jquery-datepicker-in-a-jsp/13709402#13709402)

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-03-15T06:59:49.710

问题在于您导入的文件。我认为您没有正确放置它们。

尝试导入这些文件

```
 <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script> 
```

它对我有用。

看到这里了解更多[信息](http://jqueryui.com/datepicker/)

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2014-01-09T21:12:13.950

仔细检查您的 JQuery-ui 引用*后*是否没有 JQuery引用。

在我的 JQuery-ui 参考之后，我有一个额外的 JQuery 参考，并且浪费了一个小时来解决这个问题。这将导致 datepicker not found 错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-10-28T16:44:39.570

这与导入文件有关。我也遇到了同样的情况，以下导入帮助我克服了以下问题“**日期选择器不是函数**”。

```
 <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"> 
```

# symfony - 覆盖 LESS 变量

> ID：15426256
> 
> 赞同：7
> 
> 时间：2013-03-15T06:38:18.823
> 
> 标签：symfony, twitter-bootstrap, less, lessphp

我有以下堆栈：

1.  Symfony2
2.  安装了 lessphp 过滤器的树枝。
3.  推特助推器

在 base.css 我有：

```
// base.less
@import '/path/to/bootstrap.less'
@linkColor: 13px; 
```

变量名根本不重要。它可以是引导程序中使用的任何其他变量。它只是不会被覆盖。但是，如果我将变量放入单独的 .less 文件中并将其导入 base.less ，一切都会按预期工作：

```
// base.less
@import '/path/to/bootstrap.less'
@import '/path/to/variables.less' 
```

和

```
// variables.less
@linkColor: 13px; 
```

为什么这个有效而另一个无效？查找文档（less/lessphp），但找不到与此相关的任何内容。（或者我不知道在哪里看）。

有人可以解释为什么会这样吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-25T15:27:19.367

看起来这是 lessphp 编译器中的错误。看看[github问题](https://github.com/leafo/lessphp/issues/302)。您的解决方法是将变量声明放入另一个文件并导入它就可以了。顺便谢谢 ;)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T12:57:41.040

发生这种情况是因为您在使用该变量定义所有 Bootstrap 样式**后**覆盖了该变量。

我这样解决这个问题：

1.  创建我自己`main.less`的导入我自己的`bootstrap.less`.
2.  我自己`bootstrap.less`的只是将 Bootstrap 的`bootstrap.less`文件复制到我自己的文件夹中，并相应地更改了导入路径，但有一个例外：它是由自己`variables.less`而不是 Bootstrap 导入的。
3.  我自己`variables.less`导入 Bootstrap `variables.less`，然后覆盖我需要的那些。

# git - git --all 缺少提交

> ID：15426257
> 
> 赞同：4
> 
> 时间：2013-03-15T06:38:20.533
> 
> 标签：git

有人可以帮我理解这里发生了什么吗？

我从 开始`git log --oneline`，它吐出：

```
4df9421 (HEAD, master) moved some aliases around
d3810e4 (origin/master) some terminal color changes
a7182d3 git colors, ignores, etc.
995fe8c added gitconfig, moved some personal stuff out of the public repo
8a100b7 misc unimportant updates
55d2c08 added a fix to "open with", refactored
7ec7d83 Removed some vim colors; added a couple searching aliases
330c7fc Minor updates
44e80a1 Added vim files
48537c6 Fixed some formatting problems
14933a2 Initial Commit 
```

然后我`git reset --hard 330c7fc`将日志返回到：

```
330c7fc (HEAD, master) Minor updates
44e80a1 Added vim files
48537c6 Fixed some formatting problems
14933a2 Initial Commit 
```

到目前为止一切顺利，但是（现在我已经重置）当我这样做时`git log --oneline --all`：

```
 d3810e4 (origin/master) some terminal color changes
 a7182d3 git colors, ignores, etc.
 995fe8c added gitconfig, moved some personal stuff out of the public repo
 8a100b7 misc unimportant updates
 55d2c08 added a fix to "open with", refactored
 7ec7d83 Removed some vim colors; added a couple searching aliases
 330c7fc (HEAD, master) Minor updates
 44e80a1 Added vim files
 48537c6 Fixed some formatting problems
 14933a2 Initial Commit 
```

请注意，此列表中缺少最新条目“4df9421 移动了一些别名”。

我的理解是该`--all`选项应该显示所有提交。为什么一旦我恢复到较早的提交，最新的会丢失？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T06:56:00.873

它丢失了，因为 HEAD 或分支不再引用它。
您已使用`git reset --hard`.

只会[`git reflog`](http://git-scm.com/docs/git-reflog)向您显示最近的提交。

[`git log --all`](http://git-scm.com/docs/git-log)仅用于列出引用的提交`refs/`（如标签、头等）

```
--all 
```

> 假装所有 refs`refs/`都在命令行上列为`<commit>`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T06:56:05.237

该`--all`选项不**告诉**显示`git log`所有*提交*。它要求所有*refs*的日志，基本上是您的分支和标签。重置命令从 中删除了该提交`master`，这是包含它的唯一 ref，因此该提交现在无法访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T10:22:19.333

您应该接受[VonC 的回答](https://stackoverflow.com/a/15426496/86072)。要完成它：

“丢失的提交”未推送到服务器，或保存在另一个分支中。您`git reset --hard`因此*删除*了它。

幸运的是，git 有某种神奇的 undo stack : `git reflog`。检查 VonC 的链接以了解如何取回它。

使用时要小心`git reset`，此命令可能会破坏提交。

作为一个经验法则：在你操纵你的历史之前，确保你仍然有办法回到你原来的位置。我的本地存储库被`backup`,`orig`和`wip`分支破坏了，我每个月左右都会清理它们。

# kendo-ui - 剑道网格未正确过滤

> ID：15426259
> 
> 赞同：0
> 
> 时间：2013-03-15T06:38:22.193
> 
> 标签：kendo-ui

我的应用程序中有一个剑道网格和带有复选框的树视图。我想根据树视图复选框的选择来过滤网格，我试过这个，但它不能正常工作我的树视图代码是

```
 $("#treeview").on("change", function (e) {
   var ds = $("#grid").data("kendoGrid").dataSource;
    ds.filter([
    {"logic":"or",
     "filters":[
         {
            "field":"OrderId",
            "operator":"eq",
             }
     ]}    ]);
  }); 
```

我的小提琴是[http://jsfiddle.net/RHh67/66/](http://jsfiddle.net/RHh67/66/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T05:13:04.330

在更改事件的树视图中，您需要捕获选中的节点，然后根据您的条件使用树视图选定节点的字段、运算符和值过滤网格数据源。

```
 $("#treeview").on("change", function (e) {
    var selected = $('#treeview :checked').closest('li');
    var ds = grid.dataSource;
    var filter = {
        logic  : "or",
        filters: []
    }; 
```

这是更新的小提琴：http: [//jsfiddle.net/RHh67/87/](http://jsfiddle.net/RHh67/87/)

干杯，快乐编码

# jquery - 如何使用 jquery 在 mvc3 中使用嵌套网格视图

> ID：15426269
> 
> 赞同：0
> 
> 时间：2013-03-15T06:38:56.883
> 
> 标签：jquery, asp.net-mvc-3, razor

我正在尝试在网格内创建一个网格。在嵌套父网格之前它很好，但是当我尝试嵌套另一个网格时，它显示`WebGrid.Colums`有一些无效的参数。我有以下代码

```
 <div id="lgrid" class="tablesorter">

  @{
     var grid = new WebGrid(Model.AssetDetails, rowsPerPage: 20, canSort: false, canPage: false, ajaxUpdateContainerId: "1grid");
    }
       @grid.GetHtml(
    tableStyle: "lgrid",
    headerStyle: "head",
    alternatingRowStyle: "alt",
    columns: grid.Columns(
    grid.Column("S.N.", format: @<text>@{count++;}@count</text>, style: "sn"),
    grid.Column("Name", format: @<text>@item.Category.CategoryTitle</text>, style: "ItemNo"),  
    grid.Column("ItemDesc", format: @<text>@item.ItemDescription</text>, style: "ItemNo"),
    grid.Column("Quantity", format: @<text>@item.Quantity</text>, style: "Quantity"),
    grid.Column("Unit", format: @<text>@item.Unit.UnitSymbol</text>, style: "Unit"),
    grid.Column("Unit Price", format: @<text>@item.UnitPriceUSD</text>, style: "UnitPrice"),
    grid.Column("ExchangeRate", format: @<text>@item.ExchangeRate</text>, style: "ExchangeRate"),
    grid.Column("NPR", format: @<text>@{NPR = (@item.UnitPriceUSD * @item.ExchangeRate);}@NPR</text>, style: "NPR"),

    grid.Column("AssetDetails", format: (item) =>
    {
        WebGrid resGrid = new WebGrid(item.AssetDetails);
        return resGrid.GetHtml(
        columns: resGrid.Columns(
        resGrid.Column("Parameters", format: (resource) =>
            {
                WebGrid resParamGrid = new WebGrid(resource.AssetDetails);
                return resParamGrid.GetHtml(
                    columns: resParamGrid.Columns(
                        resParamGrid.Column("AssetNo", format: @<text>@newasst.AssetNo</text>),
                        resParamGrid.Column("SerialNo", format: @<text>@newasst.SerialNo</text>),
                        resParamGrid.Column("ModelNo", format: @<text>@newasst.ModelNo</text>),
                        resParamGrid.Column("Remarks", format: @<text>@newasst.Remarks</text>)
                    ),
                    displayHeader: false
                );
            })
        ),
        displayHeader: false
    );
    }),

    )) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:57:59.663

尝试格式化您的代码，您有一些混淆的左括号和右括号。你也有一些命名冲突和太多的网格。

试试这样：

```
@{
    var grid = new WebGrid(
        Model, 
        rowsPerPage: 20, 
        canSort: false, 
        canPage: false, 
        ajaxUpdateContainerId: "1grid"
    );
}

@grid.GetHtml(
    tableStyle: "lgrid",
    headerStyle: "head",
    alternatingRowStyle: "alt",
    columns: grid.Columns(
        grid.Column("S.N.", format: @<text>@{count++;}@count</text>, style: "sn"),
        grid.Column("Name", format: @<text>@item.CategoryTitle</text>, style: "ItemNo"),  
        grid.Column("ItemDesc", format: @<text>@item.ItemDescription</text>, style: "ItemNo"),
        grid.Column("Quantity", format: @<text>@item.Quantity</text>, style: "Quantity"),
        grid.Column("Unit", format: @<text>@item.UnitSymbol</text>, style: "Unit"),
        grid.Column("Unit Price", format: @<text>@item.UnitPriceUSD</text>, style: "UnitPrice"),
        grid.Column("ExchangeRate", format: @<text>@item.ExchangeRate</text>, style: "ExchangeRate"),
        grid.Column("NPR", format: @<text>@string.Format("{0:c}", item.UnitPriceUSD * item.ExchangeRate)</text>, style: "NPR"),
        grid.Column("AssetDetails", format: row =>
        {
            WebGrid resGrid = new WebGrid(row.AssetDetails);
            return resGrid.GetHtml(
                columns: resGrid.Columns(
                    resGrid.Column("AssetNo", format: @<text>@item.AssetNo</text>),
                    resGrid.Column("SerialNo", format: @<text>@item.SerialNo</text>),
                    resGrid.Column("ModelNo", format: @<text>@item.ModelNo</text>),
                    resGrid.Column("Remarks", format: @<text>@item.Remarks</text>)
                ),
                displayHeader: false
            );
        })
    )
) 
```

# macos - NSDateString 转换

> ID：15426274
> 
> 赞同：0
> 
> 时间：2013-03-15T06:39:23.290
> 
> 标签：macos, nsdateformatter

```
NSDate *date = [NSDate date];
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"W'th week of \n' MMMM YYYY"];
NSString *dateString = [dateFormatter dateFromString:date]; 
```

我想要输出的是

2013 年 1 月的第一周

2013 年 1 月的第 2 周

2013 年 1 月的第三周

2013 年 1 月第 4 周

2013 年 2 月的第一周'

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:55:02.230

试试这个对你有帮助

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat:@"W'th week of \n' MMMM YYYY"];
    NSLog(@"%@",[dateFormatter stringFromDate:[NSDate date]]); 
```

或者

```
NSDate *date = [NSDate date];
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat:@"W'th week of \n' MMMM YYYY"];
    NSLog(@"%@",[dateFormatter stringFromDate:date]); //here is your code went wrong 
```

# xcode - Bash : 读取 Localizable.strings 的每一行

> ID：15426276
> 
> 赞同：0
> 
> 时间：2013-03-15T06:39:46.900
> 
> 标签：xcode, bash

在 Xcode 中，我们有一个 Localizable.string 文件，用于在我们的应用程序中支持多种语言。我想***拼写检查***Localizable.string 文件。当我使用此脚本时，输出会打印到控制台

```
cat ~/Desktop/Localizable.strings 
```

但是，当我尝试使用此脚本逐行阅读拼写检查时，控制台会打印出一堆空白行。

```
cat ~/Desktop/Localizable.strings | while read line; do
echo $line
done 
```

这就是 Localizable.strings 文件的样子。它有一个`key`和一个`value`。我只想检查`Value`

```
"SOME_KEY" = "Spell check this"; 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:06:11.470

我找不到可用于此的实用程序。我发现的最接近的是`/usr/libexec/PlistBuddy`（但它不能让您枚举键或值，只能打印已知键）和`plutil`Erica Sadun，但它仅针对 iOS 编译，不是开源的。

因此，您似乎需要为此编写一个简单的实用程序：

```
#import <Foundation/Foundation.h>

int main(int argc, char *argv[])
{
    @autoreleasepool {
        NSString *fname = [NSString stringWithUTF8String:argv[1]];
        NSDictionary *dict = [NSDictionary dictionaryWithContentsOfFile:fname];
        for (NSString *value in dict.allValues) {
            printf("%s\n", value.UTF8String);
        }
    }

    return 0;
} 
```

调用：`./<BINARY> Localizable.strings`。这将打印任何仅包含字符串的有效属性列表文件的所有值，包括`.strings`文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-10T06:49:23.157

这将打印指定`Localizable.strings`文件的所有值

`plutil -p $FILE_PATH | grep '" *=> *"' | while read line; do key=$(echo "$line" | sed -E 's/(.*)=>(.*)/\2/') echo $key done`

# c++ - main() 之前的堆栈溢出异常

> ID：15426285
> 
> 赞同：8
> 
> 时间：2013-03-15T06:40:25.700
> 
> 标签：c++, stack-overflow

这是我在stackoverflow上的第一个问题，所以我会尽量具体。我在论坛上搜索了任何相关主题，但没有运气。无论如何，这里是：

我正在使用 Visual Studio 2005。我遇到了堆栈溢出异常：IHR.exe 中 0x775715de 处的未处理异常：0xC00000FD：堆栈溢出。，在尝试调试我的项目时。调用堆栈没有帮助，因为它甚至在进入 main() 函数之前就停止在 ntdll.dll 处。

起初我怀疑这可能是编译设置的问题，但是当我将在我的计算机上编译的可执行文件发送到第二台计算机时，它可以正常运行，只是无法在我的计算机上运行。

反过来也是如此，我在第二台计算机上编译了可执行文件，它可以在上面运行良好。但是当我尝试在我的计算机上运行在第二台计算机上编译的可执行文件时，它无法运行。出现的只是一个空白的命令提示符和一条说明程序没有响应的 Windows 消息。

我正在使用 64 位的 Windows 7 Professional SP1。另一台计算机具有相同的操作系统版本。由于公司政策，我不能在这里发布任何源代码，但无论如何我认为它与源代码没有任何关系。我怀疑这可能是运行时环境中的问题。感谢任何帮助。谢谢。

这是调用堆栈上的所有内容：

```
->ntdll.dll!775715de()  
[Frames below may be incorrect and/or missing, no symbols loaded for ntdll.dll] 
ntdll.dll!775715de()    
ntdll.dll!7756014e() 
```

感谢@WhozCraig 的建议，我设法在调用堆栈上获得了更有意义的消息。不过还是难住了。

> IHR.exe!_mbscmp(const unsigned char * s1=0x00fe8c10, const unsigned char * s2=0x00fe8c10) 第 84 行 + 0xf 字节
> IHR.exe!_mbscmp(const unsigned char * s1=0x00fe8c10, const unsigned char * s2=0x00fe8c10) 行84 + 0xf 字节
> IHR.exe!strcmp(const char * _s1=0x00fe8c10, const char * _s2=0x00fe8c10) 第 1646 行 + 0x2b 字节
> IHR.exe!_mbscmp_l(const unsigned char * s1=0x00fe8c10, const unsigned char * s2=0x00fe8c10 , localeinfo_struct * plocinfo=0x00000000) 第 58 行 + 0xd 字节
> IHR.exe!_mbscmp(const unsigned char * s1=0x00fe8c10, const unsigned char * s2=0x00fe8c10) 第 84 行 + 0xf 字节
> IHR.exe!strcmp(const char * _s1= 0x00fe8c10, const char * _s2=0x00fe8c10) 第 1646 行 + 0x2b 字节

这里还有一些，通向上面的堆栈

```
IHR.exe!_mbscmp_l(const unsigned char * s1=0x00fe8c10, const unsigned char * s2=0x00fe8c10, localeinfo_struct * plocinfo=0x00000000)  Line 58 + 0xd bytes   C++
IHR.exe!_mbscmp(const unsigned char * s1=0x00fe8c10, const unsigned char * s2=0x00fe8c10)  Line 84 + 0xf bytes  C++
IHR.exe!strcmp(const char * _s1=0x00fe8c10, const char * _s2=0x00fe8c10)  Line 1646 + 0x2b bytes    
IHR.exe!_setlocale_get_all(threadlocaleinfostruct * ploci=0x002f13a0)  Line 1147 + 0x24 bytes   
IHR.exe!_setlocale_nolock(threadlocaleinfostruct * ploci=0x002f13a0, int _category=0, const char * _locale=0x00000000)  Line 966 + 0x9 bytes    C 
```

> IHR.exe!setlocale(int _category=0, const char * _locale=0x00000000) 第 826 行 + 0x1b 字节
> IHR.exe!std::_Locinfo::_Locinfo_ctor(std::_Locinfo * pLocinfo=0x0018f8f8, const char * locname=0x00ea591c ) 第 192 行 + 0x9 字节
> IHR.exe!std::_Locinfo::_Locinfo(const char * _Pch=0x00ea591c) 第 78 行 + 0xd 字节
> IHR.exe!std::ctype::ctype(const short * _Table=0x00000000, bool _Deletetable=false, unsigned int _Refs=0) 第 1740 行 + 0x10 字节
> IHR.exe!std::ctype::_Getcat(const std::locale::facet * * _Ppf=0x0018fbd8) 第 1760 行 + 0x4d 字节 IHR.exe！ std::use_facet >(const std::locale & _Loc={...}) 第 478 行 + 0x9 字节 IHR.exe!std::basic_ios >::widen(char _Byte=' ') 第 124 行 + 0x34 字节
> IHR.exe!std::basic_ios >::init(std::basic_streambuf > * _Strbuf=0x00ff7908, bool _Isstd=false) 第 135 行 + 0xa 字节
> IHR.exe!std::basic_ostream >::basic_ostream >(std:: basic_streambuf > * _Strbuf=0x00ff7908, bool _Isstd=false) 第 53 行
> IHR.exe!std::`'cout''() 的动态初始化程序 第 13 行 + 0x16 字节 IHR.exe!_initterm(void (void)* * pfbegin= 0x00e8d10c, void (void)* * pfend=0x00e9dca0) 第 855 行 IHR.exe!_cinit(int initFloatingPrecision=1) 第 293 行 + 0xf 字节
> IHR.exe！**tmainCRTStartup() 第 310 行 + 0x7 字节
> IHR.exe!mainCRTStartup() 第 196 行
> kernel32.dll!@BaseThreadInitThunk@12() + 0x12 字节
> ntdll.dll！***RtlUserThreadStart@8() + 0x27 字节
> ntdll.dll！*_RtlUserThreadStart@8() + 0x1b 字节

它不断重复调用 strcmp、mbscmp、mbscmp_l，直到遇到堆栈溢出异常。

更新（2013 年 4 月 11 日）：我找到了导致问题的线路，但我仍然完全不知道它为什么会导致它。这是strcmp的用法。

```
struct Foo
{
    char text[4];
    bool operator < (const Foo &rhs) const
{
    return strcmp(text, rhs.text) < 0;
}
} 
```

当这个 strcmp 被注释掉时。程序没有崩溃。处理此类问题的任何想法或经验？相同的程序在其他机器上仍然可以正常运行，但由于这条线，只会在我的机器上崩溃。在整个程序中使用其他 strcmp 没有问题。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T20:39:01.397

您可能有全局/静态变量，并且它们正在尝试在您运行 main 之前进行初始化。可能实际初始化的顺序不是您所期望的，就像您将它们放在不同的文件中一样，没有办法告诉它们应该按什么顺序创建。

删除这些变量或将它们排列到同一个文件中。

# wowza - 如何通过http从ios设备连接wowza媒体服务器？

> ID：15426286
> 
> 赞同：3
> 
> 时间：2013-03-15T06:40:32.787
> 
> 标签：wowza

我们正在 xcode 中实现一个应用程序用于直播，它使用 url http://[wowza address]:1935/application 连接 wowza 服务器，但没有建立连接 除了要实现的服务器端更改还有哪些连接服务器的application.xml？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-19T14:58:49.377

When publishing via http, Wowza does not support that. You can see a list of supported codecs for inbound streams [here](https://www.wowza.com/products/streaming-engine/specifications).

You can publish using rtmp or rtsp from ios / mac app and you can have a look at a variety of projects that will do that. You can take a look at their [GoCoder solution](https://www.wowza.com/products/gocoder) for comparison.

# linux - 虚拟 IP 配置不起作用，我仍然收到地址已在使用错误

> ID：15426292
> 
> 赞同：1
> 
> 时间：2013-03-15T06:40:58.273
> 
> 标签：linux, perl, sockets, bind

我在`eth3:1, eth3:2, eth3:3`虚拟机中创建了 3 个不同的虚拟 IP 地址，

现在我正在尝试创建超过 65k 连接到运行在`192.168.56.1`.

由于VM中的资源是有限的，所以我将端口范围缩小了

> sysctl net.ipv4.ip_local_port_range="32768 33000"

然后我尝试创建线程，该线程将使用每个虚拟 IP 地址向 nginx 服务器 ( )`600`发送请求 ( ) 200 次。`GET / HTTP/1.1``running at 192.168.56.1`

但是我的程序在这里失败了！IO::Socket 告诉我`address in use`。

所以我查看了我的 nginx 日志，它只使用了 2 个不同的 ip 地址（`192.168.56.23 and 192.168.56.24`）来访问 nginx 服务器，总数只有 233 个（`expected 200 x 3 = 600 access logs`）。

有谁知道出了什么问题？

```
#!/usr/bin/perl
use warnings;
use strict;
use threads;
use IO::Socket::INET;

$| = 1;

sub run
{
        my ($ip, $id) = @_;
        print ">> Sendto .. $ip ($id)\n";

        my $socket = new IO::Socket::INET (
                PeerHost  => '192.168.56.1',
                LocalHost => $ip,
                PeerPort  => '80',
                Proto     => 'tcp',
        ) or die $@;

        print $socket "GET / HTTP/1.1\r\n\r\n";
        sleep (100); # hold connection
        $socket->close();
}

my @threads = ();
my @ips = qw/192.168.56.23 192.168.56.24 192.168.56.25/;

foreach my $ip (@ips)
{
        for (1..200)
        {
                push @threads, threads->create (\&run, $ip, $_);
        }
}

$_->join for @threads; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T08:31:32.007

Linux 用于查找空闲本地端口的算法并不关心本地 IP 地址，因此端口范围在所有 IP 之间*共享。*这篇博文进一步讨论了这个问题：http: [//aleccolocco.blogspot.com/2008/11/ephemeral-ports-problem-and-solution.html](http://aleccolocco.blogspot.com/2008/11/ephemeral-ports-problem-and-solution.html)

一种可能的解决方案是手动设置本地端口：

```
 my $socket = new IO::Socket::INET (
            PeerHost  => '192.168.56.1',
            LocalHost => $ip,
            LocalPort => 32768 + $id,
            PeerPort  => '80',
            Proto     => 'tcp',
    ) or die $@; 
```

# c#-4.0 - 如何处理服务器端的文本框值

> ID：15426299
> 
> 赞同：0
> 
> 时间：2013-03-15T06:41:43.510
> 
> 标签：c#-4.0

我有三个`textboxes`。
在 textbox1 和 textbox2 中，我输入了一个数字 Like ->

```
Textbox1-0123456789
Textbox2-0123-456-789
Textboxe3-0123-456-789 
```

现在在服务器端，即在`aspx.cs`页面上，我需要检查数字是否相同，并且只有一个不同的数字将保存在数据库中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T05:55:02.400

如果我们应用 replace("-","") 而不是从每个文本框中删除破折号。该数字与 textbox1-0123456789 textbox2=0123-456-789 textbox3=678-908-999 中的数字相同

而不是替换将从 textbox3 中删除破折号，这也是我们不想要的。所以为此我们必须应用不存在的linq操作。

列表 strMobileNos = new List();

正则表达式 re = new Regex(@"\d{10}|\d{3}\s*-\s*\d{3}\s*-\s*\d{4}");
!strMobileNos.Exists(l => l.Replace("-", "") == Request.Form["txtMobNo2"].Replace("Mobile2", "").Replace("-", ""))

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:40:46.137

//从文本框中获取值并形成一个列表 //根据正则表达式验证以使它们成为纯数字 //现在检查它们是否都相同

```
List<string> lst = new List<string>()
                { 
                 "0123-456-A789",
                 "0123-456-A789",
                "0123-456-789"
                };

                Regex rgx = new Regex("[^a-zA-Z0-9]");
                //s1 = rgx.Replace(s1, "");

                for (int i = 0; i < lst.Count; i++)
                {
                    var value = lst[i];
                    value = rgx.Replace(value, "");

                    lst[i] = value;
                }

                if (lst.Any(num => num != lst[0]))
                {
                    Console.WriteLine("All are not same");
                }
                else
                {
                    Console.WriteLine("All are same");
                } 
```

//如果都相同，从列表中选择一个条目 //如果没有抛出错误

希望这可以给你一个想法！！！！

# jasper-reports - 我们如何在 iReport 中使用 INSERT 和 UPDATE 语句？

> ID：15426305
> 
> 赞同：0
> 
> 时间：2013-03-15T06:42:10.437
> 
> 标签：jasper-reports, ireport

实际上我想知道我们如何在 iReport 设计器中使用其他数据操作语句，如 INSERT 和 UPDATE 语句。我一直在寻找解决方案很长时间，但找不到任何可以真正帮助我的东西。

我知道即使在 Ireport 中，我也不能使用用“;”分隔的多个选择语句。

是否可以在 Ireport 中使用这些语句？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:30:46.490

IReport 仅用于创建报告。如果它可以对数据库执行插入或更新，则不再用于报告。报告是根据用户要求提供有意义的数据的东西。无论您传递给他们什么数据，它都只能对其进行格式化，添加一些化妆品，然后使其可打印。如果您需要向数据库插入或更新数据的东西，IReport 不是您想要的，而是软件本身。

# javascript - 我有一个带有 JQuery 的简单图像图片滑块，但我不知道如何向上或向下设置动画

> ID：15426319
> 
> 赞同：1
> 
> 时间：2013-03-15T06:42:53.970
> 
> 标签：javascript, jquery, html, css

![这是我用 js 和 jQuery 编码的](../Images/4c26fa4fedd4bb31a46fd8fbcf78abf2.png)

我只希望图片滑块右侧的向上和向下按钮工作。目前，我的js代码是：

```
 var height_value = 104 * (-1)*3; 
 var top_value=0;
 $("#photoViewerCont .nextPage").click(function(){
    alert("here");
    top_value=top_value+height_value;
    $("#photoViewer .thumbs .pages").animate({'top' : height_value}, 1000,function(){
        $("#photoViewer .thumbs .pages").css({'top' : top_value});

    });
    return false;
 }); 
```

这个js的HTML部分：

```
<div id="photoViewer" class="stackItem">
<div id="photoViewerCont">
<div id="mainPhoto" class="preview">
    <div class="innerCont">
        <a onclick="return false;" rel="photos" data-id="113195895"
            href="#"> <img
            width="456" height="342"
            title="112 Cattai Ridge Road, Glenorie, NSW 2157"
            alt="112 Cattai Ridge Road, Glenorie, NSW 2157" data-index="0"
            src="1.jpg">

        </a>
    </div>
</div>
<div class="thumbs">
    <div class="innerCont">
        <div class="paginated">
            <div class="pages" style="height: 634px; top: 0px;">
                <div class="page">
                    <div class="thumb" id="defaultpic">
                        <img class="thumb_0" width="120" height="90"
                            data-type="main_photo"
                            title="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            alt="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            src="1.jpg">
                    </div>
                    <div class="thumb">
                        <img class="thumb_1" width="120" height="90" data-type="photo"
                            title="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            alt="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            src="2.jpg">
                    </div>
                    <div class="thumb">
                        <img class="thumb_2" width="120" height="90" data-type="photo"
                            title="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            alt="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            src="3.jpg">
                    </div>
                    <div class="clearer"></div>
                </div>
                <div class="page">
                    <div class="thumb">
                        <img class="thumb_3" width="120" height="90" data-type="photo"
                            title="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            alt="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            src="4.jpg">
                    </div>
                    <div class="thumb">
                        <img class="thumb_4" width="120" height="90" 
                            title="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            alt="112 Cattai Ridge Road, Glenorie, NSW 2157"
                            src="5.jpg">
                    </div>

                    <div class="clearer"></div>
                </div>
            </div>
        </div>
    </div>
    <a class="previousPage" href="#">Previous</a> 
    <a class="nextPage" href="#">Next</a>
</div>
<div class="clearer"></div>
</div>
</div> 
```

此文件的 css 部分：

```
#photoViewer .thumbs {
-moz-border-bottom-colors: none;
-moz-border-left-colors: none;
-moz-border-right-colors: none;
-moz-border-top-colors: none;
border-color: #CCCCCC #CCCCCC #CCCCCC -moz-use-text-color;
border-image: none;
border-style: solid solid solid none;
border-width: 1px 1px 1px 0;
float: right;
width: 165px;
}

.thumbs {
position: relative;
}

#photoViewerCont .innerCont {
background: none repeat scroll 0 0 #EEEEEE;
border: 1px solid #FFFFFF;
height: 346px;
padding: 12px;
}

#photoViewer .thumbs .paginated {
height: 312px;
margin: 0 auto;
position: relative;
top: 18px;
width: 130px;
overflow: hidden;
}

#photoViewerCont a.previousPage {
border-radius: 0 0 3px 3px;
top: -1px;
overflow: hidden;
position: absolute;
text-indent: 5000px;
}
#photoViewerCont a.nextPage {
background-position: -57px 0;
border-radius: 3px 3px 0 0;
bottom: -1px;
overflow: hidden;
position: absolute;
text-indent: 5000px;
}
#photoViewerCont a.previousPage, #photoViewerCont a.nextPage {
background: url("photoviewer_arrows.png") no-repeat scroll -3px 0 #C20014;
border: 1px solid #AAAAAA;
display: inline-block;
height: 24px;
right: 61px;
width: 48px;

}

#photoViewerCont a.nextPage {
background-position: -57px 0;
border: 1px solid #AAAAAA;
display: inline-block;
height: 24px;
right: 61px;
width: 48px;
 } 
```

它可以进入警报部分，但动画部分似乎不起作用。谁能知道我的错误在哪里，或者可以给我一个简单的例子来说明图片幻灯片如何滑动和上升。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:29:12.037

那么在这种情况下，这就是你可以做的。一点都不差...

```
margin-top: height 
```

[解决方案](http://jsfiddle.net/KtemP/1/)

# haskell - 如何使用免费的 monad 实现 Reader？

> ID：15426320
> 
> 赞同：9
> 
> 时间：2013-03-15T06:42:57.977
> 
> 标签：haskell, monads, free-monad

好的，所以我已经弄清楚了如何使用该包来实现`Reader`（并且`ReaderT`未显示） ：[`operational`](http://hackage.haskell.org/package/operational)

```
{-# LANGUAGE GADTs, ScopedTypeVariables #-}

import Control.Monad.Operational

data ReaderI r a where
    Ask :: ReaderI r r

type Reader r a = Program (ReaderI r) a

ask :: Reader r r
ask = singleton Ask

runReader :: forall r a. Reader r a -> r -> a
runReader = interpretWithMonad evalI
    where evalI :: forall b. ReaderI r b -> (r -> b)
          evalI Ask = id 
```

但是我一生无法弄清楚如何使用免费的单子来做到这一点（我正在使用 Edward Kmett 的[`free`](http://hackage.haskell.org/package/free)包）。我得到的最接近的是这个，我知道这是作弊（关于如何`((->) r)`已经是一个单子的东西）：

```
import Control.Monad.Free

type Reader r a = Free ((->) r) a

ask :: Reader r r
ask = Free Pure

runReader :: Reader r a -> r -> a
runReader (Pure a) _ = a
runReader (Free k) r = runReader (k r) r

-- Or, more simply and tellingly:
--
-- > runReader = retract 
```

即使这不像我怀疑的那样愚蠢，这也不是我想要的，因为我想要的基本上是能够检查 a `Reader`as 数据......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T08:39:52.583

我不认为这是可以做到的，除非他们按照你的方式去做。但是，我不认为这对读者来说是独一无二的。考虑免费的monad版本的writer

```
data WriterF m a = WriterF m a deriving (Functor)

type Writer m = Free (WriterF m) 
```

显然，`WriterF`与 writer 同构，但这确实符合我们对简单代数的期望

```
algebraWriter :: Monoid m => WriterF m (m,a) -> (m,a)
algebraWriter (WriterF m1 (m2,a)) = (m1 <> m2,a) 
```

因此

```
runWriter :: Monoid m => Writer m a -> (m,a)
runWriter (Pure a) = (mempty,a)
runWriter (Free x) = algebraWriter . fmap runWriter $ x 
```

同样，我认为免费阅读器是

```
type ReaderF r = (->) r

type Reader r = Free (ReaderF r) 
```

我喜欢这个，因为添加它们会给你状态单子

```
type State x = Free ((ReaderF x) :+: (WriterF x))

runState :: State x a -> x -> (a,x)
runState (Pure a) x                    = (a,x)
runState (Free (Inl f)) x              = runState (f x) x
runState (Free (Inr (WriterF x f))) _  = runState f x 
```

请注意，您的操作解决方案可以`Free`通过使用“自由函子”来使用，任何适用于操作的解决方案都可以使用

```
data FreeFunctor f x = forall a. FreeFunctor (f a) (a -> x) 
```

但是，这`FreeFunctor ReaderI`也同构于`(->)`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T11:19:27.230

好吧，我已经看了 3 个小时了，我想我找到了我更喜欢的东西。由于`Reader`applicative 与`Reader`monad 相同，我们可以尝试一个 applicative 版本`operational`：

```
{-# LANGUAGE RankNTypes, GADTs, FlexibleInstances #-}

import Control.Applicative

data ProgramA instr a where
    Pure  :: a -> ProgramA r a
    Ap    :: ProgramA r (a -> b) -> ProgramA r a -> ProgramA r b
    Instr :: instr a -> ProgramA instr a

infixl `Ap`

instance Functor (ProgramA instr) where
    fmap f (Pure a) = Pure (f a)
    fmap f (ff `Ap` fa) = ((f .) <$> ff) `Ap` fa
    fmap f instr = Pure f `Ap` instr

instance Applicative (ProgramA instr) where
    pure = Pure
    (<*>) = Ap

interpretA :: Applicative f =>
              (forall a. instr a -> f a)
           -> ProgramA instr a
           -> f a
interpretA evalI (Pure a) = pure a
interpretA evalI (ff `Ap` fa) = interpretA evalI ff <*> interpretA evalI fa
interpretA evalI (Instr i) = evalI i

data ReaderI r a where
    Ask :: ReaderI r r

type Reader r a = ProgramA (ReaderI r) a

ask :: Reader r r
ask = Instr Ask

runReader :: Reader r a -> r -> a
runReader = interpretA (\Ask -> id)

instance Monad (ProgramA (ReaderI r)) where
    return = pure
    ma >>= f = runReader <$> fmap f ma <*> ask 
```

a 的结构可以比or`ProgramA (ReaderI r) a)`更直接地检查。`Program (ReaderI r) a``Free ((->) r) a`

# ios - 如何动态制作具有多个部分的uitableview？

> ID：15426321
> 
> 赞同：0
> 
> 时间：2013-03-15T06:43:13.527
> 
> 标签：ios, uitableview

如何使用动态数组计数动态地制作具有多个部分的 uitableview？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T06:51:01.903

检查这个长代码，我认为这会派上用场

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

#pragma mark TableView

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
    return [self.words count];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
    return [[self.words objectAtIndex:section]count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{

//    UITableViewCell *cell=[tableView dequeueReusableCellWithIdentifier:@"cell"];
//    if (cell==nil) {
//        cell=[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:@"cell"];
//    }

    //UITableViewCell *cell=[tableView dequeueReusableCellWithIdentifier:@"cell"];
    //if (cell==nil) {
      UITableViewCell *cell=[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:@"cell"];
    //}

    cell.textLabel.text=[[self.words objectAtIndex:indexPath.section]objectAtIndex:indexPath.row];
    cell.detailTextLabel.text=[NSString stringWithFormat:@"This is detailed subtitle for %@.",cell.textLabel.text];
    //cell.accessoryType=UITableViewCellAccessoryDetailDisclosureButton;

    NSString *imagePath=[[NSBundle mainBundle]pathForResource:@"images" ofType:@"jpeg"];
    UIImage *image=[[UIImage alloc]initWithContentsOfFile:imagePath];
    cell.imageView.image=image;

    return cell;

}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section{
    return [self.alphabets objectAtIndex:section];
}

- (NSArray *)sectionIndexTitlesForTableView:(UITableView *)tableView;{
    return self.alphabets;
}

#pragma mark -
#pragma mark Default

- (void)viewDidLoad
{

    self.alphabets=[NSMutableArray new];
    for (char i=97; i<123; i++) {
        [self.alphabets addObject:[[NSString stringWithFormat:@"%c",i]capitalizedString]];
    }

    self.words=[NSMutableArray new];
    for (NSString *character in _alphabets) {
        NSMutableArray *twoD=[NSMutableArray new];
        for (int i=1; i<(rand()%10)+1; i++) { //fill randamly any number 1 to 10.
            [twoD addObject:[NSString stringWithFormat:@"%@%d",character,i]];
        }
        [self.words addObject:twoD];
    }

    // NSLog(@"->%@",self.words);

    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

@end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:49:29.310

您可能应该查看[UITableViewDataSource](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDataSource_Protocol/Reference/Reference.html) API 文档，特别是`-[UITableViewDataSource numberOfSectionsInTableView:]`API。

您还需要实施`-[UITableViewDataSource tableView:numberOfRowsInSection:]`. 这两个都需要在实现`UITableViewDataSource`协议的类中实现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:58:57.243

请尝试使用这个....

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
   // ----- here you can return any value whatever you want. -----
    return [array count];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T07:08:48.910

您设置 totalSection 并重新加载 tableview

在你`totalSection`进入之前`[tableView reloadData]`；

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return totalSection;
} 
```

# macos - 在 mac os x 中的 Oracle Developer Days vm 上连接到 Oracle DB

> ID：15426322
> 
> 赞同：1
> 
> 时间：2013-03-15T06:43:17.057
> 
> 标签：macos, oracle11g, virtualbox

我是这个世界的新手，我一直在学习oracle数据库。我已经在 mac os x 上安装了 Oracle Developer Days vm，它运行良好。

但我想在mac上本地使用vm中的数据库（而不是在vm中）。

我怎样才能做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T14:09:44.623

Barry McGillin 有一篇关于如何做到这一点的[优秀文章。](http://barrymcgillin.blogspot.com/2011/12/using-oracle-developer-days-virtualbox.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-17T10:05:15.823

如果您成功安装了 vm，那么您可以从主机 mac 连接内部 vm。因此，在 mac 主机上运行 sql developer 或任何其他 oracle 客户端，并通过提供 db-host-ip 作为 vm ip 地址来连接 oracle 数据库。以下链接可帮助您了解如何从主机 PC 连接 vm 中的 oracle 数据库。 [http://praitheesh.blogspot.com.au/2013/10/oracle-developer-day-vm-how-to-use-pre.html](http://praitheesh.blogspot.com.au/2013/10/oracle-developer-day-vm-how-to-use-pre.html)

# java - Facebook Graph API：获取给定用户的评论

> ID：15426332
> 
> 赞同：8
> 
> 时间：2013-03-15T06:43:57.393
> 
> 标签：java, facebook, facebook-graph-api, facebook-comments

在 Facebook Graph API 中，我们可以获取给定用户发表的评论列表。

我还没有找到任何直接获取评论列表的方法。所以，我试图通过我的提要找到它们，但它返回了所有提要帖子。我们可以过滤我没有评论的其他帖子吗？

我尝试了以下各种查询，但无法得到我所需要的。

```
/me/feed?fields=comments?fields=from?name="Nitin Thokare",message

/me/feed?fields=comments.fields(from.name("Nitin Thokare"),message) 
```

我需要（1）我所有评论的列表，或者（2）我评论过的帖子列表，过滤掉所有其他帖子。我们应该怎么做？（最后我将使用 Java api 来做同样的事情。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-12T05:08:02.987

您可以使用 Spring 支持的 Facebook API 获取用户的评论列表。要访问用户的任何信息，您必须传递该特定用户的访问令牌。要获取评论列表，您必须通过传递访问令牌并使用获取的 FeedOperations 对象来创建 FaceBookTemplate 对象。通过使用 FeedOperations 对象，您可以获得提要、帖子、状态、链接等。获取帖子列表并迭代每个帖子，并获取您对该帖子所做的所有评论。

## 例如代码： -

```
 FaceBook faceBook = new  FaceBookTemplate(accessToken);
    FeedOperations feeds=faceBook.feedOperations();
    List<Post> posts=feeds.getPosts();
    List<Comment> comments=new ArrayList<>();

    for(Post post:posts){
        List<Comment> commentsList = post.getComments();

        for(Comment comment:commentsList){
                comments.add(comment);
        }
    } 
```

# java - 在 webapp 之间共享对象时发生 ClassCastError

> ID：15426335
> 
> 赞同：0
> 
> 时间：2013-03-15T06:44:25.850
> 
> 标签：java, web-applications, servlets

注意：这不是交叉发布（尽管它与我[在同一 tomcat 的 webapps 之间共享对象的](https://stackoverflow.com/questions/15404432/shared-objects-between-webapps-of-the-same-tomcat/15419960?noredirect=1#15419960)其他问题有关）

我有 2 个 webapps 在两个上下文中运行：c1、c2（都紧跟在根之后）。我在 c1 中放了一个 startupListener 来共享一个变量，在 c2 中放另一个来检索它。问题是，如果我共享一个内置数据类型的对象（如 HashMap、Integer、...），那没关系，但不能转换自定义数据类型。例如，如果我有一个名为 User 的自定义类，并传递该类型的对象，则会发生 ClassCastError。

我在 c1 中的启动监听器是：

```
 public void contextInitialized(ServletContextEvent sce) {  
            User user = new user("name"); 
            Integer exampleInt = 1; 
            ServletContext context = sce.getServletContext().getContext("/c1");
            if (context!=null)
            {
                context.setAttribute("user", user);
                context.setAttribute("id", exampleInt);

            }

    } 
```

在 c2 应用程序中，它是这样的：

```
 public void contextInitialized(ServletContextEvent sce) {
            ServletContext context = sce.getServletContext().getContext("/c1");
            Integer integer = (Integer) context.getAttribute("id");//this line is OK
            Object object = context.getAttribute("user");
            User userObject = (User) object; //this line triggered error
            User user = (User) context.getAttribute("user");// also trigger error

      } 
```

为什么这样？（一个班级抱怨自己铸造？）。任何解决方法：我想在同一个 jvm 的上下文之间共享我的对象。谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:13:34.627

第一个 webapp 中对象的类由第一个 webapp 类加载器加载。第二个 webapp 类加载器将同名的类加载到第二个 webapp 中。因此，即使两个应用程序都可以访问同名的类，它们也是两个不同的类，因为它们不是由同一个类加载器加载的。

我不会尝试以这种方式在应用程序之间共享对象。它无论如何都不会在集群环境中工作，并且更安全的容器在被要求提供另一个 servlet 上下文时可能会返回 null。考虑在两个应用程序之间共享一个数据库，并将共享数据存储在共享数据库中。

如果您仍然想走这条路，请确保共享类在容器的类路径中，而不是在每个 webapp 类路径中。

# c++ - Win32 控制台应用程序不会在 VS2012 Pro 中运行

> ID：15426343
> 
> 赞同：0
> 
> 时间：2013-03-15T06:44:58.440
> 
> 标签：c++

我正在使用 Prata 的 C++ Primer Plus 自学 C++，但遇到了问题。我在 VS2012 Pro 中没有收到任何错误，并且程序编译成功但给了我一个未处理的异常（Prata 2.5.exe 中 0x76ED016E (ntdll.dll) 处的未处理异常：0x00000000：操作成功完成。）当我尝试输入时C 或 F 作为我的初始选项，我不确定我哪里出错了。该练习只要求我创建一个将华氏温度转换为摄氏温度的简单程序，但我认为我会发现这样的东西很有用，因为我经常使用在线资源来进行这种转换。如果我有自己的程序，我就不必担心，可以将其扩展为非 CLI 版本和更多转换选项（即码到米等）。任何帮助，将不胜感激。

```
#include "stdafx.h"
#include <iostream>

// Function Prototypes
double convertToF(double);
double convertToC(double);

int main()
{
    using namespace std;

    char* convertChoice = "a";  // Initializing because the compiler complained.  Used to choose between celsius and fahrenheit.
    int choiceNumber; // Had issues using the char with switch so created this.
    double tempNumber; // The actual temperature the user wishes to convert.

    cout << "Do you wish to convert to [C]elcius or [F]ahrenheit?";
    cin >> convertChoice;

    // IF() compares convertChoice to see if the user selected C for Celsius or F for fahrenheit.  Some error catching by using the ELSE.  No converting char to lower though in case user enters letter in CAPS.
    if (convertChoice == "c")
    {
        cout << "You chose Celsius.  Please enter a temperature in Fahreinheit: " << endl;
        cin >> tempNumber;
        choiceNumber = 1;
    }
    else if (convertChoice == "f")
    {
        cout << "You chose Fahrenheit  Please enter a temperature in Celsius: " << endl;
        cin >> tempNumber;
        choiceNumber = 2;
    }
    else
    {
        cout << "You did not choose a valid option." << endl;
    }

    // SWITCH() grabs the int (choiceNumber) from the IF(), goes through the function and outputs the result.  Ugly way of doing it, but trying to make it work before I make it pretty.
    switch (choiceNumber)
    {
    case 1:
        double convertedFTemp;
            convertedFTemp = convertToC(tempNumber);
        cout << convertedFTemp << endl;
        break;
    case 2:
        double convertedCTemp;
            convertedCTemp = convertToF(tempNumber);
        cout << convertedCTemp << endl;
        break;
    default:
        cout << "You did not choose a valid option." << endl;
        break;
    }

    // To make sure the window doesn't close before viewing the converted temp.
    cin.get();

    return 0;
}

// Function Definitions
double convertToF(double x)
{
    double y;
    y = 1.8 * x + 32.0;
    return y;
}

double convertToC(double x)
{
    double y;
    y = x - 32 / 1.8;
    return y;
} 
```

我也不知道我是否一切都正确。IE。函数中的公式以及开关的顺序。请不要纠正，一旦该死的东西编译，我会自己弄清楚。:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:03:10.343

请参考评论中的经验法则。您在使用 char* 时没有足够的细节知识来正确使用它。使用 std::string，它将完全满足您的需求。

供将来参考：使用 char*

*   你需要分配内存
*   您需要使用 strcmp 进行比较
*   你需要自己看长度
*   你需要释放内存

这对于初学者来说很多。使用[std::string](http://www.cplusplus.com/reference/string/string/)。

```
string convertChoice = "a"; 
```

不要忘记

```
#include <string> 
```

# bash - shell脚本中的命令行参数

> ID：15426344
> 
> 赞同：0
> 
> 时间：2013-03-15T06:45:00.137
> 
> 标签：bash, shell

大家好，我是脚本的新手，我在这里遇到问题，我无法将命令行变量传递给我的脚本。

```
biz$: ./myproject.sh -x file2 
```

我的（给定的） myproject 具有以下内容：

```
 Type ="" //here i pass first argument
 while [ $# -gt 0]
 case "$1" in 
       -x)        shift; type = "x" >&2;shift ;;
       -y)        shift; type = "y" >&2;shift ;;
 ###################################################
 BEGIN{                            
       if ($7 == '/'){
           if ($2 != "zzzz"){
               printf ("error",$0);

           if ($3 < 111){
               printf ("error", $0);
         }

 file = " " //here i want to pass my argument file2\. 
```

请帮我解决这个问题，如果不解决这个问题，我将无法继续前进，我是脚本的新手。我不能吃 $2 $3 $7..专家请我需要你的建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T06:57:31.977

我相信您正在使用 BASH，并且您希望将命令行参数获取到脚本中的两个变量中。在这种情况下，专业的方法是使用“getopts”

请参阅此链接：[bash 命令行参数](https://stackoverflow.com/questions/12036445/bash-command-line-arguments)以获取更多详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-04T16:02:40.257

```
#!/bin/sh
# First line above, if this is a bourne shell script
# If this is a bash script use #!/bin/bash

# Assume this script is called from the command line with the following:
# ./myproject.sh -x file2 -y one two 110 four five six /

#Type =""               \\ here i pass first argument
                        # Comments are preceeded with # followed by a space
                        # No spaces around = for assignment of values
                        # Empty string "" not necessary

Type=                   # Here i pass first argument
 #while [ $# -gt 0]     # Spaces required just inside []
 while [ $# -gt 0 ]
 do
   case "$1" in
   #      -x)        shift; type = "x" >&2;shift ;;
   # >&2 Redirects standard out to standard error (stdout, stderr)
   #   and usually is not needed unless explicitly generating error
   #   messages
   # Type is not the same as type; however, you are trying to 
   #   load the file variable

   -x)  shift; file=$1; shift                            ;;
   -y)  shift; Type=y              # Get rid of -y only
                                                         ;;
  one)  if [ "$7" = '/' ]    # Space around = for tests
        then
          echo error $0 >&2
        fi
        if [ "$2" != zzzz ]
        then
          echo $2 is not equal to zzzz
        fi
        if [ "$3" -lt 111 ]          # -lt is less than
        then
          echo "$3 is less than 111"
        fi
        break                 # break out of while loop 
                                                         ;;
   esac
   echo Cmd Ln Args left: "$@"
 done
 echo file: $file, Type: $Type, \$3: $3, \$7: $7
####################################################
# The code below is awk code. Its functionality was
#   placed under case one above
# BEGIN{                            
#       if ($7 == '/'){
#           if ($2 != "zzzz"){
#               printf ("error",$0);
#
#           if ($3 < 111){
#               printf ("error", $0);
#         }
#
# file = " " //here i want to pass my argument file2.

OUTPUT:
Cmd Ln Args left: -y one two 110 four five six /
Cmd Ln Args left: one two 110 four five six /
error ./myproject.sh
two is not equal to zzzz
110 is less than 111
file: file2, Type: y, $3: 110, $7: / 
```

# ruby-on-rails - 如何从各种选择框中包含多个值以具有并属于多个关系？

> ID：15426347
> 
> 赞同：-2
> 
> 时间：2013-03-15T06:45:11.717
> 
> 标签：ruby-on-rails, ruby-on-rails-3, has-and-belongs-to-many

我有两张桌子`items`，`sub_category`而且我在两张桌子之间有`has_and_belongs_to_many`关系。我必须从不同的选择框中选择子类别的值，并将所有这些值包含到项目子类别中。

我有一个表单，其中有一个下拉框和多个选择框，它们都包含子类别，我必须将两者的值都包含到项目子类别中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T09:22:32.460

这是书籍和作者示例的示例。我认为您可以根据问题更改此代码。

```
<%= select_tag "book[author_ids][]", options_from_collection_for_select(Author.all, :id, :name), {:multiple => true, :size => 3} %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-04T04:47:17.680

如果我正确解释了您的问题，那么来自 rails casts 的 Rails cast 88, [http://railscasts.com/episodes/88-dynamic-select-menus-revised](http://railscasts.com/episodes/88-dynamic-select-menus-revised)这个例子应该可以回答这个问题。在此示例中，选择国家然后更改州的可能选择选项。皮埃尔

# c++ - 使用线程实现游戏引擎确定性

> ID：15426350
> 
> 赞同：3
> 
> 时间：2013-03-15T06:45:21.810
> 
> 标签：c++, multithreading, game-engine, deterministic

我想在我的游戏引擎中实现确定性，以便能够保存和重放输入序列并使网络更容易。

我的引擎目前使用可变时间步长：每一帧我都会计算更新/绘制最后一帧所需的时间，并将其传递给我的实体的更新方法。这使得 1000FPS 游戏看起来和 30FPS 游戏一样快，但引入了不确定的行为。

一个解决方案可能是将游戏修复为 60FPS，但它会使输入延迟更多，并且不会获得更高帧速率的好处。

所以我尝试使用一个线程（它不断调用 update(1) 然后休眠 16 毫秒）并在游戏循环中尽可能快地绘制。它有点工作，但它经常崩溃，我的游戏变得无法播放。

有没有办法在我的游戏循环中实现线程以实现确定性，而无需重写所有依赖于引擎的游戏？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T07:22:26.383

您应该将游戏帧与图形帧分开。图形框架应该只显示图形，没有别的。对于重播，无论您的计算机能够执行多少图形帧（每秒 30 帧还是每秒 1000 帧）都无关紧要，重播计算机可能会以不同的图形帧速率重播它。

但是您确实应该修复游戏框架。例如每秒 100 个游戏帧。在游戏框架中执行游戏逻辑：与您的游戏（和重播）相关的内容。

只要不需要游戏帧，您的游戏循环就应该执行图形帧，因此，如果您将游戏固定为每秒 100 个游戏帧，则每个游戏帧为 0.01 秒。如果您的计算机只需要 0.001 秒即可在游戏帧中执行该逻辑，那么剩下的 0.009 秒用于重复图形帧。

这是一个小但不完整且不是 100% 准确的示例：

```
uint16_t const GAME_FRAMERATE = 100;
uint16_t const SKIP_TICKS = 1000 / GAME_FRAMERATE;

uint16_t next_game_tick;

Timer sinceLoopStarted = Timer(); // Millisecond timer starting at 0
unsigned long next_game_tick = sinceLoopStarted.getMilliseconds();

while (gameIsRunning)
{
    //! Game Frames
    while (sinceLoopStarted.getMilliseconds() > next_game_tick)
    {
        executeGamelogic();

        next_game_tick += SKIP_TICKS;
    }

    //! Graphical Frames
    render();
} 
```

以下链接包含有关创建准确游戏循环的非常好的和完整的信息：

[http://www.koonsolo.com/news/dewitters-gameloop/](http://www.koonsolo.com/news/dewitters-gameloop/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-15T07:21:52.853

为了在*整个网络*中具有确定性，您需要一个单一的事实点，通常称为“服务器”。游戏界有句俗话叫“客户在敌人手中”。确实如此。您不能相信客户端为公平游戏计算的任何东西。

例如，如果由于某些原因您的线程每秒仅更新 59 次而不是 60 次，您的游戏变得更容易，人们会发现。也许一开始他们甚至不会是恶意的。他们当时只是让他们的机器处于满负荷状态，而您的过程没有达到每秒 60 次。

一旦您拥有一个不关心图形或更新周期并以自己的速度运行的服务器（甚至可能作为单人游戏中的线程在进程中），它的确定性足以至少*为所有玩家*获得相同的结果。基于计算机不是实时的事实，它可能仍然不是 100% 确定性的。即使您告诉它更新每个 $frequence，它也可能不会，因为计算机上的其他进程负载过多。

服务器和客户端需要通信，因此服务器需要向每个客户端发送其状态的副本（出于性能考虑，可能是上一个副本的增量）。客户可以以可用的最佳速度绘制此副本。

如果您的游戏因线程而崩溃，也许可以选择将“服务器”实际退出进程并通过网络进行通信，这样您会很快发现哪些变量需要锁定，因为如果您只是将它们移动到另一个项目，您的客户端将不再编译。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-15T07:05:22.643

将游戏逻辑和图形分离到不同的线程中。游戏逻辑线程应该以恒定的速度运行（例如，它每秒更新 60 次，如果您的逻辑不太复杂，甚至更高，以实现更流畅的游戏玩法）。然后，您的图形线程应始终尽可能快地绘制逻辑线程提供的最新信息，以实现高帧率。

为了防止绘制部分数据，您可能应该使用某种双缓冲，其中逻辑线程写入一个缓冲区，而图形线程从另一个缓冲区读取。然后每次逻辑线程完成一次更新时切换缓冲区。

这应该确保您始终充分利用计算机的图形硬件。当然，这确实意味着您要限制最低 cpu 速度。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T07:05:52.317

我不知道这是否会有所帮助，但如果我没记错的话，Doom 存储了您的输入序列并使用它们来生成 AI 行为和其他一些东西。Doom 中的一个演示块将是一系列数字，它代表的不是游戏状态，而是你的输入。从那个输入，游戏将能够重建发生的事情，从而实现某种确定性......虽然我记得它有时会不同步。

# android - Android 模拟器上不再有锁屏，但为什么呢？

> ID：15426351
> 
> 赞同：2
> 
> 时间：2013-03-15T06:45:33.790
> 
> 标签：android, android-emulator, android-widget, avd, lockscreen

我有以下问题。我用 AVD-Manager 创建了一个模拟器。我在锁屏上测试了一些东西，一切都很好。

但至少我启动了模拟器并且它自己更新了它。我以前从未见过。之后我无法在锁屏上设置小部件。没有更多的按钮或其他东西可以做到这一点。我还创建了一些新的模拟器，但没有任何效果。

请让我知道如何处理这个问题。以下是模拟器的一些细节：

感谢任何即将到来的帮助。:)

![在此处输入图像描述](../Images/d080d08b159661394ab08e489c074bf6.png)

# android - Android 摄像头：前置摄像头镜像

> ID：15426353
> 
> 赞同：5
> 
> 时间：2013-03-15T06:45:37.427
> 
> 标签：android, camera

如何让前置摄像头不是镜像？我找不到有关如何镜像图像的界面。

我使用的是安卓 4.2。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:48:27.720

[这里](https://stackoverflow.com/questions/7925278/drawing-mirrored-bitmaps-in-android)有一篇文章描述了如何镜像，它使用矩阵来翻转它。但是，我会先在各种设备上试用它——我没有听说过前置摄像头，如果它不是特定于设备的东西，我会感到惊讶。

# r - 为重复测量方差分析准备多个数据文件的修剪平均值

> ID：15426354
> 
> 赞同：1
> 
> 时间：2013-03-15T06:45:39.633
> 
> 标签：r

我有多个数据文件（在制表符分隔的 txt 文件中），格式如下：

制作了一些示例文件

[https://docs.google.com/file/d/0B20HmmYd0lsFVGhTQ0EzRFFmYXc/edit?usp=sharing](https://docs.google.com/file/d/0B20HmmYd0lsFVGhTQ0EzRFFmYXc/edit?usp=sharing)

[https://docs.google.com/file/d/0B20HmmYd0lsFbWxmQzV6X0o2Y1E/edit?usp=sharing](https://docs.google.com/file/d/0B20HmmYd0lsFbWxmQzV6X0o2Y1E/edit?usp=sharing)

```
Condition  Block Session Stimuli    Score   Reqrespons Act RT extra
 X          3      3    asdfa        1           a      a  500  0
 Y          1      2    qewrq        0           b      a  1100 0 
```

我想排除异常的 RT 并对 RT 的平均值和文件的分数（具有因子条件）执行 ANOVA。到目前为止，我已经以一种极其丑陋的方式完成了这项工作，并且按主题设置了行（我更喜欢将行格式化为 subjectxcondition）。

我当前的尝试使用 for 循环：

```
all_data<-data.frame(rbind(1:27)) #make empty data.frame 
all_data
for(i in 1:2)
{
n= paste(i,".txt", sep="")
a<- sprintf("table%d", i, i)
data <- read.table(toString(n), header = TRUE, sep = "\t") 
```

我用分数 1-9 填写 cols 1:9

```
Score<-as.vector(tapply(data$Score,list(data$Condition,data$Reqresponse),mean))

for(o in 1:9)
{
all_data [i, o] <- Score[o]
} 
```

然后以我想要的方式修剪我的 RT 值并放入 all_data 的第 10 列

```
data <- data[which(data$RT>200),]
data <- do.call(rbind,by(data,data$Condition,function(x) x[!abs(scale(x$RT)) > 3,] ))
RT<-as.vector(tapply(data$RT,list(data$Condition,data$Reqresponse, data$Score),mean))
for(j in 1:18)
{
all_data [i, j+9] <- RT[j]
}
} 
```

此外，此代码必须在美学上冒犯 R 中任何体面的人，如果您愿意，请告诉我如何解决它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:51:29.100

我会使用`ddply`from `plyr`package 来做到这一点。例如：

```
require(plyr)
res <- lapply(list.files(pattern='^[1-2].txt'),function(ff){
  ## you read the file 
  data <-  read.table(ff, header=T, quote="\"")
  ## remove the outlier
  data <- data[data$RT>200,]
  data <-  ddply(data,.(Condition),function(x) x[!abs(scale(x$RT)) > 3,])
  ## compute the mean
  ddply(data,.(Condition,Reqresponse,Score),summarise,RT=mean(RT))
})

[[1]]
   Condition Reqresponse Score   RT
1          X           a     0  500
2          X           a     1  750
3          X           b     0  500
4          X           b     1  500
5          Y           a     0  400
6          Y           a     1  640
7          Y           b     1 1000
8          Z           a     0 1000
9          Z           a     1 1675
10         Z           b     0  400

[[2]]
   Condition Reqresponse Score   RT
1          X           a     0  500
2          X           a     1  750
3          X           b     0  500
4          X           b     1  500
5          Y           a     0  400
6          Y           a     1  640
7          Y           b     1 1000
8          Z           a     0 1000
9          Z           a     1 1675
10         Z           b     0  400 
```

# php - 使用 Ajax 在我的数据库中插入特殊字符

> ID：15426359
> 
> 赞同：0
> 
> 时间：2013-03-15T06:45:58.567
> 
> 标签：php, jquery, mysqli

我正在使用 php 和 mysql 创建一个简单的评论表单 t 连接到数据库和 jquery ajax 以不刷新表单包含的页面：名称电子邮件评论问题是数据库中的名称字段（名称）只是插入值**[1 ]** 但是当我发布字段**名称**的值时，它会回显正确的值有人可以帮助我吗？

# submit_to_db.php

```
<?php
  $conn = new mysqli('localhost', 'root', '', 'my_db');
  echo"<pre>";
  print_r($_POST);
  echo"</pre>";

  if(isset($_POST['name_'])){
  $name =isset ($_POST['name_']);
  $email = $_POST['email'];
  $comments = $_POST['comments'];

  $query = "INSERT into comments(name, email, comments) VALUES(?, ?, ?)";

  $stmt = $conn->stmt_init();
  if($stmt->prepare($query)){

     $stmt->bind_param('sss', $name, $email, $comments);
     $stmt->execute();

  }

  if($stmt){

  echo "thank you .we will be in touch soon <br />";
 // echo $_POST['name'];
  //echo $_POST['email'];
  //echo $_POST['comments'];

  }
  else{
   echo "there was an error. try again later.";
   }  

}

else
   echo"it is a big error";
?> 
```

这是表格评论

# 索引.php

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>feedback page</title>
<script type = "text/javascript" src = "http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<link rel ="stylesheet" href = "css/default.css" />

<script type = "text/javascript">

$(function(){

   $('#submit').click(function(){
     $('#container').append('<img src = "img/loading.gif" alt="Currently loading" id = "loading" />');

         var name = $('#name_').val();
         var email = $('#email').val();
         var comments = $('#comments').val();

         $.ajax({

            url: 'submit_to_db.php',
            type: 'POST',
            data: 'name_=' + name + '&email=' + email + '&comments=' + comments,

            success: function(result){
                 $('#response').remove();
                 $('#container').append('<p id = "response">' + result + '</p>');
                 $('#loading').fadeOut(500, function(){
                     $(this).remove();
                 });

            }

         });         

        return false;

   });

});

</script>

</head>

<body>
   <form action = "submit_to_db.php" method = "post">
   <div id = "container">
      <label for = "name">Name</label>
      <input type = "text" name = "name_" id = "name_" />

      <label for = "email">Email address</label>
      <input type = "text" name = "email" id = "email" />

      <label for = "comments">Comments</label>
      <textarea rows = "5"cols = "35" name = "comments" id = "comments"></textarea>
      <br />

      <input type = "submit" name = "submit" id = "submit" value = "send feedBack" />
    </div>
   </form>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:50:08.437

问题就在这里

```
$name =isset ($_POST['name_']); 
```

应该

```
$name =$_POST['name_']; 
```

您使用`isset`它并给出值 1 并存储在`$name`其中，因此它在数据库中插入 1。

# java - java线程在运行多个线程时不会中断

> ID：15426360
> 
> 赞同：1
> 
> 时间：2013-03-15T06:46:00.610
> 
> 标签：java, multithreading, swing

我的项目在 java swing 上运行，有 2 个按钮（开始/停止）用于计数。

当我单击开始按钮时。有一个线程正在运行（Thread-0），然后单击停止按钮“Thread-0”消失但是当我多次单击开始按钮时。有许多线程，例如 Thread-5、Thread-6、.. Thread-10 正在运行。

**问题：** 如果单击开始然后停止计数是可以的。但点击开始多次它是不正确的计数。

**开始按钮**

```
private void btnStartActionPerformed(java.awt.event.ActionEvent evt) {         
    start();
    btnStart.setEnabled(false);
    btnStop.setEnabled(true);
} 
```

**停止按钮**

```
private void btnStopActionPerformed(java.awt.event.ActionEvent evt) {            
    isEnable = false;
    btnStop.setEnabled(false);
    btnStart.setEnabled(true);
} 
```

**开始（）方法：**

```
isEnable = true;
Thread refreshPlan = new Thread() {  
    @Override
    public void run() {
        while(isEnable) {
            try {
                sleep(CYCLE_TIME * 1000);
                PLAN += 1;
                planValue.setText(String.valueOf(PLAN));
            } catch (InterruptedException ex) {
                //ignore
            }
        }
    };
    };
    refreshPlan.start(); 
```

在开始按钮中单击多次时我可以只运行单个线程吗？有什么建议吗？谢谢。

对不起，我的英语不好。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T06:58:12.210

这里有四个重大问题：

*   除非`isEnable`声明为 volatile 变量，否则不能保证来自一个线程的写入将在另一个线程中看到
*   同样，您对`PLAN`计数器的访问（命名错误 - 请遵循 Java 命名约定）是不安全的。您不妨考虑使用`AtomicInteger`它。
*   您正在从额外的线程对 UI 进行更改。你不能这样做——在 Swing（和大多数 UI）中，对 UI 组件的所有访问都必须在负责该 UI 的线程上完成。有关更多详细信息，请参阅[Swing 并发教程](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)。
*   因为您`isEnabled`每秒只检查一个，所以可以同时停止和启动多个线程......导致多个线程同时处于活动状态。这可能会干扰您的计数。

您可能会发现最好使用 a [`javax.swing.Timer`](http://docs.oracle.com/javase/7/docs/api/javax/swing/Timer.html)which 每秒触发一次，然后检查它是否打算做任何事情。这样，*一切*都可以在 UI 线程上。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-15T06:58:02.517

start 方法正在实例化 new Thread() 这就是为什么每次您单击它时，它都会将新线程带入生活。

声明`Thread refreshPlan`类变量，然后在 start 方法中将所有代码放入此检查中

```
if(refreshPlan == null || !refreshPlan.isAlive()){
//ur existing code to instantiate new thread.
} 
```

# itextsharp - iTextSharp pdf中的标签

> ID：15426361
> 
> 赞同：0
> 
> 时间：2013-03-15T06:46:02.740
> 
> 标签：itextsharp

我正在使用 XMLWorker 将 HTML 转换为 List，缩进（使用 blockquote 标签）不会出现在 pdf 中。我试过用 HTMLWorker 创建列表，但结果是一样的。有没有办法在pdf中保留缩进（在HTML中使用blockquote标签进行缩进时）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T20:50:25.540

并且没有“保留”的缩进，只是几乎每个浏览器（如果不是全部）都选择默认缩进它们`blockquote`。`li`这是每个浏览器供应商的个人选择，就像 Netscape 在 90 年代选择使用灰色作为默认的正文背景颜色一样。您看到 iText 所做的任何文本格式都是其自己的“默认样式”，任何与您的期望不同的内容都需要手动更改。

当我尝试`blockquote`通过 XMLWorker 5.4.0 版运行时，我什么也没看到，而且它不在[支持的 HTML 标记](http://demo.itextsupport.com/xmlworker/itextdoc/index.html)列表中。您是否将其进一步包装在一个`SPAN`或其他标签中？你可以发布一个样本吗？

当我通过 5.4.0 运行`OL/LI`组合时，我看到 iText 使它们缩进。你能发布一个不缩进的样本吗？一种快速解决方法是对`UL/OL`此类应用一个简单的边距`<ol style="margin-left:100px;">`

# textmate - 突出显示或查找所有以大写字母开头的单词

> ID：15426362
> 
> 赞同：0
> 
> 时间：2013-03-15T06:46:03.390
> 
> 标签：textmate

如何在textmate中突出显示或查找所有以大写字母开头的单词？

我有很多文本（大约 70 页），其中包含许多不必要以大写字母开头的单词。我想检查所有这些单词并在需要时将它们更改为小。我怎样才能在 textmate 中做到这一点？

您可以建议任何其他编辑器吗？

我在 OSX 10.6.8

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T06:47:09.663

使用查找功能 (Command-f)。在顶部（查找）框中，输入：

```
\b[A-Z][a-z]+\b 
```

然后选中正则表达式复选框并取消选中忽略大小写复选框。点击确定。使用 Command-g 和 Command-shift-g 在单词之间导航。

# android - 从广播接收器更新片段中的列表视图

> ID：15426364
> 
> 赞同：10
> 
> 时间：2013-03-15T06:46:08.877
> 
> 标签：android, listview, broadcastreceiver, fragment

如果文件成功下载，我必须更新片段中的列表视图。因此，在我的下载管理器的 BroadcastReceiver 中，我注册了这个新的广播接收器：

```
Intent intent = new Intent();
intent.setAction("CONTENTS_NOTIFICATION");
context.sendBroadcast(intent); 
```

在我的 onCreateView 片段中，我添加了以下代码以注册接收器：

```
IntentFilter filter = new IntentFilter("CONTENTS_NOTIFICATION");
getActivity().getApplicationContext().registerReceiver(myReceiver, filter); 
```

然后：

```
private BroadcastReceiver myReceiver = new BroadcastReceiver() {

        @Override
        public void onReceive(Context context, Intent intent) {

            SQLiteDatabase db = DatabaseManager.getInstance(getActivity()).getWritableDatabase();
              c = SelectedExperience.getSelectedExperiences(db);

              String id_esperienza = "Selected Experience";

              if (c.getCount() != 0) {
                  id_esperienza = c.getString(c.getColumnIndex(SelectedExperience.ID_ESPERIENZA));
              }

            populateListview(v, id_esperienza);

        }
    }; 
```

最后：

```
public void onDestroyView() {
      super.onDestroyView();
      getActivity().getApplicationContext().unregisterReceiver(myReceiver);
} 
```

我必须为两个不同的片段添加两个广播接收器。在第一个上，一切正常。如果在应用程序中用户在片段上，它会更新，而在第二个片段上我收到以下错误：

```
03-15 07:32:40.474: E/AndroidRuntime(1692): FATAL EXCEPTION: main
03-15 07:32:40.474: E/AndroidRuntime(1692): java.lang.RuntimeException: Error receiving broadcast Intent { act=CONTENTS_NOTIFICATION flg=0x10 } in sample.actionscontentview.fragment.ContentsFragment$1@418e0850
03-15 07:32:40.474: E/AndroidRuntime(1692):     at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:768)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at android.os.Handler.handleCallback(Handler.java:725)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at android.os.Handler.dispatchMessage(Handler.java:92)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at android.os.Looper.loop(Looper.java:137)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at android.app.ActivityThread.main(ActivityThread.java:5191)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at java.lang.reflect.Method.invokeNative(Native Method)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at java.lang.reflect.Method.invoke(Method.java:511)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at dalvik.system.NativeStart.main(Native Method)
03-15 07:32:40.474: E/AndroidRuntime(1692): Caused by: java.lang.NullPointerException
03-15 07:32:40.474: E/AndroidRuntime(1692):     at sample.actionscontentview.fragment.ContentsFragment.populateListview(ContentsFragment.java:194)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at sample.actionscontentview.fragment.ContentsFragment.access$0(ContentsFragment.java:111)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at sample.actionscontentview.fragment.ContentsFragment$1.onReceive(ContentsFragment.java:107)
03-15 07:32:40.474: E/AndroidRuntime(1692):     at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:758)
03-15 07:32:40.474: E/AndroidRuntime(1692):     ... 9 more 
```

和代码是一样的！我不明白为什么它不起作用。它说 populatelistView 存在问题，但如果不从广播接收器调用，相同的函数在片段内可以正常工作。

我认为这两个片段之间的唯一区别是，更新工作的片段是应用程序启动时打开的第一个片段。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-07-08T20:00:12.700

尝试使用 GreenRobot 的 EventBus [https://github.com/greenrobot/EventBus](https://github.com/greenrobot/EventBus)

成功下载文件后，您发布事件

```
EventBus.getDefault().post(YourData.Downloaded); 
```

您的片段将注册以接收事件，最好在 onStart() 方法中

```
EventBus.getDefault().register(this); 
```

它会在 onEvent 方法中接收事件：

```
public void onEvent(Data.State) {} 
```

然后您可以轻松更新您的列表视图。您还可以从 onStop() 方法中的接收事件中取消注册。您可以将数据保留在您的应用程序中或存储。这是非常简单且不错的解决方案。希望能帮助到你。您可以为此事件注册任意数量的片段，因此一旦 EventBus 发布事件，为其注册的所有可用片段都将接收此事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-19T12:26:36.070

我知道这是旧的，但如果你能从你的经验中帮助我，而不是在我的问题上做：

我在这里发布了一个类似的问题：[广播接收器和片段](https://stackoverflow.com/questions/26615936/broadcast-receivers-and-fragments)。您可以寻找我所做的解决方法，尽管我认为应该有更好的方法来做到这一点。

有些人建议所有广播都发送到托管片段的活动，并通过侦听器告诉片段他们应该根据收到的内容更新视图。这可能是一种更好的方法，但它仍然可能涉及检查片段视图的空指针。

# php - 在 SQLite 中选择和项目的当前、上一个和下一个值的最有效方法

> ID：15426367
> 
> 赞同：2
> 
> 时间：2013-03-15T06:46:16.313
> 
> 标签：php, sql, performance, sqlite

目前我有一个页面在左侧和右侧使用 php 和 SQLite 显示 2 个图像。

使用给定的图像 ID 我查询

*   该图像的文件
*   下一张图片的文件
*   下一张图片的链接
*   prev-prev-image 的链接
*   到 prev-image 的链接（如果 prev-prev 不存在）

我尝试过使用偏移量，但是如果我的偏移量超出范围，似乎整个查询都会失败，有什么方法可以防止或捕获它吗？

```
select id, file, findex
  from vfb
 where findex > (select findex from vfb where findex<4 and bookcode='BEFB'
                 order by findex desc limit 1 offset 1)
   and findex < (select findex from vfb where findex>4 and bookcode='BEFB'
                 order by findex asc limit 1 offset 1)
   and bookcode='BEFB'
 order by findex asc; 
```

现在我使用的`select(select a where x<1) as a1, (select a where x=1) as b1, (select b where x=1) as c1`结构非常丑陋，结果我现在需要来自查询的更多信息，例如 ( `select a where x<1`)。

那么，有没有办法缩短我的查询或使用类似的东西`(select a,b where x<1) as a1,b2`？

我的桌子就像`Id|bookcode|page|findex(fakepage)|file|title|stuff|morestuff`

全丑选择：

```
select 
(select findex from vfb where bookcode='BOOK' and findex<
    (select findex from vfb where bookcode='BOOK' and findex<100 order by findex desc limit 1) order by findex desc limit 1) as p2,
(select findex from vfb where bookcode='BOOK' and findex<100 order by findex desc limit 1) as p1,
(select file from vfb where bookcode='BOOK' and findex==100) as f1,
(select file from vfb where bookcode='BOOK' and findex>100 order by findex asc limit 1) as f2,
(select findex from vfb where bookcode='BOOK' and findex>
    (select findex from vfb where bookcode='BOOK' and findex>100 order by findex asc limit 1) order by findex asc limit 1) as n2; 
```

结果是：
`98|99|BOOK_Page_104_Image_0001.png|BOOK_Page_105_Image_0001.png|102`

我尝试过使用偏移量，但是如果我的偏移量超出范围，似乎整个查询都会失败，有没有办法阻止或捕获它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:46:45.490

好谜，我只考虑了 findex 字段。
请试试：

```
 SELECT t3.findex , t2.findex, t4.findex
    FROM vfb t1
    JOIN vfb t2 ON t1.findex > t2.findex
    JOIN vfb t3 ON t2.findex > t3.findex
    JOIN vfb t4 ON t1.findex < t4.findex
    WHERE
    t1.findex = 100
    AND t1.bookcode='BOOK' 
    AND t2.bookcode='BOOK' 
    AND t3.bookcode='BOOK'
    AND t4.bookcode='BOOK'
    ORDER by t3.findex desc, t2.findex desc, t4.findex asc
    LIMIT 1 
```

如果以上工作，请考虑在 findex 列上添加索引。GL！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T17:38:33.297

我最终做了一个 PHP 繁重的实现，因为那是我正在使用的。我有两个查询，结果如下：

```
$result = $db->query('select * from vfb where findex<=
(select findex from vfb where id=222)
and bookcode=(select bookcode from vfb where id=222)
group by page order by findex desc limit 3'); 
```

这将获取当前项目及其下方的下两个项目。上述项目也可以这样做。然后我使用 PHP 来获得所需的值。

# java - 使用播放框架登录多个文件

> ID：15426372
> 
> 赞同：0
> 
> 时间：2013-03-15T06:46:44.527
> 
> 标签：java, logging, playframework

我有在 play framework 1.2.5 上运行的 java 应用程序。

我想以这样一种方式进行日志记录，即每个模块都有自己的日志文件，并且相应的模块日志记录将放在自己的文件中。

可以使用播放记录吗？还是有其他方法可以做到这一点？任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T19:34:21.057

是的，当然，这是可能的。您可以使用**apache log4j**使用高级记录器设置。默认情况下，Play!Framework 使用 apache log4j 进行日志记录，请参阅[此文档](http://www.playframework.com/documentation/1.2.5/logs)。

`application.conf`您必须使用以下条目在文件中启用此高级设置：

```
# More logging configuration - config file located at the same level on this file
application.log.path=/log4j.properties
application.log.system.out=off 
```

假设您有两个模块位于`com.mymodule`和`com.othermodule`package.json 上。所以如果你想让这些模块登录到不同的文件，你的`log4j.properties`文件应该是这样的：

```
# Define logging file appender for mymodule package
log4j.appender.mymodule=org.apache.log4j.FileAppender 
log4j.appender.mymodule.File=mymodule.log
log4j.appender.mymodule.layout=org.apache.log4j.PatternLayout

# Define logging file appender for othermodule package
log4j.appender.othermodule=org.apache.log4j.FileAppender
log4j.appender.othermodule.File=othermodule.log 
log4j.appender.othermodule.layout=org.apache.log4j.PatternLayout

log4j.logger.com.mymodule=INFO, package1
log4j.logger.com.othermodule=INFO, package2 
```

如需更多参考，请尝试从以下链接中学习：

*   [如何使用相同的 log4j 记录器为不同的包创建不同的日志文件？](https://stackoverflow.com/questions/10630522/how-to-create-different-log-files-for-different-packages-using-same-log4j-logger)

*   [Apache Log4j 学习资源](http://logging.apache.org/log4j/1.2/manual.html)

# iphone - 将来自 url 的音频保存在本地以供以后播放

> ID：15426375
> 
> 赞同：3
> 
> 时间：2013-03-15T06:46:58.007
> 
> 标签：iphone, ipad

如何将来自 url 的音频保存在本地以供以后播放。我可以使用 avplayer 流式传输音频，但无法将其保存在本地并稍后播放。我尝试使用 avurlasset。谁能帮我？

这是我试图在本地保存的代码：

> > > 在这里，我使用 avplayer //code 流式传输音频以保存本地

```
-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context

{
    if ([keyPath isEqualToString:@"status"])
    {
        AVPlayerItem * item = (AVPlayerItem *)object;
        if (item.status == AVPlayerItemStatusReadyToPlay)
        {
            NSArray *paths = NSSearchPathForDirectoriesInDomains (NSDocumentDirectory, NSUserDomainMask, YES);
            NSString *documentsDirectory = [paths objectAtIndex:0];
            NSString *myPathDocs =  [documentsDirectory stringByAppendingPathComponent: @"audio.m4a"];
            asset=player.currentItem.asset;
            NSURL *url1 = [NSURL fileURLWithPath:myPathDocs];
            // 5 - Create exporter
            AVAssetExportSession *assetEx = [[AVAssetExportSession alloc]  initWithAsset:player.currentItem.asset presetName:AVAssetExportPresetAppleM4A];//tried with  asset2 also
            assetEx.outputURL=[NSURL fileURLWithPath:myPathDocs];
            assetEx.outputFileType = AVFileTypeAppleM4A;
            assetEx.shouldOptimizeForNetworkUse = YES;
            [assetEx exportAsynchronouslyWithCompletionHandler:^{
                int status = assetEx.status;
                dispatch_async(dispatch_get_main_queue(), ^{
                    [self exportDidFinish:assetEx];
                });
            }];

        }
    }
}
but there is no file created in the documents directory. 
```

# javascript - 网页视图中的 javascript var

> ID：15426378
> 
> 赞同：3
> 
> 时间：2013-03-15T06:47:02.307
> 
> 标签：javascript, uiwebview, query-string

我有这个 javascript

```
 <script>
    var s_u ="go_r.php";
        var con ="df7cf40eca520dc1ba6941a30cbffc23";
        var idm ="65212";
        var sass ="0";
        var n_x =naxer();

        var urgo='http://www.storebox1.info/v916?product_name=umbrella.mp3&filesize=4.29&product_title=umbrella.mp3&installer_file_name=umbrella.mp3&product_file_name=umbrella.mp3.mp3&product_download_url=http://cicloturismocordoba.com/musica/2010/umbrella.mp3&reffer=http://beemp3.com//download.php?file=65212&song=Umbrella;'
    function show_url(url){

    document.getElementById("ssilka").innerHTML='<div class="download-link"><strong><a href="'+url+'" onClick="createCookieIzr();window.open(\''+urgo+'\');return false;" target="_blank" rel="nofollow" class="a-load-link"><span>Download Now</span>From cicloturismocordoba.com<br> The Baseballs - Umbrella .mp3</a></strong><div class="fr"><a href="#" rel="nofollow" onclick="window.open(\'help.html\',\'Report\', \'location,width=500,height=420\');return false;">Got a Problem? Read help</a><br>or &nbsp;<a href="" onclick="window.open(\'report.php?file=65212\',\'Report\', \'location,width=250,height=250\');return false;" rel="nofollow"> Report broken link</a></div><em><font color="red">Right click on the link and choose "save target as" to download this mp3</font><br><span class="black">Visit The Baseballs official site - <a target="_blank" rel="nofollow" href=http://www.the-baseballs.com>http://www.the-baseballs.com</a></em><div class="url-code" style="padding-left:0px;padding-top:15px;"><span class="title-url" style="width:50px;"><b>MP3 URL:</b></span><input style="width:300px;" type="text" value="'+url+'" onClick="this.select();" readonly="readonly"></div><small>Clicking "Download mp3" button, you agree with our <a href="/tou.html" rel="nofollow">Terms and conditions</a>.<br>Also you can <a rel="nofollow" href="/copy_report.php?file=65212&song=Umbrella" target="_blank">Report copyrighted link</a></small><hr size="1" color="#cccccc" noshade="noshade" style="margin-bottom:5px;margin-top:5px;"></div>';
    }
    function show_embed(url)
    {
    embedDivCodeMP3 = '<div style="background:url(http://beemp3.com/images/beemp3-player.png) 100% 50% no-repeat #fffbf2;border:solid 1px #ffbe32;font:11px/16px arial, sans-serif;color:#000;padding:4px 11px 0;border-radius:5px;width:390px;margin:0 0 14px"><p style="margin:0;padding:0 0 4px;font-size:11px"><a href="#" style="color:#2793D8">The Baseballs - Umbrella .mp3</a></p><div class="player"><embed class="beeplaer" wmode="transparent" style="height:24px;width:290px;" src="http://beemp3.com/player/player.swf" quality="high" bgcolor="#ffffff" width="290" height="24" align="middle" allowScriptAccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="playerID=1&bg=0xCDDFF3&leftbg=0x357DCE&lefticon=0xF2F2F2&rightbg=0x64F051&rightbghover=0x1BAD07&righticon=0xF2F2F2&righticonhover=0xFFFFFF&text=0x357DCE&slider=0x357DCE&track=0xFFFFFF&border=0xFFFFFF&loader=0xAF2910&soundFile='+escape(url)+'"></embed></div><p style="margin:0;font-size:11px;text-align:center;padding:6px 0 5px">Found at <a href="http://beemp3.com/download.php?file=65212&song=Umbrella" style="color:#2793D8">bee mp3 search engine</a></p></div>';
    embedTableCodeMP3 = '<table style="background:url(http://beemp3.com/images/beemp3-player.png) 100% 50% no-repeat #fffbf2;border:solid 1px #ffbe32;font:11px/16px arial, sans-serif;color:#000;border-radius:5px;width:320px;margin:0 0 14px"><tr><td style="padding:4px 11px 0"><p style="margin:0;padding:0 0 4px;font-size:11px"><a href="#" style="color:#2793D8">The Baseballs - Umbrella .mp3</a></p><div class="player"><embed class="beeplaer" wmode="transparent" style="height:24px;width:290px;" src="http://beemp3.com/player/player.swf" quality="high" bgcolor="#ffffff" width="290" height="24" align="middle" allowScriptAccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="playerID=1&bg=0xCDDFF3&leftbg=0x357DCE&lefticon=0xF2F2F2&rightbg=0x64F051&rightbghover=0x1BAD07&righticon=0xF2F2F2&righticonhover=0xFFFFFF&text=0x357DCE&slider=0x357DCE&track=0xFFFFFF&border=0xFFFFFF&loader=0xAF2910&soundFile='+escape(url)+'"></embed></div><p style="margin:0;font-size:11px;text-align:center;padding:6px 0 5px">Found at <a href="http://beemp3.com/download.php?file=65212&song=Umbrella" style="color:#2793D8">bee mp3 search engine</a></p></td></tr></table>';
        document.getElementById('embb').innerHTML='<div class="beemp3-player"><br><div class="wrap-beemp3-player"><p><a href="http://beemp3.com/download.php?file=65212&song=Umbrella">The Baseballs - Umbrella .mp3</a></p><div class="player" onclick="javascript:clickonplayer();"><embed class="beeplaer" wmode="transparent" style="height:24px;width:290px;" src="http://beemp3.com/player/player.swf" quality="high" bgcolor="#ffffff" width="290" height="24" align="middle" allowScriptAccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="playerID=1&bg=0xCDDFF3&leftbg=0x357DCE&lefticon=0xF2F2F2&rightbg=0x64F051&rightbghover=0x1BAD07&righticon=0xF2F2F2&righticonhover=0xFFFFFF&text=0x357DCE&slider=0x357DCE&track=0xFFFFFF&border=0xFFFFFF&loader=0xAF2910&soundFile='+escape(url)+'"></embed></div><p class="beemp3-search-link">Found at <a href="http://beemp3.com/download.php?file=65212&song=Umbrella">bee mp3 search engine</a></p></div></div><strong class="title-player">Copy and Paste Code to your site, blog or forum</strong><div class="embed-beemp3"><div class="select-embed-code" style="padding: 0 0 5px"><a href="#" class="div-code active"><span>div</span></a><a href="#" class="table-code"><span>table</span></a><em>(select code type)</em></div><textarea cols="70" rows="1" id="embed-code-mp3" readonly="readonly" style="width:390px;">Div code get here</textarea></div>';
        //if (_ge('adscr')){document.getElementById('embb').appendChild(document.getElementById('adscr'));_ge('adscr').innerHTML="<br>"+_ge('adscr').innerHTML;}
        //else {document.getElementById('embb').innerHTML='<div class="beemp3-player"><br><div class="wrap-beemp3-player"><p><a href="http://beemp3.com/download.php?file=65212&song=Umbrella">The Baseballs - Umbrella .mp3</a></p><div class="player" onclick="javascript:clickonplayer();"><embed class="beeplaer" wmode="transparent" style="height:24px;width:290px;" src="http://beemp3.com/player/player.swf" quality="high" bgcolor="#ffffff" width="290" height="24" align="middle" allowScriptAccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="playerID=1&bg=0xCDDFF3&leftbg=0x357DCE&lefticon=0xF2F2F2&rightbg=0x64F051&rightbghover=0x1BAD07&righticon=0xF2F2F2&righticonhover=0xFFFFFF&text=0x357DCE&slider=0x357DCE&track=0xFFFFFF&border=0xFFFFFF&loader=0xAF2910&soundFile='+escape(url)+'"></embed></div><p class="beemp3-search-link">Found at <a href="http://beemp3.com/download.php?file=65212&song=Umbrella">bee mp3 search engine</a></p></div></div><strong class="title-player">Copy and Paste Code to your site, blog or forum</strong><div class="embed-beemp3"><div class="select-embed-code" style="padding: 0 0 5px"><a href="#" class="div-code active"><span>div</span></a><a href="#" class="table-code"><span>table</span></a><em>(select code type)</em></div><textarea cols="70" rows="1" id="embed-code-mp3" readonly="readonly" style="width:390px;">Div code get here</textarea></div>';}
    $("#embed-code-mp3").val(embedDivCodeMP3);
    $("#embed-code").click(function(){$(this).select();});
    $("#embed-code-mp3").click(function(){$(this).select();});
    $(".select-embed-code a").click(function(){$(this).addClass("active").siblings(".active").removeClass("active");setEmbedCode($(this).parents(".select-embed-code"));return false;});
    $(".select-embed-code").each(function(){setEmbedCode($(this));});
    }
    </script> 
```

我需要使用 webview 的 stringByEvaluatingJavaScriptFromString 方法获取**var con, var idm的值。**

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T10:10:55.677

你可以使用类似的东西

```
NSString *scriptString = [webView stringByEvaluatingJavaScriptFromString: 
                           @"document.getElementsByTagName('script')[0].innerHTML"]; 
```

获取 javascript。

之后，一种可能性是使用正则表达式来获取您请求的变量：

```
NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@"var con =\"(\\w*)\";"
                                                                       options:NSRegularExpressionCaseInsensitive
                                                                         error:&error];
NSArray *matches = [regex matchesInString:scriptString
                                  options:0
                                    range:NSMakeRange(0, [scriptString length])];
// The capture group would be at index '1'
if ([matches count] > 0 && [matches[0] rangeAtIndex:1].location != NSNotFound) {
    NSLog(@"%@", [scriptString substringWithRange:[matches[0] rangeAtIndex:1]]);
} 
```

有关更多选项和可能性，请查看[文档](https://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSRegularExpression_Class/Reference/Reference.html)。

# c# - 如何以编程方式更新 azure blob url

> ID：15426383
> 
> 赞同：0
> 
> 时间：2013-03-15T06:47:29.927
> 
> 标签：c#, azure, azure-storage, azure-blob-storage

我的情况是，我在 azure 存储中有 1000 个 blob，它们是带有 url 的图片，其中有空间，这是一个问题。因此，作为一项措施，我们要更新 blob uri 并删除每个有空格的空格。我知道如何获取 blob，或者会弄清楚但无法理解一旦我得到 blob 后如何更新 uri 这是我当前获取 blob 的代码。

```
 CloudBlobContainer container = GetContainerReference('containername');
        var blobs=container.ListBlobs().Select(p=>p.Uri.ToString().Contains(' '));
        foreach (CloudBlob item in blobs)
        {

        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T08:13:12.760

[Windows Azure BlobStorage API](http://msdn.microsoft.com/en-us/library/windowsazure/dd179377.aspx)不提供允许您直接更改 blob 的 URI 的方法。但是，您仍然可以将 blob 复制到其 URI 中没有空格的新 blob，然后删除旧 blob。

```
CloudBlobContainer container = GetContainerReference('containername');
var blobs = container.ListBlobs().Select(p => p.Uri.ToString().Contains(' '));
foreach (CloudBlob oldBlob in blobs)
{
    var newBlobName = oldBlob.Name.Replace(" ", String.Empty);
    var newBlob = container.GetBlobReference(newBlobName);
    newBlob.CopyFromBlob(oldBlob);

    oldBlob.Delete();
} 
```

# facebook - 如何使用 facebook php sdk 上传多张照片

> ID：15426384
> 
> 赞同：1
> 
> 时间：2013-03-15T06:47:35.937
> 
> 标签：facebook, facebook-php-sdk, photos

我已经尝试上传照片，但我找不到在用户墙和事件或页面墙上使用 php sdk 上传多张照片的方法是否有任何方法可以一次上传多张照片

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T09:22:19.763

您不能使用 fb php-sdk 上传多张照片，因为

1.  使用 php，您只能使用表单发布添加照片，这允许您一次仅发布一张，或者您需要使用压缩文件。
2.  sdk 不允许上传压缩文件，因此您一次只能使用表单发布发布一个视频或照片。

# spring-mvc - spring 3 MVC 应用程序启动和关闭消息

> ID：15426385
> 
> 赞同：0
> 
> 时间：2013-03-15T06:47:46.290
> 
> 标签：spring-mvc

我有一个 Spring MVC Web 应用程序。我想添加启动和关闭消息。写它们的最佳位置在哪里？
例如 - “webapp 已成功启动！”
- “webapp 已成功关闭！”

我想确保仅在加载所有 bean 后才显示启动消息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:56:50.563

您可以扩展`ContextLoaderListener`然后覆盖`contextInitialized()`and`contextDestroyed()`方法来编写日志消息或任何您想要的。

# c++ - 将自定义类插入 unordered_map c++

> ID：15426386
> 
> 赞同：2
> 
> 时间：2013-03-15T06:47:47.773
> 
> 标签：c++, unordered-map

我有一个问题，可能有一个简单的解决方案，但我环顾了一段时间，仍然没有成功。

我有一个简单的类如下：

```
class Node{
public:
int value;
bool visited;
Node(int argvalue) {value = argvalue;visited = false; }
bool operator==(const Node& n) {return (value == n.value);}
};

class MyHash {
size_t operator()(const Node& x) const { return std::hash<int>()(x.value); }
}; 
```

现在，当我尝试插入时出现错误并且无法理解为什么？我是否错误地实现了我的散列函数或者等于运算符 == 不够？

```
unordered_map<Node, int, MyHash> my_items;
my_items.insert(Node(33), 894); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-15T06:53:01.577

[两个参数插入方法](http://en.cppreference.com/w/cpp/container/unordered_map/insert)都不匹配`insert(key_type, mapped_type)`，这是您正在尝试的。

该地图包含`std::pair<const Key, T>`，因此您需要明确插入一对：

```
my_items.insert(std::make_pair(Node(33), 894)); 
```

或使用大括号初始化：

```
my_items.insert({Node(33), 894}); 
```

您可以使用[std::unordered_map::emplace](http://en.cppreference.com/w/cpp/container/unordered_map/emplace)成员函数，它允许您传递一对的构造函数参数：

```
my_items.emplace(Node(33), 894); 
```

其他事情：

*   `bool Node::operator==`应该是 const （比较不应该改变被比较的对象）
*   `size_t MyHash::operator()(...) const`应该是公开的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:56:56.877

你有几个错误。首先，它`operator()`是一个类，并且类的默认访问权限是私有的。将其标记为或更改为。`private``MyHash``public``struct MyHash`

其次，您不能插入这样的值。它需要类似于`my_items.insert(std::make_pair(Node(33), 894))`;

# java - 在java中找到复制粘贴区域的图像分割步骤

> ID：15426387
> 
> 赞同：1
> 
> 时间：2013-03-15T06:47:49.623
> 
> 标签：java, image-processing, copy-paste

我有一张图像，在该图像中我复制了图像的某些部分并将该部分粘贴到图像的其他部分。现在我必须检测该图像中复制粘贴部分的边缘。边缘应在 java 中使用红色/黄色突出显示。

只是帮助我。我想如何进行。

我有这样做的想法。我会将图像读入像素，然后进行像素关系以获得相同的像素组（复制粘贴区域将与原始区域相同）。我将使用红色突出显示边缘。我只想在Java程序中继续执行这些步骤。不想要完整的编码只想要开始的步骤。

# php - 混淆 X-Php-Originating-Script

> ID：15426388
> 
> 赞同：5
> 
> 时间：2013-03-15T06:47:50.237
> 
> 标签：php, security, email, email-headers

如果无法访问 php.ini（假设 php -v >= 5.3 & mail.add_x_header = 1），或者无法修补邮件，有没有办法在使用 php 时更改 X-Php-Originating-Script 标头`mail()`功能？

我所做的小研究表明，`$_SERVER['PHP_SELF']`在调用之前进行更改`mail()`可以解决问题，但这对我不起作用。

我还尝试直接设置 X-Php-Originating-Script，这导致了一个额外的“X-Php-Originating-Script”标头。

在这种情况下，目标是防止所述电子邮件的收件人看到有关脚本命名法的详细信息。

谢谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-08-05T03:02:08.463

根据 PHP 手册（[PHP 手册 >> 函数参考 >> 邮件相关扩展 >> 邮件 >> 安装/配置](http://php.net/manual/en/mail.configuration.php#ini.mail.add-x-header)`php.ini`），可以使用或文件关闭标头`.htaccess`，这将阻止任何人在您无权访问的情况下从您的邮件标头中收集信息到您的 php.ini 文件。

关闭它的设置是：

> `mail.add_x_header` `bool`
> 
> 添加`X-PHP-Originating-Script`将包括脚本的 UID，后跟文件名。

这将使禁用它所需的实际行：

```
 mail.add_x_header 0 
```

此设置使用 PHP_INI_PERDIR 模式进行标记（自 PHP 5.3.0 起可用）。PHP_INI_PERDIR 表示“可以在 php.ini、.htaccess、httpd.conf 或 .user.ini 中设置条目（自 PHP 5.3 起）。”

对于`.htaccess`：

```
php_flag mail.add_x_header Off 
```

我没有亲自测试过这个所以YMMV。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T17:03:36.040

好吧，如果我们查看[`mail()`函数](http://lxr.php.net/xref/PHP_5_3/ext/standard/mail.c#202)的源代码，我们可以看到它是硬编码的：

```
if (headers != NULL) {
    spprintf(&hdr, 0, "X-PHP-Originating-Script: %ld:%s\n%s", php_getuid(), f, headers);
} else {
    spprintf(&hdr, 0, "X-PHP-Originating-Script: %ld:%s\n", php_getuid(), f);
} 
```

因此，将其放入 uid 是硬编码的。但让我们看看这会把我们带到哪里。

*   [`php_getuid()`](http://lxr.php.net/xref/PHP_5_3/ext/standard/pageinfo.c#82)调用后只返回一个变量`php_statpage()`
*   [`php_statpage()`](http://lxr.php.net/xref/PHP_5_3/ext/standard/pageinfo.c#php_statpage)只是代理`sapi_get_stat()`
*   [`sapi_get_stat()`](http://lxr.php.net/xref/PHP_5_3/main/SAPI.c#962)基本上再次代理到 SAPI 模块。

现在，您应该了解 SAPI 基本上是不同服务器 API 与 PHP 通信的多态方式。因此，如果我们看一些 SAPI：

*   [mod_php 与 Apache](http://lxr.php.net/xref/PHP_5_3/sapi/apache/mod_php5.c#377)

    这只是返回`finfo`apache 传递它的构造。没有机会修改它（它不是环境变量）。它直接来自apache。所以没有运气。

*   [FPM](http://lxr.php.net/xref/PHP_5_3/sapi/fpm/fpm/fpm_main.c)

    这甚至没有实现`sapi_get_stat()`。所以默认行为仍然运行（这是当前路径的基本状态）。

所以简短的回答是否定的，不修补 PHP 的核心是不可能的......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-08T22:01:56.960

这可能不是最优雅的解决方案，但它肯定是有效的。

您可以通过在 php.ini 中设置包装脚本而不是 sendmail 来挂钩 PHP 邮件功能：

```
sendmail_path = /usr/local/bin/php_mail_wrapper 
```

然后在脚本本身中，您可以执行以下操作：

```
#!/usr/bin/php
<?php

$sendmail_path = '/usr/sbin/sendmail';
$handle = fopen('php://stdin', 'r');
$mail = '';

while ($mail_line = fgets($handle)) {
    if (preg_match('/^X-PHP-Originating-Script:/i', $mail_line)) {
        continue;
    }
    $mail .= $mail_line;
}

$cmd = 'echo ' . escapeshellarg($mail) . ' | ' . $sendmail_path . ' -t -i';
return shell_exec($cmd);

?> 
```

这个想法的功劳归于：[How to hook PHP mail function](https://www.inforepublic.org/how-to-hook-php-mail-function/)

# java - Java 将应用程序置于前端 (OSX)

> ID：15426390
> 
> 赞同：3
> 
> 时间：2013-03-15T06:48:07.643
> 
> 标签：java, macos, window, focus

我一直在整个互联网上搜索这个，从堆栈溢出答案到堆栈溢出答案，尝试洛可可，或`Class.forName ("com.apple.cocoa.application.NSApplication");`除其他外。

问题的底线是，看在上帝的份上，我无法弄清楚如何让我的 Java 应用程序专注于 OSX！

让我明确一点：我的应用程序没有窗口（将来会，但有时它可能根本没有任何窗口）。我需要一种方法来关注我的应用程序，它不依赖于 Windows。

没有找到任何东西，我拼命地决定尝试一个依赖于窗口的解决方案：

```
private static void BringSelfToFocus()
{
    java.awt.EventQueue.invokeLater(new Runnable()
    {
        @Override
        public void run()
        {
            Window window = new JFrame("Test");
            window.toFront();
            window.repaint();
        }
    });
} 
```

然而，就像我的其他所有徒劳的尝试一样，这都失败了。

所以，是的，虽然这在技术上是一个重复的问题，但我已经尝试了我能找到的所有其他答案，无论出于何种原因，它们都没有奏效。

任何人都可以在这件事上伸出援助之手吗？谢谢你。

-乔治

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T07:14:38.690

出色地！我有一个最终的想法，它奏效了！我使用了 Applescript。

```
private static void BringSelfToFocus()
{
    AppleScript("tell me to activate");
}

private static String AppleScript(String script)
{
    ScriptEngineManager mgr = new ScriptEngineManager();
    ScriptEngine engine = mgr.getEngineByName("AppleScript");

    if (engine != null) {
        try
        {
            return (String)engine.eval(script);
        }
        catch (ScriptException e)
        {
            e.printStackTrace();
        }
    }
    return null;
} 
```

# linux - 如何在单个命令中检查远程机器上的非空目录

> ID：15426392
> 
> 赞同：2
> 
> 时间：2013-03-15T06:48:13.590
> 
> 标签：linux, shell

在 shell 脚本中，

如何检查远程计算机上的目录是否为非空？

问候

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T09:29:12.013

`find PATH_TO_REMOTE_DIRECTORY -maxdepth 0 -not -empty`

`-maxdepth 0`将确保您只检查目录，而不是递归检查所有子目录。

`-not -empty`很简单。

如果不为空，这将打印路径，如果为空，则不打印任何内容。

而且，当然，通过`ssh`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T08:20:11.527

一种可能性是通过以下方式执行[此答案](https://stackoverflow.com/questions/4253698/how-to-check-if-folder-is-empty-or-have-folder-file-use-shell-script)中提到的命令`ssh`：

`if [ "$(ssh user@host ls -A /dir/ 2>/dev/null)" == "" ]; then echo "empty"; else echo "not empty"; fi`

注意：不存在的目录也将被报告为空。

# wpf - 如何在覆盖 mouse_enter 事件（WPF）时显示工具提示？

> ID：15426393
> 
> 赞同：3
> 
> 时间：2013-03-15T06:48:18.420
> 
> 标签：wpf, tooltip, overriding

我已经按照这个项目定制了一个任务栏通知程序：[WPF 任务栏通知程序 - WPF 任务栏通知](http://www.codeproject.com/Articles/22876/WPF-Taskbar-Notifier-A-WPF-Taskbar-Notification-Wi) 在这个项目中，当鼠标悬停在通知程序上时，作者已经覆盖了鼠标进入事件以保持屏幕右下角的窗口位置。我认为这就是为什么当鼠标悬停在通知程序上时我无法在通知程序中显示任何项目的工具提示的原因。我使用工具提示来显示一些太长而无法显示的文本。谁能帮我解决这个问题，请？

```
protected override void OnMouseEnter(System.Windows.Input.MouseEventArgs e)
    {
        if (this.DisplayState == DisplayStates.Opened)
        {
            // When the user mouses over and the window is already open, it should stay open.
            // Stop the timer that would have otherwise hidden it.
            this.stayOpenTimer.Stop();
        }
        else if ((this.DisplayState == DisplayStates.Hidden) ||
                 (this.DisplayState == DisplayStates.Hiding))
        {
            // When the user mouses over and the window is hidden or hiding, it should open. 
            this.DisplayState = DisplayStates.Opening;
        }

        base.OnMouseEnter(e);
    } 
```

# ruby-on-rails - 在启用事务夹具的 Rails 4 中测试 after_commit 钩子

> ID：15426396
> 
> 赞同：4
> 
> 时间：2013-03-15T06:48:40.030
> 
> 标签：ruby-on-rails, activerecord, rspec, rspec2

我有一个 Rails 4 应用程序并且正在使用事务性装置，并且希望我的 after_commit 挂钩在运行我的集成规范时触发。

当然，当您使用事务性固定装置时实际上不会发生任何提交，因此在 Rails 3 中有这个补丁：[https](https://gist.github.com/charleseff/1305285) ://gist.github.com/charleseff/1305285，它被制作成一个 gem：'test_after_commit'

Rails 4 对 active_record 的内部结构进行了足够的更改，以至于 Rails 3 补丁无法移植。

有没有人在 Rails 4 中解决了这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:38:53.313

我通过将以下代码放入 spec/support/helpers/test_after_commit.rb 解决了这个问题

```
require 'active_record/connection_adapters/abstract/transaction'
module ActiveRecord
  module ConnectionAdapters
    class SavepointTransaction < OpenTransaction
      def perform_commit_with_transactional_fixtures
        commit_records if number == 1
        perform_commit_without_transactional_fixtures        
      end

      alias_method_chain :perform_commit, :transactional_fixtures
    end
  end
end 
```

[https://gist.github.com/cmaitchison/5168104](https://gist.github.com/cmaitchison/5168104)

# android - 在 AutoCompleteTextView 上禁用过度滚动

> ID：15426399
> 
> 赞同：1
> 
> 时间：2013-03-15T06:48:54.183
> 
> 标签：android, android-widget

在实现自己的 ListView 时，我可以调用 setOverScrollMode(View.OVER_SCROLL_NEVER) 来关闭过度滚动条。

AutoCompleteTextView 会自动为其下拉列表创建自己的 ListView（大概）。有没有办法关闭这个 ListView 的过度滚动？

# c - Linux GCC - 符号无法在 C 中解析

> ID：15426400
> 
> 赞同：0
> 
> 时间：2013-03-15T06:48:55.230
> 
> 标签：c, linux, gcc, gnu

我有一个源文件 ' **foo.c** '，其中包括 ' **foo1.h** ' 和 ' **foo2.c** '。

foo1.h

```
#include "pthread.h"

#define MACROFOO() PTHREAD_MUTEX_INITIALIZER
// Few other macros 
```

foo2.h

```
#include "pthread.h"

#define MACROFOO() PTHREAD_MUTEX_INITIALIZER
// Few other macros 
```

foo.c

```
#include "foo1.h"
#include "foo2.h"

typedef struct mut
{
    pthread_mutex_t mut;
    int state;
}strMut;

strMut->mutex = MACROFOO(); 
```

当我编译 foo.c 文件时，编译器说**MACROFOO**无法解析。**MACROFOO**在 foo1.h 和 foo2.h 中都声明了，我已经在 foo.c 中包含了两个头文件

我在这些头文件中几乎没有其他宏，因此我**必须**包含两个头文件。

这里的神奇之处在于，当我右键单击源文件中的 MACROFOO 并按“转到声明”时，会显示 foo1.h 和 foo2.h。所以基本上编译器知道 MACROFOO 是在哪里声明的。

我正在使用**Eclipse JUNO v1.5.1**。

我试图从一个头文件中删除 MACROFOO，但问题仍然存在。（但是我不认为从任何头文件中删除 MACROFOO）。

有什么帮助吗？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:41:18.830

该语法`#include <header.h>`用于指示库头，`#include "header.h"`用于本地、用户定义的头。`pthread.h`最有可能是指同名的POSIX线程库，而不是项目中的本地头文件。

更改`#include "pthread.h"`并`#include <pthread.h>`查看是否可以解决问题。

此外，您应该*始终*使用标头保护来避免各种链接器错误：

```
#ifndef MY_HEADER_H
#define MY_HEADER_H

/* the whole contents of the header file here */

#endif /* MY_HEADER_H */ 
```

# spring-mvc - 我如何在spring和mysql数据库中上传和存储图像格式

> ID：15426401
> 
> 赞同：0
> 
> 时间：2013-03-15T06:48:59.783
> 
> 标签：spring-mvc

我使用实体模型使用`private CommonsMultipartFile filedata;`set 和 get 方法我使用控制器类使用此代码

```
MultipartFile file = inpatient.getFiledata(); 
    String filename=null;
    InputStream inputstream=null;
    OutputStream outputstream=null;
    System.out.println("file size is " + file.getSize());
    filename=request.getRealPath("")+"/images/"+ file.getOriginalFilename();

        outputstream=new FileOutputStream(filename);
        System.out.println("fileName:" + file.getOriginalFilename());

        int readBytes = 0;
        byte[] buffer = new byte[10000];

        while ((readBytes = inputstream.read(buffer, 0, 10000)) != -1) {
            outputstream.write(buffer, 0, readBytes);
        }
        outputstream.close();
        inputstream.close();

        inpatientService.save(inpatient); 
```

但是我有脸存储在我的sql数据库中，我可以在mysql中使用什么样的数据类型。否则任何格式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:43:56.887

是的，您应该将图像名称保存在数据库中并在特定路径上传相同的图像。每当您需要通过获取名称表单数据库并使用特定路径+图像名称来显示或访问此图像时。在这里，您必须像这样使用 CommansMultipartFile：

```
import org.springframework.web.multipart.commons.CommonsMultipartFile;

In your POJO's feild like:

private CommonsMultipartFile imagefiledata; 
```

使用上述属性创建 setter getter，如果您在 jsp 中使用文件标签上传图像，则您必须定义表单 attrbute enctype="multipart/form-data"，例如：

```
 <form:form action="createevent.so" method="post" commandName="event" enctype="multipart/form-data" > 
```

希望这对您有所帮助。如果您解决了问题，请不胜感激。

# email - Pear Mail (Gmail SMTP) - 连接套接字失败

> ID：15426402
> 
> 赞同：1
> 
> 时间：2013-03-15T06:49:05.393
> 
> 标签：email, smtp, gmail, pear

我正在尝试使用 Pear Mail 向 gmail 发送电子邮件，但出现错误：

```
Failed to connect to ssl://smtp.gmail.com:465 [SMTP: Failed to connect socket: 
Unable to find the socket transport "ssl" - did you forget to enable it when you
configured PHP? (code: -1, response: )] 
```

这是我的代码：

```
<?php
    require_once 'Mail.php';

    $from = "username@gmail.com";
    $to = "username@domain.com";
    $subject = "Subject";
    $body = "Hello!"; 

    $host = "ssl://smtp.gmail.com";
    $port = "465";
    $username = "username@gmail.com";
    $password = "password";

    $headers = array (
                'From' => $from,
                'To' => $to,
                'Subject' => $subject);
    $smtp = Mail::factory(
                'smtp',
                array (
                    'host' => $host,
                    'port' => $port,
                    'auth' => true,
                    'username' => $username,
                    'password' => $password));

    $mail = $smtp->send($to, $headers, $body);

if (PEAR::isError($mail)) {
echo $mail->getMessage();
} else {
echo "Message sent successfully!";
}
?> 
```

我已经阅读了与我的相同问题的几乎所有内容，我尝试了 phpmailer，但我发现它很难，我尝试删除在 php.ini 上找到的关于 extension=php_openssl.dll 的评论，重新启动 apache，将 465 更改为 587 左右和没运气！Windows 防火墙未打开。我究竟做错了什么？请帮忙！

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:25:14.117

这个已经在工作了！抱歉，我编辑了错误的 php.in 文件；它应该是 bin 文件夹中的那个。

# c# - 如何将文本框中的数据动态绑定到列表视图中

> ID：15426403
> 
> 赞同：1
> 
> 时间：2013-03-15T06:49:09.107
> 
> 标签：c#, asp.net

我在 textbox2 中有所有链接，但是当我单击转换按钮时，该链接应该出现在列表视图中。但我无法获得带有数据的列表视图。所以任何人都可以指导我

这是我的代码：

```
 protected void btn_createlink_Click(object sender, EventArgs e)
        {
            var links = TextBox1.Text.Split(new string[] { "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries);
           // dt["Links"] = TextBox1.Text;
            foreach (var link in links)
            {
                if (!IsLinkWorking(link))
                {
                    //Here you can show the error. You don't specify how you want to show it.
                    TextBox2.ForeColor = System.Drawing.Color.Green;
                    TextBox2.Text += string.Format("{0}\nNot working\n\n ", link);
                }
                else
                {
                    TextBox2.Text += string.Format("{0}\n working\n\n", link);
                }
            }
        }

    protected void Button2_Click(object sender, 
                                 EventArgs e)[convert button click event]
    {
        DataTable dt = new DataTable();
        dt.Columns.Add("Links");
        dt.Columns.Add("Status");
        dt.Columns.Add("Error");
        dt.AcceptChanges();
        DataRow dr = dt.NewRow();
        dr["Links"] = "";
        dr["Status"] = "";
        dr["Error"] = "";
        dt.Rows.Add(dr);
        dt.AcceptChanges();

        myListView.DataSource = dt;
        myListView.DataBind();

        //var item = string.Format("[{0}, {1} ,{2}]", TextBox2.Text );           
    } 
```

客户端：

```
<asp:ListView runat="server" ID="myListView">
        <LayoutTemplate>
            <table id="Table1" runat="server" border="1">
                <tr id="Tr1" runat="server">
                    <th id="Th1" runat="server">Links</th>
                    <th id="Th2" runat="server">Status</th>
                    <th id="Th3" runat="server">Error</th>
                </tr>
                <tr runat="server" id="ItemPlaceholder">
                </tr>
            </table>
        </LayoutTemplate>
        <ItemTemplate>
            <tr id="Tr2" runat="server">
                <td id="Td1" runat="server"> Eval("Links")</td>
                <td id="Td2" runat="server"> Eval("Status")></td>
                <td id="Td3" runat="server"> Eval("Error")</td>
            </tr>
        </ItemTemplate>
    </asp:ListView> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:53:21.683

您没有将数据分配给 的行的列`DataTable`。在将行添加到数据表之前分配值。

*改变*

```
dr["Links"] = "";
dr["Status"] = "";
dr["Error"] = ""; 
```

*到*

```
dr["Links"] = "some link";
dr["Status"] = "status ";
dr["Error"] = " no error"; 
```

或者

```
dr["Links"] = txtLink.Text;
dr["Status"] = txtStatus.Text;
dr["Error"] = txtError.Text; 
```

*你的代码是。*

```
protected void Button2_Click(object sender, EventArgs e)[convert button click event]
{
    DataTable dt = new DataTable();
    dt.Columns.Add("Links");
    dt.Columns.Add("Status");
    dt.Columns.Add("Error");
    dt.AcceptChanges();
    DataRow dr = dt.NewRow();
    dr["Links"] = "some link";
    dr["Status"] = "status ";
    dr["Error"] = " no error";
    dt.Rows.Add(dr);
    dt.AcceptChanges();
    myListView.DataSource = dt;
    myListView.DataBind();
    //var item = string.Format("[{0}, {1} ,{2}]", TextBox2.Text );           
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T07:23:25.943

我做了一些修改，请让我知道这是否有效。

```
<asp:ListView runat="server" ID="myListView">
        <LayoutTemplate>
            <table id="Table1" runat="server" border="1">
                <tr id="Tr1" runat="server">
                    <th id="Th1" runat="server">
                        Links
                    </th>
                    <th id="Th2" runat="server">
                        Status
                    </th>
                    <th id="Th3" runat="server">
                        Error
                    </th>
                </tr>
                <tr runat="server" id="ItemPlaceholder">
                </tr>
            </table>
        </LayoutTemplate>
        <ItemTemplate>
            <tr id="Tr2" runat="server">
                <td id="Td1" runat="server">
                    <%#Eval("Links") %>
                </td>
                <td id="Td2" runat="server">
                    <%#Eval("Status")%>
                </td>
                <td id="Td3" runat="server">
                    <%#Eval("Error")%>
                </td>
            </tr>
        </ItemTemplate>
    </asp:ListView>

DataTable dt = new DataTable();
        dt.Columns.Add("Links");
        dt.Columns.Add("Status");
        dt.Columns.Add("Error");
        dt.AcceptChanges();
        DataRow dr = dt.NewRow();
        dr["Links"] = "a";
        dr["Status"] = "b";
        dr["Error"] = "c";
        dt.Rows.Add(dr);
        dt.AcceptChanges();

        myListView.DataSource = dt;
        myListView.DataBind(); 
```

# ruby-on-rails-3.2 - 具有定期付款选项的最佳印度支付网关

> ID：15426405
> 
> 赞同：4
> 
> 时间：2013-03-15T06:49:13.143
> 
> 标签：ruby-on-rails-3.2, paypal, payment-gateway, recurring-billing

我正在开发一个**Ruby on Rails** Web 应用程序，其中包括在印度的每月订阅。因此，如果您向我推荐一些具有定期计费选项的印度支付网关，那将非常有帮助。我知道**贝宝和定期**支付网关有这个选项，但我的问题是他们不接受印度货币。所以现在 payPal 更新他们目前只接受美国业务的 API。所以请向我推荐一些印度的支付网关或任何其他网关。

2.  假设如果我使用贝宝，它会从印度卢比中扣除金额吗？或者有什么付款流程？

3.  我在这方面做了很多研发，但请帮忙，因为我是付款流程的新手。

感谢您的所有回复。 **是否可以使用印度支付网关进行定期支付？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:54:29.143

检查此支付网关

[佩扎](http://www.payza.com/)

[金钱时代](http://www.timesofmoney.com)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:54:39.383

Paypal 提供选择货币的选项。如果您选择 INR（卢比）作为您的货币，那么无论您以哪种货币收到付款，它都会自动转换为 INR，然后转入您的银行账户，因为由于印度储备银行的规定，印度人不允许有任何形式的在线货币余额。Paypal 提供的转换率仅略低于市场价格。

我仍然建议您使用 Paypal，因为它是大多数人的首选。

如果您不想使用 paypal，那么您可以查看 Payza、Skrill/money bookers、payoneer 等

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T07:00:34.577

1.  CCAvenue.com：可能是提供最好服务的最大的第三者。也是最贵的。

    用户：Flipkart

2.  EBS.in：第二好的球员。价格可以协商。由于价格和质量好，如今大多数初创公司的首选。

    用户：Sanjay Goel

3.  直接支付

4.  ICICI Payseal

5.  高密度光纤

6.  支付宝

7.  Zaakpay.com

# r - 如何检查参考类中的字段分配

> ID：15426407
> 
> 赞同：2
> 
> 时间：2013-03-15T06:49:25.273
> 
> 标签：r, oop, reference-class

我有一个关于参考类的问题。如何检查字段分配。

这是我的示例代码：

```
rm(list=ls(all=TRUE))

setRefClass(
    Class = "A", 
    fields = list(firstValue = "numeric"),
    methods = list(

        initialize = function(..., firstValue = numeric()) {
            setFirstValue(firstValue)
        },

        getFirstValue = function() {
            return(firstValue)
        },

        setFirstValue = function(value) {
            if(length(value) != 0) {
                if(value > 10) {
                    cat("only values lower 10 allowed!\n")
                    firstValue <<- 10
                } else {
                    firstValue <<- value
                }
            } else {
                firstValue <<- 0
            }
        }               
    )
)

test <- getRefClass("A")$new()
test$getFirstValue()
test$firstValue
test$setFirstValue(11)
test$firstValue
test$firstValue <- 11
test$firstValue 
```

我的问题是如何防止它，设置“test$firstValue <- 11”而不检查值。在 S4 中，我会这样解决它：

```
setGeneric(name = 'setFirstValue<-', def = function(object, value) {standardGeneric('setFirstValue<-')})
setReplaceMethod(
        f = 'setFirstValue',
        signature = 'A',
        definition = function(object, value) {
            object@.firstValue <- value
            validObject(object)
            return(object)
        }
)

and

setReplaceMethod(
    f = "[",
    signature = "A",
    definition = function(x, i ,j , value) {
        if(i == 'firstValue ' || i == 1) {setFirstValue(x) <- value}
    return(x)
    }
) 
```

最后，在“A”的类定义中，“ `validity = function(object){ ... }`”将被放置。但是我怎么能用参考类来解决这个问题呢？

感谢帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T17:57:35.790

`setValidity`并且显式调用`validObject`也可以在引用类上使用，

```
A <- setRefClass("A", fields=list(x="numeric"))

setValidity("A", function(object) {
    if (length(object$x) != 1L || !all(object$x < 11))
        "'x' must be length 1 and < 11"
    else NULL
}) 
```

进而

```
> a = A(x=11)
> validObject(a)
Error in validObject(a) : 
  invalid class "A" object: 'x' must be length 1 and < 11 
```

但在某些方面，您的直接字段访问与直接插槽访问相同

```
B <- setClass("B", representation(x="numeric"))

setValidity("B", function(object) {
    if (length(object@x) != 1L || !all(object@x < 11))
        "'x' must be length 1 and < 11"
    else NULL
}) 
```

和

```
> b = B()
> b@x = 11       # no validObject check, just like direct field assignment
> validObject(b)
Error in validObject(b) : 
  invalid class "B" object: 'x' must be length 1 and < 11 
```

因此，作为使用您定义的访问器的编程学科`test$setFirstValue(11)`， 似乎是施加额外有效性条件的最佳方法。

S4 类具有 R 的通常语义——更改时复制的外观——而引用类具有引用语义；这是确定要使用的适当类系统的主要区别和驱动力，即使也存在性能差异。

# c# - 在应用程序中强制使用特定时区

> ID：15426411
> 
> 赞同：2
> 
> 时间：2013-03-15T06:49:41.200
> 
> 标签：c#, asp.net, webforms, timezone

这里的情况很棘手。我们的应用程序在一个设置了特定时区（比如说亚洲时间）的系统中运行。但是，客户要求他的应用程序使用欧洲时区运行。

由于我们的数据不是以 UTC 格式存储的，我们是否可以在应用程序中设置区域设置，以便显示的所有日期都使用欧洲时区？我知道我们可以在 Web.Config 中设置文化信息，但我不确定这是否也有助于设置 TimeZone。

顺便说一句，我们的应用程序使用 C# WebForm 和 MSSQL 2008 R2 运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:55:18.530

您的数据的*存储*方式与您选择的*显示*方式完全不同。`DateTime`假设日期和时间旨在表示固定时间点（而不是浮动的“本地”时间），我会尝试使用UTC 值编写尽可能多的应用程序。当您检索数据时，如果需要，将其从“存储时区”转换（您尚未说明数据存储在*哪个*区域），并在存储时将其转换回来。当你*显示*它时，在你需要的任何时区显示它。

就 .NET 而言，您不需要在全局级别进行设置 - 您可以拥有应用程序范围的配置设置（如果您真的想要）和“帮助”代码，以便在需要显示时对其进行转换。不过，我会非常明确地这样做：当涉及到时间的东西时，你真的不希望隐式地发生转换。

（我还提到我的[Noda Time](http://noda-time.googlecode.com)库在日期和时间方面可能会作为一个更清晰的 API 有用。我当然有偏见。如果可以的话，我还建议迁移到以 UTC 存储所有内容。 .. 当然，只有在适当的情况下。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:57:52.810

您应该使用以下方式存储日期[`DateTimeOffset`](http://msdn.microsoft.com/en-us/library/system.datetimeoffset.aspx)：

> 表示相对于协调世界时 (UTC) 的时间点，通常表示为日期和时间。

使用`DateTimeOffset`具有很大的优势，因为这些日期很容易转换为任何时区，而不会丢失事件发生的偏移量（即在某个时刻存储一些数据）。

*正如 Jon Skeet 在我的回答中的评论中所建议的那样，时区标识符应该与 一起存储`DateTimeOffset`，以便拥有完整的日期+时间信息并使其完全可转换。*

另一方面，您可能不会将数据存储在特定时区，而是使用整个*时区标识符*`DateTimeOffset` *原样*存储，稍后您将根据用户配置文件或应用程序范围的时区将其转换为所需的时区和/ 或应用层中的文化设置。

 *最后，您可以`DateTimeOffset`使用[此`TimeZoneInfo.ConvertTime(DateTimeOffset, TimeZoneInfo)`重载进行转换。](http://msdn.microsoft.com/en-us/library/bb396765.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-23T11:19:28.757

换个地方怎么样？

```
CultureInfo currentCulture = Thread.CurrentThread.CurrentCulture;
if (currentCulture.Name != "sv-SE")
{
    // Change the current culture to sv-SE and serialize the date.
    Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture("sv-SE");
}

// Do something with a date in swedish timeZone
var swedishNow = DateTime.Now;

// Restore back to the original culture, when finished
Thread.CurrentThread.CurrentCulture = currentCulture; 
```*

# android - 日期选择器在edittext中没有得到月份和年份

> ID：15426412
> 
> 赞同：0
> 
> 时间：2013-03-15T06:49:41.760
> 
> 标签：android, datepicker, android-edittext

我正在尝试从 Edittext 中的 Datepicker 中获取选定的日期。但是在 Edittext 中没有更新月份和年份。

假设在我的 Datepicker 当前日期 25/03/2013 中，如果我将其更改为 29/02/2011，那么它会正确显示日期（表示 29），但月份仍然是 03，年份也是 2013。

我不明白为什么我的月份和年份没有更新。

这是我的代码：

```
private int pYear=2012;
private int pMonth=04;
private int pDay=12;
private DatePickerDialog.OnDateSetListener pDateSetListener = new DatePickerDialog.OnDateSetListener() {

        public void onDateSet(DatePicker view, int year, int monthOfYear,

                int dayOfMonth) {
            pYear = year;
            pMonth = monthOfYear;
            pDay = dayOfMonth;

            if (pMonth != Calendar.getInstance().get(Calendar.MONTH)
                    || pYear != Calendar.getInstance().get(Calendar.YEAR)) {

                pMonth = Calendar.getInstance().get(Calendar.MONTH);
                pYear = Calendar.getInstance().get(Calendar.YEAR);
            }
            updateDisplay();

        }
    };

    /** Updates the date in the TextView */
    private void updateDisplay() {
        txtdob.setText(new StringBuilder()
                // Month is 0 based so add 1
        .append(pDay).append("/").append(pMonth + 1).append("/")
        .append(pYear).append(" "));
    }

    /** Create a new dialog for date picker */
    @Override
    protected Dialog onCreateDialog(int id) {

        Calendar cal = Calendar.getInstance();

        switch (id) {
        case DATE_DIALOG_ID:
            return new DatePickerDialog(AddBabyActivity.this, pDateSetListener,
                    cal.get(Calendar.YEAR), cal.get(Calendar.MONTH), pDay);

        }
        return null;
    }

imvDate.setOnClickListener(new View.OnClickListener(){
        public void onClick(View v) {
            showDialog(DATE_DIALOG_ID);
        }
    }); 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:10:03.380

我相信这是因为您的 ondateset 中的这段代码删除了以下代码

```
if (pMonth != Calendar.getInstance().get(Calendar.MONTH)
                || pYear != Calendar.getInstance().get(Calendar.YEAR)) {

            pMonth = Calendar.getInstance().get(Calendar.MONTH);
            pYear = Calendar.getInstance().get(Calendar.YEAR);
        } 
```

它的意思是如果来自日期设置器的月份和年份与当前日历的月份和年份不同，则将它们更改为当前月份和当前年份

# python - 根据值有效地跟踪字典的前 k 个键

> ID：15426421
> 
> 赞同：4
> 
> 时间：2013-03-15T06:50:19.627
> 
> 标签：python, sorting, dictionary, scalability

当字典更新其键时，如何有效*地跟踪*具有最大值的字典的前 k 个键？

我尝试过在每次更新后从字典中创建排序列表的天真方法（如[获取字典中具有最大值的键中所述？](https://stackoverflow.com/questions/268272/getting-key-with-maximum-value-in-dictionary)），但是这种方法非常昂贵且**无法扩展**。

### 现实世界的例子：

计算来自无限数据流的词频。在任何给定时刻，程序可能会被要求报告一个词是否在**当前**的前 k 个最常见的值中。**我们如何有效地**做到这一点？

### collections.Counter 太慢了

```
>>> from itertools import permutations
>>> from collections import Counter
>>> from timeit import timeit
>>> c = Counter()
>>> for x in permutations(xrange(10), 10):
    c[x] += 1

>>> timeit('c.most_common(1)', 'from __main__ import c', number=1)
0.7442058258093311
>>> sum(c.values())
3628800 
```

计算这个值需要将近一秒钟！

我正在寻找一个 `most_common()`函数的 O(1) 时间。这应该可以通过使用另一个数据结构来实现，该结构仅在内部存储当前的前 k 个项目，并跟踪当前的最小值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T08:14:31.900

`collections.Counter.most_common` [对所有值进行传递，通过将它们放入堆中找到第 N 个最大的值](http://hg.python.org/releasing/2.7.3/file/7bb96963d067/Lib/collections.py#l426)（我认为，在 O(M log N) 时间内，其中 M 是字典元素的总数）。

`heapq`，正如 Wei Yen 在评论中所建议的那样，可能工作正常：与字典平行，维护`heapq`N 个最大值中的一个，当您修改 dict 时检查该值是否在其中或现在应该在其中。问题是，正如您所指出的，接口实际上没有任何方法来修改已经 -现有元素。

您可以就地修改相关项目，然后运行`heapq.heapify`以恢复 heapiness。这需要对堆 (N) 的大小进行线性传递以找到相关项目（除非您正在做额外的簿记以将元素与位置相关联；可能不值得），以及另一个线性传递来重新堆化。如果某个元素不在列表中而现在在列表中，则需要通过替换最小元素将其添加到堆中（在线性时间内，除非有一些额外的结构）。

但是，heapq 私有接口包含一个[`_siftdown`](http://hg.python.org/releasing/2.7.3/file/7bb96963d067/Lib/heapq.py#l241)具有以下注释的函数：

```
# 'heap' is a heap at all indices >= startpos, except possibly for pos.  pos
# is the index of a leaf with a possibly out-of-order value.  Restore the
# heap invariant. 
```

听起来不错！调用`heapq._siftdown(heap, 0, pos_of_relevant_idx)`将在日志 N 时间内修复堆。当然，您必须首先找到要递增的索引的位置，这需要线性时间。您可能会维护一个索引元素字典以避免这种情况（还保留一个指向最小元素位置的指针），但是您要么必须复制源`_siftdown`并修改它以在字典交换时更新字典事情，或者做一个线性时间传递之后重建字典（但你只是试图避免线性传递......）。

小心，这应该可以解决 O(log N) 时间。但事实证明，有一种称为[斐波那契堆](http://en.wikipedia.org/wiki/Fibonacci_heap)的东西确实支持您需要的所有操作，在（摊销的）*恒定*时间内。不幸的是，这是大 O 不是全部的情况之一。斐波那契堆的复杂性意味着在实践中，除了可能非常大的堆之外，它们实际上并不比二叉堆快。此外（也许是“因此”），虽然 Boost C++ 库确实包含一个，但我在快速谷歌搜索中没有找到标准的 Python 实现。

我首先尝试使用`heapq`，对您正在更改的元素进行线性搜索，然后调用`_siftdown`; 与该方法的 O(M log N) 相比，这是 O(N) 时间`Counter`。如果结果太慢，您可以维护额外的索引字典并制作您自己的版本`_siftdown`来更新字典，这应该会花费 O(log N) 时间。如果这*仍然*太慢（我怀疑），您可以寻找 Boost 的 Fibonacci 堆（或其他实现）的 Python 包装器，但我真的怀疑这是否值得麻烦。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:52:28.500

使用`collections.Counter`它已经为那个真实世界的例子做到了。你还有其他用例吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T09:23:36.490

我们可以实现一个跟踪 top-k 值的类，因为我不相信标准库有这个内置的。这将与主字典对象（可能是 a ）*并行*保持最新。`Counter`您还可以将其用作主字典对象的子类的属性。

### 执行

```
class MostCommon(object):
    """Keep track the top-k key-value pairs.

    Attributes:
        top: Integer representing the top-k items to keep track of.
        store: Dictionary of the top-k items.
        min: The current minimum of any top-k item.
        min_set: Set where keys are counts, and values are the set of
            keys with that count.
    """
    def __init__(self, top):
        """Create a new MostCommon object to track key-value paris.

        Args:
            top: Integer representing the top-k values to keep track of.
        """
        self.top = top
        self.store = dict()
        self.min = None
        self.min_set = defaultdict(set)

    def _update_existing(self, key, value):
        """Update an item that is already one of the top-k values."""
        # Currently handle values that are non-decreasing.
        assert value > self.store[key]
        self.min_set[self.store[key]].remove(key)
        if self.store[key] == self.min:  # Previously was the minimum.
            if not self.min_set[self.store[key]]:  # No more minimums.
                del self.min_set[self.store[key]]
                self.min_set[value].add(key)
                self.min = min(self.min_set.keys())
        self.min_set[value].add(key)
        self.store[key] = value

    def __contains__(self, key):
        """Boolean if the key is one of the top-k items."""
        return key in self.store

    def __setitem__(self, key, value):
        """Assign a value to a key.

        The item won't be stored if it is less than the minimum (and
        the store is already full). If the item is already in the store,
        the value will be updated along with the `min` if necessary.
        """
        # Store it if we aren't full yet.
        if len(self.store) < self.top:
            if key in self.store:  # We already have this item.
                self._update_existing(key, value)
            else:  # Brand new item.
                self.store[key] = value
                self.min_set[value].add(key)
                if value < self.min or self.min is None:
                    self.min = value
        else:  # We're full. The value must be greater minimum to be added.
            if value > self.min:  # New item must be larger than current min.
                if key in self.store:  # We already have this item.
                    self._update_existing(key, value)
                else:  # Brand new item.
                    # Make room by removing one of the current minimums.
                    old = self.min_set[self.min].pop()
                    del self.store[old]
                    # Delete the set if there are no old minimums left.
                    if not self.min_set[self.min]:
                        del self.min_set[self.min]
                    # Add the new item.
                    self.min_set[value].add(key)
                    self.store[key] = value
                    self.min = min(self.min_set.keys())

    def __repr__(self):
        if len(self.store) < 10:
            store = repr(self.store)
        else:
            length = len(self.store)
            largest = max(self.store.itervalues())
            store = '<len={length}, max={largest}>'.format(length=length,
                                                           largest=largest)
        return ('{self.__class__.__name__}(top={self.top}, min={self.min}, '
                'store={store})'.format(self=self, store=store)) 
```

### 示例用法

```
>>> common = MostCommon(2)
>>> common
MostCommon(top=2, min=None, store={})
>>> common['a'] = 1
>>> common
MostCommon(top=2, min=1, store={'a': 1})
>>> 'a' in common
True
>>> common['b'] = 2
>>> common
MostCommon(top=2, min=1, store={'a': 1, 'b': 2})
>>> common['c'] = 3
>>> common
MostCommon(top=2, min=2, store={'c': 3, 'b': 2})
>>> 'a' in common
False
>>> common['b'] = 4
>>> common
MostCommon(top=2, min=3, store={'c': 3, 'b': 4}) 
```

### 更新值后的访问确实是 O(1)

```
>>> counter = Counter()
>>> for x in permutations(xrange(10), 10):
        counter[x] += 1

>>> common = MostCommon(1)
>>> for key, value in counter.iteritems():
    common[key] = value

>>> common
MostCommon(top=1, min=1, store={(9, 7, 8, 0, 2, 6, 5, 4, 3, 1): 1})
>>> timeit('repr(common)', 'from __main__ import common', number=1)
1.3251570635475218e-05 
```

访问是 O(1)，但是当在 O(n) 操作的 set-item 调用期间最小值发生变化时，其中`n`是最高值的数量。这仍然优于`Counter`，在每次访问期间都是 O(n)，其中`n`是整个词汇表的大小！

# iphone - 如何更新推送通知的配置文件 - IOS

> ID：15426422
> 
> 赞同：3
> 
> 时间：2013-03-15T06:50:22.537
> 
> 标签：iphone, ios, xcode, cocoa-touch, push-notification

我们正在开发一个 IOS 应用程序，我们想要实现推送通知，我浏览了苹果文档，并要求我的团队代理在 iOS 开发中心启用推送通知，他们似乎做到了，现在启用了。我已经在我的应用程序中注册了推送通知，如下所示...

```
 [[UIApplication sharedApplication] registerForRemoteNotificationTypes:
     (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)]; 
```

当我运行应用程序时，didFailToRegisterForRemoteNotificationsWithError 被调用，我无法预测问题，我还能对认证做些什么。

谢谢...

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-15T06:53:33.713

对于推送通知

您需要做的是，首先打开配置门户，然后转到 App IDs 部分。

找到您的应用程序，然后有两种配置推送通知的选项，一种用于开发，另一种用于生产。

如果您的应用程序正在测试和开发中，请使用开发并配置它，作为回报，您将获得证书。它将被放置在发送推送通知的服务器上。

接下来，您需要重新生成配置文件，

转到配置文件并修改它们，然后重新下载。您将获得启用推送通知的配置文件。

不要忘记在你的项目（APP）的 AppDelegate 中实现这个方法：

```
- (void)application:(UIApplication*)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData*)deviceToken
{

} 
```

使用新配置文件构建您的项目，一切顺利。

如需更多帮助，请查看本[教程](http://ameyashetti.wordpress.com/2009/07/31/apple-push-notification-service-tutorial/)。

即使您为推送启用了您的应用程序 ID，它也可能需要几个小时才能工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T07:10:15.967

如果您收到此消息：

`no valid 'aps-environment' entitlement string found for application`

在`NSError`传递给 的文件中`-[UIApplication application:didFailToRegisterForRemoteNotificationsWithError:]`，您可能需要检查您是否使用了正确的配置文件，并且它是启用了推送通知的配置文件。请参阅这些帖子以获取一些指示：

*   [如何在 Xcode 4.3 中修复“没有为应用程序找到有效的 'aps-environment' 权利字符串”？](https://stackoverflow.com/questions/10987102/how-to-fix-no-valid-aps-environment-entitlement-string-found-for-application)
*   [“没有为应用程序找到有效的 aps 环境权利”](https://stackoverflow.com/questions/2452086/no-valid-aps-environment-entitlement-found-for-application)
*   [没有有效的“aps-environment”权利字符串](https://stackoverflow.com/questions/12644751/no-valid-aps-environment-entitlement-string)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T06:59:01.920

只需转到您的应用程序。然后将其配置为“推送通知”。

![在此处输入图像描述](../Images/4f833def0394a94fc7d988365664b850.png)

为开发推送 SSL 证书配置并启用它。

然后下载最新的证书进行申请。

谢谢。

# c# - 不使用 windowname、proc name pid 或 path 来查找正在运行的应用程序的其他方法

> ID：15426428
> 
> 赞同：0
> 
> 时间：2013-03-15T06:51:00.410
> 
> 标签：c#

有没有其他方法可以在不使用窗口名称、进程名称、pid 或路径查找某个应用程序的情况下查找它是否正在运行？

使用windowclass名称还有另一种方法，但是有很多进程可以使用定义的类，它可能会陷入错误检测。另一方面，我可以获取正在使用定义的类的进程的父窗口并查看对于某些控件名称，但这也不合适，因为可能有很多进程来检查它们是否使用相同的类名。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:12:56.823

您是否考虑过使用流程资源管理器查看它，看看它是否创建了任何事件、互斥锁等，如果您能找到应用程序独有的一个，您可以通过该方法找到它。

也许它会打开一个文件的锁。您可以打开一个文件系统观察程序，查看该文件以进行修改/创建等。

# java - 给我一个数组越界错误，我不知道如何解决它

> ID：15426431
> 
> 赞同：0
> 
> 时间：2013-03-15T06:51:05.570
> 
> 标签：java, arrays, loops, methods, long-integer

这是我的代码，我几乎完成了所有工作，除了一个错误似乎：

```
import java.util.*;
import java.io.*;

public class Proj5 {
public static void main(String[] args)throws IOException{
    Scanner s = new Scanner(System.in);
    int [] quizKey = {1,1,2,2,1,1,3,2,4,1,3,5,4,1,2};
    String [] userAnswers = new String[100];
    String [] wid = new String[100];
    int [][] userIndividualAnswers = new int[quizKey.length][userAnswers.length];
    int [] numCorrect = new int[quizKey.length];
    int max;
    int min;

    int lines=0;
    readInText();
    s = readInText();
    while(s.hasNext()){
        String line = s.nextLine();
        String[] tokens = line.split(",");
        wid[lines] = tokens[0];
        userAnswers[lines] = tokens[1];
        lines ++;

    }// end while loop
    Long[][] userAnswersInt = new Long[quizKey.length][lines];
    numCorrect = gradeSingleQuiz(lines, quizKey, userAnswers, numCorrect, userAnswersInt);
    double[] percentCorrect = new double[lines];
    percentCorrect = percentCorrect(lines, numCorrect, quizKey);
    char[] grades = new char[lines];
    grades = grade(numCorrect, lines);

    displayOutput(wid, lines, numCorrect, grades, percentCorrect);
}//end main

public static Scanner readInText()throws IOException{
    Scanner inFile = new Scanner(new File("QuizScores.txt"));
    return inFile;

}// end readInText

public static String[] userAnswers(String userAnswers[]){
    return userAnswers;
}

public static int[] gradeSingleQuiz(int lines, int quizKey[], String userAnswers[], int numCorrect[], Long userAnswersInt[][]){
    for (int j=0; j<lines; j++){
    numCorrect[j]=0;
        long[] ara = new long[userAnswers.length];
        long[] abc = new long[userAnswers.length];
        ara [j] = Long.parseLong(userAnswers[j]);
    for(int p=0; p<ara.length; p++){
        abc [p] = ara[j]%10;
        userAnswersInt[p][j] = ara[j]/10;
    }
    for(int n=0; n<=quizKey.length; n++){

        if(userAnswersInt[j][n]==(quizKey[n])){
                    numCorrect[j]++;    
            }
    }
    }//end for loop

return numCorrect;
}// end gradeSingleQuiz

public static int max(int max, int numCorrect[]){
    max = numCorrect[0];
    for(int r=1; r<numCorrect.length; r++){
        if(numCorrect[r]>max){
            max=numCorrect[r];
        }
    }
return max;
}

public static int min(int min, int numCorrect[]){
    min = numCorrect[0];
    for(int r=1; r<numCorrect.length; r++){
        if(numCorrect[r]<min){
            min=numCorrect[r];
        }
    }
return min;
}

public static char[] grade(int numCorrect[], int lines){
    char[] grade = new char[lines];
    for (int j=0; j<=lines; j++){

        if(numCorrect[j]>=14)
            grade[j]='A';
        else if((numCorrect[j]>=12)&&(numCorrect[j]<14))
            grade[j]='B';
        else if((numCorrect[j]>=11)&&(numCorrect[j]<12))
            grade[j]='C';
        else if ((numCorrect[j]>=9)&&(numCorrect[j]<11))
            grade[j]='D';
        else
            grade[j]='F';
    }
    return grade;
}//end grade

public static double[] percentCorrect(int lines, int numCorrect[], int quizKey[]){
    double[] centCorrect = new double[100];
    for (int j=0; j<=lines; j++){
    centCorrect[j] = numCorrect[j]/quizKey.length;
    }
return centCorrect;
}

public static void averageScore(int lines, double percentCorrect[]){
    double add=0;
    for(int d=0; d<=lines; d++){    
        add = percentCorrect[d] + add;
    }//end for loop
    System.out.println("Average: " + add + "%");
}// end averageScore

public static void displayOutput(String wid[], int lines, int numCorrect[], char grades[], double percentCorrect[]){
    System.out.println("Student ID    # Correct    %Correct    Grade");
    for(int i=0; i<lines; i++){
        System.out.println(wid[0] + "    " + numCorrect[i] + "    " +
                (percentCorrect[i]) + "    " + grades[i]);  
    }

}// end display output

}//end class 
```

当我尝试编译它时，它给了我这个错误，我正在使用 eclipse：

```
Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 15
at Proj5.gradeSingleQuiz(Proj5.java:55)
at Proj5.main(Proj5.java:27) 
```

有问题的线路吧

```
userAnswersInt[p][j] = ara[j]/10; 
```

我自己似乎无法弄清楚，是否有什么我在这里没有看到，或者我只是完全以错误的方式解决这个问题？

提前致谢

编辑：

txt 文件中的 txt 是：

```
4563123,112211324135412
2312311,222121324135211
2312345,112211324135421
5527687,212111313124412
7867567,111111111111111 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:05:42.503

在gradeSingleQuiz() 方法中，数组`ara`被初始化为 的大小`userAnswersArray`，但是你在它上面从j=0 循环到j=lines-1。数组`userAnswersArray`的大小始终为 100，但`lines`的长度取决于来自控制台的输入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T19:18:50.693

我检查了你的逻辑，发现以下逻辑错误

1.  您将数组 ara 分配给长度 100，然后尝试在只有 15 个元素长的数组对象上循环

    long[] ara = new long[userAnswers.length];

2.  下面的行返回 null 并因此引发空指针异常。

    if(userAnswersInt[j][n]==(quizKey[n]))

我建议您重新审视逻辑，如果需要帮助，请在此处发布要求，逻辑可以得到帮助。

# ajax - 如何将新的评论字段添加到管理员订单查看页面？

> ID：15426432
> 
> 赞同：1
> 
> 时间：2013-03-15T06:51:29.747
> 
> 标签：ajax, magento

我想添加一些自定义文本区域来为前端添加的订单添加管理员评论。我想把它保存到ajax的订单表中。我正在尝试创建自定义模块，但没有成功。

我更改了管理模板文件以添加它（紧急评论，是紧急字段），但我无法使用 ajax 保存它。

![在此处输入图像描述](../Images/e25beef314a51b642e8b97649fb046f4.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T10:57:57.587

最后我通过更改核心文件做到了。

我将以下代码添加到 info.phtml 文件

```
<form id="cus_com" >
            <div class="entry-edit">
                <div class="entry-edit-head">
                    <h4 class="icon-head head-payment-method"><?php  echo Mage::helper('sales')->__('Urgent Comment') ?></h4>
                </div>
                <fieldset>
                    <span class="field-row">
                        <label class="normal" for="urgent_comment"><?php echo Mage::helper('sales')->__('User Note') ?></label>
                        <textarea name="urgentComment" rows="3" cols="5" style="height:6em; width:99%;" id="urgentComment" >
                            <?php echo $_order->getUserNote(); ?>
                        </textarea>
                    </span>
                    <input name="isUrgent" type="checkbox" id="isUrgent" value="<?php if ($_order->getUserNote() == 1) {
                                echo 'yes';
                            }  ?>" />
                    <label> <?php echo Mage::helper('sales')->__('Is Urgent') ?></label><br />
                    <button type="button" align="right" title="<?php echo "Submit Comment" ?>" id="bb" onClick="handlerFunction()" ><span><span><?php echo "Submit Comment" ?></span></span></button>
                    <script type="text/javascript">
                        function handlerFunction(){
                            var params = {};
                            //var   shipping = $('shipping-fields').serialize(true);
                            // params['shipping'] = Object.toJSON(shipping);
                            params['order_id'] = <?php echo $_order->getId() ?>;
                            params['urgentComment'] = $('urgentComment').value;
                            var n = $('isUrgent').value;
                            if(n=='yes'){
                                params['isUrgent']=1;
                            }else{
                                params['isUrgent']=0;
                            }

                            new Ajax.Request('<?php echo Mage::getModel('adminhtml/url')->getUrl('orderedit/order/saveCommnet') ?>', {
                                method: 'post',
                                parameters: params,
                                onSuccess: function(transport) {
                                    $('urgentComment').innerHTML = transport.responseText;              
                                }
                            }); 
                        }
                    </script>
                </fieldset>
             </div>
            </form> 
```

我将此添加到命令控制器公共功能 saveCommnetAction(){

```
$order = $this->_initOrder();
    $comment= $this->getRequest()->getPost('urgentComment');
    $is_urgent = $this->getRequest()->getPost('isUrgent');

    $order->setUserNote($comment)
          ->setIsUrgent($is_urgent);
    $order->save();

} 
```

它的工作。谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T11:56:29.197

这是模板文件

> app/design/adminhtml/default/default/template/sales/order/view/tab/info.phtml

这是控制器。它是另一个扩展 Mage_Adminhtml_Controller_Action 的自定义模块控制器类

> app/code/local/mynamespace/OrderEdit/controllers/OrderController.php

# elasticsearch - 了解 Elasticsearch 中的分段

> ID：15426441
> 
> 赞同：60
> 
> 时间：2013-03-15T06:52:13.760
> 
> 标签：elasticsearch, lucene

我假设 Elasticsearch 中的每个分片都是一个索引。但我在某处读到每个段都是一个 Lucene 索引。

究竟什么是段？它如何影响搜索性能？使用默认的 Elasticsearch 设置，我每天都有大约 450GB 的索引（我每天创建一个新的）。

当我执行`curl -XPOST "http://localhost:9200/logstash-2013.03.0$i_optimize?max_num_segments=1"`时，我得到 `num_committed_segments=11`and `num_search_segments=11`。

上面的值不应该是 1 吗？也许是因为`index.merge.policy.segments_per_tier`价值？这层到底是什么？

* * *

## 回答 #1

> 赞同：198
> 
> 时间：2013-03-15T10:10:39.363

“索引”这个词在 Elasticsearch 中被滥用了一点——适用于太多的东西。

解释：

## 指数

Elasticsearch 中的“索引”有点像关系数据库中的数据库。这是您存储/索引数据的地方。但实际上，这正是您的应用程序所看到的。在内部，索引是指向一个或多个分片的逻辑命名空间。

此外，“索引”意味着将您的数据“放入”Elasticsearch。您的数据既被存储（用于检索）又被“索引”用于搜索。

## 倒排索引

“倒排索引”是 Lucene 用来使数据可搜索的数据结构。它处理数据，提取唯一的术语或标记，然后记录哪些文档包含这些标记。有关更多信息，请参见[http://en.wikipedia.org/wiki/Inverted_index](http://en.wikipedia.org/wiki/Inverted_index)。

## 分片

“分片”是 Lucene 的一个实例。它本身就是一个功能齐全的搜索引擎。“索引”可以由单个分片组成，但通常由多个分片组成，以允许索引增长并拆分到多台机器上。

“主分片”是文档的主要家。“副本分片”是主分片的副本，它提供 (1) 故障转移以防主分片死亡和 (2) 增加读取吞吐量

## 分割

每个分片包含多个“段”，其中一个段是倒排索引。分片中的搜索将依次搜索每个段，然后将它们的结果组合到该分片的最终结果中。

当您为文档编制索引时，Elasticsearch 将它们收集在内存中（为了安全起见，在事务日志中）然后每隔一秒左右，将一个新的小段写入磁盘，并“刷新”搜索。

这使得新段中的数据对搜索可见（即它们是“可搜索的”），但该段尚未同步到磁盘，因此仍有数据丢失的风险。

每隔一段时间，Elasticsearch 就会“刷新”，这意味着对段进行 fsync（它们现在“已提交”）并清除事务日志，这不再需要，因为我们知道新数据已写入磁盘.

分段越多，每次搜索所需的时间就越长。因此，Elasticsearch 将通过后台合并过程将许多大小相似的段（“层”）合并为一个更大的段。一旦写入新的更大的段，旧的段就会被删除。当有太多相同大小的片段时，这个过程会在更大的片段上重复。

段是不可变的。当一个文档被更新时，它实际上只是将旧文档标记为已删除，并索引一个新文档。合并过程还会删除这些旧的已删除文档。

# android - 如何在通过命令行或直接通过存储卡部署独立签名的 APK 时通过 logcat 获得响应？

> ID：15426445
> 
> 赞同：1
> 
> 时间：2013-03-15T06:52:29.397
> 
> 标签：android, android-emulator, adb, logcat, android-logcat

我需要分析 logcat 响应。我已经创建了签名的 apk 并通过 [adb install "app_name"].apk 部署在我的设备中

由于设备和模拟器窗口之间没有连接，我无法通过 logcat 获得响应。我将如何在设备和模拟器之间建立连接。有什么建议么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T10:55:12.743

我发现通过usb电缆在设备中部署签名apk后，模拟器logcat默认显示所有消息类别中的所有响应（操作系统级别+应用级别），没有任何过滤器，通常它根据项目的包名称显示响应. 感谢您的帮助！但这不是一种有效的方法，很糟糕！

# python - 扭曲。dns回复中超过1个ip地址

> ID：15426446
> 
> 赞同：1
> 
> 时间：2013-03-15T06:52:29.887
> 
> 标签：python, dns, twisted, reply

我使用 from twisted.names import dns 在我的网络上提供 dns 查询。我想回复我的域的 IP 地址列表（例如“mydomain22.com”查询）我使用这个示例来提供查询[https://gist.github.com/johnboxall/1147973](https://gist.github.com/johnboxall/1147973)

 `````
 for answer in ans:
        if answer.type != dns.A:
            continue
        if domain['name'] not in answer.name.name:
            continue

        answer.payload.address = socket.inet_aton(list_of_ip) # here 
        answer.payload.ttl = TTL 
```` 

`谢谢！`

 `* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T16:03:23.293

I can guess that `ans` is a list of `RRHeader` instances (but it's sad that I had to guess, try including this sort of information in your questions in the future :) which is used to populate the answers section of the DNS message your code sends as a response.

However, it's not obvious that my guess is correct because if it were correct then you'd already be able to send back multiple answers. `ans` is a list of `RRHeader` instances and each of those instances will be included in the answer that is sent out. So if you'd like more answers to be sent, just add more `RRHeader` instances to `ans`.

And of course, if the records are more suitable as *authority* or *additional* records, then put them into one of those lists instead of into the answers list.``

# ruby-on-rails - 查询活动记录中以逗号分隔的字符串形式存储的数组

> ID：15426447
> 
> 赞同：0
> 
> 时间：2013-03-15T06:52:32.670
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord

我必须通过 has_many 关系搜索许多关联模型。为了论证，假设我有一个通过 has_many 关联包含许多类别的 Product 模型。因为我必须对许多父模型的子关联执行此操作，所以我创建了一个缓存表，在其中我将关联中的所有 id 存储为逗号分隔的字符串 - '23,34,56,78' 而不是加入。这也有助于我稍后需要在类别 ID 上使用条件 AND 进行高级搜索。

我的问题是在活动记录中查询此类字符串中是否存在 id 的最佳方法是什么。例如，如果我想要所有具有 id 34、56 和 78 关联的父模型。

为了准确搜索一个 id，我必须搜索 '%,34,%', '34,%', '%,34' 来说明 id 可以占据的字符串中的不同位置。有没有更简单的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T09:27:04.010

我不知道这会有多快，但是您可以用逗号分割字符串以创建一个数组，然后`.includes?()`在所述数组上执行...但这真的比 SQL 快吗？

```
value.split(',').includes?(other_value) 
```

或多个项目：

```
value.split(',') && [id1, id2, id3] 
```

这将返回出现在两个数组中的 id 列表。

# java - 如何在android中从csv文件中读取和保存联系人

> ID：15426450
> 
> 赞同：-2
> 
> 时间：2013-03-15T06:52:51.067
> 
> 标签：java, android, csv

我已经将手机联系人导出到 csv 文件，现在我想从 .csv 文件中读取和保存 android 中的联系人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:55:50.103

根据[这个](https://stackoverflow.com/a/5360662/931982)答案

```
BufferedReader reader = new BufferedReader(new InputStreamReader(is));
    try {
        String line;
        while ((line = reader.readLine()) != null) {
             String[] RowData = line.split(",");
             date = RowData[0];
             value = RowData[1];
            // do something with "data" and "value"
        }
    }
    catch (IOException ex) {
        // handle exception
    }
    finally {
        try {
            is.close();
        }
        catch (IOException e) {
            // handle exception
        }
    } 
```

# java - android 和 sqlite 性能

> ID：15426459
> 
> 赞同：2
> 
> 时间：2013-03-15T06:53:12.447
> 
> 标签：java, android, performance, sqlite

我在使用 sqlite 和 Android 2.3.7 时遇到了严重的性能问题。

我要存储少量数据：14 行，每行 8 列。从网页读取数据；解析数据时，我将删除数据库的全部内容，然后一次性批量插入新数据。

一些（已编辑）LogCat 输出：

```
03-15 14:39:51.909: Got content downloaded.
03-15 14:39:52.299: Deleting existing info from db.
03-15 14:39:52.719: Bulk inserting new data into db.
03-15 14:40:00.709: Stored data in the database. 
```

我正在使用 ContentProvider 来访问数据库。

解析页面需要 0.4 秒。

删除需要 0.4 秒。

bulkInsert 需要 8 秒。

对所有数据的后续查询和读取再次需要大约 0.4 秒。

相关代码片段：

```
 Log.v(TAG, "Deleting existing info from db.");
    delete(API_TABLE, null, null);
    Log.v(TAG, "Bulk inserting new data into db.");
    bulkinsert(API_TABLE, allValues);
    Log.v(TAG, "Stored data in the database."); 
```

字段和类型数据：

```
public final static String[] API_KEYS = {KEY_STATION, KEY_API, 
    KEY_POLLUTANT, KEY_SO2, KEY_NOX, KEY_CO, KEY_PHOTO, KEY_TSPRSP, 
    KEY_RSP};
public final static String[] API_TYPES = {"TEXT PRIMARY KEY", "TEXT", 
    "TEXT", "TEXT", "TEXT", "TEXT", "TEXT", "TEXT", "TEXT"}; 
```

数据库构建是这样完成的：

```
 StringBuilder dbCommand = new StringBuilder();
        dbCommand.append("CREATE TABLE " + API_TABLE + " (");
        dbCommand.append("'" + API_KEYS[0] + "' " + API_TYPES[0]);
        for (Integer i = 1; i < API_KEYS.length; i++)
            dbCommand.append(", '" + API_KEYS[i] + "' " + API_TYPES[i]);
        dbCommand.append(");");
        Log.v(TAG, "Creating API database now.");
        db.execSQL(dbCommand.toString()); 
```

要插入的值存储在 ContentValues[] 对象中，然后使用

```
context.getContentResolver().bulkInsert(API_URI, values); 
```

关于如何改进这一点的任何想法？特别是插入时间太长了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T09:23:29.743

根据 StinePike 的回复，我将提供程序类更改为包括：

```
@Override
public int bulkInsert(Uri uri, ContentValues[] values) {

    String table = getTable(uri);
    int count = 0;
    for (ContentValues value : values) 
        count += db.insert(table, "", value);

    return count;

} 
```

这稍微提高了插入时间，但对于 14 个值来说，4-5 秒仍然有点长。

然后在这个方向上进行更多搜索，我在[这里](http://notes.theorbis.net/2010/02/batch-insert-to-sqlite-on-android.html)找到了一个不同的解决方案，它确实加快了速度，现在我的时间不到 1 秒。这是可以接受的，我认为不能再改进了。此代码是我的 ContentProvider 扩展类的一部分。

```
 @Override
public int bulkInsert(Uri uri, ContentValues[] values) {
    try {
        db.beginTransaction();
        String table = getTable(uri);
        for (ContentValues value : values)
            db.insert(table, null, value);
        db.setTransactionSuccessful();
    } catch (SQLException e) {
    } finally {
        db.endTransaction();
    }
    return values.length;   
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:46:04.543

使用[SQLiteDatabase](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html)类进行此操作。

我使用以下方法插入，它相对更快

```
public void createContatctDirectory(ArrayList<String> data) {
    SQLiteDatabase db = context.openOrCreateDatabase(DATABASE_NAME,
            Context.MODE_PRIVATE, null);

    InsertHelper ih = new InsertHelper(db, TABLE_NAME);
    Iterator<String> it = data.iterator();
    final int numberColumn = ih.getColumnIndex(KEY_NUMBER);

    db.beginTransaction();
    int count = 0;
    try {
        while (it.hasNext()) {
            ++count;
            String ph;
            ph = it.next();
            ih.prepareForInsert();
            ih.bind(numberColumn, ph);

            ih.execute();
        }
    } finally {
        ih.close();
        db.setTransactionSuccessful();
        db.endTransaction();
        db.close();
    }
} 
```

# wpf - 将 ObservableCollection 绑定到行

> ID：15426460
> 
> 赞同：2
> 
> 时间：2013-03-15T06:53:17.273
> 
> 标签：wpf, data-binding, user-controls

我想在我的 UserControl 中有一个图形部分，它将基于集合显示行（并在运行时更新坐标，并在运行时基于集合添加/删除行）。

假设我有一个名为 Class1 的类：

```
public class Class1 : INotifyPropertyChanged
    {
        public event PropertyChangedEventHandler PropertyChanged;
        public void OnPropertyChanged(PropertyChangedEventArgs e)
        {
            if (PropertyChanged != null)
                PropertyChanged(this, e);
        }

        private int _x1 = 0;
        public int X1
        {
            get { return _x1; }
            set
            {
                _x1 = value;
                OnPropertyChanged(new PropertyChangedEventArgs("X1"));
            }
        }
    } 
```

我的 UserControl 中有一个 ObservableCollection：

```
 public event PropertyChangedEventHandler PropertyChanged;
        public void OnPropertyChanged(PropertyChangedEventArgs e)
        {
            if (PropertyChanged != null)
                PropertyChanged(this, e);
        }

        private ObservableCollection<Class1> _classes = new ObservableCollection<Class1>();
        public ObservableCollection<Class1> Classes
        {
            get { return _classes; }
        } 
```

如果我知道行数，我可以在我的 UserControl 中创建行数，如下所示：

XAML：

```
<Grid DataContext="{Binding ElementName=LayoutRoot}">
<Line X1="{Binding Items[0].X1}" X2="100" Y1="50" Y2="100" Stroke="Red" StrokeThickness="4"/>
<Line X1="{Binding Items[1].X1}" ... />
...
</Grid> 
```

请问我该如何进行？

感谢您的任何努力

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:10:59.000

您可以使用 an并为对象`ItemsControl`创建 a并将您的绑定到.`DataTemplate``Class1``ObservableCollection``ItemsControl`

如果您想在整个地方画线，`Canvas`也可以使用`ItemsPanelTemplate`

这是一个简单的例子：

xml:

```
<Grid DataContext="{Binding ElementName=UI}">
    <ItemsControl ItemsSource="{Binding Classes}">
        <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
                <Canvas />
            </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>
        <ItemsControl.ItemTemplate>
            <DataTemplate DataType="{x:Type local:Class1}">
                <Line Stroke="Black" StrokeThickness="2" Fill="Black" X1="{Binding X1}" X2="{Binding X2}" Y1="{Binding Y1}" Y2="{Binding Y2}" />
            </DataTemplate>
        </ItemsControl.ItemTemplate>
    </ItemsControl>
</Grid> 
```

代码：

```
public partial class MainWindow : Window
{

    public MainWindow() 
    {
        InitializeComponent();
        Random ran = new Random();
        for (int i = 0; i < 10; i++)
        {
            Classes.Add(new Class1 { X1 = ran.Next(0,100), Y1 = ran.Next(0,100), X2 = ran.Next(0,100), Y2 = ran.Next(0,100) }); 
        }
    }

    private ObservableCollection<Class1> _classes = new ObservableCollection<Class1>();
    public ObservableCollection<Class1> Classes
    {
        get { return _classes; }
    }

} 
```

结果：

![在此处输入图像描述](../Images/06c95c2f15a519f9db420b7a9754c741.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:09:10.873

您可以使用 ItemsControl 作为 Container 来显示您的线条。

```
<ItemsControl DataContext="{Binding ElementName=LayoutRoot}" 
              ItemsSource={Binding}>
  <ItemsControl.ItemTemplate>
    <DataTemplate>
      <Line X1="{Binding Items[0].X1}" X2="100" Y1="50" Y2="100" Stroke="Red" StrokeThickness="4"/>
    </DataTemplate>
  </ItemsControl.ItemTemplate>
</ItemsControl> 
```

# java - 在java中将变量从一个会话传递到另一个会话

> ID：15426471
> 
> 赞同：2
> 
> 时间：2013-03-15T06:54:12.267
> 
> 标签：java, webobjects

我正在使用两个会话`CCXSession`，即`Session`在我的示例 Web 对象应用程序项目中，这里`Session`的类继承自`CCXSession`.

出于本地化的目的，我需要将会话对象从 Session 发送到`CCXSession`，但我未能实现这一点。

我需要确认以下几点：

1.  是否可以将会话值从一个会话发送到另一个会话？
2.  如果是的话怎么可能？

代码是：

```
public String getDisplayAppName() {
    String retVal = null;
    retVal = (String)((CCXSession)session())
                .localizer()
                .valueForKey(
                    currentApp
                    .applicationLink()
                    .deployAppName()
                    .displayAppName()
                );
     return retVal;
} 
```

在这里，我将键值传递给`valueForKey();`

任何人都可以在这个问题上帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T12:32:41.157

根据我的 Java EE 概念，会话值只能通过请求传输，除非您在 2 个变量之间传递请求，否则您几乎没有选择余地。

在这些选项中，您可以尝试以下方法：

*   使用应用程序上下文并在运行时设置它并相应地检索它
*   或者您可以使用一些具有单例模式的静态类将值传递给值。由于应用程序位于相同的代码库中，因此让其他类访问来自 ccxsession 的值并将其设置在会话类中。
*   您可以根据需要使用数据库表来存储和检索数据。但这将是一个性能缺陷
*   最后，如果可能的话，您可以研究 Web 服务，这将是最坏的情况，因为两个会话都在同一个应用程序中。

根据我的说法，前两个选项应该适合你

# dojo - dojo1.8 - 内存更新时无法刷新ComboBox的输入文本框

> ID：15426477
> 
> 赞同：0
> 
> 时间：2013-03-15T06:54:37.360
> 
> 标签：dojo

dijit/form/ComboBox 是选择元素和文本框的混合体。我有：- 为 3 个记忆选择 3 个选项 每次选择“已更改”时，ComboBox 都会填充选定的记忆 该项目可以在 ComboBox 中选择。再次选择内存并在 ComboBox 中填充

一切似乎都很好，但是... ComoBox 的文本框无法更新以反映内存的变化。甚至不能将其设置为空白。我尝试使用 value:""; 或占位符：""; 但无济于事。

```
meter_Select.on('change', function()
            {
                //registry.byId('batchSelect').destroyrescursive();
                console.debug("selected -> " + meter_Select.value);
                switch(meter_Select.value)
                {
                    case 'testdata1970_05': var memoStore2 =  new Memory({data:response2});
                    break;
                    case 'testdata1970_10': var memoStore2 =  new Memory({data:response3});
                    break;
                    case 'testdata2060_03': var memoStore2 =  new Memory({data:response1});
                }

                //memoStore2.put({"mfg_code":""});// it works but it needs to be moved to the top!

                var combx = registry.byId('cardSelect');// at first it will be undefined
                console.debug('ComboBox Select(1A) ='+combx);

                if(combx)//if combx exists or already defined
                {
                    combx.store = memoStore2;
                    combx.value = "";
                    combx.placeHolder = "Choose one of the batch...";
                    //combx.domAttr.set('cardSelect','displayedValue','');
                    console.debug('ComboBox Select(1C) ='+combx);
                    //domAttr.set('batchSelect','store','nemoStore2');
                } 
                else
                {// if combx does not exist or is not defined yet
                    combx = new ComboBox({
                    id: 'cardSelect',
                    store: memoStore2,
                    searchAttr: "mfg_code",
                    value :"",
                    placeHolder: "Choose one of the batch..."
                    }, "node_cardSelect");
                    console.debug('ComboBox Select(1B) ='+combx);
                }

                combx.startup(); 
```

您可以在[jsFiddle Link](http://jsfiddle.net/clementyap/9tNhN/33/)上 查看请告知。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T14:29:45.877

您应该使用小部件的`set()`方法来更改它们的任何内部属性，就像您应该使用`get()`来获取它们一样。

*您应该（几乎）永远不要*像以前那样直接访问小部件的属性。

在您的情况下，您想要设置组合框的存储和值，因此：

```
 if(combx)
    {
        combx.set("store", memoStore2);
        combx.set("value", "");
    }
    else { .... 
```

当您这样做时`combx.value`，您只是给小部件一个新的内部值，但小部件并没有意识到它。

使用`set`方法使小部件有机会为新值执行所有其他必要的操作，例如呈现标签，可能进行一些验证等。

# time - 在准确的时间调用函数

> ID：15426479
> 
> 赞同：2
> 
> 时间：2013-03-15T06:54:57.240
> 
> 标签：time, python-2.7

我只是在学习Python。出于某种奇怪的冲动，我正在尝试创建一个[十进制时钟](http://en.wikipedia.org/wiki/Decimal_time)。这个十进制时钟将一天分为每天 10 小时、每小时 100 分钟、每分钟 100 秒。十进制的一天有 100,000 秒；86,400 在“古老”时间。每 1 秒的古代时间等于约 1.157 秒的新改进的十进制时间（假设我已经得到了一点数学正确。）

我遇到的问题是，为了让时钟准确而有序地记下小数秒，我需要一个函数尽可能每 1.157 秒触发一次。我有一个调用函数，`DeciTimeCaller`它无限循环，调用该`decimaltime.time_to_string`方法，该方法将古代时间转换为十进制时间，并以十进制小时：分钟：秒打印时间。调用函数然后休眠，`time.sleep(1.157)`并完成它。

但是由于后台进程优先（我假设），打印时间在这里和那里跳过几秒钟。

例如，这是大约 20 秒的输出：

```
0:85:92
0:85:93
0:85:95
0:85:96
0:85:97
0:85:99
0:86:00
0:86:01
0:86:03
0:86:04
0:86:05
0:86:07
0:86:08 
```

我认识到 Python 和 Linux 不构成实时系统，我在其他线程中尝试了一些建议，例如[Sleep for exact time in python](https://stackoverflow.com/questions/11657734/sleep-for-exact-time-in-python)，但没有成功。但我想可能有一些方法可以捏造这个。

所以问题是：*我能让这个时钟像钟表一样运转吗？*

我的代码如下。需要注意的几件事：我导入线程模块是因为我试图使用事件，但我目前没有使用它。我使用十进制模块，因为我认为转换中浮点值的精度可能存在问题。似乎没有任何区别。我也有 timeit 模块和一些注释代码，我一直在尝试对调用计时。

```
import time
import datetime as dt
import decimal
import threading
import timeit

class decimaltime:
  """ Presents the time of day in Decimal Time 
      10 Hours/day
      100 minutes/hour
      100 seconds/minute
  """
  def time(self, archaic_seconds = 0):
    if archaic_seconds == 0:
      now = decimal.Decimal(dt.datetime.now().strftime('%s.%f'))
      midnight = decimal.Decimal(dt.date.today().strftime('%s.%f'))
      archaic_seconds_from_midnight = decimal.Decimal(now - midnight)
    else:
      archaic_seconds_from_midnight = decimal.Decimal(archaic_seconds)
    return archaic_seconds_from_midnight * decimal.Decimal('1.157')

  def time_to_string(self, decimal_seconds = 0):
    if decimal_seconds == 0:  
      seconds_from_midnight = self.time() 
    else:
      seconds_from_midnight =  decimal.Decimal(decimal_seconds)
    decimal_hour = seconds_from_midnight / 10000
    decimal_minute = (seconds_from_midnight % 10000) / 100
    decimal_second = seconds_from_midnight % 100
    time_string = "%(hour)01d:%(minute)02d:%(second)02d" % {"hour": decimal_hour, "minute": decimal_minute, "second": decimal_second}
    print time_string
    # return time_string

def DeciTimeCaller():
  decitime = decimaltime()
  # t = timeit.Timer(lambda: decitime.time_to_string())
  while True:
    # print t.timeit(1)
    decitime.time_to_string()
    time.sleep(1.157)

DeciTimeCaller() 
```

更新：

根据 Thomas 下面的建议，我修改了代码以每 1/10 秒检查一次十进制时间。如果十进制时间改变了，我打印出时间。这就像发条一样，这正是我想要的。

这是修改后的`DeciTimeCaller`功能：

```
def DeciTimeCaller():
  decitime = decimaltime()
  old_time = decitime.time_to_string()
  while True:
    new_time = decitime.time_to_string()
    if (new_time != old_time): 
      print new_time
      old_time = new_time
    time.sleep(.1667) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:41:44.450

以精确的频率运行函数是相当困难的。

您可以创建一个函数，将当前系统时间转换为十进制时间 30 次/秒。这样你的时间总是正确的，你永远不会失去同步。

# ruby - 带有 nio4r 选择循环的 Ruby 套接字

> ID：15426481
> 
> 赞同：1
> 
> 时间：2013-03-15T06:55:03.053
> 
> 标签：ruby, sockets, asynchronous, network-programming, asyncsocket

假设我有一个选择循环，其中包含一些要读取的打开连接，并且我在每个连接上都附加了状态机，这些状态机旨在解析通过网络传输的一些内容并做正确的事情。因此，假设其中一个连接 ,`c`已准备好，选择循环将其交给状态机`m`进行处理。我们想从连接中读取 10 个字节，我们将使用`readpartial`. 不幸的是，我们只收到了 6 个字节，因此`m`读取 6 个字节并解除阻塞。下次循环交给我们`c`时，它还有 11 个字节。`m`仍然处于上次选择循环交给我们时的任何状态，`c`并且知道它需要再读取 4 个字节，因此它读取这 4 个字节`readpartial(4)`, 使用现在在其缓冲区中的这 10 个字节进行某种副作用操作并转移到新状态。`m`仍然保持连接，因此此时它可以解除阻塞循环或开始执行新状态指示的操作，其中一项操作可能涉及`readpartial`. 在这种情况下，正确的做法是继续处理连接，因为`readpartial`不会阻塞。但是假设动作顺序是：接收 6 个字节，读取 6 个字节并解除阻塞，接收 4 个字节，读取 4 个字节并做一些事情。在这种情况下，将没有什么可读取的，因此如果状态机决定调用`readpartial`在连接上，它会阻塞选择循环，这是一种不受欢迎的情况，在这种情况下，正确的做法是让状态机解除阻塞并等待选择循环再次出现。

如果我不想阻塞选择循环并且不想在连接缓冲区中留下字节，那么解决这个问题的正确和有效的方法是什么？我已经查看了 Ruby 的 Socket 和 IO API，但我找不到一种方法可以告诉我是否有要阅读的内容。`read_nonblock`是通过读取单个字节然后将其放回测试流是否可读的潜在探索途径，但在我的测试中它的行为不符合预期，即即使连接缓冲区的内容`char = c.read_nonblock(1); c.ungetc(char); wire_data = c.read_partial(10)`超过缓冲。`wire_data == char``char`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:17:36.303

像往常一样写下我遇到的问题帮助我找到了解决方案。而不是调用`readpartial`状态机，我可以调用`read_nonblock`. `read_nonblock`如果没有可读取的内容，将引发异常，我可以捕获此异常并取消阻塞选择循环。

# android - 在此代码中获取空指针异常

> ID：15426484
> 
> 赞同：0
> 
> 时间：2013-03-15T06:55:06.990
> 
> 标签：android

```
 public class StartDraw extends Activity  {

@Override

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
   // setContentView(R.layout.main);
    MyView view1 =new MyView(this);
   // view1.setBackgroundResource(R.drawable.ic_launcher);
    setContentView(view1);

}

 public class MyView extends View implements OnTouchListener{
    RelativeLayout.LayoutParams LP;  
    ViewGroup dlayout; 
      ImageView[] ActionI = new ImageView[4];
      ImageView[] ReciverI = new ImageView[4];
    public MyView(Context c) {
        super(c);
     //  dlayout = new ViewGroup(c); // if i use this then error shown {Cannot instantiate the type ViewGroup}
         LP = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.FILL_PARENT, RelativeLayout.LayoutParams.FILL_PARENT);
       //  ViewGroup dlayout = (ViewGroup)findViewById(R.id.dlayout);
         dlayout.setLayoutParams(LP); // at this position gettting null pointer exception

}

   @Override
    protected void onDraw(Canvas canvas) {
           paint.setStyle(Paint.Style.STROKE);
           paint.setStrokeWidth(2);
           paint.setColor(Color.GREEN);
           canvas.drawColor(Color.BLUE);

           canvas.drawLine(offset_x, offset_y, currentX, currentY, paint);

    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T06:33:56.213

设置内容视图（R.layout.main）；删除此评论并启用它

```
 setContentView(R.layout.main); remove this comments and enable it 
```

设置内容视图（R.layout.main）；删除此评论并启用它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:14:26.577

您已经注释掉了`dlayout`初始化。因此它是空的。导致*NullPointerException*在`dlayout.setLayoutParams`.

如果您对此原因/结果有任何不理解的地方，请扩展您的问题以澄清。但是，如果您不确定如何初始化 dlayout 变量，请将***其作为它自己的问题***。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:14:26.957

您尝试设置未初始化的对象的属性

```
dlayout.setLayoutParams(LP); 
```

取消注释上面的代码，应该修复错误。

```
//  ViewGroup dlayout = (ViewGroup)findViewById(R.id.dlayout); 
```

# java - 如何在android项目中使用bean？

> ID：15426486
> 
> 赞同：1
> 
> 时间：2013-03-15T06:55:15.077
> 
> 标签：java, android, annotations

我用于 javaEE 项目 Spring，并使用带有 @Servive 注释的 bean 注入。现在我要制作 android 的项目，我想为我的服务 bean 使用类似的结构。这是一种方法吗？

IE

```
public interface GlobalService {
final static String PACKAGE_ACTIVITY = "net.....activity.";

    /**
    * start an activity only by the activity name
    * the intent is declared inside
    * @param activityName
    * @return True if the activity Start else False
    */
public boolean openActivity(String activityName);
 } 
```

然后我有一个实现接口的类

```
 @Service("GlobalService")
 public class GlobalServiceImpl implements GlobalService{

 public boolean openActivity(String activityName) {
    //some code ....
 }
} 
```

最后我宣布进入我的班级

```
@Autowired
private GlobalService globalService; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:40:36.127

尝试使用[AndroidAnnotations](http://androidannotations.org/)。它不仅是[IoC](https://github.com/excilys/androidannotations/wiki/Enhance-custom-classes)，而且还是出色的线程控制工具，并具有许多其他功能。它有助于编写更少的代码并更友好地进行开发。

# javascript - 获取所有搜索结果，而不是 twitter 小部件的顶部

> ID：15426488
> 
> 赞同：0
> 
> 时间：2013-03-15T06:55:18.193
> 
> 标签：javascript, twitter

我正在使用 twitter 小部件，如下所示。

```
<script src="//widgets.twimg.com/j/2/widget.js"></script>
            <script>
            new TWTR.Widget({
              version: 2,
              type: 'search',
              search:'#xxx',
              rpp: 10,
              interval: 1000,
              title: 'Recent Tweets ',
              width: 234,
              height: 330,
              theme: {
                shell: {
                  background: 'none',
                  color: '#555555'
                },
                tweets: {
                  background: 'none',
                  color: '#666',
                  links: '#01972e'
                }
              },
              features: {
                scrollbar: true,
                loop: false,
                live: true,
                hashtags: true,
                timestamp: true,
                avatars: true,
                behavior: 'all'
              }
            }).render().start();
            </script> 
```

这给了我最好的结果，而不是全部。如果我去我的推特帐户并搜索#xxx，我会在顶部结果下获得三条推文，并且在查看全部下获得更多。顶部结果下的这三个是我在使用上面的代码时得到的。

我试图查看记录在案的 widget.js 但没有找到这个选项。

# javascript - 使用画布的图像之字形移动

> ID：15426490
> 
> 赞同：1
> 
> 时间：2013-03-15T06:55:23.060
> 
> 标签：javascript, html, canvas

我是 JS 和画布的新手，我正在尝试练习一下。我正在尝试创建一个垂直射击游戏，我希望敌人不仅以线性方式移动，而且还能上下移动（之字形）。到目前为止，我只能对线性运动进行编码，但我无法对振荡运动进行编码。这是我到目前为止编写的代码（检查 drawDucks 函数）：

```
<html>
<head>
    <script>
        var c = new Object();
        var ctx = new Object();
        bg = new Image();
        bg.src = "bg.jpg";
        tank = new Image();
        tank.src = "tank1.png";
        duck = new Image();
        duck.src = "duck_1.png";
        gameCanvas =
            {       
                tankPos : 221.5,
                duckLeft : 0,
                duckTop : 30,
                getCanvas : function(id)
                    {
                        c = document.getElementById('canvas1');
                        ctx = c.getContext('2d');
                        setInterval(gameCanvas.drawDucks,2);
                        gameCanvas.drawGame();
                        gameCanvas.moveTank();
                    },
                drawGame : function()
                    {
                        ctx.drawImage(bg,0,0);
                        ctx.drawImage(tank,gameCanvas.tankPos,400);
                        ctx.drawImage(duck,gameCanvas.duckLeft,gameCanvas.duckTop);
                    },
                moveTank : function()
                    {
                        document.onkeydown = function(dir)
                            {
                                switch (dir.keyCode)
                                    {
                                        case 39:
                                            {
                                                if (gameCanvas.tankPos < 440)
                                                    {
                                                        gameCanvas.tankPos += 20;
                                                        gameCanvas.drawGame();
                                                    }
                                                else
                                                    {
                                                        gameCanvas.tankPos;
                                                    }
                                                break;  
                                            }
                                        case 37:
                                            {
                                                if (gameCanvas.tankPos > 10)
                                                    {
                                                        gameCanvas.tankPos -= 20;
                                                        gameCanvas.drawGame();
                                                        break;
                                                    }
                                            }
                                        case 17:
                                            {
                                                gameCanvas.fire();
                                            }
                                    }
                            }
                    },
                drawDucks : function()
                    {
                        if (gameCanvas.duckLeft < 512)
                            {
                                gameCanvas.duckLeft += 1;
                            }
                        else
                            {
                                gameCanvas.duckLeft = -75
                            }
                        gameCanvas.drawGame();
                    }
            }
    </script>
</head>

<body onload = 'gameCanvas.getCanvas()'>
    <canvas id = 'canvas1' width='512px' height='480px'>
    </canvas>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T12:26:28.620

当然。您需要为运动模式的最小 y 和最大 y 设置一个变量。像这样的东西：

```
var direction = 'down';
var minY = 100;
var maxY = 200;
var x = 400;
var y = 150;
var speed = 5;

if (direction == 'down')
{
    if (y <= maxY)
    {
        y += speed;
    }
    else
    {
        direction = 'up';
    }
}
else if (direction == 'up')
{
    if (y >= minY)
    {
        y -= speed;
    }
    else
    {
        direction = 'down';
    }
}
x -= speed; 
```

这将使对象在向画布的左边缘移动时在 y 轴上呈锯齿形。

# android - 我想从 XmlPullParser 的 getText() 方法中删除标签名称

> ID：15426502
> 
> 赞同：0
> 
> 时间：2013-03-15T06:56:47.423
> 
> 标签：android

当我放入时，获取 InoutStream

```
inputStream = new URL("http://www.hindu.com/rss/01hdline.xml").openStream();
InputStreamReader isr = new InputStreamReader(inputStream); 
```

里面 ，

```
xpp.setInput(isr); // i am getting Text in every logs output 
```

但是当我从这个 xml 中放入一些 xml 部分时，

```
<item>
<category/>
<link>
http://www.hindu.com/2011/06/30/stories/2011063063980100.htm
</link>
<title>Talk of drift, corruption is propaganda: Manmohan</title>
<description></description>
<pubDate>Thu, 30 Jun 2011</pubDate>
</item>

it is working properly , means i am not getting Text in every log's output . like
03-15 06:08:35.199: I/rss(2354): TEXT
03-15 06:08:35.199: I/channel(2354): TEXT
03-15 06:08:35.209: I/The Hindu - Front Page(2354): TEXT
03-15 06:08:35.209: I/title(2354): TEXT
03-15 06:08:35.228: I/http://www.hindu.com/(2354): TEXT
03-15 06:08:35.228: I/link(2354): TEXT
03-15 06:08:35.249: I/The Internet edition of The Hindu, India's national newspaper(2354): TEXT 
```

这是我的 xmlPullParser.getText() 方法，

```
if(eventType == XmlPullParser.TEXT) 
                {
                    Log.i(xpp.getText(), "TEXT") ;
                } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:46:42.443

就这样做，

```
 if (eventType == XmlPullParser.START_TAG) 
 {
  if(xpp.getName().equalsIgnoreCase("item"))
  {
    eventType = xpp.next();

    if (eventType == XmlPullParser.TEXT) 
    {
        Log.i(xpp.getText(), "TEXT") ;
    }
  }
} 
```

所以你必须检查每个标签并这样做......

# android - 我可以让 Android 应用程序读取 Windows 计算机注册表吗

> ID：15426503
> 
> 赞同：1
> 
> 时间：2013-03-15T06:56:49.500
> 
> 标签：android, windows, registry

我必须编写一个 Android 应用程序来拍照并将结果发布到 Windows Server。

在发布之前，我必须访问服务器上的注册表文件以提取信息以帮助发布文件。

有关如何处理此问题的任何线索。

谢谢，

大卫。

# linux - 在另一个操作系统中运行所需命令的 Python 或 Perl 脚本

> ID：15426507
> 
> 赞同：-2
> 
> 时间：2013-03-15T06:57:05.377
> 
> 标签：linux, ssh, batch-file

目前我正在使用 Windows 操作系统，我有一个批处理文件。使用批处理文件我可以启动 SSH 客户端，然后我可以连接到其他基于 Linux 的操作系统。这个特定的操作系统有一个命令提示符，但没有 GUI 来提供输入，所以我想在 Windows 中编写一个 Perl 或 Python 脚本，然后我会将它嵌入到批处理文件中以在那里执行命令。可能吗？如果是这样，我需要 Perl 或 Python 脚本。在任何其他脚本中，如果可能，请告诉我。我不限于特定的脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T09:45:02.060

使用`plumbum`. 看[这里](http://plumbum.readthedocs.org/en/latest/remote.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T09:25:57.100

如果您想以您在远程机器上描述的方式运行命令，在您的情况下是板，有几个选项：

一种是从终端使用 here 脚本（在此示例中列出日志）

```
$ ssh user@remote_name_or_ip <<"ENDOFCMD"
echo "Logs from " $(uname -a)
ls -ltr /var/log/*.log
ENDOFCMD 
```

或者，您可以将您选择的脚本放在远程机器上并通过 ssh 连接运行它：

```
$ ssh user@remote_name_or_ip yourScript.sh 
```

或者如果它们像第一个示例一样简单，则直接运行它们：

```
$ ssh user@remote_name_or_ipssh 'echo $(uname -a); ls -ltr /var/log/*.log' 
```

# iphone - 获取范围内的位置详细信息

> ID：15426508
> 
> 赞同：0
> 
> 时间：2013-03-15T06:57:07.267
> 
> 标签：iphone

我正在开发一个应用程序。我想获取从一个位置到另一个位置的所有位置。我知道两个位置的纬度和经度值。那么如何获取从第一个位置到第二个位置的所有位置详细信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T13:23:09.797

```
- (void)getCordinate :(NSString *)strOrigin : (NSString*)strDestination
{
    NSMutableString *tempStrOrigin = [NSMutableString stringWithString:strOrigin];
    NSMutableString *tempStrDestination = [NSMutableString stringWithString:strDestination];

    //[tempStrOrigin replaceOccurrencesOfString:@" " withString:@"+" options:NULL range:[NSMakeRange(0, [tempStrOrigin length])]];

    tempStrOrigin = [[tempStrOrigin stringByReplacingOccurrencesOfString:@" " withString:@"+"] mutableCopy];
    tempStrDestination = [[tempStrDestination stringByReplacingOccurrencesOfString:@" " withString:@"+"] mutableCopy];

    NSString *url = [NSString stringWithFormat:@"http://maps.googleapis.com/maps/api/directions/json?origin=%@&destination=%@&sensor=false&mode=walking",tempStrOrigin,tempStrDestination];
    NSLog(@"URL:%@",url);

    NSURLConnection *urlConnection = [NSURLConnection connectionWithRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:url]] delegate:self];
    if (urlConnection == nil)
    {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Pradeep Chakoriya" message:@"Connection Failed !" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil, nil];
        [alert show];
        [alert release];
    }
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    NSLog(@"Connection finish!!!");
    NSError *error = nil;
    NSMutableString *str = [[NSMutableString alloc]initWithData:responeData encoding:NSUTF8StringEncoding];
    NSLog(@"Response in String:%@",str);

    SBJsonParser *parser=[[SBJsonParser alloc] init];

    NSDictionary *jsonObject = [parser objectWithString:str];
    NSLog(@"Error:%@",error);
    NSLog(@"Response Object:%@",jsonObject);

    NSLog(@"End location:%@",[jsonObject valueForKeyPath:@"routes.legs.end_location"]);
    NSLog(@"Start location:%@",[jsonObject valueForKeyPath:@"routes.legs.start_location.lat"]);
NSLog(@"Overview_polyline:%d",[[jsonObject valueForKeyPath:@"routes.overview_polyline.points"] count]);
NSString *strTemp = [NSString stringWithFormat:@"%@",[[jsonObject valueForKeyPath:@"routes.overview_polyline.points"] objectAtIndex:0]];
        NSLog(@"String Temp:%@",strTemp);

        NSLog(@"Decode points:%@",[[[self decodePolyLine:strTemp] objectAtIndex:0] class]);
}

-(NSMutableArray *)decodePolyLine:(NSString *)encodedStr {
    NSMutableString *encoded = [[NSMutableString alloc] initWithCapacity:[encodedStr length]];
    NSLog(@"encoded:%@",encoded);
    [encoded appendString:encodedStr];
    NSLog(@"encoded:%@",encoded);
    /*[encoded replaceOccurrencesOfString:@"\\\\" withString:@"\\"
                                options:NSLiteralSearch
                                  range:NSMakeRange(0, [encoded length])];*/
    NSInteger len = [encoded length];
    NSInteger index = 0;
    NSMutableArray *array = [[[NSMutableArray alloc] init] autorelease];
    NSInteger lat=0;
    NSInteger lng=0;
    while (index < len) {
        NSInteger b;
        NSInteger shift = 0;
        NSInteger result = 0;
        do {
            b = [encoded characterAtIndex:index++] - 63;
            result |= (b & 0x1f) << shift;
            shift += 5;
        } while (b >= 0x20);
        NSInteger dlat = ((result & 1) ? ~(result >> 1) : (result >> 1));
        lat += dlat;
        shift = 0;
        result = 0;
        do {
            b = [encoded characterAtIndex:index++] - 63;
            result |= (b & 0x1f) << shift;
            shift += 5;
        } while (b >= 0x20);
        NSInteger dlng = ((result & 1) ? ~(result >> 1) : (result >> 1));
        lng += dlng;
        NSNumber *latitude = [[[NSNumber alloc] initWithFloat:lat * 1e-5] autorelease];
        NSNumber *longitude = [[[NSNumber alloc] initWithFloat:lng * 1e-5] autorelease];
        //          printf("[%f,", [latitude doubleValue]);
        //          printf("%f]", [longitude doubleValue]);
        CLLocation *loc = [[[CLLocation alloc] initWithLatitude:[latitude floatValue] longitude:[longitude floatValue]] autorelease];
        [array addObject:loc];
    }
    [encoded release];
    return array;
}

Use this code to get all latitute and longitute of origin to destination 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:03:18.700

如果您使用的是 mongo，这很容易，您可以使用 $nearSphere for mysql 遵循这些教程

[https://developers.google.com/maps/articles/phpsqlsearch_v3](https://developers.google.com/maps/articles/phpsqlsearch_v3)

[http://www.phpro.org/tutorials/Geo-Targetting-With-PHP-And-MySQL.html](http://www.phpro.org/tutorials/Geo-Targetting-With-PHP-And-MySQL.html)

所有教程都在 mysql 和 php 中

# c - 获取具有多个“/ 000”字符的字符串的大小

> ID：15426510
> 
> 赞同：1
> 
> 时间：2013-03-15T06:57:10.327
> 
> 标签：c, string

我有一个包含二进制数据的字符串。字符串的大小为 4。其他函数向其写入数据。每次，数据的大小都不同，如下所示，

```
buf[0] = '\037';
buf[1] = buf[2]=buf[3] ='\000'; 
```

或者

```
buf[0] = '\037';
buf[1] =  '\045';
buf[2]=buf[3] ='\000'; 
```

当我得到字符串的长度时，在上述情况下我分别得到 1 和 2。我希望字符串的长度在所有情况下都是 4。

我应该如何处理终止字符？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:00:18.137

每个 C 字符串函数都假定 NULL 字节 '\0' 表示字符串的结尾。您不能将具有 NULL 字节的字符串作为内容并使用标准 C 字符串函数。

您将需要构建自己的字符串系统。请注意，您将需要一些其他方法来确定字符串的结束位置。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-15T07:33:01.843

尝试使用双引号来初始化字符串

```
buf[0] = "\037";
buf[1] = buf[2]=buf[3] ="\000"; 
```

你初始化的是一个带单引号的字符

# tomcat - Websphere和Tomcat自定义错误文件右目录

> ID：15426511
> 
> 赞同：1
> 
> 时间：2013-03-15T06:57:10.373
> 
> 标签：tomcat, websphere, http-status-code-404

我`web.xml`为 Websphere 和 Tomcat 设置了以下内容：

```
 <error-page>
      <error-code>404</error-code>
      <location>/error404.html</location>
  </error-page> 
```

但不知何故，我不知道该把`error-404.html`页面放在哪里！它没有被 Websphere 或 Tomcat 接收（我正在不同服务器上的两台服务器上进行测试）。

有人可以指导我吗？此配置是否足够，或者是否还需要其他配置来为 404、403 等设置自定义错误页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:11:51.870

Servlet 3.0 规范说：

> 错误页面包含错误代码或异常类型与 Web 应用程序中资源路径之间的映射。子元素 exceptiontype 包含 Java 异常类型的完全限定类名。子元素`location`元素包含 Web 应用程序中资源相对于 Web 应用程序根的位置。位置的值必须以“/”开头。

因此，对于`/error404.html`您应该放在`error404.html`应用程序根目录中的位置（在目录旁边，但不在`WEB-INF`目录内部）。

# java - java.lang.NoSuchMethodError：net.sf.ehcache.config.CacheConfiguration.isTerracottaClustered()

> ID：15426512
> 
> 赞同：2
> 
> 时间：2013-03-15T06:57:13.707
> 
> 标签：java, spring, hibernate, ehcache

嗨，我是 Spring 的新手，过去几天一直在尝试。它最初对我有用，但现在我遇到了错误。有人可以帮忙吗？我正在使用 Spring 3.1。和我得到的休眠 4.1.1 错误：

```
 Mar 15, 2013 1:47:13 AM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet [LoginAction] in context with path [/OLS] threw exception
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'estimatesDAOImp': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.hibernate.SessionFactory com.dao.imp.EstimatesDAOImp.sessionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: net.sf.ehcache.config.CacheConfiguration.isTerracottaClustered()Z
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:287)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)
    at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:139)
    at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:83)
    at com.beginingservlets.LoginAction.doPost(LoginAction.java:57)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619)
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.hibernate.SessionFactory com.dao.imp.EstimatesDAOImp.sessionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: net.sf.ehcache.config.CacheConfiguration.isTerracottaClustered()Z
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:506)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)
    ... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: net.sf.ehcache.config.CacheConfiguration.isTerracottaClustered()Z
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:848)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:790)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:478)
    ... 33 more
Caused by: java.lang.NoSuchMethodError: net.sf.ehcache.config.CacheConfiguration.isTerracottaClustered()Z
    at org.hibernate.cache.ehcache.internal.util.HibernateUtil.validateEhcache(HibernateUtil.java:101)
    at org.hibernate.cache.ehcache.AbstractEhcacheRegionFactory.getCache(AbstractEhcacheRegionFactory.java:185)
    at org.hibernate.cache.ehcache.AbstractEhcacheRegionFactory.buildTimestampsRegion(AbstractEhcacheRegionFactory.java:173)
    at org.hibernate.cache.ehcache.EhCacheRegionFactory.buildTimestampsRegion(EhCacheRegionFactory.java:48)
    at org.hibernate.cache.spi.UpdateTimestampsCache.<init>(UpdateTimestampsCache.java:63)
    at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:510)
    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1744)
    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1782)
    at org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:189)
    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:350)
    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:335)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)
    at org.springframework.
beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)
    ... 43 more 
```

应用程序上下文.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans 
    http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
    http://www.springframework.org/schema/tx
    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
     http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <context:annotation-config />
    <context:component-scan base-package="com.dao.imp,com.dao.interfaces,com.service.imp,com.service.interfaces" />

    <bean id="userBo"  class="com.service.imp.UserBoImp">
        <property name="userDAO" ref="userDAO"></property>
        </bean>

        <bean id="userDAO" class="com.dao.imp.UserDAOImp">

        <property name="sessionFactory" ref="sessionFactory"></property>

        </bean>

    <bean id="propertyConfigurer" 
    class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
    p:location="classpath:/com/hibernate/config/db.properties"
    />

    <bean id="dataSource"
        class="org.springframework.jdbc.datasource.DriverManagerDataSource">
        <property name="driverClassName" value="com.mysql.jdbc.Driver"></property>
        <property name="url" value="jdbc:mysql://127.0.0.1:3306/niksuites"></property>
        <property name="username" value="root"></property>
        <property name="password" value="newgmail"></property>
    </bean>

    <bean id="sessionFactory"
        class="org.springframework.orm.hibernate4.LocalSessionFactoryBean"> <!-- LocalSessionFactoryBean 4.annotation.AnnotationSessionFactoryBean-->
        <property name="dataSource" ref="dataSource" > <!-- <ref bean="dataSource" />  --> </property>

        <property name="configLocation">

        <value>classpath:hibernate.cfg.xml</value>
        </property>

        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                 <prop key="hibernate.generate_statistics">true</prop>
             <prop key="hibernate.cache.use_second_level_cache">true</prop>
            <prop key="hibernate.cache.use_query_cache">true</prop>  
           <!--  <prop key="net.sf.ehcache.configurationResourceName">/ehcache-entity.xml</prop>  -->
           <prop key="hibernate.cache.region.factory_class">org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory</prop> 
            </props>
        </property>
    </bean>
    <tx:annotation-driven transaction-manager="transactionManager" />

    <bean id = "transactionManager" class = "org.springframework.orm.hibernate4.HibernateTransactionManager">
    <property name = "sessionFactory" ref = "sessionFactory" />
    </bean> 

    </beans> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T07:45:45.913

在您的应用程序的类路径中应该有多个具有该名称`net.sf.ehcache.config.CacheConfiguration`的类。并且首先找到错误的。要解决此问题，请`net.sf.ehcache.config.CacheConfiguration`在应用程序的类路径中搜索。您可以使用[JFind](http://sourceforge.net/projects/jfind/?source=dlp)来完成此任务。然后一一检查，找出哪个是您的期望。您可以使用[jd-gui](http://java.decompiler.free.fr/?q=jdgui)来完成此任务。最后小心地管理你的依赖。

谷歌搜索后，这似乎是一个普遍的问题。希望[这封邮件](http://marc.info/?l=jboss-user&m=132524772514441)能帮到你。

在您的配置中，不要使用新属性：

```
<property name="hibernate.cache.region.factory_class" value="net.sf.ehcache.hibernate.EhCacheRegionFactory"/> 
```

但旧的：

```
<property name="hibernate.cache.provider_class" value="net.sf.ehcache.hibernate.EhCacheProvider"/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-15T16:35:12.227

我最近遇到了一个类似的问题，一个类被多次加载。这可能来自于在您的类路径上有同一个类的多个版本。在我的情况下，它`net.sf.ehcache.config.CacheConfiguration`被加载了两次，一次来自我的 tomcat 的 lib 文件夹，一次来自我的应用程序 lib 文件夹。

要检查类的加载位置和次数，请使用以下命令启动 VM

```
-verbose:class 
```

这将打印所有正在加载的类以及文件系统上的位置。

然后，您应该通过修复依赖问题或删除任何有问题的 jar 来删除该特定类的任何重复项。也可能会证明您有不同版本的`ehcache`库，在这种情况下，您需要先解决该问题。如果您发布有关类加载次数以及从何处加载的更多详细信息，我们可能会提供有关如何解决此问题的更详细说明。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-30T06:46:52.940

我正在加载 ehcahe 和 ehcahe-core，所以我删除了 ehcahce。然后异常消失并排除ehcache-core，如下所示。请确保您的 pom 中不应该有 ehcache 依赖项。请参考[此](https://jsoftbiz.wordpress.com/2013/03/14/hibernate-4-and-ehcache-higher-than-2-4-3/)链接了解更多信息：

```
<?xml version="1.0" encoding="UTF-8"?>
<dependencies>
   <dependency>
      <groupId>org.hibernate</groupId>
      <artifactId>hibernate-ehcache</artifactId>
      <version>4.3.11.Final</version>
      <exclusions>
         <exclusion>
            <groupId>net.sf.ehcache</groupId>
            <artifactId>ehcache-core</artifactId>
         </exclusion>
      </exclusions>
   </dependency>
   <dependency>
      <groupId>net.sf.ehcache</groupId>
      <artifactId>ehcache</artifactId>
      <version>2.7.0</version>
   </dependency>
</dependencies> 
```

# android - 有没有替代 JNI 来使用 C 代码构建 Android 应用程序？

> ID：15426518
> 
> 赞同：0
> 
> 时间：2013-03-15T06:57:55.993
> 
> 标签：android, visual-c++, android-ndk

我来自 VC++ 背景。JNI 是否必须使用 C++ 代码（在 Windows 上）构建 android Android 应用程序？有没有其他选择，我在哪里可以找到一些示例应用程序和代码。[接受问题审查:) 谢谢]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:05:18.657

JNI 的示例代码可以在 Android-NDK 的安装下找到。链接将像`android-ndk-xxx/samples`. `xxx`是NDK的版本。我建议从名为`hello-jni`. 它将帮助您了解 Android-NDK 的基础知识以及它如何与 Android 关联。

# java - Java ByteArrayInputStream 隐式超级构造函数未定义。必须显式调用另一个构造函数

> ID：15426525
> 
> 赞同：0
> 
> 时间：2013-03-15T06:58:15.620
> 
> 标签：java, constructor, explicit

大家，我是新手。我的目的是通过扩展它从 ByteArrayInputStream 获取 byte[] buf 变量，在这个[http://www.java2s.com/Open-Source/Android/android-core/platform-libcore/java/io/ByteArrayInputStream.java .htm](http://www.java2s.com/Open-Source/Android/android-core/platform-libcore/java/io/ByteArrayInputStream.java.htm) 告诉 ByteArrayInputStream 没有无参数构造函数，但是当我编码时：

```
class Test extends ByteArrayInputStream {
    public Test(int i){}
} 
```

eclipse 告诉我：隐式超级构造函数 ByteArrayInputStream() 未定义。必须显式调用另一个构造函数。在问这个之前，我搜索了谷歌然后得到了这些：[Java错误：默认构造函数未定义隐式超级构造函数](https://stackoverflow.com/questions/1197634/java-error-implicit-super-constructor-is-undefined-for-default-constructor)，它告诉如果类B扩展类A，那么类A必须定义一个无参数构造函数。好的，这对于我们编写的类来说很容易，但是 Sun 包中的类呢……我也想知道这个

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:28:59.047

要记住的两个概念：

1.  默认情况下，任何子类构造函数都会调用超类的无参数构造函数。
2.  如果一个类中甚至定义了一个构造函数，jvm 不提供无参数构造函数。

在这里，public Test(int i) 将调用不存在的 ByteArrayInputStream()。所以你必须在 Test(int i) 的第一条语句中调用任何现有的 ByteArrayInputStream 构造函数，就像 super(required_pa​​rameters);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:25:46.300

您的 Test 类应该至少有两个构造函数：

```
public class Test extends ByteArrayInputStream {
    public Test(byte[] buf) {
        super(buf);
    }

    public Test(byte[] buf, int offset, int length) {
        super(buf, offset, length);
    }
} 
```

# php - 仅在插入加密数据时使用适用于 PHP 的 Amazon Web Services SDK 的签名错误

> ID：15426531
> 
> 赞同：0
> 
> 时间：2013-03-15T06:58:50.630
> 
> 标签：php, encryption, amazon-web-services, amazon-simpledb

我使用适用于 PHP 的 AWS 开发工具包不断收到签名错误，但只有在将加密数据插入 SimpleDb 时才会发生这种情况。例如，如果我注释掉 $userkey = "test"，则会出现错误，但如果我将其保留，则不会出现错误。

```
 <?php
    require_once 'vendor/autoload.php';
    use Aws\Common\Aws;
    $client = Aws::factory('_loginconfig.php')->get('SimpleDb');
    $domainName = "MY_USERS_001";
    $uniqueid = uniqid();
    $userkey = mcrypt_create_iv(16, MCRYPT_DEV_URANDOM);
    //$userkey = "test";
    $name = "Bob Smith";
    try {
      $client->putAttributes(array(
        'DomainName' => $domainName,
        'ItemName'   => $uniqueid,
        'Attributes' => array(
          array('Name' => 'USER_KEY', 'Value' => $userkey, 'Replace' => true),
          array('Name' => 'USER_REALNAME', 'Value' => $name, 'Replace' => true),
        ),
      ));
    }
    catch (Aws\SimpleDb\Exception\SimpleDbException $error) {
      echo $error;
      exit;
    }
    ?> 
```

我对加密、哈希、签名一无所知，所以请原谅我对此一无所知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T18:12:06.943

在研究了这个问题之后，我决定使用的解决方案是在我发送请求之前使用 base64_encode($userkey)。

我不知道为什么我会收到签名错误，但这解决了这个问题。

# iphone - 在 iOS v5.0.1 及以下 + ALAssetLibrary 中正确显示裁剪图像

> ID：15426536
> 
> 赞同：2
> 
> 时间：2013-03-15T06:59:02.180
> 
> 标签：iphone, crop, alasset

我正在尝试使用 ALAssetLibrary 在我的应用程序中显示相机胶卷中的照片。除裁剪图像外，所有图像均显示良好。`fullResolutionImage`当使用方法`ALAssetRepresentation`而不是裁剪版本时，ALAsset 返回图像的未编辑版本。所以我试图`ALAsset`从其元数据中提取对象的裁剪信息。我搜索了一下，发现裁剪信息包含在`AdjustmentXMP`我的`ALAssetRepresentation`对象的元数据键中。使用上述信息，我能够在我的应用程序中正确显示裁剪的图像，但 v5.1 及更高版本的方法在 iOS v5.0 上失败。iOS 5.1 上裁剪图像的元数据字典：

```
 {
    AdjustmentXMP = "<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"XMP Core 4.4.0\">\n   <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n      <rdf:Description rdf:about=\"\"\n            xmlns:aas=\"http://ns.apple.com/adjustment-settings/1.0/\">\n         <aas:AffineA>1</aas:AffineA>\n         <aas:AffineB>0</aas:AffineB>\n         <aas:AffineC>0</aas:AffineC>\n         <aas:AffineD>1</aas:AffineD>\n         <aas:AffineX>-266</aas:AffineX>\n         <aas:AffineY>-589</aas:AffineY>\n         <aas:CropX>0</aas:CropX>\n         <aas:CropY>0</aas:CropY>\n         <aas:CropW>270</aas:CropW>\n         <aas:CropH>162</aas:CropH>\n      </rdf:Description>\n   </rdf:RDF>\n</x:xmpmeta>\n";
    ColorModel = RGB;
    DPIHeight = 72;
    DPIWidth = 72;
    Depth = 8;
    Orientation = 1;
    PixelHeight = 1024;
    PixelWidth = 768;
    "{Exif}" =     {
        ApertureValue = "2.526069";
        BrightnessValue = "0.1544926";
        ColorSpace = 1;
        ComponentsConfiguration =         (
            0,
            0,
            0,
            1
        );
        DateTimeDigitized = "2013:01:22 14:12:59";
        DateTimeOriginal = "2013:01:22 14:12:59";
        ExifVersion =         (
            2,
            2
        );
        ExposureMode = 0;
        ExposureProgram = 2;
        ExposureTime = "0.06666667";
        FNumber = "2.4";
        Flash = 16;
        FlashPixVersion =         (
            1,
            0
        );
        FocalLenIn35mmFilm = 33;
        FocalLength = "4.13";
        ISOSpeedRatings =         (
            400
        );
        MeteringMode = 5;
        PixelXDimension = 768;
        PixelYDimension = 1024;
        SceneCaptureType = 0;
        SensingMethod = 2;
        ShutterSpeedValue = "3.906905";
        SubjectArea =         (
            1631,
            1223,
            881,
            881
        );
        WhiteBalance = 0;
    };
    "{GPS}" =     {
        Altitude = "216.1379";
        AltitudeRef = 0;
        DateStamp = "2013:01:22";
        Latitude = "28.46366666666667";
        LatitudeRef = N;
        Longitude = "77.04916666666666";
        LongitudeRef = E;
        TimeStamp = "08:42:56.00";
    };
    "{TIFF}" =     {
        DateTime = "2013:01:22 14:14:39";
        Make = Apple;
        Model = "iPhone 5";
        Orientation = 1;
        ResolutionUnit = 2;
        Software = "QuickTime 7.7.1";
        XResolution = 72;
        YResolution = 72;
        "_YCbCrPositioning" = 1;
    };
} 
```

iOS 5.0.1 上裁剪图像的元数据字典：

```
Metadata: {
    ColorModel = RGB;
    Depth = 8;
    PixelHeight = 2048;
    PixelWidth = 1078;
    "{JFIF}" =     {
        DensityUnit = 0;
        JFIFVersion =         (
            1,
            1
        );
        XDensity = 1;
        YDensity = 1;
    };
} 
```

正如您在上面看到的 v5.1 上的元数据字典包含`AdjustmentXMP`其中包含裁剪信息，而 v5.0 上的同一字典没有`AdjustmentXMP`键。所以裁剪在 v5.0.1 上失败。

关于如何在 iOS v5.0.1 及更低版本的设备上显示裁剪图像的任何指示？

# mysql - 如果我在 MySQL 中将整数类型的长度/值字段留空，它可以存储多少长度的数据？

> ID：15426539
> 
> 赞同：3
> 
> 时间：2013-03-15T06:59:26.360
> 
> 标签：mysql, integer, datafield

创建表时，我们通常将 id 字段设为整数类型。但是如果我没有在长度字段中指定任何值，它将存储多少长度数据？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-06-28T03:59:51.713

我在[其他地方找到了一个解释](http://alexander.kirk.at/2007/08/24/what-does-size-in-intsize-of-mysql-mean/)，说明您在创建数字列时指定的*值/长度*只有在您使用**zerofill**查询时才会起作用。[这里的例子。](https://stackoverflow.com/questions/5256469/what-is-the-benefit-of-zerofill-in-mysql)

如果您存储的值为 5
INT(4) 将显示 0005
INT(11) 将显示 00000000005

[在 mysql 文档](http://dev.mysql.com/doc/refman/5.5/en/numeric-type-attributes.html)中有一条说明，当它太小时可能会出现问题，所以我个人在制作新的数字列时将其留空。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:09:31.153

Juhana 感谢您的链接和回答。我得到了它。长度用于显示将显示多少个字符，而不是可以存储多少数据。因此，如果我说整数类型长度为 3，那么 id 最多会显示 999，但会存储超出此范围的值。我希望我做对了。

# jquery - ROR + JS + 多次加载 Jquery 文件

> ID：15426541
> 
> 赞同：0
> 
> 时间：2013-03-15T06:59:40.480
> 
> 标签：jquery, ruby-on-rails-3

在我的 rails 项目中，我遇到了一些奇怪的问题，比如多次加载 JavaScript 文件。我不明白它多次加载的代码或实现有什么问题。而且我还发现创建页面也加载了多次。我认为它也会影响应用程序的性能。

这是来自 firebug 的用于查看 JavaScript 文件列表的图像。文件名 = jquery-1.8.3

![在此处输入图像描述](../Images/4f1c7f8011727069c74f9f8246598b9f.png)

提前致谢。...

# symfony - Symfony2 - 添加新的请求类型代码

> ID：15426542
> 
> 赞同：2
> 
> 时间：2013-03-15T06:59:48.040
> 
> 标签：symfony

我想对每个请求执行一个包（一些额外的请求操作）。

我可以看到如何将请求的控制器路由到 Web URL，但不确定最好的方法。

我想我可以更改 app_dev.php/app.php 文件，但这似乎不太好。我认为我也不应该“扩展”当前的 Request 类。

我也看过事件，并认为这可能是一个可能的想法。

因为它会在每个请求上执行，所以我不想破坏 Symfony2 正在做的任何好事情（因为如果经常执行垃圾代码真的会减慢站点的速度）。

对每个请求执行附加操作（在我的包中）的最佳标准方法是什么？

我真的不需要代码，只需要一个简单的“是的，更改 app.php 文件”或指向正确的方向。

我已经从头到尾阅读了手册。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:09:07.003

[事件侦听器是可行的方法，您可以](http://symfony.com/doc/current/cookbook/service_container/event_listener.html)[在本文档中](http://symfony.com/doc/2.0/book/internals.html)找到有关所需事件的信息。

事件侦听器的工作方式类似于[服务](http://symfony.com/doc/2.1/book/service_container.html)，因此可能值得一试。

# php - 状态板程序的自动分页

> ID：15426547
> 
> 赞同：0
> 
> 时间：2013-03-15T07:00:06.407
> 
> 标签：php, mysql, ajax

我的 mysql 数据库中有更多数据。我想显示数据，每页 10 数据只需要显示，为此我编写了分页代码。它工作得很好，但我想自动运行该分页，这意味着几秒钟后页面会自动转到第二页，然后是第三页等......但我不知道如何实现请帮助任何人。下面是示例代码供参考：

```
 <?php
include "config.inc";

$sql = "SELECT COUNT(*) FROM test";
$result = mysql_query($sql) or trigger_error("SQL", E_USER_ERROR);
$r = mysql_fetch_row($result);
$numrows = $r[0];

$rowsperpage = 3;

$totalpages = ceil($numrows / $rowsperpage);

if (isset($_GET['currentpage']) && is_numeric($_GET['currentpage'])) {

$currentpage = (int) $_GET['currentpage'];
} else {

$currentpage = 1;
}

if ($currentpage > $totalpages) {

$currentpage = $totalpages;
} 
if ($currentpage < 1) {

$currentpage = 1;
} 

$offset = ($currentpage - 1) * $rowsperpage;

$sql = "SELECT * FROM test LIMIT $offset, $rowsperpage";
$result = mysql_query($sql) or trigger_error("SQL", E_USER_ERROR);

while ($list = mysql_fetch_array($result)) {

echo $list['mark_cut_weld'] . " : " . $list['mark_cut_inves'] . "<br />";
} 

$range = 3;

if ($currentpage > 1) {

echo " <a href='{$_SERVER['PHP_SELF']}?currentpage=1'><<</a> ";

$prevpage = $currentpage - 1;

echo " <a href='{$_SERVER['PHP_SELF']}?currentpage=$prevpage'><</a> ";
} 

for ($x = ($currentpage - $range); $x < (($currentpage + $range) + 1); $x++) {

if (($x > 0) && ($x <= $totalpages)) {

if ($x == $currentpage) {

 echo " [<b>$x</b>] ";

} else {

 echo " <a href='{$_SERVER['PHP_SELF']}?currentpage=$x'>$x</a> ";
} 
} 
} 

if ($currentpage != $totalpages) {

$nextpage = $currentpage + 1;

echo " <a href='{$_SERVER['PHP_SELF']}?currentpage=$nextpage'>></a> ";

echo " <a href='{$_SERVER['PHP_SELF']}?currentpage=$totalpages'>>></a> ";
} 
?> 
```

上面的代码，我只是通过 php 从 mysql 数据库中获取数据。然后将每页的数据设置为 3。我只是得到总数，然后除以行数到每页的行数......然后它会自动显示数据。

我的目标是显示数据库中的数据。每页 10 个数据，然后自动移动到下一页以获取下一个 10 个数据，无需任何操作单击或提交...因为它是状态板程序..我们将在工厂的大电视上显示...所以工人可以看到这台大电视的工作状态。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:29:32.603

您可以设置标题重定向以重定向到下一页。

例如，以下代码将在 10 秒内将您重定向到下一页。

```
header('Refresh: 10; URL='.$_SERVER['PHP_SELF'].'?page='.$next_page); 
```

确保在 PHP 中回显任何内容之前设置标题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:18:30.733

您将希望使用 javascript[设置超时](http://www.w3schools.com/jsref/met_win_settimeout.asp)，以每隔一段时间将位置[重定向](http://www.tizag.com/javascriptT/javascriptredirect.php)到下一页。

例如，将其添加到 HTML 正文的底部：

```
<script type="text/javascript">
    function switchPage(){
        window.location = "<?php echo $next_page?>"; // set the next page of results to view.
    }

    setTimeout(switchPage,60*1000); // call callback every minute
</script> 
```

该变量`$next_page`需要是使用 PHP 的下一组结果的 URL。

要让它重复，您需要在 PHP 端有一个模数，当结果结束时，它会翻转回第 0 页。

```
<?php
$next_page_count = ++$currentpage % $totalpages;
$next_page = $_SERVER['PHP_SELF'] . '?currentpage=' . $next_page_count; 
```

# qmake - 如何为 qmake 中的许多子目录使用预编译头文件？

> ID：15426549
> 
> 赞同：2
> 
> 时间：2013-03-15T07:00:12.940
> 
> 标签：qmake

我已阅读[http://qt-project.org/doc/qt-4.8/qmake-precompiledheaders.html](http://qt-project.org/doc/qt-4.8/qmake-precompiledheaders.html)

我的源目录就像

```
common  # here will generated common.pch/
srcdir1
srcdir2
srcdir3 
```

我试图让我的 srcdir1 srcdir2 srcdir3 使用常见的预编译头文件，但是如何编写正确的 .pro 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-24T14:15:57.307

您可以在有 foo.pro 的项目根目录中使用类似的东西：

```
CONFIG += ordered
TEMPLATE = subdirs
SUBDIRS = common srcdir1 srcdir2 srcdir3 
```

从文档中：

`When using the subdirs template, this option specifies that the directories listed should be processed in the order in which they are given.`

然后变量值将被保留，因此您共同设置的内容应该在 srcdir1 中可用，依此类推。

即使这不起作用，您仍然可以将`PRECOMPILED_HEADER = foo.h`定义放入 precompiled-header.pri 项目包含文件中，该文件包含在多个位置。

这有帮助吗？

# php - 为什么 PHP 不需要抛出错误？

> ID：15426560
> 
> 赞同：0
> 
> 时间：2013-03-15T07:00:43.703
> 
> 标签：php, error-handling, require

所以我听说 require 会产生一个致命错误（E_COMPILE_ERROR）并停止脚本。

它确实停止了脚本，我得到了空白页。但是我检查了错误日志并没有发现错误。(Nginx)

我试图要求“../lib/Smarty.class.php”，但我没有上传 lib 文件夹。我期待看到致命错误，但没有。

为什么？

我有

```
error_reporting(E_ALL); 
```

在我的脚本中也是如此。

我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:04:59.270

用于将显示错误设置为 1，然后在 error_reporting...

```
 // change settings for error handler to show errors
    // $this setup is used for checking errors for development to be shown.... 
    ini_set('display_errors', 1);
    error_reporting(E_ALL);

    //then if you want to have error handler use
   error_log(); //to log your errors within a specify location.. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:02:44.970

> 我错过了什么？

[`display_errors`](http://www.php.net/manual/en/errorfunc.configuration.php#ini.display-errors)设置。

# xaml - 禁用 DatePicker 制表位

> ID：15426569
> 
> 赞同：2
> 
> 时间：2013-03-15T07:01:32.237
> 
> 标签：xaml, datepicker, tabstop

我正在使用`DatePicker`原始 WPF 工具包中的控件。

我正在尝试`DatePicker`从标签顺序中删除 。`IsTabStop`设置类似or`TabIndex`或`KeyboardNavigation.IsTabStop`不真正起作用的属性。例如，设置`TabIndex`为 -1 会将其从跳位顺序中删除，直到我到达表单上跳位顺序的末尾并循环回到开头（这是我想要的行为）。一旦它循环了，它`DatePicker`就会回到标签顺序中。

问题似乎是`DatePicker`封装了`TextBox`实际的制表位。

如何在 XAML中设置's的`IsTabStop`属性？`DatePicker``TextBox`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-17T01:29:54.287

这似乎可以解决问题：

```
KeyboardNavigation.TabNavigation="None" 
```

# coldfusion - Windows 2008 R2 64 位 + ColdFusion 8 + 64 位 JVM - 加载错误：C:/ColdFusion8/runtime/jre\bin\server\jvm.dll

> ID：15426584
> 
> 赞同：0
> 
> 时间：2013-03-15T07:03:08.393
> 
> 标签：coldfusion, coldfusion-8, jvm-crash

我们在 Windows 2003 和 JVM 1.6 Build 17 上运行 ColdFusion 8，它们可以正常工作。我们正在尝试升级到 Windows 2008 R2，当我们将 ColdFusion 8 指向 64 位 JVM 1.6_17 时，我们在 ColdFusion 输出日志中收到此错误。

```
Error loading: C:/ColdFusion8/runtime/jre\bin\server\jvm.dll 
```

我们发现`msvcr71.dll`已经丢失并将其复制到`C:\ColdFusion8\runtime\bin`目录中，但似乎没有任何变化。

在 Windows 事件查看器中，我可以看到此消息***ColdFusion 8 应用程序服务器服务因服务特定错误而终止系统找不到指定的文件。***

它看起来`JVM.DLL`有更多的依赖 dll，这些在文件系统上是缺失的。我们如何获得`jvm.dll`一直在寻找的依赖关系？或者我们能知道它找不到哪个指定的文件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-05T16:16:31.990

我遇到了完全相同的问题。我安装了 64 位版本的 Microsoft Visual C++ 再分发版 2010。ColdFusion 之后就开始正常运行了。

# batch-file - Putty SFTP 客户端 - “读取时出错：失败”

> ID：15426589
> 
> 赞同：0
> 
> 时间：2013-03-15T07:03:30.473
> 
> 标签：batch-file, ftp, sftp, putty

我正在编写我的 sFTP 文件下载命令，该命令使用“mget *.txt”在批处理模式下运行，间歇性地，我的日志中出现“读取时出错：失败”，这导致下载的文件为 0 KB，但是我很确定这个文件存在于目录中，和下载之前一样，我执行“ls *.txt”命令，日志显示有问题的文件实际上不是 0KB。我正在寻找任何自动恢复方法，或者我该如何解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T14:33:21.067

作为替代方案，您可以尝试使用 rsync。Grsync [for Windows](http://sourceforge.net/projects/grsync-win/)包包括 rsync 和最少数量的 cygwin 库以使其工作。安装它，添加`c:\Program Files\Grsync\bin`到您的路径中，您就可以`rsync --progress --append user@remotehost:/path/to/*.txt localdest`恢复并恢复您的传输。

# android - 如何在android中从calendarView添加事件和获取事件

> ID：15426591
> 
> 赞同：1
> 
> 时间：2013-03-15T07:03:32.160
> 
> 标签：android, android-widget, android-calendar

我正确显示了日历视图，但我需要将事件添加到日历视图中，并且我需要从日历中获取事件。我该怎么做，请任何人帮助我。

# sencha-touch-2 - Sencha Touch2：将数据从控制器传递到浮动面板不起作用

> ID：15426594
> 
> 赞同：1
> 
> 时间：2013-03-15T07:03:40.320
> 
> 标签：sencha-touch-2, panel

我是 Sencha Touch2 的新手，在将数据从控制器传递到列表项点击的浮动面板时遇到问题。这是我的控制器实现代码：

```
Ext.define('CustomList.controller.Main', {
    extend: 'Ext.app.Controller',
    requires:['CustomList.view.DatePanel'],

    config: {
        refs: {
            listView: 'listitems'
        },

        control: {
            'main test2 list': {
                activate: 'onActivate',
                itemtap: 'onItemTap'
            }
        }
    },

    onActivate: function() {
        console.log('Main container is active');
    },

    onItemTap: function(view, index, target, record, event) {
        console.log('Item was tapped on the Data View');
        Ext.Viewport.add({
            xtype: 'DatePanel'
        });
     }

}); 
```

我能够在控制器中获取数据，而 DatePanel.js 是我的浮动面板。日期面板.js：

```
Ext.define('CustomList.view.DatePanel', {
    extend: 'Ext.Panel',
    alias: 'widget.DatePanel',
    xtype:'datepanel',
    config: {
        itemid:'DatePanel',
        modal:true,
        centered: true,
        hideOnMaskTap:true,
        width:'500px',
        height:'650px',
        items:[
            {
                styleHtmlCls:'homepage',
                tpl:'<h4>{name3}</h4>'

            },
            {
                xtype:'toolbar',
                docked:'bottom',
                items:[{
                    text:'OK',
                    ui:'confirm',
                    action:'ShowTurnOverReport',
                    listeners : {
                        tap : function() {
                            console.log('Ok');
                        }
                    }
                },
                    {
                        text:'Cancel',
                        ui:'confirm',
                        action:'Cancel',
                        listeners : {
                            tap : function() {
                            console.log('Cancel');
                            var panelToDestroy = Ext.getCmp('datepanel');
                            panelToDestroy.destroy();
                            Ext.Viewport.add(Ext.create('CustomList.view.Test2'));//Test.js is my list Panel

                            }
                        }
                    }]

            }
        ]
    }
}); 
```

帮助我破坏“取消”按钮上的面板。谁能帮帮我吗。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T09:33:11.827

创建要首先添加的面板实例。

```
var floatingDatePanel = Ext.create('Yourapp.view.YourDatePanel'); 
```

接下来在 itemTap 上获取所选列表项的数据

```
var data = record.getData(); 
```

将此数据分配给`floatingDatePanel`with`setData()`方法

**更新**，

查看您的面板代码后，我想您想将数据设置为面板中的第一项，即

```
 {
            styleHtmlCls:'homepage',
            tpl:'<h4>{name3}</h4>'

        } 
```

对 ？如果是这样，那么您需要更改以下代码

```
floatingDatePanel.setData(data); 
```

到

```
floatingDatePanel.getAt(0).setData(data); 
```

因为，它是面板内的第一个项目，它分配了一个模板，并且希望与您要设置数据的位置相同。

最后，您可以将此面板添加到视口中

```
Ext.Viewport.add(floatingDatePanel); 
```

# c# - linq中的日期时间

> ID：15426597
> 
> 赞同：1
> 
> 时间：2013-03-15T07:03:55.090
> 
> 标签：c#, sql-server-2008, datetime, linq-to-sql, ssis

所以我试图从脚本任务中的表中获取最新记录。错误出现在 Linq 查询中，如下所示：

`"Could not Translate expression 'Table(SSASLogging).Select(r=>r.TimeStamp).Max()' into SQL and could not treat it as a local expression."`

问题在于 DateTime 数据类型，但我需要 DateTime 将其提供给我的 SSIS 变量。我知道这可以在执行 SQL 任务中轻松完成，但我现在放弃太远了！我知道 DateTime 有一些 LinqToSQL 方法，但它们是为了比较，我不知道如何在这里应用它们。

```
 public DateTime getLatest()
    {
        DateTime result = new DateTime();

        //temp dummy/defaul date is two days ago
        result = DateTime.Now.AddDays(-2);

        try
        {
            //get the data connection string from the connection manager
            RW = (string)Dts.Connections["ReportingWarehouse"].ConnectionString;

            //Remove the Provider, Auto Translate, and Application
            //as it is not a parameter for the DataContext constructor
            RW = RW.Remove(RW.IndexOf("Provider=SQLNCLI10.1;"), "Provider=SQLNCLI10.1;".Length);
            RW = RW.Remove(RW.IndexOf("Auto Translate=False;"), "Provider=SQLNCLI10.1;".Length);
            RW = RW.Remove(RW.IndexOf("Application"),RW.Length - RW.IndexOf("Application"));

            MessageBox.Show(RW);

            //get the last insertion date from the SSASLoging table
            using (DataContext RWData = new DataContext(RW))
            {
                Table<SSASLogging> records = RWData.GetTable<SSASLogging>();
                var rs = (from r in records
                         select r.TimeStamp).Max();
                //result = rs.FirstOrDefault();
            }

        }

        catch (Exception e)
        {
            MessageBox.Show("Exception in Retrieving latesttime" + e.Message + "/n"
                            + e.StackTrace);
        }

        return result;
   }

}//end partial class

[Table]  
public class SSASLogging  
{
    [Column(Name = "CREATED_TIMESTAMP")] 
    private DateTime timeStamp;

    public DateTime TimeStamp 
    {
        get { return this.TimeStamp; }
    }
}//End SSASLogging 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:07:29.270

如果`Max`不工作，这个怎么办：

```
var maxDate =
    (from r in records
     orderby r.TimeStamp descending
     select r.TimeStamp)
    .FirstOrDefault(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:08:33.420

你可以试试 OrderBy

```
var rs = (from r in records  orderby r.TimeStamp descending
                     select r).FirstOrDefault(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T07:26:04.287

尝试对表格和`Take(1).ToList()`. 它应该返回`List`0 或 1 个元素。然后您可以使用`FirstOrDefault`，这将由应用程序执行，而不是由 SQL 执行：

```
var rs = (from r in records
          orderby r.TimeStamp descending
          select r).Take(1).ToList().FirstOrDefault(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T07:48:11.353

可能是因为这个：

[http://msdn.microsoft.com/en-us/vstudio/ff963710.aspx](http://msdn.microsoft.com/en-us/vstudio/ff963710.aspx)

所以：

```
var rs = (from r in records.AsEnumerable()
         select r.TimeStamp).Max(); 
```

或者：

```
var rs = (from r in records
         select r.TimeStamp).AsEnumerable().Max(); 
```

# extjs4 - 如何在 extjs 中计算 ipAddress

> ID：15426599
> 
> 赞同：1
> 
> 时间：2013-03-15T07:04:07.793
> 
> 标签：extjs4, ip-address

我在 extjs 工作。我想找到IP地址。我有 javascript 代码来获取 ipaddress as-

```
<script language="JavaScript">
VIH_BackColor = "palegreen";
VIH_ForeColor = "navy";
VIH_FontPix = "16";
//VIH_DisplayFormat = "You are visiting from:<br>IP Address1: %%IP%%<br>Host1: %%HOST%%";
// Code for only getting ip address
VIH_DisplayFormat = "%%IP%%";
VIH_DisplayOnPage = "yes";
</script>
<script language="JavaScript" src="http://scripts.hashemian.com/js/visitorIPHOST.js.php"></script>
<script language="JavaScript">
//alert(VIH_DisplayFormat);

if(VIH_DisplayFormat!="121.246.216.1181")
{
    alert("you are not authorized user");   
}
else
{
    alert(VIH_DisplayFormat);
}   

</script>
</HEAD> 
```

那么如何修改这段代码以在 extjs 中工作。或者在 extjs 中有没有其他方法来计算 ipaddress？

# python - 如果我将此变量初始化为字符串，为什么 Python 会将其解释为 int？

> ID：15426601
> 
> 赞同：0
> 
> 时间：2013-03-15T07:04:16.950
> 
> 标签：python, class, typeerror, self

在做学校项目时。我遇到了这个错误

```
>>> y = tokens.numberToken('1.23')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "tokens.py", line 10, in __init__
    self._value = v
ValueError: invalid literal for int() with base 10: '1.23' 
```

我追溯到这段代码

```
class token:
    def type(self):
        return "UNDEF"
    def getValue(self):
        pass

class numberToken(token):
    _value = "0.0"
    def __init__(self, v = "0.0"):
        self._value = v
    def type(self):
        return "num"
    def getValue(self):
        try:
            r = int(_value)
        except ValueError:
            r = float(_value)
        return r 
```

我意识到在 getValue(self) 中，_value 应该是 self._value。我解决了这个问题，认为它可能不相关，但是在重新加载模块后，代码运行完美。

所以我的问题是为什么python尝试将输入的字符串转换为int，为什么在另一个函数中将_value更改为self._value修复了代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:51:34.057

您的 getValue 确实是错误的。要在类中使用 _value，您需要键入 self._value，这样您就可以为类的该实例使用 _value。这就是为什么当你改变它时它会起作用。

这样，它会查找定义为全局的 _value。或者您可以在调用时将其作为参数传递给方法并像使用它一样使用它。

```
def getValue(self, _value):
    try:
        r = int(_value)
    except ValueError:
        r = float(_value)
    return r 
```

作为参考，请查看[http://docs.python.org/2/tutorial/classes.html](http://docs.python.org/2/tutorial/classes.html)

这是文档中的示例，您可以在其中查看数据和索引在课堂上的使用方式。

```
class Reverse:
    """Iterator for looping over a sequence backwards."""
    def __init__(self, data):
        self.data = data
        self.index = len(data)
    def __iter__(self):
        return self
    def next(self):
        if self.index == 0:
            raise StopIteration
        self.index = self.index - 1
        return self.data[self.index] 
```

# android - 切换意图时我丢失了数据

> ID：15426605
> 
> 赞同：1
> 
> 时间：2013-03-15T07:04:32.893
> 
> 标签：android, android-intent

切换意图时，我丢失了前一个 onActivityResult 的数据，我需要它来保留从用户那里获得的两个数字，目前它会保留一个数字，然后当输入下一个数字时，它会丢失前一个数字，这里是代码：

```
package com.eric.theworks;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;

public class MainActivity extends Activity implements OnClickListener {

Button width, height, calc;
TextView area;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    width = (Button) findViewById(R.id.button1);
    height = (Button) findViewById(R.id.button2);
    calc = (Button) findViewById(R.id.button3);
    area = (TextView) findViewById(R.id.textView1);

    width.setOnClickListener(this);
    height.setOnClickListener(this);
    calc.setOnClickListener(this);
}

@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    Intent i = new Intent(this, Numbers.class);
    switch (v.getId()) {

    case R.id.button1:
        // width
        i.putExtra("numbers", "width");
        startActivityForResult(i, 1);

        break;

    case R.id.button2:
        // height
        i.putExtra("numbers", "height");
        startActivityForResult(i, 1);

        break;

    case R.id.button3:
        // calc

        break;

    }

    }

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    // TODO Auto-generated method stub
    super.onActivityResult(requestCode, resultCode, data);
    if (data.getExtras().containsKey("widthInfo")){
        width.setText(data.getStringExtra("widthInfo"));

}
    if (data.getExtras().containsKey("heightInfo")){
        height.setText(data.getStringExtra("heightInfo"));

}

}

}

package com.eric.theworks;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;

public class Numbers extends Activity implements OnClickListener {
EditText number;
Button sendInfo;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.numbers);
    number = (EditText) findViewById(R.id.editText1);
    sendInfo = (Button) findViewById(R.id.button1);
    sendInfo.setOnClickListener(this);
}

@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    String s = number.getText().toString();
    Intent i = getIntent();
    String msg = i.getStringExtra("numbers");
    if (msg.contentEquals("width")) {
        i.putExtra("widthInfo", s);
        setResult(RESULT_OK, i);
        finish();

    }
    if (msg.contentEquals("height")) {
        i.putExtra("heightInfo", s);
        setResult(RESULT_OK, i);
        finish();

    }

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:14:15.997

您可以使用静态变量来存储以前的数据。

全局声明静态字符串。

```
static String widthInfo="";
static String heightInfo=""; 
```

还要给出不同的请求代码。

```
case R.id.button1:
        // width
        i.putExtra("numbers", "width");
        startActivityForResult(i, 1);

        break;

    case R.id.button2:
        // height
        i.putExtra("numbers", "height");
        startActivityForResult(i, 2); 
```

然后在你的 onActivityResult 中使用它。

```
 @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        super.onActivityResult(requestCode, resultCode, data);
         switch (requestCode) {
        case (1): {

        if (data.getExtras().containsKey("widthInfo")){
            widthInfo=data.getStringExtra("widthInfo")
            width.setText(data.getStringExtra("widthInfo"));

    } else {
    height.setText(heightInfo);
    width.setText(widthInfo);
    }
        }
   break;
       case (2): 
        {
        if (data.getExtras().containsKey("heightInfo")){
            heightInfo=data.getStringExtra("heightInfo")
            height.setText(data.getStringExtra("heightInfo"));

    }else {
    height.setText(heightInfo);
    width.setText(widthInfo);
    }

    }
   break;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:13:14.980

您可以使用 Bundle 将数据从一个活动传递到另一个活动，而不是直接传递意图。例如：

```
 Bundle b = new Bundle();
        b.putString("SingleClick",a );
        b.putString("LongClick", "no");
        i.putExtras(b); 
```

并在另一个活动中使用数据

```
Bundle bundle = getIntent().getExtras();
        String admin = bundle.getString("LongClick"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:27:05.353

```
String s = number.getText().toString();
Intent i = getIntent();
String msg = i.getStringExtra("numbers");
if (msg.contentEquals("width")) {
    i.putExtra("widthInfo", s);
    setResult(RESULT_OK, i);
    finish();

} 
```

确保字符串**s**有任何值....

# android - 如何设置 mapView 的 zoomLevel 以在 MapView 上显示完整的路线

> ID：15426607
> 
> 赞同：1
> 
> 时间：2013-03-15T07:04:45.857
> 
> 标签：android, google-maps, android-mapview, routes

这一次，我想在 mapview 上显示两个位置之间的路线。我使用 googlemapApi 来实现方向。幸运的是，我能够在地图上用蓝色显示路线。唯一的困难是设置正确的缩放级别，以便我可以在可见屏幕部分上的地图加载启动时显示完整的路线。

我想知道围绕堆栈溢出的解决方案但是在阅读了几个答案后我感到困惑。最后我决定发布一个问题。

谁能告诉我解决这个问题最方便的方法是什么。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:20:40.667

我不知道它是否相同，但是对于 Google 静态地图 API，如果您为其提供路线并且不给它缩放级别，那么它会自动执行您想要的操作。

你试过这个吗？

# android - 如何在android中打开导航而不是mapview？

> ID：15426611
> 
> 赞同：4
> 
> 时间：2013-03-15T07:05:01.310
> 
> 标签：android, android-layout, android-mapview, android-maps, android-maps-v2

我已经绘制了位置，如果它被点击，它会转到地图和地图，如果它被点击了方向，它会打开谷歌导航。是否可以直接与导航链接？

我已经定义了这样的代码。

```
GeoPoint pt = item.getPoint();

String lat = Double.toString(pt.getLatitudeE6() / 1e6);

String lng = Double.toString(pt.getLongitudeE6() / 1e6);

intent = new Intent(android.content.Intent.ACTION_VIEW,
Uri.parse("geo:0,0?q=" + lat + "," + lng)); 
```

在uri中，打开导航应该赋予什么？我想直接跳过**第二张截图**

打开导航。这该怎么做？

我的截图如下：

![第一张截图](../Images/a44ab9bc3162a7c577a2abde3d67712c.png)

![第二张截图在这里](../Images/6889ad80693d061f8baf05b017a7a4b6.png)

![第三张截图](../Images/2238b7a2e3eca1a70f68f691452bc45d.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T06:04:07.223

但是我找到了解决方案

```
Intent intent;
GeoPoint pt = item.getPoint();
String lat = Double.toString(pt.getLatitudeE6() / 1e6);
String lng = Double.toString(pt.getLongitudeE6() / 1e6);               
intent = new Intent(android.content.Intent.ACTION_VIEW,
Uri.parse("google.navigation:q=" + lat + "," + lng)); 
```

# asp.net-mvc - 注销时 mvc 清除缓存（单击后退按钮时保留在登录页面中）

> ID：15426612
> 
> 赞同：2
> 
> 时间：2013-03-15T07:05:07.790
> 
> 标签：asp.net-mvc, caching, logout

注销后，如果我单击后退按钮，我想保留在登录页面中……但是当我单击后退按钮时，此代码将不起作用，它将重定向到上一页。可以帮助我。

```
public virtual ActionResult Logout()
        {
            FormsAuth.SignOut();

            ActionResult homeAction = MVC.Account.Login();
            string logoffUrl = Url.Action(homeAction);

            string[] myCookies = Request.Cookies.AllKeys;
            foreach (string cookie in myCookies)
            {
                Request.Cookies[cookie].Expires = DateTime.Now.AddDays(-1);
                Response.Cookies[cookie].Expires = DateTime.Now.AddDays(-1);
                Response.Cookies.Add(Response.Cookies[cookie]);
                Request.Cookies.Add(Request.Cookies[cookie]);

            }
            HttpContext.Response.Cache.SetExpires(DateTime.UtcNow.AddDays(-1));
            HttpContext.Response.Cache.SetValidUntilExpires(false);
            HttpContext.Response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);
            HttpContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
            HttpContext.Response.Cache.SetNoStore();

            return RedirectToAction(homeAction);
        }

    } 
```

# paypal - 贝宝快速结帐

> ID：15426616
> 
> 赞同：0
> 
> 时间：2013-03-15T07:05:24.357
> 
> 标签：paypal, payment

带token和PayerID从PayPal返回后是否需要有确认页面？**或者直接调用DoExpressCheckoutPayment**没有给买家显示确认页面没有问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T13:38:17.033

您可以在 SetExpressCheckout API 调用中使用 useraction=commit 变量。“useraction=commit”的目的是让您在买家返回时立即自动完成交易，而不是为他们提供更多的确认屏幕。您可以在不需要执行诸如根据从 GetExpressCheckoutDetails 返回的地址计算运费之类的操作的情况下执行此操作，并且您确定原始付款金额是最终金额。

# html - 具有多列样式的列表在 chrome 中中断

> ID：15426617
> 
> 赞同：2
> 
> 时间：2013-03-15T07:05:24.980
> 
> 标签：html, css, google-chrome

这是我第二次解决这个问题，我仍然无法提出解决方案。我的问题与获取链接列表并将其拆分为列有关。我运行一个用户有多个用户名的站点，因此会动态生成一个跳转列表。这意味着任何类型的静态解决方案都不起作用。列表需要能够随内容动态扩展。

```
 -webkit-column-count:3;
    -moz-column-count:3;
    column-count:3; 
```

扔进去应该可以解决我的问题。确实如此，或者我想，我只是在 Firefox 上弄乱了它，它的表现与我想象的完全一样。然后我收到了 chrome 用户的投诉。似乎在 chrome 中，该列拒绝让列表项并排放置，只取最大的宽度。我不确定如何更好地解释它，所以我做了一个[jsfiddle](http://jsfiddle.net/Traesoleine/LepMN/)来演示。它显示了我制作的原始列表，以及放置`column-count`属性。

如果您在 firefox 或 opera 中查看它，它看起来还不错，以及它的预期外观，浏览器会占用所有三列的大小。在 chrome 中查看它，您会看到所有三列，但在拆分为多列之前，它受到列中最大项目的长度的限制，这可以通过使用检查器打开和关闭列规则来查看。

所以现在我问，我怎样才能让 chrome 尊重我的列并以正确的方式显示它？或者甚至可能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:05:53.047

我能够用 ul 容器上的宽度修复它，我希望它会有所帮助：

```
.multi ul {
    width:500px;
} 
```

查看您[更新](http://jsfiddle.net/soyuka/LepMN/1/)的小提琴。你在firefox和opera上是对的，它在工作而不是在chrome上，我尝试了其他一些css[列参数](http://www.quirksmode.org/css/columns/)但没有成功。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T08:17:03.420

谢谢大家，我什至不知道 CSS 中存在 column-count 属性。学到了一些新东西。

但由于 IE 不支持它，让我提出一个替代解决方案。它使用 Twitter Bootstrap 之类的行/跨度布局样式。如果您包含引导程序，CSS 将变得更加简单。

缺点是它将从左到右列出项目，而不是在每列中从上到下。

[jsfiddle](http://jsfiddle.net/eX59a/3/)

html:

```
<div class="wrapper left">
    <div class="single">
        <ul>
            <li><a href="#">Lorem ipsum</a></li>
            <li><a href="#">dolor sit amet</a></li>
            <li><a href="#">consectetur</a></li>
            <li><a href="#">adipiscing elit</a></li>
            <li><a href="#">sit amet erat</a></li>
            <li><a href="#">congue</a></li>
            <li><a href="#">quis dolor in orci</a></li>
            <li><a href="#">venenatis vel</a></li>
            <li><a href="#">Vivamus</a></li>
        </ul>
    </div>
</div>
<div class="wrapper right">
    <div class="multi">
        <ul>
            <li><a href="#">Lorem ipsum</a></li>
            <li><a href="#">dolor sit amet</a></li>
            <li><a href="#">consectetur</a></li>
            <li><a href="#">adipiscing elit</a></li>
            <li><a href="#">sit amet erat</a></li>
            <li><a href="#">congue</a></li>
            <li><a href="#">quis dolor in orci</a></li>
            <li><a href="#">venenatis vel</a></li>
            <li><a href="#">Vivamus</a></li>
        </ul>
    </div>
</div> 
```

CSS：

```
.wrapper {
    border-radius:10px;
    overflow:hidden;
}
.single, .multi {
    display:block;
    margin-left:-5px;
}
.single ul {
    width:205px;
}
.multi ul {
    width:615px;    
}
ul {
    background-color:#545454;
    border-radius:10px;
    display:block;
    margin: 0;
    padding:0;
}
ul:after {
  content: ".";
  display: block;
  clear: both;
  visibility: hidden;
  line-height: 0;
  height: 0;
}
li {
    background-color:#CACACA;
    border-radius:10px;
    display:block;
    float:left;
    margin-left:5px;
    padding:5px 10px;
    width:180px;
}
a {
    text-align:left;
    white-space:nowrap;
}
.left {
    left: 10px;
    position: absolute;
    top: 0;
}
.right {
    left: 220px;
    position: absolute;
    top: 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T08:49:15.810

我设法让它在 HTML 和其他一些 CSS 更改中稍作更改

HTML：

```
<div class="multi">
        <ul>
            <li><a href="#">Lorem ipsum</a></li>
            <li><a href="#">dolor sit amet</a></li>
            <li><a href="#">consectetur</a></li>
            <li><a href="#">adipiscing elit</a></li>
            <li><a href="#">sit amet erat</a></li>
            <li><a href="#">congue</a></li>
            <li><a href="#">quis dolor in orci</a></li>
            <li><a href="#">venenatis vel</a></li>
            <li><a href="#">Vivamus</a></li>
        </ul>
</div> 
```

我认为这是编写列表的正确方法。

CSS：

```
.multi li {
    display: inline-block;
       width:100%;
}
.multi a {
    text-align:left;
    display:block;
    text-align:left;
    padding:5px 10px;
    position:relative;
    white-space:nowrap;
    background-color:#CACACA;
    -webkit-border-radius:10px;
    -moz-border-radius:10px;
    border-radius:10px;
    display: inline-block;
    width:100%;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
} 
```

演示：http: [//jsfiddle.net/LepMN/2/](http://jsfiddle.net/LepMN/2/)

# bash - 我不想让数组做分词

> ID：15426619
> 
> 赞同：0
> 
> 时间：2013-03-15T07:05:37.027
> 
> 标签：bash

下面是我的代码。但是 bash 正在进行分词，因此我失败了。如何制作我的脚本以便没有分词。

```
namaSensor=$(sensors | egrep "°C" | awk '{print $0}' | awk -F ':' '{print $1}')
for sensor in $namaSensor
do
    if [ $(sensors | grep -c "$sensor") -ne 0 ]
    then
        currentTemperature=$(sensors | egrep "$sensor" | awk '{print $0}' | awk -F '+' '{print $2}' | cut -c 1-4 | awk -F '.' '{print $1}')
        maxTemperature=$(sensors | egrep "$sensor" | awk '{print $0}' | awk -F '+' '{print $3}' | cut -c 1-4 | awk -F '.' '{print $1}')
        if [ $currentTemperature -lt $maxTemperature ]
        then
            printf "current temperature is %d°C and the maximum allowed temperature is %d°C\n" "$currentTemperature" "$maxTemperature"
            printf "temperature is within the maximum allowed temperature\n"
            echo "$sensor"
        else
            printf "current temperature is %d°C and the maximum allowed temperature is %d°C\n" "$currentTemperature" "$maxTemperature"
            printf "temperature is more than the maximum allowed temperature\n"
            #exit 255
        fi
    fi
done. 
```

这是我单位传感器的输出。

```
acpitz-virtual-0
Adapter: Virtual device
temp1:        +40.0Â°C  (crit = +111.0Â°C)
temp2:        +40.0Â°C  (crit = +111.0Â°C)

coretemp-isa-0000
Adapter: ISA adapter
Physical id 0:  +34.0Â°C  (high = +87.0Â°C, crit = +105.0Â°C)
Core 0:         +31.0Â°C  (high = +87.0Â°C, crit = +105.0Â°C)
Core 1:         +22.0Â°C  (high = +87.0Â°C, crit = +105.0Â°C) 
```

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:16:30.373

据我了解，您的数组拆分如下：

身体的

ID

0

等等。要更改此行为，您需要将内部字段分隔符 (IFS) 更改为换行符。所以你的代码应该是这样的：

```
IFS=$'\n'
nameSensor=$(sensors | egrep "°C" | awk '{print $0}' | awk -F ':' '{print $1}')
for sensor in $nameSensor
do
    if [ $(sensors | grep -c "$sensor") -ne 0 ]; then
        currentTemperature=$(sensors | egrep "$sensor" | awk '{print $0}' | awk -F '+' '{print $2}' | cut -c 1-4 | awk -F '.' '{print $1}')
        maxTemperature=$(sensors | egrep "$sensor" | awk '{print $0}' | awk -F '+' '{print $3}' | cut -c 1-4 | awk -F '.' '{print $1}')
        if [ $currentTemperature -lt $maxTemperature ]; then
            printf "current temperature is %d°C and the maximum allowed temperature is %d°C\n" "$currentTemperature" "$maxTemperature"
            printf "temperature is within the maximum allowed temperature\n"
            echo "$sensor"
        else
            printf "current temperature is %d°C and the maximum allowed temperature is %d°C\n" "$currentTemperature" "$maxTemperature"
            printf "temperature is more than the maximum allowed temperature\n"
            #exit 255
        fi
    fi
done 
```

# c# - 通过生成参数验证来修复 FxCop CA1062

> ID：15426621
> 
> 赞同：-2
> 
> 时间：2013-03-15T07:05:41.013
> 
> 标签：c#, .net, coding-style, fxcop, ca1062

为一个大型项目打开代码分析会显示大量 CA1062 衰减，这绝对是 IMO 正确的。

我想自动处理这些而不必遍历每一个，无论如何通过对所有方法参数使用断言或类似的东西来在整个代码中自动执行此操作：

```
if (input == null)
{
    throw new ArgumentNullException("input");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T12:20:53.543

是的，有很多方法可以自动添加空检查。除了 Bryan Ross 已经提到的 AOP 方法之外，您还可以创建一个工具，根据代码分析报告文件中发现的违规情况修改源代码。这会更细化（即：不在它们可能实际上不属于的地方强制进行空验证），但是您需要投入一些精力来构建工具来做到这一点。

也就是说，大量缺失的空检查通常很好地表明代码库中缺少各种参数验证。如果您想尝试解决所有这些问题，则需要手动操作，并且自动化空值检查可能会隐藏您应该关注的区域。

就个人而言，我倾向于选择更手动的清理，使用 VS 片段来促进更常见的验证（例如：非空、非空、范围内、允许列表中的枚举）。[http://msmvps.com/blogs/calinoiu/archive/2007/04/22/fxcop-and-the-big-bad-backlog.aspx](http://msmvps.com/blogs/calinoiu/archive/2007/04/22/fxcop-and-the-big-bad-backlog.aspx)中描述的“TODO”抑制方法可能会有用，如果你想启用在您的清理工作结束（甚至开始）之前的 CA1062 规则。

# java - 在MySQL数据库中计算总数并除以十分页

> ID：15426623
> 
> 赞同：0
> 
> 时间：2013-03-15T07:05:44.170
> 
> 标签：java, c++, mysql, pagination

我有引用 MySQL 数据库的代码，它看起来像这样：

```
<div id="pagination">
    <ul class="page">
        <li class="page"><a href="<c:url value='item?${loop.count${item.id}'/>">${loop.count}</a></li>
    </ul>
</div> 
```

for 循环如下所示：

```
<c:forEach var="item" items="${itemItems}" begin="0" end="10" varStatus="loop"> 
```

这将显示一个数字列表供我用于分页。
我的问题是，如何将其更改为`${loop.count}</a>`计算行/表中的总项目除以十的数字？现在这是计算仅在页面循环中显示的项目。我希望它计算行中的所有项目，而不仅仅是循环。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:15:30.957

您需要确定在没有 MySQL 的情况下获得的行数，`LIMIT`并且`OFFSET`

这里有两个选项：

1.  `LIMIT`在没有/的情况下再次执行查询`OFFSET`

2.  添加`SQL_CALC_FOUND_ROWS`到您的查询：

    选择 SQL_CALC_FOUND_ROWS ...

[http://dev.mysql.com/doc/refman/5.5/en/information-functions.html#function_found-rows](http://dev.mysql.com/doc/refman/5.5/en/information-functions.html#function_found-rows)

在这两种情况下，您都可以使用`SELECT FOUND_ROWS() AS rows_total`

哪个选项更快取决于您的数据库结构、查询复杂性和结果数据。试一试，比较时间。

页数、偏移量和限制的计算是简单的数学运算

伪代码

```
numPages = ceil( totalRows / rowsPerPage )
sqlLimit = rowsPerPage
sqlOffset = (currentPage-1) * rowsPerPage 
```

# python - 使用 sympy 计算矩阵的伪逆

> ID：15426624
> 
> 赞同：5
> 
> 时间：2013-03-15T07:05:45.130
> 
> 标签：python, matrix, sympy

我应该如何使用 sympy 计算矩阵的伪逆（不使用 numpy，因为矩阵具有符号常量，并且我希望逆也是符号的）。法线`inv()`不适用于 sympy 中的非方阵。例如，如果`M = Matrix(2,3, [1,2,3,4,5,6]), pinv(M)`应该给

```
-0.9444   0.4444
-0.1111   0.1111
 0.7222  -0.2222 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T09:39:10.563

我认为既然这都是象征性的，那么使用线性代数课中教授的教科书公式应该是可以的（例如，参见关于[Moore-Penrose 伪逆](http://en.wikipedia.org/w/index.php?title=Moore%E2%80%93Penrose_pseudoinverse&oldid=540619506#Special_cases)的维基百科文章中的特殊情况列表）。对于数值评估，请`pinv`改用奇异值分解 (svd)。

您有线性独立的行（全行排名），因此您可以使用“正确”逆的公式：

```
>>> import sympy as sy
>>> M = sy.Matrix(2,3, [1,2,3,4,5,6])

>>> N = M.H * (M * M.H) ** -1

>>> N.evalf(4)
[-0.9444,  0.4444]
[-0.1111,  0.1111]
[ 0.7222, -0.2222]
>>> M * N
[1, 0]
[0, 1] 
```

对于全列秩，将 M 替换为 MH，转置结果并简化以获得“左”逆的以下公式：

```
>>> M = sy.Matrix(3, 2, [1,2,3,4,5,6])

>>> N = (M.H * M) ** -1 * M.H

>>> N.evalf(4)
[-1.333, -0.3333,  0.6667]
[ 1.083,  0.3333, -0.4167]
>>> N * M
[1, 0]
[0, 1] 
```

# jquery - .ajaxStart 和 .ajaxStop 由于某些奇怪的原因没有触发

> ID：15426629
> 
> 赞同：2
> 
> 时间：2013-03-15T07:05:56.777
> 
> 标签：jquery, ajax, asp.net-mvc, model-view-controller

当发出 ajax 请求时，我将“加载”类附加到正文中，这样我就可以显示进度动画......由于某种原因，函数 ae 从未调用过，我看不到任何警报......

```
function setLoadingPanel()
{
    var timer;
    var body = $("body");

    alert("Set AJAX HOOKS...");
    $("body").on({
        ajaxStart: function ()
        {
            alert("AJAX START");
            //timer = setTimeout(function () { body.addClass("loading"); }, 50)
        },
        ajaxStop: function ()
        {
            alert("AJAX STOP!!!");
            //$(this).removeClass("loading");
            //clearTimeout(timer);
        }
    });
} 
```

我已放置警报以尝试查看是否调用了挂钩，但由于某种原因没有弹出警报。

这是我使用简单的 AJAX.ActionLink 助手的 ajax 请求：

```
@{
    var ajaxDialogoptions = new AjaxOptions()
    {
        HttpMethod = "GET",
        InsertionMode = InsertionMode.Replace,
        UpdateTargetId = "DialogContainer",
        OnComplete = "OpenDialog('DialogContainer');"
    };
}
@Ajax.ActionLink(Model.AddNewItemButtonTitle, Model.AddActionName, Model.AddActionController, Model.AddActionRoutValues, ajaxDialogoptions, new { Class = "btn btn-primary anti-align-rtl" }) 
```

这是我的脚本包：

```
 Bundle bundle = new Bundle("~/Scripts/jsRTL");

            bundle.AddFile("~/Scripts/Common/jquery-1.9.1.min.js");
            bundle.AddFile("~/Scripts/Common/jquery-ui-1.10.1.custom.min.js");
            bundle.AddFile("~/Scripts/Common/jquery.unobtrusive-ajax.min.js");
            bundle.AddFile("~/Scripts/Validator/jquery.validate.min.js");
            bundle.AddFile("~/Scripts/Validator/jquery.validate.unobtrusive.min.js");
            bundle.AddFile("~/Scripts/Globalize/globalize.js");
            bundle.AddFile("~/Scripts/Globalize/globalize.culture.en-US.js");
            bundle.AddFile("~/Scripts/Globalize/globalize.culture.he.js");
            bundle.AddFile("~/Scripts/Globalize/globalize.culture.he-IL.js");
            bundle.AddFile("~/Scripts/Bootstrap/bootstrap-rtl.js");
            bundle.AddFile("~/Scripts/Common/Common.js"); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-15T07:20:39.997

尝试将 ajaxStart- 和 ajaxStop-Handler 添加到文档中，如下所示：

```
$(document).ajaxStart(function () {
    alert("AJAX START");
    //timer = setTimeout(function () { body.addClass("loading"); }, 50)
});
$(document).ajaxStop(function () {
    alert("AJAX STOP!!!");
    //$(this).removeClass("loading");
    //clearTimeout(timer);
}); 
```

见[这里](http://api.jquery.com/ajaxStart/)：

> 然而，从 jQuery 1.8 开始，.ajaxStart() 方法只能附加到文档。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-15T07:19:49.527

我注意到您使用的是 jQuery 1.9。确保你已经升级了你的`jquery.unobtrusive-ajax.min.js`，以便它与它兼容，因为 ASP.NET MVC 4 附带的初始版本并不像它所依赖的那样`.live()`不再存在。

# c - 在 TCP 中发送/处理部分数据写入

> ID：15426630
> 
> 赞同：0
> 
> 时间：2013-03-15T07:05:57.540
> 
> 标签：c, networking, tcp

所以，我有以下代码在 TCP 上发送我的数据包。它工作得很好。我只需要测试部分写入。因此，我通过将 sendbuf 设置为 1 或进行 hack，一次写入 1 个字节，如下所示。当我使用 tcpdump 时，除了第一个字节外，它都是不正确的。我做错了什么？

```
int tmi_transmit_packet(struct tmi_msg_pdu *tmi_pkt, int len, int *written_len)
{
int bytes;

// This works
bytes = write(g_tmi_mgr->tmi_conn_fd, (void*) tmi_pkt, len); 

// This doesn't: 
// bytes = write(g_tmi_mgr->tmi_conn_fd, (void*) tmi_pkt, 1); 

if (bytes < 0) {
    if (errno == EAGAIN) {
        return (TMI_SOCK_FULL);
    }
    return (TMI_WRITE_FAILED);
} else if (bytes < len) {
    *written_len += bytes;
    tmi_pkt += bytes;
    return (tmi_transmit_packet(tmi_pkt, len - bytes, written_len));
} else {
    *written_len += len;
}
return TMI_SUCCESS;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:23:35.863

这条线

```
tmi_pkt += bytes; 
```

最有可能不会做你所期望的。

它确实增加`tmi_pkt`了`sizeof(*tmp_pkt) * bytes`，而不仅仅是增加了`bytes`。有关指针算术的一个很好的解释，您可能想[单击此处并查看 binky](http://cslibrary.stanford.edu/104/)。

为了解决这个问题，你可以修改你的代码如下：

```
...
else if (bytes < len) {
  void * pv = ((char *) tmp_pkt) + bytes;
  *written_len += bytes;
  return (tmi_transmit_packet(pv, len - bytes, written_len));
}
... 
```

无论如何，这在某种程度上闻起来很脏，因为传递给写入函数的指针指向的数据不一定需要对应于它的类型。

所以一个更干净的解决方案是不使用而是`struct tmi_msg_pdu *tmi_pkt`作为函数参数声明。`void *``char *`

尽管这里没有必要也不推荐使用递归调用。对于大量数据和/或慢速传输，它可能会耗尽堆栈内存。一个简单的循环也可以。后者的优点是您可以使用指向要写入的缓冲区的临时指针，并且可以坚持类型化接口。

# android - 在拉动刷新时保持滚动位置

> ID：15426633
> 
> 赞同：3
> 
> 时间：2013-03-15T07:06:17.100
> 
> 标签：android, android-listview, pull-to-refresh

我在我的 android 应用程序中使用[PullToRefresh 。](https://github.com/chrisbanes/Android-PullToRefresh)到目前为止它工作正常。

我面临的问题是，当我从 TOP 新行下载“发布以刷新”上的新 x 行时，新行会推送现有行并从 0 位置开始，这对用户来说很烦人。我想要的是，在下载新的行列表后应该保留在那里，让用户向下查看新的行集。

知道如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-15T07:15:32.613

这就是我用的

```
//Get old position before updating adapter
final int old_pos = mListView.getRefreshableView().getFirstVisiblePosition()+1;
//Set Adapter
mListView.setAdapter(mListAdapter);

//Set the list to old postion
//mListView.getRefreshableView().setSelection(old_pos);
mListAdapter.notifyDataSetChanged();
mListView.onRefreshComplete();

mListView.post(new Runnable() {

        @Override
        public void run() {
            // TODO Auto-generated method stub
            mListView.getRefreshableView().setSelection(old_pos);
        }
    }); 
```

还要检查： [Maintain/Save/Restore scroll position when returned to a ListView](https://stackoverflow.com/questions/3014089/maintain-save-restore-scroll-position-when-returning-to-a-listview)

# linq - 数据表上的Linq没有数据源异常

> ID：15426640
> 
> 赞同：0
> 
> 时间：2013-03-15T07:06:48.850
> 
> 标签：linq, datatable

```
 dataSet = clsDb.MailData("SELECT * FROM CM_Mail cm WHERE cm.[ActualTime] < '" + DateTimeOffset.UtcNow + "' ", CommandType.Text);
        DataTable datatablepending = (from ds in dataSet.Tables[0].AsEnumerable() where ds.Field<string>("Status") == MailStatus.Pending.ToString() select ds).CopyToDataTable();
        DataTable datatableInprogress = (from ds in dataSet.Tables[0].AsEnumerable() where ds.Field<string>("Status") == MailStatus.Inprogress.ToString() select ds).CopyToDataTable();

        if (datatablepending.Rows.Count != 0)
        {
            for (int i = 0; i < datatablepending.Rows.Count; i++)
            {

                dataSet = clsDb.MailData("UPDATE CM_Mail SET [Status] = '" + updateStatus + "',LastProccessedTime = '" + DateTimeOffset.UtcNow.ToString() + "' WHERE Id='" + datatablepending.Rows[i]["Id"].ToString() + "'", CommandType.Text);
            }

        }
        if (datatableInprogress.Rows.Count != 0)
        {
            for (int i = 0; i < datatableInprogress.Rows.Count; i++)
            {
                dataSet = clsDb.MailData("UPDATE CM_Mail SET [Status] = '" + updateStatus + "',SentTime = '" + DateTimeOffset.UtcNow + "',LastProccessedTime = '" + DateTimeOffset.UtcNow.ToString() + "' WHERE Id='" + datatableInprogress.Rows[i]["Id"].ToString() + "'", CommandType.Text);
            }

        } 
```

当我尝试这样做时，`datatableInprogress`可能一直没有任何行。在运行时，我得到一个异常说“没有数据源”。为什么？我应该怎么做才能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:32:52.297

如果您的条件没有行，只需[克隆 DataTable 结构：](http://msdn.microsoft.com/en-us/library/system.data.datatable.clone.aspx)

```
var pendingRows = 
  dataSet.Tables[0].AsEnumerable()
         .Where(r => r.Field<string>("Status") == MailStatus.Pending.ToString());

DataTable datatablepending = pendingRows.Any() ? pendingRows.CopyToDataTable() :
                                                 dataSet.Tables[0].Clone(); 
```

顺便说一句，为什么需要 DataTable？可以获得身份证！

```
var pendingIds = 
     from r in dataSet.Tables[0].AsEnumerable()
     where r.Field<string>("Status") == MailStatus.Pending.ToString()
     select r.Field<int>("Id"); 
```

抱歉，我不知道你为什么要在循环中分配 dataSet，但这里是重现你的代码：

```
string updateStringFormat = 
 "UPDATE CM_Mail SET [Status] = '{0}',LastProccessedTime = '{1}' WHERE Id='{2}'";

foreach(var id in pendingIds)
{
    var commandText = String.Format(updateStringFormat, updateStatus, DateTimeOffset.UtcNow, id);
    dataSet = clsDb.MailData(commandText, CommandType.Text);
} 
```

# java - 如何使用 JETTISON 将 POJO 编组为 JSON？

> ID：15426641
> 
> 赞同：2
> 
> 时间：2013-03-15T07:06:49.787
> 
> 标签：java, json, jakarta-ee, marshalling, jettison

我已经使用 JETTISON 将 JaxB java 对象编组到 Json。但是我不能使用 JETTISON 将简单的 java 对象（其中没有注释）编组到 Json。我知道可以通过使用 GSON 或 MOXy 或其他一些提供商来做到这一点。

但我想明确“我们可以使用 JETTISON 来做到这一点吗？”。如果可以，怎么做？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-15T00:23:40.203

不要浪费你的时间，这根本不是 Jettison 的设计初衷。可以想象，`JSONObject`用 POJO 实例化 a 并以这种方式序列化它是可能的，但它的代码存在一些问题，这使得这几乎是不可能的：

1.  它需要传入将包含在 JSON 中的字段的名称。
2.  它只能处理所提供对象的公共属性。

更不用说它不能处理任何类型的嵌套。看看这个可爱的代码：

```
Class c = object.getClass();
for (int i = 0; i < names.length; i += 1) {
        try {
                String name = names[i];
                Field field = c.getField(name);
                Object value = field.get(object);
                this.put(name, value);
        } catch (Exception e) {
                /* forget about it */
        }
} 
```

是的，这就是构造函数中的代码`JSONObject(Object, String[])`。我相信你会看到它的问题（对通用对象的原始访问，只能访问公共字段，草率的异常处理）。总而言之 - 非常糟糕的“序列化”代码。

我知道这可能不是您想听到的，但是如果您想将常规 Java 对象转换为 JSON，那么您可能想要坚持使用更通用的库之一。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T11:32:54.893

JAXB (JSR-222) 是按异常配置的，只需要在需要覆盖默认 XML 表示的地方进行注释（Jettison 将 XML StAX 事件转换为 JSON 或从 JSON 转换）。而不是`@XmlRootElement`您可以将对象包装在`JAXBElement`.

*   [http://blog.bdoughan.com/2012/07/jaxb-no-annotations-required.html](http://blog.bdoughan.com/2012/07/jaxb-no-annotations-required.html)

# django - 如何在 django rest 框架中使用过滤器进行分页

> ID：15426642
> 
> 赞同：10
> 
> 时间：2013-03-15T07:06:52.610
> 
> 标签：django, django-rest-framework

我目前有一个 API 视图设置如下：

```
class WeatherObservationSerializer(serializers.ModelSerializer):
    dew_point = serializers.Field(source='dew_point')
    wind_gust = serializers.Field(source='get_wind_gust')

    class Meta:
        model = WeatherObservation
        fields = ('id', 'station', 'temperature', 'pressure', 'humidity',
                  'wind_direction', 'wind_speed', 'rainfall', 'date',
                  'dew_point', 'wind_gust')

class WeatherObservationList(generics.ListCreateAPIView):
    model = WeatherObservation
    serializer_class = WeatherObservationSerializer
    permission_classes = (permissions.IsAuthenticatedOrReadOnly,)

    def get_queryset(self):
        queryset = WeatherObservation.objects.all()
        min_date = self.request.QUERY_PARAMS.get('min_date', None)
        station = self.request.QUERY_PARAMS.get('station', None)
        if min_date is not None:
            queryset = queryset.filter(date__gte=min_date)
        if station is not None:
            queryset = queryset.filter(station=station)
        return queryset 
```

我的`settings.py`包含：REST_FRAMEWORK = { 'PAGINATE_BY': 50, 'PAGINATE_BY_PARAM': 'page' }

当我像这样向 API 发出请求时： /api/weather/observations/?station=2&page=2&min_date=2013-3-14 我只得到两个结果。如果是第 3 页、第 3 个结果等。有什么我做错了导致这个问题吗？

干杯。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T19:25:55.437

查看这些设置[的文档：](http://www.django-rest-framework.org/api-guide/settings/#paginate_by_param)

> PAGINATE_BY_PARAM
> 
> 查询参数的名称，客户端可以使用它来覆盖用于分页的默认页面大小。如果设置为无，客户端可能不会覆盖默认页面大小。

只需从您的 settings.py 中删除该行，就可以了。

2016 年 1 月 7 日更新：

请注意，此设置现在处于弃用过程中。您可以查阅[分页指南](http://www.django-rest-framework.org/api-guide/pagination/#modifying-the-pagination-style)以获取更多详细信息。

简短的版本是您现在应该使用适当的设置创建一个自定义分页类，然后将其应用于您的视图。链接指南中的示例应该很有帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-10-14T11:34:43.980

不确定这会有多大帮助，但我需要在我的项目中使用过滤器对单个视图进行分页。我所做的是

```
class GlobalFilter(CustomMixin):

    from rest_framework.pagination import PageNumberPagination

    queryset = Data.objects.all()
    filter_backends = [DjangoFilterBackend]
    serializer_class = FilterSerializer
    filterset_class = GlobalFilterSet
    pagination_class = PageNumberPagination
    pagination_class.page_size = 100 
```

可能对其他人有帮助:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-09T18:11:20.537

使用[过滤和分页](https://pypi.org/project/filter-and-pagination/)插件。很好地处理过滤器和分页功能

`pip install filter-and-pagination`

# android - 安卓扩展定时器

> ID：15426651
> 
> 赞同：0
> 
> 时间：2013-03-15T07:07:56.583
> 
> 标签：android, timer, runnable

我想知道我们可以创建一个计时器来处理不同持续时间的两个不同的后台调用吗？我有一个代码可以在 30 秒内更新我的应用程序中的本地时间。我想要的是，不创建任何其他计时器，而是在同一个计时器中，在 60 秒后调用不同的函数。这是我的代码

```
 timer = new Timer();
                timer.schedule(new RemindTask(), 10000,30000);

        class RemindTask extends TimerTask 
        {
            public void run()
                    {

                       runOnUiThread(new Runnable() 
                       {
                             public void run() 
                             {
                                printMessage();// Current time
                             }
                       });
                    }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:26:36.603

一种解决方案可以是：

```
class RemindTask extends TimerTask 
    {
        public void run()
                {

                   runOnUiThread(new Runnable() 
                   {
                         public void run() 
                         {
                            count++;
                            if(count%120 == 0)
                                 weatherApiCall();

                            printMessage();// Current time
                         }
                   });
                }
    } 
```

其中 count 是一个变量，可让您知道 TimerTask 运行了多少次，并每小时调用一次 weatherApiCall。

# javascript - 使用javascript附加输入类型

> ID：15426653
> 
> 赞同：1
> 
> 时间：2013-03-15T07:08:11.763
> 
> 标签：javascript, jquery

我在 javascript 中附加 HTML。

```
var HTML = "<input type='image'  src='../../images/edit_btn.png' onclick='popadmin('http://www.example.com','station',585,971); return false;' style='border-width:0px;margin-top: 5px; margin-right: 0px'>"; 
```

但它会生成这个 HTML

```
var HTML = <input type="image" src="../../images/edit_btn.png" onclick="popadmin(" http:="" www.example.com','station',585,971);="" return="" false;'="" style="border-width:0px;margin-top: 5px; margin-right: 0px"> 
```

为什么要`popadmin('http://www.example.com'`更改为`http:="" www.example.com'`? 我怎么能防止它

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:13:54.447

那是因为你使用了错误的引号，这样做是错误的：

```
var HTML = "<input type='image'  src='../../images/edit_btn.png' onclick=\"popadmin('http://www.example.com','station',585,971); return false;\" style='border-width:0px;margin-top: 5px; margin-right: 0px'>"; 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-15T07:12:13.140

应该使用单引号。

这是“LI”的一个例子是相似的

```
function addLI(id, href, name){
var html = '<li><a id ="'+id+ '" href="' + href + '">' + name+ '</a></li>';
return html;
} 
```

# php - 通过单击列标题按列对数据进行排序，并通过再次单击使用 codeigniter 进行反向排序

> ID：15426654
> 
> 赞同：0
> 
> 时间：2013-03-15T07:08:18.237
> 
> 标签：php, codeigniter, sorting

嘿伙计们，我是 codeigniter 的新手，我正在做一个项目，其中我有一个从数据库中获取的表。我想通过单击表头对表进行排序，我该怎么做。. 我正在使用这样的代码：-

控制器：

```
function index()
{

        $config['total_rows'] = $this->db->get('tbl_members')-> num_rows();
        $config['per_page'] = 2;

        $segment_array=$this->uri->segment_array();
        $segment_count=$this->uri->total_segments();

        $do_orderby = array_search("orderby",$segment_array);
        $asc = array_search("asc",$segment_array);
        $desc = array_search("desc",$segment_array);

        $this->db->order_by($this->uri->segment($do_orderby+1), $this->uri->segment($do_orderby+2));

        if (ctype_digit($segment_array[$segment_count]))
        {
            $data['page']=NULL;
            $this->db->limit($config['per_page']);
        }
        else
        {
            $data['page']=$segment_array[$segment_count];
            $this->db->limit($config['per_page'], $segment_array[$segment_count]);
            array_pop($segment_array);
        }

        $config['base_url'] = site_url(join("/",$segment_array));
        $config["uri_segment"] = count($segment_array)+1;

        $this->load->model('mod_user'); //load the mod_user class
        $data['rows'] = $this->mod_user->getmembers();
        //initialize pagination
        $this->pagination->initialize($config);

        $this->load->view('view_home',$data);
        $this->load->view('view_homemember',$data);
    } 
```

我的看法是：

```
 <form class="userinfo" action="" method="post">
    <?php //if(count($rows) > 0) { ?>
        <table border="1" cellpadding="2" cellspacing="0">
                    <?php
    // For Sorting
    //default in descending order
    $sort['col1']='desc';
    $sort['col2']='desc';
    $sort['col3']='desc';
    //get the segment array
    $segment_array=$this->uri->segment_array();
    //search for the orderby string
    $do_orderby = array_search("orderby",$segment_array);
    //check to toggle asc and desc sorting in columns
    if($do_orderby !== FALSE) {
    $sort[$segment_array[$do_orderby+1]]= $segment_array[$do_orderby + 2] == 'desc' ? 'asc' : 'desc' ;
    }
    ?>
            <tr>
                <td width="5%;">&nbsp;</td>
                <td width="5%;">&nbsp;</td>
                <td width="15%;"><?php echo "<a href=\"".site_url()."/ctl_home/index/member_name/{$sort['col1']}/".$page."\">";?>Name</a></td>
                <td width="15%;">Moderator Name</td>
                <td width="20%;">KCC Branch</td>
                <td width="15%;">Father/Husband Name</td>
                <td width="15%;">Address</td>
                <td width="10%;">Date</td>
            </tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:01:16.517

在 CodeIgniter from scratch" 系列中有一个很好的教程：

[http://net.tutsplus.com/tutorials/php/codeigniter-from-scratch-displaying-sorting-tabular-data/](http://net.tutsplus.com/tutorials/php/codeigniter-from-scratch-displaying-sorting-tabular-data/)

# java - 错误：java.lang.OutOfMemoryError：Java 堆空间

> ID：15426655
> 
> 赞同：-6
> 
> 时间：2013-03-15T07:08:19.743
> 
> 标签：java

```
2013-01-18 02:42:11,487|INFO||GatewayOutboundPollerDaemon|Begin pollGatewayIncident().
2013-01-18 02:42:32,225|INFO||GatewayOutboundPollerDbHelper|Begin submitPendingRecords().
2013-01-18 02:42:54,565|INFO||GatewayOutboundPollerDbHelper|Query for Pending Records : SELECT TR_GATEWAY_RECORD_ID, decode(TR_TRANSACTION_TY
PE,1,'Update','Create')TR_TRANSACTION_TYPE, TR_GATEWAY_RECORD_STATUS FROM TM4530_INCIDENT_GATEWAY WHERE TR_GATEWAY_RECORD_STATUS = 0 AND TR_F
ROM_PARTNER = 'RAM' AND TR_GATEWAY_RECORD_STATE = 0 AND TR_TRANSACTION_METHOD = 1 FOR UPDATE
2013-01-18 02:49:47,527|ERROR||DaemonExecutor|ExecutableDaemon threw an exception:
java.lang.OutOfMemoryError: Java heap space 
```

我的内存大小慢慢增加，1 个月或 2 个月后我得到了`java.lang.OutOfMemoryError: Java heap space`。如果我重新启动服务器问题已解决。

你能建议我如何永久解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:16:39.207

由于您没有指定您的环境和您使用的 JDK 以及您在运行应用程序时使用的配置设置（例如，内存使用情况），我建议使用`-Xmx`助记符来增加您的堆大小。

例如

```
java -Xmx6g MyProgram 
```

其中`6g`意味着我想要 6GB 堆大小（在 64 位环境中）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:14:43.347

您应该使用内存分析器来检测内存增加的原因。我使用 Java VisualVM 解决了这类问题

# powershell - 使用powershell将Nuget包复制文件到本地

> ID：15426656
> 
> 赞同：0
> 
> 时间：2013-03-15T07:08:23.047
> 
> 标签：powershell, nuget

我正在开发一个 Nuget 包，它应该将文件复制到用户 C 驱动器。如何编写 powershell 脚本以及我应该将文件放在 nuget 内容文件夹中的什么位置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:35:54.440

您可以使用[此处](http://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-package#Automatically_Running_PowerShell_Scripts_During_Package_Installation_and_Removal)记录的传统 powershell 脚本之一。

文件最合适的位置可能在包的“工具”目录中，如此处[所述](http://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-package#From_a_convention_based_working_directory)。

# php - 如何以 html 格式发送 PDF 并使用 $_POST superglobal 阅读

> ID：15426659
> 
> 赞同：0
> 
> 时间：2013-03-15T07:08:28.597
> 
> 标签：php, forms, pdf, fdf

这应该很容易，但它不起作用。如果有人能指出我正确的方向，我将不胜感激，因为我有点讨厌 adobe 文档，而且在 adobe 社区论坛上，我想我几乎不会得到直接的答案。无论如何，问题是我在 Acrobat X 中创建了一个可填写的表单，并添加了一个带有提交表单操作的按钮，其 url 指向我的 php 脚本。当我在任何浏览器中查看表单并提交时，我可以看到它已提交，因为开发人员工具的网络部分显示 POST 请求和所有内容，响应代码为 200 OK。然而，我能从 $_POST 超全局变量中得到的只是一条通知，告诉我我指向的索引不存在。我已经彻底检查过，这些索引实际上是我在 pdf 表单上的字段名称。还，奇怪的是，表单并没有被浏览器中的脚本替换，而是保留在相同的 url 中。这让我发疯，因为从我在谷歌上到处读到的内容来看，这应该是做到这一点的方法。

我的脚本是这样的（好像很有趣）：

```
$apes = $_POST['Apellido_Nom'];
$dir = $_POST['Direccion'];
$fp = fopen('formulario.txt', 'w+');
fwrite($fp, 'Nombre, '.$apes.'Dirección, '.$dir);
while(!feof($fp)) {
$buffer=fgets($fp, 4096);
echo $buffer;   
}
fclose($fp); 
```

请不要介意这个问题的举止，只是我度过了非常艰难的一天。哦对了，我还把pdf表单的导出格式设置为html。

# machine-learning - 如何验证什么是噪音什么是真实数据？

> ID：15426670
> 
> 赞同：1
> 
> 时间：2013-03-15T07:09:19.547
> 
> 标签：machine-learning, noise

我想知道如何声称我正确地捕捉到了数据中的“噪音”？

更具体地说，以主成分分析为例，我们知道在 PCA 中，在做 SVD 之后，我们可以将小的奇异值归零，并使用低秩逼近重构原始矩阵。

那么我可以声称被忽略的确实是数据中的噪音吗？是否有任何评估指标？

我能想出的唯一方法就是从重建数据中减去原始数据。

然后，尝试在其上拟合高斯，看看适应度是否良好。

是像DSP这样的传统方法吗？

顺便说一句，我认为在典型的机器学习任务中，测量将是后续分类性能，但由于我正在做纯粹的生成模型，因此没有附加标签。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T14:18:42.397

在我看来，噪声的定义取决于问题的领域。因此，减少它的策略在每个域上都会有所不同。

例如，在地震地层分类问题或人脸分类问题上的噪声图像等问题中具有噪声信号将与医学诊断问题中由不正确标记数据产生的噪声或由于相似词具有不同含义而产生的噪声大不相同。文档的语言分类问题。

当噪声是由于给定（或一组）数据点造成的，那么解决方案就像忽略这些数据点一样简单（尽管大多数时候识别这些数据点是具有挑战性的部分）

从您的示例中，我猜您更关心将噪声嵌入特征中的情况（例如在地震示例中）。[有时人们倾向于使用中值滤波器（ http://en.wikipedia.org/wiki/Median_filter](http://en.wikipedia.org/wiki/Median_filter) ）等降噪滤波器对数据进行预处理。相比之下，其他一些人倾向于降低数据的维度以减少噪声，而在这种场景中使用了 PCA。

这两种策略都是有效的，通常人们会同时尝试并交叉验证它们，看看哪一种效果更好。

您所做的是检查高斯噪声的好指标。但是，对于非高斯噪声，您的指标可能会给您带来误报（适应性差，但降噪效果仍然不错）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T11:47:42.307

就个人而言，如果您想证明降噪的功效，我会使用基于任务的评估。我假设您这样做是出于某种目的，以解决某些问题？如果是这样，请使用原始噪声矩阵和新的干净矩阵来解决任务。如果后者效果更好，*则为了您感兴趣的任务*，丢弃的是噪音。我认为一些客观的噪音衡量标准很难定义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-10T01:12:46.297

我找到了这个。非常有说服力，需要很长时间才能理解。 [https://sci2s.ugr.es/noisydata#Introduction%20to%20Noise%20in%20Data%20Mining](https://sci2s.ugr.es/noisydata#Introduction%20to%20Noise%20in%20Data%20Mining)

# html - 如何强制输入类型文件只接受 .html 或 .htm 文件

> ID：15426674
> 
> 赞同：4
> 
> 时间：2013-03-15T07:09:31.623
> 
> 标签：html, asp.net-mvc, input-type-file

在这里，我试图通过单击按钮上传 html/htm 文件。为此，我正在使用“输入类型=文件”，我已将其“接受”属性设置为仅接受 html/htm 扩展，如下所示：

```
<input type="file" name="htmla" id="htmla" accept="text/html" /> 
```

但它在不同的浏览器中表现出不同的行为

在Firefox中，它接受所有文件

在 chrome 中，它接受 html 以及图像

在 IE 中，和 firefox 一样

有没有办法通过 javascript 或 jquery 等任何方法使其仅接受 html/htm 文件？

**注意：我在 MVC 4 中使用这个控件**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:14:46.233

这是 HTML5 特定的属性。并非所有浏览器都支持它。对于那些不这样做的人，您将不得不在服务器上执行检查。另一种可能性是检查使用 javascript 选择的文件的扩展名。基本上你可以像这样得到选择的文件名：`$('#htmla').val()`. 然后是扩展的正则表达式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T07:20:30.983

标准输入控件中没有任何东西可以实现它。

是的，文件输入控件上有一个`"accept"`属性，您可以在其中指定所需的文件类型，但许多浏览器无法识别。因此，您可以做的最好的事情是检查用户使用 Javascript 或 Jquery 选择的文件的文件名（扩展名）。

```
function ValidateFile() {
        var fileName = document.getElementById("inputFileId").value
        if (fileName == "") {
            alert("upload a valid File with .htm extension");
            return false;
        }
        else if (fileName.split(".")[1].toUpperCase() == "HTM")
            return true;
        else {
            alert("Invalid File");
            return false;
        }
        return true;
    } 
```

但是没有什么可以阻止用户将可执行文件重命名`.html`为例如。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T07:17:10.843

```
<script>
  function test(obj,filter){

    var file = obj.value.match(/[^\/\\]+$/gi)[0];
    var rx = new RegExp('\\.(' + (filter?filter:'') + ')$','gi');
    if(filter&&file&&!file.match(rx)){
      alert("check the file type, only html is accepted");
      //input file
      //it's totally a bad idea...
      //document.body.innerHTML = "<input type='file' onchange=\"test(this,'html');\" >";

    }
  }
</script>
<body>
    <input id="inputFile" type="file" onchange="test(this,'html');">
</body> 
```

也许这应该适合你[swfupload](https://code.google.com/p/swfupload/)

# android - ACTION_DOWN 但指针已经向下。可能缺少上一个手势的 ACTION_UP

> ID：15426677
> 
> 赞同：0
> 
> 时间：2013-03-15T07:09:55.820
> 
> 标签：android, android-alertdialog, android-tabactivity

我在一个选项卡内有一个列表视图，它第一次在另一个选项卡内显示，当我单击列表时，此警报正确显示。但是当我单击另一个列表而不更改选项卡时，它显示此错误

```
TouchEvent: ACTION_DOWN but pointers are already down.  Probably missing ACTION_UP from previous gesture. 
```

**我的警报看起来像这样**

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {

    //MenuInflater inflater = getMenuInflater();
    //inflater.inflate(R.menu.downloadmennu, menu);

//---------------------------------------------------------------------------------------------------------
    AlertDialog.Builder alertDialog = new AlertDialog.Builder(Question_Download.this.getParent().getParent());

    alertDialog.setTitle("Make your choice...");
    alertDialog.setMessage("What do you want to download?");
    alertDialog.setIcon(R.drawable.save_file_floppy);

    alertDialog.setPositiveButton("Mock Exam", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {
            downloadOptionSelected = DownloadOptions.MockExam;
            isMock = true;
            AppPreferenceStatus.setStudyDownload(CurContext,CourseMatIntent.MockExam);
            MockExamActivity(chapterPosition);
        }
    });

    alertDialog.setNeutralButton("Study Mats.", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {
            downloadOptionSelected = DownloadOptions.StudyMaterials;
            AppPreferenceStatus.setStudyDownload(CurContext,CourseMatIntent.StudyMaterials);
            StudyMatActivity(chapterPosition);
        }
    });

    alertDialog.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {

        }
    });

    alertDialog.show();
   return true;
   //---------------------------------------------------------------------------------------------------------

} 
```

# java - 如何在 Java 中捕获输出

> ID：15426683
> 
> 赞同：-1
> 
> 时间：2013-03-15T07:10:11.310
> 
> 标签：java, arrays, output

好吧，我在这里得到了我的代码

```
static void snake(String u[][]){
        for(int i=0; i<u.length; i++){
            if(i%2==0){
                for(int j=0; j<u[i].length; j++){
                    String asli = u[i][j];
                    System.out.print(asli+"");
                }
            }else
                for(int j=u[i].length-1; j>=0; j--){
                    String asli = u[i][j];
                    System.out.print(asli+"");

                }
            }

        } 
```

我的代码是读取我之前创建的数组。它将从右到左读取蛇路径中的数组，然后在下一行中从左到右读取，依此类推。

我将在我的代码中调用此方法，如下所示：

```
snake(matrix); 
```

所以我之前创建的数组将继续使用这个方法。

它将创建一个像“asdbasdbasdbsad”这样的输出，我想捕获它......我尝试了 printstream，但它没有用。该输出，我需要它们在我的另一个代码中继续。我无法让他们正确。是否有任何方法，而不是首先将它们保存到文件中，然后在下一个方法中读取文件？有什么不同的逻辑方法可以用来制作类似的东西吗？或者是否可以将像我的代码这样的数组转换为字符串？对不起我的英语，英语不是我的母语。我将不胜感激任何帮助，并在此之前感谢..

我使用来自 npinti 的代码，它的工作。

```
static String ular(String u[][]){
        StringBuilder code2 = new StringBuilder();

        for(int i=0; i<u.length; i++){
            if(i%2==0){
                for(int j=0; j<u[i].length; j++){
                    String asli = u[i][j];
                    System.out.print(asli+"");
                    code2.append(asli);
                    //System.out.print(asli+"");

                }
            }else
                for(int j=u[i].length-1; j>=0; j--){
                    String asli = u[i][j];
                    System.out.print(asli+"");
                    code2.append(asli);
                    //System.out.print(asli+"");

                }
            }
        return code2.toString();

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:16:39.880

不是打印结果，而是返回它；

```
static String snake(String u[][]) {
    StringBuilder builder = new StringBuilder();
    for (int i = 0; i < u.length; i++) {
        if (i % 2 == 0) {
            for(int j = 0; j < u[i].length; j++) {
                String asli = u[i][j];
                builder.append(asli);
            }
        }
        else
            for (int j = u[i].length - 1; j >= 0; j--) {
                String asli = u[i][j];
                builder.append(asli);
            }
        }
    }
    return builder.toString();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:17:11.710

您可以做的是将您的方法以 a或 some`return`的形式打印出来。`String``Collection`

例如，您可以这样做：

```
static String snake(String u[][]){
    StringBuilder sb = new StringBuilder();
    for(int i=0; i<u.length; i++){
        if(i%2==0){
            for(int j=0; j<u[i].length; j++){
                String asli = u[i][j];
                System.out.print(asli+"");
                sb.append(asli + ",");
            }
        }else
            for(int j=u[i].length-1; j>=0; j--){
                String asli = u[i][j];
                System.out.print(asli+"");
                sb.append(asli + ",");
            }
        }
        return sb.toString();
    } 
```

这应该返回一个逗号分隔`String`，您可以稍后在程序中使用它，如下所示：

```
String[][] u = ...
String result = snake(u); 
```

编辑：这是您可以使用的另一种方法：

```
static List<String> snake(String u[][]){
    List<String> list = new ArrayList<String>();
    for(int i=0; i<u.length; i++){
        if(i%2==0){
            for(int j=0; j<u[i].length; j++){
                String asli = u[i][j];
                System.out.print(asli+"");
                list.add(asli);
            }
        }else
            for(int j=u[i].length-1; j>=0; j--){
                String asli = u[i][j];
                System.out.print(asli+"");
                list.add(asli);
            }
        }
        return list;
    } 
```

你这样称呼它：

```
String[][] u = ...
List<String> moves = snake(u); 
```

# ruby - 无法打开 Excel 文件

> ID：15426690
> 
> 赞同：-2
> 
> 时间：2013-03-15T07:10:46.657
> 
> 标签：ruby, excel

我试过使用：

```
require 'watir-webdriver'

require 'win32ole'

xl = WIN32OLE.new('excel.application')

wrkbook= xl.Workbooks.Open("C:\\Excel\\workbook1.xls")

wrksheet = wrkbook.Worksheets(2)

wrksheet.Visible=1 
```

并且也尝试过

```
wrksheet.Visible=True 
```

脚本执行没有错误，但它没有打开 Excel 文件。我会很感激任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T09:03:34.790

如果您需要从 Excel 中获取数据，请使用像[roo](http://rubygems.org/gems/roo)这样的 gem 。

# java - JUnit 测试调试在 IntelliJ IDEA 中挂起

> ID：15426693
> 
> 赞同：3
> 
> 时间：2013-03-15T07:11:05.153
> 
> 标签：java, spring, hibernate, junit, intellij-idea

在调试测试代码期间，它挂在初始化阶段。日志中的最新消息是（在调试挂起之前）：

`2013-03-15 13:03:09:215 INFO [ : ] [main:o.h.d.Dialect] Using dialect: my.company.package.util.hibernate.HSQLDialect`

请考虑以下似乎会影响调试的因素：

*   测试运行`@RunWith(SpringJUnit4ClassRunner.class)`
*   在 IntelliJ IDEA 12.0.4 上测试运行
*   当测试在没有调试的情况下运行时，它们可以正常工作

如何调试代码？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-15T07:21:45.043

确保您没有在方法签名而不是常规代码行上放置断点。您也可以通过红色圆圈内的 4 个黑点来识别此类断点。它们大大减慢了调试速度。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-03-14T18:40:07.917

尝试删除所有断点并重新启动调试。按 Command+Shift+F8，然后按 Command+A 并按 Del。如果是 Mac。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:15:38.013

您很可能需要为测试提供更多 PermGen 空间。

尝试在该测试的配置中使用它：

```
-XX:MaxPermSize=300m 
```

如果您的测试不是非常庞大（也不应该如此），那么这应该绰绰有余。

# android - 删除 TableLayout 中 TableRow 之间的任意间隙

> ID：15426694
> 
> 赞同：1
> 
> 时间：2013-03-15T07:11:10.253
> 
> 标签：android, android-layout, android-tablelayout

我正在使用 TableLayout 打印九张图片。出于某种原因，如下图所示，我在行之间出现了很大的差距。我将背景设置为绿色，以便容易看到间隙。我的 TableLayout 是以编程方式创建的。我该如何解决这个问题，使行之间的差距不是那么大？

我已经试过了`tableRowParams.setMargins(0,0,0,0)`。

顺便说一句：不，我不想使用 ListView 等。

我一直在搞乱代码来解决这个问题。以下是代码的当前状态：

编辑：正确的图像：

![在此处输入图像描述](../Images/2510023cbaa30685a186fd776f2d324a.png)

编辑：代码现在可以正常工作（感谢@Guian）：

```
public class FacialExpressionImagesTable extends TableLayout {

    public FacialExpressionImagesTable(Context context, List<Bitmap> imageList, int sideDimension, int tableWidth, int tableHeight) {
        super(context);
        setLayoutParams(new TableLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));

        setBackgroundColor(Color.BLUE);
        setContent(imageList, context, sideDimension);

    }

    private void setContent(List<Bitmap> imageList, Context context, final int sideDimension) {
        final int iHeight = imageList.get(0).getHeight();
        final int iWidth = imageList.get(0).getWidth();
        int ndx = 0;

        for (int r = 0; r < sideDimension; r++) {
            TableRow tableRow = new TableRow(context);
            TableLayout.LayoutParams forRow = new TableLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
            tableRow.setLayoutParams(forRow);
            tableRow.setBackgroundColor(Color.RED);
            TableRow.LayoutParams elementLayout = new TableRow.LayoutParams(iWidth, LayoutParams.WRAP_CONTENT, 1);
            tableRow.requestLayout();
            for (int c = 0; c < sideDimension; c++) {
                    ImageView element = new ImageView(context);
                    element.setLayoutParams(elementLayout);

                    element.setAdjustViewBounds(true);
                    element.setPadding(0, 0, 3, 3);
                    element.setBackgroundColor(Color.GREEN);
                    element.setScaleType(ImageView.ScaleType.CENTER_INSIDE);
                    element.setImageBitmap(imageList.get(ndx++));
                    element.requestLayout();
                    tableRow.addView(element);

            }
            addView(tableRow);
        }

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:33:02.100

还尝试将填充设置为，`0`以便表格的每一行内没有填充

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-17T15:22:33.973

首先：请注意，您在以下位置交换宽度和高度：

```
new TableRow.LayoutParams(iHeight, iWidth); 
```

但无论如何，你不能给你的表项提供位图的**getHeight**和**getWidth**的大小，因为它们将被调整大小（取决于屏幕大小、屏幕密度等......你必须根据密度计算新大小.. . )

在这里我认为他们减少了。这就是为什么行的高度太大。

设置您的布局参数，以便元素采用`wrap_content`高度和 0dip，`layout_weight`宽度为 1；

> TableRow.LayoutParams elementLayout = new TableRow.LayoutParams(0, LayoutParams.WRAP_CONTENT, 1 );

然后表格行将包装内容作为高度：

```
TableLayout.LayoutParams forRow = new TableLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT); 
```

如果图像未按需要缩放，您可能需要为您的`ImageViews`: ( 使用[setScaleType](http://developer.android.com/reference/android/widget/ImageView.html#setScaleType%28android.widget.ImageView.ScaleType%29) )设置缩放类型

> elementLayout.setScaleType(ScaleType.CENTER_INSIDE); // 或 FIT_CENTER... 不太确定

应该不错，有没有就说吧。

希望有帮助。

# c++ - 将文本从子 GUI 进程发送到控制台父进程的最简单方法是什么？

> ID：15426698
> 
> 赞同：2
> 
> 时间：2013-03-15T07:11:33.417
> 
> 标签：c++, windows, winapi, console-application

我使用 C++ 编写了两个进程。一种是我的控制台应用程序使用`CreateProcess`API 调用的 GUI 进程。我需要将文本从 GUI 应用程序（子级）传递到控制台应用程序（父级）。文本的数量可以是任意的——从几行到 KB 的文本。

最简单的方法是什么？

PS。我可以访问这两个进程的源代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:27:40.010

控制台应用程序可以创建一个 WinAPI 窗口（不可见），以便它可以接收消息（取自 Delphi 中的 AllocateHWND 函数的想法）。

另一种解决方案是使用命名管道。

另一种解决方案是通过 TCP/IP 在本地发送数据。

如果这些字符串只是调试字符串，请考虑使用 WinAPI 中的 OutputDebugString 函数并使用 SysInternals 的[DbgView](http://technet.microsoft.com/en-us/sysinternals/bb896647.aspx)之类的程序捕获它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:18:54.603

最简单的方法可能是让孩子实际上是一个控制台应用程序，即使它也创建了窗口。

在这种情况下，您可以让您的父母使用 产生孩子`_popen`，而孩子可以将输出写入其正常`stdout`/ `std::cout`。`_popen`返回 a `FILE *`，因此父级可以像通常读取文件一样读取子级的输出（好吧，通常对于 C 来说）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T09:22:13.383

如果 GUI 应用程序真正只是图形化的，那么您就不会真正使用标准输出流（即`std::cout`）。这可以重复用于输出到您的控制台应用程序。

首先，您需要使用以下命令创建一个匿名管道[`CreatePipe`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365152%28v=vs.85%29.aspx)：

```
HANDLE hPipeRead;
HANDLE hPipeWrite;

CreatePipe(&hPipeRead, &hPipeWrite, NULL, 0); 
```

现在您必须处理可以用作普通文件句柄的句柄；一个用于读取，另一个用于写入。写句柄应设置为您创建的新进程的标准输出：

```
STARTUPINFO startupInfo = { 0 };
startupInfo.cb = sizeof(startupInfo);
startupInfo.dwFlags = STARTF_USESTDHANDLES;
startupInfo.hStdOutput = hPipeWrite;  // Standard output of the new process
                                      // is set to the write end of the pipe

CreateProcess(
    lpApplicationName,
    lpCommandLine,
    NULL,
    NULL,
    FALSE,
    0,
    NULL,
    NULL,
    &startupInfo,  // Use our startup information
    &processInfo); 
```

现在每当子进程需要写入父进程时，它只需要使用标准输出：

```
std::cout << "In child process, are you getting this parent?"; 
```

父级用于[`ReadFile`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365467%28v=vs.85%29.aspx)从管道的读取端读取：

```
char buffer[256];
DWORD bytesRead = 0;

ReadFile(hPipeRead, buffer, sizeof(buffer), &bytesRead, NULL); 
```

**注意：**我有一段时间没有做过WIN32编程，所以可能有些细节有误。但希望足以让你开始。

* * *

[进程间通信（IPC）](http://en.wikipedia.org/wiki/Inter-process_communication)当然还有很多其他方式，包括（但不限于）套接字、文件、共享内存等。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-15T09:54:11.913

可以使用各种方法，其中一些已在上面给出。哪个最简单取决于您的任务。
我还可以建议您在 IPC 中广泛使用的文件**映射技术**，例如。dll 是使用文件映射实现的。
它允许**多个进程同时共享相同的资源**，访问是随机的而不是必然的。
**以下是实现的主要步骤：**

**1.**进程A创建文件；
**2.**进程A为文件创建一个命名系统对象mappedfile（mappedfile分配内存）；
**3.**进程 A 创建一个系统对象 viewOfMapped 文件（这允许将进程 A 的某些区域映射到由 mappedFile 分配的主内存中的页面）；
**4.**进程B创建命名系统对象mappedfile（名称应该与进程A使用的相似），viewOfMapped文件；
**5.**通过viewOfMapped进程返回的指针可以共享相同的内存。示例：
**过程 A：**

```
/* 1\. file creation */
    hFile = CreateFile(0, GENERIC_READ | GENERIC_WRITE,FILE_SHARE_READ | FILE_SHARE_WRITE,  CREATE_ALWAYS,  FILE_ATTRIBUTE_NORMAL,  
    NULL); 

/* 2\. Create file mapping */
    wchar_t lpName[] = L"fileMappingObject0";
    HANDLE hfileMappingObject;
    hfileMappingObject = CreateFileMapping(hFile, NULL, PAGE_READWRITE, 0, 1024, lpName);

/* 3\. Create MappedFileViewOfFile */
    void* p = (MapViewOfFile(hfileMappingObject, FILE_MAP_ALL_ACCESS, 0, 0, 0)); 
```

**过程乙：**

```
/* 2\. Create file mapping */
        wchar_t lpName[] = L"fileMappingObject0";
        HANDLE hfileMappingObject;
        hfileMappingObject = CreateFileMapping(hFile, NULL, PAGE_READWRITE, 0, 1024, lpName);

    /* 3\. Create MappedFileViewOfFile */
        void* p = (MapViewOfFile(hfileMappingObject, FILE_MAP_ALL_ACCESS, 0, 0, 0)); 
```

这种方法比较简单，也很强大。

# jquery - 需要在节点中使用jquery

> ID：15426699
> 
> 赞同：1
> 
> 时间：2013-03-15T07:11:38.673
> 
> 标签：jquery, node.js, express

我在 Windows 上有一个节点，mongodb 设置，并且正在开发 web 应用程序。在 server.js 文件中，我有一个这样的发布路线：

```
var http=require('http');
app.post("/leadAPI/ed",function(request,response){

var data={firstname:request.body.firstname,lastname:request.body.lastname,email:request.body.email,areaOfInterest:request.body.areaOfInterest,highestEducation:request.body.highestEducation,daytimePhone:request.body.daytimePhone,eveningPhone:request.body.eveningPhone,addressOne:request.body.addressOne,addressTwo:request.body.addressTwo,city:request.body.city,state:request.body.state,zip:request.body.zip,country:request.body.country};

edDoc=new edModel(data);
edDoc.save();

var options={
hostname:'www.someRemoteUrl.com',
port:80,
path:'/some/path/on/that/url?'+$.param(data),
method:'POST'
};

var req=http.request(options,function(res){
console.log(res);
});

}); 
```

这不起作用，因为 $(param) 不会在没有 npming jquery 的情况下在节点中运行。问题是在 Windows 上为节点安装 jquery 包没有正确安装。还有其他方法吗？我需要以一种干净的方式从该对象中构建一个查询字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T10:37:57.490

构造查询字符串的方法要简单得多。如果这就是你想要做的，你真的不应该为它安装 jQuery，即使你可以。尝试查询字符串 npm 包。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T10:34:14.567

如果你必须在 node 中使用 jquery，那么看看[cheerio](https://npmjs.org/package/cheerio)。它是专为服务器设计的核心 jQuery 的小巧、快速和优雅的实现。

# ruby-on-rails-3.2 - 在自定义初始化程序中使用模块时未初始化的常量

> ID：15426705
> 
> 赞同：4
> 
> 时间：2013-03-15T07:12:13.060
> 
> 标签：ruby-on-rails-3.2, initialization

我正在开发 Rails (3.2) 应用程序，我需要在应用程序启动时执行一些任务。

因为我想将逻辑保存在一个单独的文件中，所以我还创建了看起来像的 lib/helinium.rb（使用虚拟运行方法）

```
class Helinium
  def self.run
    puts "running ...."
  end
end 
```

我创建了一个简单的初始化文件 config/initializers/perform_checks.rb

```
Helinium.run 
```

一切似乎都很好。现在我希望将 Helinium 类放在一个模块中，这样两个文件分别看起来像

```
module Elemens
  class Helinium
      def self.run
        puts "running ...."
      end
  end
end 
```

和

```
Elemens::Helinium.run 
```

但是当我尝试启动应用程序时，我得到了

**未初始化的常量元素 (NameError)**

我在这里错过了什么吗？为什么找不到模块？

感谢，并有一个愉快的一天。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-15T07:28:58.200

## 解释

这与自动加载在 Rails 中的工作方式有关。

Rails 不会自动要求 /lib 下的所有内容。只有当您尝试使用与 lib 中的文件名匹配的新类名时，它才会自动加载。

您可以查看此帖子以获取更多信息：
[https ://stackoverflow.com/a/9819938/1188913](https://stackoverflow.com/a/9819938/1188913)

## 使固定

要解决您的问题，您可以

```
require 'lib/helinium' 
```

或者

将类放入一个名为的文件夹中`lib\elemens`

# sql - 加入这些表

> ID：15426707
> 
> 赞同：0
> 
> 时间：2013-03-15T07:12:20.607
> 
> 标签：sql, sql-server, sql-server-2008, join

我有3个表如下：

```
Table Name :
------------
UserList            

Column Name
-------------
DealerID        DealerUserID

AAA             111
AAA             222
AAA             333
BBB             111
BBB             444
CCC             111
CCC             555 
```

--

```
Table Name :
------------
UserInfo        

Coulmns
--------
DealerUserID    Name    
111             John        
222             James
333             Dany
444             Daniel
555             Romie 
```

--

```
Table Name :
------------
CarPermitted    

Coulmns
--------
DealerID        DealerUserID

AAA             111
AAA             222
BBB             111
CCC             111 
```

我想要如下查询的**结果，该查询将输入为：**

对于经销商 ID = AAA

```
Name    DealerUserID    AllowedStatus

John    111         true
James   222         true
Dany    333         false 
```

我已经尝试了许多如下连接，但无法获得我想要的结果。任何建议我怎么能得到它。

AllowedStatus 是我需要获取的值：

如果表 UserList 中的 DealerID 和 DealerUserID 的组合存在于 CarPermitted///rest 中，则为 false..

注意：它将显示属于一个经销商的所有dealeruserId

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:28:17.830

给你，你不显示你的查询，所以我可以说你怎么错了

从评论中，如果记录存在于允许的表中，则来自允许状态。

```
SELECT UF.Name, UF.DealerUserID, 
       CASE P.DealerID IS NULL THEN 'false' ELSE 'true' END AS AllowedStatus
FROM UserList UL
JOIN UserInfo UF ON UL.DealerUserID = UF.DealerUserID
LEFT JOIN CarPermitted P ON UL.DealerUserID = P.DealerUserID AND UL.DealerID = P.DealerID
WHERE UL.DealerID = 'AAA' 
```

# android - 是否可以将多边形批量添加到 GoogleMap View (APIv2)

> ID：15426709
> 
> 赞同：0
> 
> 时间：2013-03-15T07:12:32.180
> 
> 标签：android, google-maps, drag-and-drop, touch, google-maps-android-api-2

我在 Android 4.0+ 的 Google MapView (API v2) 上绘制了一堆 (50-500) 多边形，并尝试通过触摸事件修改它们。我通过 dispatchTouchEvent() 捕获的触摸事件，它正在工作，只是非常缓慢。性能已经够糟糕了，以至于它“感觉”不到它在工作。

我相信问题在于我必须遍历一组多边形，一次将它们添加到地图中，因此地图会随每个多边形重新绘制。

浏览文档我看不到一次添加多个多边形的方法，但也许我遗漏了一些东西。任何帮助，将不胜感激。

我的 dispatchTouchEvent 看起来像这样：

```
@Override
public boolean dispatchTouchEvent(MotionEvent ev) {
    if(mInDrag||mInRotate||mInAB){
        if (ev.getAction()==MotionEvent.ACTION_DOWN){
            mStartPt = mMap.getProjection().fromScreenLocation(new Point((int)ev.getX(), (int)ev.getY()));
            mLastDragTime=System.currentTimeMillis();
        } else if (ev.getAction()==MotionEvent.ACTION_MOVE){                
            LatLng endPt = mMap.getProjection().fromScreenLocation(new Point((int)ev.getX(), (int)ev.getY()));
            long iterationTime = System.currentTimeMillis()-mLastDragTime;
            //checking iterationtime so grid doesn't move after the user stops dragging
            if ((!mStartPt.equals(endPt))&&iterationTime<300) {
                LatLng delta = new LatLng(mStartPt.latitude-endPt.latitude, mStartPt.longitude-endPt.longitude);
                mLastDragTime=System.currentTimeMillis();
                if (mInDrag) {
                    //setup calcs
                } else if (mInAB){
                    //setup calcs
                } else if (mInRotate){
                    //setup calcs
                }
                clearTempGrid(); //clears the grid including erasing the existing polygons on the map.
                int gridType = gridTypeSpin.getSelectedItemPosition();
                for (PolygonOptions newPolygon : myPolygonGrid.modify(A, B)) {
                    //I run into problems here. Even 150 polygons slows it down
                    Polygon myPolygon = mMap.addPolygon(newPolygon);
                    tempPolygons.add(myPolygon);
                }
            }
        }
    }
    return super.dispatchTouchEvent(ev);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T18:20:50.860

您确定要在拖动时修改所有多边形吗？

一次添加多边形而不清除并在每次收到触摸事件时重新创建它们。

用 . 修改它们（全部？）`Polygon.setPoints(...)`。

# java - MySQL blob 到 Netbeans JLabel

> ID：15426714
> 
> 赞同：0
> 
> 时间：2013-03-15T07:12:54.530
> 
> 标签：java, swing, netbeans, blob, jlabel

我的 MySQL 中有一个 blob 类型字段，我想将此字段中的数据`JLabel`作为图标放入。例如，这`JLabel`将是我表单中用户的个人资料图片。

我使用了这些代码，但没有任何反应，而且我想`fix to width`或修复我的 jlabel 中的任何图像大小

```
DefaultTableModel pic = MyDB.DataTable("SELECT `Picture` FROM `photo` WHERE `Employee ID` = 'EQ0103'");
     if (pic.getRowCount() > 0){
         Blob blob = pic.getBlob(1);
         byte[] image1 = blob.getBytes(1, ALLBITS);
         ImageIcon image = new ImageIcon(image1);
         picture.setIcon(image);
         getContentPane().add(picture);
         setVisible(true);
     } 
```

`picture`是我的 jlabel 的名字

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-24T14:29:18.780

**首先：从您的数据库返回输入流：**

```
String query = "SELECT `Picture` FROM `photo` WHERE `Employee ID` = 'EQ0103'";
stmt = (PreparedStatement) con.prepareStatement(query);
ResultSet result = stmt.executeQuery(); 
```

**从数据库返回的图像**

```
BufferedImage im = ImageIO.read(result.getBinaryStream(1)); 
```

**然后对此图像进行调整：**

```
im =linearResizeBi(im, /*width*/, /*height*/); 
```

**linearResizeBi**方法：

```
static public BufferedImage linearResizeBi(BufferedImage origin, int width, int height) {
        BufferedImage resizedImage = new BufferedImage(width, height ,BufferedImage.TYPE_INT_RGB);
        Graphics2D g = resizedImage.createGraphics();
        float xScale = (float)width / origin.getWidth();
        float yScale = (float)height / origin.getHeight();
        AffineTransform at = AffineTransform.getScaleInstance(xScale,yScale);
        g.drawRenderedImage(origin,at);
        g.dispose();
        return resizedImage;
    } 
```

**然后使图像是一个图标：**

`ImageIcon image1 = new ImageIcon(im);`

**然后将图标添加到 Jlabel ：**

```
picture.setIcon(image);
getContentPane().add(picture);
setVisible(true); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T04:20:48.800

使用[结果集](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html)

```
 Statement stmt = con.createStatement();
 ResultSet rs = stmt.executeQuery("SELECT `Picture` FROM `photo` WHERE `Employee ID` = 'EQ0103'"); 
```

你可以从

```
Blob blob = rs.getBlob(1); 
```

换成另一种选择

```
InputStream binaryStream = rs.getBinaryStream(1); 
```

您可以在此处参考从博客获取图像的官方指南 [http://docs.oracle.com/javase/1.5.0/docs/guide/jdbc/blob.html](http://docs.oracle.com/javase/1.5.0/docs/guide/jdbc/blob.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T07:28:26.037

我的文件名应该是这样的

```
 txtPicPath.setText(file.getAbsoluteFile().toString()); 
```

我使用了这些代码，它也适合 jlabel 大小

```
 ResultSet rst = MyDB.rsFetch("SELECT `Picture` FROM `photo` WHERE `Employee ID` = '"+ Data.User.getText()+"'");
         while (rst.next()) {
         Blob filenameBlob = rst.getBlob("Picture");
         byte[] content = filenameBlob.getBytes(1L,(int)filenameBlob.length());
         ImageIcon ik = new ImageIcon(content);
         Image img = ik.getImage();
         Image newimg = img.getScaledInstance(Data.picture.getWidth(), Data.picture.getHeight(), java.awt.Image.SCALE_SMOOTH);
         ik = new ImageIcon(newimg);
         Data.picture.setIcon(ik);
         } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T15:23:38.907

Blob 有一个 getBinaryStream()，它返回一个字节流，其中包含存储在 Blob 中的数据。

实现 Icon 的 ImageIcon 有一个以字节数组作为参数的构造函数。

JLabel 有一个 setIcon(Icon) 方法。

```
label.setIcon(new ImageIcon(ByteStreams.toByteArray(blob.getBinaryStream()))); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-21T11:19:47.323

尝试：

```
picture.setIcon(new ImageIcon(ByteStreams.toByteArray(blob.getBinaryStream()))); 
```

# android - 在 Android 中解密消息

> ID：15426718
> 
> 赞同：-2
> 
> 时间：2013-03-15T07:13:13.737
> 
> 标签：android, message, encryption

我正在一个需要实现对话解密的应用程序中工作。对话是使用 MD5 算法加密的。我对此没有任何想法。

任何人都可以帮助我。提前谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:41:10.927

[在这里](http://www.androidsnippets.com/encryptdecrypt-strings)，您可以看到一个使用 AES128 算法的简单加密/解密程序。如果您搜索，您可以找到很多这样的[答案](https://stackoverflow.com/a/6788456/931982)。

对于 md5，您可以使用[java.security.MessageDigestSpi](http://docs.oracle.com/javase/6/docs/api/java/security/MessageDigest.html)类。您可以检查任何这些示例。我没有尝试这些示例，因此您需要验证:)

[链接](http://www.mkyong.com/java/java-md5-hashing-example/)1 ，[链接](http://www.spiration.co.uk/post/1199/Java-md5-example-with-MessageDigest)2 ，[链接3](http://viralpatel.net/blogs/java-md5-hashing-salting-password/)

但首先要研究加密算法，散列以学习基础知识

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:17:25.247

首先，您必须知道究竟使用了*什么*加密。

[Android 的Cipher 类](http://developer.android.com/reference/javax/crypto/Cipher.html)中实现了一系列加密算法。如果它不在那里，您将不得不找到第三方实施或推出自己的实施。

# java - 如何表示 Joda 时间中的任何“持续时间”或“周期”？

> ID：15426725
> 
> 赞同：0
> 
> 时间：2013-03-15T07:13:40.013
> 
> 标签：java, jodatime

我想将 24 小时表示为“持续时间”。也就是说，它应该**只从 00:00:00 到 24:00:00**。像今天凌晨 12 点到明天凌晨 12 点这样的事情是不行的。这也是 24 小时，但这不是我想要的。此外，此“持续时间”不应附加日期或日期的概念。

我如何使用 Joda Time 做到这一点？

**编辑 -**

用例 - ' 我想创建一个调度程序。24 小时“周期”被分成任意大小的片段，例如 20 分钟、30 分钟或 1 小时。我只想使用 Joda 来创建一个 24 小时的“时间段”和该时间段的切片“。我知道 joda 不能做任何调度。

例如。

1小时切片 -

```
00:00:00 - 01:00:00
01:00:00 - 02:00:00
all the way up to -
23:00:00 - 24:00:00 
```

日程 -

```
00:00:00 - 07:00:00 - sleep
07:00:00 - 08:00:00 - get ready for work
08:00:00 - 09:00:00 - drive to work
09:00:00 - 17:00:00 - work
etc... 
```

这是工作日的时间表。周末是为了放松。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:16:28.560

有这个诱人的[`Period`课程](http://joda-time.sourceforge.net/apidocs/org/joda/time/Period.html)......只是不要在上面设置日期字段，只有时间字段。

或者有[`LocalTime`](http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalTime.html)，它代表一天中的某个时间。

* * *

根据您的编辑，这听起来像是`LocalTime`加号的组合，表示插槽的长度（以分钟或任何对您有意义的单位）。因此，您可能有一个`ScheduleEntry`类，其中包含`LocalTime`计划条目何时开始的成员，以及`int`它持续多长时间。

# c# - 调用线程无法访问该对象

> ID：15426727
> 
> 赞同：0
> 
> 时间：2013-03-15T07:14:06.423
> 
> 标签：c#, wpf, multithreading

在我的 wpf 应用程序中，我在按钮单击中添加了一段代码，如下所示：

```
 private void btn_convert_Click(object sender, RoutedEventArgs e)
 {
    Thread t = new Thread(new ThreadStart(WorkerMethod));
    t.SetApartmentState(ApartmentState.MTA);
    t.IsBackground = true;
    t.Start();
 } 
```

在我的`WorkerMethod()`方法中，我有一些代码，如下行：

```
btn_convert.Content = "Convert"; 
```

当它到达这一行时，它会抛出异常，因为调用线程无法访问该对象，因为另一个线程拥有它。

我不想使用 Dispatcher，因为它会冻结 UI。UI 应该是响应式的，所以我没有选择 Dispatcher 调用或 BeginInvoke。

请给我您宝贵的建议。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-15T07:19:25.513

> 我不想使用 Dispatcher，因为它会冻结 UI。UI 应该是响应式的，所以我没有选择 Dispatcher 调用或 BrginInvoke。

这只是表明您对调度程序的使用不当。

您*必须*从 UI 线程访问 UI。这并不意味着你的整个`WorkerMethod`需要在 UI 线程上运行，但这一行：

```
btn_convert.Content = "Convert"; 
```

绝对可以。因此，您可能希望保留当前用于启动线程的代码（您是否真的需要设置单元状态），但更改任何访问 UI 的代码以使用调度程序。例如：

```
Action setButtonContentAction = () => btn_convert.Content = "Convert";
Dispatcher.BeginInvoke(setButtonContentAction); 
```

或者，根据您`WorkerThread`在做什么——以及如果您使用的是 C# 5——您*可能*想要使用新的异步功能。这可以使 UI 在 UI 线程上工作变得更容易，但这确实取决于其他情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:20:36.080

UI 更改只能由主线程应用。您可以检查是否需要主线程调用：

```
if (btn_convert.InvokeRequired)
{
  btn_convert.Invoke((MethodInvoker)(() => btn_convert.Content = "Convert"));
} 
```

# java - 如何使用 Hibernate 注释标记外键约束？

> ID：15426736
> 
> 赞同：81
> 
> 时间：2013-03-15T07:14:27.623
> 
> 标签：java, hibernate, hibernate-mapping, hibernate-annotations

我正在尝试使用 Hibernate 注释为我的数据库表编写模型类。

我有两个表，每个表都有一个主键用户和问题。

```
@Entity
@Table(name="USER")
public class User
{
    @Id
    @Column(name="user_id")
    @GeneratedValue(strategy=GenerationType.AUTO)
    private Long id;

    @Column(name="username")
    private String username;

    // Getter and setter
} 
```

问题表。

```
@Entity
@Table(name="QUESTION")
public class Questions extends BaseEntity{

    @Id
    @Column(name="question_id")
    @GeneratedValue(strategy=GenerationType.AUTO)
    private int id;

    @Column(name="question_text")
    private String question_text;

    // Getter and setter
} 
```

我还有一个表 UserAnswer，它具有 userId 和 questionId 作为上述两个表的外键。

但我无法找到如何在 UserAnswer 表中引用这些约束。

```
@Entity
@Table(name="UserAnswer ")
public class UserAnswer
{
    @Column(name="user_id")
    private User user;

    //@ManyToMany
    @Column(name="question_id")
    private Questions questions ;

    @Column(name="response")
    private String response;

    // Getter and setter
} 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2013-03-15T07:31:36.203

`@Column`不是适当的注释。您不想将整个用户或问题存储在列中。您想要在实体之间创建关联。首先重命名`Questions`为`Question`，因为一个实例代表一个问题，而不是多个问题。然后创建关联：

```
@Entity
@Table(name = "UserAnswer")
public class UserAnswer {

    // this entity needs an ID:
    @Id
    @Column(name="useranswer_id")
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;

    @ManyToOne
    @JoinColumn(name = "user_id")
    private User user;

    @ManyToOne
    @JoinColumn(name = "question_id")
    private Question question;

    @Column(name = "response")
    private String response;

    //getter and setter 
} 
```

[Hibernate 文档](http://docs.jboss.org/hibernate/core/4.2/manual/en-US/html_single)对此进行了解释。阅读。并阅读注释的javadoc。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2018-09-16T17:16:08.047

有很多答案，而且都是正确的。但不幸的是，他们都没有一个明确的解释。

以下也适用于非主键映射。

假设我们有父表 A 的第 1 列和另一个表 B 的第 2 列引用第 1 列：

```
@ManyToOne
@JoinColumn(name = "TableBColumn", referencedColumnName = "TableAColumn")
private TableA session_UserName; 
```

[![在此处输入图像描述](../Images/082613b61634fc1805bd7cf56f8c8938.png)](https://i.stack.imgur.com/JqaVl.png)

```
@ManyToOne
@JoinColumn(name = "bok_aut_id", referencedColumnName = "aut_id")
private Author bok_aut_id; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-02-05T12:06:45.933

`@JoinColumn(name="reference_column_name")`可以在从其他实体引用的类的属性或字段上方使用注释。

# sip - SIP 上的媒体格式？

> ID：15426744
> 
> 赞同：0
> 
> 时间：2013-03-15T07:15:10.353
> 
> 标签：sip, rtp

我是新手，需要你的帮助。我有一个如下所示的 SIP 标头，这对我来说很奇怪@@ 请告诉我这是哪种媒体及其属性。谢谢你。（对不起，因为我不擅长英语：（）

```
b=AS:512
t=0 0
m=audio 49198 RTP/AVP 115 102 9 15 0 8 s18 106 99 101
a=rtpmap:115 G7221/32000
a=fmtp:115 bitratg=48000
a=rtpmap:102 G7221/16000
a=fmtp:102 bitrate=32000
a=rtpmap:9 G722/8000
a=rtpmap:15 G728/8000
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:18 G729/8000
a=fmtp:18 annexb=no
a=rtpmap:106 SIREN22/48000
a=fmtp:106 bitrate=64000
a=rtpmap:99 SIREN14/16000
a=fmtp:99 bitrate=48000
a=rtpmap:101 telephone-event/8000
a=fmtp:101 0-15
a=sendrecv
m=video 49200 RTP/AVP 109 110 111 96 34 31
b=TIAS:512000
a=content:main
a=label:1
a=rtpmap:109 H264/90000
a=fmtp:10= profile-level-id=42801f; max-mbps=108000; max-fs=3600; sar=13
a=rtpmap:110 H264/90000
a=fmtp:110 profile-level-id=42801f; packetization-mode=1; max-mbps=108000; max-fs=3600; sar=13
a=rtpmap:111 H264/90000
a=fmtp:111 profile-level-id=64001f; packetization-mode=1; max-mbps=108000; max-fs=3600; sar=13
a=rtpmap:96 H263-1998/90000
a=fmtp:96 CIF=1;QCIF=1;SQCIF=1;J;T
a=rtpmap:34 H263/90000
a=fmtp:34 CIF=1;QCIF=1;SQCIF=1
a=rtpmap:31 H261/90000
a=fmtp:31 CIF=1;QCIF=1
a=sendrecv
VideoMode:9 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T09:39:31.320

看看[https://www.rfc-editor.org/rfc/rfc4566](https://www.rfc-editor.org/rfc/rfc4566) - 它描述了每个领域。`m=...`从定义可用编解码器列表的行开始。然后检查`a=...`它们中的每一个以找出它是什么编解码器 ( `a=rtpmap:`) 以及它使用什么参数 ( `a=fmp:`)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T10:02:03.190

SDP 格式错误，因为

```
m=audio 49198 RTP/AVP 115 102 9 15 0 8 s18 106 99 101
                                       ^^^ - this isn't a number 
```

虽然一行中的格式`m=`仅定义为标记，因为这使用了`RTP/AVP`配置文件，所以这些[必须是有效负载类型编号](https://www.rfc-editor.org/rfc/rfc4566#section-8.2.3)。

# android - 无法访问 Circle 类

> ID：15426748
> 
> 赞同：1
> 
> 时间：2013-03-15T07:15:35.690
> 
> 标签：android, google-maps-api-2

我已经在我的应用程序中成功添加了一张地图，但现在我想使用`Circle`API 类在其上绘制一个圆圈。

当我尝试导入该类时，它没有出现。同时，当我使用与另一个应用程序相同的代码时，它确实出现了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:29:29.470

应该将 GooglePlayServices 库添加到您的项目中。这样您就可以获得 Circle 类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T20:07:11.870

您是否为 Google Play 服务更新了额外的 sdk？[Circle](https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/model/Circle)对象是在第5 版中引入的，所以如果您有第 4 版，您将看不到它。

# javascript - 传递给函数：数组内递增的整数或使用三元运算符或自定义函数设置重置数组

> ID：15426749
> 
> 赞同：2
> 
> 时间：2013-03-15T07:15:36.710
> 
> 标签：javascript, jquery, ternary-operator

我有几个数组（在本例中为 8）保存信息（“图像地址”）：

```
var arr_1   = ["img1.jpg","img2.jpg","img3.jpg"];
var arr_2   = ["dis1.jpg","dis2.jpg","dis3.jpg","dis4.jpg","dis5.jpg","dis6.jpg"];
...
var arr_8   = ["rre.jpg","rre2.jpg","ree222.jpg","s4.jpg"]; 
```

现在我需要将每个数组的值传递给不同的函数，因为我需要为每个数组创建一个计数器，我将一个大小为 8 的整数数组定义为：

```
var indexes = new Array(8);
var counter = 0;
for (counter=0; counter<8; counter++){ 
    indexes[counter]=0;
} 
```

所以每个条目都将包含一个数字，该数字将是一个计数器

```
indexes[0] represents the counter of array_1
indexes[1] represents the counter of array_2
...
indexes[7] represents the counter of array_8 
```

所以要将值传递给一个函数，我正在做类似的事情

```
myfunction("MyID"    , arr_1[indexes[0]++]);
myfunction("MyIDtr"  , arr_2[indexes[1]++]);
myfunction("MyIDfoo" , arr_3[indexes[2]++]);
...
myfunction("MyIDroot", arr_8[indexes[7]++]); 
```

myfunction 接收 id 和一个代表计数器的数字，并告诉相应的数组它应该采用的图像地址。

现在，我该怎么做

```
if(indexes[0] < arr_1.length){
     indexes[0]++
}else
     indexes[0] = 0; 
```

在我的函数调用中？

```
myfunction("MyID"    ,  logic   ); 
```

是否需要创建函数或者可以使用三元运算符来完成？如果是这样，三元表达式的外观如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:22:57.423

不确定我是否完全理解你的问题，但也许这对你有帮助

```
myfunction("MyID"    , arr_1[(indexes[0]++)%arr_1.length]); 
```

% 运算符是模数（除法余数）。它有助于确保数字不会大于 arr_length 您可以像这样检查，例如：

```
0%2 = 0
1%2 = 1
2%2 = 0
3%2 = 1
...
and so on 
```

对于这种情况，这是一个有用的小技巧

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:37:25.903

不是`index[i]`作为参数传递，而是传递`i`：

```
myfunction("MyID",    arr_1, 0);
myfunction("MyIDtr",  arr_2, 1);
myfunction("MyIDfoo", arr_3, 2);
myfunction("MyIDbar", arr_4, 3); 
```

在您的函数内部，访问`index`数组：

```
function myfunction(id, arr, i){
   index[i] = (index[i]+1)%arr.length;
   arr[ index[i] ];
} 
```

一个更简洁的变体是将数组及其索引打包到一个对象中：

```
var images_1 = {
    urls: arr_1,
    index: 0
},
images_2 = {
    urls: arr_2,
    index: 0
}, ... 
```

编写你的函数，让它接受一个`images`参数：

```
function myfunction(id, images){
    images.index = (images.index + 1) % images.urls.length;

    images.urls[images.index] ...
} 
```

最后同样重要的是，如果你真的有 8 个数组，并且`_1`, `_2`, `_3`... 真的是索引，不要使用单独的变量：创建一个数组（或映射）：

```
var images = [];
//you can use integers as keys
images[0] = { urls: [...], index: 0 };
images[1] = { urls: [...], index: 0 };

//or names which have some other meaning in your code
images["MyID"]    = { ... }
images["MyIDtr"]  = { ... }
images["MyIDfoo"] = { ... } 
```

如果需要，将更容易遍历您的结构、访问您的结构 ( `images[this.id]`) 并缩短/扩展它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T08:01:04.393

您可以为每个数组创建迭代器对象，并让这些对象处理索引指针的前进：

```
function InfiniteArrayIterator(arr)
{
  this.arr = arr;
  this.i = 0;
}

InfiniteArrayIterator.prototype.getNext = function()
{
  var current = this.arr[this.i];

  // advance pointer    
  this.i = (this.i + 1) % this.arr.length;

  // and return current element      
  return current;
};

// your array definitions
var arr_1   = ["img1.jpg","img2.jpg","img3.jpg"];
var arr_2   = ["dis1.jpg","dis2.jpg","dis3.jpg","dis4.jpg","dis5.jpg"];

// define an iterator for each
var iterators = [
  new InfiniteArrayIterator(arr_1),
  new InfiniteArrayIterator(arr_2)
]; 
```

然后，您只需将其传递给您的函数：

```
myfunction("MyID"    , iterators[0].getNext());
myfunction("MyIDtr"  , iterators[1].getNext());
// etc. 
```

[**演示**](http://jsbin.com/atagoy/1/)

你甚至可以这样初始化你的数组：

```
var arr_1 = new InfiniteArrayIterator(["img1.jpg", "img2.jpg", "img3.jpg"]); 
```

进而：

```
myfunction("MyID"    , arr_1.getNext()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T07:21:10.110

使用三元运算符

例如。

`indexes[0] = (indexes[0]<arr_1.length)?indexes[0]+1:0;`

# macos - Applescript - 以只读方式打开 Microsoft Word 2011 文档

> ID：15426753
> 
> 赞同：2
> 
> 时间：2013-03-15T07:15:45.517
> 
> 标签：macos, ms-word, applescript

使用 Applescript，我想以只读模式打开 Microsoft Word 文档。

Word Applescript Dictionary 表明我应该能够做到这一点，但它似乎不起作用。使用以下内容，文档以读/写模式打开：

```
tell application "Microsoft Word"
    open file "Macintosh HD:Users:Shared:test.docx" with read only
end tell 
```

我可以使用以下 Visual Basic (VB) 以只读模式打开文档：

```
Sub Test()
    Documents.Open fileName:="Macintosh HD:Users:Shared:test.docx", ReadOnly:=True
End Sub 
```

我只想使用 VB 脚本，但从 Applescript 调用 VB 的功能已在 Word 2011 中删除（“do Visual Basic”不再在字典中。您可以调用预定义的宏，但我认为您不能将变量传递给它，因此宏在我的情况下不起作用）。

有什么建议么？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:04:32.963

使用“打开文件名”，而不仅仅是“打开文件”解决了这个问题。

```
tell application "Microsoft Word"
    open file name "Macintosh HD:Users:Shared:test.doc" with read only
end tell 
```

# php - 我需要在 drupal 7 中创建一个简单的模块来显示“Hello world”

> ID：15426755
> 
> 赞同：-3
> 
> 时间：2013-03-15T07:16:02.007
> 
> 标签：php, content-management-system, drupal-7

我需要在 drupal 7 中创建一个简单的模块来显示“Hello world”，它可以位于不同的区域，如内容、页眉、页脚等，在阅读了几个教程之后，我似乎无法显示任何合适的内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T08:24:40.593

您需要创建一个新块。您可以使用以下钩子来做到这一点：[`hook_block_info`](http://api.drupal.org/api/drupal/modules!block!block.api.php/function/hook_block_info/7)和[`hook_block_view`](http://api.drupal.org/api/drupal/modules!block!block.api.php/function/hook_block_view/7).

创建一个新目录并调用它`hello_world`。创建一个`hello_world.info`和`hello_world.module`文件。

您将以下内容放入`hello_world.info`文件中：

```
name = Hello World
description = Small module which just provides a block.
core = 7.x 
```

并遵循`hello_world.module`：

```
<?php

/**
 * @file
 * Main file of Hello World module.
 */

/**
 * Implements hook_block_info().
 */
function hello_world_block_info() {
  $blocks = array();

  $blocks['hello_world'] = array(
    'info' => t('Hello world'),
  );

  return $blocks;
}

/**
 * Implements hook_block_view().
 */
function hello_world_block_view($delta = '') {
  $block = array();

  if ($delta == 'hello_world') {
    $block['subject'] = t('Hello world');
    $block['content'] = t('This is the block content.');
  }

  return $block;
} 
```

然后将`hello_world`目录放入`sites/all/modules/custom`并启用模块`/admin/modules`。`/admin/structure/block`您将在块概览 ( )中看到一个名为“Hello world”的新块。将其拖动到正确的区域，该块将显示在那里。

# url - Tomcat加密URL中的中文单词，如何取消？

> ID：15426758
> 
> 赞同：1
> 
> 时间：2013-03-15T07:16:18.970
> 
> 标签：url, tomcat, escaping

例如：

> http:// **localhost** :8080/myyouxi/upload/example.jpg

当我下载图片时，它变为：

> http:// **localhost** :8080/myyouxi/upload/%E6%9A%97%E5%A4%9C%E9%AA%91%E5%A3%AB.jpg

然后它指向 HTTP 状态**404** -`/myyouxi/upload/%E6%9A%97%E5%A4%9C%E9%AA%91%E5%A3%AB.jpg`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T09:22:53.933

我认为这是因为您的连接器未配置为使用 UTF-8 对 URI 进行编码。确保`<Connector>`条目中`$CATALINA_HOME/conf/server.xml`的`URIEncoding`属性设置为`UTF-8`，例如：

```
 <Connector protocol="HTTP/1.1" port="8080"
           connectionTimeout="20000" redirectPort="8443" URIEncoding="UTF-8" /> 
```

# ruby-on-rails - 如何运行 rake 任务，不使用 cron

> ID：15426759
> 
> 赞同：0
> 
> 时间：2013-03-15T07:16:21.003
> 
> 标签：ruby-on-rails, ruby

Ruby 1.8.7 我有一个 post.rake 以及如何每天运行 rake 任务？

1.  解决方案在cron中添加一个脚本：

    0 0 * * * /path/script.sh

脚本.sh：

```
#!/bin/bash
source /home/user/.bashrc
cd /path/to/project
export RAILS_ENV=production
bundle exec rake post:crontask -s 
```

可能有其他解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:26:51.477

这不是一个坏方法。有一些流行的 Ruby gem 可以让事情变得更简单。 [无论何时](https://github.com/javan/whenever)和[rufus-scheduler](https://github.com/jmettraux/rufus-scheduler)都很受欢迎。它们还可以与 Ruby 1.8.7 一起使用，这对于大多数替代方案来说不太可能是正确的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:28:01.977

关于什么

```
0 0 * * * cd /path/to/project && env RAILS_ENV=production bundle exec rake post:crontask -s 
```

# floating-point - 仅使用整数运算将 unsigned int 转换为单精度浮点数

> ID：15426767
> 
> 赞同：0
> 
> 时间：2013-03-15T07:16:59.967
> 
> 标签：floating-point

[这个想法是为了做与这个http://www.h-schmidt.net/FloatConverter/IEEE754.html](http://www.h-schmidt.net/FloatConverter/IEEE754.html)几乎相同的事情

例如，如果我插入 357，我应该得到 0x43b28000

```
float unsignedToFloat( unsigned int x ) {
unsigned int result = 0;

return *(float*)&result;
} 
```

但我该怎么做呢？

[使用 c - printf 将 ieee 754 浮点数转换为十六进制](https://stackoverflow.com/questions/2941095/convert-ieee-754-float-to-hex-with-c-printf)

我看到了这个，但似乎没有任何好的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T11:28:06.147

首先，如果`x`为零，则返回零。

接下来找到 中最高阶非零位的索引`x`。调用它`i`。

如果`i`小于 24，则左移`x`以`23 - i`获得归一化的有效数。现在清除位 23 以隐藏隐式位，并将位 23:30 设置为`127 + i`，这是偏置指数。返回结果。

否则，右移`x`以`i - 23`通过截断获得归一化的有效位，并清除隐式位并如上所述设置指数。如果您想要的舍入模式是截断或舍入到负无穷大，那么您就完成了。否则，您将需要查看从`x`. 如果所需的舍入模式是舍入到无穷大并且设置了任何这些位，则将结果加一并返回。最后，如果所需的舍入模式是 round-to-nearest-ties-to-even（IEEE-754 默认），则有以下三种情况：

*   尾随位是`b0...`：返回截断的结果。
*   尾随位是`b1000...`：这是一个确切的中途情况。如果我们调用截断的结果`t`，则需要返回`t + (t&1)`；`t`即只有在奇数时才四舍五入。
*   尾随位是`b1...1...`：将截断的结果加一并返回。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T13:31:26.607

我是这样做的：

## 更新

这个可以正确处理 0、INT_MIN 和舍入，AFAICT：

```
#define SIGN_MASK       (1 << 31)
#define HIDDEN_MASK     (1 << 23)
#define MANTISSA_MASK   (HIDDEN_MASK - 1)

#define INT_MIN 0x80000000
#define INT_MAX 0x7FFFFFFF

float intToFloat(int n)
{
    int sign;
    int exp;
    unsigned int half;

    if (n == 0)
         return 0.0f;

    if (n == INT_MIN)
        return -(float)(INT_MIN);

    sign = n < 0 ? SIGN_MASK : 0;
    if (sign)
        n = -n;

    if (!(n & ~(HIDDEN_MASK | MANTISSA_MASK)))
        for (exp = 0; !(n & HIDDEN_MASK); n <<= 1, exp--) ;
    else
    {
        half = 0;
        for (exp = 0; n & ~(HIDDEN_MASK | MANTISSA_MASK); exp++)
        {
            half >>= 1;
            if (n & 1)
                half |= 0x80000000;
            n >>= 1;
        }
        if (half > INT_MIN || ((half == INT_MIN) && (n & 1) != 0))
        {
            n++;
            if (n == 0x1000000)
            {
                n = 0; // or 0x800000, doesn't matter.
                exp++;
            }
        }

    }

    exp = (exp + 127 + 23) << 23;
    n = (n & MANTISSA_MASK) | sign | exp;

    return *((float *)&n);
} 
```

# javascript - 使用本地 Web 存储 API 和 javascript 存储站点样式

> ID：15426768
> 
> 赞同：1
> 
> 时间：2013-03-15T07:17:01.983
> 
> 标签：javascript, html, local-storage, getelementbyid

我有三个函数可以改变我的页面样式。当我刷新或离开页面并返回时，我需要使用本地存储 api 将这些样式保留在页面上。

这是其中一种样式，例如：

```
function style1(){
    var vP = document.getElementById('video_container');
    var bG = document.getElementsByTagName('body');
    var sidebar = document.getElementById('sidebar');
    var banner = document.getElementById('top_header');
    var body = document.getElementById('body_div');

    vP.style.backgroundColor = ('black');
    bG[0].style.background = "url('images/bg/bg1.jpg') no-repeat center center fixed";
    sidebar.style.display = ('block');  
    banner.style.display = ('block'); 
    body.style.marginTop = ('190px');   
} 
```

这是我写的试图存储所选样式的内容：

```
window.addEventListener('load',initiate);
window.addEventListener('beforeunload',newItem);

function initiate(){
    var f1 = document.getElementById('f1');
    var f2 = document.getElementById('f2');
    var f3 = document.getElementById('f3');

    f1.addEventListener('click',newItem(f1));
    f2.addEventListener('click',newItem(f2));
    f3.addEventListener('click',newItem(f3));

    window.addEventListener('storage', storagechange);
    show(id);
}

function newItem(x){
    var id = getElementById(x);
    var style =  id.getAttribute('onclick');
    localStorage.setItem(id,style);
    show(id);
}
function show(){   
    localStorage.getItem(id);
} 
```

此列表包含 HTML 中的样式：

```
<div id="sideMenu" >
    <ul class="bmenu">
        <li id="f1" onclick="style1()">Style 1</li> <!--turn sidebar on/off-->
        <li id='f2' onclick="style2()">Style 2</li> <!--randomize vidcontain border-->
        <li id='f3' onclick="style3()">Style 3</li>
    </ul>
</div> 
```

# ios - 知道用户下载 iOS 应用是免费还是付费？

> ID：15426769
> 
> 赞同：4
> 
> 时间：2013-03-15T07:17:06.807
> 
> 标签：ios, objective-c, ios5

我正在将已经在应用商店中的 iOS 应用从付费切换为免费。我想知道哪些用户为该应用付费，这样我就可以区别对待他们（比如不向他们展示额外的广告）。据我所知，无法获取用户最初下载的应用程序版本。

我想到的一件事是这个。我可以在应用程序免费的同时发布更新。第一次启动游戏并获得更新的每个人都会被标记为“免费下载”标志。这里的问题是，如果有人为应用程序付费，然后没有启动它，然后更新了他们的应用程序。这意味着即使他们已经付费，我也会将他们视为免费用户。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:37:59.080

如果不发布新应用程序，就无法做到 100% 准确。

如果您确实使用了某种标志，请将标志保存在钥匙串和/或 iCloud 中，以便它有更好的机会在卸载/重新安装以及从设备到设备（如果您使用 iCloud）时保持不变。

不过，您最好的选择可能是发布该应用程序的新精简版。维护两个版本可能会很痛苦，但至少您可以确定谁付费谁没有付费。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-21T11:03:43.337

我使用服务器端脚本在某种程度上完成了这一点。在初始应用程序启动时，我从服务器获取数据以确定这是付费安装还是​​免费安装，然后将此信息保存在 iCloud 中。它工作得比较好，但它确实有一个缺点；查询失败的一小部分时间。如果它失败了，我只是将应用程序设置为付费，以免搞砸任何人。这让我有点不知所措，但为了方便我在想要切换付费/免费时不必更新，我接受了打击。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-15T07:30:05.940

您不能为免费或付费购买应用程序的客户单独显示更新或广告。每当您将付费应用程序更改为免费时，客户现在都可以免费下载该应用程序。

# android - 广播某些用户操作？

> ID：15426776
> 
> 赞同：0
> 
> 时间：2013-03-15T07:17:37.407
> 
> 标签：android, broadcastreceiver

我想知道我是否可以在这上面找到一些东西，比如如果用户改变他的 android 设备上的音量或按下主页按钮两次或三次或任意次数，那么有什么方法可以广播该用户已执行此操作，并调用我的应用程序？这听起来可能很奇怪，模棱两可，但它是一个想法。任何想法，可能性的机会？请建议？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:36:24.983

答案是不。

**原因：**

[在这里，](http://developer.android.com/reference/android/view/KeyEvent.html)您可以看到您可以在 android 中处理的所有可用键码。

现在一种选择是尝试从后台服务中捕获键事件。但很遗憾地说这是不可能的。看[这里](https://stackoverflow.com/a/3455094/931982)。

> KeyEvents 只能由活动处理，因为它们是用户按下键的界面，并且仅当它们位于前台时。即使是在后台运行的服务也不打算对用户输入做出反应。

我不知道这是否在新 api 中有所改变，因为我自己没有这样做，所以你可以搜索一下，但我认为不会有任何解决方案。我认为您只能使用[AudioManager.registerMediaButtonEventReceive获取一些媒体按钮事件接收器来注册组件作为 MEDIA_BUTTON 意图的唯一接收器](http://developer.android.com/reference/android/media/AudioManager.html#registerMediaButtonEventReceiver%28android.content.ComponentName%29)

# project - Qtcreator 中 KDE 的 Hello World

> ID：15426779
> 
> 赞同：0
> 
> 时间：2013-03-15T07:18:00.040
> 
> 标签：project, qt-creator, kde

我刚刚开始为 KDE 编程，我面临的问题是我不知道 KDE 项目的 pro 文件到底应该是什么，但我对 cmake 有一个想法

我也在专业文件中尝试过：

LIBS += -lkdeui

我仍然遇到问题 KApplication not found

代码 main.cpp：

```
 #include <cstdlib>

    #include <KApplication>
    #include <KAboutData>
    #include <KCmdLineArgs>
    #include <KMessageBox>
    #include <KLocale>

    int main (int argc, char *argv[])
    {
        KAboutData aboutData("tutorial1",0,ki18n("Tutorial 1"),"1.0",ki18n("Displays a KMessageBox popup"),KAboutData::License_GPL,ki18n("(c) 2007"),ki18n("Some text..."),"http://example.com/","submit@bugs.kde.org");

        KCmdLineArgs::init( argc, argv, &aboutData );
        KApplication app;
        KGuiItem yesButton( i18n( "Hello" ), QString(),
                            i18n( "This is a tooltip" ),
                            i18n( "This is a WhatsThis help text." ) );
        return
            KMessageBox ::questionYesNo
            (0, i18n( "Hello World" ), i18n( "Hello" ), yesButton )
            == KMessageBox ::Yes? EXIT_SUCCESS: EXIT_FAILURE;
    } 
```

和 tutorial.pro 文件是：

```
 TEMPLATE = app
    CONFIG += console
    CONFIG -= qt
    SOURCES += main.cpp
    LIBS += -lkdeui 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T19:35:17.913

您需要为 kde 库安装开发文件，这些是缺失的。我不知道您使用的是哪个 Linux 发行版（如果有的话），但例如，在 Debian 中，所需的软件包称为[kdelibs5-dev](http://packages.debian.org/squeeze/amd64/kdelibs5-dev/filelist)。

安装软件包后，您可能还需要指定这些开发文件的包含路径。像`INCLUDEPATH += /usr/include/KDE`

# java - 将一个arraylist与另一个进行比较并删除额外的项目java

> ID：15426780
> 
> 赞同：0
> 
> 时间：2013-03-15T07:18:00.077
> 
> 标签：java, arraylist

在这种方法中，我试图将一个数组列表中的所有元素与另一个数组列表中的所有元素进行比较。然后，如果第一个数组列表中的元素不等于第二个数组列表中的任何元素，则删除该元素。比较步骤或删除步骤有问题，但我不确定是哪个。任何帮助将不胜感激。

如果您想澄清，请不要犹豫。

```
public static ArrayList<Integer> compareArrayandList(ArrayList<Integer>compare, ArrayList<Integer>array2) {
    int[] counter = new int[compare.size()];

    for (int x: counter) {
        x = 0;
    }
    for (int i = 0; i < compare.size(); i++) {
        counter[i] = 0;
        for (int number: array2) {
            if (compare.get(i) ==number) {
                counter[i]++;
            }

        }

    }
    for (int i=0; i<counter.length;i++) {
        if (counter[i]==0) {
            compare.remove(new Integer(i));
        }
    }

    return compare;
} 
```

编辑：（由 Memento Mori 提供）您的代码不起作用的原因是，当您删除一个元素时，您的 ArrayList 中的位置正在发生变化。假设您删除了元素 3。现在元素 3 与以前不同。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:31:00.543

```
ListUtils.sum(Arrays.asList(firstarray),Arrays.asList(secondarray)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:31:26.547

你在这里没有做你真正想做的事情。您从比较数组中删除其值为 i 的元素，而不是在第二个 for 循环中找不到的位置 i 处的元素。

```
for (int i=0; i<counter.length;i++) {
    if (counter[i]==0) {
        //compare.remove(new Integer(i));  // problem is here!
        // remove element at index i not element equals to i
        compare.remove(i);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:32:22.553

你不需要你的计数器阵列。如果您使用迭代器，则可以一步进行比较。我相信这应该有效：

```
public static ArrayList<Integer> compareArrayandList(ArrayList<Integer>compare,   ArrayList<Integer>array2) {
    ListIterator<Integer> iter = compare.listIterator(compare.size());
    while (iter.hasPrevious()){
        Integer a = new Integer(iter.previous());
        for (int number: array2) {
            if (a==number) iter.remove();
        }        
     }
return compare;
} 
```

编辑：您的代码不起作用的原因是，当您删除一个元素时，您的 ArrayList 中的位置正在发生变化。假设您删除了元素 3。现在元素 3 与以前不同。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T07:37:48.883

```
public class Test {

    public static ArrayList<Integer> compareArrayandList(ArrayList<Integer>compare, ArrayList<Integer>array2) {
        ArrayList<Integer> a3 = new ArrayList<Integer>();               
        for (Integer a : compare)
        {
            if(array2.contains(a))
                a3.add(a);
        }
            System.out.println(a3);
        return a3;
    }

    public static void main(String[] args) {
        ArrayList<Integer> a1=new ArrayList<Integer>();
        ArrayList<Integer> a2=new ArrayList<Integer>();
        a1.add(1);
        a1.add(5);
        a1.add(3);
        a2.add(3);
        a2.add(4);
        a2.add(5);
        a2.add(6);
        Test test=new Test();
        test.compareArrayandList(a1,a2);

    }

} 
```

# javascript - 从旧转换时的下划线模板错误

> ID：15426783
> 
> 赞同：0
> 
> 时间：2013-03-15T07:18:18.623
> 
> 标签：javascript, backbone.js, underscore.js

我试图将此 jQuery 模板转换为 underscorejs 模板，但它为什么不起作用是没有意义的。谁能解释为什么？

```
 el: $('#contents'),
    template: _.template( MenuTemplate ),
    //template: $('#item-tmpl').template(),

    render: function ()
    {
    this.$el.empty();

    //$.tmpl(this.template, this.model.toArray()).appendTo(this.el);
    // Old jquery template

    //this.$el.html( this.template( this.model.toArray()).appendTo(this.el) );
    //underscore template

        return this;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T18:54:23.630

你对模板的使用有点偏离。尝试这个：

```
el: $('#contents'),
template: _.template(MenuTemplate),

render: function ()
{
    this.$el.empty();

    this.$el.html(this.template(this.model.toArray()));

    return this;
} 
```

# python - 检索普通字段标签

> ID：15426784
> 
> 赞同：1
> 
> 时间：2013-03-15T07:18:23.353
> 
> 标签：python, google-app-engine, python-2.7, wtforms

是否可以检索普通字段标签。

当我使用类似的东西时，`{{ form.field.label }}`它包括 html 标签元素。我只是想在某些地方使用疼痛标签。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:51:12.537

我没有在这里测试的工具，但我认为您可能正在搜索的是：

```
{{ form.field.label.text }} 
```

请参阅[文档中的相关部分](http://wtforms.simplecodes.com/docs/1.0.3/fields.html#wtforms.fields.Label)：

> `field_id`此标签将引用的字段的 ID。
> `text`传递给字段构造函数的原始标签文本。

# android - 开发 Android 游戏时是否需要 NDK 才能获得良好的性能？

> ID：15426786
> 
> 赞同：6
> 
> 时间：2013-03-15T07:18:33.337
> 
> 标签：android, android-ndk

听说不使用NDK开发安卓游戏，性能明显下降。这是事实吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-15T07:34:47.153

我看到使用 NDK 的 3 个主要原因：

*   您想重用 C/C++ 代码库（例如用 C++ 编写的游戏引擎、跨平台游戏）
*   获得更多内存（您可以通过 NDK 使用更多内存）
*   你的游戏是 CPU 密集型的，你需要你所有的设备电源。

在所有其他情况下，您可以选择您喜欢的任何内容。SDK/Java 允许您以与 NDK 相同的方式使用 OpenGL，因此您的图形不会变慢。您应该小心 GC 以获得流畅的游戏体验。如果您的游戏是 CPU 密集型的，您可以用 C++ 编写一些方法并通过 JNI 调用它们。顺便说一句，Dalvik 有 JIT，所以 Java 代码可以和 C 代码一样快（有时甚至更快）。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-15T07:24:34.597

**不，这根本不是真的。**

这在很大程度上取决于您的特定游戏在做什么。基本问题是：*您的游戏是否会占用大量 CPU*（或需要更多内存）。

*   如果不是，请坚持使用 SDK。
*   如果您不知道，因为您过去还没有编写过很多游戏，请务必坚持使用 SDK。
*   即使结果证明游戏的某些部分可以使用额外的处理能力，您也可以在开发过程中根据需要将这些部分提取到本机代码中。

选择 NDK 而不是 SDK 的一个原因是拥有丰富的 C++ 背景，这可能会使您在该环境中更有效率。然而，鉴于工具集的当前状态（方便调试、构建时间、轻松访问 SDK 库等），这很少有效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T07:24:26.157

不，你不需要使用 ndk，除非你想制作一个超级逼真的 3d 游戏，比如[Real Racing 3](https://play.google.com/store/apps/details?id=com.ea.games.r3_row)，如果它是一个简单图形的游戏或者没有太多时间关键的东西 java 是可以的

# annotations - 将注释标记保存在柔性纸注释文档查看器中

> ID：15426798
> 
> 赞同：0
> 
> 时间：2013-03-15T07:19:43.947
> 
> 标签：annotations, save, flexpaper

如何在柔性纸注释文档查看器中保存注释标记？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-04T22:57:31.537

只要您将“displayFormat”设置为“html”作为对象创建的一部分，位置的规范化/非规范化应该可以正常工作。归一化过程基本上是调整 X/Y/Width/Height 以使文档被认为是 1000 的高度。如果文档在 Flash 或 html 中的高度不同，则查看器会在显示注释时调整位置。它当然也将文档的宽度/高度的比例视为此过程的一部分。

FlexPaper 团队中所有最好的 Erik

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-04T19:24:52.013

好的，所以我想我在 Flexpaper 中发现了一个错误，它阻止了它的使用（错误在 Flash 版本中，尚未测试 HTML 版本）。如果有人真的让这个在 Flash 上工作，请告诉我！

基本上，`addMark()`正在执行不必要的坐标转换，这使得无法将您在同一位置提取的标记放回原处（这似乎只是笔记的情况，图纸似乎没有这个问题）。

以下是如何重现：

转到[http://devaldi.com/annotations/UK_Investment_Fund.php?ro=flash,html](http://devaldi.com/annotations/UK_Investment_Fund.php?ro=flash,html)并打开 Chrome JS 控制台。输入这些命令：

```
>> note = $FlexPaper('documentViewer').getMarkList()[2]
Object {width: 200, pageIndex: 1, height: 180, note: "The annotations plug-in allows both highlighting a…created↵↵Notes can be resized, moved and deleted.", id: "3AFE17A3-4977-3ECA-C468-70F2C40B81E8"…}

>> // Now try to add back in the same annotation
>> $FlexPaper('documentViewer').addMark(note)

>> // Notice that on the screen the note is in the wrong spot
>> // (not the same spot as the original one). Lets check the positioning

>> added_note = $FlexPaper('documentViewer').getMarkList()[6]

>> added_note.positionX
356.718192627824

>> note.positionX
-5.945303210463702 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T14:57:49.067

FlexPaper 提供了一个名为 getMarkList 的 JavaScript 函数：

```
marksArray = JSON.stringify($FlexPaper('documentViewer').getMarkList()); 
```

您可以使用 addMarks 再次应用注释：

```
var initialMarks = JSON.parse(marksArray);
$FlexPaper('documentViewer').addMarks(initialMarks); 
```

这适用于 HTML5 版本，但我怀疑它也适用于 Flash 和 HTML 版本。

# android - 在 Android 包安装期间写入元信息

> ID：15426802
> 
> 赞同：2
> 
> 时间：2013-03-15T07:20:00.543
> 
> 标签：android, android-source

**问题：**如何编写有关包的元信息或`PackageManagerService`在 android 源中处理的安装意图在哪里？（说明如下。）

我正在修改 Android 源代码以在安装过程中保存有关软件包的一些元信息。它可以存储在任何位置，但必须由系统读取。我的第一次尝试是使用`/sdcard`（[Android source error reading file from sdcard](https://stackoverflow.com/questions/15424603/android-source-error-reading-file-from-sdcard/15424662?noredirect=1)），但由于权限，这似乎不起作用。

现在，我希望能够将元信息发送到，`PackageManagerService`以便它可以在安装之前编写它。如果它自己写它，它应该能够稍后读取它。

我已经确定了 中的点`PackageInstallerActivity`，即提出安装意图的地方：

```
if(v == mOk) {
            // Start subactivity to actually install the application
            Intent newIntent = new Intent();
            newIntent.putExtra(PackageUtil.INTENT_ATTR_APPLICATION_INFO,
                    mPkgInfo.applicationInfo);
            newIntent.setData(mPackageURI);
            newIntent.setClass(this, InstallAppProgress.class);
            String installerPackageName = getIntent().getStringExtra(Intent.EXTRA_INSTALLER_PACKAGE_NAME);
            if (installerPackageName != null) {
                newIntent.putExtra(Intent.EXTRA_INSTALLER_PACKAGE_NAME, installerPackageName);
            }
            if(localLOGV) Log.i(TAG, "downloaded app uri="+mPackageURI); 
```

我可以在意图中添加一个“额外”，但我不知道在 PackageManagerService 中的哪个位置处理了这个意图。

**那么，问题来了：** Android源码中PackageManagerService中的安装意图在哪里处理？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:35:39.843

如您所见，意图是带有组件的显式意图：`InstallAppProgress.class`.

因此，InstallAppProgress 将首先处理该意图。它也是 PackageInstaller 中的一个组件。它负责显示安装进度（InstallAppProgress.java 中的initView()）。而在initView()方法中，会调用PackageManagerService：

```
@Override
public void onCreate(Bundle icicle) {
    super.onCreate(icicle);
    Intent intent = getIntent();
    mAppInfo = intent.getParcelableExtra(PackageUtil.INTENT_ATTR_APPLICATION_INFO);
    mPackageURI = intent.getData();
    initView();
}

public void initView() {
    ...
    String installerPackageName = getIntent().getStringExtra(
            Intent.EXTRA_INSTALLER_PACKAGE_NAME);
    PackageInstallObserver observer = new PackageInstallObserver();
    pm.installPackage(mPackageURI, observer, installFlags, installerPackageName);
} 
```

所以意图不是由 PackageManagerService 处理，而是由 InstallAppProgress 处理，然后它只是调用 PackageManagerService 来安装该应用程序。

我曾经在 Android 上开发部分权限授予系统。我所做的是在 PMS 中为 installPackage 方法添加一个参数，所以我认为您也可以这样做。PackageManager 是一个aidl 服务，所以你也需要修改aidl 文件。它在`framework/base/core/java/android/content/pm/`

# apache - 重定向匹配不起作用

> ID：15426807
> 
> 赞同：0
> 
> 时间：2013-03-15T07:20:17.877
> 
> 标签：apache, redirect, url-rewriting, rewrite, http-redirect

我想告诉我的 Apache 我想要一个重定向永久规则。

我的日志中有两种点击：

```
xx.xxx.xx.x - - [15/Mar/2013:08:14:21 +0100] "POST /oldEndPoint/services/toto HTTP/1.1" 200 - 6003 -
xx.xxx.xx.x - - [15/Mar/2013:08:15:40 +0100] "POST /newEndPoint/services/Tutu/toto HTTP/1.1" 200 - 1316 - 
```

我想告诉 Apache，当他收到对 /oldEndPoint/services/toto 的点击时，他应该永久重定向（301）到新的 url：/newEndPoint/services/Tutu/toto。

我试过这条规则，但它不起作用，没有重定向出现：

```
RedirectMatch 301 /modBackend/moderation/facebook /modFront/services/Moderation/facebook 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T02:05:32.740

您不需要[`RedirectMatch`](http://httpd.apache.org/docs/current/mod/mod_alias.html#redirectmatch)简单的重定向。

只是看到[`Redirect`](http://httpd.apache.org/docs/current/mod/mod_alias.html#redirect)而已。您必须先给出旧网址，最后给出新网址

```
Redirect /oldEndPoint/services/toto /newEndPoint/services/Tutu/toto 
```

# android - Android 应用程序控制铃声音量，而不是媒体

> ID：15426816
> 
> 赞同：2
> 
> 时间：2013-03-15T07:20:45.717
> 
> 标签：android, unity3d

我试图找到让应用程序控制**手机铃声音量**的最简单方法，甚至不用担心媒体音量。

我正在使用游戏引擎构建动态壁纸，它既繁琐又复杂，但它确实有效。唯一的问题是，当它在预览中运行或在墙纸上设置时，它**控制媒体而不是铃声**，这很烦人，原因很明显。

对于 eclipse 和我正在使用的游戏引擎，我已经寻求了很多帮助，但我都遇到了问题。

您拥有的任何信息都会很棒，非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:43:44.030

你可以看看[Controlling Your App's Volume and Playback](http://developer.android.com/training/managing-audio/volume-playback.html)。我有类似的问题并使用`setVolumeControlStream(AudioManager.STREAM_VOICE_CALL);`

希望能帮助到你。

# asp.net - 会话变量中的用户配置文件

> ID：15426818
> 
> 赞同：0
> 
> 时间：2013-03-15T07:21:05.287
> 
> 标签：asp.net, session-variables, simplemembership

我有一个与会话中的用户配置文件存储相关的非常基本的问题。

假设我有一个存储用户配置文件的 Account 表，并且我已将此表链接到 ASP.NET SimpleMembership。用户登录后，控制器可能需要在她的帐户中或从她的帐户中检索信息。我现在正在做的是每次需要数据时都查询数据库，类似于：`_dbContext.Accounts.Where(a => a.EmailAddress == User.Identity.Name).Single()`.

但我担心这可能会对数据库造成不必要的负载，并认为更好的想法（也许每个人都这样做！）是在用户登录后将 Account 对象存储在 Session 变量中，无需重新启用即可直接访问查询数据库。这是通常的做法吗？会话变量和身份验证之间是否存在“不同步”的风险？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T14:15:32.533

我们的网站在登录时对用户类型对象使用相同类型的方法。确认登录后，我们将用户对象存储在会话变量中。如果某些内容发生更改或更新，则对象将被更新，并且根据情况，数据库中的更改也会更新（时间意味着在更改之后立即更新，或者在收集一组更改之后）。

这仅取决于您的系统有多复杂。我们的方法相当复杂，事实证明这是一种非常可靠的方法——不需要不断的维护和更新。

# javascript - 样式属性为空的 tr 计数

> ID：15426824
> 
> 赞同：6
> 
> 时间：2013-03-15T07:21:18.880
> 
> 标签：javascript, jquery

这是我的html

```
<table id="tbl1">
  <tbody >
         <tr class="hide_grid_header"></tr>
         <tr style="display: none;"></tr>
         <tr style="display: none;"></tr>
          <tr ></tr>
         <tr style=""></tr>
         <tr ></tr>
         <tr style=""></tr>
         <tr ></tr>
       <tr style="display: none;"></tr>
  </tbody>
</table> 
```

由此，我想要没有 style 属性或 style=" " 属性的 tr 计数。

我正在使用下面的代码，但它让我算作 8 而不是 5。

```
 var docs = jQuery("#tbl").find('tbody').find('tr:visible');
alert(docs.length); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T07:29:14.000

```
$('tr').filter(function(){
    return !$(this).attr('style');
}).length; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T07:24:02.573

```
var len = $('tr').filter(function(){
      return !$(this).attr('style');
}).length; 
```

[http://jsfiddle.net/6pHt6/](http://jsfiddle.net/6pHt6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:24:38.637

你可以试试`.filter()`：

```
console.log($('table tr').filter('[style]').length); 
```

`.filter()`过滤掉对象的集合。

### [使用过滤器检查小提琴](http://jsfiddle.net/DJR7L/)

`.not()`：

```
console.log($('table tr').not('[style]').length); 
```

`This will output all the tr length which doesn't have a style attributes.`

### [未使用的结帐小提琴](http://jsfiddle.net/DJR7L/1/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T07:32:10.887

**分别选择每个集合**：

```
var $tr_blank_style = $('tr[style=""]'); // with style=""
var $tr_no_style    = $('tr:not([style])'); // no style attribute at all
var $tr_count       = $tr_blank_style.length + $tr_no_style.length; 
```

**使用`filter`同时选择两者**：

```
var $tr_count = $('tr').filter(function() {
        return $(this).is('[style=""],:not([style])'); 
    }).length; 
```

# drupal - 我们使用响应式网页设计时的 Drupal 缓存问题

> ID：15426829
> 
> 赞同：0
> 
> 时间：2013-03-15T07:21:39.077
> 
> 标签：drupal, drupal-6

我是 drupal 新手，我对 drupal6 缓存系统有疑问。我启用了 drupal 缓存，它会每 5 分钟刷新一次缓存。我的网站有几个主题。一种适用于普通桌面用户，另一种适用于移动用户。现在的问题是，一旦我在接下来的 5 分钟内从移动设备打开网站，移动主题就会被 drupal 缓存捕获，并且同样会发送到桌面请求。即使我从桌面打开网站，我也只能查看移动主题的页面。手动清除缓存后或 5 分钟后，我可以查看桌面主题。

`$useragent = $_SERVER['HTTP_USER_AGENT'];`

我用这个函数来获取媒体类型。

如果有人已经遇到过这个问题，请帮助我摆脱这个问题..谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:30:56.577

您可以尝试此模块[http://drupal.org/project/mobile_tools](http://drupal.org/project/mobile_tools)为移动和桌面用户切换模板。

在您的情况下，检测用户代理的代码也被缓存。所以它总是（在 5 分钟内）显示您或移动或桌面模板。

# google-maps-api-3 - 从经纬度获取城市名称

> ID：15426839
> 
> 赞同：0
> 
> 时间：2013-03-15T07:22:08.133
> 
> 标签：google-maps-api-3

我实际上是在使用 [http://maps.google.com/maps/geo?json&ll=13.02761,77.59317](http://maps.google.com/maps/geo?json&ll=13.02761,77.59317)来获取城市名称。

这一切都在工作到上周。

但是现在当我尝试这个 URL 时，它给了我：

{“状态”：{“代码”：610，“请求”：“地理编码”}}

我无法获得城市名称的地方。

直到几天前，这就像一种魅力。

我对 610 代码的理解是： G_GEO_BAD_KEY：给定的密钥无效或与为其指定的域不匹配。

我无法理解出了什么问题？最初我没有传递任何密钥。

有人可以帮我解决这个问题，因为我的应用程序已经在市场上发布，现在我正面临这个问题。

提前致谢， 苏奈娜

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:31:48.077

尝试这个。我从没听说过ll

```
http://maps.googleapis.com/maps/api/geocode/json?latlng=13.02761,77.59317&sensor=true 
```

# ios - 反映 PS 中每个现有记录的 coredata-MO 修改

> ID：15426841
> 
> 赞同：0
> 
> 时间：2013-03-15T07:22:11.800
> 
> 标签：ios, core-data, nsmanagedobject, nsmanagedobjectcontext, nspersistentstore

我在互联网上找到了许多关于**核心数据**的教程和文章，但我正在制作实时且对初学者更有用的示例应用程序。您可以在[此处找到示例代码](https://www.dropbox.com/s/3g3dk354tb1j360/CDBestTutorial.zip)。

核心数据结构![核心数据结构](../Images/0f0f2f657e46f93d60d3299657b325ba.png)是这样的。

我为艺术家、专辑和歌曲制作条目。但问题是稍后对已添加的艺术家进行的编辑并没有反映到专辑中。

我错过了什么？

要重现此问题，我要求下载该项目并运行它。

*   为艺术家、专辑和歌曲添加一些条目。
*   然后稍后转到艺术家选项卡并编辑一些艺术家条目。
*   现在转到专辑选项卡。您将看到与相关专辑条目的旧艺术家名称相同的艺术家名称。

**这就是问题。理想情况下，我应该在那里看到新条目。**

*我想要一些真正的方法来实现这一点*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T09:02:19.967

不确定有关重现问题的说明，因为“专辑”选项卡不显示艺术家的姓名，直到您单击“流派”按钮，然后它才能正确显示艺术家的姓名。我看到错误的地方是转到“歌曲”选项卡。

简要地看一下正在发生的事情，我相信这个问题是因为您通过保存在名为 songArtist 的歌曲中的 NSString 来显示艺术家姓名，而不是从引用的艺术家实体中获取艺术家姓名。

CoreData 不会因为您更改了 Artist.artistName 而更新 song.artistName NSString。它不知道这两个字符串是相关的。您需要自己进行更新。

或者，您需要刷新来自 Song 实体的信息以设置 Song 的 ArtistName 的新变量。

希望这是有道理的。

/* 更新 */

您的 Song 引用了 Artist，但它是一对多的关系。我一直认为一首歌曲只有一个艺术家，所以取消你的 CoreData 关系中的多对多关系。在这种情况下，您应该通过 song.artist.artistName 显示艺术家姓名。然后，当艺术家实体更新时，歌曲将引用艺术家，而艺术家又具有正确的信息。

# c# - sql进程的行为如何？

> ID：15426846
> 
> 赞同：2
> 
> 时间：2013-03-15T07:22:42.790
> 
> 标签：c#, sql, sql-server

从我的 C# 程序中，我打开 sql 连接并对表进行一些更新。之后我关闭连接。而且，如果我在 Management Studio 中的 Activity Monitor 下进行检查，则会创建新进程，即使我关闭了程序中的 sql 连接，该进程仍然存在于 Activity Monitor 中。我可以知道这个过程的行为吗？我们是否需要明确清除这些过程？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T07:24:48.703

我认为您在这里错误地使用了*过程的概念。*

ADO.NET 使用[`connection pool`](http://msdn.microsoft.com/en-us/library/8xx3tyca.aspx). 这意味着当您`Open`在 SqlConnection 实例上调用该方法时，您并没有打开到数据库的新物理连接，您只是从现有池中绘制一个。当您调用时，`Close`您并没有关闭连接，您只是将其返回到连接池以供重用。

连接池存在于您的应用程序的进程中，并且是每个连接字符串。

> 我们是否需要明确清除这些过程？

不，您所要做的就是确保您已将所有`IDisposable`资源（例如连接和命令）包装在`using`语句中。这样，您甚至不需要显式调用 Close 方法，并且代码将确保即使在出现异常的情况下也能正确处理所有内容：

```
string connectionString = ...
using (var conn = new SqlConnection(connectionString))
using (var cmd = conn.CreateCommand())
{
    conn.Open();
    cmd.CommandText = "SELECT id FROM foo";
    using (var reader = cmd.ExecuteReader())
    {
        while (reader.Read())
        {
            int id = reader.GetInt32(reader.GetOrdinal("id"));
            Console.WriteLine(id);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:26:03.163

确保处理连接，最好的选择是 using()-block。

```
using ( var con = new SqlConnection("???") )
{
   using ( var cmd = con.CreateCommand() )
   {
      // do SQL with cmd
   }
} 
```

# java - 无法分配连接，因为：用户 ID 长度 (0) 超出 1 到 255 的范围

> ID：15426853
> 
> 赞同：6
> 
> 时间：2013-03-15T07:23:00.810
> 
> 标签：java, jpa, netbeans

我正在使用带有 JSF、EJB 和 JPA 的 Netbeans 创建一个登录界面。当我尝试部署项目时，它会引发以下异常：

```
Internal Exception: java.sql.SQLException: 
Error in allocating a connection. Cause: Connection could not be allocated because: User id length (0) is outside the range of 1 to 255.
Error Code: 0\. Please see server.log for more details.
C:\Users\Dell\Desktop\assignmenttask2\nbproject\build-impl.xml:1033: The module has not been deployed.
See the server log for details. 
```

这是如何引起的，我该如何解决？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-15T12:22:59.603

您需要在 persistence.xml 中进行配置。

```
<properties>
  <property name="javax.persistence.jdbc.user" value="APP"/>
  <property name="javax.persistence.jdbc.password" value="APP"/>
 </properties> 
```

[看这里](http://spring-java-ee.blogspot.in/2010/02/solving-eclipselink-jpa-connection.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-02-08T10:39:19.740

@PSR 答案对我有用，这里有更多内容：

netbeans（在 7.4 build 201310111528 上转载）JPA 的持久性单元创建向导不强制提供用户名密码。
问题是它不适用于 Java DB (derby)。**更大**的问题是您会收到有关用户 ID 长度的尴尬错误，这是另一个[*真正无用的*](http://pikigeek.com/files/2012/07/Fish-Wat.jpg)错误消息。

因此，要解决这个问题，要么使用用户名密码重新创建持久性单元 ( *persistence.xml*`<properites>` )，要么在 xml下手动添加两行：

```
<properties>
  <property name="javax.persistence.jdbc.user" value="APP"/>
  <property name="javax.persistence.jdbc.password" value="APP"/>
 </properties> 
```

高温高压

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-24T00:28:36.090

问题往往是因为密码是空字符串，所以要解决密码的值属性中必须提到'（）'，例如如果用户是APP并且没有设置密码，则配置将会：

```
 <properties>
  <property name="javax.persistence.jdbc.user" value="APP"/>
  <property name="javax.persistence.jdbc.password" value="()"/>
 </properties> 
```

# javascript - Javascript 闭包的实际用法/示例

> ID：15426854
> 
> 赞同：4
> 
> 时间：2013-03-15T07:23:17.413
> 
> 标签：javascript, closures

我理解 Javascript 闭包背后的理论概念，比如有一个只能由内部函数访问的变量以及所有这些……在 JS 中实现私有变量。

但我想了解一些实际有用的闭包示例。所以我需要的例子不是理解什么是闭包，而是闭包的实际用例。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-15T07:27:35.773

两个标准示例：

**1）**为回调保留变量：

```
 var a = [1, 2, 3];
   for (var i=0; i<a.length; i++) {
      (function(j){
          setTimeout(function(){
             console.log(a[j]);
          }, 1000*j);
      })(i);
   } 
```

**2）**保持变量私有

```
var obj = (function(){
    var private = 0;
    return {
        increment: function(){ private++; },
        getValue:  function(){ return private; }
    }
})(); 
```

事实上，最简单的是记住**一**件事：什么是闭包，即从函数到创建它的作用域的链接。此链接可防止范围（及其变量）被垃圾，并且它是此范围的唯一可访问链接（因此是隐私）。

# python - Python Django：在现有 ZIP 文件中添加一个新文件并下载它

> ID：15426856
> 
> 赞同：0
> 
> 时间：2013-03-15T07:23:20.387
> 
> 标签：python, django, zipfile

我在服务器上有一个 Zip 文件，用户将下载该文件。当用户单击下载时，应动态生成一个文件并将其添加到该 zip 中，然后应下载该 zip。

1.  我知道如何动态创建 zip 文件。但在这里我需要指向一个现有的 zip 并下载它。

2.  向 Zip 添加新文件的第二个要求是可选的，但如果可能的话会很好。我尝试以“a”模式打开 Zip，但它会创建一个包含 zip 和新文件的新 zip 文件。因此，拉链内有拉链，这不是必需的。

# single-page-application - 使用带有 durandal 模板的自定义 javascript 脚本文件

> ID：15426857
> 
> 赞同：2
> 
> 时间：2013-03-15T07:23:21.360
> 
> 标签：single-page-application, durandal

**我使用Durandal 模板**处理 Visual Studio 2012 MVC4 项目。在这个模板中，shell.js 页面为我们提供了一个非常简单的菜单解决方案，其中每个元素都位于顶部。我个人需要一些不同的东西。为此，我有一个名为 dropdown.js 的 javascript 文件，它允许我显示/隐藏子菜单。它在标准项目中运行良好，但我无法使用 durandal 模板完成它。

这是我尝试的：

我在 Index.chtml 中添加了对 dropdown.js 脚本的引用：

```
<script src="~/Scripts/dropdown.js"></script> 
```

然后在 shell.html 页面中，我想这样使用它：

```
<li class="dropdown" data-role="dropdown">
    ...
    ...
</li> 
```

这是 dropdown.js 的一小部分：

```
$(function () {
    alert('XXXX');
    $('[data-role="dropdown"]').each(function () {
        alert('YYYY');
        $(this).Dropdown();
    })
}) 
```

如您所见，每个用“下拉”类装饰的元素都应该被捕获。它不适用于杜兰达尔。我放置了一些警告框来检查它。显示警报“XX”，但从未显示警报“YY”。

我搜索了几个小时没有成功。

任何的想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T14:03:47.450

在此处查看您可以利用[Durandal的生命周期事件](http://durandaljs.com/documentation/Hooking-Lifecycle-Callbacks/)

viewAttached 可能会有所帮助，因为您可以在 view 和 dom 准备好时进入。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T08:58:02.250

我认为问题在于，当在菜单呈现之前执行 dropdown.js 函数时，jquery 选择器不会捕获任何列表项。

我认为您最好的选择是进行淘汰绑定以在下拉列表中转换您的列表项。

绑定看起来像：

```
ko.bindingHandlers.dropdown= {
    init: function (element, valueAccessor, allBindingsAccessor) {
        $(element).Dropdown();
    },
    update: function (element, valueAccessor) {
    }
}; 
```

在视图中：

```
<li class="dropdown" data-bind="dropdown : {}">
    ...
    ...
</li> 
```

# actionscript-3 - 对象和定时器 AS3

> ID：15426858
> 
> 赞同：0
> 
> 时间：2013-03-15T07:23:22.780
> 
> 标签：actionscript-3, flash, actionscript, timer, flash-cs6

我对 AS3 中的 TIMER 有疑问

我的舞台上有一个僵尸物体，我希望他来攻击英雄。

我想做的是：

1.  僵尸走向英雄
2.  当他足够接近攻击时，他会继续攻击。
3.  **问题：我希望他****每5秒**只攻击一次，这样英雄就有机会反击他。问题是我不熟悉计时器，我仍然找不到任何可以帮助我的提示/tuts/答案。我不知道我应该把计时器放在哪里，在一个新的计时器函数中还是在我的僵尸函数中。

谢谢你 ：）

这是代码

```
if (zombie.x>hero.x+50)
{
    zombie.x-=5;
    zombie.scaleX=-1;

    if(zombie.x<hero.x+100){
        zombie.gotoAndStop("attack"); 
        //so that the zombie attacks when the hero is in range

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:06:32.400

你应该在你的僵尸上定义“空闲”、“行走”和“攻击”动画，到目前为止我只看到你的僵尸切换到“攻击”姿势并停留在那里。另外，把你的僵尸变成一个类，这样它就会控制自己的动画，知道什么时候攻击和什么时候停止攻击（回到空闲动画）。最后，有一个标志“这个僵尸可以再次攻击”，当僵尸攻击时将设置为true，并`flash.utils.setTimeout()`使用适当的参数调用来调用将重置此标志的函数。这个基于时间的函数可以用于简单的一次性调用，直到您更好地学习 Actionscript。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T08:44:55.840

你可以这样做：

```
var timer:Timer = new Timer(5000);//that's 5 second

if (zombie.x>hero.x+50)
{
    zombie.x-=5;
    zombie.scaleX=-1;

    if(zombie.x<hero.x+100){
        attack();
    }
}

function attack(  ) : void
{
  // attack the first time
  zombie.gotoAndStop("attack"); 

 //than launch the timer
  timer.addEventListener(TimerEvent.TIMER, repeatAttack );
  timer.start();
}

//will be called every 5000 ms == 5 sec
function repeatAttack ( event : TimerEvent ) : void
{
 zombie.gotoAndStop("attack"); 
}

//if you want to stop the attack you can use this function for example

function stopAttack() : void
{
   timer.removeEventListener(TimerEvent.TIMER, repeatAttack );
   timer.stop();//stop timer
   timer.reset();//resetCount to zero   
} 
```

我希望这能帮助你解决你的问题

# php - 为什么这个 PHP 脚本无法发送 HTML 邮件？

> ID：15426860
> 
> 赞同：0
> 
> 时间：2013-03-15T07:23:34.133
> 
> 标签：php, html, email

我有这段测试代码来发送 HTML 电子邮件。最长的时间是发送，但不是以 HTML 格式发送。而现在，它根本不发送。

我一直在与[PHP 手册](http://php.net/manual/en/function.mail.php)上的代码以及[该站点上的类似问题进行](https://stackoverflow.com/q/4897215/184108)比较，但我看不到代码可能出错的任何地方。这让我疯狂。

为什么这段代码不发送，为什么不以 HTML 格式发送？

```
$to = "myemail@mysite.com";
$subject = "Confirmation code for registration";

$message = "<html>
  <head>";
$message .= '<meta http-equiv="content-type" content="text/html; charset=utf-8" />';
$message .= "<title>TITLE</title>
  </head>
  <body>";
$message .= "Thank you for registering! \r\n";
$message .= "
    </body>
</html>";

$headers = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset: utf-8\r\n";
$headers .= "From: My Site <registration@mysite.com>r\n";

$mailresult = mail($to, $subject, $message, $headers);
    echo "mail sent! ";
    echo $mailresult; 
```

`$mailresult`返回为`1`，我认为这意味着成功，但指定的邮件帐户没有收到邮件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T07:32:08.210

根据[php.net](http://php.net/manual/en/function.mail.php)：

> 如果邮件被成功接受传递，则返回 TRUE，否则返回 FALSE。
> 
> 重要的是要注意，仅仅因为邮件被接受交付，并不意味着邮件实际上会到达预定目的地。

您是否配置了邮件服务器来发送邮件？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:33:51.020

**您的代码在我的服务器上运行良好，但我收到的电子邮件是垃圾邮件**- 所以请检查您的垃圾邮件。并进行研究以检查您的服务器是否配置正确。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-15T07:28:46.060

尝试做

```
mail($to, $subject, $message, $headers); 
```

没有 $mailresult

# android - Android中---服务器重启后如何恢复下载？

> ID：15426862
> 
> 赞同：2
> 
> 时间：2013-03-15T07:23:36.787
> 
> 标签：android, download

任何人都可以帮助我.. 我的问题是，当我下载文件时，有时服务器会弯腰，并且在服务器启动后仅完成 50% 的下载，我想从 51% 下载。因为在服务器停止之前完成了 50% 的下载。

我的代码在下面..但它不起作用。

```
 HttpURLConnection connection = (HttpURLConnection) url.openConnection();
if(ISSUE_DOWNLOAD_STATUS.intValue()==ECMConstant.ECM_DOWNLOADING){
    File file=new File(DESTINATION_PATH);
    if(file.exists()){
         downloaded = (int) file.length();
         connection.setRequestProperty("Range", "bytes="+(file.length())+"-");
    }
}else{
    connection.setRequestProperty("Range", "bytes=" + downloaded + "-");
}
connection.setDoInput(true);
connection.setDoOutput(true);
progressBar.setMax(connection.getContentLength());
 in = new BufferedInputStream(connection.getInputStream());
 fos=(downloaded==0)? new FileOutputStream(DESTINATION_PATH): new FileOutputStream(DESTINATION_PATH,true);
 bout = new BufferedOutputStream(fos, 1024);
byte[] data = new byte[1024];
int x = 0;
while ((x = in.read(data, 0, 1024)) >= 0) {
    bout.write(data, 0, x);
     downloaded += x;
     progressBar.setProgress(downloaded);
} 
```

谢谢。

# iphone - iPhone 中的 Sky Drive 集成

> ID：15426863
> 
> 赞同：1
> 
> 时间：2013-03-15T07:23:42.353
> 
> 标签：iphone, ios, objective-c, xcode, ipad

我需要在我的 IOS 应用程序中集成天空驱动器..即将文件和照片上传到天空驱动器帐户...

任何人都可以提供一些指南或示例代码网址链接...

提前致谢..

# php - 如何将查询的值分配给zend中的变量

> ID：15426867
> 
> 赞同：0
> 
> 时间：2013-03-15T07:24:10.403
> 
> 标签：php, mysql, zend-framework, sum, mysql-num-rows

我需要从 mysql 表中计算平均值。因此，我将 col 的总和除以行数。但是没有正确分配值：-

```
$total_sum_query = $db->query("SELECT SUM(marks) FROM markstable WHERE sid = '$sid'");
$num_rows_query = $db->query("SELECT * FROM markstable WHERE sid = '$sid'");

$avg_marks = $total_sum_query/$num_rows_query; 
```

我知道我做错了什么，但无法弄清楚。有没有办法在mysql中得出平均值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T09:26:18.473

你真正想要的是：

```
$avg_marks = $db->fetchOne("SELECT AVG(marks) FROM markstable WHERE sid = ?", $sid); 
```

fetchOne 为您提供单个值而不是结果集或数组，并使用参数化查询来防止 SQL 注入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:27:10.633

试试喜欢

```
$num_rows_query = $db->query("SELECT count(*) as cnt FROM markstable WHERE sid = '$sid'"); 
```

并将其用作 $num_rows_query['cnt'];

或者你可以直接试试

```
$avg_query =  $db->query("SELECT AVG(marks) FROM markstable WHERE sid = '$sid'"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:28:50.910

尝试[在MYSL中使用AVG](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_avg)

```
$average_query =  $db->query("SELECT AVG(marks) FROM markstable WHERE sid = '$sid'"); 
```

# php - 如何从php中的http帖子接收文件（即文本文件）？

> ID：15426869
> 
> 赞同：3
> 
> 时间：2013-03-15T07:24:33.827
> 
> 标签：php, http, httpwebrequest

我正在`client(C#)`使用`webclient`or发送文件`HttpWebRequest`。我想知道如何接收从客户端发送的文件`PHP(Server)`。我查了`$_POST`，是空的。

**客户端代码（c#）：**

```
using (WebClient client = new WebClient())
{
 client.UploadFile("http://path/file.php","POST",@"Data.txt");
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-15T07:29:06.667

是的，`$_POST`将为空，您应该检查`$_FILES`上传文件的变量：这是快速片段：

```
<?php
$uploaddir = "uploads/";
$uploadfile = $uploaddir . basename( $_FILES['file']['name']);

if(move_uploaded_file($_FILES['file']['tmp_name'], $uploadfile))
{
  echo "The file has been uploaded successfully";
}
else
{
  echo "There was an error uploading the file";
}
?> 
```

上述脚本中 $_FILES 的内容如下。

**$_FILES['file']['name']**客户端计算机上文件的原始名称。

**$_FILES['file']['type']**文件的 mime 类型，如果浏览器提供了此信息。一个例子是“image/gif”。

**$_FILES['file']['size']**上传文件的大小，以字节为单位。

**$_FILES['file']['tmp_name']**服务器上存储上传文件的文件的临时文件名。

**$_FILES['file']['error']**自 PHP 4.2.0 起，PHP 会返回适当的以下错误代码以及文件数组

*   UPLOAD_ERR_OK – 值：0；没有错误，文件上传成功。
*   UPLOAD_ERR_INI_SIZE 值：1；上传的文件超过了 php.ini 中的 upload_max_filesize 指令。
*   UPLOAD_ERR_FORM_SIZE 值：2；上传的文件超出了 HTML 表单中指定的 MAX_FILE_SIZE 指令。
*   UPLOAD_ERR_PARTIAL 值：3；上传的文件只是部分上传。
*   UPLOAD_ERR_NO_FILE 值：4；没有上传文件。

默认情况下，上传的文件将存储在服务器的默认临时目录中。变量**$_FILES['file']['tmp_name']**将保存有关其存储位置的信息。需要使用 move_uploaded_file 函数将上传的文件存储到正确的位置

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T07:45:03.960

**您应该使用以下代码作为参考：**

```
 if(isset($_FILES['file']['name']) && !empty($_FILES['file']['name']))
    {
    $name=$_FILES['file']['name'];

    $size=$_FILES['file']['size'];
    $type=$_FILES['file']['type'];
    $tmp_name=$_FILES['file']['tmp_name'];
    $error=$_FILES['file']['error'];
    $maxsize ="Your size limit";
    $location='Your location to upload file';

    // perform any security check here...

   if($size <= $maxsize)
    {
     if(move_uploaded_file($tmp_name, $location.$name))
        {
          // perform your operation down here
        }
    }

   } 
```

**注意： -**此行文件中的 $_FILES['file']['name'] 代表表单文件字段的名称。

# oracle - 如何从 oracle 中的同义词创建实体类？

> ID：15426873
> 
> 赞同：0
> 
> 时间：2013-03-15T07:24:42.623
> 
> 标签：oracle, jpa

我可以从可用表创建实体类，但我想从我的 oracle 中未显示在我的表列表中的同义词创建实体......（我使用 eclipse JPA 工具创建实体类）

如何查看同义词并创建实体

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T15:57:07.017

Dali（提供这些 JPA 工具的 Eclipse 插件）是否可以查看和使用表同义词取决于您用于访问数据库元数据的 DTP 扩展。如果您的同义词出现在数据库的“表”文件夹下的数据源资源管理器中，它们应该出现在实体生成向导的表列表中。如果它们也没有出现在向导中，这可能是一个错误。

注意：有一些第三方扩展*不*希望 Dali 使用同义词。您可能会看到几年前的这个错误：[https ://bugs.eclipse.org/bugs/show_bug.cgi?id=288027](https://bugs.eclipse.org/bugs/show_bug.cgi?id=288027)

# c# - 如何在 C# 中实现 MaxSubArray？

> ID：15426877
> 
> 赞同：0
> 
> 时间：2013-03-15T07:24:56.003
> 
> 标签：c#, algorithm

我正在尝试在 C#中开发**最大子数组问题**

我的代码是

```
try
        {
            int[] Values = { 9, 1, 4, 15, -5, -41, -8, 78, 145, 14 };//Will be executed once '1'

            int StartIndex = 0;//Will be executed once '1'
            double Sum = 0;//Will be executed once '1'
            double Temp = 0;//Will be executed once '1'
            double Max = 0;//Will be executed once '1'

            do
            {

                for (int i = 0; i < Values.Length; i++)//1+(N+1)+N
                {
                    Sum = Values[StartIndex];

                    if (StartIndex < i)
                    {
                        for (int j = StartIndex+1; j <= i; j++)
                        {
                            Sum += Values[j];
                        }

                        if (Sum > Temp)
                        {
                            Max = Sum;
                            Temp = Sum;
                        }
                    }
                }
                StartIndex++;
            } while (StartIndex<Values.Length);

            MessageBox.Show("The Max Value is " + Max);

        }
        catch { } 
```

我想知道这是否是解决该算法的最佳方法，因为我试图最小化时间复杂度

谢谢大家的时间

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:25:46.983

您的代码的时间复杂度是`O(n^3)`，但您可以通过两次[翻新](http://www.geeksforgeeks.org/dynamic-programming-set-14-maximum-sum-increasing-subsequence/)来改进它并将其更改为`O(N^2)`. 但是有一个更好的[算法](http://en.wikipedia.org/wiki/Maximum_subarray_problem)或者[这个](https://stackoverflow.com/questions/8649845/how-can-i-find-the-maximum-sum-of-a-sub-sequence-using-dynamic-programming)由动态规划设计的。

[这个](http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=6&cad=rja&ved=0CFsQtwIwBQ&url=http://www.youtube.com/watch?v=siaRlAtip9I&ei=O9hCUZfkE-uS7AbFzYG4Cw&usg=AFQjCNF6fyKfXDeOeQEXgxGSpLzssQqGrA&bvm=bv.43828540,d.ZGU)解决方案在矩阵数组中解决它。注意：最大默认值应设置为无限负值。

这是来自维基的代码：

在整个数组由负数组成的情况下，不允许返回零长度子数组的问题的变体可以使用以下代码解决，此处用 C++ 编程语言表示。

```
int sequence(std::vector<int>& numbers)
{
        // Initialize variables here
        int max_so_far  = numbers[0], max_ending_here = numbers[0];
        size_t begin = 0;
        size_t begin_temp = 0;
        size_t end = 0;
        // Find sequence by looping through
        for(size_t i = 1; i < numbers.size(); i++)
        {
                // calculate max_ending_here
                if(max_ending_here < 0)
                {
                        max_ending_here = numbers[i];
                        begin_temp = i;
                }
                else
                {
                        max_ending_here += numbers[i];
                }
                // calculate max_so_far
                if(max_ending_here > max_so_far )
                {
                        max_so_far  = max_ending_here;
                        begin = begin_temp;
                        end = i;
                }
        }
        return max_so_far ;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T08:13:14.997

具有 O(N*logN) 复杂度的分而治之的实现在[算法简介：CLRS](http://en.wikipedia.org/wiki/Introduction_to_Algorithms)，第 4 章分而治之 4.1 最大子数组问题中进行了描述。C# 端口[来自](http://la0t1.blogspot.ru/2011/07/maxmimum-subarray-problem.html).

```
 class Program {
    static void Main(string[] args) {
        int[] values = { 9, 1, 4, 15, -5, -41, -8, 78, 145, 14 };
        Console.WriteLine(FindMaxSubarray(values, 0, values.Length - 1));
    }

    public struct MaxSubArray {
        public int Low;
        public int High;
        public int Sum;

        public override string ToString() {
            return String.Format("From: {0} To: {1} Sum: {2}", Low, High, Sum);
        }
    }

    private static MaxSubArray FindMaxSubarray(int[] a, int low, int high) {
        var res = new MaxSubArray {
            Low = low,
            High = high,
            Sum = a[low]
        };
        if (low == high) return res;

        var mid = (low + high) / 2;
        var leftSubarray = FindMaxSubarray(a, low, mid);
        var rightSubarray = FindMaxSubarray(a, mid + 1, high);
        var crossingSubarray = FindMaxCrossingSubarray(a, low, mid, high);

        if (leftSubarray.Sum >= rightSubarray.Sum &&
            leftSubarray.Sum >= crossingSubarray.Sum)
            return leftSubarray;
        if (rightSubarray.Sum >= leftSubarray.Sum &&
                 rightSubarray.Sum >= crossingSubarray.Sum)
            return rightSubarray;
        return crossingSubarray;
    }

    private static MaxSubArray FindMaxCrossingSubarray(int[] a, int low, int mid, int high) {
        var maxLeft = 0;
        var maxRight = 0;

        var leftSubarraySum = Int32.MinValue;
        var rightSubarraySum = Int32.MinValue;

        var sum = 0;
        for (var i = mid; i >= low; i--) {
            sum += a[i];
            if (sum <= leftSubarraySum) continue;
            leftSubarraySum = sum;
            maxLeft = i;
        }

        sum = 0;
        for (var j = mid + 1; j <= high; j++) {
            sum += a[j];
            if (sum <= rightSubarraySum) continue;
            rightSubarraySum = sum;
            maxRight = j;
        }

        return new MaxSubArray {
            Low = maxLeft,
            High = maxRight,
            Sum = leftSubarraySum + rightSubarraySum
        };

    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T08:54:55.457

这里有一个 O(N) 算法：[http ://en.wikipedia.org/wiki/Maximum_subarray_problem](http://en.wikipedia.org/wiki/Maximum_subarray_problem)

它实际上并没有给你子数组，只是子数组的最大值。

**请注意**输入数组必须包含至少一个正数（非零）的重要限制。

我已经修改它以返回范围以及最大值：

```
using System;

namespace Demo
{
    public static class Program
    {
        public static void Main(string[] args)
        {
            //int[] numbers = new[] { -2, 1, -3, 4, -1, 2, 1, -5, 4 };
            //int[] numbers = new[] { 1, 1, 1, 1, 1, 1, 1, 1 };

            int[] numbers = new[] {9, 1, 4, 15, -5, -41, -8, 78, 145, 14};

            var result = FindMaximumSubarray(numbers);

            Console.WriteLine("Range = {0}..{1}, Value = {2}", result.StartIndex, result.EndIndex, result.Value);
        }

        public static MaximumSubarray FindMaximumSubarray(int[] numbers)
        {
            int maxSoFar = numbers[0];
            int maxEndingHere = numbers[0];
            int begin = 0;
            int startIndex = 0;
            int endIndex = 0;

            for (int i = 1; i < numbers.Length; ++i)
            {
                if (maxEndingHere < 0)
                {
                    maxEndingHere = numbers[i];
                    begin = i;
                }
                else
                {
                    maxEndingHere += numbers[i];
                }

                if (maxEndingHere > maxSoFar)
                {
                    startIndex = begin;
                    endIndex = i;
                    maxSoFar = maxEndingHere;
                }
            }

            return new MaximumSubarray
            {
                StartIndex = startIndex,
                EndIndex = endIndex,
                Value = maxSoFar
            };
        }

        public struct MaximumSubarray
        {
            public int StartIndex;
            public int EndIndex;
            public int Value;
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T08:25:44.790

尝试这个

```
static void Main()
    {
        try
        {
            int[] Values = { 9, 1, 4, 15, -5, -41, -8, 78, 145, 14 };//Will be executed once '1'

            int max_ending_here = 0;
            int max_so_far = 0;

            foreach(int x in Values)
            {
                max_ending_here = Math.Max(0, max_ending_here + x);
                max_so_far = Math.Max(max_so_far, max_ending_here);
            }

            Console.WriteLine("The Max Value is " + max_so_far);
            Console.ReadKey();
        }
        catch { }
    } 
```

[参考来源](http://en.wikipedia.org/wiki/Maximum_subarray_problem "参考")

# mysql - 计算django中给定文件的共享用户数？

> ID：15426879
> 
> 赞同：0
> 
> 时间：2013-03-15T07:25:06.880
> 
> 标签：mysql, django, django-queryset

我有一个名为 share 的表，如下所示：

```
+----+----------+----------+----------------+----------------------------------+
| id | users_id | files_id | shared_user_id | shared_date                      |
+----+----------+----------+----------------+----------------------------------+
|  2 |        1 |        2 |              2 | 2013-03-13 20:33:36.766030+00:00 |
|  4 |        1 |        4 |              2 | 2013-03-13 20:33:36.766030+00:00 |
|  5 |        1 |        5 |              2 | 2013-03-13 20:33:36.766030+00:00 |
|  6 |        1 |        6 |              2 | 2013-03-13 20:33:36.766030+00:00 |
|  8 |        1 |        2 |              2 | 2013-03-14 16:15:29.580095+00:00 |
| 10 |        1 |        4 |              2 | 2013-03-14 16:15:29.580095+00:00 |
| 11 |        1 |        5 |              2 | 2013-03-14 16:15:29.580095+00:00 |
| 12 |        1 |        6 |              2 | 2013-03-14 16:15:29.580095+00:00 |
| 13 |        1 |        7 |              2 | 2013-03-14 16:15:29.580095+00:00 |
| 14 |        1 |        8 |              2 | 2013-03-14 16:15:29.580095+00:00 |
| 15 |        1 |        9 |              2 | 2013-03-14 16:15:29.580095+00:00 |
| 16 |        1 |       12 |              2 | 2013-03-14 16:15:29.580095+00:00 |
| 18 |        1 |        2 |              2 | 2013-03-14 16:17:57.929392+00:00 |
| 20 |        1 |        4 |              2 | 2013-03-14 16:17:57.929392+00:00 |
| 21 |        1 |        5 |              2 | 2013-03-14 16:17:57.929392+00:00 |
| 22 |        1 |        6 |              2 | 2013-03-14 16:17:57.929392+00:00 |
| 23 |        1 |        7 |              2 | 2013-03-14 16:17:57.929392+00:00 |
| 24 |        1 |        8 |              2 | 2013-03-14 16:17:57.929392+00:00 |
| 25 |        1 |        9 |              2 | 2013-03-14 16:17:57.929392+00:00 |
| 26 |        1 |       12 |              2 | 2013-03-14 16:17:57.929392+00:00 |
| 27 |        1 |       12 |              2 | 2013-03-15 15:51:50.344222+00:00 |
| 28 |        1 |        9 |              3 | 2013-03-15 15:58:06.655270+00:00 |
| 29 |        1 |        2 |              2 | 2013-03-15 15:59:58.023322+00:00 |
+----+----------+----------+----------------+----------------------------------+ 
```

我想找出每个共享文件的用户总数`files_id`。我怎样才能做到这一点？

试过这个：

```
Share.objects.filter(users_id=request.user.id).values_list('shared_user_id', flat=True).distinct() 
```

但这仅计算`shared_user_id`.

这是我的模型：

```
class Share(models.Model):
    users = models.ForeignKey(User)
    files = models.ForeignKey(File)
    shared_user_id = models.IntegerField()
    shared_date = models.TextField()

class File(models.Model):
    users = models.ForeignKey(User)
    file_name = models.CharField(max_length=100)
    type = models.CharField(max_length=10)
    source = models.CharField(max_length=100)
    start_date = models.TextField()
    time_overview = models.CharField(max_length=55)
    end_date = models.TextField()
    duration = models.TextField()
    size_overview = models.IntegerField()
    size = models.TextField()
    flag = models.TextField()
    flag_r = models.TextField() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:40:22.237

您想使用 Django 的[聚合](https://docs.djangoproject.com/en/dev/topics/db/aggregation/)功能。

使用您的模型，您可以执行以下操作：

```
counts = Share.objects.all().annotate(num_shares=Count("shared_user_id"))
for count in counts:
    print "%s - %s shares" % (count.files, count.num_shares) 
```

要获取特定文件的计数，假设`file`是表示给定文件的对象：

```
count = Share.objects.filter(files=file).annotate(num_shares=Count("shared_user_id"))
print count[0].num_count 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:27:16.383

你可以使用一个简单的查询来计算mysql

```
SELECT
    files_id,
    count(shared_user_id) AS `Shared`
FROM mytable
GROUP BY files_id
ORDER BY files_id 
```

# neo4j - Cypher 查询产生不完整的结果 (neo4j-1.9-SNAPSHOT)

> ID：15426886
> 
> 赞同：0
> 
> 时间：2013-03-15T07:25:51.370
> 
> 标签：neo4j, cypher

在 Windows 7 上对数据库“neo4j-1.9-SNAPSHOT”执行密码查询时遇到了问题。可以从[Google Groups](http://groups.google.com/forum/?hl=ru&fromgroups=#!topic/neo4j/jKt9r2q4ZAk)中的主题下载该数据库。

当我在 Web 管理控制台中运行第 2 个查询时，我没有将 id ="45" 的节点作为结果列表中路径中的第一个节点。

```
1) start a = node:my_nodes(label='2826'), b = node:my_nodes(label='2826')
match a-[r1]-b
with a, b, r1
match b-[r2]-c
where c.label = 2826 and r1.label = r2.label and id(r1) <> id(r2)
return id(a), id(b), id(c), id(r1), id(r2); 

2) START n0=node:my_nodes(label='2826'), n1=node:my_nodes(label='2826'), 
      n2=node:my_nodes(label='2826')
MATCH n0-[r0]-n1-[r1]-n2
where r0.label = r1.label and id(r0)<>id(r1) 
RETURN id(n0), id(n1), id(n2), id(r0), id(r1); 
```

但是，当我运行第三个查询时，id="45" 的节点肯定应该在前两个查询的结果列表中。此外，在检查数据库时似乎是这种情况。

```
3) start a = node(45), b = node:my_nodes(label='2826')
match a-[r1]-b
with a, b, r1
match b-[r2]-c
where a.label = 2826 and c.label = 2826 and r1.label = r2.label and id(r1) <> id(r2)
return id(a), a.label, id(b), id(c), id(r1), id(r2); 
```

在运行密码查询时：

```
start a = node:my_nodes(label='2826')
return id(a); 
```

id="45" 的节点在索引中。

任何想法前两个查询可能有什么问题？

# perl - 为什么在 perl 中并不总是调用 exit？

> ID：15426891
> 
> 赞同：0
> 
> 时间：2013-03-15T07:26:26.487
> 
> 标签：perl, exit

我有一个用于设置远程主机的 perl 脚本。这是它的中断处理程序，以防万一出现问题：

```
sub interrupt
{
    $SIG{'__DIE__'} = '';
    my $signal = shift;
    print STDERR "Error $SELF_NAME: Bootstrapping of host '$REMOTE_HOST' is interrupted with error '$signal', deleting remote temporary directory $REMOTE_TEMP_DIR.\n";
    remote_exec("perl -e \"use File::Path; rmtree('$REMOTE_TEMP_DIR');\"", $REMOTE_HOST, $REMOTE_EXEC_METHOD, $REMOTE_EXEC_PORT, $USERNAME, $PASSWORD, 0, 1);
    exit 1;
} 
```

并且这个处理程序总是在需要时被调用。所以我可以在`STDERR`. 但是`exit 1;`没有被调用并且脚本返回`exit_code = 0`. **但是**`print STDERR "After remote_exec and before exit";`，如果我在处理程序的最后两行之间添加这一行，它工作正常（即返回`exit_code = 1`）。

注意：当我在本地主机上测试它时，`remote_exec`只需在内部调用。`system($COMMAND)`

**更新**

添加有关如何调用脚本的一些详细信息：

我从我的 C++ 程序运行脚本，该程序跟踪其标准日志并检查退出状态，如果退出状态不等于**0**，它会打印一些错误。因此，当我在脚本之间添加一些额外的行时，`exit`我`system`可以看到我的 C++ 程序打印的错误，但是如果没有这样的额外行，C++ 程序会告诉脚本已成功退出，这意味着退出状态为**0**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:33:57.067

你实际上并没有演示这个问题，所以我不得不猜测如何演示它，并且失败了。

```
$ perl -e'
   sub interrupt {
      $SIG{"__DIE__"} = "";
      my $signal = shift;
      print STDERR "...\n";
      system("echo ...");
      exit 4;
   }
   $SIG{INT} = \&interrupt;
   <>;
'
^C...
...

$ echo $?
4 
```

（使用 4 是因为它比 1 更有特色。）

您甚至说“未调用”是什么意思？您似乎表明程序确实由于中断而退出，这意味着它被调用了。

# clipboard - 在 ABAP 中拆分剪贴板导入

> ID：15426908
> 
> 赞同：5
> 
> 时间：2013-03-15T07:28:09.167
> 
> 标签：clipboard, abap

我正在使用 CLPB_IMPORT 功能模块将剪贴板获取到内部表。没关系。我正在复制两列 Excel 数据。所以它用分隔符'#'填充表格，比如；

> 1.  4448#3000
> 2.  4449#4000
> 3.  4441#5000

但问题是拆分这些字符串。我正在努力;

```
LOOP AT foytab.
    SPLIT foytab-tab  AT '#' INTO temp1 temp2.
ENDLOOP. 
```

但它不会分裂。它将整行放入 temp1。我认为分隔符不是我想的那样（'#'）。因为当我使用分隔符'#'手动编写字符串时，它会分裂。

你知道如何分割这个吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T07:55:07.293

您不应该使用`CLPB_IMPORT`它，因为它已明确标记为过时。改为使用`CL_GUI_FRONTEND_SERVICES=>CLIPBOARD_IMPORT`。

数据可能不是由制表符分隔`#`而是由制表符分隔。您可以在调试器的十六进制视图中检查这一点。`#`只是 UI 用于任何不可打印字符的替换符号。如果分隔符是制表符，则可以使用常量`CL_ABAP_CHAR_UTILITIES=>HORIZONTAL_TAB`。

![在此处输入图像描述](../Images/4d4fe828946d0a4ab171916d3e259cb2.png)

# delphi - 如何使用 TADODataSet 修改计算字段？

> ID：15426925
> 
> 赞同：2
> 
> 时间：2013-03-15T07:29:31.980
> 
> 标签：delphi, delphi-xe, tclientdataset, calculated-field, tadodataset

我有一个`TADODataset`执行（仅用于示例）：

```
SELECT id, name, lastname, name + ' ' + lastname as fullname
FROM persons
ORDER BY lastname 
```

打开数据集后，我可以修改`"name"`和`"lastname"`字段，但不能修改`"fullname"`，因为它是计算出来的。

我尝试打开`TADODataset`via `TClientDataset`，`DataProvider`但时间太长（源数据集中大约有 10 万条记录）：

```
SrcDS.FieldDefs.Update;
for i := 0 to Pred(SrcDS.FieldDefs.Count) do
  SrcDS.FieldDefs[i].CreateField(SrcDS).ReadOnly := false;
DestDS := TClientDataset.Create(nil);
DestDS.SetProvider(SrcDS);
DestDS.Open;
DestDS.SetProvider(nil); 
```

总而言之，我想要一个具有可变字段的独立数据集。
如何修改数据集中的计算字段？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:32:29.527

您必须在 Delphi 中计算字段。通过右键单击 TADODataset 组件创建一个新字段，选择`New Field`，为其命名并将其类型设置为“计算”。

在 OnCalculateFields-Event 中简单地写：

```
Procedure TMyDataModule.MyDatasetCalculate(Sender : TDataset);
Begin
  MyDataSetFullName.AsString := MyDatasetFirstName.AsString+' '+MyDataSetLastName.AsString;
End; 
```

更新：关于您的第二个问题（100.000 条记录）：如果您使用 LockType = ltBatchOptimistic 将它们加载到您的 ADODataset 中，它将足够快并且没有任何内容保存到数据库中，除非您调用`UpdateBatch`方法。

如果这仍然太慢，请尝试使用异步加载功能（请参阅`ExecuteOptions`）

# android - GPS在中国的Android应用程序中不起作用

> ID：15426930
> 
> 赞同：0
> 
> 时间：2013-03-15T07:29:45.013
> 
> 标签：android, gps

来自中国的人可以确认谷歌位置服务是否在中国工作。使用基于 Mapquest 位置的服务的 android 应用程序无法检测到 GPS。任何替代解决方案都是可以接受的。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T08:03:43.863

要回答您的问题，是的，它正在工作。我能够成功连接。

地点：中国，福建厦门

方法：

1.  Wifi 开启 + gps 开启 = 工作
2.  Wifi 关闭 + gps 打开 = 工作
3.  Wifi 开启 + gps 关闭 = 工作
4.  3G 开启 + gps = 工作
5.  3G 关闭 + gps = 工作

所有测试均未使用 VPN。使用的应用程序：谷歌地图、导航

不知道3G对精度有没有实际影响。不是 GEO loc 专家。

# mysql - MySQL 查询以生成每个月的日期、项目和计数表

> ID：15426932
> 
> 赞同：1
> 
> 时间：2013-03-15T07:29:51.127
> 
> 标签：mysql, count

我接近解决这个问题，但需要轻推才能完成。我的数据集有 1 月、2 月和 3 月的记录。

```
enter code here

Select
  cartypes.TypeName,
  Count(cartypes.TypeName) As Count,
  COUNT(MONTH(maindata.CreatedDate) = 1) As Jan,
  COUNT(MONTH(maindata.CreatedDate) = 2) As Feb
From maindata
  Inner Join cartypes
    On maindata.TypeID = cartypes.CarType_ID
Group By cartypes.TypeName 
```

我的输出如下所示：

```
TypeName                      Count      Jan    Feb 
Accreditation Audit            23        1       0
Certificate Decision            5        1       0
Certification Decision          2        1       0
Complaint About Client          1        1       0
Customer Complaint              3        1       0
Internal Audit                  5        1       0 
Internal Finding                7        1       0
Preventative Action             1        1       0
Witness Audit                   1        0       1 
```

我尝试了几种不同的方法来尝试让每个记录的各种 TypeName 的计数在每个月都正确计数，但是我碰壁了。例如，Jan 应该显示认证审核的计数为 23，Feb 应该有 2 个认证决定和 1 个见证审核。

我希望我已经足够清楚了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T16:51:04.000

您当前的查询非常接近最终查询。您将需要使用`CASE`表达式来获取每个月的计数`TypeName`：

```
Select
  cartypes.TypeName,
  Count(cartypes.TypeName) As Count,
  sum(case when MONTH(maindata.CreatedDate) = 1 then 1 else 0 end) As Jan,
  sum(case when MONTH(maindata.CreatedDate) = 2 then 1 else 0 end) As Feb
From maindata
Inner Join cartypes
  On maindata.TypeID = cartypes.CarType_ID
Group By cartypes.TypeName 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!2/7729a/1)。

或者您可以`COUNT`使用`CASE`：

```
Select
  cartypes.TypeName,
  Count(cartypes.TypeName) As Count,
  count(case when MONTH(maindata.CreatedDate) = 1 then cartypes.TypeName end) As Jan,
  count(case when MONTH(maindata.CreatedDate) = 2 then cartypes.TypeName end) As Feb
From maindata
Inner Join cartypes
  On maindata.TypeID = cartypes.CarType_ID
Group By cartypes.TypeName 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!2/7729a/2)

两个查询都给出了结果：

```
|               TYPENAME | COUNT | JAN | FEB |
----------------------------------------------
|    Accreditation Audit |     4 |   3 |   1 |
|   Certificate Decision |     1 |   0 |   1 |
| Certification Decision |     3 |   1 |   2 |
| Complaint About Client |     3 |   3 |   0 |
|     Customer Complaint |     3 |   0 |   3 |
|         Internal Audit |     2 |   2 |   0 |
|       Internal Finding |     1 |   1 |   0 |
|    Preventative Action |     5 |   0 |   5 |
|          Witness Audit |     5 |   4 |   1 | 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T16:59:23.480

通过改变：

```
COUNT(MONTH(maindata.CreatedDate) = X) as [Jan,Feb,etc]

to

SUM(IF(MONTH(maindata.CreatedDate) = X, 1,0)) as [Jan,Feb,etc] 
```

Jan、Feb 等列现在具有正确的值，当汇总所有月份时，该值等于 TypeName 的 Count 值。

# android - 在android中的设计时更改textview字体类型

> ID：15426934
> 
> 赞同：1
> 
> 时间：2013-03-15T07:30:01.557
> 
> 标签：android

我是新的 android 开发人员，我正在设计这种类型的应用程序，在我的应用程序中，我想在 Eclipse 中更改不同字体时在**设计时查看 textview 的实际外观**。

在这里，我举一个例子。

![在此处输入图像描述](../Images/463d951d1b385f870c7d5e3a2569d6d7.png)

请帮助我有什么办法可以在设计时看到不同的字体样式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:35:45.287

你可以使用[TTF字体](http://www.webpagepublicity.com/free-fonts.html)。你需要下载并将它放在assets文件夹中，然后使用Typeface。你必须根据项目要求在运行时进行管理。

```
TextView tv=(TextView)findViewById(R.id.tv);
Typeface face=Typeface.createFromAsset(getAssets(), "fonts/Alan Den.ttf");
 tv.setTypeface(face); 
```

希望这会奏效，如有任何疑问，请告诉我。祝你好运

# joomla - Joomla 1.5 - 在模式弹出窗口中显示内容？

> ID：15426938
> 
> 赞同：1
> 
> 时间：2013-03-15T07:30:07.023
> 
> 标签：joomla

我想放置一个指向包含一些 HTML 的文章的链接，并将其显示在模式弹出窗口中。我的网站上可能尚未启用模态弹出窗口。我怎样才能启用它们？

**解决了：**

许多 JOOMLA 模板打开模态行为。如果不将此添加到主索引`<head></head>`

```
<?php JHTML::_('behavior.modal'); ?> 
```

在文章（HTML 编辑器）上使用 class="modal"。格式化您的链接，如：

```
<a class="modal" href="terms/tou.html" rel="{handler:'iframe',size:{x:700,y:600}}">TOU</a> 
```

# android - 使用图表引擎在饼图中显示 %ofDistribution

> ID：15426940
> 
> 赞同：4
> 
> 时间：2013-03-15T07:30:07.837
> 
> 标签：android, achartengine

我正在尝试在我的 android 应用程序中创建一个饼图。[这个](https://stackoverflow.com/questions/6591154/android-achartengine-simple-pie-chart)使用 achartengine 的链接有帮助。但我仍然有一个问题。我想在饼图本身中显示分布百分比

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-17T08:41:45.080

我也在寻找同样的东西。[但请参阅 Dan here](https://stackoverflow.com/questions/13657432/how-to-set-different-values-for-legend-and-labels-in-piechart-while-i-am-using-c)给出的答案。我想他是 AChartEngine 背后的人，他说图例和标签的名称不能不同。

**更新：**

尽管我所做的就是将图例大小设为 0。然后在标签中我将标签和计算的百分比设置在一起。因此，在您的情况下，标签将变成：

镁+：23%

Na+ : 45% ...依此类推。

**更新：2**

此问题存在于 1.0.0 版本中，并已在最新版本 1.1.0-rc2 版本中解决。你可以从[这里](http://www.achartengine.org/download/)下载。[现在正如@Dan](https://stackoverflow.com/questions/13657432/how-to-set-different-values-for-legend-and-labels-in-piechart-while-i-am-using-c/15471237#15471237)所说，我们可以有不同的 Legend 和 Label 值。我们还可以使用：

```
renderer.setDisplayValues(true); 
```

在饼图中显示百分比分布。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-04-23T05:44:46.407

为了以 % 形式获取详细信息，您可以使用以下内容：

```
renderer.setChartValuesFormat(NumberFormat.getPercentInstance()); 
```

# ruby-on-rails - 从 Rails 中的多个表中选择总和结果

> ID：15426944
> 
> 赞同：1
> 
> 时间：2013-03-15T07:30:11.307
> 
> 标签：ruby-on-rails, ruby-on-rails-3, postgresql, activerecord

我在 Rails 控制台中工作。我想在两个不同的表中选择同名列的总和。

这是我的 ActiveRecord 代码：

```
Computer.joins(:services, :repairs)
.select("computers.id, SUM(services.cost) as SCOST, SUM(repairs.cost) as RCOST")
.group("computers.id") 
```

这很好用并返回以下正确的 SQL：

```
`SELECT computers.id, SUM(services.cost) as SCOST, SUM(repairs.cost) as RCOST 
FROM "computers" INNER JOIN "services" ON "services"."computer_id" = "computers"."id" 
INNER JOIN "repairs" ON "repairs"."computer_id" = "computers"."id" 
GROUP BY computers.id ` 
```

但它在 Rails 控制台中给出了以下结果：

```
=> [#<Computer id: 36>, #<Computer id: 32>] 
```

我不应该也可以访问我的 SUM 值吗？我在 postgres 中运行了上述 SQL 查询，它给出了所需的输出。

任何帮助，将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:43:55.137

Rails 控制台使用[检查](https://github.com/rails/rails/blob/3-2-stable/activerecord/lib/active_record/base.rb#L418)方法来显示对象内容。此方法不显示自定义字段的值。您将能够通过显式引用它在控制台上打印自定义属性的值。

```
Computer.joins(:services, :repairs)
.select("computers.id, SUM(services.cost) as scost, SUM(repairs.cost) as rcost")
.group("computers.id").each do |c|
  puts c.scost
  puts c.rcost
end 
```

**编辑**

基于评论的示例：

在控制器中创建一个成员变量：

```
@computers = Computer.joins(:services, :repairs)
.select("computers.id, SUM(services.cost) as scost, SUM(repairs.cost) as rcost")
.group("computers.id") 
```

迭代视图中的变量

```
- @computers.each do |computer| 
  = computer.scost
  = computer.rcost 
```

**编辑2**

您需要用于`LEFT OUTER JOIN`获取缺少维修或服务的计算机的值。

```
join_sql = "LEFT OUTER JOIN services ON services.computer_id = computers.id
            LEFT OUTER JOIN repairs ON repairs.computer_id = computers.id"
sum_sql  = "SUM(COALESCE(services.cost, 0)) as scost, 
            SUM(COALESCE(repairs.cost, 0)) as rcost"

@computers = Computer.joins(join_sql)
.select("computers.id, #{sum_sql}")
.group("computers.id") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:36:43.853

尝试如下，

```
@computer_list = Computer.joins(:services, :repairs).select("computers.id, SUM(services.cost) as SCOST, SUM(repairs.cost) as RCOST").group("computers.id")
@computer_list.last.SCOST 
```

# java - 为什么这个mysql插入在java JDBC中失败

> ID：15426945
> 
> 赞同：0
> 
> 时间：2013-03-15T07:30:20.520
> 
> 标签：java, mysql, jdbc

```
try
         {
            String sql="INSERT INTO `task`(`task`,`time`) VALUES(?,?)";
            PreparedStatement stmt=this.connection.prepareStatement(sql);
            stmt.setString(1, this.task);
            stmt.setInt(2, this.time);
            //stmt.
            Boolean res= stmt.execute(sql);
         }
         catch(Exception e)
         {
             System.err.println(e);
         } 
```

错误：

com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 '?,?)' 附近使用正确的语法

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:32:11.087

不要使用

```
stmt.execute(sql); 
```

利用

```
stmt.execute(); 
```

执行你的`PreparedStatement`.

您使用的第一个尝试执行给定的字符串，由于其中的占位符值，这显然不是您想要执行的`'?'`（它是`java.sql.Statement`接口的一种方法）。

第二个是方法 from`java.sql.PreparedStatement`并`PreparedStatement`使用您通过`setXXX()`方法输入的值执行。

* * *

另外，在您的情况下，您的字符串中不需要刻度，您可以只写

```
String sql="INSERT INTO task(task,time) VALUES(?,?)"; 
```

# java - Listview 在第一行显示错误的图像

> ID：15426946
> 
> 赞同：1
> 
> 时间：2013-03-15T07:30:21.683
> 
> 标签：java, android

我已经通过 SO 进行了搜索，发现了 4 个类似的问题，但似乎这个问题是不同的。我也花了大约 7 个小时来解决这个单一的 bug，并没有找到我做错的地方。

**问题：**
ListView 中的每一行都包含两个图像。当我启动活动时，第一行中的一个或两个 imageView 显示错误的图像，这仅在启动后**有时**发生。有时，启动后显示正确图像的行。

当我向下滚动隐藏第一行，然后再次向上滚动时，图像会变为正确的图像。

**尝试的解决方案：**
我发现只有一个解决方案，就是在 getView 方法的开头设置 convertView = null 。是的，它可以正常工作，imageView 显示正确，但会导致其他问题和错误。滚动变得不流畅，有时一些图像变得太小了。

**注意：**
在我运行调试后，数据没有问题，每行的数据都正确获取。

**我的代码**
MatchAdapter.class getView 方法

```
public View getView(int position, View convertView, ViewGroup parent) {
    Match entry = listMatch.get(position);

    MatchAdapter.ViewHolder myViewHolder;

    if(convertView == null) {

        LayoutInflater inflater = (LayoutInflater) context
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        convertView = inflater.inflate(R.layout.match_row, parent, false);

        myViewHolder = new MatchAdapter.ViewHolder();

        myViewHolder.home_team_name = (TextView) convertView.findViewById(R.id.home_team_name);
        myViewHolder.away_team_name = (TextView) convertView.findViewById(R.id.away_team_name);
        myViewHolder.home_logo_view = (ImageView) convertView.findViewById(R.id.home_team_logo);
        myViewHolder.away_logo_view = (ImageView) convertView.findViewById(R.id.away_team_logo);
        myViewHolder.venue = (TextView) convertView.findViewById(R.id.venue);
        myViewHolder.time = (TextView) convertView.findViewById(R.id.time);
        convertView.setTag(myViewHolder); 

    } else {
        myViewHolder = (ViewHolder) convertView.getTag(); 
    }

    ImageLoader imageLoader = new ImageLoader(this.context, "com.myapps", R.drawable.team_logo);

    imageLoader.DisplayImage("http://myapps.com/assets/images/logos/"+ entry.getHome_team_logo(), 
            myViewHolder.home_logo_view);
    imageLoader.DisplayImage("http://myapps.com/assets/images/logos/" + entry.getAway_team_logo(), 
            myViewHolder.away_logo_view); 

    myViewHolder.home_team_name.setText(entry.getHome_team_name());
    myViewHolder.away_team_name.setText(entry.getAway_team_name());
    myViewHolder.venue.setText(entry.getVenue());
    myViewHolder.time.setText(entry.getTime());

    return convertView;
} 
```

其他相关代码：

[ImageLoader.class](http://www.androidsnippets.com/imagesloaderclass)（我不希望这个问题变得太长而无法滚动）

感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:44:04.747

我的猜测是以下代码是

> 匹配项 = listMatch.get(position);

太早了。ListView 的 getView 是多线程的，它需要一些时间来膨胀布局来转换视图。不知何故，变量引用变得不正确。

调用匹配项 = listMatch.get(position); 后

否则 { myViewHolder = (ViewHolder) convertView.getTag(); }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T19:34:11.190

问题解决了！我使用lazylist重新设计了我的整个代码，下面是fedor[的示例 LazyList的简单演示](https://github.com/thest1/LazyList)

我从这里找到了[如何在 ListView 中延迟加载图像](https://stackoverflow.com/questions/541966/how-do-i-do-a-lazy-load-of-images-in-listview)

* * *

# java - 如何格式化这个字符串做正确的日期格式？

> ID：15426948
> 
> 赞同：0
> 
> 时间：2013-03-15T07:30:29.927
> 
> 标签：java, date

我对 Java 编程很陌生，我有这样的字符串：

```
2013-03-15T07:23:13Z 
```

我希望我可以将其转换为日期格式，例如：

```
15-03-2013 
```

那可能吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:35:09.963

参考这个链接

[如何更改 Java 中的日期格式？](https://stackoverflow.com/questions/3469507/how-can-i-change-the-date-format-in-java)

见克里斯托弗·帕克先生给出的答案

它已经解释了您的所有需求，它将为您提供逻辑上正确的最简单的解决方案

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T07:44:29.013

尝试这个 ：

```
try {
    DateFormat sourceDateFormat = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss'Z'");
    DateFormat targetFormat = new SimpleDateFormat("dd-MM-yyyy");

    String strSourceDate = "2013-03-15T07:23:13Z";
    Date targetDate = (Date) sourceDateFormat.parseObject(strSourceDate);
    String strTargetDate = targetFormat.format(targetDate);
    System.out.println(strTargetDate);

} catch (ParseException e) {
     e.printStackTrace();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T07:34:23.913

如果输入字符串的格式是固定的，那么最简单和最方便的方法是使用字符串操作：

```
String s = "2013-03-15T07:23:13Z";
String res = s.substring(8, 10)+"-"+s.substring(5, 7)+"-"+s.substring(0, 4); 
```

它会让你免于处理日期和日历。这是[关于 ideone 的演示](http://ideone.com/JmScTn)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T07:40:18.057

尝试这个：

```
 Date dNow = new Date( );
  SimpleDateFormat ft = 
  new SimpleDateFormat ("dd.MM.yyyy");

  System.out.println("Current Date: " + ft.format(dNow)); 
```

是输出

```
 Current Date: 15.03.2013 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T07:40:52.890

`java.text.SimpleDateFormat`是你需要的：[SimpleDateFormat JavaDoc](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)

您需要一种格式来使用该方法将您的输入`String`转换为 a ，然后使用另一种格式将其转换为您想要的格式。`Date``parse()``Date``String``format()`

如果您的应用程序可以在国际上使用，请不要忘记考虑正确本地化第二个函数的输出。2013 年 3 月 11 日在某些国家/地区是 3 月 11 日，在其他国家/地区是 11 月 3 日。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-15T07:57:57.887

使用[SimpleDateFormat](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html)

```
 String strDate = "2013-03-15T07:23:13Z";
    SimpleDateFormat dateFormat = new SimpleDateFormat("dd-MM-yyyy");
    String date = dateFormat.format(strDate);
    System.out.println("Today in dd-MM-yyyy format : " + date); 
```

希望对你有帮助...

# database - 通过 VB.net 用数据填充 .mdb 文件

> ID：15426949
> 
> 赞同：1
> 
> 时间：2013-03-15T07:30:36.787
> 
> 标签：database, vb.net, ms-access, dataset, oledb

我在 VB.net 上使用 oledb 和 DataSets 来填充访问数据库 (.mdb)。它在以下过程中起作用：

*   我有一个现有的 .mdb 文件，其中包含数据
*   为现有的 .mdb 文件创建 oledb-dataadapter
*   用文件中的数据填充 DataSet/DataTable (adapter.fill())
*   向数据集添加新行
*   用数据填充行
*   通过数据适配器将数据集/数据表更新到 .mdb 文件

这工作这么久，问题是：我用几千个数据集做这个过程几千次。时不时地，这个时间越来越长。我认为这是因为数据适配器必须一直遍历整个数据库，并且因为我一直从数据库中获取整个数据集，并将其更新回数据库。

所以我的问题是：是否有机会以其他方式做到这一点？没有从数据库中取出整个数据并将其取回？并且不经过整个数据库？也许使用 sql-connection 然后在数据库末尾添加一行？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:17:10.493

如果您只添加行 - 为什么不使用`SqlOleDBCommand`？他有方法`.ExecuteScalar()`

# iphone - SDWebImage 未运行

> ID：15426961
> 
> 赞同：0
> 
> 时间：2013-03-15T07:31:51.440
> 
> 标签：iphone, ios, ios6, sdwebimage

这个问题可能很奇怪，但它正在发生，我没有得到它。

我刚刚从[https://github.com/rs/SDWebImage](https://github.com/rs/SDWebImage)下载了代码并尝试运行示例项目。

它正在成功构建，但没有运行。为什么？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:32:43.180

您需要将项目方案更改为 SDWebImageDemo，然后点击播放/运行按钮。它会起作用的。

# java - Java/SSL - 处理异常：java.security.NoSuchAlgorithmException

> ID：15426965
> 
> 赞同：0
> 
> 时间：2013-03-15T07:32:06.387
> 
> 标签：java, ssl

我也想知道如何忽略 Apache HttpClient 4.0 中的 SSL 证书错误，所以我读了这篇文章：<a href="https://stackoverflow.com/questions/2703161/how-to-ignore-ssl-certificate-errors -in-apache-httpclient-4-0">如何忽略 Apache HttpClient 4.0 中的 SSL 证书错误并照它说的做。

但我在这个声明中的 intellij 想法中有一个错误：

```
 SSLContext sslContext = SSLContext.getInstance("SSL"); 
```

处理异常：java.security.NoSuchAlgorithmException。

我也试过“TLS”但没用。

请问有人知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:54:46.680

你得到这个编译错误是因为`SSLContext.getInstance("SSL");`抛出了一个你必须处理的检查异常。

通过用 try-catch 块包围该行：

```
try {
   SSLContext sslContext = SSLContext.getInstance("SSL");
} catch (NoSuchAlgorithmException e) {
   /// handle e
} 
```

或添加`throws NoSuchAlgorithmException`到方法定义中。

这是 Java 基础知识，您应该学习一些关于异常的知识：[课程：异常](http://docs.oracle.com/javase/tutorial/essential/exceptions/)

# colors - 使用 ImageMagick 去除图像中除黑色以外的所有颜色？

> ID：15426968
> 
> 赞同：10
> 
> 时间：2013-03-15T07:32:11.073
> 
> 标签：colors, imagemagick

情况是：我有很多扫描文件的图像。我想保留文档的主要内容 - 以黑色打印（#000000 附近的一小部分颜色）。但是，您知道，文件总是充满色彩：印章、背景、装饰品、标志……等等。

我只想保留以黑色打印的文本。

到目前为止，我已经尝试过[ImageMagick和这个命令：](http://www.imagemagick.org)

```
convert X.png -matte (+clone -fuzz 20% -transparent "#000000") -compose DstOut -composite X1.png 
```

但结果并不像预期的那样，文字非常损坏，我无法阅读。有人建议我将模糊度提高到 70%：

```
convert X.png -matte (+clone -fuzz 70% -transparent "#000000") -compose DstOut -composite X1.png 
```

然后文本似乎更具可读性，但其他颜色也保持不变。

你能告诉我一个更好的解决方案吗？每一个建议都将受到高度赞赏！

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2014-01-07T16:08:13.490

要匹配**除黑色以外的所有颜色**，您可以使用`+opaque "#000000"`.

为了在#000000 附近包含一个小范围，您可以使用`fuzz`运算符尝试不同的百分比：

```
convert input.png -fill white -fuzz 10% +opaque "#000000" result.png 
```

*在 Windows 上使用 ImageMagick 6.6.0-1 测试*

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-31T21:31:58.797

我在寻找这个问题的答案时偶然发现了这个问题。我发现了一些有帮助的 imagemagick 论坛帖子。这是我想出的：

```
convert input.gif -matte \( +clone -fuzz 1 -transparent black \) -compose DstOut -composite ~/Desktop/output.png 
```

论坛帖子：[ImageMagick：删除除一种颜色以外的所有颜色](http://www.imagemagick.org/discourse-server/viewtopic.php?f=1&t=9568&start=0)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-07-02T06:04:20.747

您应该尝试[level](http://www.imagemagick.org/Usage/color_mods/)命令：

```
convert test.png -level 25%,75% test_level.png 
```

# c# - 居中数据网格组合框文本

> ID：15426971
> 
> 赞同：1
> 
> 时间：2013-03-15T07:32:20.947
> 
> 标签：c#, wpf, wpfdatagrid

如何在 DataGridView 中将 ComboBox 列的文本居中？

DataGrid 使用不同类型的列动态更新：

```
foreach (Fields field in fields)
                {
                    if (field.group.Count > 1)
                    {
                        DataGridComboBoxColumn column = new DataGridComboBoxColumn();
                        column.Header = field.name;
                        column.ItemsSource = field.group;
                        column.SelectedValueBinding = new Binding(field.name)
                        {

                        };
                        dgwDataMain.Columns.Add(column);
                    }
                    else
                    {
                        DataGridTextColumn column = new DataGridTextColumn();
                        column.Header = field.name;
                        column.Binding = new Binding(field.name)
                        {
                            Mode = BindingMode.TwoWay,
                            UpdateSourceTrigger = UpdateSourceTrigger.PropertyChanged,
                            NotifyOnSourceUpdated = true,
                            NotifyOnTargetUpdated = true
                        };
                        dgwDataMain.Columns.Add(column);
                    }
                } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T10:53:49.497

WinForm 的解决方案`DataGridView`：

在您创建 ComboBox 列的代码中，添加下一行：

```
column.DefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleCenter 
```

# c++ - boost::filesystem 添加引号？

> ID：15426973
> 
> 赞同：5
> 
> 时间：2013-03-15T07:32:26.047
> 
> 标签：c++, boost, boost-filesystem

使用 boost_filesystem 时，Boost 会不断在文件名中添加引号。

foo.cpp：

```
#include <iostream>
#include <boost/filesystem.hpp>

int main( int argc, char * argv[] )
{
    std::cout << argv[0] << std::endl;
    boost::filesystem::path p( argv[0] );
    std::cout << p << std::endl;
    std::cout << p.filename() << std::endl;
    return 0;
} 
```

编译：

```
g++ foo.cpp -o foo -lboost_filesystem -lboost_system 
```

输出：

```
./foo
"./foo"
"foo" 
```

这有点出乎意料，在我的情况下也不方便。这真的是故意的，还是在这方面我的 Boost (1.46.1) 版本有点旧？有什么方法可以避免它们被添加吗？

我仔细阅读了文档，但除了教程*没有*在其示例输出中显示这些引号之外，我并没有受到启发。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T07:43:41.110

这实际上是1.47.0 版本的 Boost 框架上的一个[错误。](https://svn.boost.org/trac/boost/ticket/5702)

建议的解决方法是：

```
std::cout << path("/foo/bar.txt").filename().string() 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-15T07:38:41.060

这是故意的，因为意外的嵌入空间和混淆相关代码。你能做的最好的可能是：

```
boost::replace_all(yourquotedstring, "\"", ""); 
```

**编辑**

尽管根据[此链接](https://svn.boost.org/trac/boost/ticket/5702)，您可以尝试以下操作：

```
std::cout << path("/foo/bar.txt").filename().string(); 
```

# vb.net-2010 - 如何使用 vb.net 动态加载 Telerik RadComboBox 中的值？

> ID：15426989
> 
> 赞同：-1
> 
> 时间：2013-03-15T07:33:11.857
> 
> 标签：vb.net-2010

如何使用 vb.net 在 Telerik RadComboBox 中动态加载学年？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T09:41:09.683

我找到了如何在telerik radComboBox中加载学年值的答案希望这对每个人都有用。

```
 Dim dat As String = Month(Now()).ToString()
        Dim fromdate As String
        Dim todate As String

        If Month(Now()) > 6 Then
            fromdate = Year(Now()).ToString
            todate = (Year(Now()) + 1).ToString
        Else

            fromdate = (Year(Now()) - 1).ToString
            todate = Year(Now()).ToString

        End If

        txtacademicYear.Items.Insert(0, New RadComboBoxItem(Val(fromdate - 2).ToString + "-" + Val(fromdate - 1).ToString))
        txtacademicYear.Items.Insert(1, New RadComboBoxItem(Val(fromdate - 1).ToString + "-" + fromdate))
        txtacademicYear.Items.Insert(2, New RadComboBoxItem(fromdate + "-" + todate))
        txtacademicYear.Items.Insert(3, New RadComboBoxItem(Val(fromdate + 1).ToString + "-" + Val(todate + 1).ToString))
        txtacademicYear.Items.Insert(4, New RadComboBoxItem(Val(fromdate + 2).ToString + "-" + Val(todate + 2).ToString))
        txtacademicYear.SelectedIndex = 2 
```

# windows-runtime - WinRT 中相当大的水平项控件

> ID：15426990
> 
> 赞同：1
> 
> 时间：2013-03-15T07:33:15.377
> 
> 标签：windows-runtime, windows-store-apps, winrt-xaml, itemscontrol

我想要一个项目控件，它以水平对齐方式显示项目，它应该在整个可用的水平空间上拉伸/调整大小。目前我有 7 列，但数量可能是动态的。

首先，我使用堆栈面板作为这样的项目：

```
<ItemsControl.ItemsPanel>
    <ItemsPanelTemplate>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch"/>
    </ItemsPanelTemplate>
</ItemsControl.ItemsPanel> 
```

这适用于水平对齐要求。但是，正如堆栈面板所做的那样，它不会拉伸。与设备的可用空间无关，它始终具有相同的大小。

我应该使用什么 Items.Panel 来实现这一点？

有什么建议吗？

提前谢谢了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T15:46:01.590

你可以试试 UniformGrid。WinRT XAML 工具包中有[一个](http://winrtxamltoolkit.codeplex.com/SourceControl/changeset/view/9c814f6c67c5#WinRTXamlToolkit/Controls/UniformGrid/UniformGrid.cs)。

# c# - XML 模式验证结果“未声明属性”

> ID：15426992
> 
> 赞同：1
> 
> 时间：2013-03-15T07:33:37.813
> 
> 标签：c#, xsd

我根据我的 XML 模式验证 XML 文档。我最近在 XML 文件和 XSD 模式中添加了一个新属性。但是在进行验证时，我总是会遇到异常

> *base{System.EventArgs}：{System.XML.Shema.ValidationEventArgs}
> 异常：“未声明 Anhaenger 属性。
> 消息：“未声明 Anhaenger 属性。*

这是我的 XSD 架构中的声明：

```
<xs:attribute id="Anhaenger" name="Anhaenger" use="optional">
   <xs:simpleType>
      <xs:restriction base="D2TAnhaenger_Type" />
   </xs:simpleType>
</xs:attribute>
<xs:simpleType id="D2TAnhaenger_Type" name="D2TAnhaenger_Type">
   <xs:restriction base="xs:string">
      <xs:maxLength value="70" />
      <xs:whiteSpace value="collapse" />
   </xs:restriction>
</xs:simpleType> 
```

这是 XML 文件中的属性：

```
 Anhaenger="ANH - 0815" 
```

这是我用于在我的应用程序中进行更正的代码：

```
protected XmlDocument ValidateAndCorrect(Stream XMLStream)
{
    // Verwenden von XMLReader, damit die Schemainformationen an den Knoten angefügt werden.
    // Dann können wir später korrigieren.
    XmlReaderSettings settings = new XmlReaderSettings();
    settings.Schemas.Add("", m_SchemaFile);
    settings.ValidationEventHandler += new ValidationEventHandler(ValidationEventHandler);
    settings.ValidationFlags |= XmlSchemaValidationFlags.ProcessInlineSchema;
    settings.ValidationType = ValidationType.Schema;

    // Dokument aus dem Stream holen.
    XmlDocument document = new XmlDocument();
    XMLStream.Seek(0, SeekOrigin.Begin);
    XmlReader reader = XmlReader.Create(XMLStream, settings);
    document.Load(reader);

    int i = 0;

    bool validate = true;
    while (validate)
    {
        i++;
        Debug.WriteLine("--- Validierung und Korrektur beginnt ---");
        Debug.WriteLine("Durchlauf Nummer: " + i.ToString());

        m_errors = new List<ValidationEventArgs>();
        document.Validate(this.ValidationEventHandler);
        validate = CorrectValidationResult(document.ChildNodes);
    }

    return document;
} 
```

那么，有人知道我做错了什么吗？非常感谢您的帮助

最好的问候阿德莱诺

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T12:28:12.770

问题在 XSD 的目标命名空间中；我猜（你没有显示 xs:schema 属性集）因为你的 XML 属性被声明为全局的，所以它必须以一个与你的模式的 targetNamespace 匹配的别名作为前缀。

# java - int obj=new someMethod(); 有效与否声明

> ID：15426999
> 
> 赞同：-3
> 
> 时间：2013-03-15T07:34:05.020
> 
> 标签：java

这个声明有效还是无效？

```
int obj=new someMethod(); 
```

另外我想知道当我们创建具有不同引用和构造函数的对象时它会产生什么差异，如下所示：

```
Object obj=new otherObject(); 
```

我的意思是它与

```
Object obj=new Object(); 
```

“someMethod”是另一个类“someMethod”的构造函数，“otherObject”也是类“otherObject”的构造函数。对象是一个类。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:37:38.883

大胆猜测这`someMethod`是一个类的方法，例如：

```
int someMethod() {
    // Code here
} 
```

...那`otherObject`是一个类的实例，那么不，这些陈述都不是有效的。

在 Java 中，`new`关键字用于创建类的实例。类不是方法，也不是对象。

该声明：

```
Object obj = new Object(); 
```

是有效的，并且有效，因为`Object`是一个类。

现在，当然，如果`otherObject`是一个*类*：

```
class otherObject {
    // Methods and such here
} 
```

...then`Object obj = new otherObject();`是一个有效的语句，因为所有类都派生自`Object`，因此可以将`otherObject`实例分配给声明为 的变量`Object`。请注意，在 Java 中，*压倒性*的约定是使用初始封顶的 CamelCase 作为类名（所以，`OtherObject`而不是`otherObject`）。

我建议退后一步，阅读一些不错的 Java 入门教程，这些教程将解释类、实例、方法等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:39:21.270

int obj=new someMethod(); 无效。int 是一种数据类型，而不是一个类。您不能从 int 继承，因此 someMethod 永远不可能是 int 类/对象。

如果 someMethod 是一种方法（顾名思义:)你可以有

```
int intObj = someMethod(); 
```

如果 someMethod 返回并且 int 像这样：

```
int someMethod()
{
    return 5;
} 
```

基础对象 obj=new otherObject(); 表示“otherObject”类继承自“baseObject”。例如，如果你有一个 Animal 类，那么像 Dog 这样的类可以从它继承，这样你就可以拥有

```
Animal spot = new Dog(); 
```

但你不能拥有

```
Dog spot = new Animal(); 
```

这是一个解释 java 继承的链接：http: [//docs.oracle.com/javase/tutorial/java/IandI/subclasses.html](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)

由于所有类都继承自 Object，所以 Object obj = new OtherObject(); 已验证

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:44:49.393

```
int obj=new someMethod(); 
```

无效，因为当您创建任何类的对象时，您无法为其分配基本数据类型。

```
Object obj=new otherObject(); 
```

是有效的，因为一个类的对象可以分配给它自己的类型或它的**超类**，并且`Object`类是所有的超类。