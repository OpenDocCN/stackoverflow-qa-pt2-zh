# StackOverflow 问答 14807000-14807999

# java - 将 OutputStream 或字节数组写入浏览器

> ID：14807000
> 
> 赞同：-4
> 
> 时间：2013-02-11T06:29:15.020
> 
> 标签：java, html, browser, java-io

我正在尝试在`OutputStream`不使用 servlet 的情况下直接将字节数组写入浏览器。

是否有任何 Java API 可以做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:47:24.597

使用`ServerSocket`( [http://docs.oracle.com/javase/1.4.2/docs/api/java/net/ServerSocket.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/ServerSocket.html) ) 监听端口 80。

如果有请求进来，`accept()`它会使用生成`Socket`的 's`getInputStream()`和`getOutputStream()`方法来获取流对象以处理数据传输。

然后只需解析传入的**请求**`InputStream`并通过. 然后，关闭连接，您就完成了。**`OutputStream`**

 **如果您需要编写一个实际上可以处理许多同时请求而不会影响性能的服务器，那么您绝对应该查看 Java 的 NIO 框架。如果可扩展性能是一个问题，请不要为每个连接使用一个线程**。****

# java - 使用谷歌集成时收到 HTTP 错误请求

> ID：14807011
> 
> 赞同：2
> 
> 时间：2013-02-11T06:29:55.280
> 
> 标签：java, android

我在使用 google plus api 时收到错误 HTTP bad request 。

```
public class OAuthActivity extends Activity {

    private SharedPreferences prefs;
    SharedPreferences.Editor prefEdit;
    private Person profile;

    final static int HTTP_RESPONSE_503 = 503;

    String status="status";
    String status_value="";
    String user_id_key="userid";
    String user_id="";
    String name_key="name" ;
    String name="" ;
    String user_type="user_type";
    String planidkey="plan_id";

    String login_status="";
    String username="",passwd="";
    String not_valid="Wrong Credentials";
    String valid="success";
    String plan_id_value="";
    boolean status_flag=false;

    SQLiteDatabase readfromdb,writeindb;
    DatabaseHelper postplanner_dbhelper;
    ContentValues values;
    int ordervalues;

    ProgressDialog pdia;

    SharedPreferencesCredentialStore credentialStore;
    Dialog type_dilog;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        this.prefs = PreferenceManager.getDefaultSharedPreferences(this);

        //       new OAuthRequestTokenTask(this).execute();
    }

    protected void onResume() {
        super.onResume();
        WebView webview = new WebView(this);
        webview.setVisibility(View.VISIBLE);
        webview.getSettings().setJavaScriptEnabled(true);
        setContentView(webview);

        postplanner_dbhelper=new DatabaseHelper(this);

        String googleAuthorizationRequestUrl = new GoogleAuthorizationRequestUrl(
                SharedPreferencesCredentialStore.CLIENT_ID,
                SharedPreferencesCredentialStore.REDIRECT_URI,
                SharedPreferencesCredentialStore.SCOPE).build();

        webview.setWebViewClient(new WebViewClient() {      
            public void onPageFinished(WebView view, String url) {

                if (url.startsWith(SharedPreferencesCredentialStore.REDIRECT_URI)) {
                    try {
                        if (url.indexOf("code=") != -1) {
                            // Url is like http://localhost/?code=4/Z5DgC1IxNL-muPsrE2Sjy9zQn2pF

                            String code = url.substring(
                                    SharedPreferencesCredentialStore.REDIRECT_URI.length() + 7,
                                    url.length());

                            AccessTokenResponse accessTokenResponse = new GoogleAuthorizationCodeGrant(
                                    new NetHttpTransport(),
                                    new JacksonFactory(),
                                    SharedPreferencesCredentialStore.CLIENT_ID,
                                    SharedPreferencesCredentialStore.CLIENT_SECRET,
                                    code, SharedPreferencesCredentialStore.REDIRECT_URI).execute();

                            credentialStore = SharedPreferencesCredentialStore
                            .getInstance(prefs);
                            credentialStore.write(accessTokenResponse);
                            view.setVisibility(View.INVISIBLE);

                            //*********fatch access token google plus ***************       
                            String _email = fetchGoogleEmail(accessTokenResponse.accessToken);
                            retrieveProfile();

                            Log.e("idddd",""+profile);
                            Log.e("idddd",""+profile.getId());

                            prefEdit=prefs.edit();
                            prefEdit.putString("gpuserid", profile.getId());
                            if(_email!="") {
                                Log.i("I","AN I AM NOT EMPTY");
                                prefEdit.putString("gpemail", _email);
                            } // # end if if mail not empty
                            prefEdit.commit();

                            new loginDetails().execute();

                            //finish();
                        }else if (url.indexOf("error=") != -1) {
                            view.setVisibility(View.INVISIBLE);
                            SharedPreferencesCredentialStore.getInstance(prefs)
                            .clearCredentials();
                            showAlertMessage();
                        }
                        /*else {
                            view.setVisibility(View.INVISIBLE);
                            SharedPreferencesCredentialStore.getInstance(prefs)
                                    .clearCredentials();
                            startActivity(new Intent(
                                    OAuthActivity.this,
                                    Login_Webservice.class));
                            finish();
                        }*/

                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
            }

        });

        webview.loadUrl(googleAuthorizationRequestUrl);
    }

    private void retrieveProfile() {
        try {

            JsonFactory jsonFactory = new JacksonFactory();
            HttpTransport transport = new NetHttpTransport();

            SharedPreferencesCredentialStore credentialStore = SharedPreferencesCredentialStore
            .getInstance(prefs);

            AccessTokenResponse accessTokenResponse = credentialStore.read();

            GoogleAccessProtectedResource accessProtectedResource = new GoogleAccessProtectedResource(
                    accessTokenResponse.accessToken, transport, jsonFactory,
                    SharedPreferencesCredentialStore.CLIENT_ID,
                    SharedPreferencesCredentialStore.CLIENT_SECRET,
                    accessTokenResponse.refreshToken);

            Builder b = Plus.builder(transport, jsonFactory).setApplicationName("Kimunita/1.0");

            b.setHttpRequestInitializer(accessProtectedResource);
            Plus plus = b.build();
            profile = plus.people().get("me").execute();

            //updateViews();
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }
    //***************Google +code Gourav++++++++++++++++++*/
    private String fetchGoogleEmail(String token) {
        // TODO Auto-generated method stub
        if (token == "") {
            return "";
        }
        JSONObject json = null;
        String email = "";
        String gpUrl = "https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token="
            + token;

        Log.e("urll ouathactivity", "" + gpUrl);

        HttpClient httpClient = new DefaultHttpClient();
        HttpGet httpGet = new HttpGet(gpUrl);
        HttpResponse response;

        try {

            response = httpClient.execute(httpGet);
            Log.e("try", "" + response.getStatusLine().getStatusCode());
            if (response.getStatusLine().getStatusCode() == 200) {
                HttpEntity entity = response.getEntity();
                Log.e("entity=====", "" + entity);
                if (entity != null) {
                    InputStream instream = entity.getContent();
                    String jsonstr = convertStreamToString(instream);
                    Log.e("jsonstr======", "" + jsonstr);
                    instream.close();
                    try {
                        JSONObject jsonObj = new JSONObject(jsonstr);
                        email = jsonObj.getString("email");
                        Log.e("email G+ ouathactivity", "" + email);

                    } catch (JSONException e) {
                        e.printStackTrace();
                    }

                } else {
                    json = 
                        genError(response.getStatusLine().getStatusCode(),
                                response.getStatusLine().toString());
                }
            }
        } catch (ClientProtocolException e) {
            try {
                json = genError(HTTP_RESPONSE_503,
                        "Exception: ClientProtocolException");
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
        } catch (IOException e) {
            try {
                json = genError(HTTP_RESPONSE_503, "Exception:IOException");
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
        } catch (JSONException e) {

            try {
                json = genError(HTTP_RESPONSE_503, "Exception:JSONException");
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
        } catch (Exception e) {
            try {
                json = genError(HTTP_RESPONSE_503,
                        "Exception: Exception " + e.toString());
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
        } finally {
            httpGet.abort();
        }
        Log.i("GOOGLE +"," EMAIL ===="+email);
        return email;
    }

    private String fetchDataCorrespondingID(String gpuserid) {
        // TODO Auto-generated method stub

        JSONObject json = null;
        JSONObject json1 = null;

        //String gpUrl=AppUtil.server_URL+"/web-service.php?action=GPlogin&id="+gpuserid;
        String gp_email=prefs.getString("gpemail", "");
        String gpUrl=AppUtil.server_URL+"/web-service.php?action=GPlogin&id="+gp_email;
        Log.e("urll ouathactivity",""+gpUrl);

        HttpClient httpClient = new DefaultHttpClient();
        HttpGet httpGet = new HttpGet(gpUrl);
        HttpResponse response;

        try {
            response = httpClient.execute(httpGet);
            if(response.getStatusLine().getStatusCode() == 200) 
            {
                HttpEntity entity = response.getEntity();
                if (entity != null) {
                    InputStream instream = entity.getContent();
                    String jsonstr =convertStreamToString(instream);
                    instream.close();
                    try
                    {
                        JSONObject jsonObj = new JSONObject(jsonstr);

                        JSONObject data=jsonObj.getJSONObject("response");
                        status_value=data.getString(status);
//                      String responseMsg = jsonObj.getString("response");
                        Log.i("data", data.toString());

                        if(status_value.equalsIgnoreCase(not_valid))
                        {
                            status_flag=false;

                        }else if(status_value.equalsIgnoreCase(valid))
                        {

                            status_value=data.getString(status);
                            Log.i("status_value", status_value.toString());
                            user_id=data.getString(user_id_key);
                            Log.i("user_id", user_id.toString());
                            name=data.getString(name_key);
                            Log.i("name", name.toString());
                            plan_id_value=data.getString(planidkey);
                            Log.i("plan_id_value", plan_id_value.toString());
                            status_flag=true;

                        }else
                        {
                            status_flag=false;
                            pdia.dismiss();
                        }

                    } 
                    catch (JSONException e)
                    {
                        e.printStackTrace();
                    }

                } 
                else {
                    json = genError(response.getStatusLine().getStatusCode(), response.getStatusLine().toString());
                }
            } 
        }
        catch (ClientProtocolException e) {
            try {
                json = genError(HTTP_RESPONSE_503, "Exception: ClientProtocolException");
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
        } catch (IOException e) {
            try {
                json = genError(HTTP_RESPONSE_503, "Exception: IOException");
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
        } catch (JSONException e) {

            try {
                json = genError(HTTP_RESPONSE_503, "Exception: JSONException");
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }  
        } catch (Exception e) {
            try {
                json = genError(HTTP_RESPONSE_503, "Exception: Exception " + e.toString());
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
        } finally {
            httpGet.abort();
        }
        return status_value;

    }

    public static JSONObject genError(Integer code, String message) throws JSONException {
        // TODO: HTTP-Status (404, etc), for now return status line
        String msg = "{error: {code: \"" + code.toString() + "\", message: \"" + message + "\"}}";
        Log.e("EEEEEEEEEE",msg );
        return new JSONObject("{error: {code: \"" + code.toString() + "\", message: \"" + message + "\"}}");

    }

    public static String convertStreamToString(InputStream is) {
        BufferedReader reader = new BufferedReader(new InputStreamReader(is));
        StringBuilder sb = new StringBuilder();

        String line = null;
        try {
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
                is.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }

        return sb.toString();

    }

} 
```

> 02-11 12:37:34.869: W/System.err(13631): com.google.api.client.http.HttpResponseException: 400 错误请求 02-11 12:37:34.869: W/System.err(13631) : 在 com.google.api.client.http.HttpRequest.execute(HttpRequest.java:669) 02-11 12:37:34.879: W/System.err(13631): 在 com.google.api.client.auth .oauth2.draft10.AccessTokenRequest.executeUnparsed(AccessTokenRequest.java:459) 02-11 12:37:34.879：W/System.err(13631)：在 com.google.api.client.auth.oauth2.draft10.AccessTokenRequest。执行（AccessTokenRequest.java:475）02-11 12:37:34.879：W/System.err（13631）：在 com.Planner.postplanner.OAuthActivity$1.onPageFinished（OAuthActivity.java:181）02-11 12:37 :34.879: W/System.err(13631): 在 android.webkit.CallbackProxy.handleMessage(CallbackProxy.java:318) 02-11 12:37:34.879: W/System.err(13631): 在 android.os。处理程序。dispatchMessage(Handler.java:99) 02-11 12:37:34.879: W/System.err(13631): 在 android.os.Looper.loop(Looper.java:137) 02-11 12:37:34.879: W/System.err(13631): 在 android.app.ActivityThread.main(ActivityThread.java:4517) 02-11 12:37:34.879: W/System.err(13631): 在 java.lang.reflect.Method .invokeNative(Native Method) 02-11 12:37:34.879: W/System.err(13631): at java.lang.reflect.Method.invoke(Method.java:511) 02-11 12:37:34.879: W/System.err(13631): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993) 02-11 12:37:34.879: W/System.err(13631): 在 com .android.internal.os.ZygoteInit.main(ZygoteInit.java:760) 02-11 12:37:34.879: W/System.err(13631): at dalvik.system.NativeStart.main(Native Method)循环（Looper.java:137）02-11 12:37:34.879：W/System.err（13631）：在 android.app.ActivityThread.main（ActivityThread.java:4517）02-11 12:37:34.879： W/System.err(13631): 在 java.lang.reflect.Method.invokeNative(Native Method) 02-11 12:37:34.879: W/System.err(13631): 在 java.lang.reflect.Method。调用（Method.java:511）02-11 12:37:34.879：W/System.err（13631）：在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run（ZygoteInit.java:993）02-11 12:37:34.879: W/System.err(13631): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760) 02-11 12:37:34.879: W/System.err(13631 ): 在 dalvik.system.NativeStart.main(Native Method)循环（Looper.java:137）02-11 12:37:34.879：W/System.err（13631）：在 android.app.ActivityThread.main（ActivityThread.java:4517）02-11 12:37:34.879： W/System.err(13631): 在 java.lang.reflect.Method.invokeNative(Native Method) 02-11 12:37:34.879: W/System.err(13631): 在 java.lang.reflect.Method。调用（Method.java:511）02-11 12:37:34.879：W/System.err（13631）：在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run（ZygoteInit.java:993）02-11 12:37:34.879: W/System.err(13631): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760) 02-11 12:37:34.879: W/System.err(13631 ): 在 dalvik.system.NativeStart.main(Native Method)Method.invokeNative(Native Method) 02-11 12:37:34.879: W/System.err(13631): at java.lang.reflect.Method.invoke(Method.java:511) 02-11 12:37:34.879 : W/System.err(13631): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993) 02-11 12:37:34.879: W/System.err(13631): 在com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760) 02-11 12:37:34.879: W/System.err(13631): 在 dalvik.system.NativeStart.main(Native Method)Method.invokeNative(Native Method) 02-11 12:37:34.879: W/System.err(13631): at java.lang.reflect.Method.invoke(Method.java:511) 02-11 12:37:34.879 : W/System.err(13631): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993) 02-11 12:37:34.879: W/System.err(13631): 在com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760) 02-11 12:37:34.879: W/System.err(13631): 在 dalvik.system.NativeStart.main(Native Method)879：W/System.err（13631）：在 dalvik.system.NativeStart.main（本机方法）879：W/System.err（13631）：在 dalvik.system.NativeStart.main（本机方法）

# c - 临时结构的 C 堆栈使用

> ID：14807016
> 
> 赞同：1
> 
> 时间：2013-02-11T06:30:21.577
> 
> 标签：c, stack

我使用嵌入式的东西，所以，我为 MCU 使用特殊的 C 编译器 C30。我对它与临时结构的行为感到困惑。

但是，也许我不知道什么，这是预期的行为？

考虑小代码：

```
typedef struct {
   int a;
   int b;
} T_TestStruct1;

void test1(T_TestStruct1 *p_test_struct)
{
   /* do something */
} 
```

这些呼吁`test1()`：

```
void some_function()
{

   {
      T_TestStruct1 par = {
         .a = 1,
         .b = 1,
      };
      test1(&par);
   }

   {
      T_TestStruct1 par = {
         .a = 2,
         .b = 2,
      };
      test1(&par);
   }

} 
```

这里一切正常：`T_TestStruct1`堆栈中只分配了一个实例。但我喜欢使用较短的表达式：

```
void some_function()
{
   test1(&(T_TestStruct1){
      .a = 1,
      .b = 1,
      });

   test1(&(T_TestStruct1){
      .a = 2,
      .b = 2,
      });
} 
```

然后，这两个结构`{.a = 1, .b = 1}`都`{.a = 2, .b = 2}`被分配到堆栈中。但是，在我看来，他们不应该是。实际上只需要一个实例。

只是偶然，我尝试过：

```
void some_function()
{
   {
      test1(&(T_TestStruct1){
         .a = 1,
         .b = 1,
         });
   }

   {
      test1(&(T_TestStruct1){
         .a = 2,
         .b = 2,
         });
   }
} 
```

结果是一样的。

那么，它是有意的行为，还是编译器中的错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:53:29.977

无法保证（在 C 标准中）您的非易失性变量在所有优化后将完全存在于编译代码中。同样，不能保证您编译的代码是最快的和最小的，并且使用最少的资源（包括堆栈）。

如果这对您来说很重要，您可以使用编译器的优化选项或在汇编中编写此代码（内联或非内联）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:58:49.873

实际上，我没有看到这种表达方式给您带来麻烦的好处。它使代码的可读性降低。

但除此之外：您无法预测编译器是否创建了包含两个结构实例的堆栈帧。这取决于编译器和他的优化引擎。如果你真的需要控制这里的内存分配并且你真的需要优化，我建议分配一次这个变量并明确地为两个调用重用它，留下评论为什么你这样做。

# c++ - 如何从 VS2010 中基于范围的循环/for_each 获取指针？

> ID：14807018
> 
> 赞同：2
> 
> 时间：2013-02-11T06:30:28.363
> 
> 标签：c++, visual-studio-2010, visual-c++, boost, c++11

我正在使用 Visual Studio 2010。我想使用的一项功能是 VS2010 中未包含但包含在 VS2012 中的功能是基于范围的 for 循环。

在 VS2012 中，您可以做整洁且超级整洁的 for 循环，例如：

```
for( auto& it: myElements )
    it->something(); 
```

到目前为止，我能在 VS2010 中得到的最接近的是这种语法：

```
for( auto it = myElements.begin(), end = myElements.end(); it != end; it++ )
    it->something(); 
```

在阅读了一些相关问题后，我发现使用 boost\foreach 我可以访问以下宏：

```
BOOST_FOREACH( auto it, myElements ){
    it.something();
} 
```

我对这种方法的问题是它提供了一个**副本**（或类似的东西），而不是一个**指针**。这是我感到困惑的地方。[foreach 参考](http://www.boost.org/doc/libs/1_53_0/doc/html/foreach.html)说明如下：

> 它不进行动态分配，不进行虚函数调用或通过函数指针进行调用，并且不进行对编译器优化器不透明的调用。

这是什么意思？不是副本吗？

如何从 BOOST_FOREACH 获取指针？或者我应该使用其他一些增强功能？

我在这里的其他问题中看到了这种语法：

```
BOOST_FOREACH( auto& it, myElements ){
    it->something();
} 
```

但是，这不会为我编译并在编辑器中引发错误。这有什么问题？为什么我在这里发现它是许多其他问题的有效代码？

VS2010 中是否有针对基于范围的 for 循环的漂亮整洁的解决方案？（包括使用升压）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:36:15.340

主要问题是，你有一个指针容器吗？即使在 VS2012 中，也`for(auto& it: myElements) it->something();`仅适用于（智能）指针的容器。`&`告诉你这是`it`一个引用，而`->`告诉你它是一个指针。这并不矛盾。您可以引用指针。

但是你为什么还要一个指针呢？引用更为惯用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T08:35:44.220

这是错误的：

> 在 VS2012 中，您可以做整洁且超级整洁的 for 循环，例如：
> 
> ```
> for( auto& it: myElements )
>     it->something(); 
> ```

基于范围的循环返回对对象的引用：

```
for(auto& element: myElements)
    element.something(); 
```

*编辑*

如果存储在容器中的对象是指针，或者是重载类的对象`operator*`，例如智能指针，则第一种语法将是有效的。

# windows-phone-7 - 在 Windows Phone 市场中更新 BETA 应用程序的 XAP

> ID：14807020
> 
> 赞同：3
> 
> 时间：2013-02-11T06:30:29.627
> 
> 标签：windows-phone-7, xap

是否可以更新在 Windows Phone Marketplace 中为 BETA 版本提交的 xap 文件。如果我更新相同的xap文件，链接会改变吗？?

谢谢，哈尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:38:27.213

是的，您可以更新 BETA 应用程序的 xap 文件。在您的应用仪表板页面中单击您的应用名称，您将看到更新应用链接。

更新后链接不会改变。链接将是相同的。更新过程需要 24 小时才能完成。

# java - 如何从 salesforce.com 调用 heroku java 应用程序？

> ID：14807022
> 
> 赞同：2
> 
> 时间：2013-02-11T06:30:54.900
> 
> 标签：java, heroku, salesforce, integration

我对集成还很陌生，但我在销售人员方面拥有不错的开发经验。我需要在 salesforce 中生成 power point 演示文稿，但目前似乎没有办法直接在 salesforce 中执行此操作。所以我搜索了一下，发现了一些生成 ppt 的 java 类。所以现在我可以在我的本地机器上运行这些 java 并生成 ppt。

需要帮助了解我应该在哪里拥有我的 java 类？赫罗库？？也不知道该怎么做。我的 salesforce Apex 代码可以与 Heroku 上上传的 java 类进行通信，如果可以，那么如何？

对此真的有任何帮助。

问候山姆

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T17:12:46.070

是的，这绝对是可能的。Salesforce 和 Heroku 之间没有特殊的通信，但两者可以通过常规的 HTTP API 相互通信。为此，您需要：

1.  在 Heroku 上运行的 Web 服务中公开您的 PPT 生成器。首先，请查看[Heroku 上的 Java 入门](https://devcenter.heroku.com/articles/java)文章或[Play 入门！关于 Heroku](https://devcenter.heroku.com/articles/play)的文章，以在 Heroku 上启动并运行基本的 HTTP 应用程序。然后，将您的 PPT 生成器类放到应用程序中并创建一个端点来访问它们。例如，您可以创建一个端点，`/ppt`以便在您访问`https://example.herokuapp.com/ppt`PPT 时生成并在 HTTP 响应中返回。当然，您可以让服务提供动态 PPT，但在本示例中保持简单。

2.  从 Apex 呼叫您的 Heroku 应用程序。为此，请查看 Apex 文档中的[HTTP RESTful 服务类](http://www.salesforce.com/us/developer/docs/apexcode/Content/apex_callouts_http.htm)。例如，您可以在 Apex 中执行以下操作：

    ```
    Http h = new Http();

    HttpRequest req = new HttpRequest();
    req.setEndpoint('https://example.herokuapp.com/ppt');
    req.setMethod('GET');

    HttpResponse res = h.send(req);
    res.getBody(); 
    ```

如果这些 PPT 是机密的，您可能还希望在两个系统之间建立某种身份验证方案；否则，任何击中您的端点的人都可以获得 PPT。我至少会使用带有共享密钥的基本身份验证来保护您的服务，但如果您愿意，也可以使用更高级的东西。

我上面解释的都是通过后端 API，但是如果您也想在 Heroku 中为您的服务创建一个 UI 并将其公开给 Salesforce 用户，您可能想看看新的[Force.com Canvas框架](http://wiki.developerforce.com/page/Force.com_Canvas)。

# ember.js - EmberJS 路由说明

> ID：14807023
> 
> 赞同：2
> 
> 时间：2013-02-11T06:30:56.857
> 
> 标签：ember.js

我还是 Ember.js 的新手。[嵌套资源](http://emberjs.com/guides/routing/defining-your-routes/)示例说明如下：

```
URL:        /post/:post_id/comments/new
Route Name: comments.new
Controller: App.CommentsNewController
Route:      App.CommentsNewRoute 
```

鉴于这种：

1.  “post”在 URL 中，但为什么“post”不在路由名称、控制器或路由中？
2.  如何区分“帖子”中的新评论和另一个领域的新评论？
3.  我在路由创建代码中没有看到 templateName 选项，所以这会在控制器中设置吗？

谢谢！

**编辑：**这个问题是关于 Ember Pre4 的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T09:55:05.997

1.  这是因为`post`是资源，`comments`是资源，`new`而是路线。路由的路径**从****最后一个**资源名称开始，在本例中为`comments`。正如您在第二个问题中所解决的那样，我认为这是一个问题，所以我希望这会变成`PostCommentsNewController`.

2.  您目前不会在它们之间消除歧义，但希望这会出现在前 5 中。

3.  `templateName`除非您手动插入视图，否则无需指定 a 。对于**/#/pets** ， Ember 将首先咨询`App.PetsRoute`、定位/实例化`App.PetsController`和实例化`App.PetsView`。`App.PetsView`将被插入到具有`data-template-name`“**宠物**”的模板中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:09:32.153

问题 3：可以使用`this.render`此处记录的 -method 设置要为路由呈现的 TemplateName：http: [//emberjs.com/guides/routing/rendering-a-template/](http://emberjs.com/guides/routing/rendering-a-template/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T09:47:14.650

控制器和路由的名称仅由我相信的最近资源确定。在引用的示例中，post 是一个带有编辑路径的资源，因此 PostEditController 而 Comment 也是一个资源（尽管嵌套在 Post 中），因此生成的 Controller 是 CommentsController 或 CommentsNewController 的嵌套路由“new”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T18:01:02.053

通过在控制台中检查路线名称及其各自的处理程序，您可以更好地了解地图的结构。很好的调试技巧:)

```
APP.Router.router.recognizer.names; 
```

# python - 使用 ndb.ComputedProperty 查询

> ID：14807026
> 
> 赞同：1
> 
> 时间：2013-02-11T06:31:11.100
> 
> 标签：python, app-engine-ndb

我的计算机属性定义如下：

```
class User(app.Model)
  DEFAULT_GPLUS_IMG_URL == "http://someimage.com/image/image.png"

  has_avatar = ndb.ComputedProperty(
    lambda self: True if self.avatar == DEFAULT_GPLUS_IMG_URL else False)

  @property
  def avatar(self):
    return self.gplus_data.get('image') 
```

我试图在交互式控制台中这样查询：

```
from google.appengine.ext import ndb
from app.lib.users import User

print User.query(User.has_avatar==True).fetch() 
```

这将返回一个`[]`.

但是当我这样循环时`User.query()`：

```
for i in User.query():
  print i.has_avatar 
```

我明白了`[True, False]`。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T06:26:02.960

正如 Guido 在对该问题的评论中指出的那样，该问题与`dev_appserver`缓存有关。第二天我就能得到正确的结果。

# android - 从 AsyncTask 中检索对象值

> ID：14807028
> 
> 赞同：2
> 
> 时间：2013-02-11T06:31:23.560
> 
> 标签：android, android-asynctask

我正在创建异步任务，检索字符串数据：

```
View.OnClickListener btnClk = new View.OnClickListener() {
    @Override
    public void onClick(View v) {
        if (btnGetData.getId() == ((Button) v).getId()) {

            Object obj = new FetchTask(Main.this).execute((Integer) null);
        }
    }
}; 
```

我的任务：

```
public class FetchTask extends AsyncTask<Object, Object, Object> {

    private Context ctx;
    private String xml;

    public FetchTask(Context context) {
        ctx = context;
    }

    @Override
    protected void onPreExecute() {
        DialogDownload_Ring = ProgressDialog.show(Main.this, "Download...",
                "Fetching XML data...");
        DialogDownload_Ring.setCancelable(true);
        DialogDownload_Ring.setOnCancelListener(new OnCancelListener() {

            @Override
            public void onCancel(DialogInterface dialog) {
                // TODO Auto-generated method stub
                cancel(true);
            }
        });
        super.onPreExecute();
    }

    @Override
    protected void onCancelled() {

        super.onCancelled();
    }

    @Override
    protected void onPostExecute(Object result) {

        if (result instanceof Exception) {
            DialogDownload_Ring.setMessage("Download failed!");

        } else {
            DialogDownload_Ring.setMessage("Succesfully Downloaded!");
        }
        DialogDownload_Ring.dismiss();
        super.onPostExecute(result);
    }

    @Override
    protected Object doInBackground(Object... params) {

        try {
            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost(URL_Local);

            HttpResponse httpResponce = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponce.getEntity();
            xml = EntityUtils.toString(httpEntity);
            return xml;
        } catch (Exception e) {
            return e;
        }
    }
} 
```

如何从 Object obj 中检索 xml 数据？obj.toString() 不工作。否则我创建 asynctask 字符串属性（扩展 AsyncTask 字符串、字符串、字符串）它正在工作但进度条在检索 xml 数据后启动，我也不明白。请帮帮我。PS对不起我的英语不好..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:39:23.510

如果要在`doInBackground`执行完成后在主 ui 线程中返回结果，则需要通过调用[AsyncTask.get()](http://developer.android.com/reference/android/os/AsyncTask.html#get%28%29)方法执行 AsyncTask，但这将冻结 UI 线程，直到 doInBackground 执行完成。您需要`AsyncTask.get()`在 Thread 内部调用以避免 UI 冻结。开始`AsyncTask`在 UI 线程中获取结果：

```
Object obj = new FetchTask(Main.this).execute((Integer) null).get(); 
```

第二种方法是在不调用方法的情况下启动 AsyncTask，并在执行完成时在方法`AsyncTask.get`中接收结果。在单击按钮时启动 AsyncTask：`onPostExecute``doInBackground`

```
new FetchTask(Main.this).execute((Integer) null); 
```

得到结果`onPostExecute`：

```
 @Override
    protected void onPostExecute(Object result) {

           // extract xml from result 

        super.onPostExecute(result);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:37:48.253

ASyncTask 不能这样工作：

```
Object obj = new FetchTask(Main.this).execute((Integer) null); 
```

execute 方法立即返回，任务在后台继续执行。

ASyncTask 是异步的，所以这就是为什么它有`onPostExecute`方法在它完成时做一些事情。将处理返回项目 (xml) 的代码放入`onPostExecute`关闭对话框之前或之后。

# ruby-on-rails - 从控制器中运行单元测试

> ID：14807029
> 
> 赞同：2
> 
> 时间：2013-02-11T06:31:39.223
> 
> 标签：ruby-on-rails, ruby-on-rails-3

所以我的困境是我正在尝试从控制器运行单元测试。所以，我试图从控制器进行系统调用 `system("ruby -Itest ../../test/unit/user_model_test.rb > results.txt")`

但是，我得到

```
no such file to load -- test_helper (LoadError) 
```

这是因为我没有从我的父目录运行命令。ruby 有没有办法从父目录进行调用？

如果我在控制器中进行系统调用，它将相对于控制器的位置运行吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-09T05:38:24.863

系统调用*将从*Rails 主目录执行。根据您的设置，只需执行您通常用于运行测试的命令即可。例如，`rake test:...`或`ruby test/unit/...`

# assembly - NASM 在组装时将 JNZ 更改为 JNE？为什么？

> ID：14807033
> 
> 赞同：5
> 
> 时间：2013-02-11T06:32:00.033
> 
> 标签：assembly, x86, nasm, disassembly

我有一段使用 JNZ 的代码。当我组装和链接二进制文件时，我看到我的 JNZ 被 JNE 替换。据我了解，它们两者基本上是相同的。但是为什么 NASM 会改变它呢？

此外，是否有任何配置选项可用于阻止在组装时发生这种变化？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-11T06:35:28.243

> 我了解它们两者本质上是相同的

`JNE`并且`JNZ`具有[相同的操作码](http://www.unixwiz.net/techtips/x86-jumps.html)（`0x75`用于短跳转和`0x0f 0x85`近跳转），因此汇编程序将为它们创建**相同的机器代码**。

反汇编时，反汇编程序不再知道源中使用了哪一个，它必须取其中一个。

> 此外，是否有任何配置选项可用于阻止在组装时发生这种变化？

不，因为它不是真正的“替代品”——`JNE`只是`JNZ`相同操作码的不同助记符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T06:38:31.987

`JNZ`并`JNE`具有完全相同的编码（请参阅英特尔® 64 和 IA-32 架构软件开发人员手册第 2A 卷 3-419）。因此，无论您在汇编器中使用哪一个，反汇编器都会选择一个并在反汇编代码中使用相同的符号。

# ios - ImagePickerController 崩溃

> ID：14807034
> 
> 赞同：0
> 
> 时间：2013-02-11T06:32:05.820
> 
> 标签：ios, ipad, uiimagepickercontroller, cfdata

在模态视图中，我有一个 imageView，我在其中设置来自画廊或相机的图像。几次它完美地工作，但随着选择数量的增加应用程序崩溃。我正在使用这段代码

```
- (void)imagePickerController:(UIImagePickerController*)picker didFinishPickingMediaWithInfo:(NSDictionary *)info{

if ([mediaType isEqualToString:(NSString *)kUTTypeImage]) {
        UIImage *selectedImage1 = [[info objectForKey:UIImagePickerControllerOriginalImage] fixOrientation];
        NSLog(@"size is %@",NSStringFromCGSize(selectedImage1.size));
        CGImageRef imageRef=[selectedImage1 CGImage];
        float width=CGImageGetWidth(imageRef);
        float height=CGImageGetHeight(imageRef);
        NSLog(@"length is %f",width*height);
        if (width*height<=12012000.0) {//12MP
            CFDataRef data = CGDataProviderCopyData(CGImageGetDataProvider(imageRef));
            float length = CFDataGetLength(data);
            CFRelease(data);
            NSLog(@"data==%f ",length);

            if ((length/10)>10485760.0) {//10 MB
                NSLog(@"data length less than 10 mb==%f ",length);
                [imagePickerPopover dismissPopoverAnimated:YES];

                return;
            }
        }else{
            [imagePickerPopover dismissPopoverAnimated:YES];
            return;
        }

self.selectedImage=selectedImage1;
            [imagePickerPopover dismissPopoverAnimated:YES];

} 
```

我猜 CFDataRef 导致崩溃，可能是它没有以正确的方式释放，因为我增加了百万像素（12 到 16MP）应用程序的崩溃频率增加。有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:52:06.550

使用 ELCImagePickerController，

它最适合您，通过使用`ELCImagePickerController` 您可以在图库中选择多个图像并使用滑动功能将其保存在您的图像视图中

您可以从[这里获取源代码。](https://github.com/elc/ELCImagePickerController#readme)

这可能对你有帮助。

**谢谢。**

# dart - 无法解析“HttpRequest”中的“get”方法？

> ID：14807035
> 
> 赞同：2
> 
> 时间：2013-02-11T06:32:15.430
> 
> 标签：dart

不断收到错误：

> 由于更新了最新版本的 Dart 编辑器 0.3.4_r18115，因此无法解析 'HttpRequest' 中的 'get' 方法。

解决方法是什么？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T08:50:45.920

Alexandre 的回答是正确的，尽管特定的`new HttpRequest.get(...)`便利构造函数被替换为名为的便利静态方法`getString()`

```
HttpRequest.getString(url).then((responseText) {
  print(responseText);
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T08:33:27.713

您似乎面临着[这种重大变化](https://groups.google.com/a/dartlang.org/d/topic/misc/4c3qhRE9Kro/discussion)：

> 我们将删除 HttpRequest.get 和 getWithCredentials 工厂构造函数，并用返回期货的静态方法替换它们。这些主要是易于使用的方法，我们希望使它们更易于使用。

所以你现在应该使用类似的东西：

```
HttpRequest.request(url).then((xhr) {
    var result = xhr.response;
  },
  onError: (e) {
     // error!
  }); 
```

代替 ：

```
new HttpRequest.get(url, (xhr) {
  if (xhr.status == 200) {
    var result = xhr.response;
  } else {
    // error?
  }
}); 
```

# c - 通过 printf 命令打印八进制数

> ID：14807036
> 
> 赞同：6
> 
> 时间：2013-02-11T06:32:18.947
> 
> 标签：c

我一直在尝试了解八进制数的 printf 功能。如果我将代码编写为：

```
int main()
{
  char *s = "\123";
  printf("%s",s);
} 
```

它给了我一个作为 S 的输出，它实际上是正确的，因为 S 的 ASCII 是八进制的 123。但我的问题是，编译器如何识别要从八进制转换的数字序列。例如：

```
char *s = "\123456" 
```

将输出为 S456

八进制转换最多需要3个数字吗？？？

是否应该给出八进制数的最大限制（最大 3 位八进制数为 777）

现在因为最多有 255 个 ascii 字符（八进制 377），所以当我尝试打印 777 时，它会打印一个典型的 ascii 字符，这可能是因为没有分配给这个数字的 ascii。这个功能也依赖于编译器/操作系统？？？

我希望非常清楚，因为这是我的第一个问题:-)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-11T06:36:46.997

1.  是的。三个数字是八进制字符文字的最大值。从规范**6.4.4.4 字符常量**：

    > *八进制转义序列：**八进制数字**八进制数字八进制数字八进制数字**八进制数字八进制数字*
    > **`\`** ***`\`** ***`\`****
    > 
    >  ****hexadecimal-escape-sequence:* *hexadecimal-digit* *hexadecimal-escape-sequence hexadecimal-digit*
    > **`\x`*****

****   `\777`正如您所提到的，最大的八进制转义序列。从上面的规范引用中可以看出，十六进制转义序列没有最大限制。

    *   只有 128 个 ASCII 字符 (0-127)。这意味着您可以对 ASCII 使用八`\000`进制`\177`。如果您使用不同的字符集，您可能可以`\377`使用 8 位字符，一直到`\777`（或更高，使用十六进制转义序列）为`wchar_t`. 规范说：

    > 八进制或十六进制转义序列的值应在整数字符常量的类型或宽字符常量**`unsigned char`**对应的无符号类型的可表示值范围内。**`wchar_t`**

    在大多数机器上，`unsigned char`是 8 位类型，`\377`在该上下文中将八进制转义序列限制为，将十六进制序列限制为`\xff`. 在 32 位`wchar_t`上下文的情况下，十六进制序列可能高达`\xffffffff`.*** 

 **** * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T06:37:49.927

C99 标准（我可以查看的标准）`octal-escape-sequence`对字符串的定义如下：

```
octal-escape-sequence:
    \ octal-digit
    \ octal-digit octal-digit
    \ octal-digit octal-digit octal-digit 
```

因此，any`octal-escape-sequence`最多有 3 个八进制数字（`0`to `7`）。

解释简单地说：

> 八进制转义序列中反斜杠后面的八进制数字被视为整数字符常量的单个字符或宽字符常量的单个宽字符构造的一部分。如此形成的八进制整数的数值指定所需字符或宽字符的值。

还，

> 每个八进制或十六进制转义序列都是可以构成转义序列的最长字符序列。

以及以下约束：

> 对于整数字符常量，八进制或十六进制转义序列的值应在 unsigned char 类型的可表示值范围内，或者对于宽字符常量，对应于 wchar_t 的 unsigned 类型。

`\777`因此，如果最多使用 8 位 ( `CHAR_BIT`< `9`) ，则值违反约束。~~我在规范中找不到有关此的内容，我猜这是未定义的行为，因此取决于编译器。~~

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:36:25.623

在数字前加上“0”，编译器会将其标识为八进制。例如：0123

将“0x”放在数字之前将其标识为编译器的十六进制。例如：0x123

否则为十进制。例如：123

> 字符 *s = "\123456"

对于您的示例转义序列，\123 是十进制数。编译器只知道使用 3 位数字，因为字符的范围是 0-255，因此它将限制为 3 位数字。

~~顺便说一句，十进制 123 的字符是“S”，这就是你的字符串是“S456”的原因。~~***

# css - 引导 CSS 填充

> ID：14807038
> 
> 赞同：1
> 
> 时间：2013-02-11T06:32:21.010
> 
> 标签：css, twitter-bootstrap, margin, padding

我正在将 Twitter Bootstrap 用于博客，并且我的 div 存在填充问题

.navbar .brand

出于某种原因，它在该 div 的顶部有一个边距或填充，我无法弄清楚是什么导致了这个问题。我有一个保证金：0；填充：0；和顶部：0；并且超越了高度，但这似乎无济于事。

链接：[http ://www.bryananthonylewis.com/](http://www.bryananthonylewis.com/)

任何帮助都会很棒！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:44:49.920

您需要从 styles.css 中删除这些属性：

```
.navbar .brand {
    float: none;
}

div.nav-collapse {
    display: inline-block;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:54:31.140

The point is, where would you like to have your logo? thmled was right, but i prefer this in style.css, line 94:

```
.navbar .brand {
    padding: 10px 20px
    float:left
} 
```

Set float right or left, it depending on place, you would like to have your logo.

# php - php5.2.9 的 php_printer.dll

> ID：14807040
> 
> 赞同：0
> 
> 时间：2013-02-11T06:32:29.673
> 
> 标签：php, php-extension

我需要为 php 版本 5.2.9 朗姆酒 php_printer.dll。Bt 当我用谷歌搜索时，对应版本的 PECL 文件不可用。一种选择是构建它。有没有人有 php-5.2.9 的 php_printer.dll 的编译版本？或者请告诉我如何构建编译版本？

提前感谢， Akhil

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:59:40.960

尝试备用镜像[http://us.php.net/get/pecl-5.2.6-Win32.zip/from/a/mirror](http://us.php.net/get/pecl-5.2.6-Win32.zip/from/a/mirror)找到相同问题的链接后（[http://forums.phpfreaks.com/topic /173166-solved-php-printerdll/](http://forums.phpfreaks.com/topic/173166-solved-php-printerdll/) )

# sql - 如何使用现有架构使用 SQL 创建新表

> ID：14807043
> 
> 赞同：0
> 
> 时间：2013-02-11T06:33:08.353
> 
> 标签：sql, sql-server, tsql

在给定架构下存在现有表，例如 X

对于与 X 具有相同结构的新模式 (Y)，我想复制属于 X 模式的所有表，然后在 Y 中创建

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:37:58.490

在 oracle 中，您可以使用 EXPDP 和 IMPDP 命令，如下所示：

完整的模式导出（元数据和内容）确实看起来像：

```
expdp user/pass schemas=<schemaname> directory=dumpdir \
      dumpfile=<schemaname>.dmp \
      logfile=expdp_<schemaname>.log 
```

如果要导入到不同的用户/模式（目标数据库可以与源相同），可以使用：

```
impdp user/pass schemas=schema1 directory=dumpdir \
      remap_schema=schema1:schema2 \
      dumpfile=schema1.dmp \
      logfile=impdp_schema2.log 
```

在 sql Server 中，只需点击此链接：

[http://www.databasedesign-resource.com/import-and-export-in-sql-server.html](http://www.databasedesign-resource.com/import-and-export-in-sql-server.html)

# php - 导出到 excel 文件时尝试打开它时会发出警告消息

> ID：14807048
> 
> 赞同：1
> 
> 时间：2013-02-11T06:33:38.443
> 
> 标签：php, excel, export

当我使用 PHP 导出 Excel 时，任何人都可以帮助我如何删除此警告。

您尝试打开的文件“example.xls 的格式与文件扩展名指定的格式不同。

这是我的代码，请说明哪里做错了

```
<?php

// Start a session
session_start();

// Define variables from $_SESSION and $_GET
$firstname = $_SESSION['firstname']; 
$lastname = $_SESSION['lastname'];
$username = $_SESSION['username'];

$start = $_GET['start'];
$end = $_GET['end'];
$ProviderID = $_GET['ProviderID'];
$summarytype = $_GET['summarytype'];
$subspeciality = $_GET['subspeciality'];

$export = $_GET['export'];

// Connect to mysql db
include ("access.php");

header("Content-type: application/vnd.ms-excel; name='excel'");
header("Content-Disposition: filename=export.xls");
// Fix for crappy IE bug in download.
header("Pragma: ");
header("Cache-Control: ");

error_reporting("E_ALL");

$sql = "SELECT *, master.EmtracSigChange AS 'SigChange' FROM master, nightrad WHERE master.EmtracSigChange='Yes' AND master.MaryGrade!='' AND master.InternalExamID=nightrad.InternalExamID AND master.TranscriptionDTTM <= '$end' AND master.TranscriptionDTTM >= '$start'";

$result = mysql_db_query('testDb',$sql);

if(!$result) {
echo "<p>No matches to your query</p>";
echo "<p>Click back on your browser to change your query parameters.</p>";
die(mysql_error());
}

?>
<html>
<head></head>
<body>
<table border="1" cellspacing="0" cellpadding="3">
<tr>
<th bgcolor="#0099FF" scope="col">Accession</th>
<th bgcolor="#0099FF" scope="col">Transcribed</th>
<th bgcolor="#0099FF" scope="col">Turnaround time</th>
<th bgcolor="#0099FF" scope="col">Attending</th>
<th bgcolor="#0099FF" scope="col">Res or fellow</th>
<th bgcolor="#0099FF" scope="col">Modality</th>
<th bgcolor="#0099FF" scope="col">Exam</th>
<th bgcolor="#0099FF" scope="col">Discrepancy</th>
<th bgcolor="#0099FF" scope="col">Folder</th>
<th bgcolor="#0099FF" scope="col">Comment</th>
</tr>
<?php 
// Add all values in the table to $out.
while ($row = mysql_fetch_assoc($result)) {
$CompletedDTTM = $row['CompletedDTTM'];
$TranscriptionDTTM = $row['TranscriptionDTTM'];
$date = date("Y-m-d", strtotime($TranscriptionDTTM));

// Converting turnaround time from DTTM to time
$parsedtime = strtotime($CompletedDTTM . " GMT");
$convertedtime = gmdate("H:i:s", $parsedtime);

$parsedtime1 = strtotime($TranscriptionDTTM . " GMT");
$convertedtime1 = gmdate("H:i:s", $parsedtime1);
$parsedtat = $parsedtime1 - $parsedtime;
$turnaroundtime = gmdate("H:i", $parsedtat);

?>
<tr >
<td><?php echo $row['AccessionNumber']; ?></td>
<td><?php echo $date; ?></td>
<td><?php echo $turnaroundtime; ?></td>
<td><?php echo $row['AttendingLastName']; ?></td>
<td><?php echo $row['LastName']; ?></td>
<td><?php echo $row['Modality']; ?></td>
<td><?php echo $row['ExamDesc']; ?></td>
<td><?php echo $row['MaryGrade']; ?></td>
<td><?php echo $row['MaryFolder']; ?></td>
<td><?php echo $row['MaryComment'] ?></td>

</tr>

<?php
}      
?>

</table>
</body>
</html> 
```

它给了我数据，但问题是当我尝试打开它时也会显示警告消息。请帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:42:25.417

看起来您正在将 HTML 输出到 excel 文件中。我建议您使用[fputcsv](http://php.net/manual/en/function.fputcsv.php)函数来输出 CSV 值。并使用以下内容类型：

```
 header('Content-Type: text/csv; charset=utf-8');
  header('Content-Disposition: attachment; filename= export.csv'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-03T03:42:14.480

您可以使用 CSV 下载。但是，如果您想要精确的 Excel，请查看以下参考 [http://phpexcel.codeplex.com/wikipage?title=Examples&referringTitle=Home](http://phpexcel.codeplex.com/wikipage?title=Examples&referringTitle=Home)

phpexcel 会让你以不同的格式下载。但是在大数据上仍然很慢。那么，您是 ccorePHP 代码构建器，然后远远低于示例。

```
<?php

function xlsBOF() {
    echo pack("ssssss", 0x809, 0x8, 0x0, 0x10, 0x0, 0x0);
}
function xlsEOF() {
    echo pack("ss", 0x0A, 0x00);
}
function xlsWriteNumber($Row, $Col, $Value) {
    echo pack("sssss", 0x203, 14, $Row, $Col, 0x0);
    echo pack("d", $Value);
}
function xlsWriteLabel($Row, $Col, $Value) {
    $L = strlen($Value);
    echo pack("ssssss", 0x204, 8 + $L, $Row, $Col, 0x0, $L);
    echo $Value;
} 
// prepare headers information
header("Content-Type: application/force-download");
header("Content-Type: application/octet-stream");
header("Content-Type: application/download");
header("Content-Disposition: attachment; filename=\"export_".date("Y-m-d").".xls\"");
header("Content-Transfer-Encoding: binary");
header("Pragma: no-cache");
header("Expires: 0");
// start exporting
xlsBOF();
// first row 
xlsWriteLabel(0, 0, "id");
xlsWriteLabel(0, 1, "name");
xlsWriteLabel(0, 2, "email");
// second row 
xlsWriteNumber(1, 0, 230);
xlsWriteLabel(1, 1, "John");
xlsWriteLabel(1, 2, "john@yahoo.com");
// third row 
xlsWriteNumber(2, 0, 350);
xlsWriteLabel(2, 1, "Mark");
xlsWriteLabel(2, 2, "mark@yahoo.com");
// end exporting
xlsEOF();
exit;

?> 
```

[来自http://krasimrtsonev.com/blog/article/php-export-mysql-data-to-xls-file](http://krasimirtsonev.com/blog/article/php-export-mysql-data-to-xls-file)的参考资料

# objective-c - 如何从另一个视图控制器中关闭 UIPopoverController？

> ID：14807052
> 
> 赞同：0
> 
> 时间：2013-02-11T06:34:03.200
> 
> 标签：objective-c, xcode, uipopovercontroller

我创建了一个 UIPopoverController 并在单击 setReminder 按钮 popoverView 工作正常时将其添加到主视图控制器。如果我单击保存按钮，我想关闭 popupview 我该怎么办？
![在此处输入图像描述](../Images/76dabd38dc04b644aa0c69d6e2ab346a.png)

```
 **mainView.m**
-(void)btnSetReminderTapped:(id)sender
{
setReminderView =[[setReminder alloc]initWithNibName:@"setReminder" bundle:[NSBundle mainBundle]];

setReminderView.delegate = self;
FPPopoverController *popover = [[FPPopoverController alloc] initWithViewController:setReminderView];
popover.tint = FPPopoverDefaultTint;

if(UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
{
    popover.contentSize = CGSizeMake(400,400);
}
else {
    popover.contentSize = CGSizeMake(320, 288);
}
popover.arrowDirection = FPPopoverArrowDirectionUp;

//sender is the UIButton view
[popover presentPopoverFromView:sender];
}

  ***setReminder.m***

- (IBAction) btnSaveTapped:(id) sender
{

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:52:28.333

使用委托通知您的主要`btnSave`操作视图并在该委托中关闭。

```
@protocol EventDelegate <NSObject>

- evenSaveButtonClicked;

@end 
```

在您的主 ViewController 中将其实现为

```
- (void) eventSaveButtonClicked{
    [popover dissmissPopoverAnimated:YES];
}

-(void)btnSetReminderTapped:(id)sender
{
setReminderView =[[setReminder alloc]initWithNibName:@"setReminder" bundle:[NSBundle mainBundle]];
setReminder.delegate = self;
setReminderView.delegate = self;
FPPopoverController *popover = [[FPPopoverController alloc] initWithViewController:setReminderView];
popover.tint = FPPopoverDefaultTint;

if(UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
{
    popover.contentSize = CGSizeMake(400,400);
}
else {
    popover.contentSize = CGSizeMake(320, 288);
}
popover.arrowDirection = FPPopoverArrowDirectionUp;

//sender is the UIButton view
[popover presentPopoverFromView:sender];
} 
```

您必须在 SetReminder 类中创建一个委托

```
@interface SetReminder

@property(nonatomic, unsafe_unretain) id<EventDelegate> delegate

@end 
```

在实现文件（.m）中，您可以将其合成如下

```
@implementation SetReminder
@synthesis delegate

// Your button save code
- (IBAction) btnSaveTapped:(id) sender
    {
         if([delegate respondToSelector:@selector(eventSaveButtonClicked)]){ 
             [delegate eventSaveButtonClicked];
         }
    } 
```

@结尾

# javascript - 带按钮的简单 Jquery 滑块

> ID：14807056
> 
> 赞同：1
> 
> 时间：2013-02-11T06:34:41.480
> 
> 标签：javascript, jquery, slider, carousel

我对 jQuery 很陌生，我想在这里学习一些新东西。

我在网上找到了一个[简单的教程——](http://www.webchiefdesign.co.uk/blog/simple-jquery-slideshow/index.php?page=2)

我喜欢这个教程，但我想添加一些额外的功能，比如在滑块底部添加额外的按钮。例如

*   slide1 将显示 slide1 的 div

*   slide2 将显示 slide2 的 div 等等......

我怎样才能做到这一点？这对我来说非常有用。

```
<div id="slideshow">  
<div id="slideshowWindow">

<div class="slide">
<p>Slide 1</p>
</div>

<div class="slide">
<p>Slide 2</p>
</div>

<div class="slide">
<p>Slide 3</p>
</div>

</div><!--/slideshowWindow-->
</div><!--/slideshow-->

<div class="navigation">
<a href="">Slide1 Button</a> | <a href="">Slide2 Button</a> | <a href="">Slide3     Button</a>
</div> 
```

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-02-13T22:26:40.633

本[教程](http://jqueryfordesigners.com/coda-slider-effect/) 回答了我的问题。

# sharepoint-2010 - 在sharepoint 2010中其他用户打开列表项时限制用户编辑列表项

> ID：14807061
> 
> 赞同：0
> 
> 时间：2013-02-11T06:35:08.173
> 
> 标签：sharepoint-2010

我有一个列表，其中包含用于新建、查看和编辑的自定义列表表单。表单是使用农场解决方案 (SharePoint 2010) 开发的。当两个用户同时编辑同一个项目并保存它时，它只保存一个用户数据。它没有为第二个用户显示任何错误，而是关闭了表单。第二个用户可能认为表单已保存但未保存。所以我想向第二个用户显示消息，就像在开箱列表表单中一样。

请在这个问题上帮助我。

问候阿努沙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T14:11:25.110

好吧，这取决于你正在使用什么事件。项目添加或添加。如果您使用第一个，则需要验证当前项目的信息。C# 是结构化的。即使用户 A 和用户 B 按下“保存”按钮，一个事件也会从第一个开始，第二个开始第二个。

在编辑时从列表中获取当前项目并再次下载所有字段并使用“如果”发现您正在编辑的项目没有更改，请使用 beforepropties 和 afterpropeties。伪代码中的算法：

```
1\. SPListItem item = CurrentItemDownload;
2\. If(item != properties.beforepropeties)
3\. Cancel.Submit
4\. Show.Message //validation 
```

# erlang - Erlang客户端-服务器错误

> ID：14807073
> 
> 赞同：1
> 
> 时间：2013-02-11T06:36:58.963
> 
> 标签：erlang, client-server

我正在阅读 Programming Erlang 这本书，在第 253 页有一个运行客户端/服务器连接的示例。下面的代码建议在两个单独的 erlang 控制台窗口中运行以下命令，我从中得到以下错误。

```
2> socket_examples:nano_client_eval("list_to_tuple([2+3*4,10+20])").
** exception error: no match of right hand side value {error,econnrefused}
     in function  socket_examples:nano_client_eval/1 (socket_examples.erl, line 28) 
```

服务器端的命令： `socket_examples:start_nano_server().`

客户端的命令： `socket_examples:nano_client_eval("list_to_tuple([2+3*4,10+20])").`

我没有打开防火墙，但这应该不是问题，因为它不在线。

```
 %% ---
%%  Excerpted from "Programming Erlang",   
%%---
-module(socket_examples).
-compile(export_all).
-import(lists, [reverse/1]).

nano_get_url() ->
    nano_get_url("www.google.com").

nano_get_url(Host) ->
    {ok,Socket} = gen_tcp:connect(Host,80,[binary, {packet, 0}]), %% (1)
    ok = gen_tcp:send(Socket, "GET / HTTP/1.0\r\n\r\n"),  %% (2)
    receive_data(Socket, []).

receive_data(Socket, SoFar) ->
    receive
    {tcp,Socket,Bin} ->    %% (3)
        receive_data(Socket, [Bin|SoFar]);
    {tcp_closed,Socket} -> %% (4)
        list_to_binary(reverse(SoFar)) %% (5)
    end.

nano_client_eval(Str) ->
    {ok, Socket} = 
    gen_tcp:connect("localhost", 2345,
            [binary, {packet, 4}]),
    ok = gen_tcp:send(Socket, term_to_binary(Str)),
    receive
    {tcp,Socket,Bin} ->
        io:format("Client received binary = ~p~n",[Bin]),
        Val = binary_to_term(Bin),
        io:format("Client result = ~p~n",[Val]),
        gen_tcp:close(Socket)
    end.

start_nano_server() ->
    {ok, Listen} = gen_tcp:listen(2345, [binary, {packet, 4},  %% (6)
                     {reuseaddr, true},
                     {active, true}]),
    {ok, Socket} = gen_tcp:accept(Listen),  %% (7)
    gen_tcp:close(Listen),  %% (8)
    loop(Socket).

loop(Socket) ->
    receive
    {tcp, Socket, Bin} ->
        io:format("Server received binary = ~p~n",[Bin]),
        Str = binary_to_term(Bin),  %% (9)
        io:format("Server (unpacked)  ~p~n",[Str]),
        Reply = lib_misc:string2value(Str),  %% (10)
        io:format("Server replying = ~p~n",[Reply]),
        gen_tcp:send(Socket, term_to_binary(Reply)),  %% (11)
        loop(Socket);
    {tcp_closed, Socket} ->
        io:format("Server socket closed~n")
    end.

error_test() ->
    spawn(fun() -> error_test_server() end),
    lib_misc:sleep(2000),
    {ok,Socket} = gen_tcp:connect("localhost",4321,[binary, {packet, 2}]),
    io:format("connected to:~p~n",[Socket]),
    gen_tcp:send(Socket, <<"123">>),
    receive
    Any ->
        io:format("Any=~p~n",[Any])
    end.

error_test_server() ->
    {ok, Listen} = gen_tcp:listen(4321, [binary,{packet,2}]),
    {ok, Socket} = gen_tcp:accept(Listen),
    error_test_server_loop(Socket).

error_test_server_loop(Socket) ->
    receive
    {tcp, Socket, Data} ->
        io:format("received:~p~n",[Data]),
        atom_to_list(Data),
        error_test_server_loop(Socket)
    end. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:44:10.363

您收到的消息 ({error,econnrefused}) 表明服务器已关闭。

正如 Muzaaya 所说，{packet,N} 在系统中应该是一致的。如果不是，服务器将在 binary_to_term 转换中失败并崩溃（我没有深入研究，但我想这与信息的传输方式有关）。

下一个请求将收到连接被拒绝的消息。

通过 Muzaaya 建议的更改，服务器能够执行 binary_to_term，并且一切正常，直到调用 b_misc:string2value... 这未包含在帖子中。

我注意到**一些奇怪的事情**：

*   我使用 spawn(socket_examples,start_nano_server,[]) 启动了服务器。
*   服务器在调用未定义模块时崩溃-> 正常行为。
*   但是随后外壳挂起，我无法输入任何新命令。

我无法理解发生了什么。

编辑：

谢谢 Muzaaya，我忘了看客户端代码......

我这里贴出修改后的代码，除了包定义，我在服务端和客户端做了一些改动。不得不说，我没有深入查看文档，但是在打开，关闭和接受的原始代码中似乎有些麻烦。我不确定这里的代码是否正确，我知道它错过了正确关闭套接字的一些东西，最重要的是，这段代码不能并行处理多个请求。

```
 -module(socket_examples).
-compile(export_all).
-import(lists, [reverse/1]).

nano_get_url() ->
    nano_get_url("www.google.com").

nano_get_url(Host) ->
    {ok,Socket} = gen_tcp:connect(Host,80,[binary, {packet, 0}]), %% (1)
    ok = gen_tcp:send(Socket, "GET / HTTP/1.0\r\n\r\n"),  %% (2)
    receive_data(Socket, []).

receive_data(Socket, SoFar) ->
    receive
    {tcp,Socket,Bin} ->    %% (3)
        receive_data(Socket, [Bin|SoFar]);
    {tcp_closed,Socket} -> %% (4)
        list_to_binary(reverse(SoFar)) %% (5)
    end.

nano_client_eval(Str) ->
    {ok, Socket} = 
    gen_tcp:connect("localhost", 2345,
            [binary, {packet, 0}]),
    ok = gen_tcp:send(Socket, term_to_binary(Str)),
    R = receive
        {tcp,Socket,Bin} ->
            io:format("Client received binary = ~p~n",[Bin]),
            Val = binary_to_term(Bin),
            io:format("Client result = ~p~n",[Val]),
            {ok,Val}
        after 5000 ->
            io:format("nano_client_eval got not answer to ~p~n",[Str]),
            {error,timeout}
    end,
%   gen_tcp:close(Socket),
    R.

start_nano_server() ->
    {ok, Listen} = gen_tcp:listen(2345, [binary, {packet, 0},  %% (6)
                     {reuseaddr, true},
                     {active, true}]),
 %   {ok, Socket} = gen_tcp:accept(Listen),  %% (7)
 %   gen_tcp:close(Listen),  %% (8)
%    loop(Socket).
    loop(Listen).

% loop(Socket) ->
loop(Listen) ->
    {ok, Socket} = gen_tcp:accept(Listen),
    receive
    {tcp, Socket, Bin} ->
        io:format("Server received binary = ~p~n",[Bin]),
        Str = binary_to_term(Bin),  %% (9)
        io:format("Server (unpacked)  ~p~n",[Str]),
%        Reply = lib_misc:string2value(Str),  %% (10)
        Reply = string:to_upper(Str),  %% (10)
        io:format("Server replying = ~p~n",[Reply]),
        gen_tcp:send(Socket, term_to_binary(Reply)),  %% (11)
%        loop(Socket);
        loop(Listen);
    {tcp_closed, Socket} ->
        io:format("Server socket closed~n")
    end.

error_test() ->
    spawn(fun() -> error_test_server() end),
    lib_misc:sleep(2000),
    {ok,Socket} = gen_tcp:connect("localhost",4321,[binary, {packet, 0}]),
    io:format("connected to:~p~n",[Socket]),
    gen_tcp:send(Socket, <<"123">>),
    receive
    Any ->
        io:format("Any=~p~n",[Any])
    end.

error_test_server() ->
    {ok, Listen} = gen_tcp:listen(4321, [binary,{packet,0}]),
    {ok, Socket} = gen_tcp:accept(Listen),
    error_test_server_loop(Socket).

error_test_server_loop(Socket) ->
    receive
    {tcp, Socket, Data} ->
        io:format("received:~p~n",[Data]),
        atom_to_list(Data),
        error_test_server_loop(Socket)
    end. 
```

# php - 如何使用 javascript 比较日期并在文本框中打印更高的日期

> ID：14807075
> 
> 赞同：0
> 
> 时间：2013-02-11T06:37:07.967
> 
> 标签：php, javascript, html

我有一个任务管理器应用程序。为此，我想创建一个任务。这些任务可能取决于其他任务（多个）。所以我做了下拉列表来列出所有以前的任务。问题是我想比较多个选定任务的结束日期，较高的日期应该是新任务的开始日期。我已经做了一些事情来获取值并将其打印在文本框中。我不知道如何比较日期值并将其打印到文本框。我是 javascript 的初学者。谁能帮我？我在下面发布了代码。

HTML

```
<html>
<body>
<select multiple name="pre_task" id="pre_task" onChange="change()">
<?php

while($t_res=mysql_fetch_array($t_que))
{
   echo "<option value='$t_res[t_id]'>$t_res[t_name]</option>";
}
?>
</select>
<?php
$t_que1=mysql_query("select * from task where p_id=$_SESSION[p_id]");
while($t_res1=mysql_fetch_array($t_que1))
{
  echo "<input type='hidden' value='$t_res1[t_to]' id='$t_res1[t_id]'> ";
}
?>
<label>Start Date</label>
<input type="text" id="from" value="">
</body>
</html> 
```

Javascript

```
function getselected(selectobject) 
{
  var results = {};
  for (var i=0; i<selectobject.options.length; i++) 
  {
    var option = selectobject.options[i];
    var value = option.value;
    results[value] = option.selected;
  }
  return results;
}
var currentselect = {};
function change () 
{
   var selectobject = document.getElementById("pre_task");
   var newselect = getselected(selectobject);
   for (var k in newselect) 
   {
      if (currentselect[k] != newselect[k]) 
      {
        if (newselect[k]) 
        {
          var TextBox = document.getElementById("from");
          TextBox.value = document.getElementById(k).value;
        }
      }
    } 
 currentselect = newselect;
 } 
```

现在我这样做是为了获取最后选择的日期并将其打印到文本框

先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:43:19.373

将您的两个日期值转换为[Date 对象](http://www.w3schools.com/jsref/jsref_obj_date.asp)，然后使用常用的比较运算符进行比较。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:53:22.630

javascript Date 的 getTime() 方法返回自 1970 年 1 月 1 日午夜以来的毫秒数，因此我们可以使用

> dateObj1.getTime()-dateObj2.getTime()

找出差异。从这里我们可以找到最大的结束日期

# android - Robotium 是否支持 OpenGL？

> ID：14807082
> 
> 赞同：-1
> 
> 时间：2013-02-11T06:38:17.393
> 
> 标签：android, testing, opengl-es, robotium

我想在 Robotium 或 NativeDriver 的帮助下为我自己的应用程序创建 android 自动化工具。我在我的 android 应用程序中使用了 OpenGL GLSurfaceView 来处理 3D 对象。谁能告诉我以上哪个（Robotium/NativeDriver）支持 OpenGL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:23:26.473

好吧，我首先要说的是，不要使用 NativeDriver，很久以前就放弃了对它的支持。

到下一点，robotium 将支持你获取表面视图，但只能告诉你对象的内部状态，只要你有方法允许，它没有内置支持找出什么在opengl中发生。

根据您要测试的内容，这可能足够也可能不够。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-19T16:03:49.157

Robotium 确实支持通过以下方法使用“基于位置的触摸”操作在 OpenGL 应用程序上自动执行用户操作： `solo.ClickOnScreen(float x, float y);`

但是，您无法使用方法捕获证据，`solo.takeScreenshot`因为您最终会得到空白（黑色）jpg 文件，其中没有您的任何应用程序内容。

我刚刚遇到同样的问题，无法捕获屏幕截图。

# android - 一个组件在另一个组件上的相对布局

> ID：14807088
> 
> 赞同：0
> 
> 时间：2013-02-11T06:39:07.050
> 
> 标签：android, android-layout, android-relativelayout

**功能：**

单击按钮时要显示图像当我单击图像时，图像应该消失（我为此使用 View.GONE）。

**布局：** 我相对布局一个按钮和该按钮上的一个图像，但在创建方法的活动中，我使图像视图消失，以便我可以单击按钮。

**问题：** 当我第一次单击按钮时，它可以正常工作，即图像出现，单击图像时消失。（为此，我分别使用 View.visible 和 View.gone）。但是当我第二次尝试单击按钮时，它不会显示图像。

我认为图像视图只会消失，但实际上图像仍然存在，这就是为什么按钮可能无法点击。所以我该怎么做才能让按钮可点击。任何帮助将不胜感激。谢谢...

```
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.settings1);
    img = (ImageView) findViewById(R.id.imageView4);
    btn = (Button) findViewById(R.id.btn);
    img.setVisibility(View.GONE);
 }

btn.setOnClickListener(new View.OnClickListener() 
    {
        @Override
        public void onClick(View v) 
        {
                   img.setVisiblity(View.VISIBLE);
        }
    }

img.setOnClickListener(new View.OnClickListener() 
    {
        @Override
        public void onClick(View v) 
        {
                   img.setVisiblity(View.GONE);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:24:39.903

试试看

```
 btn.setOnClickListener(new View.OnClickListener() 
    {
        @Override
        public void onClick(View v) 
        {
                   img.setVisiblity(View.VISIBLE);
                   btn.setVisiblity(View.GONE);

        }
    }

img.setOnClickListener(new View.OnClickListener() 
    {
        @Override
        public void onClick(View v) 
        {
                   img.setVisiblity(View.GONE);
                   btn.setVisiblity(View.VISIBLE);
        }
    } 
```

我希望它会有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:03:28.333

问题是，

当您使用该`view.setVisiblity(View.GONE);`视图时，点击事件不再可用。您应该为此使用 View.Invisible

但是，如果您试图制作按钮的点击效果，那么您应该使用[xml 选择器](https://stackoverflow.com/questions/7175873/click-effect-on-button-in-android)

希望能帮助到你

# php - 我能否确定下载我的程序的用户是否实际安装了它？

> ID：14807093
> 
> 赞同：2
> 
> 时间：2013-02-11T06:39:31.287
> 
> 标签：php, cookies

我制作了一些可以免费下载的软件，希望它能够使用。当他们向我发送流量时，我会向几个附属公司付款，它现在的工作方式是我给每个附属公司一个唯一的链接，只有当我的软件被实际下载时，附属公司才会得到信用。但是，如果我可以跟踪用户是否实际安装了软件，那将是理想的。有什么方法可以在不需要用户注册软件的情况下做到这一点？（请记住，我需要知道用户是由哪个会员推荐的）

本来想用会员ID在用户浏览器上创建一个cookie，然后软件安装完成后，会打开浏览器显示感谢页面，此时我可以读取cookie并弄清楚此用户与哪个附属公司绑定。但是，如果软件是使用用户默认浏览器以外的任何浏览器下载的，这将不起作用....

我的另一个想法是将用户的 IP 地址存储在数据库中，然后在打开“谢谢”页面时将其匹配，但是当用户是大型网络的一部分时，例如在大学中，这将无法正常工作。

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:50:21.090

> 我的另一个想法是将用户的 IP 地址存储在数据库中，然后在打开“谢谢”页面时将其匹配，但是当用户是大型网络的一部分时，例如在大学中，这将无法正常工作。

向每个用户发送一个带有个性化名称的安装程序（例如 binary01、binary02、binary03...）。让安装程序在下载时读取自己的名称，并将其作为 GET 参数放入感谢页面，即`http://www.yoursite.com/thankyou?exe=binary03`.

服务器上的二进制文件始终是同一个文件，但下载器会为每个附属公司报告不同的名称（或者您可以保留同一个二进制文件的多个副本，但这更难保持同步）。

例如，这可能是一个下载链接：

```
<?php
    // Download URL, of the form http://www.yoursite.com/download.php?aff=AffName
    // You can rewrite this with Apache's mod_rewrite and have .../filename-AffName.exe

    $affiliates = array(
        // You can keep these in a database
        "widgets"  => "Widgets'r'us",
        "foobar"   => "Foo's Software Bar",
    );

    $aff  = isset($_GET['aff']) ?  $_GET['aff'] : 'unaffiliated';
    $base = "YourBinary";
    $ext  = '.exe';

    $file = $base.$ext;
    $name = $base.'-'.$aff.$ext;

    Header("Content-Disposition: attachment; filename=" . urlencode($name));
    Header("Content-Type: application/force-download");
    Header("Content-Type: application/octet-stream");
    Header("Content-Type: application/download");
    Header("Content-Description: File Transfer");            
    Header("Content-Length: " . filesize($file));

    readfile($file);
?> 
```

至于如何读取包名，取决于安装程序。InnoSetup 会将信息导出为脚本变量`{srcexe}`，Advanced Installer 会将其导出为 [SETUPEXEDIR]，依此类推。

您可能希望将此提升为“首次安装注册”功能，但是，如果许多用户（例如在工作中、在网吧等）下载安装，然后在没有 Internet 连接的情况下运行它。您可能希望在安装时将“InstallationID”注册表值存储到附属名称（通过从可执行文件中读取它），然后程序可能会查找它并尝试将其交换为数字 ID 或 UUID（如果不是）。

通过这种方式，您可以两全其美，不会惹恼客户（“没有 Internet 连接就无法安装！Yeeech！”），甚至可以在讨价还价中获得一个 UUID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:45:12.160

我冒昧地猜测您使用 cookie 的想法是最好的。用户不太可能使用默认浏览器以外的其他东西来下载软件，除非他们正在设置一台新计算机并且还没有安装他们选择的浏览器。

如果您不介意更改字符串并为每个会员重新编译软件，您还可以分发不同的可执行文件，为每个会员打开特定链接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:47:44.123

在首次执行应用程序时，您应该能够以静默方式将 HTTP GET 请求发送回您的主服务器 - 基本上是 ping 回家，根本不打开任何浏览器。您甚至可以发送唯一的设备 ID 以确保这是新设备。您可能希望在本地数据库中记住此事件，而不是每次都发送此事件。

请注意，要使其正常工作，您的应用程序必须具有AndroidManifest.xml 中列出的[INTERNET权限。](http://developer.android.com/reference/android/Manifest.permission.html#INTERNET)

但是有一个关于隐私的问题：你应该让用户清楚地知道你在家里ping。

# unit-testing - 如何修复夹层单元测试失败？

> ID：14807094
> 
> 赞同：2
> 
> 时间：2013-02-11T06:39:43.373
> 
> 标签：unit-testing, mezzanine

当我运行单元测试时，出现此错误：

```
FAIL: test_syntax (mezzanine.core.tests.Tests) 
```

* * *

回溯（最近一次通话最后）：

> 文件“/Users/taylor/aco/lib/python2.7/site-packages/mezzanine/core/tests.py”，第 459 行，在 test_syntax
> 
> self.fail("语法警告！\n\n%s" % "\n".join(warnings)) AssertionError: 语法警告！
> 
> mezzanine/core/models.py:340：列表理解从第 331 行重新定义“名称”

这是我在运行单元测试时遇到的唯一错误，我到处搜索以找出解决此错误的方法，但没有发现任何有用的信息。有人可以向我解释这里发生了什么以及如何解决它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T22:34:34.903

我假设您正在运行 Mezzanine 1.3.0，这是当前的稳定版本。目前github中的master分支没有这个问题。我刚刚安装执行了以下操作：

```
$ pip install git+https://github.com/stephenmcd/mezzanine.git#egg=Mezzanine
$ mezzanine-project project
$ python project/manage.py test
Creating test database for alias 'default'...
.................................................................................
.................................................................................
.................................................................................
...............................s......s..................................s.......
................................................................
----------------------------------------------------------------------
Ran 388 tests in 30.556s

OK (skipped=3)
Destroying test database for alias 'default'... 
```

值得一提的是，`test_syntax`在 1.3.0 中失败的方法使用 pyflakes.Checker 和 pep8 Python 模块运行测试。该文件`mezzanine/core/models.py`有（有？）语法错误。[对提交](https://github.com/stephenmcd/mezzanine/commits/master/mezzanine/core/tests.py)的简短扫描表明它`test_syntax`没有改变。给出错误的特定语法在[with_respect_to](https://github.com/stephenmcd/mezzanine/blob/master/mezzanine/core/models.py#L321-L340)`mezzanine.core.models.Orderable`方法中，它没有任何 PEP8 或 pyflakes 错误。当我针对 1.3.0 版本运行 pyflakes 时：`mezzanine.core.models`

```
$ pyflakes ../lib/python2.6/site-packages/mezzanine/core/models.py
../lib/python2.6/site-packages/mezzanine/core/models.py:340: list comprehension
redefines 'name' from line 331 
```

# java - 如何最小化四个面板中的一个面板

> ID：14807095
> 
> 赞同：3
> 
> 时间：2013-02-11T06:40:01.180
> 
> 标签：java, swing, jframe, jpanel

为什么我在抽象类中得到错误。早些时候我认为可能有一个相同的类，所以我创建了一个新包并创建了一个类测试，但我仍然得到相同的错误。任何解决方案。

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package newpackage;

/**
 *
 * @author SriHari
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 *
 * @author SriHari
 */
import java.awt.Color;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import javax.swing.JButton;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;
import javax.swing.border.LineBorder;

/**
 *
 * @author David
 */
public class Test {

    public Test() {
        createAndShowGui();
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new Test();
            }
        });
    }

    private void createAndShowGui() {
        JFrame frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        final JPanel mainHolderPanel = new JPanel(new GridLayout(2, 2));

        for (int i = 0; i < 4; i++) {
            final int num = i;
            OmniPanel op = new OmniPanel(mainHolderPanel, frame) {
                @Override
                public JPanel createPanel() {
                    JPanel p = createSimplePanelInterface();
                    p.add(new JLabel("Panel " + (num + 1)));
                    return p;
                }

                @Override
                void toPanel() {
                    super.toPanel();
                    System.out.println("Frame requested to be brought to panel");
                }
            };
            mainHolderPanel.add(op.getPanel());
        }

        frame.add(mainHolderPanel);

        frame.pack();
        frame.setVisible(true);
    }
}

abstract class OmniPanel {

    protected JFrame frame;
    protected JPanel panel;
    boolean maximized = false;
    private final JComponent owner;
    private final JFrame ownerFrame;

    public OmniPanel(JComponent owner, JFrame con) {
        this.owner = owner;
        initOmniPanel();
        this.ownerFrame = con;
    }

    private void initOmniPanel() {
        panel = createPanel();
        createFrame();
        frame.addWindowListener(new WindowAdapter() {
            @Override
            public void windowDeiconified(WindowEvent we) {
                super.windowDeiconified(we);
                toPanel();
            }
        });
    }

    public JPanel getPanel() {
        return panel;
    }

    public JFrame getFrame() {
        return frame;
    }

    public boolean goFrame() {
        frame.add(panel);
        frame.pack();
        frame.setState(JFrame.ICONIFIED);
        frame.setVisible(true);
        return true;
    }

    protected void createFrame() {
        frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
    }

    void toPanel() {
        frame.remove(panel);
        frame.dispose();
        owner.add(panel);
        owner.revalidate();
        owner.repaint();
    }

    public JPanel createSimplePanelInterface() {
        JPanel p = new JPanel();
        JButton close = new JButton("X");
        JButton minimize = new JButton("_");
        JButton maximize = new JButton("|-|");
        p.add(close);
        p.add(minimize);
        p.add(maximize);
        close.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    maximized = false;
                    ownerFrame.setGlassPane(new JComponent() {
                    });
                    ownerFrame.revalidate();
                    ownerFrame.repaint();
                } else {
                    removePanelFromOwner();
                    getFrame().dispose();
                }
            }
        });
        minimize.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    maximized = false;
                    ownerFrame.setGlassPane(new JComponent() {
                    });
                    owner.add(panel);
                    owner.revalidate();
                    owner.repaint();
                    ownerFrame.revalidate();
                    ownerFrame.repaint();
                } else {
                    removePanelFromOwner();
                    goFrame();
                }
            }
        });
        maximize.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    return;
                }
                maximized = true;
                removePanelFromOwner();
                ownerFrame.setGlassPane(panel);
                ownerFrame.revalidate();
                ownerFrame.repaint();
                panel.setVisible(true);//or glasspane wont h=show this has been a java glitch of sorts for a while
            }
        });
        p.setBorder(new LineBorder(Color.black));
        return p;
    }

    private void removePanelFromOwner() {
        owner.remove(getPanel());
        owner.revalidate();
        owner.repaint();
    }

    abstract JPanel createPanel();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:40:11.977

希望这会对您的想法有所帮助：

在任何事情之前：

![在此处输入图像描述](../Images/4f06a3eac0c2fc70ceb95f11ed544aca.png)

单击面板 1 按钮后`_`：

![在此处输入图像描述](../Images/4155bb80c45e159c5bda363ea592dda7.png)

当*任务栏中*包含的第二个图标被取消图标化`JFrame`时：*`Panel 1`*

 *![在此处输入图像描述](../Images/d9d627ebb02544f862f6bbe3f6fb5597.png)

**更新**

新代码还具有最大化功能：

![在此处输入图像描述](../Images/c0b82f735d4cc88937cb26ad42083cf9.png)

按下`|-|`面板 3 上的按钮后：

![在此处输入图像描述](../Images/19c83971327ba7bdfdbf4828021236ae.png)

按下`_`按钮后最大化`panel 3`

![在此处输入图像描述](../Images/3aff09a40e3e813f724074fdc00afca6.png)面板 3：

```
import java.awt.Color;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import javax.swing.JButton;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;
import javax.swing.border.LineBorder;

/**
 *
 * @author David
 */
public class Test {

    public Test() {
        createAndShowGui();
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new Test();
            }
        });
    }

    private void createAndShowGui() {
        JFrame frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        final JPanel mainHolderPanel = new JPanel(new GridLayout(2, 2));

        for (int i = 0; i < 4; i++) {
            final int num = i;
            OmniPanel op = new OmniPanel(mainHolderPanel, frame) {
                @Override
                public JPanel createPanel() {
                    JPanel p = createSimplePanelInterface();
                    p.add(new JLabel("Panel " + (num + 1)));
                    return p;
                }

                @Override
                void toPanel() {
                    super.toPanel();
                    System.out.println("Frame requested to be brought to panel");
                }
            };
            mainHolderPanel.add(op.getPanel());
        }

        frame.add(mainHolderPanel);

        frame.pack();
        frame.setVisible(true);
    }
}

abstract class OmniPanel {

    protected JFrame frame;
    protected JPanel panel;
    boolean maximized = false;
    private final JComponent owner;
    private final JFrame ownerFrame;

    public OmniPanel(JComponent owner, JFrame con) {
        this.owner = owner;
        initOmniPanel();
        this.ownerFrame = con;
    }

    private void initOmniPanel() {
        panel = createPanel();
        createFrame();
        frame.addWindowListener(new WindowAdapter() {
            @Override
            public void windowDeiconified(WindowEvent we) {
                super.windowDeiconified(we);
                toPanel();
            }
        });
    }

    public JPanel getPanel() {
        return panel;
    }

    public JFrame getFrame() {
        return frame;
    }

    public boolean goFrame() {
        frame.add(panel);
        frame.pack();
        frame.setState(JFrame.ICONIFIED);
        frame.setVisible(true);
        return true;
    }

    protected void createFrame() {
        frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
    }

    void toPanel() {
        frame.remove(panel);
        frame.dispose();
        owner.add(panel);
        owner.revalidate();
        owner.repaint();
    }

    public JPanel createSimplePanelInterface() {
        JPanel p = new JPanel();
        JButton close = new JButton("X");
        JButton minimize = new JButton("_");
        JButton maximize = new JButton("|-|");
        p.add(close);
        p.add(minimize);
        p.add(maximize);
        close.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    maximized = false;
                    ownerFrame.setGlassPane(new JComponent() {
                    });
                    ownerFrame.revalidate();
                    ownerFrame.repaint();
                } else {
                    removePanelFromOwner();
                    getFrame().dispose();
                }
            }
        });
        minimize.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    maximized = false;
                    ownerFrame.setGlassPane(new JComponent() {
                    });
                    owner.add(panel);
                    owner.revalidate();
                    owner.repaint();
                    ownerFrame.revalidate();
                    ownerFrame.repaint();
                } else {
                    removePanelFromOwner();
                    goFrame();
                }
            }
        });
        maximize.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    return;
                }
                maximized = true;
                removePanelFromOwner();
                ownerFrame.setGlassPane(panel);
                ownerFrame.revalidate();
                ownerFrame.repaint();
                panel.setVisible(true);//or glasspane wont h=show this has been a java glitch of sorts for a while
            }
        });
        p.setBorder(new LineBorder(Color.black));
        return p;
    }

    private void removePanelFromOwner() {
        owner.remove(getPanel());
        owner.revalidate();
        owner.repaint();
    }

    abstract JPanel createPanel();
} 
```*

# windows-phone-8 - 在 Windows phone 8 中使用荧光笔进行触控绘图

> ID：14807097
> 
> 赞同：0
> 
> 时间：2013-02-11T06:40:06.697
> 
> 标签：windows-phone-8

如何使用荧光笔在 windows phone 8 中绘制一个，这就是背景上下文可见的原因。我正在创建一个绘图应用程序但如果有人对此有任何想法，请给我一些提示，请提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:10:09.260

void Touch_FrameReported(object sender, TouchFrameEventArgs e) { try { int pointsNumber = e.GetTouchPoints(drawCanvas).Count; TouchPointCollection pointCollection = e.GetTouchPoints(drawCanvas);

```
 for (int i = 0; i < pointsNumber; i++)
            {
                if (pointCollection[i].Action == TouchAction.Down)
                {
                    preXArray[i] = pointCollection[i].Position.X;
                    preYArray[i] = pointCollection[i].Position.Y;
                }
                if (pointCollection[i].Action == TouchAction.Move)
                {
                    line = new Line();

                    line.X1 = preXArray[i];
                    line.Y1 = preYArray[i];
                    line.X2 = pointCollection[i].Position.X;
                    line.Y2 = pointCollection[i].Position.Y;

                    line.Stroke = new SolidColorBrush(System.Windows.Media.Color.FromArgb(50,84,255,159));

                   // line.Stroke = new SolidColorBrush(Colors.Red);
                   // line.StrokeThickness = 100.0;
                    line.StrokeThickness = 20;

                  //  line.Height = 10;

                    SolidColorBrush scb = new SolidColorBrush(System.Windows.Media.Color.FromArgb(255, 29, 177, 0));
                    //postconstruction technique

                    line.Fill = new SolidColorBrush(Colors.Red);

                    drawCanvas.Children.Add(line);

                    preXArray[i] = pointCollection[i].Position.X;
                    preYArray[i] = pointCollection[i].Position.Y;

                    lastObject = i;
                    // drawCanvas.Children.RemoveAt(1);

                }
            }
        }

        catch (Exception er)
        {
            MessageBox.Show(er.Message);
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T01:30:05.837

对于屏幕绘图，您应该考虑使用 InkPresenter，因为它适合处理这些用例 @ [http://www.nickharris.net/2010/03/silverlight-for-mobile-on-windows-phone-7-inkpresenter-fun/](http://www.nickharris.net/2010/03/silverlight-for-mobile-on-windows-phone-7-inkpresenter-fun/)

# uml - 如何使用 UML 序列图表示同一类中的调用

> ID：14807101
> 
> 赞同：18
> 
> 时间：2013-02-11T06:40:20.143
> 
> 标签：uml, sequence-diagram

我正在尝试为我们的应用程序中的特定流程创建 UML 序列图。

问题是大多数业务逻辑都在一个类中，当我尝试在序列图中映射它时，我在序列图中多次调用相同的对象。

我需要的是类似于 UML 序列图中的堆栈跟踪的表示。是否可以使用序列图或其他图表更好地表示同一类中的调用？请指教。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-11T12:46:28.547

几点建议：

1.  您可以使用自调用在序列图上显示连续的方法。有关示例，请参见[此处](http://www.agilemodeling.com/artifacts/sequenceDiagram.htm)的图 1 （自调用是同一生命线上的循环调用）。
2.  作为替代方案，您可以考虑使用[活动图](https://en.wikipedia.org/wiki/Activity_diagram)。可能更适合说明方法的顺序。
3.  重构代码。单个类中的大量逻辑通常是一种难闻的气味。假设您有范围，重构可能是一个好主意。

hth。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-11T13:24:31.310

在 UML 序列图上表示自调用（参见步骤 7）。

[![UML 序列图上的自调用](../Images/4902956613d8de6a3465dfe198ee836a.png)](https://i.stack.imgur.com/HLNRK.gif)

如果被调用的方法是（或应该是）私有的，那么它可以安全地作为实现细节从序列图中排除。

不过我闻到了[神级](http://c2.com/cgi/wiki?GodObject)反纹；你的班级有多重责任，应该被解构。使用委托分解类，使其只有一个[职责。](https://en.wikipedia.org/wiki/Single_responsibility_principle)这些方法调用将是一个很好的起点。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-13T08:59:19.157

其实可以引用self实例

实际上UML spec 2.5b1 page 607，关于一条生命线是这样说*的：如果名字是关键字self，那么生命线代表了包含拥有生命线的交互的分类器的对象。即使包含 self ，外壳的端口也可以单独显示。*

有关完整示例，请参见[https://web.archive.org/web/20131101211441/http://lowcoupling.com/post/47844944042/uml-sequence-diagrams](https://web.archive.org/web/20131101211441/http://lowcoupling.com/post/47844944042/uml-sequence-diagrams)

# ios - 无法为推送生成 APN SSL 证书

> ID：14807105
> 
> 赞同：2
> 
> 时间：2013-02-11T06:41:05.190
> 
> 标签：ios, iphone, xcode, push-notification, apns-php

我已经尝试生成`APN SSL`证书好几天了。在文件浏览器中选择证书请求并按开发人员门户中的“生成”按钮后。什么都没发生。没有错误，也没有消息。它只是挂在那里，就像什么都没发生一样。我的应用程序已经在应用程序商店运行，我需要它来支持下一个版本的推送。

# c# - c#winform中如何判断datagridview拖到哪一列

> ID：14807107
> 
> 赞同：0
> 
> 时间：2013-02-11T06:41:07.500
> 
> 标签：c#, winforms, datagridview, drag-and-drop, datagridviewcolumn

在 C# 4.0 winform 应用程序中。我有一个带有一些列的 DataGridView，它是 AllowUserToOrderColumns = true，用户可以通过拖动来更改列位置。

当用户拖动一列时，我想知道拖动了哪一列以及它现在在哪里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:05:10.907

```
 private void dataGridView1_MouseUp(object sender, MouseEventArgs e)
    {
        var hitTest = dataGridView1.HitTest(e.X, e.Y);
        string colDragged = dataGridView1.Columns[hitTest.ColumnIndex].Name;
        MessageBox.Show("Column Dragged is " + colDragged.ToString());
    } 
```

# php - 在没有 ffmpeg 的情况下合并/连接多个 mp4 文件

> ID：14807108
> 
> 赞同：2
> 
> 时间：2013-02-11T06:41:14.883
> 
> 标签：php, mp4

我不知道这是否可能。我有 6 个 mp4 视频，我想使用 PHP 将它们合并到一个 mp4 文件中。问题是我需要执行此操作的服务器上没有 ffmpeg，而且我无法安装它，因为它不是我自己的服务器。我想知道是否有其他方法或可能性来实现这一目标。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:48:48.123

我不认为，使用 php 是可能的，因为 php 在核心中没有提供任何广泛的音频/视频操作库。所以你需要一些额外的包，比如 ffmpeg、lame 等。

# android - 如何在android中的同一底线对齐两个图像视图？

> ID：14807109
> 
> 赞同：1
> 
> 时间：2013-02-11T06:41:18.690
> 
> 标签：android, imageview

我有两个带有两个不同大小图像的 imageView。有人知道如何从基线对齐两个图像吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:43:32.320

如果将这些图像放在 a `RelativeLayout`、一个 has `@+id/first`、另一个`@+id/second`中，则在第二个图像中指定：`android:alignBottom="@id/first"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:43:16.733

将它们包装在具有相同权重的线性布局中。

# javascript - 我可以从隐藏字段中获取值吗？

> ID：14807112
> 
> 赞同：0
> 
> 时间：2013-02-11T06:41:42.133
> 
> 标签：javascript, jsp, stripes

我有一个有行的表。我必须获取行值。我通过 JavaScript 将行值放入数组中，然后在提交表单时迭代数组并将值附加到隐藏的输入文本中。文本输入映射到我的操作类。我可以得到这些值，还是我的方法是错误的。我面临一些问题。

```
$.each(productList, function(idx, val) {
$('#hiddenField').append(val);
}); 
```

hiddenField 是我在操作类中映射的属性。现在我可以得到这个输入的值吗？append() 是否追加列表的所有值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:32:56.090

```
$.each(productList, function(idx, val) {
   var hidden = $('input[name="yourHiddenName"]');
   hidden.val(hidden.val()+val));
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:22:22.057

“#hiddenField”指向 HTML 元素的“id”，而不是“name”属性，该属性用于在提交表单后在服务器端获取值。

也许您应该改用“'[name=hiddenField]'”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:47:08.483

您将在 Java 调用 request.getParameter("yourHiddenField") 中获得空值，但是如果您使用提交按钮，它应该可以工作。

# php - 如何重定向回前一页

> ID：14807114
> 
> 赞同：4
> 
> 时间：2013-02-11T06:42:05.257
> 
> 标签：php

我发现这个链接 [Redirect with Timer in PHP?](https://stackoverflow.com/questions/1901796/redirect-with-timer-in-php)

我已经尝试过了

```
<meta http-equiv="refresh" content="5;url=http://yourdomain.com"/>

<?php

// wait 5 seconds and redirect :)
echo "<meta http-equiv=\"refresh\" content=\"5;url=http://yourdomain.com\"/>";

?> 
```

它的工作，但我想重定向回上一页，知道吗？算法是我在 5 秒后更改页面并希望在 5 秒后返回上一页并继续返回.. 对不起我的英语不好

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T06:46:15.693

使用 HTTP_REFERER，它将为您提供您从哪里来到当前页面的页面。

```
$_SERVER['HTTP_REFERER'] 
```

参考： http: [//php.net/manual/en/reserved.variables.server.php](http://php.net/manual/en/reserved.variables.server.php)

```
<?php

// wait 5 seconds and redirect :)
echo "<meta http-equiv=\"refresh\" content=\"5;url=".$_SERVER['HTTP_REFERER']."\"/>";

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:43:48.533

利用`window.go(-1);`

有关详细信息，请参阅[http://www.w3schools.com/jsref/met_his_go.asp](http://www.w3schools.com/jsref/met_his_go.asp)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T06:45:17.407

可以用纯javascript完成

```
setTimeout(function(){
  window.history.back()
}, 5000); 
```

或者如果你想使用 php

```
setTimeout(function(){
  window.location = '<?=$_SERVER['HTTP_REFERER'] ?>'
}, 5000); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T06:43:54.713

您可以尝试重定向到

```
sleep(5);
$_SERVER['HTTP_REFERER']
```

# html - 不能让我的内容少一个标签可点击的超链接

> ID：14807122
> 
> 赞同：0
> 
> 时间：2013-02-11T06:42:50.627
> 
> 标签：html, css, hyperlink, tags

我一直在努力让它工作几个小时，我尝试了在 stackoverflow 上提供的几个解决方案，但仍然无法管理我的内容，而不是工作的标签。

这是我的html代码

```
<div class="productItem">
                <a class="imageContainer" style="background-image: url('<?php echo base_url() ?>images/product/thumbs/<?php echo $aProduct->filename ?>')">
                  Product Image
                </a>      
                <h4>
                    <a href="<?php echo site_url('home/product/' . $aProduct->product_id) ?>">
                        <?php echo $aProduct->product_name ?>
                    </a>
                </h4>
                <h3 class="productPrice"><?php echo $aProduct->price ?></h3>
                <span class="productItemRating">5</span>
                <a href="<?php echo $aProduct->product_id ?>" class="product-more">Buy</a>
            </div> 
```

问题在于第一个标签，标签没有内容。我将图像作为背景而不是图像标签 bcz 有人建议它更快

imageContainer a 标签的 CSS -

```
a.imageContainer{    
    display:block; 
    background-image: url('../images/product/thumbs/1358600020ca3.jpg');
    background-position: center;
    background-size: contain;
    background-repeat: no-repeat;
    margin: 5px;
    background-color: white;
    float: left;
    width: 160px;
    text-indent:-9999px; 
    height: 165px;    
}

a.imageContainer:hover{    
    cursor: pointer;
} 
```

它应该根据其他答案工作，我想我错过了一些东西，所以我别无选择，只能问。

活生生的例子——

```
http://www.safaapps.com/home/category/7 
```

您将无法单击项目 Galaxy Y 图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:57:43.227

奇怪的是，如果您删除`opacity`规则，它会修复它...不要问我为什么！

```
.productItem h4 {
    颜色：黑色;
    字体系列：无衬线；
    字体大小：16px；
    字体样式：正常；
    边距：3px 0；
    不透明度：0.95；
    文本对齐：左；
}

.productItem h3, h4 {
    白颜色;
    字体系列：无衬线；
    字体大小：20px；
    边距：0；
    不透明度：0.95；
    文本对齐：右；
    宽度：100%；
}

```

* * *

上述解决方案有效......但没有任何意义。然而，这更有意义：

没有必要`float`。`.imageContainer`这导致了一个奇怪的副作用：`<h4>`不知何故，旁边的它被拉伸在它上面（就像`h4`是在上面的毯子一样`.imageContainer`）。当您将鼠标悬停在 上时`.imageContainer`，您实际上是在悬停在 上`h4`，这就是您的`:hover`样式不会被触发的原因。

不知道为什么你首先拥有`opacity`它，但你可以保留它。只需删除`float`以下内容。

```
a.imageContainer {
    背景颜色：白色；
    背景位置：中心中心；
    背景重复：不重复；
    背景尺寸：包含；
    显示：块；
    向左飘浮;
    高度：165px；
    边距：5px；
    文本缩进：-9999px；
    宽度：160px；
}

```

# ios - 如何知道 UIPanGestureRecognizer 是否来自一个显示边缘？

> ID：14807123
> 
> 赞同：0
> 
> 时间：2013-02-11T06:42:55.610
> 
> 标签：ios, objective-c, customization, gesture-recognition

我正在尝试从显示底部边缘识别 UIPanGestureRecognizer，根据我的经验，只需询问与 x 的差异是否离底部边缘太近，但是当我调试时，我使用 locationInView 手势得到了很多结果坐标对我没用。

我一直在做测试，当我的手指从底部边缘快速通过时，我的坐标有超过 50 个差异点，我怎么知道获得这个结果的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:14:21.997

您可以使用`UIGestureRecognizerDelegate`.

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch
{
    CGPoint location = [touch locationInView:gestureRecognizer];
    if(location_is_in_the_area_that_you_want)
         return TRUE;

    return FALSE;
} 
```

希望这可以帮助。干杯!

# android - 缓冲区下溢异常

> ID：14807125
> 
> 赞同：2
> 
> 时间：2013-02-11T06:43:08.017
> 
> 标签：android, bluetooth, bytebuffer

在蓝牙应用程序中，我正在从外部设备接收字节 [] 中的数据。然后将数据放入 ByteBuffer 以供进一步使用

如下图

```
 ByteBuffer localByteBuffer = null;
        byte[] arrayOfByte = new byte[4096];

          int bytes = 0;
          Log.d("ZeoTest", "++++ Listening...");
          while (true) {

              try {
                    bytes = in.read(arrayOfByte);
                    localByteBuffer = ByteBuffer.wrap(arrayOfByte);

                    localByteBuffer.get(arrayOfByte, 0, arrayOfByte.length);

                    Log.d("Zeo", "input :"+((localByteBuffer))); 
                    String data =bytesToHex(arrayOfByte) ;
                    Log.d("Zeo", "input stream :"+(new String(data))); 
                    Log.d("ZeoTest", "++++ Read "+ bytes +" bytes");

              } catch (IOException e) {
                  e.printStackTrace();
                  try { Thread.sleep(0); } catch (InterruptedException ie) {}
              } Log.d("ZeoTest", "++++ Done: test()");

              onReceive(localByteBuffer);}   } 
```

在 onReceive 方法中检查标头是否有效...

如下所示

```
 public static boolean isValidHeader(EnhancedByteBuffer paramEnhancedByteBuffer)
  {
    boolean bool = false;
    if (paramEnhancedByteBuffer.remaining() < 12);
    while (true)
    {

      paramEnhancedByteBuffer.order(ByteOrder.LITTLE_ENDIAN);
      int i = paramEnhancedByteBuffer.position();
      long l = paramEnhancedByteBuffer.getUint32();
      paramEnhancedByteBuffer.getUint16();
      int j = paramEnhancedByteBuffer.getUint8();
      int k = paramEnhancedByteBuffer.getUint8();
      paramEnhancedByteBuffer.getBoolean();
      paramEnhancedByteBuffer.getUint8();
      int m = paramEnhancedByteBuffer.getUint16();
      paramEnhancedByteBuffer.position(i);
      if ((l == 1196641608L) && (j <= 2) && (k < 14) && (m == MessageType.getMessageContentSize(k)))
        bool = true;
           return bool;
    }
  } 
```

但是在 getUint32 方法的流异常下获取缓冲区

**可能是什么原因...？？？**

**日志猫....**

```
 FATAL EXCEPTION: main
java.nio.BufferUnderflowException
at java.nio.HeapByteBuffer.getInt(HeapByteBuffer.java:117)
at com.myzeo.zeo.utility.EnhancedByteBuffer.getUint32(EnhancedByteBuffer.java:87)
at com.myzeo.bluetooth.ZeoTest.isValidHeader(ZeoTest.java:195)
at com.myzeo.bluetooth.ZeoTest.isValidHeader(ZeoTest.java:183)
at com.myzeo.bluetooth.ZeoTest.onReceive(ZeoTest.java:153)
at com.myzeo.bluetooth.ZeoTest.setup(ZeoTest.java:125)
at com.myzeo.bluetooth.ZeoTest.access$0(ZeoTest.java:64)
at com.myzeo.bluetooth.ZeoTest$1.onClick(ZeoTest.java:47)   
at android.view.View.performClick(View.java:2629)
at android.view.View$PerformClick.run(View.java:9374)
at android.os.Handler.handleCallback(Handler.java:587)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:123)
at android.app.ActivityThread.main(ActivityThread.java:3683)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:45:49.137

可能的原因是您从缓冲区读取的字节多于可用字节。在调试器中的每个 read() 之后检查缓冲区的位置，以查看哪个调用使缓冲区超出了应有的程度（可能是 readBoolean()）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-10T09:13:15.760

You didn't consider the **position** of the reading head.

If you want to get an integer value, and the reading head is at position 4 of a ByteBuffer that has a capacity of 4, then you will get a BufferUnderflowException, because he can not read 4 more bytes for the integer value to be returned.

You have to give him the reading position (non-persistent): **getInt( position );** e.g.: getInt( 0 );

# android - 解压android apk而不更改文件的最后修改日期

> ID：14807127
> 
> 赞同：0
> 
> 时间：2013-02-11T06:43:12.727
> 
> 标签：android, compare, decompiler, last-modified, dex

我去年发布了一个安卓应用程序。apk 的最新版本是 3.2（最后修改日期是 2012 年 5 月 26 日），而我只有 2.8 版本的源代码（最后修改日期是 2012 年 5 月 15 日）。我不确定我在 2.8 和 3.2 之间的代码中做了哪些更改。

因此，我想到了解压最新的 apk 并确定更改。我已经使用 APKtoJava_RC2 工具来解压它。我可以获得源代码，但所有文件的最后修改日期都更改为当前时间。因此，我无法识别 2.8 版 apk 之后更新的文件。

由于反编译器更改了大部分代码（变量名、常量...），我无法使用文件比较工具来识别反编译代码和 2.8 版本源代码之间的文件更改。

要么我需要获取文件的原始上次修改日期，以便我可以手动比较 2.8 版本之后更新的文件，要么需要一个魔术工具来比较我的源代码和反编译的源代码。

我在网上搜索了很多并来到stackoverflow，希望有人能帮助我:)

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T19:07:12.480

您可以尝试反汇编或反编译您的 apk 的两个版本并比较结果，而不是尝试与原始源代码进行比较。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:59:21.127

使用[版本控制系统](http://git-scm.com/)，最好[是云端的](http://www.github.com/)，可以避免此类问题。此外，如果您使用 IntelliJ IDEA 之类的 IDE，它会保留所有更改的本地历史记录，并允许您比较和合并不同版本的文件。

# ios - 缺少推送通知权利

> ID：14807129
> 
> 赞同：142
> 
> 时间：2013-02-11T06:43:15.150
> 
> 标签：ios, profile, apple-push-notifications

我有一个应用程序在被拒绝时提交，我收到了消息

> 缺少推送通知权利 - 您的应用似乎注册了 Apple 推送通知服务，但应用签名的权利不包括“aps-environment”权利。如果您的应用程序使用 Apple 推送通知服务，请确保您的应用程序 ID 在配置门户中启用推送通知，并在使用包含“aps-environment”权利的分发配置文件签署您的应用程序后重新提交。

我检查了我的临时配置，在那里我找到了 aps-environment 和 production 但是，当我打开我的分发配置时，我没有找到这样的。

这是此错误消息和苹果拒绝的原因，我该如何解决？

* * *

## 回答 #1

> 赞同：83
> 
> 时间：2013-02-11T06:59:55.520

是的，这就是 App Store 拒绝的原因。如果您的 ad-hoc 配置文件具有 aps-environment 键，则意味着您的应用程序已在 Apple Provisioning Portal 中正确配置。您需要做的就是删除本地计算机上的 App Store 分发配置文件，然后从 Provisioning Portal 重新下载并安装分发配置文件。这个新的应该包含 aps-environment 键。

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2015-07-16T08:12:06.277

> 第一个应用 ID

确保您的 ID 推送通知在生产端启用

如图所示

![在此处输入图像描述](../Images/7620445a481cd21546dd7c2bd066d3f7.png)

> 二级证书

从生产部分创建两个带有您的 ID 的证书（启用推送通知）

**App Store 和 Ad Hoc**证书

**Apple 推送通知服务 SSL（沙盒）**证书

![在此处输入图像描述](../Images/c6b56680992517ed8bbf744644b75f81.png)

> 第三个配置文件

从分发部分使用您的 ID创建**App Store配置文件**

> 最后

当您上传您的 bin 时，您必须检查所使用的配置文件并拥有许多权利

![在此处输入图像描述](../Images/56264fe8f510ef6efa45efb1665e43c8.png)

这所有情况都会导致这个问题希望这对你有帮助

* * *

## 回答 #3

> 赞同：38
> 
> 时间：2016-09-21T14:21:16.450

在 XCode 8 中，除了启用条款和证书上的所有内容之外，您还需要在目标上的 Capabilities 选项卡中启用推送： [Xcode 8 "the aps-environment entitlement is missing from the app's signature" on submit](https://stackoverflow.com/questions/39554177/xcode-8-the-aps-environment-entitlement-is-missing-from-the-apps-signature-on)

我的博客文章在[这里](http://www.devsbedevin.com/handling-missing-push-notification-entitlement-appstore-error/)。

* * *

## 回答 #4

> 赞同：23
> 
> 时间：2013-08-19T04:36:57.293

我收到这条消息的原因不同——我通过 Xcode 提交了一个应用程序，而没有首先专门为该应用程序创建 App Store 分发配置文件。我相信如果您安装了一个通配符 App Store 配置文件，Xcode 会自动使用通配符。但是使用推送通知的应用程序需要自己的配置文件。

解决方法是为应用创建一个新的 App Store Distribution 配置文件。然后你下载它，把它拖到 Xcode 上，然后修改你的项目 Build Settings > Code Signing > Release 以使用新的配置文件。

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2017-01-12T11:33:06.473

继@Vaiden 给出的答案之后，在 Xcode 8 中，您可以通过选择目标并单击“修复问题”来解决此问题。当然，您仍然需要在[Apple Developer 门户](https://developer.apple.com/account/ios/profile/)中设置推送通知（您可以通过使用新的“自动管理签名”选项稍微简化流程，这样可以省去下载配置文件的麻烦）。

[![修复我选项](../Images/6b86b128920a1892b90e1a05770710d3.png)](https://i.stack.imgur.com/VN7B7.png)

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2015-09-23T21:11:01.133

对于遇到此问题但实际上在其应用程序中使用推送通知的用户：

我们的推送证书最近即将到期，因此我们以 Apple 概述的标准方式创建了新的开发/产品推送证书（我不会在这里详细介绍，更新时网上有很多关于它的信息您的推送证书可以再使用一年）。

然而，这样做之后，这个问题中的问题就出现了。不管我们做什么，在提交我们的应用程序后，我们都会收到来自 Apple 的这封电子邮件。当我们在 Apple 会员中心检查分发配置文件的设置时，一切看起来都很好（为 prod / dev 的 App ID 启用了推送，并且我们的分发配置文件仍然连接到这个 App ID，我们实际上只是创建了按照标准做法，新的推送证书再延长一年）。

最后，这就是最终为我解决的问题：

1.  创建一个指向您的 App ID 的新分发配置文件（保持当前的完整）
2.  在 Xcode 中，通过 Settings > Accounts > Select your account > Details > 单击刷新图标刷新您的配置文件
3.  为您的应用手动创建一个权利 plist 文件：
    *   文件菜单 > 新建文件...
    *   选择 iOS > 资源 > 属性列表
    *   将新文件命名为“foo.entitlements”（通常，“foo”是目标名称）
    *   单击“权利文件”旁边的 (+) 以添加顶级项目（由于文件扩展名，属性列表编辑器将使用正确的架构）
4.  确保在目标的构建设置中使用此权利文件（目标 > 构建设置 > 搜索“权利”，在 CODE_SIGN_ENTITLEMENTS 中设置您刚刚创建的权利文件的路径）
5.  确保 Target 中的配置文件/代码签名身份正确设置为适当的分发配置文件/签名身份（这应该很明显）
6.  我不是 100% 确定这是否会影响它（它不应该因为目标设置覆盖项目设置，但我还是这样做了），确保您的项目的配置文件/签名身份与您的目标匹配
7.  在您创建的权利文件中，右键单击空文件并选择“显示原始键/值”
8.  在名为“aps-environment”的权利文件中添加一个新条目，并将其值设置为“production”
9.  一个重要说明，如果您以前使用过钥匙串访问组权利，您也需要在此处添加该密钥，因为由于某种原因，在手动执行此操作时它已为我清除。确保该值与以前版本中使用的值相同（您可以通过在 Organizer 中查找以前的版本来找到该值，尝试提交到应用商店，选择您的团队，然后在提交应用程序之前点击旁边的箭头“(X) Entitlements” 字符串以展开权利并查看 keychain-access-group 权利的值。
10.  归档您的应用程序并尝试将其提交到最后的“提交”按钮。您应该会看到这个应用程序现在是使用您在会员中心创建的新配置文件构建的。现在取消这个。
11.  返回 Apple 会员中心并删除您在步骤 1 中创建的新配置文件。
12.  回到 Xcode，通过重复步骤 2 再次刷新您的配置文件列表。
13.  现在再次归档您的应用程序，您应该会看到该应用程序是使用您想要使用的旧分发配置文件构建的，并且正确地具有 aps-environment 权利。提交，你就完成了。

我知道这并不像它应该有屏幕截图那样详细，我会尽可能用屏幕截图更新它，但目前我正处于时间紧缩状态，想了解一下我在那里做了什么。我列出的部分或大部分步骤也很有可能不是必需的，我将它们放在这里是因为我做了它们，它们可能已经导致了最终解决方案。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2013-02-11T07:06:15.123

在 iOS 配置门户中的 developer.apple.com 上检查您的 App Id 是否已启用 Push 如果没有，则为您的 App Id 配置您的 Push SSL 证书在你的 Xcode 库中

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2015-09-16T09:29:56.903

即使**我在我的应用程序中根本没有使用推送通知，**我也遇到了这个问题。制作**新的配置文件**也对我不起作用。我所做的是：-

**1.仅为 Ad hoc & App Store 创建全新的证书。**

**2.然后使用此证书制作分发配置文件并将配置文件与Xcode集成。**

然后新提交的带有此配置文件的构建被批准，没有任何警告。

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2016-12-21T14:42:34.593

这就是为我解决的问题。（我已经尝试过打开/关闭功能，重新创建配置文件等）。

在**Build Settings**选项卡的**Code Signing Entitlements**中，我的*.entitlements*文件不是所有部分的链接。一旦我将它添加到 Any SDK 部分，错误就解决了。

[![在此处输入图像描述](../Images/93964bd4f4af0b9ab623498e5bb89286.png)](https://i.stack.imgur.com/MMQI1.png)

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2017-10-01T20:46:35.160

我遇到了同样的问题，我的解决方案是从 Target -> Capabilities 添加推送通知权利。

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2018-05-28T11:29:37.250

为了解决博览会“退出”应用程序的问题，我转到功能选项卡，启用推送，然后再次禁用它。这从 .entitlements 文件中删除了 APNS 的“权利”设置。

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2020-04-08T22:50:21.433

*FIX IDEA* 嘿伙计们，所以我制作了一个应用程序并且没有使用任何推送通知功能，但我仍然收到一封电子邮件。在检查了我用来在苹果商店中创建我的应用程序的捆绑标识符的证书、ID 和配置文件后，在苹果开发者门户中连接我意识到推送通知已打开。

你要做的是：

转到苹果开发者登录网站，您可以在其中管理您的证书 2\. 选择右侧的“证书、ID 和配置文件”选项卡 3\. 现在选择“标识符” 4\. 以及右侧列表中的捆绑 ID 5\. 现在向下滚动直到您看到推送通知 6\. 将其关闭 7\. 归档您的构建并将其重新上传到 Apple Store Connect

希望能帮助到你！

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2015-02-11T04:11:29.067

就我而言，即使我创建了一个 myapp.profile 并在 xcode 中手动设置它，当我选择“在 finder 中显示”并找到 Embedded.mobileprovision 并检查以确保文件中存在 aps-environment 时，错误是还在那里。

然后我去开发者中心，发现XC:myapp.profile的状态无效。我更新了它并安装了 XC：myapp.profile，它运行良好。

我认为 xcode 正在尝试管理配置文件，当您将二进制文件提交到存储时，您需要检查配置文件，并确保它是正确的。根据其他答案，这可能是由于各种原因造成的，因此真的很烦人。

更新：

一旦您使用下载的配置文件签名并确认`aps-environment`在您尝试提交时存在`App Store`，您应该能够将配置文件和代码签名实体更改为自动和`iOS Developer`。希望它可以在 Xcode 7 中得到改进。

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2019-11-22T14:33:00.687

我遇到了这个问题，因为我的权利文件由于以前的手动编辑而格式错误。我删除了格式错误的权利条目语法，然后我可以单击功能选项卡中的“修复”，Xcode 将权利添加到我的文件中。

以下是格式正确的权利文件 (" `Runner.entitlements`") 的示例：

```
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>aps-environment</key>
    <string>development</string>
    <key>com.apple.developer.applesignin</key>
    <array>
        <string>Default</string>
    </array>
</dict>
</plist> 
```

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2016-07-14T19:55:06.357

这里有一些非常好的建议。

参考 Mina 提供的最后一个屏幕截图，在最初归档我的应用程序后，上传期间提到的配置文件包含通配符 (XC.*)。这是错误的。

为了解决这个问题，付出了相当大的努力。我必须综合执行 Simon Woodside 和 Mina Fawzy 提供的建议。

如果您有任何与您的项目相关的现有证书和配置文件，现在是在本地删除它们并远程撤销它们的好时机。给自己一个新的开始。

Mina Fawzy 的详细建议非常好。执行 Mina 的建议，如果执行正确，应该会在网上照顾您。

输入西蒙的建议。我需要在我的项目中检查两件事。使用 XCode，去这里：

**项目 -> 构建设置 -> 代码签名**

查看**代码签名身份**和**供应配置文件**属性。确保将这两个属性设置为项目名称。不要让 XCode 自动为您选择，也不要使用一些通用的代码签名身份（例如 Iphone Developer）。

在决定存档之前，请确保您可以将应用程序实际安装到您的设备上。

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2017-07-27T15:11:40.523

`Push Notification`在启用from`Capabilities`并重新制作所有证书后，我遇到的最大问题是**目标名称**和存储项目的**文件夹名称**由 2 个用空格分隔的字符串组成。删除空间后一切正常！

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2021-04-16T04:59:10.143

**在颤振中**

`Runner.entitlements`您可以在下面添加一个文件`ios/Runner`，内容如下，创建后您的文件 parh 将如下所示`ios/Runner/Runner.entitlements`：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>aps-environment</key>
    <string>development</string>
</dict>
</plist> 
```

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2015-08-31T19:23:35.867

这突然发生在我身上，因为我的应用程序的分发配置文件已过期。Xcode 开始使用通配符配置文件，它没有启用推送通知权利。我没有收到任何警告。修复很容易；我只需要在 Apple Developer Member Center 中为我的应用程序生成另一个分发配置文件，下载它，然后双击安装到 Xcode 中。

# java - 如何测试 SNMP4J 代理

> ID：14807135
> 
> 赞同：2
> 
> 时间：2013-02-11T06:43:36.850
> 
> 标签：java, get, set, snmp4j

我有使用 SNMP4J 代理源代码开发的 jar。如何测试运行代理？我想包含一个 MIB 文件并测试 GET 和 SET 方法。我怎样才能为此编写一个测试类？任何链接或教程也将不胜感激在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:00:01.340

您可以查看[SNMP Simulator](http://snmpsim.sourceforge.net/)，这是一个免费库，用于测试 SNMP 代理并提供`MIB`基于模拟的

通常，您可以创建一个使用 MIB 文件的 SNMP 客户端来构建请求并检查响应是否有效，您可以查看[本教程](http://shivasoft.in/blog/java/snmp/creating-snmp-agent-server-in-java-using-snmp4j/)以获取有关创建客户端/服务器 SNMP 代理的示例代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-05T22:11:25.830

[NetSnmp](http://net-snmp.sourceforge.net/)也可用于测试您的代理

# ckeditor - IE 中的 CKEditor 退格 - 选择图像并按“退格”会导致浏览器返回

> ID：14807138
> 
> 赞同：1
> 
> 时间：2013-02-11T06:43:41.390
> 
> 标签：ckeditor

选择图像并按“退格键”时，它会导致浏览器返回而不是删除图像。

**重现步骤**

*   打开IE9浏览器。
*   转到“ [http://ckeditor.com/demo](http://ckeditor.com/demo) ”。
*   通过单击在编辑器中选择图像。
*   按“退格”。

**预期结果**

*   需要删除图像。

**实际结果**

*   浏览器返回。​</li>

谁能有这个问题的临时解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-20T10:45:47.157

CKEditor 在 4.3.1 版本中修复它： [票链接](http://dev.ckeditor.com/ticket/10055)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-30T15:47:28.550

我也看到了这一点。尝试使用 IE9 并出售图像。键入退格 =。将返回上一个浏览器页面。期待删除图像。

# javascript - 如何在 Javascript 中将节点附加到 div 的开头？

> ID：14807141
> 
> 赞同：0
> 
> 时间：2013-02-11T06:43:55.867
> 
> 标签：javascript, html

我目前正在将一个节点附加到 div 的末尾以动态添加到 div，但我希望将其附加到 div 的开头而不是结尾。

我当前的代码如下所示：

```
var para=document.createElement('div');

var node=document.createTextNode('this is new');
para.appendChild(node);

var element=document.getElementById("div1");
element.appendChild(para);

<div id="div1">
<p id="p1">This is a paragraph.</p>
<p id="p2">This is another paragraph.</p>
</div> 
```

如何附加到 div 的开头？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T06:47:10.093

您可以使用[insertBefore()](https://developer.mozilla.org/en-US/docs/DOM/Node.insertBefore)与父母的[firstChild](https://developer.mozilla.org/en-US/docs/DOM/Node.firstChild)作为参考元素：

```
var element = document.getElementById("div1");
element.insertBefore(para, element.firstChild); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:47:54.037

看看 jQuery ( [http://www.jquery.com](http://www.jquery.com) )，因为它会让你的生活变得更轻松。存在其他库，但 jQuery 是最流行的。

你的 jQuery 代码：

```
$("<div/>").append("this is new").appendTo($("#div1")) 
```

并预先准备：

```
$("<div/>").prepend("this is new").prependTo($("#div1")) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:48:19.083

`element.insertBefore(para, element.firstChild )`

[https://developer.mozilla.org/en-US/docs/DOM/Node.insertBefore?redirectlocale=en-US&redirectslug=DOM%2Felement.insertBefore](https://developer.mozilla.org/en-US/docs/DOM/Node.insertBefore?redirectlocale=en-US&redirectslug=DOM%2Felement.insertBefore)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T06:48:38.780

我不确定，但你可以这样做：

```
<script type="text/javascript">
window.onload=function(){
dv=document.createElement('div1');
txt=document.createTextNode('this is new');
dv.appendChild(txt);
document.getElementById('div1').appendChild(dv);
}
</script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T06:48:53.210

您可以使用 javascript insertBefore() 方法。当您添加到 dom 时。

# c# - 生成word文档

> ID：14807150
> 
> 赞同：0
> 
> 时间：2013-02-11T06:44:49.433
> 
> 标签：c#, ms-word

我正在使用以下代码创建一个 word 文档

```
private void button1_Click(object sender, EventArgs e)
    {
        object missing = System.Reflection.Missing.Value;
        object Visible=true;
        object start1 = 0;
        object end1 = 0;

         Microsoft.Office.Interop.Word.Application WordApp;
        WordApp = new Microsoft.Office.Interop.Word.Application();
        Document adoc = WordApp.Documents.Add(ref missing, ref missing, ref missing, ref missing);
        Range rng = adoc.Range(ref start1, ref missing);

        try
        {              
            rng.Font.Name = "Hai";
            rng.InsertAfter("Hello World!");
            object filename = @"D:\MyWord.doc";
            adoc.SaveAs(ref filename, ref missing, ref missing, ref missing, ref missing, ref missing,
            ref missing, ref missing, ref missing, ref missing, ref missing, ref missing, ref missing, ref missing, ref missing, ref missing);
            WordApp.Visible = true;
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }        
    } 
```

只有当系统有MS Word时才有效。如果系统不包含MS Word，那么我如何创建Word文档？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:48:57.063

使用[Open XML 格式 SDK](http://www.microsoft.com/downloads/en/details.aspx?FamilyId=C6E744E5-36E9-45F5-8D8C-331DF206E0D0&displaylang=en) 1234567890

# makefile - Makerule 只运行一个规则

> ID：14807151
> 
> 赞同：2
> 
> 时间：2013-02-11T06:44:57.797
> 
> 标签：makefile

我正在尝试编写我的第一个 Makefile。我目前只有 3 条规则。当我运行“make”时，只执行第一个规则，然后 make 退出而不运行其他 2。我的 Makefile 没有什么复杂的。我什至尝试将规则数量减少到 2，但我得到了相同的结果。这是我到目前为止所拥有的。

```
SRC = src/analytics.js

lint:
    jshint $(SRC)

build: $(SRC)
    cat $^ > build/analytics.js

min: build
    uglifyjs --no-mangle build/analytics.js > build/analytics.min.js 
```

当我在这里运行 make 时，我得到的是执行 lint 规则的消息：`jshint src/analytics.js`

我在 Mac OS 10.8.2 上运行 make 3.81。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:34:40.630

当您只运行“make”时，make 将只执行默认目标，该目标通常是第一个目标 - 在您的情况下为“lint:”。

如果 'lint' 有依赖关系，那么你需要列出它们。例如：

```
lint: dep1 dep2 
```

Make 会在执行 lint 之前执行 dep1 和 dep2。

如果您希望通过一次调用来运行上述所有三件事，只需“make”即可将此目标添加到其他目标之上：

```
all: lint build min 
```

您可以按照您希望它们发生的顺序放置它们。我称目标为“全部”，因为这就是它的作用，而不是它意味着任何特殊的东西。

# c - memcpy 遇到问题

> ID：14807152
> 
> 赞同：-3
> 
> 时间：2013-02-11T06:44:59.720
> 
> 标签：c, memcpy, c-strings

我正在使用的代码：

```
char** list  
char** final;
char* target;
char* replace;
int wCounter, cCounter, i, hashCounter = 0, addLetter = 0;
int copyWord, countChars, numOfWords, finalWords = 0, temp;

//stuff here

for(wCounter; wCounter < temp + numOfWords; wCounter++, finalWords++)
{
    printf("Original string: %s\n", list[wCounter+1]);
    final[finalWords] = strstr(list[wCounter+1], target);

    if(final[finalWords] != NULL)
        memcpy(final[finalWords], replace, strlen(target));

    printf("Final string: %s\n\n", final[finalWords]);
}

//stuff here 
```

我的程序输出：

```
Target string = h   Replacement string = j

Original string: hello
   Final string: jello //works!!!

Original string: happy birthday
   Final string: jappy birthday  // should be jappy birtjday

Target string = ra  Replacement string = ar

Original string: radar
   Final string: ardar   //works!!!

Original string: are you ready
   Final string: (null)  //awkward

Original string: pirate radio rating
   Final string: arte radio rating //should be piarte ardio arting

Target string = x   Replacement string = zz

Original string: exit
   Final string: zit   //should be zzit

Original string: x-ray
   Final string: z-ray  //should be zz-ray

Original string: xerox
   Final string: zerox //should be zzerox 
```

我的程序有一个目标字符串（例如'h'）它还有一个替换字符串（例如'j'）

每次它看到一个'h'它应该用'j'替换它

生日快乐应该是 jappy birtjday。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:12:22.593

好的，您的代码有几个问题。

首先： strstr 仅返回指向要匹配的序列的第一个出现的指针（有关详细信息，请参见[此处](http://en.cppreference.com/w/c/string/byte/strstr)）。所以你永远不会得到指向第二次或第三次出现的指针。你需要在这里修改你的概念。

其次：使用 memcopy 替换某些东西只有在替换的长度与要替换的部分相同的情况下才有效。考虑以下示例：

```
Address:  0123456789ABCD
Original: This is a test
Target: is
Replacement foo 
```

请注意，替换超出了目标的长度。现在你的代码会发生什么？`strstr`返回地址 2。您现在将此指针传递给`memcpy`. 你得到的是以下字符串：`Thfo is a test`

请注意，缺少“foo”的第二个“o”。这是因为您只复制与目标字符串一样多的字节。如果您复制的字节数与替换的字节数一样多，那么您最终会得到一个类似`Thfoois a test`. 不是更好吗？

我建议重新考虑您的解决方案概念。也许更好的方法是通过目标字符串的出现来“标记”字符串并连接元素以获得所需的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:55:55.397

该[`memcpy`](http://www.cplusplus.com/reference/cstring/memcpy/)函数不能用另一个字符串*替换*一个字符串，它只会在**两个字符串具有相同长度的**情况下按预期工作，并且**不会替换多个匹配项**。您将需要类似[str_replace](http://coding.debuntu.org/c-implementing-str_replace)的东西来完成这项工作。

# android - Android在对话框自定义视图中创建意图

> ID：14807154
> 
> 赞同：0
> 
> 时间：2013-02-11T06:45:09.890
> 
> 标签：android, dialog

我已经使用自定义 xml 视图创建了一个对话框，现在我有一些按钮，我想在点击侦听器上添加并使用它们启动新活动。但是每次我尝试创建一个意图时，它都会使我的应用程序崩溃。

```
 Dialog dialog = new Dialog(MainActivity.this);
     dialog.setContentView(R.layout.activity_dialog_tips);
     RelativeLayout AldikoLauncher;
     AldikoLauncher = (RelativeLayout) findViewById(R.id.launch_aldiko_tour);

        AldikoLauncher.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                pref.setGuidedActivity("MainActivity");
                Intent ShowCase1 = new Intent(MainActivity.this,ShowCaseStep1.class);
                ShowCase1.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                overridePendingTransition(R.anim.fadeout, R.anim.fadein);
                startActivity(ShowCase1);
            }
        }); 
     dialog.setTitle("Quick Tips");
     dialog.setCancelable(true);
     dialog.show(); 
```

错误报告

```
 02-11 06:44:04.355: E/AndroidRuntime(2202): FATAL EXCEPTION: main
            02-11 06:44:04.355: E/AndroidRuntime(2202): java.lang.NullPointerException
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.utext.unext.MainActivity.InvokeTipsLauncher(MainActivity.java:91)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.utext.unext.MainActivity.onOptionsItemSelected(MainActivity.java:80)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at android.app.Activity.onMenuItemSelected(Activity.java:2548)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:980)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:735)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:149)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:874)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.android.internal.view.menu.ActionMenuView.invokeItem(ActionMenuView.java:547)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.android.internal.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:115)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at android.view.View.performClick(View.java:4202)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at android.view.View$PerformClick.run(View.java:17340)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at android.os.Handler.handleCallback(Handler.java:725)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at android.os.Handler.dispatchMessage(Handler.java:92)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at android.os.Looper.loop(Looper.java:137)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at android.app.ActivityThread.main(ActivityThread.java:5039)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at java.lang.reflect.Method.invokeNative(Native Method)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at java.lang.reflect.Method.invoke(Method.java:511)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
            02-11 06:44:04.355: E/AndroidRuntime(2202):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T06:48:35.363

改变

```
AldikoLauncher = (RelativeLayout) findViewById(R.id.launch_aldiko_tour); 
```

到

```
 AldikoLauncher = (RelativeLayout)dialog.findViewById(R.id.launch_aldiko_tour); 
```

因为要从 Dialog 布局访问 UI 元素，您需要使用`dialog`

# php - 如何获取通过脚本上传的文件的直接链接？

> ID：14807157
> 
> 赞同：1
> 
> 时间：2013-02-11T06:45:15.740
> 
> 标签：php, codeigniter-2, openshift

我能够通过 PHP 成功将文件上传到 /app-root/data/

现在我想要一个上传文件的直接链接，以便我们可以通过 http 下载它（我的意思是我的网络应用程序）

我希望将“xyz.txt”上传到 /app-root/data/xyz.txt 并且需要像[https://app-name.rhcloud.com/data/xyz.txt这样的直接链接](https://app-name.rhcloud.com/data/xyz.txt)

我该怎么做？请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T11:13:25.537

解决了，我所做的是登录到我的应用程序的 ssh 控制台并创建了一个链接，例如

```
ln -sf $OPENSHIFT_DATA_DIR $OPENSHIFT_REPO_DIR/php/data 
```

上传文件的直接链接就像 [https://app-name.rhcloud.com/data/](https://app-name.rhcloud.com/data/) ???.??

# android - 如何在操作栏选项卡之外添加 TextView

> ID：14807164
> 
> 赞同：0
> 
> 时间：2013-02-11T06:45:32.617
> 
> 标签：android, android-fragments, android-actionbar, android-tabs

我喜欢制作带有标签的应用程序。我的应用程序中有三个选项卡，每个选项卡中有一些按钮。还有三个片段。当按下每个选项卡中的按钮时，我喜欢在通用 TextView 中显示一些文本。我的选项卡工作正常。但我有一些三个问题。1.如何为所有选项卡（可能在选项卡之外）提供一个通用的 TextView 2.我在片段中的按钮方法不起作用 3.当我尝试显示自定义语言字体时，它给了我一个错误“方法 getAssets() 是未定义类型 FragmentA"

以下是我的主要活动

```
public class MLkeyboardActivity extends Activity {
/** Called when the activity is first created. */
//public static TextView textView1;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_mlkeyboard);

    final ActionBar actionBar = getActionBar();        
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

    Tab tabA = actionBar.newTab();
    tabA.setText("Tab A");
    tabA.setTabListener(new TabListener<FragmentA>(this, "Tag A", FragmentA.class));
    tabA.setIcon(R.drawable.ic_launcher);
    actionBar.addTab(tabA);

    Tab tabB = actionBar.newTab();
    tabB.setText("Tab B");
    tabB.setTabListener(new TabListener<FragmentB>(this, "Tag B", FragmentB.class));
    actionBar.addTab(tabB);

    Tab tabC = actionBar.newTab();
    tabC.setText("Tab C");
    tabC.setTabListener(new TabListener<FragmentC>(this, "Tag C", FragmentC.class));
    actionBar.addTab(tabC);

    if (savedInstanceState != null) {
        int savedIndex = savedInstanceState.getInt("SAVED_INDEX");
        getActionBar().setSelectedNavigationItem(savedIndex);
    }

}

@Override
protected void onSaveInstanceState(Bundle outState) {
    // TODO Auto-generated method stub
    super.onSaveInstanceState(outState);
    outState.putInt("SAVED_INDEX", getActionBar().getSelectedNavigationIndex());
}

public static class TabListener<T extends Fragment> 
    implements ActionBar.TabListener{

    private final Activity myActivity;
    private final String myTag;
    private final Class<T> myClass;

    public TabListener(Activity activity, String tag, Class<T> cls) {
        myActivity = activity;
        myTag = tag;
        myClass = cls;
    }

    @Override
    public void onTabSelected(Tab tab, FragmentTransaction ft) {

        Fragment myFragment = myActivity.getFragmentManager().findFragmentByTag(myTag);

        // Check if the fragment is already initialized
        if (myFragment == null) {
            // If not, instantiate and add it to the activity
            myFragment = Fragment.instantiate(myActivity, myClass.getName());
            ft.add(android.R.id.content, myFragment, myTag);
        } else {
            // If it exists, simply attach it in order to show it
            ft.attach(myFragment);
        }

    }

    @Override
    public void onTabUnselected(Tab tab, FragmentTransaction ft) {

        Fragment myFragment = myActivity.getFragmentManager().findFragmentByTag(myTag);

        if (myFragment != null) {
            // Detach the fragment, because another one is being attached
            ft.detach(myFragment);
        }

    }

    @Override
    public void onTabReselected(Tab tab, FragmentTransaction ft) {
        // TODO Auto-generated method stub

    }

}} 
```

这是我在其中一个片段中的代码

```
public class FragmentA extends Fragment {
public static TextView textView1;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    View myFragmentView = inflater.inflate(R.layout.fragment_a, container, false);
    return myFragmentView;      
}
public void button1(View view) {
    TextView tv = (TextView) getActivity().findViewById(R.id.textView1);
    Typeface typeFace = Typeface.createFromAsset(getAssets(),"fonts/AnjaliOldLipi.ttf");
    tv.setTypeface(typeFace);
    tv.setText("അ");            

}} 
```

我将非常感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T18:18:21.237

最后我得到了解决方案。我们可以在 Main XML 文件中提供一个通用的 TextView，如下所示。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:orientation="vertical" >

<TextView
android:id="@+id/textView1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="TextView" />    

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:orientation="vertical" >
</LinearLayout>
</LinearLayout> 
```

现在按钮不需要从片段中调用。通过提供 FindVuewById 方法，可以直接从 Main Activity 调用它。Tab1.XMl、Tab2.xml等中的Button名称应该不同。代码如下，

```
public void butn1(View view) {
    TextView tv = (TextView) findViewById(R.id.textView1);      
    tv.setText("abc");  

} 
```

方法 butn1 对应于 Tab1 中的 Button1，同样我们可以为其他选项卡中的其他按钮赋予。

# ios6 - 当我单击日期选择器的完成按钮时，我的文本字段中没有默认日期

> ID：14807172
> 
> 赞同：1
> 
> 时间：2013-02-11T06:46:04.630
> 
> 标签：ios6

NSDateFormatter *df = [[NSDateFormatter alloc] init];

```
df.dateStyle = NSDateFormatterMediumStyle;

txtSelectNiche.font = [UIFont boldSystemFontOfSize:17.0];

[txtSelectNiche setInputView:(UIView*)[df stringFromDate:datePicker.date]]; 
```

txtSelectNiche.text = [NSString stringWithFormat:@"%@", [df stringFromDate:datePicker.date]];

```
txtSelectNiche.textAlignment = UITextAlignmentCenter; 
```

# android - 如何在 android + iPhone webview 中播放下载的视频

> ID：14807179
> 
> 赞同：0
> 
> 时间：2013-02-11T06:46:33.367
> 
> 标签：android, iphone, asp.net, web-applications

我正在为 android + iphone 开发一个网络应用程序，我想在其中实现以下功能。

如果用户连接到 WiFi，他可以直接从服务器播放视频，也可以将视频下载到他们的设备。稍后当他们在移动网络上时，他们可以在该网络应用程序中播放下载的文件。

可能吗？我怎样才能做到这一点？我的 Web 应用程序是用`ASP.NET`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:04:39.883

实际上 HTML 5 应用程序可以缓存。但是有大小限制。iOS safari 中的 Web 应用程序可以离线缓存约 5MB。据我所知，在 Android 中约为 2MB。但是您实际上无法通过 HTML 5 确定它是 wifi 还是 3g。所以我认为您尝试完成这项工作的方式可能行不通。

为此，您可以使用本机 iOS 和 Android 应用程序。您可能会使用一些第三方库/SDK，它们将导出到 Android 和 iOS（我不知道确切的名称）。但在我看来，编写原生应用程序是最好的解决方案。

# python - 相同图像的不同背景但大小不同

> ID：14807183
> 
> 赞同：2
> 
> 时间：2013-02-11T06:46:49.950
> 
> 标签：python, image-processing

我有一些产品图片。这些图像的背景是白色的。现在，在我的网站中，我想在不同的地方使用不同尺寸的相同图像。问题是，由于图像背景的颜色是白色。但是，我需要作为缩略图的背景颜色是绿色。同样，作为主要产品图像，我希望背景为浅蓝色。例如，这是一个图像。 [链接](http://img2.findthebest.com/sites/default/files/770/media/images/Nokia_Asha_309_512151.jpg)。你可以看到这张图片的背景是白色的。我想使用相同的图像作为缩略图。我编写了一个代码来生成图像的缩略图。但我想要背景作为其他颜色。这可以通过python中的图像处理来完成吗？谢谢你。

编辑：我不能评论任何答案，不明白为什么。请回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T20:51:33.633

如果您可以容忍生成的图像中出现一些丑陋的效果，这很容易做到。如果这张具有不同背景颜色的图像将显示为原始图像的缩小版本，那么这些效果可能不会很明显，一切都很好。

所以这里是简单的方法：

*   假设它是背景像素（在您的示例中为白色），则从 (0, 0) 处的像素进行填充填充，并在执行填充填充时接受细微的差异。背景像素被透明点替换。
*   上面的步骤给出了一个掩码，例如，您可以执行腐蚀和高斯滤波。
*   使用上面创建的蒙版粘贴“洪水填充”图像。

以下是您可以从这种方法中获得的期望。输入图像，然后两次转换为不同的背景颜色。

![在此处输入图像描述](../Images/d4bb8e89dcf871c4537310875d94126b.png) ![在此处输入图像描述](../Images/f7368c31ee6a65e97f01f1915ed22343.png) ![在此处输入图像描述](../Images/2a574591826f3fd433ebb4204ffce455.png)

```
import sys
import cv2
import numpy
from PIL import Image

def floodfill(im, grayimg, seed, color, tolerance=15):
    width, height = grayimg.size
    grayim = grayimg.load()
    start_color = grayim[seed]

    mask_img = Image.new('L', grayimg.size, 255)
    mask = mask_img.load()
    count = 0
    work = [seed]
    while work:
        x, y = work.pop()
        im[x, y] = color
        for dx, dy in ((-1,0), (1,0), (0,-1), (0,1)):
            nx, ny = x + dx, y + dy
            if nx < 0 or ny < 0 or nx > width - 1 or ny > height - 1:
                continue
            if mask[nx, ny] and abs(grayim[nx, ny] - start_color) <= tolerance:
                mask[nx, ny] = 0
                work.append((nx, ny))
    return mask_img

img = Image.open(sys.argv[1]).convert('RGBA')
width, height = img.size
img_p = Image.new('RGBA', (width + 20, height + 20), img.getpixel((0, 0)))
img_p.paste(img, (3, 3))
img = img_p
img_g = img.convert('L')
width, height = img.size

im = img.load()
mask = floodfill(im, img_g, (0, 0), (0, 0, 0, 0), 20)

mask = numpy.array(mask)
se = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (7, 7))
mask = cv2.erode(mask, se)
mask = cv2.GaussianBlur(mask, (9, 9), 3)
mask = Image.fromarray(mask)

result_bgcolor = (0, 0, 0, 255) # Change to match the color you wish.
result = Image.new('RGBA', (width, height), result_bgcolor)
result.paste(img_p, (0, 0), mask)

result.save(sys.argv[2]) 
```

# eclipse - 如何使用 ANT 编译包含源附件的 .war

> ID：14807184
> 
> 赞同：1
> 
> 时间：2013-02-11T06:46:50.140
> 
> 标签：eclipse, tomcat, ant, war

所以我使用 Apache Tomcat 来部署我在 Eclipse 中使用 ANT 生成的 .war 文件。
在 Eclipse 中使用 Tomcat 的源代码进行调试时，总是出现无源附件显示。

我需要**.class**和**.java**相互连接才能进行调试。

我的 javac 任务看起来像这样

```
<javac debug="true" debuglevel="lines,vars,source" srcdir="${src}" destdir="${tmp}/WEB-INF/classes" source="1.6" target="1.6">
          <classpath>
            <fileset dir="${lib2}">
                <include name="*.jar" />
            </fileset>
        </classpath>
</javac> 
```

建议将不胜感激。

我正在使用这些参数在 Eclipse 上调试 Tomcat

> 卡特琳娜 jpda 开始

# asp.net-mvc - MVC SMTP 邮件未发送

> ID：14807187
> 
> 赞同：0
> 
> 时间：2013-02-11T06:47:02.930
> 
> 标签：asp.net-mvc, asp.net-mvc-3, smtp

我有一个使用远程 SMTP 服务的 MVC 项目，该服务可以在服务器上正常发送邮件，但是当我在本地计算机上加载项目并运行它时，它不会发送邮件。可能是什么问题呢？？？我需要在本地开发机器上启用 SMTP 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:08:35.230

出于某种原因，使用远程 smtp 服务器的 MVC 设置确实有效。

通过使用谷歌的 smtp 服务器而不是端口 587，我能够让它在本地工作。

感谢您的回复。

# redirect - STDOUT 和 STDERR 的重定向顺序不正确

> ID：14807188
> 
> 赞同：1
> 
> 时间：2013-02-11T06:47:03.930
> 
> 标签：redirect, stdout, command-prompt, stderr

我在 Windows 上键入以下命令：

```
C:\> abc.exe -t"param1" >> lofile.txt 2>&1 
```

STDOUT 和 STDERR 都被重定向到输出文件，但存在问题。

最初，当程序启动时，有 10 行 STDERR 打印，然后是大约 100 行 STDOUT，然后是更多的 STDERR 行。在控制台（cmd 提示符）上，顺序是正确的。但是当我使用上述命令重定向到文件时，打印的顺序不正确。

首先打印 STDOUT，然后在 STDERR 打印之间的某个位置出现。为什么顺序不正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:23:32.997

我认为原因如下：

STDOUT 和 STDERR 的缓冲区是分开的。一旦每个缓冲区都被填满，内容就会被复制到相应的文件中。

由于 STDERR 缓冲区有时会由于日志数量较少而填充，因此，它会在稍后阶段移动到文件中。这就是为什么在 STDERR 日志之前在文件中看到 STDOUT 日志的原因，即使程序以几行 STDERR 打印开始。

# asp.net - 如何使用 asp.net 处理程序设置 html 正文背景图像？

> ID：14807191
> 
> 赞同：1
> 
> 时间：2013-02-11T06:47:10.977
> 
> 标签：asp.net, html, css, handler

我想使用 asp.net 处理程序设置 html 正文的背景图像，我有处理程序，但我不知道该怎么做，任何帮助都会得到帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:01:58.720

假设您指的是事件处理程序，例如页面加载事件处理程序，您可以执行以下操作。

将您的身体标签更改为如下所示：

```
<body runat="server" id="BodyTag"> 
```

在您的代码隐藏中，执行以下操作（C#）：

```
BodyTag.Style["background-image"] = "MyImage.png"; 
```

或 (VB.NET)

```
BodyTag.Style("background-image") = "MyImage.png" 
```

# c++ - 我可以使用 std::vector 作为预分配（原始）数组的外观吗？

> ID：14807192
> 
> 赞同：12
> 
> 时间：2013-02-11T06:47:21.210
> 
> 标签：c++, vector, memory-address, facade

我从 DirectX 获取了一个存储我的顶点信息的内存位置。处理顶点信息的一种极其方便的方法是使用包含顶点信息的结构的 std::vector<>。

鉴于我有一个指向大缓冲区的指针，我可以使用 std::vector 来管理缓冲区中的元素吗？构造一个 std::vector 经常会导致它有自己的地址，这不是我真正想要的。我可以以某种方式使用运算符放置新吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-11T14:09:10.710

是的你可以。使用[自定义分配器](http://www.codeguru.com/cpp/cpp/cpp_mfc/stl/article.php/c4079/Allocators-STL.htm)。在此分配器中您的 DirectX 内存的返回地址。

[这是基于自定义 C++ STL 分配器的引人注目的示例](https://stackoverflow.com/a/12529302/231388)的答案的完整示例？. 此解决方案使用分配器中的新位置。

```
#include <memory>
#include <iostream>
#include <vector>

using namespace std;

template <typename T>
class placement_memory_allocator: public std::allocator<T>
{
    void* pre_allocated_memory;
public:
    typedef size_t size_type;
    typedef T* pointer;
    typedef const T* const_pointer;

    template<typename _Tp1>
    struct rebind
    {
            typedef placement_memory_allocator<_Tp1> other;
    };

    pointer allocate(size_type n, const void *hint=0)
    {
            char* p = new(pre_allocated_memory)char[n * sizeof(T)];
            cout << "Alloc " << n * sizeof(T) << " bytes @" << hex << (void*)p <<endl;
            return (T*)p;
    }

    void deallocate(pointer p, size_type n)
    {
            cout << "Dealloc " << n << " bytes @" << hex << p << endl;
            //delete p;
    }

    placement_memory_allocator(void* p = 0) throw(): std::allocator<T>(), pre_allocated_memory(p) { cout << "Hello allocator!" << endl; }
    placement_memory_allocator(const placement_memory_allocator &a) throw(): std::allocator<T>(a) {pre_allocated_memory = a.pre_allocated_memory;}
    ~placement_memory_allocator() throw() { }
};

class MyClass
{   
    char empty[10];
    char* name;
public:
    MyClass(char* n) : name(n){ cout << "MyClass: " << name << " @" << hex << (void*)this << endl; }
    MyClass(const MyClass& s){ name = s.name; cout << "=MyClass: " << s.name << " @" << hex << (void*)this << endl; }
    ~MyClass(){ cout << "~MyClass: " << name << " @" << hex << (void*)this <<  endl; }
};

int main()
{
    // create allocator object, intialized with DirectX memory ptr.
    placement_memory_allocator<MyClass> pl(DIRECT_X_MEMORY_PTR);
    //Create vector object, which use the created allocator object.
    vector<MyClass, placement_memory_allocator<MyClass>> v(pl);
    // !important! reserve all the memory of directx buffer.
    // try to comment this line and rerun to see the difference
    v.reserve( DIRECT_X_MEMORY_SIZE_IN_BYTES / sizeof(MyClass));

    //some push backs.
    v.push_back(MyClass("first"));
    cout << "Done1" << endl;
    v.push_back(MyClass("second"));
    cout << "Done1" << endl;
    v.push_back(MyClass("third"));
    cout << "Done1" << endl;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:59:10.940

的元素在堆上（单独）`std::vector`动态分配，这样它们在内存中总是连续的。因此，如果您的结构是，则 using不是您想要的，因为向量的元素不会位于您的大缓冲区中。`new``std::vector``vertex``std::vector<vertex>`

但是，您可以使用`std::vector<vertex*>`，例如：

```
vertex* bigBuffer;     // provided by DirectX
size_t bigBufferLen;   // provided by DirectX

std::vector<vertex*> array;
for (size_t i = 0; i < bigBufferLen; ++i)
{
    array.push_back(bigBuffer + i * sizeof(vertex));
} 
```

# vb.net - 需要将 Windows 控制台应用程序类转换为 ISynchronizeInvoke 对象

> ID：14807194
> 
> 赞同：1
> 
> 时间：2013-02-11T06:47:28.153
> 
> 标签：vb.net, multithreading, console-application

我是 VB.Net 中的线程和同步概念的新手。

目前我正在将 Windows 窗体应用程序转换为控制台应用程序。表单应用程序使用一个用于异步进程的 DLL：

```
 public ProcessCaller(ISynchronizeInvoke isi)
        : base(isi)
    {

    } 
```

但是现在当我将此表单应用程序转换为控制台应用程序时，我无法将控制台应用程序类传递给此 DLL。

我收到错误“无法从'X'转换为'Y'”

请帮我。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:52:13.083

`ISynchronizeInvoke`用于返回“正确”线程，通常在所有 UI 操作都需要在同一个线程上的客户端应用程序中。这通常是通过消息泵/事件循环来完成的——这通常在控制台应用程序中不存在？

您在控制台应用程序中的线程要求是什么？如果您没有，您可能可以编写自己的无操作实现，`ISynchronizeInvoke`该实现总是`false`从`InvokeRequired`等返回。这是实现的第一次尝试 - 未经测试，请注意...

```
public class NoOpSynchronizeInvoke : ISynchronizeInvoke
{
    private delegate object GeneralDelegate(Delegate method,
                                            object[] args);

    public bool InvokeRequired { get { return false; } }

    public Object Invoke(Delegate method, object[] args)
    {
        return method.DynamicInvoke(args);
    }

    public IAsyncResult BeginInvoke(Delegate method,
                                    object[] args)
    {
        GeneralDelegate x = Invoke;
        return x.BeginInvoke(method, args, null, x);
    }

    public object EndInvoke(IAsyncResult result)
    {
        GeneralDelegate x = (GeneralDelegate) result.AsyncState;
        return x.EndInvoke(result);
    }
} 
```

# asp.net-mvc-3 - 无法获取当前用户

> ID：14807195
> 
> 赞同：0
> 
> 时间：2013-02-11T06:47:33.957
> 
> 标签：asp.net-mvc-3, controller

我一直在寻找这个很长时间，找到了很多链接，但没有一个有效。

当我在网络表单中工作时，我能够通过以下代码获取当前用户。

```
System.Security.Principal.IIdentity identity = HttpContext.Current.User.Identity;
 string user = identity.Name; 
```

但是在mvc项目`current`中不起作用，所以我尝试了

```
HttpContext.User.Identity 
```

当我写 identity.name 时，它​​会一次又一次地变为 null。

我正在尝试获取当前登录的 Windows 用户的用户名。我怎么能得到那个。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-11T07:04:36.527

从*控制器*您可以直接尝试 -

```
string user = User.Identity.Name; 
```

# android - 不是 zip 存档扩展文件

> ID：14807196
> 
> 赞同：-1
> 
> 时间：2013-02-11T06:47:38.157
> 
> 标签：android

我正在尝试在 Android 中使用扩展文件。所有来源都是在 google extras 中给出的。唯一的问题是这段代码没有读取我的 .obb 文件。

如何创建 .bb 文件：

首先，我将所有资源放在文件夹中，然后将其制作为 .rar，并从 jobb 工具将此 .rar 文件制作为 .obb 文件。但是当我在我的代码中使用它时，输出显示不是 zip 文件

正如我提到的，我对这个话题进行了很多研究，但我没有说到重点，所以这就是我问这个问题的原因

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:01:12.313

如果您的代码需要一个 zip 文件，您应该提供一个而不是`jobb`生成的文件。

将您的文件放入一个文件夹并使用您最喜欢的 zip 创建器生成一个 zip 文件。用正确的名字把它放到设备上`main.1.my.package.name.obb`。

# objective-c - 使用 AFNetworking 设置 UIButton 图像

> ID：14807199
> 
> 赞同：0
> 
> 时间：2013-02-11T06:47:49.997
> 
> 标签：objective-c, tags, uibutton, uiimage, afnetworking

我的项目中有这段代码，它创建带有标签和图像的 UIButtons，其值来自 Web 服务。

```
- (void)getMoviePosterImages
{
    for (int i = 0; i < [self.rowCount intValue]; i++)
    {
        NSArray *postersArray = [self.jsonMutableArray objectAtIndex:i];
        AFImageRequestOperation *operation  = [AFImageRequestOperation imageRequestOperationWithRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:[postersArray objectAtIndex:6]]] imageProcessingBlock:nil
        success:^(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image)
        {
            [moviePosterButton setBackgroundImage:image forState:UIControlStateNormal];
        }
        failure:nil];

        [operation start];
    }
} 
```

这是我创建 UILabel 的代码：

```
- (void)displayMovieTitlesAndFrames
{
    int imageCount = [self.rowCount intValue];
    int offset_x = 21;
    int offset_y = 24;

    for (int i = 0; i < imageCount; i++)
    {
        // compute x & y offset
        if (i % 3 == 0)
        {
            offset_x = 21;
        }
        else if (i % 3 == 1)
        {
            offset_x = 115;
        }
        else
        {
            offset_x = 210;
        }

        whiteBackgroundLabel = [[[UILabel alloc] initWithFrame:CGRectMake(offset_x, offset_y, MOVIE_THUMBNAIL_W, MOVIE_THUMBNAIL_H)] autorelease];
        whiteBackgroundLabel.backgroundColor = [UIColor whiteColor];
        whiteBackgroundLabel.layer.cornerRadius = 3.0;
        whiteBackgroundLabel.layer.borderColor = [[UIColor lightGrayColor] CGColor];
        whiteBackgroundLabel.layer.borderWidth = 1.0;
        [scrollview addSubview:whiteBackgroundLabel];

        moviePosterButton = [[UIButton buttonWithType:UIButtonTypeCustom] retain];
        moviePosterButton.frame = CGRectMake(offset_x + 5, offset_y + 5, MOVIE_THUMBNAIL_W - 10, MOVIE_THUMBNAIL_H - 10);
        moviePosterButton.backgroundColor = [UIColor clearColor];
        [moviePosterButton setBackgroundImage:[UIImage imageNamed:@"placeholder.png"] forState:UIControlStateNormal];
        moviePosterButton.tag = i;
        [moviePosterButton addTarget:self
                              action:@selector(imageButtonPressed:)
                    forControlEvents:UIControlEventTouchUpInside];
        [scrollview addSubview:moviePosterButton];

        movieTitleLabel = [[[UILabel alloc] initWithFrame:CGRectMake(offset_x, offset_y + 143, 90, 20)] autorelease];
        movieTitleLabel.backgroundColor = [UIColor whiteColor];
        movieTitleLabel.layer.cornerRadius = 3.0;
        movieTitleLabel.layer.borderColor = [[UIColor lightGrayColor] CGColor];
        movieTitleLabel.layer.borderWidth = 1.0;
        movieTitleLabel.font = [UIFont fontWithName:@"Helvetica" size:11.0];
        movieTitleLabel.textColor = [UIColor darkGrayColor];
        movieTitleLabel.textAlignment = UITextAlignmentCenter;
        movieTitleLabel.numberOfLines = 1;
        movieTitleLabel.text = [[self.jsonMutableArray objectAtIndex:i] objectAtIndex:1];
        [scrollview addSubview:movieTitleLabel];

        quickBuyButton = [[UIButton buttonWithType:UIButtonTypeCustom] retain];
        quickBuyButton.frame = CGRectMake(offset_x + 1 + (MOVIE_THUMBNAIL_W - QUICK_BUY_BUTTON_W - 2), offset_y - 1 + 2, QUICK_BUY_BUTTON_W, QUICK_BUY_BUTTON_H);
        quickBuyButton.backgroundColor = [UIColor clearColor];
        [quickBuyButton setBackgroundImage:QUICK_BUY_BUTTON forState:UIControlStateNormal];
        quickBuyButton.tag = i;
        [quickBuyButton addTarget:self
                           action:@selector(quickBuyButtonPressed:)
                 forControlEvents:UIControlEventTouchUpInside];
        [scrollview addSubview:quickBuyButton];

        // increment offset
        if (offset_x == 210)
        {
            offset_y += 171;
        }
    }

    if ((offset_x == 21) || (offset_x == 115))
    {
        offset_y += 171;
    }

    [self adjustScrollViewAndBackground:offset_y];
} 
```

我所有的 UIButtons 都是用它们各自的标签创建的，我想把它们的图像放在这些按钮上。上面的代码仅适用于最后创建的 UIButton。我想使用上面的代码用图像填充我的所有按钮。有人可以告诉我我在哪里弄错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:15:14.647

在您的`getMoviePosterImages`方法中，您将图像设置为`moviePosterButton`可能是您刚刚创建的最后一个按钮，因此如果只有最后一个按钮获取其图像，这是正常的。您需要通过标签检索每个按钮，或者使用所有按钮构建一个数组，以便您可以轻松访问它们。你也许可以做这样的事情：

```
- (void)getMoviePosterImages
{
    for (int i = 0; i < [self.rowCount intValue]; i++)
    {
        NSArray *postersArray = [self.jsonMutableArray objectAtIndex:i];
        AFImageRequestOperation *operation  = [AFImageRequestOperation imageRequestOperationWithRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:[postersArray objectAtIndex:6]]] imageProcessingBlock:nil
        success:^(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image)
        {
            [(UIButton *)buttonsArray[i] setBackgroundImage:image forState:UIControlStateNormal];
            // or
            // [(UIButton *)[self.view viewWithTag:i] setBackgroundImage:image forState:UIControlStateNormal];
        }
        failure:nil];

        [operation start];
    }
} 
```

希望这可以帮助 ;）

# css - 试图将上边距添加到 div，但它没有响应

> ID：14807202
> 
> 赞同：1
> 
> 时间：2013-02-11T06:47:55.300
> 
> 标签：css, margin

右侧的 div 类圆圈呈现有页面，但甚至添加了 margin:0 auto; 没有任何效果，它只是留在那里。

这是我的 html/php

```
<?php
/*
Template Name: Home Page
*/
?>

<?php get_header(); ?>

<div id="content">

    <header>
        <h1><span class="tech">TECH</span><span class="basics">BASICS</span></h1>
        <h2>Personal Tech Specialists</h2>
    </header>

    <div class="circle"></div>

</div> <!-- end #content -->

<?php get_footer(); ?> 
```

这是我的CSS

```
html {
    font-size: 16px;
}

body {
    background: #BAE4FF;
    font-family: "Open Sans", sans-serif;
}

nav {
    position: absolute;
    width: 100%;
    left: 0;
    top: 0;
    text-align: center;
    font-weight: 400;
}

nav .menu {
    list-style-type: none;
    padding: 0;
    margin: 0;
}

nav .menu li {
    padding: 3px 0 3px 0;
    display: none;
}

nav .menu li a {
    text-decoration: none;
    color: #fff;
    font-size: 2.1em;
}

nav .menu .blog {
    background: #1669B5;
}

nav .menu .contact {
    background: #3892E3;
}

nav #touchNav {
    background: #48B4EF;
    width: 100%;
    display: block;
    color: #fff;
    font-size: 2.1em;
    padding: 3px 0 3px 0;
    text-decoration: none;
}

header {
    margin: 50px 0 0 0;
    margin-top: 50px;
    text-align: center;
    width: 100%;
}

header h1 {
    margin: 0 auto;
    width: 100%;
}

header h1 .tech {
    color: #fff;
    font-weight: 500;
    margin-right: 3.5px;
    font-size: 1.1em;
}

header h1 .basics {
    color: #48B5EF;
    margin-left: 3.5px;
    font-size: 1.3em;
}

header h2 {
    font-size: 2.1em;
    font-weight: 100;
    width: 100%;
    margin: 0 auto;
    color: #fff;
    line-height: 1.2em;
}

.circle {
    margin-top: 100px;
    clear: both;
    width: 20px;
    height: 20px;
    background: #48B5EF;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    margin: 0 auto;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:04:57.977

尝试添加位置标签..你可以使用fixed作为位置或相对任何适合你的需要..到.circle类。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:31:06.513

你的圈子课边距很有趣。

试试这个：

```
.circle {
  margin-top: 100px;
  margin-left: auto;
  margin-right: auto;
  clear: both;
  width: 20px;
  height: 20px;
  background: #48B5EF;
  -moz-border-radius: 10px;
  -webkit-border-radius: 10px;
  border-radius: 10px;
} 
```

[http://jsfiddle.net/q5w3G/1/](http://jsfiddle.net/q5w3G/1/)

人们应该认为这也可以，但更相信第一个：

```
.circle {
  margin: 0 auto;
  margin-top: 100px;
  clear: both;
  width: 20px;
  height: 20px;
  background: #48B5EF;
  -moz-border-radius: 10px;
  -webkit-border-radius: 10px;
  border-radius: 10px;
} 
```

[http://jsfiddle.net/q5w3G/2/](http://jsfiddle.net/q5w3G/2/)

CSS 表示*层叠*样式表。级联意味着如果一个属性为同一个元素定义了两次或多次，则应用最后读取的属性。因此，如果您在 circle 上定义边距，然后在同一个样式表中再次定义后者，然后在第二个样式表中再次定义其 rel 链接，其 rel 链接位于 head 部分中的第一个之后，然后在 rel 样式表中的 rel 链接之后的 head 部分本身标记，然后再次内联元素本身，然后使用内联值。事实上，这就是它们的使用顺序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:01:53.660

当您询问 css 时，如果有一个页面示例会更好，
但对于您来说，真正的问题是
css margin top 不能按您的预期工作。
它不会在元素顶部留出空间，除非所有元素都在同一个父 z-index 中（或者更简单，我的意思是它们都有一个父元素），即所有元素都`li`在 a`ul`中。
上边距影响`li`'s not between`li`和之间的空间`ul`。
为了做到这一点，你应该给`ul`a `padding-top`。希望能帮助到你

# php - 如何保护我网站的图像和 JS 文件

> ID：14807204
> 
> 赞同：-1
> 
> 时间：2013-02-11T06:48:06.137
> 
> 标签：php, javascript

网站，

我想保护我的网站。目前我已经用 PHP、HTML、JS 编程语言和 CSS 创建了一个网站。但我需要保护该网站免受黑客攻击。所以我的主要目标是避免通过“右键单击/另存为”选项或 Ctrl+s 下载图像和 JS 文件。

我所做的是，我在 index.php 中包含了这段代码： document.oncontextmenu = document.body.oncontextmenu = function() {return false;} //禁用右键单击选项

但是，他们也可以下载该资源（图像和 JS 文件）。我看过一些网站，我们无法下载 js 文件 例如： http: [//ohmy-website-template.little-neko.com](http://ohmy-website-template.little-neko.com)

所以，请你帮我保护我的网站源代码。如果该解决方案可能是任何 Web 编程，如 Action script3.0、Php、JS 等。

提前致谢..：）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T06:51:04.220

答案很简单：**这是不可能的**
您无法保护打算由客户端下载的文件不被客户端下载。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T06:50:46.003

问题是，如果您想要一个功能齐全的网站，您需要能够让用户查看该网站。您可以考虑水印，但图像需要以浏览器可以表示它们的方式存在。您所做的任何事情都无法防止用户在键盘上点击“PrintScreen”。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T06:51:29.713

无论您在页面中包含什么“保护”脚本，您始终可以下载图像和 javascript 文件。如果您无法下载图像或 javascript 文件，浏览器将无法下载它们，您的页面将无法使用。

您可以缩小和混淆您的 javascript 代码，使其不易编辑，并且您可以在图像上添加水印。这样就不会为了在其他网站上使用而下载 javascript 和图像

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-02-11T06:51:51.927

从 FTP 更改权限集。将其更改为 READ 和 EXECUTE。

# networking - 检查 Httpconnection 在黑莓中是否打开

> ID：14807209
> 
> 赞同：1
> 
> 时间：2013-02-11T06:48:22.167
> 
> 标签：networking, blackberry

在`HttpConnection`从黑莓应用程序制作之前，我想检查它是否打开？因为没有检查当我尝试建立连接时我得到了`class net.rim.device.api.io.ConnectionClosedException`.

编辑：从 OP 的答案中发布代码。

下面是我的http连接代码。

```
public String makePostRequest(String[] paramName, String[] paramValue) {
    StringBuffer postData = new StringBuffer();
    HttpConnection connection = null;
    InputStream inputStream = null;
    OutputStream out = null;
    try {
        connection = (HttpConnection) Connector.open(this.url);
        connection.setRequestMethod(HttpConnection.POST);
        for (int i = 0; i < paramName.length; i++) {
                postData.append(paramName[i]);
                postData.append("=");
                postData.append(paramValue[i]);
                postData.append("&");
        }
        String encodedData = postData.toString();
        connection.setRequestProperty("Content-Language", "en-US");
        connection.setRequestProperty("Content-Type",
                "application/x-www-form-urlencoded");
        connection.setRequestProperty("Content-Length", (new Integer(
                encodedData.length())).toString());

            connection.setRequestProperty("Cookie", Constants.COOKIE_TOKEN);

        byte[] postDataByte = postData.toString().getBytes("UTF-8");
         out = connection.openOutputStream();
        out.write(postDataByte);

        DebugScreen.Log("Output stream..."+out);
        DebugScreen.Log("Output stream..."+connection.getResponseCode());
        // get the response from the input stream..
        inputStream = connection.openInputStream();
        DebugScreen.Log("Input stream..."+inputStream);
        byte[] data = IOUtilities.streamToBytes(inputStream);
        response = new String(data);

    } catch ( Exception e) {
        UiApplication.getUiApplication().invokeLater(new Runnable() {
            public void run() {
                WaitingScreen.removePopUP();
                Status.show(Constants.CONNETION_ERROR);
            }
        });
        DebugScreen.Log("Exception inside the make connection..makePostRequest."
                + e.getMessage());
        DebugScreen.Log("Exception inside the make connection..makePostRequest."
                + e.getClass());
    }finally {
        try {
            if(inputStream != null){
                inputStream.close();
                inputStream = null;
            }
            if(out != null){
                out.close();
                out = null;
            }
            if(connection != null){
                connection.close();
                connection = null;
            }
        } catch ( Exception ex) {
            UiApplication.getUiApplication().invokeLater(new Runnable() {
                public void run() {
                    WaitingScreen.removePopUP();
                }
            });
            DebugScreen.Log("Exception from the connection2 class.."
                    + ex.getMessage());
            DebugScreen.Log("Exception from the connection2 class.."
                    + ex.getClass());
        }
    }
    return response;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T11:16:58.743

> 在从黑莓应用程序进行 httpconnection 之前，我想检查它是否打开。

那没有意义。您想在打开它之前确保它是打开的。你不能。您必须尝试打开它，并在失败时处理异常。这就是例外的原因。

测试任何资源是否可用的最佳方法是尝试使用它。你无法预测。你必须尝试一下。

> 因为没有检查当我尝试建立连接时我得到了 net.rim.device.api.io.ConnectionClosedException 类。

所以它不可用。所以现在你知道了。这是正确的行为。你已经在做正确的事了。这里没有问题可以回答。

# c++ - 重载非数组元素的下标运算符

> ID：14807210
> 
> 赞同：3
> 
> 时间：2013-02-11T06:48:30.183
> 
> 标签：c++, operator-overloading

我编写了一个模板类，用于将多个布尔值存储在一个整数中。现在，设置和获取每个布尔值都是通过显式函数完成的

```
 bool isBitSet(int index)
    {
        return static_cast<bool>((block_ >> index) % 2)
    }

    void setBitOn(int index)
    {
        block_ |= 1 << index;
    } 
```

我相信下面的方法可以用来获取一个值，但是设置如何工作，因为我们不能直接返回一个引用？

```
 const bool operator [] (int index) const 
    {
        return static_cast<bool>((block_ >> index) % 2);
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T07:58:08.057

`std::vector<bool>`在`std::bitset`标准库中也是如此。如[参考](http://en.cppreference.com/w/cpp/container/vector_bool)中所述，`std::vector<bool>`它返回一个代理类，其运算符重载以充当向量的元素。

你也可以这样做。

对于用户友好的示例，请再次参阅公共接口的[参考](http://en.cppreference.com/w/cpp/container/vector_bool/reference)，它是这样的：

```
template <class Allocator>
class vector<bool, Allocator> {
  // ...
  public:
    class reference {
        friend class vector;
        reference();
      public:
        ~reference();
        operator bool() const;
        reference& operator=(bool x);
        reference& operator=(const reference&);
        void flip();
    };
  // ...
}; 
```

要实现这个类，您应该存储一个指向实际数据块的成员指针和一个要操作的掩码。

举一个真实的例子，在 g++ 头文件中查找在文件中`std::vector<bool>`调用的成员类。`std::vector<bool>::_Bit_reference``bits/stl_bvector.h`

* * *

用一个例子来阐明 OP：

假设您有一个包含 320 个布尔值的类。你可以把它写成：

```
class boolcontainer {
  uint32_t data[10];
public:
  //default ctor. to initialize the elements with zeros
  boolcontainer() { for (int i = 0; i < 10; ++i) { data[i] = 0; } }
} 
```

您想添加一个运算符[]。添加一个 const 很简单：

```
class boolcontainer {
  uint32_t data[10];
public:
  bool operator[](int i) const { return data[i/32] & (1 << (i%32)); }
} 
```

要拥有一个非常量，您需要更多。首先，您需要创建一个代表对您的值的引用的类。您必须有某种指向值存储位置的指针，并且（在这种情况下）您需要一个位掩码来指定一个具体位。为了能够将其作为 bool& 处理，您需要添加一些运算符，即转换为 bool 和 operator=：

```
class reference {
  uint32_t *dataptr;
  uint32_t mask;
public:
  //constructor just initializing members
  reference(uint32_t *dataptr_, uint32_t mask_) : dataptr(dataptr_), mask(mask_) {}

  //conversion to bool
  operator bool() const {
    //just like in the getter, but the bitmask is stored now locally
    return *dataptr & mask;
  }

  //sets one single bit represented by mask to b
  reference& operator=(bool b) {
    if (b) {
      *dataptr |= mask;
    } else {
      *dataptr &= ~mask;
    }
    return *this;
  }

  //TODO copy ctor., operator==, operator<
}; 
```

请注意，上面的结构将表现为 bool& —— 读取它会从指针和掩码表示的数据点读取值，类似地，写入它会覆盖表示位置的位。我还编写了一个初始化成员的构造函数。

现在你需要的是你的 boolcontainer 的 operator[] 应该返回一个上述类的对象：

```
class boolcontainer {
  uint32_t data[10];
public:

  boolcontainer() { for (int i = 0; i < 10; ++i) { data[i] = 0; } }

  class reference {
     ... //see above
  }

  //keep the const version for efficiency
  bool operator[](int i) const { return data[i/32] & (1 << (i%32)); }

  //non-const version returns our reference object.
  reference operator[](int i) { return reference(&data[i/32], 1 << (i%32)); }
}; 
```

现在有一些代码来测试它（只打印前 40 个值）：

```
#include <iostream>
#include "boolcontainer.h"

void printboolcontainer(const boolcontainer &bc)
{
    //note that this is the constant version
    for (int i = 0; i < 40; ++i) {
        std::cout << bc[i];
    }
    std::cout << std::endl;
}

int main()
{
    boolcontainer bc;
    printboolcontainer(bc);
    bc[0] = true;
    bc[3] = true;
    bc[39] = true;
    printboolcontainer(bc);
} 
```

# android - 单点登录 facebook 钛 android

> ID：14807211
> 
> 赞同：3
> 
> 时间：2013-02-11T06:48:32.790
> 
> 标签：android, titanium, appcelerator, titanium-mobile, appcelerator-mobile

我正在使用钛平台，当我在 iOS 中实现 SSO 时，无论我执行一次还是多次，它都运行良好，运行顺畅且完美。但是当我来到 Android 时，它是第一次工作，但之后就不行了。例如，我在 android 上安装了测试应用程序并单击 facebook 登录，它是第一次工作，但是当我注销并尝试再次使用 facebook 登录时，它只显示重定向到 facebook 应用程序但应用程序登录不会发生，我尝试了很多次，尝试了很多方法，但它不起作用。

我在 app.js 中放置了 facebook 登录事件侦听器，在 somewindow.js 中我有 facebook 登录按钮。登录 facebook 后我正在做一些工作，这意味着重定向到其他窗口。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:36:20.107

实际上由于缓存问题仍然存在。我们需要在您注销时清除缓存使用下面的代码它工作正常

```
 Titanium.Facebook.appid = "XXXXXXXXXXXXXXXXXX";
 Titanium.Facebook.permissions = ['publish_stream', 'read_stream'];

   var fbButton =  Ti.UI.createButton({
    top: 68,
    width:290,
    height:52,
    backgroundImage:"images/login/facebook.png"
});

 fbButton.addEventListener('click', function() {
if(Titanium.Facebook.loggedIn){
    Titanium.Facebook.logout()
    return
}
 Titanium.Facebook.authorize();

  });

Ti.Facebook.addEventListener('login', function(e) {
if (e.success) {
    win.close()
} else if (e.error) {
    alert(e.error);
} else if (e.cancelled) {
    alert("Canceled");
}
 });

  Titanium.Facebook.addEventListener('logout', function(e) {
    var url = 'https://login.facebook.com';
    var client = Titanium.Network.createHTTPClient();
    client.clearCookies(url);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T07:21:10.570

使用这个标志 Ti.Facebook.forceDialogAuth=false;

# ruby-on-rails - 在 Rails 的 POST 中传递附加信息

> ID：14807219
> 
> 赞同：0
> 
> 时间：2013-02-11T06:49:04.317
> 
> 标签：ruby-on-rails, ruby-on-rails-3

假设我正在执行某个`new`操作，并且想要将一些额外信息传递给该`create`操作（例如，用户按下给定按钮的次数，`:clicks`）。

我应该如何去完成任务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:13:52.307

尝试：

```
<%= hidden_field_tag 'click_count', 0 %>
<%= submit_tag "Click me!", :type => 'button', :onclick => '$("#click_count").val(parseInt($("#click_count").val())+1)' %> 
```

# android - ProximityAlert 在模拟器 API 级别 4.2 上不起作用

> ID：14807224
> 
> 赞同：1
> 
> 时间：2013-02-11T06:49:18.873
> 
> 标签：android, emulation

我正在尝试在以下链接上使用代码。这是基于邻近的通知的示例。

我在 4.2 上运行以下代码，但它不适用于 API 级别 17 的模拟器，但它正在运行。

[http://www.javacodegeeks.com/2011/01/android-proximity-alerts-tutorial.html 在 API 2.2 上非常好](http://www.javacodegeeks.com/2011/01/android-proximity-alerts-tutorial.htmlperfectly%20fine%20on%20API%202.2)

# embedded - 使用起重机板中的 GPIO 点亮 LED

> ID：14807228
> 
> 赞同：0
> 
> 时间：2013-02-11T06:49:48.590
> 
> 标签：embedded, embedded-linux, led, gpio

我想使用 GPIO 打开起重机板（ARM 处理器）中的 LED。我对嵌入式编程很陌生。但是，我很擅长C。我参考了一些网站并了解了GPIO相关命令。我写了一个代码，但我不太确定如何将它集成到起重机板的 u-boot 编码中。我不知道从哪里开始。请指导我。

```
#define LED1    (1 << 6)

int getPinState(int pinNumber);

int main(void)
{

  GPIO0_IODIR |= LED1;

  GPIO0_IOSET |= LED1;

  while (1)
  {

      GPIO0_IOCLR |= LED1;

  }
}

int getPinState(int pinNumber)
{

  int pinBlockState = GPIO0_IOPIN;

  int pinState = (pinBlockState & (1 << pinNumber)) ? 1 : 0;

  return pinState;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:15:32.450

首先，学习常见的位（在你的情况下也是 pin）操作表达式，你将在嵌入式编程中使用很多：

```
/* Set bit to 1 */
GPIO0_IODIR |= LED1; //output

/* Clear bit (set to 0) */
GPIO0_IOSET &= ~LED1; //low

/* Toggle bit */
GPIO0_IOSET ^= LED1; 
```

除了第一次迭代外，您的`while()`循环实际上什么都不做，因为相同的逻辑 OR 操作不会更改位状态（请参阅此操作的逻辑表）。此外，您应该添加延迟，因为如果引脚切换太快，LED 可能看起来一直处于关闭状态。简单的解决方案如下所示：

```
while(1)
{
   GPIO0_IOSET ^= LED1;
   sleep(1); //or replace with any other available delay command
} 
```

我没有用于 Craneboard 的 U-Boot 源文件，因此无法告诉您放置代码的确切位置，但基本上有几种选择：1）将其添加到`main()`U-Boot 启动的位置，从而将其*挂起*（但你仍然有 LED 闪烁！）。2）实现单独的命令来打开/关闭 LED（参见*command.c*和*cmd* _ 前缀文件的示例） 3）将其集成到串行循环中，因此可以在等待用户输入时切换引脚 4）将其构建为 U 上的应用程序-启动。

习惯大量阅读和文档，TRM 是你的朋友（有时是唯一的朋友）。还有一些针对嵌入式初学者的很棒的指南，只需在谷歌周围搜索即可。很少提及：

[http://www.microbuilder.eu/Tutorials/LPC2148/GPIO.aspx](http://www.microbuilder.eu/Tutorials/LPC2148/GPIO.aspx)（带有示例的基础知识）

[http://beagleboard.org/（BeagleBoard](http://beagleboard.org/)的绝佳资源，但更适用于 CraneBoard，因为它们共享相同的 SoC，包括很棒的社区）。

[http://free-electrons.com/](http://free-electrons.com/)（更多关于嵌入式 Linux 和其他高级主题，但也可以找到一些基础知识）

[http://processors.wiki.ti.com/index.php/CraneBoard（CraneBoard](http://processors.wiki.ti.com/index.php/CraneBoard)官方wiki，可能知道这一点，但以防万一）

PS祝你好运，不要放弃！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:55:44.123

如果您想在 u-boot（而不是 Linux）中执行此操作，则必须为 u-boot 编写应用程序。

[5.12 美元的 u-boot 手册](http://www.denx.de/wiki/view/DULG/UBootStandalone)解释了如何操作。

u-boot 的源代码提供了一些您可以使用的示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-27T06:43:27.227

我想添加我的答案。我之前所做的编码是通用的。在起重机板中，有某些功能可以执行操作。所以，我相应地重写了它。我将文件 cmd_toggle.c 包含在`'common'`u-boot 目录的目录中。并将其添加到 Makefile。以下代码将使 LED 闪烁。

```
int glow_led(cmd_tbl_t *cmdtp, int flag, int argc, char *argv[])
{
int ret,i=0,num=0,ctr=0;
int lpin;
lpin=(int)strtoul(argv[1]);
ret=set_mmc_mux();
if(ret<0)
    printf("\n\nLED failed to glow!\n\n");
else{
        if(!omap_request_gpio(lpin))
        {
        omap_set_gpio_direction(lpin,0);

        for(i=1;i<21;i++)
        {
            ctr=0;
            if((i%2)==0)
            {
                num=num-1;
                omap_set_gpio_dataout(lpin,num);
            }
            else
            {
                num=num+1;
                omap_set_gpio_dataout(lpin,num);
            }

                    udelay(3000000);
        }

    }
}
return 0;
}

U_BOOT_CMD(toggle,2,1,glow_led,"Glow an LED","pin_number"); 
```

我可以通过使用 while 循环重复将其设置为`1`and来简化这一点`0`。

这可以从 u-boot 控制台执行`toggle 142`，因为我已将 LED 连接到引脚 142。

PS感谢您的所有指导。特别感谢KBart

# node.js - nodejs module.js:340 抛出错误；使用 WebSocket 节点

> ID：14807232
> 
> 赞同：2
> 
> 时间：2013-02-11T06:50:26.257
> 
> 标签：node.js, module, runtime-error

我是新手，我在 Windows 中使用安装程序安装了 nodejs。然后我用这个命令安装了 WebSocket-Node 模块： npm install websocket ，看起来安装成功。

```
npm http GET https://registry.npmjs.org/websocket
npm http 200 https://registry.npmjs.org/websocket
npm http GET https://registry.npmjs.org/websocket/-/websocket-1.0.8.tgz
npm http 200 https://registry.npmjs.org/websocket/-/websocket-1.0.8.tgz

> websocket@1.0.8 install D:\dev\html5\books\bumper\node_modules\websocket
> node install.js

[websocket v1.0.8] Attempting to compile native extensions.
[websocket v1.0.8] Native extension compilation successful!
websocket@1.0.8 node_modules\websocket 
```

它在这个位置安装了nodejs：

> c:\Program 文件 (x86)\nodejs\

现在我尝试从[https://github.com/Worlize/WebSocket-Node](https://github.com/Worlize/WebSocket-Node)执行 server.js 示例， 我收到此错误：

```
D:\dev\html5\books\bumper>node server.js

module.js:340
    throw err;
          ^
Error: Cannot find module '/path/to/websocket'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (D:\dev\html5\books\bumper\server.js:3:23)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.runMain (module.js:492:10) 
```

该模块也安装在项目根目录中，但没有安装在 nodejs 目录中，可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T19:56:03.623

根据错误消息，require 行看起来像这样

```
var websocket = require('/path/to/websocket'); 
```

一旦你用 npm 安装了一些东西，你就可以只使用模块名称：

```
var websocket = require('websocket'); 
```

# asp.net - 在 Asp.Net 中的 Secure 中启用 HTTPOnly

> ID：14807233
> 
> 赞同：4
> 
> 时间：2013-02-11T06:50:36.233
> 
> 标签：asp.net

我们已经为我们的网站启用了 HttpOnly。

```
<configuration>
    <system.web>
        <httpCookies httpOnlyCookies="true" requireSSL="true" />
    </system.web>
</configuration> 
```

当我们在非安全区域访问该站点时，这工作正常。但是在 Secure live region(Https) 中，这不起作用，我们能够获取会话密钥。如何减轻它。任何想法都会很有帮助。

我正在尝试使用 Asp.Net 2.0

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:17:24.623

我这里有一堆解决方案，伙计。请随意在这些解决方案中进行选择，以满足您的需求

*   在 Global.asax 中，覆盖 Session_Start 方法，如下所示。

    ```
    <script runat="server">       
     void Session_Start(object sender, EventArgs e) 
    {

        if(Response.Cookies.Count > 0)
        foreach(string s in Response.Cookies.AllKeys)
         if(s == System.Web.Security.FormsAuthentication.FormsCookieName ||
                s.ToLower().Equals("asp.net_sessionid") )
        Response.Cookies[s].HttpOnly = false; 
    ```

    }

**参考： http: [//nerd.steveferson.com/2007/09/14/act-sessionid-and-login-problems-with-asp-net-20/#.URiXUqWzd9c](http://nerd.steveferson.com/2007/09/14/act-sessionid-and-login-problems-with-asp-net-20/#.URiXUqWzd9c)**

*   请注意，在 ASP.NET 1.1 中，System.Net.Cookie 类不支持 HttpOnly 属性。因此，要将 HttpOnly 属性添加到 cookie，您可以将以下代码添加到应用程序的

    Global.asax 中的 Application_EndRequest 事件处理程序：

    ```
    protected void Application_EndRequest(Object sender, EventArgs e)
    {
      string authCookie = FormsAuthentication.FormsCookieName;

      foreach (string sCookie in Response.Cookies)
      {
            if (sCookie.Equals(authCookie))
            {
                  Response.Cookies[sCookie].Path += ";HttpOnly";
            }
      }
    } 
    ```

**参考：http: [//blogs.msdn.com/b/dansellers/archive/2006/03/13/550947.aspx](http://blogs.msdn.com/b/dansellers/archive/2006/03/13/550947.aspx)**

*   将此添加到您的 Global.asax

    ```
    void Application_EndRequest(Object sender, EventArgs e)
    {
       if (Response.Cookies.Count > 0)
       {
           foreach (string s in Response.Cookies.AllKeys)
           {
               if (s == "ASP.NET_SessionId")
               {
                   Response.Cookies["ASP.NET_SessionId"].HttpOnly = false;
               }
           }
       } 
    ```

    }

**参考：来自这个论坛[http://forums.asp.net/p/955272/1177574.aspx#1177574](http://forums.asp.net/p/955272/1177574.aspx#1177574)**

你也可以试试这个 Post [HttpOnly Cookies on ASP.NET 1.1](http://www.hanselman.com/blog/HttpOnlyCookiesOnASPNET11.aspx) by Scott Hanselman 但它的 ASP.NET 1.1

# javascript - 如何在滚动位置呈现页面？

> ID：14807246
> 
> 赞同：0
> 
> 时间：2013-02-11T06:51:46.097
> 
> 标签：javascript, jquery, scroll, anchor

我正在尝试链接到锚点处的页面，即：

```
<a href="/about/#content/">About</a>

<div id="content">…&lt;/div> 
```

正常的浏览器行为是渲染页面，然后跳转到锚点/ID。有没有办法在页面呈现*之前*将页面定位在锚点位置？

我试过使用

```
$(document).scrollTop( $('#content').offset().top ); 
```

认为它可能会足够快地移动到位置以防止整个页面加载的闪烁，但是在 DOM 准备好之前它不起作用，所以它不够快。

我可以通过有选择地隐藏元素，移动到位置，然后显示它们来拼凑一个解决方法，但我想知道是否有一种我不知道的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:03:44.107

我认为没有其他直接的方法可以做到这一点。您只能保证更快地链接到特定的 div，使该 div 尽快在 DOM 中可用。

您可以通过加载所需的 div 来静态链接，同时动态加载其他 div 的内容。再次执行此操作时，您必须通过执行代码确保页面始终滚动到此 div

```
$(document).scrollTop( $('#content').offset().top ); 
```

周期性地，当页面的其他内容被动态加载时，页面大小可能会增加，我们希望始终保持滚动位置在内容 div 上。

# html - 如果存在图像，则对齐按钮文本

> ID：14807247
> 
> 赞同：0
> 
> 时间：2013-02-11T06:51:48.323
> 
> 标签：html, css, alignment

我有一个在我的网页中多次使用的按钮。按钮样式将如下

1.  带有文本和图像的按钮。
2.  只有图像的按钮。
3.  只有文本的按钮。

如`fiddle` [http://jsfiddle.net/xzBaZ/4/所示](http://jsfiddle.net/xzBaZ/4/)

我正在为按钮类使用相同的 css。如果是第一种情况，我需要将文本垂直对齐到中心。其他情况不需要额外对齐。

我怎样才能做到这一点？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:19:21.407

`vertical-align: bottom`在`<img>`or 上使图像和文本的行高相等。后者要求您事先知道图像高度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:37:27.940

你应该在 span 中写下文本

```
 <button onclick="return false" class="super button"><span>Awesome Button &raquo;
           </span> <img src="/Buttons5/add-to-cart-light.png" alt="" width="28" height="20"/> 
```

并指定跨度的 css

```
.button span{
    float:left;
    margin-top:3px;
} 
```

# java - 使用 Switch 语句从 Java 中仅删除某些日期

> ID：14807252
> 
> 赞同：-4
> 
> 时间：2013-02-11T06:52:15.920
> 
> 标签：java, date

我几乎完成了我的代码；但是，它并没有只删除星期五并且恰好是该月的第 13 天的日期，而是删除了每 13 次提交的日期。我以为：

```
int friday = ((startingDayOfWeek+dayOfYear) % 7);
            if (dayOfYear != 13 && friday != 5)
            System.out.println(month + "/" + dayOfYear);
            dayOfYear++; 
```

会起作用，但它正在消除它们。我知道有更简单的方法可以做到这一点；但是，我必须以这种方式进行。这是完整的代码：

```
public class LoopDate {

public static void main(String[] args) {

    //Denotes that Tuesday is the first day of 2013
    int startingDayOfWeek = 2;
    int year = 2013;
    int numDays = 0;
    for (int month = 1; month <= 12; month++) {
        switch (month) {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12:
            numDays = 31;
            break;
        case 4:
        case 6:
        case 9:
        case 11:
            numDays = 30;
            break;
        case 2:
            if (((year % 4 == 0) && !(year % 100 == 0))
                    || (year % 400 == 0))
                numDays = 29;
            else
                numDays = 28;
            break;
        default:
            System.out.println("Invalid month.");
            break;
        }
        int dayOfYear = 1;
        while (dayOfYear <= numDays)
        {
            int friday = ((startingDayOfWeek+dayOfYear) % 7);
            if (dayOfYear != 13 && friday != 5)
            System.out.println(month + "/" + dayOfYear);
            dayOfYear++;
        }

    }
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:28:39.060

你的布尔逻辑是错误的。

```
如果 (dayOfYear != 13 && 星期五 != 5)

```

应该：

```
if (dayOfYear != 13 || 星期五 != 5)

```

您正在对“13 号星期五”进行否定检查。将肯定检查转换为否定检查时，您需要不要条件（完成），并翻转运算符（OR 变为 AND，AND 变为 OR）。

此外，在处理这样的布尔逻辑时，我通常给段赋予有意义的名称。它“花费”了一个变量，但可以在以后为您节省无数小时！

```
boolean isFridayThe13th = (dayOfYear == 13 && friday == 5);
如果 (!isFridayThe13th) ...

```

# ios - 属性需要定义一个方法

> ID：14807254
> 
> 赞同：1
> 
> 时间：2013-02-11T06:52:22.780
> 
> 标签：ios, objective-c

我正在尝试创建一个 SplitViewController 视图，但收到以下警告：

属性 splitViewController 需要定义方法 setSplitViewController - 使用 @Synthesize、@dynamic 或在此类实现中提供方法实现。

**这是代码**

```
///AppDelegate.h

 @class ViewController;
 @class DetailViewController;

 @interface AppDelegate : UIResponder <UIApplicationDelegate, UISplitViewControllerDelegate>
{
UISplitViewController *splitViewController;
ViewController *viewcontroller;
DetailViewController *detailViewController;
}
@property (nonatomic,retain) UIWindow *window;
@property (nonatomic,retain) DetailViewController *detailViewController;
@property(nonatomic,retain)  UISplitViewController *splitViewController;
@property (nonatomic,retain) ViewController *viewController;

@end

///AppDelegate.m"

#import "ViewController.h"
#import "DetailViewController.h"

@implementation AppDelegate

@synthesize window = _window;
@synthesize viewController = _viewController;
 @synthesize splitviewController;
 @synthesize detailViewController;
- (void)dealloc
{
   [_window release];
   [_viewController release];
   [super dealloc];
}

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
   ViewController *rootViewController = [[ViewController alloc]   initWithStyle:UITableViewStylePlain];
   UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:rootViewController];
   detailViewController = [[DetailViewController alloc] initWithNibName:@"DetailView" bundle:nil];
   rootViewController.detailViewController = detailViewController;    

   splitViewController = [[UISplitViewController alloc] init];
   splitViewController.viewControllers = [NSArray arrayWithObjects:navigationController, detailViewController, nil];
   splitViewController.delegate = detailViewController;

   [self.window makeKeyAndVisible];
   return YES;
}

///ViewController.h
 #import <UIKit/UIKit.h>
 @class DetailViewController;
 @interface ViewController : UITableViewController{
 DetailViewController *detailViewController;
 NSMutableArray *phone;
 }
@property (nonatomic,retain)IBOutlet DetailViewController *detailViewController;
@property (nonatomic,retain) NSMutableArray *phone;
@end

///ViewController.m
#import "ViewController.h"
#import "DetailViewController.h"

@interface ViewController ()

@end

 @implementation ViewController
 @synthesize detailViewController,phone;

  - (CGSize)contentSizeForViewInPopoverView {
 return CGSizeMake(320, 600);
 }

- (void)viewDidLoad
{
  [super viewDidLoad];
  self.phone = [[NSArray arrayWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"phone" ofType:@"plist"]] retain];

// Do any additional setup after loading the view, typically from a nib.
  }

  - (void)viewDidUnload
{
 [super viewDidUnload];
// Release any retained subviews of the main view.
 }

 - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
 {
 return YES;
 }
- (NSInteger)numberOfSectionsInTableView:(UITableView *)aTableView {
  // Return the number of sections.
 return 1;
 }

 - (NSInteger)tableView:(UITableView *)aTableView numberOfRowsInSection:(NSInteger)section {
// Return the number of rows in the section.
return [phone count];
 }

  - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

  static NSString *CellIdentifier = @"CellIdentifier";

// Dequeue or create a cell of the appropriate type.
 UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
 if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    cell.accessoryType = UITableViewCellAccessoryNone;
 }

// Configure the cell.
 cell.textLabel.text = [self.phone objectAtIndex:indexPath.row];
 return cell;
 }
  - (void)tableView:(UITableView *)aTableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

  /*
   When a row is selected, set the detail view controller's detail item to the item associated with the selected row.
   */
 detailViewController.detailItem = [self.phone objectAtIndex:indexPath.row];
 }
 - (void)dealloc {
 [detailViewController release];
 [super dealloc];
 }

  @end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:13:21.723

在您的代码中，您尚未合成您的`splitViewController`属性。由于您尚未将其合成为属性，因此编译器会发出警告，要求您合成该属性，以便它可以为您的方便自动生成 setter 和 getter（您可以使用生成的 setter 和 getter 使用`.`符号，如`self.splitViewController`合成它作为 `@synthesize splitViewController = _splitViewController`

或者

实现您自己的自定义 setter 和 getter

```
//setter
- (void)setSplitViewController:(UISplitViewController*)splitViewController_ {
    //assuming your property has retain identifier
    if (splitViewController != splitViewController_) {
        [splitViewController release];
        splitViewController = [splitViewController_ retain];
    }
}

//getter
- (UISplitViewController*)splitViewController {
    return splitViewController;
} 
```

或者

使用 .将属性声明为动态的`@dynamic splitViewController`。这意味着该属性的 setter 和 getter 将从其他地方提供。

**编辑：**

`didFinishLaunchingWithOptions`将appDelegate.m 中的方法替换为以下内容：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
   _viewController = [[ViewController alloc] initWithNibName:@"ViewController's nib name" bundle:nil];
   UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:_viewController];
   detailViewController = [[DetailViewController alloc] initWithNibName:@"DetailView" bundle:nil];
   rootViewController.detailViewController = detailViewController;    

   splitViewController = [[UISplitViewController alloc] init];
   splitViewController.viewControllers = [NSArray arrayWithObjects:navigationController, detailViewController, nil];
   splitViewController.delegate = detailViewController;

   self.window.rootViewController = splitViewController;
   return YES;
} 
```

还编辑 dealloc：

```
- (void)dealloc
{
   [_window release];
   [_viewController release];
   [splitViewController release];
   [detailViewController release];
   [super dealloc];
} 
```

并在 viewController`viewDidLoad`中用这个替换 self.phones 行

> self.phone = [[NSArray arrayWithObjects:@"细胞一",@"细胞二",@"细胞三",@"细胞四",@"细胞五",@"细胞六", nil];

这只是为了测试数组部分是否正确加载..以便您可以看到正在创建的单元格。在方法中放置一个断点`cellForRowAtIndexPath`，看看它是否被调用

然后最后`didSelect`看看detailItem iVar 是否不为零。

是的，在加载之前正确检查NIB名称，并且NIB中的所有插座都正确连接。

干杯，玩得开心。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:45:59.640

问题是你在 @synthesize 语句中拼错了 splitViewController——你没有大写 v。

如果你用简单的方法来做，你就不会遇到这个问题。不再需要实例变量或@synthesize 语句——创建属性时您会自动获得这两者。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:54:13.227

在你的情况下添加`@synthesize splitViewController = _splitViewController;` **和** `detailViewController = _ detailViewController;`

这是有用的代码，我该如何添加`UISplitViewController`。

```
/// AppDelegate.h file

#import <UIKit/UIKit.h>
#import "MasterViewController.h"
#import "DetailViewController.h"

@interface AppDelegate : UIResponder <UIApplicationDelegate, UISplitViewControllerDelegate>

@property (strong, nonatomic) UIWindow *window;

@property (nonatomic, strong)  UISplitViewController *splitViewController;
@property (nonatomic, strong)  MasterViewController *masterVC;
@property (nonatomic, strong)  DetailViewController *detailVC;

@property (nonatomic, strong)  UINavigationController *mvcNavCon;
@property (nonatomic, strong)  UINavigationController *dvcNavCon;

@end

/// AppDelegate.m File

#import "AppDelegate.h"

@implementation AppDelegate

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.
    self.window.backgroundColor = [UIColor whiteColor];

    self.masterVC = [[MasterViewController alloc] init];
    self.mvcNavCon = [[UINavigationController alloc] initWithRootViewController:self.masterVC];

    self.detailVC = [[DetailViewController alloc] init];
    self.dvcNavCon = [[UINavigationController alloc] initWithRootViewController:self.detailVC];

    self.splitViewController = [[UISplitViewController alloc] init];
    self.splitViewController.delegate = self;
    self.splitViewController.viewControllers = [NSArray arrayWithObjects:self.mvcNavCon, self.dvcNavCon,nil];

    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    self.window.rootViewController = self.splitViewController;

    [self.window makeKeyAndVisible];
    return YES;
} 
```

# html - 调整浏览器大小时，高度 100% 无法正常工作

> ID：14807255
> 
> 赞同：1
> 
> 时间：2013-02-11T06:52:26.580
> 
> 标签：html, css

我在使用 height 时遇到问题。我在页面中使用了 height:100% 作为 div。我为此设置了背景颜色。在浏览器最大化时它工作正常。但是当它调整大小时，我的 div 没有正确呈现。

我的问题是当我调整浏览器窗口的大小时，我的 div 会出现一个滚动，但我的整个 div 没有呈现背景颜色。它仅针对我在调整窗口大小时看到的部分呈现。

我的风格课

```
html,body{height:100%;} 
.rightDiv{  height:100%;width: 39%;background: #3F5D91;float: right;color: #F0F0F0;} 
```

请帮助我摆脱这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:22:14.007

我已经使用本地 html 文件对此进行了测试：

```
<!DOCTYPE html>
<html>
  <head>
    <style>
      html,body{height:100%;} 
      .rightDiv{height:100%;width: 39%;background: #3F5D91;float: right;color: #F0F0F0;}
    </style>
  </head>
  <body>
    <div class="rightDiv">Hello</div>
  </body>
</html> 
```

在 Firefox 18.0.2/Windows7 上，我看到右侧的 div，颜色为蓝色，并且在全屏或调整大小时看到滚动条。

滚动显示 div 的其余部分，背景颜色完好无损，所以我无法解释为什么你会看到它。

但是，我想知道您是否真的想看到滚动条。将元素设置为 100% 通常意味着您只希望它填充视口，而不是溢出。
如果是这种情况，那么您需要删除浏览器应用于包含您的 div 的元素（例如主体）的任何默认边距。环境：

```
 html,body{margin:0; height:100%;} 
```

将使 div 适合。

顺便说一句，像[CodePen](http://codepen.io/)和[JSFiddle](http://jsfiddle.net)这样的网站提供了应用重置样式表的选项，比如[Normalize](http://necolas.github.com/normalize.css/)和[Reset](http://meyerweb.com/eric/tools/css/reset/)，当你创建一个新的 pen/fiddle 时，你应该注意这些被预先选择（JSFiddle 为 Normalize 执行此操作）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T08:21:37.523

我有这样的问题。只有一件事对我有帮助。当我需要 100% 的身体元素高度时，我必须为他设置以下样式：

```
body {
  position: absolute;
  top:0;
  bottom:0;
  left:0;
  right:0;
  -webkit-background-size: cover; /*makes background cover whole page
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
} 
```

您可以将类似的事情涉及到其他元素。

# javascript - 从子 ng-repeat 访问父 ng-repeat 的索引

> ID：14807258
> 
> 赞同：219
> 
> 时间：2013-02-11T06:52:34.023
> 
> 标签：javascript, angularjs, angularjs-ng-repeat

我想使用父列表（foos）的索引作为子列表（foos.bars）中函数调用的参数。

我发现有人推荐使用 $parent.$index 的帖子，但`$index`它不是`$parent`.

如何访问父级的索引`ng-repeat`？

```
<div ng-repeat="f in foos">
  <div>
    <div ng-repeat="b in foos.bars">
      <a ng-click="addSomething($parent.$index)">Add Something</a>
    </div>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：282
> 
> 时间：2013-02-11T22:51:09.630

我的示例代码是正确的，问题出在我的实际代码中。尽管如此，我知道很难找到这样的例子，所以我会回答它以防其他人正在寻找。

```
<div ng-repeat="f in foos">
  <div>
    <div ng-repeat="b in foos.bars">
      <a ng-click="addSomething($parent.$index)">Add Something</a>
    </div>
  </div>
</div> 
```

* * *

## 回答 #2

> 赞同：220
> 
> 时间：2013-09-20T10:52:17.027

根据 ng-repeat 文档[http://docs.angularjs.org/api/ng.directive:ngRepeat](http://docs.angularjs.org/api/ng.directive:ngRepeat)，您可以将键或数组索引存储在您选择的变量中。`(indexVar, valueVar) in values`

所以你可以写

```
<div ng-repeat="(fIndex, f) in foos">
  <div>
    <div ng-repeat="b in foos.bars">
      <a ng-click="addSomething(fIndex)">Add Something</a>
    </div>
  </div>
</div> 
```

使用 $parent.$index 上一层仍然很干净，但是上一层父母，事情可能会变得一团糟。

注意：`$index`将在每个范围内继续定义，不会被`fIndex`.

* * *

## 回答 #3

> 赞同：46
> 
> 时间：2014-01-03T20:48:38.593

看看[我对类似问题的回答](https://stackoverflow.com/a/20911384/1432478)。
通过别名`$index`，我们不必编写像`$parent.$parent.$index`.

* * *

`$parent.$index`使用[ng-init 的](http://docs.angularjs.org/api/ng.directive:ngInit)方式更优雅的解决方案：

```
<ul ng-repeat="section in sections" ng-init="sectionIndex = $index">
    <li  class="section_title {{section.active}}" >
        {{section.name}}
    </li>
    <ul>
        <li class="tutorial_title {{tutorial.active}}" ng-click="loadFromMenu(sectionIndex)" ng-repeat="tutorial in section.tutorials">
            {{tutorial.name}}
        </li>
    </ul>
</ul> 
```

Plunker：[http ://plnkr.co/edit/knwGEnOsAWLhLieKVItS?p=info](http://plnkr.co/edit/knwGEnOsAWLhLieKVItS?p=info)

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2015-11-16T06:44:15.087

您还可以通过以下代码控制祖父索引

```
$parent.$parent.$index 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-10-08T09:59:41.690

您可以简单地使用 use $parent.$index 。其中 parent 将表示父重复对象的对象。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-11-29T09:50:12.653

如果有多个父母，$parent 将不起作用。取而代之的是，我们可以在 init 中定义一个父索引变量并使用它

```
<div data-ng-init="parentIndex = $index" ng-repeat="f in foos">
  <div>
    <div data-ng-init="childIndex = $index" ng-repeat="b in foos.bars">
      <a ng-click="addSomething(parentIndex)">Add Something</a>
    </div>
  </div>
</div> 
```

# c# - 应用程序启动时全景幻灯片

> ID：14807259
> 
> 赞同：1
> 
> 时间：2013-02-11T06:52:33.300
> 
> 标签：c#, silverlight, windows-phone-7, xaml

在我的 WP7 应用程序中，我使用了一个全景控件，它有四个项目。在应用程序上启动全景显示的最后一个项目一秒钟，然后立即滑到第一个项目。我想避免这种滑动效果。我不想先显示最后一项和滑动效果。这怎么可能？请帮我。

XAML 代码：

```
 <controls:Panorama x:Name="mainPano"  >

            <controls:Panorama.Background>
                <ImageBrush ImageSource="/Resources/Images/PanoBackground.png"/>
            </controls:Panorama.Background>

            <controls:PanoramaItem X:Name="Item1" Header="latest pix" Height="520" Tag="latest" Margin="0,-40,0,0"  Orientation="Horizontal" MaxWidth="460">
                ..........
            </controls:PanoramaItem >

            <controls:PanoramaItem X:Name="Item2" Header="explore pix" Height="520" Tag="explore" Style="{StaticResource MainPanoramaHeaderStyle}" Margin="0,-40,0,0" >
               .........
            </controls:PanoramaItem >

            <controls:PanoramaItem X:Name="Item3" Header="bookmarks" Height="520" Tag="bookmarks" Style="{StaticResource MainPanoramaHeaderStyle}" Margin="0,-40,0,0" Orientation="Horizontal" MaxWidth="460">
               .........
            </controls:PanoramaItem >

            <controls:PanoramaItem X:Name="Item4" Header="activity" Height="520" Tag="activity" Style="{StaticResource MainPanoramaHeaderStyle}" Margin="0,-40,0,0" Orientation="Horizontal" MaxWidth="460" >
                .............
            </controls:PanoramaItem >              

        </controls:Panorama> 
```

# php - 如何为特定类应用 jquery

> ID：14807260
> 
> 赞同：0
> 
> 时间：2013-02-11T06:52:45.170
> 
> 标签：php, jquery

我在列表中显示具有下一个和上一个按钮的图像。

我在 for 循环中使用了这个 jquery，以便它可以不止一个。

```
list1:

Prev <ul><li> img1 img2 img3....</li></ul> Next

list2:

Prev <ul><li> img1 img2 img3....</li></ul> Next 
```

如果我在同一页面上有三个不同的图像列表，如果我单击第一个列表的下一个或上一个，则它适用于所有列表。

我如何将它应用于该特定列表以移动 Next 和 prev。

我使用了链接中的代码：http: [//css-plus.com/2010/09/create-your-own-jquery-image-slider/](http://css-plus.com/2010/09/create-your-own-jquery-image-slider/)

我使用了以下代码：Jquery：

```
$(document).ready(function(){ 

    // Gallery
    if(jQuery(".gallery").length){

        // Declare variables
        var totalImages = jQuery(".gallery > li").length, 
            imageWidth = jQuery(".gallery > li:first").outerWidth(true),
            totalWidth = imageWidth * totalImages,
            visibleImages = Math.round(jQuery(".gallery-wrap").width() / imageWidth),
            visibleWidth = visibleImages * imageWidth,
            stopPosition = (visibleWidth - totalWidth);

        jQuery(".gallery").width(totalWidth);

        jQuery("#gallery-prev").click(function(){
            if(jQuery(".gallery").position().left < 0 && !jQuery(".gallery").is(":animated")){
                jQuery(".gallery").animate({left : "+=" + imageWidth + "px"});
            }
            return false;
        });

        jQuery("#gallery-next").click(function(){
            if(jQuery(".gallery").position().left > stopPosition && !jQuery(".gallery").is(":animated")){
                jQuery(".gallery").animate({left : "-=" + imageWidth + "px"});
            }
            return false;
        });
    }

});

 Html and php:
    <?php foreach($records as $row) :?>

     <div id="gallery-wrap">
        <ul id="gallery" class="gallery">
                <?php foreach($row['images'] as $image) :?> 
                 <li> 
                    <a href="#"><img src="<?php echo base_url();?>uploads/<?php echo $image['img']; ?> /></a>
                </li> 
                <?php endforeach ;?>
            </ul>
        </div>
       <div id="gallery-controls" class="gallery-controls">
        <a href="#" id="gallery-prev" >Prev</a>
        <a href="#" id="gallery-next" >Next</a>
    </div>
    <?php endforeach ;?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:20:29.800

好的首先....

1）ID应该始终是唯一的...但是在您的情况下，您的元素具有相同的ID，因为它在循环中..所以要么更改它并使其唯一，要么您可以将其更改为HTML代码中的类...

```
 <div class="gallery-wrap">
 -----^^---- change to class... 
```

2）由于您使用的是 class ，因此您的所有 ID 选择器，即`#`应由`.`jquery 代码中的类选择器替换。

```
 jQuery(".gallery-prev").click(function(){
 --------^------ here 
```

你的变化

**HTML**

```
<div class="galleryDisplayBlock"> //add new div
  <div class="gallery-wrap">
    <ul class="gallery">
            <?php foreach($row['images'] as $image) :?> 
             <li> 
                <a href="#"><img src="<?php echo base_url();?>uploads/<?php echo $image['img']; ?> /></a>
            </li> 
            <?php endforeach ;?>
        </ul>
    </div>
   <div class="gallery-controls">
    <a href="#" class="gallery-prev" >Prev</a>
    <a href="#" class="gallery-next" >Next</a>
   </div>
</div> 
```

**jQuery**

```
 jQuery(".gallery-prev").click(function(){
        var thisGallery=jQuery(this).parent();
        if(thisGallery.find(".gallery").position().left < 0 && !thisGallery.find(".gallery").is(":animated")){
            thisGallery.find(".gallery").animate({left : "+=" + imageWidth + "px"});
        }
        return false;
    });

    jQuery(".gallery-next").click(function(){
            var thisGallery=jQuery(this).parent(); 
            if(thisGallery.find(".gallery").position().left > stopPosition && !thisGallery.find(".gallery").is(":animated")){
            thisGallery.find(".gallery").animate({left : "-=" + imageWidth + "px"});
        }
        return false;
    }); 
```

# c++ - QThread 和 boost 线程之间的通信

> ID：14807262
> 
> 赞同：3
> 
> 时间：2013-02-11T06:52:53.473
> 
> 标签：c++, boost-thread, qthread

Gui 在`Qt`里面，Api 在里面`boost`。Gui 是用来放置在 Api 之上的。Api 的功能之一是做网络级别的数据管理，以某种方式处理数据并与 Gui 通信（即，将 Gui 与 Api 的另一端桥接）。为了防止 GUI 冻结 Api，它在单独的线程中工作。如果 Gui 和 Api 都使用 Qt，那么使用 Qt 的跨线程`signal-slot`机制通信会更容易。Api`emits`并立即返回，反之亦然。`Qt::BlockingQueuedConnection`因此，除非明确指定 ( ) ，否则不会阻止任何内容。我从前`boost`一段时间一直在使用，因为它需要在`boost`. 我如何实现这种机制`boost <--> Qt`沟通？Api 将是 header+static_library，因此 Gui 和 Api 将生成单个可执行文件。我必须至少支持 Linux、Windows 和 Mac。

**编辑：：**对不起，但已经与管理层进行了冗长的讨论（委婉地说），但最终结果是我“必须”在 Api 中使用 boost。事实上，Gui 甚至可能不使用 Qt。任何拥有 Gui 的人都应该能够插入我们的 Api 以与另一端进行通信（类似于 Gui--API--kernel 模型）。因此，关于在任一侧使用 Qt 等的建议不会有太大帮助

# javascript - 避免使用 eval() 来动态构建事件处理程序

> ID：14807267
> 
> 赞同：1
> 
> 时间：2013-02-11T06:53:17.693
> 
> 标签：javascript, dynamic, event-handling, eval

我正在努力在 javascript 中管理动态构建的事件处理程序。

在几个地方，我构建了需要处理特定事件（主要是鼠标悬停、鼠标移出、点击）的表单或控件。

诀窍在于，在很多情况下，事件处理程序本身需要合并由构建表单或控件的函数生成或传入的数据。

因此，我一直在使用“eval()”来构建事件并合并适当的数据，并且效果不错。

问题是我不断看到/听到诸如“你永远不应该使用 eval()！”之类的东西。以及一些越来越丑陋的实现，其中我的动态构建的事件处理程序需要动态构建其他事件处理程序，并且嵌套的 eval 非常迟钝（委婉地说）。

所以我在这里，询问是否有人可以向我展示更好的方法（请仅使用本机 javascript，我没有实现任何第三方库！）。

这是一个粗略的例子来说明我在说什么：

```
function CreateInput(controlName,type,activeStyle,dormantStyle,whenClicked)
{
    var inp = document.createElement('input');
    inp.id = controlName;
    inp.type = type;
    inp.style.cssText = dormantStyle;
    eval("inp.onfocus = function() { this.style.cssText = '" + activeStyle + "'; }");
    eval("inp.onblur = function() { this.style.cssText = '" + dormantStyle + "'; }");
    eval("inp.onclick = function() { " + whenClicked + "; }");
    return inp;
} 
```

这个函数显然可以让我轻松创建许多不同的 INPUT 标记并指定许多独特的属性和事件操作，每个只需一个函数调用。同样，这是一个非常简化的示例，只是为了演示我在说什么，在某些情况下，在我目前正在进行的项目中，事件可以包含几十行，它们甚至可能基于传递的动态 ajax 调用参数或其他动态生成的数据。在更极端的情况下，我构建表格，其各个行/列/单元格可能需要根据处理程序的动态生成内容或处理程序的处理程序来处理事件。

最初，我已经构建了像上面这样的函数：

```
function CreateInput(controlName,type,activeStyle,dormantStyle,whenClicked)
{
    var inp = document.createElement('input');
    inp.id = controlName;
    inp.type = type;
    inp.style.cssText = dormantStyle;
    inp.onfocus = function() { this.style.cssText = activeStyle; };
    inp.onblur = function() { this.style.cssText = dormantStyle; };
    eval("inp.onclick = function() { " + whenClicked + "; }");
    return inp;
} 
```

...但我发现无论最后分配的值是什么，“activeStyle”和“休眠样式”都成为所有由此创建的处理程序使用的值（例如，而不是每个处理程序都保留自己独特的一组样式）。这就是导致我在创建函数时使用 eval() 来“锁定”变量值的原因，但这让我陷入了如下的噩梦：

（这是我目前正在研究的一个动态构建的事件处理程序的示例，它使用嵌套的 eval() 函数）：

```
 eval("input.onkeyup = function() { " +
            "InputParse(this,'ucwords'); " +
            "var tId = '" + myName + This.nodeName + "SearchTable" + uidNo + "'; " +
            "var table = document.getElementById(tId); " +
            "if (this.value.length>2) { " +
                "var val = (this.value.indexOf(',') >=0 ) ? this.value.substr(0,this.value.indexOf(',')) : this.value; " +
                "var search = Global.LoadData('?fn=citySearch&limit=3&value=' + encodeURI(val)); " +
                "if (table) { " +
                    "while (table.rows.length>0) { table.deleteRow(0); } " +
                    "table.style.display='block'; " +
                "} else { " +
                    "table = document.createElement('table'); " +
                    "table.id = tId; " +
                    "ApplyStyleString('" + baseStyle + ";position=absolute;top=20px;left=0px;display=block;border=1px solid black;backgroundColor=rgba(224,224,224,0.90);zIndex=1000;',table); " +
                    "var div = document.getElementById('" + divName + "'); " +
                    "if (div) { div.appendChild(table); } " +
                "} " +
                "if (search.rowCount()>0) { " +
                    "for (var i=0; i<search.rowCount(); i++) { " +
                        "var tr = document.createElement('tr'); " +
                        "tr.id = 'SearchRow' + i + '" + uidNo + "'; " +
                        "tr.onmouseover = function() { ApplyStyleString('cursor=pointer;color=yellow;backgroundColor=rgba(40,40,40,0.90);',this); }; " +
                        "tr.onmouseout = function() { ApplyStyleString('cursor=default;color=black;backgroundColor=rgba(224,224,224,0.90);',this); }; " +
                        "eval(\"tr.onclick = function() { " +
                            "function set(id,value) { " +
                                "var o = document.getElementById(id); " +
                                "if (o && o.value) { o.value = value; } else { alert('Could not find ' + id); } " +
                            "} " +
                            "set('" + myName + This.nodeName + "CityId" + uidNo + "','\" + search.id(i)+ \"'); " +
                            "set('" + myName + This.nodeName + "ProvId" + uidNo + "','\" + search.provId(i)+ \"'); " +
                            "set('" + myName + This.nodeName + "CountryId" + uidNo + "','\" + search.countryId(i) + \"'); " +
                            "set('" + input.id + "','\" + search.name(i)+ \"'); " +
                            "}\"); " +
                        "var td = document.createElement('td'); " +
                        "var re = new RegExp('('+val+')', 'gi'); " +
                        "td.innerHTML = search.name(i).replace(re,'<span style=\"font-weight:bold;\">$1</span>') + ', ' + search.provinceName(i) + ', ' + search.countryName(i); " +
                        "tr.appendChild(td); " +
                        "table.appendChild(tr); " +
                    "} " +
                "} else { " +
                    "var tr = document.createElement('tr'); " +
                    "var td = document.createElement('td'); " +
                    "td.innerHTML = 'No matches found...';" +
                    "tr.appendChild(td); " +
                    "table.appendChild(tr); " +
                "} " +
            "} else { " +
                "if (table) table.style.display = 'none'; " +
            "} " +
        "} "); 
```

目前，我在让嵌套的 eval() 将“.onclick”事件绑定到表格行时遇到问题，并且，正如您所看到的，弄清楚代码变得非常麻烦（调试也是所有已知的原因）......所以，如果有人能指出我能够实现这些相同目标的方向，同时避免可怕地使用“eval（）”语句，我将非常感激！

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:18:38.363

这就是为什么你**永远不应该使用`eval`**. （如果你“烘焙”的那些值包含引号怎么办？哎呀。）更一般地说，试着弄清楚为什么正确的方法不起作用，而不是打败错误的方法来提交。:)

*此外*，分配给`on*`属性也不是一个好主意；它们的扩展性不是特别好。新的热点是使用`element.addEventListener`，它允许同一事件的多个处理程序。（对于较旧的 IE，您需要`attachEvent`. 这种 IE 废话是我们首先开始使用像 jQuery 这样的库的主要原因。）

* * *

您粘贴的代码使用了*闭包*，应该可以正常工作。您没有包括的部分是您必须一直在循环执行此操作。

JavaScript 变量是函数范围的，而不是块范围的，所以当你这样做时：

```
var callbacks = [];
for (var i = 0; i < 10; i++) {
    callbacks.push(function() { alert(i) });
}

for (var index in callbacks) {
    callbacks[index]();
} 
```

...你会得到`9`十次。循环的每次运行都会创建一个关闭*相同*变量的函数，`i`然后在下一次迭代中，值会`i`发生变化。

你想要的是一个工厂函数：内联或独立。

```
for (var i = 0; i < 10; i++) {
    (function(i) {
        callbacks.push(function() { alert(i) });
    })(i);
} 
```

这将创建一个单独的函数并立即执行它。函数内部每次都是不同的变量（因为它的作用域是函数），所以这有效地捕获了外部的值`i` *并忽略了**对其* `i`的任何进一步更改。

您可以明确地打破这一点：

```
function make_function(i) {
    return function() { alert(i) };
}

// ...

for (var i = 0; i < 10; i++) {
    callbacks.push(make_function(i));
} 
```

完全一样的东西，但函数是独立定义的，而不是内联的。

以前[出现过](https://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example)这种情况，但是要找出导致意外的原因有点棘手。

* * *

即使您的“正确方式”代码仍然使用字符串作为函数或样式的内容。我会将该点击行为作为函数传递，并且我会使用类而不是在我的 JavaScript 中嵌入 CSS 块。（我怀疑我是否会为每个输入添加一个 ID。）

所以我会写这样的东西：

```
function create_input(id, type, active_class, onclick) {
    var inp = document.createElement('input');
    inp.id = id;
    inp.type = type;
    inp.addEventListener('focus', function() {
        this.className = active_class;
    });
    inp.addEventListener('blur', function() {
        this.className = '';
    });
    inp.addEventListener('click', onclick);

    return inp;
}

// Called as:
var textbox = create_input('unique-id', 'text', 'focused', function() { alert("hi!") }); 
```

这仍然存在一些问题：它在较旧的 IE 中不起作用，并且它会删除您稍后尝试添加的任何类名。这就是 jQuery 流行的原因：

```
function create_input(id, type, active_class, onclick) {
    var inp = $('<input>', { id: id, type: type });
    inp.on('focus', function() {
        $(this).addClass(active_class);
    });
    inp.on('blur', function() {
        $(this).removeClass(active_class);
    });

    inp.on('click', onclick);

    return inp;
} 
```

当然，即使大部分都是不必要的——你可以只使用`:focus`CSS 选择器，根本不用担心`focus`和`blur`事件！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:16:47.690

您不需要`eval`“锁定”一个值。

从发布的代码中不清楚为什么您会在`CreateInput`返回后看到值发生变化。如果`CreateInput`实现了一个循环，那么我希望分配给`activeStyle`并`dormantStyle`使用的最后一个值。但是，与评论者相反，即使从循环中调用`CreateInput`也不会导致您描述的不当行为。

无论如何，这种陈旧数据的解决方案是使用闭包。JavaScript 局部变量都绑定到函数调用范围，无论它们是在函数内部还是在循环中声明。因此，您添加一个函数调用来强制创建新变量。

```
function CreateInput(controlName,type,activeStyle,dormantStyle,whenClicked)
{
    while ( something ) {
        activeStyle += "blah"; // modify local vars
        function ( activeStyle, dormantStyle ) { // make copies of local vars
            var inp = document.createElement('input');
            inp.id = controlName;
            inp.type = type;
            inp.style.cssText = dormantStyle;
            inp.onfocus = function() { this.style.cssText = activeStyle; };
            inp.onblur = function() { this.style.cssText = dormantStyle; };
            inp.onclick = whenClicked;
        }( activeStyle, dormantStyle ); // specify values for copies
    }
    return inp;
} 
```

# php - 从 Mongo 获取结果

> ID：14807271
> 
> 赞同：0
> 
> 时间：2013-02-11T06:53:37.987
> 
> 标签：php, mongodb

我正在使用 PHP 向 MongoDB 添加文档。

我已经使用 RockMongo 验证了文件已成功添加。

但是，当我运行 find() 命令时，它返回一个空数组

```
$insert = $collection->insert($document);
$cursor = $collection->find(); 
```

insert 会插入文档，但是 find() 返回“MongoCursor Object()”

插入后是否需要运行命令才能找到该项目？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:03:46.140

从文档中获取： find 返回指向资源的指针，您必须遍历结果才能实际查看结果。(就像 mysql(i)) [http://php.net/manual/en/mongocollection.find.php](http://php.net/manual/en/mongocollection.find.php)

```
<?php

$m = new MongoClient();
$db = $m->selectDB('test');
$collection = new MongoCollection($db, 'produce');

// search for fruits
$fruitQuery = array('Type' => 'Fruit');

$cursor = $collection->find($fruitQuery);
foreach ($cursor as $doc) {
    var_dump($doc);
}

// search for produce that is sweet. Taste is a child of Details. 
$sweetQuery = array('Details.Taste' => 'Sweet');
echo "Sweet\n";
$cursor = $collection->find($sweetQuery);
foreach ($cursor as $doc) {
    var_dump($doc);
}

?> 
```

因此，如果您对结果进行 foreach，它会正常工作！

# java - 考虑以下代码：“int s = 20; int t = s++ + --s;”。s 和 t 的值是多少？

> ID：14807272
> 
> 赞同：-3
> 
> 时间：2013-02-11T06:53:39.977
> 
> 标签：java, operator-keyword, increment, decrement

切入正题，答案是“s 为 20，t 无法确定”。我知道 s 是 20 的部分，但为什么 t 无法确定？请帮我！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:00:14.763

```
int s = 20; 
int t = s++ + --s; 
```

工作：递增（后递增）s 到 21（当前值 20）+ 递减（前递减）s 到 20（当前值 20）。

```
So, t=20+20;
And s =20; 
```

在考虑了优先级和括号之后，Java 保证从左到右计算表达式。例如，要计算eat() + Drink() - beMerry()，Java 将首先计算eat()，然后是drink()，然后执行加法，然后计算beMerry()，最后执行减法。eat() 在drink() 之前计算，因为eat() 在drink() 的左边，表达式从左到右计算。这种保证很重要，因为如果以相反的顺序调用eat() 和drink()，它们的调用可能会产生不同的副作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:04:46.787

读[这个](http://en.wikipedia.org/wiki/Increment_and_decrement_operators)：

> 由于递增/递减运算符会修改其操作数，因此在同一表达式中多次使用此类操作数可能会产生未定义的结果。例如，在诸如 x − ++x 之类的表达式中，并不清楚应该按什么顺序执行减法和增量运算符。当编译器应用优化时，这种情况会变得更糟，这可能导致操作的执行顺序与程序员的预期不同。

现在，你的答案应该很清楚了。在我看来，t 的值可能因编译器/优化而异。

这是更多信息： [http ://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html#Sequence-Points-Constrain-Expressions](http://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html#Sequence-Points-Constrain-Expressions)

# c# - 在多个数据库中使用事务

> ID：14807276
> 
> 赞同：1
> 
> 时间：2013-02-11T06:54:08.980
> 
> 标签：c#, sql-server, transactions

# Sql事务

我正在尝试插入到多个数据库中的表中，并且我希望其中一个不执行，所有语句都是回滚。我想使用 sql 事务，但我不知道如何在 c# i 事务范围中使用 sql 事务和事务范围

```
 try
    {
     using (tScope = new TransactionScope(TransactionScopeOption.Required,TOption))
      {

      ConAcnt.open();
     SqlCommand Com1 = new SqlCommand("INSERT",ConAcnt);
      Com1.ExecuteNonQuery();

      ConBase.open();
     Com2 = new SqlCommand("INSERT",ConBase);   
      Com2.ExecuteNonQuery();
       tScope.Complete();
      }

 catch (Exception ex)
{
    tScope.Dispose();                            

}

   } 
```

我想要com2不执行，com1是rooleback，但是提交事务，com2是执行并且com1不保存在db中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:41:14.793

您可能需要[分布式事务](http://msdn.microsoft.com/en-us/library/ms254973.aspx)

# java - 我们可以更改 java 使用的 unicode 版本吗？

> ID：14807279
> 
> 赞同：4
> 
> 时间：2013-02-11T06:54:25.397
> 
> 标签：java, unicode, version

Java 7 支持 Unicode 6.0。Unicode 4.0 支持仅限于 Java 平台的 5.0 和 6.0 版本。

Unicode 6.2.0 是 Unicode 标准的次要版本，它取代了所有以前的版本。Unicode 标准 6.2 版是一个特别版本，专门用于早期发布新编码的土耳其里拉符号。

是否可以在使用 java 7 的 Web 应用程序中使用这个最新的 6.2 版本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:12:03.260

我不确定你在追求什么，但如果你不需要字符属性或里拉符号的名称，那么你没有理由不能使用它。就*代码点*而言，Java 只是照你说的做。只要您有可以渲染它的字体，您就可以使用您喜欢的任何字符。Java 不会检查其内部 Unicode 字符数据库是否确实使用了该代码点，如果没有则拒绝显示它。

出现这种情况的地方是需要字符属性或已更新算法的地方。但是里拉符号是一个非常普通的字符，如果您尝试使用 U+XNEW COMBINING AWESOMENESS BELOW，它可能会有所不同，但即使这样也可能需要比应用程序支持更多的字体。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T07:17:46.770

如果您将项目移动到使用[icu](http://site.icu-project.org/)而不是使用 jdk 库中的字符和字符串，则可以输入和输出 unicode-6.2 编码的文本。最新版本的 icu[支持 unicode 6.2](http://site.icu-project.org/download/50)。要将其呈现到屏幕上，您需要兼容的字体，但如果您正在编写一个网络应用程序（输出文本/html），那不是您关心的问题。如果你想让 java 内置类支持 unicode 6.2，你需要等待 jdk8 - [http://openjdk.java.net/jeps/133](http://openjdk.java.net/jeps/133)

# excel - 在 vba 中使用动态事件处理程序

> ID：14807281
> 
> 赞同：0
> 
> 时间：2013-02-11T06:54:42.457
> 
> 标签：excel, vba

我创建了一个表单，我在其中动态创建文本框和相应的组合框以及组合框更改事件。这是创建组合框事件处理程序的类

```
Option Explicit

Public WithEvents cbx As MSforms.Combobox
Private avarSplit As Variant

Sub SetCombobox(ctl As MSforms.Combobox)
  Set cbx = ctl
End Sub

Private Sub cbx_Change()
 Dim i As Integer
  If cbx.ListIndex > -1 Then
  'MsgBox "You clicked on " & cbx.Name & vbLf & "The value is " & cbx.Value
  avarSplit = Split(cbx.Name, "_")
    'DecessionOnValue
 End If
End Sub 
```

这是动态创建文本框和组合框的表单上的代码

```
Function AddTextBox(Frame1 As frame, numberOfColumns As Integer)

 Dim counter As Integer
 Dim i As Integer
 Dim TxtBox As MSforms.TextBox
 For counter = 1 To numberOfColumns
                                     'Forms.CommandButton.1
    Set TxtBox = Frame1.Controls.Add("Forms.TextBox.1")
    TxtBox.Name = "tb_" + CStr(counter)
    'Bouton.Caption = "Test"
    TxtBox.Visible = True
    i = Property.TextBoxDisable(TxtBox)
    ' Defining coordinates  TextBox height is 18
    If counter = 1 Then
        TxtBox.Top = 23
    Else
        TxtBox.Top = (18 * counter) + 5 * counter
    End If
        TxtBox.Left = 50
   Next counter
End Function

Function Combobox(Frame1 As frame, numberOfColumns As Integer)

Dim counter As Integer
Dim i As Integer
Dim CbBox As MSforms.Combobox
Dim cbx As ComboWithEvent

If pComboboxes Is Nothing Then Set pComboboxes = New Collection
   For counter = 1 To numberOfColumns
                                     'Forms.CommandButton.1
    Set CbBox = Frame1.Controls.Add("Forms.ComboBox.1")
    CbBox.Name = "cb_" + CStr(counter)
    i = AddComboboxValues(CbBox)
  ' Defining coordinates  TextBox height is 18
    If counter = 1 Then
        CbBox.Top = 23
    Else
        CbBox.Top = (18 * counter) + 5 * counter
    End If
        CbBox.Left = 150
        Set cbx = New ComboWithEvent
        cbx.SetCombobox CbBox
        pComboboxes.Add cbx
    Next counter
    i = AddScrollBar(Frame1, counter)

End Function 
```

组合框事件处理程序工作正常，但我的问题是我不知道如何根据动态组合框中选择的值复制文本框的文本或启用禁用文本框。

谢谢，贾廷

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-21T14:36:51.143

例如，您将使用它：

Me.Controls("ControlName").Visible = True 或者你可以使用启用、禁用等代替 Visible。

# templates - Bigcommerce 模板文件丢失

> ID：14807282
> 
> 赞同：0
> 
> 时间：2013-02-11T06:54:46.793
> 
> 标签：templates, bigcommerce

我正在为 bigcommerce 网站开发一个模板，我想在其中显示类别列表和一些硬代码链接来代替页面菜单。现在我做什么，只需将其`%%Panel.SideCategoryList%%`放在上方导航区域即可。其中显示类别列表正确。

但问题是我没有找到这个`%%SNIPPET_SideCategoryList%%`文件。（在片段文件夹中存在一个具有此名称的文件，但即使我删除了该文件的所有内容，该文件也不起作用。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T15:04:10.847

我对 SNIPPET_SideShopByBrandList 也有类似的问题。

我记录了一张票并得到以下回复：

> 感谢您联系 BigCommerce 技术支持。
> 
> 我在 SideShopByBrand 面板中看到了它的参考。在同一个面板中，还有另一个 SNIPPET_ShopByBrandAllItem 在片段树中可见，但不是这个。那是因为它是一个隐藏的片段，并且无法对其进行编辑。
> 
> 我也在我的个人商店中对此进行了测试，并且输出是相同的。如果您还有其他问题，请告诉我。

我认为您的也可能是“隐藏的片段，无法编辑”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-26T03:51:39.163

不用担心....您只需要创建 html 页面并输入以下代码，但保留一件事不包括 html、head、body 等

1) 只需创建一个 html 页面并删除 html 内容
2) 将我的代码放在下面
3)

```
<li class="%%GLOBAL_LastChildClass%%"><a href="%%GLOBAL_CategoryLink%%">%%GLOBAL_CategoryName%%</a>
%%GLOBAL_SubCategoryList%%
</li> 
```

# asp.net-mvc-4 - MVC4 在视图中处理会话或查询字符串不是一个好习惯

> ID：14807283
> 
> 赞同：0
> 
> 时间：2013-02-11T06:54:49.040
> 
> 标签：asp.net-mvc-4

大家好，我刚开始工作`MVC`，这是我在`cshtml`页面中写的

```
@if (Request.QueryString["TechID"] != null)
{
int TechID = Convert.ToInt16(Request.QueryString["TechID"].ToString());
forumAPP.newForumDBEntities db = new forumAPP.newForumDBEntities();
var topic = from p in db.tblTechnologies where p.TechID == TechID select p.TechName;
string strText = "A forum where you can post questions regarding " + topic.FirstOrDefault().ToString(); ;
@Html.Label("Name", strText)
} 
```

我只是想知道编写一些代码（例如处理会话）来显示一些示例内容（例如`Username`或所需的文本）是否是一种好习惯，而不是写在`model`

# mysql - 用于清除/终止与 RDS 的困 Mysql 连接的脚本

> ID：14807285
> 
> 赞同：0
> 
> 时间：2013-02-11T06:55:05.997
> 
> 标签：mysql, ubuntu, amazon-web-services, monitoring

我有一个 ruby​​ on rails 应用程序，运行到 ec2 ubuntu 实例并在 RDS 上运行 Mysql 数据库。我开始使用 mysql 工作台监控 RDS 实例。我发现，我有超过 35 个从 ruby​​ on rails 应用程序到 RDS 的睡眠连接。这使我的应用程序太慢了，我想提出一个脚本或类似的东西来关注 RDS 休眠连接的数量并定期终止它们。

每当我尝试运行脚本时，它都会显示超时异常。

让我知道。

# actionscript-3 - 如何确定面对顺时针或逆时针旋转的物体是否更快？

> ID：14807287
> 
> 赞同：4
> 
> 时间：2013-02-11T06:55:13.673
> 
> 标签：actionscript-3, math, trigonometry

几天来我一直在尝试这种方法无济于事，但基本上我在屏幕上有一些生物和玩家。我想要发生的是让敌人以可变速度转向面对玩家，而不是“锁定”到位并立即面对玩家。

我想要做的是计算给定的敌人顺时针或逆时针旋转面对玩家是否更快，但事实证明这超出了我的三角学能力。

例子：

![在此处输入图像描述](../Images/314df7cbeff2722c1b66b4cadbf34015.png)

`x`在这些图中代表“较短”的路径和我想在每种情况下旋转的方向。

在这种情况下，使用以下任何一种方法来计算“顺时针”或“逆时针”的最简单方法是什么：

*   敌人面对的方向。
*   敌人与玩家之间的角度，以及玩家与敌人之间的角度。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T07:23:30.293

假设你有一个方向向量，这里**不需要**计算角度或使用三角函数。

```
var pos_x, pos_y, dir_x, dir_y, target_x, target_y;
if ((pos_x - target_x) * dir_y > (pos_y - target_y) * dir_x) {
    // Target lies clockwise
} else {
    // Target lies anticlockwise
} 
```

这只是在对象所面对的方向上绘制一条穿过对象的假想线，并确定目标在该线的哪一侧。这是基本的线性代数，所以你不需要在这个函数的任何地方使用`sin()`or`cos()`等​​，除非你需要从角度计算方向向量。

这也使用右手坐标系，如果您使用左手坐标系，它将向后 - 公式将相同，但“顺时针”和“逆时针”将被交换。

**更深入的解释：**`(dir_x, dir_y)`该函数计算前向向量和目标向量的外积， `(target_x - pos_x, target_y - pos_y)`。产生的外积是一个正或负的伪标量，取决于目标是顺时针还是逆时针。

### 向量速成课程

矢量是**幅度**和**方向**，例如向北 3 公里或向下 6 厘米。**您可以使用笛卡尔坐标**(x, y)来表示矢量，也可以使用**极坐标**(r,θ) 来表示它。两种表示形式都为您提供*相同*的向量，但它们使用不同的数字和不同的公式。一般来说，您应该坚持使用笛卡尔坐标而不是极坐标。`sin()`如果您正在编写游戏，极坐标非常糟糕——它们`cos()`到处乱扔代码。

代码中有三个向量：

*   矢量`(pos_x, pos_y)`是对象相对于原点的位置。

*   矢量`(target_x, target_y)`是目标相对于原点的位置。

*   矢量`(dir_x, dir_y)`是对象所面对的方向。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:15:06.000

```
const CLOCKWISE:int = 0;
const COUNTER_CLOCKWISE:int = 1;
const PI2:Number = Math.PI * 2

function determineSmallestAngle(from:Sprite, to:Sprite):int
{
    var a1:Number = Math.atan2(to.y - from.y, to.x - from.x);
    var a2:Number = from.rotation * Math.PI / 180;

    a2 -= Math.floor(a2 / PI2) * PI2;

    if(a2 > Math.PI) a2 -= PI2;

    a2 -= a1;

    if (a2 > Math.PI) a2 -= PI2;
    if (a2 < -1 * Math.PI) a2 += PI2;

    if (a2 > 0) return CLOCKWISE;
    return COUNTER_CLOCKWISE;

} 
```

# jquery - 包含 jQuery 时，Wordpress 无法正常工作

> ID：14807291
> 
> 赞同：1
> 
> 时间：2013-02-11T06:55:42.690
> 
> 标签：jquery, wordpress

如果我在 Wordpress 中包含更高版本的 jQuery，Widgets 页面之类的东西将不再工作。当我尝试单击特定小部件中的向下箭头进行更新时，它不会显示其设置。

```
wp_enqueue_script('ecom_jquery_script', 'http://code.jquery.com/jquery-1.9.0.min.js');
wp_enqueue_script('ecom_jquery-ui_script', 'http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js');
wp_enqueue_script('ecom_flexslider_script', plugins_url('/js/ecom-jquery.flexslider.js', __FILE__)); 
wp_enqueue_script('ecom_admin_script', plugins_url('/js/ecom-main.js', __FILE__)); 
```

但是当我注释掉 jquery 和其他依赖它的脚本时，小部件页面将起作用。

我已经尝试过寻找解决方案，但常见的解决方案是让 jquery 没有冲突：

```
$j=jQuery.noConflict();

// Use jQuery via $j(...)
$j(document).ready(function(){
  alert('test');
}); 
```

但这不起作用，因为简单地包含较新版本的 jquery 将使依赖于较旧版本 jquery 的脚本无法工作。请帮忙。

注销脚本也不起作用，因为如果使用较新版本的 jquery，wordpress 将拒绝工作：

```
wp_deregister_script('jquery'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:24:43.130

我确信它们是你可以做的一些技巧来完成这项工作，但我认为最好的（对于版本兼容性）是包含[jQuery Migrate Plugin](https://github.com/jquery/jquery-migrate)。该插件提供了两个基本功能：

1.  它重新启用已弃用的功能，因此您的 v1.8 兼容代码将再次工作
2.  当使用不推荐使用的功能时，它会向开发人员控制台记录警告，因此您应该会发现更容易解决问题。

迁移插件应该在 jQuery 之后立即加载，例如

```
wp_enqueue_script('ecom_jquery_script', 'http://code.jquery.com/jquery-1.9.0.min.js');
wp_enqueue_script('ecom_jquery_mig_script', 'http://code.jquery.com/jquery-migrate-1.0.0.js'); 
```

但是，您应该查看最后一个 jQuery 版本的[更改日志](http://jquery.com/upgrade-guide/1.9/#changes-of-note-in-jquery-1-9)。

**注意：**该`wp_deregister_script('jquery')`功能正在运行，但您需要使用相同的名称（jquery）再次注册，然后像这样排队：

```
wp_deregister_script('jquery')
wp_register_script('jquery', 'http://code.jquery.com/jquery-1.9.0.min.js'); 
wp_enqueue_script('jquery'); 
```

# cmake - 如何安装 Cmake C 编译器和 CXX 编译器

> ID：14807294
> 
> 赞同：25
> 
> 时间：2013-02-11T06:55:50.603
> 
> 标签：cmake

我需要一些帮助来用 cmake 编译这个项目。这是错误消息。

```
$ ./build_avida
-- Building for: NMake Makefiles
CMake Warning at CMakeLists.txt:1 (PROJECT):
  To use the NMake generator, cmake must be run from a shell that can use the
  compiler cl from the command line.  This environment does not contain
  INCLUDE, LIB, or LIBPATH, and these must be set for the cl compiler to
  work.

CMake Error: CMake was unable to find a build program corresponding to "NMake Makefiles".  CMAKE_MAKE_PROGRAM is not set.  You probably need to select a different build tool.
CMake Error: Error required internal CMake variable not set, cmake may be not be built correctly.
Missing variable is:
CMAKE_C_COMPILER_ENV_VAR
CMake Error: Error required internal CMake variable not set, cmake may be not be built correctly.
Missing variable is:
CMAKE_C_COMPILER
CMake Error: Could not find cmake module file:C:/Users/Desk/Dropbox/2012-2013/BCB504/AvidaProject/avidagit/avida/CMakeFiles/2.8.10.2/CMakeCCompiler.cmake
CMake Error: Error required internal CMake variable not set, cmake may be not be built correctly.
Missing variable is:
CMAKE_CXX_COMPILER_ENV_VAR
CMake Error: Error required internal CMake variable not set, cmake may be not be built correctly.
Missing variable is:
CMAKE_CXX_COMPILER
CMake Error: Could not find cmake module file:C:/Users/Desk/Dropbox/2012-2013/BCB504/AvidaProject/avidagit/avida/CMakeFiles/2.8.10.2/CMakeCXXCompiler.cmake
CMake Error: CMAKE_C_COMPILER not set, after EnableLanguage
CMake Error: CMAKE_CXX_COMPILER not set, after EnableLanguage
-- Configuring incomplete, errors occurred!
make: *** No rule to make target `install'.  Stop. 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-09-23T16:35:15.473

尝试安装`gcc`and `gcc-c++`，因为 Cmake 可以顺利使用它们。

### 基于 RedHat

```
yum install gcc gcc-c++ 
```

### 基于 Debian/Ubuntu

```
apt-get install cmake gcc g++ 
```

然后，

1.  删除“CMakeCache.txt”
2.  再次运行编译。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2020-08-19T12:29:37.213

即使我已经安装了 gcc，我也必须运行

```
sudo apt-get install build-essential 
```

摆脱那个错误

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-02-11T08:45:19.287

我使用的方法是启动可以在“开始”菜单中找到的“Visual Studio 命令提示符”。例如，我的 Visual Studio 2010 Express 安装`Visual Studio Command Prompt (2010)`在`Start Menu\Programs\Microsoft Visual Studio 2010\Visual Studio Tools`.

`vcvarsall.bat`此快捷方式通过调用从正确的 Visual Studio 安装中设置编译器、链接器等的脚本来准备环境。

或者，如果您已经打开了提示，您可以通过调用类似的脚本来准备环境：

```
:: For x86 (using the VS100COMNTOOLS env-var)
call "%VS100COMNTOOLS%"\..\..\VC\bin\vcvars32.bat 
```

或者

```
:: For amd64 (using the full path)
call C:\Program Files\Microsoft Visual Studio 10.0\VC\bin\amd64\vcvars64.bat 
```

## 然而：

您的输出（带有“$”提示符）表明您正在尝试从 MSys shell 运行 CMake。在这种情况下，通过显式指定 makefile 生成器，为 MSys 或 MinGW 运行 CMake 可能会更好：

```
cmake -G"MSYS Makefiles"
cmake -G"MinGW Makefiles" 
```

运行`cmake --help`以获取所有可能生成器的列表。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-10-03T11:56:28.200

那些错误：

“CMake 错误：未设置 CMAKE_C_COMPILER，在 EnableLanguage 之后

CMake 错误：在 EnableLanguage 之后未设置 CMAKE_CXX_COMPILER”

表示你还没有安装 mingw32-base。

转到[http://sourceforge.net/projects/mingw/files/latest/download?source=files](http://sourceforge.net/projects/mingw/files/latest/download?source=files)

然后确保选择“mingw32-base”

确保在 PATH 部分正确设置环境变量。"C:\MinGW\bin"

之后打开 CMake 并选择安装 --> 删除缓存。

然后再次单击配置按钮。我就是这样解决问题的，希望你能解决问题。

# vb6 - 选择 MS Script Control 1.0 的语言作为 Perl 脚本时出错

> ID：14807295
> 
> 赞同：3
> 
> 时间：2013-02-11T06:55:51.770
> 
> 标签：vb6, perlscript, msscriptcontrol

在我的 VB 6 应用程序中，我 `Script Control 1.0`用于通过我的应用程序运行外部脚本。但是在运行时，我收到以下错误。

```
"Error running Perl script: A script engine for the specified language can not be created." 
```

我已经安装了 ActivePerl 5.14，并且在运行以下代码时出现错误：

```
Dim perl As New ScriptControl
perl.Language = "PerlScript" 
```

任何想法可能是什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T13:56:04.840

该错误意味着找不到匹配的语言引擎。

确保`PerlScript`在安装 Active Perl 时*确实*选择了（默认情况下选择它，至少在最新版本中是这样）：

![在此处输入图像描述](../Images/234666aa647bcfe295f0cb79bb4e1f03.png)

成功安装在hive下创建`PerlScript`密钥。`HKEY_CLASSES_ROOT`此键应具有`CLSID`带有活动脚本语言引擎的 CLSID 的子键。具有此 CLSID 的组件应在系统中注册。在我的安装中，组件的二进制文件是`C:\Perl\bin\PerlSE.dll`.

# php - 具有多个上传文件的动态元素

> ID：14807297
> 
> 赞同：0
> 
> 时间：2013-02-11T06:56:01.173
> 
> 标签：php, javascript, file-upload

嗨，我正在使用[http://www.fyneworks.com/jquery/multiple-file-upload/](http://www.fyneworks.com/jquery/multiple-file-upload/)进行多个上传文件。但是对于一些动态`file`上传器，我也需要相同的功能。所以我为此创建了一个函数`addElement()`。问题是动态元素创建正确，但多重上传功能不起作用。

```
<title>Add Element</title>
<script language="javascript">
this.num = 1;
function addElement(){
$top = document.getElementById('top');
newId = document.createElement('div');
id = 'my'+this.num;
newId.setAttribute('id', id );
newId.innerHTML = "<input type='file' name='DocumentFiles2' class='multi' />";
$top.appendChild(newId);
this.num++;
 }
function removedThis( id ){
var d = document.getElementById('top');
d.removeChild(id);
 }
</script>
</head>
<body>
<input type='file' name='DocumentFiles[]' class='multi' /><!-- This one is working -->
<input type="button" name="button" value="Add Element" onclick="addElement()"  />
<div id="top" ></div>
</body>
</html> 
```

有任何替代方法可以做到这一点或使其工作。？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:00:14.830

调用和检查后添加`addElement`此`removedThis`代码

```
function addElement(){
     .....
     .....
     reinit();
}
function removedThis( id ){
     .....
     .....
     reinit();
}
function reinit()
{
    $('input[name="DocumentFiles[]"]').MultiFile({
    // your code
    });
} 
```

# c# - 如何像 IE 一样在任务栏中显示程序的选项卡

> ID：14807298
> 
> 赞同：0
> 
> 时间：2013-02-11T06:56:00.490
> 
> 标签：c#, wpf, tabs, taskbar, windows-api-code-pack

Windows 7 和 8 可以在任务栏预览中显示多个选项卡。

一些程序，如 IE、FireFox 和 ... 可以在任务栏中显示所有内部选项卡。

[FireFox Multiple Tabs 在任务栏预览示例。](http://www.mediafire.com/view/?hku1azcyzjo4kn7)

我想创建一个可以使用此功能的 WPF 程序。我知道它可以与 windows API 代码包一起使用，但我没有任何示例。

一些身体可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:31:20.727

这篇文章是关于 Windows 7 的，但我猜它对于 Win8 来说是一样的。看看这个：http: [//msdn.microsoft.com/en-us/windows/ee624070.aspx](http://msdn.microsoft.com/en-us/windows/ee624070.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-18T17:47:26.303

reinder 的答案包含一个链接，该链接成功地重定向到MSDN 站点上一组名为“扩展桌面”的文章中的一篇名为[“任务栏”的文章。](https://msdn.microsoft.com/en-us/library/windows/desktop/cc144179(v=vs.85).aspx "任务栏（当前 URL）")在那篇文章中有一个名为“修改任务栏”的部分，其中包含指向[`ITaskbarList`COM 接口](https://msdn.microsoft.com/en-us/library/windows/desktop/bb774652(v=vs.85).aspx "ITaskbarList 接口")的链接。据说该接口由响应`CLSID_TaskbarList`. 因此，您可以搜索以下内容以获取其余详细信息：`ITaskbarList`, `CLSID_TaskbarList`.

在我写这篇文章时，这里的“相关”下还显示了一些内容丰富的文章。

# php - 即使使用空值也可以打印（回显）

> ID：14807300
> 
> 赞同：1
> 
> 时间：2013-02-11T06:56:08.570
> 
> 标签：php, sql-server, select, datatable

所以我有 4 个表，其中两个有空值，我认为这是“可捕获的致命错误：类变量对象无法转换为字符串”的原因。

我的桌子是

```
table1(dbo.FA_PC)  
FAID(pk)  
PCID(fk)  

table2(dbo.PC)  
PCID(PK)  
PCCPUTypeID(fk)(some values are null/empty)  

table3(dbo.PC_CPU_Type)  
PCCPUTypeID(PK)  
CPU  
BrandID(fk)(some values are null/empty)  

table4(Brand)  
BrandID(PK)  
Brand 
```

所以我的代码和选择语句是这样的

```
<?php
$faidf=$_POST['faidf'];
ini_set("display_errors","on");
$conn = new COM("ADODB.Connection");
   try {
   $myServer = "WTCPHFILESRV\WTCPHINV";
   $myUser = "sa";
   $myPass = "P@ssw0rd";
   $myDB = "wtcphitinventory";   
   $connStr = "PROVIDER=SQLOLEDB;SERVER=".$myServer.";UID=".$myUser.";PWD=".$myPass.";DATABASE=".$myDB;
   $conn->open($connStr); 
         if (! $conn) {
            throw new Exception("Could not connect!");
        }
   }

   catch (Exception $e) {
      echo "Error (File:): ".$e->getMessage()."<br>";
   }
if (!$conn)
  {exit("Connection Failed: " . $conn);}
   $sql_exp = "SELECT  c.CPU, d.Brand
FROM    dbo.FA_PC a
        INNER JOIN dbo.PC b
        on a.PCID = b.PCID
        INNER JOIN dbo.PC_CPU_Type c
            ON b.PCCPUTypeID = c.PCCPUTypeID    
        INNER JOIN dbo.Brand d
            ON c.BrandID = d.BrandID
WHERE   a.FAID = $faidf AND c.PCCPUTypeID is NOT NULL and c.BrandID is NOT NULL";    
   $rs = $conn->Execute($sql_exp);  
    echo "<tr><td>".$rs->Fields("Brand")."-".$rs->Fields("CPU")."</td>";

       $rs->Close();      
?> 
```

是我的 where 语句错误，还是我的 select 语句有点偏离，或者是什么导致了“可捕获的致命错误：无法将类变量对象转换为字符串”的错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:35:15.883

我相信这`$rs->Fields("Brand")`正在返回不是字符串类型的对象，并且您正试图将它连接起来，就好像它是字符串一样。首先，您必须将此对象转换为字符串或访问此对象的某些属性，该属性包含您需要的字符串数据。

而不是`$rs->Fields("Brand")`尝试像这样获取字段数据：

```
$rs->fields["Brand"]->value 
```

尝试像这样遍历记录：

```
while (!$rs->EOF){ 
  echo '<tr><td>'.$rs->fields["Brand"]->value.'-'.$rs->fields["CPU"]->value.'</td></tr>'; 
  $rs->movenext(); 
} 
```

# c++ - 如何将矢量<...> 转换为 cv::Mat？

> ID：14807309
> 
> 赞同：2
> 
> 时间：2013-02-11T06:57:49.630
> 
> 标签：c++, opencv, vector

有`vector<Descriptor> m_keyDescs`

指定的描述符如下：

```
Descriptor(float x, float y, vector<double> const& f)
{
    xi = x;
    yi = y;
    fv = f;
} 
```

像这样推：

```
m_keyDescs.push_back(Descriptor(descxi, descyi, fv)); 
```

如何将此向量转换为 cv::Mat？

我努力了

```
descriptors_scene = cv::Mat(m_keyDescs).reshape(1); 
```

该项目调试没有错误，但是当它运行时，我的 Mac 上的 Qt Creator 中出现错误：

测试意外退出 单击重新打开以再次打开应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T22:05:29.157

您不能将手动定义的类的向量直接转换为 Mat。例如，OpenCV 不知道将每个元素放在哪里，并且这些元素甚至都不是相同的变量类型（第三个甚至不是单个元素，因此它不能是 Mat 中的元素）。但是，例如，您可以将整数或浮点数的向量直接转换为 Mat。[在此处](https://stackoverflow.com/questions/13699901/convert-vector-to-mat-in-opencv)的答案中查看更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-13T17:56:18.527

```
#include <opencv2/opencv.hpp>

using namespace std;
using namespace cv;

class Descriptor {
public:
  float xi;
  float yi;
  vector< double > fv;
  Descriptor(float x, float y, vector<double> const& f) :
    xi(x), yi(y), fv(f){}
};

int main(int argc, char** argv) {
  vector<Descriptor> m_keyDescs;
  for (int i = 0; i < 10; i++) {
    vector<double> f(10, 23);
    m_keyDescs.push_back(Descriptor(i+3, i+5, f));
  }
  Mat_<Descriptor> mymat(1, m_keyDescs.size(), &m_keyDescs[0], sizeof(Descriptor));
  for (int i = 0; i < 10; i++) {
    Descriptor d = mymat(0, i);
    cout << "xi:" << d.xi << ", yi:" << d.yi << ", fv:[";
    for (int j = 0; j < d.fv.size(); j++)
      cout << d.fv[j] << ", ";
    cout << "]" << endl;
  }
} 
```

# r - 使用预测类别的概率的 ROC 曲线

> ID：14807310
> 
> 赞同：1
> 
> 时间：2013-02-11T06:57:56.480
> 
> 标签：r, roc

我需要使用两类问题的预测概率来绘制 ROC 曲线。需要使用不同的概率截止值来生成 ROC 曲线。

我正在使用随机森林预测类别概率

```
mydata<-read.table(file="out-all-gm-pr-hpcuts-wor-noAl.tr", header=TRUE, sep ="")
mydata$class <- as.factor(mydata$class)
mydata.rf<-randomForest(class ~ ., data=mydata,  importance = TRUE, mtry = 3, ntree = 100, proximity = TRUE ) 
```

使用上述森林对测试数据进行预测

```
mytestdata<-read.table(file="gmsim-craboff.tes",header=TRUE)
testpred<-predict(mydata.rf,mytestdata,type='prob') 
```

我现在有一个数据文件，其中包含真实的类标签和测试数据的预测概率。我需要在概率中使用不同的截止值（比如`0.1`, `0.3`, `0.5`, `0.7`, ）生成 ROC 曲线。`0.9`怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-07T23:03:02.400

我会做以下事情：

```
library(pROC)
roc(mytestdata$class, testpred, plot = TRUE) 
```

# php - 3个日期范围之间的Mysql查询

> ID：14807311
> 
> 赞同：3
> 
> 时间：2013-02-11T06:57:59.577
> 
> 标签：php, mysql, sql

我有一个允许用户生成报告的 php 脚本，他们可以选择 3 个日期范围。IE

```
2012-01-01 to 2012-01-31
AND 
2011-01-01 to 2011-01-31
AND 
2010-01-01 to 2010-01-31 
```

但是当我进行查询时，在某个日期范围之间没有记录，查询不会返回任何值。

这是我的查询：

```
 SELECT DealerName WHERE InterviewDate >= "2012/01/01 " AND InterviewDate <= " 2012/03/31"
 AND InterviewDate >= "2012/07/01 " AND InterviewDate <= " 2012/09/31" 
```

我需要一个查询，如果在其中一个日期范围中找到数据，则无论后续日期范围中是否没有数据，它都会返回数据。

数据被汇总到一个表格中，其中相同的数据可能出现在多个日期。

例如：

```
dealerName 1    2012-01-01
dealerName 1    2012-02-31
dealerName 2    2012-03-01
dealerName 1    2012-06-01
dealerName 1    2012-06-31 
```

所以如果我想查询 2012-01-01 和 2012-02-31 AND 2012-06-01 AND 2012-06-31 之间的数据。我意识到 1 个日期范围可以包含所有这些范围，但用户可能希望排除这两个日期范围之间的数据。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T07:01:13.883

面试日期不能介于 x 和 y 之间，并且仍然介于 z 和 zz 之间。你错过了`OR`- 另外，看看`BETWEEN`运营商

```
SELECT DealerName
FROM table
WHERE InterviewDate BETWEEN '2012-01-01' AND '2012-01-31'
    OR InterviewDate BETWEEN '2011-01-01' AND '2011-01-31'
    OR InterviewDate BETWEEN '2010-01-01' AND '2010-01-31' 
```

编辑，对不起，错过了表名:)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T07:00:16.693

您需要使用`OR`而不是`AND`

```
WHERE   (InterviewDate BETWEEN '2012-01-01' AND '2012-01-31')
        OR
        (InterviewDate BETWEEN '2011-01-01' AND '2011-01-31')
        OR
        (InterviewDate BETWEEN '2010-01-01' AND '2010-01-31') 
```

**更新 1**

我觉得你有`Relational Division`问题

```
SELECT name
FROM   table1
WHERE  DATE BETWEEN '2012-01-01' AND '2012-02-31'
       OR
       DATE BETWEEN '2012-06-01' AND '2012-06-31'
GROUP BY name
HAVING COUNT(*) = 2 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/d737c/1)

*   [关系划分的SQL](http://www.simple-talk.com/sql/t-sql-programming/divided-we-stand-the-sql-of-relational-division/)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-11T07:00:44.933

为什么不使用 OR 而不是 AND ？

```
SELECT DealerName WHERE ( InterviewDate >= "2012/01/01 " AND InterviewDate <= " 2012/03/31" )  OR ( InterviewDate >= "2012/07/01 " AND InterviewDate <= " 2012/09/31" ) 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-11T07:00:45.553

使用`OR`代替`AND`

```
SELECT DealerName FROM tbl
WHERE InterviewDate >= '2012/01/01' AND InterviewDate <= '2012/03/31'
 OR InterviewDate >= '2012/07/01' AND InterviewDate <= '2012/09/31' 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-11T07:13:11.630

这是我的收获:) 因为您正在检查2010 年、2011 年、2012 年`month`的 1 月。我们可以使用和功能。`year`[`MONTH`](http://www.w3resource.com/mysql/date-and-time-functions/mysql-month-function.php)[`YEAR`](http://www.w3resource.com/mysql/date-and-time-functions/mysql-year-function.php)

```
SELECT DealerName
FROM yourtable
WHERE Month(InterviewDate) = 1
AND Year(InterviewDate) IN (2010, 2011, 2012)
;

SELECT DealerName
FROM yourtable
WHERE Month(InterviewDate) IN (1, 2) // if there are particular months
AND Year(InterviewDate) IN (2010, 2011, 2012)
; 
```

# jquery - 如何使用 jQuery 实现多选输入？

> ID：14807315
> 
> 赞同：3
> 
> 时间：2013-02-11T06:58:29.270
> 
> 标签：jquery, multi-select

以下是一些示例：

![谷歌加](../Images/149a9fdcc5893582824f40ddb12b79d7.png) ![谷歌加](../Images/cd926b0ba4bbd61cc276e17588683d73.png)（来自谷歌加） ![so-标签](../Images/e67dfa88fdc353463bf8955e30e29533.png)（来自stackoverflow）

如何使用 jQuery 实现多选输入？（以上任何一个都可以）。有没有 jQuery 插件？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-11T07:00:10.247

您可以使用以下库

1.  Jquery 选择。 [选择](http://harvesthq.github.com/chosen/)
2.  令牌输入[令牌输入](https://github.com/loopj/jquery-tokeninput)
3.  [Jquery Auto 建议](https://github.com/wuyuntao/jquery-autosuggest/)
4.  jQuery自动完成[自动完成](http://bassistance.de/jquery-plugins/jquery-plugin-autocomplete/)
5.  facebook 多选 facebook 多[选](http://www.emposha.com/javascript/jquerymultiselect.html)
6.  [MagicSuggest 组合](http://nicolasbize.github.com/magicsuggest)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:03:08.427

我觉得你正在寻找完全一样的东西

[FCBK完成](http://www.emposha.com/javascript/jquerymultiselect.html)

[在此处查看演示](http://www.emposha.com/demo/fcbkcomplete/)

# iphone - ALAssetsLibrary 自定义位置服务权限警报 iPhone

> ID：14807319
> 
> 赞同：0
> 
> 时间：2013-02-11T06:58:54.497
> 
> 标签：iphone, alassetslibrary

我`ALAssetsLibrary`用于访问我的应用程序中的照片，当应用程序首次尝试访问照片时，它会请求位置服务的权限。我想为该警报提供自定义消息，例如 App 想访问您的照片而不是位置服务。

我在谷歌上搜索了很多，也搜索了堆栈溢出，在用户拒绝位置服务权限但没有自定义消息权限后，我找到了解决方案，我在 InstaCollage、Pic Jointer 等许多应用程序中都看到了这一点。

![Pic Jointer 警报图像](../Images/3ef7f1a40c23924cbd85adde4f051a23.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:46:48.460

你不能（正如你在搜索中看到的那样）。这是一条系统消息，您无法覆盖或避免它。换句话说：没有就是没有。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T22:52:10.390

从 iOS 6 开始，您可以将自定义文本添加到警报对话框（以指定您正在对数据执行的操作等）。要设置此描述文本，请添加

```
NSPhotoLibraryUsageDescription 
```

键 Info.plist 并将值设置为要显示的文本。

来自开发者文档：

*NSPhotoLibraryUsageDescription (String - iOS) 描述了应用访问用户照片库的原因。当系统提示用户允许访问时，此字符串将显示为对话框的一部分。iOS 6.0 及更高版本支持此密钥。*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T06:06:19.693

你可以做一件事..

只需在您的应用程序加载时检查您的应用程序位置服务设置并显示您的自定义消息

```
#import <CoreLocation/CoreLocation.h>

-(void)showAlertForLocationServiceEnabled{

    BOOL locationAllowed = [CLLocationManager locationServicesEnabled];

    if (locationAllowed == NO) {

        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Location Service Disabled!!!" 
                                                        message:@"Location Services is required for this application. Please enable Location Services" 
                                                       delegate:nil 
                                              cancelButtonTitle:@"OK" 
                                              otherButtonTitles:nil];
        [alert show];

    } 
} 
```

或者

```
-(void)checkAndNotifyLocationServiceAvailable{

    if (! ([CLLocationManager locationServicesEnabled]) || ( [CLLocationManager authorizationStatus] == kCLAuthorizationStatusDenied)){

        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Location Service Disabled!!!" message:@"Location Services is required for this application. Please enable Location Services" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil]; 
        [alert show];

    }

} 
```

# javascript - 带有绑定事件的 Jquery 点击事件

> ID：14807320
> 
> 赞同：0
> 
> 时间：2013-02-11T06:58:54.787
> 
> 标签：javascript, jquery

大家好，我在使用事件时遇到问题。我有一个复选框列表，我有一个选中所有框的主复选框。当我 clickEvent 我的一些复选框列表项时，它应该将 data-id attr 添加到“选定的 obj”。因此，在我的情况下，当我按下主复选框来检查所有其他复选框时，一切正常（它只是单击所有其他元素）。但是当我这样做时，它会清空我的数组。我的意思是如果我取消选中它将是它应该被选中的方式（当我取消选中它时它会在我检查它清空时填充）。

```
......    
var selected = {};
        var reload = function(){
            selected = {};
            $('.checkbox_all').unbind('click');
            $('.table_checkbox').unbind('click');
            $('.checkbox_all').bind('click', checkAll);
            $('.table_checkbox').bind('click', checkMe);
        }
        var checkMe = function(e){
            var checkbox = $(e.target);
            var id = checkbox.attr('data-id');
            //console.log(id);
            if(checkbox.attr('checked')){
                selected[id] = id;
            }else{
                if(selected[id]) delete selected[id];
            }
            console.log(selected);
        }
        var checkAll = function(e){
            if($(e.target).attr('checked')){
                $('.table_checkbox').each(function(){
                    if($(this).attr('checked') === false){
                        $(this).click();
                    }
                });
            }else{
                $('.table_checkbox').each(function(){
                    if($(this).attr('checked') === true){
                        $(this).click();
                    }
                });
            }
            //console.log(selected);
        }
....... 
```

HTML：

```
 <tr><th class="table-header-check"><input type="checkbox" class="checkbox_all"/></th></tr>
    <tr class=""><td><input type="checkbox" data-id="5" class="table_checkbox"></td></tr>
    <tr class="alternate-row"><td><input type="checkbox" data-id="6" class="table_checkbox"</td></tr>
    <tr class="alternate-row"><td><input type="checkbox" data-id="8" 

....ETC\ 
```

我的问题是，当我单击 .checkbox_all 时，它应该单击所有 .table_checkbox（即 r cheched 或 uncheched）......它只是像主复选框一样单击所有复选框......它工作正常，但我有一个事件所有其他复选框如果我单击 em，我会在取消单击 em 时将一些数据添加到数组中，它会从数组中删除数据....所以当我单独单击复选框时，它们会正确地将数据添加/删除到数组中...但是当我单击主复选框时...它点击右边的复选框，但数据数组在全部选中时为空，当全部未选中时为满......它必须是相反的方式

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:39:01.783

您能否改为寻求更清洁的解决方案，并即时生成选择？请参阅此处的示例（以及其他所有人的 JSFiddle）：http: [//jsfiddle.net/turiyag/3AZ9C/](http://jsfiddle.net/turiyag/3AZ9C/)

```
function selected() {
    var ret = {};
    $.each($(".table_checkbox"),function(index,checkbox) {
        if($(checkbox).prop("checked")) {
            ret[$(checkbox).prop("id")] = true;
        }
    });
    return ret;
} 
```

** 编辑： **

如果您希望有一个添加和删除的数组，那么这个 JSFiddle ( [http://jsfiddle.net/turiyag/pubGb/](http://jsfiddle.net/turiyag/pubGb/) ) 就可以了。请注意，我使用 prop() 而不是 attr()，在大多数情况下，尤其是这一次，你应该使用 prop() 来获取你想要的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T10:04:02.963

要使用您自己的代码，您需要了解事件的顺序。当您以编程方式在复选框上调用 click() 时，javascript（用于子项的 checkMe()）在每个子复选框的状态发生更改（例如，添加属性“已选中”）之前执行。正是由于这个原因，checkMe() 函数以相反的顺序在所选数组中添加和删除 id。您可以通过在 checkMe 函数中添加以下调试行来确认这一点：

```
console.log('Checked state of checkbox id:' + id + ' is: ' + checkbox.prop('checked')); 
```

案例1：未选中时点击checkAll；它为每个子复选框调用 checkMe()，但发现“已检查”属性未定义。所以它执行删除代码。执行 checkMe 后，复选框上添加了“已检查”属性。

案例2：选中时点击checkAll；checkMe() 函数找到之前添加的“checked”属性并填充数组。稍后可能会触发一个事件以删除“已检查”属性。

我更改了以下几行以快速测试它并且似乎正在工作：

在更改事件上绑定 checkMe 而不是在重新加载功能中单击：

```
$('.table_checkbox').bind('change', checkMe); 
```

检查 .checkbox_all 时，更改 checkAll 函数中未选中子项的条件：

```
if($(this).prop('checked') === false) {/*call child click*/}
//Use prop instead of attr because it takes care of 'undefined' cases as well. If you want to keep using attr because you're on an older version of jquery then add something like:
typeof $(this).attr('checked') == 'undefined' 
```

以及未选中 .checkbox_all 时的条件：

```
if($(this).prop('checked') === true) {/*call child click*/} 
```

希望这可以帮助。这是一个可以玩的[jsbin ..](http://jsbin.com/upacil/1/edit)

# c# - 如何处理大的xml文件

> ID：14807323
> 
> 赞同：1
> 
> 时间：2013-02-11T06:59:13.123
> 
> 标签：c#, .net, xml, filestream

```
public XmlNodeList GetNodes(string _logFilePath, string _strXPathQuery)
        {    
                    objXmlDoc = new XmlDocument();
                    objXmlDoc.Load(_logFilePath);
                    XmlNodeList objxmlNodeList = objXmlDoc.SelectNodes(_strXPathQuery);
                    return objxmlNodeList;
        }

<?xml version="1.0" encoding="UTF-8" standalone="true"?>
<AppXmlLogWritter>
<LogData>
<LogID>999992013021110381000001</LogID>
<LogDateTime>20130211103810</LogDateTime>
<LogType>Message</LogType>
<LogFlag>Flag</LogFlag>
<LogApplication>Application</LogApplication>
<LogModule>Module</LogModule>
<LogLocation>Location</LogLocation>
<LogText>Text</LogText>
<LogStackTrace>Stacktrace</LogStackTrace>
</LogData>
</AppXmlLogWritter> 
```

这里的 Xml 文件大小为 1000MB，当我将它加载到 xmlDocument 对象中时，它会给我一个 OutOf memory 异常。因为 XMLDocument 将节点存储到内存中。我使用 Xpath 查询通过 xml 文件过滤节点。然后绑定到 listview 以显示节点。我阅读了有关如何处理大型 XML 文件的文章，他们告诉我使用 XpathQuery。但问题并没有解决。 **文件流呢？或任何其他加载大型 xml 文件的想法？*****

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T08:16:13.430

您可以编写一个方法，该方法将使用 a[`XmlReader`](http://msdn.microsoft.com/en-us/library/system.xml.xmlreader.aspx)分块读取大型 XML 文件。

首先设计一个保存数据的模型：

```
public class LogData
{
    public string LogID { get; set; }
    public string LogDateTime { get; set; }
    public string LogType { get; set; }
    ...
} 
```

然后是一个解析 XML 文件的方法：

```
public static IEnumerable<LogData> GetLogData(XmlReader reader)
{
    LogData logData = null;
    while (reader.Read())
    {
        if (reader.IsStartElement("LogData"))
        {
            logData = new LogData();
        }
        if (reader.Name == "LogData" && reader.NodeType == XmlNodeType.EndElement)
        {
            yield return logData;
        }
        if (reader.Name == "LogID")
        {
            logData.LogID = reader.ReadElementContentAsString();
        }
        else if (reader.Name == "LogDateTime")
        {
            logData.LogDateTime = reader.ReadElementContentAsString();
        }
        else if (reader.Name == "LogType")
        {
            logData.LogType = reader.ReadElementContentAsString();
        }
        ...
    }
} 
```

现在您可以只加载您想要显示的元素。例如：

```
using (var reader = XmlReader.Create("someHugeFile.xml"))
{
    IEnumerable<LogData> data = GetLogData(reader).Skip(10).Take(5);
    // Go ahead and bind the data to your UI
} 
```

您可能想知道的另一件事是，为了有效地实现分页，您的 XML 文件中总共有多少条记录。这可以用另一种方法来完成：

```
public static int GetTotalLogEntries(XmlReader reader)
{
    var count = 0;
    while (reader.Read())
    {
        if (reader.IsStartElement("LogData"))
        {
            count++;
        }
    }
    return count;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T08:22:20.270

我建议您在将它们发送到流之前压缩 xml 消息，然后在另一端收到它后解压缩它。在 WCF 中，您可以这样做[http://www.codeproject.com/Articles/165844/WCF-Client-Server-Application-with-Custom-Authenti#Compression](http://www.codeproject.com/Articles/165844/WCF-Client-Server-Application-with-Custom-Authenti#Compression)

# multithreading - Windows Phone C#，创建 BitmapImage 时出现 UnauthorizedAccessException

> ID：14807331
> 
> 赞同：1
> 
> 时间：2013-02-11T06:59:56.240
> 
> 标签：multithreading, asynchronous, windows-phone, bitmapimage, unauthorizedaccessexcepti

我正在尝试使用这样的异步调用从 Internet 下载图像：

```
 private void DoGetAlbumart(object sender, DoWorkEventArgs e)
    {
        string req = (string)e.Argument;
        WebClient wc = new WebClient();
        wc.OpenReadCompleted += new OpenReadCompletedEventHandler(ReadWebRequestCallback);
        wc.OpenReadAsync(new Uri(req)); 

    }

    void ReadWebRequestCallback( object sender, OpenReadCompletedEventArgs e)
    {
        if (e.Error == null && !e.Cancelled)  
        {  
            try  
            {  
                BitmapImage image = new BitmapImage();  
                image.SetSource(e.Result);  
                SecondTile.Source = image;  
            }  
            catch (Exception ex)  
            {  
            }  
        }  
        else  
        {  
        }  
    } 
```

似乎当断点在 BitmapImage image = new BitmapImage() 处命中时，我得到了以下异常：

ex = {System.UnauthorizedAccessException：无效的跨线程访问。在 MS.Internal.XcpImports.CheckThread() 在 System.Windows.DependencyObject..ctor(UInt32 nativeTypeIndex, IntPtr constructDO) 在 System.Windows.Media.Imaging.BitmapImage..ctor()

我还能尝试什么来摆脱这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-30T06:46:34.173

回调方法在后台线程中运行，而不是在 UI 线程中。不幸的是，`BitmapImage`s 只能在 UI 线程中实例化。如果您需要从回调中访问 UI 线程，请尝试以下操作：

```
Deployment.Current.Dispatcher.BeginInvoke(() =>
   {
      BitmapImage image = new BitmapImage();
      image.SetSource(e.Result);  
      SecondTile.Source = image;  
   }); 
```

# jquery - 如何在适当的字符集中获得 ajax 响应？

> ID：14807340
> 
> 赞同：2
> 
> 时间：2013-02-11T07:00:22.827
> 
> 标签：jquery, ajax, encoding, character-encoding

我必须编写一个获取网页然后将其显示在 div 中的 jquery 函数。

```
 $.ajax({
                   beforeSend : function(xhr) {
                       xhr.overrideMimeType("text/html; charset="+document.characterSet);
                       xhr.setRequestHeader("Content-type","text/html; charset="+document.characterSet);
                   },
                   CcntentType:"text/html; charset="+document.characterSet,
                   type: "GET",
                   url: destination,
                   statusCode: {
                    200: function( response){
                          callback(response);
                    }
                   },
                   error: function() {
                    // default behavior                           

                   }
                 }); 
```

但是当我在 html 中插入接收到的数据时，我得到了一些有趣的符号 - 矩形和？。

我在其中执行 ajax 请求的页面具有元标记。我无权访问我正在执行 ajax 请求的页面，所以我无法更改它。

字符集是 windows-1251 并且只发生在 IE10、firefox 和 chrome 中，一切正常。

如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:15:11.343

我会尝试的第一件事是将您自己页面的字符集更改为与您正在调用的页面相同。

# graphics - 如何对犹他茶壶进行空间分区？

> ID：14807341
> 
> 赞同：3
> 
> 时间：2013-02-11T07:00:35.800
> 
> 标签：graphics, 3d, postscript, space-partitioning

在处理了[将 Bezier 补丁转换为三角形](https://stackoverflow.com/questions/14558814/how-do-bezier-patches-work-in-the-utah-teapot)之后，我需要进行二进制空间分区，以便使用 Painter 算法绘制投影的三角形。

我已经实现了[来自 Wikipedia 的算法](http://en.wikipedia.org/wiki/Binary_space_partition#Generation)，对数学有很大[帮助](https://math.stackexchange.com/a/297905/16936)。

但它正在制作一棵*查理布朗*树！也就是说，大多数节点都有一个完全空的分支。整个策略都是错误的。由于茶壶基本上是球形的，因此整个形状仅位于任何特定组件三角形的一个“边”上。

所以我想我需要像苹果核一样排列的分区平面：所有平面都通过 y 轴的线。但我有点*偏离书本*，你知道吗？**分割茶壶的最佳方法是什么？**

这是我的 bsp-tree 生成器。它使用链接问题中发布的其他功能。

编辑：额外的杂耍以避免 dictstackoverflow。[此处](http://code.google.com/p/xpost/downloads/detail?name=tea0.ps)提供完整程序（需要[mat.ps](http://web.archive.org/web/20160404161504/https://code.google.com/p/xpost/downloads/detail?name=mat.ps&can=2&q=)和[teapot](http://web.archive.org/web/20160404161504/https://code.google.com/p/xpost/downloads/detail?name=teapot&can=2&q=)）。数值输出显示了正在构建的树节点的深度。

```
% helper functions to insert and remove triangles in lists
/unshift { % [ e1 .. eN ] e0  .  [ e0 e1 .. eN ]
    exch aload length 1 add array astore
} def
/shift { % [ e0 e1 .. eN ]  .  [ e1 .. eN ] e0
    aload length 1 sub array astore exch
} def

/makebsp { % [ triangles ]  .  bsptree
    count =
%5 dict  %This is the tree node data structure
<</P[]/PM[]/plane[]/front[]/behind[]/F<<>>/B<<>>>>
begin

    dup length 1 le{ % If 0 or 1 triangles
        dup length 0 eq { % If 0 triangles
            pop           %    discard
        }{                % If 1 triangle
            aload pop /P exch def  % put triangle in tree node
        }ifelse
    }{ % length>1

    shift /P exch def  % P: Partitioning Polygon (triangle)
    P transpose aload pop
    [1 1 1] 4 array astore % make column vectors of homogeneous coords
    /PM exch def

    [ % Compute equation of the plane defined by P
      PM 0 3 getinterval det
      [ PM 0 get PM 2 get PM 3 get ] det
      [ PM 0 get PM 1 get PM 3 get ] det
      PM 1 3 getinterval det 3 mul
    ] /plane exch def

    % iterate through remaining triangles, testing against plane, adding to lists
    /front [] def
    /behind [] def
    { %forall  [P4 P5 P6] = [[x4 y4 z4][x5 y5 z5][x6 y6 z6]]
        /T exch def
        T transpose % [[x4 x5 x6][y4 y5 y6][z4 z5 z6]]
        {aload pop add add} forall % (x4+x5+x6) (y4+y5+y6) (z4+z5+z6)

        plane 2 get mul 3 1 roll % z|C| (x) (y)
        plane 1 get mul 3 1 roll % y|B| z|C| (x)
        plane 0 get mul          % y|B| z|C| x|A|
        plane 3 get add add add  % Ax+By+Cz+D

        0 le { /front front
        }{ /behind behind
        } ifelse
        T unshift def
    } forall

    %front == ()= behind == flush (%lineedit)(r)file pop

    % recursively build F and B nodes from front and behind lists
    %/F front makebsp def
    front currentdict end exch
        makebsp
    exch begin /F exch def
    %/B behind makebsp def
    behind currentdict end exch
        makebsp
    exch begin /B exch def
    /front [] def
    /behind [] def

    } ifelse
currentdict end
} def 
```

输出：
![茶壶 3x3split +bsp-三角形](../Images/6babd92a63f5027978cdd33735064eb5.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:50:21.487

BSP 是为类似 Quake 的游戏中的关卡等几何图形而发明的，它可能难以用于某些特定的几何图形集。BSP 使用现有的三角形之一来分割你的关卡，所以想象一下当你想在球体上使用它时它会如何表现......

对于茶壶，您可以使用 OCTree 获得更好的结果，它不需要沿现有三角形分割您的几何图形。但我不确定它与 Painter 算法的效果如何。

如果你真的需要在这里使用 BSP 树，那么你应该仔细选择你的三角形。我不理解您的所有代码，但我在这里看不到这部分。只需遍历当前树分支中的所有三角形，并为每个三角形计算它前面和后面的三角形数量。具有相似数量的前三角形和后三角形通常是用作分割平面的最佳平面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T08:02:46.463

我并没有完全做一个八叉树，但我修改了 bsp-tree 构建器以使用一个明确的平面列表，我用轴对齐的平面填充了这些平面，切割空间 -4 < x,y,z < 4。

```
/planelist [
    0 .2 4 { /x exch def
        [ 1 0 0 x ]
        [ 1 0 0 x neg ]
        [ 0 1 0 x ]
        [ 0 1 0 x neg ]
        [ 0 0 1 x ]
        [ 0 0 1 x neg ]
    } for
] def 
```

![它是绿色的](../Images/3bdb851fb7e1daa749f9e8180f70ae71.png)

[此处](http://web.archive.org/web/20160404161504/https://code.google.com/p/xpost/downloads/detail?name=tea2.ps&can=2&q=)提供 Postscript 程序（需要[mat.ps](http://web.archive.org/web/20160404161504/https://code.google.com/p/xpost/downloads/detail?name=mat.ps&can=2&q=)）。

较浅的绿色工件是在构建 bsp 期间显示的“预览”的结果。构建完成后，后续页面（图像）会快速绘制，并且没有伪影，因为相机围绕茶壶旋转。

主体与喷口和把手（未从这个角度显示）的连接仍然需要工作。

随着 bsp 的表现更好，背面剔除并不是绝对必要的。但它使预览更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-22T20:36:05.420

改进此图像的 BSP 的另一种方法是使用分层分解。茶壶不仅仅是一堆贝塞尔曲面，它有一些描述主体的表面，还有一些描述把手、壶嘴、盖子（底部？）的表面。

所以树的前几层应该是顶层部分。把手是在身体前面还是后面？喷口在身体前面吗？这些问题的答案将是画家算法的有用指南。

# asp.net-mvc - mvc3中用户位置的html5地理位置

> ID：14807345
> 
> 赞同：-1
> 
> 时间：2013-02-11T07:00:51.810
> 
> 标签：asp.net-mvc, html, geolocation

我想使用 html5 地理位置获取用户位置信息，如城市、地区等，我尝试了下面的文章，但是我得到了纬度和经度，我想获取城市和地区信息， [http://www.dotnetcurry.com /ShowArticle.aspx?ID=782](http://www.dotnetcurry.com/ShowArticle.aspx?ID=782)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:11:44.603

当您获得用户的位置后，您需要进行反向地理编码以获取有关位置的信息，例如城市等。

[查看Google Maps](https://developers.google.com/maps/documentation/geocoding/#ReverseGeocoding)的反向地理编码 API 。

```
navigator.geolocation.getCurrentPosition(function(pos){
    var latlng = new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude);
    geocoder.geocode({'latLng': latlng}, function(results, status) {
        console.log(results);
        // Analyze results and find the info you need.
    });
}); 
```

查看[如何在不使用 Google 的情况下反向地理编码](https://stackoverflow.com/questions/3513134/how-to-reverse-geocode-without-google)，了解有关不使用 Google 地图的地理编码的信息。

# android - 在哪里保存 Android 应用程序的可编辑配置文件？

> ID：14807346
> 
> 赞同：3
> 
> 时间：2013-02-11T07:00:52.140
> 
> 标签：android, app-config

我想要一个类似于 .net 中的 config.xml 的配置文件，以便我可以从设备手动编辑它。那将有一些可以修改的数据。我想出的一种方法是以xml形式将文件保存在sdcard中并阅读它。这种方法的问题是在我的 android 应用程序中从 sdcard 读取 xml 是否会降低性能？

有没有其他方法可以存储以后可以更改的配置文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:08:25.303

您可以考虑使用[`SharedPreferences`](http://developer.android.com/reference/android/content/SharedPreferences.html). 不确定 .net 中 config.xml 的目的是什么，但如果保存一些可以修改的数据是您正在寻找的，[`SharedPreferences`](http://developer.android.com/reference/android/content/SharedPreferences.html)听起来是一个不错的解决方案。

当然，如上所述，不知道 config.xml 的用途，我正在尝试这个建议。如果这不是您要找的，请告诉我。我将在反对票弹幕开始之前删除答案。;-)

如果这符合要求，这里有一些教程可以帮助您入门。

1.  [http://android-er.blogspot.in/2011/01/example-of-using-sharedpreferencesedito.html](http://android-er.blogspot.in/2011/01/example-of-using-sharedpreferencesedito.html)
2.  [http://saigeethamn.blogspot.in/2009/10/shared-preferences-android-developer.html](http://saigeethamn.blogspot.in/2009/10/shared-preferences-android-developer.html)
3.  [http://www.androidhive.info/2012/08/android-session-management-using-shared-preferences/](http://www.androidhive.info/2012/08/android-session-management-using-shared-preferences/)
4.  [http://www.mybringback.com/tutorial-series/12260/android-sharedpreferences-example/](http://www.mybringback.com/tutorial-series/12260/android-sharedpreferences-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T11:00:43.397

如果您的配置文件中有很多条目，您可以决定创建一个带有单个表的简单数据库 sqlite，例如：

```
ID  CONFIG_KEY  CONFIG_VALUE
1      var1          yes
2      var2           30 
```

读取/更新/添加变量到您的数据库。这比使用共享首选项更高效、更快速。但前提是您要存储大量变量。

将 config.xml 中的每个元素想象成一​​个带有值的变量。您可以轻松地从自定义数据库中存储和检索它们。

# r - 使用 R 中的矩阵进行线性规划

> ID：14807348
> 
> 赞同：0
> 
> 时间：2013-02-11T07:01:04.837
> 
> 标签：r, matrix

我需要在 R 中求解一个线性程序，其中变量是矩阵。

更具体地说，我的优化功能看起来像这样。

最大 X(A+B)Y - x - y,

其中 X,Y,A,B 是矩阵，x,y 是标量。求解 X,Y,x,y

像任何线性程序一样受到一堆约束

有没有办法在 R 中解决这个问题？

我检查了 R 中的 linprog 和 limsolve 包。它们解决了标量的线性程序。

有没有办法对 R 中的矩阵做同样的事情。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:51:36.010

谷歌搜索`R linear programming matrices`产生了许多有趣的链接，其中以下可能很有趣：

*   用于引导包[的线性规划问题的单纯形法。](http://astrostatistics.psu.edu/su07/R/html/boot/html/simplex.html)

# .htaccess - 通过 .htaccess 在浏览器中打开一个 .ppt 和 .Key 文件

> ID：14807352
> 
> 赞同：0
> 
> 时间：2013-02-11T07:01:16.577
> 
> 标签：.htaccess

我想`.ppt`在浏览器中打开文件而不是在单击链接时下载文件，至于 pdf 它只需添加文件名就可以工作，`.htaccess`所以要编写什么规则来打开`.ppt`文件以及`.key`在浏览器中打开文件而不是下载该文件。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:04:19.770

你不能真的让服务器决定，客户端的文件应该做什么。它更多是浏览器的属性。

# c# - 提高 DrawingContext 性能渲染几何（多边形和折线）

> ID：14807359
> 
> 赞同：5
> 
> 时间：2013-02-11T07:02:08.470
> 
> 标签：c#, wpf, performance, drawingcontext

这是我的第一个问题，但我是一个很长时间的潜伏者。我将把它分成两部分，一部分解释我在做什么以及为什么我认为这是要走的路，第二部分是我自己无法解决的实际问题。

**我在做什么？** 我目前正在开发一个用于渲染要实时显示的二维特征的框架。您可以在浏览器中考虑像 Google Maps 这样的应用程序，但该框架旨在呈现各种地理数据（不仅仅是轴对齐的栅格数据，如那些 Google Tiles）。

该框架将集成到我们（公司的）最新产品中，该产品是用于台式机和笔记本电脑的 WPF 应用程序。

*因此，我选择 WPF仅*用于实际渲染几何图形；可见性和遮挡剔除以及输入处理（鼠标拾取）、移动相机等都是我自己完成的。

作为一个实时应用程序，它至少需要达到 30 FPS。该框架在渲染图像时表现良好：我可以毫无问题地每帧绘制数千张位图，但事实证明多面体数据是一个主要问题。

**我正在使用 WPF 渲染大量折线和多边形数据**的实际问题，特别是使用 DrawingContext 和 StreamGeometry。**到目前为止，我的理解是，如果我需要性能，这是要走的路。但是，我无法达到预期的结果。**

 **这就是我用实际数据填充 StreamGeometry 的方式：

```
using (StreamGeometryContext ctx = Geometry.Open())
{
        foreach (var segment in segments)
    {
        var first = ToWpf(segment[0]);
        ctx.BeginFigure(first, false, false);

        // Skip the first point, obviously
        List<Point> points = segment.Skip(1).Select(ToWpf).ToList();
        ctx.PolyLineTo(points, true, false);
    }
}
    Geometry.Freeze(); 
```

这就是我绘制几何图形的方式：

```
_dc.PushTransform(_mercatorToView);
_dc.DrawGeometry(null, _pen, polyline);
_dc.Pop(); 
```

作为测试，我将 OpenStreetMap 中的 ESRI 形状加载到我的应用程序中以测试其性能，但我一点也不满意：我的测试数据包含约 3500 条线段，总共约 2 万条线。

将每个段映射到它自己的 StreamGeometry 表现非常糟糕，但我已经预料到了：渲染大约需要 14 秒。

然后我尝试使用多个数字将更多段打包到同一个 StreamGeometry 中：80 StreamGeometry，渲染大约需要 50 毫秒。

但是，我无法得到比这更好的结果。将行数增加到 100k 左右会使我的应用程序几乎无法使用：渲染时间超过 100 毫秒。 除了在渲染矢量数据时**冻结几何体和笔，我还能做什么？**

我现在宁愿自己使用 DirectX，也不愿依赖 WPF 来做这件事，因为某些事情似乎出了大问题。

*编辑*

为了进一步澄清我在做什么：该应用程序实时可视化地理数据，*非常*类似于浏览器中的谷歌地图等应用程序：但是它应该可视化更多的数据。您可能知道，Google Maps 允许缩放和平移，这需要 > 25 FPS 才能显示为流畅的动画；少了什么都感觉不流畅。

* 抱歉，我不应该在实际产品发布之前上传此视频。然而，您可能会想到类似 Google Maps 的东西，但是有大量的矢量数据（多边形和折线）。*

有两种解决方案，其中一种经常被提及：

**在位图中缓存重绘图**

实现似乎有点简单，但是我发现这种方法存在一些问题：为了正确实现平移，我需要**避免**在每帧绘制繁重的东西，因此我可以选择在平移时不更新缓存的位图相机，或者创建一个覆盖比视口更大的区域的位图，所以我只需要每隔一段时间更新一次缓存的位图。

第二个*“问题”*与缩放有关。然而，它更像是一个视觉伪影而不是一个真正的问题：由于缓存的位图无法以 30 FPS 正确更新，因此在缩放时我也需要避免这种情况。我可以在缩放时很好地缩放位图，仅在缩放结束时创建一个新的位图，但是折线的宽度**不会**具有恒定的厚度，尽管它们应该。

MapInfo 似乎确实使用了这种方法，但是我不能说我太喜欢它了。不过，它似乎是最容易实现的。

**将几何图形拆分为不同的绘图视觉效果**

这种方法似乎以不同的方式处理问题。我不确定这种方法是否有效：这取决于我是否正确理解 WPF 在该领域应该如何工作。与其对所有需要绘制的东西使用一个 DrawingVisual，我应该使用几个，这样就不是每个都需要 RenderOpened()。我可以简单地更改参数，例如上面示例中的矩阵，以反映相机平移和移动。但是我也看到了这种方法的一些问题：平移相机将不可避免地将新的几何图形带入视口，因此我需要执行与第一种方法类似的操作，实际渲染当前不可见但可能变得可见的东西由于相机移位；

**与这两种方法相关的** 问题 这两种方法都无法解决的一个大问题是，即使*整体*帧速率稳定，在更新缓存位图时偶尔也会出现中断（好吧，如果缓存位图仅当相机不再平移时更新）或调用 RenderOpen 绘制可见的几何块，似乎是不可避免的。

**到目前为止我的想法**

由于这是我见过的解决这个问题的仅有的两个解决方案（我已经做了一年多的谷歌搜索），我想到目前为止唯一的解决方案是接受即使是最强大的 GPU 上的帧率提升（它应该能够每秒光栅化数亿个图元），视口的延迟更新（在位图仅在视口不再移动时更新的情况下）或根本不使用 WPF 并求助于 DirectX直接地。

我很高兴能得到帮助，但我不能说我对 WPF 的渲染性能印象深刻。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:06:05.337

要提高 2D WPF 渲染性能，您可以查看[RenderTargetBitmap](http://msdn.microsoft.com/en-us/library/system.windows.media.imaging.rendertargetbitmap.aspx)（对于 WPF >= 3.5）或[BitmapCache](http://msdn.microsoft.com/en-us/library/system.windows.media.bitmapcache%28v=vs.100%29.aspx)类（对于 WPF >= 4）。

这些类用于`Cached Composition`

来自[MSDN](http://msdn.microsoft.com/en-us/library/ms742562.aspx)：

> 通过使用新的 BitmapCache 和 BitmapCacheBrush 类，您可以将视觉树的复杂部分缓存为位图，并大大缩短渲染时间。位图对用户输入（例如鼠标单击）保持响应，您可以将其绘制到其他元素上，就像任何画笔一样。**

# android - 如何在 App 中保持 XMPP 连接处于活动状态？

> ID：14807361
> 
> 赞同：3
> 
> 时间：2013-02-11T07:02:23.910
> 
> 标签：android, service, connection, xmpp, keep-alive

我目前正在开发一个使用 asmack lib 连接到 XMPP 服务器的应用程序。该应用程序主要包括发送/接收消息、更改状态等。

目前，XMPP 连接位于应用程序内部，而不是某种后台服务。所以现在我想知道，是使用服务保持连接活动还是在我的应用程序实际运行时保持连接活动更好。

这是考虑到当我的应用程序在后台运行以及用户返回任何具有 XMPP 连接的活动时，我希望始终保持与 XMPP 服务器的连接。我确实喜欢这样做，如果涉及到主要活动（意味着我使用凭据连接的位置）使用相同的凭据重新连接 XMPP 连接。但我面临的问题是，当我在联系人视图中停留一段时间时，如果该活动恢复在连接处获得取消赎回权（即空指针异常），连接将在一段时间后关闭。在这里无法重新连接联系。

因此，在某种程度上，我问是否最好在我的活动被带到前台/启动后立即（重新）连接/登录，或者最好在服务中连接一次并保持此连接处于活动状态？

如果服务创建是更好的方法，如何从片段创建一个以及如何创建 XMPP 连接，我必须使用按钮进行登录和注销。如何在服务中维护这些选项。

提前致谢，

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T07:22:30.063

如果您想一直连接到 XMPP 服务器，这`Service`是您的必经之路。

因此，一旦用户登录，您就可以开始通信`service`并保持其运行，当用户注销时停止通信`service`

您可以显示来自您的通知，该通知`service`将在单击活动时打开活动。

如果您的服务和活动之间有简单的通信（例如传递一些命令），您[`LocalBroadcastManager`](https://stackoverflow.com/questions/8802157/how-to-use-localbroadcastmanager)可以`service binder`使用`activity`

这是支持的服务的示例框架`bind`

```
public class MyService extends Service {
    private final IBinder binder = new ServiceBinder();

   @Override
   public int onStartCommand(Intent intent, int flags, int startId) {
      onHandleIntent(intent);
      return START_STICKY;
   }

   protected void onHandleIntent(Intent intent) {
       // handle intents passed using startService()
   }

   @Override
   public IBinder onBind(Intent intent) {
    return binder;
   }

   public class ServiceBinder extends Binder {
        MyService getService() {
            return MyService.this;
        }
    }
} 
```

# regex - 可可 preg_split 等价物

> ID：14807364
> 
> 赞同：1
> 
> 时间：2013-02-11T07:02:45.610
> 
> 标签：regex, cocoa, preg-split

我使用`preg_split`以下代码根据 PHP 中的正则表达式拆分字符串：

```
$array = preg_split("~(?<!\*),~", $string); 
```

可可中的等价物是什么？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:02:02.510

最终写了我自己的方法使用`NSRegularExpression`

```
+ (NSArray *)preg_split:(NSString *)expression withSubject:(NSString *)subject {

    NSRegularExpression *exp = [NSRegularExpression regularExpressionWithPattern:expression options:0 error:nil];

    NSArray *matches = [exp matchesInString:subject options:0 range:NSMakeRange(0, [subject length])];
    NSMutableArray *results = [[NSMutableArray alloc] init];

    for (NSTextCheckingResult *match in matches) {
        [results addObject:[subject substringWithRange:[match range]]];
    }

    return results;

} 
```

# rvm - 无法在 mac OSX 10.8.2 上安装 rvm

> ID：14807372
> 
> 赞同：1
> 
> 时间：2013-02-11T07:03:15.260
> 
> 标签：rvm

运行“make”时出错，请阅读 /Users/Megha/.rvm/log/ruby-1.9.3-p374/make.log 运行 make 时出错。停止安装。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T15:55:54.960

[在 RVM => https://github.com/wayneeseguin/rvm/pull/1544](https://github.com/wayneeseguin/rvm/pull/1544)中有一种处理依赖项的新实验方法：

```
rvm get branch /features/improved_dependencies
rvm pkg remove
rvm remove 1.9.3
rvm install 1.9.3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-17T18:48:21.270

您需要命令行工具（通过应用商店安装 xcode - 然后打开它以安装命令行工具）。我说的是 1Gb+，所以需要一些时间。

之后，得到brew：

```
ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)" 
```

更新并运行 brew 以安装 gcc：

```
brew update
brew tap homebrew/dupes
brew install apple-gcc42 
```

然后 RVM 和 ruby​​ 1.9.3 应该可以工作：

```
curl -L https://get.rvm.io | bash -s stable --rails
rvm install 1.9.3 
```

# extjs4.1 - 如何在extjs4.1中更改柱形图中的条形颜色

> ID：14807373
> 
> 赞同：1
> 
> 时间：2013-02-11T07:03:25.103
> 
> 标签：extjs4.1

任何人都可以告诉如何改变柱形图中条形的颜色。我尝试过风格但它不起作用

```
style : {
            fill : ['red', 'green'],
            width : 30

        }, 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T09:10:08.940

在自定义示例中对这样的**系列**方法使用**颜色渲染器**功能； **`onReady`**

 **```
 Ext.onReady(function () {
    var chart = Ext.create('Ext.chart.Chart', {
            xtype: 'chart',
            animate: true,
            style: 'background:#fff',
            shadow: false,
            store: store1,
            axes: [{
                type: 'Numeric',
                position: 'bottom',
                fields: ['data1'],
                label: {
                   renderer: Ext.util.Format.numberRenderer('0,0')
                },
                title: 'Number of Hits',
                minimum: 0
            }, {
                type: 'Category',
                position: 'left',
                fields: ['name'],
                title: 'Month of the Year'
            }],
            series: [{
                type: 'bar',
                axis: 'bottom',
                label: {
                    display: 'insideEnd',
                    field: 'data1',
                    renderer: Ext.util.Format.numberRenderer('0'),
                    orientation: 'horizontal',
                    color: '#333',
                    'text-anchor': 'middle',
                    contrast: true
                },
                xField: 'name',
                yField: ['data1'],
                //color renderer
                renderer: function(sprite, record, attr, index, store) {
                    var fieldValue = Math.random() * 20 + 10;
                    var value = (record.get('data1') >> 0) % 5;
                    var color = ['rgb(213, 70, 121)', 
                                 'rgb(44, 153, 201)', 
                                 'rgb(146, 6, 157)', 
                                 'rgb(49, 149, 0)', 
                                 'rgb(249, 153, 0)'][value];
                    return Ext.apply(attr, {
                        fill: color
                    });
                }
            }]
        });

    var win = Ext.create('Ext.Window', {
        width: 800,
        height: 600,
        minHeight: 400,
        minWidth: 550,
        hidden: false,
        maximizable: true,
        title: 'Bar Renderer',
        renderTo: Ext.getBody(),
        layout: 'fit',
        tbar: [{
            text: 'Save Chart',
            handler: function() {
                Ext.MessageBox.confirm('Confirm Download', 'Would you like to download the chart as an image?', function(choice){
                    if(choice == 'yes'){
                        chart.save({
                            type: 'image/png'
                        });
                    }
                });
            }
        }, {
            text: 'Reload Data',
            handler: function() {
                store1.loadData(generateData());
            }
        }],
        items: chart
    });
}); 
```

祝你好运！**

# java - 如何使用 PDFBox 获取 PDF 表单中存在的字段类型

> ID：14807376
> 
> 赞同：1
> 
> 时间：2013-02-11T07:03:28.990
> 
> 标签：java, pdfbox

如何使用 PDFBOX 获取 PDF 表单中的字段类型。我的意思是，如果单选按钮和复选按钮出现在 PDF 表单中，它应该返回单选按钮或复选按钮，但使用 getFieldType() 方法我只能为文本框返回“Txt”，而对于单选/复选框，它返回 - “btn”

```
 PDDocument fdeb = null;

fdeb = PDDocument.load("C:\\Users\\Desktop\\Sample.pdf");
PDAcroForm form = fdeb.getDocumentCatalog().getAcroForm();
List  FieldTy = form.getFields();
        PDField pdfFields;
for (int i = 0; i < FieldTy.size(); i++) 
  { 
  pdfFields = (PDField) FieldTy.get(i); 
  String fieldNameTyope = pdfFields.getFieldType(); 
      System.out.println(fieldNameTyope);
      } 
```

但是我需要区分哪种按钮是单选框还是复选框还是它的按钮有人可以帮助我吗谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:32:38.543

我想这会对你有所帮助

```
 if(pdfFields instanceof PDCheckbox){
            type="CheckBox";
        }else if(pdfFields instanceof PDRadioCollection){
            type="Radio";
        } 
```

# php - fwrite() 不适用于 php 文件

> ID：14807379
> 
> 赞同：0
> 
> 时间：2013-02-11T07:03:42.550
> 
> 标签：php, fwrite

```
$fp = fopen('a.html', 'w');
fwrite($fp, 'Done'); 
```

效果很好但是

```
$fp = fopen('b.php', 'w');
fwrite($fp, 'Done'); 
```

不工作。可能的解决方案是什么？

预先感谢。

**更新：** 1：`echo fwrite($fp, 'Done')`打印 4。没有错误。并且文件保持不变。不适`fwrite()`用于php文件？2：我在本地服务器上执行此操作，并且我拥有所有权限。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:20:54.790

```
$fp = fopen('a.html', 'w');
fwrite($fp, 'Done');
fclose($fp);

$fp = fopen('b.php', 'w');
fwrite($fp, 'Done');
fclose($fp); 
```

使用 fclose($fp);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:07:29.233

检查您的文件权限，也许您没有对此文件的写入权限

# php - 如何覆盖 symfony2 中的注销操作

> ID：14807380
> 
> 赞同：4
> 
> 时间：2013-02-11T07:03:45.927
> 
> 标签：php, symfony

我知道默认情况下可以由 symfony2 安全控制器执行注销操作。当我们像这样给出路径注销时，它工作正常。

但是当注销发生时我需要执行一些操作，例如将一些数据存储到数据库中。那么我该如何实现这件事。

如果有任何想法，请帮助我。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-25T13:35:45.943

您需要在 routing.yml 或注释中为注销操作定义新规则（由您决定）

```
logout_user:
    pattern:  /logoutUser
    defaults: { _controller: YourBundle:YourController:logout } 
```

然后它只为这个动作编写代码，如下所示：

```
public function logoutAction() {
        //do whatever you want here 

        //clear the token, cancel session and redirect
        $this->get('security.context')->setToken(null);
        $this->get('request')->getSession()->invalidate();
        return $this->redirect($this->generateUrl('login'));
    } 
```

还有一种方法可以完成 tesmojones 在这里提出的工作[symfony2 logout](https://stackoverflow.com/questions/12743213/symfony2-logout)

# android - 菜单按钮可打开手机图库并将任何文本文件加载到应用程序

> ID：14807382
> 
> 赞同：1
> 
> 时间：2013-02-11T07:04:10.780
> 
> 标签：android

我正在开发一个应用程序。我创建了一个带有按钮的菜单。我想用那个按钮打开图库并选择任何文本文件并加载它。我该怎么做。帮帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:31:55.160

您应该在您的应用程序中实现文件浏览器概念，该概念应该浏览图库并选择 android 文件并将文件路径返回到您的应用程序。我做过类似的项目，对你有用。我已经制作了浏览 sd 卡并返回您选择的文件路径的文件浏览器库。代码可以在 [github上找到](https://github.com/krishnalalstha/Android-FileBrowser)

# entity-framework - EF v-Next 是否支持一对一的外键关联？

> ID：14807383
> 
> 赞同：2
> 
> 时间：2013-02-11T07:04:19.223
> 
> 标签：entity-framework

我有实体 A 和 B，我想在 A 和 B 之间创建 2 个不同的 1-1 关联。A 应该扮演委托人的角色。像这样：

```
public class A 
{
    public int Id {get; set;}
    public B B1 {get; set;}
    public B B2 {get; set;}
}

public class B
{
    public int Id {get; set;}
} 
```

由于 EF 不支持一对一的外键关联，我无法使用 EF 创建工作模型/数据库。对我来说，这听起来像是一个严重的限制。是否有计划在即将发布的 EF 版本中支持此类关联？

什么是让这个工作的最佳解决方法。我知道创建两个一对二多关联。但是，这会使 B 成为主体，并给我带来级联删除问题。

* * *

感谢您回答我的问题。下面是我想要做的一个示例，即在实体 A 和另一个实体 B 之间创建两个（或多个）1 对 1 关联。这是 EF 可以在 vNext 中支持的东西，或者，为什么会它是个坏主意？

再次感谢，梅林

```
public class A 
{
    public int Id {get; set;}

    public int B1_Id {get; set;}
    public B B1 {get; set;}

    public int B2_Id {get; set;}
    public B B2 {get; set;}
}

public class B
{
    public int Id {get; set;}
}

public class SampleContext : DbContext
{
    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<A>().HasKey(c => c.Id);
        modelBuilder.Entity<B>().HasKey(c => c.Id);

        modelBuilder.Entity<A>().HasRequired(c => c.B1).WihOptional().ForeignKey(x=>x.B1_Id);
        modelBuilder.Entity<A>().HasRequired(c => c.B2).WihOptional().ForeignKey(x=>x.B2_Id);
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T20:40:50.007

如果“v-Next”是实体框架 6，那么不，它显然不支持一对一的外键关联，正如您[在为 EF 6 计划的所有功能的路线图上](http://entityframework.codeplex.com/wikipage?title=Roadmap)看到的那样。

您还可以看到 Unique Constraint 支持不在路线图上，并且[在 UserVoice 上仍标记为“Under Review”](http://data.uservoice.com/forums/72025-entity-framework-feature-suggestions/suggestions/1050579-unique-constraint-i-e-candidate-key-support)。

因为一对一的外键关联基本上是一对多的关联，在外键列上有一个唯一约束，我希望在唯一约束支持可用之前不会实现一对一的 FK 关联. 如果您希望这`A`是您两个关系中的主体，则尤其需要它。目前 EF 不支持主体的键不是主键而是具有唯一约束的某些列的关系。

[在这篇博](http://blogs.msdn.com/b/efdesign/archive/2011/03/09/unique-constraints-in-the-entity-framework.aspx)文中，该功能被描述并提到它被“推迟”，所以让我们期待 EF 7。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T12:29:28.000

也许这是一个术语问题。在 Code first EF 中，EF 不允许您与 Principal 和 Dependent 建立 1:1 的关系，既具有彼此的外键，也不允许具有与 Principal 无关的主键的依赖项。在您的示例中，它看起来像是需要 2 个导航属性的情况。严格来说，这不是 1:1。因为您与同一张表有 2 个关系。您有 2 个 1:1 类型的关系。EF 认为这与 1 一样多。

如果您有真正的 1:1 关系，EF 将希望依赖项具有与主项相同的主键。
您可以在 Principle 和dependent 上定义 Multiple NAVIGATION 属性，从而产生索引。

因此，您可能希望调查多对 1 配置如果您希望主节点在数据库级别有一个可选外键，您需要稍后在迁移期间或使用脚本添加此 FK。但可以说，这最好被视为业务逻辑/规则检查，而不是原则上的可选 FK。所以是的，在准确匹配数据库上可能存在的内容方面存在限制。
但在代码优先的情况下，这实际上是必要的，这是值得怀疑的。

顺便说一句，这里的巧妙技巧是首先在 DB 中准确地建模您想要的代码。那里使用 EF Powertool nuget 从 DB 重新设计工程师 Codefirst。

EG mini DB 仅具有所需的表关系。在解决方案中创建一个新项目。安装实体框架 Powertools。然后在新项目中使用右键单击选项“首先从数据库逆向工程代码”。

如果可以的话，它显示了如何首先在代码中构建它.... :-)

我认为您想要实现的目标...请参阅代码示例（如果我误解了您的意思，请见谅）如果加载了 NUGET，则应执行代码

```
 using System.Data.Entity;
    namespace EF_DEMO
    {
    class FK121
    {
        public static void ENTRYfk121(string[] args)
        {
            var ctx = new Context121();
            ctx.Database.Create();
            System.Console.ReadKey();
        }
    }
    public class Main
    {
         public int MainId { get; set; }
         public string BlaMain { set; get; }
         public int? Sub1Id   { set; get; }    // Must be nullable since we want to use EF foreign key
         public int? Sub2Id { set; get; } // Must be nullable since we want to use EF foreign key
        public virtual Sub Sub1 { get; set; }  // Reverse navigation
        public virtual Sub Sub2 { get; set; }  // Reverse navigation
        //  you may also need
        public virtual ICollection<Sub> Subs { get; set; }
    }
    public class Sub
    {
       public int SubId { get; set; }   // Deliberately DIFFERENT KEY TO MAIN.... not 1:1 so this is possible 
       public string blasub { set; get; }
       public int MainId { set; get; } //set in API   , this the FK  
       public virtual Main Main { get; set; } // van to Principal
    }
    public class Context121 : DbContext
    {
        static Context121()
        {
            Database.SetInitializer(new DropCreateDatabaseIfModelChanges<Context121>());
        }
        public Context121()
            : base("Name=Demo") { } // webconfig required to match 
        public DbSet<Main> Mains { get; set; }
        public DbSet<Sub> Subs { get; set; }

        protected override void OnModelCreating(DbModelBuilder modelBuilder)
        {
            modelBuilder.Entity<Main>().HasKey(t => t.MainId)
                        .HasOptional(t => t.Sub1)
                        .WithMany()
                        .HasForeignKey(t=>t.Sub1Id) ; // tell EF the field is in POCO, use this please, otherwise it will create it.

            modelBuilder.Entity<Main>()
                        .HasOptional(t => t.Sub2).WithMany()
                        .HasForeignKey(t=>t.Sub2Id);

            modelBuilder.Entity<Sub>()
                        .HasKey(t => t.SubId)
                        .HasRequired(q => q.Main)
                        .WithMany()
                        .HasForeignKey(t => t.MainId);
        }
    }
} 
```

网络配置....

```
 <connectionStrings>
   <add name="Demo" connectionString="Data Source=localhost;Initial Catalog=Demo;Integrated Security=True;MultipleActiveResultSets=True;App=EntityFramework"
        providerName="System.Data.SqlClient" />
  </connectionStrings> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:43:54.957

说明你需要解决什么问题？这是 EF 5.0 中的一对一映射示例

```
class Program
{
    static void Main(string[] args)
    {
        using (var context = new SampleContext())
        {
            var mainEntity = new MainEntity();
            mainEntity.DetailEntity = new DetailEntity();

            context.SaveChanges();
        }
    }
}

public class SampleContext : DbContext
{
    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<MainEntity>().HasKey(c => c.Id);
        modelBuilder.Entity<DetailEntity>().HasKey(c => c.Id);

        modelBuilder.Entity<MainEntity>().HasOptional(c => c.DetailEntity).WithRequired(p => p.MainEntity);
        modelBuilder.Entity<DetailEntity>().HasRequired(c => c.MainEntity).WithOptional(p => p.DetailEntity);
    }

    public virtual DbSet<MainEntity> MainEntities { get; set; }

    public virtual DbSet<DetailEntity> DetailEntities { get; set; }
}

public class MainEntity
{
    public int Id { get; set; }

    public DetailEntity DetailEntity { get; set; }
}

public class DetailEntity
{
    public int Id { get; set; }

    public MainEntity MainEntity { get; set; }
} 
```

# python - 如何从以下数据中解析数字字节/秒？

> ID：14807391
> 
> 赞同：0
> 
> 时间：2013-02-11T07:04:43.250
> 
> 标签：python, rsync

我正在使用 rsync 命令来获取文件信息：

```
info = subprocess.Popen(['sshpass', '-p', password, 'rsync', '-az', '--status', '--dry-run', source],
                           stdout=subprocess.PIPE) 
```

我得到这样的输出：

```
drwxr-xr-x          4,096 2013/01/23 08:48:35 my_files
-rw-r--r--      5,009,545 2013/01/16 04:20:48 my_files/NC_008253.fna
-rw-r--r--      5,009,545 2013/01/16 04:20:52 my_files/ok.txt
-rw-r--r--      5,009,545 2013/01/16 04:21:08 my_files/test.data

Number of files: 4 (reg: 3, dir: 1)
Number of created files: 0
Number of deleted files: 0
Number of regular files transferred: 0
Total file size: 15,028,635 bytes
Total transferred file size: 0 bytes
Literal data: 0 bytes
Matched data: 0 bytes
File list size: 135
File list generation time: 0.001 seconds
File list transfer time: 0.000 seconds
Total bytes sent: 25
Total bytes received: 147

sent 25 bytes  received 147 bytes  11.10 bytes/sec
total size is 15,028,635  speedup is 87,375.78 (DRY RUN) 
```

我想解析之前的数字`bytes/sec i.e 11.10`。我怎样才能做到这一点？另外，是服务器的带宽速度吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:13:54.173

好吧，如果你不想做正则表达式并且命令的输出是一致的，那么简单的事情就可以了：

```
speed = float(info.split("\n")[-2].split(" ")[-2]) 
```

不过，不知道这是否是服务器的速度。

# c++ - 无法将参数传递给 GTK 回调

> ID：14807395
> 
> 赞同：0
> 
> 时间：2013-02-11T07:05:05.090
> 
> 标签：c++, pointers, gtk

当程序最初运行时，打印语句，打印对应于指针的有效十六进制代码。但是，当我点击屏幕时，handleClick 方法通过'clicked'回调被调用，0x0 被打印到屏幕上。发生了什么？为什么我的板子对象突然变成空了？

```
#include <stdio.h>
#include <stdlib.h>
#include <gtk/gtk.h>
#include "board.h"

void printBoard(Board *board);
void handleClick(GtkWidget *widget, GdkEventButton *event, cairo_t *cr, gpointer data);

  gboolean draw_cb(GtkWidget *widget, cairo_t *cr, gpointer data)
  {
    Board *temp = (Board *)data;
    printf("%p\n",temp);
    return TRUE;
  }

  void handleClick (GtkWidget *widget, GdkEventButton *event, cairo_t *cr, gpointer data)
  {
    Board *temp = (Board *)data;
    printf("%p\n",temp);
  }

  void start(Board *newBoard)
  {
      GtkWidget *window;
      GtkWidget *da;
      GtkWidget *frame;

      window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
      char string[40];
      snprintf(string, sizeof(string), "Connect %d-%d",newBoard->k,newBoard->n);

      gtk_window_set_default_size (GTK_WINDOW(window), 400, 400);
      gtk_window_move(GTK_WINDOW(window), 100, 100);     
      g_signal_connect (GTK_WINDOW(window), "destroy", G_CALLBACK (gtk_main_quit), NULL);

      da = gtk_drawing_area_new ();
      gtk_widget_set_size_request (da, 500, 500);

      frame = gtk_frame_new (NULL);
      gtk_frame_set_shadow_type (GTK_FRAME (frame), GTK_SHADOW_IN);
      gtk_container_add (GTK_CONTAINER (window), frame);

      gtk_container_add (GTK_CONTAINER (frame), da);

      gtk_widget_set_events (da, gtk_widget_get_events (da)
                     | GDK_BUTTON_PRESS_MASK);

      g_signal_connect (da, "draw",
              G_CALLBACK (draw_cb), newBoard);

       g_signal_connect (da, "button-press-event",
              G_CALLBACK (handleClick), newBoard);

      gtk_widget_show_all (window);
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:05:16.673

[根据参考手册](http://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-button-press-event)`button-press-event`，信号处理程序的原型如下。

```
gboolean user_function (GtkWidget *widget,
                        GdkEvent  *event,
                        gpointer   user_data) 
```

如果从函数中删除`cairo_t *cr`参数就可以了。`handleClick``data`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T16:31:40.627

正如 Szilard 所说，您为`handleClick`函数使用了错误的原型。

信号处理程序具有以下`button-press-event`原型：

```
gboolean user_function (GtkWidget *widget,
                        GdkEvent  *event,
                        gpointer   user_data) 
```

要纠正错误，您需要：

*   删除`cairo_t *cr`参数。它正在接收 的值`data`。
*   修复`event`类型是`GdkEvent *`，不是`GdkEventButton *`
*   修复返回值，它是一个布尔值，而不是 void，它对于确定事件是否被传播很重要。

# javascript - 是否有任何 QUnit 断言/函数来测试数组中的元素是否

> ID：14807396
> 
> 赞同：4
> 
> 时间：2013-02-11T07:05:08.947
> 
> 标签：javascript, unit-testing, qunit

我的 Qunit 函数中有一个预期输出数组。现在我想测试我的函数结果是否在这个数组中。

```
var a =new array('abc','cde','efg','mgh'); 
```

现在我的问题是是否有任何 QUnit 断言/函数可以为我做到这一点？

我知道通过一些 JS 编码我创建了一个方法来检查这个，但我只想专门针对 OUnit !!!!

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T15:56:19.377

如果你有 JavaScript 1.6，你可以使用[`Array.indexOf`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf)

```
test("myFunction with expected value", function() {
    var expectedValues = ['abc','cde','efg','mgh'];
    ok(expectedValues.indexOf(myFunction()) !== -1, 'myFunction() should return an expected value');
}); 
```

如果你愿意，你可以扩展 QUnit 来支持这些断言：

```
QUnit.extend(QUnit, {
    inArray: function (actual, expectedValues, message) {
        ok(expectedValues.indexOf(actual) !== -1, message);
    }
}); 
```

然后你可以在你的测试中使用这个自定义`inArray()`方法：

```
test("myFunction with expected value", function() {
    var expectedValues = ['abc','cde','efg','mgh'];
    QUnit.inArray(myFunction(), expectedValues, 'myFunction() should return an expected value');
}); 
```

我创建[了一个 jsFiddle 来显示这两个选项](http://jsfiddle.net/odi86/WBhZJ/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-25T20:44:41.207

QUnit 为此提供了 deepEqual 函数。您可以使用它比较数组：

```
var resultArray = myFunction();
deepEqual(["Expected", "array"], resultArray, "myFunction returned wrong Array"); 
```

# asp.net - FooterSummary 列正在计算 jqgrid 中当前页面的总和

> ID：14807401
> 
> 赞同：0
> 
> 时间：2013-02-11T07:05:42.387
> 
> 标签：asp.net, jqgrid

嗨伙计们！我在 jqgrid 中添加了页脚以显示列的摘要，但它仅计算当前页面的总和并显示到页脚行中。我在 jqgrid 中添加了过滤器工具栏来过滤记录。根据我的需要，我想要特定的总和来自整个网格的列当我们过滤记录时它应该起作用，并且摘要应该来自特定列的整个网格中存在的当前数据......

这是我计算摘要的代码....

```
$(function () {
var gridData = null;
var nn = null;
$.ajax({
    url: 'Default.aspx/MyMethod',
    dataType: 'json',
    contentType: "application/json; charset=utf-8",
    type: 'POST',
    success: function (ReportDataNew, textStatus, XMLHttpRequest) {
        //debugger;
        gridData = JSON.parse(ReportDataNew.d);
        console.log(gridData);
        //alert(gridData.length);

        grid = $("#gridId"),
            calculateTotal = function () {
                var totalAmount = grid.jqGrid('getCol', 'price', false, 'sum');
                grid.jqGrid('footerData', 'set', { name: 'TOTAL', price: totalAmount });
            }; 
```

在这里，我正在填充我的网格......

```
 $("#gridId").jqGrid({
            data: gridData,
            datatype: "local",
            height: '100%',
            autowidth: true,
            ignoreCase: true,
            rowNum: 100,
            rowList: [100, 200, 300],
            colNames: ['UserName', 'Ordinal', 'Extension', 'Trunk', 'Dialnumber', 'DialDate', 'DialTime', 'Duration', 'Destination', 'Price'],
            colModel: [
                       { name: 'username', index: 'username', width: 100, sortable: true, align: 'center' },
                       { name: 'price', index: 'price', width: 100, sortable: true, align: 'center'}

                      ],
            pager: '#gridpager',
            viewrecords: true,
            toppager: true,
            loadtext: 'Loading...',
            footerrow: true,
            userDataOnFooter: true,
            gridComplete: function () {
                calculateTotal();
            } 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-11T14:28:03.230

如果您在服务器端计算总和，则可能是在分页结果中进行。扩展计算以包括整个记录集，而不仅仅是在它正在显示的当前页面中传递给 jqGrid 的部分。

# ghostscript - Ghostscript - 我们可以替代忽略 PS 中的嵌入字体吗？

> ID：14807405
> 
> 赞同：1
> 
> 时间：2013-02-11T07:06:06.837
> 
> 标签：ghostscript, embedded-fonts

我正在尝试将 Postscript 文件转换为 PDF。PS 文件有一个嵌入字体，我想忽略它并用本地系统字体替换。这是因为字体是基于 OCR 的，在这种情况下读取字符串更有意义。

我设置了一个 Fontmap 文件，但它仅在我从 PS 文件中删除字体数据时才有效，因此字体实际上丢失了。有没有办法在不修改 PS 文件的情况下做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:02:56.310

没有开关或命令可以这样做，因为它会破坏与规范的一致性。如果您在 PostScript 程序中嵌入字体，则该字体将优先于任何其他字体使用。

这允许您（例如）通过嵌入字体来使用特定版本的字体，而不是依赖于可能不同的解释器中存在的字体。

但是，由于 PostScript 是一种编程语言，您可以重新定义“definefont”运算符，以便它在定义字体之前检查字体名称的字典操作数，如果它是您想要忽略的字体，您可能无法定义它。然后，您将通过丢失的字体机器找到您的替代品。

# iphone - 显示 searchResultsTableView 时隐藏 UITableView

> ID：14807406
> 
> 赞同：6
> 
> 时间：2013-02-11T07:06:09.037
> 
> 标签：iphone, ios, objective-c, xcode, xcode4.2

我有`UITableView`一个`searchDisplayController`实施的。我有

```
tableView.backgroundColor = [UIColor clearColor]; 
```

和

```
self.searchDisplayController.searchResultsTableview.backgroundColor = [UIColor clearColor]; 
```

当我在搜索字段中输入文本时，搜索结果显示正常，但由于结果表的背景是透明的，我看到我的`tableview`和在`tableview`搜索结果表上显示。我想隐藏`tableView`searchField 开始编辑的时间。我试过了

```
-(BOOL)searchDisplayController:(UISearchDisplayController *)controller 
shouldReloadTableForSearchString:(NSString *)searchString
{
    [tableView setHidden:YES];
    [self filterContentForSearchText:searchString 
                               scope:[[self.searchDisplayController.searchBar scopeButtonTitles]
                                      objectAtIndex:[self.searchDisplayController.searchBar
                                                     selectedScopeButtonIndex]]];

    return YES;
} 
```

但它用 tableView 隐藏了 searchBar。如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:20:17.197

首先我知道你加`searchDisplayController`了`UITableView`。

请删除它并将您的视图控制器添加`UISearchDisplayController`到您的**视图控制器**上`UITableView`，因为如果您隐藏`UITableView`然后`UISearchDisplayController`也隐藏，因为您添加了 UISearchDisplayController `UITableView`。

**谢谢 ：）**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:25:50.870

您可以设置数据源`tableView`，使其在搜索界面可见时返回 0 个部分：

```
- (NSInteger) numberOfSectionsInTableView: (UITableView *) tableView
{
    if (self.searchDisplayController.active && 
        (tableView != self.searchDisplayController.searchResultsTableview))
        return 0; // return 0 for bottom table view if search interface is active
    else
        return <your usual number of sections>
} 
```

然后，您可以`[tableView reloadData]`隐藏所有内容，而不是隐藏您的表格视图。然后在搜索完成后，再次重新加载表格视图以再次显示内容。

重新加载表格视图将重置所有表格视图单元格和表格视图的内容偏移量，因此在某些情况下这样做可能不是一个好主意。

或者，您可以尝试遍历所有表格视图的可见单元格并像这样隐藏它们：

```
for (UITableViewCell *cell in tableView.visibleCells)
{
     cell.hidden = YES;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:14:13.547

首先制作表格插座并将其与表格连接，然后尝试这行代码

```
tableView.hidden=TRUE; 
```

它会工作....

# php - 在 Prestashop 中为文章添加 [SOLD] 标签

> ID：14807408
> 
> 赞同：0
> 
> 时间：2013-02-11T07:06:23.297
> 
> 标签：php, prestashop

我正在为销售收藏品的客户开发 Prestashop 主题。他只销售大多数商品中的一种，如果商品已售出，他希望选择仍然显示该商品，但在商品名称、类别和产品页面中的商品名称前以红色显示 [已售] . 在保持他的 Prestashop 安装升级的同时，我将如何做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T13:00:27.407

他将产品的库存设置为 1 并使用“缺货”标志来告诉它已售出（当然，他阻止了缺货产品的销售）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T13:27:56.647

这可以通过更改模板文件来完成。

如果您使用的是默认主题，请复制主题并重命名，以便在升级时不会被覆盖。

您可以将产品设置为可在后台订购或不在后台订购。您可以取消勾选此值，以便产品在技术上不可订购。

您需要在前台查看以下模板。

`product-list.tpl`

这列出了一个类别的所有产品。您可以使用以下代码来测试产品是否可供订购。

```
{if !$product.available_for_order}
    <span style="color: red;">[SOLD]</span>
{/if} 
```

`product.tpl`您也可以在文件中使用这段代码。

# android - 仅将横向模式设置为 Android Google Map Fragment

> ID：14807411
> 
> 赞同：1
> 
> 时间：2013-02-11T07:06:50.347
> 
> 标签：android, google-maps-api-2, supportmapfragment

我有一个 MapFragment 类，它会在调用它时占据全屏。

从[这个问题](https://stackoverflow.com/questions/2067426/android-force-horizontal-layout)中，我了解到强制水平布局将需要更改 Android Manifest。但是，如果它用于 MapFragment 类，我该如何实现呢？

这是我的地图显示的 xml，如果它有帮助的话：

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/root"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="horizontal" >

<fragment
    android:id="@+id/fragment_map"
    android:name=".com.fragments.MapFragment"
    class="com.fragments.MapFragment"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:tag="tag_fragment_map" />

</FrameLayout> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T07:13:59.073

您可以扩展`MapFragment`类。调用时`onAttach()`将活动的当前方向（通过调用`getActivity().getRequestedOrientation()`）存储为整数，然后将父项的方向设置为横向。这是暂时的。如果您`MapFragment`不再使用，它​​将设置父母的旧方向。

```
public class DummyMapFragment extends MapFragment
{

    private int activityOrientation;

    @Override
    public void onAttach(Activity arg0) {

        super.onAttach(arg0);

        activityOrientation = arg0.getRequestedOrientation();

                 arg0.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);

    }

    @Override
    public void onStop() {
        Activity parent = getActivity();

        if(parent != null)
                    getActivity().setRequestedOrientation(activityOrientation);

        super.onStop();

    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:11:18.063

试试这个：

```
getActivity().setRequestedScreenOrientation(SCREEN_ORIENTATION_LANDSCAPE) 
```

另请检查此[链接。](https://stackoverflow.com/questions/13251930/allow-rotation-landscape-in-one-fragment)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T07:39:41.327

像这样在清单文件中定义活动

```
<activity
        android:name=".yourMapActivity"
        android:label="@string/title_activity_edit_profile"
        android:screenOrientation="landscape" > 
```

# .net - 使用 Web Gardening 进行性能监控

> ID：14807418
> 
> 赞同：0
> 
> 时间：2013-02-11T07:07:41.797
> 
> 标签：.net, performancecounter, web-garden

有没有人知道如何监控其中实施了网络园艺的应用程序的性能？基本上通过网络园艺实现，有多个 w3wp 进程实例。因此，当我们的目标是监控 w3wp 进程的 Private Bytes 并且我们有多个进程要监控时，我们需要添加哪些性能计数器？例如，我们看到 w3wp 进程的多个实例，例如 w3wp、w3wp#1，当我们在 perfmon 中添加计数器时，我们是否需要选择 w3wp 进程的所有实例？如果是，那么稍后如何解释结果，因为 csv 文件将显示 w3wp 以及 w3wp#1 公主的私有字节。垃圾收集和在 GC 中花费的时间相同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-16T14:21:56.903

我遇到了类似的问题并找到了这个解决方案：

[http://openrent.blogspot.com/2008/01/multiple-clr-performance-counters.html](http://openrent.blogspot.com/2008/01/multiple-clr-performance-counters.html)

这是在这里引用的：

[从 ASP.NET 工作进程 ID 获取性能计数器实例名称 (w3wp#XX)](https://stackoverflow.com/questions/113930/get-performance-counter-instance-name-w3wpxx-from-asp-net-worker-process-id)

您需要重新加载 .net 2.0 的性能计数器。重新加载后，您应该会看到“进程 ID”计数器。

这个问题出现在我在上述答案之前的搜索中，所以希望这能帮助其他处于同样困境的人。

# asp.net - 如何使用 Eval 更改 TemplateField 中的颜色

> ID：14807427
> 
> 赞同：8
> 
> 时间：2013-02-11T07:09:02.717
> 
> 标签：asp.net, html, css, gridview

我有一个 Gridview 包含许多 TemplateField。
我想让`<td>`我的 html 源代码中的每一个都等于保存在我的数据库中的颜色
我尝试代码位于下面但不工作它给我一个带有我的颜色的`<span>`标签**但不要出现在浏览器上**`<td>`

 **```
<asp:TemplateField HeaderText="BackGround Color">
     <ItemTemplate>
           <asp:Label  ID="lblBackColor" runat="server" 
                   BackColor='<%# ConvertFromHexToColor( Eval("BackColor").ToString()) %>'>
            </asp:Label>
           <itemstyle width="20%" horizontalalign="Center" />
     </ItemTemplate>    
</asp:TemplateField> 
```

C#代码工作

```
public  Color ConvertFromHexToColor(string hex)
{
    string colorcode = hex;
    int argb = Int32.Parse(colorcode.Replace("#", ""), NumberStyles.HexNumber);
    Color clr = Color.FromArgb(argb);
    return clr;
} 
```

这是我浏览器中的源 html 和 css 代码

```
 <td>
                <span id="BodyZone__ThemesGrid_lblForeColor_0"  style="background-color: #FFFFFF;"></span>
                <itemstyle width="20%" horizontalalign="Center">
                    </itemstyle>
            </td> 
```

CSS

```
table.activity_datatable td {
padding: 8px 15px;
color: #6c6c6c;
vertical-align: middle;
-webkit-transition: all 0.2s;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-27T09:17:13.640

如果你想用一个布尔值检查它是否为真，那么绿色会起作用，否则红色会起作用。然后根据 Eval 函数显示具有相应颜色的文本。这里 GetStatus 是一个方法，您需要在代码中创建它，我们将文本绑定到 UI，否则您可以像往常一样使用 Eval 或 Bind 函数进行绑定。

```
 ForeColor='<%# (bool)Eval("UserType")==true?System.Drawing.Color.Green:System.Drawing.Color.Red %>'
                                Text='<%# GetStatus((bool)Eval("UserType")) %>'> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T07:14:35.973

您需要将文本放在标签内（呈现为跨度）

```
<asp:TemplateField HeaderText="BackGround Color">
  <ItemTemplate>
    <asp:Label  ID="lblBackColor" runat="server" BackColor='<%# ConvertFromHexToColor( Eval("BackColor").ToString()) %>'>PUT_TEXT_HERE</asp:Label>
    <itemstyle width="20%" horizontalalign="Center" />
  </ItemTemplate>
</asp:TemplateField> 
```

您可能还更喜欢使用面板（呈现为 div）而不是标签。不要忘记将东西放在 div 或 span 中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-06T12:23:13.223

```
ForeColor='<%# Convert.ToString(Eval("ESM")) == "Elective" ? System.Drawing.Color.Green: 
           Convert.ToString(Eval("ESM")) == "Emergency" ? System.Drawing.Color.Red: System.Drawing.Color.Purple%>' 
```

试试这个代码…………**

# c - 在 C 中获得一个额外的 \ 字符

> ID：14807431
> 
> 赞同：-1
> 
> 时间：2013-02-11T07:09:32.210
> 
> 标签：c

给定字符串 ptr，我想要的输出是 hi\\n hey \\n 我正在运行 linux，这就是为什么我有两个斜杠，因为 linux 将 \n 视为 \\n

是不是在我的最终输出中以 \n 结尾（尽管它被解析为 \\n）我最终得到了 \\n（这意味着它被解析为 \\\n 我的代码：

```
char *ptr="hi\\r\\n hey \\r\\n";
for( i=0; ptr[i]!=0; i++ )
{
    while(ptr[i]=='\\' && ptr[i+1]=='r') /* copy all chars, including NULL at end, over char to left */
    {
        j=i;
        int count = 0;
        while(ptr[j]!='\0')
        {
            if(count==0)
            {
                ptr[j]=ptr[j+2];
                count++;
                j++;
            }
            else
            {
                ptr[j]=ptr[j+1];
                j++;
            }
        }
    }
} 
```

我遇到的错误是，而不是结束 \n 我结束了 \n

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:17:26.027

那是因为你的复制逻辑。在找到 \r 之后的 while 部分中，您将 j+2 复制到 j，然后将 j 增加 1。然后您将 j+1 复制到 j，因此基本上您将相同的字符复制两次。

试试这个改变的块

点[j]=点[j+1]；改为ptr[j]=ptr[j+2]；

```
while(ptr[j]!='\0')
        {
            if(count==0)
            {
                ptr[j]=ptr[j+2];
                count++;
                j++;
            }
            else
            {
                ptr[j]=ptr[j+2];
                j++;
            }
        }
    } 
```

对于您的情况（忽略转义字符并使其变小） str = hi\r\n hey

当 j = 2 它进入 while 循环所以现在循环

```
while(ptr[j]!='\0')
            {
                if(count==0)` - true`
                {
                    ptr[j]=ptr[j+2]; ` ==> str is now = (hi\r\n hey) (replaced \ at 2 by \ at 4`
                    count++;  `==> count = 1`
                    j++;   ` == j = 3`
                }
                else                  ` ==skipped`
                {
                    ptr[j]=ptr[j+1];
                    j++;
                }
            }
        }
NEXT ITERATION

while(ptr[j]!='\0')
            {
                if(count==0) `- false`
                {
                    ptr[j]=ptr[j+2];
                    count++;  
                    j++;    
                }
                else        
                {
                    ptr[j]=ptr[j+1];  `==> str is now = (hi\\\n hey) (replaced r at 3 by \ at 4`
                    j++; `j==> 4`
                }
            }
        } 
```

从而给你一个额外的'\'

# javascript - javascript eventlistener中真假的区别

> ID：14807436
> 
> 赞同：11
> 
> 时间：2013-02-11T07:10:09.910
> 
> 标签：javascript

我对事件监听器的概念有疑问。下面两个代码之间有什么区别我在真/假部分有疑问。当我用我的练习代码中的第二个代码替换第一个代码时，没有发生任何变化。

```
a.addEventListener("click", modifyText, true);
a.addEventListener("click", modifyText, false); 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-11T07:16:46.433

*true 和 false in`addEventListener`是布尔值，指定是否需要捕获事件。*

这是语法和[详细信息](http://help.dottoro.com/ljeuqqoq.php)：

```
object.addEventListener (eventName, function, useCapture); 
```

**eventName：**字符串，指定要侦听的事件的名称。此参数区分大小写！

**function：**表示事件发生时要调用的事件监听函数。当一个事件发生时，一个事件对象被初始化并作为第一个参数传递给事件处理程序。事件对象的类型取决于当前事件。

**useCapture：**布尔值，指定是否需要捕获事件。以下值之一：

```
false -> Register the event handler for the bubbling phase. 
true -> Register the event handler for the capturing phase. 
```

冒泡和捕获阶段：

**冒泡：**事件对象以相反的顺序通过目标的祖先传播，从目标的父级开始，以 defaultView 结束。此阶段也称为冒泡阶段。为此阶段注册的事件侦听器必须在事件到达其目标后对其进行处理。

**捕获：**事件对象必须通过目标的祖先从 defaultView 传播到目标的父级。此阶段也称为捕获阶段。为此阶段注册的事件侦听器必须在事件到达其目标之前对其进行处理。

**有关事件流的更多详细信息：** [DOM 事件架构](http://www.w3.org/TR/DOM-Level-3-Events/#dom-event-architecture)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:13:23.913

看看一些文档，例如[MDN 上`addEventListener`](https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener)：

```
target.addEventListener(type, listener[, useCapture]); 
```

> **使用捕获**
> 
> 如果为真，useCapture 表示用户希望启动捕获。启动捕获后，指定类型的所有事件将被分派到注册的侦听器，然后再分派到 DOM 树中它下面的任何 EventTarget。通过树向上冒泡的事件不会触发指定使用捕获的侦听器。有关详细说明，请参阅 DOM 级别 3 事件。请注意，此参数并非在所有浏览器版本中都是可选的。如果未指定，则 useCapture 为 false。

所以基本上它决定了事件是在[捕获阶段还是在](http://www.w3.org/TR/DOM-Level-3-Events/#event-flow)事件处理的冒泡阶段处理。

只要元素的父母（或孩子）没有任何类似的事件，就没有真正的区别。

# sql-server - 如何在 SQL Server 视图中使用 TClientDataSet？（或替代）

> ID：14807439
> 
> 赞同：2
> 
> 时间：2013-02-11T07:10:23.227
> 
> 标签：sql-server, delphi, delphi-7, tclientdataset

在我的表格中，我已经`TADOQuery,TDataSetProvider,TClientDataSet,TDataSource,TDBGrid`链接了。

AdoQuery 使用 SQL Server 视图查询数据

`AdoQuery.SQL`：

```
Select * from vu_Name where fld=:fldval 
```

Vu_名称：

```
SELECT * FROM  t1 INNER JOIN t2 ON t2.fld1 = t2.fld1 
```

在我的 dbgrid 中，只有表 t1 中的列是可编辑的。（只有 t1 需要更新）

将更新应用回服务器的可能（最快）方法是什么？ `ClientDataSet.ApplyUpdates(0); // not working`

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T08:22:30.030

TDataSetProvider 有一个事件 OnGetTableName，您应该在其中将 TableName 参数设置为 t1。因此，提供者知道在哪里存储更改的值。

您必须确保仅更改 t1 的字段，因为 TDataSetProvider 只会更新一个表。当然，对于 ApplyUpdates 的不同调用，您可以使用不同的表名。您可以在 DataSet 参数中找到更改的字段。

如果你想更新多个表，你必须实现 OnUpdateData，它给你所有的自由和所有的责任。

# jquery - 我想在 jqgrid 的编辑选项中添加加载事件

> ID：14807440
> 
> 赞同：2
> 
> 时间：2013-02-11T07:10:48.287
> 
> 标签：jquery, jqgrid

我想在 jqGrid 的编辑选项中添加加载事件。

我的代码是这样的：

```
dataEvents: [
{
    type: 'change',
    fn: function (e)
    {
        Myfunction();
    }
},
{
    type: 'load',
    fn: function (e)
    {
        Myfunction();
    }
}] 
```

我的问题是：change事件调用的很好，但是load事件没有调用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T18:24:16.163

我不确定您希望在哪种情况下调用[jQuery.load](http://api.jquery.com/load/)处理程序的句柄。如果您使用从服务器`dataUrl`加载，`<select>`那么您可以`buildSelect`用作“加载”亨德勒的替代品。如果服务器已经返回带有callbacl`<select>`的HTML 片段`buildSelect`可以如下

```
dataUrl: "mySelectUrl",
buildSelect: function (data) {
    Myfunction();
    return data;
} 
```

# yii - 如何保留注册页面的照片

> ID：14807444
> 
> 赞同：0
> 
> 时间：2013-02-11T07:11:03.513
> 
> 标签：yii

我想保留注册页面的照片列，以便用户可以选择图像并在该列中显示我正在使用 yii 框架中的 ImageSelect 扩展，但它不起作用建议我在注册用户时如何保留图像

这是我的 ImageSelect 代码

```
<?php echo $form->labelEx($model,'profileImage'); ?>
    <?php
$this->widget('ext.imageSelect.ImageSelect',  array(
    'path'=>Yii::app()->baseUrl . '/images/Penguins.jpg',
    'alt'=>'alt text',
    'uploadUrl'=> 'profileinfo/upload',
    'htmlOptions'=>array()
));
?> 
```

我的控制器代码是

```
public function actionUpload()
{

    $file = CUploadedFile::getInstanceByName('file');
    // Do your business ... save on file system for example,
    // and/or do some db operations for example

    $file->saveAs(Yii::app()->baseUrl . '/images/'.$file->getName());

    // return the new file path
    echo Yii::app()->baseUrl.'/images/'.$file->getName();
} 
```

# python - Python - SciPy：从一组周期性点进行预测

> ID：14807445
> 
> 赞同：0
> 
> 时间：2013-02-11T07:11:03.900
> 
> 标签：python, scipy, fft

我正在学习 SciPy，如果找到正确的函数，我应该很容易解决一个问题：我有一组涵盖 10 个周期的点（2D）。我想预测下一个时期的价值。

我想我必须创建一个与我的点相对应的周期函数，然后在这个模型上取点，但我不知道该怎么做！

你可以帮帮我吗 ？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:05:45.323

外推绝非易事。它几乎总是很差，除非你对数据有一些强有力的假设。

在您的情况下，您可以尝试一下，但我认为没有立即可用的东西。

我会尝试：

*   确定自相关的第一个最大值
*   通过将此值的倍数移位来扩展您的信号

如果需要，之后进行插值。

例子：

```
import numpy as np
import matplotlib.pyplot as plt

def autocorr(x):
    result = np.correlate(x, x, mode='full')
    return result[result.size/2:]

data = np.sin(np.linspace(0,30,300)) + np.random.random((300)) * 0.1

plt.subplot(3,1,1)
#plt.plot(data,"b-")
plt.plot(data,"bx")

acorr = autocorr(data)
acorr_diff = np.diff(acorr)

maxima = [i+1 for i in range(acorr_diff.shape[0]-1) 
          if acorr_diff[i]>=0 and acorr_diff[i+1]<0]

plt.subplot(3,1,2)
plt.plot(acorr)
for m in maxima:
    plt.axvline(m, color="b", alpha=0.5)

first_max = maxima[0]
new_data = np.hstack([data[:4*first_max],data])

plt.subplot(3,1,3)
plt.plot(data)
#plt.plot(data,"b-", alpha=0.1)
plt.plot(data,"bx")
plt.plot(new_data,"r-")
#plt.plot(new_data,"rx")

plt.show() 
```

![输出](../Images/56b559ccc8c11cd1b4b0b068e6e03cdc.png)

这只是一个非常基本的实现。当然，它有局限性，但原则应该是明确的。

# php - jQuery/PHP - 当被 jQuery .ajax 读取时，拥有多个 PHP 块会产生额外的输出字符

> ID：14807448
> 
> 赞同：0
> 
> 时间：2013-02-11T07:11:11.667
> 
> 标签：php, jquery

我设法将这个问题归结为最基本的问题：所以我有两个简单的 .php 文件：

## 测试.PHP

```
<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>My Page</title>

<script src='/root/js/jquery-1.6.3.js'></script>
<script>

$(document).ready(function() {

$.ajax({

        url : 'test_ajax.php',
        type : 'GET',
        timeout : 10000,
        dataType : 'text',
        data : { 'param' : 'whatever' },
        success : function(data,status,jqXHR) {
            $('#status').html(data.length+"-"+data);
        },
        error : function(jqXHR,textStatus,errorThrown) {
            $('#status').html("Error: "+textStatus+" , "+errorThrown);
        },
        complete : function(jqXHR,textStatus) {
        }

    });

}); // end ready

</script>

</head>

<body>
    <p id='status'>
    </p>
</body>
</html> 
```

## 和 TEST_AJAX.PHP

```
<?php
?>

<?php
echo "ok";
?> 
```

应该从 TEST_AJAX.PHP 返回的数据是“好的”。然而，jQuery/ajax 代码正在检索的是一个三个字符串，输出为“ok”（尽管 [0] 处的字符不等于“”）。

**仅当我在 TEST_AJAX 中有两个 php 块时才会发生这种情况。如果我删除第一个块，只留下第二个块，那么它应该返回“ok”作为一个双字符串。**

这到底是怎么回事？AFAIK，在 .php 文件中包含多个 php 块应该是完全可以接受的——即使在这个简化的示例中显然没有必要。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T07:15:28.337

请注意，两个 php 块之间有一个空行。它也得到显示。将其更改为

```
<?php
?><?php
echo "ok";
?> 
```

应该没问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:20:59.673

PHP 块中的空白将被忽略，但 PHP 块之间的空格将始终返回。您可能会更幸运地打印一个 json 字符串，例如：

```
{'response':'ok'} 
```

然后在您的 ajax 请求中将您的数据类型更改为 json，并使用 data.response 访问响应

这样任何额外的空格都不会影响解析

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:21:27.613

PHP 是一种模板语言。标签之外的所有内容都不会被解析并按字面意思返回。

例子

```
<html>
..
    <body>
        <?php echo "Hello world"; 

// white space within the tags

?>
    </body>
</html> 
```

将返回

```
<html>
..
    <body>
        Hello world
    </body>
</html> 
```

# redirect - 试图将整个文件夹重定向到网站首页

> ID：14807453
> 
> 赞同：0
> 
> 时间：2013-02-11T07:12:00.380
> 
> 标签：redirect, directory, subdirectory

我们的网站曾经在 oursite.com/blog 上有一个博客

多年后，我们仍然在 /blog/ 文件夹中收到许多 404 页面。

如何使用 htaccess 将博客文件夹及其所有内容重定向到我们网站的首页 oursite.com ？

我已经尝试了很多基于网络研究的东西，但我发现的壁橱里的东西重定向了一些东西，比如：

oursite.com/blog/?p=3226

到 oursite.com/?p=3226

我不希望它那样工作。所有博客文件不再存在，所以我只想将博客中的所有文件重定向到主页，即oursite.com，所以：

oursite.com/blog/?p=3226 或 oursite.com/blog/cool-permalink/ 或 oursite.com/blog/image.jpg 或 oursite.com/blog/

都会简单地指向oursite.com

你能告诉我怎么做吗？我花了很多时间谷歌搜索它没有成功......

提前致谢！

迈克尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:16:27.057

在目录`.htaccess`里面创建一个。`/blog`

将此行添加到`.htaccess`

```
ErrorDocument 404 http://oursite.com 
```

这将处理请求的任何 URL`/blog/`

如果您希望每个人都被重定向，如果文件不在整个域中，无论他们在哪个目录中，只需将其`.htaccess`放在您的主目录中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:16:57.887

如果您使用 Apache 作为前端，那么[mod_rewrite](http://httpd.apache.org/docs/current/mod/mod_rewrite.html)就是您想要使用的。就像是

```
RewriteEngine On
RewriteRule ^/blog/.* /cool-permalink/ [R] 
```

# database - Openedge 进度 - 无法逃脱单引号 - 这是一个错误吗？

> ID：14807454
> 
> 赞同：0
> 
> 时间：2013-02-11T07:12:02.247
> 
> 标签：database, openedge, progress-db

我正在尝试对 jdbc ALTER TABLE Customer ALTER \"Cust-Name\" set PRO_DESCRIPTION 'Customer Name' 运行一个简单的查询，这非常有效。但是，当我必须将描述设置为“客户名称”时，即包含一个单引号 - 我无法让它工作。

我试过

```
ALTER TABLE Customer ALTER \"Cust-Name\" set PRO_DESCRIPTION 'Customer~'s Name'
ALTER TABLE Customer ALTER \"Cust-Name\" set PRO_DESCRIPTION 'Customer~~'s Name'
ALTER TABLE Customer ALTER \"Cust-Name\" set PRO_DESCRIPTION 'Customer\\'sName'
ALTER TABLE Customer ALTER \"Cust-Name\" set PRO_DESCRIPTION "Customer's Name" 
```

没有任何效果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:04:20.963

我不知道进度，但SQL标准是复制单引号：

```
'Customer''s Name' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-12T07:24:16.333

在我学习 Progress 时，我遇到了一个名为 QUOTER 的函数，它可以在你的情况下使用。

> 报价功能
> 
> * * *
> 
> 将指定的数据类型转换为 CHARACTER 并在必要时将结果用引号引起来。
> 
> QUOTER 函数旨在用于 QUERY-PREPARE，其中必须从字符串变量的串联列表创建字符谓词以形成 WHERE 子句。为了处理变量、筛选值和输入值以使其适合查询 WHERE 子句，通常需要将它们括在引号中。例如，欧洲格式的小数和字符变量必须始终用引号引起来。您可以使用 Quoter 功能来满足该要求。

# c# - 如何检查标准输入是否为空？

> ID：14807457
> 
> 赞同：2
> 
> 时间：2013-02-11T07:12:04.663
> 
> 标签：c#, console

我需要知道标准输入中是否有任何输入符号。

但我不知道如何检查这种情况。

据我了解，我不能使用 Console.Read() 因为它实际上会读取下一个输入符号。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:32:37.930

我认为您可以`Console.In`用作`System.IO.TextReader`并使用`Peek()`-Method：

```
if(Console.In.Peek() == "I don't know what it will be...")
{ /* Do something */ } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:16:35.560

```
console.writeline();
var a = console.readline();
if(a == null)
{
do something..
}
else
{
do something..
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T07:54:45.953

```
if(Console.In.Peek()!=-1) //solves the problem 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T07:43:10.050

如果您想检查控制台的标准输入中是否有任何数据等待而不实际读取它，我建议您使用以下内容：

```
using (var sr = new StreamReader(Console.OpenStandardInput()))
{
    //check if there are any characters on the input stream
    if(!sr.EndOfStream)
    {
        //do whatever You want to do when the stream is not empty
    }
    else
    {
        //do whatever You want to do when the stream is empty
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T07:18:18.567

我希望我没有理解你的问题，你可以尝试这样的事情：

```
var userInput = Console.ReadLine();
if (string.IsNullOrEmpty(userInput))
{
 // do stuff here
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-11T07:19:41.593

也许这会有所帮助：

```
 string s = Console.ReadLine();
   if (s.Contains('@') Or s.Contains('!')) // you can add other symobols as need
   {
   //do your work

   } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-11T07:24:55.687

如果您想检查用户插入的输入类型，那么如果您的**符号**是指**“<,>,?,/,@,#,$,%,^,&,etc... “** 这些链接可以帮助您[验证输入字段](http://eisabainyo.net/weblog/2009/04/30/10-examples-of-basic-input-validation-in-javascript/)和[这个](http://eisabainyo.net/weblog/2009/04/30/10-examples-of-basic-input-validation-in-javascript/) 和

> 请正确地提出你的问题很难理解你在问什么

# python - 我注意到在 python 中使用 bitshifting 和 n^power 之间存在差异：有人可以解释为什么吗？

> ID：14807461
> 
> 赞同：0
> 
> 时间：2013-02-11T07:12:32.170
> 
> 标签：python, bit-shift

第一：

```
 for i in range(4):
         return (1 << i) 
```

第二个：

```
for i in range(4):
     return (2^i) 
```

有人可以解释为什么两者之间有区别吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T07:14:23.880

因为幂语法`**`不是`^`：

```
>>> [2**i for i in range(4)]
[1, 2, 4, 8]
>>> [1 << i for i in range(4)]
[1, 2, 4, 8] 
```

注意：`^`(hat) 是[按位异或](http://docs.python.org/2/library/operator.html#mapping-operators-to-functions)。

# android - 拖动和排序 Listview OnItemClick 问题 android

> ID：14807462
> 
> 赞同：0
> 
> 时间：2013-02-11T07:12:33.647
> 
> 标签：android, android-layout, android-intent, android-widget, android-listview

我正在使用拖动和排序列表视图来单击一个项目，但问题是当我对项目进行排序时，位置发生了变化。如何解决这个问题。我使用了这个例子。[https://github.com/commonsguy/cwac-touchlist](https://github.com/commonsguy/cwac-touchlist)。我的编码如下：

Java 类使用`DragNDropListView`

```
ListView listView = getListView();

    listView.setOnItemClickListener(this);

    if (listView instanceof DragNDropListView) {
        ((DragNDropListView) listView).setDropListener(mDropListener);
        ((DragNDropListView) listView).setRemoveListener(mRemoveListener);
        ((DragNDropListView) listView).setDragListener(mDragListener);

    }
}

private DropListener mDropListener = 
    new DropListener() {
    public void onDrop(int from, int to) {
        ListAdapter adapter = getListAdapter();
        if (adapter instanceof DragNDropAdapter) {
            ((DragNDropAdapter)adapter).onDrop(from, to);
            getListView().invalidateViews();
        }
    }
};

private RemoveListener mRemoveListener =
    new RemoveListener() {
    public void onRemove(int which) {
        ListAdapter adapter = getListAdapter();
        if (adapter instanceof DragNDropAdapter) {
            ((DragNDropAdapter)adapter).onRemove(which);
            getListView().invalidateViews();
        }
    }
};

private DragListener mDragListener =
    new DragListener() {

    int backgroundColor = 0xe0103010;
    int defaultBackgroundColor;

        public void onDrag(int x, int y, ListView listView) {
            // TODO Auto-generated method stub
        }

        public void onStartDrag(View itemView) {
            itemView.setVisibility(View.VISIBLE);
            defaultBackgroundColor = itemView.getDrawingCacheBackgroundColor();
            itemView.setBackgroundColor(backgroundColor);
            ImageView iv = (ImageView)itemView.findViewById(R.id.ImageView01);
            if (iv != null) iv.setVisibility(View.VISIBLE);
        }

        public void onStopDrag(View itemView) {
            itemView.setVisibility(View.VISIBLE);
            itemView.setBackgroundColor(defaultBackgroundColor);
            ImageView iv = (ImageView)itemView.findViewById(R.id.ImageView01);
            if (iv != null) iv.setVisibility(View.VISIBLE);
        }

};

private static String[] mListContent={"Item 1", "Item 2", "Item 3"};

@Override
public void onItemClick(AdapterView<?> arg0, View arg1, int position, long arg3) {
    // TODO Auto-generated method stub
    if(position==0)
    {
        Toast.makeText(this, "You have selected item 1",Toast.LENGTH_SHORT)
        .show();
    }

    if(position==1)
    {
        Toast.makeText(this, "Item 2",Toast.LENGTH_SHORT)
        .show();
    }

    if(position==2)
    {
    Intent i=new Intent(a.this,b.class);
           startActivity(i);
    } 
```

但是在排序时，位置肯定会发生变化，所以它不能使用意图传递给下一个

活动。如何在拖动和排序列表视图中纠正这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:25:43.727

您必须像这样检查 DropListener 中的位置：

```
private int position = 0;

private DropListener mDropListener = new DropListener() {
            public void onDrop(int from, int to) {
                ListAdapter adapter = listView.getAdapter();
                if (adapter instanceof DragNDropAdapter) {
                    ((DragNDropAdapter) adapter).onDrop(from, to);
                    listView.invalidateViews();
                    if(position == from)
                        position = to;
                    else if(position == to && ((from - to) == 1 || (to - from) == 1))
                        position = from;
                    else if(position == to && (from - to) > 1)
                        position = (from - to)-1;
                    else if(position == to && (to - from) > 1)
                        position = (to - from)-1;
                    else if(position > from && position < to)
                        position -= 1;
                    else if(position < from && position >to)
                        position += 1;

                }
            }
        }; 
```

# java - 为什么它不起作用？使用 getMouseClicked 没有结果

> ID：14807464
> 
> 赞同：0
> 
> 时间：2013-02-11T07:12:54.983
> 
> 标签：java, swing

这个程序假设创建一个窗口，它下面有一个状态栏，显示鼠标在屏幕上没有移动的情况下被点击了多少次。当您移动鼠标并单击它时，假设开始一个新的计数。它还区分不同的鼠标按钮。我完全按照我看到的教程遵循了这段代码，但它不起作用。我只是得到一个状态栏永远不会改变的窗口。

```
public class Adapter_class extends JFrame {

    private String details;
    private JLabel statusBar;
    public Adapter_class() {

        super("Adapter mouse:");

        this.statusBar = new JLabel("Default");
        add(this.statusBar, BorderLayout.SOUTH);

        addMouseListener(new MouseClass());
    }

    private class MouseClass extends MouseAdapter {
        public void MouseClicked (MouseEvent event) {
            details = String.format("You clicked the mouse %d", event.getClickCount());

            //this is for using a mouse from a mac
            if (event.isMetaDown())
            details += " with the right mouse button";
            else if (event.isAltDown())
            details += " with the center mouse button";
            else
            details += " with the left mouse button";

            statusBar.setText(details);
        }
    }
} 
```

这是主要的：

```
import javax.swing.JFrame;

public class Adapter_main {

    public static void main(String[] args) {

        Adapter_class window = new Adapter_class();
        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        window.setSize(400, 300);
        window.setVisible(true);
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T07:14:47.763

您已经`MouseClicked`用大写 M 编写了方法。使用小写版本

```
public void mouseClicked(MouseEvent event) { ... } 
```

否则，您将创建一个新方法，而不是覆盖适配器的方法。您可能还希望包含一个`@Override`注释，该注释将强制编译器向您显示问题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T07:17:17.757

```
public abstract class MouseAdapter implements MouseListener, MouseWheelListener, MouseMotionListener {
    /**
     * {@inheritDoc}
     */
    public void mouseClicked(MouseEvent e) {} 
```

用这个：

```
private class MouseClass extends MouseAdapter {
    public void mouseClicked (MouseEvent event){ 
```

这里你要写的函数 `**mouseClicked**`不是`**MouseClicked**`

这就是为什么它有助于使用注释。@Override 会立即为您提供帮助。

# sql - SQL：如果不存在，如何更新或插入？

> ID：14807472
> 
> 赞同：6
> 
> 时间：2013-02-11T07:13:25.787
> 
> 标签：sql, sqlite

我在下面有一个 SQL 插入，它工作正常，但是我希望它检查 DATE=xxxx、NAME =xxxx 和 JOB = xxx 并更新 HOURS（如果它们存在），否则插入新行。这可能用 SQL 吗？

```
"INSERT INTO TABLE (NAME, DATE, JOB, HOURS) VALUES ('BOB', '12/01/01', 'PM','30'); 
```

尝试下面的 OR REPLACE 并获得相同的结果，每次都会添加一个新行。

```
add_time = conn.prepareStatement("INSERT OR REPLACE INTO RESOURCE (NAME, DATE, JOB, HOURS) VALUES ('"+name+"', '" + date + "', '"+job+"','"+hours+"');"); 
```

例如：

如果以下在数据库中，并且 John 想要更新他的时间，它将检查名称、日期、工作是否与尝试插入的值相同，并且它们是否仅更新 HOURS。否则，如果它们都不存在一起（John 可能有几个小时记录在另一个 DATE 或 JOB 上）插入一个新行。

此外，其他人还将在同一个数据库中记录他们的时间和不同的角色，如下所示。

约翰 | 2012 年 12 月 12 日 | 清洁剂 | 20 约翰 | 2012 年 12 月 12 日 | 首席执行官 | 10 吉姆 | 2011 年 12 月 10 日 | 清洁剂 | 5

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-11T07:20:37.293

你可以`REPLACE INTO`这样使用：

```
REPLACE INTO mytable (NAME, DATE, JOB, HOURS)
VALUES ('BOB', '12/01/01', 'PM','30') 
```

但是，您必须为此创建唯一索引：

```
CREATE UNIQUE INDEX myindex
ON mytable(NAME, DATE, JOB) 
```

请注意，您应该将此类字段组合用于唯一索引，以确定两行是否被视为相同并且应该替换而不是插入。

[SQLFiddle 演示](http://www.sqlfiddle.com/#!5/05b0f/2)。

请注意，如果您注释掉唯一索引的创建，它将[停止正常工作](http://www.sqlfiddle.com/#!5/6c6a0/1)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:18:12.297

我认为这之前已经在这里问过 sqlite：

[如果不存在则插入其他更新？](https://stackoverflow.com/questions/3634984/insert-if-not-exists-else-update)

似乎他们有这样的语法：

```
INSERT OR REPLACE INTO TABLE (NAME, DATE, JOB, HOURS) VALUES ('BOB', '12/01/01', 'PM','30'); 
```

# sql - 使用子查询进行比较

> ID：14807479
> 
> 赞同：3
> 
> 时间：2013-02-11T07:14:18.060
> 
> 标签：sql, oracle, compare, subquery

这是我试图回答的问题：

我所拥有的是：

```
SELECT DISTINCT a1.acnum
FROM academic a1, academic a2
WHERE a1.deptnum = a2.deptnum
AND a1.acnum <> a2.acnum
AND a1.acnum IN (Select acnum
from interest
group by acnum
having count(acnum) >1); 
```

这是错误的，因为我所做的是如果 acnum（学号）218 与 acnum 217 在同一部门工作，并且与 acnum 199（差异部门）具有相同的兴趣，那么我将 acnum 218 添加到列表中。

但是，如果他们都有相同数量的领域兴趣，我应该只添加 acnum 218 和 217。

> 兴趣表有 fieldnum , acnum
> 
> 学术表有 acnum 、 deptnum 、 name
> 
> 部门表有deptnum，deptName

```
 FIELDNUM           ACNUM DESCRIP                                                                        
------------------ -------------------- 
292                 100  Multiprocessor and Special purpose computer design                               
293                 100  General (HW)                                                                     
293                 197  Computer architecture 
```

输出应该只列出所有学者的号码.. 但要清楚一点：

```
Acnum Deptnum Interest
1        1       g&f
2        1       g&f
3        2        f
4        3        l
5        4       r&l
6        4       r&l 
```

输出应该是：1 2 5 6

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:41:00.470

未经测试，但应该是好的

```
SELECT DISTINCT a1.acnum
FROM academic a1
INNER JOIN academic a2 ON a1.deptnum = a2.deptnum
                          AND 
                          a1.acnum <> a2.acnum
INNER JOIN interest i1 ON a1.acnum=i1.acnum
GROUP BY a1.acnum
HAVING COUNT(i1.acnum)=(SELECT COUNT(*)
                        FROM interest i2
                        WHERE i1.acnum=i2.acnum) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:11:36.260

使用公用表表达式（子查询）来获取学者、他们的部门和他们的兴趣计数。然后从中查询两次以获得所需的输出。

```
with cte as ( select a.acnum
                     , a.deptnum
                     , count(i.acnum) as int_cnt
              from academic a
                   , interest i
              where i.acnum = a.acnum
              group by  a.acnum
                     , a.deptnum
            )
select ct1.acnum
       , cte1.deptnum
       , cte1.in_cnt
from cte cte1
     , cte cte2
where cte2.deptnum = cte1.deptnum 
and cte2.int_cnt = cte1.int_cnt  
and cte2.acnum != cte1.acnum 
order by cte1.deptnum
         , cte1.acnum 
```

**警告**- 未经实际测试，因此虽然逻辑合理，但语法可能有误；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:26:45.110

也许`JOIN`在这里使用可以给你更好的结果：

```
SELECT DISTINCT a1.acnum
FROM academic a1
JOIN academic a2
ON a1.deptnum = a2.deptnum
AND a1.acnum <> a2.acnum
AND a1.acnum IN (Select acnum
from interest
group by acnum
having count(acnum) >1); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T07:44:31.903

据我了解，它应该工作

```
SELECT 
      listagg(a1.acnum,',') within group( order by a1.acnum) , a1.deptnum,a2.cnt
FROM 
     academic a1,
     (Select 
            acnum,count(*) as cnt
      from interest
      group by acnum
     ) a2
where 
     a1.acnum=a2.acnum
group by 
     a1.deptnum,a2.cnt
having count(*)>1; 
```

# datetime - 使用 YACC 移位的日期时间解析器减少冲突

> ID：14807480
> 
> 赞同：0
> 
> 时间：2013-02-11T07:14:21.950
> 
> 标签：datetime, yacc, shift-reduce-conflict

我有以下 YACC 解析器

```
%start          Start

%token          _DTP_LONG         // Any number; Max upto 4 Digits.  
%token          _DTP_SDF          // 17 Digit number indicating SDF format of Date Time
%token          _DTP_EOS          // end of input
%token          _DTP_MONTH        //Month names e.g Jan,Feb

%token          _DTP_AM            //Is A.M
%token          _DTP_PM            //Is P.M
%%

Start           :   DateTimeShortExpr
                |   DateTimeLongExpr

                |   SDFDateTimeExpr EOS
                |   DateShortExpr EOS
                |   DateLongExpr EOS
                |   MonthExpr EOS
                ;

DateTimeShortExpr   :  DateShortExpr TimeExpr   EOS         {;}
                    |  DateShortExpr AMPMTimeExpr   EOS     {;}
                    ;

DateTimeLongExpr    :  DateLongExpr TimeExpr EOS           {;}
                    |  DateLongExpr AMPMTimeExpr EOS       {;}
                    ;

DateShortExpr   :  Number                                                          {                                       rc = vDateTime.SetDate ((Word) $1,  0,  0);
                                                                    }   

                |  Number Number                                {     rc = vDateTime.SetDate ((Word) $1, (Word) $2,  0); }

                |  Number Number Number                    {     rc = vDateTime.SetDate ((Word) $1, (Word) $2, (Word) $3); }

                ;

DateLongExpr        :   Number AbsMonth                    {     // case : number greater than 31, consider as year
                                                                     if ($1 > 31) {
                                                                        rc = vDateTime.SetDateFunc (1, (Word) $2, (Word) $1);

                                                            }
                                                            // Number is considered as days
                                                            else {
                                                                   rc = vDateTime.SetDateFunc ((Word) $1, (Word) $2,  0);
                                                                 }
                                                            }

                |   Number AbsMonth Number              {rc = vDateTime.SetDateFunc((Word) $1, (Word) $2, (Word) $3);}

                ;                                 

TimeExpr        :   Number                                      {     rc = vDateTime.SetTime ((Word) $1,  0,  0);}

                |   Number Number                               {     rc = vDateTime.SetTime ((Word) $1, (Word) $2,  0); }

                |   Number Number Number                    {     rc = vDateTime.SetTime ((Word) $1, (Word) $2, (Word) $3); }
                ;                                                                                    

AMPMTimeExpr    : TimeExpr _DTP_AM                     {     rc = vDateTime.SetTo24hr(TP_AM)     ; }

                | TimeExpr _DTP_PM                     {     rc = vDateTime.SetTo24hr(TP_PM)     ; }

                | _DTP_AM TimeExpr                     {     rc = vDateTime.SetTo24hr(TP_AM)     ; }

                | _DTP_PM TimeExpr                     {     rc = vDateTime.SetTo24hr(TP_PM)     ; }
                ;

SDFDateTimeExpr   : SDFNumber                          { rc = vDateTime.SetSDF ($1);}

               ;

MonthExpr           : AbsMonth                         {     rc = vDateTime.SetNrmMth ($1);}

                   | AbsMonth Number                   {     rc = vDateTime.Set ($1,$2);}
                ;           

Number              : _DTP_LONG                               {     $$ = $1; }
                ;               

SDFNumber           : _DTP_SDF                              {     $$ = $1; }
                ;               

EOS                 : _DTP_EOS                              {     $$ = $1; }
                ;

AbsMonth            : _DTP_MONTH                            {      $$ = $1;  }
                ; 
```

%%

它提供了三班减少冲突。我怎样才能删除它们？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:40:35.227

The shift-reduce conflicts are inherent in the "little language" that your grammar describes. Consider the stream of input tokens

```
_DTP_LONG _DTP_LONG _DTP_LONG EOS 
```

Each `_DTP_LONG` can be reduced as a `Number`. But should

```
Number Number Number 
```

be reduced as a 1-number `DateShortExpr` followed by a 2-number `TimeExpr` or as a 2-number `DateShortExpr` followed by a 1-number `TimeShortExpr`? The ambiguity is built in.

If possible, redesign your language by adding additional symbols to distinguish dates from times--colons to set off the parts of a time and slashes to set off the parts of a date, for instance.

**Update**

I don't think that you can use yacc/bison's [precedence](http://www.gnu.org/software/bison/manual/html_node/Non-Operators.html) features here, because the tokens are indistinguishable.

You will have to rely on yacc/bison's default behavior when it encounters a [shift/reduce conflict](http://www.gnu.org/software/bison/manual/html_node/Shift_002fReduce.html), that is, to shift rather than reduce. Consider this example in your output:

```
+-------------------------     STATE 9     -------------------------+

+ CONFLICTS:

? sft/red (shift & new state 12, rule 11) on _DTP_LONG

+ RULES:

  DateShortExpr :  Number^    (rule 11)
  DateShortExpr :  Number^Number
  DateShortExpr :  Number^Number Number
   DateLongExpr :  Number^AbsMonth
   DateLongExpr :  Number^AbsMonth Number

+ ACTIONS AND GOTOS:

      _DTP_LONG : shift & new state 12
     _DTP_MONTH : shift & new state 13
                : reduce by rule 11

         Number : goto state 26
       AbsMonth : goto state 27 
```

What the parser will do is to shift and apply rule 12, rather than reduce by rule 11 (`DateShortExpr : Number`). This means the parser will never interpret a single `Number` as a `DateShortExpr`; it will always shift.

And a difficulty with relying on the default behavior is that it might change as you make modifications to your grammar.

# css - Adsense 中的“广告选择”文本显示在 div 之外

> ID：14807485
> 
> 赞同：2
> 
> 时间：2013-02-11T07:14:44.923
> 
> 标签：css, wordpress, adsense

在过去的几天里，我一直在努力解决一个棘手的问题。有时，我网站上的 Adsense 广告会在 div 之外显示“广告选择”徽标，而不是像应有的那样显示在广告本身的角落。这是我正在谈论的一个例子：

[http://farm9.staticflickr.com/8531/8464557562_836bdb2910_b.jpg](http://farm9.staticflickr.com/8531/8464557562_836bdb2910_b.jpg)

您可以在“联系人”导航菜单项的正上方看到“广告选择”徽标。很奇怪吧？有没有人见过这个？任何帮助将非常感激！

该网站是 www.hungryrunnergirl.com 但这个问题很难诊断，因为它不会每次都发生。在出现问题之前，我必须坐在网站上并刷新几次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:03:28.583

将“广告”设置为 text-align=center; 在 css 中也设置高度

# jquery - jQuery循环间隔

> ID：14807489
> 
> 赞同：0
> 
> 时间：2013-02-11T07:15:01.683
> 
> 标签：jquery, jquery-animate

我有一系列动画坐标堆叠在一个循环内。我想在一段时间内运行**所有坐标，当它完成所有坐标时，它必须从顶部开始并再次运行它们。**

循环有效，但它在通过循环时不会从第一个坐标 (`'top':'+=50'`和`'left':'+=300'`) 开始。

```
var port = $('span.view-port'),
    yoyoDuration = 100,
    run = setInterval( function (){
            port.animate({
            'top': '+=50',
            'left': '+=300'
            }, {duration: 1500}) /* -- first co-ordinates -- */
            .animate({
            'top': '+=80',
            'left': '-=300'
            }, {duration: 1500})
            .animate({
            'left': '+=300',
            }, {duration: 2500})
            .animate({
            'top': '-=80',
            'left': '-=300'
            }, {duration: 2500})
            .animate({
            'top': '+=150',
            'left': '+=300'
            }, {duration: 2500})
            .animate({
            'top': '+=50',
            'left': '-=300'
            }, {duration: 2500}) /* -- last co-ordinates -- */
    }, 500);

    setTimeout(function () {
    }, yoyoDuration); 
```

演示：http: [//jsfiddle.net/simomultimedia/NXSVk/1/](http://jsfiddle.net/simomultimedia/NXSVk/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:16:55.527

似乎有一个数学错误。如果您希望最后一个动画将元素移动到起始位置，请将其更改为：

```
.animate({
    'top': '-=200',
    'left': '-=300'
} 
```

**但是，如果您希望它在您当前**的最后一个动画之后开始移动，那么在此之后添加以下动画：

```
.animate({
    'top': '-=250'
} 
```

# java - Java 7 中方法 pack() 中的 NullPointerException

> ID：14807490
> 
> 赞同：0
> 
> 时间：2013-02-11T07:15:03.283
> 
> 标签：java, swing, nullpointerexception

我用 NetBeans Swind 创建了应用程序。为了形成我添加了我自己的 JList：

```
public class JStaticMessagesList extends JList<StaticMessagePanel> implements StaticMessages<StaticMessagePanel> {

private JStaticMessagesList.MyListModel messages = new MyListModel();
private final StaticMessagesForm messgeForm;

public JStaticMessagesList(StaticMessagesForm messgeForm) {
    this.messgeForm = messgeForm;
}

public JStaticMessagesList(StaticMessagesForm messgeForm, StaticMessages<StaticMessage> staticMessages) {
    this(messgeForm);

    for (StaticMessage msg : staticMessages) {
        messages.addElement(new StaticMessagePanel(messgeForm, msg));
    }
}

@Override
public void add(StaticMessagePanel msg) {
    messages.addElement(msg);
}

@Override
public void deleteStaticMessage(StaticMessagePanel msg) {
    messages.removeElement(msg);
}

@Override
public Iterator<StaticMessagePanel> iterator() {
    return messages.iterator();
}

@Override
public ListModel<StaticMessagePanel> getModel() {
    return null;
}

@Override
public final void setModel(ListModel<StaticMessagePanel> model) {
    if (model instanceof MyListModel) {
        super.setModel(model);
    }
}

public class MyListModel extends DefaultListModel<StaticMessagePanel> implements Iterable<StaticMessagePanel> {

    @Override
    public Iterator<StaticMessagePanel> iterator() {
        return new MyModelIterator(this);
    }

    private class MyModelIterator implements Iterator<StaticMessagePanel> {

        private int idx = 0;
        private final MyListModel model;

        private MyModelIterator(MyListModel model) {
            this.model = model;
        }

        @Override
        public boolean hasNext() {
            return model.getSize() > idx + 1;
        }

        @Override
        public StaticMessagePanel next() {
            return model.get(idx++);
        }

        @Override
        public void remove() {
            throw new UnsupportedOperationException("Removing with iterator is not supported!");
        }
    }
}
} 
```

添加我的组件而不是普通的 JList 后，我​​得到了非常讨厌的异常，我不知道如何处理它。我也很确定问题出在这个组件上，因为当我删除它时一切正常。

联系方式：

```
Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
at javax.swing.plaf.basic.BasicListUI.updateLayoutState(BasicListUI.java:1342)
at javax.swing.plaf.basic.BasicListUI.maybeUpdateLayoutState(BasicListUI.java:1311)
at javax.swing.plaf.basic.BasicListUI.getPreferredSize(BasicListUI.java:578)
at javax.swing.JComponent.getPreferredSize(JComponent.java:1660)
at javax.swing.ScrollPaneLayout.layoutContainer(ScrollPaneLayout.java:790)
at java.awt.Container.layout(Container.java:1503)
at java.awt.Container.doLayout(Container.java:1492)
at java.awt.Container.validateTree(Container.java:1688)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validate(Container.java:1623)
at java.awt.Container.validateUnconditionally(Container.java:1660)
at java.awt.Window.pack(Window.java:817)
at com.p.staticmessages.gui.StaticMessagesForm.initComponents(StaticMessagesForm.java:319)
at com.p.staticmessages.gui.StaticMessagesForm.<init>(StaticMessagesForm.java:37)
at com.p.staticmessages.gui.StaticMessagesForm.<init>(StaticMessagesForm.java:27)
at com.p.staticmessages.gui.StaticMessagesForm$14.run(StaticMessagesForm.java:411)
at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:705)
at java.awt.EventQueue.access$000(EventQueue.java:101)
at java.awt.EventQueue$3.run(EventQueue.java:666)
at java.awt.EventQueue$3.run(EventQueue.java:664)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:675)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:90)

Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
at javax.swing.plaf.basic.BasicListUI.updateLayoutState(BasicListUI.java:1342)
at javax.swing.plaf.basic.BasicListUI.maybeUpdateLayoutState(BasicListUI.java:1311)
at javax.swing.plaf.basic.BasicListUI.getPreferredSize(BasicListUI.java:578)
at javax.swing.JComponent.getPreferredSize(JComponent.java:1660)
at javax.swing.ScrollPaneLayout.layoutContainer(ScrollPaneLayout.java:790)
at java.awt.Container.layout(Container.java:1503)
at java.awt.Container.doLayout(Container.java:1492)
at java.awt.Container.validateTree(Container.java:1688)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validateTree(Container.java:1697)
at java.awt.Container.validate(Container.java:1623)
at java.awt.Window.dispatchEventImpl(Window.java:2711)
at java.awt.Component.dispatchEvent(Component.java:4687)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)
at java.awt.EventQueue.access$000(EventQueue.java:101)
at java.awt.EventQueue$3.run(EventQueue.java:666)
at java.awt.EventQueue$3.run(EventQueue.java:664)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
at java.awt.EventQueue$4.run(EventQueue.java:680)
at java.awt.EventQueue$4.run(EventQueue.java:678)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:677)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:90) 
```

PS **com.p.staticmessages.gui.StaticMessagesForm.(StaticMessagesForm.java:37) 代码中的**
这一行（此处未列出）与 pack() 一致。

 *** * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:26:56.883

恕我直言，问题在这里：

```
@Override
public ListModel<StaticMessagePanel> getModel() {
    return null;
} 
```

没有模型，列表就无法工作。删除此方法。**

# openssl - OpenSSL“遇到自签名证书”错误 v1.0.1c

> ID：14807492
> 
> 赞同：0
> 
> 时间：2013-02-11T07:15:07.730
> 
> 标签：openssl, wget

为什么 在运行 openssl 1.0.1c 的系统中`wget https://www.asb.co.nz`会出错，而在运行 0.9.8g 的系统中却正常？`Self-signed certificate encountered`

# iphone - 按照教程中的说明调用 FBSession.activeSession 会导致 NSException

> ID：14807494
> 
> 赞同：1
> 
> 时间：2013-02-11T07:15:13.987
> 
> 标签：iphone, ios, facebook, exception

我正在尝试在我的 iphone 应用中启用 Facebook 登录。

我正在遵循此页面上的说明： [https ://developers.facebook.com/docs/howtos/login-with-facebook-using-ios-sdk/#step4](https://developers.facebook.com/docs/howtos/login-with-facebook-using-ios-sdk/#step4)

我已按照第 4 步（登录 Facebook）中的说明进行操作，但我的代码在运行时崩溃了。

这是我导致崩溃的方法：

```
- (void)applicationDidBecomeActive:(UIApplication *)application
{
    // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.

    // We need to properly handle activation of the application with regards to Facebook Login
    // (e.g., returning from iOS 6.0 Login Dialog or from fast app switching).
    NSLog(@"here 1");
    NSLog(@"active session: %@",FBSession.activeSession);
    [FBSession.activeSession handleDidBecomeActive];
    NSLog(@"here 2");
} 
```

这是我在崩溃时的堆栈跟踪（应用名称替换为 XXX）：

```
2013-02-11 17:31:17.956 TRIO[9426:907] here 1
* thread #1: tid = 0x2503, 0x324d9960 libobjc.A.dylib`objc_exception_throw, stop reason = breakpoint 1.1
frame #0: 0x324d9960 libobjc.A.dylib`objc_exception_throw
frame #1: 0x3161af98 CoreFoundation`-[NSException raise] + 8
frame #2: 0x0009f7cc XXX`-[FBSession initWithAppID:permissions:defaultAudience:urlSchemeSuffix:tokenCacheStrategy:] + 240 at FBSession.m:236
frame #3: 0x0009f6d6 XXX`-[FBSession initWithAppID:permissions:urlSchemeSuffix:tokenCacheStrategy:] + 46 at FBSession.m:208
frame #4: 0x0009f680 XXX`-[FBSession init] + 32 at FBSession.m:191
frame #5: 0x000a061a XXX`+[FBSession activeSession] + 62 at FBSession.m:568
frame #6: 0x00073c4e XXX`-[AppDelegate applicationDidBecomeActive:] + 66 at AppDelegate.m:118
frame #7: 0x38e3bae2 UIKit`-[UIApplication _stopDeactivatingForReason:] + 342
frame #8: 0x38e219b8 UIKit`-[UIApplication _runWithURL:payload:launchOrientation:statusBarStyle:statusBarHidden:] + 1072
frame #9: 0x38dc9c38 UIKit`-[UIApplication handleEvent:withNewEvent:] + 1004
frame #10: 0x38dc96cc UIKit`-[UIApplication sendEvent:] + 72
frame #11: 0x38dc911a UIKit`_UIApplicationHandleEvent + 6154
frame #12: 0x393605a2 GraphicsServices`_PurpleEventCallback + 590
frame #13: 0x393601d2 GraphicsServices`PurpleEventCallback + 34
frame #14: 0x315f0172 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 34
frame #15: 0x315f0116 CoreFoundation`__CFRunLoopDoSource1 + 138
frame #16: 0x315eef98 CoreFoundation`__CFRunLoopRun + 1384
frame #17: 0x31561ebc CoreFoundation`CFRunLoopRunSpecific + 356
frame #18: 0x31561d48 CoreFoundation`CFRunLoopRunInMode + 104
frame #19: 0x38e2047c UIKit`-[UIApplication _run] + 668
frame #20: 0x38e1d2f8 UIKit`UIApplicationMain + 1120
frame #21: 0x00073748 XXX`main + 96 at main.m:16 
```

当我运行 Facebook 示例代码时，它们运行良好，而且我相信我已经添加了所有必需的框架。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T20:19:41.487

我遇到了与上面相同的错误，这是因为我没有将自己的 FacebookAppID 以及“URL 类型”键添加到项目的 info.plist

# android - 如何限制用户在编辑文本中输入超过 5 行？

> ID：14807497
> 
> 赞同：0
> 
> 时间：2013-02-11T07:15:52.097
> 
> 标签：android, android-edittext

我正在开发一个带有一些表单的 android 应用程序。在我的输入字段描述部分中，不应允许用户输入超过 5 行。我不知道如何防止用户在编辑文本字段中输入超过 5 行。我已经尝试过`android:maxLines=5`和`android:lines=5`。但那些并没有给我的功能。任何人都可以建议一种方法来停止在编辑文本中输入超过 5 行。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:23:13.907

该属性`maxLines`对应于 的最大高度`EditText`，它控制外部边界而不是内部文本行。

没有简单的方法可以像您想要的那样限制输入的行。您必须在代码中手动完成

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:26:38.653

嗯，我认为这需要更多的计算取决于字体大小和线宽，所以在这种情况下，我更喜欢将`maxLength`属性设置为 100 个字符，否则您需要在用户输入时计算当前文本大小。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:19:04.643

当用户尝试提交时验证该字段。使用提示通知用户所需的长度。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T07:20:29.113

`android:maxLines`并`android:lines`限制可见行数，`android:maxLines=5`将edittext扩展到5行，并`android:lines=5`创建5行跨度。

如果您想限制输入的长度，您需要使用`android:maxLength=5`如下答案所示：[https ://stackoverflow.com/a/3285421/1056359](https://stackoverflow.com/a/3285421/1056359)

# ruby-on-rails - 在每个页面上显示“升级浏览器”模式

> ID：14807498
> 
> 赞同：0
> 
> 时间：2013-02-11T07:15:58.437
> 
> 标签：ruby-on-rails

如果用户从旧浏览器访问我网站上的任何页面，我想向他们显示自定义的“升级浏览器”模式对话框。

我知道如何检测浏览器，但是 - 我无法弄清楚将代码放在哪里以显示模式以及如何做到这一点。ApplicationController before_filter 可以渲染一个调用.modal('show')的js吗？还有什么办法吗？纯js？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:45:29.693

这将最适合使用 Javascript 解决。

*   使用 Modernizr 检测您需要的浏览器功能
*   如果 Modernizr 测试失败，则显示某种弹出框

将modernizr.js 添加到您的项目中并将此javascript 插入到您的application.js 中：

```
Modernizr.load([
    {
        test: Modernizr.cssgradients,
        nope: function () { alert('Sorry, your browser does not support a required feature of this site. Please upgrade or use another browser.'); }
    }
]); 
```

将“Modernizr.cssgradients”更改为您需要的任何功能。

如果你不想把它作为一个简单的“警报”，你可以使用类似[noty.js](http://needim.github.com/noty/)的东西，将上面的方法替换为`alert`：

```
noty({text: 'Sorry, your browser does not support a required feature of this site. Please upgrade or use another browser.'}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:32:47.087

将 div/modal 放在布局文件中（最有可能是 app/views/layouts/application.html.erb），然后根据您的需要将其包装在有条件的 rails 中，如下所示：

```
<body>
    ....
    <% if (old_browsers.include?(current_browser) %>
        <div class="old-browser-modal">
            ....
        </div>
    <% end %>
</body> 
```

# php - 更改我的网络应用程序的网址

> ID：14807500
> 
> 赞同：1
> 
> 时间：2013-02-11T07:16:01.520
> 
> 标签：php, http, https

我有一个由 php 开发的 Web 应用程序。我可以通过使用`http://www.example.com`. 现在我需要任何时候，用户`example.com`输入它会显示的 url，`https://www.example.com`而不是`http://www.example.com`. `https`是否有可能或者我必须在代码开发过程中从一开始就照顾好自己？请帮助我如何做到这一点。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:18:15.950

让您的服务器发出 HTTP 301 状态，并将 Location 标头重定向到 HTTPS 站点。

您可以使用该`header`函数在 PHP 级别执行此操作，但我会在 Web 服务器级别执行此操作。在 Apache HTTPD（您没有指定您的服务器）中，只需要`Redirect 301 / https://example.com/`在端口 80 HTTP 站点的虚拟主机配置中。

（注意：Apache Redirect 指令将维护 URI 的其余部分，因此`http://example.com/foo`将重定向到`https://example.com/foo`等等）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:21:14.167

在htaccess中试试

用于带域的 Web 服务器

```
 RewriteEngine on
 RewriteCond %{REQUEST_URI} ^https://www.example.com/(.*)$
 RewriteRule %{REQUEST_URI}  https://www.example.com/$1 [S=1,L]

 RewriteCond %{HTTP_HOST} ^example\.com [NC,OR]
 RewriteCond %{HTTP_HOST} [A-Z]
 RewriteRule ^(.*)$ https://www.example.com/$1 [R=301,L] 
```

对于本地服务器

```
 Options +FollowSymLinks -MultiViews
 RewriteEngine on
 RewriteCond %{REQUEST_URI} ^https://localhost/(.*)$
 RewriteRule %{REQUEST_URI}  https://localhost/$1 [S=1,L]

 RewriteCond %{HTTP_HOST} ^localhost [NC,OR]
 RewriteCond %{HTTP_HOST} [A-Z]
 RewriteRule ^(.*)$ https://localhost/kernel/$1 [R=301,L] 
```

# iphone - 代码在 iPhone 上不起作用

> ID：14807501
> 
> 赞同：0
> 
> 时间：2013-02-11T07:16:07.590
> 
> 标签：iphone, popen

以下代码不适用于设备*它不会进入设备上的 while 循环，*但它在模拟器上运行。

```
int status;
char value[1024] = "abcd";
FILE *fp = popen("openssl enc -aes-128-cbc -k secret -P -md sha1 2>&1", "r");
if (fp == NULL)
    exit(1); // handle error
int i=0;
NSString *strAESKey;
while (fgets(value, 1024, fp) != NULL)
{
    i++;
    if(i==2)
    {
        strAESKey=[NSString stringWithFormat:@"%s",value];
        break;
    }
}

status = pclose(fp);
if (status == -1)
{
    /* Error reported by pclose() */
}
else
{
    /* Use macros described under wait() to inspect `status' in order
                         to determine success/failure of command executed by popen() */
} 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T07:36:19.583

iOS 应用程序沙箱禁止使用该`fork`函数，该函数`popen`使用。模拟器不使用沙箱，但设备使用。

您将需要直接使用 openssl 库，而不是使用命令行程序。iOS 公共 API 不包含 openssl 库，因此您需要自己构建一个静态库。您可以通过搜索找到一些帮助。我将从[这篇博](http://atastypixel.com/blog/easy-inclusion-of-openssl-into-iphone-app-projects/)文开始。

# python - Python数据描述符不起作用

> ID：14807506
> 
> 赞同：1
> 
> 时间：2013-02-11T07:16:45.333
> 
> 标签：python

我有这段代码用于测试数据描述符

```
class DataDescriptor(object):
    def __init__(self):
        self.value = 1990

    def __get__(self,obj,cls):
        print "__get__ in Data descriptor"
        return self.value

    def __set__(self,obj,value):
        self.obj = value
        print "__set__ in Non Data Descriptor"

    def __del__(self,obj):
        print "__del__ in Non Data Descriptor"
        del self.obj

class NonDataDescriptor(object):
    def __get__(self,obj,cls):
        print "__get__ in Non Data descriptor"

class C(object):
    dd = DataDescriptor()
    ndd =NonDataDescriptor()
    def __init__(self):
        self.__value = 1

cobj = C()
cobj.dd 
```

当我执行它时，我只能看到打印语句，但我看不到我在 get 函数中退休的实际值

我的输出只有这个

```
__get__ in Data descriptor 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:19:58.467

您没有打印返回值。所以，你没有看到。

你需要做： -

```
print cobj.dd 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:24:51.210

你的意思是这样的吗？

```
def __get__(self, obj, cls):
    print "__get__ in Data descriptor", self.value
    return self.value 
```

请参阅[描述符操作指南](http://docs.python.org/2/howto/descriptor.html#descriptor-example)

# android - 反向地理位置

> ID：14807513
> 
> 赞同：1
> 
> 时间：2013-02-11T07:17:11.807
> 
> 标签：android, geolocation, gps

我的 gps 位置是我的确切位置吗？如果是这样，任何人都可以提供一些资源来将纬度经度位置转换为城市或地方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:22:38.717

> 我的 gps 位置是我的确切位置吗？

这可能会因您实际所处的位置而异。通常 GPS 信号的误差范围往往在 5 到 50m 之间。这可以在蜂窝塔和其他网络结构的帮助下减少。拥有清晰、通畅的天空视野也有助于获得准确的信号。

> 如果是这样，任何人都可以提供一些资源来将纬度经度位置转换为城市或地方。

您可以尝试使用 Google 的[Geocoding API](https://developers.google.com/maps/documentation/geocoding/)或开源对应的[Nominatim 。](http://wiki.openstreetmap.org/wiki/Nominatim)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:20:51.240

从[Geocoder](http://developer.android.com/reference/android/location/Geocoder.html)对象，您可以调用`getFromLocation`

```
public List<Address> getFromLocation (double latitude, double longitude, int maxResults) 
```

它将返回具有[getLocality方法的](http://developer.android.com/reference/android/location/Address.html#getLocality%28%29)[Address](http://developer.android.com/reference/android/location/Address.html)对象列表

```
Geocoder gcd = new Geocoder(context, Locale.getDefault());
List<Address> addresses = gcd.getFromLocation(lat, lng, 1);
if (addresses.size() > 0) 
    System.out.println(addresses.get(0).getLocality()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:21:43.163

试试这个

```
Geocoder gCoder = new Geocoder(myContext);
ArrayList<Address> addresses = gCoder.getFromLocation(123456789, 123456789, 1);
if (addresses != null && addresses.size() > 0) {
Toast.makeToast(myContext, "country: " + adresses.get(0).getCountryName(), Toast.LENGTH_LONG).show();
} 
```

# telerik - 如何将 rad 控件转换为 silverlight 中的图像

> ID：14807514
> 
> 赞同：0
> 
> 时间：2013-02-11T07:17:13.357
> 
> 标签：telerik, telerik-grid, rad-controls, radchart

我正在使用 rad 控件（图表和 gridview）来开发应用程序，我需要将控件（每个）导出到图像中。我已经尝试将每个控件转换为字节格式并发送到 web 服务并将它们转换为图像，但有时将字节数据发送到服务会引发错误。是否有任何其他方式将每个控件转换为图像。我尝试了另一种方式。

```
 Stream fileStream = File.OpenRead(@"\\HARAVEER-PC\TempImages\FlashPivot.png");

        //PART 2 - use the stream to write the file output.
        productChart.ExportToImage(fileStream, new Telerik.Windows.Media.Imaging.PngBitmapEncoder());
        fileStream.Close(); 
```

它给我一个错误，例如无法访问文件夹 TempImages。我已向所有人授予共享权限，但它无法访问该文件夹。

任何解决方案都非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T20:05:15.960

```
 private BitmapImage CreateChartImages()
    {
        Guid photoID = System.Guid.NewGuid();
        string photolocation = @"D:\Temp\" + photoID.ToString() + ".jpg";  

        BitmapImage bi = new BitmapImage(new Uri(photolocation, UriKind.Absolute));

        using (MemoryStream ms = new MemoryStream())
        {
            radChart.ExportToImage(ms, new PngBitmapEncoder());
            bi.SetSource(ms);
        }
        return bi;
    } 
```

# objective-c - 获得正确的取景器选择 Objective-C

> ID：14807516
> 
> 赞同：1
> 
> 时间：2013-02-11T07:17:19.243
> 
> 标签：objective-c, selection, finder

我要求我的小项目的用户打开一个查找器窗口并选择一个或多个对象。也允许选择无。在这种情况下，所有项目都被使用。

在我的应用程序中，我检查第一个窗口并尝试获取所选项目（文件或文件夹），请参见**Code1**。
*请注意，有些变量是全局变量并在 .h 中声明，有些变量只是被重置。*

如果用户没有在取景器中乱摸，这很好用。但他可以做几件事来欺骗我的应用程序。他可以打开一个查找器窗口，例如并选择一些文件。之后他可以点击桌面（finder窗口中的选择仍然存在，这是正确的），然后直接在桌面上选择项目。当他返回我的应用程序时，它会正确识别打开的窗口，但会将桌面上的项目用作我不想要的选定项目。我想做什么，我想在最前面的窗口中选择项目，但我不知道我该怎么做。

有什么线索吗？

**代码1**

```
- (void)applicationWillBecomeActive:(NSNotification *)notification  {

   [self psProgressWrapper:FALSE :_spinningWheel :spinningWheelText ] ;

   NSUInteger *countArray = 0;
   asResult = @""; //this variable holds the path to the folder the frontmost window belongs to 

   selectionFlag = FALSE; //reset
   allFilesFlag  = FALSE; //reset

      //Get first finder window
    FinderApplication * finder = [SBApplication applicationWithBundleIdentifier:@"com.apple.finder" ] ;
    SBElementArray *windows = [finder FinderWindows ] ;

    if([windows count] >0) {
        FinderWindow *theWindow = [windows objectAtIndex:0 ] ;
        asResult = [theWindow name ] ;  //the name of the first window

         //setting a texfield in the GUI to text and color green
      [_errMessage setStringValue:asResult ] ;
      [_errMessage setTextColor: myGreenColor ] ;

      SBElementArray * selection = [[finder selection] get ] ;
      countArray = [selection count ] ;

      if(countArray == 0) {
         atFilesOriginal = (NSMutableArray*) [self checkForSelection:asResult :TRUE ] ;
      }
      else if(countArray > 0) {
         atFilesOriginal = (NSMutableArray*) [selection arrayByApplyingSelector:@selector(name) ] ;
      }
      else {
         asResult = @"NoWin";
      }
   }
   else {
      asResult = @"NoWin";
      [self checkFinderWindowType ] ;
   }

   [self refreshDRPopsWrapper] ;
   [self psProgressFlag:TRUE Wheel:_spinningWheel Text:spinningWheelText];

   [self goConvertBtnWrapper   ] ;
   [self checkFinderWindowType ] ;

} 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-11T07:49:19.500

> 我想做什么，我想在最前面的窗口中选择项目，但我不知道我该怎么做。

问题是您偏离了既定的人机界面准则。您的用户在使用您的应用程序时会遇到与您编写应用程序一样多的困难。

如果要获取文件/文件夹选择，请使用 NSOpenPanel。

如果您不想要模态窗口，请支持从文件系统拖放。或者使用 NSBrowser 帮助他们浏览和选择应用程序窗口中的文件。

如果您真的想在 Finder 中操作，请创建一个 Finder 插件。

# ruby-on-rails - Ruby on Rails：回形针错误

> ID：14807520
> 
> 赞同：0
> 
> 时间：2013-02-11T07:17:28.077
> 
> 标签：ruby-on-rails, paperclip

我有一个包含名为“application_path”的文件上传字段的表单。我安装了“Paperclip”GEM。但是当我只是提交我的表单而不选择任何文件时，我会收到错误

```
undefined method `application_path_file_name' for #<ApplicationInstance:0x0000000561bc28> 
```

这是该错误页面中显示的我的请求参数

```
{"utf8"=>"✓",
 "authenticity_token"=>"p3Y0SZT6wIonrrnzughybh8hywnkE1i3uBnxwrU4u9w=",
 "application_instance"=>{"device_id"=>"",
 "application_version_profile_id"=>""},
 "commit"=>"Create Application instance"} 
```

上述参数不包含具有空白值的“application_path”。这是我的模型

```
class ApplicationInstance < ActiveRecord::Base
  attr_accessible :application_version_profile_id, :device_id, :is_deleted, :application_path

  # Validations  
  validates :application_version_profile_id, :presence => true  
  validates :device_id, :presence => true
  validates_attachment_presence :application_path                    
  validates_attachment_size :application_path, :less_than=>1.megabyte 
```

我在这里缺少什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:22:16.687

以下链接可以帮助您
[在 Rails 中使用回形针上传图片](http://gkunwar1.wordpress.com/2012/06/25/how-to-upload-file-using-paperclip-in-rails/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T08:37:45.553

您缺少为`ApplicationInstance`. 在你的`application_instance.rb`

```
has_attached_file :application_path, styles: { medium: '300x300>', thumb: '100x100>' } 
```

您可能还缺少可以通过以下方式生成的回形针所需的列

```
rails g paperclip application_instance application_path 
```

# mysql - MySQL中的KEY一般指的是什么？

> ID：14807522
> 
> 赞同：0
> 
> 时间：2013-02-11T07:17:31.627
> 
> 标签：mysql

我已将创建语句复制到剪贴板。它的显示

关键部分：

主键 ( `ID`), 键`contID`( `contID`)

KEY 指的是什么，它是什么类型的 KEY？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:22:16.897

从[13.1.14 开始。创建表语法](http://dev.mysql.com/doc/refman/5.6/en/create-table.html)

> {索引|键}

KEY 是 INDEX 的同义词

[8.3.2\. 使用主键](http://dev.mysql.com/doc/refman/5.5/en/optimizing-primary-keys.html)

> 表的**P​​RIMARY KEY**表示您在最重要的查询中使用的列或列集。它有一个关联的索引，用于快速查询性能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:21:50.003

`KEY`在列上创建索引（或键），以便在查询中更快地查找该列。通常，您会在连接和子句中使用`KEY`的列上使用。`WHERE`

[http://dev.mysql.com/doc/refman/5.1/en/mysql-indexes.html](http://dev.mysql.com/doc/refman/5.1/en/mysql-indexes.html)

# knockout.js - 如何在 c# webforms 中使用 knockoutjs 将数据绑定到表

> ID：14807523
> 
> 赞同：0
> 
> 时间：2013-02-11T07:17:34.873
> 
> 标签：knockout.js, knockout-mapping-plugin, knockout-2.0

我正在从后端获取数据，现在我想将该数据绑定到 webforms 中的表

我以这种方式从后端获取数据

```
[WebMethod]
    [ScriptMethod]    
    private string GetAll()
    {
        SqlConnection con = new SqlConnection(@"Data Source=DEVENV1;Initial Catalog=KnockoutData;Integrated Security=True");       
        SqlCommand cmd = new SqlCommand("select * from sampledb", con);
        con.Open();
        SqlDataReader reader = cmd.ExecuteReader();            
    } 
```

现在在 Webforms 中使用 jquery Ajax iam 获取数据，像这样......

```
<script type="text/javascript">
       $(document).ready(function () {
           $('#btnEdit').click(function () {
               var viewModel;
               $.ajax({
                   type: "GET",
                   url: "KnockoutJs.aspx/GetAll",
                   contentType: "application/json",
                   success: function (data) {
                       var result = JSON.parse(data);
                   }
               });
           });
<script> 
```

现在如何通过使用 knockoutJs foreach 将此数据绑定到下表

```
<table border="1">
<tr>
<th>Student Name</th>
<th>Roll No </th>
</tr>        
</table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:42:46.897

在 viewModel 之前的 javascript 类中添加一个构造函数，并将该值解析为该构造函数。检查此链接可能会对您有所帮助： [Knockoutjs 中的动态表](https://stackoverflow.com/questions/13970521/dynamic-table-in-knockoutjs)

# xcode - NSTableView 的鼠标悬停

> ID：14807524
> 
> 赞同：0
> 
> 时间：2013-02-11T07:17:44.130
> 
> 标签：xcode, nstableview

我的应用程序中有 NSTableView，我使用 HoverTableDemo 添加了行的悬停效果。

我只能为表格中的一行获得悬停效果。

它不适用于整张桌子。

我怎样才能获得全表的悬停效果。

任何人都可以有任何想法请回复我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:22:33.157

看看：[https ://stackoverflow.com/a/464828/1758762](https://stackoverflow.com/a/464828/1758762)

你在正确的轨道上使用 -mouseEntered: 和 -mouseExited:。

查看 NSView 的 -addTrackingRect:owner:userData:assumeInside: 和 -removeTrackingRect: 方法。

```
I can get the hovering effect only for one row in my table. 
```

您可以设置您的 tableView 以在 tableView 的内容发生更改时为其中的每一行创建 trackingRects，或者，每当调用 -tile 或其他与布局相关的方法时，设置/更新整个 tableView 上的一个跟踪区域。

# knockout.js - 从 1 个视图模型中获取值并用作 ajax post knockoutjs 中的数据

> ID：14807527
> 
> 赞同：0
> 
> 时间：2013-02-11T07:17:53.657
> 
> 标签：knockout.js, getjson

我有 2 个视图模型，1 个设置搜索参数，另一个用于搜索结果。

搜索型号：

```
 var CustomerSearchViewModel = {
        SearchType: ko.observable(""),
        SearchString: ko.observable(""),
        setSearchType: function (data, element) {
            this.SearchType($(element.target).val());
        }
    } 
```

结果模型：

```
 var CustomerSearhResultViewModelDS = function (data) {
        var self = this;
        self.CustomerID = ko.observable(data.CustomerID);
        self.CompanyName = ko.observable(data.CustomerName);
        self.CustomerEMail = ko.observable(data.CustomerEMail);
        self.CustomerTelephone = ko.observable(data.CustomerTelephone);
        self.CustomerCompanyName = ko.observable(data.CustomerCompanyName);
        self.CustomerCompanyAddress1 = ko.observable(data.CustomerCompanyAddress1);
        self.CustomerCompanyAddress2 = ko.observable(data.CustomerCompanyAddress2);
        self.CustomerCompanyZipCode = ko.observable(data.CustomerCompanyZipCode);
    }

    var CustomerSearhResultViewModel = function (Customer) {
        var self = this;

        self.Customer = ko.observableArray(Customer);

         $.ajax({
            url: "CreateOrder.aspx/CustomerSearch",
            data: { SearchType: CustomerSearchViewModel.SearchType(), SearchString: CustomerSearchViewModel.SearchString() },
            type: "POST",
            contentType: "application/json; charset=utf-8",
            dataType: "JSON",
            timeout: 10000,
            success: function (Result) {
                var MappedCustomer =
              $.map(Result.d,
             function (item) {
                 return new CustomerSearhResultViewModelDS(item);
             }
               );
                self.Customer(MappedCustomer);
            },
            error: function (xhr, status) {
                alert(status + " - " + xhr.responseText);
            }
        });
    }; 
```

我的后端代码：

```
 [WebMethod]
    [ScriptMethod(ResponseFormat = ResponseFormat.Json)]
    public static List<CustomerAddress> CustomerSearch(int SearchType, string SearchString)
    {
       //int Converted;
       //Int32.TryParse(SearchType,out Converted);

        nopcommerce144Entities entities = new nopcommerce144Entities();
        List<CustomerAddress> json = null;

        switch (SearchType)
        {
            case 0:
                json = (from cr in entities.Addresses
                               where cr.Company.Contains(SearchString)
                               select new CustomerAddress()
                               {
                                   CustomerCompanyName = cr.Company,
                                   CustomerID = (from cid in entities.Affiliates
                                                 join cus in entities.Customers on cid.Id equals cus.AffiliateId
                                                 where cid.AddressId == cr.Id
                                                 select (int)cus.Id).First(),
                                   CustomerCompanyAddress1 = cr.Address1,
                                   CustomerCompanyAddress2 = cr.Address2,
                                   CustomerCompanyZipCode = cr.ZipPostalCode,
                                   CustomerName = cr.FirstName + " " + cr.LastName,
                                   CustomerTelephone = cr.PhoneNumber,
                                   CustomerEMail = cr.Email
                               }
                                ).ToList();

                break;
            case 1:
                json = (from cr in entities.Addresses
                            where cr.City.Contains(SearchString)
                            select new CustomerAddress()
                            {
                                CustomerCompanyName = cr.Company,
                                CustomerID = (from cid in entities.Affiliates
                                              join cus in entities.Customers on cid.Id equals cus.AffiliateId
                                              where cid.AddressId == cr.Id
                                              select (int)cus.Id).First(),
                                CustomerCompanyAddress1 = cr.Address1,
                                CustomerCompanyAddress2 = cr.Address2,
                                CustomerCompanyZipCode = cr.ZipPostalCode,
                                CustomerName = cr.FirstName + " " + cr.LastName,
                                CustomerTelephone = cr.PhoneNumber,
                                CustomerEMail = cr.Email
                            }
            ).ToList();

                break;
            case 2:
                json = (from cr in entities.Addresses
                              where cr.ZipPostalCode.Contains(SearchString)
                              select new CustomerAddress()
                              {
                                  CustomerCompanyName = cr.Company,
                                  CustomerID = (from cid in entities.Affiliates
                                                join cus in entities.Customers on cid.Id equals cus.AffiliateId
                                                where cid.AddressId == cr.Id
                                                select (int)cus.Id).First(),
                                  CustomerCompanyAddress1 = cr.Address1,
                                  CustomerCompanyAddress2 = cr.Address2,
                                  CustomerCompanyZipCode = cr.ZipPostalCode,
                                  CustomerName = cr.FirstName + " " + cr.LastName,
                                  CustomerTelephone = cr.PhoneNumber,
                                  CustomerEMail = cr.Email
                              }
           ).ToList();

                break;
            case 3:
               json = (from cr in entities.Addresses
                                   where cr.FirstName.Contains(SearchString) || cr.LastName.Contains(SearchString)
                                   select new CustomerAddress()
                                   {
                                       CustomerCompanyName = cr.Company,
                                       CustomerID = (from cid in entities.Affiliates
                                                     join cus in entities.Customers on cid.Id equals cus.AffiliateId
                                                     where cid.AddressId == cr.Id
                                                     select (int)cus.Id).First(),
                                       CustomerCompanyAddress1 = cr.Address1,
                                       CustomerCompanyAddress2 = cr.Address2,
                                       CustomerCompanyZipCode = cr.ZipPostalCode,
                                       CustomerName = cr.FirstName + " " + cr.LastName,
                                       CustomerTelephone = cr.PhoneNumber,
                                       CustomerEMail = cr.Email
                                   }
            ).ToList();

               break;
            case 4:
               json = (from cr in entities.Addresses
                           where cr.PhoneNumber.Contains(SearchString)
                           select new CustomerAddress()
                           {
                               CustomerCompanyName = cr.Company,
                               CustomerID = (from cid in entities.Affiliates
                                             join cus in entities.Customers on cid.Id equals cus.AffiliateId
                                             where cid.AddressId == cr.Id
                                             select (int)cus.Id).First(),
                               CustomerCompanyAddress1 = cr.Address1,
                               CustomerCompanyAddress2 = cr.Address2,
                               CustomerCompanyZipCode = cr.ZipPostalCode,
                               CustomerName = cr.FirstName + " " + cr.LastName,
                               CustomerTelephone = cr.PhoneNumber,
                               CustomerEMail = cr.Email
                           }
            ).ToList();

               break;
            case 5:
                json = (from cr in entities.Addresses
                             where cr.Email.Contains(SearchString)
                             select new CustomerAddress()
                             {
                                 CustomerCompanyName = cr.Company,
                                 CustomerID = (from cid in entities.Affiliates
                                               join cus in entities.Customers on cid.Id equals cus.AffiliateId
                                               where cid.AddressId == cr.Id
                                               select (int)cus.Id).First(),
                                 CustomerCompanyAddress1 = cr.Address1,
                                 CustomerCompanyAddress2 = cr.Address2,
                                 CustomerCompanyZipCode = cr.ZipPostalCode,
                                 CustomerName = cr.FirstName + " " + cr.LastName,
                                 CustomerTelephone = cr.PhoneNumber,
                                 CustomerEMail = cr.Email
                             }
                ).ToList();
                break;
        }
        return json;
    } 
```

我想通过 Ajax 帖子将值从 CustomerSearchViewModel 传递给 CustomerSearchResult 使用这一行：

```
 { SearchType: CustomerSearchViewModel.SearchType(), SearchString: CustomerSearchViewModel.SearchString() }, 
```

执行时出现以下错误： ****{“消息”：“无效的 JSON 基元：SearchType。”，“StackTrace”：“在 System.Web.Script.Serialization.JavaScriptObjectDeserializer.DeserializePrimitiveObject()\r\n 在 System.Web.Script.Serialization.JavaScriptObjectDeserializer.DeserializeInternal( Int32 深度）\r\n 在 System.Web.Script.Serialization.JavaScriptObjectDeserializer.BasicDeserialize（字符串输入，Int32 depthLimit，JavaScriptSerializer 序列化程序）\r\n 在 System.Web.Script.Serialization.JavaScriptSerializer.Deserialize（JavaScriptSerializer 序列化程序，字符串输入，类型类型，Int32 depthLimit)\r\n 在 System.Web.Script.Serialization.JavaScriptSerializer.Deserialize[T](字符串输入)\r\n 在 System.Web.Script.Services.RestHandler.GetRawParamsFromPostRequest(HttpContext 上下文, JavaScriptSerializer 序列化程序)\r\n 在 System.Web.Script.Services。RestHandler.GetRawParams(WebServiceMethodData methodData, HttpContext context)\r\n at System.Web.Script.Services.RestHandler.ExecuteWebServiceCall(HttpContext context, WebServiceMethodData methodData)","ExceptionType":"System.ArgumentException"}****

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:07:13.497

您应该作为数据对象传递值，而不是字符串。

这应该是：

```
data: {CustomerSearchViewModel.SearchType(), CustomerSearchViewModel.SearchString()} 
```

您还应该将其称为函数，因为它是可观察的。

您还应该在 FireBug 或其他控制台工具中检查 JSON 向服务器发送的内容。

我希望它有帮助

# android - 文本文件大小

> ID：14807536
> 
> 赞同：2
> 
> 时间：2013-02-11T07:18:37.500
> 
> 标签：android

我在 sd 卡中有一个文本文件，我想从我的 android 应用程序中以编程方式获取 mb 中文本文件的大小。如何以编程方式获取文本文件的大小（以 MB 为单位）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T07:21:56.760

试试下面的代码：

```
public long fileSizeInKb(String fileName) {
    File file = new File(fileName);
    long fileSize = file.length();
    return fileSize / 1024;                    
} 
```

如果您仍然面临任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T07:23:58.277

使用[File](http://developer.android.com/reference/java/io/File.htm)类方法[public long getTotalSpace()](http://developer.android.com/reference/java/io/File.html#getTotalSpace%28%29)

和[公共长长度（）](http://developer.android.com/reference/java/io/File.htm)

像，

```
File file = new File("/mnt/sdcard/temp.txt");
String size = readableFileSize(file.getTotalSpace()); // file.length() alternate 
```

和方法**readableFileSize()**

```
public String readableFileSize(long size) {
    if(size <= 0) return "0";
    final String[] units = new String[] { "B", "KB", "MB", "GB", "TB" };
    int digitGroups = (int) (Math.log10(size)/Math.log10(1024));
    return new DecimalFormat("#,##0.#").format(size/Math.pow(1024, digitGroups)) + " " + units[digitGroups];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:23:23.053

您需要打开文件流，然后像这样检查大小：

```
File file=new File(Environment.getExternalStorageDirectory(), "lala.txt");
long size = file.length(); 
```

有关更多信息，请尝试阅读此处：[获取 android sdk 中的文件大小？](https://stackoverflow.com/q/7131930/1056359)

# php - 从 php 文件中获取消息？

> ID：14807539
> 
> 赞同：0
> 
> 时间：2013-02-11T07:18:47.187
> 
> 标签：php, parameters, get, message

我有一个外部 php 文件，我向它发送如下参数： [http ://www.smsws.com/sendsms.php?user=demo&password=demo&numbers=973390000000&sender=hgicom.com&message=test&lang=en](http://www.smsws.com/sendsms.php?user=demo&password=demo&numbers=973390000000&sender=hgicom.com&message=test&lang=en)

当我转到该链接时，如果登录无效或号码不正确，它将显示一条消息，..etc 我想知道如何获取该消息，因为基于此消息，我将在我的应用程序中执行操作。那可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:26:19.200

```
$msgurl='http://www.smsws.com/sendsms.php?user=demo&password=demo&numbers=973390000000&sender=hgicom.com&message=test&lang=en;
$result=file_get_contents($msgUrl);
switch($result) {
case 'successful':
   echo ' awesome';
   break;
} 
```

您也可以使用 if 语句，具体取决于发回的输入

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:30:01.660

```
$url="http://www.smsws.com/sendsms.php?user=demo&password=demo&numbers=973390000000&sender=hgicom.com&message=test&lang=en"
$res=file_get_contents($url);
if($res)
{
     echo "message successfully send";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:25:08.437

您将需要使用 cURL 来获取页面，以及一些像[http://simplehtmldom.sourceforge.net/](http://simplehtmldom.sourceforge.net/)这样的 html 解析器来解析响应。

有很多资源如何使用 cURL，这里是基本的一个 [http://www.higherpass.com/php/Tutorials/Using-Curl-To-Query-Remote-Servers/](http://www.higherpass.com/php/Tutorials/Using-Curl-To-Query-Remote-Servers/)

# sublimetext2 - Sublime Text 2 的 Haxe 插件

> ID：14807541
> 
> 赞同：1
> 
> 时间：2013-02-11T07:18:54.613
> 
> 标签：sublimetext2, haxe

今天醒来发现 Sublime Text 2 的 Haxe 插件无法正常工作。我尝试将其删除并重新安装，但没有成功。有人对如何调试有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:43:21.170

看起来它已从“HaXe”重命名为“Haxe”。您可以尝试卸载（Cmd-Shift-P，“删除包”），然后重新安装（Cmd-Shift-P，“包管理器：安装包”）。

如果这没有帮助，也许您可​​以查看控制台 ( `View -> Show Console`) 并查找与 Haxe 相关的任何错误消息并将它们发布在这里...

# php - Twilio - 2 次响铃后转接呼叫

> ID：14807544
> 
> 赞同：7
> 
> 时间：2013-02-11T07:19:08.030
> 
> 标签：php, twilio

是否可以使用 Twilio 将来电转接到电话号码 A（假设 416-555-1234），如果电话号码 A 忙或在 2 或 3 次响铃后没有接听，则转接到电话号码 B？

XML 现在看起来像这样：

```
<xml version="1.0" encoding="UTF-8"?>
<Response>
    <Dial>
        <Number>416-555-1234</Number>
    </Dial>
</Response> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T16:41:48.403

这是电话网络有点奇怪的地方之一。你听到的铃声只是一个录音......与其他任何东西没有同步或关系。此外，它会在网络*开始*连接您的呼叫时立即启动，而不是在另一端的物理设备开始响铃时启动。这显然是国际呼叫，您（呼叫者）可能已经听到 10 次铃声，但接收者只响了一次或两次。

无论如何，这样做的策略一点也不难。您正在寻找的是 Dial 动词上的超时参数：http: [//www.twilio.com/docs/api/twiml/dial#attributes-timeout](http://www.twilio.com/docs/api/twiml/dial#attributes-timeout)

当计时器到期时，它会转到您指定的 TwiML。默认值为 30 秒，但我发现 15-20 秒对于反应更灵敏的前锋来说是一个相当不错的范围。

*（披露：此处为 Twilio 员工。）*

# arduino - Arduino 和 RC 发射器

> ID：14807546
> 
> 赞同：4
> 
> 时间：2013-02-11T07:19:19.870
> 
> 标签：arduino

我是 Arduino 和这个论坛的新手，这是我除了教程之外的第一个 Arduino 项目。

我正在尝试使用 rc 发射器/接收器和 Arudino 来控制伺服。我使用 Arduino 而不是将伺服直接连接到 RC 接收器的原因是 RC 只能生成 1000µs 到 2000µs 的 PWM，而我需要 600µs 到 2400µs 的 PWM 才能获得伺服的完整运动范围. 我试图做的是从 pulseIn() 中读取值，然后将该值映射到 0 到 180 度，如下面的代码中所写（使用伺服库）。

但是，使用此代码，电机行为很奇怪。当我在其运动范围内移动无线电发射器控制杆时，电机从 0 度旋转到 45 度，从 45 度旋转到 0 度、0 度到 45 度，然后再次回到 0 度，而不是从 0 度旋转到 180 度。有人可以提供一些帮助或建议吗？

非常感谢

```
#include <Servo.h> 
Servo myservo;

int ch1; 
int ch2;
int ch3;
int degree;

void setup() {
  pinMode(7, INPUT);
  myservo.attach(9);
  Serial.begin(9600); 
}

void loop() {
  ch3 = pulseIn(7, HIGH, 25000);
  degree = ((ch3-1250)* 180)/700;
  Serial.print("Channel 3:");
  Serial.println(ch3);
  myservo.write(degree);
  delay(5);  // waits 5ms for the servo to reach the position 
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T08:12:10.913

您正在溢出**int**数据类型。带符号的值只能是 -32768 到 +32767。请参阅[int 文档](http://arduino.cc/en/Reference/Int)

您的公式都是**int**的，编译器不会猜测您可能需要更大的中间值。乘以 180 是一个危险信号。(2000-1250)*180 = 135000 = 繁荣

要理解数学，请将公式分解为各个操作，如下面的测试程序所示。这本质上就是编译器为你做的事情。

运行下面的程序，你会看到失败。就在out值达到45之后，中间值溢出，公式就崩溃了。

```
in: 1040 out: 39   t0: -210 t1: 27736 t2: 39  
in: 1048 out: 41   t0: -202 t1: 29176 t2: 41  
in: 1056 out: 43   t0: -194 t1: 30616 t2: 43  
in: 1064 out: 45   t0: -186 t1: 32056 t2: 45  
in: 1072 out: -45   t0: -178 t1: -32040 t2: -45  
in: 1080 out: -43   t0: -170 t1: -30600 t2: -43 
```

使用下面的这个程序作为测试夹具。修改数据类型以使用 unsigned int，您将能够使输出行为符合您的需要。

```
int ch3;
int degree;

void setup() {
    ch3 = 1000;
    Serial.begin(9600); 
}

void loop() {
    int t0, t1, t2;

    degree = ((ch3-1250)* 180)/700;

    t0 = ch3 - 1250;
    t1 = t0 * 180;
    t2 = t1 / 700;

    Serial.print("in: ");
    Serial.print(ch3);
    Serial.print(" out: ");
    Serial.print(degree);
    Serial.print("   t0: ");
    Serial.print(t0);
    Serial.print(" t1: ");
    Serial.print(t1);
    Serial.print(" t2: ");
    Serial.println(t2);

    ch3 += 8;
    if(ch3 > 2400) {
        ch3 = 1000;
    }

    delay(100);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T01:17:14.373

请注意，您可能会在[https://robotics.stackexchange.com/](https://robotics.stackexchange.com/)上获得更多 Arduino/伺服运气。

您在串行输出上看到了什么？ch3 是从 0 循环到 45 还是从 0 循环到 180？不要忘记，`map()`它的设计目的是在这里手工完成您正在做的事情。

我的第一个怀疑是你偶尔会得到 0，`pulseIn`因为你超时了，或者你在脉冲中间开始阅读（这可能导致比你预期的更短的脉冲）。

# http - 用于打开服务的 http 会话的命令行命令

> ID：14807551
> 
> 赞同：0
> 
> 时间：2013-02-11T07:19:46.537
> 
> 标签：http, session

我想知道是否可以通过命令行或批处理文件打开服务的 http 会话。我想要实现的是检查特定服务是否允许超过 x 个活动连接。

注意：我无法在我的生产机器上安装任何实用程序。

问候， Prayag

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T14:33:49.110

嗯...您可以尝试编写一个通过 telnet 连接到您的网络服务器并请求根页面的 VBS 文件。

创建一个`.vbs`文件并放置此内容。然后从提示符执行它。

```
set WshShell = WScript.CreateObject("WScript.Shell")
WshShell.Run "cmd"
WScript.Sleep 100
WshShell.SendKeys "telnet www.yahoo.com 80~" 'subst www.yahoo.com with your host
WScript.Sleep 5000
WshShell.SendKeys "GET / HTTP/1.0~~"
WScript.Sleep 2000
WshShell.SendKeys "^C~" 'close telnet
WScript.Sleep 1000
WshShell.SendKeys "exit~" 'close prompt 
```

# jquery - 奇怪的 AJAX 重定向问题

> ID：14807552
> 
> 赞同：2
> 
> 时间：2013-02-11T07:19:52.077
> 
> 标签：jquery, ajax

我正在经历一些我以前从未见过的奇怪症状，或者上次我使用类似的东西时认为不存在。

我正在尝试通过`$.ajax`jQuery 获取页面。这很好用，但是如果页面通过标头进行重定向，则会导致 AJAX 请求本身被重定向，而不是整个页面。我的印象是这会发生。

我很清楚，当它发生时，我无法通过 jQuery 和 AJAX 检测到重定向。但是，我以后有可能检测到它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:29:56.030

似乎是一个奇怪的 ajax 用例。window.location() 是一个可行的选择吗？

```
window.location = newUrl; 
```

# c++ - 根据数组中的字符串检查从文件中读入的单词

> ID：14807558
> 
> 赞同：0
> 
> 时间：2013-02-11T07:20:23.107
> 
> 标签：c++, arrays, input, char, duplicates

我一生都无法弄清楚为什么这不起作用。我必须对文件中的单词列表进行频率检查，并且在读取它们时，我试图根据字符串数组中的元素检查当前单词，并确保它们在我之前不相等添加它。这是代码：

```
fin.open(finFile, fstream::in);

if(fin.is_open()) {
    int wordArrSize;
    while(!fin.eof()) {
        char buffer[49]; //Max number chars of any given word in the file
        wordArrSize = words.length();

        fin >> buffer;

        if(wordArrSize == 0) words.push_back(buffer);

        for(int i = 0; i < wordArrSize; i++) { //Check the read-in word against the array
            if(strcmp(words.at(i), buffer) != 0) { //If not equal, add to array
                words.push_back(buffer);
                break;
            }
        }

        totNumWords++; //Keeps track of the total number of words in the file
    }
    fin.close(); 
```

这是一个学校项目。我们不允许使用任何容器类，所以我构建了一个结构来处理扩展 char** 数组、推回和弹出元素等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:25:43.397

我认为你的代码`words.push_back(buffer);`应该在 for 循环之外。放置一个标志以检查是否在 for 循环内的数组中找到缓冲区，并根据标志将其添加到 for 循环外的数组中

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:34:03.437

```
for(int i = 0; i < wordArrSize; i++) { //this part is just fine
    if(strcmp(words.at(i), buffer) != 0) { //here lies the problem
         words.push_back(buffer);
         break;
    }
} 
```

`if`每次当前单词`i`与数组中的第一个单词不匹配时，您都将输入您的语句。因此，大多数时候，当您进入循环时，这将是第一次迭代。这意味着在循环的开始（在字符串列表中与缓冲区不匹配的第一个单词上），您会将缓冲区添加到字符串列表并中断循环。

您应该做的是完成检查整个`words`数组，然后才将缓冲区添加到数组中。所以你应该有这样的东西：

```
bool bufferIsInTheArray = false;//assume that the buffered word is not in the array.
for(int i = 0; i < wordArrSize; i++) { 
    if(strcmp(words.at(i), buffer) == 0) {
         //if we found a MATCH, we set the flag to true
         //and break the cycle (because since we found a match already
         //there is no point to continue checking)
         bufferIsInTheArray = true;
         break;
    }
//if the flag is false here, that means we did not find a match in the array, and 
//should add the buffer to it.
if( bufferIsInTheArray == false )
    words.push_back(buffer);
} 
```

# sql-server-2008 - 用小时和分钟查找两个日期之间的日期？在 Sql 服务器中？

> ID：14807559
> 
> 赞同：0
> 
> 时间：2013-02-11T07:20:28.060
> 
> 标签：sql-server-2008

![在此处输入图像描述](../Images/424d6e9af469d3337c5819ec34bcd719.png)在 sql 中，我编写了一个 select 语句来查找日期。我在这里，包括时间，我的选择声明也是这样......

```
 select * from test where           
(
(
(DATEDIFF (day,@dat1,req_frmdate)=0 or DATEDIFF (day,@dat2,req_todate)=0)
and
(DATEDIFF (HOUR,@dat1,req_frmdate)=0 or DATEDIFF (HOUR,@dat2,req_todate)=0)
and 
(DATEDIFF (MINUTE,@dat1,req_frmdate)=0 or DATEDIFF (MINUTE,@dat2,req_todate)=0)
)       
or
  (
( @dat1 between req_frmdate and req_todate) or
( @dat2 between req_frmdate and req_todate) or
(req_frmdate between @dat1 and @dat2) or
( req_todate between @dat1 and @dat2)
)       
        ) 
```

但是当我通过日期一段时间时它不考虑时间。这个查询对吗？当我传递日期时，例如 @date1='2013-02-20 09:00' 和 @date2='2013-02-20 12:00' 但我的数据库中没有关于这个日期和时间的记录在我的数据库中记录 req_frmdate='2013-02-20 13:00' 和 req_todate='2013-02-20 16:00'

在我的表格的屏幕截图中，我的表格中有该记录，当我传递两个日期时，例如 @date1='2013-02-20 9:00' 和 @date2='2013-02-20 12:00'记录出现在我的选择语句中，它不应该出现日期不同，这是我的查询。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:39:01.350

假设您希望记录将仅显示**IF 两者** `REQ_FRMDATE`并且`REQ_TODATE`将在您的两个参数的日期之间，那么您可以使用`BETWEEN`子句：

```
DECLARE @dat1 DATETIME SET @dat1 ='2013-02-20 09:00.000'
DECLARE @dat2 DATETIME SET @dat2 ='2013-02-20 12:00.000'
SELECT * 
FROM test 
WHERE
   (req_frmdate BETWEEN @dat1 AND @dat2)
   AND (req_todate BETWEEN @dat1 AND @dat2) 
```

# cocoa-touch - 引用方法中的部分

> ID：14807560
> 
> 赞同：0
> 
> 时间：2013-02-11T07:20:28.167
> 
> 标签：cocoa-touch, uitableview

我正在进行调查，例如显示问题和答案的项目。我`tableView`用标签和按钮显示它们。但是现在我不知道如何处理选择的每个答案。

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
 NSMutableArray *sectionItems=[self.finalarray objectAtIndex:indexPath.section];
    int n=[sectionItems count];

    NSString *question = [NSString stringWithFormat:@"%@",[[sectionItems  objectAtIndex:indexPath.row] objectForKey:@"Question"]];
    CGSize constraint1 = CGSizeMake(320, 2000.0f);
    CGSize size1 = [question sizeWithFont: [UIFont fontWithName:@"Helvetica-Bold" size:14] constrainedToSize:constraint1 lineBreakMode:NSLineBreakByWordWrapping];
    lblQuestion = (UILabel *)[hlcell viewWithTag:1];
    lblQuestion.text = [NSString stringWithFormat:@"%@",question];

    lblQuestion. numberOfLines=0;
    lblQuestion.frame = CGRectMake(10,15, size1.width, size1.height);

 UIButton *btTemp1 = [[UIButton alloc]initWithFrame:CGRectMake(10, lblQuestion.frame.origin.y+lblQuestion.frame.size.height,10, 15)];
        [btTemp1 addTarget:self action:@selector(radioButtonClicked:) forControlEvents:UIControlEventTouchUpInside];
        btTemp1.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft;
        [btTemp1 setImage:[UIImage imageNamed:@"radio_button_off.png"] forState:UIControlStateNormal];
        [btTemp1 setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
        btTemp1.titleLabel.font =[UIFont systemFontOfSize:14.f];
        [hlcell.contentView addSubview:btTemp1];

        NSLog(@"%@",[[sectionItems  objectAtIndex:1] objectForKey:@"Description"]);
        NSString *option1 = [NSString stringWithFormat:@"%@",[[sectionItems  objectAtIndex:1] objectForKey:@"Description"]];
        CGSize constraint2 = CGSizeMake(320, 2000.0f);
        CGSize size2 = [option1 sizeWithFont: [UIFont fontWithName:@"Helvetica-Bold" size:14] constrainedToSize:constraint2 lineBreakMode:NSLineBreakByWordWrapping];
        lblOption1 = (UILabel *)[hlcell viewWithTag:1];
        lblOption1.text = [NSString stringWithFormat:@"%@",option1];
        [lblOption1 setNumberOfLines:0];
        lblOption1.frame = CGRectMake(30,lblQuestion.frame.origin.y+lblQuestion.frame.size.height, size2.width, size2.height);
        [hlcell.contentView addSubview:lblanswers];

        UIButton *btTemp2 = [[UIButton alloc]initWithFrame:CGRectMake(10, lblOption1.frame.origin.y+lblOption1.frame.size.height,10, 15)];
        [btTemp2 addTarget:self action:@selector(radioButtonClicked:) forControlEvents:UIControlEventTouchUpInside];
        btTemp2.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft;
        [btTemp2 setImage:[UIImage imageNamed:@"radio_button_off.png"] forState:UIControlStateNormal];
        [btTemp2 setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
        btTemp2.titleLabel.font =[UIFont systemFontOfSize:14.f];
        [hlcell.contentView addSubview:btTemp2];

        NSString *option2 = [NSString stringWithFormat:@"%@",[[sectionItems  objectAtIndex:2] objectForKey:@"Description"]];
        CGSize constraint3 = CGSizeMake(320, 2000.0f);
        CGSize size3 = [option2 sizeWithFont: [UIFont fontWithName:@"Helvetica-Bold" size:14] constrainedToSize:constraint3 lineBreakMode:NSLineBreakByWordWrapping];
        lblOption2 = (UILabel *)[hlcell viewWithTag:2];
        lblOption2.text = [NSString stringWithFormat:@"%@",option2];
        [lblOption2 setNumberOfLines:0];
        lblOption2.frame = CGRectMake(30,lblOption1.frame.origin.y+lblOption1.frame.size.height, size3.width, size3.height);
        [hlcell.contentView addSubview:lblOption2];

return hlcell;
} 
```

我有 10 个问题，我怎样才能在每个部分中选择答案并存储它。我无法引用 indexpath。方法中的部分`radioButtonClicked`。如果我`radiobutton`在一个部分中选择一个，它会被启用，而其他部分会被禁用。但是，如果我`radiobutton`在其他部分检查所有`radiobuttons`先前检查的内容也将被禁用。如何单独处理一个部分的单选按钮选择。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:32:56.477

将单击的 indexPath 存储在字典中，并根据所选值管理单元格显示。`cellForRowAtIndexPath`根据存储的值，在创建它们时将它们设置为选中。喜欢：

```
if([[selectedRows valueForKey:stringRepresentationOfIndexPath] boolValue] == YES)
  [btTemp1 setSelected:YES]; 
```

**编辑：** `selectedRows`是包含所选行数据的字典，在 中更新它`didSelectRowAtIndexPath`，或单击但单击（如果您这样做）。

# python - python上的密码加密？

> ID：14807563
> 
> 赞同：0
> 
> 时间：2013-02-11T07:20:29.683
> 
> 标签：python, django-templates, mezzanine

我只是在 python 中创建一个新的应用程序进行注册。我保存了数据库中的所有字段，并且成功创建了用户，但密码保存与我们在注册时填写的相同。如何加密或使用 python 的默认功能作为密码。

请建议我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:52:59.857

要使离线密码破解更加昂贵，您可以使用[bcrypt](http://pypi.python.org/pypi/py-bcrypt/)。

如果您仅限于 stdlib，则[`crypt`Unix 上有模块](http://docs.python.org/3/library/crypt)：

```
hashed = crypt.crypt(plaintext) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T22:32:56.203

您应该对密码进行哈希处理，以下代码根据您在 settings.py 中的 PASSWORD_HASHERS 对原始输入密码进行哈希处理

```
from django.contrib.auth.hashers import make_password
pass = make_password(raw_pass) # hashing is done here
user.set_password(pass) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-24T17:02:50.040

不要自己实现这些东西，否则你可能会做错。

对于密码存储，使用一些可逆编码或对称加密或来自 hashlib 的简单哈希甚至是随机加盐的哈希都是当今的主要失败。

如果您使用的是 django，请使用 django 提供的一些强算法（通常是以下之一：bcrypt、pbkdf2、sha512_crypt）。

不使用 django 时：使用 passlib - 阅读其文档后。

[http://code.google.com/p/passlib/](http://code.google.com/p/passlib/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T07:29:27.200

对于实际加密，您可以尝试[M2Crypto](http://chandlerproject.org/Projects/MeTooCrypto)或[PyCrypto](https://www.dlitz.net/software/pycrypto/)。这些可能是您正在寻找的；但是，还有其他方法可以为*普通*用户混淆密码：

（如果您想阅读更多关于哪种加密方法最适合您的答案，请查看此相关的 SO 帖子：[推荐的 Python 加密模块？](https://stackoverflow.com/questions/1137874/recommended-python-cryptographic-module)

[hashlib](http://docs.python.org/2/library/hashlib.html)将提供各种哈希算法（例如“SHA1、SHA224、SHA256、SHA384 和 SHA512”）。一个简单的例子：

```
import hashlib
enc = hashlib.md5()
enc.update("Somerandompassword")
print enc.hexdigest() 
```

这将为您打印 md5 “Somerandompassword”： `c5532f9e756b4583db4c627c8aa7d303`

但是，对于 (base64) *encoding*，例如，尝试：

```
import base64
enc = base64.b64encode("Somerandompassword") 
```

和*解码*

```
dec = base64.b64decode("U29tZXJhbmRvbXBhc3N3b3Jk")
print dec 
```

将打印：`Somerandompassword`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T07:26:20.737

在从用户处（以及注册时）获取密码时对密码进行散列以对其进行加密。

```
import hashlib
m = hashlib.sha1()
m.update("My users' password here")
m.digest() 
```

参考：[http ://docs.python.org/2/library/hashlib.html#module-hashlib](http://docs.python.org/2/library/hashlib.html#module-hashlib)

# iphone - 在 iPhone 中突出显示文本

> ID：14807565
> 
> 赞同：0
> 
> 时间：2013-02-11T07:20:41.307
> 
> 标签：iphone, ios, xcode, text, highlight

我正在开发一个应用程序，我需要让用户突出显示给定段落中的一些文本。用户将选择一些文本，然后突出显示它。功能与 Adob​​e reader ios app 或 iBooks 相同。经过大量的头脑风暴，我发现 UIWebView 可以解决我的问题。但它随后会产生有关其他应用程序要求的其他关键问题。所以我不得不放弃这个想法。

我仍然不知道如何进行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:10:24.863

试试[这个示例代码](https://github.com/AliSoftware/OHAttributedLabel)。我认为它应该可以帮助您解决这个问题。

# javascript - 从 javascript 中获取价值到速度

> ID：14807571
> 
> 赞同：1
> 
> 时间：2013-02-11T07:21:03.067
> 
> 标签：javascript, ajax, rest, velocity

我有一个 javascript 函数，它返回一个值。我需要在我的速度模板的变量中获取这个值，有人可以帮帮我。下面是我正在尝试的代码。我知道这是不正确的 我没有得到价值

```
<script type="text/javascript">
function getCurrentUserTime(key)
{
var user;
     $.ajax({
        url: "/rest/1.0/compute/TST-30",
        type: 'get',
        dataType: 'json',
        async: false,
        success: function(data) {
            user = data.sla;
        } 
     });
     return user[0].remainingTime;
}
</script>

$key="test"
#set($time=getCurrentUserTime('$key'))
$time 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:29:26.577

问题是该函数试图在 ajax 调用完成之前返回 user[0].remainingTime。我建议您使用回调处理返回值：

```
function getCurrentUserTime(key, callback) {
    var user;
    $.ajax({
        url: "/rest/1.0/compute/TST-30",
        type: 'get',
        dataType: 'json',
        async: false,
        success: function(data) {
            user = data.sla;
            if(callback && typeof callback === 'function') {
                callback(user[0].remainingTime);
            }
        } 
    });

}

getCurrentUserTime('$key', function(val) {
    // handle val
}); 
```

您可以通过 google 找到很多关于在 javascript 中使用回调的指南。

# asp.net - 将 Excel 文件导入到 .net 在生产中的一段时间后无法正常工作

> ID：14807574
> 
> 赞同：2
> 
> 时间：2013-02-11T07:21:16.620
> 
> 标签：asp.net

我已经开发了使用 c# 将 excel 工作表数据导入网格的代码。它在 Local 中运行良好，当涉及到生产时，在一段时间后它会给出错误提示`Unspecified error`。如果我重置 IIS 服务器，它会得到解决。任何人都可以建议永久解决方案吗？

打开 Excel 的示例代码：

```
fileName = Path.GetFileName(fuExcel.PostedFile.FileName);
                    string fileExtension = Path.GetExtension(fuExcel.PostedFile.FileName);
                    string fileLocation = Server.MapPath("~/App_Data/" + fileName);
                    fuExcel.SaveAs(fileLocation);
                    string connectionString = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source= '" + fileLocation + "';Extended Properties=\"Excel 8.0;HDR=Yes;IMEX=2\"";
                    DataTable dtFromExcel = new DataTable();
                    DataTable dtBarcodeDetails = new DataTable();
                    string Sheet = System.Configuration.ConfigurationManager.AppSettings["SheetName"].ToString();
                    using (OleDbConnection excelConnection = new OleDbConnection(connectionString))
                    {   
                        OleDbCommand cmd = new OleDbCommand("Select * from [" + Sheet + "$]", excelConnection);
                        excelConnection.Open();
                        OleDbDataReader dReader;
                        dReader = cmd.ExecuteReader();
                        dtFromExcel.Load(dReader);
                        excelConnection.Close();
                    } 
```

配置代码：

```
 <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
        <identity impersonate="false"/>
<httpRuntime maxRequestLength="1048576" executionTimeout="43200"/>
    </system.web> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:59:24.817

我想如果在您的 Excel 处理中引发异常，您的连接将被处理。但我不确定它是否会关闭。如果你尝试这样的事情，它会改变什么吗？

```
using (OleDbConnection excelConnection = new OleDbConnection(connectionString))
{
    try
    {
        OleDbCommand cmd = new OleDbCommand("Select * from [" + Sheet + "$]", excelConnection);
        excelConnection.Open();
        OleDbDataReader dReader;
        dReader = cmd.ExecuteReader();
        dtFromExcel.Load(dReader);
    }
    finally
    {
        if (excelConnection != null && excelConnection.State == ConnectionState.Open)
            excelConnection.Close();
        OleDbConnection.ReleaseObjectPool();
    }
} 
```

希望这会有所帮助

# ios - iTunes Connect 下载统计

> ID：14807577
> 
> 赞同：0
> 
> 时间：2013-02-11T07:21:28.103
> 
> 标签：ios, app-store-connect

ITC 销售趋势需要几天才能生效是否正常？我们已经发布了我们的第一个应用程序，它于昨天早上上线。我从游戏中心的分数知道至少有 100 人在玩它，但 ITC 显示有 11 次下载。

更奇怪的是，它显示了美国，加拿大，哥伦比亚和墨西哥的数据，但是我的朋友和朋友的朋友在澳大利亚有很多人在玩。事实上，我会假设大多数球员都在澳大利亚，那么我们地区的统计数据是否可能存在某种滞后？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:27:30.567

有时，我发现 ITC 无法提供足够的信息。相反，我使用的是适用于 iOS 的 Google Analystics，该事件可以提供实时数据。[https://developers.google.com/analytics/devguides/collection/ios/](https://developers.google.com/analytics/devguides/collection/ios/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T22:36:06.430

看起来数据在一夜之间更新了。除了昨天的北美和中美洲之外，它现在还显示来自欧洲和亚洲国家的统计数据。所以我想我只需要多一点耐心。

# ruby-on-rails - 如何访问关联模型的关联模型？

> ID：14807578
> 
> 赞同：0
> 
> 时间：2013-02-11T07:21:29.617
> 
> 标签：ruby-on-rails, activerecord

我有一个包含多个帖子的主题。每个 Post 属于一个 User，每个 User 都有一个 Profile。

在特定主题的“显示”页面中，我尝试显示创建帖子的用户的个人资料信息：

```
<% @topic.posts.each do |post| %>

<%= post.user.profile.first_name %>

<% end %> 
```

我收到以下错误：

> nil:NilClass 的未定义方法“profile”

知道为什么它不允许我访问个人资料吗？请指教。

我的主题控制器如下：

```
class TopicsController < ApplicationController
  # GET /topics
  # GET /topics.json
  add_breadcrumb :index, :topics_path

  def index
    if params[:tag]
        @topics = Topic.tagged_with(params[:tag])
    else
        @topics = Topic.all
    end

    @newtopic = Topic.new

    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @topics }
    end
  end

  # GET /topics/1
  # GET /topics/1.json
  def show
    @topic = Topic.find(params[:id])
    @posts = @topic.posts
    @newpost = @topic.posts.build
    add_breadcrumb @topic.name

    respond_to do |format|
      format.html # show.html.erb
      format.json { render json: @topic }
    end
  end

  # GET /topics/new
  # GET /topics/new.json
  def new
    add_breadcrumb :new, :topics_path
    @topic = Topic.new

    respond_to do |format|
      format.html # new.html.erb
      format.json { render json: @topic }
    end
  end

  # GET /topics/1/edit
  def edit
    @topic = Topic.find(params[:id])
  end

  # POST /topics
  # POST /topics.json
  def create
    @topic = Topic.new(params[:topic])

    @topic.user_id = current_user.id
    @topic.last_poster_id = current_user.id
    @topic.last_post_at = Time.now

    respond_to do |format|
      if @topic.save
        format.html { redirect_to @topic, notice: 'Topic was successfully created.' }
        format.json { render json: @topic, status: :created, location: @topic }
      else
        format.html { render action: "new" }
        format.json { render json: @topic.errors, status: :unprocessable_entity }
      end
    end
  end

  # PUT /topics/1
  # PUT /topics/1.json
  def update
    @topic = Topic.find(params[:id])

    respond_to do |format|
      if @topic.update_attributes(params[:topic])
        format.html { redirect_to @topic, notice: 'Topic was successfully updated.' }
        format.json { head :no_content }
      else
        format.html { render action: "edit" }
        format.json { render json: @topic.errors, status: :unprocessable_entity }
      end
    end
  end

  # DELETE /topics/1
  # DELETE /topics/1.json
  def destroy
    @topic = Topic.find(params[:id])
    @topic.destroy

    respond_to do |format|
      format.html { redirect_to topics_url }
      format.json { head :no_content }
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:10:17.587

检查您的数据库。很可能在您的数据库中有一个不对应于任何用户的帖子。由于该帖子的用户为无，因此配置文件变为未定义的`nil:NilClass`用户（空）。

这主要发生在您创建属于用户的帖子但随后从数据库中删除属于该帖子的用户时。

正确的方法是在您的用户模型中施加一个约束，该约束应该是 -

```
class Post
 belongs_to :user, :dependent => :destroy
end 
```

因此，如果用户被删除，该用户的相应帖子也会被删除。

请注意，在使用表强加它们之间的关系后，直接从数据库中删除记录不是一个好习惯。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T00:41:33.360

您的错误是由 show action 中的`@topic.posts.build`这一行和 view 中的这一行引起的`@topic.posts.each`。由于您正在控制器中构建新帖子，因此`@topic.posts`包括最有可能将用户设为 nil 的新记录。因此，解决您的问题的方法是使用`@posts`而不是`@topic.posts`在您的视图中。

# objective-c - 标签文本未更新（cocos2d）

> ID：14807581
> 
> 赞同：0
> 
> 时间：2013-02-11T07:21:52.610
> 
> 标签：objective-c, cocos2d-iphone

我有一个课程，我打算将其重用于具有多个级别的游戏，并且在更新标签文本时遇到问题。基本上，我试图在 15 个级别的游戏中重用这个类。所以最初标签的值是1，然后在级别被清除后它应该增加1，然后用更新的文本重新加载类。这就是我尝试更新标签的方式：

```
GameScene *stage= [stage node];
[[CCDirector sharedDirector]replaceScene:stage];

//stageNo is an integer that I pass to the label as it's text value. As long as its less that 15, it should go inside that code block.
if(stageNo < 15)
{
    stageNo = stageNo + 1;
    [stage.layer.stageLabel setString:[NSString stringWithFormat:@"%i", StageNo]];
} 
```

这只能工作一次，所以如果标签的默认值为 1，则在重新加载类后它变为 2。之后，它只是停留在 2。所以我的问题是，我如何在类时更新标签文本重新加载以增加 1？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:55:11.800

在 init() 中将 UILabel 声明与 stringWithFormat 分开。然后它应该可以工作

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T08:07:33.430

似乎这绝对是一个范围问题。根据您的评论，您做了正确的事情并创建了一个名为 stageLabel 的属性。唯一的问题是，当您最初设置它时，您并没有保留它。而不是使用

```
stageLabel = [CCLabelTTF labelWithString:[NSString stringWithFormat:@"%@", stageNo] fontName:@"Arial" fontSize:18]; 
```

你应该使用

```
self.stageLabel = [[CCLabelTTF alloc] initWithString:[NSString stringWithFormat:@"%@", stageNo] fontName:@"Arial" fontSize:18]; 
```

# objective-c - 在 Cocoa View Hierarchy 中是什么决定了 subView 的位置？

> ID：14807587
> 
> 赞同：2
> 
> 时间：2013-02-11T07:22:19.900
> 
> 标签：objective-c, macos, cocoa

我是来自 Java/C# 和 C/C++ 的 cocoa /objective-C 的新手。可可一直让我很头疼。我已经阅读了一篇关于可可视图层次结构的苹果文章。但还是有困惑。

我需要知道何时以编程方式而不是通过界面生成器将子视图添加到视图中。假设在同一个父视图中有其他子视图，视图将相对于其他子视图放置在哪里。

在 java 中有布局管理器，在 C# 中还有垂直/水平面板等，所以我们知道如果我添加一个项目/控件，它将位于现有项目的右侧或底部。

因此，如果我按照以下行所示进行操作，究竟是什么决定了新子视图的放置位置？

```
 [[window contentView] addSubview:newView]; 
```

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:34:51.533

视图的框架定义了它在其父视图坐标中占据的矩形，因此它的位置将是`frame.origin`. 可以在添加子视图之前或之后设置。

[这在View Programming Guide](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CocoaViewsGuide/WorkingWithAViewHierarchy/WorkingWithAViewHierarchy.html%23//apple_ref/doc/uid/TP40002978-CH4-SW2)中有相当清楚的说明。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T06:49:15.463

这取决于您是否使用自动布局。

如果你不是，那么当你创建一个视图时，你调用 -[NSView initWithFrame:(NSRect)frame] 并且该框架将定义视图在超级视图坐标中出现的位置。

```
_view = [[NSTextField alloc] initWithFrame:NSMakeRect (50, 50, 100, 50)]; 
```

将使 NSTextField 大小为 100x50，并将放置在超级视图内 50,50 像素。

如果您使用 Autolayout，则视图的位置完全取决于对其应用的布局约束。使用自动布局，您设置的任何框架都将被忽略。虽然自动布局有一个陡峭的学习曲线，但一旦你设置了约束，它（理论上）意味着你可以忽略布局。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T07:35:23.797

Cocoa 不会自动对齐任何视图。没有像 .net 或 java 那样的初始布局机制。
您必须通过将它们的框架设置为点来手动定位所有视图。
默认情况下，新初始化视图的原点位于 (0,0)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T07:34:11.970

矩形给出了视图在`frame`父视图中的大小和位置。框架位于位置 0,0 (x,y)，默认大小为 0,0 (w,h)。子视图集合中的位置被完全忽略，除非在极少数情况下，如 NSSplitView。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T07:28:08.303

AFAIK，文档和头文件没有准确指定添加的子视图将放置的原点（x，y）。添加子视图后我要做的是在使用 CGRectMake() 重新定位子视图之前计算新的原点（如果适用）大小。

# cocoa - NSArrayController addObject/removeObject 以不同方式更改引用计数

> ID：14807595
> 
> 赞同：0
> 
> 时间：2013-02-11T07:22:48.107
> 
> 标签：cocoa, memory-management, nsarraycontroller, reference-counting

我假设`NSArrayController`'s addObject 和 removeObject 的工作方式类似于 NSMutableArray 中的类似物。

但是，看起来 addObject 将其目标对象的引用计数增加了 3，而`NSArrayController:removeObject`将目标的引用计数仅减少了 1，留下了 2 的差异，这导致了我的代码中的内存泄漏。

```
NSArrayController *ac = [[NSArrayController alloc] init];
NSMutableArray *ma = [[NSMutableArray alloc] initWithCapacity:3];
Custom *obj = [[Custom alloc] init];
NSLog(@"Initial: %lu", [obj retainCount]);

[ma addObject:obj];
NSLog(@"After NSMutableArray:addObject: %lu", [obj retainCount]);
[ma removeObject:obj];
NSLog(@"After NSMutableArray:removeObject: %lu", [obj retainCount]);

[ac addObject:obj];
NSLog(@"After NSArrayController:addObject: %lu", [obj retainCount]);
[ac removeObject:obj];
NSLog(@"After NSArrayController:removeObject: %lu", [obj retainCount]);

[obj release];
NSLog(@"End: %lu", [obj retainCount]); 
```

我期望看到的：

```
2013-02-10 23:11:22.344 Demo[27208:303] Initial: 1
2013-02-10 23:11:22.345 Demo[27208:303] After NSMutableArray:addObject: 2
2013-02-10 23:11:22.345 Demo[27208:303] After NSMutableArray:removeObject: 1
2013-02-10 23:11:22.345 Demo[27208:303] After NSArrayController:addObject: 2
2013-02-10 23:11:22.345 Demo[27208:303] After NSArrayController:removeObject: 1
2013-02-10 23:11:22.345 Demo[27208:303] End: 0 
```

我实际看到的：

```
2013-02-10 23:11:22.344 Demo[27208:303] Initial: 1
2013-02-10 23:11:22.345 Demo[27208:303] After NSMutableArray:addObject: 2
2013-02-10 23:11:22.345 Demo[27208:303] After NSMutableArray:removeObject: 1
2013-02-10 23:11:22.345 Demo[27208:303] After NSArrayController:addObject: 4
2013-02-10 23:11:22.345 Demo[27208:303] After NSArrayController:removeObject: 3
2013-02-10 23:11:22.345 Demo[27208:303] End: 2 
```

我只是使用`NSArrayController`不正确吗？

* * *

# 编辑

以下是 Instruments 的结果。Instruments 说该对象最终会进入一个自动释放池，最终会被 ArrayController 耗尽。据我了解，自动释放池在运行循环结束时被耗尽。但是我的dealloc方法永远不会在我的演示代码中被调用，即使我手动添加了一个NSAutoreleasePool并耗尽它。

# NSMutableArray

### 代码

```
[ma addObject:obj];
NSLog(@"After NSMutableArray:addObject: %lu", [obj retainCount]);
[ma removeObject:obj];
NSLog(@"After NSMutableArray:removeObject: %lu", [obj retainCount]); 
```

### 轮廓

```
#   Address Category    Event Type  RefCt   Timestamp   Size    Responsible Library Responsible Caller
0   0x7fc02c80d170  Custom  Malloc  1   00:00.363.486   16  Demo    -[AppDelegate applicationDidFinishLaunching:]
1   0x7fc02c80d170  Custom  Retain  2   00:00.364.189   0   Demo    -[AppDelegate applicationDidFinishLaunching:]
2   0x7fc02c80d170  Custom  Retain  3   00:00.364.502   0   Demo    -[AppDelegate applicationDidFinishLaunching:]
3   0x7fc02c80d170  Custom  Release 2   00:00.364.503   0   Demo    -[AppDelegate applicationDidFinishLaunching:]
4   0x7fc02c80d170  Custom  Release 1   00:00.364.505   0   Demo    -[AppDelegate applicationDidFinishLaunching:]
5   0x7fc02c80d170  Custom  Release 0   00:00.364.852   0   Foundation  -[NSNotificationCenter postNotificationName:object:userInfo:] 
```

# NSArrayController

### 代码

```
// NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

[ac addObject:obj];
NSLog(@"After NSArrayController:addObject: %lu", [obj retainCount]);
[ac removeObject:obj];
NSLog(@"After NSArrayController:removeObject: %lu", [obj retainCount]);

// [pool drain]; 
```

### 轮廓

```
#   Address Category    Event Type  RefCt   Timestamp   Size    Responsible Library Responsible Caller
0   0x7ff1e923b8d0  Custom  Malloc  1   00:00.389.904   16  Demo    -[AppDelegate applicationDidFinishLaunching:]
1   0x7ff1e923b8d0  Custom  Retain  2   00:00.390.534   0   AppKit  -[NSArrayController _insertObject:atArrangedObjectIndex:objectHandler:]
2   0x7ff1e923b8d0  Custom  Retain  3   00:00.390.554   0   AppKit  -[_NSModelObservingTracker _startObservingModelObject:]
3   0x7ff1e923b8d0  Custom  Retain  4   00:00.390.576   0   AppKit  -[NSArrayController selectedObjects]
4   0x7ff1e923b8d0  Custom  Retain  5   00:00.390.948   0   AppKit  -[NSArrayController removeObject:]
5   0x7ff1e923b8d0  Custom  Release 4   00:00.390.977   0   AppKit  -[_NSModelObservingTracker _stopObservingModelObject:]
6   0x7ff1e923b8d0  Custom  Release 3   00:00.390.984   0   AppKit  -[NSArrayController _removeObjectsAtArrangedObjectIndexes:contentIndexes:objectHandler:]
7   0x7ff1e923b8d0  Custom  Release 2   00:00.391.387   0   Foundation  -[NSNotificationCenter postNotificationName:object:userInfo:]
8   0x7ff1e923b8d0  Custom  Release 1   00:00.395.916   0   Foundation  -[NSAutoreleasePool drain]
9   0x7ff1e923b8d0  Custom  Release 0   00:00.395.919   0   Foundation  -[NSAutoreleasePool drain] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T03:57:09.700

[-retainCount 没用](http://www.friday.com/bbum/2011/12/18/retaincount-is-useless/)。使用 Instruments 查看代码中是否存在实际的内存泄漏。

# python - 在python中归档和归档

> ID：14807598
> 
> 赞同：0
> 
> 时间：2013-02-11T07:23:01.960
> 
> 标签：python, python-3.x, python-2.7

我创建了一个 python 程序，但它不工作。该程序将接受文件的输入，然后显示文件内容。我得到的唯一错误是语法错误，我找不到错误。请帮我 。代码是： -

```
nm = input(“enter file name “)

str = raw_input(“enter ur text here: \n”)

f = open(nm,”w”)

f.write(str)

f.close()

print “1.See the file\n”

print “2.Exit\n”

s = input(“enter ur choice “)

if s == 1 :

    fi  = open(nm,”r”)

    cont  = fi.read()

for i in cont:

    print i

else :

    print “thank you “ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:39:18.190

问题是您正在使用`input()`而不是读取文件名`raw_input()`. 请参阅这个[解释](https://stackoverflow.com/a/5074256/1988505)：

> 如果您使用输入，那么您键入的数据将被解释为 Python 表达式，这意味着您最终会知道目标变量中的对象类型，以及可以生成的大量异常。因此，除非您将某些内容用于临时测试，否则您不应该使用输入，只有对 Python 表达式有所了解的人才能使用。
> 
> raw_input 总是返回一个字符串，因为，哎呀，这就是你总是输入的......但是你可以轻松地将它转换为你想要的特定类型，并捕获可能发生的特定异常。希望有了这个解释，知道你应该使用哪个是不费吹灰之力的。

此外，由于您正在使用 读取文件内容`fi.read()`，因此您的 for 循环`for i in cont:`将一次选择一个文件内容的每个字符，而不是每一行。需要注意的事情！

# linux - 启动 Wowza Media 服务器时出现 JVM 错误

> ID：14807600
> 
> 赞同：1
> 
> 时间：2013-02-11T07:23:19.743
> 
> 标签：linux, jvm, wowza

我已经在基于 CentOS 的 VPS 上安装了 Wowza Media Server 3.5。在第一次启动 Wowza 媒体服务器时，我得到了错误。

*   初始化虚拟机时出错
*   无法为对象堆保留足够的空间
*   错误：无法创建 Java 虚拟机。
*   错误：发生了致命异常。程序将会退出。

我想这是由于JVM的内存分配

*ulimit -a*的输出

 **   核心文件大小（块，-c）0
*   数据段大小 (kbytes, -d) 无限制
*   调度优先级 (-e) 0
*   文件大小（块，-f）无限制
*   待处理信号 (-i) 794624
*   最大锁定内存 (kbytes, -l) 32
*   最大内存大小 (kbytes, -m) 无限制
*   打开文件 (-n) 1024
*   管道大小（512 字节，-p）8
*   POSIX 消息队列（字节，-q）819200
*   实时优先级 (-r) 0
*   堆栈大小（千字节，-s）10240
*   cpu时间（秒，-t）无限制
*   最大用户进程 (-u) 1024
*   虚拟内存 (kbytes, -v) 无限制
*   文件锁 (-x) 无限制

和的

*免费-m*

```
 total       used       free     shared    buffers     cached 
```

内存：1024 1024 0 0 0 0 -/+ 缓冲区/缓存：1024 0 交换：0 0 0

还有一个别名条目，例如

*别名 java='java -Xms8m -Xmx64m'*

这也可能是 JVM 错误的原因。*

# java - 动态线程创建可能出现的问题或安全方法

> ID：14807607
> 
> 赞同：0
> 
> 时间：2013-02-11T07:23:38.900
> 
> 标签：java, multithreading, thread-safety

我正在使用 java 进行套接字编程，我正在使用两个动态线程集

### 首先接受客户端请求...为每个客户端动态创建线程

```
try (ServerSocket listener = new ServerSocket(1000)) {
   while (true) {
   Socket socket = listener.accept();
   logger.debug(socket.getRemoteSocketAddress().toString() + " Has joined :::");
   new ThreadPool(socket).start();
  }
} 
```

### 第二个是接受他们正在发送的客户端数据包并创建新线程来解析客户端数据

```
public void run() { // this run() in ThreadPool class
    while (true) {
    new parserThread();//creating new thread for parsing information
   }
} 
```

但我的问题是在 24 小时后我的应用程序卡住了，并且没有在控制台中打印任何内容。我不知道为什么它会卡住，但我对我的编码方法几乎没有疑问。告诉我这些是否有可能。

1.  在另一个动态线程中创建线程。
2.  线程名称分配问题，因为它的增加如下：

    > 549790 [线程 17569]
    > 549791 [线程 17570]
    > 549792 [线程 17571]

3.  Log4j 控制台附加程序问题。

如果我错了，请纠正我。带有 CountDownLatch 的 ExecutorService 比那个方法更好吗？非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:28:41.280

您可以使用`jstack`标准 JRE 安装中的实用程序来获取运行 Java 应用程序的堆栈跟踪。堆栈跟踪将告诉您应用程序卡住的确切位置。一旦您使用多个线程，您可能会在某处出现死锁。

# asp.net-mvc - 按钮点击参数不传递给控制器

> ID：14807610
> 
> 赞同：0
> 
> 时间：2013-02-11T07:23:52.120
> 
> 标签：asp.net-mvc

我单击按钮，但参数没有传递到我的视图。按钮将正常工作，我刚刚将它放在警报消息上将显示警报消息。我的看法如下

```
 <script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
        <script src="../../Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script src="../../Scripts/jquery-ui-1.8.20.js" type="text/javascript"></script>
        <script src="../../Scripts/jquery-ui-1.8.20.min.js" type="text/javascript"/>               
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                   $('#AddToCard').click(function () {
                    var ProductID = $('#txtproductID').val();
                    var Quantity = $('#txtQuantity').val();
                    var NetAmt = $('#txtNetAmt').val();
                    var ProName = $('#txtPN').val();
                    alert("ID="+ProductID+"QTY=" + Quantity+"NETAMT=" + NetAmt+"Name=" + ProName);
                    $.ajax({
                        type: "POST",
                        url: '../Home/AddOrderItem',
                       data: { productCode: ProductID, quantity: Quantity, NAMT: NetAmt, PName: ProName },

                        success: function (data) {
                             if (data) {
        //                        alert("Added To your Card");
                            }
                      }
                    });
                });

            });
        </script> 
```

**我的控制器是**

```
 public void AddOrderItem(Int64 productCode, int quantity, decimal NAMT, string PName)
            {
                //adds an item to the current order
                OrderDO order = (OrderDO)Session["Order"];
                decimal TotAmt = quantity * NAMT;
                order.Items.Add(new OrderItem(productCode, quantity,NAMT,PName,TotAmt));
                Session["Order"] = order;
              } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:30:28.423

要将结果从控制器返回到视图，您应该返回 Json 对象。

```
public ActionResult AddOrderItem(Int64 productCode, int quantity, decimal NAMT, string PName)
{
    //adds an item to the current order
    OrderDO order = (OrderDO)Session["Order"];
    decimal TotAmt = quantity * NAMT;
    order.Items.Add(new OrderItem(productCode, quantity,NAMT,PName,TotAmt));
    Session["Order"] = order;

    return Json(order, JsonRequestBehavior.AllowGet);
} 
```

# python - 查找两个列表中都不存在的对象的最佳方法

> ID：14807612
> 
> 赞同：4
> 
> 时间：2013-02-11T07:23:54.660
> 
> 标签：python, sorting, data-structures

我正在开发一个模块，该模块依赖于检查两个列表中是否存在任何不存在的对象。该实现应该在 Python 中。

考虑简化的对象 def：

```
class Foo(object):

  def __init__(self, attr_one=None, attr_two=None):
    self.attr_one = attr_one
    self.attr_two = attr_two

  def __eq__(self, other):
    return self.attr_one == other.attr_one and self.attr_two == other.attr_two 
```

我有两个单独的列表，它们可以封装 Foo 类的多个实例，如下所示：

```
list1 = [Foo('abc', 2), Foo('bcd', 3), Foo('cde', 4)]
list2 = [Foo('abc', 2), Foo('bcd', 4), Foo('efg', 5)] 
```

我需要根据 attr_one 找出一个列表中存在而另一个列表中不存在的对象。在这种情况下，下面给出了第一个列表中存在而第二个列表中缺少的项目的所需输出。

```
`['Foo('bcd', 3), Foo('cde', 4)]` 
```

同样，列表 2 中存在但列表 1 中不存在的项目

```
 [Foo('bcd', 4), Foo('efg', 5)] 
```

我想知道是否有办法匹配 attr_one 的基础。

```
 List 1                 List 2        
  Foo('bcd', 3)          Foo('bcd', 4)
  Foo('cde', 4)          None
  None                   Foo('efg', 5) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T07:44:00.713

由于您已经`__eq__`定义了一个方法，您可以使用列表推导来查找任一列表中对象的唯一性。

```
print [obj for obj in list1 if obj not in list2] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T07:43:05.443

快速比较列表以确定哪些元素存在于一个列表中而另一个不存在的一个好方法是从原始列表创建集合并获取两个集合之间的差异。为了使列表成为一个集合，它包含的对象必须是[hashable](http://docs.python.org/2/reference/datamodel.html#object.__hash__)，因此您必须为您的对象定义一个新`__hash__()`方法`Foo`：

```
def __hash__(self):
    return hash((self.attr_one,self.attr_two)) 
```

请注意，由于元组是可散列的，只要`attr_one`和`attr_two`是可散列的类型，这个实现应该是相当可靠的。

现在，要确定哪些元素存在于一个列表中而不存在于另一个列表中：

```
set1 = set(list1)
set2 = set(list2)
missing_from_1 = set2 - set1
missing_from_2 = set1 - set2 
```

要仅基于其中一个属性执行此操作，您可以仅使用属性本身创建集合：

```
set1 = set([i.attr_one for i in list1]) 
```

当然，这意味着您最终得到的结果只会告诉您`attr_one`一个列表中存在的值，而不是另一个列表中的值，而不是给您实际的`Foo`对象。然而，一旦你有了“缺失”的集合，对象本身就很容易找到：

```
missing_Foos = set()
for attr in missing_from_2:
    for i in list1:
        if i.attr_one == attr:
            missing_Foos.add(i) 
```

但是，如果您有很长的列表，这可能会在计算上相当昂贵。

编辑：只有当您有非常大的列表并因此需要利用集合操作的计算效率时，使用集合才真正有用。否则，如另一个答案中所建议的那样，简单地使用列表推导可能会更简单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T07:49:47.213

我有两种方法可以做到这一点 - 使用`sets`或 with `filter`：

```
class Foo(object):

    def __init__(self, attr_one=None, attr_two=None):
        self.attr_one = attr_one
        self.attr_two = attr_two

    def __eq__(self, other):
        return self.attr_one == other.attr_one and self.attr_two == other.attr_two

    def __hash__(self):
        return hash(self.attr_one)

    def __repr__(self):
        return "<Foo {} {}>".format(self.attr_one, self.attr_two)

def main():
    a = Foo('test', 1)
    b = Foo('test', 1)

    list1 = [Foo('abc', 2), Foo('bcd', 3), Foo('cde', 4)]
    list2 = [Foo('abc', 2), Foo('bcd', 4), Foo('efg', 5)]

    # With sets
    list1set = set(list1)
    list2set = set(list2)

    print list1set.intersection(list2set) 
    # Returns set([<Foo abc 2>])

    # With filter
    list2attr_one = [l.attr_one for l in list2]
    print filter(lambda x: x.attr_one in list2attr_one, list1)
    # Returns [<Foo abc 2>, <Foo bcd 3>] 
```

# resque - 固定 Sidekiq 或 Resque 队列的通知

> ID：14807613
> 
> 赞同：0
> 
> 时间：2013-02-11T07:23:55.130
> 
> 标签：resque, sidekiq

当 Sidekiq 或 Resque 队列没有移动时，是否有一种简单的方法来接收通知？

我们遇到了我们的工人随机死亡并且队列最终静止的问题。在我们致力于解决垂死的工人问题时，我们希望抢占对停滞工作的支持电话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T19:32:25.013

我编写了一个模块，定期检查工作人员以查看他们最后一次运行的时间。

我创建了一个调用 killStaleWorkers() 的 Cron 作业。它基本上检查 redis 队列以查看当前工作人员开始运行的时间。就我而言，如果作业运行时间超过 2 分钟，则意味着它已经过时，并且可能已冻结。发生这种情况时，您可以做几件事，例如重新启动 sidekiq（我这样做了）。你可以在任何你想要的时间里度过，这取决于工作通常需要多长时间。

这是我的代码。

```
class SidekiqDoctor
    def percentageStale(workers, staleTime, redis)
        stale = 0

        workers.each do |worker|
            key = "worker:" + worker + ":started"
            timeStarted = Time.parse(redis.get(key))

            if(timeStarted == nil)
                timeStarted = Time.now
            end

            puts "Key: " + key + ", Time started: " + timeStarted.to_f.to_s + ", Stale Time: " + staleTime.to_f.to_s

            if(timeStarted.to_f <= staleTime.to_f)
                stale = stale + 1
            end
        end

        percentage = (stale.to_f / workers.size.to_f) * 100

        return percentage
    end

    def killStaleWorkers(staleTimeAgo = 2.minutes, redis = Sidekiq.redis { |x| x })
        workers = redis.smembers("workers")
        currentMachine = Socket.gethostname
        existingWorkers = {} #key is PID, value is array of workers

        workers.each do |worker|
            tokens = worker.split(":")
            machine = tokens[0]
            pid = tokens[1].split("-")[0]

            puts "Machine: " + machine + ", PID: " + pid
            if(machine == currentMachine)
                begin
                    Process.getpgid( pid .to_i)
                    if(existingWorkers[pid] == nil)
                        existingWorkers[pid] = []
                    end

                      existingWorkers[pid] << worker

                rescue Errno::ESRCH
                    #pid doesn't exist
                    redis.srem("workers", worker)
                    puts "PID doesn't exist: " + pid
                end
            end  
        end

        pids = existingWorkers.keys
        staleTime = Time.now - staleTimeAgo

        puts "Stale time: " + staleTime.to_s
        restarted = false
        percentStale = 0

        for pid in pids
            puts "Testing PID: " + pid.to_s
            percentStale = percentageStale(existingWorkers[pid], staleTime, redis)

            puts "Stale Time %: " + percentStale.to_s
            #restart Sidekiq by touching restart.txt, which forces God to restart it
            if(percentStale >= 25)
                restartGod
                restarted = true
            end
        end

        return [restarted, percentStale]
    end

end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T06:20:24.360

没有任何现有的工具可以监视缓慢移动/静止的队列。所以我写了一个小 gem，它添加了一些 Sidekiq 中间件，并提供了一个任务，当队列开始变得陈旧时，它将向 Campfire 发送消息。

[https://github.com/mpowered/sidekiq-nag](https://github.com/mpowered/sidekiq-nag)

# import - 需要帮助解决使用 py2exe 缺失的错误

> ID：14807617
> 
> 赞同：0
> 
> 时间：2013-02-11T07:24:10.170
> 
> 标签：import, installation, py2exe, missing-data

似乎缺少以下模块

*   电子邮件生成器
*   电子邮件.迭代器
*   电子邮件.Utils
*   win32api
*   win32con
*   w in32pipe
*   wx

**我的设置文件如下所示：**

```
from distutils.core import setup
import py2exe
setup(console=['fwsm_migration.py']) 
```

**我正在使用 Python 2.5.4 和 py2exe 0.6.8**

在这里和外面寻找一个特殊的解决方案，但没有找到一个！

阅读有关使用“ optoins：但对python本身不熟悉不知道在哪里做它的信息。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:09:39.900

尝试[cx_freeze](http://cx-freeze.sourceforge.net/ "cx_freeze")。在使用 py2exe [cx_freeze 玩](http://cx-freeze.sourceforge.net/ "cx_freeze")了一段时间后，没有任何配置就编​​译了我的脚本。在同一环境中，Py2exe 声称我错过了九个包。

对于简单的脚本，您只需要做：

```
cxfreeze hello.py --target-dir dist 
```

# c# - 执行查询时出错：Telerik.OpenAccess.RT.sql.SQLException：无效的对象名称“员工”

> ID：14807621
> 
> 赞同：1
> 
> 时间：2013-02-11T07:24:22.443
> 
> 标签：c#, asp.net, telerik, telerik-open-access

我在我的 asp.net C# Web 应用程序中使用 Telerik Open Access ORM。在我的应用程序中，我将数据库中名为**“Person”**的表实体映射 为基类，并创建了一个名为**“Employee”**的子域类。然后我将子类的垂直继承应用到基类，并为员工子类使用“默认映射”。

在查询 Base/Sub 类时出现错误：

> 执行查询时出错：Telerik.OpenAccess.RT.sql.SQLException：对象名称“员工”无效。

这些是添加到从上下文查询的行：

```
 using (EntitiesModel1 obj = new EntitiesModel1())
        {
            List<Employee> lstEmp = obj.Employees.ToList();
          GridView1.DataSource = lstEmp;
          GridView1.DataBind();
        } 
```

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T11:26:30.223

当您将继承策略指定为“垂直”时，这意味着每个类都有自己的物理表。因此，您会收到缺少“员工”表的错误。

如果要将 Person 和 Employee 的实例存储在单个表“Person”中，则需要使用默认的继承策略，即“Flat”。

如果您想创建额外的“Employee”表，那么您可以使用 Schema Handler API 并让 OpenAccess 生成适当的 ddl。

```
var context = new EntityDiagram();
var schemaHandler = context.GetSchemaHandler();
var ddl = schemaHandler.CreateUpdateDDLScript(null);
if(string.IsNullOrEmpty(ddl) == false)
   schemaHandler.ExecuteDDLScript(ddl); 
```

# c# - 在 C# 中，如何突出显示列表视图中的选定项目？

> ID：14807628
> 
> 赞同：0
> 
> 时间：2013-02-11T07:25:11.240
> 
> 标签：c#, winforms, listview, highlight

在 c# winforms 中，我有一个带有一些图像的列表视图。用户可以选择一个图像，但是当他离开列表视图时，我需要继续突出显示他选择的项目。此外，当表单打开时，表单的数据会从数据库中加载。一个数据是列表视图中图像的名称，我需要突出显示从数据库加载的图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:28:11.813

尝试将[ListView.HideSelection](http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.hideselection.aspx)属性设置为 false。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-25T07:20:05.270

ListView.HideSelection 设置为 false 将覆盖所选项目的颜色。如果你想保持 HideSelection 设置为 false 并显示高亮，你只能改变它的字体。

# php - 如何从 Magento 删除所有订单？

> ID：14807629
> 
> 赞同：0
> 
> 时间：2013-02-11T07:25:24.583
> 
> 标签：php, magento

我正在尝试截断 sales_flat_order 表。但我得到以下错误

```
#1701 - Cannot truncate a table referenced in a foreign key constraint
(`dbmigrate1`.`sales_recurring_profile_order`, CONSTRAINT
`FK_7FF85741C66DCD37A4FBE3E3255A5A01` FOREIGN KEY (`order_id`)
REFERENCES `dbmigrate1`.`sales_flat_order` (`entity_id`)) 
```

但

> 从 sales_flat_order 中删除

空订单和订单相关的其他表。

但实际上我想截断表格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:17:47.970

您可以运行此 SQL 查询：

```
 select @order_id:=entity_id from sales_order_entity where increment_id='100000001';
delete from sales_order_entity where entity_id=@order_id or parent_id=@order_id; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T14:48:59.737

使用 EM 删除订单模块，它在最新版本之前工作得非常好。

[https://github.com/ffuenf/EM_DeleteOrder](https://github.com/ffuenf/EM_DeleteOrder)

# vb.net - 如何知道 wpf webbrowser 是否已完成页面加载（不使用 Loadcomplete）

> ID：14807638
> 
> 赞同：0
> 
> 时间：2013-02-11T07:25:51.707
> 
> 标签：vb.net, wpf-controls

我目前正在尝试使用在代码中动态创建的网络浏览器来提取网页中的详细信息，但我无法知道加载何时完成。我知道有一个`.LoadCompleted`事件。我试过了，由于某种原因它没有开火，所以我放弃了它。但我有点在寻找我们曾经为winforms webbrowser控件做的类型。我正在检查文件是否像这样准备好：

```
Do Until WebBrowser1.ReadyState = WebBrowserReadyState.Complete
  Application.DoEvents()
Loop 
```

有没有类似的？这样我就可以检查并继续其余代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:29:33.473

确保您的 Web 浏览器控件可见。如果 Web 浏览器控件被隐藏，某些事件可能不会触发。

相关：[WPF WebBrowser 控件中未触发 LoadCompleted](https://stackoverflow.com/questions/10585565/loadcompleted-not-firing-in-wpf-webbrowser-control)

**参考**

*   [网络浏览器事件](http://msdn.microsoft.com/en-us/library/cc490830.aspx)
*   [加载完成事件](http://msdn.microsoft.com/en-us/library/system.windows.controls.webbrowser.loadcompleted.aspx)

# google-chrome - Chrome 扩展程序 - 标签数量

> ID：14807639
> 
> 赞同：0
> 
> 时间：2013-02-11T07:25:57.450
> 
> 标签：google-chrome, google-chrome-extension

如何获取浏览器中打开的标签数量和当前标签的数量？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:32:37.243

使用`chrome.tabs.getAllInWindow().length`然后

```
chrome.tabs.getCurrent(function(Tab t) {
  // current tab index
  alert(t.index);
}) 
```

**更新**

[`getAllInWindow`](https://developer.chrome.com/extensions/tabs#method-getAllInWindow)自 Chrome 33 起已弃用。您应该使用[`query`](https://developer.chrome.com/extensions/tabs#method-query)with`{windowId: chrome.windows.WINDOW_ID_CURRENT}`或`{currentWindow: true}`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-11-27T10:28:27.817

从 Chrome 16 开始，请使用[https://developer.chrome.com/extensions/tabs#method-query](https://developer.chrome.com/extensions/tabs#method-query)。

例子：

```
chrome.tabs.query({}, function(foundTabs) {
        var tabsCount = foundTabs.length;
        console.info("tabsCount = " + tabsCount);
    }); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-11T07:32:33.287

试试这个扩展：[Tabs Counter](https://chrome.google.com/webstore/detail/tabs-counter/ibokmmioadhomkeikgbfenloopldkcoi)。

# oracle - 如何在 oracle 中创建公共同义词

> ID：14807642
> 
> 赞同：-4
> 
> 时间：2013-02-11T07:26:28.780
> 
> 标签：oracle, oracle11g

有一个模式说“A”，其中有一个名为“B”的包，其中这是一个函数（如下）。在此函数中使用了“ **TIMESTMAP”**，在 11g 中编译时会出错。我想为 TIMESTAMP 创建一个公共同义词。谁能给我同样的脚本。

```
FUNCTION generate_random_number
Return Number
IS
l_seq_no   VARCHA2(6)
l_sys_date   CHAR(10)
BEGIN
SELECT LTRIM(TO_CHAR(TIMESTAMP.NEXTVAL,'000000'), ' ')
INTO l_seq_no
from DUAL;

SELECT TO_CHAR(SYSDATE, 'H24:MI:SS')
INTO l_sys_date 
from DUAL 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:18:13.190

TIMESTAMP 是一个保留字，因此它将您的代码解释为 TIMESTAMP 是一种数据类型（所以我猜您得到的错误是必须声明 nextval 或其他东西）。因此，虽然您可以创建一个名为 TIMESTAMP 的序列，但这样做非常愚蠢。你应该重命名同义词。如果您无法创建具有不同名称的同义词（公共或私有）。

例如：

```
SQL> create sequence timestamp start with 1;

Sequence created.

SQL> 
```

此序列可以在 SQL 中使用，但不能在 PL/SQL 中使用（这是 OP 试图做的）。该函数无法编译（出现 PL-00302 错误）。所以我们必须为它创建一个同义词：

```
SQL> create synonym t for timestamp;

Synonym created. 
```

然后`T`在您的代码中使用。

您的代码还有许多其他错别字。丢失`;`和输入错误`varchar2`。最后`char(10)`，这意味着它的空白用 2 个尾随空格填充（因为字符串的长度为 8 个字符）。

# actionscript-3 - AS3 错误 1180 调用 IntelliJ 中可能未定义的方法

> ID：14807649
> 
> 赞同：0
> 
> 时间：2013-02-11T07:27:20.600
> 
> 标签：actionscript-3, apache-flex, compiler-errors, intellij-idea

我收到编译器错误： `Error 1180: Call to a possibly undefined method`当所有导入都正常并且 IntelliJ 中的所有方法定义都正常时，请仔细检查？

会是什么呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-10-11T14:59:40.040

我有同样的麻烦，但解决方案很容易。我在项目中的一个包名为“notification”，它与标准包名称冲突，所以我将名称更改为“notificationS”，编译器已经开始工作而没有错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:27:20.600

问题是，如果您对遇到错误的类进行了一些重构，则必须转到菜单：

> 构建 > 重建项目

如果您只是进行调试或运行，由于某种原因它不起作用。

我不确定原因是简单的重构还是一些 git 合并，但解决方案就在这里。

# android - dataAdapter sqlite android上的null

> ID：14807652
> 
> 赞同：0
> 
> 时间：2013-02-11T07:27:32.690
> 
> 标签：android, sqlite

我试图从我在 android 上的 sqlite 数据库中加载值，但我在 dataAdapter 上一直为空。我使用此方法在代码中的许多地方加载值。但是在这里我一直为空，我无法找出原因。希望你能帮助我的人。我确信这是一个小错误，但已经过了几天，我似乎找不到它。我在 dataAdapter1 变量的最后几行得到空错误。我把星星放在哪里。

我的数据库是：

```
public long insertDefaultDistanceUnit(String dUnit, int usedBoolean) {
    ContentValues initialValues = new ContentValues();
    initialValues.put(MY_CURRENT_DISTANCE, dUnit);
    initialValues.put(MY_CURRENT_DISTANCE_BOOLEAN, usedBoolean);
    return db.insert(MY_CURRENT_DISTANCE_UNIT_TABLE, null, initialValues);
}

public Cursor getAllDistanceUnits() {
    return db.query(MY_CURRENT_DISTANCE_UNIT_TABLE,
            new String[] { MY_CURRENT_DISTANCE }, null, null, null, null,
            null);
}

public Cursor getCurrentDistanceUnit() throws SQLException {
    Cursor mCursor = db.query(true, MY_CURRENT_DISTANCE_UNIT_TABLE,
            new String[] { MY_CURRENT_DISTANCE },
            MY_CURRENT_DISTANCE_BOOLEAN + "='1'", null, null, null, null,
            null);
    if (mCursor != null) {
        mCursor.moveToFirst();
    }
    return mCursor;
} 
```

在打开要加载值的类之前，我将值放入表中的设置类：

```
 db.open();
    Cursor c2 = db.getAllDistanceUnits();
    distanceList = new ArrayList<String>();
    if (c2.moveToFirst()) {
        do {
            distanceList.add(c2.getString(c2
                    .getColumnIndex(DBAdapter.MY_CURRENT_DISTANCE)));
        } while (c2.moveToNext());
    }
    if (distanceList.size() > 0) {
        distanecExist = 1;
    }
    db.close();

    if (distanecExist == 0) {
        currentDistanceUnit = new ArrayList<String>();
        currentDistanceUnit.add("km" + " Kilometers");
        currentDistanceUnit.add("m" + " Miles");
        db.open();
        for (int i = 0; i <= currentDistanceUnit.size() - 1; i++) {
            if (i == 0) {
                db.insertDefaultDistanceUnit(currentDistanceUnit.get(i)
                        .toString(), 1);
            } else {
                db.insertDefaultDistanceUnit(currentDistanceUnit.get(i)
                        .toString(), 0);
            }
        }
        db.close();
    } 
```

和我想加载值的班级：

```
 currentDistance = (TextView) findViewById(R.id.currentDistance);
    distanceSpinner = (Spinner) findViewById(R.id.distanceSpinner);
    setNewDistanceButton = (Button) findViewById(R.id.setNewDistanceButton);

    db.open();
    Cursor c2 = db.getCurrentDistanceUnit();
    currentDistanceList2 = new ArrayList<String>();
    String distanceUnit = "";
    if (c2.getCount() == 1) {
        distanceUnit = c2.getString(c2
                .getColumnIndex(DBAdapter.MY_CURRENT_DISTANCE));
    }
    currentDistance.setText(distanceUnit);
    db.close();

    db.open();
    Cursor c1 = db.getAllDistanceUnits();
    currentDistanceList = new ArrayList<String>();
    if (c1.moveToFirst()) {
        do {
            currentDistanceList.add(c1.getString(c1
                    .getColumnIndex(DBAdapter.MY_CURRENT_DISTANCE)));
        } while (c1.moveToNext());
    }
    db.close();
    dataAdapter1 = new ArrayAdapter<String>(this,
            android.R.layout.simple_spinner_item, currentDistanceList);
    dataAdapter1
            .setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    distanceSpinner.setAdapter(**dataAdapter1**);
    distanceSpinner.setSelection(0); 
```

这里也是 logcat 错误：

```
02-11 09:33:46.870: E/AndroidRuntime(27105): FATAL EXCEPTION: main
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2100)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2125)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.app.ActivityThread.access$600(ActivityThread.java:140)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1227)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.os.Looper.loop(Looper.java:137)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.app.ActivityThread.main(ActivityThread.java:4898)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at java.lang.reflect.Method.invokeNative(Native Method)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at java.lang.reflect.Method.invoke(Method.java:511)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at dalvik.system.NativeStart.main(Native Method)
02-11 09:33:46.870: E/AndroidRuntime(27105): Caused by: java.lang.NullPointerException
02-11 09:33:46.870: E/AndroidRuntime(27105):    at com.example.mycarfuel.ChangeDistanceActivity.onCreate(ChangeDistanceActivity.java:41)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.app.Activity.performCreate(Activity.java:5206)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1083)
02-11 09:33:46.870: E/AndroidRuntime(27105):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2064) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:04:30.213

如果我们尝试 setAdapter(null)，就不会出现崩溃，也不会出现空指针异常。如果您的崩溃在线

```
distanceSpinner.setAdapter(**dataAdapter1**); 
```

distanceSpinner 为 null 而不是您的 dataAdapter。

# google-api-java-client - GenericJson 不保留空值

> ID：14807662
> 
> 赞同：0
> 
> 时间：2013-02-11T07:28:24.103
> 
> 标签：google-api-java-client, google-api-client

我正在用 Java 进行 Google 日历同步，遇到这样的问题：我必须将 EventDateTime（GenericJson 的子类）发布到 Google 以同步时间。特别是在我的情况下，我必须清除“日期”字段，并设置“日期时间”字段。

```
 //code to init the variable dateTime, in the form of google DateTime
   EventDateTime edt = new EventDateTime();
   edt.put("dateTime", dateTime);
   edt.put("date", null); 
```

当我使用上面的代码时， edt 内的地图只显示 1 `<key,value>`pair: `<dateTime,some date>`。没有值对`<date,null>`。

有人经历过吗？请帮助我解决方法。tks。

更新：这工作：`edt.put ("date", Data.NULL_DATE_TIME)`，想法是进入数据的代码，找到相应的字段 NULL_XXX 并选择你需要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T02:31:28.267

尝试使用[Data.NULL_STRING](http://javadoc.google-http-java-client.googlecode.com/hg/1.13.1-beta/com/google/api/client/util/Data.html#NULL_STRING)作为值而不是 null。

[这里](https://code.google.com/p/google-http-java-client/wiki/JSON#JSON_null)有关于我们如何处理 JSON null 的更详细的文档。

注意：我是[google-http-java-client](https://code.google.com/p/google-http-java-client/)的项目所有者。

# .net - 在 vb.net 中从 USB 读取数据并为设备制作驱动程序的方法

> ID：14807663
> 
> 赞同：0
> 
> 时间：2013-02-11T07:28:23.877
> 
> 标签：.net, windows, visual-studio-2010, usb

我没有做驱动程序或类似事情的经验，情况是我在一个项目中，其中一些数据是通过 USB 从设备发送的，我想解释数据并在 vb.net 程序中使用它。

我打算在汇编程序中编程将从设备接收到的数据存储到文本文件中，然后在 vb.net 程序中读取这些数据，然后完成剩下的工作。

是否有更好的选择通过 USB 在 vb.net 和设备之间建立接口？

我在[其他问题](https://stackoverflow.com/questions/9296609/how-to-get-the-data-from-a-usb-port-in-vb-net)中发现使用**HID.dll**连接[USB 端口](http://www.lvr.com/hidpage.htm)。带有教程 [和示例代码](http://www.lvr.com/files/generic_hid_vb_50.zip)

如果我可以控制数据的数据传输速率，那会是更好的选择吗？

所有这些都在 Windows 环境中

[示例项目文件](http://www.lvr.com/hidpage.htm)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:23:56.680

LibUsbDotNet ，这是 C#，但您可以将其添加为您的[或](http://sourceforge.net/projects/libusbdotnet/)`reference`在`dll`您的 VB.NET 项目中。

# list - 从 SML 中的嵌套列表中提取重复项

> ID：14807664
> 
> 赞同：1
> 
> 时间：2013-02-11T07:28:26.263
> 
> 标签：list, duplicates, sml, duplicate-removal, smlnj

我在 SML 中有一个返回嵌套列表的函数：

```
[["A", "B", "C"], ["A", "B"], ["B", "C"]]] 
```

是否可以提取出现在这些列表中的元素？即输出“B”？

我已经尝试了一些效果，`List.filter (fn y=>(fn x=> x=y)) lst`但无济于事..有什么提示吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T12:34:39.680

我将假设您提供的示例嵌套列表具有代表性，即元素是唯一且有序的。我还将省略任何显式类型或参数化比较函数，因此这些函数将对整数而不是字符串进行操作。

首先，将问题分解为成对比较列表。定义一个辅助函数`common`来查找一对有序列表的共同元素。它可能看起来像这样：

```
fun common(xs, []) = []
  | common([], ys) = []
  | common(x::xs, y::ys) = if x=y then x::common(xs, ys) 
                           else if x < y then common(xs, y::ys) 
                           else common(x::xs, ys) 
```

它有类型`int list * int list -> int list`。

为了使嵌套列表工作，您可以基于以下解决方案`common`：

```
fun nested_common([]) = []
  | nested_common(x::[]) = x
  | nested_common(x::y::rest) = nested_common(common(x,y)::rest) 
```

这有类型`int list list -> int list`。

使用它（在莫斯科 ML 中）：

```
- nested_common [[1,2,3], [1,2], [2,3]];
> val it = [2] : int list 
```

# actionscript-3 - Flex Mobile：IconItemRenderer 的单一实例

> ID：14807674
> 
> 赞同：0
> 
> 时间：2013-02-11T07:29:11.453
> 
> 标签：actionscript-3, apache-flex, air, flex4.5

我已经创建了自定义[`IconItemRenderer`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/spark/components/IconItemRenderer.html)标签和消息显示在图标上（在我的情况下它是一个大图像）。我想在加载图像期间隐藏标签和消息。所以我默认让它们不可见。当图像被加载时，我让它们可见。

```
override protected function layoutContents(unscaledWidth:Number, unscaledHeight:Number):void
{
    super.layoutContents(unscaledWidth, unscaledHeight);

    setElementPosition(busyIndicator, (this.width - iconDisplay.width) / 2, (this.height - Dimensions.BUSY_INDICATOR_EDGE_LENGTH) / 2);
    setElementPosition(iconDisplay, (this.width - iconDisplay.width) / 2, 0);
    setElementPosition(labelDisplay, iconDisplay.x + 20, iconDisplay.y + iconDisplay.height / 4);
    setElementPosition(textFieldProductNumber, iconDisplay.x + 20, labelDisplay.y + labelDisplay.height + 10); 
    setElementPosition(messageDisplay, iconDisplay.x + 20, textFieldProductNumber.y + textFieldProductNumber.height);

    setElementSize(busyIndicator, Dimensions.BUSY_INDICATOR_EDGE_LENGTH, Dimensions.BUSY_INDICATOR_EDGE_LENGTH);
    setElementSize(textFieldProductNumber, labelDisplay.width, labelDisplay.height / 2);

    iconDisplay.addEventListener(Event.COMPLETE, onIconComplete);

    if(!isIconComplete)
    {
        busyIndicator.visible = true;
        iconDisplay.visible = false;
        labelDisplay.visible = false;
        textFieldProductNumber.visible = false;
        messageDisplay.visible = false;

    }
}

protected function onIconComplete(event:Event):void
{

    busyIndicator.visible = false;
    iconDisplay.visible = true;
    labelDisplay.visible = true;
    textFieldProductNumber.visible = true;
    messageDisplay.visible = true;  

    isIconComplete = true;

    iconDisplay.removeEventListener(Event.COMPLETE, onIconComplete);

    invalidateDisplayList();

} 
```

一切正常，但是如果我将另一个视图推入`Navigator`并返回到我的 IconItemRenderer 所在的视图，系统会创建另一个 IconItemRenderer 实例，并且标签、消息或图像也不可见（因为我的默认值）。

那么如何使用*较早的*crated`IconItemRenderer`实例呢？

或者是否可以使用*单个* `IconItemRenderer`实例（如单音）？

或者是否有任何表明项目中的数据已经存在？[`Event`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/events/Event.html) `Dispathcer`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:25:37.183

Note that as an optimization for mobile devices, I believe the mobile item renderer classes do some caching of images (unlike on the web, where it just relies on the images being in the browser cache). This is likely why you don't get another COMPLETE event.

> So how can I use earlier created IconItemRenderer instance?

You shouldn't try or expect to reuse an earlier instance of the render. The Flex `List` control uses object pooling to recycle item renderers. The list creates as many renderers as needed to display the content on screen. When you scroll the list, it re-uses these renderers to display the new elements that have scrolled into view (more on this in a moment). You shouldn't try to circumvent this behavior, it's pretty efficient :)

> or is it possible to use single IconItemRenderer instance (like a singleton)?

No, as stated above, the list uses object pooling and re-uses the renderer instances it creates as it sees fit. The singleton pattern really doesn't apply here.

> or is there any Event Dispathcer which indicates that data in item already exists?

I'm not aware of an event that says "hey this image has already been loaded". However, when Flex uses an item renderer (whether it's the first time or when it's being re-used), it will set the `data` property of the renderer. The setter for the `data` property dispatches a "dataChange" event.

So you can listen for this event or override the setter for the `data` property to know when the renderer is getting it's data. Now you have a two fold approach you can use:

When the data is set, determine if the data being passed in is calling for a new image or one that was previously displayed. If the data is different, listen for the COMPLETE event to know when the image is loaded as you're currently doing.

If the data is the same as before, just make the label/message objects visible.

This may or may not work... another idea is when the data is set, to try and infer if the image has been loaded by checking the `bytesLoaded` or `bitmapData` properties of the image.

By doing this sort of thing, you can make the image/label/message objects visible in the overridden setter method for data (or the event handler for the "dataChange" event) to handle cases where the image has already been loaded.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-27T13:17:18.233

```
override protected function layoutContents(unscaledWidth:Number, unscaledHeight:Number):void
{
   super.layoutContents(unscaledWidth, unscaledHeight);

   setElementPosition(busyIndicator, (this.width - iconDisplay.width) / 2, (this.height - Dimensions.BUSY_INDICATOR_EDGE_LENGTH) / 2);
   setElementPosition(iconDisplay, (this.width - iconDisplay.width) / 2, 0);
   setElementPosition(labelDisplay, iconDisplay.x + 20, iconDisplay.y + iconDisplay.height / 4);
   setElementPosition(textFieldProductNumber, iconDisplay.x + 20, labelDisplay.y + labelDisplay.height + 10); 
   setElementPosition(messageDisplay, iconDisplay.x + 20, textFieldProductNumber.y + textFieldProductNumber.height);

   setElementSize(busyIndicator, Dimensions.BUSY_INDICATOR_EDGE_LENGTH, Dimensions.BUSY_INDICATOR_EDGE_LENGTH);
   setElementSize(textFieldProductNumber, labelDisplay.width, labelDisplay.height / 2);

   if(iconContentLoader)
       ContentCache(iconContentLoader).enableCaching = false;

   iconDisplay.addEventListener(Event.COMPLETE, onIconComplete);

   if(!isIconComplete)
   {
       busyIndicator.visible = true;
       iconDisplay.visible = false;
       labelDisplay.visible = false;
       textFieldProductNumber.visible = false;
       messageDisplay.visible = false;

   }
}

protected function onIconComplete(event:Event):void
{

   busyIndicator.visible = false;
   iconDisplay.visible = true;
   labelDisplay.visible = true;
   textFieldProductNumber.visible = true;
   messageDisplay.visible = true;  

   isIconComplete = true;

   iconDisplay.removeEventListener(Event.COMPLETE, onIconComplete);

   invalidateDisplayList();

} 
```

我认为这将解决问题

# regex - 正则表达式的 jshint 错误

> ID：14807675
> 
> 赞同：0
> 
> 时间：2013-02-11T07:29:16.857
> 
> 标签：regex, jshint

有谁知道为什么 jsHint 说这个正则表达式有一个“Bad Escapement”？

```
var regexp = new RegExp('^http(s)?:\/\/([a-z]+\.)?(' + this.opts.domain + ')', 'ig'); 
```

它在抱怨逃逸期`\.`

正则表达式仍然有效而不会转义句点。我的目标是查找 URL 是否包含给定的域名[http://rubular.com/r/5U7kVjhleu](http://rubular.com/r/5U7kVjhleu)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:31:35.683

如果从字符串构造正则表达式，则需要将反斜杠加倍（并且不需要转义斜杠）：

```
var regexp = new RegExp('^http(s)?://([a-z]+\\.)?(' + this.opts.domain + ')', 'ig'); 
```

# php - Phalcon 和 cli 应用程序

> ID：14807676
> 
> 赞同：5
> 
> 时间：2013-02-11T07:29:18.363
> 
> 标签：php, command-line-interface, phalcon

是否可以在 cli 应用程序中使用 phalcon 来处理带有 argv 参数的请求？我想使用 argv 参数来理解应该执行的命令，例如 `./script.php robot/create --color=red --feature=weapon`

并以这种方式通过控制器、操作等在我的应用程序中获取它：

控制器：机器人动作：创建 GET 参数：color=red,feature=weapon

是否可以使用 CLI 类，如

1.  Phalcon\CLI\Dispatcher [http://docs.phalconphp.com/en/latest/api/Phalcon_CLI_Dispatcher.html](http://docs.phalconphp.com/en/latest/api/Phalcon_CLI_Dispatcher.html)

2.  Phalcon\CLI\Console [http://docs.phalconphp.com/en/latest/api/Phalcon_CLI_Console.html](http://docs.phalconphp.com/en/latest/api/Phalcon_CLI_Console.html)

3.  Phalcon\CLI\Task [http://docs.phalconphp.com/en/latest/api/Phalcon_CLI_Task.html](http://docs.phalconphp.com/en/latest/api/Phalcon_CLI_Task.html)

和其他类似的？

没有文档和操作手册......也许有人有经验或只是一个想法。我知道我们必须定义 DI 并初始化应用程序，但是如何以更本地的方式进行此操作我只是没有任何想法。

另外，还有一个问题：phalcon 可以自动处理 argv 参数吗？

据我了解，我们应该将 Phalcon\CLI\Console 对象作为应用程序启动并传递给它 DI。但是整个过程/场景......我就是不明白:)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T08:19:23.820

所以，我有以下文件夹结构：

```
~/www
~/www/app
~/www/app/models
~/www/app/controllers - controllers for web
~/www/app/tasks - task for cli
~/www/public/app.php - web application
~/www/cli/app.php - console application 
```

在 cli/app.php 我有以下代码：

```
#!/usr/bin/php
<?php

/**
 * This makes our life easier when dealing with paths. 
 * Everything is relative to the application root now.
 */ 
chdir(dirname(__DIR__));

/**
 * Init loader
 */
$loader = new \Phalcon\Loader();
$loader->registerDirs(['app/tasks/'])
       ->register(); 

/**
 * Setup dependency injection      
 */       
$di = new Phalcon\DI();

// Router
$di->setShared('router', function() {
    return new Phalcon\CLI\Router();
});

// Dispatcher
$di->setShared('dispatcher', function() {
    return new Phalcon\CLI\Dispatcher();
});

/**
 * Run application
 */
$app = new Phalcon\CLI\Console();
$app->setDI($di);
$app->handle($argv); 
```

然后我把我的任务类放在 app/tasks 文件夹中......它就可以工作了。也许这会对某人有所帮助；）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-29T14:51:22.233

我是 Phalcon 的爱好者，但在我看来，任务实际上是创建 cron 工作的东西。它们与命令不同。我不认为任务是创建完整 cli 应用程序的正确方法。有很多限制。我真的建议你改用 Symfony 控制台：它有很好的文档，它管理多个参数和参数，它自动提供命令行帮助，你可以通过 Composer 安装它。如果您正在创建 cron 作业，您可以使用 Phalcon 任务，但如果您打算创建一个 cli 应用程序，请查看 Symfony Console。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-17T07:28:49.387

> phalcon 可以自动处理 argv 参数吗？

是的，PHP 将`$argv`在任何框架中传递命令行参数。

# c# - excel互操作中的XValue属性

> ID：14807677
> 
> 赞同：0
> 
> 时间：2013-02-11T07:29:21.693
> 
> 标签：c#, .net, excel, interop, excel-interop

我想使用互操作更改 excel 图表中的 Xvalues。以下是我正在使用的。但它不承认范围。

有人可以帮我解决这个问题吗？

```
 chartPage.SetSourceData Range("A2:A4"), xlColumns
    chartPage.SeriesCollection(1).XValues = Range("B2:B4") 
```

它不接受 Range，在任何地方我都能找到相同的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T20:34:49.493

尝试获取活动工作表并在其上使用范围。像这样的东西：

```
_Worksheet ws = this.ActiveSheet
chartPage.SeriesCollection(1).XValues = ws.Range("B2:B4") 
```

# cvs - 禁用在 cvs 中完成的提交的电子邮件通知

> ID：14807684
> 
> 赞同：0
> 
> 时间：2013-02-11T07:29:53.300
> 
> 标签：cvs

如何在 cvs 中禁用特定用户的提交通知？

# iphone - 如何限制使用 facebook sdk 登录时显示的 facebook 默认页面

> ID：14807687
> 
> 赞同：2
> 
> 时间：2013-02-11T07:30:22.750
> 
> 标签：iphone, facebook

从本机 facebook 使用自动登录时，如果我从本机应用程序注销，则会话将无法正常工作并显示 facebook 默认登录页面。我怎么能检测到在调用 FBSession 类的哪个委托或函数之后显示 facebook 默认登录页面并限制它显示？

这就是我正在做的自动登录

```
CacheToken = [[FBTokenCache alloc]init];
NSArray *permissions = [[NSArray alloc]initWithObjects:@"email,user_photos,user_videos,publish_stream,offline_access,user_checkins,friends_checkins", nil];

self.fbsession = [[FBSession alloc] initWithAppID:@"484473011575776"
                                              permissions:permissions
                                          urlSchemeSuffix:nil
                                       tokenCacheStrategy:CacheToken];

(fbsession is the object of Facebook SDK class FBSession)
[FBSession setActiveSession:self.fbsession];

[FBSession openActiveSessionWithReadPermissions:permissions
                                                   allowLoginUI:YES
                                              completionHandler:^(FBSession *session, FBSessionState state, NSError *error) {
                                                  [self sessionStateChanged:session state:state error:error]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T12:32:11.837

您可以使用 facebook old sdk。在 facebook.m 中，只允许您的应用在应用内打开，即 trySafari = FALSE; 并尝试FBApp = FALSE；

我正在使用这个。希望这也能帮助你。

# python - Python列表推导加入列表列表

> ID：14807689
> 
> 赞同：61
> 
> 时间：2013-02-11T07:30:32.003
> 
> 标签：python, list-comprehension

给定`lists = [['hello'], ['world', 'foo', 'bar']]`

如何将其转换为单个字符串列表？

`combinedLists = ['hello', 'world', 'foo', 'bar']`

* * *

## 回答 #1

> 赞同：118
> 
> 时间：2013-02-11T07:33:52.127

```
lists = [['hello'], ['world', 'foo', 'bar']]
combined = [item for sublist in lists for item in sublist] 
```

或者：

```
import itertools

lists = [['hello'], ['world', 'foo', 'bar']]
combined = list(itertools.chain.from_iterable(lists)) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-11T07:33:02.663

```
from itertools import chain

combined = [['hello'], ['world', 'foo', 'bar']]
single = [i for i in chain.from_iterable(combined)] 
```

# node.js - 在 tropo 中，我应该为“哪个 URL 为您的应用提供动力？”提供哪个链接？使用 Tropo WebAPI 创建新应用程序时的选项？

> ID：14807690
> 
> 赞同：0
> 
> 时间：2013-02-11T07:30:38.347
> 
> 标签：node.js, tropo

在我的应用程序中，我需要将 tropo 与 node.js 一起使用。我使用 npm 安装了 tropo webapi，并添加了发送短信、拨打电话的代码，但我不知道如何接收传入的文本和通话。我也不知道如何在他们的“什么 URL 为您的应用程序提供动力？”中提及我的 url 选项。因为我现在没有网址，所以我在本地做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T14:29:44.913

听起来它在本地不起作用：[https ://www.tropo.com/docs/webapi/using_tunnlr_reverse_ssh.htm](https://www.tropo.com/docs/webapi/using_tunnlr_reverse_ssh.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-06T02:25:10.670

您不能提供本地 URL，因为这样 tropo 网站将无法访问此 URL。您必须在 Internet 上托管您的应用程序并将此公共 URL 提供给 tropo。

# c# - 如何获取具有多个参数的查询字符串

> ID：14807691
> 
> 赞同：1
> 
> 时间：2013-02-11T07:30:55.247
> 
> 标签：c#, asp.net, url

我有一个网址：

```
http://www.abc.com?refurl=/english/info/test.aspx?form=1&h=test&s=AB 
```

如果我使用

```
Request.QueryString["refurl" 
```

但给了我

```
/english/info/test.aspx?form=1 
```

相反，我需要完整的网址

```
/english/info/test.aspx?form=1&h=test&s=AB 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:47:14.227

修复问题，问题是您将完整的 url 作为参数放置`refurl`而没有对其进行编码。

因此，在您创建该 url 字符串的位置使用该`UrlEncode()`函数，例如：

```
"http://www.abc.com?refurl=" + Server.UrlEncode(ReturnUrlParam) 
```

在哪里
`ReturnUrlParam="/english/info/test.aspx?form=1&h=test&s=AB";`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:35:37.990

对于这种特殊情况，您不应该使用 QueryString，*（因为您的查询字符串包含三个参数），* 而是使用`Uri`类，它[`Uri.Query`](http://msdn.microsoft.com/en-us/library/system.uri.query.aspx)会为您提供所需的结果。

```
Uri uri  = new Uri(@"http://www.abc.com?refurl=/english/info/test.aspx?form=1&h=test&s=AB");
string query = uri.Query; 
```

这会给你：

```
?refurl=/english/info/test.aspx?form=1&h=test&s=AB 
```

稍后您可以删除`?refurl=`以获得所需的输出。

我很确定框架中没有直接的方法可以满足您的特定要求，您必须在代码中实现它，并且也可以通过字符串操作来实现。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T07:39:15.557

前段时间我也有类似的情况。我通过编码 reurl 值来解决它。现在我的网址看起来与那个相似： [http ://www.abc.com?refurl=adsf45a4sdf8sf18as4f6as4fd](http://www.abc.com?refurl=adsf45a4sdf8sf18as4f6as4fd)

我创建了两种方法：

```
public string encode(string);
public string decode(string); 
```

在重定向之前或在您拥有链接的位置之前，您只需对链接和您正在阅读的位置进行编码，在使用前进行解码：

```
Response.redirect(String.Format("http://www.abc.com?refurl={0}", encode(/english/info/test.aspx?form=1&h=test&s=AB)); 
```

在您使用 refurl 的页面中：

```
 $refUrl = Request.QueryString["refurl"];
 $refUrl = decode($refUrl); 
```

编辑：我实际上拥有作为扩展方法的编码/解码方法，然后对于每个字符串我可以简单地使用`string.encode()`or `string.decode()`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T07:35:29.113

您应该将 替换`&`为`&amp;`。

# java - 用于 Box2d 的 LIBGDX 最新测试平台

> ID：14807694
> 
> 赞同：0
> 
> 时间：2013-02-11T07:31:15.537
> 
> 标签：java, box2d, libgdx, jbox2d, testbed

我正在使用 Libgdx 测试最新的 Box2d 测试平台。他们似乎没有工作，需要知道其他人是否有同样的问题。第一个叫Conveyor Belt，[https://github.com/ansman/box2d/blob/master/Testbed/Tests/ConveyorBelt.h](https://github.com/ansman/box2d/blob/master/Testbed/Tests/ConveyorBelt.h)

我转换为：

```
package com.badlogic.gdx.tests.box2d;

import com.badlogic.gdx.InputProcessor;
import com.badlogic.gdx.Input.Keys;
import com.badlogic.gdx.graphics.OrthographicCamera;
import com.badlogic.gdx.math.Vector2;
import com.badlogic.gdx.physics.box2d.Body;
import com.badlogic.gdx.physics.box2d.BodyDef;
import com.badlogic.gdx.physics.box2d.BodyDef.BodyType;
import com.badlogic.gdx.physics.box2d.joints.FrictionJointDef;
import com.badlogic.gdx.physics.box2d.Box2DDebugRenderer;
import com.badlogic.gdx.physics.box2d.Contact;
import com.badlogic.gdx.physics.box2d.EdgeShape;
import com.badlogic.gdx.physics.box2d.Fixture;
import com.badlogic.gdx.physics.box2d.FixtureDef;
import com.badlogic.gdx.physics.box2d.Manifold;
import com.badlogic.gdx.physics.box2d.PolygonShape;
import com.badlogic.gdx.physics.box2d.Transform;
import com.badlogic.gdx.physics.box2d.World;
import com.badlogic.gdx.tests.utils.GdxTest;

public class ConveyorBelt extends Box2DTest {
    Body m_body;    
    Fixture platform;

@Override
protected void createWorld (World world) {
    world.setGravity(new Vector2(0, -10));
    /** amount of bounce when colliding */
    float k_restitution = 0.4f;
    Body ground;

    {       /** x,y of entire shapes */
        BodyDef bd = new BodyDef();
        bd.position.set(0, 20);
        ground = world.createBody(bd);         

     PolygonShape shape = new PolygonShape();
     shape.setAsEdge(new Vector2(-20.0f, 0.0f), new Vector2(20.0f, 0.0f));
     ground.createFixture(shape, 0.0f);

     shape.dispose();
 }

          // Platform
          {
                    BodyDef bd = new BodyDef();
                  bd.position.set(-5.0f, 5.0f);
                  Body body = world.createBody(bd);

                  PolygonShape shape = new PolygonShape();
                  shape.setAsBox(10.0f, 0.5f);

                  FixtureDef fd = new FixtureDef();
                  fd.shape = shape;
                  fd.friction = 0.8f;
                  platform = body.createFixture(fd);
          }

          // Boxes
          for (int i = 0; i < 5; ++i)
          {
                    BodyDef bd = new BodyDef();
                  bd.type = BodyType.DynamicBody;
                  bd.position.set(-10.0f + 2.0f * i, 7.0f);
                  Body body = world.createBody(bd);

                  PolygonShape shape = new PolygonShape();
                  shape.setAsBox(0.5f, 0.5f);
                  body.createFixture(shape, 20.0f);
          }
  }

 /*      void PreSolve(Contact contact, Manifold oldManifold)
  {
          Test extends PreSolve(contact, oldManifold);

          Fixture fixtureA = contact.getFixtureA();
          Fixture fixtureB = contact.getFixtureB();

          if (fixtureA == platform)
          {
                  contact.setTangentSpeed(5.0f);
          }

          if (fixtureB == platform)
          {
                  contact.setTangentSpeed(-5.0f);
          }
  }

  void Step(Settings settings)
  {
          Test extends Step(settings);
  }

  static Test Create()
  {
          return new ConveyorBelt;
  }

  Fixture platform;*/

} 
```

这是通过将它与其他 Box2D 测试一起工作的，但我注意到了一些事情。

Libgdx 在其 Contact.java 类中没有 setTangentSpeed 方法

设置必须使用 org.jbox2d.common 导入

测试无法解析为类型

我也尝试使用 Breakable，[https://github.com/ansman/box2d/blob/master/Testbed/Tests/Breakable.h](https://github.com/ansman/box2d/blob/master/Testbed/Tests/Breakable.h)

哪个被转换为

```
package com.badlogic.gdx.tests.box2d;

import com.badlogic.gdx.math.MathUtils;
import com.badlogic.gdx.math.Vector2;
import com.badlogic.gdx.physics.box2d.Body;
import com.badlogic.gdx.physics.box2d.BodyDef;
import com.badlogic.gdx.physics.box2d.BodyDef.BodyType;
import com.badlogic.gdx.physics.box2d.CircleShape;
import com.badlogic.gdx.physics.box2d.Contact;
import com.badlogic.gdx.physics.box2d.ContactImpulse;
import com.badlogic.gdx.physics.box2d.EdgeShape;
import com.badlogic.gdx.physics.box2d.Fixture;
import com.badlogic.gdx.physics.box2d.FixtureDef;
import com.badlogic.gdx.physics.box2d.PolygonShape;
import com.badlogic.gdx.physics.box2d.World;
import com.badlogic.gdx.physics.box2d.joints.RevoluteJointDef;
import com.badlogic.gdx.backends.gwt.*;

public class Breakable extends Box2DTest {

        Body body1;
        Vector2 m_velocity;
        float m_angularVelocity;
        PolygonShape m_shape1;
        PolygonShape m_shape2;
        Fixture m_piece1;
        Fixture m_piece2;

        boolean m_broke;
        boolean m_break;

        /**
         * @see org.jbox2d.testbed.framework.TestbedTest#initTest()
         */
        @Override
    protected void createWorld (World world) {
    world.setGravity(new Vector2(0, -10));
    Body ground;
            // Ground body
                {
                        BodyDef bd = new BodyDef();
                        ground = world.createBody(bd);

                        PolygonShape shape = new PolygonShape();
                        shape.setAsEdge(new Vector2(-40.0f, 0.0f), new Vector2(40.0f, 0.0f));
                        ground.createFixture(shape, 0.0f);

                        shape.dispose();
                }

                // Breakable dynamic body
                {
                        BodyDef bd = new BodyDef();
                        bd.type = BodyType.DynamicBody;
                        bd.position.set(0.0f, 40.0f);
                        bd.angle = 0.25f * MathUtils.PI;
                        body1 = world.createBody(bd);

                        m_shape1 = new PolygonShape();
                        m_shape1.setAsBox(0.5f, 0.5f, new Vector2(-0.5f, 0.0f), 0.0f);
                        m_piece1 = body1.createFixture(m_shape1, 1.0f);

                        m_shape2 = new PolygonShape();
                        m_shape2.setAsBox(0.5f, 0.5f, new Vector2(0.5f, 0.0f), 0.0f);
                        m_piece2 = body1.createFixture(m_shape2, 1.0f);
                }

                m_break = false;
                m_broke = false;
        }

                void PostSolve(Contact contact, ContactImpulse impulse)
                {
                        if (m_broke)
                        {
                                // The body already broke.
                                return;
                        }

                        // Should the body break?
                        int count = contact.getManifold().pointCount;

                        float maxImpulse = 0.0f;
                        for (int i = 0; i < count; ++i)
                        {
                                maxImpulse = MathUtils.max(maxImpulse, impulse.normalImpulses[i]);
                        }

                        if (maxImpulse > 40.0f)
                        {
                                // Flag the body for breaking.
                                m_break = true;
                        }
                }

                void Break()
                {
                        // Create two bodies from one.
                        Body body1 = m_piece1.getBody();
                        Vector2 center = body1.getWorldCenter();

                        body1.destroyFixture(m_piece2);
                        m_piece2 = null;

                        BodyDef bd = new BodyDef();
                        bd.position = body1.getPosition();
                        bd.angle = body1.getAngle();

                        Body body2 = world.createBody(bd);
                        m_piece2 = body2.createFixture(m_shape2, 1.0f);
                }

}
                        // Compute consistent velocities for new bodies based on
                        // cached velocity.
                        Vector2 center1 = body1.getWorldCenter();
                        Vector2 center2 = body2.getWorldCenter();

                        Vector2 velocity1 = m_velocity.add(Vector2.crs(m_angularVelocity, center1.sub(center)));
                        Vector2 velocity2 = m_velocity.add(Vector2.crs(m_angularVelocity, center2.sub(center)));

                        body1.setAngularVelocity(m_angularVelocity);
                        body1.setLinearVelocity(velocity1);

                        body2.setAngularVelocity(m_angularVelocity);
                        body2.setLinearVelocity(velocity2);
                }

                void Step(Settings settings)
                {
                        if (m_break)
                        {
                                Break();
                                m_broke = true;
                                m_break = false;
                        }

                        // Cache velocities to improve movement on breakage.
                        if (m_broke == false)
                        {
                                m_velocity = body1.getLinearVelocity();
                                m_angularVelocity = body1.getAngularVelocity();
                        }

                        Test = Step(settings);
                }

                static Test Create()
                {
                        return new Breakable;
                }

                Body m_body1;

        } 
```

我注意到：

Libgdx 在 Manifold.java 中没有 pointCount。一个快速解决方法是更改​​为 getWorldManifold 但没有任何好处

Vector2.java 不包含 crs(float x, Vector2 v)，m_velocity 的向量不允许

设置不存在，除非我使用 com.jbox2d.common 导入

如果不包括这些方法，我如何让这些在 Libgdx 中工作？Libgdx 不再更新了吗？我想使用这些，但它们似乎落后于移植。我什至在 Contact.java 中注意到他在 setTangentSpeed 的代码之前停止了。我在测试中添加了 gwt jar，但没有任何好处。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T18:00:43.893

[如果你想要 jbox2d 的 2.2.1 版本，你可以从trunk](https://code.google.com/p/jbox2d/source/checkout)获取构建。它几乎准备好发布了，我只需要做更多的优化和内联。

编辑：看起来 libgdx 使用它自己的包装器来实现 Box2D 的本机 C++ 实现。这在性能方面绝对是可取的，希望他们会更新他们的库。

# amazon-s3 - Amazon S3 静态网站不提供 css 或 js 文件

> ID：14807702
> 
> 赞同：14
> 
> 时间：2013-02-11T07:31:57.010
> 
> 标签：amazon-s3

我一直在尝试在 Amazon S3 上建立一个静态网站。我已经设置好使用我的个人域，到目前为止，我已经能够很好地访问这些内容。所有链接都适用于“根”目录中的页面和子文件夹中的页面，因此 S3 似乎可以遵循我正在使用的路径。

问题是没有任何 CSS 样式应用于页面（它在我本地机器上的开发服务器上运行良好）。我试过使用相对路径和绝对路径，但这似乎不是问题。我可以看到应有的内容，并且可以正常浏览网站，但是没有样式。

我试过弄乱文件夹的权限，但我显然没有做对。我错过了一些明显的东西吗？S3 肯定可以使用单独的样式表吗？

提前感谢您的任何想法。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-11T07:35:17.363

原因是，amazon S3 将`css`文件的 content-type 设置为`binary/octet-stream`，请按照[本教程](https://web.archive.org/web/20120512092600/http://log.adamwilcox.org/post/22375737749/css-on-amazon-s3)解决此问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-07-17T21:45:40.337

您需要选择您的 css 文件，然后从“属性”选项卡中单击“元数据”。这是将可选元数据作为名称-值对分配给对象。Content-Type 键必须具有值 text/css

[![在此处输入图像描述](../Images/da768bb825bf97ac392585f77c9a5bd1.png)](https://i.stack.imgur.com/JCi11.jpg)

# maven-3 - Maven 将 EAR 作为展开的存档部署到应用服务器

> ID：14807703
> 
> 赞同：3
> 
> 时间：2013-02-11T07:31:59.270
> 
> 标签：maven-3, jboss7.x

有没有办法将 EAR 作为展开的存档部署到应用程序服务器 ex。Maven中的JBoss AS7？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-10-16T06:35:15.043

经过一番研究，找到了处理这个问题的方法。

在 ear 项目 pom.xml 中添加以下插件

```
<plugin>
    <version>2.8</version>
    <artifactId>maven-ear-plugin</artifactId>
    <groupId>org.apache.maven.plugins</groupId>
    <configuration>
        <unpackTypes>rar,war,ejb</unpackTypes>
    </configuration>
</plugin> 
```

*   在 Maven 目标中设置**清洁包**
*   然后将目标中的展开文件夹复制到 jboss 部署文件夹。
*   将 .ear 扩展名添加到展开的存档中

一旦完成，

*   在**standalone.xml****部署扫描器**元素中添加**auto-deploy-exploded="true"**
*****   当启动 Jboss 时，它会自动部署爆炸的耳朵****

 ****现在您可以添加将自动部署的任何静态文件或 java 类

但是，在生产环境中不建议这样做。

最佳做法是，

在 meven 目标中设置**clean 包**，它将生成 .ear 存档文件。您可以复制到部署文件夹或使用 maven **jboss-as:deploy**插件，您可以自动部署它。****

# java - 带有外部库的 Jar 到 exe

> ID：14807705
> 
> 赞同：2
> 
> 时间：2013-02-11T07:32:14.903
> 
> 标签：java, swing, deployment, exe, executable-jar

我一直在尝试将 jar 转换为 exe。该程序 - jar - 使用蓝牙库“Bluecove”，它是某个目录中的另一个 jar。该程序还使用 Java Swing，通常`JFrame`和其他东西。该程序在 Netbeans 或 Eclipse 中运行时运行良好。是时候部署它了，因此我需要将其转换为 exe。但我一直无法让最终的可执行文件与“Bluecove”链接。我尝试了[JSmooth](http://jsmooth.sourceforge.net/)和[Launch4j](http://launch4j.sourceforge.net/)，但是两者都使用了，尽管我可以完成该过程并创建“exe”，但最终程序没有运行，因为它找不到 Bluecove 类。

关于如何解决这个问题的任何建议？这些转换器都没有关于与库链接的任何文档。任何帮助表示赞赏。

**解决方案：** 谢谢各位大神解答！我使用 Andrew Thompson 建议的方法来部署我的程序，效果很好。为了创建 JAR，我更喜欢将所有东西都放在一个 JAR 中，正如 Abdullah Shaikh 所建议的那样。我为此使用了 Fat-Jar Eclipse 插件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T08:22:44.037

> 是时候部署它了，因此我需要将其转换为 exe。

这两种说法放在一起没有意义。我们无法部署 Swing 桌面应用程序。*nix 或 OS X 使用基于 Windows 的可执行文件。部署 Java 桌面应用程序的最佳选择。[通常来自使用Java Web Start](https://stackoverflow.com/tags/java-web-start/info)的网页上的链接。

来自[BlueCove 文档：安装](http://code.google.com/p/bluecove/wiki/Documentation#Installation)：

> ## 安装
> 
> BlueCove 依赖于您的操作系统或蓝牙 USB 设备随附的已安装的本机蓝牙堆栈。
> 
> Installation of the binary (already compiled) version of BlueCove is as follows:
> 
> *   Download BlueCove binary release
> *   **Add `bluecove.jar` to your classpath**
> *   Also add **`bluecove-gpl.jar`** to your classpath if you are running application on **Linux**

This would imply something like the following. 2 Java Web Start based JNLP extensions:

1.  An extension for the BlueCove main API (`bluecove.jar`) to support Windows and OS X, as well as the core classes needed for Linux. This 'main' JNLP file would have a resources section *specific to Linux*, which in turn references the 'Linux only' extension JNLP.
2.  An extension for the Linux specific API (`bluecove-gpl.jar`) which includes an installer element to pop a license prompt for the user (if needed, this entire extension is necessary only for producing a license prompt). Here is a small [demo. of the `ExtensionInstallerService`](http://pscode.org/jws/api.html#eis) that would show a license agreement.

> ..would this require the user to always have an internet connection when using the application, or is it just the first time activation that requires internet?

The Java Web Start client (the app. that launches an appropriate JVM and your app.) would typically check back with the home server for updates to the application Jars relevant to that OS. Fortunately it is configurable as to when and how the check is done, and whether the application can be run 'off-line' as you require, by specifying an element in the JNLP:

```
<offline-allowed /> 
```

The `offline-allowed` element (part of the [`jnlp` element](http://docs.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/syntax.html#jnlp)) ensures that *after initial installation,* the app. can be used off-line.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:37:28.137

确保在创建启动器时将 bluecove JAR 添加到类路径中：[在 JSmooth](http://jsmooth.sourceforge.net/docs/jsmooth-doc.html#N10166)中[设置类路径，在 Launch4j](http://launch4j.sourceforge.net/docs.html#Configuration_file)中设置类路径。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T07:40:45.150

在 jar 中，您需要放置所有依赖的 jar，或者您可以使用 Class-Path 标头为您的 jar 提供清单。

您也可以尝试 [fat-jar](http://fjep.sourceforge.net/)扩展或[One Jar](http://one-jar.sourceforge.net/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T07:48:12.720

要解决此问题，您将所有依赖的 jar 放入最终的 jar 文件中。
在 Eclipse 中，您可以通过以下方式执行此操作：`File -> Export -> Java -> Runnable Jar File -> (Select the option) Package required libraries into generated jar`
现在使用此 jar 使用您选择的任何 jar 到 exe 转换器创建一个 exe！
希望这可以帮助

# apache - Jackrabbit 视频流

> ID：14807707
> 
> 赞同：0
> 
> 时间：2013-02-11T07:32:24.973
> 
> 标签：apache, content-management-system, jackrabbit

哪个音频/视频流服务器（行业标准）可以与 Apache JackRabbit 内容存储库集成？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T09:02:36.030

JCR 规范和 Jackrabbit 本身不提供有关媒体流的任何特定内容。

二进制数据是通过[Binary](http://www.day.com/maven/jsr170/javadocs/jcr-2.0/javax/jcr/Binary.html)接口访问的，您可以基于它提供的 InputStream 实现流式传输。

# javascript - 在选择特定单选按钮时动态更新 html 页面上的图像

> ID：14807718
> 
> 赞同：0
> 
> 时间：2013-02-11T07:33:01.550
> 
> 标签：javascript, css, ajax, html

如果我为单选按钮分配“值”以在我的脚本编程中使用该“值”并假设该值被分配给图像并且代码如下所示

```
<input type="radio" name="image" value="500"/><img src="1.png">
<input type="radio" name="image" value="500"/><img src="2.png">
<input type="radio" name="image" value="500"/><img src="2.png"> 
```

如何识别哪个图像是哪个？

我想确定该用户选择了哪个图像，但我的限制是所有图像的值都相同..并且由于它是一个收音机，所以同一个收音机组中的所有名称都相同..还有什么??

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:36:34.493

给每个输入项一个 id。然后检查使用`document.getElementById("radio1").checked`

```
<input type="radio" id = "radio1" name="image" value="500"/><img src="1.png">
<input type="radio" id = "radio2" name="image" value="500"/><img src="2.png">
<input type="radio" id = "radio3" name="image" value="500"/><img src="2.png">

function check()
{
   for (var i=1; i <= 3; i++)
   {
     if (document.getElementById("radio" + i).checked)
         alert("image is " + i + ".png");
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:40:21.177

```
 <input type="radio" id="1" name="image" value="500"   onchange="fnc(this.id)"/><img src="1.png" >
<input type="radio" id="2" name="image" value="500"  onchange="fnc(this.id)"/><img src="2.png" >
<input type="radio"  id="3" name="image" value="500"  onchange="fnc(this.id)"/><img src="2.png">

<script type="text/javascript">
function fnc(myid)
{
    if(myid=='1')
    {
        alert("you've selected image"+myid);
    }
    else if(myid=='2')
    {
        alert("you've selected image"+myid);
    }
    else if(myid=='3')
    {
        alert("you've selected image"+myid);
    }
}
</script> 
```

# playframework-2.0 - 如何设置 Play Framework 2.0 的 javac 编译版本以防止出现“不支持的 major.minor 版本”？

> ID：14807724
> 
> 赞同：15
> 
> 时间：2013-02-11T07:33:32.767
> 
> 标签：playframework-2.0, sbt

我使用的模块必须是用 Java 1.7 编译的，而我只有 1.6。

如果我想为特定版本（如 1.6）编译模块，我该如何在 Play 中设置它！Framework 2.0，这样我就可以防止出现“Unsupported major.minor version”错误。

在玩！1.x 你可以在 application.conf 中设置“java.version=1.6”。

我假设在 Play! 2.x 可能需要为 sbt 设置某个位置 - 但是在哪里/如何？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2014-12-11T10:57:25.870

添加

```
javacOptions ++= Seq("-source", "1.6", "-target", "1.6") 
```

到**build.sbt**文件对我有用（为了透明，在我的情况下，使用 JDK 8 构建是 1.7）。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-07-16T09:43:51.150

如果要使用 java 1.6 编译，请在文件**project/Build.scala中添加以下设置：**

```
val main = play.Project(appName, appVersion, appDependencies).settings(
  // Force compilation in java 1.6
  javacOptions in Compile ++= Seq("-source", "1.6", "-target", "1.6")
) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-16T15:33:07.703

我想通了，放

```
javaHome := Some(file("path_to_your_jdk")) 
```

在 build.sbt 文件的最后。确保你把它放在“ *playJavaSettings* ”之后（如果你的 built.sbt 中有这一行）。

确保您为您的 sdk 分配了正确的路径，您可以通过键入以下内容来验证这一点：

```
java-home 
```

在 Play 或激活器控制台中。

还要确保你运行

```
clean 
```

在您的控制台中删除所有以前编译的资源。

现在编译你的代码使用

```
compile 
```

你应该很高兴。我希望这有帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T09:00:49.723

我认为唯一的解决方案是在项目的根目录中创建文件**build.sbt并添加**

> javaHome := Some(file("path_to_your_jdk"))

# php - 从mysql数据库中检索最近30分钟内的数据

> ID：14807725
> 
> 赞同：0
> 
> 时间：2013-02-11T07:33:34.090
> 
> 标签：php, mysql

我正在使用具有以下详细信息的数据库表：

```
Column Number | Column name | Data type
---------------------------------------------
1             | cardid      | int(5)
2             | price       | decimal(5,2)
3             | isbuyprice  | int(1)
4             | date        | date
5             | time        | time 
```

现在，我想检索在过去 30 分钟内插入到表中的数据。我尝试使用以下代码，但它检索了我表的所有行：

```
"SELECT * FROM table1 WHERE time > (now() - INTERVAL 30 MINUTE)"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:35:59.520

```
"SELECT * FROM table1 WHERE time > (time(now()) - INTERVAL 30 MINUTE) 
 and date=CURDATE()"; 
```

最好的解决方案是，如果您能够更改数据库表，然后将日期字段更改为时间戳并删除时间字段。那么上面的查询将起作用。否则将以下代码与您当前的数据库结构一起使用。

```
"SELECT * FROM table1 WHERE time > time(time(now())-interval 30 minute) 
 and date=CURDATE()"; 
```

认为它会起作用。谢谢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T08:29:19.213

您有两个单独的字段，一个用于日期，一个用于时间，因此您可以使用以下内容：

```
SELECT *
FROM table1
WHERE
  UNIX_TIMESTAMP(date) + TIME_TO_SEC(time) >=
  UNIX_TIMESTAMP(NOW() - INTERVAL 30 MINUTE) 
```

[UNIX_TIMESTAMP](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_unix-timestamp)将转换`date`为自 1970-01-01 以来的秒数，我们将时间部分的秒数与 相加`time_to_sec`，并将结果与`NOW()-INTERVAL 30 MINUTE`​​转换为秒数进行比较。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T08:55:09.573

```
SELECT * FROM table1 WHERE time BETWEEN CURTIME() AND  TIME(DATE_SUB(NOW(), INTERVAL 30 MINUTE)) 
```

希望这可以帮到你

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T07:41:34.290

检查这个

```
SELECT * FROM table1 
WHERE date=CURDATE() AND TIME_TO_SEC(time) > TIME_TO_SEC(CURRENT_TIME()) - 1800 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T08:42:39.503

```
Select * from table1 where concat (date, ' ', time) > ( now() - interval 30 minute) 
```

# liferay - 使用 Ldap 的 Liferay openam 配置

> ID：14807736
> 
> 赞同：0
> 
> 时间：2013-02-11T07:34:21.017
> 
> 标签：liferay, openam

我想用 openam 配置 liferay。我可以通过ldap用户登录liferay，但是当我尝试通过openam而不是openam登录时，它不允许在其中创建用户。并且还想知道如何在openam中使用ldap用户。

我想通过 ldap 用户通过 openam 登录 liferay。所以请帮我逐步配置liferay+openam+ldap配置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T18:21:49.707

您必须在配置为 OpenAM 中的数据存储的 LDAP 目录服务器中创建用户（但您不使用 OpenAM 作为配置工具）。

之后您必须在 Liferay 中配置 OpenSSO 身份验证插件。

如果 Liferay 和 OpenAM 不在同一个 cookie 域中，您必须使用 OpenAM 策略代理来获取另一个域中的 SSO 跟踪 cookie。

如果您使用 Liferay Enterprise 版本，您还可以使用 SAMLv2 集成。

您还可以阅读 OpenSSO 技术概述以了解其工作原理。

# visual-c++ - 如果为输入中的数字输入字符，程序将进入无限循环

> ID：14807739
> 
> 赞同：0
> 
> 时间：2013-02-11T07:34:47.710
> 
> 标签：visual-c++

我似乎无法让错误检查在我的 GetInput 阶段正常工作。我试图让那个阶段重复，直到数字 1 -5 放在那里，没有别的。谢谢你！

```
void GetInput(void)
{
    cout << "Please enter a number between 1 and 5: \n";
    cin >> OnetoFive;
    if (isdigit(OnetoFive) && (OnetoFive <= 5) && (OnetoFive >= 1))
    {
        return;
    }

    else 
    {
        system("cls");
        cin.clear();
        cin.ignore(INT_MAX, '\n');
        cout << "\n\nInvalid.  Please enter a number between 1 and 5: ";
        cin >> OnetoFive;
    }
} 
```

好的，现在它适用于字母字符，但如果我的值超过 5，循环仍然无法工作......它一次工作，但第二次它只是运行......任何想法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:46:04.590

首先，为什么要输入两次？你的循环应该照顾到这一点。

其次，如果条件改变你

```
 if (( isdigit(OnetoFive) && OnetoFive >= 1) && (OnetoFive <= 5)) 
```

您必须检查它是否是数字作为您的第一个条件。条件订单很重要！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:48:28.743

您是否尝试更换：

```
else 
{
    cin.clear();
    cout << "\n\nInvalid.  Please enter a number between 1 and 5: ";
    cin >> OnetoFive;
    if ((OnetoFive >= 1) && (OnetoFive <= 5) && isdigit(OnetoFive))
    {
        system("cls");
        return;
    }

} 
```

和

```
else 
{
    GetInput();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T09:23:43.170

C++ 不是我的强项，但为了让您了解适合您需求的循环如何看起来像：

```
bool GetInput()
{
    cout << "Please enter a number between 1 and 5: \n";
    cin >> OnetoFive;

    if(isdigit(OnetoFive) && (OnetoFive <= 5) && (OnetoFive >= 1))
        {
            return true;
        }
    else 
        {
        system("cls");
        cin.clear();
        cin.ignore(INT_MAX, '\n');
        cout << "\n\nInvalid.  Please enter a number between 1 and 5: ";
        }   
    return false;
}

while(!GetInput())
{
    GetInput();
} 
```

编写在我的 Android 手机上的代码，所以不能保证它可以开箱即用，但它应该给你一个想法。

# php - 在使用 wifi 连接的另一台 PC 上访问 localhost xampp

> ID：14807742
> 
> 赞同：1
> 
> 时间：2013-02-11T07:35:03.987
> 
> 标签：php, networking, xampp

我希望我的 xampp 上的 htdocs 文件夹可以被其他 PC 访问。我搜索了一个答案，它说你应该只编辑你的 htaccess 文件。

我不确定我的 htaccess 文件在哪里，但我在 htdocs\forbidden 文件夹中找到了一个。

所以我的 htaccess 文件如下所示：

```
AuthType Basic
AuthName "FORBIDDEN AREA"
AuthUserfile "../htdocs/forbidden/.htpasswd"
Require valid-user

order deny,allow

deny from all

allow from 192.168.254.254
allow from 192.168.254.101 
```

这两个 IP 是我要连接的 2 台电脑。

两台电脑应该在浏览器中输入什么来访问我的网站？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:45:50.170

他们应该输入您的 IP 地址（在本地网络中，例如 192.168.254.1）

# php - MySQL 正在将我的时间戳值转换为 0000-00-00

> ID：14807746
> 
> 赞同：9
> 
> 时间：2013-02-11T07:35:33.820
> 
> 标签：php, mysql, sql, datetime, timestamp

我是 PHP 新手，目前仍在学习。我想我的注册表有问题。`username`, `password`,`email`都成功插入 MySQL。`registered`并且`last_seen`不要。

我以为我用`getTimestamp()`错了，但它呼应了我的需要。但是，当我尝试将两个时间戳字段插入 MySql 时，我看到`0000-00-00 00:00:00`的是这些字段，而不是它在 sql 查询之前回显的内容。我在这里做错了什么？任何帮助深表感谢。

```
 $date = new DateTime();
    $time = $date->getTimestamp();

    echo '<div class="box_grey">' . $time . '</div>';

    $sql = '    INSERT INTO users (username, password, email, registered, last_seen) 
                VALUES (:username, :password, :email, :registered, :last_seen)';
    $stmt = $pdo->prepare($sql);
    $stmt->bindParam(':username', $username);
    $stmt->bindParam(':password', $password);
    $stmt->bindParam(':email', $email);
    $stmt->bindParam(':registered', $time);
    $stmt->bindParam(':last_seen', $time);
    $stmt->execute();

    print '<div class="box_grey">errorCode() ' . $stmt->errorCode() . '<br /><br />';
    print_r($stmt->errorInfo());

    echo '</div>';

    echo '<div class="box_grey">Registered successfully!</div>'; 
```

这是`SHOW CREATE TABLE users;`向我展示的。

```
CREATE TABLE `users` (
    `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'User''s unique ID number',  
    `username` varchar(16) NOT NULL,  
    `password` varchar(100) NOT NULL,  
    `email` varchar(254) NOT NULL,  
    `registered` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',  
    `last_seen` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',  
PRIMARY KEY (`id`)) 
ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-11T07:39:39.890

这经常发生。
你混淆了 mysql 时间戳，它实际上是一个类似于 DATETIME 的值和 UNIX 时间戳，它是自 1970 年 1 月 1 日以来经过的秒数。

您需要更改字段格式或插入值。
您还可以方便地找到一些 mysql 函数 - 例如 CURDATE() 或 NOW ()

```
$sql = 'INSERT INTO users VALUES (NULL,:username,:password,:email,NOW(),NOW())';
$stmt = $pdo->prepare($sql);
$stmt->execute(array($username, $password, $email)); 
```

但我个人会避免使用 mysql 时间戳。它们可能会被意外更改，从而破坏您的所有数据。我会`DATETIME`手动使用和设置所有值。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T07:54:32.193

您可以使用[`FROM_UNIXTIME()`](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_from-unixtime)函数将 UNIX 时间戳转换为 MySQL 日期：

```
// $date = new DateTime(); $time = $date->getTimestamp();
// $time = time();
// $time = 1360569298;
$sql = 'INSERT INTO users (
username, password, email, registered, last_seen
) VALUES (
:username, :password, :email, FROM_UNIXTIME(:registered), FROM_UNIXTIME(:last_seen)
)';
// ....
$stmt->bindParam(':registered', $time);
$stmt->bindParam(':last_seen', $time); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-11T07:41:54.473

```
set timestamp field default value `current_timestamp` and use the query like below
$sql = '    INSERT INTO users (username, password, email) 
            VALUES (:username, :password, :email)'; 
```

我想它会对你有所帮助。谢谢。

# android - 绘制自定义图表

> ID：14807751
> 
> 赞同：-2
> 
> 时间：2013-02-11T07:36:06.557
> 
> 标签：android, user-interface, graph

我想在这个中画一个像showm这样的图表

![在此处输入图像描述](../Images/416f5d97285f77416d3983a854a18d72.png)

**x轴**为5分钟时间间隔即为时间轴

**y轴**有4种不同颜色的值Wake、REM、Light、Deep

所以我想模拟这样的图表并显示....

必须在代码中传递唤醒、远程、轻或深数据才能形成这样的 gragh....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:39:04.843

[检查 aChartEngine](http://code.google.com/p/achartengine/)，这可能是您可以使用的最流行（和免费）的库。Android 中没有任何东西可以绘制图形。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:53:33.443

我将向您展示一种在没有任何 api 的情况下实现自定义图表的方法。不知道对你有没有帮助。但它将向您展示实现所需内容的方法。

[没有任何内置罐子的Android条形图](http://rakhi577.wordpress.com/2012/10/11/bar-chart-in-android-with-out-any-built-in-jars/)

有了这个，您可以使用带有 Textviews 的简单逻辑来实现图表。只需按照逻辑进行。我相信你会在这里找到解决方案

# google-bigquery - 如何使用 pageTokens 和适用于 Java 的 Google 客户端库请求分页 BigQuery 查询结果？

> ID：14807752
> 
> 赞同：9
> 
> 时间：2013-02-11T07:36:17.853
> 
> 标签：google-bigquery, google-api-java-client

我想运行包含数千行总结果的 BigQuery 查询，但我只想一次检索一页 100 个结果（使用`maxResults`and`pageToken`参数）。

BigQuery API 支持`pageToken`在方法上使用参数`collection.list`。但是，我正在运行异步查询并使用该`getQueryResult`方法检索结果，它似乎不支持该`pageToken`参数。s可以和`pageToken`s 一起使用`getQueryResults`吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-11T07:37:54.573

**更新：**这里有关于如何[翻阅列表结果](https://developers.google.com/bigquery/docs/data#paging)的新文档。

我正在自我回答这个问题，因为一位开发人员私下问过我这个问题，我想在 Stack Overflow 上分享答案。

当从 Tabledata.list 方法请求分页结果时，可以使用 pageToken 参数。例如，当结果数据超过 100k 行或 10 MB 结果时，结果集会自动分页。您还可以通过显式设置 maxResults 参数来请求结果分页。每页结果都会返回一个 pageToken 参数，然后可以使用该参数来检索下一页结果。

每个查询都会生成一个新的 BigQuery 表。如果您没有明确命名该表，它只会持续 24 小时。然而，即使是未命名的“匿名”表也有一个标识符。无论哪种情况，在插入查询作业后，检索新创建的表的名称。然后使用 tabledata.list 方法（以及 maxResults/pageToken 参数的组合）以分页形式请求结果。使用之前检索到的 pageToken 循环并继续调用 tabledata.list，直到不再返回 pageTokens（意味着您已到达最后一页。

使用适用于 Java 的 Google API 客户端库，用于插入查询作业、轮询查询完成以及检索一页又一页查询结果的代码可能如下所示：

```
// Create a new BigQuery client authorized via OAuth 2.0 protocol
// See: https://developers.google.com/bigquery/docs/authorization#installed-applications
Bigquery bigquery = createAuthorizedClient();

// Start a Query Job
String querySql = "SELECT TOP(word, 500), COUNT(*) FROM publicdata:samples.shakespeare";
JobReference jobId = startQuery(bigquery, PROJECT_ID, querySql);

// Poll for Query Results, return result output
TableReference completedJob = checkQueryResults(bigquery, PROJECT_ID, jobId);

// Return and display the results of the Query Job
displayQueryResults(bigquery, completedJob);

/**
 * Inserts a Query Job for a particular query
 */
public static JobReference startQuery(Bigquery bigquery, String projectId,
                                      String querySql) throws IOException {
  System.out.format("\nInserting Query Job: %s\n", querySql);

  Job job = new Job();
  JobConfiguration config = new JobConfiguration();
  JobConfigurationQuery queryConfig = new JobConfigurationQuery();
  config.setQuery(queryConfig);

  job.setConfiguration(config);
  queryConfig.setQuery(querySql);

  Insert insert = bigquery.jobs().insert(projectId, job);
  insert.setProjectId(projectId);
  JobReference jobId = insert.execute().getJobReference();

  System.out.format("\nJob ID of Query Job is: %s\n", jobId.getJobId());

  return jobId;
}

/**
 * Polls the status of a BigQuery job, returns TableReference to results if "DONE"
 */
private static TableReference checkQueryResults(Bigquery bigquery, String projectId, JobReference jobId)
    throws IOException, InterruptedException {
  // Variables to keep track of total query time
  long startTime = System.currentTimeMillis();
  long elapsedTime;

  while (true) {
    Job pollJob = bigquery.jobs().get(projectId, jobId.getJobId()).execute();
    elapsedTime = System.currentTimeMillis() - startTime;
    System.out.format("Job status (%dms) %s: %s\n", elapsedTime,
        jobId.getJobId(), pollJob.getStatus().getState());
    if (pollJob.getStatus().getState().equals("DONE")) {
      return pollJob.getConfiguration().getQuery().getDestinationTable();
    }
    // Pause execution for one second before polling job status again, to
    // reduce unnecessary calls to the BigQUery API and lower overall
    // application bandwidth.
    Thread.sleep(1000);
  }
}

/**
 * Page through the result set
 */
private static void displayQueryResults(Bigquery bigquery,
                                        TableReference completedJob) throws IOException {

    long maxResults = 20;
    String pageToken = null;
    int page = 1;

  // Default to not looping
    boolean moreResults = false;

    do {
    TableDataList queryResult = bigquery.tabledata().list(
            completedJob.getProjectId(),
            completedJob.getDatasetId(),
            completedJob.getTableId())
                .setMaxResults(maxResults)
                .setPageToken(pageToken)
         .execute();
    List<TableRow> rows = queryResult.getRows();
    System.out.print("\nQuery Results, Page #" + page + ":\n------------\n");
    for (TableRow row : rows) {
      for (TableCell field : row.getF()) {
      System.out.printf("%-50s", field.getV());
       }
      System.out.println();
    }
    if (queryResult.getPageToken() != null) {
      pageToken = queryResult.getPageToken();
      moreResults = true;
      page++;
    } else {
      moreResults = false;
    }
  } while (moreResults);
} 
```

# iphone - 我们可以自己创建自定义 sdk

> ID：14807756
> 
> 赞同：3
> 
> 时间：2013-02-11T07:36:46.243
> 
> 标签：iphone, sdk

我想自己创建像 adMob 这样的自定义 sdk。但我不知道，我想知道是否有任何可用的示例或指导，因为我没有在网上找到任何此类材料。我之前也问过同样的问题，但没有得到预期的答案，这就是为什么试图以更有效的方式再次提问。我想构建一个可以由用户下载、添加到应用程序并可用的 sdk。

请指导以上。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:42:46.947

编辑：原始答案中提交的两个链接自 2011 年以来已过期

那些仍然对该主题感兴趣的人请考虑以下之一：

[Xcode 6 和 Embedded Frameworks 仅在 iOS8 中支持](https://stackoverflow.com/questions/25909870/xcode-6-and-embedded-frameworks-only-supported-in-ios8)

[嵌入式框架 < iOS 8](https://stackoverflow.com/questions/29682272/embedded-frameworks-ios-8)

[https://www.raywenderlich.com/65964/create-a-framework-for-ios](https://www.raywenderlich.com/65964/create-a-framework-for-ios)

* * *

~~也许其中一些链接会有所帮助：~~

[http://www.icodeblog.com/2011/04/07/creating-static-libraries-for-ios/](http://www.icodeblog.com/2011/04/07/creating-static-libraries-for-ios/)

~~[http://db-in.com/blog/2011/07/universal-framework-iphone-ios-2-0/](http://db-in.com/blog/2011/07/universal-framework-iphone-ios-2-0/)~~

# java - MapReduce 结果集跳过和限制

> ID：14807760
> 
> 赞同：0
> 
> 时间：2013-02-11T07:37:27.357
> 
> 标签：java, mongodb, mapreduce

我在 java 中运行这个 mongo MapReduce 查询

```
MapReduceCommand mrc = new MapReduceCommand(collection, map,reduce, null,MapReduceCommand.OutputType.INLINE,conditions);  
MapReduceOutput out = collection.mapReduce(mrc); 
```

这工作正常并返回值，但我如何为这些结果设置“跳过”和“限制”？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:30:07.670

有一种方法可以做到这一点，但不完全是我想要的方式，首先我必须将输出保存到新集合中，就像这样

```
 MapReduceCommand mrc = new MapReduceCommand(collection, map,reduce,"result",MapReduceCommand.OutputType.REPLACE,conditions);  
 MapReduceOutput out = collection.mapReduce(mrc); 
```

然后，我们可以像这样设置跳过限制

```
 DBCursor rs = out.getOutputCollection().find() ;
    rs.skip(0).limit(10); 
```

如果任何机构知道这样做而不将地图减少结果保存到临时集合，请发布，

谢谢

# objective-c - 在文本字段中仅输入日期

> ID：14807765
> 
> 赞同：0
> 
> 时间：2013-02-11T07:37:37.600
> 
> 标签：objective-c, xcode, nsstring

有没有办法确保用户只能在文本字段中输入日期？例如，字符 0-9 和 /（或更好的解决方案）？如果是这样，最好的方法是什么？

我没有成功

> NSString *LEGAL = @"0123456789/";
> 
> NSCharacterSet *characterSet = [[NSCharacterSet characterSetWithCharactersInString:LEGAL] reverseSet];
> 
> NSString *filteredOne = [[firstString componentsSeparatedByCharactersInSet:characterSet]
> 
> componentsJoinedByString:@""];
> 
> NSString *filteredTwo = [[secondString componentsSeparatedByCharactersInSet:characterSet]
> 
> componentsJoinedByString:@""];
> 
> firstString = 过滤的一个；
> 
> secondString = 过滤的二；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:31:19.353

如果我正确理解您的问题，我可能会提供帮助。这是我以前用来格式化文本字段以选择日期的一些旧代码。希望您能够理解它并使其适应您的需求：

笔记：`UITextField *endDate;`

```
 //Get date and format it for the textfields
-(void)updateTextField:(id)sender
{
    NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
    [dateFormat setDateFormat:@"yyyy-MM-dd"];

    UIDatePicker *picker = (UIDatePicker*)self.endDate.inputView;
    NSString *theDate = [dateFormat stringFromDate:picker.date];

    self.endDate.text = [NSString stringWithFormat:@"%@",theDate];

    [dateFormat release];
} 
```

要使用日期选择器而不是键盘，请在 viewDidLoad() 方法中尝试这样的操作*

```
//Make date pickers instead of keyboards for time text boxes
UIDatePicker *datePicker = [[[UIDatePicker alloc]initWithFrame:CGRectMake(0.0, 0.0, 320.0, 162.0)] autorelease];
datePicker.datePickerMode = UIDatePickerModeDate;
datePicker.maximumDate = [NSDate date];
NSDate *setDate = [NSDate dateWithYear: 2012 month: 02 day: 03];
[datePicker setDate:setDate];
[datePicker addTarget:self action:@selector(updateTextField:) forControlEvents:UIControlEventValueChanged];       
[self.startDate setInputView:datePicker];

datePicker = [[[UIDatePicker alloc]initWithFrame:CGRectMake(0.0, 0.0, 320.0, 162.0)] autorelease];
datePicker.datePickerMode = UIDatePickerModeDate;
datePicker.maximumDate = [NSDate date];
setDate = [NSDate dateWithYear: 2012 month: 02 day: 10];
[datePicker setDate:setDate];
[datePicker addTarget:self action:@selector(updateTextField2:) forControlEvents:UIControlEventValueChanged];       
[self.endDate setInputView:datePicker]; 
```

*注意，您可能需要自己的 NSDate 接口/实现，如果需要，代码如下。不要忘记在文件顶部导入它！

NSDate.h

```
#import <Foundation/Foundation.h>

@interface NSDate (missingFunctions) 
+ (NSDate *)dateWithYear:(NSInteger)year month:(NSInteger)month day:(NSInteger)day;
@end 
```

NSDate.m

```
#import "NSDate.h"

@implementation NSDate (missingFunctions)

+ (NSDate *)dateWithYear:(NSInteger)year month:(NSInteger)month day:(NSInteger)day {
    NSCalendar *calendar = [[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar] autorelease];
    NSDateComponents *components = [[[NSDateComponents alloc] init] autorelease];
    [components setYear:year];
    [components setMonth:month];
    [components setDay:day];
    return [calendar dateFromComponents:components];
}   
@end 
```

# java - 未封闭字符文字背后的算法

> ID：14807767
> 
> 赞同：0
> 
> 时间：2013-02-11T07:37:44.593
> 
> 标签：java, string, scala, compiler-errors, character

在 java 或 scala 中，在单引号内声明一个字符串会抛出

> '错误：未闭合的字符文字'

我想知道是否有人可以告诉我编译器如何对单引号内的字符串进行类型检查然后确定错误的确切机制。另外，为什么编译器会说'

> 未闭合字符文字

' 代替

> “字符串而不是字符”

作为错误描述？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:55:39.087

由于我不详细了解编译器是如何工作的，我只能猜测：

在词法分析期间，当编译器看到`'`它已经知道的开始时，它正在读取字符文字。所以它需要一个字符（或代表一个字符的转义序列，如`\n`），然后是一个结束符`'`。当`'`未找到关闭消息时

```
error: unclosed character literal 
```

才有意义。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T08:01:58.117

这通常由*[词法分析器](http://en.wikipedia.org/wiki/Lexical_analysis)*完成。正如维基百科文章所说，这通常由[有限状态机](http://en.wikipedia.org/wiki/Finite-state_machine)完成，它非常快速且易于生成。

至于为什么它显示“未封闭的字符文字”而不是“字符串而不是字符”是因为通常解析语言的方式（与词法分析不同的步骤）使得编译器更难实现程序员的意图比一个人看着它。编译器使用的*上下文*通常是问题部分的左侧和上方，而不是整个上下文。

所以，看开引号的左边，无法判断错误是缺少单引号，还是程序员将单引号和双引号混用了。在 Scala 中，符号的语法 ( `'aSymbol`) 使这一点更加复杂，这阻止了它使用下一个字符作为区分一个字符的一种方式。

因此，最后，选择错误消息以反映最可能的错误，并且对于来自 Java、C 或 C++ 的任何人来说，在字符串周围使用单引号并不是一种习惯。对于来自 Ruby、Perl 或 Python 等脚本语言的人来说，这是另一回事。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T23:11:01.703

编译器期望文字中只有一个字符（除非它是转义字符。之后唯一有效的字符是结束单引号。如果不存在，则会给出该错误。

编译器无法读懂你的想法并且知道真正的问题出在单引号上。它假定您知道自己在做什么，并报告它实际看到的第一个错误。

# javascript - SimpleModal JS 高度大于浏览器高度不可滚动

> ID：14807768
> 
> 赞同：0
> 
> 时间：2013-02-11T07:37:46.407
> 
> 标签：javascript, jquery, simplemodal

我正在为一个项目使用[SimpleModal](http://www.ericmmartin.com/projects/simplemodal/)。但是当simplemodal对话框**高度**大于**文档高度**时，我面临一个问题，它不可滚动。它是从底部切开的。

我搜索了它，但没有任何效果。

任何帮助表示赞赏:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:27:25.563

检查这是不是你想要的...

```
jQuery(function ($) {

    $('#basic-modal .basic').click(function (e) {

       $('#basic-modal-content').modal();
       $("#simplemodal-container").css({ 'position' : 'absolute'});  
       $(".simplemodal-wrap").removeAttr('style');
       return false;
    });
}); 
```

谢谢

# database - 用于向数据库生成“虚拟”数据以进行性能测试的工具？

> ID：14807769
> 
> 赞同：0
> 
> 时间：2013-02-11T07:37:53.443
> 
> 标签：database, random, performance-testing

我正在计划在一个大型事务性 Web 应用程序中进行性能测试。我们没有可用的生产快照，我们可以加扰，我不想创建手动 SQL 插入查询。是否有（最好）免费工具可以为数据库生成随机数据，最好有一些预定义的内容规则？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-06T10:46:04.380

看看 jFairy，这个库有助于生成随机数据（没有 sql）。您需要手动创建 sql 语句。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T23:12:56.577

试试[http://www.mockaroo.com](http://www.mockaroo.com)。这是我维护的一个免费工具，我的公司使用它来生成测试数据集。它将为您生成 SQL DDL 和插入语句，如果您登录并保存模式，您可以使用 curl 自动生成测试数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-06T07:26:08.523

您可以使用 generatedata.com/ 和[http://www.databasetestdata.com/](http://www.databasetestdata.com/)来获取虚拟数据

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-10-08T03:53:11.740

看看[http://genfu.io/](http://genfu.io/)（您可以在网站本身生成示例数据）或 [https://github.com/MisterJames/GenFu](https://github.com/MisterJames/GenFu)

它可以生成真实的数据，甚至是联系电话和几乎真实的姓名。

# asp.net-mvc-4 - 在 webgrid 中添加链接按钮

> ID：14807771
> 
> 赞同：0
> 
> 时间：2013-02-11T07:37:54.880
> 
> 标签：asp.net-mvc-4

我想在 mvc webgrid 中添加一个链接按钮，它应该调用一个 javascript 方法。

我现在正在使用：

```
hiddenDiv.Column("",style: "col1",format: @<text>
<button class="edit-book display-mode" id="@item.FacilityID">
    Select</button>
</text>) 
```

调用：

```
$('.edit-book').on('click', function () {
        $('#hiddendiv2').show();
        $('#facilitygrid').hide();
        var bookId = $(this).prop('id');
        alert(bookId);
    }); 
```

但不是 Button 我想放一个链接按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:58:36.300

由于我们在 mvc 中没有链接按钮，因此您可以`@Html.ActionLink`通过覆盖 Action Link 的默认行为来实现。

```
hiddenDiv.Column("",style: "col1",format: @<text>
    @Html.ActionLink("Home","Index",null, new { @class="ImgAddition", @onclick="SomeScript(this);"})
</text>) 
```

为了显示图像而不是链接，您应该添加以下 css

```
.ImgAddition{
     background: url(../Images/image.gif) no-repeat top left;/* add image*/
     display: block;
     width: 100px;
     height: 100px;
     text-indent: -9999px; /* hides the link text */

} 
```

最后是你的脚本：

```
$('.ImgAddition').on('click', function (e) {
        e.preventDefault();
        $('#hiddendiv2').show();
        $('#facilitygrid').hide();
        var bookId = $(this).prop('id');
        alert(bookId);
    }); 
```

希望能帮助到你。

# jsp - 在 " 中呈现文本 " 在 jsp 中

> ID：14807772
> 
> 赞同：0
> 
> 时间：2013-02-11T07:37:59.370
> 
> 标签：jsp, parsing, jsp-tags

我遇到了一个奇怪的问题，我不确定解决方案。

我从第三方服务获取数据，形式为

> `"TEXT1<TEXT2>TEXT3 "`

等等。但是当我尝试在我的 JSP 上呈现它时，输出会以 TEXT1TEXT3 的形式被截断，因为 JSP 将其解释`<TEXT2>`为标记并且不会在输出上将其呈现为文本。有什么方法可以`TEXT1<TEXT2>TEXT3`在 JSP 上复制输出，而无需在后端进行更改，因为我没有任何访问权限。

问题出在后端服务上，因为它以 <> 标签的形式而不是以标签的形式提供输出。`"&lt;,"&gt;"` 有什么方法可以让我这样显示输出，而无需更改后端。是否有任何自定义标签存在于可以处理此类行为的 JSP 库中吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:55:05.873

使用标签库 jstl 在 jsp 文件开头添加声明

```
<%@ taglib uri="http://java.sun.com/jstl/core_rt" prefix="c"%> 
```

如果属性是文本，请在 jsp 文件中尝试此操作

```
<c:out value="${text}" escapeXml="true"/> 
```

或者

```
<c:out value="${text}"/> 
```

代替

```
${text} 
```

您可以搜索**jstl 标签 c:out**以获取更多信息

# php - 在同一页面上将javascript变量传输到php而不提交

> ID：14807774
> 
> 赞同：2
> 
> 时间：2013-02-11T07:38:25.757
> 
> 标签：php, javascript, mysql, database, jquery

您好我想将我的 javascript 变量传输到 php，就像实时传输一样。在文本框中输入的用户输入将被传输到 php 脚本以检查它是否在数据库中。然后，输出将显示在另一个只读文本框中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:40:21.613

为此，您将不得不使用[AJAX](http://api.jquery.com/jQuery.ajax/)。如果您能理解客户端（JavaScript）和服务器端（PHP）脚本之间的区别，我希望它会更好。类似的问题已经回答了很多问题。请谷歌，你可以找到他们的例子。另请参阅[客户端与服务器端基础知识](https://stackoverflow.com/questions/7407374/client-side-vs-server-side-basics)。

[客户端和服务器端编程之间的区别](http://www.ehow.com/about_5377868_difference-side-server-side-programming.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:46:44.780

您需要研究 AJAX。作为首字母缩略词，这听起来很吓人，但它很容易使用。

在您的 Javascript 中（使用 jQuery，并假设您有一个 id 为“searchbox”的文本框：

```
$.get("search.php", {"term":$("#searchbox")}, function(data) {
    alert(data);
} 
```

在您的 PHP 文件“search.php”中：

```
echo "Yay! " . $_GET['term'] . " Woo!"; 
```

如果您在文本框的 keyup 事件上运行 javascript，它将实时获取数据。因此，如果您在框中输入：“Hello World”，您会收到一连串烦人的消息框：

“耶！呜呜！”，“耶！他呜！”，“耶！赫尔呜！”，“耶！地狱哇！”......“耶！你好世界哇！”

从那里开始，就是让 PHP 代码返回一些有用的东西。为此，请查看 JSON。从那里开始，只需编写 Javascript 来处理新的有用信息。

[http://jquery.com/](http://jquery.com/)

[http://api.jquery.com/jQuery.get/](http://api.jquery.com/jQuery.get/)

[http://www.json.org/](http://www.json.org/)

[http://en.wikipedia.org/wiki/Ajax_（编程）](http://en.wikipedia.org/wiki/Ajax_(programming))

# django - Django：在系统启动时运行 Django

> ID：14807775
> 
> 赞同：0
> 
> 时间：2013-02-11T07:38:32.937
> 
> 标签：django, linux, ubuntu, cron, crontab

基本上我是 Django 开发人员，所以我只有在 Linux 方面的工作知识

我有一个 django 应用程序在`EC2`.

现在这是问题假设如果我重新启动 ec2 我的 django 应用程序需要再次运行。我不想一次又一次地运行 django 服务器。

所以我试着把这个过程放在cronjob中

```
@reboot cd /path/to/dir/./manage.py runserver 
```

不幸的是它不起作用。这里可能有什么问题？

请告诉我在系统启动时运行 Django 应用程序的方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:42:32.720

您不应该使用 runserver 在生产中为您的应用程序提供服务。您应该使用真正的网络服务器，例如 Apache。这将在重新启动时自动启动。

# migration - 将内容从 Tridion 5.3sp1 迁移到 2011sp1 的最佳方法是什么

> ID：14807778
> 
> 赞同：0
> 
> 时间：2013-02-11T07:38:47.063
> 
> 标签：migration, tridion, tridion-2011

我们从 5.3sp1 到 2011sp1 的迁移将持续 2-3 个月，但在此期间将在 tridion 5.3sp1 的生产中添加内容。在迁移活动之后，我们将在 2011sp1 上迁移系统，

但现在我想将新内容从生产（仍在 5.3 中）迁移到升级的数据库。

2011 年不支持 Content porter 版本 2.3（目前在 5.3sp1 中使用）。

最好的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:03:06.263

我认为最好是在生产设置后再次重做数据库升级。在测试的最后阶段，要求编辑同时在两台服务器上添加/编辑内容。

您必须说服您的编辑在最终数据库升级后的最后阶段进行内容冻结或最小更改。我们发现这很难，所以我们添加了自定义事件代码来跟踪更改并撤销许多编辑器的访问权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-18T13:49:14.487

您可能需要考虑将您的内容移植器升级到 2009 SP1。它也与 5.3 SP 1 和 2011 SP1 兼容。

没有冻结期可能无法执行迁移，但使用一次性数据库升级和内容移植器，您可以将其保持在最低限度。

您可能还需要考虑设计冻结（没有架构或模板更改），基于您的蓝图和端口仅内容更改稍后在 2 个环境中完成，将风险降至最低。

我希望它有所帮助。祝你好运说服作者:)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T19:24:40.313

您可能会考虑让额外的 Tridion 服务器运行一段时间。我正在考虑这样的过程。

1.  内容是在生产中创建的 (5.3)
2.  复制生产数据库，升级到2011
3.  确保您的“备用” Tridion 2011 服务器配置为使用升级后的数据库。
4.  内容将内容从那里移植到您的“升级”环境
5.  冲洗并间隔重复

当然，我可能没有完全理解你的逻辑，但是这个主题的一些变化可能会起作用。如今，拥有备用环境的基本前提通常比过去更加可行。通常它就像克隆虚拟机一样简单。如果您在短时间内需要额外的 SDL Tridion 许可证，我建议您与他们讨论一下。他们支持人们升级，并且通常会在可能的情况下提供帮助。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-11T16:39:17.377

我假设您的 5.3 机器是您的开发环境，而您的 2011 是您的生产环境，并且您要求将一些增量项目发送到您的生产环境。

可以从 5.3 sp1 直接升级到 2011，我建议让您的环境使用相同的版本，这样您就可以将内容从一个 2011 环境移植到另一个环境。

也许如果您在此处提供更多信息，您可能会从社区中获得更好的答案。

# boost - Boost Graph：filtered_graph 包含边还是顶点？

> ID：14807781
> 
> 赞同：0
> 
> 时间：2013-02-11T07:39:04.813
> 
> 标签：boost

在 a`boost::filtered_graph`中，是否可以传递底层图的边或顶点描述符来检查描述符是否也是过滤图的一部分？

用例：我有一个包含来自底层图的所有顶点的 r-tree，我想过滤掉所有不属于过滤图的节点（由空间查询产生）。

我不想在构造`filtered_graph`. 谓词函数对象是 的私有成员`filtered_graph`，所以我想知道是否有办法使用非成员函数访问它们。

# javascript - 从 JQuery 运行用于 Ubuntu Webapp 集成的 JavaScript 函数

> ID：14807787
> 
> 赞同：2
> 
> 时间：2013-02-11T07:39:30.490
> 
> 标签：javascript, jquery, ubuntu, ubuntu-unity

我正在尝试按照Ubuntu 开发人员网站上[的教程将我的网站与 Ubuntu Unity 集成为 web 应用程序。](http://developer.ubuntu.com/api/ubuntu-12.10/javascript/uwapi-ref.html)

到目前为止，我的 HTML 文档中有这段代码：

```
<script type="text/javascript">
    function unityReady() {
      // Integrate with Unity!
    }
    var Unity = external.getUnityObject(1.0); 

    Unity.init({name: "My WebApp",
                iconUrl: "http://localhost/my-icon.png",
                onInit: unityReady});
</script> 
```

这似乎工作正常。Firefox 弹出消息询问我是否要安装 Web 应用程序并且我接受它。

现在进入教程的下一部分，我有以下代码：

```
<script type="text/javascript">
    function notificationExampleOne() {
        console.log('hello');
        Unity.Notification.showNotification("This is a test", "New message received", null);
    }
</script>

<a href="javascript:notificationExampleOne()">execute</a> 
```

这也很好用。如果我单击“执行”，则会`hello`出现在日志中，并且通知对话框会在 Unity 中弹出，就像它应该做的那样。

现在我想做的是在页面加载后立即执行。但是，我想即时进行，而不是将其放在`OnLoad`body 标签或类似的东西中。这是因为我最终会将它放在 JavaScript 条件语句中。

但是，我根本无法让它执行。这是我的代码：

```
<script type="text/javascript">
    notificationExampleOne();
</script> 
```

当我加载页面时，`hello`出现在日志中，所以我知道该函数正在执行。但是，该函数的第二行似乎没有执行，因为通知未在 Unity 中显示。

我什至尝试将函数调用包装在 JQuery 中，如下所示：

```
<script type="text/javascript">
    $(document).ready(function() {
        notificationExampleOne();
    });
</script> 
```

我得到了同样的结果。该词`hello`出现在日志中以确认该功能已运行但 Unity 通知未触发。

# wpf - 显示额外列的 WPF DataGrid 控件

> ID：14807796
> 
> 赞同：1
> 
> 时间：2013-02-11T07:39:59.833
> 
> 标签：wpf, excel, datagrid

我正在开发一个将三个 Excel 文件读入 DataTables 的应用程序。它们被称为变体、套件和零件。变体和套件通过 DataRelation 连接，套件和零件也是如此。

在程序的一部分中，我使用 DataGrid 控件通过 DataView 显示整个 Variants 表的内容。问题是，在 Variants 表中的所有实际列之后，DataGrid 显示最后一列称为 VariantsKits，它是 Variants 和 Kits 表之间的 DataRelation 的名称。

我该怎么做才能不显示这个？我使用 AutoGenerateColumns 因为我不确切知道导入的 Variants Excel 文件中有哪些列。

任何意见，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:59:16.547

```
// You might have to add a reference to the dll first)
using System.ComponentModel.DataAnnotations;

[Display(AutoGenerateField = false)]
public PropertyType ThisIsThePropertyYouDontWantToShowUp { get; set; } 
```

第二种选择是挂接到 DataGrid 上的 AutoGeneratingColumn 事件，并为您不想要的列取消它

```
private void DataGrid_AutoGeneratingColumn(
    object sender, DataGridAutoGeneratingColumnEventArgs e)
    {
        if (/* do a check on e.PropertyName or e.PropertyType*/)
            e.Cancel = true;
    } 
```

# c# - 强制在 StructureMap 中创建对象

> ID：14807805
> 
> 赞同：1
> 
> 时间：2013-02-11T07:41:01.767
> 
> 标签：c#, structuremap

我们使用的是 StructureMap，容器的默认生命周期是在每次请求该类型时创建一个新对象。最近，我们开始研究为 Web 应用程序中的每个 HTTP 请求创建一个嵌套容器。它工作得很好，除了嵌套容器的生命周期与常规容器完全不同，因为所有对象在嵌套容器内都变成了单例。

由于我们在大部分对象创建中都使用 StructureMap，因此我们的代码在嵌套容器的生命周期中以神秘的方式中断。有人可能会争辩说这是我们的错误，我想这是正确的，因为`GetInstance()`即使我们真的希望创建一个新实例，我们也会调用。但是我找不到任何方法让我们绕过 StructureMap 中的生命周期管理并强制创建（类似于 a`CreateInstance()`而不是`GetInstance()`）。我们可以着手实现我们自己的`CreateInstance()`方法，但那种感觉就像是在重新发明 StructureMap。我们也可以改变我们的工厂来显式地创建对象，但是当我们需要通用地获取一个实例时这并不真正起作用（`container.GetInstance<IMyType>()`）。

因此，任何关于强制 StructureMap 创建对象，或如何更改嵌套容器中的生命周期，或如何更改我们的工厂代码以更明确地创建实例的建议都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T09:26:17.433

我们处于类似情况，在您的问题下谈论您评论的这一部分：

> ...我们有一个 Web 应用程序的网站/实例，根据您的身份，我们会连接到您所属的数据库。所以我们希望每个请求都有一个隔离的容器，以避免状态溢出到不同的系统（用户 A 从用户 B 的系统中获取一个对象）......

我正在寻找相同的功能，它应该是多线程安全的。然后我找到了这个链接： [StructureMap：多线程环境。没有为 PluginFamily 定义默认实例](https://stackoverflow.com/questions/7627502/structuremap-multithreaded-env-no-default-instance-defined-for-pluginfamily)

结果可以这样描述：

1）要求：您的解决方案中有一个抽象。而不是`StructureMap.ObjectFactory.GetInstance`......所有部分都应该调用你的

```
Factory.GetInstance(type) 
```

（及其提供者，将调用*StructureMap* (SM) 或以后的任何其他*IoC*提供者）

2) 如果是这种情况（或者您可以为您的 引入例如 Manager 模式`Factory`，并让您的所有代码在*SM*上缩进）我们可以创建两个（或更多）容器。

首先是默认的

```
public class DefaultProfileRegistry : Registry
{
  public DefaultProfileRegistry()
  {
    // whatever calls needed to initialize this registry
    SetScans(this);                         // scan
    SetSetterInjection(this);               // DI
    Profile("DefaultProfile", SetDefaults); // even some common defaults
  } 
```

现在让我们创建一个不同的`Registry`

```
public class SpecialProfileRegistry : Registry
{
  public SpecialProfileRegistry()
  {
     DefaultProfileRegistry.SetScans(this); // use part from default
     ...
     Profile("Special", DefaultProfileRegistry.SetDefaults); // common defaults
   } 
```

好吧，我们有：两个`Registry`。一是*默认*，二是*特殊*可以从中获利并调整一部分，或者完全不同......

3）在实现器中注册它们，`IFactoryProvider`例如`StructureMapFactoryProvider`（SMFP）：

```
public partial class StructureMapFactoryProvider : IFactoryProvider
{
  private static readonly IContainer Special;

  static StructureMapFactoryProvider()
  {
    // 1) the default registry container
    ObjectFactory.Initialize(x =>
    {
      x.UseDefaultStructureMapConfigFile = false;
      // Defaults
      x.IncludeRegistry<DefaultProfileRegistry>();
    });
    ObjectFactory.Container.SetDefaultsToProfile("DefaultProfile");

    // 2) and now register the other(s)

    Special  = new StructureMap.Container(new SpecialProfileRegistry());
    Special.SetDefaultsToProfile("Special");
    } 
```

好吧，现在，当我们第一次接触到我们的 SMFP 时，所有的容器都被实例化了……

4）最后在里面`IFactoryProvider.GetInstance()`，我们可以决定使用什么

```
object IFactoryProvider.GetInstance(Type type)
{
  var useSpecial = ... // get the information to decide

  if (useDefault)
  {
    return Special.GetInstance(type);
  }
  else
  {
    return ObjectFactory.GetInstance(type);
  } 
```

5）`useSpecial`必须在这个地方以某种方式可用。并且**绝不能**依赖`IFactoryProvider.GetInstance()`. 如果在整个请求处理过程中此值是**const**`IContainer` ，则正确的将提供正确的对象。

6）每一个都`IContainer`可以有不同的*Conventions*，不同的*LiefCycle*设置......即使在`PluginType`注册了数千个 s 的情况下，这个解决方案也提供了非常好的性能并且是多线程安全的（例如，没有配置文件切换）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:18:03.010

> 我们也可以改变我们的工厂来显式地创建对象，但是当我们需要通用地获取一个实例时这并不真正起作用（`container.GetInstance<IMyType>()`）。

假设您需要的地方数量有限，这实际上是可行的：

```
For<IMyType>().Use(s => new MyType()); 
```

当然，这些也可能是潜在设计问题的症状，例如需要定义租户特定的上下文，因此请花一些时间仔细重新考虑您的设计。

# sql-server - 在sql server中按月和日获取数据

> ID：14807812
> 
> 赞同：0
> 
> 时间：2013-02-11T07:41:35.647
> 
> 标签：sql-server

我有一个表 Task 有一个 createdDate 列。我需要获取在特定月份创建的所有任务，并且每天的记录不应超过 4 条。如果在特定日期有超过 4 条记录，那么我们只能获取最先创建的前 4 条记录。还有另一列 CreatedTime。

```
Task
(
  id
  ,CreatedDate
  ,CreatedTime

) 
```

结果应该是

```
id      CreatedDate

1       1/1/2013  
2       1/1/2013  
3       1/1/2013  
4       1/1/2013  
5       1/2/2013  
6       1/2/2013  
7       1/2/2013  
8       1/2/2013 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:03:55.667

`ROW_NUMBER()`在子查询或公用表表达式 (CTE) 中使用。子查询版本：

```
SELECT
    * --TODO: Columns
FROM
    (SELECT
        *,ROW_NUMBER() OVER (PARTITION BY CreatedDate ORDER BY CreatedTime) as rn
     FROM
        Task
    ) t
WHERE
    rn between 1 and 4 
```

如果您的数据中可能存在关联（`CreatedTime`同一天的两行相同）并且您需要明确考虑这些关联，则可以根据需要`ROW_NUMBER`使用`RANK`or交换`DENSE_RANK`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T08:11:29.220

```
; WITH A AS (
SELECT ID, CreatedDate
, convert(VARCHAR(7), CreatedDate, 121) AS YearMonth --will return something like 2012-01 
FROM Task
), 
B AS (
SELECT ID, CreatedDate
, ROW_NUMBER() OVER (PARTITION BY YearMonth ORDER BY CreatedDate, ID) AS RowNum
FROM A)
SELECT ID, CreatedDate
FROM B
WHERE RowNum<=4
ORDER BY ID 
```

这适用于 SQL 2005 和更高版本。

1.  首先在 CTE A 中找到分区列（年月），
2.  然后在 B 中为每条记录分配一个 RowNum（这可以根据您的订购条件进行更改）
3.  然后你得到最终的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:07:46.343

谢谢你的回复。我做了一些改变并在这里得到了解决方案。

```
; WITH A 
AS 
(
SELECT ID, CreatedDate , DAY(CreatedDate) AS Day 
FROM Task
WHERE CreatedDate BETWEEN '01/01/2013 00:00:00' AND '01/31/2013 23:59:59' 
)
,
B AS 
(
    SELECT 
     ROW_NUMBER() OVER (PARTITION BY Day ORDER BY CreatedDate, ID) AS RowNum 
    ,*
    FROM A
)

select 
 DAY(CreatedDate) as Day1
, MONTH(CreatedDate) as Month
, YEAR(dueDate) as Year
, * 
from B 
WHERE RowNum <= 4
order by Year,Month,Day1, CreatedDate 
```

# php - 如果将所需的值插入到数据库中，则永久禁用提交按钮 - php

> ID：14807814
> 
> 赞同：1
> 
> 时间：2013-02-11T07:41:42.773
> 
> 标签：php, html, mysql, forms

下面的更新表格会根据问卷的一些预定义答案更新密码保护区域中每个用户的食物偏好数据。

例如，

问：你最喜欢吃什么？

回答：

1.  奶酪
2.  肉
3.  沙拉

用户提交时，应根据变量的预定义值永久禁用以下表单的提交按钮`$trigger`。

```
$trigger = '1';
if ((isset($_POST["MM_update"])) && ($_POST["MM_update"] == "formX")) { 
$updateSQL = sprintf("UPDATE foodtable SET food_preference=%s, trigger=%s, WHERE food_id=%s",    
                       GetSQLValueString($_POST['food_preference'], "text"),
                       GetSQLValueString(trim($trigger), "int"),
                       GetSQLValueString($_POST['food_id'], "int"));

  mysql_select_db($database_XYZ, $XYZ);
  $Result1 = mysql_query($updateSQL, $XYZ) or die(mysql_error());

  $updateGoTo = "preference.php";
  if (isset($_SERVER['QUERY_STRING'])) {
    $updateGoTo .= (strpos($updateGoTo, '?')) ? "&" : "?";
    $updateGoTo .= $_SERVER['QUERY_STRING'];
      }
  header(sprintf("Location: %s", $updateGoTo));
    exit ();
} 
```

* * *

```
<form action="<?php echo $editFormAction; ?>" method="post" name="formX" id="formX">
<table align="center">
  <tr valign="baseline">
    <td align="right" nowrap="nowrap">Update Food Name:</td>
    <td><input type="text" name="food_name" value="" size="32" /></td>
  </tr>
   <tr valign="baseline">
    <td nowrap="nowrap" align="right">
     <input type="hidden" name="MM_update" value="formX" />
     <input type="hidden" name="trigger" value="<?php echo "$trigger"; ?>" />
     </td>
                    <td>
                    <input type="submit" value="Update Food Name" />
                    </td>
                  </tr>
                </table>
              </form> 
```

如何使用纯 php 条件语句执行它？我也应该改变html表单代码吗？任何参考或建议将不胜感激。

* * *

**编辑**

以下更新表格在受密码保护的用户区域更新个人用户的食物偏好。

```
 $trigger = '1';  
//note: default value of $trigger= '0'; when user submits data using insert form primarily. when they update data using this update form the value changes to `1`

if ((isset($_POST["MM_update"])) && ($_POST["MM_update"] == "formX")) { 
$updateSQL = sprintf("UPDATE foodtable SET food_name=%s, trigger=%s WHERE food_id=%s",    
                       GetSQLValueString($_POST['food_name'], "text"),
                       GetSQLValueString(trim($trigger), "int"),
                       GetSQLValueString($_POST['food_id'], "int"));

  mysql_select_db($database_XYZ, $XYZ);
  $Result1 = mysql_query($updateSQL, $XYZ) or die(mysql_error());

  $updateGoTo = "preference.php";
  if (isset($_SERVER['QUERY_STRING'])) {
    $updateGoTo .= (strpos($updateGoTo, '?')) ? "&" : "?";
    $updateGoTo .= $_SERVER['QUERY_STRING'];
      }
  header(sprintf("Location: %s", $updateGoTo));
    exit ();
} 
```

* * *

```
 <form action="<?php echo $editFormAction; ?>" method="post" name="formX" id="formX">
<table align="center">
  <tr valign="baseline">
    <td align="right" nowrap="nowrap">Update Food Name:</td>
    <td><input type="text" name="food_name" value="" size="32" /></td>
  </tr>
   <tr valign="baseline">
    <td nowrap="nowrap" align="right">
     <input type="hidden" name="MM_update" value="formX" />
    <input type="hidden" name="food_id" value="<?php echo $query['food_id']; ?>" />
     <input type="hidden" name="trigger" value="<?php echo "$trigger"; ?>" />
     </td>
     <td>
      < ?php 
        $disabled = "disabled";
        if (isset (which conditional statement shall disable the form permanently based on $trigger = '1'; ?)) {
        echo "<input type='submit' value='Update Food Name' " . $disabled . "/>";
        }else{
        echo "<input type='submit' value='Update Food Name'/>";
        } 
       ?>
                    </td>
                  </tr>
                </table>
              </form> 
```

顺便说一句，我使用以下 mysql 语法来获取禁用提交按钮的列值：

```
$query = "SELECT food_id, food_name, trigger FROM foodtable WHERE food_id > 0 AND trigger = '1'"; 
```

* * *

我应该使用哪个条件 php 语句来禁用此已编辑帖子中指示的 html 部分的表单？

它可以以很长的方式解决，但我期待一个合理的方法。

如果您觉得我的问题让您足够清楚，您的回复将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:43:55.063

我会按照以下方式进行。一旦用户提交表单，该标志就会写入他的会话中（但是我建议将此数据存储在数据库中，因为如果他关闭然后重新打开浏览器，会话将被重置；但此代码应该可以帮助您入门）。

首先，在脚本开始时初始化会话：

```
session_start(); 
```

然后，在更新之前检查他是否还没有提交数据：

```
if ((!isset($_SESSION['has_submitted']) or !$_SESSION['has_submitted'])
    and (isset($_POST["MM_update"])) and ($_POST["MM_update"] == "formX")) { 
```

而且，当然，您需要在更新后设置标志：

```
$Result1 = mysql_query($updateSQL, $XYZ) or die(mysql_error());
$_SESSION['has_submitted'] = TRUE; 
```

最后，当您回显提交按钮时，您只需检查此标志并采取相应措施：

```
<input type="submit" value="Update Food Name" <?php echo ((isset($_SESSION['has_submitted']) and $_SESSION['has_submitted']) ? 'disabled' : ''); ?> /> 
```

**编辑**

当用户进入页面时，需要获取当前`trigger`值：

```
$trigger = mysql_query("select trigger from foodtable where food_id=..."); 
```

然后，您只需`$trigger`在表单输出或提交时检查变量（假设用户以某种方式启用了表单）：

if (!$trigger and (isset($_POST["MM_update"])) and ($_POST["MM_update"] == "formX"))

和

```
<input type="submit" value="Update Food Name" <?php echo ($trigger ? 'disabled' : ''); ?> /> 
```

# javascript - deezer 播放器和 url 更改没有音乐停止

> ID：14807815
> 
> 赞同：1
> 
> 时间：2013-02-11T07:41:46.160
> 
> 标签：javascript, jquery, cross-browser, implementation, deezer

你用过 deezer.com 吗？如果你有并且你是一个开发者，你会质疑音乐怎么还能播放，地址栏中页面的 url 没有 hash 改变，只重新加载内容但播放器没有......

就像使用 2 个 iframe 并且父页面从重新加载的 iframe 页面获取 url 但不重新加载第二个或整个站点？

如果我的描述不准确，请向我询问更多详细信息。

谁知道这个功能，或者如何做到这一点的例子？

我已经看到这在 ie10,ff,chrome 之类的浏览器中是可能的，但是在 ie7-8 之类的浏览器中，这怎么可能呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-07T14:55:13.013

他们使用新的 HTML5 历史 API。

关于它的一些资源：

*   [如何在不刷新页面的情况下更改页面 URL？](https://stackoverflow.com/questions/6118693/how-can-i-change-the-page-url-without-refreshing-the-page)
*   [http://spoiledmilk.com/blog/html5-changeing-the-browser-url-without-refreshing-page/](http://spoiledmilk.com/blog/html5-changing-the-browser-url-without-refreshing-page/)

要检查 Deezer 是否使用此功能：

> wget [http://cdn-files.deezer.com/js/min/core.js](http://cdn-files.deezer.com/js/min/core.js) -O - | grep 'history.pushState'

# android - 在android中使用Zxing库解码位图

> ID：14807816
> 
> 赞同：1
> 
> 时间：2013-02-11T07:41:47.043
> 
> 标签：android, zxing, barcode-scanner

我正在集成 zxing 库以将条形码扫描到我的 android 应用程序。我在我的应用程序本地执行此操作，如图所示

[http://code.google.com/p/zxing/source/browse/trunk/androidtest/src/com/google/zxing/client/androidtest/ZXingTestActivity.java](http://code.google.com/p/zxing/source/browse/trunk/androidtest/src/com/google/zxing/client/androidtest/ZXingTestActivity.java)

但是在运行该应用程序时，它要求我安装条形码扫描仪应用程序。如果不安装应用程序就无法实现这一点吗？

我已经对如何实现这一目标进行了大量研究，但我最终无法获得令人满意的结果。

我正在尝试使用这段代码来做到这一点，

```
 IntentIntegrator integrator = new IntentIntegrator(TestActivity.this);
      integrator.addExtra("SCAN_WIDTH", 800);
      integrator.addExtra("SCAN_HEIGHT", 200);
      integrator.addExtra("RESULT_DISPLAY_DURATION_MS", 3000L);
      integrator.addExtra("PROMPT_MESSAGE", "Custom prompt to scan a product");
      integrator.initiateScan(IntentIntegrator.PRODUCT_CODE_TYPES); 
```

请帮我

**更新 ：**

我现在正在使用不同的 zxing 技术进行扫描，即用相机捕获图像，然后对其进行解码。我可以使用此代码捕获图像，但在捕获后，我正在尝试使用 LuminanceSource、RGBLuminanceSource 等类对捕获图像的位图进行解码。

但是生成的二进制位图，

```
 BinaryBitmap bitmap = new BinaryBitmap(new HybridBinarizer(source)); 
```

似乎为空。

谁能告诉我这是为什么？我看到很多帖子说这对他们有用，但对我不起作用。

谁能给我一些建议。

这是我提到的链接，我在接受的答案中使用了确切的代码

[适用于 Android 的条码/二维码阅读器](https://stackoverflow.com/questions/13803852/barcode-qr-code-reader-for-android/14826051#14826051)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:53:13.567

您应该获得所有代码，包括您可以从 Google 代码托管下载的 zXing 库（core.jar），然后进行修改`CaptureActivity.class`以将结果返回到您之前的活动。呼叫意图

```
 Intent ii=new Intent(your activity.this,CaptureActivity.class);
    startActivityForResult(ii); 
```

然后定义 onActivityForResult 你将有相应的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T14:25:46.767

终于我找到了这个问题的答案。使用 IntentIntegrator 会要求您手动安装扫描仪应用程序，然后使用它扫描条形码。

因此，任何不想使用应用程序或意图调用的人都可以使用库中提供的另一个名为 CaptureActivity 的活动

```
 Intent intent = new Intent(MyActivity.this, CaptureActivity.class);
    startActivityForResult(intent, 1); 
```

此类存在于您下载的 Zxing 库的 android 文件夹中。将此 android 项目导入您的应用程序将集成 Zxing 库。导入时请注意包名称。

可以根据需要修改 CaptureActivity

**笔记：**

**添加core.jar**非常重要，否则您将遇到很多错误。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-11T07:53:08.997

我没有使用 zxing 库，但我的应用程序使用了 biggu Barcode Scanner。它还在内部使用相同的 zxing 库，但经过定制，使得集成过程非常容易。在此处查看我的[答案](https://stackoverflow.com/a/13803994/1649309)，它可能会帮助您集成条形码扫描仪。如果您有兴趣通过解码图像来扫描条形码，也可以在同一链接中参考已接受的答案。

# php - 使用 html php xml 将 700 地址标记绘制到谷歌地图中

> ID：14807817
> 
> 赞同：0
> 
> 时间：2013-02-11T07:41:49.703
> 
> 标签：php, javascript, html, xml, google-maps

我正在使用 JavaScript 和 xml 文件在谷歌地图中绘制 700 个地址。

所以这个 JavaScript 函数在 300 地址之前工作正常，它在地图中正确绘制地址，但之后它会变慢并挂起 html 页面。那么我们能否为我提供更好的解决方案来实现在谷歌地图中绘制所有地址。

这是 xml 示例文件，该文件和文件名中有 675 地址`xml1.xml`。例如

```
 <xml><listing>
    <storename>Borges Architectural Group</storename>
    <address>1478 Stone Point Dr # 350 Roseville CA 95661-2876 Placer</address>
    <person>OWNER Lane Borges</person>
    <phone>9167827200</phone>
    <web>www.borgesarch.com</web>
    <source>Infogroup</source>
    </listing>
    <listing>
    <storename>Carrier Johnson   Culture</storename>
    <address>1301 3rd Ave San Diego CA 92101-4012 San Diego</address>
    <person>PRESIDENT Michael C Johnson</person>
    <phone>6192392353</phone>
    <web>www.carrierjohnson.com</web>
    <source>Infogroup</source>
    </listing>
    </xml> 
```

所以我正在用 JavaScript 读取这个文件，为此我创建了一个函数来读取 xml 内容并将其添加到地址数组中，所以在这里我得到了总共 675 个地址，并且我将一一传递给谷歌地图函数。所以这里是 JavaScript。

```
<script type="text/javascript">  
    var addresses=new Array(); 
    var info=new Array();
    var infowindow = new google.maps.InfoWindow();
    var latlng = new google.maps.LatLng(27.8333,-81.7170);
    var mapOptions = {
        zoom: 4,
        center: latlng,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      }
    var geo = new google.maps.Geocoder(); 
    var map = new google.maps.Map(document.getElementById("map"), mapOptions);
    var bounds = new google.maps.LatLngBounds(); 

    function getAddress(search,info1, next) {
        geo.geocode({address:search}, function (results,status){            
            if (status == google.maps.GeocoderStatus.OK) {             
              var p = results[0].geometry.location;
              var lat=p.lat();
              var lng=p.lng();            
              var msg = 'address="' + search + '" lat=' +lat+ ' lng=' +lng+ ' <br>'; 
              createMarker(search +"<br/>"+ info1,lat,lng);
            }          
            else{             
              if (status == google.maps.GeocoderStatus.OVER_QUERY_LIMIT) {
                nextAddress--; 
              }else {
                var reason="Code "+status;
                var msg = 'address="' + search + '" error=' +reason+ ' <br>'; 
              }   
            }
            next();
          }
        );
      }

     function createMarker(add,lat,lng) {
       var contentString = add;
       var marker = new google.maps.Marker({
         position: new google.maps.LatLng(lat,lng),
         map: map,
         zIndex: Math.round(latlng.lat()*-100000)<<5
       });

      google.maps.event.addListener(marker, 'click', function() {
         infowindow.setContent(contentString); 
         infowindow.open(map,marker);
       });
       bounds.extend(marker.position);
     }

    function callajax(){
        downloadUrl('xml1.xml',function (listings_data){
        listings_data = xmlParse(listings_data);
        var markers = listings_data.documentElement.getElementsByTagName('listing');       
        for (var i = 0; i < markers.length; i++)
        {
           var web;
           var storename= markers[i].getElementsByTagName('storename')[0].firstChild.data;
           addresses[i]= storename + " <br />" + markers[i].getElementsByTagName('address')[0].firstChild.data;
           var perosn= markers[i].getElementsByTagName('person')[0].firstChild.data;
           var phone= markers[i].getElementsByTagName('phone')[0].firstChild.data;
           var source=markers[i].getElementsByTagName('source')[0].firstChild.data;          
           if (typeof  markers[i].getElementsByTagName('web')[0] ==  "undefined")
                web='';
           else 
                web=markers[i].getElementsByTagName('web')[0].firstChild.data; 

           info[i]= perosn + " <br />"+ phone + " <br />"+ web +" <br />"+  source;
        }});
    }
    var nextAddress = 0;
    function theNext() {       
        if (nextAddress < addresses.length) {
          setTimeout('getAddress("'+addresses[nextAddress]+'","'+info[nextAddress]+'",theNext)',1  );
          nextAddress++;
        } else {  
          map.fitBounds(bounds);
        }
      } 

    function timeout_init() {
        setTimeout('theNext()', 3000);
    }

     callajax();
     timeout_init();
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:41:26.990

不要对客户端中的地址进行[地理编码](https://developers.google.com/maps/documentation/javascript/geocoding#Geocoding)。这是一项服务器密集型操作，并受到配额和速率限制。

> 如果您希望对静态已知地址进行地理编码，请参阅地理编码 Web 服务文档。

[使用网络服务](https://developers.google.com/maps/documentation/geocoding/index)（或其他方式）离线对您的地址进行地理编码，并使用生成的坐标来显示您的地图。

# asp.net - 在同一个 WebApp 中预编译 + JIT

> ID：14807821
> 
> 赞同：0
> 
> 时间：2013-02-11T07:42:20.223
> 
> 标签：asp.net

我有一个网站是`precompiled`。剩下的 aspx 页面和 bin 目录要上传到服务器。有时我需要直接对服务器上的文件进行细微的更改。比如拼写更正。如果更改在 aspx 文件中，我可以直接编辑文件并进行更改。（无需构建和部署）

如果我必须更改一个简单的事件，那么我可以使用 aspx 页面并`<script runat="server">`指定更改的事件（它会覆盖预编译的事件）。例如

```
<%@ Page Language="C#" MasterPageFile="~/MasterPages/MySiteSkin.Master" AutoEventWireup="true" CodeBehind="Article.aspx.cs" Inherits="Mayflower.Website.Article"  %>
<script runat="server">
    protected void btnSubmit_Click(object sender, EventArgs e) //already exists in code behind
    {
       //code....
    }
</script>
<asp:Content ID="Content2" ContentPlaceHolderID="cphContent" runat="server">
  <asp:Button runat="server" ID="btnSubmit" CssClass="contactbtn" Text="Submit" OnClick="btnSubmit_Click" />
</asp:Content> 
```

现在我要做的是向项目中添加一个需要频繁编辑代码的类，我不想每次都进行构建和上传。这个类也用于其他类，所以我也需要在预编译时。

我试图以某种方式将一个`MyCode.cs`文件与我的其他项目文件一起放置，但是该代码已被预编译，我无法通过在服务器上添加该类的较新版本来覆盖它。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:14:25.113

尝试这个

在本地发布并仅在服务器上上传“App_Code.dll”

# silverlight - 蓝色背景的图像按钮

> ID：14807825
> 
> 赞同：1
> 
> 时间：2013-02-11T07:42:44.670
> 
> 标签：silverlight, windows-phone-7

我有一个带图像的按钮：

```
<Button x:Name="favoriteButton" 
        HorizontalAlignment="Left" 
        VerticalAlignment="Top" 
        Height="72" 
        Width="99" 
        Click="DidPressAddToFavorites" 
        BorderBrush="{x:Null}">
    <Button.Background>
        <ImageBrush ImageSource="/Images/favouritesBWIcon@2x.png" 
                    Stretch="Uniform"/>
    </Button.Background>
</Button> 
```

现在当我按下按钮时，我看到他的背景是蓝色的，我可以删除这个蓝色吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:10:45.493

颜色和动画存储在按钮的*模板中。*您必须编辑此模板。使用 Blend，您可以通过右键单击画板上或对象和时间线面板中的按钮来完成此操作。并转到“编辑模板”->“编辑副本”

![在此处输入图像描述](../Images/bf064f955daa2a88b26885a8d63e4dcc.png)

在此之后，您必须设置一个存储模板的位置。您可以选择将模板放在外部 ResourceDictionary 中，或者如果仅在此处使用，则将其留在此页面中。

现在您有了模板，您可以对其进行编辑。

您正在谈论的蓝色是在 4 个“CommonStates”之一中定义的。这些状态可以在“状态”面板上找到。通过选择其中一种状态，您可以编辑该状态。您对其中一个属性所做的每一次更改都将存储在一个状态中。

如下所示，已选择*Pressed*状态。这由状态前面的小红点表示。您还将在画板上收到通知。

在此状态下更改了某些属性的每个对象在对象和时间线面板中也用红点突出显示。在特定状态下发生变化的属性在此面板中用星号表示。

蓝色的东西可以在模板的背景元素中找到。

![在此处输入图像描述](../Images/ff7a7e7b9b94d3f893572a790a8864ee.png)

# ios - UIImageView/TableFooterView 上的两个初始化方法

> ID：14807826
> 
> 赞同：0
> 
> 时间：2013-02-11T07:42:45.533
> 
> 标签：ios, objective-c, uitableview, uiimageview

男士们，我正在尝试将图像设置为表格视图的页脚。页脚图像需要根据点击导航栏中的按钮进行更改。（设计是这样的导航栏上有两个按钮，当加载屏幕/视图时，页脚中有一个特定的图像，点击其中一个按钮会改变它，然后点击另一个按钮会改变它并且很快）。

我尝试使用 UIImage aa @property，然后尝试更改图像并在其上设置框架，但这不起作用（框架设置不正确）。本质上，我想做这样的事情：

```
[[self table1] setfooterview : [[uiimageview alloc] initwithframe:(CGRectMake (0,0,50,50)] and then I also need to add initwithimage:[UIImage imagenamed :@"hello-1.png"]] 
```

但问题是我不能在同一个语句中执行两个初始化方法。而且我无法创建像 UIImageView *hello 之类的对象，因为稍后我需要在不同的方法中使用它（在我处理不同按钮按下的方法中）。（稍后，我使用一个简单的 if 语句，然后根据按下的按钮触发页脚视图上的图像）。我的猜测是我可能必须做类似
[[self table1] setfooterview: [[uiimageview alloc] initwithframe :(CGRectMake (0,0,50,50)] 然后做一个设置图像，但我认为因为 setimage 不是有效，我可能需要以某种方式投射它。我该怎么做？

抱歉语法很糟糕，请忽略所有语法错误，因为我的 mac 目前不在我身边，我只是从内存中输入这个，而且我是 iOS 编程的新手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:51:50.463

您不需要发送两个 init 方法。图像和框架都是 的属性`UIImageView`。（该`frame`属性继承自`UIView`。）您可以在发送初始化消息后设置它们。

你可以这样做：

```
UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(...)];
imageView.image = [UIImage imageNamed:@"hello-1"];
self.table1.footerView = imageView; 
```

或者你可以这样做：

```
UIImageView *imageView = [[UIImageView alloc] initWithImage:
    [UIImage imageNamed:@"hello-1"];
imageView.frame = CGRectMake(...);
self.table1.footerView = imageView; 
```

或者你甚至可以这样做：

```
UIImageView *imageView = [[UIImageView alloc] init];
imageView.frame = CGRectMake(...);
imageView.image = [UIImage imageNamed:@"hello-1"];
self.table1.footerView = imageView; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:54:53.323

没有理由调用两个 init 方法。您可以继承或扩展 UIImageView 并实现一个新的 init 方法，该方法允许一次性设置框架和图像。但是您也可以执行以下操作。

```
UIImageView footerView =  [[uiimageview alloc] initwithframe:(CGRectMake (0,0,50,50)];
footerView.image =  [UIImage imagenamed :@"hello-1.png"];
[[self table1] setfooterview: footerView]; 
```

我刚刚键入的替代方案。这不是 QAed，可能不是完美的解决方案，但应该给你一个正确方向的提示。在您的 .h 文件中添加以下两行之一：

```
- (void) changeFooterImage:(UIImage *) image;
- (void) changeFooterImageNamed:(NSString *)imageName; 
```

在您的 .m 文件中添加相应的实现：

```
- (void) changeFooterImage:(UIImage *) image {
    if (!self->footerView) {
        self->footerView = [[UIImageView alloc] initWithFrame:CGRectMake (0,0,50,50)];
        [[self tableView] setTableFooterView: footerView];
    }
    self->footerView.image =  image;
}

- (void) changeFooterImageNamed:(NSString *)imageName{
    if (!self->footerView) {
        self->footerView = [[UIImageView alloc] initWithFrame:CGRectMake (0,0,50,50)];
        [[self tableView] setTableFooterView: footerView];
    }
    self->footerView.image =  [UIImage imageNamed :imageName];
} 
```

然后，您的第 3 方视图控制器应包含此视图控制器的 .h 文件。更“整洁”和“出书”的方式是不要以这种方式直接绑定类。您应该更喜欢在协议中声明此方法，然后实现该协议，并且在实际调用该方法之前，您可以检查该类是否实现了该协议。但我觉得所有这些都有点太多新东西了。从这个开始，然后在原则上可行时实现协议。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T08:03:23.583

“我不能创建像 UIImageView *hello 这样的对象，因为我以后需要在不同的方法中使用它”这是什么意思？

您可以通过任何方式初始化 UIImageView 并在将其分配给 footerView 之前设置其框架和初始图像。

# heroku - 使用 startScriptForWarSettings 在 Heroku 中运行

> ID：14807829
> 
> 赞同：0
> 
> 时间：2013-02-11T07:42:55.970
> 
> 标签：heroku, sbt, xsbt-web-plugin

我正在尝试在 Heroku 下运行 SBT Web 应用程序。我已经能够通过使用此处描述的 JettyLauncher 脚本来做到这一点[http://scalatra.org/2.2/guides/deployment/heroku.html](http://scalatra.org/2.2/guides/deployment/heroku.html) 但是，我真的很想从 WAR 工件而不是我的 src/ 运行main/webapp 目录，因为在构建中发生了一些后续处理。

但是，当我尝试使用 StartScriptPlugin.startScriptForWarSettings 时，我的应用程序在启动时出现错误，因为它尝试将 WAR 文件复制到 /tmp/build_26wd72c43fv12/target/jetty-distribution-7.3.1.v20110307/webapps

阅读此内容：[https](https://devcenter.heroku.com/articles/read-only-filesystem) : //devcenter.heroku.com/articles/read-only-filesystem 清楚地解释了问题是因为当该脚本由 web dyno 运行时，它无法写入 /tmp。

所以我的问题是：有没有办法更改 sbt-start-scriptplugin 中用于 Jetty 分发的目录？我查看了源代码，使用的是这个“目标”变量，但我从来没有看到它是如何定义的或在哪里定义的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T15:58:16.590

我发现了两种可能的解决方案：

1.  在 Jetty 启动器中，您将上下文设置为直接转到使用`context.setWar("target/scala-2.10/mywar_2.10-0.0.1.war")`. 在这种情况下，您仍然使用嵌入式 Jetty 和 StartScriptPlugin.startScriptForClassesSettings 键运行，但它从 WAR 而不是

2.  使用 Heroku 的 deploy:war 功能：[https](https://devcenter.heroku.com/articles/war-deployment) ://devcenter.heroku.com/articles/war-deployment 。这对我来说效果不佳，因为这意味着现在一切都在我不太了解的环境中运行，而 Heroku 不愿支持这一点。

# javascript - Javascript简单的正则表达式来查找根域

> ID：14807832
> 
> 赞同：3
> 
> 时间：2013-02-11T07:43:05.037
> 
> 标签：javascript, regex

我有一个使用正则表达式返回给定 url 的根域的函数。

[http://jsfiddle.net/hSpsT/](http://jsfiddle.net/hSpsT/)

```
function cleanUp(url) {
  url = url.replace(new RegExp(/^\s+/),""); // START
  url = url.replace(new RegExp(/\s+$/),""); // END

  // IF FOUND, CONVERT BACK SLASHES TO FORWARD SLASHES
  url = url.replace(new RegExp(/\\/g),"/");

  // IF THERE, REMOVES 'http://', 'https://' or 'ftp://' FROM THE START
  url = url.replace(new RegExp(/^http\:\/\/|^https\:\/\/|^ftp\:\/\//i),"");

  // IF THERE, REMOVES 'www.' FROM THE START OF THE STRING
  url = url.replace(new RegExp(/^www\./i),"");
  //remove slash from end
  url = url.replace(new RegExp(/\/$/i),"");    
  return url;
} 
```

但它使用多正则表达式，我们担心性能。有没有更好的方法在单行正则表达式中做同样的事情？

笔记：

document.location.host 在我的情况下似乎不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T07:57:44.190

[从字符串中提取主机名](https://stackoverflow.com/questions/8498592/extract-root-domain-name-from-string)

尝试：

```
function cleanUp(url) {
    var url = $.trim(url);
    if(url.search(/^https?\:\/\//) != -1)
        url = url.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i, "");
    else
        url = url.match(/^([^\/?#]+)(?:[\/?#]|$)/i, "");
    return url[1];
}

alert(cleanUp('  http://www.google.com/about.html'));
alert(cleanUp('  www.google.com/about.html')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T07:54:03.613

试试这个：

[http://jsfiddle.net/picklespy/gb34u/1/](http://jsfiddle.net/picklespy/gb34u/1/)

它适用于所有现代浏览器，甚至适用于 IE 5.5+。

```
var url = document.createElement('a');
url.href = 'http://maps.test.google.com';
var host = url.hostname;

host = host.split('.');

var domain = host.pop();
domain = host.pop() + '.' + domain;

alert('Root is: ' + domain) 
```

# c++ - 在 Qt Creator 中访问内部项目库的调试符号？

> ID：14807834
> 
> 赞同：1
> 
> 时间：2013-02-11T07:43:09.490
> 
> 标签：c++, linux, gdb, qt-creator, debug-symbols

我有一个带有子目录项目的项目/源代码树，如下所示：

![Qt Creator - 项目源代码树](../Images/b4c207285ba053016355567efce3db60.png)

这个想法是*exec*（测试）项目是从*op*（共享对象）库项目进行调用 - 两者都是由根项目*gviewer*管理的子项目。

尽管将*gviewer项目设置为调试（使用 GCC x86_64），但无论何时我尝试从**op*构建中进入构造函数或类方法/函数，调试器都会立即吐出反汇编。我一直很难弄清楚问题是否出在项目设置上（我已经看过并且无法确定可以更改*哪个*设置来解决问题）调试器设置中的问题（也是看了），或者项目文件发生了什么。

该`common.pri`文件包含在 op.pro 中。

在查看[here](http://doc.qt.digia.com/qtcreator/creator-debug-mode.html)并尝试在调试时加载符号时尝试各种视图后，我得出的结论是我做错了。无论这是 GDB 调试配置问题、`.pro`文件问题还是 QtCreator 问题，我都无法理解。

如果这里的任何人有使用内部项目库（在本例中为共享对象）加载调试符号的经验，我们将不胜感激。谢谢。

* * *

项目文件：

**gviewer.pro**

```
TEMPLATE = subdirs
SUBDIRS  = \
    source/op

CONFIG += ordered
SUBDIRS += source/exec 
```

**common.pri**

```
INCLUDEPATH += . ..

TEMPLATE = lib

CONFIG -= qt app_bundle

NO_ERR_FLAGS = -Wno-write-strings -Wno-return-type -Wno-unused-parameter

debug:QMAKE_CXXFLAGS_DEBUG += -Wall -Werror -std=c++11 $$NO_ERR_FLAGS -g

DEFINES += OP_DEBUG OP_PLATFORM_X86

LIBS += -lGL -lGLU -lGLEW -lglfw 
```

**op.pro**

```
! include(../common.pri) {
    error( Couldn't find the common.pri file! )
}

HEADERS += \
    debug/glout.hpp \
    math/matrix.hpp \
    math/math.hpp \
    math/glm_incl.hpp \
    io/log.hpp

SOURCES += \
    debug/glout.cpp \
    math/matrix.cpp \
    io/log.cpp 
```

**执行程序**

```
INCLUDEPATH += ../

TEMPLATE = app
CONFIG += console
CONFIG -= app_bundle qt

SOURCES += main.cpp

LIBS += -L../op -lop

DESTDIR_TARGET = ../../ 
```

* * *

一些进一步的图像：

***exec* : 入口点 - main.cpp**

![主要入口点](../Images/4b8877defb5c574e979751672381c3a0.png)

***op*`step into`** **: 反汇编 - 调用后****没有加载源**
**`op::Log::OpenFile(...)`**

![拆卸](../Images/d1e1099742bdd40ac8e9132dc1b518b7.png)

***调试器源路径*- 在这里摆弄路径，没有这样的运气；虽然我不确定我是否正确使用它**

![调试设置 - 源路径](../Images/5e163a529d6265777c800545ce475004.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:47:28.877

在你的 .pro 文件中，你有这个：

```
LIBS += -L../op -lop 
```

如果我理解你的话，这就是你链接你有问题的库的地方。但是，您应该链接它的两个版本，调试版本用于项目的调试版本，发布版本用于项目的发布版本。我不知道您使用的是什么操作系统，但这里有一个示例供您参考，以便您了解：

```
unix:CONFIG(release): LIBS += -L$$PWD/../../Filters/release/ -lFilters
unix:CONFIG(debug): LIBS += -L$$PWD/../../Filters/debug/ -lFilters 
```

请注意，如果当前项目正在构建为发布版本，则第一行链接发布库，如果当前项目正在构建为调试版本，则第二行链接调试库版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T23:44:53.927

作为对已接受答案的补充，值得注意的是，如果用户的配置使用[Shadow Building](https://stackoverflow.com/a/7373372/763053)，我们可以将配置改写为：

```
unix:CONFIG(release): LIBS += -L$$PWD/../../path/to/release/folder/ -lLibrary
unix:CONFIG(debug):   LIBS += -L$$PWD/../../path/to/debug/folder/   -lLibrary 
```

where`/path/to/release|debug/folder`的位置与源|项目文件目录处于同一级别，并且`-lLibrary`是要链接的二进制库，位于指定`-L...`路径中。

# jquery - 用淡入/淡出替换 .animate()

> ID：14807837
> 
> 赞同：0
> 
> 时间：2013-02-11T07:43:15.653
> 
> 标签：jquery

我对 jQuery 比较陌生并且有一点问题。以前我在向下滚动时使用 .animate 为我的菜单设置动画，但我必须将其更改为淡入和淡出。这是我的代码：

```
if($(this).scrollTop() > 100) {
bar.stop().animate({'top' : '0px'}, 1250);
} else {
bar.stop().animate({'top' : top}, 1250);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:48:22.837

你只需要调用`fadeIn/fadeOut`你的元素

```
 bar.fadeOut('slow'); 
```

或者

```
 bar.fadeIn('slow'); 
```

您还可以附加回调函数。有关更多信息，请参阅：

[http://api.jquery.com/fadeIn/](http://api.jquery.com/fadeIn/)

[http://api.jquery.com/fadeOut/](http://api.jquery.com/fadeOut/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:49:54.753

```
if($(this).scrollTop() > 100) {
   bar.stop().fadeOut();
} else {
   bar.stop().fadeIn();
} 
```

供将来参考，请访问此处： [http ://api.jquery.com/fadeOut/](http://api.jquery.com/fadeOut/)

当您提供显示您进行了某种研究的链接时，人们会更开心。总之，加油。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:51:09.030

```
if($(this).scrollTop() > 100) {
bar.stop().fadeOut( function() { $(this).animate({'top' : '0px'}, 1250); }, "slow");
} else {
bar.stop().fadeIn( function() { $(this).animate({'top' : '0px'}, 1250); }, "slow");
} 
```

你的问题很模糊。但是您可以使用任何适合您的答案代码。并且还要参考文档，因为那里有示例。

# sql-server - 尝试将亚马逊 EC2 上的 SSRS 连接到亚马逊 RDS MSSQL 时出现权限错误

> ID：14807850
> 
> 赞同：3
> 
> 时间：2013-02-11T07:45:03.603
> 
> 标签：sql-server, reporting-services, amazon-web-services, amazon-ec2, amazon-rds

我正在尝试在亚马逊 EC2 实例上部署 SSRS 并将其连接到 RDS 上的报告数据库。由于亚马逊 RDS 不支持 SSRS，我的另一个选择是打开带有 MSSQL 服务器的专用 EC2 实例。

我尝试从 SSRS 配置实用程序创建 ReportDB - 获取配置异常：“用户无权执行此操作。”。这很可能是由于 SQL 权限不足造成的。Amazon 不会授予您 sa 用户，仅授予 processadmin 和 setupadmin 服务器角色。在您创建的数据库中，您将获得 dbowner。

此外，我单独创建了 ReportDB 并将其传输到 RDS，将 SSRS 连接到它，当它最终将其识别为正确的 ReportDB 时，我收到了相同的异常。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T01:00:28.407

报告服务仍会尝试创建它自己的数据库，因此如果您没有创建数据库的权限，那么您将陷入困境。如果您没有权限，使用报告服务配置工具“手动”创建数据库仍然无法正常工作。该设置还涉及将 RSExecRole 应用到 SSRS 服务帐户，您也需要获得权限才能执行此操作。请参阅此 MSDN 的[检查凭据以创建和配置数据库](http://technet.microsoft.com/en-us/library/ms157300.aspx)部分。

备用选项是使用针对 SQL Server 2008 R2 及其所有服务（包括 SSRS）优化的Microsoft[亚马逊系统映像](https://aws.amazon.com/amis/optimized-sql-server-2008-r2-sp1-q1)

# java - 解决编程练习的一般指导方法？

> ID：14807853
> 
> 赞同：-2
> 
> 时间：2013-02-11T07:45:23.040
> 
> 标签：java, ruby-on-rails, ruby, oop, coding-style

好的，所以关于如何解决这个问题以及如何解决这个问题有一百万个问题，但是我找不到关于如何实际解决一般编程问题的好的资源。就像首先将问题分解为简单的部分，然后单独攻击每个部分或其他等等。我知道如果你看看伟大的程序员，他们在解决问题时都遵循一定的路径，如果你比较这些伟大的程序员的每一种方法，你会发现他们的方法有很多交叉的地方。那么对于所有新手和程序员来说，解决典型编程问题的最佳分步方法（指南）是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:00:15.940

您的问题在学术上是抽象的，这意味着无法回答为您提供有价值的指导来解决实际编程问题的方式。

想象一下，你有一个工具箱，你问如何将它用于抽象任务。您期望得到什么答案？这几乎就是你问的问题。

尽管如此，对于为每种类型的任务选择哪种工具以及如何操作它们，还是有一些指导方针。

首先，您必须选择在您的任务中使用的技术（工具）。有几种类型的程序，您必须了解您正在处理哪一种。您必须考虑您的预算、上市时间和其他限制。

例如，如果您正在开发一个 Web 应用程序，那么您有一些工具可供选择。钻头、起子、冲击起子、冲击扳手……哦，这些来自勤杂工的工具箱……你有一个不同的工具箱，其中有 Java 堆栈、Microsoft 堆栈、Ruby on Rails、PHP 和其他更奇特的技术堆栈。根据任务和您的个人经验或资源可用性，您可以做出决定。

掌握了技术后，您可以更深入地研究（阅读有关您将要使用的工具的说明）。在 IT 世界中，说明将是书籍或其他类似资源。特别是，为了正确设计 Java 或 C++/C# 应用程序，您需要熟悉基本的设计模式。另一方面，如果您使用的是 Ruby on Rails，那么这些模式对您没有好处。

最后但并非最不重要的是学习如何组织项目的工作。如何将一个大项目划分为更小的任务，如何跟踪进度并确保它按时完成。除了您的编程技能外，它还使您成为项目经理。

有几种流行的方式来管理 IT 项目（实际上不仅是 IT）。最流行的是所谓的敏捷方法论。它基本上是一套指导方针。您可以从中挑选适合您的项目和团队的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T08:02:24.130

考虑到您已经熟悉编程的东西，这些是我想到的步骤：

*   第一眼就将问题作为一个整体来考虑。尝试清楚地理解预期的输入和输出以及总体思路。
*   正如您已经提到的，将问题分解为有意义的作品/逻辑片段是很重要的，这些作品/逻辑将相互“对话”。如果你认真对待上一步，它可以帮助你很多
*   选择好每一件作品后，开始思考解决那个小部分的想法。不要将您的思想局限在您已经熟悉的可用工具上。想想这个想法。有许多您不了解的工具/包/等，在完成您的想法后，您可以在网上找到它们，让您大吃一惊！
*   如前所述，不要限制自己，只需考虑您将要使用的编程语言的性质。有时，您可能会在那里面临一些限制......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T08:03:46.333

使用费曼问题求解算法：

1.  写下问题
2.  好好想想
3.  写下答案

第一步是最重要的一步。第一步的本质是，为了解决一个问题，你必须首先理解它。你不必把它写下来。如果你觉得写作很无聊，你可以向某人（[同事](http://c2.com/cgi/wiki?CardboardProgrammer)甚至[橡皮鸭](http://en.wikipedia.org/wiki/Rubber_duck_debugging)）描述你的问题。大多数问题都可以通过这种方式解决。

如果第 1 步失败，您需要求助于第 2 步。如果您觉得很难思考，还有其他选择。既然您已经完成了第 1 步，您现在就知道问题所在了。因此，您还知道要向 google 提供哪些关键字。使用良好的 google charma，您应该会获得一些不错的点击率，可能是在 stackoverflow 上。如果没有，您可以在 stackoverflow 上提出一个新问题，也可以认真思考并自己解决问题。

第 3 步。非常简单。你明白问题所在。您已经找到了解决方案。剩下的就是编写、测试和记录代码。不应该太难，只是另一天的面包和黄油编程。

# c# - 您如何在 Chrome 和 Firefox 以及其他应用程序中获取应用程序特定的窗口句柄？

> ID：14807856
> 
> 赞同：0
> 
> 时间：2013-02-11T07:45:29.857
> 
> 标签：c#

我需要应用程序特定窗口的特定 wHnd（窗口句柄）：Google Chrome/Firefox 网页文本（不是文本框）。ListBoxes 和系统树也不会使用正常调用返回（下面的代码片段）。另一个非常有用的特定于应用程序的窗口是 Visual Studios 代码窗口（不仅仅是代码窗口总是会帮助更多！！）.. 感谢您的帮助。

```
using System.Runtime.InteropServices;

public static class WindowUtils {
[DllImport("user32.dll")]
static extern IntPtr GetForegroundWindow();

[DllImport("user32.dll")]
static extern IntPtr GetWindowThreadProcessId(
    IntPtr hWnd,
    IntPtr ProcessId);

[DllImport("user32.dll")]
static extern IntPtr AttachThreadInput(
    IntPtr idAttach, 
    IntPtr idAttachTo,
    bool fAttach);

[DllImport("user32.dll")]
static extern IntPtr GetFocus();

public IntPtr GetFocusedControl() {
    IntPtr activeWindowHandle = GetForegroundWindow();

    IntPtr activeWindowThread = 
        GetWindowThreadProcessId(activeWindowHandle, IntPtr.Zero);
    IntPtr thisWindowThread =
        GetWindowThreadProcessId(this.Handle, IntPtr.Zero);

    AttachThreadInput(activeWindowThread, thisWindowThread, true);
    IntPtr focusedControlHandle = GetFocus();
    AttachThreadInput(activeWindowThread, thisWindowThread, false);

    return focusedControlHandle;
}
} 
```

# doctrine - 在 zf2 学说 2 查询中指定字段

> ID：14807857
> 
> 赞同：2
> 
> 时间：2013-02-11T07:45:30.800
> 
> 标签：doctrine, zend-framework2

我们如何在 zend 框架 2 中使用教义 2 指定要在结果中返回的字段？这是我的查询：

```
$allLanguages = $this->getEntityManager()
                    ->getRepository('Language')
                    ->findAll(); 
```

我只想要语言表结果中的“名称”字段。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:54:11.240

我通常使用这样的 DQL 来自定义查询。

```
 $u = $_GET['u'];
    $query = $this->getEntityManager()->createQuery("SELECT u.username FROM Auth\Entity\User u WHERE u.username LIKE :username AND u.companyID = :companyID ");
    $query->setParameter('username', '%'.$u.'%')
            ->setParameter('companyID', $companyID);

    $users = $query->getResult(); 
```

在你上面的情况下。它可能有点像。

```
$query = $this->getEntityManager()->createQuery("SELECT l.name FROM Langauge l");

$langaugeNames = $query->getResult(); 
```

[学说查询语言 DQL](http://docs.doctrine-project.org/en/2.1/reference/dql-doctrine-query-language.html)

[查询生成器](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/query-builder.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T10:33:42.240

直接使用 DQL：

```
$languages = $entityManager->createQuery("SELECT l.name FROM Language l")->getResult(); 
```

[http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html#pure-and-mixed-results](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html#pure-and-mixed-results)

# jquery - 更新 wordpress 中类别更改的帖子下拉列表

> ID：14807865
> 
> 赞同：1
> 
> 时间：2013-02-11T07:46:31.940
> 
> 标签：jquery, wordpress

我使用 WPAlchemy 在管理区域创建了一个类别列表，代码如下：

```
<?php 
$mb->the_field('s_cat'); 

$args = array(
'name'               => $mb->get_the_name(),
'id'                 => $mb->get_the_name(),
'selected'           => html_entity_decode($mb->get_the_value()),
'class'              => 'catlist',
'orderby'            => 'ID', 
'order'              => 'ASC',
'hide_empty'         => 0, 
'child_of'           => 0,
'hierarchical'       => 1, 
'depth'              => 2,
'hide_if_empty'      => false ); 

wp_dropdown_categories( $args ); 
?> 
```

现在我创建了一个函数来创建帖子列表，以下是代码：

```
function fn_dropdown_post($cat_id) {
$args=array(
    'cat' => $cat_id,
    'post_type' => 'post',
    'post_status' => 'publish',
    'posts_per_page' => -1,
    'caller_get_posts'=> 1
);

$my_query = null;
$my_query = new WP_Query($args);
if( $my_query->have_posts() ) {
?>
    <select name="menu">
    <?php
    while ($my_query->have_posts()) : $my_query->the_post(); ?>
        <option value="<?php the_ID() ?>"><?php the_title(); ?></option>
    <?php
    endwhile;
    ?>
    </select>
<?php
}
wp_reset_query();
} 
```

到目前为止工作正常。

**我想在选择类别时显示帖子列表，我尝试了以下不起作用的代码：**

```
<script>
jQuery(document).ready(function(e) {
    jQuery('.catlist').change(function() {
        <?php fn_dropdown_post(" ?> jQuery(this).val() <?php "); ?>;
    });
});
</script> 
```

在上面的代码`jQuery(this).val()`中显示了所选类别的值。

请问有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:05:03.553

我发现这可以使用 ajax 来完成

```
<script>
jQuery(document).ready(function() {
    jQuery('.catlist').change(function(){ 
        jQuery.ajax({
            type: 'POST',
            url: 'http://www.mywebsite.com/wp-admin/admin-ajax.php',
            data: {
                action: 'fn_dropdown_post',
                cat_id: jQuery('.catlist').val(),
            },
            success: function(data, textStatus, XMLHttpRequest){
                jQuery("#post-list").empty();
                jQuery("#post-list").append(data);
            },
            error: function(MLHttpRequest, textStatus, errorThrown){
                alert(errorThrown);
            }
        });
    });
});
</script> 
```

但是，我仍在试图弄清楚将 AJAX 与 wordpress 一起使用的正确方法是什么。有很多教程，但没有一个用简单的语言解释这个主题。

# javascript - 在网页中更改鼠标指针

> ID：14807868
> 
> 赞同：9
> 
> 时间：2013-02-11T07:47:01.230
> 
> 标签：javascript, jquery, css, html

我使用 html 创建了一个框架

```
<frame></frame> 
```

标签。有没有办法可以在鼠标进入框架时更改鼠标指针。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-11T07:50:08.490

[你可以在这里找到。](http://www.w3schools.com/cssref/pr_class_cursor.asp)

这是光标的CSS。

尝试：

```
<frame style="cursor:auto"></frame> 
```

而不是`auto`您可以使用以下任何一种：

```
auto    Default. The browser sets a cursor
crosshair   The cursor render as a crosshair
default The default cursor
e-resize    The cursor indicates that an edge of a box is to be moved right (east)
help    The cursor indicates that help is available
move    The cursor indicates something that should be moved
n-resize    The cursor indicates that an edge of a box is to be moved up (north)
ne-resize   The cursor indicates that an edge of a box is to be moved up and right (north/east)
nw-resize   The cursor indicates that an edge of a box is to be moved up and left (north/west)
pointer The cursor render as a pointer
progress    The cursor indicates that the program is busy (in progress)
s-resize    The cursor indicates that an edge of a box is to be moved down (south)
se-resize   The cursor indicates that an edge of a box is to be moved down and right (south/east)
sw-resize   The cursor indicates that an edge of a box is to be moved down and left (south/west)
text    The cursor indicates text
w-resize    The cursor indicates that an edge of a box is to be moved left (west)
wait    The cursor indicates that the program is busy 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-11T07:50:21.130

使用[光标](http://www.w3schools.com/cssref/pr_class_cursor.asp)CSS 属性

```
<style>
.mousePointer
{
    cursor: pointer;
}
</style>

<frame class="mousePointer"></frame> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-11T07:50:54.427

有css光标属性：[http](http://www.w3schools.com/cssref/pr_class_cursor.asp) ://www.w3schools.com/cssref/pr_class_cursor.asp 你也可以这样做：`cursor:url(/mousePointer.cur)`

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-02-11T07:49:58.453

使用 CSS：

```
.myClass { cursor: pointer; }
#myId { cursor: pointer; } 
```

或条目元素：

```
frame { cursor: pointer; }
p { cursor: pointer; } 
```

您也可以尝试使用 Inline-CSS：

或者是这样的：

```
<div id="clickMe" onclick="alert('I\'m clicked!'); return false;" style="cursor: pointer;">I'm a Fake-Link!</a> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-06-08T07:47:00.367

你可以做这样的事情： -
**HTML**

```
 <iframe class="pointer"></iframe> 
```

**CSS**

```
 .pointer
          {
            cursor: pointer;
          } 
```

更改光标的其他选项是：-

```
 auto
 crosshair
 default
 e-resize
 help
 move
 n-resize
 ne-resize
 nw-resize
 pointer
 progress
 s-resize
 se-resize
 sw-resize
 text
 w-resize
 wait 
```

# eclipse - Eclipse 无法识别现有已解析的 Maven 依赖项

> ID：14807869
> 
> 赞同：9
> 
> 时间：2013-02-11T07:47:08.527
> 
> 标签：eclipse, maven, m2eclipse

我在 Ecplipse 3.8.0 中有 m2 插件和一个内部有 maven 依赖项的项目。本地 .m2 文件夹具有正确版本的依赖项，pom.xml 看起来正确，但在 Eclipse 中打开 pom.xml 时“依赖项”选项卡显示“读取工件描述符失败..”错误。此外，我在 Eclipse 的“问题”部分中也出现了遗漏的工件错误。

如果 m2-plugin 或 Eclipse 在 pom.xml 上正确显示并且相应的 jar 位于 .m2 文件夹中，它们在哪里读取这些依赖项？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T07:53:02.400

当涉及到 M2 时，Eclipse 会产生很多问题。我为摆脱这个问题所做的是清理项目（项目>清理...），使用外部maven（窗口>首选项>安装> ...）用于构建目的并从项目的maven设置中我更新项目配置（右键单击项目> Maven > 更新项目...）。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-11T08:47:57.397

我从“不要自动更新远程存储库的依赖项”选项中删除了检查，这就是诀窍。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-11T08:03:01.540

Eclipse 有时需要像 user503413 所说的那样踢一下（并重新启动），但有时它也是正确的：确保`$HOME/.m2/repository/`你确实有你想要的依赖项（这就是 maven，因此 m2eclipse 通过 maven）将放置它们。如果他们*在*那里，请确保 pom 有意义。如果需要，请修复，然后...然后清理并重新启动 Eclipse 以防万一；）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-27T14:36:08.910

今天在“提供”范围内的依赖项中遇到了这个问题。解决方案是为所有依赖项设置“编译”范围，然后构建一次，然后恢复原始范围。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-04-20T01:57:48.927

当我的项目是 Java 项目而不是 Maven 项目时，我遇到了这个问题。关闭项目，删除（不要选中删除文件的框），然后将项目重新导入为现有 Maven 项目。我认为这是问题发生的常见方式。

# php - 从 PHP 变量设置 CSS 值

> ID：14807874
> 
> 赞同：0
> 
> 时间：2013-02-11T07:47:36.333
> 
> 标签：php, jquery, html, css, session

我想将以下 CSS 条目应用于网站：

```
background-image: url(http://www.datingimages.co/online-dating/dating-website/mainsiteimage/datingbali.co.jpg); 
```

问题是我有一些这样的网站，我需要使用如下变量：

```
http://www.datingimages.co/online-dating/dating-website/mainsiteimage/<?php echo $_SESSION['domain'];?>.jpg 
```

这将应用于`<body>`标签（将背景图像添加到首页） - 将删除其他页面。

`$_SESSION`有人对使用 PHP变量设置此 CSS 条目的方式有任何想法吗？

注意：我很喜欢使用 JQUERY，所以这个解决方案会很棒......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:56:13.720

如果您不想使用更复杂的处理方法或 JavaScript，请使用内联 CSS。在我看来，你不应该为此使用 JavaScript。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:58:04.230

您可以将样式规则放置在文档头部或正文部分的任何位置。所以你可以使用这样的内联 CSS 部分：

```
<?php if(isset($_SESSION['domain'])) : ?>
    <style>
        body {
            http://www.datingimages.co/online-dating/dating-website/mainsiteimage/<?php echo $_SESSION['domain'];?>.jpg
        }
    </style>
<?php endif; ?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T07:52:49.717

在页面加载之后，您可以通过发出 ajax 请求并切换元素来重新设置它的样式。

IE

```
 $(function() {
    $.get('ajax.php', ..., function(data) {
        $('#element').css('background-image', data.url);
    });
 }); 
```

或类似的东西，但我不喜欢这个主意……看起来太像猴子补丁了。

您可以为每个预定义 css`$_SESSION`并在页面加载时加载它们，但这意味着您必须将 css 分解为更小的文件，我认为这将是一个更合适的解决方案。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T07:54:32.300

当用户登录时，假设您有 3 个背景图像选择。您从数据库或您拥有的任何系统中提取用户的背景偏好。也许鲍勃得到一个蓝色背景，而其他人得到一个绿色背景。然后将其存储在用户的 $_SESSION 中。例如：

```
<?php
    if($_SESSION['username'] == 'bob') {
        $_SESSION['bodybg'] == "http://www.hdwallpapers.in/walls/blue_background_abstract-wide.jpg"
    } else {
        $_SESSION['bodybg'] == "http://1.bp.blogspot.com/-zx4w4PCEgEY/ULv64dBGGnI/AAAAAAAAA6Y/SRcHkfMBiJs/s1600/C4D_Green_background__by_Darkchildh.jpg"
    }
?> 
```

然后在生成页面的时候，或者页面的css，你把它放进去。我以css为例：

```
body {
    background: url('<?php echo $_SESSION['bodybg']; ?>');
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-11T07:56:58.977

如果你遇到这样的问题，你的架构就有问题。最好根据会话值加载不同的 html 包装器。

# php - 使用 SqlLite 在移动应用程序上实现离线访问的最佳方式

> ID：14807875
> 
> 赞同：0
> 
> 时间：2013-02-11T07:47:54.410
> 
> 标签：php, android, iphone, codeigniter, zend-framework

我们有一个需要执行离线访问的移动（Android 和 iPhone）应用程序。我想了解在应用程序端以更简化的方式更新 SqLite 数据库的最佳方法是什么。

1.  我发现的一种方法是通过 Web 服务以 JSON 格式发送所有对象，并检查时间戳以查看是否有更新。如果有更新，所有表都会被截断并在应用程序端再次插入。我觉得效率很低。

2.  另一种方法是通过 Web 服务（用 JSON 包装）发送 sql 语句。第一次发送所有插入记录，以后如果有新记录或更新，则插入记录和更新记录。我觉得这种方法很不安全。

使用 Restful Web 服务执行该操作的最佳方法是什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:21:47.790

有几个选项，几乎不是一个详尽的列表，而是更多的例子来开始你的思考；

*   要优化版本 1，您可以在服务器端创建一个触发器，用于更新已更改行上的版本字段。这样，如果客户端知道它的版本为 47，而服务器的版本为 52，那么您知道您只需要发送版本号介于 48 和 52 之间的行即可使客户端保持最新状态。如果更新主要是逐行进行，而不是“将所有绿色行更新为 puce”，这仍然会发送大量数据，则此方法效果最佳。

*   为了使版本 2 更安全一点，您可以发送除表名之外的所有 SQL，从而锁定对特定操作（例如 UPDATE/INSERT/DELETE，无 SELECT）和特定表（即不更新同一数据库中的其他表）。这可能有点难以维护，但如果数据库的大部分可能受到单个 UPDATE 的影响，则效果会更好。

*   将对数据库的操作分解为业务操作，然后将其发送。例如，业务操作可能是“已付款：用户 2，47 美元”，操作本身被发送到客户端，然后您将“已付款”映射到数据库中的更新。这将要求操作的数量相当小且已定义（尽管尝试定义它们很少是一个坏主意），但适用于逐行更新和全面更新，并且可能会使用最少的数据来获取内容同步（如果您对操作进行编号，以便在客户端尚未收到它们时只发送一次）它还免费为您提供审计日志，用户余额不仅发生了变化，您知道是什么*导致了*它的变化。

Personally I'd go for option 3 if I had a choice since I like to know what the database updates actually *mean* and when they were done, but for existing systems it may be way too much work.

# c# - 具有 2 种颜色但不通过用户的颜色树节点

> ID：14807878
> 
> 赞同：1
> 
> 时间：2013-02-11T07:48:09.030
> 
> 标签：c#, treeview, treenode

我想在树节点的一部分上着色，但不是通过用户（不使用“选定节点”），所以 DrawMode 对我没有帮助。

我正在使用 C#

例如，我希望所有在文本上有空格的树节点都将一侧着色为绿色，另一侧着色为红色。

谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:48:42.980

DrawMode 是要走的路。您必须将其设置为 OwnerDrawText，并订阅 DrawNode 事件。IE：

```
this.treeView1.DrawMode = System.Windows.Forms.TreeViewDrawMode.OwnerDrawText;
this.treeView1.DrawNode += new System.Windows.Forms.DrawTreeNodeEventHandler(this.treeView1_DrawNode); 
```

这只是绘图方法的示例。您可以对其进行修改以获得良好的图形结果，但它可以让您了解前进的方向。

```
 private void treeView1_DrawNode(object sender, DrawTreeNodeEventArgs e)
    {
        Font nodeFont = e.Node.NodeFont;
        if (nodeFont == null) nodeFont = ((TreeView)sender).Font;

        string txt = e.Node.Text;
        int idx = txt.IndexOf(' ');
        string greenTxt;
        string redTxt;
        if (idx >= 0)
        {
            greenTxt = txt.Substring(0, idx);
            redTxt = txt.Substring(idx);
        }
        else
        {
            greenTxt = txt;
            redTxt = string.Empty;
        }
        Rectangle greenRect = new Rectangle(e.Bounds.Location, new Size((int)Math.Ceiling(e.Graphics.MeasureString(greenTxt, nodeFont).Width), e.Bounds.Height));
        Rectangle redRect = new Rectangle(e.Bounds.Location + new Size(greenRect.Width, 0), new Size((int)Math.Ceiling(e.Graphics.MeasureString(redTxt, nodeFont).Width), e.Bounds.Height));
        e.Graphics.DrawString(greenTxt, nodeFont, Brushes.Green, greenRect);
        if (!string.IsNullOrEmpty(redTxt))
            e.Graphics.DrawString(redTxt, nodeFont,
                Brushes.Red, redRect);
    } 
```

[您可以在此处](http://msdn.microsoft.com/en-US/library/system.windows.forms.treeview.drawnode.aspx)找到更复杂的示例。

# c# - Grid.Row 上的动画（全局偏移）

> ID：14807885
> 
> 赞同：1
> 
> 时间：2013-02-11T07:48:39.877
> 
> 标签：c#, wpf, xaml, windows-phone-8, silverlight-5.0

我得到了这个 UserControl，它是一个大约 10 行和 10 列的网格。每个单元格包含 1 个文本块或 1-6 个图像。我想要做的是为每行上的所有元素设置动画以滑入。但是我找不到为整个 Grid.Row 设置动画的方法来做到这一点。

我也不能将所有元素包装在堆栈面板/画布中，因为这会将它们放在同一列中......

有人对此有解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T13:01:26.030

所以我想出了一个可行的解决方案并且它正在工作。也许不是那么优雅，但它完成了它应该做的事情，并且在 Lumia 920 设备上运行良好。

```
void CreateLoadAnimationForRow(int row, int startTime)
    {
        foreach (var child in LayoutRoot.Children.Cast<FrameworkElement>().Where(x => Grid.GetRow(x) == row))
        {
            AddToStoryboard(child, startTime);
        }
    }
    void AddToStoryboard(FrameworkElement element, int startTime)
    {
        element.RenderTransform = new CompositeTransform();
        var doubleAnimation = new DoubleAnimation
        {
            From = -200,
            To = 0,
            Duration = new Duration(TimeSpan.FromSeconds(1)),
            BeginTime = TimeSpan.FromMilliseconds(startTime)
        };

        var objectAnimationUsingKeyFrames = new ObjectAnimationUsingKeyFrames()
        {
            BeginTime = TimeSpan.FromMilliseconds(startTime + 10)
        };
        var discreteObjectKeyFrame = new DiscreteObjectKeyFrame()
        {
            KeyTime = KeyTime.FromTimeSpan(TimeSpan.FromSeconds(0)),
            Value = Visibility.Visible
        };

        objectAnimationUsingKeyFrames.KeyFrames.Add(discreteObjectKeyFrame);

        IEasingFunction easingFunction = new SineEase();
        easingFunction.Ease(2);
        doubleAnimation.EasingFunction = easingFunction;

        Storyboard.SetTarget(objectAnimationUsingKeyFrames, element);
        Storyboard.SetTargetProperty(objectAnimationUsingKeyFrames, new PropertyPath("Visibility"));

        Storyboard.SetTarget(doubleAnimation, element);
        Storyboard.SetTargetProperty(doubleAnimation, new PropertyPath("(FrameworkElement.RenderTransform).(CompositeTransform.TranslateX)"));

        storyboardSlideIn.Children.Add(doubleAnimation);
        storyboardSlideIn.Children.Add(objectAnimationUsingKeyFrames);

    } 
```

# html - Css悬停链接显示表格

> ID：14807889
> 
> 赞同：0
> 
> 时间：2013-02-11T07:48:54.070
> 
> 标签：html, css

所以我试图在悬停链接时制作一个下拉菜单。链接下方显示了一个表格。我不明白为什么它不起作用。查看小提琴链接。

*固定链接* [http://jsfiddle.net/ThobiasN/Pt3db/](http://jsfiddle.net/ThobiasN/Pt3db/)

html代码示例：

```
<a class='nav' href='#'>Hover me</a>
<table>
    <tr>
        <td class='dropdown'><p>Show me</p></td>
    </tr>
</table> 
```

CSS代码示例：

```
td.dropdown
{
    display:none;
}

a.nav:hover > table
{
    display:block;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:53:49.213

因为该表不是链接的子项。CSS中的符号`>`相当于“direct child of”

尝试将表格放在链接内。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T08:02:06.133

`<table>`是链接元素的兄弟。使用 + 对兄弟进行操作。

```
a.nav + table {
  display: none;

}
a.nav:hover + table {
  display: block;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T08:00:03.767

这是正确的方法，**CSS**：

```
a.nav + table tr td.dropdown
{
display:none;
}

a.nav:hover + table tr td.dropdown
{
display:block;
} 
```

您需要隐藏和显示相同的元素，如果隐藏表格，则不显示 TD，反之亦然

或者，显示和隐藏表格而不是 TD、**CSS**：

```
a.nav + table 
{
display:none;
}

a.nav:hover + table 
{
display:block;
} 
```

还要记住一件事，+ 指的是兄弟元素，> 指的是直接子元素

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-11T08:00:32.410

a.nav:hover > table 表示 table 应该在 a.nav 内。首先这里不要用table，用ul比较好，放在a.nav里面

```
<a class='nav' href='#'>Hover me
  <ul>
    <li>Show me</li>
  </ul>
</a> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-11T08:09:19.613

我认为最后你需要使用一些Javascript代码来实现这一点，但你做错的是：

*   `>`simbol 用于直接孩子
*   您要`display: none`为`table`元素设置，而不是`td`

解决方案：

*   更改此`>`符号的符号：`+`获取下一个元素
*   改变一点你的CSS

### HTML

```
<a class='nav' href='#'>Hover me</a>
<table>
    <tr>
        <td class='dropdown'><p>Show me</p></td>
    </tr>
</table> 
```

### CSS

```
table{
    display:none;
}

a.nav:hover + table{
    display:block;
} 
```

### JSFiddle

[http://jsfiddle.net/Pt3db/5/](http://jsfiddle.net/Pt3db/5/)

### 加上建议

*   改用无序列表`table`（表格数据的表）
*   您将无法单击子导航元素，这就是为什么我认为您需要一些 Javascript
*   有很多不错的导航插件可供您使用，至少您正在学习不要重新发明轮子；）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-11T08:14:09.413

使用 CSS [Fiddle](http://jsfiddle.net/Pt3db/3/)

它似乎以任何一种方式工作，但这是我喜欢的方式，即使它不是 css：

```
$('.nav').hover(function () {
    $('table').css('display', 'block');
});

table{    
    display:none;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-02-08T15:40:33.780

HTML 代码

```
<a class='nav' href='#'>Hover me </a>
<table class='dropdown'>
    <tr>
        <td ><p>Show me</p></td>
    </tr>
</table> 
```

CSS 代码

```
table.dropdown
{
    display:none;
}
a.nav:hover + table
{
    display:block;
    color: green;
} 
```

# javascript - CKEditor 设置宽度

> ID：14807895
> 
> 赞同：1
> 
> 时间：2013-02-11T07:49:35.497
> 
> 标签：javascript, ckeditor

我正在使用带有内联编辑的 CKEditor 4。我想为出现的 CKEditor 工具栏设置自定义高度。我环顾四周，找到了解决方案

```
config.height = 300;
config.width = 550; 
```

我在config.js文件中写了上面两行。但可悲的是，它对我不起作用。

有任何想法吗？还是内联编辑不支持自定义高度？

**编辑 ：**

我在我的 js 中也试过这个

```
editor.resize( 900, 300 ); 
```

但没有运气

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:28:04.220

只需按照 Zee 在评论区的建议使用换行符 '/'。

例如：

```
 config.toolbarGroups = [
        { name: 'clipboard',   groups: [ 'clipboard', 'undo' ] },
        { name: 'editing',     groups: [ 'find', 'selection', 'spellchecker', 'basicstyles', 'cleanup'] },
        '/',
        { name: 'paragraph',   groups: [ 'list', 'indent', 'blocks', 'align' ] },
        { name: 'links' },
        ...
] 
```

换行符会将按钮分成两行。

# ajax - 输入编号提交

> ID：14807900
> 
> 赞同：0
> 
> 时间：2013-02-11T07:50:07.463
> 
> 标签：ajax, jsf, primefaces, primefaces-extensions

我对 primefaces 扩展中的 InputNumber 有疑问。我的表单上有一个 inputnumber 组件，当我在表单中输入一个值时，然后我按下 ENTER 按钮页面被提交，但 inputNumber 字段中没有该值。它仅在该字段失去焦点时才有效。我检查了[陈列柜](http://fractalsoft.net/primeext-showcase-mojarra/sections/inputNumber/advanceUsage.jsf)，但也有同样的问题。在我的情况下，该字段是必需的，当我按下回车按钮时，值消失了，并且显示了表明缺少值的验证消息。有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:33:47.623

将您的输入设置为**required="true"**然后抓住**“enter”**键并将焦点更改为 otherInput 如下所示；在标签`.xhtml`之间的页面上运行它。`<script type="text/javascript"> </script>`

```
$( 'form' ).bind('keypress', function(e){
   if ( e.keyCode == 13 ) {
         document.getElementById('Input10_input').focus();
   }
 }); 
```

它也适用于[展示](http://fractalsoft.net/primeext-showcase-mojarra/sections/inputNumber/advanceUsage.jsf)。

祝你好运！

# iphone - 如何从 webview 打开应用程序内的邮件？

> ID：14807903
> 
> 赞同：1
> 
> 时间：2013-02-11T07:50:24.753
> 
> 标签：iphone, objective-c, email, ios6

这是我的代码..

```
if ([ [ requestURL scheme ] isEqualToString: @"mailto" ])

 {

        MFMailComposeViewController *composer = [[MFMailComposeViewController alloc] init];
        [composer setMailComposeDelegate:self];
        if ([MFMailComposeViewController canSendMail]) {
            NSString *strEmail = [NSString stringWithFormat:@"%@",requestURL];
            NSString *subString = [[strEmail componentsSeparatedByString:@":"] lastObject];
            [composer setToRecipients:[NSArray arrayWithObjects:subString, nil]];
            [composer setSubject:@"Kreativ-Q"];
            [composer setMessageBody:@"" isHTML:YES];
            [composer setModalTransitionStyle:UIModalTransitionStyleCrossDissolve];
            [self presentModalViewController:composer animated:YES];
            [composer release];
        }
    } 
```

但是当我点击 webview 中的链接时，它会在邮箱中打开。当我从那里发送或取消邮件并返回我的应用程序时，邮件仍然存在。他们给我看了两次。我只是想要，它只会在我的应用程序中打开..

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:53:24.437

可以帮助您：

如果您没有，请在您的 .h 文件中设置此委托。

```
<MFMailComposeViewControllerDelegate> 
```

# php - 为什么 curl_multi 在我的本地主机中无法正常工作？

> ID：14807904
> 
> 赞同：1
> 
> 时间：2013-02-11T07:50:29.513
> 
> 标签：php, curl-multi

我使用一个 php 函数来返回 1000 多个网站的状态（即网站是 up 还是 down）。

```
public function curlCheck($nodes) {

    $results = array();
    $node_count = count($nodes);

    $curl_arr = array();
    $master = curl_multi_init();

    for ($i = 0; $i < $node_count; $i++) {
        $url = $nodes[$i];
        $curl_arr[$i] = curl_init($url);
        curl_setopt($curl_arr[$i], CURLOPT_RETURNTRANSFER, true);
        curl_setopt($curl_arr[$i], CURLOPT_NOBODY, true);
        curl_setopt($curl_arr[$i], CURLOPT_TIMEOUT, 5);
        curl_multi_add_handle($master, $curl_arr[$i]);
    }

    $running = null;
    do {
        curl_multi_exec($master, $running);
    } while ($running > 0);

    for ($i = 0; $i < $node_count; $i++) {
        $results[$i]['url'] = curl_getinfo($curl_arr[$i], CURLINFO_EFFECTIVE_URL);
        $results[$i]['code'] = curl_getinfo($curl_arr[$i], CURLINFO_HTTP_CODE);
        $results[$i]['time'] = curl_getinfo($curl_arr[$i], CURLINFO_PRETRANSFER_TIME);
    }
    echo 'done';
    return $results;
}

$nodes = array('http://google.com','http://yahoo.com','http://msn.com');   
$result= curlCheck($nodes);
print_r($result); 
```

虽然我使用`curl_multi`，但是这个过程的时间很长；为此，我该如何进行并行处理。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-09T10:38:34.620

根据[https://bugs.php.net/bug.php?id=61141](https://bugs.php.net/bug.php?id=61141)：

在使用 libcurl 7.24 或更高版本（似乎对应于 PHP 5.3.10 或更高版本）的 Windows 设置上，您可能会发现 curl_multi_select() 总是返回 -1，导致文档中的示例代码超时。这显然不是严格意义上的错误：根据 libcurl 文档，如果 curl_multi_select 返回 -1，您应该添加自己的睡眠。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-13T09:40:47.217

试试这个解决方案：

如果使用`set_time_limit(0);`xampp 或 wampp，则使用；您的执行时间可能会突然结束；

```
class myclass
{

public $multi_exec_curl_files = array();

//...

public function name()
{

//add urls to list

foreach($array as $id => $value)
$this->multi_exec_curl_files[] = array('link' => $value['link']);

//...

$this->multiCurl($this->multi_exec_curl_files);

...

}

public function multiCurl($res = array(), $options = "") {

        if (count($res) <= 0)
            return False;

        $handles = array();

        if (!$options) // add default options
            $options = self::$options;

        //print_r($options);
        // add curl options to each handle
        foreach ($res as $k => $row) {
            $ch{$k} = curl_init();
            $options[CURLOPT_URL] = $row['link'];
            //echo $row['link'].PHP_EOL;
            curl_setopt_array($ch{$k}, $options);
            $handles[$k] = $ch{$k};
        }
        //die('d');

        $mh = curl_multi_init();

        foreach ($handles as $k => $handle) {
            curl_multi_add_handle($mh, $handle);
        }

        $running_handles = null;
        //execute the handles
        do {
            $status_cme = curl_multi_exec($mh, $running_handles);
        } while ($status_cme == CURLM_CALL_MULTI_PERFORM);
//
        while ($running_handles && $status_cme == CURLM_OK) {
            if (curl_multi_select($mh) != -1) {
                do {
                    $status = curl_multi_exec($mh, $running_handles);
                } while ($status == CURLM_CALL_MULTI_PERFORM);
            }
        }

} 
```

从这里拿走；这个有效，我每天测试它；根据需要添加功能；

指导：

1.  实例化类，区分大小写

    $app = new myclass();

2.  运行主函数

    $app->name();

在此功能中，您必须进行查询并从数据库中提取所有网站 url，并将链接存储在变量/属性中`$this->multi_exec_curl_files`；

我使用了`$array`作为我的网站列表；

1.  加载完所有网站 url 后，调用 multi curl 方法；

    $this->multiCurl($this->multi_exec_curl_files);

这将为每个网站 url 启动一个执行行（句柄），它将按照您的要求执行；

我用这个方法同时下载多个网站的网页，你可以用这个看一个网站是否在线（多个网站）；

`$handles`是 curl 中的链接集合

`$handle`是一个网址

一旦进程启动，它会一直等到所有句柄都完成；

# google-chrome - 了解 Chrome 开发人员工具中的“本机内存分析”

> ID：14807909
> 
> 赞同：1
> 
> 时间：2013-02-11T07:51:03.580
> 
> 标签：google-chrome, google-chrome-devtools

我正在构建一个带有几个搜索属性的简单搜索面板和一个结果面板的应用程序。在结果面板中，我使用[Slickgrid](https://github.com/mleibman/SlickGrid)以表格形式呈现数据。

经过几次搜索（对服务器的 AJAX 调用），页面加载太多，最终在一段时间后崩溃。我检查了 DOM 计数和 JavaScript 堆使用情况是否存在内存泄漏。我在那里找不到任何问题。但是，当我运行实验性本机内存分析器时，我看到“JavaScript 外部资源”部分使用了 600+ MB 内存。在运行垃圾收集器时，它正在下降到几 MB。我在这里有几个问题：

1.  什么有助于“JavaScript 外部资源”部分？我认为它对应于从服务器传输的 JSON 数据/JavaScript 源。仅供参考，来自服务器的 gzip 压缩 JSON 响应约为 1MB。
2.  为什么 Chrome 不主动释放内存而不是使页面崩溃？同样，当我手动运行垃圾收集器时，它正在释放“JavaScript 外部资源”使用的内存。

如何解决原来的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T06:47:24.400

JS Heap Profiler 对 javascript 中的对象进行快照，但 javascript 代码可能会在“Int8Array”、“Uint8Array”、“Uint8ClampedArray”、“Int16Array”、“Uint16Array”、“Int32Array”、“Uint32Array”的帮助下使用本机内存， “Float32Array”和“Float64Array”。因此，当您拍摄快照时，它将只有指向本机内存块的小型包装器。不幸的是，堆快照不提供有关用于此类对象的本机内存的数据。本机堆快照能够计算该内存，现在我们知道该页面通过数组或外部字符串使用本机内存。

我想知道你是如何检查页面没有内存泄漏的？您是使用三个快照技术还是只检查特定对象？ [追踪 JavaScript 内存泄漏的工具](https://stackoverflow.com/questions/11969062/tool-to-track-down-javascript-memory-leak/12061206)

# java - 确定复杂度等级或大o

> ID：14807913
> 
> 赞同：0
> 
> 时间：2013-02-11T07:51:22.167
> 
> 标签：java, big-o

以下问题的大 O 是多少？

```
public static void mystery(int[] list)
{
   for (int i = 0; i < list.length/2; i++)
   {
      int j = list.length-1-i;
      int temp = list[i];
      list[i] = list[j];
      list[j] = temp;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:53:43.427

It's O(n), since it loops the array only once.

# scala - 在scala中将Int添加到字符串

> ID：14807919
> 
> 赞同：2
> 
> 时间：2013-02-11T07:51:51.493
> 
> 标签：scala, types, casting, return-value, return-type

我在理解以下几段 scala 代码背后的基本原理时遇到了一些麻烦：

我们都知道 REPL 中的 1 + 1 = 2。

```
scala> 1 + 1
res0: Int = 2 
```

如果我输入“Abc”+“Def”，我应该在 REPL 中得到“AbcDef”。

```
scala> "Abc" + "Def"
res6: java.lang.String = AbcDef 
```

现在假设我在 String "Abc" 上调用 + 方法并将 "Def" 作为参数传递：

```
scala> "Abc".+("Def")
res7: java.lang.String = AbcDef 
```

同样的道理，为什么像 1.+(1) 这样的东西会返回一个双倍的 2.0？

```
scala> 1.+(1)
res1: Double = 2.0 
```

另外，为什么将参数“1”作为参数传递会导致“1.01”如下：

```
scala> 1.+("1")
res9: String = 1.01 
```

为什么返回的结果是一个字符串，而不是我努力将“1”转换为调用者类型？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T08:05:50.530

如果你在 Scala 2.10.0 上尝试，你会得到答案的线索：

```
scala> 1.+(1)
<console>:1: warning: This lexical syntax is deprecated.  From scala 2.11,
             a dot will only be considered part of a number if it is immediately
             followed by a digit.
       1.+(1)
       ^ 
```

简单地说，在 Scala`1.`中是有效`Double`的（就像在 Java 中一样），所以 Scala 确实是这样做的：

```
1\.  +  (1) 
```

也就是说，将 a 添加`Double`到包含在（冗余）括号内的表达式中。

至于后者，Scala 遵循 Java 约定，任何添加到 a 的内容都会`String`导致 a `String`，反之亦然。

# node.js - 正确停止、等待和重置 node.js heroku 进程

> ID：14807920
> 
> 赞同：6
> 
> 时间：2013-02-11T07:51:55.207
> 
> 标签：node.js, heroku

我还没有部署，但我不确定如何执行此操作。

我有一个使用大量后台进程的应用程序。也就是说，即使在发送响应之后，仍然有与该响应相关联的函数在后台执行。因此，我想做这样的事情：

```
var server = http.createServer(app).listen(80)

process.on('SIGINT', function () {
  server.close()
  setTimeout(function () {
    process.exit()
  }, 30000) // Wait 30 seconds before exiting
}) 
```

我不确定这是否正确。更多假设：

*   这些后台进程至关重要。但是，它们可能需要 1-2 秒，而不是 30 秒。尽管如此，为了安全起见，我还是想延迟 30 秒。
*   这应该适用于重新启动进程（例如，永远）和停止进程
*   Heroku（或任何其他进程）通过什么信号发送到 node.js `process`？我必须以不同的方式处理它们吗？
*   我会以`uncaughtException`不同的方式处理吗？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-30T03:16:05.083

知道了。`SIGTERM`Heroku在关闭时发送一个信号。如果进程在 10 秒内没有退出，那么它会发送一个`SIGKILL`信号。因此，以下内容就足够了：

```
process.on('SIGTERM', server.close.bind(server)) 
```

[https://devcenter.heroku.com/articles/dynos#graceful-shutdown-with-sigterm](https://devcenter.heroku.com/articles/dynos#graceful-shutdown-with-sigterm)

假设 10 秒足以完成后台进程。

基本上，在“退出”信号之前 x 秒发送一个“关闭”信号，你应该会很好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T09:21:11.803

我认为您最好使用工作进程来完成这些后台工作（Heroku 上的工作人员测功机）。

这既可以释放您的 Web 服务器以尽可能快地为您的用户提供服务，也可以让您在扩展时更好地控制（例如，运行 3 个 web dynos 和 2 个 worker dynos）。

您可以使用 Redis 的 pub/sub 功能将作业提交给工作人员 dyno（或使用库来执行此操作，例如[http://learnboost.github.com/kue/](http://learnboost.github.com/kue/)）。

这样，当网络测功机重新启动/死亡/等时，它对待处理的后台作业没有任何影响，当工作人员测功机重新启动时，它只会消耗待处理的作业并处理它们，因此您不会丢失任何作业因为重启。

# html - Html5 History Api - 从域到子域的 pushState

> ID：14807921
> 
> 赞同：15
> 
> 时间：2013-02-11T07:52:04.563
> 
> 标签：html, browser-history, history.js

我有一个网站作为门户网站类型应用程序的登陆和信息页面。

我需要指向门户的链接来触发一个漂亮地过渡到门户视图的动画（导航滑出，新的导航滑入，各种小部件淡出，新的小部件淡入等）。

但是，我还需要将 url 从`www.mydomain.com`to转到`portal.mydomain.com`.

我愿意不遗余力地拥有两者，加载门户的动画和作为子域的 url。

就目前而言，我理解这样做会违反安全策略并且不允许，但是如果要重新加载，则无法实现到门户的流畅过渡。

有什么可以做的吗？也许某种方式可以在两个域之间建立显式信任。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-11T23:50:21.043

这是不可能的。这是设计使然。没有例外。

来自[Mozilla pushState 文档](https://developer.mozilla.org/en-US/docs/Web/API/History/pushState#Parameters)：

> 新 URL**必须**与当前 URL 同源；**否则**， pushState() 将抛出异常。

# jquery - 我的 AJAX 调用仅在 Internet Explorer 中运行

> ID：14807925
> 
> 赞同：0
> 
> 时间：2013-02-11T07:52:34.050
> 
> 标签：jquery, ajax, internet-explorer

我的 jQuery 代码是这样的：

```
$(document).ready(function () {
  $("input:#baglan").click(function () {
    var Type;
    var Url;
    var Data;
    var ContentType;
    var DataType;
    var ProcessData;
    WCFJSON();

    function WCFJSON() {

      var kullanici = $("input:#ad3").val();
      var sifre = $("input:#sifre").val();
      Type = "POST";
      Url = "http://hacegan:84/SQLbaglantiHACEGAN/Service.svc/GetData";
      Data = '{"value": "' + kullanici + '","sifre": "' + sifre + '"}';
      ContentType = "application/json; charset=utf-8";
      DataType = "json";
      varProcessData = true;
      CallService();
    }

    //function to call WCF  Service      
    function CallService() {
      $.ajax({
        type: Type, //GET or POST or PUT or DELETE verb
        url: Url, // Location of the service
        data: Data, //Data sent to server
        contentType: ContentType, // content type sent to server
        dataType: DataType, //Expected data format from server
        processdata: ProcessData, //True or False
        success: function (msg) { //On Successfull service call
          ServiceSucceeded(msg);
        },
        error: ServiceFailed // When Service call fails
      });
    }

    function ServiceFailed(result) {
      alert("basarisiz");
      alert('Service call failed: ' + result.status + '' + result.statusText);
      Type = null;
      varUrl = null;
      Data = null;
      ContentType = null;
      DataType = null;
      ProcessData = null;
    }

    function ServiceSucceeded(result) {
      if (DataType == "json") {
        resultObject = result.GetDataResult;
        alert(resultObject);
      }
    }

  }); 
```

我的代码在 Internet Explorer 上运行，但是当我在 Firefox 或 Chrome 上运行此代码时，它会在 ServiceFailed 函数中出现错误。使用此代码，我正在访问 WCF 服务。那么，我怎样才能让它在 Firefox 和 Chrome 中运行呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:04:00.760

在您的代码中，`ServiceFailed`如果您的 ajax 调用返回错误，则您正在调用一个函数：

```
error: ServiceFailed 
```

然后，您有两个具有相同名称和签名的函数：

```
function ServiceFailed(result) 
```

和

```
function ServiceFailed(xhr) 
```

使用 Chrome 或 Firebug 中的控制台，您将能够看到您的 ajax 调用。

看看这里：[Chrome 的 firebug 跟踪 ajax 请求的技术](https://stackoverflow.com/questions/7499360/chromes-firebugs-technic-to-track-ajax-requests)

一个建议：

而不是手动创建您的 JSON 字符串

```
Data = '{"value": "' + kullanici + '","sifre": "' + sifre + '"}'; 
```

您可以创建对象，然后将其转换为字符串：

```
JSON.stringify({value: 'foo', sifre: 'bar'}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T08:04:27.367

我认为这会更好地传递参数：

`try putting just click in the doc ready and all the functions outside`尝试使用这个。

```
 $(document).ready(function () {
   $("input:#baglan").click(function () {
    var Type;
    var Url;
    var Data;
    var ContentType;
    var DataType;
    var ProcessData;
    WCFJSON(Type, Url, Data, ContentType, DataType, varProcessData);
   });
 }); // <----------end of doc ready

 function WCFJSON(Type, Url, Data, ContentType, DataType, varProcessData) {
     var kullanici =$("input:#ad3").val();
     var sifre=$("input:#sifre").val();
     Type = "POST";
     Url = "http://hacegan:84/SQLbaglantiHACEGAN/Service.svc/GetData";
     Data = '{"value": "' +kullanici+ '","sifre": "' +sifre+ '"}';
     ContentType = "application/json; charset=utf-8";
     DataType = "json"; 
     varProcessData = true; 
     CallService(Type, Url, Data, ContentType, DataType, varProcessData);
 }

 //function to call WCF  Service      
 function CallService(Type, Url, Data, ContentType, DataType, varProcessData) {
    $.ajax({
    type: Type, //GET or POST or PUT or DELETE verb
    url: Url, // Location of the service
    data: Data, //Data sent to server
    contentType: ContentType, // content type sent to server
    dataType: DataType, //Expected data format from server
    processdata: varProcessData, //<--------------------------should be this
    success: function (msg) { //On Successfull service call
      ServiceSucceeded(msg);
    },
    error: ServiceFailed(err) // When Service call fails
  });
}

function ServiceFailed(result) {
  alert("basarisiz");
  alert('Service call failed: ' + result.status + '' + result.statusText);
  Type = null;
  varUrl = null;
  Data = null;
  ContentType = null;
  DataType = null;
  ProcessData = null;
}

function ServiceSucceeded(result) {
  if (DataType == "json") {
    resultObject = result.GetDataResult;
    alert(resultObject);
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T08:05:39.680

它应该是 ProcessData 标志而不是 varProcessData

```
function WCFJSON() {

  var kullanici = $("input:#ad3").val();
  var sifre = $("input:#sifre").val();
  Type = "POST";
  Url = "http://hacegan:84/SQLbaglantiHACEGAN/Service.svc/GetData";
  Data = '{"value": "' + kullanici + '","sifre": "' + sifre + '"}';
  ContentType = "application/json; charset=utf-8";
  DataType = "json"; 
```

> ```
> ProcessData = true; 
> ```

```
 CallService();
} 
```

# c# - 我什么时候需要使用 ViewState

> ID：14807928
> 
> 赞同：2
> 
> 时间：2013-02-11T07:52:52.320
> 
> 标签：c#, asp.net, .net, viewstate

我对如何`ViewState`在 C# 中使用感到困惑，例如使用有什么好处：

```
ViewState["VST"]="Value1";

Lable1.Text= ViewState["VST"].ToString(); 
```

而我可以使用：

```
string container= "Value1";
Lable1.Text= container; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T07:57:11.890

您的 ViewState 由与页面的回发一起保存的变量组成，因为它们被发送到客户端，客户端将它们与整个页面一起发送回来。

因此，如果你这样做：

```
string container= "Value1";
Lable1.Text= container; 
```

然后用户看到页面并点击提交按钮，您的`container`字符串将不存在。

但是，如果您使用 ViewState，ViewState["VST"] 仍将具有该值，因为当用户提交并将页面发回时它将被“刷新”。

[在此处](http://msdn.microsoft.com/en-us/library/ms972976.aspx)阅读更多内容并了解 ASP.NET 页面生命周期。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T07:59:28.110

根据文档：

ASP.NET 页面框架自动使用视图状态来保存必须在回发之间保留的信息。此信息包括控件的任何非默认值。您还可以使用视图状态来存储特定于页面的应用程序数据。

有关详细信息，请参阅链接： http: [//msdn.microsoft.com/en-us/library/bb386448 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/bb386448%28v=vs.100%29.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T07:59:03.587

如果您还想在回发后保留这些值，那么 ViewState 是最好的选择。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T08:13:19.020

每次您的应用程序执行回发时，您的控件的当前值都会被清除。因此，为了让您在页面内存储任何值，您可以将它们保存在 ViewState 中。当然，您必须首先将 EnableViewState 属性设置为 true。附加信息，如果您想在跳转到多个页面时存储任何值或状态，您可以使用 Session 代替。

# spring - Batoo JPA、Spring 和 JodaTime

> ID：14807938
> 
> 赞同：1
> 
> 时间：2013-02-11T07:53:47.857
> 
> 标签：spring, jpa, jodatime, batoo

我最近一直在检查batoo JPA。我已经设法将它与 Spring 一起使用，并且它似乎与标准 JPA 接口配合得很好。现在我正在寻找如何让 JodaTime 透明地持久化。我知道我可以写一个转换器，但我想知道batoo团队的人是否在这方面做了一些工作。我已经克隆了源代码并对其进行了 grep 编辑，但没有运气。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T16:45:20.747

感谢您指出问题。

正如问题管理器中所述，已发布一个可以解决该问题的快照。

# c - String Pointer Modification

> ID：14807947
> 
> 赞同：0
> 
> 时间：2013-02-11T07:54:34.307
> 
> 标签：c

How can I take a C string pointer like

```
char *a = "asdf"; 
```

and change it so that it becomes

```
char *a = "\nasdf\n"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:58:02.350

When you assign string like tihs

```
char *a = "asdf"; 
```

you are creating a string literal. So it cannot be modified. It is already explained [here](https://stackoverflow.com/questions/2245664/string-literals-in-c).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:58:29.557

您无法修改字符串文字，因此您必须使用该新格式创建第二个字符串。

或者，如果格式只是为了显示，您可以通过在显示时应用格式来推迟创建新字符串。例如：

```
printf("\n%s\n", a); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:59:14.287

我不知道这是否是您正在寻找的，但看起来您想要连接字符串：[如何在 C 中连接 const/literal 字符串？](https://stackoverflow.com/questions/308695/c-string-concatenation)

使用 "\n" 作为您的第一个和最后一个字符串，并将给出的字符串作为第二个字符串。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T08:03:05.127

如果您使用指向字符串文字的指针，则不能这样做，原因是字符串文字是常量且无法更改。

你可以做的是声明一个数组，有足够的空间来容纳额外的字符，比如

```
char a[16] = "asdf"; 
```

然后您可以例如`memmove`移动字符串，并手动添加新字符：

```
size_t length = strlen(a);
memmove(&a[1], a, length + 1);  /* +1 to include the terminating '\0' */
a[0] = '\n';           /* Add leading newline */
a[length + 1] = '\n';  /* Add trailing newline */
a[length + 2] = '\0';  /* Add terminator */ 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-11T08:03:35.097

```
char* a = "asdf";
char* aNew = new char[strlen(a) + 2]; //Allocate memory for the modified string
aNew[0] = '\n'; //Prepend the newline character

for(int i = 1; i < strlen(a) + 1; i++) { //Copy info over to the new string 
    aNew[i] = a[i - 1];
}
aNew[strlen(a) + 1] = '\n'; //Append the newline character
a = aNew; //Have a point to the modified string 
```

希望这就是你要找的。完成后不要忘记调用“delete [] aNew”以防止它泄漏内存。

# node.js - Node.js send post request with data?

> ID：14807948
> 
> 赞同：3
> 
> 时间：2013-02-11T07:54:36.370
> 
> 标签：node.js, nginx

How can i send the following request in a Node.js environment?

```
curl -s -v -X POST 'http://localhost/pub?id=my_channel_1' -d 'Hello World!' 
```

Im trying to build a Node.js server together with the Nginx Push Stream Module.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:21:16.573

您可能想使用“请求”模块，我正在使用它，我觉得它很舒服。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T14:17:30.787

扩展@Silviu Burcea 对请求模块的建议：

```
//Set up http server:
function handler(req,res){ 
  console.log(req.method+'@ '+req.url);
  res.writeHead(200); res.end();
};
require('http').createServer(handler).listen(3333);

// Send post request to http server
// curl -s -v -X POST 'http://localhost/pub?id=my_channel_1' -d 'Hello World!'
// npm install request (https://github.com/mikeal/request)
var request = require('request'); 
request(
{ uri:'http://localhost:3333/pub?id=my_channel_1',
  method:'POST',
  body:'Hello World!',
},
function (error, response, body) {
  if (!error && response.statusCode == 200) { console.log('Success') }
}); 
```

# php - Override ShipmentController in Magento Admin

> ID：14807951
> 
> 赞同：1
> 
> 时间：2013-02-11T07:54:47.250
> 
> 标签：php, magento, controller, overriding

Im trying to override a admin controller in Magento CE 1.7.0.2 I have been reading forum after forum, post by post and tried almost everything I've encountered. This is how my setup looks right now

config.xml

```
 <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <My_Module before="Mage_Adminhtml">My_Module_Adminhtml</My_Module>
                    </modules>
                </args>
            </adminhtml>
        </routers>
</admin> 
```

My Controller (controller path "My/Module/controllers/Adminhtml/Sales/Order/ShipmentController.php)

```
<?php

require_once 'Mage/Adminhtml/controllers/Sales/Order/ShipmentController.php';

class My_Module_Adminhtml_Sales_Order_ShipmentController extends Mage_Adminhtml_Sales_Order_ShipmentController {

public function indexAction() {
    Mage::log("Index");
}

public function newAction() {
    Mage::log("New");
}

public function saveAction() {
    Mage::log("Save");
}

}

?> 
```

Am I doing something wrong or has the way of overriding controllers changed?

# c# - File.Move Causing a TagetInvocationException?

> ID：14807953
> 
> 赞同：0
> 
> 时间：2013-02-11T07:55:00.710
> 
> 标签：c#, winforms, exception, file-io, exception-handling

I have a program that, after downloading some files, is moving them around the C drive. When I call file.move though, I get the following exceptions:

A first chance exception of type 'System.Reflection.TargetInvocationException' occurred in mscorlib.dll

Additional information: Exception has been thrown by the target of an invocation.

If there is a handler for this exception, the program may be safely continued.

I know that this can happen when you don't actually have the directory but I do. It actually DOES move the files correctly, it just throws up an error. I can't find any information on this? Should I just try and catch this fake error or should I figure out what's going on? Thanks!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:59:38.777

File.Move 不会抛出那种类型的异常。或者至少这就是 MSDN 上的例外列表所说的[http://msdn.microsoft.com/en-us/library/system.io.file.move.aspx](http://msdn.microsoft.com/en-us/library/system.io.file.move.aspx)

所以这可能是由其他原因引起的，请检查内部异常并进一步调查。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:58:06.990

有关此异常，请参阅 InnerException，您将知道原因。

# python - Counting evens in a two-dimensional list?

> ID：14807956
> 
> 赞同：0
> 
> 时间：2013-02-11T07:55:16.933
> 
> 标签：python

Hey guys I'm trying to make a program that counts the evens in a two-dimensional list. The program I made so far is not returning what I want it to.

```
def Evens(x):
    count = 0
    x = len(x)
    for a in range(x):
        if a%2 == 0:
            count = count + 1
    return count 
```

that keeps returning 2 for the list `Evens([[1,3],[1,9,7,1,3],[13]])` when I want it to return 4\. I tried everything but it seems to not be working correctly.

Thanks

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T08:04:26.347

您遇到的问题是您正在检查索引以查看它们是否是偶数，而不是值。您也没有检查子列表。

IMO 更直接的是这样做：

```
import itertools
def evens(x):
    return sum(a % 2 == 0 for a in itertools.chain.from_iterable(x)) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T08:05:42.773

您需要实际迭代子列表。

```
def evens(l):
    count = 0
    for l2 in l:
        for i in l2:
            if i%2 == 0:
                count += 1
    return count 
```

或者你可以采取更简单的方法。

```
def evens(l):
    return sum(i%2==0 for l2 in l for i in l2) 
```

第二种方法使用的事实是，在整数上下文中，`True == 1`和`False == 0`，所以你会得到预期的结果。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T08:04:53.380

您需要遍历所有子列表：

```
In [34]: l = [[1,4,3],[12,0,7,10,3],[13]]

In [35]: sum(n%2 == 0 for sub in l for n in sub)
Out[35]: 4 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T08:04:36.930

您还需要遍历每个子列表中的元素：

```
def count_evens(l):
    total = 0

    for l2 in l:
        for item in l2:
            if item % 2 == 0:
                total += 1

    return total 
```

您之前所做的是迭代子列表的数量（即`[0, 1, 2, 3]`对于包含`4`元素的列表）。您的代码工作正常，但工作不正常。

# android - android设置按钮高度

> ID：14807962
> 
> 赞同：0
> 
> 时间：2013-02-11T07:55:57.760
> 
> 标签：android, layout, button

我在设置按钮高度时遇到了麻烦，而模拟器正在理想地显示（按钮变窄），在电话设备 S2 上运行（按钮变成正方形）。我怎样才能正确设置，使按钮在模拟器中看起来很窄？

我已经将按钮设置为 textSize = 1dp 并设置为 wrap_content，然后模拟器显示正确地反映了这个变化作为一个非常窄的按钮，但在 S2 上运行它仍然显示为一个正方形。

有谁知道如何在实际设备上成功运行它？非常感谢！！！

## 模拟器：

![在此处输入图像描述](../Images/1e89230d160137a7778624b67585a075.png)

# 电话设备：

![在此处输入图像描述](../Images/e5cd2653d23273c71722bb92ee157366.png)

## 布局代码：

```
 <TableRow
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/light_blue"
        android:orientation="horizontal" >

        <Button
            android:id="@+id/colorBlackBtn"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:textSize="1dp"
            android:layout_weight="1"
            android:background="@drawable/black_btn" />

        <Button
            android:id="@+id/colorWhiteBtn"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:textSize="1dp"
            android:layout_weight="1"
            android:background="@drawable/white_btn" />

        <Button
            android:id="@+id/colorRedBtn"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:textSize="1dp"
            android:layout_weight="1"
            android:background="@drawable/red_btn" />

        // same for other buttons 

    </TableRow> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:04:00.643

使用 a `LinearLayout`，给每个按钮一个`height`（或宽度，取决于列或行）`0px`，然后使用`android:layout_weight`以百分比为基础在它们之间分配空间。这是一个概述此技术[的示例项目。](https://github.com/commonsguy/cw-android/tree/master/Containers/LinearPercent)

# c - C programming: how to implement an insertion sort?

> ID：14807963
> 
> 赞同：4
> 
> 时间：2013-02-11T07:55:58.660
> 
> 标签：c, arrays, for-loop, while-loop, insertion-sort

Say I have a list of numbers:

```
89 12 18 4 6 
```

and I want to implement an insertion sort and have it print every step of the sort onto the screen:

```
Sort 1\. 12 89 18 4 6
Sort 2\. 4 12 89 18 6
Sort 3\. 4 6 12 89 18
Sort 4\. 4 6 12 18 89 
```

here's the code that I have so far, I'm confused as to where to insert the printf inside the loop.

```
void insertion_sort(FILE *fp, int ar[15])
{
  int i, j, temp;

  for (i = 0; i < 15; i++)
    printf("%d\n", ar[i]);

  for(i = 0; i < 15; i++) {
    temp = ar[i];
    for(j = i - 1; j >= 0 && ar[j] > temp; j--)
        ar[j + 1] = ar[j];
    ar[j + 1] = temp;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-07T20:13:00.920

您的排序方案实际上是选择排序：

```
 Sort 1\. 12 89 18 4 6 
  Sort 2\. 4 12 89 18 6
  Sort 3\. 4 6 12 89 18
  Sort 4\. 4 6 12 18 89 
```

它找到最小的数字并将其放在列表的开头。正常的插入排序会执行以下操作：

```
 Sort 1\. 12 89 18 4 6
  Sort 2\. 12 18 89 4 6
  Sort 3\. 4 12 18 89 6
  Sort 4\. 4 6 12 18 89 
```

也就是说，它发现 18 小于 89 但大于 12 并在 12 和 89 之间插入 18 并完成第一次迭代。然后重复这个过程。

这是我的代码：

```
void insertion(int *x,int n){ // int *x - array, n- array's length
    int i,j,k,temp,elem; // i,j,k - counters, elem - to store the element at pos x[i]
    for(i=0;i<n;i++){
        elem=x[i]; // store the element
        j=i; 
        while(j>0 && x[j-1]>elem){ // the magic(actual sorting)
            x[j]=x[j-1];
            j--;
        }
        x[j]=elem;  // swap the elements
        if(i>=1){   // here begins printing every sorting step, i>=1 because first time j is not greater than 0 so it just run through the loop first time
        printf("sort %d. ",i); // printing the step
        for(k=0;k<n;k++)    // loop through array 
            printf("%d ",x[k]); // display the elements already sorted
        printf("\n"); // when the array is displayed, insert a \n so that the next display will be on a new line
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T08:00:31.167

将它放在外部 for 语句的末尾，紧随 ar[j + 1] = temp; 在 for 循环结束之前

# asp.net - URL Routing is not working

> ID：14807967
> 
> 赞同：0
> 
> 时间：2013-02-11T07:56:14.093
> 
> 标签：asp.net, c#-4.0, url-routing

I am using the simple code to do URL Re-writing in a web based application.

Here is my global files code:

```
void Application_Start(object sender, EventArgs e) 
{
    // Code that runs on application startup
    RouteTable.Routes.MapPageRoute("Login", "Admin/LoginPage", "~/Admin/login.aspx");

} 
```

I have added the following lines in Web.config file also:

```
 <httpModules>
  <add name="UrlRoutingModule" type="System.Web.Routing.UrlRoutingModule, System.Web.Routing, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"></add>
</httpModules> 
```

I Dont know why this is not working for me. Please help me..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:03:40.767

您是否在 IIS 中安装了 URL 重写扩展？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T08:19:31.167

我猜您将模块添加到错误的位置（`<system.web>/<httpModules>`）。

如果您以集成管道模式在 IIS 中托管应用程序，则应将模块添加到`<system.webServer>/<modules>`节点：

```
<system.webServer>
    <modules>
        <add name="UrlRoutingModule" type="System.Web.Routing.UrlRoutingModule, System.Web.Routing, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"></add>
    </modules>
</system.webServer> 
```

# variables - Tool to identify problems in catch blocks

> ID：14807972
> 
> 赞同：0
> 
> 时间：2013-02-11T07:56:49.947
> 
> 标签：variables, static, try-catch, analysis

I am looking for a tool (may be build time or eclipse plugin) that can help me to identify if I am not logging the Exception trace/message.

We have a legacy application that has try catch block in which a custom error message is logged. The exception is not logged and is not thrown. So, when a problem occurs, there is no stack trace in the log files that would help to debug the issue. An example of this is:

```
try {  
 do something....  
  } catch (Throwable exception) {  
    Log.log("<<custom message>>");  
  } 
```

I need a tool like Coverity or Checkstyle that can help me to identify all such occurrences in my code base.

Thanks and Regards

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:02:34.087

我希望您能够使用任何可以使用正则表达式搜索文本的工具（例如**grep**）做得不错。

正则表达式将是这样的：

```
 "catch\W*\(.*\)\W*{\W*Log\.log" 
```

其中 W 代表一些空白识别器，可以识别空白和换行符。

如果程序员与您展示的约定一致，您的模式足够独特，我希望很少有错误命中。

[编辑] OP 表示

*我正在寻找我没有执行以下操作的 catch 块 - '+ 异常'：*

```
 try { do something.... }
       catch (Throwable exception)
      { Log.log("<<custom message>>" + exception) 
```

我们回到正则表达式作为一个相当不错的 hack。您需要寻找不调用 Log.log("<<....>" 的任何地方，或者如果调用了，则没有以下 "+exception"。这对于没有"not" 运算符，但可能。假设存在 catch 子句（不同的正则表达式测试），并且存在 Log.log 调用，这可能会这样做：

```
 "catch\W*\(.*\)\W*{\W*Log\.log\(\".*\+^[\+]" 
```

最后的检查是看是否有“+”。与此匹配的任何内容都没有“+”。

我们的源代码搜索引擎 (SCSE) 使用语言的词位而不是正则表达式来实现简单的搜索，因此它有一种用语言词位编写的稍微不寻常的查询语言。它还允许更大规模的“否定”；您可以减去两个区域的命中，这非常有用。这意味着以下查询可以解决问题：

```
 'catch' '(' I  I ')' '{' I -  I=Log '.' I=log '(' S '+' I ')' 
```

（减号）从结果。所以最终结果是“不以日志记录步骤开头的捕获子句”。

更复杂的检查需要找到 catch 子句和日志子句，并验证日志子句不会出现在 catch 块中的任何位置。SCSE 自己无法做到这一点。可以使用解析和构建 AST 的更复杂的引擎来确定这一点。如果OP想要进一步阐述，我也知道可以这样做的工具。

# css - white-space: nowrap and overflow:hidden within table cell

> ID：14807977
> 
> 赞同：6
> 
> 时间：2013-02-11T07:57:04.813
> 
> 标签：css, html-table, overflow

I'm building a calendar. I have a table where each `<td>` is a day. I want to display a list of events for that day within the cell. I want each event to appear as two lines of text, if the text is longer than there is horizontal space for then the text should be hidden.

I have a table that has a variable width (it's set to `width: 100%;` of its parent elsewhere in my CSS).

Here's my jsFiddle: [http://jsfiddle.net/fZGyz/1/](http://jsfiddle.net/fZGyz/1/)

The problem you can see is that despite `width: 100%;` and `overflow: hidden;` being explicitly set, the text of `.eventSummary` and `.eventLocation` is forcing the table to expand, which is not what I want.

Is this one of those "not currently possible" problems in CSS?

UPDATE:

I can hack it with `table-layout: fixed;` and setting `overflow: hidden;` on the `<td>`... it'll do for now (as there's no ellipsis, and any border-right on the `<li>` would be hidden, so the original problem still stands.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:04:38.460

它正在扩展，因为宽度设置为其父级（即文档的正文）的 100%。因此，表格会扩展以适合其子项。要么将表格放在具有固定宽度的 div 中，要么固定表格的宽度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T08:13:02.777

你所有的价值观都是相对的，这带来了扩展。尝试为`.eventSummary`and设置所需的最大宽度，`.eventLocation`不要忘记为它们设置 display: block 。

# vb.net - 傻瓜的简单 JSON 反序列化

> ID：14807980
> 
> 赞同：3
> 
> 时间：2013-02-11T07:57:12.550
> 
> 标签：vb.net, json, serialization

尝试反序列化从 Web 源返回的以下 json：

```
{
    "cards": [
    {
        "high": "8.27", 
        "volume": 5, 
        "percent_change": "0.00", 
        "name": "Wurmcoil engine", 
        "url": "http://blacklotusproject.com/cards/Scars+of+Mirrodin/Wurmcoil+Engine/", 
        "price": "6.81", 
        "set_code": "SOM", 
        "average": "5.67", 
        "change": "0.00", 
        "low": "1.12"}], 
        "currency": "USD"
    } 
```

我正在使用带有visual basic的json.net，这对他们来说都是新的，尤其是vb的面向对象部分。我只想提取“价格”变量。我已经建立了一个这样的类：

```
Public Class Card
    Public high As String
    Public volume As String
    Public percent_change As String
    Public name As String
    Public url As String
    Public price As String
    Public set_code As String
    Public average As String
    Public change As String
    Public low As String
End Class 
```

我目前使用的代码是：

```
Public Sub parse_json(url As String)
    Dim blp_json As String = ""
    Dim wClient As New WebClient
    wClient.Proxy = System.Net.HttpWebRequest.DefaultWebProxy
    blp_json = wClient.DownloadString(url)
    MessageBox.Show(blp_json)
    Dim card_1 = Newtonsoft.Json.JsonConvert.DeserializeObject(Of Card)(blp_json)
    PriceTextBox.Text = card_1.price
    TextBox1.AppendText(card_1.ToString)
    TextBox1.AppendText(blp_json)

End Sub 
```

只是尝试了许多不同的事情来掌握它，不确定我在做什么。我认为我的卡片类不正确，因为“价格”似乎嵌套在卡片中：[{...}]

我根本不知道反序列化 json，更不用说如何在 vb 中 /properly/ 进行反序列化了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:44:58.800

我使用`System.Web.Script.Serialization.JavaScriptSerializer`JSON 反序列化。`cards`由于包含 JSON 对象数组，您的示例稍微复杂了一点。这由“[”和“]”表示。此示例代码将向您展示如何处理它，无论是否`cards`为数组。`Else`如果您确定总会有一个数组，您可能希望忽略`cards`

确保在项目中包含对 System.Web.Extensions 的引用，并且...

```
Imports System.Web.Script.Serialization 
```

进而...

```
Dim MySerializer As JavaScriptSerializer = New JavaScriptSerializer()
Dim dictResult As Dictionary(Of String, Object) = MySerializer.Deserialize(Of Dictionary(Of String, Object))(blp_json)

Dim dictCard As Dictionary(Of String, Object)

If dictResult.ContainsKey("cards") Then

    If TypeOf dictResult("cards") Is ArrayList Then

        Dim arrResult As ArrayList = DirectCast(dictResult("cards"), ArrayList)

        For Each arrCardRecord In arrResult

            dictCard = DirectCast(arrCardRecord, Dictionary(Of String, Object))

            If dictCard.ContainsKey("price") Then Console.WriteLine(dictCard("price"))

        Next
    Else
        dictCard = DirectCast(dictResult("cards"), Dictionary(Of String, Object))
        If dictCard.ContainsKey("price") Then Console.WriteLine(dictCard("price"))
    End If

End If 
```

# php - MultiPlatform - Posting to friend timeline and sending invitation on facebook

> ID：14807981
> 
> 赞同：2
> 
> 时间：2013-02-11T07:57:19.820
> 
> 标签：php, android, ios, facebook, facebook-graph-api

Right now I'm trying to create a multiplatform application that connected to facebook.

I've successfully send invitation and posting to timeline via web application, right now I'm planning to post to timeline and sending invitation on facebook via android and iOS apps, I've already managed to authenticate and getting user data from the mobile device (android and iOS). So the question is can I send the token I get from the mobile device to the backend server via API and let the backend server post to timeline send invitation in the same way I post to timeline and send invitation? if yes how can I do it? is it possible if I use the graph API?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:41:25.927

大约 2 周前为我的 iOS 应用搜索了相同的内容。从 2 月 6 日起，Facebook 改变了他们的政策：[https ://developers.facebook.com/roadmap/change-policy/](https://developers.facebook.com/roadmap/change-policy/)

现在您无法向朋友或公共页面墙发帖。我试图解决这个问题但没有成功

# java - 当存在无效标头时，使用 EndpointInterceptorAdapter 仍然设置某些内容

> ID：14807992
> 
> 赞同：0
> 
> 时间：2013-02-11T07:58:10.197
> 
> 标签：java, spring-ws

所以我从 Spring-ws 2 开始，我正在尝试处理包含标题和正文的请求。现在我想确保标头包含某个变量，所以我实现了一个成功输入的 EndpointInterceptorAdapter。

但是，当它不存在时，我会返回 false 并且不会调用我的实际端点，这是我所期望的。但是我仍然想向用户发送一个非空响应。有没有办法实现这一点，或者如果我想实现这一点，我应该只检查端点中的标头吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T15:38:25.987

您可以在 EndpointInterceptorAdapter 中执行以下操作，其中 isNotValid 是您将实施以检查您的请求是否有效的函数。

```
public boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {

if(isNotValid(messageContext)){           
    WebServiceMessage responseMsg = messageContext.getResponse();
    SoapMessage soapMsg = (SoapMessage) responseMsg;

    soapMsg.getSoapBody().addClientOrSenderFault("error !", Locale.ENGLISH);

    return false;
} else {
   return true;
} 
```

# facebook - 使用企业帐户安装应用程序

> ID：14807994
> 
> 赞同：2
> 
> 时间：2013-02-11T07:58:32.957
> 
> 标签：facebook

我在 Facebook 上创建了一个应用程序，并试图阻止企业帐户安装该应用程序。我了解企业帐户（以及扩展页面）无法安装应用程序。这种理解来自我在 Facebook 支持团队的用户发布的 Stack Overflow 上遇到的几篇帖子 -

*   [我可以为我的 fb 业务页面添加“使用 facebook 登录”功能吗？](https://stackoverflow.com/questions/10419172/can-i-add-the-login-using-facebook-feature-for-my-fb-business-page)（由[igy](https://stackoverflow.com/users/21062/Igy)回答）
*   [从 businessaccount 获取数据（由](https://stackoverflow.com/questions/7227208/get-data-from-businessaccount/7229425#7229425)[Jonathan Dean](https://stackoverflow.com/users/850570/jonathan-dean)回答）

一张图片胜过一千字，所以这是一个屏幕截图，证明我能够使用企业帐户安装应用程序 -

![在此处输入图像描述](../Images/48ecfb009c5ecec59675310424bf52f1.png)

从设置页面可以看到，这确实是一个企业账户，并且已经安装了一个应用程序（SomeApp）。

这是否是一个错误（我相信它是）**不是**我的问题。

我的问题是如何检测到这样的企业帐户？我知道在安装应用程序之前我没有关于用户的信息，所以我必须在帐户安装应用程序后检测到这一点。

到目前为止，我的想法是检查以下领域 -

*   `first_name`
*   `last_name`

我也在考虑这个`gender`领域，但我相信这可以设置为私有。

# jsf-2 - 命令按钮不在多个选项卡上调用操作 p:tabView

> ID：14807998
> 
> 赞同：2
> 
> 时间：2013-02-11T07:59:14.530
> 
> 标签：jsf-2, primefaces, commandbutton

我在 p:tabView 中遇到了一个问题，其中 dynamic="true" 我被困了好几天。我有三个选项卡，每个选项卡都有单独的表单和 p:fileUpload 带有用于提交表单和上传文件的命令按钮。问题是我的第一个表单或选项卡工作正常，但其他两个根本不工作或触发命令按钮操作，而是刷新页面。只有在第二次填写表格并按下按钮时才会调用它们。并且要再添加一件事，fileUploadListeners 甚至在所有这些选项卡中都可以正常工作，但是命令按钮将无法工作或触发其他两个选项卡的操作方法（只有第一次填写并提交之后才能正常工作）：

这个primefaces标签有什么问题（我也使用最新版本的primefaces 3.5）还是我弄错了或遗漏了什么？任何类型的指导都会有所帮助。

这是另一个主页中包含的页面代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  

<ui:composition xmlns="http://www.w3.org/1999/xhtml"  
   xmlns:ui="http://java.sun.com/jsf/facelets"  
   xmlns:h="http://java.sun.com/jsf/html"  
   xmlns:f="http://java.sun.com/jsf/core"  
   xmlns:p="http://primefaces.org/ui"  
   template="/MasterPage/Master.xhtml">  

   <ui:define name="Search">  

      <div class="searchBarDiv"></div>  
      <br class="clear" />  

      <div class="resultMainDiv" style="background-color: white;">  
         <p:layout style="width:1218px;height:558px;" id="layout">  

            <p:ajax event="toggle" />  
            <p:layoutUnit position="west" size="300" header="UPDATES"  
               resizable="true" collapsible="true" styleClass="sliderDiv"  
               style="color:pink;">  
            </p:layoutUnit>  

         <p:layoutUnit position="center" styleClass="resultDiv">  
               <div class="uploadDiv">  

                    <p:tabView id="tabview" cache="false" dynamic="true">  
                       <p:tab id="docTab" title="Document">  
                         <h:form id="docf" >  

                          <h:panelGrid id="grid" columns="1">  

                                   <h:panelGroup>  

                                   <h:outputLabel styleClass="advLabel"  
                                       for="mId" value="Title ">  
                                    </h:outputLabel><h:outputLabel style="color: red;">*</h:outputLabel>  
                                 <h:inputText id="mId"  
                                       styleClass="txtfield"  
                                       value="#{documentInsertController.documentTitle}">  

                                    </h:inputText>  
                                   </h:panelGroup>  

                                   <h:panelGroup>  
                                   <h:outputLabel class="advLabel">Dated </h:outputLabel>  
                                 <p:calendar styleClass="txtfield" id="dtxtOrginated"  
                                       mode="popup" navigator="true" yearRange="1900:2015"  
                                       pattern="dd-MMM-yyyy"  
                                       converter="CalendarDateStringConverter"  
                                       value="#{documentInsertController.documentOriginatedOn}" />  

                                   </h:panelGroup>  

                                   <h:panelGroup>  
                                   <h:outputLabel class="advLabel">KeyWord</h:outputLabel><h:outputLabel  
                                    style="color: red;"> *</h:outputLabel>  
                                 <h:inputText id="dtxtKeywordsList"  
                                       value="#{documentInsertController.documentKeywords}"  
                                       styleClass="txtfield"  />  
                                   </h:panelGroup>  

                                      <h:panelGrid rendered="#{renderBean.viewLoad}">  
                                 <h:panelGroup> <h:outputLabel class="advLabel">Select Document</h:outputLabel><h:outputLabel  
                                    style="color: red;"> *</h:outputLabel>  
                                    <p:fileUpload  id="fu" allowTypes="/(\.|\/)(DOC|DOCX|doc|docx|ppt|xls|xlsx|pdf)$/"  
                                multiple="false" mode="advanced" sizeLimit="41949000" showButtons="false"  
                                 fileUploadListener="#{documentInsertController.uploadPListener}" label="Browse"   
                                 value="#{documentInsertController.file}"  >  
                                 <h:message id="docMSG" for="fu"></h:message>  
                                 </p:fileUpload>  

                                    </h:panelGroup>  

                                    <h:panelGroup>  
                                       <p:commandButton id="DocUpoadLoad" styleClass="btn"  
                                 value="Load File For Preview" ajax="false"  
                                 action="#{documentInsertController.loadDocForPreview}"  

                                 style="background-color:#FEAA41;background-image:none;color:white;font-weight:bold;width:170px; height:25px;">  

                              </p:commandButton>  
                                    </h:panelGroup>  
                                    </h:panelGrid>     

               </h:panelGrid>  
                  </h:form>  

                           <p:commandButton id="DocUploadbtn" value="Upload"  
                              action="#{documentInsertController.saveDocument}"  
                              ajax="false"  
                              style="background-color:#FEAA41;background-image:none;color:white;font-weight:bold; ">  

                           </p:commandButton>  

                        </h:panelGrid>        

                     </p:tab>  

                     <p:tab id="imgTab" title="Image">  

                        <h:form id="imagef" >  
                     <h:panelGrid id="grid" columns="1">  
                           <h:panelGroup> <h:outputLabel class="advLabel">Title </h:outputLabel> <h:outputLabel  
                                    style="color: red;"> *</h:outputLabel>  
                                 <h:inputText id="txtImgTitle"  
                                       value="#{mediaInsertController.mediaTitle}"  
                                       styleClass="txtfield" >  
                                    </h:inputText>  
                                     </h:panelGroup>  
                              <h:panelGroup> <h:outputLabel class="advLabel">Taken Date</h:outputLabel>  
                                 <p:calendar styleClass="txtfield"  
                                       id="imgtxtOrginated" mode="popup" navigator="true"  
                                       yearRange="1900:2015" pattern="dd-MMM-yyyy"  
                                       converter="CalendarDateStringConverter"  
                                       value="#{mediaInsertController.mediaTakenOn}" />  
                              </h:panelGroup>  

                              <h:panelGroup> <h:outputLabel class="advLabel">Description</h:outputLabel>  
                                   <h:inputTextarea id="txtImgDescription"  
                                       value="#{mediaInsertController.mediaDescription}"  
                                       styleClass="txtImgDescription" /></h:panelGroup>  

                              <h:panelGroup> <h:outputLabel class="advLabel">Select Image</h:outputLabel><h:outputLabel  
                                    style="color: red;"> *</h:outputLabel>  

                                 <p:fileUpload id="fuImage" allowTypes="/(\.|\/)(jpeg|jpg|png|bmp|gif|GIF|PNG)$/"  
                                multiple="false" mode="advanced" sizeLimit="6291456" showButtons="false"  
                                 label="Browse"   invalidSizeMessage="File exceeds limmit 6 MB "  
                                 value="#{mediaInsertController.file}" fileUploadListener="#{mediaInsertController.uploadPListener}"  />  
                                 <h:message id="imgMSG" for="fuImage"></h:message>  
                                    </h:panelGroup>  

                           <p:commandButton styleClass="btn" id="btnUploadImage_Click" ajax="false"  
                                             value="Upload"  actionListener="#{mediaInsertController.saveImage}"  
                                             style="background-color:#FEAA41;background-image:none;color:white;font-weight:bold; ">  

                              </p:commandButton>  

                           </h:panelGrid>  

                        </h:form>  

                     </p:tab>  

                     <p:tab id="vidTab" title="Video">  

                           <h:form id="videof" >  
                     <h:panelGrid   id="grid" columns="1">  
                                 <h:panelGroup>  
                                 <h:outputLabel class="advLabel">Title </h:outputLabel> <h:outputLabel  
                                    style="color: red;"> *</h:outputLabel>  
                                 <h:inputText id="vtxtTitle"  
                                       value="#{mediaInsertController.mediaTitle}"  
                                       styleClass="txtfield" maxlength="50" >  
                                    </h:inputText></h:panelGroup>  

                              <h:panelGroup> <h:outputLabel class="advLabel">Taken Date</h:outputLabel>  
                                 <p:calendar styleClass="txtfield" id="vtxtOrginated"  
                                       mode="popup" navigator="true" yearRange="1900:2015"  
                                       pattern="dd-MMM-yyyy"  
                                       converter="CalendarDateStringConverter"  
                                       value="#{mediaInsertController.mediaTakenOn}" />  
                              </h:panelGroup>  

                              <h:panelGroup> <h:outputLabel for="txtVidDescription"  
                                       value="Description" styleClass="advLabel"></h:outputLabel>  

                                   <h:inputTextarea id="txtVidDescription"  
                                       value="#{mediaInsertController.mediaDescription}"  
                                       styleClass="txtUploading" style="height:40px" />  
                              </h:panelGroup>  
                              <h:panelGroup> <h:outputLabel class="advLabel">Select Video</h:outputLabel><h:outputLabel  
                                    style="color: red;"> *</h:outputLabel>  

                                 <p:fileUpload id="fuVideo" allowTypes="/(\.|\/)(mp4|flv|swf)$/" invalidFileMessage="Invalid file content"  
                                multiple="false" mode="advanced" sizeLimit="629145699" showButtons="false" update="vidMSG"  
                                 fileUploadListener="#{mediaInsertController.uploadPListener}" label="Browse" invalidSizeMessage="Size exeeds limit 600MB"  
                                 value="#{mediaInsertController.file}" />  
                              <h:message id="vidMSG" for="fuVideo"></h:message>  

                                 </h:panelGroup>  

                           <p:commandButton styleClass="btn" id="btnUploadVideo_Click" ajax="false"  
                              value="Upload" action="#{mediaInsertController.saveVideo}"  
                              style="background-color:#FEAA41;background-image:none;color:white;font-weight:bold; ">  

                           </p:commandButton>  

                           </h:panelGrid>                             

                        </h:form>  

                     </p:tab>  

                    </p:tabView>  

               </div>  

            </p:layoutUnit>  
         </p:layout>  

         <p:growl autoUpdate="true" sticky="true" id="uploadMSG"></p:growl>  

      </div>  
   </ui:define>  
</ui:composition> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T13:20:09.293

你`commandButton id="DocUploadbtn"`在 h:form 之外，这可能会影响事情。`h:panelGrid`同一区域周围似乎还有三个结束标签；会不会是格式错误的 XHTML？