# StackOverflow 问答 15292000-15292999

# xpages - 行中列值的工具提示？

> ID：15292004
> 
> 赞同：0
> 
> 时间：2013-03-08T10:36:15.083
> 
> 标签：xpages, xpages-extlib

是否可以将 dojo 工具提示（扩展库）添加到 viewColumn？我已经尝试将它嵌入到 viewColumn 中，在两列之间，在 viewPanel 中的最后一个 viewColumn 之后，并且所有绑定到 viewColumn-ID 都没有成功。

在源代码中，我可以看到工具提示的 div-tag 已创建，并且在“标签”中具有值，但是当悬停时它不显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-27T14:29:26.367

您可能需要将工具提示放在所需的列（`viewcolumn`标签内）并将`for`属性设置为`_internalViewText`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T13:15:53.243

您可能希望为此使用重复控件而不是视图控件。它的工作量稍微多一些，但给你更好的灵活性。

# sql - How does insertion order affect output inserted value?

> ID：15292008
> 
> 赞同：2
> 
> 时间：2013-03-08T10:36:22.563
> 
> 标签：sql, sql-server-2008

I understand from various sources on the internet that the following sql:

```
insert into mainTable(status)
output inserted.mainid into tmpTable(TARGET_ID)
select '0' from impTable
order by impid asc; 
```

doesn't guarantee that the rows will be inserted in the mainTable in the order specified by the 'order by' in the select statement, although the values in the mainTable identity column (mainid) will be in the correct sequence.

My question is how this affects the inserted.mainid that is output into the tmpTable. Will they be added to the tmpTable in the order rows are inserted in the mainTable or will they folllow the sequence of the generated mainid identity values?

Nevermind the usefulness of the SQL, it's a technical question.

**EDIT:** Fixed the column missmatch in the SQL example

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T10:48:13.617

As you state in your comment `mainid` is an `IDENTITY` column, its value will increase monotonically but, since the value you are inserting are not from `impTable` I don't see how this matters.

Each new `mainId` will get inserted into `tmpTable`. The data will be stored in the order of the clutsered index of `tmpTable`, if `tmpTable` has no clustered index, then the order is undefined. This doesn't matter either way, except for performance reasons. When you select data from `tmpTable` the order of results wil be undefined unless you specify an `ORDER BY`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T10:59:09.137

It does not matter what order rows are stored in the table because you **can't observe** that order. When selecting without `order by` the order is undefined and does not necessarily conform to stored order. The stored order is meaningless for that reason.

There is no way to say "give me all rows in stored order". All you can say is "return them in any order" or "return them in this exact order".

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-11T07:22:59.943

There is no way to know the order.

If you look at this page from MSDN ([http://msdn.microsoft.com/en-us/library/ms177564.aspx](http://msdn.microsoft.com/en-us/library/ms177564.aspx)) you will find the following statement:

"There is no guarantee that the order in which the changes are applied to the table and the order in which the rows are inserted into the output table or table variable will correspond."

# vbscript - 从 WSH 中的 pop3 检索电子邮件？

> ID：15292019
> 
> 赞同：0
> 
> 时间：2013-03-08T10:37:08.147
> 
> 标签：vbscript, jscript, wsh

有没有办法从 WSH 中的 pop3 服务器检索电子邮件？我的目标是从具有特定发件人/主题的电子邮件中获取附件，并解析文件...

我正在使用 microsoft CDO 发送邮件，但无法从服务器获取邮件。

如果可用，我更喜欢标准的 Windows XP 组件。（我工作的地方还没有 Windows 7...）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:37:57.703

我认为我上面的评论将有助于回答你自己，但你还在等待......

> “我正在寻找一个纯 pop3 脚本客户端（我想我什至在 pc 上都没有 Outlook Express ......）”

那么答案是否定的。就是这样，您需要安装一些 POP 或 IMAP 客户端来检索电子邮件。

# javascript - 一个接一个地加载脚本

> ID：15292020
> 
> 赞同：14
> 
> 时间：2013-03-08T10:37:09.303
> 
> 标签：javascript, dom-events

我有这个将**脚本**加载到当前 DOM 中的简单函数：

```
function loadscripts ( async ) {
    if( async === undefined ) {
        async = false;
    }

    var scripts = [];
    var _scripts = ['jquery.min.js', 'bootstrap.min.js', 'plugins.js', 'main.js'];

    for(var s in _scripts) {
        scripts[s] = document.createElement('script');
        scripts[s].type = 'text/javascript';
        scripts[s].src = _scripts[s];
        scripts[s].async = async;

        document.getElementsByTagName('head').appendChild( scripts[s] );
    }
} 
```

它们加载良好，没有错误。我知道以编程方式加载脚本时有事件处理程序：

*   **onreadystatechange**和
*   **加载**等

现在我想做以下事情：

*   从数组加载第一个脚本，当事件处理程序完成时加载下一个，依此类推（递归）。

* * *

抱歉，我没有在我的函数中提供`onreadystatechange`and`onload`事件。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-08T11:09:00.087

我会这样做：

```
LoadScripts();

function LoadScripts(async)
{
    if( async === undefined ) {
        async = false;
    }
    var scripts = [];
    var _scripts = ['jquery.min.js', 'bootstrap.min.js', 'plugins.js', 'main.js'];

    if(async){
        LoadScriptsAsync(_scripts, scripts)
    }else{
        LoadScriptsSync(_scripts,scripts)
    }
}

// what you are looking for :
function LoadScriptsSync (_scripts, scripts) {

    var x = 0;
    var loopArray = function(_scripts, scripts) {
        // call itself
        loadScript(_scripts[x], scripts[x], function(){
            // set x to next item
            x++;
            // any more items in array?
            if(x < _scripts.length) {
                loopArray(_scripts, scripts);   
            }
        }); 
    }
    loopArray(_scripts, scripts);      
}

// async load as in your code
function LoadScriptsAsync (_scripts, scripts){
    for(var i = 0;i < _scripts.length;i++) {
        loadScript(_scripts[i], scripts[i], function(){});
    }
}

// load script function with callback to handle synchronicity 
function loadScript( src, script, callback ){

    script = document.createElement('script');
    script.onerror = function() { 
        // handling error when loading script
        alert('Error to handle')
    }
    script.onload = function(){
        console.log(src + ' loaded ')
        callback();
    }
    script.src = src;
    document.getElementsByTagName('head')[0].appendChild(script);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T10:46:23.923

试试这个：

```
function loadscripts ( async ) {
    if( async === undefined ) {
        async = false;
    }

    var scripts = [];
    var _scripts = ['jquery.min.js', 'bootstrap.min.js', 'plugins.js', 'main.js'];
    for(var s in _scripts) {
        scripts[s] = document.createElement('script');
        scripts[s].type = 'text/javascript';
        scripts[s].src = _scripts[s];
        scripts[s].async = async;
    }
    var loadNextScript = function() {
        var script = scripts.shift();
        var loaded = false;
        document.getElementsByTagName('head').appendChild( script );
        script.onload = script.onreadystatechange = function() {
            var rs = this.readyState;
            if (rs && rs != 'complete' && rs != 'loaded') return;
            if (loaded) return;
            loaded = true;
            if (scripts.length) {
                loadNextScript();
            } else {
                // done
            }
        };
    };
    loadNextScript();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-14T22:38:59.623

你可以用这样的承诺来做到这一点。

```
// loads an individual script
var loadScript = function (path) {
    // generate promise
    return new Promise(function (fulfill, reject) {
        // create object
        var script = document.createElement('script');

        // when it loads or the ready state changes
        script.onload = script.onreadystatechange = function () {
            // make sure it's finished, then fullfill the promise
            if (!this.readyState || this.readyState == 'complete') fulfill(this);
        };

        // begin loading it
        script.src = path;

        // add to head
        document.getElementsByTagName('head')[0].appendChild(script);
    });
};

// this is the one you want
var loadScripts = function (scripts) {
    return scripts.reduce(function (queue, path) {
        // once the current item on the queue has loaded, load the next one
        return queue.then(function () {
            // individual script
            return loadScript(path);
        });
    }, Promise.resolve() /* this bit is so queue is always a promise */);
}; 
```

用法：

```
getScripts(["foo.js", "bar.js"]).then(function () {
    // whatever you want to happen when it's all done
}); 
```

但是它不做任何错误处理，所以如果你需要它，你必须实现它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-11-01T14:07:12.973

必须按给定的 x、y、z 顺序加载脚本，因为我只有几个。这种方法对我有用。无法将它们加载到身体或头部，因为它们很大而且我使用的是静态登录页面。

```
document.addEventListener('DOMContentLoaded', function(event) {
        // initial DOM loaded
        var vendorJS = document.createElement('script');
        vendorJS.src = 'assets/vendor.js';

        var appJS = document.createElement('script');
        appJS.src = 'assets/application.js';

        var envJS = document.createElement('script');
        envJS.src = 'assets/env.js';

        document.body.appendChild(vendorJS);

        vendorJS.onload = vendorJS.onreadystatechange = function() {
            document.body.appendChild(appJS);

            appJS.onload = appJS.onreadystatechange = function() {
                document.body.appendChild(envJS);
            };
        };
}); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2019-05-07T13:50:31.247

**我们可以使用lab.min.js在html中一个接一个地加载脚本。**

该库以同步方式运行。

```
<script>
var _DIR_ = "js/vendor/";

    $LAB.setOptions({
        AlwaysPreserveOrder: true
    });
    $LAB
        .queueScript(_DIR_ + 'jquery-v2-1-3.min.js')
        .queueWait()
        .queueScript(_DIR_ + 'angular.min.js')
        .queueWait()
        .queueScript(_DIR_ + 'socket.io-1.3.5.js')
        .queueScript(_DIR_ + 'angular-bootstrap/ui-bootstrap-tpls.min.js')
        .queueScript(_DIR_ + 'Angular plugins/angular-ui-notification.min.js')
        .runQueue();
</script> 
```

# facebook - Facebook 分享 - img thumb 没有出现

> ID：15292021
> 
> 赞同：0
> 
> 时间：2013-03-08T10:37:17.993
> 
> 标签：facebook, thumbnails, sharing

我有一个页面 Yummitube 。如果我在 Facebook 上分享网页的任何链接，则不会出现图像缩略图。我的 og：图像还可以。

假设 url 是：[http](http://www.yummitube.com/?id=936) ://www.yummitube.com/?id= 936 Meta og:image 如下：图像是可访问的。

此外，Facebook linter 显示我的 og:image 还可以。但是我在 facebook 中粘贴[http://www.yummitube.com/?id=936时没有出现拇指。](http://www.yummitube.com/?id=936)

有任何想法吗？我尝试使用不同大小的图像，但这对我没有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T13:30:01.373

**您在 Open-graph 调试器中的链接：** [https ://developers.facebook.com/tools/debug/og/object?q=http%3A%2F%2Fwww.yummitube.com%2F%3Fid%3D936](https://developers.facebook.com/tools/debug/og/object?q=http%3A%2F%2Fwww.yummitube.com%2F%3Fid%3D936)

**发现问题：**此元数据的解析器结果与输入元数据不匹配。这很可能是由于数据以一种意外的方式排序、为一个属性提供了多个值而只期望一个值、或者给定属性的属性值不匹配造成的。以下是解析结果中未显示的输入属性：'fb:admins'

**找到两个解决方案：**

1.  修剪管理员字符串，因为它很可能会产生一些额外的空间
2.  提供 og:type

# c# - 如何将下拉列表选择值从 MVC 视图发送到控制器的变量 ViewData？

> ID：15292024
> 
> 赞同：0
> 
> 时间：2013-03-08T10:37:22.033
> 
> 标签：c#, javascript, asp.net-mvc

我在我的应用程序中使用 MVC4 和 Razor。我的控制器包含 C# 编码，视图包含 cshtml 代码。我的下拉列表看起来像这样。

```
@Html.DropDownListFor(x => x.StateName, Model.StateList, "--Please Select--") 
```

我想将列表的选定值设置为控制器中的 ViewData 组件。让我知道这样做的所有可能性。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:22:55.217

您可以将选定的值存储在隐藏字段中，并在控制器中获取隐藏字段值，例如..

.cshtm 文件

```
<script language="javascript" type="text/javascript">
 $(document).ready(function () {
    // storing selected value to hidden field
    $("#Selected").val($("#id").val());

    $("#id").change(function () {
        // every time dropdown changes the value will be storing in hidden field
        $("#Selected").val($("#id").val());
    });
)};
</script>

@Html.HiddenFor("Selected")
@Html.DropDownList("id", new SelectList(Model.StateList, "--Please Select--")) 
```

控制器...

您可以读取隐藏字段值，例如..

```
string str = base.Request["Selected"].ToString() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T11:35:40.277

第二种方式ajax调用。

```
<script language="javascript" type="text/javascript">
  $(document).ready(function () {
      // storing selected value to hidden field
      $("#Selected").val($("#id").val()); 

      $("#id").change(function () { 
        $.ajax({
           url: "~/ ControllerName/ActionMethodName",
           type: 'POST',
           cache: false,
           data: { Selected: $("# Selected").val() },
           success: function (data) {
             //
           }
         });
  });
  )};
</script> 
```

控制器：

```
private string ActionMethodName (string Selected)
{
  String value = Selected; 
} 
```

# ios - ios 谷歌地图不允许在其上添加图像

> ID：15292027
> 
> 赞同：0
> 
> 时间：2013-03-08T10:37:28.357
> 
> 标签：ios, google-maps, imageview, google-maps-sdk-ios

我想在谷歌地图上使用 imageview 放置静态图像。但它没有显示该图像。所以有什么想法可以在谷歌地图上放置 imageview 吗？提前致谢。请帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T13:14:29.660

您可以使用地面叠加层或标记（取决于您是否希望它与地图一起缩放），但它们都使用 a `UIImage`，而不是 a `UIImageView`。

# python - Python 命令行程序：从现有文档生成手册页并包含在发行版中

> ID：15292028
> 
> 赞同：13
> 
> 时间：2013-03-08T10:37:28.567
> 
> 标签：python, python-sphinx, distutils

遵循（希望）常见的做法，我有一个 Python 包，其中包含多个模块和一个单独`scripts`目录中的可执行脚本，如可以在[此处](http://bitbucket.org/steko/totalopenstation/src)看到的。

除了 optparse 提供的自动生成帮助之外，脚本的文档与 Sphinx 子目录中的包文档一起。我在尝试着：

1.  从现有文档生成脚本的手册页
2.  在发行版中包含手册页

我可以使用 Sphinx、`man_pages`设置和`sphinx-build -b man`. 所以我可以调用`python setup.py build_sphinx -b man`并在`build/sphinx/man`目录中生成手册页。

现在我希望能够将生成的手册页包含在分发 tarball 中，以便 GNU/Linux 打包程序可以找到它并将其安装到正确的位置。诸如此类的各种选项`package_data`似乎在这里不起作用，因为手册页在 Sphinx 生成之前不存在。这也适用于 i18n 文件（`.mo`vs`.po`文件）。

包含不属于源的文件`MANIFEST.in`似乎不正确。将生成的文件提交到源存储库的可能性看起来很糟糕，我想避免它。

> 应该有一种——最好只有一种——明显的方法来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-29T20:37:33.773

要在您的发行版中添加静态手册页，您可以将它们添加到`MANIFEST`文件中。

```
recursive-include docs *.txt
recursive-include po *.po
recursive-include sample_data *
recursive-include data *.desktop *.svg *.png
include COPYING.txt
include README.txt
recursive-include man_pages 
```

`man_pages`包含生成的手册页副本的目录在哪里。

另见： http: [//linuxmanpages.com/man1/man.1.php](http://linuxmanpages.com/man1/man.1.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-21T01:30:18.563

我可能会在调用 distutils.core.setup 之前让 setup.py 生成手册页。请记住，setup.py 一级是 python 代码。即使没有安装 sphinx，您也想测试并确保它可以工作（除非您需要 sphinx）。因此，如果手册页已经存在并且 sphinx 不可用，请不要失败。这样，在没有 sphinx 的情况下解压您的源代码分发包的人仍然可以运行 setup.py build 和其他目标。

另一种选择是检查手册页，但像你一样，我觉得那很难看。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T15:57:27.720

我之前看到的事情是为您的文档提供构建目标，并在 README 文件中明确说明文档包含手册页并且可以通过运行该构建目标来构建。包维护者然后在包创建过程中构建您的文档并打包它们。

fedora 18 rpm 适用于例如，用于[hawkey](https://github.com/akozumpl/hawkey)我还看到其他 rpm 在构建源代码的同时遵循构建文档的模型，然后将其打包。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-11T17:32:11.160

这个问题值得一个更好的答案，不仅仅是因为这个问题已经困扰了我一段时间。所以这是我的实现。

*   从我的 github 项目下载`build_manpage.py`（这里是[build_manpage 的链接](https://raw.githubusercontent.com/pwman3/pwman3/d718a01fa8038893e42416b59cdfcda3935fe878/build_manpage.py)）
*   将其保存在可以将其导入 setup.py 的位置

    ```
    # inside setup.py
    from setuptools import setup
    from build_manpage import BuildManPage

    ...
    ...

    setup(
    ...
    ...
    cmdclass={
    'build_manpage': BuildManPage,
    ) 
    ```

现在您可以像这样调用`setup.py`：

```
$ python setup.py build_manpage --output=prog.1 --parser=yourmodule:argparser 
```

# listview - jQuery 移动列表视图拆分按钮，仅右键

> ID：15292033
> 
> 赞同：5
> 
> 时间：2013-03-08T10:37:33.930
> 
> 标签：listview, jquery-mobile, split-button

请参阅此示例[http://view.jquerymobile.com/1.3.0/docs/widgets/listviews/](http://view.jquerymobile.com/1.3.0/docs/widgets/listviews/) 部分：拆分按钮

在该示例中，左右部分都是按钮。我怎样才能得到只有**右边部分**是按钮（左边只是一个基本的只读文本）？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:06:19.253

# 解决方案

这是一个从官方拆分按钮示例制作的工作示例：http: [//jsfiddle.net/Gajotres/nwg5b/](http://jsfiddle.net/Gajotres/nwg5b/)

您需要做的是从第一个标签中删除 href="#" ：

改变这个：

```
<li><a href="#">
    <img src="../../_assets/img/album-bb.jpg">
    <h2>Broken Bells</h2>
    <p>Broken Bells</p></a>
    <a href="#purchase" data-rel="popup" data-position-to="window" data-transition="pop">Purchase album</a>
</li> 
```

对此：

```
<li><a>
    <img src="../../_assets/img/album-bb.jpg">
    <h2>Broken Bells</h2>
    <p>Broken Bells</p></a>
    <a href="#purchase" data-rel="popup" data-position-to="window" data-transition="pop">Purchase album</a>
</li> 
```

最后，您需要深入了解 jQuery Mobile css。想想你想使用的主题（示例中使用了主题 c）。打开 jQuery Mobile css 并搜索此类：**.ui-btn-up-c**其中 c 是主题 c（例如，如果使用主题 a 则搜索**.ui-btn-up-a**）。

复制其内容并将重要的内容放在每一行的末尾。在这个新的 css 块的末尾添加这一行：

```
cursor: default !important; 
```

并根据需要命名（例如：readonly-state-c）。它应该看起来像这样：

```
.readonly-state-c {
    background: #eee !important;
    font-weight: bold !important;
    color: #2F3E46 !important;
    text-shadow: 0 /*{c-bup-shadow-x}*/ 1px /*{c-bup-shadow-y}*/ 0 /*{c-bup-shadow-radius}*/ #ffffff /*{c-bup-shadow-color}*/ !important;
    background-image: -webkit-gradient(linear, left top, left bottom, from( #ffffff /*{c-bup-background-start}*/), to( #f1f1f1 /*{c-bup-background-end}*/)) !important; /* Saf4+, Chrome */
    background-image: -webkit-linear-gradient( #ffffff /*{c-bup-background-start}*/, #f1f1f1 /*{c-bup-background-end}*/) !important; /* Chrome 10+, Saf5.1+ */
    background-image:    -moz-linear-gradient( #ffffff /*{c-bup-background-start}*/, #f1f1f1 /*{c-bup-background-end}*/) !important; /* FF3.6 */
    background-image:     -ms-linear-gradient( #ffffff /*{c-bup-background-start}*/, #f1f1f1 /*{c-bup-background-end}*/) !important; /* IE10 */
    background-image:      -o-linear-gradient( #ffffff /*{c-bup-background-start}*/, #f1f1f1 /*{c-bup-background-end}*/) !important; /* Opera 11.10+ */
    background-image:         linear-gradient( #ffffff /*{c-bup-background-start}*/, #f1f1f1 /*{c-bup-background-end}*/) !important;   
    cursor: default !important;
} 
```

从中创建新类并将其放在第一个标签中，如下所示：

```
<li><a class="readonly-state-c">
    <img src="http://view.jquerymobile.com/1.3.0/docs/_assets/img/album-bb.jpg">
    <h2>Broken Bells</h2>
    <p>Broken Bells</p></a>
    <a href="#purchase" data-rel="popup" data-position-to="window" data-transition="pop">Purchase album</a>
</li> 
```

就是这样。

# 更多信息

如果您想自己学习如何进行这种更改，您应该查看这篇**[文章](http://www.gajotres.net/learn-how-to-customize-jquery-mobile-application/)**，它将教您如何自己进行。

# html - 在本地主机上运行 Asky BrowserQuest

> ID：15292035
> 
> 赞同：3
> 
> 时间：2013-03-08T10:37:39.153
> 
> 标签：html, node.js, localhost

我一直试图在我的本地机器上运行 Askys 版本的 BrowserQuest - 但没有任何运气。

尝试启动服务器时出现以下错误：

```
 server/js/databasehandler.js error message:
  var cls = require("./lib/class"),
  Player = require('./player'),
  Messages = require("./message"),
  redis = require("redis"),
  client = redis.createClient(xxxx, xxxx, {socket_nodelay: true}); 
```

`xxxx xxxx`当我收到另一个错误时，我还尝试更改为我的 redis 服务器（databasehandler.js 文件）的端口和主机： `Unexpected number`.

Askys BrowserQuest： [https ://github.com/browserquest/BrowserQuest-Asky](https://github.com/browserquest/BrowserQuest-Asky)

普通版和 Askys 在安装方面有什么不同吗？我已经启动并运行了 BrowserQuest 的原始版本，但 Asky 没有任何工作，一直遵循 [https://github.com/mozilla/BrowserQuest/tree/master/server](https://github.com/mozilla/BrowserQuest/tree/master/server)的自述文件和“教程” 。

# iphone - 如何从 NSMutableArray 中删除 NULL 值？IOS

> ID：15292037
> 
> 赞同：7
> 
> 时间：2013-03-08T10:37:45.830
> 
> 标签：iphone, ios, nsmutablearray, nsnull

我有一个生日数组，因为数组是从 Facebook 填充的，所以有些朋友的生日是私有的，所以它包含 NULL 如何像空字符串一样转换该数组，只要有空值，数组如下所示

```
"<null>",
"10/29/1988",
"11/13",
"03/24/1987",
"04/25/1990",
"03/13",
"01/01",
"<null>",
"12/15/1905",
"07/10",
"11/02/1990",
"12/30/1990",
"<null>",
"07/22/1990",
"01/01",
"07/17/1989",
"08/28/1990",
"01/10/1990",
"06/12/1990", 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-08T10:42:55.597

这些`null`值似乎是字符串文字`@"<null>"`，而不是`NSNull`通常用于`nil`在 Cocoa 集合中表示 s 的对象。您可以使用`NSArray`'s`filteredArrayUsingPredicate`方法将它们过滤掉：

```
NSArray *filtered = [original filteredArrayUsingPredicate:pred]; 
```

有几种制作方法`pred`，其中一种是

```
NSPredicate *pred = [NSPredicate predicateWithBlock:^BOOL(id str, NSDictionary *unused) {
    return ![str isEqualToString:@"<null>"];
}]; 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-06-24T18:49:44.630

您必须使用它来删除实际的 [NSNull null] 值。

```
 [array removeObjectIdenticalTo:[NSNull null]]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-08T10:42:09.547

这对我有用：

```
NSMutableArray *array = [NSMutableArray arrayWithObjects:
                         @"<null>",
                         @"10/29/1988",
                         @"11/13",
                         @"03/24/1987",
                         @"04/25/1990",
                         @"03/13",
                         @"01/01",
                         @"<null>",
                         @"12/15/1905",
                         @"07/10",
                         @"11/02/1990",
                         @"12/30/1990",
                         @"<null>",
                         @"07/22/1990",
                         @"01/01",
                         @"07/17/1989",
                         @"08/28/1990",
                         @"01/10/1990",
                         @"06/12/1990", nil];
NSLog(@"%d", [array count]);
NSString *nullStr = @"<null>";
[array removeObject:nullStr];
NSLog(@"%d", [array count]); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-06-01T17:19:54.243

为了删除空值使用：

> ```
> [yourMutableArray removeObjectIdenticalTo:[NSNull null]]; 
> ```

你不需要迭代。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-08-06T23:36:36.707

```
 for(int i = 0;[yourMutableArray count] > 0;i++){
            if([yourMutableArray isKindOfClass:[NSNull class]]){ // indentifies and removes null values from mutable array

            [yourMutableArray removeObjectAtIndex:i];
                            // or 
            [yourMutableArray replaceObjectAtIndex:i withObject:@"No date available"];

            NSLog(@"*** %@",yourMutableArray);
            }
       } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-03-08T07:10:11.293

对于json响应，我删除了这样的空值

```
NSArray *arr = [NSArray arrayWithObjects:_IDArray, _TypeArray, _NameArray, _FlagArray, nil];
for (int i=0; i<_integer; i++) {
// My json response assigned to above 4 arrayes

    //Now remove null values 
    //Remove null values
    for (int j=0; j<arr.count; j++) {
         for (NSMutableArray *ar in arr) {
              if ([[ar objectAtIndex:i] isKindOfClass:[NSNull class]] || [[ar objectAtIndex:i] isEqualToString:@"null"]) {
                  [ar addObject:@""];//Add empty value before remove null value
                  [ar removeObjectAtIndex:i];
              }
         }
    }

} 
```

现在删除空值

//将数组添加到可变数组以删除空对象

```
NSArray *marr = [NSArray arrayWithObjects:_IDArray, _TypeArray, _NameArray, _FlagArray, nil];
//Remove empty objects from all arrays
for (int j=0; j<marr.count; j++) {
     for (int i=0; i<[[marr objectAtIndex:j] count]; i++) {
          if ([[[marr objectAtIndex:j] objectAtIndex:i] isEqualToString:@""]) {
              [[marr objectAtIndex:j] removeObjectAtIndex:i];
          }
      }
} 
```

# android - 在android中设置语言环境

> ID：15292042
> 
> 赞同：0
> 
> 时间：2013-03-08T10:37:53.060
> 
> 标签：android, locale, android-location

在设置应用程序中，选择语言和键盘然后选择一种语言时，我发现了大约30种语言的多种语言（英语，法语，日语，...）的列表。但我只想找到大约 10 种我选择的语言。在语言设置应用程序中，我找到了以下代码：

```
String[] locales = getAssets().getLocales(); 
```

我认为这段代码带来了 android 内部类的语言环境。那么如何修改它以仅带来我想要的语言环境（英语，法语，西班牙语......）谢谢

# c++ - 缓存链表 - 有可能吗？

> ID：15292043
> 
> 赞同：0
> 
> 时间：2013-03-08T10:37:59.903
> 
> 标签：c++, c, caching, memory-management, memory-alignment

我知道数组可以通过适应缓存行以及它们的顺序性来充分利用 x86_64 架构上的缓存机制。链表是一系列通过指针链接在一起的结构/对象，是否可以利用这种结构的缓存系统？链表的对象可以分配在内存中的任何位置

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T10:44:14.307

确实，链表条目*可以在任何地方，但**它们*不必“在任何地方”。例如，您可以将它们分配到“区域”之外。一次分配一堆连续的条目，将它们串在一起形成一个“连续的空闲条目”列表，然后将它们打包出来。根据需要分配另一个 zone-full。使用一些不太干净的技巧，您最终可以重新线性化释放的条目，等等。

不过，在大多数情况下，实际上并不值得付出所有这些努力。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T10:42:21.050

每个链表元素可以有多个条目，即每个元素中有一个小的条目数组。这允许缓存一些条目，同时仍保持列表的动态特性。

这是一个[展开的列表](http://en.wikipedia.org/wiki/Unrolled_linked_list)，可以为您提供所需的内容。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T10:44:45.813

您可能有一个链表元素包含超过 1 个数据条目。例如考虑下面的结构。

```
struct myll{
    int data[16];
    char valid[16/8];
    struct myll* next;
} 
```

这样，您将粒度设置为每个节点 16 个条目。但是，您仍然可以选择使用另一个节点添加超过 16 个条目并使用“有效”标志删除。实施起来有点痛苦，但取决于您的要求。

我想，*有些文件系统使用了一些类似*的机制。

# umbraco - 设置 Umbraco 索引

> ID：15292045
> 
> 赞同：2
> 
> 时间：2013-03-08T10:38:01.947
> 
> 标签：umbraco, indexing, lucene

我已经使用 Umbraco 6.02 创建了一个站点，现在我正在检查站点的所有最终配置，并且我已经来到索引。我做了一些研究，但我无法简单地找到我需要在每个部分中包含的内容以及原因。

`<IndexUserFields>`我应该在索引部分中包含哪些字段？它只是我将用于搜索的`currentNode.Children(x => x.bodyText.Contains("*"))?`字段，例如： 还是我将用于对节点进行排序的字段，例如`date field`用于新闻文章的字段？或者还有更多的东西吗？

我需要在`<IncludeNodeTypes>`部分和`<ExcludeNodeTypes>`部分中放入哪些文档类型，为什么？

我是将我的字段添加到已经创建的索引之一，还是我自己创建？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-02-20T13:30:37.627

旧帖子，但可能会在此过程中帮助某人。

* * *

[http://umbraco.com/follow-us/blog-archive/2011/9/16/examineing-examine.aspx](http://umbraco.com/follow-us/blog-archive/2011/9/16/examining-examine.aspx)

您可以创建自定义索引（如果您愿意）来锁定您正在执行的搜索类型。很多时候，您的页面某处有一个搜索框，而您只想搜索某些`doc types`内容及其相关内容。

请记住，您可以创建新的索引集，但请记住，您需要在`Config/ExamineSettings.config`文件和文件中注册它们`Config/ExamineIndex.config`。

上面的链接是我如何让我的链接正常工作，以便在`NodeTypes`配置中搜索 (2) 不同的文档类型（Examine 使用 as ）。

**下面的设置是使用已经默认创建的`ExternalIndexer`，而不是新创建的自定义设置。**

* * *

您要编辑的文件位于`Config/ExamineIndex.config`. 您要编辑的集合是`ExternalIndexSet`（默认情况下）。该路径将指向`external`临时文件夹

```
 <IndexSet SetName="ExternalIndexSet" IndexPath="~/App_Data/TEMP/ExamineIndexes/External/"> 
```

对于字段，位于该`IndexUserFields`部分中，它们是您在文档类型上定义的自定义属性

```
<IndexUserFields>
  <add Name="itemNumber" />    <-- custom property
  <add Name="productName" />   <-- custom property
</IndexUserFields> 
```

您想要的`doc types`(NodeTypes) 是您为文档类型命名的任何内容。请记住，这些是别名，而不是名称

```
<IncludeNodeTypes>
  <add Name="Product" />  <-- document type
  <add Name="Variant" />  <-- document type
</IncludeNodeTypes> 
```

请记住，在设置完此设置后，您要重新索引您的考试。您可以通过登录 Umbraco 的后端并转到`Developer`，然后单击显示的选项卡来完成此操作`Examine Management`。

请注意，接口是`Umbraco 7`，但配置文件仍然适用于`v6`.

![在此处输入图像描述](../Images/c6c5d1a461d5a205a8276a5e2e64c9af.png)

# sql-server - MDX SSAS 2008 去年计算 - 闰年问题

> ID：15292047
> 
> 赞同：0
> 
> 时间：2013-03-08T10:38:08.140
> 
> 标签：sql-server, ssas, mdx

我有计算上一年的值的计算，通过以下方式实现：

```
([Measures].[SalesAmount LY], Leaves([Time])) = 
(
     PARALLELPERIOD
     (
          [Time].[Year - Month - Day].[Year],
          1,
          [Time].[Year - Month - Day].currentmember
     ), 
     [MEASURES].[SalesAmount]
 ) 
```

我这样做是因为仅使用 PARALLELPERIOD 会导致在仅选择几个月时导致不正确的总计算。它工作得很好。

但是，现在我面临闰年的以下问题：

```
Month         SalesAmount  SalesAmount LY
------------- ------------ ---------------
January 2012  1000
February 2012 1100         --Leap year - 29.February
January 2013  1200         1000
February 2013 1300         1050 
```

缺失值（在本例中为 1100 - 1050 = 50）正好等于 29.2.2012 的值。

有谁知道如何解决这个问题？如何让闰年正常工作，同时仍保持正确的总计行为？任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T15:37:21.567

这能帮上忙吗？

```
PARALLELPERIOD
(
  [Time].[Year - Month - Day].[Year],
  1,
  ISLEAF([Time].[Year - Month - Day].currentmember),
  Ancestor([[Time].[Year - Month - Day].currentmember, [Time].[Year - Month - Day].[Month]),
  [Time].[Year - Month - Day].currentmember)
), 
[MEASURES].[SalesAmount] 
```

如果当前成员是 Day，它将引用他的月父级，因此该月是 28 天还是 29 天都没有关系。

# mysqli - 这个查询有问题吗？新的 mysqli 命令

> ID：15292055
> 
> 赞同：-1
> 
> 时间：2013-03-08T10:38:50.173
> 
> 标签：mysqli

mysqli中的这个查询有问题吗？我从mysql转换它，当时工作得很好，但现在不行

```
mysqli_query($con,"SELECT * FROM signed_out_students WHERE date = '$date6' AND time_in = '' order by time_out DESC"); 
```

这就是它适合实际代码的方式。我知道数据库中有今天日期的条目，但它没有显示它们？丁：

```
else if (out == $display) {
    date_default_timezone_set('NZ');
$date6 = date('d.m.Y');
$result4 = mysqli_query($con,"SELECT * FROM signed_out_students WHERE date = '$date6' AND time_in = '' order by time_out DESC");
  echo '<table border="0">';
  echo '<tr>';
  echo '<td width="70px"><h2>Date</h2>';
  echo '</td>';
  echo '<td width="150px"><h2>Name</h2>';
  echo '</td>';
  echo '<td width="90px"><h2>Form Class</h2>';
  echo '</td>';
  echo '<td width="70px"><h2>Time Out</h2>';
  echo '</td>';
  echo '<td width="70px"><h2>Time In</h2>';
  echo '</td>';

while($row4 = mysqli_fetch_array($result4))
  {
  echo '<tr>';
  echo '<td><p>' . $row4['date'];
  echo '</td>';
  echo '<td><p>' . $row4['name'];
  echo '</td>';
  echo '<td><p>' . $row4['form_class'];
  echo '</td>';
  echo '<td><p>' . $row4['time_out'];
  echo '</td>';
  echo '<td><p>' . $row4['time_in'];
  if ($row['time_in'] == "") { echo '-';}
  echo '</td>';

  }
  echo '</table>';
} 
```

多谢你们！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:47:02.653

> mysqli中的这个查询有问题吗？

是的很多。

1.  你没有检查错误
2.  您没有使用占位符
3.  您正在使用 mysqli，而必须使用 PDO。

从这里开始：[https ://stackoverflow.com/tags/pdo/info](https://stackoverflow.com/tags/pdo/info)

此外，作为旁注，您的日期必须采用`'Y-m-d'`格式。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-08T10:40:30.870

从 Query 中的变量中删除单引号：

```
mysqli_query($con,"SELECT * FROM signed_out_students WHERE date = $date6 AND time_in = '' order by time_out DESC"); 
```

# hadoop - 如何实现产生大于最大堆的输出值的Java MapReduce？

> ID：15292061
> 
> 赞同：0
> 
> 时间：2013-03-08T10:39:07.593
> 
> 标签：hadoop, mapreduce

我需要处理一个 9 GB 的 CSV 文件。在 MR 期间，它必须进行一些分组并为遗留系统生成一种特殊格式。

输入文件如下所示：

```
AppId;Username;Other Fields like timestamps...
app/10;Mr Foobar;...
app/10;d0x;...
app/10;Mr leet;...
app/110;kr1s;...
app/110;d0x;...
... 
```

输出文件非常简单，如下所示：

```
app/10;3;Mr Foobar;d0x;Mr leet
app/110;2;kr1s;d0x
^       ^ ^^^^^^^^
\ AppId \         \ A list with all users playing the game
         \
          \ Ammount of users 
```

为了解决这个问题，我编写了一个返回`AppId`as **Key**和`Username`as **value**的映射器。有了这个映射阶段运行良好。

问题发生在减少阶段。在那里我会得到一个`Iterator<Text> userIds`可能包含一个包含很多用户 ID (>5.000.000) 的列表。

处理这个的 reducer 看起来像这样：

```
public class UserToAppReducer extends Reducer<Text, Text, Text, UserSetWritable> {
    final UserSetWritable   userSet = new UserSetWritable();

    @Override
    protected void reduce(final Text appId, final Iterable<Text> userIds, final Context context) throws IOException, InterruptedException {
        this.userSet.clear();

        for (final Text userId : userIds) {
            this.userSet.add(userId.toString());

        }
        context.write(appId, this.userSet);
    }   
} 
```

这`UserSetWritable`是一个存储用户列表的自定义可写对象。这是生成输出所必需的（键 = appId，值 = 用户名列表）。

这是电流的`UserSetWritable`样子：

```
 public class UserSetWritable implements Writable {
    private final Set<String>   userIds = new HashSet<String>();

    public void add(final String userId) {
        this.userIds.add(userId);
    }

    @Override
    public void write(final DataOutput out) throws IOException {
        out.writeInt(this.userIds.size());

        for (final String userId : this.userIds) {
            out.writeUTF(userId);
        }
    }

    @Override
    public void readFields(final DataInput in) throws IOException {
        final int size = in.readInt();

        for (int i = 0; i < size; i++) {
            this.userIds.add(readUTF);
        }

    }

    @Override
    public String toString() {
        String result = "";
        for (final String userId : this.userIds) {
            result += userId + "\t";
        }

        result += this.userIds.size();
        return result;
    }

    public void clear() {
        this.userIds.clear();
    }

 } 
```

使用这种方法，我得到了 Java HeapOutOfMemory 异常。

```
Error: Java heap space
attempt_201303072200_0016_r_000002_0: WARN : mapreduce.Counters - Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead
attempt_201303072200_0016_r_000002_0: WARN : org.apache.hadoop.conf.Configuration - session.id is deprecated. Instead, use dfs.metrics.session-id
attempt_201303072200_0016_r_000002_0: WARN : org.apache.hadoop.conf.Configuration - slave.host.name is deprecated. Instead, use dfs.datanode.hostname
attempt_201303072200_0016_r_000002_0: FATAL: org.apache.hadoop.mapred.Child - Error running child : java.lang.OutOfMemoryError: Java heap space
attempt_201303072200_0016_r_000002_0:   at java.util.Arrays.copyOfRange(Arrays.java:3209)
attempt_201303072200_0016_r_000002_0:   at java.lang.String.<init>(String.java:215)
attempt_201303072200_0016_r_000002_0:   at java.nio.HeapCharBuffer.toString(HeapCharBuffer.java:542)
attempt_201303072200_0016_r_000002_0:   at java.nio.CharBuffer.toString(CharBuffer.java:1157)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.io.Text.decode(Text.java:394)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.io.Text.decode(Text.java:371)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.io.Text.toString(Text.java:273)
attempt_201303072200_0016_r_000002_0:   at     com.myCompany.UserToAppReducer.reduce(UserToAppReducer.java:21)
attempt_201303072200_0016_r_000002_0:   at     com.myCompany.UserToAppReducer.reduce(UserToAppReducer.java:1)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.mapreduce.Reducer.run(Reducer.java:164)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:610)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:444)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.mapred.Child$4.run(Child.java:268)
attempt_201303072200_0016_r_000002_0:   at java.security.AccessController.doPrivileged(Native Method)
attempt_201303072200_0016_r_000002_0:   at javax.security.auth.Subject.doAs(Subject.java:396)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1408)
attempt_201303072200_0016_r_000002_0:   at org.apache.hadoop.mapred.Child.main(Child.java:262) 
```

`UserToAppReducer.java:21`这条线是：`this.userSet.add(userId.toString());`

在同一个集群上，我可以使用这个猪脚本处理数据：

```
set job.name convertForLegacy
set default_parallel 4
data = load '/data/...txt' 

using PigStorage(',') 
as (appid:chararray,uid:chararray,...);
grp = group data by appid;
counter = foreach grp generate group, data.uid, COUNT(data);
store counter into '/output/....' using PigStorage(','); 
```

那么如何用 MapReduce 解决这个 OutOfMemoryException 呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T01:01:12.293

写出“大”值的类似问题：[Handling large output values from reduce step in Hadoop](https://stackoverflow.com/questions/10140171/handling-large-output-values-from-reduce-step-in-hadoop)

除了使用这个概念来写出大型记录（获取您想要的 100,000 个用户的 CSV 列表）之外，您还需要使用复合键（App ID 和用户 ID）和自定义分区器来确保所有单个 App ID 的键进入 reducer。

有些人喜欢[这个要点](https://gist.github.com/chriswhite199/5121876)（未经测试）。

# android - 无法在 Eclipse 中为 Google Map API v2 方法获取自动建议

> ID：15292062
> 
> 赞同：0
> 
> 时间：2013-03-08T10:39:09.297
> 
> 标签：android, eclipse

Eclipse 没有为“Google Map API V2”的方法提供自动建议。我的意思是，如果我将鼠标悬停在该方法上，它并没有说明该元素......但它说**这个元素既没有附加源也没有附加 Javadoc，因此找不到 Javadoc。**

我无法在互联网和 stackoverflow 上找到解决方案。帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:52:23.787

javadoc 的路径将在 jar 文件本身中为您提供 android jar 文件它将在 jar 文件中，因此 eclipse 将能够找到源代码并向您显示方法描述左右，但对于 Google map API v2 google 没有提供此类文档，因此您必须参考 Web 以获取文档

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T10:53:26.500

您可以将库的*Javadoc*位置更改为以下位置：

```
Referenced Libraries > right click on your .jar > Javadoc Location 
```

# android - Android 通过 DownloadManager 下载文件无法正常工作

> ID：15292063
> 
> 赞同：3
> 
> 时间：2013-03-08T10:39:15.003
> 
> 标签：android, download, download-manager

我正在尝试通过 DownloadManager 下载文件，它在大多数手机（Nexus 系列、S3 等）上都能完美运行，但在 Galaxy S2 上由于某种原因下载有效，但文件名设置错误，当我尝试打开它（从通知，或者下载应用程序）它说文件无法打开，即使是 jpeg、gif、png 等文件也是如此。

![在此处输入图像描述](../Images/9556dfddfcdd4c000f640f79b1cbdc4c.png)

这是代码：

```
DownloadManager downloadManager = (DownloadManager) service
                .getSystemService(Context.DOWNLOAD_SERVICE);
        DownloadManager.Request downloadReq = new DownloadManager.Request(
                Uri.parse(URL));
        downloadReq
                .setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI
                        | DownloadManager.Request.NETWORK_MOBILE);
        downloadReq.allowScanningByMediaScanner();
        downloadReq.setMimeType(attachment.mimeType);
        downloadReq.setTitle(attachment.fileName);
        downloadReq.setDescription("attachment");
        downloadReq.setDestinationInExternalFilesDir(service,
                Environment.DIRECTORY_DOWNLOADS, "");
        downloadReq
                .setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE
                        | DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);

        downloadIDs.add(downloadManager.enqueue(downloadReq)); 
```

另请注意，所有网址都是https，手机的android版本是4.1.2 知道吗？

非常感谢！

更新：如果我在此调用中添加文件名：

```
downloadReq.setDestinationInExternalFilesDir(service,
                Environment.DIRECTORY_DOWNLOADS, attachment.fileName); 
```

好名字显示在通知中心。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:16:23.990

您应该注册自己以在文件下载完成时接收广播。在那里你也可以获取文件名。这将需要对代码进行一些更改：

保留从 enqueue 调用返回的 ID：

```
long enqueue = downloadManager.enqueue(downloadReq); 
```

注册接收器以获取广播：

```
getApplicationContext().registerReceiver(receiver, new IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE)); 
```

声明接收者：

```
BroadcastReceiver receiver = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        String action = intent.getAction();
        if (!DownloadManager.ACTION_DOWNLOAD_COMPLETE.equals(action)) {
            return;
        }
        context.getApplicationContext().unregisterReceiver(receiver);
        Query query = new Query();
        query.setFilterById(enqueue);
        Cursor c = dm.query(query);
        if (c.moveToFirst()) {
            int columnIndex = c.getColumnIndex(DownloadManager.COLUMN_STATUS);
            if (DownloadManager.STATUS_SUCCESSFUL == c.getInt(columnIndex)) {

                String uriString = c.getString(c.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));
                Log.i(TAG, "downloaded file " + uriString);                    
            } else {
                Log.i(TAG, "download failed " + c.getInt(columnIndex));                    
            }
        }
    }
}; 
```

假设下载的文件名不是好的做法。如果您再次下载它而不删除前一个，它将自动获得一个后缀。

# batch-file - 通过批处理生成 Dynamics AX pdf 文件

> ID：15292065
> 
> 赞同：0
> 
> 时间：2013-03-08T10:39:20.387
> 
> 标签：batch-file, axapta, dynamics-ax-2009, x++

我通过服务器批处理作业（使用 runbasebatch 类和 reportRun 类）根据报告生成 pdf 文件，如果我不安排作业只是执行类，它工作得很好，我有可读的 pdf 文件，如果安排好了，我的 pdf 文件是已损坏，它们的大小均为 1 ko。在这种情况下，我的批处理历史记录没有错误。有任何想法吗？提前致谢

使用 AX 2009 no SP1，AOS 上的 acrobat reader 7 已删除任何图像徽标

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T23:07:33.263

如果报告中有图像，则问题在于[Image 类](http://msdn.microsoft.com/en-us/library/aa636710%28v=ax.50%29.aspx)只能在客户端上运行。

您可以使用 System.Drawing.Image 类修复批处理报告中的图像。在我的一位同事的博客文章中阅读有关如何更改代码的完整详细信息，他已经为我们解决了这个问题。

[Kevinroos.be Dynamics AX 批量打印徽标](http://www.kevinroos.be/2011/01/dynamics-ax-printing-logos-from-batch/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T15:30:48.177

尝试删除报告中的所有图像。

这是在某些 CU 之前的 AX 2009 中的图像批量打印错误。

# displaytag - 我可以自定义 displayTag 的分页行为吗？

> ID：15292066
> 
> 赞同：0
> 
> 时间：2013-03-08T10:39:21.297
> 
> 标签：displaytag

我想修改 displayTag 的分页行为。

让我解释一下它是如何工作的。

首先，显示分页中的所有前 20 页。

< 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20 >

上面的右箭头**不会转到第 21 页**（它不是下一个按钮），但会**显示下一组 20 页。**

< 21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40 >

总之，左右箭头将显示下一页/上一页 20 页，而不仅仅是下一页/上一页。

是否可以修改这样的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T22:48:12.660

您可以制作自己的分页，然后像这样使用它

```
<display:setProperty name="paging.banner.full">
   ${yourOwnPagination}
</display:setProperty> 
```

也许您还需要更改一些其他参数`paging.banner...`。

# android - 如何以编程方式设置 Google Analytics api 密钥？

> ID：15292068
> 
> 赞同：2
> 
> 时间：2013-03-08T10:39:26.830
> 
> 标签：android, google-analytics, easytracker

我找不到如何做到这一点。有这个文档：[https](https://developers.google.com/analytics/devguides/collection/android/v2/advanced) ://developers.google.com/analytics/devguides/collection/android/v2/advanced - 它显示了这种方法：

```
gaInstance.getTracker(trackingId) 
```

哪里 trackingId 是api键，但我认为只有在跟踪器已经配置好之后才能使用它？不是*设置*api密钥。

我需要这个，因为我的应用程序必须根据特定的服务器配置跟踪不同的帐户。服务器将向我发送要跟踪的 api 密钥。

提前致谢。

PS我正在使用谷歌分析V2。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T15:07:53.833

我这样做了：

```
GoogleAnalytics gaInstance = GoogleAnalytics.getInstance(context);
Tracker gaTracker = gaInstance.getTracker(apiKeyGA);
gaInstance.setDefaultTracker(gaTracker); 
```

似乎工作。我必须确认。

在我的 web 服务返回后，我把它放在初始化后的某个地方。我将其保存在首选项中，以便下次更快访问。

编辑：不起作用。它一直跟踪我放入 XML 中的字符串，当我删除元素时，它不再跟踪。但是我暂时放在这里，也许它会导致正确的答案。

# ios - 在 www/Images 文件夹中为图像创建 UiImage

> ID：15292071
> 
> 赞同：0
> 
> 时间：2013-03-08T10:39:34.723
> 
> 标签：ios, objective-c, xcode, cordova

我需要使用`WWW/Images`我的 cordova iOs 项目的文件夹中存在的图像。我正在使用 cordova-2.3.0 和 iOs 6 版本。

我试图通过下面的代码获取图像，但它不适用于`WWW/Images`文件夹中的图像，它适用于资源文件夹中的图像。

```
UIImage *image = [UIImage imageNamed:@"Car_Main.png"]; 
```

如何访问`WWW/Images`文件夹中存在的图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:46:27.673

我不太明白，你的 WWW/Images 文件夹在哪里。如果在应用程序目录中 - 试试这个代码。

```
 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDirectory = [paths objectAtIndex:0];
        NSString *filePath = [documentsDirectory  stringByAppendingString:@"/WWW/Images/Car_Main.png"];
        UIImage *img = [[UIImage alloc] initWithContentsOfFile:filePath]; 
```

如果在项目中 - 也许您忘记将图像添加到目标资源？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T10:53:31.540

```
// Save from documents

NSString* path = [NSHomeDirectory() stringByAppendingString:@"/WWW/Images/Car_Main.png.png"];

BOOL Done = [[NSFileManager defaultManager] createFileAtPath:path 
          contents:nil attributes:nil];

if (!Done) {
    NSLog(@"Error creating file %@", path);
} else {
    NSFileHandle* myFileHandle = [NSFileHandle fileHandleForWritingAtPath:path];
   [myFileHandle writeData:UIImagePNGRepresentation(yourImage)];
   [myFileHandle closeFile];
}

// Get from documents

NSFileHandle* myFileHandle = [NSFileHandle fileHandleForReadingAtPath:path];
UIImage* loadedImage = [UIImage imageWithData:[myFileHandle readDataToEndOfFile]]; 
```

# python - Python MySQLdb 连接 - 何时打开/关闭新连接？

> ID：15292072
> 
> 赞同：2
> 
> 时间：2013-03-08T10:39:35.690
> 
> 标签：python, mysql, database-connection, mysql-python

我正在使用一些运行 Tornado Web 服务器的应用程序，它们都使用 mysqldb 连接到 MySql DB。当我启动服务器时，它会实例化一个 DB 类（如下），它打开与 DB 的连接。所有交易都使用相同的连接进行 - 我不确定这是一个好主意。

```
class RDSdb(object):

    def __init__(self):
        self.connect()

    def connect(self):
        self.connection = MySQLdb.connect(cursorclass = MySQLdb.cursors.SSDictCursor, host=self.RDS_HOST,
                                    user=self.RDS_USER, passwd=self.RDS_PASS, db=self.RDS_DB)

    def get_cursor(self):
        try:
            cursor = self.connection.cursor()
        except (AttributeError, MySQLdb.OperationalError):
            self.connect()
            cursor = self.connection.cursor()
        return cursor

    def fetch_by_query(self, query):
        cursor = self.get_cursor()
        cursor.execute(query)
        result = cursor.fetchall()
        cursor.close()
        return result 
```

我很确定我不应该为每笔交易打开/关闭新连接，但是，我应该什么时候？

我注意到其他一些东西有点不对劲，我确信这是相关的：当我需要更新我的数据库表的架构之一（例如：alter table）时，整个有问题的表被锁定并且没有响应 - 直到我杀死我的 3与数据库建立开放连接的应用程序 - 我意识到其中一个连接正在阻止此更新。

最佳实践？想法？

谢谢。

# jquery - 如何使 td 元素可点击，并使其在 IE 中工作？

> ID：15292079
> 
> 赞同：0
> 
> 时间：2013-03-08T10:39:54.960
> 
> 标签：jquery, internet-explorer

我得到此代码以使 td 元素可点击。它在 FF 和 Chrome 中运行良好，但在 IE 中不起作用。如何改进此代码？

```
$(document).ready(function() {

  $("td div.node-bloques-el-inicio").click(function(){

    window.location = $(this).find("h2 a").attr("href");
  });

}); 
```

代码的捕获：[捕获](http://content.screencast.com/users/chefnelone/folders/Snagit/media/32d96eca-883d-464f-9324-702989cad33d/2013-03-08_11-48-13.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:47:18.267

上面的代码在语法上是正确的。鉴于其中的 jQuery 选择器，我假设您的 HTML 结构如下？

```
<table>
    ...
    <tr>
        ...
        <td>
            <div class="node-bloques-el-inicio">
                <h2>
                    <a href="http://mysite.com">This is a link</a>
                </h2>
            </div>
        </td>
        ...
    ...
</table> 
```

如果是，您的代码应该可以在跨浏览器中运行。如果这是您的 HTML 结构，请详细说明问题。

# php - 杂货杂货中没有发生搜索

> ID：15292091
> 
> 赞同：5
> 
> 时间：2013-03-08T10:40:37.173
> 
> 标签：php, codeigniter, crud, grocery-crud

在杂货店杂货中，不会对相关表进行搜索。

仅针对该表字段进行搜索。

```
function index()  { 
    $crud = new grocery_CRUD();
    $crud->set_theme('flexigrid');
    $crud->set_table('table_name');
    $crud->display_as('id','Name');
    $crud->callback_column('id', array($this, 'changeName'));
    $output = $crud->render();
} 
```

* * *

```
function changeName($value, $row)  {
    $new = $this->db->select('name')->where('another_table.id', $row->id)->get('another_table')->result();
    if(!empty($new)){
        return $new[0]->name;
    } else {
        return $value;
    }
} 
```

这里没有搜索名称。

有人有解决方案吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T13:38:02.850

嗨@DelvinPaul：我希望你的问题得到解决。以防万一，如果它没有解决，请尝试`changeName`使用调试您的查询

```
log_message('info','Query: '.$this->db->last_query());
log_message('info','Result Returned: '.print_r($new,true)); 
```

将这些语句放在您的 changeName 函数中的以下行之后：

```
$new = $this->db->select('name')->where('another_table.id', $row->id)->get('another_table')->result(); 
```

并且不要忘记更改`$config['log_threshold'] = 3;`配置文件。调试后，请更新您的问题以更清晰，以便我们回答。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-18T14:52:26.547

利用

```
$crud->set_theme('datatables'); 
```

代替

```
$crud->set_theme('flexigrid'); 
```

你会让它工作的。此问题仅与 flexgrid 主题有关。

# eclipse - 如何在 Eclipse 中正确使用调试？

> ID：15292094
> 
> 赞同：1
> 
> 时间：2013-03-08T10:40:41.947
> 
> 标签：eclipse, debugging, jsf, jakarta-ee, jsf-2

我知道这听起来像是一个“非常简单”的问题，但我真的不明白或在任何地方都找不到如何在 Java EE (JSF) 应用程序中正确使用调试器。我是说：

```
1\. open eclipse
2\. insert a break point at code
3\. click into the 'bug' button 
4\. glassfish starts
5\. interact into the web site until the break point is activated, right? 
```

错误的。什么都没有发生。我尝试了许多不同的方法，但似乎根本不起作用。所以我想知道你们能不能解释一下怎么做（我发誓我会把说明书涂在墙上=]）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T12:14:15.087

右击你的项目，Debug As -> Debug on Server (Alt+Shift+D, R)

或按“错误”按钮旁边的下拉菜单，然后按照相同的菜单顺序进行操作。

# jasper-reports - 如何在 Jaspersoft Server 中上传子报表

> ID：15292096
> 
> 赞同：1
> 
> 时间：2013-03-08T10:40:49.073
> 
> 标签：jasper-reports, jasperserver

谁能告诉我如何在 Jaspersoft Server 中上传子报告并将其与主报告连接？？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-11T05:53:09.530

*要在JasperReport 服务器*中上传子报表， 请转到 JR 服务器

1：-右键单击要保存子repot的任何目录。

2：-然后是“添加资源”，然后是“文件”，然后是“JRXML”，浏览子报告并给出任何名称。

3：- 打开 Ireport 并转到主报告，然后从调色板拖动“子报告”并从您的机器浏览子报告。

4：-然后添加参数以防万一。

5:- 然后选择子报表并转到属性部分和“子报表表达式”属性，编辑和更改表达式，如“repo:/jasperreport 中子报表 jrxml 的路径”

# entity-framework - 实体框架数据库优先并自动为所有表设置并发令牌

> ID：15292099
> 
> 赞同：2
> 
> 时间：2013-03-08T10:40:54.350
> 
> 标签：entity-framework

我正在使用实体框架（EF 4.5 使用使用 DbContext 的 POCO 模板）并且我有一个非常大的模型。

模型中的每个表都有一个整数列（名为 RowVersion）。我想自动将此列设置为并发列。

我不想为 EDMX 文件中的每个表手动执行此操作。并且继续进行维护，我不想记住要这样做。

我希望有一些东西可以添加到上下文中，以便为我自动为所有表执行此操作。

我在另一个帖子上看到了这段代码

```
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
    base.OnModelCreating(modelBuilder);
    modelBuilder.Entity<myEntity>().Property(x => x.RowVersion).IsConcurrencyToken();
} 
```

但这似乎只适用于代码优先，因为我的模型永远不会触发该事件。

任何想法我怎么能做到这一点？

# jquery-ui - 附加元素的jQuery拖放功能

> ID：15292108
> 
> 赞同：1
> 
> 时间：2013-03-08T10:41:31.977
> 
> 标签：jquery-ui

当我`drag`将一个元素发送到一个`droppable`区域时，它会向`socket`服务器发送一个。每当我`append`向页面添加新元素`drop: function() {}`时，删除附加元素时不会触发，它仅在页面刷新后才起作用，尽管该`drag`功能有效。

**问题**

有没有办法将`drop`函数绑定到附加元素？

**代码**

```
var UI = {
    droppedArea: $('.dropArea'),
    initialArea: $('#init-area')
};

UI.droppedArea.droppable({
   drop: function(event, ui) {
        var dropped = ui.draggable;
        var droppedOn = $(this),
        /* Rest of the code */
        socket.emit('move', data);
   }
});

// Element appended like this
function newItem(data) {
   var html = '<li>'+data.content+'</li>';
   UI.initialArea.append(html);
}

// From the server
socket.on('new', function(data) {
   newItem(data);
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T15:53:54.677

想通了为什么。

在 下`drop: function()`，我有一个`accept:`选项，它的值是 DOM 元素，具有类的类型，存储在变量中。

因此，任何附加的元素都没有被变量引用，所以它们没有被函数捕获

```
var UI = {
   var item = $('.the_item')
}

drop: function() {
    accept: UI.item,
} 
```

# java - 如何在 gwt Web 应用程序中提供等于 Ctrl+R 的刷新？

> ID：15292110
> 
> 赞同：1
> 
> 时间：2013-03-08T10:41:40.710
> 
> 标签：java, gwt, page-refresh

在我的网络应用程序中，我正在更改设置中的区域设置，我发现区域设置更改仅在按下`F5`按钮或`Ctrl + R`. 我已经测试了以编程方式进行相等刷新的不同方法（一种更改语言环境的方法），但没有成功。该刷新事件的编程等效项是什么？

我试过`Window.Location.reload();`没有想要的效果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:07:10.190

F5 即通过 GWT 等效的 Ctrl+R 是`com.google.gwt.user.client.Window.Location.reload();`

1.  只要确保您使用的是正确的[**Window**](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/Window.Location.html)导入。
2.  阅读[重新加载文档](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/Window.Location.html#reload%28%29)的参考。

# visual-studio-2012 - VS Desktop Express 2012 - 在设计时隐藏组件

> ID：15292113
> 
> 赞同：0
> 
> 时间：2013-03-08T10:41:50.013
> 
> 标签：visual-studio-2012

我无法为此找到适当的解决方案或答案。

我有很多元素（按钮、标签等）需要添加到表单中；我在设计时这样做。我可以在设计时隐藏其中的某些元素吗？

例如，我有一个 12 行的 tableLayoutPanel。当我在行中添加和添加元素时，tableLayoutPanel 在某些时候扩展了表单，我必须一次又一次地调整表单和面板的大小，依此类推。

感谢任何答案，最好的问候丹尼斯

# asp.net - 矩阵形式的 HTML 单选按钮，它必须在行和列中一次只检查一个单选按钮

> ID：15292114
> 
> 赞同：1
> 
> 时间：2013-03-08T10:41:52.507
> 
> 标签：asp.net, html

在 HTML 中，单选按钮像下面提到的 3*3 矩阵一样放置。单选按钮组提供了一个选择，即在一行和一列中，我必须只选择一个单选按钮，如果我选择另一个，则应禁用第一个选择的按钮。例如，在第二行（4,5,6）和第二列（2,5,8）中，如果我选择第 5 个单选按钮，则应取消选中（4,6）和（2,8）。如果我选​​择 1，则(2,3) 和 (4,7) 应取消选中。这意味着在 ONE ROW 和 ONE COLUMN 中应该只有一个选择.....

1,2,3

4,5,6

7,8,9

请给我您宝贵的答案，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:49:39.437

## 具有 2 向独占性的单选按钮

此片段来自Chris Coyier 的[css-tricks.com](http://css-tricks.com)

这是在 HTML CSS 和 JS 中将其转换为 asp 控件

```
<table>
    <tr>
        <th></th>
        <th>1</th>
        <th>2</th>
        <th>3</th>
    </tr>
    <tr>
        <td>Twix</td>
        <td><input type="radio" name="row-1" data-col="1"></td>
        <td><input type="radio" name="row-1" data-col="2"></td>
        <td><input type="radio" name="row-1" data-col="3"></td>
    </tr>
    <tr>
        <td>Snickers</td>
        <td><input type="radio" name="row-2" data-col="1"></td>
        <td><input type="radio" name="row-2" data-col="2"></td>
        <td><input type="radio" name="row-2" data-col="3"></td>
    </tr>
    <tr>
        <td>Butterfingers</td>
        <td><input type="radio" name="row-3" data-col="1"></td>
        <td><input type="radio" name="row-3" data-col="2"></td>
        <td><input type="radio" name="row-3" data-col="3"></td>
    </tr>
    </table>

table {
    border-collapse: collapse;    
}
td, th {
    border: 1px solid #ccc;
    padding: 10px;
}
th:empty {
    border: 0;
} 
```

JS

```
var col, el;

$("input[type=radio]").click(function() {
   el = $(this);
   col = el.data("col");
   $("input[data-col=" + col + "]").prop("checked", false);
   el.prop("checked", true);
}); 
```

[演示](http://css-tricks.com/examples/RadioGrid/)

[下载](http://css-tricks.com/examples/RadioGrid.zip) 感谢 Chris Coyier

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T10:51:26.287

这在 HTML 中是不可能的。单选按钮的作用很简单：在任何一组单选按钮中，由相同的`name`属性值连接，任何时候只能选中一个，选中未选中的会取消选中已选中的。而已。

目前尚不清楚最终目的是什么以及实现它的最佳方法是什么。但是如果你分析过你需要一个你描述的矩阵，那么你需要自己构建整个功能：使用一些可以切换的元素，使用 CSS 和 JavaScript，表现你描述的方式。

最好*避免*让元素看起来像单选按钮，因为这会产生误导：在浏览器中实现的单选按钮以某种方式工作，而让它们以不同的方式表现至少会令人困惑。

# php - 间隔脚本未在我的页面 php 上显示时间

> ID：15292120
> 
> 赞同：0
> 
> 时间：2013-03-08T10:42:11.940
> 
> 标签：php, time, intervals

我正在运行一个脚本，每分钟执行一个脚本，但由于某种原因它没有出现在我的浏览器上，无法判断它是否正在运行。

```
<?php

set_time_limit(0);
ob_implicit_flush(true);
$interval=1; //minutes
echo str_repeat(" ", 1024);
while(true) {
    $now=time();
    echo $now."<BR>";
    sleep($interval * 60);
    flush();
}
ob_end_flush();
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:45:22.030

Because php doesn't work like this. PHP is serversided, it will generate everything and send the HTML to the client. You have to use javascript for this

# c# - 上传文件后如何获取响应流

> ID：15292122
> 
> 赞同：3
> 
> 时间：2013-03-08T10:42:14.750
> 
> 标签：c#, microsoft-metro

我正在开发一个地铁应用程序。我使用后台上传器上传文件，但我的问题是上传后如何获得响应值。我这样编码：

```
 BackgroundUploader uploader = new BackgroundUploader();
          uploader.SetRequestHeader("Content-Disposition", "form-data");
          uploader.SetRequestHeader("name", "userfile");
          uploader.SetRequestHeader("filename", App.ViewModel.DeviceId + ".png");
          uploader.SetRequestHeader("Content-Type", "multipart/form-data");

          UploadOperation upload = uploader.CreateUpload(uri, file);
          await upload.StartAsync(); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-06-12T19:58:49.550

在注意到上传进度对象中有 BytesReceived 后，我想到了以下内容。

```
async private Task<string> GetUploadResponseBody(UploadOperation operation)
{
    string responseBody = string.Empty;
    using (var response = operation.GetResultStreamAt(0))
    {
        uint size = (uint)operation.Progress.BytesReceived;
        IBuffer buffer = new Windows.Storage.Streams.Buffer(size);
        var f = await response.ReadAsync(buffer, size, InputStreamOptions.None);

            using (var dr = DataReader.FromBuffer(f))
            {
                responseBody = dr.ReadString(dr.UnconsumedBufferLength);
            }                
    }
    return responseBody;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T10:52:42.433

```
upload.StartAsync().Completed = UploadCompletedHandler; 
```

...

```
void UploadCompletedHandler(IAsyncOperationWithProgress<TResult, TProgress> asyncInfo, 
  AsyncStatus asyncStatus)
{
  // get a response body from an asyncInfo using the asyncInfo.GetResults() method
} 
```

关注以下资源：

1.  [UploadOperation.StartAsync | startAsync 方法 (Windows)](http://msdn.microsoft.com/en-us/library/windows/apps/windows.networking.backgroundtransfer.uploadoperation.startasync?cs-save-lang=1&cs-lang=csharp#code-snippet-1)

2.  [IAsyncOperationWithProgress 接口 (Windows)](http://msdn.microsoft.com/en-us/library/windows/apps/br206594.aspx)

3.  [AsyncOperationWithProgressCompletedHandler 委托 (Windows)](http://msdn.microsoft.com/ru-ru/library/windows/apps/br206574.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T16:10:49.340

最近几天我一直在寻找同样的东西，但没有运气。最后发现你不能这样做。您可以获取响应的“标头”，但无法从 BackgroundTransfer getResponseInformation() 方法获取响应的“主体”。

目前这是 Windows API 的限制。希望他们能尽快添加。

[http://msdn.microsoft.com/en-us/library/windows/apps/windows.networking.backgroundtransfer.responseinformation.aspx#properties](http://msdn.microsoft.com/en-us/library/windows/apps/windows.networking.backgroundtransfer.responseinformation.aspx#properties)

解决方法是您可以在响应中添加自定义标头。为此，您需要修改服务器端脚本。但是，如果您对服务器端脚本没有任何控制权，那么请使用代理脚本来在您的应用程序和远程服务器之间进行通信。对于我的情况，我在 php 中创建了一个与远程服务器通信的代理脚本，在获得响应后，我将其添加到自定义标头键中。

然后在你的完整方法的应用程序中使用这个：

```
function complete(e){
    var mykey = e.getResponseInformation().headers.lookup("mykey");
} 
```

希望这会有所帮助。

# ruby-on-rails - 如何通过按下按钮调用 faye 断开事件

> ID：15292123
> 
> 赞同：0
> 
> 时间：2013-03-08T10:42:14.800
> 
> 标签：ruby-on-rails, ruby-on-rails-3, sockets, faye, private-pub

我的问题与 Faye 的断开连接事件有关。我可以很容易地从 java 脚本订阅一个频道，我也可以处理`/meta/subscribe`and `/meta/connect`。但我想要一些东西，比如我的 html.erb 文件中的按钮，并使用它来断开或取消订阅频道。我想知道如何启动一个 java 脚本来断开与频道的连接，就像我们在订阅频道时所做的那样，如下所示：

```
$(function() {
  var faye = new Faye.Client('http://localhost:9292/faye');
    faye.subscribe("/messages/new", function(data) {
     eval(data);
    });
}); 
```

请给我一个控制器代码或java脚本代码。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-11T02:01:29.363

subscribe() 方法返回一个 Subscription 对象，如果您想从频道中删除该侦听器，可以取消该对象。

因此，您可以做的是将对象存储在另一个名为的变量中，`subscription`然后将 subscribe 方法返回的订阅对象存储在其中。

```
var subscription;
$(function() {
  var faye = new Faye.Client('http://localhost:9292/faye');
  subscription = faye.subscribe("/messages/new", function(data) {
    eval(data);
  });
});

$('#button').click(function() {
  subscription.cancel();
}); 
```

因此，在这种情况下，当您单击具有 id 的按钮时，`button`它将取消订阅。我建议在取消之前检查您是否已经订阅。

订阅/取消来源：http: [//faye.jcoglan.com/browser/subscribing.html](http://faye.jcoglan.com/browser/subscribing.html)

# wordpress - 列出当前页面的父页面的子页面

> ID：15292124
> 
> 赞同：0
> 
> 时间：2013-03-08T10:42:18.467
> 
> 标签：wordpress, wordpress-theming

我正在使用 3.5.1 版开发 WordPress 主题，并且在每个页面中我想显示一个侧面垂直菜单，显示属于当前页面父级的所有页面。我试过这个：

```
<?php
    $args = array( 
        'sort_column' => 'menu_order',
        'child_of' => $post->parent
    );
?>
<ul>
    <?php wp_list_pages($args);  ?>
</ul> 
```

但是我列出的是每个父页面，而不是我假装要做的。做到这一点的最佳方法是什么？

非常感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T14:41:58.300

那是语法错误。

试试这个：`'child_of' => $post->post_parent`

那应该返回您所在页面的兄弟姐妹。

# mysql - 获取 DISTINCT 查询产生的重复行数

> ID：15292129
> 
> 赞同：3
> 
> 时间：2013-03-08T10:42:35.060
> 
> 标签：mysql

我有一个表，其中`a`、`b`和`c`通常是相同的行。我有一个查询，它给了我每条独特的记录。我正在尝试获取每个返回的不同记录的重复记录的计数。

```
SELECT DISTINCT
     a,
     b,
     c,
     COUNT(id) as counted
FROM 
     table 
```

这里`COUNT`返回所有记录的计数。我正在寻找的是与唯一记录相同的记录数。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T10:46:04.393

```
 SELECT a,b,c,COUNT(*) FROM table GROUP BY a,b,c 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T10:51:20.063

```
SELECT DISTINCT
     a,
     b,
     c,
     (
          SELECT 
              COUNT(id) 
          FROM 
              table_name t1
          WHERE 
              t2.a = t1.a
     ) AS counted
FROM 
     table_name t2 
```

上述子查询称为内联子查询。在 where 子句 t1 和 t2 中，通过查询将其视为不同的表（它是 DB 中的单个表）。所以它检查相等然后计数。因为我们把 distinct 放在一个列上，所以所有的游戏都只用它来完成。我希望能上飞机。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T10:42:35.060

啊，当我写这个问题时，我从重复中找出了这个——我想我会分享我的结果，因为它们与我得到的答案有很大不同。

我必须使用子查询来获取查询不明确的记录。然后，我可以在子查询的 WHERE 子句中使用第一个查询的结果。

```
SELECT DISTINCT
     a,
     b,
     c,
     (
          SELECT 
              COUNT(id) 
          FROM 
              table_name t1
          WHERE 
              t2.a = t1.a
     ) AS counted
FROM 
     table_name t2 
```

这行得通。让我知道我的理解是否存在差距。

在这个答案的帮助下：[https ://stackoverflow.com/a/14110336/1270996](https://stackoverflow.com/a/14110336/1270996)

# c - 使用互斥锁时的数据竞争

> ID：15292131
> 
> 赞同：0
> 
> 时间：2013-03-08T10:42:48.590
> 
> 标签：c, multithreading, image-processing

我正在做一个涉及线程和互斥锁的 C 小项目。我正在开发的程序在 bmp 法师上应用过滤器。该项目的目标是实现一个能够处理此命令行的程序：

```
$ ./filter -f filter1[,filter2[,...]] -t numThreads1[,numThreads2[,...]] input-folder output-folder 
```

其中 -f 是我要应用的过滤器（“红色”、“蓝色”、“绿色”、“灰度”和“模糊”），-t 是每个过滤器分配的线程数。

到目前为止一切都很好，除了模糊，我被困在数据竞赛中（或者，我认为是这样）。模糊过滤器的工作方式如下：

```
/* Add a Gaussian blur to an image using
* this 3X3 matrix as weights matrix:
*   0.0  0.2  0.0
*   0.2  0.2  0.2
*   0.0  0.2  0.0
*
* If we consider the red component in this image
* (every element has a value between 0 and 255)
*
*   1  2  5  2  0  3
*      -------
*   3 |2  5  1| 6  0       0.0*2 + 0.2*5 + 0.0*1 +
*     |       |
*   4 |3  6  2| 1  4   ->  0.2*3 + 0.2*6 + 0.2*2 +   ->  3.2
*     |       |
*   0 |4  0  3| 4  2       0.0*4 + 0.2*0 + 0.0*3
*      -------
*   9  6  5  0  3  9
* 
* The new value of the pixel (3, 4) is round(3.2) = 3.
*
* If a pixel is outside the image, we increment the central pixel weight by 0.2
* So the new value of pixel (0, 0) is:
*   0.2 * 0 + 0.2 * 9 + 0.2 * 6 + 0.2 * 9 + 0.2 * 9 = 6.6 -> 7
*/ 
```

问题是，当我使用这个模糊过滤器在“棋盘”图像上运行我的程序时：

```
$ ./filter -f blur -t 8 chess.bmp chessBlur.bmp 
```

我期待得到这张[图片](http://a.yfrog.com/img12/4177/3y4.png)，但我得到了[这个](http://a.yfrog.com/img690/4474/78qr.png)（“断线”随机变化）

我正在使用互斥锁来锁定和解锁关键部分，但正如您所见，数据竞争仍然存在。过滤器上只有两个词，我一次给每个线程一行，从底部开始向上。我的 filter_blur 代码是：

```
int filter_blur(struct image *img, int nThread)
{
    int error = 0;
    int mod = img->height%nThread;
    if (mod > 0)
        mod = 1;

    pthread_t threads[nThread];
    pthread_mutex_t mutex;
    args arguments[nThread];

    struct image* img2 = (struct image*)malloc(sizeof(struct image));
    memcpy(img2,img,sizeof(struct image));

    error=pthread_mutex_init( &mutex, NULL);
    if(error!=0)
        err(error,"pthread_mutex_init");

    int i = 0;
    for (i=0; i<nThread; i++) {
        arguments[i].img2 = img2;
        arguments[i].mutex = &mutex;
    }

    int j = 0;
    for (i=0; i<(img->height)/nThread + mod; i++) {
        for (j=0; j<nThread; j++) {

            arguments[j].img = img; arguments[j].line = i*nThread + j;

            error=pthread_create(&threads[j],NULL,threadBlur,(void*)&arguments[j]);
            if(error!=0)
                err(error,"pthread_create");
        }
        for (j=0; j<nThread; j++) {
            error=pthread_join(threads[j],NULL);
            if(error!=0)
                err(error,"pthread_join");
        }
    }
    free(img2);
    return 0;
}

void* threadBlur(void* argument) {

    // unpacking arguments
    args* image = (args*)argument;
    struct image* img = image->img;
    struct image* img2 = image->img2;
    pthread_mutex_t* mutex = image->mutex;

    int error;
    int line = image->line;
    if (line < img->height) {
        int i;

        error=pthread_mutex_lock(mutex);
        if(error!=0)
            fprintf(stderr,"pthread_mutex_lock");

        for (i=0; i<img->width; i++) {
            img->pixels[line * img->width +i] = blur(img2,i,line);
        }

        error=pthread_mutex_unlock(mutex);
        if(error!=0)
            fprintf(stderr,"pthread_mutex_unlock");
    }
    pthread_exit(NULL);
}

struct pixel blur(struct image* img2, int x, int y) {
    double red = 0;
    double green = 0;
    double blue = 0;

    red=(double)img2->pixels[y * img2->width + x].r/5.0;
    green=(double)img2->pixels[y * img2->width + x].g/5.0;
    blue=(double)img2->pixels[y * img2->width + x].b/5.0;

    if (x != 0) {
        red+=(double)img2->pixels[y * img2->width + x - 1].r/5.0;
        green+=(double)img2->pixels[y * img2->width + x - 1].g/5.0;
        blue+=(double)img2->pixels[y * img2->width + x - 1].b/5.0;
    } else {
        red+=(double)img2->pixels[y * img2->width + x].r/5.0;
        green+=(double)img2->pixels[y * img2->width + x].g/5.0;
        blue+=(double)img2->pixels[y * img2->width + x].b/5.0;
    }

    if (x != img2->width - 1) {
        red+=(double)img2->pixels[y * img2->width + x + 1].r/5.0;
        green+=(double)img2->pixels[y * img2->width + x + 1].g/5.0;
        blue+=(double)img2->pixels[y * img2->width + x + 1].b/5.0;
    } else {
        red+=(double)img2->pixels[y * img2->width + x].r/5.0;
        green+=(double)img2->pixels[y * img2->width + x].g/5.0;
        blue+=(double)img2->pixels[y * img2->width + x].b/5.0;
    }

    if (y != 0) {
        red+=(double)img2->pixels[(y - 1) * img2->width + x].r/5.0;
        green+=(double)img2->pixels[(y - 1) * img2->width + x].g/5.0;
        blue+=(double)img2->pixels[(y - 1) * img2->width + x].b/5.0;
    } else {
        red+=(double)img2->pixels[y * img2->width + x].r/5.0;
        green+=(double)img2->pixels[y * img2->width + x].g/5.0;
        blue+=(double)img2->pixels[y * img2->width + x].b/5.0;
    }

    if (y != img2->height - 1) {
        red+=(double)img2->pixels[(y + 1) * img2->width + x].r/5.0;
        green+=(double)img2->pixels[(y + 1) * img2->width + x].g/5.0;
        blue+=(double)img2->pixels[(y + 1) * img2->width + x].b/5.0;
    } else {
        red+=(double)img2->pixels[y * img2->width + x].r/5.0;
        green+=(double)img2->pixels[y * img2->width + x].g/5.0;
        blue+=(double)img2->pixels[y * img2->width + x].b/5.0;
    }

    struct pixel pix = {(unsigned char)round(blue),(unsigned char)round(green),(unsigned char)round(red)};
    return pix;
} 
```

编辑 1：

正如@job 正确猜测的那样，问题是由我的结构的memcpy 引起的（结构被复制，但结构内的指针仍然指向原始结构元素）。我还删除了互斥锁（它们只是在这里，因为我认为它们可以解决我的问题，对不起，我的错）现在我的项目正在像一个魅力一样工作（即使我们仍然可以讨论处理速度，以及使用线程的需要）。正如我所说，这是一个项目，一个针对我的 C 班的大学项目。目标是并行化我们的过滤器。所以需要线程。

谢谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:31:55.573

好吧，这不像是关于您的代码的一些观察结果那样多的答案：

*   您似乎并没有真正从程序中任何地方的多个线程访问一个特定的内存单元。因此，似乎不需要静音。

*   或者，也许线程确实访问了相同的内存段。在这种情况下，您的程序很可能会更有效率，只需一个线程完成所有计算。您应该对这种情况进行基准测试并将其与线程版本进行比较。

*   至少对我来说，这里没有明显的理由需要多线程。如果您在单个线程中进行这些浮点计算，它们很可能在操作系统甚至设法产生第二个线程之前完成。与线程创建开销时间相比，工作负载微不足道。

*   您当前的多线程设计存在缺陷，所有工作都在受互斥体保护的代码中进行。互斥锁之外没有实际的工作可以做，所以不管你创建1000个线程，一次只能执行1个，其他的会睡着等待轮到他们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T20:17:22.127

首先，非常感谢您的帮助！感谢您的回答，我设法修复了我的代码:-)

由于相当多的评论指出我的互斥锁无用，我还认为它们更像是我的程序性能的瓶颈，而不是我的问题的解决方案。我之所以添加它们，是因为我希望它们能神奇地解决我的问题（奇迹有时会在编程中发生）。现在他们走了（他们本不应该来的），而且代码更快了！

回到原来的问题！为了应用我的模糊滤镜，我需要我的图像的只读副本。为了获得这个副本，我使用了 memcpy，如下所示：

```
struct image* img2 = (struct image*)malloc(sizeof(struct image));
memcpy(img2,img,sizeof(struct image)); 
```

但是正如@jop 指出的那样，即使我正在复制`img`，指向`pixels`de 复制中分配的内存的指针`img2`仍然指向原始数组。所以，不是复制，而是`img`复制`img->pixels`成功了。我修改了我的代码：

```
struct pixel* pixels = (struct pixel*)malloc(sizeof(struct pixel)*img->width*img->height);
memcpy(pixels,img->pixels,sizeof(struct pixel)*img->width*img->height); 
```

瞧，问题解决了！所以谢谢大家！

一些评论还讨论了是否需要使用线程。好吧，在这种情况下，我别无选择，因为该项目的目标是编写一些并行化的图像过滤器。所以，是的，需要线程！

# java - 球衣json生成

> ID：15292135
> 
> 赞同：0
> 
> 时间：2013-03-08T10:43:06.353
> 
> 标签：java, json

我们试图从我们的网络服务生成 json。我们的 JSON 格式如下所示。我们正在使用球衣生成 JSON。

```
[
        {
            "InfoList": {
                "name": "test",
                "slot": "2",
            },
            "Info": {
                "Id": "212",
                "name": "sdsdsd",
            },
            "abcInfoList": [
                {
                    "aname": "",
                    "slt": "1",
                },
                {
                {
                    "aname": "",
                    "slt": "1",
                }
            ],
        },
        {
            "InfoList": {
                "name": "test",
                "slot": "2",
            },
            "Info": {
                "Id": "212",
                "name": "sdsdsd",
            },
            "abcInfoList": [
                {
                    "aname": "",
                    "slt": "1",
                },
                {
                {
                    "aname": "",
                    "slt": "1",
                }
            ],
        },
        {
            "InfoList": {
                "name": "test",
                "slot": "2",
            },
            "Info": {
                "Id": "212",
                "name": "sdsdsd",
            },
            "abcInfoList": [
                {
                    "aname": "",
                    "slt": "1",
                },
                {
                {
                    "aname": "",
                    "slt": "1",
                }
            ],
        },
] 
```

我们在下面设计了一个类来保存生成 JSON 的值

```
@XmlRootElement(name="JasonClass")
public class JsonClass {

    @XmlElement(name="InfoList")
    public Info getInfoList()
    {
        return this.info;
    }
    public void setInfoList(InfoList infoList)
    {
        this.infoList=infoList;
    }
    @XmlElement(name="Info")
    public Info getInfo()
    {
        return this.hostInformation;
    }
    public void setInfo(Info info)
    {
        this.info=info;
    }

    @XmlElement(name="abcInfoList")
    public Info getabcInfoList()
    {
        return this.abcInfoList;
    }
    public void setabcInfoList(AbcInfoList abcInfoList)
    {
        this.abcInfoListt=abcInfoList;
    }
}

And we are returning array of JsonClass for JSON. 

    @GET
    @Path("/service")
    @Produces("application/json")
    public JsonClass[] getJsonList() {
        JsonClass[] jsonList = new JsonClass[count];
        //code for fliing array
        //code for fliing array
        return jsonList;
    } 
```

它正在生成，如下所示

```
{ 
"JasonClass":[
        {
            "InfoList": {
            "name": "test",
            "slot": "2",
            },
            "Info": {
            "Id": "212",
            "name": "sdsdsd",
            },
            "abcInfoList": [
            {
                "aname": "",
                "slt": "1",
            },
            {
            {
                "aname": "",
                "slt": "1",
            }
            ],
        },
        {
            "InfoList": {
            "name": "test",
            "slot": "2",
            },
            "Info": {
            "Id": "212",
            "name": "sdsdsd",
            },
            "abcInfoList": [
            {
                "aname": "",
                "slt": "1",
            },
            {
            {
                "aname": "",
                "slt": "1",
            }
            ],
        },
        {
            "InfoList": {
            "name": "test",
            "slot": "2",
            },
            "Info": {
            "Id": "212",
            "name": "sdsdsd",
            },
            "abcInfoList": [
            {
                "aname": "",
                "slt": "1",
            },
            {
            {
                "aname": "",
                "slt": "1",
            }
            ],
        },
    ]
} 
```

但我们不希望 JSON 中有以下内容。我们只需要数组[]。如上所述（int he first json）。

```
{ 
"JasonClass":
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-16T12:12:35.353

我会跳过注释，让一个好的 JSON 提供程序来处理转换。正如@Rob 建议的那样，我认为问题出在`@XmlRootElement`注释上。我通常只定义简单的 POJO（但没有 setter 和 getter），

```
public class Info {
    public String id;
    public String name;
} 
```

然后，如果你想返回一个你的列表，`Info`你只需`List<Info>`从你的 Jersey 资源中返回一个。默认情况下省略类的名称。当您说您正在使用 Jersey 生成 JSON 时，我不确定您的意思 - 据我所知，Jersey 本身不会转换为 JSON 或从 JSON 转换，您需要为此进行扩展。我正在使用 Jackson，它与 Jersey 很好地集成（它只需要在类路径上，不需要额外的配置）。

# android - 使用 gson 解析 Json 返回 null 对象

> ID：15292136
> 
> 赞同：4
> 
> 时间：2013-03-08T10:43:09.983
> 
> 标签：android, json, gson

我正在通过 gson 解析 Json 字符串，这是 Json 字符串

```
[
{
    "ID": 1,
    "Name": "Australia",
    "Active": true
},
{
    "ID": 3,
    "Name": "Kiev",
    "Active": true
},
{
    "ID": 4,
    "Name": "South Africa",
    "Active": true
},
{
    "ID": 5,
    "Name": "Stockholm",
    "Active": true
},
{
    "ID": 6,
    "Name": "Paris",
    "Active": true
},
{
    "ID": 7,
    "Name": "Moscow",
    "Active": true
},
{
    "ID": 8,
    "Name": "New York City",
    "Active": true
},
{
    "ID": 9,
    "Name": "Germany",
    "Active": true
},
{
    "ID": 10,
    "Name": "Copenhagen",
    "Active": true
},
{
    "ID": 11,
    "Name": "Amsterdam",
    "Active": true
}
] 
```

这是将要使用的对象

```
public class MyBranch extends Entity {

public MyBranch () {
    super();
}

public MyBranch (int id, String name, String isActive) {
    super();
    _ID = id;
    _Name = name;
    _Active = isActive;
}

@Column(name = "id", primaryKey = true)
public int _ID;
public String _Name;
public String _Active;

}
Gson gson = new Gson();
Type t = new TypeToken<List<MyBranch >>() {}.getType();     
List<MyBranch > list = (List<MyBranch >) gson.fromJson(json, t); 
```

构造的列表有 10 个对象，但问题是对象的所有数据成员都是空的，我不知道这有什么问题。Entity 是 OrmDroid 的 Entity 类。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-08T10:49:38.420

您`MyBranch`类中的字段名称与您的字段不匹配，`json`因此您必须使用`SerializedName`注释。

```
import com.google.gson.annotations.SerializedName;

public class MyBranch extends Entity {
    public MyBranch () {
        super();
    }

    public MyBranch (int id, String name, String isActive) {
        super();
        _ID = id;
        _Name = name;
        _Active = isActive;
    }

    @Column(name = "id", primaryKey = true)
    @SerializedName("ID")
    public int _ID;

    @SerializedName("Name")
    public String _Name;

    @SerializedName("Active")
    public String _Active;
} 
```

**编辑：** 您还可以通过简单的重命名字段来避免使用`SerializedName`注释：`MyBranch`

```
import com.google.gson.annotations.SerializedName;

public class MyBranch extends Entity {
    public MyBranch () {
        super();
    }

    public MyBranch (int id, String name, String isActive) {
        super();
        ID = id;
        Name = name;
        Active = isActive;
    }

    @Column(name = "id", primaryKey = true)
    public int ID;
    public String Name;
    public String Active;
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-08T10:48:17.990

而不是`List`使用`ArrayList`？

```
Gson gson = new Gson();
Type t = new TypeToken<ArrayList<MyBranch >>() {}.getType();     
ArrayList<MyBranch > list = (ArrayList<MyBranch >) gson.fromJson(json, t); 
```

# asp.net - 如何创建一个小按钮？

> ID：15292144
> 
> 赞同：0
> 
> 时间：2013-03-08T10:43:33.533
> 
> 标签：asp.net, button

我需要创建一个小按钮，但我不能用它的宽度来做到这一点。按钮的宽度似乎有一个最小值。当我设置它的高度为 5px 宽度为 5px 时，在 Visual Studio 中是可以的，但是当它在 Web 浏览器中呈现时，只有它的高度是正确的。

你知道如何将按钮的宽度设置为非常小吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:45:55.577

尝试将填充设置为 0。

```
padding: 0px; 
```

浏览器默认添加填充。它也因浏览器而异。

# android - SDK for Android video call

> ID：15292151
> 
> 赞同：-1
> 
> 时间：2013-03-08T10:44:04.830
> 
> 标签：android, video

I am developing an application in android in which I want to make video calls for free over ip. Is there any SDK available so that I can add the Video call functionality in my app.

I looked over Linphone and many other like that but they are providing the core programming, coded at very high level and I am beginner in android so very tough it is to understand those code.

So.. if there is any SDK available by which I could be able to make video call through my app.. please tell me.. a Big thanks to all in advance.. :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T10:50:16.903

CSip 是一个原生 SIP 库，它有一个 Android 端口：[https](https://code.google.com/p/csipsimple/) ://code.google.com/p/csipsimple/他们在 alpha 阶段有一个视频功能。您将需要自己处理 NAT 遍历和所有这些。

您可能还想查看 Adob​​e 的 AIR 3.5 运行时，它有许多 p2p 包括内置的视频。好处是您可以编写一次并部署到 iPhone + Android。使用非原生 SDK 有一些缺点。

# jedit - 如何使用持久堆图像在 Isabelle/jEdit 中更快地加载理论？

> ID：15292158
> 
> 赞同：4
> 
> 时间：2013-03-08T10:44:28.797
> 
> 标签：jedit, isabelle

假设我有一个目录`isabelle_afp`，其中存储了很多理论。该目录是一个库，我不打算更改其中的文件。我想加快 Isabelle/jEdit 的启动时间（默认情况下，`isabelle_afp`我当前理论所依赖的所有理论都重新处理）。

我怎样才能跳过这一步？系统[手册](http://isabelle.in.tum.de/dist/Isabelle2013/doc/system.pdf)告诉我构建一个*持久堆映像*。最简单的方法是什么？

我怎样才能告诉 Isabelle/jEdit 加载这个堆图像？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:15:18.843

Isabelle2013 中的 Isabelle/jEdit 已经通过在`isabelle build_dialog`内部使用该工具的相对基本机制（在引用的文档中有单独的条目）来负责构建堆图像。

`isabelle build_dialog`在不使用或`isabelle build`手动电动工具的情况下，您有两种主要的可能性：

*   jEdit 对话框“Utilities / Options / Plugin Options / Isabelle / General”为“Logic”提供了一个选项，并带有一个小工具提示，表示您必须在更改后重新启动应用程序。这样做，堆映像将在重新启动时生成。

*   命令行选项`-l`，例如`isabelle jedit -l HOL-Word`

对于 AFP 会话，您需要单独告诉系统有关会话目录的信息。这可以通过命令行`isabelle jedit -d DIR1 -d DIR2`或在您的`$ISABELLE_HOME_USER/ROOTS`文件中完成（在单独的行上列出每个目录）。

纯命令行解决方案如下所示：

```
isabelle jedit -d isabelle_afp -l Simpl 
```

请注意，在此示例中，`isabelle_afp`是（相对或绝对）目录名称，`Simpl`而是逻辑会话名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T03:35:14.147

`isabelle_afp`首先，您需要为您的目录设置一个“会话” 。这是通过创建一个包含以下形状条目的文件`ROOT`（内部`isabelle_afp`）来完成的（另请参见`isabelle doc system`第 3 章：Isabelle 会话和构建管理）

```
session session_name = HOL +
  theories
    Theory1
    Theory2
    Theory3 
```

这大致意味着堆映像`session_name`应该基于`HOL`堆映像并另外包含理论`Theory1`，`Theory2`...

现在调用`isabelle jedit -d isabelle_afp -l session_name`. 第一次完成时，这会构建 session 的堆映像`session_name`。只要没有任何`isabelle_afp`变化，任何进一步的调用都将直接在预构建的堆映像之上启动 Isabelle/jEdit `session_name`。

# php - PHP And JS Code Not Executed

> ID：15292165
> 
> 赞同：0
> 
> 时间：2013-03-08T10:44:55.920
> 
> 标签：php, javascript

i Have This PHP and JS Code on my web page.

```
<?php
include 'connect1.php';
$query = "SELECT URL FROM remontee_nlf ORDER BY URL ASC";
$result = mysql_query($query) or die (mysql_error());;
$counter = 0;
// write the values from the database into the javascript array
    echo "<script type='text/javascript'>";
    echo "this.styleListArray = new Array();";
    if ($result) {
        while($row = mysql_fetch_array($result)) {
            echo("this.nameArray[" . $counter . "] = '" . $row['URL'] . ", " .          $row['user_fname'] . "';"); // displays 'lname, fname'
            $counter += 1;
        }
    }
echo("</script>");

?> 
```

The Problem is that when i execute the page containing the code, a part of this code doesn't get executed and it just shows on the page as a simple text :

```
"); echo "this.styleListArray = new Array();"; if ($result) { while($row =   mysql_fetch_array($result)) { echo("this.nameArray[" . $counter . "] = '" . $row['URL'] . ", " . $row['user_fname'] . "';"); // displays 'lname, fname' $counter += 1; } } echo(""); ?> 
```

I tried to figure it out, but i couldn't get it, if you can help brothers, that would be wonderful.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:03:04.327

尝试像这样重写您的代码：

```
include 'connect1.php';
$query = "SELECT URL FROM remontee_nlf ORDER BY URL ASC";
$result = mysql_query($query) or die (mysql_error());
$counter = 0;
// write the values from the database into the javascript array

echo <<<HTML
<script type='text/javascript'>
this.styleListArray = new Array();
HTML;

$strLine = '';

if ($result) {
    while($row = mysql_fetch_array($result)) {
        $strLine.= "this.nameArray[" . $counter . "] = '" . $row['URL'] . ", " . $row['user_fname'] . "';"; 
        $counter += 1;
    }
}

echo $strLine;

echo("</script>"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:10:48.393

首先将您的查询更改为使用 mysqli 或 pdo 连接其次尝试以下代码

```
$sql = 'SELECT URL FROM remontee_nlf ORDER BY URL ASC';
$res = mysql_query($sql, $con);
$rows = array();
while ($row = mysql_fetch_assoc($res))
    $rows[] = $row['URL'];

$str = implode('", "', $rows);
$data = '["'.trim($str).'"]';

echo '<script type="text/javascript">';
echo "var data = $data;";
echo 'console.log(data)';
echo '</script>'; 
```

检查你的控制台日志。

![在此处输入图像描述](../Images/b1b8cfe7bc4b130efd2b43534d2be4bc.png)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-08T10:46:45.613

您已将`$result = mysql_query($query) or die (mysql_error());;`其更改为

```
$result = mysql_query($query) or die (mysql_error()); 
```

还要确保`$row['URL']`并且`$row['user_fname']`可用。

# shell - Shell script to login to ubuntu server and then process commands

> ID：15292167
> 
> 赞同：0
> 
> 时间：2013-03-08T10:45:09.203
> 
> 标签：shell, unix

I have a shell script(.sh file) which logs in to ubuntu server using ssh command. Once logged in i want to do the following commands:

```
sudo -i
su web 
```

I want to incorporate the above commands in the same .sh file. How do i do it? Thanks

# jquery - Insert class when slidetoggle is activated

> ID：15292169
> 
> 赞同：0
> 
> 时间：2013-03-08T10:45:18.497
> 
> 标签：jquery, jquery-ui, slidetoggle

Struggling with where to start on this one, apologies for not much code.

Using slide toggle to display a `div` when `a` is clicked.

`a` currently has a background image with a defined position. I've created a sprite image, so that when the link is clicked, the background position will change to show a downwards pointing arrow (like a typical expanding list.)

How can I build into the function that when `a` is clicked, a class of `arrowDown` is added?

[JS Fiddle](http://jsfiddle.net/ubPve/5/)

I'd like to add a class to this link:

```
<a>See opening times</a> 
```

CSS needing to be added using classname `arrowDown`

```
a.arrowDown
{
    background-position: 2px -9px;
    } 
```

Function:

```
$('.timeList a').click(function(e) {
    $(this).next().slideToggle('slow');
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T10:47:55.820

您可以使用`toggleClass`方法：

```
$('.timeList a').click(function(e) {
    $(this).toggleClass('arrowDown').next().slideToggle('slow');
}); 
```

# windows - 是否可以在 Windows 7 上使用 WP8 SDK 开发 Windows Phone 8 应用程序

> ID：15292172
> 
> 赞同：2
> 
> 时间：2013-03-08T10:45:26.877
> 
> 标签：windows, windows-phone-8

是否有任何解决方法让没有 Windows 8 的开发人员可以使用 Windows Phone SDK 8.0 为 Windows Phone 进行开发？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T10:53:41.913

不幸的是，目前无法在 Windows 7 上为 Windows Phone 8 进行开发。在 Windows Phone 8 SDK 的系统要求中，它指出您需要拥有 Windows 8 才能开发 Windows Phone 8 应用程序。

直接来自 MSDN：

> Windows Phone SDK 8.0 需要 64 位 Windows 8 Pro 或更高版本。您**不能****在 Windows 7**、**Windows Server 2008**或**Windows Server 2012**上开发 Windows Phone 8 应用程序。Windows Phone 8 模拟器具有特殊的硬件、软件和配置要求。有关详细信息，请参阅[Windows Phone 模拟器的系统要求](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff626524%28v=vs.105%29.aspx)。

这主要是因为 Windows 8 中的 Hyper-V 仿真器。**请确保如果您购买 Windows 8，您将获得 Pro（64 位）版本**，因为普通版本中没有 Hyper-V，而且您的 BIOS 必须支持虚拟化才能在 Hyper-V 中运行模拟器。

# multithreading - 丢失 TThreadList 的内容

> ID：15292173
> 
> 赞同：1
> 
> 时间：2013-03-08T10:45:34.893
> 
> 标签：multithreading, delphi, pascal

我遇到了问题，我的 TThreadList 的内容似乎在我的线程中丢失了。

我在“PConnect”类中创建了以下变量：

```
var mCustomfunctionCallbackThread: CustomfunctionCallbackThread; 
```

和一个像下面这样的**全局**变量：

```
var mCustomfunctionCallbackThreadList: TThreadList; 
```

现在我在我的“PConnect”类中填充这个变量，如下所示：

```
function PConnect.callCustomfunction(plugin, method: PAnsiChar; param :CustomParam; callback: ICustomfunctionCallback; callId: PAnsiChar): integer;
var paramName: PAnsiChar;
var id: PAnsiChar;
var error: integer;
var callbackList: TList;
var customfunctionCallback : ^CustomfunctionCallbackObject;
begin
     callbackList:= mCustomfunctionCallbackThreadList.LockList;

     new (customfunctionCallback);
     customfunctionCallback.callId:= id;
     customfunctionCallback.callbackMethod:= callback;
     callbackList.Add(customfunctionCallback);

     mCustomfunctionCallbackThreadList.UnlockList;
     exit(0);
end; 
```

在收到回调后，将调用以下函数。此函数应将其他丢失的数据附加到 TThreadList 条目并在此之后启动一个线程：

```
procedure PConnect.customfunctionCallbackReceived(param :CustomParam; callId: PAnsiChar; error: integer);
var customfunctionCallbackList: TList;
var it: TListEnumerator;
var callbackObject: ^CustomfunctionCallbackObject;
begin
    customfunctionCallbackList:= mCustomfunctionCallbackThreadList.LockList;
    it:= customfunctionCallbackList.GetEnumerator;
    while(it.MoveNext) do
    begin
        callbackObject:= it.GetCurrent;
        if strcomp(callbackObject.callId,callId) = 0 then
        begin
            callbackObject.param:= param;
            callbackObject.error:= error;
            break;
        end;
    end;
    mCustomfunctionCallbackThreadList.UnlockList;
    mCustomfunctionCallbackThread.Start();
end; 
```

Thread 的 Execute 方法应该获取 TThreadList 的内容并使用该参数调用函数。

```
procedure CustomfunctionCallbackThread.Execute;
var callback: ICustomfunctionCallback;
var customfunctionCallbackList: TList;
var it: TListEnumerator;
var callbackObject: ^CustomfunctionCallbackObject;
var param: CustomParam;
var callId: PAnsiChar;
var error: Integer;
begin
    customfunctionCallbackList:= mCustomfunctionCallbackThreadList.LockList;
    it:= customfunctionCallbackList.GetEnumerator;
    while(it.MoveNext) do
    begin
        callbackObject:= it.GetCurrent;
        if callbackObject.error <> NULL then
        begin
            callback:= callbackObject.callbackMethod;
            param:= callbackObject.param;
            error:= callbackObject.error;
            callId:= callbackObject.callId;

            callback.callCustomfunctionCallback(param, callId, error);
            customfunctionCallbackList.Remove(callbackObject);
            break;
        end;
    end;
    mCustomfunctionCallbackThreadList.UnlockList;
end; 
```

继承人的问题，以下变量刚刚得到垃圾或空指针：

```
param:= callbackObject.param;
error:= callbackObject.error;
callId:= callbackObject.callId; 
```

我希望它已经足够描述了:)

我会很高兴得到一些帮助:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:02:38.577

当你这样做

```
customfunctionCallback.callId:= id 
```

变量`id`尚未初始化。这意味着当您稍后检查时

```
strcomp(callbackObject.callId,callId) = 0 
```

它的行为是不明确的，因为`callbackObject.callId`从未初始化。然后发生的是，您看到的定义不明确的行为是表达式永远不会计算结果`True`，因此您永远不会分配给`param`or`error`字段。这与你的观察一致。

我怀疑您应该将`callId`其设为变量并将传递给`string`的参数的值复制到其中。但由于我不知道你在做什么的所有细节，所以我不能 100% 确定这一点。`callId``PConnect.callCustomfunction`

其他一些评论：

*   你真的是想给你的班级命名`PConnect`吗？通常我们在类前面加上`T`.
*   `for in`如果您使用循环而不是循环，代码会更容易阅读`while`。
*   包含`Remove`对列表的调用的循环效率低下。您已经找到该项目，调用`Remove`只是再次搜索列表。执行该循环的方法是`for`使用索引的类循环。当你找到要删除的项目时，调用`Delete`传递项目的索引。
*   当您删除一个项目时，您无法调用`Dispose`，这意味着您泄漏了内存。

# javascript - 用于自定义设置的 JavaScript 正则表达式

> ID：15292174
> 
> 赞同：0
> 
> 时间：2013-03-08T10:45:39.310
> 
> 标签：javascript, regex

我到处搜索，我是正则表达式的新手，也许我在某个地方错过了一些东西。我需要以下示例字符串的 javascript 正则表达式

标题：“我的测试标题”值：“我的测试值”

我想要一个导致以下对象或数组的正则表达式

```
object = {
  caption: "My Test Caption",
  value: "My Test Value"
}

array[0]="My Test Caption"
array[1]="My Test Value" 
```

任何人都可以帮助我，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:59:15.747

这是开始的事情。

```
var myString = 'caption:"My Test Caption" value:"My Test Value"';
var myRegex = /caption:"(.*)" value:"(.*)"/g;
results = myRegex.exec(myString);

console.log(results[1])
console.log(results[2]) 
```

这是关于 javascript 正则表达式中匹配组的另一篇文章：[如何在 JavaScript 正则表达式中访问匹配的组？](https://stackoverflow.com/questions/432493/how-do-you-access-the-matched-groups-in-a-javascript-regex)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:09:12.517

由于问题没有说明标题和值的允许值，我假设标题可以有任何字母（至少 1 个字母）

```
var s = 'caption:"My Test Caption" value:"My Test Value"'
var r = /caption:"(.+)"\s+value:"(.+)"/
var a = s.match(r);
obj = {caption: a[1], value: a[2]} 
```

# c# - 如何将密钥发送到另一个应用程序

> ID：15292175
> 
> 赞同：36
> 
> 时间：2013-03-08T10:45:39.593
> 
> 标签：c#, sendkeys

我想将一个特定的键（例如 k）发送到另一个名为记事本的程序，下面是我使用的代码：

```
private void SendKey()
{
    [DllImport ("User32.dll")]
    static extern int SetForegroundWindow(IntPtr point);

    var p = Process.GetProcessesByName("notepad")[0];
    var pointer = p.Handle;

    SetForegroundWindow(pointer);
    SendKeys.Send("k");
} 
```

但是代码不起作用，代码有什么问题？

是否可以在没有记事本的情况下将“K”发送到记事本作为活动窗口？（例如活动窗口=“谷歌浏览器”，记事本在后台，这意味着向后台应用程序发送密钥）？

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2013-03-08T11:01:13.643

如果记事本已经启动，你应该写：

```
// import the function in your class
[DllImport ("User32.dll")]
static extern int SetForegroundWindow(IntPtr point);

//...

Process p = Process.GetProcessesByName("notepad").FirstOrDefault();
if (p != null)
{
    IntPtr h = p.MainWindowHandle;
    SetForegroundWindow(h);
    SendKeys.SendWait("k");
} 
```

[`GetProcessesByName`](http://msdn.microsoft.com/en-us/library/z3w4xdc9.aspx)返回一个进程数组，所以你应该得到第一个（或找到你想要的）。

如果你想启动`notepad`并发送密钥，你应该写：

```
Process p = Process.Start("notepad.exe");
p.WaitForInputIdle();
IntPtr h = p.MainWindowHandle;
SetForegroundWindow(h);
SendKeys.SendWait("k"); 
```

代码可能不起作用的唯一情况是当`notepad`以管理员身份启动而您的应用程序不是时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-07-11T21:09:25.400

```
 public string h1;
    public string h2;
    public string m1;
    public string m2;
    public string s1;
    public string s2;

   public partial class Form1 

    hours hour = new hours();
Sendkeys.SendWait(Convert.ToString(hour.h1+hour.h2+hour.m1+hour.m2+hour.s1+hour.s2              +" ")); 
```

使用 convert to string 过程将分类字符串发送到 sendkey 进程是一件简单的事情

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-09T09:46:15.023

您可以通过首先复制到剪贴板然后粘贴发送键 ctrl+v 来发送任何内容：

```
Process p = Process.GetProcessesByName("notepad").FirstOrDefault();

if (p != null)
{
    IntPtr h = p.MainWindowHandle;
    SetForegroundWindow(h);
    Clipboard.Clear();
    Clipboard.SetText(txtCode.Text); 
    string strClip = Clipboard.GetText();
    SendKeys.Send("^{v}");
} 
```

# expressionengine - Including categories within expression engine

> ID：15292177
> 
> 赞同：0
> 
> 时间：2013-03-08T10:45:47.373
> 
> 标签：expressionengine, categories

I have created a list view of news articles within Expression Engine. A user can click through on each news article to read the detail. For each entry within the list view I would like to show its associated categories - ie the categories that it has been assigned to.

I am not quite sure how to combine this category information into my channel entries loop.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T20:11:51.283

那么在循环中的每个返回条目中，您想要显示类别分配吗？如果是这种情况，只需在循环中使用[类别变量对。](http://ellislab.com/expressionengine/user-guide/modules/channel/channel_entries.html#categories)

# php - CakePHP auth 组件不登录用户

> ID：15292181
> 
> 赞同：0
> 
> 时间：2013-03-08T10:45:54.027
> 
> 标签：php, cakephp, cakephp-2.3

这是我的 AppController.php

```
class AppController extends Controller {
    public $components = array(
        'Session',
        'Auth' => array(
            'loginAction' => array(
                'controller' => 'students',
                'action' => 'login'
            ),
            'loginRedirect' => array('controller' => 'students', 'action' => 'index'),
            'logoutRedirect' => array('controller' => 'students', 'action' => 'login'),
            'authError' => "You can't acces that page",
            'authorize' => array('controller')
        )
    );

    public function isAuthorized($student){
        return TRUE;
    }
} 
```

这是我的 StudentController.php

```
class StudentsController extends AppController{

        public function login(){
            if($this->request->is('post')){
                if($this->Auth->login()){
                    $this->redirect($this->Auth->redirect());
                }else{
                    $this->Session->setFlash('Your username or password is incorrect');
                }
            }
        }

        public function logout(){
            $this->redirect($this->Auth->logout());
        }
} 
```

这是我的 login.ctp

```
<h2>Login</h2>
<?php
    echo $this->Form->create();
    echo $this->Form->input('username');
    echo $this->Form->input('password');
    echo $this->Form->end('Login');
?> 
```

在我的数据库中，表名是*学生*，其字段是*用户名*和*密码*。

但是每次我尝试用 登录时`$this->Auth->login()`，它都会返回 false 并且显示密码错误的 flash 消息，我无法登录。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:00:12.800

因为您使用的是其他模型而不是`Users`用于身份验证，所以您需要将该模型名称提供给`AuthComponent`.

```
$this->Auth->authenticate = array(
    AuthComponent::ALL => array('userModel' => 'Student'),
    'Form',
    'Basic'
); 
```

你应该阅读[文档](http://book.cakephp.org/2.0/en/core-libraries/components/authentication.html#configuring-authentication-handlers)

# php - PHP - 扩展 Config.m4 文件

> ID：15292183
> 
> 赞同：0
> 
> 时间：2013-03-08T10:45:55.623
> 
> 标签：php, m4

我正在尝试使用[本教程](http://devzone.zend.com/303/extension-writing-part-i-introduction-to-php-and-zend/)编写 PHP 扩展。

在`config.m4`文件中，有诸如`PHP_ARG_ENABLE`等之类的宏。这些宏的定义在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T10:55:35.133

它定义在`/acinclude.m4`

```
dnl
dnl PHP_ARG_ENABLE(arg-name, check message, help text[, default-val[, extension-or-not]])
dnl Sets PHP_ARG_NAME either to the user value or to the default value.
dnl default-val defaults to no.  This will also set the variable ext_shared,
dnl and will overwrite any previous variable of that name.
dnl If extension-or-not is yes (default), then do the ENABLE_ALL check and run
dnl the PHP_ARG_ANALYZE_EX.
dnl
AC_DEFUN([PHP_ARG_ENABLE],[
php_enable_[]translit($1,A-Z0-9-,a-z0-9_)=ifelse($4,,no,$4)
PHP_REAL_ARG_ENABLE([$1],[$2],[$3],[$4],PHP_[]translit($1,a-z0-9-,A-Z0-9_),[ifelse($5,,yes,$5)])
]) 
```

# php - PHPUnit - Mocking a database function

> ID：15292188
> 
> 赞同：2
> 
> 时间：2013-03-08T10:46:23.133
> 
> 标签：php, pdo, tdd, phpunit

Here's a highly simplified version of the class I'm trying to test:

```
class SimpleORM {
    private $table, $pdo;

    public function __construct(PDO $pdo, $table) {
        $this->pdo = $pdo;
        $this->table = $table;
    }

    public function findById($id) {
        $stmt = $this->pdo->prepare('SELECT * FROM ' . $this->table . ' WHERE ' . $this->primaryKey() . ' = :id');

        $stmt->execute(array(':id' => $id);
        return $stmt->fetch(PDO::FETCH_OBJ);

    }

} 
```

So, my question is, how do I write a test for this class?

I can mock PDO, like this:

```
public function testFindById() {
    $pdo = $this->getMock('PDO', array('prepare'));
    $stmt = $this->getMock('PDOStatement', array('execute', 'fetch'));
    $stmt->expects($this->once())->method('execute')->with($this->equalTo(array(':id' => 123)));
    $stmt->expects($this->once())->method('fetch');

    $pdo->expects($this->once())->method('prepare')
                ->with($this->equalTo('SELECT * FROM test WHERE id => :id'))
                ->will($this->returnValue($stmt));

    $mapper = new SimpleOrm($pdo, 'test');
    $mapper->findById(123);
} 
```

The problem with this approach is that exposes the internal workings of the `findById()` method to the test, and if they change the test will fail even though the method may have been refactored to work correctly.

In order for the `findById()` method to succeed, it must call `pdo::prepare()` which must return an object that has an `execute()` and `fetch()` method (as the pdostatement does at the moment). However, how can I test this without exposing the implementation of the method to the test?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T08:50:23.690

我会让代码保持原样，并用可测试的数据预填充数据库。这样你就不需要伪造 PDO，你仍然可以获得功能。

# sharepoint - 微风.js 和 SharePoint 2013

> ID：15292189
> 
> 赞同：5
> 
> 时间：2013-03-08T10:46:23.453
> 
> 标签：sharepoint, breeze, sharepoint-2013

我很想使用**微风.js**与**SharePoint 2013**进行通信。当我们开始为 SharePoint 编写应用程序时，我认为微风.js 将是一个很棒的工具。

SharePoint 使用[ODATA-](http://blog.concentra.co.uk/2013/02/06/odata/) Api[规范](http://msdn.microsoft.com/en-us/library/fp142385.aspx)

我必须采取哪些步骤**才能轻松与 SharePoint**后端完美配合？据我所知，这还没有完成——我想表明这是可以做到的。

[后续问题](https://stackoverflow.com/questions/15310195/from-jquery-ajax-to-breeze-js-sharepoint-odata-example)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T21:58:33.653

这主意听起来很不错！我们内部没有 SharePoint 专业知识。但我们很乐意通过回答问题帮助您取得成功。开始的地方......正在尝试使用您提到的 API 自己查询 SharePoint 资源。Breeze 很乐意与 OData 端点进行通信。您可以从阅读[Breeze OData 文档](http://www.breezejs.com/documentation/odata)开始。

# jquery - 使用 jquery 验证插件对 Monday In Time (selectbox) 和 Out Time 进行两个选择框和一个复选框验证

> ID：15292193
> 
> 赞同：1
> 
> 时间：2013-03-08T10:46:44.330
> 
> 标签：jquery, validation, plugins

*我对 JQuery Validation 插件非常陌生。*

我使用了 JQuery Validation 插件，但无法像在我的 JavaScript 中那样使用验证。

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" ></script>
<script type="text/javascript" src="http://jzaefferer.github.com/jquery-validation/jquery.validate.js" ></script>
<script type="text/javascript">
$().ready(function() {

    $.validator.addMethod("mondayincheck", function(value,element) {
            if($('#hoomonon').val() == '' && $('#hoomonout').val() != '') {
                return true;
           } else {
                return false;
           }
        },"<br>* Choose Monday Out Time"
    );

    /*$.validator.addMethod("mondayoutcheck", function(value, element) {
           return ($('#hoomonon').val() == '' && $('#hoomonout').val() != '')
        }, "<br>* Choose Monday Out Time"
    );*/

    /*$("#signupform").validate({
        rules: {
            telephone: {
                required: function(element) {
                    if ($("#mobile").val().length > 0) {
                        return false;
                    }
                    else {
                        return true;
                    }
                }
            },
            mobile: {
                required: function(element) {
                    if ($("#telephone").val().length > 0) {
                        return false;
                    }
                    else {
                        return true;
                    }

                }
            }
        }
    });*/

    // validate signup form on keyup and submit
    $("#postadd").validate({
        rules: {
            hoomonon: {
                required : function(element) {
                    //alert($('#hoomonon').val() == '' && $('#hoomonout').val() == '' && $('#hoomonoff:checked') == false);
                    if(($('#hoomonon').val() == '' && $('#hoomonout').val() == '') || ($('#hoomonoff:checked') == false)) {
                        return true;
                    }
                },
                mondayincheck : true
            },
            /*hoomonout: {
                required : function(element) {
                    if($('#hoomonon').val() != '' && $('#hoomonout').val() == '') {
                        return true;
                    } 
                }
            },*/
            hootueon: {
                required:true
            },
            hootueout: {
                required:true
            },
            hoowedon: {
                required:true
            },
            hoowedout: {
                required:true
            },
            hoothuon: {
                required:true
            },
            hoothuout: {
                required:true
            },
            hoofrion: {
                required:true
            },
            hoofriout: {
                required:true
            },
            hoosaton: {
                required:true
            },
            hoosatout: {
                required:true
            },
            hoosunon: {
                required:true
            },
            hoosunout: {
                required:true
            }           
        },      
        messages: {
            hoomonon: {
                required : "<br>* Choose Monday Timing or Closed"
            },
            /*hoomonout: {
                required : "<br>* Choose Monday Out Time"
            },*/
            hootueon: {
                required : "<br>* Required Field"
            },
            hootueout: {
                required : "<br>* Required Field"
            },
            hoowedon: {
                required : "<br>* Required Field"
            },
            hoowedout: {
                required : "<br>* Required Field"
            },
            hoothuon: {
                required : "<br>* Required Field"
            },
            hoothuout: {
                required : "<br>* Required Field"
            },
            hoofrion: {
                required : "<br>* Required Field"
            },
            hoofriout: {
                required : "<br>* Required Field"
            },
            hoosaton: {
                required : "<br>* Required Field"
            },
            hoosatout: {
                required : "<br>* Required Field"
            },
            hoosunon: {
                required : "<br>* Required Field"
            },
            hoosunout: {
                required : "<br>* Required Field"
            }           
        }
    }); 
});
</script> 
```

下面是我使用 JQuery Validation 插件验证的表单，但我不知道如何验证下面的表单。我尝试了很多选择，但都没有成功

```
<form id="postadd" name="postadd" method="post" action="" enctype='multipart/form-data' >
<table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td width="9%" height="30" align="left" valign="middle">Mon : </td>
                <td width="30%" align="left" valign="middle"><select class="timinput" name="hoomonon" id="hoomonon">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>
                </select> 
                  - </td>
                <td width="29%" align="left" valign="middle"><select class="timinput" name="hoomonout" id="hoomonout">
                <option value=''>--------Time--------</option>
                <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>
                </select></td>
                <td width="32%" height="40" align="left" valign="middle" class="txt"><label>
                  <input type="checkbox" name="hoomonoff" id="hoomonoff" value="Closed" />
                </label>
                  Closed</td>
              </tr>
              <tr>
                <td height="30" align="left" valign="middle">Tue : </td>
                <td align="left" valign="middle"><select class="timinput" name="hootueon" id="hootueon">
                <option value=''>--------Time--------</option>
                    <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select> 
                  - </td>
                <td align="left" valign="middle"><select class="timinput" name="hootueout" id="hootueout">
                <option value=''>--------Time--------</option>
<option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td height="40" align="left" valign="middle" class="txt"><input type="checkbox" name="hootueoff" id="hootueoff" value="Closed" /> 
                  Closed </td>
              </tr>
              <tr>
                <td height="30" align="left" valign="middle">Wed : </td>
                <td align="left" valign="middle"><select class="timinput" name="hoowedon" id="hoowedon">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td align="left" valign="middle"><select class="timinput" name="hoowedout" id="hoowedout">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td height="40" align="left" valign="middle" class="txt"><input type="checkbox" name="hoowedoff" id="hoowedoff" value="Closed" />
                  Closed </td>
              </tr>
              <tr>
                <td height="30" align="left" valign="middle">Thu : </td>
                <td align="left" valign="middle"><select class="timinput" name="hoothuon" id="hoothuon">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td align="left" valign="middle"><select class="timinput" name="hoothuout" id="hoothuout">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td height="40" align="left" valign="middle" class="txt"><input type="checkbox" name="hoothuoff" id="hoothuoff" value="Closed" />
                  Closed</td>
              </tr>
              <tr>
                <td height="30" align="left" valign="middle">Fri : </td>
                <td align="left" valign="middle"><select class="timinput" name="hoofrion" id="hoofrion">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td align="left" valign="middle"><select class="timinput" name="hoofriout" id="hoofriout">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td height="40" align="left" valign="middle" class="txt"><input type="checkbox" name="hoofrioff" id="hoofrioff" value="Closed" /> 
                  Closed </td>
              </tr>
              <tr>
                <td height="30" align="left" valign="middle">Sat : </td>
                <td align="left" valign="middle"><select class="timinput" name="hoosaton" id="hoosaton">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td align="left" valign="middle"><select class="timinput" name="hoosatout" id="hoosatout">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td height="40" align="left" valign="middle" class="txt"><input type="checkbox" name="hoosatoff" id="hoosatoff" value="Closed" />
                  Closed </td>
              </tr>
              <tr>
                <td height="30" align="left" valign="middle">Sun : </td>
                <td align="left" valign="middle"><select class="timinput" name="hoosunon" id="hoosunon">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td align="left" valign="middle"><select class="timinput" name="hoosunout" id="hoosunout">
                <option value=''>--------Time--------</option>
                  <option value='1:00 AM'>1:00 AM</option>
                  <option value='1:30 AM'>1:30 AM</option>
                  <option value='2:00 AM'>2:00 AM</option>
                  <option value='2:30 AM'>2:30 AM</option>                </select></td>
                <td height="40" align="left" valign="middle" class="txt"><input type="checkbox" name="hoosunoff" id="hoosunoff" value="Closed" />
                Closed</td>
              </tr>
            </table>
            </form>

I am using Jquery Validation plugin in this php page for above form, 

I want to validate like this javascript using jquery validation plugin

if(hoomononval == '' && hoomonoutval == '' && document.postadd.hoomonoff.checked==false) {
        alert('Please Choose Monday Timing or Closed');
        hoomonon.focus();
        return false;
    }

    if(hoomononval != '') {
        if(hoomonoutval == '') {
            alert('Please Choose Monday Out Time');
        hoomonout.focus();
        return false;
        } else if(hoomononval == hoomonoutval) {
            alert('Please Choose different Monday In & Out Time');
            hoomonon.focus();
            return false;
        }
    }

    if(hoomonoutval != '') {
        if(hoomononval == '') {
            alert('Please Choose Monday In Time');
            hoomonon.focus();
            return false;
        }
        else if(hoomononval == hoomonoutval) {
            alert('Please Choose different Monday In & Out Time');
            hoomonon.focus();
            return false;
        } 
    }

    if(hoomononval !='' && hoomonoutval !='') {
            var g   =   0;
            if (document.postadd.hoomonoff.checked==true)
            { 
                //alert('good');
                g++;
            }

        if(g == 1) {
            alert("Don't Choose timing if you choose Closed & Viceversa");
            hoomonoff.focus();
            return false;
        }
    }

    if(hootueonval == '' && hootueoutval == '' && document.postadd.hootueoff.checked==false) {
        alert('Please Choose Tuesday Timing or Closed');
        hootueon.focus();
        return false;
    }

    if(hootueonval != '') {
        if(hootueoutval == '') {
        alert('Please Choose Tuesday Out Time');
        hootueout.focus();
        return false;
        } else if(hootueonval == hoowedoutval) {
            alert('Please Choose different Tuesday In & Out Time');
            hootueon.focus();
            return false;
        }
    }

    if(hootueoutval != '') {
        if(hootueonval == '') {
            alert('Please Choose Tuesday In Time');
            hootueon.focus();
            return false;
        }
        else if(hootueonval == hootueoutval) {
            alert('Please Choose different Tuesday In & Out Time');
            hootueon.focus();
            return false;
        } 
    }

    if(hootueonval !='' && hootueoutval !='') {
        var g   =   0;
            if (document.postadd.hootueoff.checked==true)
            { 
                //alert('good');
                g++;
            }

        if(g == 1) {
            alert("Don't Choose timing if you choose Closed & Viceversa");
            hootueoff.focus();
            return false;
        }
    }

    if(hoowedonval == '' && hoowedoutval == '' && document.postadd.hoowedoff.checked==false) {
        alert('Please Choose Wednesday Timing or Closed');
        hoowedon.focus();
        return false;
    }

    if(hoowedonval != '') {
        if(hoowedoutval == '') {
        alert('Please Choose Wednesday Out Time');
        hoowedout.focus();
        return false;
        } else if(hoowedonval == hoowedoutval) {
            alert('Please Choose different Wednesday In & Out Time');
            hoowedon.focus();
            return false;
        }
    }

    if(hoowedoutval != '') {
        if(hoowedonval == '') {
            alert('Please Choose Wednesday In Time');
            hoowedon.focus();
            return false;
        }
        else if(hoowedonval == hoowedoutval) {
            alert('Please Choose different Wednesday In & Out Time');
            hoowedon.focus();
            return false;
        } 
    }

    if(hoowedonval !='' && hoowedoutval !='') {
            var g   =   0;
            if (document.postadd.hoowedoff.checked==true)
            { 
                //alert('good');
                g++;
            }

        if(g == 1) {
            alert("Don't Choose timing if you choose Closed & Viceversa");
            hoowedoff.focus();
            return false;
        }
    }

    if(hoothuonval == '' && hoothuoutval == '' && document.postadd.hoothuoff.checked==false) {
        alert('Please Choose Thursday Timing or Closed');
        hoothuon.focus();
        return false;
    }

    if(hoothuonval != '') {
        if(hoothuoutval == '') {
        alert('Please Choose Thursday Out Time');
        hoothuout.focus();
        return false;
        } else if(hoothuonval == hoothuoutval) {
            alert('Please Choose different Thursday In & Out Time');
            hoothuon.focus();
            return false;
        }
    }

    if(hoothuoutval != '') {
        if(hoothuonval == '') {
            alert('Please Choose Thursday In Time');
            hoothuon.focus();
            return false;
        }
        else if(hoothuonval == hoothuoutval) {
            alert('Please Choose different Thursday In & Out Time');
            hoothuon.focus();
            return false;
        } 
    }

    if(hoothuonval !='' && hoothuoutval !='') {
            var g   =   0;
            if (document.postadd.hoothuoff.checked==true)
            { 
                //alert('good');
                g++;
            }

        if(g == 1) {
            alert("Don't Choose timing if you choose Closed & Viceversa");
            hoothuoff.focus();
            return false;
        }
    }

    if(hoofrionval == '' && hoofrioutval == '' && document.postadd.hoofrioff.checked==false) {
        alert('Please Choose Friday Timing or Closed');
        hoofrion.focus();
        return false;
    }

    if(hoofrionval != '') {
        if(hoofrioutval == '') {
        alert('Please Choose Friday Out Time');
        hoofriout.focus();
        return false;
        } else if(hoofrionval == hoofrioutval) {
            alert('Please Choose different Friday In & Out Time');
            hoofrion.focus();
            return false;
        }
    }

    if(hoofrioutval != '') {
        if(hoofrionval == '') {
            alert('Please Choose Friday In Time');
            hoofrion.focus();
            return false;
        }
        else if(hoofrionval == hoofrioutval) {
            alert('Please Choose different Friday In & Out Time');
            hoofrion.focus();
            return false;
        } 
    }

    if(hoofrionval !='' && hoofrioutval !='') {
            var g   =   0;
            if (document.postadd.hoofrioff.checked==true)
            { 
                //alert('good');
                g++;
            }

        if(g == 1) {
            alert("Don't Choose timing if you choose Closed & Viceversa");
            hoofrioff.focus();
            return false;
        }
    }

    if(hoosatonval == '' && hoosatoutval == '' && document.postadd.hoosatoff.checked==false) {
        alert('Please Choose Wednesday Timing or Closed');
        hoosaton.focus();
        return false;
    }

    if(hoosatonval != '') {
        if(hoosatoutval == '') {
        alert('Please Choose Saturday Out Time');
        hoosatout.focus();
        return false;
        } else if(hoosatonval == hoosatoutval) {
            alert('Please Choose different Saturday In & Out Time');
            hoosaton.focus();
            return false;
        }
    }

    if(hoosatoutval != '') {
        if(hoosatonval == '') {
            alert('Please Choose Saturday In Time');
            hoosaton.focus();
            return false;
        }
        else if(hoosatonval == hoosatoutval) {
            alert('Please Choose different Saturday In & Out Time');
            hoosaton.focus();
            return false;
        } 
    }

    if(hoosatonval !='' && hoosatoutval !='') {
            var g   =   0;
            if (document.postadd.hoosatoff.checked==true)
            { 
                //alert('good');
                g++;
            }

        if(g == 1) {
            alert("Don't Choose timing if you choose Closed & Viceversa");
            hoosatoff.focus();
            return false;
        }
    }

    if(hoosunonval == '' && hoosunoutval == '' && document.postadd.hoosunoff.checked==false) {
        alert('Please Choose Sunday Timing or Closed');
        hoosunon.focus();
        return false;
    }

    if(hoosunonval != '') {
        if(hoosunoutval == '') {
            alert('Please Choose Sunday Out Time');
            hoosunout.focus();
            return false;
        }
        else if(hoosunonval == hoosunoutval) {
            alert('Please Choose different Sunday In & Out Time');
            hoosunon.focus();
            return false;
        } 
    }

    if(hoosunoutval != '') {
        if(hoosunonval == '') {
            alert('Please Choose Sunday In Time');
            hoosunon.focus();
            return false;
        }
        else if(hoosunonval == hoosunoutval) {
            alert('Please Choose different Sunday In & Out Time');
            hoosunon.focus();
            return false;
        } 
    }

    if(hoosunonval !='' && hoosunoutval !='') {
            var g   =   0;
            if (document.postadd.hoosunoff.checked==true)
            { 
                //alert('good');
                g++;
            }

        if(g == 1) {
            alert("Don't Choose timing if you choose Closed & Viceversa");
            hoosunoff.focus();
            return false;
        }
    }

    if(document.postadd.hoomonoff.checked==true && document.postadd.hootueoff.checked==true && document.postadd.hoowedoff.checked==true && document.postadd.hoothuoff.checked==true && document.postadd.hoofrioff.checked==true && document.postadd.hoosatoff.checked==true && document.postadd.hoosunoff.checked==true) {
        alert("All Days Can't Be Closed");
        hoomonon.focus();
        return false;
    } 
```

# c++ - dxvahd.h Microsoft 头文件中的#if WINAPI_FAMILY_PARTITION(WINAPI_PARTITION_DESKTOP) 何时变为真

> ID：15292199
> 
> 赞同：7
> 
> 时间：2013-03-08T10:47:04.147
> 
> 标签：c++, visual-c++, conditional, conditional-statements, conditional-compilation

嗨，我有 2 个 VC++ 解决方案“A”和“B”（VS2008）都具有相同的代码库（只有几行代码不同）。在两者中都使用 DXVAHD.h。

dxvahd.h 是标准的 Microsoft 头文件。如果我们打开这个头文件，我们会看到有一个条件 if " `#if WINAPI_FAMILY_PARTITION(WINAPI_PARTITION_DESKTOP)`"

> 我看到在 VC++ 解决方案“A”中，上面的条件 #if 语句是错误的，因此整个 dxvahd 头文件变灰并且甚至没有编译！

而在另一个解决方案“B”中，这个条件#if 为真，因此没有问题并且工作正常。

**任何人都可以让我知道如何在解决方案“A”中解决此问题，其中上述#if 变灰/未编译。PLZ帮帮我。**

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-08T11:02:34.470

查看[winapifamily.h](https://github.com/jp9000/OBS/blob/master/extras/winapifamily.h)，您可以看到这些宏用于确定您拥有什么平台以及哪些 API 适合您的平台。

```
/*
 *  Windows APIs can be placed in a partition represented by one of the below bits.   The 
 *  WINAPI_FAMILY value determines which partitions are available to the client code.
 */

#define WINAPI_PARTITION_DESKTOP   0x00000001
#define WINAPI_PARTITION_APP       0x00000002    

/*
 * A family may be defined as the union of multiple families. WINAPI_FAMILY should be set
 * to one of these values.
 */
#define WINAPI_FAMILY_APP          WINAPI_PARTITION_APP
#define WINAPI_FAMILY_DESKTOP_APP  (WINAPI_PARTITION_DESKTOP | WINAPI_PARTITION_APP)    

/*
 * A constant that specifies which code is available to the program's target runtime platform.
 * By default we use the 'desktop app' family which places no restrictions on the API surface. 
 * To restrict the API surface to just the App API surface, define WINAPI_FAMILY to WINAPI_FAMILY_APP.
 */
#ifndef WINAPI_FAMILY
#define WINAPI_FAMILY WINAPI_FAMILY_DESKTOP_APP
#endif

/* Macro to determine if a partition is enabled */
#define WINAPI_FAMILY_PARTITION(Partition)  ((WINAPI_FAMILY & Partition) == Partition)

/* Macro to determine if only one partition is enabled from a set */
#define WINAPI_FAMILY_ONE_PARTITION(PartitionSet, Partition) ((WINAPI_FAMILY & PartitionSet) == Partition) 
```

因此`WINAPI_PARTITION_DESKTOP`，只有在系统的桌面系列上运行时才会设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-30T09:58:28.403

WINAPI_FAMILY 也根据目标 Windows 版本进行设置。

请参阅[此讨论](https://social.msdn.microsoft.com/Forums/en-US/3965645c-978c-4148-b32c-1853f7fd22b3/platform-defined-macros-for-windows-store-app?forum=winappswithnativecode)和链接的[博客文章系列](https://blogs.msdn.microsoft.com/chuckw/2012/09/17/dual-use-coding-techniques-for-games-part-3/)。

特别是，如果您不是在编写“应用程序”（对于 >= Win 8），那么：

> 首选使用标准 _WIN32_WINNT Windows 定义来选择正确的 Win32 API（即在 Windows 应用商店应用程序中使用的许多 Win32 API 是 Vista (0x0600)、Windows 7 (0x0601) 或 Windows 8 (0x0602) 版本。

您可以使用[WINVER 或 _WIN32_WINNT](https://msdn.microsoft.com/en-us/library/6sehtctf.aspx)。

# android - Facebook 集成到 Android 中？

> ID：15292200
> 
> 赞同：7
> 
> 时间：2013-03-08T10:47:13.803
> 
> 标签：android, facebook, integration

嗨，我正在尝试将 Facebook 集成到我的应用程序中，因此我得到了[集成指南的指导](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)

但是我在第 3 步中遇到了错误，当我导入时，控制台显示了一些错误，例如

```
[2013-03-08 10:16:07 - MessagesTask] Unable to resolve target 'android-8'
[2013-03-08 10:17:00 - MessagesTask] Unable to resolve target 'android-8'
[2013-03-08 15:57:54 - ProfilePictureSample] Unable to resolve target 'android-8'
[2013-03-08 15:57:54 - BooleanOGSample] Unable to resolve target 'android-8'
[2013-03-08 15:57:54 - Hackbook] Unable to resolve target 'android-8'
[2013-03-08 15:57:55 - GraphApiSample] Unable to resolve target 'android-8'
[2013-03-08 15:57:55 - Scrumptious] Unable to resolve target 'android-8'
[2013-03-08 15:57:55 - PlacePickerSample] Unable to resolve target 'android-8'
[2013-03-08 15:57:55 - SessionLoginSample] Unable to resolve target 'android-8'
[2013-03-08 15:57:55 - FriendPickerSample] Unable to resolve target 'android-8'
[2013-03-08 15:57:55 - HelloFacebookSample] Unable to resolve target 'android-8'
[2013-03-08 15:57:55 - FacebookSDK] Unable to resolve target 'android-8'
[2013-03-08 15:57:56 - SwitchUserSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:05 - ProfilePictureSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\ProfilePictureSample\bin\jarlist.cache
[2013-03-08 15:58:07 - FacebookSDK] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - ProfilePictureSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - BooleanOGSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - Hackbook] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - GraphApiSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - Scrumptious] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - PlacePickerSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - SessionLoginSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - FriendPickerSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - HelloFacebookSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - SwitchUserSample] Unable to resolve target 'android-8'
[2013-03-08 15:58:07 - FacebookSDK] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\facebook\bin\jarlist.cache
[2013-03-08 15:58:07 - ProfilePictureSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\ProfilePictureSample\bin\jarlist.cache
[2013-03-08 15:58:07 - BooleanOGSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\BooleanOGSample\bin\jarlist.cache
[2013-03-08 15:58:07 - Hackbook] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\Hackbook\bin\jarlist.cache
[2013-03-08 15:58:07 - GraphApiSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\GraphApiSample\bin\jarlist.cache
[2013-03-08 15:58:07 - Scrumptious] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\Scrumptious\bin\jarlist.cache
[2013-03-08 15:58:07 - PlacePickerSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\PlacePickerSample\bin\jarlist.cache
[2013-03-08 15:58:07 - SessionLoginSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\SessionLoginSample\bin\jarlist.cache
[2013-03-08 15:58:07 - FriendPickerSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\FriendPickerSample\bin\jarlist.cache
[2013-03-08 15:58:07 - HelloFacebookSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\HelloFacebookSample\bin\jarlist.cache
[2013-03-08 15:58:07 - SwitchUserSample] WARNING: unable to write jarlist cache file C:\Users\gtm\facebook-android-sdk-3.0\samples\SwitchUserSample\bin\jarlist.cache 
```

所以你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-08T10:55:15.613

那是因为您的 SDK 中没有 API 级别 8。右键单击项目，然后转到 Properties > Android 并选择另一个可用的 API

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-18T15:46:24.163

打开**Android SDK Manager**并安装**Android 2.2 (API 8)**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-07-30T12:39:22.760

如果未安装 API 级别 8，则使用 Android SDK 安装它。

如果已安装，请右键单击项目。属性>Android。选择构建路径为 Android 2.2 (API Level 8)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T10:51:06.867

您只需要安装 API 8。

希望它有帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T11:02:04.483

只需将其添加到清单中

```
<uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" android:maxSdkVersion="17"/> 
```

# c# - 突出显示文档查看器中的所有点击

> ID：15292203
> 
> 赞同：2
> 
> 时间：2013-03-08T10:47:16.110
> 
> 标签：c#, wpf, documentviewer

我知道 wpf-documentviewer 支持在文档中搜索，如果文档是 xpsdocument。搜索只突出显示一个接一个的命中。

是否可以通过搜索框突出显示所有点击？

我有以下代码来创建和设置 DocumentViewer-Control 的文档：

```
 public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
        FixedDocument fixedDocument = CreateTestDocument();
        this.documentViewer.Document = BuildFixedDocumentSequence(fixedDocument);
    }

    private static FixedDocumentSequence BuildFixedDocumentSequence(FixedDocument fixedDocument)
    {
        MemoryStream ms = new MemoryStream();
        Uri documentUri = new Uri("pack://document.xps");
        Package p = Package.Open(ms, FileMode.Create, FileAccess.ReadWrite);
        PackageStore.AddPackage(documentUri, p);
        XpsDocument xpsDocument = new XpsDocument(p, CompressionOption.NotCompressed, documentUri.AbsoluteUri);
        XpsDocumentWriter dw = XpsDocument.CreateXpsDocumentWriter(xpsDocument);
        dw.Write(fixedDocument);
        FixedDocumentSequence fixedDocumentSequence = xpsDocument.GetFixedDocumentSequence();
        if (fixedDocumentSequence == null)
            return null;
        return fixedDocumentSequence;
    }

    public FixedDocument CreateTestDocument()
    {
        FixedDocument document = new FixedDocument();
        PrintDialog printDialog = new PrintDialog();
        document.DocumentPaginator.PageSize = new Size(printDialog.PrintableAreaWidth, printDialog.PrintableAreaHeight);
        AddPage(document, "This is the first page");
        AddPage(document, "This is not the first page");
        AddPage(document, "This is the third page");
        return document;
    }

    private void AddPage(FixedDocument document, string content)
    {
        FixedPage page = new FixedPage
            {
                Width = document.DocumentPaginator.PageSize.Width,
                Height = document.DocumentPaginator.PageSize.Height
            };
        TextBlock pageText = new TextBlock
            {
                Text = content,
                FontSize = 40,
                Margin = new Thickness(96)
            };
        page.Children.Add(pageText);
        PageContent pageContent = new PageContent();
        ((IAddChild)pageContent).AddChild(page);
        document.Pages.Add(pageContent);
    }
} 
```

xaml 代码仅包含文档查看器。现在，如果我在文档查看器的搜索框中输入“页面”并按回车键，则第一页上的“页面”一词会突出显示。通过另一次按下返回键，第二页上的“page”一词被突出显示。

我想要实现的是，通过第一次按回车键，所有单词“页面”都被突出显示。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T12:29:10.023

There is no easy way of doing this, that I could find. With a lot of trial and error, but mainly reflection (pun intended;), this can be done - I was still quite amazed when it actually worked.

I subclassed the DocumentViewer, and went from there. The [http://reflector.webtropy.com](http://reflector.webtropy.com) site came in very handy, wouldn't have gotten anywhere without the source code.

![enter image description here](../Images/add23b2d1352a23d53f5a3c981df5480.png)

The code behind didn't change, take it from the question post.

Usage:

```
<local:MyDocumentViewer x:Name="documentViewer"  /> 
```

MyDocumentViewer:

```
/// <summary>
/// DocumentViewer that has his Search Box overridden in order to select multiple results in the document.
/// Use IsMultiSearchEnabled to turn off this behavior.
/// The number of results can be limited with the MaxSearchResults property.
/// </summary>
public class MyDocumentViewer : DocumentViewer
{
    private ToolBar _myfindToolbar; // MS.Internal.Documents.FindToolBar
    private object _mydocumentScrollInfo; // MS.Internal.Documents.DocumentGrid

    private MethodInfo _miFind; // DocumentViewerBase.Find(FindToolBar)
    private MethodInfo _miGoToTextBox; // FindToolBar.GoToTextBox()
    private MethodInfo _miMakeSelectionVisible; // DocumentGrid.MakeSelectionVisible()

    /// <summary>
    /// Limit for returned search results. 0 for no limit, default is int.MaxValue.
    /// </summary>
    public int MaxSearchResults { get { return (int)GetValue(MaxSearchResultsProperty); } set { SetValue(MaxSearchResultsProperty, value); } }
    public static readonly DependencyProperty MaxSearchResultsProperty =
        DependencyProperty.Register("MaxSearchResults", typeof(int), typeof(MyDocumentViewer), new PropertyMetadata(int.MaxValue));

    /// <summary>
    /// Determines if the search of the find toolbox is overridden and multiple search results are selected in the document.
    /// </summary>
    public bool IsMultiSearchEnabled { get { return (bool)GetValue(IsMultiSearchEnabledProperty); } set { SetValue(IsMultiSearchEnabledProperty, value); } }
    public static readonly DependencyProperty IsMultiSearchEnabledProperty =
        DependencyProperty.Register("IsMultiSearchEnabled", typeof(bool), typeof(MyDocumentViewer), new PropertyMetadata(true));

    public override void OnApplyTemplate()
    {
        base.OnApplyTemplate();

        if (IsMultiSearchEnabled)
        {
            // get some private fields from the base class DocumentViewer
            _myfindToolbar = this.GetType().GetPrivateFieldOfBase("_findToolbar").GetValue(this) as ToolBar;
            _mydocumentScrollInfo = this.GetType().GetPrivateFieldOfBase("_documentScrollInfo").GetValue(this);

            // replace button click handler of find toolbar
            EventInfo evt = _myfindToolbar.GetType().GetEvent("FindClicked");
            ReflectionHelper.RemoveEventHandler(_myfindToolbar, evt.Name); // remove existing handler
            evt.AddEventHandler(_myfindToolbar, new EventHandler(OnFindInvoked)); // attach own handler

            // get some methods that will need to be invoked
            _miFind = this.GetType().GetMethod("Find", BindingFlags.NonPublic | BindingFlags.Instance);
            _miGoToTextBox = _myfindToolbar.GetType().GetMethod("GoToTextBox");
            _miMakeSelectionVisible = _mydocumentScrollInfo.GetType().GetMethod("MakeSelectionVisible");
        }
    }

    /// <summary>
    /// This is replacing DocumentViewer.OnFindInvoked(object sender, EventArgs e)
    /// </summary>
    private void OnFindInvoked(object sender, EventArgs e)
    {
        IList allSegments = null; // collection of text segments
        TextRange findResult = null; // could also use object, does not need type

        //Give ourselves focus, this ensures that the selection
        //will be made visible after it's made.
        this.Focus();

        // Drill down to the list of selected text segments: DocumentViewer.TextEditor.Selection.TextSegments
        object textEditor = this.GetType().GetProperty("TextEditor", BindingFlags.Instance | BindingFlags.NonPublic).GetValue(this); // System.Windows.Documents.TextEditor
        object selection = textEditor.GetType().GetProperty("Selection", BindingFlags.NonPublic | BindingFlags.Instance).GetValue(textEditor); // System.Windows.Documents.TextSelection
        FieldInfo fiTextSegments = selection.GetType().GetPrivateFieldOfBase("_textSegments");
        IList textSegments = fiTextSegments.GetValue(selection) as IList; // List<System.Windows.Documents.TextSegment>

        // Clearing the selection in order to start search from the beginning of the document. I suspect there might be a better way of doing this.
        object segmentStart = textSegments[0].GetType().GetField("_start", BindingFlags.NonPublic | BindingFlags.Instance).GetValue(textSegments[0]); // get segment start (one textsegment is always present)
        int currentOffset = (int)segmentStart.GetType().GetProperty("System.Windows.Documents.ITextPointer.Offset", BindingFlags.NonPublic | BindingFlags.Instance).GetValue(segmentStart); // get offset of segment start
        segmentStart = segmentStart.GetType().GetMethod("CreatePointer", new Type[] { segmentStart.GetType(), typeof(int) }).Invoke(segmentStart, new object[] { segmentStart, -currentOffset }); // set the offset back to 0

        textSegments[0] = textSegments[0].GetType().GetConstructor(BindingFlags.NonPublic | BindingFlags.Instance, null, new Type[] { segmentStart.GetType(), segmentStart.GetType() }, null) 
                                                   .Invoke(new object[] { segmentStart, segmentStart}); // create a new textsegment with resetted offset

        for (int i = 1; i < textSegments.Count; i++)
        {
            textSegments.RemoveAt(i); // remove all other segments
        }

        // Always search down
        _myfindToolbar.GetType().GetProperty("SearchUp").SetValue(_myfindToolbar, false);

        // Search and collect the find results
        int resultCount = 0;
        do
        {
            // invoke: DocumentViewerBase.Find(findToolBar)
            findResult = _miFind.Invoke(this, new object[] { _myfindToolbar }) as TextRange;

            if (findResult != null)
            {
                // get the selected TextSegments of the search
                textSegments = fiTextSegments.GetValue(selection) as IList; // List<System.Windows.Documents.TextSegment>
                if (allSegments == null)
                    allSegments = textSegments; // first search find, set whole collection
                else
                    allSegments.Add(textSegments[0]); // after first find, add to collection

                resultCount++;
            }
        }
        while (findResult != null && (MaxSearchResults == 0 || resultCount < MaxSearchResults)); // stop if no more results were found or limit is exceeded

        if (allSegments == null)
        {
            // alert the user that we did not find anything
            string searchText = _myfindToolbar.GetType().GetProperty("SearchText").GetValue(_myfindToolbar) as string;
            string messageString = string.Format("Searched the document. Cannot find '{0}'.", searchText);

            MessageBox.Show(messageString, "Find", MessageBoxButton.OK, MessageBoxImage.Asterisk);
        }
        else
        {
            // set the textsegments field to the collected search results
            fiTextSegments.SetValue(selection, allSegments);

            // this marks the text. invoke: DocumentGrid.MakeSelectionVisible()
            _miMakeSelectionVisible.Invoke(_mydocumentScrollInfo, null);
        }

        // put the focus back on the findtoolbar textbox to search again. invoke: FindToolBar.GoToTextBox()
        _miGoToTextBox.Invoke(_myfindToolbar, null);
    }
}

public static class ReflectionExtensions
{
    /// <summary>
    /// Gets private field of base class. Normally, they are not directly accessible in a GetField call.
    /// </summary>
    public static FieldInfo GetPrivateFieldOfBase(this Type type, string fieldName)
    {
        BindingFlags bindingFlags = BindingFlags.Instance | BindingFlags.NonPublic;

        // Declare variables
        FieldInfo fieldInfo = null;

        // Search as long as there is a type
        while (type != null)
        {
            // Use reflection
            fieldInfo = type.GetField(fieldName, bindingFlags);

            // Yes, do we have a field?
            if (fieldInfo != null) break;

            // Get base class
            type = type.BaseType;
        }

        // Return result
        return fieldInfo;
    }
}

/// <summary>
/// http://www.codeproject.com/Articles/103542/Removing-Event-Handlers-using-Reflection
/// </summary>
public static class ReflectionHelper
{
    static Dictionary<Type, List<FieldInfo>> dicEventFieldInfos = new Dictionary<Type, List<FieldInfo>>();

    static BindingFlags AllBindings
    {
        get { return BindingFlags.IgnoreCase | BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.Static; }
    }

    static List<FieldInfo> GetTypeEventFields(Type t)
    {
        if (dicEventFieldInfos.ContainsKey(t))
            return dicEventFieldInfos[t];

        List<FieldInfo> lst = new List<FieldInfo>();
        BuildEventFields(t, lst);
        dicEventFieldInfos.Add(t, lst);
        return lst;
    }

    static void BuildEventFields(Type t, List<FieldInfo> lst)
    {
        //BindingFlags.FlattenHierarchy only works on protected & public, doesn't work because fields are private
        // Uses .GetEvents and then uses .DeclaringType to get the correct ancestor type so that we can get the FieldInfo.
        foreach (EventInfo ei in t.GetEvents(AllBindings))
        {
            Type dt = ei.DeclaringType;
            FieldInfo fi = dt.GetField(ei.Name, AllBindings);
            if (fi != null)
                lst.Add(fi);
        }
    }

    static EventHandlerList GetStaticEventHandlerList(Type t, object obj)
    {
        MethodInfo mi = t.GetMethod("get_Events", AllBindings);
        return (EventHandlerList)mi.Invoke(obj, new object[] { });
    }

    public static void RemoveAllEventHandlers(object obj) { RemoveEventHandler(obj, ""); }

    public static void RemoveEventHandler(object obj, string EventName)
    {
        if (obj == null)
            return;

        Type t = obj.GetType();
        List<FieldInfo> event_fields = GetTypeEventFields(t);
        EventHandlerList static_event_handlers = null;

        foreach (FieldInfo fi in event_fields)
        {
            if (EventName != "" && string.Compare(EventName, fi.Name, true) != 0)
                continue;

            // STATIC Events have to be treated differently from INSTANCE Events...
            if (fi.IsStatic)
            {
                if (static_event_handlers == null)
                    static_event_handlers = GetStaticEventHandlerList(t, obj);

                object idx = fi.GetValue(obj);
                Delegate eh = static_event_handlers[idx];
                if (eh == null)
                    continue;

                Delegate[] dels = eh.GetInvocationList();
                if (dels == null)
                    continue;

                EventInfo ei = t.GetEvent(fi.Name, AllBindings);
                foreach (Delegate del in dels)
                    ei.RemoveEventHandler(obj, del);
            }
            else
            {
                EventInfo ei = t.GetEvent(fi.Name, AllBindings);
                if (ei != null)
                {
                    object val = fi.GetValue(obj);
                    Delegate mdel = (val as Delegate);
                    if (mdel != null)
                    {
                        foreach (Delegate del in mdel.GetInvocationList())
                            ei.RemoveEventHandler(obj, del);
                    }
                }
            }
        }
    }
} 
```

# xcode - 如何将 UILabel 从一个 UIViewcontroller 导入到另一个

> ID：15292208
> 
> 赞同：1
> 
> 时间：2013-03-08T10:47:30.793
> 
> 标签：xcode, uiviewcontroller, uilabel, textfield

我遇到了xcode的问题。我是 object-c 和 xcode 的菜鸟，所以......请帮忙。

我有 2 个视图控制器：`ViewController (with .m/.h)`和`HighScores (with .m/.h).`

在 HighScores 中，我放置了一个名为 first 的标签。在`ViewController`我有一个`UITextField`名为 *textField。我希望 textField 中的文本在我输入文本时出现在标签中，并且当已经玩过的游戏得分高于标签中已经存在的文本（“第一”）时。

所以，

这就是我的**HighScore.h**的样子：

```
#import <UIKit/UIKit.h>

@interface HighScores: UIViewController {

IBOutlet UILabel *first;

}

@end 
```

这是**ViewController.m**：

```
#import "ViewController.h"
#import "HighScore.h"

...

NSString *myString = [HighScores.first];

if (score.text > myString) {

    NSString *string = [textField text];
    [HighScores.first setText:string] 
```

但是xcode说当我在点'.'之后输入“first”时出现错误......如果我想让xCode识别来自HighScore的“first”标签，我该怎么`UIViewController`做`VewController` `UiViewController`？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T12:10:00.377

在您的代码中，“first”是一个 UILabel ，它将在 highScores 视图被加载时生成。因为它是一个 IBOUTlet。其次，您正在尝试使用类名进行访问。首先创建一个 HighScore 类的实例，然后尝试访问标签“first”。

```
#import <UIKit/UIKit.h>

@interface HighScores: UIViewController
@property (nonatomic , strong)UILabel *firstLabel  ;

@end

@implementation HighScores
 - (id)initWithNibName:(NSString *)nibName bundle:(NSBundle *)nibBundle
{
 self.firstLabel = [[UILabel alloc]initWithFrame:CGRectMake(0, 0, 100, 50)];
 [self.view addSubview self.firstlabel];
}

@end 
```

比在 ViewController.m 中

```
HighScore * highscoreObject = [[HighScore alloc]init];

NSString *mystring = [highscoreObject.firstLabel text];

if (score.text > mystring) {

[highscoreObject.firstLabel setText:score.text];

{ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T11:05:01.603

让我们使用通知，如果您在这里感到困惑：在这种情况下，您也可以使用 IBoutlet。我们将抛出一个带有要设置的字符串的通知，并在 HighScores 中读取通知并使用字符串 send 设置标签。

在 ViewController.m 中

```
if (score.text > myString) {

NSString *string = [textField text];

[[NSNotificationCenter defaultCenter] postNotificationName:@"update" object:string];
}

@interface HighScores: UIViewController
@property (nonatomic , strong) IBOutlet  UILabel *firstLabel  ;

@end 
```

在 HighScores.m 中

```
@implementation HighScores

- (void)viewDidLoad
{
 [super viewDidLoad];

[[NSNotificationCenter defaultCenter] removeObserver:self];
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(changetext:) name:@"update" object:nil]; 

}

- (void) changetext:(NSNotification *)notification {
 NSLog(@"Received"); 
   self.firstLabel.text = [notification object];
} 
```

# hadoop - 使用 Cloudera 设置 Hadoop 集群的最快方法

> ID：15292210
> 
> 赞同：4
> 
> 时间：2013-03-08T10:47:39.750
> 
> 标签：hadoop, cloudera

在这里需要一些帮助。我是 Hadoop 新手，我需要使用 Windows 机器快速设置 Hadoop 集群。我知道我可以为此使用 Cloudera，但我只是想知道，与其先下载虚拟机​​，使用 Ubuntu 配置它，然后在其上安装 CDH4，不如下载 Cloudera 提供的预配置 VM不同的机器，然后将它们联网？

是否有使用 Cloudera 提供的虚拟机来执行此操作的分步教程？

任何帮助将不胜感激。

谢谢，库马尔

编辑：我有 VMPlayer、Ubuntu 12.04 LTS、CentOS 6.2、VirtualBox 和快速互联网。现在有人可以告诉我在局域网中使用 Windows 的 4-5 台笔记本电脑上使用 CDH4 设置集群的最快方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-11-06T02:45:18.443

设置 Cloudera Hadoop 集群的最快方法是安装 Cloudera Manager 并将所有作业留给它。

首先，在一个节点上安装Cloudera manager server，启动server服务。

其次，在其他节点上安装Cloudera manager代理，将服务器的主机名设置为/etc/cloudera-scm-agent/config.ini，然后启动所有代理。

第三，使用浏览器访问`http://cloudera-scm-server:7180`，然后按照向导进行操作，Cloudera Manager 将处理所有剩余的工作。

# android - 识别标记并获取与之关联的对象的典型方法是什么？

> ID：15292211
> 
> 赞同：2
> 
> 时间：2013-03-08T10:47:40.883
> 
> 标签：android, android-maps-v2

我在我的一个应用程序中使用地图。我想知道在点击标记时获取标记的关联对象的常用/有效方法是什么。

我今天的计划是这样的：

`mMap.addMarker(...);`首先，我使用返回的标记作为索引创建对象的 ArrayList 和这些对象的 HashMap 。

```
ArrayList<MyObject> items = new ArrayList<MyObject>();
HashMap<Marker, MyObject> markersAndObjects = new HashMap<Marker, MyObject>(); 
```

`onMarkerClick()`现在，我像这样覆盖

```
public boolean onMarkerClick(Marker clickedMarker) {
    // send the object returned by markersAndObjects.get(clickedMarker) for processing
    return false;
} 
```

对此有什么想法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-08T11:05:04.087

推荐的方法是使用带有标记 ID 和您的自定义数据的哈希。如果 Activity 被终止并恢复，Marker 对象可能会更改，但 ID 将保持不变。你的地图看起来像：

```
HashMap<String, MyObject> markersAndObjects = new HashMap<String, MyObject>(); 
```

标记对象有一个 getId() 方法来获取 ID。

[后期编辑]

截至 2016 年 8 月，有一个新的 API，不再需要 HashMap。请参阅 [https://developers.google.com/android/reference/com/google/android/gms/maps/model/Marker.html#setTag(java.lang.Object)](https://developers.google.com/android/reference/com/google/android/gms/maps/model/Marker.html#setTag(java.lang.Object))

# jquery - $(...).jtable 不是 Jquery 1.9.0 插件中的函数

> ID：15292223
> 
> 赞同：1
> 
> 时间：2013-03-08T10:48:24.780
> 
> 标签：jquery, jquery-jtable

我们正面临一个带有 1.9.0 插件的 jTable 问题。在调试过程中，发现 jquery 1.9.0 正在调用 code.jquery.com/jquery 1.4.2。有关更多信息，包括图像。

我们已经尝试通过更改母版页（layout.cshtml）中的 jquery 引用顺序。但没有结果。

奇怪的问题：我们在不同的机器上尝试过相同的方法，其中许多都正确加载数据并且 jquery 1.9.0 被调用，但我们在少数客户端机器上遇到了这个问题。会有什么问题？我们需要从浏览器级别更改任何内容吗？我们已经安装了所有最新版本的浏览器。

谢谢莫汉卡迪亚拉

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-14T18:20:43.950

您需要清除机器中浏览器的缓存。

您还可以强制浏览器重新加载页面的最新版本

## HTML

`<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">`

## [css](http://www.impressivewebs.com/force-browser-newest-stylesheet/) /js

例子：

```
<link rel="stylesheet" href="style.css?v=1.1"> 
```

请注意，在 '?v=' 之后额外`?v=1.1`更改值将强制浏览器加载新的 css/js。

## PHP

```
header("Content-type: text/html"); 
header("Expires: Mon, 1 Jan 2000 12:00:00 GMT");  
header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");  
header("Cache-Control: no-store, no-cache, must-revalidate");  
header("Cache-Control: post-check=0, pre-check=0", false);  
header("Pragma: no-cache") 
```

以下是一些与此相关的帖子：

1.  [关联](https://stackoverflow.com/questions/118884/what-is-an-elegant-way-to-force-browsers-to-reload-cached-css-js-files)
2.  [链接2](http://webdesign.about.com/od/caching/qt/control-the-browser-cache-with-expires-meta-tag.htm)
3.  [链接3](http://www.impressivewebs.com/force-browser-newest-stylesheet/)

# spring-mvc - 弹簧 3 自动接线

> ID：15292224
> 
> 赞同：0
> 
> 时间：2013-03-08T10:48:26.967
> 
> 标签：spring-mvc

我正在使用 spring3 和 hibernate 3 来构建我的应用程序，我无法自动连接会话工厂

```
 package com.dao;
  import java.util.List;
  import org.hibernate.SessionFactory;
  import org.hibernate.classic.Session;
  import org.springframework.beans.factory.annotation.Autowired;
  import org.springframework.stereotype.Repository;
  import org.springframework.transaction.annotation.Transactional;

  import com.gepmag.model.Message;

  @Repository("iMessageTicketDao")
  public class MessageTicketDaoImpl implements IMessageTicketDao {

 @Autowired
private SessionFactory sessionFactory;

@Override
public void saveMessage(Message message) {
    // TODO Auto-generated method stub
    sessionFactory.getCurrentSession().save(message);
}

@Override
public List<Message> listTicketMessages(Long IdTicket) {
    // TODO Auto-generated method stub
    List<Message> list = sessionFactory.getCurrentSession()
            .createQuery("from Message where IdTicket=?")
            .setParameter(0, IdTicket).list();

    return list;
}

@Override
public void deleteMessage(Message message) {
    // TODO Auto-generated method stub
    sessionFactory.getCurrentSession().delete(message);
}

@Override
public void updateMessage(Message message) {
    // TODO Auto-generated method stub
    sessionFactory.getCurrentSession().update(message);
}

@Override
public Message getMessageById(int idMessage) {
    // TODO Auto-generated method stub
    List<Message> list = sessionFactory.getCurrentSession()
            .createQuery("from Message where where IdMessage=?")
            .setParameter(0, idMessage).list();
    return (Message) list.get(0);
}

@Override
public List<Message> listAllMessages() {
    // TODO Auto-generated method stub
    List<Message> list = sessionFactory.getCurrentSession()
            .createQuery("from Message").list();
    return list;
}

 } 
```

和上下文xml配置：

```
 <?xml version="1.0" encoding="UTF-8"?>

   <beans xmlns="http://www.springframework.org/schema/beans"

xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"         xmlns:context="http://www.springframework.org/schema/context"  

xmlns:tx="http://www.springframework.org/schema/tx" xmlns:mvc="http://www.springframework.org/schema/mvc"

xsi:schemaLocation="
    http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context-3.0.xsd
    http://www.springframework.org/schema/tx
    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
    http://www.springframework.org/schema/mvc
    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd ">

   <context:annotation-config/>
<context:property-placeholder location="classpath:jdbc.properties" />
<context:component-scan base-package="com.gepmag" />
<tx:annotation-driven transaction-manager="hibernateTransactionManager" />
 <!-- <context:annotation-driven/> -->  
  <mvc:annotation-driven />

<bean id="jspViewResolver"

    class="org.springframework.web.servlet.view.InternalResourceViewResolver">

    <property name="viewClass"

        value="org.springframework.web.servlet.view.JstlView" />

    <property name="prefix" value="/WEB-INF/views/" />

    <property name="suffix" value=".jsp" />

</bean>

<bean id="dataSource"

    class="org.springframework.jdbc.datasource.DriverManagerDataSource">

    <property name="driverClassName" value="${database.driver}" />

    <property name="url" value="${database.url}" />

    <property name="username" value="${database.user}" />

    <property name="password" value="${database.password}" />

</bean>

<bean id="sessionFactory"

                                           class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">

    <property name="dataSource" ref="dataSource" />
    <property name="packagesToScan" value="com.gepmag.model"/>
    <property name="annotatedClasses">

        <list>

            <value>com.model.Client</value>
            <value>com.model.Erreurs</value>
            <value>com.model.Message</value>
        </list>

    </property>

    <property name="hibernateProperties">

        <props>

            <prop key="hibernate.dialect">${hibernate.dialect}</prop>

            <prop key="hibernate.show_sql">${hibernate.show_sql}</prop>

        </props>

    </property>

</bean>

<bean id="hibernateTransactionManager"

    class="org.springframework.orm.hibernate3.HibernateTransactionManager">

    <property name="sessionFactory" ref="sessionFactory" />

</bean>

<bean id="messageSource"

    class="com.service.MessageBundle">  

    <property name="basename" value="com.service.MessageBundle" />  
</bean>

  </beans> 
```

我总是有这个例外

```
SEVERE: Servlet.service() for servlet [dispatcher] in    context with path [/PortailSupport] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
    java.lang.NullPointerException
        at com.gepmag.dao.MessageTicketDaoImpl.saveMessage(MessageTicketDaoImpl.java:49)
        at   com.gepmag.service.TicketMessageServiceImpl.saveMessage(TicketMessageServiceImpl.java:48) 
```

这是服务

```
 package com.gepmag.service;

 @Service("iTicketMessageService")
 @Transactional(propagation = Propagation.SUPPORTS, readOnly = true)
 public class TicketMessageServiceImpl implements ITicketMessageService {

  @Autowired(required=true)
  private IMessageTicketDao iMessageTicketDao;

@Override
public void saveMessage(Message message) {
    // TODO Auto-generated method stub
    iMessageTicketDao.saveMessage(message);
}

@Override
public List<Message> listTicketMessages(Long IdTicket) {
    // TODO Auto-generated method stub
    List<Message> list = iMessageTicketDao.listTicketMessages(IdTicket);
    return list;
}

@Override
public void deleteMessage(Message message) {
    // TODO Auto-generated method stub
    iMessageTicketDao.deleteMessage(message);
}

@Override
public void updateMessage(Message message) {
    // TODO Auto-generated method stub
    iMessageTicketDao.updateMessage(message);
}

@Override
public Message getMessageById(int idMessage) {
    // TODO Auto-generated method stub
    Message message = iMessageTicketDao.getMessageById(idMessage);
    return message;
}

@Override
public List<Message> listAllMessages() {
    // TODO Auto-generated method stub
    List<Message> list = iMessageTicketDao.listAllMessages();
    return list;
} 
```

}

我的控制器

```
 @Controller
  @RequestMapping("/forms/ticket")
  public class TicketController {

@Autowired
private TicketMessageServiceImpl iTicketMessageService ;

@RequestMapping(value="/addticket", method = RequestMethod.GET) 
public String addTicket(Map model) {

    TicketForm ticket =  new TicketForm();
    List<CategorieTicket> categorieList = LoadCategorieList();
    List<SeveriteTicket> severiteList = LoadSeveriteList();
    List<PrioriteTicket> prioriteList = LoadPrioriteList();
    List<ProblemeTicket> problemeList = LoadProblemeList(); 
    List<EtatSysteme> etatSystemeList = LoadEtatSysteme();
    List<ContexteProblemeTicket> contexteList = LoadContexteProblemeTicket();
    List<EtatInstance> etatInstanceList = LoadEtatInstance();

    model.put("ticket", ticket);
    model.put("categorieList", categorieList);
    model.put("severiteList", severiteList);
    model.put("prioriteList", prioriteList);
    model.put("problemeList", problemeList);
    model.put("etatSystemeList", etatSystemeList);
    model.put("contexteList", contexteList);
    model.put("etatInstanceList", etatInstanceList);

    return "newticket";
}

public List<CategorieTicket> LoadCategorieList(){

    List <CategorieTicket>categorieList = new ArrayList<CategorieTicket>();
    categorieList.add(new CategorieTicket(1,"Nouveau Besoin","description du nouveau besoin"));
    categorieList.add(new CategorieTicket(2,"Anomalie","description de l'anomalie"));
    categorieList.add(new CategorieTicket(3,"incident de production","description de l'incident de la production"));
    categorieList.add(new CategorieTicket(4,"crise de production","description du crise de la production"));

    return categorieList;
}

public List<SeveriteTicket> LoadSeveriteList(){

    List<SeveriteTicket> severiteList = new ArrayList<SeveriteTicket>();
    severiteList.add(new SeveriteTicket(1,"Bloquant","description de la sévérité bloquante"));
    severiteList.add(new SeveriteTicket(2,"Critique","description de la sévérité critique"));
    severiteList.add(new SeveriteTicket(3,"Majeur","description de la sévérité majeure"));
    severiteList.add(new SeveriteTicket(4,"Mineur","description de la sévérité mineur"));

    return severiteList;
}

public List<PrioriteTicket> LoadPrioriteList(){

    List<PrioriteTicket> PrioriteList = new ArrayList<PrioriteTicket>();
    PrioriteList.add(new PrioriteTicket(1,"Faible","priorité faible"));
    PrioriteList.add(new PrioriteTicket(2,"Moyenne","priorité moyenne"));
    PrioriteList.add(new PrioriteTicket(3,"Haute","priorité forte"));

    return PrioriteList;
}

public List<ProblemeTicket> LoadProblemeList(){

    List<ProblemeTicket> ProblemeList  = new ArrayList<ProblemeTicket>();
    ProblemeList.add(new ProblemeTicket(1,"Dysfonctionnement c2o","probleme de fonctionnement c2o") );
    ProblemeList.add(new ProblemeTicket(2,"Problème d'installation","probleme d'installation") );
    ProblemeList.add(new ProblemeTicket(3,"Modification licence","probleme de modification de la licence"));

    return ProblemeList;
}

public List<EtatSysteme> LoadEtatSysteme(){

    List<EtatSysteme> StateSystemList = new ArrayList<EtatSysteme>();
    StateSystemList.add(new EtatSysteme(1,"Complètement bloqué","Systeme complètement bloqué"));
    StateSystemList.add(new EtatSysteme(2,"Fortement perturbé","Systeme fortement perturbé"));
    StateSystemList.add(new EtatSysteme(3,"Perturbation résiduelle","Systeme qui est Perturbé résiduellement"));

    return StateSystemList;
}

public List<ContexteProblemeTicket> LoadContexteProblemeTicket(){

    List<ContexteProblemeTicket> ContexteList = new ArrayList<ContexteProblemeTicket>();
    ContexteList.add(new ContexteProblemeTicket(1,"Lors de l'installation",""));
    ContexteList.add(new ContexteProblemeTicket(2,"En cours de l'exécution",""));

    return ContexteList;
}

public List<EtatInstance> LoadEtatInstance(){

    List<EtatInstance> EtatInstanceList = new ArrayList<EtatInstance>();
    EtatInstanceList.add(new EtatInstance(1,"Aborté"," instance aborté"));
    EtatInstanceList.add(new EtatInstance(2,"En attente","instance en attente"));

    return EtatInstanceList;
}

@RequestMapping("/ticketvalide.html")
public String processTicketForm(Map model,@Valid @ModelAttribute("ticket") TicketForm ticket){

    Message message = new Message();
    message.setObjet(ticket.getSujetTicket());
    message.setTextMessage(ticket.getMessageTicket());
    message.setPath(ticket.getFile());

    iTicketMessageService.saveMessage(message);
    return "detailsticket";
}

 } 
```

# java - Java Class.forName() 方法停止然后退出

> ID：15292226
> 
> 赞同：0
> 
> 时间：2013-03-08T10:48:32.290
> 
> 标签：java, maven

我不知道我的代码发生了什么。这曾经有效：

```
MyClass obj = (MyClass) Class.forName(extendedType).getConstructors()[0].newInstance(scan); 
```

但现在它没有加载。相反，它撞到这条线，停止，然后退出。我已经对其进行了调试，并且知道这一行的某处正在发生这种情况。任何建议将不胜感激。

注意：今天早些时候我重构了我的代码，从那以后它一直给我一些命名问题。主要是我将包名称从大写更改为小写（即 Myclass.class 到 myclass.class）。我不知道这是否影响了某些事情。

**更新** 扩展类型是一个字符串，提供我要加载的类的完整包和类名。因此，例如，com.biz.myclass 而不仅仅是 myclass。目的是根据用户选择加载父类的子类。还有其他方法可以做到这一点，但我想知道为什么这突然停止工作。它停在 Class.forName

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:06:35.860

重构包在很多IDE中并不完美，尽量不要...

尝试检查系统中存在的实际文件夹名称。

如果文件夹名称与以前一样，那么您就有问题了。

如果原始包名称可以说：

> 我的包裹

然后你将它重构为：

> 我的包裹

那么您可能必须手动去相应地重命名您的文件夹结构。

尝试一下。

# php - PHP文件上传脚本在我的服务器上不起作用，但在不同的服务器上工作

> ID：15292227
> 
> 赞同：0
> 
> 时间：2013-03-08T10:48:37.237
> 
> 标签：php

这是我在我的服务器上测试的脚本，它说文件上传失败。但是当我在不同的服务器上尝试时它可以工作。有谁知道这与我的 php.ini 设置有关还是...

```
<form enctype="multipart/form-data" action="fupload.php" method="POST">
    <input type="hidden" name="MAX_FILE_SIZE" value="512000" />
    Send this file: <input name="userfile" type="file" />
    <input type="submit" value="Send File" />
</form>

<?php

$uploaddir = '/var/www/vhosts/costsave.net.au/httpdocs/uploads/';
$uploadfile = $uploaddir . basename($_FILES['userfile']['name']);

echo "<p>";

if (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile)) {
  echo "File is valid, and was successfully uploaded.\n";
} else {
   echo "Upload failed";
}

echo "</p>";
echo '<pre>';
echo 'Here is some more debugging info:';
print_r($_FILES);
print "</pre>";

?> 
```

**错误**

![在此处输入图像描述](../Images/bee3567adda13c230fa708db64555ef6.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T10:52:33.560

与文件上传相关的设置：

*   文件上传
*   上传最大文件大小
*   upload_tmp_dir
*   post_max_size
*   最大输入时间

参考：[http ://www.php.net/manual/en/features.file-upload.post-method.php](http://www.php.net/manual/en/features.file-upload.post-method.php)

> **file_uploads**布尔值或整数
> 
> 是否允许 HTTP 文件上传。

临时上传目录的权限是否也正确？

> **upload_tmp_dir**字符串
> 
> 文件上传时用来存放文件的临时目录。必须可由任何运行 PHP 的用户写入。如果没有指定 PHP 将使用系统的默认值。如果此处指定的目录不可写，PHP 将回退到系统默认的临时目录。如果 open_basedir 已打开，则必须允许系统默认目录才能成功上传

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T10:52:47.847

请检查是否设置了 CHMOD`/var/www/vhosts/costsave.net.au/httpdocs/uploads/`并具有写入权限。

作为另一种选择，您可以输出`$_FILES['userfile']['error']`以查看会发生什么。

# c++ - c++, mfc - 消息框显示，主窗口有一个取消按钮。在消息框处于活动状态时防止取消

> ID：15292230
> 
> 赞同：1
> 
> 时间：2013-03-08T10:49:05.770
> 
> 标签：c++, windows, mfc, messagebox

我有一个奇怪的问题。考虑以下场景：

*   单击某个按钮时，主窗口会创建一个子对话框。
*   子对话框在工作线程中执行一些任务。
*   该任务期间发生错误，导致显示一个消息框，上面写着“哎呀！出了问题。”。
*   单击子对话框的“取消”按钮会导致子对话框关闭。
*   消息框仍处于活动状态！单击消息框中的任何内容 = 崩溃。

事情如何发生的伪代码：（请忽略此处的语法正确性）

```
MainWindowClass mainObj;

void MainWindowClass::OnSomeButtonClick()
{
    SomeDialogClass someDialogObj;
    someDialogObj.DoModal();
}

int MainWindowClass::doTask()
{
    // Do work
    if(ERROR)
    {
        MessageBox("Yikes! Something went wrong.", "Error", MB_OK);
        return ERROR;
    }
} 

///////////////////////////////////////////////////////////////////
// Meanwhile, in another file,

extern MainWindowClass mainObj;

void SomeDialogClass::OnCancel()
{
    // Do all cleanup and close dialog
}

int SomeDialogClass::workerThreadFunc()
{
    return mainObj.doTask();
}

int SomeDialogClass::DoModal()
{
    AfxBeginThread(workerThreadFunc);
    // Do all other work and then wait for the worker thread
} 
```

我的问题是双重的：

1.  取消时，有没有办法知道同一应用程序中的任何消息框/对话框是否处于活动状态？
2.  我的整个设计错了吗？我应该完全做其他事情吗？

我认为使用模态对话框的主要原因之一是它能够防止焦点转到父对话框。然而，当显示该错误消息框时，我可以愉快地单击对话框，然后单击“取消”并假装错误消息框从未显示。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:13:49.160

与其让您的工作线程显示模式消息框，不如将错误情况发回给 UI 线程。我对 MFC 和多线程的经验是，在同一个线程中处理所有 UI 会使事情变得更简单，并消除这些类型的错误。有两个线程可能同时启动模态对话框是自找麻烦。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T16:13:55.827

我对此有点陌生，但我的建议是，如果出现错误时要取消孩子，然后在启动错误之前将其销毁。

据我所知， SomeDialogClass 是模态的，然后父级启动另一个模态对话框 MessageBox。现在，如果 SomeDialogClass 是无模式的，那么消息框将出现在顶部，因为 SomeDialogClass 将是整个桌面的子级，而 MainWindowClass 的唯一子级将是 MessageBox。

我的印象是模态只会阻止焦点转到模态对话框下方的内容，而不是在顶部或打开后启动的内容。我已经完成了一个模态对话框，从中启动了一个非模态对话框，并且可以很好地在屏幕上移动。此外，我创建了一个从无模式对话框返回到模式的 WM_MESSAGE，以宣布它何时完成，以便无模式可以完成。

# php - 如何处理活动流中已删除的照片

> ID：15292236
> 
> 赞同：2
> 
> 时间：2013-03-08T10:49:55.500
> 
> 标签：php, mysql, social-networking

在我们的应用程序中，用户可以上传照片。这个上传事件被注册为一个活动，并被推送到用户的“关注者”活动流中。

使用的流程和技术如下：

*   用于存储的 MYSQL 后端（上传图像的 url 与一些元数据一起存储在照片表中）
*   活动在MYSQL中生成并存储在活动表中
*   创建了 GEARMAN 作业，它将活动 ID 发送到 REDIS，在 REDIS 中，此活动 ID 被扇出到所有用户关注者，以填充他们的活动流。
*   我们通过从 REDIS 获取活动 ID 数组然后在 MYSQL 中执行简单的 IN 查询来检索流。
*   在用户活动流中，可以看到图像的一个小裁剪版本。

现在这一切都运行得非常好，并且与几个缓存层一起帮助保持系统非常稳定和可扩展。

但是，处理选择删除一张或多张照片的用户的最佳方式是什么。目前，当他们删除一张照片时，他们的所有关注者都会在他们的活动流中获得一个损坏的图像链接。

因此，我们需要在两种处理方法之间进行选择。

1.  将活动 id 存储在照片表中，并在用户删除该照片时删除与该照片相关的活动。这会很好地工作，但会看到用户偶尔会从他们的流中删除活动。
2.  在照片表中将图像标记为已删除，并在生成流时显示“此图像已被用户删除”消息。

哪种方法被认为是最好的方法，为什么？或者，人们会推荐其他更好的方法来解决这个问题吗？

非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T20:57:56.350

IMO 最好使之尽可能透明。告诉其他用户该图像已被删除，并提供从活动流中删除该条目的选项。这样用户就可以保持控制，并且不会在后台发生“魔术”。也许对于非常旧的条目（这在当前意味着什么），您可以自动删除该项目。但我总是希望获得相应的信息。

# c - 在 C 中打印一个 void* 变量

> ID：15292237
> 
> 赞同：23
> 
> 时间：2013-03-08T10:49:55.730
> 
> 标签：c, printf, void-pointers, uint

大家好，我想用 printf 进行调试。但我不知道如何打印“out”变量。

在返回之前，我想打印这个值，但它的类型是 void* 。

```
int 
hexstr2raw(char *in, void *out) {
    char c;
    uint32_t i = 0;
    uint8_t *b = (uint8_t*) out;
    while ((c = in[i]) != '\0') {
        uint8_t v;
        if (c >= '0' && c <= '9') {
            v = c - '0';
        } else if (c >= 'A' && c <= 'F') {
            v = 10 + c - 'A';
        } else if (c >= 'a' || c <= 'f') {
            v = 10 + c - 'a';
        } else {
            return -1;
        }
        if (i%2 == 0) {
            b[i/2] = (v << 4);
            printf("c='%c' \t v='%u' \t b[i/2]='%u' \t i='%u'\n", c,v ,b[i/2], i);}
        else {
            b[i/2] |= v;
            printf("c='%c' \t v='%u' \t b[i/2]='%u' \t i='%u'\n", c,v ,b[i/2], i);}
        i++;
    }
    printf("%s\n", out);
    return i;
} 
```

我能怎么做？谢谢。

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2013-03-08T10:51:11.543

```
printf("%p\n", out); 
```

是打印`(void*)`指针的正确方法。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-03-08T10:54:26.813

这：

```
uint8_t *b = (uint8_t*) out; 
```

暗示这`out`实际上是一个指向 的指针`uint8_t`，所以也许您想打印实际存在的数据。另请注意，您不需要从`void *`C 中进行转换，因此转换确实毫无意义。

该代码似乎正在进行十六进制到二进制转换，将结果存储在`out`. 您可以通过执行以下操作打印`i`生成的字节：

```
int j;
for(j = 0; j < i; ++j)
  printf("%02x\n", ((uint8_t*) out)[j]); 
```

*指针值*本身很少有兴趣，但您可以使用`printf("%p\n", out);`. 格式说明`%p`符用于`void *`.

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-08T10:51:25.913

`printf`在 C 中使用打印 void 指针的格式说明符是`%p`. 通常打印的是指针的十六进制表示（尽管标准简单地说它是定义指针​​的实现定义的字符序列）。

# javascript - Javascript更新asp.net mvc中的部分视图

> ID：15292238
> 
> 赞同：0
> 
> 时间：2013-03-08T10:49:57.297
> 
> 标签：javascript, asp.net-mvc

我目前有一个 JavaScript 代码，应该每 3 秒更新一次我的局部视图。但由于某种原因它不起作用，它自己工作的计时器。

```
 <script>
   setInterval(function () {
       var obj = document.getElementById("menubar");
       obj.innerHTML = "@Html.Partial("/Views/Menu.cshtml")";
   }, 3000);
   </script> 
```

这是我的代码，我是 javascript 新手。所以我不知道出了什么问题。我也试图展示我的会话，也没有工作。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T13:00:15.387

创建如下所示的操作。

```
public ActionResult Menu()
{
    return View();
} 
```

最好将部分视图保存在共享文件夹中。

你的 JavaScript。

```
<script>
   setInterval(function () {
       $("#menubar").empty().load('/{controller_name}/Menu');
   }, 3000);
</script> 
```

将 {controller_name} 替换为实际的控制器名称。

您的代码的问题是您将部分视图的输出粘贴到您的 javascript 中，因此每次运行 setIntervel 时，它都会从 javascript 中选择输出，而不是从您的服务器请求它。

# php - 如何修复 Moodle 2.3 中所有课程的中心柱中的块

> ID：15292239
> 
> 赞同：3
> 
> 时间：2013-03-08T10:49:59.517
> 
> 标签：php, css, moodle

我在每个特定主题的**中心帖子**（页面底部）区域的课程页面中添加了 4 个块。

这 4 个积木使用 . 定位在中心柱上`Pagelayout.css`。当我手动添加它们时，它们的位置是正确的（使用 GUI 即添加块）。

当我更改/选择不同的主题（课程）时，这些块将出现在**Side-pre**区域中。

但无论主题如何，我都想将这 4 个块放在**中心位置。**（即独立于主题，这4个块应该在**中心帖子**区域）。

我添加了这一行：

```
$CFG->defaultblocks_topics   = 'news_items,search_forums,blog_recent,online_users'; 
```

在`moodle/config.php`.

因此，我在所有课程中都获得了这 4 个块，但这些块将在**Side-pre**中出现/出现。那么，如何将这 4 个块放在**中心后**区域，而**导航块**应该只在侧前区域？其实我想要喜欢

![在此处输入图像描述](../Images/f37d717c75722ac9e1ef9e91a4900401.png) 但是目前，这些块出现在`side-pre`区域中，例如

![在此处输入图像描述](../Images/b69358d64cef8770d2d3b6c2c2d5a2d1.png)

我怎样才能像第一张图片一样在中心帖子中获得块？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T09:35:49.400

您可以在主题文件中添加代码（/theme/ *your_themename* /general.php）

```
<!-- main mandatory content of the moodle page  -->
    <div id="region-main-wrap">
        <div id="region-main">
            <div class="region-content">
                <?php echo $OUTPUT->main_content() ?>

                    *Add your code here*

            </div>
        </div>
    </div>
<!-- end of main mandatory content of the moodle page --> 
```

它将显示在主 div 中的每个页面上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T12:57:24.377

您可以通过为课程页面创建布局文件并为要放置的块创建主/中心区域来做到这一点。

请查看下面提到的链接以获取完整说明：

[https://moodle.org/mod/forum/discuss.php?d=160567](https://moodle.org/mod/forum/discuss.php?d=160567)

如果您需要进一步的解释，请询问。

干杯

桑迪普

# ruby-on-rails - ActiveAdmin：如何保持用户密码不变？

> ID：15292247
> 
> 赞同：29
> 
> 时间：2013-03-08T10:50:37.950
> 
> 标签：ruby-on-rails, activeadmin

我在我的 rails 应用程序中使用 ActiveAdmin 作为我的管理后端。基本上，我有一个`admin_user`和一个`user`模型。

当我从管理员帐户创建新用户时，我指定了电子邮件和密码，没关系。

假设我想修改用户的电子邮件而不是密码……这似乎无法完成，因为更新用户时密码字段不能为空。

是否有配置认为密码未更改是在更新用户时将字段（密码和密码确认）留空？

* * *

## 回答 #1

> 赞同：97
> 
> 时间：2013-07-08T19:18:35.747

你根本不需要弄乱 Devise 的注册控制器，你可以忽略 ActiveAdmin 的资源控制器中的空密码字段：

```
ActiveAdmin.register User do
  controller do

    def update
      model = :user

      if params[model][:password].blank?
        %w(password password_confirmation).each { |p| params[model].delete(p) }
      end

      super
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-03-09T02:11:33.957

Devise 提供了`update_without_password`一种在未输入密码的情况下更新用户时可以使用的方法。使用该方法，您可以在 ActiveAdmin 用户控制器中自定义更新方法。

```
 def update
   @user = User.find(params[:id])
   if params[:user][:password].blank?
     @user.update_without_password(params[:user])
   else
     @user.update_attributes(params[:user])
   end
   if @user.errors.blank?
     redirect_to admin_users_path, :notice => "User updated successfully."
   else
     render :edit
   end
 end 
```

如果您有兴趣，[Devise Wiki](https://github.com/plataformatec/devise/wiki/How-To%3a-Allow-users-to-edit-their-account-without-providing-a-password)会提供有关此方法的更多信息。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2014-03-05T15:35:40.010

您需要在 if 语句中评估密码和密码确认，以对“密码确认”应用验证，例如对于我的情况：

```
#app/admin/user.rb
controller do
  def update
    if params[:user][:password].blank? && params[:user][:password_confirmation].blank?
      params[:user].delete("password")
      params[:user].delete("password_confirmation")
    end
    super
  end
end

#app/model/user.rb
validates :name, :email, presence: true
validates :password, :password_confirmation, presence: true, on: :create
validates :password, confirmation: true 
```

这允许我仅在创建新用户并在不更改其密码的情况下进行更新时验证密码是否存在。

这项工作对我来说，我希望这会有所帮助。

我希望这是有帮助的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-12-13T18:35:00.660

您只能在创建时验证密码，因为更新时 bcrypt 仍将验证密码是否存在。

```
class User
   validate :password, :password_confirmation, presence: true, on: :create 
end 
```

在我看来，这在没有风险的情况下要简单得多，并且允许您使用单个部分表单来创建和更新路由，其中​​ if 语句显示/不显示密码输入字段，如下所示：

```
<%= form_for(user, url: users_path) do |form| %>
<%= form.label 'Name' %><br>
<%= form.text_field :name%><br>

<%= form.label 'email' %><br>
<%= form.text_field :email%><br>

<%= form.label 'Password' %><br>
<%= form.password_field :password%><br>

**<% if form.object.new_record? %>**
    <%= form.label 'password_confirmation' %><br>
    <%= form.password_field :password_confirmation%><br>
**<% end %>**

<%= form.submit (form.object.new_record? ? 'create' : 'update')  %> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-06-04T05:54:37.997

正如@mauriceomdea 答案的评论中所说，def 更新丢失（或者至少对我来说丢失了，从而产生了错误。）

这是一个对我有用的更完整的版本：

你根本不需要弄乱 Devise 的注册控制器，你可以忽略 ActiveAdmin 的资源控制器中的空密码字段：

```
ActiveAdmin.register User do

  controller do  
    def update
      model = :user

      if params[model][:password].blank?
        %w(password password_confirmation).each { |p| params[model].delete(p) }
      end

      super
    end
  end
end 
```

希望这可以帮助某人。

# objective-c - 编译器错误：预期标识符或 (

> ID：15292249
> 
> 赞同：-2
> 
> 时间：2013-03-08T10:50:45.073
> 
> 标签：objective-c

我在 C 头文件中有以下结构。

```
typedef struct GSPathInfo {
        unsigned char pathIndex;        // 0x0 = 0x5C
        unsigned char pathIdentity;     // 0x1 = 0x5D
        unsigned char pathProximity;    // 0x2 = 0x5E
        CGFloat pathPressure;               // 0x4 = 0x60
        CGFloat pathMajorRadius;        // 0x8 = 0x64
        CGPoint pathLocation;           // 0xC = 0x68
        GSWindowRef pathWindow;         // 0x14 = 0x70
    } GSPathInfo;   // sizeof = 0x18. 
```

在目标 C (.mm) 文件中，我正在执行以下操作：

```
-(void)GettingFingerSizeInfo {
    CGFloat pressure =  GSPathInfo.pathPressure 
} 
```

Xcode 抱怨：预期的标识符或 (

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T10:52:31.493

您是否在 .mm 文件的顶部包含 .h 文件？

更重要的是， 在该函数中的 pathPressure*之后放置一个分号。*

例如

```
-(void)GettingFingerSizeInfo {
    CGFloat pressure =  GSPathInfo.pathPressure;
} 
```

最后，只是一个建议……Objective C 中的最佳（或标准）实践是以小写字母开头的方法名称。因此，而不是“ `GettingFingerSizeInfo`”，将其声明为“ `gettingFingerSizeInfo`”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T10:58:32.300

问题是您没有创建任何地方来保存 GSPathInfo 结构的信息并在其字段中设置值。您需要一个变量来保存结构。

例如

```
GSPathInfo pathinfo = malloc(sizeof(GSPathInfo));
pathinfo.pathPressure = 1.0f;

...

CGFloat pressure =  pathinfo.pathPressure; 
```

另请注意，.mm 文件用于 Objective C++，.m 用于 Objective C

# php - file_get_contents("php://input") 中的 Facebook JSON 对象不返回值

> ID：15292253
> 
> 赞同：1
> 
> 时间：2013-03-08T10:50:50.747
> 
> 标签：php, json, facebook, facebook-graph-api, facebook-php-sdk

我正在尝试打印或访问 Facebook 的 POST 请求返回的 JSON 对象。这是代码：

```
<?php

define('VERIFY_TOKEN', 'mysecretverifytokenstring');                                    
$method = $_SERVER['REQUEST_METHOD'];                             

if ($method == 'GET' && $_GET['hub_mode'] == 'subscribe' && $_GET['hub_verify_token'] == VERIFY_TOKEN) {
   echo $_GET['hub_challenge'];
} else if ($method == 'POST') {

        $post_body = file_get_contents("php://input");
    $object = json_decode($post_body, true);

    print_r($object);
}

?> 
```

即使我可以成功连接实时更新，这也不会输出任何内容。

# jquery - IE8 中的 JQuery .filter()

> ID：15292254
> 
> 赞同：3
> 
> 时间：2013-03-08T10:50:54.667
> 
> 标签：jquery, arrays, internet-explorer-8, filter

看起来 IE8 不支持 Jquery`.filter()`方法 -[为什么 .filter() 在 Internet Explorer 8 中不起作用？](https://stackoverflow.com/questions/7153470/why-wont-filter-work-in-interent-explorer-8)

我有以下代码过滤下拉列表

```
if($('#deliveryPostcodeEstimator').length > 0) {
        $('.shippingregionselector').hide();
        $('#deliveryPostcodeEstimator')
            .blur(function() {
                //Set to default
                $('select[name=country] option:last').prop('selected', true);
                //var defaultPostcode = 'GL50';
                //$("select[name=country] option").filter(function() {
                //  return $(this).text() == defaultPostcode; 
                //}).prop('selected', true);
                //Set to matching postcode value if set
                $('select[name=country] option').filter(function(index) { 
                    return ($(this).text() == $('#deliveryPostcodeEstimator').val().toUpperCase().substring(0,4).trim()) 
                }).prop('selected', true);
                //Submit
                var thisForm = $(this).closest("form");
                thisForm.submit();
            })
            .keyup(function() {
                $(this).val($(this).val().toUpperCase());
            });
        $('button.pcodechange').click(function() {
            var thisForm = $(this).closest("form");
            thisForm.submit();
        });
    } 
```

问题线是

```
return ($(this).text() == $('#deliveryPostcodeEstimator').val().toUpperCase().substring(0,4).trim()) 
```

这给出了以下错误

`Object doesn't support this property or method` 如何按照上一篇文章中的建议“将其包装在一个对象中”？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:07:01.037

你的错误可能是因为你的`.trim()`电话。

`String.prototype.trim`根据此表不适用于 Internet Explorer 8：http: [//kangax.github.com/es5-compat-table/](http://kangax.github.com/es5-compat-table/)

你可以使用 jQuery.trim 代替：

```
 var search = $.trim($('#deliveryPostcodeEstimator').val().toUpperCase().substring(0,4));
 $('select[name=country] option').filter(function(index) { 
   return $(this).text() == search; 
 }).prop('selected', true); 
```

您还可以使用 cernunnos 链接中描述的纯 javascript 解决方案：

[JavaScript 中的 .trim() 在 IE 中不起作用](https://stackoverflow.com/questions/2308134/trim-in-javascript-not-working-in-ie)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-03T11:34:29.610

IE9 及更高版本支持 .filter()

您可以执行以下操作： 定义您自己的过滤器。

```
if (!Array.prototype.filter) {
  Array.prototype.filter = function (fun /*, thisp */) {
    "use strict";

    if (this === void 0 || this === null)
        throw new TypeError();

    var t = Object(this);
    var len = t.length >>> 0;
    if (typeof fun !== "function")
        throw new TypeError();

    var res = [];
    var thisp = arguments[1];
    for (var i = 0; i < len; i++) {
        if (i in t) {
            var val = t[i]; // in case fun mutates this
            if (fun.call(thisp, val, i, t))
                res.push(val);
        }
    }

    return res;
};
} 
```

# php - symfony2.1 上的会话错误

> ID：15292257
> 
> 赞同：0
> 
> 时间：2013-03-08T10:51:10.903
> 
> 标签：php, symfony, apache2

我将尝试描述我的情况，我有一个带灯配置的 localhost 开发服务器。

*   ubuntu
*   阿帕奇2
*   mysql5.1
*   php5

我正在使用 Symfony2.1 开发登录表单。它运行在 Xampp 之上。

我在 Amazon EC2 云上也有一个类似配置的测试环境

*   ubuntu
*   阿帕奇2
*   mysql5.1
*   php5
*   相同的 Symfony2.1 环境

当我在本地主机上使用登录表单时，它会将我的凭据发送到数据库并登录。

当我在测试环境中使用登录表单时，出现错误：

> 注意：会话已经开始 - 忽略 /var/www/einstein/app/cache/dev/classes.php 第 183 行中的 session_start()

我正在使用 Symfony2 会话机制来存储登录凭据。我注意到在 config.yml 中将 csrf 保护设置为 false 可以防止出现此错误。

我可能选择调查的任何方向？

# node.js - 使用 Node.js 和 Redis 发布/订阅

> ID：15292267
> 
> 赞同：1
> 
> 时间：2013-03-08T10:51:28.633
> 
> 标签：node.js, redis, socket.io, publish-subscribe, node-redis

我试图让 Redis 发布/订阅在一个小节点应用程序中工作。目前我正在使用 node-redis，但我不了解 pub/sub 的 API。似乎我可以按名称订阅频道，然后在通用“消息”事件中接收所有频道的所有消息，如下所示：

```
var express = require('express')
  , app = express()
  , server = app.listen(4000) 
  , sio = require('socket.io') 
  , io = sio.listen(server)
  , db = require('redis').createClient();

  io.sockets.on('connection', function (socket) {
     db.subscribe("foo");
     db.subscribe("bar");
     db.on("message", function(channel, message) {
         socket.emit('message', message);                
     });
  }); 
```

这迫使我为每个订阅创建一个新客户端或使用类似的东西：

```
db.on("message", function(channel, message) {
 socket.emit(channel, message);                
}); 
```

然后监听正确的socket.io通道客户端。两者都不适合我。

我想要的是在订阅时注册一个回调，所以我只接收该频道的消息，就像在这个伪代码片段中一样：

```
db.subscribe("foo", function(message) {
    socket.emit("foo_message", message);
});

db.subscribe("bar", function(message) {
    socket.emit("bar_message", message);
}); 
```

有没有人知道我的问题的干净解决方案，或者可能是另一个支持我愿望的 redis API？

# sql - 从 table1 中获取 table2 oracle 中缺少的行？

> ID：15292268
> 
> 赞同：0
> 
> 时间：2013-03-08T10:51:29.370
> 
> 标签：sql, oracle

我有两个表如下。我正在使用 Oracle 10g

```
TableA
---------
id  Name
--- ----
1   abc
2   def
3   xxx
4   yyy

TableB
---------
id  Name
--- ----
1   abc
2   def

TableC
---------
id  Name
--- ----
1   abc
2   def 
```

现在我需要获取 ids `from TableA which are not there in TableB and TableC`。在不使用 NOT IN 子句的情况下如何做到这一点？

请帮我！

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T10:58:12.340

请试试：

```
SELECT 
  a.ID, 
  a.NAME
FROM 
  TABLEA a LEFT JOIN TABLEB b ON a.ID=b.ID 
    LEFT JOIN TABLEC c ON a.ID=c.ID
WHERE 
  b.ID IS NULL AND 
  c.ID IS NULL; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T10:56:21.987

```
select * from TableA
minus
select * from TableB 
```

* * *

**编辑 ：**

不在 B 和 C 中的：

```
select * from TableA
minus (
  select * from TableB
  intersect
  select * from TableC
) 
```

不在 B 或 C 中的：

```
select * from TableA
minus 
select * from TableB
minus
select * from TableC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:21:05.343

```
select a.id
from tableA a,tableB b,tableC c
where a.id != b.id and a.id!=c.id 
```

这样好吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:22:39.853

```
select * from TableA
minus
(select * from TableB
union
select * from TableC) 
```

# javascript - 导轨链接到：远程

> ID：15292270
> 
> 赞同：43
> 
> 时间：2013-03-08T10:51:47.890
> 
> 标签：javascript, ruby-on-rails, ajax, link-to

我有以下内容：

```
<%= link_to my_path, method: :delete, confirm: 'Delete?', class: 'link-delete', 'data-message' => 'Are you sure?', 'data-severity' => 'danger', :remote => true do %>
  <i class="icon-trash"></i>
<% end %> 
```

这会弹出一个 Bootstrap Modal 进行确认，我想连接到 ajax 调用，这样我就可以显示一个微调器或某种文本。

我知道我可以使用不显眼的 javascript 来监听 click 事件，如果我不在我的 link_to 中使用 ':remote => true'

```
jQuery ->
  $('.link-delete').live 'click', (event) ->
    $('.link-delete').html("Loading...")  #THE MSG OR ANIMATION I WANT TO DISPLAY
    $.get(this.href, null, null, 'script')
   false 
```

但不确定在使用 ':remote => true' 时如何将两者结合起来

有什么建议么？

谢谢您的帮助

* * *

## 回答 #1

> 赞同：82
> 
> 时间：2013-03-08T13:31:11.400

您可以像这样绑定到 ajax 调用：

```
<%= link_to my_path, method: :delete, confirm: 'Delete?', class: 'link-delete', 'data-message' => 'Are you sure?', 'data-severity' => 'danger', :remote => true do %>
  <i class="icon-trash"></i>
<% end %>

$('.link-delete').bind('ajax:beforeSend', function() {
  $('#mySpinner').show();
});

$('.link-delete').bind('ajax:complete', function() {
  $('#mySpinner').hide();
}); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-03-08T11:20:24.470

您不需要将两者结合起来。只需使用 format.js 调用 javascript。

在您的控制器中：

**控制器**

```
 def my_method
     #code here
     respond_to do |format|
      format.js  {}
     end
    end 
```

**my_method.html.erb**

```
<div id = "link-delete"></div> 
```

**my_method.js.erb**

```
$("#link-delete").html("<%= escape_javascript(render(:partial => "text_message"))%>"); 
```

**_text_message.html.erb**

```
<p>Loading...</p> 
```

# sql - 如何从 SQL Server 存储过程中捕获打印消息？

> ID：15292273
> 
> 赞同：5
> 
> 时间：2013-03-08T10:51:56.800
> 
> 标签：sql, sql-server, tsql, stored-procedures

假设我有一个这样的存储过程：

```
begin try drop procedure test_print end try begin catch end catch;
go
create procedure test_print
as
begin
print 'Hello'
print 'World';
end
go

exec test_print 
```

如何捕获存储过程 test_print 中的打印消息并将其保存到变量中？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-08T11:17:23.367

你不能在 T-SQL 中。信息输出总是发送给客户端。所以你必须是捕获它的客户。一个简单的解决方法是从 SQLCLR 调用该过程。然后你可以简单地连接[`InfoMessage`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection.infomessage.aspx)事件并获得 calee 输出。

# html - 高度为 100% 的内容推送容器

> ID：15292274
> 
> 赞同：0
> 
> 时间：2013-03-08T10:52:06.237
> 
> 标签：html, css

如果内容增长，我正在尝试内容推送容器和侧边栏

但我希望所有元素的高度始终至少是屏幕的 100%

一些想法？

```
<body>
   <div class="sidebar_content_wrapper container_16">
      <div class="sidebar_left grid_3 omega">
         <p>blablabla</p>   
      </div>    
     <div class="content_wrapper grid_13 alpha">    
        <!-- many p tags here -->
     </div>
</div> 
```

[**小提琴**](http://www.jsfiddle.net/YaTLG/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:02:28.927

解决这个问题最简单的“技巧”是设置背景颜色，并让较短的 div 与背景颜色相同。这样，即使它短了，它仍然看起来像填满了整个高度。

如果这不是一个选项，我相信你必须使用 javascript 增加较短元素的高度。

**jQuery 示例：**

```
$('.sidebar_left').css("height", $(".alpha").height() + "px"); 
```

更新的小提琴：http: [//jsfiddle.net/YaTLG/1/](http://jsfiddle.net/YaTLG/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:23:47.037

您可以使用 a`table`而不是 a `div`：

```
<table>
<tr>
  <td></td>
  <td></td>
</tr>    
</table> 
```

# maven-2 - Maven：如何在项目生成后从原型中删除一些文件？

> ID：15292275
> 
> 赞同：4
> 
> 时间：2013-03-08T10:52:06.853
> 
> 标签：maven-2

我正在创建一个 maven arechtype，它生成一个带有 java 类的项目。

原型有一些自定义属性（archetype-metadata.xml 中的 requiredProperty） 根据用户的选择，一些文件将无用（例如，如果用户不想要数据库，则数据库访问类）所以我想删除它们。

生成后是否可以运行清理挂钩脚本？

注意：如果不需要，最好不要在生成过程中包含这些文件，但我认为不可能声明一些可选文件，对吧？

谢谢

洛伊克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-25T10:54:50.490

我看到了这条消息：

> 没有可调用的原型生成后目标。

在生成中发现了这段代码：[IntegrationTestMojo.java](http://maven.apache.org/archetype/maven-archetype-plugin/xref/org/apache/maven/archetype/mojos/IntegrationTestMojo.html)

似乎某些规则可能会被描述为在“goals.txt”文件中描述它们之后执行

但无法弄清楚我们究竟要在其中包含什么

# python - 如何安装 Django-nonrel (Django 1.5)？

> ID：15292277
> 
> 赞同：2
> 
> 时间：2013-03-08T10:52:15.550
> 
> 标签：python, django, django-nonrel

如何安装 Django-nonrel (Django 1.5) ？支持这个版本的 django 吗？

这是 1.3：[http ://docs.mongodb.org/manual/tutorial/write-a-tumblelog-application-with-django-mongodb-engine/](http://docs.mongodb.org/manual/tutorial/write-a-tumblelog-application-with-django-mongodb-engine/)

我需要 >= 1.4

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-09-09T17:59:50.747

尝试 django-nonrel 稳定版

```
pip install git+https://github.com/django-nonrel/django 
```

安装特定版本

```
pip install git+https://github.com/django-nonrel/django@1.5 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-29T08:01:41.897

pip install git+ [https://github.com/django-nonrel/django@nonrel-1.5-beta](https://github.com/django-nonrel/django@nonrel-1.5-beta)对我有用

# arrays - 如何在 TypeScript 中删除数组项？

> ID：15292278
> 
> 赞同：613
> 
> 时间：2013-03-08T10:52:18.200
> 
> 标签：arrays, typescript, collections

我有一个在 TypeScript 中创建的数组，它有一个我用作键的属性。如果我有那个钥匙，我怎样才能从中删除一个项目？

* * *

## 回答 #1

> 赞同：900
> 
> 时间：2013-03-08T14:06:56.030

与在 JavaScript 中的方式相同。

```
delete myArray[key]; 
```

请注意，这会将元素设置为`undefined`。

更好地使用该[`Array.prototype.splice`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice)功能：

```
const index = myArray.indexOf(key, 0);
if (index > -1) {
   myArray.splice(index, 1);
} 
```

* * *

## 回答 #2

> 赞同：310
> 
> 时间：2017-06-06T13:11:34.280

```
let foo_object; // Itemitem(object here) to remove
this.foo_objects = this.foo_objects.filter(obj => return obj !== foo_object); 
```

* * *

## 回答 #3

> 赞同：117
> 
> 时间：2017-11-19T19:40:07.497

使用 ES6，您可以使用以下代码：

```
removeDocument(doc){
   this.documents.forEach( (item, index) => {
     if(item === doc) this.documents.splice(index,1);
   });
} 
```

* * *

## 回答 #4

> 赞同：38
> 
> 时间：2017-09-01T07:56:38.700

这是我的解决方案：

```
onDelete(id: number) {
    this.service.delete(id).then(() => {
        let index = this.documents.findIndex(d => d.id === id); //find index in your array
        this.documents.splice(index, 1);//remove element from array
    });

    event.stopPropagation();
} 
```

* * *

## 回答 #5

> 赞同：27
> 
> 时间：2017-11-22T06:13:33.277

您可以`splice`在数组上使用该方法来删除元素。

例如，如果您有一个名称为数组，请`arr`使用以下内容：

```
arr.splice(2, 1); 
```

所以这里索引为 2 的元素将是起点，参数 2 将确定要删除多少个元素。

如果要删除命名数组的最后一个元素，`arr`请执行以下操作：

```
arr.splice(arr.length-1, 1); 
```

这将返回 arr 并删除最后一个元素。

例子：

```
var arr = ["orange", "mango", "banana", "sugar", "tea"];
arr.splice(arr.length-1, 1)
console.log(arr); // return ["orange", "mango", "banana", "sugar"] 
```

* * *

## 回答 #6

> 赞同：22
> 
> 时间：2019-03-27T05:20:47.947

让部门是一个数组。你想从这个数组中删除一个项目。

```
departments: string[] = [];

 removeDepartment(name: string): void {
    this.departments = this.departments.filter(item => item != name);
  } 
```

* * *

## 回答 #7

> 赞同：18
> 
> 时间：2019-09-18T18:11:22.163

这是一个简单的衬线，用于从对象数组中按属性删除对象。

```
delete this.items[this.items.findIndex(item => item.item_id == item_id)]; 
```

或者

```
this.items = this.items.filter(item => item.item_id !== item.item_id); 
```

* * *

## 回答 #8

> 赞同：18
> 
> 时间：2020-11-05T06:24:50.567

这对我有用。

你的数组：

```
DummyArray: any = [
    { "id": 1, "name": 'A' },
    { "id": 2, "name": 'B' },
    { "id": 3, "name": 'C' },
    { "id": 4, "name": 'D' }
] 
```

功能：

```
remove() {
    this.DummyArray = this.DummyArray.filter(item => item !== item);
} 
```

注意：此函数会删除数组中的所有对象。如果要从数组中删除特定对象，请使用此方法：

```
remove(id) {
    this.DummyArray = this.DummyArray.filter(item => item.id !== id);
} 
```

* * *

## 回答 #9

> 赞同：10
> 
> 时间：2020-03-27T18:38:14.963

如果您需要从数组中删除给定对象并且您希望确保以下内容，请使用此选项：

*   列表未重新初始化
*   数组长度已正确更新

```
 const objWithIdToRemove;
    const objIndex = this.objectsArray.findIndex(obj => obj.id === objWithIdToRemove);
    if (objIndex > -1) {
      this.objectsArray.splice(objIndex, 1);
    } 
```

* * *

## 回答 #10

> 赞同：6
> 
> 时间：2018-04-10T23:51:30.987

**使用 TypeScript 扩展运算符回答 (...)**

```
// Your key
const key = 'two';

// Your array
const arr = [
    'one',
    'two',
    'three'
];

// Get either the index or -1
const index = arr.indexOf(key); // returns 0

// Despite a real index, or -1, use spread operator and Array.prototype.slice()    
const newArray = (index > -1) ? [
    ...arr.slice(0, index),
    ...arr.slice(index + 1)
] : arr; 
```

* * *

## 回答 #11

> 赞同：6
> 
> 时间：2018-04-30T12:41:37.607

使用 Typescript 的另一种解决方案：

```
let updatedArray = [];
for (let el of this.oldArray) {
    if (el !== elementToRemove) {
        updated.push(el);
    }
}
this.oldArray = updated; 
```

* * *

## 回答 #12

> 赞同：6
> 
> 时间：2020-07-18T16:27:28.770

```
let a: number[] = [];

a.push(1);
a.push(2);
a.push(3);

let index: number = a.findIndex(a => a === 1);

if (index != -1) {
    a.splice(index, 1);
}

console.log(a); 
```

* * *

## 回答 #13

> 赞同：6
> 
> 时间：2021-06-12T22:17:19.737

Typescript/Javascript 中的多个选项可从 Array 中删除元素。拼接是最好的选择

1.  它在不创建新对象的情况下删除内联
2.  它正确地更新了数组的长度（不会留下空白的空元素）

下面是使用 Splice 函数根据对象数组中的某些字段删除对象的示例

```
const persons = [
 {
   firstName :'John',
   lastName :'Michel'
  },
  {
   firstName :'William',
   lastName :'Scott'
  },  
  {
   firstName :'Amanda',
   lastName :'Tailor'
  }
]

console.log('Before Deleting :'+JSON.stringify(persons));
console.log('Deleting William:');
persons.splice(persons.findIndex(item => item.firstName === 'William'),1);
console.log('After Deleting William'+JSON.stringify(persons));
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2020-06-13T09:36:54.100

只是想为数组添加扩展方法。

```
interface Array<T> {
      remove(element: T): Array<T>;
    }

    Array.prototype.remove = function (element) {
      const index = this.indexOf(element, 0);
      if (index > -1) {
        return this.splice(index, 1);
      }
      return this;
    }; 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2020-09-09T01:41:25.897

您可以尝试先获取列表或数组的索引或位置，然后使用 for 循环将当前数组分配给临时列表，过滤掉不需要的项目并将想要的项目存储回原始数组

```
removeItem(index) {
    var tempList = this.uploadFile;
    this.uploadFile = [];

    for (var j = 0; j < tempList.length; j++) {
      if (j != index)
        this.uploadFile.push(tempList[j]);
    }
  } 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2021-08-19T09:48:19.943

`filter`我们可以使用and来实现逻辑`includes`

```
const checkAlpha2Code = ['BD', 'NZ', 'IN']

let countryAlpha2Code = ['US', 'CA', 'BD', 'NZ', 'AF' , 'AR' , 'BR']

/**
 * Returns the modified array countryAlpha2Code 
 * after removing elements which matches with the checkAlpha2Code
 */
countryAlpha2Code = countryAlpha2Code.filter(alpha2code => {
    return !checkAlpha2Code.includes(alpha2code);
});
console.log(countryAlpha2Code)
// Output: [ 'US', 'CA', 'AF', 'AR', 'BR' ]

// Resetting the values again
countryAlpha2Code = ['US', 'CA', 'BD', 'NZ', 'AF' , 'AR' , 'BR']

/**
 * Returns the modified array countryAlpha2Code 
 * which only matches elements with the checkAlpha2Code
 */
countryAlpha2Code = countryAlpha2Code.filter(alpha2code => {
    return checkAlpha2Code.includes(alpha2code);
});

console.log(countryAlpha2Code)
// Output: [ 'BD', 'NZ' ]
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2021-09-19T19:44:26.167

我看到很多抱怨`remove`方法不是内置的。考虑使用`Set`而不是数组 - 它具有内置的方法`add`。`delete`

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2021-12-07T06:30:24.370

类似于[Abdus Salam Azad answer](https://stackoverflow.com/questions/15292278/how-do-i-remove-an-array-item-in-typescript/55370276#55370276)，但将数组作为参数从 //https://love2dev.com/blog/javascript-remove-from-array/ 传递

```
function arrayRemove(arr:[], value:any) { 

    return arr.filter(function(ele){ 
        return ele != value; 
    });
} 
```

# java - 如何在 O(log(N)) 时间内查找排序数组中某个范围内的整数个数？

> ID：15292280
> 
> 赞同：5
> 
> 时间：2013-03-08T10:52:20.603
> 
> 标签：java, arrays, search, binary-search

我有一个排序的整数数组：

```
{1,2,4,4,5,8,12,15,15,23,54} 
```

我想找出该数组中有多少数字落在一个范围内，比如 4 到 15。

```
{4,4,5,6,12,15,15} 
```

因此，数组中有 7 个项目在该范围内。

我需要在 O(log(N)) 时间内执行此操作，并且我认为我可以使用二进制搜索，但是由于重复，因此找不到下限和上限。

如何在 O(log(N)) 时间内完成？

我想过从前面循环，然后从结尾循环，但这可能高达 O(N)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-20T12:44:07.253

它可以在**O(logN)**时间内通过范围二进制搜索来完成下限和上限。范围二分查找的下限和上限是**不同**的。这里**不同**意味着他们有不同的停止标准和返回步骤。

1.  **对于下界（左范围）**，您可以调用以下函数来获取排序数组中值大于或等于它的索引，否则为-1。

    ```
    int binarySearchForLeftRange(int a[], int length, int left_range)
    {
        if (a[length-1] < left_range)
            return -1;

        int low = 0;
        int high = length-1;

        while (low<=high)
        {
            int mid = low+((high-low)/2);

            if(a[mid] >= left_range)
                high = mid-1;
            else //if(a[mid]<i)
                low = mid+1;
        }

        return high+1;
    } 
    ```

2.  **对于上界（右范围）**，您可以调用以下函数来获取排序数组中值小于或等于它的索引，否则为-1。

    ```
    int binarySearchForRightRange(int a[], int length, int right_range)
    {
        if (a[0] > right_range)
            return -1;

        int low = 0;
        int high = length-1;

        while (low<=high)
        {
            int mid = low+((high-low)/2);

            if(a[mid] > right_range)
                high = mid-1;
            else //if(a[mid]<i)
                low = mid+1;
        }

        return low-1;
    } 
    ```

3.  **最后**，如果你想得到这个范围内有多少个元素，根据上面这两个函数的返回值很容易。

    ```
    int index_left = binarySearchForLeftRange(a, length, left_range);
    int index_right = binarySearchForRightRange(a, length, right_range);

    if (index_left==-1 || index_right==-1 || index_left>index_right)
        count = 0;
    else
        count = index_right-index_left+1; 
    ```

* * *

**测试**：（有重复）

```
 int a[] = {1,2,4,4,5,8,12,15,15,23,54};
    int length = sizeof(arr)/sizeof(arr[0]);

    int left_range = 4;
    int right_range = 15;
    int index_left = binarySearchForLeftRange(a, length, left_range); // will be 2
    int index_right = binarySearchForRightRange(a, length, right_range); // will be 8

    int count; // will be 7
    if (index_left==-1 || index_right==-1 || index_left>index_right)
        count = 0;
    else
        count = index_right-index_left+1; 
```

* * *

**编辑**：当然，您可以通过传递一个额外的标志来将前两个函数合并为一个，以将其指示为下限或上限，但如果不是，它会更清楚。你的选择！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:40:03.957

我不是在解释我已经给出了 java 中的代码，如果你想你可以改进它。

```
 public class Test {

public static int binSearch(int array[], int key, int left, int right,boolean lb)
{
int mid = left + (right-left)/2;
if (key < array[mid])
    return binSearch(array, key, left, mid-1,lb);
else if (key > array[mid])
    return binSearch(array, key, mid+1, right,lb);
else if (key == array[mid]){
    if(!lb){
    if(key==array[mid+1]){
        int ctr=mid+1;
        while(key==array[++ctr]);
        return ctr--;
      }
    else
        return mid;
    }
    else{
    if(key==array[mid-1]){
        int ctr=mid-1;
        while(key==array[--ctr]);
        return ctr++;
    }
    else
        return mid;
   }

}
return -0; // Not Found 
```

}

```
public static void main(String[] args) {
int a[]={1,2,4,4,5,8,12,15,15,23,54};
int start=binSearch(a, 4, 0, a.length,true);
int end=binSearch(a, 15, 0, a.length,false);
System.out.println(end-start+1);// number are include
} 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:04:06.790

在二分搜索中，当您找到所需的数字或该数字不在列表中时，您将停止递归过程。
在这里，您必须修改二分搜索算法。从较低的范围开始，比如**a**，不断重复，直到找到小于**a**的数字。在这样做的同时保持两个指数**低**和**高**。如果您要比较的数字小于**a**，则更新低，否则更新高。现在你有了较低的索引，现在递归地应用这个过程来找到大于这个**a**的数字。该索引将给出起始索引。
现在，对上限做补充，你会得到结束索引。
答案是`ending index - starting index + 1`

```
imin = 0, imax = A.size()-1
low = 0, high = A.size()-1
while(imax >= imin)
{
   imid = mid(imin,imax)
   if(key < A[imid])
   {
       imax = imid -1
       high = imid
   }
   else if(key > A[imid])
   {
       imin = imid + 1
       low = imid
   }
   else 
   {
       high = imid
       break;
   }
 } 
```

现在，一旦退出循环检查 if `imin > imax`，如果是，则下限索引将是 imax。`imin = low`否则，使用相同的键再次重复搜索`imax = high`，直到达到条件`imin > imax`。对上限重复相同的操作。
时间复杂度介于`O(log(n))`和`O(n)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:14:23.010

您需要一个修改过的二分搜索，它有一个参数是查找元素的第一个还是最后一个出现。
您必须自己编写修改后的 binsearch。

# c# - 如何获得防伪令牌

> ID：15292284
> 
> 赞同：1
> 
> 时间：2013-03-08T10:52:32.320
> 
> 标签：c#

嗨，我需要测试一个下载链接，我需要登录，当我尝试使用以下代码登录时，我会重定向回错误页面，因为我没有防伪令牌，你能告诉我如何获取防伪令牌，我对此很陌生，在此先感谢

```
//Make a post to LoginTest page
HttpWebRequest request = WebRequest.Create(loginUrlwith the login credential ) as HttpWebRequest;
request.Method = "HEAD";
HttpWebResponse response = request.GetResponse() as HttpWebResponse;

HttpWebRequest request2 = WebRequest.Create(downloadurl) as HttpWebRequest;
request2.CookieContainer = new CookieContainer();
request2.CookieContainer.Add(response.Cookies);
HttpWebResponse response2 = request2.GetResponse() as HttpWebResponse; 
```

# ios - 使用导航视图控制器在子视图之间导航

> ID：15292291
> 
> 赞同：1
> 
> 时间：2013-03-08T10:52:44.940
> 
> 标签：ios, cocoa-touch, uinavigationcontroller, addsubview

我有一个 MainViewController 覆盖 iPad 上的整个屏幕，我有三个子视图，每个子视图都有 frame = (0,0,1024,150)
所需的子视图配置和它们之间的 segue 正在情节提要中完成。
我想使用 navigationViewController 在屏幕顶部显示子视图......
我正在使用这段代码来做......

```
UINavigationController *nvc = [[UINavigationController alloc] initWithRootViewController:myViewController];
nvc.view.frame = CGRectMake(0, 0, 1024, 150);
[self.view addSubview:nvc.view]; 
```

myViewController 是我想在导航视图中拥有的初始视图

代码工作正常我唯一的问题是视图没有以它们的帧大小出现。它们以全屏显示 (1024/768)。

我能做些什么来保持子视图的大小？

# postgresql - 从 PostgreSQL 中的文件向表中插入数据，不带双引号

> ID：15292295
> 
> 赞同：0
> 
> 时间：2013-03-08T10:52:54.570
> 
> 标签：postgresql, postgresql-8.4, greenplum

我有一个包含一些数据的文件，我需要在表格中插入这些数据。我正在使用`gpfdist-external table - table`加载文件。

我能够在表中加载数据，但我的问题是输入文件中的字段用双引号括起来，如“Emp Name”，同样会进入数据库。我不希望这些双引号进入数据库。只有那些引号内的值应该去。

我在某个地方找到了这个 [ENCLOSED BY '"'] 但它在 greenplum 中不起作用。请告诉我我可以在我的外部表中更改的位置，以便只有双引号内的值应该进入数据库而不是双引号。

谢谢和问候，阳光

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:07:55.563

`ENCLOSED BY`是 MySQL 语法。对于 PostgreSQL，使用[COPY 运算符](http://www.postgresql.org/docs/8.4/static/sql-copy.html)：

```
COPY mytable FROM 'filename' CSV HEADER 
```

如果要指定引用样式，添加`QUOTE 'quote'`- 但`"`已经是默认值。

还有一点需要注意：您应该升级到 PostgreSQL 9.2（或至少 9.1）。PostgreSQL 8.4 很旧，支持得不是很好。

# php - 无法在一个 php 页面到下一页中动态生成 html 控件

> ID：15292306
> 
> 赞同：0
> 
> 时间：2013-03-08T10:53:40.423
> 
> 标签：php, file-upload

```
//photoform.php

<html>
<body>
<form action="upload.php" name="phsub" method="post" enctype="multipart/form-data">
<?php
session_start();
$op=$_POST["opcnt"];

if ($op!="Select")
{
    echo "<fieldset>";
    echo "<legend> Open Category </legend>";

    for ($i=1;$i<=$op;$i++)
{
    echo "<input name='ofile$i' id='ofile$i' type='file'/>";
    echo"<br>";
}
    echo "</fieldset>";
}
?>
<input type="submit" name="submit" value="Submit">
</form>
</body>
</html> 
```

上传.php

```
<?php 
    $empty = $post = array(); 
    foreach ($_POST as $varname => $varvalue) { 
        if(empty($varvalue)) { 
            $empty[$varname] = $varvalue; 
        } 
        else { 
            $post[$varname] = $varvalue; 
        } 
    } 
    print "<pre>"; 
    if (empty($empty)) { 
        print "None of the POSTed values are empty, posted:\n"; 
        var_dump($post); 
    } 
    else { 
        print "We have " . count($empty) . " empty values\n"; 
        print "Posted:\n"; 
        var_dump($post); 
        print "Empty:\n"; 
        var_dump($empty); 
        exit; 
    }
?> 
```

问题：当我列出所有 $post 值时，我只得到静态的“提交”按钮。我可以根据条件查看所有生成的文件上传控件。但无法在upload.php 文件中获得控制权。您能否建议代码中是否有任何问题。我是 PHP 新手。提前感谢您的投入。

谢谢 - Abhik Banerjee

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:58:31.137

In `photoform.php` output the `$_POST` variable to confirm that `$_POST['opcnt']` is not `select`.

Also, if you can, add the actual output html from `photoform.php` as it is likely to missing fields and/or names of fields.

Also,

```
//upload.php

<?php
    var_dump($_POST);
?> 
```

To access form `POST` variables use `$_POST`.

// Update

As your `form` is submitting `input` with type as `file`, these are considered as a special case. The values will be mapped to the `$_FILES` variable.

See the php docs [on php.net](http://www.php.net/manual/en/features.file-upload.post-method.php) for more clarification.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:32:11.143

您可以从 $_FILES 获取文件详细信息

# html - HTML/CSS 编码问题

> ID：15292312
> 
> 赞同：-1
> 
> 时间：2013-03-08T10:54:03.773
> 
> 标签：html, css

我在 HTML 页面上有一个标题容器：在其中放置了公司的徽标、背景等。用于此的 CSS 是：

```
**#header {
        background-image:url(Images/background_top.png);**
        background-repeat:no-repeat;
        position:relative;
        width:100%;
        height:270px;
    } 
```

我已将宽度设置为 100%，因为我希望它适合任何屏幕尺寸。

公司的 logo 添加了一个`img`(src,id) 标签，然后在 CSS 中进行控制。

我想在此标题的最右侧添加一个 Facebook 徽标，但每次我重新调整窗口大小时，徽标都会移动到标题下方并崩溃到页面的其余部分。

任何人都可以帮助我吗？

这是代码：

```
All code: 

<div id="header">
    <img id="facebook_logo" src="Images/facebook_logo_extended.gif" />
    <img src="Images/logo.png" id="logo" />
</div> 
```

CSS

```
#header {
    background-image:url(Images/background_top.png);
    background-repeat:no-repeat;
    position:relative;
    width:100%;
    height:270px;
}

#logo {
    position:relative;
    margin-left:300px;  
    width:1000px;
    height:276px;
}

#facebook_logo {
    position:absolute;
    left:100%;
    z-index:10;             
} 
```

现在它像我想要的那样漂浮，但太远了。现在你必须向右滚动才能看到它。当您确实缩小窗口大小时，它会运行到主徽标中。也许我试图让它做一些不可能发生的事情！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:28:39.013

试试看：

```
#header{  background-image:url(Images/background_top.png);**
        background-repeat:no-repeat;
        position:relative;
        width:100%;
        height:270px;
        }

#header img{
position: absolute;
right: 0px;
} 
```

# wpf - WPF DataGrid：禁用对多列的选择

> ID：15292315
> 
> 赞同：0
> 
> 时间：2013-03-08T10:54:05.760
> 
> 标签：wpf, datagrid, wpfdatagrid

我试图通过挂钩 DataGrid 的`SelectedCellsChanged`事件来阻止用户在多列上进行单元格选择。

但是，出于某种原因，我的代码表现得有些奇怪。 ![这就是发生的事情](../Images/62d1b9bcdd60b38d7b49dbd3d14d1bc4.png)

这是我的代码：

```
private void chartDataGrid_SelectedCellsChanged(object sender, SelectedCellsChangedEventArgs e)
{
    foreach (DataGridCellInfo cell in e.AddedCells)
    {
        // If a selected cell is within a different column than the first selected cell, undo the selection (to prevent selections from crossing multiple columns)
        if (cell.Column != e.AddedCells[0].Column)
                    this.chartDataGrid.SelectedCells.Remove(cell);
    }
} 
```

谁能告诉我我在这里缺少什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:08:23.270

好的，我摆脱了这种行为，但偶然发现了新代码的另一个问题，如下所示：

```
private void chartDataGrid_SelectedCellsChanged(object sender, SelectedCellsChangedEventArgs e)
{
    foreach (DataGridCellInfo cell in e.AddedCells)
    {
        // If a selected cell is within a different column than the first selected cell, undo the selection (to prevent selections from crossing multiple columns)
        if (cell.Column != this.chartDataGrid.SelectedCell[0].Column)
            this.chartDataGrid.SelectedCells.Remove(cell);
    }
} 
```

现在我无法将我的选择扩展到右侧的列（这很好），但我仍然可以在左侧。

# ios - MKMapView MKPointAnnotation 点击 事件

> ID：15292318
> 
> 赞同：46
> 
> 时间：2013-03-08T10:54:10.607
> 
> 标签：ios, objective-c, mkmapview, mapkit, mkannotation

我有一个注释列表（MKPointAnnotation）。我有一个用于整个视图的 UIViewController，MKMapView 实现控制器，我认为这对于检测用户与地图的交互很有用，我自己的 MKPointAnnotation 实现（子类）控制器告诉如何显示注释。

但是，我对用户检测到点击事件感到震惊。

谷歌搜索告诉我，我必须通过实现以下功能来做一些事情。

```
- (void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view calloutAccessoryControlTapped:(UIControl *)control 
```

而且我必须在一些实现 MapViewDelegate （协议）的类中实现这一点。

但是我很迷茫，无法前进。谁能告诉我在哪里做什么？

对不起所有的大惊小怪！

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2013-03-08T15:50:12.647

有两种方法可以检测用户与注释视图的交互。常见的技术是为您的`MKAnnotationView`. `viewForAnnotation`并且您在标准方法中为您的注释创建注释视图：

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation
{
    if ([annotation isKindOfClass:[MKUserLocation class]])
        return nil;

    MKAnnotationView *annotationView = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"loc"];
    annotationView.canShowCallout = YES;
    annotationView.rightCalloutAccessoryView = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];

    return annotationView;
} 
```

通过这样做，你会得到一个标注，但你正在添加一个正确的附件，在我上面的示例中，它是一个披露指示器。这样，他们点击您的注释视图（在我上面的示例中，地图上的一个图钉），他们会看到标注，并且当他们点击该标注的正确附件（本示例中的小披露指示器）时，您`calloutAccessoryControlTapped`被称为 (在下面的示例中，对某些详细视图控制器执行 segue）：

```
- (void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view calloutAccessoryControlTapped:(UIControl *)control
{
    [self performSegueWithIdentifier:@"DetailsIphone" sender:view];
} 
```

这是 iPhone 小屏幕上非常典型的用户体验。

但是，如果您不喜欢那个 UX 并且您不想要标准标注，而是希望发生其他事情，您可以定义您的`MKAnnotationView`以便不显示标注，而是拦截它并执行其他操作（例如，在 iPad 地图应用程序上，您可能会显示一些更复杂的弹出框而不是标准标注）。例如，您可以`MKAnnotationView`不显示标注：

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation
{
    if ([annotation isKindOfClass:[MKUserLocation class]])
        return nil;

    MKAnnotationView *annotationView = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"loc"];
    annotationView.canShowCallout = NO;

    return annotationView;
} 
```

但是您可以手动处理`didSelectAnnotationView`以检测用户何时点击了您的`MKAnnotationView`，在此示例中显示了一个弹出框：

```
- (void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view
{
    [mapView deselectAnnotation:view.annotation animated:YES];

    DetailsViewController *controller = [self.storyboard instantiateViewControllerWithIdentifier:@"DetailsPopover"];
    controller.annotation = view.annotation;
    self.popover = [[UIPopoverController alloc] initWithContentViewController:controller];
    self.popover.delegate = self;
    [self.popover presentPopoverFromRect:view.frame
                                  inView:view.superview
                permittedArrowDirections:UIPopoverArrowDirectionAny
                                animated:YES];
} 
```

[我在此处的回答](https://stackoverflow.com/a/14619356/1271826)中包含了由上述代码生成的用户界面的一些屏幕快照。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2016-11-30T10:53:38.823

Swift 3 的抢夺示例：

```
class MapViewController: UIViewController
{
    override func viewDidLoad()
    {
        super.viewDidLoad()

        // Create map view in storyboard
        view.delegate = self
    }
}

extension MapViewController: MKMapViewDelegate
{
    func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView?
    {
        let annotationView = MKPinAnnotationView(annotation: annotation, reuseIdentifier: "annotationView")
        annotationView.canShowCallout = true
        annotationView.rightCalloutAccessoryView = UIButton.init(type: UIButtonType.detailDisclosure)

        return annotationView
    }

    func mapView(_ mapView: MKMapView, annotationView view: MKAnnotationView, calloutAccessoryControlTapped control: UIControl)
    {
        guard let annotation = view.annotation else
        {
            return
        }

        let urlString = "http://maps.apple.com/?sll=\(annotation.coordinate.latitude),\(annotation.coordinate.longitude)"
        guard let url = URL(string: urlString) else
        {
            return
        }

        UIApplication.shared.openURL(url)
    }
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-08T11:21:18.123

在这个方法中添加按钮

```
-(MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation 
{
  pinView.rightCalloutAccessoryView = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
  pinView.canShowCallout = YES;
}

Then callout method
- (void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view calloutAccessoryControlTapped:(UIControl *)control
{
      InfoView *infoView = [[InfoView alloc]initWithNibName:@"InfoView" bundle:nil];
        [self.navigationController pushViewController:infoView animated:YES];

} 
```

# twig - twig：仅在变量存在时显示变量

> ID：15292321
> 
> 赞同：11
> 
> 时间：2013-03-08T10:54:17.150
> 
> 标签：twig, optional

有没有一种聪明的方法来显示/使用一个只有存在的树枝变量？

说，我有一个结构：

```
'opt1': {'visible': false, 'bundle': 'XxxBundle', 'name': 'label1'},
'opt2': {'visible': true, 'bundle': 'YyyBundle', 'name': 'label2', 'params': '/par1'}, 
```

我用它：

```
<a href="{{path(desc.bundle ~ '_' ~ action ~ desc.params)}}"> 
```

如果不存在不同的条目，我希望 twig 省略 desc.params 。有没有比使用`if`语句更聪明的方法？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-08T20:00:21.433

您可以将默认的空白字符串传递给它。

```
<a href="{{path(desc.bundle ~ '_' ~ action ~ desc.params|default(''))}}"> 
```

这样，如果它没有定义它只是一个空字符串。您可以在此处阅读有关默认过滤器的更多信息：http: [//twig.sensiolabs.org/doc/filters/default.html](http://twig.sensiolabs.org/doc/filters/default.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-09T08:42:35.443

另一种解决方案是`strict_variables`在 config.yml 文件中设置为 false：

```
twig:
    ...
    strict_variables: false 
```

# java - Java/Spring 捕捉异常/记录和更新状态

> ID：15292326
> 
> 赞同：0
> 
> 时间：2013-03-08T10:54:48.030
> 
> 标签：java, spring, exception, spring-transactions

假设从 Spring 服务中，我想通过客户端调用外部系统，如果该调用失败（引发未经检查的异常），我想记录它，更新 DB 中的订单状态并重新引发要回滚的事务的异常。 ..

我知道下面的示例代码被认为是一种反模式，但我想不出更好的方法来实现这一点……请问有什么意见吗？

```
public class Service {

@Autowired(required = true)
private Client client;

@Autowired(required = true)
private DAO d;

@Transactional
@Override
public void register(String id) {

     try{
      client.invoke(id);//throws Client unchecked exception
     }
     catch (ClientException e){
         LOG.error (e);
         d.updateStatus(id,"failed");
         throw e;
      }
 }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:10:09.930

如果您抛出异常只是为了使事务回滚，您最好使用它并调用 setRollbackOnly

```
 TransactionInterceptor.currentTransactionStatus().setRollbackOnly(); 
```

# java - SQL 状态 [99999]；错误代码 [17004]；无效的列类型：1111 使用 Spring SimpleJdbcCall

> ID：15292331
> 
> 赞同：10
> 
> 时间：2013-03-08T10:55:07.203
> 
> 标签：java, oracle, spring, jdbctemplate

大家好我正在使用spring简单的JDBC模板来调用oracle程序，下面是我的代码。

步骤

```
create or replace
PROCEDURE get_all_system_users(
pi_client_code IN VARCHAR2,
po_system_users OUT T_SYSTEM_USER_TAB,
po_error_code        OUT NUMBER,
po_error_description OUT VARCHAR2)
IS
ctr NUMBER;
sysUser SYSTEM_USER_OBJ;
BEGIN
ctr:=0;
po_system_users:= t_system_user_tab();
end 
```

春道班

```
public class ManualSaleStoredProcedureDao {

private SimpleJdbcCall getAllSytemUsers;

public List<SystemUser> getAllSytemUsers(String clientCode) {

    MapSqlParameterSource in = new MapSqlParameterSource();
    in.addValue("pi_client_code", clientCode);
    in.addValue("po_system_users", null,
            OracleTypes.ARRAY, "T_SYSTEM_USER_TAB");

    Map<String, Object> result = getAllSytemUsers.execute(in);

    return null;

}

public void setDataSource(DataSource dataSource) {

    getAllSytemUsers = new SimpleJdbcCall(dataSource)
            .withSchemaName("SChemaName")
            .withProcedureName("get_all_system_users")

            .declareParameters(

                    new SqlParameter(
                            "pi_client_code",
                            OracleTypes.VARCHAR,
                            "pi_client_code"));

} 
```

当我打电话给我时，`Map<String, Object> result = getAllSytemUsers.execute(in);` 我得到了以下异常

```
org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call VSC.GET_ALL_SYSTEM_USERS(?, ?, ?, ?)}]; SQL state [99999]; error code [17004]; Invalid column type: 1111; nested exception is java.sql.SQLException: Invalid column type: 1111
at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:83)
at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)
at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)
at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1030)
at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1064)
at org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:388)
at org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:351)
at org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:181)
at com.budco.vsc.dao.ManualSaleStoredProcedureDao.getAllSytemUsers(ManualSaleStoredProcedureDao.java:30)
at com.budco.vsc.dao.ManualSaleStoredProcedureDaoITest.getCustomerNotes(ManualSaleStoredProcedureDaoITest.java:64)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:601)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
   Caused by: java.sql.SQLException: Invalid column type: 1111
at oracle.jdbc.driver.OracleStatement.getInternalType(OracleStatement.java:3950)
at oracle.jdbc.driver.OracleCallableStatement.registerOutParameterInternal(OracleCallableStatement.java:135)
at oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:304)
at oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:393)
at oracle.jdbc.driver.OracleCallableStatementWrapper.registerOutParameter(OracleCallableStatementWrapper.java:1569)
at org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)
at org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)
at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:198)
at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1008)
... 35 more 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T12:47:58.790

我认为问题在于您传递`Caused by: java.sql.SQLException: Invalid column type: 1111`的数据的数据类型检查您传递的数据类型与实际的列数据类型可能存在一些不匹配或一些约束违反`null`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:30:51.863

可能，您需要在此处插入模式标识符：

```
in.addValue("po_system_users", null, OracleTypes.ARRAY, "your_schema.T_SYSTEM_USER_TAB"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-11T06:22:52.913

最后我使用下面的代码解决了问题。当在过程中声明的 In/Out 参数与 Java 代码中的参数不匹配时，就会发生这种类型的错误`declareParameters`。这里我们需要定义oracle return tab

```
public class ManualSaleStoredProcedureDao {

private SimpleJdbcCall getAllSytemUsers;

public List<SystemUser> getAllSytemUsers(String clientCode) {

    MapSqlParameterSource in = new MapSqlParameterSource();
    in.addValue("pi_client_code", clientCode);
    Map<String, Object> result = getAllSytemUsers.execute(in);
    @SuppressWarnings("unchecked")
    List<SystemUser> systemUsers = (List<SystemUser>) result
            .get(VSCConstants.GET_SYSTEM_USER_OUT_PARAM1);
    return systemUsers;

}

public void setDataSource(DataSource dataSource) {

    getAllSytemUsers = new SimpleJdbcCall(dataSource)
            .withSchemaName(VSCConstants.SCHEMA)
            .withProcedureName(VSCConstants.GET_SYSTEM_USER_PROC_NAME)
            .declareParameters(
                    new SqlParameter(
                            "pi_client_code",
                            OracleTypes.NUMBER,
                            "pi_client_code"),
                    new SqlInOutParameter(
                            "po_system_users",
                            OracleTypes.ARRAY,
                            "T_SYSTEM_USER_TAB",
                            new OracleSystemUser()));

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-06-21T18:49:10.503

I have a function which returns a CLOB and I was seeing the above error when I'd forgotten to declare the return value as an output parameter. Initially I had:

```
protected SimpleJdbcCall buildJdbcCall(JdbcTemplate jdbcTemplate)
{
    SimpleJdbcCall call = new SimpleJdbcCall(jdbcTemplate)
        .withSchemaName(schema)
        .withCatalogName(catalog)
        .withFunctionName(functionName)
        .withReturnValue()          
        .declareParameters(buildSqlParameters());

    return call;
}

public SqlParameter[] buildSqlParameters() {
    return new SqlParameter[]{
        new SqlParameter("p_names", Types.VARCHAR),
        new SqlParameter("p_format", Types.VARCHAR),
        new SqlParameter("p_units", Types.VARCHAR),
        new SqlParameter("p_datums", Types.VARCHAR),
        new SqlParameter("p_start", Types.VARCHAR),
        new SqlParameter("p_end", Types.VARCHAR),
        new SqlParameter("p_timezone", Types.VARCHAR),
        new SqlParameter("p_office_id", Types.VARCHAR),
        };
} 
```

The buildSqlParameters method should have included the SqlOutParameter:

```
public SqlParameter[] buildSqlParameters() {
    return new SqlParameter[]{
        new SqlParameter("p_names", Types.VARCHAR),
        new SqlParameter("p_format", Types.VARCHAR),
        new SqlParameter("p_units", Types.VARCHAR),
        new SqlParameter("p_datums", Types.VARCHAR),
        new SqlParameter("p_start", Types.VARCHAR),
        new SqlParameter("p_end", Types.VARCHAR),
        new SqlParameter("p_timezone", Types.VARCHAR),
        new SqlParameter("p_office_id", Types.VARCHAR),
        new SqlOutParameter("l_clob", Types.CLOB)  // <-- This was missing!
    }; 
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-05-31T15:49:00.920

We had the same issue when we had a typo in the mybatis mapping file like

```
 ....
        #{column1Name,          jdbcType=INTEGER},
        #{column2Name,          jdbcType=VARCHAR},
        #{column3Name,      jdbcTyep=VARCHAR}  -- do you see the typo ?
        ..... 
```

So check this kind of typos as well. Unfortunately, it can not understand the typo in compile/build time, it causes an unchecked exception and booms in runtime.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-18T13:02:34.967

I had this problem, and turns out the problem was that I had used

```
new SimpleJdbcCall(jdbcTemplate)
    .withProcedureName("foo") 
```

instead of

```
new SimpleJdbcCall(jdbcTemplate)
    .withFunctionName("foo") 
```

# asp.net - 输入复选框的描述单击在 Mozilla 和 Internet Explorer 10 上不起作用

> ID：15292332
> 
> 赞同：1
> 
> 时间：2013-03-08T10:55:08.500
> 
> 标签：asp.net, html, css, asp.net-mvc

我有一个复选框，在点击描述时选中和取消选中。

我的代码如下

```
<input type="checkbox" id="chkId" />
<label for="chkId">Check</label> 
```

它适用于除 Mozilla（所有版本）之外的所有浏览器，当用户单击复选框的描述 (Mozilla) 和 Internet Explorer 10 上的继续时，当用户单击并取消选中时，它运行缓慢。为什么？这是非常烦躁的。

请给我解决方案（复选框）在所有浏览器上都能正常工作。

请帮我！

任何建议将不胜感激。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T10:57:39.090

乍一看，这并没有什么问题。检查您的文档中是否没有任何其他具有“chkId”ID 的元素。

编辑：另外，您稍后是否将任何 Javascript 代码链接到这些元素？这也可能是一个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:08:10.163

```
Edit your code as per below.

<label for="chkId"><input type="checkbox" id="chkId" /> Check</label> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:06:13.393

完全没有任何问题，按照您在此处显示的代码。可能还有其他问题，可能是您在 Mozilla 中有太多附加组件，因此您的浏览器变慢了。

或者可能是您的 jQuery 负载过多。

我在我的 Mozila 中也遇到过类似的问题，但忽略它，因为这一切都是由于 Firefox 加载的一个附加组件......

# sql - 从 SQL Server Management Studio 导出数据库

> ID：15292336
> 
> 赞同：0
> 
> 时间：2013-03-08T10:55:10.950
> 
> 标签：sql, sql-server

我已经设法使用 SQL Server Management Studio 来“恢复”我的数据库。

我现在需要将其导出，以便将其导入我的网站空数据库。

我已经尝试过`Tasks/Generate Scripts`，但无法将它生成的文件导入我网站上的数据库中。

我收到以下错误消息：

> *找不到存储过程“xxx”*

我也尝试过，`Export Data`但在过程结束时似乎没有得到结果。可能是因为我使用的是免费版的软件？

有没有其他方法可以将此数据导出到`.sql`文件中以便我可以导入它？

我只是将站点从一台服务器移动到另一台服务器 - 这应该不难！

任何帮助将非常感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:22:28.073

尝试 Microsoft SQL Server 数据库发布向导。可在：

[http://www.microsoft.com/en-us/download/details.aspx?id=5498](http://www.microsoft.com/en-us/download/details.aspx?id=5498)

通过以下步骤使用生成的 .SQL 文件：

[http://www.123-reg.co.uk/support/answers/Databases/Windows-MSSQL/how-do-i-import-export-a-mssql-database-793/](http://www.123-reg.co.uk/support/answers/Databases/Windows-MSSQL/how-do-i-import-export-a-mssql-database-793/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-12T08:44:19.453

我不知道您是否已设法解决此问题，但我发现从 SSMS 保存的 SQL 文件是 Unicode 格式，并且 123-Reg 网站需要纯文本。这就是导致“找不到存储过程...”错误消息的原因。

不要保存文件，而是将文本从 SSMS 复制并粘贴到记事本中，然后保存。然后该文件应正确上传到远程数据库。

# jquery - Rails：Rails 3 dataTables TypeError：对象[对象对象]没有方法'dataTable'

> ID：15292340
> 
> 赞同：1
> 
> 时间：2013-03-08T10:55:28.513
> 
> 标签：jquery, ruby-on-rails-3, jquery-datatables

我有一个表格，它已在我的视图中呈现，如下所示：

```
<table border="1", id="pretty" class="tablesorter">
    <thead>
    <tr>
        <th>LeaveID</th>
        <th>Student ID</th>
        <th>Leave Start Date</th>
        <th>Leave End Date</th>
        <th>Leave Reason</th>
        <th>Leave Duration</th>
        <th>Academic Response</th>
        <th>Warden Response</th>
        <th>Leave Status</th>
    </tr>
    </thead>
    <% @leaves.each do |leave| %>
    <tbody>
    <tr>
        <td><%= link_to leave.leave_id_prefix+(leave.leave_id).to_s()+'/'+leave.academic_session, generateReport_path(:id_param => leave.student_id) %><br></td>
        <td><%= leave.student_id %></td>
        <td><%= leave.leave_from %><br></td>
        <td><%= leave.leave_to %><br></td>
        <td><%= leave.leave_reason %><br></td>
        <td><%= leave.leave_duration %></td>
        <td><%= leave.academic_status %></td>
        <td><%= leave.warden_status %></td>
        <td><%= leave.status%></td>
    </tr>
    </tbody>
    <% end %>

</table> 
```

View 中的 JavaScript 如下图所示，使渲染的表格成为 dataTable。

```
 <script>
      $(document).ready(function(){
          $("#pretty").dataTable();
      });
    </script> 
```

为此，我关注了 Ryan Bates 的 Railcast [http://railscasts.com/episodes/340-datatables?view=asciicast](http://railscasts.com/episodes/340-datatables?view=asciicast)。

我还将所需的 js 和 css 文件下载到我的应用程序中。

但我总是得到这个错误

```
 TypeError: Object [object Object] has no method 'dataTable' 
```

我应该怎么做..任何见解都将受到欢迎..！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-13T12:15:25.540

确保您的 Jquery 文件位于上方并在以下代码之前调用

```
<script>
   $(document).ready(function(){
       $("#pretty").dataTable();
   });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:20:00.180

确保先加载 jquery 脚本，然后再加载 dataTables js 脚本...

用于分拣

使用 aaSorting 初始化参数，您可以准确地获取表格您希望如何呈现信息。

```
 $('#example').dataTable( {
    "aaSorting": [[ 4, "desc" ]]
}); 
```

你可以通过[这里的文档](http://datatables.net/release-datatables/examples/basic_init/table_sorting.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-07T09:40:43.613

你的`<tbody>`标签应该不在循环中，这会`<tbody>`为每个创建`<tr>`，在这种情况下 dataTable 将不起作用。

```
<tbody>
  <% @leaves.each do |leave| %>
    <tr>
      <td><%= ..... %></td>
      <td><%= ..... %></td>
      <td><%= ..... %></td>
      <td><%= ..... %></td>
      <td><%= ..... %></td>
    </tr>
  <% end %>
</tbody> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:45:23.480

更新：

刚刚在您的代码中发现错误：

**代替**

```
<table border="1", id="pretty" class="tablesorter"> 
```

**和**

```
<table id="pretty" border="1" class="tablesorter"> 
```

# java - 用线程计算不同的单词

> ID：15292350
> 
> 赞同：0
> 
> 时间：2013-03-08T10:56:16.733
> 
> 标签：java, multithreading, semaphore, bufferedreader, filereader

目标是计算文件中不同的单词。

更新：以前的代码已成功完成。现在我必须做同样的事情，但使用**线程**（哦，伙计，我讨厌它们......），此外，我想用**信号量**来实现更好的流动。

代码包含以前尝试中遗漏的一些额外内容，我正在尝试找出可以使用的内容..

我一次可以读一个单词，但大多数情况下我在容器中得到一个“null”。所以在我一直从容器中得到任何东西之前，我无法测试**Sorter**类等等......

该程序的新增功能是**WordContainer**类，用于存储一个单词以将其从阅读器传递到排序器：

```
 package main2;

import java.util.ArrayList;

public class WordContainer
{
   private ArrayList<String> words;

   public synchronized String take()
   {
      String nextWord = null;
      while (words.isEmpty())
      {
         try
         {
            wait();
         }
         catch (InterruptedException e)
         {
         }
      }

      nextWord = words.remove(0);

      notify();
      return nextWord;
   }

   public synchronized void put(String word)
   {
      while (words.size() > 999)
      {
         try
         {
            wait();
         }
         catch (InterruptedException e)
         {
         }
      }
      words.add(word);
      notify();
   }
} 
```

DataSet 类结合 Sorter 方法产生**Sorter**类：

```
 package main2;

import java.util.concurrent.Semaphore;

public class Sorter extends Thread
{
   private WordContainer wordContainer;
   private int top;
   private String[] elements;
   private boolean stopped;
   private Semaphore s;
   private Semaphore s2;

   public Sorter(WordContainer wordContainer, Semaphore s, Semaphore s2)
   {
      this.wordContainer = wordContainer;
      elements = new String[1];
      top = 0;
      stopped = false;
      this.s = s;
      this.s2 = s2;
   }

   public void run()
   {
      String nextWord = wordContainer.take();
      while (nextWord != null)
      {
         try
         {
            s.acquire();
         }
         catch (InterruptedException e)
         {
            e.printStackTrace();
         }

         nextWord = wordContainer.take();
         s2.release();
         add(nextWord);
      }
   }

   public void startSorting()
   {
      start();
   }

   public void stopSorting()
   {
      stopped = true;
   }

   public boolean member(String target)
   {
      if (top > 0)
      {
         return binarySearch(target, 0, top);
      }
      else
      {
         return false;
      }
   }

   private boolean binarySearch(String target, int from, int to)
   {

      if (from == to - 1)
      {
         return elements[from].equals(target);
      }

      int middle = (to - from) / 2 + from;

      if (elements[from].equals(target))
      {
         return true;
      }

      if (elements[middle].compareTo(target) > 0)
      {
         // search left
         return binarySearch(target, from, middle);
      }
      else
      {
         // search right
         return binarySearch(target, middle, to);
      }
   }

   public void add(String nextElement)
   {
      if (top < elements.length)
      {
         elements[top++] = nextElement;
         System.out.println("[" + top + "] " + nextElement);
         sort();
      }
      else
      {
         String[] newArray = new String[elements.length * 2];
         for (int i = 0; i < elements.length; i++)
         {
            newArray[i] = elements[i];
         }
         elements = newArray;
         add(nextElement);
      }
   }

   private void sort()
   {
      int index = 0;

      while (index < top - 1)
      {
         if (elements[index].compareTo(elements[index + 1]) < 0)
         {
            index++;
         }
         else
         {
            String temp = elements[index];
            elements[index] = elements[index + 1];
            elements[index + 1] = temp;
            if (index > 0)
            {
               index--;
            }
         }
      }
   }

   public int size()
   {
      return top;
   }

   public String getSortedWords()
   {
      String w = "";
      for (int i = 0; i < elements.length; i++)
      {
         w += elements[i] + ", ";
      }

      return w;
   }

   public int getNumberOfDistinctWords()
   {
      return top;
   }
} 
```

阅读器类现在看起来像这样：

```
 package main2;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.concurrent.Semaphore;

public class Reader extends Thread
{
   private static final int whitespace = 45;
   private static final int word = 48;
   private static final int finished = -1;
   private WordContainer wordContainer;
   private Semaphore s;
   private Semaphore s2;
   private String[] wordsR;
   private int state;
   private BufferedReader reader;
   private int nextFreeIndex;

   public Reader(File words, WordContainer wordContainer, Semaphore s,
         Semaphore s2)
   {
      state = whitespace;
      try
      {
         reader = new BufferedReader(new FileReader(words));
      }
      catch (FileNotFoundException e)
      {
         e.printStackTrace();
      }
      nextFreeIndex = 0;
      wordsR = new String[1];
      this.wordContainer = wordContainer;
      this.s = s;
      this.s2 = s;
   }

   public void startReading()
   {
      start();
   }

   public void run()
   {
      String nextWord = readNext();
      while (nextWord != null)
      {
         nextWord = readNext();
         wordContainer.put(nextWord);

         s.release();
         try
         {
            s2.acquire();
         }
         catch (InterruptedException e)
         {
            e.printStackTrace();
         }
      }
   }

   public String readNext()
   {
      int next;
      StringBuffer nextWord = new StringBuffer();

      while (true)
      {
         try
         {
            next = reader.read();
         }
         catch (IOException e)
         {
            next = -1;
         }

         char nextChar = (char) next;

         switch (state)
         {
            case whitespace:
               if (isWhiteSpace(nextChar))
               {
                  state = whitespace;
               }
               else if (next == -1)
               {
                  state = finished;
               }
               else
               {
                  nextWord.append(nextChar);
                  state = word;
               }
               break;
            case word:
               if (isWhiteSpace(nextChar))
               {
                  state = whitespace;
                  return nextWord.toString();
               }
               else if (next == -1)
               {
                  state = finished;
                  return nextWord.toString();
               }
               else
               {
                  nextWord.append(nextChar);
                  state = word;
               }
               break;
            case finished:
               return null;
         }
      }
   }

   private boolean isWhiteSpace(char nextChar)
   {

      switch (nextChar)
      {
         case '-':
         case '"':
         case ':':
         case '\'':
         case ')':
         case '(':
         case '!':
         case ']':
         case '?':
         case '.':
         case ',':
         case ';':
         case '[':
         case ' ':
         case '\t':
         case '\n':
         case '\r':
            return true;
      }
      return false;
   }

   public void close()
   {
      try
      {
         reader.close();
      }
      catch (IOException e)
      {
      }
   }

   public String getWords()
   {
      return wordContainer.take();
   }
} 
```

测试班

```
package test;

import java.io.File;
import java.io.IOException;
import java.util.concurrent.Semaphore;

import main2.Reader;
import main2.Sorter;
import main2.WordContainer;

import junit.framework.Assert;
import junit.framework.TestCase;

public class TestDistinctWordsWithThreads extends TestCase
{
   public void test() throws IOException, InterruptedException
   {
      File words = new File("resources" + File.separator + "AV1611Bible.txt");

      if (!words.exists())
      {
         System.out.println("File [" + words.getAbsolutePath()
               + "] does not exist");
         Assert.fail();
      }

      WordContainer container = new WordContainer();

      Semaphore s = new Semaphore(0);
      Semaphore s2 = new Semaphore(0);

      Reader reader = new Reader(words, container, s, s2);
      Sorter sorter = new Sorter(container, s, s2);

      reader.startReading();
      sorter.startSorting();

      reader.join();
      sorter.join();

      System.out.println(reader.getWords());
      Assert.assertTrue(sorter.getNumberOfDistinctWords() == 14720);

      /*
       * String bible = reader.getWords(); System.out.println(bible); String[]
       * bible2 = sorter.getSortedWords(); System.out.println(bible2);
       * assertTrue(bible2.length < bible.length());
       */
   }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:01:54.903

您为什么不尝试以下方法：

```
public int countWords(File file) {
    Scanner sc = new Scanner(file);
    Set<String> allWords = new HashSet<String>();
    while(sc.hasNext()) {
        allWords.add(sc.next());
    }
    return allWords.size();
} 
```

# osgi - 没有托管服务或工厂的 OSGi 捆绑配置

> ID：15292353
> 
> 赞同：2
> 
> 时间：2013-03-08T10:56:31.157
> 
> 标签：osgi

Neil Bartlett 的文章[http://njbartlett.name/2010/07/19/factory-components-in-ds.html](http://njbartlett.name/2010/07/19/factory-components-in-ds.html)展示了在不使用托管服务或托管工厂的情况下为捆绑软件设置配置的方法。

搜索实际设置此方法配置的示例，指向 felix 文件安装或使用托管服务的示例。

回答[OSGi 声明式服务与 ManagedService 配置服务的问题？](https://stackoverflow.com/questions/4037388)Neil Bartlett 指出“请注意，DS 从未真正为您的组件创建 ManagedService 或 ManagedServiceFactory。它通过使用 ConfigurationListener 侦听 Config Admin 来工作。但是内部细节并不重要......只需使用与 component.name 匹配的 PID/factoryPID 创建配置它“正常工作”

我认为该技术涉及在配置字典中放置一个 pid 条目，但我不知道如何将其与配置管理员一起使用。

有关如何使用此方法设置配置的指南或简单示例将非常有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-09-21T09:19:30.723

`ManagedServiceFactory`我知道这个问题已经有一段时间了，但是当我尝试使用声明式服务创建一个类似的组件时遇到了同样的问题。所以我想分享我的解决方案。也许其他人觉得它有用。我的问题是这样的：

我已经定义了一个组件（用 注释`@Component`）。在我使用 felix 文件安装添加的每个配置中，我想要使用给定配置创建并立即激活该组件的实例。

首先，我尝试弄乱 和 的属性`factory`，`configurationPid`但`@Component`所有这些都不需要，甚至返回错误的结果（maven 插件中的 felix 注释处理器在处理 configurationPid 时似乎有一个错误）。

我想出的解决方案：

```
package com.example.my;

@Component(
    name = MyExampleComponent.FACTORY_PID,
    configurationPolicy = ConfigurationPolicy.REQUIRE,
    property = {"abc=", "exampleProp="}
)
public class MyExampleComponent {

    public static final String FACTORY_PID = "com.example.my.component";

    @Activate
    protected void activate(BundleContext context, Map<String,Object> map) {
        // ...  
    }
} 
```

然后我为 felix file-install 创建了一个配置文件，名为`com.example.my.component-test1.cfg`：

```
abc = Hello World
exampleProp = 123 
```

部署后，它会自动在配置文件夹中创建一个文件夹结构，例如`com/example/my/component`包含文件：

```
factory.config 
```

内容：

```
factory.pid="com.example.my.component"
factory.pidList=[ \
  "com.example.my.component.525ca4fb-2d43-46f3-b912-8765f639c46f", \
  ] 
```

.

```
525ca4fb-2d43-46f3-b912-8765f639c46f.config 
```

内容：

```
abc="Hello World"
exampleProp="123"
felix.fileinstall.filename="file:/..._.cfg"
service.factoryPid="com.example.my.component"
service.pid="com.example.my.component.525ca4fb-2d43-46f3-b912-8765f639c46f" 
```

这`525ca4fb-2d43-46f3-b912-8765f639c46f`似乎是一些随机生成的 ID（可能是 UUID）。

# css - 没有换行，但长词进入下一行

> ID：15292354
> 
> 赞同：0
> 
> 时间：2013-03-08T10:56:32.617
> 
> 标签：css, whitespace, word-wrap

我现在玩了一段时间的自动换行和空白，但我无法让它工作。我不想在我的标题中分词，所以长词应该放在下一行。为了澄清这一点，如果容器太小，我不希望它这样：

```
A veeeeeeeeeeeeeeee-
eeeeery long heading 
```

我希望它是这样的：

```
A
veeeeeeeeeeeeeeeeeeeeery
long heading 
```

这是我的标记：

```
<header>
    <h3>Some random blog heading</a></h3>
</header> 
```

CSS：

```
article h3{
width:200px;
word-wrap:normal;
word-break: normal;
white-space: nowrap;
} 
```

我想我尝试了所有可能的组合，但它没有达到我想要的效果。我无法想象这是不可能的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:38:33.790

如果您当前看到一个单词被分成两行，就像在第一个示例中那样，并且您不希望这样，您只需要找到导致单词分割的东西。这可能是带有`hyphen`属性的 CSS 断字，也可能是由 SOFT HYPHEN 字符（可能通过脚本插入），甚至是单词中常见的连字符“-”引起的——大多数浏览器将其视为允许在其后换行.

如果您在分析方面需要帮助，我认为您需要揭示一些实际内容和标记，也许还有样式和脚本。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-08T11:17:10.760

```
Apply css on it

<div style="word-wrap:break-all;">A veeeeeeeeeeeeeeeeeeeeery long heading</div>

or

<div style="word-wrap:break-word;">A veeeeeeeeeeeeeeeeeeeeery long heading</div> 
```

# jquery - 目标 css：通过 Jquery 之后？

> ID：15292359
> 
> 赞同：0
> 
> 时间：2013-03-08T10:56:50.153
> 
> 标签：jquery, css

是否可以通过 jquery 定位 css 类名：通过动态更改样式？

我在滑块中有一个 CSS 箭头 - 我想根据完成百分比更改颜色 - 目前我有 -

```
 $('.red-bar:after').css("background-color", "#1da9f5"); 
```

哪个不起作用！有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:05:02.870

您将要使用该`.next()`功能：

[http://api.jquery.com/next/](http://api.jquery.com/next/)

```
$('.red-bar').next().css("background-color", "#1da9f5"); 
```

更多信息： `.next()`获取所选项目的下一个兄弟。如果要在所选项目之后添加新内容，请使用`.after()`.

例子：

```
<div id="my_id"></div>
<div id="ignore_me></div> 
```

现在，如果你打电话：`$("#my_id").next().html("Hello");`，你会得到：

```
<div id="my_id"></div>
<div id="ignore_me>Hello</div> 
```

但如果你打电话`$("#my_id").after("Hello");`，你会得到：

```
<div id="my_id"></div>
Hello
<div id="ignore_me></div> 
```

# code-coverage - Atlassian Clover 的免费替代品？

> ID：15292363
> 
> 赞同：1
> 
> 时间：2013-03-08T10:57:19.953
> 
> 标签：code-coverage, sonarqube, emma, clover

重新问我的老问题：

[Java 测试覆盖率：谁覆盖了什么？](https://stackoverflow.com/questions/12673912/java-test-coverage-who-covers-what)

背景：我查看了一个类的声纳覆盖率报告，并想知道哪个测试有助于特定行/分支的覆盖率，以便轻松进入该测试并为新引入的 if-branch 添加测试。

在 IDE 中是否有其他（最好是免费的）clover 替代品？也许甚至可以将它们包含在声纳中？

或者可能是通过 emma-reports 中的一些脚本来增强、积累信息的技巧？

或者更进一步，修补 emma 或 cobertura 以记录所需的信息（我认为，可以很好地记录被测类和测试的名称，而不是记录“1”进行计数）

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T21:35:07.987

你一定要试试 JaCoCo。它与 Sonar 的集成允许从新功能中受益，例如：

*   通过单元和集成测试合并覆盖率。见[http://www.sonarsource.org/sonar-3-3-in-screenshots/](http://www.sonarsource.org/sonar-3-3-in-screenshots/)

*   跟踪测试和测试代码之间的关系（从 sonar 3.5 开始）。您可以在文档页面上找到屏幕截图：http: [//docs.codehaus.org/display/SONAR/Resource+Viewer#ResourceViewer-CoverageTab](http://docs.codehaus.org/display/SONAR/Resource+Viewer#ResourceViewer-CoverageTab)

# javascript - 三个JS加载JSON对象时出现白屏

> ID：15292366
> 
> 赞同：1
> 
> 时间：2013-03-08T10:57:30.860
> 
> 标签：javascript, three.js, webgl

我下载`threejs`了，现在尝试创建一个`3D environment`可以以某种“自我视角”自由移动的地方。我使用 pointlock-control 示例作为提交，现在我要添加我自己的东西，从在 Blender 中创建并导出为的汽车开始，`JSON`但每次我尝试加载它时，我都会得到一个白屏。我希望你们能帮助我。

代码：

```
 <style>
        html, body {
            width: 100%;
            height: 100%;
        }

        body {
            background-color: #ffffff;
            margin: 0;
            overflow: hidden;
            font-family: arial;
        }

        #blocker {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        #instructions {
            width: 100%;
            height: 100%;
            display: -webkit-box;
            display: -moz-box;
            display: box;
            -webkit-box-orient: horizontal;
            -moz-box-orient: horizontal;
            box-orient: horizontal;
            -webkit-box-pack: center;
            -moz-box-pack: center;
            box-pack: center;
            -webkit-box-align: center;
            -moz-box-align: center;
            box-align: center;
            color: #ffffff;
            text-align: center;
            cursor: pointer;
        }

    </style>
</head>
<body>
    <script src="../build/three.min.js"></script>
    <script src="js/controls/PointerLockControls.js"></script>
    <div id="blocker">
        <div id="instructions">
            <span style="font-size:40px">Click to move</span>
            <br />
            (WASD or Arrow Keys = Move, SPACE = Jump, MOUSE = Look around)
        </div>
    </div>
    <script>
        var camera, scene, renderer;
        var geometry, material, mesh;
        var loader;
        var auto;
        var loadModel;
        var controls,time = Date.now();
        var objects = [];
        var ray;
        var blocker = document.getElementById( 'blocker' );
        var instructions = document.getElementById( 'instructions' );

        // http://www.html5rocks.com/en/tutorials/pointerlock/intro/
        var havePointerLock = 'pointerLockElement' in document || 'mozPointerLockElement' in document || 'webkitPointerLockElement' in document;

        if ( havePointerLock ) {
            var element = document.body;
            var pointerlockchange = function ( event ) {
                if ( document.pointerLockElement === element || document.mozPointerLockElement === element || document.webkitPointerLockElement === element ) {
                    controls.enabled = true;
                    blocker.style.display = 'none';
                } else {
                    controls.enabled = false;
                    blocker.style.display  = '-webkit-box';
                    blocker.style.display = '-moz-box';
                    blocker.style.display = 'box';
                    instructions.style.display = '';
                }
            }

            var pointerlockerror = function ( event ) {
                instructions.style.display = '';
            }

            // Hook pointer lock state change events
            document.addEventListener( 'pointerlockchange', pointerlockchange, false );
            document.addEventListener( 'mozpointerlockchange', pointerlockchange, false );
            document.addEventListener( 'webkitpointerlockchange', pointerlockchange, false );
            document.addEventListener( 'pointerlockerror', pointerlockerror, false );
            document.addEventListener( 'mozpointerlockerror', pointerlockerror, false );
            document.addEventListener( 'webkitpointerlockerror', pointerlockerror, false );
            instructions.addEventListener( 'click', function ( event ) {
                instructions.style.display = 'none';
                // Ask the browser to lock the pointer
                element.requestPointerLock = element.requestPointerLock || element.mozRequestPointerLock || element.webkitRequestPointerLock;

                if ( /Firefox/i.test( navigator.userAgent ) ) {
                    var fullscreenchange = function ( event ) {
                        if ( document.fullscreenElement === element || document.mozFullscreenElement === element || document.mozFullScreenElement === element ) {
                            document.removeEventListener( 'fullscreenchange', fullscreenchange );
                            document.removeEventListener( 'mozfullscreenchange', fullscreenchange );
                            element.requestPointerLock();
                        }
                    }
                    document.addEventListener( 'fullscreenchange', fullscreenchange, false );
                    document.addEventListener( 'mozfullscreenchange', fullscreenchange, false );
                    element.requestFullscreen = element.requestFullscreen || element.mozRequestFullscreen || element.mozRequestFullScreen || element.webkitRequestFullscreen;
                    element.requestFullscreen();
                } else {
                    element.requestPointerLock();
                }
            }, false );
        } else {
            instructions.innerHTML = 'Your browser doesn\'t seem to support Pointer Lock API';
        }
        init();
        animate();
        function init() {
            camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 1000 );
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog( 0xffffff, 0, 750 );
            var light = new THREE.DirectionalLight( 0xffffff, 1.5 );
            light.position.set( 1, 1, 1 );
            scene.add( light );
            var light = new THREE.DirectionalLight( 0xffffff, 0.75 );
            light.position.set( -1, - 0.5, -1 );
            scene.add( light );
            controls = new THREE.PointerLockControls( camera );
            scene.add( controls.getObject() );
            ray = new THREE.Raycaster();
            ray.ray.direction.set( 0, -1, 0 );

            // floor
            geometry = new THREE.PlaneGeometry( 2000, 2000, 100, 100 );
            geometry.applyMatrix( new THREE.Matrix4().makeRotationX( - Math.PI / 2 ) );

            for ( var i = 0, l = geometry.vertices.length; i < l; i ++ ) {
                var vertex = geometry.vertices[ i ];
                vertex.x += Math.random() * 20 - 10;
                vertex.y += Math.random() * 2;
                vertex.z += Math.random() * 20 - 10;
            }

            for ( var i = 0, l = geometry.faces.length; i < l; i ++ ) {
                var face = geometry.faces[ i ];
                face.vertexColors[ 0 ] = new THREE.Color().setHSL( Math.random() * 0.2 + 0.5, 0.75, Math.random() * 0.25 + 0.75 );
                face.vertexColors[ 1 ] = new THREE.Color().setHSL( Math.random() * 0.2 + 0.5, 0.75, Math.random() * 0.25 + 0.75 );
                face.vertexColors[ 2 ] = new THREE.Color().setHSL( Math.random() * 0.2 + 0.5, 0.75, Math.random() * 0.25 + 0.75 );
                face.vertexColors[ 3 ] = new THREE.Color().setHSL( Math.random() * 0.2 + 0.5, 0.75, Math.random() * 0.25 + 0.75 );
            }

            material = new THREE.MeshBasicMaterial( { vertexColors: THREE.VertexColors } );
            mesh = new THREE.Mesh( geometry, material );
            scene.add( mesh );

            // objects
                    loader = new THREE.JSONLoader(  );
    loadModel = function(geometry) 
        {                        
            auto = new THREE.Mesh( geometry, new THREE.MeshBasicMaterial( { envMap: THREE.ImageUtils.loadTexture( 'textures/metal.jpg', new THREE.SphericalReflectionMapping() ), overdraw: true, shading: THREE.SmoothShading } ) );
            mesh.scale.set(1, 1, 1);
            mesh.position.set(0, 150, 0);
            //mesh.rotation.set(Math.PI/2, Mat.PI/2, Math.PI/2);
            //mesh.matrix.setRotationFromEuler(mesh.rotation);
            scene.add( auto );
        };
    loader.load('blender.js/auto.js', loadModel );
    setInterval(render, 50);

        renderer = new THREE.WebGLRenderer();
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );
        window.addEventListener( 'resize', onWindowResize, false );
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize( window.innerWidth, window.innerHeight );
        }

        function animate() {
            requestAnimationFrame( animate );
            controls.isOnObject( false );
            ray.ray.origin.copy( controls.getObject().position );
            ray.ray.origin.y -= 10;
            var intersections = ray.intersectObjects( objects );
            if ( intersections.length > 0 ) {
                var distance = intersections[ 0 ].distance;
                if ( distance > 0 && distance < 10 ) {
                    controls.isOnObject( true );
                }
            }
            controls.update( Date.now() - time );
            renderer.render( scene, camera );
            time = Date.now();
        }
    </script>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-16T10:38:52.127

`var intersections = ray.intersectObjects( objects );`但是您没有将网格添加到对象中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:08:12.583

说明中正文和文本“颜色”的背景颜色在样式上是相同的#ffffff。

请更改其中之一，然后尝试:)

它可能会发出，但你可能看不到它，

更新：

你在这里添加场景`scene.add(mesh2);`我认为我们应该遵循工作代码（下面）并重绘场景（使用循环或计时器，每“0.05秒”），不要添加新场景，使用简单的例子，比如圆形移动然后继续复杂的汽车，有时可能会混淆..

工作代码：

```
loader = new THREE.JSONLoader();
loadModel = function (geometry) {
    mesh2 = new THREE.Mesh(geometry, new THREE.MeshBasicMaterial({
                envMap : THREE.ImageUtils.loadTexture('textures/metal.refl.jpg', new THREE.SphericalReflectionMapping()),
                overdraw : true,
                shading : THREE.SmoothShading
            }));
    mesh2.scale.set(1, 1, 1);
    mesh2.position.set(0, 0, 0); 
    //mesh.rotation.set(Math.PI/2, Mat.PI/2, Math.PI/2); 
    //mesh.matrix.setRotationFromEuler(mesh.rotation); 
    scene.add( mesh2 ); 
}; 
```

如果使用此方法未解决，请发表评论

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:09:29.433

您的相机没有位置也没有目标。

# regex - 查找由@包围的文本并替换里面

> ID：15292367
> 
> 赞同：1
> 
> 时间：2013-03-08T10:57:35.550
> 
> 标签：regex, perl

**问题：**

在包含的文件中查找文本片段`@`并替换内部

输入：

```
@abc@ abc @ABC@
cba @cba CBA@ 
```

期望的输出：

```
абц abc АБЦ
cba цба ЦБА 
```

我有以下内容：

```
#!/usr/bin/perl
use strict;
use warnings;
use Encode;
my $output;
open FILE,"<", 'test.txt';
while (<FILE>) {
    chomp(my @chars = split(//, $_));
    for (@chars) {
        my @char;
        $_ =~ s/a/chr(0x430)/eg;
        $_ =~ s/b/chr(0x431)/eg;
        $_ =~ s/c/chr(0x446)/eg;
        $_ =~ s/d/chr(0x434)/eg;
        $_ =~ s/e/chr(0x435)/eg;
        $_ =~ s/A/chr(0x410)/eg;
        $_ =~ s/B/chr(0x411)/eg;
        $_ =~ s/C/chr(0x426)/eg;
        push @char, $_;
        $output = join "", @char;
        print encode("utf-8",$output);}
print "\n";
}
close FILE; 
```

但我坚持如何进一步处理

提前感谢您的帮助！

克鲁瑟

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:24:42.103

这是我的解决方案。（你会修复它，是的。它是原型）

```
for (my $data = <DATA>){
    $data=~s/[@]([\s\w]+)[@]/func($1)/ge;
    print $data;
#   while($data=~m/[@]([\s\w]+)[@]/g){
#      print "marked: ",$1,"\n";
#      print "position:", pos();
#   }
#      print "not marked: ";
}
sub func{
   #do your magic here ;)
   return "<< @_ >>";
}
__DATA__
@abc@ abc @ABC@ cba @cba CBA@ 
```

这里会发生什么？

首先，我读取数据。你可以自己做。

```
for (my $data = <DATA>){...} 
```

接下来，我需要搜索您的模式并替换它。
我该怎么办？

采用`substition operator: s/pattern/replace/`

但以有趣的形式：

`s/pattern/func($1)/ge`

键`g`均值全局搜索

关键`e`均值评估

所以，我认为，你需要编写自己的`func`函数；）

也许更好用`transliteration operator: tr/listOfSymbolsToBeReplaced/listOfSymbolsThatBePlacedInstead/`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:16:10.087

处理后试试这个`$output`。

```
$output =~ s/\@//g;
my @split_output = split(//, $output);
$output = "";
my $len = scalar(@split_output) ;
while ($len--) {
    $output .= shift(@split_output);
}
print $output; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:16:56.843

可以使用单个正则表达式完成，无需拆分字符串：

```
use strict;
use warnings;
use Encode;

my %chars = (
    a => chr(0x430),
    b => chr(0x431),
    c => chr(0x446),
    d => chr(0x434),
    e => chr(0x435),
    A => chr(0x410),
    B => chr(0x411),
    C => chr(0x426),
);

my $regex = '(' . join ('|', keys %chars) . ')'; 

while (<DATA>) {
    1 while ($_ =~ s|\@(?!\s)[^@]*?\K$regex(?=[^@]*(?!\s)\@)|$chars{$1}|eg);
    print encode("utf-8",$_);
} 
```

由于匹配的重叠性质，它确实需要重复运行正则表达式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:21:27.340

只需对算法进行最小限度的更改，您就需要跟踪您是否在`@`标记内。所以添加这样的东西

```
my $bConvert = 0;
chomp(my @chars = split(//, $_));
for (@chars) {
    my $char = $_;
    if (/@/) {
        $bConvert = ($bConvert + 1) % 2;
        next;
    }
    elsif ($bConvert) {
        $char =~ s/a/chr(0x430)/eg;
        $char =~ s/b/chr(0x431)/eg;
        $char =~ s/c/chr(0x446)/eg;
        $char =~ s/d/chr(0x434)/eg;
        $char =~ s/e/chr(0x435)/eg;
        $char =~ s/A/chr(0x410)/eg;
        $char =~ s/B/chr(0x411)/eg;
        $char =~ s/C/chr(0x426)/eg;
    }
    print encode("utf-8",$char);
} 
```

# expect - 如何声明一个特定的变量是一个数组？

> ID：15292373
> 
> 赞同：0
> 
> 时间：2013-03-08T10:57:48.667
> 
> 标签：expect

我在谷歌上寻找关于在期望中声明数组但无法找到它的信息。即使该行的 witki[链接](http://wiki.tcl.tk/1032)也是空的。我知道我可以设置数组值，`set arr("hh") "hhh"`但我如何声明它。

我可以使用一个命令打印整个数组还是必须循环遍历它才能打印所有元素。

或者没有在expect/tcl中声明数组之类的东西。我的意思是我们可以只使用`global`关键字来访问任何数组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:44:45.053

您无需在 Expect（或一般的 Tcl）中声明数组，您只需使用它们即可。但是数组和其他变量确实有作用域。如果您在 proc 中并且想要引用具有全局范围的数组 arr ，您可以`global arr`在使用它之前说出来，或者在每次使用它时在名称前面加上 :: 前缀，例如。`set ::arr(hh) "hhh"; puts $::arr(hh)`.

有一个命令数组可以打印整个数组，但它是从库脚本加载的，而不是内置的，因此可能不可用，具体取决于您的 Expect 安装方式。例如。

```
expect1.1> set arr(a) ACBD
ACBD
expect1.2> set arr(b) "BBB bbb"
BBB bbb
expect1.3> parray arr
arr(a) = ACBD
arr(b) = BBB bbb 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T13:59:03.317

您不必声明数组，但如果您想：

```
array set variableName {} 
```

最后一个词是一个空列表。如果您有一些要存储在数组中的默认值，您可以说：

```
array set varname {key1 val1 key2 val2 ... ...} 
```

如果你很好奇，这里是如何`parray`实现的：

```
proc parray {a {pattern *}} {
    upvar 1 $a array
    if {![array exists array]} {
        error "\"$a\" isn't an array"
    }
    set maxl 0
    set names [lsort [array names array $pattern]]
    foreach name $names {
        if {[string length $name] > $maxl} {
            set maxl [string length $name]
        }
    }
    set maxl [expr {$maxl + [string length $a] + 2}]
    foreach name $names {
        set nameString [format %s(%s) $a $name]
        puts stdout [format "%-*s = %s" $maxl $nameString $array($name)]
    }
} 
```

# android - 如何在按下电源按钮时启动应用程序

> ID：15292376
> 
> 赞同：4
> 
> 时间：2013-03-08T10:57:53.443
> 
> 标签：android, broadcastreceiver, android-manifest

我想在用户按下电源按钮时启动我的应用程序。我正在关注[此代码](https://stackoverflow.com/questions/8940922/activate-an-application-when-a-power-button-is-clicked) ，但它没有显示任何内容`Log`和 toast。

这是我的完整代码。

**MyReceiver.java**

```
import android.content.BroadcastReceiver;
   import android.content.Context;
   import android.content.Intent;
   import android.util.Log;
   import android.widget.Toast;

   public class MyReceiver extends BroadcastReceiver {

@Override
public void onReceive(Context context, Intent intent) {

    // TODO Auto-generated method stub

    Log.v("onReceive", "Power button is pressed.");

    Toast.makeText(context, "power button clicked", Toast.LENGTH_LONG)
            .show();

    // perform what you want here

}

} 
```

**清单文件**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.powerbuttontest"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.powerbuttontest.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <receiver android:name=".MyReceiver" >
        <intent-filter>
            <action android:name="android.intent.action.SCREEN_OFF" >
            </action>
            <action android:name="android.intent.action.SCREEN_ON" >
            </action>
            <action android:name="android.intent.action.ACTION_POWER_CONNECTED" >
            </action>
            <action android:name="android.intent.action.ACTION_POWER_DISCONNECTED" >
            </action>
            <action android:name="android.intent.action.ACTION_SHUTDOWN" >
            </action>
        </intent-filter>
    </receiver>
</application>
</manifest> 
```

**MainActivity.java**

```
package com.example.powerbuttontest;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;

public class MainActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.main, menu);
    return true;
}

} 
```

*   我认为我在我的`menifest file`. 请看看这个。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:16:30.743

首先，与其他广泛的意图不同，对于 Intent.ACTION_SCREEN_OFF 和 Intent.ACTION_SCREEN_ON，您不能在 Android 清单中声明它们！所以你需要做一个像这样继续运行的服务

```
public static class UpdateService extends Service {

        @Override
        public void onCreate() {
            super.onCreate();
            // register receiver that handles screen on and screen off logic
            IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);
            filter.addAction(Intent.ACTION_SCREEN_OFF);
            BroadcastReceiver mReceiver = new Receiver();
            registerReceiver(mReceiver, filter);
        }

        @Override
        public void onStart(Intent intent, int startId) {
            boolean screenOn = intent.getBooleanExtra("screen_state", false);
            if (!screenOn) {
                // your code
            } else {
                // your code
            }
        }
} 
```

你的接收器可以是什么

```
public class Receiver extends BroadcastReceiver {

    private boolean screenOff;

    @Override
    public void onReceive(Context context, Intent intent) {
        if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {
            screenOff = true;
        } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {
            screenOff = false;
        }
        Intent i = new Intent(context, UpdateService.class);
        i.putExtra("screen_state", screenOff);
        context.startService(i);
    }

} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-05T10:35:14.620

这是我的完整代码。希望这可以帮助。我基本上是在制作一个外观屏幕应用程序。这将禁用您的默认锁定屏幕。并在按下电源按钮时，它将启动服务并运行以查找电源按钮按下事件。

布局.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<Button
    android:id="@+id/button1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/toggleButton1"
    android:layout_marginTop="72dp"
    android:enabled="false"
    android:text="Settings" />

<ToggleButton
    android:id="@+id/toggleButton1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:layout_marginTop="72dp"
    android:checked="true"
    android:textOff="Disable"
    android:textOn="Enable" />

</RelativeLayout> 
```

MainActivity.java

```
package com.example.powerbuttontest;

import android.app.Activity;
import android.app.KeyguardManager;
import android.app.KeyguardManager.KeyguardLock;
import android.content.Context;
import android.content.Intent;
import android.content.res.Configuration;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.Toast;
import android.widget.ToggleButton;

public class MainActivity extends Activity {

ToggleButton btnToggleLock;
Button btnMisc;

Toast toast;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    btnMisc = (Button) findViewById(R.id.button1);
    btnToggleLock = (ToggleButton) findViewById(R.id.toggleButton1);

    toast = Toast.makeText(getApplicationContext(), "", Toast.LENGTH_SHORT);

    btnToggleLock.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            if (btnToggleLock.isChecked()) {

                toast.cancel();
                toast.setText("Unlocked");
                toast.show();

                Log.i("Unlocked", "If");

                Context context = getApplicationContext();
                KeyguardManager _guard = (KeyguardManager) context
                        .getSystemService(Context.KEYGUARD_SERVICE);
                KeyguardLock _keyguardLock = _guard
                        .newKeyguardLock("KeyguardLockWrapper");
                _keyguardLock.disableKeyguard();

                MainActivity.this.startService(new Intent(
                        MainActivity.this, UpdateService.class));

            } else {

                toast.cancel();
                toast.setText("Locked");
                toast.show();

                Context context = getApplicationContext();
                KeyguardManager _guard = (KeyguardManager) context
                        .getSystemService(Context.KEYGUARD_SERVICE);
                KeyguardLock _keyguardLock = _guard
                        .newKeyguardLock("KeyguardLockWrapper");
                _keyguardLock.reenableKeyguard();

                Log.i("Locked", "else");

                MainActivity.this.stopService(new Intent(MainActivity.this,
                        UpdateService.class));

            }

        }
    });

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.main, menu);
    return true;
}

@Override
public void onConfigurationChanged(Configuration newConfig) {
    // TODO Auto-generated method stub
    super.onConfigurationChanged(newConfig);

    Log.i("onConfigurationChanged", "Called");
}

} 
```

MyReciever.java

```
package com.example.powerbuttontest;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.util.Log;
import android.widget.Toast;

public class MyReceiver extends BroadcastReceiver {
private boolean screenOff;

@Override
public void onReceive(Context context, Intent intent) {
    if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {
        screenOff = true;
    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {
        screenOff = false;
    }
    Intent i = new Intent(context, UpdateService.class);
    i.putExtra("screen_state", screenOff);
    context.startService(i);
}

} 
```

更新服务.java

```
package com.example.powerbuttontest;

import android.app.Service;
import android.content.BroadcastReceiver;
import android.content.Intent;
import android.content.IntentFilter;
import android.os.IBinder;
import android.util.Log;
import android.widget.Toast;

public class UpdateService extends Service {

    BroadcastReceiver mReceiver;

@Override
public void onCreate() {
    super.onCreate();
    // register receiver that handles screen on and screen off logic
    IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);
    filter.addAction(Intent.ACTION_SCREEN_OFF);
    mReceiver = new MyReceiver();
    registerReceiver(mReceiver, filter);
}

@Override
public void onDestroy() {

    unregisterReceiver(mReceiver);
    Log.i("onDestroy Reciever", "Called");

    super.onDestroy();
}

@Override
public void onStart(Intent intent, int startId) {
    boolean screenOn = intent.getBooleanExtra("screen_state", false);
    if (!screenOn) {
        Log.i("screenON", "Called");
        Toast.makeText(getApplicationContext(), "Awake", Toast.LENGTH_LONG)
                .show();
    } else {
        Log.i("screenOFF", "Called");
        // Toast.makeText(getApplicationContext(), "Sleep",
        // Toast.LENGTH_LONG)
        // .show();
    }
}

@Override
public IBinder onBind(Intent intent) {
    // TODO Auto-generated method stub
    return null;
}
} 
```

清单文件.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.powerbuttontest"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />
<uses-permission android:name="android.permission.DISABLE_KEYGUARD"/>

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:name=".MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <receiver android:name=".MyReceiver" />

    <service android:name=".UpdateService" />
</application>

</manifest> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-11-12T06:34:52.633

这是完整的代码，一旦您按下电源按钮，它将打开您的应用程序。我也在做同样的项目，我想在按下电源按钮（打开）后直接打开我的应用程序。

**MainActivity.java**

```
 public class MainActivity extends Activity 
   {

   @Override
  protected void onCreate(Bundle savedInstanceState) 
  {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_switch_power_offon);

        startService(new Intent(getApplicationContext(), LockService.class));
    }//EOF Oncreate
    }//EOF Activity 
```

**锁服务.java**

```
 public class LockService extends Service {

@Override
  public IBinder onBind(Intent intent) {
  return null;
  }
  @Override
  public void onCreate() {
  super.onCreate();
   }

  @Override
  public int onStartCommand(Intent intent, int flags, int startId) 
{
  final IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);
  filter.addAction(Intent.ACTION_SCREEN_OFF);
  filter.addAction(Intent.ACTION_USER_PRESENT);
  final BroadcastReceiver mReceiver = new ScreenReceiver();
 registerReceiver(mReceiver, filter);
 return super.onStartCommand(intent, flags, startId);
  }
 public class LocalBinder extends Binder 
{
  LockService getService() {
  return LockService.this;
 }
}//EOF SERVICE 
```

**ScreenReceiver.java**

```
public class ScreenReceiver extends BroadcastReceiver {

public static boolean wasScreenOn = true;

public void onReceive(final Context context, final Intent intent) {
Log.e("LOB","onReceive");

if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) 
{
        // do whatever you need to do here
        wasScreenOn = false;
        //Log.e("LOB","wasScreenOn"+wasScreenOn);
        Log.e("Screen ","shutdown now");
 } 
  else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) 
  {
        // and do whatever you need to do here
        wasScreenOn = true;
        Log.e("Screen ","awaked now");

        Intent i = new Intent(context, MainActivity.class);  //MyActivity can be anything which you want to start on bootup...
        i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        context.startActivity(i);

    }
    else if(intent.getAction().equals(Intent.ACTION_USER_PRESENT))
    {
        Log.e("LOB","userpresent");
      //  Log.e("LOB","wasScreenOn"+wasScreenOn);

    }
} 
```

}//EOF SCREENRECEIVER.JAVA

现在这是 xml 文件，请复制粘贴并更改您正在使用的包名称

```
 <?xml version="1.0" encoding="utf-8"?> 
```

```
<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="21" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.userpresent.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

        <service android:name="com.example.userpresent.LockService" >
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
            </intent-filter>
        </service>
</application> 
```

# android - Android StrictMode 和堆转储

> ID：15292383
> 
> 赞同：5
> 
> 时间：2013-03-08T10:58:13.667
> 
> 标签：android, android-strictmode

当 Android 的 StrictMode 检测到泄漏对象（例如活动）违规时，如果我能在那个时刻捕获堆转储将会很有帮助。但是，没有明显的方法可以将其配置为执行此操作。有谁知道一些可以用来实现它的技巧，例如，一种说服系统在调用死刑之前运行特定代码的方法？我认为 StrictMode 不会引发异常，因此我不能使用此处描述的技巧：[Is there a way to have an Android process generate a heap dump on an OutOfMemoryError?](https://stackoverflow.com/questions/6131769/is-there-a-way-to-have-an-android-process-produce-a-heap-dump-on-an-outofmemorye)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-08T20:37:26.040

也不例外，但会在它终止之前`StrictMode`打印一条消息。`System.err`所以，这是一个 hack，但它可以工作，因为它只会在调试版本中启用，我认为这很好...... :)

在`onCreate()`：

```
//monitor System.err for messages that indicate the process is about to be killed by
//StrictMode and cause a heap dump when one is caught
System.setErr (new HProfDumpingStderrPrintStream (System.err)); 
```

和提到的类：

```
private static class HProfDumpingStderrPrintStream extends PrintStream
{
    public HProfDumpingStderrPrintStream (OutputStream destination)
    {
        super (destination);
    }

    @Override
    public synchronized void println (String str)
    {
        super.println (str);
        if (str.equals ("StrictMode VmPolicy violation with POLICY_DEATH; shutting down."))
        {
            // StrictMode is about to terminate us... don't let it!
            super.println ("Trapped StrictMode shutdown notice: logging heap data");
            try {
                android.os.Debug.dumpHprofData(app.getDir ("hprof", MODE_WORLD_READABLE) + "/strictmode-death-penalty.hprof");
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }
} 
```

（其中`app`是外部类中的静态字段，其中包含对应用程序上下文的引用，以便于参考）

它匹配的字符串从姜饼版本一直到 jelly bean 一直保持不变，但理论上它可能会在未来的版本中发生变化，因此值得检查新版本以确保它们仍然使用相同的消息。

# android - 无法读取收件箱中的所有短信

> ID：15292384
> 
> 赞同：1
> 
> 时间：2013-03-08T10:58:29.230
> 
> 标签：android, sms

这是我的代码：

```
private void readSMS() throws IOException {
    // TODO Auto-generated method stub
    Log.d("Read SMS","Called");
    ContentResolver cr = context.getContentResolver();
    Uri uri = Uri.parse("content://sms/inbox");
    String smsBackup; 
    Cursor messagesCursor = cr.query(uri, new String[] { "_id","address","body","person"}, null,null, null);

    smsBackup = "SMS Back UP (Total Message(s)::"+messagesCursor.getCount()+") \n\n";

    String smsfile = "SMS" + "_" + System.currentTimeMillis()+".txt";

    storage_path = Environment.getExternalStorageDirectory().toString() + File.separator + smsfile;
    FileOutputStream mFileOutputStream = new FileOutputStream(storage_path,true);

    mFileOutputStream.write(smsBackup.getBytes());

    String name = null,smsString;

    int smsCounter = 1;
    if(messagesCursor.getCount() > 0){
        while(messagesCursor.moveToNext()){
            name = null;
            name = getName(messagesCursor.getString(messagesCursor.getColumnIndex("address")));

            if(name==null)
                name = "Sender : " + messagesCursor.getString(messagesCursor.getColumnIndex("address"));

            smsString = "SMS No : "+smsCounter+"\nSender : "+name +"\n"+  "Message : "+messagesCursor.getString(messagesCursor.getColumnIndex("body")) + "\n\n";

            mFileOutputStream.write(smsString.getBytes());

            Log.d("Message","::"+smsString+"Length::"+smsString.length());

            smsString = null;

            Log.d("Message","written::"+smsCounter);
            smsCounter++;
        }
        messagesCursor.close();
        file = new File(storage_path);
        mFileOutputStream.close();
        Log.d("MSGFile","written");
    }
}

private String getName(String number1) {
    // TODO Auto-generated method stub
    Log.d("get name","Called");
    //Log.d("get name",number1);

    Uri uri = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;
    ContentResolver cr = getContentResolver();
    Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI,null, null, null, null);

    if(cur.getCount() > 0){
        String[] projection    = new String[] {ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME,
                ContactsContract.CommonDataKinds.Phone.NUMBER };
        Cursor names = getContentResolver().query(uri, projection, null, null, null);
        int indexName = names.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME);
        int indexNumber = names.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);
        names.moveToFirst();
        do {
            String name   = names.getString(indexName);
            //Log.e("Name new:", name);
            String number = names.getString(indexNumber);
            //Log.e("Number new:","::"+number);
            if(number1.contains(number)){
                cur.close();
                return name;
            }
        } while (names.moveToNext());
    }
    cur.close();
    return null;
} 
```

我也收到警告：W/CursorWrapperInner(22787): Cursor finalized without prior close()

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:10:38.923

使用下面的代码获取联系人

```
 private void readMessagesFromDeviceDB()
                {
                    Uri SMSURI          = Uri.parse("content://sms/inbox");
                    String[] projection = new String[]{"_id", "address", "body", "date"};
                    Cursor cursor       = null;
                    try 
                    {
                        cursor  = getContentResolver().query(SMSURI
                                , projection
                                , null //selection
                                , null //selectionArgs
                                , null); //sortOrder

                        if (cursor != null && cursor.moveToFirst()) 
                        {
                            do
                            {
                                int id          = cursor.getInt(cursor.getColumnIndex("_id")); //returns a unique thread id
                                String address  = cursor.getString(cursor.getColumnIndex("address")); //returns contact no.
                                String body     = cursor.getString(cursor.getColumnIndex("body")); //returns message body
                                String date     = cursor.getString(cursor.getColumnIndex("date")); //returns date( when was the message received )

                                SimpleDateFormat formatter  = new SimpleDateFormat("dd, MMM HH:mm");
                                date = formatter.format(new Date(Long.parseLong(date)));

            //                System.out.println("id: " + id + "  address: " + address + "  body: " + body + "  date: " + date);
                            } 
                            while (cursor.moveToNext());
                        }
                    } finally {
                        if (cursor != null) 
                        {
                            cursor.close();
                        }
                    }
                } 
```

# magento - Set front end label for customer attribute - magento

> ID：15292385
> 
> 赞同：3
> 
> 时间：2013-03-08T10:58:29.737
> 
> 标签：magento

I have a customer attribute which I setup using this script (I've only pasted part of it, the part related to the attribute)

```
$setup->addAttribute('customer', 'age', array(
    'label'             => 'Age',
    'type'              => 'int',
    'input'             => 'select',
    'user_defined'      => true,
    'source'            => 'eav/entity_attribute_source_table',
    'visible'           => true,
    'required'          => false,
    'visible_on_front'  => true
)); 
```

I would like to set the front end label of the attribute to "How old are you?" but keep the Admin label to "Age". How could I do this?

Thanks in advance,

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T12:34:56.753

好的，我在研究了 magento 后成功了

```
$labels = array();
$labels[0] = 'Age';//default store label
$labels[1] = 'Label for store with id 1';
$oAttribute = Mage::getSingleton('eav/config')->getAttribute('customer', 'age');
$oAttribute->setData('store_labels', $labels);
$oAttribute->save(); 
```

这成功了。

希望它可以帮助别人。

# c# - Namespace name 'html' does not exist in the namespace iTextSharp v5.4.0

> ID：15292387
> 
> 赞同：0
> 
> 时间：2013-03-08T10:58:31.773
> 
> 标签：c#, itextsharp

I have a problem I want to convert to PDF From using iTextSharp using version v5.4.0 1.The type or namespace name 'html' does not exist in the namespace 'iTextSharp.text' (are you missing an assembly reference?)
2.The name 'PdfWriter' does not exist in the current context 3.The name 'HTMLWorker' does not exist in the current context

```
{
    string fileName = "pdfDocument" + DateTime.Now.Ticks + ".pdf";
    Response.Clear();
    GeneratePDF("", fileName, true, "");
    Response.ContentType = "application/pdf";
    Response.AddHeader("content-disposition", "attachment; filename=" + fileName);
    Response.Flush();
    Response.End();
}
protected void GeneratePDFAndDownload(object sender, EventArgs e)
{

    string fileName = "pdfDocument" + DateTime.Now.Ticks + ".pdf";
    Response.Clear();
    GeneratePDF("", fileName, true, "");
    Response.ContentType = "application/pdf";
    Response.AddHeader("content-disposition", "attachment; filename=" + fileName);
    Response.Flush();
    Response.End();
}

private void GeneratePDF(string path, string fileName, bool download, string text)
{
    var document = new Document();
    try
    {
        if (download)
        {
            PdfWriter.GetInstance(document, Response.OutputStream);
        }
        else
        {
            PdfWriter.GetInstance(document, new FileStream(path + fileName, FileMode.Create));
        }

        StringBuilder strB = new StringBuilder();
        document.Open();

        if (text.Length.Equals(0)) 
        {
            BindMyGrid();
            using (StringWriter sWriter = new StringWriter(strB))
            {
                using (HtmlTextWriter htWriter = new HtmlTextWriter(sWriter))
                {
                    istorijaKupovinaGreedView.RenderControl(htWriter);
                }
            }
        }
        else 
        {
            strB.Append(text);
        }

        using (TextReader sReader = new StringReader(strB.ToString()))
        {
            List<IElement> list = HTMLWorker.ParseToList(sReader, new StyleSheet());
            foreach (IElement elm in list)
            {
                document.Add(elm);
            }
        }
    }
    catch (Exception ee)
    {
        lblMessage.Text = ee.ToString();
    }
    finally
    {
        document.Close();
    }
}

private void BindMyGrid()
{
    throw new NotImplementedException();
} 
```

}

# git - 是否可以在 Git 项目的所有分支中执行“grep 搜索”？

> ID：15292391
> 
> 赞同：166
> 
> 时间：2013-03-08T10:58:37.263
> 
> 标签：git, grep

是否可以`git grep`在 Git 控制源项目的所有分支中运行？还是有另一个命令可以运行？

* * *

## 回答 #1

> 赞同：221
> 
> 时间：2013-03-08T11:47:08.583

问题“[如何在 git 历史中 grep（搜索）提交的代码？](https://stackoverflow.com/q/2928584/6309) ”建议：

```
 git grep <regexp> $(git rev-list --all) 
```

这将搜索所有提交，其中应包括所有分支。

另一种形式是：

```
git rev-list --all | (
    while read revision; do
        git grep -F 'yourWord' $revision
    done
) 
```

[您可以在本文](http://travisjeffery.com/b/2012/02/search-a-git-repo-like-a-ninja/)中找到更多示例：

> 我在一个足够大的项目上尝试了上述方法，以至于 git 抱怨参数大小，所以如果遇到这个问题，请执行以下操作：

```
git rev-list --all | (while read rev; do git grep -e <regexp> $rev; done) 
```

（请参阅下面此答案最后一部分中的替代方法）

如果需要，请不要忘记这些设置：

```
# Allow Extended Regular Expressions
git config --global grep.extendRegexp true
# Always Include Line Numbers
git config --global grep.lineNumber true 
```

这个别名也可以提供帮助：

```
git config --global alias.g "grep --break --heading --line-number" 
```

* * *

2016 年 8 月更新：[RM](https://stackoverflow.com/users/3022952/r-m)在评论中推荐

> `fatal: bad flag '->' used after filename`尝试`git branch`版本时我得到了一个“ ”。该错误与`HEAD`别名表示法有关。

> 我通过`sed '/->/d'`在管道中添加 a 在 the`tr`和`xargs`命令之间解决了这个问题。

```
 git branch -a | tr -d \* | sed '/->/d' | xargs git grep <regexp> 
```

那是：

```
alias grep_all="git branch -a | tr -d \* | sed '/->/d' | xargs git grep"
grep_all <regexp> 
```

这是对[chernjie](https://stackoverflow.com/users/1477655/chernjie)建议的解决方案的改进，因为这[是](https://stackoverflow.com/review/suggested-edits/5432005)`git rev-list --all`一种矫枉过正的做法。

> 更精细的命令可以是：

```
# Don't use this, see above
git branch -a | tr -d \* | xargs git grep <regexp> 
```

> 这将允许您仅搜索分支（包括远程分支）

> 你甚至可以为它创建一个 bash/zsh 别名：

```
# Don't use this, see above  
alias grep_all="git branch -a | tr -d \* | xargs git grep"
grep_all <regexp> 
```

* * *

## 回答 #2

> 赞同：85
> 
> 时间：2014-10-07T00:24:27.627

`git log`可能是在所有分支中搜索文本的更有效方式，尤其是在有很多匹配项并且您希望首先查看最近（相关）更改的情况下。

```
git log -p --all -S 'search string'
git log -p --all -G 'match regular expression' 
```

这些日志命令列出添加或删除给定搜索字符串/正则表达式的提交，（通常）首先是最近的。该`-p`选项导致相关差异显示在添加或删除模式的位置，因此您可以在上下文中查看它。

找到添加了您要查找的文本的相关提交（例如 8beeff00d）后，找到包含该提交的分支：

```
git branch -a --contains 8beeff00d 
```

* * *

## 回答 #3

> 赞同：29
> 
> 时间：2014-01-22T13:32:28.560

我发现这个最有用：

```
git grep -i foo `git for-each-ref --format='%(refname)' refs/` 
```

您需要根据是否只想查看远程分支和本地分支来调整最后一个参数，即：

*   `git grep -i foo $(git for-each-ref --format='%(refname)' refs/remotes)`
*   `git grep -i foo $(git for-each-ref --format='%(refname)' refs/heads)`

我创建的别名如下所示：

```
grep-refs = !sh -c 'git grep "$0" "$@" "$(git for-each-ref --format=\"%(refname)\"" refs/)' 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2017-01-27T16:17:04.987

可以通过两种常见的方式做到这一点：Bash 或 Git 别名

下面是三个命令：

1.  `git grep-branch`- 在本地和远程的所有分支中搜索
2.  `git grep-branch-local`- 仅在当地分支机构搜索
3.  `git grep-branch-remote`- 仅限远程分支

用法是一样的[`git grep`](https://git-scm.com/docs/git-grep)

```
git grep-branch "find my text"
git grep-branch --some-grep-options "find my text" 
```

# GREP 使用：Git 别名

## 文件 ~/.gitconfig

**命令应该手动添加到`~/.gitconfig`文件中，因为`git config --global alias`评估您添加的复杂代码并将其搞砸。**

```
 [alias]
    grep-branch        = "!f(){ git branch -a | sed -e 's/[ \\*]*//' | grep -v -e '\\->' | xargs git grep $@; };f "
    grep-branch-remote = "!f(){ git branch -a | sed -e 's/[ \\*]*//' | grep -v -e '\\->' | grep '^remotes' | xargs git grep $@; };f"
    grep-branch-local  = "!f(){ git branch -a | sed -e 's/[ \\*]*//' | grep -v -e '\\->' -e '^remotes' | xargs git grep $@;  };f " 
```

注意：当您添加别名并且它们无法运行时 - 检查反斜杠，与*bash*命令相比，`\`它们可能需要额外的转义。`\\`

 **   `git branch -a`- 显示所有分支；
*   `sed -e 's/[ \\*]*//'`- 修剪*空格*（来自`branch -a`）和 *（活动分支名称有它）；
*   `grep -v -e '\\->'`- 忽略复杂的名称，例如`remotes/origin/HEAD -> origin/master`；
*   `grep '^remotes'`- 获取所有远程分支；
*   `grep -v -e '^remotes'`- 获取**除**远程分支外的分支；

### 例子`git grep-branch-local -n getTastyCookies`

`-n`将行号添加到匹配行的前缀。

```
[user@pc project]$ git grep-branch-local -n getTastyCookies

dev:53:modules/factory/getters.php:function getTastyCookies($user);
master:50:modules/factory/getters.php:function getTastyCookies($user) 
```

目前的结构是：

`:`- 分隔器

1.  分支：`dev`
2.  电话号码：`53`
3.  文件路径：`modules/factory/getters.php`
4.  配套线路：`function getTastyCookies($user)`

# GREP 使用：BASH

**你应该知道：Bash 命令应该存储在`.sh`脚本中或在 shell 中运行。**

## 仅限本地分支机构

```
git branch -a | sed -e 's/[ \*]*//' | grep -v -e '\->' -e '^remotes' | xargs git grep "TEXT" 
```

## 仅限远程分支

```
git branch -a | sed -e 's/[ \*]*//' | grep -v -e '\->' | grep '^remotes' | xargs git grep "TEXT" 
```

## 本地和远程分支

```
git branch -a | sed -e 's/[ \*]*//' | grep -v -e '\->' | xargs git grep "TEXT" 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-03-08T11:46:28.087

如果你给任何提交一个 SHA-1 哈希值，`git grep`你让它在其中搜索，而不是工作副本。

要搜索所有分支，您*可以*使用`git rev-list --all`. 把它全部与

```
git grep "regexp" $(git rev-list --all) 
```

...并有耐心

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-09-24T15:51:16.743

这是我的做法：

```
git for-each-ref --format='%(*refname)' | xargs git grep SEARCHTERM 
```*

# gwt - store/retrieve data from localstorage db using GWT phonegap

> ID：15292393
> 
> 赞同：0
> 
> 时间：2013-03-08T10:58:39.183
> 
> 标签：gwt, cordova, local-storage, mgwt

I'm newer to GWT,MGWT and gwt-phonegap .My task is to store or get the data from local storage db of iPhone/Android device.Can any help me on this. I'm using Gwt-Phonegap in my application.if you provide me developed samples,I'll be very much thankful to you.

waiting for your valuable reply

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:06:55.803

本地存储不是数据库

[你可以在这里](http://www.w3schools.com/html/html5_webstorage.asp)看到例子

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:58:14.580

最后，我成为了 GWT 和 MGWT 的 LdbApi 专家，可以在客户端存储日期。我正在提供链接，以便它对像我这样的初学者有用。

[本地数据库](https://code.google.com/p/gwt-localstorage-db/)

# css - 覆盖由“a”标签应用的 CSS

> ID：15292401
> 
> 赞同：1
> 
> 时间：2013-03-08T10:59:18.637
> 
> 标签：css

我有以下代码，

```
<div id="nav">
   <a href="#" >Tab1</a>
   <a href="#" >Tab2</a>
   <a href="#" >Tab3</a>
   <a href="#" >Tab4</a>
   <a href="#" >Tab5</a>
   <a href="#" >Tab6</a>
   <a href="#" >Tab7</a>
   <a href="#" class="tab8Class">Tab8</a>
   <a href="#" >Tab9</a>
</div>

#nav a {
float: left;
color: #004761;
font-size: 12px;
font-weight: bold;
text-decoration: none;
padding: 9px 5px 9px 13px;
background-colour: white;
}

.tab8Class {
float: left;
color: #004761;
font-size: 12px;
font-weight: bold;
text-decoration: none;
padding: 9px 5px 9px 13px;
background-color: lightgray;
} 
```

我想`background-colour`为 Tab8 应用不同的选项。因此，仅对于 Tab8，我在`a href`标签中添加了一个额外的类。

但是，即使对于 Tab8，`#nav a`也将覆盖`tab8Class`.

我怎样才能`tab8Class`申请？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:02:00.980

您需要使第二个规则更具体（有关更多信息，请查看[MDN on Specificity](https://developer.mozilla.org/en-US/docs/CSS/Specificity)），因此它不会被第一个规则覆盖。此外，您不必重复所有未更改的属性：

```
#nav a {
   float: left;
   color: #004761;
   font-size: 12px;
   font-weight: bold;
   text-decoration: none;
   padding: 9px 5px 9px 13px;
   background-color: white;
}

#nav .tab8Class {
   background-color: lightgray;
} 
```

**[示例小提琴](http://jsfiddle.net/EGTUJ/)**

^(There was a typo in the first rule as well: It said `background-colour` instead of `background-color`.)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T11:02:36.783

Make your selector even more specific:

```
#nav .tab8Class 
```

You also remove the `u` in `colour` to have correct css:

```
background-color: white;
              ^ 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T11:02:01.603

Use

```
#nav .tab8Class { 
```

instead of:

```
.tab8Class { 
```

This will make your selector more **specific**.

You can read about CSS specificity [here](http://coding.smashingmagazine.com/2007/07/27/css-specificity-things-you-should-know/).

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T11:01:34.333

只需更改 bg 颜色规则，无需重新编写所有规则。

```
#nav a.tab8Class{

    background: #000 ; // change the color 

} 
```

您需要阅读有关此内容的[特殊性。](https://www.google.com/url?q=http://css-tricks.com/specifics-on-css-specificity/&sa=U&ei=y8U5Ucy5G8nGmQWKroHgCA&ved=0CAcQFjAA&client=internal-uds-cse&usg=AFQjCNHIpmrQvuRffDPoFcB4Gxr0sCck7w)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-08T11:02:42.723

You have 2 options:

1) remove the class and use:

```
#nav a:nth-child(8){
    background-color: lightgray;
} 
```

2) this is more backward compatible:

```
#nav .tab8Class{
    background-color: lightgray;
} 
```

If you want to add a special hover effect (as assted in comments)

```
#nav .tab8Class:hover{
     //Do something
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-08T11:03:25.930

Change your code like below

```
#nav a.tab8Class {
    float: left;
    color: #004761;
    font-size: 12px;
    font-weight: bold;
    text-decoration: none;
    padding: 9px 5px 9px 13px;
    background-color: lightgray;
} 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2013-03-08T11:05:10.047

You can simply do it with jquery. Please add jquery library.

```
$(document).ready(function(){
    $('#nav a:eq(7)').addClass('tab8Class');
}); 
```

# progress-bar - 更新 LiveCode 进度条出现错误

> ID：15292402
> 
> 赞同：0
> 
> 时间：2013-03-08T10:59:20.477
> 
> 标签：progress-bar, livecode

我想加载文件列表并更新进度条，但在更新拇指位置时出现错误。代码正常当我单击应用按钮时 - 导致错误的原因是什么？

```
-- update the progress bar with current file number
on set_progress new_value
  set the thumbposition of "progress" to new_value
end set_progress 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:03:18.070

您只需指定“进度”是一个滚动条控件。将其称为

```
scrollbar "progress" 
```

而不仅仅是

```
"progress" 
```

工作处理程序是；

```
-- update the progress bar on screen
on set_progress new_value
   set the thumbposition of scrollbar "progress" to new_value
end set_progress 
```

# c# - 如何将字节数组读入 FileStream

> ID：15292407
> 
> 赞同：16
> 
> 时间：2013-03-08T10:59:37.787
> 
> 标签：c#

我有一个字节数组，我想将字节数组读入 FileStream。以下是我的代码示例：

```
string fileName = "test.txt";
byte[] file = File.ReadAllBytes(Server.MapPath("~/Files/" + fileName));
FileStream fs = new FileStream();
fs.ReadByte(file);
object obj = LoadFile<object>(fs);

public static T LoadFile<T>(FileStream fs)
{
    using (GZipStream gzip = new GZipStream(fs, CompressionMode.Decompress))
    {
        BinaryFormatter bf = new BinaryFormatter();
        return (T)bf.Deserialize(gzip);
    }
} 
```

在上面的方法中，我使用 FileStream 读取字节数组，但不幸的是 fs.ReadByte 无法读取字节数组。任何帮助请关注如何将字节数组读入 FileStream 以用作方法“LoadFile”中的参数。请不要直接将文件读入 FileStream，因为这里的文件是从其他地方加载的，例如从数据库或其他来源。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-08T11:07:43.047

```
string fileName = "test.txt";
byte[] file = File.ReadAllBytes(Server.MapPath("~/Files/" + fileName));
MemoryStream memStream = new MemoryStream();
BinaryFormatter binForm = new BinaryFormatter();
memStream.Write(file, 0, file.Length);
memStream.Seek(0, SeekOrigin.Begin);
Object obj = (Object)binForm.Deserialize(memStream); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-08T11:03:11.053

我不确定误解在哪里。FileStream 表示磁盘上的文件。如果不将它们写入磁盘，则无法“将字节读入其中”，而如果不从磁盘读取，则无法从中读取。

也许你想要的是一个可以包含任意内容的 MemoryStream。

两者都派生自 Stream。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T15:17:14.803

是的！现在我做了更多的研究后得到了一个很好的解决方案。作为我发布的主题“如何将字节数组读入 FileStream”。我们不能将字节数组读入 FileStream，它只是用来将驱动程序上的文件读入字节数组。所以我对我的代码进行了一些更改，现在我有一个文件可以使用 FileStream 读取它。我是如何制作文件的？

在这种情况下，我有一个对象。对象是你想要的任何东西！

我使用集合作为 samble 对象。

```
Collection<object> list = new Collection<object>();
//Now I will write this list to a file. fileName is what you want and be sure that folder Files is exist on server or at the root folder of your project
WriteFile(list, Server.MapPath("~/Files/" + fileName));
//The method to write object to file is here
public static void WriteFile<T>(T obj, string path)
{
    FileStream serializeStream = new FileStream(path, FileMode.Create);
    BinaryFormatter bf = new BinaryFormatter();
    bf.Serialize(serializeStream, obj);
    serializeStream.Flush();
    serializeStream.Close();
} 
```

将对象写入文件后，我需要一种方法将其读回对象。所以我确实写了这个方法：

```
public static Collection<object> ReatFile(string fileName){
            //I have to read the file which I have wrote to an byte array            
            byte[] file;
            using (var stream = new FileStream(Server.MapPath("~/Files/" + fileName), FileMode.Open, FileAccess.Read))
            {
                using (var reader = new BinaryReader(stream))
                {
                    file = reader.ReadBytes((int)stream.Length);

                }

            }
            //And now is what I have to do with the byte array of file is to convert it back to object which I have wrote it into a file
            //I am using MemoryStream to convert byte array back to the original object.
            MemoryStream memStream = new MemoryStream();
            BinaryFormatter binForm = new BinaryFormatter();
            memStream.Write(file, 0, file.Length);
            memStream.Seek(0, SeekOrigin.Begin);
            Object obj = (Object)binForm.Deserialize(memStream);
            Collection<object> list = (Collection<object>)obj;
            return list;
} 
```

完成上述一些步骤后，我现在可以将任何类型的对象写入文件，然后将其读回原始对象。非常感谢我在那里得到的任何帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:02:12.953

为什么你`File.ReadAllBytes`在使用你的之前运行`FileStream`？

```
string fileName = "test.txt";
using(FileStream fs = new FileStream(Server.MapPath("~/Files/" + fileName), FileMode.Open, FileAccess.Read))
{
    object obj = LoadFile<object>(fs);
    fs.Close();
} 
```

# arrays - 为什么回显在数组元素上失败？

> ID：15292414
> 
> 赞同：0
> 
> 时间：2013-03-08T11:00:08.060
> 
> 标签：arrays, bash, scripting, echo

我写了这个显然没有问题的脚本：

```
#!/bin/bash

DATA=/home/badouble/STORE/rawData_v1r0
LOGS=/home/badouble/bABaReC/CDAS_Selection_log

for dir in $DATA/*/
do
     dir=${dir%*/}
     echo $dir
     ARR=$(echo $dir | tr "/" " ")
     echo ${ARR[1]}   

 done 
```

但它不会产生所需的输出，如下所示：

```
/home/badouble/STORE/rawData_v1r0/2011-12

/home/badouble/STORE/rawData_v1r0/2012-01

/home/badouble/STORE/rawData_v1r0/2012-02

/home/badouble/STORE/rawData_v1r0/2012-03

/home/badouble/STORE/rawData_v1r0/2012-04

/home/badouble/STORE/rawData_v1r0/2012-05

/home/badouble/STORE/rawData_v1r0/2012-06

/home/badouble/STORE/rawData_v1r0/2012-07

/home/badouble/STORE/rawData_v1r0/2012-08

/home/badouble/STORE/rawData_v1r0/2012-09

/home/badouble/STORE/rawData_v1r0/2012-10

/home/badouble/STORE/rawData_v1r0/2012-11

/home/badouble/STORE/rawData_v1r0/2012-12

/home/badouble/STORE/rawData_v1r0/2013-01

/home/badouble/STORE/rawData_v1r0/2013-02

/home/badouble/STORE/rawData_v1r0/2013-03 
```

它应该打印数组 $ARR 的第二个元素，而不是空白行。

为什么不呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:16:19.073

你不需要也不需`echo`要这样做`tr`。

要创建数组，只需使用`IFS`和`read`，如下所示，因为这些是 shell 内置命令，所以效率更高：

```
IFS=/ read -a ARR <<< "$dir"
echo "${ARR[1]}" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:05:59.840

您需要将echo 的输出*捕获*到`( )`：

```
ARR=( $(echo $dir | tr "/" " ") ) 
```

或者

```
 ARR=( `echo $dir | tr "/" " "` ) 
```

或完全省去`tr`：

```
ARR=( `echo ${dir//\// }` ) 
```

`${var//from/to}`通过在扩展中使用替换：`\/`转义为“来自”。或者更好（更健壮），完全省去子流程：

```
ARR=( ${dir//\/ /} ) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:08:48.317

一个额外的括号：

```
ARR=($(echo $dir | tr "/" " ")) 
```

`x=$(command)` 这会将命令的结果分配给变量 x

`x=($(command))`这将首先执行命令并将结果存储在数组 x 中

# magento - get the values of custom options

> ID：15292416
> 
> 赞同：0
> 
> 时间：2013-03-08T11:00:09.530
> 
> 标签：magento

I'm trying to alter a price based on some custom options set. Therefore I'm trying to get the value a customer has entered, not the default values set in the backend. To do this I'm using the event `catalog_product_get_final_price` used in `Mage_Bundle_Model_Product_Price`. I have registered the following observer:

```
public function observer_callback($evt_obs)
{
    $event = $evt_obs->getEvent();
    $data  = $event->getData();
    /* @var $collection Mage_Catalog_Model_Resource_Product_Collection */
    $collection = $data['collection'];

    $items = $collection->getItems();

    /* @var $item Mage_Catalog_Model_Product */
    foreach ($items as $item) {
        if ( $item->getName() ==  'Bundel Test2') {

            $options = $item->getCustomOptions();

            /* @var $option Mage_Catalog_Model_Product_Option */
            foreach ($options as $option) {
                // Here I'm trying to get the value given by the user/customer
                var_dump($option->getData());
            }

        }
    }
    return $this;
} 
```

It is a custom option from a bundle type. So the product can't be configurable. I'm new to magento so I'm probably missing something.

Can anyone help me?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:04:59.410

希望这段代码可以帮助你：

```
public function productFinalPrice($observer){
     $product    = $observer->getEvent()->getProduct();

     $productType=$product->getTypeID();

     if($productType == 'your_product_type')
     {

        $option = $product->getCustomOptions();
        $searchedOption = null;  

        //search for your option;
        foreach ($product->getOptions() as $o) {

            if($o->getTitle()=="your_attribute_title" && $o->getType()=="your_type_of_option(eg. area"){
                $optionId = $o->getOptionId();//got your searched optionId
                break;
            }
        }

        foreach($option as $key => $o) {
            if($key == "option_".$optionId) {
                $searchedOption = $o;
               //here you get the option object with the values in it
            }
        }

        $articleNumber = $searchedOption->getData('value'); // getthe value of your option

            //calculate final price like you need it
            $product->setFinalPrice($finalPrice);
     }  
     return $this;     
} 
```

此致

# c# - OracleCommand 查询其中的空参数 - ORA-01008：并非所有变量都绑定

> ID：15292417
> 
> 赞同：1
> 
> 时间：2013-03-08T11:00:10.697
> 
> 标签：c#, oracle, parameters, null, oraclecommand

我有以下方法，两个参数都为空

bool hasValue = HasValue(null,null);

```
 internal bool HasValue(int? param1, int? param2)
    {
        int count = 0;
        using (var conn = new OracleConnection(connectionString))
        {
                using (var command = conn.CreateCommand())
                {
                    command.CommandText = "select count(id) from  Table1 "
                    + "where ((Column1 = :PARAM1 and :PARAM1 Is Not Null) Or (Column1 Is Null and :PARAM1 Is Null)) "
                    + "AND ((Column2 = :PARAM2 and :PARAM2 Is Not Null) Or (Column2 Is Null and :PARAM2 Is Null))";
                    command.Parameters.Add("PARAM1", OracleDbType.Int16, 0, param1, ParameterDirection.Input);
                    command.Parameters.Add("PARAM2", OracleDbType.Int16, 0,param2, ParameterDirection.Input);
                    command.Connection.Open();
                    count = Convert.ToInt16(command.ExecuteScalar());

                    command.Connection.Close();
                }
        }

        return count > 0;
    } 
```

该方法失败并出现以下错误“ORA-01008: not all variables bound”

如果我只使用一个参数，那么它很好，但是当我添加第二个参数时它会失败并显示“ORA-01008：并非所有变量都绑定”

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:24:46.863

```
 command.CommandText = "select count(id) from  Table1 "
 + "where decode(Column1, :PARAM1, 1) = 1 AND decode(Column2, :PARAM2, 1) = 1"; 
```

# r - grouping followed by finding frequent patterns in R

> ID：15292419
> 
> 赞同：0
> 
> 时间：2013-03-08T11:00:15.263
> 
> 标签：r

I have a data in the following form :

```
CIN TRN_TYP
9079954 1
9079954 2
9079954 3
9079954 4
9079954 5
9079954 4
9079954 5
9079954 6
9079954 7
9079954 8
9079954 9
9079954 9
.         .
.         .
.         . 
```

there are 100 types of `CIN` (9079954,12441087,15246633,...) and respective `TRN_TYP`

first of all, I want this data to be grouped into basket format:

```
9079954   1, 2, 3, 4, 5, ....
12441087  19, 14, 21, 3, 7, ...
.
.
. 
```

and then apply `eclat` from `arules` package to find frequent patterns.

Please help

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:16:03.223

目前尚不清楚您想要输出什么。有很多选项可以聚合您的结果，在基本函数中或使用外部包，如`plyr`，`datatable`等，..

这里有一个使用`by`函数的选项：

```
by(tab,tab$CIN,FUN=function(x) unlist(x$TRN_TYP))
tab$CIN: 9079954
 [1] 1 2 3 4 5 4 5 6 7 8 9
-----------------------------------------
tab$CIN: 9079955
[1] 11 12 13 14 15 16 17 18 19 
```

**编辑**

为了申请`eclat`，您首先需要删除重复的项目。

```
tab <- tab[!duplicated(tab),]
eclat(split(tab$TRN_TYP,tab$CIN))  ## here I am using  @Arun solution because 
                                   ## it seems that it can't coerce by output

parameter specification:
 tidLists support minlen maxlen            target   ext
    FALSE     0.1      1     10 frequent itemsets FALSE

algorithmic control:
 sparse sort verbose
      7   -2    TRUE

Warning in eclat(split(tab$TRN_TYP, tab$CIN)) :
  You chose a very low absolute support count of 0\. You might run out of memory! Increase minimum support.

eclat - find frequent item sets with the eclat algorithm
version 2.6 (2004.08.16)         (c) 2002-2004   Christian Borgelt
create itemset ... 
set transactions ...[18 item(s), 2 transaction(s)] done [0.00s].
sorting and recoding items ... [18 item(s)] done [0.00s].
creating bit matrix ... [18 row(s), 2 column(s)] done [0.00s].
writing  ... [1022 set(s)] done [0.00s].
Creating S4 object  ... done [0.00s].
set of 1022 itemsets 
```

# javascript - Preserve line breaks when reading cell content using nodeValue

> ID：15292422
> 
> 赞同：1
> 
> 时间：2013-03-08T11:00:31.887
> 
> 标签：javascript, internet-explorer-8

I have a table cell whose value contains a line break as shown below.

```
<td>Foo
Bar</td> 
```

I am reading the cell content using `td.childNodes[0].nodeValue` and passing the value in an Ajax request. But IE8 reads the LF as space such that *"Foo%20Bar"* gets sent instead of *"Foo%0ABar"*. However, in Chrome LF is preserved.

Is there an alternative way of reading the cell in IE so that LF is retained?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:05:31.207

我认为您应该检测浏览器是否为 IE，然后应用操作（可能将“%20”替换回“%0A”）。

# f# - 聚合非规范化数据的惯用方式

> ID：15292425
> 
> 赞同：2
> 
> 时间：2013-03-08T11:00:49.950
> 
> 标签：f#

我有一组数组数组的数据。举个例子

```
[[1,3],
 [4,3],
 [1,2],
 [7,2]] 
```

我想将其转换为

```
[(3,[1,4])
 (2,[1,7])] 
```

即：创建一个元组数组，其中第一个成员来自原始索引 1，数组是原始索引 0 的所有值，基于索引 1 分组。我可以强制解决这个问题，但我想这样做以一种更 FP 的方式

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:11:40.610

`Seq.groupBy`结合几张图使用会得到想要的结果

```
[[1;3];
 [4;3];
 [1;2];
 [7;2]] 
|> Seq.groupBy (fun (a::b) -> b) 
|> Seq.map (fun (a,b) -> a,b|> Seq.toList) 
|> Seq.map (fun (a,b) -> a,b|>List.map (fun (c::d) -> c )) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-10T12:04:07.013

F# 是一种静态类型的函数式编程语言，因此您要做的第一件事是将输入转换为类型表示，例如整数对列表：

```
[ 1, 3
  4, 3
  1, 2
  7, 2 ] 
```

然后，您可以`Seq.groupBy`使用该`snd`函数将其通过函数传递给每对的第二个元素：

```
|> Seq.groupBy snd 
```

这给了你`[3, [1, 3; 4, 3]; ...]`等等，所以你想映射到右手边，使用`fst`函数提取值（即去掉键）：

```
|> Seq.map (fun (k, kvs) -> k, Seq.map fst kvs) 
```

这给出了您想要的答案：`[(3, [1; 4]); (2, [1; 7])]`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T12:43:32.450

类似于@John 的回答，但假设内部集合是至少包含两个元素的数组：

```
[|[|1; 3|];
  [|4; 3|];
  [|1; 2|];
  [|7; 2|]|]
|> Seq.map (fun arr -> arr.[0], arr.[1])
|> Seq.groupBy snd
|> Seq.map (fun (k, v) -> k, Seq.map fst v)

// val it : seq<int * seq<int>> = seq [(3, seq [1; 4]); (2, seq [1; 7])] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-09T14:01:57.663

我的答案与上面的答案没有本质上的不同，但它使用了一些组合逻辑，所以它看起来更惯用（对我来说）。此外，它还有一些有效性检查。

`Apply2`本质上是一个[S 组合子](https://en.wikipedia.org/wiki/Combinatory_logic#Completeness_of_the_S-K_basis)。

```
let data = 
    [[1;3];
     [4;3];
     [1;2];
     [7;2]]

// Apply2 operator applies two functions to x
// and returns both results as a tuple
let (.&.) f g x = f x, g x

// A naive validator for sequences
let assert' predicate message xs =
    if not <| Seq.forall predicate xs then
        failwith message
    xs

let aggregate data =
    data
    // validate the input
    |> assert' (List.length >> (=) 2) "All elements must be of length of two"
    // essentially, convert a 2-element list to a tuple
    |> Seq.map (List.head .&. (List.tail >> List.head))
    // group over the second element of a tuple
    |> Seq.groupBy snd
    // we no longer need the key element in a tuple, so remove it
    |> Seq.map (fst .&. (snd >> Seq.map fst))

aggregate data |> printf "%A" 
```

# javascript - RequireJS 中的变量依赖

> ID：15292427
> 
> 赞同：3
> 
> 时间：2013-03-08T11:01:06.140
> 
> 标签：javascript, backbone.js, requirejs, amd

我正在使用 RequireJS 为 BackboneJS Web 应用程序加载我的 JavaScript 模块，但目前我遇到了样式问题。

我有两个共享大量代码的类，但它们都是不同类的子类。

```
TemplateLessonView                         LessonView
        |                                      |
        |                                      |
    EditorApp    <-- these share code -->    MainApp 
```

现在为了保持干燥，我想`MainApp`扩展`EditorApp`，但随后`EditorApp`加载了依赖项并`EditorApp`通过以下格式调用它的一些基类函数：`this.constructor.__super__.initialize.apply(this);`

一个解决方案是在从 的模块加载模块时更改 EditorApp 的依赖项`MainApp`（所以我需要`LessonView`但将其传递给`EditorApp`as `TemplateLessonView`.

有谁知道这样做的方法，或者有另一个建议来完成我在这里尝试的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T06:04:49.377

解决此问题的方法是创建一个模块，您将在两个类定义中导入该模块......

类似的东西：

```
(...require stuff ...)
return {
    myfct1 : function(){
    },
    myfct2 : function(){
    }
} 
```

然后你可以在你需要的地方导入模块，然后像库一样调用你的通用代码......

# ios - UITableViewCell 字幕。没有让它工作

> ID：15292430
> 
> 赞同：4
> 
> 时间：2013-03-08T11:01:25.387
> 
> 标签：ios, objective-c, xcode, uitableview

使用 Xcode 4.6，我试图显示一个典型的 UITableView 及其带有字幕的单元格。

如果我没记错的话，代码是这样的：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
}

Test *myTest = [self listTests][indexPath.row];

cell.textLabel.text = [myTest name];

UIFont *cellFont = [UIFont systemFontOfSize:16.0];
cell.textLabel.font = cellFont;

UIFont *detailFont = [UIFont systemFontOfSize:12.0];
NSMutableString *detailText = [NSMutableString stringWithFormat:@"%d", [myTest numQuestions]];
[detailText appendString:@" preguntas."];

cell.detailTextLabel.text = detailText;
cell.detailTextLabel.font = detailFont;

return cell; 
```

}

由于某种原因，它永远不会通过这行代码：

```
cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier]; 
```

所以单元格永远不会用 初始化`UITableViewCellStyleSubtitle`。

在做的时候，它总是从一个有效的单元格开始`[tableView dequeueReusableCellWithIdentifier:CellIdentifier];`

我做错了什么？

真的是装的。我总是使用这个代码，它通常可以工作。我还能在其他地方做错什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-08T11:07:52.457

当您的单元格使用情节提要原型定义时，就会发生这种情况。在这种情况下，可重用单元是使用该方法预先创建的`initWithCoder:`，因此`if (cell == nil)`永远不会受到影响。有关更多信息，请参阅[此问题](https://stackoverflow.com/q/8522456/335858)。

由于您似乎希望使用具有标准样式的单元格，因此将表格更改为*不*使用情节提要原型或将原型设置为“字幕”应该可以解决此问题。

# android - Android NDK：从 JNI C 类调用 java 方法

> ID：15292432
> 
> 赞同：10
> 
> 时间：2013-03-08T11:01:42.253
> 
> 标签：android, android-ndk

我有 JNI 方法，我试图在其中调用 Java 方法。这是我的 JNI 代码

```
void DummySink::afterGettingFrame(unsigned frameSize, unsigned numTruncatedBytes,
                  struct timeval presentationTime, unsigned /*durationInMicroseconds*/) {

     __android_log_print(ANDROID_LOG_VERBOSE, "RTSP", "Frame: %c", propRec->sPropBytes);
     jmethodID mid;
     jclass handlerClass = env9->FindClass("ob/android/Stream");
     if (handlerClass == NULL) {
         __android_log_print(ANDROID_LOG_VERBOSE, "RTSP-Error", "Class");
     }
     mid = env9->GetMethodID(handlerClass, "onResponse", "([B)V");
     if (mid == NULL) {
         __android_log_print(ANDROID_LOG_VERBOSE, "RTSP-Error", "Method");
     }

     jbyteArray jbArray = env9->NewByteArray((int)propRec->sPropLength);
     env9->SetByteArrayRegion(jbArray, 0, (int)propRec->sPropLength, (jbyte*)propRec->sPropBytes);

     //jobject theClass = env9->FindClass("ob/android/Stream");

     env9->CallVoidMethod(handlerClass, mid, jbArray);

} 
```

这是我拥有的Java代码

```
public void onResponse(byte[] str) 
    { 
        Log.v("Response", "Java");
    } 
```

我收到以下崩溃

```
03-08 16:01:05.915: W/dalvikvm(17552): JNI WARNING: can't call Lob/android/Stream;.onResponse on instance of Ljava/lang/Class;
03-08 16:01:05.915: W/dalvikvm(17552):              in Lob/android/Stream;.stream:()V (CallVoidMethodV) 
```

应用 Mah 的答案后，这是我收到的异常

```
03-08 16:40:20.646: W/dalvikvm(4076): JNI WARNING: JNI method called with exception pending
03-08 16:40:20.646: W/dalvikvm(4076):              in Lob/android/Stream;.stream:()V (NewByteArray)
03-08 16:40:20.646: W/dalvikvm(4076): Pending exception is:
03-08 16:40:20.646: I/dalvikvm(4076): java.lang.NoSuchMethodError: no method with name='onResponse' signature='([B)V' in class Lob/android/Stream;
03-08 16:40:20.646: I/dalvikvm(4076):   at ob.android.Stream.stream(Native Method)
03-08 16:40:20.646: I/dalvikvm(4076):   at ob.android.Stream.<init>(Stream.java:28)
03-08 16:40:20.654: I/dalvikvm(4076):   at ob.android.MainActivity.startRecording(MainActivity.java:203) 
```

现在 onResponse 方法是静态的。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-08T11:11:56.913

您的 Java 方法是一个实例方法（不是静态的），但您的本机代码并未引用`ob.android.Stream`要调用`onResponse()`的任何特定实例。

调用时`CallVoidMethod()`，第一个参数是您正在运行该方法的实例（对象），而不是类本身。如果您使用`CallStaticVoidMethod()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-28T13:33:03.900

我想为 NoSuchMethodError 问题再添加一个解决方案，虽然这里可能不是这种情况，但可能会为你们中的一些人节省大量的调试时间。

对我来说，有一个我必须编辑的 proguard 配置文件。否则，所有未在 java 代码中调用的非静态 java 方法都将被优化，并且本机 C++ 代码无法找到它们。

# c# - 为什么 Lucene.NET IndexSearcher 返回零结果？

> ID：15292433
> 
> 赞同：3
> 
> 时间：2013-03-08T11:01:42.900
> 
> 标签：c#, indexing, lucene.net

我最近开始使用 Lucene.NET，但遇到了一些问题：我使用 an`IndexWriter`来索引我的文档`C:\\TestIndex`，我猜它在其中工作，因为它生成了几个`.fnm`, `.frq`, `.cfx`, `.tii`,`.tis`文件。

问题是当试图通过它们进行简单搜索时，我再也没有得到任何结果。下面是我使用的代码，

```
using Lucene.Net.Documents;
using Lucene.Net.Index;
using Lucene.Net.QueryParsers;
using Lucene.Net.Search;
using Lucene.Net.Store;
using Lucene.Net.Util;

//Provide the directory where index is stored
Directory directory = FSDirectory.Open(newSystem.IO.DirectoryInfo(@"C:\\TestIndex")); 

IndexReader indexReader = IndexReader.Open(directory, true);
Searcher indexSearch = new IndexSearcher(indexReader);

Analyzer std = new StandardAnalyzer(Version.LUCENE_29);
QueryParser parser = new QueryParser(Version.LUCENE_29, "text", std);
Query qry = parser.Parse("morning");

// true opens the index in read only mode
Searcher srchr = new IndexSearcher(IndexReader.Open(directory, true));

TopScoreDocCollector cllctr = TopScoreDocCollector.Create(100, true);

ScoreDoc[] hits = cllctr.TopDocs().ScoreDocs;
srchr.Search(qry, cllctr); 

for (int i = 0; i < hits.Length; i++)
{
    int docId = hits[i].Doc;
    float score = hits[i].Score;
    Document doc = srchr.Doc(docId);
    Console.WriteLine("Searched from Text: " + doc.Get("text"));
} 
```

我尝试了几种方法，但从未得到任何结果。你有什么主意吗？

下面是索引代码，

```
IndexWriter indexWriter = 
    new IndexWriter(
        luceneDir, 
        new StandardAnalyzer(Version.LUCENE_29), 
        true, 
        IndexWriter.MaxFieldLength.UNLIMITED);

string[] listOfFiles = Directory.GetFiles(@"C:\Projects\lucene.net-trunk\build\vs2010\demo\MyTestProject\TestDocs");

foreach (string s in listOfFiles)
{
    String content = File.ReadAllText(s);
    Document doc = new Document();
    String title = s;

    // adding title field
    doc.Add(new Field("title", title, Field.Store.YES, Field.Index.NOT_ANALYZED));  
    doc.Add(new Field("content", content, Field.Store.YES, Field.Index.ANALYZED));

    indexWriter.AddDocument(doc);
}

indexWriter.Optimize();
indexWriter.Dispose(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:03:44.780

使用 luke 检查索引以确保它有数据，您也可以执行搜索以验证您的搜索条件

[http://www.getopt.org/luke/](http://www.getopt.org/luke/)

**编辑**- （Luke 将使用 lucene 和 lucene.net 索引，您需要安装 java 才能使用）

**编辑**

更新线路

```
Lucene.Net.QueryParsers.QueryParser parser = new Lucene.Net.QueryParsers.QueryParser(Lucene.Net.Util.Version.LUCENE_29, "text", std); 
```

和

```
Lucene.Net.QueryParsers.QueryParser parser = new Lucene.Net.QueryParsers.QueryParser(Lucene.Net.Util.Version.LUCENE_29, "content", std); 
```

您已将默认搜索字段设置为`text`不存在

您还试图在您的`console.write`行中获取错误的字段

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:14:55.690

确保在索引和搜索时使用相同的分析器（在你的情况下，`StandardAnalyzer`我猜是这样）：

```
using Lucene.Net.Analysis;
using Lucene.Net.Documents;
using Lucene.Net.Index;
using Lucene.Net.Store;

...

Directory directory = FSDirectory.Open(new System.IO.DirectoryInfo(@"C:\\TestIndex"));

var writer = new IndexWriter(
    directory, 
    new StandardAnalyzer(Lucene.Net.Util.Version.LUCENE_29), 
    true, 
    new MaxFieldLength(int.MaxValue)); 
```

**更新**

我使用稍微不同的搜索方法，但无论如何，也许你需要交换这两行：

```
ScoreDoc[] hits = cllctr.TopDocs().ScoreDocs;
srchr.Search(qry, cllctr); 
```

所以它变成：

```
srchr.Search(qry, cllctr); 
ScoreDoc[] hits = cllctr.TopDocs().ScoreDocs; 
```

这意味着收集器首先在执行搜索时收集结果，然后您通过收集器实例获取评分文档。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T12:12:21.767

您可以尝试明确指定您正在搜索的字段吗？例如：

```
 Lucene.Net.QueryParsers.QueryParser parser = new Lucene.Net.QueryParsers.QueryParser(Lucene.Net.Util.Version.LUCENE_29, "text", std);
    Lucene.Net.Search.Query qry = parser.Parse("content: morning"); 
```

我认为 Lucene 要求您告诉它您要运行查询的字段（标题、内容...）。

# modelica - Dymola 标记等距时间网格并在事件中存储变量

> ID：15292438
> 
> 赞同：3
> 
> 时间：2013-03-08T11:02:02.720
> 
> 标签：modelica, dymola

是否有指定模拟的标志/脚本方式：

*   在事件中存储变量，与模拟设置\输出\在事件中存储变量相同
*   等距时间网格，与模拟设置\输出\等距时间网格相同

我知道它可以作为注释添加到模型中：

`annotation experiment(__Dymola_NumberOfIntervals=501), __Dymola_experimentSetupOutput(equdistant=true, events=true));`

问候， 吉尔斯

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-11T09:23:29.967

我从 Dymola 支持中找到了答案。请参阅模拟器 API 上的 Dymola 用户手册 V1 p 501：

```
experimentSetupOutput(...)
  input Boolean textual := false "Textual storage";
  input Boolean doublePrecision := false "Double precision";
  input Boolean states := true "Store state variables";
  input Boolean derivatives := true "Store derivative variables";
  input Boolean inputs := true "Store input variables";
  input Boolean outputs := true "Store outputs variables";
  input Boolean auxiliaries := true "Store auxiliary variables";
  input Boolean equdistant := true "Store equidistantly";
  input Boolean events := true "Store variables at events";
  input Boolean debug := false "Write log messages";
  output Boolean ok; 
```

因此在模拟模型命令之前设置的标志是：

```
experimentSetupOutput(events=false,equdistant=true); 
```

# android - 在Android中干净地缩小图像：可以做到吗？

> ID：15292445
> 
> 赞同：4
> 
> 时间：2013-03-08T11:02:33.410
> 
> 标签：android, image, bitmap, scaling, android-drawable

我无法在 Android 上干净地缩小图像。我正在寻找在大约 10-100% 的原始大小的任意大小之间缩放小的 PNG 图像。

我创建了一个示例图像来演示问题并加剧我在 Android 的图像缩放器中看到的异常行为：

![注意：您需要右键单击图像并直接查看...此页面可能会再次缩小图像](../Images/c9a8a6a0b551d2da5bdea8384e14380c.png) 上图是 Android 设备的屏幕截图，添加了一些注释。我还在左侧的第二列中添加了相同的图像，显​​示了它们是如何通过“GIMP”（GNU 图像操作程序）以线性缩放呈现的。

基本图像由红色和蓝色像素的棋盘图案背景组成。在那个背景上，我画了一些 1px 宽的黄线和相当细的绿色文字。图像为 288x288 像素。

当将图像缩放到其原始尺寸的 1/3 时，Android 似乎只是抓取了九分之一的像素，而丢弃了所有其他数据。结果，一些黄线完全消失了。值得注意的是，棋盘图案保持不变（这只是每使用 3 个像素的结果）。

当将图像缩放到接近其原始大小的 50%（例如 142x142 或 143x143）的尺寸时，缩放器会在图像上产生一些相当大的异常/伪影。

在 50% 尺寸 (144x144) 下，图像看起来正确。

测试图像确实带出了最差的图像缩放器，但“正常”的 PNG 图标图像也受到了严重影响。10-33% 左右的图像没有正确重新采样，因此看起来非常“位图”。并且某些较大尺寸的图像在某些尺寸下具有非常奇怪的异常。

如果有人知道禁用这种奇怪的缩放行为的方法，即使是以性能为代价，我也会非常感激知道它。它当然可以通过编写一个直接作用于位图像素的算法来解决，但我希望这不是唯一的选择。

同样值得注意的是，所有图像工作都是使用 ARGB_8888 Bitmap.Configs 完成的。我尝试通过在 ImageViews 上设置 maxwidth/maxheight、使用 Bitmap.createScaledBitmap() 以及使用带有 Matrix 的 Bitmap.createBitmap 来操纵图像大小。所有尝试都有相同的结果。位图过滤已启用。

再次感谢您的任何建议！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-09T18:42:36.293

使用带 Matrix 的 Bitmap.createScaledBitmap() 和 Bitmap.createBitmap 是一样的；[请参阅 Bitmap.createScaledBitmap 的源代码](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.1.1_r1/android/graphics/Bitmap.java#Bitmap.createScaledBitmap%28android.graphics.Bitmap,int,int,boolean%29)（自 Android 2 以来未更改）。

在 Android 4.0+ 上，如果启用（在 4.1+ IIRC 上默认启用），使用矩阵（如 Bitmap.createScaledBitmap）允许硬件加速操作，因此我们无法直接控制正在做什么以及如何完成.

这意味着您必须使用所需的（此处为线性）过滤来实现自己的缩放方法；通过像素处理；或使用带有良好过滤器的 OpenGL ES，但它可能不适用于所有设备。

# ajax - jsonp：使用多个数组数据回调 jQuery AJAX

> ID：15292451
> 
> 赞同：1
> 
> 时间：2013-03-08T11:02:41.127
> 
> 标签：ajax, jquery, callback, jsonp

在这里，我正在做一个 JSONP 请求，它将获得一个传递给回调函数的对象文字。

我的问题：

1.从 filename.php 我传递两个不同的数组，如：

```
 echo $_GET['jsoncallback'] . '(' . json_encode($manufacturers). ');';               
       echo $_GET['jsoncallback'] . '(' . json_encode($Stock). ');'; 
```

2.我一次只接收一个数组作为输出。3.我需要两个数组。

```
 function onLoad(){
                        var output = $('#product');
                        $.ajax({
                            url:'filename.php',
                            data : {type : 'details'},
                            dataType: 'jsonp',
                            jsonp: 'jsoncallback',
                            timeout: 5000,
                            success:function(data){
                                $.each(data, function(c,prdetail){

                                    if(prdetail.field_name=='' || prdetail.field_name==undefined )
                                    {
                                        var firstdata= '<h2 >'+prdetail.field_name1+ '</h2>';
                                        output.append(firstdata);
                                    }
                                    else
                                    {
                                        var secondata ='<h2 >'+prdetail.field_name2+ '</h2>';
                                        output.append(secondata);
                                    }
});
            }
        });
    } 
```

文件名.PHP

```
 if($status=1)
      {
            $manufacturers_sql = mysql_query('select * FROM tablename');
    $rowcount = mysql_num_rows($result);
    $records = array();
    $row = mysql_fetch_assoc($result);
    $records[] = $row;

     echo $_GET['jsoncallbacks'] . '(' . json_encode($records) . ');';
         }
        else
         { 
            $manufacturers_sql = mysql_query('select * FROM tablename');
    $rowcount = mysql_num_rows($result);
    $records = array();
    $row = mysql_fetch_assoc($result);
    $records[] = $row;

     echo $_GET['jsoncallbacks'] . '(' . json_encode($records) . ');';
           } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:05:14.917

尝试

```
$response = array();

$response['manufacturers'] = $manufacturers;
$response['Stock'] = $Stock;

echo $_GET['jsoncallback'] . '(' . json_encode($response). ');'; 
```

# python - 如何使用 Python 监控屏幕会话？

> ID：15292455
> 
> 赞同：0
> 
> 时间：2013-03-08T11:02:50.713
> 
> 标签：python, linux, bash

我需要`screen`使用 Python 脚本实时监控会话。它需要知道显示何时发生变化。我相信这可以描述为每当`stdout`被刷新，或者一个字符被输入到`stdin`. 有没有办法做到这一点？也许用管道？

我在[这里](http://code.activestate.com/recipes/134892/)找到了一些从标准输入获取字符的代码，我假设它可以在管道上工作（如果我修改代码或更改`sys.stdin`）？

流的`flush`函数（如`stdout`）是在管道中调用的，还是只是显式调用？我的理解是，只有在`stdout`刷新时才会更新显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:19:53.940

可能您想看一下[`script`](http://manpages.ubuntu.com/script.1)，它已经完成了几乎所有您想要的操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:13:28.097

你试过蟒蛇[诅咒](http://docs.python.org/2/library/curses.html)吗？它类似于 Linux 的 curses，并提供了一种处理终端相关 i/o 的好方法。

# azure-devops - Team Foundation Service 是否有内置的 Wiki？

> ID：15292458
> 
> 赞同：5
> 
> 时间：2013-03-08T11:03:09.727
> 
> 标签：azure-devops

Team Foundation Service 是否像 GitHub 一样具有内置 Wiki？

如果没有，有没有可以轻松集成的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T13:40:10.517

不，它没有，您可以尝试使用[CodePlex](http://www.codeplex.com/)。这可以选择使用 TFVC 存储源代码并使用 Team Foundation 功能（例如工作项和查询），还允许您拥有“文档”，这是 wiki 样式的。

Team Foundation Service 是云托管的 TF。CodePlex 是微软的开源平台。

正如 Brian Harry[所说](http://blogs.msdn.com/b/bharry/archive/2012/03/22/the-future-of-codeplex-is-bright.aspx)，有计划将 CodePlex 和 TF 服务最紧密地结合起来。

> 而且，正如我之前提到的，我们将努力将 CodePlex 和 Team Foundation Service 整合到一个单一的、可扩展的产品中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-07-10T22:00:10.333

Visual Studio Team Services 现在包括一个 wiki，尽管它目前处于预览模式。要启用它，请在配置文件菜单中选择“预览功能”并将 wiki 设置为打开。

详细说明位于[https://www.visualstudio.com/en-us/docs/collaborate/add-edit-wiki](https://www.visualstudio.com/en-us/docs/collaborate/add-edit-wiki)

# c# - 从 vs2010 的安装程序安装时，我的应用程序图标变成了其他东西

> ID：15292462
> 
> 赞同：0
> 
> 时间：2013-03-08T11:03:13.763
> 
> 标签：c#, installation

我正在尝试通过 VS2010 为我使用 c# 用 vs2012 编写的应用程序创建一个安装程序。我在 VS2012 的属性菜单中为我的应用程序设置了一个图标。我使用 vs2010 构建了一个安装程序，它也在注册表中进行了一些更改（在一个新的子项。没有系统更改）。然后我把我的应用程序的 exe 文件放在应用程序文件夹中，并在桌面上为它创建了一个快捷方式。问题是当我安装应用程序时，快捷方式没有正确的图标，图标是这样的： ![在此处输入图像描述](../Images/29a289adf70379489bf3e7ddd7394d0e.png)

我认为值得一提的是我的应用程序的图标很好，如果我手动创建它的新快捷方式，图标没有问题。所以知道我应该做什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:09:13.783

尝试以下步骤：

*   在 Visual Studio 中选择安装项目。
*   单击解决方案资源管理器上方的*文件系统编辑器图标。*
*   选择文件夹*User's desktop*。
*   在正确的站点上选择您的快捷方式。
*   右键单击您的快捷方式并选择*Properties Window*。
*   双击属性窗口中的*图标属性。*
*   单击*浏览*按钮。
*   将底部的*文件类型*更改为*所有文件*。
*   双击*应用程序文件夹*。
*   双击*MyProject*（或您的主应用程序所在的位置）的主要输出。
*   选择所需的图标并单击*OK*。

# java - 如何将 Java JDK 静默安装到 Windows 上的特定目录中

> ID：15292464
> 
> 赞同：17
> 
> 时间：2013-03-08T11:03:17.590
> 
> 标签：java, java-7, java-6, silent-installer

在我的开发机器上，我总是必须安装 Java 6*和*Java 7，并且出于测试目的，我必须同时安装 32 位和 64 位版本的每个 JDK。由于 Java 更新的频率似乎越来越荒谬（现在每周两次？）每次更新都需要我卸载然后重新安装*4 个*JDK。所以这真的很烦人，因此我想编写整个过程的脚本。

我的问题是，默认情况下，每个 JDK 版本都安装到包含更新号的目录路径中（默认：“C:\Program Files\Java\jdk1.6.0_<update-nr>\”）。为了让我不必适应大量的构建脚本，我总是手动从安装路径中删除尾随“_<update-nr>”，并始终安装到相同的“C:\Program Files\Java\jdk1.6.0”或“C:\Program Files\Java\jdk1.7.0”，分别用于 64 位版本和 C:\Program Files (x86)\Java\jdk1.6.0" 或 "C:\Program Files (x86) \Java\jdk1.7.0"，分别用于 32 位版本。

当我发现如何为 JRE 安装程序（即 Java 运行时）指定安装目录时：

```
<jre-installfile>.exe [/s] [INSTALLDIR=<drive>:\<JRE_install_path>] 
    [STATIC=1] [WEB_JAVA=0/1] [WEB_JAVA_SECURITY_LEVEL=VH/H/M/L] 
```

我还没有找到类似的描述如何为 JDK 安装程序指定安装目录。

有谁知道是否以及如何指定 JDK 安装程序的安装路径，以便可以将静默 JDK 安装定向到特定的安装目录？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2015-08-26T11:19:20.567

我可以使用以下命令成功安装 x64 和 x86 版本的 JDK 8 更新 60，包括公共 JRE：

这里带有源代码的 JDK 1.8.60 (x86) 将`C:\Java\x86\jdk1.8.0_60`和 JRE 将`C:\Java\x86\jre1.8.0_60`：

```
jdk-8u60-windows-i586.exe /s ADDLOCAL="ToolsFeature,SourceFeature,PublicjreFeature" INSTALLDIR=C:\Java\x86\jdk1.8.0_60 /INSTALLDIRPUBJRE=C:\Java\x86\jre1.8.0_60 
```

以类似的方式，带有源代码的 JDK 1.8.60 (x64) 将转到，`C:\Java\x64\jdk1.8.0_60`而 JRE 将转到`C:\Java\x64\jre1.8.0_60`：

```
jdk-8u60-windows-x64.exe /s ADDLOCAL="ToolsFeature,SourceFeature,PublicjreFeature" INSTALLDIR=C:\Java\x64\jdk1.8.0_60 /INSTALLDIRPUBJRE=C:\Java\x64\jre1.8.0_60 
```

请参见 Oracle [JRE 安装程序选项](http://www.oracle.com/technetwork/java/javase/silent-136552.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-26T18:23:05.867

我刚刚在搜索时发现了这篇文章……它为 INSTALLDIR 指定了一个参数。

[http://makeitfaster.wordpress.com/2011/03/25/java-jdk-silent-install-on-windows/](http://makeitfaster.wordpress.com/2011/03/25/java-jdk-silent-install-on-windows/)

```
jdk-7u2-windows-i586.exe /s ADDLOCAL="ToolsFeature,SourceFeature" INSTALLDIR="%CD%\jdk7u2" 
```

不幸的是，我已经在我的开发机器上安装了，所以我无法测试......

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-07-17T07:56:13.313

避免在脚本中重写目录的一种方法是使用符号链接（NTFS 上的连接）。首先，从此处的 SysInternals 下载连接实用程序： [http](http://technet.microsoft.com/en-us/sysinternals/bb896768.aspx) ://technet.microsoft.com/en-us/sysinternals/bb896768.aspx 然后解压缩，复制到 PATH 上的某个目录，然后运行一次以接受许可证。

然后您可以轻松创建符号链接： `junction "C:\Program Files\Java\jdk1.6.0" "C:\Program Files\Java\jdk1.6.0_37" junction "C:\Program Files (x86)\Java\jdk1.6.0" "C:\Program Files (x86)\Java\jdk1.6.0_37"`

要删除一些符号链接： `junction -d "C:\Program Files\Java\jdk1.6.0"`

您也可以使用 mklink ( [http://technet.microsoft.com/en-us/library/cc753194.aspx](http://technet.microsoft.com/en-us/library/cc753194.aspx) ) 代替（和 del 删除），但我更喜欢连接的简单和清晰。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-02-25T20:18:14.177

这是适用于 JDK_7u55 的方式。我也选择安装 JRE：

**PowerShell 命令**

```
$strJavaInstallExe=<Your JDK executable>
$strJavaInstallDir=<The directory you want the JDK and JRE to install to>

$cmdInstallJava=$strJavaInstallExe+' /passive /log "'+$strJavaInstallDir+'\install.log" ADDLOCAL="ToolsFeature,SourceFeature,PublicjreFeature" INSTALLDIR="'+$strJavaInstallDir+'" INSTALLDIRPUBJRE="'+$strJavaInstallDir+'"'

Invoke-Expression $cmdInstallJava 
```

希望这可以帮助！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-06-19T21:41:48.893

试试：jdk-7u2-windows-i586.exe /s INSTALLDIR=\"C:\Program Files\JAVA\JDK\"

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-09-16T20:54:08.077

我刚刚在 JDK7 安装程序中发现了一个回归，导致它忽略`INSTALLDIR`. 最后一个正确的版本是更新 21。

我已经提交了一份错误报告，一旦 Oracle 回复，我会通知您。

**更新**：事实证明这是由损坏（不完整）的 JDK 安装引起的。一旦我卸载了这个版本（添加/删除程序），新的安装运行得很好。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-07-02T09:07:25.777

**编辑 - 更简单的方法**

执行`jdk-7u60-windows-x64.exe /passive /log install.log INSTALLDIR:c:\pippo`

适用于 7u45 和 7u60

**旧答案**

该 exe 包含 msi 安装程序。提取是（当然还有更优雅的方法，但我只知道这个）

1.  手动运行 exe - 您只需要第一次执行，即可将其转换为 msi
2.  从 C:\Users\AppData\LocalLow\Sun\Java\jdx.xy\jdk.xyzmsi 获取 msi（和所有 other.cab 文件）
3.  跑`msiexec /i jdkx.y.z.msi /passive INSTALLDIR:c:\pippo`

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-01-16T17:06:07.637

文件 jreinstall.bat（例如：桌面存储）（将 jre 替换为 jdk）

```
@echo off
start /w %UserProfile%\Desktop\jre-8u65-windows-x64.exe /s
setx JAVA_HOME "C:\Program Files\Java\jre1.8.0_65"
exit 
```

# javascript - ExtJS 网格过滤器不出现

> ID：15292474
> 
> 赞同：2
> 
> 时间：2013-03-08T11:03:32.583
> 
> 标签：javascript, extjs, filter, grid

我在我的视图中有一个 ExtJS 网格，现在我确实想添加一些列过滤器......我已经在网上搜索过，虽然我没有成功。问题是如果我打开可以排序的列的子菜单等。我看不到选项过滤器。

以下代码是我的视图脚本的一部分：

```
Ext.define('Project.my.name.space.EventList', {
    extend: 'Ext.form.Panel',
    require: 'Ext.ux.grid.FiltersFeature',

    bodyPadding: 10,
    title: Lang.Main.EventsAndRegistration,
    layout: {
        align: 'stretch',
        type: 'vbox'
    },

    initComponent: function () {
        var me = this;

        Ext.applyIf(me, {
            items: [

                ...

                {
                xtype: 'gridpanel',
                title: '',
                store: { proxy: { type: 'direct' } },
                flex: 1,
                features: [filtersCfg],
                columns: [
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'Title',
                    text: Lang.Main.CourseTitle,
                    flex: 1,
                    filterable: true
                },
                {
                    xtype: 'datecolumn',
                    dataIndex: 'StartDate',
                    text: Lang.Main.StartDate,
                    format: Lang.Main.DateFormatJS,
                    flex: 1,
                    filter: { type: 'date' }
                },
                {
                    xtype: 'datecolumn',
                    dataIndex: 'EndDate',
                    text: Lang.Main.EndDate,
                    format: Lang.Main.DateFormatJS,
                    flex: 1, // TODO: filter
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'Participants',
                    text: Lang.Main.Participants,
                    flex: 1
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'LocationName',
                    text: Lang.Main.Location,
                    flex: 1
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'Status',
                    text: Lang.Main.Status,
                    flex: 1, // TODO: filter
                }],
                dockedItems: [{
                    xtype: 'toolbar',
                    items: [{
                        icon: 'Design/icons/user_add.png',
                        text: Lang.Main.RegisterForEvent,
                        disabled: true
                    },
                    {
                        icon: 'Design/icons/user_delete.png',
                        text: Lang.Main.Unregister,
                        disabled: true
                    },
                    {
                        icon: 'Design/icons/application_view_list.png',
                        text: Lang.Main.Show,
                        disabled: true
                    },
                    {
                        icon: 'Design/icons/calendar_edit.png',
                        text: Lang.Main.EditButtonText,
                        hidden: true,
                        disabled: true
                    },
                    {
                        icon: 'Design/icons/calendar_add.png',
                        text: Lang.Main.PlanCourse,
                        hidden: true
                    }]
                }]
                }
            ]
        });

        me.callParent(arguments);

        ...

        this.grid = this.query('gridpanel')[0];

        this.grid.on('selectionchange', function (view, records) {
            var selection = me.grid.getSelectionModel().getSelection();
            var event = (selection.length == 1) ? selection[0] : null;
            var registered = event != null && event.data.Registered;
            me.registerButton.setDisabled(registered);
            me.unregisterButton.setDisabled(!registered);
            me.showButton.setDisabled(!records.length);
            me.editButton.setDisabled(!records.length);            

        });
    }
}); 
```

这也是代码的pastebin链接：http: [//pastebin.com/USivWX9S](http://pastebin.com/USivWX9S)

**更新**

刚刚在调试时注意到我`FiltersFeature.js`在这一行的文件中收到了一个 JS 错误：

```
createFilters: function() {
        var me = this,
            hadFilters = me.filters.getCount(),
            grid = me.getGridPanel(),
            filters = me.createFiltersCollection(),
            model = grid.store.model,
            fields = model.prototype.fields,
Uncaught TypeError: Cannot read property 'prototype' of undefined
            field,
            filter,
            state; 
```

请帮我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:21:31.003

有几个语法错误。

*   [`FiltersFeature`](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.ux.grid.FiltersFeature)是网格特征而不是组件。
*   您不能`extend`使用对象文字（如果我错了，请纠正我）

像这样使用过滤器：

```
var filtersCfg = {
    ftype: 'filters',
    local: true,
    filters: [{
        type: 'numeric',
        dataIndex: 'id'
    }]
};

var grid = Ext.create('Ext.grid.Panel', {
     features: [filtersCfg]
}); 
```

# file - xcopy 批处理文件 pst 备份

> ID：15292475
> 
> 赞同：0
> 
> 时间：2013-03-08T11:03:44.093
> 
> 标签：file, batch-file, cmd

我正在尝试构建一个批处理文件脚本，该脚本将从用户的“我的文档”文件夹中复制 Outlook.pst 文件并将其移动到我已映射为驱动器“B:\”的服务器

这是我到目前为止的代码：

```
@echo on
xcopy "c:\Documents and Settings\%username%\My Documents\outlook.pst" "B:\PST\%username%\" -c -d -i -y
exit 
```

该脚本是为 Windows XP 设计的。

但是，当我在客户端计算机上运行此代码时，它不会复制 .pst 文件，它只是一遍又一遍地运行命令，直到我 Ctrl + C 它...

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T13:10:27.043

如果我没记错的话，PST 文件的默认位置是在`%localappdata%\Microsoft\Outlook\`. 如果用户在多个位置有 PST 文件，他可能有多个同名的文件，只是在不同的文件夹中。美好时光。

如果您的用户可能在 以外的位置拥有 PST 文件`My Documents`，我建议您修改您的脚本，只需进行一些非常小的更改。

```
@echo off
setlocal enabledelayedexpansion
for /r "%userprofile%" %%I in (*.pst) do (

    rem avoid overwriting in case "outlook.pst" exists in two locations, for instance
    if exist "B:\PST\%username%\%%~nxI" (
        set cnt=000

        rem get count of files matching b:\pst\username\filename*.pst
        for /f %%a in ('dir "B:\PST\%username%\%%~nI*%%~xI" 2^>NUL ^| find " File(s) "') do (
            set "cnt=!cnt!%%a"
        )

        rem file of the same name will become filename001.pst, filename002.pst, etc.
        set "dest=%%~nI!cnt:~-3!%%~xI"

    rem otherwise leave the filename alone
    ) else set "dest=%%~nxI"
    set /P "=Copying !dest!... "<NUL
    copy "%%~fI" "B:\PST\%username%\!dest!"
    echo Done.
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-03T12:50:15.653

我希望使用 Windows XP 中的批处理文件将 Outlook.pst 从其 Microsoft 默认位置复制到记忆棒我发现 xcopy 无法将 Outlook.pst 复制到记忆棒或我的文档

我现在分两步 xcopy 它，首先到 C:\ 然后到记忆棒

它工作可靠

# r - 尝试从 Web 应用程序使用 rJava 时出错

> ID：15292480
> 
> 赞同：0
> 
> 时间：2013-03-08T11:03:56.773
> 
> 标签：r, rjava, rapache

我在 Ubuntu 11.04 上使用 R 版本 2.15.2。`JAVA_HOME`变量设置为

```
/usr/lib/jvm/jdk1.6.0_21\. 
```

为了能够使用`rJava`来自 RI 的负载，必须设置`JAVA_HOME`为`$JAVA_HOME/jre`. 但是，我无法`rJava`从 R Web 应用程序调用的 R 脚本中使用。我已经开始`JAVA_HOME`了 `/usr/lib/jvm/jdk1.6.0_21/jre`，`envvars`但这个技巧不起作用。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T11:22:29.680

在加载 rJava 之前，您能否尝试使用以下代码在您的 R 会话中停用 JAVA_HOME：

```
if (Sys.getenv("JAVA_HOME")!="")
  Sys.setenv(JAVA_HOME="")
library(rJava) 
```

那么结果如何呢？

# java - 如何在 Eclipse 中使用 PMD Ant 从文件夹运行所有规则集？

> ID：15292481
> 
> 赞同：5
> 
> 时间：2013-03-08T11:03:57.733
> 
> 标签：java, eclipse, ant, pmd

当我构建项目时，我试图从中运行`PMD`。`Ant``Eclipse`

这是我的 build.xml 文件：

```
<taskdef name="pmd" classname="net.sourceforge.pmd.ant.PMDTask"/>

<target name="check_pmd">
    <pmd rulesetfiles="C:\Users\Nikolay\ProjectName\lib\rulesets\java\basic.xml">
        <formatter type="html" toFile="pmd_report.html" toConsole="true"/>
        <fileset dir="C:\Users\Nikolay\ProjectName\src">
            <include name="**/*.java"/>
        </fileset>
    </pmd>
</target> 
```

它适用于`basic.xml`，但我想为`java`文件夹中的所有规则集运行（它有大约 20 个规则集）所以我尝试了：

```
<pmd rulesetfiles="C:\Users\Nikolay\ProjectName\lib\rulesets\java\*.xml">
<pmd rulesetfiles="C:\Users\Nikolay\ProjectName\lib\rulesets\java\*"> 
```

但是当我尝试跑步时，它们都失败了。**有没有办法在不手动指定文件列表的情况下指定文件夹，而不是单个文件？**

**供以后的读者在 Eclipse 下配置 Ant PMD：**

*   `pmd-bin.zip`从官网下载
*   解包`pmd.jar`，`jaxen.jar`和`asm.jar`
*   将上面的 jars 添加到 Window - Preferences - Ant - Runtime - Ant Home Entries - Add External JARs
*   解压`rulesets`文件夹
*   规则集的参考位置来自`<pmd rulesetfiles=...>`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-11T07:58:35.107

（来自coolfan对蚂蚁任务的扩展答案）

PMD 规则集文件的文档说它是[逗号分隔的文件列表。](http://pmd.sourceforge.net/pmd-4.2.6/ant-task.html)

> **规则集文件 以逗号分隔的规则集文件列表（'rulesets/basic.xml,rulesets/design.xml'）**。**如果您编写自己的规则集文件，则可以将它们放在类路径中并将它们插入此处。是的，除非使用规则集嵌套元素**

 **Ant 提供了一种将文件集转换为这种格式的方法。[任务是路径转换](http://ant.apache.org/manual/Tasks/pathconvert.html)

这是网站上的一个例子

```
<fileset dir="${src.dir}" id="src.files">
      <include name="**/*.java"/>
 </fileset>

 <pathconvert pathsep="," property="javafiles" refid="src.files"/> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-11T02:57:35.837

[正如文档](http://pmd.sourceforge.net/pmd-5.0.2/ant-task.html)建议的那样，参数可能不支持通配符。

快速浏览其源代码也支持我的猜测，请参见[RuleSetReferenceId.java](http://sourceforge.net/p/pmd/code/ci/6426deca6b8ec7068cb2f844539412c31d2908ce/tree/pmd/src/main/java/net/sourceforge/pmd/RuleSetReferenceId.java)，第 194 行。

因此，它需要一个包含“列表”的属性，`,`用作分隔符，例如：

```
"rule1,rule2,rule3,path-to-rule-file4" 
```

解决方法可能是扫描目录，列出所有规则 XML 文件，并以逗号分隔格式构建属性，然后将其传递给`<pmd>`任务。

不幸的是，我不知道任何可以做到这一点的蚂蚁任务。因此，您可能需要编写一些代码。

我可以想出两种方法：

1.  写一个蚂蚁任务；Java有很多关于这个的问答，比如[this](https://stackoverflow.com/questions/3008043/list-all-files-from-directories-and-subdirectories-in-java)。
2.  `<groovy>`在任务中编写 groovy ；还有很多[问答](https://stackoverflow.com/questions/3953965/groovy-get-a-list-of-all-the-files-in-a-directory-recursive)。

* * *

编辑：

Jayan 建议`<pathconvert>`任务，这应该是正确的答案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-03T16:40:52.087

在 pmd 库 jar 中有一个 all-java.xml，其中包含所有规则集。尝试使用以下内容：

```
<pmd rulesetfiles="rulesets/internal/all-java.xml"> 
```**

# sql - SQL - 排除某些时间段

> ID：15292484
> 
> 赞同：0
> 
> 时间：2013-03-08T11:04:03.030
> 
> 标签：sql, db2

嗨，我有一个包含以下字段的表格：

```
person
from_dt
to_dt
house_num 
```

它描述了一个人住在哪个门牌号，并给出了 from_dt 和 to_dt。from_dt 可以追溯到 2000-01-01，to_dt 可以追溯到 2012-01-01

问题：

我只想选择在 2004 年到 2009 年之间生活过一段时间的人。

即排除喜欢的人

```
person  from_dt     to_dt       house_num
-----------------------------------------
dave    2000-01-01  2002-01-01  34 
```

但是保持这样的人：

```
person  from_dt     to_dt       house_num
-----------------------------------------
susan   2008-01-01  2009-06-01  93 
```

我在这里的逻辑有问题。有没有人对我如何使用 from_dt 和 to_dt 仅包括在 2009 年期间住在房子里一天或更长时间的人有任何建议？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:09:35.127

未经测试，因此可能有拼写错误，但这是一个想法 - from 必须在范围内或 to 必须在范围内，或者它们必须在之前开始和之后结束。

```
select * 
from table
where (year(from_dt) < 2009 and year(from_dt) > 2004) 
   or (year(to_dt) < 2009 and year(to_date) > 2004)
   or (year(from_dt) < 2004) and year(to_date) > 2009) 
```

您也可以在之前或之后都测试 NOT 两者。

```
select *
from table
where not ((year(from_date) < 2004 and year(to_dt) < 2004)
         or(year(from_date) > 2009 and year(to_dt) > 2009)) 
```

或者（正如尼古拉指出的）

```
select * 
from table
where year(from_dt) <= 2009 and year(to_dt) >= 2004 
```

# mysql - Mysql查询不显示不等值的行

> ID：15292488
> 
> 赞同：0
> 
> 时间：2013-03-08T11:04:23.120
> 
> 标签：mysql, select

我的 mysql 查询有一个小问题。我只想显示订单状态不同于`6`. 但是 The`id_order`有多个雕像，这意味着例如：

```
id_order = 8421
**has two statuses:**
id_order_state=8 and
id_order_state = 6. 
```

这是我的表的示例：[链接](http://sqlfiddle.com/#!2/a166f/2)

我试过：

```
SELECT * FROM order_history WHERE id_order_state != 6 (but here I need more code that I can't handle) 
```

谢谢你的帮助

编辑：订单 8421、8422 不应显示在结果中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:06:17.253

试试这个

```
> SELECT * FROM order_history WHERE id_order_state <> 6 
```

或者

```
> SELECT * FROM order_history WHERE id_order_state NOT IN ( 6) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:12:35.927

尝试：

```
SELECT i.* FROM order_history i
left join order_history e 
       on i.id_order = e.id_order and e.id_order_state = 6
WHERE  e.id_order_hitory is null 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:15:49.557

像这样？

```
SELECT * 
FROM order_history 
WHERE id_order NOT IN 
(SELECT id_order FROM order_history WHERE id_order_state = 6); 
```

# ruby-on-rails - 列出活动记录模型的参考列

> ID：15292489
> 
> 赞同：1
> 
> 时间：2013-03-08T11:04:29.423
> 
> 标签：ruby-on-rails, ruby-on-rails-3

使用 Rails 3.2，有没有办法找出列是否是其他模型的参考列？

我不想在名称中依赖“_id”字符串搜索。

谢谢。

更新：

我需要遍历所有列并在引用列中进行特殊处理，例如：

```
result = Hash.new
self.attribute_names.each do |name|
  if self[name]
    result[name] = self[name]

    if name is reference column
       insert xxx_description (from the other model) in hash.
    end
  end
end 
```

我会将此哈希作为 json 返回给客户端。

{名称：“约瑟夫”，扇区ID：2，扇区名称：“后端”...}

其中扇区名称是 person.sector.name ...

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T12:31:54.950

如果您不知道关联的名称，则另一种方法：

```
Post.reflect_on_all_associations(:belongs_to).map &:foreign_key 
# => ['author_id','category_id'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T12:23:35.520

见[http://api.rubyonrails.org/classes/ActiveRecord/Reflection/ClassMethods.html](http://api.rubyonrails.org/classes/ActiveRecord/Reflection/ClassMethods.html)

```
Post.reflections[:comments].primary_key_name # => "message_id" 
```

[如何通过反射获得活动记录关联](https://stackoverflow.com/questions/4173333/how-to-get-activerecord-associations-via-reflection)

# php - 在 ck 编辑器中集成 Javascript 虚拟键盘插件

> ID：15292491
> 
> 赞同：1
> 
> 时间：2013-03-08T11:04:42.637
> 
> 标签：php, javascript, ckeditor

我正在尝试在 ck 编辑器中集成 Javascript 虚拟键盘插件。在 pugin 内部，他们给出了有关如何将其与 ck 编辑器集成的说明，但我仍然无法集成它。所以任何人都可以帮助我解决我的问题。

安装：

```
 1\. Extract contents of this archive to the /plugins/ folder under CKEditor root
 2\. add ",extraPlugins : 'Jsvk'" line to the editor constructor parameters
 3\. Update your toolbar by adding item 'Jsvk' to one of the button groups 
```

[您可以从此链接](http://debugger.ru/demo/projects/virtualkeyboard/richedit/ckeditor/plugins/Jsvk/examples/sample.html)下载插件

到目前为止，我已经尝试过包括第 2 步和第 1 步但在第 3 步卡住的方法：-

```
CKEDITOR.editorConfig = function( config ) {
    // Define changes to default configuration here. For example:
     config.language = 'DE';
     config.extraPlugins = 'equation';
     config.extraPlugins = 'Jsvk' ; }; 
```

它向我展示了虚拟键盘的选项，但是每当我尝试打开它时，它都会向我展示一个空白的弹出框

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:19:30.903

您需要添加`Jsvk`- `CKEDITOR.editorConfig`：`config.toolbarGroups`

```
CKEDITOR.editorConfig = function( config ) { 
     // .....................
     config.toolbarGroups = [ 
         // .....................
         { name: 'editing', groups: [ 'find', 'selection', 'spellchecker', 'Jsvk' ] }, 
         // ...............................................................^^^^^^
     ];
}; 
```

也改变`config.extraPlugins`：

```
config.extraPlugins = 'equation, Jsvk'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T08:16:22.087

我的问题已解决，因为它与其他插件存在冲突问题，这就是它显示空白弹出页面的原因。

# opencv - OpenCv 2.4.3 prebuild 似乎不使用 TBB/IPP

> ID：15292492
> 
> 赞同：2
> 
> 时间：2013-03-08T11:04:48.947
> 
> 标签：opencv

我正在使用 OpenCv 2.4.3。我刚刚从他们的[网站](http://sourceforge.net/projects/opencvlibrary/files/opencv-win/2.4.3/OpenCV-2.4.3.exe/download)下载了它并使用了他们制作的版本。我不想自己从源头构建它。无论如何，在我的机器中，haar 分类器检测人脸的性能非常慢。在另一台机器上，我的朋友运行良好。（他在 cmake 中使用 TBB 和 IPP supprt 从源代码构建）。

虽然在[发布](http://opencv.org/opencv-2-4-3-released.html)中他们说：**“MacOSX、iOS 和 Windows 上不再需要 TBB。顺便说一句，Windows 的二进制包现在是在不支持 TBB 的情况下构建的。Visual Studio 2010 的库和 DLL 使用并发框架。”**

我对这些 TBB 和 IPP 了解不多。我唯一了解的是使这些东西可用将使多线程和并行性成为可能，从而加快我的程序。

我是否需要使用 cmake、TBB IPP bla bla 编译源代码……或者还有其他我遗漏的东西？有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T08:54:58.580

What they say, is that they have the pre-built binaries compiled in a way that does not need TBB, because they use another concurrency framework. So if You don't want to meddle in the library's settings You can use the pre-built version without sacrificing performance. But that is on Windows, iOS and MacOS.

The performance might also depend on the machines parameters (You know, cascades are power hungry), so if Your friend has a stronger machine, he will probably get better results, and OS You are operating, but I cannot tell You which is the best, as I didn't try OpenCV on anything besides Linux.

# c# - C# 和谷歌说话

> ID：15292493
> 
> 赞同：1
> 
> 时间：2013-03-08T11:04:52.833
> 
> 标签：c#, .net, text-to-speech, arabic

我目前正在做 ac# 项目，希望用户输入一个句子，然后使用谷歌文本到语音引擎说出这个句子。我不能使用 C# 语音合成器，因为它只支持英语，我想要阿拉伯语。有谁知道如何调用谷歌tts？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:50:40.123

这是一个示例代码：

```
using (WebClient client = new WebClient())
{
    client.Headers.Add("user-agent", "Mozilla/4.0 (compatible; MSIE 6.0; Windows)");
    client.DownloadFile("http://translate.google.com/translate_tts?tl=ar&q=مرحبا العالم", "HelloWorld.wav");
} 
```

它将保存一个`HelloWorld.wav`包含`q`参数后面的短语的文件 - 抱歉，如果它在阿拉伯语中并不真正意味着什么:-)

# javascript - 如何在 select_node 事件上为 jstree 添加元数据

> ID：15292503
> 
> 赞同：2
> 
> 时间：2013-03-08T11:05:15.697
> 
> 标签：javascript, jstree

如何在`select_node`事件中为 jstree 添加元数据。这就是我试图添加的方式：

```
$.ajax({            
    type : 'GET',
    url : '/assessment/getassess',
    dataType : 'json',          
    success : function(jsonData) {
        $("#treeViewDiv").jstree({
            "themes" : {
                "theme" : "classic",
                "dots" : true,
                "icons" : true,
                "url" : "/css/themes/classic/style.css"
            },
            "json_data" : jsonData,
            "plugins" : ["themes", "json_data", "ui", "contextmenu"],
            "contextmenu" : {
                items : createMenu
            }
        }).bind("select_node.jstree", function(e, data) {
            $(data.rslt.obj).data("jstree").description = "Size: 45units"; 
        });
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T20:40:38.797

我相信您[`$.data()`](http://api.jquery.com/data/)错误地使用了该功能。

您**不会**为函数的结果赋值`$.data()`，而是自动保存它。

你想要做的是改变这条线，

```
$(data.rslt.obj).data("jstree").description = "Size: 45units"; 
```

对此，

```
// On the next line, we use "|| {}" because if the data attribute is unassigned, we want to start with a default empty object.
var jstreeData = $(data.rslt.obj).data("jstree") || {};

// assign the property(ies)/value(s) you want.
jstreeData.description = "Size: 45units";

// finally, reassign your modified object back to the data attribute.
$(data.rslt.obj).data("jstree", jstreeData); 
```

* * *

如果数据属性由一个对象组成，您希望：

1.  缓存对象；
2.  修改缓存对象；
3.  将修改后的缓存对象保存/分配回数据属性。

最后，要修改`data`属性，您需要使用`$.data( key, value )`函数重载。

# javascript - 将旋转和平移与three.js结合起来

> ID：15292504
> 
> 赞同：3
> 
> 时间：2013-03-08T11:05:18.660
> 
> 标签：javascript, three.js

我正在使用 Three.js（没有着色器，仅使用现有对象方法）来实现动画，但我的问题很简单：我确定这是可能的，但你能告诉我（或帮助我）我应该怎么做在一个形状上组合几个动画？例如，旋转和平移球体。当我在做：

```
three.sphere.rotation.y += 0.1;
three.sphere.translateZ += 1; 
```

球体旋转但平移向量也在旋转，因此平移没有效果。我知道一点 openGL 并且我已经使用过 glPushMatrix 和 glPopMatrix 函数，那么它们是否存在于这个框架中？干杯

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-08T12:27:20.603

每个 three.js [object3D](http://threejs.org/docs/#Reference/Core/Object3D)都有一个`position`,`rotation`和`scale`; 旋转（总是相对于它的原点或“中心”）定义了它自己的局部轴坐标（例如，对象将其视为自己的“前、上、右”方向），当您调用 时`translateZ`，对象会根据这些坐标移动局部方向（不是沿世界或父 Z 轴）。如果您想要后者，请`three.sphere.position.z += 1`改用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:13:23.893

转换的顺序很重要。先平移后旋转与先旋转后平移会得到不同的结果。当然，对于球体，很难看到旋转。

# iphone - 我在哪里可以下载适用于 iOS 的 spidermonkey 1.8.5 预编译静态库？

> ID：15292510
> 
> 赞同：1
> 
> 时间：2013-03-08T11:05:42.037
> 
> 标签：iphone, spidermonkey, .a

满足要求`configure`，然后花费数小时尝试解决问题，而`make`我试图避免。

# iphone - 订阅 url 以在 ical 中添加事件

> ID：15292515
> 
> 赞同：2
> 
> 时间：2013-03-08T11:06:00.597
> 
> 标签：iphone, ios

我想使用 eventkit 将我的服务器中的事件添加到 ical 中。我可以以编程方式订阅 url，以便所有事件都可以在 ical 应用程序中自动同步。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:46:53.373

```
Synchronization is done from your side (Inside objective "c"). You need to fetching all events from server after hitting appropriate URL.
Parse it and save single event with the help of below method:  

-(void)addingEvents{

    EKEventStore *eventStore = [[EKEventStore alloc] init];

    EKEvent *event  = [EKEvent eventWithEventStore:eventStore];

    event.title     = <<Event Title>>;

    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat: @"yyyy-MM-dd hh:mma"];
    [dateFormatter setTimeZone:[NSTimeZone systemTimeZone]];
    NSString *strDate = [dateFormatter stringFromDate:<<Your event date>>];

    NSDate *startDate = [dateFormatter dateFromString:strDate];

    [dateFormatter release];

    event.startDate = [[NSDate alloc] initWithTimeInterval:0 sinceDate:startDate];
    event.endDate   = [[NSDate alloc] initWithTimeInterval:600 sinceDate:event.startDate];
    NSArray *alertArray = [NSArray arrayWithObject:[EKAlarm alarmWithRelativeOffset:-300]];
    event.alarms = alertArray;

    [event setCalendar:[eventStore defaultCalendarForNewEvents]];
    NSError *err;
    [eventStore saveEvent:event span:EKSpanThisEvent error:&err];  
    if (err) {
        NSLog(@"Error occured : %@",[err localizedDescription]);
    }
    [eventStore release];

} 
```

# python - 壳牌：未找到工作

> ID：15292518
> 
> 赞同：0
> 
> 时间：2013-03-08T11:06:16.380
> 
> 标签：python, django, shell, virtualenvwrapper

我正在编写一个看起来像这样的 shell 脚本：

```
#!/bin/bash                                                                                                                                         
workon pa                                                                    
python /home/project/manage.py command1            
python /home/project/manage.py command2 
```

当我在 shell 中运行 workon 命令时，它运行良好，
但是在 shell 脚本中我得到一个错误，说`workon command not found`
没有线索这里发生了什么

**更新：** `locate workon`失败，但在 shell 中工作正常

# jquery - 使用最接近（）的jQuery DOM遍历

> ID：15292520
> 
> 赞同：0
> 
> 时间：2013-03-08T11:06:17.923
> 
> 标签：jquery

我有一个表格，下面有一行：

![在此处输入图像描述](../Images/f0e68b7e8f6fe85f3e68bd36f67928ed.png)

单击第二个 td 中的 span 字段时，我想更改该行的 td.enPublish 中的文本。

我现在拥有的是

```
 $('span#publish_field').click (function() {
    title = this.title;  // this is a raw DOM span node, so we can go directly after the title attribute.
    $(this).closest("tr").$('td.enPublished').text('steve');
    $.post("set_publish.php", { "product_id" : title }, function(echoed_data) { 
            alert (echoed_data);
        }); 
```

第三行应该到达那个领域，但它没有。有没有人看到问题？

title 属性保存该行的 product_id 值，并在 ajax 调用中用于设置数据库中的字段。我想我也可以在 HTML 中更新这里的字段，这样用户就不必刷新页面来查看它。

感谢您的任何想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:08:33.013

更改`$`为`find`

```
$(this).closest("tr").find('td.enPublished').text('steve'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:08:04.423

采用`find()`

试试这个

```
$(this).closest("tr").find('td.enPublished').text('steve'); 
```

# java - java中的日期转换问题

> ID：15292528
> 
> 赞同：0
> 
> 时间：2013-03-08T11:06:35.050
> 
> 标签：java, hibernate, date, converter, date-conversion

我接受 yyyy/mm/dd 格式的用户输入日期。当我尝试使用 SimpleDateFormat 进行转换时，它显示“null”；

我的转换代码是：

```
SimpleDateFormat dateofbirthFormat = new SimpleDateFormat("yyyy/mm/dd"); 
java.util.Date dateOfBirth = dateofbirthFormat.parse(birthdate); 
```

为什么显示为空？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:12:08.003

MM 不是 mm，MM 是月，mm 是分钟

```
 SimpleDateFormat dateofbirthFormat = new SimpleDateFormat("yyyy/MM/dd"); 
    try {
        java.util.Date dateOfBirth = dateofbirthFormat.parse("1986/12/11");
        System.out.println(dateOfBirth);
    } catch (ParseException e) {
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:22:33.857

`yyyy/mm/dd` 我客人是指年/月/日。 所以你可以尝试使用
`yyyy/MM/dd` （注意 MM 的大写使用）。

`SimpleDateFormat dateofbirthFormat = new SimpleDateFormat("yyyy/MM/dd"); java.util.Date dateOfBirth = dateofbirthFormat.parse(birthdate); .`

# asp.net-mvc-4 - ASP.net MVC Url.Action 链接格式

> ID：15292532
> 
> 赞同：0
> 
> 时间：2013-03-08T11:06:41.097
> 
> 标签：asp.net-mvc-4, url.action

我对 ASP.net 非常陌生，最近从 asp.net 转换为 asp.net MVC 项目。我在 asp.net MVC Url.Action 中有一个基本问题。

我的控制器中有一个`ActionResult`带有两个参数`QuestionId, Response`的方法，路由配置如下，

```
public class QuestionController : Controller
{
    public ActionResult Answer(int QuestionId, string Response)
    {
       ..do something.....
    }
} 
```

和路由配置映射为

```
routes.MapRoute(
                name: "QuestionAnswer",
                url: "{controller}/{action}/{QuestionId}/{Response}",
                defaults: new { controller ="Question", action = "Answer", QuestionId = 0, Response = string.Empty}
            ); 
```

从以下语法调用 html 页面中的操作链接

```
@Html.ActionLink("Answer is 1", "Answer", "Question", null, null, null, new RouteValueDictionary(new {QuestionId = 10, Response = "1" }), null) 
```

它形成 URL 就像 /Question/Answer?QuestionID=10&Response=1，这个 url 匹配路由定义并正确调用 Action。一切都很好。

但我的实际要求是这些参数名称不应该暴露。它应该像 /Question/Answer/10/1

我不想在 的帮助下手动格式化此链接，`String.Format`因为我的网站可能放置在虚拟目录中，而不是默认网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:29:19.730

因为 ActionLink 将执行 GET 请求，所以值将始终在查询字符串中。从查询字符串中删除 questionId 和 response 的一种方法是使用表单对 questionId 和 response 参数执行 POST 到您的回答操作。

其他选项是执行 ajax 请求并更新响应中的 dom。

# java - 如何找出 JVM 忽略 Linux 上的 kill -15 (SIGTERM) 的原因？

> ID：15292533
> 
> 赞同：2
> 
> 时间：2013-03-08T11:06:41.837
> 
> 标签：java, linux, jvm

我正在`kill -15 <PID>`使用我的工作 jvm，它似乎完全被忽略了。

环境是：

*   Linux 2.6 内核
*   jdk 1.6.0_20-x86-64

项目中没有引用`sun.misc.SignalHandler`。我唯一的（相当蹩脚的）线索是`AbstractApplicationContext.registerShutdownHook()`在 main 中调用。JVM 启动参数不包含任何与信号处理相关的内容。

日志中没有任何内容（调试级别），也没有任何内容打印到标准输出以响应`kill -15`.

如何找出导致忽略 SIGTERM 的原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:19:52.363

> 通常，JVM线程上的信号1（SIGHUP）、2（SIGINT）、4（SIGILL）、7（SIGBUS）、8（SIGFPE）、11（SIGSEGV）和15（SIGTERM）会导致JVM关闭；因此，除非不再需要 JVM，否则应用程序信号处理程序不应尝试从中恢复。

由于您的jvm没有退出，您可能需要检查是否存在：

1.  任何使用[Runtime.addShutdownHook](http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29)

2.  JVM 启动时存在 -Xrs 选项

3.  sun.misc.SignalHandler 的任何使用。

这是 Spring 源代码中的 AbstractApplicationContext.registerShutdownHook()。

```
public void registerShutdownHook() {
if (this.shutdownHook == null) {
        // No shutdown hook registered yet.
    this.shutdownHook = new Thread() {
        @Override
        public void run() {
        doClose();
        }
    };
    Runtime.getRuntime().addShutdownHook(this.shutdownHook);
}
} 
```

# c# - 使用 Outlook 消息文件 (msg) 作为模板

> ID：15292539
> 
> 赞同：1
> 
> 时间：2013-03-08T11:07:12.400
> 
> 标签：c#, .net, outlook, office-interop, outlook-redemption

我想知道 .net 框架或 Microsoft.Office.Interop.Outlook 是否可以加载电子邮件 (*.msg)，进行搜索和替换并从 C# 发送。

这一切都发生在服务器上，因此无法安装 Outlook。

我试过的

*   Redemption 库，但不知何故它丢失了模板中内联的图像，无法解决这个问题

*   使用 Microsoft.Office.Interop.Outlook

    ```
     Application objOutlook = new Application();
        objOutlook.CreateItemFromTemplate("c:\temp\..",) 
    ```

但它期望作为 Outlook 文件夹的第二个参数，我不能给它一个文件路径，它将保存到

我正在考虑切换到常规 txt 文件而不是 C# 但也许有人已经这样做了

**更新 1**

这是我试过的兑换码。问题是格式和图像（签名的不保留）

```
using Interop.Redemption;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            Replace(@"mailnonunicode.msg");
            Replace(@"mailunicode.msg");
            Replace(@"mailtemplate.oft");
        }

        static void Replace(string cTestharnessKmailMsg)
        {
            RDOSession rdoSession = new RDOSession();
            RDOMail messageFromMsgFile = rdoSession.GetMessageFromMsgFile(cTestharnessKmailMsg);

            messageFromMsgFile.Body = messageFromMsgFile.Body.Replace("abc",
                                                                      "xyz");
            messageFromMsgFile.Save();
        }
    }
} 
```

**更新 2 / 解决方案**

如果要保留格式，则需要使用 HTMLBody 或 RTFBody 属性，而不是使用纯文本 Body。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T16:46:24.240

您现有的兑换码是什么？

如果需要发送邮件，则必须在 Outlook 文件夹之一中创建该邮件 - 无法发送独立的 MSG 文件。

# android - 您如何强制使用 cordova-cli 构建的移动应用程序为横向？

> ID：15292544
> 
> 赞同：5
> 
> 时间：2013-03-08T11:07:30.540
> 
> 标签：android, cordova, phonegap-build

我正在使用[cordova cli](https://github.com/apache/cordova-cli)来构建我的应用程序。我想同时针对 android 和 ios（也许更多）。

因为我希望这适用于所有平台，所以我希望我可以简单地将其定义为 config.xml 中的首选项，如下所示：

```
<preference name="orientation" value="landscape" /> 
```

因为这显然[是它](https://build.phonegap.com/docs/config-xml)在 phonegap 构建中的工作方式[https://build.phonegap.com/docs/config-xml](https://build.phonegap.com/docs/config-xml)

我假设 phonegap build 在 config.xml 中支持的功能与 cordova-cli 支持的功能不同？

我知道我可以通过将它插入到我的 AndroidManifest.xml 中来强制它在 android 应用程序中`android:screenOrientation="landscape"`，但这并不好，因为它会在我下次执行`cordova build`.

有什么建议么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-05-08T08:41:37.263

这已不再是这种情况。从 3.4 版开始，cordova cli 现在支持 config.xml 中的“方向”首选项

这是相应的问题：[https ://issues.apache.org/jira/browse/CB-5634](https://issues.apache.org/jira/browse/CB-5634)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-07-30T18:59:02.940

简而言之，无法`preference`使用`www/config.xml`. 在检查了[cordova-cli 代码](https://github.com/apache/cordova-cli/blob/master/src/metadata/android_parser.js#L89-L101)后，似乎只有版本和入口类包在`AndroidManifest.xml`.

有关支持的首选项列表，请参阅[Cordova 文档](http://docs.phonegap.com/en/3.0.0/guide_platforms_android_config.md.html#Android%20Configuration)。

添加到`AndroidManifest.xml`文件的配置不应该在 上丢失`cordova build`，除非配置选项是从其他地方（即版本）提取的。

# machine-learning - 机器学习算法选择

> ID：15292547
> 
> 赞同：3
> 
> 时间：2013-03-08T11:07:51.503
> 
> 标签：machine-learning

我是机器学习的新手。我的问题是制造一台机器来根据学生的位置和感兴趣的领域为学生选择一所大学。即它应该选择与学生地址相同的城市的大学。我对算法的选择感到困惑，我可以使用感知器算法来完成这项任务吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:12:17.540

对于哪种机器学习算法最适合哪种任务，没有硬性规定。最好的办法是多试几次，看看哪一种效果最好。您可以使用[Weka 工具包](http://www.cs.waikato.ac.nz/ml/weka/)，它实现了许多不同的机器学习算法。是的，你可以使用感知器算法来解决你的问题——但这并不是说你会用它取得好的结果。

根据您的描述，听起来您要解决的问题实际上并不需要机器学习。如果您只想将学生与最近的大学配对，该大学提供学生感兴趣的领域的课程，您无需任何学习即可做到这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T12:49:23.947

我赞同第一句话，如果学生必须与大学住在同一地区，您可能不需要机器学习。如果您想使用 ML 算法，也许最好考虑一下您必须从哪些数据开始。想到的是大学的向量，每个特征都有特定的学科/领域。然后计算与一个向量的距离，该向量就像学生的理想特征向量。尽量减少这个距离。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T22:30:51.050

您首先需要的是一个带标签的数据集。

听起来问题可以分解为 ML 问题，但是您首先需要一组正例和负例来进行训练。

你的数据集有多大？您有哪些可用的功能？回答这些问题后，您可以选择最适合您的数据特征的算法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-28T10:12:39.440

我建议对这个问题使用决策树，它类似于一组 if else 规则。您可以将学生的位置和感兴趣的区域作为 if 和 else if 语句的条件，然后为他推荐一所大学。由于它是输入到输出的直接映射，因此基于规则的解决方案将起作用，并且这里不需要学习。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-07-10T08:36:31.383

好吧，这个问题没有直接而确定的答案。答案取决于许多因素，例如问题陈述和您想要的输出类型、数据的类型和大小、可用的计算时间、特征数量和数据中的观察值等等。

1.  训练数据的大小

2.  输出的准确性和/或可解释性

模型的准确性意味着该函数预测给定观察的响应值，该响应值接近该观察的真实响应值。高度可解释的算法（限制性模型，如线性回归）意味着人们可以轻松理解任何单个预测变量如何与响应相关联，而灵活的模型以低可解释性为代价提供更高的准确性。

3.  速度或训练时间

更高的准确性通常意味着更长的训练时间。此外，算法需要更多时间来训练大型训练数据。在实际应用中，算法的选择主要由这两个因素驱动。

朴素贝叶斯、线性和逻辑回归等算法易于实现且运行迅速。像支持向量机这样涉及参数调整的算法、具有高收敛时间的神经网络和随机森林，需要大量时间来训练数据。

4.  线性度

许多算法的工作假设是类可以被一条直线（或其更高维的模拟）分隔。示例包括逻辑回归和支持向量机。线性回归算法假设数据趋势遵循一条直线。如果数据是线性的，那么这些算法的性能相当不错。

5.  特征数量

数据集可能具有大量特征，这些特征可能并非全部相关且重要。对于某种类型的数据，例如遗传学或文本数据，与数据点的数量相比，特征的数量可能非常大。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-07-26T04:46:32.167

也许您可以使用“推荐系统”或聚类方法，您可以更深入地研究“协同过滤”（推荐系统）或 k-means（聚类）等技术，但同样，正如某些人所说，首先您需要数据从中学习，也许您的问题可以在没有 ML 的情况下解决。

# osgi - CQ bundle 抛出异常：只能导入一个类型

> ID：15292548
> 
> 赞同：0
> 
> 时间：2013-03-08T11:07:52.397
> 
> 标签：osgi, aem

我在 CQ5 的 CRXDE 中创建了一个示例包。[按照教程](http://dev.day.com/docs/en/cq/5-5/core/developing/development_tools/developing_with_crxde_lite.html#Managing%20a%20Bundle)中给出的过程进行操作。

但是当我运行页面时，它只是抛出一个异常

```
 An error occurred at line: 6 in the generated java file
    Only a type can be imported. com.mycompany.test.HelloWorld resolves to a package 
```

jsp如下：

```
<%@ page import="com.mycompany.test.HelloWorld"%><%
%><%@ include file="/libs/foundation/global.jsp"%><%
%><% HelloWorld hello = new HelloWorld();%><%
%>
<html>
<body>
<b><%= hello.getString() %></b><br>
</body>
</html> 
```

HelloWorld.java 如下：

包 com.mycompany.test；

```
public class HelloWorld {
    public String getString(){
    return "Say Hello to my little friend !!";
    }
} 
```

无法弄清楚这里可能有什么问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:31:22.830

确保您的 .bnd 文件包含以下行。如果不存在，您可以添加它们，然后再次构建包。

```
Export-Package: *
Import-Package: *
Private-Package: * 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:50:12.677

当您的类在代码中不可见时，将引发此错误。

确保
1\. 您在 felix (/system/console/bundles) 中的包处于**活动**状态（不应处于已解决/已安装状态）。
2\. 您的捆绑包已导出包 com.mycompany.* 或 *

# c# - 在 jQuery 和 Razor (c#) 中使用 datepicker 设置默认日期

> ID：15292552
> 
> 赞同：1
> 
> 时间：2013-03-08T11:07:56.000
> 
> 标签：c#, razor, jquery-ui-datepicker

我们有一个 common.js 文件，其中包含常用的 client/jquery 相关功能和验证。这个 common.js 包含在 _Layout.cshtml 中。在这个 common.js 文件中，我们有 datepicker 代码，以保持应用程序的一致性，如下所示，

```
function OsDatepicker(id, date, maxdt, dDate) {
    var ctrl = "#" + id;
    var d = new Date();

    var currYear = d.getFullYear();
    if (date == 0)
        var yrrange = (parseInt(currYear) - 4) + ":" + (parseInt(currYear) + 2);
    else
        var yrrange = (parseInt(currYear) - 70) + ":" + (currYear);

    $(ctrl).datepicker({ dateFormat: 'dd/mm/yy',
        changeYear: true,
        autoSize: true,
        yearRange: yrrange,
        constrainInput: true,
        showOn: "both",
        buttonImage: '../../../Content/images/Calendar.png',
        buttonImageOnly: true,
        showanim: "slide",
        //defaultDate: dDate,  //not working  
        inline: true
    });

    if (maxdt == 0)
        $(ctrl).datepicker("option", "maxDate", "+0d");

    $(ctrl).datepicker("option","setDate", new Date(dDate)); //not working
} 
```

上面的函数在cshtml脚本中被调用如下，

```
$(document).ready(function () {
var dobDate = $("#Date_Of_Birth").val();
var jtDate = dobDate.split(" ");
OsDatepicker('Date_Of_Birth', 1, 0, jtDate[0]);
}); 
```

我的剃须刀代码如下，用于出生日期

```
<div style="width: 260px; float: left; height: 45px;">
    <label class="field_title">
        @Html.LabelFor(model => model.Date_Of_Birth)</label>
    <div class="form_input">
        @Html.EditorFor(model => model.Date_Of_Birth)
        @Html.ValidationMessageFor(model => model.Date_Of_Birth)
    </div>
</div> 
```

上面的标记如下，

```
<input class="text-box single-line" id="Date_Of_Birth" name="Date_Of_Birth" type="text" value="13-10-1988 00:00:00" /> 
```

如您所见，模型正在正确获取日期，该日期也正确传递给 OSDatepicker 函数。

加载表格时，出生日期文本框为空白，无法破解。您的建议会有所帮助。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:39:53.950

我认为这是因为 razor 渲染的 dateFormat 与日期选择器期望的格式不匹配。

您是否尝试过更改`dateFormat: 'dd/mm/yy'`为`dateFormat: 'dd-mm-yyyy'`?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:12:24.263

尝试这个：

```
defaultDate: $("#Date_Of_Birth").val(); 
```

# c# - 具有“PutObjectRequest”的对象的键值中的 AWSSDK .Net S3 无效字符

> ID：15292567
> 
> 赞同：0
> 
> 时间：2013-03-08T11:08:28.050
> 
> 标签：c#, .net, encoding, amazon-s3

我正在尝试将文件上传到 S3 存储桶。我正在使用亚马逊开发工具包 AWSSDK。

几乎每个文件都已上传，但有些文件名混合了语言和字符，例如；“ms.video.downloader/music/youtube/даша астафьева & nikita - синее платье.mp3”

我的代码是

```
var request = new PutObjectRequest();
try {
    using (var fileStream = new FileStream(file.LocalPath, FileMode.Open)) {
        request.WithBucketName(_bucketName)
                .WithCannedACL(S3CannedACL.PublicRead).WithMetaData(metadata)
                .WithKey(file.S3Path).InputStream = fileStream;
        client.PutObject(request);
    }
} catch (Exception) {

} 
```

和

file.S3Path 值包含“ms.video.downloader/music/youtube/даша астафьева & nikita - синее платье.mp3”，此键会导致异常。

我该如何处理？我读到键值是unicode，所以应该没有问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T15:12:33.843

由于密钥直接与 url 相关，因此某些字符（在您的情况下为 &）需要正确转义。

一般准则：

> **[命名存储桶和密钥](http://aws.amazon.com/articles/1904)**
> 
> 尽管可以使用任何字母数字字符命名存储桶，但遵循一些简单的命名规则将确保您可以使用约定 .s3.amazonaws.com 引用您的存储桶。
> 
> 1.  使用 3 到 63 个字符。
> 2.  仅使用小写字母（至少一个）、数字、'.' 和 '-'。不要以 '.' 开始或结束存储桶名称。并且不要在“。”之后或之前。带有'-'。可以使用任何正确编码的 UTF-8 字符来命名键。
> 3.  文字“+”字符应始终进行 URL 编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T18:53:49.500

解决了。我正在使用无效字符设置元数据。对象的键值没有任何磨损。但是元数据很棘手。

# jquery - 将 jQuery Validate 插件消息放在新行中

> ID：15292568
> 
> 赞同：0
> 
> 时间：2013-03-08T11:08:28.230
> 
> 标签：jquery, jquery-validate

我正在使用 jQuery 验证。

一切正常，但是当有多个消息时，消息会显示在另一个旁边。

我需要将消息显示在自己的行中。

```
$("#myform").validate({

errorLabelContainer: "#messageBox",
debug: false,
rules: {
name: "required",
email: {
required: true,
email: true,
},
password: {
required: true,
minlength: 8
},
},
messages: {
name: "Please enter your name.",
email: "Please enter a valid email address.",
password: "Please enter at least 8 password characters.",
}
}); 
```

> ```
> Current display: 
> 
> Message1Message2Message3
> 
> Wanted display: 
> 
> Message1
> Message2
> Message3 
> ```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-08T16:16:44.113

**接受的答案是一个黑客**......

1) 你最终会得到以下[**无效**的HTML](http://validator.w3.org/)。

```
<label><div>Your message</div></label> 
```

2）您将需要声明一条自定义消息以覆盖每条默认消息。

* * *

正确的方法是使用插件的内置`wrapper`选项，它会自动将每条消息的***更改***为`label`a `div`。

**演示：http: [//jsfiddle.net/TSKHX/](http://jsfiddle.net/TSKHX/)**

```
$(document).ready(function () {

    $('#myform').validate({ // initialize the plugin
        wrapper: 'div',
        errorLabelContainer: "#messageBox",
        // your other rules & options
    });

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-16T20:36:55.727

您可以在错误消息前简单地添加`<br/>`标签：

```
messages: {"name": {required: "<br/>Error validation message"}} 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-03-08T12:49:33.553

您可以在消息周围添加 div 并正确设置它们的样式。

```
name: "<div class='msgRow'>Please enter your name.</div>",
email: "<div class='msgRow'>Please enter a valid email address.</div>",
password: "<div class='msgRow'>Please enter at least 8 password characters.</div>", 
```

# python - 获取字典中与同一字典中的其他键重叠的所有键

> ID：15292570
> 
> 赞同：8
> 
> 时间：2013-03-08T11:08:33.080
> 
> 标签：python, performance, algorithm, dictionary, itertools

我有一个看起来像这样的列表理解：

```
cart = [ ((p,pp),(q,qq)) for ((p,pp),(q,qq))\
         in itertools.product(C.items(), repeat=2)\
         if p[1:] == q[:-1] ] 
```

`C`是一个字典，其键是任意整数的元组。所有的元组都具有相同的长度。最坏的情况是所有组合都应包含在新列表中。这可能经常发生。

例如，我有一个这样的字典：

```
C = { (0,1):'b',
      (2,0):'c',
      (0,0):'d' } 
```

我希望结果是：

```
cart = [ (((2, 0), 'c'), ((0, 1), 'b'))
         (((2, 0), 'c'), ((0, 0), 'd'))
         (((0, 0), 'd'), ((0, 1), 'b'))
         (((0, 0), 'd'), ((0, 0), 'd')) ] 
```

因此，我指的是重叠，例如，元组`(1,2,3,4)`具有`(2,3,4,5)`重叠部分 (2,3,4)。重叠部分必须在元组的“边缘”上。我只想要长度比元组长度短一的重叠。因此`(1,2,3,4)`不与 重叠`(3,4,5,6)`。另请注意，当删除元组的第一个或最后一个元素时，我们最终可能会得到非不同的元组，所有这些元组都必须与所有其他元素进行比较。**在我的第一个例子中没有强调最后一点。**

我的代码执行时间的大部分时间都花在了这个列表理解上。我总是需要所有元素，`cart`所以在使用生成器时似乎没有加速。

我的问题是：有没有更快的方法来做到这一点？

我的一个想法是，我可以尝试创建两个这样的新字典：

```
aa = defaultdict(list)
bb = defaultdict(list)
[aa[p[1:]].append(p) for p in C.keys()]
[bb[p[:-1]].append(p) for p in C.keys()] 
```

并以某种方式将列表中元素的所有组合与列表中的所有组合合并`aa[i]`，`bb[i]`但`i`我似乎也无法理解这个想法。

**更新**

tobias_k 和 shx2 添加的解决方案都比我的原始代码具有更好的复杂性（据我所知）。我的代码是 O(n^2)，而其他两个解决方案是 O(n)。然而，对于我的问题规模和组成，所有三种解决方案似乎或多或少同时运行。我想这与函数调用相关的开销以及我正在使用的数据的性质有关。特别是不同键的数量，以及键的实际组成，似乎有很大的影响。我知道后者是因为对于完全随机的键，代码运行速度要慢得多。我接受了 tobias_k 的回答，因为他的代码最容易理解。但是，我仍然非常欢迎有关如何执行此任务的其他建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T16:04:07.250

您实际上是在正确的轨道上，使用字典来存储键的所有前缀。但是，请记住（据我了解的问题）如果重叠*小于* ，两个键也可以重叠`len-1`，例如键也会重叠。*因此，我们必须创建一个包含所有*键前缀的映射。（如果我弄错了，只需删除两个内部循环。）一旦我们有了这个映射，我们可以再次遍历所有键，并检查映射中是否有任何后缀的匹配键。（*更新：*由于键可以重叠多个前缀/后缀，我们将重叠对存储在一组中。）`(1,2,3,4)``(3,4,5,6)`*`for``prefixes`*

 **```
def get_overlap(keys):
    # create map: prefix -> set(keys with that prefix)
    prefixes = defaultdict(set)
    for key in keys:
        for prefix in [key[:i] for i in range(len(key))]:
            prefixes[prefix].add(key)
    # get keys with matching prefixes for all suffixes
    overlap = set()
    for key in keys:
        for suffix in [key[i:] for i in range(len(key))]:
            overlap.update([(key, other) for other in prefixes[suffix]
                                                      if other != key])
    return overlap 
```

（请注意，为简单起见，我只关心字典中的键，而不是值。扩展它以返回值，或者将其作为后处理步骤，应该是微不足道的。）

总体运行时间应该只有`2*n*k`，`n`即键的数量和键`k`的长度。如果有很多具有相同前缀的键，则空间复杂度（`prefixes`映射的大小）应该在`n*k`和之间。`n^2*k`

**注意：**上面的答案是针对重叠区域可以有*任何*长度的更一般的情况。对于您认为仅比原始元组短一个重叠的更简单的情况，以下应该足够并产生示例中描述的结果：

```
def get_overlap_simple(keys):
    prefixes = defaultdict(list)
    for key in keys:
        prefixes[key[:-1]].append(key)
    return [(key, other) for key in keys for other in prefixes[key[1:]]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T16:09:59.967

您将数据预处理为 dict 的想法是一个很好的想法。开始：

```
from itertools import groupby
C = { (0,1): 'b', (2,0): 'c', (0,0): 'd' }

def my_groupby(seq, key):
    """
     >>> group_by(range(10), lambda x: 'mod=%d' % (x % 3))
     {'mod=2': [2, 5, 8], 'mod=0': [0, 3, 6, 9], 'mod=1': [1, 4, 7]}
    """
    groups = dict()
    for x in seq:
        y = key(x)
        groups.setdefault(y, []).append(x)
    return groups

def get_overlapping_items(C):
    prefixes = my_groupby(C.iteritems(), key = lambda (k,v): k[:-1])
    for k1, v1 in C.iteritems():
        prefix = k1[1:]
        for k2, v2 in prefixes.get(prefix, []):
            yield (k1, v1), (k2, v2)

for x in get_overlapping_items(C):
    print x     

(((2, 0), 'c'), ((0, 1), 'b'))
(((2, 0), 'c'), ((0, 0), 'd'))
(((0, 0), 'd'), ((0, 1), 'b'))
(((0, 0), 'd'), ((0, 0), 'd')) 
```

顺便说一句，而不是：

```
itertools.product(*[C.items()]*2) 
```

做：

```
itertools.product(C.items(), repeat=2) 
```**

# javascript - 如何用常量值初始化 JavaScript 数组？

> ID：15292572
> 
> 赞同：4
> 
> 时间：2013-03-08T11:08:36.920
> 
> 标签：javascript, arrays

如何用常量值初始化 JavaScript 数组？例如，在 C 代码中，我可以编写

```
int array[] = {1, 2, 3}; 
```

JavaScript 中的等价物是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-08T11:13:08.133

1：常规：

```
 var myCars=new Array(); 
 myCars[0]="Saab";       
 myCars[1]="Volvo";
 myCars[2]="BMW"; 
```

2：浓缩：

```
 var myCars=new Array("Saab","Volvo","BMW"); 
```

3：字面意思：

```
 var myCars=["Saab","Volvo","BMW"]; 
```

参考这个链接：[https ://www.w3schools.com/jsref/jsref_obj_array.asp](https://www.w3schools.com/jsref/jsref_obj_array.asp)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-01-14T06:45:07.930

我假设您的目标是获得一个**不可变**的数组。

注意：在 javascript 数组中也是对象。

我们可以通过使用**Object.freeze**或**Object.seal来实现**

```
'use strict'

const simpleObject =  {
  ADD_TODO : "ADD_TODO",
  DELETE_TODO :  "DELETE_TODO"
}

const immutableObject =  Object.freeze(simpleObject);

// now you can`t do update, delete or add in "immutableObject"
```

[请阅读 MDN 文档以获取更多详细信息](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T11:09:15.747

通过以下方式：

```
var array = [1, 2, 3]; 
```

*阅读MDN*中有关数组的更多信息：

*   [https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T11:09:45.717

javascript中的数组对象：

```
var mycars = new Array();
mycars[0] = "1";
mycars[1] = "2";
mycars[2] = "3"; 
```

或者

```
var myCars=["one","two","three"]; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-08T11:09:52.487

尝试这个：

```
var array = [1,2,3]; 
```

# c# - Javascript：在页面加载时加载所有数据的好习惯？

> ID：15292573
> 
> 赞同：0
> 
> 时间：2013-03-08T11:08:42.173
> 
> 标签：c#, javascript, ajax, pageload

我在 asp.net 中有一个网页，它使用[可编辑的网格](http://www.editablegrid.net/en)来更新/插入员工的记录。一个特定的员工可以拥有近 50-70 个属性。考虑到这个页面的频繁使用，我需要非常小心往返服务器和其他 I/O 操作，因为它可能会降低页面的性能。

我正在使用[jquery 插件](http://www.meadmiracle.com/dlb/jQueryDLB.aspx?script=advanced)从给定的可用列中进行选择。列表框的左侧面板使用 xml 文件填充，该文件在服务器上读取。属性具有多种数据类型，例如简单字符串、整数或日期。

问题在于包含下拉值的属性，例如部门、团队等。我是否应该在页面开始加载时加载下拉值的值，而不管用户是否希望选择下拉列表？或者我应该再次往返服务器并加载所选属性的下拉值。应该使用哪种方法，为什么？

注意：最多可能有 4 到 6 个下拉属性，最多 30 到 40 个值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:12:56.023

这实际上取决于用户需要该下拉列表的可能性，以及您希望避免额外的 Ajax 负载的严重程度。

这是一个非常具体的问题。但是，如果您的下拉列表项目不会在每个项目的基础上真正改变，我会在页面加载期间加载它们。否则，如果一位员工的下拉列表与其他员工的下拉列表不同，请使用 Ajax，这样您每次都可以获得自定义下拉列表。

但就像我说的，非常适合您的特定情况。

# mysql - phpMyAdmin - 查询执行时间

> ID：15292575
> 
> 赞同：2
> 
> 时间：2013-03-08T11:08:49.893
> 
> 标签：mysql, performance, phpmyadmin

当我在 phpMyAdmin 中执行一个简单的语句时

```
SELECT *
FROM a 
```

其中“a”有 500'000 行，它在我的本地主机上给了我几毫秒的时间。

一些复杂的查询报告的时间更长（如预期的那样），但一些查询的报告时间也非常快 < 1/100s，但 phpMyAdmin 中的结果页面需要更长的时间才能显示。

所以我不确定，在 phpMyAdmin 中显示的执行时间真的真实准确吗？它是如何测量的？它是否使用所有子选择、连接等来衡量整个查询？

谢谢！

**更新**

我认为用我自己的 PHP 脚本进行测试是个好主意，例如：

```
$start = microtime(true);
$sql = "same statement as in phpMyAdmin";
$db = new PDO('mysql:host=localhost;dbname=mydb', 'root', 'lala');
$statement = $db -> prepare($sql);
$statement -> execute();
echo microtime(true) - $start . ' seconds'; 
```

与 phpMyAdmin 中报告的相同语句 0.005 秒的时间相比，这需要超过 7 秒。查询返回 300'000 行，如果我使用“LIMIT 0,50”将其限制为 50，则它低于 1/100。这种差异从何而来？我不会迭代返回的对象或其他东西......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:49:47.973

显示的执行时间是查询在服务器上运行所花费的时间——它是准确的，并且来自 MySQL 引擎本身。不幸的是，结果必须通过网络发送到您的浏览器才能显示，这需要更长的时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:44:31.827

phpMyAdmin 会自动将一个`LIMIT`子句附加到您的语句中，因此它具有较小的返回结果集，从而使其更快。

即使您需要所有 300,000 或 500,000 个结果，您也应该真正使用`LIMIT`. 多个较小的查询不一定意味着与单个大查询相同的执行时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-10-13T17:21:35.183

除了 splash21 的答案之外，在测试执行时间时使用 SQL_NO_CACHE 是一个好主意。这可以确保您查看的是实时进行查询，而不仅仅是获取缓存的结果。

```
SELECT SQL_NO_CACHE *
FROM a 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2019-08-30T22:23:17.323

### 不，phpMyAdmin 没有说实话。

想象一下，你有一张很大的桌子，假设有一百万行。现在你做了一个选择，你知道这需要一段时间：

```
 SELECT * FROM bigTable WHERE value > 1234 
```

...并且 PMA 将报告（等待一段时间后）查询花费了大约 0.0045 秒。*这不是整个查询时间*，这是*获得前 25 次点击的时间。*或 50，或任何您将页面大小设置为的值。所以它显然很快 - 一旦你得到第一屏的行，它就会停止。但是你会注意到它在很长的几秒钟后给了你这个欺骗性的结果；这是因为 MySQL 需要*真正*完成这项工作，以确定要返回哪些行。它运行整个查询，然后再看一遍，*只返回几行。*这就是你得到的时间。

### 如何获得实时？

在相同条件下执行 count()。

```
 SELECT COUNT(1) FROM bigTable WHERE value > 1234 
```

你会得到一行告诉你总行数，自然而然，PMA 会显示这需要的确切时间。它必须这样做，因为现在第一页和整个结果意味着同样的事情。

# ruby - 如何将目录的所有文件名读入数组？

> ID：15292576
> 
> 赞同：1
> 
> 时间：2013-03-08T11:08:49.970
> 
> 标签：ruby

我想将文件夹内的所有文件名存储到一个数组中。最好的方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:11:39.290

你可以使用这个：

```
files = Dir.foreach(dir).select { |x| File.file?("#{dir}/#{x}") } 
```

这将返回*文件名*，即*没有*文件夹。

如果您需要*完整的路径*，请使用以下内容：

```
files = Dir.foreach(dir) \
           .map { |x| File.expand_path("#{dir}/#{x}") } \
           .select { |x| File.file?(x) } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T11:26:16.360

您可以使用：

```
files = Dir.entries(directory) 
```

它返回一个包含给定目录中所有文件名的数组。

查看[Ruby 文档](http://ruby-doc.org/core-2.0/Dir.html)以获取更多信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T11:47:22.000

你也可以使用`files=Dir.glob(*)`.

# ios - 每次生成一个新的 ViewController 实例

> ID：15292577
> 
> 赞同：0
> 
> 时间：2013-03-08T11:08:52.420
> 
> 标签：ios

我有一个音频播放器`ViewController`。`ViewController`当在另一首歌中选择`DidSelectRow`一首歌曲时，我称之为。我面临的问题是当我选择一首歌曲时，它会推送到音频播放器视图控制器并开始播放，但是当我按下并从专辑中选择另一首歌曲时，上一首歌曲并没有停止，它仍然在选择新歌曲时播放。现在新选择的歌曲推送到另一个音频播放器实例并播放。而先前选择的歌曲也随之播放。并且对于每个选择的歌曲，都会推送一个新的音频播放器实例，并且所有选择的歌曲都会一起播放。我的专辑控制器具有它的选择行代码如下`tableview``viewcontroller``AlbumViewController``viewcontroller``viewcontroller``tableview`

```
 viewContObj=[[ViewController alloc]initWithNibName:@"ViewController" bundle:nil];  //viewcontroller=audio player controller
   [self.navigationController pushViewController:viewContObj animated:YES];
   viewContObj.url =[NSURL URLWithString:albumURLstring];
  [viewContObj playLiveStream:nil]; 
```

音频播放器的播放方法如下。

```
 -(IBAction)playLiveStream:(id)sender

{ if ( ![streamer isPlaying] )

{   [self createStreamer];
    [self setButtonImageNamed:@"loadingbutton.png"];
    [streamer start];
}
else
{   [self setButtonImageNamed:@"play.png"];
    [streamer pause];
}} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:55:13.927

对 ViewController 使用单例实例并尝试这样

在 ViewController 中创建单例实例

```
 - (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
        {
            self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
            if (self) {
                // Custom initialization
            }
            return self;
        }

//1\. Customize singletone 

        -(id)initWithCustomDetails:(NSString *)customDetails
        {
            self = [super init];
            if(_sharedMySingleton)
            {
                [_sharedMySingleton.view removeFromSuperview];
                _sharedMySingleton = nil;
            }
            _sharedMySingleton = self;

            return self;
        }

2\. exact singletone method for creating instance

 +(ViewController *) getViewControllerInstance
{
    @synchronized([ViewController class])
    {
        if (!_sharedMySingleton)
        {
            _sharedMySingleton = [[self alloc] init];

        }
        return _sharedMySingleton;
    }
    return nil;
} 
```

创建实例时使用

1.  viewContObj=[[ViewController alloc]initWithCustomDetails:@"details"];

而不是这种方法

```
viewContObj=[[ViewController alloc]initWithNibName:@"ViewController" bundle:nil]; 
```

//精确的单例实例创建

1.  viewContObj = [ViewController getViewControllerInstance];

并尝试..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:14:28.557

推送后添加释放

```
viewContObj=[[ViewController alloc]initWithNibName:@"ViewController" bundle:nil];  
[self.navigationController pushViewController:viewContObj animated:YES];
viewContObj.url =[NSURL URLWithString:albumURLstring];
[viewContObj playLiveStream:nil];
[viewContObj release]; 
```

在 ViewController.m 中：

```
- (void)dealloc{
    [streamer stop];
    [streamer release];
    [super dealloc]; 
} 
```

好的？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T10:11:16.660

像这样在 .m 文件的`@interface`部分中放置一个 ivar

```
@property (strong, nonatomic) ViewController *playerView; 
```

在`viewDidLoad`方法 alloc init 中如下

```
playerView=[[ViewController alloc]initWithNibName:@"ViewController" bundle:nil]; 
```

并在`tableView: didSelectRowAtIndexPath:`方法中执行以下操作

```
playerView.url =[NSURL URLWithString:albumURLstring];
[playerView playLiveStream:nil];
[self.navigationController pushViewController:playerView animated:YES]; 
```

愿这能解决你的问题:)

# ios - presentViewController 在 iOS 6 中工作，但在 iOS 5 中不显示视图

> ID：15292578
> 
> 赞同：3
> 
> 时间：2013-03-08T11:08:53.950
> 
> 标签：ios, ipad

我开始为 iOS 6 开发我的应用程序并让它在那里工作，现在我必须确保它也支持 iOS 5.1，以便它可以在 iPad 1 上工作。移植非常简单，尽管只支持横向方向更多iOS 5 中的痛苦与 6 中的简单相比。我有一个无法解决的问题。

我有如下所示的起始屏幕布局，然后当您按下“执行”按钮时，它应该以模态方式呈现另一个视图控制器，全屏。这是父视图控制器中执行按钮调用的代码。

```
- (void)performButtonPressed:(UIImage *)notationImage {
    self.performViewController = [[YHPerformViewController alloc] initWithImage:notationImage
                                                               recordingService:self.performanceRecordingService];

    self.performViewController.modalPresentationStyle = UIModalPresentationFullScreen;
    self.performViewController.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;
    [self presentViewController:self.performViewController animated:YES completion:^{
        [self.performViewController startPerformance];
    }];
} 
```

在 iOS 6 中，这很好。在 iOS 5 中似乎调用了所有正确的代码：

*   正在呈现的视图控制器上的 loadView
*   shouldAutorotateToInterfaceOrientation - 我返回 YES
*   我的“startPerformance”方法被调用并做它的事情

但是，视图实际上并没有出现在屏幕上，并且与层次结构更高的视图控制器关联的所有视图都保留在屏幕上（顶部的形状和导航控件）。只有当前视图控制器的视图会淡出。更奇怪的是，在过渡期间，该视图在淡出时旋转了 90 度。我在下面包含了一个屏幕截图。如果我将 modalPresentationStyle 更改为 UIModalPresentationFormSheet，除了我的全尺寸视图不合适的预期问题之外，它还可以工作。

有什么想法吗？

起始布局： ![开始画面布局](../Images/4ff36f05e7d1a6184c5b8ad1e961b308.png)

过渡期间子视图的奇怪旋转。整个屏幕也应该淡出，而不仅仅是一个视图： ![过渡期间子视图的奇怪旋转](../Images/fa183dbbe0482e4c45f3b9807273314c.png)

在 iOS 6 中预期会发生什么以及做什么。 ![在 iOS 6 中预期会发生什么以及做什么](../Images/6b2856c6a173e704947df6fec6ce39d8.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T13:18:35.507

我想出了一个解决这个问题的hack。但我很想找到一个真正的解决方案。

我的解决方案是将 modalPresentationStyle 更改为 UIModalPresentationFormSheet。然后使用[如何调整 UIModalPresentationFormSheet 的大小中描述的 hack 的变体？](https://stackoverflow.com/questions/2457947/how-to-resize-a-uipresentationformsheet/4271364#4271364)使表单成为所需的大小。

```
- (void)performButtonPressed:(UIImage *)notationImage {
    self.performViewController = [[YHPerformViewController alloc] initWithImage:notationImage
                                                               recordingService:self.performanceRecordingService];

    // This is a bit of a hack. We really want a full screen presentation, but this isn't working under iOS 5.
    // Therefore we are using a form sheet presentation and then forcing it to the right size.
    self.performViewController.modalPresentationStyle = UIModalPresentationFormSheet;
    self.performViewController.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;
    [self presentViewController:self.performViewController animated:YES completion:^{
        [self.performViewController startPerformance];
    }];
    self.performViewController.view.superview.bounds = self.performViewController.preferredBounds;
} 
```

这需要将视图控制器呈现给“preferredBounds”属性并将其包含在其 loadView 方法中。

```
- (void)loadView {

    … // Usual loadView contents

    // Part of the hack to have this view display sized correctly when it is presented as a form sheet
    self.preferredBounds = self.view.bounds;
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-08T12:31:26.900

`[self presentViewController:self.performViewController animated:YES completion:nil]` 仅适用于 iOS 6+ 版本。

你必须`[self presentModalViewController:controller animated:YES];`在

# chef-infra - 从字符串生成文件而无需在 Chef 中创建模板文件？

> ID：15292579
> 
> 赞同：19
> 
> 时间：2013-03-08T11:08:56.890
> 
> 标签：chef-infra

我目前在食谱中使用此代码：

```
template "/var/django/.ssh/id_rsa" do
    source "id_rsa.erb"
    owner "django"
    group "django"
    variables :key => ssh_key
    mode 00600
end 
```

看起来`id_rsa.erb`是这样的：

```
<%= @key %> 
```

我想知道是否可以避免使用模板，而只需从字符串中生成文件。可能是这样的：

```
file_from_string "/var/django/.ssh/id_rsa" do
    source ssh_key
    owner "django"
    group "django"
    mode 00600
end 
```

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-03-08T12:32:23.613

使用[`file`](https://docs.chef.io/resource_file.html)资源并将文件内容指定给`content`属性。

在您的情况下，这将导致类似于以下的资源定义：

```
file "/var/django/.ssh/id_rsa" do
  content ssh_key
  owner "django"
  group "django"
  mode 00600
end 
```

# c# - 直接访问是否需要 DBSet？

> ID：15292581
> 
> 赞同：1
> 
> 时间：2013-03-08T11:08:58.543
> 
> 标签：c#, entity-framework, dbcontext, dbset

我很确定我已经知道答案，但我需要其他人确认。问题涉及在实体框架中使用 DbSet：代码优先。（使用 C#）

让我们以这些小类为例：

```
class TopClass
{
    Public List<ExampleA> ListOne {get; set;}
    Public List<ExampleB> ListTwo {get; set;}

    //Other contents ...
}

class ExampleA
{
    Public List<ExampleC> ListTree {get; set;}

    //Other contents ...
}

class ExampleB
{
    //Contents ...
}

class ExampleC
{
    //Contents ...
} 
```

所以 TopClass 有名为 ExampleA 和 ExampleB 的类的列表，而 ExampleA 有一个 ExampleC 的列表。

从 DbContext 继承的类可能是这样的：

```
class ExampleContext : DbContext
{
    public DbSet<TopClass> TopClasses {get; set}

    //Other contents..
} 
```

Cuttently，只有 DbSet 是 TopClass 的一个。Topclasses的对象可以保存到数据库中，ExampleA、ExampleB和ExampleC的对象被放入TopClass-objects/ExampleA-object的列表中，也将被保存到数据库中。如果我从数据库中加载 TopClass 对象，列表中的所有其他对象也将被加载。换句话说，我可以通过 TopClass 的对象访问已保存到数据库中的其他对象。

现在有一个问题，我一直在与我的一位同事讨论：
如果我想直接访问 ExampleA 的对象，而无需加载 TopClass 对象和所有其他相关对象（也无需使用 SQL 编码或 lambda-表达式），我是否需要 ExampleA 的 DbSet？或者是否可以减少 DbSet 的负载以仅包含我想要的对象？如果是，是否甚至可以在不加载 TopClass 的情况下加载 ExampleA 的对象？

我认为有些答案是显而易见的。我自己相信必须有一个 DbSet 来直接访问数据库中该类的对象，而不必加载 TopClass 对象。但是，我需要知道，而不是相信，所以我要求您确认或否定（？）我的信念。至于到目前为止我在 Internet 上和一些文献中读到的内容，在几个课程中使用 DbSet 向我强调了有效的编码，但不是什么是可能的和不可能的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:54:36.530

假设存在以下代码：

```
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
    modelBuilder.Configurations.Add(new TopClassMap());
    modelBuilder.Configurations.Add(new ExampleAMap());
    modelBuilder.Configurations.Add(new ExampleBMap());
    modelBuilder.Configurations.Add(new ExampleCMap());
    // ....
} 
```

您可以使用以下方式访问每个：

```
ExampleContext context = new ExampleContext();
var a = context.Set<TopClass>();
var b = context.Set<ExampleA>();
var c = context.Set<ExampleB>();
// etc 
```

您不需要声明特定（或实际上任何）`DbSet`的

# php - 在不使用 SSL 的情况下散列密码的最佳实践

> ID：15292586
> 
> 赞同：0
> 
> 时间：2013-03-08T11:09:20.570
> 
> 标签：php, javascript, passwords, security

我知道这个问题听起来可能已经回答了，但请和我在一起。我有一个需要用户注册和登录的网站。在这个过程中，让我们注册用户将提供用户名和密码，系统将检查信息，然后 POST 给自己，以便 PHP 脚本进行加盐和哈希将密码存储在数据库中之前。

现在我认为这是安全的，加盐和散列密码始终是最佳实践，但最近我想到这是如何发生的，数据必须先发送到服务器才能进行散列处理，因为我不使用 SSL用户名和密码是未加密发送的，所以我假设这些信息将以纯文本形式发送是否正确？

如果是这样，这根本不好。所以我能看到的唯一两种方法是：

1.  使用 SSL 并保护用户和服务器之间的连接并加密正在发送的数据。

2.  在信息离开用户之前散列信息，这可以使用 Javascript 完成

我想实施第二个，但我不确定如何做到这一点。对此的最佳做法是什么？

在发送信息之前，我在想一个 AJAX 脚本将控制数据并首先检查信息是否是我们正在寻找的信息，然后对信息进行加盐和哈希处理。

我描述的这个实现是否有任何安全隐患？

谢谢你的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:28:34.003

您可能对[安全远程密码协议](https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol)感兴趣。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:31:31.817

> 使用 SSL 并保护用户和服务器之间的连接并加密正在发送的数据。

是的，这样做。

> 在信息离开用户之前散列信息，这可以使用 Javascript 完成

这不会保护数据。相反，它将有效地将要发送到服务器的秘密数据更改为密码的散列版本。这仍然会以纯文本形式发送，攻击者可以嗅探它并确切知道要发送什么。

# java - 为什么这个浮点文本值可以解析为双精度值？

> ID：15292588
> 
> 赞同：6
> 
> 时间：2013-03-08T11:09:24.370
> 
> 标签：java, try-catch, numberformatexception

有谁知道为什么下面的代码片段没有抛出一个`NumberFormatException`？

```
public class FlIndeed { 

   public static void main(String[] args) { 
      System.out.println(new FlIndeed().parseFloat("0xabcP2f"));
   }

   public float parseFloat(String s) { 

      float f = 0.0f;
      try { 
         f = Float.valueOf(s).floatValue();
         return f;
      }
      catch (NumberFormatException nfe) { 
         System.out.println("Invalid input " + s); 
      }
      finally {
         System.out.println("It's time to get some rest");
         return f; 
      }  
   }
} 
```

注意里面有个P`.parseFloat("0xabcP2f"));`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-08T11:13:58.403

因为它确实接受十六进制值并且您传递的是有效的十六进制值。

来自[**Doc**](http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html#valueOf%28java.lang.String%29)（s = 输入字符串参数）

> s 应构成一个 FloatValue，如词法语法规则所述：
> 
> ```
>  FloatValue:
>         Signopt NaN 
>         Signopt Infinity 
>         Signopt FloatingPointLiteral 
>         Signopt HexFloatingPointLiteral 
>         SignedInteger 
> 
>     HexFloatingPointLiteral:
>         HexSignificand BinaryExponent FloatTypeSuffixopt 
> 
>     HexSignificand:
>         HexNumeral 
>         HexNumeral . 
>         0x HexDigitsopt . HexDigits 
>         0X HexDigitsopt . HexDigits 
> 
>     BinaryExponent:
>         BinaryExponentIndicator SignedInteger 
> 
>     BinaryExponentIndicator:
>         p 
>         P 
> ```

关于`NumberFormatException`抛出`valueOf`

> 其中 Sign、FloatingPointLiteral、HexNumeral、HexDigits、SignedInteger 和 FloatTypeSuffix 在 Java 语言规范的词法结构部分中定义。如果 s 不具有 FloatValue 的形式，则抛出 NumberFormatException。

关于 p 在十六进制中的使用：[P 在常量声明中](https://stackoverflow.com/questions/8603232/p-in-constant-declaration)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T11:16:02.837

```
 System.out.println(new FlIndeed().parseFloat("0xabcP2f")); 
```

0xabcP2f 是一个 HexSignificand 值，对于 Float.valueOf("0xabcP2f") 是合法的。所以它不会抛出任何异常

有关详细信息，请查看此 [http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html#valueOf%28java.lang.String%29](http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html#valueOf%28java.lang.String%29)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T11:13:51.217

[http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html](http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html)

> 如果 m 是具有标准化表示的浮点值，则使用子字符串来表示有效数字和指数字段。有效数字由字符“0x1”表示。后跟小写十六进制表示的有效数字的其余部分作为分数。除非所有数字都为零，否则十六进制表示中的尾随零被删除，在这种情况下使用单个零。**接下来，指数由“p”表示，后跟无偏指数的十进制字符串，**就好像通过对指数值调用 Integer.toString 产生的一样。

所以它用于表示您输入的十六进制字符串中的指数，它是十六进制字符串的完全合法部分，因此没有解析错误，也没有`NumberFormatException`抛出。

# javascript - 枚举 Flash 外部接口 javascript

> ID：15292590
> 
> 赞同：2
> 
> 时间：2013-03-08T11:09:34.097
> 
> 标签：javascript, flash

是否可以在 javascript 或第三方 flash 包装器中枚举所有 flash 外部接口？

如果是，那么该怎么做？

我想要做的是从 flash 对象中获取所有外部接口，并找到我需要的那个。我无权访问 Flash 对象源代码。我想知道它是否可能以及如何。

此外，这不仅适用于单个 Flash 对象，还适用于任何网站中的任何 Flash 对象。我到底想要做的是知道哪些命令支持使用外部接口使用javascript调用它们的flash player，或者如何实现类似的任务？

# c# - 如何使用 HTTPWebRequest 或 Webclient 调用 Rest WCF 服务？

> ID：15292595
> 
> 赞同：-2
> 
> 时间：2013-03-08T11:09:44.633
> 
> 标签：c#, wcf, rest, httpwebrequest, webclient

嗨我已经创建了 WCF 服务，服务合同和数据合同粘贴在下面

```
[ServiceContract]
public interface IRestWithXML
{
    [OperationContract]
    [WebInvoke(Method = "Post", UriTemplate = "DoWork", RequestFormat=                WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]
    string DoWork(Test objtest);

    [OperationContract]
    [WebInvoke(Method = "Post", UriTemplate = "Method?test={strtest}", BodyStyle = WebMessageBodyStyle.Wrapped, RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]
    string Method(Test objtest,string strtest);

}          

[DataContract]
public class Test
{
    [DataMember]
    public string id { get; set; }
} 
```

我应该如何在 .NET 中测试这些服务。我可以通过将方法 "Post" 更改为 "GET" 来测试这些方法。

但我必须使用 "Post" 测试这些服务。请指导我

提前致谢 ！！！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:36:18.733

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:12:32.853

只需将方法设置为“POST”。 [http://msdn.microsoft.com/en-US/library/system.net.httpwebrequest.method.aspx](http://msdn.microsoft.com/en-US/library/system.net.httpwebrequest.method.aspx)

```
var myWebRequest = new HTTPWebRequest();
myWebRequest.Method = "POST" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:20:59.083

要测试 POST 请求，您必须更改代码中的一些内容：

```
[OperationContract]
[WebInvoke(Method = "POST", UriTemplate = "DoWork", RequestFormat=WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]
string DoWork(Stream objtest); 
```

您将参数设置为 Stream。

在 DoWork(Stream objtest) 的实现中：

```
public string DoWork(Stream objtest)
{
     StreamReader sr = new StreamReader(stream);
     string s = sr.ReadToEnd();
     sr.Dispose();
     NameValueCollection collection = System.Web.HttpUtility.ParseQueryString(s);
     return collection.ToString();
} 
```

要测试您的请求，您必须使用 REST 客户端（Fiddler？），并且您的正文内容将在集合中。

如果要在 C# 中创建请求：

```
string body ="&key1=value1&key2=value2";
HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);
request.Method = "POST";

using (StreamWriter writer = new StreamWriter(request.GetRequestStream()))
{
    writer.Write(body);
}

HttpWebResponse response = (HttpWebResponse)request.GetResponse(); 
```

# php - 如何将帖子值创建为会话数组？

> ID：15292602
> 
> 赞同：1
> 
> 时间：2013-03-08T11:09:58.890
> 
> 标签：php, session, session-variables

如何创建帖子值作为会话数组将会话传递到其他页面？我正在处理一个代码，当我回显时它只显示`Array`在其他页面上`$_SESSSION['size'];`？

**这是我的两个功能：**

```
 $size = array('size');
 $_POST['size']; 
 $_SESSION['size'] = array();
 foreach ($size as $key)
 {
     if (isset($_POST[$key]))
     {
         $_SESSION['size'][$key] = $_POST[$key];
     }
 }

$size=$_POST['size'];
$max= count($_POST['size']);
for($i=0; $i<$max; $i++)
{
    $_SESSION['size']= $_POST['size'];
} 
```

**这两个功能都只显示`Array`在其他页面上......**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:17:35.237

当您`echo $_SESSION['size']`显示它时`Array`，因为它是一个数组，而不是单个值。如果要检查值，请使用以下构造：

```
foreach($_SESSION['size'] as $key=>$val) {
    echo $key . '=>' . $val . '<br />';
} 
```

代替

回声 $_SESSION['size'];

您还可以使用：

```
var_dump($_SESSION['size']); 
```

或者

```
print_r($_SESSION['size']); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T14:10:04.660

在第一页上简单地存储值：

```
$_SESSION['size'] = $_POST['size']; 
```

现在，如果您的 POST 仅包含一个值 for `size`，您只需使用以下命令：

```
echo $_POST['size'];

// or this:
some_function($_POST['size']); 
```

但是，如果您的 POST 确实有一个值数组`size`（这是可能的），那么您的会话中也会有一个数组。然后你需要一个简单的循环：

```
foreach ($_SESSION['size'] as $size) {
  echo $size;

  // or this:
  some_function($size);
} 
```

处理这两种情况的组合代码：

```
if (is_array($_SESSION['size'])) {
  foreach ($_SESSION['size'] as $size) {
    echo $size;

    // or this:
    some_function($size);
  }
} else {
  echo $_SESSION['size'];

  // or this:
  some_function($_SESSION['size']);
} 
```

# php - 如何在opencart的左侧创建类别和子类别？

> ID：15292603
> 
> 赞同：1
> 
> 时间：2013-03-08T11:10:04.187
> 
> 标签：php, opencart

我是初学者。`open-cart`我目前在 open-cart 中使用**web2print** 扩展。我需要在左侧创建类别和子类别。我已经通过管理面板在左侧显示类别菜单，但我需要创建显示类别和子类别左侧栏中的类别以类似的方式。

```
 <div class="box clsLeft_menu">
  <div class="box-heading">Some of our specialties:</div>
  <div class="box-content">
    <ul class="box-category">
      <?php foreach ($categories as $category) { ?>
      <li>
        <?php if ($category['category_id'] == $category_id) { ?>
        <a href="<?php echo $category['href']; ?>" class="active"><?php echo $category['name']; ?></a>
        <?php } else { ?>
        <a href="<?php echo $category['href']; ?>"><?php echo $category['name']; ?></a>
        <?php } ?>
        <?php if ($category['children']) { ?>
        <ul>
          <?php foreach ($category['children'] as $child) { ?>
          <li>
            <?php if ($child['category_id'] == $child_id) { ?>
            <a href="<?php echo $child['href']; ?>" class="active"> - <?php echo $child['name']; ?></a>
            <?php } else { ?>
            <a href="<?php echo $child['href']; ?>"> - <?php echo $child['name']; ?></a>
            <?php } ?>
          </li>
          <?php } ?>
        </ul>
        <?php } ?>
      </li>
      <?php } ?>
    </ul>
  </div>
</div> 
```

我想在 opencart 中显示类别和子类别。例子：

--主要类别

```
--sub 1
--sub 2
--sub 3 
```

--主要类别

```
--sub 1
--sub 2 
```

如何解决？请指导我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:39:40.067

搜索垂直手风琴菜单。有很多可用的插件，虽然不是直接用于 opencart，但可以轻松添加。

几个例子：

[http://visionwidget.com/jquery-accordion-slider-menu.html](http://visionwidget.com/jquery-accordion-slider-menu.html)

[http://www.designchemical.com/blog/index.php/jquery/jquery-tutorial-create-a-jquery-menu-slider/](http://www.designchemical.com/blog/index.php/jquery/jquery-tutorial-create-a-jquery-menu-slider/)

# jquery - Jquery find 不适用于 AJAX 返回数据

> ID：15292605
> 
> 赞同：3
> 
> 时间：2013-03-08T11:10:09.283
> 
> 标签：jquery, html, ajax

```
function openFaceBox(path) {
    $.ajax({
        type: "GET",
        url: path,
        success: function( data ) {
            $.facebox( data ); // data returns html
                    var tableHeight = $(data).find('table').height();
                    console.log( tableHeight ); // Output : 0 (Zero)
        }               
    }); 
} 
```

我的 AJAX 返回 html 如下：

```
<div id="holder-1">
    <h1>Content 1</h1>
</div>
<div id="holder-2">
    <h1>Content 2</h1>
</div>
<div id="holder-3">
    <h1>Content 3</h1>
</div>
<table>
    <tr>
        <td>abcd</td>
        <td>Some Text Here Some Text Here Some Text Here Some Text Here
            Some Text Here Some Text Here Some Text Here Some Text Here Some Text
            Here Some Text Here Some Text Here Some Text Here Some Text Here Some
            Text Here Some Text Here Some Text Here Some Text Here Some Text Here
            Some Text Here Some Text Here Some Text Here Some Text Here Some Text
            Here</td>
    </tr>
</table> 
```

我不知道为什么`.find()`不工作。基本上我想找到桌子的高度。任何困惑请告诉我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:17:05.350

使用`filter()`.

```
console.log($(data).filter('table')); 
```

假设这`data`是一个字符串`HTML`，你可以这样做：

```
$(data).find('table'); 
```

这将返回`table`而不将数据添加到`DOM`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T16:34:16.233

你需要做类似的事情

注册一个`reveal.facebox`事件处理程序

```
$(document).on('reveal.facebox', function(){
    var tableHeight = $('#facebox .content table').height();
    //Do whatever you want with the height
});

function openFaceBox(path) {
    $.ajax({
        type: "GET",
        url: path,
        success: function( data ) {
            $.facebox( data ); // data returns html
                    var tableHeight = $(data).find('table').height();
                    console.log( tableHeight ); // Output : 0 (Zero)
        }               
    }); 
} 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/aAubC/1/)

注意：
`$(data).find('table').height()`由于该元素尚未渲染到 dom，因此无法使用，因此该元素没有高度/宽度。一旦 facebox item 被渲染，facebox 就会触发一个`revleal.facebox`事件，并且 facebox 的内容默认渲染到`#facebox .content`element。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T16:17:15.067

我不知道 $.facebox() 是什么，但是在元素加载到 DOM 之前，您将无法找到元素的高度。这有点疯狂，但它应该让你达到你的身高。

```
 $('body').append($('<div>',{class:'faceboxHolder'}).css('left':'5000px', 'position':'absolute').append(data));    

    var tableHeight = $('.faceboxHolder').find('table').height();

    $('.faceboxHolder').remove(); 
```

# iphone - CocuchDB/TouchDB 是否旨在为 ios 应用程序提供离线/在线设置服务？

> ID：15292608
> 
> 赞同：0
> 
> 时间：2013-03-08T11:10:23.480
> 
> 标签：iphone, couchdb, 3-tier, offlineapps, touchdb

由于我对 CouchDB 的了解较少，我有点困惑。让我用简单的话解释一下。我正在开发一个 iphone 应用程序，我的客户可能会要求提供 android 版本。我使用 CouchDB 作为该应用程序的数据存储。

我们设计了一个后端，管理员可以在其中设置/更新信息。所有更新的信息都应复制到所有 iphone 设备。当我说从服务器复制到设备时，我并不是指从一个 iphone 设备复制到另一个设备。意味着更新的来源始终是服务器。

我的客户还希望如果可能的话，大部分功能都应该离线工作。为了使某些功能离线，客户端要求我使用 CouchDB 和 TouchDB（在 iphone 上），它们会自动同步。

根据我的说法，CouchDB 的设计目的不是为了达到这个目的，而是设计用于复制，这是分布式计算所需的，其中数据源不是一台服务器而是多台服务器。

使用 CouchDB/TouchDB 我面临很多问题。一个大问题是我的逻辑和 UI 实现是一起构建在我的 xcode 上的。如果明天我想开发 Android 应用程序，那么我必须在 android 语法中实现相同的逻辑。逻辑变化需要更新两个版本。如果客户明天要开发windows和BB版本，那就更令人沮丧了。

为了避免这种情况，我可以建议我的客户使用 3 层架构，我们将在其中构建一个中间件，并将我们的逻辑保留在那里。我们需要在应用程序级别开发的唯一工作是通过 WebService 从中间件获取数据并呈现 UI。

但在向我的客户提出建议之前，我想从专业知识中确认我的想法。我可能错了，因为我对 CouchDB 不太了解，也许 CouchDb 仅用于离线/在线设置。

请等待从专业知识到这里。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-09T01:29:09.943

我现在正在做类似的事情，所以我可以分享我的发现。

我们使用 BigCouch（由 Cloudant 管理的 CouchDB 的一个分支，提供 Couch 机器集群）来存储我们的数据，然后使用 iOS 版 TouchDB 将数据复制到移动设备。

我们已经能够让 TouchDB 与 BigCouch 一起工作，但在此过程中并非一帆风顺。TouchDB 利用了 CouchDB 中内置的现有复制功能并很好地处理了它。

根据我的经验，TouchDB 在离线模式下也能很好地工作。复制将在设备离线时从中断处继续。您还可以将 Touch 配置为进行推、拉或两者兼而有之，这很好。

真正的问题是您何时想要迁移到 Android。TouchDB Java 端口现在处于抱歉状态。它存在，但尚未准备好投入生产。事实上，就在本周，我在 Twitter 上看到他们正试图聘请某人来接管该项目。

即使 TouchDB 的 Java 端口已准备好投入生产，您是对的，您必须为 Android 重新编写代码。然后，无论您使用什么技术，情况都会如此。

# javascript - 从数组中随机选择一个值，但始终在 javascript 中将其拆分为 50/50

> ID：15292609
> 
> 赞同：0
> 
> 时间：2013-03-08T11:10:24.797
> 
> 标签：javascript, jquery, arrays

我有一组不会改变的硬编码名称。也只有 2 个值。

我需要遍历数组并随机选择一个值，但永远不要返回相同的值两次。

我目前的代码是：

```
var pick_url = new Array('url_1', 'url_2');
var picked_url_to_use = pick_url[Math.floor(Math.random() * pick_url.length)];
var base_url = picked_url_to_use;

console.log(base_url); 
```

这工作正常，但有时会多次返回相同的值。

任何人都可以帮助解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:22:23.887

如果您想知道返回了哪些值，可以选择两个常规选项：

您可以从数组中删除返回的项目`pick_url`，因此无法再返回。为此，请查看`splice`javascript 的功能：http: [//www.w3schools.com/jsref/jsref_splice.asp](http://www.w3schools.com/jsref/jsref_splice.asp)

您也可以只跟踪已在单独数组中返回的内容。然后，当您获得第二个 url 时，检查它是否已经发送过。如果有，请选择一个新的随机项目，然后重新检查。从理论上讲，如果您随机选择已经使用过的物品，这可能需要很长时间。

我会选择第一个选项，因为它更快并且不需要重复。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:56:38.607

```
var pick_url = ['url_1', 'url_2'];
var base_url = picked_url = pick_url.splice(Math.floor(Math.random() * pick_url.length), 1).join(); 
```

编辑：我不确定您是要始终返回 url_1 然后 url_2，还是要返回随机 URL，然后再返回另一个？

以下应返回一个随机 URL，然后在后续调用中返回下一个 URL：

```
function rurl() { var picked_url = pick_url.splice(Math.max(0, Math.floor(Math.random() * pick_url.length)), 1).join(); return picked_url; } 
```

如果您希望它始终返回 url_1，然后返回 url_2，请将 Math.max 更改为 Math.min，或者更好的是，只需执行 pick_url.splice(0, 1).join();

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:25:31.897

如果你真的总是在数组中有两个值：

```
var pick_url = new Array('url_1', 'url_2');
var random_index1 = Math.floor( Math.random() * 2 );
var random_index2 = Math.abs( random_index1 - 1 );

console.log( pick_url[ random_index1 ] );  // either url_1 or url_2
console.log( pick_url[ random_index2 ] );  // always the other url 
```

演示：http: [//jsfiddle.net/jGurr/](http://jsfiddle.net/jGurr/)

# php - 如何将每个学生的答案设置为单独的颜色

> ID：15292610
> 
> 赞同：1
> 
> 时间：2013-03-08T11:10:28.103
> 
> 标签：php

我有一套答案和学生答案。我想要做的是，对于每个问题，如果个别学生的答案与个别答案匹配，则以绿色显示个别学生的答案，如果个别学生的答案不在答案中，则以红色显示个别学生的答案。

例如：

例如：

```
Answer: B,C
Student Answer: B,D 
```

上述输出应将学生答案 B 显示为绿色，因为它与答案 B 匹配，但学生答案 D 应显示为红色，因为答案中没有 D。但是使用当前代码，它会将两个学生的答案都显示为红色。

如何解决这个问题？

下面的代码：

```
 if($questionData['answer'] == $questionData['studentanswer'])
{
    echo '<td width="30%" class="studentanswer green"><strong>'.htmlspecialchars($questionData['studentanswer']).'</strong></td>' . PHP_EOL;
    $check = true;
}
else
{
    echo '<td width="30%" class="studentanswer red"><strong>'.htmlspecialchars($questionData['studentanswer']).'</strong></td>' . PHP_EOL;
    $check = false;
} 
```

更新：

对上述示例执行以下操作：

```
print $questionData['answer'];
print $questionData['studentanswer']; 
```

我得到这个输出：

```
B,CB,D 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T13:24:46.853

`$questionData['answer'];`是一个内容为 'B,C' 的字符串。因此，您应该只比较字符串的一部分。同理，`$questionData['studentanswer']`也是一个字符串。您可以分解它们，然后逐个成员比较值。这应该可以解决问题。

```
$RealAn = explode (',', $questionData['answer']);
$StudedntAn = explode (',', $questionData['studentanswer']);

// This error is from the way $questionData['answer'] is formatted.
// 'D,A,,C' should also work but 'D, A,B,C' won't
if (count($RealAn) != count($StudedntAn))
  echo "There was a problem with your answers.";

// Apparently you only want a row of the table with all the results, outside the loop
echo '<td width="30%" class="studentanswer"><strong>';

// Initialize the checking parameter as not null (so it's safe to use it later)
$check = TRUE;

// Iterate for as many array members as there is
for ($i = 0; $i < count ($StudentAn); $i++)
  {
  // Save what kind this particular member is
  $class = ($RealAn[$i] == $StudentAn[$i]) ? 'green' : 'red';

  // Display each member with the color previously associated to it
  echo '<span class = "' . $class . '">' . htmlspecialchars($StudentAn[$i]) . '</span>';

  if ($i != count($StudentAn)-1)
    echo ', ';

  // If only one of the members is not the same, $check will be false
  if ($class == 'red')
    $check = FALSE;
  }

echo '</strong></td>'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T13:18:05.187

试试这个

```
 <head>
  <style>
          .red{color:red;}
          .green{color:green;}
  </style>
  </head>

<?php
  echo GetAns("B D C","B C D F");

function GetAns($ans,$stuAns)
{
    $arr_ans=explode(" ", $ans);
    $arr_stu_ans=explode(" ",$stuAns);
    $str="";
    for($cnt=0;$cnt<count($arr_stu_ans);$cnt++)
    {
        $stu_ans= $arr_stu_ans[$cnt];
        if(in_array($stu_ans,$arr_ans))
            $class="green";
        else
            $class="red";
        $str.="<span class='$class'> $stu_ans </span> ";
    }
    return $str  ;

}

?> 
```

# javascript - 是否可以一次获取图像数据并在特定位置之后提取数据？

> ID：15292616
> 
> 赞同：1
> 
> 时间：2013-03-08T11:11:07.717
> 
> 标签：javascript, image, html, canvas

为了从特定坐标的图像中获取颜色，我使用了这个答案[get-pixel-color-from-canvas-on-mouseover](https://stackoverflow.com/questions/6735470/get-pixel-color-from-canvas-on-mouseover)。但是，在 Microsoft 第 56 页的[Powerpoint](http://view.officeapps.live.com/op/view.aspx?src=http://files.ch9.ms/mix/2011/ppt/htm03.pptx)上，它说 getImageData 必须使用一次，因为来自显卡的调用非常密集。他们举了一个例子如何做到这一点，但它是为了分析整个画面而制作的。

有没有办法只使用一次 getImageData，然后只分析来自特定 x 和 y 坐标的数据，就像我说的 5 个随机位置一样？

编辑：为了检查每个像素的例子：

```
var imageData = ctx.getImageData(0, 0, width, height);
var inputData = imageData.data;

for(var y = 0; y < height; y++) {
    for (car x = 0; x <width; x++) {
       var r = inputData[i+0];
var g = inputData[i+1];
var b = inputData[i+2]; 
```

但我想要的是它确实像下面一样，但是在外面有 imageData：我怎样才能读取包含我想要的位置的数组？因为括号里的数字是颜色值类型（r,g,b）

```
for (var i=0; i<slider; i++)
{
    var objectx = position.getX();
    var objecty = position.getY();
    var imageData = context.getImageData(objectx, objecty, 1, 1).data; 
    var hex = "#" + ("000000" + rgbToHex(p[0], p[1], p[2])).slice(-6);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T17:26:28.957

很容易看到以下内容。

**[现场演示](http://jsfiddle.net/loktar/kjN9f/)**

```
var imageData = ctx.getImageData(0, 0, width, height);
var inputData = imageData.data; 

var pData = (~~objectx + (~~objecty * width)) * 4;
var r = inputData[pData],
    g = inputData[pData + 1],
    b = inputData[pData + 2],
    a = inputData[pData + 3]; 
```

`~~`只是一种更快的方法`Math.floor`。其余的应该是非常不言自明的。只需更改`objectx`, 并更改`objecty`为您需要的任何值并继续检查`inputData`，只要图像没有更改，就无需`getImageData`再次更改。

# php - 大括号中 youtube 视频的 PHP 更改代码

> ID：15292621
> 
> 赞同：0
> 
> 时间：2013-03-08T11:11:28.290
> 
> 标签：php, regex, joomla, youtube

我有一个 Joomla 网站，其中包含用于加载插件并包含来自 Youtube 的视频的代码。

```
{youtube width="640" height="420"}kHRf01Gjosk{/youtube} 
```

问题是这段代码是为 Joomla 1.5 准备的，现在我已经将我的网站升级到 Joomla 2.5 并且该插件停止工作并且创建者不会将其升级到 2.5，所以我想如果我安装另一个使用非常相似代码的插件，我可以使它与正则表达式一起工作。

新插件支持这种代码：

```
{youtube}kHRf01Gjosk|640|420{/youtube}, or {youtube}kHRf01Gjosk{/youtube} 
```

我是一个复杂的正则表达式的白痴，所以如果有人能提供帮助，我将不胜感激！

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:34:36.367

做了一些改变后没关系，我想通了......感谢纽本的所有帮助！

# multithreading - 多线程能提高性能吗？如何？

> ID：15292626
> 
> 赞同：12
> 
> 时间：2013-03-08T11:11:48.270
> 
> 标签：multithreading, performance, cpu-speed

我听到每个人都在谈论多线程如何提高性能。我不相信这一点，除非我错过了什么。如果我有一个包含 100 个元素的数组并遍历它需要 6 秒。当我在两个线程之间分配工作时，处理器将不得不经历相同数量的工作和时间，除了它们同时工作但速度减半。多线程不应该让它更慢吗？既然您需要额外的说明来划分工作？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-08T11:18:07.610

对于迭代 100 个元素的多线程简单任务，该任务不会提供性能优势。

迭代超过 1000 亿个元素并对每个元素进行处理，然后使用额外的 CPU 可能有助于减少处理时间。例如，更复杂的任务可能会因 I/O 而导致中断。当一个线程正在休眠等待外围设备完成 I/O（例如磁盘写入或键盘按键）时，其他线程可以继续工作。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-08T13:02:22.197

对于处理器中有多个内核的 CPU 密集型任务，您可以在每个处理器内核上划分工作。如果您有两个内核，请将工作拆分为两个线程。这样你就必须让线程全速工作。但是创建线程确实很昂贵，因此您需要相当大的工作量来克服创建线程的初始成本。

您还可以使用线程来提高交互式应用程序中的显示性能（或响应能力）。您在后台线程上运行大量计算以避免阻塞 UI 交互。您的计算并没有更快地完成，但是您的应用程序没有那些使其看起来缓慢且无响应的“挂起”。

# android - Logcat 不适用于我的新三星 Galaxy Note

> ID：15292628
> 
> 赞同：1
> 
> 时间：2013-03-08T11:11:54.713
> 
> 标签：android, eclipse

在我的 logcat 中，我收到以下消息：

```
?:??: W/?(?): Unable to open log device '/dev/log/main': No such file or directory 
```

通过eclipse在我的Galaxy Note中运行我的应用程序后，我正确地运行了它，但我的logcat中没有任何日志。

我也在我的 Macbook Pro 中运行 Eclipse（我不知道这些信息是否有帮助）。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:26:39.107

手机是在运行自定义构建还是您已植根？尝试此相关线程中的解决方案 - [“无法打开日志设备'/dev/log/main'：没有这样的文件或目录”](https://stackoverflow.com/questions/6941710/unable-to-open-log-device-dev-log-main-no-such-file-or-directory)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:18:42.897

如果选择您的设备不起作用，请尝试从命令行运行 eclipse -clean。它应该完成这项工作。

# java - JSlider：在拖动过程中不能使旋钮在最近的刻度上移动

> ID：15292631
> 
> 赞同：5
> 
> 时间：2013-03-08T11:11:58.113
> 
> 标签：java, swing, jslider

如标题所述，我制作了一个简单的 JSlider，并成功设置了最小值和最大值以及较小的刻度间距，然后将“setSnapToTicks”设置为 true。那部分没问题，当用户释放鼠标时，我的旋钮会移动到最近的刻度，这再简单不过了。

但是现在我想在不释放鼠标的情况下获得这种效果，旋钮必须逐个滴答地移动而不注意这些滴答声之间的值，我希望它只在滴答声值上“跳跃”。我刚刚进行了很多搜索，但没有找到答案，我只是听说“setExtent”，它应该设置我正在搜索的那种步骤，但经过一些调试后它没有工作。这是我对 JSlider 的简单声明：

```
sliderFlightLevel = new JSlider();
sliderFlightLevel.setValue(100);
sliderFlightLevel.setMinorTickSpacing(100);
sliderFlightLevel.setMinimum(100);
sliderFlightLevel.setMaximum(50000);
GridBagConstraints gbcSliderFlightLevel = new GridBagConstraints();
gbcSliderFlightLevel.gridwidth = 3;
gbcSliderFlightLevel.insets = new Insets(0, 10, 5, 10);
gbcSliderFlightLevel.fill = GridBagConstraints.HORIZONTAL;
gbcSliderFlightLevel.gridx = 0;
gbcSliderFlightLevel.gridy = 1;
mainPanel.add(sliderFlightLevel, gbcSliderFlightLevel); 
```

感谢阅读，希望能得到帮助：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:29:28.383

我认为这种行为是由组件（`SliderUI`）的 UI 委托控制的。您可以尝试另一种外观，也可以尝试配置您使用的外观。

您还可以在组件上安装另一个 UI 委托。

请参阅这个[自定义摆动组件行为的真实示例](http://today.java.net/pub/a/today/2007/02/22/how-to-write-custom-swing-component.html)。

**编辑**

我想出了一个丑陋的黑客来完成这项工作。此代码完全依赖于类的实现细节`BasicSliderUI`（大多数外观都使用它）。

```
import java.awt.event.MouseEvent;
import java.awt.event.MouseMotionListener;
import javax.swing.JSlider;
import javax.swing.plaf.metal.MetalSliderUI;

public class MetalSnapSliderUI extends MetalSliderUI {

    private MouseMotionListener myMouseMotionListener = new MouseMotionListener() {

        public void mouseDragged(MouseEvent e) {
            trackListener.mouseDragged(e);
            calculateThumbLocation();
            slider.repaint();
        }

        public void mouseMoved(MouseEvent e) {
            trackListener.mouseMoved(e);
        }

    };

    @Override
    protected void installListeners(JSlider slider) {
        super.installListeners(slider);
        slider.removeMouseMotionListener(trackListener);
        slider.addMouseMotionListener(myMouseMotionListener);
    }

    @Override
    protected void uninstallListeners(JSlider slider) {
        super.uninstallListeners(slider);
        slider.removeMouseMotionListener(myMouseMotionListener);
    }

} 
```

您需要在 JSlider 上安装此 UI：

```
 JSlider s = new JSlider();
    s.setUI(new MetalSnapSliderUI()); 
```

# asp.net-mvc - MVC4 和 Web API 中的自定义授权

> ID：15292634
> 
> 赞同：0
> 
> 时间：2013-03-08T11:12:08.457
> 
> 标签：asp.net-mvc, authorization

我对 MVC4 中的自定义授权感到困惑。我已经实现了一个运行良好的自定义安全属性（基于 System.Web.Mvc.AuthorizeAttribute），现在我开始使用 web api 扩展我的项目。但是，web api 似乎需要使用 System.Web.Http.AuthorizeAttribute (?)。

我不能对 web api 和标准 mvc 页面使用相同的授权吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:15:07.150

简单地说：不，你不能。这些系统是分开制作的。微软将来可能会合并这些。

# java - 我的 UPDATE SQL 语句 Java 出了什么问题

> ID：15292635
> 
> 赞同：-1
> 
> 时间：2013-03-08T11:12:08.753
> 
> 标签：java, sql, prepared-statement

```
String insert = "UPDATE PPN_WORKFLOW SET P1_F_Date = ?, SET P1_Completed = ?, SET C2_S_Date = ? WHERE ERF_No = ?";
            stmt = conn.prepareStatement(insert);
            stmt.setDate(1, date);
            stmt.setInt(2, 1);
            stmt.setDate(3, date);
            stmt.setInt(4, erf_no);
            stmt.executeUpdate(); 
```

我正在尝试更新声明，但收到此错误

```
java.sql.SQLException: [Microsoft][ODBC Microsoft Access Driver] Syntax error in UPDATE statement.
at sun.jdbc.odbc.JdbcOdbc.createSQLException(JdbcOdbc.java:6956)
at sun.jdbc.odbc.JdbcOdbc.standardError(JdbcOdbc.java:7113)
at sun.jdbc.odbc.JdbcOdbc.SQLExecute(JdbcOdbc.java:3148)
at sun.jdbc.odbc.JdbcOdbcPreparedStatement.execute(JdbcOdbcPreparedStatement.java:215)
at sun.jdbc.odbc.JdbcOdbcPreparedStatement.executeUpdate(JdbcOdbcPreparedStatement.java:137)
at Mails.MailtoERF.check(MailtoERF.java:60)
at Mails.MailtoERF.main(MailtoERF.java:122) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:13:06.630

你不能那样设置。你需要改变语法。一次 SET 就足够了

```
UPDATE PPN_WORKFLOW SET P1_F_Date = ?, P1_Completed = ?..... where condition 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T11:13:36.513

每个列名都有一个`SET`，您只需要用逗号分隔列并且只使用`SET`一次，请参见[此处](http://www.w3schools.com/sql/sql_update.asp)的语法：

```
UPDATE table_name
SET column1=value, column2=value2,...
WHERE some_column=some_value 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T11:13:00.353

您不需要`SET`每列：

[**MySQL 更新语法**](http://dev.mysql.com/doc/refman/5.0/en/update.html)：

```
UPDATE [LOW_PRIORITY] [IGNORE] table_reference
    SET col_name1={expr1|DEFAULT} [, col_name2={expr2|DEFAULT}] ...
    [WHERE where_condition]
    [ORDER BY ...]
    [LIMIT row_count]

String insert = "UPDATE PPN_WORKFLOW SET P1_F_Date = ?, P1_Completed = ?,  
C2_S_Date = ? WHERE ERF_No = ?"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:21:11.633

您的 Sql Update 语句语法错误。请放`'SET' for each column in the query, you only do it at the first column`

**将其更改为**

```
String insert = "UPDATE PPN_WORKFLOW SET P1_F_Date = ?, P1_Completed = ?, C2_S_Date = ? WHERE ERF_No = ?";
            stmt = conn.prepareStatement(insert);
            stmt.setDate(1, date);
            stmt.setInt(2, 1);
            stmt.setDate(3, date);
            stmt.setInt(4, erf_no);
            stmt.executeUpdate(); 
```

这是供您参考的[语法](http://dev.mysql.com/doc/refman/5.0/en/update.html)

# c++ - Doxygen 是否支持分支或 C/C++ 预处理器

> ID：15292641
> 
> 赞同：6
> 
> 时间：2013-03-08T11:12:29.893
> 
> 标签：c++, c, doxygen

这听起来像是一个科幻功能请求，但我想知道 Doxygen 是否具有以下两个功能中的任何一个：

1.  在预处理器运行输入文件后生成调用/调用者图。例子：

    ```
    #define MULTITHREADING 1 
    ```

    然后根据是否`MULTITHREADING` 启用启用或禁用代码块。

2.  用图形箭头描述*调用的确定性*......例如，如果函数并不总是被调用（也就是它在一个分支中，或者在调用函数之前你有可能），则为虚线`return`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T16:01:46.963

1.  Doxygen[预处理](http://www.doxygen.nl/manual/preprocessing.html)：

    > 用作 doxygen 输入的源文件可以由 doxygen 的内置 C 预处理器解析。
    > 
    > 默认情况下，doxygen 只进行部分预处理。也就是说，它评估条件编译语句（如#if）并评估宏定义，但它不执行宏扩展。

2.  [协作图](http://www.doxygen.nl/manual/config.html#cfg_collaboration_graph)：

    > 如果 COLLABORATION_GRAPH 和 HAVE_DOT 标签设置为 YES，则 doxygen 将为每个文档类生成一个图表，显示该类与其他文档类的直接和间接实现依赖关系（继承、包含和类引用变量）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-08T11:55:46.623

对于第一项，您需要[`ENABLE_PREPROCESSING`](http://www.doxygen.nl/manual/config.html#cfg_enable_preprocessing)在`Doxyfile`.

对于第二个，老实说，我不知道，但如果确实如此，我会感到非常惊讶。我认为这需要一个完整的 C/C++ 编译器来确定这些事情。

# mysql - 在终端 ubuntu 中查看数据库的详细信息

> ID：15292644
> 
> 赞同：0
> 
> 时间：2013-03-08T11:12:34.867
> 
> 标签：mysql, ssh, terminal

我想查看数据库详细信息，例如访问此数据库的用户或 mysql、ssh 终端命令中的排序规则类型。

请帮我。谢谢你..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:33:22.687

为此，您可以使用 --execute 参数运行 mysql 控制台客户端：

```
$ mysql -h {hostname} -u {user} -p{password} -e "SHOW PROCESSLIST" 
```

这将产生类似于下一个的输出：

```
+----+---------+-----------------+---------+---------+------+-------+------------------+
| Id | User    | Host            | db      | Command | Time | State | Info             |
+----+---------+-----------------+---------+---------+------+-------+------------------+
| 1  | root    | {hostname}:3786 | NULL    | Query   |    0 | NULL  | SHOW PROCESSLIST |
+----+---------+-----------------+---------+---------+------+-------+------------------+ 
```

# c# - 使用 Linq 在 c# 中的 XML 元素/节点中添加 XElement

> ID：15292645
> 
> 赞同：-1
> 
> 时间：2013-03-08T11:12:35.677
> 
> 标签：c#, xml, linq, linq-to-xml

我想用这种格式创建一些 xml

```
<root>
 <columns>
  <column name="name1" value="value1" />
  <column name="name2" value="value2" />
  <column name="name3" value="value3" />
  ...
 </columns>
 <rows>
  <row name="name1" value="value1" />
  <row name="name2" value="value2" />
  <row name="name3" value="value3" />
  ...
 </rows>
</root> 
```

所以我创建了一个

```
XElement tree = new XElement("root", new XElement("columns", from c in  columns select new XElement("column", c) ... 
```

结果是

```
<root>
 <columns>
  <column>
   <column>
    <column> 
     ...
    </column>
   </column>
  </columns>
 ...
</root> 
```

我怎样才能关闭一个节点子或其他东西来拥有我想要的东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:18:31.583

以下代码：

```
List<KeyValuePair<string, string>> columns = new Dictionary<string,string> {
   {"name1", "value1"},
   {"name2", "value2"},
   {"name3", "value3"}
}.ToList();

XElement tree =
    new XElement("root",
        new XElement("columns",
            from c in columns
            select new XElement("column",
                new XAttribute("name", c.Key),
                new XAttribute("value", c.Value)
            )
        ),
        new XElement("rows",
             from r in rows // same dictionary as columns 
             select new XElement("row",
                 new XAttribute("name", r.Key),
                 new XAttribute("value", r.Value)
            )
        )
    ); 
```

生成所需的 xml：

```
<root>
  <columns>
    <column name="name1" value="value1" />
    <column name="name2" value="value2" />
    <column name="name3" value="value3" />
  </columns>
  <rows>
    <row name="name1" value="value1" />
    <row name="name2" value="value2" />
    <row name="name3" value="value3" />
  </rows>
</root> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:19:32.473

```
XElement tree = new XElement("root",
    new XElement("columns",
        from c in columns
        select new XElement("column", new XAttribute("name", c.Name,), new XAttribute("value", c.Value))),
    new XElement("rows",
        from r in rows
        select new XElement("row", new XAttribute("name", r.Name,), new XAttribute("value", r.Value)))); 
```

# php - 如何连接登录和注册页面？

> ID：15292648
> 
> 赞同：0
> 
> 时间：2013-03-08T11:12:53.390
> 
> 标签：php

我是php新手，所以我需要帮助。我有一个 page=start 和一个 page=login。在 page=login 中，我有一个导航到 page=register 的链接。但它什么也没做。

页=开始

```
$page = 'home';
if (isset($_GET['page']) && file_exists('pages/'.$_GET['page'].'.php')) {
    $page = $_GET['page'];
}

if (empty($_SESSION['Auth']) && $page != 'login') {
    header('location:index.php?page=login');

} elseif (!empty($_SESSION['Auth']) && $page == 'login') {
    header('location:index.php?page=home');
}
if (file_exists('actions/'.$page.'.php')) {
    include('actions/'.$page.'.php');
} 
```

页面=登录

```
<form name="login" action="index.php?page=login&action=login" method="post">
        <p class="log">Hey! Log In</p>
        <input type="text" name="username" id="username"/><br/><br/>
        <input type="text" name="password" id="password"/><br/><br/>
        <input type="submit" name="submit" value="submit"/>
    </form>
    <a href='index.php?page=register'>Register</a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:35:01.577

在没有看到更多代码的情况下，我猜想`$_SESSION['Auth']`当您尝试访问注册页面时没有发生重定向。您可能想要添加一个例外，以便任何人都可以访问它。

例如

```
$whiteListedPages = array('login', 'register');
if (empty($_SESSION['Auth']) && !in_array($page, $whitelistedPages)) {
    header('location:index.php?page=login');

} 
```

# javascript - 在谷歌地图中检索经纬度

> ID：15292651
> 
> 赞同：-1
> 
> 时间：2013-03-08T11:13:00.843
> 
> 标签：javascript, asp.net, google-maps

我可以在地图上设置图钉，但无法检索该点的纬度和经度。这是我的代码。有人能帮忙吗？

谢谢

```
 function codeaddress() {
    var geocoder;
    //map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
    geocoder = new google.maps.Geocoder();

    var address = document.getElementById("address").value;

    geocoder.geocode({ 'address': address }, function (results, status) {
        if (status == google.maps.GeocoderStatus.OK) {

            map.setCenter(results[0].geometry.location);
            var marker = new google.maps.Marker({
                animation: google.maps.Animation.BOUNCE,
                flat: false,
                map: map,
                position: results[0].geometry.location

            });

            var latt = document.getElementById("latitude");
            latt.value = results[0].geometry.location.getlatitude();
            alert(latt.value);

        } else {
            alert("Geocode was not successful for the following reason: " + status);
        }
    });

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:22:18.037

尝试使用`.lat()`而不是`.getLatitude()`.

请参阅有关 LatLng 类的 API：[https ://developers.google.com/maps/documentation/javascript/reference#LatLng](https://developers.google.com/maps/documentation/javascript/reference#LatLng)

# flyway - 版本号中的 Flyway alpha 字符

> ID：15292654
> 
> 赞同：0
> 
> 时间：2013-03-08T11:13:10.390
> 
> 标签：flyway

在 Flyway 2.1 中，不再支持在版本号中使用 alpha 字符，有人可以解释为什么这已经被删除了吗？我们必须重命名我们所有的 SQL 脚本和 conf 文件，虽然很麻烦，但是可行……但是我们应该如何处理元数据表呢？

咕咕咕;-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T09:07:50.783

支持是无证的，我根本没有看到有人使用它。

随时使用您需要的特定类型的版本字符串在问题跟踪器中提交增强请求。

# android - 在ListView中将3列合并为一个TextView

> ID：15292666
> 
> 赞同：0
> 
> 时间：2013-03-08T11:13:33.083
> 
> 标签：android, listview, cursor

我有一些列的 SQLite 数据库，其中 3 个是`day` `month`和`year`. 我在 ListView 中有 2 个 TextView - 标题和日期。

我想将日期（日、月和年）的 3 列合并到“日期”文本视图中。

例子：

我的 SQL 数据库 -

标题 -`title`

天 -`8`

月 -`3`

年 -`2013`

在 ListView 中它看起来像 -

```
title
8/3/2013 
```

我的代码：

```
 c = db.query(DbHelper.TABLE_NAME, null, null, null, null, null, null);

    String[] from = {DbHelper.COLUMN_NAME_TITLE, DbHelper.COLUMN_NAME_DAY, DbHelper.COLUMN_NAME_MONTH, DbHelper.COLUMN_NAME_YEAR};
    int[] to = {R.id.text1, R.id.date};
    adapter = new SimpleCursorAdapter(this,
            R.layout.list_item_2,
            c, from, to);
    list.setAdapter(adapter); 
```

我认为我需要在将 3 个日期列放入 TextView 之前更改它，但我不知道该怎么做。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:32:04.033

```
String[] date = { DbHelper.COLUMN_NAME_TITLE, DbHelper.COLUMN_NAME_DAY+"/"+ DbHelper.COLUMN_NAME_MONTH+"/"+DbHelper.COLUMN_NAME_YEAR}; 
```

或者

```
String temp = DbHelper.COLUMN_NAME_DAY+"/"+ DbHelper.COLUMN_NAME_MONTH+"/"+DbHelper.COLUMN_NAME_YEAR
String[] date = { DbHelper.COLUMN_NAME_TITLE, temp} 
```

我想这就是你要求的

# java - 从 Jenkins/Hudson 插件运行时，如何在声纳报告中从 cobertura 分析中排除类？

> ID：15292667
> 
> 赞同：0
> 
> 时间：2013-03-08T11:13:35.483
> 
> 标签：java, jenkins, hudson, sonarqube, cobertura

我想从我的 cobertura 覆盖分析中排除一些类： - com.foo.NiceStuff - com.foo.CoolStuff

这是我知道排除它们的唯一方法：

```
<plugin>
<groupId>org.codehaus.mojo</groupId>
<artifactId>cobertura-maven-plugin</artifactId>
<version>2.5.2</version>
<configuration>
    <instrumentation>
        <excludes>
            <exclude>com/foo/NiceStuff.class</exclude>
            <exclude>com/foo/CoolStuff.class</exclude>
        </excludes>
    </instrumentation>
</configuration>
</plugin> 
```

但是声纳分析不是由 Maven 实例化的，而是由声纳 Jenkins/Hudson 插件实现的......所以这个配置没有被使用。

您知道配置此排除的任何地方吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T13:02:07.093

Sonar 应该使用相同的配置，除非您在那里运行的分析与在 Jenkins 中运行的构建不同。但是，您也可以告诉 Sonar 重​​用由 Jenkins 创建的报告而不是生成自己的报告，这具有加快 Sonar 分析速度的额外好处。您只需设置`sonar.dynamicAnalysis`并`reuseReports`告诉 Sonar 在哪里可以找到测试报告。有关详细信息，请参阅Sonar wiki 上的[“重用现有报告” 。](http://docs.codehaus.org/display/SONAR/Code+Coverage+by+Unit+Tests+for+Java+Project#CodeCoveragebyUnitTestsforJavaProject-ReusingExistingReports)

# php - 更改 Laravel 的默认（根）控制器

> ID：15292672
> 
> 赞同：0
> 
> 时间：2013-03-08T11:13:54.763
> 
> 标签：php, routing, laravel

在 Laravel 中，默认控制器是`Home_Controller`. 但是我有一个称为前端的控制器。我想用这个代替家庭控制器。

当我注册这样的路线时：

```
Route::controller(Controller::detect()); 
```

然后一个请求`/offer`将从家庭控制器中处理，如`home@offer`. 我想`frontend@offer`从站点的根目录使用和访问它 - 不像`/frontend/offer`.

我应该怎么办？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T17:30:11.343

`Home_Controller`是 Laravel 3 中存在的硬编码约定之一，但是仍然有一些方法可以定义路由以指向`Frontend_Controller`方法，我的偏好是。

```
Route::any('/(index|offer|something)', function ($action)
{
    return Controller::call("frontend@{$action}");
}); 
```

这样做的限制是您需要在`Frontend_Controller`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T03:54:39.963

我的猜测是，您认为 Home_Controller 是某种默认值的唯一原因是因为您使用的是 Controller::detect(); 我真的没有在文档中看到任何让我认为 Home_Controller 有什么特别之处的东西。事实上，它甚至看起来不像在示例文档中被路由到。鉴于此，我的第一个建议是摆脱 Controller::detect() 并查看是否可以解决您的问题。

除此之外，您是否尝试过将前端注册为名为 home 的路由？似乎所有 URL::home() 所做的都是搜索 'Home' 路由，然后重定向到它。当使用控制器路由时，这可以通过一些效果来完成。

```
Route::get('/',
    array(
         'as' => 'home',
         'uses' => 'frontend@index'
    )
); 
```

或者这不是你想要的效果？您是否希望将所有未发现的路由重定向到您的前端控制器？

如果你担心你的 url 看起来很漂亮，你可以在你的 .htaccess 文件中使用一些重写规则来使路由到 /frontend/index 的整个过程对你的用户透明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T12:00:10.033

将此添加到您的 routes.php ：

```
Route::get('/', array('as' => 'any.route.name', 'uses' => 'frontend@offer')); 
```

如果您有任何其他`/`路线，只需将其删除。

# c++ - C++0x 指定初始化器

> ID：15292673
> 
> 赞同：0
> 
> 时间：2013-03-08T11:13:55.077
> 
> 标签：c++, visual-c++, c++11, c++-cli

我可以找到一种在 C++0x 中执行指定初始化程序的方法，只需初始化一个成员。有没有办法让多个成员初始化？

```
public struct Point3D
{
    Point3D(float x,y) : X_(x) {}
    float X;
}; 
```

我想 ：

```
public struct Point3D
{
    Point3D(float x,y,z) : X_(x), Y_(y), Z_(z) {}
    float X_,Y_,Z_;
}; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T11:15:49.570

您的构造函数中有一些错误，这是您应该如何编写它：

```
/* public */ struct Point3D
// ^^^^^^ 
// Remove this if you are writing native C++ code!
{
    Point3D(float x, float y, float z) : X_(x), Y_(y), Z_(z) {}
    //               ^^^^^    ^^^^^
    //               You should specify a type for each argument individually
    float X_;
    float Y_;
    float Z_;
}; 
```

请注意，本`public`机 C++ 中的关键字具有与您可能期望的不同的含义。只需删除它。

此外，*初始化列表*（您错误地称为“指定初始化程序”）不是 C++11 的新特性，它们一直存在于 C++ 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:31:01.113

@Andy 解释了如果您要定义自己的`struct`.

但是，还有另一种选择：

```
#include <tuple>

typedef std::tuple<float, float, float> Point3D; 
```

然后将一些函数定义为：

```
//non-const version
float& x(Point3D & p) { return std::get<0>(p); }
float& y(Point3D & p) { return std::get<1>(p); }
float& z(Point3D & p) { return std::get<2>(p); }

//const-version
float const& x(Point3D const & p) { return std::get<0>(p); }
float const& y(Point3D const & p) { return std::get<1>(p); }
float const& z(Point3D const & p) { return std::get<2>(p); } 
```

完毕！

现在您可以将其用作：

```
Point3D p {1,2,3};
x(p) = 10; // changing the x component of p!
z(p) = 10; // changing the z component of p! 
```

意思是代替 `p.x`，你写`x(p)`。

希望这能给您一些关于如何*重用*现有代码的起点。

# javascript - 设置间隔和设置超时？

> ID：15292676
> 
> 赞同：1
> 
> 时间：2013-03-08T11:14:07.220
> 
> 标签：javascript, settimeout

我想在 x 秒后停止我的 javascript，我看到函数是 setTimeout，我试图将它添加到我的代码中但没有成功，这是更好的方法吗？谢谢你的帮助 ！

```
<html>
<head>
<script type="text/javascript">
   function blink(){
state = document.getElementsByTagName('img')[0].style.visibility;
if(state == 'hidden'){
    newState = 'visible';
}else if(state == 'visible'){
    newState = 'hidden';
}
document.getElementsByTagName('img')[0].style.visibility = newState;
    }
   setInterval('blink();', 300);
</script>
</head>
<body>
<img src="http://ww1.prweb.com/prfiles/2011/10/12/8875514/star_white.jpg" style="visibility:hidden">  
</body> 
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:16:05.700

`X`在变量中初始化间隔并在（此处为 2）秒后将其清除：

```
var interval = setInterval(blink, 300);

setTimeout(function() {
    clearInterval(interval);
}, 2000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:17:49.230

像这样使用：

```
var myvar;

function myStartFunction()
{
    myvar=setInterval(function(){blink()},300);
}
function myStopFunction()
{
clearInterval(myvar);
} 
```

# python - 如何定义一个常量函数

> ID：15292687
> 
> 赞同：3
> 
> 时间：2013-03-08T11:14:41.590
> 
> 标签：python

在我发现的[文档中](http://docs.python.org/2/library/collections.html#collections.defaultdict)

> 总是返回零的函数 int() 只是常量函数的一个特例。创建常量函数的一种更快、更灵活的方法是使用 itertools.repeat() ，它可以提供任何常量值（不仅仅是零）：

```
def constant_factory(value): 
   return itertools.repeat(value).next

d = defaultdict(constant_factory('<missing>'))
d.update(name='John', action='ran')
'%(name)s %(action)s to %(object)s' % d 

'John ran to <missing>' 
```

为什么不简单地使用 lambda 函数来获取常量函数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:38:45.457

该类`itertools.repeat`是用 C 编写的，比使用 Python 编写的函数要快一些。这是我使用`timeit`模块对不同的常量值函数实现进行的一些测试：

```
Python 3.3.0 (v3.3.0:bd8afb90ebf2, Sep 29 2012, 10:57:17)
[MSC v.1600 64 bit (AMD64)] on win32
Type "copyright", "credits" or "license()" for more information.
>>> import timeit
>>> import itertools
>>> itertools_version = itertools.repeat(10).__next__
>>> lambda_version = lambda:10
>>> def function_version():
    return 10
>>> def constant_factory(n):
    return itertools.repeat(n).__next__
>>> factory_version = constant_factory(10)
>>> timeit.timeit("for i in range(100): f()",
                  setup="from __main__ import itertools_version as f")
7.115707915662512
>>> timeit.timeit("for i in range(100): f()",
                  setup="from __main__ import lambda_version as f")
11.479014911317307
>>> timeit.timeit("for i in range(100): f()",
                  setup="from __main__ import function_version as f")
11.561433023257619
>>> timeit.timeit("for i in range(100): f()",
                  setup="from __main__ import factory_version as f")
7.166709032038568 
```

但是，请仔细考虑这种适度的性能提升对于您的情况是否值得。如果这不是性能关键代码，您应该使用您认为在以后阅读时最容易理解的任何实现。

如果你只打算使用一次常量函数，我认为 lambda 是非常合适的。如果它是您经常使用的东西，命名函数可能会更好。如果它在您拥有的一些对时间最敏感的逻辑的内部循环中被调用，则使用`itertools.repeat`对象的绑定方法。

# wpf - Wpf数据网格自定义列排序

> ID：15292688
> 
> 赞同：1
> 
> 时间：2013-03-08T11:14:45.037
> 
> 标签：wpf, sorting

如何向特定列添加特殊排序方法以允许不同类型的排序（例如在 120.5.1.12 和 120.5.1.110 之间排序 120.5.1.50，而不是让 120.5.1.110 成为最小值。

另外，我如何允许自定义类型的单击标题排序将其绑定到模板列。这甚至可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:46:17.807

您可以实现 IComparer 并定义自己的比较逻辑。

```
public class MyComparer : IComparer<Object>
{

    public int Compare(Object stringA, Object stringB)
    {
         // Your logic here
    }
} 
```

在您可以将 LINQ OrderBy 方法与您的自定义比较器一起使用之后。

```
items = items.OrderBy(x => property, comparer).ToList(); 
```

请参阅此[链接](https://stackoverflow.com/questions/985657/use-own-icomparert-with-linq-orderby)。

**编辑** 以覆盖 WPF 数据网格的默认排序行为，请参阅此[链接](https://stackoverflow.com/questions/2129601/how-can-i-apply-a-custom-sort-rule-to-a-wpf-datagrid)中的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-28T14:51:34.930

如果要在单击列标题后保持自定义排序顺序，可以使用附加行为。我想出了这个似乎运作良好的解决方案：

[每列的 WPF DataGrid CustomSort](https://stackoverflow.com/questions/18122751/wpf-datagrid-customsort-for-each-column)

这是一个 MVVM 解决方案 - 如果您想深入研究代码隐藏的世界，可能有更简单的方法可以做到这一点。

# java - 使用反射查找方法是否重载

> ID：15292691
> 
> 赞同：1
> 
> 时间：2013-03-08T11:15:03.600
> 
> 标签：java, reflection, overloading

对此有类似的[问题](https://stackoverflow.com/questions/11765627/how-to-find-an-overloaded-method-in-java)，但在答案中使用了参数类型。

我的问题是，有一个类应该做些什么来找出使用反射返回的方法是否重载？

可能的方法可以是：1）循环以再次找到相同的方法

```
 List<Method> overloaded = new ArrayList<Method>();
    Method[] declaredMethods = A.class.getDeclaredMethods();

    for(int i = 0; i < declaredMethods.length; i++){
        for(int j = (i + 1); j < declaredMethods.length; j++){
            if(declaredMethods[j].getName().equals(declaredMethods[i].getName())){
                overloaded.add(declaredMethods[i]);
            }
        }
    }

    System.out.println(overloaded); 
```

有没有办法找出算法复杂度比这更好的重载方法？某些库是否提供相同的功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:21:29.150

你可以使用一个`Set`. 如果`add()`操作返回`false`方法名称已经在集合中。
Java 反射没有方法来判断一个方法是否被重载。

# java - 具有不同方法的泛型

> ID：15292696
> 
> 赞同：-1
> 
> 时间：2013-03-08T11:15:26.137
> 
> 标签：java, generics

在一次关于泛型的采访中，面试官问一个问题，有两个列表，一个列表是字符串类型（即一个数组列表是字符串类型），我们在其中添加一些字符串，现在创建第二个数组列表，它将输入您创建的第一个列表，现在可能的解决方案如下所示..

```
List<String> firstList = new ArrayList<String>();

public <T> List<T> createSecondList(List<T> firstList)
{
   return new ArrayList<T>();
} 
```

我的问题是我们可以通过以下方式表达这一点，还请告知。

```
List<String> firstList = new ArrayList<String>();
 <T> List<T> createSecondList = new ArrayList(List<T> firstList); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:19:02.863

不。

这一行：

```
<T> List<T> createSecondList = new ArrayList(List<T> firstList); 
```

不是有效的 Java 代码，它介于方法声明和变量声明和实例化之间。

要创建第二个列表...

```
List<String> firstList = new ArrayList<String>();
List<String> secondList = createSecondList(firstList); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T13:41:56.293

1> `List<String> list1 = new ArrayList<String>();`//这是第一种类型
2> `List<List<String>> list2 = new ArrayList<List<String>>();`//这是第二种类型，包括第一种列表类型

# asp.net-mvc - 导航到其他 html 页面，例如 ASP.NET MVC 4 中的单页应用程序

> ID：15292697
> 
> 赞同：1
> 
> 时间：2013-03-08T11:15:34.817
> 
> 标签：asp.net-mvc, razor

我刚刚开始在 VS2010 中使用 ASP.NET MVC 4。

视图导致整个页面加载，即主布局页面也被调用并且整个页面重新加载。如何仅加载内部 html，例如 SPA 应用程序。我想在不重新加载整个视图和主布局的情况下在 2 个表单之间导航。

局部视图在这里有用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:34:04.693

## 概念性答案。

解决方案是使用 AJAX 加载 Partial View。因此，您需要将两个表单都公开为部分视图，然后不要忘记对 POST MVC 操作（[帮助](http://www.eworldui.net/blog/post/2008/05/ASPNET-MVC---Using-Post2c-Redirect2c-Get-Pattern.aspx)）也执行 AJAX POST 以保存表单数据。

一些细节：

使用 AJAX 加载局部视图：[如何通过 AJAX 呈现局部视图？](https://stackoverflow.com/questions/3992789/how-can-i-render-a-partial-view-via-ajax) 使用 AJAX 发布部分视图：[从 $.Ajax Post 返回一个 PartialView](https://stackoverflow.com/questions/3490059/return-a-partialview-from-ajax-post)（这里不要忘记获取表单数据并对其进行序列化 - [jquery form.serialize 和其他参数](https://stackoverflow.com/questions/10398783/jquery-form-serialize-and-other-parameters)）

# c# - 在设计 rdlc 报告时如何限制表中的行数？

> ID：15292703
> 
> 赞同：0
> 
> 时间：2013-03-08T11:15:55.473
> 
> 标签：c#, desktop-application

我是 Windows 桌面应用程序开发的新手。
我正在设计一个 rdlc 文件中的报告，在该文件中我使用表格来显示项目。该表会根据记录数自动扩展。

我想将该表中的显示限制为最多 10 条记录。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T12:11:30.653

> 您将必须遵循以下几个步骤：

第 1 步：右键单击您的表（即在第一列，第二行旁边）并选择添加组
第 2 步：在添加组下 - 选择父组
第 3 步：您需要点击`fx`并添加这个 - =Ceiling(Rownumber （无）/10）。
第 4 步：单击确定并右键单击刚刚创建的组。给它一个名字。
第 5 步：选择第二个选项 PageBreaks 并选中“组的每个实例之间”
第 6 步：单击排序并删除现有排序。就是这样。
第 7 步：删除新的分组列。

> 我为第 1 步附上了图片：

![在此处输入图像描述](../Images/6fef5005ffedbf1a66f7224e2267448e.png)

# python - 如何通过 bazaar 为 nvda 上传补丁文件

> ID：15292705
> 
> 赞同：0
> 
> 时间：2013-03-08T11:16:02.323
> 
> 标签：python, bazaar, nvda

当我尝试通过 bazaar 将文件提交到 nvda main 时，我发现了这些错误。

```
bzr: ERROR: Cannot lock LockDir(chroot-2373194732:///nvda/main/.bzr/branch/lock): Transport operation not possible: readonly transport 

bzr: ERROR: No tracker specified for bug #1353\. Use the form 'tracker:id' or specify a default bug tracker using the `bugtracker` option. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T07:40:05.270

请发布您的完整命令。

到目前为止，您似乎没有提交 main 的权限。

要解决第二个问题，请使用`--fixes lp:1353`.

无论如何，请更新您的问题以包含您使用的完整命令，然后我将更新此答案。

# text - 文本溢出 CSS 截断

> ID：15292708
> 
> 赞同：51
> 
> 时间：2013-03-08T11:16:03.530
> 
> 标签：text, truncate, css

早些时候我是使用 JS 动态地做的。但是我们遇到了一些性能问题，因为我们必须提供一个替代选项。

我现在使用文本溢出样式截断标签名称上的长文本。

但我有一个小问题，如果有人能解决它

目前这就是我的文本截断的样子

**这段文字已经转...**

这里的三个点（...）是黑色的，我想把它改成红色。

**有没有一种方法可以实现这一目标？**

* * *

## 回答 #1

> 赞同：113
> 
> 时间：2013-03-08T11:27:45.840

在这里工作：

*   [http://jsfiddle.net/TReRs/4/](http://jsfiddle.net/TReRs/4/)

```
 .overme {
        width: 300px;
        overflow:hidden; 
        white-space:nowrap; 
        text-overflow: ellipsis;
        color: red;
    }
```

```
 <div class="overme">
        how much wood can a woodchuck chuck if a woodchuck could chuck wood?
    </div> 
```

使用该基本 CSS 将尾随点/省略号着色为红色。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-02-25T05:28:37.067

**使用css的简单方法**

HTML

```
<div class="text-truncate">
The company’s commitment to rebuilding the relationship with you, our community</div> 
```

CSS：

```
.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-08T12:25:14.210

我假设您只希望点显示为红色？不幸的是，这对于简单的 CSS 是不可能的。但是我发现了一个教程，它设法制作自定义省略号样式，只有在必要时才会显示：

[https://www.mobify.com/dev/multiline-ellipsis-in-pure-css/](https://www.mobify.com/dev/multiline-ellipsis-in-pure-css/)

这是一个很好的技巧，不容易用语言解释。也许我刚刚制作的这个jsfiddle可以帮助你：

[http://jsfiddle.net/MyUQJ/9/](http://jsfiddle.net/MyUQJ/9/)

删除`overflow: hidden;`上的`.wrap`，看看发生了什么。主要思想是，当文本溢出时， `.end`div 移动到左下角`.left-side`，而当它没有溢出时，它在`.text`. 然后`.ellipsis`div 被定位在 relative`.end`中，所以当你把它放在右边时，当文本溢出时它是可见的，当文本没有溢出时它是溢出的！有趣，不是吗？

无论如何，这是原始代码：

HTML：

```
<div class="wrap">
    <div class="left-side"></div>
    <div class="text">
        This is a short story, it 
        doesn't need to be ellipsed.
    </div>
    <div class="end">
        end
        <div class="ellipsis">...</div>
    </div>
</div>

<br>
<br>
<br>
<br>

<div class="wrap">
    <div class="left-side"></div>
    <div class="text">
        This is a long story. You won't be able to 
        read the end of this story because it will 
        be to long for the box I'm in. The story is 
        not too interesting though so it's good you 
        don't waste your time on this.
    </div>
    <div class="end">
        end
        <div class="ellipsis">...</div>
    </div>
</div> 
```

CSS：

```
.wrap {
    height: 100px;
    width: 234px;
    border: solid 1px #000;
    overflow: hidden;
}

.left-side {
    float: left;
    width: 32px;
    height: 100px;
    background: #F00;
}

.text {
    float: right;
    border: solid 1px #0F0;
    width: 200px;
}

.end {
    position: relative;
    float: right;
    width: 30px;
    border: solid 1px #00F;
}

.ellipsis {
    position: absolute;
    top: -25px;
    left: 198px;
    background: white;
    font-weight: bold;
    color: #F0F;
} 
```

当然，当您要实现此功能时，您希望删除所有边框和“结束”文本。我把它作为一个易于理解的例子。此外，您可能想给 wrap a`position: absolute;`然后给它`margin-left: -32px`，其中宽度是 的宽度`.left-side`，因此您的文本在左侧不会有边距。

祝你好运！

# python - matlab 到 python 使用 ctypes

> ID：15292711
> 
> 赞同：3
> 
> 时间：2013-03-08T11:16:12.860
> 
> 标签：python, matlab, ctypes

我们想在我们的新 python 应用程序中使用用 matlab 编写的函数。我们想使用 ctypes 因为用户在他的机器上不需要 matlab。我们正在测试此方法，但无法使其正常工作。我们缺乏 c 知识（还有更多……）。这是我们简单的测试matlab函数：

```
function [ z ] = adding( x,y ) 
    z = x + y; 
end 
```

我们用 matlab 将它编译成一个共享库 .dll。在 python 解释器中，我们有：

```
import ctypes
dl = ctypes.CDLL('adding.dll') 
```

现在我们被卡住了，因为我们在 matlab 中找不到访问该函数的命令。
我们应该做什么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-18T17:49:09.230

# 简短的回答 - 不。

您不能将用 MATLAB 编写的代码以 DLL 的形式导出为 C 并在 python 端使用 ctypes 与其接口，这样您就可以期待通过 unix 管道（如在 mlabwrapper 中）的常规通信，大幅提升性能。

问题是这样的 DLL 依赖于 MCR（matlab 运行时）。DLL 以模糊的形式包含您的源代码。当您调用导出函数时 - 加载 DLL，然后解压缩源代码，创建 MATLAB 实例（解释器）并将您的代码及其结果与 MATLAB JIT 进行通信。此功能称为“MATLAB 编译器工具箱”。或者，它可以生成操作系统可执行文件（遵循相同的逻辑）。

## 用 C/C++ 重写（失去对 MATLAB 的依赖）

如果您不幸运地像[这里](http://www.mathworks.ch/ch/help/coder/examples/c-code-generation-for-a-matlab-kalman-filtering-algorithm.html?prodcode=ME&language=de)一样代码生成您的项目。考虑用纯 C 重写代码或使用 C++ 库作为 IT++ 或犰狳。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T11:31:25.953

有许多资源/教程可用于解释如何在 dll 中使用 ctypes 和调用函数。参见例如[这个 SO question](https://stackoverflow.com/questions/5081875/ctypes-beginner)。

如果我没记错的话，matlab 编译器应该正确地从 dll 中导出所有函数，以便可以从 ctypes 访问它们。但是，当您尝试加载 dll 时，您必须确保 matlab 库/运行时位于您的库路径中。matlab 站点为此提供了大量文档，例如[本教程](http://blogs.mathworks.com/loren/2011/02/03/creating-c-shared-libraries-and-dlls/)。

# php - 使用 PHP 和 MySql 即时创建数据输入表单会导致浏览器崩溃

> ID：15292716
> 
> 赞同：0
> 
> 时间：2013-03-08T11:16:28.157
> 
> 标签：php, mysql, loops

我在设计这个网站时遇到问题，在我睁大眼睛之前寻求帮助。以下脚本的预期结果是一个网页，其输入表单应如下所示（使用

```
James Craig | Week 7 | <INPUT>max</INPUT | <INPUT>ctrl</INPUT>
Jo Mama   | Week 7 | <INPUT>max</INPUT | <INPUT>ctrl</INPUT> 
```

但是，我实际看到的是：

```
James Craig Week 7 max: ctrl: 
```

没有文本输入字段，也没有表格格式。此外，它没有显示第二人称。

然后：页面锁定并使浏览器崩溃。

我怀疑我的循环没有结束，但此时我已经迷失了。我知道有很多问题要问，但是有人可以在这里理顺我吗？:)

我正在使用的基本数据：

数据库样本数据

```
Table Name: loginUsers
--------------------------------------------------------
|      storeID      |      login     |    password     |
|-------------------|----------------|-----------------|
|       0460        |    store0460   |    store0460    |
--------------------------------------------------------

Table Name: specialistData
--------------------------------------------------------
|    specialistID   |    week    |     max    | ctrl   |
|------------------------------------------------------|
|         1         |      1     |    28.50   |  19.99 |
|         1         |      2     |    17.85   |  21.99 |
|         1         |      3     |    16.99   |  99.99 |
|         1         |      4     |    28.50   |  19.99 |
|         1         |      5     |    28.50   |  19.99 |
|         1         |      6     |    28.50   |  19.99 |
|         2         |      1     |    28.50   |  19.99 |
|         2         |      2     |    17.85   |  21.99 |
|         2         |      3     |    16.99   |  99.99 |
|         2         |      4     |    28.50   |  19.99 | 
|         2         |      5     |    28.50   |  19.99 |
|         2         |      6     |    28.50   |  19.99 |
--------------------------------------------------------    
Table Name: usersSpecialists
--------------------------------------------------------
|      storeID      |  specialistID  |       name      |
|-------------------|----------------|-----------------|
|       0460        |        1       |    James Craig  |
|       0460        |        2       |     Jo Mama     |
-------------------------------------------------------- 
```

有问题的 PHP 文档（我删除了 DB 连接字符串，但我向您保证它们工作正常）

```
<?php

//Initialize the session
session_start();

//Check for existing session.  Route to login if not
if(!isset( $_SESSION['username'])){
header('Location: ../index.php');
}
?>

<?php include(dirname(__FILE__)."/functions.php"); ?>

<html>
<head>
    <title>Weekly Data</title>
    <link href="portal.css" rel="stylesheet">
</head>
<body>

        <div id="masthead">
            <ul class="nav nav-pills pull-right">
                <li class = "active"><a href="#">View Report</a></li>
                <li class = "active"><a href="#">Edit Specialists</a></li>
                <li class = "active"><a href="logout.php">Logout</a></li>
            </ul>
            <h3 class="muted">Sales Specialist Ranker - Weekly Data</h3>
        </div>

<hr>

<div id="jumbotron"><center>
            <h1>Enter Weekly Data</h1>
            <form action="submitData.php method="GET">

            </form>

            <a class="btn btn-large btn-success" href="#">Submit</a>        
</center></div>
<?php 

//This will determine the current week, compare it to the last entry for each specialist, and create a form to request any needed data.

//Obtain currently logged in store (Store Number)
    $currentStore = $_SESSION['username'];

//Obtain Current Week
    $currentWeek = date("W"); 

//Obtain list of specialists (specialist ID)
    //Create temp mysqli object
    $specialistList = new mysqli();

    //Grab specialist list
    $specialistList = getSpecialists($currentStore);

//Loop through each specialist and generate form

    //Start Form
    echo "<form name='specialistData' action='submitData.php' method='get'>";
    //Start Loop
        while($row = $specialistList->fetch_array(MYSQLI_ASSOC)){

            //Start HTML Table
            echo "<table class='dataEntry'>";

            //create temp mysqli object
            $lastWeek = new mysqli();

            //Get last entry for specialist
            $lastWeekData = lastEntry($row['specialistID']);
            $lastWeekData = $lastWeekData->fetch_array(MYSQLI_ASSOC);
            $lastWeek = $lastWeekData['week'];
            $specialistID = $row['specialistID'];
            $specialistName = $lastWeekData['name'];

            //compare last week to current week

                //Begin loop
                while($lastWeek < $currentWeek){

                    //create HTML Input for each specialist
                    echo    "<tr>\n
                                <td>$specialistName</td>\n
                                <td>Week: $lastWeek</td>\n
                                <td>Max: <input type='text' name='".$specialistID."-".$lastWeek."-max /></td>\n
                                <td>Max: <input type='text' name='".$specialistID."-".$lastWeek."-ctrl /></td>\n
                            </tr>\n";

                    $lastweek++;
                }

            //Close HTML table for this specialist
            echo "</table>";
        }

        //Close HTML Form
        echo "</form>";

?>

<hr>
<div class="footer">
    <p> Footer Here</p>
</div>

</body>
</html> 
```

这是我的functions.php

```
<?php //FUNCTIONS
function getSpecialists($user){ 
/*
        PURPOSE:   GET LIST OF SPECIALISTS THAT BELONG TO CURRENT USER
        ARGUMENTS: $user{USER ID - STRING}
        RETURN:    MYSQLI OBJECT CONTAINING RESULT LIST {specialistID}
*/

//Include DB Strings
$DB_HOST = "****";
$DB_NAME = "****";
$DB_USER = "****";
$DB_PASS = "****";

    //Query create the SQL object
    $mysqli = new mysqli($DB_HOST, $DB_USER, $DB_PASS, $DB_NAME);
    //Plan for error
    if (mysqli_connect_errno()) {
        printf("Connect failed: %s\n". mysqli_connect_error(error)." \n WHEN: OBTAINING SPECIALIST LIST");
        exit();
    }

    //Create QUERY to return {specialistID}
    $sql = "SELECT      usersSpecialists.specialistID
            FROM        usersSpecialists
            INNER JOIN  loginUsers
            ON          usersSpecialists.storeID = loginUsers.storeID
            WHERE       loginUsers.login = '$user'";

    //Launch the query
    $specialistResults = $mysqli->query($sql);

    //Send back results of query
    return $specialistResults;  
}

function lastEntry($specialist){
/*
        PURPOSE:   GET THE LATEST ENTRY (WEEK NUMBER) FOR GIVEN SPECIALIST
        ARGUMENTS: $specialistID{SPECIALIST IN QUESTION - INT}
        RETURN:    MYSQLI OBJECT CONTAINING RESULT LIST {week, name}
*/
//Include DB connection strings
$DB_HOST = "****";
$DB_NAME = "****";
$DB_USER = "****";
$DB_PASS = "****!";

    //Query create the SQL object
    $mysqli = new mysqli($DB_HOST, $DB_USER, $DB_PASS, $DB_NAME);
    //Plan for error
    if (mysqli_connect_errno()) {
        printf("Connect failed: %s\n". mysqli_connect_error(error)." \n WHEN: OBTAINING SPECIALIST LIST");
        exit();
    }

    //Create SQL query
    $sql = "SELECT      specialistData.week, usersSpecialists.name
            FROM        specialistData
            INNER JOIN  usersSpecialists
            ON          specialistData.specialistID = usersSpecialists.specialistID
            WHERE       specialistData.specialistID = $specialist
            ORDER BY    specialistData.week DESC
            LIMIT       1";

    //Launch SQL query
    $lastWeek = $mysqli->query($sql);

    //Return mysqli result $lastWeek {week, name}
    return $lastWeek;
}

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T13:04:28.970

我想出了一个解决办法。问题是由循环查询引起的。显然这使一切都超载了。我回到第一方，然后：

1) 创建了一个新查询，通过 JOINS 一次获得所有我需要的信息

2) 重写了我的 PHP，因此它循环返回的数据，无需进一步调用 mysqli->query

这是修改后的代码：

```
<?php

//Initialize the session
session_start();

//Check for existing session.  Route to login if not
if(!isset( $_SESSION['username'])){
header('Location: ../index.php');
}
?>

<?php  //This will determine the last week entered for each specialist and generate an entry form for all missing data

//Obtain currently logged in store (Store Number)
    $currentStore = $_SESSION['username'];

//Obtain Current Week
    $currentWeek = date("W"); 

//Include DB Strings
$DB_HOST = "****";
$DB_NAME = "****";
$DB_USER = "****";
$DB_PASS = "****";

//Query create the SQL object
    $mysqli = new mysqli($DB_HOST, $DB_USER, $DB_PASS, $DB_NAME);
//Plan for error
    if (mysqli_connect_errno()) {
        printf("Connect failed: %s\n". mysqli_connect_error(error));
        exit();
    }

//Create QUERY to return {specialistID}
    $sql = "SELECT      usersSpecialists.specialistID, 
                        usersSpecialists.name, 
                        max(specialistData.week)
            FROM        loginUsers
            INNER JOIN  usersSpecialists    
            ON          loginUsers.storeID = usersSpecialists.storeID
            INNER JOIN  specialistData      
            ON          usersSpecialists.specialistID = specialistData.specialistID
            WHERE       loginUsers.login = '$currentStore'
            GROUP BY    usersSpecialists.specialistID, usersSpecialists.name";

//Launch query
    $results = $mysqli->query($sql);

//Get current week
    $currentWeek = date("W");  

//Loop through each specialist and generate form

    //Start Form
    echo "<form name='specialistData' action='submitData.php' method='get'>";

    //Start Loop
        while($row = $results->fetch_array(MYSQLI_ASSOC)){

            //Create visually friendly variables
            $name = $row['name'];
            $id = $row['specialistID'];
            $week = $row['max(specialistData.week)']; 

            //++ is there to negate the week that is already entered (The last week we have)
            $week++;

            //Check if data is current
            if($week < $currentWeek){

                //Start Table for unique specialist
                echo "<table><th>Name</th><th>Week</th><th>Max</th><th></th>";

                //Loop until week matches for data entry
                while($week < $currentWeek){

                    //Create entries for each needed week
                    echo "<tr>
                            <td>$name</td>
                            <td>$week</td>
                            <td><input type='text' name='max" . $id . $week . "'></td>
                            <td><input type='text' name='ctrl" . $id . $week . "'></td>
                          </tr>";

                        //Increment $week
                        $week++;
                }
            } else {
                echo "<p>No data needed for ". $name . ".";
            }
        }

?> 
```

谢谢大家！

# iphone - 在linkedin上发布数据时出错？

> ID：15292718
> 
> 赞同：7
> 
> 时间：2013-03-08T11:16:29.930
> 
> 标签：iphone, ios, objective-c, xcode, social-networking

我想在linkedin上发布我正在使用共享工具包的数据，

我正在创建新的应用程序，我在我的应用程序中使用了这些 api 密钥和秘密密钥，但是当我点击登录时，当我点击发布按钮时它工作正常按钮我收到如下错误。

```
<error>
  <status>403</status>
  <timestamp>1362741300174</timestamp>
  <request-id>QK7HOT1CT3</request-id>
  <error-code>0</error-code>
  <message>Access to posting shares denied</message>
</error> 
```

我不知道我哪里出错了帮助我解决这个问题，在此先感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-01T10:19:16.410

您必须向您的应用程序请求 rw_nus 权限才能发布共享.. 检查[http://developer.linkedin.com/documents/share-api](http://developer.linkedin.com/documents/share-api)

**更新**

权限是`w_share`，检查：[https](https://developer.linkedin.com/docs/share-on-linkedin) ://developer.linkedin.com/docs/share-on-linkedin ，部分：权限和限制

# javascript - 如何在javascript中解析英尺英寸的字符串？

> ID：15292724
> 
> 赞同：0
> 
> 时间：2013-03-08T11:16:38.890
> 
> 标签：javascript

我被困住了。这很容易。但是，这对我来说已经成为一场噩梦。

我无法解析此字符串并将其存储到两个名为`feet`and的变量`inch`中。

```
 var f = "5'9''"; // 5 feet 9 inch 

  var nn = f.indexOf("\'");
  var feet = f.substring(0, nn);

  var inch = f.substring(nn + 1, f.lastIndexOf("\'\'")-1); 
```

的**输出**`inch`应该是但是`9`是`nil`。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-08T11:18:19.277

您可以使用[正则表达式](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions)：

```
var f = "5'9''";
var rex = /^(\d+)'(\d+)''$/;
var match = rex.exec(f);
var feet, inch;
if (match) {
    feet = parseInt(match[1], 10);
    inch = parseInt(match[2], 10);
} 
```

[实例](http://jsbin.com/exitev/1)| [来源](http://jsbin.com/exitev/1/edit)

如果您将正则表达式更改为

```
var rex = /^(\d+)'(\d+)(?:''|")$/; 
```

...然后它将允许您使用英寸值之后的任何一个`''`或更常见的值。`"`

[实例](http://jsbin.com/exitev/2)| [来源](http://jsbin.com/exitev/2/edit)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T11:19:53.390

```
var f = "5'9''";
var a = f.split("'");
var feet = a[0];
var inch = a[1]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:23:08.047

正则表达式可以解决问题：

```
var f = "5'9''";
var match = f.match(/^(\d+)'(\d+)''$/);
var feet = +match[1],
    inch = +match[2]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:30:49.533

只需`-1`从

```
 var inch = f.substring(nn + 1, f.lastIndexOf("\'\'")-1); 
```

As`substring` *方法*采用开始索引和结束索引。它应该是 ：

```
 var inch = f.substring(nn + 1, f.lastIndexOf("\'\'")); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-12-16T16:55:37.467

上面选择的答案的问题是，如果没有提供英寸，则它不匹配。这是一个处理双脚/英寸或仅脚的解决方案。

```
 display( parse("5'9\"") );  
  display( parse("6'") );

  function parse(feetAndInches){
    var fAndI = feetAndInches.split("'");
    var feet = fAndI[0];
    var inches = fAndI[1] || "0";
    inches = inches.replace('"', '');
    var msg = feet+" feet, " + inches+ " inches";
    return msg;
  }

  function display(msg) {
    var p = document.createElement('p');
    p.innerHTML = String(msg);
    document.body.appendChild(p);
  } 
```

在这里试试：[https ://jsfiddle.net/dqeeysf6/3/](https://jsfiddle.net/dqeeysf6/3/)

# android - 在 Android 上使用 Health Device Profile 时出现异常

> ID：15292726
> 
> 赞同：0
> 
> 时间：2013-03-08T11:16:54.240
> 
> 标签：android, sockets, bluetooth

我正在尝试使用健康设备配置文件和示例通过蓝牙从 Onyx2（指尖血氧计）获取数据，这些数据可以在[Android 开发者网站](http://tool.oschina.net/uploads/apidocs/android/resources/samples/BluetoothHDP/src/com/example/bluetooth/health/BluetoothHDPActivity.html)上找到。但我收到以下错误

`E/BluetoothEventLoop.cpp(432): onHealthDeviceConnectionResult: D-Bus error: org.bluez.Error.HealthError (Error getting remote SDP records)`. 这个问题的原因是什么？顺便说一句，大约 50 次中的 1 次，我得到了数据。

```
// Callbacks to handle connection set up and disconnection clean up.
private final BluetoothProfile.ServiceListener mBluetoothServiceListener =
        new BluetoothProfile.ServiceListener() {
    public void onServiceConnected(int profile, BluetoothProfile proxy) {
        if (profile == BluetoothProfile.HEALTH) {
            mBluetoothHealth = (BluetoothHealth) proxy;
            if (Log.isLoggable(TAG, Log.DEBUG))
                Log.d(TAG, "onServiceConnected to profile: " + profile);
        }
    }

    public void onServiceDisconnected(int profile) {
        if (profile == BluetoothProfile.HEALTH) {
            mBluetoothHealth = null;
        }
    }
};

private final BluetoothHealthCallback mHealthCallback = new BluetoothHealthCallback() {
    // Callback to handle application registration and unregistration events.  The service
    // passes the status back to the UI client.
    public void onHealthAppConfigurationStatusChange(BluetoothHealthAppConfiguration config,
            int status) {
        if (status == BluetoothHealth.APP_CONFIG_REGISTRATION_FAILURE) {
            mHealthAppConfig = null;
            sendMessage(STATUS_HEALTH_APP_REG, RESULT_FAIL);
        } else if (status == BluetoothHealth.APP_CONFIG_REGISTRATION_SUCCESS) {
            mHealthAppConfig = config;
            sendMessage(STATUS_HEALTH_APP_REG, RESULT_OK);
        } else if (status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_FAILURE ||
                status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_SUCCESS) {
            sendMessage(STATUS_HEALTH_APP_UNREG,
                    status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_SUCCESS ?
                    RESULT_OK : RESULT_FAIL);
        }
    }

    // Callback to handle channel connection state changes.
    // Note that the logic of the state machine may need to be modified based on the HDP device.
    // When the HDP device is connected, the received file descriptor is passed to the
    // ReadThread to read the content.
    public void onHealthChannelStateChange(BluetoothHealthAppConfiguration config,
            BluetoothDevice device, int prevState, int newState, ParcelFileDescriptor fd,
            int channelId) {
        if (Log.isLoggable(TAG, Log.DEBUG))
            Log.d(TAG, String.format("prevState\t%d ----------> newState\t%d",
                    prevState, newState));
        if (prevState == BluetoothHealth.STATE_CHANNEL_CONNECTING &&
                newState == BluetoothHealth.STATE_CHANNEL_CONNECTED) {
            if (config.equals(mHealthAppConfig)) {
                mChannelId = channelId;
                sendMessage(STATUS_CREATE_CHANNEL, RESULT_OK);
                (new ReadThread(fd)).start();
            } else {
                sendMessage(STATUS_CREATE_CHANNEL, RESULT_FAIL);
            }
        } else if (prevState == BluetoothHealth.STATE_CHANNEL_CONNECTING &&
                   newState == BluetoothHealth.STATE_CHANNEL_DISCONNECTED) {
            sendMessage(STATUS_CREATE_CHANNEL, RESULT_FAIL);
        } else if (newState == BluetoothHealth.STATE_CHANNEL_DISCONNECTED) {
            if (config.equals(mHealthAppConfig)) {
                sendMessage(STATUS_DESTROY_CHANNEL, RESULT_OK);
            } else {
                sendMessage(STATUS_DESTROY_CHANNEL, RESULT_FAIL);
            }
        }
    }
};
// Initiates application registration through {@link
    // BluetoothHDPService}.
    Button registerAppButton = (Button) findViewById(R.id.button_register_app);
    registerAppButton.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            sendMessage(BluetoothHDPService.MSG_REG_HEALTH_APP,
                    HEALTH_PROFILE_SOURCE_DATA_TYPE);
        }
    });

    // Initiates application unregistration through {@link
    // BluetoothHDPService}.
    Button unregisterAppButton = (Button) findViewById(R.id.button_unregister_app);
    unregisterAppButton.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            sendMessage(BluetoothHDPService.MSG_UNREG_HEALTH_APP, 0);
        }
    });

    // Initiates channel creation through {@link BluetoothHDPService}. Some
    // devices will
    // initiate the channel connection, in which case, it is not necessary
    // to do this in the
    // application. When pressed, the user is asked to select from one of
    // the bonded devices
    // to connect to.
    Button connectButton = (Button) findViewById(R.id.button_connect_channel);
    connectButton.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            mAllBondedDevices = (BluetoothDevice[]) mBluetoothAdapter
                    .getBondedDevices().toArray(new BluetoothDevice[0]);

            if (mAllBondedDevices.length > 0) {
                int deviceCount = mAllBondedDevices.length;
                if (mDeviceIndex < deviceCount)
                    mDevice = mAllBondedDevices[mDeviceIndex];
                else {
                    mDeviceIndex = 0;
                    mDevice = mAllBondedDevices[0];
                }
                String[] deviceNames = new String[deviceCount];
                int i = 0;
                for (BluetoothDevice device : mAllBondedDevices) {
                    deviceNames[i++] = device.getName();
                }
                SelectDeviceDialogFragment deviceDialog = SelectDeviceDialogFragment
                        .newInstance(deviceNames, mDeviceIndex);
                deviceDialog.show(getFragmentManager(), "deviceDialog");
            }
        }
    });

    // Initiates channel disconnect through {@link BluetoothHDPService}.
    Button disconnectButton = (Button) findViewById(R.id.button_disconnect_channel);
    disconnectButton.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            disconnectChannel();
        }
    });
    registerReceiver(mReceiver, initIntentFilter());
}

// Sets up communication with {@link BluetoothHDPService}.
private ServiceConnection mConnection = new ServiceConnection() {
    public void onServiceConnected(ComponentName name, IBinder service) {
        mHealthServiceBound = true;
        Message msg = Message.obtain(null,
                BluetoothHDPService.MSG_REG_CLIENT);
        msg.replyTo = mMessenger;
        mHealthService = new Messenger(service);
        try {
            mHealthService.send(msg);
        } catch (RemoteException e) {
            Log.w(TAG, "Unable to register client to service.");
            e.printStackTrace(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T18:45:32.690

我记得 Android HDP 演示应用程序在终止时不关闭蓝牙连接有一些问题。您可以进行的一项测试来验证这一点：

*   关闭你的安卓的蓝牙。
*   再次打开它。
*   与健康设备配对（在安卓设置中）
*   启动你的安卓应用程序。
*   尝试使用健康设备连接和传输数据。

如果这些步骤在重复时始终如一，我几乎可以肯定这与应用程序没有像我以前那样释放资源有关。

# entity-framework-5 - EF5 SaveChanges()

> ID：15292728
> 
> 赞同：0
> 
> 时间：2013-03-08T11:16:58.463
> 
> 标签：entity-framework-5

我是实体框架的新手，我的`SaveChanges()`方法有问题：我只有一个没有参数的重载；我没有`SaveChanges(Option)`或 `SaveChanges(Bool)`。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T17:20:28.640

我很确定这`SaveChanges(bool)`是一个旧的 ObjectContext 方法。

我想它现在已被弃用`SaveChanges()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T12:12:42.810

`SaveChanges()`处理在您执行 CRUD 操作时自动存储的状态修改。这就是为什么不需要更多的原因。

确保`SaveChanges()`在代码中的最佳时刻调用，以确保关系约束良好（用于外键一致性）。

# java - 在 Java 中获取声明类

> ID：15292732
> 
> 赞同：1
> 
> 时间：2013-03-08T11:17:19.777
> 
> 标签：java, class

在Java中有类似的东西：

```
class A {}
class B {private A a;}
class C {private A a;} 
```

我怎么知道哪个是声明 a 的类？

即我想获得B级或C级

任何想法表示赞赏。

问候

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T11:19:47.247

你不能只使用你指定的结构。您必须将引用传递给`B`或`C`的`A`构造函数的实例，然后编写一些逻辑来确定传入的类型。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T11:26:09.180

据我了解，您需要在代码中找到 A 类的所有用法（类型用法）（如果我错了，请纠正我）。

它取决于您的 IDE 和已安装的代码检查插件，大多数 IDE 都提供这样的功能，例如在 Eclipse 中，您可以右键单击一个类并选择“References->Project”

如果你的 IDE 没有这个，有很多 Java 工具，看看：[A tool like ReSharper, but for Java?](https://stackoverflow.com/questions/615334/a-tool-like-resharper-but-for-java)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T11:26:10.577

您必须执行以下操作：

```
class A {

    boolean itWasC;

    public A( C objectC ) {
        itWasC = true;
    }

    public A( B objectB ) {
        itWasC = false;
    }
} 
```

`class B`一旦您从构造函数创建或`class C`传递`this`给构造函数的“A”类对象。例如：`A objectA = new A( this )`

这很奇怪，**如果没有实例化对象就无法做到**。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T11:38:27.657

```
class A {
    public void print(){
        String className = new Exception().getStackTrace()[1].getClassName();
        System.out.println(className);
    }
}
class A1 {
    private A a;
    public A1(){
        a= new A();
        a.print();
    }
}
class A2 {
    private A a;
    public A2(){
        a= new A();
        a.print();
    }
}
public class C {
    public static void main(String[] args) {
        A1 a1= new A1();
        A2 a2 = new A2();
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T11:28:25.590

你不能在java中做到这一点，除非你有A类中的对象的引用......绝对不是通过编程方式或运行时。

但是，如果您只想找出引用 Class A 的类，一种选择是将类重命名为其他名称并尝试编译。

瞧，编译器会列出所有引用类 A 的类，但不能解析为类型。

另一种选择是使用[反射来找出类中的变量](http://tutorials.jenkov.com/java-reflection/private-fields-and-methods.html)并比较变量的类型是否属于 A 类类型

这是我为此编写的示例程序

导入 java.lang.reflect.Field；

导入 com.test.ClassA；

```
 package com.test;
    public class ClassA {

   }

    public class ClassB {

        private ClassA classA;

        public static void main(String[] args) throws Exception,
                NoSuchFieldException {

            Field classVariable = ClassB.class
                    .getDeclaredField("classA");

            classVariable.setAccessible(true);

            System.out.println(classVariable.getType());

            System.out.println(ClassA.class);

            if (ClassA.class.equals(classVariable.getType())) {
                System.out.println("Class A is referenced");
            }

        }
    } 
```

**结果**

```
class com.test.ClassA
class com.test.ClassA
Class A is referenced 
```

# c# - 数据绑定下拉列表

> ID：15292735
> 
> 赞同：7
> 
> 时间：2013-03-08T11:17:24.143
> 
> 标签：c#, asp.net, database, data-binding

当我尝试数据时 `dropdownlist`，得到了这个：`system.data.datarowview`
我做错了什么？

```
 string strQuery = "Select Item FROM Calendar Where UserD="Test";
 SqlConnection myConn;
 SqlDataAdapter sqlDa = new SqlDataAdapter(strQuery,myConn);
 DataTable sqlTa = new DataTable("Test");
 da.Fill(sqlTa);
 ddlList.DataSource = sqlTa;
 ddlList.DataBind(); 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-08T11:20:04.657

```
string strQuery = "Select Item FROM Calendar Where UserD='Test'"; 
```

请注意，您需要在字符串周围使用单引号，因为在您的代码中您从未完成初始字符串，因此其余代码只是成为 strQuery 的一部分。

另外**如果以后带回多个字段**，在绑定下拉列表时需要指定数据库中哪个字段是值，哪个是显示的文本。

```
ddlList.DataSource = sqlTa;
ddlList.DataValueField = "ValueFieldFromDatabaseResults";
ddlList.DataTextField = "ShownTextFieldFromDatabaseResults";
ddlList.DataBind(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T11:20:19.717

您需要告诉它哪些字段用作值和文本。

```
ddlList.DataSource = sqlTa;
ddlList.DataValueField = "ValueField";
ddlList.DataTextField = "TextField";
ddlList.DataBind(); 
```

而且您的 select 语句缺少一个“。它应该是：

```
"Select Item FROM Calendar Where UserD='Test'" 
```

一个例子是：

正如 ryan 指出的那样，如果您要撤回一个领域，那么您可以这样做：

```
 DataTable dtTable = new DataTable();

        try
        {
            using (SqlConnection sqlConnection = new SqlConnection("Your connection"))
            {
                using (SqlCommand sqlCommand = new SqlCommand("Select Item FROM Calendar Where UserD='Test'", sqlConnection))
                {
                    sqlConnection.Open();

                    using (SqlDataReader sqlDataReader = sqlCommand.ExecuteReader())
                    {
                        dtTable.Load(sqlDataReader);
                        sqlDataReader.Close();
                    }
                }
            }
        }
        catch (Exception error)
        {
            throw error;
        }

        ddlList.DataSource = dtTable;
        ddlList.DataBind(); 
```

但是，如果您有多个字段，那么您可以这样做：

```
 DataTable dtTable = new DataTable();

        try
        {
            using (SqlConnection sqlConnection = new SqlConnection("Your connection"))
            {
                using (SqlCommand sqlCommand = new SqlCommand("Select Item, id FROM Calendar Where UserD='Test'", sqlConnection))
                {
                    sqlConnection.Open();

                    using (SqlDataReader sqlDataReader = sqlCommand.ExecuteReader())
                    {
                        dtTable.Load(sqlDataReader);
                        sqlDataReader.Close();
                    }
                }
            }
        }
        catch (Exception error)
        {
            throw error;
        }

        ddlList.DataSource = dtTable;
        ddlList.DataValueField = "id";
        ddlList.DataTextField = "item";
        ddlList.DataBind(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T11:54:04.397

添加此行方式

```
ddlList.DataSource = sqlTa;
ddlList.DataValueField = "ValueFieldFromDatabaseResults";
ddlList.DataTextField = "ShownTextFieldFromDatabaseResults";
ddlList.DataBind(); 
```

然后你错过了连接字符串

```
SqlConnection myConn="must add your connection string code here " 
```

你还没有打开连接字符串所以

添加`myconn.open()`

为了

```
 SqlConnection myConn="must add your connection string code here "
`myconn.open()`
 SqlDataAdapter sqlDa = new SqlDataAdapter(strQuery,myConn) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:22:14.933

试试这个..

```
 ddlList.DataSource = sqlTa;                 
 ddlList.DataTextField = "class";
 ddlList.DataBind(); 
```

添加`ddList.Value="somefield"`是可选的

# c# - 如何使用 c# 创建和建议框（文本框）

> ID：15292736
> 
> 赞同：1
> 
> 时间：2013-03-08T11:17:30.913
> 
> 标签：c#, autosuggest

我想在谷歌中创建一个建议框。我想要建议框中的数据库中的数据，并且我已经创建了一个数据集。我查看了 textbox 和 set 的所有属性`AutoCompleteMode=SuggestAppend`，`AutoCompleteSource=CustomSource`并给出了很少的值，`AutoCompleteCustomSource (collection)`
它确实有效。我应该怎么做才能使用数据库中的数据做同样的事情？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:19:49.710

从您的 中取出数据`db table`，准备一个并通过代码`Collection`将其绑定到您的控件。`AutoCompleteCustomSource`

见下面的代码：

```
public void BindAutoCompleteList(DataTable myDataTable)
{
     AutoCompleteStringCollection acDataSource= new  
     AutoCompleteStringCollection();
     foreach (DataRow row in myDataTable.Rows)
      {
         acDataSource.Add(row.Cells[0].Value.ToString());
      }

     txtBoxAuto.Clear(); 
     txtBoxAuto.AutoCompleteMode = AutoCompleteMode.Suggest;
     txtBoxAuto.AutoCompleteSource = AutoCompleteSource.CustomSource;
     txtBoxAuto.AutoCompleteCustomSource = acDataSource;
} 
```

并`BindAutoCompleteList()`在表单的构造函数或任何适合您的应用程序的位置调用它。

其中`myDataTable`由您的数据库表行组成

# sql - 用逗号分隔的 VB.NET Firebird 结果

> ID：15292746
> 
> 赞同：0
> 
> 时间：2013-03-08T11:18:06.157
> 
> 标签：sql, vb.net, datagridview, firebird

我有这个表：

电影

```
| Name | Genre |

| A    | 1     |
| B    | 2     |
| C    | 3     |
| D    | 4     |
| E    | 5     | 
```

流派

```
| Name     | GenreID |

| Action   | 1       |
| Sci-Fi   | 2       |
| Horror   | 3       |
| Comics   | 4       |
| Romantic | 5       | 
```

电影_类型

```
| Film | Genre |

| 1    | 2     |
| 1    | 3     |
| 1    | 4     |
| 2    | 1     |
| 2    | 4     |
| 3    | 2     | 
```

VB.NET 2010 与 .NET FrameWork 2.0 源代码：

```
Imports FirebirdSql.Data.FirebirdClient
Public Class Form1
Dim sCommand As FbBatchExecution
Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    DataGridView1.Columns.Add(0, "Part")
    DataGridView1.Columns.Add(1, "Partn")
End Sub
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Dim connection As New FbConnection("Database=e:\DBSCHOOL.FDB;User=SYSDBA;Password=masterkey;Dialect=3;ServerType=1")
    connection.Open()
    sCommand = New FbBatchExecution(connection)
    AddHandler sCommand.CommandExecuted, AddressOf CmdE

    'sCommand.SqlStatements.Add("CREATE TABLE Films (Name varchar(50), Genre int)")
    'sCommand.SqlStatements.Add("insert into Films (Name, Genre) values ('A', 1);")
    'sCommand.SqlStatements.Add("insert into Films (Name, Genre) values ('B', 2);")
    'sCommand.SqlStatements.Add("insert into Films (Name, Genre) values ('C', 3);")
    'sCommand.SqlStatements.Add("insert into Films (Name, Genre) values ('D', 4);")
    'sCommand.SqlStatements.Add("CREATE TABLE Film_genre (Film varchar(50), Genre int)")
    'sCommand.SqlStatements.Add("insert into Film_genre (Film, Genre) values (1, 2);")
    'sCommand.SqlStatements.Add("insert into Film_genre (Film, Genre) values (1, 3);")
    'sCommand.SqlStatements.Add("insert into Film_genre (Film, Genre) values (1, 4);")
    'sCommand.SqlStatements.Add("insert into Film_genre (Film, Genre) values (2, 1);")
    'sCommand.SqlStatements.Add("insert into Film_genre (Film, Genre) values (2, 4);")
    'sCommand.SqlStatements.Add("insert into Film_genre (Film, Genre) values (3, 2);")
'sCommand.SqlStatements.Add("CREATE TABLE Genres (Name varchar(20), GenreID int)")
'sCommand.SqlStatements.Add("insert into Genres (Name, GenreID) values ('Action', 1);")
'sCommand.SqlStatements.Add("insert into Genres (Name, GenreID) values ('Sci-Fi', 2);")
'sCommand.SqlStatements.Add("insert into Genres (Name, GenreID) values ('Horror', 3);")
'sCommand.SqlStatements.Add("insert into Genres (Name, GenreID) values ('Comics', 4);")
'sCommand.SqlStatements.Add("insert into Genres (Name, GenreID) values ('Romantic', 5);")

    sCommand.SqlStatements.Add("SELECT Name, LIST(Genre,';') from Films group by Name;")

    sCommand.Execute()
    connection.Close()
End Sub
Sub CmdE(ByVal sender As System.Object, ByVal e As CommandExecutedEventArgs)
    If e.StatementType = 63 Then
        DataGridView1.Rows.Clear()
        Dim Table As List(Of DataGridViewRow) = New List(Of DataGridViewRow)
        Dim FBDR As FbDataReader = e.DataReader
        While FBDR.Read()
            Dim adatok(FBDR.FieldCount - 1) As String
            For i = 0 To FBDR.FieldCount - 1
                adatok(i) = FBDR(i).ToString
            Next
            Table.Add(New DataGridViewRow())
            Table(Table.Count - 1).CreateCells(DataGridView1, adatok)
        End While
        DataGridView1.Rows.AddRange(Table.ToArray)
    End If
End Sub
End Class 
```

如何解决我们得到的上述结果？

我想得到这个结果：

```
| Film | Genres                 |

| A    | Sci-Fi, Horror, Comics |
| B    | Action, Comics         |
| C    | Sci-Fi                 | 
```

感谢您的帮助，对不起我的英语不好！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:53:50.887

您的问题的直接解决方案是：

```
SELECT f.Name, LIST(g.Name)
FROM Films f
INNER JOIN Film_Genre fg ON fg.Film = f.Genre
INNER JOIN Genres g ON g.GenreID = fg.Genre
GROUP BY f.Name 
```

如果您想要删除重复项，您可以使用`LIST(DISTINCT g.Name)`

此外，该列`Films.Genre`确实是一个错误的名称。我想你的意思是`Films.FilmID`或类似的东西。

由于这是相当基本的 SQL，我建议您阅读连接。

# sass - 在 Sass 中为 CSS 属性使用变量

> ID：15292749
> 
> 赞同：27
> 
> 时间：2013-03-08T11:18:13.363
> 
> 标签：sass, mixins

我正在编写一个@mixin，其中包含一些数学计算元素的百分比宽度，但由于它非常有用，我也想对其他属性使用相同的函数，比如边距和填充。

有没有办法将属性名称作为参数传递给 mixin？

```
@mixin w_fluid($property_name, $w_element,$w_parent:16) {
    $property_name: percentage(($w_element/$w_parent));
} 
```

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2013-03-08T11:26:54.957

您需要对变量使用[*插值*](http://sass-lang.com/documentation/file.SASS_REFERENCE.html#interpolation_)（例如`#{$var}`），以便 Sass 将其视为 CSS 属性。没有它，你只是在执行变量赋值。

```
@mixin w_fluid($property_name, $w_element, $w_parent:16) {
    #{$property_name}: percentage(($w_element / $w_parent));
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2017-03-20T10:22:08.710

除了@rcorbellini 回复

您可以同时使用字符串和变量

```
@mixin margin($direction) { // element spacing

    margin-#{$direction}: 10px;

} 
```

# java - Web 开发中的单元测试与集成测试

> ID：15292751
> 
> 赞同：18
> 
> 时间：2013-03-08T11:18:19.230
> 
> 标签：java, php, unit-testing, tdd, integration-testing

我想问一下在 Web 开发中使用单元测试。单元测试的想法很棒，但它真的在 Web 应用程序的上下文中带来了价值吗？我的问题的第二部分是关于 TDD。如果在实际代码之前创建集成测试，这种方法可以称为“测试驱动开发”吗？

**1\. 假设**

根据定义，单元测试应该只在一个服务层上测试代码。如果一个测试跨多个层测试代码，我们就有一个集成测试。

**2\. 论据**

**2.1 没有算法**

Web 应用程序中的算法并不多。这不像构建一个 3D 物理引擎，其中每个方法都会做一些具有挑战性且难以调试的事情。Web 应用程序主要是关于集成和生成 HTML。

Web 应用程序的最大挑战是： - 干净的代码（任何软件的普遍问题，但不可测试） - 数据一致性 - 集成（编程语言、文件系统、配置文件、Web 服务器、缓存系统、数据库、搜索引擎、外部 API - 所有这些系统必须根据要求协同工作）

如果您想为 Web 应用程序中的每个类构建单元测试，您将测试（在大多数情况下）：填充数组、字符串连接和语言的本机函数。

**2.2 成本**

仅仅因为 Web 应用程序都是关于集成的，所以总是存在多个依赖项。你必须模拟许多不同的类，甚至编写一个小测试实际上可能是一项大工作。更糟糕的是，它不仅与测试有关。软件需要可测试。这意味着必须能够在几乎每个类中注入依赖项。在两个类（或系统）之间不创建额外层的情况下注入依赖项并不总是可能的。它使代码复杂化并使其使用起来更加昂贵。

**3\. 集成测试**

如果 Web 开发都是关于集成的，为什么不测试它呢？很少有反驳的论点。

**3.1 集成测试说“有些东西坏了”，但没有说在哪里**

这真的归结为：与使代码“UnitTestable”和更复杂（我想这是主观的）所需的时间相比，集成测试失败需要多长时间才能找到错误？根据我的经验，找到问题的根源并不需要很长时间。

**3.2 你可以在任何环境下运行单元测试，集成测试很难做到**

是的，如果您想在没有数据库的情况下运行集成测试。通常有一个数据库。只要您在每次测试后对修复数据进行操作并进行清理，就应该没问题。事务数据库非常适合这项任务。打开事务，插入数据，测试，回滚。

**3.3 集成测试难以维护**

我无法对此发表评论，因为我所有的测试都运行良好，而且我从来没有遇到过问题。

**4\. 创建好的单元测试！**

整个论点可以用“如果您正确地创建单元测试，那么您就没有任何问题。”来攻击。这不能与集成测试相同吗？如果创建集成测试更容易，为什么不坚持使用它并让它正确呢？

不要误会我的意思，我不反对单元测试。这是一个完美的主意，我向大家推荐。我试图理解：它真的适合 Web 开发吗？我想听听你的意见和经验。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T12:52:39.810

这是一个*该死的*好问题，也是**更多开发人员应该问自己**的问题。

我不认为这仅适用于 Web 开发，但我认为这是一个很好的例子，可以作为讨论的基础。

在决定您的测试策略时，您提出的观点非常有效。在商业世界中，成本（就时间而言）可能是最重要的因素。我总是遵循一些简单的规则来保持我的测试策略切合实际。

*   单元测试很重要，可单元测试的“库”（身份验证、计费、服务抽象等）
*   单元测试模型，假设你有任何，尽可能（它真的应该是可能的！）
*   集成测试应用程序的重要端点（完全取决于应用程序）

一旦你确定了这三点，考虑到你的成本限制，你可能会继续以有意义的方式测试任何其他有意义的东西。

单元测试和集成测试并不是相互排斥的，除非你正在构建一个漂亮的单元测试库，否则你应该两者都做。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T11:38:06.087

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:49:26.130

与单元测试相比，集成测试需要更多时间来执行。

“...关于集成总是有多个依赖项”->如果您在一个依赖单元上编码而没有完成其他单元，那么您还不能进行集成测试。如果您想确保您的代码此时可以正常工作，您可以进行单元测试。

如果您团队的每个成员都在开发自己的依赖单元，他们还不能进行集成测试，因为所需的单元仍在由其他人开发。但是，如果他们在提交到存储库之前执行单元测试，至少他们可以确保他们的代码正常工作。

# c# - c#表单在RDP会话中没有完全重绘

> ID：15292752
> 
> 赞同：0
> 
> 时间：2013-03-08T11:18:25.467
> 
> 标签：c#, .net, winforms, drawing, rdp

我有一个奇怪的问题，我似乎无法找到解决方案。我有一个用 C# .net4.0 编写的 Windows 窗体应用程序。在这个应用程序中，有一个面板，我可以在上面绘制图表。此图表是在面板的“Paint”事件上绘制的。

还有一个按钮可以在此应用程序之上启动另一个应用程序，该应用程序显示其他信息所有这些工作正常，直到我关闭打开的应用程序。当我关闭它时，我再次看到我的第一个应用程序，但其中的一部分尚未重新绘制。似乎带有图表的面板正确重绘，其余的容器面板没有。我用图表作为测试删除了面板的“Paint”事件，然后一切正常（当然没有绘制图表）

奇怪的是，只有当程序处于 RDP 会话中时，我才会遇到这个问题。在我的本地电脑上，一切正常/刷新。

如果有人可以帮助我，将不胜感激！

为了清楚起见，我在下面添加了屏幕截图： ![第一步：打开父程序](../Images/dda11539afcd07000a45ece8efed86ab.png) ![第二步：打开子程序](../Images/d3a09b8e27be1daa3cfb7d8d55fa2a9f.png) ![第 3 步：父窗体未正确重绘](../Images/1efeb7c508c46b781cd5febc1dfd8201.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-01T08:02:57.073

我们在 RDP 上也有很多渲染问题。尝试设置此处提到的值：

[http://blog.tedd.no/2011/04/28/optimizing-rdp-for-casual-use-windows-7-sp1-remotefx/](http://blog.tedd.no/2011/04/28/optimizing-rdp-for-casual-use-windows-7-sp1-remotefx/)

此外，在通过 rdp 使用我们的应用程序时，我们还实现了额外的刷新，虽然很奇怪，但似乎有帮助。我们还没有找到一个非常好的和干净的解决方案。启动 RDP 会话时，您还可以在选项菜单中更改 RDP 行为。例如，我们正在使用透明度，并且不得不关闭位图缓存。

# jquery - 用一个按钮验证 2 个表单

> ID：15292755
> 
> 赞同：0
> 
> 时间：2013-03-08T11:18:37.467
> 
> 标签：jquery, jquery-validate

我正在使用来自[http://bassistance.de/jquery-plugins/jquery-plugin-validation/](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)的 Jquery Validation 插件。是否可以使用此插件通过单个按钮验证 2 个表单。我发现这个插件非常有用，但不确定如何同时验证 2 个表单。

```
<form>
    <legend>Shipping</legend>
    <label for="name">Name:</label>
    <input type="text" id="name"></input>
    <br/>
    <label for="address">Address:</label>
    <textarea id="address" rows="4"></textarea>
</form>
<form>
    <legend>Billing</legend>
    <label for="name">Name:</label>
    <input type="text" id="name"></input>
    <br/>
    <label for="address">Address:</label>
    <textarea id="address" rows="4"></textarea>
</form>
<br/><br/>
<button type="submit">Validate the Forms</button> 
```

JSFiddle 示例：http: [//jsfiddle.net/5bkuw/](http://jsfiddle.net/5bkuw/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:24:09.287

试试这个

放一个按钮

```
 <input type="button" onClick="validateForms()"/>

function validateForms()
{

  $('#form1').valid();
  $('#form2').valid();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:35:06.803

感谢 PSR 提示此功能，但此功能有效

```
<input type="button" onClick="validateForms()"/>

function validateForms()
{

  $('#form1').valid();
  $('#form2').valid();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T16:37:45.647

由于您已经在使用 jQuery，最好的方法是完全消除草率的内联 JavaScript 代码，并将其替换为 jQuery`click`事件处理程序。 [见：http://api.jquery.com/on/](http://api.jquery.com/on/)

**演示：http: [//jsfiddle.net/xVM6a/](http://jsfiddle.net/xVM6a/)**

**HTML**：

```
<input type="button" id="mybutton" /> 
```

**jQuery** :

```
$(document).ready(function() {

    $('#mybutton').on('click', function() {
        $('#form1').valid();
        $('#form2').valid();
    });

}); 
```

# java - 构造函数：设置此引用

> ID：15292757
> 
> 赞同：0
> 
> 时间：2013-03-08T11:18:40.693
> 
> 标签：java

我已经实现了一个连接到*数据库*的应用程序。现在，问题是我需要为某些对象实现一个*缓存系统*（如果可能的话），因为每次我需要这些对象时，它们的初始化都需要很长时间才能从数据库中获取所需的数据。（这些对象不会经常更改，事实上，如果需要，我可以使用时间戳更新它们。）

由于我不能轻易更改整个应用程序，我想知道是否有任何方法可以在构造函数本身中设置“this”对象。我指的是Objective-C的能力，我可以调用任何返回an的方法并将其`id`设置为`self`“变量”，然后实际上更新整个对象。为了更好地解释我的想法：我想在这些类中初始化一个静态缓存，并在构造函数中获取已经存储的对象（如果可用）。请注意，所有*setter 也都引用 SQL*代码。

我也知道我可以只*使用已存储对象的 getter*在构造函数中设置新对象的值，但这也会*创建许多对象*，如果值可能发生*变化，我不会复制*这个到从该对象克隆的所有其他对象。

有什么想法吗，谢谢？！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T11:22:22.510

构造函数只对新对象进行操作。如果要重用对象，则不能使用构造函数。创建对象本身是微不足道的<< 100 ns，这让我相信您不需要回收对象，而是来自数据库的对象中的数据。

访问数据库大约需要 0.1 到 10 毫秒。创建一个对象需要 10 到 100 ns（百万分之一毫秒） 如果您担心创建新对象的成本，则根本不应该使用数据库，因为它可能会贵一百万倍。

# c# - 确定是否在IDE中执行的方法？

> ID：15292758
> 
> 赞同：12
> 
> 时间：2013-03-08T11:18:40.927
> 
> 标签：c#, vb.net, visual-studio-2010, ide, conditional-compilation

在`C#/VB`in 中`Visual Studio 2010`，代码中有没有办法确定程序当前是否在 IDE 中运行？

```
eg. If ProgramRunningInIDE Then MessageBox.Show exc.Message 
```

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-08T11:22:24.113

您可以检查调试器是否附加：

```
System.Diagnostics.Debugger.IsAttached 
```

这基本上做同样的事情。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-03-08T11:35:40.987

您可以使用IsInDesignMode[属性。](http://msdn.microsoft.com/en-us/library/system.componentmodel.designerproperties.isindesignmode.aspx)但是，在某些情况下它并不准确，因此您可能还需要检查[UsageMode](http://msdn.microsoft.com/en-us/library/system.componentmodel.licensemanager.usagemode%28v=vs.71%29.aspx)。

```
public static bool IsRunningInIdeContext
{
    get {
        if (DesignerProperties.IsInDesignMode)
            return true;
        return LicenseManager.UsageMode == LicenseUsageMode.Designtime;
    }
} 
```

# java - 如何卢克支持 lucene 4.1

> ID：15292763
> 
> 赞同：0
> 
> 时间：2013-03-08T11:18:58.967
> 
> 标签：java, jakarta-ee, lucene, luke

正如标题所示，我正在尝试使用 luke 查看 lucene 索引，但当前版本的 luke 不支持 lucene 4.1。有谁知道如何更新卢克。我用谷歌搜索并找到了一个应该为卢克更新的文件。但是不知道怎么用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:28:35.187

[卢克](https://code.google.com/p/luke/)通常有点落后。在撰写本文时，当前的 Lucene 版本是 4.1，Luke 是 4.0.0-ALPHA。

由于这纯粹是自愿/社区项目，因此非常欢迎您加入并尽快将其发布；-)

# jquery - 奇怪的下拉菜单jquery

> ID：15292768
> 
> 赞同：0
> 
> 时间：2013-03-08T11:19:10.607
> 
> 标签：jquery, html, css, drop-down-menu, menu

我开发了这个网站： http: [//loloey.com/forme/formeeng.html](http://loloey.com/forme/formeeng.html) 我在页面左上角名为“Change Universe”的下拉菜单中有一个非常奇怪的问题：当我多次悬停在这个下拉菜单上时，下拉元素消失！！！该问题在所有浏览器上都存在，例如 firefox、explorer 9、chrome 等。

我用一个简单的 jquery 代码创建了这个菜单：

```
$(document).ready(function () {     
$('#nav li').hover(
    function () {
        //show its submenu
        $('ul', this).stop().slideDown(100);
    }, 
    function () {
        //hide its submenu
        $('ul', this).stop().slideUp(100);                      
    }
);

}); 
```

这是CSS：

```
/*---- CROSS BROWSER DROPDOWN MENU ----*/

#nav {

padding-left: 90px;
margin-top:-15px;
list-style: none;
float: left;
font-family: 'helveticaneuelight', Arial, sans-serif;
font-size: 9px;
color: #fff;
}   

    /* make the LI display inline */
    /* it's position relative so that position absolute */
    /* can be used in submenu */
    #nav li {
        float:left; 
        display:block; 
        width:70px; 
        background:#808184; 
        position:relative;
        z-index:500; 
        margin:0 1px;
    }

    /* this is the parent menu */
    #nav li a {
display: block;
padding: 5px 5px 4px 1px;
height: 11px;
text-decoration: none;
color: #58595B;
text-align: left;
    }

    #nav li a:hover {
        color:#fff;
    }

    /* you can make a different style for default selected value */
    #nav a.selected {
        color:#f00;
    }

    /* submenu, it's hidden by default */
    #nav ul {
        position:absolute; 
        left:0; 
        display:none; 
        margin:0 0 0 -1px; 
        padding:0; 
        list-style:none;
    }

    #nav ul li {
        width:70px; 
        float:left; 
    }

    /* display block will make the link fill the whole area of LI */
    #nav ul a {
display: block;
height: 15px;
padding: 4px 5px;
color: #58595B;
    }

    #nav ul a:hover {
        text-decoration:none;   
    }

    /* fix ie6 small issue */
    /* we should always avoid using hack like this */
    /* should put it into separate file : ) */
    *html #nav ul {
        margin:0 0 0 -2px;
    } 
```

这是html：

```
<div id="cambia">
  <div class="top_a">CHANGE UNIVERSE:</div>
  <ul id="nav">

<li><a href="#">FORME</a>
  <ul>
    <li><a href="../grandfloor/grandflooreng.html">GRANDFLOOR</a></li>
    <li><a href="../gdo/gdoeng.html">GDO</a></li>
    <li><a href="../parsi/parsieng.html">PARSI</a></li>
  </ul>         
    <div class="clear"></div>
</li>   
  </ul>
</div> 
```

有人帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:25:33.020

尝试`stop(true,true)`

> 如果 clearQueue 参数的值为 true，则队列中的其余动画将被删除并且永远不会运行。

```
$(this).stop(true,true).slideDown(100); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T12:50:40.827

您可以尝试低于 hack

这是工作演示：http: [//jsfiddle.net/QM73r/](http://jsfiddle.net/QM73r/)

...

```
$(document).ready(function () { 

    $('#nav li').hover(
        function () {
            //show its submenu
            $('ul', this).stop().slideDown(100);

        }, 
        function () {
            //hide its submenu
            $('ul').attr('style', 'display:block');
            $('ul', this).stop().slideUp(100);

        }
    ); 
```

# c# - 如何在 mvc 控制器中显示警报消息

> ID：15292770
> 
> 赞同：0
> 
> 时间：2013-03-08T11:19:17.827
> 
> 标签：c#, javascript, asp.net-mvc, alert

我需要在 mvc 控制器中显示警报消息（仅服务器端不在客户端）。我有 id 列表，我需要在我的警报消息中显示所有 id。我尝试下面的代码：

```
 if (id.Count > 0)
            {
              // here i need to display the alert message with my ids 
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T08:37:46.163

Web 应用程序的性质不会让您轻松地在服务器端弹出消息。但由于您处于 Visual Studio 环境中，您可以使用`System.Diagnostics.Debug.WriteLine`将消息写入输出控制台***（Ctrl+W、O）。***

对于更高级的方案，您可以使用 System.Diagnostics 作为基础来实现自己的诊断子框架。

希望这可以帮助

# sql - 无法在sql中将varchar转换为float

> ID：15292775
> 
> 赞同：0
> 
> 时间：2013-03-08T11:19:29.523
> 
> 标签：sql, sql-server, sql-server-2008, sql-server-2005

这是我的两张桌子

```
CREATE TABLE [dbo].[dailyRate](
[SYMBOL] [varchar](50) NULL,
[SERIES] [varchar](50) NULL,
[OPENPRICE] [varchar](50) NULL,
[HIGHPRICE] [varchar](50) NULL,
[LOWPRICE] [varchar](50) NULL,
[CLOSEPRICE] [varchar](50) NULL,
[LASTPRICE] [varchar](50) NULL,
[PREVCLOSE] [varchar](50) NULL,
[TOTTRDQTY] [varchar](50) NULL,
[TOTTRDVAL] [varchar](50) NULL,
[TIMESTAMPDAY] [varchar](50) NULL,
[TOTALTRADES] [varchar](50) NULL,
[ISIN] [varchar](50) NULL
)

CREATE TABLE [dbo].[cmpDailyRate](
[ID] [bigint] IDENTITY(1,1) NOT NULL,
[SYMBOL] [varchar](50) NULL,
[SERIES] [varchar](50) NULL,
[OPENPRICE] [decimal](18, 4) NULL,
[HIGHPRICE] [decimal](18, 4) NULL,
[LOWPRICE] [decimal](18, 4) NULL,
[CLOSEPRICE] [decimal](18, 4) NULL,
[LASTPRICE] [decimal](18, 4) NULL,
[PREVCLOSE] [decimal](18, 4) NULL,
[TOTTRDQTY] [bigint] NULL,
[TOTTRDVAL] [decimal](18, 4) NULL,
[TIMESTAMPDAY] [smalldatetime] NULL,
[TOTALTRADES] [bigint] NULL,
[ISIN] [varchar](50) NULL,
[M_Avg] [decimal](18, 4) NULL
) 
```

这是我的插入查询，通过强制转换从表中获取数据到另一个表

折叠 | 复制代码

```
INSERT into [Stock].[dbo].[cmpDailyRate]
SELECT [SYMBOL],[SERIES],Str([OPENPRICE], 18,4),Str([HIGHPRICE],18,4),
Str([LOWPRICE],18,4),Str([CLOSEPRICE],18,4),Str([LASTPRICE],18,4),Str([PREVCLOSE],18,4),convert(bigint,[TOTTRDQTY]),Str([TOTTRDVAL],18,4),
convert(date, [TIMESTAMPDAY], 105),convert(bigint,[TOTALTRADES]),[ISIN],null
FROM [Stock].[dbo].[DailyRate] 
```

此查询在 SQL Server 2005 中完美运行，但在 SQL Server 2008 中导致错误（上述查询在安装时也在 SQL Server 2008 中运行；最近几天出现错误）

错误 ：

> *错误无法将 varchar 转换为 float*

该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:30:31.403

您的其中一行在您正在执行浮点转换 (Str) 的列中包含无效数据。使用以下策略来确定：

```
SELECT *
FROM [dailyRate]
WHERE IsNumeric([OPENPRICE]) = 0
OR IsNumeric([HIGHPRICE]) = 0 
```

等等等等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T14:19:12.840

如果您不想过滤掉数据，CASE 语句可能更适合您。

```
SELECT CASE 
        WHEN IsNumeric([OPENPRICE]) = 1 THEN [OPENPRICE]
        ELSE NULL -- or 0 or whatever
       END AS OPENPRICE,
       CASE 
        WHEN IsNumeric([HIGHPRICE]) = 1 THEN [HIGHPRICE]
        ELSE NULL -- or 0 or whatever
       END AS [HIGHPRICE]
FROM [dailyRate] 
```

# android - 在后台创建新意图

> ID：15292779
> 
> 赞同：4
> 
> 时间：2013-03-08T11:19:42.803
> 
> 标签：android, android-intent

我正在寻找一种从我的应用程序中启动另一个应用程序的方法，但这样焦点不会从我的应用程序更改为启动的应用程序。

即目前我通过意图启动了新应用程序，但是当执行此操作时，新应用程序启动并成为视图中的应用程序，我需要将其保留在后台，而我的应用程序仍在视图中。

这是什么原因？我正在开发一个内部使用的应用程序，它就像设备的锁屏一样，所以尽管事情必须在后台发生，但“锁屏”必须始终位于顶部。

我已经对意图和启动其他应用程序进行了一些研究，但找不到任何关于我需要的东西。

希望你能帮忙谢谢！

目前终端是这样调用的：

```
 Intent intent = new Intent(Intent.ACTION_MAIN);
    intent.setComponent(new ComponentName("jackpal.androidterm", "jackpal.androidterm.RemoteInterface"));
    intent.setAction("jackpal.androidterm.RUN_SCRIPT");
    intent.putExtra("jackpal.androidterm.iInitialCommand", cmdString); 
```

它需要在后台运行的原因是，应用程序可以在终端中运行命令而无需用户访问，但随后他们“解锁”了他们需要的屏幕，然后才能查看终端以及正在运行的命令ETC

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:40:54.177

您不能在后台启动活动。而是使用启动活动并最小化活动（在您的情况下，此活动属于不同的应用程序）`moveTaskToBack(true);`

在您的情况下，根据您的意图及其参数设置条件并使用`moveTaskToBack(true);`，以便仅在您的应用程序启动时最小化活动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:27:42.097

这是不可能的，您必须启动一个`Service`执行实际工作的背景，并且只有在`Activity`您的前景完成后才启动您想要导航到的`Activity`。根据您的架构，您可以`Activity`在前台完成时存储 to 调用`Activity`并从服务中更改它。这样，您将拥有您想要的行为，而无需实际调用`Activity`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-16T19:30:01.757

除了@Meher 的回答，在您当前开始活动的意图中，您可以添加标志 FLAG_FROM_BACKGROUND。有了这个，你就摆脱了“闪烁”的效果（你的活动在几分之一秒内显示，同时它发现是否要进入后台）

# c - 试图找出平均分……但回答错误

> ID：15292780
> 
> 赞同：0
> 
> 时间：2013-03-08T11:19:45.653
> 
> 标签：c

在下面的代码中的朋友，我试图获得一些浮点数的平均值......我手动尝试我的ans应该是分数，但这里它是圆角图......请帮助我。

```
#include <stdio.h>
#include <stdlib.h>

//finding out the average marks for students ....

float average (float []);

int main()
{
    int i;
    float total_avg=0;

    float arr_1[] = {10.2, 22.9, 36.04, 89.1, 94.1, 10.8,};

    for(i=0; i<6; i++)
             printf("%2f\n",arr_1[i]);
             printf("\n\n");

     total_avg = average (arr_1);   
     printf("Total average : %3f\n",total_avg);     

    system("PAUSE");
    return 0;

    }

float average (float a[5])
{
      int sum = 0, i;
      float total;

      for(i=0; i<6; i++)
      {
           sum = sum+a[i];
           }
     total = sum/5;

      return total;

   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:21:31.213

一旦你修复了`sum`bash.d 指出的类型，你的答案仍然是错误的。 `arr_1`包含 6 个元素，但在计算平均值时除以 5。您需要将计算更改`total`为

```
total = sum/6; 
```

或者，更好的是，更改`average`为

```
float average(float* a, int num_elems)
{
    float sum = 0
    int i;
    for(i=0; i<num_elems; i++) {
        sum += a[i];
    }
    return sum/num_elems;
} 
```

并打电话`average`给

```
total_avg = average (arr_1, sizeof(arr_1)/sizeof(arr_1[0])); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:21:49.617

为什么使用 int 作为总和？改用`float`：

```
float average (float a[5])
{

  int sum = 0,
  float total, sum = 0.0f;

  for(i=0; i<6; i++)
  {
       sum = sum+a[i];
       }
 total = sum/5;

  return total;

} 
```

# ruby-on-rails - AbstractController::ActionNotFound 用于销毁操作

> ID：15292786
> 
> 赞同：0
> 
> 时间：2013-03-08T11:19:55.873
> 
> 标签：ruby-on-rails, activerecord

当我试图破坏活动记录时，我遇到了一个奇怪的问题，它给出了这个错误。

```
AbstractController::ActionNotFound at /photos/6

The action 'destroy' could not be found for PhotosController 
```

这是我的控制器的样子

```
class PhotosController < ApplicationController
     before_filter :authenticate_user!

....
....

  def delete
      @photo = current_user.photos.find(params[:id])
      @photo.destroy
      redirect_to photos_path
     end 
```

如果我使用控制台执行相同的操作，它工作正常（记录被成功删除）。

这是我的路线文件的样子。

```
 resources :photos, :only => [:index, :show, :new, :create] do
   post 'upload', :on => :collection
 end 
```

我知道我没有在资源中包含 :destroy 请建议我如何插入 :destroy 操作以删除照片

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:35:09.077

如果你有照片资源，那么动作名称应该是销毁，而不是删除。如果没有，请检查您的路线。

以下是脚手架生成的七个默认操作

1.  指数
2.  新的
3.  编辑
4.  创造
5.  更新
6.  节目
7.  销毁 # 不删除

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:28:34.333

我假设您正在使用`resources :photo`. [根据Rais 指南](http://guides.rubyonrails.org/routing.html#crud-verbs-and-actions)，
该操作应该是`destroy`而不是。 七个默认操作是：`delete`
`index, new, create, show, edit, update and destroy`

```
 def destroy
  @photo = current_user.photos.find(params[:id])
  @photo.destroy
  redirect_to photos_path
 end 
```

您还可以通过以下方式查看[可用路线](http://guides.rubyonrails.org/routing.html#inspecting-and-testing-routes)：

```
rake routes 
```

**编辑**

问题出在这里：`:only => [:index, :show, :new, :create]`，这对 rails 说：不要创建`destroy`，`edit`或`update`路由。

为了解决这个问题，你可以添加 destroy`:only => [:index, :show, :new, :create, :destroy]`或者使用`:except`：`:except => [:edit, :update]`

如果您不想限制资源：

```
resources :photos do
  post 'upload', :on => :collection
end 
```

**编辑2** - 我真的不明白你为什么要尝试使用`delete`而不是`destroy`，但是，如果你有充分的理由：

```
resources :photos :only => [:index, :show, :new, :create] do
  post 'upload', :on => :collection
  get 'delete', :on => :member
end 
```

通过这种方式，您将拥有`delete_photo_path`，可以在您的显示视图中使用：

```
<%= link_to 'Delete', delete_photo_path(@photo) %> 
```

最后，删除操作应该如下所示：

```
def delete
  @photo = Photo.find(params[:id])
  @photo.destroy
  redirect_to photos_path
end 
```

# c++ - C++ 中的析构函数概念

> ID：15292789
> 
> 赞同：0
> 
> 时间：2013-03-08T11:20:00.340
> 
> 标签：c++, inheritance, virtual-destructor

请通过我的以下代码：

```
#include "stdafx.h"
#include <iostream>
#include <conio.h>
using namespace std;

class ClassA
{
    protected:
    int width, height;

    public:
  void set_values(int x, int y)
  {
      width = x;
      height = y;
  }
  virtual int area()
  {
      return 100;
  }
  ~ClassA()
  {
      cout << "base class destructor called" << endl;

  }
};

class ClassB : public ClassA
{
    public :
int area()
{
    return (width * height);
}
~ClassB()
{
    cout << "derived class destructor called" << endl;
}
};
int main()
{
  ClassA *Ptr = new ClassB;
  Ptr->set_values(10, 20);
  cout << Ptr->area() << endl;
  delete Ptr;
     return 0;
} 
```

在上面的代码中，指针包含派生类对象的地址，所以当我删除指针时它应该调用派生类析构函数和基类析构函数，但为什么它只调用基类析构函数。如果我将基类析构函数设为虚拟，那么它同时调用派生类和基类析构函数，为什么？在虚函数的情况下，基类和派生类都具有相同的函数名称，因此编译器解析派生类中派生最多的函数名称，但这里的析构函数不会具有相同的名称，那么编译器如何解析它必须调用的函数名称在运行时。请解释我如何

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:22:10.600

您应该制作基类的`virtual`析构函数以使多态破坏正常工作：

```
class ClassA
{
    // ...
    virtual ~ClassA()
//  ^^^^^^^
//  Add this!
    {
        cout << "base class destructor called" << endl;
    }
}; 
```

如果你不这样做，你在做的时候会得到*未定义的行为*`delete Ptr`。

> 如果我将基类析构函数设为虚拟，那么它同时调用派生类和基类析构函数，为什么？

这是常规对象销毁序列的一部分。当您销毁一个对象时，首先调用该对象的类的析构函数，然后是该对象的所有非静态类成员的析构函数（按声明的相反顺序），**然​​后是其所有基类的析构函数**。

因此，这里正确地执行了虚拟调度（当然，如果您创建了基类析构函数`virtual`），因为第一个被调用的析构函数是对象的实际运行时类型的析构函数（`ClassB`）。之后，基类的析构函数`ClassA`被调用，也是正常销毁过程的一部分。

> 但是这里的析构函数不会有相同的名称，那么编译器如何解析它在运行时必须调用的名称

析构函数是*特殊的成员函数*。每个类只能有一个析构函数，因此它们的名称（必须与类的名称相同，带有前置`~`字符）是无关紧要的。编译器知道哪个函数是析构函数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T11:21:46.140

因为您的基类析构函数应该是`virtual`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:21:39.647

这实际上是**未定义的行为**，因为`~ClassA()`is not `virtual`，所以任何事情都可能发生。

```
ClassA *Ptr = new ClassB;
///....
delete Ptr; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:21:53.153

您需要将析构函数标记为虚拟的。否则编译器不知道调用最派生的析构函数。

```
virtual ~ClassA()
{
    cout << "base class destructor called" << endl;

} 
```

# wordpress - 为什么远程 wp-admin 重定向到本地主机？

> ID：15292790
> 
> 赞同：13
> 
> 时间：2013-03-08T11:20:00.587
> 
> 标签：wordpress

我在本地计算机上创建了一个 wordpress 站点，然后将其上传到远程服务器。CSS 不起作用，我意识到它正在查看 localhost 以尝试找到它，而它本应查看远程服务器。所以我去了 www.remoteserver.co.uk/wp-admin，它把我重定向到 localhost/wp-admin。

有谁知道我做错了什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-08T11:27:14.643

我现在已经解决了 - 这是一个网站 url 问题。我找到了这个：

[http://codex.wordpress.org/Changing_The_Site_URL](http://codex.wordpress.org/Changing_The_Site_URL)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-08T13:37:51.463

您需要在数据库中的 wp_options 表中更改它，然后重新生成所有永久链接:)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2018-01-16T17:50:41.763

转到 phpmyadmin 并按照以下图片操作： [![在此处输入图像描述](../Images/1930156276c6b278388cbcb833d28b1d.png)](https://i.stack.imgur.com/h9l8V.jpg)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-09-11T23:53:28.593

WP_OPTIONS 中有两个区域需要更改。一个是第一页，另一个是第二页。

如果您可以访问 phpMyAdmin，此视频肯定会有所帮助

[http://educhalk.org/blog/?p=21](http://educhalk.org/blog/?p=21)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-01-07T14:08:33.527

如果您的多站点站点是在 localhost 上设置的，那么您需要执行以下步骤：

**对于windows机器：**

**step1：**创建虚拟主机

转到`xampp\apache\conf\extra`目录并找到`httpd-vhosts.conf`文件。打开它并输入以下代码：

**对于第一个域：**

```
<VirtualHost *:80>
    ServerName multisite-one.com
    DocumentRoot "C:\xampp\htdocs\multisite
    <Directory  "C:\xampp\htdocs\multisite">
        Options +Indexes +Includes +FollowSymLinks +MultiViews
        AllowOverride All
        Require local
    </Directory>
</VirtualHost> 
```

**对于第二个域：**

```
<VirtualHost *:80>
    ServerName multisite-two.com
    DocumentRoot "C:\xampp\htdocs\multisite
    <Directory  "C:\xampp\htdocs\multisite">
        Options +Indexes +Includes +FollowSymLinks +MultiViews
        AllowOverride All
        Require local
    </Directory>
</VirtualHost> 
```

转到`C:\Windows\System32\drivers\etc`目录并找到`hosts`文件并将其打开为`administrator`. 将这些行放入其中并重新启动服务器。

```
#wordpress multisite set up
127.0.0.1   multisite-one.com
127.0.0.1   www.multisite-one.com

127.0.0.1   multisite-two.com
127.0.0.1   www.multisite-two.com 
```

**step2：**将文件更改`wp-config.php`为：

```
define('WP_DEBUG', false);
define('WP_ALLOW_MULTISITE', true);
define('MULTISITE', true);
define('SUBDOMAIN_INSTALL', false);
define('DOMAIN_CURRENT_SITE', 'multisite-one.com');
define('PATH_CURRENT_SITE', '/');
define('SITE_ID_CURRENT_SITE', 1);
define('BLOG_ID_CURRENT_SITE', 1); 
```

**step3：**在数据库中进行更改：

1.  更改表中的域和路径`wp_blogs`。
2.  更改`siteurl`并`home`在`wp_options`表中。

**注意：**在多站点 WordPress 中为`wp_options`as`wp_options`等创建表的版本`wp_2_options`。您需要根据您的要求进行更改。

# timestamp - JMS Client 和 JMS Server 时间戳不同

> ID：15292794
> 
> 赞同：1
> 
> 时间：2013-03-08T11:20:14.453
> 
> 标签：timestamp, jms, activemq

我使用 ActiveMQ 作为 JMS 服务器，我想发送几秒钟后过期的非持久消息，因为如果消费客户端关闭，我不想排队很多消息。（有最佳实践吗？）

问题是 JMS 服务器时间戳是否与 JMS 客户端时间戳不同。有没有一种获取 JMS 服务器时间戳的好方法？或者 ActiveMQ [timestampingPlugin](http://activemq.apache.org/timestampplugin.html)是解决这个问题的“最佳”方式吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T15:11:06.527

实施 TimeStampBrokerPlugin 是为了解决此类问题。如果您无法通过 NTP 同步时钟，那么让代理使用自己的时间将确保它不会立即使消息超时或将其保留很长时间。

我不确定您在获取代理的时间戳方面要问什么，但总的来说，在处理不同步时钟时，使用代理插件是您的最佳选择。

# php - 如何在 cakephp 分页的一个字段中创建查找所有条件？

> ID：15292801
> 
> 赞同：2
> 
> 时间：2013-03-08T11:20:35.140
> 
> 标签：php, cakephp, cakephp-1.3, cakephp-2.0, cakephp-2.1

我想在分页中找到与contact_id相关的所有联系人组名称，我尝试了很多但没有成功，我有多对多关系，我只想在分页中显示所有联系人组名称与contact_id，我该怎么做那？如果有任何机构可以提供帮助，将不胜感激，在此先感谢。

这是我的分页代码

```
 $this->paginate = array(
                    'fields' => array(
                                    'DISTINCT Contact.contact_id',
                                    'Contact.first_name',
                                    'Contact.last_name',
                                    'Contact.email',
                                    'Contact.created',
                                    'ContactGroup.name',

                                        ),  
                    'conditions' => array(
                                    $this->conditions,
                                    $query,
                                    array(
                                        'OR' => array(
                                                    array('Contact.first_name LIKE' => "$keyword%"),
                                                    array('Contact.last_name LIKE'  => "$keyword%"),
                                                    array('Contact.middle_name LIKE'=> "$keyword%")
                                                    )
                                            )                       
                                        ),
                    'limit'      => 5,
                    'group'      => array('Contact.contact_id'),

                    ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T14:22:43.423

我不确定你在这里问什么。但是**假设**我已经想出了这个

**您不应该同时使用 DISTINCT 和 GROUP BY**

```
$this->paginate = array(
       'fields' => array(
             'Contact.first_name',
             'Contact.last_name',
             'Contact.email',
             'Contact.created',
       ),  
       'conditions' => array(
           'OR' => array(
             'Contact.first_name LIKE' => $keyword. "%",
             'Contact.last_name LIKE'  => $keyword. "%",
             'Contact.middle_name LIKE'=> $keyword. "%"
            )
        ),
        'limit' => 5,
        'group' => array('Contact.contact_id'),
        'contain' => array('ContactGroup.name')
); 
```

我不确定 $this->conditions 和 $query 是什么。

PS，确保您的模型中有这一行以包含可包含[行为](http://book.cakephp.org/2.0/en/core-libraries/behaviors/containable.html#ContainableBehavior)

```
public $actsAs = array('Containable'/*, other behaviors */); 
```

或者您可以在 $this->paginate 之前从控制器中即时包含可包含的行为

```
$this->Post->Behaviors->load('Containable'); 
```

# css - 未使用的 CSS 样式会影响加载时间吗

> ID：15292802
> 
> 赞同：5
> 
> 时间：2013-03-08T11:20:35.957
> 
> 标签：css, styles, load-time

我想知道未使用的 CSS 样式是否会影响加载时间，因为我通常会使用这种格式破坏我的代码部分

```
/*===================
      Nav-Styles
===================*/ 
```

但是，我也使用 coda 来编写我的代码。它有一个代码导航器，可以检测 id 后跟 {}

我认为可能对我的代码组织有所帮助的是创建这种中断格式

```
/*==========================================
  #----NAV-STYLES-BEGIN {} /* Nav Styles */ 
==========================================*/ 
```

这意味着我的分节符将出现在代码导航器中并且可以快速跳转。但是，如果这会导致与速度相关的问题，则手段将超过目的。

这是一个坏主意还是差异会如此微不足道以至于如果我愿意的话值得这样做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-09-16T15:36:51.463

这里的答案是不正确的。

未使用的 CSS 做了两件事：

1.  在引擎开始渲染页面之前添加更多需要下载的字节
2.  浏览器引擎必须通过每个 css 选择器来评估它是否在页面上以及它应该如何呈现。

第二部分至关重要。如果您的 css 文件中有 50% 是未使用的 css，那么您实际上会让浏览器引擎花费两倍的时间来为页面呈现您的 CSS。当然，你拥有的 CSS 选择器的类型也很重要，所以两倍长是一个简单的例子，而不是完整的事实。即使文件缓存在本地驱动器上，未使用的 CSS 也会增加浏览器页面加载时间。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-08T11:23:46.817

通过网络传递给客户端的任何未使用的 CSS 或 JS 至少会在很小程度上损害网站的性能。未使用的 CSS 会增加页面的大小，从而增加下载页面所需的时间。这里的几个字符不会对您的下载时间产生巨大影响，但是如果有大量未使用的样式可能会产生影响。这就是为什么许多人压缩他们的 CSS 和 JS。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T11:28:57.577

这样做的影响将是不明显的，充其量可以被描述为可以忽略不计。无论如何，您可以使用构建脚本来删除所有评论并缩小您的 CSS。这将改善加载时间，即使只是轻微的。

简短的回答 - 选择最容易开发的东西。您可以稍后再担心生产。

[我犹豫添加](http://c2.com/cgi/wiki?PrematureOptimization)

# iphone - UIAlertView - 如果没有输入数据则显示红色

> ID：15292805
> 
> 赞同：0
> 
> 时间：2013-03-08T11:20:45.520
> 
> 标签：iphone, objective-c, xcode, uialertview

我有一个保存按钮，单击时会显示一个警告框。我希望用户在框中输入一些数据，如果他/她没有输入任何数据并按确定，我想让警告框文本字段变为红色，即表示它是强制性的。目前我正在显示另一个警报框。请帮助我，谢谢。以下是代码。

```
-(void) saveCalculaterData{

  UIAlertView *prompt = [[UIAlertView alloc] initWithTitle:REFERENCE_ID
                                                 message:@"\n\n"
                                                delegate:self
                                       cancelButtonTitle:@"Cancel"
                                       otherButtonTitles:@"OK", nil];

  textField = [[UITextField alloc] initWithFrame:CGRectMake(12, 50, 260, 25)];
  textField.tag=REFERENCE_FIELD;
  [textField setBackgroundColor:[UIColor whiteColor]];
  [textField setPlaceholder:ADD_REFERENCE_ID];
  [prompt addSubview:textField];

  [prompt show];

  [textField becomeFirstResponder];
  textField.delegate=self;
  }

 - (void)alertView:(UIAlertView *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex 
 {
  if(buttonIndex > 0) {
        NSString *textValue = textField.text;
    if ([textField.text length] <= 0)
    {
        UIAlertView *alert = [[UIAlertView alloc]initWithTitle: @"No Reference"
                                                       message: @"msg"
                                                      delegate: self
                                             cancelButtonTitle:@"Cancel"
                                             otherButtonTitles:nil,nil];

        [alert show];

    }

    else{
         CalculatorData *calcData = [self getCalcData];
         calcData.dataKey = textValue;
 if([database saveCalculatorData:(CalculatorData *)calcData tableName:[database Table]]){
         [Utils showAlert:RECORD_SAVED];
        }
     }
   }

 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:33:40.020

你试过这个吗？

```
textField.textColor = [UIColor redColor]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:34:48.940

你可以做的就是用下面的代码找到 alertView 的 textField 的实例

`UITextField *alertTextField = (UITextField*)[alertView viewWithTag:REFERENCE_FIELD];`

然后只需使用此代码将代码显示为红色

`[alertTextField setBackgroundColor:[UIColor redColor]];`

愿这能解决你的问题:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:36:17.047

试试这个：

```
- (BOOL) alertViewShouldEnableFirstOtherButton:(UIAlertView *)alertView
{
    UITextField *textField1 = [alertView textFieldAtIndex:0];
    [textField1 setDelegate:self];
    NSString *inputText = [[alertView textFieldAtIndex:0]text];
    if ([inputText length] == 7) // If it's 7 chars long, enable the button.
    {
        NSCharacterSet * set = [[NSCharacterSet characterSetWithCharactersInString:@"0123456789"] invertedSet]; // Only allow numbers

        if ([inputText rangeOfCharacterFromSet:set].location != NSNotFound) { //Not a Number?

            //show alert view here
            textField1.backgroundColor = [UIColor redColor];
            alertView.message = @"Only enter numbers please!";
            return NO;
        }
        alertView.message = @"Fill in your number:";
        return YES;

    } else {
        alertView.message = @"Fill in your number:";
        textField1.backgroundColor = [UIColor clearColor];
        return NO;
    }

} 
```

您可以根据自己的需要进行调整

# javascript - CSS3 转换时间函数作为 javascript 函数

> ID：15292812
> 
> 赞同：0
> 
> 时间：2013-03-08T11:21:06.200
> 
> 标签：javascript, css-transitions, fallback, easing

我需要为 CSS3-Animations 创建一个 Javascript-Fallback 并尝试使其尽可能接近 CSS-Version。在 CSS3 中，有 4 个预定义的缓动函数：

*   舒适：`cubic-bezier(0.25, 0.1, 0.25, 1)`
*   缓入：`cubic-bezier(0.42, 0, 1, 1)`
*   缓出：`cubic-bezier(0, 0, 0.58, 1)`
*   缓进出：`cubic-bezier(0.42, 0, 0.58, 1)`

有人知道可以在 Javascript 函数中使用的那些缓动的精确算法吗？我知道有很多缓动，如 Sine、Quad、Expo 等（参见[http://easings.net/](http://easings.net/)），但它们似乎都不同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-05-04T20:45:17.500

Scripty2 存储库有一个 C WebKit 实现到 JavaScript 的直接端口，您可以在此处找到该端口：[https](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/cubic-bezier.js) ://github.com/madrobby/scripty2/blob/master/src/effects/transitions/cubic-bezier.js ，但这是中心功能（无依赖性）。

```
function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration) {
var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;
function sampleCurveX(t) {return ((ax*t+bx)*t+cx)*t;};
function sampleCurveY(t) {return ((ay*t+by)*t+cy)*t;};
function sampleCurveDerivativeX(t) {return (3.0*ax*t+2.0*bx)*t+cx;};
function solveEpsilon(duration) {return 1.0/(200.0*duration);};
function solve(x,epsilon) {return sampleCurveY(solveCurveX(x,epsilon));};
function fabs(n) {if(n>=0) {return n;}else {return 0-n;}};
function solveCurveX(x,epsilon) {
  var t0,t1,t2,x2,d2,i;
  for(t2=x, i=0; i<8; i++) {x2=sampleCurveX(t2)-x; if(fabs(x2)<epsilon) {return t2;} d2=sampleCurveDerivativeX(t2); if(fabs(d2)<1e-6) {break;} t2=t2-x2/d2;}
  t0=0.0; t1=1.0; t2=x; if(t2<t0) {return t0;} if(t2>t1) {return t1;}
  while(t0<t1) {x2=sampleCurveX(t2); if(fabs(x2-x)<epsilon) {return t2;} if(x>x2) {t0=t2;}else {t1=t2;} t2=(t1-t0)*.5+t0;}
  return t2; // Failure.
};
cx=3.0*p1x; bx=3.0*(p2x-p1x)-cx; ax=1.0-cx-bx; cy=3.0*p1y; by=3.0*(p2y-p1y)-cy; ay=1.0-cy-by;
return solve(t, solveEpsilon(duration));
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T13:04:25.600

几何等价？就像用您提供的 webkit 缓动示例中给出的点跟踪的曲线一样，它等同于由某些 JS 函数跟踪的曲线？

这是一种为三次贝塞尔缓动定义您自己的 Pn 的方法。

解释：[http ://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html](http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html)

文章作者链接了一个 git，我无法引用 b/c 我没有代表，但忽略它。这是一头猪。

Buuut：相同的数学，更好的事件循环管理，以及比上述脚本更近的提交，使用 jquery.easing：[https ://github.com/rdallasgray/bez](https://github.com/rdallasgray/bez)

# c# - 全局获取当前用户 ID 函数

> ID：15292826
> 
> 赞同：0
> 
> 时间：2013-03-08T11:21:49.837
> 
> 标签：c#, asp.net-mvc-4

我正在使用 MVC4 框架，并且在整个代码中的很多实例中，我都想获取当前的用户 ID。

我知道要做到这一点，我可以使用：

```
 [InitializeSimpleMembership]
  public ActionResult SaveTask(FormCollection form)
  {
      var userID = WebSecurity.CurrentUserID;
  } 
```

这工作正常，但我发现自己不得不把`[InitializeSimpleMembership]`每个`ActionResult`. 理想情况下，我想要一个可以调用的静态函数：

```
var userID = Utilities.CurrentUserID; 
```

它在一个名为 Utilities 的类中：

```
 public static Int32 CurrentUserID{

    get
    {
        return WebSecurity.CurrentUserID;

    }

  } 
```

请注意，我知道这将失败，`WebSecurity`但`InitializeSimpleMembership Attribute`我想通过示例展示我想要实现的目标。这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T13:14:46.267

您可以添加`[InitializeSimpleMembership]`到控制器的顶部而不是每个操作，并且可以使用`WebSecurity.GetUserId(User.Identity.Name)`

或者你可以使用

```
var userId = Membership.GetUser(User.Identity.Name).ProviderUserKey; 
```

# java - XSLT xsl:copy 和 xsl:for-each 属性

> ID：15292833
> 
> 赞同：0
> 
> 时间：2013-03-08T11:22:19.460
> 
> 标签：java, xslt, attributes, foreach, copy

我有以下 xsl 模板：

```
<xsl:template match="@*|node()" mode="fix-entity-references">   
    <xsl:copy>
        <xsl:for-each select="@*">
            <xsl:if test="name() = 'href'"> 
              <xsl:variable name="hrefvar">
                <xsl:value-of select="current()"/>
              </xsl:variable>
              <xsl:attribute name="href">
                anything
              </xsl:attribute>
            </xsl:if>
        </xsl:for-each>
        <xsl:apply-templates select="@*|node()" mode="fix-entity-references"/>
    </xsl:copy>
  </xsl:template> 
```

我想使用这个模板来复制当前节点，但只有在处理完它的所有属性之后。当前示例非常简单，可以用一个非常简单的块代替。测试表达式会复杂得多，关键是每个元素上可以有 N 个满足表达式的属性。这就是为什么 for-each 是必要的。我想以相同的方式处理所有这些属性。我尝试打印“current()”值，它总是可以正常工作。问题在于更新原始节点的属性。将“href”属性的值设置为“anything”是行不通的，因为我猜当我调用它的时候，它在一个 for-each 块内，这意味着当前节点就是属性本身。

我应该如何从 for-each 块内部设置原始块的属性，以便复制的节点将使用修改后的属性？

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:33:43.950

而不是`for-each`and `if`，您可能会考虑使用与您想要区别对待的属性匹配的模板，例如

```
<xsl:template match="@*|node()" mode="fix-entity-references">
  <xsl:copy>
    <xsl:apply-templates select="@*|node()" mode="fix-entity-references"/>
  </xsl:copy>
</xsl:template>

<xsl:template match="@href | @foo | @bar" mode="fix-entity-references">
  <xsl:attribute name="{name()}">
    <xsl:value-of select=".."/>
  </xsl:attribute>
</xsl:template> 
```

在 XPath 数据模型中，属性节点不被认为是元素的子元素，但属性节点的父节点*是*属性所属的元素（即当上下文节点是属性时，`..`是可以在其上找到属性的元素）。因此，此示例将使用属性包含元素的文本内容替换 any或属性的值`href`，即`foo``bar`

```
<a href="#">http://example.com</a> 
```

会成为

```
<a href="http://example.com">http://example.com</a> 
```

# java - 使用 Objectify 进行地理空间半径搜索

> ID：15292834
> 
> 赞同：6
> 
> 时间：2013-03-08T11:22:19.650
> 
> 标签：java, google-app-engine, geospatial, objectify

我正在使用[GeoModel](https://code.google.com/p/javageomodel/)开发一个应用程序。我需要根据给定的纬度和经度在特定半径内执行搜索。我能够使用 Objectify 在数据存储中生成 GeoCell，但无法取回特定半径的结果。

我在下面分享我的代码。

**实体类**

```
@Entity
public class NewsFeed implements Serializable {
private static final long serialVersionUID = 1L;
@Id
@Index
private Long feedID;
@Index
private String topic;
@Index
private String title;
private String description;
@Index
private Date createDate;
private String imageOrVideo;
private String imageUrl;
private String blobKey;
@Latitude
private Double latitude;
@Longitude
private Double longitude;
@Geocells
private List<String> cells;

    // getter and setters ...
} 
```

**[来自此源](https://gist.github.com/handstandsam/2421461)**的自定义 GeocellQueryEngine 类****

 **```
public class ObjectifyGeocellQueryEngine implements GeocellQueryEngine {
private String geocellsProperty;
private Objectify ofy;
public static final String DEFAULT_GEOCELLS_PROPERTY = "cells";

public ObjectifyGeocellQueryEngine(Objectify ofy) {
    this(ofy, DEFAULT_GEOCELLS_PROPERTY);
}

public ObjectifyGeocellQueryEngine(Objectify ofy, String geocellsProperty) {
    this.ofy = ofy;
    this.geocellsProperty = geocellsProperty;
}

@Override
public <T> List<T> query(GeocellQuery baseQuery, List<String> geocells, Class<T> entityClass) {
    StringTokenizer st;
    int tokenNo = 0;
    Query<T> query = ofy.query(entityClass);
    if (baseQuery != null) {
        st = new StringTokenizer(baseQuery.getBaseQuery(), ",");
        while (st.hasMoreTokens()) {
            query.filter(st.nextToken(), baseQuery.getParameters().get(tokenNo++));
        }
    }
    return query.filter(geocellsProperty + " IN", geocells).list();
}
} 
```

**在此处获取数据**

```
 Point p = new Point(24.8993714, 79.5839124);
    // Generates the list of GeoCells
    List<String> cells = GeocellManager.generateGeoCell(p);
    List<Object> params = new ArrayList<Object>();
    params.add("Movies");
    GeocellQuery baseQuery = new GeocellQuery("topic == topic", "String topic",params);
    ObjectifyGeocellQueryEngine objectifyGeocellQueryEngine = new ObjectifyGeocellQueryEngine(ofy(), "cells");
    List<NewsFeed> list = objectifyGeocellQueryEngine.query(baseQuery, cells, NewsFeed.class);
    List<NewsFeed> list2 = GeocellManager.proximitySearch(p, 10, 10000,NewsFeed.class, baseQuery, objectifyGeocellQueryEngine, GeocellManager.MAX_GEOCELL_RESOLUTION);
    System.out.println(list+" : "+list2); 
```

现在的问题是我没有从这里得到任何结果。你们能帮我解决这个问题吗，因为我没有得到任何例外，只是得到了空列表。

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-03-18T10:59:43.237

我已经针对这种情况做了一个解决方法，我添加了一个并行的 JDO 类来存储和检索地理空间结果。**

# ios - 在核心数据中存储文件路径会引发异常

> ID：15292840
> 
> 赞同：0
> 
> 时间：2013-03-08T11:22:33.203
> 
> 标签：ios, ios5, core-data, ios6

我正在尝试将设备文档文件夹中的文件的文件路径存储在核心数据实体中，它可以正确插入，但是当我尝试使用路径属性上的谓词获取记录时，它会抛出异常。

```
Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Unable to parse the
 format string "filePath==/Users/****/Library/Application Support/iPhone Simulator/5.1/Applications
/8C1B07FD-E372-4CD8-9A02-FDA321ECE629/Documents"' 
```

属性正确存储在 Core Data DB 中。

要提取的代码。

```
 NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
    fetchRequest.predicate=[NSPredicate predicateWithFormat:[NSString stringWithFormat:@"filePath==%@",Path]];
    NSSortDescriptor *sortDescriptor=[NSSortDescriptor sortDescriptorWithKey:@"fileName" ascending:YES];
    fetchRequest.sortDescriptors=[NSArray arrayWithObject:sortDescriptor];
    NSEntityDescription *entity = [NSEntityDescription entityForName:@"File"
                                              inManagedObjectContext:self.managedObjectContext];
    [fetchRequest setEntity:entity];

    NSArray *fetchedObjects = [self.managedObjectContext
                               executeFetchRequest:fetchRequest error:nil
                               ]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:37:18.080

也许文件路径包含阻止正确解析的字符，例如空格。尝试这个：

```
[NSPredicate predicateWithFormat:@"filePath = '%@'", path]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T13:41:53.923

NSPredicate 类参考中的示例对字符串使用双引号，例如

```
Simple comparisons, such as grade == "7" or firstName like "Shaffiq" 
```

显示的错误包含一个不带引号的谓词 - 也许是问题的根源？

# ruby-on-rails - 从 rails 2.0.1 迁移到 2.3.17 后单元测试失败

> ID：15292841
> 
> 赞同：1
> 
> 时间：2013-03-08T11:22:33.280
> 
> 标签：ruby-on-rails, unit-testing, migration, ruby-1.8.7

从 Rails 2.0.1 迁移到 2.3.17 后，单元测试不起作用。对于他们每个人，我都会遇到相同的错误：

> “NoMethodError：未定义的方法 `assert_valid_keys' for false:FalseClass”。

有什么线索吗？

*   红宝石版本：1.8.7（2011-02-18 补丁级别 334）[i686-darwin10.8.0]
*   红宝石版本：1.8.25

`NoMethodError: undefined method`assert_valid_keys' for false:FalseClass (eval):12:in `run' /Applications/RubyMine.app/rb/testing/patch/testunit/test/unit/ui/teamcity/testrunner.rb:93:in`send' /Applications/RubyMine.app/rb/testing/patch/testunit/test/unit/ui/teamcity/testrunner.rb:93:in `start_mediator' /Applications/RubyMine.app/rb/testing/patch/testunit/test/unit/ui/teamcity/testrunner.rb:81:in`start'`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T10:17:46.627

好的，我想我已经找到了解决方案。

在这个应用程序中，我正在使用插件**fixture_scenarios**，所以我更新了 lib/fixture_scenarios.rb 第 33 行，它是：

`connection.transaction(Thread.current['open_transactions'] == 0) do`

到

`connection.transaction(:requires_new => Thread.current['open_transactions'] == 0) do`

现在大部分测试都通过了。

# django - Django 'PictureForm' 对象没有属性 'save'

> ID：15292843
> 
> 赞同：0
> 
> 时间：2013-03-08T11:22:34.063
> 
> 标签：django

我正在尝试向我现有的应用程序添加一个新功能，让用户创建个人资料并上传他们的宠物照片。

当用户登录时，他会被重定向到显示他的名字的个人资料中，并且他可以将自己的照片添加到模型中，该模型将显示在个人资料页面上。

![在此处输入图像描述](../Images/f8327881e26ebcdc6f8270555d7e1a51.png)

目前，我可以将名称检索到模板中，但似乎无法同时显示用户名和上传图片。

每当我单击添加图片时，它不会让用户上传图片而是我收到此错误

```
'PictureForm' object has no attribute 'save'
 pet = form.save(commit =False) ... 
```

我可以设计页面让用户上传图片但同时不显示名称。

我认为问题出在我的 profile.html 和 views.py 的 Profile 函数中

**我的部分观点.py**

```
@login_required     
def Profile(request):
    Person = request.user.get_profile()
    if not request.user.is_authenticated():
        return HttpResponseRedirect('/login/')
    if request.method == "POST":
        form = PictureForm(request.POST ,request.FILE or None)
        if form.is_valid():
            pet = form.save(commit =False)
            pet.save()
    context = (
        {'Person': Person} , 
        {'form':PictureForm()}
        )
    return render_to_response('profile.html', context, context_instance=RequestContext(request)) 
```

**我的部分表单.py**

```
from django import forms
from django.contrib.auth.models import User
from django.forms import ModelForm
from pet.models import *

class PictureForm(forms.Form):

    class Meta:
        model = Person
        fields = ('image') 
```

**我的个人资料.html**

```
 {% if Person %}
 <ul>
        <li>Name : {{Person.name}} </li>
 </ul>
 {% endif %}        

 <form method="POST" enctype="multipart/form-data" "action" >
 {% csrf_token %}
    <ul>
        {{ form.as_ul }}
    </ul>
    <input type = "submit" value= "Add Picture" />
 </form> 
```

**我的模型.py**

```
from django.db import models
from django.db.models.signals import post_save
from django.contrib.auth.models import User

class Person(models.Model):
    user = models.OneToOneField(User)
    name = models.CharField(max_length=100)
    image = models.FileField(upload_to="images/",blank=True,null=True)

    def __unicode__(self):
        return self.name

class Pet(models.Model):
    Person = models.ForeignKey(Person)
    description = models.CharField(max_length=100)
    image = models.FileField(upload_to="images/",blank=True,null=True)

    def __unicode__(self):
        return self.description 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:36:25.737

`PictureForm`需要继承自`forms.ModelForm`，而不是`forms.Form`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T11:23:29.190

你有一个错字。应该是`request.FILES`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T11:29:13.443

擦除您的 form.save(commit=False)。只有当你覆盖你的保存方法时，你才会这样做

```
@login_required     
def Profile(request):
    Person = request.user.get_profile()
    if not request.user.is_authenticated():
        return HttpResponseRedirect('/login/')
    if request.method == "POST":
        form = PictureForm(request.POST ,request.FILES)
        if form.is_valid():
            form.save()
    context = (
        {'Person': Person} , 
        {'form':PictureForm()}
        )
    return render_to_response('profile.html', context, context_instance=RequestContext(request)) 
```

更新：

```
 [.....]
    board = Board.objects.get(board=picture.board)//remove this
    the_id = board.id //remove this

return HttpResponseRedirect(reverse('world:Boat', kwargs={'animal_id': picture.board.id })) // change the_id into picture.board.id 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T06:22:45.620

没有朋友。你的问题出在你的model.py中：

只需将此功能添加到您的模型中

```
def save(self,*args, **kw):
super(PictureForm,self).save(*args, **kw) 
```

# php - Payoneer API 自动汇款

> ID：15292844
> 
> 赞同：3
> 
> 时间：2013-03-08T11:22:34.173
> 
> 标签：php, api

我真的需要你们的帮助。有谁知道任何允许从 Payoneer 卡到其他 Payoneer 卡的预定付款的方法？或者是否有任何 Payoneer API for PHP 可以做到这一点？

就像 Paypal 的 MassPay 服务一样。

请帮忙！

问候！

# uitableview - UITableViewCell 在单元格项目上设置文本时生成异常

> ID：15292847
> 
> 赞同：0
> 
> 时间：2013-03-08T11:22:38.297
> 
> 标签：uitableview, nsdictionary

我在 cellForRowAtIndexPath 中使用以下代码，当我在 UILabel 中填充数据时，它正在发送错误

```
NSDictionary *benchmarkDictionary = (NSDictionary *)[benchmarkArray objectAtIndex:indexPath.row];

((UILabel *)[cell viewWithTag:15]).text = [benchmarkDictionary objectForKey:@"benchmarkTitle"];
((UILabel *)[cell viewWithTag:16]).text = [benchmarkDictionary objectForKey:@"benchmarkDescription"]; 
```

例外是：-[Benchmark objectForKey:]: unrecognized selector sent to instance 0x75d59c0 2013-03-08 16:21:39.515 Fdtrainer[2719:11303] ***由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：'-[Benchmark objectForKey :]: 无法识别的选择器发送到实例 0x75d59c0'

我的基准课程是：

```
@interface Benchmark : NSObject

@property (nonatomic, retain) NSString *bid;
@property (nonatomic, retain) NSString *benchmarkTitle;
@property (nonatomic, retain) NSString *benchmarkDescription;

-(id)initWithCoder: (NSCoder *)coder;
-(void)encodeWithCoder:(NSCoder *)encoder;

@end

@implementation Benchmark

@synthesize bid;
@synthesize benchmarkTitle;
@synthesize benchmarkDescription;

- (id) initWithCoder:(NSCoder *)coder {

    self = [super init];
    if(self) {
        bid = [coder decodeObjectForKey:@"id"];
        benchmarkTitle = [coder decodeObjectForKey:@"benchmarkTitle"];
        benchmarkDescription = [coder decodeObjectForKey:@"benchmarkDescription"];
    }
    return self;
}

- (void) encodeWithCoder:(NSCoder *)encoder {

    [encoder encodeObject:bid forKey:@"id"];
    [encoder encodeObject:benchmarkTitle forKey:@"benchmarkTitle"];
    [encoder encodeObject:benchmarkDescription forKey:@"benchmarkDescription"];
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T02:03:04.637

似乎以下行可能会导致问题。

```
NSDictionary *benchmarkDictionary = (NSDictionary *)[benchmarkArray objectAtIndex:indexPath.row]; 
```

你确定 benchmarkArray 里面包含 NSDictionary 吗？将某些内容投射到 NSDictionary 不会使其成为一体。看起来 benchmarkArray 包含 Benchmark 对象，它是 NSObject 类型的，它们不响应 objectForKey 选择器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:56:10.243

我猜您以错误的方式访问您的属性：

尝试这个 ：

```
@interface Benchmark : NSObject

@property (nonatomic, retain) NSString *bid;
@property (nonatomic, retain) NSString *benchmarkTitle;
@property (nonatomic, retain) NSString *benchmarkDescription;

-(id)initWithCoder: (NSCoder *)coder;
-(void)encodeWithCoder:(NSCoder *)encoder;

@end

@implementation Benchmark

@synthesize bid = _bid;
@synthesize benchmarkTitle = _benchmarkTitle;
@synthesize benchmarkDescription = _benchmarkDescription;

- (id) initWithCoder:(NSCoder *)coder {

self = [super init];
if(self) {
    _bid = [coder decodeObjectForKey:@"id"];
    _benchmarkTitle = [coder decodeObjectForKey:@"benchmarkTitle"];
    _benchmarkDescription = [coder decodeObjectForKey:@"benchmarkDescription"];
}
return self;
}

- (void) encodeWithCoder:(NSCoder *)encoder {

[encoder encodeObject:_bid forKey:@"id"];
[encoder encodeObject:_benchmarkTitle forKey:@"benchmarkTitle"];
[encoder encodeObject:_benchmarkDescription forKey:@"benchmarkDescription"];
} 
```

# jasper-reports - 将 Jasper ContitionalStyles 与命名样式引用一起使用

> ID：15292852
> 
> 赞同：3
> 
> 时间：2013-03-08T11:22:56.493
> 
> 标签：jasper-reports

我有一种情况，我根据以编程方式生成的 jrxml 文件和具有给定名称和给定样式名称的样式模板创建报告。在有条件样式的情况下，这可以正常工作。我发现的每个示例都只是使用 ConditionalStyles 来更改某些值，例如为特定情况设置不同的背景色。这不能在这里完成，因为无法知道是什么将偶数行样式与奇数行样式分开。就像奇数行将获得灰色背景或偶数行将获得绿色前景和黑色底笔一样。

我尝试或查看的内容：

*   使用条件样式 - 似乎无法定义样式引用来更改样式值
*   使用变量作为样式名称 - 变量未得到评估
*   使用偶数和奇数样式作为父样式创建具有 2 个 ConditionalStyles 的样式 - 创建 jrtx 文件时忽略这些样式

那么...有没有办法使用样式引用创建备用样式行？如果是，它是如何完成的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T11:42:10.653

由于似乎没有解决方案，我们不得不更改样式文件的结构以包含条件样式，而不是在文档中这样做。

当走这条路并尝试以编程方式更改或创建这些样式文件时，请注意，在`JRXmlTemplateWriter`Jasper 附带的 中，该方法`toWriteConditionalStyles`实现为：

```
protected boolean toWriteConditionalStyles() {
    return false;
} 
```

这是不幸的。您必须使用自己的 Exporter 来更改此行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-09T07:42:59.497

只是知道什么将偶数行样式与奇数行样式分开的方式。
**偶数行将**满足条件

```
(($V{REPORT_COUNT}%2) == 0) 
```

**奇数行将**满足条件

```
(($V{REPORT_COUNT}%2) != 0) 
```

然后您可以使用具有上述条件的条件样式

# javascript - 如果启用了 javascript，则显示 div。必须有 !important

> ID：15292853
> 
> 赞同：0
> 
> 时间：2013-03-08T11:23:02.927
> 
> 标签：javascript, css

我的主页上有一个特色滑块，如果禁用 javascript，我已经将其完全隐藏。如果启用了 javascript，我有一个脚本会显示特色滑块。

```
 document.write('<style type="text/css">#JQuerySlider1Container{ display: block !important;}</style>'); 
```

显然，根据 W3C，该代码无效。（尽管它起作用了，所以这真是太可惜了）。

我找到了一段我喜欢的替代代码，但我必须拥有 !important 才能显示滑块。

```
document.getElementById('JQuerySlider1Container').style.display='block !important'; 
```

但它不适用于 !important。有人有这个问题的简单解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:35:06.163

使用 JS 添加 CSS 不是一个好习惯。您应该将 HTML、JS 和 CSS 完全分开。

使用 JS 显示/隐藏事物的方式默认是使用 CSS 隐藏要隐藏的对象，例如：

```
#JQuerySlider1Container {display:none;} 
```

在您的 JS 中，向正文添加一个类，使用类似：

```
$(function() {
    $('body').addClass('has-js');
}); 
```

然后，您可以在知道您启用了 JS 的情况下编写特定的 CSS 规则，例如：

```
.has-js #JQuerySlider1Container {display:block;} 
```

# android - 从另一个活动启动 Robotium 测试用例

> ID：15292857
> 
> 赞同：0
> 
> 时间：2013-03-08T11:23:14.347
> 
> 标签：android, robotium

我想在 Android 上创建一个测试工具，它实际上是一个侦听某些广播并自动启动机器人测试的服务。

一旦服务接收到特定的广播，它将触发一个机器人测试用例。

但是，我找不到从 Activity、Service 或 BroadcastListener 启动 Robotium 测试用例的方法。我总是遇到 NoClassDefFounderror 的问题。

我个人的 Robotium 测试用例可以单独工作。我只需要一种从父应用程序“解雇”它们的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T13:57:01.563

You will have to use the [startInstrumentation](http://developer.android.com/reference/android/content/Context.html#startInstrumentation%28android.content.ComponentName,%20java.lang.String,%20android.os.Bundle%29) command.

# java - 将 Html 解析为字符串时，Sax 解析器卡住了

> ID：15292862
> 
> 赞同：4
> 
> 时间：2013-03-08T11:23:48.423
> 
> 标签：java

我在我的应用程序中使用 sax 解析器将 XML 解析为字符串。当我的代码将 HTML 正文作为字符串发送时，sax 解析器会卡住更长的时间（超过 5 小时）。

页面源网址：“ [http://www.cityam.com/taxonomy/term/1/all/feed](http://www.cityam.com/taxonomy/term/1/all/feed) ”我想解析。此 url 提供 HTML 页面而不是 XML。如何处理此类问题或如何在适当的异常情况下从我的 saxParser 中退出。我的代码在这里

```
public List<RssEntry> parseDocument(String body) {
    // expected body is xml but getting stuck when get body of html page.
    SAXParserFactory factory = SAXParserFactory.newInstance();
    try {
        SAXParser parser = factory.newSAXParser();
        XMLReader reader = parser.getXMLReader();   
        parser.parse(new ByteArrayInputStream(body.getBytes("UTF-8")), this);
    }

    some catch block 
```

请帮助我。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:54:31.627

When my code send HTML body as string then sax parser getting stuck for longer time (more than 5 hour). If i pass body of html page which contains "[http://apache.org/xml/features/nonvalidating/load-external-dtd](http://apache.org/xml/features/nonvalidating/load-external-dtd)" in dtd are (start of html page) then sax parser got busy to load external-dtd.

so i put these feature as false then sax parser throw an error if xml is not well defined.

XMLReader reader = parser.getXMLReader(); reader.setFeature("[http://apache.org/xml/features/nonvalidating/load-external-dtd](http://apache.org/xml/features/nonvalidating/load-external-dtd)",false);

Thanks everybody to help me.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:49:08.310

```
// expected body is xml but getting stuck when get body of html page.
SAXParserFactory factory = SAXParserFactory.newInstance();
if(!body.startsWith("<?xml")){
    throw new NotXmlInputException(message); //your exception
} 
```

或为您的 xml 创建 shema 文件，并使用验证

```
SchemaFactory constraintFactory =
        SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Source constraints = new StreamSource(/* your schema */);
Schema schema = constraintFactory.newSchema(constraints);
Validator validator = schema.newValidator();

try {
    validator.validate(/* convert your string to sourse*/);
} catch (org.xml.sax.SAXException e) {
    log("Validation error: " + e.getMessage());
} 
```

或者可以帮助使用

```
SAXParserFactory factory = SAXParserFactory.newInstance();
factory.setValidating(true); 
```

# javascript - 单击按钮时如何显示 div 标签？

> ID：15292863
> 
> 赞同：0
> 
> 时间：2013-03-08T11:23:55.660
> 
> 标签：javascript, jquery, html

我的程序是上传一个文件，当我点击*Upload*时，它会调用一个 servlet。相同的上传页面包含一些其他字段，当我单击上传按钮时应该显示这些字段。如何调用 servlet 以及显示剩余内容。实际上使用 servlet 我想在同一页面上显示文件内容。

这是我的代码。

```
<form class="form-horizontal" name="regist" action="Registration"
            onsubmit="return validateFile((this))" enctype="multipart/form-data"
            method="post">

            <div class="control-group" class="span12">
                <label class="control-label" for="file">Please upload a
                    file:</label>
                <div class="controls">
                    <input type="file" name="file"/>
                </div>
            </div>
            <div class="control-group">
                <div class="controls">
                    <button type="submit" class="btn btn-primary">Upload</button>
                </div>
            </div>
        </form>
    </div>

<div id="showFrames" style="display:none;">

<!--
  hidden contents are here -->

</div> 
```

我的脚本是

```
function validateFile(form) {
        var fileName = form.file.value;
        if (!fileName) {
            alert("No File Selected!!!");
            return false;
        }
        else
        {
            $("#showFrames").show();
        }
    } 
```

但它不起作用。谁能帮我？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:34:57.910

```
Replace your as per below
  <form class="form-horizontal" name="regist" action="Registration"
        onsubmit="return validateFile(this)" enctype="multipart/form-data"
        method="post">

        <div class="control-group" class="span12">
            <label class="control-label" for="file">Please upload a
                file:</label>
            <div class="controls">
                <input type="file" name="file"/>
            </div>
        </div>
        <div class="control-group">
            <div class="controls">
                <button type="submit" class="btn btn-primary">Upload</button>
            </div>
        </div>
    </form>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:28:12.257

使用 jQuery，我会这样做：

```
$('.form-horizontal').sumbit(function(e) {
    if($(this).find('input[type="file"]').val().length) { //check by length
        $("#showFrames").show();
    } else {
        alert('No file Selected');
        e.preventDefault();
    }
}); 
```

如果您需要多个表单，最好使用表单 ID。

这样您就可以删除该`onsubmit`属性。

# erlang - 使用 mysql 的 Ejabberd 名册

> ID：15292869
> 
> 赞同：1
> 
> 时间：2013-03-08T11:24:31.383
> 
> 标签：erlang, xmpp, ejabberd

我正在使用带有 ejabberd 的 exauth 来验证我的用户，但我想使用 mysql 来存储用户信息，例如 GROUPS、名册等。

这是我的配置。

```
{auth_method, external}.
{extauth_program, "/home/hitesh/ejabberd_auth.php"}.

{host_config, "subdomain.nodyssey.com", [{auth_method, [external, anonymous]}]}.

{odbc_server, {mysql, "localhost","ejabberd", "root", "root"}}. 
```

mysql数据库是空的！用户在群聊中仍然有花名册和聊天记录，所以看起来 mnesia 数据库正在被使用！我如何为此切换到mysql？

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T18:05:46.583

user601836 是正确的。我最初误解了这个问题。假设 odbc 和 mysql 驱动程序已正确安装，这里是更新的答案：

1.  您是否创建了 mysql 表来存储名册数据等？您的所有 ejabberd 表也是使用 innodb 引擎创建的吗？您可以在 github 中获取架构：[https](https://github.com/processone/ejabberd/blob/2.1.x/src/odbc/mysql.sql) ://github.com/processone/ejabberd/blob/2.1.x/src/odbc/mysql.sql 。您也可以在 ejabberd 安装文件夹中找到它。我的在这个位置：ejabberd_installation_root/lib/ejabberd-2.1.11/priv/sql/mysql.sql。
2.  使用 ejabberd.cfg 中的 *_odbc 替换相关模块名称。例如，将 mod_roster 替换为 mod_roster_odbc，将 mod_muc 替换为 mod_muc_odbc。此处列出了许多 odbc 支持的模块：

    ```
    ...
    {mod_offline_odbc, []},
    {mod_last_odbc, []},
    {mod_roster_odbc, []},
    {mod_shared_roster_odbc,[]},
    {mod_vcard_odbc, []},
    {mod_muc_odbc，[
      ...]},
    {mod_pubsub_odbc，[
      ...]},
    ...
    ```

详细的模块信息请查看官方文档：

```
https://git.process-one.net/ejabberd/mainline/blobs/raw/v2.1.11/doc/guide.html#modoverview 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-19T16:14:26.120

自从提出这个问题以来已经有一段时间了。同时，Ejabberd 配置文件已更改。要启用外部名册存储，假设配置了 ejabberd 和 mysql 数据库和 ejabberd 模式，您在 ejabberd.yml 中要做的就是：

```
sql_type: mysql
sql_server: "localhost"
sql_database: "some_database_name"
sql_username: "some_username"
sql_password: "some_password" 
```

并改变`mod_roster: {}`

到

```
mod_roster:
   db_type: sql 
```

# oracle - 存储过程日志详细信息

> ID：15292870
> 
> 赞同：0
> 
> 时间：2013-03-08T11:24:35.753
> 
> 标签：oracle, stored-procedures, oracle10g

Oracle 版本：10g 我有一个存储过程，我想知道我的存储过程运行了多少次。是成功还是不成功？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T17:09:23.283

默认情况下，Oracle 不存储此信息。

您可以使用 AUDIT 语句通过审计 EXECUTE PROCEDURE 来启用对过程调用的审计：

```
audit execute procedure on my_stored_proc; 
```

（哪里`my_stored_proc`可以是一个包或其他）。您需要具有适当的系统权限来审核事物，即使它们是您的事物。这是因为审计是一种开销，而且对审计跟踪本身的访问受到严格控制（出于可以理解的原因）。

所以 AUDIT 可能不是您想要的。此外，它不会提供您想要的低级内容（“它成功与否？”）。这使您可以选择将仪器构建到您的程序中。这通常是一个好主意，因为有了良好的跟踪，调试就容易多了。

Oracle 没有为此提供内置库（坦率地说，我觉得这很令人惊讶，但你去吧）。构建自己的记录器非常容易。或者查看 Tyler Muth 的 Logger 项目。 [在这里找到它](http://tylermuth.wordpress.com/2011/11/09/logger-project-moved-temporarilly/)。（不暗示或有意保证）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-24T16:35:13.673

在 oracle 数据库中没有办法做到这一点。我也很震惊他们没有提供一个包来为你记录信息到一个表中。他们可以提供一个默认的日志记录包，该包提供以下列

*   用户身份
*   日志级别
*   时间戳
*   命令

使用用于记录的存储过程实现您自己的包。

# c++ - SDL 和 zlib 问题，无法从 zip 创建有效的 rwops 结构

> ID：15292872
> 
> 赞同：3
> 
> 时间：2013-03-08T11:24:36.333
> 
> 标签：c++, sdl, zlib

我一直在尝试读取 zip 存档并从中加载 png 图像，但是我收到了来自 SDL_Image 的无效图像格式错误。这是代码

```
#include <SDL\SDL.h>
#include <SDL\SDL_opengl.h>
#include <SDL\SDL_image.h>

#define ZLIB_WINAPI //to use zlibwapi dll
#include <zlib.h>
#include <zip.h> //minizip
#include <unzip.h> //minizip

#include <string>

SDL_RWops* readfromarchive(std::string archive, std::string filename)
{

unzFile data;
unz_file_info   info;
Uint8*  buffer = NULL;
SDL_RWops* rw = NULL;

data = unzOpen(archive.c_str());
unzLocateFile( data, filename.c_str(), 1 );
unzGetCurrentFileInfo( data, &info, NULL, 0, NULL, 0, NULL, 0 );
unzOpenCurrentFile( data );
buffer = (Uint8*)malloc(info.uncompressed_size);
unzReadCurrentFile( data, buffer, info.uncompressed_size );
rw = SDL_RWFromMem(buffer, info.uncompressed_size);
free(buffer);
unzClose(data);
return rw;
} 
```

当我这样做时

```
 Surf_Temp = IMG_Load_RW( readfromarchive(archive, filename) , 1); 
```

我收到错误 IMG_Load_RW: %s Unsupported image format 好吧，如果直接从解压缩文件加载，它可以使用 IMG_Load()，在通过 sdl 创建 rwops 结构并加载时也可以使用

```
 IMG_Load_RW(SDL_RWFromFile(filename.c_str(), "rb"), 1); 
```

所以文件格式很好，所有 zlib 和 minizip 函数都没有返回任何错误，我检查了 info 结构并且数据与我尝试加载的文件一致，所以错误出现在创建 rwops 结构的某个地方。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T15:29:17.227

问题如下。您正在使用 SDL 的 RWOPs 结构。在给定的情况下，您想从内存中读取。**但是您在阅读之前删除了内存。**RWOPs 结构不会复制内存，它需要在读取所有内容之前保持有效。

`IMG_Load_RW`要解决问题，请在调用到之前将调用拉到`free(buffer);`

# jquery - JqueryValidate 有问题；动态字段数

> ID：15292878
> 
> 赞同：0
> 
> 时间：2013-03-08T11:24:56.967
> 
> 标签：jquery, forms, validation

我对插件 jQueryValidate 有一点问题。

这真的很简单：我只想用这个插件检查我的表单，并在值错误或字段为空时显示一个小工具提示。我为此使用 qTip2，效果很好！

但问题是在表单的某个地方，我有一个动态数量的字段，用户必须在其中输入验证码。我想检查输入的代码是否存在于我正在使用的数据库中，如果不存在，则显示一个小工具提示。

所以，我做到了，但我的问题是如何为这个未定义数量的字段制定“动态”规则，并且只使用一个 PHP 文件来检查代码是否存在于数据库中？

这是我的标准字段表单：

```
<form method="POST" action="" id="inscription-form" name="inscription-form" enctype="multipart/form-data">
    <p><input type="text" name="v_nom" id="v_nom" class="defaultInvalid" size=30 tabindex="1" value="nom" /><br />
    <input type="text" name="v_prenom" id="v_prenom" class="defaultInvalid" size=30 tabindex="2" value="pr&eacute;nom"/><br />
    <input type="text" name="v_adresse" id="v_adresse" class="defaultInvalid" size=30 tabindex="3" value="adresse"/><br /> 
```

[…]

我有一个未定义数量的字段：

```
<input type="text" class="ticket-field" name="v_ticket_1" id="v_ticket_1" size=30 tabindex="9" value="ticket"/>
<input type="text" class="ticket-field" name="v_ticket_2" id="v_ticket_2" size=30 tabindex="10" value="ticket"/> 
```

[…]

这是我的 JS

```
myForm.validate({
errorClass: "errormessage",
onkeyup: false,
errorClass: 'error',
validClass: 'valid',

rules: {

    v_nom: { required: true, minlength: 2 },
    v_prenom: { required: true, minlength: 2 },
    […]

    v_ticket_1: {
        remote: "includes/deindeal_check_tickets.php",
        async: false
    }
},
messages: {
    v_nom: { defaultInvalid: v_name_msg },
    v_prenom: { defaultInvalid: v_last_name_msg },
    […]

    v_ticket_1 : { remote: "Coupon invalide"}
},
success: function(error) {

    setTimeout(function() {
       myForm.find('.valid').qtip('destroy');
    }, 1);
},

submitHandler: function(form) {
    form.submit();
},

errorPlacement: function(error, element) {... 
```

等等...

现在，我的 PHP 文件只返回 true 或 false。这只是一个测试。

那么，我怎样才能为“ticket-field”类的所有字段只定义一个规则，并只使用另一个文件来检查值呢？不幸的是，我在任何地方都找不到好的解决方案。欢迎任何建议！

谢谢！;)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T16:21:47.003

使用[rules](http://docs.jquery.com/Plugins/Validation/rules#.22add.22rules)`add`方法的功能为你的所有s查找和设置规则。您可以在调用 validate 后执行此操作：`ticket-field`

```
myForm.validate({
     //all your options and rules, but exclude anything about v_ticket_1
});

$('.ticket-field').each(function(){
    $(this).rules('add',{
        remote: "includes/deindeal_check_tickets.php",
    });
}); 
```

# c# - 创建 SQLite 数据库和表

> ID：15292880
> 
> 赞同：166
> 
> 时间：2013-03-08T11:24:59.043
> 
> 标签：c#, sqlite, system.data.sqlite

在 C# 应用程序代码中，我想创建一个或多个 SQLite 数据库并与之交互。

如何初始化一个新的 SQLite 数据库文件并打开它进行读写？

创建数据库后，如何执行 DDL 语句来创建表？

* * *

## 回答 #1

> 赞同：317
> 
> 时间：2013-03-08T11:29:59.410

下一个链接将为您带来一个很棒的教程，这对我帮助很大！

[如何在 C# 中使用 SQLITE](https://web.archive.org/web/20190910153157/http://blog.tigrangasparian.com/2012/02/09/getting-started-with-sqlite-in-c-part-one/)

我几乎使用了那篇文章中的所有内容来为我自己的 C# 应用程序创建 SQLite 数据库。

不要忘记下载 SQLite.dll，并将其添加为您的项目的引用。这可以使用*NuGet*并通过手动添加 dll 来完成。

添加引用后，使用类顶部的以下行从代码中引用 dll：

`using System.Data.SQLite;`

您可以在此处找到 dll：

[SQLite DLL 的](http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki)

您可以在此处找到*NuGet 方式*：

[NuGet](http://system.data.sqlite.org/index.html/doc/trunk/www/faq.wiki#q5)

接下来是创建脚本。创建数据库文件：

```
SQLiteConnection.CreateFile("MyDatabase.sqlite");

SQLiteConnection m_dbConnection = new SQLiteConnection("Data Source=MyDatabase.sqlite;Version=3;");
m_dbConnection.Open();

string sql = "create table highscores (name varchar(20), score int)";

SQLiteCommand command = new SQLiteCommand(sql, m_dbConnection);
command.ExecuteNonQuery();

sql = "insert into highscores (name, score) values ('Me', 9001)";

command = new SQLiteCommand(sql, m_dbConnection);
command.ExecuteNonQuery();

m_dbConnection.Close(); 
```

在 C# 中创建创建脚本后，我认为您可能想要添加回滚事务，它更安全，并且可以防止数据库失败，因为数据将在最后以一个大块作为原子操作提交给数据库而不是小块，例如，它可能在 10 次查询中的第 5 次失败。

如何使用事务的示例：

```
 using (TransactionScope tran = new TransactionScope())
 {
     //Insert create script here.

     //Indicates that creating the SQLiteDatabase went succesfully, so the database can be committed.
     tran.Complete();
 } 
```

# javascript - 如何使用spinejs获取有条件的ajax数据

> ID：15292882
> 
> 赞同：0
> 
> 时间：2013-03-08T11:25:11.930
> 
> 标签：javascript, ajax, fetch, spine.js

例如，我有这个模型作为用户：

```
var Users = Spine.Model.sub();
Users.configure('Users', 'name', 'gender', 'age');
Users.extend(Spine.Model.Ajax);
Users.extend({url:"/users"}); 
```

假设我们已经在数据库中保存了一些数据。如果运行

```
var users = Users.fetch(); 
```

Ajax 会向 /users 发送一个 GET 请求，所有结果都会返回。

但是如果我想获取所有女性或男性用户，或年龄在 25 岁以上，或按指定顺序排名前 10 位的用户，如何传递这些变量？我在文档中找不到规范。fetch 方法可以通过回调函数参数在 fetch 完成时撤销，显然不是我想要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:48:04.820

我自己找到了解决方案。实际上该文档告诉了如何对结果进行分页。

```
var Photo = Spine.Model.sub();
Photo.configure('Photo', 'index');
Photo.extend(Spine.Model.Ajax);

Photo.extend({
  fetch: function(params){
    if ( !params && Photo.last() ) 
      params = {data: {index: this.last().id}}
    this.constructor.__super__.fetch.call(this, params);
  }
}); 
```

但我发现代码无法运行，首先

```
this.constructor.__super__.fetch.call(this, params); 
```

应该

```
this.__super__.constructor.fetch.call(this, params); 
```

其次，如果运行 Photo.fetch({data:{id:1}})，它将像这样发送一个 GET 请求

```
GET /photos?[object%20Object] 
```

纠正它

```
Photo.fetch({data: $.param({id:1})}); 
```

HTTP 请求

```
GET /photos?id=1 
```

# asp.net - asp.net aspx页面中listview内的div

> ID：15292885
> 
> 赞同：2
> 
> 时间：2013-03-08T11:25:25.130
> 
> 标签：asp.net, webforms

我想使用列表视图显示数据库中的 20 个项目。但这些项目应显示在两个 div 中。每个 div 中有 10 个项目。问题是，我如何在 listview itemtemplate 中为 aspx 页面中的项目构建 div？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:31:01.360

如果您正在寻找的自定义级别不容易或无法通过自定义 ASP.NET 列表视图来实现`ItemTemplate`，您可以使用转发器对象并对其进行自定义`ItemTemplate`，转发器专为这些情况而设计，它支持数据绑定和允许您完全定义/自定义要重复的项目的布局。

请参阅此处：[ASP.NET 教程。如何使用中继器](http://www.netrostar.com/Tutorials-91-ASP.NET%20Tutorial.%20How%20to%20use%20Repeater)

# java - 如何使工作成为 Android 中的图像缓存？

> ID：15292887
> 
> 赞同：0
> 
> 时间：2013-03-08T11:25:31.740
> 
> 标签：java, android, caching

我在android中缓存图像时遇到了一些麻烦。我正在使用 AsyncTask 从 URL 下载图像。在下载之前，我检查缓存中是否已经包含一个以 URL 为键的 Drawable。如果是，Drawable 将从缓存中取出。

下载由 ListFragment 的自定义 ArrayAdapter 或另一个 Fragment 中的 onCreateView() 触发。

我的问题如下：第一次下载正常。但是，如果我滚动 ListFragment，则会加载错误的图像。如果我重新加载列表或片段，图像将从缓存中获取，ImageViews 将为空。如果我不使用缓存，图像将正确显示。

这里是我的 CacheHandler 的代码：

```
import android.graphics.drawable.Drawable;
import android.util.LruCache;

public class CacheHandler {
    private static CacheHandler instance;
    private LruCache<String, Drawable> cache;
    private final Logger logger = new Logger(CacheHandler.class);

    private CacheHandler() {
        final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);
        final int cacheSize = maxMemory / 8;
        cache = new LruCache<String, Drawable>(cacheSize);
    }

    public static CacheHandler getInstance() {
        if (instance == null)
            instance = new CacheHandler();
        return instance;
    }

    public void addToCache(String key, Drawable pic) {
        if (getFromCache(key) == null) {
            cache.put(key, pic);
            logger.debug("Added drawable to cache with key " + key);
        } else
            logger.debug("Drawable with key " + key + " already exists");
    }

    public Drawable getFromCache(String key) {
        logger.debug("Getting image for " + key);
        Drawable d = cache.get(key);
        logger.debug("Image is " + d);
        return d;
    }
} 
```

这里是 AsyncTask 中的调用：

```
logger.debug("Checking cache");
Drawable d = CacheHandler.getInstance().getFromCache((String) params[0]); 
```

感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:31:35.373

您的解决方案有很多方法。您可以点击
[链接 1下方的链接](https://github.com/thest1/LazyList)

[链接 2](https://github.com/nostra13/Android-Universal-Image-Loader)
[链接 3](http://android-developers.blogspot.in/2010/07/multithreading-for-performance.html)

希望我的回答有帮助。:)

# node.js - NodeJS Zappa 在被调用函数中使用@response、@request

> ID：15292889
> 
> 赞同：0
> 
> 时间：2013-03-08T11:25:31.947
> 
> 标签：node.js, function, scope, zappa

我可以做这个：

```
require('zappajs') ->
    @get '/':-> console.log(@response) 
```

但是当我尝试这个时

```
require('zappajs') ->
    @get '/': -> foo()

    foo = ->
      console.log(@response) 
```

@response 未定义。所以很明显“这个”现在超出了范围。我尝试使用`=>`函数定义，而不是通过`->`它来传递“this”……但这没有区别。我可以使用@helper 达到预期的结果

```
require('zappajs') ->
    @get '/':-> @foo()

    @helper foo: ->
        console.log(@response) 
```

这是唯一的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-01T12:29:45.300

当你像这样调用你的函数时，你正在失去作用域`foo()`，为了保持作用域，你必须这样调用`foo`：

`foo.apply(this)`或者`foo.call(this)`

# asp.net - 自定义错误页面 | 重定向类型=301？

> ID：15292891
> 
> 赞同：3
> 
> 时间：2013-03-08T11:25:35.190
> 
> 标签：asp.net, .net, web-config

我想这可能是一个新手问题（我是谁:)）。在将用户重定向到自定义错误页面（例如 404）以告知未找到该页面时，此重定向的类型为 302。

```
 <error statusCode="404" redirect="/Utility/Error404.aspx" />
  <error statusCode="400" redirect="/Utility/Error404.aspx" /> 
```

是否可以通过 Web.config 进行此重定向 301？

提前感谢你们所有的代码狂人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-07T15:32:52.780

为避免这种情况，并使用正确的 HttpCode 返回自定义视图：

在您的 web.config 上，删除错误元素并设置：

```
<system.webServer>
    <httpErrors existingResponse="PassThrough" />
</system.webServer> 
```

在您的 Global.asax 上，使用它来呈现自定义 asp.net MVC 视图：

```
 protected void Application_Error(object sender, EventArgs e)
    {
        var ex = HttpContext.Current.Server.GetLastError();
        if (ex == null)
            return;
        while (!(ex is HttpException))
            ex = ex.GetBaseException();
        var errorController = new ErrorsController();
        HttpContext.Current.Response.Clear();
        var httpException = (HttpException)ex;
        var httpErrorCode = httpException.GetHttpCode();
        HttpContext.Current.Response.Write(errorController.GetErrorGeneratedView(httpErrorCode, new HttpContextWrapper(HttpContext.Current)));
        HttpContext.Current.Response.End();
    } 
```

在您的自定义 ErrorsController 上，添加它以从 asp.net mvc 视图生成 html 视图：

```
 public string GetErrorGeneratedView(int httpErrorCode, HttpContextBase httpContextWrapper)
    {
        var routeData = new RouteData();
        routeData.Values["controller"] = "Errors";
        routeData.Values["action"] = "Default";
        httpContextWrapper.Response.StatusCode = httpErrorCode;
        var model = httpErrorCode;
        using (var sw = new StringWriter())
        {
            ControllerContext = new ControllerContext(httpContextWrapper, routeData, this);
            var viewEngineResult = ViewEngines.Engines.FindPartialView(ControllerContext, "Default");
            ViewData.Model = model;
            var viewContext = new ViewContext(ControllerContext, viewEngineResult.View, ViewData, TempData, sw);
            viewEngineResult.View.Render(viewContext, sw);
            return sw.ToString();
        }
    } 
```

# c++ - 赋值运算符的返回类型是什么？

> ID：15292892
> 
> 赞同：35
> 
> 时间：2013-03-08T11:25:36.653
> 
> 标签：c++, reference, assignment-operator, dereference, lvalue

我刚刚开始 C++。我对赋值和取消引用运算符的返回类型有点困惑。我正在关注 C++ Primer 一书。在各种情况下，作者说赋值运算符的返回类型是对左操作数的类型的引用，但后来他说返回类型是左操作数的类型。我已经提到了 C++11 Standard Sec。5.17，其中返回类型被描述为“指左手操作数的左值”。

同样，我无法弄清楚取消引用是返回指向的对象还是对该对象的引用。

这些陈述是否等效？如果是这样，那怎么办？任何解释将不胜感激。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-03-08T11:41:05.900

该标准正确定义了赋值运算符的返回类型。实际上，赋值操作本身并不依赖于返回值——这就是为什么返回类型不容易理解的原因。

The return type is important for chaining operations. Consider the following construction: `a = b = c;`. This should be equal to `a = (b = c)`, i.e. `c` should be assigned into `b` and `b` into `a`. Rewrite this as `a.operator=(b.operator=(c))`. In order for the assignment into `a` to work correctly the return type of `b.operator=(c)` must be reference to the inner assignment result (it will work with copy too but that's just an unnecessary overhead).

The dereference operator return type depends on your inner logic, define it in the way that suits your needs.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-08T11:30:13.777

它们都可以是任何东西，但*通常* `operator =`通过引用返回当前对象，即

```
A& A::operator = ( ... )
{
   return *this;
} 
```

是的，“引用左手操作数的类型”和“左值引用左手操作数”的意思是一样的。

解引用运算符基本上可以有任何返回类型。它主要取决于程序的逻辑，因为您正在重载适用于对象的运算符，而不是指向对象的指针。通常，这用于智能指针或迭代器，并返回它们环绕的对象：

```
struct smart_ptr
{
   T* innerPtr;
   T* smart_ptr::operator* ()
   {
      return innerPtr;
   }
}

smart_ptr p; 
T* x = *p; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T11:30:46.403

我见过类似的问题，但我想最好使用

```
X& X::operator=(const X&); 
```

使用它，您将能够在链分配中重用该对象。

# python - 如何深度搜索 Python 列表？

> ID：15292893
> 
> 赞同：4
> 
> 时间：2013-03-08T11:25:50.603
> 
> 标签：python, search, arraylist

我想在 Python 中的列表中进行深度搜索。例如，我想知道 5 是否在`my_list`。

```
my_list = [2, [3, 4, [2, 3]], 1, [4, [5]]] 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:55:03.833

不确定使用多级嵌套的快速方法，但是像这样的递归算法可以解决问题：

```
def nestedSearch(nested, v):
    for element in nested:
        if isinstance(element, list):
            if nestedSearch(element, v):
                return True
        elif element == v:
            return True
    return False 
```

你也可以看看这个扁平化多嵌套列表：

[用于展平嵌套列表的递归生成器](https://stackoverflow.com/questions/11377208/recursive-generator-for-flattening-nested-lists)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T12:37:18.883

您可以将该[`flatten`函数](https://stackoverflow.com/questions/11377208/recursive-generator-for-flattening-nested-lists)（将其视为 的递归版本`itertools.chain`）与 Python 的标准`in`运算符（在生成器上进行线性搜索）结合起来得到：

```
>>> def flatten(nested):
    try:
        for sublist in nested:
            for element in flatten(sublist):
                yield element
    except TypeError:
        yield nested

>>> my_list = [2, [3, 4, [2, 3]], 1, [4, [5]]]
>>> 5 in flatten(my_list)
True 
```

根据链接问题中的评论，如果您要搜索的内容是可迭代的，您将需要优化`flatten`代码 - 例如，元组将像列表一样被展平到搜索中，并且搜索字符串会递归，直到它达到 Python 的堆栈限制。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T12:05:47.727

如果您有列表列表，则可以使用此方法

```
>>> l = [[1,2,3],[4,5,6], [7], [8,9]]
>>> [item for sublist in l for item in sublist]
[1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> 5 in [item for sublist in l for item in sublist]
True 
```

首先使用 O(n) 展平列表并通过它进行搜索。

如果您的列表看起来像在您的示例中，我想不出比使用 for-loops 的另一种方法......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:49:28.737

一种方法：

```
def deapSearch(searchElement, searchList):
    for element in searchList:
        if element == searchElement:
            return True
        elif type(element) == type(list):
            found = deapSearch(searchElement, element)
            if found:
                return found
    return False
deapSearch(5, my_list)
True
deapSearch(4, my_list)
True 
```

不漂亮但工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-04-06T18:31:25.250

我最近需要这样做并且需要一个简单的解决方案。所以我将它添加为一种快速而肮脏的方式来展平/搜索列表（可能不是一个完美的解决方案，但它对我有用）。

```
>>> my_list = [2, [3, 4, [2, 3]], 1, [4, [5]]]
>>> str(5) in str(my_list) # returns True
>>> str(my_list).find(str(5)) # returns the index 
```

编辑：也添加一个正则表达式解决方案。但是如果你有更复杂的情况，那么你不妨遍历列表。

```
>>> import re
>>> str(5) in re.findall('(?<=[,\[])([ a-zA-Z0-9 ]+)(?=[,\]])', str(my_list)) 
```

正则表达式本质上是扁平化列表，但不适用于列表项中的特殊字符。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2014-11-19T12:32:06.497

如果您只有一个带有整数或字符的嵌套列表，解决此问题的一种方法是创建一个没有所有不需要的元素的列表（没有 '[' ， ']' ...）：

假设我们有一个带有 chars 的嵌套列表：

```
>>> nested = [[[[['F', 'B'], 'G'], ['D', 'A']], 'C'], 'E']
>>> string = str(nested)
>>> string = string.replace('[','',len(string))
>>> string = string.replace(']','',len(string))
>>> string = string.replace("'","",len(string))
>>> string = string.replace(" ","",len(string))
>>> string = string.split(',') 
```

它给 ：

```
>>> print (string)
['F', 'B', 'G', 'D', 'A', 'C', 'E'] 
```

现在您可以轻松搜索而无需任何循环：

```
>>> 'F' in string
True 
```

# ruby - Ruby 语法、嵌套模块或类

> ID：15292894
> 
> 赞同：3
> 
> 时间：2013-03-08T11:25:52.710
> 
> 标签：ruby, code-structure

我是 Ruby 新手，但一直在查看一些源代码。我在一些源代码中遇到了下面显示的那种结构（模块名称，类不是真实的）

```
module ModuleOne

class MyClass

module CommonModule

# code ....

end # module CommonModule

end # class MyClass

end # module ModuleOne 
```

或者这个例子

```
module ModuleOne

  class MyClass

    class MyClassTwo

#code  ............

  end #class MyClassTwo

    end #class MyClass

      end #module ModuleOne 
```

从到目前为止的阅读中，我知道在模块中包装类，但我还没有听说过上面显示的包装类型（例如模块中的模块或类中的类）。我可以问一下，1.这是一种很好的做法并且经常这样做吗？2\. 以这种方式构造代码有什么好处？

感谢您的任何评论或指点

戴夫

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T11:38:48.320

嵌套是为了封装常量，模块是特殊情况。换句话说，它们用于命名空间。当您希望特定模块只能在某个模块的上下文中访问时，您应该进行嵌套。通过这样做，默认情况下将无法从外部访问该模块；您必须为命名空间添加前缀才能这样做。当嵌套层数过多，或者模块体较长时，在代码中很难跟上，所以在这种情况下，一个好的方法是编写整个命名空间。

```
module ModuleOne
  ...
end

class ModuleOne::MyClass
  ...
end

class ModuleOne::MyClass::MyClassTwo
  ...
end 
```

# three.js - three.js - THREE.MeshFaceMaterial 更新立方体上的纹理

> ID：15292896
> 
> 赞同：2
> 
> 时间：2013-03-08T11:25:57.947
> 
> 标签：three.js, mesh, cube

使用 r54：

立方体，每一面都有不同的纹理。

```
var materials = [new THREE.MeshBasicMaterial({map: textureSmallSide}),
                 new THREE.MeshBasicMaterial({map: textureSmallSide}), 
                 new THREE.MeshBasicMaterial({map: textureSmallSide}),
                 new THREE.MeshBasicMaterial({map: textureSmallSide}),
                 new THREE.MeshBasicMaterial({map: texture}),
                 new THREE.MeshBasicMaterial({map: texture})]; 
```

所以在这种情况下 6 个不同的 canvas-obj

```
new THREE.Mesh(cuboidgeo, new THREE.MeshFaceMaterial(materials)); 
```

问题：
如何获取材质数组来更新这些纹理（例如更改 canvas-obj 的值）？我知道当我创建这样的网格时：

```
new THREE.Mesh(cubegeo, new THREE.MeshBasicMaterial({map: texture})); 
```

我可以得到我的画布对象，如：

```
cubemeshobj.material.map.image 
```

但是我从谁那里得到 THREE.MeshFaceMaterial 的纹理（材质数组）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T16:21:42.723

在控制台中检查您的对象。现在你有一系列材料

```
for(var i = 0; i < cubemeshobj.material.materials.length; i++){

      cubemeshobj.material.materials[i].map.image;

} 
```

r56

# mysql - 如何从数据库中获取字段值并使用 codeigniter 在下拉列表中设置

> ID：15292903
> 
> 赞同：3
> 
> 时间：2013-03-08T11:26:32.843
> 
> 标签：mysql, database, codeigniter

我是**CodeIgniter**的新手，正在开发一个我有表单的应用程序。在这种形式中，我有一个下拉菜单。我在数据库的列中有一些值。我想要下拉列表中的这些值，我不知道该怎么做。

我的看法是：

```
<tr>
    <td>Moderator :</td>
    <td><label for="select"></label>
    <select name="mod" tabindex="1" >
    <!--values i want from database-->
    </select>
    </td>
</tr> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:41:22.123

这个例子是针对我们应用中的一个国家表，该表包含，id，symbol，name

控制器：

```
$data['countries']=$this->countries_model->get_countries();
$this->load->view('countries',$data); 
```

模型：

```
 function get_countries()
    {
        $query = $this->db->get('countries');
            if ($query->num_rows >= 1)
            {
                foreach($query->result_array() as $row)
                {
                    $data[$row['countryId']]=$row['countryName'];
                }
                return $data;
            }
    } 
```

它返回一个数组，如：

```
$id=>$name
0=>Canada
1=>United States 
```

看法：

```
echo form_dropdown('countries',$countries); //ci syntax 
```

或者：

```
<select name="country">
<?php
    foreach($countries as $country)
    {
       echo '<option value="'.$country['id'].'">'.$country['name'].'</option>';
    }
?>
</select> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-10-04T07:07:05.793

```
<?php

class Member_model extends CI_Model{

var $table = 'tbl_member';

public function __construct(){
    parent::__construct();
    $this->load->database();
}

public function get_all_members(){
    $this->db->from('tbl_member');
    $query=$this->db->get();
    return $query->result();
}

public function get_by_id($id){
    $this->db->from($this->table);
    $this->db->where('member_id',$id);
    $query = $this->db->get();
    return $query->row();
}

public function member_add($data){
    $this->db->insert($this->table, $data);
    return $this->db->insert_id();
}

public function member_update($where, $data){
    $this->db->update($this->table, $data, $where);
    return $this->db->affected_rows();
}

public function delete_by_id($id){
    $this->db->where('member_id', $id);
    $this->db->delete($this->table);
}
} 
```

# r - 从列表列表中删除空列表

> ID：15292904
> 
> 赞同：4
> 
> 时间：2013-03-08T11:26:36.003
> 
> 标签：r, list

我有一个列表列表，其中一些是`NA`例如`empty lists`。我想提取所有填充数据的列表并删除所有`empty(NA)`.

我正在尝试的代码是：

```
lapply(outputfile,function(x){
  if(outputfile != NA){
  test<-lapply(outputfile,unlist)
}}) 
```

但这不起作用。

列表的列表是这样的：（随机数据的小例子）

```
list(NA, NA, NA, NA, NA, NA, list(c(5, 5, 5, 5, 5, 5, 5, 5, 5, 
5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 
5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 
5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 
5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 
5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5))) 
```

我只想提取其中包含 5s 的列表。前 6 个列表应被忽略，例如删除。

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-08T11:43:00.533

因此，要在第一级删除`NA`，您可以`is.na`直接使用：

```
l[!is.na(l)] 
```

或者，您也可以使用`Filter`which 尝试将评估函数的结果强制为逻辑并返回那些评估为 TRUE 的元素。你可以这样做，例如：

```
Filter(function(x) !is.na(x), l) 
```

（或）等效地（正如@flodel 在评论下所写）

```
Filter(Negate(is.na), l) 
```

# r - 在 R 中安装 Package mvoutlier 时如何解决错误“缺少所需的标头 GL/gl.h”？

> ID：15292905
> 
> 赞同：53
> 
> 时间：2013-03-08T11:26:37.510
> 
> 标签：r

我正在尝试安装，`package mvoutlier`但在安装过程中出现以下错误：

```
install.packages("mvoutlier")
configure: error: missing required header GL/gl.h 
ERROR: configuration failed for package ‘rgl’
* removing ‘/home/sam/R/x86_64-pc-linux-gnu-library /2.15/rgl’
ERROR: dependency ‘rgl’ is not available for package ‘compositions’
* removing ‘/home/sam/R/x86_64-pc-linux-gnu-library/2.15/compositions’
ERROR: dependency ‘compositions’ is not available for package ‘mvoutlier’
* removing ‘/home/sam/R/x86_64-pc-linux-gnu-library/2.15/mvoutlier’ 
```

之后我成功安装了 rgl 包，然后我尝试安装组合包，然后再次出现相同的错误。然后我再次尝试安装 mvoutlier 包，出现同样的错误。

谁能让我知道如何解决这个问题。提前谢谢你。

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2014-03-06T02:19:33.477

我怀疑您正在运行 Ubuntu 12.04。我认为您会发现这可以`GL/gl.h`解决问题：

在常规的旧终端上安装这些，即假装 R 目前不存在：

```
libglu1-mesa-dev freeglut3-dev mesa-common-dev 
```

由于 tcl b****/gripe/complaint，您稍后（在 R 中）可能会收到以下错误：

```
Error in structure(.External(.C_dotTcl, ...), class = "tclObj") : 
  [tcl] can't find package BWidget. 
```

要解决这个问题，如果你有它：

```
sudo apt-get install bwidget 
```

这些不是 R 问题。它们是操作系统问题！

* * *

## 回答 #2

> 赞同：41
> 
> 时间：2015-11-21T22:58:07.347

我在基于 Ubuntu 的 Linux 发行版（Linux Mint）上遇到了同样的问题。在这里，我将分享我为修复它所做的工作日志。

完整的修复是：

`apt-get install libx11-dev mesa-common-dev libglu1-mesa-dev`

## 工作日志

第一个错误与缺少 X11 的开发库有关：

`configure: error: X11 not found but required, configure aborted.`

我修复了它的安装：

`apt-get install libx11-dev`

然而，在解决了这个问题之后，我感觉像这样一个新的：

`configure: error: missing required header GL/gl.h ERROR: configuration failed for package ‘rgl’`

我检查了存储库上的库：

`# dpkg -S /usr/include/GL/gl.h dpkg-query: no path found matching pattern /usr/include/GL/gl.h`

要解决此问题，请安装：

`apt-get install mesa-common-dev`

然后，我被一个新错误提示：

`configure: error: missing required header GL/glu.h`

要解决此问题，请安装 libglu1 开发库：

`apt-get install libglu1-mesa-dev`

* * *

## 回答 #3

> 赞同：37
> 
> 时间：2013-03-08T11:55:52.647

```
configure: error: missing required header GL/gl.h 
```

通常意味着您尚未安装包的 -dev 版本，在本例中为 GL。

在我的系统上， GL/gl.h 归 mesa-common-dev 所有

```
$ dpkg -S /usr/include/GL/gl.h
mesa-common-dev: /usr/include/GL/gl.h 
```

这将使用`apt-get install mesa-common-dev`或通过一些 GUI 魔术安装。

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2017-07-03T22:13:45.580

在 Ubuntu 16.04 上，我解决了这个问题（在`rgl`包安装期间）`sudo apt-get install libglu1-mesa-dev`

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2018-01-06T18:53:28.680

当前的 Fedora 包管理器将无法找到这些库，如图所示。相反，你需要做

```
 sudo dnf install mesa-libGL-devel mesa-libGLU-devel 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-06-06T10:52:41.273

根据 3manuek 的工作分解，我认为在 ubuntu 16.04 LTS 中只需要 libglu1-mesa-dev 库，并且它可以工作。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-01-29T12:46:36.040

在，RHEL，`sudo yum install mesa-libGLU-devel`工作。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-10-01T13:47:52.100

在 Travis 上测试需要 'rgl' 的包时，我遇到了同样的问题。问题是操作系统缺少 'rgl' 包绘制的必要 GL 文件。

R-forge 的一个[线程](https://r-forge.r-project.org/tracker/index.php?func=detail&aid=6553&group_id=234&atid=946)提供了巧妙的 running 解决方案`apt-get install r-cran-rgl`，它将引入操作系统上尚不存在的任何 GL 依赖项。这似乎比事后猜测缺少哪个特定依赖项更简单，并且如果需要，仍然可以安装更新版本的“rgl”。

# php - Mysql查询工作但不进入循环，PHP，MYSQL

> ID：15292907
> 
> 赞同：2
> 
> 时间：2013-03-08T11:26:46.330
> 
> 标签：php, mysql, categories

我的数据库中有一张表，其中包括 kategoriID、kategoriAd、kategoriEbeveyn。它类似于 categoryID、categoryName 和 categoryParent。

我希望发生这种情况，即当我尝试删除主类别时，我可以删除主类别和子类别。

-世界

...... +欧洲

....................... *火鸡

..................................**伊斯坦布尔

当我尝试删除时，此功能适用于世界和欧洲。但土耳其和伊斯坦布尔仍在我的数据库中。由于错误，我无法删除它们。

“mysql_fetch_array() 期望参数 1 是资源，给出的布尔值”

| 类别ID | 分类广告 | 类别Ebeeveyn |

| 1 | 世界 | 0 |

| 2 | 欧洲 | 1 |

| 3 | 土耳其 | 2 |

| 4 | 伊斯坦布尔 | 3 |

这是我的功能。

```
<?php

function KategoriVeAltKategorileriSil(){
$kategoriID = $_GET['kategoriID'];
     mysql_query("DELETE FROM kategoriler WHERE kategoriID = ' $kategoriID '") or die (mysql_error());
       $delete = mysql_query("DELETE FROM kategoriler WHERE kategoriEbeveyn = ' $kategoriID ' ") or die (mysql_error());        

    if($delete){
         while($silinecek = mysql_fetch_array($delete)){

               KategoriVeAltKategorileriSil($silenecek[' kategoriID ']);
             echo mysql_error();
                     }
    echo "Kategori ve alt kategorileri silindi.";
    }else{ echo "Silme işlemi gerçekleştirilemedi!" .mysql_error(); }
        }

?> 
```

或者我需要使用触发器吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T11:40:41.657

```
 function deleteCategory($kategoriID) {
        $result=mysql_query("SELECT * FROM kategoriler WHERE kategoriEbeveyn='$kategoriID'");
        if (mysql_num_rows($result)>0) {
             while($row=mysql_fetch_array($result)) {
                  deleteCategory($row['kategoriID']);
             }
        }
        mysql_query("DELETE FROM kategoriler WHERE kategoriID='$kategoriID'");
    }

you can use this recursive function 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:35:30.673

最好的方法是提出如下请求：

```
DELETE FROM kategoriler WHERE ketegoriID IN (SELECT kategoriID
FROM kategoriler
WHERE kategoriID = ' $kategoriID ' or kategoriEbeveyn = ' $kategoriID '); 
```

当然它不完整，因为我不知道你的数据库结构

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T11:44:24.203

好吧，关键是您有一个映射到 DB 的平面（行）结构的树结构。

您将需要使用递归删除方法来处理此问题。

您的代码应该类似于：

```
function DeleteCategory(catId)
{
    GetChildCategoriesOf(catId)

    if (num_rows > 0)
    {
         foreach(ChildCategoryFound)
         {
              DeleteCategory(ChildCatId); //Recursive call
         }
    }

    Delete(catId) //Delete the parent as last action
} 
```

# python - 在 Python 中一次更改多个元素

> ID：15292917
> 
> 赞同：0
> 
> 时间：2013-03-08T11:27:16.420
> 
> 标签：python, string, letters

我想知道如何编写一个算法来一次切换多个字母。我正在寻找一种在（右手打字）Y或U或I或O或P中更改每个（左手打字）Q或W或E或R或T的方法，而不会弄乱空格或大写字母（实际上是使用 shift 键）文本，并将其作为整个键盘的“镜像”（因此它还包括标点符号）。

反正我要跑题了。如果我只知道如何将特定符号更改为其他特定符号，而无需编写带有 112 个 if/elif 语句的意大利面条代码（总符号我必须交换 * 4，因为反之亦然和移位值）/

是否有可能获取一个字符串中的所有符号并将它们与另一个符号中的其他符号切换，同时仍然不会弄乱句子中的空格？

```
for i in sentence:
    if i == 'Q':
        i = 'Y'
    elif i == 'q':
        i = 'y'
    elif i == # etc... 
```

会太长了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T11:31:06.773

```
>>> import string
>>> t = string.maketrans("Qq","Yy")
>>> "QqQq".translate(t)
'YyYy' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:31:01.730

使用字典：

```
In [7]: strs="aAb BcD"

In [8]: dic={'a':'q','A':'w','b':'E','B':'r','c':'A','D':'y'}

In [9]: "".join(dic.get(x,x) for x in strs)
Out[9]: 'qwE rAy' 
```

# tcl - 如何从 tcl 中的文件中获取两个字符串之间的数据？

> ID：15292924
> 
> 赞同：0
> 
> 时间：2013-03-08T11:27:49.737
> 
> 标签：tcl

在 TCL 脚本中：我有一个文件，我知道如何搜索字符串，但如何在找到字符串时获取行号。如果可能，请回答我

或者

```
set fd [open test.txt r]
while {![eof $fd]} {
    set buffer [read $fd]
}

set lines [split $buffer "\n"]
if {[regexp "S1 Application Protocol" $lines]} {
    puts "string found"
} else {puts "not found"} 
```

```
#puts $lines

#set i 0
#while {[regexp -start 0 "S1 Application Protocol" $line``s]==0}  {incr i
#puts $i
#}

#puts  [llength $lines]
#puts [lsearch -exact $buffer  S1]
#puts [lrange $lines 261 320] 
```

在上面的程序中，我将输出作为找到的字符串。如果我将在此文件中提供字符串以外的字符串，我将得到未找到的字符串。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:05:37.260

“一行”的概念只是我们在从文件中获取的数据流之上的一种约定。因此，如果您想使用行号，那么您必须自己计算它们。`gets`命令文档包含以下示例：

```
set chan [open "some.file.txt"]
set lineNumber 0
while {[gets $chan line] >= 0} {
    puts "[incr lineNumber]: $line"
}
close $chan 
```

所以你只需要用你的代码替换 puts 语句来找到你想要找到的文本模式，当你找到它时，值`$line`会给你行号。

要复制位于另外两行之间的文本，我会使用以下内容

```
set chan [open "some.file.txt"]
set out [open "output.file.txt" "w"]
set lineNumber 0
# Read until we find the start pattern
while {[gets $chan line] >= 0} {
    incr lineNumber
    if { [string match "startpattern" $line]} {
        # Now read until we find the stop pattern
        while {[gets $chan line] >= 0} {
            incr lineNumber
            if { [string match "stoppattern" $line] } {
                close $out
                break
            } else {
                puts $out $line
            }
        }
    }
}
close $chan 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-09T02:52:05.457

最简单的方法是使用`fileutil::grep`命令：

```
package require fileutil

# Search for ipsum from test.txt
foreach match [fileutil::grep "ipsum" test.txt] {
    # Each match is file:line:text
    set match      [split $match ":"]
    set lineNumber [lindex $match 1]
    set lineText   [lindex $match 2]

    # do something with lineNumber and lineText
    puts "$lineNumber - $lineText"
} 
```

# 更新

我意识到如果该行包含冒号，则`lineText`在第三个冒号处被截断。所以，而不是：

```
 set lineText   [lindex $match 2] 
```

我们需要：

```
 set lineText   [join [lrange $match 2 end] ":"] 
```

# c - 在 GDB 中打印当前语句

> ID：15292926
> 
> 赞同：6
> 
> 时间：2013-03-08T11:28:01.087
> 
> 标签：c, gdb

每次我使用`n`它时都会打印出要执行的下一条语句。

我如何看到要执行的下一条语句，就好像我已经键入了一样`n`，但实际上没有单步执行代码？

目前我正在使用`where`，这给了我下一条语句的行号，我可以用它`list`来查看一些源代码。是否需要两个单独的命令才能获得我想要的东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-07T07:11:03.690

尝试“框架”命令。你会看到这样的东西：

```
 (gdb) frame
   #0 main () at dummy.c:11
   11    FILE*f = fopen("somefile","r");
   (gdb) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:45:20.317

`macro`在`.gdbinit`你的主目录中定义你自己。

```
define shownext
where
list
end 
```

好吧，我不确定我所说的是否有效，但请参阅[此处](http://www.ibm.com/developerworks/aix/library/au-gdb.html)了解如何执行此类操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T22:12:01.193

如果您的 gdb 是使用 Python 支持构建的，则此[list.current.py](https://github.com/scottt/gdb-python-scripts/blob/master/list-current.py)脚本将添加一个新的**list-current** gdb 命令来执行您想要的操作。

示例会话：

```
$ gdb -x list-current.py /bin/true
(gdb) start
Temporary breakpoint 1 at 0x4014c0: file true.c, line 59.
Starting program: /usr/bin/true 

Temporary breakpoint 1, main (argc=1, argv=0x7fffffffde88) at true.c:59
59    if (argc == 2)
(gdb) list-current 
59    if (argc == 2)
(gdb) list-current  3
59    if (argc == 2)
60      {
61        initialize_main (&argc, &argv);
(gdb) list-current  -2
58       argument.  */
59    if (argc == 2)
(gdb) 
```

# jquery - jQuery Mobile 问题 - 第一次使用

> ID：15292927
> 
> 赞同：1
> 
> 时间：2013-03-08T11:28:01.583
> 
> 标签：jquery, jquery-mobile

所以我第一次使用jQuery mobile。

我已经添加了它，并且我有 swiperight 功能可以返回上一页。

然而，当我四处浏览时，我注意到有几件事是以添加 jQuery mobile 为代价的。我设法通过使用来停止更改输入等元素`$( "input, textarea, select", e.target ).attr( "data-role", "none" );`。

1）。加载消息显示在屏幕底部。我通过使用删除了它，`$.mobile.loadingMessage = false;`但是当不需要它时它仍然会导致滚动条，这会导致我的页脚下方出现一条白线。

2）。在我的一个页面上，我有以下代码现在不再有效：

```
$(document).ready(function() {

    $("#arrow_click").click(function(){

        var theclass = $(this).attr("class");

        if(theclass == "icon-chevron-down"){
            $("#table_cont").hide();
        } else if(theclass == "icon-chevron-up"){
            $("#table_cont").show();
        }

    });

}); 
```

任何人都可以阐明这两个问题吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-09T16:03:40.490

Jquery 在最后页面添加了下面的加载 div，如下所示。

```
<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span>

 <h1>loading</h1>

</div> 
```

要摆脱它，您有两个选择，要么 . `hide();`它或`.remove();`它通过调用 div 的类`ui-loader`。尝试任一解决方案。

**把它藏起来。**

`.hide();`将`display: none;`样式添加到 div，但不会删除它。

```
$(document).on("pageshow", "[data-role='page']", function () {
 $('div.ui-loader').hide();
}); 
```

**去掉它。**

`.remove();`删除 div 及其内容。所以你需要明智地使用它，以防你想在其他页面中显示加载消息。

```
$(document).on("pageshow", "[data-role='page']", function () {
 $('div.ui-loader').remove();
}); 
```

如果您想在某些页面中保留加载消息，请`class`为没有加载消息的页面分配 a ，`.no-loadmsg`并使用上面相同的代码，而不是`[data-role='page']`add `[data-role='page'].no-loadmsg`。

```
$(document).on("pageshow", "[data-role='page'].no-loadmsg", function () {
 $('div.ui-loader').remove();
}); 
```

这将从`.no-loadmsg`仅具有类的所需页面中删除加载 div。

我希望以上内容可以解决您的问题。

# ios - iOS 6.1.2 永远缓存重定向内容

> ID：15292933
> 
> 赞同：1
> 
> 时间：2013-03-08T11:28:25.390
> 
> 标签：ios, ios6, http-caching, iphone-standalone-web-app

我（实际上是我的雇主）有一个移动网站，支持 Safari 集成（适用于 iPhone 和 iPad）——这意味着客户可以将其添加到他们的主屏幕上，然后它将作为一个独立的网络应用程序运行（没有地址栏，自定义图标、启动图像等）。

除了一周前（巧合的是，苹果发布 iOS 6.1.2 后不久），我们的一些客户（最初是 6 个）抱怨说他们不再获得正常内容，而是获得公共 wifi 的“404 页面”之外，一切正常提供商（英国 Sky 拥有的云）。经过一番调查，我们发现在某些时候，这些客户在没有实际登录的情况下连接到云 wifi（它是那些将您重定向到登录页面以输入您的凭据的提供商之一，之后您可以继续浏览）。问题是，即使在切换回他们的私人 wifi 或移动数据连接后，应用程序也会显示 Cloud 的页面。

这仅在通过书签启动应用程序时发生（据我所知）（从 safari 使用它时我看不到这种行为）。

发生的情况是客户将连接到云 wifi（无需登录），他们将打开应用程序，此时路由器将向他们的登录页面发出重定向响应；该应用程序将缓存登录页面，并且在再次使用书签时始终显示它。（发生这种情况时我已经进行了捕获，并且在启动时没有发出任何请求）。

更奇怪的是，在这种情况下，如果删除现有书签并添加一个新书签，则会向您显示相同的缓存页面（整个操作是在远离云的情况下执行的）。我们通过在每次点击书签屏幕时向 URL 添加一个唯一标识符来解决此问题（这表明 Web 应用程序的沙箱已链接到该 URL，这是意料之中的）。

我们试图实现的是让应用程序在客户离开云后正确恢复。但似乎没有直接的方法可以做到这一点。

此外，所有这些都存在一定程度的不一致 - 大多数情况下，在执行流程时，我会看到一个 404 页面（自定义 404 页面[https://service.thecloud.net/service-platform](https://service.thecloud.net/service-platform)），但有时我会正确重定向到登录页面，在这种情况下应用程序不会中断。

我的假设是，独立 Web 应用程序模型中存在奇怪的竞争条件，导致浏览器无法正确处理重定向（并且实际上缓存 404 页面）。我已经向 Apple 提出了支持事件（最终变成了错误报告），但这可能需要一段时间，我正在尽我所能找出解决方法。

任何想法，也许有人以前见过这个？每当我测试任何修复程序时，我都需要步行 5 分钟，这一事实使问题更加严重。我尝试过创建简单的测试表单，但我无法重现该问题，而对于完整的应用程序，我几乎每次都可以做到。

以下是重现步骤的摘要：

*   通过私人 wifi（或移动数据连接）将书签添加到网站（我已经设法使用很多支持如上所述 safari 集成的应用程序来重现它）
*   打开应用查看正常内容
*   连接到云热点并从书签打开应用程序（如果您没有立即获得 404，请打开关闭它几次）
*   连接到私人wifi（或移动数据连接）并通过书签打开应用程序->您将再次看到相同的404页面

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T21:21:54.620

最后，修复是在初始页面请求中添加一个唯一的查询字符串参数（通过启动器页面，我们已经拥有的设置非常容易）。我已向 Apple 提交了一份错误报告，他们已通过将其链接到上一个项目来确认该报告。这是关于该主题的帖子：http: [//blog.onos.ro/ios-6.1.2-caching-issue](http://blog.onos.ro/ios-6.1.2-caching-issue)

# objective-c - 滚动 NSTableView 到选择

> ID：15292935
> 
> 赞同：8
> 
> 时间：2013-03-08T11:28:26.403
> 
> 标签：objective-c, macos, cocoa, nstableview, nsarraycontroller

好的，这是我的情况：

*   我有一个`NSMutableArray`绑定到一个`NSTableView`，通过一个`NSArrayController`。
*   我正在使用`NSArrayController`'s`selectNext:`和`selectPrevious:`

问题是：选择**确实**发生了变化，但表格视图不会滚动到当前选择，因此它的内容是可见的。

我该怎么办？有任何想法吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-08T11:48:15.547

里面有个方法`NSTableView`

```
- (void)scrollRowToVisible:(NSInteger)row; 
```

这将滚动到指定的`row`.

# c# - 从数据集中更新另一个数据库

> ID：15292940
> 
> 赞同：1
> 
> 时间：2013-03-08T11:28:40.977
> 
> 标签：c#, sql-server, dataset

我试图使用 C# 和来自一个数据连接的数据集更新我的 SQL Server 上的 2 个数据库。
这可能吗？

在我的`DataTable`我在同一个查询中引用了数据库和表。

```
select * from Database2.dbo.Table 
```

我单击高级选项并设置`Generate Insert, Update and Delete`语句。

向导结果页面上的一切看起来都很好，但是当我再次进入高级选项屏幕时，`Generate Insert, Update and Delete`未设置语句的复选框。

有什么办法可以解决这个问题，还是我需要使用 2 个数据连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:37:28.137

如果要从 C# 应用程序更新这两个数据库，则必须为它们创建两个单独的连接。

我认为最佳实践是 C# 应用程序应该更新一个数据库，并且数据库存储过程或触发器或数据库作业应该在必要时更新辅助数据库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:38:11.027

一个数据集不能使用多个数据库连接。您必须为每个数据库创建多个数据集。

# ember.js - 如何为 EmberJS 中的每个视图实例创建一个控制器实例？

> ID：15292941
> 
> 赞同：0
> 
> 时间：2013-03-08T11:28:47.357
> 
> 标签：ember.js

我正在使用#view-helper 创建一个可以在同一个模板中多次引用的小部件/组件。例子：

```
Priority: {{view App.DropDown valueBinding="content.priority" sourceBinding="App.Priority"}} <br/>
Status: {{view App.DropDown valueBinding="content.status" sourceBinding="App.Status"}} <br/> 
```

此小部件需要与商店通信以获取所有可见项目的列表。据我了解 Ember，视图不应该直接与商店交流。是否可以为每个视图创建我的 DropDownController 的实例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:33:52.953

这看起来很适合控制助手。每次使用时都会实例化一个新的控制器：

```
Priority: {{control "dropDown" valueBinding="content.priority" sourceBinding="App.Priority"}} <br/>
Status: {{control "dropDown" valueBinding="content.status" sourceBinding="App.Status"}} <br/> 
```

这个片段应该在每次调用时实例化一个新的 DropDownController 和 DropDownView。您只需要弄清楚，将 value 和 sourceBinding 传递给您的视图的最佳方法是什么。

# javascript - d3.js：将数据绑定到现有的 svg。什么 selector.each 做什么？

> ID：15292944
> 
> 赞同：3
> 
> 时间：2013-03-08T11:28:50.820
> 
> 标签：javascript, data-binding, d3.js

我在 html 页面上有一些 svg。我想在它们上面绑定一些数据，并根据该数据添加装饰元素。我认为我必须做的是：

```
// pseudo-code
selection = select all existing svg piece i want to decorate

var datas = selection.each( function(d,i) { // each is right? maybe selection.datum() is better?
    var data = this.(do something with the svg piece)
    return data; 
});

// add elements with the "default" chain selection.data(datas).enter().append() 
```

我注意到的是 selection.each 没有返回我可以找到返回数据的东西。我认为这是方法，但我无法弄清楚我必须做什么才能看到绑定的数据。

所以我必须做一些肮脏的解决方法，比如：

```
var datas = [];
selection.each( function(d,i) { // each is right? maybe selection.datum() is better?
    var data = this.(do something with the svg piece)
    datas.push(data); 
}); 
```

为什么？如何在不手动将数据推送到数组中并在一些现有的 svg 元素中绑定数据的情况下做类似的事情？

这是一个[jsFiddle 示例](http://jsfiddle.net/nkint/Ga8UJ/2/)。

或者，如果您愿意，可以使用以下代码：

html:

```
<div id="container">
    <svg>
        <rect id="0" x="0" y="50" width="30" height="30"/>
        <rect id="1" x="50" y="50" width="30" height="30"/>
        <rect id="2" x="100" y="50" width="30" height="30"/>
        <rect id="3" x="150" y="50" width="30" height="30"/>
        <rect id="4" x="200" y="50" width="30" height="30"/>
        <rect id="5" x="250" y="50" width="30" height="30"/>
    </svg>
</div> 
```

js：

```
var svg = d3.select("#container svg"); 
var districts = svg.selectAll("rect"); 

var district_data = []; 
var _c = districts.each(function(d, i) { 
    var bbox = this.getBBox(); 
    var centroid = [
        bbox.x + bbox.width/2, 
        bbox.y + bbox.height/2
    ];
    var ret = {centroid:centroid, position:bbox.x};
    district_data.push( ret );
    return ret;
});

// now, i'm expecting that _c should be something 
// similar to district_data
console.log(_c);

svg
  .selectAll("circle")
  .data(district_data) // i think i should use `_c` instead of manually created `district_data` but does not work
  .enter()
  .append("circle")
     .attr("class", "district_circle")
     .attr("cx", function(d){ return d.centroid[0]})
     .attr("cy", function(d){ return d.centroid[1]})
     .attr("r", 10)
     .attr("fill", function(d){ return "rgb("+d.position+",0,0)"}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T17:52:55.887

`each()`首先，期望一个方法返回一个数据数组是不正确的。这只是一种迭代选择的方法。它返回的（分配给 的东西`_c`）是一个 d3 选择对象——与您调用的选择对象相同`each()`。即`_c == districts`评估为真。AFAIK，d3 选择对象不提供任何您可以用来以您描述想要做的方式收集值的东西。

通常，您希望使用一个`.map()`函数来收集这些值并将它们分配给`_c`，但不幸的是，这在这里似乎是不可能的，因为同样`districts`是 d3 选择，而不是平面数组。如果您尝试调用`map()`它，我认为它实际上不会遍历选择中的每个元素，并且您还会收到一个 js 错误，因为该`this`对象没有分配给您需要的 SVG 元素打电话`getBBox()`。

最重要的是，我认为您采用的方法是正确的：迭代`each()`并通过推入数组来构建数组。

* * *

我可以建议另一种更简洁的方法，但它需要修改现有 SVG 的结构：

与其拥有`rects`be 兄弟姐妹，不如将每个兄弟嵌套在`g`. 像：

```
<div id="container">
<svg>
  <g>
    <rect id="0" x="0" y="50" width="30" height="30"/>
  </g>
  <g>
    <rect id="1" x="50" y="50" width="30" height="30"/>
  </g>
  ... 
```

然后在 JS 中（未经测试）：

```
svg.selectAll('g')
  .each(function(d, i) { // Note, d is actually undefined, bc no data-binding was done
    var rect = d3.select(this).select('rect');
    var bbox = this.getBBox(); 
    var centroid = [
        bbox.x + bbox.width/2, 
        bbox.y + bbox.height/2
    ];

    // Now create the circle, appending it to the group,
    // as a sibling of its corresponding rect
    var circle = d3.select(this).append('circle')
     .attr("class", "district_circle")
     .attr("cx", centroid[0])
     .attr("cy", centroid[1])
     .attr("r", 10)
     .attr("fill", "rgb("+bbox.x+",0,0)");
  }); 
```

这仍然不是很好的形式，因为定位应用于每个圆和矩形，而理想情况下，定位将应用于组级别——这并不难实现。但现在我们变得挑剔了。

# jquery - jquery uploadify ie9 问题多部分未发送到服务器

> ID：15292946
> 
> 赞同：0
> 
> 时间：2013-03-08T11:28:58.300
> 
> 标签：jquery, spring-mvc, uploadify

我正在使用 jquery uploadify 在我的基于 Spring MVC 的 Angular 应用程序中上传图像。

图片上传在除 IE9 之外的所有浏览器中都能完美运行。

在 IE 9 的情况下，我在服务器上收到以下错误

```
org.springframework.web.multipart.MultipartException: The current request is not a multipart request 
```

但相同的代码片段在其他浏览器和 IE 10 中也能正常工作。

谁能指出我正确的方向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:47:27.323

```
<script type="text/javascript" src="resources/scripts/jqueryUploadify/jquery.Jcrop.min.js"></script>
<script type="text/javascript" src="resources/scripts/jqueryUploadify/jquery.ui.widget.js"></script>
<script type="text/javascript" src="resources/scripts/jqueryUploadify/jquery.iframe-transport.js"></script>
<script type="text/javascript" src="resources/scripts/jqueryUploadify/jquery.fileupload.js"></script>
<script type="text/javascript" src="resources/scripts/jqueryUploadify/jquery.fileupload-fp.js"></script>
<script type="text/javascript" src="resources/scripts/jqueryUploadify/jquery.fileupload-ui.js"></script>
<script type="text/javascript" src="resources/scripts/jqueryUploadify/uploadHandler.js"></script>
<!--[if gte IE 8]><script src="resources/scripts/jqueryUploadify/jquery.xdr-transport.js"></script><![endif]-->

<link rel="stylesheet" href="resources/scripts/jqueryUploadify/jquery.Jcrop.css">
<link rel="stylesheet" href="resources/scripts/jqueryUploadify/jquery.fileupload-ui.css"> 
```

我之前错过了几个 javascript 文件，这导致了一个问题，在包含上述所有文件后现在已解决

# c# - DisplayAttribute 名称属性在 Silverlight 中不起作用

> ID：15292947
> 
> 赞同：6
> 
> 时间：2013-03-08T11:29:06.353
> 
> 标签：c#, asp.net, wcf, silverlight

我正在将`DataGrid.ItemsSource`属性绑定到`List<PersonDetails>`对象。我正在通过***启用 Silverlight 的 WCF Service***获取数据。所以这个`PersonDetails`类是在 Web Project 中实现的。如果该类位于 Silverlight 项目中，则每个 DataGrid 的标题文本都会根据我的需要进行更改。但是后来我不能在网络服务中使用这个类。*唯一的解决方案是在两个项目中添加相同的类。*但是，还有其他方法吗？

这个类看起来像这样：

```
[DataContract]
public class PersonGeneralDetails
{
    // Properties

    [DataMember]
    [DisplayAttribute(Name = "Sira")]
    public int RowNumber { get; set; }

    [DataMember]
    [DisplayAttribute(Name = "Seriyasi")]
    public string SerialNumber { get; set; }
} 
```

似乎属性不是在 web 项目中生成的。我知道我可以使用 DataGrid 事件更改标题文本。但我想使用属性使其工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T12:14:26.353

*问题*是 WCF`DataContract`是一种可跨语言和平台使用的互操作机制。

`DataContractSerializer`如果您查看由（或其代码`System.Runtime.Serialization.dll`，特别是方法）生成的序列化数据，`InternalWriteObjectXyz()`您会发现它只是将值序列化为简单的 XML 消息。与 .NET Framework 相关的任何内容都不会存在，因此所有类型的属性，无论是自定义的还是编译器生成的，都将被删除，甚至不会被客户端接收。

它可以创建**数据的副本**并将它们从服务器发送到客户端，然后客户端将创建一个**具有相同签名的新类**。注意：具有相同签名的**新类，而不仅仅是原始类****的新对象**。

当然，有一些解决方法。您可以编写**自己的序列化**程序（例如，请参阅[SO 上的这篇文章](https://stackoverflow.com/questions/1971743/custom-wcf-datacontractserializer)）或您自己的`ISerializationSurrogate`.

如果您可以**将您的程序集部署/共享**到您的客户端，那么您有一个很好的解决方法：只需部署它们并`DataContractSerializer`在您的客户端上构建正确的对象（与您在服务器上拥有的完全相同，具有所有属性）。请记住：

*   如果自定义属性来自运行时值（例如由于本地化），那么它们将在客户端而不是服务器上解析（因为属性将在客户端*创建*，它们的值不会包含在 XML 中信息）。
*   在客户端应用程序中，您需要添加对包含您的类型的程序集的引用。
*   添加服务引用时，您必须指示 VS 使用它们（否则它将创建代理），在“**服务引用设置”**对话框中选择“**在引用的程序集中重用类型”**（您可以将其限制为仅要共享的程序集）。

# php - 如何生成 session_id？

> ID：15292948
> 
> 赞同：1
> 
> 时间：2013-03-08T11:29:06.947
> 
> 标签：php, session

当我看到来自 phpinfo() 的信息时，`session.hash_function`值是`0`，这意味着会话哈希函数是`MD5`，对吗？

但结果`echo strlen( session_id() );`是**26**。

问题：为什么 是**26**而不是 **32**？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:33:45.473

您设置的 session.hash_bits_per_character 越高，您的 session_id 就越短，因为每个字符使用更多位。可能的值为 4、5 或 6。

当使用 sha-1 进行散列时（通过设置 ini_set('session.hash_function', 1)，以下会话字符串长度由三个 session.hash_bits_per_character 设置生成：

*   4 - 40 个字符的字符串
*   5 - 32 个字符的字符串
*   6 - 27 个字符的字符串

# android - 在外部存储上创建/打开目录时出现 IllegalArgumentException

> ID：15292954
> 
> 赞同：0
> 
> 时间：2013-03-08T11:29:32.830
> 
> 标签：android, file, illegalargumentexception

我在这部分代码中发生了非法参数异常：

```
boolean mExternalStorageAvailable = false;
boolean mExternalStorageWriteable = false;
String state = Environment.getExternalStorageState();

if (Environment.MEDIA_MOUNTED.equals(state)) {
    String root = Environment.getExternalStorageDirectory().toString();
    full_path = root+getResources().getString(R.string.app_name) ;
    File dir_path = getApplicationContext().getDir(full_path, MODE_PRIVATE); 
```

这是错误日志：

```
03-08 12:26:23.717: E/AndroidRuntime(9234): FATAL EXCEPTION: main
03-08 12:26:23.717: E/AndroidRuntime(9234): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.streamfilesys/com.example.streamfilesys.MainActivity}: java.lang.IllegalArgumentException: File app_/storage/emulated/0/StreamFileSys contains a path separator
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.ActivityThread.access$600(ActivityThread.java:141)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.os.Looper.loop(Looper.java:137)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.ActivityThread.main(ActivityThread.java:5041)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at java.lang.reflect.Method.invokeNative(Native Method)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at java.lang.reflect.Method.invoke(Method.java:511)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at dalvik.system.NativeStart.main(Native Method)
03-08 12:26:23.717: E/AndroidRuntime(9234): Caused by: java.lang.IllegalArgumentException: File app_/storage/emulated/0/StreamFileSys contains a path separator
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.ContextImpl.makeFilename(ContextImpl.java:1966)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.ContextImpl.getDir(ContextImpl.java:1816)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.content.ContextWrapper.getDir(ContextWrapper.java:218)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at com.example.streamfilesys.MainActivity.onCreate(MainActivity.java:39)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.Activity.performCreate(Activity.java:5104)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
03-08 12:26:23.717: E/AndroidRuntime(9234):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
03-08 12:26:23.717: E/AndroidRuntime(9234):     ... 11 more 
```

mainActivity 线 39 是

```
File dir_path = getApplicationContext().getDir(full_path, MODE_PRIVATE); 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:39:59.903

正如文档所说的[Context.getDir (String name, int mode)](http://developer.android.com/reference/android/content/Context.html#getDir%28java.lang.String,%20int%29)：

> 检索，如果需要，创建一个新目录，应用程序可以在其中放置自己的自定义数据文件。您可以使用返回的 File 对象在此目录中创建和访问文件。请注意，通过 File 对象创建的文件只能由您自己的应用程序访问；您只能设置整个目录的模式，而不是单个文件的模式。

意味着您不需要将文件名与文件分隔符一起传递，而是只需要将文件夹（Dir）名称作为第一个参数传递给 getDir 方法，如“：

```
File dir_path = getApplicationContext().getDir(
                        getResources().getString(R.string.app_name), MODE_PRIVATE); 
```

**编辑：**

在外部 SDCARD 上创建目录。将您的代码更改为：

```
File onsdcarddir = new File(Environment.getExternalStorageDirectory() +
                               "/" +getResources().getString(R.string.app_name));

if (!onsdcarddir.exists()) {
   onsdcarddir.mkdir(); // create dir here
} 
```

还添加 SDCARD 权限`AndroidManifest.xml`：

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/> 
```

# highcharts - 条形图中类别之间的填充

> ID：15292955
> 
> 赞同：0
> 
> 时间：2013-03-08T11:29:35.140
> 
> 标签：highcharts

我不知道如何使类别之间的空间更小。我用了：

```
series:{
            pointPadding: 0,
            pointWidth:30,
            groupPadding: 0     
       } 
```

例如，如果我将 pointWidth 增加到 30，则条形彼此重叠，而不是占用它们之间的空白。

这是我的图表：http: [//jsfiddle.net/domino/QzCSa/2/](http://jsfiddle.net/domino/QzCSa/2/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:34:05.963

`groupPadding: 2`将属性从 0更改为 2

使用此属性并获得所需的宽度。

希望这可以帮助

# python - 将 python 模块安装到 python-version 中性位置

> ID：15292956
> 
> 赞同：0
> 
> 时间：2013-03-08T11:29:40.413
> 
> 标签：python, debian, python-module, dpkg

我已经构建了一个包含 python 模块的 debian 包。问题是

```
dpkg-deb -c python-mymodule_1.0_i386.deb 
```

显示所有文件都将安装在

```
/usr/lib/python2.6/dist-packages/mymodule* 
```

这意味着安装我的 deb 包的最终用户将需要使用与我完全相同的 python 版本——但我知道我的模块在以后的版本中也可以正常工作。

在我的 Makefile 中，我有以下目标：

```
install:
    python setup.py install --root $(DESTDIR) $(COMPILE) --install-layout=deb 
```

setup.py 在哪里

```
from distutils.core import setup           
setup(name='mymodule',
      version='1.0',
      description='does my stuff',
      author='Me',
      author_email='myemail@localhost',
      url='http://myurl/',
      packages=['mymodule'],
      ) 
```

有什么方法可以编辑 setup.py 文件或 Makefile，以便将生成的模块安装在 python-version 中性目录而不是 /usr/lib/python2.6 中？

谢谢，

亚历克斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T11:03:15.747

我想我现在找到了答案（感谢 Tshepang 的指点）：

在 debian/rules 中你需要调用 dh_pysupport。

这会抓取 setup.py 在构建机器上安装的所有文件

```
$(DESTDIR)/usr/lib/pythonX.Y/dist-packages/mymodule* 
```

并将它们放入 .deb 文件中的非 python 版本特定位置，即

```
/usr/share/pyshared/mymodule* 
```

最后，它向 postinst 脚本添加了对 update-python-modules 的调用，以确保该模块在目标机器上存在的每个 python 版本上都可用。

# javascript - 在 JavaScript 客户端中缓存元数据

> ID：15292963
> 
> 赞同：0
> 
> 时间：2013-03-08T11:30:19.680
> 
> 标签：javascript

我正在使用使用大量 JavaScript 客户端的 force.com 架构。我需要跨页面请求缓存一些元数据。

据我所知，不可能跨页面请求缓存 JavaScript，因为将重新加载全局名称空间。如果我在一个丑陋的 Java EE 架构中，我认为可以做的一件事是`MetaData.js`在运行时生成一个包含所有元数据的文件。

该文件可以跨请求缓存，唯一的成本是从一个便宜的自调用函数中实例化一个对象。

但是，我可以在运行时在 force.com 中创建一个`MetaData.js`文件，所以我想知道我还能做些什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T09:34:48.963

您是否有理由无法将这些数据存储在服务器上？以 PHP`$_SESSION`为例。

# asp.net - Asp.net CouchbaseClient GetView() 方法在哪里？

> ID：15292966
> 
> 赞同：1
> 
> 时间：2013-03-08T11:30:26.260
> 
> 标签：asp.net, couchbase

我从 NuGet 安装了 CouchbaseNetClient（用于 Asp.net），但它缺少 GetView() 方法。

它是否已被删除或重命名为其他内容？

# java - 自定义 JMenuItem

> ID：15292969
> 
> 赞同：0
> 
> 时间：2013-03-08T11:30:29.507
> 
> 标签：java, swing, mouseevent, jmenuitem, jpopupmenu

是否可以创建一个包含复选框列表的自定义 JMenuItem？示例是 excel 过滤器弹出菜单：

到目前为止，我所做的是这样的：

```
JPopupMenu headerPopup = new JPopupMenu();
JMenuItem clearfilter = new JMenuItem ("Clear Filter From Time");
JMenu filter = new JMenu("Number Filter");
filter.add(new JMenuItem("Equals.."));
filter.add(new JMenuItem("Not Equal.."));

JPanel checkBoxItems = new JPanel();

JCheckBox[] checkBoxes = new JCheckBox[200];
initList(checkBoxes);
JList list = new CheckBoxList();
list.setModel(new ListModel(checkBoxes));
JScrollPane scrollPane = new JScrollPane(list);

checkBoxItems.setLayout(new BorderLayout());
checkBoxItems.add(scrollPanel);
JPanel buttonPanel = new JPanel();
buttonPanel.setLayout(new GridLayout(1, 3));
buttonPanel.add(new JPanel());
buttonPanel.add(new JButton("Ok"));
buttonPanel.add(new JButton("Cancel"));
checkBoxItems.add(buttonPanel, BorderLayout.SOUTH);

headerPopup.add(clearfilter);
headerPopup.add(filter);
headerPopup.add(checkBoxItems); 
```

checkBoxItems 面板的内容是一个 JCheckBox 的 JList 和两个按钮。问题是当光标进入面板时，数字过滤器菜单项仍然会被选中，并且即使光标已经进入面板，它的 PopupMenu 仍然会显示。

我试过这个但没有用，还有其他方法吗？：

```
 checkBoxItems.addMouseListener(new MouseAdapter() 
    {
        @Override
        public void mouseEntered(MouseEvent e) 
        {
            filter.setArmed(false);
            filter.setSelected(false);
        }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:44:54.850

*   使用`JCheckBoxMenuItem`，把它们放到`ButtonGroup`

*   `checkBoxItems.addMouseListener(new MouseAdapter()`应该`ChangeListener`, 连同`getButtonModel`

*   这些事件直接在 API 中实现，不需要添加`MouseListener`，

*   `ButtonModel`仅对于`mouse and key events`未在 API 中实现或未在 API 中轻松实现的部分需要

# url - Xslt 用于将 url 分成几部分并再次组合它们

> ID：15292970
> 
> 赞同：0
> 
> 时间：2013-03-08T11:30:30.477
> 
> 标签：url, xslt

我想建立一种面包屑。例如，我有链接

```
http://server/site1/site2/site3 
```

并想建立类似的东西

```
<a href="http://server">http://server</a><a href="http://server/site1">http://server/site1</a>... 
```

我怎样才能用 xslt 做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T12:18:54.233

这可以通过递归模板来完成：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes"/>

  <xsl:variable name="urlSample" select="'http://server/site1/site2/site3'" />

  <xsl:template match="/">
    <xsl:call-template name="UrlLinks">
      <xsl:with-param name="url" select="$urlSample" />
    </xsl:call-template>
  </xsl:template>

  <xsl:template name="UrlLinks">
    <xsl:param name="url" />
    <xsl:call-template name="UrlLinksIter">
      <xsl:with-param name="portionSoFar" select="concat(substring-before($url, '://'), '://')" />
      <xsl:with-param name="remainder" select="concat(substring-after($url, '://'), '/')" />
    </xsl:call-template>
  </xsl:template>

  <xsl:template name="UrlLinksIter">
    <xsl:param name="portionSoFar" />
    <xsl:param name="remainder" />

    <xsl:variable name="nextPart" select="substring-before($remainder, '/')" />
    <xsl:variable name="nextRemainder" select="substring-after($remainder, '/')" />
    <xsl:if test="normalize-space($nextRemainder) or normalize-space($nextPart)">
      <xsl:variable name="url" select="concat($portionSoFar, $nextPart)"/>
      <xsl:if test="normalize-space($nextPart)">
        <!-- $nextPart could be empty if there are multiple slashes in a row-->
        <a href="{$url}">
          <xsl:value-of select="$url"/>
        </a>
      </xsl:if>
      <xsl:call-template name="UrlLinksIter">
        <xsl:with-param name="portionSoFar" select="concat($url, '/')" />
        <xsl:with-param name="remainder" select="$nextRemainder" />
      </xsl:call-template>
    </xsl:if>
  </xsl:template>
</xsl:stylesheet> 
```

当这在任何输入上运行时（因为样本值在此处的变量中），这会产生：

```
<a href="http://server">http://server</a>
<a href="http://server/site1">http://server/site1</a>
<a href="http://server/site1/site2">http://server/site1/site2</a>
<a href="http://server/site1/site2/site3">http://server/site1/site2/site3</a> 
```

# java - 在 Firefox 中自动下载 pdf 文件

> ID：15292972
> 
> 赞同：1
> 
> 时间：2013-03-08T11:30:39.667
> 
> 标签：java, firefox, selenium-webdriver, junit4

我正在使用 Selenium 和 JUnit 进行测试。我正在尝试导出报告（pdf 和 xls）。使用 Selenium，我单击下载链接，然后进行验证以断言文件位于正确的文件夹中。

我能够用 xls 进行测试，但 Firefox 总是询问我想用 PDF 做什么。

Firefox、Selenium 的配置是这样的：

```
String downloadPath = new File("src/test/resources/firefox_download").getAbsolutePath();
firefoxProfile.setPreference("browser.download.dir", downloadPath);
        firefoxProfile.setPreference("browser.download.lastDir", downloadPath);
        firefoxProfile.setPreference("browser.download.manager.showWhenStarting", false);
        firefoxProfile.setPreference("plugin.disable_full_page_plugin_for_types", "application/pdf,application/vnd.fdf");

        firefoxProfile.setPreference("browser.download.folderList", 2);
        firefoxProfile.setPreference("browser.download.defaultFolder", downloadPath);
        firefoxProfile.setPreference("browser.helperApps.neverAsk.saveToDisk", "application/pdf, application/vnd.fdf, application/x-msdos-program, application/x-unknown-application-octet-stream, application/vnd.ms-powerpoint, application/excel, application/vnd.ms-publisher, application/x-unknown-message-rfc822, application/vnd.ms-excel, application/msword, application/x-mspublisher, application/x-tar, application/zip, application/x-gzip,application/x-stuffit,application/vnd.ms-works, application/powerpoint, application/rtf, application/postscript, application/x-gtar, video/quicktime, video/x-msvideo, video/mpeg, audio/x-wav, audio/x-midi, audio/x-aiff"); // tipo específico
        firefoxProfile.setPreference("browser.helperApps.alwaysAsk.force", false); 
```

我可以手动更改，这里：

![手册 1](../Images/6bb56b490ae5250558906e50ba0c1fec.png)

或在这里：

![手册 2](../Images/0edad97fc9f51d503739bb9ca426d48c.png)

但我需要以编程方式执行此操作，否则测试将在其他地方失败（例如服务器/声纳）

PS：火狐19

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T11:33:52.463

您可以尝试将 MIME 类型设置为`application/octet-stream`，如果浏览器不知道如何处理它，它会弹出一个`save as`对话框

# mysql - Mysql 对每 n 次更新做一次特殊更新

> ID：15292984
> 
> 赞同：0
> 
> 时间：2013-03-08T11:31:01.700
> 
> 标签：mysql

可以用mysql做这样的事情吗？

想象一下，我更新了查询，每次用户给出成功的答案时都会运行。现在我想计算更新并每四次给予+1奖励积分......

我可以只计算行并将它们除以 4，但这会给我带来不可消费的奖励积分，因为每次更新都会重新计算......

我的问题有什么mysql解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:16:44.630

我认为当用户给出成功的答案时，您可以使用触发器并计算额外的奖金。

这是工作示例：

```
DROP TABLE IF EXISTS answer;

CREATE TABLE answer
(
  id int not null auto_increment,
  bonus int not null,
  primary key(id)
);

DELIMITER //

CREATE TRIGGER lucky_trigger BEFORE INSERT ON answer
FOR EACH ROW BEGIN
  IF MOD((SELECT AUTO_INCREMENT FROM information_schema.TABLES WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'answer'), 4) = 0 THEN
      SET NEW.bonus = NEW.bonus + 1;
  END IF;
END //

DELIMITER ;

INSERT INTO answer(bonus) VALUES(1);
INSERT INTO answer(bonus) VALUES(1);
INSERT INTO answer(bonus) VALUES(1);
INSERT INTO answer(bonus) VALUES(1);

SELECT id, bonus FROM answer; 
```

会给你下一个输出：

```
+----+-------+
| id | bonus |
+----+-------+
|  1 |     1 |
|  2 |     1 |
|  3 |     1 |
|  4 |     2 |
+----+-------+
4 rows in set (0.00 sec) 
```

# .htaccess - 如何隐藏所有控制台错误

> ID：15292986
> 
> 赞同：3
> 
> 时间：2013-03-08T11:31:10.770
> 
> 标签：.htaccess, console, hide

如何使用隐藏网页中的所有控制台错误`.htaccess`？

我当前使用的代码不起作用

```
 php_flag display_errors off 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T19:46:12.450

确保您`.htaccess`正在被 Apache 考虑。只需放入您的`.htaccess`：

```
# the following should issue a 500 error
LoremipsumdolorSITAMET 
```

如果您的网站在放置上述乱码后仍然有效，`.htaccess`则 Apache 不会读取您的网站。在这种情况下，**请联系您的管理员**

另一方面，如果您收到`500 error`（或任何其他，真的）要求您的管理员允许在 .htaccess 中设置标志

# javascript - 用jQuery在div上设置背景颜色？

> ID：15292988
> 
> 赞同：9
> 
> 时间：2013-03-08T11:31:18.633
> 
> 标签：javascript, jquery, html, css, rgba

我一直在使用一段 HTML / JavaScript 代码，我发现它可以产生一个很好的小悬停效果：http: [//jsfiddle.net/RaEER/1/](http://jsfiddle.net/RaEER/1/)

*   您首先会注意到占位符图像上方有一个空白区域。

*   当我将鼠标悬停在它上面时，它变为**绿色**，然后我将鼠标悬停，它变为**浅灰色**。

**当页面加载时，有什么办法可以让这个白色区域变成浅灰色？**

如果它有帮助，这与这里的这行代码有关：

```
<div class="slides_item post-thumb" style="
background:#ededed!important"
onmouseover="
$(this).find('.hover_the_thumbs').css('background-color','rgba(0, 0, 0, 0.6)'); 
$(this).find('.magnify_this_thumb').css('left', '51%').css('opacity',1); 
$(this).find('.hyperlink_this_thumb').css('left', '43%').css('opacity',1); 
$(this).children('div').css('background','#8ec252');  
$(this).find('.p_title a').css('color', 'white'); 
$(this).find('.p_exerpt p').css('color', 'white'); 
$(this).find('.p_title').css('border-top', '0');" 

onmouseout="
$(this).find('.hover_the_thumbs').css('background-color','rgba(0, 0, 0, 0)'); 
$(this).find('.magnify_this_thumb').css('left', '-15%').css('opacity',0); 
$(this).find('.hyperlink_this_thumb').css('left', '105%').css('opacity',0); 
$(this).children('div').css('background','#fff'); 
$(this).find('.p_exerpt p').css('color', ''); 
$(this).find('.p_title a').css('color', ''); 
$(this).children('div').css('background','#ededed'); 
$(this).find('.p_title').css('border-top', '0');"> 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-08T11:38:26.870

您可以在 Javascript 或 Js 文件中添加它：

```
$(document).ready(function(){
    $('.slides_item').children('div').css('background','#8ec252')
}); 
```

工作演示：http: [//jsfiddle.net/RaEER/6/](http://jsfiddle.net/RaEER/6/)

无论如何，您应该将 Javascript（在本例中为 jQuery）与 HTML 分开。您应该将其包含在页面标题中，例如：

```
<script src="path_to_your_js/file.js"></script> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-08T11:35:15.367

哎呀，你为什么把所有的 javascript 都放在 html 代码中？

`<script>`您应该在您的 javacsript 中添加一些标签。

要在窗口加载时着色，只需添加以下内容：

```
<script type="text/javascript">
$(window).load(function() {
    $('.your-item-class').css('background-color','lightGrey'); 
});
</script> 
```

# objective-c - 在变量名后添加整数以访问

> ID：15292997
> 
> 赞同：0
> 
> 时间：2013-03-08T11:32:02.283
> 
> 标签：objective-c, cocos2d-iphone

我正在尝试执行一项操作，但我想决定执行哪个操作。例如我有

```
[bullet runAction:bullet1]; 
```

我希望能够操纵变量访问类似的东西

```
[bullet runAction:bullet%d, i]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:36:25.530

使用一组动作，并使用索引来访问它们

```
NSArray bulletActions = @[bullet1, bubble2];
[bullet runAction:bulletActions[0]]; 
```

我认为它将满足您的需求

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T11:39:33.563

你需要使用`selector`

```
 SEL selector=NSSelectorFromString([NSString stringWithFormat:@"bullet%d", i]);
[self performSelector:selector]; 
```

从此您可以调用名为 等的方法`bullet1`，`buttet2`如果`i`提供为 1、2 等

```
-(void)bullet1{
    NSLog@"bullet 1 called";
}

-(void)bullet2{
    NSLog@"bullet 2 called";
}

-(void)bullet<your integer value>{
    NSLog@"bullet <your integer value> called";
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T17:11:43.397

编辑：抱歉，在查看我的答案后，我发现了一些缺陷，并将其写成更好的方法来实现这一点。

最好的结果是创建一个包含所有操作的数组。IE

```
NSArray actionArray = [[NSArray alloc] initWithItems:bullet1, bullet1, bullet3, nil]; 
```

然后您可以运行创建一个方法来运行该操作：

```
- (void)bulletAction:(int)numberToRun {

     [bullet runAction:[actionArray objectAtIndex:numberToRun]];

} 
```

这可以通过使用代码调用：

```
[self bulletAction:0]; 
```

其中 0 是您要运行的任何数字。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T11:36:56.097

你不能在问题中做你想做的事情，而是将一个子弹对象数组传递给它，并将你想要访问该数组的元素的值传递给它。

# java - java从ManagedBeans中丢失值

> ID：15292999
> 
> 赞同：1
> 
> 时间：2013-03-08T11:32:05.503
> 
> 标签：java, jsf, managed-bean

我尝试编写一个应用程序来创建 PDF 文件，它使用 JavaServer Faces。当我将文本框的值从bean赋予工厂类时，我遇到了一个问题，值丢失了。我想知道为什么会发生这种情况，已经尝试了很多解决方案，但是它们会导致代码扩展并且无济于事。

豆子代码：

```
@ManagedBean
@ViewScoped
public class PanelInneBean extends AbstractPanel implements Serializable {
    private static final long serialVersionUID = 1L;
    private final int CODE = 4;
    private boolean use;
    private String tytul, opis;
    private PdfFactory pdf = PdfFactory.getPdfObject();

    public PanelInneBean() {
    use = false;
    }

    public boolean getUse() {
    return use;
    }

    public String getTytul() {
    return tytul;
    }

    public void setTytul(String tytul) {
    this.tytul = tytul;
    }

    public String getOpis() {
    return opis;
    }

    public void setOpis(String opis) {
    this.opis = opis;
    }

    public int getCode() {
    return CODE;
    }

    private void add() {
    use = true;
    }

    public void addBean() {
    add();
    pdf.addElement(this);
    System.out.println("InnePanel after pdf.addElement() this.opis:" + this.opis);
    // This sysout prints the correct value after give object to factory
    }
} 
```

工厂代码：

```
 public int addElement(PdfElement element) {
    pdfType = true;
    if (element.getUse()) {
        elementList.add(element);
        return 1;
    }
    return 0;
    }

    public void prepare() {
    for (PdfElement element : elementList) {
        System.out.println("element.code:" + element.getCode());
        switch (element.getCode()) {
        case 0:
        if (nF != null)
            break;
        nF = new NaglowekFactory(element, Counter.getNumber());
        break;
        case 1:
        if (pF != null)
            break;
        pF = new ProduktyFactory(element, Counter.getNumber());
        prodSum = pF.getProdukty().getSuma();
        euroData = pF.getProdukty().getEuroData();
        break;
        case 2:
        if (mF != null)
            break;
        mF = new MontazFactory(element, Counter.getNumber());
        servSum = mF.getMontaz().getSuma();
        break;
        case 3:
        if (uF != null)
            break;
        uF = new UslugiFactory(element, Counter.getNumber());
        asmSum = uF.getUslugi().getSuma();
        break;
        case 4:
        if (iF != null)
            break;
        iF = new InneFactory(element, Counter.getNumber());
            //here Opis value is empty
        break;
        }
    }
    System.out.println("factory.prepare() ->");
    } 
```

的构造函数`InneFactory:`

```
 PanelInneBean inne;

public InneFactory(PdfElement element, int order) {
    inne = (PanelInneBean) element;
    System.out.println("innerFactory constructor, inne.getTytul(): "
        + inne.getTytul());

        //here values are empty

    this.order = order;
    list = new ArrayList<Element>();
}

public int getOrder() {
    return order;
} 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T12:29:51.210

`@ViewScoped`我认为您对bean如何真正起作用存在一个普遍的误解。bean 对象本身在每个 Faces 请求上创建，并在每个 Faces 响应后销毁。

然而，在重新创建 bean 之后，JSF 将进入第一个生命周期阶段**RestoreView**。在此阶段，它将从 View State 中获取此 bean 的最后一个良好值并将它们应用到 bean Managed Properties。

基本上正在发生的事情是您正在调用一个操作，该操作生成一个与加载页面的请求不同的请求，此时您添加到的引用`PdfFactory`现在丢失了，因为最后一个对象中的 PdfFactory 被破坏了！

解决此问题的最佳方法是制作`PdfFactory`托管 Bean。您可以在方法中初始化工厂，并且可以使用注释`@PostConstruct`将其他托管 Bean 注入您的 PdfFactory bean 。`@ManagedProperty`

```
@ManagedBean
@RequestScoped
public PdfFactory extends ... implements Serializable {

  @ManagedProperty("#{myViewBean}")
  private MyViewBean viewBean;

  @PostConstruct
  public initializeFactory() {
    //Do stuff
  }

  public void prepare() {
    // prepare stuff
  }
} 
```