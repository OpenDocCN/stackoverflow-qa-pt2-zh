# StackOverflow 问答 12616000-12616999

# ssas - 具有非空最后一个子项的 MDX 命名集

> ID：12616005
> 
> 赞同：1
> 
> 时间：2012-09-27T07:12:43.793
> 
> 标签：ssas, mdx, cube

我有一个“趋势”维度。层次结构是趋势->周->日。该事实与“Day”键相关联。不能保证给定一周内的所有天都存在度量值。

当用户想要查看“周”级别的度量时，我只需要显示该周的最后一个空天值。我有多个度量，因此我对为每个度量创建一个新的计算度量不感兴趣（例如[如何在 MDX 中将级别的总和显示为其最后一个子级的值](https://stackoverflow.com/questions/120616/how-to-display-the-total-of-a-level-as-the-value-of-its-last-child-in-mdx)）

相反，有没有办法创建一个命名集，我可以用它来实现如下功能？

**例子**

```
Week    Day    Measure
1       1      4
1       2      5
2       3      7
2       7      9
3       5      10 
```

应该达到“周”级别

```
Week    Day    Measure
1       2      5
2       7      9
3       5      10 
```

谢谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T09:05:36.493

如果您想创建一个可重复用于多个度量的计算成员，您可以创建一个仅包含一堆计算成员的实用程序维度。不知道如何在 SSAS 中做到这一点（我熟悉 icCube）。然后，您可以在请求中使用此层次结构来应用计算的成员。

让我们举个例子。我称效用维度为 [Stats]。它的默认成员是返回当前度量值的计算成员。它包含 [Last Day] 计算。成员。

> 与成员 [统计].[统计].[最后一天] AS (
> 
> ```
> NonEmpty( 
> 
>    Order( [Trend].[Trend].currentMember.children, 
>           [Trend].[Trend].currentMember.properties( 'key', TYPED ), 
>           BDESC 
>    ), 
>    [Stats].[Stats].defaultMember 
> 
> ).item(0), 
> 
> [Stats].[Stats].defaultMember  ) 
> ```
> 
> SELECT [Measures].members on 0, [Trend].[Trend].[Week].members on 1
> 
> FROM [你的立方体]
> 
> WHERE [统计].[统计].[上个月]

您可以在应用于 SELECT 的每个 [MEasures] 的切片器中看到 [Last Month] 的技巧。然后它的公式是使用当前 [MEAsures] 的 [Days] 的 NonEmpty（根据键与 order() 反转 - 您可能需要调整）。

# sql - SELECT TOP N 带变量

> ID：12616008
> 
> 赞同：11
> 
> 时间：2012-09-27T07:13:01.797
> 
> 标签：sql, sql-server-2008

我在 SQL 表中有以下数据

临时表变量`@RndQuesnCount`包含此数据，

```
Recid conceptID MinDisplayCount
1      3839     2
2      4802     3 
```

问题表：`QuesTable`

```
 QuesCompID     Ques_ConceptDtlID
  88         4802
  89         4802
  90         4802
  91         4802
  92         4802
  93         4802 
```

我想展示的是`@RndQuesnCount`概念 id 中问题的最小显示计数，所以现在数据应该如下所示

```
 QuesCompID    Ques_ConceptDtlID
  88         4802
  89         4802
  90         4802 
```

因为`conceptid`(4802) 在`@RndQuesnCount`表中的最小显示计数为 3。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-27T07:23:21.483

我认为，简单的使用`ROW_NUMBER()`和连接就可以得到结果。数据设置：

```
declare @RndQuesnCount table (recid int,conceptid int,mindisplaycount int)
insert into @RndQuesnCount(Recid,conceptID,MinDisplayCount) values
(1,      3839,     2),
(2,      4802,     3)

declare @QuesTable table (QuesCompID int,Ques_ConceptDtlID int)
insert into @QuesTable(QuesCompID,Ques_ConceptDtlID) values
(88,         4802),
(89,         4802),
(90,         4802),
(91,         4802),
(92,         4802),
(93,         4802) 
```

询问：

```
select
    t.rn,
    t.QuesCompID,
    t.Ques_ConceptDtlID 
from
    @RndQuesnCount rqc
        inner join
    (select *,ROW_NUMBER() OVER (PARTITION BY Ques_ConceptDtlID ORDER BY QuesCompID) rn from @QuesTable) t
        on
            rqc.conceptID = t.Ques_ConceptDtlID and
            rqc.MinDisplayCount >= t.rn 
```

结果：

```
rn                   QuesCompID  Ques_ConceptDtlID
-------------------- ----------- -----------------
1                    88          4802
2                    89          4802
3                    90          4802 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:17:14.000

尝试：

```
declare @RndQuesnCount int;

select @RndQuesnCount=MinDisplayCount 
from table_variable where conceptID=4802;

set rowcount @RndQuesnCount;

select * from QuesTable; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-27T07:24:02.230

试试这个：

```
 ;WITH  cte as
     (  select *,row_number() over(order by QuesCompID) as row_num
        from   QuesTable   
        join   @RndQuesnCount
        on     Ques_ConceptDtlID=conceptID)
 SELECT QuesCompID,Ques_ConceptDtlID  
 FROM   cte 
 WHERE  row_num<=MinDisplayCount 
```

**结果：**

```
QuesCompID    Ques_ConceptDtlID
88               4802
89               4802
90               4802 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-27T07:24:17.330

您可以将计数器列添加到查询结果并仅获取计数器小于或等于 MinDisplayCount 的行。

[带有行计数器的 SQLServer SQL 查询](https://stackoverflow.com/questions/492679/sqlserver-sql-query-with-a-row-counter)

# google-maps - 带有阴影的谷歌地图折线

> ID：12616011
> 
> 赞同：2
> 
> 时间：2012-09-27T07:13:20.717
> 
> 标签：google-maps, google-maps-api-3

我最近发现了一个使用 fusiontablelayer 在地图上显示路线的示例，我想知道如何将我的普通折线设置为具有如下阴影：http: [//gmaps-samples-v3.googlecode.com/svn/trunk/fusiontables/ cycletrails.html](http://gmaps-samples-v3.googlecode.com/svn/trunk/fusiontables/cycletrails.html)那些看起来真的非常好，我找不到用我的折线来做的解决方案。（没有阴影的折线示例：[https](https://google-developers.appspot.com/maps/documentation/javascript/examples/polyline-simple) ://google-developers.appspot.com/maps/documentation/javascript/examples/polyline-simple ）

提前谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T19:36:11.187

你可以这样做：

[http://www.geocodezip.com/v3_GoogleEx_polyline-simple_shadow.html](http://www.geocodezip.com/v3_GoogleEx_polyline-simple_shadow.html)

（在你的下面放一条更厚的透明折线，看起来就像我看到他们在做的那样）

通过使用 KmlLayer 或 FusionTablesLayer，而不是原生 Google Maps API v3 Polylines，您可能会以相同的方式获得相同的效果。

代码：

```
function initialize() {
  var myLatLng = new google.maps.LatLng(0, -180);
  var mapOptions = {
    zoom: 3,
    center: myLatLng,
    mapTypeId: google.maps.MapTypeId.TERRAIN
  };

  var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

  var flightPlanCoordinates = [
      new google.maps.LatLng(37.772323, -122.214897),
      new google.maps.LatLng(21.291982, -157.821856),
      new google.maps.LatLng(-18.142599, 178.431),
      new google.maps.LatLng(-27.46758, 153.027892)
  ];
  var flightPathShadow = new google.maps.Polyline({
    path: flightPlanCoordinates,
    strokeColor: 'black',
    strokeOpacity: 0.1,
    strokeWeight: 10
  });

  flightPathShadow.setMap(map);

  var flightPath = new google.maps.Polyline({
    path: flightPlanCoordinates,
    strokeColor: '#FF0000',
    strokeOpacity: 1.0,
    strokeWeight: 2
  });

  flightPath.setMap(map);
} 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-09-27T08:40:30.267

这些轨迹绘制在自定义图块上，例如：

[http://mt0.googleapis.com/mapslt?hl=en-US&lyrs=ft%3A132848|h%3Afalse|s%3Aselect%2520geom%2520from%2520132848%2520where%2520distance%2520%253C%252092&x=83&y=199&z= 9&w=256&h=256&source=apiv3&token=125180](http://mt0.googleapis.com/mapslt?hl=en-US&lyrs=ft%3A132848|h%3Afalse|s%3Aselect%2520geom%2520from%2520132848%2520where%2520distance%2520%253C%252092&x=83&y=199&z=9&w=256&h=256&source=apiv3&token=125180)

# c++ - 执行的 C++ 应用程序的自动方法调用打印

> ID：12616016
> 
> 赞同：0
> 
> 时间：2012-09-27T07:13:38.553
> 
> 标签：c++, debugging

我想知道是否有人知道打印出 C++ 应用程序执行的所有函数调用的方法。它将类似于 linux 命令`strace`or `ltrace`，不同之处在于它不仅会打印出系统调用，还会打印出正常的函数调用、析构函数调用、复制构造、方法等......

基本上就像 GDB 在你`step`打印堆栈时所做的那样，除了这将是自动的......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T07:21:39.127

使用[`-finstrument-functions`](http://gcc.gnu.org/onlinedocs/gcc-4.4.6/gcc/Code-Gen-Options.html)：

> `-finstrument-functions`生成用于进入和退出函数的检测调用。在函数进入之后和函数退出之前，将使用当前函数的地址及其调用站点调用以下分析函数。（在某些平台上， `__builtin_return_address`不能超出当前功能，因此调用站点信息可能无法用于分析功能。）
> 
> ```
>  void __cyg_profile_func_enter (void *this_fn,
>                                      void *call_site);
>       void __cyg_profile_func_exit  (void *this_fn,
>                                      void *call_site); 
> ```
> 
> 第一个参数是当前函数的起始地址，可以在符号表中准确查找。
> 
> 这种检测也适用于在其他函数中内联扩展的函数。从概念上讲，分析调用将指示输入和退出内联函数的位置。这意味着这些函数的可寻址版本必须可用。如果你对一个函数的所有使用都是内联扩展的，这可能意味着代码大小的额外扩展。如果您在 C 代码中使用“extern inline”，则必须提供此类函数的可寻址版本。（无论如何，这通常是这种情况，但如果你很幸运并且优化器总是内联扩展函数，那么你可能会在不提供静态副本的情况下侥幸逃脱。）
> 
> 可以为函数赋予属性 no_instrument_function，在这种情况下，将不会执行此检测。例如，这可以用于上面列出的分析函数、高优先级中断例程以及不能安全地调用分析函数的任何函数（如果分析例程生成输出或分配内存，则可能是信号处理程序）。

有一些开箱即用的工具，例如[etrace](http://ndevilla.free.fr/etrace/)

# android - 防火墙：更改 IP 的名称

> ID：12616025
> 
> 赞同：0
> 
> 时间：2012-09-27T07:14:18.820
> 
> 标签：android, firewall, google-cloud-messaging

我正在使用不是由我管理的防火墙。我要求管理员让防火墙接受所有定向到[https://android.googleapis.com/gcm/send](https://android.googleapis.com/gcm/send)的消息。也就是说，使用端口 443向[https://android.googleapis.com发送消息。](https://android.googleapis.com)

他一应用这条规则，它就开始工作了，但第二天就不行了。我告诉管理员，他接受了所有端口（不仅仅是 443），然后它开始工作，但今天又不能工作了。[https://android.googleapis.com](https://android.googleapis.com)的IP发生变化（今天的 IP 是 173.194.66.95，前几天是 173.194.78.95），我猜防火墙只做一次名称解析（或至少几次)，因此当 IP 更改时，通信会被过滤。有什么办法可以解决吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:25:42.867

android.googleapis.com 极有可能是多个 IP。除非您有像区域警报这样的廉价防火墙，可以按名称进行操作，否则您通常需要为所有 IP 设置规则，并且接受 Google 可以随时更改它们，并且不一定会通知任何人。

# android - 如何从远程服务器下载一张图像并在 ANDROID 中显示（已关闭）

> ID：12616026
> 
> 赞同：0
> 
> 时间：2012-09-27T07:14:25.633
> 
> 标签：android, eclipse, download

目前我正在尝试下载存储在我的服务器目录中的图像。但我不知道为什么我的应用程序仍然显示该图像，即使该图像被另一个图像替换。

这意味着首先我上传image1，然后我可以加载image1。当 image1 被 image2 替换时，应用程序仍然显示 image1。

我不确定我的错误在哪里。是代码还是其他原因。需要一些帮助！

**下面是我的代码：**

```
button1.setOnClickListener(new OnClickListener() {
    public void onClick(View view) {
        new download().execute();
    }
});

class download extends AsyncTask<String, Void, String> {

    @Override
    protected String doInBackground(String... path) {
        String outPut = null;
        String s = "http://url/image/img_123.jpg";
        URL myFileUrl = null;
        try {
            myFileUrl = new URL(s);
        } catch (MalformedURLException e) {
            e.printStackTrace();
        }

        try {
            HttpURLConnection conn = (HttpURLConnection) myFileUrl
                    .openConnection();
            conn.setDoInput(true);
            conn.connect();
            int length = conn.getContentLength();
            int[] bitmapData = new int[length];
            byte[] bitmapData2 = new byte[length];
            InputStream is = conn.getInputStream();

            bm = BitmapFactory.decodeStream(is);

            outPut = "success";
        } catch (IOException e) {
            e.printStackTrace();
        }
        return outPut;
    }

    protected void onPostExecute(String file_url) {
        // updating UI from Background Thread
        runOnUiThread(new Runnable() {
            public void run() {
                imageView1.setImageBitmap(bm);
            }
        });
    }
} 
```

**更新**

```
button1.setOnClickListener(new OnClickListener() {
    public void onClick(View view) {
        // new download().execute();
        Drawable drawable = LoadImageFromWeb("http://url/image/img_123.jpg");
        imageView1.setImageDrawable(drawable);
    }
});

private Drawable LoadImageFromWeb(String url) {
    try {
        InputStream is = (InputStream) new URL(url).getContent();
        Drawable d = Drawable.createFromStream(is, "src name");
        return d;
    } catch (Exception e) {
        System.out.println("Exc="+e);
        return null;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:28:07.500

这是一个帮助从 URL 下载图像文件并存储您的自定义位置的示例，您可以在下载后显示在屏幕上 [http://getablogger.blogspot.in/2008/01/android-download-image-from-服务器和.html](http://getablogger.blogspot.in/2008/01/android-download-image-from-server-and.html)

**更新：**

我认为您需要直接从 url 加载图像。请参见此处 [http://progrnotes.blogspot.in/2010/09/url.html](http://progrnotes.blogspot.in/2010/09/url.html)

# java - 我怎么能把json解析成java

> ID：12616027
> 
> 赞同：1
> 
> 时间：2012-09-27T07:14:29.763
> 
> 标签：java, json, gson

我正在使用 Bing Search API 来获取网络结果。我得到了前 2 个文档，JSON 如下所示。

```
{"d":
{"results":
[{"__metadata":
    {"uri":"https://api.datamarket.azure.com/Data.ashx/Bing/SearchWeb/v1/Web?Query=\u0027bill\u0027gates\u0027&$skip=0&$top=1","type":"WebResult"},
    "ID":"9bd0942f-fe5b-44fc-8343-ef85e5b93a7e",
    "Title":"The Official Site of Bill Gates - The Gates Notes",
    "Description":"In the space between business and goverment, even a small investment can make a big impact on the lives of those in need.",
    "DisplayUrl":"www.thegatesnotes.com",
    "Url":"http://www.thegatesnotes.com/"},

{"__metadata":
    {"uri":"https://api.datamarket.azure.com/Data.ashx/Bing/SearchWeb/v1/Web?Query=\u0027bill\u0027gates\u0027&$skip=1&$top=1","type":"WebResult"},
    "ID":"fdf0d3b9-b29f-43ef-b5ba-6bb4b1b04458",
    "Title":"Bill Gates - Wikipedia, the free encyclopedia",
    "Description":"William Henry \"Bill\" Gates III (born October 28, 1955) is an American business magnate and philanthropist. Gates is the former chief executive and current chairman of ...",
    "DisplayUrl":"en.wikipedia.org/wiki/Bill_Gates",
    "Url":"http://en.wikipedia.org/wiki/Bill_Gates"},

],
"__next":"https://api.datamarket.azure.com/Data.ashx/Bing/SearchWeb/v1/Web?Query=\u0027bill\u0027gates\u0027&$skip=10&$top=10"
}
} 
```

我如何使用 Gson 将其解析为 Java？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:43:31.107

```
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import com.google.gson.Gson;

public class GsonDemo {
    public static void main(String[] args) { 
    Gson gson = new Gson(); 
    try { 
        String json = "" ; // your json string
        //convert the json string to object
        YourObject obj = gson.fromJson(json, YourObject.class);  
    } catch (IOException e) {
        e.printStackTrace();
    } 
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:46:27.453

```
public class Metadata{
    public String uri;
    public String Query;
    public String ID;
    public String Title;
    public String Description;
    public String DisplayUrl;
    public String Url;
}

public class ResponseResults{
    public MetadataContainer[] results;
    public String __next; 
}

public class MetadataContainer{
    public Metadata __metadata;
}

public class ResponseData{
    public ResponseResults d;
}

String json; //Your json response
ResponseData myD = new Gson().fromJson(json, ResponseData.class); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:16:46.797

查看这些链接可能对您有所帮助..

*   [将 JSON 字符串转换为 Java 中的对象？](https://stackoverflow.com/questions/1395551/convert-a-json-string-to-object-in-java)
*   [如何在 Java 中解析 JSON](http://answers.oreilly.com/topic/257-how-to-parse-json-in-java/)

# android - onDraw 不会在自定义视图上调用？

> ID：12616030
> 
> 赞同：2
> 
> 时间：2012-09-27T07:14:55.950
> 
> 标签：android, android-custom-view, ondraw

我正在尝试用特定颜色绘制圆角矩形，但我什么也没得到。我已经做了很多谷歌搜索，发现了一些这样的问题并阅读了它们。但是，他们都没有解决我的问题。为什么我的`onDraw`方法永远不会被调用？

任何帮助表示赞赏。

```
public class RoundedTagItem extends RelativeLayout {

    Context ctx;
    String colorString;
    int color;

    public RoundedTagItem(Context context) {
        super(context);
        this.ctx = context;
        color = Color.WHITE;
        this.setWillNotDraw(false);
        this.setPadding(10, 0, 10, 0);
    }

    public RoundedTagItem(Context context, String color) {
        super(context);
        this.ctx = context;
        this.colorString = color;
        this.setWillNotDraw(false);
        this.setPadding(10, 0, 10, 0);
    }

    @Override
    protected void onDraw(Canvas canvas) {

       if(colorString != null)
             color = Color.parseColor("#" + colorString);

       int rectValue = 35;
       Log.d("Rounded", "rectValue: " + rectValue);
       RectF rect1 = new RectF(0, 0, rectValue, rectValue);

       Paint paint = new Paint();
       paint.setStrokeWidth(1);
       paint.setStrokeCap(Paint.Cap.ROUND);
       paint.setStyle(Paint.Style.FILL);
       paint.setAntiAlias(true);
       paint.setColor(color);

       canvas.save();
       canvas.drawRoundRect(rect1, 10, 10, paint);
       canvas.restore();

       super.onDraw(canvas);
    }

    public void ChangeBackgroundColor(String colorString) {
        color = Color.parseColor(colorString);
        invalidate();
    }

} 
```

然后我在我的主类的这个自定义视图上放置了图标：

```
// add category items to view
LinearLayout categories = (LinearLayout) findViewById(R.id.detailTagImagesLayout);
for(int i = 0; i < item.getCategoryItems().size(); i++) {

    RoundedTagItem v = null;
    if(i == 0) 
        v = new RoundedTagItem(DetailActivity.this, 
                           item.getCategoryItems().get(i).getColorCode());
    else 
        v = new RoundedTagItem(DetailActivity.this);            

    ImageView img = new ImageView(DetailActivity.this);
    img.setImageDrawable(Drawable.createFromPath(
                     item.getCategoryItems().get(i).getLightIconUrl()));
    v.addView(img);

    v.setTag(i);
    v.setOnClickListener(new TagClickListener());               

    categories.addView(v);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:13:08.430

您可以进行/修复的一些改进/问题...

您可以将这些行移动到您的构造函数：

```
if(colorString != null)
   color = Color.parseColor("#" + colorString); 
```

由于这`colorString`永远不会改变，而且您现在正在计算的方式每次都会`onDraw`被调用（并且他会被调用很多次）。

其次，请将您的移动`super.onDraw(canvas)`到您的第一行。

第三**，您需要在构造函数上定义 LayoutParams。**如果视图的宽度/高度为 0，则永远不会调用它的绘制！

```
this.setLayoutParams(new LayoutParams(150, 150)); 
```

最后请确保您使用的是`RoundTagItem`. 您可以使用这样的标签将此视图添加到您的 xml：您正在使用的包在哪里 ( `<your.package.RoundTagItem>`) 。如果你像这样使用它，请确保你定义了和。`your.package``com.something.blabla``layout_width``layout_height`

您还可以通过添加到您的根视图（您可以使用 获取它`findViewById(R.layout.your_root)`）或将您的视图设置为主要内容来以编程方式添加您的视图。

```
RoundedTagItem myView = new RoundedTagItem(this);
setContentView(myView); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:44:38.130

尝试创建一个简单的单个 RelativeLayout XML (rounded_tag_item.xml)，并为自定义视图充气：

```
public class RoundedTagItem extends RelativeLayout {

    public RoundedTagItem(Context context, AttributeSet attrs) {
        super(context, attrs);
        init(context);
    }

    public RoundedTagItem(Context context) {
        super(context);
        init(context);  
    }

    private void init(Context context) {
        LayoutInflater inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        if (inflater != null) {       
            RelativeLayout layout = (RelativeLayout) inflater.inflate(R.layout.rounded_tag_item, new RelativeLayout(context));

            // rest of stuff...
        }
    }
} 
```

# java - 当我启动我的应用程序时，MyEclipse Tomcat 服务器没有响应

> ID：12616031
> 
> 赞同：0
> 
> 时间：2012-09-27T07:14:59.633
> 
> 标签：java, tomcat, deployment, myeclipse

我已经在 MyEclipse Tomcat 服务器中部署了我的应用程序，我在本地使用 jdk 1.6 配置了 apache-tomcat 7.0.8。成功启动服务器后，我尝试在地址栏中输入 localhost url。但我没有得到任何回应。我试过

```
http://localhost:8080/myweb 
```

但它被称为“HTTP 400 错误请求”。我重新部署了应用程序并通过重新启动服务器再次尝试。

启动我的服务器后，控制台正在

```
2012-09-27 12:33:52,924 INFO  main             org.apache.struts.tiles.TilesPlugin  - Tiles definition factory loaded for module '/cash'.
2012-09-27 12:33:52,987 INFO  main             org.apache.struts.tiles.TilesPlugin  - Tiles definition factory loaded for module '/csv'.
2012-09-27 12:33:53,268 INFO  main             org.apache.struts.tiles.TilesPlugin  - Tiles definition factory loaded for module '/cases'.
Sep 27, 2012 12:33:53 PM org.apache.coyote.http11.Http11Protocol start
INFO: Starting Coyote HTTP/1.1 on http-8080
Sep 27, 2012 12:33:53 PM org.apache.jk.common.ChannelSocket init
INFO: JK: ajp13 listening on /0.0.0.0:8009
Sep 27, 2012 12:33:53 PM org.apache.jk.server.JkMain start
INFO: Jk running ID=0 time=0/31  config=null
Sep 27, 2012 12:33:53 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 10077 ms 
```

当我在浏览器中输入网址时，我没有在控制台中找到任何日志。任何建议，高度赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:26:11.403

您是否可以通过提供以下链接连接到您的 Tomcat 服务器主页

```
http://localhost:8080 
```

?

# scala - 避免 for 循环中的可变变量

> ID：12616032
> 
> 赞同：1
> 
> 时间：2012-09-27T07:15:01.540
> 
> 标签：scala

我有一些如下代码。但我希望避免使用这个可变变量**flag**。

我怎样才能做到这一点？

```
 def map(s: Set, f: Int => Int): Set = (x: Int) =>  {
    var flag : Boolean = false
    for(i <- -bound to bound) {
      if(s(i) && f(i) == x){
        flag = true
      }
    }
    flag
  } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T07:19:51.963

我认为你需要这个简单的测试：

```
(-bound to bound) exists {i => s(i) && f(i) == x} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-27T07:19:45.000

使用`exists`收集方法。如果集合中的至少一个元素的指定条件为真，则该`exists`方法返回，否则返回。`true``false`

```
def map(s: Set[Int], f: Int => Int): (Int => Boolean) =
  (x: Int) => {
    (-bound to bound).exists(i => s(i) && f(i) == x)
  } 
```

# android - Google Play 商店布局。apktool 的问题

> ID：12616036
> 
> 赞同：4
> 
> 时间：2012-09-27T07:15:17.347
> 
> 标签：android, android-layout

我想看看他们如何为谷歌制作的应用程序设置他们的布局，所以我试图使用 apktool 来反编译它。但是框架搞砸了，我不能用 apktool 反编译 Play 商店。有任何想法吗？

**大多数情况下，我只想知道他们如何设置屏幕空间如此完美划分的布局。**特别是由于布局必须处理不同的屏幕尺寸，所以当新设备和屏幕尺寸频繁发布时，谷歌如何设置他们的布局来实现这个结果而没有错误。

例子：

![在此处输入图像描述](../Images/733d9a1c24136c99e5c23788a23dcb0c.png) ![在此处输入图像描述](../Images/2b8a36efa75f45e8e29b59f6d30784e0.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T05:38:15.760

最后我用这个问题/答案继续......

[相对布局中的百分比宽度](https://stackoverflow.com/questions/4961355/percentage-width-in-a-relativelayout)

我以前见过 weight 属性，但这是我第一次看到 weightSum，它实际上有所作为。

# unix - mac的WC命令显示少一个结果

> ID：12616039
> 
> 赞同：9
> 
> 时间：2012-09-27T07:15:34.277
> 
> 标签：unix

我有一个超过 60MB 大小的文本文件。它在 5105043 行中有条目，但是当我执行 wc -l 时，它只给出 5105042 结果，比实际结果少一个。有谁知道为什么会这样？

文件很大时这是常见的事情吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-27T07:32:06.757

最后一行不包含新行。

获得您想要的结果的一个技巧是：

```
sed -n '=' <yourfile> | wc -l 
```

这告诉`sed`只打印文件中每一行的行号，`wc`然后计算。可能有更好的解决方案，但这有效。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-27T07:22:01.030

The last line in your file is probably missing a newline ending. IIRC, `wc -l` merely counts the number of newline characters in the file.

If you try: `cat -A file.txt | tail` does your last line contain a trailing dollar sign (`$`)?

**EDIT:**

Assuming the last line in your file is lacking a newline character, you can append a newline character to correct it like this:

```
printf "\n" >> file.txt 
```

The results of `wc -l` should now be consistent.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-12-21T00:37:51.537

60 MB 似乎有点大文件，但对于小文件。一种选择可能是

```
cat -n file.txt 
```

或者

```
cat -n sample.txt | cut -f1 | tail -1 
```

# javascript - javascript oop 多个类

> ID：12616042
> 
> 赞同：1
> 
> 时间：2012-09-27T07:15:48.330
> 
> 标签：javascript, oop

嗨，我在使用 javascript 时遇到问题！我有 main.js 和 Model.js。Model.js 是一个 javascript oop 类，需要在 main.js 中访问其功能我该怎么做？我不断收到模型未定义的错误。是否需要为此工作的工具或代码中有问题？

模型.js

```
Model = {};   

Model.init = function() {
    alert("model");
}

Model.getList = function(){
var list;
$.ajax(
    { 

    url:'???',
    type: 'GET',
    dataType: 'json',

    success: function(data)
    {
    list=data;
    }
    error: function(data)
    {
    alert("error");
    }
    });
    return list;
} 
```

main.js

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {

    var testins=new Model();
    var list=Model.getList();

    alert("result: "+testins); 
} 
```

我真的可以使用一些帮助。

所以我尝试了 MrCode 方法并出于实验原因将代码放在一个文件中，因为 main.js 仍然无法访问 Model.js 文件。

main.js

```
 document.addEventListener("deviceready", onDeviceReady, false);

 function onDeviceReady() {
     alert("aaa"); //first

    var testins=new Model();
    var list=testins.getList(); 

    alert("result: "+testins); // third

    alert("list"+list); //fourth
     }

    function Model()
    {
    this.init = function()
    {
        alert("Model");
    }
    this.getList = function()
     {
      var list;
      $.ajax(
          { 

          url:'??',
          type: 'GET',
          dataType: 'json',

          success: function(data)
          {
          list=data;
          alert("success"+list);  //fifth
          },
          error: function(data)
          {
          alert("error");
          }
          });
      alert("success"+list);  //second
          return(list);
    }
   } 
```

但是在警报之后，我看到 $.ajax 部分是最后完成的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:18:34.180

做

```
function Model() { // this is the "constructor"
} 
```

并更换

```
Model.init = function() { 
```

经过

```
Model.prototype.init = function() { // provide the function to all instances 
```

（getList 也一样）

这将启用

*   你打电话`new Model()`
*   `init`您使用创建的对象要继承的函数`new Model()`。

像这样使用它：

```
var testins=new Model(); // create an instance
var list=testins.getList(); // call the instance method 
```

您可能会对[这个 MDN 文档感兴趣，了解原型和继承](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Inheritance_and_the_prototype_chain)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:21:53.153

```
function Model()
{
    // define public methods
    this.init = function()
    {
        alert("Model");
    }

    this.getList = function()
    {
        var list;
        $.ajax(
            { 

            url:'???',
            type: 'GET',
            dataType: 'json',

            success: function(data)
            {
            list=data;
            }
            error: function(data)
            {
            alert("error");
            }
            });
            return list;
    }
}

var testins = new Model(); // create an instance of Model()
var list = testins.getList(); // call its method 
```

# shell - 我可以使用 shell 脚本收集 oracle 数据库 11g R2 信息吗？

> ID：12616044
> 
> 赞同：0
> 
> 时间：2012-09-27T07:15:54.780
> 
> 标签：shell, oracle11g, monitoring

我想开发数据库监控工具。在我的开发中，我想使用shell脚本来收集数据库信息（例如SGA、Session、Lock等的命中率）。但我是shell脚本和oracle数据库的新手。我使用的是oracle数据库11g R2企业版。我可以使用 shell 脚本收集 oracle 数据库 11g R2 信息吗？任何人都可以分享我一些想法和参考。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:23:37.230

是的，这是可能的。

您需要将一堆查询相关系统视图的 SQL 语句放在一起 ( `V$...`)。

您调用的 shell 脚本中的 from`sqlplus`并将语句的输出假脱机到文本文件中。

# c++ - 编写自己的分区恢复

> ID：12616047
> 
> 赞同：8
> 
> 时间：2012-09-27T07:16:08.267
> 
> 标签：c++, c, assembly, partitioning, data-recovery

我意识到我要问的问题不是一个简单的“哦，这很容易！做一个简单的这个和那个，瞧！” 事实是，没想到一晚上我删除了错误的分区。我尝试了一些 Windows 和 Linux 工具（分区磁盘医生、Easeus、测试磁盘等），但都没有工作。我认为这是因为我删除分区的方式。

我以前用 C++ 编写过我自己的引导扇区创建器/备份工具，以及用 C 和汇编程序编写的一两个内核（尽管内核相当无用......）所以我认为我有足够的知识至少可以尝试恢复它手动。

我的驱动器设置如下：

```
 Size: 1.82TB
 part0 100MB (redundant windows recovery partition)
 part1 ~1760MB (my data partition) 
```

我是如何打破它的：

在 Windows 7 中，我删除了第一个分区。然后我扩展了第二个以占用第一个的空闲空间，这意味着我仍然有 2 个分区，现在充当一个动态分区。我重新启动到我的 Ubuntu 操作系统，并意识到我无法再阅读它。我重新启动回到 Windows，删除了第一个分区，然后想，等等……我不应该那样做。不用说它现在已经死了。

我想要的是一些关于从哪里开始，不做什么和不期望什么的建议/好的链接。我希望如果日记仍然完好无损，我将能够恢复驱动器。

**编辑：**
这是一个 NTFS 驱动器。发布此问题后，我想知道：鉴于我知道我的分区所在的大致位置，有没有办法轻松识别期刊？也许我可以自己重建一些其他驱动器/分区信息并将其写入磁盘。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:47:36.567

我认为，第一步是弄清楚你所说的那些“动态分区”在 Windows 7 中究竟是如何工作的。根据你的描述，听起来好像你从两个物理分区创建了一种逻辑卷。我的猜测是第二个分区现在包含该卷的某种标头，这就是不熟悉该格式的恢复工具无法运行的原因。

如果您在合并两个分区时弄清楚 Windows 7*究竟*做了什么，您应该能够编写一个提取逻辑卷映像的应用程序。

[或者，您可以在http://www.tuxera.com/community/ntfs-3g-download/](http://www.tuxera.com/community/ntfs-3g-download/)查看 NTFS-3G，NTFS 的 FUSE 实现。通过研究该代码，我敢打赌，您可以找到一种方法来定位您的 borked 磁盘上的 NTFS 文件系统。一旦你有了它，试着把从文件系统开头到磁盘结尾的所有内容提取到一个映像中，然后在它上面运行一些 ntfs 文件系统检查器。运气好的话，你会得到一个可修改的文件系统。

如果您想知道如何访问磁盘，只需在 linux 中打开相应的设备，就好像它是一个常规文件一样。不过，您可能需要将读取对齐到 512 字节（或者无论磁盘的扇区大小是多少。512 和较小的扩展 4096 是常用值），否则 read() 可能会返回错误。

# html - TR 标签上的鼠标悬停事件

> ID：12616050
> 
> 赞同：1
> 
> 时间：2012-09-27T07:16:16.227
> 
> 标签：html, javascript-events

我在 TR 标签中添加了 onmouseover 和 onmouseout 事件，如下所示：

```
<table cellspacing=0>
    <tr onmouseover="console.log('mouseover');" onmouseout="console.log('mouseout');">
        <td>Foo</td>
        <td>Bar <span>Baz</span></td>
    </tr>
</table> 
```

问题是：当鼠标从一个单元格移动到另一个单元格时，也会触发事件；或跨越单元格内。当鼠标进入或离开行时，我只需要确定那些情况。

我还检查了事件的“this”，每次都是 TR - 所以没有任何帮助。

# iphone - 地理编码方法未在 for 循环中第二次执行

> ID：12616052
> 
> 赞同：0
> 
> 时间：2012-09-27T07:16:22.807
> 
> 标签：iphone, ios5, clgeocoder

我编写了以下代码来找出国家列表的坐标。

```
 int count=[objCountries.countryName count];
CLGeocoder *geoCode = [[CLGeocoder alloc] init];
for(int i=0;i<count;i++)
{
    NSString *strCountry=[[NSString alloc]initWithString:[objCountries.countryName objectAtIndex:i]];

        [geoCode geocodeAddressString:strCountry completionHandler:^(NSArray *placemarks, NSError *error)
    {
        if (!error)
        {
            CLPlacemark *place = [placemarks objectAtIndex:0];
            CLLocation *location = place.location;
            CLLocationCoordinate2D coord = location.coordinate;

            NSString *tempLati=[[NSString alloc]initWithFormat:@"%g",coord.latitude];
            NSString *tempLongi=[[NSString alloc]initWithFormat:@"%g",coord.longitude];
            NSLog(@"-------------------------");
            NSLog(@"Country : %@",strCountry);
            NSLog(@" Latitude : %@ ",tempLati);
            NSLog(@" Longitude : %@ ",tempLongi);

            [objCountries.countryLatitude addObject:tempLati];
            [objCountries.countryLongitude addObject:tempLongi];
            [db insertAsiaCountry:strCountry :tempLati :tempLongi];
        }
    }];

} 
```

}

在我的 countryName 数组中，有 20 个对象可用

**问题：** 仅第一次运行良好。但是第二次 for 循环执行 [geocode geo....] 方法时没有调用。我不明白该怎么办？请帮忙。谢谢你，先生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:28:00.133

在这条线之后..

```
 [db insertAsiaCountry:strCountry :tempLati :tempLongi]; 
```

添加

```
[geoCode cancelGeocode]; 
```

即使发生错误，尝试在“for”循环中分配 geoCoder

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:23:31.777

You cant call any other `Method` in `for loop` because loop doesn't wait for until the work is finished. In your code you're calling `geoCode` method in `for loop` that is wrong. Try to call that method where your first method is being finished.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T07:27:18.620

CLGeocoder 不打算在您尝试时以批处理方式使用，因此 Apple 服务器可能会拒绝后续请求。查看 CLGeocoder 参考文档，了解如何使用它的指南。

[将此数据需要-a-list-of-all-countries-in-the-world](https://developers.google.com/public-data/docs/canonical/countries_csv)复制并粘贴 到电子表格中，并将其保存为 csv。将此文件添加到项目中。然后您的应用程序读取文件并将注释创建为一个数组，然后您将其添加到地图视图中。

# c# - ASP.NET 基于 cookie 的会话，有 SessionStateModule 吗？

> ID：12616054
> 
> 赞同：1
> 
> 时间：2012-09-27T07:16:36.443
> 
> 标签：c#, asp.net, asp.net-mvc

我正在寻找一种在 ASP.NET 中进行完全基于 cookie 的会话的方法。我不打算在其中存储复杂的对象，只是字符串键值对。

我正在寻找类似于 Play 的东西！框架处理会话，它基本上将所有会话数据编码在一个 cookie 中，并负责在每个请求上对其进行加密/解密。

如果可以避免的话，我不想为此编写自己的 SessionStateModule，是否存在？

谢谢

编辑：我不需要存储比 cookie 可以处理的更多的数据（只需几个标识符），我仍然需要键值对特定于每个会话。我想使用 cookie，这样就不必维护服务器状态（在进程中或在数据库中），这使我可以很容易地添加更多服务器，并且对外部应用程序的依赖也更少（没有状态服务器/memcached/redis 等）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:23:16.247

You won't be able to store that much data in a cookie unless you are going to create lots of them.

Given you want to work with key value pairs have considered using a cache such as memcached or redis. Or even the server cache if you are not in a web farm?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:30:17.810

我认为不存在：由于使用 cookie 固有的限制（特别是最大大小），它会太脆弱。

而且我知道这不能回答您的问题，但我不会`SessionStateModule`为此实施 a 。这样做意味着任何使用 Session 的第 3 方组件，或任何使用 Session 的未来维护程序员可能会在 cookie 中存储不适当的数据（例如，太大）。

我建议您编写自己的面向 API 的循环存储键值对，在 cookie 中仅包含原始值（字符串、Int32、DateTime...）。

您还可以使 API “cookie-aware” - 例如设置 HttpCookie.Path，它使您可以：

*   避免为不需要它们的请求发送 cookie（javascript、图像、...）

*   为应用程序的不同区域设置不同的 cookie（名称相同但路径不同）。这有助于减小 cookie 的大小。

# x++ - X++：学习 X++ 的 IDE 是什么？

> ID：12616060
> 
> 赞同：5
> 
> 时间：2012-09-27T07:17:10.307
> 
> 标签：x++

请向我推荐学习 X++ 的 IDE。也请给我下载它的 url。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-27T15:21:36.237

要在 X++ 中进行开发，您必须使用 Microsoft Dynamics AX。该软件无法下载，必须通过 Microsoft 合作伙伴购买和安装。

但是，您可以通过一些好的教科书来学习 X++，例如这里列出的那些：http: [//msdn.microsoft.com/en-us/dynamics/ax/cc546579.aspx](http://msdn.microsoft.com/en-us/dynamics/ax/cc546579.aspx)

并通过 Microsoft 提供的课堂培训课程，例如：[http ://www.microsoft.com/learning/en/us/Course.aspx?ID=80303A&Locale=en-us](http://www.microsoft.com/learning/en/us/Course.aspx?ID=80303A&Locale=en-us)

或者，您可以简单地浏览 MSDN 库以获取详细信息：http: [//msdn.microsoft.com/en-us/library/aa867122.aspx](http://msdn.microsoft.com/en-us/library/aa867122.aspx)

# ruby-on-rails-3.2 - 如何在 Rails 的回调函数中使用延迟作业

> ID：12616066
> 
> 赞同：1
> 
> 时间：2012-09-27T07:17:43.043
> 
> 标签：ruby-on-rails-3.2, delayed-job

我正在使用delayed_job gem。

我想使用回调调用一个方法，如下所示

after_update :get_score

如何为此使用 delay_job 以便 get_score 方法在后台运行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-21T21:24:11.020

这个怎么样？为我工作。

```
after_update :get_score

private
def get_score
  # code
end
handle_asynchronously :get_score 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T11:42:32.307

我不太熟悉`delayed_job`，但从它的文档来看，这应该可行。

```
after_update :obtain_score

def get_score
   # code
end

private
def obtain_score
  delay.get_score
end 
```

# c# - 如果使用不存在的字体，为什么没有例外？

> ID：12616069
> 
> 赞同：1
> 
> 时间：2012-09-27T07:17:56.267
> 
> 标签：c#, .net, fonts

> **可能重复：**
> [测试是否安装了字体](https://stackoverflow.com/questions/113989/test-if-a-font-is-installed)

假设我在系统上使用安装的字体：

```
new System.Drawing.Font("Arial", 120F); 
```

一切都很好。现在，如果我使用不存在的字体：

```
new System.Drawing.Font("IdoNotExistHaHa", 120F); 
```

我没有任何例外。如我所见，如果我使用不存在的字体，我会得到标准字体（arial？，不确定）。无论如何，如果找不到字体，我想抛出异常。如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T07:22:58.020

MSDN says as following :

> For more information about how to construct fonts, see How to: Construct Font Families and Fonts. Windows Forms applications support TrueType fonts and have limited support for OpenType fonts. If you attempt to use a font that is not supported, or the font is not installed on the machine that is running the application, the Microsoft Sans Serif font will be substituted.

You can check the if the font is correct by doing as following :

```
var myFont = new Font(fontName)
if (myFont.Name != fontName ) 
{ 
    throw new Exception()
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:20:49.437

您可以在文档本身中看到它，[Font Constructor (String, Single)](http://msdn.microsoft.com/en-us/library/164w6x6z.aspx)

> Windows 窗体应用程序支持 TrueType 字体，但对 OpenType 字体的支持有限。如果 familyName 参数指定的字体未安装在运行应用程序的机器上或不受支持，则将替换为 Microsoft Sans Serif。

简而言之，*默认*字体是`Microsoft Sans Serif`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-27T07:22:09.533

You could check and see if the font is installed first. From Jeff Hillman's answer here: [Test if a Font is installed](https://stackoverflow.com/questions/113989/test-if-a-font-is-installed)

```
string fontName = "Consolas";
float fontSize = 12;

Font fontTester = new Font( 
fontName, 
fontSize, 
FontStyle.Regular, 
GraphicsUnit.Pixel );

if ( fontTester.Name == fontName )
{
    // Font exists
}
else
{
    // Font doesn't exist
} 
```

Obviously, you could then throw an exception if you wanted(as that is your original question), although I would recommend not to, throwing an exception is an expensive operation if you can handle the issue more gracefully without.

# python - 如何按原样比较两个两位整数，反转，一次一个字符

> ID：12616074
> 
> 赞同：4
> 
> 时间：2012-09-27T07:18:10.677
> 
> 标签：python, string, python-3.x, integer, logic

我是编程新手，正在尝试通过使用 python 参加介绍课程来学习它。

我的一项任务要求我们执行以下操作：

1.  将随机生成的两位整数与用户生成的两位整数进行比较。

    1.  如果随机和用户生成的整数都匹配 print blah1
    2.  如果用户生成的整数与反向随机生成的整数具有相同的两位数，则打印 blah2
    3.  如果用户生成的整数有一位与随机生成的整数相同，则打印 blah3。

现在，到目前为止，我们只学习了基本的东西，（运算符、//、`if`循环`else`、打印、字符串、整数）`elif``while`

我想出了一些随机分配两位数字，将它们转换为字符串，然后将它们连接成两位数字字符串的方法。从这里开始，我使用`elif`语句来匹配每个可能的条件。

不幸的是，这不是必需的。进行比较时，我必须使用两位整数。不幸的是，我完全不知道如何比较整数的各个部分，或者将整数与我所学的内容进行反转。

现在，我不是在找人来为我解决这个问题。我需要一些帮助，或者是关于我应该如何用我所拥有的基本知识来思考这个问题的提示或建议。

非常感谢任何和所有帮助。

我已经包含了我编写的代码。

```
# homework 2
# problem 1
#
# lottery guessing program
#
# the program randomly generates a two-digit number, prompts the user to enter a two-digit number,
# and determines whether the user wins according to the following rules:
#
# 1\. if both digits match in the right order, you will win $10,000.
# 2\. if both digits match, but in the reversed order, you will win $3,000.
# 3\. if you match one digit in either place, you will win $1,000

#imports
import random

#rules
print("guess a number.  if both digits match in the right order, you will win $10,000."\
      "\nif both digits match, but in the reversed order, you will win $3,000." \
      "\nif you match one digit in either place, you will win $1,000." \
      "\nif you don't match any digits, you do not win anything.")

# random variables
rand_num1 = str(random.randint(1,9))
rand_num2 = str(random.randint(1,9))

#ask user for number
user_num1 = input("what is your first number? ")
user_num2 = input("what is your second number? ")

#for testing purposes, if testing, comment out the previous two lines
#combd_num = (str(rand_num1)) + (str(rand_num2))
#revsd_num = (str(rand_num2)) + (str(rand_num1))
#print(rand_num1)
#print(rand_num2)
#print(combd_num)
#print(revsd_num)
#user_num1 = input("what is your first number? ")
#user_num2 = input("what is your second number? ")
#ucomb_num = (str(user_num1)) + (str(user_num2))

#output the numbers
print("the number is, ", (rand_num1 + rand_num2),"\
      \nyour number is, ", (user_num1 + user_num2), sep="")

#elif statement
if (user_num1 + user_num2) == (rand_num1 + rand_num2):
    print("you guessed the exact number.  you win $10,000!")
elif (user_num2 + user_num1) == (rand_num1 + rand_num2):
    print("you guessed both digits but in reverse.  you win $3,000!")
elif user_num1 == rand_num1 and user_num2 != rand_num2:
    print("you guessed one digit right.  you win $1,000!")
elif user_num1 == rand_num2 and user_num2 != rand_num2:
    print("you guessed one digit right.  you win $1,000!")
elif user_num2 == rand_num1 and user_num1 != rand_num2:
    print("you guessed one digit right.  you win $1,000!")
elif user_num2 == rand_num2 and user_num1 != rand_num2:
    print("you guessed one digit right.  you win $1,000!")
else:
    print("sorry, you didn't guess the right number.") 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T07:59:46.947

这里有三个技巧可以帮助你：

1.  列表可以像字符串和数字一样进行比较。可以将整数列表与另一个进行比较，如果包含的数字相同，则比较返回`True`：

    ```
    >>> [1, 2] == [1, 2]
    True
    >>> [1, 3] == [1, 2]
    False 
    ```

2.  您可以轻松地*反转*列表。您可以使用`reversed()`内置函数，也可以使用`[start:stop:stride]`切片表示法给出*负*步幅。后者也为您提供了一个反向列表：

    ```
    >>> list(reversed([1, 2]))
    [2, 1]
    >>> [1, 2][::-1]
    [2, 1] 
    ```

    该`reversed()`函数返回一个迭代器，通过将它传递给`list()`构造函数我们再次得到一个列表。

3.  您可以使用`in`运算符来测试列表成员资格。使用它来测试单个整数是否是整数列表的一部分：

    ```
    >>> 1 in [1, 2]
    True
    >>> 3 in [1, 2]
    False 
    ```

这 3 个技巧一起应该为您提供重新编程脚本以使用整数所需的所有工具。将您的随机数和用户输入（使用该函数转换为整数`int()`）存储在列表中，然后从那里开始工作。

如果您*必须*接受*一个*介于 10 到 99 之间的整数输入，事情会变得有点棘手。`%`您可以使用 th 模和除法运算符将 10 和 1 分开`\`：

```
ones = number % 10
tens = number // 10 
```

[`divmod()`您可以使用以下功能](http://docs.python.org/py3k/library/functions.html#divmod)组合这两种操作：

```
tens, ones = divmod(number, 10) 
```

现在你又有了两个单独的整数来进行比较。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T04:22:24.933

好的，谢谢大家的帮助。由于您的建议和提示，我设法按照规格完成了作业。

同时，我对它的完成方式并不感到太自豪-对我来说似乎很草率-它确实有效。

这里是：

```
#imports
import random

#rules
print("guess a number.  if both digits match in the right order, you will win $10,000."\
      "\nif both digits match, but in the reversed order, you will win $3,000." \
      "\nif you match one digit in either place, you will win $1,000." \
      "\nif you don't match any digits, you do not win anything.")

#random variable
rand_num = random.randint(0,99)
print(rand_num)
#separate the digits
rand_num_tens = rand_num//10
print(rand_num_tens)
rand_num_ones = rand_num%10
print(rand_num_ones)
#reverse the random number digits
revsd_rnd_num = (rand_num_ones * 10) + rand_num_tens
print(revsd_rnd_num)

#ask user for number
user_num = int(input("guess a number between 1 and 99: "))
#separate the digits
user_num_tens = user_num//10
print(user_num_tens)
user_num_ones = user_num%10
print(user_num_ones)

#output the numbers
print("the number is, ", rand_num,"\
      \nyour number is, ", user_num, sep="")

#elif statement
if rand_num == user_num:
    print("you guessed the exact number.  you win $10,000!")
elif revsd_rnd_num == user_num:
    print("you guessed both digits but in reverse.  you win $3,000!")
elif rand_num_tens == user_num_tens:
    print("you guessed one digit right.  you win $1,000!")
elif rand_num_tens == user_num_ones:
    print("you guessed one digit right.  you win $1,000!")
elif rand_num_ones == user_num_tens:
    print("you guessed one digit right.  you win $1,000!")
elif rand_num_ones == user_num_ones:
    print("you guessed one digit right.  you win $1,000!")
else:
    print("sorry, you didn't guess the right number.") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T07:29:53.910

我认为您面临的挑战是如何从两位整数中获取单独的数字。可以使用数学运算符来完成。

想想一个数字中的每个数字`42`代表什么。是“`4`十”位，2 是“个”位。反过来考虑可能会有所帮助。如果您将整数`4`和 a`2`放在单独的变量中，您将如何将它们组装成单个整数`42`？

希望我的提示能帮到你！如果我说的太迂回了，我可以试着详细说明一下，但我确实希望你能够自己解决它，而且我怀疑一旦你想到了合适的运算符，你就会很快得到它使用。

# c# - 用 C# 读取 OCR/OMR

> ID：12616076
> 
> 赞同：-1
> 
> 时间：2012-09-27T07:18:26.100
> 
> 标签：c#, ocr

我需要从打印的纸质表格中获取一些反馈。它包含要标记的选项，可能是一些手写文本。应使用 OCR 工具扫描/处理完成的反馈表，并将其存储在 MS SQL Server 数据库中。

该系统是使用 C#.Net 开发的。

请告诉我一些你的经验。顺便说一句，Abbyy FineReader 呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T09:18:21.147

您正在谈论 OMR aka 表单处理。您将需要一个具有以下功能的工具包：

*   OMR /Form 处理以读取光学标记
*   ICR 读取手写文本
*   图像处理，在处理前进行图像预处理以校正图像

我用过atalasoft OMR，捕获，图像处理和IRIS OCR，ICR。

好的付费解决方案：

*   Abbyy FineReader 是 Atalasoft（基本/中级）OMR 功能、出色的捕获和图像处理功能的不错选择。
*   Leatools - 提供 OMR、OCR、ICR
*   IRIS（iDRS ocr 引擎）。难以编程但高质量的 OCR、ICR 功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-05T07:31:35.380

就像 Needo 提到的，有支持 OCR\OMR 技术的商业工具包。我们尝试了其中一些，最终使用了leadtools，它帮助我们从调查中获取数据。您可以在这里找到更多信息：http: [//support.leadtools.com/CS/forums/37869/ShowPost.aspx](http://support.leadtools.com/CS/forums/37869/ShowPost.aspx)

# database - 选择作为常量子字符串的属性

> ID：12616078
> 
> 赞同：0
> 
> 时间：2012-09-27T07:18:36.053
> 
> 标签：database, sqlite

我面临一个我不确定如何处理的数据库（特别是 sqlite）查询。

我正在寻找所有名称属性是某些提供的常量的子字符串的元组。

例如，它是一个包含食品的数据库。如果常数是“Maranatha Natural Almond Butter 26oz Lightly Roasted”，我希望数据库中包含“Almond Butter”、“Maranatha Natural”等词的任何元组作为匹配项返回。

我真的不知道如何有效地解决这个问题，任何帮助都将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:26:42.200

使用`LIKE`，但反过来：

```
SELECT *
FROM mytable
WHERE 'Maranatha Natural Almond Butter 26oz Lightly Roasted' LIKE '%' || name || '%' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T09:17:11.303

我建议您尝试[全文搜索。](http://www.sqlite.org/fts3.html)在您的示例中，您不一定需要它，因为它`LIKE`可能就足够了。但是，如果您只想匹配确切的单词（假设您搜索的单词`set`可能不想`setting`匹配）并且如果您想要匹配多个单词，无论它们出现在您的描述中的何处，FTS 都会非常有用。在使用它之前，请验证您的实现是否已使用它编译：

```
sqlite> pragma compile_options;
CURDIR
ENABLE_FTS3   <---- this one has to appear
ENABLE_RTREE
TEMP_STORE=1
THREADSAFE=0 
```

假设您在 FTS 表中`FoodItemsFTS`填充了您之前提到的食物项目：

```
sqlite> CREATE VIRTUAL TABLE FoodItemsFTS USING fts3();
sqlite>
sqlite> INSERT INTO FoodItemsFTS (docid, content) 
        VALUES (1, "Maranatha Natural Almond Butter 26oz Lightly Roasted");
sqlite> INSERT INTO FoodItemsFTS (docid, content) 
        VALUES (2, "Maranatha Natural Almond Butter 26oz");
sqlite>
sqlite> SELECT docid FROM FoodItemsFTS WHERE FoodItemsFTS MATCH 'Almond Roasted';
1
sqlite> 
```

# javascript - 两个tomcat之间的Ajax调用

> ID：12616083
> 
> 赞同：0
> 
> 时间：2012-09-27T07:18:45.710
> 
> 标签：javascript, ajax, jsp

我正在使用 ajax 函数调用一个 jsp（在另一个 tomcat 中）。但是我得到了任何回复..我把我的代码放在下面

**这是我的 ajax 函数（在 tomcatA 中）**

```
function connect(){
try{
// Firefox, Opera 8.0+, Safari
var xmlHttp=new XMLHttpRequest();
}catch (e){
// Internet Explorer
try {
xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
}catch (e) {
try {
xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
}catch (e) {
alert("Your browser does not support AJAX!");
return false;
}
}
}
xmlHttp.onreadystatechange=function(){
alert(xmlHttp.status);
if(xmlHttp.readyState==4){
}
}
url="http://IP:PORT/List/Get.jsp";
xmlHttp.open("GET",url+"?sid="+Math.random(),true);
xmlHttp.send(null);
} 
```

**下面是我的 Get.jsp（在 tomcatB 中）**

```
<%@page import=" "%>
<%@page import=" "%>
<select>
<%Iterator it = HashMap.keySet().iterator();
while(it.hasNext()){
String key = (String)it.next();
String value = (String)HashMap.get(key);
%>
<option><%= key + " " + value %> </option>
<%}%>

</select> 
```

但是，如果我直接从浏览器访问 Get.jsp，它的工作正常.. 我得到了带有数据的组合框（如我所料）。请帮我解决这个问题.. 我发誓 URL 和好的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:23:58.123

onreadystatechange 没有正确关闭，修改如下代码：

```
xmlHttp.onreadystatechange=function(){
   alert(xmlHttp.status);
   if(xmlHttp.readyState==4){
} 
```

进入这个：

```
xmlHttp.onreadystatechange=function(){
    alert(xmlHttp.status);
    if(xmlHttp.readyState==4){
        // do sth
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:38:09.783

JavaScript 只能从同一主机加载数据，这称为[SameOrginPolicy](https://secure.wikimedia.org/wikipedia/en/wiki/Same_origin_policy)。简而言之，这大致意味着嵌入在 ServerA 上的 HTML-File 中的 JavaScript 代码只能通过 AJAX 向 ServerA 请求文档。这样做是出于安全原因。

如果确实需要从外部服务器加载数据，可以尝试使用[JSONP](https://secure.wikimedia.org/wikipedia/en/wiki/JSONP)。示例可以通过谷歌找到，例如[这里。](http://www.onlinesolutionsdevelopment.com/blog/web-development/javascript/jsonp-example/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T10:43:33.887

Ajax 在两个不同的 tomcat 之间使用。如果我们完成了以下设置

**IE-->工具-->Internet选项-->安全-->自定义级别-->杂项-->跨域访问数据源-->启用**

此设置应在请求 IE 端完成

# java - 使用 truezip 拆分 zip

> ID：12616085
> 
> 赞同：2
> 
> 时间：2012-09-27T07:19:00.967
> 
> 标签：java, zip, truezip

参考这篇文章，我已成功压缩和解压缩文件夹 - [TrueZip - 如何解压缩内部 jar/zip 文件而不将它们扩展为目录？](https://stackoverflow.com/questions/6393090/truezip-how-to-decompress-inner-jar-zip-files-without-expanding-them-as-direct)

有没有办法使用 truezip 将 zip 拆分成多个部分，类似于 7z，它允许我们创建部分 zip 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T16:50:20.023

不，TrueZIP 不支持 ZIP 文件拆分/跨区。

# c++ - 为德州扑克编写逻辑子底池系统

> ID：12616086
> 
> 赞同：3
> 
> 时间：2012-09-27T07:19:00.840
> 
> 标签：c++, containers, poker

**编辑**似乎我对游戏实际运作方式得到了不同的反应，并且在阅读了官方规则并与众多扑克伙伴交谈后，我想我自己也不知道规则。任何澄清将不胜感激。

我正在使用 MSVC++ 2010 Express 开发一个小型扑克游戏，并且一直在尝试想出一种方法来编写子底池系统。出于某种原因，我无法理解它应该如何工作，并且想知道 SO 是否可以发布一些方法来解决它。这是一种特殊情况，在德州扑克游戏中很可能会发生。

情况：

玩家 A 有 50 美元的筹码首先行动并决定全押。玩家 B 加注到 150 美元。玩家 C 只有价值 70 美元的筹码并决定全押。玩家 D 只有 20 美元并全押。现在，我如何设计一个子底池机制来跟踪所有这些。

据我了解，会发生什么：

玩家 A 用 50 美元创造主底池。你把 B 和 C 的 50 美元加起来，使主底池变成 150 美元。然后，您将玩家 B 剩余的 100 美元分成 80 美元和 20 美元。然后你为玩家 B 和 C 做一个价值 40 美元的子底池（玩家 C 从 70 美元中剩下的），然后你将玩家 B 的 80 美元返还给玩家 B，因为没有人可以覆盖它。玩家 D 的 20 美元赌注进入玩家 B，Cs 的 40 美元子底池现在价值 60 美元。* *（或者这不会被添加？它不会被添加到任何投注中，因为它无法覆盖 50 美元的主底池，如果是这样，那么它们不会被添加到任何投注中**

现在，当它下降到评估时。如果玩家 A 赢了，他从玩家 A、B 和 C 那里赢得了 150 美元。接下来，玩家 B、C 和 D 用他们价值 60 美元的子底池继续比赛。

如果玩家 B 赢了，他就赢了一切。

如果玩家 C 赢了，他从玩家 A、B 和 C 那里赢得 150 美元。然后他向玩家 B 和 D 挑战 60 美元。

玩家 D 只能赢得 60 美元，而当玩家 A、B 和 C 的底池跌到这么远时，已经有人赢得了玩家 A、B 和 C 的底池。*（取决于这是否被添加到 B 和 C 的底池中，因为它不包括主要的 50 美元下注）*

一切都应该这样吗？我很难弄清楚如何跟踪每个赌注和子底池。任何想法或实现它的合乎逻辑的方法都会有很大帮助。感谢您的时间。:-)

我在考虑让每个赌注都成为一个唯一的 id，或者每轮都有一个 id，并将每个赌注添加到要评估的数组中，该数组也指向包含玩家信息的容器。我还必须考虑到一些玩家可能在子底池中并且已经在手牌并且弃牌，这意味着我也必须跟踪这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T15:55:12.597

在这个例子中，主锅和副锅都计算错了。

规则：规则原则是每个玩家匹配对手的赌注，因为他在他的筹码中剩余的赌注。

计算：

1) 首先，我们考虑筹码最少的玩家（全押）。在当前示例中，这是玩家 D 拥有 20 美元。

2) 接下来我们从每个玩家 (A,B,C,D) 中总结出 20 美元，主底池形成等于 80 美元，由所有玩家争夺。

3) 玩家剩余筹码 A – $30, B – $130, C – $50, D – $0

4) 接下来我们考虑第二小的筹码，在当前示例中，玩家 A 还剩 30 美元。边池 1 的形成等于 $30(A) + $30(B) +$30(C)= $90。玩家 D 无法赢得这个边池，因为他的钱用完了。

5) 玩家剩余筹码 A – $0, B – $100, C – $20

6) 边池 2 的形成等于 $20(B) + $20(C)= $40。玩家 A 无法赢得这个边池，因为他的钱用完了。

7) 玩家 B 还剩 80 美元，这笔钱退还给他。

所以我们最终得到：

主底池 = 80 美元，由所有玩家 A、B、C、D 争夺

Side pot1 = $90，由 A,B,C 争夺

Side pot2 = $40，由 B,C 争夺

80 美元返还给玩家 B

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:00:25.010

你的例子自己说话。在第一次下注或每次下注与初始下注不同时都会创建一个子彩池。有一些属性：

*   一个赌注是一个单独的子底池
*   如果新的金额不同，现有的底池应该可以拆分
*   相同数量的罐子可以合并

所以对于 Subpot 类的想法：

*   一个子彩池由一个独特的金额和几个玩家组成
*   一个赌注是一个单独的子底池
*   两个相同数量（金钱）的子罐可以合并形成一个新的子罐（如套）
*   一个 subpot 可以拆分为两个 supbot，其中`amount = amount1 + amount2`;
*   每次添加新赌注时，首先按差额平分，然后合并相同数量的底池。IE

    ```
    //laughable attempt
    class Subpot{
      int amount; //oops i mean bet
      int pot; //actually function = amount x participants
      std::vector<Players*> participants;

      bool split(int amounta, int amountb, Subpot& a, Subpot& b);
      static bool merge(Subpot& a, Subpot& b , Subpot& dest);
    } 
    ```

现在每次有新手牌时，您都会使用之前稳定的一组子池，然后创建下一代子池

*   创建子锅手
*   添加到子锅的集合（什么集合？见下文）
*   拿下注较小的那个
*   拆分所有存在于大小 betSmall 的底池中，并下注 - betSmall
*   合并大小为 betSmall 的
*   如果我没记错的话，你现在有一套稳定的 subPot

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T10:11:45.487

我这样做的方法是制作一个单独的容器来保存下注，跟踪谁下注和下注多少。

```
std::list<std::map<PlayerID, Chips>> wagers;
unsigned n_raises;  // to keep track of number of raises, useful in limit holdem 
```

我假设您有一手活跃玩家的列表/数组。

现在，如果玩家打电话，您只需将他的 ID 和筹码数量插入列表后面的地图中。

如果玩家加注，您在列表后面的地图中插入一个 ID 和匹配的筹码数量，然后*推回*另一张地图。您在这个新的背面插入筹集的金额。`n_raises`并相应地更新`to_call`。

插入玩家的赌注时，您需要从列表的开头进行迭代，并在您第一次遇到该玩家没有筹码的地图时开始插入。前面可能有多次加注，所以你显然不能总是只插入最后一张地图。

棘手的情况是玩家没有足够的筹码来支付完整的跟注。在这种情况下，您会找到他用完筹码的地图，在其后*插入*一张新地图，然后转移玩家在此新地图中无法覆盖的所有筹码（其他玩家的）。（在这种情况下我们不更新`n_raises`）。

以下是 4 个玩家 A、B、C、D 的样子：

```
Player A bet 100

    map0:  (A,100)    

Player B calls:

    map0: (A, 100) (B,100)

Player C raises to 300:

    map0: (A, 100) (B,100) (C,100)
    map1: (C, 200)

Player D calls:

    map0: (A, 100) (B,100) (C,100) (D,100)
    map1: (C, 200) (D,200)

Player A's turn, he folds.
Player B calls, but he's got only 50 left:

    map0: (A, 100) (B,100) (C,100) D(100): 
    map1: (B, 50) (C, 50) (D,50)           <--- here we have split the map in two   
    map2: (C, 150) (D, 150)

The betting round is over. 
```

您可以为每一轮下注设置一个单独的列表，或者只有一个并保留一个迭代器的副本以开始新一轮。

现在很容易分锅。您确定最好的手，然后开始弹出列表前面的地图，同时拥有最好的手的玩家参与地图。如果在那之后列表是空的，你就完成了。否则，确定第二好的手并重复。

在上面的例子中，如果玩家 B 最终拿到最好的牌，你推给他 map0 和 map1。map2 将分配给 C 和 D 的获胜者。

让我们试试你的例子：

> 玩家 A 有 50 美元的筹码首先行动并决定全押。玩家 B 加注到 150 美元。玩家 C 只有价值 70 美元的筹码并决定全押。玩家 D 只有 20 美元并全押。

```
map0: (A,50)
---------------------
map0: (A,50) (B,50)
map1: (B,100)
---------------------
map0: (A,50) (B,50) (C, 50)
map1: (B,20) (C,20)
map2: (B,80)
--------------------
map0: (A,20) (B,20) (C,20) (D,20)
map1: (A,30) (B,30) (C,30)
map2: (B,20) (C,20)
map3: (B,80) 
```

我认为这与我们在实际扑克桌上的操作方式非常相似，如果我要编写扑克游戏，我可能会采用这种方式。希望能帮助到你 ：）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-12T00:02:40.677

抱歉发布了 necro，但我用 C# 写了一个解决锅分发的方法： [https ://dotnetfiddle.net/P0wgR5](https://dotnetfiddle.net/P0wgR5)

这种算法的好处是，在支付时，您​​只需要每个玩家的三条信息。他们投入底池的筹码数量、牌力以及是否弃牌。这不是立即直观的，因为这不是庄家处理边池的方式，但它会正确拆分底池，丢弃任何拆分的筹码（例如：100 分三路输掉一个筹码）。

这是我在 C# 中为拆分罐而编写的代码：

```
using System;
using System.Collections.Generic;

public class Player
{
    public ulong potCommitment;
    public uint handStrength;
    public ulong chipsRemaining;
    public bool folded = false;
    public Player(ulong pc, uint hs, ulong chipsBehind, bool isFolded): this(pc, hs, chipsBehind)
    {
        folded = isFolded;
    }

    public Player(ulong pc, uint hs, ulong chipsBehind)
    {
        potCommitment = pc;
        handStrength = hs;
        chipsRemaining = chipsBehind;
    }
}

public class Program
{
    public static List<Player> winners = new List<Player>();
    public static List<Player> players = new List<Player>();
    public static void Main()
    {
        players.Add(new Player(50, 100, 0));
        players.Add(new Player(150, 80, 0));
        players.Add(new Player(70, 100, 0));
        players.Add(new Player(20, 150, 0));

        // Loop through players until no unclaimed chips in pot.
        while (PotChipsRemaining(players) > 0)
            PayOutWinners(CalculateAndSortWinners(players), players);

        // Refund folded players if remaining chips in pot
        foreach (var player in players)
        {
            player.chipsRemaining += player.potCommitment;
            player.potCommitment = 0;
        }

        Console.WriteLine($"***********************\nFinal results:");
        PotChipsRemaining(players);
    }

    // TODO: Split Pots
    public static List<Player> CalculateAndSortWinners(List<Player> playersInHand)
    {
        uint highHand = 0;
        // Get highHand, skipping folded players and those without any commitment left
        foreach (var player in players) if (player.potCommitment > 0 && !player.folded)
        {
            if (player.handStrength > highHand)
            {
                winners.Clear();
                highHand = player.handStrength;
                winners.Add(player);
            }
            else if (player.handStrength == highHand)
            {
                winners.Add(player);
            }
        }

        winners.Sort((x, y) => x.potCommitment.CompareTo(y.potCommitment));
        return winners;
    }

    public static void PayOutWinners(List<Player> winners, List<Player> playersInHand)
    {
        ulong collectedSidePot;
        ulong currentCommitment, collectionAmount;
        List<Player> paidWinners = new List<Player>();
        // for each playerPot in winners
        foreach (var playerPot in winners)
        {
            collectedSidePot = 0;
            currentCommitment = playerPot.potCommitment;
            // Collect it from all players who have money in pot
            foreach (var player in playersInHand) if (player.potCommitment > 0)
                {
                    collectionAmount = Math.Min(currentCommitment, player.potCommitment);
                    player.potCommitment -= collectionAmount;
                    collectedSidePot += collectionAmount;
                }

            int winnersToPay = 0;

            foreach (var player in winners) if (paidWinners.IndexOf(player) == -1) winnersToPay++;

            Console.WriteLine($"collectedSidePot: {collectedSidePot}  winnersToPay: {winnersToPay}");
            // Pay unpaid winners, tip dealer with remainder...
            foreach (var player in winners) if (paidWinners.IndexOf(player) == -1)
            {
                player.chipsRemaining += collectedSidePot / (ulong)winnersToPay;
                if (player.potCommitment <= 0)
                {
                    paidWinners.Add(player);
                    Console.WriteLine($"Player {players.IndexOf(player)} paid out.");
                }
            }
        }
        winners.Clear();
    }

    // Only count potchips for unfolded players. Also prints status to Console.
    public static ulong PotChipsRemaining(List<Player> playersInHand)
    {
        ulong tally = 0;
        foreach (var player in playersInHand) if (!player.folded)
            {
                Console.WriteLine($"Player {players.IndexOf(player)} chips: {player.chipsRemaining}  Commitment: {player.potCommitment} \tHandStrength: {player.handStrength}\tFolded: {player.folded}");
                tally += player.potCommitment;
            }

        foreach (var player in playersInHand) if (player.folded)
                Console.WriteLine($"Player {players.IndexOf(player)} chips: {player.chipsRemaining}  Commitment: {player.potCommitment} \tHandStrength: {player.handStrength}\tFolded: {player.folded}");

        return tally;
    }
} 
```

您的示例没有手牌优势，但这是您的结果的一种排列：

```
Final results:
Player A chips: 45    HandStrength: 100    Folded: False
Player B chips: 80    HandStrength: 80    Folded: False
Player C chips: 85    HandStrength: 100    Folded: False
Player D chips: 80    HandStrength: 150    Folded: False 
```

（我正在更新这个问题，因为尽管它很古老，但没有编码答案，而且这个页面在搜索结果中仍然很高）

# android - 将 imageViews 动态添加到线性布局中

> ID：12616087
> 
> 赞同：5
> 
> 时间：2012-09-27T07:19:07.473
> 
> 标签：android

我是安卓新手。我有一个要求，我必须将 imageViews 动态添加到线性布局中，然后必须单独为每个图像设置动画。

我不知道将 imageViews 动态添加到线性布局的方法。请帮帮我。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-27T07:23:38.143

You can add `view` dynamically like this.

```
LinearLayout.LayoutParams imParams = 
    new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
ImageView imSex = new ImageView(context);
imSex.setImageResource(getmyImage());

mainlayout.addView(imSex,imParams); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:24:52.760

看到这个

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    // setContentView(R.layout.rainbow);
    ImageView tv1 = new ImageView (this);
    tv1.setImageresorce(R.drawable.image1);
    ImageView tv2 = new ImageView (this);
    tv2.setImageresorce(R.drawable.image2);
    ImageView tv3 = new ImageView (this);

    tv3.setGravity(Gravity.CENTER);
    tv3.setImageresorce(R.drawable.image3);
    LinearLayout ll = new LinearLayout(this);
    ll.setOrientation(LinearLayout.VERTICAL);
    ll.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
    ll.setGravity(Gravity.CENTER);
    ll.addView(tv1);
    ll.addView(tv2);
    ll.addView(tv3);
    setContentView(ll);
} 
```

看到这个有用的数据

[http://mobile.tutsplus.com/tutorials/android/android-layout/](http://mobile.tutsplus.com/tutorials/android/android-layout/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-27T07:27:42.287

你可以试试这段代码。它还具有用于设置尺寸的位`ImageView`以及多个 之间的边距`ImageView's`。和`int dimens = 45`是值并且`int dimensMargin = 4;`正在`pixel`被转换为 dp。

`LinearLayout linlaLikes`必须在您的布局中，`XML`然后在您的活动中投射。

```
LinearLayout linlaLikes = (LinearLayout) findViewById(R.id.linlaLikes);
ImageView imgUsers = new ImageView(getApplicationContext());

// SET THE IMAGEVIEW DIMENSIONS
int dimens = 45;
float density = getResources().getDisplayMetrics().density;
int finalDimens = (int)(dimens * density);

LinearLayout.LayoutParams imgvwDimens = new LinearLayout.LayoutParams(finalDimens, finalDimens);
imgUsers.setLayoutParams(imgvwDimens);

// SET SCALETYPE
imgUsers.setScaleType(ScaleType.CENTER_CROP);

// SET THE MARGIN
int dimensMargin = 4;
float densityMargin = getResources().getDisplayMetrics().density;
int finalDimensMargin = (int)(dimensMargin * densityMargin);

LinearLayout.LayoutParams imgvwMargin = new LinearLayout.LayoutParams(finalDimens, finalDimens);
imgvwMargin.setMargins(finalDimensMargin, finalDimensMargin, finalDimensMargin, finalDimensMargin);

// SET YOUR IMAGER SOURCE TO YOUR NEW IMAGEVIEW HERE

// ADD THE NEW IMAGEVIEW WITH THE PROFILE PICTURE LOADED TO THE LINEARLAYOUT
linlaLikes.addView(imgUsers, imgvwMargin); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-27T07:35:58.577

您可以为此[http://developer.android.com/guide/components/fragments.html使用片段](http://developer.android.com/guide/components/fragments.html)

```
FragmentManager fragmentManager = getFragmentManager()
FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();
ExampleFragment imageFragment = new ExampleFragment();
fragmentTransaction.add(R.id.image_container, imageFragment);
fragmentTransaction.commit(); 
```

# php - 在文件夹 php mysql 中设置的会话

> ID：12616088
> 
> 赞同：0
> 
> 时间：2012-09-27T07:19:07.800
> 
> 标签：php, mysql, session

我有这个代码：

```
$username = $_POST["username"];
$password = $_POST["password"];

if(mysql_num_rows($result80)>0)
 {
    $row80 = mysql_fetch_assoc($result80);
    $_SESSION["loginmng"] = 1;
    $_SESSION["username"] = $username;
    $_SESSION["password"] = $password;
    $fname = $row80["fname"];
    $lname = $row80["lname"];
    $userid = $row80["id"];
 } 
```

一切都很好，因为我试图在同一页面（index.php）中回显会话及其工作现在我有这个检查：

```
if(($_SESSION["loginmng"]!=1)||(!isset($_SESSION["username"]))||(!isset($_SESSION["password"])))
{
   header("Location: index.php");
} 
```

当我将它放入新文件夹时： **newfolder/index.php** 检查不正常，当我登录并设置会话时....当我尝试`echo $_SESSION["loginmng"]`和其他会话时，它的值为空就像没有设置会话并且标题运行...然后转到索引...我也放入`session_start();`了第一行 php 我也尝试过：

```
if($_SESSION["loginmng"]!=1)
{
  header("Location: ../index.php");
} 
```

和同样的事情......就像没有设置会话，可能是什么问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:24:50.133

PHP 会话变量用于存储有关用户会话的信息或更改用户会话的设置。会话变量保存有关单个用户的信息，并且可用于一个应用程序中的所有页面。PHP 会话变量

当您使用应用程序时，您打开它，进行一些更改，然后关闭它。这很像一个会话。电脑知道你是谁。它知道您何时启动应用程序以及何时结束。但是在互联网上存在一个问题：Web 服务器不知道您是谁以及您在做什么，因为 HTTP 地址不保持状态。

PHP 会话通过允许您将用户信息存储在服务器上供以后使用（即用户名、购物项目等）来解决这个问题。但是，会话信息是临时的，将在用户离开网站后被删除。如果您需要永久存储，您可能希望将数据存储在数据库中。

会话通过为每个访问者创建唯一 ID (UID) 并基于此 UID 存储变量来工作。UID 要么存储在 cookie 中，要么在 URL 中传播。启动 PHP 会话

在您可以在 PHP 会话中存储用户信息之前，您必须首先启动会话。

注意：`session_start()`函数必须出现在`<html>`标签之前。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:26:24.117

也许您忘记`session_start();`在文件顶部添加。

要在每个页面上启动会话，您需要在每个页面上启动会话。

*`session_start()``GET`根据通过or`POST`请求或通过 cookie 传递的会话标识符创建会话或恢复当前会话。*

# python - 创建基于哈希的排序算法

> ID：12616093
> 
> 赞同：2
> 
> 时间：2012-09-27T07:19:37.643
> 
> 标签：python, c, algorithm, sorting, hash

用于实验和学习目的。我试图从一个哈希函数创建一个排序算法，该算法给出一个偏向于字符串字母顺序的值，然后理想情况下将它放在该哈希的正确位置。我试图寻找一个哈希偏向排序函数，但只找到一个整数，如果适合我的目的，那将是一个内存猪。

原因是理论上如果做得好，这个算法可以达到 O(n) 的速度或接近。

所以这是我到目前为止在 python 中所做的：

```
letters = {'a':0,'b':1,'c':2,'d':3,'e':4,'f':5,'g':6,'h':7,'i':8,'j':9,
'k':10,'l':11,'m':12,'n':13,'o':14,'p':15,'q':16,'r':17,
's':18,'t':19,'u':20,'v':21,'w':22,'x':23,'y':24,'z':25,
'A':0,'B':1,'C':2,'D':3,'E':4,'F':5,'G':6,'H':7,'I':8,'J':9,
'K':10,'L':11,'M':12,'N':13,'O':14,'P':15,'Q':16,'R':17,
'S':18,'T':19,'U':20,'V':21,'W':22,'X':23,'Y':24,'Z':25}    

def sortlist(listToSort):
    listLen = len(listToSort)
    newlist = []
    for i in listToSort:
        k = letters[i[0]]
        for j in i[1:]:
            k = (k*26) + letters[j]
        norm = k/pow(26,len(i)) # get a float hash that is normalized(i think thats what     it is called)

        # 2nd part
        idx = int(norm*len(newlist)) # get a general of where it should go
        if newlist: #find the right place from idx
            if norm < newlist[idx][1]:
                while norm < newlist[idx][1] and idx > 0: idx -= 1
                if norm > newlist[idx][1]: idx += 1
            else:
                while norm > newlist[idx][1] and idx < (len(newlist)-1): idx += 1
                if norm > newlist[idx][1]: idx += 1
        newlist.insert(idx,[i,norm])# put it in the right place with the "norm" to ref     later when sorting
    return newlist 
```

我认为第一部分很好，但第二部分需要帮助。所以 Qs 将是做这样的事情的最佳方法，或者甚至有可能从中获得 O(n) 时间（或接近那个时间）？

我对 88,000 个单词列表进行的测试大约需要 5 分钟，10,000 个单词大约需要 30 秒，随着列表计数的增加，情况变得更糟。

如果这个想法真的可行，那么我会用 C 重新编码以获得一些真正的速度和优化。

第二部分之所以存在，只是因为它可以工作-即使速度很慢，而且我想不出更好的方法来为我的一生做这件事，我想用不需要做其他循环的东西来代替它一切皆有可能。

感谢您提供的任何建议或想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:38:41.447

在 O(n) 中排序时：通常不能对所有输入进行排序，期间。从根本上说，这在数学上是不可能的。

这是一个很好的、简短的信息论不可能证明：要排序，你必须能够区分 n! 输入的可能顺序；为此，您必须获取 log2(n!) 位数据；为此，您需要进行 O(log (n!)) 比较，即 O(n log n)。任何声称在 O(n) 中运行的排序算法要么是在专门的数据上运行（例如，具有固定位数的数据），要么是不正确的。

实现排序算法是一个很好的学习练习，但您可能希望坚持使用现有算法，直到您对常用的概念和方法感到满意为止。如果算法不起作用，否则可能会相当令人沮丧。

学习愉快！

PS Python 的内置`timsort`算法在处理大量实际数据时非常出色。因此，如果您需要生产代码的通用排序算法，通常可以依靠`.sort`/`sorted`来满足您的需求。（而且，如果你能*理解* `timsort`，你会比 90% 的 Python 使用者做得更好 :)

# android - Android：动态替换布局的视图

> ID：12616094
> 
> 赞同：0
> 
> 时间：2012-09-27T07:19:37.927
> 
> 标签：android, android-fragments

在我的应用程序中，我希望用户填写一个大表格（5-10 个字段）。并非所有字段都是 EditTexts，有些是 Spinners、RadioButtons 等，

因此，不要将它们全部放在一个布局中（用户可能会离开屏幕，看到这么多问题）。我想把它当作一个会话/提问者之类的东西。

在提交每个答案时，最终都会显示一个新问题。

与其为每个问题设置单独的 Activity，不如我更改同一 Activity 的 ContentView。

解决方案如：

**1.根据要问的问题使视图的可见性可见/消失**

**2\. 更改 ContentView 和所有 onCreate()。**

当我必须更改 ContentViews 或 Visibilities 10 次时效率低下。

我应该在布局中使用片段并用新片段替换它吗？

即使这样，我最终也有 10 个片段类和 10 个布局，每个片段类都有 1 个。

有没有其他方法可以实现这一点。现在我正在使用 Fragments 来做这件事。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:15:58.037

我有类似的情况，用户必须填写一些请求，有一个状态和导航窗格在整个应用程序中保持不变，所以每次都开始一个新活动没有意义。所以我做了一个主布局，三个线性布局，利用顶部和底部进行导航/状态，中间用于显示问题。

我创建了不同的布局并根据需要对它们进行充气/放气，因为我只有几 (3) 个布局。如果布局数量增加，那么跟踪和充气/放气它们的方法可能会变得复杂。

如果您有顺序流程，则添加和删除布局/问题相当容易。这种方法的一个缺点是 backstack，当您停留在一个活动中时，您必须自己实现逻辑，并且 backpress 将退出该活动。这种方法也有一些优势，因为您在问题中收集的所有数据都是现成的，并且如果您的下一个问题是基于先前的答案，它是一个福音，它减少了在意图中传递它们的大量工作。

但是，我没有太多经验，`Fragments`因为我选择了这种方法，因为它比片段简单得多，并且需要更少的时间来实现我的要求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:54:21.310

我相信，`Fragments`这将是这里的最佳选择，因为无论哪种方式（即动态或创建布局文件）都必须编写 10 次。

所以更好的是片段，因为每个布局都会被之前的布局动态替换。

但是这里也需要考虑一种情况，就是如果以后要在表单中添加新的问题，那么就得对代码做很多修改，否则，这是最好用的地方片段。

# facebook - 通过 Facebook API 和用户权限检索朋友的电子邮件 ID

> ID：12616102
> 
> 赞同：0
> 
> 时间：2012-09-27T07:20:34.537
> 
> 标签：facebook, facebook-graph-api, user-permissions

下面的代码允许检索登录用户的电子邮件 ID。与此类似，有什么方法可以在传递 facebook ID 时检索其他用户的 emailID？

[[AppDelegateObj facebook] requestWithGraphPath:@"me/permissions" andDelegate:self];

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:37:38.280

> 与此类似，有什么方法可以在传递 facebook ID 时检索其他用户的 emailID？

不可以。您只能访问用户的电子邮件，前提是他们直接使用您的应用程序并授予您权限。没有`friends_email`许可之类的东西。

# jquery - 无法从 json 列表中获取数据

> ID：12616103
> 
> 赞同：1
> 
> 时间：2012-09-27T07:20:38.060
> 
> 标签：jquery, json, jsonp, getjson

到目前为止，我列出了每个航班的航空公司及其价格，现在我想从 json 列表中获取有关这些航班的所有信息，这里有以下功能：

第一个功能工作正常：

```
function show_airlines() {
    $.getJSON("http://api.anywayanyday.com/api/NewRequest/?Route=2406MOWLON&AD=1&CN=0&CS=E&Partner=testapic&_Serialize=JSON&callback=?", function(data) {
        var id=data.Id;
        $('#search_id').attr('rel',id);
        $.getJSON("http://api.anywayanyday.com/api/Fares/?R="+id+"&V=Matrix&VB=true&L=ru&_Serialize=JSON&callback=?", function(data) {
            var pricesForEachAirline = [];
            $.each(data.Airlines, function() { 
                var item = { name : this.Name, prices : [], code: this.Code, airid: []};            
                for(var y in this.FaresFull)
                {
                    item.prices.push(this.FaresFull[y].TotalAmount);
                    item.airid.push(this.FaresFull[y].FareId);
                }
                pricesForEachAirline.push(item);
            });
            $.each(pricesForEachAirline , function(){
                $('#airlines').append('<a href="javascript://" onclick="show_flights('+ this.airid +');">'+ this.name +'</a>').append('</br>');
                $('#prices').append(this.prices.join(',')).append('</br>');
            }); 
        });
    });
} 
```

第二个不能正常工作...

```
function show_flights() {
    var id=$('#search_id').attr('rel');
    var list = Array.prototype.slice.call(arguments, 0);
    $.getJSON("http://api.anywayanyday.com/api/Fares/?R="+id+"&V=Matrix&VB=true&L=ru&_Serialize=JSON&callback=?", function(data) {
        var dataForEachFlight = [];
        $.each(data.Airlines, function() { 
            for(var x in this.FaresFull)
            {
                if(this.FaresFull[x].FareId in list) 
                { 
                    var flight = { from : [], to : []}
                    for(var y in this.FaresFull.Directions.Segments.Trips) 
                    {
                        flight.from.push(this.FaresFull.Directions.Segments.Trips.Departure[y].AirportCode);
                        flight.to.push(this.FaresFull.Directions.Segments.Trips.Arrival[y].AirportCode);
                    }
                    dataForEachFlight.push(flight);
                }
            }
        });
        $.each(dataForEachFlight , function(){
            $('#flights').append(this.from.join(',')).append('</br>');
        });
    });
} 
```

因此，当我单击航空公司链接时，我只想获取有关其航班的信息，但它给出的错误如下：**this.FaresFull.Directions 未定义**，并且作为我想从中获取所有信息的 json 示例：[http://vteem.net/json.json](http://vteem.net/json.json)（这只是例子，你可以从链接函数中得到原始的）

谢谢大家的帮助，我真的很感激！

**功能 2 更新**

```
function show_flights() {
var id=$('#search_id').attr('rel');
var list = Array.prototype.slice.call(arguments, 0);
$.getJSON('http://api.anywayanyday.com/api/Fares/?R='+id+'&V=Matrix&VB=true&L=ru&_Serialize=JSON&callback=?', function(data) {
    var dataForEachFlight = [];
    $.each(data.Airlines, function() {
        for(var a in this.FaresFull)
        {
            for(var b in this.FaresFull[a].FareId)
            {    
                if(this.FaresFull[a].FareId[b] in list) 
                { 
                    var flight = { from : [], to : []};
                    for(var c in this.FaresFull[a].Directions[0].Segments[0].Trips) 
                    {                
                        flight.from.push(this.FaresFull[a].Directions[0].Segments[0].Trips[c].Departure.AirportCode);
                        flight.to.push(this.FaresFull[a].Directions[0].Segments[0].Trips[c].Arrival.AirportCode);
                    }
                    dataForEachFlight.push(flight);
                }
            }
        }
    });
    $.each(dataForEachFlight , function(){
        $('#flights').append(this.from.join(',')).append('</br>');
    });
}); 
```

}

试试#12

现在它获取了数据，但是它重复了太多:) for() 子句中的一些错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T14:43:45.493

好吧，我已经修改了我们最后的[解决方案](http://jsfiddle.net/ErJNA/3/)。但结果不是最终结果，它只是向您展示了解决问题的方法（它打印出所有价格以及每个航空公司的所有连接出发和到达机场代码）。你可以在[这里](http://jsfiddle.net/ErJNA/8/)找到演示。代码：

```
$.getJSON("http://api.anywayanyday.com/api/NewRequest/?Route=2406MOWLON&AD=1&CN=0&CS=E&Partner=testapic&_Serialize=JSON&callback=?", function(data) {
var code=data.Id;
$.getJSON("http://api.anywayanyday.com/api/Fares/?R="+code+"&V=Matrix&VB=true&L=ru&_Serialize=JSON&callback=?", function(data) {
    var pricesForEachAirline = [];
    $.each(data.Airlines, function() { 

        var item = { name : this.Name, infos: []};            

        $.each(this.FaresFull, function()
        {
            var info = {departures:[], arrivals:[]}; 
            info.price=this.TotalAmount;
            $.each(this.Directions, function(){
                $.each(this.Segments, function(){
            $.each(this.Trips, function()
            {
                info.departures.push(this.Departure.AirportCode);
                info.arrivals.push(this.Arrival.AirportCode);
            });
                   });
        });
            item.infos.push(info);
        });
           pricesForEachAirline.push(item);
    });
    $.each(pricesForEachAirline , function(){
        $('#data').append(this.name+":").append('</br>');
        $.each(this.infos, function(){
            $('#data').append(this.price+"&nbsp; DEPARTURES:").append(this.departures.join(',')).append("&nbsp; ARRIVALS:").append(this.arrivals.join(',')).append("</br></br>");
        });
    });

});});​ 
```

希望对你有用！）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T11:14:36.857

不确定，也没有自己测试过，但可能是您忘记了FaresFull**元素**的索引**x吗？**

 **我的意思是，您的代码不应该总是调用*this.FaresFull[ **x** ]*并变成这样：

```
for(var x in this.FaresFull)
{    
    if(this.FaresFull[x].FareId in list) 
    { 
        var flight = { from : [], to : []};
        // for testing only first Directions/Segments array element taken 
        for(var y in this.FaresFull[x].Directions[0].Segments[0].Trips) 
        {                
            flight.from.push(this.FaresFull[x].Directions[0].Segments[0].Trips[y].Departure.AirportCode);
            flight.to.push(this.FaresFull[x].Directions[0].Segments[0].Trips[y].Arrival.AirportCode);
        }
        dataForEachFlight.push(flight);
    }
} 
```

**编辑：**更正的代码，另见[http://jsfiddle.net/LZ8wN/2/](http://jsfiddle.net/LZ8wN/2/)

**edit2：** 您可能想尝试这种替代方法来遍历数组。请注意，我在您的航班声明和分配的末尾添加了一个分号。

```
$.each(data.Airlines, function() { 
    var flight = { from : [], to : []};
    $.each(this.FaresFull,function(w) {
        if(this.FareId in list) 
        {
            $.each(this.Directions,function(x) {
                $.each(this.Segments,function(y) {
                    $.each(this.Trips,function(z) {
                        flight.from.push(this.Departure.AirportCode);
                        flight.to.push(this.Arrival.AirportCode);
                    });
                    dataForEachFlight.push(flight);
                });
            });
        }
    });
}); 
```**

# android - 如何提高 Android Beam 的可发现性

> ID：12616104
> 
> 赞同：0
> 
> 时间：2012-09-27T07:20:42.620
> 
> 标签：android, nfc, android-beam

Google I/O 会议上关于 Android Beam 的演讲者发表了一些关于“通过添加东西来破坏 Beam”的评论。他们使用了一个将 Beam 添加到 Share 菜单的示例，这很糟糕，因为 Beam 应该是“神奇的”和“简单的”。

我遇到的问题是，没有 UI，Beam 存在很大的可发现性问题。如果他们不知道这是可能的，普通用户将永远不会使用它。

让用户知道她可以点击分享的最佳做法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:37:24.813

我正在创建一个聊天应用程序，用户可以在其中通过 NFC（和其他方式）添加其他人。有一个活动，用户可以看到如何与他人联系。里面还有一篇关于 NFC 的文章。我想当我的用户知道到那时他们可能会使用它时。不过……并不是所有的手机都有NFC，所以用户不得不问别人：“哦，嗯，你有NFC吗？” 他们可能不会对刚认识的人或用户不是极客的人这样做。

我想让用户知道他们可以使用 NFC 共享内容的最好方法是在所有应用程序中实现它，这样就默认它在那里了。在那之前，你应该像我一样告诉你的用户这是可能的，用一些文本、符号或动画。

# c# - C# 的音频播放和频谱分析库

> ID：12616109
> 
> 赞同：4
> 
> 时间：2012-09-27T07:21:23.663
> 
> 标签：c#, audio, analysis, frequency

我想创建一个播放音乐文件的小应用程序（格式并不重要）。困难的部分是：同时我想显示低频（低音）、中频和高频的当前幅度。

所以我需要一些简单的频谱分析和回放功能。是否有一个 C# 音频库可以轻松做到这一点？

这个项目的目的是驱动我最近安装在我房间里的 RGB-LED 照明系统；-)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-27T11:58:21.800

NAudio：[http](http://naudio.codeplex.com/) ://naudio.codeplex.com/ （开源）

[Bass](http://www.un4seen.com/)和 Bass.Net：http://www.un4seen.com/ （非商业免费）

Fmod Ex：[http](http://www.fmod.org/index.html) ://www.fmod.org/index.html （也可免费用于非商业用途）

使用 Bass 做你需要的事情非常容易：

```
string filepath ="";
Bass.BASS_Init(-1, 44100, BASSInit.BASS_DEVICE_DEFAULT, IntPtr.Zero, null);
int handle = Bass.BASS_StreamCreateFile(filepath, 0, 0, BASSFlag.BASS_SAMPLE_FLOAT);
Bass.BASS_ChannelPlay(handle,false); 
```

然后得到频谱：

```
float[] buffer = new float[256];
Bass.BASS_ChannelGetData(handle, buffer, (int)BASSData.BASS_DATA_FFT256); 
```

从那里您可以轻松地平均特定频率的频段

# c# - 反应式扩展 (rx) 仅使用一个后台线程

> ID：12616111
> 
> 赞同：1
> 
> 时间：2012-09-27T07:21:29.953
> 
> 标签：c#, system.reactive

我正在使用 rx 扩展来进行简单的实现，并且效果很好。我正在使用线程池调度程序。这也很好，但我只想有一个后台线程！我的想法是，我有一个涉及主题的 ui 线程，并且所有内容都在同一个后台线程中触发。如果有两个请求，它们应该被序列化。这可能吗？提前谢谢劳林

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-27T11:01:33.060

将您的调度程序更改为[`EventLoopScheduler`](https://msdn.microsoft.com/en-us/library/system.reactive.concurrency.eventloopscheduler%28v=vs.103%29.aspx). 它一次只会执行一个线程。

您必须为自己创建调度程序：

```
var loop = new EventLoopScheduler(); 
```

# r - 无法使用 csv 读取文本文件？

> ID：12616114
> 
> 赞同：-1
> 
> 时间：2012-09-27T07:21:44.657
> 
> 标签：r, csv

我有一个文本数据分隔 ny“逗号”即“”。数据示例如下（第一行表示列名）：

```
userID,appName,startTime,endTime,endResult
chhieut,gms.mos.test,2012-07-01 02:47:16,2012-07-01 02:47:46,1
chhieut,gms.mos.test,2012-07-01 03:11:46,2012-07-01 03:12:25,2
chhieut,gms.mos.test,2012-07-01 03:13:36,2012-07-01 03:14:03,2
chhieut,gms.mos.test,2012-07-01 03:18:26,2012-07-01 03:18:58,2
chhieut,gms.mos.test,2012-07-01 04:10:36,2012-07-01 04:10:54,2
chhieut,gms.mos.test,2012-07-01 04:38:26,2012-07-01 04:38:48,2
chhieut,gms.mos.test,2012-07-01 04:48:56,2012-07-01 04:49:04,3
chhieut,gms.mos.test,2012-07-01 05:49:46,2012-07-01 05:50:14,2
chhieut,gms.mos.test,2012-07-01 06:19:07,2012-07-01 06:19:25,2
chhieut,gms.mos.test,2012-07-01 07:09:17,2012-07-01 07:09:47,2 
```

我正在使用以下语法：

```
appsession <- read.table("C:/.../AppSession.txt", sep = ",", 
  col.names = c("userID","appName","startTime","endTime","endResult"), 
  fill = FALSE, strip.white = TRUE) 
```

我收到此错误：

```
Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  : 
  line 1 did not have 5 elements 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T07:40:34.210

我认为`skip = 2`如果你有一个空行并且打算使用 'col.names' 而不使用`header=TRUE`. 目前，您的代码可以通过简单的文本读取（无论如何都可以正常工作）“

```
> txt <- "userID,appName,startTime,endTime,endResult
+ chhieut,gms.mos.test,2012-07-01 02:47:16,2012-07-01 02:47:46,1
+ chhieut,gms.mos.test,2012-07-01 03:11:46,2012-07-01 03:12:25,2
+ chhieut,gms.mos.test,2012-07-01 03:13:36,2012-07-01 03:14:03,2
+ chhieut,gms.mos.test,2012-07-01 03:18:26,2012-07-01 03:18:58,2
+ chhieut,gms.mos.test,2012-07-01 04:10:36,2012-07-01 04:10:54,2
+ chhieut,gms.mos.test,2012-07-01 04:38:26,2012-07-01 04:38:48,2
+ chhieut,gms.mos.test,2012-07-01 04:48:56,2012-07-01 04:49:04,3
+ chhieut,gms.mos.test,2012-07-01 05:49:46,2012-07-01 05:50:14,2
+ chhieut,gms.mos.test,2012-07-01 06:19:07,2012-07-01 06:19:25,2
+ chhieut,gms.mos.test,2012-07-01 07:09:17,2012-07-01 07:09:47,2
+ "
> appsession <- read.table(text=txt, sep = ",", 
+   col.names = c("userID","appName","startTime","endTime","endResult"), 
+   fill = FALSE, strip.white = TRUE)
> 
> appsession
    userID      appName           startTime             endTime endResult
1   userID      appName           startTime             endTime endResult
2  chhieut gms.mos.test 2012-07-01 02:47:16 2012-07-01 02:47:46         1
3  chhieut gms.mos.test 2012-07-01 03:11:46 2012-07-01 03:12:25         2
4  chhieut gms.mos.test 2012-07-01 03:13:36 2012-07-01 03:14:03         2
5  chhieut gms.mos.test 2012-07-01 03:18:26 2012-07-01 03:18:58         2
6  chhieut gms.mos.test 2012-07-01 04:10:36 2012-07-01 04:10:54         2
7  chhieut gms.mos.test 2012-07-01 04:38:26 2012-07-01 04:38:48         2
8  chhieut gms.mos.test 2012-07-01 04:48:56 2012-07-01 04:49:04         3
9  chhieut gms.mos.test 2012-07-01 05:49:46 2012-07-01 05:50:14         2
10 chhieut gms.mos.test 2012-07-01 06:19:07 2012-07-01 06:19:25         2
11 chhieut gms.mos.test 2012-07-01 07:09:17 2012-07-01 07:09:47         2 
```

您应该使用标题或跳过标题行（加上跳过任何空白行。）查看有多少行是空白的一种方法是查看`countfields( ..., sep=",")`. 另一种查看`read.*`和`scan`函数“看到”的方法是执行此代码（适当替换省略号）：

```
appLines <- readLines("C:/.../AppSession.txt")
appLines[1:5] # will display the first 5 lines from that file 
              # with no attempt to deal with any separators. 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:37:34.313

您需要提供指向实际数据集的链接，因为您提供的数据可以正常工作：

```
d = read.csv(textConnection("userID,appName,startTime,endTime,endResult
chhieut,gms.mos.test,2012-07-01 02:47:16,2012-07-01 02:47:46,1
chhieut,gms.mos.test,2012-07-01 03:11:46,2012-07-01 03:12:25,2
chhieut,gms.mos.test,2012-07-01 03:13:36,2012-07-01 03:14:03,2
chhieut,gms.mos.test,2012-07-01 03:18:26,2012-07-01 03:18:58,2
chhieut,gms.mos.test,2012-07-01 04:10:36,2012-07-01 04:10:54,2
chhieut,gms.mos.test,2012-07-01 04:38:26,2012-07-01 04:38:48,2
chhieut,gms.mos.test,2012-07-01 04:48:56,2012-07-01 04:49:04,3
chhieut,gms.mos.test,2012-07-01 05:49:46,2012-07-01 05:50:14,2
chhieut,gms.mos.test,2012-07-01 06:19:07,2012-07-01 06:19:25,2
chhieut,gms.mos.test,2012-07-01 07:09:17,2012-07-01 07:09:47,2"), header=TRUE) 
```

快速检查：

```
R> head(d, 1)
   userID      appName           startTime             endTime endResult
1 chhieut gms.mos.test 2012-07-01 02:47:16 2012-07-01 02:47:46         1
R> dim(d)
[1] 10  5 
```

确保您的实际文件中没有空行 - 这真的会填满东西。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-27T07:47:33.280

使用经过适当编辑的数据版本（即删除所有空行！），可以通过`read.csv()`. 请注意，我使用包含数据的文本连接来避免将数据写入文件。只需`con`在`read.csv()`.

```
con <- textConnection("userID,appName,startTime,endTime,endResult
chhieut,gms.mos.test,2012-07-01 02:47:16,2012-07-01 02:47:46,1
chhieut,gms.mos.test,2012-07-01 03:11:46,2012-07-01 03:12:25,2
chhieut,gms.mos.test,2012-07-01 03:13:36,2012-07-01 03:14:03,2
chhieut,gms.mos.test,2012-07-01 03:18:26,2012-07-01 03:18:58,2
chhieut,gms.mos.test,2012-07-01 04:10:36,2012-07-01 04:10:54,2
chhieut,gms.mos.test,2012-07-01 04:38:26,2012-07-01 04:38:48,2
chhieut,gms.mos.test,2012-07-01 04:48:56,2012-07-01 04:49:04,3
chhieut,gms.mos.test,2012-07-01 05:49:46,2012-07-01 05:50:14,2
chhieut,gms.mos.test,2012-07-01 06:19:07,2012-07-01 06:19:25,2
chhieut,gms.mos.test,2012-07-01 07:09:17,2012-07-01 07:09:47,2
")

dat <- read.csv(con,
                colClasses = c(rep("character", 2), rep("POSIXct", 2),
                               "numeric"))
close(con) ## closing connection, not needed with a file 
```

另请注意，通过指定`colclasses`参数，我们在读取数据之前告诉 R 数据是什么，这会在以后保存一些格式，尤其是 DateTime 数据。我们可以在此处执行此操作，因为您以正确的格式存储了 DateTime 变量。

```
R> head(dat)
   userID      appName           startTime             endTime endResult
1 chhieut gms.mos.test 2012-07-01 02:47:16 2012-07-01 02:47:46         1
2 chhieut gms.mos.test 2012-07-01 03:11:46 2012-07-01 03:12:25         2
3 chhieut gms.mos.test 2012-07-01 03:13:36 2012-07-01 03:14:03         2
4 chhieut gms.mos.test 2012-07-01 03:18:26 2012-07-01 03:18:58         2
5 chhieut gms.mos.test 2012-07-01 04:10:36 2012-07-01 04:10:54         2
6 chhieut gms.mos.test 2012-07-01 04:38:26 2012-07-01 04:38:48         2
R> str(dat)
'data.frame':   10 obs. of  5 variables:
 $ userID   : chr  "chhieut" "chhieut" "chhieut" "chhieut" ...
 $ appName  : chr  "gms.mos.test" "gms.mos.test" "gms.mos.test" "gms.mos.test" ...
 $ startTime: POSIXct, format: "2012-07-01 02:47:16" "2012-07-01 03:11:46" ...
 $ endTime  : POSIXct, format: "2012-07-01 02:47:46" "2012-07-01 03:12:25" ...
 $ endResult: num  1 2 2 2 2 2 3 2 2 2 
```

# c# - System.IndexOutOfRangeException : Cannot find table 0

> ID：12616116
> 
> 赞同：-3
> 
> 时间：2012-09-27T07:21:50.127
> 
> 标签：c#, asp.net

I am trying to implement a `button_click` event in C# such that if the button is pressed, the gridview is filled with the query results but am getting the above error.

This is the code:

```
public partial class Pages_Managingpayment : System.Web.UI.Page
{
    SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings["MyServer"].ConnectionString);
    protected void Page_Load(object sender, EventArgs e)
    {

        if(IsPostBack)
        {
            Load();
    }
    }
    protected void Load() {
        DataSet ds = new DataSet();
        ds.Tables[0].Rows.Add(ds.Tables[0].NewRow());
        GridView1.DataSource = ds;
        GridView1.DataBind();
        int columncount = GridView1.Rows[0].Cells.Count;
        GridView1.Rows[0].Cells.Clear();
        GridView1.Rows[0].Cells.Add(new TableCell());
        GridView1.Rows[0].Cells[0].ColumnSpan = columncount;
        GridView1.Rows[0].Cells[0].Text = "No records on display";
    }
    protected void SearchButton_Click(object sender, EventArgs e)
    {
        if (IsPostBack)
        {
            BindEmployeeDetails();
        }
    }
    protected void BindEmployeeDetails()
    {
        con.Open();
        SqlCommand cmd = new SqlCommand("Select * from users", con);
        SqlDataAdapter da = new SqlDataAdapter(cmd);
        DataSet ds = new DataSet();
        da.Fill(ds);
        con.Close();
        if (ds.Tables[0].Rows.Count > 0)
        {
            GridView1.DataSource = ds;
            GridView1.DataBind();
        }
        else
        {
            ds.Tables[0].Rows.Add(ds.Tables[0].NewRow());
            GridView1.DataSource = ds;
            GridView1.DataBind();
            int columncount = GridView1.Rows[0].Cells.Count;
            GridView1.Rows[0].Cells.Clear();
            GridView1.Rows[0].Cells.Add(new TableCell());
            GridView1.Rows[0].Cells[0].ColumnSpan = columncount;
            GridView1.Rows[0].Cells[0].Text = "No Records Found";
        }
    }
    protected void GridView1_RowEditing(object sender, GridViewEditEventArgs e)
    {
        GridView1.EditIndex = e.NewEditIndex;
        BindEmployeeDetails();
    }
    protected void GridView1_RowUpdating(object sender, GridViewUpdateEventArgs e)
    {
        //int userid = Convert.ToInt32(GridView1.DataKeys[e.RowIndex].Value.ToString());
        string passwords = GridView1.DataKeys[e.RowIndex].Value.ToString();
        TextBox pass = (TextBox)GridView1.Rows[e.RowIndex].FindControl("Password");
        TextBox usernames = (TextBox)GridView1.Rows[e.RowIndex].FindControl("username");
        TextBox usertypes = (TextBox)GridView1.Rows[e.RowIndex].FindControl("usertype");
        con.Open();
        SqlCommand cmd = new SqlCommand("update users set User_Type='" + usertypes.Text + "',Username='" + usernames.Text + "' where password='" + passwords + "'", con);
        cmd.ExecuteNonQuery();
        con.Close();
        //.ForeColor = Color.Green;
        //lblresult.Text = username + " Details Updated successfully";
        GridView1.EditIndex = -1;
        BindEmployeeDetails();
    }
    protected void GridView1_RowCancelingEdit(object sender, GridViewCancelEditEventArgs e)
    {
        GridView1.EditIndex = -1;
        BindEmployeeDetails();
    }
    protected void GridView1_RowDeleting(object sender, GridViewDeleteEventArgs e)
    {
        //int userid = Convert.ToInt32(GridView1.DataKeys[e.RowIndex].Values["UserId"].ToString());
        string passwords = GridView1.DataKeys[e.RowIndex].Values["password"].ToString();
        con.Open();
        SqlCommand cmd = new SqlCommand("delete from users where password='" + passwords + "'", con);
        int result = cmd.ExecuteNonQuery();
        con.Close();
        if (result == 1)
        {
            BindEmployeeDetails();
            // lblresult.ForeColor = Color.Red;
            //lblresult.Text = username + " details deleted successfully";
        }
    }
    protected void GridView1_RowCommand(object sender, GridViewCommandEventArgs e)
    {
        if (e.CommandName.Equals("AddNew"))
        {
            TextBox usertypes = (TextBox)GridView1.FooterRow.FindControl("usertype");
            TextBox usernames = (TextBox)GridView1.FooterRow.FindControl("username");
            TextBox passwords = (TextBox)GridView1.FooterRow.FindControl("password");
            con.Open();
            SqlCommand cmd =
            new SqlCommand(
            "insert into users values('" + usertypes.Text + "','" +
            usernames.Text + "','" + passwords.Text + "')", con);
            int result = cmd.ExecuteNonQuery();
            con.Close();
            if (result == 1)
            {
                BindEmployeeDetails();
                // lblresult.ForeColor = Color.Green;
                //lblresult.Text = txtUsrname.Text + " Details inserted successfully";
            }
            else
            {
                //lblresult.ForeColor = Color.Red;
                //lblresult.Text = txtUsrname.Text + " Details not inserted";
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:40:27.423

我猜这是代码中的错误：

```
DataSet ds = new DataSet();
ds.Tables[0].Rows.Add(ds.Tables[0].NewRow()); 
```

`ds`将不包含表，因此包含 no `Table[0]`。但是，如果您可以将代码分解为发生错误的几行，那将会很有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:42:25.290

确保在使用 table 或 Row 之前检查索引。我已经修改了你的 Load 方法，希望你能修改其他地方来纠正错误。

```
 protected void Load() {
            DataSet ds = new DataSet();

            if(ds.Tables.Count == 0)
            {
             // Syntax might be wrong. I am trying to add new table if it is missing.
              ds.Table.Add(new Table());
            }

            ds.Tables[0].Rows.Add(ds.Tables[0].NewRow());
            GridView1.DataSource = ds;
            GridView1.DataBind();
            int columncount = GridView1.Rows[0].Cells.Count;
            GridView1.Rows[0].Cells.Clear();
            GridView1.Rows[0].Cells.Add(new TableCell());
            GridView1.Rows[0].Cells[0].ColumnSpan = columncount;
            GridView1.Rows[0].Cells[0].Text = "No records on display";
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T05:03:13.663

在该`Load()`方法中，您创建一个新`DataSet`表并尝试使用代码访问它的不存在表`ds.Tables[0].Rows.Add(ds.Tables[0].NewRow());`。

在绑定之前尝试创建一个新的`DataTable`并将其添加到（[此处](http://msdn.microsoft.com/en-us/library/aeskbwf7.aspx)示例）。`DataSet``GridView`

而且，当您调用该`Load()`方法时，使条件`if(!IsPostBack)`如下：

```
protected void Page_Load(object sender, EventArgs e)
{
    if(!IsPostBack)
    {
        Load();
    }
} 
```

# git - Internet access fails after compiling Gitalist

> ID：12616118
> 
> 赞同：1
> 
> 时间：2012-09-27T07:21:56.373
> 
> 标签：git, ubuntu, ip, ipconfig

After I downloaded and compiled **Gitalist** on Ubuntu 12.04, I cannot access to the internet at all.

The compilation process is suspicious in that it took a really long time (>20min.) with massive messages. But it is strange that during compilation, I haven't used any *sudo* command.

I think some files modified in wrong way. I checked IP configuration using GUI tool but it is okay. Do you have any experience in this kind of problem?

# c++ - QSpinBox 中的验证

> ID：12616120
> 
> 赞同：2
> 
> 时间：2012-09-27T07:22:07.147
> 
> 标签：c++, qt, validation, qspinbox

我有`QSpinBox`它应该只取奇数，所以我将初始值设置为 3 并设置为 2。

```
QSpinBox* spinBox = new QSpinBox;
spinBox->setValue(3);
spinBox->setSingleStep(2); 
```

当我使用旋转框箭头修改值时，一切正常。但是当我从键盘输入值时，它不能取奇数。

那么是否可以在不继承`QSpinBox`和重新定义其`validate`方法的情况下设置满足我要求的验证？

如果值是奇数，我当前的解决方案是检查插槽：

```
void MyWidget::slotSetSpinBoxValue(int value)
{
    if(value%2 != 0)
    {
         //call function which takes only odd values
    }
    else
    {
        //here I want to show some kind off message that value can only be odd
        //call function with --value parameter
    }
} 
```

第二个问题是如何显示一些提示`QSpinBox`？我想显示像工具提示一样的提示，并显示`QSpinBox`值应该是奇数的消息。我在其中找到`statusTip`了属性，`QWidget`但找不到如何使用它的示例。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-03-09T19:22:06.633

您可以连接到 editingFinished 信号并修复它：

```
void Obj::onSpinEditFinished()
{
    int val = ui->spinPoints->value();
    if(val % 2 == 0)
        ui->spinPoints->setValue(val-1);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-27T09:34:23.423

关于理查德的评论，我认为 ctrl->setKeyboardTracking(false) 将绕过每次击键时会发生的检查，并只允许验证在最后发生。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T07:56:43.400

好吧，您可以使用`valueChanged()`插槽进行解决方法：

```
void MainWindow::on_spinBox_valueChanged(int arg1)
{
    if( arg1 % 2 == 0)
    {
        //for even values, show a message 
        QMessageBox b;
        b.setText("Only odd values allowed!");
        b.exec();
        //and then decrease the value to make it odd 
        ui.spinBox->setValue( arg1 - 1 );
    }
} 
```

现在，如果要保留旧值以防 used 输入偶数，则必须继承 from`QSpinBox`或使用事件过滤器来捕获按键事件，并在值更改*之前采取行动。*

要在用户将鼠标悬停在 spinbox 上时显示消息，您需要设置 box 的`toolTip`，它包含将显示的字符串：

![带有工具提示的旋转框](../Images/69a4fe0e3c7ed0e3ba3ae72bcb4e53fc.png)

**更新**：如果您不想要消息框，您可以：

*   使用`QStatusBar`. 它可以显示仅持续一段时间的消息（您通过它）。它的缺点是消息将出现在窗口底部的栏上，而不是靠近旋转框。
*   在旋转框下方放置一个标签。当用户输入无效值时，将标签的文本设置为“只允许奇数值”之类的内容，并在用户输入正确值时设置一个空字符串。您也可以动态执行此操作：
    1.  用户输入了错误的值
    2.  `QLabel`使用警告文本创建一个，并设置`Qt::WA_DeleteOnClose`标志，以便标签在关闭时自行删除。
    3.  创建一个`QTimer`with `singleShot`，并在几秒钟后将其设置为触发（当您希望消息消失时）
    4.  将计时器的信号连接到标签的`close()`插槽。当计时器到期时，标签将被关闭，并且由于`WA_DeleteOnClose`，将被删除。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-20T11:32:01.250

我认为正确的答案并不完美。它使您无法输入诸如“12”之类的值，因为输入“1”时将触发值更改信号，并将其更正为“0”，因为1是奇数。

修复可能是使用计时器来更正旋转框中的值。例如，一旦我们收到 valueChanged 信号，我们就会用 (500ms) 超时重新启动一个计时器（如果你输入足够快，计时器只会触发一次）。我们检查并更正定时器超时槽中的输入。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-06-02T16:41:26.763

在 python 中，我使用 spinbox 的 editingFinished 属性解决了这个问题。这只会在您按下回车键或将焦点从框移开时触发信号。在python中，我必须传递函数引用，否则传递的值不是更新的值，而是初始化时的值。：

```
class SpinboxExample:
    def __init__(self)
        spinbox = QSpinBox()
        spinbox.editingFinished.connect(
            lambda value=spinbox.value, set_spinbox_val=spinbox.setValue:
            self.value_changed_spinbox(value,set_spinbox_val, set_slider_val)
            ) 
```

然后我有一个回调函数，它检查数字是否为奇数，如果没有更改旋转框中的值以使其为奇数。

```
 def value_changed_spinbox(self, get_value,set_spinbox_value):
        value=get_value()
        if value % 2 == 0:
            value += 1
            set_spinbox_value(value) 
```

希望有帮助。

# openvpn - 如何测试 OpenVPN 隧道是否建立？

> ID：12616122
> 
> 赞同：1
> 
> 时间：2012-09-27T07:22:08.493
> 
> 标签：openvpn

要测试 OpenVPN 隧道设置，我需要检测新启动的 OpenVPN 守护程序何时**建立了隧道**（或尝试过但未**成功**），然后再尝试通过隧道发送内容。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-09-20T19:12:48.830

基于一个很好的[超时`tail`](https://stackoverflow.com/a/2041504/96588)方法：

```
ssh hostname '
    sleep 5 &
    timerPID=$!;
    tail -n0 -F --pid=$timerPID /var/log/messages | grep openvpn | while read -r line;
    do
        if echo "$line" | grep -qF -e "Initialization Sequence Completed" -e "Connection refused";
        then
            kill $timerPID;
            break;
        fi;
    done &
    /etc/init.d/openvpnA start &
    wait $timerPID' 
```

那是：

1.  连接到 VPN 客户端或服务器
    1.  异步启动计时器
    2.  异步收集日志行，`openvpn`直到计时器终止
        1.  寻找连接成功或被拒绝的迹象
            1.  杀死计时器
            2.  退出循环
    3.  启动守护进程
    4.  等待计时器结束

它似乎有效，但不熟悉 OpenVPN 我不确定这是否是检测连接状态的正确方法。由于我是唯一使用该机器的人，我认为`grep`可以忽略由于较早的进程启动而导致成功的时间问题的可能性。但我猜只有熟悉 OpenVPN 代码的人才能真正回答这个问题：*当前测试是否足以确定连接是成功还是拒绝？*

# java - 获取目录及其子目录中的文件数

> ID：12616124
> 
> 赞同：15
> 
> 时间：2012-09-27T07:22:11.000
> 
> 标签：java, android

使用此代码

```
new File("/mnt/sdcard/folder").listFiles().length 
```

返回特定目录中的文件夹和文件的总和，而不关心**子目录**。我想获取目录及其子目录中所有文件的数量。

PS：如果它返回所有文件和文件夹的总和，这并不重要。

任何帮助表示赞赏，谢谢

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-09-27T07:30:06.797

试试这个。

```
int count = 0;
getFile("/mnt/sdcard/folder/");

private void getFile(String dirPath) {
    File f = new File(dirPath);
    File[] files = f.listFiles();

    if (files != null)
    for (int i = 0; i < files.length; i++) {
        count++;
        File file = files[i];

        if (file.isDirectory()) {   
             getFile(file.getAbsolutePath()); 
        }
    }
} 
```

它可能会帮助你。

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-09-27T07:27:42.363

您可以使用递归。

```
public static int getFilesCount(File file) {
  File[] files = file.listFiles();
  int count = 0;
  for (File f : files)
    if (f.isDirectory())
      count += getFilesCount(f);
    else
      count++;

  return count;
} 
```

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2017-01-03T17:34:11.260

使用 Java 8 NIO：

```
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;

public class Test {

  public long fileCount(Path dir) { 
    return Files.walk(dir)
                .parallel()
                .filter(p -> !p.toFile().isDirectory())
                .count();
  }

  public void main(String... args) {
    Path dir = Paths.get(args[0]);
    long count = fileCount(dir);

    System.out.println(args[0] + " has " + count + " files");
  }

} 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2012-09-27T07:27:28.673

```
public Integer countFiles(File folder, Integer count) {
    File[] files = folder.listFiles();
    for (File file: files) {
        if (file.isFile()) {
            count++;
        } else {
            countFiles(file, count);
        }
    }

    return count;
} 
```

用法：

```
Integer count = countFiles(new File("your/path"), Integer.valuOf(0)); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-09-27T07:28:04.193

您将不得不对您的文件进行递归搜索。使用 `File#isDrirectory()´ 检查文件是否为目录并向下遍历文件树。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-09-27T07:28:25.673

您必须递归浏览所有文件夹并找出文件

```
int mCount;

getTotalFiles(File dir) {
    File[] files = dir.listFiles();
    for (File file : files) {
        if (file.isDirectory()) {
            getTotalFiles(file);
        } else {
            mCount++;
        }
    }
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-09-27T07:27:28.203

我以前用过的东西，你可以很容易地编辑它以获得你想要的东西：

```
public class Filewalker {

    public void walk( String path ) {

        File root = new File( path );
        File[] list = root.listFiles();

        for ( File f : list ) {
            if ( f.isDirectory() ) {
                walk( f.getAbsolutePath() );
                System.out.println( "Dir:" + f.getAbsoluteFile() );
            }
            else {
                System.out.println( "File:" + f.getAbsoluteFile() );
            }
        }
    }

    public static void main(String[] args) {
        Filewalker fw = new Filewalker();
        fw.walk("c:\\" );
    }
} 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2014-05-09T14:52:43.977

这是一个简短的方法，全部封装在一个方法中，只返回特定目录中的文件和目录的数量：

```
public static int countFiles(File directory) {
    int count = 0;
    for (File file : directory.listFiles()) {
        if (file.isDirectory()) {
            count += countFiles(file); 
        }
        count++;
    }
    return count;
} 
```

干杯!

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2018-01-18T13:24:43.453

只是为了记录，您也可以使用迭代而不是递归：

```
public static int countFiles(final File dir) {
    final ArrayDeque<File> dirs = new ArrayDeque<>();
    dirs.add(dir);
    int cnt = 0;
    while (!dirs.isEmpty()) {
        final File[] files = dirs.poll().listFiles();
        for (final File f: files)
            if (f.isDirectory())
                dirs.add(f);
            else
                ++cnt;
    }
    return cnt;
} 
```

在这个实现中，我使用的是[ArrayDeque](https://docs.oracle.com/javase/9/docs/api/java/util/ArrayDeque.html)，但您可以使用任何[队列](https://docs.oracle.com/javase/9/docs/api/java/util/Queue.html)或任何[列表](https://docs.oracle.com/javase/9/docs/api/java/util/List.html)来完成这项工作。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2013-11-22T16:32:40.563

```
public int numberOfFiles(File srcDir) {
    int count = 0;
    File[] listFiles = srcDir.listFiles();
    for(int i = 0; i < listFiles.length; i++){
        if (listFiles[i].isDirectory()) {
            count += numberOfFiles(listFiles[i]);
        } else if (listFiles[i].isFile()) {
            count++;
        }
    }
    return count;
} 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2015-12-17T14:15:38.457

[http://www.java2s.com/Code/Java/File-Input-Output/Countfilesinadirectoryincludingfilesinallsubdirectories.htm](http://www.java2s.com/Code/Java/File-Input-Output/Countfilesinadirectoryincludingfilesinallsubdirectories.htm)

> ```
> public static int countFilesInDirectory(File directory) {
>   int count = 0;
>   for (File file : directory.listFiles()) {
>       if (file.isFile()) {
>           count++;
>       }
>       if (file.isDirectory()) {
>           count += countFilesInDirectory(file);
>       }
>   }
>   return count;
> } 
> ```

参考这个网站

它给出了完美的答案

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2016-08-25T13:07:17.053

```
import java.io.File;
import java.util.Scanner;

public class Test {

    public static void main(String[] args) {

     Scanner sc=new Scanner(System.in);  

     System.out.println("Enter the Path for Directory/Folder Name");  
     String Directory=sc.nextLine(); 
     System.out.println("Your Directory/folder is :"+Directory);

     File f = new File(Directory);

     int countFiles = 0;
     int countDirectory=0;
     for (File file : f.listFiles()) {
             if (file.isFile()) {
                     countFiles++;
             }
             if (file.isDirectory()) {
                     countDirectory++;
             }

     }
     System.out.println("Number of files in Directory : " + countFiles+"\nNumber of Sub-directories "+countDirectory);

    }

} 
```

# css - make a square width longer while keeping corners round

> ID：12616125
> 
> 赞同：0
> 
> 时间：2012-09-27T07:22:11.870
> 
> 标签：css, background, position, background-image

So I have a background image for example

![enter image description here](../Images/3e21f3b332e19d4cb8aa7a61b82377ba.png)

What I want to do is make the length longer but keep the rounded corners where they are. I know there is a css trick out there that does this, (they use it for iPhone web apps) but I cant find it.

Wondering if anyone knows how.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:33:42.550

...................... ***[.现场演示](http://tinkerbin.com/Is37fjpQ)***

嗨，现在很简单

**HTML**

```
<div></div> 
```

习惯了这个**css**

```
div{
width:100px;
  height:100px;
  background:red;
  border-radius:20px;
  border:solid 10px blue;
  box-shadow:20px 20px 0 0 rgba(0,0,0,0.4) inset;
-webkit-box-shadow:20px 20px 0 0 rgba(0,0,0,0.4) inset;
  -moz-box-shadow:20px 20px 0 0 rgba(0,0,0,0.4) inset;
} 
```

***[现场演示](http://tinkerbin.com/Is37fjpQ)***

* * *

和你想要的一样

***[演示](http://tinkerbin.com/3FnaH6pt)***

# perl - Find value in a html file using HTML::TreeBuilder

> ID：12616128
> 
> 赞同：0
> 
> 时间：2012-09-27T07:22:24.270
> 
> 标签：perl

Below is my data in html file. I want to find the values in the html file using "HTML::TreeBuilder"

```
<table id="stats" cellpadding="0" cellspacing="0">
<tbody>
    <tr class="row-even">
        <td class="stats_left">Main Domain</td>
        <td class="stats_right"><b>myabcab.com</b></td>
    </tr>
    <tr class="row-odd">
        <td class="stats_left">Home Directory</td>
        <td class="stats_right">/home/abc</td>
    </tr>
    <tr class="row-even">
        <td class="stats_left">Last login from</td>
        <td class="stats_right">22.32.232.223&nbsp;</td>
    </tr>
    <tr class="row-odd">
        <td class="stats_left">Disk Space Usage</td>
        <td class="stats_right">30.2 / &#8734; MB<br>
        <div class="stats_progress_bar">
        <div class="cpanel_widget_progress_bar" title="0%"
            style="position: relative; width: 100%; height: 100%; padding: 0px; margin: 0px; border: 0px">
        </div>
        <div class="cpanel_widget_progress_bar_percent" style="display: none">0</div>
        </div>
        </td>
    </tr>
    <tr class="row-even">
        <td class="stats_left">Monthly Bandwidth Transfer</td>
        <td class="stats_right">0 / &#8734; MB<br>
        <div class="stats_progress_bar">
        <div class="cpanel_widget_progress_bar" title="0%"
            style="position: relative; width: 100%; height: 100%; padding: 0px; margin: 0px; border: 0px">
        </div>
        <div class="cpanel_widget_progress_bar_percent" style="display: none">0</div>
        </div>
        </td>
    </tr>
</tbody>
  </table> 
```

How can I find "Disk Usage space" value using "HTML::TreeBuilder". I have many tds with same classes from above code,

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T07:41:07.010

查找`<td>`具有匹配内容的 ，在本例中为“磁盘空间使用情况”，然后查找下一个`<td>`。

一旦你有了一个元素树：

```
my $usage = $t->look_down(
    _tag => 'td',
    sub {
        $_[0]->as_trimmed_text() =~ /^Disk Space Usage$/
    }
)->right()->as_trimmed_text(); 
```

您可能希望将其包装在 eval 块中，以防`look_down`找不到匹配项。

HTML::Element 中的树导航方法是有效利用 HTML::TreeBuilder 的关键部分。

* * *

**Mohini 问道：“为什么这不起作用？”**

（我添加的格式）

```
use strict;
use warnings;
use HTML::TreeBuilder;

my $tree = HTML::TreeBuilder->new_from_file( "index.html");
my $disk_value; my $disk_space;

for ( $tree->look_down( _tag => q{tr}, 'class' => 'row-odd' ) ) {

    $disk_space = $tree->look_down(
         _tag => q{td},
         'class' => 'stats_left'
    )->as_trimmed_text;

    if ( $disk_space eq 'Home Directory' ) {
        $disk_value = $tree->look_down( _tag => q{td}, 'class' => 'stats_right' )
                           ->right()
                           ->as_trimmed_text();
    }

}

print STDERR "my home value is $disk_space : $disk_value\n"; 
```

`look_down`从您调用它的根节点开始，向下查看元素树（这些树倒置生长）并返回匹配节点列表或第一个匹配节点，具体取决于上下文。

由于所有向下查找的调用都在树上，因此您每次通过循环都会重复找到相同的节点。

您的循环应该看起来更像这样：

```
my %table_stuff;

for my $odd_row ( $tree->look_down( _tag => q{tr}, 'class' => 'row-odd' ) ) {

    $heading = $odd_row->look_down(
         _tag => q{td},
         'class' => 'stats_left'
    );

    $table_stuff{ $heading->as_trimmed_text() } = $heading->right()->as_trimmed_text();
} 
```

这将使用表元素填充散列。

如果您只想要一个值，则根本不要使用循环。 `look_down`已经充当循环。

```
my $heading = $t->look_down(
    _tag => 'td',
    sub {
        $_[0]->as_trimmed_text() =~ /^Home Directory$/
    }
);

my $value = $heading->right();

#  Now $heading and $value have HTML::Element nodes that you can do whatever you want with.

my $disk_value = $value->as_trimmed_text();
my $disk_space = $heading->as_trimmed_text(); 
```

# windows-phone-7 - Is there any option to repeat the background?

> ID：12616131
> 
> 赞同：0
> 
> 时间：2012-09-27T07:22:47.237
> 
> 标签：windows-phone-7, repeater, background-image, windows-phone

I am using a horizontal long bar in my application.

The size of screen varies upon the devices, so maintaining a size in resources is not a good practice.

Is it possible to repeat the image in horizontal axis in wp7.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T00:49:53.237

目前 Windows Phone 7 仅支持 480 x 800 的屏幕分辨率，尽管这在 Windows Phone 8 中会有所改变。为什么不直接调整背景大小呢？如果你真的想要，你可以在图像编辑器中创建一个重复的背景图像，将其设置为背景图像，并将拉伸设置为无。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:43:52.530

Silverlight 的 XAML 中没有重复行为（与支持它的 WPF 不同）。

不建议在电话上遵循这种方式。您应该在设计时创建一个更大的图像，其中包括平铺效果。你的应用会运行得更快，因为它会减少你的应用需要做的工作量。

# unix - Grep and split in unix

> ID：12616133
> 
> 赞同：-1
> 
> 时间：2012-09-27T07:22:49.327
> 
> 标签：unix

I need to first grep the exact line and then to capture the required value.

eg.

```
Total logical records skipped:        0
Total logical records read:           500
Total logical records rejected:       3
Total logical records discarded:      0 
```

I need to capture the value 500\. How can i do that?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:25:16.580

一种使用方式`awk`：

```
awk '/Total logical records read:/ { print $NF }' file.txt 
```

如果通过捕获，您的意思是存储为 shell 变量：

```
variable=$(awk '/Total logical records read:/ { print $NF }' file.txt) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:31:24.750

使用 grep + awk：

```
cat log.txt | grep read | awk '{print $ 5;}' 
```

或者只是 awk：

```
cat log.txt | awk '/read/ {print $5;}' 
```

查看这些示例：[Awk 介绍教程 – 7 个 Awk 打印示例](http://www.thegeekstuff.com/2010/01/awk-introduction-tutorial-7-awk-print-examples/)

# yii - 如何避免日期选择器显示默认日期（12/31/1969）？

> ID：12616142
> 
> 赞同：2
> 
> 时间：2012-09-27T07:23:22.680
> 
> 标签：yii

我已经尝试过`defaultDate=""`属性，但即使我为日期选择器提供了一些价值，它也没有显示？

这是我的日期选择器代码：

```
$this->widget('zii.widgets.jui.CJuiDatePicker', array(
    'model'=>$model,
    'attribute'=>'date_healed',
    'value'=>$date_healed,
    'name'=>'date_healed'.$i,
    // additional javascript options for the date picker plugin
    'options'=>array(
        //'autoSize'=>true,
        'defaultDate'=>"",                              
        'changeMonth'=>'true', 
        'changeYear'=>'true', 
        'yearRange'=>Yii::app()->params['YearRange'], 
    ),
    'htmlOptions'=>array('size'=>'10')
)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T09:21:46.150

确保从数据库表中删除默认值

如果你看到表结构......如果你看到这样，然后删除'0000-00-00'

```
....
`date_healed` date NULL DEFAULT '0000-00-00',
.... 
```

应该...

```
....
`date_healed` date NULL,
.... 
```

# c# - 尝试使用 Fez Connect Shield 连接到服务器时连接超时

> ID：12616150
> 
> 赞同：0
> 
> 时间：2012-09-27T07:23:59.610
> 
> 标签：c#, sockets, embedded, client

我正在使用带有[FEZ Connect Shield的](http://www.ghielectronics.com/catalog/product/261)[FEZ Domino](http://www.ghielectronics.com/catalog/product/133)。这是我尝试通过以太网端口连接到笔记本电脑上的服务器应用程序的代码：

```
private const string ServerIPAddress = "192.168.153.206";
private const int port = 2000;

WIZnet_W5100.Enable(SPI.SPI_module.SPI1, (Cpu.Pin)FEZ_Pin.Digital.Di10,(Cpu.Pin)FEZ_Pin.Digital.Di7, true);         

using(var clientSocket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp))
{
    IPHostEntry entry = Dns.GetHostEntry(ServerIPAddress);
    IPAddress ipAddress = entry.AddressList[0];
    IPEndPoint serverEndPoint = new IPEndPoint(ipAddress, port);

    Debug.Print("Connecting to server: " + serverEndPoint + ".");

    clientSocket.SendTimeout = 3000;
    clientSocket.Connect(serverEndPoint);

    Debug.Print("Connected to server");

    byte[] msg = Encoding.UTF8.GetBytes("Hello");
    clientSocket.Send(msg);
} 
```

在“clientSocket.Connect(serverEndPoint)”我得到这个异常：

```
An unhandled exception of type "System.Exception" occurred in GHIElectronics.NETMF.W5100.dll
Additional information: Timeout occurs during connection establishment 
```

当我将笔记本电脑连接到另一台笔记本电脑时，我可以 ping 服务器应用程序，它会响应，所以我相信问题不在服务器应用程序上。

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-02-17T09:24:55.717

我发现了问题，看来你必须给 fez connect shield 一个 IP 地址、子掩码和网关 :)

# javascript - jQuery/javascript 不适用于所有页面

> ID：12616152
> 
> 赞同：1
> 
> 时间：2012-09-27T07:24:11.607
> 
> 标签：javascript

所以我正在用一些 html/css/javascript 实验来涂鸦一个小网站，这样我就可以学习成为一个更好的网络程序员。我真的是一个设计师，在这方面完全是 n00b。

**问题：**

我在我的站点的多个页面上运行了一些 javaScript，它们像往常一样位于一个单独的 .js 文件中。然而，它似乎只在这个页面上工作：

[http://www.carlpapworth.com/htmlove/colors.html](http://www.carlpapworth.com/htmlove/colors.html)

而不是这些：

[http://www.carlpapworth.com/htmlove/arrows.html](http://www.carlpapworth.com/htmlove/arrows.html)

[http://www.carlpapworth.com/htmlove/fumbling.html](http://www.carlpapworth.com/htmlove/fumbling.html)

你看，心脏的大飞溅应该被这个函数隐藏：

```
$(document).ready(function() {  
    $('#reward').hide();
    $('#goal a').click(function(){
        $('#reward').fadeIn(1000);
    });
    $('.exit').click(function(){
        $('#collection1').css('color', '#ff63ff');
     });
}); 
```

对我来说，所有这些页面中的“头部”代码看起来完全一样，所以我无法找出问题所在。请帮忙！

**解决了！**这是编码，设置为 UTF-16！所以我只是按照 Jezen Thomas 在 Coda 中所说的那样更改了它！太感谢了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:52:13.960

正如 Jezen Thomas 所建议的，这可能是一个编码问题。尝试将文件重新保存为 UTF-8。

查看[有关 SO 的此主题以获取更多详细信息](https://stackoverflow.com/questions/5434748/strange-characters-in-javascript-causing-it-to-not-load)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:55:29.357

这是一个有趣的问题。我尝试将您的网站复制到我的机器上并在本地进行测试，一切正常。但是，我相信我已经发现了问题的根源。

[http://validator.w3.org/i18n-checker/check?uri=www.carlpapworth.com%2Fhtmlove%2Ffumbling.html#validate-by-uri+](http://validator.w3.org/i18n-checker/check?uri=www.carlpapworth.com%2Fhtmlove%2Ffumbling.html#validate-by-uri+)

您正在尝试使用元标记强制 UTF-8，`<meta charset='UTF-8' />`. 但是，w3 i18n 验证器检测到您的文件还包含[UTF-16LE 字节顺序标记 (BOM)](http://www.w3.org/International/questions/qa-byte-order-mark)。

w3 在[删除 BOM](http://www.w3.org/International/questions/qa-utf8-bom)时有这样的说法：

> 如果您有一个显示构成 UTF-8 签名的字符的编辑器，您可以手动删除它们。然而，有可能因为您没有看到它，所以 BOM 首先就在那里。
> 
> 检查您的编辑器是否允许您指定在保存期间是否添加或保留 UTF-8 签名。这样的编辑器提供了一种删除签名的方法，只需将文件读入然后再次保存即可。例如，如果 Dreamweaver 检测到 BOM，则另存为对话框将在文本“包括 Unicode 签名 (BOM)”旁边有一个复选标记。只需取消选中该框并保存即可。

我不确定它是否能解决您的问题，但我不喜欢您在 doctype 声明之前使用 HTML 注释的事实。请移至`<!DOCTYPE html>`文件顶部。此外，在 Coda 中，转到`Text > Encoding`并验证是否选择了 UTF-8。如果可以的话，显示不可见的字符并删除任何看起来可疑的东西。

# node.js - 什么是 Express.js？

> ID：12616153
> 
> 赞同：495
> 
> 时间：2012-09-27T07:24:16.060
> 
> 标签：node.js, express, redis

我是[Node.js](http://en.wikipedia.org/wiki/Node.js)的学习者。

1.  什么是[Express.js](https://en.wikipedia.org/wiki/Express.js)？
2.  Node.js 的目的是什么？
3.  为什么我们实际上需要 Express.js？使用 Node.js 对我们有什么用处？
4.  什么是[Redis](https://en.wikipedia.org/wiki/Redis)？Express.js 附带它吗？

* * *

## 回答 #1

> 赞同：425
> 
> 时间：2013-07-07T17:54:00.820

> 1) 什么是 Express.js？

[Express.js](https://en.wikipedia.org/wiki/Express.js)是一个[Node.js](http://en.wikipedia.org/wiki/Node.js)框架。它是目前最流行的框架（NPM 上最受关注的）。

![在此处输入图像描述](../Images/d4bdcd659816d9e38c4bceb4f95c6061.png).

它是围绕 Connect 中间件的配置和精细的简单性构建的。有些人将 Express.js 与[Ruby Sinatra](http://en.wikipedia.org/wiki/Sinatra_%28software%29)与笨重且固执己见的[Ruby on Rails](http://en.wikipedia.org/wiki/Ruby_on_Rails)进行比较。

> 2) Node.js 的目的是什么？

您不必一遍又一遍地重复相同的代码。Node.js 是一种具有 HTTP 模块的低级[I/O机制。](http://en.wikipedia.org/wiki/Input/output)如果您只使用 HTTP 模块，则必须重新实现许多工作，例如解析有效负载、cookie、存储会话（在内存或 Redis 中）**、**基于[正](http://en.wikipedia.org/wiki/Redis_%28data_store%29)则[表达式选择正确的路由模式。](http://en.wikipedia.org/wiki/Regular_expression)有了 Express.js，它就在那里供您使用。

 **> 3) 为什么我们实际上需要 Express.js？使用 Node.js 对我们有什么用处？

第一个答案应该回答你的问题。如果不是，则尝试用普通的 Node.js（即仅使用核心模块）然后在 Express.js 中编写一个小型[REST API 服务器。](http://en.wikipedia.org/wiki/Representational_State_Transfer)后者将使您的时间和代码行数减少 5-10 倍。

> 什么是 Redis？Express.js 附带它吗？

Redis 是一种快速持久的键值对存储。您可以选择使用它来存储 Express.js 的会话，但您不需要这样做。默认情况下，Express.js 具有用于会话的内存存储。Redis 也可用于排队作业，例如电子邮件作业。

查看[我的关于使用 Express.js 的 REST API 服务器的教程](http://www.webapplog.com/intro-to-express-js-simple-rest-api-app-with-monk-and-mongodb/)。

> MVC 但不是单独的

Express.js 本身**并不是**一个模型-视图-控制器框架。您需要将自己的对象关系映射库，例如用于 MongoDB 的 Mongoose、用于 SQL 数据库的 Sequelize ( [http://sequelizejs.com](http://sequelizejs.com) )、用于许多数据库的 Waterline ( [https://github.com/balderdashy/waterline](https://github.com/balderdashy/waterline) ) 到堆。

> 备择方案

其他需要考虑的 Node.js 框架（[https://www.quora.com/Node-js/Which-Node-js-framework-is-best-for-building-a-RESTful-API](https://www.quora.com/Node-js/Which-Node-js-framework-is-best-for-building-a-RESTful-API)）：

更新：我整理了这个资源，帮助人们选择 Node.js 框架： http: [//nodeframework.com](http://nodeframework.com)

更新 2：我们向 nodeframework.com 添加了一些 GitHub 统计信息，因此现在您可以在一页上比较 30 多个框架的社交证明级别（GitHub 星级）。

![在此处输入图像描述](../Images/5baafc108a7d0c320d58a4f6efa7f736.png)

全栈：

*   [http://sailsjs.org](http://sailsjs.org)

*   [http://derbyjs.com/](http://derbyjs.com/)

只是 REST API：

*   [http://mcavage.github.io/node-restify/](http://mcavage.github.io/node-restify/)

Ruby on Rails 像：

*   [http://railwayjs.com/](http://railwayjs.com/)

*   [http://geddyjs.org/](http://geddyjs.org/)

西纳特拉喜欢：

*   [http://expressjs.com/](http://expressjs.com/)

其他：

*   [http://flatironjs.org/](http://flatironjs.org/)

*   [https://github.com/isaacs/npm-www](https://github.com/isaacs/npm-www)

*   [http://frisbyjs.com/](http://frisbyjs.com/)

中间件：

*   [http://www.senchalabs.org/connect/](http://www.senchalabs.org/connect/)

静态站点生成器：

*   [http://docpad.org](http://docpad.org)

*   [https://github.com/jnordberg/wintersmith](https://github.com/jnordberg/wintersmith)

*   [http://blacksmith.jit.su/](http://blacksmith.jit.su/)

*   [https://github.com/felixge/node-romulus](https://github.com/felixge/node-romulus)

*   [https://github.com/caolan/petrify](https://github.com/caolan/petrify)

* * *

## 回答 #2

> 赞同：295
> 
> 时间：2012-09-27T07:27:33.643

这过于简化了，但是[Express.js](https://en.wikipedia.org/wiki/Express.js)之于[Node.js](http://en.wikipedia.org/wiki/Node.js)就像[Ruby on Rails](http://en.wikipedia.org/wiki/Ruby_on_Rails)或[Sinatra](http://en.wikipedia.org/wiki/Sinatra_%28software%29)之于[Ruby](http://en.wikipedia.org/wiki/Ruby_%28programming_language%29)一样。

Express 3.x 是一个轻量级的 Web 应用程序框架，可帮助您将 Web 应用程序组织成服务器端的 MVC 架构。您可以为您的模板语言使用多种选择（例如[EJS](https://ejs.co/)、[Jade](http://jade-lang.com/)和[Dust.js](http://akdubya.github.io/dustjs/)）。

然后，您可以使用[MongoDB](http://en.wikipedia.org/wiki/MongoDB)之类的数据库和[Mongoose](https://en.wikipedia.org/wiki/Mongoose_%28web_server%29)（用于建模）为您的 Node.js 应用程序提供后端。Express.js 基本上可以帮助您管理一切，从路由到处理请求和视图。

Redis 是一个键/值存储——通常用于 Node.js 应用程序中的会话和缓存。你可以用它做更多的事情，但这就是我使用它的目的。我将 MongoDB 用于更复杂的关系，例如 line-item <-> order <-> 用户关系。有些模块（尤其是 connect-redis）可以与 Express.js 一起使用。您需要在服务器上安装[Redis](http://en.wikipedia.org/wiki/Redis_%28data_store%29)数据库。

这是 Express 3.x 指南的链接：[https ://expressjs.com/en/3x/api.html](https://expressjs.com/en/3x/api.html)

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2016-04-12T11:44:26.057

1.  什么是 Express.js？

> Express.js 是一个 Node.js Web 应用程序服务器框架，专为构建单页、多页和混合 Web 应用程序而设计。它是 node.js 的事实上的标准服务器框架。

基于 Express 构建的框架。

几个流行的 Node.js 框架是基于 Express 构建的：

> LoopBack：高度可扩展的开源 Node.js 框架，用于快速创建动态的端到端 REST API。
> 
> Sails：用于 Node.js 的 MVC 框架，用于构建实用的生产就绪应用程序。
> 
> Kraken：安全且可扩展的层，通过提供结构和约定来扩展 Express。
> 
> MEAN：自以为是的全栈 JavaScript 框架，可简化和加速 Web 应用程序开发。

2.  Node.js 的目的是什么？
3.  为什么我们实际上需要 Express.js？使用 Node.js 对我们有什么用处？

Express 添加了非常简单的路由和对 Connect 中间件的支持，允许许多扩展和有用的功能。

例如，

*   想要会议？在那里
*   想要 POST 正文/查询字符串解析？在那里
*   想要通过玉、小胡子、ejs 等轻松模板？在那里
*   想要优雅的错误处理，不会导致整个服务器崩溃？

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2015-04-30T21:46:36.410

1.  Express.js 是 Node.js 的模块化 Web 框架
2.  它用于更轻松地创建 Web 应用程序和服务
3.  Express.js 简化了开发，使编写安全、模块化和快速的应用程序变得更加容易。您可以在普通的旧 Node.js 中完成所有这些操作，但一些错误可能（并且将会）浮出水面，包括安全问题（例如，未正确转义字符串）
4.  Redis 是一种内存数据库系统，以其快速的性能而闻名。不，但您可以使用 Redis 客户端将它与 Express.js 一起使用

我不能比这更简洁了。对于您的所有其他需求和信息，Google 是您的朋友。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2016-08-29T21:37:19.540

ExpressJS 是 NodeJS**之上**的基本 Web 应用程序框架。

它可用于快速构建 WebApp、RESTFUL API 等。

支持多种模板引擎，如 Jade、EJS。

ExpressJS 仅保留极简功能作为核心功能，因此默认不支持 ORM 或 DB。但只要稍加努力，expressjs 应用程序就可以与不同的数据库集成。

有关创建 ExpressJS 应用程序的入门指南，请查看以下链接：

[ExpressJS 入门教程](https://rishabh.io/recipes/getting-started-with-express.html)

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2017-02-15T09:29:37.423

Express 是 Node 的一个模块框架，您可以将其用于基于服务器的应用程序，这些应用程序将“侦听”来自客户端的任何输入/连接请求。当您在 Node 中使用它时，它只是说您正在请求使用 Node 模块中的内置 Express 文件。

Express 是许多以 NodeJS 为后端的 Web 应用程序的“骨干”。据我所知，它的主要资产是处理两个主机之间“交互”服务的路由系统的天意。它有很多替代品，例如 Sails。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-09-11T03:57:52.650

Express.js 是用于 Node 的框架，它最常用作 Node js 的 Web 应用程序。

[以下是有关如何使用 express https://www.youtube.com/watch?v=QEcuSSnqvck](https://www.youtube.com/watch?v=QEcuSSnqvck)快速设置节点应用程序的视频链接

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2021-09-29T14:58:04.973

它的力量的一个完美的例子

```
 router.route('/recordScore').post(async(req, res) => {   

  let gold_nation = req.body.gold && req.body.gold.nationality;
  let silver_nation = req.body.silver && req.body.silver.nationality;
  let bronze_nation = req.body.bronze && req.body.bronze.nationality;
  let competition_id = req.body.competition_id;

  console.log(gold_nation)
  console.log(silver_nation)
  req.body.gold && await country.updateOne({"flag" : gold_nation}, { $inc: { gold: 1 } });

  req.body.silver && await country.updateOne({"flag" : silver_nation}, { $inc: { silver: 1 } });

  req.body.bronze && await country.updateOne({"flag" : bronze_nation}, { $inc: { bronze: 1 } });
  console.log(competition_id)
  //await competition.updateOne({"_id" : competition_id}, {$set: {recorded : true}});
//!! Uncomment this and change model/competition.ts set recorer to recorded
// this is commented out so you can test adding medals for every case and not creating competitions every time
  res.status(200).json("Success");

});

  async record(){
    let index = this.competitions.findIndex(e => e._id == this.selectedCompetition);
    let goldIndex = this.competitors.findIndex(e => e._id == this.goldWinner);
    let silverIndex = this.competitors.findIndex(e => e._id == this.silverWinner);
    let bronzeIndex = this.competitors.findIndex(e => e._id == this.bronzeWinner);

    console.log(this.competitors[goldIndex]);
    console.log(this.competitors[1-goldIndex]);

    this.sportService.recordCompetition(this.competitors[goldIndex], 
                                    this.competitors[1-goldIndex],
                                    null,
                                    this.competitions[index]).subscribe((m:string) => this.reset(m))

    }

    reset(message: string){
      this.statusMessage = message;
        if(message == "Success"){

          this.competitions = this.competitions.filter( (c) => c._id != this.selectedCompetition);
          this.goldWinner = '';
          this.silverWinner = '';
          this.bronzeWinner = '';
        }

        setTimeout(()=>{                          
          this.statusMessage = '';
        }, 3000);

    }

router.route('/registerCompetitor').post(async(req, res) => {   

  //! PROVJERI DA LI JE FORMIRANJE TAKMICENJA ZAVRSENO

  let competitors = req.body.map( c => ({
    name: c.name,
    gender: c.gender,
    nationality: c.nationality,
    sport: c.sport,
    disciplines: c.disciplines
  }));
  console.log(competitors)
  await country.updateOne({"flag" : competitors[0].nationality}, { $inc: { numberOfCompetitors: competitors.length } });

  await   competitor.collection
                                    .insertMany(competitors)
                                    .then( u => {
                                      res.status(200).json("Ok")
                                    })
                                    .catch(err =>{ res.status(400).json("notOk");
                                  });

}); 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2017-05-22T05:52:28.160

Express.js 由 TJ Holowaychuk 创建，现在由社区管理。它是 node.js 中最流行的框架之一。Express 还可用于开发各种产品，例如 Web 应用程序或 RESTful API。更多信息请阅读 expressjs.com 官方网站。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-04-20T18:28:55.240

ExpressJS 是一个 Web 应用程序框架，它为您提供一个简单的 API 来构建网站、Web 应用程序和后端。使用 ExpressJS，您无需担心低级协议、流程等。适用于 Node.js 的快速、独立、极简 Web 框架

Pug（以前称为 Jade）是一种用于编写 HTML 模板的简洁语言。它 -</p>

生成 HTML 支持动态代码 支持可重用性 (DRY) 它是 Express 中最流行的模板语言之一。**

# oracle - Spring 3 xml 解析器问题 -XSDException

> ID：12616157
> 
> 赞同：0
> 
> 时间：2012-09-27T07:24:30.123
> 
> 标签：oracle, spring, tomcat, spring-mvc, xml-parsing

我有一个使用 spring 3.0 rest mvc 的 Web 应用程序。该应用程序在我的本地机器上运行得非常好。但是当在服务器（tomcat 6和java 5）中部署战争时，会发生以下错误

> 引起：oracle.xml.parser.schema.XSDException：重复定义：'identifiedType'

我用谷歌搜索，发现这个问题与 xmlparserv2.jar 有关，可以通过强制应用程序使用 apache xerces jar 来解决这个问题。

但我还没有找到任何解释如何解决这个问题的链接。我不想在服务器级别进行更改。

我们可以在应用程序级别解决这些问题吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T15:32:22.790

通过在 POm 文件中包含 xerces jar 解决了我的问题

# javascript - 谷歌浏览器扩展中的 JS 模板（清单 v2）

> ID：12616158
> 
> 赞同：4
> 
> 时间：2012-09-27T07:24:33.007
> 
> 标签：javascript, templates, google-chrome, google-chrome-extension

使用 google chrome manifest 2.0，我在 javascript 上的模板引擎不起作用。我使用了 Jquery 模板，现在无法升级清单，因为不推荐使用*new Function*和*eval*。

是否有任何方式使用带有清单 2.0 的模板，或者只有一种方式在 javascript 中创建 dom 对象？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T16:40:45.157

请参阅与沙盒相关[的扩展文档](https://developer.chrome.com/trunk/extensions/sandboxingEval.html)`eval`。甚至还有一个如何使用 Handlebars 模板库执行此操作的[示例（可能需要一段时间才能加载）。](https://developer.chrome.com/extensions/samples#sandboxed-frame)

简而言之，您在沙盒 iframe 中运行模板引擎，然后使用[`window.postMessage`](https://developer.mozilla.org/en/DOM/window.postMessage)将结果传输回您的扩展程序。

# android - 使用 URL 图像的自定义 ListView 适配器获取错误“StrictMode”

> ID：12616159
> 
> 赞同：0
> 
> 时间：2012-09-27T07:24:36.537
> 
> 标签：android, listview, android-3.0-honeycomb, android-strictmode

我正在使用此自定义适配器来显示 youtube 缩略图。

```
public class MyMedyaAdapter extends SimpleAdapter {
    Context context;
    int layout;
    List<? extends Map<String, ?>> data;
    String[] from;
    int[] to;

    String resimURL = "http://img.youtube.com/vi/{0}/0.jpg";

    public MyMedyaAdapter(Context context, List<? extends Map<String, ?>> data, int resource, String[] from, int[] to) {
        super(context, data, resource, from, to);
        this.context = context;
        this.layout = resource;
        this.data = data;
        this.from = from;
        this.to = to;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        View rowView = inflater.inflate(layout, parent, false);

        TextView metin = (TextView) rowView.findViewById(R.id.row_medya_text);

        String baslik = data.get(position).get(from[0]) + "";
        baslik = baslik.replace(".pdf", "");

        metin.setText(baslik);

        if (from.length > 1) {
            final ImageView resim = (ImageView) rowView.findViewById(R.id.row_medya_image);

            final int p2 = position;

            String resimID = data.get(p2).get(from[1])+"";

            String rowImage = resimURL.replace("{0}", resimID);
            try {
                Bitmap bitmap = BitmapFactory.decodeStream((InputStream)new URL(rowImage).getContent());
                resim.setImageBitmap(bitmap);

            } catch (Exception e) {
                // TODO: handle exception
            }
        }

        return rowView;
    }
} 
```

使用此代码将适配器添加到列表视图；

```
public class VideoThered extends AsyncTask<Void, Void, MyMedyaAdapter> {

        @Override
        protected MyMedyaAdapter doInBackground(Void... params) {

            List<HashMap<String, String>> response = new ArrayList<HashMap<String, String>>();

            try {
                                //JSON request
                response = new JsonHelper().GetVideoEntitys();
            } catch (Exception e) {
                response = null;
            }

            if (response != null) {
                adapter = new MyMedyaAdapter(ctx, response, R.layout.row_medya, from, to);
            }
            else
            {
                adapter = null;
            }
            return adapter;
        }

        @Override
        protected void onPostExecute(MyMedyaAdapter result) {
            if (result != null) {
                                //StrictMode$AndroidBlockGuardPolicy.onNetwork() error with this line on honeycomb
                listVideolar.setAdapter(adapter);
            }
        }

    } 
```

我收到 /StrictMode$AndroidBlockGuardPolicy.onNetwork() 错误。

我怎样才能设法显示来自网络的行图像而不出现此错误？

我正在使用来自 AsyncTask 的列表视图主要数据。在这个数据列表中，每个项目都有一个唯一的 youtube 视频 ID。使用此 ID，我正在从网络上获取视频缩略图。但是在我的自定义适配器上没有使用 AsyncTask。我知道这就是问题所在。但是我怎样才能管理我的自定义适配器来使用 AsyncTask？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T07:35:55.047

您收到错误是因为您在 UI 线程中进行网络访问。这被认为是不好的，因为网络访问需要很长时间，因此会阻塞 UI。

为了解决这个问题，您可以编写一个`AsyncTask`从网络中提取数据的`doInBackground`方法，然后`onPostExecute`用位图/可绘制对象填充视图。我认为 Android 文档有一个适用于这种情况的示例，但我现在找不到。

您还可以从我的 Zwitscher 应用程序中查看此[源代码片段](https://github.com/pilhuhn/ZwitscherA/blob/master/src/de/bsd/zwitscher/OneTweetActivity.java#L934)；`DownloadUserImageTask`url 是从传递的 User 对象中检索的。然后将图片添加到视图中

```
userPictureView.setImageBitmap(result); 
```

# asp.net - 在同一页面上使用两个 Telerik RadAjaxPanel 控件

> ID：12616160
> 
> 赞同：0
> 
> 时间：2012-09-27T07:24:47.440
> 
> 标签：asp.net, telerik

是否可以在同一页面上并排使用两个单独的 RadAjaxPanel 控件？

我在同一页面中使用了两个单独的 RadAjaxPanel。一个面板包含一个文本框和一个按钮。另一个包含一个 RadGrid 控件。当我单击面板 #1 中的按钮时，第二个面板消失了。我在按钮单击事件中放置了 visible=True 。

ASPX 页面

```
 <div>
        <telerik:RadScriptManager ID="RadScriptManager1" runat="server">
        </telerik:RadScriptManager>

        <telerik:RadAjaxLoadingPanel ID="RadAjaxLoadingPanel1" runat="server" Skin="Default">
        </telerik:RadAjaxLoadingPanel>
        <telerik:RadAjaxPanel ID="RadAjaxPanel1" runat="server" LoadingPanelID="RadAjaxLoadingPanel1" Height="200px" Width="300px">
         <table><tr><td><asp:Label ID="Label1" runat="server" Text="Name"></asp:Label> </td>
        <td><%--<telerik:RadTextBox ID="RadTextBox1" runat="server">
            </telerik:RadTextBox>--%><asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>

            </td></tr>
            <tr>
                    <td>
                    </td>
                    <td>
                        <telerik:RadButton ID="RdbtnAdd" runat="server" Text="Submit" CausesValidation="true" 
                            ValidationGroup="AddButtonValidate" OnClick="RdbtnAdd_Click"
                            Width="75px">
                        </telerik:RadButton>
                    </td>
                </tr>
         </table>
        </telerik:RadAjaxPanel>
        <telerik:RadAjaxLoadingPanel ID="RadAjaxLoadingPanel2" runat="server" Skin="Default">
        </telerik:RadAjaxLoadingPanel>

        <telerik:RadAjaxPanel ID="RadAjaxPanel2" runat="server" LoadingPanelID="RadAjaxLoadingPanel2" Height="200px" Width="300px">
         <table><tr><td><asp:Label ID="Label2" runat="server" Text="Name"></asp:Label> </td>
        <td><%--<telerik:RadTextBox ID="RadTextBox2" runat="server">
            </telerik:RadTextBox>--%><asp:TextBox ID="TextBox2" runat="server"></asp:TextBox>
         </table>
        </telerik:RadAjaxPanel>
    </div> 
```

代码背后：

```
 protected void RdbtnAdd_Click(object sender, EventArgs e)
        {
            Session["name"] = TextBox1.Text;
            //RadAjaxPanel2.Visible = true;
            TextBox2.Text = Session["name"].ToString();
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T19:33:26.093

您可以尝试将 ajax 管理器添加到您的页面。当您单击按钮时，这将强制 ajax 回发。

```
<telerik:RadAjaxManager ID="RadAjaxManager1" runat="server" >
    <AjaxSettings>
        <telerik:AjaxSetting AjaxControlID="RdbtnAdd">
            <UpdatedControls>
                <telerik:AjaxUpdatedControl ControlID="RadAjaxPanel1" LoadingPanelID="RadAjaxLoadingPanel1" />
                <telerik:AjaxUpdatedControl ControlID="RadAjaxPanel2" LoadingPanelID="RadAjaxLoadingPanel2" />
            </UpdatedControls>
        </telerik:AjaxSetting>
    </AjaxSettings>
</telerik:RadAjaxManager> 
```

或者，当您单击按钮时，您可以尝试在第二个面板上强制执行 ajax 回发。所以在你的按钮点击事件中添加......

```
ScriptManager.RegisterStartupScript(Page, this.GetType, "updatePanel", "$find('" + RadAjaxPanel2.ClientID + "').ajaxRequestWithTarget('" + RadAjaxPanel2.UniqueID + "', '');", true) 
```

这两种解决方案都应该有效。第二个只需要您的按钮单击事件中的一行，所以我会先尝试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T12:22:57.920

是的，您可以拥有任意数量的 RadAjaxpanel 控件。但是请注意，RadAjaxPanel 的功能与 UpdatePanel 不同。一次只有一个 RadAjaxPanel 回帖；但是，您可以调用客户端 API ajaxRequest("arg"); 刷新其他方法。我从来没有遇到过一个面板消失的问题......我们可能需要查看一些代码才能进行调试。

您还可以使用 RadAjaxManager（或代理）来定义应在一个控件导致回发时更新的 AJAX 控件。这样，您可以在单击按钮时将更新链接到所有更新。

# filesize - Windows 属性差异上的字符/字节数和文件大小

> ID：12616164
> 
> 赞同：1
> 
> 时间：2012-09-27T07:24:53.213
> 
> 标签：filesize, word-count

我有一个通过 PHP 脚本生成的 txt 文件。当我检查我的脚本时，文件字符数正确显示为 3999 个字节/字符。

当我通过复制和粘贴到 MS-Word 中检查相同的内容时，它仍然显示 3999 个字符/字节（带空格）。

但是，当我查看同一个 txt 文件的 windows 属性时，它显示的大小为 4.17 KB（4,278 字节）。

我只是想知道，当我看到它时，差异如此之大的原因可能是什么。如果有人能澄清这一点，那就太好了。

提前致谢。

# excel - VBA单击Excel工作表中的按钮

> ID：12616165
> 
> 赞同：3
> 
> 时间：2012-09-27T07:25:05.973
> 
> 标签：excel, vba

我需要单击 Excel 工作表上的按钮（FormControl）并通过 VBA 代码运行分配给它的宏。

我尝试了这里的建议 [https://stackoverflow.com/questions/130166/clicking-command-button-from-other-workbook](https://stackoverflow.com/questions/130166/clicking-command-button-from-other-workbook) 但它对我不起作用。

有没有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2015-10-26T20:01:08.880

这样做的方法相当简单，即使它没有真正记录在案。

```
CommandButton1.Value = True 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-27T07:33:11.353

你真的试过了吗？因为你想要那里的[建议](https://stackoverflow.com/a/130325/11683)。

```
Application.Run Activesheet.Shapes(1).OnAction 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-20T06:14:00.947

如果在工作表中。我过去用过这个，它奏效了！

```
Sheet1.CommandButton1_Click 
```

别的

```
Sheets("Sheet Name").CommandButton1_Click 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-01-11T20:22:36.420

在我的例子中，我需要添加一个按钮，比如在 Sheet1 上，以在 Sheet2 上调用 CommandButton1 的代码。首先，我必须删除 CommandButton1_Click() 前面的“Private”语句。然后我必须在调用 Worksheets("Sheet2").CommandButton1_Click 之前调用 Worksheets("Sheet2").Activate。然后它起作用了。然后，您可以添加 Worksheets("Sheet1").Activate 让您回到原来的工作表。所以：

```
Private Sub CommandButton1_Click()
Worksheets("Sheet2").Activate
Worksheets("Sheet2").CommandButton1_Click
Worksheets("Sheet1").Activate
End Sub 
```

# wordpress - 为自定义 Wordpress 主题添加菜单支持

> ID：12616166
> 
> 赞同：4
> 
> 时间：2012-09-27T07:25:06.627
> 
> 标签：wordpress, wordpress-theming

我正在创建我的第一个 Wordpress 主题，并且正在为菜单支持而苦苦挣扎：

**我在functions.php中添加了一个自定义菜单并将其实现到我的header.php中，如下所示，但管理区域中的菜单选项没有显示！**

```
# functions.php

<?php

    add_theme_support( 'menus' );

    add_action( 'init', 'register_my_menus' );

    function register_my_menus() {
        register_nav_menus(
            array(
                'primary-menu' => __( 'Primary Menu' ),
                'secondary-menu' => __( 'Secondary Menu' )
            )
        );
    }

?>

# header.php
# [...]
    <?php wp_nav_menu( array( 'theme_location' => 'primary-menu' ) ); ?>
# [...] 
```

我的设置：

*   WordPress 版本 3.4.2
*   MAMP 开发环境
*   没有插件

其他信息：

*   菜单选项显示在其他模板中
*   菜单在页面上正确呈现

我在这里想念什么？

* * *

## 编辑#1

我什至看不到管理菜单中的菜单选项（[就像这里！](http://i.stack.imgur.com/0Gb6N.jpg)）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-27T08:36:29.137

几件事 - 你不需要 add_theme_support(); 也不是 add_action('init', 'register_my_menus')

直接调用 register_nav_menus 函数，如下所示：

```
register_nav_menus(
    array(
    'primary-menu' => __( 'Primary Menu' ),
    'secondary-menu' => __( 'Secondary Menu' )
    )
); 
```

如果您愿意，还可以检查该功能是否存在。但是，如果它仅用于您自己的主题并且您知道它存在，那么它并不是真正需要的。

```
if ( function_exists( 'register_nav_menus' ) ) {
    ...
} 
```

# multithreading - Visual C++ 2012 中的线程池

> ID：12616171
> 
> 赞同：0
> 
> 时间：2012-09-27T07:25:18.580
> 
> 标签：multithreading, visual-c++, threadpool

使用 Visual Studio 2012 在本机 c++ 中创建 ThreadPool 有哪些选择？Visual Studio 中是否有任何内置类型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:29:33.237

[线程池 API](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686766%28v=vs.85%29.aspx)可能有您正在寻找的信息。具体来说[CreateThreadpool 函数](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682456%28v=vs.85%29.aspx)就是创建线程池的函数。可以在[此处](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686756%28v=vs.85%29.aspx)找到原始线程池 api (Windows 2000) 的文档。

# ruby - 如何获取 ActiveRecord 3.x 中的所有范围列表

> ID：12616175
> 
> 赞同：10
> 
> 时间：2012-09-27T07:25:41.543
> 
> 标签：ruby, ruby-on-rails-3, activerecord

我正在使用带有 Rails 3 的 ActiveRecord。

我在模型中定义了范围。如何获取该模型的所有范围的列表？

以前我可以使用`Model.scopes`

或者我可以检查范围是否定义？就像是`Model.scope_defined?("scope_name")`

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-27T07:28:10.387

您可以通过这种方式查看是否定义了范围

```
Model.send(:valid_scope_name?, :scope_name) 
```

如果它确实存在，它会返回`true`，如果它不存在`nil`。

如果您检查 的源代码[`valid_scope_name?`](http://apidock.com/rails/ActiveRecord/NamedScope/ClassMethods/valid_scope_name?)，您会发现您可以使用它进行测试`respond_to?`，然后避免使用日志记录部分。

```
Model.respond_to?(scope_name, true) 
```

# objective-c - Objective C - 如何在静态单元格中搜索

> ID：12616181
> 
> 赞同：0
> 
> 时间：2012-09-27T07:25:53.740
> 
> 标签：objective-c, search, static, cells

我正在 XCode 中制作应用程序，我需要帮助实现搜索栏，以便它可以在`TableView`. 但是`TableView`没有原型单元，而是静态单元，我只能找到原型单元的教程。

我什至不知道是否可以在静态单元格中进行搜索。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:34:28.153

无论原型还是静态，都需要使用自定义单元格。子类 UITableViewCell 以创建您的搜索字段等。对于静态单元格，您不需要实现 cellForRowAtIndexPath:，它会自动加载。

# python - 基准 Python 程序

> ID：12616182
> 
> 赞同：3
> 
> 时间：2012-09-27T07:25:55.313
> 
> 标签：python, python-3.x

我是 Python 新手。这是我的第一个解释语言。到目前为止，我曾经学习过Java。因此，当 Java 程序第一次运行时，它的执行速度比下一次慢。原因是缓存。

```
import time

def procedure():
    time.sleep(2.5)

# measure process time
t0 = time.clock()
procedure()
print (time.clock() - t0), "seconds process time" 
```

我尝试了几次。结果总是相等的。那么，没有现金干扰并且基准非常可靠，我是对的吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T10:54:03.487

可以进行这样的基准测试，对于运行“长时间”且相当恒定的函数来说，准确性已经足够好了，就像在你的例子中一样。但是有一些陷阱：对于“快速”函数（如空函数），您会遇到精度限制。对于执行时间不同的函数（例如 net i/o），您必须多次测量才能找到最小/最大/平均运行时间。除此之外，最好使用的时钟在平台上有所不同：在 Windows 上，首选 time.clock()，在 *nix 上首选 time.time()。

幸运的是，有一个模块可以处理所有这些`timeit`：

```
>>> import time
>>> def procedure():
    pass

>>> def time_this(f):
    t0=time.clock()
    f()
    print((time.clock() - t0), "seconds process time")

>>> time_this(procedure)
1.9555558310457855e-06 seconds process time
>>> time_this(procedure)
1.9555557742023666e-06 seconds process time
>>> time_this(procedure)
1.9555557742023666e-06 seconds process time
>>> import timeit
>>> timeit.Timer(procedure).timeit()
0.09460783423588737
>>> timeit.Timer(procedure).repeat()
[0.09791419021132697, 0.09721947901198291, 0.09598943441130814] 
```

你可能想看看它的来源。或者只是使用它;）

至于缓存：python 代码在第一次使用时会编译为字节码。默认情况下会缓存此字节码 - 但只要您不在`import`函数中执行 s，这不会影响您的基准测试。

# .htaccess - CakePHP 2.x .htaccess：获取 500 内部服务器错误

> ID：12616183
> 
> 赞同：1
> 
> 时间：2012-09-27T07:25:59.887
> 
> 标签：.htaccess, cakephp, internal-server-error

**问题解决了**

1.  将所有文件夹和文件权限更改为 755
2.  所有具有绝对路径的 .htaccess 文件 (/app/webroot/)

* * *

我将我的 CakePHP 2.x 网站移到了另一个主机 (cyon.ch)。现在我收到 500 内部服务器错误。我尝试了所有推荐给 1and1 主机的固定器，但它们不起作用。

该错误来自 /app/webroot/.htacces 文件，因为其他文件似乎工作。如果我尝试从 webroot/img 目录调用图像，它工作正常（www.myDomain.ch/img/myPicture.jpg），但不是 index.php 文件。

```
AddType text/x-component .htc

<IfModule mod_rewrite.c>
    RewriteEngine On

    # FORCE WWW
    RewriteCond %{HTTP_HOST} !^www\.myDomain\.ch$
    RewriteRule ^(.*)$ http://www.myDomain.ch/$1 [R=301,L]

    # REMOVE TRAILING SLASHES
    RewriteRule ^(.*)/$ http://%{HTTP_HOST}/$1 [R=301,L]

    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule> 
```

“FORCE WWW”和“REMOVE TRAILING SLASHED”也可以，如果我输入 myDomain.ch/，我会重定向到 www.myDomain.ch。

我的域指向 /path/to/root/public_html。这也是 cake app 文件夹所在的文件夹。

任何想法？

提前致谢！

编辑：我在错误日志中发现了这个错误（index.php 的权限设置为 755）

```
SoftException in Application.cpp:256: File "/home/myUsername/public_html/app/webroot/index.php" is writeable by group 
```

# html - 已禁用的按钮在移动 Safari 上仍处于活动状态

> ID：12616184
> 
> 赞同：2
> 
> 时间：2012-09-27T07:26:05.140
> 
> 标签：html, button, mobile-safari, javascript

为什么使用移动 Safari 禁用按钮只会使它们变灰而不是实际禁用它们？

```
myButton.disabled = true;
myButton.setAttribute("disabled", "disabled"); 
```

上面两个都将按钮变灰，但仍然可以触发其 ontouch 事件。（它在所有桌面浏览器中都按预期工作）。

我在这里犯了某种白痴错误，还是苹果刚刚决定不应该在他们的触摸设备上禁用元素？也许我拿错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:33:28.890

```
buttons = document.getElementsByTagName("button")
buttons[0].setAttribute("disabled", true); 
```

或所有按钮元素禁用属性

```
for (var i = 0; i < button.length; i++) (function(button) {

    button.setAttribute("disabled", true);
}(button[i])) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:31:20.800

点击页面的其他区域如果按钮在点击时禁用，则可能是按钮的悬停效果。

# android - 清单中活动样式更改时选项菜单样式更改

> ID：12616192
> 
> 赞同：3
> 
> 时间：2012-09-27T07:26:37.453
> 
> 标签：android

最初在清单中，当我没有在活动标签内设置任何主题时，我的选项菜单看起来像这样，这是默认的..

但是一旦我`android:theme="@android:style/Theme.NoTitleBar"` 在清单文件的活动标签中设置了这个主题，选项菜单样式就会改变。

添加后的截图`android:theme="@android:style/Theme.Holo.NoActionBar.Fullscreen"`

![在此处输入图像描述](../Images/5da8848da3d3b7321f6d7491921f2365.png) 为什么会发生这种情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:36:39.820

试试这个。

```
<activity
        android:theme="@android:style/Theme.Holo.NoActionBar.Fullscreen" > 
```

在此处查找[具有向后兼容性的 Android Holo 主题](http://www.chilisapps.com/blog/2012/04/17/support-holo-and-older-themes-in-android/)

**`android:showAsAction="ifRoom"`在 menu.xml 文件中**编辑**尝试。看看这个[更多](http://www.intertech.com/Blog/Post/Android-Action-Bar-from-the-Options-Menu.aspx)**

# c++ - Qt - 如何使我的 QTableView 的特定列不可编辑？

> ID：12616195
> 
> 赞同：10
> 
> 时间：2012-09-27T07:26:58.077
> 
> 标签：c++, qt, delegates, qtableview, qt4.7

我有`QTableView`4 行和 4 列，每列代表他们的数据。默认情况下`QTableView`是可编辑的。现在我想在我的`QTableView`.

我该怎么做？

提前致谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-10-08T14:49:49.360

类似的事情也可以做到：

```
class NotEditableDelegate : public QItemDelegate
{
    Q_OBJECT
public:
    explicit NotEditableDelegate(QObject *parent = 0)
        : QItemDelegate(parent)
    {}

protected:
    bool editorEvent(QEvent *event, QAbstractItemModel *model, const QStyleOptionViewItem &option, const QModelIndex &index)
    { return false; }
    QWidget* createEditor(QWidget *, const QStyleOptionViewItem &, const QModelIndex &) const
    { return Q_NULLPTR; }

}; 
```

正在使用：

```
// Make all the columns except the second read only
for(int c = 0; c < view->model()->columnCount(); c++)
{
    if(c != 1)
        view->setItemDelegateForColumn(c, new NotEditableDelegate(view));
} 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-27T08:01:45.847

您可以使用该[`setItemDelegateForColumn()`](http://doc.qt.io/qt-5/qabstractitemview.html#setItemDelegateForColumn)功能。实现一个只读委托，并将其设置为您需要的列。

您还可以在模型中使用[标志](http://doc.qt.io/qt-5.7/qabstractitemmodel.html#flags)，并删除`Qt::ItemIsEditable`特定列的标志。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-09-09T20:43:34.010

最简单的方法是设置您不想以这种方式编辑的项目的标志：

```
item->setFlags(item->flags() &  ~Qt::ItemIsEditable); 
```

您还可以查看此线程：[Qt How to make a column in QTableWidget read only](https://stackoverflow.com/questions/2574115/qt-how-to-make-a-column-in-qtablewidget-read-only/19609548#19609548)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-05-05T18:01:56.727

您需要*覆盖*“*标志”*方法并为所选列指定元素的可编辑性参数

```
Qt::ItemFlags TableModel::flags(const QModelIndex &index) const
{
    if(!index.isValid())
        return Qt::NoItemFlags;
    if(index.column() == SELECTED_COLUMN_NUM)
    {
        return Qt::ItemIsEnabled | Qt::ItemIsSelectable;
    }
    return Qt::ItemIsEnabled | Qt::ItemIsSelectable | Qt::ItemIsEditable;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-02T02:39:19.963

可能已经晚了，但供将来参考。您应该将表格视图设置为`NoEditTrigger`：

```
myTableView->setModel(model);
myTableView->setEditTriggers(QAbstractItemView::NoEditTriggers) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-27T11:42:36.983

在覆盖方法中，只需将其更改为`if(!(index.column() == 0)`并将`Flag`值更改为`Flag |= Qt::ItemisEditable`.
这很好用。

# android - 使用多项选择 AlertDialog 时不关闭对话框

> ID：12616196
> 
> 赞同：0
> 
> 时间：2012-09-27T07:27:00.087
> 
> 标签：android, android-widget

我正在使用`setAdapter()`on为我的列表`AlertDialog.Builder`提供我自己的自定义`ListAdapter`。但是在我`DialogInterface.OnClickListener()`被调用后，对话框会自动关闭。

下面是`AlertController.createListView(...)`导致我的对话框关闭的Android源代码：

```
if (mOnClickListener != null) {
  listView.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView parent, View v, int position, long id) {
      mOnClickListener.onClick(dialog.mDialogInterface, position);
      if (!mIsSingleChoice) {
        dialog.mDialogInterface.dismiss();
      }
    }
  });
} 
```

目前我正在使用`AlertDialog.Builder.setSingleChoiceItems(..)`而不是`setAdapter(..)`. 有没有更好的方法来使用自定义`ListAdapter`并允许在对话框中进行多项选择？我发现将其`setSingleChoiceItems`用于多项选择列表会产生误导。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T16:20:04.407

```
@Override
public Dialog onCreateDialog(Bundle savedInstanceState) {
    AlertDialog.Builder builder = new AlertDialog.Builder(getContext());
    m_adapter = new MyAdapter();
    builder.setAdapter(m_adapter, new OnClickListener() {
        @Override
        public void onClick(DialogInterface dialog, int which) {

        }
    });

    final AlertDialog alertDialog = builder.create();
    // override default behavior of dismissing dialog on clicking list item
    final ListView listView = alertDialog.getListView();
    listView.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {

        }
    });

    return alertDialog;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:39:31.433

`Handler`您可以通过使用类的任何一种方式来关闭 AlertDailog 。请参阅以下代码，

```
if (mOnClickListener != null) 
{
     listView.setOnItemClickListener(new OnItemClickListener() 
     { 
         public void onItemClick(AdapterView parent, View v, int position, long id) 
         {
            mOnClickListener.onClick(dialog.mDialogInterface, position);
           if (!mIsSingleChoice) 
           {
               //dialog.mDialogInterface.dismiss();
              // call handler class as follows, 
                 handler.sendMessage(handler.obtainMessage());
           }
        }
   });
}

private Handler handler = new Handler()
{
      @Override
      public void handleMessage ( Message message )
      {
          dialog.mDialogInterface.dismiss();
      }
}; 
```

# mysql - MYSQL 在使用 substr 的查询中删除行

> ID：12616210
> 
> 赞同：1
> 
> 时间：2012-09-27T07:27:46.110
> 
> 标签：mysql, sql-delete, substr

我想从 table1.name 以“product-”开头的表中删除行 table1.name

```
mysql_request("DELETE FROM table1 WHERE substr(name, 0, 8) = 'product-'"); 
```

这很荒谬，但这个查询根本不起作用。任何想法如何制作它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T07:29:41.537

关键是从“产品”开始。尝试：

```
DELETE FROM table1 WHERE name like 'product-%' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:30:04.507

嗯 - 看起来不错。应该可以工作（前提是您切换到正确的数据库）。你有错误信息吗？另一种可能的方法是：

```
DELETE FROM table1 WHERE name like 'product-%' 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-27T07:35:11.273

试试这个：

```
DELETE FROM table1 WHERE name like 'product-%'; 
```

或者这个（正则表达式语法）：

```
DELETE FROM table1 WHERE name REGEXP '^product-'; 
```

# magento-1.7 - 为商店所有者自定义类型创建目录输入类型 - 复选框

> ID：12616213
> 
> 赞同：1
> 
> 时间：2012-09-27T07:27:55.833
> 
> 标签：magento-1.7, magento

我想为 Magento 属性的“商店所有者的目录输入类型”选项创建复选框字段。我想将复选框作为解决方案。没有任何硬编码filters.html的最简单的方法是什么？

# c# - 是否可以使用 asp.net c# 在 sqlserver 数据库中存储 .exe 或 .scr 文件？

> ID：12616214
> 
> 赞同：0
> 
> 时间：2012-09-27T07:27:58.950
> 
> 标签：c#, asp.net, sql-server

我正在开发一个 asp.net 3.5 网站，我需要`.scr`在主机上存储一些屏幕保护程序文件，我想知道是否有办法将文件存储`.scr`在`.exe`sqlserver 数据库中并检索它们？任何帮助都应该受到重视。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T07:35:37.140

将它们存储为 BLOB（二进制大对象）并存储文件流，它基本上是一个字节数组。通常文件存储在服务器上，数据库只保存文件路径和名称。您必须在 SQL Server 的数据库中为 BLOB 数据类型腾出空间，这将允许 8000 字节的图像：BLOBData varBinary(8000)

```
// Using DataTable as a mockup database.
System.Data.DataTable table = new System.Data.DataTable();
table.Columns.Add("file name");
table.Columns.Add("data");

// Read data from file.
byte[] stream = System.IO.File.ReadAllBytes("th.exe");
// Add the file to the db, don't know how you add data to your database.
table.Rows.Add("th.exe", stream);
// Create a filestream that will write data to disk (in a file).
System.IO.FileStream save = new System.IO.FileStream((string)table.Rows[0].ItemArray[0], System.IO.FileMode.Create);
// Retrieve the data from the database, don't know how you do this with your database.
byte[] data = (byte[])table.Rows[0].ItemArray[0];
// Write data to the file on disk.
save.Write(data, 0, data.Length); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:20:37.403

虽然，您可以将其存储为 BLOB，但如果文件大小较大，则性能可能会成为问题。

或者，您可以使用作为 varbinary(max) 列实现的 Filestream Storage，其中数据作为 BLOB 存储在文件系统中。BLOB 的大小仅受文件系统卷大小的限制。2 GB 文件大小的标准 varbinary(max) 限制不适用于存储在文件系统中的 BLOB。

更多详情请查看msdn

[http://msdn.microsoft.com/en-us/library/bb933993.aspx](http://msdn.microsoft.com/en-us/library/bb933993.aspx)

干杯

# java - java比较前2个字符

> ID：12616221
> 
> 赞同：3
> 
> 时间：2012-09-27T07:28:17.450
> 
> 标签：java

我想在 Text 中找到开头是数字，后跟 .

```
example:
1.
11.
111. 
```

我的 x 代码。（x 是数字）这是有效的。问题是当 x 超过 2 位时。

```
x= Character.isDigit(line.charAt(0));
if(x)
if (line.charAt(1)=='.') 
```

如何扩展此逻辑以查看 x 是否为整数，后跟 .

我的第一个问题是：我需要喜欢给定的行有 x。格式与否，其中 x 是一个整数

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T07:30:27.637

您可以使用正则表达式`[0-9]\.`来查看字符串中是否存在数字后跟句点。

如果您需要确保模式始终位于字符串的开头，您可以使用`^[0-9]+\.`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:34:59.713

```
public class ParsingData {
public static void main(String[] args) {
    //String one = "1.";
    String one = "11.";

    int index = one.indexOf(".");

    String num = (String) one.subSequence(0, index);

    if(isInteger(num)) {
            int number = Integer.parseInt(num);
            System.out.println(number);
    }
    else 
        System.out.println("Not an int");
}

public static boolean isInteger(String string) {
    try {
        Integer.valueOf(string);
        return true;
    } catch (NumberFormatException e) {
        return false;
    }
}
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-27T07:37:42.043

编辑：哎呀，误读了。

尝试这个：

```
 public static boolean prefix(String s) {
        return s.matches("[0-9]+\\.");
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-27T07:30:46.707

您可以使用正则表达式：

```
Pattern.compile("C=(\\d+\\.\\d+)") 
```

但是，更一般的情况是：

```
Pattern.compile("[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?") 
```

现在要使用 Pattern，您可以执行以下操作：

```
Pattern pattern = Pattern.compile("[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?");
Matcher matcher = pattern.matcher(EXAMPLE_TEST);
// Check all occurances
while (matcher.find()) {
    System.out.print("Start index: " + matcher.start());
    System.out.print(" End index: " + matcher.end() + " ");
    System.out.println(matcher.group());
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-27T07:30:55.657

为什么不使用正则表达式？

```
([0-9]+)[.] 
```

# c - 在超平面上均匀采样

> ID：12616222
> 
> 赞同：3
> 
> 时间：2012-09-27T07:28:19.090
> 
> 标签：c, algorithm, sampling, random-sample

给定向量大小 N ，我想生成一个向量`<s1,s2, ..., sn>`。`s1+s2+...+sn = S`

已知`0<S<1`和`si < S`。生成的这些向量也应该是均匀分布的。

任何有助于解释的 C 代码都会很棒！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:26:25.493

[这里](http://www.mathworks.com/matlabcentral/fileexchange/9700-random-vectors-with-fixed-sum)的代码似乎可以解决问题，尽管它相当复杂。

我可能会选择一个更简单的基于拒绝的算法，即：`n`从超平面的法向量开始在 维空间中选择一个正交基。将每个点 (S,0,0,0..0)、(0,S,0,0..0) 转换为该基，并沿每个基向量存储最小值和最大值。对新基中的每个分量进行均匀采样，除了第一个（法线向量）始终为 S，然后变换回原始空间并检查是否满足约束条件。如果不是，请再次取样。

[PS 我认为这更像是一个数学问题，实际上，在http://maths.stackexchange.com](http://maths.stackexchange.com)或[http://stats.stackexchange.com](http://stats.stackexchange.com)上提问可能是个好主意

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T09:35:05.883

[为简单起见，我将跳过“hyper-”前缀]

一种可能的想法：在某个封闭体积中生成许多均匀分布的点，并将它们投影到平面的目标部分。

为了获得均匀分布，体积必须像平面的一部分，但沿平面法线添加边距。

为了在这样的体积中均匀地生成点，我们可以将它封闭在一个立方体中并拒绝体积之外的所有内容。

1.  选择保证金，为简单起见，我们取保证金=S（一旦保证金为正，它只会影响性能）
2.  在立方体中生成一个点 [-M,S+M]x[-M,S+M]x[-M,S+M]
3.  如果到平面的距离大于 M，则拒绝该点并转到＃2
4.  将点投影到平面上
5.  检查投影是否落入 [0,S]x[0,S]x[0,S]，如果不是 - 拒绝并转到 #2
6.  将此点添加到结果集中并转到#2 是否需要更多点

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-08-12T20:09:49.820

该问题可以映射到线性多面体上的采样问题，常见的方法是蒙特卡罗方法、随机游走和命中运行方法（参见[https://www.jmlr.org/papers/volume19/18- 158/18-158.pdf](https://www.jmlr.org/papers/volume19/18-158/18-158.pdf)中的简短比较示例）。它与线性规划有关，可以扩展到流形。还有成分数据分析中的多面体分析，例如[https://link.springer.com/content/pdf/10.1023/A:1023818214614.pdf](https://link.springer.com/content/pdf/10.1023/A:1023818214614.pdf)，它提供了平面和多面体之间的可逆变换，可以使用用于采样。

如果您正在处理低维度，您也可以使用拒绝抽样。这意味着您首先在包含多面体的平面上采样（由您的不等式定义）。后一种方法很容易实现（当然也很浪费），下面的 GNU Octave（我让问题的作者用 C 重新实现）代码就是一个例子。

第一个要求是获得与超平面正交的向量。对于 N 个变量的总和，这是 n = (1,...,1)。第二个要求是平面上的一个点。对于您的示例，可能是 p = (S,...,S)/N。

现在平面上的任意点满足 n^T * (x - p) = 0

我们还假设 x_i >= 0

有了这些，您可以计算平面上的正交基（向量 n 的零点），然后在该基上创建随机组合。最后，您映射回原始空间并对生成的样本应用约束。

```
# Example in 3D
dim = 3;
S   = 1;
n   = ones(dim, 1); # perpendicular vector
p   = S * ones(dim, 1) / dim;

# null-space of the perpendicular vector (transposed, i.e. row vector)
# this generates a basis in the plane
V = null (n.');

# These steps are just to reduce the amount of samples that are rejected
# we build a tight bounding box
bb = S * eye(dim); # each column is a corner of the constrained region
# project on the null-space
w_bb = V \ (bb - repmat(p, 1, dim));
wmin = min (w_bb(:));
wmax = max (w_bb(:));

# random combinations and map back
nsamples = 1e3;
w        = wmin + (wmax - wmin) * rand(dim - 1, nsamples);
x        = V * w + p;

# mask the points inside the polytope
msk = true(1, nsamples);
for i = 1:dim
  msk &= (x(i,:) >= 0);
endfor

x_in = x(:, msk); # inside the polytope (your samples)
x_out = x(:, !msk); # outside the polytope

# plot the results
scatter3 (x(1,:), x(2,:), x(3,:), 8, double(msk), 'filled');
hold on
plot3(bb(1,:), bb(2,:), bb(3,:), 'xr')
axis image 
```

[![在此处输入图像描述](../Images/25ac79e26d453fdb41b673eacbbf7d9d.png)](https://i.stack.imgur.com/0VTYH.png)

# java - CDI @Inject 或普通的旧 java ee 5 注释

> ID：12616226
> 
> 赞同：2
> 
> 时间：2012-09-27T07:28:30.603
> 
> 标签：java, jakarta-ee, annotations, cdi, inject

假设我有如下无状态 EJB：

```
@Stateless
public class MyService {

    @PersistenceContext(unitName="persistence")
    private EntityManager em;

    ...
} 
```

所以这是带有 java ee 5 注释的注入，例如 @PersistenceContext。如果我使用 CDI，我不能简单地使用`@Inject`，对吗？我需要为此创建生产者一个使用限定符，如下所示

```
class DBProducer {
    @Produces
    @PersistenceContext(unitName = "persistence")
    @MyDatabase
    private EntityManager em;
} 
```

我不介意 LOC 的数量。我的问题是我应该使用什么方式？可以将这两者混合使用：CDI`@Inject`和那些旧的 Java EE 5 注释，如`@EJB`,`@PersistenceContext`等等，还是坚持 CDI 并在任何地方使用它更好？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-19T17:43:32.307

并不是所有东西都可以用'@Inject'注入。

最终一切都应该朝着那个方向发展，但恐怕在此之前它可能是 Java EE 9 甚至 10。

到处都有@Inject 应该可以更直接地配置替代方案和扩展。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T22:42:00.383

你可以做任何一个。对于大多数人来说，差异很小（我得到的是代理还是实际的对象？）。

# python - 从python中的csv列表创建一个json树

> ID：12616229
> 
> 赞同：3
> 
> 时间：2012-09-27T07:29:07.407
> 
> 标签：python, csv, recursion, tree

我正在尝试从 python 中的一个简单表构建一个 json 层次结构。

数据如下所示：

```
id         parent          name
1          10              test-name-1
2          10              test-name-2
3          5               test-name-3
4          none            test-name-4
5          10              test-name-5
6          none            test-name-6
7          1               test-name-7
8          1               test-name-8
9          8               test-name-9
10         4               test-name-10 
```

我正在寻找这样的输出：

```
{"$4":{"name":"test-name-4","children":{
      "$10":{"name":"test-name-10","children":{
            "$1":{"name":"test-name-1","children":{
                 "$7":{"name":"test-name-7","children":{}},
                 "$8":{"name":"test-name-8","children":{
                      "$9":{"name":"test-name-9","children":{}}}}}},
            "$2":{"name":"test-name-2","children":{}},
            "$5":{"name":"test-name-5","children":{
                 "$3":{"name":"test-name-3","children":{}}}}}}}},
 "$6":{"name":"test-name-6","children":"test-name-6"}} 
```

我不知道会有多少“叶子”或“根”，或者 csv 中的行将以什么顺序进入。我的问题是，有没有一种方法可以从子节点递归地构建字典/列表取决于父母？如何从 python 中树的“叶子”部分生成分层树？

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-27T14:50:15.647

我也有一个基于 2 个循环的解决方案（1 个用于缓存，1 个用于构建），没有 JSON 编码器，并且提供了您需要的输出：

```
>>> import re
>>> from collections import defaultdict
>>> parents = defaultdict(list)
>>> for i, line in enumerate(file_.split('\n')):
    if i != 0 and line.strip():
        id_, parent, name = re.findall(r'[\d\w-]+', line)
        parents[parent].append((id_, name))

>>> parents
defaultdict(<type 'list'>, {'10': [('1', 'test-name-1'), ('2', 'test-name-2'), ('5', 'test-name-5')], 'none': [('4', 'test-name-4'), ('6', 'test-name-6')], '1': [('7', 'test-name-7'), ('8', 'test-name-8')], '5': [('3', 'test-name-3')], '4': [('10', 'test-name-10')], '8': [('9', 'test-name-9')]}) 
```

好的，现在我们有了缓存，递归函数很容易构建我们想要的输出：

```
>>> def build_tree(d, val):
    return {'$' + id_: {'name': name, 'children': build_tree(d, id_)} for id_, name in d[val]} 
```

我们只需要在之前构建的 dict 上调用它，其值`'none'`是树根：

```
>>> from pprint import pprint
>>> pprint(build_tree(parents, 'none'))
{'$4': {'children': {'$10': {'children': {'$1': {'children': {'$7': {'children': {},
                                                                     'name': 'test-name-7'},
                                                              '$8': {'children': {'$9': {'children': {},
                                                                                         'name': 'test-name-9'}},
                                                                     'name': 'test-name-8'}},
                                                 'name': 'test-name-1'},
                                          '$2': {'children': {},
                                                 'name': 'test-name-2'},
                                          '$5': {'children': {'$3': {'children': {},
                                                                     'name': 'test-name-3'}},
                                                 'name': 'test-name-5'}},
                             'name': 'test-name-10'}},
        'name': 'test-name-4'},
 '$6': {'children': {}, 'name': 'test-name-6'}}
>>> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-27T08:57:42.700

要将所有子节点分配给其父节点，您可以对节点列表进行两次传递。第一遍将每个节点添加到一个[`UserDict`](http://docs.python.org/library/userdict.html?highlight=userdict#UserDict). 在第二遍中，每个节点的父节点都保证在该节点中，`UserDict`因此该节点可以添加到`children`其父节点的。

要序列化为 JSON，[`JSONEncoder`](http://docs.python.org/library/json.html?highlight=json#json.JSONEncoder)可以使用 a。

```
#!/usr/bin/env python

import sys
import json
import UserDict

class Node(object):
    def __init__(self, nid, parent, name):
        self.nid = nid
        self.parent = parent
        self.children = []
        self.name = name

class NodeDict(UserDict.UserDict):
    def addNodes(self, nodes):
        """ Add every node as a child to its parent by doing two passes."""
        for i in (1, 2):
            for node in nodes:
                self.data[node.nid] = node
                if node.parent in self.data.keys():
                    if node.parent != "none" and
                       node not in self.data[node.parent].children:
                        self.data[node.parent].children.append(node)

class NodeJSONEncoder(json.JSONEncoder):
    def default(self, node):
        if type(node) == Node:
            return {"nid":node.nid, "name":node.name, "children":node.children}
        raise TypeError("{} is not an instance of Node".format(node))

if __name__ == "__main__":
    nodes = []

    with open(sys.argv[1]) as f:
        for row in f.readlines()[1:]:
            nid, parent, name = row.split()
            nodes.append(Node(nid, parent, name))

    nodeDict = NodeDict()
    nodeDict.addNodes(nodes)

    rootNodes = [node for nid, node in nodeDict.items()
                 if node.parent == "none"]
    for rootNode in rootNodes:
        print NodeJSONEncoder().encode(rootNode) 
```

结果：

```
{"name": "test-name-4", "nid": "4", "children":[
     {"name": "test-name-10", "nid": "10", "children":[
         {"name": "test-name-1", "nid": "1", "children":[
            {"name": "test-name-7", "nid": "7", "children": []},
            {"name": "test-name-8", "nid": "8", "children":[
                {"name": "test-name-9", "nid": "9", "children": []}]}]},
         {"name": "test-name-2", "nid": "2", "children": []},
         {"name": "test-name-5", "nid": "5", "children":[
             {"name": "test-name-3", "nid": "3", "children": []}]}]}]}
{"name": "test-name-6", "nid": "6", "children": []} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-10-06T04:27:42.393

给出的答案在 python 3.6 中对我不起作用，因为 Dict.Dict 已被弃用。因此，我进行了一些更改以使其工作并通过让用户通过命令行为 child_id、parent_id 和子名称指定列来对其进行一些概括。请参见下文（我只是在学习，并且确信这可以改进，但它适用于我的目的）。

```
""" Converts a CSV file with Parent/Child Hierarchy to a hierarchical JSON file for front-end processing (javascript/DS)

USAGE: csv2json.py <somefile.csv> a b c  (column nrs of a=child_id, b=parent-id, c=name(of child))

ROOT of hierarchy should contain child_id and parent_id = 'none' or blank.  name must exist """

import sys
import json
import csv
#import UserDict
from collections import UserDict

class Node(object):
    def __init__(self, child_id, parent_id, name):
        self.child_id = child_id
        self.parent_id = parent_id
        self.children = []
        self.name = name

class NodeDict(UserDict):
    def addNodes(self, nodes):
        """ Add every node as a child to its parent_id by doing two passes."""
        for i in (1, 2):
            for node in nodes:
                self.data[node.child_id] = node
                if node.parent_id in self.data.keys():
                    if (node.parent_id != "none" or node.parent_id != "") and node not in self.data[node.parent_id].children:
                        self.data[node.parent_id].children.append(node)

class NodeJSONEncoder(json.JSONEncoder):
    def default(self, node):
        if type(node) == Node:
            return {"name":node.name, "children":node.children}
            raise TypeError("{} is not an instance of Node".format(node))

if __name__ == "__main__":
    nodes = []

    with open(sys.argv[1], 'r') as f:
        reader = csv.reader(f)
        for row in reader:
            if not row[int(sys.argv[4])] : #skip if no name/label exists
                continue
            child_id, parent_id, name = row[int(sys.argv[2])] , row[int(sys.argv[3])] , row[int(sys.argv[4])]

            nodes.append(Node(child_id, parent_id, name))

    nodeDict = NodeDict()
    nodeDict.addNodes(nodes)

    rootNodes = [node for child_id, node in nodeDict.items()
                 if (node.parent_id == "none" or node.parent_id == "")]
    for rootNode in rootNodes:
        print(NodeJSONEncoder().encode(rootNode)) 
```

# c# - 在 C# 中创建 DataColumnChangeEventArgs 的实例

> ID：12616234
> 
> 赞同：1
> 
> 时间：2012-09-27T07:29:37.610
> 
> 标签：c#

我正在尝试编写如下函数：

```
private void Func1(DataColumnChangeEventArgs e)
{
    ds.TableName.AddRow(
        e.Row[e.Column.ColumnName, DataRowVersion.Original].ToString(),
    e.Row[e.Column.ColumnName, DataRowVersion.Proposed].ToString());
} 
```

我称它为：

```
private void Func2()
{
    DataColumnChangeEventArgs e = new DataColumnChangeEventArgs(
        dataTable.Rows[index],
        dataTable.Columns["ColName"],
        newValue);

    e.ProposedValue = newValue;
    Func1(e);
} 
```

但是，`e.Row[e.Column.ColumnName, DataRowVersion.Proposed].ToString()`正在抛出一个`VersionNotFoundException`. 有什么办法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:34:58.197

DataColumnChangedEventArgs 旨在与 DataTable 之类的类一起使用。DataTable 在调用关联事件（如 ColumnChanged）时创建一个实例。创建 one 的实例实际上不会创建对数据行的更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:51:04.913

e.ProposedValue = newValue 是多余的，您已经在构造函数中给出了 newValue。您可以通过 e.ProposedValue 访问该值。因此，通过这个系统，您一次只能对行进行一次更改，并且您必须记住它是哪一列。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:27:47.340

我会说，你的方法应该是这样的：

```
ds.TableName.AddRow(e.Row[e.Column.ColumnName].ToString(), e.ProposedValue.ToString()); 
```

由于 args 行中的那一行没有版本，但是有新旧值...

# dotnetnuke - 如何删除 DNN 中 URL 中的选项卡名称

> ID：12616235
> 
> 赞同：0
> 
> 时间：2012-09-27T07:29:39.823
> 
> 标签：dotnetnuke

在我的 DNN 项目中，正在形成的选项卡 URL 是这样的

```
http://localhost:57425/test_15sept/EN/tabid/83/ctl/Tab/action/edit/returntabid/64/Default.aspx 
```

我想`EN`从 URL 中删除，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-30T10:24:17.947

您需要像 iFinity UrlMaster (http://www.ifinity.com.au/Products/Url_Master_DNN_SEO_Urls) 之类的第 3 方 url 重写解决方案来执行此操作或切换到非友好 url（主机 -> 主机设置）。不过，这将使您的网站采用这种格式， ?tabid=XX¶m=1¶m=2

# css - .less 在 Windows 服务器上不起作用？

> ID：12616238
> 
> 赞同：1
> 
> 时间：2012-09-27T07:29:45.813
> 
> 标签：css, windows, less

我有一个由 Windows 服务器托管的站点，我通常使用 linux 服务器，在我的网站中，我使用的是 .less 而不是普通的 .css。现在问题出在 Windows 服务器上，当我加载页面时无法在我的目录中找到 .less。该文件在它的正确位置，如果我重命名为 style.css 并将调用更改为更少，则它需要 css。Windows服务器上的.less不兼容吗？我从来没有遇到过 .less 的这个问题 为什么在 Windows 服务器上 .less 不起作用？我必须更改代码中的某些内容吗？我无法更改服务器中的某些内容，因为不是我的服务器是 Aruba 上的服务器。

```
<link rel="stylesheet/less" href="css/styles.less" type="text/css" />
<script type="text/javascript" src="js/jquery/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="js/less-1.3.0.min.js"></script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:32:09.187

您需要将 .less 文件扩展名添加到 IIS。

右键单击您的网站并选择属性，然后选择 HTTP 标头并添加 MIME 类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-30T15:35:02.340

您需要通过诸如 winless、simpleless 或 crunch 之类的编译器运行 less。

# ruby - 杀死红宝石鞋中的线程似乎不起作用？

> ID：12616240
> 
> 赞同：1
> 
> 时间：2012-09-27T07:29:53.337
> 
> 标签：ruby, multithreading, shoes

我试图让这段代码在 Ruby Shoes 中工作，但我无法成功杀死名为“airodump”的线程。每次我点击“停止扫描”按钮时，它什么都不做：s

谢谢

```
 button "scan networks" do
      airodump = Thread.new do
         `sudo airodump-ng --write tuto wlan0`
       end
       Thread.new do
         button "Stop scanning" do
           Thread.kill(airodump)
         end
       end
    end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T00:03:02.320

我认为主要问题是你应该使用类变量所以定义

```
@airodump=Thread.new do
  ...
 end 
```

而不是通过以下方式杀死它：

```
 Thread.kill(@airodump) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T05:02:42.833

线程终止（任何语言）是一个非常有限的操作。在您的情况下，线程卡在阻塞调用中 - 对子外壳的调用 - 因此无法被杀死。

您需要做的是首先杀死子进程。我不知道如何从反引号运算符中获取 PID，因此您需要使用 Process.spawn（在 ruby​​ 1.9 上），获取子进程的 PID，然后调用 Process.kill

# javascript - 是否可以将变量从一个 innerhtml 传递到另一个 innerhtml

> ID：12616249
> 
> 赞同：2
> 
> 时间：2012-09-27T07:30:32.320
> 
> 标签：javascript, jquery, html

我正在开发的片段有四个带有javascript的内部html现在我的问题是我们可以从所有这些数据中获取所有这些数据并添加（如果整数）它们或连接（如果字符串）并显示在另一个div标签中

```
<script>
 document.getElementById('one').innerHTML = 10;
</script>    

<script>
 document.getElementById('one').innerHTML = 20;
</script>

<div id="one">    
</div>

<div id="two">    
</div>

<div id="three">
    now here i want the sum of the both one and two
</div> 
```

任何人都可以帮助我是否可能，如果是的话怎么做......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:34:12.070

是的，有可能..试试这个

```
 var x = document.getElementById('one').innerHTML = 10; 
 var y = document.getElementById('two').innerHTML = 20;
 document.getElementById('three').innerHTML = x + y;    

                        OR   
//Using jQuery
$('#one').html(10);  
$('#two').html(20);   
$('#three').html( parseInt($('#one').text()) +  parseInt($('#two').text())); 
```

[检查 FIDDLE JAVASCRIPT](http://jsfiddle.net/sushanth009/5SCnf/6/)

[检查 FIDDLE JQUERY](http://jsfiddle.net/sushanth009/5SCnf/7/)

**更新** 您的标记应如下所示

```
<script>
 var x = document.getElementById('one').innerHTML = 10;
 var y = document.getElementById('one').innerHTML = 20; 
 document.getElementById('three').innerHTML = x + y;    
</script>   

<div id="one">    
</div>

<div id="two">    
</div>

<div id="three">
    now here i want the sum of the both one and two
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:34:18.093

试试这个：

```
var x = 10;
var y = 20;
document.getElementById('one').innerHTML = x;
document.getElementById('two').innerHTML = y;
document.getElementById('three').innerHTML = x+y; 
```

[小提琴](http://jsfiddle.net/b2eT7/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T07:34:24.127

```
document.getElementById('one').innerHTML +
document.getElementById('two').innerHTML +
document.getElementById('three').innerHTML +
document.getElementById('four').innerHTML; 
```

它解决了吗？这是个什么样的问题？但上面只会连接，如果你想检查它是否是一个整数，那么你要编写一个 javascript 来检查是否是整数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-27T07:35:22.443

这会将`<div id="three">`innerHTML 设置为 和 的`<div id="one">`总和`<div id="two">`。如果您只需要连接（您在问题中同时提到*连接*和*求和*，因此不清楚您实际需要哪一个）两个 innerHTML 字符串，然后删除这些`parseInt();`函数。

```
<script>
document.getElementById('three').innerHTML = parseInt(document.getElementById('one').innerHTML) + parseInt(document.getElementById('two').innerHTML);
</script> 
```

# apache-flex - 如何阻止 Grid、GridRow、GridItem 分配比例列宽

> ID：12616251
> 
> 赞同：0
> 
> 时间：2012-09-27T07:30:37.687
> 
> 标签：apache-flex, layout, flex4

在 Flex4 中，我们使用 Grid、GridRow 和 GridItem 来布局我们屏幕的组件。大多数屏幕看起来都还不错，但也有不少屏幕在标签和字段之间留有大量空间。这主要发生在我们想要类似以下场景时......

```
Name    [____________]
Age     [__]
Gender  [_]

Details
[__________________________________________]
[__________________________________________]
[__________________________________________]

|<col 1>|<------------ col 2 ------------->|
|<---------- grid and row width ---------->| 
```

...其中标签位于第一列，前三个字段位于第二列，底部三个字段跨越两列。上面是我们希望它出现的样子，但是 Flex 将它渲染成这样......

```
Name            [____________]
Age             [__]
Gender          [_]

Details
[__________________________________________]
[__________________________________________]
[__________________________________________]

|<--- col 1 --->|<-------- col 2 --------->|
|<---------- grid and row width ---------->| 
```

我们无法在每个屏幕中设置单独的列宽，因为 a）有数千个屏幕，b）标签和组件可以国际化。

我无法完全计算出他们用来为每列分配宽度的算法，但我认为它会在每列中查找最宽的组件，然后使用它们为每列分配适当的比例宽度。

我们想要的只是让每一列尽可能地薄，这样它就只包含最宽的部分（当然忽略那些跨度的部分），并且没有任何额外的空白。有谁知道如何达到这个结果？

# actionscript-3 - 使用 as3 将文件上传到 box api v2

> ID：12616268
> 
> 赞同：1
> 
> 时间：2012-09-27T07:31:29.217
> 
> 标签：actionscript-3, box-api

我正在尝试使用 v2 将文件上传到盒子。我得到的唯一结果是上传时出错。我能够进行身份验证，获取身份验证令牌但无法上传，我已经给出了我正在使用的代码。如果我错了，请纠正我。任何帮助将不胜感激！！

```
 public function upload(argFile:flash.filesystem.File):void{ 

        argFile.addEventListener(Event.COMPLETE,
            function onComplete(event:Event):void
            {
                trace("complete:"+event.toString());
            }
        ); 
        argFile.addEventListener(IOErrorEvent.IO_ERROR,
            function onIOError(event:IOErrorEvent):void
            {
                trace("Error:"+event.toString());
            }
        ); 

        var url:String = "https://api.box.com/2.0/files/data";  

        // Setup the custom header 
        var customHeader:String = "BoxAuth api_key=" + api_key + "&auth_token=" + auth_token;
        var headers:Array = [ 
            new URLRequestHeader("Authorization", customHeader) 
        ]; 

        // create the url-vars 
        var urlVars:URLVariables = new URLVariables(); 
        urlVars.filename1 = '@'+argFile.name; 
        urlVars.folder_id = "0"; 

        // create the url-reqeust 
        var request:URLRequest = new URLRequest(); 
        request.contentType = "application/octet-stream"; 
        request.method = URLRequestMethod.POST; 

        // set ther url 
        request.url = url; 

        // set the header 
        request.requestHeaders = headers; 

        // set the vars 
        request.data = urlVars; 
        try { 
            argFile.upload(request); 
        } catch (e:Error) 
        { 
            trace(e.toString(), "Error (catch all)"); 
        } 
    } 
```

# android - 如何在Android中设置进度条的最大值

> ID：12616269
> 
> 赞同：6
> 
> 时间：2012-09-27T07:31:33.060
> 
> 标签：android, onclick, progress-bar

`ProgressBar`我想在 Android中设置 a 的最大值。

`setProgress`我知道我可以使用or设置当前进度`android:progress`，但是如何设置最大值？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-27T07:35:58.850

默认情况下，进度条在达到 100 时是满的。
如果需要，您可以使用 android:max 属性调整最大值（满条的值）

`android:max`

定义进度可以采用的最大值。

必须是整数值，例如“100”。

这也可能是对包含此类型值的资源（形式为“@[package:]type:name”）或主题属性（形式为“?[package:][type:]name”）的引用.

```
<ProgressBar 
    android:id="@+id/progressbar"
    style="@android:style/Widget.ProgressBar.Horizontal"
    android:max="42"  <--- it's the answer)
    android:progress="0"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_above="@+id/bottom_header_relativelayout"
/> 
```

或者
`probressbar.setMax(Value);`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:34:18.667

您可以通过两种方式设置进度条

```
probressbar.setMax(maxValue); 
```

或来自 xml

```
<ProgressBar
     android:max="maxvalue"/> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-27T07:34:58.090

您应该能够执行以下操作：

```
progressbar.setMax(maxValue); 
```

[在此处](http://developer.android.com/reference/android/widget/ProgressBar.html#setMax%28int%29)查看 ProgressBars 的 API 。

# java - 从控制台屏蔽密码输入：使用 nohup 命令的 Java

> ID：12616273
> 
> 赞同：0
> 
> 时间：2012-09-27T07:32:00.207
> 
> 标签：java, linux, logging, jar, console

我有一个应用程序，我在点击以下命令后禁用了密码字段的回显：

```
java -cp testJar.jar testClassFileInJar username 
```

其中 username 是提供给 testClassFileInJar 类的主要方法的参数。按回车后，提示密码。当我尝试以下命令时，我无法使其运行并且 java1.out 文件也是空的。

```
nohup java -cp testJar.jar testClassFileInJar username & > java1.out 
```

请建议。总而言之，我需要在 java1.out 文件和 nohup 命令中完成日志记录，以便与此 java 命令一起使用。

我在 main 方法中使用了以下代码：

```
Console console = System.console();
String userName = args[0];
String password = String.valueOf(console.readPassword("Password: "));
//other code logic for processing username and password 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:41:15.863

请尝试以下操作：

```
nohup java -cp testJar.jar testClassFileInJar username > java1.out & 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-14T16:49:58.877

我尝试了 nohup 但没有任何效果。然后我将记录器配置到应用程序（`java.util.logging.Logger`）并用于`screen`运行以下命令。

```
java -cp testJar.jar testClassFileInJar username 
```

在屏幕中，此命令将提示输入密码。

简直满足了我的要求：）

# asp.net-mvc - 使用实体框架更新记录的更好方法

> ID：12616276
> 
> 赞同：1
> 
> 时间：2012-09-27T07:32:09.403
> 
> 标签：asp.net-mvc, asp.net-mvc-3, entity-framework, entity-framework-4

我正在寻找一种更好的方法来使用实体框架更新记录。

下面是我现在使用的，其中 playerFromModel 是从 View 中获取的数据。

```
public bool UpdatePlayer(PlayerEntity playerFromModel)
{
    bool updateSuccessfull = false;

    using (var context = new PlayerEntities())
    {
        var player = context.Player.Where(m => m.emailAddress == playerFromModel.EmailAddress).FirstOrDefault();

        if (player != null)
        {
            player.emailAddress = playerFromModel.EmailAddress;
            player.first_name = playerFromModel.FirstName;
            player.last_name = playerFromModel.LastName;
            player.alt_email_id1 = playerFromModel.AlternateEmailAddress;
            player.street = playerFromModel.Street;
            player.city = playerFromModel.City;
            player.state = playerFromModel.State;
            player.zip = playerFromModel.Zip;
            player.country_code = playerFromModel.CountryCode;
            player.phone1 = playerFromModel.Phone;

            try
            {
                context.SaveChanges();
                updateSuccessfull = true;
            }
            catch
            {
                updateSuccessfull = false;
            }
        }
    }

    return updateSuccessfull;
} 
```

如您所见，我必须手动映射每个字段以及我在任何地方都遵循的相同方法。

我在想肯定有更好的方法来做到这一点。

请指导我。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T23:32:06.737

您可以只使用[TryUpdateModel](https://stackoverflow.com/questions/5268421/when-and-why-do-you-use-tryupdatemodel-in-asp-net-mvc-2)。例如

```
 bool updateSuccessfull = false;
    using (var context = new PlayerEntities())
    {
        var player = context.Player.Where(m => m.emailAddress == playerFromModel.EmailAddress).FirstOrDefault();

        if (player != null)
        {
             //Beware this will try to map anything it can. This can be dangerous
            if(TryUpdateModel(player)){
            try
            {
                context.SaveChanges();
                updateSuccessfull = true;
            }
            catch
            {
                updateSuccessfull = false;
            }
         }
        }
    }
    return updateSuccessfull;
} 
```

我不会在这里看到[TryUpdateModel, ASP .NET MVC 3 的真实示例](https://stackoverflow.com/questions/7735635/real-example-of-tryupdatemodel-asp-net-mvc-3)。

您可以使用 Automapper 或 MiBu 说的类似的东西。[在 Player的此处](http://lostechies.com/jimmybogard/2009/06/30/how-we-do-mvc-view-models/)创建一个 ViewModel链接，然后从该链接映射到实体

```
//Get a PlayerUpdate ViewModel     

       using (var context = new PlayerEntities())
    {
   // fetch the domain model that we want to update - BTW I'd use a repository pattern but that is another debate
        var player = context.Player.Where(m => m.emailAddress == playerFromModel.EmailAddress).FirstOrDefault();

        if (player != null)
        {

        // Use AutoMapper to update only the properties of this domain model
        // that are also part of the view model and leave the other properties unchanged
        AutoMapper.Map<UpdatePlayerViewModel , PlayerEntity>(viewModel, player);

           try
            {
                context.SaveChanges();
                updateSuccessfull = true;
            }
            catch
            {
                updateSuccessfull = false;
            }
    } 
```

但是我认为更新实体属性是一件重要的事情，不应该自动完成。其他人也有同样的感觉。创建 AutoMapper 的 Jimmy Bogard 似乎并不认为它需要[双向映射](http://lostechies.com/jimmybogard/2009/09/18/the-case-for-two-way-mapping-in-automapper/)（但他说这部分是因为他们为他们的要求构建了 AutoMapper）[Stackoverflow 上](https://stackoverflow.com/questions/7588907/asp-net-mvc-should-i-use-automapper-from-viewmodel-to-entity-framework-entitie)的类似答案说自己做。

这取决于您的应用程序的复杂性，但我会考虑使用命令模式将消息发送到包含您的属性的适当处理程序并让处理程序更新它们。如果它成功了，我们就做一件事，如果不成功，我们就做另一件事。[MVC in Action](http://www.manning.com/palermo2/)中描述了相同的模式。看到类似的（这里是链接）[ [http://www.paulstovell.com/clean-aspnet-mvc-controllers]](http://www.paulstovell.com/clean-aspnet-mvc-controllers])这里[是第二个链接](http://lostechies.com/jimmybogard/2011/06/22/cleaning-up-posts-in-asp-net-mvc/)

# android - 将用户发送到另一个应用程序

> ID：12616279
> 
> 赞同：0
> 
> 时间：2012-09-27T07:32:26.797
> 
> 标签：android

我在活动中有以下代码将用户发送到不同的应用程序：

```
public void goBack(View v) {
    Intent intent = new Intent(Intent.ACTION_MAIN);
    intent.setComponent(new ComponentName("com.example.android.lifecycle", "com.example.android.lifecycle.DialogActivity"));
    startActivity(intent);
} 
```

应用程序的清单文件是：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="com.example.android.lifecycle"
  android:versionCode="1"
  android:versionName="1.0">

<uses-sdk android:minSdkVersion="7" android:targetSdkVersion="15" />
<application android:label="@string/app_name"
             android:icon="@drawable/ic_launcher">

    <activity android:name=".ActivityA"
        android:launchMode="singleTask">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
            <action android:name="com.example.android.lifecycle" />
        </intent-filter>
    </activity>

    <activity android:name=".ActivityB" />

    <activity android:name=".ActivityC" />

    <activity android:name=".DialogActivity"
              android:theme="@android:style/Theme.Dialog">
        <action android:name="com.example.android.lifecycle" />
        <action android:name="android.intent.action.MAIN" />            
    </activity>

</application>
</manifest> 
```

但是，当我单击应该将我发送到新应用程序的按钮时，我收到一条消息说 - 应用程序已意外停止。请再试一次。

我做错了什么，我该如何纠正？

谢谢！！

```
09-27 14:08:42.763: E/AndroidRuntime(286): FATAL EXCEPTION: main
09-27 14:08:42.763: E/AndroidRuntime(286): java.lang.IllegalStateException: Could not execute method of the activity
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.view.View$1.onClick(View.java:2072)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.view.View.performClick(View.java:2408)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.view.View$PerformClick.run(View.java:8816)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.os.Handler.handleCallback(Handler.java:587)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.os.Handler.dispatchMessage(Handler.java:92)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.os.Looper.loop(Looper.java:123)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.app.ActivityThread.main(ActivityThread.java:4627)
09-27 14:08:42.763: E/AndroidRuntime(286):  at java.lang.reflect.Method.invokeNative(Native Method)
09-27 14:08:42.763: E/AndroidRuntime(286):  at java.lang.reflect.Method.invoke(Method.java:521)
09-27 14:08:42.763: E/AndroidRuntime(286):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
09-27 14:08:42.763: E/AndroidRuntime(286):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
09-27 14:08:42.763: E/AndroidRuntime(286):  at dalvik.system.NativeStart.main(Native Method)
09-27 14:08:42.763: E/AndroidRuntime(286): Caused by: java.lang.reflect.InvocationTargetException
09-27 14:08:42.763: E/AndroidRuntime(286):  at com.example.myfirstapp.DisplayMessageActivity.goBack(DisplayMessageActivity.java:30)
09-27 14:08:42.763: E/AndroidRuntime(286):  at java.lang.reflect.Method.invokeNative(Native Method)
09-27 14:08:42.763: E/AndroidRuntime(286):  at java.lang.reflect.Method.invoke(Method.java:521)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.view.View$1.onClick(View.java:2067)
09-27 14:08:42.763: E/AndroidRuntime(286):  ... 11 more
09-27 14:08:42.763: E/AndroidRuntime(286): Caused by: java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.MAIN cmp=com.example.android.lifecycle/.DialogActivity } from ProcessRecord{450fce58 286:com.example.myfirstapp/10044} (pid=286, uid=10044) requires null
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.os.Parcel.readException(Parcel.java:1247)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.os.Parcel.readException(Parcel.java:1235)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.app.ActivityManagerProxy.startActivity(ActivityManagerNative.java:1298)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.app.Instrumentation.execStartActivity(Instrumentation.java:1373)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.app.Activity.startActivityForResult(Activity.java:2817)
09-27 14:08:42.763: E/AndroidRuntime(286):  at android.app.Activity.startActivity(Activity.java:2923)
09-27 14:08:42.763: E/AndroidRuntime(286):  ... 15 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:38:33.100

如果您从后台启动新应用程序，请添加`Intent.FLAG_ACTIVITY_NEW_TASK` 和标记为：`Intent.FLAG_FROM_BACKGROUND`

```
Intent intent = new Intent(Intent.ACTION_MAIN);
intent.addCategory(Intent.CATEGORY_LAUNCHER);
intent.setComponent(new ComponentName( "com.example.android.lifecycle","com.example.android.lifecycle.DialogActivity"));
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); 
intent.setFlags(Intent.FLAG_FROM_BACKGROUND);
startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:39:30.220

我认为在activity android:name=".DialogActivity" 下的manifest 文件中，名称应该是action android:name="com.example.android.lifecycle.DialogActivity"
你可以试试吗？

# performance - 如何使用复杂函数快速更新 Mongo 文档字符串字段

> ID：12616281
> 
> 赞同：1
> 
> 时间：2012-09-27T07:32:27.780
> 
> 标签：performance, mongodb

在具有复杂功能的 Mongo 数据库中更新文档的最快方法是什么，比如字符串搜索/替换或`sqrt`计算？

由于缺少此类操作，例如 a `$replace`，因此无法使用`update`（这可能是最快的，因为在我的测试集合中，在大约 100k 个对象上设置一个字段只需要大约 50 毫秒）。

当我简单地遍历所有文档时，大约需要 45 秒。当我将查询限制在更新期间使用的字段时，它会变得更快一些。

这一次当然会在更大的集合上变得更大，因此问题是否存在比迭代集合更快的方法（例如，通过 map reduce 作业？）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T10:22:17.340

不 :) 如果没有对此类功能的本机支持，您将陷入读取->修改->写入方法。也就是说，如果您可以在一台机器上将一个字段写入 100k 个对象，并且该机器在 50 毫秒内管理该字段，那么如果您必须读取、修改和编写这些相同的文档，那么该过程不应花费任何接近 45 秒的时间。您确定瓶颈是数据库而不是运行该通道的机器吗？您确定您正在适当地进行批处理而不是对每个文档进行更新吗？

# java - 使用 Hibernate HQL 结果避免安全警告？

> ID：12616284
> 
> 赞同：-1
> 
> 时间：2012-09-27T07:32:37.853
> 
> 标签：java, hibernate, generics

例如我有这样的查询：

```
@SuppressWarnings("unchecked")
public List<MenuItems> listAllMenuItems() {

    Session session = HibernateUtil.getSessionFactory().getCurrentSession();
    session.beginTransaction();
    List<MenuItems> menuItems = null;
    try {

        Criteria cr = session.createCriteria(MenuItems.class);
        menuItems = cr.list();

    } catch (HibernateException e) {
        session.getTransaction().rollback();
    }
    session.getTransaction().commit();
    return menuItems;
} 
```

有没有办法避免 Hibernate HQL 结果出现类型安全警告？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:36:06.680

使用 Collections.checkedList()

```
List<MenuItems> cats = Collections.checkedList(cr.list(), MenuItems.class); 
```

或者使用您在代码中指定的@suppressWarnings

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:39:10.767

我想它会解决你的答案

列出 menuItems = Collections.checkedList(cr.list(), MenuItems.class);

有关完整详细信息，请查看此线程

[如何使用 Hibernate HQL 结果避免类型安全警告？](https://stackoverflow.com/questions/115692/how-to-avoid-type-safety-warnings-with-hibernate-hql-results)

# php - 删除开始词和结束词正则表达式

> ID：12616287
> 
> 赞同：0
> 
> 时间：2012-09-27T07:32:48.857
> 
> 标签：php, regex

我有一个这种格式的字符串，我只想要`the-big-bang-theory`这个字符串。问题是在这个字符串中有些单词的长度是可变的

```
media-tv-quotes-2-the-big-bang-theory-94-toprated-2
       ^                               ^    ^     ^
---------------------------------------------------- 
```

我尝试使用此代码，但没有运气。

```
$keywords = str_replace("/media-[a-z]-quotes-+/","", "media-tv-quotes-2-the-big-bang-theory-94-toprated-2"); 
```

任何人都知道我怎样才能做到这一点。

谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:35:50.070

尝试使用以下正则表达式：

```
$keywords = preg_replace("/^media-[a-z]+-quotes-\d+-(.*?)-\d+-.*$/", "$1", "media-tv-quotes-2-the-big-bang-theory-94-toprated-2"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:42:00.157

获取两个数字之间的任何内容：

```
$s = 'media-tv-quotes-2-the-big-bang-theory-94-toprated-2';
preg_match('~\d+-(.+?)-\d+~', $s, $matches);
print_r($matches); 
```

如果您的电影标题中有数字，问题就解决了，在这种情况下使用：

```
$s = 'media-tv-quotes-2-the-big-bang-theory-94-toprated-2';
preg_match('~^media-\w+-\w+-\d+-(.+?)-\d+-\w+-\d+$~i', $s, $matches);
print_r($matches); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T07:35:35.750

试试这个 ：

```
$keywords = preg_replace("/^(.*?)(the-big-bang-theory)(.*)$/i","$2", "media-tv-quotes-2-the-big-bang-theory-94-toprated-2"); 
```

`the-big-bang-theory`在它之前和之后捕获任何字符。然后只保留在替换中`the-big-bang-theory`。

# perl - 可以清除大小写 perl - ccperl 句柄与路径包含空格吗？

> ID：12616289
> 
> 赞同：1
> 
> 时间：2012-09-27T07:32:52.333
> 
> 标签：perl, clearcase

我正在尝试打开一个路径包含空间的文件，例如：

```
open(FILE, "some\\path with spaces") 
```

我`ccperl`在 Windows 上工作，我收到一个错误*"can't open file"*。

我已经尝试`q!"..."!`过`"\path\ with\ spaces"`，还有更多...

任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:44:47.133

让我们来看看。在我的 ActivePerl 5.14.2 上，我可以执行以下操作：

```
#!C:\perl\bin\perl.exe
use strict; use warnings;
open my $fh, '<', 'C:\Dokumente und Einstellungen\user\Desktop\file spaces.txt'
  or die $!;
print while <$fh>;
close $fh; 
```

与您所做的不同之处在于我使用了单引号`'`。在它们内部，反斜杠`\`不被视为元字符，因此无需转义它。您也不需要转义空格。你应该试试看。

* * *

附带说明一下，您使用的是`strict`and`warnings`吗？他们可能会告诉你哪里出了问题，以及我的`or die $!`能力。

我还建议您使用和[词法文件句柄](https://stackoverflow.com/a/3276699/1331451)的[三个参数形式](http://www.modernperlbooks.com/mt/2010/04/three-arg-open-migrating-to-modern-perl.html)。`open`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:05:12.417

从[这个矩阵](http://www-01.ibm.com/support/docview.wss?uid=swg21245227)中，ccperl 通常表示带有 ClearCase 的 perl 5.8.6。

ccperl[脚本示例](http://www.ibm.com/developerworks/rational/library/4687.html)建议：`"\"your file path\""`，但这可能与`open`.

# javascript - 隐藏输入的值每次都是 1 短

> ID：12616291
> 
> 赞同：0
> 
> 时间：2012-09-27T07:33:06.273
> 
> 标签：javascript, jquery

我有一个隐藏的输入，它附加到一个表中，如下所示：

```
var $fileImage = $("<form action='imageupload.php' method='post' enctype='multipart/form-data' target='upload_target_image' onsubmit='return imageClickHandler(this);' class='imageuploadform' >
<input type='hidden' class='numimage' name='numimage' value='" + GetFormImageCount() + "' /></form>");
$image.append($fileImage); 
```

下面是确定隐藏输入值的函数：

```
function GetFormImageCount(){ 
  return $('.imageuploadform').length;
} 
```

它应该如何工作是表格1附加在表格第1行中，这意味着隐藏输入的值应该是1。问题是它没有这样做，值为0。

追加表单 2 时，它会追加到表的第 2 行，这意味着隐藏输入的值应该是 2，但问题是这个输入的值是 1。

所以我的问题是为什么 hudden 输入的值比应该的值小 1？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:36:56.420

对我来说，它正在正常工作。您正在选择所有`.imageuploadform`元素，开头**没有**`length`，所以为 0。

您可以在设置属性时对该值 +1，也可以在设置值之前附加元素。

```
var $fileImage = $("<form action='imageupload.php' method='post' enctype='multipart/form-data' target='upload_target_image' onsubmit='return imageClickHandler(this);' class='imageuploadform' >
<input type='hidden' class='numimage' name='numimage'/></form>");
$image.append($fileImage);
setTimeout(function () {
    $fileImage.attr('value', GetFormImageCount());
}, 0); 
```

该`setTimeout`函数用于等待 DOM 追加元素，请小心；）我会选择*+1 解决方案*，因为它更容易。

# paypal - 嵌入式 Paypal 自适应支付（使用 Lightbox）在移动网络上不起作用

> ID：12616296
> 
> 赞同：0
> 
> 时间：2012-09-27T07:33:16.487
> 
> 标签：paypal, lightbox, paypal-adaptive-payments

直到最近，我还使用了非嵌入式 Paypal 自适应支付（即使在移动设备中）。我正在尝试迁移到嵌入式版本（使用 iFrame/Ligthbox 方法）。它在台式机上完美运行，但在移动设备上却无法运行。

在移动平台中，灯箱模式确实打开，但如果我没有登录 PayPal，然后单击登录链接，灯箱内容刚刚刷新并要求我再次登录。我试图通过将我的桌面用户代理设置为移动用户代理来模仿这个问题，并且重新创建了这个问题。

注意：在 ligthbox 流程中，如果用户未登录，则整个支付过程会在弹出窗口中进行，而不是在 lightbox iframe 中进行。

有针对这个的解决方法吗？我到处找，但没有关于这个问题的文档。

更新：经过一番调查，我在 iFrame 的 PayPal javascripts 中发现了这段代码：

```
if (ua.match(/iPhone|iPod|Android|Mobile|Blackberry.*WebKit/i)) {
        window.location.href=this.href;
} else { // open popup code } 
```

这只是刷新登录页面！是否有一个原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-18T16:51:55.173

我在 Lightbox 流程中遇到了同样的问题，发现迷你浏览器体验在移动设备上运行得更好。

有关迷你浏览器体验 (expType=mini) 的更多信息，请参见此处：

[没有模式框或弹出窗口的自适应支付？](https://stackoverflow.com/questions/17283272/adaptive-payments-without-modal-box-or-popups/17729106)

# visual-c++ - 静态文本的点击事件

> ID：12616298
> 
> 赞同：2
> 
> 时间：2012-09-27T07:33:22.283
> 
> 标签：visual-c++, mfc

我有一个名为 IDC_STATIC 的静态文本，我为其创建了一个单击事件，但是单击它时它没有被调用。

```
ON_BN_CLICKED(IDC_STATIC, ontest)  //(begin message map)
void test::ontest(my method)
{
  MessageBox("success");
}
afx_msg void test();  //(header file) 
```

代码有什么问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-27T09:04:10.307

解决方案是转到静态文本控件的属性并启用通知。

# java - Java：如何检查 jdk 版本？

> ID：12616301
> 
> 赞同：4
> 
> 时间：2012-09-27T07:33:31.943
> 
> 标签：java

> **可能重复：**
> [如何从 Java 代码中了解 JDK 版本](https://stackoverflow.com/questions/4638994/how-to-know-jdk-version-from-within-java-code)

在我的 java 代码中，我想检查`jdk`版本。如果它是 1.5 或以上，那么我只想继续执行进一步的执行。如何获得`jdk`版本？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-27T07:38:11.993

使用这个条件

```
Integer.parseInt(System.getProperty("java.version").split("\\.")[1]) >= 5 
```

检查 Java 版本。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-27T07:38:18.513

```
String version = System.getProperty("java.specification.version"); 
```

例如，这将为您提供字符串`1.5`。易于解析。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-27T07:36:55.723

```
String version = System.getProperty("java.version"); 
```

# vb.net - VB2008 上的控制台应用程序 - Integer.TryParse 方法错误

> ID：12616306
> 
> 赞同：1
> 
> 时间：2012-09-27T07:33:45.267
> 
> 标签：vb.net, tryparse

我正在使用 Integer.TryParse 方法来验证用户输入在我的程序中是数字还是非数字。1）如果用户输入的是数字，程序将继续并验证用户输入的范围是从 0 到 9。 2）如果用户输入的是非数字输入，程序将显示消息“无效输入”并要求用户从头开始。

以下是我的编码：Sub Main()

```
 Dim sevenNumbers As Integer()
    sevenNumbers = New Integer(6) {}
    Dim index As Integer
    Dim number As Integer
    Dim reEnter As Boolean = True

    Console.WriteLine("Please enter 7 integers: ")
    Console.WriteLine("<ATTENTION: FROM 0 TO 9 ONLY>")
    Console.WriteLine()

    While reEnter
        For index = 0 To 6

            Console.WriteLine("Please enter the integer no." & "{0}" & " : ", index + 1) 'Prompt user to enter 7 integers.
            sevenNumbers(index) = Console.ReadLine() 'The 7 integers are stored in an array.

            If Integer.TryParse(sevenNumbers(index), number) Then
                While sevenNumbers(index) < 0 Or sevenNumbers(index) > 9
                    Console.WriteLine("<invalid input>")
                    Console.WriteLine()
                    Console.WriteLine("------------------------------------------")
                    Console.WriteLine("<Please re-enter the 7 integers>")
                    Console.WriteLine("------------------------------------------")
                    Console.WriteLine()
                    reEnter = True
                    Exit For
                End While

            Else
                Console.WriteLine("<invalid input>")
                Console.WriteLine()
                Console.WriteLine("------------------------------------------")
                Console.WriteLine("<Please re-enter the 7 integers>")
                Console.WriteLine("------------------------------------------")
                Console.WriteLine()
                reEnter = True
                Exit For

            End If

            reEnter = False

        Next
    End While 
```

结束子

但是，当用户输入非数字输入时，程序无法继续并显示强制关闭的错误。

我试过这个

Sub Main() Dim num As Integer

```
 Console.Write("enter num:")
    Dim input = Console.ReadLine

    If Integer.TryParse(input, num) Then
        Console.WriteLine("valid. num = " & num)
    Else
        Console.WriteLine("invalid")
    End If
End Sub 
```

它确实有效，我想知道我的编码的哪一部分是错误的？

感谢帮助！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:42:19.670

您的两个代码示例是不同的。在您的第二次尝试中，您执行以下操作：

```
Dim input = Console.ReadLine 
If Integer.TryParse(input, num) Then 
```

上面的代码读入了一个名为 a 的变量`input`（`String`因为`Console.ReadLine`返回 a `String`）。然后，您尝试将字符串解析为数字。

但是，在您的原始代码中，您这样做（为清楚起见省略了一些行）：

```
Dim sevenNumbers As Integer()  
sevenNumbers = New Integer(6) {}  
...
sevenNumbers(index) = Console.ReadLine() 
```

在这种情况下，您正在读取已明确声明为`Integer`. 如果用户键入`"abc"`，则此时转换将失败-您甚至*无法到达*，`TryParse`因为您无法完成输入。

您需要读入一个`String`变量，然后将该值解析为一个`Integer`（就像您在第二个代码中所做的那样），而不是读取一个整数。

您可以通过记下调试时实际发生错误的那一行来自己发现这一点：您应该注意程序在 . 上崩溃`ReadLine`，*而不是*在`TryParse`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:43:12.697

嗯。这一行：

```
sevenNumbers(index) = Console.ReadLine() 
```

将任何已读入的文本存储到`Integer`s 数组中。如果它正在编译，那么当你到达任何后面的代码时，你已经来不及控制转换了。它已经发生了。

也许`sevenNumbers`应该是`String()`？

（你真的应该打开[`OPTION STRICT`](http://msdn.microsoft.com/en-us/library/zcd4xwzs%28v=vs.110%29.aspx)-[`OPTION EXPLICIT`](http://msdn.microsoft.com/en-us/library/y9341s4f.aspx)它应该在编译代码时为你找到这样的问题）

# lua - 如何为点击游戏设计“动态库存系统”？

> ID：12616307
> 
> 赞同：0
> 
> 时间：2012-09-27T07:33:45.597
> 
> 标签：lua, coronasdk, moai

我在 Lua 和 Corona 中对点击游戏的库存系统进行了大量研究。我遇到过这个例子，我正在做类似的事情，但我需要一个动态库存系统。我的意思是，如果我有 4 个插槽，并且它们都已满，则第五个对象转到下一个插槽，因此右侧会有一个箭头，因此我可以单击 ; 并转到下一页。假设有 5 个项目，我有 4 个插槽，第五个插槽将在下一页上。我使用第三个项目，然后第三个插槽将是空的，所以我希望第四个和第五个项目自动移回第三个和第四个插槽。我很难弄清楚这一点。感谢提前。

```
local myInventoryBag={}
local maxItems = 10 -- change this to how many you want

myInventoryBag[5]=3 -- Hammer for instance
myInventoryBag[4]=7 -- A metal Pipe for instance

local function getImageForItem(thisItem)
    local itemNumber = tonumber(thisItem)
    local theImage=""

    if itemNumber==3 then
        theImage="hammer.png"
    elseif itemNumber == 7 then
        theImage="metalpipe.png"
    elseif ... -- for other options
        ...
    else
        return nil
    end

    local image = display.newImage(theImage)
    return image
end

local function displayItems()
    local i
    for i=1,#myInventoryBag do
        local x = 0  -- calculate based on the i
        local y = 0 --  calculate based on the i

        local image = getImageForItem(myInventoryBag[i])

        if image==nil then return end

        image.setReferencePoint(display.TopLeftReferencePoint)
        image.x = x
        image.y = y
    end
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T21:57:07.137

```
local itemImages =
{
    [0] = display.newImage('MISSING_ITEM_IMAGE.PNG'),
    [3] = display.newImage('hammer.png'),
    [7] = display.newImage('metalpipe.png'),
}

function getImageForItem(itemId)
    return itemImages[itemId] or itemImages[0]
end

local myInventoryBag={}
local maxItems = 10 -- change this to how many you want
local visibleItems = 4 -- show this many items at a time (with arrows to scroll to others)

-- show inventory items at index [first,last]
local function displayInventoryItems(first,last)
    local x = 0 -- first item goes here
    local y = 0 -- top of inventory row
    for i=first,last do
        image = getImageForItem(myInventoryBag[i])
        image.x = x
        image.y = y
        x = x + image.width
    end
end

-- show inventory items on a given "page"
local function displayInventoryPage(page)
    page = page or 1 -- default to showing the first page
    if page > maxItems then
        -- error! handle me!
    end
    local first = (page - 1) * visibleItems + 1
    local last = first + visibleItems - 1
    displayInventoryItems(first, last)
end

myInventoryBag[5] = 3 -- Hammer for instance
myInventoryBag[4] = 7 -- A metal Pipe for instance

displayInventoryPage(1)
displayInventoryPage(2) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:51:04.610

基本上你要做的是遍历所有库存槽并检查槽是否为空。如果它是空的，则将项目放入该插槽并停止循环。如果不是，请转到下一个。

如果你想从库存中删除一个项目，你可以简单地调用`table.delete(myInventoryBag, slotToEmpty)`.

对于页面，您只需要一个`page`变量。绘制库存插槽时，只需从插槽循环`(page-1) * 4 + 1`到`page * 4`.

（编辑：我强烈建议使用适当的缩进，因为它会使代码更具可读性。）

# pointers - 闭包和指针的区别（c）

> ID：12616310
> 
> 赞同：1
> 
> 时间：2012-09-27T07:34:08.673
> 
> 标签：pointers, closures

在函数式编程中，`Ocaml`特别是在创建函数时，会创建对 all 的引用，`non-local variable`以便即使非局部变量超出范围（称为**闭包**）也可以使用它。
在`c`编程语言中，有指针的概念，它指的是变量的内存位置。
闭包和指针之间的区别在于范围。这就是全部？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:22:44.030

要实现闭包，编译器/解释器`OCaml`必须分配一个结构，该结构包含所有引用变量的副本和指向函数的指针。在`C`中，函数指针只是一个指针，所以没有分配。

# c# - 将 asp.net 应用程序本地化到香港，语言设置为英语

> ID：12616316
> 
> 赞同：1
> 
> 时间：2012-09-27T07:34:19.667
> 
> 标签：c#, asp.net-mvc, localization, cultureinfo

我正在构建一个多语言网络应用程序。客户要求香港网站以英文显示。不幸的是，“en-HK”在 asp.net 中不是一种有效的文化，所以我尝试使用“zh-hk”来绕过它。但是，这导致日期时间字符串（格式为 dd-MMM-yyyy）以中文显示。

有没有办法用英语显示语言但将其本地化为香港？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:56:15.677

`CurrentUICulture`控制本地化资源的选择：将其设置为英语文化（例如“en”或“en-GB”）。

`CurrentCulture`控制数字和日期格式等，包括日期和月份名称。将其设置为“en-GB”，或者将其设置为基于“en-GB”的自定义文化，但可以进行任何修改（例如，您的帖子建议您希望“-”作为日期分隔符：dd-MMM-yyyy ）。

这些都不会影响时区等，所以我真的不明白为什么仅仅使用“en-GB”会成为一个问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T09:45:42.833

我对香港了解不多，但考虑到它最近的历史，那里使用的英语语言惯例可能是基于英国英语而不是美国英语。香港使用的短日期格式（在[此处](http://en.wikipedia.org/wiki/Date_format_by_country)记录在 Wikipedia 上）似乎支持这一断言：它是日/月/年（英国风格，与美国风格的月/日/年不同）。

您始终可以为 en-HK 创建自定义文化（Windows 7 及更高版本支持）。这是通过使用[CultureAndRegionInfoBuilder](http://msdn.microsoft.com/en-us/library/system.globalization.cultureandregioninfobuilder.aspx)类完成的，如果我上面的评论是正确的，它将允许您基于 en-GB 文化创建您的 en-HK CultureInfo。如果您愿意，这将允许您自定义 CultureInfo 的一些元素（更重要的是，如果您知道香港的不同之处）。通过将您的自定义文化基于 en-GB，您的日期格式将以英文显示月份名称。但是创建一种自定义文化可能是矫枉过正。

更简单地说，您可以使用 en-GB Culture 名称。您的应用程序可能不会使用一些不适用于香港的 en-GB 文化中更神秘的东西。

**注意：**如果有任何混淆，因为日期格式`Thread.CurrentUICulture`没有任何效果 - 它完全取决于`Thread.CurrentCulture`设置的内容（并且必须是特定的文化，不像 CurrentUICulture 中性文化，如“en”是可以的） .

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-27T07:50:29.813

据我所知，你不能自己组合你的文化字符串（意思是 en-HK 是无效的，除非它在 ​​.NET 中列出）。

但是，它们每个线程有两种不同的文化设置：

```
System.Threading.Thread.CurrentThread.CurrentCulture
System.Threading.Thread.CurrentThread.CurrentUICulture 
```

两者都控制不同的事物。也许这可以让您使用英语作为语言，但使用香港作为本地化格式。

您还可以覆盖日期的格式等，也许可以找到更好的文化信息，为您提供所需的日期格式。

# android - Android——如何按照DRY原则管理多个布局文件？

> ID：12616321
> 
> 赞同：4
> 
> 时间：2012-09-27T07:34:42.680
> 
> 标签：android, layout

为了支持不同的分辨率，我们需要对布局文件进行变化，如[支持多个屏幕](http://developer.android.com/guide/practices/screens_support.html)中所述。假设您不打算显示 UI 的不同排列，而只是想适当地拉伸，那么您的变化主要是关于不同的权重。至少到目前为止我的应用程序就是这种情况。

现在，您如何管理使用这种结构更改应用程序？由于它多次重复布局，因此应用程序中的一次布局更改会导致多个文件更改。

我想到了两个选择：

1.  在代码中动态更改值
    *   缺点是您的布局相关工作会溢出到代码中。我真的不喜欢这个。
2.  制作子布局以提取常用布局元素
    *   缺点是您的布局的层次结构会更深且混乱，因此很难弄清楚发生了什么。[尽管如此，由于Hierarchy Viewer](http://developer.android.com/tools/debugging/debugging-ui.html)，这比选项#1 更好。我不确定这种方法是否总是可行的。

如果你能分享你的技巧来解决这个问题，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-29T21:18:03.373

我想我找到了解决办法。如果其他人竖起大拇指，我会接受它作为答案。

我发现[支持多个屏幕](http://developer.android.com/guide/practices/screens_support.html)`res/drawable`中描述的配置限定符不仅适用`res/layout`于`res/values`. 所以在我的`layout/some_layout.xml`，我这样说：

```
<ImageButton
    android:id="@+id/imagePlay"
    android:layout_width="@dimen/button_size"
    android:layout_height="@dimen/button_size"
    android:scaleType="fitCenter"
    android:src="@drawable/play" /> 
```

然后在`values/layout.xml`文件中定义默认值`button_size`：

```
<resources>
    <dimen name="button_size">44dp</dimen>
</resources> 
```

并在`values-xlarge/layout.xml`文件中定义 xlarge 模式`button_size`：

```
<resources>
    <dimen name="button_size">66dp</dimen>
</resources> 
```

我没有尝试其他`values`资源，但我认为它也适用于[样式和主题](http://developer.android.com/guide/topics/ui/themes.html)，因此如果您的布局自定义不仅仅是大小或重量，您可以在值中定义样式并使用它。

# jquery - JQuery 手风琴单选按钮

> ID：12616322
> 
> 赞同：0
> 
> 时间：2012-09-27T07:34:46.153
> 
> 标签：jquery, html, accordion, jsfiddle

我有两个单选按钮，我希望根据用户选择的选项在它们下方显示一些内容。这是我的代码：[小提琴](http://jsfiddle.net/tQv4n/22/)

问题：
我似乎无法瞄准正确的p如果选择单选按钮时，没有任何内容

知道为什么我的代码无法工作吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:52:59.453

我对你的 HTML 代码和 JS 做了一个简单的修改

```
<form>
    <div class="accordion">  
        <input type="radio" name="recog" id="recog_yes" value="0" />
        <label for="recog">Yes</label>

        <input type="radio" name="recog1" id="recog_no" value="1" />
        <label for="recog">No</label>

        <p>  
            show this for yes
        </p>

        <p>  
            show this for no
        </p>                
    </div>

</form> 
```

任何`input`或`select`控件都必须集成到`form`标签中。

和js：

```
$(function(){
    $('.accordion p').hide();

    $('.accordion input[type="radio"]').click(function() {
       $('.accordion p').hide();   

        $('.accordion input[type="radio"]').removeAttr("checked");

        $(this).prop("checked", true);

        if($(this).is(":checked")){
           $("p").eq($(this).val()).show();   
        }

        return false;
    });
}); 
```

见[jsfiddle](http://jsfiddle.net/SnakeEyes/tQv4n/34/)

似乎是 Firefox 15 中 jsfiddle（或不是）的错误，并且未选择/选中单选按钮。

# django - Django manytomany object_set 按字段查询

> ID：12616323
> 
> 赞同：1
> 
> 时间：2012-09-27T07:34:46.137
> 
> 标签：django, django-models, django-queryset

我在模型中有 ManyToMany 字段，我想从另一个默认具有 _set 字段的模型中查询它：

```
class Airport(models.Model):
    name = models.CharField(max_length=1024, blank=True, null=True)

    def __unicode__(self):
        return unicode(self.name)

class Agent(models.Model):
    name = models.CharField(max_length=1024, blank=True, null=True)
    airports = models.ManyToManyField(Airport)
    def __unicode__(self):
        return unicode(self.name) 
```

所以查询如下：

```
a=Agents.objects.filter(airports_name_contains='asd') 
```

工作正常。但：

```
b=Airport.objects.filter(agent_set__name__contains='agent_') 
```

给

> 无法将关键字解析`'agent_set_name'`为字段

我想准确查询`Airport`模型。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:45:51.310

哎呀，我的坏。我找到了解决方案。manytomany 字段的 Django 表示在查找中显示“agent_set”，但该字段本身是“agent”：

```
agents=Airport.objects.filter(agent_name_contains='agent_') 
```

# javascript - 如何使用 ECMA 脚本将图像文件上传到 SharePoint 2010 图片库

> ID：12616326
> 
> 赞同：0
> 
> 时间：2012-09-27T07:34:53.657
> 
> 标签：javascript, sharepoint-2010, ecmascript-5, ecmascript-4

我需要使用java脚本将图像文件上传到sharepoint 2010图片库...

要求是——

1.我们有文件上传控制

2.并且，我们必须从该文件上传控件上传图像文件

请查看代码...但是此代码不起作用（显示“文件”或“文件信息”的“未定义对象”异常）

如果任何机构有更好的解决方案，那就太好了。

提前致谢。

```
<script>
var clientContext = new SP.ClientContext.get_current();
var oList = clientContext.get_web().get_lists().getByTitle('Test');
//var fStream = (new FileInfo(uploadimagepath)).OpenRead();
var fStream = File.OpenRead(uploadimagepath);
//var fStream = FileUpload.PostedFile.InputStream;
//var contents = new byte[fStream.Length];
var newPic = oList.RootFolder.Files.Add(phototitle, fStream);
var oItem = newPic.Item;
oItem.set_item('Title', phototitle);
oItem.update();
oList.Rootfolder.Update();
clientContext.load(oItem);
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:38:50.597

您不能使用uploadimagepath，它会为您提供来自客户端的路径。

而是使用从客户端发送到服务器的文件流。

检查此 url 以更好地理解文件上传控制

[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.fileupload.postedfile.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.fileupload.postedfile.aspx)

# sql-server-2008 - SSRS 2012 总是提示登录

> ID：12616327
> 
> 赞同：0
> 
> 时间：2012-09-27T07:34:57.327
> 
> 标签：sql-server-2008, reporting-services

我正在使用 SSRS 2012 进行报告，当我在生产服务器上部署它并尝试访问报告时，它总是提示我登录，如果我们输入服务器登录详细信息，那么它工作正常。

我想避免这个登录提示，我该怎么做，我在谷歌上做了很多搜索并尝试实现这些但没有得到任何运气。

请帮助我们。

谢谢阿图尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-21T08:47:24.260

希望您的问题现在得到解决。但我正在寻求克服同样的问题，并找到了解决方案。我想其他人可能会从中得到帮助。

我试图将报告部署到我们的生产服务器，但它会一次又一次地提示输入用户凭据，但不会部署报告，并且报告似乎一切正常。

我尝试了服务器上使用的所有凭据，但没有任何效果。

最终我想到有**.RDL、.RDS**文件用于生成报告，并且应该以某种方式将相同的文件上传到服务器上，这次我使用了 FTP 用户帐户凭据和 Bingo！，它起作用了。

希望这可以节省其他人的时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T14:55:02.730

检查 IE 的“用户身份验证”设置（请参阅 [http://blogs.msdn.com/b/axinthefield/archive/2011/05/06/logon-dialog-box-when-launching-a-reporting-services中的屏幕截图-report-from-ax.aspx](http://blogs.msdn.com/b/axinthefield/archive/2011/05/06/logon-dialog-box-when-launching-a-reporting-services-report-from-ax.aspx) )

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-13T12:32:10.160

IE 设置：

1.  打开 Internet Explorer
2.  转到工具并单击 Internet 选项
3.  在安全选项卡下，单击受信任的站点，然后单击站点按钮并将报表管理器/报表服务器 URL 添加到受信任的站点。
4.  然后单击自定义级别，并选中使用当前用户名和密码自动登录选项
5.  对本地 Intranet 重复 #3 和 #4

取自：[https ://social.msdn.microsoft.com/Forums/sqlserver/en-US/b1efd3f0-4fc5-4015-b13a-b79737466271/how-to-stop-prompting-for-username-password-when-i -click-report-server-web-service-urls-in-ssrs?forum=sqlreportingservices](https://social.msdn.microsoft.com/Forums/sqlserver/en-US/b1efd3f0-4fc5-4015-b13a-b79737466271/how-to-stop-prompting-for-username-password-when-i-click-report-server-web-service-urls-in-ssrs?forum=sqlreportingservices)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2016-10-19T03:08:05.627

登录“服务器”/ReportServer

*   点击rdl文件“下拉”

*   选择管理

*   检查数据源的连接字符串框是否为空

    *   如果为空，请再次提供连接字符串
*   选择选项 Windows 集成安全性

*   测试并保存您的连接字符串。

这将覆盖您的本地主机凭据。

# excel - Excel VBA - 运行时错误 1004（RefreshAll 失败）

> ID：12616331
> 
> 赞同：5
> 
> 时间：2012-09-27T07:35:07.527
> 
> 标签：excel, vba

我创建了一个宏来刷新我的工作簿（重新计算值、刷新链接等）。

刷新链接的代码工作正常，但是当它遇到`RefreshAll`以下错误时。

```
ActiveWorkbook.UpdateLink Name:="F:\klanten.xlsm", Type:=xlExcelLinks
ActiveWorkbook.RefreshAll 
```

![在此处输入图像描述](../Images/7d3b152b222820e9a573a961fd2105ef.png)

感谢所有帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:54:06.613

而不是一个`RefreshAll`选项，你正在寻找一个`Calculate`选项

我建议你`Application.CalculateFull`用来计算所有公式

查尔斯·威廉姆斯关于[Excel 计算方法](http://www.decisionmodels.com/calcsecretsg.htm)的这个链接可能很有用

# python - 使用 python 读取 url 时识别希腊语单词

> ID：12616332
> 
> 赞同：0
> 
> 时间：2012-09-27T07:35:09.983
> 
> 标签：python, encoding, words

我是新的python程序员。我编写了一个简单的脚本，它执行以下操作：

*   向用户询问 url
*   读取 url (urlopen(url).read())
*   标记上述命令的结果

我将标记化的结果放在两个文件中。一个有拉丁字符的单词（英语、西班牙语等），另一个有其余的（希腊单词等）。

问题是，当我打开一个希腊语 url 时，我会从中获取希腊语，但我将其视为字符序列，而不是单词（就像在拉丁语中发生的情况一样）。

我希望得到一个单词列表 ( `μαρια`, `γιωργος`, `παιδι`) （项目数 3），但我得到的是`('μ','α','ρ','ι', 'α'........)`与字母一样多的项目数

我应该怎么办？（编码为utf-8）

遵循代码：

```
#!/usr/bin/env python
# -*- coding: utf-8 -*-

#Importing useful libraries 
#NOTE: Nltk should be installed first!!!
import nltk
import urllib #mporei na einai kai urllib
import re
import lxml.html.clean
import unicodedata
from urllib import urlopen

http = "http://"
www = "www."
#pattern = r'[^\a-z0-9]'

#Demand url from the user
url=str(raw_input("Please, give a url and then press ENTER: \n"))

#Construct a valid url syntax
if (url.startswith("http://"))==False:
    if(url.startswith("www"))==False:
        msg=str(raw_input("Does it need 'www'? Y/N \n"))
        if (msg=='Y') | (msg=='y'):
            url=http+www+url
        elif (msg=='N') | (msg=='n'):
            url=http+url
        else:
            print "You should type 'y' or 'n'"
    else:
        url=http+url

latin_file = open("Latin_words.txt", "w")
greek_file = open("Other_chars.txt", "w")
latin_file.write(url + '\n')
latin_file.write("The latin words of the above url are the following:" + '\n')
greek_file.write("Οι ελληνικές λέξεις καθώς και απροσδιόριστοι χαρακτήρες")

#Reading the given url

raw=urllib.urlopen(url).read()

#Retrieve the html body from the url. Clean it from html special characters
pure = nltk.clean_html(raw)
text = pure

#Retrieve the words (tokens) of the html body in a list
tokens = nltk.word_tokenize(text)

counter=0
greeks=0
for i in tokens:
    if re.search('[^a-zA-Z]', i):
        #greeks+=1
        greek_file.write(i)
    else:
        if len(i)>=4:
            print i
            counter+=1
            latin_file.write(i + '\n')
        else:
            del i

#Print the number of words that I shall take as a result
print "The number of latin tokens is: %d" %counter

latin_file.write("The number of latin tokens is: %d and the number of other characters is: %d" %(counter, greeks))
latin_file.close()
greek_file.close() 
```

我在很多方面检查了它，据我所知，该程序只能识别希腊字符但无法识别希腊单词，意思是我们分隔单词的空格！

如果我在终端中输入带有空格的希腊语句子，它会正确显示。当我阅读某些内容（例如 html 页面中的正文）时会出现问题

此外，在 text_file.write(i) 中，关于希腊语 i，如果我写 text_file.write(i+ '\n')，结果是无法识别的字符，也就是我失去了我的编码！

关于上述任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:07:20.523

Python`re`模块因其对 unicode 的弱支持而臭名昭著。对于严肃的 unicode 工作，请考虑替代[regex 模块](http://pypi.python.org/pypi/regex/0.1.20120904)，它完全支持 unicode 脚本和属性。例子：

```
text = u"""
Some latin words, for example: cat niño määh fuß
Οι ελληνικές λέξεις καθώς και απροσδιόριστοι χαρακτήρες
"""

import regex

latin_words = regex.findall(ur'\p{Latin}+', text)
greek_words = regex.findall(ur'\p{Greek}+', text) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:08:21.113

这是您的代码的简化版本，使用优秀的[`requests`库](http://docs.python-requests.org/en/latest/index.html)来获取 URL，自动关闭文件的[`with`语句](http://effbot.org/zone/python-with-statement.htm)[`io`](http://docs.python.org/library/io.html)并帮助使用 utf8。

```
import io
import nltk
import requests
import string

url = raw_input("Please, give a url and then press ENTER: \n")
if not url.startswith('http://'):
   url = 'http://'+url
page_text = requests.get(url).text
tokens = nltk.word_tokenize(page_text)

latin_words = [w for w in tokens if w.isalpha()]
greek_words = [w for w in tokens if w not in latin_words]

print 'The number of latin tokens is {0}'.format(len(latin_words))

with (io.open('latin_words.txt','w',encoding='utf8') as latin_file,
      io.open('greek_words.txt','w',encoding='utf8') as greek_file):

    greek_file.writelines(greek_words)
    latin_file.writelines(latin_words)

    latin_file.write('The number of latin words is {0} and the number of others {1}\n'.format(len(latin_words),len(greek_words)) 
```

我简化了检查 URL 的部分；这样无效的 URL 将不会被读取。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T07:45:48.797

在这里，我认为您正在寻找子字符串而不是字符串`if re.search('[^a-zA-Z]', i)` ，您可以通过循环列表从列表中获取单词`token`

# php - 尝试在失败时再次加载 URL

> ID：12616334
> 
> 赞同：0
> 
> 时间：2012-09-27T07:35:21.473
> 
> 标签：php, url, error-handling, simple-html-dom

以下函数接收表示 url 的字符串参数，然后将 url 加载到 simple_html_dom 对象中。如果加载失败，它会尝试再次加载 url。

```
 public function getSimpleHtmlDomLoaded($url)
  {
    $ret = false;
    $count = 1;
    $max_attemps = 10;
    while ($ret === false) {
      $html = new simple_html_dom();
      $ret = $html->load_file($url);
      if ($ret === false) {
        echo "Error loading url: $url\n";
        sleep(5);
        $count++;
        $html->clear();
        unset($html);
        if ($count > $max_attemps) 
          return false;
      }
    }
    return $html;
  } 
```

但是，如果一次 url 加载失败，它会一直为当前 url 失败，并且在`max attemps`结束后，它还会在下一次调用该函数时继续失败，并且它必须处理其余的 url。

如果 url 暂时处于脱机状态，则继续失败是有意义的，但它们不是（我在脚本运行时检查过）。

任何想法为什么这不能正常工作？

我还想指出，当开始无法加载 url 时，它只会发出警告（而不是多个警告），并带有以下消息：

> PHP 警告：file_get_contents(http://www.foo.com/resource)：打开流失败：HTTP 请求失败！在第 1081 行的 simple_html_dom.php 中

这行代码提示：

```
$ret = $html->load_file($url); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:13:49.270

我已经测试了您的代码，它对我来说非常有效，每次我调用该函数时，它都会从第一次返回有效结果。

因此，即使您从同一个域加载页面，页面或服务器上也可能会受到一些保护。例如，页面可以查找一些 cookie，或者服务器可以查找您的用户代理，如果它将您视为机器人，它将无法提供正确的内容。

我在解析一些网站时遇到了类似的问题。对我来说，答案是查看某些页面/服务器期望什么，并让我的代码模拟它。一切，从伪造用户代理到生成 cookie 等等。

顺便说一句，您是否尝试过创建一个简单的 php 脚本来测试“简单的 html dom”解析器可以在您的服务器上运行而没有错误？这是我要检查的第一件事。

最后我必须补充一点，在一个案例中，虽然我多次尝试解析一页都失败了，但我无法赢得伪装游戏。最后，我制作了一个脚本，在 linux 命令行文本浏览器 lynx 中加载该页面并将整个页面保存在本地，然后我解析了该本地文件，该文件运行良好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-12T08:28:10.103

可能是**load_file()**函数本身的问题。

问题是，函数 error_get_last() 也返回所有 privious 错误，不知道，可能取决于 PHP 版本？

I solved the problem by changing it to (check if error changed, not if it is null) (or use the non object function: **file_get_html()**):

```
function load_file()
{
    $preerror=error_get_last();
    $args = func_get_args();
    $this->load(call_user_func_array('file_get_contents', $args), true);
    // Throw an error if we can't properly load the dom.
    if (($error=error_get_last())!==$preerror) {
        $this->clear();
        return false;
    }
} 
```

# hibernate - Hibernate如何决定更新/插入/删除的顺序

> ID：12616336
> 
> 赞同：37
> 
> 时间：2012-09-27T07:35:26.113
> 
> 标签：hibernate, deadlock, database-deadlocks

让我们首先忘记 Hibernate。假设我有两个表，A & B。两个事务正在更新这两个表中的相同记录，但是 txn 1 更新 B 然后 A，而 txn 2 更新 A 然后 B。这是一个典型的死锁示例。避免这种情况的最常见方法是预先定义获取资源的顺序。例如，我们应该先更新表 A，然后再更新 B。

回到休眠状态。当我们在一个会话中更新大量实体时，一旦我刷新会话，不同实体的更改将生成相应的插入/更新/删除语句到数据库。Hibernate 是否有一些算法来决定实体之间的更新顺序？如果不是，Hibernate 用来防止第 1 段中描述的死锁情况的方式是什么？

如果 Hibernate 正在维护订单，我如何知道或控制订单？我不希望我在 DB 中的显式更新与 Hibernate 发生冲突，并导致死锁。

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2014-04-04T11:32:56.830

您描述的问题不是由数据库处理的，根据我的经验，Hibernate 也没有完全处理。

您必须采取明确的步骤来避免它成为问题。

Hibernate 会为您完成一些工作。根据前面的答案，Hibernate 确保在隔离刷新中，插入、删除和更新的排序方式确保它们将以可实现的顺序应用。请参阅AbstractFlushingEventListener 类中的[performExecutions(EventSource session)](https://docs.jboss.org/hibernate/orm/4.2/javadocs/org/hibernate/event/internal/AbstractFlushingEventListener.html#performExecutions%28org.hibernate.event.spi.EventSource%29)：

> 以特殊顺序执行所有 SQL（和二级缓存更新），以免违反外键约束：
> 
> 1.  插入，按执行顺序
> 2.  更新
> 3.  删除集合元素
> 4.  集合元素的插入
> 5.  删除，按执行顺序

当有唯一约束时，了解这个顺序非常重要，特别是如果你想替换一个一对多的孩子（删除旧的/插入新的）但是旧的和新的孩子共享相同的唯一约束（例如相同的电子邮件地址）。在这种情况下，您可以更新旧条目，而不是删除/插入，或者您可以在删除后刷新，然后继续插入。有关更详细的示例，您可以查看[这篇文章](http://vladmihalcea.com/hibernate-facts-knowing-flush-operations-order-matters/)。

请注意，它没有指定更新的顺序。检查 Hibernate 代码使我认为更新顺序将取决于将实体添加到持久性上下文中的顺序，而**不是**更新它们的顺序。这在您的代码中可能是可以预测的，但是阅读 Hibernate 代码并没有让我觉得我会依赖这种排序。

我能想到的解决方案有以下三种：

1.  尝试将[hibernate.order_updates](http://docs.jboss.org/hibernate/orm/4.2/manual/en-US/html/ch03.html#configuration-optional)设置为*true*。当同一个表中的多行被更新时，这应该有助于避免死锁，但对跨多个表的死锁没有帮助。
2.  在进行任何更新之前，让您的事务对其中一个实体进行[PESSIMISTIC_WRITE锁定。](http://docs.jboss.org/hibernate/core/4.2/javadocs/org/hibernate/LockMode.html#PESSIMISTIC_WRITE)您使用哪个实体将取决于您的具体情况，但只要您确保在存在死锁风险的情况下始终选择实体，这将阻塞事务的其余部分，直到可以获得锁为止。
3.  编写代码以在死锁发生时捕获并以合理的方式重试。管理死锁重试的组件必须位于当前事务边界之外。这是因为必须关闭失败的会话并回滚相关的事务。在[本文中](http://vladmihalcea.com/optimistic-locking-retry-with-jpa/)，您可以找到一个自动重试 AOP 特性的示例。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-27T08:20:48.153

关于第一个例子 - 这种东西由数据库处理（阅读更多关于事务隔离级别和数据库锁定策略的信息）。有许多不同的方法可以处理这个问题。

至于 Hibernate，org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(EventSource) 的 javadoc 说：

以特殊顺序执行所有 SQL 和二级缓存更新，以免违反外键约束：

1.  插入，按执行顺序
2.  更新集合元素的删除
3.  集合元素的插入
4.  删除，按执行顺序

我假设这是 Hibernate 执行的 SQL 查询的唯一优化。其余问题由数据库处理。

# sql - 合并两个视图

> ID：12616345
> 
> 赞同：2
> 
> 时间：2012-09-27T07:35:57.253
> 
> 标签：sql, sql-server-2008

我有两个视图 A 和 B 都具有相同的列名`StudentID, FeeToBePaid, AmountPaid`。在这两种观点`StudentID`中是相同的。但列`FeeToBePaid`和`AmountPaid`是不同的。

我想将 B 中的行替换为 A`if A.FeeToBePaid <= A.AmountPaid`中具有相同的行`studentID`。

查看 A

```
SchoolStudentID     sFeeToBePaid     amountpaid
12-S-3003             1000.00         1000.00 
```

视图 B

```
SchoolStudentID   sFeeToBePaid   amountpaid
  12-S-3003         1000.00        0.00 
  11-F-2019         NULL           1000.00
  12-S-3009         NULL           1000.00 
```

我需要答案

`SchoolStudentID` `sFeeToBePaid` `amountpaid`

```
 12-S-3003         1000.00        1000.00
  11-F-2019         NULL           1000.00
  12-S-3009         NULL           1000.00 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:05:42.757

尝试通过结合两个`LEFT JOIN`using `UNION`without *ALL*的结果来消除重复记录。

```
SELECT a.SchoolStudentID , 
       CASE WHEN a.sFeeToBePaid  <= a.amountpaid 
            THEN a.sFeeToBePaid 
            ELSE b. sFeeToBePaid 
       END AS sFeeToBePaid,
       CASE WHEN a.sFeeToBePaid  <= a.amountpaid 
            THEN a.amountpaid
            ELSE b.amountpaid 
       END AS amountpaid 
FROM   ViewA a
       LEFT JOIN ViewB b
        ON a.SchoolStudentID  = b.SchoolStudentID 
UNION
SELECT a.SchoolStudentID , 
       CASE WHEN b.sFeeToBePaid  <= b.amountpaid 
            THEN b.sFeeToBePaid 
            ELSE a. sFeeToBePaid 
       END AS sFeeToBePaid,
       CASE WHEN b.sFeeToBePaid  <= b.amountpaid 
            THEN b.amountpaid
            ELSE a.amountpaid 
       END AS amountpaid 
FROM   ViewB a
       LEFT JOIN ViewA b
        ON a.SchoolStudentID  = b.SchoolStudentID 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!6/83321/4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:04:12.007

**编辑**

考虑到，任何`UNION`是不必要的，以下就足够了

```
SELECT
            B.SchoolStudentID
          , CASE WHEN(A.sFeeToBePaid <= A.amountpaid)
                THEN A.sFeeToBePaid
                ELSE B.sFeeToBePaid
            END sFeeToBePaid
          , CASE WHEN(A.sFeeToBePaid <= A.amountpaid)
                THEN A.amountpaid
                ELSE B.amountpaid
            END amountpaid                               
    FROM
          B
        LEFT JOIN
          A ON A.SchoolStudentID = B.SchoolStudentID 
```

## [**SQL 小提琴演示**](http://sqlfiddle.com/#!6/41766/7/0)

如果满足条件，这只是用值替换`B`值。`A`

* * *

**编辑2**

添加

```
 ORDER BY
              sFeeToBePaid DESC
            , SchoolStudentID 
```

在这种特定情况下会给你你想要的订单。然而，这似乎并不明智。我需要知道所需的行顺序`B`以保持顺序一致。

请注意，如果没有`ORDER BY`指定，查询引擎将使用它认为合适的任何顺序来统计请求。这可能在调用之间通常是一致的，但这只是偶然的。如果您的服务器有多个处理器并且查询性能受益于使用多个处理器，您会注意到频繁的变化。即，如果您的查询计划涉及并行化。

# asp.net - 如何在 Asp.Net Mvc3 中格式化十进制

> ID：12616360
> 
> 赞同：0
> 
> 时间：2012-09-27T07:36:53.507
> 
> 标签：asp.net, asp.net-mvc-3

我需要验证我的编辑器字段是否可以输入产品价格，比如他可以输入整数为 100，或者小数点后只允许两位数为 85.12，如果用户输入 85,12，它也是有效的，它在数据库中存储为 85.12。模型类：

```
[Required]

[LocalizedDisplayName("PRICE_PER_COLLI", NameResourceType = typeof(Strings))] [DisplayFormat(DataFormatString = "{0:n2}", ApplyFormatInEditMode = true)]

public decimal ColliPrice { get; set; } 
```

看法：

```
<%: Html.EditorFor(model => model.ColliPrice) %> 
<%: Html.ValidationMessageFor(model => model.ColliPrice) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:43:40.853

我以前做过这样的事情：

```
@Html.TextBox("ColliPrice", Model.ColliPrice.ToString("0.00")) 
@Html.ValidationMessageFor(model => model.ColliPrice) 
```

# asp.net - 在绑定变量 APX 中格式化日期和时间

> ID：12616371
> 
> 赞同：0
> 
> 时间：2012-09-27T07:37:26.140
> 
> 标签：asp.net

我在我的 ASPX 中有这个绑定变量

```
Text='<%# Bind("PLANSTART","{0:dd/MM/yyyy HH:MM}") %>' 
```

输入日期是这个 28.09.12 13:45，我想显示“2012 年 9 月 28 日 13:45”，但我选择这个：“2012 年 9 月 28 日 13:00”

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:45:56.913

试试这个`MM`，`mm`

```
Text='<%# Bind("PLANSTART","{0:dd/MM/yyyy HH:mm}") %>' 
```

# asp.net-mvc - ASP.NET MVC 项目过滤器属性为正常功能

> ID：12616372
> 
> 赞同：0
> 
> 时间：2012-09-27T07:37:26.423
> 
> 标签：asp.net-mvc, filter, filterattribute

我有一个 asp.net mvc 项目，它分为 projectlayers： Test 有一个调用 taskproject 的控制器。在任务中，函数调用数据库并返回数据。测试项目：

```
Homecontroller()
{
     public ActionResult Index()
    {
        List<Person> pers = PersonTask.getPersons();
         return View(pers);
    }
 } 
```

任务项目：

```
 public static List<Person> getPersons()
    {
        using (var context = new FilterTestEntities())
        {
            return context.People.OrderBy(p => p.PersonID).ToList();
        }
    } 
```

我想对返回控制器的数据进行过滤。我知道有一个 FilterAttribute，但据我所知，这只能在动作函数上实现。是否可以在我的 getPersons() 函数上放置一个 filterAttribute。喜欢：

```
[PersonFilter]      
public static List<Person> getPersons() 
```

谢谢。

# php - 如何将javascript中组合框（EXTJS）中的参数传递给php文件？

> ID：12616374
> 
> 赞同：1
> 
> 时间：2012-09-27T07:37:36.893
> 
> 标签：php, javascript, extjs

首先，我声明了一个名为 leventcombo 的 Ext.form.ComboBox，并且我还创建了一个名为 leventstore 的商店 Ext.data.JsonStore。我可以访问 php 文件并且数据可以返回 javascript。但我无法将 id 值传递给 php 文件。我怎样才能发送它？

```
var leventcombo = new Ext.form.ComboBox({
    store: leventstore,// call jsonstore
    fieldLabel: '',
    minChars: 2,
    width:50,
    displayField:'isim',
    valueField: 'isim',
    typeAhead: false,
    loadingText: dil('Aranıyor...'),
    hideTrigger:true, 
    tpl: template1,
    emptyText: dil('levo ...'),
    itemSelector: 'div.search-item',
    name: 'leventwindeneme',
    id: 'leventwindenemeID',
    anchor: '100%',
    allowBlank:false,
    listeners:{
       beforequery: function(){
       }   
    }            
});

var leventstore = new Ext.data.JsonStore({
    totalProperty: 'results',
    root: 'rows',
    id: 'id',
    proxy: new Ext.data.HttpProxy({
       url: 'phps/leventstore.php?lang=dil(lang)'
    }),
    fields: [
    {
       ///phpden dönen veriler
       name:'id'
    },{
       ///phpden dönen veriler
       name:'isim'
    }]
}); 
```

leventstore.php：

```
<?php
include_once("kutuphane/inc.php");
$sql="select id, isim  from levent";
$_SESSION["VT"]->doQuery($sql);
$donecek = $_SESSION["VT"]->arrayYapVer();

$veriler=array();
if (sizeof($donecek) > 0) {
    foreach ($donecek as $file) {
        $tempFi = array();
        $tempFi = array(
            "id" => $file["id"],
            "isim" => $file["isim"]

        );
        array_push($veriler, $tempFi);
    }
}
$donecek = array("results" => (sizeof($donecek)), "success" => "true", "rows" => $veriler);
echo json_encode($donecek);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T12:08:55.680

看看这里： [http ://docs.sencha.com/ext-js/4-1/#!/api/Ext.Ajax-cfg-extraParams](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.Ajax-cfg-extraParams)

您应该使用“参数”配置选项。

如果要手动加载存储，请使用以下命令：

```
leventstore.proxy.extraParams.id = your_id;
leventstore.load(); 
```

# jquery - 上下文菜单 jquery 在第一次单击时不起作用

> ID：12616376
> 
> 赞同：0
> 
> 时间：2012-09-27T07:37:41.620
> 
> 标签：jquery, grails, contextmenu, right-click

嗨，我正在使用 jquery 上下文菜单插件。但是刚才，我们注意到它在第一次右键单击时不起作用。它仅在第二次右键单击时响应。有人可以指出我如何解决这个问题的正确方向吗？

这是插件上下文菜单的代码

```
 /*!
 * jQuery ContextMenu
 * http://www.userdot.net/#!/jquery
 *
 * Copyright 2011, UserDot www.userdot.net
 * Licensed under the GPL Version 3 license.
 * Version 1.0.0
 *
 */
(function($) {
    var classes = {
        popupDiv : 'uctxMenu',
        separator : 'separator',
        hover : 'hover',
        disabled : 'disabled'
    },
    defaults = {
        menu : null,
        mouseButton : 'left',
        isMenu : true,
        minWidth : 120,
        maxWidth : 0,
        delay : 500,
        keyboard : true,
        hoverIntent : true,
        onSelect : function(item) {},
        onLoad : function() {alert("click")},
        onShow : function() {},
        onHide : function() {}
    },
    menus = [],
    methods = {
        init : function(options) {
            options = $.extend({}, defaults, options);
            if (!options.menu) {
                return false;
            }   
            var $menu;
            if ((typeof(options.menu) === 'object') && (options.menu.constructor.toString().match(/array/i) !== null || options.menu.length)) {
                $menu = $('<div/>').append(buildMenu(options.menu));
                $('body').append($menu);
                $menu.data('uctxDynamic', true);
            }
            else {
                $menu = $(document.getElementById(options.menu));
                $menu.data('uctxDynamic', false);
                $menu.data('uctxOriginal', $menu.clone());
            }
            return this.each(function() {
                var $this = $(this),
                eventNamespace;     
                if (!$this.data('uctxMenu')) {          
                    eventNamespace = "uctxContext-" + (new Date().getTime());
                    $this.data('uctxEventNamespace', eventNamespace)
                    .data('uctxOptions', options)
                    .data('uctxMenu', $menu)
                    .data('uctxEnable', true);
                    $menu.data('isMenu', options.isMenu);           
                    if (! $menu.data('uctxOwners')) {
                        $menu.data('uctxOwners', []);
                    }           
                    $menu.data('uctxOwners').push($this);       
                    menus.push($menu);      
                    if (options.isMenu) {
                        methods.refresh.call($this);
                    }
                    else {
                        $menu.hide();
                        $menu.css({
                            'position' : 'absolute', 
                            'z-index' : 99999
                        });         
                    }
                    $this.bind((((options.mouseButton === 'right') ? 'contextmenu' : 'click') + '.' + eventNamespace), function(e){     
                        if (! $this.data('uctxEnable')) {
                            return true;
                        }
                        methods.show.apply($this, [e.pageX, e.pageY, options.showAnimation]);       
                        if (options.isMenu && options.keyboard) {           
                            $(window).bind('keydown.' + eventNamespace, function(even){
                                var $currentItem;
                                switch (event.keyCode) {
                                    case 27:
                                        $(document).trigger('click.' + eventNamespace);
                                        break;
                                    case 40:
                                        if ($menu.find('li.' + classes.hover).length === 0) {
                                            $menu.find('li:not(.disabled):first').addClass(classes.hover);
                                        }
                                        else {
                                            $currentItem = $menu.find('li.' + classes.hover + ':last');
                                            $currentItem.parent().find('li.' + classes.hover).removeClass(classes.hover).nextAll('li:not(.disabled)').eq(0).addClass(classes.hover);
                                            if ($currentItem.parent().find('li.' + classes.hover).length === 0) {
                                                $currentItem.parent().find('li:not(.disabled):first').addClass(classes.hover);
                                            }
                                        }
                                        return false;
                                    case 38:
                                        if ($menu.find('li.' + classes.hover).length === 0) {
                                            $menu.find('li:not(.disabled):first').nextAll().eq(-1).addClass(classes.hover);
                                        }
                                        else {
                                            $currentItem = $menu.find('li.' + classes.hover + ':last');
                                            $currentItem.parent().find('li.' + classes.hover).removeClass(classes.hover).prevAll('LI:not(.disabled)').eq(0).addClass(classes.hover);
                                            if ($currentItem.parent().find('li.' + classes.hover).length === 0) {
                                                $currentItem.parent().find('li:first').nextAll().eq(-1).addClass(classes.hover);
                                            }
                                        }
                                        return false;
                                    case 39:
                                        if ($menu.find('li.' + classes.hover + ' ul').length > 0) {
                                            $menu.find('li.' + classes.hover + ':last').find('ul:first').show().offset(forceViewport({
                                                top: $menu.find('li.' + classes.hover + ':last').offset().top
                                            }, $menu.find('li.' + classes.hover + ':last').find('ul:first')));
                                            $menu.find('li.' + classes.hover + ':last ul:first li:not(.disabled):first').addClass(classes.hover);
                                        }
                                        return false;
                                    case 37:
                                        if (!$menu.find('li.' + classes.hover + ':last').parent().parent().hasClass(classes.popupDiv)) {
                                            $menu.find('li.' + classes.hover + ':last').removeClass(classes.hover).parent().hide();
                                        }
                                        return false;
                                }
                                return true;
                            });
                        }
                        else {
                            if (options.keyboard) {
                                $(window).bind('keydown.' + eventNamespace, function(even){
                                    if (event.keyCode === 27) {
                                        $(document).trigger('click.' + eventNamespace);
                                    }
                                });
                            }
                        }           
                        $('li', $menu).each(function() {  
                            $(this).click(function() { 
                                if (!$(this).hasClass(classes.disabled)) {
                                    options.onSelect.call(this, {
                                        id : $(this).attr('id'),
                                        action : $('a:first', this).attr('href').substr(1)
                                    });
                                }
                            });
                        });
                        $(document).bind('click.' + eventNamespace, function(e){
                            $(window).unbind('keydown.' + eventNamespace);
                            $(document).unbind('click.' + eventNamespace);
                            $('li', $menu).unbind('click');
                            methods.hide.call();
                        });     
                        options.onShow.call(this);
                        return false;
                    });
                }       
                options.onLoad.call(this);
            });
        },
        refresh : function(options) {   
            var opts;
            return this.each(function() {
                var $this = $(this),
                $menu = $this.data('uctxMenu'),
                calculatedWidth,
                $widthTest;     
                if ($this.data('uctxMenu').data('isMenu')) {
                    opts = $.extend($this.data('uctxOptions'), options);
                    if (opts.hoverIntent && ! $.fn.hoverIntent) {
                        opts.hoverIntent = false;
                    }
                    $menu.removeClass(classes.popupDiv);
                    $('li', $menu).removeClass(classes.hover);
                    $('span', $menu).remove();
                    $menu.addClass(classes.popupDiv);
                    $widthTest = $('<div/>').addClass(classes.popupDiv).appendTo('body');       
                    $('ul', $menu).each(function() {
                        $widthTest.html('');
                        calculatedWidth = 0;    
                        $widthTest.html($(this).html());
                        calculatedWidth = $widthTest.width() + 16; 
                        if (calculatedWidth < opts.minWidth) {
                            calculatedWidth = opts.minWidth;
                        }
                        if (calculatedWidth > opts.maxWidth && opts.maxWidth > 0){
                            calculatedWidth = opts.maxWidth;
                        }   
                        $(this).width(calculatedWidth);
                        $(this).children('li').children('ul').css('left', calculatedWidth);
                    });
                    $widthTest.remove(); 
                    $('li:has(ul)', $menu).each(function(){
                        if (! $(this).hasClass(classes.disabled)) {
                            $('a:first', this).append($('<span/>'));
                            if (opts.hoverIntent) {
                                $(this).hoverIntent({
                                    over : function() {
                                        $('ul:first', this).show().offset(forceViewport({
                                            top: $(this).offset().top
                                        }, $('ul:first',this)));
                                    }, 
                                    out : function() {
                                        $('ul:first', this).hide();
                                    }, 
                                    timeout : opts.delay
                                });
                            }
                            else {
                                $(this).hover(function() {
                                    $('ul:first', this).show().offset(forceViewport({
                                        top: $(this).offset().top
                                    }, $(this).find('ul:first')));
                                }, function() {
                                    $('ul:first', this).hide();
                                });
                            }
                        }                       
                    });
                    $('li', $menu).each(function() {
                        $(this).click(function() {
                            if ($('ul', this).length < 1) {
                                $('li', $menu).unbind('click');
                                $menu.hide();
                            }
                            return false;
                        });
                        $(this).hover(function() {
                            $(this).parent().find('li.' + classes.hover).removeClass(classes.hover);
                            $(this).addClass(classes.hover);
                        }, function() {
                            $(this).removeClass(classes.hover);
                        });
                    });
                }
            });
        },
        restore : function() {
            return this.each(function() {
                var $this = $(this),
                $menu = $this.data('uctxMenu');
                $this.unbind('.' + $this.data('uctxEventNamespace'));
                $(window).unbind('keydown.' + $this.data('uctxEventNamespace'));
                $(document).unbind('click.' + $this.data('uctxEventNamespace'));
                $.each($menu.data('uctxOwners'), function(index) {
                    if ($this[0] === this) {
                        $menu.data('uctxOwners').splice(index, 1);
                    }
                });
                if ($menu.data('uctxOwners').length < 1) {
                    $.each(menus, function(index) {
                        if ($menu[0] === this) {
                            menus.splice(index, 1);
                        }
                    });
                    if ($menu.data('uctxDynamic')) {
                        $menu.remove();
                    }
                    else {
                        $menu.removeClass(classes.popupDiv);
                        $menu.replaceWith($menu.data('uctxOriginal'));
                    }
                }
                $this.removeData('uctxEventNamespace');
                $this.removeData('uctxMenu');
                $this.removeData('uctxOptions');
                $this.removeData('uctxEnable');     
            });
        },
        show : function(x, y) { 
            if (!x || !y) {
                $.error('The position for the menu has not been specified');
                return false;
            }
            var $menu = $(this).first().data('uctxMenu');
            methods.hide.apply(this);
            $menu.show();
            $menu.data('uctxMenu', $(this));
            $menu.offset(forceViewport({
                top : y, 
                left: x
            }, $menu, true));   
            return this;    
        },
        hide : function() {
            $.each(menus, function() {
                $('.' + classes.hover, this).removeClass(classes.hover);
                $('ul:first ul', this).hide();
                if ($(this).data('uctxMenu')) {
                    $(this).data('uctxMenu').data('uctxOptions').onHide.call($(this).data('uctxMenu'));
                    $(this).removeData('uctxMenu');
                }
                $(this).hide();
            });
            return this;
        },
        disable : function(item) {
            if (item) {
                var $menu = $(this).data('uctxMenu');
                if (item.charAt(0) === '#') {
                    $('li' + item.replace(/ /g,'_'), $menu).addClass(classes.disabled);
                }
                else {
                    $('a[href="' + item + '"]', $menu).parent().addClass(classes.disabled);
                }
            }
            else {
                $(this).data('uctxEnable', false);
            }
            return this;
        },
        enable : function(item) {
            if (item) {
                var $menu = $(this).data('uctxMenu');
                if (item.charAt(0) === '#') {
                    $('li' + item.replace(/ /g,'_'), $menu).removeClass(classes.disabled);
                }
                else {
                    $('a[href="' + item + '"]', $menu).parent().removeClass(classes.disabled);
                }
            }
            else {
                $(this).data('uctxEnable', true);
                $('li', this).each(function() {
                    $(this).removeClass(classes.disabled);
                });
            }
            return this;    
        }
    },
    forceViewport = function(position, o, mouse) {
        if (position.top) {
            if ((position.top + o.height() - $(window).scrollTop()) > $(window).height()) {
                if (mouse) {
                    position.top = position.top - o.height();
                }
                else {
                    position.top = $(window).height() + $(window).scrollTop() - o.height();
                }
            }
            if (position.top < $(window).scrollTop()) {
                position.top = $(window).scrollTop();
            }
        }
        if (position.left) {
            if ((position.left + o.width() - $(window).scrollLeft() > $(window).width())) {
                position.left = $(window).width() - o.width() + $(window).scrollLeft();
            }
            if (position.left < $(window).scrollLeft()) {
                position.left = $(window).scrollLeft();
            }
        }
        return position;
    },
    buildMenu = function(children) {
        var ul = $('<ul/>'), entry, item, li;
        if (children) {
            for (entry in children) {
                item = children[entry];
                li = $('<li/>').attr('id' , item.id.replace(/ /g,'_')).append($('<a/>').attr('href', item.action?('#' + item.action):'#').text(item.text));
                if (item.image) {
                    li.prepend($('<img/>').attr('src', item.image));
                }
                if (item.separator) {
                    li.addClass(classes.separator);
                }
                ul.append( li );
                if (item.children) {
                    li.append(buildMenu(item.children));
                }
            }
        }
        return ul;
    };
    $.fn.contextMenu = function(method) {
        if (methods[method]) {
            return methods[ method ].apply(this, Array.prototype.slice.call(arguments, 1));
        }
        else if (typeof method === 'object' || ! method) {
            return methods.init.apply(this, arguments);
        }
        else {
            $.error('Method ' +  method + ' does not exist on jQuery.contextmenu');
            return this;
        }    
    };
})(jQuery); 
```

这就是我实现它的方式

```
<g:itemLink id="itemsearch_${cmItemInstance.id}_${i}" itemId="${cmItemInstance.id}" > ${clientDisplayName}</g:itemLink>
<ul id="myMenu_${cmItemInstance.id}_${i}" class="contextMenu">
    <li class="open"><g:itemLink id="openclaim_${cmItemInstance.id}_${i}" itemId="${cmItemInstance.id}"  itemDataTip="false">Open Claim</g:itemLink></li>
    <li class="transfer"><g:link   action="transferItem" params="${[cm_item: cmItemInstance.id ] }" >Transfer Claim</g:link></li>
    <li class="delete"><g:link   action="deleteItem" params="${[cm_item: cmItemInstance.id ] }"  >Delete Item</g:link></li>
</ul>
<g:javascript>
     $("#VSO_Item_itemsearch_${cmItemInstance.id}_${i}").parent().contextMenu({ menu: 'myMenu_${cmItemInstance.id}_${i}' } );
</g:javascript> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:59:38.727

我的队友设法解决了问题。显然，它没有检测到第一次点击的动作。他改为这样：

```
 <li class="open" ><a href="#" onclick="<g:itemLink asFunctionCall="true" id="openclaim_${cmItemInstance.id}_${i}" itemId="${cmItemInstance.id}"  itemDataTip="false" />"> Open Claim </a></li>
<li class="transfer"><g:link  onclick="window.open( this.href, '_self')"  action="transferItem" params="${[cm_item: cmItemInstance.id ] }" >Transfer Claim</g:link></li>
<li class="delete"><g:link   onclick="window.open( this.href, '_self')" action="deleteItem" params="${[cm_item: cmItemInstance.id ] }"  >Delete Item</g:link></li> 
```

# ios - 使用从 Web 服务响应中获取的字节播放音频

> ID：12616377
> 
> 赞同：0
> 
> 时间：2012-09-27T07:37:46.830
> 
> 标签：ios, web-services, audio, byte

我收到下面的文字

b2NSK5YTVnOxYBZzmNEo5j2VZwsq4DhfHoX9SnQqVVuiynVWl94Tt1a1NFKICtRFbwAd0KJGrnKGbu3NMsjPq6on7W561W3zveYmaa/x//6JFVZx/871/8Ns+/BKmacsSUnI225G0gCQVnYRyRaDZa61N6ZM+kd+lY2RnLE4KPJiULcXAkcA+YzYYzfNMKVYqkMP1CEg7lhdcWEoMScMEXgtwuCcplRNctAfFQNwWBoXjd0xbqk8dVm4tjdhGmTJpHakupbqIC2/5wazxs6CNn9f/7okiwgAOvPlVrL2roeYfKrWXvXQ8Y81msvaux7Z5qdZe9dBmg0QXKJYqCUp9dtv99gCoCOhlLgKFD6ki1f1l70jh7Z2RpQ6aPlDKEKE0G+uB74ZkEf8fIEs+GUWxOnQejS3tmj0jF4hwkc+N4+Eb4DXtyDYxYKETSJGj3yl8eG05ulr6ObV1y069r5xneFj1///x9yHzFjbpXGt//4hxAsKTKiWIwJKTjbjbiaQBYDMzIaKJTwYYzhByA3XlC+b7afaGqJVs2EXcgJci6t5287x+KxD2UrIq6gMJwHdSWFHjaJM+dHEmPpwdLgzFMggJdBQlwEQXD5anHi6yKbVlBcTVNQ+lJFzzJIUzA3NG/qRQGcdEWU1f8oqWcQqfOGtRBUv1uu/32AKopkfSsFHmkMuRTShaXEHBnm1Lq06ibo7CG5F1LkXVWp2MWcisq9LBM3U0hBdsSxo7Fo33cMv0c9V5A+ xFR3EOPWD+FBAnnv0J3lMuWqozOTNh4SLlXcXVqe9I8TX///xWi+ga6xr5x//8OOMtmPjf8m1ZEkpONtttppQJkl5hssHVHICulId6WBQ29lG2wU/Og3WU9YuiRViCbXBElY42eHLdPk5VqAjNFJ3NryVVjtcYGBCsVUo8CZMCmHGNZOO6sixLDKrHjollze/ht2XMnvj+JPFIwj/6//VvJY7NPlWH/+6BIsgADz0HV6y9q7HvoSp1l710OqPNZrL1rscOeqmWGNXa4OtyzENabAa6urpcR1LhAM4JEaisRTHkpeZw4cvpdu+N4rn2A4XVAyY4GoUE03YBXR7A66RFyKlo0/Elj1cqKiix0fGJYNxNAJmEYwMTRaIjSKYznDpgRmcSSgTzZG/5SQWp6upaR0Wn7fmdK9LMzgpes6/ClyzJVr/7+6xfJxSg+8gMP1EOGXJBqxZx6L8FCkSnVErcjxmKdEDYVmT6NxlUWal62iVNkrDnWYTfHlnG1FRdNhxjsHRaAnNALI8sFGQUVGuMVTDSarJxLvHmYSaR9WtlIkoj/rWYFQkFOrUj6JkfSWUdMuzmrefehYsPoAW+uvpcWSbBI+2HOB5aByEh624zj1ZvTyPUwTmQ3J9VMt4fCoXnEmB9HVAlEajmCf2E0h7RCfx2vYWKzIdpSDliSC8dNApaAI0aLAIYcJqgSuJKpEWJqsfhluwyyYorLdXZSJov/WtAqF5D1I+syP1q3d2UUkefegeJAO4qoAEuNt3/0D0DQFKjQEKsdVhd1OCOO9Dk5P1wWEmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6/// 3ZMGr/bf+v8ZvHZv9T9Mj/yVVjtcYGBCsVUo8CZMCmHGNZOO6sixLDKrHjollze/ht2XMnvj+JPFIwj/6//VvJY7NPlWH/+6BIsgADz0HV6y9q7HvoSp1l710OqPNZrL1rscOeqmWGNXa4OtyzENabAa6urpcR1LhAM4JEaisRTHkpeZw4cvpdu+N4rn2A4XVAyY4GoUE03YBXR7A66RFyKlo0/Elj1cqKiix0fGJYNxNAJmEYwMTRaIjSKYznDpgRmcSSgTzZG/5SQWp6upaR0Wn7fmdK9LMzgpes6/ClyzJVr/7+6xfJxSg+8gMP1EOGXJBqxZx6L8FCkSnVErcjxmKdEDYVmT6NxlUWal62iVNkrDnWYTfHlnG1FRdNhxjsHRaAnNALI8sFGQUVGuMVTDSarJxLvHmYSaR9WtlIkoj/rWYFQkFOrUj6JkfSWUdMuzmrefehYsPoAW+uvpcWSbBI+2HOB5aByEh624zj1ZvTyPUwTmQ3J9VMt4fCoXnEmB9HVAlEajmCf2E0h7RCfx2vYWKzIdpSDliSC8dNApaAI0aLAIYcJqgSuJKpEWJqsfhluwyyYorLdXZSJov/WtAqF5D1I+syP1q3d2UUkefegeJAO4qoAEuNt3/0D0DQFKjQEKsdVhd1OCOO9Dk5P1wWEmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6///3ZMGr/ bf+v8ZvHZv9T9Mj/yVVjtcYGBCsVUo8CZMCmHGNZOO6sixLDKrHjollze/ht2XMnvj+JPFIwj/6//VvJY7NPlWH/+6BIsgADz0HV6y9q7HvoSp1l710OqPNZrL1rscOeqmWGNXa4OtyzENabAa6urpcR1LhAM4JEaisRTHkpeZw4cvpdu+N4rn2A4XVAyY4GoUE03YBXR7A66RFyKlo0/Elj1cqKiix0fGJYNxNAJmEYwMTRaIjSKYznDpgRmcSSgTzZG/5SQWp6upaR0Wn7fmdK9LMzgpes6/ClyzJVr/7+6xfJxSg+8gMP1EOGXJBqxZx6L8FCkSnVErcjxmKdEDYVmT6NxlUWal62iVNkrDnWYTfHlnG1FRdNhxjsHRaAnNALI8sFGQUVGuMVTDSarJxLvHmYSaR9WtlIkoj/rWYFQkFOrUj6JkfSWUdMuzmrefehYsPoAW+uvpcWSbBI+2HOB5aByEh624zj1ZvTyPUwTmQ3J9VMt4fCoXnEmB9HVAlEajmCf2E0h7RCfx2vYWKzIdpSDliSC8dNApaAI0aLAIYcJqgSuJKpEWJqsfhluwyyYorLdXZSJov/WtAqF5D1I+syP1q3d2UUkefegeJAO4qoAEuNt3/0D0DQFKjQEKsdVhd1OCOO9Dk5P1wWEmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6///3ZMGr/ bf+v8ZvHZv9T9Mj/Sp1l710OqPNZrL1rscOeqmWGNXa4OtyzENabAa6urpcR1LhAM4JEaisRTHkpeZw4cvpdu+N4rn2A4XVAyY4GoUE03YBXR7A66RFyKlo0/Elj1cqKiix0fGJYNxNAJmEYwMTRaIjSKYznDpgRmcSSgTzZG/5SQWp6upaR0Wn7fmdK9LMzgpes6/ClyzJVr/7+6xfJxSg+8gMP1EOGXJBqxZx6L8FCkSnVErcjxmKdEDYVmT6NxlUWal62iVNkrDnWYTfHlnG1FRdNhxjsHRaAnNALI8sFGQUVGuMVTDSarJxLvHmYSaR9WtlIkoj/rWYFQkFOrUj6JkfSWUdMuzmrefehYsPoAW+uvpcWSbBI+2HOB5aByEh624zj1ZvTyPUwTmQ3J9VMt4fCoXnEmB9HVAlEajmCf2E0h7RCfx2vYWKzIdpSDliSC8dNApaAI0aLAIYcJqgSuJKpEWJqsfhluwyyYorLdXZSJov/WtAqF5D1I+syP1q3d2UUkefegeJAO4qoAEuNt3/0D0DQFKjQEKsdVhd1OCOO9Dk5P1wWEmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6///3ZMGr/bf+v8ZvHZv9T9Mj/Sp1l710OqPNZrL1rscOeqmWGNXa4OtyzENabAa6urpcR1LhAM4JEaisRTHkpeZw4cvpdu+N4rn2A4XVAyY4GoUE03YBXR7A66RFyKlo0/Elj1cqKiix0fGJYNxNAJmEYwMTRaIjSKYznDpgRmcSSgTzZG/5SQWp6upaR0Wn7fmdK9LMzgpes6/ClyzJVr/7+6xfJxSg+8gMP1EOGXJBqxZx6L8FCkSnVErcjxmKdEDYVmT6NxlUWal62iVNkrDnWYTfHlnG1FRdNhxjsHRaAnNALI8sFGQUVGuMVTDSarJxLvHmYSaR9WtlIkoj/rWYFQkFOrUj6JkfSWUdMuzmrefehYsPoAW+uvpcWSbBI+2HOB5aByEh624zj1ZvTyPUwTmQ3J9VMt4fCoXnEmB9HVAlEajmCf2E0h7RCfx2vYWKzIdpSDliSC8dNApaAI0aLAIYcJqgSuJKpEWJqsfhluwyyYorLdXZSJov/WtAqF5D1I+syP1q3d2UUkefegeJAO4qoAEuNt3/0D0DQFKjQEKsdVhd1OCOO9Dk5P1wWEmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6///3ZMGr/bf+v8ZvHZv9T9Mj/yzJVr/7+6xfJxSg+8gMP1EOGXJBqxZx6L8FCkSnVErcjxmKdEDYVmT6NxlUWal62iVNkrDnWYTfHlnG1FRdNhxjsHRaAnNALI8sFGQUVGuMVTDSarJxLvHmYSaR9WtlIkoj/rWYFQkFOrUj6JkfSWUdMuzmrefehYsPoAW+uvpcWSbBI+2HOB5aByEh624zj1ZvTyPUwTmQ3J9VMt4fCoXnEmB9HVAlEajmCf2E0h7RCfx2vYWKzIdpSDliSC8dNApaAI0aLAIYcJqgSuJKpEWJqsfhluwyyYorLdXZSJov/WtAqF5D1I+syP1q3d2UUkefegeJAO4qoAEuNt3/0D0DQFKjQEKsdVhd1OCOO9Dk5P1wWEmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6///3ZMGr/bf+v8ZvHZv9T9Mj/yzJVr/7+6xfJxSg+8gMP1EOGXJBqxZx6L8FCkSnVErcjxmKdEDYVmT6NxlUWal62iVNkrDnWYTfHlnG1FRdNhxjsHRaAnNALI8sFGQUVGuMVTDSarJxLvHmYSaR9WtlIkoj/rWYFQkFOrUj6JkfSWUdMuzmrefehYsPoAW+uvpcWSbBI+2HOB5aByEh624zj1ZvTyPUwTmQ3J9VMt4fCoXnEmB9HVAlEajmCf2E0h7RCfx2vYWKzIdpSDliSC8dNApaAI0aLAIYcJqgSuJKpEWJqsfhluwyyYorLdXZSJov/WtAqF5D1I+syP1q3d2UUkefegeJAO4qoAEuNt3/0D0DQFKjQEKsdVhd1OCOO9Dk5P1wWEmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6///3ZMGr/bf+v8ZvHZv9T9Mj/EmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6///3ZMGr/bf+v8ZvHZv9T9Mj/EmiX5N7iujDL8rW4rR3EPRFnpeNNpvwiJLvLhhpR+fe9l6fOCQSlox1+43bUClVeZL+5RfSJNpy0YzlFG6q4iZjX9d2zfFGiBb6///3ZMGr/bf+v8ZvHZv9T9Mj/

在 web 服务响应中，我想使用上面的字节字符串播放音频。我试过了

```
NSString *str=[TBXML textForElement:result];
str= [str stringByReplacingOccurrencesOfString:@" " withString:@""];

NSData *data= [[NSData alloc] init];

data = [str dataUsingEncoding:NSUTF8StringEncoding];

if (data)
     [objApp.viewAya playAudio:data]; 
```

但是，播放器显示错误：无法完成操作。请帮助我使用网络服务从字节数据中播放和下载音频。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T14:20:22.803

这是代码

```
static const char encodingTable[] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";

- (id)dataWithBase64EncodedString:(NSString *)string
{
    if (string == nil)
        [NSException raise:NSInvalidArgumentException format:nil];
    if ([string length] == 0)
        return [NSData data];

    static char *decodingTable = NULL;
    if (decodingTable == NULL)
    {
        decodingTable = malloc(256);
        if (decodingTable == NULL)
            return nil;
        memset(decodingTable, CHAR_MAX, 256);
        NSUInteger i;
        for (i = 0; i < 64; i++)
            decodingTable[(short)encodingTable[i]] = i;
    }

    const char *characters = [string cStringUsingEncoding:NSASCIIStringEncoding];
    if (characters == NULL)     //  Not an ASCII string!
        return nil;
    char *bytes = malloc((([string length] + 3) / 4) * 3);
    if (bytes == NULL)
        return nil;
    NSUInteger length = 0;

    NSUInteger i = 0;
    while (YES)
    {
        char buffer[4];
        short bufferLength;
        for (bufferLength = 0; bufferLength < 4; i++)
        {
            if (characters[i] == '\0')
                break;
            if (isspace(characters[i]) || characters[i] == '=')
                continue;
            buffer[bufferLength] = decodingTable[(short)characters[i]];
            if (buffer[bufferLength++] == CHAR_MAX)      //  Illegal character!
            {
                free(bytes);
                return nil;
            }
        }

        if (bufferLength == 0)
            break;
        if (bufferLength == 1)      //  At least two characters are needed to produce one byte!
        {
            free(bytes);
            return nil;
        }

        //  Decode the characters in the buffer to bytes.
        bytes[length++] = (buffer[0] << 2) | (buffer[1] >> 4);
        if (bufferLength > 2)
            bytes[length++] = (buffer[1] << 4) | (buffer[2] >> 2);
        if (bufferLength > 3)
            bytes[length++] = (buffer[2] << 6) | buffer[3];
    }

    realloc(bytes, length);
    return [NSData dataWithBytesNoCopy:bytes length:length];
} 
```

并以这种方式调用它：-

```
NSData *try = (NSData*)[self dataWithBase64EncodedString:[dict objectForKey:@"Data"]];
imageview.image = [UIImage imageWithData:try]; 
```

希望能帮助到你....

# internet-explorer - 本地资源文件内容未通过 Internet Explorer 显示，但在 Chrome 和 Firefox 上正常

> ID：12616379
> 
> 赞同：-1
> 
> 时间：2012-09-27T07:38:07.330
> 
> 标签：internet-explorer, multilingual, resource-files

我的网络应用程序是多语言的...我已使用本地资源文件进行多语言更改...内容在 Chrome 和 Firefox 上正确提取，但在 Internet Explorer 上不正确...我不明白为什么会发生这种情况...请帮忙......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T09:20:36.390

最后我找到了答案....计算机的默认浏览器使用您的本地计算机语言和文化..我已经启用它并且它就像一个魅力......谢谢

# java - 创建自定义覆盖方法问题

> ID：12616384
> 
> 赞同：0
> 
> 时间：2012-09-27T07:38:21.033
> 
> 标签：java, inheritance, overriding

我创建了如下所示的类。但是不调用 Override 方法。我错过了什么吗？否则我需要添加任何关键字（`like Virtual`）以用作覆盖？

**MyWebView.java**

```
package com.example.stackoverflow;    

import android.content.Context;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import android.widget.LinearLayout;

public class MyWebView extends WebView 
{
    WebView localView;
    static Context localcontext;
    A aclass;

    public MyWebView(Context context)
    {
        super(context);     
        localcontext=context;
    }

    public LinearLayout init()
    {
        LinearLayout layout=new LinearLayout(localcontext);
        localView=new WebView(localcontext);
        localView.setWebViewClient(new MyClient());
        aclass=new A();
        layout.addView(localView);
        return layout;
    }

    class MyClient extends WebViewClient
    {
        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            aclass.startMyMethod();
            return super.shouldOverrideUrlLoading(view, url);
        }
    }

} 
```

**爪哇**

```
package com.example.stackoverflow;

import android.os.Bundle;
import android.widget.LinearLayout;
import android.app.Activity;

public class A extends Activity 
{

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        MyWebView view=new MyWebView(this);
        LinearLayout layout = view.init();
        view.loadUrl("https://www.google.co.in/");
        setContentView(layout);
     }

    public void startMyMethod() 
    {       
        System.out.println("ParentMethod");
    }
} 
```

**B.java(MainActivity)**

```
package com.example.stackoverflow;

import android.os.Bundle;

public class B extends A {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
     }

    @Override
    public void startMyMethod() {
        System.out.println("ChildMethod");
        super.startMyMethod();
    }

} 
```

> 注意：B 类是客户端类。其他两个在 jar 文件中。我如何在 jar 文件（库源）中使用 new B()。名称 B 可能会更改。**如果父方法被覆盖，则不应执行父内容**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:45:34.043

Java 没有任何关键字 like `virtual`，默认情况下所有 Java 非静态方法都是虚拟的。请参阅[http://en.wikipedia.org/wiki/Virtual_function#Java](http://en.wikipedia.org/wiki/Virtual_function#Java)。

@Override 注释用于指示编译器您正在覆盖超类方法。看[这里](http://docs.oracle.com/javase/7/docs/api/java/lang/Override.html)

```
A a =new A();
a.startMyMethod(); // calls A.startMyMethod()

A b = new B(); // Object reference of type A and Object of B
a.startMyMethod(); // calls B.startMyMethod() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:44:40.560

如果您创建 ClassB 的实例并调用如下覆盖的方法，它应该可以工作：

```
ClassB b = new ClassB();
b.strartMyMehtod(); 
```

在调用父级之前在 ClassB 方法中放置一些打印内容以查看差异。

```
class A
{
     public void startMyMethod()
     {
         System.out.println("A.startMyMethod() called");
     }
 }    

class B extends A
 {
    @Override
     public void startMyMethod() {
         System.out.println("B.startMyMethod() called");
        // TODO Auto-generated method stub
        super.startMyMethod();
     }
 } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-27T07:51:38.470

在您的 init() 方法中，`MyWebView.java`您将变量变量初始化 `aclass`为`aclass=new A();`

在`shouldOverrideUrlLoading()`方法中，您调用

```
aclass.startMyMethod(); 
```

**由于 A 是父类，它只会调用 A 类的 startMyMethod()。**

为了获得继承和覆盖的优势，您可以初始化 `aclass`变量`as aclass=new B();`这将调用B类的startMyMethod（），然后调用A类的startMyMethod（），因为使用`super.startMyMethod();`

[http://docs.oracle.com/javase/tutorial/java/javaOO/annotations.html](http://docs.oracle.com/javase/tutorial/java/javaOO/annotations.html)说

> **@Override** — @Override 注释通知编译器该元素旨在覆盖在超类中声明的元素（覆盖方法将在标题为“接口和继承”的课程中讨论）。

不适用于程序执行顺序。我希望这可能是你想要的。

# tcp - 当服务器监听 80 时，客户端在 3 次握手后发送 RST，更改端口就可以了

> ID：12616385
> 
> 赞同：0
> 
> 时间：2012-09-27T07:38:31.043
> 
> 标签：tcp, socketasynceventargs

我基于 SocketAsyncEventArgs (C#) 而不是商业软件编写了一个定制的 HTTP 服务器。当服务器在端口 8080/12345 上侦听时……没问题。但仅在端口 80 上，当浏览器启动与 HTTP 请求的连接时，它看起来像这样：

*   2785: [SYN] Seq=0 Win=8192 Len=0 MSS=1460 WS=4 SACK_PERM=1
*   2786: [SYN, ACK] Seq=0 Ack=1 Win=8192 Len=0 MSS=1460 WS=256 SACK_PERM=1
*   2787: [ACK] Seq=1 Ack=1 Win=65700 Len=0
*   2788: [RST] 序列=1 赢=65536 列=0
*   3538: HTTP 767 GET /push_push.do?imei=356708041124742&simno=4600230...等等等等

注意，当客户端发送像“socket.Send(http_bytes);”这样的HTTP请求时，TCP报文No.2788[RST]和No.3538[Normal HTTP request]是连续发送的。

=========================

请给我一个建议：

*   [RST] 是如何产生的以及如何避免它？
*   为什么监听端口会影响？

# c# - 如何使用 c# 在 iis 7 中授予回收应用程序池的权限（不提供管理员凭据）

> ID：12616387
> 
> 赞同：3
> 
> 时间：2012-09-27T07:38:42.297
> 
> 标签：c#, iis-7, directoryservices

```
string app_Path = "IIS://localhost/W3SVC/AppPools/Application pool name";
DirectoryEntry app_pool = new DirectoryEntry(app_Path);
app_pool.Invoke("Recycle"); 
```

我正在使用上面的代码，并且我正在摆脱这个特殊的事情，在我通过 Web 服务器运行此代码时，我无法通过 c# 回收 IIS7 中的应用程序池。

由于权限问题，当涉及到调用方法时，这会受到影响，并将其抛出异常。

```
 Access is denied. (Exception from HRESULT: 0x80070005 (E_ACCESSDENIED)). 
```

如何摆脱这种情况以及如何在没有管理员凭据的情况下授予权限。而且我还尝试在 Web 配置文件中通过为身份标签提供模拟是真实的但没有用。如何修复它以及解决方案是什么？

谢谢，

哈里什·杰伊

# facebook - 检查用户是否是每月活跃的应用用户

> ID：12616391
> 
> 赞同：0
> 
> 时间：2012-09-27T07:38:54.780
> 
> 标签：facebook

我知道我可以通过运行来了解我的应用程序每月有多少应用程序用户

```
SELECT monthly_active_users FROM application WHERE app_id=00000000000000 
```

我想做的是获取所有这些活跃应用程序用户的 ID。或者，如果给定用户 ID，请检查该用户 ID 是否是我的应用程序的活跃用户。

有谁知道这是否可行，如果可以，该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:48:39.870

我怀疑你可以使用 FQL 做到这一点。您应该在本地数据库中跟踪使用您的应用程序的用户，然后对其进行查询。至少我没有在文档中找到这个，也从来没有见过这个。

这是“月活跃用户”的定义[http://joshuaopinion.com/2011/01/monthly-active-users-mau-definition-for-facebook/](http://joshuaopinion.com/2011/01/monthly-active-users-mau-definition-for-facebook/)

# extjs - Extjs：在上下文菜单的侦听器中添加条件

> ID：12616396
> 
> 赞同：0
> 
> 时间：2012-09-27T07:39:08.807
> 
> 标签：extjs

我已经创建了上下文菜单，当我单击网格时，它会在右键单击时显示选项。根据我的新要求，我想添加条件，例如何时在网格上显示右键单击选项。对于某些特殊情况，我不想显示该右键单击选项。

我的代码：

```
listeners : {
        itemcontextmenu: function(dv, record, item, index, e) {
        e.stopEvent();   // Prevent the browser to show its default contextmenu
        this.contextMenu.index = index;   // It's important! you'll need the rowIndex (the row that right clicked on it) on future.
    this.contextMenu.showAt(e.getXY());   // Get the current X and Y coordinates and show the gridCtxMenu (my custom created menu) on that location.
    var selectedUnitRecord = this.getStore().getAt(index);
    selectedUnitId = selectedUnitRecord.get('id');
        }
   } 
```

我的要求是我想添加一些类似这样的逻辑：

```
if(type == 'dc'){
        /*Show option*/
    }else{
        /*dont Show option*/
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:56:21.000

```
listeners : {
if(type == 'dc'){
return false;
}
        itemcontextmenu: function(dv, record, item, index, e) {
        e.stopEvent();   // Prevent the browser to show its default contextmenu
        this.contextMenu.index = index;   // It's important! you'll need the rowIndex (the row that right clicked on it) on future.
    this.contextMenu.showAt(e.getXY());   // Get the current X and Y coordinates and show the gridCtxMenu (my custom created menu) on that location.
    var selectedUnitRecord = this.getStore().getAt(index);
    selectedUnitId = selectedUnitRecord.get('id');
        }
   } 
```

# codeigniter - codeigniter 无法在一个控制器中加载 $db 活动记录，但在另一个控制器中是

> ID：12616399
> 
> 赞同：0
> 
> 时间：2012-09-27T07:39:10.700
> 
> 标签：codeigniter, activerecord

我有一个使用 Message_model 通过活动记录使用数据库的消息控制器。
一切都好。

Message_model 代码

```
function send_message($data) {
        $this->db->insert($this->table_name, $data);
        $num = $this->db->affected_rows();
        return $this->db->insert_id();
} 
```

但是在另一个使用 Message_model 的控制器（用户控制器）中。
它给我

```
<h4>A PHP Error was encountered</h4>

<p>Severity: Notice</p>
<p>Message:  Undefined property: Maxdoodle::$db</p>
<p>Filename: core/Model.php</p>
<p>Line Number: 51</p> 
```

我已经在 database.php 中设置了默认活动记录，
因为我可以在消息控制器中使用它，如前所述。

CodeIgniter 版本：2.1.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-05T06:49:58.613

您的数据库库未加载尝试自动加载：

```
 $autoload[‘libraries’] = array(‘database’); 
```

# html - 为什么 HTML 在页面底部有一个神秘的“边距”？

> ID：12616401
> 
> 赞同：3
> 
> 时间：2012-09-27T07:39:17.830
> 
> 标签：html, css

[代码](http://jsfiddle.net/rtVPb/1/)很简单：

```
<html xmlns="http://www.w3.org/1999/xhtml">
    <body style="padding:0; margin:0;">
        <form method="post" action="/default.aspx" id="form1" style="margin: 0px; padding: 0px;">
          <div id="container-main" style="background-color:Red; height:1825px; position:relative;">&nbsp;</div>
          <div id="fascia-chiusura" style="background-color:#5CAE22; height:11px; position:relative; width:100%;">&nbsp;</div>
        </form>
    </body>
</html> 
```

但是在 Firefox/Chrome 上，它在底部有一个奇怪的“空格”，它不在 HTML 元素中。为什么会有这种行为？我该如何解决？

截屏 ：

![在此处输入图像描述](../Images/2e38a3591761d0b5919aefdb57442158.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-27T07:43:17.670

[http://jsfiddle.net/rtVPb/4/](http://jsfiddle.net/rtVPb/4/)

删除`&nbsp;`最后一个 div 中的 ，它工作正常。来自 div 的空间`&nbsp;`大于 div 中定义的 11px，因此它会产生溢出，并且您会得到一个白色部分。[您可以在此处](http://jsfiddle.net/rtVPb/6/)检查此行为，我在其中添加了一些可见文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:42:02.047

[http://jsfiddle.net/rtVPb/2/](http://jsfiddle.net/rtVPb/2/)

删除这个：

```
 <div id="fascia-chiusura" style="background-color:#5CAE22; height:11px; position:relative; width:100%;">&nbsp;</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T07:44:03.173

您还可以添加`overflow:hidden`到`<div id="fascia-chiusura"/>`

[http://jsfiddle.net/rtVPb/9/](http://jsfiddle.net/rtVPb/9/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-27T07:49:45.117

什么都没有，只要去掉最后一个div的高度或者改成auto

[http://jsfiddle.net/rtVPb/8/](http://jsfiddle.net/rtVPb/8/)

# wxpython - 如何使用 wx.Python 操作 wx.ProgressDialog

> ID：12616402
> 
> 赞同：0
> 
> 时间：2012-09-27T07:39:27.010
> 
> 标签：wxpython, python-2.7

实际上我有一堆关于 wx.Python 中的 wx.ProgressDialog 的问题。

首先，我编写了一段代码，它可以操作 2 个文件进行一些计算并将结果写入一个新文件中。我需要在 GUI 中显示的是不确定模式下的进度对话框，仅供用户了解程序正在运行。

```
def transformation(e):
     prg_dlg = wx.ProgressDialog("Processing Data", "Time elapsed", style = wx.PD_ELAPSED_TIME)

     for line in pntfile.readlines():
              pntlist = line.split(" ")
              pntlist = [float(i) for i in pntlist]

              l = ( const + Xn*pntlist[0] + Yn*pntlist[1] + Zn*pntlist[2])/(Xn**2 * Yn**2 * Zn**2)

              Xm = pntlist[0] - Xn*l
              Ym = pntlist[1] - Yn*l
              Zm = pntlist[2] - Zn*l

              outlist=[0,0,0]  

              outlist[0] = pntlist[0] / 2*(Xm-pntlist[0])
              outlist[1] = pntlist[1] / 2*(Ym-pntlist[1])
              outlist[2] = pntlist[2] / 2*(Zm-pntlist[2])

              outdata = str('%.4f' %outlist[0])+" "+str('%.4f' %outlist[1])+" "+str('%.4f' %outlist[2])+"\n"

              outfile.writelines(outdata)      

              prg_dlg.UpdatePulse()

     wx.Yield()    
     pntfile.close()    
     outfile.close() 
```

1.  当我运行完整的应用程序时，会出现进度对话框，并且仪表来回太快，几乎看不到（在 MS WIN VISTA、7、XP、UBUNTU 上测试）

2.  我想在对话框上放置一个按钮（例如确定），以便当程序完成计算时，用户可以按下它并且对话框可以关闭

3.  最重要的是性能。**当我在没有**进度对话框的情况下使用输入文件中的 100 万行运行程序时，它会在不到一分钟的时间内完成。使用上面代码中显示的对话框时，需要超过 4 分钟才能完成。我怎样才能加快速度？

感谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:37:07.830

在单独的线程中运行计算，并每隔 1000 行左右向进度对话框发送一次更新消息。

请注意，您需要使用 CallAfter 或 Event，因为您不能在线程中调用 wxPython 函数。

完成后，只需关闭进度对话框并显示一个带有确定按钮的简单消息框。

# math - 谁能告诉我为什么我们总是在机器学习中使用高斯分布？

> ID：12616406
> 
> 赞同：9
> 
> 时间：2012-09-27T07:39:31.743
> 
> 标签：math, machine-learning, bayesian, gaussian

例如，我们总是假设数据或信号误差是高斯分布？为什么？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-09-27T10:11:14.430

你会从有数学头脑的人那里得到的答案是“因为中心极限定理”。这表达了这样一种想法，即当您从几乎任何分布*中获取一堆随机数并将它们加在一起时，您将得到近似正态分布的东西。你加在一起的数字越多，它的正态分布就越多。

我可以在 Matlab/Octave 中演示这一点。如果我在 1 到 10 之间生成 1000 个随机数并绘制直方图，我会得到类似这样的结果

![在此处输入图像描述](../Images/5fa8cbd98014af8dab3888c68a096fa0.png)

如果我不生成单个随机数，而是生成 12 个并将它们相加，然后执行 1000 次并绘制直方图，我会得到如下结果：

![在此处输入图像描述](../Images/dd8e7a3e2e0acf934388ebcfefe65863.png)

我在顶部绘制了具有相同均值和方差的正态分布，因此您可以了解匹配的接近程度。[你可以在这个 gist](https://gist.github.com/3793275)看到我用来生成这些图的代码。

在典型的机器学习问题中，您会遇到来自许多不同来源的错误（例如，测量错误、数据输入错误、分类错误、数据损坏……），并且认为所有这些错误的综合影响大约*为*正常（当然，你应该经常检查！）

对这个问题更务实的答案包括：

*   因为它使数学变得更简单。正态分布的概率密度函数是二次的指数函数。取对数（就像你经常做的那样，因为你想最大化对数似然）给你一个二次方。对此进行微分（以找到最大值）为您提供一组线性方程，这些方程易于解析求解。

*   这很简单 - 整个分布由两个数字描述，均值和方差。

*   大多数将阅读您的代码/论文/报告的人都熟悉它。

这通常是一个很好的起点。如果你发现你的分布假设给你带来了糟糕的表现，那么也许你可以尝试不同的分布。但是您可能应该首先考虑其他方法来提高模型的性能。

*技术点 - 它需要有有限的方差。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-09-27T10:34:43.600

高斯分布是最“自然”的分布。他们无处不在。以下是让我认为高斯分布是最自然分布的属性列表：

*   正如 nikie 所指出的，几个随机变量（如骰子）的总和往往是高斯的。（中心极限定理）。
*   机器学习中出现了两个自然的思想，标准差和最大熵原理。如果你问这个问题，“在标准差为 1 且均值为 0 的所有分布中，熵最大的分布是什么？” 答案是高斯。
*   随机选择高维超球面内的一个点。任何特定坐标的分布近似为高斯分布。对于超球面表面上的随机点也是如此。
*   从高斯分布中抽取几个样本。计算样本的离散傅里叶变换。结果具有高斯分布。我很确定高斯分布是唯一具有此属性的分布。
*   傅里叶变换的特征函数是多项式和高斯的乘积。
*   微分方程 y' = -xy 的解是高斯的。这一事实使高斯计算更容易。（高级导数涉及 Hermite 多项式。）
*   我认为高斯分布是唯一在乘法、卷积和线性变换下都闭合的分布。
*   涉及高斯的问题的最大似然估计也往往是最小二乘解。
*   我认为随机微分方程的所有解决方案都涉及高斯。（这主要是中心极限定理的结果。
*   “正态分布是唯一一个绝对连续的分布，其所有超出前两个的累积量（即除均值和方差之外）都为零。” - 维基百科。
*   对于偶数 n，高斯的 n 阶矩只是一个整数乘以标准差的 n 次方。
*   许多其他标准分布与高斯分布密切相关（即二项式、泊松、卡方、学生 t、瑞利、逻辑、对数正态、超几何......）
*   “如果 X1 和 X2 是独立的并且它们的和 X1 + X2 是正态分布的，那么 X1 和 X2 也必须是正态的”——来自维基百科。
*   “正态分布均值的共轭先验是另一个正态分布。” ——来自维基百科。
*   当使用高斯时，数学更容易。
*   Erdős-Kac 定理意味着“随机”整数的质因子分布是高斯分布。
*   气体中随机分子的速度呈高斯分布。（标准差 = z*sqrt( k T / m) 其中 z 是常数，k 是玻尔兹曼常数。）
*   “高斯函数是量子谐振子基态的波函数。” ——来自维基百科
*   卡尔曼滤波器。
*   高斯-马尔可夫定理。

这篇文章交叉发布在[http://artent.net/blog/2012/09/27/why-are-gaussian-distributions-great/](http://artent.net/blog/2012/09/27/why-are-gaussian-distributions-great/)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-27T07:56:09.323

信号误差通常是许多独立误差的总和。[例如，在 CCD 相机中，可能会有大部分独立的光子噪声、传输噪声、数字化噪声（甚至更多），因此由于中心极限定理](http://en.wikipedia.org/wiki/Central_limit_theorem)，误差通常呈正态分布。

此外，将误差建模为正态分布通常会使计算变得非常简单。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-09-18T04:35:10.197

我有同样的问题“对预测变量或目标进行高斯变换有什么好处？” 事实上，caret 包有一个预处理步骤可以实现这种转换。

这是我的理解-

1) Nature 中的数据分布通常遵循正态分布（少数例子，例如 - 年龄、收入、身高、体重等）。因此，当我们不了解潜在的分布模式时，它是最好的近似值。

2) ML/AI 的目标通常是努力使数据线性可分，即使这意味着将数据投影到更高维空间中以找到合适的“超平面”（例如 - SVM 内核、神经网络层、 Softmax 等，）。这样做的原因是“线性边界总是有助于减少方差，并且是最简单、自然和可解释的”，除了降低数学/计算复杂性。而且，当我们瞄准线性可分性时，减少异常值、影响点和杠杆点的影响总是好的。为什么？因为超平面对影响点和杠杆点（又名异常值）非常敏感——为了理解这一点——让我们转移到一个二维空间，我们有一个预测变量（X）和一个目标（y），并假设存在良好的正相关在 X 和 y 之间。鉴于此，如果我们的 X 是正态分布的并且 y 也是正态分布的，那么您最有可能拟合一条直线，该直线的中心有许多点而不是端点（又名异常值、杠杆/影响点） ）。因此，在对看不见的数据进行预测时，预测的回归线很可能几乎没有变化。您最有可能拟合一条直线，该直线的中心有许多点，而不是端点（又名异常值，杠杆/影响点）。因此，在对看不见的数据进行预测时，预测的回归线很可能几乎没有变化。您最有可能拟合一条直线，该直线的中心有许多点，而不是端点（又名异常值，杠杆/影响点）。因此，在对看不见的数据进行预测时，预测的回归线很可能几乎没有变化。

将上述理解外推到 n 维空间并拟合超平面以使事物线性可分确实很有意义，因为它有助于减少方差。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-27T09:19:23.983

1.  数学通常不会出来。:)

2.  正态分布很常见。见尼基的回答。

3.  即使是非正态分布也常常被视为具有较大偏差的正态分布。是的，这是一个肮脏的黑客。

第一点可能看起来很有趣，但我对存在非正态分布且数学变得**非常复杂**的问题进行了一些研究。在实践中，经常进行计算机模拟以“证明定理”。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-02-13T08:45:05.703

为什么它在机器学习中被大量使用是一个很好的问题，因为它在数学之外使用的通常理由通常是虚假的。

你会看到人们通过“中心极限定理”给出正态分布的标准解释。

但是，这样做存在问题。

您在现实世界中的许多事情中发现的是，该定理的条件通常不满足……甚至不满足。尽管这些东西似乎是正态分布的！

因此，我不仅在谈论看起来不呈正态分布的事物，而且还谈论那些看起来呈正态分布的事物。

这在统计学和经验科学中有很长的历史。

尽管如此，关于中心极限定理的解释仍然存在许多智力惯性和错误信息，这些信息已经持续了几十年。我想这可能是答案的一部分。

尽管正态分布可能不像曾经想象的那样正态，但事物以这种方式分布的时间必须有一些自然基础。

最好但不完全充分的理由是最大熵解释。这里的问题是熵有不同的度量。

无论如何，机器学习可能只是随着某种思维定势以及恰好适合高斯的数据的确认偏差而发展起来的。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-11-20T21:57:12.517

我最近在 David Mackay 的书“信息理论、推理和学习算法”第 28 章中读到了一个有趣的观点，我将在这里简要总结一下。

假设我们想在给定一些数据*P( **w** | **D** )*的情况下近似参数的后验概率。一个合理的近似值是围绕某个兴趣点的泰勒级数展开。这一点的一个很好的候选者是最大似然估计***w****。使用P 在***w*****处的对数*概率的二阶泰勒级数展开：

 *> log(P( **w** | **D** )) = log(P( **w*** | **D** )) + ∇log(P( **w*** | **D** ))( ***w*** - **w*** ) - (1/2)( ***w*** - **w*** ) ^T(-∇∇log(P( **w*** | **D** )))( ***w*** - **w*** ) +O(3)

由于 ML 是最大值，∇log(P( **w*** | **D** ))=0。定义**Γ** =(-∇∇log(P( **w*** | **D** )))，我们有：

> log(P( **w** | **D** )) ≈ log(P( **w*** | **D** )) - (1/2)( ***w*** - **w*** )^T **Γ** ( ***w*** - **w*** )。

取加法项的指数：

> P( **w** | **D** ) ≈ cte exp(- (1/2)( ***w*** - **w*** )^T **Γ** ( ***w*** - **w*** ))

其中 cte=P( **w*** | **D** )。所以，

> *高斯 N( **w*** , **Γ** ^(-1)) 是任何给定分布在其最大似然处的二阶泰勒级数逼近。*

其中**w***是分布的最大似然，**Γ是其在****w***处的对数概率的 Hessian 。*

# javascript - jquery验证器中的ajax调用，在处理ajax请求之前将响应发送到验证器

> ID：12616408
> 
> 赞同：0
> 
> 时间：2012-09-27T07:39:34.520
> 
> 标签：javascript, jquery, jquery-validate

> **可能重复：**
> [除了函数本身，不能在 jQuery 的 .ajax 方法中使用返回的数据](https://stackoverflow.com/questions/11247066/cant-use-returned-data-in-ajax-method-of-jquery-anywhere-but-the-function-itse)

我在 jquery.validator 中使用 ajax 调用

```
$.validator.addMethod("vname", function(val,ele){
    var ans = true; 
    $.get("url", {}, function(data){
        if(data == "firstoption"){
          ans = true;
          return true;
        }else{
            console.log("false"); //printing correctly but sending only false
            ans = false;
           return false;
        }

  });
  return ans; //always returning true(initial value) bcoz returning before ajax response

}, "errormsg"); 
```

在这里，我遵循了两种方法

1）我只是在 ajax 调用（在 if 语句中）返回 true 或 false，但它总是返回 false 2）其次我使用了 varialbe“ans”并尝试用来自 ajax 的响应填充该 varialbe。最后返回那个变量。这始终返回 true（初始值），因为它在 ajax 请求完成之前返回

有什么解决办法？

# java - Java 3D API 中的魔方

> ID：12616410
> 
> 赞同：0
> 
> 时间：2012-09-27T07:39:39.153
> 
> 标签：java, 3d, rotation, java-3d, rubiks-cube

我正在用 Java 3D 编写魔方应用程序。我画立方体没有任何问题。立方体在宇宙中的旋转也起作用。

现在我将旋转不同的面。这个功能只要我只旋转一个面。但是当我会进行多次旋转时。例如正面和正面然后程序选择立方体的错误石头。

### 立方体的结构

在内容分支图中，我有一个 3 维变换组数组到这个变换组中，我有一个 3 维石头数组。我自己创造的石头级。它用四边形阵列绘制一个正方形。

目前我根据变换组的数组选择石头。旋转后，我将变换组重新排序到数组中。

这是我到目前为止所做的：

```
void rotateWhiteFace()
{
    Transform3D rotate = new Transform3D();
    rotate.rotZ(Math.toRadians(angel2));
    for (int x = 0; x < stoneTransform.length; x++)
        for (int y = 0; y < stoneTransform.length; y++) {
            stoneTransform[x][y][2].setTransform(rotate);
        }
    angel2 = angel2 + 90;
} 
```

你有答案我怎么能做多次旋转？

# objective-c - NSString 阻止 Webview 加载

> ID：12616415
> 
> 赞同：0
> 
> 时间：2012-09-27T07:39:58.457
> 
> 标签：objective-c, ios, xcode, webview, nsstring

我有一个奇怪的问题，我还没有弄清楚。我有一个加载三个变量的网络视图。如果我不包含 userId，页面加载正常。但是当我包含 userId 时，它不起作用。

奇怪的是，如果我手动将 userId 设置为 @"150" 之类的值，那么它可以正常工作。问题可能来自 userId 的值是一个数字这一事实吗？任何帮助将不胜感激。谢谢！

```
NSString *userId = [[NSUserDefaults standardUserDefaults]
                        stringForKey:@"userId"];

NSString *finalLat = [[NSUserDefaults standardUserDefaults]
                    stringForKey:@"latitudeString"];

NSString *finalLon = [[NSUserDefaults standardUserDefaults]
                    stringForKey:@"longitudeString"];

timerFirst = [NSTimer scheduledTimerWithTimeInterval:(1.0/2.0) target:self selector:@selector(loading) userInfo:nil repeats:YES];

NSString *link = [NSString stringWithFormat:@"http://www.website.com/page.php?lat=%@&lon=%@&user_id=%@",finalLat, finalLon, userId];
[webViewFirst loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:link]]]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:01:16.440

你确定要`repeats:YES`吗？我假设`@selector(loading)`调用某种 VC 创建，并且您每 0.5 秒就可以完成它。检查它，这可能会在这里引起一些问题。但我只是在猜测 - 这还不足以回答这个问题。

# report - 报告第一页空白

> ID：12616419
> 
> 赞同：1
> 
> 时间：2012-09-27T07:40:16.690
> 
> 标签：report, axapta, dynamics-ax-2009

我在 ax 2009 中有一份报告，我想为每个供应商编号创建一个新页面。

我在相关部分使用了`executesSction`- `element.newpage()`，该部分有效，但始终显示空白页作为第一页。

如何摆脱空白页？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T16:53:31.283

All you need to do is call newpage AFTER everything is executed for the page.

For example:

```
while (some condition)
{
    this.execute(1);
    this.execute(2);

    if(!lastpage)
        this.newpage();
} 
```

Hope that helps!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T09:01:19.303

[这个答案](https://stackoverflow.com/a/10404606/4509)也适用于你。

你不应该`newpage`第一次打电话。使用控制变量，`ClassDeclation`在报表中声明。

# jquery - 如何动态地将复选框元素添加到组合框

> ID：12616420
> 
> 赞同：0
> 
> 时间：2012-09-27T07:40:18.270
> 
> 标签：jquery

我想动态地将复选框元素添加到组合框/选择元素中。我试过这个

```
 var option="";
    for (i = 0; i <= 5; i++) {
        option = option + '<option><input type="checkbox" name="myCheckbox" value="checkbox" /></option>';
    }
    $('#cmbRebateCategories1').append(option); 
```

这是我拥有的 HTML 标记，

```
 <select id="cmbRebateCategories1">
        </select> 
```

但它不工作。请帮帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:45:04.917

这不是`<option>`元素支持的东西。您必须推出自己的选择替换。

[jQuery UI MultiSelect Widget](http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/)似乎正在执行您的请求。

# lucene.net - Lucene 中的部分搜索

> ID：12616421
> 
> 赞同：0
> 
> 时间：2012-09-27T07:40:22.260
> 
> 标签：lucene.net

我将 Lucene_29 用于搜索功能。我在 lucene 中进行部分搜索的代码是

```
 var terms = input.Trim().Replace("-", " ").Split(' ')
            .Where(x => !string.IsNullOrEmpty(x)).Select(x => x.Trim() + "*");
        input = string.Join(" ", terms); 
```

在这里，我将星号附加到部分搜索的输入数据中。当我将输入作为“swetha”或“swe”传递时。我正在完美地获取搜索数据。但是当我选择“湿”时。我没有得到包含“swetha”的字段。任何人都可以帮我找到解决方案。我正在像这样解析我的输入

```
query = parser.Parse(input.Trim()); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T18:04:02.080

如果要在两端使用通配符，则需要将 AllowLeadingWildcard 选项设置`QueryParser`为 true。

正如 jishi 所说，这是非常次优的并且可能非常缓慢，因为它会扫描您的整个术语词典。

[指向 setAllowLeadingWildcard 文档的链接](http://lucene.apache.org/core/old_versioned_docs/versions/2_9_4/api/core/org/apache/lucene/queryParser/QueryParser.html#setAllowLeadingWildcard%28boolean%29)

# javascript - 如何使用 raphael js 向指针路径添加额外的路径箭头

> ID：12616427
> 
> 赞同：2
> 
> 时间：2012-09-27T07:40:41.090
> 
> 标签：javascript, jquery, html, svg, raphael

如何使用 raphael js 向指针路径添加额外的路径箭头？我一直在尝试添加它，但没有运气。

这是javascript

```
<script type="text/javascript">

    $(function(){
        var r = Raphael("gauge_bg2", 200, 200);
        var g = r.gauge(0, 180);

        g.bg(r.circle(100, 100, 100).attr({fill:'#193442','stroke-width': '0'}), [100, 100]);

        g.pointer(r.rect(0, 0, 100, 10).attr({fill: '#fff', 'stroke-width': '0'}), [100, 5]);

//      g.Arrowshape(r.triangle(300, 0, 100).attr({fill:'#193442','stroke-width': '0'}), [100, 100]);

        setInterval(function(){
            var percent = Math.floor(Math.random()*100);
            g.move(percent);
        }, 3000);
    });

</script> 
```

我创建了一个[http://jsfiddle.net/creativestudio/VH3fR/3/](http://jsfiddle.net/creativestudio/VH3fR/3/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T09:40:20.527

有两种选择：一种是使用 Raphael.Set 将指针路径和箭头结合起来，另一种是将指针的 rect() 替换为更通用的 path() 并在那里绘制箭头。箭头的代码可能如下所示：

```
 paper.path("M{0},{1}L{2},{3}L{4},{5}M{2},{3}L{4},{6}", a.x, a.y, b.x, b.y, b.x - length, b.y - width, b.y + width); 
```

其中`a`和`b`是起点和终点，`length`和`width`描述箭头。请注意，这必须是“抚摸”，而不是“填充”，但也很容易得到一个实心箭头。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T21:33:15.420

我能够做到，这是更新的脚本。

```
 $(function(){
        var r = Raphael("gauge", 200, 200);
        var g = r.gauge(0, 180);

        g.bg(r.circle(100, 100, 100).attr({fill:'','stroke-width': '0'}), [100, 100]);

        g.pointer(r.path('M 80,96 15,96 15,90 0,100 15,110 15,104 80,104 100,104 100,96 z').attr({fill: '#fff', 'stroke-width': '0'}).transform(""), [0, 0]);

        setInterval(function(){
            var percent = Math.floor(Math.random()*100);
            g.move(percent);
        }, 3000);
    }); 
```

这是更新的 jsFiddle [http://jsfiddle.net/creativestudio/VH3fR/11/](http://jsfiddle.net/creativestudio/VH3fR/11/)

# javascript - 为什么 jquery UI 对复选框不起作用？

> ID：12616429
> 
> 赞同：0
> 
> 时间：2012-09-27T07:40:52.077
> 
> 标签：javascript, jquery, html, jquery-ui

这是[演示链接：http](http://cistrome.org/cps/sequences?did=2653&Gene_box=&region_select=proximal&distance_nearest_bp_number=5000&distance_further_bp_number=0&displaygenes=genesymbol&extend_bp_number=200&repeat_bp_number=150) ://cistrome.org/cps/sequences?did=2653&Gene_box=®ion_select=proximal&distance_nearest_bp_number=5000&distance_further_bp_number=0&displaygenes=genesymbol&extend_bp_number=200&repeat_bp_number=150 ：

首次进入页面时，复选框如下所示： ![破碎的](../Images/b3b4b114c5b698ef87808ef1b6fff6e9.png) 样式已损坏，不可点击。

只有当您**刷新页面**时，复选框才会看起来像这样： ![好的](../Images/2d5ba664ebe3746428420c290d9035dc.png) 它现在可以点击了。

这可以在 Firefox15.0.1 上重现。（**如果它在第一次对您有用，您可以单击蓝色按钮`Find binding sites`。然后您可能会看到损坏的复选框..**）

我就是想知道为什么第一次进入页面就坏了，刷新页面就恢复正常了。我使用萤火虫来调试 javascript 代码，但它只说：

```
TypeError: $("#radio_tss").buttonset is not a function
[Break On This Error]   

$("#radio_tss").buttonset(); 
```

这让我很困惑..

复选框的jQuery UI参考可以在这里看到：

[http://jqueryui.com/demos/button/#radio](http://jqueryui.com/demos/button/#radio)

有没有人知道这个复选框会发生什么？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T07:47:36.430

您在模块中插入动态`<script>`标签`mygene`以加载 jQuery UI 将默认`async`执行，有时允许您的调用`.buttonset()`在 jQuery UI 实际完成加载之前继续进行。

在第二次加载时，文件已经在浏览器缓存中，从而降低了问题的可能性。

# c# - 临时覆盖 app.config 中的值

> ID：12616433
> 
> 赞同：0
> 
> 时间：2012-09-27T07:41:28.873
> 
> 标签：c#, winforms, configurationmanager

我的代码中的几个地方，像这样从 app.config 中检索 serviceurl`ConfigurationManager.AppSettings["ServerURL"];`

现在我想让用户可以将服务 url 指定为命令行参数。如果未指定参数，则必须使用 app.config 中的 serviceurl。

在 Main 我可以执行以下操作：

```
if(args[0] != null)
ConfigurationManager.AppSettings["ServerURL"] = args[0] 
```

它似乎有效，但我可以依赖 AppSettings["ServerURL"] 不是从 app.config 重新加载的吗？我知道 ConfigurationManager.RefreshSection 但它没有被使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:52:43.307

`AppSettings`您应该拥有另一个包装`ConfigurationManager`并提供值替换逻辑的类，而不是从代码中更改值：

```
public static class Conf {
    public static string ServerURLOverride { get; set; }

    public static string ServerUrl {
        get { return ServerURLOverride ?? ConfigurationManager.AppSettings["ServerURL"]; }
    }
} 
```

并在`Main()`：

```
if (args.Length > 0 && args[0] != null)
    Conf.ServerURLOverride = args[0]; 
```

这也将简化单元测试。

# node.js - nodejs socket.io 回调逻辑

> ID：12616434
> 
> 赞同：0
> 
> 时间：2012-09-27T07:41:37.197
> 
> 标签：node.js, callback, socket.io

```
io.sockets.on('connection', function(socket){  
    socket.on('customevent', function(){...})   
...}) 
```

`io.sockets.on`简化逻辑：每个套接字都会响应一个事件（`'connection'`默认情况下）； `socket.on`简化逻辑：每个套接字只有在建立连接时才会响应事件（仅在`'connection'`收到事件时）；

那么，这里的逻辑是什么？函数是否`io.sockets.on`仅用于建立连接，如简单回调？我看到这两个函数都代表“每个套接字响应”，并且没有必要，`socket.on`因为`io.sockets.on`将响应所有事件以及`socket.on`给定的套接字。

有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:16:31.507

不同的套接字连接可能会根据它们的性质以不同的方式处理不同的事件。`io.sockets.on(...)`指定所有套接字连接的通用行为（即不依赖于连接身份的行为）；`socket.on(...)`（其中`socket`表示特定连接）指定特定于该连接的行为。

# hadoop - 猪的安全问题

> ID：12616435
> 
> 赞同：1
> 
> 时间：2012-09-27T07:41:46.627
> 
> 标签：hadoop, apache-pig, biginsights

我有运行良好的 Embedded Pig 程序，它使用 PIG 0.7.1 和 Biginsights 1.0 。现在我想在新版本的 PIg(0.9.1) 和 Biginsights(1.4) 中执行相同的程序。但是当我执行它时显示以下错误。

```
 org.apache.hadoop.ipc.RemoteException: org.apache.hadoop.security.AccessControlException: Permission denied: user=administrator, access=WRITE, inode="user":biadmin:supergroup:rwxr-xr-x 
```

仅供参考，我可以使用 java 程序读取 hdfs 文件。我认为只有 PIG 有问题。谁能帮我解决这个问题。？

**这是我的示例代码：**

```
PigServer ps = new PigServer(ExecType.MAPREDUCE,prt);
    ps.registerQuery("A = load '/user/biadmin/student' using PigStorage() as (name:chararray);");
    ps.registerQuery("B = foreach A generate name;");
    ps.store("B", "user/biadmin/myoutput123"); 
```

# php - 为什么 Amazon Sandbox 订单始终处于待处理状态？

> ID：12616439
> 
> 赞同：1
> 
> 时间：2012-09-27T07:42:03.337
> 
> 标签：php, xml, api, amazon, amazon-mws

我正在使用 CBA（HTML 集成）。完成所有步骤后，亚马逊使用 GET amznPmtsOrderIds 重定向到自定义确认页面。然后我尝试使用 MWS API (Action=GetOrder) 获取订单详细信息，它返回 XML，但该 XML 不包含重要信息，例如：BuyerName、PostalCode、AddressLine1 等，因为订单仍在等待中。

那么，在我被重定向到确认页面后，我如何才能收到订单详细信息 + 订单商品，只知道亚马逊订单 ID？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-14T15:37:45.200

> 经过长时间搜索我的问题，找到了解决方案，在结帐管道设置 > 商家 URL 上，亚马逊将向其发送包含所有必需数据的 XML！– 奥列格安德烈耶夫 2012 年 9 月 27 日在 8:21

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:21:36.207

我不确定你是如何收到这些信息的。现在我正在研究一个谷歌结帐界面，虽然它返回 XML，但我仍在使用 _GET 来获取信息。

为什么不将整个结果转储到一个页面并阅读它们以确保您不需要做类似的事情......

buy.billing-information.address（如果使用获取“。”会自动替换为“_”）如果您可以发布大部分信息，我会尽力提供进一步的帮助。

# tcp - 如何从iptables队列中的数据包中提取有效负载

> ID：12616442
> 
> 赞同：0
> 
> 时间：2012-09-27T07:42:21.260
> 
> 标签：tcp, network-programming, http-headers, iptables, netfilter

我正在使用 libnetfilter_queue 库。但我想不出在回调函数中提取有效负载的方法。我有点新。详细的帮助将不胜感激！实际上，我还希望从有效负载中提取 http 标头。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T12:09:33.713

一旦你得到了直到回调，使用以下 api 获取与 nfqueue 处理程序关联的文件描述符。

```
int nfq_fd (struct nfq_handle *h); 
```

然后调用一个标准的 recv() ，它接受一个要读取的描述符、一个填充数据的缓冲区和缓冲区的长度。

```
if(recv(fd, buf, sizeof(buf), 0) >= 0)
        printf("pkt received in buf\n"); 
```

现在 buf 包含整个数据包。我认为没有可用于解析 http 的显式 api。您可以阅读 http 标准的规范并跳过字节到您要查找的字段。

[libnetfilerqueue](http://netfilter.org/projects/libnetfilter_queue/doxygen/group__Queue.html#ga32703f66bfe86e5d0d6a348511628d45)

# android - 使用 vuforia qualcomm 播放动画图像

> ID：12616447
> 
> 赞同：2
> 
> 时间：2012-09-27T07:42:37.347
> 
> 标签：android, ios, unity3d, augmented-reality

我正在尝试在 AR 相机视图上运行动画，类似于气球漂浮在实际视图上的动画，它将基于标记的检测，但不需要精确定位在标记上。

我看过视频播放演示并尝试修改它，但我可以看到 3 个主要障碍，1\. 仅在 android 4.0 及更高版本中支持摄像头视图内的视频，而我希望从 2.3 开始支持；2.它播放视频而不是动画，视频就像矩形框，我的要求是添加像气球这样的特定对象，其余区域应该按照相机视图；3.动画不需要完全在标记上播放

我愿意使用原生 android 或 unity，尽管使用 unity 我看到了另一个限制，它将仅支持由 ARMv7 驱动的移动设备，这可能又是一个障碍。

我猜一个好方法可能是统一制作动画（或其他一些工具，如 maya）并集成到基于 eclipse 的 android 应用程序。

关于如何实现这种简单的动画效果的任何指示？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-24T00:31:22.660

为什么你不团结就尝试做同样的事情？尝试使用 Vuforia + Eclipse： [http ://devel-open.blogspot.com.ar/2012/10/vuforia-eclipse-ubuntu.html](http://devel-open.blogspot.com.ar/2012/10/vuforia-eclipse-ubuntu.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-16T11:35:04.827

最终使用统一。该应用程序是统一创建的，然后传输到 Eclipse。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T06:10:07.843

您可以使用具有动画且非常轻的 md2 模型。Qcar 是一个很好的 AR 库，我使用了很长时间。[在这里](https://stackoverflow.com/a/12158889/1206201)查看我的 ans以将另一个库（Jpct-ae）与 Qcar 结合使用。

# objective-c - 我如何从 IOS 的 uiwebview 中的提交按钮获取操作

> ID：12616452
> 
> 赞同：0
> 
> 时间：2012-09-27T07:43:01.210
> 
> 标签：objective-c, ios, ios5

当我使用 UIWEBVIEW 点击 webarchive 文件中的提交按钮时，我想过滤操作。尤其是 ACTION URL 链接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T10:03:45.077

每次 webview 想要加载一些东西时，它都会调用

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType; 
```

# javascript - 如何在街景地图 i Google 地图插件中添加搜索选项

> ID：12616455
> 
> 赞同：1
> 
> 时间：2012-09-27T07:43:14.120
> 
> 标签：javascript, html, google-maps

我在我的应用程序中使用了谷歌地图插件。对于街景地图，该插件中没有搜索选项。但我的应用程序需要街景地图中的搜索选项。我将以下代码用于街景地图。

​</p>

```
<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key=ABQIAAAAuPsJpk3MBtDpJ4G8cqBnjRRaGTYH6UMl8mADNa0YKuWNNa8VNxQCzVBXTx2DYyXGsTOxpWhvIG7Djw" type="text/javascript"></script>
<script type="text/javascript">

var myPano;

function initialize() {
  var fenwayPark = new GLatLng(42.345573,-71.098326);
  panoramaOptions = { latlng:fenwayPark };
  myPano = new GStreetviewPanorama(document.getElementById("pano"), panoramaOptions);
  GEvent.addListener(myPano, "error", handleNoFlash);
}

function handleNoFlash(errorCode) {
  if (errorCode == FLASH_UNAVAILABLE) {
    alert("Error: Flash doesn't appear to be supported by your browser");
    return;
  }
}  

</script> 
```

如何在该街景地图中添加搜索选项？帮我解决这个问题..

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T08:23:29.637

如果你想添加一个搜索功能，你应该有一个值来接收你想要搜索的值。所以可能是一个地址，所以这个地址应该在回发时通过一个按钮进行地理编码

# javascript - 在列表框中包含复选框

> ID：12616461
> 
> 赞同：0
> 
> 时间：2012-09-27T07:43:31.050
> 
> 标签：javascript, html, jsp

我创建了一个可以多选的列表框，如下所示：

```
<td rowspan="20">
  <html:select property="doneTypeform" tabindex="<%=(i2++).toString() %>" multiple="multiple" size="35">
    <html:option value="">--Please Select--</html:option>
    <html:optionsCollection name="doneTypeCol"/>
  </html:select>
</td> 
```

我想为`checkbox`列表框中的每个项目添加。我怎样才能做到这一点？

编辑：

像这样的东西：[http ://code.google.com/p/dropdown-check-list/](http://code.google.com/p/dropdown-check-list/)

```
<script src="jquery.js"></script>
        <script src="dropdownchecklist.js"></script>
        <script>
            $(document).ready(function() {
                $("#select_id").dropdownchecklist();
            });
        </script> 
```

当我没有 id 属性时如何添加 select_id。我尝试使用属性但它不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:04:09.713

如果您指的是`html:select`标签，则它具有`styleId`您可以使用的属性。

# extjs4.1 - 更新 EXTJS 中的关联记录

> ID：12616464
> 
> 赞同：1
> 
> 时间：2012-09-27T07:43:48.513
> 
> 标签：extjs4.1, extjs-mvc

我正在处理 extjs 4.1.1 中的主从详细信息页面。

我有一个 Person 模型，它有许多 Address 模型。（我已经在 EXTJS 中配置了关系）

我有一个显示所有人员记录的网格，当我单击一条记录时，我会在另一个网格中显示此人的相关地址。

要填充我使用的第二个网格：

```
var grid2 = this.getAddressList(); //made a reference to this
var store = record.Addresses(); // this gives me the addresses store associated with the person record
...
grid2.reconfigure(store); 
```

现在，当我将地址添加到此人的地址存储区时，将向其余服务器发出 ajax 请求。为了确保 extjs 也会将相关数据发送到服务器，我创建了一个特殊的 writer 类（来自 extjs 论坛的代码）。

```
Ext.define('Ext.data.writer.DeepJson', {
extend:'Ext.data.writer.Json',
getRecordData:function (record, operation) {
    var isPhantom = record.phantom === true,
        writeAll = this.writeAllFields || isPhantom,
        nameProperty = this.nameProperty,
        fields = record.fields,
        data = {},
        changes,
        name,
        field,
        key;

    if (writeAll) {
        // This is the branch that has been changed from the original Json Writer
        data = record.getData(true);
    } else {
        changes = record.getChanges();
        for (key in changes) {
            if (changes.hasOwnProperty(key)) {
                field = fields.get(key);
                name = field[nameProperty] || field.name;
                data[name] = changes[key];
            }
        }
    }
    if (isPhantom) {
        if (operation && operation.records.length > 1) {
            data[record.clientIdProperty] = record.internalId;
        }
    } else {
        data[record.idProperty] = record.getId();
    }

    return data;
}
}); 
```

在服务器端，它只是更新数据库，然后在 json 对象中将他的关联地址发回给我，以便 extjs 可以更新前端。

问题是 extjs 只能更新人员网格，但不能更新地址网格。即使服务器确实响应了记录的更新版本（服务器给了它一个 id），新创建的地址记录仍被标记为脏

有没有人遇到过类似的情况可以给我一些建议？我意识到我没有提供很多代码，但我愿意分享更多，我只是不知道需要哪些代码。

**编辑** 我使用 MyStore.load() 将数据加载到网格中 商店有一个如下配置的休息代理：

```
proxy:
    {
        type: 'rest',
        url: 'persons', //general read url
        headers : auth, //basic auth to connect to rest service
        reader:
        {
            type: 'json',
            root: 'persons',
            successProperty: 'renderList'
        },

        writer:Ext.create('Ext.data.writer.DeepJson', {root: 'persons'}), //above writer class
        api:
        {
            update: 'persons/person',
            create: 'persons/person',
            destroy: 'persons/person'

        },
    } 
```

# c# - 为基于 Active Directory 的网站开发登录页面

> ID：12616475
> 
> 赞同：2
> 
> 时间：2012-09-27T07:44:45.513
> 
> 标签：c#, .net, asp.net-mvc, active-directory, windows-server-2008

我正在开发一个基于 C# 和 Active Directory 中的 Windows Server 2008 R2、Asp.Net 4 和 MVC3 的 Web 项目。

01- 我新创建的网站应该有一个登录页面，它将授权用户使用 Active Directory。

02 - 登录页面还应该记住用户以前登录的时间并允许访问而无需一直重新输入密码/它也应该在移动设备上工作（Phone Gap 和 Sencha）。

03 - 该网站将托管在可以直接访问 AD（Intranet）的服务器上。

我是 Active Directory 的新手，虽然我进行了几次搜索，但我仍然有一些疑问和困惑，我希望得到你的澄清：

*   .Net 是否有专门设计的类，以便更轻松地连接和授权用户对抗 AD？使用 Web 应用程序更简单的方法是什么？

*   关于第02点，如何避免用户在后续登录时重新输入密码？我可以使用 AD 和 Cookies 吗？.Net 中为此设计了哪个类？

*   关于第 03 点，我是否需要在 AD 上进行一些特殊配置以允许从我的网站访问（在可以访问 AD 的 Intranet 上运行），我听说过 LDAP .. 这对我来说有意义吗？

非常感谢您在这方面的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:48:47.337

我建议您从查看`ActiveDirectoryMembershipProvider`. MSDN 上有很多信息，包括[这篇文章](http://msdn.microsoft.com/en-us/library/ff650307.aspx)，它描述了如何在多个域中使用表单身份验证（您的情况更简单，您只有一个域）。

ASP.NET`Login`控件具有“记住我”功能 - 您可以查看其工作原理并创建 MVC 等效项。

# android - 如何通过在android中重复循环来创建json对象？

> ID：12616481
> 
> 赞同：1
> 
> 时间：2012-09-27T07:44:59.123
> 
> 标签：android, json, shapefile

我想通过在while循环中获取形状文件的点来创建Json对象。形状文件包含73个点。我将形状文件的点存储在json oject中并在循环中将对象添加到ArrayList中，在while循环下面我正在检索从ArrayList中一个一个的对象并存储在JsonArray中，但是这里的问题是shapefile的最后一个记录点在arraylist中存储了73次。如何解决这个问题请帮助我。

这是我的代码

```
try {

        File file= new File(Environment.getDataDirectory().getAbsolutePath()+"/ne_50m_admin_0_tiny_countries.shp");
        Long fileLength=file.length();
        Log.d("FileLength is","file"+fileLength);
        String shpFile = Environment.getDataDirectory().getAbsolutePath().toString()+"/ne_50m_admin_0_tiny_countries.shp";
        //String shpFile = Environment.getDataDirectory().getAbsolutePath().toString()+"/ne_50m_admin_0_breakaway_disputed_areas.shp";
        ShapeReader reader = new ShapeReader(shpFile, true);
        ShapeType shpType=reader.getHeader().getShapeType();
        JSONObject jObject = new JSONObject();
        JSONObject wkidJson = new JSONObject();
        jObject.put("objectIdFieldName","OBJECTID");
        jObject.put("globalIdFieldName","");
        jObject.put("geometryType",shpType);
        wkidJson.put("wkid", new Integer(102100));
        jObject.put("spatialReference",wkidJson);
        JSONArray fieldsList = new JSONArray();
        JSONObject idJson = new JSONObject();
        JSONObject yJson = new JSONObject();
        JSONObject xJson = new JSONObject();
        idJson.put( "name","OBJECTID");
        idJson.put("alias", "OBJECTID");
        idJson.put("type", "esriFieldTypeOID");
        yJson.put( "name","y");
        yJson.put("alias", "y");
        yJson.put("type", "esriFieldTypeDouble");
        xJson.put( "name","x");
        xJson.put("alias", "x");
        xJson.put("type", "esriFieldTypeDouble");
        fieldsList.put(idJson);
        fieldsList.put(yJson);
        fieldsList.put(xJson);
        jObject.put("fields",fieldsList);
        JSONObject geomJson = new JSONObject();
        JSONObject attJson = new JSONObject();
        JSONObject featuresJson = new JSONObject();
        JSONArray featuresList = new JSONArray();
        Log.d("Header info is","Header"+reader.getHeader().getFileLength());
        recordshape=reader.new Record();
        ArrayList a= new ArrayList();
        while (reader.hasNext())
        {

            if(recordshape.end < fileLength)
            {
                if(shpType==ShapeType.POINT)
                {
                    recordshape=reader.nextRecord();
                    int recordNumber=recordshape.number;
                    double Xcoordinate= recordshape.minX;
                    double Ycoordinate=recordshape.minY;
                    Log.d("Xcoordinate info is","Xcoordinate"+Xcoordinate);
                    Log.d("Ycoordinate info is","Ycoordinate"+Ycoordinate);
                    geomJson.put("x", Xcoordinate);
                    geomJson.put("y", Ycoordinate);
                    attJson.put("OBJECTID", recordNumber);
                    attJson.put("y", Ycoordinate);
                    attJson.put("x", Xcoordinate);
                }

            }
            else
                break;

            featuresJson.put("geometry", geomJson);
            featuresJson.put("attributes", attJson);
            a.add(featuresJson);
            Log.d("featuresJson info is","featuresJson"+featuresJson);
         }
        Log.d("featuresJson info is","featuresJson"+featuresJson);
        Log.d("size info is","size"+a.size());
        for(int i=0;i<a.size();i++)
        {
        featuresList.put(a.get(i));
        }

        Log.d("featuresList info is","featuresList"+featuresList);
        jObject.put("features",featuresList);
        String jsonString = jObject.toString();

        jsonString = jsonString.replace("\\" , "");

        FileWriter writeFile = new FileWriter(Environment.getDataDirectory().getAbsolutePath().toString()+"/Test.json");
        BufferedWriter out = new BufferedWriter(writeFile);
        out.write(jsonString);
        out.flush();
        out.close();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        Log.d("Error","Message"+e.getMessage());
    }catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
            Log.d("Exception","Message"+e.getMessage());
    } 
```

我想要的json格式是

```
{
"objectIdFieldName": "OBJECTID",
"globalIdFieldName": "",
"geometryType": "esriGeometryPoint",
"spatialReference": {
    "wkid": 102100
},
"fields": [
    {
        "name": "OBJECTID",
        "alias": "OBJECTID",
        "type": "esriFieldTypeOID"
    },
    {
        "name": "y",
        "alias": "y",
        "type": "esriFieldTypeDouble"
    },
    {
        "name": "x",
        "alias": "x",
        "type": "esriFieldTypeDouble"
    }
],
"features": [
    {
        "geometry": {
            "x": -13021472.272599999,
            "y": 4046325.7190999985
        },
        "attributes": {
            "OBJECTID": 212,
            "y": 4046325.7191,
            "x": -13021472.2726
        }
    },
    {
        "geometry": {
            "x": -13021124.9134,
            "y": 4046747.3976000026
        },
        "attributes": {
            "OBJECTID": 232,
            "y": 4046747.3976,
            "x": -13021124.9134

        }
    }
] 
```

}

请帮助我谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:49:14.400

在你的循环中，你一遍又一遍地将值放在同一个 json 对象中。因此，当您对其进行 jsonify 时，您的数组包含 n*同一个对象。

您需要创建要在循环的每次传递中添加的新对象。

这三个声明必须在循环内移动：

```
JSONObject geomJson = new JSONObject();
JSONObject attJson = new JSONObject();
JSONObject featuresJson = new JSONObject(); 
```

# visual-studio-2010 - 如何删除块但将内容保留在 Visual Studio 中？

> ID：12616484
> 
> 赞同：0
> 
> 时间：2012-09-27T07:45:26.553
> 
> 标签：visual-studio-2010, visual-studio, resharper

我将通过一个我想要的例子来展示：

原始状态：

```
using (var myobject = new DisposableObject())
{
  //some code that no longer use myobject
  int x = 5;
  int y = x+5;
} 
```

期望的状态：

```
 //some code that no longer use myobject
  int x = 5;
  int y = x+5; 
```

我想通过键盘组合或 resharper 命令或宏来实现此更改。所以不要通过手动删除大括号和使用行。这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T07:55:04.427

不是一个命令，但这会起作用（需要 Resharper）：

*   删除“使用”行（`shift`+ `del`）
*   将光标放在`{`并点击`alt`+ `enter`,
*   选择“删除大括号”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:30:26.360

如果大括号和 using 块位于不同的行中，此宏也可以使用，只需添加一个快捷方式：

```
Sub deleteusingblock()
    DTE.ExecuteCommand("Edit.LineDelete")
    DTE.ActiveDocument.Selection.EndOfLine()
    Dim sel As TextSelection = DTE.ActiveDocument.Selection
    Dim ap As VirtualPoint = sel.ActivePoint

    If (sel.Text() <> "") Then Exit Sub
    ' reposition
    DTE.ExecuteCommand("Edit.GoToBrace") : DTE.ExecuteCommand("Edit.GoToBrace")

    If (ap.DisplayColumn <= ap.LineLength) Then sel.CharRight(True)

    Dim c As String = sel.Text
    Dim isRight As Boolean = False
    If (c <> "(" And c <> "[" And c <> "{") Then
        sel.CharLeft(True, 1 + IIf(c = "", 0, 1))
        c = sel.Text
        sel.CharRight()
        If (c <> ")" And c <> "]" And c <> "}") Then Exit Sub
        isRight = True
    End If

    Dim line = ap.Line
    Dim pos = ap.DisplayColumn
    DTE.ExecuteCommand("Edit.GoToBrace")
    If (isRight) Then sel.CharRight(True) Else sel.CharLeft(True)

    sel.Text = ""
    If (isRight And line = ap.Line) Then pos = pos - 1
    sel.MoveToDisplayColumn(line, pos)
    sel.CharLeft(True)
    sel.Text = ""
End Sub 
```

（来源：克里斯的回答：[在 Visual Studio 中删除匹配的大括号](https://stackoverflow.com/questions/9896859/delete-matching-braces-in-visual-studio)）

# c - C中的位域。解释Sa和Sb的值

> ID：12616487
> 
> 赞同：-3
> 
> 时间：2012-09-27T07:45:38.770
> 
> 标签：c

考虑以下代码

```
#include<stdio.h>
#include<conio.h>

struct mystruct
{
    int a:1;
    int b:2;
    int c:3;
};

void main()
{
    struct mystruct S;
    clrscr();
    S.a=1;
    S.b=-5;
    S.c=100;
    printf("%d %u %d %u %d %u",S.a,S.a,S.b,S.b,S.c,S.c);
    getch();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:46:37.923

您正在定义一个 1 位有符号数`a`。这没有多大意义，因为一旦符号被编码，就没有任何位可用于任何东西。小位域通常应该是一种`unsigned`类型，并且宽度字段`1`必须是，然后您可以存储 0 或 1，这可能就是您的意思。

成员也发生了同样的问题`b`，它只有两位宽，但您正在尝试存储`-5`，它实际上并不能很容易地编码为两位。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:55:50.933

语句`S.b = -5`会`S.c = 100`导致溢出（因为您分配的值不能保存在 2 位或 3 位中），因此 Sb 和 Sc 不会包含您期望的值。

# python - Scikit-learn 的带有线性内核 svm 的 GridSearchCV 耗时太长

> ID：12616492
> 
> 赞同：3
> 
> 时间：2012-09-27T07:46:00.457
> 
> 标签：python, python-2.7, machine-learning, scikit-learn

我从 sklearn 网站获取了示例代码，即

```
tuned_parameters = [{'kernel': ['rbf'], 'gamma': [1e-3, 1e-4], 'C': [1, 10, 100, 1000]},
        {'kernel': ['linear'], 'C': [1, 10, 100, 1000]}]

scores = [('f1', f1_score)]

for score_name, score_func in scores:
    print "# Tuning hyper-parameters for %s" % score_name
    print

    clf = GridSearchCV( SVC(), tuned_parameters, score_func=score_func, n_jobs=-1, verbose=2 )
    clf.fit(X_train, Y_train)

    print "Best parameters set found on development set:"
    print
    print clf.best_estimator_
    print
    print "Grid scores on development set:"

    print
    for params, mean_score, scores in clf.grid_scores_:
        print "%0.3f (+/-%0.03f) for %r" % (
            mean_score, scores.std() / 2, params)
    print

    print "Detailed classification report:"
    print
    print "The model is trained on the full development set."
    print "The scores are computed on the full evaluation set."
    print
    y_true, y_pred = Y_test, clf.predict(X_test)
    print cross_validation.classification_report(y_true, y_pred)
    print 
```

X_train 是一个大约 70 行的 pandas DataFrame。

输出是

```
[GridSearchCV] kernel=rbf, C=1, gamma=0.001 ....................................
[GridSearchCV] kernel=rbf, C=1, gamma=0.001 ....................................
[GridSearchCV] kernel=rbf, C=1, gamma=0.001 ....................................
[GridSearchCV] kernel=rbf, C=1, gamma=0.0001 ...................................
[Parallel(n_jobs=-1)]: Done   1 jobs       | elapsed:    0.0s
[GridSearchCV] ........................... kernel=rbf, C=1, gamma=0.001 -   0.0s
[GridSearchCV] ........................... kernel=rbf, C=1, gamma=0.001 -   0.0s
[GridSearchCV] ........................... kernel=rbf, C=1, gamma=0.001 -   0.0s
[GridSearchCV] .......................... kernel=rbf, C=1, gamma=0.0001 -   0.0s
[GridSearchCV] kernel=rbf, C=1, gamma=0.0001 ...................................
[GridSearchCV] kernel=rbf, C=1, gamma=0.0001 ...................................
[GridSearchCV] kernel=rbf, C=10, gamma=0.001 ...................................
[GridSearchCV] kernel=rbf, C=10, gamma=0.001 ...................................
[GridSearchCV] .......................... kernel=rbf, C=1, gamma=0.0001 -   0.0s
[GridSearchCV] .......................... kernel=rbf, C=1, gamma=0.0001 -   0.0s
[GridSearchCV] kernel=rbf, C=10, gamma=0.001 ...................................
[GridSearchCV] .......................... kernel=rbf, C=10, gamma=0.001 -   0.0s
[GridSearchCV] .......................... kernel=rbf, C=10, gamma=0.001 -   0.0s
[GridSearchCV] kernel=rbf, C=10, gamma=0.0001 ..................................
[GridSearchCV] .......................... kernel=rbf, C=10, gamma=0.001 -   0.0s
[GridSearchCV] kernel=rbf, C=10, gamma=0.0001 ..................................
[GridSearchCV] kernel=rbf, C=10, gamma=0.0001 ..................................
[GridSearchCV] ......................... kernel=rbf, C=10, gamma=0.0001 -   0.0s
[GridSearchCV] kernel=rbf, C=100, gamma=0.001 ..................................
[GridSearchCV] ......................... kernel=rbf, C=10, gamma=0.0001 -   0.0s
[GridSearchCV] ......................... kernel=rbf, C=10, gamma=0.0001 -   0.0s
[GridSearchCV] kernel=rbf, C=100, gamma=0.001 ..................................
[GridSearchCV] ......................... kernel=rbf, C=100, gamma=0.001 -   0.0s
[GridSearchCV] kernel=rbf, C=100, gamma=0.001 ..................................
[GridSearchCV] kernel=rbf, C=100, gamma=0.0001 .................................
[GridSearchCV] ......................... kernel=rbf, C=100, gamma=0.001 -   0.0s
[GridSearchCV] kernel=rbf, C=100, gamma=0.0001 .................................
[GridSearchCV] ......................... kernel=rbf, C=100, gamma=0.001 -   0.0s
[GridSearchCV] kernel=rbf, C=100, gamma=0.0001 .................................
[GridSearchCV] kernel=rbf, C=1000, gamma=0.001 .................................
[GridSearchCV] ........................ kernel=rbf, C=100, gamma=0.0001 -   0.0s
[GridSearchCV] ........................ kernel=rbf, C=100, gamma=0.0001 -   0.0s
[GridSearchCV] kernel=rbf, C=1000, gamma=0.001 .................................
[GridSearchCV] ........................ kernel=rbf, C=100, gamma=0.0001 -   0.0s
[GridSearchCV] ........................ kernel=rbf, C=1000, gamma=0.001 -   0.0s
[GridSearchCV] kernel=rbf, C=1000, gamma=0.001 .................................
[GridSearchCV] kernel=rbf, C=1000, gamma=0.0001 ................................
[GridSearchCV] kernel=rbf, C=1000, gamma=0.0001 ................................
[GridSearchCV] ........................ kernel=rbf, C=1000, gamma=0.001 -   0.0s
[GridSearchCV] kernel=rbf, C=1000, gamma=0.0001 ................................
[GridSearchCV] ........................ kernel=rbf, C=1000, gamma=0.001 -   0.0s
[GridSearchCV] ....................... kernel=rbf, C=1000, gamma=0.0001 -   0.0s
[GridSearchCV] kernel=linear, C=1 ..............................................
[GridSearchCV] ....................... kernel=rbf, C=1000, gamma=0.0001 -   0.0s
[GridSearchCV] kernel=linear, C=1 ..............................................
[GridSearchCV] kernel=linear, C=1 ..............................................
[GridSearchCV] ....................... kernel=rbf, C=1000, gamma=0.0001 -   0.0s
[GridSearchCV] kernel=linear, C=10 ............................................. 
```

然后它永远不会结束。我用 Lion 在 Mac Book Pro 上运行它。我做错了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-28T06:40:34.473

在运行网格搜索之前，通过规范化数据集来修复它，如下所示：[normalize-data-in-pandas 。](https://stackoverflow.com/questions/12525722/normalize-data-in-pandas)

# magento - Magento：类别描述后显示块

> ID：12616494
> 
> 赞同：1
> 
> 时间：2012-09-27T07:46:07.670
> 
> 标签：magento

我在类别页面上的类别描述之后放置一个块时遇到问题。

我有一个单独的布局 xml 文件，用于新的过滤导航。xml是：

```
 <catalog_category_layered> 
    <remove name="catalog.leftnav" />
    <remove name="enterprisecatalog.leftnav"/> 
    <reference name="left">
       <block type="amshopby/catalog_layer_view" name="amshopby.navleft" after="currency" template="catalog/layer/view.phtml"/>
    </reference>
    <reference name="content">
            <block type="amshopby/catalog_layer_view_top" name="amshopby.navtop" before="-" template="amshopby/view_top.phtml"/>
            <block type="amshopby/top" name="amshopby.top" before="category.products" template="amshopby/top.phtml"/>
    </reference>
</catalog_category_layered> 
```

因此，正是这一行将此块放置在我的类别页面内容区域的开头：

```
<block type="amshopby/catalog_layer_view_top" name="amshopby.navtop" before="-" template="amshopby/view_top.phtml"/> 
```

所以现在我的分类页面是这样的：

过滤导航 -> 分类标题 -> 分类描述 -> 产品概览

但我想重新排列它，使它看起来像

分类标题 -> 分类描述 -> 过滤导航 -> 产品概览

但是我怎样才能在描述之后放置这个块呢？这是一个包含标题、描述、产品等的新块：

（标准目录.xml）

```
 <catalog_category_layered translate="label">
    <label>Catalog Category (Anchor)</label>
    <reference name="left"></reference>
    <reference name="content">
        <block type="catalog/category_view" name="category.products" template="catalog/category/view.phtml">
            <block type="catalog/product_list" name="product_list" template="catalog/product/list.phtml">
                <!-- <action method="addReviewSummaryTemplate"><type>default</type><template>review/helper/su.phtml</template></action> -->
                <block type="catalog/product_list_toolbar" name="product_list_toolbar" template="catalog/product/list/toolbar.phtml">
                    <block type="page/html_pager" name="product_list_toolbar_pager"/>
                    <!-- The following code shows how to set your own pager increments -->
                    <!--
                        <action method="setDefaultListPerPage"><limit>4</limit></action>
                        <action method="setDefaultGridPerPage"><limit>3</limit></action>
                        <action method="addPagerLimit"><mode>list</mode><limit>2</limit></action>
                        <action method="addPagerLimit"><mode>list</mode><limit>4</limit></action>
                        <action method="addPagerLimit"><mode>list</mode><limit>6</limit></action>
                        <action method="addPagerLimit"><mode>list</mode><limit>8</limit></action>
                        <action method="addPagerLimit" translate="label"><mode>list</mode><limit>all</limit><label>All</label></action>
                        <action method="addPagerLimit"><mode>grid</mode><limit>3</limit></action>
                        <action method="addPagerLimit"><mode>grid</mode><limit>6</limit></action>
                        <action method="addPagerLimit"><mode>grid</mode><limit>9</limit></action>
                        <action method="addPagerLimit" translate="label"><mode>grid</mode><limit>all</limit><label>All</label></action>
                    -->
                </block>
                <action method="addColumnCountLayoutDepend"><layout>empty</layout><count>6</count></action>
                <action method="addColumnCountLayoutDepend"><layout>one_column</layout><count>5</count></action>
                <action method="addColumnCountLayoutDepend"><layout>two_columns_left</layout><count>4</count></action>
                <action method="addColumnCountLayoutDepend"><layout>two_columns_right</layout><count>4</count></action>
                <action method="addColumnCountLayoutDepend"><layout>three_columns</layout><count>3</count></action>
                <action method="setToolbarBlockName"><name>product_list_toolbar</name></action>
            </block>
        </block>
    </reference>
</catalog_category_layered> 
```

我真的不知道如何在类别描述之后添加这个块。我是 magento 的新手，块系统很混乱。我试过像

```
<block type="amshopby/catalog_layer_view_top" name="amshopby.navtop" before="product_list_toolbar" template="amshopby/view_top.phtml"/> 
```

但这不起作用。我也尝试在 catalog.xml 中添加这个块代码，但它没有显示出来。

有人知道我能做什么吗？谢谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T12:46:55.220

在`amshopby.xml`中，剪切以下 XML 行：

```
<block type="amshopby/catalog_layer_view_top" name="amshopby.navtop" before="-" template="amshopby/view_top.phtml"/>
<block type="amshopby/top" name="amshopby.top" before="category.products" template="amshopby/top.phtml"/> 
```

然后在 中`catalog.xml`，将这两行粘贴到此处：

```
<catalog_category_layered translate="label">
<!-- ... -->
<reference name="content">
<!-- ... -->
<block type="catalog/category_view" name="category.products" template="catalog/category/view.phtml">

<!-- paste XML here -->

<!-- ... -->
</reference>
</catalog_category_layered> 
```

然后在`template/catalog/category/view.phtml`这一行粘贴：

```
<?php echo $this->getChildHtml('amshopby.navtop'); ?> 
```

在以下之后：

```
<?php if($_description=$this->getCurrentCategory()->getDescription()): ?>
<div class="category-description std">
    <?php echo $_helper->categoryAttribute($_category, $_description, 'description') ?>
</div>
<?php endif; ?> 
```

那应该这样做。

# php - 在 php 中从 JSON 中提取正文部分时出错

> ID：12616500
> 
> 赞同：0
> 
> 时间：2012-09-27T07:46:22.273
> 
> 标签：php, json, decode

我正在创建 http_client 对象并发出 GET 请求。下面是我的代码。

```
$httpc = new HTTP_CLIENT();
$httpc->get("$endpointUrl?operation=getchallenge&username=$userName");
$response = $httpc->currentResponse();
print_r($response);
output: Array ( [url] => http://localhost:8888//webservice.php?operation=getchallenge&username=admin [code] => 200 [headers] => Array ( [date] => Thu, 27 Sep 2012 07:30:17 GMT [server] => Apache/2.0.52 (Win32) PHP/5.2.6 [x-powered-by] => PHP/5.2.6 [expires] => Thu, 19 Nov 1981 08:52:00 GMT [cache-control] => no-store, no-cache, must-revalidate, post-check=0, pre-check=0 [pragma] => no-cache [content-length] => 102 [connection] => close [content-type] => application/json ) [body] => ï»¿{"success":true,"result":{"token":"50640089780c4","serverTime":1348731017,"expireTime":1348731317}} )

jsonResponse = Zend_JSON::decode($response['body']); 
```

我试图从这个数组中提取“body”部分，但我得到的值是空白的。如果可以的话，请帮助我。

注意：您可以在 [body] 部分的开头看到具有 JUNK 值的输出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:00:19.393

因为那是一个 API，而且它们显然有一些 BOM 字符，你应该提取它们并解码：

```
$jsonResponse = Zend_JSON::decode(substr($response['body'], 6)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:54:34.677

试试这个

```
var_dump(Zend_Json_Decoder::decode($data, Zend_Json::TYPE_ARRAY)); 
```

# c# - 事务和锁

> ID：12616509
> 
> 赞同：3
> 
> 时间：2012-09-27T07:47:01.617
> 
> 标签：c#, sql-server-2008, transactions, locks

我目前正在处理交易并感到困惑。这些事务是在数据访问层而不是在数据库的存储过程中创建的 (SQL Server 2008)。我了解为交易设置的隔离级别的正常工作。我无法理解在以下情况下会发生什么。

1.  发起交易
2.  选择 ID=1 的员工。
3.  更新 ID=1 的员工。
4.  犯罪

有多个线程在做同样的事情，但 ID 不同。但可能存在两个线程查找相同 ID 的情况。让我们称它们为线程 A 和 B。对于两个线程，上述步骤按以下方式进行。隔离级别设置为可重复读取。

A1。启动事务 A2。选择 ID=1 的员工。B1。发起交易 B2。选择 ID=1 的员工。A3。更新 ID=1 的员工。A4。提交 B3。更新 ID=1 的员工。B4。犯罪

我真正想从事务中实现的是，当线程 A 选择特定记录时，线程 B 甚至应该无法选择该记录。我不知道我是否通过在这种情况下使用事务和锁来思考正确的轨道。

等待回复:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T08:37:14.033

您应该使用 UPDLOCK 表提示来防止死锁，例如，

```
select * from employee with (updlock) where id = @id
update employee set name = @name where id = @id 
```

如果没有这个，您可能会遇到死锁，因为默认情况下 select 采用共享读锁：

1.  事务 A 执行选择（共享读锁）。
2.  事务 B 执行选择（共享读锁，可能在与事务 A 相同的一些记录上，例如，如果采用页锁）。
3.  事务 A 现在进行更新，这需要排他写锁（锁升级），但必须等待事务 B 释放其共享读锁。
4.  事务 B 现在也想做它的更新，但必须等待事务 A 释放它的共享读锁。

所以事务 A 和 B 现在正在互相等待——经典的锁升级死锁。UPDLOCK 表提示避免了这种情况，因为它强制选择采取排他锁：

1.  事务 A 执行选择（独占更新锁）。
2.  事务 B 想做它的选择，但必须等待事务 A 先释放它的锁。
3.  事务 A 现在进行更新并提交，释放 select 获取的更新锁。
4.  事务 B 现在可以进行选择。

编辑：您可以将 UPDLOCK 与 ROWLOCK 结合起来以请求行级锁，例如“with (updlock, rowlock)”。你可以问，但你可能并不总是明白 - 请参阅[http://msdn.microsoft.com/en-us/library/ms187373(v=sql.100).aspx](http://msdn.microsoft.com/en-us/library/ms187373%28v=sql.100%29.aspx)。此外，行锁可能比页锁更昂贵，因为如果您使用行锁，SQL Server 可能需要跟踪更多的锁。所以我会让 SQL Server 自己选择锁的范围，它通常做得很好；在这种情况下，它不应该使用表锁。只有在没有它的情况下才显式使用行锁。

另请注意，行锁本身不会阻止两个事务选择相同记录（行）然后尝试更新它的死锁 - 所以你总是需要一个更新锁。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:52:55.693

您应该看看乐观锁定，它通过在更新中添加额外检查来检查记录是否在读取和写入之间没有更改。您还可以在事务范围之外读取您的记录，从而为您提供更好的整体性能。

[Optimistic_concurrency_control 维基百科](http://en.wikipedia.org/wiki/Optimistic_concurrency_control)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-21T00:15:16.417

尝试这样的事情：

```
using System;
using System.Transactions;
using System.Data;
using Microsoft.Practices.EnterpriseLibrary.Data;

namespace StackOverflow.Demos
{
    class Program
    {

        static Database db = DatabaseFactory.CreateDatabase("demo");

        public static void Main(string[] args)
        {
            TransactionOptions options = new TransactionOptions();
            options.IsolationLevel = System.Transactions.IsolationLevel.RepeatableRead; //see http://www.gavindraper.co.uk/2012/02/18/sql-server-isolation-levels-by-example/ for a helpful guide to choose as per your requirements
            using (TransactionScope scope = new TransactionScope(TransactionScopeOption.Required, options))
            {
                using (IDbConnection connection = db.CreateConnection())
                {
                    connection.Open(); //nb: connection must be openned within transactionscope in order to take part in the transaction
                    IDbCommand command = connection.CreateCommand();

                    command.CommandType = CommandType.Text;
                    command.CommandText = "select top 1 status from someTable with(UPDLOCK, ROWLOCK) where id = 1"; //see http://msdn.microsoft.com/en-us/library/aa213026(v=sql.80).aspx
                    string statusResult = command.ExecuteScalar().ToString();

                    if (!statusResult.Equals("closed",StringComparison.OrdinalIgnoreCase))
                    {
                        command.CommandType = CommandType.Text;
                        command.CommandText = "update someTable set status='closed' where id = 1";
                    }

                    scope.Complete();
                }
            }
        }
    }
} 
```

附言。通常，建议您使用存储过程而不是硬编码的 SQL，就像我在上面所做的那样 - 如果您可以将所有逻辑推送到存储过程中，这样您只需调用 proc 并且数据库中处理的所有逻辑都这样.

在上面的示例中，您会注意到命名空间：

```
Microsoft.Practices.EnterpriseLibrary.Data; 
```

那是因为我倾向于使用 MS 的企业库中的数据块，它为您提供了 OOTB 库之上的大量功能。如果您有兴趣，可以在此处阅读更多信息：http: [//msdn.microsoft.com/library/cc467894.aspx](http://msdn.microsoft.com/library/cc467894.aspx)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-27T08:02:35.563

在我看来，您应该查看正在使用的线程机制。您应该能够预先知道（而不是在事务期间）并且不使用已经处理的 ID 启动线程。或者您的线程应该有权访问一些共享同步列表，其中包含应处理的 ID。这样两个线程就不能在同一个 ID 上工作。

# scala - 这两个函数定义是否等效？

> ID：12616514
> 
> 赞同：0
> 
> 时间：2012-09-27T07:47:24.193
> 
> 标签：scala

我只是在看讲座 2.2 高阶函数（关于[Scala 中的函数式编程原则](https://www.coursera.org/#course/progfun)）。在那里，一个 sum 函数定义如下：

```
def sum(f: Int => Int, a: Int, b: Int) { ... } 
```

稍后，相同的函数定义如下：

```
def sum(f: Int => Int)(a: Int, b: Int) { ... } 
```

它们似乎是等价的，但没有解释为什么要重新选择。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:07:24.297

第二个定义声明了一个带有两个参数列表的方法。忽略隐式，这通常用于启用[柯里](http://en.wikipedia.org/wiki/Currying)化函数应用程序。基本思想是你可以绑定一个函数的一些参数，这会产生另一个带有更少参数的函数，即那些尚未绑定的函数。这是一个简单的教科书示例：

```
def add(xs: List[Int])(y: Int) =
  xs.map(_ + y)

// Bind first argument and store resulting function in f
val f = add(List(2,3,5,7,11))_

println(f(0))  // List(2, 3, 5, 7, 11)
println(f(10)) // List(12, 13, 15, 17, 21)

// Bind first argument and store resulting function in g
val g = add(List(0,1,0,1,0,1))_

println(g(1))  // List(1, 2, 1, 2, 1, 2)
println(g(-1)) // List(-1, 0, -1, 0, -1, 0)

// Regular invocation
println(add(List(1,2,3))(4)) // List(5, 6, 7) 
```

你会在网上找到很多关于柯里化的文章，例如，如何在 Scala 中使用[柯里](http://www.codecommit.com/blog/scala/function-currying-in-scala)化，或者在 Scala 中有[多种](https://stackoverflow.com/questions/4915027/two-ways-of-currying-in-scala-whats-the-use-case-for-each)柯里化方法。

关于为什么要重新选择一个：在 Haskell 中，您基本上总是会选择 curried 版本而不是 uncurried 版本，因为后者为您提供了能够部分绑定参数的优势，并且没有“语法惩罚”或运行时惩罚用于使用咖喱版本。由于这不适用于 Scala（正如您可以从上面的代码片段中观察到的语法那样），您可能希望更喜欢 uncurried 样式，除非您知道您的方法/函数的最可能用例会[受益从咖喱](https://stackoverflow.com/questions/4915027/two-ways-of-currying-in-scala-whats-the-use-case-for-each)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:07:51.300

有点，但不完全是。最大的不同在于，拥有多个参数列表可以让我们更轻松地使用该函数，而无需指定所有参数。

例如，让我们像这样定义两个函数：

```
def sum1(f: Int => Int, a: Int, b: Int) = f(a + b)
def sum2(f: Int => Int)(a: Int, b: Int) = f(a + b) 
```

现在让我们定义一个函数，该函数`g`将另一个函数作为参数，该函数接受两个`Int`s 并产生一个`Int`

```
def g(f: (Int, Int) => Int) = f(3, 5) 
```

带有多个参数列表的版本`sum`允许我们只指定第一个列表的参数，然后将此部分应用的函数传递给`g`：

```
g(sum2(_ + 1)) 
```

这是非常简单且非常干净的。

如果没有单独的参数列表，如 中`sum1`，我们必须编写一个 lambda 表达式来显示`a`和`b`参数的来源：

```
g((a: Int, b: Int) => sum1(_ + 1, a, b)) 
```

# java - 更新到接缝 2.3.0.Final 时找不到 javax.validation.ConstraintViolation

> ID：12616517
> 
> 赞同：1
> 
> 时间：2012-09-27T07:47:38.437
> 
> 标签：java, seam2

我正在尝试将我的项目从 Seam 2.2.1.CR2 升级到 2.3.0.Final 但是这样做时我得到了：

```
cannot access javax.validation.ConstraintViolation
class file for javax.validation.ConstraintViolation not found 
```

我已将错误追溯到 StatusMessages.java。在该类中，它在执行 import javax.validation.ConstraintViolation 时找不到 ConstraintViolation 类；

由于 StatusMessages.java 是一个在包 org.jboss.seam.international 中找到的类；我无法对其进行任何更改。

什么不见​​了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-02T14:49:29.243

确保您的项目中引用了validation-api.jar。

# java - 为什么这个布尔方法使用错误的返回路径？

> ID：12616518
> 
> 赞同：5
> 
> 时间：2012-09-27T07:47:40.670
> 
> 标签：java, android

这太愚蠢了，我敢肯定我会在几分钟内用湿腌鱼刺伤自己。

我有这种方法，其目的是确定资产文件夹中的特定路径是否是子文件夹。它用于递归搜索以查找资产中的文件。

```
 private static boolean isDirectory(AssetManager assetManager, String path) throws     IOException
 {
    // AssetManager.list() returns a string array of assets located @ path
    // if path is a file, then the array will be empty and have zero length
    // if path does not exist, then an IOException is raised
    // (ignore the exception as in theory, this will never happen
    // since this is called by the searchAssets recursive find)

    // do nothing for uninitialised or empty paths
    if (path==null || path.equals("")){return false;}

    try {
        if (DEBUG){Log.d(TApp.APP_TAG,path + " lists " + assetManager.list(path).length + " assets");}
        if (assetManager.list(path).length > 0){
            return true;
        }
    } catch (IOException e) {
        // do nothing - path should always exist but in any case, there is nothing we can
        // do so just throw it back up
        throw e;
    }
    return false;
} 
```

问题是它总是返回假。

当我单步执行代码时，我可以看到 .list() 从 logcat 输出和在断点处评估 .list() 为子文件夹返回一个非零值。当我逐步执行该方法时，当前执行点正确命中“返回真”；但是当我按 F7 继续时（我使用的是 IDEA），执行点会跳转到最后一条语句“return false;”，也就是返回的值。

（我不好意思问）。为什么？

[编辑] 请求显示我是如何调用它的 - 这个方法没有完成，因为我无法让上面的工作！

```
public static String searchAssets(AssetManager asm, String path, String filename){

    // TODO uses hard coded path separator

    // search for the file, filename, starting at path path in the assets folder
    // asm must be initialised by the caller using an application context
    // returns an empty string for non existent files or for filename = ""

    if (asm==null){return "";}

    String foundFile; // return value

    try {
        // get a list of assets located at path
        String[] files = asm.list(path);

        // files may be null if an invalid path is passed
        if (files!=null && files.length>0){

            // loop through each asset for either a subfolder to search 
            // recursively or the file we are looking for
            for (String file:files){

                // <<<<<< HERE'S THE CALL >>>>>>>
                if (isDirectory(asm,path + "/" + file)){  

                    foundFile = searchAssets(asm,file,filename); // recurse this subfolder

                    // searchAssets returns either the name of our file, if found, or an empty string 
                    if (!foundFile.equals("")){
                        return foundFile;
                    }
                } else {
                    if (file.equals(filename)){
                        return path + "/" + file;
                    }
                }
            }
        }

    } catch (IOException e) {
        // eat the exception - the caller did not set us up properly 
    }

    return "";
} 
```

[更多编辑]

日志猫：

```
09-27 09:21:12.047: DEBUG/GRENDLE(2811): harmonics_data/Harmonic Data SHC lists 2 assets
09-27 09:21:12.137: DEBUG/GRENDLE(2811): harmonics_data/Harmonic Data SHC is a subfolder,     returning true

09-27 09:21:12.544: DEBUG/GRENDLE(2811): harmonics_data/Harmonic Data SHC is a not a subfolder,     returning false 
```

这是一个屏幕截图。第一个断点（return true;）首先被命中。继续单步直接跳转到最后一条语句，return false，也就是返回的内容。这不是一个例外。异常断点永远不会被命中，我也不希望它会命中，从 logcat 中可以看出，控制流似乎是错误的。

我不知道它在 Eclipse 中的样子，但这里红线是断点，蓝线是当前执行点。

![ ](../Images/f651e417395d1c9b9c8615b211b27218.png)

我已经清除了缓存，删除了文件索引，删除了输出文件夹并完成了完整的重建。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T09:09:41.397

首先，不要使用多个退出点（返回），只需创建一个布尔值 isDir 并在您的代码中相应地设置它并最终返回它。

其次，据我了解`list()`将返回 a `String[]`，如果文件夹为空，它将返回`null`（不会进入异常，因为您没有`NullPointerException`从 [null].length 捕获）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T09:35:22.820

我真的不明白看到应用程序的日志，但我认为问题出在这里：

```
// <<<<<< HERE'S THE CALL >>>>>>>
if (isDirectory(asm,path + "/" + file)){

  foundFile = searchAssets(asm,path + "/" + file,filename); // recurse this subfolder 
```

也许将路径和栏放在递归调用中可以解决您的问题，但是，无论如何，isDirectory 方法不是必需的，我将这样执行搜索方法：

```
public static String searchAssets(AssetManager asm, String path,
        String filename) {

    // TODO uses hard coded path separator

    // search for the file, filename, starting at path path in the assets
    // folder
    // asm must be initialized by the caller using an application context
    // returns an empty string for non existent files or for filename = ""

    if (asm == null) {
        return "";
    }

    String foundFile = ""; // return value

    try {
        // get a list of assets located at path
        String[] files = asm.list(path);

        // files may be null if an invalid path is passed
        if (files != null && files.length > 0) {

            // loop through each asset for either a subfolder to search
            // recursively or the file we are looking for
            for (String file : files) {

                foundFile = searchAssets(asm, path + "/" + file, filename); // recurse
                                                                // this
                                                                // subfolder

                // searchAssets returns either the name of our file, if
                // found, or an empty string
                if(!foundFile.equals("")){
                    return foundFile;
                }
            }
        } else {
            if (path.equals(filename)) {
                return path;
            }else{
                return "";
            }
        }

    } catch (IOException e) {
        // eat the exception - the caller did not set us up properly
    }

    return "";
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-27T09:40:14.837

我读了你的代码。很好的解释问题。我创建了相同的代码并对其进行调试，发现如果递归函数中的路径错误，则返回与您的情况相同的 FALSE，因为它无法在机器中找到该文件。

```
public class test {
    public static void main(String[] args) {
        listFiles("D:\\usr");
    }

    public static void listFiles(String path) {
        System.out.println("path => " + path);
        File f = new File(path);

        if (f.isDirectory()) {
            System.out.println(f.isDirectory());        
            System.out.println(f.list().length);

            for (int i = 0; i < f.list().length; i++) {
                System.out.println("file is :: " + f.list()[i]);
                listFiles(f.listFiles()[i].getAbsolutePath());          
            }
        }
    }
} 
```

我认为唯一的问题是在 PATH 中，所以尝试将 LOG 放在每个语句中以便能够轻松调试。如果可能的话，将**absolutePath**传递给递归函数

谢谢你。

# java - Play 框架自动测试不起作用

> ID：12616519
> 
> 赞同：2
> 
> 时间：2012-09-27T07:47:41.077
> 
> 标签：java, playframework, playframework-1.x

我正在尝试将播放应用程序集成到 Jenkins CI 中。我正在寻找一种自动运行所有测试的方法。

Play[文档](http://www.playframework.org/documentation/1.2.4/test#continuous)建议`play auto-test`自动运行所有测试。

当我这样做`play auto-test`时，它似乎没有按照文档中的描述自动运行测试。它简单地写道，

```
Go to http://localhost:9010/@tests to run the tests 
```

并坚持下去。我很好奇它是否在后台运行测试并需要一些时间，所以我检查了 CPU 使用率，它似乎一直接近 100%。我等了大约 25 分钟，以为它可能正在运行测试，但它仍然没有终止并且似乎没有运行测试。使用浏览器运行测试`play test`不会超过几分钟。

我正在运行以下环境

```
Play: 1.2.4
Java: Sun Java build 1.6.0_26-b03
OS: Ubuntu Linux 12.04 
```

有没有其他人遇到过类似的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T10:34:20.743

问题似乎与 log4.properties 文件有关。删除此文件即可`play auto-test`正常工作。

我在 中创建了一个属性，`application.conf`以便为生产环境使用单独的 log4j.properties 文件。

```
%prod.application.log.path=log4j.prod.properties 
```

# javascript - 结合传说中的系列

> ID：12616522
> 
> 赞同：1
> 
> 时间：2012-09-27T07:48:17.317
> 
> 标签：javascript, highcharts

我尝试绘制对象的不同属性，但图例中只有对象的名称，以便我可以关闭/打开对象的显示，而不是每个不同的属性。

在[jsfiddle](http://jsfiddle.net/xBz92/)我试图演示我想要的。到目前为止一切顺利，但在图例中，我希望在此示例中只有 2 个条目（2209 和 8444）。这只是一个例子，会有更多的对象，图表会很快变得笨拙。

欢迎任何帮助（或指向其他可以解决问题的图表解决方案的指针）。我的javascript知识相当有限..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:07:08.450

有时我遇到了类似的问题。这就是我实施的方式。

*   您不能在高图表中对图例进行分组；因此无法使用内置选项。
*   相反，您需要为图例构建自定义显示。
*   您只能列出 2 个而不是 8 个项目（根据您的要求）
*   可能的 UI 元素可以是复选框选项（或只是超链接）
*   您需要存储图例的状态（选择/取消选择）
*   默认显示所有图表
*   在选择或取消选择时，您可以切换多个系列（在您的情况下为 4 种）

**示例代码在这里**

```
 // @name is the series name on the chart
  // @newValue would be true or false that is selected or deselected
  ToggleChartSeries = function (name, newValue) {
        // Get matching series or multiple series here
        var matchingSeries = .. // You need to fill the logic here 

        // for multiple series, you can loop through
        if (matchingSeries) {
            if (newValue) {
                matchingSeries.show();
            } else {
                matchingSeries.hide();
            }
        }
    }; 
```

# actionscript-3 - 如何在 AS3 中清理字典

> ID：12616524
> 
> 赞同：3
> 
> 时间：2012-09-27T07:48:19.590
> 
> 标签：actionscript-3, flash

这是否`Dictionary`可以清理所有关键参考？

```
public static function cleanDic(_dic:Dictionary):void
{
    for (var eachKey:String in _dic)
    {
        delete _dic[eachKey];
    }
} 
```

我担心，如果我在`for`循环期间删除某些键会导致无法清除所有元素。

这会发生吗？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-27T09:11:13.903

首先，我不喜欢这里给出的任何答案。现在，解释一下：

1.  您的代码不会删除所有字典键，因为字典键可能是任何对象，而不是必需的字符串。所以，你需要迭代：

    `for (key:Object in dictionary) delete dictionary[key];`

2.  当您不想创建一个新字典时，有许多合理的场景——创建一个新字典有时是一个非常糟糕的替代品。例如，您在代码中的两个位置共享值（等等，为什么还要创建一个？）。一旦你创建了一个新的，代码中的位置应该被通知并以某种方式重新获得对新对象的新引用。因此，有时从字典中删除所有键虽然在计算上并不完全有效，但与创建一个新键相比会更好，因为它会使事情变得简单。

3.  有一个有趣的方面`Dictionary`。它实际上实现为两个哈希表，一个包含字符串键，另一个 - 指针键（对象键）。不幸的是，这是由于糟糕/粗心的设计，而不是故意的。它具有继承自的字符串哈希表`Object`和自己的指针键之一。通常*不*希望将字符串放入字典（或任何其他隐式强制转换为字符串的内容，如数字或逻辑值），因此，当您发现自己使用带字典的字符串键时 - 再想一想，您可能想`Object`改用.

4.  在字典循环期间会发生什么：在幕后创建了一个键集合，实际上，您迭代了该集合。然而，由于字典的双重性质，两个键可能被认为是相同的（例如，如果您添加了一个字符串`"1"`和 int`1`键 - 您将只得到其中一个。删除键时，在不同的播放器版本有不同的结果。在一些旧版本中，有一个错误，在删除这些键然后序列化字典后，其中一个键保留在其中。但是，再次，您应该避免使用字符串或数字作为键。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:00:31.810

无需编写清理`Dictionary`. 只需使用：

```
yourdictionary = new Dictionary(); 
```

和 GarbageCollector 会做的伎俩。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-27T08:00:33.727

我不太清楚你的意思

*我担心，如果我在 for 循环中删除某些键会导致无法清除所有元素。*

但是您的代码示例是正确的，这就是`Dictionary`可以清理 a 的方式。（假设您只使用`Dictionary`带有`string`键的对象，因为您的`for`循环使用`string`. 请参阅下面的工程师评论。）

或者，您可以将您的字典设置为一个新实例 - 实现同样的速度稍快：

```
var dict:Dictionary = new Dictionary ();

... // use dict here      

dict = new Dictionary (); // effectively cleans the dictionary 
```

Flash 垃圾收集器应该释放字典中所有被丢弃的元素。**__**

# c++ - 在图片框中以 cv::Mat 格式显示网络摄像头提要

> ID：12616529
> 
> 赞同：7
> 
> 时间：2012-09-27T07:48:43.120
> 
> 标签：c++, winforms, opencv, picturebox

我正在使用 OpenCV 从网络摄像头获取实时流并在检测到人脸之后。我正在调整它们的大小，以便只显示我的脸。

但问题是我在**C++ Windows 窗体**中执行所有这些操作，我希望它显示在 a`PictureBox`而不是在 OpenCV`imshow()`窗口中显示。

我正在使用`cv::Mat`，所以在图片框中显示时遇到了很多问题。

我已经尝试将其转换为`IplImage`，但这也不起作用。另外，我尝试过谷歌，但我找不到有效的解决方案。我已经尝试了 3 天。

这是我的显示代码：

```
 face = getFace(frame);
                 cv::imshow("window",face); 
```

在哪里`frame`和`face`在哪里`cv::Mat`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-27T19:39:07.773

这是一个 C++ CLR 函数，用于在任何 Windows 窗体控件上绘制 OpenCV 垫子：

```
void DrawCVImage(System::Windows::Forms::Control^ control, cv::Mat& colorImage)
{
    System::Drawing::Graphics^ graphics = control->CreateGraphics();
    System::IntPtr ptr(colorImage.ptr());
    System::Drawing::Bitmap^ b  = gcnew System::Drawing::Bitmap(colorImage.cols,colorImage.rows,colorImage.step,System::Drawing::Imaging::PixelFormat::Format24bppRgb,ptr);
    System::Drawing::RectangleF rect(0,0,control->Width,control->Height);
    graphics->DrawImage(b,rect);
    delete graphics;
} 
```

此函数只能绘制 8 位 3 通道图像。

尝试将位图的像素格式用于其他图像类型。

# mysql - 类似 Git 的 MySQL 转储合并？

> ID：12616530
> 
> 赞同：0
> 
> 时间：2012-09-27T07:48:46.270
> 
> 标签：mysql, git, merge, mysqldump

我是 Git 或任何关于版本控制的新手。这是我们的设置：作为开发人员，我有一个 Wordpress 的本地安装，它是我们在 github 中称为 master 的 master 分支的克隆。每次进行更改时，我都会将它们推送到主分支，包括 mysql 转储。另一个开发者也有另一个基于 master 的远程分支。问题是当我们在自己的分支上进行更改时，数据库也发生了变化。当涉及到数据库时，我们的例程是，我们手动将 mysql 转储导入我们选择覆盖的任何数据库。这非常繁琐，因为我们必须手动检查/比较数据库中的更改，这反过来会减慢开发速度。所以问题是，Git 是否允许合并 mysql 转储，就像它对常规文件所做的那样？如果不，你能给我一个合并 msyql 转储的替代解决方案吗？或者有什么方法可以让我们完全避免它？如果我没有正确使用这些术语，请原谅我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:32:08.420

如果您将 SQL 文件直接存储到项目根目录中，则可以使用合并。请注意以一种为每个插入创建不同行的方式进行转储（我的意思是 INSERT INTO .... (values), (values) ...）

如果您有大量数据，我认为将其存储到您的 Git 存储库中并不是一个好主意。在我的项目中，我们只将数据库*结构*存储到其中，并且我们有另一个管理插入的文件（进入 Git 以轻松共享它（好吧，我在撒谎，我正在使用 Mercurial，但这有关系吗？））。当在所有 env 上完成插入时，我们只需删除相应的行，以免那里有太大的文件。完整的数据在版本控制之外保存（和备份）。

# jquery - 我们可以在 Firebug 或 TCP 转储中监控表单的 POST 方法吗？

> ID：12616531
> 
> 赞同：0
> 
> 时间：2012-09-27T07:48:49.433
> 
> 标签：jquery, html, tcp, security

我只是怀疑我们可以在 Firebug 或 TCP 转储中监控表单的发布方法吗？

如果是，那么我们如何使 HTML 表单的 post 方法安全？我们也可以在 Firebug 中观察 jQuery 的 post 或 get 方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T07:53:56.110

是的，你可以`firebug`用来监控表单的发布数据，但是你只能看到你发布的数据（这是很明显的），所以不存在安全问题。

对于tcp dump，是的，有人可以用它来监控post数据，所以这就是为什么网站需要使用它`Hypertext Transfer Protocol Secure (HTTPS)`来保护数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:56:18.283

是的，您可以在`Net`面板中执行此操作，方法是单击请求并观察其内容。见下图：

![在此处输入图像描述](../Images/7b571ce1f196f8a231a2519289a00786.png)

这是使用 Mozilla Firefox 15.0.1

# facebook - facebook分享按钮不起作用

> ID：12616532
> 
> 赞同：0
> 
> 时间：2012-09-27T07:48:50.703
> 
> 标签：facebook, share

我正在尝试在我的网站上添加 Facebook 共享并检查用户是否共享。下面是我的代码。

```
<script src="http://connect.facebook.net/en_US/all.js"></script>
<input type="button"
  onclick="share_me(); return false;"
  value="Share"
/> 
```

javascript:

```
FB.init({appId:365897140152061 ,status: true, cookie: true});
function share_me() {

FB.ui({
  method: 'feed',
  app_id: '365897140152061',
  link: 'https://developers.facebook.com/docs/reference/dialogs/',
  picture: 'http://fbrell.com/f8.jpg',
  name: 'Facebook Dialogs',
  caption: 'Reference documentation',
  description: 'Using%20Dialogs%20to%20interact%20with%20users.',
  message: 'thanks for visting'
},
function(response){
  if(response && response.post_id) {
    self.location.href = 'http://www.google.com'
  }
  else {
    self.location.href = 'http://www.yahoo.com'
  }
});
} 
```

当我分享时，我收到一条错误消息：请稍后再试。我怎样才能摆脱错误？

# spring-mvc - 使用 xhr post 和 json 的 dojo ajax 调用

> ID：12616533
> 
> 赞同：3
> 
> 时间：2012-09-27T07:48:52.973
> 
> 标签：spring-mvc, dojo

我无法通过 dojo 1.8 的 xhr 调用发布 dojo 表单，但它通过已弃用的方法 dojo.xhrPost 发生。请查看我使用的代码片段。

这是来自 jsp 的用于 dojo ajax 调用的部分

```
require(["dojo/request/xhr"],function(xhr){
    xhr('http://localhost:8080/myApp/call',{
        data:  'callerName',
        method:"POST",
        load: function(data, ioargs) {
             alert("The message is: " +  ioargs.xhr.status);  
             },
             error: function(error){
             alert("Returned: " + error);
             }
    });
    });
<form data-dojo-type="dijit/form/Form" name="callerName" id="callerName">
    ...here are dojo input types
</form> 
```

下面是弹簧控制器

```
@RequestMapping(value="/call",method=RequestMethod.POST)
public ModelAndView saveData3(HttpServletRequest req, @ModelAttribute Caller    caller){} 
```

在这里，我没有从表单获取调用者模型属性的值。但电话正在发生。如果我在下面进行不推荐使用的调用，而不是这个 ajax 调用，值会被绑定。

```
dojo.xhrPost({
    url: 'http://localhost:8080/myApp/call',
    form: 'callerName',
    load: function(response) {
    } 
```

对于 1.8 中的最新调用而不是参数“数据”，我尝试使用“表单”仍然没有发生。这个问题可能是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:27:10.280

Dojo 已经[弃用了`load`和`error`回调属性，取而代之的是 deferreds/promises](http://dojotoolkit.org/reference-guide/1.8/releasenotes/migration-2.0.html)。

*   [带有延迟代码的新代码](http://dojotoolkit.org/reference-guide/1.9/releasenotes/migration-2.0.html#xhr-and-io-requests)示例低于带有回调的旧代码。
*   另一个[样本](http://dojo-toolkit.33424.n3.nabble.com/post-request-using-new-dojo-request-xhr-td3987429.html)。

* * *

我认为 Dojo 将保持向后兼容性直到 2.0，但也许它已被删除（啊.. 如果您需要 old ，也许 1.8 支持旧语法`dojo/_base/xhr`）。

另外，请注意最好要求`dojo/request`而不是`dojo/request/xhr`直接要求。

**更新：** *为什么`dojo/request`优先于`dojo/request/xhr`：*

`dojo/request`是比 更高级别的抽象`dojo/request/xhr`。所以它是：

*   更便携：`dojo/request`自动选择合适的提供者并在客户端和服务器中工作。`dojo/request/xhr`不能在服务器（node.js）`dojo/request/node`上工作，也不能在客户端（浏览器）上工作。
*   更灵活。将来，也许会添加更好的提供者。`dojo/request`可以使用最好的提供程序，而无需对您的代码进行任何更改。此外，还可以根据 URL 配置提供程序。一个示例用例将`dojo/request/xhr`用于相同域请求和`dojo/request/script`跨域请求。

来源：

*   [kitsonk，Dojo 核心贡献者](http://dojo-toolkit.33424.n3.nabble.com/post-request-using-new-dojo-request-xhr-tp3987429p3987434.html)
*   [`dojo/request/registry`文件](http://dojotoolkit.org/reference-guide/1.9/dojo/request/registry.html#dojo-request-registry)
*   [`dojo/request`文件](http://dojotoolkit.org/reference-guide/1.9/dojo/request.html)

# android - Android - Websettings settextsize，如何添加5个预设以外的其他值

> ID：12616536
> 
> 赞同：0
> 
> 时间：2012-09-27T07:49:03.810
> 
> 标签：android

在我的应用程序中，我使用的是 webview，为了增加/减少文本大小，我使用 WebSettings().setTextSize 方法，但是，此方法仅限于 5 个预定义的枚举大小（SMALLEST、SMALLER、NORMAL、LARGER、最大）。我知道我可以使用 WebSettings().setTextZoom(int)，但是我的应用程序可用于 API 级别 8 及更高级别，并且此方法是在 API 级别 14 中引入的。

我的问题是：有没有办法将其他尺寸添加到 webSettings().setTextSize？也许通过扩展 textSize 枚举，或定义其他大小？

顺便说一句：WebSettings.setDefaultFontSize(int size) 不起作用，可能是因为我使用的网页包含一个大的 CSS 文件......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:12:04.170

您可以在 pageloadfinished 上将 css 代码注入您的应用程序，并以此更改文本大小。

使用 css 注入将背景颜色更改为渐变的示例：

```
public void onPageFinished(WebView view, String url) {
    //styling

    webview.loadUrl("javascript:(function() { " +  
        "document.getElementsByTagName('body')[0].style.background = '-webkit-gradient(linear, 0% 0%, 0% 100%, from(#143b8a), to(#266af3))'; " + 
        "})()");  
} 
```

# c# - 将选定的单元格从 datagrigview 导出到 excel

> ID：12616539
> 
> 赞同：0
> 
> 时间：2012-09-27T07:49:14.680
> 
> 标签：c#, excel, interop

谁能告诉如何将选定的单元格从 datagridview 导出到 excel ？选择应通过单元格单击事件，并在单击按钮时将其导出到 excel 文件。谁能帮我吗..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:36:58.287

这应该有效：

```
using Excel = Microsoft.Office.Interop.Excel;
using System.Runtime.InteropServices;

var rows = dataGridView1.Rows.Count;
var columns = dataGridView1.Columns.Count;

var dataAsObjectArray = new object[rows,columns];

for (int i = 0; i < rows; i++)
{
    for (int j = 0; j < columns; j++)
    {
        dataAsObjectArray[i, j] = dataGridView1.Rows[i].Cells[j];
    }
}

Excel.Application application = new Excel.Application();
Excel.Workbook workbook = application.Workbooks.Add();
Excel.Worksheet worksheet = workbook.Sheets[1];

Excel.Range range  = worksheet.Range[rows, columns];
range.Value = dataAsObjectArray;

workbook.SaveAs(@"C:\whatever.xlsx");
workbook.Close();

Marshal.ReleaseComObject(application); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:46:49.350

您还应该查看[EPPlus](http://epplus.codeplex.com/) ，它是一个开源 .net 库，可以使用 Open Office Xml 格式读取和写入 Excel 2007/2010 文件。但是，您不能读/写 .xls 文件。我仍然更喜欢它而不是 Microsoft.Office.Interop.Excel。

# scala - scala中函数的关联性

> ID：12616541
> 
> 赞同：2
> 
> 时间：2012-09-27T07:49:37.460
> 
> 标签：scala

当有人说“ **scala 中的函数关联到右边**”是什么意思？

而且，万一关联性如何工作`Int => Int => Int`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T07:51:09.360

函数类型`Int => Int => Int`等价于`Int => (Int => Int)`。换句话说，`=>`首先将右侧的事物分组，或者是右关联的。

该类型`Int => (Int => Int)`定义了一个单参数函数，该函数接受 a`Int`并且其返回类型是 function from `Int`to `Int`。

那么这种功能的例子是什么？我们可以编写一个`sum`用这种类型调用的函数：

```
val sum: Int => Int => Int = {
  (a: Int) =>
    {
      (b: Int) =>
        a + b
    }
} 
```

所以`sum`接受一个参数`a`并返回一个新函数，该函数接受和参数`b`并返回和的`a`和`b`：

```
scala> val sumWith3 = sum(3)         // `sum` takes an Int argument
sumWith3: Int => Int = <function1>   // notice the return type of `Int => Int`

scala> sumWith3(5)                   // takes an Int argument
res0: Int = 8                        // returned an Int 
```

# android - 用于登录和墙贴的 AsyncFacebookRunner 实现

> ID：12616543
> 
> 赞同：-1
> 
> 时间：2012-09-27T07:49:46.310
> 
> 标签：android, facebook, login

我正在尝试创建一个 Facebook 实用程序类，到目前为止它工作得很好，但是当我在大于 ICS 的 API 上测试它时，我得到了这个错误。

> 09-27 07:43:50.706：E/AndroidRuntime(565)：致命异常：主要 09-27 07:43:50.706：E/AndroidRuntime(565)：android.os.NetworkOnMainThreadException 09-27 07:43:50.706： E/AndroidRuntime(565): 在 android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1084) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 java.net.InetAddress.lookupHostByName(InetAddress .java:391) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 java.net.InetAddress.getAllByNameImpl(InetAddress.java:242) 09-27 07:43:50.706: E/AndroidRuntime(565 ): 在 java.net.InetAddress.getAllByName(InetAddress.java:220) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 libcore.net.http.HttpConnection.(HttpConnection.java:71) 09 -27 07:43:50.706: E/AndroidRuntime(565): 在 libcore.net.http.HttpConnection.(HttpConnection.java:50) 09-27 07:43:50.706: E/AndroidRuntime(565):在 libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:351) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java: 86) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 libcore.net.http.HttpConnection.connect(HttpConnection.java:128) 09-27 07:43:50.706: E/AndroidRuntime(565) : 在 libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:308) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.makeSslConnection(HttpsURLConnectionImpl.java :460) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:432) 09-27 07:43:50.706: E/AndroidRuntime (565): 在 libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:282) 09-27 07:43:50.706:E/AndroidRuntime(565): 在 libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:232) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 libcore.net.http.HttpURLConnectionImpl.connect (HttpURLConnectionImpl.java:80) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 libcore.net.http.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:164) 09-27 07:43:50.706: E /AndroidRuntime(565): 在 com.facebook.android.Util.openUrl(Util.java:193) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 com.facebook.android.Facebook.request( Facebook.java:751) 09-27 07:43:50.706: E/AndroidRuntime(565): at com.infobest.praiser.share.ShareFacebook.postWall(ShareFacebook.java:99) 09-27 07:43:50.706: E/AndroidRuntime(565): at com.infobest.praiser.share.ShareFacebook.send(ShareFacebook.java:47) 09-27 07:43:50.706: E/AndroidRuntime(565): at com.infobest.praiser。activity.PraiseActivity$7.onClick(PraiseActivity.java:472) 09-27 07:43:50.706: E/AndroidRuntime(565): at com.android.internal.app.AlertController$AlertParams$3.onItemClick(AlertController.java:924 ) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 android.widget.AdapterView.performItemClick(AdapterView.java:292) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 android .widget.AbsListView.performItemClick(AbsListView.java:1058) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 android.widget.AbsListView$PerformClick.run(AbsListView.java:2514) 09-27 07 :43:50.706: E/AndroidRuntime(565): 在 android.widget.AbsListView$1.run(AbsListView.java:3168) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 android.os.Handler .handleCallback(Handler.java:605) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 android.os.Handler.dispatchMessage(Handler.java:92) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 android.os.Looper.loop(Looper.java:137) 09-27 07:43:50.706: E/AndroidRuntime(565): 在android.app.ActivityThread.main(ActivityThread.java:4340) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 java.lang.reflect.Method.invokeNative(Native Method) 09-27 07:43 :50.706: E/AndroidRuntime(565): at java.lang.reflect.Method.invoke(Method.java:511) 09-27 07:43:50.706: E/AndroidRuntime(565): at com.android.internal。 os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784) 09-27 07:43:50.706: E/AndroidRuntime(565): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 09 -27 07:43:50.706：E/AndroidRuntime（565）：在 dalvik.system.NativeStart.main（本机方法）E/AndroidRuntime(565): 在 android.app.ActivityThread.main(ActivityThread.java:4340) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 java.lang.reflect.Method.invokeNative(Native方法) 09-27 07:43:50.706: E/AndroidRuntime(565): at java.lang.reflect.Method.invoke(Method.java:511) 09-27 07:43:50.706: E/AndroidRuntime(565) : 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 com.android.internal.os.ZygoteInit.main （ZygoteInit.java:551）09-27 07:43:50.706：E/AndroidRuntime（565）：在 dalvik.system.NativeStart.main（本机方法）E/AndroidRuntime(565): 在 android.app.ActivityThread.main(ActivityThread.java:4340) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 java.lang.reflect.Method.invokeNative(Native方法) 09-27 07:43:50.706: E/AndroidRuntime(565): at java.lang.reflect.Method.invoke(Method.java:511) 09-27 07:43:50.706: E/AndroidRuntime(565) : 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 com.android.internal.os.ZygoteInit.main （ZygoteInit.java:551）09-27 07:43:50.706：E/AndroidRuntime（565）：在 dalvik.system.NativeStart.main（本机方法）调用（Method.java:511）09-27 07:43:50.706：E/AndroidRuntime（565）：在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run（ZygoteInit.java:784）09-27 07： 43:50.706: E/AndroidRuntime(565): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 dalvik.system .NativeStart.main（本机方法）调用（Method.java:511）09-27 07:43:50.706：E/AndroidRuntime（565）：在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run（ZygoteInit.java:784）09-27 07： 43:50.706: E/AndroidRuntime(565): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 09-27 07:43:50.706: E/AndroidRuntime(565): 在 dalvik.system .NativeStart.main（本机方法）

如果我的班级看起来像这样，我该如何实现 AsyncFacebookRunner

{

```
public String msg;
public Context ctx;
public Facebook fb;
public SharedPreferences sp;

public ShareFacebook(String msg, Context ctx, Facebook fb, SharedPreferences sp)
{
    this.msg = msg;
    this.ctx = ctx;
    this.fb = fb;
    this.sp = sp;

}

public void send()
{
    if (fb.isSessionValid())
    {
        postWall();
    }
    else
    {

        fb.authorize((Activity) ctx, new String[] {"email", "publish_checkins",
            "publish_stream"}, new DialogListener()
        {

            @Override
            public void onFacebookError(FacebookError e)
            {
                e.printStackTrace();   

            } 

            @Override
            public void onError(DialogError e) 
            {
                Toast.makeText(ctx,R.string.facebookError, Toast.LENGTH_SHORT).show();
            }

            @Override
            public void onComplete(Bundle values)
            {
                Editor editor = sp.edit();
                editor.putString("access_token", fb.getAccessToken());
                editor.putLong("access_expires", fb.getAccessExpires());
                editor.commit();
                postWall();
            }

            @Override
            public void onCancel()
            {

            }
        });
    }

}

private void postWall()
{
    Bundle params = new Bundle();
    params.putString("message",  msg );
    params.putString("link",ctx.getResources().getString(R.string.rateLink));
    params.putString("picture",
        ctx.getResources().getDrawable(R.drawable.ic_launcher).toString());
    try
    {
        fb.request("me/feed", params, "POST");
        Toast.makeText(ctx,R.string.facebookSuccess, Toast.LENGTH_SHORT).show();
    }
    catch (FileNotFoundException e)
    {
        e.printStackTrace();
    }
    catch (MalformedURLException e)
    {
        e.printStackTrace();
    }
    catch (IOException e)
    {
        e.printStackTrace();
    }

} 
```

}

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:03:00.647

您不能从 UI 线程调用 Facebook.request()。

它只发生在 ICS 及更高版本上，因为 ICS 会检查以确保您不会尝试在 UI 线程上进行网络通信。

从 facebook api 中的方法注释：

> 请注意，此方法会阻塞等待网络响应，因此不要在 UI 线程中调用它。

创建一个线程并从该线程运行 fb.request 应该可以解决该错误。

# git - Cgit master 分支不可用

> ID：12616547
> 
> 赞同：2
> 
> 时间：2012-09-27T07:50:34.990
> 
> 标签：git, gitolite, cgit

问题：repo refs 列表中缺少“master”分支。使用 cgit v0.9.0.3 + gitolite。

cgitrc 内容：

```
virtual-root=/cgit/
enable-index-links=1
enable-log-filecount=1
enable-log-linecount=1
snapshots=tar.gz tar.bz zip

repo.group=myrepo
repo.url=myrepo
repo.path=/appdata/git/repositories/myrepo.git
repo.desc=main repo
repo.owner=my@domain.com 
```

有任何想法吗？谢谢！

# mysql - HTML/PHP 表单和 MySQL 之间的 UTF-8 奇怪行为（印地语）

> ID：12616548
> 
> 赞同：0
> 
> 时间：2012-09-27T07:50:37.473
> 
> 标签：mysql, utf-8, hindi

我将所有数据库/表和列都设置为`UTF-8_general_ci`排序规则集。

我面临的条件：-

1.  当我通过 phpmyadmin 手动插入印地语数据时，我可以在 phpmyadmin 中看到印地语字符，而在 PHP 生成的网页上看到问号
2.  在同一张表中，当我通过 HTML/PHP 表单插入数据时，我看到一些无法识别的英文单词，例如`cc2faa;`（类似这样的）和网页上的正确印地语。
3.  对于大数据，我们有一个从 txt 文件读取并将数据插入到表中的脚本，我`à¤œà¤¾à¤¨à¤¾`在 phpmyadmin 中看到了类似的字符，但`Hindi`在网页上。

现在主要问题是：-

数据已通过表格在线更改，现在我需要将这些数据导出到 excel 并提供给客户，但我使用的是`à¤œà¤¾à¤`excel 而不是印地语字符。

**笔记 ：-**

*   所有英文字符都可以正常工作，因为它无处不在。
*   我的 CHARACTER SET`utf8`适用于所有表格。
*   我试图将排序规则更改为 UTF-8_bin 但这也对我没有帮助。
*   浏览器上的编码是 UTF-8，我已经发送了 UTF-8 编码的标头。

我看过很多关于 utf8 问题的帖子，但似乎没有人遇到这种奇怪的不同行为问题。

请问我有什么救援吗？还是最后得给PHP报告的数据？？

请帮忙！！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-27T11:18:38.510

> 1.  当我通过 phpmyadmin 手动插入印地语数据时，我可以在 phpmyadmin 中看到印地语字符，而在 PHP 生成的网页上看到问号

PHP 可能会生成问号，因为*数据库连接*的编码不是 utf-8。如何解决此问题取决于您使用的数据库库；如果您使用 MySQLi 使用，如果您添加到 DSN 的`mysqli_set_charset('utf8')`PDO ...`charset=utf8`

> 1.  在同一张表中，当我通过 HTML/PHP 表单插入数据时，我看到一些无法识别的英文单词，例如 cc2faa;（类似这样）和网页上的正确印地语。
> 2.  对于大数据，我们有一个从 txt 文件读取并将数据插入到表中的脚本，我在 phpmyadmin 中看到像 à¤œà¤¾à¤¨à¤¾ 这样的字符，但在网页上看到印地语。

这些可能是由与上述相同的问题引起的：PHP 表单和脚本使用默认编码连接到数据库，可能是 latin1。然后他们插入 utf-8 编码的文本，但由于 MySQL 认为您使用的是 latin1，它再次将文本编码为 utf-8，并将这个双重编码的文本插入到表中。

所以：PHP 向 MySQL 发送“जाना”，告诉它是 latin1，然后 MySQL 将其转换为 utf-8，从而产生“à¤œà¤¾à¤¨à¤¾”。后来 PHP 要求 MySQL 返回该值，并且由于连接再次使用 latin1，因此 MySQL 采用“à¤œà¤¾à¤¨à¤¾”并将其解码为 latin1。然后 PHP 假装这个 latin1 字符串实际上是 utf-8 并显示“जाना”。

同样，解决方案是将连接的编码设置为 utf-8。这取决于您使用什么来访问数据库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:57:12.857

如果您需要将数据导出为 Excel 文件，请使用`php-export-data`Eli Dickinson 的 PHP 类， http: [//github.com/elidickinson/php-export-data](http://github.com/elidickinson/php-export-data)。它非常漂亮，到目前为止我用它导出奇怪的字符集没有问题。

# php - 如何捕捉不同的元素？

> ID：12616549
> 
> 赞同：0
> 
> 时间：2012-09-27T07:50:47.770
> 
> 标签：php, jquery, smarty

我正在使用[smarty](http://www.smarty.net/)处理 html 并面临一个问题：我有不同元素的表（很少`select`和很多`input`）。我需要检查表中所有元素的值。输入没问题（`$('input[type="text"]')`_ jQuery选择器可能有一些结构吗？`select``input``{html_options}``AND`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:26:16.007

如果您想向两个选择器添加相同的功能，您可以使用这种方法..

```
$('input[type=text] , select').addClass('classname') 
```

您可以使用逗号将相同的功能添加到多个选择器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:01:26.070

我在这里看到两条可能的路线：

*   **扩展您的选择器**，`add`例如

`$('input[type="text"]').add('select').doSomething()`

*   **对所有`input`和`select`元素**使用一个公共类，例如****

 **`$('.my_input_class').doSomething()`

当然，这假设您在之后的选择中使用了通用属性/方法。例如，您可以调用`val()`来检索值。**

# c - a.out 中的数据部分

> ID：12616551
> 
> 赞同：5
> 
> 时间：2012-09-27T07:50:58.347
> 
> 标签：c, unix, operating-system, systems-programming

这是我执行的一个简单代码

```
int a;
int main()
{
    return 0;
} 
```

然后在用 gcc 编译后我做了

```
size a.out 
```

我在 bss 和数据部分得到了一些输出......然后我把我的代码改成了这个

```
int a;
int main()
{
    char *p = "hello";
    return 0;
} 
```

再次，当我在编译后看到大小为 a.out 的输出时，数据段的大小保持不变..但是我们知道字符串 hello 将在只读初始化部分分配内存..那么为什么数据段的大小保持不变？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T08:15:25.843

```
#include <stdio.h>

int main()
{
return 0;
} 
```

它给

```
 text    data     bss     dec     hex filename
    960     248       8    1216     4c0 a.out 
```

* * *

当你这样做时

```
int a;
int main()
{
    char *p = "hello";
    return 0;
} 
```

它给

```
 text    data     bss     dec     hex filename
    982     248       8    1238     4d6 a.out 
```

当时 hello 存储在`.rodata`其中，该地址的位置存储在 char 指针中`p`，但这里 p 存储在堆栈中

并且大小不显示堆栈。我不确定，但 .rodata 在这里以文本或 dec 计算。

* * *

当你写

```
int a;
char *p = "hello";
int main()
{
    return 0;
} 
```

它给

```
 text    data     bss     dec     hex filename
    966     252       8    1226     4ca a.out 
```

现在这里再次将“hello”存储在 .rodata 中，但 char 指针占用 4 个字节并存储在数据中，因此数据以 4 递增

欲了解更多信息[http://codingfreak.blogspot.in/2012/03/memory-layout-of-c-program-part-2.html](http://codingfreak.blogspot.in/2012/03/memory-layout-of-c-program-part-2.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T07:53:01.497

实际上，这是一个实现细节。编译器按原样工作。这意味着只要程序的行为相同，就可以自由地排除它想要的任何代码。在这种情况下，它可以完全跳过`char* p = "hello"`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-27T07:53:23.437

字符串“hello”分配在section中`.rodata`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-27T08:14:23.123

即使总大小没有改变，也不意味着代码没有改变。

我测试了你的例子。字符串“hello”是一个常量数据，因此它存储在只读的 .rodata 部分中。您可以使用 objdump 查看此特定部分，例如：
`objdump -s -j .rodata <yourbinary>`

使用没有任何选项的 gcc 4.6.1，我得到了您的第二个代码：

```
Contents of section .rodata:
 4005b8 01000200 68656c6c 6f00               ....hello. 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-27T07:53:41.793

由于您没有`char *`在代码中使用它，因此编译器对其进行了优化。

# android - Android 应用程序 - 导航到手机设置并返回

> ID：12616560
> 
> 赞同：0
> 
> 时间：2012-09-27T07:51:18.713
> 
> 标签：android, android-activity

我的第一个问题，（但长期潜伏在 StackOverflow 上）所以请不要太严厉。

我正在创建一个能够使用 Web 服务更新 SQLite 数据库的 Android 应用程序。当然，这只有在手机有互联网连接的情况下才会发生。我了解如何从应用程序导航到手机设置，但我想知道在用户返回应用程序后手机现在是否已连接到互联网。

我考虑过使用 onStart() 和 onResume() 方法，但是有什么方法可以确定用户“来自”的位置。一个很好的例子是谷歌地图/导航应用程序。如果用户在 Google 地图中并按下导航图标，它会打开导航应用程序/活动，如果 GPS 未打开，则会显示一个对话框，询问用户是否希望进入 GPS 设置。他们可以选择确定，打开 GPS，然后按返回按钮返回导航应用程序。如果 GPS 现在打开，他们可以继续，否则应用程序会再次显示对话框。

这很好，但在我的情况下，如果没有互联网连接，则允许用户继续。但是如果最初没有连接，并且用户离开并打开它，然后回来，那么我想调用该方法来调用服务。

我只希望在打开应用程序以及从手机设置返回时进行互联网检查。如果我使用 onStart() 方法，则每次用户打开活动时都会进行检查。

所以我的问题是，如何仅在 onCreate() 方法以及用户从手机设置返回时检查是否存在互联网连接？

提前致谢。

# maven - 无法在 mockito 中模拟课程

> ID：12616564
> 
> 赞同：2
> 
> 时间：2012-09-27T07:51:28.580
> 
> 标签：maven, mockito, sonarqube

我正在尝试为声纳插件编写单元测试。但是，在模拟其 Project 类时，测试失败，因为 Mockito 尝试使用错误的类名。我的测试代码是：

```
import org.sonar.api.resources.Project;

Project project = mock(Project.class); 
```

在通过 maven 或直接在 eclipse 中运行单元测试时，会出现以下堆栈跟踪：

```
java.lang.NoClassDefFoundError: org/apache/maven/project/MavenProject
at java.lang.Class.getDeclaredMethods0(Native Method)
at java.lang.Class.privateGetDeclaredMethods(Class.java:2427)
at java.lang.Class.getDeclaredMethods(Class.java:1791)
at org.mockito.cglib.core.ReflectUtils.addAllMethods(ReflectUtils.java:349)
at org.mockito.cglib.proxy.Enhancer.getMethods(Enhancer.java:422)
at org.mockito.cglib.proxy.Enhancer.generateClass(Enhancer.java:457)
at org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)
at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)
at org.mockito.cglib.proxy.Enhancer.createHelper(Enhancer.java:378)
at org.mockito.cglib.proxy.Enhancer.createClass(Enhancer.java:318)
at org.mockito.internal.creation.jmock.ClassImposterizer.createProxyClass(ClassImposterizer.java:93)
at org.mockito.internal.creation.jmock.ClassImposterizer.imposterise(ClassImposterizer.java:50)
at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:54)
at org.mockito.internal.MockitoCore.mock(MockitoCore.java:45)
at org.mockito.Mockito.mock(Mockito.java:921)
at org.mockito.Mockito.mock(Mockito.java:816)
at com.databorough.sonar.xametric.MetricAnalysisSensorTest.shouldExecuteOnProjectWithAllParams(MetricAnalysisSensorTest.java:37)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:113)
at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: java.lang.ClassNotFoundException: org.apache.maven.project.MavenProject
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
    ... 47 more 
```

随着插件成功构建，该项目位于类路径中。如何设置测试运行程序/maven 将 Project 视为 org.sonar.api.resources.Project 类？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T07:57:38.840

您的“项目”类被正确地视为“org.sonar.api.resources.Project”。

问题来自 Sonar 内部使用“org.apache.maven.project.MavenProject”，所以这个类必须在你的测试类路径上。将以下依赖项添加到您的 POM 将解决该问题：

```
<dependency>
  <groupId>org.apache.maven</groupId>
  <artifactId>maven-project</artifactId>
  <version>2.0.6</version>
  <scope>test</scope>
</dependency> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:58:31.967

```
java.lang.NoClassDefFoundError: org/apache/maven/project/MavenProject 
```

这表明该类`org.sonar.api.resources.Project`可能取决于 Maven 类，`org.apache.maven.project.MavenProject`

我不确定 Sonar 是否将其添加为依赖项？您可能需要为 Maven 插件 API 添加依赖项。

# mysql - 如何使用来自多个表的数据表示单个树？

> ID：12616565
> 
> 赞同：1
> 
> 时间：2012-09-27T07:51:28.133
> 
> 标签：mysql, database, structure, hierarchy

我有多个实体需要在层次结构中使用。以下内容作为示例适用：

有多个客户 每个客户都有多个产品

我想在两个单独的表（客户、产品）中表示这些，并参考从模型到品牌。这很简单，这是困难的部分。我需要在分层树的不同部分表示这些实体，如下所示（某些部分是重复节点）：

```
新产品
 └ 产品一
   └ 图片
   └ 价格
 └ 产品二
   └ 图片
   └ 价格
 └ 产品3
   └ 图片
   └ 价格
顾客
 └ 客户 1
 └ 客户 2
 └ 客户 3

```

我希望你能明白。我需要维护客户和产品之间的关系，但我需要将它们表示为树中的节点。某些节点（如上面的产品）将具有作为子节点的列表组合。每个叶节点都需要将数据存储在数据库中。

我考虑过在节点表中表示所有内容，并拥有一个 nodes_assoc 表。通过这种方式，我可以将一组节点与任意数量的父节点相关联。但是，我不太喜欢在此表中应用客户/产品关系的想法，我觉得它们显然足够重要，可以驻留在自己的表中。

回顾一下：

多个客户，每个客户都有多个产品 每个客户/产品都表示为层次树中的一个节点（在多个位置） 每组节点（所有产品）可能有一个子节点组。每个叶节点都需要针对它存储数据（也许只是该节点关联的唯一 ID）

希望你能帮忙，

谢谢

# android - 图像不适合选项卡

> ID：12616567
> 
> 赞同：0
> 
> 时间：2012-09-27T07:51:32.993
> 
> 标签：android, view, tabs

我对不同的标签使用不同的图像。但是图像不适合完全覆盖标签。如何使图像覆盖整个标签？

谢谢，索米亚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:03:07.997

尝试在选项卡中放置一个 ImageView，设置为 match_parent：

```
imageView.setScaleType(ScaleType.FIT_XY); 
```

或 XML：

```
android:scaleType="centerCrop"; 
```

要保持纵横比，请尝试：

```
setScaleType(ScaleType.CENTER_CROP); 
```

或 XML：

```
android:scaleType="centerCrop"; 
```

# jpa - EclipseLink/JPA 持久化大（blob）实体，性能问题

> ID：12616573
> 
> 赞同：0
> 
> 时间：2012-09-27T07:52:39.297
> 
> 标签：jpa, ejb-3.0, eclipselink

我有一个包含一些图像的 @Lob 字段很少的实体。当我执行以下方法时，

```
entityManager.persist(myEnity); 
```

此方法产生以下查询，由于我的表很大，因此需要很长时间才能执行。

```
SELECT id, img_1, img_2 FROM my_entity WHERE (ID = :1) FOR UPDATE; 
```

我不希望执行此查询，因为我只想插入一行。

仅供参考，我有以下应用程序环境。

```
EJB 3.0
EclipseLink 2.3.0
JDK 1.6
WebLogic 10.3
Oracle 11g 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T13:47:18.497

Oracle 11 之前的 Oracle JDBC 驱动程序有 4k LOB 大小限制，因此写入 lob 的唯一方法是插入和清空 lob，然后选择 lob 并写入其中。这就是你所看到的。

这是可配置的，只有当您的“eclipselink.target-database”是“Oracle8i”、“Oracle9i”、“Oracle10g”时才会这样做。

对于 Oracle 11g，您应该使用“Oracle11”，该平台将不使用定位器，因为在 Oracle 11g 中不再需要它。为此，您可能需要使用最新版本 (2.4)。使用“Oracle”作为您的目标也不会使用定位器。

您还可以使用定制器禁用平台中的定位器使用，

```
platform.setShouldUseLocatorForLOBWrite(false); 
```

# java - Java中循环局部变量初始化的最有效方法是什么？

> ID：12616576
> 
> 赞同：0
> 
> 时间：2012-09-27T07:52:51.230
> 
> 标签：java, performance, variables, loops

> **可能重复：**
> [在循环内部或外部声明变量](https://stackoverflow.com/questions/8803674/declaring-variables-inside-or-outside-of-a-loop)

请考虑以下 2 个 Java 代码示例：

```
// 1st sample
for (Item item : items) {
    Foo foo = item.getFoo();
    int bar = item.getBar();
    // do smth with foo and bar
}

// 2nd sample
Foo foo;
int bar;
for (Item item : items) {
    foo = item.getFoo();
    bar = item.getBar();
    // do smth with foo and bar
} 
```

样本之间的性能/内存消耗有什么不同吗？如果是，那么它是否取决于句柄的类型（对象与原语）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-27T07:55:55.237

它在生成的字节码方面有所不同，但在性能方面没有区别。

更重要的是使代码尽可能简单、自包含和可维护。出于这个原因，我更喜欢第一个例子。

顺便说一句：更简单的代码通常会得到更好的优化，因为 JIT 更容易进行尽可能多的优化。混淆代码也会混淆 JIT，它会阻止优化被使用。

如果您使用[ASMifierClassVisitor](http://asm.ow2.org/asm33/javadoc/user/org/objectweb/asm/util/ASMifierClassVisitor.html)以可读形式转储原始字节码（并且可以转换回原始字节码），您会看到它`javap`掩盖了一些不那么重要的细节。

如果我比较（在左下方） 951 字节长。

```
List<Item> items = new ArrayList<Item>();

Foo foo;
int bar;
for (Item item : items) {
    foo = item.getFoo();
    bar= item.getBar();
    // do something with foo and bar
} 
```

带有（在右下方）和 935 字节长。

```
List<Item> items = new ArrayList<Item>();

for (Item item : items) {
    Foo foo = item.getFoo();
    int bar = item.getBar();
    // do something with foo and bar
} 
```

您至少可以看到调试行号必须不同，而且某些代码也不同，以及以不同顺序定义的局部变量并给出不同的分配号。

![在此处输入图像描述](../Images/1a14179dba7439e8e8b0236c86dd8345.png)

您可以`right click`=>`View Image`更好地查看图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T07:58:36.753

如果您担心第二个示例中的范围泄漏，您还可以通过将其放入块中来限制范围：

```
{
    Foo foo;
    int bar;
    for (Item item : items) {
        foo = item.getFoo();
        bar = item.getBar();
        // do smth with foo and bar
    }
} 
```

# java - 与 SQL Server 的 JDBC 连接：用户 x 登录失败

> ID：12616582
> 
> 赞同：0
> 
> 时间：2012-09-27T07:53:03.087
> 
> 标签：java, eclipse, sql-server-2008, database-connection, connection-string

我正在尝试设置与 Sql Server 2008 的 JDBC 连接。我在 Sql Server 中创建了一个包含以下信息的数据库：

```
CREATE LOGIN xtest WITH PASSWORD = 'berenjenas7(((';  
GO  
CREATE USER samxtest FOR LOGIN xtest;  
GO  
GRANT SELECT TO samxtest;
GO  
GRANT INSERT TO samxtest;
GO  
GRANT UPDATE TO samxtest;
GO  
GRANT DELETE TO samxtest;
GO 
```

我从这里安装了 JDBC 驱动程序：http: [//www.microsoft.com/en-us/download/details.aspx?id=](http://www.microsoft.com/en-us/download/details.aspx?id=11774) 11774 ，**我使用了这个链接中的 connectURL 类：http: [//msdn.microsoft.com /en-us/library/aa342339.aspx](http://msdn.microsoft.com/en-us/library/aa342339.aspx) 以测试连接**。

我在代码中保留了默认端口 1433。下图应该可以证明这确实是端口： ![在此处输入图像描述](../Images/511d78016d97436788bab64939c726eb.png) 当然我将连接字符串更改为：

```
String connectionUrl = "jdbc:sqlserver://localhost:1433;databaseName=XTest;user=samxtest;password=berenjenas7((("; 
```

我不明白有什么问题？我得到的错误是：

> com.microsoft.sqlserver.jdbc.SQLServerException：用户“samxtest”登录失败。ClientConnectionId:2344af..... 在 com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:216) 在 com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:254) 在 com.microsoft .sqlserver.jdbc.TDSParser.parse(tdsparser.java:84) 在 com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:2908) 在 com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java :2234) 在 com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:41) 在 com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:2220) 在 com.microsoft.sqlserver .jdbc.TDSCommand.execute(IOBuffer.java:

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:28:28.933

误解：

确保 SQL Server 的身份验证模式为“混合模式（Windows 身份验证和 SQL Server 身份验证）”。

运行以下脚本以更改身份验证

```
LOGIN xtest ENABLE

ALTER LOGIN samxtest WITH PASSWORD = 'password' 
```

# localization - 在 JasperServer 社区版中添加本地化包

> ID：12616587
> 
> 赞同：0
> 
> 时间：2012-09-27T07:53:24.950
> 
> 标签：localization, internationalization, jasperserver

如何在 JasperServer 社区版中添加本地化包？假设我有一个名为 MyReport.jrxml 的报告和一个包含名为 MyReport.properties 包的本地化包，它们在本地运行时工作。但是，一旦我在 JasperServer CE 上提交 .jrxml 并向该报告添加资源包，它似乎无法找到它。

有没有办法做到这一点，最好不要更改运行 JasperServer 的 Tomcat 容器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-19T11:36:46.083

我见过同样的问题。

就我而言，问题是文件名。请注意，如果资源包名称为 bundle.properties，您必须在报告中将属性“资源包”设置为“包”。然后你可能会有其他文件，如 bundle_en.properties、bundle_ar.properties 等。

祝你好运

# android - 自定义小部件中使用的自定义 XML 属性

> ID：12616592
> 
> 赞同：1
> 
> 时间：2012-09-27T07:54:09.220
> 
> 标签：android, custom-component, custom-attribute

我正在创建各种 Android 小部件的子类来创建自己的小部件。这是我到目前为止所做的：

（在我的 res/values/attr.xml 中定义）

```
<attr name="font">
    <enum name="ARIAL_BOLD" value="1" />
    <enum name="ARIAL_ROUND_MT" value="2" />
    <enum name="HELVETICA" value="3" />
    <enum name="HELVETICA_BOLD" value="4" />
    <enum name="GILSANCE_LIGHT" value="4" />
  </attr>

<declare-styleable name="EditText">
    <attr name="font" />
</declare-styleable>
<declare-styleable name="Button">
    <attr name="font" />
</declare-styleable>
<declare-styleable name="TextView">
    <attr name="font" />
</declare-styleable> 
```

然后在我的`EditText`我用这个作为：

```
public class EditText extends android.widget.EditText {

    public EditText(Context context) {
        super(context);     
    }

    public EditText(Context context, AttributeSet attrs) {
        super(context, attrs);
        TypedArray a = context.obtainStyledAttributes(attrs,
                R.styleable.EditText);
    }
} 
```

现在我想读取已在 XML 代码中设置的枚举值。我该如何阅读它？然后，根据提供的字体，我想设置我的自定义字体。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T13:35:22.423

这对我有用

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

<attr name="font">
    <enum name="ARIAL_BOLD" value="1" />
    <enum name="ARIAL_ROUND_MT" value="2" />
    <enum name="HELVETICA" value="3" />
    <enum name="HELVETICA_BOLD" value="4" />
    <enum name="GILSANCE_LIGHT" value="5" />
</attr>

<declare-styleable name="CustomEditText">
    <attr name="font" />
</declare-styleable>
<declare-styleable name="CustomButton">
    <attr name="font" />
</declare-styleable>
<declare-styleable name="CustomTextView">
    <attr name="font" />
</declare-styleable>

</resources> 
```

然后我的自定义文件

```
public class CustomEditText extends android.widget.EditText {

    public CustomEditText(Context context) {
        super(context);
    }

    public CustomEditText(Context context, AttributeSet attrs) {
        super(context, attrs);
        TypedArray a = context.obtainStyledAttributes(attrs,
            R.styleable.CustomEditText);
        final int fontValue = a.getInt(R.styleable.CustomEditText_font, 0);
        setTypeFace(fontValue);
    }

    public CustomEditText(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        TypedArray a = context.obtainStyledAttributes(attrs,
            R.styleable.CustomEditText);
        final int fontValue = a.getInt(R.styleable.CustomEditText_font, 0);
        setTypeFace(fontValue);
    }

    public void setTypeFace(int fontValue) {
        Typeface myTypeFace = Typeface.createFromAsset(this.getContext()
            .getAssets(), getApplicationFont(fontValue));
        this.setTypeface(myTypeFace);
    }
}

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="match_parent"
    android:background="@drawable/login_background"
    android:orientation="vertical" xmlns:app="http://schemas.android.com/apk/res/com.mycomp.myproj">

    <TextView
        android:id="@+id/topBarText"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="#80000000"
        android:gravity="center_horizontal|center_vertical"
        android:text="@string/application_name"
        android:textColor="@color/white"
        android:paddingTop="10dp"
        android:paddingBottom="10dp"
        android:textSize="35sp" />

     <com.myapp.ui.CustomEditText
        app:font="ARIAL_ROUND_MT"
        android:id="@+id/samPLE"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="#80000000"
        android:gravity="center_horizontal|center_vertical"
        android:text="@string/application_name"
        android:textColor="@color/white"
        android:paddingTop="10dp"
        android:paddingBottom="10dp"
        android:textSize="35sp" /> 
```

这对我有用。只是要注意我的自定义视图被放置在一个 Android 库项目中。

# node.js - Express 和 EJS 中的子操作（或视图）

> ID：12616597
> 
> 赞同：0
> 
> 时间：2012-09-27T07:54:42.243
> 
> 标签：node.js, express, ejs

在许多 MVC 框架中，有一个选项可以从视图中调用操作。对于 ASP.NET MVC，它在其他框架中称为[RenderAction](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.childactionextensions.renderaction%28v=vs.108%29.aspx)，此类功能称为 SubActions、Viewlets 等。

我需要将最新消息（来自 DB）的 EJS 布局文件列表放入，这应该在使用此布局的所有视图的侧边栏中可见。我不想在每条路线上重复选择和传递新闻列表的逻辑。

Express中有没有明确的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T09:08:34.513

我还没有找到任何 RenderAction 实现，但是使用[`app.locals`](http://expressjs.com/api.html#app.locals)数据可以在路由之间共享（例如，最新消息列表）。

# jquery - jQuery在具有增量顺序的表中添加一行

> ID：12616598
> 
> 赞同：1
> 
> 时间：2012-09-27T07:54:49.763
> 
> 标签：jquery, html, jquery-selectors

我有一个`table`. 里面有一个`single row for form input elements`。我已经把一个命名`button`为. 当一个用户它会。但是在这里我需要当用户单击按钮添加行时它会。假设现在我有. 当用户单击时，它将显示另一行，但. 这是我已经完成的代码`add line``below that table``clicks on the button add line``add another row in that table``add another row with increment id``row_1 id is visible``add line button``newly added row's id will be row_2`

```
<!DOCTYPE HTML>
<html lang="en-IN">
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<script type="text/javascript" src="jquery1.7.2.js"></script>
<body>
  <script type="text/javascript">
    jQuery(document).ready(function() {
      jQuery("#add-line").click(function() {
        var row = jQuery('.prototype tr').clone(true);
        row.find("input:text").val("");
        row.appendTo('.form-fields table');
        return false;
    });
});
</script>
  <div id="form">
  <table id="form-headings">
    <tr>
      <td width="15%">Id</td>
      <td width="16%">Name</td>
      <td width="13%">Col3</td>
      <td width="14%">Col4</td>
      <td width="12%">Col5</td>
    </tr>
  </table><!--table#form-headings-->
  <div id="row_1">
  <div class="form-fields">
    <table>
      <tr>
        <td><input type="text" id="form_id" size="5px"/></td>
        <td><input type="text" id="form_name" size="5px"/></td>
        <td><input type="text" id="form_col3" size="5px"/></td>
        <td><input type="text" id="form_col4" size="5px"/></td>
        <td><input type="text" id="form_col5" size="5px"/></td>
      </tr>
    </table>
  </div><!--.form-fields-->
  </div><!--#row_01-->
  <input type="button" id="add-line" value="Add Line" />
  </div><!--#form-->
  <table class="prototype" style="display:none">
    <tr>
      <td><input type="text" id="form_id" size="5px"/></td>
      <td><input type="text" id="form_name" size="5px"/></td>
      <td><input type="text" id="form_col3" size="5px"/></td>
      <td><input type="text" id="form_col4" size="5px"/></td>
      <td><input type="text" id="form_col5" size="5px"/></td>
    </tr>
  </table><!--table.prototype-->
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:39:23.470

`id`必须是独一无二的，我认为你的例子可以更短，像这样：http: [//jsfiddle.net/DKWnE/1/](http://jsfiddle.net/DKWnE/1/)

```
$(document).ready(function() {
    var template = $('#template'),
        id = 0;

    $("#add-line").click(function() {
        var row = template.clone();
        template.find("input:text").val("");
        row.attr('id', 'row_' + (++id));
        row.find('.remove').show();
        template.before(row);
    });

    $('.form-fields').on('click', '.remove', function(){
        $(this).closest('tr').remove();
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:20:07.597

[如果您想在jsfiddle](http://jsfiddle.net/muthusamy/mH3en/2/)中添加行的 id 表示示例，您可以尝试这样

```
 jQuery(document).ready(function() {
        var id = 0;
      jQuery("#add-line").click(function() {
        id++;           
        var row = jQuery('.prototype tr').clone(true);
        row.find("input:text").val("");
        row.attr('id',id); 
        row.appendTo('.form-fields table');        
        return false;
    });

    jQuery('.form-fields .remove').live('click', function() {
         jQuery(this).parents("tr").remove();              
    });    
}); 
```

如果您想为表单元素设置不同的 id，则意味着您必须创建一个新元素，不要使用克隆

# javascript - 如何知道图像是否无法在 javascript 中加载？

> ID：12616600
> 
> 赞同：1
> 
> 时间：2012-09-27T07:54:56.727
> 
> 标签：javascript, jquery, asp.net, html, web

有什么方法可以知道某些图像无法在 jquery/javascript 中加载到网页中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T07:57:46.500

使用：***[.error()](http://api.jquery.com/error/)***

```
$('img').error(function() {
  alert('Failed to load the image with src: ' + $(this).attr('src'));
}); 
```

# javascript - 为什么 JPG 图像在本地浏览器中运行正常，但在 Google 地图在线中运行不正常？

> ID：12616604
> 
> 赞同：1
> 
> 时间：2012-09-27T07:55:24.237
> 
> 标签：javascript, maps, png, jpeg

我有一个谷歌地图应用程序，我们正试图将它托管在谷歌地图的网站上。该应用程序在我的本地网络浏览器、IE、Firefox、Chrome 等上运行良好，但是当我上传相同的应用程序并为 Google 网站修改了图像文件路径时；一些 JPG 文件会加载，但大多数不会。这还包括一些小的 .PNG 文件。我是 Javascript 的初学者程序员，有人能告诉我发生了什么吗？？？请帮助...我的代码：

```
<!DOCTYPE html>
<html>
    <head>
      <meta name="viewport" content="initial-scale=0.4, user-scalable=YES" />
      <style type="text/css">
        html { height: 100% }
        body { height: 100%; margin: 0; padding: 0 }
        #map_canvas { height: 100% }
       </style>
   <script type="text/javascript"
  src="http://maps.googleapis.com/maps/api/js?key=AIzaSyCyGkoZ07Vr67PDxHpbgD0Zxb-oP6-wqH8sensor=true">
   </script>
   <script type="text/javascript">
      function initialize() {
      var myLatlng = new google.maps.LatLng(50.011164, -113.039978);
    var myOptions = {
      zoom: 7,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.TERRAIN,
      mapTypeControl: true,
      mapTypeControlOptions: {style: google.maps.MapTypeControlStyle.DROPDOWN_MENU},
        navigationControl: true,
        navigationControlOptions:
                    {style:google.maps.NavigationControlStyle.MEDIUM}
     };

    var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    var georssLayer = new google.maps.KmlLayer('https://sites.google.com/site/leastcostpath/home/AOI_70.kmz?attredirects=0&d=1');
    georssLayer.setMap(map);
    var compPos = new google.maps.LatLng(50.611833, -113.622775);

///***  Logo files does not load, work okay in local browsers  *** ///      
            var compLogo = new google.maps.MarkerImage('https://sites.google.com/site/goosecreekgbt/home/prjmap/Goosecreeklogo.png',
        new google.maps.Size(60,40),
        new google.maps.Point(0,0),
        new google.maps.Point(-60,40)
        );
        var compMarker = new google.maps.Marker({
        position: compPos,
        map: map,
        icon: compLogo,
        title:"Goosecreek - Blackie"
    });

    var ctyPos = new google.maps.LatLng(51.802294, -112.577147);
    var ctyLogo = new google.maps.MarkerImage('https://sites.google.com/site/goosecreekgbt/home/prjmap/starlandlogo.png',
        new google.maps.Size(62,20),
        new google.maps.Point(0,0),
        new google.maps.Point(-40,20)
        );
        var ctyMarker = new google.maps.Marker({
        position: ctyPos,
        map: map,
        icon: ctyLogo,
        title:"Starland County"
    });

///  Site info   ////
   //M_Deli1
    var latLng_Deli1 = new google.maps.LatLng(51.6320281, -112.3740475);
    var contentString_Deli1 ='<div id="content"><div id="siteNotice"></div><div </a>
           <img src="../Starlandlogo.JPG" </div><H2>Delia Hockey Rink</H2> <p>5KW Side-Mount
     System<br /><br /> Panel: 21 Sharp 230W panels<br /> Inverter: Enphase Energy<br />
 </p><div </a><img src="https://sites.google.com/site/goosecreekgbt/home/prjmap/
    Delia_Arena.JPG" alt="5KW System"/ > <br /></div>';
    var infowindow_Deli1 = new google.maps.InfoWindow({
        content: contentString_Deli1
    });
    var marker_Deli1 = new google.maps.Marker({
        position: latLng_Deli1,
        map: map,
        title:"Delia Hockey Rink"
    });
    google.maps.event.addListener(marker_Deli1, 'click', function() {
        infowindow_Deli1.open(map, marker_Deli1);
});

///................   lots more site follows  ...............//
 }

  </script>
</head>
<body onload="initialize()">
<div id="map_canvas" style="width:100%; height:100%"></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T11:47:22.100

文件名大小写错误。你应该使用：

[https://sites.google.com/site/goosecreekkgbt/home/prjmap/GooseCreekLogo.png](https://sites.google.com/site/goosecreekgbt/home/prjmap/GooseCreekLogo.png)

代替：

[https://sites.google.com/site/goosecreekkgbt/home/prjmap/Goosecreeklogo.png](https://sites.google.com/site/goosecreekgbt/home/prjmap/Goosecreeklogo.png)

其他图像也一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-29T06:26:25.347

托管文件名区分大小写时，本地文件名不区分大小写。所以，`.JPG`不一样`.jpg`。

# android - Android：AlarmManager 发出正确的警报

> ID：12616605
> 
> 赞同：0
> 
> 时间：2012-09-27T07:55:26.560
> 
> 标签：android, android-alarms

**已经回答了，有同样问题的朋友请参考本帖底部**

* * *

我的应用程序上有这个部分，它安排了一个警报，一切正常，它正确地安排了警报，但是有一个不稳定的行为，有时，当安排的警报被触发时，它不是触发一次，而是触发了几次，我知道因为每次警报触发时，我都会在 logcat 上显示“ALARM FIRED”，我的 logcat 上有几个 ALARM FIRED，有时多达 10 个，我感到困惑的是我只安排了一次警报，并且它触发了很多次。这是代码：

**这是为了安排我的警报**这是在以静态方式访问的**Helper类上**

```
public final static String ACTION = "com.medical.organizer.utilities.NotifyReciever";
private static NotifyReciever RECIEVER = new NotifyReciever();

public static void scheduleAlarm(Context context,String message,int rCode, long triggerTime)
{
    RECIEVER = new NotifyReciever();
    NotifyAlarm.TRIGGER_TIME = triggerTime;
    NotifyAlarm.CONTEXT = context;

    IntentFilter inFil = new IntentFilter(ACTION);
    NotifyAlarm.CONTEXT.registerReceiver(RECIEVER, inFil);
    Intent intent = new Intent(ACTION);

    intent.putExtra("message", message);
    NotifyAlarm.INTENT = intent;
    NotifyAlarm.startAlarm(rCode);
}
public static void cancelAlarm(Context context, int requestCode)
{
        RECIEVER = new NotifyReciever();
        NotifyAlarm.CONTEXT = context;

        IntentFilter inFil = new IntentFilter(ACTION);
        NotifyAlarm.CONTEXT.registerReceiver(RECIEVER, inFil);
        Intent intent = new Intent(ACTION);
        NotifyAlarm.INTENT = intent;
        //context.unregisterReceiver(RECIEVER);
        NotifyAlarm.stopAlarm(requestCode);
} 
```

**这是为了警报本身**

```
public class NotifyAlarm {
    public static Context CONTEXT;
    public static Intent INTENT;
    public static long TRIGGER_TIME;

    public static void startAlarm(int requestCode)
    {
        AlarmManager am = (AlarmManager) CONTEXT.getSystemService(Context.ALARM_SERVICE);
        PendingIntent pendingIntent = PendingIntent.getBroadcast(CONTEXT, requestCode, INTENT, 0);
        am.set(AlarmManager.RTC_WAKEUP, TRIGGER_TIME, pendingIntent);
        Log.d("AlarmCheck", "Alarm Started for the First Time, set() was called");
    }
    public static void stopAlarm(int requestCode)
    {
        AlarmManager am = (AlarmManager) CONTEXT.getSystemService(Context.ALARM_SERVICE);
        PendingIntent pendingIntent = PendingIntent.getBroadcast(CONTEXT, requestCode, INTENT, 0);
        am.cancel(pendingIntent);
        Log.d("ALARMSTOP","========ALARM WAS STOPPED AT THIS POINT==========");
    }
} 
```

**这是给我的报警接收器（广播接收器）的**

```
public class NotifyReciever extends BroadcastReceiver {
private Context context;
    @Override
    public void onReceive(Context context, Intent intent) {
    this.context = context;
    Log.d("AlarmCheck","ALARM FIRED!");
        AlertDialog.Builder build = new AlertDialog.Builder(context);
        String message = intent.getStringExtra("message");
        build.setMessage(message);
            build.setCancelable(false);
        build.setPositiveButton("Snooze", new DialogInterface.OnClickListener() {

            public void onClick(DialogInterface dialog, int which) {
            //Rechedules the alarm after 25 secs time of interval is for
                    //testing purposes only 
                    NotifyReciever.this.context.unregisterReceiver(NotifyReciever.this);
                Helper.scheduleAlarm(NotifyReciever.this.context, s, 
                  s.getRequestCode(),System.currentTimeMillis()+Helper.TWENTY_FIVE_SEC);

            }
        });
        build.setNegativeButton("Dismiss", new DialogInterface.OnClickListener() {

            public void onClick(DialogInterface dialog, int which) {
                //CANCELS THE ALARM     
                    Helper.cancelAlarm(NotifyReciever.this.context, s.getRequestCode());
            }
        });

        AlertDialog alert = build.create();
        alert.show();

    }
} 
```

请注意，接收者不是通过 XML 声明的，而是以编程方式注册的，以便支持对话框。

考虑这种情况，这是我注意到行为总是发生的地方，比如说，我添加了一个时间表并安排了闹钟 @ 5:00am（当前时间是 4:59），所以起初它完全正常，然后我决定将该警报重新安排到 5:01（当前时间 5:00）然后发生这种情况，警报被触发了几次。alear 对话框多次出现，必须快速单击它们以取消对话框，有时我的应用程序由于显示的对话框过多而崩溃。

任何人都知道如何解决这个问题，请分享，任何人都知道如何正确安排和发出警报，请分享，以及安排和发出多个警报以及取消它们将不胜感激。解释和一些例子会更好。

编辑

* * *

![在此处输入图像描述](../Images/ad801348a8905a9fab94ef323d64e31a.png)

图例：侧面的彩色点表示它在特定时间触发，这就是登录 logcat 的内容，例如在 4:00 触发的警报显示带有几个蓝点的警报

**编辑这是答案**

* * *

所以这就是我发现的，我的是你只需要注册你的接收器一次，所以为了避免intentFilter的多次返回，它使用你的动作匹配所有意图，在我的例子中，我已经一遍又一遍地注册了我的接收器再次，因此已经有许多具有相同 ACTION 的意图实例，因此返回多个接收器，是的，在指定时间发出多个警报，而不是只触发一个接收器，所以是的，如果您决定不这样做，您的接收器可能在全球级别时只注册一次用 XML 声明你的接收者

# jquery - Chrome 扩展：打开 Jquery Ui 对话框

> ID：12616607
> 
> 赞同：1
> 
> 时间：2012-09-27T07:55:36.533
> 
> 标签：jquery, html, jquery-ui, xhtml, google-chrome-extension

我对 chrome 扩展开发很陌生。我从谷歌的教程中得到了基本的想法，[这个问题](https://stackoverflow.com/questions/12358939/opening-a-jquery-ui-dialog-using-chrome-extension)的一些帮助 是我到目前为止所做的

背景.html

```
 <html>
    <head>
        <script>
            chrome.browserAction.onClicked.addListener(function(tab) {
                chrome.tabs.executeScript(null, 
                {file:"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.3/themes/ui-lightness/jquery-ui.css", 
                    runAt:"document_start"}, 
                function() { alert('Added css'); });
                chrome.tabs.executeScript(null, 
                {file:"http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js", 
                    runAt:"document_start"}, 
                function () {
                    alert("loaded js");
                    chrome.tabs.executeScript(null, 
                    {file:"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js"}, 
                    function () {
                        alert("loaded js2");
                        chrome.tabs.executeScript(null, {file:"popup.js"}, function() {alert("did it pop up yet?");});
                    });
                });
            });

        </script>
    </head>
</html> 
```

清单.json 文件

```
{
"name": "demo",
"version": "2.0",
"description": "Jquery Dialog in Chrome",
"browser_action": {
"default_icon": "favicon.ico",
"default_title": "Dialog Box"
},
"background_page": "background.html",
"content_scripts": [
    {
      "matches": ["http://*/*","http://jquery.com/*"],
      "js": ["jquery.js","popup.js"]
    }
  ],
"permissions": [
 "tabs","http://localhost/","http://*/*"
]
} 
```

我的 ui 对话框所在的 popup.js 文件

```
$(function() {
    alert('in popup');
var NewDialog = $('<div id="MenuDialog"><p>This is your dialog content, which can be multiline and dynamic.</p></div>');
NewDialog.dialog({
modal: true,
title: "title",
show: 'clip',
hide: 'clip',
buttons: [
    {text: "Submit", click: function() {doSomething()}},
    {text: "Cancel", click: function() {$(this).dialog("close")}}
]
});
NewDialog.dialog("open");
}); 
```

我从 background.html 获得警报，但不是从 popup.js，jquery ui 对话框也没有出现。我试图调试它

我打开 gmail 并单击扩展控制台显示 4 个错误 >

```
Error during tabs.executeScript: Cannot access contents of url "https://mail.google.com/mail/u/0/?shva=1#inbox". Extension manifest must request permission to access this host. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:03:39.477

我认为错误信息很清楚。您没有`mail.google.com`on`https`协议的权限。
添加`https://mail.google.com/*`或 以更广泛地访问`*://*.google.com/*`您的权限。

# asp.net - 绑定多个下拉菜单和文本字段

> ID：12616608
> 
> 赞同：0
> 
> 时间：2012-09-27T07:55:43.567
> 
> 标签：asp.net, drop-down-menu, textbox

在我的项目中，我有 2 个下拉列表框和 1 个文本框。我已经将数据库中的 2 个下拉列表“PostalDropDown”和“CityDropDown”绑定在一起，它工作正常，然后我将列表框也绑定到以前的下拉菜单，它也工作正常！

我的问题在这里我仍然有最后一个文本框，我希望它显示名称，该名称也绑定到下拉列表的结果。我无法弄清楚，因为文本框没有 SelectValue 属性，所以我不能像我对下拉列表或列表框所做的那样分配它：

```
 if (!IsPostBack)
        {
            IEnumerable<Tuple<string, string, string, string>> data = GetData();
            DropDownListPostal.DataSource = data.Select(tuple => tuple.Item1).Distinct().ToList();

            DropDownListPostal.DataBind();
            DropDownListCity.DataValueField = "Item1";

            DropDownListCity.DataTextField = "Item2";
            DropDownListCity.DataSource = data;
            DropDownListCity.DataBind();

            ListBox1.DataValueField = "item1";
            ListBox1.DataTextField = "Item4";
            ListBox1.DataSource = data;
            ListBox1.DataBind();

        }              
    } 
```

然后我在第一个下拉列表中的 selectedindexchanged 上查看结果：

```
 protected void DropDownListPostal_SelectedIndexChanged1(object sender, EventArgs e)
        {
        //DropDownListPostal.ClearSelection();

        ListBox1.ClearSelection();
        DropDownListCity.ClearSelection();           
        var postal = DropDownListPostal.SelectedValue;
        var listItem = DropDownListCity.Items.FindByValue(postal);
        var street = ListBox1.Items.FindByValue(postal);

        listItem.Selected = true;            
        street.Selected = true; 
```

谁能告诉我如何在文本框中添加其余的数据库结果？如果你们都愿意，我可以把整个页面的代码。

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:34:42.600

如果您真的想在一个很奇怪的文本框中显示所有项目，您可以像这样以逗号分隔显示它们

```
TextBoxId.Text = String.Join(",", data.Select(op => op.Name)); 
```

其中 Name 是包含要在文本框中显示的属性的属性

**编辑**

如果要显示列表框的选定项目，则循环其项目并检查该项目是否被选中，然后将其显示在您的文本框中。

```
foreach (ListItem item in ListBox1.Items)
            {
                if (item.Selected)
                {
                    txtval.Text += " " + item.Text +"/"+ dropdowncity.SelectedItem.Text +"/"+ dropdownpostal.SelectedItem.Text;
                }
            } 
```

# api - 使用 `WM_COPYDATA` 将字符串传递到另一个窗口

> ID：12616615
> 
> 赞同：1
> 
> 时间：2012-09-27T07:56:02.733
> 
> 标签：api, vb6, wm-copydata

在 vb6 中使用此代码发送数据

```
cds.dwData = CLng(RegisterWindowMessage("MyWMCopyData"))
cds.cbData = Len(Message) * 2 ' characters are 2-bytes each
cds.lpData = StrPtr(Message) ' access the string's character buffer directly
' Send the string.
Dim i As Long:i = SendMessage(lHwnd, WM_COPYDATA, MainForm.hwnd, cds) 
```

你能帮我用代码来接收它吗？我有这个

```
Dim B() As Byte
ReDim B(0 To tCDS.cbData - 1) As Byte
CopyMemory B(0), ByVal tCDS.lpData, tCDS.cbData
Dim sData As String
sData = Trim$(StrConv(B, vbUnicode)) 
```

如果我发送`Hello`，我得到它`H e l l o`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T10:42:10.993

您正在混淆字符串转换。

您的发送代码会发送一个指向完整 unicode 字符串的指针。当您收到它时，然后将其传递给`StrConv(..., vbUnicode)`从 ANSI 转换为 unicode 的它，从而“破坏”字符串数据。

要解决此问题，您只需将最终字节数组直接分配给字符串：

```
sData = B 
```

或者，您可以分配字符串长度并直接复制到其中：

```
Dim sData As String  
sData = String(tCDS.cbData / 2, vbNullChar) ' characters are 2-bytes each
CopyMemory ByVal StrPtr(sData), ByVal tCDS.lpData, tCDS.cbData 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:40:27.447

字符串为 Unicode 格式

在 uncode 中，每个单个字符占用 2 个字节，因为 ASCII 只是 1 个字节，所以我认为 vb 用空格填充另一个字节（也许）

# android - Android：从 sql 数据库中检索信息时出现 NullPointerException

> ID：12616617
> 
> 赞同：1
> 
> 时间：2012-09-27T07:56:04.697
> 
> 标签：android

我有一个问题，我现在几天都无法解决。我已经创建了向数据库写入和检索数据的方法，但是我找不到一个问题。这是代码：

```
 public void writeEntry(String name, long period, long frequency, long recievingTime, String stats){
        ContentValues cv = new ContentValues();
        cv.put(KEY_NAME, name);
        cv.put(KEY_PERIOD, period);
        cv.put(KEY_FREQUENCY, frequency);
        cv.put(KEY_RECIEVINGTIME, recievingTime);
        cv.put(KEY_STATS, stats);
        myDatabase.insert(DATABASE_TABLE, null, cv);
    }

    public Cursor query(String[] columns, String selection, String[] selectionArgs, String groupBy) {
        // TODO Auto-generated method stub
        Cursor c = myDatabase.query(DATABASE_TABLE, columns, selection, selectionArgs, groupBy, null, null);
        return c;
    } 
```

这是将数据写入数据库的方法：

```
 public void save(){
    sharedPrefs = context.getSharedPreferences(SPNAME, 0);
    Log.v(" info", sharedPrefs.getAll().toString());
    Database database = new Database(context);
    database.open();
    database.writeEntry(
            sharedPrefs.getString(NAME, "No data was found"), 
            sharedPrefs.getLong(PERIOD, 0),
            sharedPrefs.getLong(FREQUENCY, 0), 
            sharedPrefs.getLong(RECIEVINGTIME, 0), 
            sharedPrefs.getString(STATS, "No data was found")
            );
    database.close();
} 
```

这是我检索它的方法：

```
 public List<String> getReportInfo(String rowId){
    List<String> result = new ArrayList<String>();
    database = new Database(context);
    database.open();
    cursor = database.query(new String[]{
            Database.KEY_NAME,
            Database.KEY_PERIOD,
            Database.KEY_FREQUENCY,
            Database.KEY_RECIEVINGTIME,
            Database.KEY_STATS},
            Database.KEY_ROWID +" = "+rowId, null, null);
    for(cursor.moveToFirst(); cursor.isAfterLast(); cursor.moveToNext()){
        result.add(cursor.getString(cursor.getPosition()));
    }
    cursor.close(); 
    database.close();   
    return result;
} 
```

稍后，我在 getView 方法中使用 BaseAdapter 中的 db 数据来填充 ListView，如下所示：

```
 public class MyArrayAdapter extends BaseAdapter{  

    private Activity activity;
    private LayoutInflater inflater;
    TextView tvMyReportsPeriod, tvMyReportsFrequency, tvMyReportsReceivingTime, tvMyReportTitle;
    LinearLayout llMyReportsStats;
    Database database;
    Report report;
    Cursor cursor;

    public MyArrayAdapter(Activity a) {
        super();
        // TODO Auto-generated constructor stub
        activity = a;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        report = new Report(activity);
    }

    public int getCount() {
        // TODO Auto-generated method stub
        int count = 2;
        try{
        cursor = database.query(new String[]{Database.KEY_NAME}, null, null, null);
        count= cursor.getCount();
        cursor.close();
        }catch(Exception e){}
        return count;
    }

    public Object getItem(int position) {
        // TODO Auto-generated method stub
        List<String> list = report.getReportInfo(String.valueOf(position));
        return list;
    }

    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        if(convertView==null){
            convertView = inflater.inflate(R.layout.my_reports_view_holder, null, false);

            tvMyReportsPeriod = (TextView)convertView.findViewById(R.id.tvMyReportsPeriod);
            tvMyReportsFrequency = (TextView)convertView.findViewById(R.id.tvMyReportsFrequency);
            tvMyReportsReceivingTime = (TextView)convertView.findViewById(R.id.tvMyReportsReceivingTime);
            tvMyReportTitle = (TextView)convertView.findViewById(R.id.tvMyReportTitle);
            llMyReportsStats = (LinearLayout)convertView.findViewById(R.id.llMyReportsStats);

                List<String> data = report.getReportInfo(String.valueOf(position));
                if(data!=null){
                    tvMyReportTitle.setText(data.get(0));
                    tvMyReportsPeriod.setText(report.convertMillis(Long.parseLong(data.get(1))));
                    tvMyReportsFrequency.setText(report.convertMillis(Long.parseLong(data.get(2))));
                    tvMyReportsReceivingTime.setText(report.convertMillis(Long.parseLong(data.get(3))));
                    String[] stats = data.get(4).toString().split(" ");             
                    for(int x=0; x<stats.length; x++){
                        TextView textView = new TextView(activity);
                        for(Constants dc: Constants.values()){
                            if(dc.getId()==Integer.parseInt(stats[x])){
                                textView.setText(dc.getText());
                            }
                        }
                        llMyReportsStats.addView(textView); 
                    }
                }else{System.out.println("ERROR: data=null");}
        }
        return convertView;
    } 
```

我希望为每个 ListView 项目一次从 db 中获取一行，但是我得到了这个 logcat：

```
09-27 11:03:03.173: E/AndroidRuntime(25768): android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.database.AbstractCursor.checkPosition(AbstractCursor.java:580)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.database.AbstractWindowedCursor.checkPosition(AbstractWindowedCursor.java:214)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:41)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at com.dailyreports.ainius.Report.getReportInfo(Report.java:107)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at com.dailyreports.ainius.MyReports$MyArrayAdapter.getView(MyReports.java:88)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.AbsListView.obtainView(AbsListView.java:1430)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.ListView.measureHeightOfChildren(ListView.java:1216)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.ListView.onMeasure(ListView.java:1127)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.View.measure(View.java:8313)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1017)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:386)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:309)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.View.measure(View.java:8313)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:250)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.View.measure(View.java:8313)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:531)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:309)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.View.measure(View.java:8313)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:250)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.View.measure(View.java:8313)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.ViewRoot.performTraversals(ViewRoot.java:841)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.view.ViewRoot.handleMessage(ViewRoot.java:1861)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.os.Handler.dispatchMessage(Handler.java:99)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.os.Looper.loop(Looper.java:123)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at android.app.ActivityThread.main(ActivityThread.java:3729)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at java.lang.reflect.Method.invokeNative(Native Method)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at java.lang.reflect.Method.invoke(Method.java:507)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:874)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:632)
09-27 11:03:03.173: E/AndroidRuntime(25768):    at dalvik.system.NativeStart.main(Native Method) 
```

不知道问题出在哪里。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:05:26.093

您应该检查是否`cursor.moveToFirst()`返回 true。

如果您正在执行的查询没有任何结果，您将获得该`CursorIndexOutOfBoundsException`异常...

此外，正如 Aprian 指出的那样。`cursor.getString`将列索引作为参数，而不是光标的位置。

替换`result.add(cursor.getString(cursor.getPosition()));`为`result.add(cursor.getString(Database.KEY_STATS));`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:09:10.587

这`cursor.getString(cursor.getPosition())`不会导致您发布的错误，但稍后会导致其他错误。如果您阅读文档，预期的参数是列索引，而不是行索引。

您观察到的错误可能是由于 moveToFirst 返回 False 但您没有对其进行测试。你的数据库是空的。

# 编辑

再读一遍后，你的 for 循环（虽然看起来很漂亮）完全关闭了。您将 isAfterLast 测试为循环条件，而充其量它应该是**退出**条件。您不检查移动到第一个的结果。您不检查 moveToNext 的结果。

将您的 for 循环替换为

```
while(cursor.moveToNext()) {
    // Do stuff
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:09:30.630

问题似乎也在这里：

```
result.add(cursor.getString(cursor.getPosition())); 
```

因为如果获取的记录数多于查询中请求的列数，就会抛出错误。这不是您应该从游标中读取值的方式，实际上您应该确定它应该读取哪些列值。例如：

```
result.add(cursor.getString(cursor.getColumnIndex(Database.KEY_NAME))); 
```

或者可能具有固定的索引值，例如：

```
result.add(cursor.getString(0)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-27T08:32:59.930

编辑：似乎您想要的是从数据库中检索单行。

您应该使用`MyObject`而不是`List<String>`来实现您想要的。

这是一个例子`MyObject`，见[POJO](http://en.wikipedia.org/wiki/Plain_Old_Java_Object)

```
public class MyObject {
    String name = "", stats = "";
    Long period = 0, frequency = 0, receivingtime = 0;

    // empty constructor
    public MyObject() {
    }

    // simple getter method
    public String getName() {
        return name;
    }

    // simple setter method
    public void setName(String name) {
        this.name = name;
    }

    ...
    // You may want to override toString() method when implementing searching or using ArrayAdapter
    @Override
    public String toString() {
        return name + " " + stats;
    }
} 
```

更改`getReportInfo`为：

```
public MyObject getReportInfo(String rowId){
    MyObject result = new MyObject();
    database = new Database(context);
    database.open();
    cursor = database.query(new String[]{
            Database.KEY_NAME,
            Database.KEY_PERIOD,
            Database.KEY_FREQUENCY,
            Database.KEY_RECIEVINGTIME,
            Database.KEY_STATS},
            Database.KEY_ROWID +" = "+rowId, null, null);
    // this will prevent CursorIndexOutofBoundsException
    if (cursor.moveToFirst()) {
        result.setName(cursor.getString(0));
        result.setPeriod(cursor.getLong(1));
        result.setFrequency(cursor.getLong(2));
        result.setReceivingTime(cursor.getLong(3));
        result.setStats(cursor.getString(4));
    }
    cursor.close(); 
    database.close();   
    return result;
} 
```

# c# - Gstreamer dx9screencapsrc/gdiscreencapsrc 在播放时更改捕获区域

> ID：12616620
> 
> 赞同：2
> 
> 时间：2012-09-27T07:56:12.933
> 
> 标签：c#, screenshot, video-capture, capture, gstreamer

我正在尝试设置上述来源之一来捕获 Windows 机器上的屏幕。除了一个重要细节外，一切都很好：当管道正在播放时，我无法更改任一 src 中捕获的窗口的坐标。我目前正在使用 C# + Gstreamer-Sharp，但我已经在考虑使用原生 C 包装器。

*   我应该能够在播放时使用上述插件更改窗口的位置吗？
*   如果是，这可能是与 Gstreamer-sharp 相关的问题吗？
*   或者它是否需要一个过程而不是简单地更改管道中元素的值？

这就是我所做的...

```
var pipeline = new Gst.Pipeline();
screenCapSource = Gst.ElementFactory.Make("gdiscreencapsrc", "ScreencapSource") as Gst.Base.PushSrc;
SetCapWindow(0,0,320,240);   //<- works      
//Capsfilter...
//X264 encoder
//udpsink
//link...
//launch pipleline
//working fine...

//When pipeline is playing, this doesn't work.  

//I never change the dimensions, only the position of the window - to no effect.
public void SetCapWindow(Int32 x, Int32 y, Int32 width, Int32 height){
    screenCapSource["x"] = x;
    screenCapSource["y"] = y;
    screenCapSource["width"] = width;
    screenCapSource["height"] = height;
} 
```

这个问题之前已经由我和其他人在 Gst 邮件列表上发布过，但没有回复。

顺便说一句：一种解决方法是使用 Appsink 将屏幕截图从托管代码推送到管道中，但是性能不是很好。

# bash - 在 bash 函数调用中找不到命令

> ID：12616623
> 
> 赞同：0
> 
> 时间：2012-09-27T07:56:26.053
> 
> 标签：bash, shell, date

嗨，我是 bash 脚本的新手，但不明白为什么当我尝试使用参数 20120920 5 将此函数调用的结果分配给局部变量时，我得到*命令未找到错误。*

```
 #!/bin/bash

function nDaysAgo () #date # daysago
{
 date -d "${1} - ${2} days" +%Y%m%d;
} 
```

所以脚本名称是 ndaysago，我首先使用 . ndaysago，然后像这样分配值：

```
newdate= nDaysAgo 20120910 5 
```

它打印：20120905：找不到命令

这意味着执行日期但随后尝试将输出用作命令，这不是我所期望的。

我还尝试将新值分配给函数中的变量，如下所示：

```
#!/bin/bash

function nDaysAgo () #date # daysago
{
 var=$(date -d "${1} - ${2} days" +%Y%m%d)
} 
```

但仍然没有，嗯嗯嗯

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:05:27.867

`=`分配变量时，周围不允许有空格。要调用函数，您应该使用 `$(...)`称为[命令替换](http://tldp.org/LDP/abs/html/commandsub.html)的语法。

改成：

```
newdate=$(nDaysAgo 20120910 5) 
```

# javascript - 如果悬停在图像上，则执行函数，Javascript

> ID：12616628
> 
> 赞同：2
> 
> 时间：2012-09-27T07:56:52.130
> 
> 标签：javascript

基本上，我想要的是每当有人悬停在 img 标签上时调用一个函数，并且当用户停止悬停时删除该函数所做的更改。

尝试做的是在图像悬停时在图像后添加一些html，如果没有悬停在任何图像上，它会清除添加的html。

所以基本上，如果页面上的任何图像悬停在，运行函数（它可以操纵悬停的图像，最有可能使用outerhtml），如果用户没有悬停在任何图像上，所有图像外部html应该为空白。

我更喜欢 vanilla Javascript 而不是 jq 的解决方案。

我希望我在这里有意义。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:00:32.507

使用以下代码：

```
function DoWork() {};
function RevertWork() {};

var imgs = document.getElementsByTagName('img');
for (var i = 0; i < imgs.length; i++) {
    imgs[i].onmouseover = DoWork;
    imgs[i].onmouseout = RevertWork;
} 
```

# asp.net - 在不同的数据库架构上创建 ASP.NET 用户和角色表

> ID：12616634
> 
> 赞同：3
> 
> 时间：2012-09-27T07:57:21.197
> 
> 标签：asp.net, sql-server, authentication

我开始开发将使用 ASP.NET 身份验证表（aspnet_Users、aspnet_Roles 等）的 MVC 应用程序。我将把它们安装在与我的应用程序的其余部分相同的数据库中，以允许使用外键。

但是，为了更好地分离，我希望将它们安装在不同的模式上，而不是默认模式。那可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:11:40.393

我认为这应该是可能的，因为 db 模式链接到 sql 用户，您可以定义将连接到数据库的用户，而 aspnet_regsql 生成表和存储过程。

看看这个命令：aspnet_regsql -S myMachine -U "MySqlUser" -P "mypassword" -d mydatabase -A all

只需更改 SQL Server 中的“MySqlUser”架构并启动 aspnet_regsql。

# c# - 为什么在串口上发送 SMS 有时会冻结硬件？

> ID：12616635
> 
> 赞同：2
> 
> 时间：2012-09-27T07:57:26.040
> 
> 标签：c#, sms, timeout, serial-port

我有一个小程序，通过 SerialPort 发送短信。它可以连续工作 7-8 天，每天发送数百条消息。但有时它在发送消息时挂起，只有硬件重置才能解决它。

当调制解调器正在等待消息（显示`"> "`字符串）并且我发送了我的消息时，就会出现问题。当调制解调器接收到`CTRL+Z (ASCII#26)`字符时，它应该发回一个`"OK"`. 但我从未收到此回复，从那时起，每次写入尝试都以`System.TimeoutException: The write timed out`. 例外。

我可以捕捉到异常，但我无法解决问题（硬件重置除外）。从第一个超时异常开始，串行端口将无法工作 - 甚至对于超级终端也不行。我有机会尝试了 2 种不同的调制解调器，但它们都产生了相同的 simptoms。（不同的调制解调器，但同一台计算机。）我没有办法在不同的机器上在类似生产的环境中测试它 10 天。

我使用了一个串行监视器软件，它还显示串行端口（或调制解调器）发回一个写超时错误。当我初始化我的串行端口时，我将 WriteTimeout 属性设置为 100 (ms)。根据调制解调器的制造商，我必须使用硬件握手。

我只发送简单的短信（没有 PDU，不超过 160 个字符）。

我已经找到[了这个](https://stackoverflow.com/questions/7745941/c-sharp-serialport-writetimeout-use)线程，谈论写超时和硬件握手。我可以提高写入超时值，但我想知道为什么这个问题只是偶尔发生。我想知道这是否是我的问题......

我使用的是 C# 4.0，程序在 Windows 2008 64 位服务器上运行。

有任何想法吗？

* * *

更新 根据丹尼斯的提示，我们找到了解决方案。看门狗部分是我自己的软件，检测超时异常。发生这种情况时，程序将向专用硬件发送命令以切换调制解调器的电源。起初，这个专门的硬件应该是一个中继卡，但我们发现了一个特殊的延长线，可以通过 RS-232 或 USB 或 ETHERNET 进行控制。（打开和关闭它的插头。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:25:51.497

对于经常使用 GSM 调制解调器的人们来说，这是一个众所周知的问题。一般情况下，您可以在软件级别进行注释，而硬件重置是唯一有效的方法。

如果您查看任何通过 GSM newtork 工作的 ATM，您会发现那里有一个小型看门狗设备，它仅用于单一的事情 - 进行硬件重置（它关闭电源，而不是打开电源）。

# android - 如何设置 Android 的 MockContentProvider

> ID：12616646
> 
> 赞同：2
> 
> 时间：2012-09-27T07:59:11.953
> 
> 标签：android, android-contentresolver, android-testing

我目前正在测试 Android 的 ContentProvider 并遇到了一些模拟它的问题。[我已经在互联网上花了几天时间，但除了Android Developer Site](http://developer.android.com/tools/testing/contentprovider_testing.html)上的介绍外，没有找到任何有用的示例。

我实现了一个 ContentProvider 并编写了一些测试。一切都在这里工作得很好。测试结果符合我的预期。

```
public class DirectMessageProviderTest extends ProviderTestCase2<DirectMessageProvider>{

    @SmallTest
    public void testInsert() {
        Log.d(TAG, "testInsert");

        /*
         * result retrieves twitterId for the newly inserted item
         */
        Uri result = provider.insert(
                DirectMessageProvider.CONTENT_URI, 
                createContentValues());

        Log.i(TAG, "INSERT; id for newly inserted item: " + result);

        assertNotNull("INSERT!!! failed", result);

        if (result != null) {
            isDirectMessageInserted = true;
        }
    }

    @SmallTest
    public void testQuery() {
        Log.d(TAG, "testQuery");

        Uri uri = Uri.withAppendedPath(
                DirectMessageProvider.CONTENT_URI, 
                String.valueOf(directMessage.getTwitterId()));

        /*
         * result retrieves a cursor or null
         */
        Cursor result = provider.query(
                uri, 
                null, 
                null, 
                null, 
                null);

        Log.i(TAG, "QUERY; number of rows inside the cursor: " + result.getCount());

        int expected = isDirectMessageInserted ? 1 : 0;

        assertEquals("QUERY!!! failed", expected, result.getCount());
    }
} 
```

我还实现了一个封装 ContentProvider 并提供比删除、插入、查询和更新更复杂的方法的类。看一看！

```
public class DirectMessageDataAccessImpl implements
        DirectMessageDataAccessInterface {

    @Override
    public boolean isStored(TwitterDirectMessage directMessage)
            throws DataAccessException {
        Log.d(TAG, "isStored");

        try {
            Uri uri = Uri.withAppendedPath(
                    DirectMessageProvider.CONTENT_URI, 
                    String.valueOf(directMessage.getTwitterId()));

            Cursor cursor = resolver.query(
                    uri, 
                    null, 
                    null, 
                    null, 
                    null);

            cursor.moveToFirst();

            boolean result = (cursor.getCount() > 0 ? true: false);

            cursor.close();

            return result;
        } catch (Exception e) {
            Log.e(TAG, e.getMessage(), e);
            throw new DataAccessException(e.getMessage());
        }
    }
} 
```

最后，我们要解决我为这门课编写测试的问题。我想使用模拟的 ContentResolver 为这个类编写独立的测试。我找到了这个 [example] (http://www.androidadb.com/source/npr-android-app-read-only/Npr_Test/src/org/npr/android/util/PlaylistProviderTest.java.html)上网并尝试使用 MockContentResolver。

首先，我创建了一个新的 ContentProvider，它将从测试类中检索删除、插入、查询和更新调用，以一次又一次地创建相同的答案。

```
public class DirectMessageDataAccessTest extends ProviderTestCase2<DirectMessageProvider>{

    private ContentProvider provider = new ContentProvider() {

        @Override
        public int update(Uri uri, ContentValues values, String selection,
                String[] selectionArgs) {
            Log.d(TAG, "update");
            return 0;
        }

        @Override
        public Cursor query(Uri uri, String[] projection, String selection,
                String[] selectionArgs, String sortOrder) {
            Log.w(TAG, "query");
            return null;
        }

        @Override
        public boolean onCreate() {
            Log.d(TAG, "onCreate");
            return false;
        }

        @Override
        public Uri insert(Uri uri, ContentValues values) {
            Log.d(TAG, "insert");
            return null;
        }

        @Override
        public String getType(Uri uri) {
            Log.d(TAG, "getType");
            return null;
        }

        @Override
        public int delete(Uri uri, String selection, String[] selectionArgs) {
            Log.d(TAG, "delete");
            return 0;
        }
    };
} 
```

在此之后，我修改了我的 setUp 方法以创建一个 MockContentResolver 并在上面添加了我的 ContentProvider

```
@Override
protected void setUp() throws Exception {
    super.setUp();

    /*
     * MockContentResolver overrides Android's normal way of resolving providers by authority
     */
    MockContentResolver resolver = new MockContentResolver();

    /*
     * Adds access to a provider based on its authority
     */
    resolver.addProvider(DirectMessageProvider.AUTHORITY, provider);        

    context = new IsolatedContext(resolver, getContext());

    this.setContext(context);
} 
```

最后但同样重要的是，我为我的 isStored 方法编写了一个测试用例。

```
public void testIsStored() {
    Log.d(TAG, "testIsStored");

    TwitterDirectMessage directMessage = new TwitterDirectMessage();

    directMessage.setTwitterId(123456);

    DirectMessageDataAccessInterface dataAccess = 
            new DirectMessageDataAccessImpl(context);

    try {
        assertFalse(dataAccess.isStored(directMessage));
    } catch (DataAccessException e) {
        e.printStackTrace();
        fail("...");
    }
} 
```

不幸的是，android.content.ContentProvider 总是抛出 NullPointerException。我`resolver.query(...)`在 DirectMessageDataAccessImpl 的第 72 行调用

```
E/DirectMessageDataAccessImpl(1758): null
E/DirectMessageDataAccessImpl(1758): java.lang.NullPointerException
E/DirectMessageDataAccessImpl(1758):    at android.content.ContentProvider$Transport.enforceReadPermission(ContentProvider.java:284)
E/DirectMessageDataAccessImpl(1758):    at android.content.ContentProvider$Transport.query(ContentProvider.java:177)
E/DirectMessageDataAccessImpl(1758):    at android.content.ContentResolver.query(ContentResolver.java:311)
E/DirectMessageDataAccessImpl(1758):    at xxx.xxxxx.xxxxxxx.app.database.dataaccess.implementation.DirectMessageDataAccessImpl.isStored(DirectMessageDataAccessImpl.java:72)
E/DirectMessageDataAccessImpl(1758):    at xxx.xxxxx.xxxxxxx.app.test.dataaccess.DirectMessageDataAccessTest.testIsStored(DirectMessageDataAccessTest.java:107) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:02:49.697

在构造函数中，您应该设置

```
public YourClass() {
    super(DBProvider.class, "com.yourpackage.main");// class of Your Content provider and application package
} 
```

然后打电话

```
MockContentResolver mockContentResolver = getMockContentResolver();
assertNotNull(mockContentResolver); 
```

在测试中

# knockout.js - ko 使用 datepicker 进行数据绑定

> ID：12616648
> 
> 赞同：0
> 
> 时间：2012-09-27T07:59:30.947
> 
> 标签：knockout.js, datepicker

我正在为我的日期时间选择器使用 ko 绑定。我从[这里得到了一个样本](https://stackoverflow.com/questions/6399078/knockoutjs-databind-with-jquery-ui-datepicker)

但是当用户输入无效数据时，该值将重置为今天的日期。如何避免这种情况？（我需要将该字段显示为无效。因为它正在重置它总是显示我有效）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T14:02:59.290

这不是因为淘汰赛。这是 jQuery DatePicker 的默认行为。

输入无效日期时，结果`$(element).datepicker('getDate')`为今天的日期。

有关检查 jQuery DatePicker 的当前输入是否有效的解决方案，请参见[此处。](https://stackoverflow.com/questions/3149877/jquery-datepicker-validate-current-input-value)然后`ko.utils.registerEventHandler`像这样修改自定义绑定中的调用：

```
ko.utils.registerEventHandler(element, "change", function () {

    var observable = valueAccessor();

    var valid;

    /* check validity here */

    if( valid ) {
        observable($(element).datepicker("getDate"));
    }
    else {
        /*
           do something other than jQuery's 'getDate',
           as it will return today's date
        */
    }
}); 
```

# binding - Ember.js：在带有路由的应用程序中的模板中绑定属性

> ID：12616649
> 
> 赞同：2
> 
> 时间：2012-09-27T07:59:42.913
> 
> 标签：binding, routing, ember.js

我正在开发一个 Ember 应用程序，它真的很棒。但是我有一个烦人的问题，我无法解决。我在我的应用程序中使用路由，并在两个不同的控制器中使用它们自己的视图。如果我尝试使用从第一个控制器到第二个控制器的绑定属性，则该属性不会反映在第二个视图中。简而言之，我有这样的事情：

```
router = Em.Router.extend({.....});
App = Em.Application.create({
    Router: router,
    FirstCtrl: Em.Controller.extend({x:'ABC'}),
    FirstView: Em.View.extend({...}),   
    SecondCtrl: Em.Controller.extend({xBinding:'Em.App.router.firstCtrl.x', y:'123'}),
    SecondView: Em.View.extend({...}),
});
App.initialize();
Em.App = App; 
```

如果在第二个视图的模板中我有这样的东西：

```
Binding property: {{x}}
Property with no binding: {{y}} 
```

视图中未显示“ABC”，但“123”没有此类问题。

在我的浏览器中，我可以使用 Em.App.router.firstCtrl.x 从 Javascript 控制台访问该属性，但 Em.App.router.secondCtrl.x 返回未定义。所以，我的问题是为什么我不能访问该属性？我应该如何编写该绑定？

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:15:25.033

我认为`Em`在绑定开始时不需要，试试这个..

```
SecondCtrl: Em.Controller.extend({xBinding:'App.router.firstCtrl.x', y:'123'}), 
```

总结一下评论：

*   `controllers`ember 中定义的所有在路由时都必须以**Controller**结尾，例如如果你调用`router.get('applicationController').connectOutlets('home')`它对应的控制器应该是`App.HomeController`或者`App.homeController`

    *   而绑定使用`'App.router.yourController.yourProperty'`而不是`'Em.App.router.yourController.yourProperty'`

    *   `connectControllers`如果您想避免全局绑定，我们还可以按顺序使用跨控制器访问属性

# sql-server - 导出历史值并将其保存到单独的表中，或者仅在需要时从现有数据中计算历史值？

> ID：12616653
> 
> 赞同：0
> 
> 时间：2012-09-27T08:00:01.903
> 
> 标签：sql-server, database, database-design, derived-table

**tl;博士关于处理数据库数据和设计的一般问题：**

在某个时间点从其他数据中派生数据是否可以接受/是否有任何缺点，然后将该派生数据存储到单独的表中以保留该特定时间的值历史记录，或者，如果您从不存储从其他数据派生的数据，而是仅在需要时从现有数据中派生所需数据？

**我的具体情况：**

我们有一个数据库，我们在其中记录人们的假期和假期状态。我们跟踪他们还剩多少天，他们花了多少天，诸如此类。

一项设计要求发生了变化，现在要求我能够显示一个人在任何给定年份的 12 月 31 日还剩下多少天。所以我需要能够说，“鲍勃在 2010 年 12 月 31 日还剩 14 天”。

我们可以通过两种方式做到这一点：

1.  一个 SQL Server 代理作业，它在 12 月 31 日捕获当时每个人的剩余天数，并将它们插入到类似“YearEndHistories”的表中，该表将包含您当时的 EmployeeID、Year 和 DaysRemaining。

2.  我们不保留 YearEndHistories 表，但是如果我们想找出在某个时间拥有的天数，我们会循环遍历在该特定时间之前存在的所有添加和减去的假期。

我喜欢 #1 带来的确定感 --- 记录的值将由管理部门审查，并且不会争论或改变该数字的可能性。使用 #2，我喜欢效率 --- 需要维护的表少了，并且实际表中不存在派生数据。但是我有一种奇怪的恐惧，担心一些看不见的错误会溜走，人们的历史价值计算会开始搞砸等等。2020年我不想处理，“我以9.5天结束2012，而不是9.0！我的半天去哪儿了？！”

我们已经决定的一件事是不能修改前几年的值。这意味着永远不可能回到上一个日历年并添加假期或类似的东西。年末的值就是THE值，不管过去有没有过错。如果发现错误，将通过奖励或减去当年的休假时间来弥补。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:23:40.140

是的，这是可以接受的，特别是如果计算复杂或经常调用，或者不经常更改（例如：游戏中的高分表 - 经常查看，但内容仅在越来越少的情况下更改一个球员做得很好）。

作为一般规则，我会尽可能规范化数据，然后出于性能原因在必要时添加派生字段或表。

在您的情况下，计算似乎相对简单 - 员工休假天数的总和 - 休假天数，但这取决于您。

顺便说一句，我鼓励您在涉及数据时不要考虑“循环”——尝试将数据作为一个整体来考虑，作为一个集合。就像是

```
SELECT StaffID, sum(Vacation)
from
(
    SELECT StaffID, Sum(VacationAllocated) as Vacation 
    from Allocations
    where AllocationDate<=convert(datetime,'2010-12-31' ,120)
    group by StaffID
    union
    SELECT StaffID, -Count(distinct HolidayDate) 
    from HolidayTaken
    where HolidayDate<=convert(datetime,'2010-12-31' ,120)
    group by StaffID
) totals
group by StaffID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:30:50.337

派生数据在我看来就像一个传递依赖，这在规范化中被避免了。这是一般规则。
在您的情况下，我会选择＃1，它可以为您提供更好的“可审计性”，而不会降低性能。

# overlay - 将覆盖滑动到侧面 -100%

> ID：12616654
> 
> 赞同：0
> 
> 时间：2012-09-27T08:00:08.567
> 
> 标签：overlay

我正在寻找的脚本是一个“全屏”覆盖（div），它直接 onpageload 向左滑动：-100% 并且较低的 div / 页面将可见。

我已经搜索和测试了一段时间，但我似乎找不到一个好的和简单的脚本。

我认为脚本看起来有点像这样：

```
<script type="text/javascript">
    $(function() {
        $('#activator').click(function(){
            $('#overlay').fadeIn('fast',function(){
                $('#box').animate({'left':'0'},500);
            });
        });
        $('#boxclose').click(function(){
            $('#box').animate({'left':'100%'},500,function(){
                $('#overlay').fadeOut('fast');
            });
        });

    });
</script> 
```

有没有人知道我可以使用的一些面板或幻灯片脚本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T10:55:29.180

如果我正确理解了您的要求，这是我的解决方案-

[http://jsfiddle.net/davemcmillan/zJryc/](http://jsfiddle.net/davemcmillan/zJryc/)

基本上，在 javascript 中，您首先为容器的宽度和高度设置变量。然后，您将叠加层设置为具有容器的宽度和高度。

然后创建切换函数，它只是查看#overlay div 是否具有“关闭”类。如果它具有“关闭”类，则按钮的 onclick 将打开覆盖层，如果没有，它将关闭它。

如果您希望面板打开 onload，您可以取消注释我在 Fiddle 链接中所说的位置。

# iphone - 在 iOS 中显示一个弹出窗口

> ID：12616656
> 
> 赞同：0
> 
> 时间：2012-09-27T08:00:19.200
> 
> 标签：iphone, objective-c, cocoa, uikit

我想要实现的是：
当 UISlider 滚动时，一个小的帮助视图应该在显示当前滑块值时淡出。当滑块被释放时，帮助视图淡出。最简单的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:05:46.247

嗨，伙计，只需查看此示例的代码，并使用此类在 iphone 中显示 popupview ..

[http://blog.chrismiles.info/2010/12/cmpoptipview-custom-popup-view-for-ios.html](http://blog.chrismiles.info/2010/12/cmpoptipview-custom-popup-view-for-ios.html)

我希望这对你有帮助..

:)

**编辑：**

```
-(void)addPopUpView{

    Yourview.transform = CGAffineTransformMakeScale(1.3, 1.3);
    objMakeOfferView.view.alpha = 0;
    [UIView animateWithDuration:.35 animations:^{
        Yourview.alpha = 0.94;
        Yourview.transform = CGAffineTransformMakeScale(1, 1);
    }];
    objMakeOfferView.view.frame=CGRectMake(0, 0, 120, 80);///set frame which you required
    [self.view addSubview:Yourview];

}
-(void)removePopUpView{
    [UIView animateWithDuration:.35 animations:^{
       Yourview.transform = CGAffineTransformMakeScale(1.3, 1.3);
        Yourview.alpha = 0.0;
    } completion:^(BOOL finished) {
        [Yourview removeFromSuperview];
    }];

} 
```

还可以使用您想要的不同类型的 TransitionAnimation..

:)

# html - Django的表格中超过2个项目，模板

> ID：12616665
> 
> 赞同：0
> 
> 时间：2012-09-27T08:00:33.133
> 
> 标签：html, django, data-structures, model

我一直在寻找一种制作 django 模板的方法，该模板可以在表格中每行显示超过 2 个值，

假设我有一个具有 5 个属性的类，我希望这些属性值显示在我的 HTML 页面上的表格中。起初我尝试使用字典，但 5 个属性中只有 2 个是不够的。

可以说我的对象是这样的：

```
class ModelA(models.Model):
    ID = models.IntegerField(primary_key=True, db_column='ID') 
    name = models.CharField(max_length=60, db_column='name')
    yesorno = models.CharField(max_length=9, db_column='yes/no') 
    text = models.TextField(db_column='text') 
    description = models.TextField(db_column='description') 
```

现在在一个视图中，我调用所有这些模型属性，我应该在什么数据结构中保存所有内容，以及如何将所有这 5 个属性放在表中每个对象的一行中。（有时可能需要在表格中显示数百个对象（因此，100 行））

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:18:57.373

抓取所有对象（相应地过滤）。

正如@init3 指出的那样，ID 不是必需的，因为 Django 会自动添加它，并且`yesorno`应该是 Bool。

```
# view.py

model_as = []
for id in ids:
    try:
        model_a = ModelA.objects.get(ID=id)
    except ModelD.DoesNotExist:
        # No model found
        pass
    else:
        model_as.append(model_a)

return render_to_response('template.html',
    {'model_as': model_as},
    context_instance=RequestContext(request)) 
```

循环遍历模板中的对象并在您想要的任何列中打印每个变量。

```
# template.html
<table>
{% for model_a in model_as %}
    <tr>
        <td>
            {{ model_a.ID }}
            {{ model_a.name }}
            {{ model_a.yesorno }}
            {{ model_a.text }}
            {{ model_a.description }}
        </td>
    <tr>
{% empty %}
    <tr>
        <td>No ModelAs to see here</td>
    <tr>
{% endfor %}
</table> 
```

# ios - SP_CONNECTION_STATE_DISCONNECTED 是如何工作的？

> ID：12616667
> 
> 赞同：0
> 
> 时间：2012-09-27T08:00:35.610
> 
> 标签：ios, spotify, cocoalibspotify-2.0

关于`connectionState`in的一个问题`SPSession`：会话何时更改为 `SP_CONNECTION_STATE_DISCONNECTED`，即：

`SP_CONNECTION_STATE_LOGGED_IN --> SP_CONNECTION_STATE_DISCONNECTED`和`SP_CONNECTION_STATE_LOGGED_IN <-- SP_CONNECTION_STATE_DISCONNECTED`？

1.  是因为某种超时而断开连接，还是仅仅意味着 AP 不在线？

2.  如果会话处于其`SP_CONNECTION_STATE_DISCONNECTED`状态，您是否必须调用登录才能将其移动到，`SP_CONNECTION_STATE_LOGGED_IN`或者当您尝试对 AP 执行某些操作时是否会发生这种情况？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:42:58.790

`SP_CONNECTION_STATE_DISCONNECTED`用于由于某种原因从后端启动的情况 - 最可能的原因是后端因维护或类似原因而停机。

当处于这种状态时，库将尝试自行重新连接，并且由于我们永远不会立即关闭*所有*后端站点，除非发生真正的灾难性事件，它可能会`SP_CONNECTION_STATE_LOGGED_IN`在几秒钟内切换回。

# jquery - 使用 for 循环和 jQuery 获取生成的输入元素

> ID：12616669
> 
> 赞同：1
> 
> 时间：2012-09-27T08:00:47.833
> 
> 标签：jquery, variables, loops, input

我有一个表单，您可以在其中通过单击添加按钮在第一步中填充数据来添加字段。在第二步中，我想显示此数据，但我的循环不正确。

这是原始表。通过单击添加按钮，生成具有新 ID（item2、Diitem2...）的新 tr-tag。

```
<table cellpadding="0" cellspacing="0" class="table" id="rp-article">
    <tbody>
        <tr class="rowb">
            <td class="col1 cell">
                <input disabled="disabled" id="count1" maxlength="10" name="count1" size="1"
                type="text" value="1" />
            </td>
            <td class="col2 cell">
                <input id="item1" maxlength="100" name="item1" size="15" type="text" value="Artikelnummer"
                />
            </td>
            <td class="col3 cell">
                <input id="Ditem1" maxlength="100" name="Ditem1" size="48" type="text"
                value="Beschreibung..." />
            </td>
            <td class="col4 cell">
                <input id="Aitem1" maxlength="100" name="Aitem1" size="5" type="text"
                value="Menge" />
            </td>
            <td class="col5 cell">
                <input id="Pitem1" maxlength="100" name="Pitem1" size="10" type="text"
                value="Preis" />
            </td>
            <td class="col6 cell">
                <select id="Ritem1" name="Ritem1">
                    <option>Retourengr&uuml;nde:</option>
                    <option>Ware falsch geliefert / falscher Inhalt</option>
                    <option>Ware falsch bestellt</option>
                    <option>Ware gef&auml;llt nicht</option>
                    <option>Ware passt nicht</option>
                    <option>Ware doppelt geliefert</option>
                    <option>Sonstiges</option>
                    <option>Ware defekt/besch&auml;digt/fehlerhaft</option>
                </select>
        </tr>
    </tbody>
</table> 
```

现在我想抓住它们并在 p-Tags 中显示它们（n 是 tr 数量的计数变量）：

```
for (var x = 1; x = n; x++) {
  $('#pt_title2').after('<p id=#pt_article' + x'></p>');
  $('#pt_article'+x).html('<b>#' + x'</b>'); 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:10:17.557

您的 for 循环不正确。试试这个：

```
for (var x = 1; x < n; x++) { // <--- note the < instead of =
  $('#pt_title2').after('<p id=#pt_article' + x + '></p>'); // you were missing a +
  $('#pt_article'+x).html('<b>#' + x + '</b>');  // same here
} 
```

现在循环将运行只要`x`小于`n`... 我认为你想要的。

如果您希望循环运行直到 x 具有与 n 相同的值，您可能需要使用`<=`（小于或等于）。取决于您如何为元素设置计数、ID 等。

for 循环条件不是“在此为真时运行”，而是“**在**此为真时运行”。

您还应该查看 jQuery 的`each` [函数](http://api.jquery.com/jQuery.each/)。

# iphone - 将响应保存到文件并在 iOS 中读取该文件

> ID：12616670
> 
> 赞同：0
> 
> 时间：2012-09-27T08:00:53.410
> 
> 标签：iphone, objective-c

我从服务器收到 BSON 响应。我想将其保存到文件中并读取该文件，而不是直接读取响应。

这是我得到响应的方法

```
- (void)socket:(GCDAsyncSocket *)sock didReadData:(NSData *)data withTag:(long)tag
{

   // NSString* path = [[NSBundle mainBundle] pathForResource:@"data" 
                                                     ofType:@"txt"];
   // NSString* content = [NSString stringWithContentsOfFile:path
                                                  encoding:NSUTF8StringEncoding
                                                     error:NULL];

    [self readTillEOF];
    NSRange range = NSMakeRange(0, [data length] - 3);
    NSData *refinedData = [data subdataWithRange:range];
    [delegate didRecieveTillEof:refinedData];
} 
```

谁能帮我解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:06:31.210

**编辑**：看看[如何](http://sptci.com/docs/ios/bson/)将 BSON 转换为 NSString

检查您是否可以将您的数据转换为数组或字典，并且可以用于像[这样](http://mobiledevelopertips.com/data-file-management/read-and-write-array-dictionary-and-other-collections-to-files.html)保存在文档目录中。

# perl - 使用 Telnet 或 SSH 和 Perl 在远程机器上运行 perl 脚本

> ID：12616671
> 
> 赞同：2
> 
> 时间：2012-09-27T08:00:57.220
> 
> 标签：perl, ssh, telnet

我想使用 telnet 或 ssh 在远程机器上运行 Perl 脚本。该脚本在我的本地主机上。如何做到这一点。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:27:07.200

如果您出于某种原因不想将脚本复制到远程主机然后运行它，您可以通过标准输入将脚本发送到 Perl 解释器。如果 perl 在命令行上没有得到脚本的脚本名称，它会尝试在标准输入上读取脚本。所以这会起作用：

```
ssh user@remote perl < my_script.pl 
```

当然，这要求远程主机上已经安装了所有必要的模块。如果您的脚本只有纯 perl 依赖项，您可以通过使用[App::FatPacker](http://search.cpan.org/perldoc?App%3A%3AFatPacker)使您的脚本（更多）自包含来解决此限制。

但如果这是一项重复性任务，我建议将脚本正确部署到您的远程主机。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:08:53.017

```
scp your script to remote machine.
ssh user@remote 'perl /path/to/remote/script.pl' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-13T08:21:28.917

跨 SSH 使用 HERE 文档也可能达到您所追求的目的。您至少可以运行一个 BASH 脚本，而无需先将其单独复制到远程。除了 BASH，我还没有验证过其他任何东西，但也没有理由怀疑。请参见：

[ssh + here 文档 + 交互模式](https://stackoverflow.com/questions/14995148/ssh-here-document-interactive-mode)

# sphinx - 狮身人面像的新手 - 文本分析和搜索结果“相对论”

> ID：12616677
> 
> 赞同：0
> 
> 时间：2012-09-27T08:01:22.727
> 
> 标签：sphinx

作为狮身人面像的新手，请原谅任何错误或滥用的术语。

Sphinx 正在一个基于网络的应用程序中使用，该应用程序具有数百万条记录的数据库，以提供全文搜索功能。

对于存储在数据库中的英文内容，搜索结果是“准确的”并且与搜索关键字相关。非拉丁字符不会发生同样的事情。我查看了形态配置设置，但希腊语不可用。因此，对于希腊关键词，搜索结果并不总是与搜索关键词相关，如英语中的关键词。

sphinx 对希腊内容的文本分析和索引是否与对英语内容的方式相同？

任何信息（链接、评论、答案）都会有所帮助。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T16:03:50.087

这很可能受 charset_type 和 charset_table 配置的影响。

[http://sphinxsearch.com/docs/current.html#conf-charset-type](http://sphinxsearch.com/docs/current.html#conf-charset-type)

[http://sphinxsearch.com/docs/current.html#conf-charset-table](http://sphinxsearch.com/docs/current.html#conf-charset-table)

开箱即用的 sphinx 仅适用于英语和俄语（主要 Sphinx 开发人员碰巧说的语言 :)

因此，您需要启用 utf8 模式，并将所需的希腊字符添加到 charset_table。

sphinx wiki [http://sphinxsearch.com/wiki/doku.php?id=charset_tables](http://sphinxsearch.com/wiki/doku.php?id=charset_tables) 有一组可以复制/粘贴的希腊配置选项。

# spring - @requestscope 不工作反而看起来像 sessionscope 工作，因为初始请求被兑现

> ID：12616679
> 
> 赞同：0
> 
> 时间：2012-09-27T08:01:39.643
> 
> 标签：spring, jsf-2

我正在使用spring JSF集成做项目我有@RequestScope bean具有某些属性，在表单（搜索应用程序）中提交后，我的相同bean的列表属性从db值填充并使用数据表在同一页面上查看（ajax应用于提交/搜索按钮）。我第一次搜索时得到的结果很好，但问题是当我在另一个浏览器页面中刷新或打开页面时，数据表仍然包含初始请求的数据，也从其他页面导航并返回同一页面仍然显示初始请求页面/数据为如果 requestscope 不工作而不是会话范围。我正在使用 spring 来管理 bean 及其创建，并使用 jsf 来管理前端页面。如果是这样的话，这可能是面部和弹簧注释混合的问题吗？这里的解决方案是什么？因为我还通过自动装配其他 bean 来使用 DAO 方法。例如

```
@ManagedBean(name="inputService")
@RequestScoped
public class InputService {

 @Autowired
 AdvancSearchDaoImpl Dao;

 private String name;
 private String bloodgroup;
 private String dateofbirth;
 List<Result> searchResults;
 getter/setters of above attributes

   public String outputService()
    {
     searchResults=Dao.getAdvacnceServiceSearch(name,bloodgroup,dateofbirth);
    return "successful";
     }
   } 
```

xhtml 是：

```
 <div >
        <h:dataTable id="tbl" value="#{inputService.searchResults}" var="o" styleClass="display">
    <h:column>
    #{o.name}
    </h:column>
            <h:column>
    #{o.dateofbirth}
    </h:column>
           <h:column>
    #{o.bloodgroup}
       </h:column>
      </h:dataTable>

   </div>
  <h:form>
   <table>
   <tr><td>Full Name</td>
    <td>
    <h:inputText value="#{inputService.name}" styleClass="text-box" />
         </td></tr>

       <tr><td>Date of Birth</td>
          <td>
           <h:inputText  value="#{inputService.dateofbirth}" />
          </td></tr>

         <tr><td>Blood group</td>
         <td>
         <h:inputText  value="#{inputService.bloodgroup}" />
         </td></tr>

           <tr><td colspan="2" align="right">
                        <h:commandButton id="btnServiceSearch" value="Search" action="#{inputService.outputService}" styleClass="submitButton" >
                       <f:ajax execute="@form" render="tbl"></f:ajax>
                        </h:commandButton> </td> </tr>
 </h:form> 
```

所有 bean 都在应用程序上下文中定义：

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T07:45:22.817

当我查看您的代码时，我发现了一行

```
 @Autowired
 AdvancSearchDaoImpl Dao; 
```

这意味着您正在使用 JSF + Spring 构建应用程序。现在，您需要了解，当您使用两个框架时，我们必须处理两个框架的范围（我确信 Spring + JSF）。现在，在您的情况下，JSF 请求范围不起作用，因为您的 bean 是也被 Spring 捕获。由于默认情况下 Spring 是 Singleton 范围，因此它仍然存在于容器中。现在，您还需要在 spring 上下文中设置范围。您可以通过在 bean 上添加注释来做到这一点

```
@RequestScoped 
```

或者通过在 spring 上下文中输入并在那里设置范围。[在这里您可以找到有关设置弹簧范围的简短教程](http://www.tutorialspoint.com/spring/spring_bean_scopes.htm)

# php - CakePHP 2.2 认证组件

> ID：12616682
> 
> 赞同：0
> 
> 时间：2012-09-27T08:01:55.453
> 
> 标签：php, cakephp-2.0

您好我是 CakePHP 的新手，我使用 cakephp2.2 编写了一个基本的登录页面。

这是我的`AppController`：

```
class AppController extends Controller {

    var $components = array('Auth', 'Session');
    var $helpers = array('Form');
    public function appError($error) {
        //Do whatever you want
        debug($error);
    }

} 
```

我的用户控制器：app\controller\UsersController.php

```
class UsersController extends AppController {
    var $name = 'Users';
    var $components = array('Auth'); // Not necessary if declared in your app controller
    /**
    * The AuthComponent provides the needed functionality
    * for login, so you can leave this function blank.
    */
    function login() {
    }
    function logout() {
        $this->redirect($this->Auth->logout());
    }
} 
```

而我的观点：app\user\login.ctp

```
<?php
echo $this->Session->flash('auth');
echo $this->Form->create('User');
echo $this->Form->input('username');
echo $this->Form->input('password');
echo $this->Form->end('Login');
?> 
```

我得到：洞用户控制器代码和以下错误

\app\Controller\AppController.php（第 41 行）对象（MissingControllerException）{

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T09:51:12.463

您真的必须为 AppController 进行类声明，还是复制/粘贴错误？

```
<?php
  class AppController extends Controller {
    class AppController extends Controller {
    }
  }
?> 
```

如果是这样，您应该删除第二`class AppController extends Controller`条语句。

此外，您还没有将 包含`FormHelper`在您的`AppController`nor`UsersController`中。

```
<?php
  class AppController extends Controller {
    var $helpers = array('Form');
  }
?> 
```

将它包含在`AppController`将使它在您的整个 Cake 应用程序中可用，或者您可以`UsersController`通过将其添加到那里来使其可用。

**编辑：** 您的问题出在应用程序[的路由](http://book.cakephp.org/2.0/en/development/routing.html)部分。Cake 的默认安装在`/app/Config/routes.php`. 这是一条重要的线：

```
Router::connect('/', array('controller' => 'pages', 'action' => 'display', 'home')); 
```

它将默认方法`PagesController`（这是每个 Cake 安装中包含的标准控制器）连接到主视图。您可能已经删除了 `PagesController`引发错误的 . 您可以重新创建`PagesController`（例如通过下载它），或者您可以更新您的路线以在用户访问您的应用程序时将他们直接重定向到登录屏幕：

```
Router::connect('/', array('controller' => 'users', 'action' => 'login', 'home')); 
```

# ruby-on-rails - 为什么这个部分调用没有传递它的本地值

> ID：12616683
> 
> 赞同：0
> 
> 时间：2012-09-27T08:02:06.237
> 
> 标签：ruby-on-rails

我尝试了以下代码来呈现部分

```
= render partial: 'movie_same', locals: { current: @movie }, collection: @movie.dvd.movies.order('scene') 
```

但我得到这个错误

```
NameError in Movies#show
Showing /Users/user/app/views/movies/_movie_same.html.haml where line #1 raised:
undefined local variable or method `locals' for #<#<Class:0x007fe713ba90a8>:0x007fe710f79a00> 
```

渲染文件中提到的只是`locals[:current]`.

知道为什么我会收到此错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:13:25.887

您不需要`locals[:current]`在部分中使用。您只需要使用`current`as`:locals`将其设置为目标部分中的局部变量。所以这将只是

`current`

[这是文档](http://apidock.com/rails/ActionView/PartialRenderer)中所说的

> 将@buyer 对象提供给局部变量帐户下可用的部分

```
<%= render :partial => "account", :locals => { :account => @buyer } %> 
```

# git - 在 git 中，我可以将一个文件合并到一个空分支上吗？

> ID：12616686
> 
> 赞同：1
> 
> 时间：2012-09-27T08:02:11.787
> 
> 标签：git, merge

假设我有一个项目已经工作了一段时间，然后我想从文件的一个子集重新开始，并保留这些文件的历史记录。

那么有没有一种方法可以手动将一个文件合并到新的空分支上？还是我需要合并所有文件，然后删除我不再需要的文件？

我正在尝试这个工作流程（但它并没有真正起作用）

```
$> git init 
$> vi file1.c
$> git add file1.c
$> git commit -m 'first commit'
$> vi file2.c
$> git add file2.c
$> git commit -m 'added file2'
$> git log 
commit 3788d18e62812d43f6b745f66fdab77081d79711
commit 3ab6959385c09fe2e254104a319a553ee58b198a

$> git checkout @{0}
Note: checking out '3ab6959385c09fe2e254104a319a553ee58b198a'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b new_branch_name

HEAD is now at 3ab6959... first commit
$> git branch -a
* (no branch)
  master

$> git branch new_branch
$> git branch 
* (no branch)
  master
  new_branch

$> git checkout new_branch 
Switched to branch 'new_branch'

$> git mergetool master file1.c
merge tool candidates: opendiff kdiff3 tkdiff xxdiff meld tortoisemerge gvimdiff diffuse ecmerge p4merge araxis emerge vimdiff

master: file not found
Continue merging other unresolved paths (y/n) ? n 
```

为什么我得到“主：找不到文件”？

合并应该是什么样子？

或者如何将特定提交中的特定文件合并到新分支？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T14:21:32.727

您可以尝试将要迁移的文件提交到旧分支，切换到新分支并选择提交到新分支。下面的说明假设您已经创建了两个分支：oldBranch 和 newBranch。

在分支 oldBranch 上，对要迁移的文件进行修改，然后...

```
git add fileForOtherBranch.txt
git commit fileForOtherBranch.txt -m "I want to migrate this file to my other branch."

git status

(get the SHA number: will be a mess of 40 characters but you only need the first 7 or so, like ae09g4w)

git checkout newBranch
git cherry-pick ae09g4w 
```

注意： newBranch 中的工作目录必须是干净的才能正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T09:38:04.400

有一种方法可以做到这一点

```
$> git checkout new_branch
$> git merge old_branch
$> git rm -rf *
$> git commit -m 'new try'
$> git checkout old_branch file1.c
$> git commit -a -m 'Fetch file1' 
```

然后我们只有 file1 并保留了 file1:s 的历史记录。

# java - 无法读取整个标题；读取 0 个字节；预期 512 字节

> ID：12616689
> 
> 赞同：3
> 
> 时间：2012-09-27T08:02:26.360
> 
> 标签：java, apache-poi

我正在使用 Apache poi 3.8 读取 xls 文件，但出现异常：

```
 java.io.IOException: Unable to read entire header; 0 bytes read; expected 512 bytes
        at org.apache.poi.poifs.storage.HeaderBlock.alertShortRead(HeaderBlock.java:226)
        at org.apache.poi.poifs.storage.HeaderBlock.readFirst512(HeaderBlock.java:207)
        at org.apache.poi.poifs.storage.HeaderBlock.<init>(HeaderBlock.java:104)
        at org.apache.poi.poifs.filesystem.POIFSFileSystem.<init>(POIFSFileSystem.java:138) 
```

使用的代码示例：

```
 FileInputStream myInput = new FileInputStream(excelFilePathWithExtension);
     logger.debug("FileInputStream::"+myInput);

     POIFSFileSystem myFileSystem = new POIFSFileSystem(myInput);
     logger.debug("POIFSFileSystem::"+myFileSystem);

     Workbook workbook = WorkbookFactory.create(myFileSystem); 
```

请帮我？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-27T08:49:57.057

如果我们看一下 HeaderBlocks 类，我们可以看到这些块：

```
public HeaderBlock(InputStream stream) throws IOException {
    // Grab the first 512 bytes
    // (For 4096 sized blocks, the remaining 3584 bytes are zero)
    // Then, process the contents
    this(readFirst512(stream));
    ...
} 
```

您使用的构造函数将读取输入流的前 512 个字节，然后调用私有构造函数。

`readFirst512`如果没有足够的字节可以读取，该方法会抛出异常。

此外，[POI 的文档](http://poi.apache.org/poifs/fileformat.html)说 POI 文件系统结构以 512 字节的标头块开始。

所以...看来您的文件对于 POI 来说不够大。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-04T13:46:38.320

在 MS-Excel 中打开并另存为其他名称。再试一次。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-12T12:21:51.440

如果您将正在读取或写入的文件放在不同的文件夹中，您可能不会收到错误消息。似乎某些默认文件夹（例如 Mozilla 的“下载”）具有受限权限。

# javascript - 使 Jquery 代码通用？

> ID：12616690
> 
> 赞同：0
> 
> 时间：2012-09-27T08:02:31.313
> 
> 标签：javascript, jquery, asp.net-mvc-3

我的 Jquery 代码基本上在复制粘贴时验证文本框的值 此代码适用于多个页面中的许多输入字段。所有页面都使用一个通用的 JavaScript 文件和一个通用的 Layout 页面

```
var regex = /^[A-Za-z0-9AEIOUaeiou\.\-\~\`\'']*$/;
$('#InputField1').bind('input propertychange', function () {
    var value = $(this).val();
    if (!regex.test(value)) {
        $(this).val("");
    }
}); 
```

不是在每一页上都写这个，有没有办法让这段代码更通用？也就是说，以下部分代码是否可以在布局页面或 JavaScript 页面的某个地方只编写一次？

```
var value = $(this).val();
if (!regex.test(value)) {
    $(this).val("");
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:06:11.630

让一切通用。所有验证元素都应具有相同的 css 类，例如 .requires-validation 以便识别它们。然后您可以以通用方式选择它们：

```
 var regex = /^[A-Za-z0-9ĀĒĪŌŪāēīōū\.\-\~\`\'']*$/;
    $('.requires-validation').bind('input propertychange', function () {
        var value = $(this).val();
        if (!regex.test(value)) {
            $(this).val("");
        }
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:10:21.613

这是关于 jQuery 的令人敬畏的事情之一。您可以在全局 JavaScript 文件中执行此操作：

```
(function($){  
 $.fn.validatePropertyChange = function() {  

    return this.each(function() {
         var self = $(this);
         var regex = /^[A-Za-z0-9ĀĒĪŌŪāēīōū\.\-\~\`\'']*$/;
             $(self).bind('input propertychange', function () {
             var value = $(this).val();
             if (!regex.test(value)) {
                  $(this).val("");
             }
          });
    });  
 };  
})(jQuery); 
```

然后只需调用：

```
$('#InputField1').validatePropertyChange(); 
```

您还可以链接 Id，例如：

```
$('#InputField1, #InputField2').validatePropertyChange(); 
```

并使用 CSS 选择器

```
$('.required-field').validatePropertyChange(); 
```

# websphere - 在 WebSphere 7 上执行应用程序的部署后操作

> ID：12616692
> 
> 赞同：0
> 
> 时间：2012-09-27T08:02:34.887
> 
> 标签：websphere, ear, websphere-7, java-ee-5

有没有办法在我的EAR部署之后执行一个类的方法？

在 EAR 中没有 WebProject。

我知道在 WebProject 中使用 ServletContextListener 的可能性，但如果有办法，我想在 EAR 或 EJB-jar 中配置它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T09:10:39.303

没有部署后选项，我正在回答这个问题，假设您希望在部署后在服务器*启动时运行一些逻辑。*

您可以使用[Startup Beans](http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.express.doc/info/exp/ae/welc6tech_sub.html)，它是一个 WebSphere 编程扩展。

如果您计划迁移到更新的版本（如 WAS 8 或 8.5），请注意一点；此功能（启动 bean）成为 EJB 3.1 规范的一部分，因此所有支持此规范级别的服务器，包括 WebSphere，都已具有指定的此功能，因此[不推荐使用](http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.express.doc/asyncbns/tasks/tasb_confstb.html?resultof=%22startup%22%20%22bean%22%20)此功能，您应该更喜欢 EJB3.1 指定的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T09:21:08.983

我对这个问题的理解：

> 有没有办法在我的EAR部署之后执行一个类的方法？

是您希望在管理员部署应用程序后立即或立即执行方法，而不管其类型和内容如何。我对您的需求的理解是，您希望它适用于仅安装应用程序且尚未启动的情况，其中不包括 Java EE API，例如带有 -1、ServletContextListeners 或 Startup Beans 的 servlet。如果这是正确的，请继续阅读。

我认为您可能希望使用 JMX 作为一种从您的自定义客户端管理 WebSphere Application Server 的方法。

根据[开发管理客户端程序](http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.base.doc/ae/tjmx_develop.html)：

> 4 注册活动。
> 
> 除了管理资源之外，JMX API 还支持对特定管理事件的应用程序监控。某些事件会产生通知，例如，当服务器启动时。管理应用程序可以注册为这些通知的侦听器。WebSphere Application Server 提供了 JMX 通知模型的完整实现，并提供了附加功能，以便您可以在分布式环境中接收通知。有关从产品 MBean 发出的通知的完整列表，请参阅 MBean API 文档中的 com.ibm.websphere.management.NotificationConstants 类。

我认为它值得关注，实际上回答了这个问题。

查看[com.ibm.websphere.management.NotificationConstants](http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.javadoc.doc/web/apidocs/com/ibm/websphere/management/NotificationConstants.html)的 javadoc，您可能会发现[TYPE_APPMANAGEMENT_INSTALL](http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.javadoc.doc/web/apidocs/com/ibm/websphere/management/NotificationConstants.html#TYPE_APPMANAGEMENT_INSTALL)常量是

> 应用程序安装事件的通知类型

虽然我自己还没有尝试过，但我认为 WebSphere MBeans 和 JMX Notification 是要走的路。

# node.js - Express 3 和 EJS 中的布局

> ID：12616694
> 
> 赞同：16
> 
> 时间：2012-09-27T08:02:45.363
> 
> 标签：node.js, express, ejs

在 Express 的第 3 版中，删除了一些功能：

```
the concept of a "layout" (template engine specific now)
partial() (template engine specific) 
```

更新日志：[https ://github.com/visionmedia/express/wiki/Migrating-from-2.x-to-3.x](https://github.com/visionmedia/express/wiki/Migrating-from-2.x-to-3.x)

`partial()`可以为 EJS 自己的功能更改，`include`但布局的替代方法是什么？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-27T08:20:49.983

我也为此苦苦挣扎。所以我建立了一个 github 项目，其中包含 ejs 和dustjs 的示例。

[https://github.com/chovy/express-template-demo](https://github.com/chovy/express-template-demo)

我不确定部分和包含之间的区别，您不需要显式将数据传递给包含。不知道为什么你会想要一个部分。

但是对于布局，您只需指定一个这样的块：

```
//layout.ejs
<html>
<%- body %>
</html>

//page1.ejs
<% layout('layout') -%>
This is loaded from page 1 and overrides <%- body %> in the layout.ejs. 
```

如果有人想添加更多示例，只需提交拉取请求。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-12-07T20:22:13.840

似乎从 Express 3 开始，布局功能被委托给模板引擎负责。您可以使用 ejs-locals ( [https://github.com/RandomEtc/ejs-locals](https://github.com/RandomEtc/ejs-locals) ) 进行布局。

安装 ejs-locals

```
npm install ejs-locals --save 
```

在 app.js 中使用 ejs-locals 作为你的应用引擎

```
var express = require('express');
var engine = require('ejs-locals');
...

app.engine('ejs', engine);
app.set('view engine', 'ejs'); 
```

现在您可以使用布局

```
layout.ejs
<body>
  <%- body %>
</body>

index.ejs
<% layout('layout') -%>

<div class="container">
<div class="jumbotron">
... 
```

另一种选择是使用 express-partials ( [https://github.com/publicclass/express-partials](https://github.com/publicclass/express-partials) )。两者做同样的事情，所以这只是你的选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T11:43:37.170

您可以使用“包含”选项来模仿 Express 2.x 中的 EJS 布局。在这里查看我的答案：

[https://stackoverflow.com/a/12477536/446681](https://stackoverflow.com/a/12477536/446681)

# ruby-on-rails - 如何在 URL 中显示参数，但在运行 AJAX 搜索时留在此页面上？

> ID：12616695
> 
> 赞同：0
> 
> 时间：2012-09-27T08:02:44.517
> 
> 标签：ruby-on-rails, ajax, parameters

我想为 AJAX 搜索结果生成 xls 报告。是否可以传递参数以生成 Excel 文档或在 URL 中添加参数？

以下是我生成用于下载 XLS 文档的 URL 的方法：

```
<%= link_to url_for(request.params.merge({:format => :xls}))  do%>
  <%= image_tag("excel.png")%> <b>Export</b>
 <% end %> 
```

它适用于标准搜索，但不适用于 AJAX。

我用于 AJAX 搜索的 js 代码

```
$('#run_report').submit(function () {  
  $.get(this.action, $(this).serialize(),'script');  
  return false;  
}); 
```

有人可以建议怎么做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:23:56.193

我不知道 ajax 的 xls 数据类型。我知道的数据类型是 xml、html、script、json、jsonp、text。因此，将 ajax 与 xls 文件一起使用可能需要两步方法。

在我搜索完成与您的问题类似的任务时，我遇到了以下可能实现您正在寻找的下载：[下载 xls 文件](https://stackoverflow.com/questions/4049939/direct-downloading-a-xls-file-without-writing-it-to-the-directory-by-spreadsheet)。希望您也会发现它有用。

# iphone - 请求格式无效：text/xml；字符集=utf-8

> ID：12616696
> 
> 赞同：0
> 
> 时间：2012-09-27T08:02:45.493
> 
> 标签：iphone, ipad, nsurlconnection, nsurl, nsurlconnectiondelegate

我是 iphone 开发的新手。

我正在尝试从 iphone 应用程序将 NSSTRING 发送到服务器。

使用以下代码行

```
NSString *soapMessage = [NSString stringWithFormat:
                             @"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n"
                             "<soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://schemas.xmlsoap.org/soap/envelope/\">\n"
                             "<soap12:Body>\n"
                             "<SaveData xmlns=\"http://tempuri.org/\">\n"
                             "<xmlstring>%@</xmlstring>\n"
                             "</SaveData>\n"
                             "</soap12:Body>\n"
                             "</soap12:Envelope>\n", StringXml
                             ];
    NSLog(@"Soap Messaage......%@",soapMessage);

    NSURL *url = [NSURL URLWithString:urlString];
    NSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:url];
    NSString *msgLength = [NSString stringWithFormat:@"%d", [soapMessage length]];

    [theRequest addValue: @"text/xml; charset=utf-8" forHTTPHeaderField:@"Content-Type"];
    [theRequest addValue: @"http://tempuri.org/SaveData" forHTTPHeaderField:@"SOAPAction"];
    [theRequest addValue: msgLength forHTTPHeaderField:@"Content-Length"];
   // [theRequest addValue: StringXml forHTTPHeaderField:@"xmlstring"];
    [theRequest setHTTPMethod:@"POST"];
    [theRequest setHTTPBody: [soapMessage dataUsingEncoding:NSUTF8StringEncoding]];
    //[theRequest setHTTPBody: [StringXml dataUsingEncoding:NSUTF8StringEncoding]];

    NSURLConnection *connectionResponse = [[NSURLConnection alloc] initWithRequest:theRequest delegate:self]; 
```

但它返回给我错误的回复

IE

System.InvalidOperationException：请求格式无效：text/xml；字符集=utf-8。在 System.Web.Services.Protocols.HttpServerProtocol.ReadParameters() 在 System.Web.Services.Protocols.WebServiceHandler.CoreProcessRequest()

如何克服这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:44:50.167

不要在设置肥皂信封后使用 NSURLConnection ..改用这个

```
NSError *WSerror;
        NSURLResponse *WSresponse;

        @try
        {

        NSMutableData *resMutableData = (NSMutableData *)[NSURLConnection sendSynchronousRequest:theRequest returningResponse:&WSresponse error:&WSerror];

            NSString *theResponse = [[NSString alloc]initWithBytes:[resMutableData mutableBytes] length:[resMutableData length] encoding:NSUTF8StringEncoding];
            NSLog(theResponse);

        }
        @catch( NSException* ex )
        {
            NSLog(@"Webservice Request Failed: Error %@", [WSerror code]);
        } 
```

# postgresql - Cassandra 如何处理磁盘 IO

> ID：12616699
> 
> 赞同：3
> 
> 时间：2012-09-27T08:02:50.617
> 
> 标签：postgresql, io, cassandra

我想**在单个节点上比较***PostgreSQL*和*Cassandra* 之间的读取性能。

 **我有一个 8 列、150000 行的表。要将其转换为列族，我将主键设置为 Cassandra 中的行键，其余列与 PostgreSQL 中的一样。此外，我将数据批量加载到 Cassandra SSTables 中，因此两者的数据都在磁盘上。

从 PostgreSQL 读取表：

```
 select * from tableName; 
```

它花费200ms左右。

为了读取列族（启用了 keycache 和 rowcache），我尝试了 thrift API（get_range_slices 方法）和 CQL2.0。前者平均需要大约 7000 毫秒，而后者则需要 100000 毫秒。

我知道如果从 Cassandra Memtables 读取它可能会非常快。但既然他们都从磁盘读取，为什么 Cassandra 的速度要慢得多？

哪些潜在机制至关重要？

编辑：

客户列族

```
CREATE COLUMN FAMILY customer
WITH comparator = UTF8Type
AND key_validation_class = UTF8Type
AND caching = all
AND column_metadata = 
[
 {column_name: C_NAME, validation_class: UTF8Type},
 {column_name: C_ADDRESS, validation_class: UTF8Type},
 {column_name: C_NATIONKEY, validation_class: UTF8Type},
 {column_name: C_PHONE, validation_class: UTF8Type},
 {column_name: C_ACCTBAL, validation_class: UTF8Type},
 {column_name: C_MKTSEGMENT, validation_class: UTF8Type},
 {column_name: C_COMMENT, validation_class: UTF8Type}
]; 
```

这是我的节俭查询

```
 // customer is that column family of 150000 rows
   ColumnParent cf1 = new ColumnParent("customer");
   // all columns
   SlicePredicate predicate = new SlicePredicate();
   predicate.setSlice_range(new SliceRange(ByteBuffer.wrap(new byte[0]), ByteBuffer.wrap(new byte[0]), false, 100));
   // all keys
   KeyRange keyRange = new KeyRange(150000);
   keyRange.setStart_key(new byte[0]);
   keyRange.setEnd_key(new byte[0]);
   List<KeySlice> cf1_rows = client.get_range_slices(cf1, predicate, keyRange, ConsistencyLevel.ONE); 
```

还有我的 CQL2.0 查询：

```
 select * from customer limit 150000; 
```

编辑：

我责备自己的误导性标题，提供的数据可能会带来更多争议。我不是在这里挑选赢家。

他们都在做磁盘 I/O（这不是 Cassandra 的典型用例）并且他们的时间不同，所以必须有一个原因。我很好奇他们处理这个问题的方式。因此，如果你们对底层机制有所了解，我将不胜感激。

这不是苹果对苹果的比较，但我担心的是味道。一个更酸可能是因为它含有更多的维生素 C。这对我来说很重要。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T18:53:17.620

为了增加您的指标，我们在性能表现出色的六节点集群（即更多节点）上进行了性能运行。我们使用 PlayOrm 的 Scalable SQL 运行并查询所有符合我们条件的 Activite，从包含 1,000,000 行的表中返回 100 行需要 60 毫秒。

通常，人员页面结果因此查询前 100 行是更典型的网站用例。其他自动化程序“可能”获取所有行，但通常在所有行上，您需要使用 map/reduce。同样，如果您将 CQL 用于所有行，那么您不是在做苹果对苹果的事，而这是您在 noSQL 中不做的事情。

此外，更公平的比较是 Cassandra 在 6 个或 10 个节点上，而不是一个，因为磁盘是并行的，它变得更快，这在 Postgres 中确实不可行，或者至少在执行分布式事务时会遇到问题。这可能是更多的苹果对苹果，因为您不会在生产中使用一个节点运行 Cassandra。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T13:28:14.290

这不是对 Cassandra 的有效测试，因为 Postgres 和 Cassandra 并非旨在解决相同的问题。完整的 CF 扫描不是真实世界的查询，如果您在生产系统中执行此操作，您将使用 Hadoop 而不是通过 Thrift 执行此操作。用于检索大量数据的更现实的 Cassandra 测试将是列切片，其中您要检索给定键集的从 A 到 n 的列范围。这是一种更高效的操作，也是 Cassandra 更合适的数据模型选择。此外，没有人在单个节点上运行 Cassandra。3 个节点是最低配置。

如果您想测试完整扫描功能，则使用 Thrift（在您的情况下通过 CQL）不是这样做的方法，因为您的所有结果都必须适合 RAM 并立即通过网络进行序列化（即没有游标） . 如果您的所有数据都可以放入 RAM，那么 Cassandra 不是您的正确选择。将 Hadoop 与 Cassandra 结合使用可以让您在几秒钟内并行执行全面扫描并回答有关理论上无限量数据的问题——这是 Postgres 不适合做的事情。如果您想详细了解它的工作原理，请查看`RangeClient`Cassandra 的 Hadoop 包中的内容。还值得注意的是，完全扫描需要读取磁盘，而许多常见的读取模式使用缓存并且从不命中磁盘。

相比之下，Cassandra 在列范围查询或按键获取方面非常快。这是因为键被散列到特定节点，然后在写入时按列名排序。因此，如果您知道您的键和/或想要一系列连续的列（一种非常常见的 Cassandra 读取模式），那么您在最坏的情况下获得顺序 I/O，而在最好的情况下获得缓存数据——没有锁定或间接（即索引）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T19:17:59.693

Thrift 和 CQL-over-Thrift 是基于 RPC 的，而不是基于游标的。因此 Cassandra 必须将整个结果集拉入内存，然后将其转换为 Thrift 格式并发送回（仍在内存中）。

所以，我有根据的猜测是，大部分不同之处在于你彻底摆脱了 JVM 的分配/GC 子系统。**

# graph - Highcharts 图表应完全从左侧开始，完全从右侧结束

> ID：12616706
> 
> 赞同：1
> 
> 时间：2012-09-27T08:03:10.627
> 
> 标签：graph, highcharts

使用 Highcharts 我想让我的图表直接在 Y 轴的标签旁边开始，并在 x 轴结束的地方结束。正如您在下面的链接中看到的那样，它开始时左边有很多间距，右边有很多间距。

[当前情况的示例](http://jsfiddle.net/xaeSN/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T09:13:18.387

这是不可能的，因为您正在为`xAxis`. 类别的标签和点始终设置在类别的中间。因此，第一个和最后一个类别具有您想要摆脱的差距。尝试删除`categories`，空间应该消失了。

这不是错误或问题，而是功能。

您可以尝试修改您`xAxis`的使用法线轴而不是类别，并使用自定义标签`formatter`来显示所需的值而不是数字。

或者您可以尝试使用带有点的数据选项并将其传递给`formatter`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-19T16:35:51.293

```
 Highcharts.Axis.prototype.init = (function (func) {
     return function (chart, userOptions) {
            func.apply(this, arguments);
            if (this.categories) {
                this.userCategories = this.categories;
                this.categories = undefined;
                this.labelFormatter = function () {
                return this.axis.userCategories[this.value];
            };
      }
     };
    }(Highcharts.Axis.prototype.init)); 
```

查看结果[http://jsfiddle.net/xaeSN/2/](http://jsfiddle.net/xaeSN/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-05T06:50:50.317

上述解决方案或接受的答案存在问题，当您将鼠标悬停在图表上时，工具提示显示 x 轴的索引而不是标签名称。我用下面的解决方案[SO 链接](https://stackoverflow.com/questions/53614401/highchart-line-chart-tooltip-showing-index-value-instead-of-x-axis-formatted-lab)解决了这个问题，并附上了一个链接。

```
jsfiddle.net/mkpasala/3s0prgau/14/ 
```

# jquery - jrecorder jquery冲突

> ID：12616708
> 
> 赞同：0
> 
> 时间：2012-09-27T08:03:15.753
> 
> 标签：jquery, conflict

我有一个 jquery 冲突错误。请提供解决方案。

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js" type="text/javascript"></script><script>
var r=jQuery.noConflict(true);
://function related to 'r' here....
<body>
<script src='recorder/jquery.js'></script>
<script src="recorder/recorder.js"></script>
//these files are present...cross checked twice...
<script>
var j=$.noConflict(true);
j(document).ready(function(){
j.jRecorder({
    : //all settings here
});
});
</script>
</body> 
```

上半部分工作正常，但下半部分根本不工作。我正在使用 jrecorder： http: [//www.sajithmr.me/jrecorder-jquery](http://www.sajithmr.me/jrecorder-jquery)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:17:55.060

你需要使用这个结构

```
 $.noConflict();
      jQuery(document).ready(function($) {
        // Code that uses jQuery's $ can follow here.
      }); 
```

利用

```
$(function() {
  // Code that uses jQuery's $ can follow here.
}); 
```

安装的

```
J.j(document).... 
```

说明： `$.noConfilct()`- 将 corrcet 值设置为 JQuery 的别名。它不返回 $。

来自文档

许多 JavaScript 库使用 $ 作为函数或变量名，就像 jQuery 一样。在 jQuery 的例子中，$ 只是 jQuery 的别名，所以所有功能都可以在不使用 $ 的情况下使用。如果我们需要在 jQuery 旁边使用另一个 JavaScript 库，我们可以通过调用 $.noConflict() 将 $ 的***控制权返回给另一个库：***

有关更多详细信息，请查看此处[jQuery.noConflict](http://api.jquery.com/jQuery.noConflict/)

# mysql - mySQL SUM 和 COUNT 问题，连接上的一些值加倍

> ID：12616715
> 
> 赞同：4
> 
> 时间：2012-09-27T08:03:48.967
> 
> 标签：mysql, sql, join, count, sum

我对这个 mysql 查询有疑问。基本上，我需要将一张表（**CostiFissi**，一张包含成本的表）与一张付款表（ **Pagamenti**）连接起来，按成本 ID （CostiFissi_IdCostoFisso）对它们进行分组，并计算每月付款总额之间的平均值（不仅仅是 AVG(Totale) ） .

*即：9 月的 1000+2000 和 10 月的 3000 之间的平均值应该返回 2250 而不是 3000*

这是我到目前为止所做的：

```
SELECT `cf`.`IdCostoFisso`, 
       `cf`.`Nome`, 
       `cf`.`Frequenza`, 
       `cf`.`Importo`, 
       `cf`.`DateFrom`, 
       `cf`.`DateTo`, 
        SUM( p.Totale ) PagamentiTotale, 
        COUNT( p.IdPagamento ) PagamentiNum, 
        AVG(p2.somma_mese) Media 
 FROM (`CostiFissi` cf) 
 LEFT JOIN `Pagamenti` p ON `p`.`CostiFissi_IdCostoFisso` = `cf`.`IdCostoFisso` 
 LEFT JOIN (
             SELECT MONTH(Data), 
                    YEAR(Data), 
                    CostiFissi_IdCostoFisso, 
                    SUM(Totale) somma_mese 
             FROM Pagamenti 
             GROUP BY YEAR(Data), 
                      MONTH(Data), 
                      CostiFissi_IdCostoFisso 
           ) AS p2 ON `p2`.`CostiFissi_IdCostoFisso` = `cf`.`IdCostoFisso` 
  WHERE `cf`.`DateTo` > '2012-09-27 09:46:14' 
         AND `p`.`Data` >= '2012-01-01 00:00:01' 
         AND `p`.`Data` <= '2012-12-31 23:59:59' 
  GROUP BY `cf`.`IdCostoFisso` 
```

当我运行查询时，我得到了这个问题：假设我有 2 个成本，cost_a（w/3 付款）和 cost_b（w/1 付款），我得到了两者的正确平均值（因为我希望它被计算）但是 COUNT(p.IdPagamento) 为 cost_a 返回 6（而不是 3），为 cost_b 返回 1。SUM (p.Totale) 也是如此，对于 cost_a 而不是 cost_b 翻倍。

可能是表 p 加入的问题，不知道……我花了一段时间才达到这一点，但现在有点乱，我无法更进一步>_<

泰！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:13:22.670

[`COUNT(DISTINCT)`](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_count)像这样使用：

```
COUNT(DISTINCT p.IdPagamento) 
```

而不是`COUNT(p.IdPagamento)`.

# c# - 如何从源隐藏数据库连接字符串中的用户名/密码？

> ID：12616719
> 
> 赞同：1
> 
> 时间：2012-09-27T08:04:25.987
> 
> 标签：c#, vb.net

当开发人员可以追踪源代码时，是否可以从源代码中隐藏`user id`和 ？ 对不起，我的英语不好。`password`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:11:54.687

我猜你正在将连接字符串放在源代码中。如果你是你应该做的第一件事就是将它移动到 app.config / web.config 文件中。

[http://msdn.microsoft.com/en-us/library/ms254494(VS.80).aspx](http://msdn.microsoft.com/en-us/library/ms254494(VS.80).aspx)

如果您已经在使用 app.config 或 web.config 文件，您能否提供更多详细信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:21:14.860

如果使用 MS SQL，您可以使用集成身份验证，而连接字符串中根本没有用户名和密码：

`Data Source=myServerAddress;Initial Catalog=myDataBase;Integrated Security=SSPI;`

（样本从[http://www.connectionstrings.com/sql-server-2008](http://www.connectionstrings.com/sql-server-2008)复制）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-27T08:21:48.717

您应该将连接字符串保存在 web.config 文件中，然后加密 web.config 文件以确保密码安全。您可以在此处找到有关如何加密 web.config 文件的帮助 [http://msdn.microsoft.com/en-us/library/dtkwfdky(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/dtkwfdky(v=vs.100).aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-27T08:13:00.943

加密连接字符串，可以在此处找到更多详细信息：[使用受保护的配置](http://msdn.microsoft.com/en-us/library/53tyfkaw.aspx)和[保护连接字符串加密配置信息](http://msdn.microsoft.com/en-us/library/89211k9b%28v=vs.80%29.aspx)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-27T08:09:49.307

不将密码存储在源中的一种方法是使其成为服务器环境的一部分（从文件中读取，将其存储到环境变量中等）

# list - 多列问题 (CSS3)

> ID：12616720
> 
> 赞同：1
> 
> 时间：2012-09-27T08:04:41.197
> 
> 标签：list, css, menu, media-queries, multiple-columns

我在 CSS3 中为带有描述的项目的菜单列表实现多列时遇到了麻烦。

请参阅[演示](http://www.brusinoarsizio.ch/indice/)以获取实时视图。

实际上，我在调整浏览器窗口大小时使用媒体查询来更改列数，但在我有 3 列的情况下，我在第二列的顶部出现错误。

事实上，很明显，描述必须位于第一列的最后一项的底部。

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T09:22:27.383

你应该添加这个：

```
-webkit-column-break-inside: avoid;
column-break-inside: avoid; 
```

给您：

```
#indice ul li 
```

选择器。

# javascript - 更改父级的文本 在不破坏孩子的情况下

> ID：12616721
> 
> 赞同：1
> 
> 时间：2012-09-27T08:04:43.610
> 
> 标签：javascript, jquery, html

我的代码如下

```
function liReplace(str) {
    document.getElementById('srch').innerHTML = str;
} 
```

```
<ul class="dropdown">
    <li id='srch'>
        <a href="#">All Categories</a>
        <ul class="sub_menu">
            <li>
                <a href="#">Gadgets</a>
                <ul>
                    <li onclick='liReplace("DVD")'><a href="#" >DVD</a></li>
                    <li><a href="#">XBOX</a></li>
                    <li><a href="#">Ps2</a></li>
                    <li><a href="#">Cellphone</a></li>
                </ul>
            </li>
            <li>
                <a href="#">Locations</a>
                <ul>
                    <li><a href="#">Indoor</a></li>
                    <li><a href="#">Outdoor</a></li>
                </ul>
            </li>
        </ul>
    </li>
</ul> 
```

我想将所有类别更改为点击过的内容

看 `<li onclick='liReplace("DVD")'><a href="#" >DVD</a></li>`

我用javascript函数改变了innerhtml，但整个孩子li都没有了。

仅帮助获取第一个李文的部分。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T08:10:40.227

应该这样做 - 您可以替换`<a>`顶部元素中的文本`<li>`：

```
function liReplace(str) {
    $('#srch > a').text(str);
} 
```

确保`>`只有直接的孩子被改变。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:13:04.890

使用“>”强制孩子

```
function liReplace(txt) {
    $("#srch > a").html(txt);
} 
```

# c# - 循环遍历数据网格

> ID：12616722
> 
> 赞同：0
> 
> 时间：2012-09-27T08:04:49.853
> 
> 标签：c#, wpf

如何从 wpf datagrid 获取项目数据：

商品值为 { ProductId = 1, Name = "fruit", Quantity = 1, Price = 100.0 }，类型为匿名类型。

代码：

```
foreach (var item in this.dgProductList.Items) 
```

* * *

已编辑

这就是我添加行的方式：

```
this.dgProductList.Items.Add(new { ProductId = product.ProductId, Name = product.Name, Quantity = 1, Price = product.Price }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:10:03.033

考虑到您用 标记问题`WPF`，会说：

不要采取行动`UI`。如果您需要查找某些内容，请在*模型*侧找到它。之后，如果您需要`UI`以某种方式对已创建的项目进行操作，请继续在屏幕上`ModelView`推送更改。`UI`

简而言之：不要在`UI`中采取行动`WPF`，因为`UI`它很容易成为更改的主题，并且您的代码会中断。使用强大的数据绑定`WPF`提供给您的好处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:51:05.950

就像在前面的答案中告诉你的那样，你应该考虑使用 WPF-Binding。

但如果你真的不想这样做，你可以试试这个，但它不是“WPF 方式”：

```
object objectToFind = new { ProductId = 1, Name = "fruit", Quantity = 1, Price = 100.0 }; //create the object which should be found in your datagrid.

object result = dg.Items.Cast<object>().ToList().Find(o => o.Equals(objectToFind)); //find the object 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:30:57.200

首先我必须说我同意 Tigra，如果您使用 WPF，建议的方法是利用数据绑定。

在您的特定情况下，您不使用数据绑定，而是将匿名类型添加到数据网格，然后您想稍后检索它们。

起初我建议不要使用匿名类型，而是为 Product 创建一个类。

无论如何，如果您想继续使用匿名类型，您可以应用[此处提出的解决方案](https://stackoverflow.com/questions/6272390/retrieving-anonymous-type-collection-back-from-datagrid-itemssource)

祝你好运。

# linux - 在 ftp 中使用通配符进行文件处理

> ID：12616725
> 
> 赞同：1
> 
> 时间：2012-09-27T08:05:06.650
> 
> 标签：linux, shell, unix, ftp

在 ftp 服务器中使用通配符处理文件是否有任何 linux 等效项？

假设我有某个日期的文件`20120520`，我想立即删除

可以在 FTP 服务器中完成此类操作：

```
 delete *20120520* 
```

这将删除 ftp 服务器目录中该日期的任何/所有文件。

我的意思是总有一些方法可以删除 FTP 中的旧文件，但只是想知道 FTP 是否存在任何通配符功能，这将使任务更简单

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T09:00:05.690

FTP 协议不支持使用通配符的操作。不同的 FTP 服务器可以对此有自己的规则，即它们可以支持通配符，但这没有什么意义（只能通过带通配符的 FTP 进行删除），所以我怀疑任何服务器实际上都支持它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:07:52.600

据我所知，`lftp`支持通配符和许多其他 bash 功能，作为 bash 补全。这是一个非常强大的工具。

试试看，我不确定它是否以您想要的方式工作，但我知道它支持通配符。

# javascript - 应在 javascript/Html 中未初始化的元素

> ID：12616726
> 
> 赞同：0
> 
> 时间：2012-09-27T08:05:07.250
> 
> 标签：javascript, html

贝娄是我的代码片段，它提出了我所面临的问题：

```
<!-- in a div -->
<a href="#" onclick="submit('/netnfork/site/billing/billing_plan_type', document.getElementById('dataForm'));" title="${addPlan}">
    <img src="/path/to/button" height="18" width="25" class="add_button"/>
</a>

<!-- bellow this, in another div -->
<form id="dataForm" action="/a/path" method="post">     
    <input type="hidden" name="page_number" id="pageNumber" value="//some JSP code"/>     
    <input type="hidden" name="row_id" id="rowId" />        
</form> 
```

提交函数在另一个文件中声明，该文件包含在此 html 文件的开头。

问题是，当我单击链接时，我收到此错误：`Uncaught TypeError: Cannot set property 'action' of null`. 试图提醒提交函数的第二个参数，我得到`null`.

```
function submit(url, form) {
    alert(form);
    form.action = url;
    form.submit();  
} 
```

我在同一个应用程序中有一个完全相同的页面，它运行良好。谁能解释我为什么会出现这种行为？

*我在 Chrome 和 Mozilla 中运行了这个页面，但是它们都出现了错误。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:08:31.317

你的问题是这个（特别是`getElementById`）：

```
submit('/netnfork/site/billing/billing_plan_type', document.getElementById('dataForm')); 
```

`form`在 中实际存在之前进行评估`DOM`，要解决问题，您需要将其更改为以下内容：

```
function submit(url, formName) {
    var form = document.getElementById(formName);
    form.action = url;
    form.submit();
} 
```

在你的`HTML`：

```
submit('/netnfork/site/billing/billing_plan_type', 'dataForm'); 
```

或者，您应该使用[事件侦听](https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener)器来处理此类功能

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:49:23.343

我发现了问题：在呈现的代码上方，我有一个这样的 div：

`<form action="#" method="post" id="submenuForm" />`.

我只是把这个改为：

`<form action="#" method="post" id="submenuForm" > </form>`，现在效果很好。

# java - 如何将 JACKSON 序列化程序用于用于不同服务的域对象？

> ID：12616730
> 
> 赞同：2
> 
> 时间：2012-09-27T08:05:24.427
> 
> 标签：java, json, jackson

我有一个域对象用于 2 种不同的服务，如下所示：

```
public class PersonDetails {

    private String personId;    
    private String personMaritalStatus;
    private String personFirstName;
    private String personLastName;

    // setters and getters ...
} 
```

并有两种不同的服务。

**第一 ：**

```
public BaseResponse getClient(@QueryParam("id") @DefaultValue("-1") String id) 
{
} 
```

此服务应返回 json 如下：

```
{ "personId":12, 
  "personMaritalStatus":"married", 
  "personFirstname" :"abc", 
  "personLastname":"pqr" } 
```

**二服务：**

```
public BaseResponse getClientName(@QueryParam("id") @DefaultValue("-1") String id) 
{    
} 
```

此服务应返回 json 如下：

```
{"personFirstname" :"abc"} 
```

因此，如果我使用`@JsonSerialize(using=PersonDetailsSerializer.class)`域对象和序列化程序类将如下所示：

```
public class PersonDetailsSerializerextends JsonSerializer<PersonDetails> 
{
    @Override
    public void serialize(PersonDetails personDetails,
                          JsonGenerator jsonGenerator,
                          SerializerProvider serializerProvider) 
                              throws IOException, JsonProcessingException {
        jsonGenerator.writeStartObject();
        jsonGenerator.writeStringField("personFirstname", personDetails.getpersonFirstName());
        jsonGenerator.writeEndObject(); 
    } 
} 
```

那么它也会影响 getPerson 服务的响应。

那么我如何使用服务级别序列化或任何其他方式来处理这个问题，使用 JACKSON ......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T11:04:25.687

您可以使用两种不同的 ObjectMapper，一种带有 MixIn，另一种没有。

```
abstract class PersonNameMixIn {
    @JsonIgnore()
    abstract String getPersonLastName();
    @JsonIgnore()
    abstract String getPersonMaritalStatus();
}

public getClientName() {
        ObjectMapper mapper = new ObjectMapper();
        mapper.getSerializationConfig().addMixInAnnotations(PersonDetails.class, PersonNameMixIn.class);
        mapper.writeValue(writer, person);        
}

public getClient() {
        ObjectMapper mapper = new ObjectMapper();
        mapper.writeValue(writer, person);        
} 
```

# javascript - 为什么 JavaScript 代码在 IE8 中失败？

> ID：12616735
> 
> 赞同：0
> 
> 时间：2012-09-27T08:05:53.503
> 
> 标签：javascript, jquery

```
http://www.luxuryfurclothing.com/ 
```

我想让这些项目（按需求的解决方案、按业务规模的解决方案、按行业的解决方案）不被点击，它们是`Data Security Solution`最后一个菜单的子项。

我在页面底部添加代码：

```
<script type="text/javascript">
    jQuery.noConflict();
    var eles = jQuery('li.category51 ul li.level1>a'), i;

    for (i = 0; i < eles.length; i++) {
        eles[i].onclick = function(event) {
            event.preventDefault();
        };
        eles[i].onmouseover = function() {
            this.style.cursor="auto";
        };
    }
</script> 
```

这适用于 Firefox 和 Chrome，但不适用于 IE8。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:08:29.167

**1)**如果您想`li.level1>a`在 IE8 中工作，您必须在文档开头指定此 DOCTYPE：

```
<!DOCTYPE html>
<html>
... 
```

如果您要求将文档解释为`xhtml1`. 此外，很少有理由使用 XHTML。

**2）**正如Shusi所说，你不能调用`preventDefault`原生IE事件。解决方案是使用 jQuery 工具：

```
$('li.category51 ul li.level1>a').click(function(event) {
    event.preventDefault(); // this is a jquery wrapped event
}).mouseover(function() {
    this.style.cursor="auto";
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:11:33.193

IE不支持`preventDefault`

你应该使用`event.returnValue = false;`IE

执行：

```
if(event.preventDefault){
  event.preventDefault();
} 
else{
   event.returnValue = false;
}
return false; 
```

因为您使用的是 jQuery，所以有一种更简单的方法

```
jQuery.noConflict();
var eles = jQuery('li.category51 ul li.level1>a'), i;
eles.click(function(event) {
        return false;
    }).mouseover(function() {
        this.style.cursor="auto";
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:21:06.920

为什么不只使用 jQuery 来实现跨浏览器兼容性，而不是混合使用 jQuery 和原生 javascript（至少用于事件处理）？

```
jQuery('li.category51 ul li.level1>a')
  .click(function(event){
    event.preventDefault();
  })
  .mouseenter(function(event) {
    $(this).css('cursor', 'auto');
  }); 
```

...为什么不使用 CSS 来设置光标？

```
li.category51 ul li.level1>a {
  cursor: auto;
} 
```

# c - 为什么在 o/p 中 i 的值不同

> ID：12616738
> 
> 赞同：-1
> 
> 时间：2012-09-27T08:06:08.917
> 
> 标签：c

为什么我得到不同的 i 值。

```
#include <stdio.h>
void pri(int,int);
int main()
{
    float a=3.14;
    int i=99;
    pri(a,i);
    getch();
}
void pri(int a,int i)
{
    printf("a=%f i=%d\n",a,i);
    printf("i=%d a=%f\n",i,a);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:07:41.597

您声明`a`为 int，但您正在使用`%f`它，因此应将其声明为 float：

```
void pri(float a, int i)
{
    printf("a=%f i=%d\n", a, i);
    printf("i=%d a=%f\n", i, a);
} 
```

如果你的类型不正确，你会得到未定义的行为。阅读规范`printf`（7.19.6.1 第 9 段）：

> 如果转换规范无效，则行为未定义。**如果任何参数不是相应转换规范的正确类型，则行为未定义。**

强调我的。

[来源](https://stackoverflow.com/questions/4664100/does-printfx-1-invoke-undefined-behavior)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:35:25.880

解释您的评论问题：

```
printf("a=%f i=%d\n", a, i); 
```

将评估为：

```
printf("a=");
printf(/*next arguments up to size of float*/ a, i);
printf(" i=");
printf(/*...decimal*/ /*whatever is on the stack, because a and i are already consumed*/); 
```

你可以拯救你的功能： 'printf("a=%fi=%d\n", (float)a, i);'

# ios - SPTrack dealloc 中的崩溃

> ID：12616742
> 
> 赞同：0
> 
> 时间：2012-09-27T08:06:29.040
> 
> 标签：ios, spotify, cocoalibspotify-2.0

有时，我会看到源自`-dealloc`in的崩溃`SPTrack`：

```
Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0xb1e8ded2
Crashed Thread:  13

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0:
0   libsystem_c.dylib               0x39bb8d5c memset$VARIANT$CortexA9 + 100
1   CoreFoundation                  0x35e1a7fc __CFAllocateObjectArray + 176
2   CoreFoundation                  0x35d62118 _CFXNotificationRemoveObservers + 420
3   Foundation                      0x33834490 -[NSNotificationCenter removeObserver:name:object:] + 228
4   MyAppName                       0x00179fd0 -[SPTrack dealloc] (SPTrack.m:291)
5   MyAppName                       0x0017993a __destroy_helper_block_141 (SPTrack.m:223)
6   libsystem_blocks.dylib          0x352adab0 _Block_release + 220
7   libdispatch.dylib               0x34b064b4 _dispatch_client_callout + 20
8   libdispatch.dylib               0x34b0b1b8 _dispatch_main_queue_callback_4CF$VARIANT$mp + 220
9   CoreFoundation                  0x35de9f36 __CFRunLoopRun + 1286
10  CoreFoundation                  0x35d5ceb8 CFRunLoopRunSpecific + 352
11  CoreFoundation                  0x35d5cd44 CFRunLoopRunInMode + 100
12  GraphicsServices                0x362992e6 GSEventRunModal + 70
13  UIKit                           0x3713b2fc UIApplicationMain + 1116
14  MyAppName                       0x0005e986 main (main.m:14)
15  MyAppName                       0x0001d8e4 start + 36 
```

这是 #291 中的内容`SPTrack`：

```
[[NSNotificationCenter defaultCenter] removeObserver:self name:SPSessionDidUpdateMetadataNotification object:self.session]; 
```

当我将应用程序从后台恢复时，通常会发生这种情况。

任何想法可能是什么原因？它是否试图多次移除观察者？或者可能`self.session`无效？（无法用调试器捕获它。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-30T21:52:06.973

在CocoaLibSpotify 中[挑选此提交](https://github.com/spotify/cocoalibspotify/commit/f8d63f08e9f04a2005a5ccd846675165bf0dcc6e)后（根据 iKenndac 的建议），我不再遇到这些崩溃。

# c - 从C中的函数返回结构的机制是什么

> ID：12616750
> 
> 赞同：1
> 
> 时间：2012-09-27T08:07:09.363
> 
> 标签：c, structure

有人可以解释一下，如何实现从函数返回的结构变量。基本上，当从函数返回单个变量时，该值将被放入寄存器并返回。但在结构返回的情况下，这将如何工作。我假设结构将被复制到某个全局位置并返回指针。这将由编译器管理。我的理解正确吗？

这是我的示例程序

```
#include <stdio.h>
#include <stdlib.h>

typedef struct ss
{
  char name[10];
  int val;
} HELLO;

HELLO *ptr=NULL;

HELLO myfun()
{
   HELLO hel = {"Salil", 20};
   ptr = &hel;
   return hel;
}
main()
{

  HELLO hel1;
  hel1 = myfun();
  if ( ptr ) printf("The val = %s \n", ptr->name);
} 
```

在这里，变量`myfun`将如何返回？`hel`返回时变量将保存在哪里？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T17:14:59.777

这取决于编译器和目标的 ABI。我见过的一些：

*   多个寄存器：在某些 ABI 中，可以在多个寄存器中返回小结构

*   全局缓冲区：可以在调用者和被调用者都知道的某个地方分配一个缓冲区。

*   在堆栈上，调用者的框架：调用者可以在堆栈上分配额外的空间，并将该空间的地址作为隐藏的额外参数传递给函数。

*   在堆栈上替换 args：在被调用者从堆栈中弹出 args 的 ABI 中，它可以用返回值替换它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:18:55.980

你不能只返回一个指向它的指针，只要我们在谈论`C`. 假设您为您的`struct`via `malloc`/分配了空间，`calloc`它将是返回的指针。很难判断它是在寄存器中返回还是在堆栈中返回，这取决于优化级别。

# python - 如何根据第一个的实部对复数的二维数组进行排序？

> ID：12616751
> 
> 赞同：3
> 
> 时间：2012-09-27T08:07:10.137
> 
> 标签：python, sorting, multidimensional-array, complex-numbers

我有一个关于排序的简单问题。我有一个像这样的复数的二维数组

```
[[(-110.61040004379576-17.354473737234287j), (634.2701711342786+20.835585013392976j)],
 [(-56.513088619798417+19.304564206160592j), (139.27388305766863+22.035225424174627j)], 
 [(-56.107824445301581-15.926033069760162j), (139.59169287146287+21.499544204724476j)], 
 [(45.747228005094165-13.96425461096984j), (92.707153363055141-12.92524051712571j)], 
 [(-111.22348501455198-15.926033038872692j), (84.47603226469721+21.499544215863018j)], 
 [(45.747228023236914-13.964254617324347j), (92.707153338674217-12.925240518653737j)], 
 [(-56.107824379236632-15.926033025484159j), (139.59169284624946+21.499544241697734j)], 
 [(-111.62498538487328-18.53021375196538j), (138.66271112979905+18.818585903566003j)], 
 [(-56.107824363639025-15.926033025268273j), (139.59169284605719+21.499544250473367j)], 
 [(45.747228053266504-13.964254607367101j), (92.707153308435764-12.925240545154857j)]] 
```

我想根据第一个复数的实部对其进行排序。我试过了， `.sort(key=lambda x: x[0].real)`但它没有回答。有什么好主意吗？感谢您的帮助。

R。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-27T08:12:50.567

你有，`None`因为`sort`方法不返回任何东西，而是就地排序列表。所以，如果你想创建一个单独的排序列表，你可以使用[sorted](http://docs.python.org/library/functions.html?highlight=sort#sorted)函数，例如：`sorted(l, key=lambda x: x[0].real)`. 或者您可以在调用`sort`方法后使用您已经排序的列表。

# spring - 我应该在 Spring 配置文件中设置什么层次结构？

> ID：12616756
> 
> 赞同：0
> 
> 时间：2012-09-27T08:07:33.733
> 
> 标签：spring, spring-mvc, configuration, spring-security

我目前正在我们的 webapps 中重构我们的 Spring 配置文件。现在，我按主题对它们进行了分组：

```
/WEB-INF/spring
  ./mvc/servlet-context.xml
  ./cache.xml
  ./root-context.xml
  ./security.xml 
```

`./*.xml``ContextLoaderListener`由Spring 根上下文加载，其中的所有内容`./mvc/*.xml`都由 DispatcherServlet 的子上下文加载。

我知道如果我确实`security.xml`通过调度程序上下文加载了所有 bean，则父上下文将看不到所有 bean。

现在，加载器层次结构应该是什么样子？root 应该加载什么，子上下文应该加载什么？

# ios - iOS 6 MPMoviePlayerViewController 崩溃

> ID：12616764
> 
> 赞同：2
> 
> 时间：2012-09-27T08:07:57.570
> 
> 标签：ios, video

我在尝试将我的应用程序升级到 iOS 6 时遇到了奇怪的崩溃。注意：这种崩溃只发生在 iPhone 上，iPad 没问题。

```
<Error>: CGContextSaveGState: invalid context 0x933f7d0
<Error>: CGContextClipToRect: invalid context 0x933f7d0
<Error>: CGContextTranslateCTM: invalid context 0x933f7d0
<Error>: CGContextDrawShading: invalid context 0x933f7d0
<Error>: CGContextRestoreGState: invalid context 0x933f7d0
<Error>: CGBitmapContextCreateImage: invalid context 0x933f7d0
-[Not A Type release]: message sent to deallocated instance 0x933f7d0 
```

这发生在 MPMoviePlayerViewController 初始化时：

```
 self.moviePlayerController = [[[MPMoviePlayerViewController alloc] initWithContentURL:_videoUrl] autorelease]; 
```

其中moviePlayerController 是合成和保留的属性。

这是完整的设置：

```
-(void)setupMediaPlayer {
//NSLog(@"VideoViewController:setupMediaPlayer");

CGRect viewFrame = self.view.frame;    

if (self.moviePlayerController == nil) {
    self.moviePlayerController = [[[MPMoviePlayerViewController alloc] initWithContentURL:_videoUrl] autorelease];
}
else {
    [self.moviePlayerController.moviePlayer setContentURL:_videoUrl];
}

[[self.moviePlayerController view] setFrame:viewFrame];

[self.navigationController.view addSubview:[self.moviePlayerController view]];

} 
```

我检查了 _videoURL，它每次都给出了一个很好的 URL。

我试图将其更改为 MPMoviePlayerController，但是除了 generalCallback 之外，我的所有通知都没有触发。像这样的设置（但会在非 ViewController 选项中删除 .movi​​ePlayer）：

```
[[NSNotificationCenter  defaultCenter] removeObserver:self name:MPMoviePlayerPlaybackDidFinishNotification object:self.moviePlayerController.moviePlayer];
[[NSNotificationCenter  defaultCenter] removeObserver:self name:MPMoviePlayerLoadStateDidChangeNotification object:self.moviePlayerController.moviePlayer];
[[NSNotificationCenter  defaultCenter] removeObserver:self name:MPMoviePlayerPlaybackStateDidChangeNotification object:self.moviePlayerController.moviePlayer]; 
```

我很难过，因为这在 iOS 5 中运行良好。

注意：我在这个项目中使用 Three20 和 TTNavigator。TTNavigator 似乎不支持新的 supportedOrientations 设置，因此在 iPad 上我必须从头开始构建我的标签栏，这样我就不会收到以下错误，因此它将在横向启动：

应用程序在应用程序启动结束时应该有一个根视图控制器

我仍然在 iPhone 上收到此错误，但我不知道它是否与 iPad 上未发生的视频播放器崩溃有关。

有任何想法吗？

谢谢

# c++ - 是否允许递归增强精神语法？

> ID：12616766
> 
> 赞同：5
> 
> 时间：2012-09-27T08:08:06.297
> 
> 标签：c++, boost, boost-spirit

我即将为类似数学的语言编写解析器，并且发现有时调用我的精神语法来解析表达式的子部分会很好。

即如果我要解析

```
a+b*c+d 
```

`parse()`在查询“+”号时调用“b*c”部分会很方便。

**在使用我的语法的相同**实例时可以这样做吗？（语法参数将是 '*this'）

虽然我还没有完全相信这是否是完成这项特定任务的最佳方式，但我发现这个问题相当有趣，因为我在文档中找不到任何内容。

显然，如果我使用这种技术，我不应该依赖于类局部变量或全局变量。但我想知道它是否主要是精神设计允许的。

**编辑**：

我的语法实例如下所示：

```
class MyGrammar : public boost::spirit::qi::grammar<...>  
{  
    /* a few rules. Some with local and/or inherited attributes */  
    MyGrammar( void )  
    {
         /* assign all the rules, use a few 'on_error' statements */
         // In one or two rules I would like to invoke parse(...,*this,...)  
         // on a subrange of the expression
    }
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-27T13:41:20.130

当然可以：

```
// In one or two rules I would like to invoke parse(...,*this,...)  
// on a subrange of the expression 
```

^ 这不是规则在声明性语法中的组成方式。您似乎从程序方面考虑这一点（这可能表明您以前可能有编写递归下降解析器的经验？）。

* * *

在我的脑海中，一个简单的精神表达语法可能看起来像这样：

```
 literal     = +qi::int_;
  variable    = lexeme [ qi::alpha >> *qi::alnum ];
  term        =  literal 
               | variable 
               | (qi::lit('(') > expression >> ')');

  factor      = term >> *(qi::char_("+-") >> term);
  expression  = factor >> *(qi::char_("*/%") >> term); 
```

注意 : 的最后一个分支中的递归，`term`它解析带括号的表达式。

这个简单的示例实际上不会生成反映运算符优先级的解析树。但是 Spirit 库中的示例和测试包含***许多***示例。

另请参阅我的其他答案，这些答案更详细地显示了它的工作原理（带有完整示例）：

*   [Boost::Spirit 表达式解析器](https://stackoverflow.com/questions/8464969/boostspirit-expression-parser/8468822#8468822)

    *一个完整的示例，其中包含文档示例的链接以及提问者对原始代码改进的解释*

*   [C ++中的布尔表达式（语法）解析器](https://stackoverflow.com/questions/8706356/boolean-expression-grammar-parser-in-c/8707598#8707598)

*   [boost::spirit 解析器的编译错误是](https://stackoverflow.com/questions/9453712/compilation-error-with-a-boostspirit-parser/9458029#9458029)另一种方法

希望有帮助

# php - 如何在php中将对象数组转换为该对象的单个属性的数组？

> ID：12616767
> 
> 赞同：1
> 
> 时间：2012-09-27T08:08:07.937
> 
> 标签：php, arrays, object, properties

假设我有一个 Person 对象数组，并且这些 person 对象具有属性 firstName、lastName 和 age。现在假设我想要一个包含所有这些人员对象的名字的数组。如何将此 Person 对象数组转换为名字字符串数组？

是否有一些数组函数的组合我可以用来做它或者我只是使用一个 for 循环并创建一个新数组？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:12:38.070

您可以使用`array_map`

```
 class Person
{
    public $firstName ;
    public $lastName ;
    public $age ;

    function __construct($firstName,$lastName,$age)
    {
        $this->firstName = $firstName ;
        $this->lastName = $lastName ;
        $this->age = $age ;
    }
}

$list = array();
$list[] = new Person("John", "Smith", 22);
$list[] = new Person("Jon", "Doe", 19);
$list[] = new Person("Jane", "Stack", 21);

$lastNames = array_map(function($var){return $var->lastName ; } ,$list);
var_dump($lastNames); 
```

输出

```
array
  0 => string 'Smith' (length=5)
  1 => string 'Doe' (length=3)
  2 => string 'Stack' (length=5) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:10:33.953

您可以遍历 person 对象数组，然后遍历 person 对象并从 firstname 属性创建数组。看一个例子，巧合的是用了一个person类作为例子：

[http://www.tuxradar.com/practicalphp/6/7/6](http://www.tuxradar.com/practicalphp/6/7/6)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:12:10.273

一个简单的循环将是最好的：

```
$persons = getPersons();

$firstnames = array();

foreach($persons as $person) {
    $firstnames[] = $person->getFirstName();    
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-27T08:13:14.983

您必须遍历对象数组。要么使用 normal`foreach`要么使用[`array_map`](http://php.net/manual/en/function.array-map.php).

```
function get_first_name($person)
{
    return $person->firstName;
}
$firstNames = array_map('get_first_name', $people); 
```

# actionscript-3 - 奇怪的错误 1006：%function_name% 不是函数

> ID：12616770
> 
> 赞同：0
> 
> 时间：2012-09-27T08:08:26.947
> 
> 标签：actionscript-3, apache-flex, flex3

我遇到以下错误：

> 错误 1006：%function_name% 不是函数

我们在名为的项目中有 2 个 util 类`ArrayUtils`。其中的所有功能都是**public static**。另一位开发人员 `%function_name%`在其中一个中添加了功能`ArrayUtils`。我在我的代码中使用了这个方法。我重新编译了整个应用程序。它编译正常，IDE（IntelliJ IDEA）正常检测到此方法（导入正确）。但是在运行时我得到了上面提到的错误。最奇怪的是，这段代码在其他开发人员的机器上可以正常工作。

PS 浏览器缓存、IntelliJ IDEA 缓存和 maven（我们使用的是构建工具）本地存储库被清除，没有任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:21:53.450

出现此错误的原因有 2 个：

1.  您在另一个预编译库中有 ArrayUtils 类，并且您可以通过链接访问 ArrayUtils 并且您尝试将库与旧版本的类链接。
2.  您有另一个库，现在包含该 ArrayUtils 的依赖项，并且您的链接已被替换。因此，您的项目范围内有 2 个 ArrayUtils。尝试找到它并删除一个。

# c# - 在 Web 应用程序中集成 Windows 服务

> ID：12616771
> 
> 赞同：0
> 
> 时间：2012-09-27T08:08:26.980
> 
> 标签：c#, .net, web-applications, service

我需要在注册后每隔*n*天通知在我的网络应用中注册的用户，直到他们填写特定表格。

现在我想知道是否需要实现一个单独的 Windows 服务来安装在我的服务器上，或者我应该直接在我的网络应用程序中集成一个邮件服务。

更笼统地说：Web 应用程序的服务器端代码能否在后台充当服务？（即使网络应用程序没有在任何浏览器中执行）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:12:50.397

看看[Quartz.NET](http://quartznet.sourceforge.net/)，它是开源的作业调度系统，你也可以在你的 web 应用程序中使用它。它从 global.asax 中的 application_start 事件开始，并在与网站相同的应用程序池中运行。

您可以在此博客文章中看到一个示例：

[使用 Quartz.NET 的 ASP.NET 计划任务](http://blogs.planetcloud.co.uk/mygreatdiscovery/post/ASPNET-Scheduled-Tasks-with-QuartzNET.aspx)

# java - 在 JPA 中区分多列

> ID：12616781
> 
> 赞同：1
> 
> 时间：2012-09-27T08:08:54.627
> 
> 标签：java, hibernate, jpa, join

我有一个 courier_routes 表，它有两个指向位置表的外键。courier_routes 表中的列是 start_location_id 和 end_location_id。（我正在使用甲骨文）

我想在 courier_routes 表中找到快递员去过的所有不同地点。

考虑这个例子

```
|id |start_location_id| end_location_id|...
|1|1|2|
|2|1|3|
|3|4|5|
|4|2|1| 
```

我想找回 ids 1 2 3 4 5

我的有效 SQL 是

```
SELECT loc FROM (
SELECT start_location_id AS loc FROM courier_routes 
UNION
SELECT end_location_id AS loc FROM courier_routes); 
```

我想把它翻译成 JPA。Hibernate 不支持联合，所以我考虑过进行子查询。这样做的问题是它可能会影响性能。

我在想类似的东西（伪代码......）

```
SELECT id FROM locations where id in (
    (SELECT start_location_id FROM courier_routes) 
       OR
    (SELECT end_location_id FROM courier_routes)); 
```

有没有更简单的方法？这张表会变大，所以我真的不想使用子查询。

我应该通过将两个单独的查询结果添加到一个集合中来在 java 中进行联合吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T12:22:00.303

您可以对 HQL 中的两列进行连接：

```
SELECT distinct loc.id FROM locations loc, courier_routes c 
   where loc.id=c.start_location_id OR c.id=c.end_location_id 
```

希望这可以帮助！

# vb.net - 由多个子字符串组成的字符串？

> ID：12616787
> 
> 赞同：1
> 
> 时间：2012-09-27T08:09:18.713
> 
> 标签：vb.net, string, split, epplus

我正在使用 EPPLUS 从 Excel 中检索字符串值。字符串采用以下形式：“117 60% A”，我在换行符处拆分它们。当我使用 Interop 检索值时，这完全正常。但我切换到 EPPLUS 因为 Interop 相当慢。但是 Parse 方法突然失败了，因为 60% 确实包含一些额外的...字符串。它们看起来和打印正常，但 Visual Sutdio 编辑器显示字符串采用以下形式：'"60%" & vbCr & ""'。“&”是什么意思。通常它会显示一个字符串连接，但这并没有太大意义。有没有人知道如何检测这个问题？

代码：

```
dim TestString="117
60%
A"

Dim Splitstring() As String = Split(Value, Chr(10))

for i=0 to splitstring.length-1
    debug.print(Splitstring(i))
next 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:14:45.560

原因是您仅使用 chr(10) = LF 进行拆分，而 CR (chr(13)) 保留在您的字符串中。Windows 使用 CRLF (13,10) 作为行终止符 - 终端时代的遗物。

尝试：

```
dim TestString as string = "117
60%
A"

Dim Splitstring() As String = Split(TestString.Replace(vbCr,""), vbLf)

for i=0 to splitstring.length-1
    debug.print(Splitstring(i))
next 
```

这样，是否有正在解析的 CR（即 Linux 文本文件）并不重要。希望这可以帮助。

# ios - 删除应用程序时 iOS6 模拟器有问题吗？

> ID：12616790
> 
> 赞同：27
> 
> 时间：2012-09-27T08:09:34.003
> 
> 标签：ios, simulator, ios6

通常，当我尝试在 Xcode 4.5 附带的 iOS 6 模拟器上删除应用程序时，模拟器会冻结。我所做的只是长按应用程序。删除对话框没有出现，图标继续摆动。退出并重新打开模拟器无助于删除应用程序。

我试图从 /Library/Application Support/iPhone Simulator/5.1/Applications 文件夹中删除应用程序的文件夹。有时这会有所帮助，但有时即使这样也不会从模拟器中删除图标。

此行为与 iOS 版本或设备型号无关。无论我选择哪种型号/iOS，它都是一样的。

唯一有用的是使用模拟器的重置内容和设置选项。

你是否有同样的挫败感？如果是这样，除了完全重置模拟器之外，您是否找到了解决方法？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-15T02:13:15.033

我也遇到过这个问题，当我将模拟器设置为版本 = iOS 5.0 或 iOS 5.1 时，这对我来说似乎只是个问题。无论如何，我在不完全重置模拟器的情况下删除我的应用程序的操作如下：

1.  退出 iOS 模拟器
2.  在 Finder 或终端中，转到 ~/Library/ApplicationSupport/iPhone Simulator/5.1
3.  删除包含要从模拟器中删除的应用程序的文件夹
4.  重新启动模拟器（或者只是从 XCode 构建 + 运行）并且您的应用程序消失/新安装

在第 2 步中，将“5.1”替换为您要从中删除应用的 iOS 模拟器版本。

OP提到这个解决方案不起作用。我的猜测是他们没有执行第 1 步。如果您不先退出模拟器，则如果应用程序正在模拟器中运行，则可能无法删除应用程序文件夹，并且在重新启动之前不会在视觉上显示。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-13T08:07:58.283

您可以从 iOS Simulator-> Reset Content and Settings 重置您的模拟器配置...这将删除您在模拟器上的所有数据

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-10T23:23:34.413

iPhone/iPad 6.0 模拟器有这个问题。我有 Lion 和 xcode 4.5.2 。我解决它的方法是在单击 X 后，使用菜单调用滑动锁定，然后解锁它。然后会出现删除消息框，我可以确认删除。

我有时不得不在调用菜单后显示滑动锁定之前向左或向右旋转。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-13T08:04:22.147

如果应用程序在模拟器上运行，这种情况会发生更多。所以首先停止应用程序然后删除应用程序。可以节省您的时间

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-11-13T21:49:18.283

我遇到了这个问题，解决方法是长按 X 按钮。点击它不足以导致删除对话框出现。这困扰了我几个月！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-15T19:45:28.437

在 iOS 6.0 Simulator 中，我遇到了同样的问题。尝试连续按住 X 30 秒，然后弹出“删除应用程序”。最后我可以在 iOS 6.0 模拟器上删除应用程序。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-17T08:38:05.790

单击十字按钮后锁定模拟器，然后解锁它，然后弹出要求然后将其删除。

# php - 如何将日期发布到表格

> ID：12616793
> 
> 赞同：0
> 
> 时间：2012-09-27T08:09:38.383
> 
> 标签：php, mysql

我正在尝试将日期发布到我的桌子上，但它不会得到它。我像这样创建我的表：

```
 mysql_select_db("kiracilar", $con);
    $sql2 = "CREATE TABLE kira
    (
        id INTEGER NULL AUTO_INCREMENT DEFAULT NULL,
        KIRACI_ID INTEGER,
        kira INTEGER,
        odeme BOOL DEFAULT 0,
        tarih DATE DEFAULT 0,
        PRIMARY KEY (`id`)
    )";
    mysql_query($sql2,$con) 
```

创建表后，我将其发布并发送到我的表，如下所示：

```
$date = $_POST["date"];
$query2= "INSERT INTO kira (KIRACI_ID,kira,odeme,tarih) VALUES ('$id','$kira','$odeme','$date')"; 
```

我所做的是 POST 例如“2012-09-27”，但它不会接受。发帖没有任何问题，因为当我回显它时，它会显示我发布的内容。在我的表中，当我进入数据库时​​，它显示默认值，如“0000-00-00”，我认为这是正确的......（不要看他们正常运行的其他东西）我使用的是 php5，phpmyadmin。如果你能帮助我，那就太好了。

根据我得到的一些答案。我还添加了这个：

```
 date_default_timezone_set('Europe/Istanbul');

if (date_default_timezone_get()) {
    echo 'date_default_timezone_set: ' . date_default_timezone_get() . '<br />';
}

if (ini_get('date.timezone')) {
    echo 'date.timezone: ' . ini_get('date.timezone');
} 
```

这很好用。但我仍然不能把我的约会带到我的桌子上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:16:04.450

在查询前添加以下内容：

```
$date = date("Y-m-d", strtotime($date)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:18:15.253

你可以使用`FROM_UNIXTIME`and `strtotime()`：

```
$date = strtotime($_POST["date"]);
$query2= "INSERT INTO kira (KIRACI_ID,kira,odeme,tarih) VALUES ('$id','$kira','$odeme',FROM_UNIXTIME('".$date."'))"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T09:09:52.087

使用日期/时间对象怎么样？

```
$datetime = new DateTime( $_POST["date"]);
$date = $datetime->format('Y-m-d');
$query2= "INSERT INTO kira (KIRACI_ID,kira,odeme,tarih) VALUES ('$id','$kira','$odeme','$date')"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-27T08:17:08.853

尝试：

```
 $date = date('Y-m-d', $_POST["date"]); 
```

# java - 使用axis2 eclipse插件从wsdl生成java代码

> ID：12616794
> 
> 赞同：0
> 
> 时间：2012-09-27T08:09:38.757
> 
> 标签：java, web-services, soap, wsdl, axis2

我有以下 wsdl，我需要从中生成服务器 java 代码：

```
<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/" 
            xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" 
            xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
            xmlns:tns="http://www.smarttrust.com/mdm/clientprovisioning_1.0/initiator" 
            xmlns:types="http://www.smarttrust.com/mdm/clientprovisioning_1.0/initiator-types" 
            xmlns:common="http://www.smarttrust.com/mdm/clientprovisioning_1.0/common" 
            targetNamespace="http://www.smarttrust.com/mdm/clientprovisioning_1.0/initiator">
    <types>
        <documentation>ClientProvisioningInitiator types are defined in web-clientprovisioning-initiator-types.xsd. 
            Types common with ClientProvisioningService are defined in web-clientprovisioning-common.xsd.
        </documentation>
        <xsd:schema targetNamespace="http://www.smarttrust.com/mdm/clientprovisioning_1.0/initiator">
            <xsd:import namespace="http://www.smarttrust.com/mdm/clientprovisioning_1.0/initiator-types" 
                schemaLocation="web-clientprovisioning-initiator-types.xsd"/>
        </xsd:schema>
    </types>
    <message name="cpDiscovery.Response">
        <documentation></documentation>
        <part name="cpDiscovery.Response" type="types:cpDiscovery.ResponseType"/>
    </message>
    <message name="cpStatus">
        <documentation></documentation>
        <part name="cpStatus" type="types:cpStatusType"/>
    </message>
    <portType name="ClientProvisioningInitiator">
        <documentation>Counterpart for the ClientProvisioningService</documentation>
        <operation name="cpDiscovery.Response">
            <documentation>Receives a response with profile information</documentation>
            <input message="tns:cpDiscovery.Response"/>
        </operation>
        <operation name="cpStatus">
            <documentation>Receives status notifications on what happens with the request and the execution status of the server.
            </documentation>
            <input message="tns:cpStatus"/>
        </operation>
    </portType>
    <binding name="clientProvisioningSOAPBinding" type="tns:ClientProvisioningInitiator">
        <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
        <operation name="cpStatus">
            <soap:operation soapAction="urn:#cpStatus"/>
            <input>
                <soap:body use="literal"/>
            </input>
        </operation>
        <operation name="cpDiscovery.Response">
            <soap:operation soapAction="urn:#cpDiscovery.Response"/>
            <input>
                <soap:body use="literal"/>
            </input>
        </operation>
    </binding>
    <service name="ClientProvisioningInitiator">
        <port name="ClientProvisioningInitiator" binding="tns:clientProvisioningSOAPBinding">
            <soap:address location="http://localhost/#"/>
        </port>
    </service>
</definitions> 
```

当我尝试使用 eclipse axis2 插件生成代码时，我得到 java.langInterruptedException 没有为消息 cpStatus 定义元素类型。怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:22:26.270

```
<message name="cpStatus">
    <documentation></documentation>
    <part name="cpStatus" type="types:cpStatusType"/>
</message> 
```

某处需要被定义`cpStatusType`，但它不是。需要包含其他 xml 或在此 xml 中添加更多行

# java - 如何在 Java 中将方法作为参数传递？

> ID：12616796
> 
> 赞同：18
> 
> 时间：2012-09-27T08:09:47.400
> 
> 标签：java

> **可能重复：**
> [Java 传递方法作为参数](https://stackoverflow.com/questions/2186931/java-pass-method-as-parameter)

是否可以在Java中将方法作为参数传递？如果我不能，下面的方法最好的做法是什么，而不必重复代码。

```
public void enterUserInput(javax.swing.JTextField inputField, javax.swing.JTextField   outputField, method rangeChecking){

    String input;
    double output;
    input = inputField.getText();
    output = Double.parseDouble(input);
    if(rangeChecking(output)){
        outputField.setText(input);
        inputField.setText(null);
    } 
```

我将从不同的类调用 rangeChecking 方法，每次调用 enterUserInput 时，rangeChecking 方法都会有所不同

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-09-27T08:11:29.380

您应该使用[接口](http://docs.oracle.com/javase/tutorial/java/concepts/interface.html)来执行此操作。

您将声明所需函数的接口传递给方法，并调用所需的方法。将调用的特定方法是由实现类实现的方法。

它被称为[策略设计模式](http://en.wikipedia.org/wiki/Strategy_pattern)。

代码示例：

```
public static interface Foo { //this is the interface declaration
    public void print();
}
public static class Bar implements Foo { //Bar is an implementing class
    public void print() {
        System.out.println("Bar");
    } 

}
public static void test(Foo foo) { //the method accepts an interface
    foo.print(); //and invokes it, the implementing class' print() will be invoked.
}
public static void main(String... args) throws Exception {
    test(new Bar()); //invoke test() with the class implementing the interface
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-27T08:13:00.907

使用该方法签名创建一个接口，并将它的匿名子类与您的方法实现一起传递。

```
// the interface that contains the method/methods you want to pass
interface MethodWrapper {
    public void method(String s); }

// ...
// in your code
// assuming that "observable" is an object with a method "setCallback" that 
// accepts the callback
// note that your method implementation will have access to your local variables

public void someMethodOfYours() {
    observable.setCallback(new MethodWrapper() {
        public void method(String s) {
            System.out.println(s);
        } }
    );
    // note that your anon subclass will have access to all your contain method 
    // locals and your containing class members, with [some restrictions][1]
}

// in the "observable" class - the class that receives the "callback method"
// ...

if( updated() ) {
    callback.method("updated!"); } 
```

在未来的 java 版本中（随着 lambdas 的出现），您将不必定义接口和匿名内部类 - 将有特定的 lambda 语法将编译为等效的字节码。

[1][不能引用以不同方法定义的内部类中的非最终变量](https://stackoverflow.com/questions/1299837/cannot-refer-to-a-non-final-variable-inside-an-inner-class-defined-in-a-differen)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-27T08:11:07.417

据我所知不是。这通常是通过创建一个具有您想要的方法的接口并传递一个实现该接口的类来完成的。

```
public interface IRangeCheck
{
    boolean check(double val);
}

public class RangeChecker implements IRangeCheck
{
    public boolean check(double val)
    {
        return val > 0.0;
    }
}

...
    public void blabla(..., IRangeCheck irc)
    {
        ...
        if(irc.check(output))
           ...
    } 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-09-27T08:14:37.287

您可以使用 java 反射。

```
public void enterUserInput(javax.swing.JTextField inputField, javax.swing.JTextField   outputField, String methodName){

String input;
double output;
input = inputField.getText();
output = Double.parseDouble(input);
Method m = this.getClass().getDeclaredMethod(methodName, Double.class);

if((Boolean)m.invoke(this, output)){
    outputField.setText(input);
    inputField.setText(null);
} 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-09-27T08:22:50.447

有一些方法可以使用 来做到这一点，[`Reflection`](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html#invoke%28java.lang.Object,%20java.lang.Object...%29)但最好避免这样做。你想要做的是创建一个界面，如：

```
 public interface RangeChecker {

    boolean rangeChecking(double input);

} 
```

然后为每个范围检查方法创建实现：

```
 public class SomeRangeCheck implements RangeChecker {

    public boolean rangeChecking(double input) {
        // do something
    }

} 
```

然后您的其他方法的签名变为：

```
public void enterUserInput(JTextField inputField, JTextField   outputField, RangeChecker rangeChecking) 
```

您可以传递任何实现 RangeChecker 接口的对象。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-09-27T08:13:42.140

您可以创建一个定义所需方法的接口，并传递一个实现该接口的类的对象。通常，匿名类用于此目的。

```
interface Worker {
    public void callMe();
}

public function callWorker(Worker w) {
    w.callMe();
}

callWorker(new Worker() {
    public void callMe() {
        System.out.println("Hi there!");
    }); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-09-27T08:13:44.703

你不能在java中传递方法。

您所做的是声明一个接口，并将一个实现该接口的类作为参数，这样您就可以通过参数调用该函数。

您可以在您的代码中创建一个匿名类。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-09-27T08:15:28.417

不，不可能将方法作为参数传递。

我想，最好的方法是创建一个接口，编写一个实现该接口的类（根据需要修改实现）并将类的对象作为参数传递。

您也可以使用反射，将 methodName 作为字符串传递给您的方法。并使用反射来调用该方法。

希望这可以帮助 ：-）

# jquery - 使用jquery根据其他html添加html

> ID：12616804
> 
> 赞同：2
> 
> 时间：2012-09-27T08:10:17.587
> 
> 标签：jquery, html

我有一些代码如下

```
<div class="box coursebox">
  <h3 class="main"><a title="GCSE English" href="http://vle.sheffcol.ac.uk/moodle/course/view.php?id=1656">GCSE English</a> </h3>
</div>
<div class="box coursebox">
  <h3 class="main"> <a title="GCSE Maths" href="http://vle.sheffcol.ac.uk/moodle/course/view.php?id=1526">GCSE Maths</a> </h3>
  <div class="assign overview">
     <div class="name"> Assignment: <a title="Assignment" href="http://vle.sheffcol.ac.uk/moodle/mod/assign/view.php?id=59691">Algebra assignment 1</a> </div>
     <div class="name"> Assignment: <a title="Assignment" href="http://vle.sheffcol.ac.uk/moodle/mod/assign/view.php?id=59691">Algebra assignment 1</a> </div>
  </div>
</div> 
```

我想要做的是使用 jquery 添加以下 HTML

```
<span class="button" id="button">Show activities</span> 
```

H3标签后的每个课程框如果有一个div.overview作为一个孩子。

首先，这可能吗？如果可能，怎么做？

谢谢

基兰

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:11:54.750

是的，有可能，试试这个：

```
$(".coursebox").has("div.overview").each(function() {
    $("h3", $(this)).after("<span class=\"button\" id=\"button\">Show activities</span>");
}); 
```

[**示例小提琴**](http://jsfiddle.net/GrWFB/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:21:19.330

试试这个解决方案

```
$(".coursebox").has("div.overview").each(function(){
  var $span = $("<span>")
      .addClass('button')
      .attr('id','button')
      .text('Show activities');

    $span.insertAfter($(this).find('H3.main'))

});​​​​​​​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:21:42.013

```
var spanEl = $('<span/>', {
 id: "button",
 class: "button",
 text: "Show activities"
});
$("h3", $(this)).after(spanEl); 
```

# android - 如何将数据库表中的数据显示到 Android TextView 中？

> ID：12616814
> 
> 赞同：0
> 
> 时间：2012-09-27T08:10:48.263
> 
> 标签：android, bundle, textview, sqlite

我正在开发用户输入他朋友的个人详细信息并保存到 SQLite 数据库中的应用程序。然后用户可以在另一个页面（活动）中查看他的朋友的信息。但是当用户需要查看他朋友的信息时，它不会显示在第二个活动中。需要从数据库表中检索信息。我怎么做？

这是代码-
第一个活动-

```
public class PersonalInformation extends Activity
{
    EditText txtLikes, txtDislikes, txtType, txtDate;
    Button btnView, btnBack;
    Spinner nameSpinner;    

    ArrayAdapter<String> adapter;
    String friends[] = {"Kanak Priya", "Joanne Liew", "Melissa Haiting", "Michelle Lam", "Teo Kin Hua", "David Yeo", "Nur Ashiqin", "Stephanie"};

    final Context context = this;

    private int namesSpinnerId;        

    LikesDBAdapter likeDB = new LikesDBAdapter(this);
    DislikesDBAdapter dlikeDB = new DislikesDBAdapter(this);

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.info);

        nameSpinner = (Spinner) findViewById(R.id.nameSpinner);

        adapter = new ArrayAdapter<String>(this,
                R.layout.spinner_text, friends);
        nameSpinner.setAdapter(adapter);

        /*BuddyDBAdapter buddyDB = new BuddyDBAdapter(this);
    //  buddyDB.open();

        Cursor friendsCursor = buddyDB.getAllNames();
        startManagingCursor(friendsCursor); 

        String[] from = new String[]{BuddyDBAdapter.KEY_NAME};
        int[] to = new int[]{R.id.name};

        SimpleCursorAdapter friendsCursorAdapter = new SimpleCursorAdapter(this, R.layout.spinner_text, friendsCursor, from, to);
        friendsCursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        nameSpinner = (Spinner)findViewById(R.id.nameSpinner);
        nameSpinner.setAdapter(friendsCursorAdapter);
        //buddyDB.close();

        nameSpinner.setOnItemSelectedListener(new OnItemSelectedListener()
            {
                 @Override
                 public void onItemSelected(AdapterView<?> parent, View view, int pos, long id)
                 {
                     Cursor c = (Cursor)parent.getItemAtPosition(pos);
                     namesSpinnerId = c.getInt(c.getColumnIndexOrThrow(BuddyDBAdapter.KEY_ROWID));
                 }

                @Override
                public void onNothingSelected(AdapterView<?> parent)
                {
                    // TODO Auto-generated method stub

                }
            });
        //buddyDB.close();
*/      
        Button btnSave = (Button) findViewById(R.id.btnSave);
        btnSave.setOnClickListener(new View.OnClickListener()
            {

                @Override
                public void onClick(View v)
                {
                    likeDB.open();
                    long like_id;

                    nameSpinner = (Spinner) findViewById(R.id.nameSpinner);
                    String NameValue = nameSpinner.getSelectedItem().toString();

                    txtLikes = (EditText) findViewById(R.id.txtLikes);
                    String LikeValue = txtLikes.getText().toString();

                    like_id = likeDB.insertLikes(LikeValue, NameValue);
                    likeDB.close();

                    dlikeDB.open();
                    long dlike_id;

                    nameSpinner = (Spinner) findViewById(R.id.nameSpinner);
                    String NamesValue = nameSpinner.getSelectedItem().toString();

                    txtDislikes = (EditText) findViewById(R.id.txtDislikes);
                    String DislikeValue = txtDislikes.getText().toString();

                    dlike_id = dlikeDB.insertDislikes(DislikeValue, NamesValue);
                    dlikeDB.close();

                    txtDate = (EditText) findViewById(R.id.txtDate);
                    txtType = (EditText) findViewById(R.id.txtType);                    
                    txtLikes = (EditText) findViewById(R.id.txtLikes);
                    txtDislikes = (EditText) findViewById(R.id.txtDislikes);

                    if(txtDate.getText().toString().length() == 0 || txtType.getText().toString().length() == 0 || 
                            txtLikes.getText().toString().length() == 0 || txtDislikes.getText().toString().length() == 0)

                    {
                        txtDate.setError("Please key in the date");
                        txtType.setError("Please key in category");
                        txtLikes.setError("Please key in their likes");
                        txtDislikes.setError("Please key in their dislikes");
                    }
                    else
                    {
                        Toast.makeText(getBaseContext(), "Your information is saved successfully! :D", Toast.LENGTH_LONG).show();
                    }                                                   
                }
            });

        btnBack = (Button) findViewById(R.id.btnMain);
        btnBack.setOnClickListener(new View.OnClickListener()
            {

                @Override
                public void onClick(View arg0)
                {
                    finish();

                }
            });

        btnView = (Button) findViewById(R.id.btnView);
        btnView.setOnClickListener(new View.OnClickListener()
            {

                @Override
                public void onClick(View v)
                {
                    nameSpinner = (Spinner) findViewById(R.id.nameSpinner);
                    EditText txtDate = (EditText) findViewById(R.id.txtDate);
                    EditText txtType = (EditText) findViewById(R.id.txtType);
                    EditText txtLikes = (EditText) findViewById(R.id.txtLikes);
                    EditText txtDislikes = (EditText) findViewById(R.id.txtDislikes);

                    Intent i = new Intent(PersonalInformation.this, SavedInfo.class);                   
                    Bundle b = new Bundle();
                    b.putString("name", nameSpinner.getSelectedItem().toString());
                    b.putString("date", txtDate.getText().toString());
                    b.putString("category", txtType.getText().toString());
                    b.putString("likes", txtLikes.getText().toString());
                    b.putString("dislikes", txtDislikes.getText().toString());
                    i.putExtras(b);
                    startActivity(i);
                }
            });

        EditText txtDate = (EditText) findViewById(R.id.txtDate);
        txtDate.setHint("birthdate or wedding date");
        txtDate.setFilters(new InputFilter[] {
                new InputFilter() {

                    @Override
                    public CharSequence filter(CharSequence source, int start,
                            int end, Spanned dest, int dstart, int dend)
                    {
                        if(source.equals(""))
                        {
                            return source;
                        }
                        if(source.toString().matches("[0-9 -]+"))
                        {
                            return source;
                        }
                        return "";
                    }

                }
            });

        EditText txtType = (EditText) findViewById(R.id.txtType);
        txtType.setHint("birthday or wedding");
        txtType.setFilters(new InputFilter[] {
                new InputFilter() {

                    @Override
                    public CharSequence filter(CharSequence source, int start,
                            int end, Spanned dest, int dstart, int dend)
                    {
                        if(source.equals(""))
                        {
                            return source;
                        }
                        if(source.toString().matches("[birthday wedding Birthday Wedding BIRTHDAY WEDDING]+"))
                        {
                            return source;
                        }
                        return "";
                    }

                }
            });

        EditText txtLikes = (EditText) findViewById(R.id.txtLikes);
        txtLikes.setHint("e.g. Skating, Photography separate by comma");
        txtLikes.setFilters(new InputFilter[] {
                new InputFilter() {

                    @Override
                    public CharSequence filter(CharSequence source, int start,
                            int end, Spanned dest, int dstart, int dend)
                    {
                        if(source.equals(""))
                        {
                            return source;
                        }
                        if(source.toString().matches("[a-z A-Z -]+"))
                        {
                            return source;
                        }
                        return "";
                    }

                }
            });

        EditText txtDislikes = (EditText) findViewById(R.id.txtDislikes);
        txtDislikes.setHint("e.g. Skating, Photography separate by comma");
        txtDislikes.setFilters(new InputFilter[] {
                new InputFilter() {

                    @Override
                    public CharSequence filter(CharSequence source, int start,
                            int end, Spanned dest, int dstart, int dend)
                    {
                        if(source.equals(""))
                        {
                            return source;
                        }
                        if(source.toString().matches("[a-z A-Z -]+"))
                        {
                            return source;
                        }
                        return "";
                    }

                }
            });

    }
} 
```

第二次活动

```
public class SavedInfo extends Activity
{
    final Context context = this;

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.saved_info);

        Bundle b = this.getIntent().getExtras();
        String name = b.getString("name");
        String date = b.getString("date");
        String category = b.getString("category");
        String likes = b.getString("likes");
        String dislikes = b.getString("dislikes");

        ((TextView)findViewById(R.id.textName)).setText(name);
        ((TextView)findViewById(R.id.textDate)).setText(date);
        ((TextView)findViewById(R.id.textType)).setText(category);
        ((TextView)findViewById(R.id.textLikes)).setText(likes);
        ((TextView)findViewById(R.id.textDislikes)).setText(dislikes);

        Button btnEdit = (Button) findViewById(R.id.btnEdit);
        btnEdit.setOnClickListener(new View.OnClickListener()
            {

                @Override
                public void onClick(View v)
                {
                    Intent backIntent = new Intent(context, PersonalInformation.class);
                    startActivity(backIntent);

                }
            });

        Button btnBack = (Button) findViewById(R.id.btnMain);
        btnBack.setOnClickListener(new View.OnClickListener()
            {

                @Override
                public void onClick(View v)
                {
                    Intent menuIntent = new Intent(context, MainPage.class);
                    startActivity(menuIntent);
                }
            });
    }

} 
```

请帮助我如何将数据库表中的数据作为 TextView 检索到第二个活动中，
我将不胜感激提供的任何帮助。提前致谢！=)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T15:45:29.477

如果我理解正确，您需要什么，以下是从 SQLite 数据库中提取结果以进行查询的代码片段。希望这会对您有所帮助：

```
// Access Database to fetch info
try {
    newDB = myDbHelper.getReadableDatabase();

    String query = "SELECT * FROM tbl_name WHERE...... = ";
    Cursor c = newDB.rawQuery(query,null);

    if (c != null ) {
        if (c.moveToFirst()) {
            do {
                Bean infoBean = new infoBean();
                infoBean.firstName = c.getString(c.getColumnIndex("firstName"));
                infoBean.lastName = c.getInt(c.getColumnIndex("lastName"));
                infoBean.id = c.getInt(c.getColumnIndex("_id"));

                // Do something here to display information in TextView

            } while (c.moveToNext());
        } 
    }           
} catch (SQLiteException se) {
    Log.e(getClass().getSimpleName(), "Could not create or Open the database");
} 

myDbHelper.close(); 
```

# keyboard - 如何让 python 检测键盘的击键并根据 Windows 中的输入键发送不同的字符串

> ID：12616816
> 
> 赞同：2
> 
> 时间：2012-09-27T08:10:50.197
> 
> 标签：keyboard, python-2.7, hook

我正在尝试编写一个脚本来复制 Autohotkey 所做的一些事情，因为它对我来说效果不佳。我需要脚本来检测程序的键盘/鼠标单击输入，并根据按下的原始键发送不同的字符串/击键序列。例如，如果我按下鼠标中键，我想发送三个击键 8,9 和 0 来代替单击。所有这些都是在使用其他一些应用程序时进行的。即火炬之光II。谁能告诉我

1.  使用什么来获取全局键盘输入和
2.  如何将击键发送到应用程序？

我会为此使用 Autohotkey，但它的行为非常不可靠，带有随机的不可接受的错误。我正在使用 python 2.7 64bit，Windows 7。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T13:13:33.480

我找到了解决方案并完成了脚本。这是我的发现。

1.我从 Pyhook 获得了全局键盘/鼠标输入。在 Python 2.7 amdx64 上安装它可能有点棘手。

2.为了向应用程序发送击键/输入，我使用了sendkeys-ctypes，它适用于python 2.7

# objective-c - UICollectionView：自定义 UICollectionViewFlowLayout 标头（多个标头和标头位置）

> ID：12616817
> 
> 赞同：0
> 
> 时间：2012-09-27T08:11:03.470
> 
> 标签：objective-c, ios, ios6, uicollectionview

我想将当前基于表格视图的数据网格转换为新`UICollectionView`类。

这就是我当前的网格的样子：

![我当前基于表格视图的数据网格](../Images/4e5e13567e0f0fc5ab920d8740eae5ab.png)

我的网格有两个标题：

*   年份（2006a、2007a 等）和
*   类型（“收入”、“EBITDA”等）。

从 Apple 的文档中，我了解到我需要将**FlowLayout 子类化**以获取两个标题（[Apple Documentation](http://developer.apple.com/library/ios/#Documentation/WindowsViews/Conceptual/CollectionViewPGforIOS/UsingtheFlowLayout/UsingtheFlowLayout.html)），特别是覆盖`layoutAttributesForSupplementaryViewOfKind:atIndexPath:`以支持新的补充视图（标题）。

但是，我没有找到任何有关如何执行此操作的示例或教程。由于我被困在这里，如果您能指出我正确编码的正确方向，我将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T10:54:20.060

[我在这里](https://stackoverflow.com/questions/12810628/uicollectionview-decoration-view/12824761#12824761)发布了一个示例，说明如何支持装饰视图。补充意见类似，但有以下区别：

*   `– registerClass:forSupplementaryViewOfKind:withReuseIdentifier:`您可以在 UICollectionView 实例上调用，而不是在布局上注册 NIB 或类
*   在 UICollectionView 的视图控制器中，您将实现`– collectionView:viewForSupplementaryElementOfKind:atIndexPath:`类似于普通单元格的方法
*   在布局子类中，您需要实现以下方法`– layoutAttributesForSupplementaryViewOfKind:atIndexPath:`将补充视图定位在它们的位置
*   在`– layoutAttributesForElementsInRect:`确保添加您想要的所有补充视图（类似于我发布的示例中的装饰视图）

我现在无法访问我的示例代码，但我稍后会发布它。

# scala - 从 Scala 控制台获取函数类型

> ID：12616820
> 
> 赞同：4
> 
> 时间：2012-09-27T08:11:07.277
> 
> 标签：scala

开始学习 Scala，我想在控制台中快速查看方法签名。例如，在 Haskell 中，我会这样做：

```
Prelude> :t map
map :: (a -> b) -> [a] -> [b] 
```

这清楚地显示了 map 函数的签名，即它需要：

1.  *接受a*并返回*b*的函数
**   *一个*列表*

 **并返回

1.  *b*列表

 *由此得出结论，map 函数通过将函数应用于列表的每个元素，将*a*的列表转换为*b的列表。*

有没有办法在 Scala 中以类似的方式获取方法类型？

更新：

尝试 Federico Dal Maso 的答案，并得到这个

```
scala> :type Array.fill
<console>:8: error: ambiguous reference to overloaded definition,
both method fill in object Array of type [T](n1: Int, n2: Int, n3: Int, n4: Int, n5: Int)(elem: => T)(implicit evidence$13: scala.reflect.ClassManifest[T])Array[Array[Array[Array[Array[T]]]]]
and  method fill in object Array of type [T](n1: Int, n2: Int, n3: Int, n4: Int)(elem: => T)(implicit evidence$12: scala.reflect.ClassManifest[T])Array[Array[Array[Array[T]]]]
match expected type ?
       Array.fill 
```

显然 fill 方法被重载了， :type 无法决定显示哪个重载。那么有没有办法显示所有方法重载的类型呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:14:26.600

```
scala> :type <expr> 
```

显示表达式的类型而不计算它

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T14:18:20.343

Scalas REPL 只能显示有效表达式的类型，在这里它没有 ghci 强大。相反，您可以使用[scalex.org](http://scalex.org/)（等效于 Scalas Hoogle）。输入`array fill`并接收：

```
Array fill[T]: (n: Int)(elem: ⇒ T)(implicit arg0: ClassManifest[T]): Array[T] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-08T08:36:16.360

`:type <expr>`

有效，但如果`expr`是一种方法，那么您需要添加下划线以将其视为部分应用的功能。

```
scala> def x(op: Int => Double): List[Double] = ???
x: (op: Int => Double)List[Double]

scala> :type x
<console>:15: error: missing arguments for method x;
follow this method with `_' if you want to treat it as a partially applied function
       x
       ^

scala> :type x _
(Int => Double) => List[Double] 
```***

# python - 来自变量的 Numpy 切片

> ID：12616821
> 
> 赞同：20
> 
> 时间：2012-09-27T08:11:11.193
> 
> 标签：python, numpy, slice

我正在尝试使用在变量中预定义的切片来切片 numpy 数组。这有效：

```
b = fromfunction(lambda x,y: 10*x+y, (5,4),dtype=int) # Just some matrix

b[1:3,1:3]
# Output:
# array([[11, 12],
#       [21, 22]]) 
```

但我想做的是这样的：

```
slice = "1:3,1:3"
b[slice]
# Output:
# array([[11, 12],
#       [21, 22]]) 
```

切片变量的类型对我来说并不重要，我只是以字符串为例。如何保存这样的切片说明符？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-09-27T08:16:51.753

您可以使用内置`slice`功能

```
s = slice(1,3)
b[s,s]

ds = (s,s)
b[ds] 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-09-27T09:29:16.793

[`numpy.s_`并`numpy.index_exp`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.s_.html#numpy-s)提供一种方便的方法：

```
the_slice = numpy.index_exp[1:3, 1:3]
b[the_slice] 
```

它们不能做任何你不能用`slice`、 元组、`None`和的组合做的事情`Ellipsis`，但它们允许你使用与切片数组完全相同的语法（`s_`和之间的唯一区别`index_exp`是一维切片，`s_`返回一个切片对象，同时`index_exp`将其包装在一个元组中）。

# iphone - SingleViewApplication 项目中的 UINavigationController 样式

> ID：12616823
> 
> 赞同：0
> 
> 时间：2012-09-27T08:11:21.460
> 
> 标签：iphone, uinavigationcontroller

我正在尝试将使用 .xib（不是情节提要）的 Single View 应用程序项目转换为`UINavigationController`样式。我使用 Storyboard 了解它，这非常简单。但是，我想在没有情节提要的情况下实现。在我创建了一个单视图应用程序项目后，它`UIView`默认带有一个 ViewController_XXX.xib。之后，我如何使用它创建根视图控制器并制作`UINavigationController`样式。有没有教程的地方？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:13:03.777

来自此[链接的参考](http://ioscoderef.blogspot.com/2012/08/adding-uinavigation-to-simple-view.html)

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{    
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    UINavigationController* navigationController =[[UINavigationController alloc] init];
    self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];

    [navigationController pushViewController:self.viewController animated:NO];

    self.window.rootViewController = navigationController;
    [self.window makeKeyAndVisible];
    return YES;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:20:01.663

1.  在中创建一个 NavigationController`AppDelegate.h`

> @property（强，非原子） UINavigationController *navigationController;

1.  编辑 AppDelegate.m

> -（BOOL）应用程序：（UIApplication *）应用程序didFinishLaunchingWithOptions：（NSDictionary *）launchOptions {
> 
> ```
> UIViewController *rootController = [[YourViewController alloc] initWithNibName:@"nibfile name" bundle:nil];
> 
> navigationController = [[UINavigationController alloc] initWithRootViewController:rootController];
> [navigationController.navigationBar setTintColor:[UIColor colorWithHue:5.84 saturation:0.05 brightness:0.02 alpha:0.0]];
> self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
> [self.window addSubview:navigationController.view];
> [self.window makeKeyAndVisible];
> return YES;
>  } 
> ```

# c# - 使用其他应用程序时打开数据库

> ID：12616824
> 
> 赞同：1
> 
> 时间：2012-09-27T08:11:23.297
> 
> 标签：c#, database, database-connection, firebird

我有一个使用第三方应用程序的数据库。我需要打开这个数据库才能阅读。如何在第三方应用程序运行时打开数据库？

我得到错误：

> `CreateFile`文件“（打开）”操作期间的 I/O 错误

代码：

```
FbConnectionStringBuilder csb = new FbConnectionStringBuilder();

csb.ServerType = FbServerType.Embedded;  
csb.Database = ConfigurationManager.AppSettings["PathToFirebirdDB"];                      

csb.Charset = "WIN1251";
csb.Dialect = 3;
csb.ClientLibrary = @"fbembed.dll";

csb.UserID = "SYSDBA";
csb.Password = "*****";

using (FbConnection fbBD = new FbConnection(csb.ToString()))
{                       

    fbBD.Open();
    // other code
    ...
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:31:54.770

根据评论：问题是因为它是嵌入式的，如果您连接到数据库服务器，您不会有问题，但是您要做的是打开运行相同文件的服务器的 2 个副本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-29T13:11:48.457

可能您的 Firebird 版本 < 2.5

从 Firebird Embedded v2.5 开始，您可以有多个连接到同一个数据库。

# visual-studio - 在 Visual Studio 2012 中创建测试方法存根

> ID：12616828
> 
> 赞同：0
> 
> 时间：2012-09-27T08:11:37.930
> 
> 标签：visual-studio, resharper, visual-studio-2012

在我安装 resharper 之前，我可以通过编写 testm 和 tab 2 次来创建一个 [TestMethod] 存根。有没有办法在安装 resharper 时仍然这样做？我正在使用带有 Visual Studio 测试工具的 Visual Studio 2012。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T11:45:18.140

`testm`是VS的代码片段。

C# 的 Visual Studio 代码片段会作为实时模板自动导入 ReSharper。这意味着您可以通过按 Ctrl+J 来调用任何代码片段。

# c - 为什么具有负索引的数组有效？

> ID：12616830
> 
> 赞同：2
> 
> 时间：2012-09-27T08:11:47.430
> 
> 标签：c, arrays, indexing, semantics

> **可能重复：**
> [C 中的负数组索引？](https://stackoverflow.com/questions/3473675/negative-array-indexes-in-c)

这怎么编译，并按预期运行？我很困惑。我只是好奇会发生什么，令我惊讶。有效。

```
#include <stdio.h>
#include <conio.h>
int main(void)
{
    int i;
    int array[5];
    for(i = -1; i > -6; i--)
        array[i] = i*-1;
    for(i = -1; i > -6; i--)
        printf("%d\n",array[i]);
    getch();
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-27T08:14:28.290

它起作用了，因为你不走运。不确定应该发生什么。

```
array[x] 
```

相当于

```
*(array+x) 
```

所以你基本上是在取消引用.`x`之后位置的指针`array`。在您的情况下，`x`是负数，因此您在数组之前访问内存。它不能保证工作。

它编译的事实是自然的，它是有效的语法，它是一个格式良好的程序。编译器不需要生成任何诊断（但它可能）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:16:56.750

它有效，但这只是运气。

数组是一个指针，当您声明它时，它会分配一些内存（例如从位置 1 到位置 6）。然后数组指向第一个元素。当您增加索引时，ti 会将指针向前移动。

在您的情况下，您将指针移动到错误的一侧。但是 C 根本不关心它，而是将它的数据写入该内存块上。然后它能够​​检索该数据。

请小心，因为当您从未为您的程序分配的内存块中读取时，一切都可能发生。这并不意味着会发生错误，但它可以。所以，避免它。

将其视为犯罪。这并不意味着你会被捕，但有风险。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:15:01.343

C 不为数组提供任何边界检查。因此，您只需写入内存并稍后读取即可。由于这部分内存在这段时间内没有被触及，因此您找到了预期值。

# provisioning - Rubymotion：与开发人员配置文件一起的临时配置文件

> ID：12616832
> 
> 赞同：1
> 
> 时间：2012-09-27T08:11:49.740
> 
> 标签：provisioning, rubymotion

使用 RubyMotion，您可以在 rake 文件中指定配置文件，如下所示：

```
app.provisioning_profile = './myprofile.mobileprovision' 
```

看到配置文件只有一个字段，我如何配置我用于 testflight 的临时分发配置文件而不覆盖包含我的开发人员配置文件的 provisioning_profile 字段？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-03T22:35:20.470

这是一个老问题，但任何人都在寻找答案：

```
app.release do
  app.provisioning_profile = './distribution.mobileprovision'
end

app.development do
  app.provisioning_profile = './development.mobileprovision'
end 
```

# php - 验证 Googlecheck 回调实际上来自 google

> ID：12616833
> 
> 赞同：0
> 
> 时间：2012-09-27T08:11:53.513
> 
> 标签：php, curl, google-checkout

我正在构建一个谷歌结帐系统。它完美地工作。我想添加一个额外的步骤来验证来自谷歌的 API 通知以及交易是否有效。

我可以对 100% 有效且收费的交易执行 curl notification-history-request，当交易应该说收费时，它仍然会返回财务订单状态设置为“正在审查”。反正有没有让它告诉我它收取了什么费用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T01:34:21.893

实际上，它不是2个问题。

```
 $fields = array(
    '_type'                                 => 'notification-history-request',
    'order-numbers.google-order-number-1'   => 'ORDER_ID',
    'notification-types.notification-type-1'    => 'charge-amount',
); 
```

这解决了这个问题。这种方式允许你打电话给谷歌并询问交易通知在 PHP 中是否 100% 有效。可以访问您传入的 API 页面并为交易注入信息。因此，在您发货之前，您应该询问谷歌它是否有效以及是否已付款。即使您已收到新订单通知、风险信息和订单状态更改。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-27T15:16:34.287

您有 2 个不相关的问题（我认为）-

1.  Google API 在您选择的任何通知选项/版本中都“嵌入”了安全性。

    *   **XML/名称值通知**：SSL + 基本身份验证。您需要对来自 Google 的 POST 进行身份验证。他们将分别发送您的用户名/密码的 MID/密钥组合。
    *   **序列号通知**：Google 将向您的听众发布一个序列号（没有数据，没有基本的身份验证标头，只有一个序列号）。您必须从 Google 提取由该序列号表示的数据。您将向 Google 发送您的凭据，以便他们可以验证您的请求并（仅）相应地使用数据进行响应。
2.  您在通知历史请求中要求什么？看看这个请求特定类型通知的[示例](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Notification_History_API#XML_Example_2)`charge-amount`是否对您有帮助。

Hth

# python - 寻找迭代生成器的捷径

> ID：12616840
> 
> 赞同：1
> 
> 时间：2012-09-27T08:12:46.150
> 
> 标签：python, generator

当我想访问生成器中的元素时，我必须先做：

```
items = [item for item in item_generator] 
```

然后得到我想要的`items`

尽管它很简单，但在这种操作非常频繁的情况下，键入它有点乏味。

那么是否有一个*快捷方式*或*现有的内置函数*可以解压生成器？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:14:36.510

将生成器转换为列表怎么样？

```
item = list(item_generator)[2] 
```

# javafx-2 - JavaFx 2.x：如何在子窗格上扩展水平线？

> ID：12616843
> 
> 赞同：1
> 
> 时间：2012-09-27T08:12:55.557
> 
> 标签：javafx-2, linechart, splitpanel

此代码在拆分窗格中绘制两条 XYChart 线，并仅在上部窗格中绘制一条水平线。

![在此处输入图像描述](../Images/748f2dcdf60429ba5170f3a352db2035.png)

当鼠标指针移动到下部窗格时，我希望在下部子窗格中也有这条水平线。

如何做到这一点？

谢谢

这是代码

```
import javafx.application.Application;
import javafx.application.Platform;
import javafx.collections.ObservableList;
import javafx.event.EventHandler;
import javafx.geometry.Orientation;
import javafx.scene.Node;
import javafx.scene.Scene;
import javafx.scene.chart.*;
import javafx.scene.control.SplitPane;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.BorderPane;
import javafx.scene.paint.Color;
import javafx.scene.shape.Line;
import javafx.scene.shape.LineBuilder;
import javafx.stage.Stage;

public class XyChartHorizontalLine extends Application {

SplitPane               splitPane1 = null; 
BorderPane              pane1; 
BorderPane              pane2; 
Line                    LH;
XYChart.Series          series1 = new XYChart.Series(); 
XYChart.Series          series2 = new XYChart.Series(); 

@Override
public void start(Stage stage) {      
stage.setTitle("Lines plot"); 

final NumberAxis xAxis = new NumberAxis(1, 12, 1); 
final NumberAxis yAxis = new NumberAxis(0.53000, 0.53910, 0.0005); 

xAxis.setAnimated(false);
xAxis.setScaleX(0);
yAxis.setAnimated(false);

yAxis.setTickLabelFormatter(new NumberAxis.DefaultFormatter(yAxis) { 

@Override 
public String toString(Number object) { 
    return String.format("%7.5f", object); 
} 
}); 

final LineChart<Number, Number> lineChart1 = new LineChart<Number, Number>(xAxis,  yAxis); 

lineChart1.setCreateSymbols(false); 
lineChart1.setAlternativeRowFillVisible(false); 
lineChart1.setAnimated(false); 
lineChart1.setLegendVisible(false);

series1.getData().add(new XYChart.Data(1, 0.53185)); 
series1.getData().add(new XYChart.Data(2, 0.532235)); 
series1.getData().add(new XYChart.Data(3, 0.53234)); 
series1.getData().add(new XYChart.Data(4, 0.538765)); 
series1.getData().add(new XYChart.Data(5, 0.53442)); 
series1.getData().add(new XYChart.Data(6, 0.534658)); 
series1.getData().add(new XYChart.Data(7, 0.53023)); 
series1.getData().add(new XYChart.Data(8, 0.53001)); 
series1.getData().add(new XYChart.Data(9, 0.53589)); 
series1.getData().add(new XYChart.Data(10, 0.53476)); 
series1.getData().add(new XYChart.Data(11, 0.530123)); 
series1.getData().add(new XYChart.Data(12, 0.531035)); 

lineChart1.getData().addAll(series1);         

pane1 = new BorderPane(); 
pane1.setCenter(lineChart1); 

splitPane1 = new SplitPane();                                
splitPane1.setOrientation(Orientation.VERTICAL);
splitPane1.getItems().addAll(pane1);
splitPane1.setDividerPosition(0, 1);

final NumberAxis xAxis2 = new NumberAxis(1, 12, 1);
final NumberAxis   yAxis2 = new NumberAxis();

yAxis2.setTickUnit(1);
yAxis2.setPrefWidth(35);
yAxis2.setMinorTickCount(10);

yAxis2.setTickLabelFormatter(new NumberAxis.DefaultFormatter(yAxis2){
    @Override
    public String toString(Number object){
        String label;
        label = String.format("%7.2f", object.floatValue());
        return label;
    }
});

LineChart<Number, Number>lineChart2 = new LineChart<Number, Number>(xAxis2, yAxis2);

lineChart2.setAlternativeRowFillVisible(false);
lineChart2.setLegendVisible(false);
lineChart2.setAnimated(false);
lineChart2.setCreateSymbols(false);

//XYChart.Series series2 = new XYChart.Series();

series2.getData().add(new XYChart.Data(1, 1));
series2.getData().add(new XYChart.Data(2, 3));
series2.getData().add(new XYChart.Data(3, 1.5));
series2.getData().add(new XYChart.Data(4, 3));
series2.getData().add(new XYChart.Data(5, 4.5));
series2.getData().add(new XYChart.Data(6, 5));
series2.getData().add(new XYChart.Data(7, 4));
series2.getData().add(new XYChart.Data(8, 8));
series2.getData().add(new XYChart.Data(9, 16.5));
series2.getData().add(new XYChart.Data(10, 13.9));
series2.getData().add(new XYChart.Data(11, 17));
series2.getData().add(new XYChart.Data(12, 20));

lineChart2.getData().addAll(series2);

pane2 = new BorderPane(); 
pane2.setCenter(lineChart2);

Platform.runLater(new Runnable() {
 @Override
 public void run() {
     double percSplit;

     splitPane1.getItems().addAll(pane2);

    ObservableList<SplitPane.Divider> splitDiv =  splitPane1.getDividers();

    percSplit = 1/(double)(splitDiv.size()+1);
    for (int i = 0; i< splitDiv.size(); i++) {                        
        splitPane1.setDividerPosition(i, percSplit);
        percSplit += 1/(double)(splitDiv.size()+1);
        }
 }
 });

Scene scene = new Scene(splitPane1, 800, 600); 
stage.setScene(scene);         

pane1.setOnMouseMoved(mouseHandler); 

LH=LineBuilder.create()
    .startX(0)
    .startY(0)
    .endX(10)
    .endY(.535)
    .strokeWidth(1)
    .stroke(Color.BLACK)
    .build();
 pane1.getChildren().add(LH);

stage.show();
} 
EventHandler<MouseEvent> mouseHandler = new EventHandler<MouseEvent>() { 

@Override 
public void handle(MouseEvent mouseEvent) {
if (mouseEvent.getEventType() == MouseEvent.MOUSE_MOVED) { 
    LineChart<Number, Number> lineChart = (LineChart<Number, Number>)     pane1.getCenter(); 

    NumberAxis yAxis = (NumberAxis) lineChart.getYAxis(); 
    NumberAxis xAxis = (NumberAxis) lineChart.getXAxis(); 

    double newXlower=xAxis.getLowerBound(), newXupper=xAxis.getUpperBound(); 

    double xAxisShift = getSceneShift(xAxis);
    double yAxisShift = getSceneShift(yAxis);

    if(mouseEvent.getX()>xAxisShift && mouseEvent.getX()<xAxisShift+xAxis.getWidth()){

    LH.setStartX(xAxisShift);
    LH.setStartY(mouseEvent.getY());
    LH.setEndX(xAxisShift+xAxis.getWidth());
    LH.setEndY(mouseEvent.getY());
    }
} 
}
}; 
private static double getSceneShift(Node node) { 
double shift = 0; 
do {  
  shift += node.getLayoutX();  
  node = node.getParent(); 
} 
while (node != null); 
  return shift; 
}   
public static void main(String[] args) { 
launch(args);  
} 
} 
```

# resharper - Ctrl + T 显示类

> ID：12616855
> 
> 赞同：20
> 
> 时间：2012-09-27T08:13:26.337
> 
> 标签：resharper, keyboard-shortcuts, visual-studio-2012

使用 resharper 我们可以点击`Ctrl`+`T`

这将打开课程，因此您可以单击查看课程。

Visual Studio 2012 (express) 中是否有类似的快捷方式可用/内置？

**注意：我说的是没有安装 resharper**

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-27T08:32:34.627

转到菜单工具-> 选项。在环境->键盘下。在列表中，您需要 ReSharper.ReSharper_GotoType 条目。选择此项，然后转到文本框并按`Ctrl`+`T`

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-09-27T08:28:53.053

在文本编辑器中选择班级时，您可以按`F12`导航到班级。

您可以使用`CTRL`+`,`来搜索类（以及字段、属性等）。

要检查键盘映射，您可以打开（菜单）：

**工具**>>**选项**然后选择**环境**>>**键盘**。在那里您可以找到命令及其绑定。

[Microsoft](http://msdn.microsoft.com/en-us/library/da5kh0wa.aspx)有一个预定义的键盘快捷键列表。

[DoFactory](http://www.dofactory.com/ShortCutKeys/ShortCutKeys.aspx)有一个映射命令列表。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-11-08T12:52:35.943

[![图片](../Images/d2e058461c56adf58212ef2d4b1a028c.png)](https://i.stack.imgur.com/c1q7j.png) 我就是这样使用它的。你可以这样使用

# java - 使用 Spring 注入模板化 Set

> ID：12616857
> 
> 赞同：1
> 
> 时间：2012-09-27T08:13:40.627
> 
> 标签：java, spring

我班上有一个成员：

```
Class Abc
{
...
    @Autowired
    Set<TestClass> testClasses;
...
} 
```

如何使用 Spring 注入它？

我使用的xml是：

```
<bean id="testClasses" class="java.util.HashSet"/> 
```

我正在注入一个空 bean，因为我希望它是一组空的 TestClass 类型。

但它给了我以下错误：

> 没有为依赖项 [TestClass 的集合] 找到类型为 [TestClass] 的匹配 bean。

我在这里做错什么了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T10:49:20.523

您在 xml 中定义的 bean“testClasses”不是参数化的，而是自动装配的值（设置 testClasses）。所以你必须这样做：

```
<util:set id="testClasses" value-type="...TestClass" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T08:50:21.263

```
@Resource(name="testClasses")
Set<TestClass> testClasses; 
```

或者

```
@Autowired
@Qualifier("testClasses")
Set<TestClass> testClasses; 
```

添加限定符可以解决问题，因为可能有多种`Set<TestClass>`类型可用。

# iphone - IOS + phone-gap 应用程序开发中的 db 文件实用程序

> ID：12616861
> 
> 赞同：1
> 
> 时间：2012-09-27T08:13:54.457
> 
> 标签：iphone, objective-c, ios, cocoa, cordova

我正在开发一个 IOS 应用程序`phonegap-framework`

由于`phone-gap`默认情况下会查找`../Library/Caches/file__0/0000000000000001.db`和`../Library/Caches/Databases.db`查找数据库，因此一旦应用程序启动，我就会将这些包含数据库信息的文件复制到上述位置。

我知道`0000000000000001.db`包含表创建语句，但不确定 Databases.db 包含什么，因为当尝试 only 时`0000000000000001.db`，它不起作用，因此这两个文件都是必需的。所以我的主要查询是`Databases.db`包含什么？另外，我可以更改和的名称`0000000000000001.db`吗`Databases.db`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:25:58.993

不能更改数据库文件名。您可以在打开数据库时提供您喜欢的名称，如下所示：

```
var db = window.openDatabase("PREFERRED DB NAME", "1.0", "DISPLAY DB NAME", 1000000); 
```

Databases.db 包含一个名为**“Databases”**的表，其中包含当前数据库的名称和路径。它主要有四列：`name,displayName, estimatedSize,path`. 具有数据库条目的路径字段`0000000000000001.db`。将数据库列与`openDatabase`语法进行比较：

```
name : PREFERRED DB NAME,
displayName : DISPLAY DB NAME,
estimatedSize : 1000000 
```

# sqlite - 将查询从 MySql 转换为 SQLite

> ID：12616865
> 
> 赞同：0
> 
> 时间：2012-09-27T08:14:20.540
> 
> 标签：sqlite

请帮助将以下 MySQL 查询更改为 SQLite

```
SELECT 
    DISTINCT t.arabic_term AS t__1,
    SUBSTR(t.definition, 1, 60) AS Definition,
    Sum(if(t3.is_main="y", 1 ,0)) AS t3__5
FROM term t 
INNER JOIN term_disease t2 ON (t2.disease_id = t.term_id) 
INNER JOIN term_disease_symptom t3 ON (t3.disease_id = t2.disease_id)
WHERE (t3.symptom_id in ( 45378 , 45351, 5546 ) AND t2.gender != 1  AND t2.active = 1 )
GROUP BY t3.disease_id
ORDER BY t3__5  desc; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:32:16.440

SQLite 没有`IF`函数，但布尔表达式被定义为具有值 1 或 0。因此，特定的表达式将是：

```
SUM(t3.is_main = 'y') AS t3__5 
```

其他任何东西都是标准 SQL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:55:37.317

以下

```
Sum(if(t3.is_main="y", 1 ,0)) AS t3__5 
```

应该替换为

```
SUM(CASE t3.is_main WHEN 'y' THEN 1 ELSE 0 END) AS t3__5 
```

# javascript - Ruby 中的 indexOf

> ID：12616878
> 
> 赞同：8
> 
> 时间：2012-09-27T08:14:53.037
> 
> 标签：javascript, ruby, arrays

只是想知道类似于 JavaScript 中的 indexOf 的 Array 对象是否有相同的方法？

例如：

```
arr = %w{'a', 'b', 'c'}
c = 'c'
如果 (arr.indexOf(c) != -1)
// 做一些事情
别的
// 不要做一些事情

```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-27T08:17:04.363

这是`.index`Array的方法。

[http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-index](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-index)

在 ruby​​ 中，只有`false`and`nil`被认为是错误值，所以你可以这样做：

```
arr = %w{a, b, c}
c = 'c'
if arr.index c
  # do something
else 
  # do something else
end 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-27T08:17:52.717

如果要检查数组中是否存在元素，可以使用[`include?`](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-include-3F)：

```
if arr.include?(c)
  # do stuff
else 
  # don’t
end 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-27T08:16:10.720

为此使用 Array#index：

```
c = 'c'
%w{a b c}.index(c) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-27T08:24:17.290

```
if arr.last == c
  # do some stuff
else
  # don't do some stuff
end 
```

# wpf - 在 wpf 中使用 aforge 视频播放器

> ID：12616881
> 
> 赞同：2
> 
> 时间：2012-09-27T08:15:20.110
> 
> 标签：wpf, aforge

我在 wpf 中使用 aforge:videosourceplayer，我遇到的麻烦是：为了在 wpf 中使用 aforge:VideoSourcePlayer，我们必须将它放在 WindowsFormsHost 标记中。如果我不想使用 WindowsFormsHost，还有其他选择吗？

```
<WindowsFormsHost Margin="5,5,5,201" Name="windowFormsHost" Panel.ZIndex="0">
       <aforge:VideoSourcePlayer x:Name="videoSourcePlayer" Height="200"  Margin="12,30,0,0" Width="360">
</aforge:VideoSourcePlayer> 
```

任何帮助表示感谢，谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-28T10:28:44.463

不幸的是，没有，因为 WinForms 元素的绘制方式与 WPF Elemenets 不同，因此必须放置在单独的 hWND 中（请参阅下面的链接）。

您没有要求它，但我相信您正在寻找替代方案，因为您在 WPF 窗口中使用 WinForms 时遇到了[**空域问题。**](http://msdn.microsoft.com/en-us/library/aa970688%28v=vs.100%29.aspx)

如果您使用的是 .NET 4 或更早版本，您在上面的代码中分配的 ZIndex 属性将被忽略；-)，WPF 窗口中的 WinForm 元素将始终绘制在其他所有内容之上（您可以在此处阅读有关此内容的更多信息：[WindowsFormsHost 元素的布局注意事项](http://msdn.microsoft.com/en-us/library/ms744952%28v=vs.100%29.aspx)）。

这就是我们最终制作自己的播放器的原因，尝试和布局 WinForm 元素非常令人不安（我们需要滚动功能，并且找不到让 WinFormEl 部分消失的简单方法。对 VideoSourcePlayer 没有一些丑陋的调整反正）。

如果您使用 .NET 4.5，您可以更好地控制 ZIndex（和其他布局属性），如您[在此处](http://msdn.microsoft.com/en-us/library/ms744952%28v=vs.110%29.aspx)阅读的那样（与上述文章相同，但适用于 .NET 4.5）

注意：我记得读过一篇博客文章，其中说 isRedirected&CompositionMode 属性（您需要那些能够在 WPF 中正确布局 WinForms 的属性，如上面的链接中所述）从 4.5 版本中排除但找不到任何对此的官方声明（最安全的方法是尝试一下:-)）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-30T15:46:16.383

我遇到了完全相同的问题；您喜欢 Aforge 框架，但不喜欢 WindowsFormsHost。最终在这里找到了解决方案；

[http://seaflection.wordpress.com/2012/01/29/getting-image-stream-using-webcam-in-wpf-asynchronous-ui-updating/](http://seaflection.wordpress.com/2012/01/29/getting-image-stream-using-webcam-in-wpf-asynchronous-ui-updating/)

Sagar Mohite 通过简单地创建一个 Compatability.dll 解决了这个问题，它允许您将位图转换为正确的格式，以便它们可以在 Image 元素而不是 VideoSourcePlayers 中表示。还需要一个 DispatcherObject，但所需的少量代码都在链接中 + 下载 dll，您可以开始在 Aforge 视频源上覆盖 WPF 控件！

# c# - Azure Blob 存储上传失败

> ID：12616885
> 
> 赞同：6
> 
> 时间：2012-09-27T08:15:34.327
> 
> 标签：c#, asp.net, azure, azure-storage, azure-blob-storage

我有一个 Azure Blob 存储，我想在其中上传一些文件。

**索引.cshtml**

```
@using (Html.BeginForm("File_post", "MyController", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="editor-label">
    <p>
        <input type="file" name="file" />
    </p>
        <input type="submit" value="Upload" />
    </div>
} 
```

**我的控制器.cs**

```
public ActionResult File_post(HttpPostedFileBase file)
{
    CloudBlobContainer blobContainer = Initialize(); // This Initialize my blobContainer
    CloudBlockBlob blob;
    blob = blobContainer.GetBlockBlobReference("myfile");
    blob.UploadFromStream(file.InputStream);
    Return("Index");
} 
```

我用 3.5Mo 文件进行了测试，它甚至可以使用 20Mo 文件。现在我尝试使用 33Mo，firefox 给了我基本错误：连接已重置...

**编辑：**当我放

```
public ActionResult File_post(HttpPostedFileBase file)
{
    Return("Index");
} 
```

它给了我同样的错误，所以我认为这不是由我的 c# 代码引起的。

任何的想法 ？非常感谢 ！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-27T08:24:41.050

您需要修改 web.config 以允许在 ASP.NET 和 IIS 中上传大文件（以下示例将允许上传 50MB 的文件）：

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.web>
        <httpRuntime maxRequestLength="51200" />
    </system.web>
    <system.webServer>
        <security>
            <requestFiltering>
                <requestLimits maxAllowedContentLength="51200000" />
            </requestFiltering>
        </security>
    </system.webServer>
</configuration> 
```

# ios6 - 在运行时检测 iOS 版本

> ID：12616887
> 
> 赞同：0
> 
> 时间：2012-09-27T08:15:40.677
> 
> 标签：ios6, social-framework

我目前正在编写一个使用 Facebook 集成到 iOS 6 中的应用程序。现在为了做到这一点，我需要

```
#import <Social/Social.h> 
```

如何确保设备可以实际运行代码并且不会崩溃（检查它是 iOS 6 还是 iOS 5.1，然后执行正确的代码，因为我支持 iOS 5.1<= ）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:18:11.633

你可以使用：

```
[[UIDevice currentDevice] systemVersion] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-28T09:12:37.473

这对我来说很好：

```
if(SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(@"6.0")){
//Use social framework
}else{
//other option
} 
```

# objective-c - 多态性和 Cocoa NSViews + 绑定

> ID：12616888
> 
> 赞同：0
> 
> 时间：2012-09-27T08:15:51.203
> 
> 标签：objective-c, cocoa, polymorphism, cocoa-bindings, nsviewcontroller

我目前正在为我的应用程序开发一个类似向导的功能，其中每个步骤模型类都是基础 WizardStep 类的子类。我现在只有三个（但他们总是少于十二个）。

我有一个 WizardController 来支持实际的向导 NSView，我现在面临如何在 UI 中管理这个多态 WizardStep 类的*问题。*请注意，我将为每个步骤子类广泛使用 Cocoa 绑定。

想到了三个解决方案：

1) 为每种 WizardStep 类型创建单独的 NSView(s) *，*然后创建相等数量的 NSObjectController 并在它们之间绑定特定的子类属性。当用户进入一个步骤时，我将填充 NSObjectController 的*内容*并在向导视图中显示视图（当然，作为子视图）。

2) 为每种 WizardStep 类型创建单独的 NSView(s) *，*然后创建单个 NSObjectController 并将所有子类属性绑定到它（其中一些将*不可用*，具体取决于控制器内容的类型）。当用户进入一个步骤时，我将填充 NSObjectController 的*内容*并在向导视图中显示视图（当然，作为子视图）。

3）为每种 WizardStep 类型创建一个带有选项卡的 NSTabView *，*然后创建一个 NSObjectController（或使用向导 ViewController）并将所有子类属性绑定到它（其中一些将*不可用*，如解决方案 2 中所示）。当用户进入一个步骤时，我将填充 NSObjectController 的*内容*并根据特定的步骤类型设置选项卡视图的 selectedIndex 属性。

我觉得解决方案 1) 是最正确和最优雅的，但我担心它可能是*矫枉过正*（许多 NSObjectController，许多 NSView）。解决方案 2) 和 3) 对我来说很愚蠢（因为绑定*不可用）。*

关于如何进行的任何建议？

谢谢大家，彼得

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T13:49:13.277

我这样做的方法是创建一个对工作流中的所有步骤都有效（或至少不会引发）的单个模型类，其中一个属性指示当前步骤。然后，您可以将 NSTabView 绑定到`currentStep`属性，并将每个选项卡上的所有其他控件绑定到它们显示的属性。即使您在放弃每一步模型子类方法的道路上走得太远，您也可以创建另一个模型对象，将多个步骤聚合到一个对象中。

这种方法意味着您有一个模型类，而不是 X 模型类、Y 视图类和 Z NSObjectController 子类。FWIW，我很难想象为什么在这种情况下会继承 NSObjectController，尽管从更广泛的意义上说，继承 NSView 有很多理由，但我不清楚在这种特殊情况下需要什么。

至于不可用的绑定，您可以为有时可能不可用的绑定关闭“Raises For Not Applicable Keys”选项，但如果您喜欢在异常抛出时设置断点，这可能会很痛苦，因为关闭该选项不会t 阻止异常被抛出，它只是让控件吞下异常。

# javascript - 让事情在 Jquery Dialog Overlay 中脱颖而出

> ID：12616890
> 
> 赞同：-1
> 
> 时间：2012-09-27T08:15:59.557
> 
> 标签：javascript, jquery, css, overlay, modal-dialog

我需要实现如图所示的关闭按钮：

![在此处输入图像描述](../Images/5a4150161e833aa370f947b7e3447edb.png)

但在实践中，我只能做到这一点：

![在此处输入图像描述](../Images/29971b407a18b66b02841ac85805f981.png)

我是按照 CSS 样式完成的。我不能有，`position:absolute`因为对话框的位置可能会改变。

```
margin-right:-10px;
margin-top:-10px; 
```

关于我如何实现这一目标的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:20:13.293

您需要使用 z-index 和定位。最简单的方法是将关闭按钮 div 放在对话框 div 之外，并将对话框的 z-index 设置为比关闭按钮小的数字

这个网站对你很有用[http://tjkdesign.com/articles/z-index/teach_yourself_how_elements_stack.asp](http://tjkdesign.com/articles/z-index/teach_yourself_how_elements_stack.asp)

**更新** [http://jsfiddle.net/vj9Wb/](http://jsfiddle.net/vj9Wb/)

```
<div class="window-container">
    <div class="window-close">X</div>
    <div class="window-content">window content</div>
</div>

<style>
    .window-container {
        position: relative;
        width: 200px;
        height: 200px;
        background: #EEE;
    }

    .window-close {
        width: 20px;
        height: 20px;
        background: #AAA;
        position: absolute;
        top: 0px;
        right: 10px;
        z-index: 9999;
    }

    .window-content {
        width: 200px;
        height: 150px;
        background: #AAF;
        position: absolute;
        top: 10px;
        z-index: 9998;
    }
</style> 
```

# php - PHP 电子邮件字符对齐

> ID：12616891
> 
> 赞同：0
> 
> 时间：2012-09-27T08:16:00.040
> 
> 标签：php, mysql, character-encoding, coding-style

我在php上做了电子邮件功能。但是当我收到电子邮件时没有正确对齐。谁能帮我解决这个问题。这部分无法正确对齐，我对此知之甚少。

```
What is Union Assurance brand pay off line              correct

What does the Union Assurance brand colour orange signify               correct

What does the Union Assurance brand colour grey signify                 wrong

Union Assurance is baked by             correct

Union Assurance Brand is built on the platform of               wrong

Union Assurance brand promise trust is delivered through                wrong

Union Assurance Symbol depicts          correct

What's Union Assurance brand ranked in the LMD Brands.          correct

What's Union Assurance brand value?             correct

What is the best way to build your brand                correct 
```

* * *

```
<?php 

    $result = select("SELECT * FROM results
    ORDER BY userId DESC
    LIMIT 1");
            $row = mysql_fetch_array($result);

if($row['email']==''){
    echo "Email cannot be Send";

}
else{

    $mailTo=$row['email'];
    $name=$row['username'];
    $score=$row['score'];
    $to=$mailTo;

// Your subject
$subject="Union Assurance Questionnaire Result";

// From
$header="from: Union Assurance<unionassurance@ualink.lk>";

// Your message

$message="Dear $name,\r\n";
$message.="Thank you For Participate the  Union Assurance Questionnaire,\r\n\n";
$message.="your Score is: $score ";
$result2=select("SELECT questions FROM questions");
$qstId=1;

while($row2 = mysql_fetch_array($result2)){

    if($row['question'.$qstId.'']=='correct'){

$message.="\n\n".$row2['questions'].":";
$message.="".$row['question'.$qstId.'']."";
}

else{

        $message.="\n\n".$row2['questions']."";
        $message.= "\t\t".$row['question'.$qstId.'']."";

    }
        $qstId++;
}

$message.="\n\n Thank you, \n Union Assurance IT Team";

// send email
$sentmail = mail($to,$subject,$message,$header);

// if your email succesfully sent
if($sentmail){
echo "Email Has Been Sent .";
}
else {
echo "Cannot Send Email ";

}
}

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:31:18.157

发送 html。来自[php.net](http://php.net/manual/en/function.mail.php)

```
$to  = 'aidan@example.com';

// subject
$subject = 'Birthday Reminders for August';

// message
$message = '
<html>
<head>
  <title>Birthday Reminders for August</title>
</head>
<body>
  <p>Here are the birthdays upcoming in August!</p>
   <table>
     <tr>
       <th>Person</th><th>Day</th><th>Month</th><th>Year</th>
     </tr>
     <tr>
       <td>Joe</td><td>3rd</td><td>August</td><td>1970</td>
     </tr>
     <tr>
       <td>Sally</td><td>17th</td><td>August</td><td>1973</td>
     </tr>
   </table>
 </body>
 </html>
 ';

 // To send HTML mail, the Content-type header must be set
  $headers  = 'MIME-Version: 1.0' . "\r\n";
  $headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";

 // Mail it   
 mail($to, $subject, $message, $headers); 
```

# c# - 创建特定机器可访问的登录名

> ID：12616897
> 
> 赞同：0
> 
> 时间：2012-09-27T08:16:35.377
> 
> 标签：c#, asp.net

我想做这样的登录页面，它只允许我从我的办公室电脑和家用电脑登录。

即使密码和用户名正确，任何其他 PC 都不允许我登录。

我已经浏览了 Mac 地址。但它给了我服务器的 Mac 地址。不提供请求发件人的 Mac 地址。

我也考虑过IP地址。但它可能对其他 PC 很常见。它可以改变。

有谁知道我在 asp.net 中的应用程序应该做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:23:29.430

如果您已经配置了 SSL，您可以设置“需要客户端证书”并将相应的证书安装到您想要连接的机器上。

如何[配置 IIS 7 以使用 SSL 的客户端证书](http://technet.microsoft.com/en-us/library/cc753983%28v=WS.10%29.aspx)。

# php - 在 php 代码的输出中添加行空间

> ID：12616898
> 
> 赞同：1
> 
> 时间：2012-09-27T08:16:36.983
> 
> 标签：php, line, space

我有 php 代码可以连续打印两个表。但第一个表的边界与第二个表的边界重合。我怎样才能在它们之间留出空间。回声“\n”，回声（“\r\n”）；回声（“\r”）；没有帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:17:44.213

您应该将 css 与第二个表（或第一个表）一起使用

```
.yourTable {margin-top: 10px;} 
```

或者快速、肮脏和错误的解决方案：只需`<p>`在表格之间打印 a

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:19:13.953

`echo '<br/>';`或者你可以使用 CSS

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:18:59.360

用 CSS`margin`或添加一个`<br/>`

# emacs - 删除 Emacs 中的当前（非原子）s 表达式

> ID：12616899
> 
> 赞同：5
> 
> 时间：2012-09-27T08:16:39.943
> 
> 标签：emacs, paredit

有没有一种简单的方法可以根据光标位置删除最小可能的非原子 s 表达式？我想转这个（“|”是光标）

```
(defun foo (bar)
  (if bar
      |789
    (+ 456 123))) 
```

进入这个

```
(defun foo (bar)
  |) 
```

这似乎是一件有用的事情，但我在[Paredit 备忘单](http://www.emacswiki.org/emacs/PareditCheatsheet)上找不到相关的（一步）命令。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:44:16.483

我也没有找到预定义的命令。

幸运的是，使用 Emacs 很容易实现您自己的。

例如：

```
(define-key global-map (kbd "C-c C-d") 
    (lambda () (interactive) (backward-up-list) (paredit-kill))) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-13T19:13:17.933

`C-M-u`在 paredit 23 中的字符串内做正确的事，所以 `CMu CMk' 即使在字符串内也能工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-30T16:11:27.093

假设光标不在数字 789 处，而是在此位置的字符串“Foo”内。

比这个命令会失败。

这就是为什么 ar-kill-parentized-atpt 和相关扩展存在于

[http://launchpad.net/sx-emacs-werkstatt/](http://launchpad.net/s-x-emacs-werkstatt/)

# php - 我们可以将原始卡详细信息用于贝宝沙盒吗

> ID：12616902
> 
> 赞同：0
> 
> 时间：2012-09-27T08:16:55.100
> 
> 标签：php, paypal

只是想知道我在测试时使用贝宝沙箱时提供了原始卡详细信息。沙盒会对我使用的卡收费吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:26:19.390

为什么要使用原始卡详细信息？你在玩哥们吗？没有沙盒总是用于测试。顺便说一句，您还可以在通过沙盒付款后查看您的卡余额:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:18:07.887

原始卡详细信息不适用于沙盒环境。这是我的理解。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:20:53.013

它将接受交易，因为卡号（我假设）符合 Luhn / MOD10。但它不会收取任何费用。

# java - JFreeChart 不正确的工具提示位置

> ID：12616910
> 
> 赞同：0
> 
> 时间：2012-09-27T08:17:16.737
> 
> 标签：java, eclipse, tooltip, jfreechart, rcp

jfreechart 1.0.13

我对 jfreechart 中工具提示的位置有一些问题。我通过以下配置构建它

```
 private static final GradientPaint GRADIENT_PAINT = new GradientPaint(0.0f, 0.0f, Color.blue, 0.0f, 0.0f, new Color(0, 0, 64));

    private static final double ITEM_MARGIN = 0.2d;

    private static final double MAXIMUM_BAR_WIDTH = .04;

    private static final int MAXIMUM_CATEGORY_LABEL_WIDTH = 10;

    private static final int MAXIMUM_CATEGORY_LABEL_LINES = 2;

    private static final Paint BACKGROUND_COLOR = new Color(196, 196, 196);

 @Override
    protected BarRenderer configMainRenderer() {
        BarRenderer renderer = new BarRenderer();
        renderer.setBaseToolTipGenerator(new StandardCategoryToolTipGenerator());
        renderer.setShadowVisible(false);
        renderer.setDrawBarOutline(false);
        renderer.setDrawBarOutline(true);
        renderer.setMaximumBarWidth(MAXIMUM_BAR_WIDTH);
        renderer.setSeriesPaint(0, GRADIENT_PAINT);
        renderer.setItemMargin(ITEM_MARGIN);
        return renderer;
    }

 @Override
    protected NumberAxis configRangeAxis(IRangeAxis axis) {
        NumberAxis valueAxis = new NumberAxis(axis.getName());
        valueAxis.setStandardTickUnits(NumberAxis.createIntegerTickUnits());
        return valueAxis;
    }

@Override
protected CategoryAxis configDomainAxis(String domainAxisName) {
    CategoryAxis domainAxis = new CategoryAxis(domainAxisName);
    domainAxis.setMaximumCategoryLabelWidthRatio(MAXIMUM_CATEGORY_LABEL_WIDTH);
    domainAxis.setMaximumCategoryLabelLines(MAXIMUM_CATEGORY_LABEL_LINES);
    domainAxis.setTickLabelFont(getDefaultDomainAxisFont());
    return domainAxis;
}

@Override
protected CategoryPlot plotSetup(Dataset dataset, CategoryAxis domainAxis, NumberAxis mainRangeAxis, BarRenderer mainRenderer) {
    CategoryDataset catDataset = (CategoryDataset)dataset;
    CategoryPlot plot = new CategoryPlot(catDataset, domainAxis, mainRangeAxis, mainRenderer);
    plot.setOrientation(getModel().getPlotOrientation());
    plot.setBackgroundPaint(BACKGROUND_COLOR);
    plot.setDomainGridlinePaint(Color.white);
    plot.setRangeGridlinePaint(Color.white);
    return plot; 
```

然后我将新创建的图表放入 ChartComposite 视图中。

```
//creating composite for chart
        chartComposite = new ChartComposite(controlsComposite, SWT.NONE);
        chartComposite.setLayoutData(new GridData(GridData.FILL_BOTH));
        chartComposite.setVisible(false);
        chartComposite.addChartMouseListener(this);
// update chartcomposite when necessary
        chartComposite.setVisible(true);
        chartComposite.setChart(chart);
        chartComposite.setHorizontalAxisTrace(true);
        chartComposite.forceRedraw(); 
```

结果我有正确的图表，但所有工具提示都转移到视图/合成的右侧。此外，当我尝试选择一些图表区域时 - 选择不是从“0”点开始，但似乎也发生了变化。（见附图）

![在此处输入图像描述](../Images/47bd3b0ce1ed415e6af2dbf956dd18ae.png) ![在此处输入图像描述](../Images/27cdaf6eabe34a620a9044e3a39f70b6.png) 我很高兴听到有关此类行为的任何建议

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2015-02-23T12:22:20.357

我也有工具提示的错误。我想出的解决方法：

1）在 JFreeChart 的源代码中找到文件 ChartComposite.java 2）在第 1200 行（aprox）找到

```
 ChartEntity entity = entities.getEntity(
    e.x - insets.x /this.scaleX, 
    y.x - insets.y /this.scaleY); 
```

并删除这样的比例：

```
 ChartEntity entity = entities.getEntity(
    (e.x - insets.x), 
    (y.x - insets.y)); 
```

希望能帮助到你。

注意

# python - 使用 BeautifulSoup 拆分元素

> ID：12616912
> 
> 赞同：4
> 
> 时间：2012-09-27T08:17:20.660
> 
> 标签：python, split, beautifulsoup

我有一些用 BeautifulSoup 解析的 html 代码。要求之一是标签不嵌套在段落或其他文本标签中。

例如，如果我有这样的代码：

```
<p>
    first text
    <a href="...">
        <img .../>
    </a>
    second text
</p> 
```

我需要把它变成这样的东西：

```
<p>first text</p>
<img .../>
<p>second text</p> 
```

我已经做了一些事情来提取图像并将它们添加到段落之后，如下所示：

```
for match in soup.body.find_all(True, recursive=False):                
    try:            
        for desc in match.descendants:
            try:
                if desc.name in ['img']:      

                    if (hasattr(desc, 'src')):                            
                        # add image as an independent tag
                        tag = soup.new_tag("img")
                        tag['src'] = desc['src']

                        if (hasattr(desc, 'alt')):
                            tag['alt'] = desc['alt']
                        else
                            tag['alt'] = ''

                        match.insert_after(tag)

                    # remove image from its container                            
                    desc.extract()

            except AttributeError:
                temp = 1

    except AttributeError:
        temp = 1 
```

我编写了另一段删除空元素的代码（例如删除图像后留空的标签），但我不知道如何将元素拆分为两个不同的元素。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:23:20.823

```
import string
the_string.split(the_separator[,the_limit]) 
```

这将生成一个数组，因此您可以使用 for 循环遍历它或手动获取元素。

*   the_limit 不是必需的

在你的情况下，我认为 the_separator 需要是 "\n" 但这取决于具体情况。解析非常有趣，但有时很难做到。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-01T17:48:21.243

```
from bs4 import BeautifulSoup as bs
from bs4 import NavigableString
import re

html = """
<div>
<p> <i>begin </i><b>foo1</b><i>bar1</i>SEPATATOR<b>foo2</b>some text<i>bar2 </i><b>end </b> </p>
</div>
"""
def insert_tags(parent,tag_list):
    for tag in tag_list:
        if isinstance(tag, NavigableString):
            insert_tag = s.new_string(tag.string)
            parent.append(insert_tag)
        else:
            insert_tag = s.new_tag(tag.name)
            insert_tag.string = tag.string
            parent.append(insert_tag)

s = bs(html)
p = s.find('p')
print s.div
m = re.match(r"^<p>(.*?)(SEPATATOR.*)</p>$", str(p))
part1 = m.group(1).strip()
part2 = m.group(2).strip()

part1_p = s.new_tag("p")
insert_tags(part1_p,bs(part1).contents)

part2_p = s.new_tag("p")
insert_tags(part2_p,bs(part2).contents)

s.div.p.replace_with(part2_p)
s.div.p.insert_before(part1_p)
print s.div 
```

适合我，因为我不为此目的使用嵌套 HTML。诚然，它看起来仍然很尴尬。它在我的示例中产生

```
<div>
<p><i>begin </i><b>foo1</b><i>bar1</i></p>
<p>SEPATATOR<b>foo2</b>some text<i>bar2 </i><b>end </b></p>
</div> 
```

# c# - 使用 c# 在 Metro 应用程序中获取鼠标点上的像素颜色

> ID：12616914
> 
> 赞同：1
> 
> 时间：2012-09-27T08:17:30.097
> 
> 标签：c#, xaml, colors, microsoft-metro, pixels

我想使用 c# 在 Windows 8 Metro 应用程序中获取鼠标移动时的像素颜色。我找到了代码，但都在使用 win32.dll 。

但我不想使用win32.dll。

请帮助我在窗口 8 中找到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T09:10:18.130

你认为 Metro 应用程序支持获取彩色像素吗？我只是在窗口窗体、WPF 或 Android 上找到它，但在 Metro 应用程序中从未见过。可能 Windows 8 还没有 API 来做到这一点（或者还没有）。

> [在 Metro 应用程序中获取颜色像素（Windows 8）](https://stackoverflow.com/questions/16393846/get-color-pixel-in-metro-app-windows-8)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T08:31:41.150

在我看来，win32 在 Windows 8 中仍然可以正常工作。如果工作正常，为什么要更换它？因此，没有针对 Windows 8 的特定图形库。要获得新的 Windows 8 外观，最好使用 Windows Presentation Foundation，无论何时安装 .net 4.0，它都可以工作，因此甚至可以在 Windows 95 上工作。

我假设您想要一个具有新外观的解决方案，那么您应该在 WPF 中尝试这个解决方案：

[WPF：指针下的颜色](https://stackoverflow.com/questions/4492128/wpf-color-under-the-pointer)

或者

[http://www.codeproject.com/Articles/36848/WPF-Image-Pixel-Color-Picker-Element](http://www.codeproject.com/Articles/36848/WPF-Image-Pixel-Color-Picker-Element) （是的，可以在 WPF 中使用旧窗口）。

# sql - 我们如何通过使用sql server通过列数据知道是单字节还是双字节

> ID：12616918
> 
> 赞同：1
> 
> 时间：2012-09-27T08:17:38.293
> 
> 标签：sql, sql-server, string

我想知道数据是以单字节或双字节数据加载的，请找到如下粘贴的列数据：

```
حمد بخش مبار

select CTD_BENAC_NAME 
from NAME_TRAN_DETAILS 
where CTD_SEND_INS_REF ='FTSCWOK11074799' 
```

它将在结果中给出阿拉伯数据，现在我只想知道数据是在 Sqlserver 中以单字节还是双字节加载的，请问我该如何决定？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:19:58.597

这取决于该列的数据类型。在 SQL Server 中有两种字符数据类型——常规和 Unicode。常规数据类型是`CHAR`和`VARCHAR`。Unicode 数据类型，如`NCHAR`和`NVARCHAR`。对于常规字符，SQL Server 为每个字符使用一个字节的存储空间，而 Unicode 字符每个字符`NVARCHAR`使用两个字节。

您还可以使用以下方法获取字符串使用的字节`DATALEGNTH`数`LEN`：

```
SELECT DATALENGTH(inputstring); 
```

正如我稍后解释的那样，如果这`inputstring`是类型`NVARCHAR`或`N'string'` `DATALENGTH`会给你字节数。而这`LEN`将为您提供一个字符串中的字符数，并且该长度不一定是字节数。

`LEN`请注意， and之间的另一个区别`DATALENGTH`是`LEN`排除尾随空格，`DATALENGTH`而不排除尾随空格。此外，请注意这些函数，因为它取决于排序规则，因为[Varchar = single byte 并不总是正确的，正如下面的](https://stackoverflow.com/questions/176514/what-is-the-difference-between-char-nchar-varchar-and-nvarchar-in-mssql/8250586#8250586)[@MartinSmith 评论](https://stackoverflow.com/questions/12616918/how-can-we-know-by-column-data-whether-is-single-or-double-bytes-by-using-sql-se/12616950#comment17010086_12616950)所指出的那样。

这是一个演示，您可以自己尝试。

## [演示](https://data.stackexchange.com/stackoverflow/query/81031)

# websphere - WebSphere 6.1 的独立定制注册表

> ID：12616926
> 
> 赞同：1
> 
> 时间：2012-09-27T08:18:11.527
> 
> 标签：websphere

RSA 7.0 (WindowsXP) 的 WAS 6.1 我有一个安全的 servlet，我想使用我的数据库/表来验证用户 ID 和密码，但是当我打开 WAS 管理控制台并启用安全性并选择独立自定义注册表时，“主要管理用户名字段”我应该填写什么值？

我尝试输入一些诸如管理控制台的 ID、数据库用户 ID 和 WindowsXP 帐户，但总是收到错误消息说在用户注册表中找不到管理员 ID...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:34:16.967

您必须在自定义用户存储库中创建一个管理用户（在您的情况下，这是您存储用户的数据库/表），然后使用管理控制台配置此用户。错误消息告诉您在用户注册表中找不到您正在配置的用户，因此您应将其插入到注册表中，如上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T10:48:27.390

您必须开发自定义用户注册表类：[此处的详细信息](http://pic.dhe.ibm.com/infocenter/wasinfo/v6r0/index.jsp?topic=/com.ibm.websphere.nd.doc/info/ae/ae/tsec_tbucs.html)

或者，您可以使用联合数据库用户注册表：[此处的详细信息](http://www.ibm.com/developerworks/websphere/techjournal/0701_ilechko/0701_ilechko.html)

# java - Spring MVC 中带有文件上传和表单数据的 RESTful PUT

> ID：12616928
> 
> 赞同：7
> 
> 时间：2012-09-27T08:18:11.313
> 
> 标签：java, rest, spring-mvc, put

我正在使用 Spring MVC 来公开一些 RESTful Web 服务。提交表单时，其中一项操作需要 RESTful PUT 操作。

但是，表单不是普通的表单，因为它包含文件输入以及常规输入，例如文本和复选框。

我通过`HiddenHttpMethodFilter`在`web.xml`. 在我的表单中，我还`_method`发送了一个隐藏参数。

所有这些都适用于 DELETE、不上传文件的 PUT 等。当我尝试使用文件上传和表单数据进行 PUT 时，它给了我一个`405`.

```
HTTP Status 405 - Request method 'POST' not supported 
```

我的控制器方法如下所示：

```
@RequestMapping(value = "/admin/cars/{carId}", method = PUT, headers = "content-type=multipart/form-data")
public String updateCar(@PathVariable("carId") String carId, CarForm form) {
    // save and return the right view.
} 
```

我的 HTML 表单如下所示：

```
<form action="<c:url value='/admin/cars/${car.id}'/>" method="POST" enctype="multipart/form-data">
    <input type="hidden" name="_method" value="PUT" />
    <input type="text" name="carName" value="${car.name}" />
    <input type="file" name="photo" />
    <input type="submit" />
</form> 
```

使用 PUT，我想要实现的目标是否可行？如果是这样，如何让 Spring MVC 理解这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-27T08:32:29.680

**在您的 web.xml之前**添加[`MultipartFilter`](http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/web/multipart/support/MultipartFilter.html)以启用文件上传（如API 文档中所写，[请参阅 NOTE](http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/web/filter/HiddenHttpMethodFilter.html)）。 **`HiddenHttpMethodFilter``HiddenHttpMethodFilter`**

 **还：

> 注意：此过滤器是使用`DispatcherServlet`' `MultipartResolver`支持的替代方案，例如对于具有不使用 Spring 的 Web MVC 的自定义 Web 视图的 Web 应用程序，**或用于在 Spring MVC 之前应用的自定义过滤器`DispatcherServlet`（例如 `HiddenHttpMethodFilter`）**。在任何情况下，此过滤器都不应与特定于 servlet 的多部分解析结合使用。

*（来自 MF 的文档，强调我的）*

此外，**`MultipartResolver`的 bean 名称必须是`filterMultipartResolver`MultipartFilter 正常运行**（或必须通过 设置`<init-param>`）。

**编辑：**

~~正如我在上一条评论中所预料的那样，`CommonsMultipartResolver`默认情况下仅支持 POST 方法存在一个问题。~~（实际上，*isMultipartContent 中的方法以 POST 形式出现，即使它是 PUT，因为 MultipartFilter 是在 HiddenHttpMethodFilter 之前声明的。* [正如 OP 注释](https://stackoverflow.com/questions/12616928/restful-put-with-file-upload-and-form-data-in-spring-mvc/12617195#comment17013557_12617195)。）下面是扩展类，[它最初使用的静态方法](http://commons.apache.org/fileupload/apidocs/src-html/org/apache/commons/fileupload/servlet/ServletFileUpload.html#line.66)经过轻微修改：

```
public class PutAwareCommonsMultipartResolver extends CommonsMultipartResolver {

    private static final String MULTIPART = "multipart/";

    @Override
    public boolean isMultipart(HttpServletRequest request) {
        return request != null && isMultipartContent(request);
    }

    /**
     * Utility method that determines whether the request contains multipart
     * content.
     * 
     * @param request The servlet request to be evaluated. Must be non-null.
     * 
     * @return <code>true</code> if the request is multipart; {@code false}
     * otherwise.
     * 
     * @see ServletFileUpload#isMultipartContent(HttpServletRequest)
     */
    public static final boolean isMultipartContent(HttpServletRequest request) {
        final String method = request.getMethod().toLowerCase();
        if (!method.equals("post") && !method.equals("put")) {
            return false;
        }
        String contentType = request.getContentType();
        if (contentType == null) {
            return false;
        }
        if (contentType.toLowerCase().startsWith(MULTIPART)) {
            return true;
        }
        return false;
    }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:25:19.030

实际上，`PUT`接收二进制流而不是多部分数据。您可以使用`org.springframework.web.filter.HiddenHttpMethodFilter`它来使其工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-11T19:19:11.560

如果有人对替代解决方案（带有 PUT 方法的 MultipartResolver）感兴趣，例如强制执行 Restful 样式，您可以看看[Spring 3.0 FileUpload only with POST?](https://stackoverflow.com/questions/7981640/spring-3-0-fileupload-only-with-post/33658066#33658066) .**

# ios - 如何在 iOS 上处理不同的环境？

> ID：12616930
> 
> 赞同：2
> 
> 时间：2012-09-27T08:18:17.060
> 
> 标签：ios, xcode, app-store

我在 App Store 上有一个应用程序，我仍在为其编写功能，所以大多数时候我需要在我的手机和开发人员上拥有生产版本。版本也是如此。

我设法通过手动更改捆绑ID来做到这一点，但每次都这样做有点累。

是否有任何框架、SDK 或最佳实践可用于处理这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T12:15:33.447

创建另一个目标。确保原始文件中的所有文件都在第二个文件中，但具有捆绑 ID 的 plist 文件除外。请记住始终向两个目标添加新文件。现在，您可以通过选择要构建的目标轻松构建一个目标或另一个目标。

我正是这样做来构建一个 iPhone、iPad 和 Universal 应用程序，并且有一段时间需要前两个，直到第二个正常工作。

# email - 我可以使用回复来区分退回和真实回复吗？

> ID：12616931
> 
> 赞同：2
> 
> 时间：2012-09-27T08:18:18.600
> 
> 标签：email, header, smtp, email-address, email-bounces

做批量电子邮件时，我面临着退回发件人地址泛滥的常见问题。

在我的设置中，该`From`字段等于来自的信封。所以我正在考虑以下几点：

*   将`noreply@`（黑洞）放入`From`信封并从中发送反弹；
*   将一个真实的邮箱放入`Reply-To`，这是应该发送实际回复（我不想错过）的地方。

但是：我在网上阅读了一些关于这个问题的讨论，并且共识似乎是：使用真实的邮箱`From`和信封，然后在你自己这边使用启发式方法来区分退回/自动回复和真实回复.

那么这是首选方法吗，为什么？我的设置会不起作用，为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T08:26:08.687

退回邮件应该发给信封发件人，回复发件人：地址（或回复：如果您指定，但一些脑残客户会忽略它......不出所料，微软是违规者之一）。退回处理的标准解决方案是使用[VERP](http://en.wikipedia.org/wiki/Variable_envelope_return_path)。如果您不在乎谁退回，只需将退回框作为信封发件人即可。

并非所有 MTA 都热衷于退回信封发件人，但恕我直言，取消订阅在当今时代在 SunOS 3 或 Macintosh System 6 上运行邮件服务器的用户并不是特别严厉的恕我直言。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:25:30.820

好吧，一个潜在的问题是，一些邮件提供商（例如雅虎邮箱）会查看电子邮件来自的电子邮件地址，如果它是“noreply”类型的地址，他们将禁用快速回复框并将其替换为一条消息上面写着“如果您回复，发件人将不会收到您的答复”（或类似的内容）。

不是 100% 确定如果指定了回复地址，它是否会看到差异，但这只是要记住的事情！

# python - Python 类和命名空间？

> ID：12616933
> 
> 赞同：1
> 
> 时间：2012-09-27T08:18:33.913
> 
> 标签：python, class, namespaces

假设我想定义一个类名 MyClass。

我想使用那个类。所以，

```
class MyClass():

    blabla

MyClass = MyClass(abc) 
```

说我想创建一个函数并在该函数中使用 MyClass 。我发现以下代码将通过异常：

```
def MyFunction():
    MyClass = MyClass(abc)

MyFunction(123) 
```

有什么帮助吗？我可以这样做

```
 Myclass1 = MyClass(abc) 
```

但我认为我缺少一些关于命名空间的基本知识。谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:20:15.610

当你执行

```
MyClass = MyClass(abc) 
```

您正在创建 的新实例`MyClass`，并将其分配给类本身，而使用`Myclass1 = MyClass(abc)`，您不会覆盖该类。覆盖类不应该抛出异常（异常可能`MyFunction()`与使用参数调用您的方法有关，因为它不需要任何参数，或者可能`MyClass`使用参数调用构造函数，因为这也不需要任何参数)，但我想这不是你打算做的。

`Myclass1 = MyClass(abc)`对我来说看起来不错（除了传递的参数），尽管我建议对变量使用`myClass1`（甚至更好，通常使用的 python 样式`my_class1`），而不是大写第一个字母，因为它可以防止混淆哪个对象是一个类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:35:11.677

```
MyClass = MyClass(abc) 
```

上面的行与执行此操作相同：

```
def x():
   print 'Hello'
   return 'Hello'

x() # outputs Hello
x = x() # Also ouputs 'Hello' (since x() is called)
x() # Error, since x is now 'Hello' (a string), and you are trying to call it. 
```

在 python 中，变量的*名称*只是指向内存中某个位置的指针。您可以通过将其指向其他东西来自由地将其分配给另一个位置（对象）。事实上，你定义的大多数东西都是这样工作的（比如方法和类）。它们只是名字。

如果您的方法没有返回值（像大多数类`__init__`方法一样），那就更奇怪了。在这种情况下，左边是`None`，你会得到`TypeError: 'NoneType' object is not callable`。像这样：

```
>>> def x():
...   print 'Hello'
...
>>> x()
Hello
>>> x = x()
Hello
>>> x()
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'NoneType' object is not callable
>>> type(x)
<type 'NoneType'> 
```

# php - 从3个mysql表中提取相关数据并输出为列表项

> ID：12616934
> 
> 赞同：-2
> 
> 时间：2012-09-27T08:18:37.893
> 
> 标签：php, menu, html-lists

我有一系列将用于创建菜单系统的 MySQL 表。

这些是表格：Section - SubCategory1 - SubCategory2

数据以下列方式关联： 第 1 节是菜单中的主要标题。SubCategory1 是 Section 表的子类别 Subcategory1 是对 Subcategory2 部分的进一步细化。

它们包含以下内容：

```
SECTION
idSection, strSection, strSectionURL

SUBCATEGORY1
idSubCategory1, idSection, strSubCategory1

SUBCATEGORY2
idSubcategory2, idSubCategory1, strSubCategory2 
```

如您所见，每个表都有对其上方表格的引用，该表始终是其所属部分或小节的参考编号。

我需要一系列无序列表中的输出，以便我可以将其格式化为菜单系统。

*   部分

*   子类别 1

*   子类别 2

任何帮助将不胜感激。

菲尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:27:58.090

用这个

```
$sql = mysql_query("select * from section");
echo "<ul>";
while($row = mysql_fetch_array($sql))
{
    echo "<li>$row[strSection]</li>";
    $sql1 = mysql_query("select * from SUBCATEGORY1 where idSection ='$row[strSection]' ");
    echo "<ul>";
    while($row1 = mysql_fetch_array($sql1))
    {
        echo "<li>$row1[strSubCategory1]</li>";
        $sql2 = mysql_query("select * from SUBCATEGORY2 where strSubCategory1 ='$row[strSubCategory1]' ");
         echo "<ul>";
         while($row2 = mysql_fetch_array($sql2))
         {
              echo "<li>$row1[strSubCategory2]</li>";
         }
         echo "</ul>";
    }
    echo "</ul>";
}
echo "</ul>"; 
```

但我强烈建议使用`Mysqli`OR`PDO`而不是`mysql`. 这将按照您指定的列表顺序打印。

# postgresql - postgresql 共享内存设置

> ID：12616935
> 
> 赞同：12
> 
> 时间：2012-09-27T08:18:42.943
> 
> 标签：postgresql, shared-memory

大家好！

我们目前有以下与共享内存相关的参数：

**postgres**

```
shared_buffers = 7GB
max_connections = 1 500
max_locks_per_transaction = 1 024
max_prepared_transactions = 0 (not set) 
```

**系统**

```
SHMALL = 2 097 152
SHMMAX = 17 670 512 640
SHMMNI = 4096 
```

RAM 数量为 24 693 176k

我们需要将**max_connections**增加到 3 000。当我们尝试这样做时，我们得到了一个错误

```
[1-1] FATAL:  could not create shared memory segment: No space left on device
[2-1] DETAIL:  Failed system call was shmget(key=5432001, size=8964661248, 03600)
[3-1] HINT:  This error does *not* mean that you have run out of disk space.
It occurs either if all available shared memory IDs have been taken, in which
case you need to raise the SHMMNI parameter in your kernel, or because the
system's overall limit for shared memory has been reached.  If you cannot
increase the shared memory limit, reduce PostgreSQL's shared memory request
(currently 8964661248 bytes), perhaps by reducing shared_buffers or
max_connections.
The PostgreSQL documentation contains more information about shared memory
configuration. 
```

提示建议增加**SHMMNI**内核参数，但我不确定要添加多少 :) 另外，我相信所有这些参数都以某种方式相关，所以我们是否需要相应地更改任何其他参数？

提前致谢，

亚历山大

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-27T10:47:03.180

增加`SHMMNI`将无济于事，这是提示的第二部分，这里很重要。

使用 shell 命令获取系统的页面大小`getconf PAGE_SIZE`。
通常是 4096。乘以`SHMALL`。

在您的情况下，应该是 2097152 * 4096 = 8589934592，正好是 8Gb。这是您当前的最大共享内存，独立于`SHMMNI`.

PostgreSQL 错误消息表明它需要的远不止这些。

结论：增加`SHMALL`。

# batch-file - 如何批量设置数字范围作为错误级别？

> ID：12616939
> 
> 赞同：1
> 
> 时间：2012-09-27T08:18:56.207
> 
> 标签：batch-file, command, range, choice, errorlevel

我有这个脚本批处理，并得到了一系列问题 1 - 12。
我所有的代码都有效，但我似乎无法找到一个代码来扔到我的批处理中，以针对所选的无效范围抛出错误消息

示例：如果我选择 13，它不是选项的一部分，它会自动转到 1。
我希望从 13 开始的所有数字都显示“无效选项”，然后默认返回选择菜单。

我没有在批处理中使用 shift 命令，因为我只是使用了以下代码

```
set /p choice=Type the number that corresponds to the Step you want to take.
if not '%choice%'=='' set choice=%choice:~0% 
```

请注意，`~0`允许我使用传递 9 的数字，而不是使用 shift 命令。
不过，我需要代码来说明用户是否输入 13 或 up 并出现错误。
有任何想法吗？换句话说，如果选择在 13 - 999 范围内，则显示错误。

***更新***

好的，我查看了我的代码并意识到我错过了一行代码。这是

*@echo "%choice%" 不是有效的选择/选项*

看来我的编码是正确的，我给出了*'%choice%'==''*我只是没有留下回声说选择是错误的。原来我在那里不需要任何错误级别。

希望这可以帮助某人

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T15:31:30.347

澄清一下：如果选择大于13，以下代码将输出错误语句，并将输入的值设置为输入的第一个字符

`@echo off`

`SET /P choice=Type the number that corresponds to the Step you want to take.`

`IF %choice% GTR 12 GOTO Error`

`ECHO You entered %choice%`

`GOTO End`

`:Error`

`ECHO %choice% is not a valid selection/option`

`set choice=%choice:~0,1%`

`ECHO %choice%`

`:End`

# editor - liferay CK 编辑器值在重新渲染后丢失

> ID：12616941
> 
> 赞同：0
> 
> 时间：2012-09-27T08:18:58.507
> 
> 标签：editor, ckeditor, liferay, taglib, icefaces-3

这是我的代码，只是简单的测试，使用 1`<liferay-ui:input-editor />`和 1 按钮调用服务器并切换 [render] 值（true [render as default] - false）我第一次加载这个 CK 它显示我的值 [这是.... .]，点击[test it]按钮，然后再次点击重新渲染CK编辑器，我的值没了！？谁能告诉我为什么？我试过，将 [render] = false 设置为默认值，当单击按钮时，CK 用我的值渲染，但不是在第二次重新渲染时。ps：liferay 6.1 ga 1 和 icefaces 3

```
 <h:form id="test">
       <ice:panelGroup rendered="#{CchcDmFeedbackController.render == true}">
           <liferay-ui:input-editor toolbarSet="editInPlace" value="this is my test text value"/>
       </ice:panelGroup>
       <ice:commandButton value="test it" actionListener="#{CchcDmFeedbackController.actionTest}"/>
    </h:form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T23:05:15.583

请参考以下问题：

[http://issues.liferay.com/browse/FACES-1422](http://issues.liferay.com/browse/FACES-1422) liferay-ui:input-editor 在与 ICEfaces 一起使用时在 Ajax 回发期间导致无效的 DOM 差异

对此的修复将出现在下一个版本中。[现在，您可以从快照存储库](https://oss.sonatype.org/content/repositories/snapshots/com/liferay/faces/)中试用 SNAPSHOT 版本。

现在，事实证明我在几个小时前发现了另一个类似的问题：

[http://issues.liferay.com/browse/FACES-1435](http://issues.liferay.com/browse/FACES-1435) p_p_auth URL 参数导致 ICEfaces 的 DOM diff 效率低下

...而且我正在积极进行修复。请单击 JIRA 问题上的“观看”链接以获取更新。

# objective-c - Objective-c 将参数传递给视图

> ID：12616943
> 
> 赞同：0
> 
> 时间：2012-09-27T08:19:00.623
> 
> 标签：objective-c, view, uiview, parameter-passing

我正在做一个研究应用程序，从介绍到另一个视图通过 4 个自定义按钮。每个按钮都绑定一个 url，它作为参数传递给转到另一个视图的 segue，如果有一个 webview 显示给定的 url。一切正常，但有一个奇怪的错误：我第一次触摸第一个视图中的每个按钮时，一个空值一直传递给另一个视图，一切正常......

这是代码：

```
///this is the action linked to the buttons
- (IBAction)go:(id)sender
{
    [self performSegueWithIdentifier:@"MySegue" sender:sender];

    if (sender==btnImg1){
        linkz = linkUrl1;
    }else if (sender==btnImg2){
        linkz = linkUrl2;
    }else if (sender==btnImg3){
        linkz = linkUrl3;
    }else if (sender==btnImg4){
        linkz = linkUrl4;
    }
      NSLog(@"msg: %@", linkz);
}

- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([[segue identifier] isEqualToString:@"MySegue"]) {
        // Get the destination view
        SecondView *og = [segue destinationViewController];
        // Set the selected vaue in the new view
        [og setNavigationUrl:linkz];
    }
} 
```

任何想法为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T09:02:32.203

您应该`linkz`在调用之前设置`[self performSegueWithIdentifier:]`。

# android - 如何在android中获取蓝牙低功耗设备的连接状态

> ID：12616947
> 
> 赞同：2
> 
> 时间：2012-09-27T08:19:36.930
> 
> 标签：android, bluetooth, bluetooth-lowenergy

以下是android用来获取连接摘要的代码（显示连接状态标签）

```
 private int getConnectionSummary() {
      ...........................
      ...........................
      for (LocalBluetoothProfile profile : cachedDevice.getProfiles()) {
            int connectionStatus = cachedDevice.getProfileConnectionState(profile);

            switch (connectionStatus) {
                case BluetoothProfile.STATE_CONNECTING:
                case BluetoothProfile.STATE_DISCONNECTING:
                    return Utils.getConnectionStateSummary(connectionStatus);

                case BluetoothProfile.STATE_CONNECTED:
                    profileConnected = true;
                    break;

                case BluetoothProfile.STATE_DISCONNECTED:
                    if (profile.isProfileReady()) {
                        if (profile instanceof A2dpProfile) {
                            a2dpNotConnected = true;
                        } else if (profile instanceof HeadsetProfile) {
                            headsetNotConnected = true;
                        }
                    }
                    break;
            }
        } 
```

从上面的代码可以看出，它们使用以下代码行获取 Classic 设备的连接状态：

```
int connectionStatus = cachedDevice.getProfileConnectionState(profile); 
```

`getConnectionSummary()`无论是 Classic 还是 Bluetooth Low energy 设备尝试连接，android 系统都会调用该方法；但与经典设备不同的是，由于我们没有获取蓝牙低功耗设备的连接状态的方法，因此我们无法正确更新低功耗设备的连接状态。

这个类的完整源代码可以在[这里找到](http://source-android.frandroid.com/packages/apps/Settings/src/com/android/settings/bluetooth/BluetoothDevicePreference.java)

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T08:40:21.630

您正在使用的低功耗蓝牙开发套件是什么？

截至目前，Android 没有用于蓝牙低功耗设备的原生 API。您可能必须使用第三方 API，例如 Broadcomm 或 TI 或 CSR 的 BLE。

[http://code.google.com/p/broadcom-ble/](http://code.google.com/p/broadcom-ble/)

摩托罗拉蓝牙低功耗 API [http://developer.motorola.com/docs/bluetooth-low-energy-api/](http://developer.motorola.com/docs/bluetooth-low-energy-api/)

您可以查看此页面以获取有关选择开发套件的更多信息。 [BTLE（低功耗蓝牙）开发套件 - 必须具有接近配置文件](https://stackoverflow.com/questions/12370593/btle-bluetooth-low-energy-development-kit-must-have-proximity-profile?rq=1)

# php - 使用 MIME 和 smtp 后端发送电子邮件时，是否有可靠的方法来设置回复和返回路径？

> ID：12616948
> 
> 赞同：0
> 
> 时间：2012-09-27T08:19:44.923
> 
> 标签：php, email

我正在尝试改进我们网站的电子邮件功能，并开始构建报告、取消订阅选项等。问题是我无法可靠地将退回邮件发送到我选择的地址。

我希望客户能够发送退回到特定地址的时事通讯，同时仍回复发件人地址，以便我可以计算退回邮件并从中构建我的报告；而客户仍然可以看到回复，而不会被退回的电子邮件弄得一团糟。有没有办法可靠地做到这一点？（例如，我发现无论我做什么，谷歌都不会接受我的回复和返回路径标题）

我想让客户为可以退回的大量电子邮件设置另一个地址（这样他们就不必担心他们的公司电子邮件会被我的脚本探测）但是如果他们想看到对他们的大量电子邮件的回复怎么办？

简而言之，有没有一种方法可以发送具有特定回复和返回路径的电子邮件，大多数电子邮件服务器都能正确解释？

唯一的条件是，它必须是经过身份验证的 smtp。

# android - 如何检查设备上是否安装了电子邮件客户端

> ID：12616954
> 
> 赞同：8
> 
> 时间：2012-09-27T08:20:07.270
> 
> 标签：android

我需要检查设备上是否安装了电子邮件客户端。我使用了以下代码，但它对我不起作用。

```
public boolean isIntentAvailable() {
    final PackageManager packageManager = getApplicationContext().getPackageManager();
    final Intent intent = new Intent(Intent.ACTION_SEND);
    intent.putExtra(Intent.EXTRA_EMAIL, "vin@gmail.com");
    List<ResolveInfo> list = packageManager.queryIntentActivities(intent, PackageManager.GET_META_DATA);
    return list.size() > 0;
} 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-27T08:34:39.523

使用这个，对我有用：

```
public static boolean isMailClientPresent(Context context){
    Intent intent = new Intent(Intent.ACTION_SEND);
    intent.setType("text/html");
    final PackageManager packageManager = context.getPackageManager();
    List<ResolveInfo> list = packageManager.queryIntentActivities(intent, 0);

    if(list.size() == 0)
        return false;
    else 
        return true;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-05-07T11:25:19.157

对于电子邮件客户端，具体来说，您应该使用：

```
intent.setType("message/rfc822"); 
```

代替：

```
intent.setType("text/html"); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-12-06T08:11:52.993

使用这个方法：

```
 private fun sendEmail(to: Array<String>) {
        val intent = Intent(Intent.ACTION_SENDTO)
        intent.data = Uri.parse("mailto:") // only email apps should handle this
        intent.putExtra(Intent.EXTRA_EMAIL, to)
//        intent.putExtra(Intent.EXTRA_SUBJECT, subject)
        if (intent.resolveActivity(requireContext().packageManager) != null) {
            startActivity(intent)
        }
    } 
```

为了能够在针对 api 30 时检查电子邮件客户端，请将“查询”添加到清单中：

```
<queries>
    <intent>
        <action android:name="android.intent.action.SENDTO" />
        <data android:scheme="*" />
    </intent>
</queries> 
```

# azure - SQL Azure - 在 Master 上更改数据库版本

> ID：12616965
> 
> 赞同：1
> 
> 时间：2012-09-27T08:20:52.707
> 
> 标签：azure, web, azure-sql-database

在我们的 SQL Azure 帐户中删除其中一个数据库，然后创建它的新更新版本时，它被设置为 Business 50GB（是的，我知道您可以使用简单的脚本更改版本）。到目前为止，一切都很好。

但是我们的主数据库仍然设置为网络版，我不知道如何更改它，因为上述脚本在这里不起作用。

我的挑战是，我不能放弃服务器并为我们当前的基础设施提供商创建一个新的做，他们非常保守，不愿意将防火墙和 DNS 更改为新服务器。

是否有一种简单的方法可以更改 master 上的版本 - 还是 Azure 会自动更改？

我担心的是，网络版（主数据库）可能会超过 5GB 的限制？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T11:14:15.297

我想知道为什么您认为您可能会超出 SQL Azure 中的主数据库。首先，您的主数据库是只读的。它用于存储有关所有其他数据库的信息（最多 149 个，不是一个大数字）、数据库登录和一些统计信息。

来自“ [Windows Azure SQL 数据库供应模型](http://msdn.microsoft.com/en-us/library/windowsazure/ee336227.aspx)”：

> 供应过程会自动创建一个只读主数据库。主数据库跟踪哪些登录名有权创建数据库或其他登录名。每当您创建、更改或删除登录名或数据库时，您都必须连接到主数据库。主数据库还提供您可以查看的 SQL 数据库使用指标。

坦率地说，如果您在 Windows Azure 中达到了 Master DB 的 5G，只需联系支持人员，但我怀疑它不会很快发生。

# joomla2.5 - Joomla 2.5 在模块中显示联系人

> ID：12616967
> 
> 赞同：0
> 
> 时间：2012-09-27T08:20:59.000
> 
> 标签：joomla2.5

是否可以在模块中放置 Joomla 2.5 联系人？

我知道如何将联系人（组）分配给菜单，但找不到将其放入模块的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T09:58:31.700

您可以为此编写一个自定义模块；不是自定义 html，而是 PHP 中的一个。关于如何在模块中显示信息的示例：

```
<?php
defined('_JEXEC') or die;

$db = JFactory::getDBO();
$db->setQuery('SELECT name, country FROM #__contact_details WHERE id = 1');
$contact = $db->loadObject();

$html = '<p>Name: ' . $contact->name . '</p>' .
        '<p>Country: ' . $contact->country . '</p>';

echo $html;
?> 
```

上面的示例从 ID = 1 的用户中选择姓名和国家/地区。您可以允许用户在插件设置中输入参数以手动指定 ID，但这需要一些额外的工作。

如果您需要更多详细信息或帮助，请随时询问:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T21:04:04.623

您可以使用自定义 html 模块 - 使用 firebug 为联系人提取 html，然后将其粘贴到自定义 html 模块中，瞧，您可以将其放在任何您想要的地方

# java - Initialization On Demand Holder 习惯用法的用法是给 NoClassDefFoundError

> ID：12616968
> 
> 赞同：2
> 
> 时间：2012-09-27T08:21:04.783
> 
> 标签：java, singleton, lazy-loading

我正在尝试在我的代码中为延迟加​​载的数据库连接管理器实现 Initialization On Demand Holder 习惯用法

```
Class ConfigurationAgent{
private ConfigurationAgent(){
    String baseDir = "XYZ";
}
private static class LazyLoader{
    private static final ConfigurationAgent instance = new ConfigurationAgent();
}
public static ConfigurationAgent getInstance(){
    ConfigurationAgent cfg = LazyLoader.instance;
    return cfg;
}
} 
```

现在我正在使用下面的另一个类调用这个 ConfigurationAgent 的实例：

```
ConfigurationAgent agent = ConfigurationAgent.getInstance(); 
```

在这种情况下，我收到 ExceptionInInitializerError 后跟 java.lang.NoClassDefFoundError 错误。

我的猜测是静态类 LazyLoader 没有正确加载，因此调用“LazyLoader.instance”会出现此问题。（此问题在以下 wiki 链接中提到，但没有任何解决方案[http://en.wikipedia.org/wiki/Initialization_on_demand_holder_idiom](http://en.wikipedia.org/wiki/Initialization_on_demand_holder_idiom)）请让我知道如何解决此问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-11T04:22:25.667

正如对问题的评论中已经写的那样：很可能**在构造函数中抛出了一个异常**，然后显示为`java.lang.NoClassDefFoundError`. 检查堆栈跟踪。

*（我遇到了同样的问题，所以帮助仔细研究了构造函数，我喜欢接受答案的问题，所以这是我的综述。）*

# javascript - 没有为 dojo 的 DataGrid 触发事件

> ID：12616974
> 
> 赞同：1
> 
> 时间：2012-09-27T08:21:23.747
> 
> 标签：javascript, ajax, dojo

我有一个连接到某个商店的 DataGrid。我希望它在进行更改后立即保存。

只有一个可编辑的列具有 3 选项下拉设置为始终编辑，定义如下：

```
 <table data-dojo-type="dojox.grid.EnhancedGrid" id="leaveGrid" data-dojo-id="leaveGrid"
                     selectable=false singleClickEdit="true">
                <thead>
                    <tr>
                        <th field="TITLE" width="25%">Title</th>
                        <th field="REQUESTEDON" width="15%">Requested</th>
                        <th field="CODE" width="15%">Code</th>
                        <th field="LEAVEDATE" width="15%">Leave Date</th>
                        <th field="HRS" width="15%">Hours</th>
                        <th field="STATUS" width="15%" editable="true" alwaysEditing="true" cellType="dojox.grid.cells.Select" options='<?php echo $this->statusOptions;?>'>Status</th>
                    </tr>
                </thead>
            </table> 
```

下拉列表的选项由 php 填充，但这应该不是问题。

我进行以下连接：

```
dojo.connect(gridStore, 'onSet', saveStore); 
```

它处理商店的保存。

现在的问题是我点击下拉菜单，更改选项，然后......什么也没有发生。除非我按回车键或单击屏幕上的其他位置（如果愿意，可以更改焦点或选择），否则不会触发任何事件；只有这样事件才会触发。

我应该使用不同的事件吗？一旦用户更改了这些数据并且无需进一步交互，我该怎么做才能保存这些数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T08:18:01.623

您可以在这里做几件事：

1) 使用 onClick 而不是 onSet

2) 使用需要 Enter 键或模糊的 onApplyCellEdit 事件。您可以向用户显示有关如何使用内联编辑的工具提示

3) 检查网格生成的 html 并将处理程序附加到选择下拉列表的 id/class/name

# java - 如何启动获取文件锁并相互等待的并发线程

> ID：12616975
> 
> 赞同：0
> 
> 时间：2012-09-27T08:21:27.920
> 
> 标签：java, multithreading, file-io, thread-safety, file-locking

我在`FileLock`上课。我想要做的是启动三个`Threads`将同时运行并访问一个文件。当文件被一个线程锁定时，我希望其他两个线程在释放锁时等待轮到它们。但是，当我在下面运行我的代码时，线程甚至不会同时启动——它们会一个接一个地启动，只要它们的每个`run()`方法完成。我不明白。

```
public class Main {

    public static void main(String[] args) {
        Main m = new Main();
        SomeThread t1 = m.new SomeThread("t1");
        SomeThread t2 = m.new SomeThread("t2");
        SomeThread t3 = m.new SomeThread("t3");
        t1.run();
        t3.run();
        t2.run();
    }

    class SomeThread implements Runnable {
        String name;

        public SomeThread(String s) {
            name = s;
        }

        @Override
        public void run() {
            System.out.println(name + " started!");
            OtherClass.access(name);
        }
    }

    static class OtherClass {
        static File file = new File("testfile.txt");

        public static void access(String name) {
            FileChannel channel = null;
            FileLock lock = null;
            try {
                channel = new RandomAccessFile(file, "rw").getChannel();
                lock = channel.lock();
                System.out.println("locked by " + name);
                Thread.sleep(3000);
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } finally {
                if (lock != null) {
                    try {
                        lock.release();
                        System.out.println("released by " + name);
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                }
                if (channel != null) {
                    try {
                        channel.close();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                }
            }
        }
    }
} 
```

我怎样才能实现我想要达到的场景？为什么他们不同时开始？我认为该`lock()`方法只会使访问同一文件的其他线程等到锁被释放。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T08:23:21.087

线程以 开头`Thread.start`，而不是`Thread.run`。`run`只会`run`在主线程上按顺序调用该方法。

您甚至实际上都没有创建线程：

```
public static void main(String[] args) {
    Main m = new Main();
    Thread t1 = new Thread(m.new SomeThread("t1"));
    Thread t2 = new Thread(m.new SomeThread("t2"));
    Thread t3 = new Thread(m.new SomeThread("t3"));
    t1.start();
    t2.start();
    t3.start();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:35:30.420

忘了它。它行不通。文件锁代表整个进程，而不是单个线程。

# asp.net-mvc - Json 字段顺序

> ID：12616976
> 
> 赞同：2
> 
> 时间：2012-09-27T08:21:35.140
> 
> 标签：asp.net-mvc, json, ravendb

我有一个用 RavenDB 存储的模型，以这种方式完成：

```
public abstract class Animal
{
   public string Id { get; set; }
   public int LegsNumber { get; set; }
}

public class Giraffe: Animal
{
   public double NeckLength { get; set; }
} 
```

在我的 MVC 控制器中，我查询所有 Giraffe 并以这种方式将结果放入 Json 格式：

```
return new JsonResult 
{ 
   JsonRequestBehavior = System.Web.Mvc.JsonRequestBehavior.AllowGet, 
   Data = DocumentSession.Query<Giraffe>() 
}; 
```

输出类似于

```
[{"NeckLength":2.5, "Id":"bob", "LegsNumber":4}, {...}, ...] 
```

如何自定义字段顺序以获得如下结果：

```
[{"Id":"bob", "LegsNumber":4, "NeckLength":2.5}, {...}, ...] 
```

?

如果您很好奇并且想知道我为什么要更改顺序是因为我有一个通用的 javascript 片段，它可以获取 json 并按原样打印出来：

```
 for (var field in data[0]) {
    var row = '<tr>';
    row += '<td><b>' + field + '</b></td>'

    $.each(data, function (i, value) {
       row += '<td>' + value[field] + '</td>'
    });

    row += '</tr>';
    result += row;
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T03:54:02.237

尝试使用 JsonPropertyAttribute 将您的字段归因于这样：

```
public abstract class Animal
{
   [JsonProperty(Order = 0)]
   public string Id { get; set; }

   [JsonProperty(Order = 1)]
   public int LegsNumber { get; set; }
}

public class Giraffe: Animal
{
   [JsonProperty(Order = 2)]
   public double NeckLength { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T11:35:18.317

Json 不提供基于索引的访问。相反，您可以尝试这样的事情

```
for (int i = 0; i < Data.length(); i++) {
 var item=Data.[i];

 var row = '<tr>';
  row += '<td><b>' +item['Id'] + '</b></td>'+'<td><b>' +item['LegsNumber'] + '</b></td>'
 +item['NeckLength'] + '</b></td>'+'<tr>';
} 
```

# java - Google Guice 中的显式提供程序绑定

> ID：12616981
> 
> 赞同：1
> 
> 时间：2012-09-27T08:21:58.947
> 
> 标签：java, android, guice

类`ShinyCoinProvider`和`RustyCoinProvider`两者都实现`Provider<Coin>`并且每个都产生一个`Coin`具有略微不同属性的对象。

另一组两个客户端类`RichPlayer`，需要一个由 Guice 库自动注入`PoorPlayer`的实例。`Coin`

现在 Guice 需要`ShinyCoinProvider`在课堂`Richplayer`中`RustyCoinProvider`使用。`PoorPlayer`

因此简单，`bind().toProvider()`在这里还不够。

如何将不同的提供者显式绑定到不同的客户端类，其中提供的对象是相同类型的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-29T23:13:53.663

*Turtledove*的答案称为带*注释的绑定*，如果您可以控制 RichPlayer 和 PoorPlayer，这将很有意义。它还使您能够从同一类中请求闪亮的硬币和生锈的硬币。但是，如果您愿意，您也可以使用[*私有模块*](http://google-guice.googlecode.com/git/javadoc/com/google/inject/PrivateModule.html)。

```
class CoinModule extends AbstractModule {
  @Override public void configure() {
    install(new PrivateModule() {
      @Override public void configure() {
        bind(Coin.class).toProvider(ShinyCoinProvider.class);
        bind(RichPlayer.class);
        expose(RichPlayer.class);
      }
    });
    install(new PrivateModule() {
      @Override public void configure() {
        bind(Coin.class).toProvider(RustyCoinProvider.class);
        bind(PoorPlayer.class);
        expose(PoorPlayer.class);
      }
    });
  }
} 
```

基本上，这会安装两个匿名内部模块，每个模块绑定一个不同的播放器，这样即使没有注释，RichPlayer*和 RichPlayer 的任何依赖项，以及它的依赖项的任何依赖项等都*将使用 ShinyCoinProvider。PoorPlayer 和 RustyCoinProvider 也是如此。这可能比带注释的绑定更难理解，但也更强大一些——也许从这里你可以减少 RichPlayer 和 PoorPlayer 以使用相同的具体类，或者创建两个播放器实现都使用的 CoinPurse 类，简单地注入`Provider<Coin>`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T08:29:23.043

试试这个：

```
bind(Coin.class).annotatedWith(Names.named("richplayer")).toProvider(ShinyCoinProvider.class) 
```

并在 Richplayer 中使用 @Named("richplayer") 注释 Coin 字段，如下所示：

```
@Inject
@Named("richplayer")
private Coin coin; 
```

# eclipse - Eclipse 4\. 产品依赖与插件依赖

> ID：12616985
> 
> 赞同：0
> 
> 时间：2012-09-27T08:22:10.983
> 
> 标签：eclipse, eclipse-rcp

我是 eclipse 的新手（尝试做一个 eclipse rcp 应用程序）并且有很多我不明白的事情。其中之一是插件依赖项（据我了解在清单中指定）和产品依赖项（在产品文件中指定）之间的关系（如果有的话）。从我的角度来看，产品必须依赖于插件并传递地依赖于所有插件依赖项（maven 方式），但它当然不是那么简单。有人可以解释这些概念（或者如果你知道一个好的链接把它扔在这里）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T13:39:03.097

产品依赖项定义了哪些插件将在运行时可用并包含在产品导出/构建中。

MANIFEST.MF 中定义的依赖项是解析此捆绑包所必需的。

例如：您有 Bundle_A、Bundle_B 和 Bundle_C。Bundle_A 依赖于 Bundle_B。Bundle_C 没有要求，但只是使用扩展点扩展 Bundle_A（这就像可选的）。

如果您在产品中添加 Bundle_A 并按“添加所需插件”，则会出现 Bundle_B。因为它需要解决它。Bundle_C 不是必需的，当您自己添加它时，它只会在您的应用程序中可用。

希望任何人都可以证实这一点。

编辑：您可以在[Eclipse Juno Help](http://help.eclipse.org/juno/index.jsp) -> Plugin-in Development Enviroment -> Concepts -> product" 下找到一些附加信息

# c++ - C++ 字符串内存复用优化

> ID：12616988
> 
> 赞同：1
> 
> 时间：2012-09-27T08:22:24.963
> 
> 标签：c++, string, performance

`tmp`我想知道是否可以在下面的代码中重用字符串内存。它的内存是否在每次迭代中重新分配？有没有更好的方法来处理这种情况？

```
string s, line;
map<string, string> mymap;
while(getline(file, line) {
  if(a) s = "_a";
  else if(b) s = "_b";
  string tmp = line + s;
  mymap.insert(tmp, s);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T09:18:19.113

`tmp`每次在循环周围创建和销毁，并在`line`. 因此，您可以像这样获得便宜的可能改进并且几乎不会变得更糟：

```
if(a) s = "_a";
else if(b) s = "_b";
line += s;
mymap.insert(line, s); 
```

我还会给出`s`类型：为每个循环分配一次仅包含文字副本的循环`const char*`并没有多大意义。`string`但它确实`string`通过调用转换为`insert`，所以无论哪种方式都没有太多。

只要您不破坏代码的简单性/可读性/可维护性/设计来实现它，可能的改进和几乎不会变得更糟并不是过早的优化。`line`和的范围越大`s`，玩弄它们的风险就越大（分别改变值和改变类型），因为您可能会以某种方式误导读者/维护者。这是短函数很好的原因之一。

在 C++11 中，您可以编写`mymap.insert(std::move(line), s);`另一个简单的可能改进。

综上所述：您可能会发现，无论您做了多少不必要的复制和分配，所花费的时间与`getline`. 在这种情况下，有两种非常相似的代码编写方式，其中一种“应该”更有效。所以你不妨使用它，但不要高估它，认为它一定会有所作为。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-27T08:51:56.383

while 循环的每次迭代都会创建和销毁您的字符串`tmp`对象。因此，正如已经建议的那样，第一步是移出`tmp`while 循环。这样您就不必每次迭代都构造一个新的字符串对象。但是，您仍然有`tmp = line + s`每次迭代都会导致内存重新分配的分配。使用 = 运算符创建参数的副本，并将副本分配给 tmp 字符串对象。因此，第二步是添加删除字符串对象`mymap.insert(line+s, s);`的需要的建议。`tmp`

我认为人们可以通过不分配`"_a"`或在每次迭代`"_b"`中字符串来继续这种改进。`s`这可以在while循环之外完成一次，然后根据内容`a`和`b`不同的字符串对象可以添加到您的地图中。像这样的东西（注意这是未经测试的）：

```
string a = "_a";
string b = "_b";
string line;
map<string, string> mymap;
while(getline(file, line) {
  if(a) mymap.insert(line+a, a);
  else if(b) mymap.insert(line+b, b);
} 
```

有人可能会争论这是否很好，我认为 juanchopanza 的答案就足够了，因为它保持了代码的可读性。但我认为上面的代码制作的副本更少。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-27T08:26:39.960

是的，使用 C++ 11 标准中引入的 STD::MOVE 语义。

更新：示例

```
#include <iostream>
#include <utility>
#include <vector>
#include <string>
int main()
{
    std::string str = "Hello";
    std::vector<std::string> v;

    // uses the push_back(const T&) overload, which means 
    // we'll incur the cost of copying str
    v.push_back(str);
    std::cout << "After copy, str is \"" << str << "\"\n";

    // uses the rvalue reference push_back(T&&) overload, 
    // which means no strings will copied; instead, the contents
    // of str will be moved into the vector.  This is less
    // expensive, but also means str might now be empty.
    v.push_back(std::move(str));
    std::cout << "After move, str is \"" << str << "\"\n";

    std::cout << "The contents of the vector are \"" << v[0]
                                         << "\", \"" << v[1] << "\"\n";
} 
```

# java - 重载 Thread.start()

> ID：12616990
> 
> 赞同：1
> 
> 时间：2012-09-27T08:22:32.443
> 
> 标签：java, multithreading

假设我有一个扩展 Thread 的类。

所以据我目前所知：

*   该`run()`方法在直接调用时被视为普通方法，不会导致JVM为其创建新线程。

*   为了使其按预期工作，`start()`必须调用该`run()`方法，然后在某些 OS 暗 juju 魔术发生后调用该方法。

我的问题是：

***有什么办法可以让某人超载`start()/run()`并保持正常行为？***

注意：您将好奇心误认为是愚蠢，无需粗鲁。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-27T08:30:20.940

如果您子类化`Thread`，则可以通过分别调用`Thread`'s`start`或`run`方法来执行此操作。但是，如果您打算将参数传递给底层代码，我建议您改为实现 a`Runnable`并将参数保持在其状态：

```
class MyRunnable implements Runnable {

    private final int a;
    private final int b;

    public MyRunnable(int a, int b) {
        this.a = a;
        this.b = b;
    }

    @Override
    public void run() {
        // do something with a and b
    }   
} 
```

`a`并且`b`是此示例中的“参数”。您可以将实例传递给 a`Thread`在其[构造函数](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Thread.html#Thread%28java.lang.Runnable%29)中，然后将其传递给`start`它。顺便说一下，这是[命令模式](http://www.dofactory.com/Patterns/PatternCommand.aspx)的一种实现。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-27T08:25:27.193

当然：

```
class StupidThread extends Thread {
    @Override
    public void start() {
        run();
    }
} 
```

但你为什么要这样做？您不能对 JVM 中创建的每个线程*全局*执行此操作，但是您可以在任何地方自由使用`StupidThread`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-27T09:33:27.670

您可以覆盖 Thread 中的启动/运行方法，因为 Thread 类中的启动和运行方法不是最终方法。例如：isAlive()、stop()、suspend()、join() 是最终方法。所以你不能覆盖。

```
public class TempThread extends Thread
{
    @Override
    public synchronized void start() {
        // TODO Auto-generated method stub
        super.start();
    }

    @Override
    public void run() {
        // TODO Auto-generated method stub
        super.run();
    }       

    public static void main(String[] args) 
    {
        TempThread t = new TempThread();
        t.start();
        t.run();
    }
} 
```

但正如你所问的**重载**

您可以重载这些方法中的任何一个。

前任 ：

```
public class TempThread extends Thread
{
    @Override
    public synchronized void start() {
        // TODO Auto-generated method stub
        super.start();
    }

    @Override
    public void run() {
        // TODO Auto-generated method stub
        super.run();
    }

    // ******** Overload **********
    public synchronized void start(int i) {
        // TODO Auto-generated method stub
        super.start();
    }

    // ********* Overload **********
    public void run(int i) {
        // TODO Auto-generated method stub
        super.run();
    }

    public static void main(String[] args) 
    {
        TempThread t = new TempThread();
        t.start();
        t.run();
    }   
} 
```

注意：检查覆盖和重载之间的区别。这可以让你更好地理解这个问题。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-27T08:32:49.377

如果要使用方法的重载，则`run()`必须从方法体中执行此操作`run()`。当然，如果你这样做，你最好不要调用方法`run()`。

至于重载`start()`方法。可以将其视为调用`pthread_create()`或类似方法然后调用您的方法的 JNI`run()`方法。实际上，出于性能原因，它可能以不同的方式实现。你最好不要插手。但是，您可以考虑重载线程构造函数，如本页第一个示例所示：http: [//docs.oracle.com/javase/7/docs/api/java/lang/Thread.html](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html)。

```
 class PrimeThread extends Thread {
     long minPrime;
     PrimeThread(long minPrime) {
         this.minPrime = minPrime;
     }

     public void run() {
         // compute primes larger than minPrime
          . . .
     }
 } 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-09-27T09:05:44.200

一种替代方法是创建`Runnable`. 这将允许您访问最终局部变量和最终参数（`Runnable`创建`Runnable`. 此外，您还可以访问封闭类的方法。

例如。

```
class SomeClass {

    // constructor, getter and setter not included for brevity

    private String field;

    public void startNewThread(final String parameter) {
        final double local = Math.random();
        new Thread(new Runnable() {
            @Override
            public void run() {
                System.out.println(field + parameter + local);
            }
        }).start();
    }
} 
```

警告：由于封闭类可能被另一个线程修改，因此不鼓励直接访问非最终字段，因为您会获取过时的值。要么通过同步的 getter 进行访问，要么只访问 final 字段（其内容在对象中是不可变的）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-01-04T11:02:20.757

我发现上面给出的基于调用 super.start() 的方法没有按预期并行化。一种解决方法是将参数作为成员变量传递给线程的子类：

```
public class MyRunnable extends Thread {
    private int id=0;
    MyRunnable(int i){
    this.id=i;
}

public void run() {
    System.out.println("Starting run: " + (id+1));
    try {
        TimeUnit.SECONDS.sleep(5);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
    System.out.println("Finishing run: " + (id+1));
}

public static void main(String args[]) {
    MyRunnable threadArray[] = new MyRunnable[5];
    for (int j = 0; j < 5; j++) {
        threadArray[j] = new MyRunnable(j);
        threadArray[j].start();
    }
}

} 
```

显然我在这里使用了构造函数，但是您可以在调用 run() 方法之前使用 setter 方法。

# hadoop - hadoop 集群配置 - dfsnodelist 上的节点显示为 localhost

> ID：12616992
> 
> 赞同：0
> 
> 时间：2012-09-27T08:22:35.883
> 
> 标签：hadoop

我正在使用带有 hadoop 1.0.3 的 2 个 VM 的设置。一台机器配置为主机，一台为从机。除了主服务之外，一组从服务也在主节点上运行。

机器配置为有一个指向公司网络的外部 IP (10.xxx) 和一个用于绑定服务的内部 IP (172.16.xx)。

但是在您可以调查节点（masternode）10.xxx:50070/dfsnodelist.jsp 的站点上，节点的名称显示为`localhost`而不是主机名或机器的 ip。链接也设置为`localhost::50075/browseDirectory.jsp...`. 我希望获得主机名或配置的主机 IP (172.16.xx)

你知道配置问题可能出在哪里吗？可能是对我遇到的所有其他问题的解释。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T01:14:52.087

知道了！

@octo 是对的，dns 无法正常工作。所以我编辑了`/etc/hosts`文件以将每台机器的主机名解析为内部网络的 IP

在主人：

```
172.16.XX.XM      master master-hostname
172.16.XX.XS      slave 
```

在奴隶上：

```
172.16.XX.XM      master
172.16.XX.XS      slave slave-hostname 
```

# html - 变化的 colspan 宽度错误

> ID：12616994
> 
> 赞同：0
> 
> 时间：2012-09-27T08:22:41.997
> 
> 标签：html, internet-explorer-7, width, html-table

我正在尝试按如下方式在 ASP.NET 中呈现树视图（[此处](http://jsfiddle.net/fNRKE/1/)为 JSFiddle ）

```
<table>
    <colgroup>
        <col width="20" span="2" />
        <col width="*" /> // removing this width doesn't change anything
        <col width="20" />
    </colgroup>
    <tr>
        <td colspan="3">Top-level element</td>
        <td>(checkbox)</td>
    </tr>
    <tr>
        <td>(spacer)</td>
        <td colspan="2">Mid-level element</td>
        <td>(checkbox)</td>
    </tr>
  <tr>
    <td>(spacer)</td>
    <td>(spacer)</td>
    <td colspan="1">Bottom</td>
    <td>(checkbox)</td>
  </tr>
</table> 
```

where`(spacer)`是一个 20px 宽的单元格，其中包含树线，并且`(checkbox)`是一个复选框，我希望所有的单元格都在右侧列中对齐。

在 IE8 中，这按我的预期呈现 - 与间隔单元格跨越的`*`-width`col`扩展得足以容纳跨越单元格中最长的项目。

```
| Top-level element     | [] |
| . | Mid-level element | [] |
| . | . |Bottom         | [] | 
```

在 IE7 中，它不能正确呈现。*-width`col`仅扩展到足以容纳实际在倒数第二列中的单元格，而不是跨越其中的单元格，并且其他单元格分成多行。

```
| Top-level      | [] |
| element        |    |
| . | Mid-level  | [] |
|   | element    |    |
| . | . | Bottom | [] | 
```

有没有办法让 IE7 正确地布置这张桌子，同时仍然保持表格宽度动态？（即不只是给倒数第二列或表格本身一个固定的宽度。）

或者，有没有一种方法可以使用 div 而不是表格来获得这种动态大小？

其他几点：

*   设置单个单元格宽度不起作用 - IE7 似乎忽略了它们，这导致树线全部脱节。
*   设置`table-layout: fixed`修复了对齐，但在 IE7 中（同样，不是在 IE8 中）它使表格 100% 宽。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T08:26:34.863

我可能是错的，但即使在`colgroup`我很确定宽度`*`是无效的。我只听说过使用带有前面数字的星号。

您是否尝试过一种更“标准”的方法来定义具有固定宽度的标题行，并将宽度从中央列中移开？只要表格的宽度是`100%`或至少动态超过固定宽度列的点，它就应该跨越其余部分。

经过讨论和玩弄，JS似乎是最好的解决方案：

```
<table id="test" cellpadding="0">
    <tr><td style="width: 20px"></td><td style="width: 20px"></td><td></td><td style="width: 20px"></td></tr>
    <tr>
        <td colspan="3">Top-level element</td>
        <td><input type="checkbox" /></td>
    </tr>
    <tr> 
        <td>+</td>
        <td colspan="2">Mid-level element</td>
        <td><input type="checkbox" /></td>
    </tr>
    <tr>
        <td> </td>
        <td>+</td>
        <td>Bottom</td>
        <td><input type="checkbox" /></td>
    </tr>
</table>
<script type="text/javascript">
    alert("Setting to: " + document.getElementById('test').clientWidth);
    document.getElementById('test').style.width = document.getElementById('test').clientWidth + 'px';
    document.getElementById('test').style.tableLayout = 'fixed';
</script> 
```

# android - Ljava.lang.Object

> ID：12616995
> 
> 赞同：1
> 
> 时间：2012-09-27T08:22:42.290
> 
> 标签：android, xml-rpc

我`XMLRPC Webservice`用来执行这个命令：

```
Object result = client.call("user.GetVirtualList",AccountNo); 
```

问题是我看不到列表中的内容：

```
{
  list=[Ljava.lang.Object;@45007f78, isSuccess=true
} 
```

# ruby - 扩展线程类

> ID：12616999
> 
> 赞同：1
> 
> 时间：2012-09-27T08:22:56.880
> 
> 标签：ruby, ruby-on-rails-3

使用**Ruby 1.8.7**我正在尝试扩展 Thread 类，这里是片段

```
class Foo < Thread
  attr_accessor :bar
end

t = Foo.new do 
  puts "Foo thread begins"
  self.bar = "Bar value" # also tried @bar
  sleep(2)
  puts "Foo thread ends"
end

puts "Value: #{t.bar}"
sleep(10)
puts "Value: #{t.bar}" 
```

输出是

```
>Foo thread begins
>Value: 
>Foo thread ends
>Value: 
```

为什么我看不到类的`:bar`属性`Foo`？由于这可能不是以这种方式工作的，我如何将新创建的值传递`Thread`给`main`线程？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T08:31:03.677

`self`在您的线程中指的是主要对象，而不是`t`. 由于该方法`bar=`未在主对象上定义，因此会引发错误，该错误不会发送到主线程。

有几种方法可以访问线程：

1)`Foo.new{p Foo.current}`

2)`Foo.new{|foo| p foo}`

3)`foo = Foo.new{p foo}`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-27T08:41:25.687

您不需要扩展线程，您可以在下面尝试。

```
class Foo
  attr_accessor :bar

  def run
    Thread.new do
      puts "Foo thread begins"
      self.bar = "Bar value" # also tried @bar
      sleep(2)
      puts "Foo thread ends"
    end
  end
end

t = Foo.new
t.run

puts "Value: #{t.bar}"
sleep(10)
puts "Value: #{t.bar}" 
```