# StackOverflow 问答 15418000-15418999

# c# - 如何通过 CLSID 在 C# 中实例化 COM 对象？

> ID：15418004
> 
> 赞同：5
> 
> 时间：2013-03-14T19:03:00.000
> 
> 标签：c#, com, pinvoke, shell32

如果我的术语不对，请原谅我，因为这对我来说有点未知。

我有一个程序需要创建一个`FolderShortcut`. [Microsoft 有](http://msdn.microsoft.com/en-us/library/windows/desktop/bb776891%28v=vs.85%29.aspx#Shellink_Creating_Shortcut)关于如何在 C++ 中创建它的文档，我正在尝试将说明转换为 C#。指令声明该`CoCreateInstance`函数需要`CLSID_FolderShortcut`作为参数调用，我推断这意味着它正在实例化一个 COM 对象。此对象的 CLSID 是`{0AFACED1-E828-11D1-9187-B532F1E9575D}`。

我尝试从 COM 选项卡中添加对*Shell32.dll*`FolderShortcut`的引用，但该对象没有出现在 Intellisense 中（也许它不在 typelib 中？）。我也想过做一个`DLLImport`，但是，当然，这只能让我访问函数，而不是对象。

我需要做什么才能在 .Net 中访问此对象？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-15T09:40:43.743

如果您不想在编译时导入类，正如*Simon Mourier*所描述的，也可以使用[`Activator`](http://msdn.microsoft.com/en-us/library/b4wc81dc.aspx).

如果你有`ProgID`你的对象，获取类型使用

```
Type comType = Type.GetTypeFromProgID("MyProg.ProgId"); 
```

否则你可以通过它获得类型`CLSID`：

```
Type comType = 
    Type.GetTypeFromCLSID(new Guid("0AFACED1-E828-11D1-9187-B532F1E9575D")); 
```

使用这种类型，您现在可以使用以下方法创建 coclass 的实例[`Activator.CreateInstance`](http://msdn.microsoft.com/en-us/library/system.activator.createinstance%28v=vs.110%29.aspx)：

```
var instance = Activator.CreateInstance(comType); 
```

基本上，您现在可以使用[`Type.InvokeMember`](http://msdn.microsoft.com/en-us/library/system.type.invokemember.aspx). 这仅在对象实现[`IDispatch`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms221608%28v=vs.85%29.aspx)接口时才有效。

但是，对于您的特定示例，您应该能够将实例强制转换为[`System.Runtime.InteropServices.ComTypes.IPersistFile`](http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.comtypes.ipersistfile.aspx)，这会导致`QueryInterface`对 COM 对象的调用。使用此界面，您可以轻松访问`IPersistFile`.

您可以[在此处](http://www.informit.com/articles/article.aspx?p=27219&seqNum=8)继续阅读。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-15T09:06:56.840

这是一段代码，可让您创建文件夹快捷方式。CoCreateInstance 可以（通常）通过声明一个简单的类来替换，该类用具有所需 CLSID的[Guid属性和](http://msdn.microsoft.com/library/system.runtime.interopservices.guidattribute.aspx)[ComImport](http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.comimportattribute.aspx)属性进行修饰。该`new`调用将自动执行 COM 魔术。使用此代码，您甚至不需要 Shell32 引用（如果您愿意，也可以从那里重用 IShellLink 声明）。

用法：

```
static void Main(string[] args)
{
    CreateFolderShortcut(@"c:\temp", Path.GetFullPath("Shortcut to Temp"));
} 
```

代码：

```
public static void CreateFolderShortcut(string path, string shortcutPath)
{
    CreateFolderShortcut(path, shortcutPath, null);
}

public static void CreateFolderShortcut(string path, string shortcutPath, string comment)
{
    if (path == null)
        throw new ArgumentNullException("path");

    IShellLink link = (IShellLink)new ShellLinkFolder();

    if (comment != null)
    {
        link.SetDescription(comment);
    }
    link.SetPath(path);

    IPersistFile file = (IPersistFile)link;
    file.Save(shortcutPath, false);
}

[ComImport]
[Guid("00021401-0000-0000-C000-000000000046")]
private class ShellLink
{
}

[ComImport]
[Guid("0AFACED1-E828-11D1-9187-B532F1E9575D")]
private class ShellLinkFolder
{
}

[ComImport]
[InterfaceType(ComInterfaceType.InterfaceIsIUnknown)]
[Guid("000214F9-0000-0000-C000-000000000046")]
private interface IShellLink
{
    void GetPath([Out, MarshalAs(UnmanagedType.LPWStr)] StringBuilder pszFile, int cchMaxPath, out IntPtr pfd, int fFlags);
    void GetIDList(out IntPtr ppidl);
    void SetIDList(IntPtr pidl);
    void GetDescription([Out, MarshalAs(UnmanagedType.LPWStr)] StringBuilder pszName, int cchMaxName);
    void SetDescription([MarshalAs(UnmanagedType.LPWStr)] string pszName);
    void GetWorkingDirectory([Out, MarshalAs(UnmanagedType.LPWStr)] StringBuilder pszDir, int cchMaxPath);
    void SetWorkingDirectory([MarshalAs(UnmanagedType.LPWStr)] string pszDir);
    void GetArguments([Out, MarshalAs(UnmanagedType.LPWStr)] StringBuilder pszArgs, int cchMaxPath);
    void SetArguments([MarshalAs(UnmanagedType.LPWStr)] string pszArgs);
    void GetHotkey(out short pwHotkey);
    void SetHotkey(short wHotkey);
    void GetShowCmd(out int piShowCmd);
    void SetShowCmd(int iShowCmd);
    void GetIconLocation([Out, MarshalAs(UnmanagedType.LPWStr)] StringBuilder pszIconPath, int cchIconPath, out int piIcon);
    void SetIconLocation([MarshalAs(UnmanagedType.LPWStr)] string pszIconPath, int iIcon);
    void SetRelativePath([MarshalAs(UnmanagedType.LPWStr)] string pszPathRel, int dwReserved);
    void Resolve(IntPtr hwnd, int fFlags);
    void SetPath([MarshalAs(UnmanagedType.LPWStr)] string pszFile);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T19:06:40.950

您是否尝试添加新参考：

1.  打开解决方案资源管理器
2.  展开 C# 项目
3.  右键单击引用节点并添加一个新的 COM 引用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T19:11:35.873

听起来您已经尝试使用“添加新的 COM 引用”添加您的 COM。这些是我会尝试的事情：

1.  我首先要做的是确保您的 COM DLL 已在您的计算机中注册。如果没有，则注册它，然后尝试使用 COM 选项卡再次添加它。

2.  你是在 64 位机器上运行的吗？还要尝试确保您的项目属性设置为 AnyCPU，以便它能够读取 32 位 COM。

3.  确保您具有您尝试访问的 DLL 的互操作等效项。它通常被命名为“Interop.YourDLLName.dll”。添加对该 DLL 的引用，这应该可以工作。

# jquery - jQuery：仅父链接上的 preventDefault

> ID：15418007
> 
> 赞同：4
> 
> 时间：2013-03-14T19:03:02.653
> 
> 标签：jquery, menu, parent-child, parent, preventdefault

解决方案：

找到了解决方案。

使用的父节点：

```
$('.skaftetopmenu-li > a').click(function(e) {
   e.preventDefault();
   var subid = $(this.parentNode).attr('id');
   if (subid !="forsidemenu"){
      var str = $('#submenu-content-'+subid).html();
      if ($.trim(str) == ""){
         $('.submenu-content', this.parentNode).load('http://' + skafte.base_url + '/inc/top-menu-subs/'+subid+'_submenu.html');
      }
   }
}); 
```

* * *

我有一个这样的菜单：

```
<ul>
  <li class="parent">
    <a href="url">Link title parent</a>
    <ul>
      <li><a href="url">Link title child</a></li>
    </ul>
  </li>
</ul> 
```

我在jQuery中尝试了以下内容：

```
$('.parent').click(function(e) {
  e.preventDefault();
}); 
```

但是，这会禁用整个菜单结构中的所有元素。我只想禁用父链接。“ul li”中的那些，而不是“ul ul li”中的链接，但我无法弄清楚我是如何搜索和搜索的。所以请帮帮我！

* * *

编辑：谢谢你的回答。我以为我会简化问题中的代码，但这实际上并没有使我受益。所以这是我正在使用的实际代码：

```
$('.skaftetopmenu-li').click(function(e) {

   var subid = $(this).attr('id');

   if (subid !="forsidemenu"){

      var str = $('#submenu-content-'+subid).html();

      if ($.trim(str) == ""){

         $('.submenu-content', this).load('http://' + skafte.base_url + '/inc/top-menu-subs/'+subid+'_submenu.html');
      }
   }
}); 
```

和 HTML：

```
<li class="skaftetopmenu-li" id="priser">
   <a href="http://<?php echo DOMAIN?>/priser.php">Priser &amp; Sortiment</a>
   <div class="submenu-content" id="submenu-content-priser"></div>
</li> 
```

如果我尝试按照您的建议进行操作并将其设置为：

```
$('.skaftetopmenu-li > a').click(function(e) {
   e.preventDefault(); 
```

它不起作用..

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-14T19:09:12.863

类似于 Austin Mullins 的回答，我想你想要这个：

```
$('li.parent > a').click(function(e) {
    e.preventDefault();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:05:43.537

试试这个：

```
$(".parent > ul > li > a").click( function(e) {
    e.preventDefault();
    // ...
}); 
```

`>`唯一匹配前一个标签的直接子级。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:25:24.333

这在 jsbin 上对我有用：

```
$('.parent>a').on('click', function( e ){
   e.preventDefault();
} ); 
```

[http://jsbin.com/irojiq/1/edit](http://jsbin.com/irojiq/1/edit)

# algorithm - 带限制的加权 DAG 图中从 s 到 e 的路径

> ID：15418008
> 
> 赞同：4
> 
> 时间：2013-03-14T19:03:02.883
> 
> 标签：algorithm, graph

考虑一个有`n`节点和`m`边的有向图。每条边都被加权。有一个开始节点`s`和一个结束节点`e`。我们希望找到从`s`到`e`具有**最大节点数**的路径，使得：

> 1.  总距离小于某个常数`d`
> 2.  从 s 开始，路径中的每个节点都比前一个节点更靠近节点`e`。（例如，当您遍历路径时，您将越来越接近目的地`e`。就剩余路径的边缘权重而言。）

我们可以假设图中没有循环。没有负权重。这个问题是否已经存在有效的算法？这个问题有名字吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T00:07:55.073

无论你最终做什么，从头开始做一个 BFS/DFS `s`，看看是否`e`可以达到；这只需要你 O(n+m) 所以它不会增加问题的复杂性（因为你无论如何都需要查看所有顶点和边）。`0`此外，在你做任何其他事情之前删除所有带有权重的边，因为这些边永远不会满足你的第二个标准。

编辑：我想出了一个算法；它是多项式的，具体取决于图表的大小，它可能仍然不够有效。请参阅下面的编辑。

* * *

现在介绍一些复杂性。这里首先要考虑的是我们实际上可以拥有多少条路径的上限，因此根据`d`边缘的选择和权重，我们对任何潜在算法的复杂度也有一个上限。

DAG 中可以有多少条边？答案是`n(n-1)/2`，这是一个紧密的界限：取`n`顶点，从 1 到`n`; 对于两个顶点`i`和`j`，将边添加`i->j`到图 iff `i<j`。这总和为`n(n-1)/2`，因为这样一来，对于每一对顶点，它们之间恰好有一个有向边，这意味着我们在图中的边数与在`n`顶点上的完整无向图中的边数一样多。

* * *

在上面描述的图中，从一个顶点到另一个顶点可以有多少条路径？答案是 2 ^(n-2)。归纳证明：

如上所述，取超过 2 个顶点的图；从顶点 1 到顶点 2有 1 = 2 ⁰ = 2 ^(2-2)路径：(1->2)。
归纳步骤：假设有 2 ^(n-2)条路径从上面描述的顶点图编号`1`的顶点到编号为的顶点，增加每个顶点的数量并添加一个新顶点以及所需的边。它对现在标记为 的顶点有自己的边。此外，对于 [2;n] 中的每个，它都有 2 ^(i-2)条到该顶点的路径（它具有其他顶点到顶点的所有路径，每个路径都以 edge 为“前缀” ）。这给了我们 1 + Σ ^n`n``n``1``n``n+1`^(`i``n+1``1->i`^([k=2] (2 ^(k-2) ) = 1 + Σ ^(n-2) [k=0] (2 ^(k-2) ) = 1 + (2 ^(n-1) - 1) = 2 ^(n-1) = 2 ^((n+1)-2) .))

* * *

所以我们看到有一些 DAG在它们的一些顶点对之间有 2 ^(n-2条不同的路径；)这是一个有点黯淡的前景，因为根据权重和您的选择`d`，您可能必须考虑所有因素。这本身并不意味着我们不能有效地选择某种形式的最优（这是你正在寻找的）。

* * *

编辑：好的，这就是我要做的：

1.  删除所有权重为 0 的边（并且更小，但您排除了这一点），因为它们永远无法满足您的第二个标准。
2.  对图进行拓扑排序；下面，我们只考虑图从s到e的拓扑排序部分，我们称其为整数区间[s;e]。从图中删除不严格在该区间内的所有内容，这意味着它之外的所有顶点以及入射边。在topSort 过程中，你还可以看到是否存在从s 到e 的路径，因此你会知道是否存在任何路径s-...->e。这部分的复杂度是O(n+m)。
3.  现在实际算法：
    *   按照拓扑排序的顺序遍历 [s;e] 的顶点
    *   对于每个顶点 v，存储一个二维信息数组；让我们称它为 pre [v] [][] 因为它将存储有关通向它的路径上节点的前任的信息
    *   在 pre [v] [i][j] 中，如果 j 是该路径上当前顶点的前驱，则存储长度（以顶点计算）i 的总路径作为边权重之和的长度。例如，pre [s+1] [1][s] 将具有边 s->s+1 的权重，而 pre [s+1]中的所有其他条目 将为 0/未定义。
    *   在计算新顶点 v 的数组时，我们所要做的就是检查它的传入边并遍历数组以获取这些边的起始顶点。例如，假设顶点 v 具有来自顶点 w 的传入边，权重为 c。考虑一下条目 pre [v] [i][w] 应该是什么。我们有一条边 w->v，所以我们需要将 v 中的 pre [v] [i][w] 设置为
        min(pre [w][i-1][k] 表示所有 k，但忽略 0) + c 的条目（注意数组的下标！）；我们有效地取了一条长度为 i - 1 且通向 w 的路径的成本，并加上边 w->v 的成本。为什么是最小值？对于长度为 i - 1 的路径，顶点 w 可以有许多前驱；但是，我们希望保持在成本限制以下，每个顶点的贪心最小化将为我们做的。我们需要对 [1;sv] 中的所有 i 执行此操作。
    *   在计算顶点的数组时，不要设置会为您提供成本高于 d 的路径的条目；由于所有边都有正权重，我们只能通过每条边获得更昂贵的路径，所以忽略这些。
    *   一旦你到达 e 并完成了 pre [e]的计算，你就完成了这部分算法。
4.  迭代 pre [e]，从 pre [e] [es] 开始；因为我们没有环，所以所有路径都是简单路径，因此从 s 到 e 的最长路径可以有 es 个边。找到最大的 i 使得 pre [e] [i] 有一个非零（意味着它被定义）条目；如果不存在，则没有符合您标准的路径。您可以使用其他顶点的数组重建任何现有路径。

现在这给了你 O(n^3) 的空间复杂度和 O(n²m) 的时间复杂度 - 数组有 O(n²) 项，我们必须迭代 O(m) 数组，每个边一个数组 -但我认为很明显，可以使用散列结构和数组以外的其他东西来优化这里对数据结构的浪费使用。或者你可以只使用一个一维数组并且只存储当前最小值而不是每次都重新计算它（你必须将路径的边权重之和与前一个顶点一起封装，因为你需要知道前一个顶点重建路径），这会将数组的大小从 n² 更改为 n，因为现在每个路径到顶点的节点数只需要一个条目，从而将算法的空间复杂度降低到 O (n²) 和 O(nm) 的时间复杂度。`e`，因为这些也可以安全地忽略。

# zend-framework - ZF2 ViewModel addChild()。如何在布局（不是模板）上阅读它？

> ID：15418010
> 
> 赞同：1
> 
> 时间：2013-03-14T19:03:07.210
> 
> 标签：zend-framework, frameworks, zend-framework2, viewmodel, addchild

我无法处理 Zend Framework 2 和 ViewModel 的问题。

我想做非常简单的事情，但是这个框架并没有帮助......我有例如简单的**布局**：

```
<html>
<div id="window">
<?php echo $this->window; 
// or whatever working....
?>
</div>
<div id="content">
<?php echo $this->content; ?>
</div>
</html> 
```

我想在打印 $this->window 的地方添加窗口的内容。我试过了：

```
$view = new ViewModel();
$window = new ViewModel();
$window->setTemplate('window/window_error222'); // Template with error to include on layout
$view->addChild($window, 'window'); 
```

它在内容文件上运行良好，但我无法访问布局文件中的“窗口”变量。有什么解决办法吗？我不想为窗口 div 创建另一个模板。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T17:02:35.407

我已经解决了我的问题：

```
$layout = $this->layout();
$layout->addChild($window, 'window'); 
```

# c# - 无法评估表达式，因为代码已优化或本机框架位于调用堆栈顶部

> ID：15418012
> 
> 赞同：6
> 
> 时间：2013-03-14T19:03:15.037
> 
> 标签：c#, asp.net, webforms

我有两个带有`onclick`事件处理程序的按钮，它们处理来自`grid views`页面上两个的信息。每个 gv 一个按钮。它们位于彼此之上，嵌套在`html`表结构中。

这些按钮用于将`grid`日期导出到`Excel`文档中（参见下面的代码）

顶部按钮和`grid`当`click`按钮工作正常但底部按钮抛出一个`ThreadAbortException: Unable to evaluate expression because the code is optimized or a native frame is on top of the call stack.`

当然，我为此使用了 Google-d，但一些最佳结果是处理`Response.Redirect()`调用而不是`Response.End()`. [Forums.asp.net](http://forums.asp.net/t/984756.aspx)上的一篇这样的帖子在同一个方法调用上存在相同的错误，但解决方案是使用错误页面作为参数更改代码`Response.Redirect()`- 再次与我所拥有的无关。

[Microsoft 支持页面上](http://support.microsoft.com/kb/312629/en-us)的另一个搜索建议了一个解决方案，其中`HttpContext.Current.ApplicationInstance.CompleteRequest()`替换`Response.End()`. 我已经尝试过了，错误消失了，Excel 下载弹出窗口也消失了。

所以我不知道从这里去哪里。奇怪的是，相同的代码（更少的`gridview`id）适用于一个但另一个。这是供您查看的代码，我已经标记了引发错误的位置。我想也许我可以产生一个新线程 - 这会缓解这个问题吗？我从未做过`multi-threaded`应用程序，但我准备迎接挑战。

```
<table>
  <tr>
   <td align="left">
     <asp:Button ID="btnExport" runat="server" OnClick="btnExport_Click"
          Text="Export" Visible="false" />
   </td>
  </tr>
  <tr>
   <td>                    
     <asp:Panel runat="server" ID="pnl1" Visible="false">
      <asp:GridView ID="gvCountTotalsCat" runat="server" 
          AutoGenerateColumns="false"
          CellPadding="3" PageSize="25" BackColor="White" BorderColor="MidnightBlue"
          BorderStyle="Groove" BorderWidth="1px" CssClass="TextCompact" 
          GridLines="Vertical"
          OnRowDataBound="gridView_OnRowDataBound"
          EmptyDataText="Your request has returned zero records">
          <Columns>
           <asp:TemplateField>
            <HeaderTemplate>
             <asp:Label runat="server" ID="lblHeader" Text="Cat" />
            </HeaderTemplate>
           <ItemTemplate>
            <asp:Literal ID="litWuc" runat="server" />
           </ItemTemplate>
           </asp:TemplateField>
            <asp:BoundField DataField="Cat Entries" HeaderText="Cat Entries" />
           <asp:TemplateField>
           <HeaderTemplate>
            <asp:Label runat="server" ID="lblHeader" />
           </HeaderTemplate>
           <ItemTemplate>
            <asp:Literal ID="litSum" runat="server" />
           </ItemTemplate>
          </asp:TemplateField>
         </Columns>                                              
        </asp:GridView>
       </asp:Panel>
   </td>
  </tr>
  <tr>
   <td align="left">
    <asp:Button ID="btnExport1" runat="server" OnClick="btnExport_Click1" 
         Text="Export" Visible="false" />
   </td>
  </tr>
  <tr>
   <td>                         
    <asp:Panel runat="server" ID="pnl2" Visible="false">
     <asp:GridView ID="gvCountTotalsCat1" runat="server" 
          AutoGenerateColumns="false"
          AllowPaging="false" CellPadding="3" PageSize="25" BackColor="White"
          BorderColor="MidnightBlue" BorderStyle="Groove" BorderWidth="1px" 
          CssClass="TextCompact" GridLines="Vertical" 
          OnRowDataBound="gridView_OnRowDataBound"
          EmptyDataText="Your request has returned zero records">
          <Columns>
            <asp:TemplateField>
             <HeaderTemplate>
              <asp:Label runat="server" ID="lblHeaderWuc" Text="Wuc" />
             </HeaderTemplate>
            <ItemTemplate>
            <asp:Literal ID="litWuc" runat="server" />
            </ItemTemplate>
           </asp:TemplateField>
           <asp:BoundField DataField="Wuc Entries" HeaderText="Wuc Entries" />
           <asp:TemplateField>
            <HeaderTemplate>
              <asp:Label runat="server" ID="lblHeader" />
            </HeaderTemplate>
            <ItemTemplate>
              <asp:Literal ID="litSum" runat="server" />
            </ItemTemplate>
           </asp:TemplateField>
          </Columns>     
         </asp:GridView>
        </asp:Panel>
       </td>
      </tr>
     </table>

public void btnExport_Click(object sender, System.EventArgs e)
{
    string attachment = string.Empty;
    StringWriter sw = new StringWriter();
    HtmlTextWriter htw = new HtmlTextWriter(sw);

    // Create a form to contain the grid
    HtmlForm frm = new HtmlForm();
    frm.Attributes["runat"] = "server";

    attachment = "attachment; filename=gvCountTotalsCat_" + _selectedSite + ".xls";
    gvCountTotalsCat.Parent.Controls.Add(frm);
    frm.Controls.Add(gvCountTotalsCat);

    Response.ClearContent();
    Response.AddHeader("content-disposition", attachment);
    Response.ContentType = "application/ms-excel";

    frm.RenderControl(htw);

    Response.Write(sw.ToString());

    Response.End();
}

public void btnExport_Click1(object sender, System.EventArgs e)
{
    string attachment = string.Empty;
    StringWriter sw = new StringWriter();
    HtmlTextWriter htw = new HtmlTextWriter(sw);
    Response.Clear();
    Response.ClearHeaders();

    // Create a form to contain the grid
    HtmlForm frm = new HtmlForm();
    frm.Attributes["runat"] = "server";

    attachment = "attachment; filename=gvCountTotalsCat1_" + _selectedSite + ".xls";
    gvCountTotalsCat1.Parent.Controls.Add(frm);
    frm.Controls.Add(gvCountTotalsCat1);

    Response.ClearContent();
    Response.AddHeader("content-disposition", attachment);
    Response.ContentType = "application/ms-excel";

    frm.RenderControl(htw);

    Response.Write(sw.ToString());

    try
    {
 >> Error thrown here >>     Response.End();

    }
    catch (System.Threading.ThreadAbortException lException)
    {
        lException;
    }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-15T16:54:48.657

用完我同时拥有网格和按钮，`Update Panel`并且只有顶部按钮设置为`PostBackTrigger`. 在我添加了第二个`<asp:PostBackTrigger ControlID="btnExport1" />`并解决了问题之后。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-12-05T12:22:12.270

有一种方便的方法来处理“由于代码已优化或本机框架位于调用堆栈顶部而无法评估表达式”。问题。您需要在输出窗口上书写。

使用 System.Diagnostics 添加；

为出错的行添加 Try/Catch

在 Catch 添加这些行

```
try
{ ..}
 catch(Exception ex)
{
    Debug.WriteLine(ex.Message);
    Debug.WriteLine(ex.StackTrace);
    Debug.WriteLine(ex.InnerException.ToString());
} 
```

只需调试并检查输出窗口

希望能帮助到你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-09T09:06:27.223

可以使用 a 解决`ASPxGridViewExporter`而不获得 a `ThreadAbortException`。

试试下面的代码片段：

```
try
{
    using (MemoryStream stream = new MemoryStream())
    {
        // Write the content of the xlsx to the stream
        gridViewExporter.WriteXlsx(stream, new XlsxExportOptions(TextExportMode.Text, false, false));

        if (Response == null)
        {
            return;
        }

        // Write the byte content to the output
        Response.Clear();
        Response.AppendHeader("Content-Disposition", StringMngr.SafeFormat("attachment; filename=\"{0}.xlsx\"", "xlsxFileName"));
        Response.ContentType = "Text/xlsx";
        Response.ContentEncoding = System.Text.Encoding.Unicode;

        if (stream.Length > 0)
        {
            Response.BinaryWrite(stream.ToArray());
        }

        Response.Flush();
        Response.SuppressContent = true;
    }
}
catch (Exception ex)
{
    log.Error("An error occured while downloading in xlsx format.", ex);
} 
```

它下载 excel 文件而没有收到`ThreadAbortException`以下消息：

> 无法计算表达式，因为代码已优化或本机框架位于调用堆栈顶部。

并且在打开 excel 文件时没有收到以下错误消息：

> Excel 在 myFilename.xlsx 中发现了不可读的内容。是否要恢复此工作簿的内容？如果您信任本书的来源，请单击是。

希望能帮助到你！:)

# arduino - Arduino 搜索网络以获取 IP 地址并获取 MAC 地址

> ID：15418014
> 
> 赞同：1
> 
> 时间：2013-03-14T19:03:24.370
> 
> 标签：arduino, mac-address

我正在寻找一种在[Arduino](http://en.wikipedia.org/wiki/Arduino)中获取[IP 地址的](http://en.wikipedia.org/wiki/IP_address)[MAC 地址](http://en.wikipedia.org/wiki/MAC_address)并将其打印到串行的方法。有没有办法做到这一点？

我知道如何打印这条线。我只需要获取IP地址的MAC地址的功能。

（仅供参考，我不需要 Arduino [shield](http://www.arduino.cc/en/Main/ArduinoShields)的 MAC 地址。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T21:09:17.427

如果IP地址不是本地的，原则上[你不能这样做](http://compnetworking.about.com/od/tcpip/f/convertmacipadd.htm)（Arduino与否）。另请参见[此处](https://superuser.com/questions/349256/theory-regarding-mac-and-ip-address-in-network-packet-and-frame-content)。

如果 IP 地址是本地的，那么如果您有一个可以用于此的服务器，您可以从您的 Arduino 连接到它，并让服务器进行 IP 地址到 MAC 的查找，然后将其提供给您的 Arduino。看起来[Wi-Fi](http://en.wikipedia.org/wiki/Wi-Fi)和以太网库都不支持这种查找。

# c# - 我可以用 asp.net 设计网页吗？

> ID：15418015
> 
> 赞同：0
> 
> 时间：2013-03-14T19:03:29.703
> 
> 标签：c#, asp.net

我现在使用 c# 进行了一段时间的编程。我知道这可能是一个愚蠢的问题，但是是否可以在 asp 中使用 c# 设计网页（不是 Web 应用程序）？如果可以，我可以从哪里开始？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:04:59.503

# 是的

带有`.aspx`扩展名的基本 HTML 页面也可以使用 IIS 运行

您可能还想研究剃刀并用它开发前端。

请参阅 Microsoft 的 webmatrix，不要忘记查看[https://developer.mozilla.org/en-US/](https://developer.mozilla.org/en-US/)

# forms - 具有 2 个条件的 Dlookup VBA 代码

> ID：15418017
> 
> 赞同：1
> 
> 时间：2013-03-14T19:03:36.520
> 
> 标签：forms, vba, ms-access, auto-populate, filtered-lookup

我有一个带有 project_ID 字段组合框和其他几个字段的 MS Access 表单。一旦用户选择了 project_ID 字段，表单上的大部分后续字段都会自动填充。我正在尝试在表单上添加一个字段，该字段不仅基于 project_ID 还基于 Trans_ID 显示信息。问题是我希望 Trans_ID 成为表单上的一个文本框，用户可以在其中简单地输入 Trans_ID，然后在另一个文本框中显示 Error_DTL_1 字段。这是我到目前为止生成的 VBA 代码：

```
Private Sub cboProjectID_Change()

Dim VarComboKey As Integer 
Dim VarObjective As Variant 
Dim VarStartDate As Variant 
Dim VarEndDate As Variant 
Dim VarRiskCategory As Variant 
Dim VarTarDatSet As Variant

Dim VarErrorCount As Variant 
Dim VarErrorCode As Variant

Dim VarErrorDTL As Variant

VarComboKey = Me.cboProjectID.Value

VarObjective = DLookup("[Objective]", "[Project_HDR_T]", "[Project_ID]= " & VarComboKey) 
Me.txtObjective = VarObjective

VarStartDate = DLookup("[Start_Date]", "[Project_HDR_T]", "[Project_ID] = " & VarComboKey) 
Me.txtStartDate = VarStartDate

VarEndDate = DLookup("[End_Date]", "[Project_HDR_T]", "[Project_ID] = " & VarComboKey) 
Me.txtEndDate = VarEndDate

VarRiskCategory = DLookup("[Risk_Category]", "[Project_HDR_T]", "[Project_ID] = " & VarComboKey) 
Me.txtRiskCategory = VarRiskCategory

VartxtTarDatSet = DLookup("[Targeted_Dataset]", "[Project_Targeted_Dataset]", "[Project_ID] = " & VarComboKey)
Me.txtTarDatSet = VartxtTarDatSet

VarErrorCount = DLookup("[Count_Error_Codes]", "[Project_Error_Final]", "[project_ID] = " & VarComboKey)
Me.txtErrorCount = VarErrorCount

VarErrorCode = DLookup("[ErrorCode]", "[Project_Error_Final]", "[project_ID] = " & VarComboKey) 
Me.txtErrorCode = VarErrorCode

VarErrorDTL = DLookup("[Error_DTL_1]", "[Project_DTA_REV_T]", "[project_ID] = " & VarComboKey And "[Trans_ID] = forms![Quality Risk Assessment]!me.stTransID") 
Me.txtErrorDTL = VarErrorDTL

End Sub 
```

“End Sub”之前的两行是我攻击这段代码的尝试。但是每次我在表单上的 Project_ID 组合框中进行选择时，都会收到错误消息“运行时错误 13，类型不匹配”。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T20:08:18.443

一个记录集：

```
Dim rs As DAO.Recordset

sSQL = "SELECT p.Objective, p.Start_Date, p.End_Date FROM Project_HDR_T p " _
     & "WHERE p.Project_ID = " & VarComboKey
Set rs = CurrentDb.OpenRecordset(sSQL)

If rs.EOF Then
    MsgBox "oops"
Else
    VarObjective = rs!Objective
    VarStartDate = rs!Start_Date
    VarEndDate = rs!End_Date
End If 
```

并且鉴于您的所有表都包含 Project_ID，应该可以创建一个包含所有表的查询，此外，可以保存查询并在代码中使用参数引用。

另请参阅：
[什么是 VBA 中的记录集？...它有什么用途？](https://stackoverflow.com/questions/2338978/ms-access-what-is-a-recordset-in-vba-what-does-it-serve)
[记录集对象](http://msdn.microsoft.com/en-us/library/office/bb177501(v=office.12).aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-14T19:26:59.900

在行...

```
VarErrorDTL = DLookup("[Error_DTL_1]", "[Project_DTA_REV_T]", "[project_ID] = " & VarComboKey And "[Trans_ID] = forms![Quality Risk Assessment]!me.stTransID") 
```

...“和”在引号之外，第二个子句似乎混合了引用方式`Forms!`和`me.`引用方式。尝试...

```
VarErrorDTL = DLookup("[Error_DTL_1]", "[Project_DTA_REV_T]", "[project_ID] = " & VarComboKey & " And [Trans_ID] = forms![Quality Risk Assessment]!stTransID.Value") 
```

...看看它是否效果更好。或者，您可以尝试...

```
VarErrorDTL = DLookup("[Error_DTL_1]", "[Project_DTA_REV_T]", "[project_ID] = " & VarComboKey & " And [Trans_ID] = " & me.stTransID.Value) 
```

# php - HTML 数字输入错误：调用 jquery.change 事件时出现无限循环

> ID：15418021
> 
> 赞同：0
> 
> 时间：2013-03-14T19:03:48.003
> 
> 标签：php, html, input

我用 PHP 创建了一个 HTML 表，如下所示：

```
$i = 1;
while($row = mysql_fetch_array($result)){
Print "<tr>"; 
Print "<td><input id='prEff[$i]' type='number' step='0.01' min='0.01' max='0.99' value='.85' </td>";
Print "<td>".$row['ErdEfficiency'] . "</td>";
Print "<td>".$row['TheoreticalSEC'] . "</td></tr>";

$i++;
} 
```

输入单元格有一个 jquery.change 函数，当数字在范围内更改时调用该函数。在调试期间，单击向上或向下按钮一次（在 chrome 中）会导致输入遍历所有值，直到达到上限或下限。所以该函数被调用，但只有在整个值范围都运行完之后。

如果在没有调试的情况下刷新页面，则会调用 jquery，但按钮会粘住，因为它遇到了所描述的错误。

这是简单的jquery函数：

```
$('[id^="prEff["]').change(function (){
        var test = this;
        alert("hi");
}); 
```

这是一个难以跟踪的错误，我不确定是什么原因造成的。它发生在输入中的 onchange 属性，以及 javascript eventListener 和 jquery 更改。这可能是 PHP 打印输入的方式，但我尝试了几种不同的方式但没有成功。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:23:42.493

`<input>`您的代码中似乎有一个未关闭的标签。确保你关闭它，你应该没问题：

```
Print "<td><input id='prEff[$i]' type='number' step='0.01' min='0.01' max='0.99' value='.85' /> </td>"; 
```

# php - 读取 txt 文件日期 00-00-000

> ID：15418030
> 
> 赞同：0
> 
> 时间：2013-03-14T19:04:30.157
> 
> 标签：php, text-files

我试图阅读一个文本文件。

这是我的文本文件的示例：

> "20130228","0000079511","ESTEVES PAIVA TERESA HELENA","","4","PAGO UNICO","","","","","",0.00,0.00,0.00,0.00, 2000.00,"20121213"

正如你可以想象的那样，我有这两个日期 20130228 和 20121213，第五列是一个数字，但是当我读取文件并在我的数据库中填写表格时，我在每个日期都得到 00-00-0000，而 0 而不是数字 4。

这是我在表格中读取和插入信息的代码：

```
if ($type == "text/csv") {
            move_uploaded_file($temp, "upload/$name");

            $fp = fopen("upload/$name",'r') or die("no se puede abrir el archivo");

                do { 
            if ($data[0]) { 
                mysql_query("INSERT INTO contacts (fecha_pago, cedula_alumno, nombre_alumno, mencion, codigo_forma) VALUES 
                    ( 
                        '".addslashes($data[0])."', 
                        '".addslashes($data[1])."', 
                        '".addslashes($data[2])."'
                        '".addslashes($data[3])."'
                        '".addslashes($data[4])."' 
                    ) 
                "); 
            } 
        } while ($data = fgetcsv($fp,1000,",","'")); 
```

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:08:53.080

您需要解析日期，即在执行 INSERT 之前解析 $data[0] 的值。我猜你要插入的 MySQL 将接受 2012-12-31 格式的日期，但不接受 20121231。

所以考虑做

```
$parsedDateYear = substr($data[0], 0, 4); 
$parsedDateMonth = substr($data[0], 4, 2); 
$parsedDateDay = substr($data[0], 6, 2); 

$finalDate = $parsedDateYear . "-" . $parsedDateMonth . "-" . $parsedDateDay; 
```

并在您的 INSERT 语句中使用 $finalDate。

# r - optim() 并解决 R 中的对角矩阵（拟合参数错误）

> ID：15418033
> 
> 赞同：1
> 
> 时间：2013-03-14T19:04:35.227
> 
> 标签：r, optimization, matrix, diagonal

我正在尝试在以下问题中找到解决方案：

可重复性的任意值：

```
AZ2k <- seq(1:14) 
noAZ2k <- matrix(seq(1:25), 14, 50)
par <- rep(0.02 , 50)

vw <- function(w)
{

    t(AZ2k - noAZ2k %*% par)%*%w%*%(AZ2k - noAZ2k %*% par ) 

}

vweights <- optim(diag(1,14), vw, gr = NULL,
  method = c("L-BFGS-B"),
  lower = 0, upper = 10000,control = list( factr = 1e4, maxit = 1000, pgtol = .01 ), 
  hessian = FALSE) 
```

当我输入

```
t(AZ2k - noAZ2k %*% par)%*%diag(1,14)%*%(AZ2k - noAZ2k %*% par ) 
```

我得到了一个结果，但是当我尝试运行优化时，它说这些值不合适，这让我感到惊讶。

我可能遗漏了一些完全明显的东西，但我就是找不到哪里出错了，除非 optim 只是使用错误的函数，但我无法找到合适的替代方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:19:19.843

您的 w 参数将转换为 vector ，因此您需要将其强制转换为具有正确尺寸的矩阵：

```
vw <- function(w){
    w <- matrix(w,nrow=14,ncol=14,byrow=T)
    t(AZ2k - noAZ2k %*% par)%*%w%*%(AZ2k - noAZ2k %*% par ) 
} 
```

# mono - Xamarin.Mac 项目在启动时崩溃，我做错了什么？

> ID：15418037
> 
> 赞同：1
> 
> 时间：2013-03-14T19:04:44.073
> 
> 标签：mono, monomac, xamarin-studio, xamarin.mac

我下载了 Xamarin Studio (4.0.1)，并通过模板创建了一个新的 Xamarin.Mac 项目。在不更改任何代码的情况下，我尝试运行该应用程序。它立即因 EXC_BAD_ACCESS 崩溃（甚至在调试器可以附加之前）。这些是错误报告中的详细信息：

```
Exception Type:  EXC_BAD_ACCESS (SIGSEGV) Exception Codes: KERN_INVALID_ADDRESS at 0x000000008fe01030

Backtrace not available

Unknown thread crashed with X86 Thread State (32-bit):   eax: 0x00000000  ebx: 0x00000000  ecx: 0x00000000  edx: 0x00000000   edi: 0x00000000  esi: 0x00000000  ebp: 0x00000000  esp: 0x00000000    ss: 0x00000023  efl: 0x00010202  eip: 0x8fe01030   cs: 0x0000001b    ds: 0x00000023   es: 0x00000023   fs: 0x00000000   gs: 0x00000000   cr2: 0x8fe01030 Logical CPU: 2

Binary images description not available 
```

我做错了什么，我怎样才能使项目工作？有什么明显的我应该检查的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T16:08:16.860

这已在 Xamarin Studio 4.0.2 中修复

# c++ - 从字符串数组中获取字符值

> ID：15418038
> 
> 赞同：1
> 
> 时间：2013-03-14T19:04:52.060
> 
> 标签：c++, arrays, string

我正在尝试练习一些 C++ 的东西，并且被困在一些很难用谷歌搜索或找到答案的东西上。

基本上说我们有：

```
char* myarray[] = {"string","hello", "cat"}; 
```

我怎么会说得到 myarray[1] 这是“字符串”，然后遍历字母字符串 g。

我正在查看向量，想知道这是否是采用的路径，或者可能采用 myarray[1] 并将其存储到另一个数组中，然后再遍历它。这样做的最佳方法是什么

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:08:37.333

这在 C++11 中非常简单（使用`std::string`而不是指向字符数组的指针）：

```
#include <iostream>
#include <string>

int main()
{
    std::string myarray[] = {"string","hello", "cat"};
    for (auto c : myarray[0]) { std::cout << c << " "; }
} 
```

输出（[现场示例](http://liveworkspace.org/code/2m2muG%240)）：

```
s t r i n g 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-14T19:06:35.257

以下代码：

```
for(int i = 0; i < strlen(myarray[0]); i++) {
    printf("%c\n", myarray[0][i]);
} 
```

会打印出来

```
s
t
r
i 
n
g 
```

如果您想练习 C++ 而*不是 C*，我建议您学习`std::string`和`std::vector`. 它们并不总是解决方案，但通常首先使用它们是正确的答案。的内存布局`std::vector<std::string>`会有所不同，理解这一点很重要。

# c# - 如何防止实体框架更新 context.cs 文件中的类？

> ID：15418047
> 
> 赞同：0
> 
> 时间：2013-03-14T19:05:18.780
> 
> 标签：c#, json, entity-framework, serialization, asp.net-web-api

我是实体框架的新手，所以如果这不是一个有效的问题，我深表歉意。

几周前我开始使用 .NET Web Api，当我必须处理更复杂的实体时，我遇到了 json 序列化的问题。经过一番研究，我发现了不同的方法，例如：

全球.asax.cs

```
GlobalConfiguration.Configuration.Formatters.JsonFormatter.SerializerSettings.ReferenceLoopHandling= Newtonsoft.Json.ReferenceLoopHandling.Ignore; 
```

或者

对于我不想序列化的每个属性（在 context.designer.cs 文件中），添加：

```
[JsonIgnore] 
```

第一个对我不起作用，所以我使用了 [JsonIgnore] 属性。

不幸的是，每隔一段时间我必须对实体框架上下文设计进行更改，一旦我保存这些更改，我就会丢失我添加到我不想序列化的属性的属性。

那么问题是：有没有办法将 JsonIgnore 永久设置为特定属性？或者防止实体框架覆盖特定属性或类的更改的方法？

甚至...... JsonIgnore 是最好的方法吗？

谢谢

编辑：

序列化堆栈跟踪：

{"Message":"发生错误。","ExceptionMessage":"'ObjectContent`1' 类型未能序列化内容类型 'application/json; charset=utf-8' 的响应正文。","ExceptionType ":"System.InvalidOperationException","StackTrace":null,"InnerException":{"Message":"发生错误。","ExceptionMessage":"检测到“Pathfinders.Data.Natural_Person”类型的自引用循环。路径 '[0].Natural_Persons[0].Gender.Natural_Persons'.","ExceptionType":"Newtonsoft.Json.JsonSerializationException","StackTrace":" 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference (JsonWriter writer, Object值，JsonProperty 属性，JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IWrappedCollection values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)\r\n at Newtonsoft.Json .Serialization.JsonSerializerInternalWriter.SerializeValue（JsonWriter 编写器，对象值，JsonContract valueContract，JsonProperty 成员，JsonContainerContract containerContract，JsonProperty containerProperty）\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject（JsonWriter 编写器，对象值，JsonObjectContract 合同，JsonProperty成员，JsonContainerContract collectionContract，JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization。JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)\r\n at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter .SerializeList(JsonWriter writer, IWrappedCollection values, JsonArrayContract contract, JsonProperty member,JsonContainerContract collectionContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization。 JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)\r\n at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter。SerializeList(JsonWriter writer, IWrappedCollection values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)\r\n at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value)\r\n at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value)\r\n 在系统。 Net.Http.Formatting.JsonMediaTypeFormatter.<>c_JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize (JsonWriter jsonWriter, Object value)\r\n at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value)\r\n at System.Net.Http.Formatting.JsonMediaTypeFormatter.<>c_JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)\r\n 在 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize (JsonWriter jsonWriter, Object value)\r\n at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value)\r\n at System.Net.Http.Formatting.JsonMediaTypeFormatter.<>c_序列化(JsonWriter jsonWriter, Object value)\r\n at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value)\r\n at System.Net.Http.Formatting.JsonMediaTypeFormatter.<>c_序列化(JsonWriter jsonWriter, Object value)\r\n at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value)\r\n at System.Net.Http.Formatting.JsonMediaTypeFormatter.<>c_*DisplayClassd.b* _c()\r\n 在 System.Threading.Tasks.TaskHelpers.RunSynchronously(Action action, CancellationToken token)"}}

# mvvm - F# 用于 MVVM WPF 环境中的 VM？

> ID：15418050
> 
> 赞同：3
> 
> 时间：2013-03-14T19:05:19.380
> 
> 标签：mvvm, f#

显然 F# 将统治模型部分，但对于 VM 部分的选择是否清晰？

失去的工具支持（任何？）是否会被大型应用程序中语言灵活性的增益所补偿？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T14:01:02.700

鉴于您不依赖某些 MVVM 框架的任何主要功能，我会说大多数情况下，如果是比较的话，这与选择 F# 而不是 C# 一样多。

当前的 F# 编译器缺少一个在 VM 代码中很有用的特性——对`CallerMemberName`属性的支持，它非常​​适合用于`INPC`对象属性。但这与您获得的好处（例如 F# 中的所有很酷的东西）相比，这可能是一个小缺点。

由于 VM 通常是关于转换和处理 M 数据以在 V 中使用它，我还不明白为什么 F# 不适合。

# php - 不要让用户进行多次上传

> ID：15418051
> 
> 赞同：-1
> 
> 时间：2013-03-14T19:05:21.407
> 
> 标签：php, upload

我有一个上传脚本，我想限制用户每次上传 1 次，而不是多次上传。我如何在 php 中实现它？因为主要问题是，如果我在数据库中分配一个值以显示用户是否正在上传文件，那么如果用户在上传未完成的情况下关闭页面，他/她将无法上传另一个文件，因为脚本认为他/她已经在上传了。

关于如何实施它有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:44:53.607

有一个带有“上传开始”和“上传完成”列的“会话/用户”表。在确定完成之前不要填​​充第二个。如果该用户的“已完成”字段为空，请不要开始新的上传。

为了避免阻止在完成之前断开连接的人 - 定期检查给定会话是否仍处于活动状态或清除超过一定时间的会话。

# postgresql - 设置 Postgres：无法远程连接到 Postgres 服务器（debian）

> ID：15418056
> 
> 赞同：3
> 
> 时间：2013-03-14T19:05:28.983
> 
> 标签：postgresql, debian

我在从外部服务器连接数据库时遇到问题。我读了很多关于这个主题的话题。没别的了...

Postgresql 8.4 / Debian

我的 /etc/postgresql/8.4/main/ **postgresql.conf**：

```
listen_addresses = '*'
port = 5432
max_connections = 100 
```

我的/etc/postgresql/8.4/main/pg_hba.conf **：**

```
local all all trust
host all all 127.0.0.1/32 trust
host all all ::1/128 trust
host all all 0.0.0.0/0 trust 
```

**网络统计-nlp | grep 5432**

```
tcp        0      0 0.0.0.0:5432            0.0.0.0:*               LISTEN    6520/postgres
tcp6       0      0 :::5432                 :::*                    LISTEN    6520/postgres
unix  2      [ ACC ]     STREAM     LISTENING     15338180 6520/postgres       /var/run/postgresql/.s.PGSQL.5432 
```

**远程登录本地主机 5432**

```
Trying 127.0.0.1...
Connected to localhost.localdomain. 
```

但是当我尝试从我的计算机连接时，我总是得到“无法建立连接”。

知道我做错了什么吗？：/感谢您的帮助：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T21:20:21.493

您是否在运行 postgres 的服务器上禁用了防火墙？如果没有，请禁用并测试。如果您在禁用防火墙后能够连接，则需要在防火墙中打开端口 5432。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T22:46:19.547

检查明显的 IPTABLES，确保它没有运行：

```
iptables -L 
```

[http://wiki.debian.org/iptables](http://wiki.debian.org/iptables)

如果它正在运行并且默认规则已经到位，那么这可能会导致问题。

# c++ - 多态性概念

> ID：15418069
> 
> 赞同：-3
> 
> 时间：2013-03-14T19:05:48.577
> 
> 标签：c++

运行此程序时出现“分段错误”。请区分以下两个程序

```
class xxx{
        public: virtual void f(){cout<<"f in xxx"<<endl;}    //virtual function
                virtual void g(){cout<<"g in xxx"<<endl;}    //virtual function
};
class yyy{           //yyy has no relation with xxx at this context
        public: virtual void f(){cout<<"f in yyy"<<endl;}  //virtual function but no relation with xxx class
                void g(){cout<<"g in yyy"<<endl;}
};
int main(int argc, char *argv[])
{
        xxx x1,*x;
        yyy y1;
        x=&x1;
        x->f();
        x->g();
        x=(xxx*) &y1;        //one class pointer containing another class object address
        x->f();
        x->g();
} 
```

**- 输出**

```
f in xxx
g in xxx
f in yyy
Segmentation fault 
```

但是根据多态性概念有同样的问题

```
class xxx{
        public: virtual void f(){cout<<"f in xxx"<<endl;}     //virtual function
                virtual void g(){cout<<"g in xxx"<<endl;}     //virtual function
};
class yyy:public xxx{             //yyy is derived from xxx
        public: virtual void f(){cout<<"f in yyy"<<endl;}
                void g(){cout<<"g in yyy"<<endl;}
};
int main(int argc, char *argv[])
{
        xxx x1,*x;
        yyy y1;
        x=&x1;
        x->f();
        x->g();
        x=(xxx*) &y1;        //parent class pointer having derived class address
        x->f();
        x->g();
} 
```

**- 输出**

```
f in xxx
g in xxx
f in yyy
g in yyy 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:09:30.930

在第一种情况下，强制转换会产生垃圾，因为您告诉编译器好像`&y1`指向一个`xxx`而不是指向一个。在第二种情况下， a`yyy` *是*an `xxx`，因此将指向 a`yyy`的指针转换为指向 an 的指针是安全的，`xxx`因为它*是*一个。

如果您有一个指向卡车的指针，则可以将其视为指向车辆的指针，因为卡车就是车辆。但是，如果您有一个指向花的指针并将其视为指向车辆的指针，则它本质上是一个垃圾指针，并且取消引用它是未定义的行为。

不过，您应该使用 C++ 样式转换而不是 C 样式转换。如果您被迫表达预期的语义，则更有可能发现这种错误。（编写第一个代码的程序员是否认为它可以作为 a 工作`static_cast`？或者他们是否认为它可以作为 a 工作`reinterpret_cast`？选择一个代码的额外想法，或者在没有强制转换的情况下执行操作，可能已经避免了错误。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:19:41.703

在您的第一个示例中：

```
 x=(xxx*) &y1;        //one class pointer containing another class object address
    x->f();
    x->g(); 
```

该变量`x`实际上指向一个`yyy`与 class 无关的类`xxx`。在两者中都声明并且是唯一的虚函数的事实`f()`使它碰巧起作用。由于`g()`是类中的虚函数`xxx`，而不是类中的虚函数`yyy`，编译器将生成代码来调用虚函数，其中包含一些来自虚函数表（又名）中`g()`发生的任何垃圾的垃圾[究竟虚函数是如何实现当然是一个实现细节，但可以公平地期望每个类的某处都存储了某种函数“表”]。`f()``vtable`

如果你是这样声明的，它会给你带来更有趣的结果`yyy`：

```
class yyy{           //yyy has no relation with xxx at this context
        public: virtual void g(){cout<<"g in yyy"<<endl;}  //virtual function but no relation with xxx class
                void f(){cout<<"f in yyy"<<endl;}
}; 
```

它会告诉你，作为调用的结果，它必须“g in yyy” `f()`，然后调用失败`g()`......因为虚函数的工作方式不是根据它们的名字来调用它们，而是它们的类中的“顺序”[再次，它的工作原理是一个实现细节，由于我们正在处理“未定义的行为”，编译器还可以在屏幕上以闪烁的红色文本打印“答案是 42”或者听起来像紧急呼叫中的救护车——但这比我刚刚在典型的 C++ 编译器实现中描述的更不可能发生]。

在您的第二种情况下，由于`virtual`of`xxx`被继承到`yyy`中，因此该函数`g()`也是虚拟的`yyy`，因为“它按您的预期工作”，因为您所做的正是您应该做的。

另请注意，有 C++ 样式转换可帮助您避免犯此类错误 - 如果您做错了，它会在编译 ( `static_cast`) 时给出错误消息，或者如果您`dynamic_cast`在编译器无法确定的地方使用type 在编译时，它会给出`nullptr`结果，这很明显表明你弄错了。

# c# - 比较 int.TryParse 结果的值

> ID：15418070
> 
> 赞同：1
> 
> 时间：2013-03-14T19:05:59.823
> 
> 标签：c#, visual-studio-2008, substring, tryparse

我觉得问这个有点傻，因为要么我错过了一些非常简单的东西，要么根本不理解 tryParse 函数。

用外行的话来说，我想要在下面的代码中做的是让代码循环遍历 datagridview 中的所有列。如果列名的最后 2 个字符是数字，那么我想将最后 2 个字符的数值（使用 int.TryParse）与另一个变量进行比较。本质上，我想让我的所有列只读那些最后 2 位数字可以转换为整数并且该整数大于我要比较的变量的列。

我下面的代码可能有点普通，因为我试图在 int_tryParse 之前逐步设置变量，但我可以稍后修复。

C#，VS2008：

```
foreach (DataGridViewColumn col in grd1.Columns)
                {
                    string myCol = col.Name;
                    int myColLength = col.Name.Length;
                    string myColMonth = myCol.Substring(myColLength - 2);
                    if (int.TryParse(myColMonth, out myColMonth) <= myMostRecentActualMonth)
                    {
                        col.ReadOnly = true;
                    }
                    else
                    {
                        col.ReadOnly = false;
                    }
                } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:07:11.623

该`TryParse`方法返回一个`Boolean`值，指示解析是否成功。如果是这样，它将输出参数设置为解析值。

所以你想要的是这样的：

```
int parsedMonth; // This will get set if myColMonth is a valid integer
if (int.TryParse(myColMonth, out parsedMonth) && parsedMonth <= myMostRecentActualMonth)
{
   // ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:10:10.913

`int.TryParse`返回类型为 bool：

尝试从这里开始：

```
 foreach (DataGridViewColumn col in grd1.Columns)
        {
            string myCol = col.Name;
            int myColLength = col.Name.Length;
            string myColMonth = myCol.Substring(myColLength - 2);
            int myIntColMonth;
            if (int.TryParse(myColMonth, out myIntColMonth) 
                && myIntColMonth <= myMostRecentActualMonth)
            {
                col.ReadOnly = true;
            }
            else
            {
                col.ReadOnly = false;
            }
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:10:23.313

您可以像这样重写您的代码，首先您需要另一个`int`值来存储您的解析值，然后检查该值是否低于`myMostRecentActualMonth`

```
foreach (DataGridViewColumn col in grd1.Columns)
{
    string myCol = col.Name;
    int myColLength = col.Name.Length;
    string myColMonth = myCol.Substring(myColLength - 2);
    int myColMonthIntValue = int.MaxValue;
    if (int.TryParse(myColMonth, out myColMonthIntValue) && myColMonthIntValue <= myMostRecentActualMonth)
    {
        col.ReadOnly = true;
    }
    else
    {
        col.ReadOnly = false;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T19:10:46.760

`TryParse`返回一个布尔值，指示转换是否成功。您不想比较`TryParse`（您正在做什么）的结果，而是想与您传递给它的变量进行比较。

所以; if (int.TryParse(myColMonth, out myColMonth) <= myMostRecentActualMonth)

需要成为；

```
 if (int.TryParse(myColMonth, out myColMonth)
    if ( myColMonth <= myMostRecentActualMonth) 
```

首先检查您是否解析了一个 int，然后进行比较。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-14T19:11:51.163

```
foreach (DataGridViewColumn col in grd1.Columns)
     {
         string myCol = col.Name;
         int myColLength = col.Name.Length;
         string myColMonth = myCol.Substring(myColLength - 2);
         int myColMonthInt = 0;
         if (int.TryParse(myColMonth, out myColMonthInt)) 
         {  
             if (myColMonthInt <= myMostRecentActualMonth)
             {
                 col.ReadOnly = true;
             }
             else
             {
                 col.ReadOnly = false;
             }
         } 
         else 
         {
             // what do you want to do is last two chars can't be converted to int?
             col.ReadOnly = true;
         }
     } 
```

# ios - 如何禁用 MKMapView 上的用户交互？

> ID：15418071
> 
> 赞同：37
> 
> 时间：2013-03-14T19:06:09.433
> 
> 标签：ios, objective-c, mkmapview, mapkit

如何在 iOS 中禁用用户与整个地图（MKMapView）的交互？我只想禁用缩放、点击等并显示静态地图。`[self.mapView setUserInteractionEnabled:NO]`没用。通过 Google 或 Stack 上的其他答案在此处找不到有效的解决方案*（如果您找到有效的答案，请链接..）*。以 iOS 5 为目标。应该有更简单的方法来做到这一点。

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2013-03-14T20:35:30.437

关键是禁用缩放和滚动。

在 Objective-C 中：

```
self.mapView.zoomEnabled = false;
self.mapView.scrollEnabled = false;
self.mapView.userInteractionEnabled = false; 
```

或斯威夫特：

```
mapView.isZoomEnabled = false
mapView.isScrollEnabled = false
mapView.isUserInteractionEnabled = false 
```

* * *

顺便说一句，如果你想要一个静态地图，你可以考虑[`MKMapSnapshotter`](https://developer.apple.com/documentation/mapkit/mkmapsnapshotter)改用。这将创建地图的图像表示。如果您有注释或覆盖，则必须手动渲染它们，但根据您的用例，地图快照可能会完成这项工作。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2015-02-01T15:59:09.223

您可以在 Interface Builder 中执行此操作，如下所示：

![像这样](../Images/9e587a5c1a49cf8c34d9b539f9536f2e.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T19:10:57.983

这个小技巧怎么样！只需放在具有所有相同框架细节的`UIView`顶部即可。`MKMapView`另请注意，`backgroundColor`此视图的`clearColor`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T19:07:52.037

您可以将 MKAnnotationView 的 enabled 属性设置为 NO

要禁用缩放，您可以设置`mapView.zoomEnabled = FALSE;`

**启用**

一个布尔值，指示是否启用注释。

```
@property (nonatomic, getter=isEnabled) BOOL enabled 
```

**讨论**

此属性的默认值为 YES。如果此属性的值为 NO，则注释视图会忽略触摸事件并且无法选择。子类也可以根据此属性的值以不同的方式显示注释内容。

# haskell - “读者”单子

> ID：15418075
> 
> 赞同：18
> 
> 时间：2013-03-14T19:06:23.553
> 
> 标签：haskell, monads

好的，因此 writer monad 允许您将内容写入 [通常] 某种容器，并在最后取回该容器。在大多数实现中，“容器”实际上可以是任何幺半群。

现在，还有一个“读者”单子。*您可能会认为*，这将提供双重操作——从某种容器中增量读取，一次一个项目。事实上，这不是通常的 reader monad 提供的功能。（相反，它只是提供对半全局常量的轻松访问。）

要实际编写一个与通常的 writer monad*对*偶的 monad，我们需要某种与 monoid 对偶的结构。

1.  有人知道这种双重结构可能是什么吗？
2.  有人写过这个单子吗？它有一个众所周知的名字吗？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-03-14T20:09:34.640

一个幺半群的对偶是一个类群。回想一下，幺半群被定义为（同构的东西）

```
 class Monoid m where
    create :: () -> m
    combine :: (m,m) -> m 
```

有了这些法律

```
 combine (create (),x) = x
 combine (x,create ()) = x
 combine (combine (x,y),z) = combine (x,combine (y,z)) 
```

因此

```
 class Comonoid m where
    delete :: m -> ()
    split :: m -> (m,m) 
```

需要一些标准操作

```
 first :: (a -> b) -> (a,c) -> (b,c)
 second :: (c -> d) -> (a,c) -> (a,d)

 idL :: ((),x) -> x
 idR :: (x,()) -> x

 assoc :: ((x,y),z) -> (x,(y,z)) 
```

像这样的法律

```
idL $ first delete $ (split x) = x
idR $ second delete $ (split x) = x
assoc $ first split (split x) = second split (split x) 
```

这个类型类看起来很奇怪是有原因的。它有一个实例

```
instance Comonoid m where
   split x = (x,x)
   delete x = () 
```

在 Haskell 中，这是*唯一*的例子。我们可以将 reader 重铸为 writer 的精确对偶，但由于 comonoid 只有一个实例，因此我们得到了与标准 reader 类型同构的东西。

让所有类型都成为共形是使“笛卡尔封闭类别”中的类别“笛卡尔”的原因。“Monoidal Closed Categories”类似于 CCC，但没有此属性，并且与子结构类型系统有关。线性逻辑的部分吸引力在于增加的对称性，这是一个例子。同时，具有子结构类型允许您定义具有更多有趣属性的 comonoids（支持资源管理之类的东西）。事实上，这为理解 C++ 中复制构造函数和析构函数的作用提供了一个框架（尽管由于指针的存在，C++ 并没有强制执行重要的属性）。

编辑：来自comonoids的读者

```
newtype Reader r x = Reader {runReader :: r -> x}
forget :: Comonoid m => (m,a) -> a
forget = idL . first delete

instance Comonoid r => Monad (Reader r) where
   return x = Reader $ \r -> forget (r,x)
   m >>= f = \r -> let (r1,r2) = split r in runReader (f (runReader m r1)) r2

ask :: Comonoid r => Reader r r
ask = Reader id 
```

请注意，在上面的代码中，每个变量在绑定后只使用一次（因此这些都将使用线性类型）。monad 定律证明是微不足道的，只需要 comonoid 定律起作用。因此，`Reader`真的是对偶`Writer`。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-14T19:21:15.913

我不完全确定幺半群的对偶应该是什么，但认为对偶（可能是错误的）是某些事物的对立面（仅仅基于 Comonad 是 Monad 的对偶，并且具有所有相同的操作但相反）。而不是基于它`mappend`，`mempty`我会基于：

```
fold :: (Foldable f, Monoid m) => f m -> m 
```

如果我们在这里将 f 专门化为一个列表，我们会得到：

```
fold :: Monoid m => [m] -> m 
```

在我看来，这尤其包含所有的 monoid 类。

```
mempty == fold []
mappend x y == fold [x, y] 
```

所以，那么我猜这个不同的幺半群类的对偶将是：

```
unfold :: (Comonoid m) => m -> [m] 
```

这很像我在[这里](http://hackage.haskell.org/packages/archive/monoid-subclasses/0.1/doc/html/Data-Monoid-Factorial.html)看到的 hackage 的 monoid 阶乘类。

因此，在此基础上，我认为您描述的 'reader' monad 将是[supply monad](http://hackage.haskell.org/packages/archive/monad-supply/0.3/doc/html/Control-Monad-Supply.html)。supply monad 实际上是一个值列表的状态转换器，因此在任何时候我们都可以选择从列表中获取一个项目。在这种情况下，列表将是 deploy.supply monad 的结果

我应该强调，我不是 Haskell 专家，也不是专家理论家。但这是你的描述让我想到的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-14T20:32:55.477

供应是基于状态的，这使得它对于某些应用程序来说不是最理想的。例如，我们可能想要创建一个提供值的无限树（例如随机数）：

```
tree :: (Something r) => Supply r (Tree r)
tree = Branch <$> supply <*> sequenceA [tree, tree] 
```

但由于 Supply 是基于 State 的，所有标签都将位于底部，除了树下最左边路径的标签。

你需要一些可拆分的东西（比如在@PhillipJF's 中`Comonoid`）。但是如果你试图把它变成一个 Monad 就会出现问题：

```
newtype Supply r a = Supply { runSupply :: r -> a }

instance (Splittable r) => Monad (Supply r) where
    return = Supply . const
    Supply m >>= f = Supply $ \r ->
        let (r',r'') = split r in
        runSupply (f (m r')) r'' 
```

因为单子定律要求`f >>= return = f`, 所以这意味着`r'' = r`在 .. 的定义中`(>>=)`.. 但是，单子定律也要求`return x >>= f = f x`, 所以也是如此`r' = r`。因此，`Supply`作为一个单子，`split x = (x,x)`你`Reader`又得到了正常的旧的。

许多在 Haskell 中使用的 monad 并不是真正的 monad——也就是说，它们只满足*某些等价关系*的定律。例如，如果您根据法律进行转换，许多非确定性单子将以不同的顺序给出结果。但这没关系，如果您只是想知道某个特定元素是否出现在输出列表中，而不是 where ，这仍然是 monad*就*足够*了*。

如果您允许`Supply`成为某个等价关系的单子，那么您可以获得非平凡的拆分。例如[，value-supply](http://hackage.haskell.org/package/value-supply-0.6)将构造可拆分的实体，这些实体将以未指定的顺序（使用`unsafe*`魔法）从列表中分配唯一标签——因此 value supply 的供应单子将是标签排列的单子。这就是许多应用程序所需要的。而且，其实还有一个功能

```
runSupply :: (forall r. Eq r => Supply r a) -> a 
```

它抽象了这种等价关系以提供定义明确的纯接口，因为它允许您对标签做的唯一事情是查看它们是否相等，并且如果您置换它们，这不会改变。如果这`runSupply`是您允许的唯一观察结果`Supply`，那么`Supply`提供唯一标签就是真正的 monad。

# dbi - 什么是 DBI，它的用途是什么？

> ID：15418084
> 
> 赞同：1
> 
> 时间：2013-03-14T19:06:43.177
> 
> 标签：dbi

我想知道什么是 DBI，它的用途是什么，是否有“DBI 数据库”之类的东西

# apache - 使用多个虚拟主机设置 apache

> ID：15418086
> 
> 赞同：1
> 
> 时间：2013-03-14T19:06:50.203
> 
> 标签：apache, mod-rewrite, virtualhost, virtual-hosts

我无法让虚拟主机按我的意愿工作。我一直在寻找最后几个小时，但感觉我比以前更迷失了。

所以基本上我想要以下设置：

1.  [http://test.localhost](http://test.localhost) => D:\xampp\htdocs\test\site
2.  [http://test.localhost/call](http://test.localhost/call) => D:\xampp\htdocs\test\back\call.pl
3.  并且可能添加其他内容，例如 /whatever 指向其他 .pl 脚本

谁能给我一个提示？我一定错过了一些明显的东西......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:21:05.553

对于 localhost 子域，您必须将该子域添加到 /etc/hosts

```
127.0.0.1       localhost       test.localhost 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:11:09.023

您是否尝试编辑您的 apache conf 文件？

像这样的东西

```
# vi /usr/local/apache2/conf/extra/httpd-vhosts.conf
NameVirtualHost *:80

<VirtualHost *:80>
 ServerAdmin ramesh@thegeekstuff.com
 DocumentRoot "/usr/local/apache2/docs/thegeekstuff"
 ServerName thegeekstuff.com
 ServerAlias www.thegeekstuff.com
 ErrorLog "logs/thegeekstuff/error_log"
 CustomLog "logs/thegeekstuff/access_log" common
</VirtualHost>

<VirtualHost *:80>
 ServerAdmin ramesh@top5freeware.com
 DocumentRoot "/usr/local/apache2/docs/top5freeware"
 ServerName top5freeware.com
 ServerAlias www.top5freeware.com
 ErrorLog "logs/top5freeware/error_log"
 CustomLog "logs/top5freeware/access_log" common
</VirtualHost> 
```

# c# - Winnovative Html to pdf Converter 页码在附加文档上不正确

> ID：15418090
> 
> 赞同：3
> 
> 时间：2013-03-14T19:07:14.287
> 
> 标签：c#, html2pdf, page-numbering, winnovative

我在使用 Winnovative Html to Pdf Converter v8.0.0.0 时遇到问题，我的 pdf 页码不正确。这是我所做的。我在转换器上设置了页脚

```
pdfConverter.PdfFooterOptions.AddTextArea(new TextArea(500, 0, 50, "&p; / &P;", new Font(new FontFamily("Arial"), 8))); 
```

然后我从一个 url 创建一个文档

```
pdfDocument = pdfConverter.GetPdfDocumentObjectFromUrl(FirstUrl); 
```

然后我从一个 url 附加一个文档

```
pdfDocument.AppendDocument(pdfConverter.GetPdfDocumentObjectFromUrl(SecondUrl)); 
```

从第一个 url 产生的所有页面都包含正确的页码，但附加文档上的页码似乎没有重新计算

示例：FirstUrl 结果为 3 页，第二个为 2 页。页码是

```
1/5
2/5
3/5
1/2
2/2 
```

我希望他们像：

```
1/5
2/5
3/5
4/5
5/5 
```

我也尝试不将页脚添加到转换器，而是在转换后添加到 pdfDocument，如下所示：

```
PdfFont pdfFont = pdfDocument.Fonts.Add(new Font(new FontFamily("Arial"), 8));
  string strPageNum = "&p; / &P;";
  TextElement footerPageNumber = new TextElement(500, 0, 50, strPageNum, pdfFont);
  pdfDocument.FooterTemplate.AddElement(footerPageNumber); 
```

但在这种情况下。只有第一个 Url 中的页面在它们上获得页码，并且在附加文档的页面上无处可见。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-17T16:53:51.793

在另一个项目遇到同样的问题后。我终于找到了从许多 Url 创建 pdf 的正确方法。

我仍然像这样在文档上设置页脚：

```
pdfConverter.PdfFooterOptions.AddTextArea(new TextArea(500, 0, 50, "&p; / &P;", new Font(new FontFamily("Arial"), 8))); 
```

然后我像以前一样从 url 创建一个文档：

```
pdfDocument = pdfConverter.GetPdfDocumentObjectFromUrl(firstUrl); 
```

但我没有附加另一个 pdf，而是在 HtmlToPdfElement 中获得了第二个 url，如下所示：

```
 HtmlToPdfElement pdfBody = new HtmlToPdfElement(secoundUrl); 
```

最后使用新页面将其添加到 pdf 文档中。

```
PdfPage newPage = pdfDocument.Pages.AddNewPage();
newPage.AddElement(pdfBody); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-08-10T07:51:57.593

在最新版本的 Winovative HTML 到 PDF 转换器中，您现在可以在附加或附加到转换结果的外部 PDF 文档中添加页眉和页脚。[您可以在“在外部 PDF 文档](http://www.winnovative-software.com/demo/HTML_to_PDF/Headers_and_Footers/Header_Footer_In_External_PDF.aspx)中添加页眉和页脚”演示中找到包含 C# 源代码的完整示例

以下是从该演示应用程序复制的相关代码：

```
protected void convertToPdfButton_Click(object sender, EventArgs e)
{
    // Create a HTML to PDF converter object with default settings
    HtmlToPdfConverter htmlToPdfConverter = new HtmlToPdfConverter();

    // Set the PDF file to be inserted before conversion result
    string pdfFileBefore = Server.MapPath("~/DemoAppFiles/Input/PDF_Files/Merge_Before_Conversion.pdf");
    htmlToPdfConverter.PdfDocumentOptions.AddStartDocument(pdfFileBefore, addHeaderFooterInInsertedPdfCheckBox.Checked,
                        showHeaderInFirstPageCheckBox.Checked, showFooterInFirstPageCheckBox.Checked);

    // Set the PDF file to be added after conversion result
    string pdfFileAfter = Server.MapPath("~/DemoAppFiles/Input/PDF_Files/Merge_After_Conversion.pdf");
    htmlToPdfConverter.PdfDocumentOptions.AddEndDocument(pdfFileAfter, addHeaderFooterInAppendedPdfCheckBox.Checked, true, true);

    // Enable header in the generated PDF document
    htmlToPdfConverter.PdfDocumentOptions.ShowHeader = true;

    // Draw header elements
    if (htmlToPdfConverter.PdfDocumentOptions.ShowHeader)
        DrawHeader(htmlToPdfConverter, true);

    // Enable footer in the generated PDF document
    htmlToPdfConverter.PdfDocumentOptions.ShowFooter = true;

    // Draw footer elements
    if (htmlToPdfConverter.PdfDocumentOptions.ShowFooter)
        DrawFooter(htmlToPdfConverter, true, true);

    string url = urlTextBox.Text;

    // Convert the HTML page to a PDF document and add the external PDF documents
    byte[] outPdfBuffer = htmlToPdfConverter.ConvertUrl(url);

    // Send the PDF as response to browser

    // Set response content type
    Response.AddHeader("Content-Type", "application/pdf");

    // Instruct the browser to open the PDF file as an attachment or inline
    Response.AddHeader("Content-Disposition", String.Format("attachment; filename=Header_Footer_in_External_PDF.pdf; size={0}", outPdfBuffer.Length.ToString()));

    // Write the PDF document buffer to HTTP response
    Response.BinaryWrite(outPdfBuffer);

    // End the HTTP response and stop the current page processing
    Response.End();
}

/// <summary>
/// Draw the header elements
/// </summary>
/// <param name="htmlToPdfConverter">The HTML to PDF Converter object</param>
/// <param name="drawHeaderLine">A flag indicating if a line should be drawn at the bottom of the header</param>
private void DrawHeader(HtmlToPdfConverter htmlToPdfConverter, bool drawHeaderLine)
{
    string headerHtmlUrl = Server.MapPath("~/DemoAppFiles/Input/HTML_Files/Header_HTML.html");

    // Set the header height in points
    htmlToPdfConverter.PdfHeaderOptions.HeaderHeight = 60;

    // Set header background color
    htmlToPdfConverter.PdfHeaderOptions.HeaderBackColor = Color.White;

    // Create a HTML element to be added in header
    HtmlToPdfElement headerHtml = new HtmlToPdfElement(headerHtmlUrl);

    // Set the HTML element to fit the container height
    headerHtml.FitHeight = true;

    // Add HTML element to header
    htmlToPdfConverter.PdfHeaderOptions.AddElement(headerHtml);

    if (drawHeaderLine)
    {
        // Calculate the header width based on PDF page size and margins
        float headerWidth = htmlToPdfConverter.PdfDocumentOptions.PdfPageSize.Width -
                    htmlToPdfConverter.PdfDocumentOptions.LeftMargin - htmlToPdfConverter.PdfDocumentOptions.RightMargin;

        // Calculate header height
        float headerHeight = htmlToPdfConverter.PdfHeaderOptions.HeaderHeight;

        // Create a line element for the bottom of the header
        LineElement headerLine = new LineElement(0, headerHeight - 1, headerWidth, headerHeight - 1);

        // Set line color
        headerLine.ForeColor = Color.Gray;

        // Add line element to the bottom of the header
        htmlToPdfConverter.PdfHeaderOptions.AddElement(headerLine);
    }
}

/// <summary>
/// Draw the footer elements
/// </summary>
/// <param name="htmlToPdfConverter">The HTML to PDF Converter object</param>
/// <param name="addPageNumbers">A flag indicating if the page numbering is present in footer</param>
/// <param name="drawFooterLine">A flag indicating if a line should be drawn at the top of the footer</param>
private void DrawFooter(HtmlToPdfConverter htmlToPdfConverter, bool addPageNumbers, bool drawFooterLine)
{
    string footerHtmlUrl = Server.MapPath("~/DemoAppFiles/Input/HTML_Files/Footer_HTML.html");

    // Set the footer height in points
    htmlToPdfConverter.PdfFooterOptions.FooterHeight = 60;

    // Set footer background color
    htmlToPdfConverter.PdfFooterOptions.FooterBackColor = Color.WhiteSmoke;

    // Create a HTML element to be added in footer
    HtmlToPdfElement footerHtml = new HtmlToPdfElement(footerHtmlUrl);

    // Set the HTML element to fit the container height
    footerHtml.FitHeight = true;

    // Add HTML element to footer
    htmlToPdfConverter.PdfFooterOptions.AddElement(footerHtml);

    // Add page numbering
    if (addPageNumbers)
    {
        // Create a text element with page numbering place holders &p; and & P;
        TextElement footerText = new TextElement(0, 30, "Page &p; of &P;  ",
            new System.Drawing.Font(new System.Drawing.FontFamily("Times New Roman"), 10, System.Drawing.GraphicsUnit.Point));

        // Align the text at the right of the footer
        footerText.TextAlign = HorizontalTextAlign.Right;

        // Set page numbering text color
        footerText.ForeColor = Color.Navy;

        // Embed the text element font in PDF
        footerText.EmbedSysFont = true;

        // Add the text element to footer
        htmlToPdfConverter.PdfFooterOptions.AddElement(footerText);
    }

    if (drawFooterLine)
    {
        // Calculate the footer width based on PDF page size and margins
        float footerWidth = htmlToPdfConverter.PdfDocumentOptions.PdfPageSize.Width -
                    htmlToPdfConverter.PdfDocumentOptions.LeftMargin - htmlToPdfConverter.PdfDocumentOptions.RightMargin;

        // Create a line element for the top of the footer
        LineElement footerLine = new LineElement(0, 0, footerWidth, 0);

        // Set line color
        footerLine.ForeColor = Color.Gray;

        // Add line element to the bottom of the footer
        htmlToPdfConverter.PdfFooterOptions.AddElement(footerLine);
    }
} 
```

# python - 瓶子模板：如何导入python包

> ID：15418093
> 
> 赞同：3
> 
> 时间：2013-03-14T19:07:22.950
> 
> 标签：python, bottle

我正在写一个瓶子 SimpleTemplate，我想比较一个日期。您如何（以及在​​何处）在模板中导入 python 包？是否可以？

这是我正在尝试做的一个例子。我想将表示日期的数据（字符串）与今天的日期进行比较：

```
%if datetime.strptime(report['date'], '%m/%d/%Y') &lt; datetime.today():
    <span class="ui-icon ui-icon-circle-close"></span>
%elif report['result']:
    <span class="ui-icon ui-icon-circle-check"></span>
%elif not report['result']:
      <span class="ui-icon ui-icon-alert"></span>
%end 
```

为了使它在一个普通的 python 程序中工作，我不得不说

```
from datetime import datetime 
```

但是有没有办法在模板中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-01-03T16:54:02.240

**是的**，可以从模板内部导入模块。例如，bottlepy 本身使用它来生成错误页面：

```
ERROR_PAGE_TEMPLATE = """
%%try:
    %%from %s import DEBUG, HTTP_CODES, request, touni
    <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
    <html>
        <head>
            <title>Error: {{e.status}}</title>
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:15:55.360

不，这是不可能的。模板并不意味着包含复杂的逻辑，它们是表示层的一部分。您应该准备好视图中的所有数据并将其传递给已处理的模板。

因此，在您的情况下，您可能应该将您的逻辑移至视图 - 导致以下内容：

```
from datetime import datetime
if datetime.strptime(report['date'], '%m/%d/%Y') > datetime.today():
    report["status"] = "due"
else:
    if report["result"]:
        report["status"] = "pending_check"
    else:
        report["status"] = "missing_result" 
```

然后在模板中检查标志，如下所示：

```
%if report["status"] == "due":
    <span class="ui-icon ui-icon-circle-close"></span>
%elif report["status"] == "pending_check":
    <span class="ui-icon ui-icon-circle-check"></span>
%elif report["status"] == "missing_result":
      <span class="ui-icon ui-icon-alert"></span>
%end 
```

我没有故意使用`close`,`check`和`alert`作为`report["status"]`值，因为最佳实践是将数据与表示分离，因此不在视图中分配 HTML 类名称，而是像我在附加的代码段中那样对模板中的已处理数据进行操作。

然后，如果您决定更改图标，您只需在模板中执行此操作，这优于在视图中进行演示更改（例如，必须重新启动 Web 服务器才能使它们生效）。

**更新（2016 年 4 月）：** 显然现在有可能或变得有可能，因为我回答了，在瓶子模板中导入模块，但这仍然是一个坏主意 :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-25T10:57:28.663

我刚试过：

```
%from mymodule import * 
```

它似乎工作，没有时间进一步检查，我认为导入只是调用一个python方法，因此应该工作。

# android - 从 refs.xml 引用默认布局

> ID：15418094
> 
> 赞同：2
> 
> 时间：2013-03-14T19:07:23.150
> 
> 标签：android, android-layout, android-resources

针对不同设备尺寸的不同布局的经典设置：

要求：

*   手机/7" 平板电脑 - 单窗格
*   10 英寸平板电脑 - 双窗格

布局是：

*   `layout/main.xml`- 单窗格布局
*   `layout/main-dual.xml`- 双窗格布局

并且在 10" 中`values-large/refs.xml`完美运行：

```
<item name="main" type="layout">@layout/main-dual</item> 
```

但是，在 7" 中使用此`values-sw600dp/refs.xml`功能不会：

```
<item name="main" type="layout">@layout/main</item> 
```

我想这是因为我自己引用了主布局。引用具有不同名称的副本`main.xml`按预期工作。

完全没有`refs.xml`in`values-sw600dp`会产生双窗格布局。

例外情况`onCreate()`：

```
android.content.res.Resources$NotFoundException: Resource ID #0x7f0e0000 type #0x1 is not valid
03-14 18:36:45.591: E/AndroidRuntime(2078):     at android.content.res.Resources.loadXmlResourceParser(Resources.java:2144)
03-14 18:36:45.591: E/AndroidRuntime(2078):     at android.content.res.Resources.getLayout(Resources.java:853) 
```

所以我的问题是如何引用默认布局`values-xxx/refs.xml`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T10:01:59.580

试试这些。

您可以直接在 res 文件夹中进行布局。

```
res/layout/main_activity.xml           # For handsets (smaller than 600dp available width)
res/layout-sw600dp/main_activity.xml   # For 7” tablets (600dp wide and bigger)
res/layout-sw720dp/main_activity.xml   # For 10” tablets (720dp wide and bigger) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-25T18:02:33.780

我遇到了同样的问题，这是我放置 ref.xml 文件的地方。

对于我的大型和 sw600dp 相关文件，我将它们正确放置在`.../res/values-large`and`.../res/values-sw600dp`文件夹中。但是，我放置了默认`.../res/layout`文件夹而不是`.../res/values`文件夹。将其移动到正确的目录后，事情按预期工作。

在android studio中，您可以在左上角的组合框并选择`Android`它，它只会显示android相关的资源/文件。当我弄错时，第一个`refs.xml`出现在 layout 下，另外两个出现在`values/refs.xml`. 我确实有这张照片要发布，但我的声望点还不够高。

# jquery - 使用 jQuery 自动完成和阴影框内的输入文本

> ID：15418097
> 
> 赞同：1
> 
> 时间：2013-03-14T19:07:27.607
> 
> 标签：jquery, text, input, autocomplete, shadowbox

可以在影子框中使用带有输入文本的 jQuery 自动完成功能吗？我已经尝试过了，但没有工作。有人有例子吗？

# c# - 使用从数据库自动创建的模型中的实体框架

> ID：15418099
> 
> 赞同：2
> 
> 时间：2013-03-14T19:07:28.920
> 
> 标签：c#, .net, database, entity-framework

我正在尝试开始使用实体框架。我首先尝试填写日志（类型、消息、日期）表。

我的程序：

1.  创建表
2.  添加 ADO.NET 实体数据模型
3.  从数据库生成模型
4.  ?

我不知道如何使用模型来实际访问数据库。

我试图找到教程，但所有教程都没有详细说明重要部分。如果有人可以详细说明或提供一个好的和*完整*的教程，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:16:19.637

转到[复数视力.com](http://pluralsight.com/training/courses/TableOfContents?courseName=efarchitecture&highlight=julie-lerman_efarchitecture-m2-boundedcontext%2a4!julie-lerman_efarchitecture-m4-testing%2a4#efarchitecture-m2-boundedcontext)，注册免费试用并在企业中学习课程实体框架。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:18:10.090

它公开了一个名为 {YourModelName}Entities 的类

```
var myContext = new BlahBlahEntities(yourConnectionString); 
```

您的表是此对象的属性。代表您的表的对象也暴露在与 {...}Entites 相同的命名空间中。您可以在上下文的表属性中添加和删除项目，然后调用 SaveChanges() 将更改实际应用到数据库（在调用 SaveChanges 之前，更改仅存在于您正在使用的实体的副本上）。

# ios - ios xcode：使用 .net API 检查实时更新

> ID：15418100
> 
> 赞同：0
> 
> 时间：2013-03-14T19:07:29.390
> 
> 标签：ios, xcode, push-notification, nstimer

我正在尝试寻找一种方法来通知用户基于我创建的.Net API 的新更新。就像您在 facebook 上收到的通知一样，我只需要提醒用户某些内容已更新。所以我想我需要一个在后台运行的功能，而我的用户使用该应用程序与 NSTimer 结合使用。

根据我的研究（以及关于这个问题[https://stackoverflow.com/a/14835300/639713](https://stackoverflow.com/a/14835300/639713)）显然你只能为 VOIP 和位置服务实现这样的事情。而使用推送通知是唯一的方法。它真的是我可以用来满足这种需求的唯一选择吗？或者还有其他方法吗？

感谢您的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:13:23.463

你有两个选择：

1.  **当您的应用程序打开时，每隔一段时间轮询服务器以查看是否有任何更新要报告。**

    这仅在用户打开您的应用程序时才有效，并且正如您所注意到的，如果您的应用程序恰好是 VOIP 或导航应用程序，则只能长时间保持打开状态。

2.  **使用推送通知将更新推送到用户的设备。**

    这里的缺点是您需要编写一些服务器端代码来与 Apple 的推送通知服务器通信（如[本教程](http://www.raywenderlich.com/3443/apple-push-notification-services-tutorial-part-12)中所述）。在您的特定情况下，这可能是也可能不是什么大问题，但这是在您的应用程序未打开时向用户获取数据的唯一方法。

# c - 哪个编译器编译了这个文件？

> ID：15418101
> 
> 赞同：3
> 
> 时间：2013-03-14T19:07:29.563
> 
> 标签：c, gcc, gnu, gnu-make, armcc

我正在使用 gnu gcc 和 armcc 编译一些 C 文件。如何获取有关哪个编译器编译了哪个文件的信息？

例如：test.cpp 正在由 armcc 或 gnu gcc 编译。

makefile 非常复杂，我正在寻找一个命令，通过它我可以检查哪个编译器编译了哪个文件。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:15:14.517

有时您可以使用十六进制编辑器查看文件，并判断编译器是否将其名称写入文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T19:15:25.583

我不确定是否有更简单的方法，但是您可以使用 gcc 将它嵌入到二进制文件中（至少在我的平台上）：

```
$ hexdump -C foo | grep -A2 GCC

00001030  00 00 00 00 00 00 00 00  47 43 43 3a 20 28 55 62  |........GCC: (Ub|
00001040  75 6e 74 75 2f 4c 69 6e  61 72 6f 20 34 2e 37 2e  |untu/Linaro 4.7.|
00001050  32 2d 32 32 75 62 75 6e  74 75 33 29 20 34 2e 37  |2-22ubuntu3) 4.7| 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T20:11:16.007

一些编译器将编译器名称和版本嵌入到二进制文件中，但不是全部。我们还可以将我们想要的任何信息嵌入到二进制文件中。

```
gcc -DCOMPILER_DETAILS='"gcc 4.3.3"' temp.c 
```

在任何地方`temp.c`使用宏`COMPILER_DETAILS`，就像在`printf`. 这样这个字符串文字就会被嵌入到生成的二进制文件中。不要将此字符串分配给未使用的变量，编译器不会因为优化而嵌入。

# json - 使用数组的asp Xtreme解析json

> ID：15418106
> 
> 赞同：1
> 
> 时间：2013-03-14T19:07:43.620
> 
> 标签：json, asp-classic

所以我想要的是以下解析的 json。
相反，我得到 `Object doesn't support this property or method: 'Data'` 了错误。
我确信错误不在于从数据库中获取数据，当我不尝试解析它时它工作正常。
PS：我在这里起诉aspextreme的插件。

```
 {
        "checkins": {
            "data": [
            {   
                "strFirstName": "james",
                "strDateEntered": "2013-03-01 15:13:49"
            },
            {   
                "strFirstName": "john",
                "strDateEntered": "2013-03-05 15:13:49"
            }
    ]
    }
} 
```

代码：

```
Set Dataset = JSON.parse("{}")
Dataset.set "checkins", JSON.parse("{ ""data"": [] }")

SQL = "SELECT C.CheckinID, C.MemberID, C.VENUENAME, C.VenueLat, C.VenueLng, C.VENUECREATEDAT, C.CheckInDateEntered"
SQL = SQL & " FROM CHECKINS C"
SQL = SQL & " ORDER BY VENUECREATEDAT DESC" 
Set objCheckins = objConn.Execute(SQL)

If NOT objCheckins.EOF Then 
    Do While NOT objCheckins.EOF

        SQL = "SELECT FirstName, LastName"
        SQL = SQL & " FROM MEMBERS"
        Set objMember = objConn.Execute(SQL)

        Set Record = JSON.parse("{}")
            Record.set "strFirstName", ""& objMember("FirstName") & ""
            Record.set "strDateEntered", ""& objCheckins("VENUECREATEDAT") & ""
            Dataset.data.push(Record)
        Set Record = nothing

        Data = JSON.stringify(Dataset, null, 2)

    objCheckins.Movenext 
    Loop

End If
objCheckins.Close
Set objCheckins = Nothing

Response.Write Data 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T10:25:09.523

您是说这个“插件”：[Asp Extreme Evolution](https://github.com/nagaozen/asp-xtreme-evolution/blob/master/lib/axe/classes/Parsers/json.asp)吗？

如果您查看他们提供的示例，您可能应该使用

```
Record.setElement "..field..", "..value.." 
```

此外，`Set Record = JSON(...`and`Set Record = Nothing`应该分别在 ObjCheckings 循环之前和之后移动。

如果您使用其他东西，请告诉我们确切的插件。

# kendo-asp.net-mvc - 获取请求的价值 - Kendo UI Dropdownlist ASP.NET MVC

> ID：15418112
> 
> 赞同：1
> 
> 时间：2013-03-14T19:08:13.120
> 
> 标签：kendo-asp.net-mvc

我正在寻找为什么 Kendo Dropdownlist 框不保留我的价值并将其传递给请求。

我在 chtml 上有这个：

```
<form method="post" name="Lang">
Culture : @Culture

@(Html.Kendo().DropDownList()
.Name("cbLanguage") 
.DataTextField("Name") 
.DataValueField("Culture") 
.BindTo(new List<Language>()
{
    new Language() {Name = "Français (Canada)", Culture = "fr-CA"},
    new Language() {Name = "English (Canada)", Culture = "en-CA"},
    new Language() {Name = "English (United State)", Culture = "en-US"}
})
.Events(e => e
    .Select("cbLanguage_select")
)
.Value(Culture)
)

<select name="lang" onchange="submitLang();">
    <option></option>
    <option value="en-US" @(Culture == "en-US" ? "selected=\"selected\"" : "")>English</option>
    <option value="fr-CA" @(Culture == "fr-CA" ? "selected=\"selected\"" : "")>French</option>
</select>
</form>

<script>

function cbLanguage_select(e) {
    $('form').submit();
};

function submitLang() {
    $('form').submit();
}
</script> 
```

之后，我将此代码放在_ViewStart 上。

```
if (!Request["lang"].IsEmpty())
{
    Culture = UICulture = Request["lang"];
} 
```

---- 或者这取决于我要测试的每个组合！！！！

```
if (!Request["cbLanguage"].IsEmpty())
{
    Culture = UICulture = Request["cbLanguage"];
} 
```

使用标准组合真的很好。但我从来没有收到带有剑道下拉列表的请求值。

我需要帮助找出原因！！！

谢谢！

# magento - 如何从 massAction 调用正确的方法

> ID：15418115
> 
> 赞同：1
> 
> 时间：2013-03-14T19:08:25.260
> 
> 标签：magento, magento-1.7

我正在使用扩展程序 Blue Jalapeno Order Export 来导出订单，效果很好。我修改了一个输出格式选项以供我们的履行公司使用，它对我们来说效果很好。

现在我们需要另一个使用不同格式的导出。我已经确定了格式。我的问题是在订单网格中调用新的 massAction。这可以在下拉菜单中显示新动作#2。

```
class Webshopapps_Ordermanager_Block_Sales_Order_Grid extends Mage_Adminhtml_Block_Sales_Order_Grid
{
  protected function _prepareMassaction()
  {
    parent::_prepareMassaction();
    if (Mage::getStoreConfig("order_export/export_orders/active")) {

        $this->getMassactionBlock()->addItem('ordermanager', array(
             'label'=> Mage::helper('sales')->__('Export orders IFS'),
             'url'  => $this->getUrl('*/sales_order_export/csvexport'),
        ));
    }

    if (Mage::getStoreConfig("order_export/export_orders2/active")) {

        $this->getMassactionBlock()->addItem('ordermanager2', array(
             'label'=> Mage::helper('sales')->__('Export orders QB'),
             'url'  => $this->getUrl('*/sales_order_export/qbexport'),
        ));
    }
  }
} 
```

首先，工作出口仍然有效。第二个确实出现并允许我选择并提交它，但行为不同。第一个的 url 从未更改（/admin/sales_order/index），但会弹出下载框。第二个 url 更改为 admin/sales_order_export/qbexport/ 并呈现白屏

我想做的是在同一个控制器中调用不同的方法。或者将参数传递给一种方法。

我正在尝试什么：我在用于第一个 addItem 的同一控制器中添加了一个方法。

```
class Webshopapps_Ordermanager_Sales_Order_ExportController extends Mage_Adminhtml_Controller_Action
{
public function csvexportAction()  // First working mass action
{
$orders = $this->getRequest()->getPost('order_ids', array());

switch(Mage::getStoreConfig('order_export/export_orders/output_type')){
    case 'Multi':
    $file = Mage::getModel('webshopapps_ordermanager/export_multi')->exportOrders($orders);
    $this->_prepareDownloadResponse($file, file_get_contents(Mage::getBaseDir('export').'/'.$file));
    break;

    case 'Standard':
    $file = Mage::getModel('webshopapps_ordermanager/export_csv')->exportOrders($orders);
    $this->_prepareDownloadResponse($file, file_get_contents(Mage::getBaseDir('export').'/'.$file));
    break;

    }
}
public function qbexportAction()  
{
$orders = $this->getRequest()->getPost('order_ids', array());
switch(Mage::getStoreConfig('order_export/export_orders/output_type2')){
    case 'Qb':
    $file = Mage::getModel('webshopapps_ordermanager/export_qb')->exportOrders($orders);
    $this->_prepareDownloadResponse($file, file_get_contents(Mage::getBaseDir('export').'/'.$file));
    break;

    case 'Standard':
        $file = Mage::getModel('webshopapps_ordermanager/export_csv')->exportOrders($orders);
    $this->_prepareDownloadResponse($file, file_get_contents(Mage::getBaseDir('export').'/'.$file));
    break;
    case 'Mscrm':
    $file = Mage::getModel('webshopapps_ordermanager/export_mscrm')->exportOrders($orders);
    $this->_prepareDownloadResponse($file, file_get_contents(Mage::getBaseDir('export').'/'.$file)); 
    break;

    }
} 
```

还有 config.xml。我已经看过并且不明白是什么让第一次大规模调用正确的控制器和动作，但不是第二次。我的理解中的一个小故障，我需要纠正。

```
<config>
<modules>
    <Webshopapps_Ordermanager>
        <version>0.0.1</version>
    </Webshopapps_Ordermanager>
</modules>
 <global>
    <models>
        <webshopapps_ordermanager>
            <class>Webshopapps_Ordermanager_Model</class>
        </webshopapps_ordermanager>
    </models>
    <helpers>
    <webshopapps_ordermanager>
        <class>Webshopapps_Ordermanager_Helper</class>
    </webshopapps_ordermanager>
    </helpers>
     <blocks>
        <adminhtml>
            <rewrite>
                <sales_order_grid>Webshopapps_Ordermanager_Block_Sales_Order_Grid</sales_order_grid>
            </rewrite>
        </adminhtml>
    </blocks>
</global>
<admin>
     <routers>
        <adminhtml>
            <args>
                <modules>
                    <Webshopapps_Ordermanager before="Mage_Adminhtml">Webshopapps_Ordermanager</Webshopapps_Ordermanager>
                </modules>
            </args>
        </adminhtml>
    </routers>
</admin>
<adminhtml>
    <translate>
        <modules>
            <Webshopapps_Ordermanager>
                <files>
                    <default>Webshopapps_Ordermanager.csv</default>
                </files>
            </Webshopapps_Ordermanager>
        </modules>
    </translate>
    <default>
    <ordermanager>
    <condition_name>order_export</condition_name>
    </ordermanager>
    </default>
    <acl>
        <resources>
            <admin>
                <children>
                    <system>
                        <children>
                            <config>
                                <children>
                                    <order_export>
                                        <title>Export Orders</title>
                                    </order_export>
                                </children>
                            </config>
                        </children>
                    </system>
                </children>
            </admin>
        </resources>
    </acl>
</adminhtml>
</config> 
```

# c++ - 3D 视图中的 GL_LINE_LOOP，openGL C++

> ID：15418123
> 
> 赞同：-1
> 
> 时间：2013-03-14T19:08:38.417
> 
> 标签：c++, opengl

我正在制作一个 3D 太阳系，我需要在 3D 视图中查看 2D 圆，这实际上是行星在其上移动的轨道。

```
glBegin(GL_LINE_LOOP);
for(int i =0; i <= 300; i++)
{
    double angle = 2 * 3.1416 * i / 300;
    double x = .12 * cos(angle);
    double y = .12 * sin(angle);
    glVertex2d(x,y);
    glColor3f(1,1,1);
}
glEnd(); 
```

这是我用于查看 Orbit 的代码。如何在 openGL C++ 中将其设为 3D 视图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:17:42.783

如果您正在寻找的是在 3D 坐标空间中创建顶点，那么您应该使用:`glVertex3d`或`glVertex3f`. `double`请注意，这些函数采用 3 个参数，第一个参数是顶点的 xyz 坐标，`float`第二个参数是 in。

在您的轨道代码中，您应该生成一个额外的`z`坐标以及您已经在计算的`x`和坐标。`y`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:20:10.280

这是一个非常广泛的问题。我建议你看看[NeHe 教程](http://nehe.gamedev.net/tutorial/lessons_01__05/22004/)

设置好要渲染的 3D 窗口后，将模型视图矩阵设置为旋转轨道。

如果您真的想创建点并将它们存储在旋转位置，您可以使用模型矩阵通过以 3d 转换点结束来将点相乘。

# javascript - 使用 Javascript/Jquery 的文本选择

> ID：15418124
> 
> 赞同：0
> 
> 时间：2013-03-14T19:08:38.030
> 
> 标签：javascript, jquery, javascript-events

我在 html 页面中放置了一个 div 容器。里面放了一些文字。现在，我希望用户选择的文本（任意数量）显示在同一页面上的另一个 div 容器中。

```
<div id="d1"> Some Random text, Some Random text Some Random text, Some Random text</div>
<div id="d2"></div> 
```

我坚持如何从`d1`容器中提取文本。我尝试过使用`window.getSelection()`和相关的方法。具有讽刺意味的是，它应用于整个文档。怎么办？

PS-JSFiddle 演示会很有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:14:19.783

在我的 Mac 上试过这个似乎可以在 Safari/Chrome 和 FF 上运行，但不确定 IE

```
<head>
    <script>
        var mouseup_fun = function()
        {
            var str = document.getSelection().toString();
            if (str.length > 0) {
                document.getElementById("div2").innerHTML = str;  
            }

        }
    </script>
</head>
<body >
    <div id="div1" onmouseup="mouseup_fun()">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </div>
    </br></br>
    <div id="div2">

    </div>
</body>
</html> 
```

# ant - Ant 1.8.1 显示不正确的 java 版本？

> ID：15418127
> 
> 赞同：8
> 
> 时间：2013-03-14T19:08:52.740
> 
> 标签：ant, java-7

我在 Win 7 下运行 Ant 1.8.1。我的 Java 版本是 1.7_17。

我在构建文件中添加以下 2 行以进行诊断。

```
<echo message="java.version  = ${ant.java.version}"                   />
<echo message="java.home     = ${java.home}"                          /> 
```

结果是

```
 [echo] java.version  = 1.6
 [echo] java.home     = C:\Program Files\Java\jre7 
```

知道发生了什么吗？

是否在 Ant 1.8.1 中硬编码它可以显示的最高 Java 版本是 1.6？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-14T19:41:47.267

我是从 Ant 网站上找到的。它实际上是硬编码的。

```
ant.java.version    the JVM version Ant detected; currently it can hold
                    the values "1.2", "1.3",
                    "1.4",  "1.5" and "1.6". 
```

将我的 Ant 更新到 1.9.0 后，问题就解决了。

```
 [echo] java.version  = 1.7
 [echo] java.home     = C:\Program Files\Java\jdk1.7.0_17\jre 
```

这有点好笑。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:12:17.753

看起来您的 JAVA_HOME 设置正确，但是您的 PATH 环境变量中是否包含 %JAVA_HOME%\bin ？看起来您当前正在从 Java 6 安装中获取 java.exe。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-16T07:36:30.457

我认为`ant.java.version`显示了构建 Ant 的 Java 版本。您的 java 安装的实际版本存储在`java.version`.

# matlab - 使用 imshow 从 MATLAB 中的计时器回调函数更改 GUI 中的轴

> ID：15418129
> 
> 赞同：0
> 
> 时间：2013-03-14T19:08:53.293
> 
> 标签：matlab, user-interface, timer, callback, matlab-guide

我正在使用`OpeningFcn`具有轴（称为 hcam）的 GUI（称为 MainVidGUI，使用 GUIDE，这是由 GUIDE 创建的基本 GUI），并且通过按下按钮（称为 Acquisition），我想从实时视频流中修改帧并在轴上显示修改后的框架。

目前代码如下所示：

按键回调函数：

```
function Acquisition_Callback(hObject, eventdata, handles)
  global DevAdapt DevID DevFormat
  vid=videoinput(DevAdapt,DevID,DevFormat);
  vid.ReturnedColorspace = 'grayscale';
  set(vid,'TimerPeriod',0.1);
  triggerconfig(vid,'manual');
  set(vid,'FramesPerTrigger',1);
  set(vid,'TriggerRepeat',1000);
  start(vid);
  set(vid,'TimerFcn',{@lane_detection,handles}); 
```

定时器回调函数：

```
function lane_detection(vid, event, handles)
   trigger(vid);
   previewframe = getdata(vid,1);
   %code here that modifies the previewframe a little bit
   set(MainVidGUI,'CurrentAxes',handles.hcam);
   imshow(previewframe) 
```

当按下采集按钮时，将启用计时器并修改图像，但是它们显示在新的图 1 窗口中，而不是 GUI 轴。有没有什么办法解决这一问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T15:48:00.110

阅读 imshow 函数的帮助。在对 imshow 的调用中为“父”属性指定要绘制的轴。

# javascript - 是否可以从一个页面收集数据并使用 JS/jQuery 将其自动填充到不同站点上的表单中？

> ID：15418134
> 
> 赞同：0
> 
> 时间：2013-03-14T19:09:05.147
> 
> 标签：javascript, jquery, forms

我正在处理的网站要求在用户按下提交按钮时从表单中收集用户信息。然后，该站点将获取信息并将其插入到不同页面上的更强大的表单中，因此用户不必重新输入信息两次。

这可能使用javascript吗？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:12:08.773

这完全取决于 OTHER 站点。您可以拥有一个具有相同字段名称的表单，并将其发布到其他站点表单使用的相同 URL。

但是 - 如果该站点检查原始帖子的来源，它可能会阻止您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:18:49.163

一旦用户离开当前页面，原始页面上的 JavaScript 将不再运行，他们将加载另一个页面并运行该页面的 JavaScript。

你拥有这两个页面的所有权吗？

如果是这样，那么您可以利用表单*GET*跨页面传递信息，因此下一页将有一个[Query string](http://en.wikipedia.org/wiki/Query_string)，并且 JavaScript 可以解析它。

将数据从一个页面移动到另一个页面的另一种方法是使用[Cookie](http://www.quirksmode.org/js/cookies.html)。所以这真的取决于你想要移动多少数据。

但我强烈建议您利用服务器端技术来处理表单*GET*或*POST*并跨页面传递信息。

# ios - 通用设置中的iOS开发者菜单在哪里

> ID：15418147
> 
> 赞同：2
> 
> 时间：2013-03-14T19:09:53.563
> 
> 标签：ios, xcode, settings

我有很多 iOS 设备，有人在设置 -> 常规中向我展示了他们的开发人员条目。

我的设备都没有这个...

如何启用它？是否必须通过我机器的 IDE 将设备添加到门户？我找不到让菜单显示的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-10T05:32:43.990

通过 USB 将您的设备连接到您的 Mac，打开 Xcode → Organizer 并选择 Use for Development。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:28:16.027

我认为他们使用 iOS 6 删除了它。您现在必须进入移动 Safari 设置并在高级启用网络检查器下。

# bash - 如何在bash中测试一个字符串是否以另一个开头？

> ID：15418149
> 
> 赞同：9
> 
> 时间：2013-03-14T19:10:00.303
> 
> 标签：bash, git-bash

非常相似但不重复：[https ://stackoverflow.com/a/2172367/57883](https://stackoverflow.com/a/2172367/57883)

我在 Git Bash 3.1 中（至少当我在 git bash.

并且`$ test [["DEV-0" == D*]] || echo 'fail'`打印失败。

`if [['DEV-0-1' == DEV* ]]; then echo "yes";`说`[[DEV-0-1: command not found` 我正在尝试测试是否`git branch`返回以 DEV 开头的内容。但我似乎无法应用答案。是因为我所有的尝试都在左侧使用字符串文字而不是变量值吗？

我也试过 ideone [http://ideone.com/3IyEND](http://ideone.com/3IyEND)

没有运气。自从我擅长使用 linux 提示符以来已经有 14 年了。

我在 bash 中以 test 开头的字符串缺少什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-14T19:12:44.640

你错过了一个空间：

```
 if [[ 'DEV-0-1' == DEV* ]]; then echo "yes"; fi
      ^^ 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-14T20:54:28.373

我可能宁愿做这样的检查：

```
s1=DEV-0-1
s2=DEV

if [ "${s1:0:${#s2}}" == "$s2" ]; then
  echo "yes"
fi 
```

# actionscript-3 - 事件发生后交换特定的电影剪辑？

> ID：15418173
> 
> 赞同：0
> 
> 时间：2013-03-14T19:11:27.947
> 
> 标签：actionscript-3, flash-cs5

我创建了一个拖放“拼图”，它有 16 个独特的部分，每个部分都有自己的实例名称。

我遇到的问题是有 4 个由数组组成的目标区域（每个区域 4 个，但区域中的部分顺序无关紧要）。当一个片段落入其正确的区域时，我想用另一个影片剪辑“切换”它，并将新的影片剪辑放在放置目标区域中。

因此，对于 16 个拼图中的每一个，我还有 16 个独特的伴侣需要以某种方式配对，这样当可见的拼图掉落时，它既会从视野中移除，也会被它的伴侣替换。

关于如何做到这一点的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T22:01:30.903

`MovieClip`是一个动态类，这意味着您可以在运行时向它添加属性。利用这一点，您可以为您的原始作品分配一个属性，并将其命名为`pairedPiece`. 在此属性中，您将存储适当的值（库中其对的名称）。

```
var firstMovieClip:MovieClip;
// do whatever you need to set up your firstMovieClip, attach listeners, etc
firstMovieClip.pairedPiece = "SecondMovieClip";

// the following will occur when the piece is dropped and you need to swap it
var secondMovieClip:MovieClip = new (getDefinitionByName(firstMovieClip.pairedPiece) as Class)() as MovieClip;
secondMovieClip.x = firstMovieClip.x;
secondMovieClip.y = firstMovieClip.y;
firtMovieClip.parent.addChildAt(secondMovieClip, firstMovieClip.parent.getChildIndex(firstMovieClip));
firstMovieClip.parent.removeChild(firstMovieClip); 
```

# ruby - send_file 用于 Sinatra 中的临时文件

> ID：15418175
> 
> 赞同：4
> 
> 时间：2013-03-14T19:11:33.980
> 
> 标签：ruby, sinatra

我正在尝试使用 Sinatra 的内置[`send_file`](http://www.sinatrarb.com/intro.html#Sending%20Files)命令，但它似乎不适用于临时文件。

我基本上执行以下操作来压缩 mp3 专辑：

```
get '/example' do
  songs = ...
  file_name = "zip_test.zip"
  t = Tempfile.new(['temp_zip', '.zip'])
  # t = File.new("testfile.zip", "w")
  Zip::ZipOutputStream.open(t.path) do |z|
    songs.each do |song|
      name = song.name
      name += ".mp3" unless name.end_with?(".mp3")
      z.put_next_entry(name)
      z.print(open(song.url) {|f| f.read })
      p song.name + ' added to file'
    end
  end
  p t.path
  p t.size

  send_file t.path, :type => 'application/zip',
                         :disposition => 'attachment',
                         :filename => file_name,
                          :stream => false
  t.close
  t.unlink
end 
```

当我使用`t = File.new(...)`事情按预期工作时，但我不想使用`File`它，因为它会出现并发问题。

当我使用`t = Tempfile.new(...)`时，我得到：

```
!! Unexpected error while processing request: The file identified by body.to_path does not exist` 
```

* * *

编辑：看起来问题的一部分是我正在发送多个文件。如果我只发送一首歌曲，Tempfile 系统也能正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-06T09:44:10.543

我的猜测是您的其中一个歌曲名称中有错字，或者可能是 song.url 的最后一部分中的一个斜线？我[采用了您的代码](https://github.com/onli/music-streamer/blob/master/server.rb#L160)，如果所有歌曲都存在，那么将 zip 作为临时文件发送就可以了。

# mysql - 使用 if 语句的存储过程

> ID：15418179
> 
> 赞同：1
> 
> 时间：2013-03-14T19:11:41.970
> 
> 标签：mysql, stored-procedures, xampp

我这里有存储过程：

```
delimiter //
create procedure insert(p int, n varchar(10), d date, q int)
begin
select pname if(pname!=n) 
  then 
    insert into prod(p,n,d,q)values(p,n,d,q)
  else quant=quant + q;
from prod;
end;
// 
```

`prod`如果`pname`和不相等，此存储过程将向表中添加记录`n`ELSE 如果它们相等，则将更新并添加 q 的值。这个想法行不通，你能帮帮我吗？如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:36:49.980

```
....
BEGIN 
    DECLARE p CHAR DEFAULT NULL;
    SELECT pname FROM prod WHERE pname = n LIMIT 1 INTO p FOR UPDATE;
    IF(p) THEN
        UPDATE prod SET quant = quant + q WHERE pname = n;
    ELSE 
        INSERT INTO prod(p,n,d,q) values(p,n,d,q);
    END IF;
END; 
```

如果您在 prod 中的 pname 上有一个 UNIQUE 键，则有更简单的方法可以做到这一点。

# mysql - Mac OS X 10.8 上的 MySQL ODBC

> ID：15418183
> 
> 赞同：1
> 
> 时间：2013-03-14T19:11:52.343
> 
> 标签：mysql, macos, odbc, osx-mountain-lion

我在尝试使用 MySQL 的 ODBC 连接器连接到远程 MySQL 数据库时发现了一些问题。我在 Mac OS X 10.8.2 上，并且安装了 MySQL ODBC 连接器 5.2.4。每次我尝试使用此 ODBC 连接时，我的连接都会被拒绝。

有没有人有同样的问题？有什么解决方法吗？

**编辑：**我用 iODBC 测试了 ODBC 连接，得到以下结果：

```
SQLDriverConnect = [iODBC][Driver Manager]dlopen(/usr/local/lib/libmyodbc5.so, 6): image not found (0) SQLSTATE=00000
SQLDriverConnect = [iODBC][Driver Manager]Specified driver could not be loaded (0) SQLSTATE=IM003 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-24T09:29:03.587

[适用于 Mac OS X](http://dev.mysql.com/downloads/connector/odbc/)的MySQL 连接器/ODBC 2.5.6仅提供 10.6 (Snow Leopard) 和 10.7 (Lion) 版本。我不知道 MySQL 对 Mac OS X 版本 10.8（Mountain Lion）甚至 10.9（Mavericks）的任何官方支持！

付费许可解决方案在支持最新的 Mac OS X 版本上付出了更多努力......我已经尝试了带有 Mavericks[的 Mac OS X 的评估版 Actual ODBC Pack，](http://www.actualtech.com/download.php)每个记录集可以获得 3 行。您可以尝试一下，如果它有效，请查看是否值得为无限行付费。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-30T00:42:57.680

@Jason Sundram（OP）：仅供参考，甲骨文（作为对我提交的关于他们的文档的错误报告的回应）更新了 Mac OS X，连接器/ODBC 的 mysql 5 安装说明，位于： [https ://dev.mysql.com /doc/connector-odbc/en/connector-odbc-installation-binary-osx.html](https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-installation-binary-osx.html)

遵循这些步骤可能会有所帮助。他们在 OS X 10.9 (Mavericks) 中为我工作。但是，我也没有试图在你的环境中准确地做你的事情，所以我不确定按照指示重新安装可能会对你的问题产生什么影响。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:37:18.147

您使用的是 ODBC 管理员实用程序还是命令行？

[http://dev.mysql.com/doc/refman/5.0/en/connector-odbc-configuration-dsn-macosx.html](http://dev.mysql.com/doc/refman/5.0/en/connector-odbc-configuration-dsn-macosx.html)

**编辑：**我认为我没有注意到“远程”服务器。该远程服务器是否有有权从您的 IP 地址连接的用户？

# sql-server - 是否可以在不创建 nvarchar 变量的情况下在 SQL 中选择选择？

> ID：15418184
> 
> 赞同：2
> 
> 时间：2013-03-14T19:11:52.900
> 
> 标签：sql-server

我正在尝试做这样的事情：

```
--This table has a list of columns I need from #testTableTwo
CREATE TABLE #testTableOne
(
    id  nvarchar(250)
)

--This column has the values I need. I just don't know which columns I want.
CREATE TABLE #testTableTwo
(
    one INT,
    two INT,
    three INT,
    four int
)

INSERT INTO #testTableOne VALUES ('one'),('two'),('three')
INSERT INTO #testTableTwo VALUES (1,2,3,4)
    SELECT (SELECT * FROM #testTableOne) FROM #testTableTwo 
```

所以我想要的是：

```
SELECT ONE, TWO, THREE FROM #testTableTwo 
```

这可能吗？我知道我可以制作一个 nvarchar 并使用 COALESCE 做一些事情，但我试图避免这种情况。有什么好的方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:28:35.097

您将不得不像这样使用动态 SQL。

```
-- First construct the fields list
DECLARE @fields varchar(500)
SET @fields = STUFF((SELECT ', ' + #testTableOne.id
                FROM #testTableOne
                FOR XML PATH(''),TYPE).value('.','VARCHAR(MAX)')
            , 1, 2, '')

-- Next construct the actual SQL statement
DECLARE @sql nvarchar(max)
SET @sql = 'SELECT '+@fields+' FROM #testTableTwo'

-- And last but not least run it.
EXEC sp_executesql @sql 
```

# sql - PostgreSQL 动态获取转发计数值

> ID：15418185
> 
> 赞同：4
> 
> 时间：2013-03-14T19:11:55.043
> 
> 标签：sql, postgresql, cursor, plpgsql, postgresql-9.2

我有以下函数用于从表中检索一批 Id。`OFFSET`由于and`LIMIT`子句似乎提供了较差的性能，因此正在使用此功能。

```
CREATE OR REPLACE FUNCTION getBatch(_workloadId VARCHAR, _offSet INT, _limit INT)
  RETURNS SETOF NUMERIC AS $$
DECLARE 
    c SCROLL CURSOR FOR
      SELECT id FROM workload WHERE workload_id = $1 ORDER BY id ASC; 
BEGIN

OPEN c;
MOVE FORWARD $2 IN c; 
RETURN QUERY FETCH FORWARD 10 FROM c;

END;
$$ LANGUAGE plpgsql; 
```

我希望将`FETCH FORWARD`*`count`*其作为参数传递，但我无法找到执行此操作的方法。引用 $3 不起作用，我还尝试了以下方法：

```
EXECUTE 'RETURN QUERY FETCH FORWARD ' || $3 || ' FROM c;'; 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T01:28:18.973

您将[**SQL 游标**](http://www.postgresql.org/docs/current/interactive/sql-declare.html)与[**PL/pgSQL 游标**](http://www.postgresql.org/docs/current/interactive/plpgsql-cursors.html#PLPGSQL-CURSOR-USING)混淆了，它们相似但不相同。特别是`FETCH FORWARD`*`count`*plpgsql中没有：

> 方向子句可以是 SQL`FETCH`命令中允许的任何变体，除了可以获取多行的变体；即，它可以是`NEXT`, `PRIOR`, `FIRST`, `LAST`, `ABSOLUTE`count, `RELATIVE`count, `FORWARD`, 或`BACKWARD`.

在 plgpsql 中，您一次只能获取*一行*并处理（或返回）它。手册中还有[免责声明](http://www.postgresql.org/docs/current/interactive/sql-declare.html)：

> **注意**：本页描述了 SQL 命令级别的游标的使用。如果您尝试在 PL/pgSQL 函数中使用游标，则规则是不同的。

您可以在 plpgsql 中打开该游标并[循环返回 rows](http://www.postgresql.org/docs/current/interactive/plpgsql-cursors.html#PLPGSQL-CURSOR-FOR-LOOP)。但这仅在您想从大光标中获取多个不同的部分以节省开销时才相关。否则一个普通的`FOR`循环（带有自动光标）或一个简单`SELECT`的 with `OFFSET`and`LIMIT`肯定会更快。游标主要是为了返回给客户端并由客户端使用：

```
CREATE OR REPLACE FUNCTION getbatch_ref(_cursor refcursor, _workload_id text)
  RETURNS refcursor AS
$func$
BEGIN
OPEN $1 SCROLL FOR
   SELECT id
   FROM   workload
   WHERE  workload_id = $2
   ORDER  BY id; 

   RETURN $1;
END
$func$ LANGUAGE plpgsql; 
```

您可以在 SQL 中使用此函数：

```
BEGIN;
SELECT getbatch_ref('c', 'foo');
MOVE  FORWARD 10 IN c; 
FETCH FORWARD 10 FROM c;

ROLLBACK; -- or COMMIT; 
```

你也可以只使用普通的 SQL：

```
BEGIN;
DECLARE c SCROLL CURSOR FOR
   SELECT id
   FROM   workload
   WHERE  workload_id = 'foo'
   ORDER  BY id; 

-- OPEN c; -- only relevant in plpgsql
-- The PostgreSQL server does not implement an OPEN statement for cursors;
-- a cursor is considered to be open when it is declared. 
MOVE  FORWARD 10 IN c; 
FETCH FORWARD 10 FROM c;

ROLLBACK; -- or COMMIT; 
```

# c# - 以前工作的正则表达式匹配现在失败

> ID：15418186
> 
> 赞同：4
> 
> 时间：2013-03-14T19:11:56.547
> 
> 标签：c#, .net, regex

作为清理构建脚本中配置文件的一部分，我们有这样的东西：

```
Regex.IsMatch(LongStringOfFilecontents, @"Password=""[0-9a-zA-Z]*""") 
```

和

```
Regex.IsMatch(LongStringOfFilecontents, @"Password2=""[0-9a-zA-Z]*""") 
```

找到匹配项后，密码将在应用程序发布之前替换为虚拟值。

问题是它现在找到了“Password”，但没有找到“Password2”或“Password1”。

这段 C# .NET 3.5 代码已经使用了几年，已经运行了数百次，并且没有改变。就在几天前，它已成功运行。截至今天早上，它在“Password2”上窒息。配置文件确实包含 Password="一些任意值" 和 Password2="一些任意值"。

我怀疑“d2”可能被视为一种模式，但它不在 {} 内，并且如前所述，它已经正确运行了好几年。

我已经针对可能的超时进行了测试，但这似乎不是问题。我已经尝试过不区分大小写的选项，无论如何这都不重要（[a-zA-Z]，对吗？），这也没有效果。

它在两台不同的（Win 7 Professional、64 位、SP1）机器上失败，但在 XP 机器（SP 3）上按预期工作。

除非这是今天早上 Windows 7 自动更新的结果，否则我感到很困惑。

这是完整的上下文：

```
ReplaceInFile(filename, @"Password1=""[0-9a-zA-Z]*""", @"Password1=""REPLACE_ME""");

        private static bool ReplaceInFile(string filename, string regexp, string replacement)
    {
        try
        {
            if (File.Exists(filename))
            {
                string oldContents = null;
                using (StreamReader reader = new StreamReader(filename, true))
                {
                    oldContents = reader.ReadToEnd();
                }
                if (Regex.IsMatch(oldContents, regexp))
                {
                    string newContents = Regex.Replace(oldContents, regexp, replacement);
                    if (oldContents != newContents)
                    {
                        File.WriteAllText(filename, newContents);
                        return true;
                    }
                }
                else
                {
                    BuildFailed("DID NOT FIND " + regexp + " in " + filename + " Case-SeNsiTive?");
                }
            }
            return false;
        }
        catch (Exception ex)
        {
            BuildFailed(ex.Message);
            return false;
        }
    } 
```

这是正在检查的大文件的一小部分：

```
<Kirk Enabled="1" Type="8000" Password1="test_pwd" Password2="dev_pwd" UserName1="admin" UserName2="GW-DECT/admin" DutyCycle="1" TcpPort="10000" ServerIP="localhost" /> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:28:17.080

我认为你的问题更有可能是密码的内容不匹配`[0-9a-zA-Z]`而不是与`Password=`或`Password2=`部分的任何内容。该密码中很可能有一个非字母数字字符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:28:32.600

试试这个正则表达式（在 RegexPal.com 上使用似乎有效）。我确实逃脱了等号。

`@"Password[1-3]\=""[0-9a-zA-Z]*"""`

这是我的测试文本：

> Password1="Blah"
> Password2="blah2"
> Password3="045and2"

# java - 如何从网站获取文本到字符串？

> ID：15418187
> 
> 赞同：0
> 
> 时间：2013-03-14T19:11:59.910
> 
> 标签：java, android, network-programming

如何从[这个 URL](http://gdata.youtube.com/feeds/api/videos/JsD6uEZsIsU/related)获取 XML到`String`Android 上？我试图用教程来做，但没有成功。这是我的代码：

```
public String getXmlFromUrl(String url) {
    String text = "";
    try {
        HttpGet get = new HttpGet(url); 
        HttpClient httpclient = new DefaultHttpClient();
        HttpResponse response = httpclient.execute(get);
        InputStream inputStream = response.getEntity().getContent();
        String line = "";
        BufferedReader rd = new BufferedReader(new InputStreamReader(inputStream));
        while ((line = rd.readLine()) != null) {
            text += line; 
        }
    } catch (Exception e) {
        e.printStackTrace();
    }
    return text;
} 
```

# ruby - ruby 按一定顺序返回固定数量的元素

> ID：15418192
> 
> 赞同：0
> 
> 时间：2013-03-14T19:12:14.273
> 
> 标签：ruby

这可能是一个愚蠢的问题。我知道 sample 从数组中返回随机数量的元素。例如， [1,2,3].sample.times 做

有没有办法始终以特定顺序返回固定数量的元素？我不知道如何在红宝石中做到这一点。

编辑：假设我总是想从这里的第二个和最后一个数组中返回惩罚名称、严重性和名称。：

```
offenses = PERSON_SUMMARY[:offenses].map do |offense|
  offense[:penalties].map do |penalty|
    penalty.merge(name: offense[:offense_name])
  end
end.flatten

=> [{:penalty_name=>"Prison", :severity=>"Medium", :name=>"Speeding"}, {:penalty_name=>"Ticket", :severity=>"Low", :name=>"Speeding"}, {:penalty_name=>"Prison", :severity=>"Medium", :name=>"Shoplifting"}, {:penalty_name=>"Fine", :severity=>"Low", :name=>"Shoplifting"}] 
```

现在我正在做：

```
offenses.each do |hash|
hash.sample 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:22:14.647

我想你想要这样的东西：

```
[1,2,3,4,5].sample(4).sort 
```

它将从数组中获取 4 个随机数并对其进行排序...

**编辑**- 在您发表评论后：

```
[5,4,3,2,1].values_at(1,-1).sort #second element(1) and last one(-1)
=>[1, 4] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:26:49.497

你可以指定你想要的`values_at`（负数从后面开始计算。）

```
ar=[{:penalty_name=>"Prison", :severity=>"Medium", :name=>"Speeding"}, {:penalty_name=>"Ticket", :severity=>"Low", :name=>"Speeding"}, {:penalty_name=>"Prison", :severity=>"Medium", :name=>"Shoplifting"}, {:penalty_name=>"Fine", :severity=>"Low", :name=>"Shoplifting"}]
p ar.values_at(1,-1).map{|h|h.values}
#=> [["Ticket", "Low", "Speeding"], ["Fine", "Low", "Shoplifting"]] 
```

# c# - DataContract 命名空间未在 WSDL/XSD 中正确显示

> ID：15418195
> 
> 赞同：3
> 
> 时间：2013-03-14T19:12:19.453
> 
> 标签：c#, wcf, wsdl

我已经用谷歌搜索了这个垃圾，我已经走到了尽头。我有一个这样定义的服务合同：

```
[ServiceContract(Namespace="http://myfirstnamespace.mycompany.com")]
public interface IMyServices
{
    [OperationContract]
    [XmlSerializerFormat]
    myServiceResponse MyOperation(myServiceRequest myServiceRequest);
} 
```

对于我的请求定义，我有这个：

```
[DataContract(Namespace="http://mysecondnamespace.mycompany.com")]
public partial class myServiceRequest
{
    private string field1Field;
    private string field2Field;

    [DataMember]
    public string field1 {
        get {
            return this.field1Field;
        }
        set {
            this.field1Field = value;
        }
    }

    [DataMember]
    public string field2 {
        get {
            return this.field2Field;
        }
        set {
            this.field2Field = value;
        }
    }
} 
```

请注意命名空间的区别。不幸的是，实际代码在另一台计算机上处​​于锁定状态，所以我只能尽力证明这个问题。似乎 DataContract 上的命名空间被忽略了。我的 WCF 测试客户端将生成一个示例请求，如下所示：

```
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
  <s:Header>
    <Action s:mustUnderstand="1" xmlns="http://schemas.microsoft.com/ws/2005/05/addressing/none">http://www.openuri.org/</Action>
  </s:Header>
  <s:Body>
    <MyOperation xmlns="http://myfirstnamespace.mycompany.com/">
      <myServiceRequest xmlns:d4p1="http://mysecondnamespace.mycompany.com">
        <d4p1:field1 />
        <d4p1:field2 />
      </myServiceRequest>
    </MyOperation>
  </s:Body>
</s:Envelope> 
```

请注意，当我在 DataContract 属性中指定[http://mysecondnamespace.mycompany.com时，myServiceRequest 位于](http://mysecondnamespace.mycompany.com)[http://myfirstnamespace.mycompany.com下。](http://myfirstnamespace.mycompany.com)为什么？如何让这个参数显示在我想要的命名空间中？

我还想指出，我必须将此服务开发为现有的客户端规范。它是即将过时的服务的替代品，因此我无法更改客户端以接受任何不同的服务。

# php - 可以使用 unlink() 删除文件夹吗？

> ID：15418215
> 
> 赞同：-1
> 
> 时间：2013-03-14T19:13:12.367
> 
> 标签：php, unlink, delete-directory

`unlink()`使用php 删除文件夹（及其内容）有什么缺点吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:15:15.420

你不能。 `unlink`只能删除文件，不能删除目录。您可以使用 删除目录[`rmdir`](http://www.php.net/manual/en/function.rmdir.php)，但这只会删除空目录。您必须先取消链接各个文件。

# php - 如何让 mysqli 在 SQL 语句中使用 DELIMITER？

> ID：15418218
> 
> 赞同：3
> 
> 时间：2013-03-14T19:13:23.593
> 
> 标签：php, mysql, mysqli, delimiter

我正在使用 mysqli，现在尝试从 SQL 代码片段（由 MySQL Workbench 生成）中获取视图到数据库中。

```
$query = <<<QUERY
DROP VIEW IF EXISTS `myview` ;
SHOW WARNINGS;
DROP TABLE IF EXISTS `myview`;
SHOW WARNINGS;
DELIMITER $$
CREATE OR REPLACE VIEW `myview` AS

...view definition...

$$
DELIMITER ;

;
SHOW WARNINGS;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
QUERY;

$result = mysqli_multi_query($dbConnection, $query); 
```

这行不通。没有错误，该声明似乎只是被忽略了。仅当我删除定界符定义（行、、和）时，它`DELIMITER $$`才`$$`有效`DELIMITER ;`。

为什么它不起作用？我可以/应该做什么来在传递给`mysqli`函数和方法的 SQL 语句中使用分隔符？

谢谢

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2016-03-24T13:47:10.450

这是帮助我理解这一点的来源...... [http://zend-framework-community.634137.n4.nabble.com/Problems-sharing-the-sql-end-of-statement-delimiter-tp2124060p2124276.html](http://zend-framework-community.634137.n4.nabble.com/Problems-changing-the-sql-end-of-statement-delimiter-tp2124060p2124276.html)

> DELIMITER 不是实际的 MySQL 语句。

我相信这只是一些 MySQL 客户端为了帮助同时发送一堆 sql 语句而实现的。

**mysqli 驱动程序**没有实现这个功能。

所以，这应该有效。

```
$query = <<<QUERY
DROP VIEW IF EXISTS `myview` ;
SHOW WARNINGS;
DROP TABLE IF EXISTS `myview`;
SHOW WARNINGS;

CREATE OR REPLACE VIEW `myview` AS

...view definition...

;
SHOW WARNINGS;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
QUERY;

$result = mysqli_multi_query($dbConnection, $query); 
```

我遇到了同样的问题，使用相同的 mysqli 驱动程序，使用 multi_query 函数（在创建过程时使用分隔符）并从我的 SQL 中删除*DELIMITER 。*

# jquery - 为点击的链接添加一个 ID，但将其从其他链接中删除

> ID：15418219
> 
> 赞同：0
> 
> 时间：2013-03-14T19:13:23.110
> 
> 标签：jquery, hyperlink, add

我希望有人可以帮助我解决这个问题。我页面上的 jQuery 选项卡正在使用背景图像，我正在尝试将 id="current" 添加到单击的链接（用于活动状态）并希望从其他链接中删除该 ID。我还希望第一个选项卡在页面打开时具有 id。我尝试过的所有内容要么从所有链接中删除 id="current" ，要么将其添加到所有链接中。提前感谢您提供的任何帮助。~c

```
**jQuery**
<script type="text/javascript">
$(function(){   
$( "#tabs" ).tabs();

$('#tabs a').click(function(){
$(this).parent().attr('id', 'current');
('li #current').removeAttr('id', 'current');
});

});
</script>

CSS
#tabs a { float:left;background:url(images/tabLeft.png) no-repeat left top;}
#tabs a span { float:left;display:block;background:url(images/tabRight.png) no-repeat  right top;}/*grey bg*/
#tabs #current a { background-position:0% -30px;} /*purple bg*/
#tabs #current a span { background-position:100% -30px;} 

HTML
 <div id="tabs">
 <ul>
 <li id="current"><a href="#tabs-1"><span>Tab 1</span></a></li>
   <li><a href="#tabs-2"><span>Tab 2</span></a></li>
   <li><a href="#tabs-3"><span>Tab 3</span></a></li>
   <li><a href="#tabs-4"><span>Tab 4</span></a></li>
   <li><a href="#tabs-5"><span>Tab 5</span></a></li>
    </ul>

    <div id="tabs-1" >Tab 1 Content</div>
    <div id="tabs-2" >Tab 2 Content</div>
    <div id="tabs-3" >Tab 3 Content</div>
    <div id="tabs-4" >Tab 4 Content</div>
    <div id="tabs-5" >Tab 5 Content</div>

</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:36:42.743

首先，放弃使用 id 来处理这类事情。我做了一个例子，让你看看你如何使用类来操作元素和切换类。

```
$('.tab li a').click( function(){
$('.tab li a').parent().find('.current').removeClass('current');
$(this).addClass('current');
}); 
```

[http://jsfiddle.net/madaaah/hX4hE/](http://jsfiddle.net/madaaah/hX4hE/)

# javascript - “这个”没有按预期工作

> ID：15418221
> 
> 赞同：4
> 
> 时间：2013-03-14T19:13:26.793
> 
> 标签：javascript, jquery, this

我已经为此苦苦挣扎了一个小时，但我无法解决。我是使用`this`javascript 的新手，但这真的很简单，而且它不起作用。

这是HTML

```
<ul class="nav pull-right nav-tabs" id="primarynav">
    <li class=" navlink">
        <a href="#">About</a>
    </li>
    <li class="navlink active">
        <a href="#">Portfolio</a>
    </li>
    <li class="navlink">
        <a href="#">Contact</a>
    </li>
</ul> 
```

和 js

```
$(document).ready(function(){
    $(".navlink").click(function(){
        $(".navlink").removeClass("active");
        this.addClass("active");
    });
}); 
```

所以它**应该**`active`从所有带有 class 的元素中删除 class `navlink`，然后将 class 添加`active`到单击的元素。但事实并非如此。

[http://jsfiddle.net/Tckf7/](http://jsfiddle.net/Tckf7/)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-14T19:14:16.083

将其更改为：

```
$(this).addClass("active"); 
```

**[jsFiddle 示例](http://jsfiddle.net/j08691/mHeLf/)**

`.addClass()`是一个 jQuery 方法，您一直试图将其应用于非 jQuery 对象 ( `this`vs `$(this)`)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T19:14:51.543

[**addClass()**](http://api.jquery.com/addclass/)是一个 jQuery 方法，但`this`只是对 DOM 对象的直接引用。您需要先包装`this`到一个 jQuery 对象中，然后才能在其上使用 jQuery 方法。

```
$(document).ready(function(){
    $(".navlink").click(function(){
        $(".navlink").removeClass("active");
        $(this).addClass("active");
    });
}); 
```

* * *

[**演示**](http://jsfiddle.net/Tckf7/4/)- 使用`$(this).addClass()`而不是`this.addClass()`

* * *

**编辑**

稍微详细说明一下。您永远不能像 jQuery`addClass()`方法那样在 JavaScript 对象上调用 jQuery`addClass()`方法。

要在纯 JavaScript 中做同样的事情，如果你只想使用`this`，你可以使用[**element.className**](https://developer.mozilla.org/en-US/docs/DOM/element.className)，类似于：

```
$(document).ready(function(){
    $(".navlink").click(function(){       
        $(".navlink").removeClass("active");

        //$(this).addClass("active");
        this.className += " active";
    });
}); 
```

* * *

[**演示**](http://jsfiddle.net/Tckf7/5/)- 使用`this.className`示例

* * *

尽管如果您已经在使用 jQuery，那么不使用它就没有什么意义了`$(this).addClass()`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-14T19:15:22.590

`this`指的是 jQuery 附加事件的 DOMElement。要将其转换为 jQuery 集合并能够使用 jQuery 方法`addClass`，请将其作为参数传递给`$`：

```
$(this).addClass("active"); 
```

在函数内部，`this`关键字实际上是指函数的上下文。对于事件处理程序，上下文是处理程序附加到的 DOMElement。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-14T19:14:35.093

`this`不是 jQuery 对象，请`$(this)`改用。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-14T19:15:16.690

你应该使用 $(this)

```
$(document).ready(function(){
    $(".navlink").click(function(){
        $(".navlink").removeClass("active");
        $(this).addClass("active");
    });
}); 
```

[http://jsfiddle.net/Tckf7/2/](http://jsfiddle.net/Tckf7/2/)

# asp.net-mvc - Automapper - 如果 src 不为空，则创建对象

> ID：15418224
> 
> 赞同：0
> 
> 时间：2013-03-14T19:13:40.987
> 
> 标签：asp.net-mvc, automapper

sHow 我可以做这样的事情：

```
.ForMember(dest => dest.Ad, opt => opt.MapFrom(src => src.Ask_Id == null ? null : new Ask { Id = src.Ask_Id })) 
```

我得到一个不受支持的映射错误。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:36:41.710

我不确定你的类对象是什么样子，预先假设你有下面这样的类，

```
class Ask
{
    public int Id { get; set; }
}

class DestinationDto
{
    public Ask Ad { get; set; }
}

class SourceDto
{
    public int? Ask_Id { get; set; }
} 
```

如果是这样，那么使用下面的映射器。

```
Mapper.CreateMap<SourceDto, DestinationDto>()
 .ForMember(dest => dest.Ad, opt => opt.MapFrom(src => src.Ask_Id == null ? null : new Ask { Id = src.Ask_Id.Value }));

var source = new SourceDto { Ask_Id = 1}; // try with null
var destination = Mapper.Map<SourceDto, DestinationDto>(source); 
```

# javascript - div在页面底部展开时如何自动滚动？

> ID：15418227
> 
> 赞同：4
> 
> 时间：2013-03-14T19:14:00.037
> 
> 标签：javascript, jquery, html, css

最近我陷入了死胡同。我正在尝试扩展页脚（#footernotes）并且有效，它基本上是身体后面的一个 div（使用 z-index 完成），当您单击一个按钮时，它会向下移动。滚动条也随之而来，这意味着页面现在更长了。

但我想做的是让视口随着扩展的 div 移动。现在发生的情况是，当我按下按钮 (.secret) 时，div (#footernotes) 进入但它仍然不在视口中，除非您手动滚动以查看较长的页面。

因此，对于一些问题，如何在扩展页面后使视口自动向下滚动？换句话说，如何让视口停留在页面底部。

这是我的代码：

```
<script>
$(document).ready(function(){
    $('.secret').click(function(){
            $("#footernotes").animate({top: "100px"}, 1000);
        return false;
    });
});
</script>

<div id="footer">
    <a href="" class="secret" ><div id="buttontest" style="width:50px; height:50px; background-color:green;"></div></a>
    <div id="footernotes">
    </div>
</div> <!-- end #footer --> 
```

以及#footernotes 的 CSS

```
#footernotes {
    background-color: red;
    width: 100%;
    position: relative;
    top: -80px;
    height: 150px;
    z-index: -400;
} 
```

**编辑：**在输入我想出答案的问题时，您必须使用 scrollTop。我在下面的示例中添加了行代码：

```
<script>
    $(document).ready(function(){
        $('.secret').click(function(){
                $("#footernotes").animate({top: "100px"}, 1000);
                $('body,html').animate({scrollTop: "210px"},1000);
            return false;
        });
    });
    </script> 
```

如果您认为有更好的方法，您仍然可以回答这个问题，我只是想我会留下这个问题，以防其他人有同样的问题。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-14T19:16:33.977

```
document.getElementById('divID').scrollIntoView(); 
```

试着看看这是否能完成这项工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T21:36:41.207

可以使用 Jquery 方法 .focus() 来完成。只需要添加

$(divname / .class / #id).focus();

它会完成的。

# scheduler - 要求 LSF 立即分配

> ID：15418228
> 
> 赞同：0
> 
> 时间：2013-03-14T19:14:00.323
> 
> 标签：scheduler, lsf

如何要求 LSF 立即分配/执行我的工作而无需等待？

我很少有有时限的工作，我希望它们立即执行或立即终止。有没有办法做同样的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-02-28T20:40:29.200

你可以试试 brun 命令。要立即杀死，请尝试 bkill

# android - 如何签入应用程序已完成的 Robotium？

> ID：15418229
> 
> 赞同：3
> 
> 时间：2013-03-14T19:14:14.010
> 
> 标签：android, testing, robotium, android-lifecycle

我正在尝试使用 Robotium 创建一个测试方法，以检查 Android 应用程序在单击按钮后是否完成（在代码中，`finish()`当用户点击它时会调用它）。

```
public void test_onclickExit_finish() {
    String buttonText = resources.getString(R.string.exit);
    Button exitButton = solo.getButton(buttonText, true);
    solo.clickOnView(exitButton);
    // check here that the app has finished
    // wait for the activity to finish?
    assertTrue(solo.getCurrentActivity() == null);
} 
```

但是这个测试失败了。我不知道如何指示测试等到活动完成。另外我不确定 using`getCurrentActivity()`是否是检查应用程序是否完成的好方法。

如何检查应用程序/活动是否已完成？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-11-04T14:26:18.527

如果这是您的主要活动，请使用：

```
assertTrue(solo.getCurrentActivity().isFinishing()); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-25T03:22:54.953

这个问题很老，但也许我的解决方案可以帮助某人。

我找到了一种在使用 Robotium 时等待/检测活动是否完成的方法。

*   创建一个条件来检测活动根视图何时与窗口分离：（我在示例中使用了辅助方法）

    ```
    public static Condition activityWillClose(final Activity activity) {

        return new Condition() {
            boolean _detached = false;

            { // constructor
                View rootView = activity.getWindow().getDecorView().findViewById(android.R.id.content);
                rootView.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {
                    @Override
                    public void onViewAttachedToWindow(View view) {
                    }

                    @Override
                    public void onViewDetachedFromWindow(View view) {
                        _detached = true;
                    }
                });
            }

            @Override
            public boolean isSatisfied() {
                return _detached;
            }
        };
    } 
    ```

*   等待测试中的条件：

    ```
    solo.clickOnView(solo.getView(R.id.exitButton));

    Assert.assertTrue("should finish activity",
            solo.waitForCondition(activityWillClose(solo.getCurrentActivity()), 2000)
    ); 
    ```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-14T19:22:11.803

应用程序和检测在同一个进程中运行，如果你完成了你的应用程序，你就不能在检测中做更多的事情。它失败了，因为仪器也被杀死了，你试图做更多的事情。没有办法检查你想用robotium做什么。

# python - 在条形图和 Y 轴之间添加填充

> ID：15418234
> 
> 赞同：1
> 
> 时间：2013-03-14T19:14:27.893
> 
> 标签：python, matplotlib

我正在使用下面的代码使用 matplotlib 构建条形图。当我的第一列或最后一列数据为 0 时，我的第一列楔入 Y 轴。

一个例子。请注意，第一列在 x=0 点上。

![零第一列](../Images/3f936ffc39c89c2781cb8101ee28dedd.png)

如果我在此列中有数据，我会在 Y 轴和第一列之间得到一个巨大的填充，如此处所示。注意附加条，现在 X=0。如果我在最后一列中也有数据，则会重复此效果。 ![非零第一列](../Images/3a9d8e775dac7b6e7e3739b05e0ffa8f.png)

我的代码如下：

```
import matplotlib.pyplot as plt
import numpy as np
from matplotlib.ticker import MultipleLocator

binVals = [0,5531608,6475325,1311915,223000,609638,291151,449434,1398731,2516755,3035532,2976924,2695079,1822865,1347155,304911,3562,157,5,0,0,0,0,0,0,0,0]
binTot = sum(binVals)
binNorm = []

for v in range(len(binVals)):
    binNorm.append(float(binVals[v])/binTot)

fig = plt.figure(figsize=(6,4))
ax1 = fig.add_subplot(1,1,1)
ax1.bar(range(len(binNorm)),binNorm,align='center', label='Values')
plt.legend(loc=1)
plt.title("Demo Histogram")
plt.xlabel("Value")
plt.xticks(range(len(binLabels)),binLabels,rotation='vertical')
plt.grid(b=True, which='major', color='grey', linestyle='--', alpha=0.35)
ax1.xaxis.grid(False)
plt.ylabel("% of Count")
plt.subplots_adjust(bottom=0.15)
plt.tight_layout()
plt.show() 
```

如何在 Y 轴和我的第一个/最后一个条形之间设置一个恒定的边距？

此外，我意识到它被标记为“演示直方图”，这是因为我在纠正[此处](https://stackoverflow.com/questions/15413397/graph-matplotlib-to-show-total-count-in-the-histogram-bins)讨论的问题时错过了它。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-14T19:28:08.457

我无法运行您提供的代码片段，即使进行了一些修改，我也无法复制大空间。除此之外，如果您需要对 matplotlib 实施边界，您可以执行以下操作：

```
ax.set_xlim( min(your_data) - 10, None ) 
```

第一项告诉轴将边界放置在距数据最小值 10 个单位的距离处，None 参数让它保持当前值。

参加比赛：

```
from collections import Counter
from pylab import *
data = randint(20,size=1000)
res = Counter(data)
vals = arange(20)
ax = gca()
ax.bar(vals-0.4, [ res[i] for i in vals ], width=0.8)
ax.set_xlim( min(data)-1, None )
show() 
```

在stackoverflow周围搜索我刚刚学到了一个新技巧：你可以调用

```
ax.margins( margin_you_desire ) 
```

让 matplotlib 自动在你的情节周围放置这么多的空间。它也可以在 x 和 y 之间进行不同的配置。

在您的情况下，最好的解决方案是

```
ax.margins(0.01, None) 
```

小问题是该单位是轴单位，指的是您绘制的大小，因此 1 的边距将在您的绘图周围放置空间，两个尺寸都与您当前的绘图一样大

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-07T22:57:34.733

问题是`align='center'`。去掉它。

# css - 推特引导程序中的“示例”标题

> ID：15418235
> 
> 赞同：0
> 
> 时间：2013-03-14T19:14:30.850
> 
> 标签：css, twitter-bootstrap

我一直在查看[twitter bootstrap 中的“示例”标题，](https://stackoverflow.com/questions/12404077/example-heading-in-twitter-bootstrap)但这不是我想要的。我想做的是动态更改内容。

关于此示例[http://jsfiddle.net/YdusM/10/](http://jsfiddle.net/YdusM/10/)我尝试更改`<div class="well example" style="">`为`<div class="well example" style="content:"dsd"">`但没有成功。

这是可能的？？我做错了什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:32:49.320

这是行不通的，因为它`:before`包含“示例”文本。

你可以这样做（[JSFiddle](http://jsfiddle.net/YdusM/44/)）

*HTML*

```
<div class="well example tree">Tree</div> 
```

*CSS*

```
.tree:before { content: "Tree"; } 
```

# java - 从命令行编译时如何包含 Java 类？

> ID：15418236
> 
> 赞同：2
> 
> 时间：2013-03-14T19:14:32.677
> 
> 标签：java, command-line

我通常将 IDE 用于我的 Java 程序，但我最近切换到了命令行。

我创建了几个与我希望编译的“主”程序位于同一目录中的类。但是，命令“javac -cp test.jar ColorTester.java”会产生：

```
ColorTester.java:24: cannot find symbol
symbol  : class IntToColor
location: class ColorTester
      IntToColor colorFunc = new ModThreeToColor(testColor,
      ^ 
```

我的类 IntToColor 和 ModThreeToColor 都已编译到类文件中，但仍然没有什么不同。

IDE 一直为我解决这个问题，所以你可以想象我很困惑。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T19:16:44.883

像这样：

```
java -classpath <here> Program 
```

替换`<here>`为构成类路径的类和/或 jar 和/或包的列表，由`:`Unix 上的字符（或`;`Windows 中的字符）分隔。网上有很多文档，例如阅读这个[链接](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/classpath.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:18:02.873

在命令行类路径中包含当前目录。

`javac -cp test.jar:. ColorTester.java`

# html - CSS 规则：为所有有孩子的人赋予样式

> ID：15418238
> 
> 赞同：0
> 
> 时间：2013-03-14T19:14:37.417
> 
> 标签：html, css

我试图给所有`<div>`有孩子的人一种风格，而不是那些没有孩子的人。或者，给所有人一种风格，给那些没有孩子的人一种不同的风格。结构与此类似

```
<div>
    <div>
         <div>
              <div>Don't style me</div>
              <div>Don't style me</div>
         </div>
         <div>Don't style me</div>
         <div>Don't style me</div>
         <div>
             <div>
                  <div>Don't style me</div>
             </div>
         </div>
    </div>
 </div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:40:24.717

CSS 级别 4 正在开发中，将包括可以满足您要求的选择器。

当它确实可用时，语法将如下所示：

```
.myclass! div { ... } 
```

这将选择`.myclass`具有 div 元素的元素作为子元素。它基本上是一个普通的 CSS 选择器，但带有感叹号来告诉它选择哪个元素。（尽管请注意，在起草过程中首选语法已经改变了几次，他们还没有最终确定！）

如果您有兴趣对此进行跟进，可以在此处阅读当前形式的完整规范：http: [//dev.w3.org/csswg/selectors4/](http://dev.w3.org/csswg/selectors4/)

然而那是在未来。对于当前的浏览器，纯 CSS 无法实现您想要实现的目标。

那么你有什么选择呢？

*   最明显的变通方法是使用 javascript 来实现您想要的效果。jQuery 完全能够以您所描述的方式选择元素，如下所示：

    ```
    $('.myclass:has(div)'); 
    ```

*   同样明显的是将一个类添加到您想要设置样式的元素中，然后使用它。这可以在 Javascript 或您的服务器端代码中完成。实际上，在没有您可以使用的实际 CSS 选择器的情况下，这可能是最明显的答案。

*   根据您要执行的操作，您可以尝试重新排列 HTML 结构；在某些情况下，一些横向思考可以帮助您获得似乎可以做到这一点的结果，即使使用当今可用的 CSS 选择器也是如此。特别是，悬停效果通常可以通过这种方式解决。

*   同样，根据您的代码的外观以及您尝试使用它做什么，您可以尝试使用一些更深奥的 CSS 选择器。例如，`div:empty`将选择没有内容的 div。这不适用于您给出的示例（因为您在“空” div 中有文本），但在它们确实为空的其他情况下会起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T21:40:08.767

它可以通过两种方式完成：-

1）给父div一个特定的类，子div将继承样式。

2) 分别给 div 上课。

更好的选择是通过第一个选项实施。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:30:52.273

如果您真的希望使用您发布的结构，即没有为任何元素分配类或 id 的结构，那么您将无法准确检测具有 n 个子项的组中的底部元素。

诸如此类的运算符`>`可以为您提供直系后代，但他们无法告诉您它是否还有没有其他循环的其他子代，如迈克尔所示。因此，Michaels 方法的问题是您无法检测到级别 3 的 div 和级别 4 的 div 并将它们的样式设置为相同，因为级别 3 的所有 div 现在都继承了这种样式。

长而短 - 如果不添加一个或 2 个类，您将无法准确检测嵌套结构的最底部子级而不影响它的兄弟姐妹。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T19:19:35.620

使用“>”运算符。

[一些文档](http://meyerweb.com/eric/articles/webrev/200006b.html)

喜欢`div > div {}`

[http://jsfiddle.net/9tLXP/](http://jsfiddle.net/9tLXP/)

```
div {
    padding: 10px;
    background: red;
}

div > div {
    padding: 10px;
    background: blue;
}

div > div > div {
    padding: 10px;
    background: orange;
}

div > div > div > div {
    padding: 10px;
    background: green;
} 
```

编辑：显然，我继续为每个人设置不同的背景颜色以证明这一点。在您的情况下，您将删除我提供的一些额外样式。

# youtube - 使用 iframe 播放器时，YouTube 观看次数会增加吗？

> ID：15418239
> 
> 赞同：1
> 
> 时间：2013-03-14T19:14:38.560
> 
> 标签：youtube, youtube-api, youtube-javascript-api

我们正在将 youtube 播放器嵌入到我们的页面中。代码的简单实现和 html5 支持促使我们使用 youtube iframe 播放器。

问题是视图计数不适用于 api。没有视频不会自动播放，我们正在使用 youtube 的默认播放按钮播放视频。

当我恢复到 AS3 播放器视图计数似乎工作。

它是 iframe api 中的错误吗？有人遇到解决办法吗？

谢谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T19:50:43.137

我们使用 YouTube iFrame API 创建了一个包含视频的简单测试 html 文件，因为我们的想法是让视频播放器回退到移动设备上的 HTML5 视频播放器。但是，点击播放视频不计入观看次数： [http ://www.youtube.com/watch?v=-LHUt9FGgys](http://www.youtube.com/watch?v=-LHUt9FGgys)

在 html 的正文中，我们有以下内容：

```
<div id="player"></div>

<script>
var tag = document.createElement('script');

tag.src = "//www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var player;
function onYouTubeIframeAPIReady() {
player = new YT.Player('player', {
height: '390',
width: '640',
videoId: '-LHUt9FGgys',
events: {
'onReady': onPlayerReady,
'onStateChange': onPlayerStateChange
}
});
}

function onPlayerReady(event) {
  //event.target.playVideo();
}

var done = false;
function onPlayerStateChange(event) {
// if (event.data == YT.PlayerState.PLAYING && !done) {
// setTimeout(stopVideo, 6000);
// done = true;
// }
}
function stopVideo() {
player.stopVideo();
}
</script> 
```

看看您或其他人是否对此有解决方案会很有趣。谢谢！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T16:31:22.427

由于单击本机播放器 UI 元素之一（控制栏中的播放按钮或静态播放器图像）而产生的视图通常会计入增加视频的视图。显然还有其他信号可以发挥作用，但在所有条件相同的情况下，没有理由使用`<iframe>`嵌入与 ActionScript 3 嵌入来阻止视图被计算在内。

如果您有想要传递的具体实现示例，我可以看一下，看看您是否在做任何非正统的事情。

# matlab - 不使用循环的 2d 矩阵到 3d 矩阵

> ID：15418248
> 
> 赞同：1
> 
> 时间：2013-03-14T19:15:10.280
> 
> 标签：matlab, matrix, 3d, 2d, vectorization

我有一个 300x300 矩阵。我需要制作一个 300x300x1024 矩阵，其中每个“切片”都是原始的 300x300 矩阵。有没有办法在没有循环的情况下做到这一点？我尝试了以下方法：

老=G;

```
for j=2:N;

    G(:,:,j)=old;

end 
```

其中 N 是 1024，但我的内存不足。

知道更短的路线吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T20:21:00.577

使用[`repmat`](http://www.mathworks.com/help/matlab/ref/repmat.html).

```
B = repmat(A,[m n p...]) 
```

生成由 A 的副本组成的多维数组 B。B 的大小为 [size(A,1)*m, size(A,2)*n, size(A,3)*p, ...]。

在你的情况下，

```
G=repmat(old,[1 1 1024]); 
```

在没有 for 循环的情况下会产生你想要的结果。内存问题是一个完全不同的主题。一个 300x300x1024 的双矩阵将“花费”你大约 740 MB 的内存，这在现在并不多。在你尝试之前检查你的内存负载`repmat`，看看为什么你没有这些额外的 700 MB。使用`memory`并`whos`查看可用内存是多少以及可以清除哪些变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T20:37:09.580

您可能内存不足，因为您尚未预先初始化矩阵。

如果你先这样做，

```
old = G;
G = zeros(size(old,1), size(old,2), 1024); 
```

然后从而`1`不是开始循环`2`，你可能不会用完内存

为什么这样做是因为您首先为整个矩阵留出了足够大的内存块。如果不初始化矩阵，matlab 首先为 300x300x1 矩阵留出足够的内存。接下来，当您添加第二个切片时，它会向下移动内存，并为 300x300x2 矩阵分配一个新块，依此类推，永远无法访问为第一个矩阵分配的内存。

这在 matlab 中经常发生，因此永远不要在循环中增长矩阵是很重要的。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-14T19:22:25.653

快速回答是否定的，您将需要循环。

你也许可以做一些聪明的事情，比如块复制你的数组的内存，但你甚至没有给我们一种可以使用的语言。

您可能希望确保矩阵中的每个条目都是最小大小，即使是字节矩阵大小，您也需要 92mb，如果您存储的是 64 位值，我们几乎是在谈论一个 gig。如果它是一个对象，您的数字将立即跃入多演出范围。位打包可能会派上用场......但再次不知道你的其他限制是什么。

编辑：我更新了你的标签。

我不确定我是否能帮上大忙，但双打都是 64 位，所以至少你说的是 2gb（如果你在 32 位操作系统上，你已经不可能了）。如果每个单元格包含一个或两个指向不同内存位置的指针，这很容易翻倍（我对 matlab 的了解不够，无法确定地告诉你）。

如果您不在 8gb 64 位机器上运行，我认为您没有机会。如果是，请将所有内存分配给 matlab 并祈祷。

对不起，我不能提供更多帮助，也许其他人知道更多技巧。

# java - Java 实体表模型

> ID：15418255
> 
> 赞同：1
> 
> 时间：2013-03-14T19:15:24.467
> 
> 标签：java, swing, model, jtable, entity

我想制作一个通过列表存储实体的表模型。像这样;

```
List list = new ArrayList<Entity>();
list.add(entity);
tableModel.setEntityVector(list); 
```

在扩展 AbstractTableModel 的实体表模型中，方法 getValueAt(int row, int column) 应该根据行和列值返回实体字段的值。行表示列表中的实体编号，列表示实体对象中的字段编号。但问题是当我使用以下代码时；

```
Entity entity = list.get(rowCount - 1);
Field[] fields = entity.getClass().getDeclaredFields(); 
```

我无法访问对象的字段，因为实体字段必须是私有的。如果我使用 getDeclaredMethods() 而不是 getDeclaredFields() 方法，那么我无法使用列参数达到我想要的方法，因为有构造函数、设置器......

我的问题是；如何使用 AbstractTableModel 的 getValueAt(int row, int column) 方法的列参数获取实体的字段值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:37:57.570

您可以使用 getDeclaredFields() 访问类的所有私有字段。请参阅下面给出的代码：

```
import java.lang.reflect.Field;
import java.util.ArrayList;

class Private {
    private int i = 20;
    public String s = "java";
    private String name = "Object";
    private ArrayList<String> list = new ArrayList<String>()
    {
        {
            add("Hello");add("World");
        }
    };
}
public class Tester
{
    public static void main(String[] st)throws Exception
    {
        Private  p = new Private();
        Field[] fs = p.getClass().getDeclaredFields();
        for (Field f : fs )
        {
            f.setAccessible(true);
            System.out.println(f.get(p));
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:53:46.123

您也许可以使用[Bean Table Model](http://tips4java.wordpress.com/2008/11/27/bean-table-model/)。

# iphone - 在 nextpeer 多人游戏屏幕上方显示 Revmob 全屏广告

> ID：15418258
> 
> 赞同：1
> 
> 时间：2013-03-14T19:15:29.540
> 
> 标签：iphone, cocos2d-iphone, revmob, nextpeer

我正在使用[Nextpeer](http://nextpeer.com)在我的游戏中添加多人游戏设施。现在我想在用户开始游戏时显示广告，所以我在用户按下开始按钮时显示广告。但问题是 Revmob 全屏显示在该屏幕下方。我希望该广告应该出现在 Nextpeer 屏幕上方。任何指南或帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T15:24:53.207

只要您不阻止 Nextpeer 广告，就可以在用户开始游戏时和 Nextpeer 屏幕上显示广告。

[您可以在此链接](http://nextpeer.com/pricing)中阅读有关我们针对开发人员的定价计划的更多信息

# php - php start_session() 的范围是什么？

> ID：15418259
> 
> 赞同：1
> 
> 时间：2013-03-14T19:15:33.847
> 
> 标签：php

`session`变量的范围是什么`$_SESSION['']`？如果我有一堆网页调查串在一起，一个接一个，会`session variable`在一定时间后过期还是只要你不关闭浏览器就会存在？如果你让你的电脑休眠会发生什么？

休眠后我似乎丢失了一个会话变量，我不确定这是问题所在还是还有其他问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:22:36.600

由于多种原因，整个会话（不仅仅是单个变量）可能会继续或丢失。

在默认配置中，会话意味着在浏览器关闭时“丢失”，因为浏览器将删除标识会话的 cookie。它仍然在服务器上的某个地方，直到会话垃圾收集将其删除。因此，长时间闲置的浏览器可能仍然会丢失它的会话，因为 PHP 会删除最近未使用的浏览器。

检查[配置](http://www.php.net/manual/en/session.configuration.php)。特别是，如果您需要延长会话时间，您可能需要根据需要调整“session.gc_maxlifetime”和“session.cookie_lifetime”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:23:29.703

会话变量不会过期。*会话*到期受制于[`session_gc.maxlifetime`和其他配置选项](http://www.php.net/manual/en/session.configuration.php#ini.session.gc-probability)。

会话与浏览器无关。但是，浏览器可能会选择不向服务器发送所需的信息，以便服务器恢复较早的会话。这通常发生在浏览器将所有 cookie 视为会话 cookie 时。

在此上下文中，术语*会话 cookie*并不意味着包含会话标识符或会话变量的 cookie。相反，它是一个 cookie，一旦浏览器关闭（即浏览器前面的用户会话结束），它就会消失。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T19:24:10.670

取决于：

*   cookie 的生命周期，`0` *应该*意味着*“直到浏览器关闭”*，但 firefox / mozilla 倾向于将其（由于它们的“恢复会话”功能）视为*“永远”*（恕我直言，这是一个安全问题，因此您应该重新生成您的 id收到一个空的会话数组）。所以：用户代理依赖。
*   陈旧会话的配置垃圾收集。请注意，您可以让网络服务器处理这个（清理陈旧数据的 X% 变化），这使得它有点不可预测。但是，某些软件包（例如 Debian 上的 PHP）只是使用 cronjob 来删除过时的会话，如果您的自定义`session.gc_maxlifetime`设置由于另一个服务器范围的设置而被忽略，这可能会造成严重破坏。

因此，换句话说，如果您的 UA 决定保留 cookie，并且没有进程决定删除数据，您的会话仍然存在。这需要您了解 UA 和服务器的设置。

# javascript - 如何从jquery中获取下拉更改值到另一个函数

> ID：15418260
> 
> 赞同：3
> 
> 时间：2013-03-14T19:15:35.313
> 
> 标签：javascript, jquery

这是我的代码

```
$(function(){
    $('#dropdown_name').change(function(){
        var V = $('#dropdown_name').val();
        var T = $('#dropdown_name :selected').text();
    });
}); 
```

我想发送`V`and`T`的值低于函数

```
function xyz()
{
    a = V;
    b = T;
    alert(a);
    alert(b);
} 
```

在 Function`xyz`中，我必须调用许多函数，所以我不想要，它作为`xyz`函数的参数。那么，当我选择一个下拉列表时，如何以另一种方式获取数据，然后它将显示警报（a 和 b）该值和下拉列表的文本。

怎么解决，请多多指教。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:17:26.447

您可以改用全局变量：

```
function xyz()
{
    a = window.V;
    b = window.T;
    alert(a);
    alert(b);
} 
```

您将像这样调用该函数：

```
$(function(){
    $('#dropdown_name').change(function(){
    window.V = $('#dropdown_name').val();
    window.T = $('#dropdown_name :selected').text();
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:22:02.630

如果您不想作为参数传递，您可能需要在所有使用变量的函数都可用的范围内定义变量。

```
var V,T;
$(function(){
    $('#dropdown_name').change(function(){
    V = $('#dropdown_name').val();
    T = $('#dropdown_name :selected').text();
    xyz();
    });
});

function xyz(){
    alert(V); alert(T)
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T19:23:26.537

你也可以使用全局值

```
var V = ""; 
var T = "";
$(function(){
    $('#dropdown_name').change(function(){
        V = $('#dropdown_name').val();
        T = $('#dropdown_name :selected').text();
    });
});
I want to send V and T's value below function

function xyz()
{
    a = V;
    b = T;
    alert(a);
    alert(b);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-14T19:24:17.533

如果您有 fol 标记，您可以调用您的函数而不是匿名回调

```
<select>
    <option value=""> select </option>
    <option value="2">SO</option>
    <option value="3">google</option>
</select> 
```

js

```
function callback(e){
    console.log($(e.target).val());

}

$(function(){
 $("select").change(callback);
}); 
```

您可以将回调函数替换为`xyz`

[演示](http://jsfiddle.net/pEW4t/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-14T19:24:34.037

从 change 事件中调用 xyz 并分配 xyz 中的变量。

```
$("#dropdown_name").change(function() {
    xyz();
});

function xyz() {
    var a = $("#dropdown_name option:selected").val();
    alert(a);
} 
```

演示：http: [//jsfiddle.net/D48FY/](http://jsfiddle.net/D48FY/)

# c - 麻烦在C中将字符串转换为long long

> ID：15418262
> 
> 赞同：7
> 
> 时间：2013-03-14T19:15:42.983
> 
> 标签：c, string, long-long

我无法让环礁函数在 c 中正确设置 long long 值。这是我的例子：

```
#include <stdio.h>

int main(void) {
    char s[30] = { "115" };
    long long t = atoll(s);

    printf("Value is: %lld\n", t);

    return 0;
} 
```

这打印：值是：0

这虽然有效：

```
printf("Value is: %lld\n", atoll(s)); 
```

这里发生了什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-14T19:50:27.507

**首先，让我们回答您的问题：**

```
#include <stdio.h>
#include <stdlib.h>  // THIS IS WHAT YOU ARE MISSING

int main(void) {
    char s[30] = { "115" };
    long long t = atoll(s);

    printf("Value is: %lld\n", t);

    return 0;
} 
```

**然后，让我们讨论并回答“为什么？”：**

为了与非常旧的 C 程序（C89 之前）兼容，使用没有首先声明的函数只会从 GCC 生成警告，而不是错误（正如这里的第一条评论所指出的，在 C89 中也允许隐式函数声明，因此生成错误是不合适的，这是只生成警告的另一个原因）。 **但是假设这样一个函数的返回类型是（例如`int`不是指定的类型），这就是程序意外执行但没有产生错误的原因。`stdlib.h``atoll`**如果你编译`-Wall`你会看到：

> 警告：函数的隐式声明`atoll`

这个事实在人们使用`atof`without include 时最令人震惊`stdlib.h`，在这种情况下不会返回预期`double`值。

注意：（*作为对问题评论之一的回答*`atoll`）这就是如果不包含正确的标题，结果可能会被截断的原因。

# android - 如何访问第二个麦克风安卓如 Galaxy 3

> ID：15418267
> 
> 赞同：8
> 
> 时间：2013-03-14T19:16:05.917
> 
> 标签：android, microphone

现在很多智能手机都有不止一个麦克风。一个用于语音输入，另一个用于降低环境噪音。

我想知道如何独立访问两个麦克风的信号？或者关闭其中一个麦克风？

欢迎任何想法或评论。非常感谢。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-14T19:41:07.583

我对 Galaxy S3 并不特别熟悉，但对于我使用过的大多数设备来说，以下情况都是正确的：

*   没有可靠的方法来选择是否使用主麦克风或辅助麦克风进行单声道录音。在进行单声道录音时，`MIC`AudioSource*通常*表示主麦克风，而`CAMCORDER`源*可能*表示辅助麦克风。但不能保证这一点，因为它取决于例如麦克风的物理位置。

*   以单声道录音有效地关闭了另一个麦克风，并且无论做什么降噪都只使用来自一个麦克风的信号（因此几乎没有减少动态噪声）。
    一个例外情况可能是，如果您在语音通话期间录制，并且两个麦克风都已启用，以便进行上行链路噪声抑制。
    另一个例外可能是您使用`VOICE_RECOGNITION`AudioSource，因为一些供应商在此用例中使用一个或多个额外麦克风对信号进行噪声抑制。

*   从 2 麦克风设备上的两个麦克风录制立体声录音。左声道包含来自一个麦克风的输入，右声道包含来自另一个麦克风的输入，但不能保证通道对应于哪个物理麦克风（同样，取决于放置）。

# c# - ServiceStack TypeLoadException - 未知来源

> ID：15418269
> 
> 赞同：3
> 
> 时间：2013-03-14T19:16:12.983
> 
> 标签：c#, servicestack, typeloadexception

一点背景知识：我最近从其源代码 ( [https://github.com/ServiceStack/ServiceStack](https://github.com/ServiceStack/ServiceStack) ) 重新编译了 ServiceStack 库。在完成一些错误修复后，我还重新编译了 ServiceStack.Text 项目。我将 ServiceStack.Text dll 文件复制到 ServiceStack 项目的“lib”文件夹中（因为 ServiceStack 解决方案不包括 Text 中的序列化程序，所以它在那里）。

现在我得到 TypeLoadExceptions，如下：

> System.TypeLoadException：来自程序集“ServiceStack.ServiceInterface，Version=1.0.0.0，Culture=neutral，PublicKeyToken=null”的“ServiceStack.ServiceInterface.Testing.MockHttpResponse”类型中的方法“get_StatusCode”没有实现。在 System.Reflection.RuntimeAssembly.GetExportedTypes(RuntimeAssembly assembly, ObjectHandleOnStack retTypes) 在 System.Reflection.RuntimeAssembly.GetExportedTypes() 在----我的代码从这里...----

我不确定问题可能是什么。我怀疑这可能是一个循环 DLL 引用问题（DLL Hell），因为引用了 ServiceStack.OrmLite（它还引用了该项目中的其他解决方案）；但是，在删除对 ServiceStack 项目的所有引用后，我仍然没有解决问题。

这篇文章似乎有一些想法，但我没有任何运气来完成这些： [TypeLoadException says 'no implementation'，but it is implemented](https://stackoverflow.com/questions/948785/typeloadexception-says-no-implementation-but-it-is-implemented)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:50:29.747

您正在为不同版本的 ServiceStack 组件使用脏 dll，这些组件都应该保持同步。

在每个主要 ServiceStack 组件 dll 的程序集中都标记了版本号，这与部署在 NuGet 上的版本相匹配，例如 ServiceStack 的最新版本是**v3.9.38**，您需要确保至少使用**v3 .9.38**的所有其他库。

核心 ServiceStack 依赖矩阵如下所示：

```
ServiceStack.Text
  +
  > ServiceStack.Interfaces
  > ServiceStack.Common
      + 
      > ServiceStack.Redis
      > ServiceStack.OrmLite
          +
          > ServiceStack
              +
              > ServiceStack.ServiceInterface 
```

如果您使用的是**v3.9.38**的 ServiceStack.dll，您需要确保 ServiceStack 之上的所有子组件至少为**v3.9.38**。

# objective-c - 从字符串、nsdate、objective c 解析日期

> ID：15418274
> 
> 赞同：0
> 
> 时间：2013-03-14T19:16:37.803
> 
> 标签：objective-c, nsdate, nsdateformatter

下面是一个表示日期的字符串

```
NSString *dateStr = @"2011-07-06"; 
```

当我尝试通过执行以下操作将其转换为*NSDate*时：

```
 NSDateFormatter *format         =   [[NSDateFormatter alloc] init];

    [format setDateFormat:@"yyyy-MM-dd"];
    NSDate      *tmp                =   [format dateFromString:dateStr];
    NSLog(@"tmp  is %@",[tmp description]); 
```

我从控制台得到的是

```
tmp  is 2011-07-06 04:00:00 +0000 
```

我不明白为什么我会得到额外的信息：`04:00:00 +0000`结果

如果您之前经历过，请帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:32:27.260

你的代码

```
NSString *dateStr = @"2011-07-06";
NSDateFormatter *format         =   [[NSDateFormatter alloc] init];

[format setDateFormat:@"yyyy-MM-dd"];
NSDate      *tmp                =   [format dateFromString:dateStr] 
```

将产生一个 NSDate 对象，它表示您的当地时间 0:00 — 一天的开始。

但是如果您打印一个普通的日期对象，它将生成一个表示 GMT 时区时间的字符串，因为在内部，所有日期都被规范化为该时区。

由于您的字符串提前 4 小时，我们可以看出，您很可能在东欧，也许是莫斯科。

因此，如果您想在您的时区查看字符串，您需要使用 NSDateFormatter 从日期对象创建它。

```
NSLog(@"tmp  is %@",[formatter stringFromDate:tmp]); 
```

检查我所说的是否正确，更改格式以包含时间组件。

```
formatter.format = [@"yyyy-MM-dd HH:mm"];
NSLog(@"tmp  is %@",[formatter stringFromDate:tmp]); 
```

格式化程序还将根据当前日历考虑闰日、[闰月](http://en.wikipedia.org/wiki/Hebrew_calendar#Leap_months)（是的——那些退出）、夏令时、[闰秒……等“奇怪”。](http://en.wikipedia.org/wiki/Leap_second)

* * *

很棒的 WWDC 2011 视频：[执行日历计算](https://developer.apple.com/videos/wwdc/2011/?id=117)- 每个可可开发人员都必须看到。

* * *

顺便说一句：要使用 NSLog 打印对象，您不需要调用`-description`它来传递字符串。NSLog 将在内部执行此操作。

```
NSLog(@"tmp  is %@", tmp); 
```

很好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:44:08.003

答案很简单，`NSLog`只需使用带有 GMT（零）时区的格式化程序将其转换`NSDate`为 a 。`NSString`

您的格式化程序默认设置为您的默认时区，可能是`-4:00`. 当您打印出来时，`NSLog`将其转换为`0:00`，增加 4 小时。

通常，在不指定时区的情况下解析日期是不安全的。

# javascript - 页面上的多个fineupload实例

> ID：15418276
> 
> 赞同：1
> 
> 时间：2013-03-14T19:16:39.980
> 
> 标签：javascript, fine-uploader

我有一个按钮，但我想在一页上有几个上传按钮。但无法让它工作......

```
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Fine Uploader - Boostrapped Minimal Demo</title>
    <link href="/fineuploader/fineuploader-3.3.0.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.min.css" rel="stylesheet">
    <style>
      /* Fine Uploader
      -------------------------------------------------- */ 
      .qq-upload-list {
        text-align: left;
      }

      /* For the bootstrapped demos */
      li.alert-success {
        background-color:  #DFF0D8 ;
      }

      li.alert-error {
        background-color:  #F2DEDE ;
      }

      .alert-error .qq-upload-failed-text {
        display: inline;
      }
    </style>
  </head>
  <body>

    <div id="bootstrapped-fine-uploader-1"></div> 
    <script src="/fineuploader/fineuploader-3.3.0.js"></script>

    <script>
      function createUploader() {
        var uploader = new qq.FineUploader({
          element: document.getElementById('bootstrapped-fine-uploader-1'),
          request: {
            endpoint: 'example.php?naam=test.jpg'
          },
          text: {
            uploadButton: '<div><i class="icon-upload icon-white"></i> Test me now and upload a file</div>'
          },
          template: '<div class="qq-uploader span12">' +
                      '<pre class="qq-upload-drop-area span12"><span>{dragZoneText}</span></pre>' +
                      '<div class="qq-upload-button btn btn-success" style="width: auto;">{uploadButtonText}</div>' +
                      '<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>' +
                      '<ul class="qq-upload-list" style="margin-top: 10px; text-align: center;"></ul>' +
                    '</div>',
          classes: {
            success: 'alert alert-success',
            fail: 'alert alert-error'
          }
        });
      }

      window.onload = createUploader;
    </script>

    <div id="bootstrapped-fine-uploader-2"></div>
    <script src="/fineuploader/fineuploader-3.3.0.js"></script>

    <script>
      function createUploader() {
        var uploader = new qq.FineUploader({
          element: document.getElementById('bootstrapped-fine-uploader-2'),
          request: {
            endpoint: 'example.php?naam=test2.jpg'
          },
          text: {
            uploadButton: '<div><i class="icon-upload icon-white"></i> Upload jpg</div>'
          },
          template: '<div class="qq-uploader span12">' +
                      '<pre class="qq-upload-drop-area span12"><span>{dragZoneText}</span></pre>' +
                      '<div class="qq-upload-button btn btn-success" style="width: auto;">{uploadButtonText}</div>' +
                      '<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>' + 
                      '<ul class="qq-upload-list" style="margin-top: 10px; text-align: center;"></ul>' +
                    '</div>',
          classes: {
            success: 'alert alert-success',
            fail: 'alert alert-error'
          }
        });
      }

      window.onload = createUploader;
    </script>

  </body>
</html> 
```

仅显示第二个按钮，第一个按钮完全消失...有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T22:11:19.517

您将第一个函数分配给 window.onload 事件，然后用第二个函数替​​换它。您应该只分配一次事件。此外，您不需要两个单独的脚本标签。

```
 <body>

    <div id="bootstrapped-fine-uploader-1"></div> 
    <div id="bootstrapped-fine-uploader-2"></div>

    <script src="fineuploader-3.3.0.js"></script>

    <script>
      function createUploaders() {
        var uploader1 = new qq.FineUploader({
          element: document.getElementById('bootstrapped-fine-uploader-1'),
          request: {
            endpoint: 'example.php?naam=test.jpg'
          },
          text: {
            uploadButton: '<div><i class="icon-upload icon-white"></i> Test me now and upload a file</div>'
          },
          template: '<div class="qq-uploader span12">' +
                      '<pre class="qq-upload-drop-area span12"><span>{dragZoneText}</span></pre>' +
                      '<div class="qq-upload-button btn btn-success" style="width: auto;">{uploadButtonText}</div>' +
                      '<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>' +
                      '<ul class="qq-upload-list" style="margin-top: 10px; text-align: center;"></ul>' +
                    '</div>',
          classes: {
            success: 'alert alert-success',
            fail: 'alert alert-error'
          }
        });

        var uploader2 = new qq.FineUploader({
          element: document.getElementById('bootstrapped-fine-uploader-2'),
          request: {
            endpoint: 'example.php?naam=test2.jpg'
          },
          text: {
            uploadButton: '<div><i class="icon-upload icon-white"></i> Upload jpg</div>'
          },
          template: '<div class="qq-uploader span12">' +
                      '<pre class="qq-upload-drop-area span12"><span>{dragZoneText}</span></pre>' +
                      '<div class="qq-upload-button btn btn-success" style="width: auto;">{uploadButtonText}</div>' +
                      '<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>' + 
                      '<ul class="qq-upload-list" style="margin-top: 10px; text-align: center;"></ul>' +
                    '</div>',
          classes: {
            success: 'alert alert-success',
            fail: 'alert alert-error'
          }
        });
      }

      window.onload = createUploaders();
    </script>

  </body> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T14:37:56.593

这就是我的做法。它最初是更多的代码，但很有意义。您可以在一个页面上放置任意数量的上传者。

```
if (self.settings.businessAddresses !== null) {
                $.each(self.settings.businessAddresses, function (index, businessAddress) {
                    initFileUploader(self.settings.privateAddresses.length + index, businessAddress, "business", self.settings.allowedExtensions);
                });
            } 
```

这是“通用”文件上传器初始化程序的实现。请注意，我使用的是 Fine Uploader 2.1.2。我想在新版本中应该更容易。我有 extensions.js 来支持每个单独文件的单独参数以及一些其他改进，这些改进可能已经在新版本的文件上传器中得到解决。

```
// initiate uploader
 function initFileUploader(index, addressInstance, addressType, allowedFileExtensions) {
        var filesCount = 0;
        var uploadButtonSelector = '#triggerUpload-' + addressInstance.Id;
        var fileSelectButton = ".qq-upload-button-" + addressInstance.Id;
        var uploadedFilesErrorSelector = '#uploadedFilesError-' + addressInstance.Id;
        var nextButtonSelector = "#Next";
        var previousButtonSelector = "#Previous";
        var documentTypeSelector = "#DocumentTypeCode-" + addressInstance.Id;
        var prospectCacheKeySelector = "#ProspectCacheKey";

        // Set up the upload API
        var fileUploader = new qq.FileUploader({
            element: $('#filesToUpload-' + addressInstance.Id)[0],
            action: '/FileUploader',
            autoUpload: false,
            uploadButtonText: 'Select a file',
            allowedExtensions: allowedFileExtensions,
            sizeLimit: 1048576, // 1 MB = 1024 * 1024 bytes,
            template: '<div class="qq-uploader">' + //  Allow the boostrap styles
            '<div class="qq-upload-button-' + addressInstance.Id + ' btn btn-success" style="width: 100px">{uploadButtonText}</div>' +
            '<ul class="qq-upload-list-' + addressInstance.Id + '" style="margin-top: 10px; text-align: center;"></ul>' +
            '<pre class="qq-upload-drop-area-' + addressInstance.Id + '"><span>{dragText}</span></pre>' +
            '</div>',
            failUploadText: '',
            fileTemplate: '<li>' +
            '<span class="qq-document-type-' + addressInstance.Id + '"></span>' +
            '<span class="qq-upload-file-' + addressInstance.Id + '">10870</span>' +
            '<a class="qq-upload-cancel-' + addressInstance.Id + '" href="#"> Remove</a>' +
            '<div class="qq-progress-bar-' + addressInstance.Id + '"></div>' +
            '<span class="qq-upload-spinner-' + addressInstance.Id + '" style="display: none;"></span>' +
            '<span class="qq-upload-finished-' + addressInstance.Id + '"></span>' +
            '<span class="qq-upload-size-' + addressInstance.Id + '" style="display: none;"></span>' +
            '<span class="qq-upload-failed-text-' + addressInstance.Id + '"></span>' +
            '</li>',
            classes: {
                button: 'qq-upload-button-' + addressInstance.Id + '',
                drop: 'qq-upload-drop-area-' + addressInstance.Id + '',
                dropActive: 'qq-upload-drop-area-active-' + addressInstance.Id + '',
                dropDisabled: 'qq-upload-drop-area-disabled-' + addressInstance.Id + '',
                list: 'qq-upload-list-' + addressInstance.Id + '',
                progressBar: 'qq-progress-bar-' + addressInstance.Id + '',
                file: 'qq-upload-file-' + addressInstance.Id + '',
                documentType: 'qq-document-type-' + addressInstance.Id + '',
                applicationId: 'qq-application-id-' + addressInstance.Id + '',
                addressId: 'qq-address-id-' + addressInstance.Id + '',
                addressType: 'qq-address-type-' + addressInstance.Id + '',
                spinner: 'qq-upload-spinner-' + addressInstance.Id + '',
                finished: 'qq-upload-finished-' + addressInstance.Id + '',
                size: 'qq-upload-size-' + addressInstance.Id + '',
                cancel: 'qq-upload-cancel-' + addressInstance.Id + '',
                failText: 'qq-upload-failed-text-' + addressInstance.Id + '',
                success: 'alert-success',
                fail: 'alert-error',
                successIcon: null,
                failIcon: null
            },
            onError: function (id, fileName, errorReason) {
                alert(errorReason);
            },
            onComplete: function (id, fileName, response) {
                filesCount--;
                if (response.success) {
                    $('<input>').attr({
                        type: 'hidden',
                        name: 'UploadedFileIds',
                        value: response.cacheKey
                    }).appendTo('form');
                }
                // Check that we have finished downloading all files
                if (fileUploader.getInProgress() == 0) {
                    // Re-enable the Next button
                    $(nextButtonSelector).removeAttr('disabled');
                    $(previousButtonSelector).removeAttr('disabled');
                    $(uploadButtonSelector).css('visibility', 'hidden');
                }
            },
            onSubmit: function (id, fileName) {
                filesCount++;
                fileUploader._options.params[id] =
                    {
                        documentType: $("select" + documentTypeSelector)[0].value,
                        documentTypeText: $("select" + documentTypeSelector)[0].options[$("select" + documentTypeSelector)[0].selectedIndex].text,
                        addressId: addressInstance.Id,
                        addressType: addressType,
                        applicationId: addressInstance.ApplicationId,
                        prospectCacheKey: $(prospectCacheKeySelector).val()
                    };

                // $(documentTypeSelector).prop('selectedIndex', 0);

                // $(fileSelectButton).attr('disabled', 'disabled');

                // Show the upload button
                if ($(uploadButtonSelector).css('visibility') === 'hidden') {
                    $(uploadButtonSelector).css('visibility', 'visible');
                }

                // Hide the error for mandatory files upload
                $(uploadedFilesErrorSelector).css('display', 'none');
            },
            onCancel: function (id, fileName) {
                filesCount--;
                if (filesCount === 0) {
                    $(uploadButtonSelector).css('visibility', 'hidden');
                }
            }
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T20:43:51.593

您有两个同名的全局范围函数。第二个`createUploader`覆盖第一个`createUploader`。

# java - 霍夫曼树（java）

> ID：15418282
> 
> 赞同：0
> 
> 时间：2013-03-14T19:17:15.473
> 
> 标签：java

以下方法是 HuffmanTree 类的一部分。但它有点不同，因为它不是无效的。我写了以下方法，但它不打印侧面。你能帮帮我吗？谢谢！

```
 public String printSideways() {

    StringBuilder s = new StringBuilder("");

    printSideways(overallRoot, s , 0);

    return printSideways(); // I'm not sure about this part 
}

private void printSideways(HuffmanNode root, StringBuilder s, int level) {
    if (root != null) {
            printSideways(root.right, s.append(root.toString()), level+1);
            for(int i = 0; i < level; i++){
                 System.out.print(" ");
            }
            System.out.println(root.toString());
            printSideways(root.left, s.append(root.toString()) , level+1);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:20:06.993

删除`System.out.println(root.toString());`，`printSideways(root, s, level)`因为您正在使用`StringBuilder`. 返回`s.toString();`from`printSideways()`而不是 的结果`printSideways()`。

# c# - 参数类型与此类匹配

> ID：15418289
> 
> 赞同：1
> 
> 时间：2013-03-14T19:17:51.447
> 
> 标签：c#, types

考虑以下：

```
public interface ITree<X>
{
  ...
  ITree<X> Union(ITree<X> other);
  ...
} 
```

这个想法是我要实现几种类型的树。但是，该`Union()`方法仅在您尝试合并两个*相同类型的*树时才有效。但是，上面的类型签名并没有强制执行此限制。

所以，我的问题是：如何编写类型签名以`Union()`使`other`参数必须具有*与 相同的*类型`this`？

（显然，如果类型不匹配，我可以进行动态运行时测试并抛出异常。但我更愿意在编译时检查它是否可以完成......）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:27:32.617

没有一种特别干净的方式来表达这一点，这是使用接口的结果，因为没有办法知道`ITree<X>`. 最好的方法可能是创建另一个类/接口来约束具体的树类型并执行您需要的操作：

```
public interface ITreeUnion<T, X> where T : ITree<X>
{
    T Union(T left, T right);
} 
```

然后，您必须将此接口类型的实例传递到您需要执行所需操作的位置。

如果你真的需要`Union`进入界面，你可以使用循环模板：

```
public interface ITree<T, X> where T : ITree<T, X>
{
    T Union(T other);
}

public class RedBlackTree<T> : ITree<RedBlackTree<T>, T>
{
    public RedBlackTree<T> Union(RedBlackTree<T> other)
    {
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T21:21:19.683

根据您的要求，您需要一个`Union()`.

*   界面

    ```
    public partial interface ITree<X> {
        T Union<T>(T other) where T: ITree<X>;
    } 
    ```

*   样本类

    ```
    public partial class TreeOfObject: ITree<object> {
        public T Union<T>(T other) where T: ITree<object> {
            return default(T); // sample only; shuold be implemented yourself
        }
    }

    public partial class TreeOfInt: ITree<int> {
        public T Union<T>(T other) where T: ITree<int> {
            return default(T); // sample only; shuold be implemented yourself
        }
    } 
    ```

*   测试

    ```
    public static partial class TestClass {
        public static void TestMethod() {
            var x=new TreeOfObject();
            var y=new TreeOfInt();

            var xx=x.Union(x);
            var yy=y.Union(y);

            var xy=x.Union(y); // won't compile
            var yx=y.Union(x); // won't compile
        }
    } 
    ```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:27:25.487

那你为什么需要接口呢？只需`Replace`在树的每个实现上实现一个方法：

```
public class RedBlackTree<T> {
    public RedBlackTree<T> Union(RedBlackTree<T> other) { ... }
}

public class SplayTree<T> {
    public SplayTree<T> Union(SplayTree<T> other) { ... }
} 
```

由于您在处理 的每个实现时都在寻找编译时安全性`ITree`，所以我认为您只需要处理具体类型。当然，`ITree<T>`如果需要，您可以使用其他方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T19:30:05.623

不知何故，以下[实际上编译](http://ideone.com/xOiLLr)：

```
public interface ITree<TSelf, TItem> where TSelf : ITree<TSelf, TItem>
{
    TSelf Union(TSelf other);
    // ...
}

public class AvlTree<TItem> : ITree<AvlTree<TItem>, TItem> {
    public AvlTree<TItem> Union(AvlTree<TItem> other) {
        return other;
    }
} 
```

当然它不是特别有用，因为那时您必须将变量声明为`ITree<AvlTree>`，此时您最好不要使用该接口。对于 C# 泛型，必须在某个时候知道泛型类型参数的值才能具体化泛型类型。

# ajax - IE 上的 AJAX POST 请求失败并出现错误“无传输”？

> ID：15418290
> 
> 赞同：4
> 
> 时间：2013-03-14T19:17:52.337
> 
> 标签：ajax, json, internet-explorer, rest, post

我正在尝试向公共服务发出 AJAX 请求

这是代码：

```
$.ajax({
    url : "http://api.geonames.org/citiesJSON",
    type : 'POST',
    cache : false,
    dataType : 'json',
    data : {
        username: "demo", 
        north:10, 
        south: 10, 
        east:10, 
        west:10}
}).done(function(data) {
    alert("Success: " + JSON.stringify(data));
}).fail(function(a, b, c, d) {
    alert("Failure: " 
          + JSON.stringify(a) + " " 
          + JSON.stringify(b) + " " 
          + JSON.stringify(c) + " " 
          + JSON.stringify(d) );
}); 
```

您可以在此链接中尝试：http: [//jsfiddle.net/hDXq3/](http://jsfiddle.net/hDXq3/)

在 Chrome & Firefox 上成功获取响应，输出如下：
![在此处输入图像描述](../Images/6f467fb748848d577c7d743e75394ba6.png)

但是对于 IE，失败警报：
***Failure: {"readyState":0,"status":0,"statusText":"No Transport"} "error" "No Transport" undefined***

![在此处输入图像描述](../Images/169b301989ff041c1a0bba31460769be.png)

为什么它不能在 IE 上运行？以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-17T11:08:34.040

以下是感兴趣的人的解决方案：

```
if (!jQuery.support.cors && window.XDomainRequest) {
    var httpRegEx = /^https?:\/\//i;
    var getOrPostRegEx = /^get|post$/i;
    var sameSchemeRegEx = new RegExp('^'+location.protocol, 'i');
    var xmlRegEx = /\/xml/i;

    // ajaxTransport exists in jQuery 1.5+
    jQuery.ajaxTransport('text html xml json', function(options, userOptions, jqXHR){
        // XDomainRequests must be: asynchronous, GET or POST methods, HTTP or HTTPS protocol, and same scheme as calling page
        if (options.crossDomain && options.async && getOrPostRegEx.test(options.type) && httpRegEx.test(userOptions.url) && sameSchemeRegEx.test(userOptions.url)) {
            var xdr = null;
            var userType = (userOptions.dataType||'').toLowerCase();
            return {
                send: function(headers, complete){
                    xdr = new XDomainRequest();
                    if (/^\d+$/.test(userOptions.timeout)) {
                        xdr.timeout = userOptions.timeout;
                    }
                    xdr.ontimeout = function(){
                        complete(500, 'timeout');
                    };
                    xdr.onload = function(){
                        var allResponseHeaders = 'Content-Length: ' + xdr.responseText.length + '\r\nContent-Type: ' + xdr.contentType;
                        var status = {
                            code: 200,
                            message: 'success'
                        };
                        var responses = {
                            text: xdr.responseText
                        };

                                try {
                                    if (userType === 'json') {
                                        try {
                                            responses.json = JSON.parse(xdr.responseText);
                                        } catch(e) {
                                            status.code = 500;
                                            status.message = 'parseerror';
                                            //throw 'Invalid JSON: ' + xdr.responseText;
                                        }
                                    } else if ((userType === 'xml') || ((userType !== 'text') && xmlRegEx.test(xdr.contentType))) {
                                        var doc = new ActiveXObject('Microsoft.XMLDOM');
                                        doc.async = false;
                                        try {
                                            doc.loadXML(xdr.responseText);
                                        } catch(e) {
                                            doc = undefined;
                                        }
                                        if (!doc || !doc.documentElement || doc.getElementsByTagName('parsererror').length) {
                                            status.code = 500;
                                            status.message = 'parseerror';
                                            throw 'Invalid XML: ' + xdr.responseText;
                                        }
                                        responses.xml = doc;
                                    }
                                } catch(parseMessage) {
                                    throw parseMessage;
                                } finally {
                                    complete(status.code, status.message, responses, allResponseHeaders);
                                }
                            };
                            xdr.onerror = function(){
                                complete(500, 'error', {
                                    text: xdr.responseText
                                });
                            };
                            xdr.open(options.type, options.url);
                            //xdr.send(userOptions.data);
                            xdr.send();
                        },
                        abort: function(){
                            if (xdr) {
                                xdr.abort();
                            }
                        }
                    };
                }
            });
    };

jQuery.support.cors = true;

$.ajax({
    url : "http://api.geonames.org/citiesJSON",
    crossDomain: true,
    type : 'POST',
    cache : false,
    dataType : 'json',
    data : {
        username: "demo", 
        north:10, 
        south: 10, 
        east:10, 
        west:10}
}).done(function(data) {
    alert("Success: " + JSON.stringify(data));
}).fail(function(a, b, c, d) {
    alert("Failure: " 
          + JSON.stringify(a) + " " 
          + JSON.stringify(b) + " " 
          + JSON.stringify(c) + " " 
          + JSON.stringify(d) );
}); 
```

您可以在此链接中尝试：http: [//jsfiddle.net/bjW8t/4/](http://jsfiddle.net/bjW8t/4/)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-11-18T13:22:54.810

只需包含使用 XDomainRequest for IE8+的[jQuery ajaxTransport 扩展。](https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest)

# java - 您可以从 MuleESB 调用 bean 中的方法吗 ?

> ID：15418293
> 
> 赞同：2
> 
> 时间：2013-03-14T19:18:02.933
> 
> 标签：java, javabeans, mule

我希望能够执行以下操作：

```
<spring:beans>
    <spring:bean id="myBean" class="com.address.myClass"/>
</spring:beans>

<choice>
    <when expression="myBean.myMethod() == true" evaluator="someEvaluator">
        <!-- do some stuff -->
    </when>
</choice> 
```

如果“myBean.myMethod()”返回 true，我想调用“一些东西”。

这可以做到吗？

- - - 更新 - - -

大卫很友善地帮助我找到了这个可行的解决方案。由于它隐藏在下面的评论中，我在这里添加了解决方案：

```
<when expression="muleContext.getRegistry().lookupObject('myBean').myMethod()==true" evaluator="groovy"> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T19:20:02.500

在 Mule 3.3 中，使用 MEL：

```
<when expression="#[app.registry.myBean.myMethod()]"> 
```

对于较旧的 Mules，请使用 Groovy：

```
<when expression="muleContext.registry.lookupObject('myBean').myMethod()" evaluator="groovy"> 
```

# r - 使用参数自动更新图形标题

> ID：15418295
> 
> 赞同：0
> 
> 时间：2013-03-14T19:18:03.823
> 
> 标签：r

我对 R 不是很熟悉。我使用 R 为不同的 lambda（从 1 到 10）制作泊松分布图，并显示每个的图作为比较。

但我想根据 lambda 在图表上自动添加一个标题：“lambda = 1”表示图 1，“lambda = 2”表示图 2 ...等。但我无法弄清楚如何自动更新标题。这是我的代码，我能够正确输出 10 个不同的图形，但不确定如何自动更新或添加相应的 lambda 到标题。有人可以给我一些提示。

也可以说绘图 1 到 5 的字体大小为“小”，然后字体大小为 6 到 10？

谢谢

```
the_data_frame<-data.frame(matrix(ncol=10,nrow=21))
lam<-seq(1,10,1)
lam
x<-seq(0,20,1)
x
for (i in 1:10){
the_data_frame[i]<-exp(-lam[i])*lam[i]**x/gamma(x+1)
}
the_data_frame<-cbind(the_data_frame, x)

par(mfrow=c(5,2))
for (i in 1:10){
plot(the_data_frame[[i]]~the_data_frame[[11]], the_data_frame)
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:45:45.737

你可以简化问题。使用一个循环，在 lamda 值上，您在每次迭代时使用毒公式计算 y 的值，然后绘制它。我使用`main`参数为每个情节添加标题。在这里，我`bquote`用来获取 lambda 值的绘图格式。

例如，对于 4 个 lambda 值，您会得到：

```
x<-seq(0,20,1);lam = c(0.5,1,2,4)
par(mfrow=c(2,2))
lapply(lam,function(lamd){
  y <- exp(-lamd)*lamd*x/gamma(x+1)
  plot(x,y,main=bquote(paste(lambda,'=',.(lamd))),type='l')

}) 
```

![在此处输入图像描述](../Images/3bf1b1ff0c8635f0db277e476debbe6e.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:22:53.383

这可能会有所帮助：

```
for (i in 1:10){
    plot(the_data_frame[[i]]~the_data_frame[[11]], the_data_frame,
        main=paste("lambda=", i, sep=""))
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T20:58:38.830

```
library(ggplot2)
xval <- rep(0:20,10)
lambda <- rep(1:10,21)
yvtal <- exp(- lambda)*lambda**xval/gamma(xval+1)
the_new_data_frame <- data.frame(cbind(xval,lambda,yval))

plot1 <- ggplot(the_new_data_frame, aes(xval, yval)) + geom_line(aes(colour=factor(lambda)))
plot1
plot1 + facet_grid(~lambda) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-16T19:13:28.670

您是否正在寻找一个交互式窗口，您可以在其中输入文本并更新图形标题？如果是，您可能需要查找 tcltk 包。

见 [http://bioinf.wehi.edu.au/~wettenhall/RTclTkExamples/modalDialog.html](http://bioinf.wehi.edu.au/~wettenhall/RTclTkExamples/modalDialog.html)

# java - 为什么 Apache commons-math 基于 int 类型的 Fraction？

> ID：15418298
> 
> 赞同：0
> 
> 时间：2013-03-14T19:18:13.247
> 
> 标签：java, cpu, rational-numbers, apache-commons-math

为什么 Apache`commons-math3`基于它的[`Fraction`](http://commons.apache.org/proper/commons-math//javadocs/api-3.1.1/org/apache/commons/math3/fraction/Fraction.html)类型`int`？？？

有什么理由使用`int`而不是`long`？我们在这里有一些性能提升吗？`long`s 进程的速度不是与`int`现代 CPU 上的 s 相同吗？

我认为我们从这个决定中得到了不必要的限制。

如果我错了，请纠正我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:23:35.897

如果您想要任意精度，请使用[`BigFraction`](http://commons.apache.org/proper/commons-math//javadocs/api-3.1.1/org/apache/commons/math3/fraction/BigFraction.html). 许多平台——尤其是Android——有严格的内存限制，对于64位计算可能没有那么高效。此外，任何性能改进`long`可能在`Fraction`最初编写时都不可用，并且为了 API 兼容性，它可能无法更改。

# drupal-7 - 在 Drupal 7.2 中创建树视图

> ID：15418299
> 
> 赞同：0
> 
> 时间：2013-03-14T19:18:14.870
> 
> 标签：drupal-7, treeview

我正在尝试在 Drupal 7.2 中创建一个树视图。我搜索了互联网，发现了一些关于添加视图的信息，但无论如何我都看不到创建或添加视图。当我去添加内容时，没有合并树视图模块的选项。我已检查以确保我已安装并启用所有必需的模块。任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T01:48:04.753

视图选项位于结构菜单中，您只需键入 "yourSite/admin/structure/views" 即可。如果您没有看到它，请仔细检查您是否安装了 Views 模块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-03T14:39:04.463

有一个视图树模块

请在下面找到项目链接

[https://www.drupal.org/project/views_tree](https://www.drupal.org/project/views_tree)

# r - ggplot2：如何显示图例

> ID：15418302
> 
> 赞同：10
> 
> 时间：2013-03-14T19:18:39.487
> 
> 标签：r, ggplot2

我制作了一个简单的经典情节，`ggplot2`其中两个图表合二为一。但是，我正在努力展示传奇。它没有显示传奇。我没有使用融化和重塑的方式，我只是使用经典的方式。下面是我的代码。

```
df <- read.csv("testDataFrame.csv")

graph <- ggplot(df, aes(A)) + 
  geom_line(aes(y=res1), colour="1") +
  geom_point(aes(y=res1), size=5, shape=12) +
  geom_line(aes(y=res2), colour="2") +
  geom_point(aes(y=res2), size=5, shape=20) +
  scale_colour_manual(values=c("red", "green")) +
  scale_x_discrete(name="X axis") +
  scale_y_continuous(name="Y-axis") +
  ggtitle("Test") 
  #scale_shape_discrete(name  ="results",labels=c("Res1", "Res2"),solid=TRUE) 

print(graph) 
```

数据框是：

```
 A,res1,res2
 1,11,25
 2,29,40
 3,40,42
 4,50,51
 5,66,61
 6,75,69
 7,85,75 
```

关于如何显示上图的图例有什么建议吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-14T19:35:09.520

在`ggplot2`中，为您设置的每个美学 ( ) 显示图例`aes`；如`group`, `colour`, `shape`. 为此，您必须以以下形式获取数据：

```
A variable value
1     res1    11
...    ...    ...
6     res1    85
7     res2    75 
```

您可以`reshape2`使用 using来完成此操作`melt`（如下所示）：

```
require(reshape2)
require(ggplot2)

ggplot(dat = melt(df, id.var="A"), aes(x=A, y=value)) + 
      geom_line(aes(colour=variable, group=variable)) + 
      geom_point(aes(colour=variable, shape=variable, group=variable), size=4) 
```

例如，如果您不想要`colour`积分，则只需`colour=variable`从`geom_point(aes(.))`. 有关更多图例选项，请关注[**`this link`**](http://www.cookbook-r.com/Graphs/Legends_(ggplot2)/)。

![在此处输入图像描述](../Images/8d4743c4902b091f88b3213389366df9.png)

# android-ndk - 将预构建步骤添加到 android ndk-build 模块以获取标头依赖项？

> ID：15418307
> 
> 赞同：4
> 
> 时间：2013-03-14T19:18:53.577
> 
> 标签：android-ndk, makefile

基本上，我想在 Android.mk 文件中做的是：

```
LOCAL_MODULE := foo
$(LOCAL_MODULE): pre-build
pre-build:
    @echo HI
.PHONY: pre-build
# ...
include $(BUILD_SHARED_LIBRARY) 
```

ndk-build 系统确实适用于`ndk-build foo`，并且预构建步骤有效，但是如果您在应用程序中使用此库，它将不会执行预构建步骤。

特别是，我正在尝试生成一个头文件（带有版本/日期戳等），该文件放置在使用的路径中，`LOCAL_EXPORT_C_INCLUDES`以便使用该库的模块可以享受头文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T15:20:34.483

这是我所做的，有点像黑客。

看来您可以相当容易地添加构建后步骤，但不能添加预构建步骤。

*在构建过程之后*，您`include`可以添加一个依赖项，`$(LOCAL_BUILT_MODULE)`该依赖项将有效地成为始终执行的构建后过程。

```
include $(BUILD_SHARED_LIBRARY)
$(LOCAL_BUILT_MODULE): post_build

post_build:
    $echo Hi, I'm post-build. 
```

例如，如果您需要花哨并使用 $(LOCAL_PATH) 上的东西，那么

```
include $(BUILD_SHARED_LIBRARY)
$(LOCAL_BUILT_MODULE): post_build

define gen_post_build
post_build:
    $(hide) python $(1)/MyScript.py 
endef

$(eval $(call gen_post_build,$(LOCAL_PATH))) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-12T02:03:06.610

这是我发现在为一个或多个架构 (ABI) 构建动态库时执行预构建步骤的一种方法。这可能不适用于所有情况。

使用以下内容创建一个 Application.mk 文件（如果您还没有）：

```
all: pre_build
pre_build:
    echo "This is the pre-build" 
```

请注意，使用上面的“全部”最终会在 Application.mk 中进行预构建，并在 Android.mk 中进行后构建。

# database - 如何：使用包含所有信息的字段进行搜索

> ID：15418308
> 
> 赞同：0
> 
> 时间：2013-03-14T19:19:13.560
> 
> 标签：database, search

在员工数据库表上，我在该字段中使用名为**SearchTags**的字段，我将添加员工信息，例如*FullName* + *PassportNo* + *Nationality* + *JobTitel* est。

并搜索特定员工，我将在该字段中搜索（**TagSearch**）

你觉得这个方法怎么样？

这不被认为是信息重复吗？

在我看来，这种方法很容易编写代码并且很直接。

所以，在我开始使用这种方法之前，我想知道你的意见:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T01:46:51.510

我假设您正在使用 SQL 来执行搜索。

**你觉得这个方法怎么样？**

我的意思不是听起来很苛刻，但我完全不同意你的做法。

**这不被认为是信息重复吗？**

当然，这不是数据库设计基础所推荐的。

**你将不得不面对的问题**

*   如果您想更新其中一个单独的字段怎么办？例如，当职位名称发生变化时，您将如何处理？您将不得不在两个地方进行更新。

*   未来的新要求将要求您仅搜索其中 3 个字段，而不是 4 个。你会怎么办？使用最新的 3 个目标字段的副本创建另一个字段？

SQL 很简单，可以制定一个查询来定位多个要搜索的字段。

# javascript - 将字符串解析为数字的通用 Javascript 库？

> ID：15418319
> 
> 赞同：0
> 
> 时间：2013-03-14T19:19:41.703
> 
> 标签：javascript

编写一个函数来读取大量 CSV 数据集。可以很好地将 CSV 解析为字符串数组（请参阅[解析 CSV 数据的 Javascript 代码](https://stackoverflow.com/questions/1293147/javascript-code-to-parse-csv-data)）。

现在想可以每一列，如果它们都可以转换为数字，则将它们转换为数字，否则保留为字符串。但如果没有，请将它们保留为字符串。

当然，数字可以有多种格式，有些可能取决于语言环境。我想要一个像 parseFloat 这样可以识别这些的函数：

```
"2.0"      -> 2.0
"2"        -> 2.0
"1,532"    -> 1532 (in US at least)
"$2.00"    -> 2.0
"0.02"     -> 0.02
"2%"       -> 0.02
""         - null
"NaN"      -> NaN

"""NaN"""      -> String
"2 years old"  -> String
"ABC123"  ->  String 
```

`parseFloat(val)`不太适合这个目的：

```
parseFloat("1,523") === 1
parseFloat("2%") === 2        // could live with this
parseFloat("$2.25") === NaN 
```

这显然无法期望原生 ECMAscript 函数能够处理，但似乎我也不应该自己为每一个发明正则表达式。

可能有一个图书馆做得很好吗？我的谷歌搜索技能在这里似乎失败了。

处理常见的日期格式会更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:24:23.033

正如您和其他人所指出的，这个问题可以用正则表达式来解决。但是如果你想要一个库来为你做这件事，jQuery Number Formatter 库应该允许你做你想做的事。它处理数字（包括百分比）但不处理日期：[https ://code.google.com/p/jquery-numberformatter/](https://code.google.com/p/jquery-numberformatter/)

它需要 jQuery 和 jshashtable。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:25:26.967

只需使用一个简单的正则表达式并将其包装起来，非常简单

例如：

```
function parseToNumeric(value) {
    return parseFloat(value.replace(/[\$,%]/g, ''));
} 
```

# visual-studio - 如何在 EF 图中定位对象

> ID：15418322
> 
> 赞同：0
> 
> 时间：2013-03-14T19:20:01.610
> 
> 标签：visual-studio, entity-framework-4

我有一个相当大且复杂的 EF 实体。我提取了一些我不想包含的视图。在大图中找到它们是一个真正的药丸。那是我唯一可以删除它们的地方吗？如果是这样，是否有快速找到实体的技巧（ctl-f 不起作用...）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:42:08.027

打开模型浏览器窗口，它将允许您[搜索实体](http://weblogs.asp.net/zeeshanhirani/archive/2010/07/05/search-for-an-entity-in-your-entity-data-model.aspx)。

# jquery - 如何在 Require.js 中使用 Foundation 4 的 Zeptos 和 Yeoman 的 Grunt

> ID：15418326
> 
> 赞同：2
> 
> 时间：2013-03-14T19:20:05.863
> 
> 标签：jquery, requirejs, zurb-foundation, zepto

我刚刚使用 Require.js 让 Foundation 4 与 Yeoman 一起运行。我在 Require.js 中用于 main.js 的要点在这里：[https ://gist.github.com/lkbgift/5164200](https://gist.github.com/lkbgift/5164200)

Foundation 4 的 index.html 使用以下脚本调用 Zepto：

```
<script>
  document.write('<script src=' +
  ('__proto__' in {} ? 'js/vendor/zepto' : 'js/vendor/jquery') +
  '.js><\/script>')
</script> 
```

在 require.js 中，您声明 jquery 路径，如下所示：

```
paths: {
  jquery: '../components/jquery/jquery'
}, 
```

集成zepto代码的正确方法是什么？

ps：有史以来最复杂的标题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T00:01:39.667

如果您正在使用 require，我认为使用 require 加载所有脚本可能是有意义的，即使只是为了保持一致性。

您发布的 Foundation 4 代码为支持**proto**属性的浏览器加载 Zepto，为其他浏览器加载 jQuery（根据[此页面](http://corporate.tuenti.com/es/dev/blog/-mobile-libraries-that-worked-well-for-us-and-might-work-well-for-you-too)基本上只有 IE ）。

如果您乐于向所有人推出 Zepto（也许您不需要支持 IE），您可以只更新您从 require 配置中发布的代码以指向 Zepto 而不是 jQuery。或者，您可以将 jQuery 推送给所有人。当我查看 Zepto 时，无论是简短的，它似乎并没有真正提供超过 jQuery 的全部功能（请参阅[此处](http://www.codefessions.com/2012/08/performance-of-jquery-compatible-mobile.html)的性能测试）。

如果你想在你的 require 配置中保留 Foundation 4 逻辑，[这个 require.js github 问题页面](https://github.com/jrburke/requirejs/issues/451)上有一个示例，它演示了如何有条件地加载文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T19:14:27.550

在您配置 require 的 main.js 函数中，创建一个名为 isModern 或类似名称的新函数。让这个函数返回**原型**评估的结果（布尔值）。像这样的东西：

```
function isModern() { return ( __proto__ in {} ); } 
```

在您的路径配置中，将“jquery”路径配置更改为“libdom”或类似的东西。像这样配置libdom：

```
paths: {
    'libdom': (isModern()) ? 'your path to zepto' : ' your path to jquery'
}, 
```

……

现在，不是将“jquery”传递给 require({...});，而是传递“libdom”，这将是 Zepto 或 jQuery，具体取决于 isModern 的结果。

# symfony - Symfony2 使用 init 或构造方法设置类变量

> ID：15418333
> 
> 赞同：2
> 
> 时间：2013-03-14T19:20:28.770
> 
> 标签：symfony

在使用 ZF 一段时间后，最近一直在使用 Symfony2。

我想我在尝试做一些相对简单的事情时遇到了问题。

以下代码在控制器中：

```
private $current_setid = "";

public function __construct() {
    $current_set = $this->getCurrentSet();
    if ($current_set == "") {
        return $this->redirect($this->generateUrl('selectset'));
    }
    $this->current_setid = $current_set;
}

public function getCurrentSet() {
    $session = $this->get("session");
    $set = $session->get('set');
    return $set;
}

public function setCurrentSet($setid) {
    $session = $this->get("session");
    $session->set('set', "$setid");
} 
```

如果我使用 __construct() 我会收到如下错误：

```
Fatal error: Call to a member function get() on a non-object in 
```

我尝试使用 __init() 和 init() 两者似乎都没有被调用。

谁能指出我正确的方向？有没有一种简单的方法可以做到这一点，还是我必须查看事件监听器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:28:04.563

基本上`get`从容器和容器中获取依赖项是使用[setter 依赖注入注入](http://symfony.com/doc/2.1/components/dependency_injection/types.html#setter-injection)的。你只是还没有容器`__construct`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:23:42.807

您是否尝试过像官方[文档](http://symfony.com/doc/2.0/book/controller.html)中那样进行会话？

```
$session = $this->getRequest()->getSession();

$foo = $session->get('foo'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:53:37.677

只是最终选择在类中的每个方法中进行检查。这样做似乎很愚蠢，但我发现我经常不得不在 Symfony2 中这样做，因为缺少像 ZF 这样的 init、postDispatch 类型的方法。

即使尝试将检查删除到另一个方法也会适得其反，因为我仍然必须检查该方法的返回，因为 $this->redirect 似乎不起作用，除非它在 ​​Action 方法中。例如：

```
public function isSetSet() {
    $current_set = $this->getCurrentSet();
    if ($current_set == "") {
        $url = $this->generateUrl('selectset');
        return $this->redirect($url);
    }
    return TRUE;
}

public function someAction() {
    $check = $this->isSetSet();
    if($check != TRUE){
        return $check;
    }
    ...
} 
```

所以每个方法都需要 4 行检查，但整个检查可以在 4 行中完成，所以不需要那个额外的方法：

```
public function anotherAction() {
    $current_setid = $this->getCurrentSet();
    if ($current_setid == "") {
        return $this->redirect($this->generateUrl('selectset'));
    }
    ...
} 
```

# c# - libusbdotnet inf 包如何使 inf 有效

> ID：15418338
> 
> 赞同：1
> 
> 时间：2013-03-14T19:20:52.130
> 
> 标签：c#, libusb-1.0

我是 USB 编程的新手。我们有一个自定义硬件，我们将其插入计算机并从中发送/接收数据。

我使用 LibUsbDotNet 提供的 USB InfWizard 来创建 USB inf/setup 包。

我注意到我无法右键单击 INF 来安装它。它显示以下弹出窗口： ![在此处输入图像描述](../Images/119437a05c17edd6e616cf0d3c468f0d.png)

我不得不去设备管理器路线安装它。但它显示了这个弹出窗口 ![在此处输入图像描述](../Images/5eb66fa58ac5af30a35d626355af6188.png)

所以我的问题是使用由 LibUsbDotNet 工具生成的驱动程序设置。

我需要做什么才能让 Windows 能够验证驱动程序的发布者？

我必须签名还是什么？我错过了什么？

# sql - 将值查询到 shell 脚本中的变量中

> ID：15418351
> 
> 赞同：0
> 
> 时间：2013-03-14T19:21:33.433
> 
> 标签：sql, postgresql, shell

我有查询，结果为

```
 app_no
--------
(0 rows) 
```

我只需要获取行部分，而这也只是数字。我将结果保存到一个变量中，但我无法解析它。

```
napp=`psql -U postgres appdb -c "select appno from app.apps where properties&2048=1024

cap=$(echo "$napp"|sed -n 's/[0-9][0-9] rows/\1/p')
echo "$cap" 
```

我只需要行数，这也只是数字。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:37:31.510

如果您需要`appno`匹配的条目数，那么您可能应该使用：

```
SELECT COUNT(*) FROM app.apps WHERE properties & 2048 = 1024 
```

但答案总是 0，因为条件总是给出 0 或假。您需要两次相同的位，要么都是 1024，要么都是 2048。

```
SELECT COUNT(*) FROM app.apps WHERE properties & 1024 = 1024
SELECT COUNT(*) FROM app.apps WHERE properties & 2048 = 2048 
```

在编写 shell 脚本时，坚持使用标题和摘要的 SQL 接口是一件麻烦事。但是，[psql](http://www.postgresql.org/docs/9.0/static/app-psql.html)手册建议`-q`并且`-t`可能会有所帮助（`-A`也许也有帮助）：

*   `-A`或者`--no-align`

    切换到非对齐输出模式。（默认输出模式以其他方式对齐。）

*   `-q`或者`--quiet`

    指定 psql 应该安静地完成它的工作。默认情况下，它会打印欢迎消息和各种信息输出。如果使用此选项，则不会发生这种情况。这对 -c 选项很有用。在 psql 中，您还可以设置 QUIET 变量以达到相同的效果。

*   `-t`或者`--tuples-only`

    关闭列名和结果行计数页脚等的打印。这相当于`\t`命令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:28:25.750

如果要按*原样*剪切字符串：

```
napp=$(psql -U postgres appdb -c "
    select appno frpm app.apps
    where properties&2048=1024;"
)
cap=$(echo "$napp" | sed -nr 's/.*\(([0-9]+) rows.*/\1/p')
echo "$cap" 
```

但更好的解决方案是[Jonathan Leffler 的](https://stackoverflow.com/users/15168/jonathan-leffler)解决方案

# google-apps-script - 是否可以在 google 电子表格中显示 UI 但不使用 google 容器绑定脚本？

> ID：15418356
> 
> 赞同：0
> 
> 时间：2013-03-14T19:22:06.240
> 
> 标签：google-apps-script, google-sheets

我想为谷歌电子表格设计一个 UI，但目前这些选项允许 UI 显示为单独的网页或容器绑定脚本选项。其他 google 产品（如 gmail）的 Web 应用程序允许在 gmail 页面上/上方/内部绘制内容（html 等）（扩展名“equire”就是一个很好的例子）。

我想设计一个功能类似的谷歌表格 UI。这是可能的还是我必须在单独的网页或容器绑定脚本中做 UI？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T23:53:42.403

您可以编写一个显示 UI 的 Apps 脚本库。此脚本不会被容器绑定。但是，您必须使用电子表格中的 shell 函数从容器绑定脚本中调用此脚本的函数。就像是

**Apps 脚本库（非容器绑定）**

```
function showUI(){
  /* UI code here */
} 
```

**在您的电子表格中**

```
function onOpen(){ // or whatever 
  Library.showUI();
} 
```

也许如果您解释为什么需要这样做，那么可能会出现其他更好的选择

# javascript - 如何检测容器何时失去焦点

> ID：15418358
> 
> 赞同：0
> 
> 时间：2013-03-14T19:22:07.007
> 
> 标签：javascript, extjs

我有一个容器（在表单中），它有一个带有一组编辑字段（文本、复选框等）的表格布局。

我需要捕获用户在容器外部单击时（例如在菜单项上）。目前容器上没有事件处理程序。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-03-13T17:06:53.847

我知道这是一个老问题，但我最近遇到了同样的问题，所以我想我会尝试帮助任何其他患者。

我被困了好几个小时，创建了各种模糊和点击事件侦听器的化身，这些侦听器似乎都几乎可以工作。Blur 会失败，因为即使焦点在子元素上也会触发。点击工作，但没有处理键盘导航。

我的最终解决方案是在窗口级别捕获焦点事件并将焦点目标与我的容器及其子项进行比较。这仅适用于支持*addEventListener*的浏览器。在我的应用程序中，我有一个俘虏观众，不需要担心 IE < 9。

首先创建一个函数来检查焦点目标是您的容器还是它的任何子元素。

```
var LocalTarget = function( el, target )
{
    if ( el === target )
    {
        return true;
    }
    else if ( el.childNodes )
    {
        var els = el.childNodes;

        for ( var i = 0, n = els.length; i < n; i++ )
        {
            if ( els[i] === target )
            {
                return true;
            }
            else if ( els[i].childNodes )
            {
                if ( LocalTarget(els[i], target) ) return true;
            }
        }
    }

    return false;
}; 
```

请注意，这将通过递归比较容器中的所有节点。

接下来，创建一个侦听器函数。

```
var Listener = function( e )
{
    // Check if receiving element is part of the container.
    if ( !LocalTarget([YOUR CONTAINER], e.target) )
    {
        // Do focus lost stuff here...

        // Remove the event listener. [OPTIONAL]
        window.removeEventListener( 'focus', Listener, window, true );
    }
}; 
```

请注意，LocalTarget 和 Listener 函数以及 [YOUR CONTAINER] 是闭包。

最后，添加事件监听器。

```
window.addEventListener( 'focus', Listener, window, true ); 
```

虽然看起来有很多工作要做，而且开销是疯狂的，但这是我唯一能做的混合物。希望它可以帮助某人。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-12-03T19:25:47.650

这是一个使用[focusout](https://developer.mozilla.org/en-US/docs/Web/API/Element/focusout_event)事件、[Node.contains](https://developer.mozilla.org/en-US/docs/Web/API/Node/contains)方法和[relatedTarget](https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/relatedTarget)属性的解决方案。这会侦听包含元素上的 focusout 事件。当相关目标不再是该包含元素的后代时，您就知道焦点已超出该元素。

```
let element = document.querySelector('.some-selector');
element.addEventListener('focusout', e => {
  if (! element.contains(e.relatedTarget)) {
    // Focus has left the element
  }
}); 
```

这在 IE11 中可能不起作用，因为[IE11 仅部分支持 Node.contains 方法](https://caniuse.com/?search=contains)。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-14T19:27:21.087

在 jquery 中你可以使用`$('#container').blur(function() { //some code here });`

# ember.js - 从 json 数据初始化新的 ember-data 模型的简单方法？

> ID：15418359
> 
> 赞同：4
> 
> 时间：2013-03-14T19:22:10.557
> 
> 标签：ember.js, ember-data

我不想从服务器获取新模型的初始数据，例如。来自 url /users/new.json 的响应：

```
{"user":
  {
    "default_value1": "foo", 
    "default_value2": "bar",
    "embedded_foo": [{"default_value3": "baz"}]
  }
} 
```

用户型号：

```
App.User = DS.Model.extend({
  embeddedFoo: DS.hasMany('App.EmbeddedFoo'),
  defaultValue1: DS.attr('string'),
  defaultValue2: DS.attr('string')
}) 
```

还有更多的值，那么有没有办法使用现有的 ember-data 映射来初始化新记录？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:19:59.747

这来自另一个问题[here](https://stackoverflow.com/a/15420204/1157494)，但基本要点是：

```
var userData = {"user":
  [{
    "id": 1,
    "default_value1": "foo", 
    "default_value2": "bar",
    "embedded_foo": [{"default_value3": "baz"}]
  },
  {
    "id": 2,
    "default_value1": "bang", 
    "default_value2": "biff",
    "embedded_foo": [{"default_value3": "boop"}]
  }]
}

App.Store = DS.Store.create({
  revision: 11
});

App.User = DS.Model.extend({
  embeddedFoo: DS.hasMany('App.EmbeddedFoo'),
  defaultValue1: DS.attr('string'),
  defaultValue2: DS.attr('string')
})

App.Store.loadMany(App.User, [1,2], userData); 
```

更多细节`DS.Store.loadMany`：[定义](https://github.com/emberjs/data/blob/master/packages/ember-data/lib/system/store.js#L1616)或[测试](https://github.com/emberjs/data/blob/master/packages/ember-data/tests/unit/store_test.js#L211)。

# unit-testing - 带有服务的 Grails 2.1.x 控制器单元测试

> ID：15418365
> 
> 赞同：0
> 
> 时间：2013-03-14T19:22:32.743
> 
> 标签：unit-testing, service, controller, mocking, grails-2.0

尝试对 Grails 2.1.x 控制器进行单元测试，该控制器调用模板以显示具有状态的历史项目列表。该控制器在手动测试中工作正常，但试图使事情自动化，我被困在这部分。我们的部分问题可能是域对象被过度设计。

此测试的设置可能是更多的集成而不是单元测试，但我不确定我是否可以在没有它的情况下测试该功能。

控制器操作通过 createCriteria 查询生成历史项目列表。该列表被传递给要呈现的模板。

```
def loadHistValues(){
    def histDomainObject = new historyDom()
    def elements = histDomainObject.createCriteria().list(max: params.max, offset: params.offset)
    render (template: 'searchResults', model:[elements: elements]
  } 
```

该模板具有遍历列表的代码，将值放入每一列。其中一项是 getStatus()。这会调用实用程序服务来返回值。

```
 def getStatus(){
     return historyUtillityService.getStatus(this)
 } 
```

服务获取最新的历史事件并返回值。

```
 def getStatus(HistoryDom hist){
     def histStatus = HistoryEvent.createCriteria().get(
         maxResults(1)
         order('id', 'desc')
         eq('historyDom', hist)
      )
      if (histStatus == null)
          return 0
      else
          return histStatus.status
  } 
```

调用 getStatus() 时，我得到一个空指针。

我已经设置了模拟域对象和模拟服务，但我不确定这些是否达到了这个级别，或者我可能把它们称为错误的。

```
@TestFor (HistoryController)
@MockFor (HistoryDom, HistoryEventDom)

class HistoryControllerTests{

def util = new UnitTestUtil()

void testLoadHistValues(){
     def mockHistoryUtilityService = mockfor (HistoryUtilityService)
     mockHisotryUtilityService.demand.getStatus (-> return Status.QUEUED)

     def histObj1 = util.initMockHistObj(1)
     def histObj2 = util.initMockHistObj(2)

     histObj1.save()
     histObj2.save()

     def mockHistEvent = new HistEvent(
         histDate: histObj1.getHistDate(),
         histObj: histObj1,
         histStatus: Status.QUEUED
     )

     mockHistEvent.save()

     controller.loadHistValues()

     assert response.text contains("Something worth testing")
 } 
```

我尝试在调用控制器之前设置一个模拟视图并检查响应文本，但它永远不会超过对控制器的调用，因为它仍在尝试处理模板。在这一点上，我不知道如何测试这个控制器功能，或者是对象的架构不正确；这似乎有点过于复杂。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T20:57:43.287

答案是在它们被模拟 GORM 完全保存之前模拟约束测试的东西。我猜 mockForConstraintsTests 并没有像我预期的那样发挥作用

# java - 用 Java 从 Google Drive 下载文件

> ID：15418366
> 
> 赞同：1
> 
> 时间：2013-03-14T19:22:35.793
> 
> 标签：java, google-drive-api

我的最终目标是编写一个简单的程序，在每周结束时将一个特定的 Google 电子表格下载到我的本地硬盘上。该文件将由其他人每周编辑一次，我将不断下载更新版本以提取数据并传递给我编写的 bash 脚本。我现在手动执行此操作，但如果我可以以 csv 格式下载电子表格，则可以使整个过程自动化。

我对谷歌的文档有点困惑。我已经复制了他们的示例方法`downloadFile`，但仍然不清楚正在传递的确切参数以及`InputStream`返回。

如果我要添加一个 main 方法来调用该`downloadFile`方法，我传递的示例参数是什么。

那么，我可以使用`InputPut`它返回的流将文件保存为csv格式吗？

此外，这是我需要的唯一方法还是还有更多方法？

`downloadFile`方法在这里定义（省略了导入语句）：

```
private static InputStream downloadFile (Drive service, File file) {
    if (file.getDownloadUrl() !=null && file.getDownloadUrl().length() > 0) {
        try {
            HttpResponse resp = service.getRequestFactory().buildGetRequest(new GenericUrl(file.getDownloadUrl())).execute();
            return resp.getContent();
        }
        catch (IOException e) {
            e.printStackTrace();
            return null;
        }
    }
    else {
        return null;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:47:52.583

对于第二个参数，您需要一个 File 类的实例。根据我的发现。Google 专有的最简单形式的 File 类可以用零参数实例化。像这样。

```
File f = new File(); 
```

要构建一个驱动对象，有一个如何做的例子。向下滚动到使用 OAUTH 2.0 凭据。[https://developers.google.com/drive/credentials](https://developers.google.com/drive/credentials)

# java - 仅在编译时设置 java 类路径

> ID：15418369
> 
> 赞同：1
> 
> 时间：2013-03-14T19:22:46.003
> 
> 标签：java, ant, classpath

是否可以仅在使用时设置类路径，`javac`然后在不指定类路径的情况下运行程序`java`？

例如，

我正在使用`ant`它为我进行编译，并将类路径设置为`./:lib/swingx-all-1.6.3.jar`. 据我所知，这基本上`javac`与该类路径一起编译/使用。

那么是否可以使用 just 运行我的程序`java MainApp`，即不必使用类路径变量？还是只能通过再次使用 ant 命令来运行我的程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:24:33.917

您可以将您的应用程序捆绑在一个`jar`文件中。然后将您的类路径包含在`manifest`.

这是[jar](http://ant.apache.org/manual/Tasks/jar.html)和[manifest](http://ant.apache.org/manual/Tasks/manifest.html)任务的`Ant`手册。

然后，运行您的应用程序：

`$ java -jar MainApp.jar`

* * *

如果您可以使用 ant 来运行您的程序，请查看[java 任务](http://ant.apache.org/manual/Tasks/java.html)。创建一个名为“run”或类似名称的新目标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:24:35.850

您不需要设置类路径环境变量；`-cp`您始终可以使用该选项手动提供类路径。

# html - Firefox 上的 HTML5 缓存清单阻止了跨域请求

> ID：15418373
> 
> 赞同：2
> 
> 时间：2013-03-14T19:23:01.090
> 
> 标签：html, firefox, cors, html5-appcache, cache-manifest

我在使用 Firefox 和应用程序缓存执行一些跨域请求时遇到问题。

我的 XHR 请求的错误处理程序被调用，XHR 请求的状态为 0。

当我看到带有 firebug 的网络日志时，我看到一个看起来不错的 OPTIONS 请求：

```
OPTIONS /foo.bar HTTP/1.1
Host: localhost:1337
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:19.0) Gecko/20100101 Firefox/19.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: fr,fr-fr;q=0.8,en-us;q=0.5,en;q=0.3
Accept-Encoding: gzip, deflate
Origin: http://localhost:8080
Access-Control-Request-Method: GET
Access-Control-Request-Headers: content-type
Connection: keep-alive 
```

服务器响应的东西看起来不错：

```
HTTP/1.1 200 OK
Expires: Sun, 19 Nov 1978 05:00:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Access-Control-Allow-Origin: http://localhost:8080
Access-Control-Allow-Methods: GET, PUT, DELETE, OPTIONS
Access-Control-Allow-Headers: content-type
Date: Thu, 14 Mar 2013 17:55:22 GMT
Connection: keep-alive
Transfer-Encoding: chunked 
```

然后 GET 本身没有响应：

```
GET /foo.bar HTTP/1.1
Host: localhost:1337
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:19.0) Gecko/20100101 Firefox/19.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: fr,fr-fr;q=0.8,en-us;q=0.5,en;q=0.3
Accept-Encoding: gzip, deflate
Origin: http://localhost:8080
Connection: keep-alive 
```

（查看服务器日志时，服务器从未收到请求）

我正在使用 html5 应用程序缓存机制，这是我清单的网络部分：

```
NETWORK:
default.php
resource.php
http://localhost:1337/ 
```

这是我尝试过的：

*   在清单文件中替换`http://localhost:1337/`为`*`：它可以工作，但我不喜欢它，我发现在检测丢失的 CACHE 条目时阻止非显式网络请求很方便。
*   `GET`用方法替换`POST`方法：它有效，但我不喜欢它，因为它在语义上是错误的（我试图获取资源，而不是发布数据）。
*   `GET`用自定义但语义正确的方法替换该方法`READ`：它不起作用，但很有趣。

据我了解，我正在尝试做的事情属于W3C 规范[中网络模型更改](http://www.w3.org/TR/2011/WD-html5-20110525/offline.html#changesToNetworkingModel "网络模型的变化")的第 3 步，并且应该按原样工作。

所以，毕竟，我的问题是：

*   我究竟做错了什么 ？
*   这是Firefox的错误吗？（我忘了告诉你，我的网站在 Chrome 和 IE10 中运行起来就像一个魅力（是的，IE10，就像 Microsoft Internet Explorer 版本 10）
*   如果我必须做一个怪癖才能让它与 Firefox 一起工作，我应该做哪一个？有比我发现的两个坏的更好的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-12T14:23:38.733

A List Apart: [Application Cache is a Douchebag](http://alistapart.com/article/application-cache-is-a-douchebag)中提到了这个问题。见问题 #9。

您必须听取每个响应，然后自行过滤响应或错误。

```
$.ajax( url ).always( function(response) {
  // Exit if this request was deliberately aborted
  if (response.statusText === 'abort') { return; } // Does this smell like an error?
  if (response.responseText !== undefined) {
    if (response.responseText && response.status < 400) {
      // Not a real error, recover the content    resp
    } else {
      // This is a proper error, deal with it
      return;
    }
  }
  // do something with 'response'
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T03:58:16.510

尽管[规范](http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html#concept-appcache-onlinewhitelist)说缓存清单`http://localhost:1337`的`NETWORK`部分应该足够了，但可能值得尝试完整的 URL ( `http://localhost:1337/foo.bar`) 以查看 Firefox 的实现中是否存在错误。

如果这不能解决问题并且所有其他方法都失败了，那么我只会`*`加入您的`NETWORK`部分，至少在您弄清楚导致问题的原因之前。对您的用户有用的代码比对您有用的代码更有价值。此外，还有其他方法可以在清单中查找丢失的条目。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-11T17:37:10.823

Firefox 中存在一个[开放缺陷](https://bugzilla.mozilla.org/show_bug.cgi?id=687758)（另请参见[链接的副本](https://bugzilla.mozilla.org/show_bug.cgi?id=755072)），清单中引用的任何跨域资源在后续刷新时都会被阻止。除了投票和等待，此时您无能为力。

请注意，此问题应[在 Firefox 33 及更高](https://bugzilla.mozilla.org/show_bug.cgi?id=1102172)版本中得到解决。

# python - 打印 Unicode 字符的错误 UTF-8 表示

> ID：15418374
> 
> 赞同：0
> 
> 时间：2013-03-14T19:23:04.553
> 
> 标签：python, encoding, utf-8

我有一个文件 ( `sample.txt`)，其中包含以下文本 (in `utf-8`)：

> ولد خألتي وقف في الشارع يقول الله يلعن إلي بيأخذك بيتفل العافيه ˘̩̩⌣˘̩̩ ي أخي حس تالمم لدرجه دي أنا مزعجه ˘̩̩⌣˘̩̩ حرام تحطيمولد خألتي وقف في الشارع يقول الله يلعن إلي بيأخذك بيتفل العافيه ˘̩̩⌣˘̩̩ ي أخي حس تالمم لدرجه دي أنا مزعجه ˘̩̩⌣˘̩̩ حرام تحطيم

当我执行以下操作时：

```
>>> x = open('sample.txt').read().decode('utf-8')

>>> x
u'\ufeff\u0648\u0644\u062f \u062e\u0623\u0644\u062a\u064a \u0648\u0642\u0641 \u0641\u064a \u0627\u0644\u0634\u0627\u0631\u0639 \u064a\u0642\u0648\u0644 \u0627\u
0644\u0644\u0647 \u064a\u0644\u0639\u0646 \u0625\u0644\u064a \u0628\u064a\u0623\u062e\u0630\u0643 \u0628\u064a\u062a\u0641\u0644 \u0627\u0644\u0639\u0627\u0641\
u064a\u0647  \u02d8\u0329\u0329\u2323\u02d8\u0329\u0329 \u064a \u0623\u062e\u064a \u062d\u0633 \u062a\u0627\u0644\u0645\u0645 \u0644\u062f\u0631\u062c\u0647 \u0
62f\u064a \u0623\u0646\u0627 \u0645\u0632\u0639\u062c\u0647  \u02d8\u0329\u0329\u2323\u02d8\u0329\u0329 \u062d\u0631\u0627\u0645 \u062a\u062d\u0637\u064a\u0645\
ufeff\u0648\u0644\u062f \u062e\u0623\u0644\u062a\u064a \u0648\u0642\u0641 \u0641\u064a \u0627\u0644\u0634\u0627\u0631\u0639 \u064a\u0642\u0648\u0644 \u0627\u064
4\u0644\u0647 \u064a\u0644\u0639\u0646 \u0625\u0644\u064a \u0628\u064a\u0623\u062e\u0630\u0643 \u0628\u064a\u062a\u0641\u0644 \u0627\u0644\u0639\u0627\u0641\u06
4a\u0647  \u02d8\u0329\u0329\u2323\u02d8\u0329\u0329 \u064a \u0623\u062e\u064a \u062d\u0633 \u062a\u0627\u0644\u0645\u0645 \u0644\u062f\u0631\u062c\u0647 \u062f
\u064a \u0623\u0646\u0627 \u0645\u0632\u0639\u062c\u0647  \u02d8\u0329\u0329\u2323\u02d8\u0329\u0329 \u062d\u0631\u0627\u0645 \u062a\u062d\u0637\u064a\u0645\n'

>>> open('sample.txt', 'a').write('\n{0}\n'.format(x.encode('utf-8'))) 
```

它在文件中写入相同的行。我可以用文本编辑器打开它，两者都是一样的，但是...

如果我做：

```
print x.encode('utf-8') 
```

我得到以下文本：

> n+++ê+ä+» +«+ú+ä+¬+è +ê+é+ü +ü+è +º+ä+¦+º+¦+¦ +è+é+ê+ä + º+ä+ä+ç +è+ä+¦+å +Ñ+ä+è +¿+è+ú+«+¦+â +¿+è+¬+ü+ä +º+ä+¦+ º+ü+è+ç -ÿ¦¬¦¬Gîú-ÿ¦¬¦¬ +è +ú+«+è +¡+¦ +¬+º+ä+à+à +ä+»+¦+¼ +ç +»+è +ú+å+º +à+¦+¦+¼+ç -ÿ¦¬¦¬Gîú-ÿ¦¬¦¬ +¡+¦+º+à +¬+¡+++ è+àn+++ê+ä+» +«+ú+ä+¬+è +ê+é+ü +ü+è +º+ä+¦+º+¦+¦ +è+é+ê+ ä +º+ä+ä+ç +è+ä+¦+å +Ñ+ä+è +¿+è+ú+«+¦+â +¿+è+¬+ü+ä +º+ä+ ¦+º+ü+è+ç -ÿ¦¬¦¬Gîú-ÿ¦¬¦¬ +è +ú+«+è +¡+¦ +¬+º+ä+à+à +ä+»+¦ +¼+ç +»+è +ú+å+º +à+¦+¦+¼+ç -ÿ¦¬¦¬Gîú-ÿ¦¬¦¬ +¡+¦+º+à +¬+¡+ ++è+à

**对正在发生的事情有任何想法吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T04:04:25.693

Windows cmd.exe 编码不是`'utf-8'`. 我的是`'mbcs'`。

您可以使用以下方法检查您的 Windows 编码：

```
>>> import sys
>>> sys.getfilesystemencoding() 
```

因此，您可以使用以下代码打印 x：

```
>>> import sys
>>> print x.encode(sys.getfilesystemencoding()) 
```

# ios - 在IOS中将标签添加到滚动视图（左边缘被切断）

> ID：15418375
> 
> 赞同：0
> 
> 时间：2013-03-14T19:23:05.087
> 
> 标签：ios, uiscrollview, uilabel, scrollview

我在向滚动视图添加标签时遇到问题，我试图从滚动视图框架的边缘稍微开始标签，但没有添加任何水平滚动（标签宽度远低于滚动视图宽度, 它是超出滚动框架高度的标签高度)

包括截图（绿色是滚动视图框架，红色是标签框架）

![在此处输入图像描述](../Images/0a5f1c6d086d7dd7171179468a161f14.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T21:38:29.050

一些代码会有所帮助。但基本上你需要将 x 原点设置为几个像素。

```
//Inset the x origin by 10 pixels
UILabel *someLabel = [[UILabel alloc] initWithFrame:CGRectMake(10,0,50,50)]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:49:28.613

我不确定我是否理解正确，但只需在您的 textLabel 字符串之前添加一个空格。就像是

```
[NSString stringWithFormat:@"  Dummy Data...", myLabel]; 
```

# powershell - 从批处理运行 Powershell 脚本 - Send-MailMessage 不起作用

> ID：15418377
> 
> 赞同：1
> 
> 时间：2013-03-14T19:23:18.440
> 
> 标签：powershell, batch-file, sendmail

我遇到了 Powershell 脚本的不寻常问题。我编写了脚本来运行运行一个存储过程的数据库查询。下面是完整的脚本：

```
$server="DBServer,Inst" 
$Database = "DATABASE" 
$ConnectionTimeout = 30 
$QueryTimeout = 120 
$Query="STORED_PROCEDURE" 
Import-Module “sqlps” -DisableNameChecking 
$ds=Invoke-Sqlcmd -Query $Query -Database $Database -ServerInstance $server -ConnectionTimeout $ConnectionTimeout -QueryTimeout $QueryTimeout
$date=(Get-Date).ToString() 
$ret=$ds.Return 
```

--查询返回0或1，0表示SP通过，否则失败。

```
$From="abc@xyz.com" 
$SendCC= "aabbcc.b@xyz.com" 
If ($ret -eq '0') 
{ 
$Body=" STORED_PROCEDURE: <FONT COLOR=#00FF00> <b>PASS </b> </FONT> in <b> $server</b>:<i>$Database</i>; TimeStamp: $date" 
$msg="Test: STORED_PROCEDURE - SUCCESS " 
Write-Host "Sending Mail Notification - Ret 0"| 
Send-MailMessage -From $From -To $SendCC -Subject $msg ($Body |Out-String) -BodyAsHtml -SmtpServer mail.xyz.com
Write-Host "Notification Sent!!" 
} 
```

该脚本在我位于 xyz 域中的计算机上运行良好。我创建了批处理文件来运行这个脚本：

```
@pushd "D:\Temp\SM_SP"
powershell  -ExecutionPolicy Bypass -File .\SP_SM.ps1 -noconsole
@popd 
```

即使这个批处理文件在我的电脑上也能正常工作，发送邮件..按预期工作！但真正的问题是在其中一台测试服务器（win Ser 2008 R2）中运行相同。手动执行批处理文件时没有返回错误 - 但是我没有收到任何邮件通知。

*注意- • 我在脚本中提到了正确的 smtp 服务器详细信息，因为我说过相同的脚本和批处理在与此服务器位于同一域的计算机中运行良好。• 我在服务器中测试了 Powershell 内置命令“Send-MailMessage”：*

```
Send-MailMessage -From $from -To $to -Subject Test -SmtpServer mail.xyz.com 
```

*$from 和 $to 都是我的地址，并且我收到邮件绝对没问题。但是在服务器中，当我在 Powershell 控制台或通过打包的批处理文件执行上述脚本时 - 没有收到邮件。*

非常感谢您对此的任何帮助。提前致谢！

问候-Raaj

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-25T23:10:21.650

由于 Exchange 中的接收连接器设置，我多次遇到此问题。如果我们要开始使用它来发送电子邮件，我们通常只会添加服务器的 IP 以允许它进行中继，否则我们希望连接被拒绝。

如果您使用 Exchange，请转到服务器配置-> 集线器传输并检查您在“网络”选项卡上的“从具有这些 IP 地址的远程服务器接收邮件”下列出的内容。如果您使用的是其他邮件服务器，我会参考有关它的连接权限的文档。此外，如果您在服务器上使用的用户帐户与在桌面上使用的用户帐户不同，您可能需要尝试以不同用户身份运行，看看它是否具有您在服务器上使用的帐户的权限。

# python - 递归使用 pyparsing 的 indentedBlock 的简单演示

> ID：15418379
> 
> 赞同：10
> 
> 时间：2013-03-14T19:23:28.937
> 
> 标签：python, pyparsing

我正在尝试`indentedBlock`在 pyparsing 中使用（这对我来说看起来很棒）来剖析一些嵌套缩进，但是在理解 API 参考中的描述（或者[http://pyparsing.wikispaces.com](http://pyparsing.wikispaces.com)下的更具体示例或[How do I parse indents and dedents with pyparsing? 中提到](https://stackoverflow.com/questions/1547944/)的。

有人可以指点我一个关于如何`indentedBlock`递归使用的简明演示或解释，或者在这里提供一个吗？例如，我们如何转换 YAMLish 之类的东西......

```
- a1_el
    - b1_el
        x1_attr: 1
        x2_attr: 2
    - b2_el
        - c1_el # I am a comment
    - b3_el
        x1_attr: 1 
```

...进入一些 XML 表示，例如 ...

```
<a1_el>
    <b1_el x1_attr="1" x2_attr="2"/>
    <b2_el>
        <c1_el/><!-- I am a comment -->
    </b2_el>
    <b3_el x1_attr="1"/>
</a1_el> 
```

...与`indentedBlock`？（另外：在什么实际情况下我需要`indentStack`参数的不同选项？）。非常感谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-01-29T16:31:56.163

这有点旧，但这是部分答案：

```
from pyparsing import *

COMMENT   = pythonStyleComment
OPCOMMENT = Optional(COMMENT)
IDENT     = Word(alphas, alphanums + '_')

attribute    = IDENT + Suppress(':') + Word(alphanums) + OPCOMMENT
element      = Suppress('-') + IDENT + OPCOMMENT
elementBlock = Forward()
blockContent = attribute|elementBlock|COMMENT
elementBlock << element + Optional(indentedBlock(blockContent, [1])) 
```

我假设元素可以包含任意顺序的属性和元素。`elementBlock`将解析整棵树。

它展示了`indentedBlock`so 的使用，为了简短起见，它不允许在树外添加注释，并且它只接受一个根元素（对于 XML 来说不是问题......）

About `indentStack`：它保留当前缩进级别数的列表，列表的最后一个元素显示当前缩进列。正如文档所指出的，使用缩进嵌套块的语法上的所有语句都应该共享相同的列表。因为只有一个，所以我直接在调用`indentedBlock`.

我将结果转换为 XML 作为读者的练习：-P

# python - 存储一组四个（或更多）值的最佳数据结构是什么？

> ID：15418386
> 
> 赞同：7
> 
> 时间：2013-03-14T19:23:45.410
> 
> 标签：python, data-structures, lookup, logarithm

假设我有以下内容`variables`及其对应`values`的代表 a `record`。

```
name = 'abc'
age = 23
weight = 60
height = 174 
```

请注意，`value`可能是不同的`types`（`string`、`integer`、`float`、对任何其他对象的引用等）。

会有很多`records`（至少> 100,000）。当所有这四个（实际上是它的）放在一起时，每一个都`record`将是。换句话说，不存在所有4个都相同。`unique``variables``values``record``values`

我正在尝试找到一种有效的数据结构，在`Python`该结构中，我可以根据时间复杂度中`records`的任何一个来（存储和）检索。`variables``log(n)`

例如：

```
def retrieve(name=None,age=None,weight=None,height=None) 
    if name is not None and age is None and weight is None and height is None:
        /* get all records with the given name */
    if name is None and age is not None and weight is None and height is None:
        /* get all records with the given age */
    ....
    return records 
```

`retrieve`应该调用的方式如下：

```
retrieve(name='abc') 
```

以上应该返回`[{name:'abc', age:23, wight:50, height=175}, {name:'abc', age:28, wight:55, height=170}, etc]`

```
retrieve(age=23) 
```

以上应该返回`[{name:'abc', age:23, wight:50, height=175}, {name:'def', age:23, wight:65, height=180}, etc]`

`variables`而且，将来我可能需要在此记录中再添加一两个。例如，说，`sex = 'm'`。因此，该`retrieve`功能必须是可扩展的。

简而言之：是否有一种数据结构`Python`允许`storing a record`包含（姓名、年龄、性别、体重、身高等）的`n`数量并基于任何（一个）in （或理想的查找时间）复杂性？ `columns``retrieving records``column``logarithmic``constant - O(1)`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-14T21:39:40.207

Python 中没有一个单一的数据结构可以满足您的所有需求，但是使用它所必须的数据结构组合来实现您的目标并相当有效地实现这一目标是相当容易的。

例如，假设您的输入是逗号分隔值文件中的以下数据，该文件调用`employees.csv`的字段名称如第一行所示：

```
name,age,weight,height
Bob Barker,25,175,6ft 2in
Ted Kingston,28,163,5ft 10in
Mary Manson,27,140,5ft 6in
Sue Sommers,27,132,5ft 8in
Alice Toklas,24,124,5ft 6in 
```

以下是工作代码，它说明了如何读取这些数据并将其存储到记录列表中，并自动创建单独的查找表以查找与每个记录的字段中包含的值相关联的记录。

记录是由其创建的类的实例，该类`namedtuple`的内存效率非常高，因为每个记录都缺少`__dict__`类实例通常包含的属性。使用它们可以使用点语法按名称访问每个字段，例如`record.fieldname`.

查找表是`defaultdict(list)`实例，它们平均提供类似于字典的***O*** (1) 查找时间，并且还允许多个值与每个值相关联。因此，查找键是要查找的字段值的值，与之关联的数据将是`Person`存储在`employees`具有该值的列表中的记录的整数索引列表——因此它们都相对较小。

请注意，该类的代码完全是数据驱动的，因为它不包含任何硬编码的字段名称，而是在读入时从 csv 数据输入文件的第一行获取。当然，当使用实例时，所有`retrieve()`方法调用必须提供有效的字段名称。

**更新**

修改为在首次读取数据文件时不为每个字段的每个唯一值创建查找表。现在，`retrieve()`“懒惰”的方法仅在需要时创建它们（并保存/缓存结果以供将来使用）。还修改为在 Python 2.7+ 中工作，包括 3.x。

```
from collections import defaultdict, namedtuple
import csv

class DataBase(object):
    def __init__(self, csv_filename, recordname):
        # Read data from csv format file into a list of namedtuples.
        with open(csv_filename, 'r') as inputfile:
            csv_reader = csv.reader(inputfile, delimiter=',')
            self.fields = next(csv_reader)  # Read header row.
            self.Record = namedtuple(recordname, self.fields)
            self.records = [self.Record(*row) for row in csv_reader]
            self.valid_fieldnames = set(self.fields)

        # Create an empty table of lookup tables for each field name that maps
        # each unique field value to a list of record-list indices of the ones
        # that contain it.
        self.lookup_tables = {}

    def retrieve(self, **kwargs):
        """ Fetch a list of records with a field name with the value supplied
            as a keyword arg (or return None if there aren't any).
        """
        if len(kwargs) != 1: raise ValueError(
            'Exactly one fieldname keyword argument required for retrieve function '
            '(%s specified)' % ', '.join([repr(k) for k in kwargs.keys()]))
        field, value = kwargs.popitem()  # Keyword arg's name and value.
        if field not in self.valid_fieldnames:
            raise ValueError('keyword arg "%s" isn\'t a valid field name' % field)
        if field not in self.lookup_tables:  # Need to create a lookup table?
            lookup_table = self.lookup_tables[field] = defaultdict(list)
            for index, record in enumerate(self.records):
                field_value = getattr(record, field)
                lookup_table[field_value].append(index)
        # Return (possibly empty) sequence of matching records.
        return tuple(self.records[index]
                        for index in self.lookup_tables[field].get(value, []))

if __name__ == '__main__':
    empdb = DataBase('employees.csv', 'Person')

    print("retrieve(name='Ted Kingston'): {}".format(empdb.retrieve(name='Ted Kingston')))
    print("retrieve(age='27'): {}".format(empdb.retrieve(age='27')))
    print("retrieve(weight='150'): {}".format(empdb.retrieve(weight='150')))
    try:
        print("retrieve(hight='5ft 6in'):".format(empdb.retrieve(hight='5ft 6in')))
    except ValueError as e:
        print("ValueError('{}') raised as expected".format(e))
    else:
        raise type('NoExceptionError', (Exception,), {})(
            'No exception raised from "retrieve(hight=\'5ft\')" call.') 
```

输出：

```
retrieve(name='Ted Kingston'): [Person(name='Ted Kingston', age='28', weight='163', height='5ft 10in')]
retrieve(age='27'): [Person(name='Mary Manson', age='27', weight='140', height='5ft 6in'),
                     Person(name='Sue Sommers', age='27', weight='132', height='5ft 8in')]
retrieve(weight='150'): None
retrieve(hight='5ft 6in'): ValueError('keyword arg "hight" is an invalid fieldname')
                           raised as expected 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-14T19:54:04.917

> *Python中是否有数据结构允许存储具有`n`列数（姓名、年龄、性别、体重、身高等）的记录，并基于对数列中的任何（一个）（或理想情况下为常数-O）检索记录（1）查找时间）复杂度？*

不，没有。但是您可以尝试在每个值维度一个字典的基础上实现一个。当然，只要您的值是可散列的。如果您为记录实现自定义类，则每个字典都将包含对相同对象的引用。这将为您节省一些内存。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-14T20:40:16.590

`O(log(n)**k)`您可以使用索引（使用单列索引）在关系数据库中实现对数时间复杂度。然后检索数据只需构造适当的 SQL：

```
names = {'name', 'age', 'weight', 'height'}

def retrieve(c, **params):
    if not (params and names.issuperset(params)):
        raise ValueError(params)
    where = ' and '.join(map('{0}=:{0}'.format, params))
    return c.execute('select * from records where ' + where, params) 
```

例子：

```
import sqlite3

c = sqlite3.connect(':memory:')
c.row_factory = sqlite3.Row # to provide key access

# create table
c.execute("""create table records
             (name text, age integer, weight real, height real)""")

# insert data
records = (('abc', 23, 60, 174+i) for i in range(2))
c.executemany('insert into records VALUES (?,?,?,?)', records)

# create indexes
for name in names:
    c.execute("create index idx_{0} on records ({0})".format(name))

try:
    retrieve(c, naame='abc')
except ValueError:
    pass
else:
    assert 0

for record in retrieve(c, name='abc', weight=60):
    print(record['height']) 
```

输出：

```
174.0
175.0 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-14T19:49:16.960

鉴于[http://wiki.python.org/moin/TimeComplexity](http://wiki.python.org/moin/TimeComplexity)这个怎么样：

*   为您感兴趣的每一列都有一本字典 - `AGE`、`NAME`等。
*   让该字典的键 ( `AGE`, `NAME`) 成为给定列的可能值（35 或“m”）。
*   有一个代表一个“集合”值的列表列表，例如`VALUES = [ [35, "m"], ...]`
*   让列字典 ( `AGE`, `NAME`) 的值是列表中的索引`VALUES`列表。
*   有一个字典，它将列名映射到列表中的索引，`VALUES`这样你就知道第一列是年龄，第二列是性别（你可以避免这种情况并使用字典，但它们会引入大内存脚注，并且有超过 100K 的对象，这可能是也可能不是一个问题）。

那么`retrieve`函数可能如下所示：

```
def retrieve(column_name, column_value):
    if column_name == "age":
        return [VALUES[index] for index in AGE[column_value]]      
    elif ...: # repeat for other "columns" 
```

然后，这就是你得到的

```
VALUES = [[35, "m"], [20, "f"]]
AGE = {35:[0], 20:[1]}
SEX = {"m":[0], "f":[1]}
KEYS = ["age", "sex"]

retrieve("age", 35)
# [[35, 'm']] 
```

如果需要字典，可以执行以下操作：

```
[dict(zip(KEYS, values)) for values in retrieve("age", 35)]
# [{'age': 35, 'sex': 'm'}] 
```

但同样，字典在内存方面有点重，所以如果你可以使用值列表可能会更好。

字典和列表检索平均都是 O(1) - 字典的最坏情况是 O(n) - 所以这应该很快。保持这种状态会有点痛苦，但不会那么痛苦。要“写入”，您只需附加到`VALUES`列表中，然后将索引附加`VALUES`到每个字典中。

当然，最好的方法是对您的实际实现进行基准测试并寻找潜在的改进，但希望这是有道理的并且会让您继续前进:)

编辑：

请注意，正如@moooeeeep 所说，这仅在您的值是可散列的并且因此可以用作字典键时才有效。

# php - PHP将当前数组值与前一个值进行比较

> ID：15418387
> 
> 赞同：4
> 
> 时间：2013-03-14T19:23:57.313
> 
> 标签：php, arrays, comparison

我有一张`array`图片和一个日期。我正在通过 array 检索日期`explode`。我想获取此日期值并将其与上一张图像的上一个日期值进行比较。我的目标是将这些日期显示为对应于每个不同日期的图像集的标题。

这是我一直在摆弄的代码以尝试使这项工作正常进行（对不起，我所有的斜线）：

```
$p = 0;
$a = -1;
echo "<table>";
echo "<tr>";
foreach (array_combine($images,$locs) as $image => $loc)
{
    $p++;
    $a++;
    $datesort = explode('>',$image);
    echo "<style>";
    echo "input[label=t" . $p . "]    {";
    echo "display: none;";
    echo "}";
    echo "input[label=t" . $p . "] + label   {";
    echo "border: 5px solid #FFFFFF;";
    $image = "background: url('http://blah.com/" . $loctb[$p] . "');";
    echo $image;
    echo "height: 61px;";
    echo "width: 92px;";
    echo "display: inline-block;";
    echo "padding: 0 0 0 0px;";
    echo "}";
    echo "input[label=t" . $p . "]:checked + label   {";
    echo "border: 5px solid #FF9900;";
    echo "background: url('http://blah.com/" . $loctb[$p] . "');";
    echo "height: 61px;";
    echo "width: 92px;";
    echo "display: inline-block;";
    echo "padding: 0 0 0 0px;";
    echo "}";
    echo "</style>";
    $lastdate = array("");
    $lastdate[$a] = $datesort[1];
    echo "<td>";
    if ($lastdate[$a] <> $datesort[1]){
    echo "<h2>";
    echo $datesort[1];
    echo "</h2>";
    }
    echo "<input type=\"checkbox\" label=\"t" . $p . "\" id=\"t" . $p . "\" name =\"boxes[]\" value=\"<img src=http://blah.com/" . $loc . "\" />";
    echo "<label for=\"t" . $p . "\"></label>";
    echo "</div>";
    echo "</td>";
    if ($p % 2 == 0)
    {
    echo "</tr>";
    }
}
echo "</table>"; 
```

我一直在尝试将当前日期值存储到另一个`array`变量中，然后在下一次通过我的`foreach`循环时将其与新值进行比较，但我做错了：-/...

我很感激你能提供的任何帮助。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:33:23.367

这是一种快速而肮脏的方法，尽管您需要根据自己的需要对其进行调整（我遇到了这个问题，但情况更糟，因为我还填写了中间的空白日期）：

```
$previous_dates = array();

foreach (array_combine($images,$locs) as $image => $loc) {

    $datesort = explode('>',$image);

    if (end($previous_dates) <> $datesort[1]) {
       echo "<h2>";
       echo $datesort[1];
       echo "</h2>";
    }
      // ... more stuff ...//

    $previous_dates[] =  $datesort[1];
} 
```

真的，我会重新考虑你为循环内的爆炸所采取的方法，但首先，看看这是否能让你到达你需要的地方。

# php - 如何将我的 Javascript 对象传递给 php

> ID：15418393
> 
> 赞同：1
> 
> 时间：2013-03-14T19:24:18.577
> 
> 标签：php, javascript, html

下面我有一个函数，它将 PHP 表单上的变量保存到 javascript 中的对象列表中

一个.js

```
function save()
{
    var oldItems = JSON.parse(localStorage.getItem('itemsArray')) || [];

    var newItem = 
    {
        'num' : document.getElementById("num").value,
        'methv' : document.getElementById("methv").value,
        'q1' : document.getElementById("q1").value,
        'q2' : document.getElementById("q2").value,
        'q3' : document.getElementById("q3").value,
        'q4' : document.getElementById("q4").value,
        'comm' : document.getElementById("comm").value
    };

    oldItems.push(newItem);

    localStorage.setItem('itemsArray', JSON.stringify(oldItems));
} 
```

如何在我的 php 页面中显示内容以便我可以编辑它们？（感谢打印出来的示例）

编辑*

这些是将添加到对象的值

```
<form action="" method="post" enctype="multipart/form-data">

  <select name="methv" class="textfields" id="methv" style="width:110px" > 
    <option value= "dont know">dont know </option>

<select name="q1" class="textfields" id="q1" style="width:50px" > 
<option value= "-">-</option>
<option value= "L">L</option>

<select name="q2" class="textfields" id="q2" style="width:50px" > 
<option value= "-">-</option>
<option value= "L">L</option>

<select name="q3" class="textfields" id="q3" style="width:50px" > 
<option value= "-">-</option>
<option value= "L">L</option>

<select name="q4" class="textfields" id="q4" style="width:50px" > 
<option value= "-">-</option>
<option value= "L">L</option>

<textarea rows="4" cols="40" id="comm" name="comm" style="width:300px"><?php echo $post['addcomment'] ;?></textarea> 

</form> 
```

我只导入了 a.js 和`<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:31:50.283

您似乎混淆了 PHP 和 Javascript 的角色。

PHP 是**服务器端的**，这意味着它呈现页面（并在必要时进行任何计算、数据库调用等），然后输出 HTML。这就是 PHP 参与网页的终结。

Javascript 是**客户端的**，这意味着在浏览器中加载并呈现页面后，如果您愿意，Javascript 可以开始修改页面的元素。

您没有提供有关当前页面结构的任何信息，因此我们无法帮助您使用 javascript 修改页面内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:55:20.743

PST这个怎么样？

当您提交代码时，您会使用 save 函数。

```
<form action="" onsubmit="save()" method="post" enctype="multipart/form-data"> 
```

然后你添加到你的表单标签中，如下所示

```
<textarea id="SendToPhp" style="display : none"></textarea> 
```

在您保存功能中，您将其添加为结尾

```
document.getElementById('SendToPhp').innerHTML = object; 
```

或类似的东西 ！

但我这就是你所缺少的！

将以下内容添加到表单的末尾，`<input type="submit" value="Send To PHP" />`但将其保留在`<form>`标签内，以便将其放在前面`</form>`

当您单击此按钮时，您将被发送到应该在操作 ex 中的 php 页面，`action = "readjs.php"`并且在该页面中执行`print_r($_POST)`

您需要的值将存储在 POST 中。

如果您想在不重新加载页面的情况下执行此操作，那么您必须更多地研究 AJAX

希望这对您有所帮助。

编辑的代码，应该是 $_POST 以前是 $_GET

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:31:33.547

您必须通过 GET 或 POST 请求将数据提交到服务器，以便服务器上的 PHP 脚本可以处理该数据。只要它只是在 JavaScript 和 localStorage 中，服务器（因此，PHP）不知道它的存在。

# php - 如何修改 php 代码以接收 5 个没有重复/重复数字的数字？

> ID：15418406
> 
> 赞同：-2
> 
> 时间：2013-03-14T19:24:59.670
> 
> 标签：php, random, numbers

我有这个 php 代码：

```
<?php
function GetRand($N, $min=1, $max=59) {
$Local = array();
mt_srand(time());
for ($i=0;$i<$N;$i++) 
$LocalArr [] = mt_rand($min, $max); 
return $LocalArr;
}
$A = GetRand(5);
foreach($A as $K=>$v) echo "$v ";
?> 
```

结果是 1 到 59 之间的 5 个数字。问题是有时我会收到这样的结果：

43 9 13 9 7 在这 5 个数字中，数字 9 出现了两次。我想更改 php 代码，所以每次当有一个重复的数字时，这个数字应该被跳过，而不是重复的数字应该代表另一个数字，这样每次我有 5 个数字并且它们之间没有重复。

非常感谢您提前！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:34:39.030

```
$numbers = range(1, 59);
shuffle($numbers);
var_dump(array_slice($numbers, 0, 5)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:34:58.450

试试这个（未经测试）：

```
<?php

    $randoms = array(rand(1,59));
    while(sizeof($randoms) <= 5) {

        $randoms[] = rand(1,59);
        $randoms = array_unique($randoms);

    } 
```

# android - 使用 OpenGL 在 Android 上生成重影

> ID：15418407
> 
> 赞同：1
> 
> 时间：2013-03-14T19:25:01.153
> 
> 标签：android, opengl-es-2.0, galaxy, samsung-mobile

我有一个在 Android 上运行的 OpenGL ES 2 应用程序。我已经在一些设备上进行了测试：

*   三星盖乐世 S2
*   LG 擎天柱 G
*   宏达一 X
*   点燃火
*   Kindle Fire HD

该应用程序按预期运行。但是，我的三星 Galaxy S3 存在一个挥之不去的问题。在我的演示中，我渲染了一堆球体。我还可以通过在屏幕上触摸和拖动手指来平移相机。

当我移动相机时，我注意到的是“重影”。这很难描述，但是当我移动相机时，我可以看到球体之前的轮廓。而且，随着相机的移动，我可以继续看到之前的轮廓。我没有看到所有之前的大纲——只有最后几个（这里很难量化）。而且，我只看到球体内的轮廓——据我所知，以前的轮廓在球体之外不再存在。

然而，一旦相机停止，轮廓就会在约 1 秒内赶上并消失。简而言之，当事物静止时，一切都会正确渲染。

我最近遇到了一些纹理问题（与 mipmapping 相关），前几天我解决了这些问题。这里概述了问题和解决方案：

[OpenGL ES 2 中 Android 上的黑色伪影](https://stackoverflow.com/questions/15011389/black-artifacts-on-android-in-opengl-es-2)

我的纹理修复可能与此有关吗？我意识到我遗漏了很多细节，但我想知道这些症状是否足以继续下去？有任何想法吗？

谢谢。

额外细节：

*   使用 NDK 截屏时不会出现重影。

*   问题照片：

![S3 上的重影效果](../Images/27924740aaa2e63b725c764b5379a6f1.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T18:36:12.507

您的手机上有一个临时解决方案，在开发人员选项下，选中“禁用硬件覆盖”框。

我还不确定在运行你的应用程序时是否有办法强制这种行为。

# android - android通过拖动手指显示数据

> ID：15418408
> 
> 赞同：0
> 
> 时间：2013-03-14T19:25:03.320
> 
> 标签：android

我必须显示一个图表，当您将手指拖过它时，视图应该显示数据。

我已经看到当您单击“onclicklistener”时这是可能的，但也可以通过这种方式实现吗？

谢谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:29:00.917

利用

```
 @Override
      public boolean onTouchEvent( MotionEvent event ) {
    float x = event.getX( );
        float y = event.getY( );
     if ( event.getAction( ) == MotionEvent.ACTION_DOWN ) {
    //Do something interesting
    }else if ( event.getAction( ) == MotionEvent.ACTION_MOVE ) {
    //Do something exciting
    }else if ( event.getAction( ) == MotionEvent.ACTION_UP ) {
//Do something boring
} 
```

# jquery - 循环通过 json 仅适用于第一项

> ID：15418409
> 
> 赞同：0
> 
> 时间：2013-03-14T19:25:07.700
> 
> 标签：jquery, json, loops

嗨，我正在尝试遍历一些 json 数据并将其输出到页面上，我的问题是它只显示 json 中的第一项，（波士顿庄园停车场）我无法让它显示第二项...

jsfiddle：http: [//jsfiddle.net/35Jrc/6/](http://jsfiddle.net/35Jrc/6/)

HTML：

```
<span class='showOnMap' 
     data-related='[
            {"id":"5","slug":"boston-manor-park-car-park","name":"Boston Manor Park car park","image":"","pinType":"ub","addr":"Boston Manor Road, London  ","lat":"51.48967509541307","lng":"-0.3164195004638941","contact":"Reel Film Locations: ","restrictions":"Shared use with park users. 6 classic 1960 Tower Blocks"},
            {"id":"4","slug":"gunnersbury-park-car-park","name":"Gunnersbury Park car park","image":"","pinType":"ub","addr":"Popes Lane, London  W3 8LQ","lat":"51.49963692687797","lng":"-0.29188622747801674","contact":"Reel Film Locations: 0845 402 2998","restrictions":"Shared use with sports ground users.  Weekends in season are busy with the public. 6 classic 1960 Tower Blocks"}
        ]'>
         click me
</span>
<div class="relatedHeader">Unit Bases near by:</div>
<div class="relatedDetails">

</div> 
```

JS：

```
$('.showOnMap').click(function(){
    //alert('click');
    var myRelated = $(this).data('related');

    createRelated(myRelated)
    //addToPanel(panelData);
})     
function createRelated(myRelated){
        var relCount = 0;
        var rowCount = 0;
        var itemCount = 0;
            var relCount = 0;
        $.each(myRelated, function(k, v) {
            if(relCount == 3){
                relCount = 0;
            };
            // create a new row
            if(relCount == 0){
                var rowClass = 'relRow'+rowCount;
                //alert('new row class: .'+rowClass);
                $("<div></div>")
                .addClass("detailRow "+rowClass)
                .appendTo(".relatedDetails");
                rowCount++;
            }
            // create a new related item div
            var itemClass = 'item'+itemCount;
            //alert('new item class: .'+itemClass);
            $("<div></div>")
            .addClass("relatedItem "+itemClass)
            .appendTo('.'+rowClass);

            //$('.'+rowClass).append('.'+itemClass);
            // now loop through the keys and values and add the data
            //add the data to the related item
            $('.'+itemClass).data('location',this);
            //add item to to our row

            //$.each(obj, function(k, v) {
                  //tmp = {"id":"5","slug":"boston-manor-park-car-park","name":"Boston Manor Park car park","image":"","pinType":"ub","addr":"Boston Manor Road, London ","lat":"51.48967509541307","lng":"-0.3164195004638941","contact":"Reel Film Locations: ","restrictions":"Shared use with park users. External features unavaliable at present"};
                //if(k=='image'){
                    $('<img/>')
                    .addClass('relatedImage')
                    .attr("src", v.image)
                    .appendTo('.'+itemClass)
                //}
                //if(k=='name'){
                    $('<div></div>')
                    .addClass('relatedTitle')
                    .html(v.name)
                    .appendTo('.'+itemClass)
                //}
            //});
            itemCount++;
            relCount++;
        });
    }; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T20:09:50.120

问题出在小提琴的第 32 行：

`.appendTo('.'+rowClass);`

检查循环`rowClass`的每次迭代中的等于`$.each`。它仅在满足此条件时第一次定义：

```
if(relCount == 0){
    var rowClass = 'relRow'+rowCount;
} 
```

您应该更改存储添加项目的行的方式。（第 17 行和第 30 行的更改。）

```
$('.showOnMap').click(function(){
    var myRelated = $(this).data('related');

    createRelated(myRelated);
});

function createRelated(myRelated){

    // Clear any previous content
    $('.relatedDetails').html('');

    var relCount = 0;
    var rowCount = 0;
    var itemCount = 0;
    var relCount = 0;

    // Store a reference to the current row
    var row = '';

    console.log('myRelated', myRelated);
    $.each(myRelated, function(k, v) {
        console.log('k, v', k, v);
        console.log('relCount', relCount);
        if (relCount == 3) {
            relCount = 0;
        };
        // create a new row
        if(relCount == 0){
            rowClass = 'relRow'+rowCount;

            // Save the row you're creating
            row = $("<div></div>")
            .addClass("detailRow "+rowClass)
            .appendTo(".relatedDetails");
            rowCount++;
        }
        // create a new related item div
        var itemClass = 'item'+itemCount;
        //alert('new item class: .'+itemClass);
        var newItem = $("<div></div>")
        .addClass("relatedItem "+itemClass)
        .appendTo(row);

        //$('.'+rowClass).append('.'+itemClass);
        // now loop through the keys and values and add the data
        //add the data to the related item
        newItem.data('location',this);
        //add item to to our row

        //if(k=='image'){
        $('<img/>')
        .addClass('relatedImage')
        .attr("src", v.image)
        .appendTo('.'+itemClass)
        //}
        //if(k=='name'){
        $('<div></div>')
        .addClass('relatedTitle')
        .html(v.name)
        .appendTo('.'+itemClass)
        //}

        itemCount++;
        relCount++;
    });
}; 
```

你可以在这里看到它的作用：http: [//jsfiddle.net/cYavP/1/](http://jsfiddle.net/cYavP/1/)

# java - 通用观察者 - 铸造问题

> ID：15418415
> 
> 赞同：-1
> 
> 时间：2013-03-14T19:25:12.180
> 
> 标签：java, compiler-errors, observer-pattern, subject-observer

我正在尝试制作一个通用的观察者模式，以 headFirst 设计模式示例为蓝本。我在标有 ??? 的行出现错误 以下。

错误消息说：主题类型中的方法 registerObserver(Observer) 不适用于参数 (CurrentConditionsDisplay)

```
package be.intec.Meteo.Codemeteo;

import be.intec.Meteo.Interfaces.DisplayElement;
import be.intec.Meteo.Interfaces.Observer;
import be.intec.Meteo.Interfaces.Subject;
//import javax.servlet.annotation.WebServlet;

//@supressWarning("unchecked")
public class CurrentConditionsDisplay implements Observer, DisplayElement {
    private float temperature;
    private float humidity;
    private Subject weatherData;

    public CurrentConditionsDisplay(Subject weatherData) {
        this.weatherData = weatherData;
             weatherData.registerObserver(this); // ??? Error: The method registerObserver(Observer) in the type Subject is not applicable for the arguments (CurrentConditionsDisplay)
    }

    public void update(float temperature, float humidity, float pressure) {
        this.temperature = temperature;
        this.humidity = humidity;
        display();
    }

    public void display() {
        System.out.println("Current conditions: " + temperature 
            + "F degrees and " + humidity + "% humidity");
    }
} 
```

接口1

```
package be.intec.Meteo.Interfaces;

import java.util.Observer;
public interface Subject {
    public void registerObserver(Observer o);
    public void removeObserver(Observer o);
    public void notifyObservers();
} 
```

接口 2

```
package be.intec.Meteo.Interfaces;

public interface Observer {
    public void update(float temp, float humidity, float pressure);
} 
```

接口 3

```
package be.intec.Meteo.Interfaces;

public interface DisplayElement {
    public void display();
} 
```

天气数据类

```
package be.intec.Meteo.Codemeteo;

import java.util.ArrayList;

import be.intec.Meteo.Interfaces.Observer;
import be.intec.Meteo.Interfaces.Subject;

public class WeatherData implements Subject {
    private ArrayList observers;
    private float temperature;
    private float humidity;
    private float pressure;

    public WeatherData() {
        observers = new ArrayList();
    }

    @Override
    public void registerObserver(java.util.Observer o) {
        observers.add(o);

    }

    @Override
    public void removeObserver(java.util.Observer o) {
        int i = observers.indexOf(o);
        if (i >= 0) {

            observers.remove(i);
        }

    }

    @Override
    public void notifyObservers() {
        for (int i = 0; i < observers.size(); i++) {
            Observer observer = (Observer) observers.get(i);
            observer.update(temperature, humidity, pressure);

        }
    }

    public void mesurementChanged() {
        notifyObservers();
    }

    public void setMeasurements(float temperature, float humidity,
            float pressure) {
        this.temperature = temperature;
        this.humidity = humidity;
        this.pressure = pressure;

    }

    // other weather data methos here
} 
```

测试员类

```
package be.intec.Meteo.Codemeteo;

import java.util.*;

public class WeatherStation {

    public static void main(String[] args) {
        WeatherData weatherData = new WeatherData();

        CurrentConditionsDisplay currentDisplay = new CurrentConditionsDisplay(
                weatherData);
        // StatisticsDisplay statisticsDisplay = new
        // StatisticsDisplay(weatherData);
        // ForecastDisplay forecastDisplay = new ForecastDisplay(weatherData);

        weatherData.setMeasurements(80, 65, 30.4f);
        weatherData.setMeasurements(82, 70, 29.2f);
        weatherData.setMeasurements(78, 90, 29.2f);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:30:49.570

您的`Subject`界面正在导入错误的`Observer`类。

你有：

```
import java.util.Observer;
public interface Subject { 
```

你需要：

```
import be.intec.Meteo.Interfaces.Observer;
public interface Subject { 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-14T19:35:12.310

您正在尝试调用`WeatherData.registerObserver(java.util.Observer)`with`this`作为参数。但是作为`be.intec.Meteo.Codemeteo.CurrentConditionsDisplay`仅实现`be.intec.Meteo.Interfaces.Observer`and`be.intec.Meteo.Interfaces.DisplayElement`接口的实例，这会导致编译错误。

几点观察：

*   Java 包应该全部小写（便于区分什么是类和什么是包）
*   通常，如果您的类名不与其他类共享名称以避免诸如此类的混淆（`be.intec.Meteo.Interfaces.Observer`vs`java.util.Observer`

# c# - mvc3 起订量 mvccontrib 如何起订量用户代理？

> ID：15418416
> 
> 赞同：1
> 
> 时间：2013-03-14T19:25:12.177
> 
> 标签：c#, asp.net-mvc-3, moq, mvccontrib

编写一些单元测试，但我没有找到一种方法来使用 mvc3、moq 和 mvccontrib 来最小化用户代理字符串。任何想法如何用 moq 和 mvccontrib 模拟用户代理字符串？

我一直在尝试这样做，但 useragent 属性是只读的。

```
 public static RouteController GetRouteController()
    {
        var controller = new RouteController();
        var builder = new TestControllerBuilder();

        builder.HttpContext.Request.UserAgent = "foo-agent";
        //mocks up the asp pipeline (http context, asp session, etc)
        builder.InitializeController(controller);

        return controller;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T00:21:26.077

好的，找到了怎么做。只需要在请求上使用 rhinomocks 存根即可。这对我有用。

```
public static RouteController GetRouteController(string useragent)
        {
            var controller = new RouteController();
            var builder = new TestControllerBuilder();

            builder.InitializeController(controller);
            //mock out the useragent string
            controller.HttpContext.Request.Stub(r => r.UserAgent).Return(useragent);
            return controller;
        } 
```

希望这对其他人有帮助。

# iphone - iPhone正在为图像添加上边距

> ID：15418417
> 
> 赞同：0
> 
> 时间：2013-03-14T19:25:13.040
> 
> 标签：iphone, image, scale, margin, percentage

在我的笔记本电脑上检查我的响应式网站时，它使用百分比很好地缩放，但是当我在我的 iPhone 上检查它时，它为我的垂直图像行增加了一个巨大的上边距。任何想法为什么？该网站在这里[http://edharrisondesign.com/pocketpictograms/](http://edharrisondesign.com/pocketpictograms/)

提前致谢！

的HTML：

```
 <!-- Pocket
================================================== -->

    <figure>
        <div class="main-pocket"><img src="images/assets/pocket.png"></div>
        <div class="padding"></div>
    </figure>

<!-- Icons
================================================== -->

    <div class="inside-pocket">
        <div class="icon-container">
            <img class="pictogram" src="images/pocket-pics/pencil.png"> 
            <img class="pictogram" src="images/pocket-pics/iphone.png"> 
            <img class="pictogram" src="images/pocket-pics/earphones.png">  
            <img class="pictogram" src="images/pocket-pics/camera.png"> 
            <img class="pictogram" src="images/pocket-pics/film.png">   
            <img class="pictogram" src="images/pocket-pics/scalpol.png">    
            <img class="pictogram" src="images/pocket-pics/paintbrush.png"> 
            <img class="pictogram" src="images/pocket-pics/fineliner1.png"> 
            <img class="pictogram" src="images/pocket-pics/fineliner2.png"> 
            <img class="pictogram" src="images/pocket-pics/notepad.png">    
            <img class="pictogram" src="images/pocket-pics/mouse.png">  
            <img class="pictogram" src="images/pocket-pics/glasses.png">    
            <img class="pictogram" src="images/pocket-pics/lighter.png">    
            <img class="pictogram" src="images/pocket-pics/pipe.png">   
            <img class="pictogram" src="images/pocket-pics/flask.png">  
            <img class="pictogram" src="images/pocket-pics/matches.png">    
            <img class="pictogram" src="images/pocket-pics/watch.png">  
            <img class="pictogram" src="images/pocket-pics/pocket-watch.png">   
            <img class="pictogram" src="images/pocket-pics/key.png">    
            <img class="pictogram" src="images/pocket-pics/car-key.png">    
        </div>             
    </div> 
```

CSS：

```
figure {
    z-index: 97;
    position: fixed;
    overflow: hidden;
    width: 100%;
    height: 100%;
    top: 40%;
    text-align: center;
}  

.padding {
  z-index: 95;
  position:  relative;
  background-color: #D2D2D2;
  height: 100%;
  width: 100%;
  top: -50px;
  overflow: hidden;
  border-bottom: 50px solid #D2D2D2;
}    

.main-pocket img {
   z-index: 96;
   position: relative;
   width: 30%;
   height: auto;
   margin: 0 auto;
   max-width: 300px;
} 

 .inside-pocket {
   width: 100%;
   height: 100%;
   position: absolute;
   margin: 0 auto;
   text-align: center;
 }

 .icon-container {
    position: relative;
    max-width: 300px;
    width: 30%;
    top: 37%;
    margin: 0 auto;
}

.pictogram {
    height: auto;
    width: 100%;
    margin-bottom: 200%;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T22:13:57.777

好的，我知道我哪里出错了——我应该将上边距设置为 .inside-pocket 类而不是 .icon-container 类。标记在这里：

```
/* #Pocket
================================================== */
figure {
z-index: 97;
position: fixed;
overflow: hidden;
width: 100%;
height: 100%;
top: 40%;
text-align: center;
}  

.padding {
z-index: 95;
position:  relative;
background-color: #D2D2D2;
height: 100%;
width: 100%;
top: -50px;
overflow: hidden;
border-bottom: 50px solid #D2D2D2;
}    

.main-pocket img {
z-index: 96;
position: relative;
width: 30%;
height: auto;
margin: 0 auto;
max-width: 300px;
} 

.inside-pocket {
width: 100%;
height: 100%;
top: 37%;
position: absolute;
margin: 0 auto;
text-align: center;
}

.icon-container {
position: relative;
max-width: 300px;
width: 30%;
margin: 0 auto;
}

.pictogram {
height: auto;
width: 100%;
margin-bottom: 200%;
} 
```

如果有人能让我知道**为什么**这是正确的，那就太好了！干杯

# javascript - 尖括号的jQuery keyCode

> ID：15418418
> 
> 赞同：1
> 
> 时间：2013-03-14T19:25:18.437
> 
> 标签：javascript, jquery, localization

我想知道如何安全地查看 jQuery 中是否按下了`<`and`>`键。在我的瑞典语键盘上是 226，但我们在同一个键上使用`<`和`>` 键，并使用 shift 来选择哪个键。

我怎样才能安全地确定哪个被按下而不必担心本地化，美式键盘有两个不同的键？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:35:07.710

您应该使用 keypress 事件和`.which`.

请参阅[jQuery 事件按键：按下了哪个键？AZ 和 @](https://stackoverflow.com/questions/7975703/jquery-event-keypress-which-key-was-pressed-a-z)了解更多信息。

`.which`给出字符代码，而不是键码。`<`和`>`是符号，不应像某些字母那样受到本地化的影响。

# matlab - 获取复杂方程的系数

> ID：15418422
> 
> 赞同：0
> 
> 时间：2013-03-14T19:25:31.257
> 
> 标签：matlab

我正在尝试获取以下等式的系数：

![在此处输入图像描述](../Images/cceb2abb0ddcaac7c38e8f4384a22c23.png)

我的代码是：

```
args=[1,1,1,0,0,0,0,0,-5,0];
a=args(1);b=args(2);c=args(3);d=args(4);e=args(5);f=args(6);g=args(7);h=args(8);m=args(9);s=args(10); %M=i  , j = s

syms x y z real

Q=[a,d,e,g;
   d,b,f,h;
   e,f,c,m;
   g,h,m,s];
X=[x,y,z,1]';

func(x,y,z)=X'*Q*X;

[A,B]=coeffs(func) 
```

我的问题是我没有得到所有具有零值的系数我的结果应该是：[1,1,1,0,0,0,0,0,-5,0]

我得到：[ 1, 1, 1, -10]

我如何也得到零

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T10:11:40.233

我找到的唯一解决方案是：

```
[parameters,Eqations]=coeffs(funcToConvert)
parameters= sym2poly(parameters(x,y,z));

EqationsCells=arrayfun(@char,Eqations(x,y,z),'Un',0);

SerachRes=Myeq(EqationsCells,{'matrix([[x^2, 1, 1]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    a=0;
else
    a=parameters(index);
end

SerachRes=Myeq(EqationsCells,{'matrix([[x, x, 1]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    d=0;
else
    d=parameters(index)/2;
end

SerachRes=Myeq(EqationsCells,{'matrix([[x, 1, x]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    e=0;
else
    e=parameters(index)/2;
end

SerachRes=Myeq(EqationsCells,{'matrix([[x, 1, 1]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    g=0;
else
    g=parameters(index)/2;
end

SerachRes=Myeq(EqationsCells,{'matrix([[1, x^2, 1]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    b=0;
else
    b=parameters(index);
end

SerachRes=Myeq(EqationsCells,{'matrix([[1, x, x]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    f=0;
else
    f=parameters(index)/2;
end

SerachRes=Myeq(EqationsCells,{'matrix([[1, x, 1]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    h=0;
else
    h=parameters(index)/2;
end

SerachRes=Myeq(EqationsCells,{'matrix([[1, 1, x^2]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    c=0;
else
    c=parameters(index);
end

SerachRes=Myeq(EqationsCells,{'matrix([[1, 1, x]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    m=0;
else
    m=parameters(index)/2;
end

SerachRes=Myeq(EqationsCells,{'matrix([[1, 1, 1]])'});
index= GetSearchIndex( SerachRes );
if 0==index
    s=0;
else
    s=parameters(index);
end 
```

但它似乎没有那么有效

# java - 有没有办法在 NetBeans 调试器中查看程序计数器？

> ID：15418423
> 
> 赞同：1
> 
> 时间：2013-03-14T19:25:36.627
> 
> 标签：java, debugging, netbeans

有没有办法在不逐步执行的情况下查看当前在 NetBeans 调试器中执行的行/方法？

我知道我可以设置断点，但我很好奇是否有办法在没有断点的情况下做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:53:21.837

与 java JDK 捆绑在一起的[VisualVM可以向您显示实时可跟踪的方法执行。](http://visualvm.java.net/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-01-09T09:28:42.883

在代码编辑器的右边框，你应该看到很多彩色短线（表示警告、错误、搜索等），其中有一条线，中间有一个绿色的小框，点击它并您将找到程序计数器。

这条线很小，所以不容易点击。

在大多数 IDE 中，都有一个工具栏按钮和菜单来定位当前执行的行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-26T19:39:32.400

@Leon 正在展示如何定位*插入符*的当前位置，这不一定与程序计数器一致。

在代码编辑器的右边框中，确实有彩色小线（表示存在警告、错误、断点等的行），其中有一行中间有一个小框。但它显示了*插入**符号**恰好位于*的行。

这*不一定*是程序计数器的位置，因为插入符号的位置可能在到达最后一个断点或其他代码行后发生了变化。

程序计数器由代码编辑器左边缘的（太小）绿色块箭头表示，断点符号和其他符号可以进一步混淆它，再多的放大编辑器窗口内容也不会显着更容易找到程序计数器。

[![在此处输入图像描述](../Images/ffe3c11ab77c5c240a7872d673372aef.png)](https://i.stack.imgur.com/pJlOF.png)

当然，程序计数器将通过跳出、进入或越过当前程序计数器行的任何内容而更改为可见的位置。这并不理想。还有更好的方法。

**`Alt+Shift+9`**将打开`Debugging`窗口（下图），其中将显示一个代表***程序计数器****行号的数字* 。

 *[![在此处输入图像描述](../Images/29e548a49a0e36acbb87c51cf9a22df1.png)](https://i.stack.imgur.com/GsAac.png)

此外，扩展的`+`下拉指示器将显示包含相同相关信息的行，但*双击*该行将*打开包含程序计数器的窗口并清楚地显示它*。

至少这是我迄今为止的经验。*

# javascript - JavaScript 中嵌套命名空间的继承

> ID：15418425
> 
> 赞同：0
> 
> 时间：2013-03-14T19:25:43.833
> 
> 标签：javascript, jquery, namespaces, scope, javascript-namespaces

我想设置嵌套命名空间来组织我的代码。我正在尝试遵循[本文](http://enterprisejquery.com/2010/10/how-good-c-habits-can-encourage-bad-javascript-habits-part-1/)中描述的类似插件的结构。问题是我不明白如何`this.error_msg`在我的示例中访问。我设置正确了吗？我必须使用 jQuery`.extend`还是`.prototype`访问`this.error_msg`？

```
(function(TC, $, undefined){

    TC.ajax = function() {
        this.error_msg = 'default error...';         
    };

    TC.ajax.run = function(){
        //do stuff...
        TC.ajax.handle_error();
    };

    TC.ajax.handle_error = function(){
        alert(this.error_msg);
    };        

}(window.TC = window.TC || {}, jQuery));

// Test it
TC.ajax.run(); 
```

演示：http: [//jsfiddle.net/g99yt/](http://jsfiddle.net/g99yt/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:29:53.143

我认为您的代码必须如下所示：

```
(function(TC, $, undefined){
    _this = this;
    TC.ajax = function() {
        _this.error_msg = 'default error...';         
    };

    TC.ajax.run = function(){
        //do stuff...
        TC.ajax.handle_error();
    };

    TC.ajax.handle_error = function(){
        alert(_this.error_msg);
    };        

}(window.TC = window.TC || {}, jQuery));

// Test it
TC.ajax.run(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-14T19:37:16.283

要记住的重要一点是，每次使用 时`function()`，您都在创建一个新范围。所以你可以在你的`TC.ajax.handle_error`方法中看到它`this.error_msg`是未定义的，因为你没有在那个范围内定义它。您可以做的一件事是创建原型以确保这些方法与您的 ajax 对象相关并声明该对象的新实例，然后在其上调用您的方法。见下文 ：

```
(function(TC, $, undefined){

    TC.ajax = function() {
        this.error_msg = 'default error...';         
    };

    TC.ajax.prototype.run = function(){
        //do stuff...
        this.handle_error.call(this);
    };

    TC.ajax.prototype.handle_error = function(){
        alert(this.error_msg);
    };        

}(window.TC = window.TC || {}, jQuery));

// Test it
 var ajaxInstance = new TC.ajax();

ajaxInstance.run(); 
```

和[小提琴](http://jsfiddle.net/mujWP/)

您确实有其他选择，例如像 @kta 那样保留局部全局变量，或者通过`call`函数设置范围，但这并不真正适用于您的结构。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:38:39.183

这实际上是一个常见问题，目前尚不清楚`this`指的是什么。所以解释一下：

```
TC.ajax.handle_error = function(){
    alert(this.error_msg);
}; 
```

`this`函数中的是`TC.ajax.handle_error`指函数而不是您的`TC`对象。因此，只需将引用保存到，`TC`以便您以后可以引用它：

```
var _this = this;

...
_this.error_msg = 'default error....';
...

TC.ajax.handle_error = function(){
     alert(_this.error_msg);
 }; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T19:38:50.267

如果`TC.ajax`应该是一个构造函数，那么`run()`并且`handle_error()`需要被添加到一个原型中。

但你可以做类似的事情

```
TC.ajax = {};    
TC.ajax.error_msg = 'default error...'; 
```

在你的情况下，一旦你打电话，`error_msg`就会被分配到，这永远不会发生。即使那样，也会提到. 而当被调用时，指的是。`this``TC.ajax()``this``TC``TC.ajax.handle_error()``this``TC.ajax`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-11T23:18:33.640

这就是我最终使用的：

```
(function ($, TC, undefined) {

    TC.nestedNamespace = TC.nestedNamespace || {};

    //add a public function to our new namespace 
    TC.nestedNamespace.test = function () {        
       console.log("Winning!");    
    };

}(jQuery, window.TC = window.TC || {}));

TC.nestedNamespace.test(); 
```

示例[JSFiddle](http://jsfiddle.net/justincook/8e4Cm/)。[我在相关文章](http://www.impressivewebs.com/my-current-javascript-design-pattern/)的评论中发现了这种方法。

# php - 进行 AJAX 调用时写入 JSON 文件

> ID：15418429
> 
> 赞同：0
> 
> 时间：2013-03-14T19:25:51.370
> 
> 标签：php, ajax, json, file

当我进行 ajax 调用时，我试图在我的 php 中写入一个 json 文件。我要做的是将一个 JSON 编码数组写入 json 文件，而另一个将数据返回给用户。当我不尝试写入文件时，一切正常，但是当我打开 JSON 文件并尝试写入时，没有任何效果。谢谢你的帮助，猎人。

代码

```
$username = mysql_real_escape_string($_POST['username']);
$password =  mysql_real_escape_string($_POST['password']);
$name = mysql_real_escape_string($_POST['name']);
$email = mysql_real_escape_string($_POST['email']);
$lat = mysql_real_escape_string($_POST['lat']);
$lon = mysql_real_escape_string($_POST['lon']);

$choose_it = array('it', 'not it');
$key = array_rand($choose_it);
$it = $choose_it[$key];

$all_names = array();
$all_emails = array();

$sql="SELECT uname AND email FROM accounts";
$r = mysql_query($sql);
while($row = mysql_fetch_array($r))
{
    array_push($all_names, $row["name"]);
    array_push($all_emails, $row["email"]);
}

if(isset($username) && isset($password) && isset($name) && isset($lat) && isset($lon) && isset($email))
{
    if(in_array($name, $all_names))
    {
        $data = array("message" => "taken", "name" => "taken");
        echo json_encode($data);
    }
    if(in_array($email, $all_emails))
    {
        $data = array("message" => "email", "name" => "email");
        echo json_encode($data);
    }
    else
    {   
        $query = "INSERT INTO accounts (name, uname, pword, email, lat, lon, it) VALUES ('".$name."','".$username."','".$password."','".$email."','".$lat."','".$lon."','".$it."')";

        mysql_query($query);

        $write_data = json_encode(array("name" => $name, "lat" => $lat, "lon" => $lon, "it" => $it));

        $file = file_get_contents('');
        $fh = fopen($file, 'a') or die("can't open file");
        fwrite($fh, $write_data);   
        fclose($fh);

        $data = json_encode(array("message" => "yes", "name" => $name, "it" => $it));
        echo $write_data;

    }
}
else
{
    echo json_encode(array("message" => "not_set", "name" => "not_set"));
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T22:19:56.623

这对我来说没有多大意义：

```
$file = file_get_contents('');
$fh = fopen($file, 'a') or die("can't open file"); 
```

利用：

```
$fh = fopen("some_filename", 'a') or die("can't open file"); 
```

# ios - 如果选中，我如何访问单元格对象

> ID：15418433
> 
> 赞同：0
> 
> 时间：2013-03-14T19:26:03.463
> 
> 标签：ios, xcode, tableview, tablecell

我似乎在尝试访问特定单元格时遇到了一些困难，当我在表格视图中选择它时，我只需要更改它的一个对象。必须有一种比重新调用 reloadData 更有效的方法。因为那是我可以使表格单元格看起来不同的唯一方法，当我选择一个时重建它。感谢所有的帮助:)

```
[self updatePreferences];
[tableView reloadData]; 
```

这就是我在处理与表格单元格交互的方法上的全部内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:06:59.633

您还可以使单元格成为自定义单元格，并向其添加方法，例如更新或刷新。

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
  CustomCell *cell = [tableView cellForRowAtIndexPath:indexPath];
  [cell refresh];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:37:05.613

使用以下代码。重新加载单个单元格。

```
NSArray *array = [NSArray arrayWithObject:[NSIndexPath indexPathForRow:row inSection:section]]; 
[self.tableView reloadRowsAtIndexPaths:array withRowAnimation:UITableViewRowAnimationNone]; 
```

# ios - iOS - 如何让 UITableView 具有与联系人应用程序完全相同的编辑模式？

> ID：15418434
> 
> 赞同：1
> 
> 时间：2013-03-14T19:26:03.847
> 
> 标签：ios, uitableview, contacts, edit

我正在构建一个应用程序，它将拥有自己的“联系人”列表。它不会连接到设备的实际联系人应用程序。

但是，我想基本上 100% 模仿联系人应用程序。

也就是说，有一个表格视图来显示用户信息（完成！）并允许用户编辑用户信息并让表格视图“动画”成一个稍微改变的表格（就像联系人应用程序一样！）。

在进入编辑模式时，当涉及到表格的“转换”时，联系人应用程序如何工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T21:38:23.013

这一切都在[UITableView 文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/cl/UITableView)中：

> 当发送一条`setEditing:animated:`消息（第一个参数为 `YES`）时，表格视图进入编辑模式，其中显示每个可见行的编辑或重新排序控件，具体取决于每个关联的编辑样式`UITableViewCell`。单击插入或删除控件会导致数据源接收 `tableView:commitEditingStyle:forRowAtIndexPath:`消息。`deleteRowsAtIndexPaths:withRowAnimation:`您可以通过调用or 来提交删除或插入 `insertRowsAtIndexPaths:withRowAnimation:`，视情况而定。同样在编辑模式下，如果表格视图单元格的`showsReorderControl` 属性设置为`YES`，则数据源会收到一条 `tableView:moveRowAtIndexPath:toIndexPath:`消息。数据源可以通过实现有选择地删除单元格的重新排序控制 `tableView:canMoveRowAtIndexPath:`

您还可以使用[UITableViewDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intf/UITableViewDelegate)方法来设置行在编辑模式下的显示方式

`– tableView:editingStyleForRowAtIndexPath:`
`– tableView:titleForDeleteConfirmationButtonForRowAtIndexPath:`
`– tableView:shouldIndentWhileEditingRowAtIndexPath:`

这些来自[UITableViewDataSource](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDataSource_Protocol/Reference/Reference.html#//apple_ref/occ/intf/UITableViewDataSource)的方法：

**插入或删除表格行**
`– tableView:commitEditingStyle:forRowAtIndexPath:`
`– tableView:canEditRowAtIndexPath:`

如果有什么具体的事情你不确定，请询问具体的事情。

# jersey - 使用 Grizzly 作为 dropwizard 资源的测试容器

> ID：15418436
> 
> 赞同：2
> 
> 时间：2013-03-14T19:26:06.097
> 
> 标签：jersey, dropwizard

我试图让这个[GrizzlyResourceTest.java](https://gist.github.com/igstan/3016987)与 dropwizard v0.6.1 一起使用。我想使用 grizzly 作为测试容器的原因是因为 InMemoryTestContainer 不支持 Resource with injectable constructor，请参阅这个问题的详细信息[InMemoryTestContainer does not support Resource with injectable constructor](http://java.net/jira/browse/JERSEY-623?page=com.atlassian.jira.plugin.system.issuetabpanels%3aall-tabpanel.)

由于 com.yammer.dropwizard.json.Json 和 com.yammer.dropwizard.bundles.JavaBundle 不再在 v0.6.1 中，我只是简单地注释掉与这些类相关的行。

```
 @Before
  public void setUpJersey() throws Exception {
    setUpResources();
    this.test = new JerseyTest(new GrizzlyWebTestContainerFactory()) {
      @Override
      protected AppDescriptor configure() {
        ClientConfig config = new DefaultClientConfig();

        // taken from DropwizardResourceConfig
        config.getFeatures().put(ResourceConfig.FEATURE_DISABLE_WADL, Boolean.TRUE);
        config.getSingletons().add(new LoggingExceptionMapper<Throwable>() { }); // create a subclass to pin it to Throwable
        config.getClasses().add(InstrumentedResourceMethodDispatchAdapter.class);
        config.getClasses().add(CacheControlledResourceMethodDispatchAdapter.class);

        for (Class<?> provider : providers) {
          config.getClasses().add(provider);
        }

        config.getSingletons().addAll(singletons);

        return new WebAppDescriptor.Builder("com.example.helloworld.resources").clientConfig(config).build();
      }
    };
    test.setUp();
  } 
```

我的情况更复杂，因为我将 HttpServletRequest 注入到我的资源类中，例如 myMethod(@Context HttpServletRequest request)。所以这里我只使用 dropwizard-example 下的 PersonResource。

QuickTest.java 看起来像：

```
public class QuickTest extends GrizzlyResourceTest{
    @Test
    public void testGrizzly() throws Exception {
        ClientResponse rsp = client()
            .resource("http://localhost:9998/people").get(ClientResponse.class);
        Assert.assertEquals(200, rsp.getStatus());
    }
    @Override
    protected void setUpResources() throws Exception {
    }
} 
```

当我运行 QuickTest 时，我从控制台得到的错误是：

```
SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]
Mar 14, 2013 7:14:11 PM com.sun.jersey.test.framework.spi.container.grizzly2.web.GrizzlyWebTestContainerFactory$GrizzlyWebTestContainer <init>
INFO: Creating Grizzly2 Web Container configured at the base URI http://localhost:9998/
Mar 14, 2013 7:14:11 PM org.glassfish.grizzly.http.server.NetworkListener start
INFO: Started listener bound to [localhost:9998]
Mar 14, 2013 7:14:11 PM org.glassfish.grizzly.http.server.HttpServer start
INFO: [HttpServer] Started.
Mar 14, 2013 7:14:11 PM org.glassfish.grizzly.servlet.WebappContext deploy
INFO: Starting application [TestContext] ...
Mar 14, 2013 7:14:11 PM org.glassfish.grizzly.servlet.WebappContext initServlets
INFO: [TestContext] Servlet [com.sun.jersey.spi.container.servlet.ServletContainer] registered for url pattern(s) [[/*]].
Mar 14, 2013 7:14:11 PM org.glassfish.grizzly.servlet.WebappContext deploy
INFO: Application [TestContext] is ready to service requests.  Root: [].
Mar 14, 2013 7:14:11 PM com.sun.jersey.spi.inject.Errors processErrorMessages
SEVERE: The following errors and warnings have been detected with resource and/or provider classes:
  SEVERE: Missing dependency for field: private javax.servlet.http.HttpServletRequest com.yammer.dropwizard.jersey.LoggingExceptionMapper.request 
```

有任何想法吗？

# java - 如何将html加载到样式文档

> ID：15418439
> 
> 赞同：4
> 
> 时间：2013-03-14T19:26:18.623
> 
> 标签：java, html, parsing, htmleditorkit

我正在使用 StyleDocument 在 JTextPane 中显示我的内容。我搜索了一段时间，发现我可以使用 HTMLEditorKit 将我从文本窗格中获取的文档写入文件。但是当我想用 HTMLEditorKit 读取这个文件时，它不会在正确的文档中解析。我得到两个不同的结果：

1.  我在我的文本窗格中获得了纯 html 代码
2.  我的文本窗格中没有内容

**保存：**

```
Document doc = textpane.getStyledDocument();
HTMLEditorKit kit = new HTMLEditorKit();
kit.write(new FileOutputStream("path"), doc, 0, doc.getLength()); 
```

**加载（2个版本）：**

```
HTMLEditorKit kit = new HTMLEditorKit();
Document doc = null;
Document doc2 = kit.createDefaultDocument();

kit.read(new FileInputStream("path"), doc, 0);
kit.read(new FileInputStream("path"), doc2, 0);

textpane.setDocument(doc);
textpane.setDocument(doc2); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-21T19:38:15.443

初始化 JTextPane 时，添加以下行：`textpane.setContentType("text/html");`

**将保存**更改为如下所示：

```
Document document = textpane.getStyledDocument();
EditorKit kit = textpane.getEditorKit();
kit.write(new FileOutputStream(new File("path")), doc, 0, doc.getLength()); 
```

**将加载**更改为如下所示：

```
EditorKit kit = pane2.getEditorKit();
Document doc = kit.createDefaultDocument();
kit.read(new FileInputStream(new File("path")), doc, 0);
textpane.setDocument(doc); 
```

在我的测试环境中使用此设置，我能够将 a 中的文本设置`JTextPane`为某个 html，从窗格中获取 html，将其写入文件，然后从同一个文件中读取它。我没有看到任何使用 a 的理由，`HTMLEditorKit`因为您没有做任何特定于 html 的操作，但是您可以根据需要进行更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T15:35:04.433

您需要将 JTextPane 的内容类型设置为 "text/html" [JEditorPane API](http://docs.oracle.com/javase/1.5.0/docs/api/index.html?javax/swing/JEditorPane.html)。这应该会正确显示 html。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-24T08:13:24.077

我猜您不想更改为保存而编写的代码。所以让它保持原样。
您需要按如下方式更改**LOADING代码：**

```
HTMLEditorKit kit = new HTMLEditorKit();
StyledDocument doc2 = (StyledDocument)kit.createDefaultDocument();
kit.read(new FileInputStream(file), doc2, 0);
pane = new JTextPane();
pane.setEditorKit(kit);//set EditorKit of JTextPane as kit.
pane.setDocument(doc2); 
```

例如考虑下面给出的代码演示：

```
import javax.swing.*;
import javax.swing.text.*;
import javax.swing.text.html.*;
import java.awt.*;
import java.awt.event.*;
import java.io.*;

public class HTMLKit extends JFrame implements ActionListener{
     public static final String text = "As told by Wikipedia\n"
    +"Java is a general-purpose, concurrent, class-based, object-oriented computer programming language."
    + "It is specifically designed to have as few implementation "
    + "dependencies as possible. It is intended to let application developers write once, run anywhere (WORA), "
    + "meaning that code that runs on one platform does not need to be recompiled to run on another. "
    + "Java applications are typically compiled to bytecode (class file) that can run on any Java virtual "
    + "machine (JVM) regardless of computer architecture. Java is, as of 2012, one of the most popular programming "
    + "languages in use, particularly for client-server web applications, with a reported 10 million users.";
    JTextPane pane ;
    DefaultStyledDocument doc ;
    StyleContext sc;
    JButton save;
    JButton load;
    JScrollPane jsp;
    public static void main(String[] args) 
    {
        try 
        {
            UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel");
            SwingUtilities.invokeLater(new Runnable()
            {
                public void run()
                {
                    HTMLKit se = new HTMLKit();
                    se.createAndShowGUI();
                }
            });
        } catch (Exception evt) {}
    }
    public void createAndShowGUI()
    {
        setTitle("TextPane");
        sc = new StyleContext();
        doc = new DefaultStyledDocument(sc);
        pane = new JTextPane(doc);
        save = new JButton("Save");
        load = new JButton("Load");
        JPanel panel = new JPanel();
        panel.add(save);panel.add(load);
        save.addActionListener(this);load.addActionListener(this);
        final Style heading2Style = sc.addStyle("Heading2", null);
        heading2Style.addAttribute(StyleConstants.Foreground, Color.red);
        heading2Style.addAttribute(StyleConstants.FontSize, new Integer(16));
        heading2Style.addAttribute(StyleConstants.FontFamily, "serif");
        heading2Style.addAttribute(StyleConstants.Bold, new Boolean(true));
        try 
        {
            doc.insertString(0, text, null);
            doc.setParagraphAttributes(0, 1, heading2Style, false);
        } catch (Exception e) 
        {
            System.out.println("Exception when constructing document: " + e);
            System.exit(1);
        }
        jsp = new JScrollPane(pane);
        getContentPane().add(jsp);
        getContentPane().add(panel,BorderLayout.SOUTH);
        setSize(400, 300);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setVisible(true);
    }
    public void actionPerformed(ActionEvent evt)
    {
        if (evt.getSource() == save)
        {
            save();
        }
        else if (evt.getSource() == load)
        {
            load();
        }
    }
    private void save()
    {
        JFileChooser chooser = new JFileChooser(".");
        chooser.setDialogTitle("Save");
        int returnVal = chooser.showSaveDialog(this);
        if(returnVal == JFileChooser.APPROVE_OPTION) 
        {
            File file = chooser.getSelectedFile();
            if (file != null)
            {
                try
                {
                    Document doc = pane.getStyledDocument();
                    HTMLEditorKit kit = new HTMLEditorKit();
                    kit.write(new FileOutputStream(file), doc, 0, doc.getLength());
                    JOptionPane.showMessageDialog(this,"Saved successfully!!","Success",JOptionPane.INFORMATION_MESSAGE);
                }
                catch (Exception ex)
                {
                    ex.printStackTrace();
                }
            }
            else 
            {
                JOptionPane.showMessageDialog(this,"Please enter a fileName","Error",JOptionPane.ERROR_MESSAGE);
            }
        }
    }
    private void load()
    {
        JFileChooser chooser = new JFileChooser(".");
        chooser.setDialogTitle("Open");
        chooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
        int returnVal = chooser.showOpenDialog(this);
        if(returnVal == JFileChooser.APPROVE_OPTION) 
        {
            File file = chooser.getSelectedFile();
            if (file!= null)
            {
                try
                {
                    HTMLEditorKit kit = new HTMLEditorKit();
                    StyledDocument doc2 = (StyledDocument)kit.createDefaultDocument();
                    kit.read(new FileInputStream(file), doc2, 0);
                    JTextPane pane1 = new JTextPane();
                    pane1.setEditorKit(kit);
                    pane1.setDocument(doc2);
                    repaint();
                    jsp.setViewportView(pane1);
                    repaint();
                    JOptionPane.showMessageDialog(this,"Loaded successfully!!","Success",JOptionPane.INFORMATION_MESSAGE);
                }
                catch (Exception ex)
                {
                    ex.printStackTrace();
                }
            }
            else 
            {
                JOptionPane.showMessageDialog(this,"Please enter a fileName","Error",JOptionPane.ERROR_MESSAGE);
            }
        }
    }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-24T23:08:07.047

您可以像这样在 JEditorPane 中显示您的 html：

```
 private void AboutGame()
    {
        JEditorPane Log = CreateEditorPane("AboutGame.html");

        JScrollPane LogScrollPanel = new JScrollPane(Log);
        LogScrollPanel.setVerticalScrollBarPolicy
                            (JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
        LogScrollPanel.setPreferredSize(new Dimension(800, 400));
        LogScrollPanel.setMinimumSize(new Dimension(10, 10));

        Object Message = LogScrollPanel;

        JOptionPane.showMessageDialog(null, 
                                          Message, "About Game", 1);
    } 
```

# java - 将字符串数组转换为大数数组

> ID：15418440
> 
> 赞同：0
> 
> 时间：2013-03-14T19:26:30.013
> 
> 标签：java, arrays, string, int, largenumber

所以，在 Java 中，我在命令参数中有一个很大的数字，比如说 12345678910，我不能使用 bigInteger，我已经这样做了：

```
String[] g = args[1].split(""); 
```

所以，我的字符串被放在一个字符串数组中。但是，我不能使用：

```
int[] ginormintOne = new int[g.length];
   for(int n = 0; n < g.length; n++) {
      ginormintOne[n] = Integer.parseInt(g[n]);
   } 
```

它给了我这个：

```
Exception in thread "main" java.lang.NumberFormatException: For input string: ""
    at java.lang.NumberFormatException.forInputString(Unknown Source)
    at java.lang.Integer.parseInt(Unknown Source)
    at java.lang.Integer.parseInt(Unknown Source)
    at Ginormint.main(Ginormint.java:67) 
```

我认为我的数字对于 int 来说太大了。关于如何将其转换为大数数组的任何想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T19:32:11.283

您正在拆分一个空字符串。例如，

```
"123 456".split("") 
```

结果是这个数组：

```
["" "1" "2" "3" " " "4" "5" "6"] 
```

这就是您的异常的来源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:27:57.480

使用`Long.parseLong`代替`Integer.parseInt`和`long[]`代替`Long.parseLong`。

但话虽如此，这`NumberFormatException`表明失败是因为您传递给它的是一个空字符串。你确定你正确地分割了字符串，或者分割是必要的吗？假设这是从哪里来的，`args`数组 in`main`已经按空格分割`args`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:35:06.007

数组的第一个元素`args[1].split("")`是一个空字符串，我认为它会导致异常`java.lang.NumberFormatException`，因为它不能转换为`Integer`

# vb.net - 将子项添加到列表视图

> ID：15418443
> 
> 赞同：0
> 
> 时间：2013-03-14T19:26:47.860
> 
> 标签：vb.net, listview, backgroundworker

我正在使用后台工作人员来填充列表视图，但我也想添加子项。谁能帮我吗？

```
 Public Class Form1

    Private Sub bgw_DoWork(sender As Object, e As System.ComponentModel.DoWorkEventArgs) Handles bgw.DoWork
        Dim li As New List(Of ListViewItem)

        For Each fn As String In My.Computer.FileSystem.GetFiles("s:\Videos", FileIO.SearchOption.SearchAllSubDirectories, "*.*")
            li.Add(New ListViewItem(My.Computer.FileSystem.GetName(fn))) 
            'here i want to add a subitem containing the filesize
            'My.Computer.FileSystem.GetFileInfo(fn).Length
        Next

        e.Result = li.ToArray
    End Sub

    Private Sub bgw_RunWorkerCompleted(sender As Object, e As System.ComponentModel.RunWorkerCompletedEventArgs) Handles bgw.RunWorkerCompleted
        lv.Items.AddRange(DirectCast(e.Result, ListViewItem()))
    End Sub

    Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click
        bgw.RunWorkerAsync()
    End Sub
End Class 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:31:05.060

`For Each`在你的循环中试试这个：

```
Dim NewItem as New ListViewItem(My.Computer.FileSystem.GetName(fn))
NewItem.SubItems.Add(My.Computer.FileSystem.GetFileInfo(fn).Length)

li.Add(NewItem) 
```

希望这应该可以解决问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T20:09:26.217

这也有效，但它正确吗？

```
Public Class Form1

    Dim item1 As String = ""
    Dim item2 As String = ""

    Private Sub bgw_DoWork(sender As Object, e As System.ComponentModel.DoWorkEventArgs) Handles bgw.DoWork
        Dim progress As Integer = 0
        'calculate progress later
        progress = 1

        For Each fn As String In My.Computer.FileSystem.GetFiles("s:\Videos", FileIO.SearchOption.SearchAllSubDirectories, "*.*")
            item1 = My.Computer.FileSystem.GetName(fn)
            item2 = My.Computer.FileSystem.GetFileInfo(fn).Length

            bgw.ReportProgress(progress)
        Next
    End Sub

    Private Sub bgw_ProgressChanged(sender As Object, e As System.ComponentModel.ProgressChangedEventArgs) Handles bgw.ProgressChanged
        Dim li As New ListViewItem
        li = lv.Items.Add(item1, 0)
        li.SubItems.Add(item2)
    End Sub

    Private Sub bgw_RunWorkerCompleted(sender As Object, e As System.ComponentModel.RunWorkerCompletedEventArgs) Handles bgw.RunWorkerCompleted
    End Sub

    Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click
        lv.Items.Clear()
        bgw.RunWorkerAsync()
    End Sub

End Class 
```

# c++ - 通过整数键从 C 获取 lua 表条目

> ID：15418444
> 
> 赞同：1
> 
> 时间：2013-03-14T19:26:48.717
> 
> 标签：c++, lua, lua-table

我目前正在使用以下代码从表中获取值（cstring = const char*）：

```
template<>
cstring luaTable::get(cstring name) {
    prep_get(name); // puts table[name] at -1 in stack
    cstring result;
    if(!lua_isstring(L, -1)) {
        report(name, "is not a string");
        result = "";
    }
    else {
            result = lua_tostring(L, -1);           
    }
    lua_pop(L, 1);
    return result;
}
void luaTable::prep_get(cstring name) {
    lua_pushstring(L, name); // name at -1, table at -2
    lua_gettable(L, -2);
    // table[name] is now at position -1 in stack
} 
```

这非常适用于表格表格`table = {a=10, b=2}`。如何修改它以从没有键的表中获取值，例如`table = {10, 2}`？

我确定我错过了一些简单的东西，但似乎找不到答案。

在此先感谢，本

编辑：添加了一些流行音乐

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:40:44.110

好吧，很抱歉这么快就回答我自己的问题 - 但灵感的快速闪现导致：

```
void luaTable::prep_get(cstring name) {
    lua_pushstring(L, name); // name string at -1
    if(lua_isnumber(L, -1)) { // call prep_get("i") for ith element etc
        int key = lua_tonumber(L, -1);
        lua_pop(L, 1); // remove the name string from -1
        lua_pushnumber(L, key); // push name number to -1
    }
    lua_gettable(L, -2);
    // result is now at position -1 in stack
} 
```

根据需要工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T20:32:43.387

@user1483596 I don't think that solution would work. lua_isnumber will only return true if the value is of type number, and you just pushed a string, so it will always return false.

Instead, try something like this:

```
void luaTable::prep_get(cstring name) {
   int num = strtol(name, 0, 0);
   if (num > 0) {
      lua_pushnumber(L, num);
   } else {
      lua_pushstring(L, name);
   }
   lua_gettable(L, -2);
} 
```

Bear in mind though that it won't handle a special case. In Lua a[1] and a["1"] are different. If you use this function, you'll always treat numbers as array indices, even if they're not.

If you want to differentiate both cases, then you could overload prep_get and take a number.

# javascript - 如何使用 jQuery/javascript 隐藏动态内容？

> ID：15418451
> 
> 赞同：0
> 
> 时间：2013-03-14T19:27:13.427
> 
> 标签：javascript, jquery

我目前正在使用一项服务来自动完成我的搜索框。但是，对于显示的所有自动填充结果，`<div>`底部始终有一个广告，位于`<li>`s 之后。像这样的东西：

```
<ul>
<li class="menu-item""></li>
<li class="menu-item""></li>
<li class="menu-item""></li>
<div style="text-align:center;border-top:1px solid black;"></div>
<a href="http://www.ad.com" target="_blank">ad</a>
</ul> 
```

但是，这是使用 JS 动态加载的，所以我不知道如何将 jQuery 写入`hide()`它。当有人进行搜索时，有没有办法可以动态隐藏它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:29:26.543

你可以在你的 CSS 中做这样的事情：

```
ul>* {display:none}
ul>li {display:block} 
```

毕竟，只有`<ul>`元素有`<li>`子元素才有效，所以你应该能够将其他所有内容隐藏为无效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:30:18.273

如果您确定结构，您始终可以在 jquery 中将其寻址为

```
$("ul").find("a,div").hide() 
```

* * *

正如 Kolink 回答的那样，最好的当然是 css。

# java - 使用 ContentExchange 设置请求属性

> ID：15418452
> 
> 赞同：1
> 
> 时间：2013-03-14T19:27:16.857
> 
> 标签：java, jetty

有没有办法在`ContentExchange`对象中设置请求属性？到目前为止，我一直在做的是使用该`setRequestContentSource(InputStream inputstream)`方法将信息发送到请求正文中的服务器。但是，如果我想发送按字段名称分类的信息，例如、、、等，我该怎么`Content`办？`Title``Author`

我现在拥有的代码粘贴在下面。谢谢你的帮助！

```
exchange.setRequestContentSource(new ByteArrayInputStream(
     serialized.getBytes("UTF-8")));

exchange.setRequestContentType("text/html");
exchange.setMethod("POST");
exchange.setURL(("http://localhost:8089/"));
client.send(exchange); 
```

更准确地说，通过请求属性，我的意思是等同于 request.setAttribute("Name","ABC")。只有在这种情况下，请求是通过 ContentExchange 对象发送的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T13:45:31.693

啊，所以 ServletRequest 属性不是 HTTP 协议的一部分。没有通过 HTTP 协议发送这些属性的标准方法。事实上，servlet 规范本身限制了它对应用程序特定信息（例如将信息从过滤器传递到 servlet）和 SSL 证书相关信息的使用。

但是，使用[标准 POST 和表单数据](http://en.wikipedia.org/wiki/POST_%28HTTP%29#Use_for_submitting_web_forms)，通过并使用[HttpServletRequest.getParameter("Content")](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29)`exchange.setRequestContentType("multipart/form-data");`等获取这些值。类似于从 Web 浏览器提交 FORM 的方式。这里的好处是，您甚至可以提供一个简单的 HTML FORM 来测试我们的应用程序。

选择 #2 是以 JSON 或 XML 之类的标记发送您的数据，并让服务器对其进行解析。这具有允许分层数据的好处。

如果您对此感兴趣，我建议您阅读有关 REST 的内容，并可能深入研究诸如[Jersey](http://jersey.java.net/)、[Restlet](http://restlet.org/)之类的 REST 库以及诸如[JAX-RS 之](http://www.vogella.com/articles/REST/article.html)类的标准。

# svn - SVN 回购访问控制问题

> ID：15418458
> 
> 赞同：2
> 
> 时间：2013-03-14T19:27:30.977
> 
> 标签：svn, authorization

我想用 svn 做什么只允许特定组访问特定**文件**。这些文件位于随机目录中，其他文件位于同一目录级别。

例子：

```
/branches/libraries/all_access_file.php
/branches/libraries/some_access_file.php
/branches/codebase/lots_of_private_files.php
/branches/codebase/one_file_that_someone_can_see.php 
```

当我设置特定的文件权限时，例如

```
[repo:/branches/librares/some_access_file.php]
@admin = rw
@devs = rw
@some_guy = rw 
```

我的预期结果是在 svn co 上看到“some_guy”组中的任何人都只能得到那个文件。但是他们得到了一个禁止的错误，因为它们被另一个规则隐式拒绝：

```
[repo:/branches]
@admin = rw
@devs = rw 
```

除了一个文件（其目录结构完全随机且不相关）之外，基本上拒绝访问整个存储库的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T22:01:58.890

你的文件中真的有@rw 吗？如果是这样，我认为这是无效的，并且可能会破坏您的授权。

我也总是看到/从父母到孩子这样做......可能是svn按顺序解析身份验证，但我对此表示怀疑。因此，您的文件可能如下所示：

```
[repo:/branches]
@admin = rw
@devs  = rw

[repo:/branches/librares/some_access_file.php]
@some_guy = rw 
```

另外，你允许匿名访问吗？如果你添加

@some_guy = r 到 /branches 这是否允许您组的用户访问/写入有问题的文件？

最后，作为测试，您可能希望添加一个对文件具有 rw 访问权限的特定用户名。

那家伙 = rw

看看这是否有效。可能是您测试的用户实际上不在 some_guy 组中？

请记住，即使他们有权访问，用户也无法签出 (svn co) 和单个文件。如果这是他们可以访问的全部，他们可能会导出单个文件。

为了解决这个问题，如果可能的话，重新组织你的项目，使你想要控制访问的文件都在某个文件夹中。这将允许用户签出该单个文件夹。

如果您只是试图控制对人们不会编辑的某些文件的访问，那么 svn 不是您正在寻找的工具。使用 cron 作业运行某种类型的脚本，该作业会根据文件系统更新具有正确权限的共享文件夹。

# wpf - 使用相对路径时找不到文件

> ID：15418459
> 
> 赞同：2
> 
> 时间：2013-03-14T19:27:32.023
> 
> 标签：wpf, componentone

在我的 WPF caliburn.micro 应用程序中，我使用 ComponentOne 的 C1DocumentViewer 来显示报告。

我在项目中创建了一个新文件夹“报告”并将 .xml 放在那里。我使用`C1DocumentViewer`. 当提供 .xml 文件的绝对路径时，它可以正常工作。但当然我需要使用相对路径。因此，如果我将其设为“<code>../../MyProject/Reports/MyReport.xml”，那么当我在 Visual Studio 中运行它时，它就可以在我的机器上运行。但不是当我使用 ClickOnce 发布它时，它只是找不到文件。如果我使用“<code>/Reports/MyReport.xml”或“<code>Reports/MyReport.xml”也是一样。当我在 Visual Studio 中调试时尝试使用“<code>Reports/MyReport.xml”时，它正在寻找解决方案主项目的 bin/Debug 中的路径“<code>Reports/MyReport.xml”。

请帮忙。这是我的代码：

```
 protected override void OnViewLoaded(object view)
    {
        base.OnViewLoaded(view);

        var rpt = new C1.C1Report.C1Report();

        rpt.Load(@"Reports/MyReport.xml", "Recent Files Information");

        rpt.DataSource.RecordSource = "MyReportProc(1)";
        rpt.Render();
        Report = rpt.FixedDocumentSequence;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:04:55.543

只是一个猜测。您的问题可能与您的进程的[工作目录有关。](http://en.wikipedia.org/wiki/Working_directory)

> 当进程使用简单文件名或相对路径（而不是由根目录的完整路径指定的文件）引用文件时，该引用被解释为相对于进程的当前工作目录。

在 Visual Studio 中运行程序以及在使用 ClickOnce 发布程序后运行程序时，使用[Directory.GetCurrentDirectory()](http://msdn.microsoft.com/en-us/library/system.io.directory.getcurrentdirectory.aspx)检查它。

# junit - 如何在junit4中包含多个类别？

> ID：15418466
> 
> 赞同：1
> 
> 时间：2013-03-14T19:28:07.533
> 
> 标签：junit, junit4

我想为 junit 跑步者包括多个类别。

**Java 代码**

```
@RunWith(Categories.class)
@IncludeCategory(IMAP.class , POP.class)
@SuiteClasses({MailTestSuites.class})
public class TestSuiteRunner{

} 
```

我只想为这两个类别运行我的测试套件。我有邮件套件的类别，例如“IMAP、POP、SMTP、POP3”。现在，我只想运行“IMAP、POP”类别套件。如何使用junit运行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-14T00:16:38.550

直到 JUnit 4.11 版本，`@IncludeCategory`并且`@ExcludeCategory`只支持一个值。但是，从即将发布的 4.12 版开始，将允许传递多个值。

根据[源代码中的文档](https://github.com/junit-team/junit/blob/master/src/main/java/org/junit/experimental/categories/Categories.java#L71)，您可以编写：

```
@RunWith(Categories.class)
@IncludeCategory({IMAP.class, POP.class})
@SuiteClasses({MailTestSuites.class}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T12:41:32.913

不，您不能定义`@IncludeCategory`in one的多个值`Categories`。

我建议您使用多个`Categories`来运行您的测试用例。（单独的 IMAP 和 POP 测试用例）

```
//IMAP tests
@RunWith(Categories.class)
@IncludeCategory(IMAP.class)
@SuiteClasses({MailTestSuites1.class})
public class TestSuiteRunner1{}

//POP tests
@RunWith(Categories.class)
@IncludeCategory(POP.class)
@SuiteClasses({MailTestSuites2.class})
public class TestSuiteRunner2{}

//Merge into one Test
@RunWith(Suite.class)
@Suite.SuiteClasses({TestSuiteRunner1.class, 
    TestSuiteRunner2.class})
public class AllTests {} 
```

# c# - 如何将这些变量写入 C# 中的一行代码？

> ID：15418467
> 
> 赞同：29
> 
> 时间：2013-03-14T19:28:08.293
> 
> 标签：c#, console, int, var, console.writeline

我是 C# 的新手，从字面上看是第 50 页，我很好奇如何在一行代码中编写这些变量：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace consoleHelloWorld
{
    class Program
    {
        static void Main(string[] args)
        {

            int mon = DateTime.Today.Month;
            int da = DateTime.Today.Day;
            int yer = DateTime.Today.Year;
            var time = DateTime.Now;

            Console.Write(mon);
            Console.Write("." + da);
            Console.WriteLine("." + yer);
        }
    }
} 
```

我来自 JavaScript 在哪里执行此操作，它看起来像这样：

```
document.write(mon+'.'+da+'.'+yer); 
```

任何帮助在这里表示赞赏。

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2013-03-14T19:29:44.517

查看[复合格式](https://docs.microsoft.com/en-us/dotnet/standard/base-types/composite-formatting)：

```
Console.WriteLine("{0}.{1}.{2}", mon, da, yer); 
```

你也可以写（虽然不是很推荐）：

```
Console.WriteLine(mon + "." + da + "." + yer); 
```

而且，随着 C# 6.0 的发布，您可以使用字符串插值表达式：

```
Console.WriteLine($"{mon}.{da}.{yer}");  // note the $ prefix. 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-03-14T19:33:16.807

您可以在一行中完成整个程序！是的，没错，一行！

```
Console.WriteLine(DateTime.Now.ToString("yyyy.MM.dd")); 
```

您可能会注意到我没有使用与您相同的日期格式。这是因为您应该使用[本 W3C 文档](http://www.w3.org/QA/Tips/iso-date)中描述的**国际日期格式**。每次你不使用它时，一个可爱的小动物就会在某个地方死去。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-14T19:30:17.243

你可以做与 JavaScript 几乎相同的事情。尝试这个：

```
Console.WriteLine(mon + "." + da + "." + yer); 
```

或者您可以通过以下方式使用`WriteLine`，就好像它是一个`string.Format`声明：

```
Console.WriteLine("{0}.{1}.{2}", mon, da, yer); 
```

这相当于：

```
string.Format("{0}.{1}.{2}", mon, da, yer); 
```

参数的数量可以是无限的，只要确保正确索引这些数字（从 0 开始）。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-03-14T19:30:44.063

你应该试试这个：

```
Console.WriteLine("{0}.{1}.{2}", mon, da, yet); 
```

有关详细信息，请参阅[http://www.dotnetperls.com/console-writeline 。](http://www.dotnetperls.com/console-writeline)

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-03-14T19:30:31.527

如果你想使用类似于 JavaScript 的东西，你只需要先转换为字符串：

```
Console.WriteLine(mon.ToString() + "." + da.ToString() + "." + yer.ToString()); 
```

但是一个（很多）更好的方法是使用 format 选项：

```
Console.WriteLine("{0}.{1}.{2}", mon, da, yer); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-14T19:53:40.783

从理论上讲，您可以简单地完成整个事情：

```
using System;
using System.Collections.Generic;
using System.Linq; 
using System.Text;

namespace consoleHelloWorld {
class Program {
    static void Main(string[] args) {
       Console.WriteLine(DateTime.Now.ToString("MM.dd.yyyy"));
    }
  }
} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-07-11T02:24:44.167

```
 DateTime dateTime = dateTime.Today.ToString("MM.dd.yyyy");

 Console.Write(dateTime); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-14T19:30:24.887

试一试：

```
string format = "{0} / {1} / {2} {3}";
string date = string.Format(format,mon.ToString(),da.ToString(),yer.ToString();
Console.WriteLine(date); 
```

事实上，可能有一种方法可以自动格式化，甚至不用自己动手。

查看[http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-03-14T19:34:57.023

简单如：

```
DateTime.Now.ToString("MM.dd.yyyy"); 
```

链接到有关 DateTime.ToString() 方法的所有格式选项的 MSDN

[http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-05-24T12:22:57.247

在“”之前使用 $ 它将允许在这些括号之间写入变量

```
 Console.WriteLine($"{mon}.{da}.{yer}"); 
```

亲的方式：

```
 Console.WriteLine($"{DateTime.Today.Month}.{DateTime.Today.Day}.{DateTime.Today.Year}");
  Console.WriteLine($"month{DateTime.Today.Month} day{DateTime.Today.Day} year{DateTime.Today.Year}"); 
```

5.24.2016

月 5 日 24 年 2016

# php - zend 框架 2 错误报告

> ID：15418478
> 
> 赞同：1
> 
> 时间：2013-03-14T19:28:56.060
> 
> 标签：php, error-handling, zend-framework2

我在让 zf2 记录错误或在某些情况下报告错误时遇到了一些问题。

一些错误将报告给屏幕和 error.log，但其他错误不会，只会导致空白屏幕。显示什么和不显示什么似乎没有任何理由。

我在设置为 E_ALL 的 php ini 中启用了错误报告，并添加了

```
'display_not_found_reason' => true,
'display_exceptions'       => true, 
```

到我的模块配置，我也尝试直接在 index.php 中设置错误报告值

目前我试图使用学说，只是得到一个空白屏幕......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T15:51:48.263

[https://packagist.org/packages/webino/nette-debug](https://packagist.org/packages/webino/nette-debug)

上面列出的链接是迄今为止我为 zf2 找到的最有用的调试工具之一。它拾取 99.9% 的错误，并且配置允许您将其记录到目录中的特定日志文件中。但是，它没有捕获 0.1%，并且通常会进入系统日志，因此您应该能够在那里找到更多详细信息。只需确保将 nette 调试模块初始化为堆栈中的第一个模块。

希望这对您有所帮助，直到我找到网点为止，我对这些问题感到非常厌烦和厌倦。

# html2canvas - html2canvas 用于具有来自同一来源的多个图像的 html 页面

> ID：15418483
> 
> 赞同：1
> 
> 时间：2013-03-14T19:29:18.460
> 
> 标签：html2canvas

我在一个 html 页面中有多个图像。我想使用 html2canvas 将页面转换为图像。图像是本地的并且来自同一来源。它总是不断显示错误消息 **“无法从画布获取图像数据，因为画布有被跨域数据污染。”**

相同的代码适用于一个图像或同一图像的多个副本。

```
<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="language" content="de">
    <script type="text/javascript" src="./js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="js/html2canvas.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        var target = $('#mainDiv');
        html2canvas(target, {
            onrendered: function(canvas) {
            var data = canvas.toDataURL();
            var img = document.getElementById('img1');
            img.src = data;
            }
        });
        });
  </script>
  </head>
  <body>
    <div id="mainDiv">
    <div id="div1" ><p>paragraph 1  paragraph 1  paragraph 1  paragraph 1  paragraph 1  paragraph 1  paragraph 1  paragraph 1  </p></div>
    <div id="div2" ><p>paragraph2 paragraph2 paragraph2 paragraph2 paragraph2 paragraph2 paragraph2 paragraph2 </p></div>
    <img src="images/01.jpg" >
      <img src="images/02.jpg" >
      <img src="images/03.jpg" >
      <img src="images/04.jpg" >
    </div>
  <img id="img1"></img>
  </body>
</html> 
```

我不确定错误消息是什么意思。另外，如果有人可以告诉我如何使用多个图像进行此操作，那将非常有帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-29T09:08:57.400

只需删除您不需要的东西。即，我有 Div1、Div2 等

```
 function PrintChartCanvas(divId) {
            //div canvas
            var divObj = html2canvas($('#div' + divId));
            var divQueu = divObj.parse();
            var divCanvas = divObj.render(divQueu);
            divImg = divCanvas.toDataURL();

            return divImg;
        } 
```

document.getElementById("img1").src = PrintChartCanvas(3);

这应该工作

# php - 一个接一个地运行多个mysql查询？

> ID：15418486
> 
> 赞同：0
> 
> 时间：2013-03-14T19:29:34.387
> 
> 标签：php, mysql

您好我正在尝试运行多个查询以将某些值插入到某些表和列中。

我目前正在运行此查询，该查询将值插入 ptb_registrations 并且工作正常，但现在我想将其中一些值另外添加到 ptb_users 中，并且我不断收到无法更新数据库错误。

```
<?php ob_start(); 
// CONNECT TO THE DATABASE
    require('../includes/_config/connection.php');
// LOAD FUNCTIONS
    require('../includes/functions.php');
$username = $_POST['username'];
$password = $_POST['password'];
$firstname = $_POST['firstname'];
$lastname = $_POST['lastname'];
$email = $_POST['email'];
$number = $_POST['number'];
$dob = $_POST['dob'];
$accounttype = $_POST['accounttype'];
$query="INSERT INTO ptb_registrations (id,
username,
password,
firstname,
lastname,
email,
number,
dob,
accounttype,
date_created )
VALUES('NULL',
'".$username."',
'".$password."',
'".$firstname."',
'".$lastname."',
'".$email."',
'".$number."',
'".$dob."',
'".$accounttype."',
now()
)";
mysql_query($query) or dieerr();
function dieerr() {
echo '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
<title></title>

<link rel="stylesheet" type="text/css" href="css/style.css" media="all" />

</head>
<body background="../assets/img/form/backdrop.png" style="background-repeat:no-repeat; background-size: 100% 2000px;">

<div id="container">
<h1>REGISTRATION WAS UNSUCCESFULL</h1><br/><br/><br/><br/>
<div class="textarea">
    <h3>Oooops! I tried my hardest to register you onto our system but it looks like one of us has made an error :-( Try and have another go and if there is still a problem then contact one of the Tech Team at <a href=\"mailto:support@playtimeboys.com\">Support@PlaytimeBoys.com</a></h3>
</div>
    <div class="man_reg"><img src="../assets/img/help_support/man.png" alt="" width="210" height="214" /></div></div>
<div id="progress_bar">
    <div id="progress"></div>
    <div id="progress_text">Registration Completed</div>
</div>

<style>
.textarea{
    padding-left:55px;
    padding-right:55px;
    text-align:center;
}
.man_reg{
    margin-top:54px;
    margin-left:450px;
}

</style>    
</body>
</html>';
exit;
}
?> 
```

有人可以告诉我如何添加到我现有的查询中：

```
$result="INSERT INTO ptb_users (id,
user_id,
firstname )
VALUES('NULL',
'NULL',
'".$firstname."',
'".$lastname."',
'".$email."',
'".$number."',
'".$dob."',
'".$accounttype."',
now()
)"; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:31:39.083

***立即*** *停止使用您的代码*。您很容易受到 SQL 注入的攻击。您需要使用绑定参数：

```
$stmt = mysqli_prepare($link, "INSERT INTO CountryLanguage VALUES (?, ?, ?, ?)");
mysqli_stmt_bind_param($stmt, 'sssd', $code, $language, $official, $percent);

$code = 'DEU';
$language = 'Bavarian';
$official = "F";
$percent = 11.2;

/* execute prepared statement */
mysqli_stmt_execute($stmt); 
```

[请参阅文档](http://php.net/manual/en/mysqli-stmt.bind-param.php)

附加查询将以与您之前的语句相同的方式执行。

```
$query = "INSERT INTO... ";
mysql_query($query) or die(...); 
```

# coding-style - XPath 中最易读的写法是“值 X 是序列 S 的成员”吗？

> ID：15418491
> 
> 赞同：4
> 
> 时间：2013-03-14T19:29:59.570
> 
> 标签：coding-style, xpath-2.0

相对于 1.0，XPath 2.0 有一些新的函数和语法，可以处理序列。其中一些集合并没有真正添加到语言在 1.0 中已经可以做的事情（使用节点集合），但它们使以更易读的方式表达所需的逻辑变得更容易。这增加了程序员获得正确代码并保持这种方式的机会。例如，

*   [`empty(s)`](http://www.w3.org/TR/xpath-functions/#func-empty)等价于`not(s)`，但是当你想测试一个序列是否为空时，它的意图要清楚得多。
    *   **更正**：序列的[有效布尔值](http://www.w3.org/TR/xpath20/#id-ebv)通常比这更复杂。例如`empty((0))`!= `not((0))`。这也适用于布尔上下文中的`exists(s)`vs .。`s`但是，有些域`s`where`empty(s)`等价于`not(s)`，因此两者可以在这些域中互换使用。但这表明使用`empty()`可以在使代码更易于理解方面产生不小的差异。
*   类似地，[`exists(s)`](http://www.w3.org/TR/xpath-functions/#func-exists)等效`boolean(s)`于 XPath 1.0 中已经存在的内容（或只是`s`在布尔上下文中），但其意图更加清晰。
*   [量化表达式](http://www.w3.org/TR/xpath20/#id-quantified-expressions)；例如，“`some $x in` *表达式* `satisfies` *测试*`($x)`”将等同于`boolean(`*表达式*`[`*测试*`(.)])`（尽管新语法更灵活，因为您不必担心丢失上下文项，因为您有引用它的变量）。
*   类似地，“`every $x in` *表达式* `satisfies` *测试*`($x)`”将等同于`not(`*表达式*`[not(`*测试*`(.))])`，但更具可读性。

显然，这些函数和语法的添加成本不低，只是为了实现编写更容易映射到人类思维方式的 XPath 的目标。正如经验丰富的开发人员所知，这意味着可理解的代码明显优于难以理解的代码。

鉴于所有这些......编写一个询问的 XPath 测试表达式的清晰易读的方法是什么

> 值 X 是否出现在序列 S 中？

一些方法：（注意：我在这里使用`X`和`S`符号来表示值和序列，但我并不是暗示这些子表达式是元素名称测试，也不是简单的表达式。它们可能很复杂。 )

1.  `X = S`: 这将是最难读的之一，因为它要求读者
    *   考虑 X 和 S 中的哪一个是序列与单个值
    *   理解一般比较，从语法上看不明显
        1.  然而，这种形式的一个优点是它允许我们将[主题](http://en.wikipedia.org/wiki/Topic%E2%80%93comment)(X) 放在*评论*之前（“是 S 的成员”），我认为这有助于提高可读性。
        2.  另请参阅[CMS](https://stackoverflow.com/a/17253884/423105)关于可读性的好点，当语法或名称使 X 和 S 的“基数”显而易见时。
2.  `index-of(S, X)`：这个很清楚什么是值和序列（如果你记得参数的顺序`index-of()`）。但它表达的超出了我们的需要：它要求索引，而我们真正想知道的只是X*是否*出现在 S 中。这对读者有点误导。有经验的开发人员会通过一些努力和对上下文的理解来弄清楚它的意图。但是我们越是依赖上下文来理解每一行的意图，就越能理解代码变成一个循环（螺旋）和潜在的[西西弗斯](http://en.wikipedia.org/wiki/Sisyphus)任务！此外，由于`index-of()`旨在返回 X 出现的所有索引的列表，它可能比必要的更昂贵：智能处理器，为了评估`X = S`，不一定要找到 S 的所有内容，也不一定要按顺序枚举它们；但是对于`index-of(S, X)`，必须确定正确的顺序，并且必须将 S 的所有内容与 X 进行比较。使用的另一个缺点`index-of()`是它仅限于`eq`用于比较；例如，您不能用它来询问一个节点是否*与*给定序列中的任何节点相同。
    *   **更正：**此表格用作条件测试，可能会导致运行时错误：`Effective boolean value is not defined for a sequence of two or more items starting with a numeric value`. （但至少我们不会得到*错误*的布尔值，因为`index-of()`不能返回零。）如果 S 可以有多个 X 实例，这是另一个选择形式 3 或 6 的好理由。
3.  `exists(index-of(X, S))`：使意图更清晰，如果处理器足够智能，将有助于处理器消除性能损失。
4.  `some $m in S satisfies $m eq X`: 这个很清楚，完全符合我们的意图。与 1 相比，它似乎冗长，而且它本身会降低可读性。但为了清楚起见，这可能是一个可以接受的价格。请记住，X 和 S 本身可能是复杂的表达式——它们不一定只是变量引用。一个优点是，由于`eq`运算符是显式的，您可以将其替换为`is`或任何其他比较运算符。
5.  `S[. eq X]`：比 1 更清晰，但具有 2 的语义缺陷：它计算 S 中等于 X 的所有成员。实际上，如果 X 为假，这可能会返回假阴性（不正确的有效布尔值）。例如`(0, 1)[. eq 0]`，返回 0 这是虚假的，即使`0`发生在`(0, 1)`.
6.  `exists(S[. eq X])`：比 1、2、3、5 更清晰。不如 4 清晰，但更短。避免 5 的缺点（或至少其中大部分，取决于处理器的智能）。

在这一点上，我有点倾向于最后一个：`exists(S[. eq X])`

那么您呢... 作为一名开发人员，他正在处理一个复杂的、不熟悉的 XSLT 或 XQuery 或其他使用 XPath 2.0 的程序，并想弄清楚该程序在做什么，您认为哪个最容易阅读？

为长长的问题道歉。感谢您阅读本文。

**编辑：**我在上面的讨论中尽可能地改变了，以便更容易看到“价值比较”（而不是一般比较）的意图`=`。`eq`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-22T18:16:24.593

对于它的价值，如果名称或上下文清楚地表明 X 是单例，我很乐意使用您的第一种形式 X = S - 例如，当我想根据一组可能的值检查属性值时：

```
<xsl:when test="@type = ('A', 'A+', 'A-', 'B+')" /> 
```

或者

```
<xsl:when test="@type = $magic-types"/> 
```

如果我认为存在混淆的风险，那么我喜欢你的第六种表述。我必须记住计算有效布尔值的规则的频率越低，我犯错误的频率就越少。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T18:24:52.880

functx[库](http://functx.com)有一个很好的实现这个函数，所以你可以使用

```
functx:is-node-in-sequence($X, $Y) 
```

（这个特殊的功能可以在[http://www.xqueryfunctions.com/xq/functx_is-node-in-sequence.html](http://www.xqueryfunctions.com/xq/functx_is-node-in-sequence.html)找到）

整个 functx 库可用于 XQuery ( [http://www.xqueryfunctions.com/](http://www.xqueryfunctions.com/) ) 和 XSLT ( [http://www.xsltfunctions.com/](http://www.xsltfunctions.com/) )

Marklogic 将 functx 库与他们的核心产品一起提供；其他供应商也可能。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-15T04:13:11.307

**我更喜欢这个**：

```
count(distinct-values($seq)) eq count(distinct-values(($x, $seq))) 
```

**当 $x 本身是一个序列时，这个表达式实现了两组值之间的（基于值的）关系*子集***，它们表示为序列。*子集的*这种实现只有线性时间复杂度 - 与许多其他表达方式相比，它们具有 O(N^2)) 时间复杂度。

**总而言之**，*单个值是否属于一组值的问题是一组值是否是另一**组*值的子集的一个特例。如果我们对后者有很好的实现，我们可以简单地用它来回答前者。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T21:09:55.580

另一种可能性，当您想知道**节点**X 是否出现在序列 S 中时，是

```
exists((X) intersect S) 
```

我认为这非常易读，简洁。但它仅在 X 和 S 中的值是*节点*时才有效；如果你试着问

```
exists(('bob') intersect ('alice', 'bob')) 
```

你会得到一个运行时错误。在我现在正在处理的程序中，我需要比较字符串，所以这不是一个选项。

正如 Dimitri 所指出的，序列中节点的出现是一个身份问题，而不是价值比较问题。

# android - 关于开启和关闭GPS android的咨询

> ID：15418493
> 
> 赞同：-2
> 
> 时间：2013-03-14T19:30:04.283
> 
> 标签：android

我尝试像这样打开和关闭 GPS：

```
 private void turnGPSOn(){
        String provider = Settings.Secure.getString(getContentResolver(), Settings.Secure.LOCATION_PROVIDERS_ALLOWED);

        if(!provider.contains("gps")){ //if gps is disabled
            final Intent poke = new Intent();
            poke.setClassName("com.android.settings", "com.android.settings.widget.SettingsAppWidgetProvider"); 
            poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
            poke.setData(Uri.parse("3")); 
            sendBroadcast(poke);
        }
    }

    private void turnGPSOff(){
        String provider = Settings.Secure.getString(getContentResolver(), Settings.Secure.LOCATION_PROVIDERS_ALLOWED);

        if(provider.contains("gps")){ //if gps is enabled
            final Intent poke = new Intent();
            poke.setClassName("com.android.settings", "com.android.settings.widget.SettingsAppWidgetProvider");
            poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
            poke.setData(Uri.parse("3")); 
            sendBroadcast(poke);
        }
    } 
```

但我 在这一行中遇到了**安全错误：**

```
String provider = Settings.Secure.getString(getContentResolver(), Settings.Secure.LOCATION_PROVIDERS_ALLOWED); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:39:23.277

为用户提供打开或关闭 gps 使用的选项

```
final LocationManager manager = 
         (LocationManager) getSystemService( Context.LOCATION_SERVICE );
if ( !manager.isProviderEnabled( LocationManager.GPS_PROVIDER ) ) {
     new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);
     startActivity(intent);
} 
```

在早期版本中，有一个黑客可以从应用程序中执行此操作，但我不确定这在更高版本中是否可行..

经许可在清单使用中

```
<uses-permission android:name="android.permission.WRITE_SETTINGS"/>
<uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS"/> 
```

# mysql - 获取最大值和对应的列

> ID：15418496
> 
> 赞同：2
> 
> 时间：2013-03-14T19:30:16.573
> 
> 标签：mysql, sql, greatest-n-per-group

如何从 mysql 中的最大查询中获取相应的列？我想知道一个玩家有多少胜。我会通过计算玩家赢得的游戏数量来发现这一点。这将通过选择每场比赛的最大值和生成的 player_id 来完成。但是我不确定如何获取相应的 player_id。

我有

```
 id   |   game_id | player_id | score

    1   |     1     |     1     |   254
    2   |     1     |     2     |   194
    3   |     2     |     1     |   432
    4   |     2     |     2     |   298 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T20:02:44.583

这个查询应该得到你需要的：

```
SELECT
    player_id, game_id, score
FROM
(
    SELECT game_id,MAX(score) AS MaxScore
    FROM games
    GROUP BY game_id
) AS Winners
JOIN games
    ON (games.game_id = Winners.game_id AND games.score = Winners.MaxScore) 
```

它假设平局是双方玩家的胜利。

[SQLFiddle](http://sqlfiddle.com/#!2/658e9/3)

如果您只想获取玩家及其获胜次数，可以使用以下查询：

```
SELECT
    player_id, COUNT(*) AS wins
FROM
(
    SELECT game_id,MAX(score) AS MaxScore
    FROM games
    GROUP BY game_id
) AS Winners
JOIN games
    ON (games.game_id = Winners.game_id AND games.score = Winners.MaxScore)
WHERE player_id = {player_id}
GROUP BY player_id 
```

只需替换`{player_id}`为您正在寻找的球员，`wins`即他们的胜利或平局数。

# linux - 如何找到包含在 lua 应用程序中的库

> ID：15418500
> 
> 赞同：2
> 
> 时间：2013-03-14T19:30:27.493
> 
> 标签：linux, include, lua

我对linux有点陌生，所以如果它真的很基本，你将不得不原谅我的问题。我有一个包含以下行的代码片段：

```
 require("axf.sf") 
```

我正在尝试查找包含此代码的文件。我在我的服务器上尝试了以下命令：

```
 find / -name axf.sf
    find / -name axf.sf* 
```

但我找不到它。我知道代码存在是因为程序有效。

任何建议，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:51:22.440

Lua 与许多语言一样，具有搜索所需模块的“路径”的概念。

它可以通过多种方式进行配置，但通常类似于

```
./?.lua;/usr/local/share/lua/5.1/?.lua;/usr/local/share/lua/5.1/?/init.lua;/usr/local/lib/lua/5.1/?.lua;/usr/local/lib/lua/5.1/?/init.lua;/usr/share/lua/5.1/?.lua;/usr/share/lua/5.1/?/init.lua 
```

`=package.path`（您可以通过在 Lua 提示符下检查输入来验证您的是否不同）

默认包搜索器首先获取包名称（在您的示例中为“axf.sf”）并将每个点替换为操作系统的目录分隔符。（在您的示例中为“axf/sf”，因为您使用的是 Linux）。然后它用`?`转换后的包名称替换每个模式，并使用系统上存在的第一个模式。

所以，它会搜索

```
./axf/sf.lua
/usr/local/share/lua/5.1/axf/sf.lua
/usr/local/share/lua/5.1/axf/sf/init.lua
/usr/local/lib/lua/5.1/axf/sf.lua
/usr/local/lib/lua/5.1/axf/sf/init.lua
/usr/share/lua/5.1/axf/sf.lua
/usr/share/lua/5.1/axf/sf/init.lua 
```

# javascript - 使用 jquery 检测 URL 并更改 HTML

> ID：15418505
> 
> 赞同：0
> 
> 时间：2013-03-14T19:30:38.447
> 
> 标签：javascript, jquery

我们的客户端有两个指向同一页面的 URL。根据用户通过哪个 URL 来显示和隐藏某些内容。我有以下代码，一切看起来应该可以工作（不是总是......）但由于某种原因，if 不会评估为真。该警报用于故障排除目的。

```
var this_page = window.location;
var calc_address = "DIFFERENT ADDRESS";

alert(this_page);

      if(this_page == "http://www.calculatesnowguards.com/"){
          $('#mashead').css('background-image', 'url("../images/masthead_bg.jpg") ');
          $('.calc_remove').hide();
          $('#bottom').innerHTML = calc_address;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:44:27.117

`window.location`不是字符串，它只是这样表示。它实际上是一个对象。`window.location.href`是您要比较的变量。

编辑：（回应下面的评论。）使用如此不同的 URL，您为什么要尝试直接比较它们？

```
if (window.location.href.indexOf("calculatesnowguards.com") >= 0) {
    //code for calculatesnowguards.com
} else{
    //code for snowguards.biz
} 
```

EDIT2：对不起，没有意识到这`contains()`是一个仅限 Firefox 的功能。我扩展 String 以将其包含在我的脚本中。

# python-2.7 - python 和 ElementTree 编写一长行输出

> ID：15418509
> 
> 赞同：1
> 
> 时间：2013-03-14T19:30:45.450
> 
> 标签：python-2.7, svg, elementtree

期望的结果：我正在尝试生成我们救护车位置的可缩放矢量图形和指示救护车是否繁忙、停止服务、在宿舍等的颜色。我们在路上的护理人员可以将其视为网页和将我们所有救护车的配置视为地图。一目了然，他们可以看到哪些救护车很忙，哪些是空闲的。

我的方法：我正在使用带有 pyodbc 和 xml.etree 的 python 2.7。我正在查询我们的数据库以确定最近的救护车状态，循环遍历数组并生成数据的 svg。

问题：当输出写入文本并使用记事本打开 .svg 文件时，我看到有一长行输出。我希望它是嵌套输出。如果您查看下面的代码，您会发现我只测试了两辆救护车。但是我的系统中有五十辆救护车。我不能有数千个字符的一长行。

问题：如何让 python / ElementTree 在输出中写出换行符？

代码如下图：

```
import pyodbc
from xml.etree import ElementTree as et

cnxn = pyodbc.connect('DRIVER={SQL Server}; SERVER=my server; DATABASE=my database; UID=my user id; PWD=my password')
cursor = cnxn.cursor()
AmbulanceStatus = """
WITH Maxtimes AS
(
SELECT
  MAX(M_Manpower_PK) AS [FirstRecord]
, PUN_UnitID
FROM MManpower
INNER JOIN PUnit ON M_kUnit = PUN_Unit_PK
WHERE PUN_UnitID LIKE 'M__'
OR PUN_UnitID LIKE 'FBA__'
AND M_tTime > DATEADD(HOUR, -24, GETDATE())
GROUP BY PUN_UnitID
)
,
MaxAttributes AS
(
SELECT
  M_Manpower_PK
, M_tTime
, M_Code
, CASE 
  WHEN M_Code IN ('USTA', 'USER', 'USOL', 'USAR', 'USIZ', 'UF', 'USTR', 'USDP') THEN 'Working'
  WHEN M_Code IN ('USAQ', 'USRQ') THEN 'Free'
  WHEN M_Code IN ('USES', 'USSB', 'USAS', 'USRS', 'USLC') THEN 'Standby'
  WHEN M_Code IN ('USOS') THEN 'OutofService'
  ELSE 'NA'
  END AS [Disposition]
FROM MManpower
INNER JOIN PUnit ON M_kUnit = PUN_Unit_PK
WHERE PUN_UnitID LIKE 'M__'
OR PUN_UnitID LIKE 'FBA__'
AND M_tTime > DATEADD(HOUR, -24, GETDATE())
)

SELECT
  MaxTimes.firstRecord AS [RecordNumber]
, MaxTimes.PUN_UnitID AS [Ambulance]
, CONVERT(VARCHAR(20), MaxAttributes.M_tTime, 108) AS [FinalTimeStamp]
, MaxAttributes.M_Code AS [UnitStatus]
, MaxAttributes.Disposition AS [Disposition]
FROM Maxtimes
LEFT OUTER JOIN MaxAttributes ON Maxtimes.FirstRecord=MaxAttributes.M_Manpower_PK
"""

cursor.execute(AmbulanceStatus)

Ambulances = cursor.fetchall()

cursor.close()

for ambulance in Ambulances:
    print ambulance

doc = et.Element('svg', width='792', height='612', version='1.1', xmlns='http://www.w3.org/2000/svg')
#===============================================================================
# I have no idea how to implement the following 15 lines of code. I downloaded them from the internet. I have googled this question and someone believes the following lines of code can help write out carriage returns.
#===============================================================================
# def indent(elem, level=0):
#    i = "\n" + level * "  "
#    if len(elem):
#        if not elem.text or not elem.text.strip():
#            elem.text = i + "  "
#        if not elem.tail or not elem.tail.strip():
#            elem.tail = i
#        for elem in elem:
#            indent(elem, level + 1)
#        if not elem.tail or not elem.tail.strip():
#            elem.tail = i
#    else:
#        if level and (not elem.tail or not elem.tail.strip()):
#            elem.tail = i
#===============================================================================
j = 0
#===============================================================================
# medic 19
#===============================================================================
while j < len(Ambulances):
    if Ambulances[j][1] == 'M19' and Ambulances[j][4] == 'Free':
        fillColor = 'aliceblue'
        fillText = 'black'
        et.SubElement(doc, 'circle', cx='520', cy='85', r='10', stroke='black', fill=fillColor)
        text = et.Element('text', x='520', y='85', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

    elif Ambulances[j][1] == 'M19' and Ambulances[j][4] == 'Working':
        fillColor = 'red'
        fillText = 'white'
        et.SubElement(doc, 'circle', cx='520', cy='85', r='10', fill=fillColor)
        text = et.Element('text', x='520', y='85', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

    elif Ambulances[j][1] == 'M19' and Ambulances[j][4] == 'Standby':
        fillColor = 'green'
        fillText = 'white'
        et.SubElement(doc, 'circle', cx='520', cy='85', r='10', fill=fillColor)
        text = et.Element('text', x='520', y='85', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

    elif Ambulances[j][1] == 'M19' and Ambulances[j][4] == 'OutofService':
        fillColor = 'black'
        fillText = 'white'
        et.SubElement(doc, 'circle', cx='520', cy='85', r='10', fill=fillColor)
        text = et.Element('text', x='520', y='85', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

    elif Ambulances[j][1] == 'M19' and Ambulances[j][4] == 'NA':
        fillColor = 'pink'
        fillText = 'blue'
        et.SubElement(doc, 'circle', cx='520', cy='85', r='10', fill=fillColor)
        text = et.Element('text', x='520', y='85', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)
#===============================================================================
# medic 16
#===============================================================================
    elif Ambulances[j][1] == 'M16' and Ambulances[j][4] == 'Free':
        fillColor = 'aliceblue'
        fillText = 'black'
        et.SubElement(doc, 'circle', cx='28.80024', cy='45.8372', r='10', stroke='black', fill=fillColor)
        text = et.Element('text', x='28.80024', y='45.8372', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

    elif Ambulances[j][1] == 'M16' and Ambulances[j][4] == 'Working':
        fillColor = 'red'
        fillText = 'blue'
        et.SubElement(doc, 'circle', cx='28.80024', cy='45.8372', r='10', fill=fillColor)
        text = et.Element('text', x='28.80024', y='45.8372', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

    elif Ambulances[j][1] == 'M16' and Ambulances[j][4] == 'Standby':
        fillColor = 'green'
        fillText = 'white'
        et.SubElement(doc, 'circle', cx='28.80024', cy='45.8372', r='10', fill=fillColor)
        text = et.Element('text', x='28.80024', y='45.8372', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

    elif Ambulances[j][1] == 'M16' and Ambulances[j][4] == 'OutofService':
        fillColor = 'black'
        fillText = 'white'
        et.SubElement(doc, 'circle', cx='28.80024', cy='45.8372', r='10', fill=fillColor)
        text = et.Element('text', x='28.80024', y='45.8372', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

    elif Ambulances[j][1] == 'M16' and Ambulances[j][4] == 'NA':
        fillColor = 'pink'
        fillText = 'blue'
        et.SubElement(doc, 'circle', cx='28.80024', cy='45.8372', r='10', fill=fillColor)
        text = et.Element('text', x='28.80024', y='45.8372', fill=fillText, style='font-family:Sans;font-size:12px;text-anchor:middle;dominant-baseline:top')
        text.text = Ambulances[j][1]
        doc.append(text)

#===============================================================================
# loop through the array
#===============================================================================
    j = j + 1

# ElementTree 1.2 doesn't write the SVG file header errata, so do that manually
f = open('C:\sample.svg', 'w')
f.write('<?xml version=\'1.0\' standalone=\'no\'?>\n')
f.write('<!DOCTYPE svg PUBLIC \'-//W3C//DTD SVG 1.1//EN\'\n')
f.write('\'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\'>\n')
f.write(et.tostring(doc))
f.close() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T11:32:47.083

查看此链接；

[http://broadcast.oreilly.com/2010/03/pymotw-creating-xml-documents.html](http://broadcast.oreilly.com/2010/03/pymotw-creating-xml-documents.html)

```
from xml.dom import minidom

def prettify(elem):
    """Return a pretty-printed XML string for the Element.
    """
    rough_string = ET.tostring(elem, 'utf-8')
    reparsed = minidom.parseString(rough_string)
    return reparsed.toprettyxml(indent="  ") 
```

# javascript - 从每个 ul 中获取第一个 li 元素的文本

> ID：15418512
> 
> 赞同：1
> 
> 时间：2013-03-14T19:30:48.283
> 
> 标签：javascript, jquery

我有很多`<ul>`列表，并尝试从该列表的每个第一 li 中获取文本。

标记很简单，例如：

```
<ul>
   <li>abc</li>
   <li>def</li>
   <li>ghi</li>
</ul> 
```

等等。

我的 jQuery 尝试是：

```
 var elems = $('ul'); // returns a nodeList
    var arr = jQuery.makeArray(elems);
    arr.reverse(); // use an Array method on list of dom elements

    for( var i=0;  i < elems.length; i++) {
        console.log($(this).find('li:lt(1)').text());
    } 
```

`for`但是我在循环中有一个错误，如果我不使用，`$(this).`我不知道如何获取`ul`数字 1 或 3的第一个文本`$(this).`

那么如何在`for`循环中正确地指出它呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:32:50.137

`.each`会给你`this`。

```
$('ul').each(function() {
     console.log($(this).find('li').eq(0).text());
}) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T19:35:01.683

替代语法使用`:first`而不是`:eq(0)`

```
 $('ul').each(function() {
     console.log($(this).find('li:first').text());
  }); 
```

或者，放弃该`find()`功能。

```
 $('ul').each(function() {
    console.log( $('li:first', this).text() );
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:46:37.157

您还可以使用：

```
$("li:nth-child(1)").each(function() 
                              {
                                console.log($(this).text());
                              }); 
```

**笔记：**

*   ，`:nth-child(n)`所有孩子都被计算在内，不管他们是什么。

*   , `:nth-child(n)`n 是从 1 开始的（第一个索引是 1 而不是 0）

# php - 没有错误后如何捕获表单提交？

> ID：15418520
> 
> 赞同：0
> 
> 时间：2013-03-14T19:31:05.420
> 
> 标签：php, javascript, jquery, html

我有一个表单，在用户单击提交后检查有效字段。它看起来像这样：

```
<form class="form-horizontal" method="post" action="#" name="basic_validate" id="basic_validate" />             
    <div class="control-group">
        <label class="control-label">Email Recipients</label>
        <div class="controls">
            <input type="text" name="emailreceipients" id="emailreceipients" />
        </div>
    </div>
    <div class="form-actions">
        <input type=submit value="Send" id="sendbtn" class="btn btn-primary" />
    </div>
</form> 
```

如果看到错误，则会将名为“error”的类添加到字段中。

删除所有错误后如何捕获表单提交（例如用户输入所有数据）

这是表单提交后得到的验证调用：

```
// Form Validation
$("#basic_validate").validate({
    rules:{
        required:{
            required:true
        },
        emailreceipients:{
            required:false
        }
    },
    errorClass: "help-inline",
    errorElement: "span",
    highlight:function(element, errorClass, validClass) {
        $(element).parents('.control-group').addClass('error');
    },
    unhighlight: function(element, errorClass, validClass) {
        $(element).parents('.control-group').removeClass('error');
        $(element).parents('.control-group').addClass('success');
    }
}); 
```

我试过这样的事情：

```
$("#sendbtn").click(function (e) {
    e.preventDefault();

    if ($("#basic_validate").children('.control-group').hasClass('error')) {
        alert("Error Seen");
    }
    else {
        // Process Form
    }
}); 
```

知道我怎么能做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:38:13.343

使用 jQuery 的`submit()`

```
$("#basic_validate").submit(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:35:00.687

你想做什么处理？如果你只是想让表单通过验证后自然提交，你可以

```
return true; 
```

# javascript - javascript命名空间范围

> ID：15418521
> 
> 赞同：0
> 
> 时间：2013-03-14T19:31:05.567
> 
> 标签：javascript, oop, scope

我正在学习 javascript，所以不要杀了我。我正在定义更多不同的命名空间，如下所示：

```
var name_Class = function(){
  this.variable_name_1 = {}

  this.method_name_1 = function() {}
} 
```

进而..

```
var second_name_Class = function(){
  this.variable_name_1 = {}

  this.method_name_1 = function() {}
} 
```

如果我在第一个变量中定义和初始化一个变量，然后我尝试在第二个变量中调用它，例如如果写入`c = new name_Class()`它，例如重新定义每个数组，`[]`这样我就无法获得我之前给它的值。你能帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:39:44.607

我不确定你是否明白你在做什么。

这

```
var name_Class = function(){
  this.variable_name_1 = {}

  this.method_name_1 = function() {}
} 
```

定义了一个名为 name_Class 的构造函数（顺便说一句，构造函数的第一个字符应按约定大写）

这

```
var c = new name_Class(); 
```

使用该构造函数创建一个对象。创建新对象并将构造函数绑定到该对象并调用，设置新对象的 variable_name_1 和 method_name_1 属性 c。每次分配`new name_Class()`给变量时，它都会创建一个全新的对象，该对象绑定了构造函数。您对为该函数创建的其他对象所做的任何更改都不会影响这个新变量。

所有这些都与您的第二个构造函数完全无关，您可以以相同的方式使用它，并且完全不受第一个构造函数的影响。

这些东西在技术上都不是命名空间，它们是**类**或**类型**。**命名空间**通常是指其他变量被定义为属性的顶级变量。默认情况下，变量是在全局命名空间中定义的，对于浏览器来说就是窗口。

例如，要在命名空间上创建类型为 name_Class 的新对象`namespace1`，您可以这样做

```
var namespace1  = {};
namespace1.c = new name_Class(); 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-14T19:46:09.640

如果您希望在实例上设置值，则可以传入参数。例如

```
var Swatch = function(){
  this.color = arguments[0] || 'green';
  this.callback = arguments[1] || function() {
     alert(this.color);
  }
  this.callback();
}

//defaults to green if no args are passed
var green = new Swatch();

//or pass in your own values
var red = new Swatch('red',function(){
  alert('New swatch created with color '+this.color);
}); 
```

# rest - 解析媒体类型“application.xml”泽西 REST 客户端时出错

> ID：15418522
> 
> 赞同：0
> 
> 时间：2013-03-14T19:31:10.787
> 
> 标签：rest, jersey

运行客户端时出现此异常。

![在此处输入图像描述](../Images/2656c393373a8aac510eaa7019187a49.png)

```
Exception in thread "main" java.lang.IllegalArgumentException: Error parsing media type 'application.xml'
    at com.sun.jersey.core.impl.provider.header.MediaTypeProvider.fromString(MediaTypeProvider.java:79)
    at com.sun.jersey.core.impl.provider.header.MediaTypeProvider.fromString(MediaTypeProvider.java:53)
    at javax.ws.rs.core.MediaType.valueOf(MediaType.java:119)
    at com.sun.jersey.api.client.PartialRequestBuilder.type(PartialRequestBuilder.java:92)
    at com.sun.jersey.api.client.WebResource.type(WebResource.java:347)
    at com.rest.client.EmpGETClient.main(EmpGETClient.java:15)
Caused by: java.text.ParseException: End of header
    at com.sun.jersey.core.header.reader.HttpHeaderReaderImpl.getNextCharacter(HttpHeaderReaderImpl.java:168)
    at com.sun.jersey.core.header.reader.HttpHeaderReaderImpl.next(HttpHeaderReaderImpl.java:129)
    at com.sun.jersey.core.header.reader.HttpHeaderReaderImpl.next(HttpHeaderReaderImpl.java:124)
    at com.sun.jersey.core.header.reader.HttpHeaderReader.nextSeparator(HttpHeaderReader.java:116)
    at com.sun.jersey.core.impl.provider.header.MediaTypeProvider.valueOf(MediaTypeProvider.java:90)
    at com.sun.jersey.core.impl.provider.header.MediaTypeProvider.fromString(MediaTypeProvider.java:77)
    ... 5 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:36:30.253

尝试“应用程序/xml”另见[http://en.wikipedia.org/wiki/Internet_media_type#Type_application](http://en.wikipedia.org/wiki/Internet_media_type#Type_application)

# mootools - e.stop() 之后的 FireEvent

> ID：15418523
> 
> 赞同：1
> 
> 时间：2013-03-14T19:31:13.173
> 
> 标签：mootools

我有一个我停止提交的表单，当弹出确认消息并且用户单击“是”时，我想要提交表单，我该怎么做？我尝试使用这样的 fireEvent，但它不会工作......在 firebug它说 e 是未定义的。

```
window.addEvent('domready', function(){

var form=document.adminForm;
form.addEvent('submit', function(e){

var result=confirm("Are you sure!?");
e.stop();
if(result){
form.fireEvent("submit");  
}

});

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T13:35:01.757

您需要在确认之前停止事件并在之后提交。[http://jsfiddle.net/dimitar/qAx6H/](http://jsfiddle.net/dimitar/qAx6H/)

```
var form=document.id('adminForm');

form.addEvent('submit', function(e){
    e && e.stop();

    if (confirm('Are you sure?')){
        this.submit();
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T03:04:05.657

据我从您的问题中了解到，您需要在提交表单之前进行简单的确认。如果是这样，您可以使用这个小脚本：

```
<input type="submit" OnClick="return confirm('Are you sure!?');" ... /> 
```

它会弹出带有确定/取消按钮的模式，但对我来说效果很好。

# php - Codeigniter：引用模型结果中返回的特定数组索引

> ID：15418525
> 
> 赞同：0
> 
> 时间：2013-03-14T19:31:16.207
> 
> 标签：php, codeigniter, multidimensional-array

我仍在尝试将数据库查询结果从模型传递回控制器，最后传递给视图。我似乎将数据放到了正确的位置，我只是不确定如何最好地访问视图中生成的对象数组。

具体来说，我正在尝试在我的数据库中查询某人提交链接的最近 7 个不同日期。我返回一个日期数组，然后对于每个日期，我查询在该日期提交的所有链接并将结果存储在一个数组中。然后在视图中，对于每个不同的日期，我会显示一个标题（日期），紧随其后的是与之关联的链接。

来自我的不同日期查询 ($link_headers) 的数组：

```
Array (
    [0] => stdClass Object([added_date] => 2011-08-11)
    [1] => stdClass Object([added_date] => 2011-05-03)
    [2] => stdClass Object([added_date] => 2011-04-21)
    [3] => stdClass Object([added_date] => 2011-04-10)
    [4] => stdClass Object([added_date] => 2011-03-04)
    [5] => stdClass Object([added_date] => 2011-02-28)
    [6] => stdClass Object([added_date] => 2011-02-22)

) 
```

来自我对提交的实际链接的查询的数组（$links_result）：

```
Array
(
    [0] => Array
        (
            [0] => stdClass Object
                (
                    [user_id] => 2
                    [link_id] => 1178
                    [link_url] => http://www.amazon.com/Silicone-Rubber-CASSETTE-Design-IPHONE/dp/B004YDJWOY
                    [link_name] => Silicone Skin BLACK CASSETTE TAPE
                    [link_notes] => iPhone case... probably won't fit in my dock.
                    [added_date] => 2011-08-11
                    [flag_new] => 1
                    [rating] => 4
                    [public] => 1
                )

        )

    [1] => Array
        (
            [0] => stdClass Object
                (
                    [user_id] => 2
                    [link_id] => 1177
                    [link_url] => http://snorby.org/
                    [link_name] => Snorby - Snort front-end
                    [link_notes] => 
                    [added_date] => 2011-05-03
                    [flag_new] => 1
                    [rating] => 4
                    [public] => 1
                )

        )

    [2] => Array
        (
            [0] => stdClass Object
                (
                    [user_id] => 2
                    [link_id] => 1176
                    [link_url] => http://www.nytimes.com/2011/04/17/business/17excerpt.html?_r=4&pagewanted=1&ref=business
                    [link_name] => Corner Office - The 5 Habits of Highly Effective C.E.O.s
                    [link_notes] => Sounds a lot like what Nathanial said...
                    [added_date] => 2011-04-21
                    [flag_new] => 1
                    [rating] => 4
                    [public] => 1
                )

        )

    [3] => Array
        (
            [0] => stdClass Object
                (
                    [user_id] => 2
                    [link_id] => 1175
                    [link_url] => http://chezlarsson.com/myblog/2010/06/panduro-concrete-challenge-3.html
                    [link_name] => Concrete book-ends
                    [link_notes] => Cool look... 
                    [added_date] => 2011-04-10
                    [flag_new] => 1
                    [rating] => 4
                    [public] => 1
                )

            [1] => stdClass Object
                (
                    [user_id] => 2
                    [link_id] => 1174
                    [link_url] => http://themeforest.net/item/reciprocity-photo-blog-gallery/154590
                    [link_name] => Site Templates - Reciprocity - Photo Blog
                    [link_notes] => 
                    [added_date] => 2011-04-10
                    [flag_new] => 1
                    [rating] => 5
                    [public] => 1
                )

        )

    [4] => Array
        (
            [0] => stdClass Object
                (
                    [user_id] => 2
                    [link_id] => 1173
                    [link_url] => http://lifehacker.com/#!5771943/the-always-up+to+date-guide-to-jailbreaking-your-ios-device
                    [link_name] => The Always Up-to-Date Guide to Jailbreaking Your iOS Device
                    [link_notes] => 
                    [added_date] => 2011-03-04
                    [flag_new] => 1
                    [rating] => 4
                    [public] => 1
                )

        )

    [5] => Array
        (
            [0] => stdClass Object
                (
                    [user_id] => 2
                    [link_id] => 1172
                    [link_url] => http://lifehacker.com/#!5754463/how-to-jailbreak-your-ios-421-device
                    [link_name] => How to Jailbreak Your iOS 4.2.1 Device
                    [link_notes] => 
                    [added_date] => 2011-02-28
                    [flag_new] => 1
                    [rating] => 4
                    [public] => 1
                )

        )

    [6] => Array
        (
            [0] => stdClass Object
                (
                    [user_id] => 2
                    [link_id] => 1171
                    [link_url] => http://www.bitplumber.net/2010/10/a-cassandra-hardware-stack-dell-c1100s-ocz-vertex-2-ssds-with-sandforce-arista-7048s/
                    [link_name] => A Cassandra Hardware Stack
                    [link_notes] => 
                    [added_date] => 2011-02-22
                    [flag_new] => 1
                    [rating] => 3
                    [public] => 1
                )

        )

) 
```

...一切似乎都很好。但是我的问题来自我的观点，我正在尝试如上所述构建 HTML。我试图开始工作的代码的简化视图如下：

```
foreach ($link_headers as $header) {

echo "INDEX: ". $links_headers .", ADDED DATE: ". $header->added_date ."<BR>";

    foreach ($links_result[$link_headers] as $result){
        echo $result->added_date ."<BR>";
        echo $result->link_name ."<BR><BR>";
    }
} 
```

所以，我试图使用第一个的索引来告诉我的 foreach 循环第二个数组的哪个索引循环并获取内容。很明显，我滥用了 $links_result[$link_headers] 变量，但我把它留在里面是为了展示我想要做什么。

很感谢任何形式的帮助！

迈克尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:45:22.617

我不使用 CodeIgniter，但无论是在框架内还是从 PHP 中，我都会一口气抓住它，然后索引的问题就变得没有意义了：

```
SELECT * FROM model_table mt WHERE mt.added_date IN (
   SELECT DISTINCT md.added_date from model_table md
   ORDER BY md.added_date DESC
   LIMIT 7
) ORDER BY mt.added_date DESC 
```

这应该会为您提供一系列按日期排序的模型，限制为最近 7 个日期。那么它只是选择何时显示标题的问题：

```
$current = null;
foreach($links as $link) {
   if($link->added_date !== $current) {
      // show the header and set current to the current date
      $current = $link->added_date;
      echo 'HEADER: Added on ' . $current . '<br />';
   }

   echo $row->added_date ."<BR>";
   echo $row->link_name ."<BR><BR>";
} 
```

# c# - 获取列表之间差异的最快方法 I'm developing a program which is able to find the difference in files between to folders for instance. I've made a method which traverses the folder structure of a given folder, and builds a tree for each subfolder 问问题 问问题 2013-03-14T19:31:38.703 1562 次 This question shows research effort; it is useful and clear 1 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. I'm developing a program which is able to find the difference in files between to folders for instance. I've made a method which traverses the folder structure of a given folder, and builds a tree for each subfolder. Each node contains a list of files, which is the files in that folder. Each node has an amount of children, which corresponds to folders in that folder. Now the problem is to find the files present in one tree, but not in the other. I have a method: "private List Diff(Node index1, Node index2)", which should do this. But the problem is the way that I'm comparing the trees. To compare two trees takes a huge amount of times - when each of the input nodes contains about 70,000 files, the Diff method takes about 3-5 minutes to complete. I'm currently doing it this way: private List <myfile>Diff(Node index1, Node index2) { List <myfile>DifferentFiles = new List<myfile>(); List <myfile>Index1Files = FindFiles(index1); List <myfile>Index2Files = FindFiles(index2); List <myfile>JoinedList = new List<myfile>(); JoinedList.AddRange(Index1Files); JoinedList.AddRange(Index2Files); List <myfile>JoinedListCopy = new List<myfile>(); JoinedListCopy.AddRange(JoinedList); List <string>ChecksumList = new List<string>(); foreach (MyFile m in JoinedList) { if (ChecksumList.Contains(m.Checksum)) { JoinedListCopy.RemoveAll(x => x.Checksum == m.Checksum); } else { ChecksumList.Add(m.Checksum); } } return JoinedListCopy; } And the Node class looks like this: class Node { private string _Dir; private Node _Parent; private List <node>_Children; private List <myfile>_Files; } How about: public static IEnumerable <myfile>FindUniqueFiles(IEnumerable <myfile>index1, IEnumerable <myfile>index2) { HashSet <string>hash = new HashSet<string>(); foreach (var file in index1.Concat(index2)) { if (!hash.Add(file.Checksum)) { hash.Remove(file.Checksum); } } return index1.Concat(index2).Where(file => hash.Contains(file.Checksum)); } This will work on the assumption that one tree will not contain a duplicate. Servy's answer will work in all instances. c#listtreeduplicate-removalset-difference 4 4 回答 4 This answer is useful 4 Rather than doing lots of searching through List structures (which is quite slow) you can put the all of the checksums into a HashSet which can be much more efficiently searched. private List <myfile>Diff(Node index1, Node index2) { var Index1Files = FindFiles(index1); var Index2Files = FindFiles(index2); //this is all of the files in both var intersection = new HashSet<string>(Index1Files.Select(file => file.Checksum) .Intersect(Index2Files.Select(file => file.Checksum))); return Index1Files.Concat(Index2Files) .Where(file => !intersection.Contains(file.Checksum)) .ToList(); } 于 2013-03-14T19:36:46.037 回答 This answer is useful 1 怎么样： public static IEnumerable <myfile>FindUniqueFiles(IEnumerable <myfile>index1, IEnumerable <myfile>index2) { HashSet <string>hash = new HashSet<string>(); foreach (var file in index1.Concat(index2)) { if (!hash.Add(file.Checksum)) { hash.Remove(file.Checksum); } } return index1.Concat(index2).Where(file => hash.Contains(file.Checksum)); } 这将在假设一棵树不包含重复项的情况下起作用。Servy 的答案适用于所有情况。 于 2013-03-14T19:36:24.037 回答 This answer is useful 0 Are you keeping the entire FileSystemObject for every element in the tree? If so I would think your memory overhead would be gigantic. Why not just use the filename or checksum and put that into a list, then do comparisons on that? 于 2013-03-14T19:38:07.713 回答 This answer is useful 0 I can see that this is more than just a "distinct" function, what you are really looking for is all instances that only exist once in the JoinedListCopy collection, not simply a list of all distinct instances in the JoinedListCopy collection. Servy has a very good answer, I would suggest a different approach, which utilizes some of linq's more interesting features, or at least I find them interesting. var diff_Files = (from a in Index1Files join b in Index2Files on a.CheckSum equals b.CheckSum where !(Index2Files.Contains(a) || Index1Files.Contains(b))).ToList() another way to structure that "where", which might work better, the file instances might not actually be identical, as far as code equality is concerned... where !(Index2Files.Any(c=>c.Checksum == a.Checksum) || Index1Files.Any(c=>c.Checksum == b.Checksum)) look at the individual checksums, rather than the entire file object instance. the basic strategy is essentially exactly what you are already doing, just a bit more efficient: join the collections and filter them against each other to make sure that you only get entries that are unique. Another way to do this is to use the counting function in linq var diff_Files = JoinedListCopy.Where(a=> JoinedListCopy.Count(b=>b.CheckSum == a.CheckSum) == 1).ToList(); nested linq isn't always the most efficient thing in the world, but that should work fairly well, get all instances that only occur once. I like the approach the best actually, least chance of messing something up, but the join I used first might be more efficient. 于 2013-03-14T20:07:54.900 回答 Related 2 qt - unicode 字符无法转换为 cp1252 1 php - IE中的PHP会话ID重置 1 clojure - 将 Clojure *.clj 编译成 *.class，有些函数没有生成 1 jquery - 单击时替换图像 1 zend-framework - Zend 导航和 Zend 语言环境 1 actionscript-3 - 非常奇特的 AS3 自动格式化错误 (Flash CS6) 1 python-2.7 - python中的非阻塞子进程 9 iphone - 具有匿名函数/块的 NSTimer？ 2 android - 服务中的Android启动意图活动错误 1 php - 使用 json 和 bootstrap 自动完成 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</string></string></myfile></myfile></myfile></string></myfile></string></string></myfile></myfile></myfile></myfile></node></string></string></myfile></myfile></myfile></myfile></myfile></myfile></myfile></myfile></myfile>

> ID：15418531
> 
> 赞同：1
> 
> 时间：
> 
> 标签：c#, list, tree, duplicate-removal, set-difference

I'm developing a program which is able to find the difference in files between to folders for instance. I've made a method which traverses the folder structure of a given folder, and builds a tree for each subfolder. Each node contains a list of files, which is the files in that folder. Each node has an amount of children, which corresponds to folders in that folder.

Now the problem is to find the files present in one tree, but not in the other. I have a method: "private List Diff(Node index1, Node index2)", which should do this. But the problem is the way that I'm comparing the trees. To compare two trees takes a huge amount of times - when each of the input nodes contains about 70,000 files, the Diff method takes about 3-5 minutes to complete.

I'm currently doing it this way:

```
private List<MyFile> Diff(Node index1, Node index2)
    {
        List<MyFile> DifferentFiles = new List<MyFile>();

        List<MyFile> Index1Files = FindFiles(index1);
        List<MyFile> Index2Files = FindFiles(index2);

        List<MyFile> JoinedList = new List<MyFile>();
        JoinedList.AddRange(Index1Files);
        JoinedList.AddRange(Index2Files);
        List<MyFile> JoinedListCopy = new List<MyFile>();
        JoinedListCopy.AddRange(JoinedList);
        List<string> ChecksumList = new List<string>();

        foreach (MyFile m in JoinedList)
        {

            if (ChecksumList.Contains(m.Checksum))
            {
                JoinedListCopy.RemoveAll(x => x.Checksum == m.Checksum);
            }
            else
            {
                ChecksumList.Add(m.Checksum);
            }
        }

        return JoinedListCopy;
    } 
```

And the Node class looks like this:

```
class Node
{
    private string _Dir;
    private Node _Parent;
    private List<Node> _Children;
    private List<MyFile> _Files;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:36:46.037

Rather than doing lots of searching through `List` structures (which is quite slow) you can put the all of the checksums into a `HashSet` which can be *much* more efficiently searched.

```
private List<MyFile> Diff(Node index1, Node index2)
{
    var Index1Files = FindFiles(index1);
    var Index2Files = FindFiles(index2);

    //this is all of the files in both
    var intersection = new HashSet<string>(Index1Files.Select(file => file.Checksum)
         .Intersect(Index2Files.Select(file => file.Checksum)));

    return Index1Files.Concat(Index2Files)
        .Where(file => !intersection.Contains(file.Checksum))
        .ToList();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:36:24.037

怎么样：

```
 public static IEnumerable<MyFile> FindUniqueFiles(IEnumerable<MyFile> index1, IEnumerable<MyFile> index2)
    {
        HashSet<string> hash = new HashSet<string>();

        foreach (var file in index1.Concat(index2))
        {
            if (!hash.Add(file.Checksum))
            {
                hash.Remove(file.Checksum);
            }
        }

        return index1.Concat(index2).Where(file => hash.Contains(file.Checksum));
    } 
```

这将在假设一棵树不包含重复项的情况下起作用。Servy 的答案适用于所有情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:38:07.713

Are you keeping the entire FileSystemObject for every element in the tree? If so I would think your memory overhead would be gigantic. Why not just use the filename or checksum and put that into a list, then do comparisons on that?

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T20:07:54.900

I can see that this is more than just a "distinct" function, what you are really looking for is all instances that only exist once in the JoinedListCopy collection, not simply a list of all distinct instances in the JoinedListCopy collection.

Servy has a very good answer, I would suggest a different approach, which utilizes some of linq's more interesting features, or at least I find them interesting.

```
var diff_Files = (from a in Index1Files
                 join b in Index2Files
                 on a.CheckSum equals b.CheckSum
                 where !(Index2Files.Contains(a) || Index1Files.Contains(b))).ToList() 
```

another way to structure that "where", which might work better, the file instances might not actually be identical, as far as code equality is concerned...

```
where !(Index2Files.Any(c=>c.Checksum == a.Checksum) || Index1Files.Any(c=>c.Checksum == b.Checksum)) 
```

look at the individual checksums, rather than the entire file object instance.

the basic strategy is essentially exactly what you are already doing, just a bit more efficient: join the collections and filter them against each other to make sure that you only get entries that are unique.

Another way to do this is to use the counting function in linq

```
var diff_Files = JoinedListCopy.Where(a=> JoinedListCopy.Count(b=>b.CheckSum == a.CheckSum) == 1).ToList(); 
```

nested linq isn't always the most efficient thing in the world, but that should work fairly well, get all instances that only occur once. I like the approach the best actually, least chance of messing something up, but the join I used first might be more efficient.

# asp.net - 由于端口小于 1024，无法打开包含网站的解决方案？

> ID：15418535
> 
> 赞同：6
> 
> 时间：2013-03-14T19:31:40.180
> 
> 标签：asp.net, visual-studio-2010

我最近不得不将我的解决方案重新映射到一个新目录，尝试在 Visual Studio 2010 中重新加载解决方案时，我收到错误消息：

> “无法打开网站'http://localhost/XXX'。您必须在管理员帐户的上下文中运行 Visual Studio，才能创建端口小于 1024 的 IIS Express 站点。”

这很奇怪，因为据我所知，解决方案文件中定义的端口远高于端口 1024。我能找到的唯一建议是在 VS 中打开解决方案（有趣的小问题 22 对吗？）。

在我从 TFS 重新映射并重新下载解决方案之前，该解决方案有效。

这是在远程应用程序中，所以我无权以管理员身份实际运行 VS。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2018-05-08T00:17:40.053

更新 Visual Studio 2017 后我遇到了同样的问题。我打开了每个受影响的项目文件并删除了*IISUrl*中的内容，项目重新加载正确。很奇怪，因为*UseIISExpress*和*UseIIS*都设置为 False。

我也尝试了 typetrice 的解决方案，它也很有效。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-11T18:38:15.623

不久前想出了一个解决方案，但忘记在这里发布答案，以防万一其他人有一天偶然发现了这个问题。

如果您打开包含该项目的解决方案文件，则需要删除引用相关网站的任何“localhost”实例。这似乎可以解决问题。

我的猜测是 VS 看到“本地主机”并假设您正在尝试在本地计算机上实际打开一个站点，或者将其绑定到该地址。这将解释端口错误。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-10-03T14:15:09.623

将网站从 VS 2005 升级到 VS 2012 后出现此错误[。cDecker32 的答案](https://stackoverflow.com/a/15956317/1036274)是正确的，但我正在添加一些支持细节......

该站点在 VS 2005 sln 文件中是这样声明的：

```
Project("{E24C65DC-7377-472B-9ABA-BC803B73C61A}") = "C:\...\EMR\", "EMR", "{6E950F28-C219-492C-B9A3-5480D70475FB}" 
```

VS 2012 在升级过程中将其更改为引用 localhost：

```
Project("{E24C65DC-7377-472B-9ABA-BC803B73C61A}") = "http://localhost/EMR/", "http://localhost/EMR", "{6E950F28-C219-492C-B9A3-5480D70475FB}" 
```

使用“以管理员身份运行”（根据错误消息的说明）重新启动 VS 2012 后，“localhost”已从项目名称中删除，但保留在路径中：

```
Project("{E24C65DC-7377-472B-9ABA-BC803B73C61A}") = "EMR-Site/EMR", "http://localhost/EMR", "{6E950F28-C219-492C-B9A3-5480D70475FB}" 
```

这允许加载解决方案，但此时站点无法运行；工作室抱怨说您需要管理员权限才能使用端口 < 1024。我相信它假设 localhost 意味着 IIS 在端口 80 上。

在项目定义和源代码管理部分中手动将路径重命名为“\EMR”允许站点像在 VS 2005 中一样运行。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-04-30T11:59:19.820

我在 VS2013 中打开项目时遇到了这个问题，但在 VS2012 中仍然没有问题。我能够通过执行以下操作来解决问题：

在文本编辑器中打开项目文件并更改项目文件中的以下行：

```
<AutoAssignPort>False</AutoAssignPort> -> <AutoAssignPort>True</AutoAssignPort> 
```

另外，我删除了以下行：

```
<DevelopmentServerPort>81</DevelopmentServerPort> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-08-24T13:21:26.457

这是我猜的一个视觉工作室错误，这个错误没有逻辑上的原因。删除当前项目中的所有 Visual Studio 扩展可修复该错误。重新加载项目后，您可以根据需要进行设置。

```
<VisualStudio>
  <FlavorProperties GUID="{349c5851-65df-11da-9384-00065b846f21}">
    <WebProjectProperties>
      <UseIIS>True</UseIIS>
      <AutoAssignPort>true</AutoAssignPort>
      <DevelopmentServerVPath>/</DevelopmentServerVPath>
      <IISUrl>http://localhost/XXXXX</IISUrl>
      <NTLMAuthentication>True</NTLMAuthentication>
      <UseCustomServer>False</UseCustomServer>
      <CustomServerUrl>
      </CustomServerUrl>
      <SaveServerSettingsInUserFile>False</SaveServerSettingsInUserFile>
    </WebProjectProperties>
  </FlavorProperties>
</VisualStudio> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-08-09T06:08:17.343

在我的情况下：删除 csproj.user 文件后，项目被加载。

# android - 如何将联系人从电话填充到自定义列表视图？

> ID：15418536
> 
> 赞同：1
> 
> 时间：2013-03-14T19:31:41.687
> 
> 标签：android, database, contacts, custom-lists

我现在使用创建了一个自定义`BaseAdapter`列表视图我想用电话簿中的联系人姓名和号码填充这个列表视图..我正在尝试这个..

```
import java.util.ArrayList;

import android.app.Activity;
import android.database.Cursor;
import android.os.Bundle;
import android.provider.ContactsContract;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.SimpleCursorAdapter;
import android.widget.TextView;
import android.widget.Toast;

public class Rabtaye extends Activity {

    ListView msgList;
    ArrayList<MessageDetails> details;
    AdapterView.AdapterContextMenuInfo info;

    Cursor cursor;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.layout_main);

        msgList = (ListView) findViewById(R.id.MessageList);
        details = new ArrayList<MessageDetails>();

        MessageDetails Detail = new MessageDetails();
        cursor = getContentResolver().query(
                ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, null,
                null, null);
        startManagingCursor(cursor);

        String info[] = { ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME,
                ContactsContract.CommonDataKinds.Phone.NUMBER,
                ContactsContract.CommonDataKinds.Phone._ID };
         for(String a:info){
         Detail.setName(a);
         }
         Detail.setNumber("0313");
         details.add(Detail);
//      int to[] = { R.id.name, R.id.number };
//      ListAdapter cursada = new SimpleCursorAdapter(this,
//              android.R.layout.simple_expandable_list_item_2, cursor, info,
//              to);
        msgList.setAdapter(new CustomAdapter(details, this));

        msgList.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                TextView s = (TextView) arg1.findViewById(R.id.name);
                String abc = s.getText().toString();
                Toast.makeText(Rabtaye.this, abc, Toast.LENGTH_LONG).show();
            }
        });
    }
} 
```

我使用了不同的方法，但我无法使用联系人姓名或号码填充 ListView。在这段代码中，我必须静态添加名称和号码……我在这里很困惑……不胜感激。提前致谢。我是新手，所以请对我放轻松..:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:15:07.177

如果您将多个项目列表放入 ListView 中（看起来您正在处理名称、编号等），您必须创建自己的自定义适配器。在您的活动中或在新类中扩展[BaseAdapter类。](http://developer.android.com/reference/android/widget/BaseAdapter.html)然后你必须重写该`getView()`方法。每次新项目膨胀时都会调用此方法。

您在创建它时将其传递`ArrayList`给`BaseAdapter`。适配器的`getView()`方法是您编写逻辑以获取数据并将其显示为列表项的地方。您必须为每个列表项定义一个新的 XML 文件作为布局，每个列表项包含您的`TextViews`和每个列表项中不同子项的内容，这就是您使用数据填充的内容。

如果你搜索“baseadapter”，就会有很多例子。这是[一个](http://thinkandroid.wordpress.com/2010/01/13/custom-baseadapters/)很好的介绍。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T20:21:43.990

嗯。你在正确的轨道上，但我认为你有点徘徊。

ListView 是一个视图对象，而不是 BaseAdapter。据我从您的代码中可以看出，您的 ListView 不需要自定义适配器。

您应该做的是将常规 CursorAdapter 绑定到您的 ListView，使用 CursorLoader 从 Contacts Provider 加载您想要的联系人数据，然后将生成的 Cursor 移动到 CursorAdapter。

您可以在此 Android 培训课程中找到执行此操作的说明： [在后台加载数据](http://developer.android.com/training/load-data-background/index.html)。

您想要从 ListView 本身无法获得的自定义 ListView 中的什么？

# c# - 上父控件作为源

> ID：15418537
> 
> 赞同：0
> 
> 时间：2013-03-14T19:31:44.450
> 
> 标签：c#, wpf

在这些情况下如何获得上级控制作为源。TextBlock 需要在工具提示上访问。

```
<Style TargetType="{x:Type Control}" x:Key="ErrorTemplate">
    <Style.Triggers>
        <Trigger Property="Validation.HasError" Value="True">
            <Setter Property="ToolTip">
                <Setter.Value>
                    <Grid Margin="5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="1" Margin="4, 0,0,0" Text="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToolTip}, Path=(Validation.Errors)[0].ErrorContent}"></TextBlock>
                    </Grid>
                </Setter.Value>
            </Setter>
        </Trigger>
    </Style.Triggers>
</Style> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:36:04.667

```
<Setter Property="ToolTip">
                    <Setter.Value>
                        <ToolTip DataContext="{Binding PlacementTarget, RelativeSource={RelativeSource Self}}">
                            <Grid Margin="5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="1" Margin="4, 0,0,0" Text="{Binding Path=(Validation.Errors)[0].ErrorContent}"></TextBlock>
                            </Grid>
                        </ToolTip>
                    </Setter.Value>
                </Setter> 
```

# css - CSS 悬停过渡跨浏览器兼容性

> ID：15418538
> 
> 赞同：10
> 
> 时间：2013-03-14T19:31:48.617
> 
> 标签：css, cross-browser, css-transitions

我有一个带有纯 CSS 动画过渡的简单语言选择页面。我在[这里](http://jsfiddle.net/WChargin/TSqDg/)做了一个 jsFiddle 。

它应该如何表现如下：

1.  用户将鼠标悬停在两个（或更多）语言选择器之一上。
2.  该语言选择器向上过渡并完全不透明。相关的语言文本（例如，英语、西班牙语）也会出现。
3.  用户要么单击链接，要么将鼠标移出，在这种情况下，转换反转。

在 Chrome 中，它的行为符合预期。

在 Firefox 中，当我将鼠标悬停在*一张*图像上时，*两者都会*向上移动。

在 Opera 中，它的行为基本符合预期，但文本在向上移动后又跳回。

我试图了解*为什么*会在这些浏览器中发生这种情况，以及如果可能的话，我该如何解决它。

在jsFiddle宕机的情况下，相关代码为：

**HTML**

```
<div id="container"><div id="cell">
    <div class="langcell"><a href="en/index.html">
        <img src="http://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/200px-Flag_of_the_United_States.svg.png" /><br/><p>English</p></a>
    </div>
    <div class="langcell"><a href="es/index.html">
        <img src="http://upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/200px-Flag_of_Spain.svg.png" /><br/><p>Espa&ntilde;ol</p></a>
    </div>
</div></div> 
```

**CSS**

```
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
}
#container {
    width: 100%;
    height: 100%;
    display: table;
}
#cell {
    display: table-cell; vertical-align: middle; text-align: center;
}
.langcell {
    display: inline-block;
    margin: auto 1em;
}
a {
    position: relative;
    top: 0;
    -webkit-transition: top 0.25s;
    -moz-transition: top 0.25s;
    -o-transition: top 0.25s;
    transition: top 0.25s;
    color: black;
    text-decoration: none;
}
a:hover {
    top: -16pt;
}
a p {
    font-size: 14pt;
    font-weight: bold;
    text-transform: uppercase;
    font-family: Verdana, Geneva, sans-serif;
    letter-spacing: 0.05em;
    opacity: 0;
    -webkit-transition: opacity 0.25s;
    -moz-transition: opacity 0.25s;
    -o-transition: opacity 0.25s;
    transition: opacity 0.25s;
}
a:hover p {
    opacity: 1;
}
a img {
    opacity: 0.65;
    -webkit-transition: opacity 0.25s;
    -moz-transition: opacity 0.25s;
    -o-transition: opacity 0.25s;
    transition: opacity 0.25s;
}
a:hover img {
    opacity: 1;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T07:30:10.103

我在 firefox(v12) 上也遇到了奇怪的问题，它在悬停时将两个元素向上移动。后来的版本（19v），似乎解决了。

我认为您的选择器以及 Mozilla 如何解释事物与 webkit 之间存在一些问题。看看这个[jsfiddle](http://jsfiddle.net/eL8hC/ "jsfiddle")是否适合你。

我真正做的只是改变了很多 to 的选择器，`a`它`.langcell`似乎工作。我不得不重新调整一点 css 来实现相同的样式，比如嵌套`.langcell a`选择器。我怀疑这可能是由于`a`默认情况下是内联的，而`p`它是块并且`img`是内联块。

我不会撒谎并说我完全理解为什么会发生这种情况，但总的来说，将样式赋予类而不是元素不仅仅是一种偏好，它在渲染时也更有效。

[CSS 选择器性能](http://csswizardry.com/2011/09/writing-efficient-css-selectors/)

代码：

```
 .langcell {
        display: inline-block;
        margin: auto 1em;
        position: relative;
        top: 0;
        -webkit-transition: top 0.25s;
        -moz-transition: top 0.25s;
        -o-transition: top 0.25s;
        transition: top 0.25s;
    }

    .langcell a { 
        color: black;
        text-decoration: none;
    }
    .langcell:hover {
        top: -16pt;
    }
    .langcell p {
        font-size: 14pt;
        font-weight: bold;
        text-transform: uppercase;
        font-family: Verdana, Geneva, sans-serif;
        letter-spacing: 0.05em;
        opacity: 0;
        -webkit-transition: opacity 0.25s;
        -moz-transition: opacity 0.25s;
        -o-transition: opacity 0.25s;
        transition: opacity 0.25s;
    }
    .langcell:hover p {
        opacity: 1;
    }
    .langcell img {
        opacity: 0.65;
        -webkit-transition: opacity 0.25s;
        -moz-transition: opacity 0.25s;
        -o-transition: opacity 0.25s;
        transition: opacity 0.25s;
    }
    langcell:hover img {
       opacity: 1;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:38:43.703

CSS3 是相当新的。并且许多功能在许多浏览器中仍然不兼容。[兼容性图表](http://www.w3schools.com/cssref/css3_browsersupport.asp)

因此，如果您的客户使用的是旧版浏览器（即使他们有一年旧的版本），这有点令人反感，在这种情况下 CSS3 转换将无法正常工作。

进行转换最安全的选择是使用 javascript 或一些 javascript 库（例如 jQuery）来完成

# php - 如何使用适用于 PHP 的 AWS 开发工具包版本 2 为 SimpleDB 执行条件放置

> ID：15418540
> 
> 赞同：0
> 
> 时间：2013-03-14T19:31:53.890
> 
> 标签：php, api, amazon-simpledb

我有以下代码将新项目输入到 SimpleDB 的域中。我正在使用适用于 PHP 版本 2 的 AWS 开发工具包。

```
 $client->putAttributes(array(
     'DomainName' => $domainName,
     'ItemName'   => $uniqueid,
     'Attributes' => array(
         array('Name' => 'USER_ID', 'Value' => $uniqueid, 'Replace' => true),
         array('Name' => 'EMAIL', 'Value' => $email, 'Replace' => true),
         array('Name' => 'CREATED', 'Value' => $date, 'Replace' => true),
         array('Name' => 'LAST_UPDATED', 'Value' => $date, 'Replace' => true),
     )
  )); 
```

我如何进行有条件的看跌期权？我希望条件是 EMAIL 不存在。类似于：Expected.Name => EMAIL Expected.Exists => False 但我不知道语法。

这是 API 文档的链接。我对它们的理解不够好，无法实现这一点。 [http://docs.aws.amazon.com/aws-sdk-php-2/latest/class-Aws.SimpleDb.SimpleDbClient.html#_putAttributes](http://docs.aws.amazon.com/aws-sdk-php-2/latest/class-Aws.SimpleDb.SimpleDbClient.html#_putAttributes)

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:41:45.180

这似乎有效。我现在收到条件检查失败错误。

```
$client->putAttributes(array(
    'DomainName' => $domainName,
    'ItemName'   => $uniqueid,
    'Attributes' => array(
        array('Name' => 'USER_ID', 'Value' => $uniqueid, 'Replace' => true),
        array('Name' => 'EMAIL', 'Value' => $email, 'Replace' => true),
        array('Name' => 'CREATED', 'Value' => $date, 'Replace' => true),
        array('Name' => 'LAST_UPDATED', 'Value' => $date, 'Replace' => true),
    ),
    'Expected' => array('Name' => 'EMAIL', 'Exists' => false),
)); 
```

# php - 如何使用 javascript 读取标头数据

> ID：15418542
> 
> 赞同：-2
> 
> 时间：2013-03-14T19:31:56.207
> 
> 标签：php, javascript, jquery, html, ajax

如何从 javascript 中的标头 url 读取值？

例如，如果我有类似的东西：

```
www.something.com/details.html?test=something 
```

当我重定向到 page 时，我需要能够读取这些数据`details.html`。

什么是一个好的方法？也许添加一些php代码来获取数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:35:41.463

您是在谈论从 get 变量中获取值并在 javascript 中使用它吗？如果是这样，我以前使用过类似的东西：

```
<script type="text/javascript">
function myfunction(){
     var value = "<?php echo $_GET['test']; ?>"
}
</script> 
```

它对我来说效果很好。

# silverlight-4.0 - 如何检查silverlight中使用了哪个子控件实例

> ID：15418545
> 
> 赞同：0
> 
> 时间：2013-03-14T19:32:25.623
> 
> 标签：silverlight-4.0

我有两个用户控件：ParentUserControl.xaml 和 ChildUserControl.xaml

**父用户控件：**

```
<UserControl x:Class="DemoSilverlight.ParentUserControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Local="clr-namespace:DemoSilverlight"
    mc:Ignorable="d"
    d:DesignHeight="300" d:DesignWidth="400" xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
            Loaded="UserControl_Loaded">

    <Grid x:Name="LayoutRoot" Background="White">
        <sdk:TabControl x:Name="tabControlHeatMapEditor" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" SelectionChanged="tabControlHeatMapEditor_SelectionChanged" Height="510" FontFamily="Verdana" FontSize="12">
            <sdk:TabItem Header="Original Heat Map" x:Name="tabItemOriginalHeatMap">
                <Local:ChildUserControl x:Name="chartControlOriginal"/>
            </sdk:TabItem>
            <sdk:TabItem Header="Revised Heat Map" x:Name="tabItemRevisedHeatMap">
                <Local:ChildUserControl x:Name="chartControlRevised"/>
            </sdk:TabItem>
            <sdk:TabItem Header="Compare Original/Revised" x:Name="tabItemCompareOrgRev">
                <!--<Local:ChildUserControl x:Name="chartControlCompare"/>-->
            </sdk:TabItem>
        </sdk:TabControl>
    </Grid>
</UserControl> 
```

在 ChildUserControl 控件中，我有一个按钮控件。在 ChildUserControl.xaml.cs 的代码隐藏页面中，我想知道使用了 ChildUserControl 的哪个实例，并基于此我想访问 ChildUserControl 中的按钮以使其禁用。

谁能帮我解决这个问题

谢谢和问候， 桑托什·库马尔·帕特罗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T15:37:29.550

在 ChildUserControl 中有一个枚举。根据 TabItem 选择设置枚举属性，并进一步根据您的条件，您可以启用或禁用该按钮。

# awk - 关联数组如何在 awk 中工作？

> ID：15418547
> 
> 赞同：1
> 
> 时间：2013-03-14T19:32:34.340
> 
> 标签：awk

我想根据列从文件中删除重复的行。快速搜索让我[这个页面](http://blog.midnightmonk.com/365/linux/awk-command-to-remove-duplicate-lines-based-on-fields.shtml)有以下解决方案：

```
awk '!x[$1]++' filename 
```

它可以工作，但我不确定它是如何工作的。我知道它使用关联数组，`awk`但我无法推断出它以外的任何东西。

*更新*：

谢谢大家的解释。凭借我的新知识，我写了[一篇博客文章](http://sudarmuthu.com/blog/remove-duplicate-lines-based-on-a-field)，进一步解释了它是如何工作的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:42:57.403

该 awk 脚本`!x[$1]++`填充了一个名为`x`. 假设一行文本中的第一个单词（`$1`指一行文本中的第一个单词）是`line1`。它有效地导致对数组进行此操作：

```
x["line1"]++ 
```

数组的“索引”（键）是文件中遇到的文本（`line1`在本例中），与该键关联的值是一个加 1 的整数。

当遇到唯一的文本行时，数组的当前值为零，然后后递增为 1。`not`运算符`!`对每个新的唯一文本行计算为非零（真）并打印它。下次遇到相同的值时，数组中的值非零，因此`not`运算结果为零（假），因此不打印该行。

写同一件事的一种不太“聪明”的方式（但可能更清晰，更不有趣）是这样的：

```
{
if (x[$1] == 0 ) 
   print
x[$1]++
} 
```

# sql - 基于 T-SQL 中的源表填充列数据

> ID：15418548
> 
> 赞同：2
> 
> 时间：2013-03-14T19:32:36.287
> 
> 标签：sql, tsql, sql-server-2008-r2, unpivot

我不确定我的问题的措辞是否正确，但这里有。

我有一个名为 Contacts 的表，其中包含对 Address、Email、Phone 表的 FK 引用（*这些表与 Contacts 有一对多*）。我需要创建一个查询，该查询将提取所有数据并有一个名为 Contact Method 的列，该列显示该行来自哪个子表。

```
Contact: ID, AddressID, EmailID, PhoneID
Address: ID, Line1, City, State
Email :  ID, EAddress
Phone :  ID, Number, Extension 
```

我需要生成的表如下所示：

```
ContactMethod | ID | [Value1] | [Value2] | [Value3]

Address         2      N5980    Onalaska     WI
Email           8     myEmail@
Phone           5     555-5555    1234 
```

或者，如果这样更简单，它可以连续列出所有组合列，我也可以使用它。IE

```
ContactMethad | ID | Line1 | City | State | ID | EAddress | ID | Number | Extension 
```

我查看了[PIVOT](http://msdn.microsoft.com/en-us/library/ms177410%28SQL.105%29.aspx)，它很简洁，但似乎并不能单独解决我的问题。我需要将它与[COALESCE](http://msdn.microsoft.com/en-us/library/ms190349%28v=sql.105%29.aspx)结合起来吗？

谢谢你的帮助。

* * *

编辑

我在联系人表上的数据如下所示：

```
ID | AddressID | PhoneID | EmailID

1      3           null      null
2     null         null      7
3     null          5        null
4     4            null      null
5     null         6         null 
```

建议的解决方案有效，只是每个 ID 有 3 行。有道理？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T19:47:23.723

您可以使用and子句对数据进行*反透视*以获得结果：`CROSS APPLY``VALUES`

```
select d.ContactMethod, d.id, d.Value1, d.Value2, d.Value3
from contacts c
left join address a
  on c.addressid = a.id
left join email e
  on c.emailid = e.id
left join phone p
  on c.phoneid = p.id
cross apply
(
  values
    ('Address', c.addressid, a.Line1, a.City, a.State),
    ('Email', c.emailid, e.eAddress, '', ''),
    ('Phone', c.phoneid, p.number, cast(p.extension as varchar(10)), '')
) d (ContactMethod, id, Value1, Value2, Value3) 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/cbe50/13)。

这给出了结果：

```
| CONTACTMETHOD | ID |   VALUE1 |   VALUE2 | VALUE3 |
-----------------------------------------------------
|       Address |  2 |    N5980 | Onalaska |     WI |
|         Email |  8 | myEmail@ |          |        |
|         Phone |  5 | 555-5555 |     1234 |        | 
```

如果您想要第二个结果，那么您可以使用多个连接来获得它：

```
select cm.ContactMethod,
  a.id addressid,
  a.line1,
  a.city,
  a.state,
  e.id emailid,  
  e.eaddress,
  p.id phoneid,
  p.number,
  p.extension
from contacts c
cross join
(
  VALUES ('Address'),('Email'),('Phone')
) cm (ContactMethod)
left join address a
  on c.addressid = a.id
  and cm.ContactMethod = 'Address'
left join email e
  on c.emailid = e.id
  and cm.ContactMethod = 'Email'
left join phone p
  on c.phoneid = p.id
  and cm.ContactMethod = 'Phone'; 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/cbe50/26)。结果是：

```
| CONTACTMETHOD | ADDRESSID |  LINE1 |     CITY |  STATE | EMAILID | EADDRESS | PHONEID |   NUMBER | EXTENSION |
----------------------------------------------------------------------------------------------------------------
|       Address |         2 |  N5980 | Onalaska |     WI |  (null) |   (null) |  (null) |   (null) |    (null) |
|         Email |    (null) | (null) |   (null) | (null) |       8 | myEmail@ |  (null) |   (null) |    (null) |
|         Phone |    (null) | (null) |   (null) | (null) |  (null) |   (null) |       5 | 555-5555 |      1234 | 
```

编辑 #1，根据您的更改，您可以将查询更改为以下内容。

第一个包含三`value`列，然后您可以添加一个`WHERE`子句来过滤掉任何`null`值：

```
select c.ID, ContactMethod, Value1, Value2, Value3
from contacts c
left join address a
  on c.addressid = a.id
left join email e
  on c.emailid = e.id
left join phone p
  on c.phoneid = p.id
cross apply
(
  values
    ('Address', c.addressid, a.Line1, a.City, a.State),
    ('Email', c.emailid, e.eAddress, null, null),
    ('Phone', c.phoneid, p.number, cast(p.extension as varchar(10)), null)
) d (ContactMethod, id, Value1, Value2, Value3)
where value1 is not null
  or value2 is not null
  or value3 is not null 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/2aeab/22)。结果是：

```
 ID | CONTACTMETHOD |            VALUE1 |    VALUE2 | VALUE3 |
---------------------------------------------------------------
|  1 |       Address |             N5980 |  Onalaska |     WI |
|  2 |         Email |          myEmail@ |    (null) | (null) |
|  3 |         Phone |          555-5555 |      1234 | (null) |
|  4 |       Address | 1417 Saint Andrew | La Crosse |     WI | 
```

如果您希望结果在一行中，那么您将需要使用该`UNPIVOT`函数：

```
select *
from
(
  select id,
    case col 
      when 'addressid' then 'address'
      when 'emailid' then 'email'
      when 'phoneid' then 'phone' end ContactMethod,
    contact_id
  from contacts
  unpivot
  (
    contact_id
    for col in (addressid, emailid, phoneid)
  ) unpiv
) c
left join address a
  on c.contact_id = a.id
  and c.ContactMethod = 'Address'
left join email e
  on c.contact_id = e.id
  and c.ContactMethod = 'Email'
left join phone p
  on c.contact_id = p.id
  and c.ContactMethod = 'Phone'; 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/2aeab/5)。这个查询的结果是：

```
| ID | CONTACTMETHOD | CONTACT_ID |             LINE1 |      CITY |  STATE | EADDRESS |   NUMBER | EXTENSION |
--------------------------------------------------------------------------------------------------------------
|  1 |       address |          2 |             N5980 |  Onalaska |     WI |   (null) |   (null) |    (null) |
|  2 |         email |          8 |            (null) |    (null) | (null) | myEmail@ |   (null) |    (null) |
|  3 |         phone |          5 |            (null) |    (null) | (null) |   (null) | 555-5555 |      1234 |
|  4 |       address |          3 | 1417 Saint Andrew | La Crosse |     WI |   (null) |   (null) |    (null) | 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:40:53.913

进入第二列布局要容易得多。为此，您只需要加入：

```
SELECT *
FROM dbo.Contact c
JOIN dbo.Address a
ON c.AddressID = a.ID
JOIN dbo. Email e
ON c. EmailID = e.ID
JOIN dbo. Phone p
ON c. PhoneID = p.ID 
```

我刚刚使用了`SELECT *`，但您必须实际列出所有列，因为您不想要所有列。如果您不一定在每个子表中都有一行，则需要使用`LEFT OUTER JOIN`而不是仅`JOIN`.

有关 JOIN 的更多详细信息，请查看本系列：[http ://sqlity.net/en/1146/a-join-a-day-introduction/](http://sqlity.net/en/1146/a-join-a-day-introduction/)

* * *

如果你需要多行，你可以使用这个：

```
SELECT *
FROM dbo.Contact c
CROSS JOIN (VALUES('Address','Email','Phone'))X(ContactMethod)
LEFT JOIN dbo.Address a
ON c.AddressID = a.ID
AND X.ContactMethod = 'Address'
LEFT JOIN dbo. Email e
ON c. EmailID = e.ID
AND X.ContactMethod = 'Email'
LEFT JOIN dbo. Phone p
ON c. PhoneID = p.ID
AND X.ContactMethod = 'Phone' 
```

使用“展开”版本的优点是您不必处理数据类型不兼容问题。

# mysql - 在选定的查询中选择？

> ID：15418549
> 
> 赞同：-4
> 
> 时间：2013-03-14T19:32:38.203
> 
> 标签：mysql, sql

我在 mysql 中有一个带有 account_follow 名称的表。

follower 和 follower 指向用户 ID。

当follower字段指向followed字段表示用户，followed一个具有特定ID的人，当follower指向follower并且followed指向follower时表示follower和follower之间是友谊。我的问题是如何使用此架构选择关注者的朋友（关注者字段），例如我想选择关注者并结交朋友，在查询中是否可行？或者我必须在 php 中解决这个问题（我不应该使用）？

![在此处输入图像描述](../Images/fe21df6cff13b76b4fa9574791f9e6d2.png)

例子 ：

*   1和2是朋友。
*   2 关注 1 但不是朋友。
*   1和3是朋友。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:50:07.723

我希望我正确理解了你的问题......

无论如何，您都可以获得用户 id 的“跟随”的逗号分隔列表。我假设您正在根据用户 ID 进行查询。

```
FollowedList = Convert(varchar(50),replace( 
  (SELECT distinct followed as [data()] 
  FROM account_follow a
  WHERE a.follower = b.user_id
  ORDER BY follower_id for xml path ('') ), ' ', ',') ) 
```

这是一个子查询——因此，您将在主查询中选择 FollowedList，该查询将该表与您的主表连接起来，在此查询中称为“b”。

如果列表将超长，您可能需要将其转换为不仅仅是 varchar(50)。

# c# - 在另一个表单上访问私有函数

> ID：15418560
> 
> 赞同：0
> 
> 时间：2013-03-14T19:33:32.110
> 
> 标签：c#, winforms

我在一个名为`private void QuizReset()`的表单上命名了一个函数`FormMain`，我想知道是否有一种方法可以在一个名为的表单上访问它`Form2`而不会出现构建错误？可能看起来像一个非常简单的问题或我遗漏的东西，但我已经尝试将它从私有更改为公共，并且当我遇到构建错误等时，我一定不能正确地做到这一点。如果可以没有错误地完成，我完全愿意修改它。如果有人可以帮助我，那就太好了。

谢谢你。

该函数的当前代码是：

```
private void QuizReset()
    {
        //resets the difficulty selection control and shows it again upon resetting the quiz
        difficultySelectionControl.Reset();
        difficultySelectionControl.BringToFront();

        btnNext.Enabled = false;
        lblStatus.Text = "Please select a difficulty";

        iCorrectACount = 0;
        iCurrentQIndex = 0;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:38:52.503

如果您想访问该方法，它不能是私有的。`static public`是一个简单的解决方法。然后你可以用`MainForm.LoadQuiz()`. 另一种选择是将逻辑移动到辅助类中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:46:03.357

把他们放在一个公共的普通班级里。然后将 LoadQuiz 函数作为属于该类的私有静态方法。您还可以将 LoadQuiz 设为静态公共，这样既快速又脏。我不建议这样做，因为公开公开方法可能会导致内存和分配问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T20:20:55.503

我认为你不能把这个函数放在普通的静态类中，因为如果我理解正确的话，这个函数使用了 form( `btnNext.Enabled = false;`) 的控件。这意味着该函数只能/必须与`FormMain`类的实例一起使用。

如果要从 调用此函数`Form2`，则`Form2`必须具有 的引用`FormMain`。

我的方法将是下一个：

在 中创建一个变量`Form2`：

```
private FormMain frmMain; 
```

然后创建一个构造函数 `Form2`，我在其中分配了`FormMain`in的引用`Form2`

```
public Form2(FormMain inFrmMain)
{
    this.frmMain = inFrmMain;
} 
```

打开代码`Form2`将是：

```
Form2 frm2 = New Form2(this);
frm2.Show(); 
```

在此之后，您可以从以下位置调用您的`FormMain`函数`Form2`：

```
this.frmMain.QuizReset() 
```

当然，首先将功能更改`QuizReset`为公共

# python - 将单词转换为字符列表

> ID：15418561
> 
> 赞同：7
> 
> 时间：2013-03-14T19:33:38.753
> 
> 标签：python

我可以将一个句子分成单个单词，如下所示：

```
string = 'This is a string, with words!'
string.split(" ")
['This', 'is', 'a', 'string,', 'with', 'words!'] 
```

但我不知道如何将一个单词分成字母：

```
word = "word"
word.split("") 
```

给我一个错误。理想情况下，我希望它返回 ['w','o','r','d'] 这就是拆分参数是“”的原因。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-14T19:35:18.410

```
>>> s = "foobar"
>>> list(s)
['f', 'o', 'o', 'b', 'a', 'r'] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-14T19:42:41.357

在 Python 中，字符串是可迭代的。这意味着它支持特殊协议。

```
>>> s = '123'
>>> i = iter(s)
>>> i
<iterator object at 0x00E82C50>
>>> i.next()
'1'
>>> i.next()
'2'
>>> i.next()
'3'
>>> i.next()

Traceback (most recent call last):
  File "<pyshell#7>", line 1, in <module>
    i.next()
StopIteration 
```

`list`构造函数可以构建任何可迭代的列表。它依赖于这种特殊的方法`next`，从字符串中逐个字母地获取，直到遇到`StopIteration`.

因此，从字符串制作字母列表的最简单方法是将其提供给`list`构造函数：

```
>>> list(s)
['1', '2', '3'] 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-14T19:35:12.403

`list(word)`

你可以把它传给`list`

```
>>> list('word')
['w', 'o', 'r', 'd'] 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-14T19:35:40.913

在python中将其发送到

```
 list(word) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-14T19:35:23.880

您可以像这样遍历字符串中的每个字母：

```
>>> word = "word"
>>> for letter in word:
...     print letter;
...
w
o
r
d
>>> 
```

# mercurial - 在 Mercurial 中查找用于拉、移植、剥离工作流程的尖端的根变更集

> ID：15418564
> 
> 赞同：0
> 
> 时间：2013-03-14T19:33:59.690
> 
> 标签：mercurial

如果我有一个看起来像这样的仓库：

```
A--B--C--D
    \
     E--F--G 
```

如何指定修订版 E？我可以执行类似 -r 'ancestors(D,G)' 的操作来获得 B，但我想要一种合理的方式来指定 E。

另外，让我解释一下我为什么要这样做，以防有更好的工作流程。

在上图中，A--B--C 位于主存储库中。A--B--E--F--G 在我自己的私有分叉存储库中，我需要将 F（并且只有 F）合并到主存储库中。为此，我将我的私人仓库拉入主仓库，然后嫁接 F（创建 D），然后使用 hg 条扩展删除 E--F--G，然后推回主仓库。

目前，我通过打开一个 gui 工具并查看分支的图片并从该工具手动复制粘贴修订版 E 来做到这一点。我不喜欢使用 GUI 工具来实际管理 repo，所以我只是将该修订粘贴到 hg strip 的终端中。这是我仍然需要在 gui 工具中做的唯一事情，我宁愿不必每次都启动它。我想要的是弄清楚如何指定修订版，然后制作一个在该修订版上执行 hg 剥离的 alais

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T08:42:59.870

我认为这`min(descendants(max(ancestor(D,G))) and not ancestors(D))`会得到你想要的。

它找到 D 和 G ( ) 的最新共同祖先`max(ancestor(D,G))`，获取其所有后代，然后排除 D 的祖先。最后，它用于`min()`获取该集合中最老的 E。

在您的示例中，这`max()`并不是真正需要的，但涵盖了您可以在某个时候将主分支合并到您的分支中的机会。您可以删除它以使查询更短。您也可以通过将其`::`用作`ancestors()`和`descendants()`的`!`快捷方式来缩短`not`它`min(ancestor(D,G)::) and !::D)`

我真的不会只是将这个修订集传递给`hg strip`。我会确保它在剥离之前给出你想要的修订。

我会考虑为此工作流程使用[Mercurial Queues扩展。](http://mercurial.selenic.com/wiki/MqExtension)您基本上将 E、F 和 G 保留在补丁队列中，取消应用所有这些，拉取，更新到 C，应用 F 并丢弃 E 和 G。这将是这样的：

```
> hg qpop all
> hg pull -u
> hg qpush --move F
> hg qdelete E
> hg qdelete G 
```

其中 F、E 和 G 是您使用`hg qnew`. 对我来说，这似乎是一个更好的工作流程，并且不涉及使用复杂的 revset 查询删除提交。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-10T20:55:46.520

实际上，我为我的工作流程找到了更好的解决方案，因为我正在使用远程存储库。

我有一个`remote1`that contains`A--B--C`和一个`remote2`that has`A--B--E--F--G`并且我想移植`F`到`remote1`.

这是我想出的工作流程，从`remote1`（`outgoing`用于解决根本问题）的本地克隆开始

```
$ hg pull remote2
$ hg graft F
$ hg push -r tip
$ hg strip -r 'roots(outgoing())' 
```

# api - Twitter API 1.1 不工作？

> ID：15418567
> 
> 赞同：1
> 
> 时间：2013-03-14T19:34:17.413
> 
> 标签：api, twitter

根据 Twitter API 1.1 文档，这应该返回数据：

```
https://api.twitter.com/1.1/users/show.json?screen_name=rsarver 
```

但我不断得到

```
{"errors":[{"message":"Bad Authentication data","code":215}]} 
```

难道我做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T03:34:36.723

正如[Twitter API 1.1 文档](https://dev.twitter.com/docs/api/1.1/get/users/show)所示，您需要通过身份验证才能访问 users/show。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-13T12:28:26.410

```
You can use codebird js library for getting tweets. All you need is to create an app on twitter and note down the following :

1.Consumer Key
2.Consumer Secret Key
3.Access Token
4.Access Token Secret

Download codebird js Library from here : https://github.com/mynetx/codebird-js 

USAGE : 

 var cb = new Codebird;
    cb.setConsumerKey('YOURKEY', 'YOURSECRET');
    cb.setToken('YOURTOKEN', 'YOURTOKENSECRET');

    cb.__call(
    'oauth2_token',
    {},
    function (reply) {
        var bearer_token = reply.access_token;
    }
    );

    cb.__call(
        'search_tweets',
        {
            q : "your query which you want to search",
            from : twitter_user
        },
        function (data) 
        {
             console.log(data);
        },
        true // this parameter required
    ); 
```

# android - 将进度条更改为双

> ID：15418571
> 
> 赞同：2
> 
> 时间：2013-03-14T19:34:32.183
> 
> 标签：android, android-progressbar

进度条：

```
ProgressBar pb = (ProgressBar) findViewById(R.id.progressbar);
pb.setProgress(0);
int k = (int)max;
pb.setMax(k);
int j = (int)(cost);
pb.setProgress(j); 
```

此代码用于仅采用 int 值的进度条我想将代码更改为采用双精度值

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T19:37:47.790

你不能。该`ProgressBar`小部件仅接受`ints`其最大和当前进度。你无法控制最小值，因为它总是如此`0`。

您可以将所需的最大和当前进度值乘以 10 的幂，这样小数就会消失。`ProgressBar`仍将显示与十进制值相同的进度，因为进度是 的比率`currentValue/maxValue`。由于您将两者乘以相同的数字，因此比率相等。例如：

```
0.1/10 = 0.01 
```

但是，如果您将 0.1 和 10 乘以 10 以消除小数点，您会得到：

```
1/100 = 0.01 //Same result 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:39:02.967

它只接受整数值。没有`method`传递双精度值。

```
public synchronized void setProgress (int progress) 
```

看安卓开发者文档。

```
Parameters
progress    the new progress, between 0 and getMax() 
```

# python-2.7 - 我不知道我的 Python 代码有什么问题，我正在尝试一个简单的随机发生器，但它不太工作

> ID：15418574
> 
> 赞同：0
> 
> 时间：2013-03-14T19:34:41.040
> 
> 标签：python-2.7

这是我的代码

```
import time
import attacker
import random

"You sumble of the path and are confronted with "

attaker=random,randint(0,5)

if attacker==1:
    print" Gandalf"
if attaker==2:
    print" Harry Potter"
if attaker==3:
    print" a Smurf"
if attaker==4:
    print" a wierd dude with a sword "
if attaker==5:
    print" a Giant Spider" 
```

语法错误是“Traceback（最近一次调用最后一次）：文件“C：\Users\Nathan\Documents\V1”，第 3 行，在导入攻击者 ImportError：没有名为攻击者的模块”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:39:17.030

`import attacker`顶部假设有一个模块 Attacker.py 或 Attacker.pyc 。由于您使用攻击者来存储数字，我猜没有模块。因此错误。

也`attaker=random,randint(0,5)`应该是`attaker=random.randint(0,5)`。点是调用模块变量或函数的方式。

# asp.net - ASP.NET Request.Form 区分大小写

> ID：15418575
> 
> 赞同：3
> 
> 时间：2013-03-14T19:34:43.163
> 
> 标签：asp.net, case-sensitive, namevaluecollection, request.form

我有一些 C# 代码检索 Request.Form["KeyName"] 的值，但是，提交请求的代码正在传递 keyName=value。这适用于我们的开发/阶段环境，但不适用于生产环境。

这篇文章[是 ASP.NET 中的 Request.Headers["Header-Name"] 区分大小写吗？](https://stackoverflow.com/questions/11616964/is-request-headersheader-name-in-asp-net-case-sensitive)表明预期的行为将是为此工作 b/c NameValueCollection 使用不区分大小写的比较器。服务器之间是否存在可能不同的配置设置？两者都运行 ASP.NET 4.0

# ruby - 为什么在 `Fixnum`、`Bignum`、`Float`、`Symbol` 类对象上不能定义 `singleton` 方法，但 `FalseClass` 和 `TrueClass` 可以定义？

> ID：15418576
> 
> 赞同：4
> 
> 时间：2013-03-14T19:34:45.643
> 
> 标签：ruby, ruby-2.0

为什么`singleton`不能在`Fixnum`, `Bignum`, `Float`,`Symbol`类对象上定义方法，但`FalseClass`可以`TrueClass`有？

```
C:\>ruby -v
ruby 2.0.0p0 (2013-02-24) [i386-mingw32]

C:\>irb --simple-prompt
DL is deprecated, please use Fiddle
11111111111.class
#=> Bignum
class << 11111111111 ; end
#TypeError: can't define singleton
#        from (irb):2
#        from C:/Ruby200/bin/irb:12:in `<main>'

1111.class
#=> Fixnum
class << 1111 ; end
#TypeError: can't define singleton
#       from (irb):4
#       from C:/Ruby200/bin/irb:12:in `<main>'

11.11.class
#=> Float
class << 11.11 ; end
#TypeError: can't define singleton
#       from (irb):6
#       from C:/Ruby200/bin/irb:12:in `<main>'

:name.class
#=> Symbol
class << :name ; end
#TypeError: can't define singleton
#       from (irb):8
#       from C:/Ruby200/bin/irb:12:in `<main>' 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T19:56:46.057

正如[Ruby 文档](http://www.ruby-doc.org/core-1.9.3/Fixnum.html)所说：

> 对于任何给定的整数值，实际上只有一个 Fixnum 对象实例，因此，例如，您不能将单例方法添加到 Fixnum。

对于`Bignum`,`Float`和`Symbol`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:56:30.893

从[文档](http://www.ruby-doc.org/core/Fixnum.html)：

*对于任何给定的整数值，实际上只有一个 Fixnum 对象实例，因此，例如，您不能将单例方法添加到 Fixnum。*

这将适用于其他原始数字类型和符号。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-03T09:53:02.090

[`Singleton`一个类](https://ruby-doc.org/stdlib/libdoc/singleton/rdoc/Singleton.html)的定义特征是：它只有**一个实例**。

*   `FalseClass`:的实例只有一个`false`。
*   `TrueClass`:的实例只有一个`true`。
*   `NilClass`:的实例只有一个`nil`。

这*与*例如`Float`and`Symbol`类不同；这些*不是*单身人士。

*虽然对于给定的值*，这些类只有一个实例是真的：

```
3.14159.object_id #=> 20565057194439538
3.14159.object_id #=> 20565057194439538
3.14159.object_id #=> 20565057194439538
:hello.object_id  #=> 3551708
:hello.object_id  #=> 3551708
:hello.object_id  #=> 3551708 
```

例如，与`String`不具有此属性的类不同：

```
"test".object_id #=> 34347120
"test".object_id #=> 34388680
"test".object_id #=> 22397760 
```

请记住，这*不是*单例的定义。`:foo`并且`:bar`是 的两个*不同*实例`Symbol`。

这就是为什么`singleton`可以在 上定义方法，`TrueClass`但不能在例如 上定义的原因。`FlaseClass``NilClass``Symbol`

# xslt - 我们如何在 XSLT 中实现条件增量

> ID：15418585
> 
> 赞同：1
> 
> 时间：2013-03-14T19:35:00.310
> 
> 标签：xslt

输入：

```
<Order>
  <HeaderValue1>ORDER1</HeaderValue1>
  <OrderLineItems>
    <Item>`A`</Item>
  </OrderLineitems>
  <OrderLineItems>
    <Item>A</Item>
  </OrderLineItems>
  <OrderLineItems>
    <Item>`A`</Item>`
  </OrderLineItems>
  <OrderLineItems>`
    <Item>B</Item>`
  </OrderLineItems>
</Order>
<Order>
  <HeaderValue1>`ORDER2`</HeaderValue1>
  <OrderLineItems>
    <Item>B`</Item>
  </OrderLineItems>
</Order> 
```

对于每个订单，存在多个 orderLineItems。对于每个订单和项目，我们需要分配一个增量值。如果前一个项目值等于当前项目值。不需要增量，只需传递值。否则增量值被分配给项目元素。我需要的输出如下所示。

```
<Order>
  <HeaderValue1>1`</HeaderValue1>
  <OrderLineItems>`
    <Item>2`</Item>
  </OrderLineItems>
  <OrderLineItems>
    <Item>A`</Item>
  </OrderLineItems>
  <OrderLineItems>
    <Item>A`</Item>
  </OrderLineItems>
  <OrderLineItems>
    <Item>3`</Item>
  </OrderLineItems>
</Order>
<Order>
  <HeaderValue1>4</HeaderValue1>
  <OrderLineItems>
    <Item>5</Item>
  </OrderLineItems>
</Order> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T03:10:02.640

**这种转变**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="node()|@*">
  <xsl:param name="pNum" select="0"/>
  <xsl:copy>
   <xsl:apply-templates select="node()[1]|@*">
     <xsl:with-param name="pNum" select="$pNum"/>
   </xsl:apply-templates>
  </xsl:copy>
  <xsl:apply-templates select="following-sibling::node()[1]">
   <xsl:with-param name="pNum" select="$pNum"/>
  </xsl:apply-templates>
 </xsl:template>

 <xsl:template match="HeaderValue1">
  <xsl:param name="pNum" select="0"/>

        <HeaderValue1><xsl:value-of select="$pNum+1"/></HeaderValue1>

      <xsl:apply-templates select="following-sibling::node()[1]">
       <xsl:with-param name="pNum" select="$pNum+1"/>
    </xsl:apply-templates>
 </xsl:template>

 <xsl:template match="OrderLineItems[not(. = preceding-sibling::*[1])]">
  <xsl:param name="pNum" select="0"/>

        <OrderLineItems>
       <xsl:apply-templates select="node()[1]|@*">
         <xsl:with-param name="pNum" select="$pNum+1"/>
       </xsl:apply-templates>
        </OrderLineItems>
      <xsl:apply-templates select="following-sibling::node()[1]">
       <xsl:with-param name="pNum" select="$pNum+1"/>
      </xsl:apply-templates>
 </xsl:template>

 <xsl:template match="Item[not(. = ../preceding-sibling::*[1])]">
  <xsl:param name="pNum" select="0"/>

  <Item><xsl:value-of select="$pNum"/></Item>
 </xsl:template>

 <xsl:template match="Order">
  <xsl:param name="pNum" select="0"/>

  <Order>
   <xsl:apply-templates select="node()[1]|@*">
     <xsl:with-param name="pNum" select="$pNum"/>
   </xsl:apply-templates>
     <xsl:apply-templates select="following-sibling::node()[1]">
       <xsl:with-param name="pNum" select=
       "$pNum +1 + count(OrderLineItems[not(. = preceding-sibling::*[1])])"/>
   </xsl:apply-templates>
  </Order>

 </xsl:template>
</xsl:stylesheet> 
```

**当应用于提供的 XML 文档时（更正为格式正确）：**

```
<t>
    <Order>
        <HeaderValue1>ORDER1</HeaderValue1>
        <OrderLineItems>
            <Item>A</Item>
        </OrderLineItems>
        <OrderLineItems>
            <Item>A</Item>
        </OrderLineItems>
        <OrderLineItems>
            <Item>A</Item>
        </OrderLineItems>
        <OrderLineItems>
            <Item>B</Item>
        </OrderLineItems>
    </Order>
    <Order>
        <HeaderValue1>ORDER2</HeaderValue1>
        <OrderLineItems>
            <Item>B</Item>
        </OrderLineItems>
    </Order>
</t> 
```

**产生想要的正确结果：**

```
<t>
   <Order>
      <HeaderValue1>1</HeaderValue1>
      <OrderLineItems>
         <Item>2</Item>
      </OrderLineItems>
      <OrderLineItems>
         <Item>A</Item>
      </OrderLineItems>
      <OrderLineItems>
         <Item>A</Item>
      </OrderLineItems>
      <OrderLineItems>
         <Item>3</Item>
      </OrderLineItems>
      <Order>
         <HeaderValue1>4</HeaderValue1>
         <OrderLineItems>
            <Item>5</Item>
         </OrderLineItems>
      </Order>
   </Order>
</t> 
```

# c++ - 虚函数错误？

> ID：15418595
> 
> 赞同：0
> 
> 时间：2013-03-14T19:35:15.597
> 
> 标签：c++, compiler-errors

所以我做了这门课：

```
 class Book
    {
        public:
            Book(string newTitle = "???", string newAuthor = "???");
            virtual ~Book();

            string getTitle();
            string getAuthor();
            void setTitle(string  newTitle);
            void setAuthor(string newAuthor);

            virtual string allInfo();

        private:
            string title;
            string author;
    }; 
```

我打算`allInfo()`在另外两个类中介绍 -function 一个叫做`HardcoverBooks`，另一个叫做`AudioBooks`。两者都继承自`Book`.

这是我随后在`.cpp`两个类的文件中所做的，首先是`AudioBook`类：

```
string AudioBook::allInfo(){
    stringstream newString;

    newString<<"Title: "<<this->title<<endl<<"Author: "<<this->author<<endl
             <<"Narrator: "<<this->narrator<<endl
             <<"Length(in minutes):     "<<this->length<<endl<<endl;

    return newString.str();
} 
```

这在`HardcoverBook`课堂上：

```
string HardcoverBook::allInfo(){
    stringstream newString;

    newString<<"Title: "<<this->title<<endl<<"Author: "<<this->author<<endl
             <<"Pages: "<<this->pages<<endl<<endl;

    return newString.str();
} 
```

一切都很好，花花公子，除了`AudioBook`全班抱怨这个：

> include\Book.h||在成员函数'virtual std::string AudioBook::allInfo()'中：| 包括\Book.h|41|错误：'std::string Book::title' 是私有的| mningsuppgiftIIB\src\AudioBook.cpp|27|错误：在此上下文中| 包括\Book.h|42|错误：'std::string Book::author' 是私有的| mningsuppgiftIIB\src\AudioBook.cpp|27|错误：在此上下文中| ||=== 构建完成：4 个错误，0 个警告 ===|

但`HardcoverBook`它根本没有抱怨这一点，这很奇怪。

我的问题：

1.  我该怎么做才能完成这项工作？（即使两个类都能够以`allInfo()`自己的方式使用该功能）

2.  为什么它不能这样工作？

编辑：这是我正在做的一些作业，其中一个要求是使成员变量和属性私有。所以受保护确实有效，为那些家伙表示敬意，但我会添加另一个奖励问题：

1.  如何使其与私有成员变量一起使用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:37:15.913

和`title`成员`author`是`private`。这意味着它们在子类中不可见，例如`AudioBook`.

为了使它们对子类可见，您需要使这些成员`protected`而不是`private`.

另一种选择是将成员字段保留为私有，并添加受保护或公共访问方法以允许读取值。例如：

```
public:
    string getAuthor()
    {
        return author;
    } 
```

我还要评论说，我不明白您为什么要`this->`用来访问班级成员。没有必要这样做，通常最好直接省略它。

* * *

没有看到你的家庭作业，我不能 100% 确定要做什么

> 成员变量和属性是私有的

我的猜测是你的任务是覆盖`allInfo()`. 您被要求扩展`string`返回以包含基类实现包含的所有信息，并添加更多信息。

您当前的尝试只是复制`Book::allInfo()`. 这就是问题所在。为了使其工作，派生类需要访问私有成员。而且你不被允许这样做。因此，您的解决方案必须涉及调用`allInfo()`基类，然后附加到基类实现返回的字符串。

由于这是家庭作业，因此我不会为您执行此操作！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T19:37:32.093

让您的成员`protected`通过派生类访问它们：

```
 protected:
            string title;
            string author; 
```

否则，它们对于派生类是不可见的。

[私人和受保护的成员](https://stackoverflow.com/questions/224966/)：

> **A 类的公共**成员可供所有人访问。
> 
> **类 A 的受保护**成员不能在 A 的代码之外访问，但可以从从 A 派生的任何类的代码中访问。
> 
> **类 A 的私有**成员不能在 A 的代码之外或从 A 派生的任何类的代码中访问。

如果您想离开它们`private`，另一种方法是为它们创建`protected`或`public`访问方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T19:37:59.630

您应该将`private`成员转换为：

```
protected:
    string title;
    string author; 
```

这样子类可以访问它们。

# windows-8 - 如何为 IIS 8 启用 SMTP？

> ID：15418597
> 
> 赞同：21
> 
> 时间：2013-03-14T19:35:23.073
> 
> 标签：windows-8, smtp, iis-8

我找不到在哪里启用`SMTP`on `Windows 8 Pro`。令人惊讶的是，我什至没有在网上找到答案。有没有人弄清楚这一点？

像往常一样，我检查了所有必要`IIS`的组件是否已安装：

![在此处输入图像描述](../Images/f413d9bc80ad0b74c6a91f149604739e.png)

仍然没有 SMTP 配置`inetmgr`：

![在此处输入图像描述](../Images/6030faf7da5e37733af1ee52b8fe81f4.png)

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-14T19:40:19.410

Windows 8 不再允许 SMTP 服务器，只允许 SMTP 服务。您可以转发到具有现有 SMTP 功能的服务器，但它不再充当 IIS 中的服务器。

参考： http: [//www.neatcomponents.com/enable-SMTP-in-Windows-8](http://www.neatcomponents.com/enable-SMTP-in-Windows-8)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-05-13T09:23:00.837

这是一个可能对一些人有所帮助的答案。我刚刚在 Windows 8.1 Pro 上设置了一个开发服务器，其中包含许多我仍然需要支持的传统经典 ASP 站点，我真的不想更改所有邮件代码。

网络上的许多答案告诉您只需安装 IIS6 兼容性，但我相信这仅适用于服务器操作系统 - 它不适用于 Windows 8 Pro。IIS6 管理单元只是说当您尝试连接时未安装 SMTP 服务。

CAVEAT：这仅对开发有用；它允许您继续使用 CDO 取件代码将电子邮件放入取件目录而没有错误，因此您可以查看和调试您的应用程序正在发送的电子邮件，但它实际上不会发送任何内容。

1.  去`Turn Windows features on or off`
2.  打开`Internet Information Services\Web Management Tools\IIS 6 Management Compatibility \IIS Metabase and IIS6 configuration compatibility`
3.  下载并安装`IIS Resource Kit Tools`：[http ://www.microsoft.com/en-us/download/details.aspx?id=17275](http://www.microsoft.com/en-us/download/details.aspx?id=17275)
4.  `Metabase Explorer`以管理员身份运行
5.  右键`LM`，添加新密钥`SmtpSvc`
6.  右键`LM\SmtpSvc`，添加新密钥`1`
7.  右键单击`LM\SmtpSvc\1`，添加新的字符串记录，使用您选择的目录（为了熟悉起见，`PickupDirectory`我刚刚创建了一个）`\inetpub\mailroot\Pickup`
8.  创建您在上面指定的文件夹（如果不存在）
9.  `IIS_IUSRS`添加对刚刚创建的文件夹的修改访问权限
10.  从正常的 IIS 管理器重新启动 IIS

您所有使用旧版 CDO 拾取的代码现在都应该将电子邮件放入该目录中。这是要检查的简单测试页面：

```
<%@ language="JScript" %>
<%
        var mailer = Server.CreateObject('CDO.Message');

        mailer.Configuration.Fields.Item("http://schemas.microsoft.com/cdo/configuration/sendusing") = 1; 
        mailer.Configuration.Fields.Update();

        mailer.From = 'rob@example.com';
        mailer.To = 'rob@example.com';
        mailer.Subject = 'Test';

        mailer.TextBody = 'Blah blah';

        mailer.Send();
%> 
```

如果元数据库设置不起作用，您将收到有关未指定拾取目录的错误，如果您没有正确设置目录权限，则会收到拒绝访问错误，如果它起作用，则什么也没有。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-10-15T00:16:05.250

我知道这是旧的，但问题是 SMTP 设置隐藏在 IIS 6 管理器中，而不是隐藏在您认为它们所在的 IIS 8 管理器中。在服务器管理器仪表板中，选择工具菜单，然后启动 Internet 信息服务 (IIS) 6.0 管理器。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-08-28T08:57:49.410

我在 windows 2012 中遇到了类似的问题。但是 windows 2012 中有一个虚拟 SMTp 服务器可用。

程序是 1\. 我安装了 IIS 管理器。2012 年，我搜索了 IIS。它弹出了 2 个搜索，其中一个是针对 IIS6 的。我选择了那个。在这里您发现您可以配置 SMTP 中继。

如果您有疑问，请写信给我，我会详细解释。

# facebook - 我可以在不同的页面上使用相同的 Facebook 评论框吗？

> ID：15418598
> 
> 赞同：1
> 
> 时间：2013-03-14T19:35:23.550
> 
> 标签：facebook, url, comments, href

我们在新闻网站上使用最新的 HTML5 Facebook 评论插件。在这个网站上，一个新闻故事可以出现/出现在多个新闻部分中，因此即使它是相同的故事也有多个唯一的 url。考虑到这一点，我想知道是否有可能相同的评论框/评论出现在同一个故事的每个唯一网址上。

根据我的研究，大多数人都建议 data-href 属性必须是当前页面的 url。我只是想知道是否可以在每个相同的故事实例/页面上的 data-url 属性中仅插入一个故事的开槽实例的 url，而不是当前正在呈现评论框的当前页面的 url . 如果 data-href 值必须是当前页面的 url，我想知道为什么甚至需要这个属性。FB api 不会只是从 location.href 中提取当前页面 url 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:37:59.320

我不知道最终的答案，但是 Facebook 开发人员文档对 href 参数“href - 此评论插件的 URL。Facebook 上的新闻提要故事将链接到此 URL。”，这似乎表明参数与框的功能关系不大，而与添加评论时 Facebook 将链接到的 URL 关系更大。

我知道我们现在正在研究一种解决方案，该解决方案使用相同的“Like”按钮来表示在主博客页面结果列表上的搜索查询结果的 URL 变体。URL 会根据查询/结果而变化，但相同的“赞”按钮应始终“赞”主博客页面的默认 URL。到目前为止，这似乎奏效了。

您可以尝试并使用调试器工具来查看在使用与页面实际 URL 不同的 href 参数 URL 时是否出现任何错误。

最后一点可能已经说明，谷歌不喜欢具有重复内容的不同 URL。您需要声明一个首选/规范 URL 以避免与 Google 出现问题，并且您可能应该为 Comments href 使用相同的首选 URL。

[http://support.google.com/webmasters/bin/answer.py?hl=en&answer=66359](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=66359)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-24T11:47:15.820

尝试这个：

<div class="fb-comments" expr.href='data:post.url' data-width="600" data-numposts="5" data-colorscheme="light">

笔记：

在 < 和 div 之间的上述行中没有空格。

将此代码粘贴到上面

class='post-footer-line post-footer-line-3

签到：[http ://debaonline4u.blogspot.com](http://debaonline4u.blogspot.com)

# c - C 中的加密安全 PRNG

> ID：15418600
> 
> 赞同：1
> 
> 时间：2013-03-14T19:35:35.647
> 
> 标签：c, cryptography, seed, prng

我正在努力在 C 中生成非常大的随机整数。我发现 /dev/random 是一个很好的来源，但如果熵池耗尽，它会阻塞。/dev/urandom 似乎是下一个 goto，但相比之下随机性的质量并不好。有没有办法可以使用 /dev/random 中的整数来播种 PRNG，这样我就不必继续从 /dev/random 读取？我正在寻找一种加密安全的 PRNG，尽管不是长期的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T19:38:22.073

*使用整数 from`/dev/random`播种 PRNG*正是这样`/dev/urandom`做的。除非您有证据表明 urandom 存在特定弱点，否则您就是在重新发明轮子。

虽然 urandom 确实比 弱`/dev/random`，但您提出的方案以完全相同的方式弱，因此与仅使用 urandom 相比，它没有任何好处。urandom 有一个额外的好处，它可以不断地将新熵混合到生成的数字中，因为新熵可以从底层硬件获得。例如 FreeBSD*只有*一个 urandom 风格的设备。

最后，urandom 已经存在很多年了，并且它的来源已经过安全专家的审查，这不是一个可以自己滚动的替代品。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:45:26.687

如果您只是想要一个大的熵池，您可以做一些基本的事情，例如从嘈杂的数据流（例如繁忙环境的视频或音频）中获取数据块的 SHA1。

那么问题就变成了你想要多少熵，以及多快？因为“大数字”可能意味着从项目的 Gb 随机位到“我需要 100k/sec 的恒定熵流来提供此服务”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T02:01:14.910

如果你有硬件来做就更好了。检查您的 CPU 或任何其他模块是否支持加密随机数生成。/dev/random 和 /dev/urandom 在密码学方面都不安全。您不应将它们用作应用程序中的源。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T19:42:19.063

它可能取决于平台。有些人已经为 /dev/random 使用了加密安全 PRNG。示例：FreeBSD、OpenBSD、OS X。您还可以查看 Yarrow、Fortuna、ISAAC（基于 RC4）。如果您想进行更多研究，这是一个很好的起点：http: [//csrc.nist.gov/groups/ST/toolkit/index.html](http://csrc.nist.gov/groups/ST/toolkit/index.html)

# git - 在存储库 git 之间传输数据

> ID：15418601
> 
> 赞同：0
> 
> 时间：2013-03-14T19:35:39.247
> 
> 标签：git, version-control, repository

也许这看起来有点像一个愚蠢的问题，但是我的一个朋友有两个存储库，他需要将文件从每个存储库中推拉到另一个存储库。有没有办法用 git 做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T23:24:32.227

You cannot push "files", you can only push commits.

You can have a local repository with two remotes defined. Then you can pull from the one repository and push to the other.

But at the end you can only checkout a single commit, i.e. if both repositories are completely unrelated it is probably no good idea.

You should really think about what you want to achieve and why, before thinking about the how.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:39:31.930

如果两个存储库位于同一个系统中，那么它没有任何意义，因为只能使用一个存储库。如果您将其中一个用作远程位置，那么 IDE（NetBeans 或 Eclipse）将提供从这些存储库中拉取或推送到这些存储库的选项。

# php - Laravel 4 Blade 模板上的错误 500

> ID：15418602
> 
> 赞同：0
> 
> 时间：2013-03-14T19:35:40.500
> 
> 标签：php, laravel, laravel-4

我正在使用最新版本的 Laravel 4，每当我尝试加载刀片模板的页面时，我都会收到错误 500。但是，不使用刀片的视图会正确加载。我确保 app/storage 的目录和子目录是服务器可写的，它仍然没有任何区别。我的代码如下：

路线

```
Route::any('/', 'Users@login'); 
```

控制器（users.php）

```
public function login()
{
    return View::make('users.login');
} 
```

查看 (login.blade.php)

```
 {{ 'hello' }} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-13T10:48:57.767

您的代码工作正常。您可能在配置中遇到问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:19:15.153

您确定要将数据传递给视图吗？使用控制器时，您可以使用“with”方法返回带有一些数据的视图

# javascript - XMLHttpRequest Level 2 - 确定上传是否完成

> ID：15418608
> 
> 赞同：21
> 
> 时间：2013-03-14T19:35:53.583
> 
> 标签：javascript, ajax, upload, xmlhttprequest

我正在使用 ajax 进行文件上传。文件上传后，php 应该检查它（mime、大小、病毒（clamscan）等等）——对于较大的文件，这需要几秒钟。当文件上传时，一个 HTML5`<progress>`正在填充，当文件准备好并且 PHP 开始检查时，进度应该切换到不确定。我想到了这样做的方法（两者都*不起作用*）：

**检查 upload.onload 事件**

```
xhr.upload.addEventListener("load", function (e) {
    $("#uploadprogress").attr("value", false);
    $("#uploadprogress").attr("max", false);
    $("#progress").text("Checking file...");
}); 
```

这不起作用，因为`onload`-event 在请求准备好时触发，而不是在上传准备好时触发。

**检查上传进度百分比是否 = 100%**

```
xhr.upload.addEventListener("progress", function (e) {
    if (e.lengthComputable && e) {
        p = (e.loaded / e.total);
        if (p==1) {
            $("#uploadprogress").attr("value", false);
            $("#uploadprogress").attr("max", false);
            $("#progress").text("Checking file...");
        } else {
            var percent = Math.ceil(p * 1000) / 10;
            $("#uploadprogress").val(e.loaded);
            $("#uploadprogress").attr("max", e.total);
            $("#progress").text("Uploading... " + percent + "%");
        }
   }
}
}); 
```

这不起作用，因为上传百分比有时会停止在大约。97%，尽管上传完成并且 PHP 开始处理文件

还有另一种可能性检查吗？

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2013-03-19T03:40:22.137

您要收听的事件`readystatechange`在 XHR 对象上（而不是在 XHR.upload 上）。`readyState`是`4`上传完成发送**并且** *服务器关闭连接的时间*。`loadend`/`load`无论服务器是否关闭连接，上传完成时触发。仅供参考，以下是您可以收听的事件以及它们何时触发：

```
 var xhr = new XMLHttpRequest();

    // ...
    // do stuff with xhr
    // ...

    xhr.upload.addEventListener('loadstart', function(e) {
      // When the request starts.
    });
    xhr.upload.addEventListener('progress', function(e) {
      // While sending and loading data.
    });
    xhr.upload.addEventListener('load', function(e) {
      // When the request has *successfully* completed.
      // Even if the server hasn't responded that it finished.
    });
    xhr.upload.addEventListener('loadend', function(e) {
      // When the request has completed (either in success or failure).
      // Just like 'load', even if the server hasn't 
      // responded that it finished processing the request.
    });
    xhr.upload.addEventListener('error', function(e) {
      // When the request has failed.
    });
    xhr.upload.addEventListener('abort', function(e) {
      // When the request has been aborted. 
      // For instance, by invoking the abort() method.
    });
    xhr.upload.addEventListener('timeout', function(e) {
      // When the author specified timeout has passed 
      // before the request could complete.
    });

    // notice that the event handler is on xhr and not xhr.upload
    xhr.addEventListener('readystatechange', function(e) {
      if( this.readyState === 4 ) {
        // the transfer has completed and the server closed the connection.
      }
    }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-14T17:24:59.240

基于[https://bugzilla.mozilla.org/show_bug.cgi?id=637002](https://bugzilla.mozilla.org/show_bug.cgi?id=637002)。

让我们来看一个完整的工作示例......

```
// YOUR (SIMPLE) JAVASCRIPT FILE
var form = new FormData(), xhr = new XMLHttpRequest();
form.append('inputname', YOURFILE);

xhr.open('POST', 'http://oneserver/onephpfile', true);
xhr.setRequestHeader('X-CSRF-Token', 'somestring');
xhr.onreadystatechange = function () {
    if ((xhr.readyState === 4) && (xhr.status === 200))
        // do other thing with xhr.responseText.trim()
};

xhr.upload.addEventListener('loadstart', showProgressBarFunction, false);
xhr.upload.addEventListener('progress',  updateProgressBarFunction, false);
xhr.upload.addEventListener('load',      updateProgressBarFunction, false);
xhr.send(form);

// YOUR FIRST (SIMPLE) PHP FILE
header('Content-Type: text/plain; charset=utf-8');
header('Cache-Control: no-cache, must-revalidate');

sleep(20);
echo 'file processing ended'; 
```

使用第一个 PHP 文件，您将看到：*10%... 50%... 75%...*使用 Firefox (4/10/28/32) 和 IE (10/11) “做其他事情”。**但是**，我们将看到： 10%... 50%... 75%... 100%...使用 Chrome/Chromium (33/37) 和 Opera (24) *'做其他事情' 。*

```
// YOUR SECOND (SIMPLE) PHP FILE
header('Content-Encoding: chunked', true);
header('Content-Type: text/plain; charset=utf-8');
header('Cache-Control: no-cache, must-revalidate');
ini_set('output_buffering', false);
ini_set('implicit_flush', true);
ob_implicit_flush(true);
for ($i = 0; $i < ob_get_level(); $i++)
    ob_end_clean();
echo ' ';

sleep(20);
echo 'file processing ended'; 
```

使用第二个 PHP 文件，您将看到：*10%... 50%... 75%... 100%...*使用 Chrome/Chromium (33/37/53)、Opera (24 /42)、Firefox (4/10/28/32/45)、IE (10/11) 和 Edge (14)！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-19T00:52:24.607

这是 hTML5 规范的一个相对众所周知的失败，当时他们可以轻松地对其进行扩展以添加诸如 timeRemaining 和 transferSpeed 之类的信息。

您是否考虑过使用`math.round`而不是`math.ceil`for`var percent`以便您在烘烤时有点模糊，这将有助于减少几个 % 的分数？

您还应该为 loadComplete 添加另一个侦听器，如果您的 UI 卡在 <100%，即使它在后端已完成：

```
//only fires once
xhr.addEventListener('loadend', uploadComplete, false);
function uploadComplete(event) {
    console.log('rejoice...for I have completed');
    //do stuff
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T09:08:25.417

检查就绪状态，`if(readyState==4) {//it has finished, put code here}`

# javascript - Javascript不缓存图像

> ID：15418612
> 
> 赞同：0
> 
> 时间：2013-03-14T19:36:08.470
> 
> 标签：javascript, caching

我有一个我在 phototshop 中制作的 gif（一个加载轮），但我发现我使用它的方式（隐藏然后用 css 显示，然后用 javascript 重写）开始时太迟钝了，真的一开始很难跳过。所以我决定在调用它之前缓存图像。所以我就是这样做的：

```
function preloadImages(array) {
    for (var i = 0; i < array.length; i++) {
        var img = new Image();
        img.src = array[i];
        preloadImages.list.push(img);
    } 
}

var imageURLs = [
    "loading.gif"
]; 
```

如果我没记错的话，哪个应该起作用。但以防万一我也尝试过：

```
loading = new Image(60,60)
loading.src = "images/loading.gif" 
```

我从教程中提取的。现在，当我实现这个（当前是第一个）然后稍后正常调用图像时，它似乎运行得更快，我可以在我的缓存中看到它。然而，作为持怀疑态度的人，我决定放入一个我从未在 HTML 中使用过的图像，看看它是否被缓存（因为它应该被缓存），然后永远不会调用它。所以这是我的新JS：

```
function preloadImages(array) {
    for (var i = 0; i < array.length; i++) {
        var img = new Image();
        img.src = array[i];
        preloadImages.list.push(img);
    } 
}

var imageURLs = [
    "loading.gif",
    "today.gif"
]; 
```

请注意，我现在添加了`today.gif`，如果我对缓存的理解是正确的，那么即使我从未在“原始”HTML 中调用它，该图像现在也应该被缓存，对吗？好吧，它不是。这让我想知道加载 gif 是否被缓存，或者我的浏览器是否只是决定合作一下。有任何想法吗？这是使用第二个 JavaScript 片段重新清除后重新加载缓存的样子：

![缓存](../Images/6089da0e736baf866fa91cd35e2af357.png)

所以这里的问题是：它是否工作，即使缓存说它不是？我在想象事情吗？我这样做是否正确/我对本地缓存的理解是否正确？如果没有，有人可以向我解释我哪里出错了吗？干杯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:58:08.780

您定义的函数需要一个数组作为参数。

试试`preloadImages(["images/loading.gif", "images/today.gif"]);`。目前，您缺少右引号并且没有传递数组，而是两个单独的字符串作为参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:58:01.793

你做错了——

在 for 循环中创建图像对象时，请在闭包函数中执行此操作，否则前一个对象将被最后一个对象覆盖，其本质是异步的 -

```
(function(i){
var img = new Image();
img.src= array[i];}(i)) 
```

此外，您创建一个列表并将对象推送到它是完全没用的！

# android - 显示和拖动位于其他视图之上的视图

> ID：15418619
> 
> 赞同：0
> 
> 时间：2013-03-14T19:36:31.970
> 
> 标签：android, drag-and-drop, android-custom-view

我需要显示视图，该视图也可以拖动到屏幕上所需的位置。这个视图可以作为叠加层拖动到其他视图的顶部。如何实现这一点。我的布局可能如下所示

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:orientation="vertical">

<ImageView 
    android:id="@+id/image1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
 />
<ImageView 
    android:id="@+id/image2"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
/>

<org.example.MyCustomDrabaleView
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
 /> 
```

实际上，我正在尝试构建一个示例库项目，开发人员可以在其中使用我的 MyCustomDrabaleView 视图并在他们的视图上拖动。我对如何获取 MyCustomDrabaleView 的触摸事件感到震惊，这样当它被拖动时，我可以将其视图更新为新的位置。

# ios - QLPreviewController 显示一个 PDF 文件，但活动视图显示为空白。未列出任何应用

> ID：15418621
> 
> 赞同：1
> 
> 时间：2013-03-14T19:36:36.020
> 
> 标签：ios, objective-c, pdf, qlpreviewcontroller, uiactivityviewcontroller

我有一个下载 pdf 文件的应用程序，然后我使用 QLPreviewController 显示该文件。点击顶部栏中的“分享”按钮会打开一个空的活动视图。它应该包含“打印”、“在 iBooks 中打开”等。

截图：http: [//imgur.com/WgWG2Ai](http://imgur.com/WgWG2Ai)

如果我通过 XCode 运行我的应用程序，一切正常，但如果我创建一个 AdHoc 构建，我会得到屏幕截图中显示的空菜单。下面是我的代码：

```
- (void) DisplayFileWorker: (const wchar_t*) fileName
{
    iOSClient_AppDelegate *appDelegate = [[UIApplication sharedApplication] delegate];

    QLPreviewController *previewController = [[QLPreviewController alloc]init];
    previewController.delegate = appDelegate.serverViewController;
    previewController.dataSource = appDelegate.serverViewController;
    previewController.currentPreviewItemIndex = 0;

    NSString* filePath = [[NSString alloc] initWithBytes: (const void*)fileName
                                              length: wcslen(fileName) * sizeof(*fileName)
                                            encoding: NSUTF32LittleEndianStringEncoding];

    appDelegate.serverViewController.previewFile = filePath;

    [appDelegate.serverViewController presentModalViewController:previewController animated:YES];

    [previewController release]; 
} 
```

我尝试将文件复制到其他地方，更改文件的权限，将 pdf 文件添加到资源中，我总是得到相同的空白菜单。有任何想法吗？

# java - JavaFX 2 WebView：如何增强滚动条

> ID：15418628
> 
> 赞同：3
> 
> 时间：2013-03-14T19:36:51.543
> 
> 标签：java, webkit, javafx-2

我已经使用 JavaFX WebView 实现了一个日志查看器。

然而，对于该 Log-Viewer 的用户来说，存在一个大问题：webviewer 的滚动条非常细。我什至遇到了一个问题（在 Windows 7 / XP 上，奇怪的是在 Windows 8 上没有），当单击滚动滑块时，它会“跳”走，并且捕捉该滑块并不总是那么容易，有时滚动不起作用。

我花了一些精力和研究，发现我可以用 CSS 更改滚动条。但是，我遇到了一些问题，即自动滚动不再起作用，或者我有一些“涂抹”效果并且滚动条没有正确绘制。

也许有人已经找到了解决该问题的另一种方法——我将在下面介绍我的解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:37:48.453

我的解决方案使用 CSS 来更改 webkit 滚动条。有关介绍，请参阅 [CSS 技巧](http://css-tricks.com/examples/WebKitScrollbars/) 。

有几点需要考虑：

第一：`position: absolute;`在 javascript 中使用滚动时 - like`window.scrollTo`将不再起作用。

第二： 的`background-color`属性`scrollbar-track`是强制性的。当被忽略（并且不使用绝对定位）时，滚动条的重绘功能不再起作用。这似乎是 webkit 中的一个错误。

```
 body {
        /* hide the horizontal scrollbar */
        overflow-x: hidden;
    }
    /* make the scrollbar a little wider */
    ::-webkit-scrollbar {
        width: 16px;
    }
    ::-webkit-scrollbar-track  {
        background-color: white;
    }
    /* the slider or "thumb" has some rounded edges and a shadow and it's a little translucent */
    ::-webkit-scrollbar-thumb {
        border-radius: 6px;
        box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
        background: rgba(159,216,239,0.8);
    }
    /* I don't like the scrollbar to be so tiny on large documents - hence I set a minimum height */
    ::-webkit-scrollbar-thumb:vertical {
        min-height: 100px;
    }
    /* Use a more translucent slider when the window is inactive */
    ::-webkit-scrollbar-thumb:window-inactive {
        background: rgba(159,216,239,0.2); 
    } 
```

在`<style>`标签中使用此 CSS 时，滚动条使用的 HTML 内容`WebEngine`是新的闪亮的蓝色和更宽的滚动条。这也解决了Win7/XP上滚动条“跳开”的问题。

要更改水平滚动条 - 必须提供 in 的 height 属性，`webkit-scrollbar`并且可以提供`min-width`in 的属性`...-scrollbar-thumb:vertical`。

# verilog - Verilog 中的案例陈述

> ID：15418636
> 
> 赞同：3
> 
> 时间：2013-03-14T19:37:10.517
> 
> 标签：verilog, asic

我遇到了优先级编码器设计，并发现了一种使用案例语句的新方法。唯一令人困惑的是，案例陈述是否优先考虑案例？例子：

```
case(1'b1)                                
  A[3]: Y<=4'b1000;             
  A[2]: Y<=4'b0100;  
  A[1]: Y<=4'b0010;  
  A[0]: Y<=4'b0001;  
  default:Y<=4'b0000;
endcase 
```

* * *

在这里，如果我`A`按原样`1111` `Y`给出，`1000`即它优先考虑第一个 case 语句。为什么会这样？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-14T20:07:09.477

我会将其重构为：

```
casez(A)                                
  4'b1???: Y<=4'b1000;             
  4'b01??: Y<=4'b0100;  
  4'b001?: Y<=4'b0010;  
  4'b0001: Y<=4'b0001;  
  default: Y<=4'b0000;
endcase 
```

那么就不用担心优先级了，每场比赛都是独一无二的。

来自 IEEE Std 1800-2009（IEEE SYSTEMVERILOG 标准）

> **12.5.2 case 语句中**
> 的常量表达式 case_expression 可以使用常量表达式。常量表达式的值应与 case_item_expressions 进行比较。
> 
> 以下示例通过对 3 位优先级编码器建模来演示用法：

```
logic [2:0] encode ;

case (1)
  encode[2] : $display("Select Line 2") ;
  encode[1] : $display("Select Line 1") ;
  encode[0] : $display("Select Line 0") ;
  default $display("Error: One of the bits expected ON");
endcase 
```

> **12.5.3 unique-case、unique0-case 和priority-case**
> case、casez 和casex 关键字可以由priority、unique 或unique0 关键字限定以执行某些违规检查。这些统称为优先案例、独特案例或独特案例。优先案例仅对第一个匹配项起作用。Unique-case 和 unique0-case 断言没有重叠的 case_items，因此并行评估 case_items 是安全的。
> 
> ...

```
priority casez(a) // values 4,5,6,7 cause a violation report 
  3’b00?: $display("0 or 1");
  3’b0??: $display("2 or 3");
endcase 
```

我不确定综合工具对优先案例陈述的支持程度如何。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-14T20:15:32.633

是的，有一个优先级，基于顺序。根据 Verilog-2001 规范，第 9.5 节：

> *案例项目表达式*应按照给出的确切顺序进行评估和比较。在线性搜索期间，如果其中一个`case`项表达式与括号中给出的 case 表达式匹配，则应执行与该 case 项关联的语句。

# ios - NSManagedObject；保留或加载到自定义 NSObject？

> ID：15418644
> 
> 赞同：4
> 
> 时间：2013-03-14T19:37:24.210
> 
> 标签：ios, objective-c, core-data, nsmanagedobject

我正在使用 Core Data 来存储对象。我有一个`NSManagedObject`人和一个`NSObject`人。它们都具有相同的属性。有`NSObject`一些方法。

现在，我在 Core Data 中搜索 Bob。然后我拿那个`NSManagedObject`Bob 并将所有属性复制到`NSObject`Bob 并用它做我需要的事情。

这有意义还是我应该创建所需的方法`NSManagedObject`？a`NSManagedObject`可以和 a 一样对待`NSObject`吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-14T19:57:25.447

一种鼓励的方法是构建一个 NSManagedObject 子类的类别并在该类别中实现您的自定义方法。这样，如果您的架构更改并且您的类别保持不变且不受影响，您可以通过 Xcode 重新创建您的 NSManagedObject 子类。

参考：例如 Paul Hegarty's / Stanfords 关于核心数据的 iOS 课程

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T21:38:50.673

是的，您可以`NSManagedObject`像使用常规对象一样使用它——它不仅用于数据存储访问，还旨在直接用作您的模型对象。像这样在不同类的实例之间来回复制数据是一项没有任何好处的额外工作。

由于您要添加自定义代码，我**强烈**建议您使用[mogenerator](https://github.com/rentzsch/mogenerator)生成`NSManagedObject`子类。如果/当您需要更改模型时，它将使您的自定义代码保持在适当的位置变得容易得多。

# asp.net - 我如何将图像仅放在一个页面中不可见

> ID：15418649
> 
> 赞同：0
> 
> 时间：2013-03-14T19:37:34.370
> 
> 标签：asp.net, html

嗨，我正在尝试将图像放在不可见但仅在一页上。这些图像是我的母版页的一部分。所以我想当我在那个页面上时我可以使用图像 id 将其设置为 false，但是当我在课堂上时我看不到 id。就像它不存在一样。我在 VB 中做一个 Asp.net 项目。

这是我的横幅的 Html 代码：

```
 <img alt="" src="pharmacy-banner.jpg" 
                            style="width: 80%; height: 175px; margin-left: 0px" align="middle" 
                            id="Picture" /> 
```

目前我在 Vb.net 中没有任何代码，我在这里尝试过：

```
Picture.Visible= False 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:39:35.873

您需要添加`runat="server"`：

```
<img alt=""  runat="server"
   src="pharmacy-banner.jpg" 
   style="width: 80%; height: 175px; margin-left: 0px" align="middle" 
   id="Picture" /> 
```

然后您将能够在后面的代码中访问它，将其设置为隐藏在您想要的页面中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T21:21:53.313

在特定页面上，在包含图像的容器上添加一个特定的类，我们可以在样式中添加 display:none; 或可见性：隐藏；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:46:32.647

您只能在内容页面中添加以下 CSS：

```
#Picture {
     display: none;
} 
```

您必须`ContentPlaceholder`在母版页中有一个 inside 标记。

```
 <asp:ContentPlaceHolder ID="Head" runat="server">
 </asp:ContentPlaceHolder> 
```

然后，在内容页面中引用此占位符并添加 CSS 样式：

```
<asp:Content ID="Content_Head" ContentPlaceHolderID="Head" runat="server">
    <style type="text/css">
          #Picture {
            display: none;
          }
    </style>
</asp:Content> 
```

# python - 在 python 中泄漏“Thread-n”字符串

> ID：15418650
> 
> 赞同：2
> 
> 时间：2013-03-14T19:37:36.163
> 
> 标签：python

我正在尝试在基于 python 2.4 ThreadingUnixStreamServer 的应用程序中调试内存泄漏。看来我在对服务器的每个请求都泄漏了内存。尝试调试它，我使用 gc 模块计算连续调用“句柄”之间的对象数，并收到相同的数字。但是，当我检查字符串的数量时，我注意到它在请求之间增加了。当我区分调用之间的字符串列表时，我注意到我创建了一个新字符串“Thread-n”（其中“n”是一个运行数字，例如“Thread-3”、“Thread-4”等） . 我认为这与服务器为每个请求生成一个具有新名称的新线程这一事实有关，但我不清楚为什么没有从内存中清除旧名称。我检查并看到并发线程的数量没有增加，所以看起来好像我没有泄漏实际线程。知道如何找到对这些字符串的引用，或者对可能导致此泄漏的原因有任何猜测，或者我如何进行调查？

谢谢。

# angularjs - 在 Angular 指令中使用“&”范围变量

> ID：15418652
> 
> 赞同：2
> 
> 时间：2013-03-14T19:37:43.007
> 
> 标签：angularjs, angularjs-directive

来自 Angular[文档](http://docs.angularjs.org/guide/directive)：

> & 或 &attr - 提供一种在父作用域的上下文中执行表达式的方法。如果未指定 attr 名称，则假定属性名称与本地名称相同。给定范围的小部件定义：{ localFn:'&myAttr'}，则隔离范围属性 localFn 将指向 count = count + value 表达式的函数包装器。

这给我的印象是这样的事情应该是可能的，但它不起作用。我究竟做错了什么？

```
myApp.directive('test', function () {
return {
    restrict: 'E',
    replace: true,
    template: '<div><input type="button" ng-click="thefunc()" value="{{title}}"/></div>',
    scope: {
        title: '@',
        thefunc: '&'
    }
};}); 
```

HTML：

```
<test thefunc="alert('Here you go.')" title="Click me for a popup"/> 
```

[小提琴](http://jsfiddle.net/3CxtZ/3/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:43:40.267

Angular 正在寻找控制器范围内的“警报”——

```
$scope.alert = function(){..} 
```

而不是 window.alert

这是一个更新的版本：

[http://jsfiddle.net/3CxtZ/4/](http://jsfiddle.net/3CxtZ/4/)

# c# - 保存特定的计时器滴答声

> ID：15418655
> 
> 赞同：0
> 
> 时间：2013-03-14T19:37:48.083
> 
> 标签：c#, winforms, timer

我正在 Winforms (c#) 中创建一个游戏，并且我制作了一个计时器来跟踪正在进行的时间，并且当游戏停止时计时器停止。但是我没有成功保存计时器在游戏停止时显示的时间并将其发布。

这就是我建立定时器功能的方式。

```
private Timer timers;
public event EventHandler Tick;

StartGame()
{
  ...
  timers = new Timer();
  timers.Interval = 1000;
  timers.Tick += new EventHandler(TimerTick);
  timers.Enabled = true;
}

private void TimerTick(object sender, EventArgs e) 
{
  Time++;
  OnTick();
}

protected void OnTick() 
{
   if (Tick != null) 
   {
      Tick(this, new EventArgs());
   }     
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:49:49.750

不要使用计时器来测量时间 - 计时器永远不会准确，它们应该用于触发事件，仅此而已。尤其是`System.Windows.Forms.Timer`在 GUI 线程中运行并且可能被其他消息阻止的那些。

根据您的问题，您想要跟踪游戏时间。这是我的做法：

```
private Stopwatch _sw = new Stopwatch();

public void StartOrResumeGame() {
    _sw.Start();
}
public void StopOrPauseGame() {
    _sw.Stop();
    _gameTimeMessage = String.Format("You have been playing for {0} seconds.", _sw.TotalSeconds);
} 
```

# asp.net - StructureMap.Start 和 Application_Start 之间的延迟

> ID：15418657
> 
> 赞同：0
> 
> 时间：2013-03-14T19:37:51.453
> 
> 标签：asp.net, asp.net-mvc

有一个相当大的 ASP.NET 和经典的 asp 站点，它的首页需要很长时间。约 45 秒。我在我的管道中添加了一些 AOP 日志记录（可怜的 mans 分析），并发现我的 structuremap.start 和 application_start 之间存在很大差距

```
 AOP Writes
    Time          What                                      Elapsed
    15:29:24.7537 RiPS.DependencyResolution.IoC.Initialize: 0.209 S
    15:29:24.7747 RiPS.DependencyResolution.StructureMapDependencyScope..ctor: 0 S
    15:29:24.7747 RiPS.DependencyResolution.StructureMapDependencyResolver..ctor: 0 S
    15:29:24.8407 RiPS.DependencyResolution.StructureMapDependencyScope..ctor: 0 S
    15:29:24.8407 RiPS.DependencyResolution.StructureMapDependencyResolver..ctor: 0 S
    15:29:24.8487 RiPS.App_Start.StructuremapMvc.Start: 0.308 S
    *15:29:24.8487* RiPS.App_Start.CustomErrorHander.PreStart: 0 S
    *15:29:42.0499* RiPS.MvcApplication..cctor: 0.001 S
    15:29:42.0499 RiPS.MvcApplication..cctor: 0.004 S
    15:29:42.0569 RiPS.MvcApplication..ctor: 0.002 S
    15:29:42.0569 RiPS.MvcApplication..ctor: 0.005 S
    15:29:43.2311 RipsMVC.Areas.Admin.AdminAreaRegistration..ctor: 0 S
    15:29:43.2311 RipsMVC.Areas.Admin.AdminAreaRegistration.get_AreaName: 0 S

    Manual Writes

    *15:29:24.8487* End Of StructureMapMVC.Start
    *15:29:42.0499* Beginning of MvcApplication ctor
    15:29:42.0569 Beginning of Application_Start
    15:29:46.4005 Beginning of MvcApplication ctor
    15:30:08.6163 Beginning of MvcApplication ctor 
```

我在注意的两个文件中放入了一些手动 nLog 日志记录

我的 Global.asax.cs

```
public class MvcApplication : System.Web.HttpApplication
{
    public MvcApplication()
    {
        LogManager.GetCurrentClassLogger().Trace("Beginning of MvcApplication ctor");
    }        
    protected void Application_Start()
    {
        LogManager.GetCurrentClassLogger().Trace("Beginning of Application_Start"); 
```

和结构图

```
 public static class StructuremapMvc {
    public static void Start() {
        IContainer container = IoC.Initialize();
        DependencyResolver.SetResolver(new StructureMapDependencyResolver(container));
        GlobalConfiguration.Configuration.DependencyResolver = new StructureMapDependencyResolver(container);
        LogManager.GetCurrentClassLogger().Trace("End Of StructureMapMVC.Start");
    }
} 
```

我不知道这两个时间点之间是否发生了什么。但它总是超过 15 秒。

我不知道我有多冗长，所以我欢迎任何关于更多信息的请求。

附加信息 ---> 发生错误启动 ASP.NET 站点进行开发，我按 F5 等待构建完成，然后必须数到 5 秒，否则我会收到此错误

```
=== Pre-bind state information ===
LOG: User = COBALT-PC\Mark
LOG: DisplayName = Ionic.Zip
 (Partial)
WRN: Partial binding information was supplied for an assembly:
WRN: Assembly Name: Ionic.Zip | Domain ID: 3
WRN: A partial bind occurs when only part of the assembly display name is provided.
WRN: This might result in the binder loading an incorrect assembly.
WRN: It is recommended to provide a fully specified textual identity for the assembly,
WRN: that consists of the simple name, version, culture, and public key token.
WRN: See whitepaper http://go.microsoft.com/fwlink/?LinkId=109270 for more information and common solutions to this issue.
LOG: Appbase = file:///C:/Users/Mark/Source/Repos/RiPS/RiPS/
LOG: Initial PrivatePath = C:\Users\Mark\Source\Repos\RiPS\RiPS\bin
Calling assembly : (Unknown).
===
LOG: This bind starts in default load context.
LOG: Using application configuration file: C:\Users\Mark\Source\Repos\RiPS\RiPS\web.config
LOG: Using host configuration file: C:\Users\Mark\Documents\IISExpress\config\aspnet.config
LOG: Using machine configuration file from C:\Windows\Microsoft.NET\Framework\v4.0.30319\config\machine.config.
LOG: Policy not being applied to reference at this time (private, custom, partial, or location-based assembly bind).
LOG: Attempting download of new URL file:///C:/Users/Mark/AppData/Local/Temp/Temporary ASP.NET Files/root/53450db4/7d786924/Ionic.Zip.DLL.
LOG: Attempting download of new URL file:///C:/Users/Mark/AppData/Local/Temp/Temporary ASP.NET Files/root/53450db4/7d786924/Ionic.Zip/Ionic.Zip.DLL.
LOG: Attempting download of new URL file:///C:/Users/Mark/Source/Repos/RiPS/RiPS/bin/Ionic.Zip.DLL.
LOG: Using application configuration file: C:\Users\Mark\Source\Repos\RiPS\RiPS\web.config
LOG: Using host configuration file: C:\Users\Mark\Documents\IISExpress\config\aspnet.config
LOG: Using machine configuration file from C:\Windows\Microsoft.NET\Framework\v4.0.30319\config\machine.config.
LOG: Post-policy reference: Ionic.Zip, Version=1.9.1.8, Culture=neutral, PublicKeyToken=edbe51ad942a3f5c
ERR: Failed to complete setup of assembly (hr = 0x800700b7). Probing terminated. 
```

如果我确实等待，无论我加载哪个页面，都需要 30 秒才能到达首页。第二次加载速度很快。

它并不总是 Ionic.Zip，解决方案中的任何文件都可能引发错误。

有时也会出现以下错误

```
Description: An error occurred during the compilation of a resource required to service this request. Please review the following specific error details and modify your source code appropriately.
Compiler Error Message: CS1566: Error reading resource file 'c:\Users\Mark\AppData\Local\Temp\Temporary ASP.NET Files\root\8321fd63\20cbf3d0\ResX\resources.gridlocalization.nl-nl.resources' -- 'The system cannot find the path specified. ' 
```

# pythonpath - 有两个 python 路径

> ID：15418663
> 
> 赞同：0
> 
> 时间：2013-03-14T19:38:07.287
> 
> 标签：pythonpath

跑步时

> python -c "从 distutils.sysconfig 导入 get_python_lib; print(get_python_lib())"

我看到这个库是：

> /usr/local/lib/python2.6/site-packages

但

在安装一些软件时，它将python包放在：

> /usr/lib64/python2.6/site-packages/

当运行上面的 python 代码检查每个“python”文件的版本时，当我在 shell 上按“Tab”时，我看到的每个“python”文件都给出了相同的 python 路径。

我还尝试将 python 路径设置为第二个 - 它没有帮助。我用了：

> 导出 PYTHONPATH=/usr/lib64/python2.6/site-packages/

对于要在第二个中安装的软件包有什么好的解释吗？如果对上一个问题没有好的解决方案，有什么方法可以定义 python 来查看其他路径（所以它会同时搜索包）？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:42:56.623

您可以尝试将两个路径都添加到 sys.path

[http://docs.python.org/2/library/sys.html#sys.path](http://docs.python.org/2/library/sys.html#sys.path)

# javascript - Vimeo API 无法处理多个视频

> ID：15418669
> 
> 赞同：3
> 
> 时间：2013-03-14T19:38:35.563
> 
> 标签：javascript, api, vimeo, froogaloop

我在使用 Vimeo API 处理多个视频时遇到了一些问题。我正在使用的代码暂停

```
<audio id="audio-player" autoplay="autoplay" loop>
<source src="music/peanutbutter.mp3" type="audio/mpeg">
</audio> 
```

从播放，但它只适用于第一个视频 iframe。如果我单击第 2 个、第 3 个或第 4 个 vimeo iframe 上的播放按钮，不幸的是它不会暂停页面上的音频。这可能是一个简单的修复，但我想弄清楚这一点我会发疯。谢谢！

```
<script src="http://a.vimeocdn.com/js/froogaloop2.min.js"></script> 

<script type="text/javascript">
$(function(){

var vimeoPlayer = document.querySelector('iframe');

$f(vimeoPlayer).addEvent('ready', ready);

function ready(player_id) {

    froogaloop = $f(player_id);

    function setupEventListeners() {
        function onPlay() {
            froogaloop.addEvent('play',
            function(){
                $("#audio-player")[0].pause();
                $("#header-button-sound-play").hide();
                $("#header-button-sound-pause").show();
            });
        }

        onPlay();

    }
    setupEventListeners();
}

}) 
</script>

<div id="dwf-trailer" class="content"><iframe id="player_1" src="http://player.vimeo.com/video/35740045?api=1&player_id=player_1" width="745" height="393" frameborder="0"></iframe></div>

<div id="inkpaper-watch" class="content"><iframe id="player_2" src="http://player.vimeo.com/video/33359230?api=1&player_id=player_2" width="745" height="393" frameborder="0"></iframe></div>

<div id="ramon-watch" class="content"><iframe id="player_3" src="http://player.vimeo.com/video/44427351?api=1&player_id=player_3" width="745" height="393" frameborder="0"></iframe></div>

<div id="thatsunday-watch" class="content"><iframe id="player_4" src="http://player.vimeo.com/video/46602515?api=1&player_id=player_4" width="745" height="393" frameborder="0"></iframe></div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T20:36:17.007

没关系！弄清楚了。

替换这段代码

```
$f(vimeoPlayer).addEvent('ready', ready); 
```

有了这个

```
jQuery('iframe').each(function(){
            Froogaloop(this).addEvent('ready', ready);
}); 
```

解决了问题！所以工作的javascript代码是

```
<script type="text/javascript">
$(function(){

jQuery('iframe').each(function(){
            Froogaloop(this).addEvent('ready', ready);
});

function ready(player_id) {

    froogaloop = $f(player_id);

    function setupEventListeners() {
        function onPlay() {
            froogaloop.addEvent('play',
            function(){
                $("#audio-player")[0].pause();
                $("#header-button-sound-play").hide();
                $("#header-button-sound-pause").show();
            });
        }

        onPlay();

    }
    setupEventListeners();
}

}) 
</script> 
```

感谢 [http://labs.funkhausdesign.com/examples/vimeo/froogaloop2-api-basics.html](http://labs.funkhausdesign.com/examples/vimeo/froogaloop2-api-basics.html)

寻求帮助！

# wpf - 从子用户控件绑定的 MVVM 主窗口控件

> ID：15418671
> 
> 赞同：2
> 
> 时间：2013-03-14T19:38:41.400
> 
> 标签：wpf, mvvm, binding, viewmodel

我对 MVVM 很陌生，现在完成了我的第一个 POC。但是，我一直在努力解决一个问题 2 天。考虑向你们解释可能会帮助并很快解决问题。现在让我简要介绍一下我的问题。我有一个绑定到 MainViewModel 的主视图的 WPF MVVM 应用程序。我在这里有 Textblock 以在加载屏幕时绑定来自视图模型的一些内容，这非常棒。我也将 ChildUserControl 绑定到 ChildViewModel。现在，我需要将不同的内容绑定到主窗口中的文本块，从用户控制开始，在用户控制级别发生的某些操作上。怎么可能？

这是我有 MainWindow.Xaml 的示例代码

```
<Window.Resources>
    <viewModel:MainViewModel x:Key="mainWindowViewModel"/></Window.Resources>

<TextBlock Name="txtStatus" Text="{Binding StatusMessage, Mode=OneWay }"/> 
```

ChildUserControl.xaml

```
<UserControl.Resources>
    <viewModel:ChildModelView x:Key="ChildModelView"/> </UserControl.Resources>

public class ChildModelView : BaseViewModel
{
// Some child level logic..
// then need to update the txtStatus text block from parent
} 
```

非常感谢您的帮助..！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-14T19:50:21.823

实现此目的的一种简单方法是使用 IoC。创建子视图模型时，将主视图模型的引用传递给子视图模型，并将其作为私有只读变量保存。您现在可以访问所有主要的 VM publics 。

另一种解决方案可能是使用中介者模式。

敲出一个简单的 App 来演示 IoC 解决方案。

应用程序.xaml.cs

```
public partial class App : Application
{
    protected override void OnStartup(StartupEventArgs e)
    {
        base.OnStartup(e);

        var window = new MainWindow() {DataContext = new MainWindowViewModel() };
        window.Show();
    }
} 
```

MainWindowViewModel.cs

```
public class MainWindowViewModel : ViewModelBase
{
    private string _statusMessage;

    public string StatusMessage
    {
        get { return _statusMessage; }
        set { _statusMessage = value; this.OnPropertyChanged("StatusMessage"); }
    }

    public ICommand OpenChildCommand { get; private set; }

    public MainWindowViewModel()
    {
        this.StatusMessage = "No status";
        this.OpenChildCommand = new DelegateCommand((o) => this.OpenChild());
    }

    private void OpenChild()
    {
        var window = new ChildWindow {DataContext = new ChildWindowViewModel(this)};
        window.Show();
    }
} 
```

ChildWindowViewModel.cs

```
public class ChildWindowViewModel : ViewModelBase
{
    private readonly MainWindowViewModel _mainvm;

    public ChildWindowViewModel(MainWindowViewModel mainvm)
    {
        _mainvm = mainvm;
        this.UpdateStatusCommand = new DelegateCommand((o) => this.UpdateStatus());
    }

    public ICommand UpdateStatusCommand { get; private set; }

    private void UpdateStatus()
    {
        this._mainvm.StatusMessage = "New Status";
    }
} 
```

ViewModelBase.cs

```
public abstract class ViewModelBase : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;

    protected void OnPropertyChanged(string propertyName)
    {
        this.OnPropertyChanged(new PropertyChangedEventArgs(propertyName));
    }

    protected virtual void OnPropertyChanged(PropertyChangedEventArgs e)
    {
        var handler = this.PropertyChanged;
        if (handler != null)
        {
            handler(this, e);
        }
    }
} 
```

委托命令.cs

```
public class DelegateCommand : ICommand
{
    /// <summary>
    /// Action to be performed when this command is executed
    /// </summary>
    private Action<object> executionAction;

    /// <summary>
    /// Predicate to determine if the command is valid for execution
    /// </summary>
    private Predicate<object> canExecutePredicate;

    /// <summary>
    /// Initializes a new instance of the DelegateCommand class.
    /// The command will always be valid for execution.
    /// </summary>
    /// <param name="execute">The delegate to call on execution</param>
    public DelegateCommand(Action<object> execute)
        : this(execute, null)
    {
    }

    /// <summary>
    /// Initializes a new instance of the DelegateCommand class.
    /// </summary>
    /// <param name="execute">The delegate to call on execution</param>
    /// <param name="canExecute">The predicate to determine if command is valid for execution</param>
    public DelegateCommand(Action<object> execute, Predicate<object> canExecute)
    {
        if (execute == null)
        {
            throw new ArgumentNullException("execute");
        }

        this.executionAction = execute;
        this.canExecutePredicate = canExecute;
    }

    /// <summary>
    /// Raised when CanExecute is changed
    /// </summary>
    public event EventHandler CanExecuteChanged
    {
        add { CommandManager.RequerySuggested += value; }
        remove { CommandManager.RequerySuggested -= value; }
    }

    /// <summary>
    /// Executes the delegate backing this DelegateCommand
    /// </summary>
    /// <param name="parameter">parameter to pass to predicate</param>
    /// <returns>True if command is valid for execution</returns>
    public bool CanExecute(object parameter)
    {
        return this.canExecutePredicate == null ? true : this.canExecutePredicate(parameter);
    }

    /// <summary>
    /// Executes the delegate backing this DelegateCommand
    /// </summary>
    /// <param name="parameter">parameter to pass to delegate</param>
    /// <exception cref="InvalidOperationException">Thrown if CanExecute returns false</exception>
    public void Execute(object parameter)
    {
        if (!this.CanExecute(parameter))
        {
            throw new InvalidOperationException("The command is not valid for execution, check the CanExecute method before attempting to execute.");
        }
        this.executionAction(parameter);
    }
} 
```

主窗口.xaml

```
<Window x:Class="WpfApplication2.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MainWindow" Height="350" Width="525">
<StackPanel>
    <TextBlock Text="{Binding StatusMessage, Mode=OneWay}" />
    <Button HorizontalAlignment="Center" VerticalAlignment="Center" Content="Open Child Window" 
            Command="{Binding Path=OpenChildCommand}"/>
</StackPanel> 
```

ChildWindow.xaml

```
<Window x:Class="WpfApplication2.ChildWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="ChildWindow" Height="300" Width="300">
<Grid>
    <Button HorizontalAlignment="Center" VerticalAlignment="Center" Content="UpdateStatus"
            Command="{Binding Path=UpdateStatusCommand}" />
</Grid> 
```

单击更新状态之前的图像

![前](../Images/d98c89b9fbec1c3dd501b283e78fef59.png)

点击updatestatus后的图片

![在此处输入图像描述](../Images/c113ef7db8273b2c071398aef03b4b8b.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:56:13.110

我可能在这里误解了您的需求，但听起来您在 MainWindow 中有一个 TextBlock，需要更新它以响应发生在 ChildWindow 中以及由 ChildWindow 提供的数据的某些事情。假设这就是你想要做的，那么我认为你可以通过几种不同的方式来做到这一点。特别是，您可以使用附加事件。

[http://msdn.microsoft.com/en-us/library/bb613550.aspx](http://msdn.microsoft.com/en-us/library/bb613550.aspx)

技术解释有点冗长，所以我将把它留给 MSDN 来做，但简短的解释只是它只是一个将从您的子窗口引发并由您的 MainWindow 处理的事件。这里的好处是它将作为 DataContext 传入您的 ChildWindowViewModel。

# c# - 将数组元素与整数进行比较

> ID：15418672
> 
> 赞同：0
> 
> 时间：2013-03-14T19:38:41.433
> 
> 标签：c#

我有一个列表，我想将动态整数与数组的元素进行比较。我该怎么做？

我有一个作为 findcolnumber 的列表，其元素是：1,8,9,10,11，它们是动态生成的。我生成另一个整数行数。如果 rowcount 的值等于单个值 1、8、9、10、11 中的任何一个，那么只有它应该进入 for 循环。

列表 findcolnumber 是动态生成的。还 findcolnumber [我应该在这个括号内保留什么]。

```
if(findcolnumber[] == rowcount) {
    proceed
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:46:14.230

试试这个：

您将必须包含此命名空间

```
using System.Linq; 
```

然后你可以这样做：

```
if(findcolnumber.Contains(rowcount))
{
    //your logic
} 
```

其中rowcount是一些整数，即

```
int rowcount = getDynamicIntegar(); 
```

findcolnumber 是：

```
int[] findcolnumber = {1,8,9,10,11}; 
```

linq`.Contains`返回布尔值，如果您的动态整数将存在于整数数组中，.Contains 将返回`true`否则`false`

`.Contains` `extension`，如果您懒得看，也将为您提供`List<int>`。

同样的方式你可以比较任何`List`或`Collection`实现`IEnumerable`接口

您只能将集合的基本数据类型传递给`.Contains`

即如果findcolnumber是`List<int>`那么

你可以`findcolnumber.Contains(integralValueOrVariable)`

如果 findcolnumber 是`List<string>`那么

你可以`findcolnumber.Contains(stringValueOrVariable)`

# c# - Metro 中的在线应用程序

> ID：15418682
> 
> 赞同：0
> 
> 时间：2013-03-14T19:39:05.253
> 
> 标签：c#, microsoft-metro, windows-store-apps, c#-5.0

我想制作一个从 Windows 8 Metro 网站获取数据的应用程序，我已经在那里有几个离线应用程序，但我真的不知道从哪里开始以及学习在线应用程序要了解什么。我应该学习 WCF 或 ASP.Net 还是其他东西？我知道这不适用于 Metro，但我只想学习从应用程序中使用服务器的最佳方式。

我的编程语言是 C#。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T00:32:06.050

WCF 太过分了，而且无论如何都在淘汰 - SOAP 已死，REST 长存！

无论如何，根据您想与之交谈的网络服务，您可以使用预先编写的客户端或编写您自己的客户端。如果它是一个 RESTful 服务，那么您可以使用 轻松编写您自己的客户端`HttpWebRequest`，如果它是一个 SOAP/WCF 服务，那么您可能想要使用 VS 的客户端代理生成器来为您省去痛苦。

...是的，所有这一切都适用于 Metro（或者更确切地说，Tifkam），因为您可以在纯 C# 中使用这些类型的应用程序可用的类来完成它。

# c# - C# ASP.NET MVC 从配置文件访问 SMTP 设置

> ID：15418684
> 
> 赞同：4
> 
> 时间：2013-03-14T19:39:08.713
> 
> 标签：c#, asp.net-mvc, email

我似乎被困住了。我有一个 asp.net mvc 4 应用程序，我想从服务类发送电子邮件。服务类位于与解决方案中的 mvc 项目不同的 C# 库项目中。我想在从配置文件调用的单独文件中设置电子邮件配置。以下应该进入mvc项目的web.config还是在服务项目中创建一个app.config文件？

```
<system.net>
    <mailSettings>
       <smtp configSource="MailSettings.config" />
    </mailSettings>
</system.net> 
```

然后我将它放在一个名为 MailSettings.config 的单独文件中：

```
<smtp from="abc@email.com">
   <network host="smtp.server.com" port="587" userName="abc@email.com" password="password" enableSsl="true" />
</smtp> 
```

我尝试为服务项目创建一个仅包含 system.net 内容的 app.config 文件，但是当我尝试时邮件设置始终为空：

```
MailSettingsSectionGroup settings = (MailSettingsSectionGroup)ConfigurationManager.GetSection("system.net/mailSettings");
SmtpClient SmtpServer = new SmtpClient(settings.Smtp.Network.Host); //get null exception for settings.Smtp.Network.Host) 
```

此外，我尝试在 app.config 文件中包含邮件设置，以排除 MailSettings.config 文件存在问题并且仍会生成空指针。

我尝试了一个从 web.config 文件访问它的示例，如下所示：

```
Configuration configurationFile = WebConfigurationManager.OpenWebConfiguration(Request.ApplicationPath);
MailSettingsSectionGroup mailSettings = configurationFile.GetSectionGroup("system.net/mailSettings") as MailSettingsSectionGroup; 
```

在服务类中，虽然`WebConfigurationManager`是脱离上下文的，但`Request.ApplicationPath`. 因此，如果我必须从 web.config 文件中获取它，我是否必须将 http 请求对象传递给服务类？这似乎是个坏主意。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-14T19:40:53.870

只需使用：

```
SmtpClient SmtpServer = new SmtpClient(); 
```

此构造函数将直接选择配置。

[正如无参数构造函数`SmtpClient`](http://msdn.microsoft.com/en-us/library/k1c4h6e2.aspx)的 MSDN 文档所说：

> 此构造函数使用应用程序或机器配置文件中的设置初始化新 SmtpClient 的 Host、Credentials 和 Port 属性。有关详细信息，请参阅[`<mailSettings>`元素（网络设置）](http://msdn.microsoft.com/en-us/library/w355a94k.aspx)。

# sql - 使用另一个表中的数据的 SQL 更新列

> ID：15418685
> 
> 赞同：3
> 
> 时间：2013-03-14T19:39:12.363
> 
> 标签：sql, oracle10g

我在下面有 2 张桌子

```
DEVICES
--------------------
DEVICE_ID   MODEL_ID
1           A
2           B
3           C
4           D

CHANGE_VALUES
----------------------------------------
D_ID    CHANGE_MODEL_ID
1           E
4           F 
```

现在我想更新table 中列出的所有值`MODEL_ID`的值table 。`DEVICES``DEVICE_ID``D_ID``CHANGE_VALUES`

我用来实现目标的 SQL 查询如下所示。但是，这似乎不是一个好的解决方案，因为对于 的每个值`DEVICE_ID`，都需要执行 2 个子查询。在包含 ~ 3k 行的 CHANGE_VALUES 上运行它花了我 34 秒，这似乎很长。

```
UPDATE devices dev
SET dev.model_id =
   (SELECT c_value.change_model_id
    FROM change_values c_value
    WHERE dev.device_id = c_value.d_id
   )
WHERE 1        IN
  (SELECT COUNT(*)
  FROM change_values c_value
  WHERE dev.device_id = c_value.d_id
  ); 
```

由于我是 SQL 新手，我不知道是否有任何现有的方法可以做同样的事情。所以我很想知道是否有更好的解决方案。

注意：我使用的是 Oracle 10g

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:52:00.290

你最大的问题是你`COUNT(*)`为每一行发出一个`devices`- 这不是你真正需要做的；你会想要一个`EXISTS`子句。以下应该适用于任何 RDBMS：

```
UPDATE Devices d SET model_id = (SELECT c.change_model_id
                                 FROM Change_Values c
                                 WHERE c.d_id = d.device_id)
WHERE EXISTS (SELECT *
              FROM Change_Values c
              WHERE c.d_id = d.device_id); 
```

显然，这是假设您在`Devices.device_id`. 一开`Change_Values.d_id`也可以加快速度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:31:28.203

```
update devices a set model_id=(select change_model_id from change_values b where b.d_id=a.device_id) 
where device_id in (select d_id from change_values) 
```

# java - 从没有 ArrayList 的函数返回两个对象

> ID：15418689
> 
> 赞同：-1
> 
> 时间：2013-03-14T19:39:20.637
> 
> 标签：java, loops, for-loop

我不知道如何正确表达这个词，但有人告诉我要编写一个返回最大课程对象（学生最多的课程）的方法。如果有两个课程的学生人数相同，它将返回两者。

`ArrayList`问题的第二部分是困扰我的问题，因为除了他指定的（已经使用过的）之外，我不允许制作另一个。有没有办法在不使用列表/散列的情况下跟踪两个以上的对象？

这是我到目前为止所做的，但它只返回一个课程对象。

```
public Course largestEnrollment(){
    int size = 0;
    Course p = null;
    for (Integer c : courseList.keySet()){
        if (courseList.get(c).getClassList().size() > size){
            p = courseList.get(c);
            size = courseList.get(c).getClassList().size();
        }
        return p;            
    }
    return null;        
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:41:20.347

返回一个对象数组`Course`：

```
public Course[] largestEnrollment(){ 
```

您需要决定如何在`for`循环中操作数组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:44:05.947

`ArrayList`根据大小排序。然后您可以返回最大课程的[子列表](http://docs.oracle.com/javase/7/docs/api/java/util/List.html#subList%28int,%20int%29)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T19:46:53.207

如果你没有这么多`Course`（例如<1k），你可以为你的对象实现`Comparable`或编写一个。这样您就可以从地图中获取集合中的所有值（课程），然后对集合进行排序，仅从排序集合的末尾获取具有相同值（大小）的那些元素。`Comparator``Course`

我提到了集合的大小，因为排序将`O(n)`问题转化为`O(nlogn)`. 但如果尺寸小，这是一种方便的方式。

无论如何，您必须将方法返回类型更改为集合或数组。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-14T20:52:40.840

排序然后返回一个子列表：

```
public List<Course> largestEnrollment(List<Course> courses) {
    Collections.sort(courses, new Comparator<Course>() {
        @Override
        public int compare(Course o1, Course o2) {
            return o1.getClassList().size() - o2.getClassList().size();
        }
    });
    for (int indexOfLargest = 1; indexOfLargest < courses.size(); indexOfLargest ++) {
        if (courses.get(indexOfLargest - 1).getClassList().size() > courses.get(indexOfLargest).getClassList().size())
            return courses.subList(0, indexOfLargest);
    }
    return courses;
} 
```

# .net - 从 CodeBase 加载的 .NET 程序集在哪里？

> ID：15418691
> 
> 赞同：1
> 
> 时间：2013-03-14T19:39:23.817
> 
> 标签：.net, assemblies, .net-assembly, dynamic-assemblies, external-assemblies

我正在使用应用程序配置中的 < codebase > 元素从外部位置加载 dll。我想知道程序集在哪里实例化？

我让 <codebase> 指向我的本地驱动器（在 appbase 之外）以及一个网络共享驱动器，并运行 fuslogvw 和进程监视器以​​查看发生了什么。但我无法说出引擎盖下到底发生了什么。

下面的链接解释了它转到特定于用户的应用程序缓存。 [http://msdn.microsoft.com/en-us/magazine/cc164080.aspx](http://msdn.microsoft.com/en-us/magazine/cc164080.aspx)

下面的链接解释了它进入一个特殊的 GAC 缓存。 [http://www.developer.am/c-net-platform/?page=understanding-the-codebase-element](http://www.developer.am/c-net-platform/?page=understanding-the-codebase-element)

总的来说，我理解它，因为它应该被加载到某个缓存位置，但我无法确认。请帮忙。我想知道加载和存储 ddl 的确切位置。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T15:42:25.157

CLR 会自动下载文件并将其存储在用户下载缓存的**[WinRoot]\Documents and Settings\UserName\Local Settings\Application Data\Assembly**
下的子目录中。 将来引用时，CLR 将从该目录加载程序集，而不是访问 URL。

# javascript - 事件 - 为什么上下文以两种不同的方式存储？

> ID：15418695
> 
> 赞同：0
> 
> 时间：2013-03-14T19:39:33.450
> 
> 标签：javascript, backbone.js

我正在查看[主干的来源](http://backbonejs.org/backbone.js)，事件部分，并且在大多数情况下它是有意义的，除了上下文存储两次的行。

在一种情况下，它获取传递给的值`on()`。在第二个实例中，它获取传递的值，但如果没有传递，它获取当前上下文 - `this`。

```
on: function(name, callback, context) {
  if (!(eventsApi(this, 'on', name, [callback, context]) && callback)) return this;
  this._events || (this._events = {});
  var list = this._events[name] || (this._events[name] = []);
  list.push({callback: callback, context: context, ctx: context || this}); // here
  return this;
}, 
```

令人困惑的一件事是，有时`this._events[name]`会保存到局部变量`list`（开和关），有时会保存到局部变量`effects`（触发器）。

**每个的明确用途**

*   `.ctx`用于`triggerEvents()`.
*   `.context`用于`off()`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T20:08:14.290

`ctx`用作`this`触发事件时回调函数内部的值。例如，在`initialize`视图的方法中，您可以这样做：

```
this.model.on('change', this.render, this); // where 'this' is the view 
```

然后在 render 方法中，当该事件被触发时，`this`将是视图。

`context`用于使 的某些用法`off`可以工作，为您提供更多方法来选择性地删除事件回调。例如，如果您想删除上面示例中添加到模型中的回调，您可以这样做：

```
this.model.off(null, null, this); // where 'this' is the view from above 
```

这将删除添加到视图作为上下文传递的模型的任何事件处理程序。

该行不会删除添加的事件，例如：

```
this.model.on('change', this.foo, bar);  // context is bar 
```

如果您连接到多个事件并希望一次将它们全部删除，而不删除任何使用不同上下文添加的回调，这可能会很有用。但是，既然 Events 有`listenTo`，使用它可能更容易，因为视图可以只调用`stopListening`.

之所以`context`和`ctx`是分开存储的，是因为它们可以是不同的值。 `context`始终是传递给的第三个值`on`，它可以为 null 或未定义，while`ctx`是该值（如果可用）或`this`.

# c# - 我应该处置只读 FileStream

> ID：15418700
> 
> 赞同：1
> 
> 时间：2013-03-14T19:39:48.237
> 
> 标签：c#, .net

我有一个只读的 FileStream，它是一个方法局部变量：

```
public void SomeMethod()
{
   var fileStream = File.Open(fileName, FileMode.Open, FileAccess.Read, FileShare.ReadWrite));
   ... //some stream operations
} 
```

我应该在方法结束时调用 Dispose（显式还是通过“使用”）？它会改变什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:42:00.623

它的作用无关紧要，`IDisposable`由 实现`FileStream`，因此您需要`Dispose`在使用完它后隐式或显式调用。它是在代码中使用类的合同的一部分。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-14T19:41:51.767

我认为最好将其包含在`using`声明中。如果您真的希望代码健壮，您还需要异常处理。它会像现在一样工作，这只是不好的做法。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-14T19:42:04.080

处理任何实例实现是必须的，并且通过语句`IDisposable`来处理它是一种良好的做法。`using`

不要认为特别分析每个案例会有帮助。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-14T19:45:44.180

如果您未能处理，则`FileStream`在 GC 启动（非确定性）之前不会关闭。

在这种情况发生之前，您将持有一个打开的文件句柄，阻止对文件的某些类型的访问（例如写入、删除）。

请注意，指定`FileShare.ReadWrite`不一定有帮助 - 如果另一个作者尝试使用`FileShare.None`（例如通过调用`File.OpenWrite`）打开文件，他将无法这样做，直到您关闭文件。

所以，是的，请关闭文件，并`using`声明。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-14T19:45:27.017

如果一个对象可以被释放，你应该在你不再需要它的时候就释放它。来自[FileStream 类](http://msdn.microsoft.com/en-us/library/system.io.filestream.aspx)主题：

> 如果一个进程以文件的一部分被锁定而终止或关闭一个具有未完成锁定的文件，则行为是未定义的。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-14T19:46:16.173

正如大家所建议的那样：处理每个`IDisposable`，最好与`using`.

现在对于文件，当您真的想阻止其他人访问/修改文件时，可能会有特殊情况。在这种情况下，您仍然会在某个时间点处理文件，但是这个“某个时间点”可能会在代码/应用程序生命周期的后期显着增加。

# sencha-touch-2 - 生产版本找不到视图

> ID：15418701
> 
> 赞同：0
> 
> 时间：2013-03-14T19:39:51.013
> 
> 标签：sencha-touch-2

我使用的是 Sencha Touch 2.1.1 版和 CMD 3.0.2.288 版。

我正在将工作的 2.0 应用程序转换为 2.1。

当我构建应用程序并运行它时，我收到指示无法加载视图的错误。当我在错误指示的路径中查看构建文件夹时，视图不存在。

这是错误：

```
http://localhost:8888/Mobile/build/a...24263186Failed to load resource: the server responded with a status of 404 (Not Found) 
```

该应用程序在构建之前可以在 Safari 中完美运行。有没有人有任何想法？

编译的输出如下

```
Sencha Cmd v3.0.2.288
[INF]       
[INF]       init-properties:
[INF]       
[INF]       init-sencha-command:
[INF]       
[INF]       init:
[INF]       
[INF]       -before-app-build:
[INF]       
[INF]       app-build-impl:
[INF]       
[INF]       production:
[INF]       
[INF]       -before-init-local:
[INF]       
[INF]       -init-local:
[INF]       
[INF]       -after-init-local:
[INF]       
[INF]       init-local:
[INF]       
[INF]       find-cmd:
[INF]       
[INF]       -before-init:
[INF]       
[INF]       -init:
[INF]       
[INF]       -after-init:
[INF]       
[INF]       init:
[INF]       
[INF]       -before-build:
[INF]       
[INF]       sass:
[INF]       
[INF]       page:
[INF]       
[INF]       -before-page:
[INF]       
[INF]       -page:
[INF]       building application
[INF]       Deploying your application to /Applications/MAMP/htdocs/Mobile/build/app/production
[INF]       Copied /Applications/MAMP/htdocs/Mobile/./app.js to /Applications/MAMP/htdocs/Mobile/build/app/production/app.js
[INF]       Copied /Applications/MAMP/htdocs/Mobile/./resources/css/app.css to /Applications/MAMP/htdocs/Mobile/build/app/production/resources/css/app.css
[INF]       Copied /Applications/MAMP/htdocs/Mobile/./resources/images
[INF]       Copied /Applications/MAMP/htdocs/Mobile/./resources/icons
[INF]       Copied /Applications/MAMP/htdocs/Mobile/./resources/loading
[INF]       Copied /Applications/MAMP/htdocs/Mobile/./resources/data
[INF]       Resolving your application dependencies (file:////Applications/MAMP/htdocs/Mobile/./index.html)
[INF]       Compiling app.js and dependencies
[INF]       Processing classPath entry : /Applications/MAMP/htdocs/Mobile/sencha-compile-temp-dir
[INF]       Processing classPath entry : /Applications/MAMP/htdocs/Mobile/touch/src
[INF]       Processing classPath entry : /Applications/MAMP/htdocs/Mobile/app.js
[INF]       Processing classPath entry : /Applications/MAMP/htdocs/Mobile/app
[INF]       Processing class inheritance graph
[INF]       Processing instantiation refereces to classes and aliases
[INF]       Processing source dependencies
[INF]       Concatenating output to file /Applications/MAMP/htdocs/Mobile/build/app/production/app.js
[INF]       Completed compilation.
[INF]       Processed remote file touch/sencha-touch.js
[INF]       Processed local file app.js
[INF]       Minified app.js
[INF]       Generated delta for: app.js from hash: '0cf2d66c793df3275db06ce3c88737d55b92c0ac' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Generated delta for: app.js from hash: '3defd723a308dffa24d79abe9b36efaea9b7fa2c' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Generated delta for: app.js from hash: '68b15cd8c4470cae367618d56d2221f750fe94c5' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Generated delta for: app.js from hash: '7abfe02aa5647b33770d8584330c838c7228e6a3' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Generated delta for: app.js from hash: '955de9ce50a676d272e4b81984164be49b347f01' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Generated delta for: app.js from hash: 'bb51ed6de771efa962e01e67807e488d760b63a0' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Generated delta for: app.js from hash: 'ce841c66ba0f08125ef8a850960c4b0366ef061f' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Generated delta for: app.js from hash: 'd09ff9bd2f3c719c21fe44c3a7d6a2f3690bc816' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Generated delta for: app.js from hash: 'fbb192007fd273dd08359e426311be7688656b2a' to hash: '166f3da44e90c243ec58c2be30af4149922d4f2d'
[INF]       Minified resources/css/app.css
[INF]       Generated app.json
[INF]       Embedded microloader into index.html
[INF]       Generating appcache
[INF]       Generating checksum for appCache item: index.html
[INF]       Generating checksum for appCache item: resources/css/app.css
[INF]       Generating checksum for appCache item: resources/data/data.json
[INF]       Generating checksum for appCache item: resources/images/Billing.png
[INF]       Generating checksum for appCache item: resources/images/Billing@2x.png
[INF]       Generating checksum for appCache item: resources/images/Biochem.png
[INF]       Generating checksum for appCache item: resources/images/Biochem@2x.png
[INF]       Generating checksum for appCache item: resources/images/Contact.png
[INF]       Generating checksum for appCache item: resources/images/Contact@2x.png
[INF]       Generating checksum for appCache item: resources/images/Cyto.png
[INF]       Generating checksum for appCache item: resources/images/Cyto@2x.png
[INF]       Generating checksum for appCache item: resources/images/Disclosure.png
[INF]       Generating checksum for appCache item: resources/images/Disclosure@2x.png
[INF]       Generating checksum for appCache item: resources/images/FAQ.png
[INF]       Generating checksum for appCache item: resources/images/FAQ@2x.png
[INF]       Generating checksum for appCache item: resources/images/Feedback.png
[INF]       Generating checksum for appCache item: resources/images/Feedback@2x.png
[INF]       Generating checksum for appCache item: resources/images/IntegratedTesting.png
[INF]       Generating checksum for appCache item: resources/images/IntegratedTesting@2x.png
[INF]       Generating checksum for appCache item: resources/images/Molecular.png
[INF]       Generating checksum for appCache item: resources/images/Molecular@2x.png
[INF]       Generating checksum for appCache item: resources/images/S.png
[INF]       Generating checksum for appCache item: resources/images/S@2x.png
[INF]       Generating checksum for appCache item: resources/images/TestMenu.png
[INF]       Generating checksum for appCache item: resources/images/TestMenu@2x.png
[INF]       Generating checksum for appCache item: resources/loading/Default-LandscapeLeft~ipad.png
[INF]       Generating checksum for appCache item: resources/loading/Default-LandscapeRight~ipad.png
[INF]       Generating checksum for appCache item: resources/loading/Default-Landscape~ipad.png
[INF]       Generating checksum for appCache item: resources/loading/Default-PortraitUpsideDown~ipad.png
[INF]       Generating checksum for appCache item: resources/loading/Default-Portrait~ipad.png
[INF]       Generating checksum for appCache item: resources/loading/Default.png
[INF]       Generating checksum for appCache item: resources/loading/Default@2x.png
[INF]       Generating checksum for appCache item: resources/loading/Default~ipad.png
[INF]       Generating checksum for appCache item: resources/loading/Homescreen.jpg
[INF]       Generating checksum for appCache item: resources/loading/Homescreen~ipad.jpg
[INF]       Successfully deployed your application to /Applications/MAMP/htdocs/Mobile/build/app/production
[INF]       
[INF]       -after-page:
[INF]       
[INF]       run:
[INF]       
[INF]       -build:
[INF]       
[INF]       -after-build:
[INF]       
[INF]       build:
[INF]       
[INF]       -after-app-build:
[INF]       
[INF]       app-build: 
```

这是我的 app.json：

```
{
    /**
     * The application's namespace, used by Sencha Command to generate classes
     */
    "name": "App",

    /**
     * List of all JavaScript assets in the right execution order.
     * Each item is an object with the following format:
     *      {
     *          "path": "path/to/script.js" // Relative path to this app.json file
     *          "update": "delta"           // (Optional)
     *                                      //  - If not specified, this file will only be loaded once, and
     *                                      //    cached inside localStorage until this value is changed.
     *                                      //  - "delta" to enable over-the-air delta update for this file
     *                                      //  - "full" means full update will be made when this file changes
     *
     *      }
     */
    "js": [
        {
            "path": "touch/sencha-touch.js"
        },
        {
            "path": "app.js",
            "update": "delta"
        }
    ],

    /**
     * List of all CSS assets in the right inclusion order.
     * Each item is an object with the following format:
     *      {
     *          "path": "path/to/item.css" // Relative path to this app.json file
     *          "update": "delta"          // (Optional)
     *                                     //  - If not specified, this file will only be loaded once, and
     *                                     //    cached inside localStorage until this value is changed to either one below
     *                                     //  - "delta" to enable over-the-air delta update for this file
     *                                     //  - "full" means full update will be made when this file changes
     *
     *      }
     */
    "css": [
        {
            "path": "resources/css/app.css",
            "update": "delta"
        }
    ],

    /**
     * Used to automatically generate cache.manifest (HTML 5 application cache manifest) file when you build
     */
    "appCache": {
        /**
         * List of items in the CACHE MANIFEST section
         */
        "cache": [
            "index.html",
            "resources/css/app.css",
            "resources/data/data.json",
            "resources/images/Billing.png",
            "resources/images/Billing@2x.png",
            "resources/images/Biochem.png",
            "resources/images/Biochem@2x.png",
            "resources/images/Contact.png",
            "resources/images/Contact@2x.png",
            "resources/images/Cyto.png",
            "resources/images/Cyto@2x.png",
            "resources/images/Disclosure.png",
            "resources/images/Disclosure@2x.png",
            "resources/images/FAQ.png",
            "resources/images/FAQ@2x.png",
            "resources/images/Feedback.png",
            "resources/images/Feedback@2x.png",
            "resources/images/IntegratedTesting.png",
            "resources/images/IntegratedTesting@2x.png",
            "resources/images/Molecular.png",
            "resources/images/Molecular@2x.png",
            "resources/images/S.png",
            "resources/images/S@2x.png",
            "resources/images/TestMenu.png",
            "resources/images/TestMenu@2x.png",
            "resources/loading/Default-LandscapeLeft~ipad.png",
            "resources/loading/Default-LandscapeRight~ipad.png",
            "resources/loading/Default-Landscape~ipad.png",
            "resources/loading/Default-PortraitUpsideDown~ipad.png",
            "resources/loading/Default-Portrait~ipad.png",
            "resources/loading/Default.png",
            "resources/loading/Default@2x.png",
            "resources/loading/Default~ipad.png",
            "resources/loading/Homescreen.jpg",
            "resources/loading/Homescreen~ipad.jpg"
            //"touch/sencha-touch.js",

        ],
        /**
         * List of items in the NETWORK section
         */
        "network": [
            "*"
        ],
        /**
         * List of items in the FALLBACK section
         */
        "fallback": [] 
    },

    /**
     * Extra resources to be copied along when build
     */
    "extras": [
        "resources/images",
        "resources/icons",
        "resources/loading",
        "resources/data"
    ],

    /**
     * Directory path to store all previous production builds. Note that the content generated inside this directory
     * must be kept intact for proper generation of delta between updates
     */
    "archivePath": "archive",

    /**
     * Default paths to build this application to for each environment
     */
    "buildPaths": {
        "testing": "build/testing",
        "production": "build/production",
        "package": "build/package",
        "native": "build/native"
    },

    /**
     * Build options
     */
    "buildOptions": {
        "product": "touch",
        "minVersion": 3,
        "debug": false,
        "logger": "no"
    },

    /**
     * Uniquely generated id for this application, used as prefix for localStorage keys.
     * Normally you should never change this value.
     */
    "id": "996b4be0-9f88-11e1-b590-67deda5f4cdb"
} 
```

这是 app.js

```
Ext.Loader.setPath({
    'Ext': 'touch/src'
});

Ext.application({
    name: 'App',

    requires: [
        'Ext.MessageBox'
    ],

    views: [
        'Main',
        'Homepage',
        'Sections',
        'Detail',
        'RequisitionRequest'
    ],

    models: [
        'Sections'
    ],

    stores: [
        'Sections'
    ],

    controllers: [
        'Main'
    ],

    icon: {
        57: 'resources/icons/Icon.png',
        72: 'resources/icons/Icon~ipad.png',
        114: 'resources/icons/Icon@2x.png',
        144: 'resources/icons/Icon~ipad@2x.png'
    },

    phoneStartupScreen: 'resources/loading/Homescreen.jpg',
    tabletStartupScreen: 'resources/loading/Homescreen~ipad.jpg',

    launch: function() {
        // Destroy the #appLoadingIndicator element
        Ext.fly('appLoadingIndicator').destroy();

        // Initialize the main view
        Ext.Viewport.add(Ext.create('App.view.Main'));
        // Initialize the requisition request view
        //Ext.Viewport.add(Ext.create('App.view.RequisitionRequest'));
    },

    onUpdated: function() {
        Ext.Msg.confirm(
            "Application Update",
            "This application has just successfully been updated to the latest version. Reload now?",
            function(buttonId) {
                if (buttonId === 'yes') {
                    window.location.reload();
                }
            }
        );
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T03:52:50.403

问题解决了！以下片段位于我的 Main.js 视图的底部，我完全错过了它。在我删除它之后，应用程序在构建后可以正常运行。

```
/**
 * Fix for Bug TOUCH-2665 (Sencha Touch 2.0.1 RC)
 * must be removed in next release
 */
Ext.define('App.Tabfix', {
    override: 'Ext.tab.Panel',
    doTabChange: function(tabBar, newTab) {
        this.setActiveItem(tabBar.indexOf(newTab));
    }
}); 
```

# eclipse - 批处理文件 eclipse 主应用程序外部工具

> ID：15418703
> 
> 赞同：0
> 
> 时间：2013-03-14T19:39:55.830
> 
> 标签：eclipse, command-line, batch-file, external-tools

我在 Windows 7 上使用 Lejos 和 java Eclipse。由于我的机器是 64 位的，它不允许我将标准 Lejos 驱动程序作为 Eclipse 插件运行，我将它作为外部工具安装。我遵循了这个超级有用的教程[http://www.youtube.com/watch?v=hEFA0DdFhm8](http://www.youtube.com/watch?v=hEFA0DdFhm8) 但是对于我的项目，我需要能够定期向我的 Nxt 砖块发送说明。无论如何，我可以在主应用程序运行时调用外部工具吗？或者是否可以在主程序中调用批处理文件，甚至可以在程序运行时进行命令行参数？我已经阅读了有关此问题的论坛，但我在哪里找不到解决问题的方法，如果人们有任何想法，我将不胜感激，

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T16:39:11.557

在大量阅读之后，有一篇关于 Java 世界的文章 [http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html?page=1](http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html?page=1) 很好地总结了你应该和不应该这样做..希望这对任何追随我的人有帮助......

# php - Wordpress 将每 2 个帖子包装在一个 div 中

> ID：15418705
> 
> 赞同：0
> 
> 时间：2013-03-14T19:40:16.407
> 
> 标签：php, html, wordpress, twitter-bootstrap

我正在尝试将每 2 个帖子包装在 div“row-fluid”中现在我的 HTML 如下所示...

```
 <div class="row-fluid">
   <div class="odd-post span6"></div>
   <div class="even-post span6"></div>
   <div class="odd-post span6"></div>
   <div class="even-post span6"></div>
 </div> 
```

我希望它看起来像这样...

```
 <div class="row-fluid">
   <div class="odd-post span6"></div>
   <div class="even-post span6"></div>
 </div>
 <div class="row-fluid">
   <div class="odd-post span6"></div>
   <div class="even-post span6"></div>
 </div> 
```

这是我用来生成它的 php，但我认为因为我在循环之外计算它并没有按照我想要的方式呈现。

```
 <?php
                    $count = 0;
                    if(have_posts()) : while(have_posts()) : the_post();
                        $open = !($count%2) ? '<div class="row-fluid">' : '';
                        $close = !($count%2) && $count ? '</div>' : '';
                    echo $close.$open;
                ?>

                <!--Custom Post Type Boilerplate-->
                <?php

                $args = array( 'post_type' => 'mysite_team', 'posts_per_page' => 10 );
                $loop = new WP_Query( $args );
                while ( $loop->have_posts() ) : $loop->the_post();

                    echo '<div ';
                        $even_odd = (++$j % 2 == 0) ? 'featured-image-wrapper-even-post span6' : 'featured-image-wrapper-odd-post span6'; post_class( $even_odd );
                    echo '>';

                    echo '<h1>';
                    echo '<a href="';
                        the_permalink();
                    echo '">';
                        the_title();
                    echo '</a></h1>';

                    echo '<div class="featured-image alignleft">';
                    echo '<a href="';
                        the_permalink();
                    echo '">';
                        the_post_thumbnail('team-thumbnail-size');
                    echo '</a>';
                    echo '</div>';

                    echo '<div class="entry-content">';
                        the_excerpt();
                    echo '<p><a href="';
                        the_permalink();
                    echo '"><i>Read More';
                    echo '</i></a></p>';
                    echo '</div>';

                    echo '</div>';

                endwhile;

                ?>

                <?php
                    $count++;
                    endwhile;
                    else :
                ?>
                <?php endif; ?>
                <?php echo $count ? '</div>' : ''; ?> 
```

任何帮助将不胜感激，因为我开始看到圆圈并感到困惑。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:00:04.373

抱歉，我会避免使用额外的 div 容器。你可以用纯 CSS 解决这个问题。

```
.row-fluid:nth-child(odd) {
// Some code
}
.row-fluid:nth-child(even) {
// Some code
}
.span6 {
width:50%;
display:inline-cell;
float: left;
} 
```

# java - Java 套接字不工作

> ID：15418708
> 
> 赞同：2
> 
> 时间：2013-03-14T19:40:21.577
> 
> 标签：java, sockets

Socket.java：（用户在单击我想在 server.java 上显示的按钮后写入任何文本）

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.InetAddress;
import java.net.Socket;
import java.net.UnknownHostException;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class GuiSocket extends JFrame implements Runnable{
    JButton    gonder;
    JTextField yazi, gelen;
    JPanel     panel = new JPanel(new BorderLayout(2, 3));
    Socket     soket;
    DataInputStream   in;
    DataOutputStream  out;
    Thread th;

    public static void main(String[] args) throws IOException, Throwable {
        GuiSocket gS = new GuiSocket();
    }

    public GuiSocket() throws IOException, Throwable {
        this.setTitle("Socket - kibAr");
        this.setBackground(Color.getHSBColor(120f, 100f, 50f));
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.setBounds(100, 100, 413, 253);
        this.setLocationRelativeTo(getRootPane());
        this.add(panel);
        panel.setBackground(Color.RED);
        hazirla();
        th = new Thread(this);
        th.start();
    }

    void ekranOrtala(){
        this.setLocationRelativeTo(getRootPane());
    }

    void  hazirla(){
        yazi   = new JTextField(50);    panel.add(yazi,   BorderLayout.WEST);
        gonder = new JButton("Gönder"); panel.add(gonder, BorderLayout.EAST);
        gelen  = new JTextField(3);     panel.add(gelen,  BorderLayout.SOUTH);
        this.pack();
        ekranOrtala();
            gonder.setFont(new Font("Tahoma",   Font.BOLD, 10));
            gonder.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent arg0) {
                    try {
                        out = new DataOutputStream(soket.getOutputStream());
                        out.write(yazi.getText().getBytes());
                        yazi.setText("");
                        out.flush();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
            });
            yazi.setFont  (new Font("Consolas", Font.CENTER_BASELINE, 10));
            gelen.setFont (new Font("Consolas", 10, 10));

            gelen.setEditable(false);
            gelen.setToolTipText("Sunucudan Gelen Mesaj");
            gelen.setForeground(Color.RED);

            yazi.setHorizontalAlignment((int) JTextField.CENTER_ALIGNMENT);
            yazi.setForeground(Color.BLUE);

            gonder.setToolTipText("Sunucuya Mesaj Gönder");

        this.setVisible(true);
    }

    @Override
    public void run() {
        try {
            soket = new Socket("127.0.0.1", 3131);
            in = new DataInputStream(soket.getInputStream());
            while(in.read() != -1){
                gelen.setText(in.readUTF());
                if(in.readUTF().charAt(0) == 'Ç'){
                    gelen.setText("Çıkış yapılıyor..");
                    System.exit(0);
                }
            }
        } catch (UnknownHostException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
} 
```

服务器：

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class GuiServer  extends JFrame implements Runnable {
    JButton    gonder;
    JTextField yazi, gelen;
    JPanel     panel = new JPanel(new BorderLayout(2, 3));
    Socket     soket;
    DataInputStream   in;
    DataOutputStream  out;
    Thread th;

    public static void main(String[] args) throws Exception, Throwable {
        GuiServer gS = new GuiServer();
    }

    public GuiServer() throws IOException, Throwable{
        this.setTitle("Server - kibAr");
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.setBounds(100, 100, 413, 253);
        this.setLocationRelativeTo(getRootPane());
        this.add(panel);
        panel.setBackground(Color.BLUE);
        hazirla();
        th = new Thread(this);
        th.start();
    }

    void ekranOrtala(){
        this.setLocationRelativeTo(getRootPane());
    }

    void  hazirla(){
        yazi   = new JTextField(50);    panel.add(yazi,   BorderLayout.WEST);
        gonder = new JButton("Gönder"); panel.add(gonder, BorderLayout.EAST);
        gelen  = new JTextField(3);     panel.add(gelen,  BorderLayout.SOUTH);
        this.pack();
        ekranOrtala();
            gonder.setFont(new Font("Tahoma",   Font.BOLD, 10));
            gonder.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent arg0) {
                    try {
                        out = new DataOutputStream(soket.getOutputStream());
                        out.write(yazi.getText().getBytes());
                        yazi.setText("");
                        out.flush();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
            });
            yazi.setFont  (new Font("Consolas", Font.CENTER_BASELINE, 10));
            gelen.setFont (new Font("Consolas", 10, 10));

            gelen.setEditable(false);
            gelen.setToolTipText("Sunucudan Gelen Mesaj");
            gelen.setForeground(Color.RED);

            yazi.setHorizontalAlignment((int) JTextField.CENTER_ALIGNMENT);
            yazi.setForeground(Color.BLUE);

            gonder.setToolTipText("Sunucuya Mesaj Gönder");

        this.setVisible(true);
    }

    @Override
    public void run() {
        ServerSocket sS;
        try {
            sS = new ServerSocket(3131);
            soket = sS.accept();

            --- Delete after work. > soket = new Socket("127.0.0.1", 3131);
            in = new DataInputStream(soket.getInputStream());
            while(in.read() != -1){
                gelen.setText(in.readUTF());
                if(in.readUTF().charAt(0) == 'Ç'){
                    gelen.setText("Çıkış yapılıyor..");
                    System.exit(0);
                }
            }
        } catch (IOException e) {
            e.printStackTrace();
        }

    }

} 
```

当我在运行套接字后运行服务器时，我在单击“gonder”按钮后输入任何文本，但看不到我在服务器窗口上写的文本。

问题是什么？

# sql-server-2008 - 记录集字段值从具有 varchar(MAX) 数据类型的 SQL 服务器返回 null

> ID：15418712
> 
> 赞同：0
> 
> 时间：2013-03-14T19:40:37.443
> 
> 标签：sql-server-2008, excel, excel-2010, vba

我有一个 SQL 2008 服务器，服务器中有一个表，该表有一个数据类型为 varchar(MAX) 的列。我正在尝试使用 ADO 将此表中的某些列导入 Excel 2010。这是我正在使用的代码示例：

```
Dim con As Object
Set con = CreateObject("ADODB.Connection")

cmd.CommandText = "SELECT dbo.(Table Name).Name From dbo.(Table)"
cmd.CommandType = 1
con.open
cmd.ActiveConnection = con
Dim rst as Object
set rst = cmd.Execute

ActiveSheet.cells(targetRange.Row, targetRange.Column).CopyFromRecordset rst 
```

代码执行得很好，但是因为列 Name 设置为 varchar(MAX)，所以工作表中没有显示任何名称。我知道这一点是因为我制作了 SQL 服务器的副本并将列的数据类型更改为 varchar(1024) 并且它以应有的方式工作。

我还尝试将记录集中的数据手动放入电子表格中，但没有成功。所以问题是我不能改变真正的 SQL 服务器。

是否有我可以添加到 Select 语句的命令或我可以使用的强制转换将 varchar(MAX) 转换为 Excel 可以使用的数据类型，或者我可以做些什么来使数据不当我读入它时为空？

我一直在研究这个问题一天，一些线程即将关闭，但他们正在谈论在 SQL 服务器上使用 select 并使用在这种情况下不起作用的强制转换，或者在其他一些程序中，这没有帮助.

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-14T20:07:35.513

ADO 显然没有`VARCHAR(MAX)`正确处理（或您可能期望的方式），关于返回零列大小的东西，因为它没有像`VARCHAR(n)`.

您回答了自己的问题，因为您只需要将列转换为具有定义长度的内容！

```
CAST(column AS type) 
```

或者在你的情况下

```
SELECT CAST(dbo.(Table Name).Name AS VARCHAR(1024)) FROM dbo.(Table) 
```

# jsf-2 - 将 actionListener 方法名称作为参数传递以包含视图

> ID：15418716
> 
> 赞同：4
> 
> 时间：2013-03-14T19:40:53.417
> 
> 标签：jsf-2, facelets

我正在尝试将操作参数传递给我页面中的部分视图，但由于某种原因，它说我的参数是`null`，即使它是在外部页面中使用的 bean。

**页：**

```
<ui:include src="/templates/common/ajaxConfirmPopup.xhtml">
    <ui:param name="bean" value="#{paginaBean}" />
    <ui:param name="action" value="deleteAll" />
</ui:include> 
```

**在部分中调用操作：**

```
actionListener="#{bean[action]}" 
```

**但我得到以下异常：**

```
Caused by: javax.el.PropertyNotFoundException: Target Unreachable, identifier 'bean' resolved to null
    at org.apache.el.parser.AstValue.getTarget(AstValue.java:98) [jbossweb-7.0.13.Final.jar:]
    at org.apache.el.parser.AstValue.invoke(AstValue.java:244) [jbossweb-7.0.13.Final.jar:]
    at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278) [jbossweb-7.0.13.Final.jar:] 
```

难道我做错了什么？

**注意：**当方法有参数时一切正常`ActionEvent`，当方法没有参数时一切正常。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T14:19:37.960

如果您一直`actionListener`在 EL 2.2 语法中声明没有任何参数的方法，则此问题是可以解释的，如下所示：

```
actionListener="#{bean.method()}" 
```

这确实需要一种无参数的方法。但是，**标准**的JSF 方式如下

```
actionListener="#{bean.method}" 
```

这真的需要一个`ActionEvent`论点。您的问题历史确实[表明](https://stackoverflow.com/questions/15670819/jsf-hcommandbutton-dont-work-with-fajax)您一直在使用 EL 2.2 语法，因此您以某种方式认为它是“标准”，而事实并非如此。

当参数化`actionListener`包含模板的方法时，就像在你的方法中那样`actionListener="#{bean[action]}"`，该`actionListener`方法被解释为

```
actionListener="#{bean.method}" 
```

因此，它需要一个`ActionEvent`论点。

您基本上有 3 个选项来解决此问题：

1.  在方法中指定`ActionEvent`参数，没有任何借口。

2.  替换`actionListener`为`action`。保留方法没问题`void`。如果例如 Eclipse EL 验证出现问题，只需[在](https://stackoverflow.com/questions/8083469/validation-error-on-valid-facelet-when-calling-action-method-with-parameter/8084049#8084049)首选项中调整它。

3.  像这样使用 EL 2.2 语法`actionListener="#{bean[action]()}"`。然而，这在早期的 Tomcat 和 Glassfish 版本中[失败了。](https://stackoverflow.com/questions/8004233/jsf-2-how-to-pass-an-action-including-an-argument-to-be-invoked-to-a-facelets-s/8004349#8004349)

### 也可以看看：

*   [action 和 actionListener 的区别](https://stackoverflow.com/questions/3909267/differences-between-action-and-actionlistener/3909382#3909382)

# apache - 尝试在 Ubuntu 12.04 的 apache 服务器上启用 https

> ID：15418717
> 
> 赞同：18
> 
> 时间：2013-03-14T19:40:53.397
> 
> 标签：apache, https

我已经在 Ubuntu 12.04 上安装了 apache2 包，并且我已经安装了 PHP mod，以便我可以在我的服务器上运行 PHP 脚本。我现在正在尝试为 HTTPS 设置服务器。我正在处理的应用程序需要启用 https 访问，但我从来没有太多使用 SSL、证书或任何安全知识的经验（不过，我正在努力学习）。

我尝试过在线学习教程，但每个教程似乎总是失败。这是我最近的尝试：

```
sudo make-ssl-cert generate-default-snakeoil --force-overwrite
sudo a2enmod ssl
sudo a2ensite default-ssl
sudo /etc/init.d/apache2 restart 
```

这一系列命令没有输出任何错误，但是当我导航到 https:// 时，它告诉我该网页不可用。导航到 http:// 工作正常。

我错过了什么，还是本教程让我误入歧途？我真的很想弄清楚如何在 Ubuntu 12.04 上启用 Apache 来处理 https 请求。:)

# mysql - 当月第一天的日期和前 5 天的日期。MySQL

> ID：15418722
> 
> 赞同：0
> 
> 时间：2013-03-14T19:41:18.190
> 
> 标签：mysql, date

我需要一个类似于这个的查询：

```
SELECT *
FROM myTable
WHERE
    DATE_FORMAT(date,'%Y-%m-%d') BETWEEN <1> AND <2> 
```

其中`<1>`是当月第一天的`<2>`日期，是 5 天前的日期。例如，如果当前日期为 2013-03-14，`<1>`则应为 2013-03-01 和`<2>`2013-03-09。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:52:00.580

询问：

**[SQLFIDDLE示例](http://sqlfiddle.com/#!2/d41d8/8962)**

```
SELECT 
DATE_FORMAT(NOW(),'%Y-%m-%d') d1,
DATE_FORMAT(NOW(),'%Y-%m-01') d2,
DATE_FORMAT(DATE_ADD(CURDATE(), INTERVAL -5 DAY),'%Y-%m-%d') d3 
```

结果：

```
|         D1 |         D2 |         D3 |
----------------------------------------
| 2013-03-14 | 2013-03-01 | 2013-03-09 | 
```

所以：

```
SELECT *
FROM myTable
WHERE DATE_FORMAT(date,'%Y-%m-%d') 
BETWEEN DATE_FORMAT(NOW(),'%Y-%m-01') 
AND DATE_FORMAT(DATE_ADD(CURDATE(), INTERVAL -5 DAY),'%Y-%m-%d') 
```

此查询可能不会使用 INDEX，因为使用函数格式化列`DATE_FORMAT(date,'%Y-%m-%d')`

但是，如果您的列`date`数据类型是`Datetime`当您可以进行查询时：

```
SELECT *
FROM myTable
WHERE date >= DATE_FORMAT(CURDATE(),'%Y-%m-01') 
AND date <= DATE_ADD(CURDATE(), INTERVAL -5 DAY) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:53:16.080

```
SELECT * 
FROM myTable 
WHERE 
    DATE_FORMAT(date,'%Y-%m-%d') BETWEEN 
        concat(extract(year_month FROM CURDATE()),"01") 
        AND 
        from_days(to_days(CURDATE())-5) 
```

# c# - 我如何知道按钮何时被释放？

> ID：15418723
> 
> 赞同：-3
> 
> 时间：2013-03-14T19:41:19.997
> 
> 标签：c#

所以我正在制作一个简单的程序，我需要知道按钮是否被按下，并且我需要知道按钮释放后何时释放。我需要能够在动作发布时完成它

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:43:47.330

Winforms/WPF：MouseUp

网络表单：onkeyup

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:45:24.633

不清楚您使用的是 webforms 还是 winforms，但 .NET 为几乎所有可能发生的事件提供了事件处理程序。

[这](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.button_events%28v=vs.85%29.aspx)是 Buttons 处理的事件列表。

您正在寻找的是“点击”。每当用户单击按钮时，都会触发此方法。

如果您需要在用户按下鼠标并再次释放鼠标时执行某些操作，那么 Button 不适合您。但是，许多其他对象实现了“OnMouseDown”和“OnMouseUp”事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:45:49.617

如果您在谈论 winform 和键盘按下，请使用`KeyUp`事件 ( [http://msdn.microsoft.com/en-us/library/system.windows.forms.control.keyup.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.keyup.aspx) ) 如果您在谈论鼠标点击使用`MouseUp`（[http://msdn.microsoft.com/en-us/library/system.windows.forms.control.mouseup(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.mouseup(v=vs.71).aspx)）。

# android - Activity 退出时，带有线程的自定义 SurfaceView 会导致 App 崩溃

> ID：15418725
> 
> 赞同：2
> 
> 时间：2013-03-14T19:41:43.527
> 
> 标签：android, surfaceview

我刚刚制作了一个 Activity，它在“setContentView”处使用了一个扩展 SurfaceView 的类的视图。问题是：它工作正常，但是当我退出它（BACK 键）时它崩溃了。代码：

```
package ro.etrandafir.mate.appCreator;

import android.app.Activity;
import android.os.Bundle;
import android.content.Context;
import android.view.View;
import android.view.SurfaceView;
import android.graphics.Canvas;
import android.view.MotionEvent;
import android.graphics.Color;
import android.graphics.Paint;

public class Sample2 extends Activity implements View.OnTouchListener {

    float x = 0, y = 0;
    SampleTwoView theView;

    public boolean onTouch(View v, MotionEvent event) {
        // TODO: Implement this method
        x = event.getX();
        y = event.getY();
        return true;
    }

    @Override
    protected void onPause() {
        super.onPause();
        finish();
    }

    @Override
    protected void onCreate(Bundle b) {
        super.onCreate(b);
    theView = new SampleTwoView(this);
        theView.setOnTouchListener(this);
        setContentView(theView);
    }

    public class SampleTwoView extends SurfaceView implements Runnable {

        Paint p = new Paint();

        public SampleTwoView(Context context) {
            super(context);
            p.setColor(Color.RED);
            Thread theThread = new Thread(this);
            theThread.start();
        }

        public void run() {
            while (true) {
                if (!getHolder().getSurface().isValid()) continue;
                Canvas canvas;
                canvas = getHolder().lockCanvas();
                canvas.drawColor(Color.BLUE);
                if ((x != 0) && (y != 0)) canvas.drawCircle(x, y, 40, p);
                getHolder().unlockCanvasAndPost(canvas);
            }
        }
    }
} 
```

我能做些什么？我应该添加 onDestroy 还是什么？

提前致谢，马太

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:50:03.193

您遇到的问题与此代码有关：

```
Canvas canvas;
canvas = getHolder().lockCanvas();
canvas.drawColor(Color.BLUE); 
```

当您的活动结束时，您的线程仍在运行，但您的自定义`SurfaceView`不再可用，因此您将获得 null ptr 异常。`onPause`通过添加一个在调用 fn 时设置为 false 的布尔值，可以轻松地修补现有代码：

```
public void run() {
    while (booleanThatGetsSetToFalseWhenActivityPauses) {
        if (!getHolder().getSurface().isValid()) continue;
        Canvas canvas;
        canvas = getHolder().lockCanvas();
        canvas.drawColor(Color.BLUE);
        if ((x != 0) && (y != 0)) canvas.drawCircle(x, y, 40, p);
        getHolder().unlockCanvasAndPost(canvas);
    }
} 
```

但是，我建议您整体更改应用程序的结构。这可能只是为了练习，但我认为实现目标的更有效且无错误的方法是简单地使用标准`SurfaceView`并将绘图逻辑与任何自定义视图完全分离。

* * *

下面是我重新设计的活动，但它使用了一个`Ball`用于维护球逻辑的类，在您当前的代码中，该类分别与活动（坐标）和视图（的`Paint`）耦合。在这个新的球类中，球具有位置（由 a 指定`PointF`）、a`Paint`和直径。除了设置一些变量之外，它还具有获取大多数这些变量的方法。

```
public class Ball {

    private Paint mPaint;
    private PointF mCoordinates;
    private int mDiameter;

    public Ball (int color, int diameter) {
        mPaint = new Paint();
        mPaint.setColor(color);
        mCoordinates = new PointF();
        mCoordinates.x = 0;
        mCoordinates.y = 0;
        mDiameter = diameter;
    }

    public void setCoordinates (float x, float y) {
        mCoordinates.x = x;
        mCoordinates.y = y;
    }

    public PointF getCoordinates() {
        return mCoordinates;
    }

    public Paint getPaint() {
        return mPaint;
    }

    public int getDiameter() {
        return mDiameter;
    }

    /* You did not want to draw the uninitialized ball, so this method checks that */
    public boolean hasNonZeroLocation () {
        return (mCoordinates.x != 0 && mCoordinates.y != 0);
    }
} 
```

我`Ball`在活动中使用该类，如下所示。请注意，现在仅当用户触摸画布时才会重新绘制到画布，而不是无限的 while 循环。这是由于使用了将`Handler`要运行的操作发布到 UI 线程的类。另外，现在我们不需要自定义视图，并且我们的球的逻辑已经从活动和视图中解耦了。

```
public class RedBallActivity extends Activity {

Handler mDrawingHandler;
SurfaceView mDrawingSurfaceView;
Ball mBall;

private final Runnable drawRedBallOnBlueSurface = new Runnable() {
    @Override
    public void run() {
        if (!mDrawingSurfaceView.getHolder().getSurface().isValid()) return;

        Canvas canvas = mDrawingSurfaceView.getHolder().lockCanvas();
        canvas.drawColor(Color.BLUE);
        if (mBall.hasNonZeroLocation()) 
            canvas.drawCircle(mBall.getCoordinates().x, mBall.getCoordinates().y, mBall.getDiameter(), mBall.getPaint());

        mDrawingSurfaceView.getHolder().unlockCanvasAndPost(canvas);
    }
};

private final OnTouchListener mCanvasTouchListener = new OnTouchListener() {

    @Override
    public boolean onTouch(View v, MotionEvent event) {
        mBall.setCoordinates(event.getX(), event.getY());
        mDrawingHandler.post(drawRedBallOnBlueSurface);
        return true;
    }
};

@Override
protected void onCreate(Bundle b) {
    super.onCreate(b);
    mDrawingSurfaceView = new SurfaceView(this);
    mDrawingSurfaceView.setOnTouchListener(mCanvasTouchListener);
    setContentView(mDrawingSurfaceView);
    mBall = new Ball(Color.RED, 40); 
    mDrawingHandler = new Handler();
}
} 
```

现在，如果您实际运行此代码，您会注意到最初屏幕不是用蓝色背景绘制的。您可能很想`mDrawingHandler.post(drawRedBallOnBlueSurface);`在方法结束时简单地调用`onCreate`，但不能保证 SurfaceView 将准备好被绘制（[请参阅此 lockCanvas 方法的文档](http://developer.android.com/reference/android/view/SurfaceHolder.html#lockCanvas%28%29)）。如果你想让表面最初是蓝色的，你需要实现一个`[SurfaceHolder.Callback][2]`，它需要连接到SurfaceView的SurfaceHolder，并且在`surfaceCreated`被调用的方法上，我们知道表面已经准备好了，所以我们可以调用`mDrawingHandler.post(drawRedBallOnBlueSurface);`

现在，添加了这个，我将 Activity 更改`[SurfaceHolder.Callback][2]`为如下实现：

```
public class FriendManagerActivity extends Activity implements SurfaceHolder.Callback { 
```

并将这一行添加到构造函数中：

```
mDrawingSurfaceView.getHolder().addCallback(this); 
```

并实现接口：

```
@Override
public void surfaceCreated(SurfaceHolder holder) {
    mDrawingHandler.post(drawRedBallOnBlueSurface);
}

@Override
public void surfaceChanged(SurfaceHolder holder, int format, int width,
        int height) {
}

@Override
public void surfaceDestroyed(SurfaceHolder holder) {
} 
```

随时就我的小重新设计提出任何问题！虽然您的问题可以很容易地修补，但我觉得您将逻辑与视图耦合的方式有点缺陷，并且认为更多关于 SurfaceView 编码的信息会有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-08T03:56:04.683

正如上面有人提到的，当你的activity结束时，你的线程还在运行，但是你自定义的SurfaceView不再可用，所以你会得到一个Null Point Exception。您现有的代码可以通过添加一个布尔值来轻松修补，一旦 onPause fn 被调用，该布尔值就会设置为 false：我遇到了同样的问题。为了解决这个问题，我在 SampleTwoView 类中添加了以下 onPause() ：

```
// pause method will destroy the Thread
    public void pause() {
        isRunning = false;
        while (true) {
            try {
                myThread.join();
            } catch (InterruptedException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            break;
        }
        myThread = null;
    } 
```

然后在 Sample2 类的 onPause() 方法中调用这个 onPause() 方法，如下所示：

```
@Override
protected void onPause() {
    super.onPause();
    SampleTwoView.onPause();
    finish();
} 
```

因此，每次调用主 Activity 类的 onPause() 方法时，Thread 都会被销毁。我希望这能帮到您。干杯!

# javascript - 如果按 ID 的文档具有 style=none 则 XXX else XXXX

> ID：15418726
> 
> 赞同：-3
> 
> 时间：2013-03-14T19:41:43.720
> 
> 标签：javascript

有人可以请...这是我试图抽出的代码..

```
if(document.getElementById('nameA').style.display == "inline") {
document.getElementById('nameB').style.display == 'block';
} 
```

所以我想你明白我想要做什么，如果有一个 style="display: inline;" 然后应用到 style="display: block"...

有人可以帮我解决这个问题...看来这不起作用...是否可以用javascript询问并检查a是否具有“style = inline”？

谢谢

PS 感谢所有减分的人，希望您在遇到问题和/或问题时能得到相同的“帮助”。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:43:42.650

如果初始样式在 CSS 中设置或由元素的默认设置，则它不会显示在`style.display`.

如果是这种情况，只需检查是否`style.display`已经为 分配了一个值，如果没有，请 make it `block`。

```
if (document.getElementById('nameA').style.display == "") {
    document.getElementById('nameB').style.display = 'block';
} 
```

* * *

或者，如果它可能已获得手册`"inline"`，那么您可能需要同时检查两者。

```
var disp = document.getElementById('nameA').style.display;

if (disp == "" || disp == "inline") {
    document.getElementById('nameB').style.display = 'block';
} 
```

* * *

此外，请确保您是通过 ID 值而不是 NAME 获取的。这`nameA`让我觉得你可能试图定位错误的属性。

还要确保在选择元素之前已加载元素。和往常一样，保持开发人员的控制台打开并检查错误。

# vba - 内存不足 Excel VBA

> ID：15418729
> 
> 赞同：6
> 
> 时间：2013-03-14T19:41:49.930
> 
> 标签：vba, memory, excel

我已经制作了一些子程序，它们在 5 个文件的测试阶段工作得很好，但是当我将它们用于处理真实数据时，即 600 个文件，一段时间后我收到以下消息：

> Excel 无法使用可用资源完成此任务。选择更少的数据或关闭其他应用程序。

我用谷歌搜索了它，发现最多的是`application.cutcopymode = false`，但在我的代码中，我没有使用剪切和复制模式，而是使用

```
destrange.Value = sourceRange.Value 
```

当我去调试时，我的意思是在错误提示之后它会将我带到同一行代码。如果有人遇到过类似的情况，并且知道如何解决问题，我将不胜感激。

只是为了让自己清楚，我已经尝试过`application.cutcopymode = false`，但没有帮助。我正在打开这 600 个文件中的每一个，按不同的标准排序，并从每个副本的前 100 个到新工作簿（一个接一个），当我完成一个标准时，我保存并关闭该新工作簿并打开新工作簿并继续提取数据不同的标准。

如果有人有兴趣提供帮助，我也可以提供代码，但为了让问题变得简单，我没有。任何帮助或建议都非常受欢迎。谢谢你。

**编辑：**

这是主要的子：（它的目的是从工作簿中获取关于要复制多少第一行的信息，因为我需要一次复制前 100 行，然后是 50，然后是 20，然后是 10 ......）

```
Sub final()
Dim i As Integer
Dim x As Integer    

For i = 7 To 11

    x = ThisWorkbook.Worksheets(1).Range("N" & i).Value        

    Maximum_sub x
    Minimum_sub x
    Above_Average_sub x
    Below_Average_sub x

Next i

End Sub 
```

这是其中一个：（其他基本相同，只是排序标准发生了变化。）

```
Sub Maximum_sub(n As Integer)
    Dim MyPath As String, FilesInPath As String
    Dim MyFiles() As String
    Dim SourceRcount As Long, FNum As Long
    Dim mybook As Workbook, BaseWks As Worksheet
    Dim sourceRange As Range, destrange As Range
    Dim rnum As Long
    Dim srt As Sort        

    ' The path\folder location of your files.
    MyPath = "C:\Excel\"    

    ' If there are no adequate files in the folder, exit.
    FilesInPath = Dir(MyPath & "*.txt")
    If FilesInPath = "" Then
        MsgBox "No files found"
        Exit Sub
    End If

    ' Fill the myFiles array with the list of adequate files
    ' in the search folder.

    FNum = 0
    Do While FilesInPath <> ""
        FNum = FNum + 1
        ReDim Preserve MyFiles(1 To FNum)
        MyFiles(FNum) = FilesInPath
        FilesInPath = Dir()
    Loop

    'get a number: take a top __ from each
    'n = ActiveWorkbook.Worksheets(1).Range("B4").Value

    ' Add a new workbook with one sheet.
    Set BaseWks = Workbooks.Add(xlWBATWorksheet).Worksheets(1)

    rnum = 1

    ' Loop through all files in the myFiles array.
    If FNum > 0 Then
        For FNum = LBound(MyFiles) To UBound(MyFiles)

            Set mybook = Workbooks.Open(MyPath & MyFiles(FNum))

            ' Change this to fit your own needs.

            ' Sorting
            Set srt = mybook.Worksheets(1).Sort

            With srt
                .SortFields.Clear
                .SortFields.Add Key:=Columns("C"), SortOn:=xlSortOnValues, Order:=xlDescending
                .SetRange Range("A1:C18000")
                .Header = xlYes
                .MatchCase = False
                .Orientation = xlTopToBottom
                .SortMethod = xlPinYin
                .Apply
            End With

            'Deleting nulls
            Do While (mybook.Worksheets(1).Range("C2").Value = "null")
            mybook.Worksheets(1).Rows(2).Delete
            Loop                

            Set sourceRange = mybook.Worksheets(1).Rows("2:" & n + 1)

            SourceRcount = sourceRange.Rows.Count

            Set destrange = BaseWks.Range("A" & rnum)

            BaseWks.Cells(rnum, "A").Font.Bold = True
            BaseWks.Cells(rnum, "B").Font.Bold = True
            BaseWks.Cells(rnum, "C").Font.Bold = True           

            Set destrange = destrange.Resize(sourceRange.Rows.Count, sourceRange.Columns.Count)         

            destrange.Value = sourceRange.Value

            rnum = rnum + SourceRcount

            mybook.Close savechanges:=False

        Next FNum
        BaseWks.Columns.AutoFit

    End If

    BaseWks.SaveAs Filename:="maximum_" & CStr(n)
    Activewoorkbook.Close

End Sub 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T20:48:06.260

`Set sourceRange = mybook.Worksheets(1).Rows("2:" & n + 1)`将选择最后一列之后的所有空列并炸毁你的记忆

为了使这个更动态的插入（*未测试*）

```
sub try()
dim last_col_ad as string
dim last_col as string

last_col_ad = mybook.Worksheets(1).Range("XFD1").End(xlLeft).Address
last_col = Replace(Cells(1, LastColumn).Address(False, False), "1", "")

Set SourceRange = mybook.Worksheets(1).Range("A2:" & last_col & n + 1)

end sub 
```

# windows - Windows 核心音频错误

> ID：15418731
> 
> 赞同：0
> 
> 时间：2013-03-14T19:41:50.857
> 
> 标签：windows, access-violation

我调用了以下函数来打印出枚举音频端点的端点和友好名称：

```
void EPPrint(void)
{       
    HRESULT hr;
    IMMDeviceEnumerator *pEnumerator = NULL;
    IMMDeviceCollection *pCollection = NULL;
    IMMDevice *pEp = NULL;
    IPropertyStore *pProps =NULL;
    UINT count;
    PWSTR strID;
    PROPVARIANT pv;

    hr = CoCreateInstance(CLSID_MMDeviceEnumerator ,NULL, CLSCTX_ALL, IID_IMMDeviceEnumerator, (void **)&pEnumerator);
    hr = pEnumerator -> EnumAudioEndpoints(eRender,DEVICE_STATE_ACTIVE,&pCollection);
    hr = pCollection ->GetCount(&count);
    if(count==0)
    {
    }
    for (ULONG i =0; i<count; ++i)
    {
        hr= pCollection->Item(i,&pEp);
        hr = pEp ->GetId(&strID);
        hr = pEp ->OpenPropertyStore(STGM_READ,&pProps);
        PropVariantInit(&pv);
        hr = pProps ->GetValue(PKEY_Device_FriendlyName, &pv);
        printf("Enpoint %d: \"%S\" (%S)\n",i,pv.pwszVal, strID);
    }
} 
```

但是我收到运行时错误`Unhandled exception at 0x008e104a in EPAudioControl.exe: 0xC0000005: Access violation reading location 0x00000000.`

这打破了该`hr = pEnumeartor -> ...`行的程序。

程序是否需要某种特殊的 Windows 权限才能正常运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T16:54:14.610

原来 pEnumerator 是一个 NULL 指针。调用未`CoCreateInstance`正确填充 pEnumerator。`CoInitialize(NULL)`这是因为在 CoCreateInstance 之前必须有一个调用。一旦我将`CoInitiliaze(NULL)`调用放入程序中，错误就消失了。

# javascript - 如何将模板隔离在单独的文件中？

> ID：15418742
> 
> 赞同：0
> 
> 时间：2013-03-14T19:42:16.387
> 
> 标签：javascript, templates, mustache

我正在使用 Mustache，并且我有一个模板供不同的 HTML 文件使用。

```
<script id="template" type="text/template">
{{#repo}}
  <b>{{name}}</b>
{{/repo}}
</script> 
```

我想将此模板隔离在一个单独的文件中，例如：

```
<script id="template" type="text/template" src="./js/template-must"></script> 
```

但这不起作用。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:00:22.627

1.  您可以使用后端将模板内容嵌入到您的`script[type="text/template"]`. `.mustache`您可以像许多人一样将模板文件保存在文件中。

    在您的 html 中：

    ![在此处输入图像描述](../Images/b8ec18d7c43f7de3623a49d7da94f887.png)

2.  你可以使用RequireJS的文本插件

3.  您可以使用 AJAX 模板内容。

# android - android Andengine SurfaceGestureDetector

> ID：15418748
> 
> 赞同：0
> 
> 时间：2013-03-14T19:42:48.970
> 
> 标签：android, andengine

我尝试使用 SurfaceGestureDetector 这个类只使用 SurfaceGestureDetector 并且不起作用。ia msg "03-14 20:40:47.746: I/AndEngine(8963): org.anddev.andengine.input.touch.TouchEvent$TouchEventPool 已用尽，还有 0 个项目尚未回收。分配了 1 个。” 仅标记 Log.d("test", "TouchEvent"); 工作

```
public class MainActivity extends BaseGameActivity {
// ===========================================================
// Constants
// ===========================================================

private static final int CAMERA_WIDTH = 480;
private static final int CAMERA_HEIGHT = 320;

// ===========================================================
// Fields
// ===========================================================

private Camera mCamera;
//private Texture mTexture, mBatTexture;
//private TiledTextureRegion mBatTextureRegion;
//private TextureRegion mSplashTextureRegion;
private Handler mHandler;
//static protected Music mMusic;

private Scene mScene;

private SurfaceGestureDetector surfaceGestureDetector;

private TouchEvent pSceneTouchEvent;

// ===========================================================
// Constructors
// ===========================================================

// ===========================================================
// Getter & Setter
// ===========================================================

// ===========================================================
// Methods for/from SuperClass/Interfaces
// ===========================================================

@Override
public Engine onLoadEngine() {
    mHandler = new Handler();
    this.mCamera = new Camera(0, 0, CAMERA_WIDTH, CAMERA_HEIGHT);

    return new Engine(new EngineOptions(true, ScreenOrientation.LANDSCAPE, new RatioResolutionPolicy(CAMERA_WIDTH, CAMERA_HEIGHT), this.mCamera));
}

@Override
public void onLoadResources() {

    }

@Override
public Scene onLoadScene() {
    this.mEngine.registerUpdateHandler(new FPSLogger());

    this.mScene = new Scene();

    setupGestureDetaction();

    return mScene;
}

@Override
public void onLoadComplete() {
    //mHandler.post(mLaunchTask);
}

private Runnable mLaunchTask = new Runnable() {
    public void run() {
        Intent myIntent = new Intent(MainActivity.this, TMXTiledMapExample.class);
        MainActivity.this.startActivity(myIntent);
    }
 };

private void setupGestureDetaction(){

      surfaceGestureDetector = new SurfaceGestureDetector(1f) {         

        @Override
        protected boolean onSingleTap() {
            // TODO Auto-generated method stub
            Log.d("test", "onSingleTap"); 
            return true;
        }

        @Override
        protected boolean onDoubleTap() {
            Log.d("test", "onDoubleTap");
            // TODO Auto-generated method stub
            return false;
        }

        @Override
        protected boolean onSwipeUp() {
            // TODO Auto-generated method stub
            return false;
        }

        @Override
        protected boolean onSwipeDown() {
            // TODO Auto-generated method stub
            return false;
        }

        @Override
        protected boolean onSwipeLeft() {
            // TODO Auto-generated method stub
            return false;
        }

        @Override
        protected boolean onSwipeRight() {
            // TODO Auto-generated method stub
            return false;
        }

   @Override
       public boolean onManagedTouchEvent(TouchEvent pSceneTouchEvent) { 
        return super.onManagedTouchEvent(pSceneTouchEvent);
       }

       @Override
       public boolean onSceneTouchEvent(Scene pScene,
         TouchEvent pSceneTouchEvent) {     
           Log.d("test", "TouchEvent");

        return super.onSceneTouchEvent(pScene, pSceneTouchEvent);
       //return false;

       }
      };

 //      if (pSceneTouchEvent!=null){
     // TouchEvent.recycle(pSceneTouchEvent);}

      surfaceGestureDetector.setEnabled(true);

      mScene.setOnSceneTouchListener(surfaceGestureDetector);
    }

// ===========================================================
// Methods
// ===========================================================

// ===========================================================
// Inner and Anonymous Classes
// ===========================================================
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-05T18:35:27.167

这个问题在我写这个回复时很老，但是您在上面显示的日志消息不是错误消息。这是一条适当的消息，让您知道触摸事件的对象池不包含任何触摸，因此它创建了更多。

这是来自 Andengine 的正常消息，当您第一次开始使用触摸时您会看到它，但随着应用程序的运行而减少，因为池大小会增长，因此触摸将被回收而不是创建。

# javascript - 在 Webview/UIWebView 中加载外部 URL 时，是否可以加载本地 JS 文件？

> ID：15418749
> 
> 赞同：1
> 
> 时间：2013-03-14T19:42:54.677
> 
> 标签：javascript, android, ios, cordova, webview

在尝试解决我在 Phonegap 上遇到 iOS 问题的问题时，我意识到我需要加载两个不同[的](https://stackoverflow.com/questions/15402447/error-loading-external-url-in-phonegap-2-5)`cordova.js`文件，具体取决于它是 iOS 应用程序还是 Android 应用程序。一种解决方案是测试服务器端并链接到不同的`cordova.js`文件，但我试图弄清楚是否可以将特定于平台的`cordova.js`文件与每个应用程序捆绑在一起。

是否可以在 Android 上做这样的事情：

```
super.loadUrl("file:///android_asset/phonegap-2.5.0.js, 15000); 
```

和iOS中类似的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:17:11.803

您可能应该只点击不同的端点，或者为每个平台使用不同的参数并让服务器处理它。

那就是说你可以做这样的事情：

```
 - (void)downloadHTMLAndUpdateCordova
 {
       NSURL *url = [NSURL URLWithString:@"http://www.someapi.com"];
       NSURLRequest *request = [NSURLRequest requestWithURL:url];
       NSHTTPURLResponse* response = nil;
       NSError* error = nil;
       NSData *htmlData = [NSURLConnection sendSynchronousRequest:self.request returningResponse:&response error:&error];

      if (error == nil) {
          NSString *htmlString = [NSString stringWithUTF8String:[htmlData bytes]];
          htmlString = [htmlString stringByReplacingOccurrencesOfString:@"someCordovaFile.js" withString:@"someCordovaFileiOS.js"];
          [self.webView loadHTMLString:htmlString baseURL:@"http://www.someapi.com"];
       }
 } 
```

# python - 迭代字符串列表并组合字符串值Python

> ID：15418751
> 
> 赞同：2
> 
> 时间：2013-03-14T19:42:56.777
> 
> 标签：python, string, list, bit

我有一个字符串列表，如下所示：

```
 sixbit = ['000011', '000001', '010100', '100001'] 
```

我想遍历这个列表并生成一个看起来像这样的新列表：

```
 eightbit = ['00001100', '00010101', '00100001'] 
```

出于说明的目的，len(sixbit) 等于 4，因为它可以很好地转换为八位。理想情况下，六位可以是任何长度——如果八位“切断”任何剩余的 1 或 0，那就没问题了。

这是我尝试过的一些代码......遗憾的是，它已经很**远了，**但也许你可以看到我正在尝试做的事情。这个想法是 1) 将所有数字放入一个大字符串 2) 循环遍历每个数字并保持计数，在迭代时将数字收集到持有人 3) 当 count = 8 时附加到列表 4) 继续迭代

```
def compress_six_bit(ary):
    final_list = []
    holder = ''
    temp_string = ''
    encode_counter = 0

    for i in ary:
        holder = holder + i
        while encode_counter < 8:
            encode_counter = encode_counter + 1
            temp_string = temp_string + i
            final_list.append(temp_string)
        encode_counter = 0
        temp_string = ''

    return final_list 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T19:54:59.643

```
>>> chained = itertools.chain.from_iterable(sixbit)
>>> [''.join(bits) for bits in itertools.izip(*[chained]*8)]
['00001100', '00010101', '00100001'] 
```

## 解释

`chained`只是原始字符串的所有字母的迭代器。它使用[`chained`](http://docs.python.org/2/library/itertools.html#itertools.chain.from_iterable)来自 的函数`itertools`。

```
>>> chained = itertools.chain.from_iterable(sixbit)
>>> list(chained)
['0', '0', '0', '0', '1', '1', '0', '0', '0', '0', '0', '1', '0', '1', '0', '1', '0', '0', '1', '0', '0', '0', '0', '1'] 
```

`[chained]*8`创建包含**相同** `chained`对象的列表 8 次。

`*`只需将这 8 个元素解压缩为[`izip`](http://docs.python.org/2/library/itertools.html#itertools.izip)参数。

[`izip`](http://docs.python.org/2/library/itertools.html#itertools.izip)只返回元组，其中第一个包含参数中每个链式迭代器的第一个字母，第二个元组包含第二个字母，依此类推。链式对象有 8 个，因此每个元组中有 8 个字母。

最重要的是，字母取自每个迭代器，但实际上是同一个迭代器的 8 个实例。每次调用都会消耗它。所以第一个元组包含链式迭代器的前 8 个字母。

```
>>> chained = itertools.chain.from_iterable(sixbit)
>>> list(itertools.izip(*[chained]*8))
[('0', '0', '0', '0', '1', '1', '0', '0'), ('0', '0', '0', '1', '0', '1', '0', '1'), ('0', '0', '1', '0', '0', '0', '0', '1')] 
```

在最后一步，我们将它们加入列表理解：

```
>>> chained = itertools.chain.from_iterable(sixbit)
>>> [''.join(bits) for bits in itertools.izip(*[chained]*8)]
['00001100', '00010101', '00100001'] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T19:50:53.917

```
>>> [''.join(sixbit)[bit:bit + 8] for bit in range(0, len(sixbit) * 6, 8)]
    ['00001100', '00010101', '00100001'] 
```

换句话说：对于`bit`从`0`到总位数，以 8 为增量，从连接的位串中取`bit`位`bit + 8`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-14T19:50:56.407

```
from itertools import *

def flatten(listOfLists): 
  "Flatten one level of nesting" 
  return chain.from_iterable(listOfLists) 

def grouper(n, iterable, fillvalue=None): 
  "Collect data into fixed-length chunks or blocks" 
  # grouper(3, 'ABCDEFG', 'x') --> ABC DEF Gxx 
  args = [iter(iterable)] * n 
  return izip_longest(fillvalue=fillvalue, *args) 

[''.join(a) for a in grouper(8, flatten(sixbit))]
=> ['00001100', '00010101', '00100001'] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-14T19:51:14.193

所以，我认为目标是将第一个列表组合成一个字符串，然后将该字符串拆分为三个八个字符的字符串。

```
sixbit = ['000011', '000001', '010100', '100001']
# Combine the first list into one string
tmp = "".join(sixbit)
# Split that string into three eight character strings
eightbit = [tmp[i:i+8] # get 8 characters from tmp, starting at position i
            for i in range(0, len(tmp), 8)] # For each multiple of 8 (0, 8, 16..) 
```

# lua - 如何检查 lua 中是否存在文件 - 当您没有完整的文件名时？

> ID：15418754
> 
> 赞同：0
> 
> 时间：2013-03-14T19:42:59.040
> 
> 标签：lua

我有一种情况，我不知道文件的完整名称，但我需要搜索它以查看它是否存在。我不知道的文件名部分是名称末尾的序列号。例如，文件名如下所示：

我的文件.1234567890.12.xff

“.12”部分是我不知道的。但是，我只需要知道是否存在以“myfile.1234567890”开头并以“.xff”结尾的文件。

我将如何在 lua 中实现这一点？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T22:43:59.810

适用于 Windows 的版本。
没有外部库。

```
local function recursive_search(path, OS_filemask, filename_pattern, search_for_dirs, only_top_level)
   path = path:gsub('/', '\\'):gsub('\\*$', '\\', 1)
   OS_filemask = OS_filemask or '*.*'
   filename_pattern = filename_pattern or '.*'
   local arr = {}
   local pipe = io.popen((search_for_dirs and 'dir /b/ad "' or 'dir /b/a-d "')..path..OS_filemask..'" 2> nul')
   for f in pipe:lines() do
      if f:lower():match('^'..filename_pattern..'$') then
         table.insert(arr, path..f)
      end
   end
   pipe:close()
   if not only_top_level then
      for _, path in ipairs(recursive_search(path, nil, nil, true, true)) do
         for _, f in ipairs(recursive_search(path, OS_filemask, filename_pattern, search_for_dirs)) do
            table.insert(arr, f)
         end
      end
   end
   return arr
end

-- Find all number-named JPEG picures in C:\Games
-- OS filemask can't filter it properly, use Lua pattern to restrict search conditions
for _, f in ipairs(recursive_search('C:\\Games', '*.jp*g', '%d+%.jpe?g')) do
   print(f)
end

-- Find all folders in C:\WINDOWS with 32 in its name
-- OS filemask is enough here
for _, f in ipairs(recursive_search('C:\\WINDOWS', '*32*', nil, true)) do
   print(f)
end

-- myfile.1234567890.12.xff
for _, f in ipairs(recursive_search('C:\\', 'myfile.1234567890.*.xff', 'myfile%.1234567890%.%d+%.xff')) do
   print(f)
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:49:24.693

[您可以在此链接](https://github.com/davidm/lua-glob-pattern)中找到 Lua 中 glob 函数的实现。但是您可以遍历文件夹中所有文件的列表，并根据您的模式检查它们。您可以使用[LuaFileSystem lfs.dir()](http://keplerproject.github.com/luafilesystem/)来获取列表。

# python - Python\Numpy 中的数组行乘法循环

> ID：15418762
> 
> 赞同：1
> 
> 时间：2013-03-14T19:43:28.093
> 
> 标签：python, numpy

我试图将数组 A 的每一行乘以另一个数组 (B) 中的每一行，以获得与前两个数组具有相同行数和列数的 len(A) 个数组。

有什么帮助吗？

```
pseudo-code
from numpy  import *
import numpy as np

def multipar():
    A = array( [ (0.1,0.5,0.2,0.2), (0.2,0.5,0.1,0.2), (0.7,0.1,0.1,0.1) ] )
    B = array( [ (1,2,3,4), (2,3,4,5), (3,4,5,6) ] )
    for i in len(A):
        average = A[i]*B
    print average

multipar() 
```

我想要每个生成的新数组

```
Array C
(0.1,0.5,0.2,0.2) * (1,2,3,4);
(0.1,0.5,0.2,0.2) * (2,3,4,5);
(...)
Array D
(0.2,0.5,0.1,0.2) * (1,2,3,4);
(...) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:57:12.867

你可以用更高的维度做一些有趣的事情。扩展任何一个`A`或`B`进入第三个维度，然后将其与未扩展的那个相乘。例如：

```
A = array( [ (0.1,0.5,0.2,0.2), (0.2,0.5,0.1,0.2), (0.7,0.1,0.1,0.1) ] )
B = array( [ (1,2,3,4), (2,3,4,5), (3,4,5,6) ] )

tiled = tile (B, (3,1,1)).swapaxes (0,1)
all_results = A*tiled 
```

现在你有你所有的结果数组`all_results`；`all_results[0]`您可以使用,`all_results[1]`等轻松获取它们

编辑：响应最新的问题编辑：如果您真的需要单独的结果数组，那么还有两个选项：

*   `C, D, E = all_results`
*   将我的第一个建议中的最后两个语句替换为：

    C = B * A[0]

    D = B * A[1]

    E = B * A[2]

如果您确实需要单独的数组来存储结果，并且需要更多的行以便需要循环，那么您可以执行类似的操作（感谢@Jaime 的广播符号）

```
all_results = A[:, None, :] * B[None, :, :]
for i, res in enumerate (all_results):
    locals () ['result%d'%i] = res 
```

现在乘以第一行的结果在名为 的变量`res1`中，第二行在 中`res2`，依此类推。

# php - PHP：跨请求保持 LDAP 连接

> ID：15418765
> 
> 赞同：0
> 
> 时间：2013-03-14T19:43:35.063
> 
> 标签：php, session, encryption, ldap

我有一个（我认为并不少见）场景：

我的 PHP 应用程序查询 LDAP 服务器来处理身份验证。LDAP 服务器只接受经过身份验证的访问，因此第一个 ldap_bind() 调用实际上用作身份验证机制并检索登录用户的基本信息。

到目前为止，一切都很好。但是当我想使用 LDAP 服务来执行其他查询（例如登录用户或其他用户的额外信息）时，我必须再次通过 LDAP 身份验证。

我*不想*将用户的密码存储在会话中，因为它可能会泄漏，但我也不能让用户在每次请求时进行身份验证，以便为 LDAP 服务器提供凭据。

所以我想到了以下解决方案：

1.  将 LDAP 连接句柄存储在会话中，因此我不必每次都提供凭据。这是行不通的，因为句柄是一种资源，不能为会话存储而序列化。
2.  将密码存储在会话中，但已加密。加密种子可以从一些易失的变量中派生出来，例如会话 ID 的散列，这样它就不会存储在变量中并且永远不会泄漏。
3.  `<Your idea here>`

有什么想法吗？

谢谢

通用汽车

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:54:30.517

我的两分钱...我认为可以避免在第一次连接时为用户拉下所有内容的第一个用例。将所有内容减去会话中的密码。第二种情况：您是否需要以用户 X 身份进行身份验证才能访问该数据？您是否可以不创建具有读取权限的用户并使用这些凭据（应用程序用户）来查询这些类型的事物。或者，用户信息可能不应该存在于 AD 中。将其用于身份验证，但将用户数据保存在数据库（主）中，或从 AD（从）同步到数据库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T20:53:34.430

至于存储密码，这是可行的（使用 Yii 框架，但很容易适应原生 PHP）：

```
public function getUserPW(){
    if(empty(Yii::app()->user->sneak)) return false;

    $seed=sha1(Yii::app()->session->sessionID);
    $iv=substr(md5(Yii::app()->session->sessionID),0,16);

    return openssl_decrypt(Yii::app()->user->sneak,self::CRYPT_ALGO,$seed,false,$iv);
}

public function setUserPW($pw){
    $seed=sha1(Yii::app()->session->sessionID);
    $iv=substr(md5(Yii::app()->session->sessionID),0,16);

    Yii::app()->user->setState('sneak',
        openssl_encrypt($pw,self::CRYPT_ALGO,$seed,false,$iv)
    );
} 
```

# jquery - 用于 MVC4 的 jQuery 数据表 bundleconfig？

> ID：15418775
> 
> 赞同：7
> 
> 时间：2013-03-14T19:44:12.260
> 
> 标签：jquery, asp.net-mvc-4, datatables, nuget

Nuget 在 VS 2012 的单独文件夹中安装 jQuery DataTables -1.9.4。见图。如何将它们与现有的 bundleConfig 捆绑在一起？![在此处输入图像描述](../Images/7072c4f637edf0fa27c38b9c6cf225ff.png)

我拥有的当前捆绑包是

```
bundles.Add(new ScriptBundle("~/bundles/jquery").Include(
                        "~/Scripts/jquery-{version}.js"));
   bundles.Add(new ScriptBundle("~/bundles/jqueryui").Include(
                    "~/Scripts/jquery-ui-{version}.js"));
   bundles.Add(new ScriptBundle("~/bundles/jqueryval").Include(
                        "~/Scripts/jquery.unobtrusive*",
                        "~/Scripts/jquery.validate*"));
   bundles.Add(new ScriptBundle("~/bundles/modernizr").Include(
                        "~/Scripts/modernizr-*"));
   bundles.Add(new StyleBundle("~/Content/css").Include("~/Content/site.css"));
   bundles.Add(new StyleBundle("~/Content/themes/base/css").Include(
                        "~/Content/themes/base/jquery.ui.core.css",
                        "~/Content/themes/base/jquery.ui.resizable.css",
                        "~/Content/themes/base/jquery.ui.selectable.css",
                        "~/Content/themes/base/jquery.ui.accordion.css",
                        "~/Content/themes/base/jquery.ui.autocomplete.css",
                        "~/Content/themes/base/jquery.ui.button.css",
                        "~/Content/themes/base/jquery.ui.dialog.css",
                        "~/Content/themes/base/jquery.ui.slider.css",
                        "~/Content/themes/base/jquery.ui.tabs.css",
                        "~/Content/themes/base/jquery.ui.datepicker.css",
                        "~/Content/themes/base/jquery.ui.progressbar.css",
                        "~/Content/themes/base/jquery.ui.theme.css")); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-05-09T11:53:30.410

您可以将适当的行添加到 .css 包和 .js 包中

**.JS**

```
"~/Scripts/DataTables-1.9.4/media/js/jquery.dataTables.js", 
```

**.CSS**

```
"~/Content/DataTables-1.9.4/media/css/jquery.dataTables.css", 
```

# javascript - 为什么我的日历不工作？

> ID：15418777
> 
> 赞同：-2
> 
> 时间：2013-03-14T19:44:13.437
> 
> 标签：javascript, html

它的重点是显示日历（现在是 2013 年 3 月）并使用 javascript 更改当天的 css。这是我的日历：

```
<table border="1">
  <tr><th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th></tr>
  <tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td id="1">1</td><td id="2">2</td><td id="3">3</td></tr>
  <tr><td id="4">4</td><td id="5">5</td><td id="6">6</td><td id="7">7</td><td id="8">8</td><td id="9">9</td><td id="10">10</td></tr>
  <tr><td id="11">11</td><td id="12">12</td><td id="13">13</td><td id="14">14</td><td id="15">15</td><td id="16">16</td><td id="17">17</td></tr>
  <tr><td id="18">18</td><td id="19">19</td><td id="20">20</td><td id="21">21</td><td id="22">22</td><td id="23">23</td><td id="24">24</td></tr>
  <tr><td id="25">25</td><td id="26">26</td><td id="27">27</td><td id="28">28</td><td id="29">29</td><td id="30">30</td><td id="31">31</td></tr>
</table> 
```

这是它被隔离的几天：

```
<td id="25">25</td><td id="26">26</td> 
```

所以基本上整天都是这样，这是我的js：

```
 <script type="text/javascript">
      var day=dateObj.getUTCDate();
      document.getElementById(day).style.text-decoration="underline";
      document.getElementById(day).style.color="red";
    </script> 
```

它不起作用。我假设问题出在我的 JavaScript 中，你能帮忙吗？

注意：日历本身显示正常，但不会使当天变为红色或下划线。

编辑：伙计们，我已经尝试了一切。别再讨厌了，我以为这个地方是为了帮助菜鸟，而不是嘲笑他们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:52:35.227

您需要将 dateObj 定义为 Date 对象。

```
var dateObj = new Date();
var day = dateObj.getUTCDate();
document.getElementById(day).style.textDecoration = "underline";
document.getElementById(day).style.color = "red"; 
```

**[jsFiddle 示例](http://jsfiddle.net/j08691/BGkZW/)**

当引用 CSS 中的连字符样式时，您可以在 JavaScript 中对它们进行驼峰式命名（例如 textDecoration 与 text-decoration）。

另请注意，在 HTML5 之前，以数字开头的 ID 无效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:48:20.810

```
document.getElementById(day).style.text-decoration="underline"; 
```

所有通常需要连字符的 CSS 属性都`-`使用 camelCase 代替^*，因为 JavaScript 不能在任何未被访问的名称/属性中使用连字符`[]`：

```
document.getElementById(day).style.textDecoration = "underline"; 
```

^(*它被解释为减号，在这种情况下没有意义)

# firefox - 如何使用 HTML5 Canvas 在 Firefox 中播放声音？（在 Chrome 中工作）

> ID：15418784
> 
> 赞同：0
> 
> 时间：2013-03-14T19:44:43.303
> 
> 标签：firefox, html5-canvas

我在 HTML5 Canvas 游戏中有这段代码：

```
var snd1 = new Audio("shoot.mp3"); // buffers automatically when created 
```

后来我有：

```
if (data.PlaySound == "1") snd1.play(); 
```

这适用于 Chrome，但不适用于 Firefox 或 Safari。

您可以在[http://glitchnap.com/zumbie](http://glitchnap.com/zumbie)上亲自测试游戏，但您需要连接移动设备来生成任何声音。整个移动设备对 HTML5 没有影响，它只是一个画布，根据服务器的指示放置对象（并生成声音）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:25:31.933

我认为截至目前 Firefox 和 Safari 不支持 mp3 编解码器。

这是一件经济的事情：MP3 在商业发行时需要支付高额的版税。

当您的用户浏览器是 Firefox 或 Safari 时，您必须提供 WebM 或 Ogg Theora 格式的音频。

# php - 包括多个作曲家存储库配置文件

> ID：15418787
> 
> 赞同：3
> 
> 时间：2013-03-14T19:44:49.840
> 
> 标签：php, composer-php

我想将作曲家存储库配置分解为不同的文件。

我使用本地和外部存储库，我想将它们的配置分开。

然后，在运行安装或更新任务时，这些文件将被拉入主 composer.json。

这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-06-24T02:02:54.443

现在有一个名为[composer-merge-plugin 的插件](https://github.com/wikimedia/composer-merge-plugin)，它可以在运行时合并多个 composer 文件。

## 用法：

假设您的主`composer.json`文件位于基本路径中，然后您有其他`composer.json`文件要从以下子目录中加载`/plugins`：

```
/
|-- composer.json
|-- /plugins
    |-- /kittenizer
        |-- composer.json
    |-- /puppyizer
        |-- composer.json 
```

在你的主`composer.json`文件中，你可以加载这些：

```
{
    "require": {
        "wikimedia/composer-merge-plugin": "~1"
    },
    "extra": {
        "merge-plugin": {
            "include": [
                "plugins/*/composer.json"
            ],
            "recurse": true,
            "replace": false,
            "merge-dev": true,
            "merge-extra": false
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-01-04T12:54:42.707

我参加聚会已经很晚了，但是我遇到了类似的问题，并且在没有作曲家插件的情况下解决了它。

```
/root
|-- composer.json
|-- /vendor
|-- /more-composer-dependencies
    |-- composer.json 
```

您在根目录中的作曲家文件：

```
{
    "repositories": [
        {
            "type": "path",
            "url": "more-composer-dependencies"
        }
    ],
    "require": {
        "something/more-dependencies": "dev-master"
    }
} 
```

您在其他目录 ( `more-composer-dependencies`) 中的作曲家文件必须至少包含以下内容：

```
{
    "name": "something/more-dependencies"
} 
```

您现在可以`composer install`在您的根目录中，并且在您的子文件夹中指定的任何内容都`composer.json`将放在您的根目录的供应商文件夹中。

❗ 警告：只有 root 的 composer.json 可以包含存储库元数据，而不是子文件夹 ( [composer-doc](https://getcomposer.org/doc/04-schema.md#repositories) ) 中的元数据。

旁注：在我的情况下，子目录中的 composer.json 是可克隆的资源。我使用 composer hook [pre-install-cmd](https://getcomposer.org/doc/articles/scripts.md#:%7E:text=pre-install-cmd)来确保“更多依赖项”是现有的并且是最新的。

# mysql - 如何将此文件导入 MySQL？

> ID：15418789
> 
> 赞同：0
> 
> 时间：2013-03-14T19:44:55.483
> 
> 标签：mysql, character-encoding, mysqlimport

我正在尝试[将此匈牙利文本文件](http://www.cometapps.com/share/hu_50K.zip)导入 MySQL 表，但匈牙利字符总是损坏。我已经为导入文件和表尝试了许多编码，但没有找到正确的组合。

文件格式为每行一个单词和一个数字，以空格分隔。我的导入表有两列，varchar 和 integer。我正在使用 MySQL 5.5.16 和 phpMyAdmin 3.4.5。首选 phpMyAdmin 解决方案，但如有必要，我可以使用命令行。

提前致谢！

编辑：上面固定的断开链接

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T09:01:29.493

您的文件似乎以 UTF-8 编码。例如：

```
$ unzip -p hu_50K.zip | sed -n 59p | xxd
0000000: 6bc3 b673 7ac3 b66e c3b6 6d20 3532 3030 k..sz..n..m 5200
0000010: 310d 0a 1..

```

我知道“ *köszönöm* ”是匈牙利语的“*谢谢*”。如果这是文件的第 59 行应该包含的内容，则`ö`字符 (U+00F6) 被编码为`0xc3b6`UTF [-](http://www.fileformat.info/info/unicode/char/f6/charset_support.htm) 8。

要使用以下方法导入此文件[`LOAD DATA INFILE`](http://dev.mysql.com/doc/en/load-data.html)：

```
LOAD DATA [LOCAL] INFILE '/path/to/hu_50K.txt'
    INTO TABLE my_table
    CHARACTER SET utf8
    FIELDS
        TERMINATED BY ' '
    LINES
        TERMINATED BY '\r\n'
    (col_word, col_number) 
```

当然，`col_word`必须能够容纳字符 - 如果它也以 UTF-8 编码，它必然会如此。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T20:56:35.997

尝试此解决方案将文件转换为 utf-8

```
import codecs 
import commands 
f_loc = "my.file"
f_enc = commands.getoutput('file -b --mime-encoding %s' % f_loc)
 f_stream = codecs.open(f_loc, 'r', f_enc) 
f_out = codecs.open(f_loc+"b", 'w', 'utf-8') 
for l in f_stream: 
     f_output.write(l) 
 f_stream.close() 
 f_out.close() 
```

完成此操作后，您可以使用[load data infile](http://dev.mysql.com/doc/refman/5.1/en/load-data.html)将此文件加载到 mysql 中。

还要确保 LOAD DATA INFILE 的 CHARACTER SET 子句设置为文件的编码，因为它可以覆盖 character_set_database 系统变量

# jquery - jQuery tablesorter 文本提取

> ID：15418790
> 
> 赞同：0
> 
> 时间：2013-03-14T19:45:00.037
> 
> 标签：jquery, tablesorter

jQuery 表格排序器

我正在使用 Jquery tablesorter 2.0，我需要使用具有输入和选择和中断标记的列对表进行排序。

我尝试了许多使用文本提取的方法。但我没有得到想要的结果。它将内容视为文本。

这是我的 td，想要对输入的文本数据进行排序。

```
<td>
    <input type=text maxlength=2 size=1 value="10"><br>
    <select >
        <option value="D">D</option>
        <option value="S"> s</option>
    </select>
</td> 
```

请。帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T19:42:22.957

我认为解析器会是一个更好的主意。

```
$.tablesorter.addParser({
    id: "input",
    is: function(s, table, cell){
        return false;
    },
    format: function(s, table, cell) {
        return $(cell).find('input').val() || s;
    },
    type: "text"
}); 
```

然后像这样初始化表：

```
$('table').tablesorter({
    headers: {
        // 0 is the index of the first column (zero-based)
        0: { sorter: 'input' }
    }
}); 
```

注意：如果您使用的是tablesorter v2.0.5，那么上面的解析器可以正常工作，但是如果您使用“updateCell”方法，它将无法正常工作。

# azure - CloudService 实例之间的共享状态

> ID：15418791
> 
> 赞同：0
> 
> 时间：2013-03-14T19:45:09.363
> 
> 标签：azure, azure-worker-roles

我正在创建一个多人游戏，其中一个玩家主持一个游戏会话，其他人可以加入该会话。我遇到的问题是如何确保会话中的所有玩家都可以访问当前的游戏状态，无论他们最终连接到什么云服务实例。

由于必须非常频繁地读取此状态，因此我不想将其放入数据库或存储中，因为我想要尽可能快的访问时间。现在，它只是每个实例中内存中的游戏会话列表。我的第一个想法是使用 Azure 缓存功能，但到目前为止，它仅适用于大小为 Small 及以上的云服务实例，而我的实例是超小的实例。

是否可以通过查找托管玩家创建他的游戏会话的实例，然后获取该实例的端点并将其传递回加入的玩家来确保所有加入的玩家最终与托管玩家处于同一实例中在整个游戏过程中使用？

或者有没有更好的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:23:30.897

到目前为止，使用专用缓存并为小型实例付费是一种更好的方法，然后尝试执行几乎不可能完成的任务，即尝试为负载平衡环境带来亲和力，并迫使一个超级糟糕的架构代替一个好的架构。

如果成本是一个问题，我建议申请微软的 Bizspark 计划，该计划每月免费提供 2 个小实例。

[http://www.microsoft.com/bizspark/](http://www.microsoft.com/bizspark/)

# javascript - 如何替换 select2 默认微调器？

> ID：15418796
> 
> 赞同：2
> 
> 时间：2013-03-14T19:45:20.810
> 
> 标签：javascript, jquery, css, jquery-select2

**如何替换[select2](https://github.com/ivaynberg/select2) spinner.gif？**

我已经尝试过下一个 css：

```
.select2-container-multi .select2-choices .select2-search-field input.select2-active {
   background: #fff url('custom-spinner.gif') no-repeat 100% !important;
   background: #fff url('custom-spinner.gif') no-repeat 100% !important;
 } 
```

这是一个屏幕截图：

![截屏](../Images/864a19f50c8ba024290ce63ca497f292.png)

我没有实现`select2-spinner.gif`用`spinner1-gif`

这是css [https://github.com/ivaynberg/select2/blob/master/select2.css](https://github.com/ivaynberg/select2/blob/master/select2.css)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T20:16:35.487

这是 select2.css 版本 3.3.1 中“spinner.gif”的每个实例。复制它，更改文件路径的每个实例，并将其放置在select2.css*之后加载的样式表中。*

```
.select2-search input.select2-active {
    background: #fff url('select2-spinner.gif') no-repeat 100%;
    background: url('select2-spinner.gif') no-repeat 100%, -webkit-gradient(linear, left bottom, left top, color-stop(0.85, white), color-stop(0.99, #eeeeee));
    background: url('select2-spinner.gif') no-repeat 100%, -webkit-linear-gradient(center bottom, white 85%, #eeeeee 99%);
    background: url('select2-spinner.gif') no-repeat 100%, -moz-linear-gradient(center bottom, white 85%, #eeeeee 99%);
    background: url('select2-spinner.gif') no-repeat 100%, -o-linear-gradient(bottom, white 85%, #eeeeee 99%);
    background: url('select2-spinner.gif') no-repeat 100%, -ms-linear-gradient(top, #ffffff 85%, #eeeeee 99%);
    background: url('select2-spinner.gif') no-repeat 100%, linear-gradient(top, #ffffff 85%, #eeeeee 99%);
}

.select2-more-results.select2-active {
    background: #f4f4f4 url('select2-spinner.gif') no-repeat 100%;
}

.select2-container-multi .select2-choices .select2-search-field input.select2-active {
    background: #fff url('select2-spinner.gif') no-repeat 100% !important;
} 
```

# cmake - 使用 cmake，如何将由 external_project 语句构建的目标文件链接到另一个库？

> ID：15418803
> 
> 赞同：5
> 
> 时间：2013-03-14T19:45:28.810
> 
> 标签：cmake

在我们的项目中，我们想使用一个第三方库（A），它是使用自动工具构建的，它会生成一个我们需要的目标文件（B）@链接时间我们的一个库（C）。

```
external_project(
    A
    ...
)
set_source_files_properties(B PROPERTIES DEPEND A)
add_library(C ... A)
add_dependency(C B) 
```

我的印象是这应该可以解决问题，但是 cmake 命令失败，指出它在检查 add_library 期间找不到文件 A。

任何修复或替代解决方案将不胜感激！（更改第三方库不是一种选择）谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T23:10:58.960

这里有几个问题：

*   `external_project`应该[`ExternalProject_Add`](http://www.cmake.org/cmake/help/v2.8.10/cmake.html#module%3aExternalProject)
*   源文件没有称为`DEPEND`可用的属性 - 该`set_source_files_properties`命令在此处无效。（这里是[源文件中可用的属性](http://www.cmake.org/cmake/help/v2.8.10/cmake.html#section_PropertiesonSourceFiles)）
*   [`add_library`](http://www.cmake.org/cmake/help/v2.8.10/cmake.html#command%3aadd_library)期望传递源文件列表，而不是另一个 CMake 目标（即`A`）
*   `add_dependency`应该[`add_dependencies`](http://www.cmake.org/cmake/help/v2.8.10/cmake.html#command%3aadd_dependencies)

除了这 4 行之外，一切都还好 :-)

所以问题是你想`B`在`add_library`调用中包含目标文件，但它在配置时（调用 CMake 时）不可用，仅在构建时可用。

我认为您将不得不执行以下操作：

```
ExternalProject_Add(
    A
    ...
)

set_source_files_properties(
    ${B} PROPERTIES
    EXTERNAL_OBJECT TRUE  # Identifies this as an object file
    GENERATED TRUE  # Avoids need for file to exist at configure-time
)

add_library(C ... ${B}) 
```

# c# - 我们可以在原生 PHP 中使用 .ascx 吗？

> ID：15418805
> 
> 赞同：0
> 
> 时间：2013-03-14T19:45:34.513
> 
> 标签：c#, php, ascx

我有一个运行 asp.net 和 php 的网络服务器。我有各种需要在 php 端使用的 .ascx 控件。有没有办法在 php 中原生地使用这些控件？还是我需要用 php 重写它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:47:12.513

PHP 无法运行 ASP.NET 代码*。您将需要在 PHP 中重写您的控件。

*：至少，不是以任何明智的、高效的方式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:48:01.623

您不能在 php 页面上直接使用它们，但如果将它们封装在一个或多个 aspx 页面上，它可以工作。

# html - 如何将图像放在文本 HTML 前面？

> ID：15418808
> 
> 赞同：3
> 
> 时间：2013-03-14T19:45:44.317
> 
> 标签：html, css, dreamweaver

我正在使用 HTML 和 CSS 中的 Adob​​e Dreamweaver CS6 创建网站模板，并且我创建了一个带有`position:fixed;`声明的标题，但是当我实时查看代码时，我的虚拟文本显示在图像顶部原因。这是 HTML 中的常见问题吗？有解决办法吗？

# 我的代码部分

## 我的 HTML：

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- TemplateBeginEditable name="doctitle" -->
<title>DC Personal Training</title>
<!-- TemplateEndEditable -->
<!-- TemplateBeginEditable name="head" -->
<!-- TemplateEndEditable -->

<link href="../CSS/styles.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div class="header">
<!-- end .header --><img src="../Images/header.png" width="1567" height="177" alt="Dan Christopherson Personal Training" /></div>
<div class="container">

  <div class="content">
    <h1><!-- TemplateBeginEditable name="Heading" -->Heading<!-- TemplateEndEditable --></h1>
    <!-- TemplateBeginEditable name="Content" -->Just some
    <!-- end .content -->
    dummy text.<!-- TemplateEndEditable --></div>
  <div class="footer">
    Copyright Dan Christopherson Personal Training, 2013\. All rights reserved. Website by Xtreme Web Design.
  <!-- end .footer --></div>
<!-- end .container --></div>
</body>
</html> 
```

## 我的 CSS：

```
@charset "utf-8";
body {
    font: 100%/1.4 Verdana, Arial, Helvetica, sans-serif;
    background-color: #000000;
    margin: 0;
    padding: 0;
    color: #FFF;
}

ul, ol, dl {
    padding: 0;
    margin: 0;
}
p {
    margin-top: 0;
    padding-right: 15px;
    padding-left: 15px;
    border: none;
}

a:link {
    color: #42413C;
    text-decoration: underline;
}
a:visited {
    color: #6E6C64;
    text-decoration: underline;
}
a:hover, a:active, a:focus {
    text-decoration: none;
}

.container {
    width: 960px;
    background-color: #000000;
    margin: 0 auto; 
}

.header {
    background-color: ;
    position: fixed;
    top: 0;
    vertical-align: top;
}

.sidebar1 {
    float: left;
    width: 180px;
    background-color: #EADCAE;
    padding-bottom: 10px;
}
.content {
    padding: 10px 0;
    width: 950px;
    float: left;
}
.sidebar2 {
    float: left;
    width: 180px;
    background-color: #EADCAE;
    padding: 10px 0;
}

.content ul, .content ol { 
    padding: 0 15px 15px 40px;
}

ul.nav {
    list-style: none;
    border-top: 1px solid #666;
    margin-bottom: 15px; 
}
ul.nav li {
    border-bottom: 1px solid #666;
}
ul.nav a, ul.nav a:visited {
    padding: 5px 5px 5px 15px;
    display: block;
    width: 160px;
    text-decoration: none;
    background-color: #C6D580;
}
ul.nav a:hover, ul.nav a:active, ul.nav a:focus {
    background-color: #ADB96E;
    color: #FFF;
}

.footer {
    padding: 10px 0;
    background-color: #000000;
    position: relative;
    clear: both;
    color: #8cc638;
}

.fltrt {
    float: right;
    margin-left: 8px;
}
.fltlft {
    float: left;
    margin-right: 8px;
}
.clearfloat {
    clear:both;
    height:0;
    font-size: 1px;
    line-height: 0px;
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T19:51:09.803

在您的标题元素的 css 规则中添加`z-index: 100;`after 。`position: fixed;`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:55:17.603

“z-index”必须与“位置”结合使用。'position' 单独工作，它将设置相应 div 或任何元素的位置。默认情况下，所有内容都在同一层（相同的 z-index），要将某些元素放在另一个元素的顶部（或下方），请定义另一个数字、减号、0（零）或正整数。

# google-maps-api-3 - 地图标记上的 setMap(null) 并没有真正破坏标记（jquery-ui-map）

> ID：15418812
> 
> 赞同：0
> 
> 时间：2013-03-14T19:45:57.663
> 
> 标签：google-maps-api-3, jquery-ui-map

这是问题所在：

当它们离开视口时，我想从地图中删除所有地图标记。我有检查它们位置的代码，然后在标记上运行 setMap(null)。标记消失。然后，根据 Google 地图文档，我将标记本身设置为 null 以销毁它。

问题是 jquery-maps-ui 的检索地图标记的功能*仍然*包括已删除的标记！

```
function cleanUpMarkers(map) {
        console.log("$('#map_canvas').gmap('get', 'markers').length = " +  $('#map_canvas').gmap('get', 'markers').length);
        $.each($('#map_canvas').gmap('get', 'markers'), function (i, marker) {
            if (!map.getBounds().contains(marker.getPosition())) {
                console.log(marker.internalId);
                marker.setMap(null);
                marker = null;
                delete marker;

                //console.log(marker.internalId);

            }
        });
        console.log("$('#map_canvas').gmap('get', 'markers').length = " + $('#map_canvas').gmap('get', 'markers').length);

    } 
```

我怎样才能*真正*删除标记，以便**$('#map_canvas').gmap('get', 'markers')**不返回已删除的标记？

# authentication - 将未激活的用户引导到单个页面并限制访问

> ID：15418820
> 
> 赞同：0
> 
> 时间：2013-03-14T19:46:17.497
> 
> 标签：authentication, yii

因此，鉴于我有一个字段为“is_confirmed”的用户表，我希望使用重定向将具有等于 0 的“is_confirmed”的任何人汇集到单个 url...

有没有办法进行此检查，以便只需要执行一次？我想一个很好的例子是任何需要登录用户的页面如何强制用户进入登录页面的默认用户功能......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:34:37.800

我自己还没有具体尝试过，但是根据 Yii 的文档，可能会根据值[在登录操作中重定向用户。](http://www.yiiframework.com/doc/guide/1.1/en/topics.auth#login-and-logout)如果用户被确认，则调用 CWebUser::login(..) 方法将身份存储在持久存储中并使用 returnUrl 重定向，否则用户未确认因此跳过该部分并仅呈现 inlimbo*页面*。

在您的 SiteController::actionLogin() 中，您可能会做这样的事情（另外，UserIdentity 组件应该有一个返回确认字段值的方法）-

```
$identity = new UserIdentity();
if($identity->authenticate()) {
  if($identity->isConfirmed() == 1) {
    Yii::app()->user->login($identity);
    $this->redirect(Yii::app()->user->returnUrl);
  } else {
    $this->render('not_yet_confirmed_view');
  }
} else {
  throw new CHttpException(500,'Internal Server Error. Could not authenticate.');
} 
```

编辑 - 删除了意外的额外 CWebUser::login() 并澄清 UserIdentity 组件只需要一些额外的智能。

# bash - cURL: (6) 无法解析主机 'GET' BASH 脚本

> ID：15418826
> 
> 赞同：0
> 
> 时间：2013-03-14T19:46:49.750
> 
> 标签：bash, curl, web-crawler

我的 bash 脚本有问题。它正在产生一个错误

curl (6) 无法解析主机

我做错了什么？

以下是我的 bash 脚本。

```
#!/bin/bash
(set -o igncr) 2>/dev/null && set -o igncr; # this comment is needed

CookieFileName=cookies.txt

TEST="curl -k --cookie  $CookieFileName --cookie-jar $CookieFileName POST -F "passUID=xxx&passUCD=xxx" https://wp1.coned.com/retailaccess/default.asp"

echo $TEST

RESPONSE=`$TEST`
echo $RESPONSE 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:50:16.267

试试这个：

```
#!/bin/bash
set -o igncr

CookieFileName='cookies.txt'

curl -k \
    --cookie "$CookieFileName" \
    --cookie-jar "$CookieFileName" \
    --data "passUID=xxx&passUCD=xxx" \
    "https://wp1.coned.com/retailaccess/default.asp" # POST request 
```

如果您需要在此之后加载另一个页面，只需`cURL`将命令与上一行链接：

```
curl -k \
    --cookie "$CookieFileName" \
    --cookie-jar "$CookieFileName" \
    "https://wp1.coned.com/retailaccess/another_page.asp" # GET request 
```

## 笔记

命令替换：`$(foo bar)`导致命令 'foo' 使用参数 'bar' 执行，`$(..)`并将被*输出*替换。请参阅[http://mywiki.wooledge.org/BashFAQ/002](http://mywiki.wooledge.org/BashFAQ/002)、[http://mywiki.wooledge.org/CommandSubstitution](http://mywiki.wooledge.org/CommandSubstitution)和[http://mywiki.wooledge.org/BashFAQ/082](http://mywiki.wooledge.org/BashFAQ/082)

# python - 如何使用 enaml 完成初始 Splitter 和 SplitItem 布局？

> ID：15418828
> 
> 赞同：2
> 
> 时间：2013-03-14T19:46:54.150
> 
> 标签：python, enaml

我正在使用[enaml](http://docs.enthought.com/enaml/index.html)工具包，想知道如何初始化`Splitter`/`SplitItem`布局。

下面是一些非常简单的示例代码。我希望窗口从左边开始，`SplitItem`占据窗口宽度的 2/3，右边占据`SplitItem`另外三分之一。我在不同的地方尝试了各种限制，但似乎无法找到我需要做的事情。

窗口开始如下： ![等宽拆分项目](../Images/5a275d71adba3a188eb70d8d61ca39c9.png)

我希望它像这样开始： ![左拆分项目更宽](../Images/4e3a37253fbf1889ca8b70f93fd0509d.png)

```
from enaml.widgets.api import (
    Window, Container, Splitter, SplitItem, Html
    )

enamldef Left(Container):
    Html:
        source = '<center><h1>Hello Left!</h1></center>'

enamldef Right(Container):
    Html:
        source = '<center><h1>Hello Right!</h1></center>'

enamldef Main(Window):
    initial_size = (800,400)
    Container:

        Splitter:

            SplitItem:
                Left:lt:
                    pass

            SplitItem:
                Right:rt:
                    pass 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T22:51:46.887

使用`stretch`每个`SplitItem`. 初始宽度将与总拉伸值的比例成比例。所以对于左边的，使用`stretch = 3`和右边的`stretch = 1`。这会将 3/4 的空间分配给左侧，将 1/4 的空间分配给右侧。拉伸值必须是整数，而不是浮点值，因为这是底层工具包所期望的。

# asp.net - 无法在数据库中保存文件名

> ID：15418830
> 
> 赞同：1
> 
> 时间：2013-03-14T19:47:05.460
> 
> 标签：asp.net

我正在尝试将文件名和文件路径保存在数据库中。但无法保存它:(。数据库连接工作正常，但我不知道是什么问题

```
 con.Open();
         string fileExt = System.IO.Path.GetExtension(FileUpload1.FileName);
         SqlCommand cmd = new  SqlCommand("insertintoTbl_Videos(VideoName,VideoPath)values(@VideoName,@VideoPath)",con);
        if (fileExt == ".avi")
        {
            try
            {
                cmd.Parameters.AddWithValue("@VideoName",  "video/"+FileUpload1.FileName);
                cmd.Parameters.AddWithValue("@VideoPath", "video/" +FileUpload1.FileName);
                FileUpload1.SaveAs(Server.MapPath("~/video/" + FileUpload1.FileName)); 
                Literal1.Text = "upload"; 
   cmd.ExecuteNonQuery();

            }
            catch (Exception ex)
            {
                Label1.Text = "ERROR: " + ex.Message.ToString();
            }

        }
        else
        {
            Label1.Text = "Only .avi files allowed!";
        }

    }
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:49:06.817

您尚未为该命令提供 SqlConnection。你需要：

```
SqlCommand cmd = new  SqlCommand("insertintoTbl_Videos(VideoName,VideoPath)values(@VideoName,@VideoPath)", con); 
```

您实际上也不会在任何地方执行命令。这也需要明确地完成：

```
cmd.ExecuteNonQuery(); 
```

# asp.net - 尝试在 gridview 上获取 itemteplate 的值时出错

> ID：15418837
> 
> 赞同：0
> 
> 时间：2013-03-14T19:47:35.970
> 
> 标签：asp.net, itemtemplate

我有一个只有`ItemTemplate`字段的网格视图。我有（`DropDownLists, Labels and TextBoxes`）。我得到了`DropDownLists`和`TextBoxes`完美的价值观......但我`Labels`总是给我返回空值。为什么？

这是我的`ItemTemplates`：

```
 <asp:TemplateField HeaderText="RESPONSÁVEL"> 
        <ItemTemplate>
           <asp:DropDownList ID="Drop_Responsaveis" runat="server" Width="115px"  ></asp:DropDownList>                                        
        </ItemTemplate>
    </asp:TemplateField>

<asp:TemplateField HeaderText="PROJETO" HeaderStyle-Width="90px" ItemStyle-HorizontalAlign="Center" ItemStyle-Font-Size="12px">
        <ItemTemplate>
           <asp:Label ID="Lbl_Projeto" runat="server"><%# Eval("projeto") %></asp:Label>
         </ItemTemplate>
</asp:TemplateField>

<asp:TemplateField ItemStyle-HorizontalAlign="Center" ItemStyle-Width="60px"  HeaderText="PREVISÃO Calendar"> <%-- CAMPO 4--%>
        <ItemTemplate>
            <asp:TextBox ID="TxtPrevisao" runat="server" Width="70px" Height="12px" Text='<%# Eval("previsao","{0:dd/MM/yyyy}") %>'></asp:TextBox> 
            <asp:CalendarExtender ID="CalendarExtender1" runat="server" Format="dd/MM/yyyy" TargetControlID="TxtPrevisao" PopupButtonID="TxtPrevisao" CssClass="MyCalendar">
            </asp:CalendarExtender>
         </ItemTemplate>
    </asp:TemplateField> 
```

这是我`codebehind`如何获得这些值的展示（在 a 内`Button_Click Event`）：

```
 string projeto = "",responsavel = "", previsao = "";  
foreach (GridViewRow gvr in GridView1.Rows)
   {
     Control ddl_resp = gvr.FindControl("Drop_Responsaveis");
     Control lbl_projeto = gvr.FindControl("Lbl_Projeto");
     Control TxtPrevisao = gvr.FindControl("TxtPrevisao");

    if (ddl_resp != null)
       {
          DropDownList ddl = ddl_resp as DropDownList;
          responsavel = ddl.SelectedValue.ToString();
       }
    if (TxtPrevisao != null)
       {
          TextBox preview = TxtPrevisao as TextBox;
          previsao = preview.Text;
       }
    if (lbl_projeto != null)
       {
          Label project = lbl_projeto as Label;
          projeto = project.Text;
       }
   } 
```

`projeto`ALWAYS的值是Empty，但在 gridview 上，它显示它的值是正常的......也许是因为那个`Eval`？

# c++ - 如何将元组 <> 剥离回可变参数模板类型列表？

> ID：15418841
> 
> 赞同：19
> 
> 时间：2013-03-14T19:47:51.023
> 
> 标签：c++, templates, c++11, std, variadic-templates

有没有办法**剥离**a`std::tuple<T...>`以恢复它`T...`？

**例子**

假设`vct<T...>`是一个*预先存在的* **可变参数类模板**，

```
using U = std::tuple<int,char,std::string>;
using X = vct<int,char,std::string>;
using Y = vct< strip<U> >;            // should be same as X 
```

**笔记**

我知道[std::tuple_element](http://en.cppreference.com/w/cpp/utility/tuple/tuple_element)，但我需要所有元素，以可用作的形式`T...`

作为参考，我发现了类似的这个[问题](https://stackoverflow.com/questions/687490/how-do-i-expand-a-tuple-into-variadic-template-functions-arguments)，但我的需求有点简单（所以我希望有一个更简单的解决方案）：我所需要的只是其中的类型列表`tuple`- 我不在乎`tuple`实例的实际值。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-14T19:53:17.757

```
template<typename>
struct strip;

template<typename ...T>
struct strip<std::tuple<T...>>
{
   using type = vct<T...>;
}; 
```

然后将其用作：

```
using Y = strip<U>::type; 
```

现在`Y`与`X`.

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-03-14T19:53:34.160

不，这是不可能的。参数包是类型推导的结果，不能在其他上下文中产生。

您可以通过这种方式执行类似于您要求的操作：

```
template<template<typename...> class T, typename>
struct instantiate_with_arg_pack { };

template<template<typename...> class T, typename... Ts>
struct instantiate_with_arg_pack<T, std::tuple<Ts...>>
{
    using type = T<Ts...>;
};

template<typename... Ts>
struct vct { };

int main()
{
    using U = std::tuple<int,char,std::string>;
    using X = vct<int,char,std::string>;
    using Y = instantiate_with_arg_pack<vct, U>::type;
} 
```

实际上，您不需要将参数包保存在元组中：任何可变参数类模板都可以：

```
template<template<typename...> class T, typename>
struct instantiate_with_arg_pack { };

template<
    template<typename...> class T, 
    template<typename...> class U, // <===
    typename... Ts
    >
struct instantiate_with_arg_pack<T, U<Ts...>>
//                                   ^^^^^^^^
{
    using type = T<Ts...>;
};

template<typename... Ts>
struct vct { };

int main()
{
    using U = std::tuple<int,char,std::string>;
    using X = vct<int,char,std::string>;
    using Y = instantiate_with_arg_pack<vct, X>::type;
    //                                        ^

    // Won't fire
    static_assert(
        std::is_same<Y, vct<int,char,std::string>>::value, 
        "Error!");
} 
```

这是一个[活生生的例子](http://liveworkspace.org/code/2m2muG$2)。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-14T19:52:47.590

你不能直接“返回”一个参数包，所以你需要的是这样的：

```
template< typename... Ts >
struct vct
{ ... };

template< typename T >
struct make_vct;

template< typename... Ts >
struct make_vct< std::tuple< Ts... > >
{
    typedef vct< Ts... > type;
}; 
```

并使用

```
using Y = make_vct< U >::type; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-14T20:34:41.137

这里的目标是能够将参数包从模板实例复制到另一个模板。我没有将其限制为`tuple`，因为...为什么将其限制为`tuple`？

```
template<template<typename...>class Target, typename Src>
struct copy_pack_types;

template<template<typename...>class Target, template<typename...>class Src, typename... Ts>
struct copy_pack_types< Target, Src<Ts...> > {
  typedef Target<Ts...> type;
};

template<template<typename... Ts>class Target, typename Src>
using CopyPackTypes = typename copy_pack_types<Target, Src>::type;

#include <string>
#include <tuple>
template<typename... Ts> struct vct;
template<typename... Ts> struct vct2;
using U = std::tuple<int,char,std::string>;
using X = vct<int,char,std::string>;
using Y = CopyPackTypes< vct, U >;            // should be same as X
using Z = CopyPackTypes< vct2, U >;            // should be different from X

#include <iostream>
#include <type_traits>
int main() {
  std::cout << std::is_same< X, Y >::value << "\n";
  std::cout << std::is_same< Z, Y >::value << "\n";
  std::cout << std::is_same< Z, vct2<int,char,std::string> >::value << "\n";
} 
```

正如预期的那样，输出是“1 0 1”。

`CopyPackTypes`接受一个目标模板和一个从参数包构造的源类型作为它的唯一参数。然后它将参数包复制到目标模板。

一种标准技术是携带参数包是创建一个否则没有使用的类型，例如：

```
template<typename...>
struct types {}; 
```

它仅作为类型列表的占位符存在。然后，您可以将其中一些传递给另一个模板，并且每个包不会“踩”对方。当您需要将它应用到目标模板时，您可以使用类似上面的“ `CopyPackTypes`”来应用它。

类似的技术用于索引包：

```
template<size_t...>
struct seq {}; 
```

否则无用的类型是“黑色石板”，用于携带大量参数。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-04-07T18:25:35.537

使用 c++17 `std::apply`。

```
using U = std::tuple<int, char, std::string>;
using X = vct<int, char, std::string>;
using Y = vct<strip<U>>; // should be same as X

auto my_y = std::apply(
        [](auto... ts) {
            using Y = vct<decltype(ts)...>;
            return Y{};
        },
        U{}); 
```

# jquery - Ajax 调用接受 json 但控制器返回 html

> ID：15418847
> 
> 赞同：0
> 
> 时间：2013-03-14T19:48:09.890
> 
> 标签：jquery, ajax, get, jsonresult, asp.net-mvc-controller

所以，我一直在成功地使用 $.getJson() 来获取数据。在这种情况下，我需要从服务器同步抓取数据，所以我使用了：

```
$.ajax({
    type: "GET",
    async: false,
    url: "/Mapping/MappingExists?id=" + id,
    dataType: "json",
    success: function (data) {
        alert("SUCCESS");
        EnableAll("disableElement");
    },
    error: function () {
        alert("ERROR");
        result = true;
    }
}); 
```

控制器是：

```
[HttpGet]
    public JsonResult MappingExists(int id)
    {
        if (Privileges.HasAccess(User.Identity.Name))
        {
            try
            {
                var map = new Mapping
                {
                    ID = id
                };
                return this.Json("{\"MappingExists\": \"" + map.Exists() + "\"}", JsonRequestBehavior.AllowGet);
            }
            catch (Exception x)
            {
                return this.Json("{\"Message\": \"Unable to Get Mapping.\"}");
            }
        }
        return null;
    } 
```

我在控制器的第一行放置了一个断点，但它没有被击中。我在 JS 控制台中收到 500 错误。我认为抛出错误是因为响应标头返回 text/html；charset=utf-8 而请求标头需要 application/json, text/javascript, */* ; q=0.01。

这在某个时候起作用，然后突然之间它开始抛出 500 错误。关于如何解决这个问题的任何想法？

# android - 在 Android 操作系统中，我使用什么代码来设置回铃音（waitone）？

> ID：15418850
> 
> 赞同：0
> 
> 时间：2013-03-14T19:48:30.847
> 
> 标签：android, waitone

我需要我的应用程序能够更改回铃音（打电话给我时对方听到的声音，Funtone 或 waitone）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:49:00.410

你不能。这是由您的运营商设置的，而不是由设备设置的。

# svn - SVN 使用通配符限制文件访问

> ID：15418851
> 
> 赞同：4
> 
> 时间：2013-03-14T19:48:38.383
> 
> 标签：svn, authorization, collabnet, authz

我接任了一个项目的软件主管，现在正在管理该项目的 SVN 存储库。使用 authz 文件控制对不同部分的访问。已经为开发人员、领导、测试人员和厘米控制建立了小组。

一个文件存在于我们想要限制访问的多个分支和标签中。为了锁定它，除了领导小组外，我不希望有任何读或写访问权限。有没有办法在不列出可能存在的每个分支/标签区域的情况下做到这一点？如果可能的话，我不希望任何人在旧版本中找到它。

我的 authz 文件的示例在这里：

```
### Groups
[groups]
developers = user1, user2
leads = fearless_leader

##############################################
### Defaults for all repos in this directory
##############################################
[/]
*=r
@developers = r
@leads = rw
##############################################
### Project repository settings
##############################################
[project_src:/]
@developers = rw
@leads = rw

##############################################
### myPrivateKey.pfx settings
##############################################
[project_src:/project/branches/release1/deploy/licenses/myPrivateKey.pfx]
@developers = 
@leads = rw 
```

我希望我可以使用通配符来执行以下操作（但这不起作用）：

```
##############################################
### myPrivateKey.pfx settings
##############################################
[project_src:/project/branches/*/deploy/licenses/myPrivateKey.pfx]
@developers = 
@leads = rw 
```

感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T20:34:59.937

Subversion 的 authz 文件不支持通配符。就是这么简单。该功能不存在。

您可以使用预提交挂钩脚本（如 ）通过通配符进行限制[`svnperms.py`](http://svn.apache.org/repos/asf/subversion/trunk/tools/hook-scripts/svnperms.py)，但没有任何读取访问权限。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-06-30T14:41:49.023

正如@alroc 已经回答的那样——从 1.8版开始， [Subversion 的基于路径的授权](http://svnbook.red-bean.com/en/1.8/svn.serverconfig.pathbasedauthz.html)不支持`authz`文件中的通配符；我怀疑 authz 文件中的通配符是否会在即将发布的 Subversion 1.9 版本中实现，但是我们有可能在下一个版本中看到它们。

有一个 bugtracker 条目[#2662 “authz with wildcards”](http://subversion.tigris.org/issues/show_bug.cgi?id=2662)，它的目标里程碑是*1.9，*但由于 Subversion 1.9 版本即将发布，我认为您在不久的将来不会看到任何进展。

# c# - 外部排序的 C# vs. Delphi 速度

> ID：15418852
> 
> 赞同：0
> 
> 时间：2013-03-14T19:48:41.547
> 
> 标签：c#, delphi

我有一个 500+GB 的文本文件。必须搜索重复项，删除它们，排序并保存最终文件。当然对于这么大的文件，LINQ之类的东西根本就不好用，也不能正常工作，所以不得不使用外部排序。有一个名为“Send-Safe List Manager”的应用程序。它的速度非常快，对于一个 200MB 的 txt 文件，它可以在不到 10 秒的时间内给出结果。在使用“Greatis WinDowse”应用程序检查 exe 内部后，我发现它是用 Delphi 编写的。有一些用 C# 编写的外部排序类。我已经用他们测试了一个 200MB 的文件，所有文件都超过了 1 分钟。所以我的问题是，对于这种计算，Delphi 比 C# 快，如果我必须自己编写，那么我应该使用 delphi 吗？使用 C# 我可以达到那个速度吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-14T19:53:44.030

为大文件正确编写的排序代码*必须是磁盘绑定的*——此时您使用的语言基本上没有区别。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-14T20:05:02.737

Delphi 生成本机代码并允许内联汇编，因此理论上，在 Delphi 中更容易达到特定算法的最大速度。

但是，您所描述的性能将与 IO 性能相关，并且可能算法之间的性能差异将比 Delphi 与 .NET 的差异大几个数量级。

如果试图加快速度，语言可能是你应该看的最后一件事。

# haskell - Haskell 是否允许 let 表达式用于多个模式匹配？

> ID：15418855
> 
> 赞同：7
> 
> 时间：2013-03-14T19:48:48.123
> 
> 标签：haskell, functional-programming, pattern-matching, let

假设我有一个函数可以进行一些计算，有几种模式；以模式匹配的形式实现。

这些模式中的大多数都对参数进行处理（以及其他不同的东西），为此我在`let`表达式中使用了中间变量。但是我发现在许多模式上都使用相同的模式确实是多余的`let`，我想知道是否有一种方法可以`let`为多个模式定义 a ？

这是我重复的示例`let`：

```
data MyType a = Something a | Another Int [a]

myFunc (Something x) = -- return something, this isn't the point here
myFunc (Another 0 xs) =
    let intermediary = some $ treatment xs
    in doSthg intermediary 1 
myFunc (Another 1 (x:xs)) =
    let intermediary = some $ treatment xs
    in doSthg1 intermediary 1 x
myFunc (Another 2 (x:x':xs)) =
    let intermediary = some $ treatment xs
    in doSthg2 intermediary 2 x x' 
```

您可以看到，`xs`当我将其用于 时，该参数始终存在`intermediary`，这可以被分解。它可以通过使用辅助函数轻松实现，但我想知道如果没有辅助函数，我的要求是否可行。请尽量让初学者保持简单，我希望我的例子足够清楚。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T21:13:21.537

可以按如下方式解决此*特定问题：*

```
myFunc2 (Something x) = returnSomething x
myFunc2 (Another n ys) = 
    let xs = drop n ys
        x = head ys 
        x' = head (tail ys)
        intermediate = some $ treatment xs 
    in case n of
        0 -> doSomething intermediate n
        1 -> doSomething1 intermediate n x
        2 -> doSomething2 intermediate n x x' 
```

由于惰性评估`x`，`x'`只有在需要它们的值时才会评估。

**然而**——这可是个大问题！- 当您尝试调用`myFunc2 (Another 2 [])`（如果`doSomething2`实际使用`x`！）时，您的代码将给出运行时错误，因为要找出是什么`x`，我们需要评估`head ys`- 这将导致空列表崩溃。您作为示例提供的代码也不起作用（另一个运行时错误），`Another 2 []`因为没有匹配的模式，但是提供后备案例更容易。

如果您控制输入并始终确保列表`Another`足够长，这可能不是问题，但重要的是要注意这个问题！

# iphone - 无法 writeToFile iphone

> ID：15418857
> 
> 赞同：0
> 
> 时间：2013-03-14T19:48:58.263
> 
> 标签：iphone, objective-c, xcode, cocoa-touch

我正在使用以下代码下载 slqite 文件并存储它

```
self.responseData = NSMutableData 
```

我收到`responseData = 2048bytes`。运作良好。

然而，白写它确实会创建一个文件`myFile.sqlite`，但它是零字节的。怎么了？

```
- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    NSFileManager *fileManager = [NSFileManager defaultManager];
    NSString *dbPath = [self getDBPath];
    BOOL success = [fileManager fileExistsAtPath:dbPath];
    if(!success)
    {
        if(self.responseData)
        {
            dbPath = [dbPath stringByAppendingPathComponent:[self.selectedBtn.dbPath lastPathComponent]];
            [self.responseData writeToFile:dbPath atomically:YES];
            [self performSegueWithIdentifier:@"list" sender:self];
        }
    }

    [self.alertView removeFromSuperview];
}

-(NSString *) getDBPath
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory , NSUserDomainMask, YES);
    NSString *documentsDir = [paths objectAtIndex:0];
    NSURL *url = [[NSURL alloc] initWithString:[self.selectedBtn.dbPath lastPathComponent]];
    return [documentsDir stringByAppendingPathComponent:[url lastPathComponent]];
} 
```

我收到错误

```
`The operation couldn’t be completed. (Cocoa error 4.)`

dbPath : /Users/umar/Library/Application Support/iPhone Simulator/6.1/Applications/00027635-CE9C-48C3-8000-64CA1E6532F1/Documents/music.sqlite/music.sqlite 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:10:51.877

```
Documents/music.sqlite/music.sqlite 
```

不，这不是一条有效的路径......你的意思是`Documents/music.sqlite`，不是吗？另外，我不明白你为什么要`NSURL`为不相关的任务强奸穷人。

```
return [documentsDir stringByAppendingPathComponent:[self.selectedBtn.dbPath lastPathComponent]]; 
```

另外，确保`self.selectedBtn.dbPath`也确实是一条有效的路径而不是垃圾（我可以想象它是）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T20:12:23.730

您要追加`[self.selectedBtn.dbPath lastPathComponent]`两次，一次是 in `getDBPath`，一次是 ion `connctionDidFinishLoading`。

选择其中一个要删除的实例。

# java - 使用 Mysql 而不是 HSQLDB 的 GraniteDS Hello 示例项目

> ID：15418859
> 
> 赞同：1
> 
> 时间：2013-03-14T19:49:03.040
> 
> 标签：java, hibernate, jpa, graniteds

我是 JPA 的新手。有谁知道示例中还需要更改哪些内容才能使其与 Mysql 一起使用？

我在想唯一需要做的改变是（jpa-config.xml）

我将数据源更改为与 mysql 一起使用。我对其进行了测试并对其进行了测试。我在 Mysql 上创建了一个名为 Welcome 的表，上面有列名和消息。

```
<bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
    <property name="driverClassName">
        <value>com.mysql.jdbc.Driver</value>
    </property>
    <property name="url">
        <value>jdbc:mysql://localhost:3306/testdata</value>
    </property>
    <property name="username">
        <value>sa</value>
    </property>
    <property name="password">
        <value>sa</value>
    </property>
</bean> 
```

每当我尝试通过示例插入条目时，都会收到错误“org.hibernate.exception.SQLGrammarEXception：无法执行查询”。

# clojure - Clojure 部分应用程序 - 如何获取“地图”以返回函数集合？

> ID：15418860
> 
> 赞同：6
> 
> 时间：2013-03-14T19:49:05.800
> 
> 标签：clojure, higher-order-functions, partial-application

我有一个函数，我基本上是从 Clojure google group 的讨论中抽出来的，它接受一个集合和一个任意长度的函数列表，然后过滤它以返回一个新集合，其中包含原始列表的所有元素，其中至少一个函数的计算结果为真：

```
(defn multi-any-filter [coll & funcs]
    (filter #(some true? ((apply juxt funcs) %)) coll)) 
```

我正在为[Project Euler Problem 1](http://projecteuler.net/problem=1)制定一个通用的解决方案，所以我像这样使用它：

```
(def f3 (fn [x] (= 0 (mod x 3))))
(def f5 (fn [x] (= 0 (mod x 5))))

(reduce + (multi-any-filter (range 1 1000) f3 f5)) 
```

这给出了正确的答案。

但是，我想修改它，以便可以将整数而不是函数传递给它，例如

```
(reduce + (multi-any-filter (range 1 1000) 3 5)) 
```

我可以将 3 和 5 替换为任意数量的整数，并将 (=0 (mod xy)) 的函数包装作为 multi-any-filter 函数中的匿名函数。

不幸的是，这超出了我的 Clojure 能力的极限。我在想我需要对`map`args 列表做些什么，但我不确定如何`map`返回一个函数列表，每个函数都在等待另一个参数。Clojure 似乎不支持像我在其他函数式语言中学习如何使用柯里化的方式。也许我需要`partial`在正确的位置使用，但我不太确定如何使用。

换句话说，我希望能够传递任意数量的参数（不是函数），然后将这些参数中的每一个都包装在同一个函数中，然后将该函数列表传递`juxt`给上面的功能。`funcs``multi-any-filter`

感谢您的任何提示！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-14T20:39:16.677

```
(defn evenly-divisible? [x y]
  (zero? (mod x y)))

(defn multi-any-filter [col & nums]
  (let [partials (map #(fn [x] (evenly-divisible? x %)) nums)
        f (apply juxt partials)]
    (filter #(some true? (f %)) col))) 
```

我不能使用`partial`，因为它将 arg 应用于`fn`. 我们希望它位于`evenly-divisible?`We could re-arrange in的第二个位置，`evenly-divisible?`但是当它单独使用时它看起来并不正确。

```
user=> (reduce + (multi-any-filter (range 1 1000) 3 5))
233168 
```

# java - Hibernate 中的 @onetomany 注释不正确

> ID：15418862
> 
> 赞同：0
> 
> 时间：2013-03-14T19:49:10.307
> 
> 标签：java, hibernate

我正在研究 Hibernate，并且遇到了与 Hibernate 注释相关的不清楚的情况。

假设我们有两个实体：

**主题**和**演讲者**

一个主题可能与许多演讲者有关。一个主题可能有多个演讲者。一位演讲者可能会参与多个主题。

如下图所示：

![](../Images/f59cce2b5cf325cafa0c634fb1442c23.png)

我的普通应用程序包含两个实体类：主题类和扬声器类

并且 Topic 类包含注释，通过 TOPIC_SPEAKERS 表声明与 SPEAKERS 的一对多关系。如果 TOPIC_SPEAKERS 表不存在，则在运行时生成。

*Topic.class（跳过不相关的代码）*

```
@Entity
@Table(name="TOPICS")
public class Topic implements Serializable {

    @Id
    @GeneratedValue
    private long topicId;      

    @OneToMany(cascade = CascadeType.ALL)
    @JoinTable(name = "TOPIC_SPEAKERS",
    joinColumns = {
        @JoinColumn(name = "topicId")},
    inverseJoinColumns = {
        @JoinColumn(name = "speakerId")})
    private List<Speaker> speakersList; 
```

*和扬声器类标题：*

```
@Entity
@Table(name="SPEAKERS")
public class Speaker implements Serializable {

    @Id
    @GeneratedValue
    private long speakerId;

    private String speakerName; 
```

我在 SPEAKERS 表中添加了两条记录，它看起来像这样：

![](../Images/8264bf2bf9ff33ab6f7f6e05a59da1d1.png)

然后我参考第一个演讲者（John Doe）在 TOPICS 表中添加了一个主题。

```
TOPICS table: 
```

![](../Images/740db84a4ae907e81361715cbc8839ba.png)

```
and TOPIC_SPEAKERS table: 
```

![](../Images/9c9f88e81beca9a0bd60f8e9a7467c48.png)

一切都很好，直到我尝试添加另一个主题，即第一个演讲者（John Doe）。即在TOPICS 表中添加“第二个主题”，并将“TOPIC_SPEAKERS”中的“第二个主题”的引用添加到第一个发言者（John Doe）。

生成的 TOPIC_SPEAKERS 应该是这样的（65536 - John Doe 的 id）：

```
#     TOPICID     SPEAKERID
1      131072       65536
2      132111       65536 
```

但是 Hibernate 不允许向 TOPIC_SPEAKERS 插入一条具有重复 SPEAKERID 值的记录。

我收到以下错误：

```
could not insert collection: [simpledbtest.model.Topic.speakersList#163840]
SEVERE: The statement was aborted because it would have caused a duplicate key value 
in a unique or primary key constraint or unique index identified by 'SQL130314230217010' 
defined on 'TOPIC_SPEAKERS'.

....
Caused by: java.sql.SQLIntegrityConstraintViolationException: The statement was aborted because 
it would have caused a duplicate key value in a unique or primary key constraint or unique 
index identified by 'SQL130314230217010' defined on 'TOPIC_SPEAKERS'.

....

Caused by: org.apache.derby.client.am.SqlException: The statement was aborted because it 
would have caused a duplicate key value in a unique or primary key constraint or unique index 
identified by 'SQL130314230217010' defined on 'TOPIC_SPEAKERS'. 
```

**我的问题 - 如何更改 Topic 类中的注释以允许生成的 TOPIC_SPEAKERS 表中的重复列值？**

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:25:41.017

您正在描述 ManyToMany 关系，并且必须使用 @ManyToMany 注释。像这样的东西：

```
@Entity
@Table(name="TOPICS")
public class Topic implements Serializable {

    @Id
    @GeneratedValue
    private long topicId;      

    @ManyToMany(cascade = CascadeType.ALL)
    @JoinTable(name = "TOPIC_SPEAKERS",
    joinColumns = {
        @JoinColumn(name = "topicId")},
    inverseJoinColumns = {
        @JoinColumn(name = "speakerId")})
    private Set<Speaker> speakersList;

@Entity
@Table(name="SPEAKERS")
public class Speaker implements Serializable {

    @Id
    @GeneratedValue
    private long speakerId;

    @ManyToMany(mappedBy = "speakersList")
    private Set<Topic> topics;

    private String speakerName; 
```

# javascript - 从 2 个数组创建新的多维关联数组

> ID：15418863
> 
> 赞同：2
> 
> 时间：2013-03-14T19:49:13.370
> 
> 标签：javascript, multidimensional-array, associative-array, porting

我正在寻找一种在 javascript 中创建单个多维关联数组的解决方案。

我所拥有的：我有一个使用 php 访问的 mysql 数据库，并且有一个数组，其中包含单个记录中的所有字段（键、值对）。每条记录中有超过 30 个字段，因此我正在寻找动态解决方案。在 html 编码中，有一个表单用于更新表中的特定记录。我在每个输入上使用函数调用来按键和值填充 javascript 数组。这些键与 php 数组中的键相同。在函数中，我正在对 php 数组进行 json_encode 调用，以提取“旧”数据以使其可供 javascript 访问。

什么有效：我能够从来自输入函数调用的新数据创建一个动态 javascript 关联数组。每次调用该函数后，我都使用警报对此进行了测试。

我需要什么：一种将javascript数组更改为多维数组的方法，拉入旧值并将其添加到与原始键相关的新数组中。

这有效：

```
var changes={}; 
function change(key,value) {
  changes[key[value]]=value;
  for (key in changes) {
    alert('key: '+key+'...  value: '+changes[key]);
  }
} 
```

这与我正在寻找的内容一致：

```
var changes={}; 
function change(key,value) {
  var oldInfo = eval(<? echo json_encode($oldInfo); ?>); //this from the php array  
  changes[key[newValue]]=value; 
  changes[key[oldValue]]=oldInfo[key];
  for (key in changes) {
    alert('key: '+key+'...  value: '+changes[key[newValue]]);
  }
} 
```

有人可以指出我正确的方向吗？

澄清：

我的 php 数组`$oldInfo`保存了表中的旧信息，例如：

```
{fName=>"charles",lName=>"madison", etc.} 
```

javascript 数组包含新信息：

```
{fName=>"Charlie",lName=>"Madison", etc.} 
```

我想要一个看起来像这样的新多维数组 (PHP)（或 JavaScript 中的对象）：

```
{fName=>{"charles","Charlie"}, lName=>{"madison","Madison"}, etc.} 
```

lName 和 fName 是与 PHP 数组和 JavaScript 对象同义的关键字段。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T20:02:32.880

真的不清楚你想要什么，但你的逻辑有几个严重的缺陷：

1.  > `var changes={}; ///this one way of declaring array in javascript`

    不，不是。那是一个对象，它与数组非常不同。

2.  > `eval(<? echo json_encode($oldInfo); ?>);`

    你不需要`eval`这里。的输出`json_encode`是 JSON，它是 JavaScript 的一个子集，可以简单地执行。

3.  > `changes[key[value]]=value;`

    这是完全错误的，仍然是一维数组。假设`key`是一个数组，您所做的就是将键/值反转为一个新数组。如果 key 以前看起来像这样......

    ```
    'a' => 1
    'b' => 2
    'c' => 3 
    ```

    ...然后`changes`看起来像这样：

    ```
    1 => 'a'
    2 => 'b'
    3 => 'c' 
    ```

    对于多维数组，您需要*两个*键。你会写类似`changes[key1][key2] = value`.

4.  您的变量命名错误。你*永远不*应该看到这样的一行：`key[value]`. 那是倒退。*键*在之间`[]`，*值*在 的另一侧`=`。它应该读成类似`array[key] = value`.

回复：您的澄清：

这不起作用：`{fName=>{"charles","Charlie"},...}`. 你混淆了数组和对象；数组使用方括号和隐式数字键（`["charles", "Charlie"]`例如），而对象可以被视为具有`{key1: "value1", key2: "value2"}`语法的关联数组。

您需要一个数组，其中每个键都是属性的名称，每个值都是包含旧值和新值的数组。

我*认为*您想要的实际上很简单，假设您传递给函数的“值”是*新*值。

```
var changes = {};
var oldInfo = <?= json_encode($oldInfo) ?>;

function change(key, value) {
  changes[key] = [ oldInfo[key], value ]  
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:56:28.863

这个 ：

```
changes[key[newValue]] 
```

应该：

```
changes[key][newValue] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-07T20:37:46.597

> 我需要什么：一种将javascript数组更改为多维数组的方法，拉入旧值并将其添加到与原始键相关的新数组中。

使用数字索引的别名来做到这一点：

```
var foo = ["Joe","Blow"];
var bar = ["joe","blow"];
var names = {};

foo.fname = foo[0];
bar.fname = bar[0];
foo.lname = foo[1];
bar.lname = bar[1];

names.fname = [foo.fname,bar.fname];
names.lname = [foo.lname,bar.lname]; 
```

# ember.js - 如何使用 Ember.JS 中的匹配项在模型中查找对象？

> ID：15418866
> 
> 赞同：2
> 
> 时间：2013-03-14T19:49:20.397
> 
> 标签：ember.js, ember-data

我是从 Ember.JS 开始的，但我想我给自己提出了一个很好的问题。我在左侧有一个工作列表，在右侧有一个搜索字段。因此，在 KeyUp 事件中，我将文本字段的值发送到模型，以查找匹配项，如下所示：

```
this.controllerFor('productImages').set('model', App.ProductImage.find({ean_codes: value})); 
```

我的问题是，是否可以使用某种正则表达式找到匹配项，例如如果我有 ID 1234，即使我只搜索“1”，它也会找到它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T20:44:08.590

根据有关查询的[Ember Data 文档：](http://emberjs.com/guides/models/finding-models/)

> 您可以通过将哈希传递给 find() 来查询服务器。
> 
> 哈希的内容对 Ember Data 是不透明的；由您的服务器来解释它并返回记录列表。

如果您想要客户端过滤，您可以`filter()`使用`Ember.Array`. 此示例显示包含原始数组内容子集的计算属性。此计算数组仅显示与输入框中的内容相匹配的项目。

[JSBin 示例](http://jsbin.com/ixupad/216/edit)

Javascript：

```
App = Ember.Application.create({});

App.IndexRoute = Ember.Route.extend({
  setupController: function(controller) {
    controller.set('content', [
      Ember.Object.create({name: 'Joe'}), 
      Ember.Object.create({name: 'Frank'}), 
      Ember.Object.create({name: 'John'}),
      Ember.Object.create({name: 'Billy'}),
      Ember.Object.create({name: 'John'}),
      Ember.Object.create({name: 'Johnny'})
    ]);
  }
});

App.IndexController = Ember.ArrayController.extend({
  content: [],
  filter: "",
  filteredContent: function() {
    var filter = this.get('filter');

    return this.get('content').filter(function(item, index, enumerable){
      return item.get('name').toLowerCase().match(filter.toLowerCase());
    });
  }.property('filter', 'content.@each')

}); 
```

车把：

```
<script type="text/x-handlebars" data-template-name="index">
  <h2>Index Content:</h2>
  <span>Filter: </span>{{view Ember.TextField valueBinding=filter}}
  <ul>
  {{#each item in filteredContent}}
      <li>{{item.name}}</li>
  {{/each}}
   </ul>
</script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T22:23:37.713

Ember-Data 的过滤记录数组可能非常适合。通过使用`store.filter`代替，`store.find`您可以返回过滤客户端的实时记录数组。

要过滤已加载的记录，请使用：

```
this.controllerFor('productImages').set('model', App.ProductImage.filter(function(hash) {
  if (hash.get('id').match(/1/)) { return true; }
}); 
```

如果您还需要启动查询，请将查询参数（或空哈希）作为第一个参数添加到 filter 方法：

```
this.controllerFor('productImages').set('model', App.ProductImage.filter({}, function(hash) {
  if (hash.get('id').match(/1/)) { return true; }
}); 
```

目前还没有这方面的文档/指南，因此学习它的最佳地点是通过 ember-data 测试。以下是一个很好的起点：

*   [过滤方法应该是别名](https://github.com/emberjs/data/blob/master/packages/ember-data/tests/integration/method_aliases_test.js#L36)

*   [记录数组可以更新其过滤器](https://github.com/emberjs/data/blob/master/packages/ember-data/tests/integration/store_model_filter_test.js#L98)

*   [filter 方法也可以选择接受服务器查询](https://github.com/emberjs/data/blob/master/packages/ember-data/tests/integration/store_adapter_test.js#L395)

# ember.js - Ember.js：如何绑定在记录加载到 DS.RecordArray 时应调用的处理程序？

> ID：15418867
> 
> 赞同：3
> 
> 时间：2013-03-14T19:49:21.537
> 
> 标签：ember.js, ember-data

在使用 Ember.js 和 Ember 数据时，`Model.find()`我希望能够绑定一个处理程序，一旦结果中的记录可用，该处理程序就会被调用`DS.RecordArray`。我找到了解决方案，但我觉得必须有更好的方法。

我当前的解决方案使用[Array.addArrayObserver](http://emberjs.com/api/classes/Ember.Array.html#method_addArrayObserver)，例如对于一些虚构的模型，`App.Widget`：

```
// Find the widgets!
var widgets = App.Widget.find();

// Get notified when widget records are available...
var arrayObserver = Ember.Object.create({
    arrayWillChange: function(start, removeCount, addCount) {
        // Widget records are about to be loaded.
    },
    arrayDidChange: function(start, removeCount, addCount) {
        // Widget records have now been loaded.
        var myWidget = widgets.objectAt(0);
    }
});

// Add the above arrayObserver to the widgets array
widgets.addArrayObserver(arrayObserver); 
```

这是实现我想要的既定方法，还是有更好的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:25:26.253

在绑定到所需数据的控制器中，您可以观察 content.isLoaded 属性，一旦存储适配器加载数据，该属性将设置为 true：

```
contentLoaded: function() {
    console.log('controller content is loaded from store');
}.observes('content.isLoaded') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-01T20:42:20.463

你可以使用[Promises](http://promises-aplus.github.io/promises-spec/)来实现这一点......

```
// Find the widgets!
App.Widget.find()
    .then(function(widgets) {
        var myWidget = widgets.objectAt(0);
    }); 
```

# ios - 从 Popover View 内部呈现 Modal View Controller

> ID：15418873
> 
> 赞同：9
> 
> 时间：2013-03-14T19:49:49.813
> 
> 标签：ios, uipopovercontroller, presentmodalviewcontroller

因此，在我的通用应用程序中，我有一个部分，人们可以在其中查看我们系统中现有的笔记列表（通过简单的 Web 服务检索），然后如果他们愿意，还可以创建一个新的笔记。因此，对于 iphone，它的布局非常简单，一个 TableViewController 用于在 NavigationBar 上显示带有“添加”按钮的列表，该按钮显示用于添加新项目的模态视图。但是在 iPad 上，相同的布局会浪费很多空间，所以我选择使用 popOver 方法在 popOver 中显示列表，然后让它们从那里添加。我的问题是，当用户单击 PopOver 视图中的 Add 按钮时，模态视图会全屏显示，而不是仅出现在 popover 视图中。这是我到目前为止的代码：

```
-(void) AddButtonPressed:(id)sender {

NewNoteVC *newNote = [[[NewNoteVC alloc] initWithNibName:@"NewNoteVC" bundle:nil] autorelease];
newNote.defaultClientID = defaultClientID;
UINavigationController *navCon = [[[UINavigationController alloc] initWithRootViewController:newNote] autorelease];
if ([isPopOver isEqualToString:@"YES"]) {
    [navCon setModalInPopover:YES];
    [self.navigationController setModalInPopover:YES];
    [self.navigationController presentModalViewController:navCon animated:YES];
}
else {
    [self.navigationController presentModalViewController:navCon animated:YES];
} 
```

}

“isPopOver”字符串只是从调用此 TableView 的前一个屏幕发送的占位符（我知道我可以将其切换为布尔值以获得更好的性能，我只是将它放在一起快速尝试一下）。我知道我在某个地方搞砸了，我只是不知道我需要什么设置才能让它正常工作。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-14T20:23:23.897

您需要将视图控制器定义`modalPresentationStyle`为“当前上下文”。

```
navCon.modalPresentationStyle = UIModalPresentationCurrentContext; 
```

这将导致模态视图控制器像弹出框的根控制器一样填充弹出框。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T19:54:00.117

尝试使用`presentViewController:animated:completion:`代替`presentModalViewController:animated:`和设置`self.navigationController.definesPresentationContext = YES`

# oracle - 按 id 删除行

> ID：15418878
> 
> 赞同：0
> 
> 时间：2013-03-14T19:50:14.147
> 
> 标签：oracle, position, row

我正在创建一个类似于 SQL Developer 表数据查看器的工具。我的数据库是基于 Oracle 的。

我只需要从 SELECT 结果中删除例如：'row number 3'。该表没有任何 PK 或唯一记录。我用 ROWNUM 等尝试了各种技术，但没有运气。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:57:45.190

Oracle 有一个伪列，您可以*在简单的情况下*[`ROWID`](http://docs.oracle.com/cd/E14072_01/server.112/e10592/pseudocolumns008.htm)将其用于此目的。

 *```
select rowid, ... from your_table where ... ;
delete from your_table where rowid = <what you got above>; 
```

如果您的界面允许用户创建复杂的视图/连接/聚合，那么知道用户打算删除什么（因此知道`rowids`要收集哪组表以及要从哪组表中删除）将会很棘手。

警告：`rowids`仅在给定表中是唯一的，并且引用上述文档：

> 如果您删除一行，Oracle 可能会将其 rowid 重新分配给稍后插入的新行。

所以，如果你这样做，要非常非常小心。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:58:28.083

假设它是一个标准的堆组织表（索引组织表和集群可能会引入额外的复杂性），如果您没有任何其他方式来标识行，则可以使用`ROWID`伪列。这为您提供了有关磁盘上一行的物理位置的信息。这意味着`ROWID`特定行的 可以随着时间而改变，并且`ROWID`当您删除一行时可以并且将被重用，然后后续`INSERT`操作插入恰好位于磁盘上相同物理位置的新行。对于大多数应用程序，可以合理地假设在`ROWID`您执行查询的时间和发出的时间之间将保持不变，`DELETE`但您不应尝试在`ROWID`任何时间段内存储 。

例如，如果我们创建一个简单的两列表和几行

```
SQL> create table foo( col1 number, col2 varchar2(10) );

Table created.

SQL> insert into foo values( 1, 'Justin' );

1 row created.

SQL> insert into foo values( 1, 'Justin' );

1 row created.

SQL> insert into foo values( 2, 'Bob' );

1 row created.

SQL> insert into foo values( 2, 'Charlie' );

1 row created.

SQL> commit;

Commit complete. 
```

我们可以`SELECT`然后使用第三`ROWID`行`DELETE``ROWID`

```
SQL> select *
  2    from foo;

      COL1 COL2
---------- ----------
         1 Justin
         1 Justin
         2 Bob
         2 Charlie

SQL> select rowid, col1, col2
  2    from foo;

ROWID                    COL1 COL2
------------------ ---------- ----------
AAAfKXAAEAABt7vAAA          1 Justin
AAAfKXAAEAABt7vAAB          1 Justin
AAAfKXAAEAABt7vAAC          2 Bob
AAAfKXAAEAABt7vAAD          2 Charlie

SQL> delete from foo where rowid = 'AAAfKXAAEAABt7vAAC';

1 row deleted.

SQL> select * from foo;

      COL1 COL2
---------- ----------
         1 Justin
         1 Justin
         2 Charlie 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T19:58:16.350

尝试使用 ROWID 而不是 ROWNUM。*

# java - Android spinner 在 OnCreate 中做 ItemSelectedListener

> ID：15418883
> 
> 赞同：0
> 
> 时间：2013-03-14T19:50:27.633
> 
> 标签：java, android

在我的代码中，当您在 Spinner 中选择一个项目时，应用程序会更改屏幕。但是，当它第一次加载时，它会执行 ItemSelectedListener。只有当我在 Spinner 中选择一个项目时，我才需要它来执行代码，而不是在加载表单时。

编码：

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.select_location_layout);

Spinner spnEUID = (Spinner)findViewById(R.id.spnEUID);
final DatabaseHandler handler = new DatabaseHandler(this);

ArrayList<String> EUIDs = handler.GetAllAOI();
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_spinner_dropdown_item, EUIDs);
spnEUID.setAdapter(adapter);

final EditText txtEUID = (EditText)findViewById(R.id.txtScanEUID);
txtEUID.setOnKeyListener(new OnKeyListener() {
    public boolean onKey(View v, int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_ENTER && event.getAction() == KeyEvent.ACTION_UP) {
            PublicVariables.AOI = handler.getAOI(Integer.parseInt(txtEUID.getText().toString()));
            Intent intent = new Intent(SelectLocationScreen.this, RaploScanScreen.class);
            startActivity(intent);
        }
        return false;
    }
});

spnEUID.setOnItemSelectedListener(new OnItemSelectedListener () {
    @Override
    public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
        PublicVariables.AOI = parent.getItemAtPosition(pos).toString();
        Intent intent = new Intent(SelectLocationScreen.this, RaploScanScreen.class);
        startActivity(intent);
    }

    @Override
    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub

    }
});
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T19:55:52.940

我通过`previousSelection`在我的 OnItemSelectedListener 中添加一个变量来解决这个问题：

*   如果是`null`，那就是虚惊一场。
*   如果不是，则用户做出此选择。

* * *

这是我对类似问题的回答，我写这个是为了避免您的问题以及当用户再次选择相同的项目时。[奇怪的 Android Spinner 行为](https://stackoverflow.com/q/14113164/1267661)

# python - 1146 数据库错误 Python Django

> ID：15418887
> 
> 赞同：0
> 
> 时间：2013-03-14T19:50:36.897
> 
> 标签：python, django

我在 Windows Vista 上使用 Python 2.7 在 Django 1.5 中编程。我正在尝试创建用户配置文件。但是，当我访问 localhost:8000/admin/home/userprofile 时，我得到了`1146, "Table 'demo.home_userprofile' doesn't exist`错误。现在我有`settings.py`：

```
AUTH_PROFILE_MODULE = 'home.userProfile' 
```

在 中`models.py`，我有定义值

```
from django.db import models
from django.contrib.auth.models import User

class userProfile(models.Model):
    user = models.OneToOneField(User)
    photo = models.ImageField(upload_to = url)
    telefono = models.CharField(max_length = 30)

    def url(self, filename):
        ruta = "MultimediaData/Users/$s/%s"%(self.user.username, filename)
        return ruta

    def __unicode__(self):
        return self.user.username 
```

并在`admin.py`：

```
from django.contrib import admin
from demo.apps.home.models import userProfile

admin.site.register(userProfile) 
```

我已经考虑了一段时间了。似乎有什么问题？

# jquery - 使用自定义过滤器重新填充 WijGrid 时遇到问题

> ID：15418889
> 
> 赞同：0
> 
> 时间：2013-03-14T19:50:38.753
> 
> 标签：jquery, wijmo

我在使用从 ajax 调用返回的 json 结果更新 wijgrid 时遇到了一些问题。wijgrid 似乎没有重绘。这是相关的javascript/jQuery：

```
$(function () {
    var datasource = new wijdatasource({
        data: [{"Id":1,"Name":"Sidney","Type":"Engineer"},{"Id":4,"Name":"Mavis","Type":"Student"},{"Id":5,"Name":"Betty","Type":"Student"},{"Id":80,"Name":"Taylor","Type":"Student"},{"Id":92,"Name":"Graham","Type":"Student"},{"Id":94,"Name":"Belle","Type":"Student"},{"Id":100,"Name":"Terrence","Type":"Student"},{"Id":106,"Name":"William","Type":"Student"},{"Id":108,"Name":"Synthia","Type":"Student"},{"Id":109,"Name":"Lucious","Type":"Customer"},{"Id":116,"Name":"Leonard","Type":"Student"},{"Id":119,"Name":"Katy","Type":"Student"},{"Id":122,"Name":"Sarah","Type":"Student"},{"Id":127,"Name":"Amy","Type":"Student"},{"Id":178,"Name":"Carl","Type":"Student"}],
        reader: new wijarrayreader([
            { name: 'Id', mapping: 'Id' },
            { name: 'Name', mapping: 'Name' },
            { name: 'Type', mapping: 'Type' }
        ])
    });

    $('#ClientTable').wijgrid({
        allowSorting: true,
        allowPaging: true,
        pageSize: 10,
        data: datasource,
        columns: [
            { visible: false },
            {
                cellFormatter: function (args) {
                    var wg = $.wijmo.wijgrid,
                    row = args.row;

                    if ((row.type & wg.rowType.data) && (row.state === wg.renderState.rendering)) {
                        args.$container.append($('<a href="/Client/Update/' + row.data.Id + '">' + row.data.Name + '</a>'));
                        return true;
                    }
                }
            },
            {}
        ]
    });

    $('#pageSize').bind('change', function (e) {
        $('#ClientTable').wijgrid('option', 'pageSize', parseInt($(e.target).val()));
    });

    $('#filterBy').keyup(function (e) {
        var filter = $('#filterBy').val();
        if (typeof filter == 'string' && filter.length > 1) {
            $.ajax({
                url: '/Home/MemberAsyncResults',
                async: true,
                traditional: true,
                type: 'GET',
                data:
                {
                    filter: filter
                },
                success: function (response) {
                    //                            datasource.data = response;
                    //                            datasource.read();
                    datasource.load(response, false);
                    $('#ClientTable').wijgrid('ensureControl', true);
                    $('#ClientTable').wijgrid('doRefresh');
                },
                error: function (e) {
                    var breakOnThisLine = 1;
                }
            });
        }
    });
}); 
```

另外，这是相关的html：

```
<label for="pageSize">Page Size</label>
<select id="pageSize">
    <option>10</option>
    <option>25</option>
    <option>50</option>
    <option>100</option>
</select>
<label for="pageSize">Filter By</label>
<input type="text" id="filterBy" />
<table id="ClientTable"></table> 
```

当在 ajax 调用的成功方法中设置断点时，从服务器返回正确的数据。但是，用于重新填充 wijgrid 控件的数据源或重新呈现控件的代码一定不正确...

在相关的说明中，我不太确定 wijarrayreader 的名称或映射属性的用途。我认为 wijarrayreader 设置正确，但我只是根据一些示例做出了有根据的猜测。

提前谢谢了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:11:52.017

尝试在 wijdatasource 的加载事件中设置 wijgrid 的 ensureControl 选项，或者在初始化 wijgrid 时设置：

```
$(‘#ClientTable’).wijgrid({
    allowSorting: true,
    allowPaging: true,
    pageSize: 10,
    ensureControl : true
}); 
```

作为替代方案，我建议您使用在这些场景中很有帮助的 wijhttpproxy 小部件，而不是使用 $ajax 调用。请参阅以下链接了解更多信息：[http ://wijmo.com/wiki/index.php/Datasource#proxy](http://wijmo.com/wiki/index.php/Datasource#proxy)

请看下面的代码：

```
$(document).ready(function () {

        var superPanelRefreshed = false;
        var proxy = new wijhttpproxy({
            url: "http://ws.geonames.org/searchJSON",
            dataType: "jsonp",
            data: {
                featureClass: "P",
                style: "full",
                maxRows: 12,
                name_startsWith: 'ab'
            },
            key: 'geonames'
        });
        var myReader = new wijarrayreader([{
            name: 'label',
            mapping: function (item) {
                return item.name + (item.adminName1 ? ", " + item.adminName1 : "") + ", " + item.countryName
            }
        }, {
            name: 'value',
            mapping: 'name'
        }, {
            name: 'selected',
            defaultValue: false
        }]);

        var input = $('#testinput');

        datasource = new wijdatasource({
            reader: myReader,
            proxy: proxy,
            loading: function () {

            },
            loaded: function (data) {

            }
        });

        $("#grid").wijgrid({
            data: datasource,
            ensureControl: true
        });

        datasource.load();
    });

    function loadRemoteData() {
        datasource.proxy.options.data.name_startsWith = $('#testinput').val();
        datasource.load();
    } 
```

# c# - 在这种情况下如何指定图像位置？

> ID：15418890
> 
> 赞同：0
> 
> 时间：2013-03-14T19:50:39.097
> 
> 标签：c#, matrix

我想要的是移动对象并沿其中心点旋转。我使用 Matrix 类进行转换：

```
 private void pictureBox1_Paint(object sender, PaintEventArgs e)
    {
        e.Graphics.ResetTransform();
        Matrix transformationMatrix = new Matrix();
        transformationMatrix.RotateAt(rot, new PointF(img.Size.Width / 2, img.Size.Height / 2));
        e.Graphics.Transform = transformationMatrix;
        e.Graphics.DrawImage(img, 0, 0, img.Size.Width, img.Size.Height);
    } 
```

上面的代码将沿其中心旋转图像。

但是如果我尝试移动它（我将图像放在图片框的中心），图像不再沿着它的中心点旋转。

```
e.Graphics.DrawImage(img, (pictureBox1.Width - img.Size.Width) / 2, (pictureBox1.Height - img.Size.Height) / 2, img.Size.Width, img.Size.Height); 
```

现在我想我必须使用 Translate 函数来指定位置，但我不知道该怎么做。平移采用相对位置。我想使用其中心点指定图像位置并能够沿其中心旋转它。

更新 2：

修改后的代码如下

```
origin.X = 50;
origin.Y = 50;

    private void pictureBox1_Paint(object sender, PaintEventArgs e)
    {
        e.Graphics.TranslateTransform(origin.X, origin.Y);
        e.Graphics.RotateTransform(rot);
        e.Graphics.DrawImage(img, -img.Size.Width, -img.Size.Height/2, img.Size.Width, img.Size.Height);
    } 
```

所以我定义了点原点来指定我的图像的位置。但它仍然不沿其中心旋转。

![在此处输入图像描述](../Images/3ebc166dc4c5c1f12c2c1fd6bd08f9f6.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:46:35.140

是的，您想使用翻译功能。这是我为另一个问题编写的示例，该示例显示了如何翻译和旋转以及图像：

[https://stackoverflow.com/a/10956388/351385](https://stackoverflow.com/a/10956388/351385)

*更新*

您要做的是将平移点设置为窗口中对象中心所在的点。这会导致`[0, 0]`显示器的点变成那个点，所以任何旋转都会围绕它发生。然后在绘制图像时，使用图像的中点`[image width / 2, image height / 2]`作为 DrawImage 方法的坐标。

*再次更新*

抱歉，传递给 DrawImage 的坐标是图像的否定中点`[0 - width / 2, 0 - height / 2]`。

# c# - 右对齐文本 asp:changepassword

> ID：15418894
> 
> 赞同：0
> 
> 时间：2013-03-14T19:50:52.997
> 
> 标签：c#, asp.net, css, alignment, change-password

我使用`<asp:changepassword />`控件，但我不知道如何将新密码文本和其他字段向左对齐而不是向右对齐。我已经尝试添加一个类并做`text-align: left`，但对齐仍然在右边。

可以左对齐吗？

```
<asp:changepassword id="ChangePassword1" CssClass="teste" runat="server" continuedestinationpageurl="index.aspx"
                oncancelbuttonclick="ChangePassword1_CancelButtonClick" onsendingmail="PasswordRecovery1_SendingMail"
                changepasswordtitletext=" ">
                <ChangePasswordButtonStyle CssClass="botaoAccaoBlue passwordbuttonsfix"  />
                <ContinueButtonStyle CssClass="botaoAccaoBlue passwordbuttonsfix"  />
                <CancelButtonStyle CssClass="botaoAccaoGray passwordbuttonsfix" />
            </asp:changepassword> 
```

这在 PageLoad 上：

```
ChangePassword1.ChangePasswordButtonText = Resources.Common.ResourceManager.GetString("ChangePassword", culture);        
    ChangePassword1.CancelButtonText = Resources.Common.ResourceManager.GetString("Cancel", culture);
    ChangePassword1.PasswordLabelText = Resources.UserConst.ResourceManager.GetString("Password", culture);        
    ChangePassword1.ConfirmNewPasswordLabelText = Resources.Common.ResourceManager.GetString("ConfirmPassword", culture);
    ChangePassword1.NewPasswordLabelText = Resources.Communication.ResourceManager.GetString("New", culture) + " " + Resources.UserConst.ResourceManager.GetString("Password", culture); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T20:00:51.700

```
<asp:ChangePassword LabelStyle-HorizontalAlign="Justify"></asp:ChangePassword> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T20:08:00.600

一个更详细的方法是这个你可以从这个开始。所有 ASP 控件都有可以编辑的模板 [http://msdn.microsoft.com/en-us/library/ms178339.aspx](http://msdn.microsoft.com/en-us/library/ms178339.aspx)

只是一个基本的想法是这样的

```
<asp:changepassword ID="ChangePassword1" runat="server" >
    <ChangePasswordTemplate>
      <table>
        <tr>
          <td>
               Your Textbox control for which you can set the text align property
          </td>
        </tr>
      </table>
   </ChangePasswordTemplate>
</asp:changepassword> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T20:09:32.020

在阅读了您的问题并尝试解决问题后，我了解您正在尝试从后端调试前端问题。

当您呈现网页时，浏览器会根据您在服务器上设置的参数为您生成 UI。对于未来的活动，当您遇到 UI 问题时，您的问题解决方案通常是 CSS 解决方案。MS 有一些工具可以让您从控件本身更改 CSS，但它们并不总是您希望它们成为的样子！

您的问题的 CSS 解决方案是：`#ChangePassword1{text-align: left !important;}`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T20:04:14.277

你有几个选择。

(1) 此控件有一组名为 **Style 的属性，可用于调整各种元素的样式。例如，要更改标签的对齐方式，您可以这样做...

```
<asp:ChangePassword runat="server">
    <LabelStyle HorizontalAlign="Left" />
</asp:ChangePassword> 
```

(2) 该控件是模板化的。如果你想要更多的控制，你可以为控件提供你自己的标记，让它按照你喜欢的方式设置样式。

# mysql - 使用表中另一个字段的值更新一个字段，其中字段值本身就是键

> ID：15418899
> 
> 赞同：1
> 
> 时间：2013-03-14T19:51:18.693
> 
> 标签：mysql, wordpress, join

我正在尝试将此 select 语句转换为 UPDATE 语句：

```
SELECT a.option_value, b.option_value
FROM mydb.wp_options a
JOIN mydb.wp_options b 
WHERE a.option_name = "siteurl"
AND b.option_name = "home" 
```

我只想要 a.option_value = b.option_value

我怀疑这将通过基于连接的子查询来完成。结构是这样的：

```
col names: option_id, option_name, option_value
values:  1, siteurl, "http://dev.domain.com/"
values:  2, home, "http://www.domain.com" 
```

所以我想将 option_name = "siteurl" option_value = "dev.domain.com" 字段替换为 option_name = "home" 中的值及其对应的 option_value="http://www.domain 中的值所引用的另一个域字段。 com”。

所以它看起来像：

```
col names: option_id, option_name, option_value
values:  1, siteurl, "http://www.domain.com"
values:  2, home, "http://www.domain.com" 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T19:55:43.127

您可以使用多表更新语法非常简单地实现此目的：

```
UPDATE mydb.wp_options a, mydb.wp_options b 
SET    a.option_value = b.option_value
WHERE  a.option_name  = "siteurl"
   AND b.option_name  = "home" 
```

或者，使用子查询（不需要连接）：

```
UPDATE mydb.wp_options
SET    option_value = (
  SELECT option_value
  FROM   mydb.wp_options
  WHERE  option_name = "home"
)
WHERE  option_name  = "siteurl" 
```

# python - 为什么这个赋值语句不是单向的？

> ID：15418900
> 
> 赞同：1
> 
> 时间：2013-03-14T19:51:21.380
> 
> 标签：python, python-3.x

这个问题很容易理解，下面是程序——

```
hisc = [1,2,3,4]
print("\n", hisc)

ohisc = hisc
hisc.append(5)

print("\nPreviously...", ohisc)
print("\nAnd now...", hisc)
input("\nETE") 
```

当我运行它时，ohisc 得到 5。为什么 ohisc 会改变？我怎样才能阻止它改变？抱歉，如果这是显而易见的事情。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T19:53:07.080

[Python 变量是引用](http://docs.python.org/3/reference/datamodel.html)。因此，赋值复制了*引用*而不是变量的内容。

为了避免这种情况，您所要做的就是创建一个*新*对象：

```
ohisc = list(hisc) 
```

这是使用[`list`构造函数](http://docs.python.org/3/library/functions.html#list)从给定的迭代创建一个新列表。

或者，您也可以从切片分配（创建一个新对象）：

```
ohisc = hisc[:] 
```

`[]`是[通用切片运算符](http://docs.python.org/3/library/stdtypes.html#sequence-types-str-unicode-list-tuple-bytearray-buffer-xrange)，用于从给定集合中提取子集。我们只是省略了开始和结束位置（它们分别默认为集合的开始和结束）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T21:00:50.050

您绝对需要了解康拉德鲁道夫答案中的所有内容。我认为在你的具体情况下，这也是你想要的。但通常有更好的方法：如果您避免改变对象（即，就地更改它们），那么两个名称是否引用同一个对象都无关紧要。例如，您可以更改：

```
hisc.append(5) 
```

对此：

```
hisc = hisc + [5] 
```

这不会`hisc`就地改变；它创建一个新`list`的 ，并`5`在其末尾添加 ，然后将其分配给`hisc`. 所以，`ohisc`指向相同`list`的事实`hisc`并不重要——它`list`仍然存在，不变，`ohisc`指向。

假设您想用 0 替换列表的所有负值。使用突变很容易：

```
for i in range(len(lst)):
    list[i] = max(list[i], 0) 
```

但更容易没有：

```
lst = [max(elem, 0) for elem in lst] 
```

现在，如果您想*删除*每个负面列表元素怎么办？您不能在循环时更改序列的形状，因此您必须制作列表的副本（这样您可以在更改另一个副本时循环一个副本），或者提出一个更复杂的算法（例如，向后交换每个 0，然后删除最后的所有 0）。但是很容易做到一成不变：

```
lst = [elem for elem in lst if elem >= 0] 
```

那么，你什么时候想要变异？嗯，通常你*想要*两个对同一个对象的引用，所以当你更新一个时，另一个会看到变化。在这种情况下，您显然必须进行实际更改才能让其他人看到。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T20:04:06.043

这是对正在发生的事情的一个很好的解释：[Python：以正确的方式复制列表](http://henry.precheur.org/python/copy_list)

基本上，您正在创建一个指向列表的指针，但您想要做的是制作列表的副本。

试试这个：

```
hisc = [1,2,3,4]
ohisc = hisc[:] 
```

# jquery - Hover 使用 Jquery 悬停事件指示选择

> ID：15418904
> 
> 赞同：1
> 
> 时间：2013-03-14T19:51:30.187
> 
> 标签：jquery, hover

如果悬停在以下位置，我有这段代码可以突出显示任何元素：

```
$('*').hover(function() {
  $(this).addClass('over'); 
}, function() {
  $(this).removeClass('over');
}); 
```

问题是我的选择周围的所有元素也会被突出显示。看一下示例：[JsFiddle](http://jsfiddle.net/mtHyF/1/)尝试将鼠标悬停在 上`span`，您将看到`p`和`body/html`也被突出显示。

为了突出显示我悬停的部分，我必须更改什么？

ps我必须使用`*`，因为我不知道属性是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:59:27.343

试试这个：

```
$('*').hover(function(e) {
  $('*').removeClass('over');
  $(this).addClass('over');
  e.stopPropagation();

}, function() {
  $(this).parent().addClass('over');
  $(this).removeClass('over');
}); 
```

[`stopPropagation()`](http://api.jquery.com/event.stopPropagation/)防止悬停事件使 DOM 冒泡，因此如果您的元素与主体对齐，它将选择正确的元素（尝试从左上角输入以了解我的意思）。

见[演示](http://jsfiddle.net/mtHyF/13/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T19:59:56.940

在将其应用于新悬停的元素之前，从所有元素中删除 'over' 类：

```
$('*').hover(function() {
    $('*').removeClass('over');
    $(this).addClass('over'); 
    return false;
}, function() {
  $(this).removeClass('over');
  $(this).parent().addClass('over');
}); 
```

[http://jsfiddle.net/mtHyF/12/](http://jsfiddle.net/mtHyF/12/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T20:03:44.967

请记住，如果你在一个对象内部，你通常在它的父级和父级的父级等内部。这就是为什么你会得到多个“over”对象。

如果您只想突出最里面的东西，您可以尝试：

```
if($(this).children().length==0) {
  $(this).addClass('over'); 
} 
```

这将拒绝突出显示其中包含其他对象的任何内容。

如果您想要当前悬停的最里面的对象（既不是它的父母也不是孩子），也许：

```
$('*').hover(function() {
  $('*').removeClass('over'); 
  $(this).addClass('over'); 
}, function() {
  $(this).removeClass('over');
  $(this).parent().addClass('over');
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-14T20:04:09.137

我认为您仍然希望始终突出显示一个元素，但是如果您在内部元素中，则不希望突出显示其父元素。以下将实现这一点：

```
$('*').hover(function() {
    if ($(this).parent() != null)
    {
        $(this).parents().removeClass('over');
    }
    $(this).addClass('over'); 
}, function() {
    $(this).removeClass('over');
    $(this).parent().addClass('over');
}); 
```

# java - 从无法识别的字符转换为正常形式

> ID：15418905
> 
> 赞同：0
> 
> 时间：2013-03-14T19:51:53.580
> 
> 标签：java, utf-8, character

我的文件有错误。也就是说，所有的字符就像`"GiÃ¡Â»âºi tÃÂ­nh".`我想用Java编写一个程序，将这些字符转换为普通字符。我试图将它们转换为字节，然后再次转换为字符串，但它保持不变。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:56:23.363

您需要知道文件的编码才能执行此操作。Java 在内部将所有字符串表示为 UTF-16；为了解决这个问题，您需要知道文件的编码，并在读取文件时使用该编码：http: [//goo.gl/PoBgo](http://goo.gl/PoBgo) (Java API Docs)

# c++ - 使用 getline 拆分字符串并检查 int

> ID：15418906
> 
> 赞同：1
> 
> 时间：2013-03-14T19:51:57.683
> 
> 标签：c++, parsing, vector, getline

我有一个文件：

```
name1 8
name2 27
name3 6 
```

我把它解析成向量。这是我的代码：

```
 int i=0;
  vector<Student> stud;

  string line;
  ifstream myfile1(myfile);
  if (!myfile1.is_open()) {return false;}
  else {
    while( getline(myfile1, line) ) {
      istringstream iss(line);
      stud.push_back(Student());
      iss >> stud[i].Name >> stud[i].Grade1;
      i++;
    }
    myfile1.close();
  } 
```

我需要检查 stud[i].Grade1 是否为 int。如果不是，则返回 false。文件可以包含：

```
name1 haha
name2 27
name3 6 
```

我该怎么做？

编辑：

我尝试了另一种方式（没有getline），它似乎有效。我不明白为什么：/

```
int i=0;
vector<Student> stud;

ifstream myfile1(myfile);
if (!myfile1.is_open()) {return false;}
else {
  stud.push_back(Student());
  while( myfile1 >> stud[i].Name ) {
    if(!(myfile1 >> stud[i].Points1)) return false;
    i++;
    stud.push_back(Student());
}
myfile1.close();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:01:03.250

如果类型为`Grade1`数字，例如`int`，请使用`std::istringstream::fail()`：

```
// ...
    while( getline(myfile1, line) ) {
      istringstream iss(line);
      stud.push_back(Student());
      iss >> stud[i].Name;
      iss >> stud[i].Grade1;
      if (iss.fail())
        return false;
      i++;
    }
    myfile1.close();
  }
// ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T20:06:09.493

它可能看起来像这样：

```
std::vector<Student> students;
std::ifstream myfile1(myfile);
if (!myfile1.is_open())
    return false;

std::string line;
while (std::getline(myfile1, line))
{
    // skip empty lines:
    if (line.empty()) continue;

    Student s;
    std::istringstream iss(line);
    if (!(iss >> s.Name))
        return false;
    if (!(iss >> s.Grade1))
        return false;

    students.push_back(s);
} 
```

请注意，这`iss >> s.Grade1`不仅适用于十进制，而且适用于八进制和十六进制数。为了确保只读取十进制值，您可以将其读入临时`std::string`对象并在使用它检索数字之前对其进行验证。看看[如何使用 C++ 确定字符串是否为数字？](https://stackoverflow.com/q/4654636/1168156)

# c++ - 多图的时间复杂度问题

> ID：15418912
> 
> 赞同：3
> 
> 时间：2013-03-14T19:52:25.743
> 
> 标签：c++, big-o, time-complexity, binary-search, multimap

我创建了一个程序来查找数字列表的中位数。数字列表是动态的，因为可以删除和插入数字（可以输入重复的数字），在此期间，重新评估并打印出新的中位数。

我使用多图创建了这个程序，因为

1）它已经被排序的好处，
2）易于插入，删除，搜索（因为多图实现了二进制搜索）
3）允许重复条目。

条目数 + 删除数（表示为 N）的约束为：0 < N <= 100,000。

我编写的程序可以运行并打印出正确的中位数，但速度不够快。我知道 unsorted_multimap 比 multimap 快，但是 unsorted_multimap 的问题是我必须对其进行排序。我必须对其进行排序，因为要找到中位数，您需要一个排序列表。所以我的问题是，使用 unsorted_multimap 然后快速对条目进行排序是否可行，或者这很荒谬？只使用向量、快速排序向量并使用二分搜索会更快吗？或者，也许我忘记了一些我什至没有想到的绝妙解决方案。

虽然我对 C++ 并不陌生，但我承认，我在时间复杂性方面的技能有些平庸。

* * *

我越看自己的问题，我就越开始认为仅使用带有快速排序和二进制搜索的向量会更好，因为数据结构基本上已经实现了向量。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T20:03:51.160

> 我越看自己的问题，我就越开始认为仅使用带有快速排序和二进制搜索的向量会更好，因为数据结构基本上已经实现了向量。

如果您只有很少的更新 - 使用未排序的 std::vector + [std::nth_element](http://www.cplusplus.com/reference/algorithm/nth_element/)算法，即 O(N)。您不需要完全排序，即 O(N*ln(N))。

[nth_element 的现场演示](http://ideone.com/BlRxie)：

```
#include <algorithm>
#include <iterator>
#include <iostream>
#include <ostream>
#include <vector>

using namespace std;

template<typename RandomAccessIterator>
RandomAccessIterator median(RandomAccessIterator first,RandomAccessIterator last)
{
   RandomAccessIterator m = first + distance(first,last)/2; // handle even middle if needed
   nth_element(first,m,last);
   return m;
}

int main()
{
   vector<int> values = {5,1,2,4,3};
   cout << *median(begin(values),end(values)) << endl;
} 
```

输出是：

```
3 
```

* * *

如果您有很多更新并且只从中间删除，请使用[comocomocomocomo 建议](https://stackoverflow.com/a/15419527/1762344)的两个堆。如果你会使用[fibonacci_heap](http://www.boost.org/doc/libs/1_53_0/doc/html/boost/heap/fibonacci_heap.html) - 那么你也会得到 O(N) 从任意位置移除（如果没有处理它）。

如果您有很多更新并且需要从任意位置删除 O(ln(N)) - 然后按照[ipc 的建议](https://stackoverflow.com/a/15419605/1762344)使用两个多重集。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-14T20:28:55.403

如果您的目的是动态跟踪中位数，则在插入/删除元素时，您应该使用最小堆和最大堆。每个都包含一半的元素......几天前有一个相关的问题：[如何实现中值堆](https://stackoverflow.com/questions/15319561/how-to-implement-a-median-heap/15319593#15319593)

但是，如果您需要搜索特定值以删除元素，您仍然需要某种映射。

你说它很慢。每次需要中位数时，您是否都从地图的开头迭代到第 (N/2) 个元素？你不需要。您可以通过维护一个始终指向它的迭代器和一个小于该元素数量的计数器来跟踪中值。每次插入/删除时，将新/旧元素与中值进行比较，并更新迭代器和计数器。

另一种看待它的方式是两个多重映射，每个映射包含一半的元素。一个持有小于中位数（或相等）的元素，另一个持有大于中位数的元素。堆更有效地执行此操作，但它们不支持搜索。

如果您只需要几次中位数，您可以使用“选择”算法。它在 Sedgewick 的书中有所描述。平均需要 O(n) 时间。它类似于快速排序，但不完全排序。它只是用随机枢轴对数组进行分区，直到最终它在一侧“选择”较小的 m 个元素 (m=(n+1)/2)。然后你搜索那些 m 个元素中最大的一个，这就是中位数。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-14T20:33:37.733

以下是您如何在`O(log N)`每次更新中实现它：

```
template <typename T>
class median_set {
public:
  std::multiset<T> below, above;

  // O(log N)
  void rebalance()
  {
    int diff = above.size() - below.size();
    if (diff > 0) {
      below.insert(*above.begin());
      above.erase(above.begin());
    } else if (diff < -1) {
      above.insert(*below.rbegin());
      below.erase(below.find(*below.rbegin()));
    }
  }

public:
  // O(1)
  bool empty() const { return below.empty() && above.empty(); }

  // O(1)
  T const& median() const
  {
    assert(!empty());
    return *below.rbegin();
  }

  // O(log N)
  void insert(T const& value)
  {
    if (!empty() && value > median())
      above.insert(value);
    else
      below.insert(value);
    rebalance();
  }

  // O(log N)
  void erase(T const& value)
  {
    if (value > median())
      above.erase(above.find(value));
    else
      below.erase(below.find(value));
    rebalance();
  }
}; 
```

（[与测试一起工作](http://ideone.com/uK7h48)）

思路如下：

*   跟踪两组中高于和低于中位数的值
*   如果添加了新值，请将其添加到相应的集合中。始终确保下面的集合恰好比另一个多 0 或 1
*   如果删除了某个值，请将其从集合中删除并确保条件仍然成立。

您不能使用`priority_queue`s ，因为它们不允许您删除一项。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-16T13:57:11.973

```
Can any one help me what is Space and Time complexity of my following C# program with details.
//Passing Integer array to Find Extreme from that Integer Array
   public int extreme(int[] A)
        {
            int N = A.Length;
            if (N == 0)
            {
                return -1;
            }
            else
            {
                int average = CalculateAverage(A);
                return FindExtremes(A, average);
            }
        }
// Calaculate Average of integerArray
        private int CalculateAverage(int[] integerArray)
        {
            int sum = 0;
            foreach (int value in integerArray)
            {
                sum += value;
            }
            return Convert.ToInt32(sum / integerArray.Length);
        }
//Find Extreme from that Integer Array
        private int FindExtremes(int[] integerArray, int average) {
            int Index = -1; int ExtremeElement = integerArray[0];
            for (int i = 0; i < integerArray.Length; i++)
            {
                int absolute = Math.Abs(integerArray[i] - average);
                if (absolute > ExtremeElement)
                {
                    ExtremeElement = integerArray[i];
                    Index = i;
                }
            }
            return Index;
        } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-14T20:00:01.123

几乎可以肯定，使用向量会更好。可能会在中位数计算之间维护要删除的索引的辅助向量，以便您可以批量删除它们。新添加的也可以放入辅助向量中，排序，然后合并。

# sql-server-2008 - 我可以使用 SQL Server 2005 连接到我的数据库，但不能使用 SQL Server 2008 Management Studio

> ID：15418913
> 
> 赞同：-1
> 
> 时间：2013-03-14T19:52:27.240
> 
> 标签：sql-server-2008, sql-server-2005, connection, ssms

我能够使用 SQL Server 2005 Management Studio 连接到我的数据库引擎，但现在我无法使用较新的 2008 版本进行连接。

有没有人遇到过同样的问题？是否有一个小功能可以打开，我在某处错过了？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:05:27.310

鉴于您没有提供任何有用的信息，例如错误消息，您尝试连接的方式（Windows 身份验证/sql 身份验证），......很难想出*解决方案*......

1）尝试以管理员身份运行SSMS ...如果可以连接，则授予特定用户适当的访问权限

2) 如果您尝试通过 TCIP/IP 连接，请尝试运行 SQL Server 配置管理器以启用 TCP/IP 协议

3）如果你需要sql认证，在服务器的属性上更改认证。

# c# - Windows 服务设置后无法检测到 XML 文件

> ID：15418918
> 
> 赞同：1
> 
> 时间：2013-03-14T19:52:59.683
> 
> 标签：c#, visual-studio-2010, windows-services, windows-installer

我创建了一个 Windows 服务。我使用 Windows 安装程序设置服务。我有一个类似于配置文件的 XML 文件。每当我通过附加调试项目来调试 Windows 服务时，它都可以正常工作。但安装后我可以看到事件说在 C:\Windows\system32 中找不到 example.xml 文件。这是一个重复的问题。谁能告诉我这是怎么回事。或者有什么建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:57:18.113

很可能文件不在您要查找的位置。

很有可能您的代码在“当前工作文件夹”中查找，在 VS 中调试期间该文件夹与应用程序相同，但在作为服务/从命令行启动的情况下是不同的。

确保您的代码从您希望文件所在的位置（即应用程序旁边）加载文件，而不是从某个相对路径（如“myfile.xml”）加载文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T20:20:59.630

这不是安装程序问题。Windows 服务始终以 System32 作为当前目录启动。在启动任何服务之前，将此行添加到 Program.cs 中的 Main() 方法中。

```
 Environment.CurrentDirectory = new FileInfo(Assembly.GetExecutingAssembly().FullName).DirectoryName; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-14T20:20:35.810

为什么要将内容保存在 Windows 文件夹中？除非有一个*非常*好的理由这样做，否则这很**糟糕**。将您的配置安装在您的应用程序正在运行的同一位置并获取文件路径：

```
var folderPath = Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location);
var configPath = Path.Combine(folderPath, configFileName); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-14T19:57:42.283

问题是您的服务没有以管理员身份运行。如果该服务没有以管理员身份运行，那么它将无法读取 system32 文件夹下的文件。

将服务属性更改为以管理员身份运行。那应该可以解决问题。

# jquery - 使用 ASP.NET MVC 4 部署到 Azure 后，在 Home/Scripts/js 中捆绑 JS

> ID：15418921
> 
> 赞同：0
> 
> 时间：2013-03-14T19:53:10.837
> 
> 标签：jquery, twitter-bootstrap, asp.net-mvc-4

我有一个 ASP.NET MVC 4 Web 应用程序。我所有的 JS 文件都在 Script 文件夹中。我像这样捆绑它们：

```
bundles.Add(new ScriptBundle("~/Scripts/js").IncludeDirectory("~/Scripts", "*.js")); 
```

在 Views/Shared 中，我有 _BootstrapLayout.basic.cshtml，并调用了这个包：

```
<script src="@Url.Content("~/Scripts/js")" type="text/javascript"></script> 
```

我在身体和头部都有它，它没有任何区别。当我以调试模式在本地运行它时，它工作得很好。当我部署它时，它不起作用，并在 Chrome 控制台中显示以下内容：

```
Failed to load resource: the server responded with a status of 404 (Not Found)  http://mysite.azurewebsites.net/Home/scripts/js 
```

“mysite”是我在 Azure 上的网站的名称。

由于捆绑包是针对 ~/Scripts/js 制作的，因此它不会在 /Home/scripts/js 中找到任何内容。我该如何解决？

更新我：

感谢@jamoerdyk 下面的回答，参考问题已得到修复。脚本包应该像这样包含：

```
@Scripts.Render("~/Scripts/js") 
```

现在，我仍然收到错误，并且脚本无法正常工作。Chrome 控制台如下所示：

```
Uncaught SyntaxError: Unexpected token * /scripts/js?v=fIEoVL9cKX9p8_aBxRN9dMr1OHqh5ZMjO7E8iZ7Z3hQ1:12 
```

有任何想法吗？还是根本不相关？

更新二：

缩小失败 - 这是第二个问题。所以我暂时停止使用捆绑，并定期对脚本进行 src 引用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T20:03:44.567

您应该像这样包含您的脚本包：

```
@Scripts.Render("~/Scripts/js") 
```

而不是你的

```
<script src="@Url.Content("~/Scripts/js")" type="text/javascript"></script> 
```

# django - Django REST-framework Serializer pk 字段？

> ID：15418926
> 
> 赞同：6
> 
> 时间：2013-03-14T19:53:26.693
> 
> 标签：django, django-rest-framework

Django-REST-framework 中的 Serializer 类中的 pk 字段是什么？

我假设它是主键，但名称“pk”是保留词吗？Serializer 类如何知道这是 Snippet 模型的主键？

我在名为“pk”的代码段模型中看不到任何字段。

```
class SnippetSerializer(serializers.Serializer):
    pk = serializers.Field()  # Note: `Field` is an untyped read-only field.
    title = serializers.CharField(required=False,
                                  max_length=100)
    code = serializers.CharField(widget=widgets.Textarea,
                                 max_length=100000)
    linenos = serializers.BooleanField(required=False)
    language = serializers.ChoiceField(choices=LANGUAGE_CHOICES,
                                       default='python')
    style = serializers.ChoiceField(choices=STYLE_CHOICES,
                                    default='friendly') 
```

....class SnippetSeralizer 继续

```
class Snippet(models.Model):
    created = models.DateTimeField(auto_now_add=True)
    title = models.CharField(max_length=100, blank=True, default='')
    code = models.TextField()
    linenos = models.BooleanField(default=False)
    language = models.CharField(choices=LANGUAGE_CHOICES,
                                default='python',
                                max_length=100)
    style = models.CharField(choices=STYLE_CHOICES,
                             default='friendly',
                             max_length=100)

    class Meta:
        ordering = ('created',) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-14T20:18:17.763

`pk`是一个存在于基`Model`类中的属性`django.db.models`：

```
class Model(object):
    ...
    pk = property(_get_pk_val, _set_pk_val)
    ... 
```

用于标识模型的主键。我没有使用过 Django-REST，但他们可能只是将其映射到模型上的字段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-12-01T06:04:48.227

如果您在 Django REST Framework 中使用通用视图，并且您想为该`pk`字段使用不同的名称 - 例如`id`，您可以`lookup_field`在视图中设置为`id`.

# algorithm - 具有顶点度数约束的加权二分匹配

> ID：15418934
> 
> 赞同：1
> 
> 时间：2013-03-14T19:54:00.573
> 
> 标签：algorithm, matching, graph-algorithm

我有一个问题，我可以将其概念化如下：

我们有一组*n*个人。以及代表他们种族的*m*个子集，如白人、西班牙裔、亚洲人等。鉴于这些人的任意组合，我想检查它是否是一个多元化的群体。

多样化组是满足若干要求的组，每个要求的形式为“组中至少有*Ki*人属于子集*Si* ”。这是棘手的部分，一个人只能满足一个要求。例如，您不能将他/她用于多个要求。

一个例子：

鉴于：

至少有两个西班牙人= {a,b,c}

至少两个亚洲人={a,d,e}

组 {a,c,d} 是一个多元化的组吗？

{a,c,d} 组并不多样化，因为您不能将*a*算作西班牙裔和亚洲裔。但是，组 {a,c,d,e,f} 是多样化的，因为我们有两个西班牙裔 a 和 c 以及两个亚洲裔 d 和 e。

## 试图：

这是分配问题的一个例子。工作就是种族，我们可以根据要求放置尽可能多的种族。例如，如果我们需要两个西班牙裔，那么我们就放置两个西班牙裔工作。然而，只有一些人能够完成一项特定的工作。

这是我迄今为止的尝试：

我将构建一个二分图，一方面是人的集合**P ，另一方面是种族的集合****S**。如果他/她属于种族，我们将在人**p_i**和种族**S_i**之间放置一个边缘。现在，我们将修改图形，为每个种族**S_i**复制它**k_i**次（**S_{i,1}, S_{i,2}, ... , S_{i,k_i}**）。并相应地添加新边缘。求该图的最大匹配 M。

现在，将**S_{i,j}**合并到一个**S_i**中，你就有了一个多样化的组。然而，最大匹配只是该问题的可能解决方案。我的问题是一个决策问题，我想检查一个给定的组是否是一个解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:32:51.203

I think this is an instance of the [http://en.wikipedia.org/wiki/Assignment_problem](http://en.wikipedia.org/wiki/Assignment_problem), usually described in terms of assigning people to jobs, so in your case the job is "sit there and look white" or "sit there and look hispanic". Only some people are qualified to do any particular job, and they can only do one job at a time.

Normally the assignment algorithm minimizes a cost, but you can just use cost 0/cost 1 for "is in the right ethnic group" or not.

One means of solving this is the [http://en.wikipedia.org/wiki/Hungarian_algorithm](http://en.wikipedia.org/wiki/Hungarian_algorithm). This is often presented for the case in which there are exactly as many workers as jobs, but you can always invent dummy jobs or dummy workers, with all costs associated with dummies the same cost, so that optimizing the problem with dummies reproduces exactly the relative order of costs you would get if you ignored assignments to dummies, and so the optimum with dummies is the same choice, after ignoring dummies, as the optimum without.

# excel - 在 Excel 中的单元格末尾添加空格

> ID：15418936
> 
> 赞同：2
> 
> 时间：2013-03-14T19:54:08.070
> 
> 标签：excel

我正在使用 Microsoft Excel for Mac 2011，并且使用`=Cell_Address & rept(" ",x)`不允许我在单元格末尾创建空格。它允许我在单元格的其他地方添加空格，而不是在最后。有没有人知道我可以切换以使 Excel 承认空白的替代方案或设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T17:07:56.757

使用一个空单元格，在该单元格中添加任意数量的空格，然后用“&”连接这些单元格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T19:27:54.360

注释

*   如果您手动将空格添加到单元格的末尾，它会被删除吗？– 詹姆斯詹金斯 7 小时前
*   确实是的。（同样，仅在最后）。– Atticus29 2 小时前

所以解决方案是 - 空间很可能是由论坛添加的，但 Mac Excel 正在删除它。

重新评估为什么需要空白并找到不同的解决方案/问题，以满足需求。

# authentication - 无法在 IBM Worklight 中使用 LDAP 认证进行认证

> ID：15418937
> 
> 赞同：2
> 
> 时间：2013-03-14T19:54:25.137
> 
> 标签：authentication, ldap, ibm-mobilefirst

我正在使用 IBM Worklight 开发一个移动应用程序，但我遇到了一些身份验证问题。我正在使用定制验证器和定制登录模块来针对 Tivoli 目录服务器验证用户凭证。

这是我正在使用的代码，当我在 Worklight Studio 中像 java 应用程序（具有 main 方法的类）一样运行它时，它可以工作，但是当我像 Worklight 应用程序（在我的自定义登录模块的登录功能中）一样运行它时返回一个命名异常并打印 jndi.20

```
public boolean login(Map<String, Object> authenticationData) {
    logger.info("SmaciLoginModule :: login");

    try{
        USERNAME = (String) authenticationData.get("username");
        PASSWORD = (String) authenticationData.get("password");
        String solicuser="uid="+USERNAME+",cn=users,dc=smaci,dc=ibm";
        Hashtable<String, String> env = new Hashtable<String, String>();
        env.put(Context.INITIAL_CONTEXT_FACTORY,"com.sun.jndi.ldap.LdapCtxFactory");
        env.put(Context.PROVIDER_URL, "ldap://127.0.0.1:1389/");
        env.put(Context.SECURITY_AUTHENTICATION, "simple");
        env.put(Context.SECURITY_PRINCIPAL, solicuser);
        env.put(Context.SECURITY_CREDENTIALS, PASSWORD);
        DirContext ctx = new InitialDirContext(env);
        boolean result = ctx != null;

                if(ctx != null)
                    ctx.close();

            return result;

        }catch (Exception e) {
            throw new RuntimeException("Invalid credentials"+e.getMessage());
        }
} 
```

我希望你能帮助我解决我的问题。我没有使用 LDAP 的经验，我很感激任何建议。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T22:51:14.190

您是否尝试使用此行从用户那里获取密码？ `String pass=(String) entry.get("password").get().toString();`

如果是这样，那不太可能奏效。密码几乎永远无法通过 LDAP 检索。（例外情况稍微复杂，所以认为不可能）。

您想要做的是尝试与`solicuser`构建的 DN 和 PASSWORD 值绑定。然后在成功时（并且密码不为空，因为它总是成功，但是作为匿名绑定，所以你必须注意它）你知道你已经通过了身份验证。否则你失败了。您可能希望检查可能的错误消息。不同的 LDAP 服务器会给出不同的错误。有些人会报告错误的密码或错误的 DN（即没有这样的用户）。其他的没那么多。

# asp.net - Pdf 的字段应该在 asp.net 中使用 itextsharp 保持可编辑

> ID：15418940
> 
> 赞同：1
> 
> 时间：2013-03-14T19:54:35.133
> 
> 标签：asp.net, pdf, itextsharp

我有一个可填写的pdf。其中我有几个文本框。

我使用以下代码（itextsharp）填充这些字段。

```
 DataTable dt = new DataTable();
            String pdfPath1 = Server.MapPath("pdfs\\transmittal2.pdf");
            if (File.Exists(pdfPath1))
            {                  

                dt = objClsTransmittal.GetTransmittal(jobid, cid);
                String comment = "Correspondence generated for " + dt.Rows[0]["Recipient"].ToString();                  
                var formfield = PDFHelper.GetFormFieldNames(pdfPath1);
                formfield["DocDate"] = DateTime.Now.ToLongDateString();
                formfield["Address1"] = dt.Rows[0]["Company"].ToString();
                formfield["Address2"] = dt.Rows[0]["Address1"].ToString();
                formfield["PropertyAddress"] = dt.Rows[0]["PropertyAddress"].ToString();
                formfield["Job"] = dt.Rows[0]["JobID"].ToString();
                formfield["Name"] = dt.Rows[0]["Recipient"].ToString();
                formfield["CityStateZip"] = dt.Rows[0]["address2"].ToString();
                formfield["E-mail"] = dt.Rows[0]["Email"].ToString();
                var pdfcontent = PDFHelper.GeneratePDF(pdfPath1, formfield);                    
                PDFHelper.ReturnPDF(pdfcontent, "Transmittal.pdf");

            } 
```

目前其下载为只读pdf。

当这个 pdf 被下载时，我希望所有字段仍然可以填写，我已经填写了 pdf 的文本。这样我就可以编辑文本。

我期待着您的回复。

谢谢。

**编辑**

PdfHelper 是我的自定义类。我在其中使用了以下代码：

```
 using System;
   using System.Collections.Generic;
  using System.Collections;
  using System.Linq;
  using System.Web;
   using System.IO;
   using iTextSharp.text.pdf;

  public class PDFHelper
  {
    public static Dictionary<string, string> GetFormFieldNames(string pdfPath)
    {
    var fields = new Dictionary<string, string>();

    var reader = new PdfReader(pdfPath);
    foreach (DictionaryEntry entry in reader.AcroFields.Fields)
        fields.Add(entry.Key.ToString(), string.Empty);
    reader.Close();

    return fields;
}

public static byte[] GeneratePDF(string pdfPath, Dictionary<string, string> formFieldMap)
{
    var output = new MemoryStream();
    var reader = new PdfReader(pdfPath);
    var stamper = new PdfStamper(reader, output);
    var formFields = stamper.AcroFields;

    foreach (var fieldName in formFieldMap.Keys)
        formFields.SetField(fieldName, formFieldMap[fieldName]);

    stamper.FormFlattening = true;
    stamper.Close();
    reader.Close();

    return output.ToArray();
}

public static string GetExportValue(AcroFields.Item item)
{
    var valueDict = item.GetValue(0);
    var appearanceDict = valueDict.GetAsDict(PdfName.AP);

    if (appearanceDict != null)
    {
        var normalAppearances = appearanceDict.GetAsDict(PdfName.N);

        if (normalAppearances != null)
        {
            foreach (var curKey in normalAppearances.Keys)
                if (!PdfName.OFF.Equals(curKey))
                    return curKey.ToString().Substring(1); // string will have a leading '/' character, so remove it!
        }
    }

    var curVal = valueDict.GetAsName(PdfName.AS);
    if (curVal != null)
        return curVal.ToString().Substring(1);
    else
        return string.Empty;
}

public static void ReturnPDF(byte[] contents)
{
    ReturnPDF(contents, null);
}

public static void ReturnPDF(byte[] contents, string attachmentFilename)
{
    var response = HttpContext.Current.Response;

    if (!string.IsNullOrEmpty(attachmentFilename))
        response.AddHeader("Content-Disposition", "attachment; filename=" + attachmentFilename);

    response.ContentType = "application/pdf";
    response.BinaryWrite(contents);
    response.End();
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-14T23:16:59.500

你的代码行

```
stamper.FormFlattening = true; 
```

指示 iTextSharp 将表单域展平，即将它们整合到页面内容中并移除表单域注释。

由于您希望将表单字段保留为可编辑字段，因此不要展平表单。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-19T08:13:05.033

错误：无法转换 PDFHelper.cs 中的类型

```
public static Dictionary<string, string> GetFormFieldNames(string pdfPath)
    {
        var fields = new Dictionary<string, string>();

        var reader = new PdfReader(pdfPath);
        foreach (DictionaryEntry entry in reader.AcroFields.Fields) //ERROR: 'System.Collections.Generic.KeyValuePair' to 'System.Collections.DictionaryEntry'
        {
            fields.Add(entry.Key.ToString(), string.Empty);
        }
        reader.Close();

        return fields;
    } 
```

'System.Collections.Generic.KeyValuePair' 到 'System.Collections.DictionaryEntry'

# android - 将多个 xml 文件组合成一个最终的 android 布局

> ID：15418943
> 
> 赞同：1
> 
> 时间：2013-03-14T19:54:43.747
> 
> 标签：android, android-layout

假设我有一个布局文件，我想将其用作另一个布局的一部分，我该怎么做？

例如，我的表格布局位于`/res/layout/table.xml`. 我想将该表用作相对布局中的组件`/res/layout/relative_stuff.xml`。假设我的相对布局是包含表格和两个按钮。

简单的情况是完全在`relative_stuff.xml`文件内部进行组合。但更好的情况是能够以编程方式设置表 xml：现实是我想从许多不同的表中进行选择，现在说两个表：`/res/layout/table_1.xml`和`/res/layout/table_2.xml`。

所以基本上我的主要布局文件是`/res/layout/relative_stuff.xml`. 我想以编程方式在其中设置两个表中的任何一个。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T19:56:51.727

您可以[使用包含标签重用布局](http://developer.android.com/training/improving-layouts/reusing-layouts.html)。

例如，使用您的示例 layout/table.xml：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical" 
    android:layout_width=”match_parent”
    android:layout_height=”match_parent”&gt;

    <include layout="@layout/table"/>

</LinearLayout> 
```

如果您不想在 XML 中执行此操作，则可以使用[LayoutInflater](http://developer.android.com/reference/android/view/LayoutInflater.html)来扩充您的 XML 并将其添加到您正在使用的任何容器中。

```
LayoutInflater mLayoutInflater = (LayoutInflater) context.getSystemService(LAYOUT_INFLATER_SERVICE);
View tableLayout = mLayoutInflater.inflate(R.layout.table, (ViewGroup) findViewById(R.layout.root_id));
rootLayout.addView(tableLayout); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T20:04:57.497

您可以使用 Layout Inflator Service 添加多个添加活动。

# visual-studio-2012 - VS2012 - 猝死

> ID：15418944
> 
> 赞同：5
> 
> 时间：2013-03-14T19:54:49.463
> 
> 标签：visual-studio-2012

我在 Visual Studio 2012 中有一个相当一致但随机的突然死亡事件。这通常发生在我按 F6 构建时 - VS 将在没有任何消息或警告的情况下消失。

事件日志有这个：

```
Error Handler Exception: System.ServiceModel.CommunicationException: There was an error reading   
from the pipe: Unrecognized error 109 (0x6d). ---> System.IO.IOException: The read operation 
failed, see inner exception. ---> System.ServiceModel.CommunicationException: There was an error 
reading from the pipe: Unrecognized error 109 (0x6d). ---> System.IO.PipeException: There was an 
error reading from the pipe: Unrecognized error 109 (0x6d).

   at System.ServiceModel.Channels.PipeConnection.OnAsyncReadComplete(Boolean haveResult, Int32 error, Int32 numBytes)
--- End of inner exception stack trace ---
at System.Runtime.AsyncResult.End[TAsyncResult](IAsyncResult result)
at System.ServiceModel.Channels.ConnectionStream.EndRead(IAsyncResult asyncResult)
at System.Net.FixedSizeReader.ReadCallback(IAsyncResult transportResult)
--- End of inner exception stack trace ---
at System.Net.Security.NegotiateStream.EndRead(IAsyncResult asyncResult)
at System.ServiceModel.Channels.StreamConnection.EndRead()
--- End of inner exception stack trace ---
at System.Runtime.AsyncResult.End[TAsyncResult](IAsyncResult result)
at System.ServiceModel.Channels.TransportDuplexSessionChannel.EndTryReceive(IAsyncResult result, Message& message)
at System.ServiceModel.Dispatcher.DuplexChannelBinder.EndTryReceive(IAsyncResult result,   RequestContext& requestContext)
at System.ServiceModel.Dispatcher.ErrorHandlingReceiver.EndTryReceive(IAsyncResult result, RequestContext& requestContext) \r\n    at System.Runtime.AsyncResult.End[TAsyncResult](IAsyncResult result)
at System.ServiceModel.Channels.TransportDuplexSessionChannel.EndTryReceive(IAsyncResult result, Message& message)
at System.ServiceModel.Dispatcher.DuplexChannelBinder.EndTryReceive(IAsyncResult result, RequestContext& requestContext)
at System.ServiceModel.Dispatcher.ErrorHandlingReceiver.EndTryReceive(IAsyncResult result, RequestContext& requestContext) 
```

我怀疑这可能是我安装的一些扩展，但我已经删除了我安装的所有最新的扩展并且它仍然存在。

有人有类似的经历吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-18T19:46:43.890

对我来说，这听起来像是一个糟糕的安装。**通过在 Windows程序和功能**中选择应用程序名称并单击*更改*按钮，尝试对 Visual Studio 2012 安装运行修复。

# c - UPS WorldShip 如何知道 Internet Explorer 是否启动？

> ID：15418946
> 
> 赞同：0
> 
> 时间：2013-03-14T19:55:00.803
> 
> 标签：c, internet-explorer, communication

我们使用 Aurora 作为浏览器，但 UPS WorldShip 固执地使用 Internet Explorer。所以我创建了一个名为的可执行文件，并用我的“假”`iexplore.exe`替换了真实的。`iexplore.exe`我的“假货”`iexplore.exe`刚刚启动了 Aurora。所以我启动 WorldShip，然后单击`UPS Home Page`（或类似的东西）它会启动 Aurora。但随后 WorldShip 挂起，说`Connecting... Please Wait`好像什么都没启动。

我的问题是： IE 如何与 WorldShip 通信以让它知道 IE 已启动？我怎样才能在我自己的程序中实现这个（最好在 C 中）？

**EDIT**
IE 以该`-Embedding`选项启动。有谁知道那是做什么的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T19:58:52.593

Internet Explorer 被 HTTP 标头中的[User-Agent](https://www.rfc-editor.org/rfc/rfc2616#section-14.43)检测到（定义在[RFC2616](https://www.rfc-editor.org/rfc/rfc2616)中）。因此，如果您的浏览器没有在 User-Agent 中的某处发送“MSIE”，UPS 就不会认为您使用的是 Internet Explorer。

根据 UPS 使用的 API，您可能确实需要使用 IE，尤其是在使用 ActiveX 的情况下。这不受任何其他浏览器的支持。

# wordpress - 使用数据或 csv 在 Highstock 中创建图表

> ID：15418947
> 
> 赞同：0
> 
> 时间：2013-03-14T19:55:04.347
> 
> 标签：wordpress, csv, highstock

我已经阅读了很多关于导入 csv 的帖子，并且查看了一些示例。我正在尝试使用 Insert Javascript 插件在 WP3.5.1 中显示图表。

我正在尝试使用从 Apple (AAPL) 演示中使用的数据创建图表的数据，这些数据可以在 highcharts 网站的数据转储 (aapl-ohlcv.json) 中找到。他们的演示 highstock 图表是他们的烛台和交易量。

我不认为我可以创建一个 json 文件（考虑到所涉及的 php，超出了我的能力范围）并且导入 csv 似乎不起作用。所以我的问题是：

1 如何格式化一个 csv 文件，它可以工作并且基于上面的数据，我可以像这样添加到帖子中`<div id="data.csv" style="display: none">`？

2 我需要什么代码来解析这些数据？

我试过了 -

```
$.get = function(id, fn) {
        fn(document.getElementById(id).innerHTML);        
    };

    $.get('data.csv', function(data) {
 $(function() { 
```

但这显示了一个没有数据的图表，但这可能是因为数据格式不正确。此外，它需要将数据包含在帖子本身中（这不是我的首选）。

理想情况下，我想创建一个 csv 文件（基于上面的 Apple 数据，但对于另一个股票/产品，因此以相同的格式获取相同类型的图表），并将其导入到我的帖子中。我曾尝试创建此类文件并引用它们，但正如我所说，这不起作用。

任何想法都非常感谢。请参考指定数据-谢谢。

**将此添加为编辑的一部分：**

好的，让我重新措辞一下，因为与其他图表一起工作后，我可以看到我不会找到解决方案。我想获取构成烛台和交易量图表的图表数据并将其作为直接数据数组添加到我的 javascript 中。你能告诉我怎么做吗？

原始数据文件具有这种格式（仅一个月）：

```
/* AAPL historical OHLC data from the Google Finance API */
[
/* Mar 2006 */
[1142553600000,64.75,65.54,64.11,64.66,29048435],
[1142812800000,65.22,65.46,63.87,63.99,21627764],
[1142899200000,64.29,64.34,61.39,61.81,48048714],
[1142985600000,62.16,63.25,61.27,61.67,48087166],
[1143072000000,61.82,61.90,59.61,60.16,51054888],
[1143158400000,60.25,60.94,59.03,59.96,38293616],
[1143417600000,60.35,61.38,59.40,59.51,39601685],
[1143504000000,59.63,60.14,58.25,58.71,48944176],
[1143590400000,59.13,62.52,57.67,62.33,83839008],
[1143676800000,62.82,63.30,61.53,62.75,49678962],
[1143763200000,63.25,63.61,62.24,62.72,29113658], 
```

原js如下：

```
$(function() {
     $.getJSON('http://www.highcharts.com/samples/data/jsonp.php?filename=aapl-       ohlcv.json&callback=?', function(data) {

      // split the data set into ohlc and volume
      var ohlc = [],
           volume = [],
           dataLength = data.length;

      for (i = 0; i < dataLength; i++) {
           ohlc.push([
                data[i][0], // the date
                data[i][1], // open
                data[i][2], // high
                data[i][3], // low
                data[i][4] // close
           ]);

           volume.push([
                data[i][0], // the date
                data[i][5] // the volume
           ])
      }

      // set the allowed units for data grouping
      var groupingUnits = [[
           'week',                         // unit name
           [1]                             // allowed multiples
      ], [
           'month',
           [1, 2, 3, 4, 6]
      ]];

      // create the chart
      chart = new Highcharts.StockChart({
          chart: {
              renderTo: 'container',
              alignTicks: false
          },

          rangeSelector: {
              selected: 1
          },

          title: {
              text: 'AAPL Historical'
          },

          yAxis: [{
              title: {
                  text: 'OHLC'
              },
              height: 200,
              lineWidth: 2
          }, {
              title: {
                  text: 'Volume'
              },
              top: 300,
              height: 100,
              offset: 0,
              lineWidth: 2
          }],

          series: [{
              type: 'candlestick',
              name: 'AAPL',
              data: ohlc,
              dataGrouping: {
                     units: groupingUnits
              }
          }, {
              type: 'column',
              name: 'Volume',
              data: volume,
              yAxis: 1,
              dataGrouping: {
                     units: groupingUnits
              }
          }]
      });

     });
}); 
```

我已将此（仅使用少量数据）更改为：

```
`$(function() {
     // $.getJSON('http://www.highcharts.com/samples/data/jsonp.php?filename=aapl-ohlcv.json&callback=?', function(data) {

      // split the data set into ohlc and volume
      var ohlc = [],
           volume = [],
           dataLength = data.length;

      for (i = 0; i < dataLength; i++) {
           ohlc.push([
                data[i][0], // the date
                data[i][1], // open
                data[i][2], // high
                data[i][3], // low
                data[i][4] // close
           ]);

           volume.push([
                data[i][0], // the date
                data[i][5] // the volume
           ])
      }

      // set the allowed units for data grouping
      var groupingUnits = [[
           'week',                         // unit name
           [1]                             // allowed multiples
      ], [
           'month',
           [1, 2, 3, 4, 6]
      ]];

      // create the chart
      chart = new Highcharts.StockChart({
          chart: {
              renderTo: 'container',
              alignTicks: false
          },

          rangeSelector: {
              selected: 1
          },

          title: {
              text: 'AAPL Historical'
          },

          yAxis: [{
              title: {
                  text: 'OHLC'
              },
              height: 200,
              lineWidth: 2
          }, {
              title: {
                  text: 'Volume'
              },
              top: 300,
              height: 100,
              offset: 0,
              lineWidth: 2
          }],

          series: [{
            type: 'candlestick',

       name: 'AAPL',
                data: [[1142553600000,64.75,65.54,64.11,64.66,29048435],
[1142812800000,65.22,65.46,63.87,63.99,21627764],
[1142899200000,64.29,64.34,61.39,61.81,48048714],
[1142985600000,62.16,63.25,61.27,61.67,48087166],
[1143072000000,61.82,61.90,59.61,60.16,51054888],
[1143158400000,60.25,60.94,59.03,59.96,38293616],
[1143417600000,60.35,61.38,59.40,59.51,39601685],
[1143504000000,59.63,60.14,58.25,58.71,48944176],
[1143590400000,59.13,62.52,57.67,62.33,83839008],
[1143676800000,62.82,63.30,61.53,62.75,49678962],
[1143763200000,63.25,63.61,62.24,62.72,29113658]] 
dataGrouping: {
                         units: groupingUnits
                  }
             }, {
               type: 'column',
name: 'Volume',
                data: [[1142553600000,64.75,65.54,64.11,64.66,29048435],
[1142812800000,65.22,65.46,63.87,63.99,21627764],
[1142899200000,64.29,64.34,61.39,61.81,48048714],
[1142985600000,62.16,63.25,61.27,61.67,48087166],
[1143072000000,61.82,61.90,59.61,60.16,51054888],
[1143158400000,60.25,60.94,59.03,59.96,38293616],
[1143417600000,60.35,61.38,59.40,59.51,39601685],
[1143504000000,59.63,60.14,58.25,58.71,48944176],
[1143590400000,59.13,62.52,57.67,62.33,83839008],
[1143676800000,62.82,63.30,61.53,62.75,49678962],
[1143763200000,63.25,63.61,62.24,62.72,29113658]]
yAxis: 1,
                  dataGrouping: {
                         units: groupingUnits
                  }

}]

          });
     });
}); 
```

但是，这不会在“小提琴”中运行。我哪里出错了？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-09T11:47:48.717

如我所见，您有 JSON 图，但 CSV 应如下所示：

```
1142812800000,65.22,65.46,63.87,63.99,21627764,
1142812800000,65.22,65.46,63.87,63.99,21627764,
1142812800000,65.22,65.46,63.87,63.99,21627764,
1142812800000,65.22,65.46,63.87,63.99,21627764,
1142812800000,65.22,65.46,63.87,63.99,21627764 
```

然后解析[http://docs.highcharts.com/#preprocesssing-data-from-a-file](http://docs.highcharts.com/#preprocesssing-data-from-a-file) $1

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-05-01T11:04:41.127

您可以使用WordPress 插件目录中提供的[免费 IPU-Chart WP 插件。](http://wordpress.org/extend/plugins/ipu-chart/)根本没有编程（或至少没有多少）。

该插件采用 csv 并从数据中呈现*bar*、*pie*、*donut*、*line*或*scatter 图表*。您可以通过 url 引用 csv 或使用简码将 csv 数据直接包含在您的页面/文章中。

请参阅[一些使用示例](https://www.ipublia.com/products/ipu-chart-svg-chart-library/)。

# java - Set<> = Sets.newHashSet()

> ID：15418948
> 
> 赞同：0
> 
> 时间：2013-03-14T19:55:04.850
> 
> 标签：java, hashset

好的，所以我重新编写了帖子以使其更容易理解（对不起所有的粘贴箱，但堆栈溢出对于代码格式来说是愚蠢的）

请注意，我不打算存储如下所述的荒谬数据量。我使用我所说的量的主要原因是尽可能多地挤出效率。

假设我有以下代码

将添加到 DropItemQueue 的方法（从 floodFill（深度为 0）开始，其他参数无关紧要）

[http://pastebin.com/3wqEb5cM](http://pastebin.com/3wqEb5cM)

这是同一个类，然后它将调用 Utils 中的 dropItem 方法

[http://pastebin.com/yEUW9Wad](http://pastebin.com/yEUW9Wad)

我的 Utils.dropItem 方法如下

[http://pastebin.com/c0eaWeMA](http://pastebin.com/c0eaWeMA)

这是 ServerTickHandler.addDropItemQueue 方法及其变量存储

[http://pastebin.com/Q4p5a4ja](http://pastebin.com/Q4p5a4ja)

这是 DropItemQueue 类

[http://pastebin.com/wxCj9imN](http://pastebin.com/wxCj9imN)

如果我说向这个哈希集添加 100000000 个元素，我注意到它需要大约 2 秒

使用此迭代器迭代哈希集中的所有内容每 1/20 秒调用一次

[http://pastebin.com/zSWg1kKu](http://pastebin.com/zSWg1kKu)

每次迭代 2 秒似乎并不多，但要摆脱存储在哈希集中的每个元素，需要大约 50 天的时间

每次将元素解析为哈希集时，maxTicks 比之前添加的元素多 1，因此基本上每 1 秒删除一个项目，但由于迭代所有内容需要 2 秒，因此实际上需要 3 秒才能删除一个项目，这将使大约需要 150 天来完成迭代并刷新每个元素并完成

我的问题是拥有多个具有较少最大元素的哈希集会更快吗？比如说 1000 个元素。

是的，这会给我 100000 个哈希集，但是由于它们每个都更小，所以迭代时间会变慢（无论是效率的微小提高）还是有更好的东西我可以使用而不是哈希集或者哈希集是最好的利用？

请注意，如果我确实使用了较小迭代的多次迭代，由于跨线程数据冗余，我无法使用线程

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:04:35.313

数据结构的`HashSet`设计实际上只有一个目的，即回答“这个集合是否包含这个项目”这个问题。对于任何其他用途，它不一定是最有效的。

对于您的使用，队列似乎是一个更好的选择。

# python - pip 不会使用 --user 在本地安装 Python 包

> ID：15418949
> 
> 赞同：19
> 
> 时间：2013-03-14T19:55:10.387
> 
> 标签：python, package, pip, easy-install, pythonpath

我正在尝试使用 pip 在本地安装软件包。它曾经可以使用，`--user`但现在当我尝试它时，它会在其中找到软件包的版本，`/usr/local/lib/`然后不会在本地安装它。通常它会安装东西，`~/.local`但现在它只是检查包的系统范围目录，如果它在那里，它不会安装它（这不是我想要的），如果它不在那里，它会尝试安装`/usr/local/lib`它我没有写权限。例如：

```
$ pip install --user rpy2
Requirement already satisfied (use --upgrade to upgrade): rpy2 in /usr/local/lib/python2.7/dist-packages/ 
```

我怎样才能让`pip install --user`总是转到`~/.local`而不是系统范围的目录？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-11-30T18:52:32.317

[引用](https://github.com/pypa/pip/issues/766#issuecomment-29544589)Marcus Smith（点子的维护者）：

> 如果您认为全局站点已过时，并且想要用户站点中的最新版本，请使用：
> `pip install --upgrade --user SomePackage`
> 
> 如果全局站点是最新的，并且您真的只想在 中复制相同的内容`--user`，请使用：（
> `pip install --ignore-installed --user SomePackage`在 #1352 合并后现在可以正常工作，将在 v1.5 中发布）

*我怎样才能让`pip install --user`总是转到`~/.local`而不是系统范围的目录？*

同时使用`--upgrade`和`--ignore-installed`参数。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-14T20:24:19.293

根据 pip 文档，该语法是正确的，但需要 Python 2.6。

> **用户安装**
> 
> Python 2.6 出现了用于安装的“用户方案”，这意味着所有 Python 发行版都支持特定于用户的替代安装位置。每个操作系统的默认位置在 site.USER_BASE 变量的 python 文档中进行了说明。可以通过为 pip install 指定 –user 选项来打开这种安装模式。
> 
> 此外，可以通过设置 PYTHONUSERBASE 环境变量来自定义“用户方案”，该环境变量会更新 site.USER_BASE 的值。
> 
> 要将“SomePackage”安装到 site.USER_BASE 自定义为“/myappenv”的环境中，请执行以下操作：

```
export PYTHONUSERBASE=/myappenv 
pip install --user SomePackage 
```

因此，以下条目应该适合您：

```
export PYTHONUSERBASE=~/.local
pip install --user rpy2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-11-01T04:55:42.930

[使用用户命令安装任何软件包](https://i.stack.imgur.com/WhMGJ.png)

用于升级 pip ：

```
python -m pip install --upgrade --user pip 
```

# javascript - Javascript onChange 下拉菜单

> ID：15418951
> 
> 赞同：2
> 
> 时间：2013-03-14T19:55:13.110
> 
> 标签：javascript, html

我正在尝试调用 HTML Select 的 javascript 函数 onChange。

HTML 文档：

```
<select name="network" onChange="test(this)">
    <option value="net1">Net1</option>
    <option value="net2">net2</option>
</select>
<script>
    alert("test");
    var URLArray = [];
    function test(str){
        alert("test");
    }
</script> 
```

我收到第一个警报，但没有收到第二个警报。我错过了什么？

编辑：代码实际上有效，但无论出于何种原因，我不能使用 JSFiddle 中的单独窗格。对此有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T20:20:52.363

当 jsFiddle 运行您的代码时，它会将其包装在一个闭包中，如下所示：

```
<script type='text/javascript'>//<![CDATA[ 
window.onload=function(){
    alert("test");
    var URLArray = [];
    function test(str){
        alert("test");
    }
}//]]>  
</script> 
```

因此，您定义的“测试”函数永远不能作为全局函数使用，因此您放置在 select 标记上的内联 javascript 无法访问。

我强烈建议您学习使用 jQuery 来附加您的事件处理程序，如下所示：

```
<select name="network">
    <option value="net1">Net1</option>
    <option value="net2">net2</option>
</select>

$(function () {
    console.log("oh look, the document is ready");

    $("[name=network]").change(function () {
        console.log("now my code is groovy, but i might want to use an id rather than name selector"); 
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T20:01:00.070

您的脚本没问题，您只需为两者输入相同的值（“test”）`alert`。

```
<script>
    alert("test1");
    var URLArray = [];
    function test(str){
        alert("test2");
    }
</script> 
```

或者也许最终目标是这个......

```
function test(elm){
    alert(elm.value);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T20:08:06.957

尝试将您的脚本移动到您的第一个电话上方，如下所示：

```
<script>
    alert("test");
    var URLArray = [];
    function test(str){
        alert("test");
    }
</script>

<select name="network" onChange="test(this)">
    <option value="net1">Net1</option>
    <option value="net2">net2</option>
</select> 
```

这是[jsfiddle](http://jsfiddle.net/akTfM/)，如您所见，我将 javascript 设置为放在标题中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T20:12:20.273

正如 Panayot 所说，您的代码还可以，但我宁愿使用`console.log()`而不是`alert`. 在控制台上查看比跟踪警报要容易得多。

```
<select name="network" onChange="test(this)">
    <option value="net1">Net1</option>
    <option value="net2">net2</option>
</select>
<script>
    console.log("test1")
    var URLArray = [];
    function test(str){
        console.log("test2");
    }
</script> 
```

# ms-office - 如何为 Microsoft Office 实施拼写检查器？

> ID：15418955
> 
> 赞同：4
> 
> 时间：2013-03-14T19:55:22.857
> 
> 标签：ms-office, spell-checking

到目前为止，我已经搜索了一种在 Microsoft Office 中为我的本地语言实现拼写检查器的方法：Microsoft Office 似乎使用语言包来为其他语言提供拼写检查。

是否有实现此语言包的 API？

对不起，如果这个问题是重复的，我已经检查了关于这个主题的上一个问题：

*   [https://stackoverflow.com/questions/15089338/am-planning-to-create-my-local-language-spell-checker-for-office](https://stackoverflow.com/questions/15089338/am-planning-to-create-my-local-language-spell-checker-for-office)

这个问题没有得到很好的回答，我应该澄清一下，我不是在寻找充当拼写检查器角色的 Word 加载项。

*   [http://www.lingsoft.fi/read_and_write](http://www.lingsoft.fi/read_and_write)

该公司提供校对器，包括用于 Windows 产品的拼写检查器。

那么你能指导我解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-22T19:36:26.957

从 Microsoft Office Word 2010 版开始，您必须使用 Microsoft 的 Common Speller API (CSAPI)，查看[此链接](http://social.msdn.microsoft.com/Forums/en-US/a92e546e-2ee1-4a8a-961e-7dd0ccb5c626/developing-a-spelling-engine)了解更多信息。

[这里](http://www.codeproject.com/Articles/1140/Using-the-Microsoft-Common-Spell-API)有一个关于如何实现提供拼写检查服务的 DLL的示例源代码，以及一个描述 CSAPI 的 PDF 文档。

要获得微软关于如何实现拼写检查的文档并不容易，因为你必须在[这里](https://members.microsoft.com/omc/welcome.aspx)提交你的项目提案或联系[微软爱尔兰](http://www.microsoft.com/en-ie/default.aspx)的某个人（他们是负责拼写检查 API 的开发和维护的人） )，如果获得批准，他们将向您发送所需的文件。

我要澄清的是，CSAPI 只提供了为单个单词开发拼写检查器的方法，并且只使用 VS C++（没有 C# 或 VB），如果你想开发一个语法检查器 oa 同义词库，你必须要求其他 API。

# sql - db查询的where子句中的NVL和关系运算符

> ID：15418962
> 
> 赞同：1
> 
> 时间：2013-03-14T19:56:02.517
> 
> 标签：sql, oracle

我正在学习 SQL 并使用 Oracle 11。我正在使用犯罪数据库并试图找到未付费用的犯罪分子。我的查询如下

```
select first, last, charge_id, (fine_amount + court_fee) as "Total Amount Owed", NVL(amount_paid, null), (fine_amount + court_fee - amount_paid) as "Amount Owed", pay_due_date 
from crime_charges cc, criminals c, crimes
where crimes.crime_id = cc.crime_id and c.criminal_id = crimes.criminal_id and (NVL(fine_amount, 0) + NVL(court_fee, 0)) – NVL(amount_paid, 0 ) > 0; 
```

数据库中的 amount_paid 和 fine_amount 和 court_fee 有空值。我试图过滤掉那些不欠任何atm的罪犯，即（fine_amount + court_fee）-amount_paid> 0

我不断收到一条错误消息，说 ORA-00920：无效的关系运算符 00920。00000 -“无效的关系运算符” *原因：
*操作：行错误：43 列：122

我根本无法让 NVL 在 where 子句中工作。我已经看到使用 NVL 的 where 子句的示例，但我看不出它们与我的查询有何不同。

例子：

```
SELECT fname, lname, manager_emp_id

FROM employee

WHERE NVL(manager_emp_id, -999) != 7698; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:11:53.817

首先，我认为在创建数据库时应该避免使用 NULL 方法，因为所有空值都占用了大量空间。在大多数情况下，数据库中有 NULL 是一个糟糕的实现。

NVL(amount_paid, null) 表示以下内容：如果 amount_paid 为“null”，则将其设置为“null”。

我自己对数据库很陌生，但这可能是一个问题，请尝试设置 NVL(amount_paid, 0) 。

否则 NVL 的使用是正确的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T20:31:11.800

# google-maps - 谷歌地图光标不变

> ID：15418972
> 
> 赞同：2
> 
> 时间：2013-03-14T19:56:39.357
> 
> 标签：google-maps, google-maps-api-3

更改缩放时，我尝试更改地图的光标。如果不移动鼠标，更改将不可见。如果你移动它，那么光标就会改变。你可以在这里测试：

[http://tinkerbin.com/ENHFSmVR](http://tinkerbin.com/ENHFSmVR)

如何重现：在不移动鼠标的情况下使用鼠标滚轮放大。光标应该改变，但它没有。移动鼠标。光标改变了。

如果您检查 html，您将看到有一个具有内联样式的 div，该样式具有光标属性。除非您移动鼠标，否则该光标属性不会改变。

```
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=&sensor=false">
    </script>
    <script type="text/javascript">
      var odd = true;

      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(-34.397, 150.644),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map-canvas"),
            mapOptions);

        google.maps.event.addListener(map, "zoom_changed", function(event) {
          if (odd) {
            map.setOptions({ draggableCursor: 'crosshair', 
                         draggingCursor: 'crosshair'});
            odd = !odd;
          } else {
            map.setOptions({ draggableCursor: 'move', 
                         draggingCursor: 'move'});
            odd = !odd;
          }

        });
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <div id="map-canvas"/>
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:03:08.820

这看起来是设计使然：

**可拖动光标**

> 将鼠标悬停在可拖动地图上时要显示的光标的名称或 URL。

**拖动光标**

> 拖动地图时要显示的光标的名称或 url。

这两种情况似乎都需要鼠标移动（鼠标悬停和拖动都是动词，所以我假设鼠标在任何一种情况下移动）。

此外，它似乎在 Chrome 中工作（响应延迟）。

# eclipse - Eclipse 自动创建新函数/方法

> ID：15418973
> 
> 赞同：4
> 
> 时间：2013-03-14T19:56:43.367
> 
> 标签：eclipse, methods, aptana

在工作中，我们目前正在使用一个名为 PHPEdit 的 IDE，但是我们正在寻求转移到另一个主要 IDE，我们一直在研究基于 eclipse 的 Aptana Studio 3。

PHPedit 的一个非常好的特性是您可以通过单击新方法下的小工具提示来创建新方法。

例如，您可以键入

```
$data = $this->model->getData(); 
```

如果函数 getData() 不存在，您可以单击“getData”一词并获得一个小选项来创建该方法，然后它将自动在相关模型中创建它，并且如果您通过它传递任何参数，例如 $var , $var，那么它也会自动设置它们。

我想知道这样的功能是否可用，或者是否有人知道一个，因为我不太确定要在任何文档中搜索什么，因为我不知道这实际上是什么。

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T10:58:47.623

AFAIK eclipse PDT 并不完全符合您的要求。

您可以查看[Linux 编程编辑器](http://www.codefear.com/linux/best-free-linux-web-programming-editors/)，甚至可以查看[Jetbrains](http://www.jetbrains.com/phpstorm/)

当你在做的时候，看看[这个问题](https://stackoverflow.com/questions/4583061/ide-with-autocomplete-feature-for-html-and-php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T06:59:40.943

Eclipse 已经这样做了。我刚刚在打开的编辑器中输入了以下代码。

```
Intent intent = new Intent()
// some code to init intent   
String data = getData(intent); 
```

当然它哭了 getData() 不存在。当鼠标悬停时，它提供了创建选项`getData(Intent)`。当我选择创建此方法时，它会提供以下内容：

```
protected String getData(Intent intent) {
    // TODO Auto-generated method stub
    return null;
} 
```

# java - 我想知道为什么这个小程序需要 O(N) 才能进行

> ID：15418978
> 
> 赞同：2
> 
> 时间：2013-03-14T19:56:59.403
> 
> 标签：java, performance, algorithm, analysis, recurrence

```
private void listAll( int depth )
{
    printName( depth ); // Print the name of the object
    if( isDirectory( ) )
    for each file c in this directory (for each child)
    c.listAll( depth + 1 );
} 
```

我尝试使用递归关系来诱导运行时间
正确的运行时间是 O(N)
我的分析表明它将是 O(N^2)

这是我的归纳
1\. T(0) = (第一行) O(1)+(第二行) O(1)+(我们假设的孩子数是 N) N*(T(1)
2\. T(0 ) = (第一行) O(1)+(第二行) O(1)+ N*(O(1)+O(1)+ N*(T(2))
3 随着这个归纳的进行，运行时间将是某种 O(N^2)

我的分析有什么问题？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T20:01:17.253

你的错误在于假设有 N 个孩子。如果 N 是文件总数，您应该观察 O(N) 运行时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T20:03:15.853

您可能误解了 N 的含义？也许 N 是根目录及其所有子目录中所有文件的数量，这会使这个问题成为深度优先搜索，它具有 O(N) 复杂度，其中 N 是节点数。

如果确实是 N^2，那么一个目录中的文件数和另一个目录中的文件数必须具有某种依赖性。但事实并非如此......每个文件夹中的文件数量是未定义的，除非您实际访问它。可以是2，也可以是一万。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T20:03:58.263

如果单步是指一次调用，`listAll()`并且`N`是目录结构中的元素总数，则必须是一次调用`listAll()`必须对应于单个元素，否则您将多次打印至少一个元素。

因此，您得到`O(N)`（实际上，正好是 N * recursive_call_cost）

# css - 如何将 div 包裹在兄弟 div 周围

> ID：15418980
> 
> 赞同：0
> 
> 时间：2013-03-14T19:57:10.207
> 
> 标签：css

我想在其兄弟图像 div 周围包装一个文本 div。不要与在图像周围环绕文本的标准方式混淆，而是与两个单独的 div 混淆。示例如下：

```
<div style="width:1000px;">
    <div>
        <img src="some url" />
    </div>
    <div>
        <p>Some very long text here</p>
    </div>
</div> 
```

我想让它看起来像文本环绕图像。

这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-14T20:00:28.083

将包含图像的 div 向左或向右浮动。

```
<div style="width:1000px;">
    <div style="float:left">
        <img src="some url" />
    </div>
    <div>
        <p>Some very long text here</p>
    </div>
</div> 
```

**[jsFiddle 示例](http://jsfiddle.net/j08691/JZdeC/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T20:05:14.020

这是一种类似的方法：

[http://jsfiddle.net/Sux2Z/](http://jsfiddle.net/Sux2Z/)

```
<div>
    <img src="http://cdn.memegenerator.net/images/80x80/1167066.jpg" />
    Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nam cursus. Morbi ut mi. Nullam enim leo, egestas id, condimentum at, laoreet mattis, massa. Sed eleifend nonummy diam. Praesent mauris ante, elementum et, bibendum at, posuere sit amet, nibh. Duis tincidunt lectus quis dui viverra vestibulum. Suspendisse vulputate aliquam dui. Nulla elementum dui ut augue. Aliquam vehicula mi at mauris. Maecenas placerat, nisl at consequat rhoncus, sem nunc gravida justo, quis eleifend arcu velit quis lacus. Morbi magna magna, tincidunt a, mattis non, imperdiet vitae, tellus. Sed odio est, auctor ac, sollicitudin in, consequat vitae, orci. Fusce id felis. Vivamus sollicitudin metus eget eros.
Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In posuere felis nec tortor. Pellentesque faucibus.
</div>

.div {width:400px;}
img {
    margin:0 10px 10px 0;
    float:left;
} 
```

# python-2.7 - 将 iPython 控制台的输出发送到 .csv 文件。（&查看数据问题）

> ID：15418985
> 
> 赞同：1
> 
> 时间：2013-03-14T19:57:23.420
> 
> 标签：python-2.7, pandas, ipython-notebook

使用 iPython 控制台，我构建了一个名为 df 的 pandas 数据框。

```
for (k1,k2), group in df.groupby(['II','time']):
    print k1,k2
    print group 
```

df['II'] 存储介于：[-10,10] 之间的整数。

“时间”可以是 930 或 1620

我的目标是将（此循环的）输出保存到单个 .csv 文件中。（不是很好，但我将输出复制并粘贴到 csv。但是，在这样做的过程中，我注意到“II”== -1，在这两个时间：930/1620，都不会出现在（完整数据视图）中其他的（尽管它们都存在）。

例如，对于 "II"== -1 @ 930，它在控制台中显示为：

```
-1 930
<class 'pandas.core.frame.DataFrame'>
Int64Index: 268 entries, 2 to 2140
Data columns:
index      268  non-null values
date       268  non-null values
time       268  non-null values
price      268  non-null values
round5     268  non-null values
II         268  non-null values
Pattern    268  non-null values
pl         268  non-null values
dtypes: float64(2), int64(4), object(2) 
```

在知道它存在的情况下，我尝试了蛮力，手动拉动它们：

```
u=df['II']== -1
one=df.groupby('time')[u]

#To check the result: 

one.to_csv('file.csv') 
```

我按“时间”分组，所以所有时间都应该出现。然而，生成的 csv 只包含 1620 次——不幸的是，所有 930 的结果都在行动中丢失了。这很奇怪。非常感谢您的建议。

# java - Java Robot Keypress Command Key

> ID：15418987
> 
> 赞同：21
> 
> 时间：2013-03-14T19:57:25.433
> 
> 标签：java, macos, keyboard, awtrobot

What is the VK_[key] code for the command key on a mac, if one exists? I am trying to get a Robot (java Robot) to press the command key. I am using the command keyPress(), and I need to know the integer keycode for the command key on a mac.

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-03-14T20:08:03.920

[`KeyEvent.VK_META`](http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html#VK_META), with key code `157`, is Java's virtual key that maps to the the Mac command key.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-09-16T09:28:24.493

[KeyEvent.VK_META](https://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html#VK_META) can be used as COMMAND button in Mac OS.

if its not working with you, that is because you need to add a delay

sample code for opening a new tab

```
Robot robot = new Robot();
robot.keyPress(KeyEvent.VK_META);
robot.delay(200);
robot.keyPress(KeyEvent.VK_T);
robot.keyRelease(KeyEvent.VK_META);
robot.keyRelease(KeyEvent.VK_T); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-27T16:01:07.033

there is also `isMetaDown()` method, which in my case works if somebody wants to use the shortcuts for copy/paste text and so on.

Sample code:

```
public void keyPressed(KeyEvent e) {
    if (e.isMetaDown() && (e.getKeyCode() == KeyEvent.VK_V) && readonly.isSelected()){
        e.consume();
    }
} 
```