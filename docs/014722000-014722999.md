# StackOverflow 问答 14722000-14722999

# objective-c - 对着麦克风吹气以播放 1 个声音，而不是多个计时器触发器

> ID：14722003
> 
> 赞同：0
> 
> 时间：2013-02-06T05:07:45.207
> 
> 标签：objective-c, if-statement, avaudioplayer

我在这里使用这个很棒的教程[来](http://mobileorchard.com/tutorial-detecting-when-a-user-blows-into-the-mic/)检测何时有人对着麦克风吹气。

我的最终目标是当有人对着手机吹气时播放一个单一的声音，当他们没有对着手机吹气时停止它；然而，由于这个例子是基于定时器的，它每秒触发这个`if`语句 30 次（参见教程中的例子代码来了解定时器）。

```
if (lowPassResults > 0.95) {
    NSLog(@"Mic blow detected");

    self.audioSource = [[OALSimpleAudio sharedInstance] playEffect:audioSound volume:1.0 pitch:1.0 pan:0 loop:NO];

}   

if (lowPassResults  < 0){
    NSLog(@"PLEASE STOP?");
    [self.keyCSource stop];

} 
```

任何人都有任何想法来听“打击”，如果它被吹入，那么播放一次 ObjectAL 声音**，**然后在没有被吹入时停止它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:11:21.443

*据我了解，您可以检测到打击，而您的问题是，您只想播放一次声音。否则忽略我的回答...*

创建一个属性`@property BOOL blowDetected`，将其设置`YES`为检测到打击时和`NO`停止声音时（或准备检测另一次打击时）。然后只播放声音`if (!self.blowDetected)`

更详细一点：

```
if (meterResults > 0.95) {
    NSLog(@"isPlaying");
    _isPlaying = YES;
} 
```

到目前为止一切都很好，但在这里你也想开始播放你的声音，只有当`_isPlaying == NO`

```
if (!_isPlaying && meterResults > 0.95) {
    self.keyCSource = [[ ... and so on
    _isPlaying = YES;
} 
```

然后，当`meterResult`下降

```
if (lowPassResults  < 0){
    _isPlaying = NO;
    [self.keyCSource stop];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:24:59.460

这对您不起作用，因为只要您的低通结果超过阈值，您就会每秒重新启动声音 30 次。这是您可以解决此问题的方法。

确保您有某种持久性标志`BOOL is_playing`并将其设置为`NO`最初。当超过阈值时，测试`is_playing`. 仅当使用, 并设置为`NO`调用时。`playEffect``loop:YES``is_playing``YES`

如果低通结果低于您的阈值`stopAllEffects`并设置`is_playing`为`NO`。您还应该重新考虑您的下限是否真的应该为零。它可能会更高一些，最高可达 0.95。

# ruby-on-rails - 我退出终端，重新打开，现在每次运行 rspec 时都会出现此错误，这是什么原因？

> ID：14722006
> 
> 赞同：0
> 
> 时间：2013-02-06T05:07:48.333
> 
> 标签：ruby-on-rails, ruby

真的不知道发生了什么任何帮助将非常感谢。

```
 GacntMac in ~/Desktop/rails_projects/sample_app on updating-users
    + bundle install                                              (Tue, Feb 05)
    Fetching gem metadata from https://rubygems.org/.........
    Fetching gem metadata from https://rubygems.org/..
    Using rake (10.0.3) 
    Using i18n (0.6.1) 
    Using multi_json (1.5.0) 
    Using activesupport (3.2.11) 
    Using builder (3.0.4) 
    Using activemodel (3.2.11) 
    Using erubis (2.7.0) 
    Using journey (1.0.4) 
    Using rack (1.4.4) 
    Using rack-cache (1.2) 
    Using rack-test (0.6.2) 
    Using hike (1.2.1) 
    Using tilt (1.3.3) 
    Using sprockets (2.2.2) 
    Using actionpack (3.2.11) 
    Using mime-types (1.20.1) 
    Using polyglot (0.3.3) 
    Using treetop (1.4.12) 
    Using mail (2.4.4) 
    Using actionmailer (3.2.11) 
    Using arel (3.0.2) 
    Using tzinfo (0.3.35) 
    Using activerecord (3.2.11) 
    Using activeresource (3.2.11) 
    Installing bcrypt-ruby (3.0.1) with native extensions 
    Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby extconf.rb 
    mkmf.rb can't find header files for ruby at /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/ruby.h

    Gem files will remain installed in /Users/GacntMac/.bundler/tmp/2663/gems/bcrypt-ruby-3.0.1 for inspection.
    Results logged to /Users/GacntMac/.bundler/tmp/2663/gems/bcrypt-ruby-3.0.1/ext/mri/gem_make.out
    An error occurred while installing bcrypt-ruby (3.0.1), and Bundler cannot continue.
    Make sure that `gem install bcrypt-ruby -v '3.0.1'` succeeds before bundling.
    GacntMac in ~/Desktop/rails_projects/sample_app on updating-users 
```

我 cd'd 到错误说`ruby.h`应该在的目录，但我什么也没看到..

```
GacntMac in /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby
o ls -a                                                       (Tue, Feb 05)
.               ..              1.8             gems            site_ruby       user-gems       vendor_ruby 
```

编辑：添加了 rvm 信息

```
GacntMac in /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby
o rvm info                                                    (Tue, Feb 05)
-bash: rvm: command not found 
```

这很奇怪，因为我已经玩 Rails 好几天了，现在它是如何卸载自己的？

这只是在我退出终端并重新打开它之后才开始发生。我迷路了，对 Rails 很陌生，所以我不知道这意味着什么，只是想按照教程进行操作。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:13:15.770

您正在尝试将软件安装到 Ruby 的系统安装中，由 Apple 提供。

RVM 或 rbenv 会将内容安装到您主目录中的私有沙箱中。错误显示文件没有去那里，所以你的 RVM 或 rbenv 没有正确初始化。

如果您运行 RVM，请从命令行执行`rvm info`，并查看信息输出，作为健全性检查。

# java - 日期比较时间为 AM 或 PM-Hql 查询

> ID：14722008
> 
> 赞同：0
> 
> 时间：2013-02-06T05:07:52.023
> 
> 标签：java, sql, hibernate, hql

在 SQL 中，我有一个这样的查询..

```
 SELECT * FROM userdata where date_format(startdate,'%p') = 'AM' 
```

如何将此查询更改为 HQL？对于数据范围，我只需要早上的数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T01:57:18.627

`date_format`也应该在 hql 中工作。在 hql 中尝试相同的查询。

# xml - 删除 MULE 服务器 3.3.0 CE 中 .xslt 中 remoteClientAddress 字符串的额外部分？

> ID：14722010
> 
> 赞同：0
> 
> 时间：2013-02-06T05:08:13.567
> 
> 标签：xml, xslt, xsd, wsdl, mule

在 MULE 服务器 3.3.0 CE 的 configuration.xml 中，我将 MULE_REMOTE_CLIENT_ADDRESS 传递给 .xslt 文件，下面我复制了我的代码：

```
 <logger 
  message="#[message.inboundProperties['MULE_REMOTE_CLIENT_ADDRESS']]" 
  level="INFO" doc:name="Logger"/> 
```

要将 IP 地址传递给 XSLT，请将其存储在一个变量中并传递它。

```
 <set-variable 
  variableName="remoteClientAddress" 
  value = "#[message.inboundProperties['MULE_REMOTE_CLIENT_ADDRESS']]"/> 
```

将其传递给 XSLT：

```
<xm:xslt-transformer xsl-file="xsltFileName.xslt">
  <xm:context-property 
    key="remoteClientAddress" 
    value="#[remoteClientAddress]"/>
</xm:xslt-transformer> 
```

在我的 XSLT 中，声明了一个参数变量

```
<xsl:param  name="remoteClientAddress" /> 
```

然后将此变量用作

```
<xsl:value-of select="$remoteClientAddress" /> 
```

但在 configuration.xml 文件中我使用这个：

```
<logger message="Remote client address is------> #[remoteClientAddress]" level="INFO" doc:name="Logger"/> 
```

用于检查 IP 地址，但在我的 MULE 控制台中，我看到了以下语句：/127.0.0.1:51708 而我需要**127.0.0.1**我不需要**/**在 ip-address 之前和**:51708**在我的 ip-address 末尾.

如何在 mule 中删除 Configuration.xml 中的这些额外部分，然后将 ip-address 发送到 .xslt 文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:27:17.927

我对骡子一无所知，但你可以这样做：

```
<xsl:param  name="remoteClientAddress" />
<xsl:variable name="remoteClientAddressTrimmed"
       select="substring-before(substring-after($remoteClientAddress, '/'), ':')" /> 
```

然后稍后

```
<xsl:value-of select="$remoteClientAddressTrimmed" /> 
```

# javascript - 如何从 JSON OBJECT 中获取数据

> ID：14722011
> 
> 赞同：0
> 
> 时间：2013-02-06T05:08:14.673
> 
> 标签：javascript, json

请注意，这是一个实际的 Javascript 对象，而 JSON 是表示该对象的字符串。

```
JSONExample = {
"frames": {
    "chaingun.png": {
        "frame": {
            "x": 1766,
            "y": 202,
            "w": 42,
            "h": 34
        },
        "rotated": false,
        "trimmed": true,
        "spriteSourceSize": {
            "x": 38,
            "y": 32,
            "w": 42,
            "h": 34
        },
        "sourceSize": {
            "w": 128,
            "h": 128
        }
    },
    "chaingun_impact.png": {
        "frame": {
            "x":1162,
            "y":322,
            "w":38,
            "h":34},
        "rotated": false,
        "trimmed": true,
        "spriteSourceSize": {
            "x":110,
            "y":111,
            "w":38,
            "h":34},
        "sourceSize": {
            "w":256,
            "h":256}
    },
    "chaingun_impact_0000.png": {
        "frame": {
            "x": 494,
            "y": 260,
            "w": 22,
            "h": 22
        },
        "rotated": false,
        "trimmed": true,
        "spriteSourceSize": {
            "x": 113,
            "y": 108,
            "w": 22,
            "h": 22
        },
        "sourceSize": {
            "w": 256,
            "h": 256
        }
    }
}
}; 
```

以上是 JSON 结构的示例。请注意，chaingun_impact.png 不在这里，我们将使用完整的 JSON 输入调用您的 parseJSON 函数。

```
parseJSON = function (weaponJSON) {
 // Your Code here 

}; 
```

我想在 'chaingun_impact.png' 的 'spriteSourceSize' 中获取 'x' 数据字段。

提前感谢

**编辑**

这就是我尝试过的，但它不起作用

```
var parsedjson =  JSON.parse(weaponJSON);
alert(parsedjson);
console.log(pardesjson);
var x = parsedjson ['frames']['chaingun_impact.png']['spriteSourceSize'][x];
console.log(x); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:13:22.933

利用`parsedjson['frames']['chaingun_impact.png']['spriteSourceSize']['x'];`

`'x'`也需要引号。

你也可以这样做：

```
parsedjson.frames['chaingun_impact.png'].spriteSourceSize.x; 
```

# java - 在 Tomcat 服务器中运行报告时出现 BIRT 引擎异常

> ID：14722015
> 
> 赞同：-1
> 
> 时间：2013-02-06T05:08:30.860
> 
> 标签：java, eclipse, birt

我有 BIRT 4.2 版本框架，从 tomcat 服务器运行应用程序时出现`"org.eclipse.birt.report.engine.api.EngineException: Error happened while running the report."` 异常。但它通过RCP应用程序工作正常。复制Tomcat中birt文件夹根目录下的.rptdesign文件，之后必须将jar文件复制到Tomcat webapps/birt/WEB-INF/lib/目录。而 mt Stacktrace 是

```
org.eclipse.birt.report.engine.api.EngineException: Error happened while running the report.
   at org.eclipse.birt.report.engine.api.impl.EngineTask.handleFatalExceptions(EngineTask.java:2256)
   at org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:270)
   at org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:86)
   at org.eclipse.birt.report.service.ReportEngineService.runReport(ReportEngineService.java:1325)
   at org.eclipse.birt.report.service.BirtViewerReportService.runReport(BirtViewerReportService.java:158)
   at org.eclipse.birt.report.service.actionhandler.BirtRunReportActionHandler.__execute(BirtRunReportActionHandler.java:81)
   at org.eclipse.birt.report.service.actionhandler.BirtGetPageActionHandler.__checkDocumentExists(BirtGetPageActionHandler.java:58)
   at org.eclipse.birt.report.service.actionhandler.AbstractGetPageActionHandler.prepareParameters(AbstractGetPageActionHandler.java:119)
   at org.eclipse.birt.report.service.actionhandler.AbstractGetPageActionHandler.__execute(AbstractGetPageActionHandler.java:104)
   at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(AbstractBaseActionHandler.java:90)
   at org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction(AbstractBaseDocumentProcessor.java:47)
   at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction(AbstractBaseComponentProcessor.java:143)
   at org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.handleGetPage(BirtDocumentProcessor.java:87)
   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
   at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
   at java.lang.reflect.Method.invoke(Unknown Source)
   at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.process(AbstractBaseComponentProcessor.java:112)
   at org.eclipse.birt.report.soapengine.endpoint.BirtSoapBindingImpl.getUpdatedObjects(BirtSoapBindingImpl.java:66)
   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
   at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
   at java.lang.reflect.Method.invoke(Unknown Source)
   at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)
   at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)
   at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)
   at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)
   at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)
   at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)
   at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:454)
   at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)
   at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)
   at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doPost(BirtSoapMessageDispatcherServlet.java:265)
   at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
   at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)
   at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
   at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:122)
   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
   at org.eclipse.birt.report.filter.ViewerFilter.doFilter(ViewerFilter.java:68)
   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
   at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)
   at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)
   at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)
   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
   at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)
   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:395)
   at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:250)
   at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)
   at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)
   at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
   at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
   at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.OutOfMemoryError: Java heap space
   at java.lang.StringCoding$StringDecoder.decode(Unknown Source)
   at java.lang.StringCoding.decode(Unknown Source)
   at java.lang.String.(Unknown Source)
   at java.util.jar.Attributes.read(Unknown Source)
   at java.util.jar.Manifest.read(Unknown Source)
   at sun.security.util.SignatureFileVerifier.processImpl(Unknown Source)
   at sun.security.util.SignatureFileVerifier.process(Unknown Source)
   at java.util.jar.JarVerifier.processEntry(Unknown Source)
   at java.util.jar.JarVerifier.update(Unknown Source)
   at java.util.jar.JarFile.initializeVerifier(Unknown Source)
   at java.util.jar.JarFile.getInputStream(Unknown Source)
   at sun.net.www.protocol.jar.JarURLConnection.getInputStream(Unknown Source)
   at java.net.URL.openStream(Unknown Source)
   at org.eclipse.birt.report.engine.layout.pdf.font.FontConfigReader.parseConfig(FontConfigReader.java:35)
   at org.eclipse.birt.report.engine.layout.pdf.font.FontMappingManagerFactory.loadFontMappingConfig(FontMappingManagerFactory.java:419)
   at org.eclipse.birt.report.engine.layout.pdf.font.FontMappingManagerFactory.loadFontMappingConfig(FontMappingManagerFactory.java:378)
   at org.eclipse.birt.report.engine.layout.pdf.font.FontMappingManagerFactory.createFontMappingManager(FontMappingManagerFactory.java:294)
   at org.eclipse.birt.report.engine.layout.pdf.font.FontMappingManagerFactory.getFontMappingManager(FontMappingManagerFactory.java:171)
   at org.eclipse.birt.report.engine.nLayout.LayoutContext.getFontManager(LayoutContext.java:356)
   at org.eclipse.birt.report.engine.nLayout.area.impl.TextAreaLayout.(TextAreaLayout.java:76)
   at org.eclipse.birt.report.engine.nLayout.area.impl.InlineTextArea.layout(InlineTextArea.java:59)
   at org.eclipse.birt.report.engine.nLayout.LayoutEngine.startContent(LayoutEngine.java:538)
   at org.eclipse.birt.report.engine.emitter.ContentEmitterAdapter.startText(ContentEmitterAdapter.java:147)
   at org.eclipse.birt.report.engine.emitter.ContentEmitterAdapter.startLabel(ContentEmitterAdapter.java:153)
   at org.eclipse.birt.report.engine.emitter.ContentEmitterUtil.startContent(ContentEmitterUtil.java:65)
   at org.eclipse.birt.report.engine.nLayout.LayoutEngine.visitContent(LayoutEngine.java:693)
   at org.eclipse.birt.report.engine.nLayout.LayoutEngine.visitContent(LayoutEngine.java:701)
   at org.eclipse.birt.report.engine.nLayout.LayoutEngine.startForeign(LayoutEngine.java:736)
   at org.eclipse.birt.report.engine.emitter.ContentEmitterUtil.startContent(ContentEmitterUtil.java:77)
   at org.eclipse.birt.report.engine.nLayout.LayoutEngine.visitContent(LayoutEngine.java:693)
   at org.eclipse.birt.report.engine.nLayout.LayoutEngine.visitChildren(LayoutEngine.java:717)
   at org.eclipse.birt.report.engine.nLayout.RegionLayoutEngine.layout(RegionLayoutEngine.java:31) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:19:26.197

这似乎是根本原因：

`Caused by: java.lang.OutOfMemoryError: Java heap space`

考虑配置您的 Tomcat JVM 以增加堆大小。

# c# - Facebook Checkin API By Place ID 获取所有用户列表

> ID：14722017
> 
> 赞同：5
> 
> 时间：2013-02-06T05:09:04.180
> 
> 标签：c#, facebook-graph-api, facebook-checkins

我想在我的地方获得所有签到的用户。但 Facebook 只提供那些在我的好友列表中可用的用户。

我已尝试使用以下链接。

```
https://graph.facebook.com/search?type=location&&place={My Place ID}&access_token={My Access Token} 
```

任何人都可以建议通过 Check-In API 在 My Place 上获取所有用户（不仅是我的朋友中的用户）列表是否可行？

提前致谢....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-11T16:33:31.467

尝试使用 Facebook 的 FQL 执行此操作，检查您是否正在使用应用程序凭据并查看您的位置对用户权限的需求。

看看这个 Facebook 的链接。

[https://developers.facebook.com/docs/reference/fql/checkin/](https://developers.facebook.com/docs/reference/fql/checkin/)

# javascript - javascript_include_tag 上的 /assets 404

> ID：14722018
> 
> 赞同：2
> 
> 时间：2013-02-06T05:09:10.023
> 
> 标签：javascript, ruby-on-rails

在我看来：

```
 <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
 <script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
 <%= javascript_include_tag "modernizr" %> 
```

检查元素：

```
 <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
(ERROR IN RED):GET http://my-server.dev/assets/ 404 (Not Found)
 <script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
 <script src="/assets/modernizr.js?body=1" type="text/javascript"></script> 
```

我可以毫无问题地使用 stylesheet_link_tag。为什么javascript标签得到404？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-17T02:02:55.227

这取决于您的应用程序/资产、库/资产或供应商/资产在哪里。如果有疑问，请指定浏览器应查看的完整路径。

参考： http: [//guides.rubyonrails.org/layouts_and_rendering.html](http://guides.rubyonrails.org/layouts_and_rendering.html)

# asp.net - 在 asp.net 中使用 FormsAuthentication 在未受保护的页面上重定向

> ID：14722019
> 
> 赞同：0
> 
> 时间：2013-02-06T05:09:09.610
> 
> 标签：asp.net, redirect, forms-authentication

我有一个奇怪的场景。我`forms authentication`工作正常。我的受保护页面位于一个文件夹中，如果我导航到它们，我将被重定向到登录页面，并`URL`在`querystring`. 到目前为止，一切都很好。但我有一页是搜索结果页。要求是，如果用户未登录，则页面隐藏其中的一些数据，但页面的其余部分可以正常查看。

我做了一些技巧来隐藏仅包含经过身份验证的数据的面板，效果很好。我遇到的问题是，如果用户通过搜索过程（这是多步骤）并且在看到结果后想要登录，他们将不得不单击页面顶部的登录链接。这将加载没有返回 url 的登录页面。毕竟，用户单击了指向新页面（登录页面）的链接。提交登录信息后，引荐来源现在错误（它将是当前登录页面）。

因此，在不弄乱`FormsAuthentication`适用于受保护文件夹的系统的情况下，我如何才能将用户返回到他们选择自己登录（从不受保护的页面）后的最后一个位置。我意识到这不是 FormsAuthentication 中的缺陷，解决方案可能与此无关，只是想要一些选项。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:18:24.767

你可以用这个

```
 Request.UrlReferrer.ToString(); 
```

它会给你上一页的网址。

## 编辑 1

[这是关于查找上一页网址](https://stackoverflow.com/questions/772780/finding-previous-page-url)的类似问题`SO`

## 编辑 2

```
public Page PreviousPage { get; } 
```

这是 msdn 链接
[http://msdn.microsoft.com/en-us/library/system.web.ui.page.previouspage.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-1](http://msdn.microsoft.com/en-us/library/system.web.ui.page.previouspage.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-1)

# mysql - 从多个表中获取数据时sql查询出错

> ID：14722022
> 
> 赞同：0
> 
> 时间：2013-02-06T05:09:45.577
> 
> 标签：mysql

```
select name from tbl_bracelets b, tbl_brooch br where b.name or br.name ='Diamond Necklce'

$res=mysql_query($qry); 
```

上面的 Sql 查询中有一个我找不到的错误...请帮我解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:12:36.043

也许你需要这个？

```
select name
from tbl_bracelets b, tbl_brooch br
where b.name = br.name
   or br.name ='Diamond Necklce' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:12:43.507

尝试这个..

```
 select b.name from tbl_bracelets b, tbl_brooch br where b.name='Diamond Necklce' or br.name='Diamond Necklce' 
```

或者

```
select    name 
from     tbl_bracelets where name='Diamond Necklce'

union

select   name 
from     tbl_brooch where name='Diamond Necklce' 
```

# ios - 表格视图单元格中的自定义图像视图

> ID：14722023
> 
> 赞同：0
> 
> 时间：2013-02-06T05:09:54.360
> 
> 标签：ios, uitableview, uiimageview

这段代码有什么问题？不显示图像。感谢任何帮助...单步执行代码，我可以看到所有变量都已正确更新。代码执行没有任何错误。虽然没有看到图像。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *ModuleViewCellId = @"ModuleViewCellId";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:ModuleViewCellId];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:ModuleViewCellId] autorelease];
}
NSUInteger row = [indexPath row];
NSDictionary *step = [self.module.steps objectAtIndex:row];
cell.textLabel.text = [step objectForKey:kStepTitleKey];//;
cell.textLabel.font = [UIFont fontWithName:@"Helvetica-Bold" size:14.0];
cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
cell.backgroundColor = [UIColor clearColor];
cell.indentationWidth = 50;
cell.indentationLevel = 1;

//2/6 shp - add icons to the table view
NSString *imagename = [step objectForKey:kStepIconKey];
NSLog(@"%@",imagename);

UIImageView *image;

image = [[[UIImageView alloc]initWithFrame:CGRectMake(0, 0, 57, 57)] autorelease];
image.tag = 1000 + row;
image.contentMode = UIViewContentModeScaleAspectFit;
image.hidden = FALSE;

[image setImage: [UIImage imageNamed:imagename]];
[cell.contentView addSubview:image];

return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:05:43.063

由于您使用的是默认单元格，即 uitableViewCell，因此请使用单元格的 imageview 属性。

```
UITableViewCell *cell =[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:nil];
cell.imageView.image = [UIImage imageNamed:@"ImageName"];
cell.imageView.contentMode = UIViewContentModeScaleAspectFit; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:41:15.310

我刚刚找到了答案。问题在于文件名的路径。我所有的图像文件都存储在一个包中。因此，即使正确引用了图像文件名，也需要附加路径。

以这种方式添加路径解决了问题。

```
 NSString *imagename = [NSString stringWithFormat: @"%@%@", @"Assets.bundle/assets_dir/",[step objectForKey:kStepIconKey]]; 
```

这个答案也帮助了我。 [具有不同尺寸图像的 UITableViewCell](https://stackoverflow.com/questions/9086664/uitableviewcell-with-images-in-different-dimensions?rq=1)

# c++ - unordered_map 仅使用 16 个字符串最大化唯一键

> ID：14722027
> 
> 赞同：2
> 
> 时间：2013-02-06T05:10:07.237
> 
> 标签：c++, hash, key, unordered-map

此代码仅使用 A、C、T、G 生成一个随机的 16 个字符的字符串。然后它检查这个序列是否在散列（unordered_map）中，如果没有，则插入它并指向一个虚拟占位符。

在其当前形式中，当“for i 循环”需要 20000 次迭代时，它会挂在 datact=16384 处，尽管 ACTG 有 4^16 个字符串。

但是.. 如果字符串长度更改为 8、9、10、11.. 到 15 或 17、18.. 它正确地迭代到 20000。为什么 unordered_map 拒绝散列新序列，但只有当这些序列是 16长字符？

```
#include <string>
#include <vector>
#include <unordered_map>
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <iostream>

using namespace std;

int main(int argc, char* argv[])
{
    string funnelstring;

    srand ( time(NULL) );

    const int buffersize=10000;
    int currentsize=buffersize;

    int datact=0;

    vector <unsigned int> ctarr(buffersize);

    vector <char> nuc(4);
    nuc[0]='A';
    nuc[1]='C';
    nuc[2]='T';
    nuc[3]='G';

    unordered_map <string,unsigned int*> location;

    unsigned int sct;
    sct=1;

    for (int i=0;i<20000; i++)
    {
        do
        {
            funnelstring="";
            for (int i=0; i<16; i++)
            {   // generate random 16 nucleotide sequence
                funnelstring+=nuc[(rand() % 4)];
            }
        } while (location.find(funnelstring) != location.end()); //asks whether this key has been assigned

        ctarr[datact]=sct;
        location[funnelstring]=&ctarr[datact]; //assign current key to point to data count
        datact++;
        cout << datact << endl;

        if (datact>=currentsize)
        {
            ctarr.resize(currentsize+buffersize);
            currentsize+=buffersize;
        }
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:52:38.927

正如@us2012 所说，问题在于您的 PRNG，以及低位随机性差。这是一个相关的报价：

> 在 C 中的数值食谱：科学计算的艺术（William H. Press、Brian P. Flannery、Saul A. Teukolsky、William T. Vetterling；纽约：剑桥大学出版社，1992 年（第 2 版，第 277 页）） ，提出以下意见：
> 
> “如果你想生成一个 1 到 10 之间的随机整数，你应该总是使用高位来实现，如

```
j = 1 + (int) (10.0 * (rand() / (RAND_MAX + 1.0))); 
```

> 从来没有任何类似的东西

```
j = 1 + (rand() % 10); 
```

> （使用低阶位）。”

此外，正如其他人所指出的，您还可以使用更好、更现代的 RNG。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:38:55.533

罪魁祸首很可能是您的随机数生成器，即来自 PRNG 的随机数序列变得周期性 ( `mod 4`) 太快（大多数随机数生成器确实产生*伪*随机数，因此得名 PRNG）。因此，您的`do...while`循环永远不会退出，因为它无法使用提供的随机数找到新的核苷酸序列。

我能想到的两个修复：

*   不是生成随机数`mod 4`，而是生成它们`mod 4^length`并提取位对，`00 -> A, 01 -> G, ...`

*   使用更好的 PRNG，例如`std::mersenne_twister_engine`.

（免责声明：我不是随机数方面的专家。对于关键任务系统、加密要求等，请不要依赖此建议。）

# spring - 如何仅使用注释使用 Spring 配置 Jersey

> ID：14722029
> 
> 赞同：8
> 
> 时间：2013-02-06T05:10:24.910
> 
> 标签：spring, jersey

我有一个同时使用 Spring 和 Jersey 的 Servlet 3.0 Web 应用程序。我目前使用在 web.xml 中配置为过滤器的 SpringServlet 进行设置，并且资源类同时使用`@Path`和`@Component`. 这是 web.xml 片段：

```
<filter>
    <filter-name>jersey-serlvet</filter-name>
    <filter-class>
        com.sun.jersey.spi.spring.container.servlet.SpringServlet
    </filter-class>
    <init-param>
        <param-name>
            com.sun.jersey.config.property.packages
        </param-name>
        <param-value>com.foo;com.bar</param-value>
    </init-param>
    <init-param>
        <param-name>com.sun.jersey.config.feature.FilterForwardOn404</param-name>
        <param-value>true</param-value>
    </init-param>
</filter>

<filter-mapping>
    <filter-name>jersey-serlvet</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

此设置有效，但我真的想仅使用注释进行设置 - 没有 web.xml 配置。我的第一次尝试是删除上面的 SpringServlet 配置并创建一个扩展类`Application`。这是其中的一个片段：

```
@ApplicationPath("/*")
public class MyApplication extends PackagesResourceConfig {

    public MyApplication() {
        super("com.foo;com.bar");

        HashMap<String, Object> settings = new HashMap<String, Object>(1);
        settings.put(ServletContainer.FEATURE_FILTER_FORWARD_ON_404, true);
        this.setPropertiesAndFeatures(settings);
    }
} 
```

这是因为 JAX-RS 资源已注册，我可以在它们的 URL 上点击它们，但是当它们尝试使用它们的自动装配属性时会抛出 NullPointerExceptions ......这是有道理的，因为我猜测资源现在正在被加载Jersey 并且不是 Spring 管理的 bean，因此没有自动装配。

尽管进行了相当多的搜索，但我找不到任何将 Jersey 资源加载为仅带有注释的 Spring bean 的方法。 **有没有这样的方法？** 我真的不想为资源编写一堆代码来手动获取 Spring 上下文并在我可以帮助的情况下调用 DI。

`Application`如果仅注释不起作用，那么如果我可以指定要加载的类而不是要扫描的包列表，那么我可以使用 web.xml 中的过滤器配置。如果我可以摆脱那里的包列表并只指定一个`Application`类实例，那么我会很满足。

显然，如果有人对我有明确的答案，那就太好了，但我也很感激任何关于我可以在哪里寻找或尝试的东西的指针或提示。

谢谢，马特

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-03-06T12:57:34.427

下面是我的应用程序的一部分，它使用 Servlet 3.0、Spring、Jersey 1.8，它没有 web.xml：

```
public class WebAppInitializer implements WebApplicationInitializer {

@Override
public void onStartup(ServletContext servletContext) throws ServletException {
    final AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();
    context.setConfigLocation("com.myapp.config");

    final FilterRegistration.Dynamic characterEncodingFilter = servletContext.addFilter("characterEncodingFilter", new CharacterEncodingFilter());
    characterEncodingFilter.addMappingForUrlPatterns(EnumSet.allOf(DispatcherType.class), true, "/*");
    characterEncodingFilter.setInitParameter("encoding", "UTF-8");
    characterEncodingFilter.setInitParameter("forceEncoding", "true");

    final FilterRegistration.Dynamic springSecurityFilterChain = servletContext.addFilter("springSecurityFilterChain", new DelegatingFilterProxy());
    springSecurityFilterChain.addMappingForUrlPatterns(EnumSet.allOf(DispatcherType.class), true, "/*");

    servletContext.addListener(new ContextLoaderListener(context));
    servletContext.setInitParameter("spring.profiles.default", "production");

    final SpringServlet servlet = new SpringServlet();

    final ServletRegistration.Dynamic appServlet = servletContext.addServlet("appServlet", servlet);
    appServlet.setInitParameter("com.sun.jersey.config.property.packages", "com.myapp.api");
    appServlet.setInitParameter("com.sun.jersey.spi.container.ContainerRequestFilters", "com.myapp.api.SizeLimitFilter");
    appServlet.setLoadOnStartup(1);

    final Set<String> mappingConflicts = appServlet.addMapping("/api/*");

    if (!mappingConflicts.isEmpty()) {
        throw new IllegalStateException("'appServlet' cannot be mapped to '/' under Tomcat versions <= 7.0.14");
    }
} 
```

}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T02:05:32.927

我想到了两个选项（没有双关语）。

1.  也许您可以`SpringServlet`使用自己的类进行扩展并为其添加适当的 servlet 3.0 注释。
2.  随着您从 类切换`SpringServlet`到`Application`类的方法，您可以通过启用 Spring 构建时或加载时字节码编织来解决无自动装配问题。这使 Spring 能够注入由任何地方实例化的对象，而不仅仅是由 Spring 创建的对象。请参阅[“使用 AspectJ 通过 Spring 依赖注入域对象”](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/aop.html#aop-atconfigurable)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-16T07:33:57.563

首先，在 servlet 3.0 容器中，您实际上并不需要`web.xml`.

但是使用 Jersey 2.0，您可以设置一个标志来扫描整个 Web 应用程序以查找带注释的资源：

```
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>

<servlet>
    <servlet-name>jersey</servlet-name>
    <servlet-class>org.glassfish.jersey.servlet.ServletContainer</servlet-class>
    <init-param>
        <param-name>jersey.config.servlet.provider.webapp</param-name>
        <param-value>true</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet> 
```

如果您包含此 jar，Spring 将自动启用：

```
 <dependency>
        <groupId>org.glassfish.jersey.ext</groupId>
        <artifactId>jersey-spring3</artifactId>
        <version>2.3.1</version>
    </dependency> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T01:04:47.357

我无法获得理想的结果，但我已经取得了一些进展，所以我会在这里发帖，以防它帮助其他人。我能够使用 Spring Servlet 来指定我的应用程序类，从而从 web.xml 中删除包列表。

所需的 web.xml 更改在 init 参数中（过滤器映射未显示，但仍是必需的）：

```
<filter>
    <filter-name>jersey-serlvet</filter-name>
    <filter-class>
        com.sun.jersey.spi.spring.container.servlet.SpringServlet
    </filter-class>
    <init-param>
        <param-name>javax.ws.rs.Application</param-name> <!-- Specify application class here -->
        <param-value>com.foo.MyApplication</param-value>
    </init-param>
</filter> 
```

然后在应用程序类中，我不得不稍微改变调用超级构造函数的方式：

```
public MyApplication() {
    super("com.foo", "com.bar"); // Pass in packages as separate params

    HashMap<String, Object> settings = new HashMap<String, Object>(1);
    settings.put(ServletContainer.FEATURE_FILTER_FORWARD_ON_404, true);
    this.setPropertiesAndFeatures(settings);
} 
```

仍然不完全是我所追求的，但至少这会在 Java 代码和 web.xml 中引入更多配置，这对我来说很重要，因为我试图隐藏这个细节。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-01-25T23:08:48.477

我将 Jersey 与我之前使用 SpringMVC 制作的项目一起使用。我的代码基于[Spring 的官方文档](http://docs.spring.io/autorepo/docs/spring-framework/3.1.x/javadoc-api/org/springframework/web/WebApplicationInitializer.html)。

```
public class WebAppInitializer implements WebApplicationInitializer {

@Override
public void onStartup(ServletContext servletContext) {
    // Don't create the Listener that Jersey uses to create. 
    // There can only be one linstener
    servletContext.setInitParameter("contextConfigLocation", "<NONE>");
    AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();

    // Add app config packages
    context.setConfigLocation("config.package");

    // Add listener to the context
    servletContext.addListener(new ContextLoaderListener(context));

    // Replacing:
    //      <servlet-name>ServletName</servlet-name>
    //      <servlet-class>com.sun.jersey.spi.spring.container.servlet.SpringServlet</servlet-class>
    //      <init-param>
    //          <param-name>com.sun.jersey.config.property.packages</param-name>
    //          <param-value>webservices.packages</param-value>
    //      </init-param>
    //      <load-on-startup>1</load-on-startup>
    AnnotationConfigWebApplicationContext dispatcherContext = new AnnotationConfigWebApplicationContext();

    ServletRegistration.Dynamic appServlet = servletContext.addServlet("ServletName", new DispatcherServlet(dispatcherContext));
    appServlet.setInitParameter("com.sun.jersey.config.property.packages", "org.sunnycake.aton.controller");
    appServlet.setLoadOnStartup(1);
    appServlet.addMapping("/RootApp");

}
} 
```

中的配置类`config.package`是：

```
// Specifies that there will be bean methods annotated with @Bean tag
// and will be managed by Spring
@Configuration

// Equivalent to context:component-scan base-package="..." in the xml, states
// where to find the beans controlled by Spring
@ComponentScan(basePackages = "config.package")
public class AppConfig {

    /**
     * Where will the project views be.
     *
     * @return ViewResolver como el XML
     */
    @Bean
    public ViewResolver viewResolver() {
        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();
        return viewResolver;
    }

} 
```

休眠配置

```
// Specifies that there will be bean methods annotated with @Bean tag
// and will be managed by Spring
@Configuration
// Equivalent to Spring's tx in the xml
@EnableTransactionManagement

// Equivalent to context:component-scan base-package="..." in the xml, states
// where to find the beans controlled by Spring
@ComponentScan({"config.package"})

// Here it can be stated some Spring properties with a properties file
@PropertySource(value = {"classpath:aplicacion.properties"})
public class HibernateConfig {

    /**
     * Inyected by Spring based on the .properties file in the
     * \@PropertySource tag.
     */
    @Autowired
    private Environment environment;

    /**
     * Here it's created a Session Factory, equivalent to the Spring's config file one.
     *
     * @return Spring Session factory
     */
    @Bean
    public LocalSessionFactoryBean sessionFactory() {
        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();

        // Uses the datasource
        sessionFactory.setDataSource(dataSource());

        // Indicates where are the POJOs (DTO)
        sessionFactory.setPackagesToScan(new String[]{"dto.package"});
        // Se asignan las propiedades de Hibernate
        sessionFactory.setHibernateProperties(hibernateProperties());

        return sessionFactory;
    }

    /**
     * Propiedades de la base de datos (Según environment)
     *
     * @return Nuevo DataSource (Configuración de la base de datos)
     */
    @Bean
    public DataSource dataSource() {
        DriverManagerDataSource dataSource = new DriverManagerDataSource();
        dataSource.setDriverClassName(environment.getRequiredProperty("jdbc.driverClassName"));
        dataSource.setUrl(environment.getRequiredProperty("jdbc.url"));
        dataSource.setUsername(environment.getRequiredProperty("jdbc.username"));
        dataSource.setPassword(environment.getRequiredProperty("jdbc.password"));
        return dataSource;
    }

    /**
     * Hibernate properties
     *
     * @return Properties set with the configuration
     */
    private Properties hibernateProperties() {
        Properties properties = new Properties();
        // Dialect (Mysql, postgresql, ...)
        properties.put("hibernate.dialect", environment.getRequiredProperty("hibernate.dialect"));
        // Show SQL query
        properties.put("hibernate.show_sql", environment.getRequiredProperty("hibernate.show_sql"));
        properties.put("hibernate.format_sql", environment.getRequiredProperty("hibernate.format_sql"));
        return properties;
    }

    /**
     * Inyected by sessionFactory
     */
    @Bean
    @Autowired
    public HibernateTransactionManager transactionManager(SessionFactory s) {
        HibernateTransactionManager txManager = new HibernateTransactionManager();
        txManager.setSessionFactory(s);
        return txManager;
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-11-17T13:00:01.597

这是一个完整的例子。首先 - 不要使用任何 web.xml。仅使用下面的代码。

休息资源：

```
@Path("hello")
public class HelloResource {

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    public Response hello() {
        String output = "Hello World!";
        return Response.status(200).entity(output).build();
    }
} 
```

休息应用程序（注意包名称中的“核心”）

```
@ApplicationPath("rest")
public class RestApplication extends javax.ws.rs.core.Application {

    public RestApplication() {
    }

    @Override public Set<Class<?>> getClasses() {
        return Set.of(
            HelloResource.class
        );
    }
} 
```

春季网络配置。

```
@Configuration
@EnableWebMvc
@ComponentScan(basePackageClasses = {

})
public class WebConfig implements WebMvcConfigurer {

    private static final Logger logger = LoggerFactory.getLogger(WebConfig.class);

    @Autowired
    private ApplicationContext applicationContext;

    public WebConfig() {
    }
} 
```

弹簧初始化器

```
//This @Order is required!!!
@Order(Ordered.HIGHEST_PRECEDENCE)
public class MyWebInitializer implements WebApplicationInitializer {

    @Override
    public void onStartup(ServletContext servletContext) throws ServletException {
        var ctx = new AnnotationConfigWebApplicationContext();
        //spring WebMvcConfigurer
        ctx.register(WebConfig.class);
        ctx.setServletContext(servletContext);

        //Spring servlet
        var servlet = servletContext.addServlet("dispatcher", new DispatcherServlet(ctx));
        servlet.setLoadOnStartup(1);
        servlet.addMapping("/");

        // Register Jersey 2.0 servlet
        ServletRegistration.Dynamic jerseyServlet = servletContext.addServlet("jerseyServlet",
            "org.glassfish.jersey.servlet.ServletContainer");
        //note "javax.ws.rs.Application" doesn't have "core"
        jerseyServlet.setInitParameter("javax.ws.rs.Application", RestApplication.class.getName());
        jerseyServlet.addMapping("/rest/*");
        jerseyServlet.setLoadOnStartup(1);
    }
} 
```

它必须工作，例如， http: [//127.0.0.1 :8080/rest/hello](http://127.0.0.1:8080/rest/hello)

# c# - 基于另一个用户控件中的选择在用户控件中重新创建动态控件

> ID：14722032
> 
> 赞同：3
> 
> 时间：2013-02-06T05:10:34.110
> 
> 标签：c#, dynamic, user-controls, event-handling, logic

大约 5 个月前，我的任务是为我现在的雇主创建一个新的 Intranet 网站，因为旧网站是一场噩梦。该站点使用`.NET`多种语言（`classic asp`、`VB`和`C#`）和多种语言`.NET frameworks`（1.0、2.0、3.5，少数地方使用 4.0）。只需一个小时即可实施和测试的简单更改将需要数天才能实施。

新的 Intranet 站点内容通过用户控件进行控制，这些控件在加载时根据您所在的页面和您拥有的访问级别动态加载。每个用户控件都有一个特定的任务，并且不会影响页面上的任何其他用户控件。

大约 3 周前，我的数据库人员（上一份工作是一名应用程序开发人员）向中层管理人员提出了这个想法，即用户控件可以相互通信并影响每个用户控件中可用的选择（这一切都在我不知情的情况下）。

起初，我听了之后觉得不可能。然后，我读到的关于让用户控件相互通信的所有内容都表明，用户控件必须相互了解，这是不可能的，因为所有用户控件都是在运行时根据您拥有的访问级别加载的。上周我找到了一个解决方案，我可以让一个用户控件触发一个自定义事件处理程序，并让我的其他用户控件监听那个特定的自定义事件处理程序。

现在，今天，有人问我是否可以在网站的联系人管理部分添加过滤器，该部分列出了我们所有的客户，类似于 Ebay 在左侧有过滤器，可以让您更深入地了解返回的结果。例如，您搜索“平板电视”。Ebay 将列出与您搜索匹配的所有结果，您可以在左侧选择尺寸范围或品牌以缩小结果范围。

在我设置的页面上，我加载了 3 个用户控件来处理标准和结果。`Control1`具有所有基本搜索条件（例如行业、地区状态等），`control2`具有用于从`control1`. `Control3`根据 control1 中的条件显示客户端（因此 control1 触发一个事件`control2`并`control3`听到并且它们都根据 control1 显示结果）。现在我从中选择条件`control2`并触发`control3`可以听到并显示结果的事件。

所有这些都有效，我遇到的问题是控件`control2`是动态构建的，当`control1`触发事件时->然后`control2`回发以触发事件`control3`以听到我丢失了所有动态控件，`control2`因为控件不能中重新创建，`Page_Init`因为从 control1 中的自定义事件传入的值不再存在，因为`control2`回发和事件 from`control1`仅在 control1 回发时触发。存储传递给`control2`from`control1`的自定义事件`control1`的值或在回发时重新传递值`control2`以便我可以重新创建动态控件的最佳方法是`control2`什么？

注意：我尝试使用会话，但在第一次搜索后无法从 control1 重新分配值。我相信它们不起作用的原因是由于我设置 control1 的方式以及在其中创建动态控件`control2`正在跳过获取会话值。

我提前感谢你们所有人（希望）有帮助的回复。

**更新**
原来我在运行时在默认页面上加载用户控件的方式是为什么在“control2”回发时没有重新创建“control2”中的动态控件的原因。我的默认页面在“page_load”而不是“page_init”中加载了用户控件（必须忘记将用户控件的加载移动到“page_init”，就像我的所有其他页面一样）。进行了切换，动态控件在回发时重新创建。

将代码从“page_load”移动到“page_init”后，我遇到的唯一问题是，即使我检查了“复选框”控件，回发时也会取消选中它们。我能够通过一些会话变量来解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:20:27.193

这是一个常见的问题。

只有在您的`page_init`事件中动态创建的控件才能在回发后继续存在。

在此期间`page_init`，动态创建的控件成为其中的一部分`DOM`，从而拥有`sessionstates`。如果您可以重构代码以在 期间触发动态控件创建`page_init`，那么您的控件应该可以继续存在。

**更新：**

我从您的评论和帖子中意识到您不愿意使用 Sessions。问题是会话是保存控件的唯一方法。

*   我处理这种情况的一种方法是创建一个带有控件列表的类对象。当我回到页面时，如果对象存在，我将其用作默认值。
*   第二种方法是将搜索条件保存在 Session 中，并将条件提供给我的动态控件创建方法。

# java - 启动画面不会显示

> ID：14722035
> 
> 赞同：2
> 
> 时间：2013-02-06T05:10:39.047
> 
> 标签：java, android, eclipse, screen, splash-screen

我正在尝试使用此 java 和 xml 代码实现启动画面。我从我的主要活动中创建了一个单独的 java 类，并将 java 代码放入其中。我在布局文件中创建了一个 xml 布局，并将 xml 代码放入其中。但是，我的应用程序正常显示，没有启动画面。它从不显示，但应用程序没有任何错误。Eclipse 也没有显示任何错误。这可能是什么原因？先感谢您。这是代码。

爪哇：

```
package com.carouseldemo.main;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.view.Menu;

public class Splash extends Activity {

    private final int SPLASH_DISPLAY_LENGHT = 1000;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.splash);

        /* New Handler to start the Menu-Activity 
         * and close this Splash-Screen after some seconds.*/
        new Handler().postDelayed(new Runnable(){
            @Override
            public void run() {
                /* Create an Intent that will start the Menu-Activity. */
                Intent mainIntent = new Intent(Splash.this,Menu.class);
                Splash.this.startActivity(mainIntent);
                Splash.this.finish();
            }
        }, SPLASH_DISPLAY_LENGHT);
    }
} 
```

XML:

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:orientation="vertical" android:layout_width="fill_parent"
        android:layout_height="fill_parent">
        <ImageView android:id="@+id/splashscreen" android:layout_width="wrap_content"
                android:layout_height="fill_parent" android:src="@drawable/cat"
                android:layout_gravity="center"/>
        <TextView android:layout_width="fill_parent"
                android:layout_height="wrap_content" android:text="Hello World, splash"/>
</LinearLayout> 
```

显现：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
      package="com.carouseldemo.main"
      android:versionCode="1"
      android:versionName="1.0"
      >

    <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="17" android:screenOrientation="portrait"/>
    <application android:icon="@drawable/buttonone" android:label="@string/app_name">

        <activity android:name=".MainActivity" android:label="@string/app_name" android:screenOrientation="portrait" android:configChanges="orientation|keyboardHidden" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

    </application>
</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:32:49.933

```
private static final int STOPSPLASH = 0;
private static final long SPLASHTIME =3000;

public void onCreate(Bundle savedInstanceState)
        {
            super.onCreate(savedInstanceState);
            requestWindowFeature(Window.FEATURE_NO_TITLE);
            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
                    WindowManager.LayoutParams.FLAG_FULLSCREEN);
            setContentView(R.layout.splash);
            context = getApplicationContext();
            if(savedInstanceState == null){
                Message msg = new Message();
                msg.what = STOPSPLASH;
                spHandler.sendMessageDelayed(msg, SPLASHTIME);
            }
        }   

    private Handler spHandler = new Handler() {
        @Override
        public void handleMessage(Message msg)
        {
            switch (msg.what)
            {
            case STOPSPLASH:
                gotoHomeScreen();
                break;
            default:
                break;
            }
            super.handleMessage(msg);
        }
    };

    public void gotoHomeScreen(){

        Intent i = new Intent();
            i.setClass(Splash.this,Home.class);
            startActivity(i);
            finish();
            spHandler = null;

    } 
```

尝试这个。

在你的清单中

```
<activity android:name="Splash" android:configChanges="keyboardHidden" android:theme="@android:style/Theme.NoTitleBar">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:40:22.210

MainActivity 是清单文件中的启动器活动。所以，飞溅没有显示。

将启动器活动 MainActivity 更改为 Splash 并为 MainActivity 编写另一个。

```
<application android:icon="@drawable/buttonone" android:label="@string/app_name">

        <activity android:name=".Splash" android:label="@string/app_name" android:screenOrientation="portrait" android:configChanges="orientation|keyboardHidden" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name=".MainActivity" />
    </application> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T05:15:36.453

用这个替换 Handler 部分：

```
Thread splashThread = new Thread() {
    public void run() {
                try {
                Thread.sleep(SPLASH_DISPLAY_LENGHT);
                } catch (Exception e) {
                } finally {
                Intent i = new Intent(Splash.this,Menu.class);
                startActivity(i);
                finish();
                }
            }
        };
    splashThread.start(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T05:24:32.140

尝试如下：

> ```
>  public class Splash extends Activity 
>   {
>    private final int SPLASH_DISPLAY_LENGHT = 1000;  
>        @Override
>          public void onCreate(Bundle savedInstanceState) {
>               super.onCreate(savedInstanceState);
>                setContentView(R.layout.splash);
>                new Thread(){
>         public void run()
>         {
>             try
>             {
>                 sleep(SPLASH_DISPLAY_LENGHT);
>                Intent mainIntent = new Intent(Splash.this,Menu.class);
>                          Splash.this.startActivity(mainIntent);
>                         Splash.this.finish();
>             }
>             catch (InterruptedException e)
>             {
>                 e.printStackTrace();
>             }
>         };          
>     }.start();
> } 
> ```

**编辑：**

> ```
>  <activity android:name=".Splash" android:label="@string/app_name" android:screenOrientation="portrait" android:configChanges="orientation|keyboardHidden" >
>         <intent-filter>
>             <action android:name="android.intent.action.MAIN" />
>             <category android:name="android.intent.category.LAUNCHER" />
>         </intent-filter>
>     </activity> 
> ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T05:19:36.707

另一种实现使用的方法`CountDownTimer`

```
public class MyCounter extends CountDownTimer {

        public MyCounter(long millisInFuture, long countDownInterval) {
            super(millisInFuture, countDownInterval);
        }

        @Override
        public void onFinish() {

            startActivity(new Intent(SplashScreen.this,
                    TabSample.class));
            finish();

            MCObject.cancel();

        }

        @Override
        public void onTick(long millisUntilFinished) {

        }

    } 
```

内`OnCreate`

```
 MyCounter MCObject;
    MCObject = new MyCounter(3000, 100);
    MCObject.start(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-06T05:20:01.497

更换您的处理程序

```
new Thread(new Runnable() {
    public void run() {
        try {
            Thread.sleep(SPLASH_TIME);
            startActivity(intent);
            finish();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}).start(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-06T05:42:13.320

使用此代码，它可能会对您有所帮助。

```
public class SplashScreenActivity extends Activity {

    protected int _splashTime = 2000;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_splash_screen);

        Thread splashTread = new Thread() {
            @Override
            public void run() {
                try {
                    sleep(_splashTime);
                }
            } catch (InterruptedException e) {
                // do nothing
            } finally {
                startActivity(new Intent(SplashScreenActivity.this,
                        MainActivity.class));
                SplashScreenActivity.this.finish();
            }
        }
    };
    splashTread.start();
} 
```

希望它会帮助你。

# android - 如何通过验证设置从和到的日期

> ID：14722036
> 
> 赞同：0
> 
> 时间：2013-02-06T05:10:40.137
> 
> 标签：android, android-datepicker, android-date

我是android新手，任何人都可以发布以下场景的代码。

我必须为“from”和“to”设置日期并进行验证，即“to”日期应大于“from”，“from”日期应小于“to”日期。那可能吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-22T03:49:41.873

```
public static boolean checkIfEndDateIsAfter(String startDate,String endDate)
{
    try
    {
        String myFormatString = "MM-dd-yy"; // for example
        SimpleDateFormat dateFormat = new SimpleDateFormat(myFormatString);
        Date endingDate = dateFormat.parse(endDate);
        Date startingDate = dateFormat.parse(startDate);

        if (date1.after(startingDate)) {
            return true;
        }
        else if (date1.equals(startingDate)) {
            return true; //some instances it is okay for it to be the same
        }
        else
            return false;
    }
    catch (Exception e)
    {

        return false;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:20:43.943

试试这个：

```
public class DatePickerFixedDates extends Activity {    

    final Calendar calender = Calendar.getInstance();
    int maxYear = calender.get(Calendar.YEAR);
    int maxMonth = calender.get(Calendar.MONTH);
    int maxDay = calender.get(Calendar.DAY_OF_MONTH);

    int minYear = 2004;
    int minMonth = 10; 
    int minDay = 25;
    private Button btn;
    private  DatePicker BirthDateDP;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.datepickerfixeddates);
        BirthDateDP = (DatePicker) findViewById(R.id.datepicker);
        btn = (Button) findViewById(R.id.button1);        
        btn.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {       
                int day = BirthDateDP.getDayOfMonth();
                int month = BirthDateDP.getMonth();
                int year = BirthDateDP.getYear();           
            }
        });

        BirthDateDP.init(maxYear , maxMonth, maxDay, new OnDateChangedListener() {

            public void onDateChanged(DatePicker view, int year, int monthOfYear, int dayOfMonth)
            {           

                if (year < minYear)
                    view.updateDate(minYear, minMonth, minDay);

                    if (monthOfYear < minMonth && year == minYear)
                    view.updateDate(minYear, minMonth, minDay);

                    if (dayOfMonth < minDay && year == minYear && monthOfYear == minMonth)
                    view.updateDate(minYear, minMonth, minDay);

                    if (year > maxYear)
                    view.updateDate(maxYear, maxMonth, maxDay);

                    if (monthOfYear > maxMonth && year == maxYear)
                    view.updateDate(maxYear, maxMonth, maxDay);

                    if (dayOfMonth > maxDay && year == maxYear && monthOfYear == maxMonth)
                    view.updateDate(maxYear, maxMonth, maxDay);
            }
        });        
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

# three.js - 在 3D 中渲染具有面的 n 点多边形

> ID：14722039
> 
> 赞同：3
> 
> 时间：2013-02-06T05:11:02.287
> 
> 标签：three.js

Three.js 的新手。我有多个 n 边多边形要显示为面（我希望多边形面不透明）。每个多边形在 3D 空间中都面向不同的方向（本质上这些面是某些建筑物的一部分）。

以下是我尝试过的几种方法，但它们不符合要求：

1.  使用几何对象并添加了 n 顶点和使用的线网格。它将多边形创建为空心多边形。由于我的点数不仅仅是 3 或 4，我无法使用 Face3 或 Face4 对象。本质上是一个 Face-n 对象。
2.  我查看了 WebGL 几何形状示例。形状对象在 2D 和拉伸中工作。示例中的所有对象都在一个平面上。虽然我的要求是每个多边形都有不同的 3D 法线向量。我是否应该使用 2D 形状并注意面部法线并在渲染后旋转 2D 形状。

或者有没有更好的方法来渲染具有不透明面的多个 3D 平面多边形，这些面只有 x、y、z 顶点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T08:30:39.070

只要你的多边形是凸的，你仍然可以使用 Face3 对象。如果您采用一个 n 边多边形，比如说一个六边形，您可以通过将编号为 (0,1,2) 的顶点作为一个面，将顶点 (0,2,3) 作为另一个面，顶点 (0, 3,4）作为其他面和顶点（0,4,5）作为最后一个面。如果你把它画在纸上，我想你可以得到这个想法。但这仅适用于凸多边形。

# android - 使用第二个屏幕启动应用程序

> ID：14722045
> 
> 赞同：0
> 
> 时间：2013-02-06T05:11:32.677
> 
> 标签：android

我有一个关于 android 活动的问题。

我有我的第一个登录屏幕（MainActivity），然后从那里转到 Secondscreen，现在当我从 secondscreen 按下退出按钮时，我想关闭应用程序（或 android 主屏幕），下次打开应用程序我想用 secondscreen 启动应用程序.

我在第二个屏幕上尝试了此代码，但它不起作用

```
public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) 
{
    if (keyCode == KeyEvent.KEYCODE_BACK || keyCode == KeyEvent.KEYCODE_ESCAPE)                                 
    {      

        //My logic here

        return true;
    } 
    return false;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:28:41.527

1.  第一次使用应用程序时，从 LoginScreen 开始，然后调用 finish()。还存储一个共享首选项以知道该应用程序至少使用一次（登录）

2.  由于您完成了 LoginScreen，当您按下 SecondScreen 上的返回按钮时，您将来到设备主页，而不是 LoginScreen。

3.  下次要启动应用程序时，检查sharedPreference是否用户已登录，并在onCreate开始时完成LoginScreen

**登录屏幕活动：**

```
onCreate(){

//check shared preference if logged in
if(yes){

startActivity(new Intent(Login.this, Second.class));
finish();
}else{

//do all the login here then,
//set sharedPreference
startActivity(new Intent(Login.this, Second.class));
finish();
}

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:20:02.387

当你开始你的第二个活动时，完成现有的活动`finish()`

例子

```
Intent intent = new Intent(this, SecondActivity.class);
startActivity(intent);
finish(); 
```

此代码将完成您当前的活动，当您在第二个活动中按下返回按钮时，应用程序将关闭。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:25:14.973

在开始第二个活动后登录活动调用完成。

```
startActivity(i);
finish(); 
```

现在，如果您按回它应该关闭应用程序，当您再次启动应用程序时，第二个活动将可见。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T05:29:44.930

有两种方法可以做到这一点：

1.  在 android 清单活动定义中使用“noHistory=true”进行登录活动。

    ```
    <activity android:name="YOUR_FIRST_ACTIVITY"
    android:label="FIRST_ACTIVITY"
    android:noHistory="true" /> 
    ```

2.  您可以在开始第二个活动时完成（）第一个活动。

    ```
    startActivity(SECOND_ACTIVITY_INTENT);
    FIRST_ACTIVITY.this.finish(); 
    ```

希望它会帮助你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T05:35:36.483

我假设您正在尝试以下内容：

*首次安装#*

LoginScreen>SecondScreen，当您按下退出键时，它将关闭整个应用程序。

*第二次＃*

当您打开应用程序时，它将从第二个屏幕而不是 loginScreen 开始。

**解决方案**

阶段1＃

`database or sharepreference`首次登录时存储您的登录信息，并`finish()`在打开第二个屏幕时存储登录屏幕。

阶段2＃

当您第二次打开您的应用程序时`check your login info`，如果它存在，则重定向到第二个活动 else open `loginScreen`。

# sql - 在 sql 脚本中在运行时获取输入时出错

> ID：14722046
> 
> 赞同：0
> 
> 时间：2013-02-06T05:11:36.563
> 
> 标签：sql, oracle, plsql

我有以下运行代码：

```
DECLARE
  rec_present NUMBER (10) := 0;
BEGIN
  SELECT COUNT (*)
  INTO rec_present
  FROM ref_cross_exchange_rate
  WHERE local_ccy_pk =
    &localCcy
  AND base_ccy_pk =
    &baseccy
  AND base_date =
    &BaseDate;
  IF rec_present = 0 THEN
    INSERT
    INTO ref_cross_exchange_rate
      (
        cross_exchange_rate_pk,
        base_date ,
        local_ccy_pk ,
        base_ccy_pk 
      )
      VALUES
      (
        (SELECT NVL (MAX (cross_exchange_rate_pk), 0) + 1
          FROM ref_cross_exchange_rate
        )
        ,
        &BaseDate,
        &localCcy,
        &baseccy
      );
    DBMS_OUTPUT.put_line ('1 RECORD INSERTED');
  ELSE
    DBMS_OUTPUT.put_line ('RECORD ALREADY EXISTS');
  END IF;
END;
/
COMMIT; 
```

但问题是我必须多次输入相同的值，所以我做了一些修改如下：

```
DECLARE
  rec_present number (10) := 0;
  bdate Date          := &basedate;
  local_ccy     NUMBER(10,0)  := &localccy;
  base_ccy      NUMBER(10,0)  := &baseccy;
  exchange_rate NUMBER(20,10) := &ExchangeRate;
BEGIN
  SELECT COUNT (*)
  INTO rec_present
  from ref_cross_exchange_rate
  where local_ccy_pk = local_ccy
  and base_ccy_pk    = base_ccy
  AND base_date      =TO_DATE (bdate) ;
  IF rec_present     = 0 THEN
    INSERT
    INTO ref_cross_exchange_rate
      (
        cross_exchange_rate_pk,
        base_date ,
        local_ccy_pk ,
        base_ccy_pk 
      )
      VALUES
      (
        (SELECT NVL (MAX (cross_exchange_rate_pk), 0) + 1
          FROM ref_cross_exchange_rate
        )
        ,
        TO_DATE (bdate),
        local_ccy,
        base_ccy
      );
    DBMS_OUTPUT.put_line ('1 RECORD INSERTED');
  ELSE
    DBMS_OUTPUT.put_line ('RECORD ALREADY EXISTS');
  END IF;
END;
/
COMMIT; 
```

但不幸的是它不起作用。我尝试了[这个](https://stackoverflow.com/questions/12516930/how-to-get-input-from-user-at-runtime)问题的建议，但它不起作用。

错误：

错误报告：

```
ORA-06550: line 3, column 26:
PLS-00382: expression is of wrong type
ORA-06550: line 3, column 9:
PL/SQL: Item ignored
ORA-06550: line 13, column 24:
PLS-00320: the declaration of the type of this expression is incomplete or malformed
ORA-06550: line 13, column 24:
PL/SQL: ORA-00904: "BDATE": invalid identifier
ORA-06550: line 8, column 3:
PL/SQL: SQL Statement ignored
ORA-06550: line 40, column 9:
PLS-00320: the declaration of the type of this expression is incomplete or malformed
ORA-06550: line 40, column 9:
PL/SQL: ORA-00904: "BDATE": invalid identifier
ORA-06550: line 15, column 5:
PL/SQL: SQL Statement ignored
06550\. 00000 -  "line %s, column %s:\n%s"
*Cause:    Usually a PL/SQL compilation error.
*Action:
commited. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:27:46.940

在声明部分添加引号以正确地将值分配给变量。

这应该工作，

```
DECLARE

  rec_present number (10) := 0;
  bdate Date          := '&basedate';
  local_ccy     NUMBER(10,0)  := '&localccy';
  base_ccy      NUMBER(10,0)  := '&baseccy';
  exchange_rate NUMBER(20,10) := '&ExchangeRate';

BEGIN
  SELECT COUNT (*)
  INTO rec_present
  from ref_cross_exchange_rate
  where local_ccy_pk = local_ccy
  and base_ccy_pk    = base_ccy
  AND base_date      =TO_DATE (bdate) ;
  IF rec_present     = 0 THEN
    INSERT
    INTO ref_cross_exchange_rate
      (
        cross_exchange_rate_pk,
        base_date ,
        local_ccy_pk ,
        base_ccy_pk 
      )
      VALUES
      (
        (SELECT NVL (MAX (cross_exchange_rate_pk), 0) + 1
          FROM ref_cross_exchange_rate
        )
        ,
        TO_DATE (bdate),
        local_ccy,
        base_ccy
      );
    DBMS_OUTPUT.put_line ('1 RECORD INSERTED');
  ELSE
    DBMS_OUTPUT.put_line ('RECORD ALREADY EXISTS');
  END IF;
END;
/
COMMIT; 
```

# iphone - 如何按升序比较包含日期的 NSStrings 数组

> ID：14722047
> 
> 赞同：2
> 
> 时间：2013-02-06T05:11:46.633
> 
> 标签：iphone, ios, objective-c, nsmutablearray

我有一个数组，其中包含表示为字符串的日期列表：

```
 NSMutableArray *objArray=[[NSMutableArray alloc]init];

 [objArray addObject:@"18-01-2013 2:51"];
 [objArray addObject:@"16-01-2013 5:31"];
 [objArray addObject:@"15-01-2013 3:51"];
 [objArray addObject:@"17-01-2013 4:41"];
 [objArray addObject:@"03-02-2013 3:21"];
 [objArray addObject:@"05-01-2013 3:01"]; 
```

请告诉我如何使用日期按升序排列这个数组。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T11:27:45.790

我们可以用另一种方法来获取带有日期的排序数组

```
 NSArray *objArr = [[NSArray alloc]initWithObjects:@"2003/08/02 03:00 ",@"2001/02/04 04:00 ",@"2001/02/04 05:00 ",@"2010/05/01 08:00 ",@"2002/12/02 02:00 ",@"2012/11/05 02:00 ",@"2013/10/01 12:00 ", nil];

    NSArray *sortedArray = [objArr sortedArrayUsingComparator:^(id firstObject, id secondObject) {
          return [(NSDate * )firstObject compare: (NSDate * ) secondObject];
     }];

NSLog(@"sorteed Array %@",sortedArray); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T06:04:51.383

NSDateFormatter *formatter = [[[NSDateFormatter alloc] init] autorelease]; [格式化程序 setDateFormat:@"dd-MM-yyyy hh:mm"];

```
 NSComparator compareDates = ^(id string1, id string2)
    {
        NSDate *date1 = [formatter dateFromString:string1];
        NSDate *date2 = [formatter dateFromString:string2];

        return [date1 compare:date2];
    };

    NSSortDescriptor * sortDesc = [[[NSSortDescriptor alloc] initWithKey:@"self" ascending:NO comparator:compareDates]autorelease];

    [objArray sortUsingDescriptors:[NSArray arrayWithObject:sortDesc]]; 
```

通过使用此代码，我得到了准确的输出，谢谢大家

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:17:35.643

您可以使用`NSSortDescriptor`

```
NSSortDescriptor* sortOrder = [NSSortDescriptor sortDescriptorWithKey: @"self" ascending: YES];
return [objArray sortedArrayUsingDescriptors: [NSArray arrayWithObject: sortOrder]]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T05:54:29.147

尝试这个

```
 NSMutableArray *objArray;
     objArray=[[NSMutableArray alloc] init];
     [objArray addObject:@"18-01-2013 2:51"];
     [objArray addObject:@"16-01-2013 5:31"];
     [objArray addObject:@"15-01-2013 3:51"];
     [objArray addObject:@"17-01-2013 4:41"];
     [objArray addObject:@"03-02-2013 3:21"];
     [objArray addObject:@"05-01-2013 3:01"]; 

     NSSortDescriptor *sort_Date=[[NSSortDescriptor alloc] initWithKey:@"self"ascending:NO];
  NSLog(@"%@",[[objArray sortedArrayUsingDescriptors:@[sort_Date]] description]); 
```

我得到以下回应

```
2013-02-06 11:23:35.100[1135:c07] 
  (
"18-01-2013 2:51",
"17-01-2013 4:41",
"16-01-2013 5:31",
"15-01-2013 3:51",
"05-01-2013 3:01",
"03-02-2013 3:21" 
```

)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T05:32:18.843

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.

    NSString *str1 = @"18-01-2013";
    NSString *str2 = @"16-01-2013";
    NSString *str3 = @"15-01-2013";
    NSString *str4 = @"17-01-2013";
    NSString *str5 = @"03-02-2013";
    NSString *str5 = @"05-01-2013";

    NSArray *arr = [NSArray arrayWithObjects:str1, str2, str3,str4,str5 nil];
    arr = [arr sortedArrayUsingFunction:dateSort context:nil];
    NSLog(@"New dates %@",arr);

}
//The date sort function
NSComparisonResult dateSort(NSString *s1, NSString *s2, void *context) {

    NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    [formatter setDateFormat:@"dd-MM-yyyy"];

    NSDate *d1 = [formatter dateFromString:s1];
    NSDate *d2 = [formatter dateFromString:s2];

    return [d1 compare:d2]; // ascending order
//    return [d2 compare:d1]; // descending order
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-06T05:13:27.353

```
NSSortDescriptor * descLastname = [[NSSortDescriptor alloc] initWithKey:@"active" ascending:YES];
[livevideoparsingarray sortUsingDescriptors:[NSArray arrayWithObjects:descLastname, nil]];
 [descLastname release];
videoparsing = [livevideoparsingarray copy]; 
```

livevideoparsingarray 是我的数组，我有排序 & active 是我的标签，它在我有排序的数组中。你随着你的要求而改变。

# python - 多线程 psycopg2 和 python 不返回结果

> ID：14722048
> 
> 赞同：4
> 
> 时间：2013-02-06T05:11:56.523
> 
> 标签：python, psycopg2, multiprocess

我有一个程序，其中父进程有一个数据库连接，每个子进程都有自己的数据库连接（在构造函数中创建），使用 python 2.6 和 psycopg2。

每 5 秒，父进程查询数据库以获取有关子进程的进度报告。每个子进程都在做 X 件事，并将其所在的步骤存储在数据库中。

我在下面放了代码的简化版本

```
def getStatus( conn ):
    query = "select job_name, status from job_status_table"
    cursor = conn.getCursor()
    cursor.execute( query )
    return cursor.fetchAll()

def simpleStatus():
    conn = DBInit()
    # output is correct here
    print getStatus( conn )
    queue = getJobList( conn )
    for q in queue:
        p = multiprocessing.Process( target=run, args=q )
        p.start()
    while: # condition that does terminate, not germane
        time.sleep( 5 )
        # output is incorrect here
        print getStatus( conn )
    ... 
```

在子进程内部，它调用以下内容：

```
def updateStatus( self, status_i ):
    update = "update job_status_table set status='%s' where job_name='%s'"%( status_i, self.name )
    cursor = self.conn.getCursor()
    cursor.execute( update )
    self.conn.commit() 
```

数据库的外部查询 (psql) 表明查询在程序中运行时返回了正确的结果。但是，在程序中并非如此。如果我在 time.sleep 调用后更改程序以重新初始化数据库，它会给出正确的输出。为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T09:21:57.037

父进程在它自己的事务中，直到它终止它（通过 commit() 或 rollback()）才会看到任何变化。你有两个选择：

1.  将父进程连接置于自动提交模式（`conn.autocommit = True`）；或者
2.  只需在执行查询之前在连接上发出 commit()/rollback() 以确保在新的、最新的事务中执行它。

# editor - Aloha 编辑器 div 内容 div 宽度

> ID：14722050
> 
> 赞同：1
> 
> 时间：2013-02-06T05:12:23.880
> 
> 标签：editor

任何人都可以帮助我在 Aloho 编辑器中获取包含内容的 div 的宽度，当我们添加新内容时会动态变化我需要动态变化的宽度

# android - 在 android 的 sqlite 数据库中存储和检索 .xml 文件

> ID：14722062
> 
> 赞同：1
> 
> 时间：2013-02-06T05:13:17.917
> 
> 标签：android

在我的应用程序中，我从服务器下载了 .xml 文件，我想将完整的 .xml 文件存储在我的**sqlite**数据库中，并从它作为 .xml 文件检索。

请参阅 .xml 文件的示例

```
<soap:Envelope><soap:Body><Login_ValidateAuthenticatedUserResponse><Login_ValidateAuthenticatedUserResult><xs:schema id="NewDataSet"><xs:element name="NewDataSet" msdata:IsDataSet="true" msdata:UseCurrentLocale="true"><xs:complexType><xs:choice minOccurs="0" maxOccurs="unbounded"><xs:element name="Table1"><xs:complexType><xs:sequence><xs:element name="ReturnValue" type="xs:int" minOccurs="0"/><xs:element name="UserId" type="xs:string" minOccurs="0"/></xs:sequence></xs:complexType></xs:element></xs:choice></xs:complexType></xs:element></xs:schema><diffgr:diffgram><NewDataSet><Table1 diffgr:id="Table11" msdata:rowOrder="0" diffgr:hasChanges="inserted"><ReturnValue>100</ReturnValue><UserId>bc43c80d-061e-4683-9d2a</UserId></Table1></NewDataSet></diffgr:diffgram></Login_ValidateAuthenticatedUserResult></Login_ValidateAuthenticatedUserResponse></soap:Body></soap:Envelope> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:30:01.060

您不能直接在 SQLite 中存储文件。相反，使用[SAX 解析器](http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/)或[DOM 解析器](http://www.mkyong.com/java/how-to-read-xml-file-in-java-dom-parser/)来解析 XML ，创建一个具有相应标签名称作为表列的数据库，然后根据它们的标签名称将值存储在各自的列中。

# php - 我必须设置一系列下拉列表输入控件，但是有没有办法设置它而不是手动制作一堆 if 语句？

> ID：14722075
> 
> 赞同：0
> 
> 时间：2013-02-06T05:14:29.350
> 
> 标签：php, html

我正在一个网站上工作，该网站存储不同车辆的维护事件。但我需要按部分对它们进行分类，但我无法弄清楚如何构建页面。他们需要选择一个零件，然后是一个位置，有时甚至更进一步。我曾想过使用 Javascript 来生成额外的下拉框，但是必须制作一堆 if,then 语句似乎效率很低。有没有更有效的方法来做到这一点？

编辑：我的伪代码就像

```
onChange=>changeFunction()

changeFunction{
if(ddlLocation=brakes){
add select boxes, populate with the individual parts
}else if (...){
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:46:48.167

在大多数情况下——但取决于应用程序——最好使用 switch 语句而不是链式 if 语句。Switch 语句通常也比多个 if 条件更快。

> 在 JavaScript 中，当只需要评估一两个条件时，if 语句通常比 switch 语句更快。当有两个以上的条件并且条件很简单（不是范围）时，switch 语句往往更快。这是因为在 switch 语句中执行单个条件所花费的时间通常少于在 if 语句中执行单个条件所花费的时间，这使得 switch 语句仅在条件数量较多时才是最优的。

[有关 if else 与 switch 的更多信息](http://oreilly.com/server-administration/excerpts/even-faster-websites/writing-efficient-javascript.html)

Javascript case 语句示例：

```
switch(n)
{
 case 1:
   execute code block 1
   break;
 case 2:
   execute code block 2
   break;
 default:
   code to be executed if n is different from case 1 and 2
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:22:06.853

我必须更多地了解特定应用程序才能更好地提供帮助，但这是一种更好的方法。

动态思考，你有一百个输入，带有唯一的名称，创建具有模式中方法名称的方法的类，这样你就可以循环输入名称并根据方法命名约定检查可用的方法并将其调用专门处理该类型的输入。

在这种情况下，如果您设置正确，您可以一次将所有输入传递给一个处理随机输入的循环，并且它可以在没有 if,else 的情况下处理。

例如：

```
$carparts = new CarParts();
foreach ($_POST as $name=>$value) {
    $method = strtolower($name) . 'Action';
    if (method_exists($carparts,$method)) {
        $carparts->$method($value);
    }
} 
```

# php - Node vs. PHP - 发出 HTTP POST Web 请求的正确方法

> ID：14722077
> 
> 赞同：0
> 
> 时间：2013-02-06T05:14:41.130
> 
> 标签：php, node.js, azure

我拥有的一个网站最初是用 PHP 完成的。每次用户在网站上进行特定查询时，它都会向另一个网站发出网络 POST 请求。

```
function post_request($url, $data, $referer='') {
$data = http_build_query($data);
$url = parse_url($url);

if ($url['scheme'] != 'http') { 
    die('Error: Only HTTP request are supported !');
}

// extract host and path:
$host = $url['host'];
$path = $url['path'];

// open a socket connection on port 80 - timeout: 7 sec
$fp = fsockopen($host, 80, $errno, $errstr, 7);

if ($fp){
    // Set non-blocking mode 
    stream_set_blocking($fp, 0);

    // send the request headers:
    fputs($fp, "POST $path HTTP/1.1\r\n");
    fputs($fp, "Host: $host\r\n");

    if ($referer != '')
        fputs($fp, "Referer: $referer\r\n");

    fputs($fp, "User-Agent: Mozilla/5.0 Firefox/3.6.12\r\n");
    fputs($fp, "Content-type: application/x-www-form-urlencoded\r\n");
    fputs($fp, "Content-length: ". strlen($data) ."\r\n");
    fputs($fp, "Connection: close\r\n\r\n");
    fputs($fp, $data);

    $result = ''; 
    while(!feof($fp)) {
        // receive the results of the request
        $result .= fgets($fp, 128);
    }

   // close the socket connection:
   fclose($fp);
}
else { 
    return array(
        'status' => 'err', 
        'error' => "$errstr ($errno)"
    );
}

// split the result header from the content
$result = explode("\r\n\r\n", $result, 2);

$header = isset($result[0]) ? $result[0] : '';
$content = isset($result[1]) ? $result[1] : '';

// return as structured array:
return array(
    'status' => 'ok',
    'header' => $header,
    'content' => $content
);
} 
```

这种方法没有问题，唯一的问题是使用上述代码需要近 3 个 CPU 才能支持 100 个并发用户。

认为 Node.js 将是一个很好的方法（网络请求将是异步的），我做了以下事情。在 CPU 要求方面有明显的改进（大多数情况下使用单个 CPU，最多 2 个）

```
function postPage(postPath, postData, postReferal, onReply, out) {
    var post_options = {
          host: 'www.somehost.com',
          port: '80',
          path: postPath,
          method: 'POST',
          headers: {
              'Referer': postReferal,
              'Content-Type': 'application/x-www-form-urlencoded',
              'Content-Length': postData.length,
              'User-Agent': 'Mozilla/5.0 Firefox/3.6.12',
              'Connection': 'close'
          }
      };

    // create request
    var post_req = http.request(post_options, function (res) {
        var reply = '';
        res.setEncoding('utf8');
        res.on('data', function (chunk) {
            reply += chunk;
        });

        res.on('end', function () {
            onReply(reply, out);
        });

        res.on('error', function (err) {
            out.writeHead(500, { 'Content-Type': 'text/html' });
            out.end('Error');
        });
    });

    // post the data
    post_req.write(postData);
    post_req.end();
} 
```

这种情况下的问题是它非常脆弱，大约 20% 的 Web 请求失败。如果用户再次尝试查询，它会起作用，但不是很好的体验。

我正在使用 Windows Azure 网站来托管上述两种解决方案。

现在，问题

1.  使用 PHP 预计会占用那么多资源，还是因为我的代码不是最优的？
2.  我的节点代码（或 Azure）有什么问题，导致这么多请求失败？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T07:23:15.353

使用请求库

## 缓冲整个响应

最基本的方法是发出请求，将来自远程服务 (indianrail.gov.in) 的整个响应缓冲到内存中，然后将其发送回客户端。然而，值得看看下面的流式传输示例

安装所需的依赖项 `npm install request eyespect`

```
var request = require('request');
var inspect = require('eyespect').inspector({maxLength: 99999999});  // nicer console logging
var url = 'http://www.indianrail.gov.in';

var postData = {
  fooKey: 'foo value'
};
var postDataString = JSON.stringify(postData);
var opts = {
  method: 'post',
  body: postDataString // postData must be a string here..request can handle encoding key-value pairs, see documentation for details
};

inspect(postDataString, 'post data body as a string');
inspect(url, 'posting to url');
request(url, function (err, res, body) {
  if (err) {
    inspect('error posting request');
    console.log(err);
    return;
  }
  var statusCode = res.statusCode;
  inspect(statusCode, 'statusCode from remote service');
  inspect(body,'body from remote service');
}); 
```

## 流媒体

如果您有一个响应流可以使用，您可以流式传输发布数据，而无需先将所有内容缓冲到内存中。我猜在你的例子中这是**out**参数。

要添加一些错误处理，您可以使用 async 模块并重复尝试发布请求，直到它成功完成或达到最大尝试次数

`npm install request filed temp eyespect async`

```
var request = require('request');
var inspect = require('eyespect').inspector({maxLength: 99999999});  // nicer console logging
var filed = require('filed');
var temp = require('temp');
var rk = require('required-keys');
var async = require('async');

function postToService(data, cb) {

  // make sure the required key-value pairs were passed in the data parameter
  var keys = ['url', 'postData'];
  var err = rk.truthySync(data, keys);
  if (err) { return cb(err); }

  var url = data.url;
  var postData = data.postData;
  var postDataString = JSON.stringify(postData);
  var opts = {
    method: 'post',
    body: postDataString // postData must be a string here..request can handle encoding key-value pairs, see documentation for details
  };

  var filePath = temp.path({suffix: '.html'});
  // open a writable stream to a file on disk. You could however replace this with any writeable stream such as "out" in your example
  var file = filed(filePath);
  // stream the response to disk just as an example
  var r = request(url).pipe(file);
  r.on('error', function (err) {
    inspect(err, 'error streaming response to file on disk');
    cb(err);
  });

  r.on('end', function (err) {
    cb();
  });
}

function keepPostingUntilSuccess(callback) {
  var url = 'http://www.google.com';
  var postData = {
    fooKey: 'foo value'
  };
  var data = {
    url: url,
    postData: postData
  };
  var complete = false;
  var maxAttemps = 50;
  var attempt = 0;
  async.until(
    function () {
      if (complete) {
        return true;
      }
      if (attempt >= maxAttemps) {
        return true;
      }
      return false;
    },

    function (cb) {
      attempt++;
      inspect(attempt, 'posting to remote service, attempt number');
      postToService(data, function (err) {

        // simulate the request failing 3 times, then completing correctly
        if (attempt < 3) {
          err = 'desired number of attempts not yet reached';
        }
        if (!err) {
          complete = true;
        }
        cb();
      });
    },
    function (err) {
      inspect(complete, 'done with posting, did we complete successfully?');
      if (complete) {
        return callback();
      }
      callback('failed to post data, maximum number of attempts reached');
    });
}

keepPostingUntilSuccess(function (err) {
  if (err) {
    inspect(err, 'error posting data');
    return;
  }
  inspect('posted data successfully');
}); 
```

# c++ - 如何使用 libusb 和 libusb_get_device_descriptor()？

> ID：14722083
> 
> 赞同：15
> 
> 时间：2013-02-06T05:15:28.010
> 
> 标签：c++, libusb, libusb-1.0

我正在学习第一次在 Ubuntu 12.10 上使用 libusb v1.0.0。这是我用来尝试了解如何使用此 API 的一些小测试代码：

```
#include <libusb-1.0/libusb.h>
...
libusb_device **list;
libusb_get_device_list(ctx, &list); // Returns 11 USB devices which is correct.
for (size_t idx = 0; list[idx] != NULL; idx ++)
{
    libusb_device *dev = list[idx];
    libusb_device_descriptor desc = {0};
    int rc = libusb_get_device_descriptor(dev, &desc); 
```

此时，rc == 0，意味着它应该已经成功完成了。来源：[*libusb_get_device_descriptor()* 的文档](http://libusb.sourceforge.net/api-1.0/group__desc.html#ga5e9ab08d490a7704cf3a9b0439f16f00)。

但结构`desc`总是空的。没有一个字段被设置。如果我将上面的最后两行更改为：

```
 libusb_device_descriptor desc = {1, 2, 3, 4, 5, 6, 7, 8, 9};
    int rc = libusb_get_device_descriptor(dev, &desc); 
```

...然后当`libusb_get_device_descriptor()`返回时，我看到`desc`保持不变，向我确认我没有从这个 API 中得到我所期望的。

我还尝试以`a.out`root 身份运行，以防万一这需要提升权限。进行谷歌搜索`libusb_get_device_descriptor`并没有让我到任何地方。

我运行以尝试此代码的相关命令：

```
sudo apt-get install libusb-1.0.0-dev
g++ -ggdb test.cpp -lusb-1.0
./a.out 
```

* * *

啊! 疯狂的用户错误！sharth 的代码帮我弄清楚了。这是我实际使用的代码——看看你是否能发现错误：

```
std::cout << "rc == " << libusb_get_device_descriptor(dev, &desc) << std::endl
          << "vendor == " << desc.idVendor << std::endl; 
```

我猜编译器评估这个的方式，在实际`desc.idVendor`调用之前可以自由评估`libusb_get_device_descriptor()`。我的错。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-02-06T05:26:42.370

您没有包含完整的、可编译的测试用例。所以我建了一个。这适用于我在 CentOS 6 x64 上。我也将其作为普通用户帐户运行。

## 来源

```
#include <cassert>
#include <cstdio>
#include <libusb-1.0/libusb.h>

int main() {
    libusb_context *context = NULL;
    libusb_device **list = NULL;
    int rc = 0;
    ssize_t count = 0;

    rc = libusb_init(&context);
    assert(rc == 0);

    count = libusb_get_device_list(context, &list);
    assert(count > 0);

    for (size_t idx = 0; idx < count; ++idx) {
        libusb_device *device = list[idx];
        libusb_device_descriptor desc = {0};

        rc = libusb_get_device_descriptor(device, &desc);
        assert(rc == 0);

        printf("Vendor:Device = %04x:%04x\n", desc.idVendor, desc.idProduct);
    }

    libusb_free_device_list(list, count);
    libusb_exit(context);
} 
```

## 输出

```
Vendor:Device = 1d6b:0002
Vendor:Device = 1d6b:0002
Vendor:Device = 8087:0020
Vendor:Device = 8087:0020
Vendor:Device = 0424:2514
Vendor:Device = 10c4:ea60
Vendor:Device = 051d:0002
Vendor:Device = 0624:0248 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-03-24T10:29:45.713

这不是一个独立的答案，它更像是对比尔林奇帖子的评论。我无法在 Bill Lynch 的帖子中添加评论（缺少声誉），所以我决定这样做 ;-)。

上面的代码中缺少一些细节：

您必须手动释放从 libusb_get_device_list 中填写的列表。

来自[libusb 文档](http://libusb.org/static/api-1.0/group__dev.html)：

> 当您使用完所有设备后，您应该取消对它们的引用，然后使用 libusb_free_device_list() 释放列表。请注意， libusb_free_device_list() 可以为您取消引用所有设备。请注意不要取消引用您将要打开的设备，直到您打开它。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-27T02:34:55.717

只是为了增加比尔的答案，以避免您可能会从该行收到的多个警告

```
libusb_device_descriptor desc = {0}; 
```

只需删除分配。

```
libusb_device_descriptor desc; 
```

没什么大不了的，但这些事情困扰着我。

# c++ - Windows 上的扩展文件属性 (ntfs)

> ID：14722085
> 
> 赞同：6
> 
> 时间：2013-02-06T05:15:41.010
> 
> 标签：c++, windows, filesystems, ntfs

我目前正在开发一个跨平台应用程序，该应用程序使用扩展文件属性在正常文件系统所有权之外存储它自己的文件所有权信息（uid、gid）。此信息是特定于应用程序的，与正常的文件系统所有权无关。

出于性能原因，我刚刚改变了使用存储在每个文件夹中的小型数据库来存储此信息，但这使我的解决方案在 Windows 平台上缺乏。

根据[wikipedia](http://en.wikipedia.org/wiki/Extended_file_attributes#Windows_NT)的说法，就能够存储扩展文件属性而言，NTFS 可能具有一些有限的功能，但我当然找不到有关如何获取和设置这些属性的更多信息。

有没有人这样做过，可以告诉我怎么做？还是这根本不可能？

理想情况下，我希望不必恢复到 Windows 上的数据库解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T05:52:28.757

也许您正在寻找 NTFS 流？

在此处阅读更多信息：http: [//support.microsoft.com/kb/105763，http](http://support.microsoft.com/kb/105763) : [//msdn.microsoft.com/en-us/library/ff469210.aspx](http://msdn.microsoft.com/en-us/library/ff469210.aspx)

# css - 我的字形在 Chrome 中坏了 - 为什么？

> ID：14722088
> 
> 赞同：2
> 
> 时间：2013-02-06T05:15:58.837
> 
> 标签：css, google-chrome, twitter-bootstrap, glyphicons

我正在基于模板为客户构建网站。该模板使用 Bootstrap 框架，该框架将 Glyphicons 用于某些图像。如果我在 Chrome 中访问 BootStrap 主页，Glyphicons 似乎工作正常。

这是不适合我的页面： [http ://www.laidoffsoftware.com/Contact.aspx](http://www.laidoffsoftware.com/Contact.aspx)

如果您查看“地址”部分下的图标，您应该会在电话号码旁边看到一个电话图标，在电子邮件地址旁边看到一个信封图标。在 FF、IE 或 Opera 中，这看起来不错。然而，在 Chrome 中，图标已损坏，它们是一些奇怪的符号。

我不知道为什么会这样？

任何想法表示赞赏。

更新：Chrome 控制台现在显示：

键“width”的视口参数值“100%”被截断为其数字前缀。

Contact.aspx:8 资源被解释为 Font 但使用 MIME 类型 font/x-woff 传输：“ [http://www.laidoffsoftware.com/font/fontawesome-webfont.woff](http://www.laidoffsoftware.com/font/fontawesome-webfont.woff) ”。

Contact.aspx:290 资源被解释为字体，但使用 MIME 类型 image/svg+xml 传输：“ [http://www.laidoffsoftware.com/font/IcoMoon.svg](http://www.laidoffsoftware.com/font/IcoMoon.svg) ”。

```
@font-face {
    font-family: 'IcoMoon';
    src: url('../font/IcoMoon.eot');
    src: url('../font/IcoMoon.eot?#iefix') format('embedded-opentype'),
    url('../font/IcoMoon.svg#IcoMoon') format('svg'),
    url('../font/IcoMoon.woff') format('woff'),
    url('../font/IcoMoon.ttf') format('truetype');
    font-weight: normal;
    font-style: normal; } /* Use the following CSS code if you want to use data attributes for inserting your icons */ [data-icon]:before {font-family: 'IcoMoon';
    content: attr(data-icon);
    speak: none; }

/* Use the following CSS code if you want to have a class per icon */ [class^="icon-"]:before, [class*=" icon-"]:before {font-family: 'FontAwesome', 'IcoMoon';
    font-style: normal;
    speak: none; } .icon-home:before {content: "\0021";} .icon-home-2:before {content: "\0022";} .icon-home-3:before {content: "\0023";} .icon-newspaper:before {content: "\0024";} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T23:02:25.760

我想找到了答案，尽管我不是 100% 确定为什么会这样。看到上面的 CSS 代码，我做了这个改变......

```
url('../font/IcoMoon.svg#IcoMoon') format('opentype'), 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-21T17:07:30.900

看起来这是 WebKit 中的一个错误，已在此处报告：[https ://bugs.webkit.org/show_bug.cgi?id=76152](https://bugs.webkit.org/show_bug.cgi?id=76152)

此外，GlyphIcons 的创建者表示他已意识到此问题，并将尝试在下一个版本中使用不同的 unicode 值来解决此错误：[https ://twitter.com/glyphicons/status/423426740128854016](https://twitter.com/glyphicons/status/423426740128854016)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-19T22:21:02.277

您必须设置相对于扩展路径的字体 url。所以你需要改变这个

```
@font-face {
font-family: 'IcoMoon';
src: url('../font/IcoMoon.eot');
src: url('../font/IcoMoon.eot?#iefix') format('embedded-opentype'),
url('../font/IcoMoon.svg#IcoMoon') format('svg'),
url('../font/IcoMoon.woff') format('woff'),
url('../font/IcoMoon.ttf') format('truetype');
font-weight: normal;
font-style: normal; } /* Use the following CSS code if you want to use data attributes for inserting your icons */ [data-icon]:before {font-family: 'IcoMoon';
content: attr(data-icon);
speak: none; } 
```

到

```
@font-face {
font-family: 'IcoMoon';
src: url('chrome-extension://__MSG_@@extension_id__/font/IcoMoon.eot');
src: url('chrome-extension://__MSG_@@extension_id__/font/IcoMoon.eot?#iefix') format('embedded-opentype'),
url('chrome-extension://__MSG_@@extension_id__/font/IcoMoon.svg#IcoMoon') format('svg'),
url('chrome-extension://__MSG_@@extension_id__/font/IcoMoon.woff') format('woff'),
url('chrome-extension://__MSG_@@extension_id__/font/IcoMoon.ttf') format('truetype');
font-weight: normal;
font-style: normal; } /* Use the following CSS code if you want to use data attributes for inserting your icons */ [data-icon]:before {font-family: 'IcoMoon';
content: attr(data-icon);
speak: none; }chrome-extension://__MSG_@@extension_id__/ 
```

并将您的 css 包含在清单文件中，如下所示： "css": ["/css/mystyle.css"]

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T05:28:36.677

在控制台中查看。您在所有页面上都出现了一些错误： `Viewport argument value "no;" for key "user-scalable" not recognized. Content ignored. Note that ';' is not a separator in viewport values. The list should be comma-separated.`

首先解决这个问题，然后看看这是否解决了问题，如果没有 - dig dipper

**更新**

我刚刚检查的另一件事：Twitter Bootstrap 不提供带有类图标电话的默认字形：http: [//twitter.github.com/bootstrap/base-css.html#icons](http://twitter.github.com/bootstrap/base-css.html#icons)

您可以使用您创建或从其他来源获取的自定义图标，但您需要为其编写 css。

# javascript - 带有 iframe 的历史对象后退按钮

> ID：14722089
> 
> 赞同：2
> 
> 时间：2013-02-06T05:16:14.410
> 
> 标签：javascript, html

我在 javascript/html5 中遇到历史对象和 iframe 的问题。我写了一个简单的项目来描述我的问题：

[http://dktest.evermight.com/](http://dktest.evermight.com/)

这是一个带有 iframe 和下一步按钮的页面。每次单击下一步时，它都会加载一个带有递增计数器的新页面。但是，单击浏览器后退按钮并没有做我想做的事情。让我通过将这篇文章分成以下几个部分来解释这个问题：

1.  我想达到什么
2.  当前项目中的不良结果
3.  发布我所有的代码

**1\. 我想要达到的目标**

我希望用户：

1.  打开一个新窗口并转到[http://dktest.evermight.com/](http://dktest.evermight.com/)
2.  单击下一页并看到一个红框淡入，并看到 url`http://dktest.evermight.com/count.html?count=0`同时出现在 iframe 和浏览器的地址栏中
3.  再次单击下一页并`http://dktest.evermight.com/count.html?count=1`在 iframe 和浏览器的地址栏中查看
4.  单击浏览器的后退按钮**一次**`http://dktest.evermight.com/count.html?count=0`，并在 iframe 和浏览器的地址栏中查看
5.  单击浏览器的后退按钮**一次**，`http://dktest.evermight.com/`在浏览器的地址栏中看到红色框淡出

**2.当前项目中的不良结果**

使用我在[http://dktest.evermight.com/](http://dktest.evermight.com/)的代码，它目前没有正确执行第 4 步和第 5 步。当我执行第 4 步时，iframe 显示`http://dktest.evermight.com/count.html?count=0`，但浏览器地址栏显示`http://dktest.evermight.com/count.html?count=1`. 我必须再次按下浏览器的返回按钮才能使浏览器地址栏显示`http://dktest.evermight.com/count.html?count=0`。当我执行第 5 步时，红色框消失了，这很好，但地址栏仍然显示`http://dktest.evermight.com/count.html?count=0`。我必须再次按下以使地址栏显示`http://dktest.evermight.com/`。

**3.发布我所有的代码**

我的代码非常简单。[您可以在http://dktest.evermight.com/](http://dktest.evermight.com/)上查看源代码。为了方便起见，我也会在这里发布。

**索引.html**

```
<!DOCTYPE html>
<html>
<head>
   <title></title>
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
   <script type="text/javascript">
var count=0;
function clicknext()
{
   $('#container').fadeIn();
   $('#iframe').attr('src','count.html?count='+count.toString());
   $('html title').html(count);
   history.pushState({blahblah:'whatgoeshere?'},'i dont know what goes here either','http://dktest.evermight.com/count.html?count='+count);
   count++;
}
function hideContainer()
{
   $('#container').fadeOut();
      var closeurl = 'close.html';
      if($('#iframe').attr('src') != closeurl )
      $('#iframe').attr('src', closeurl);

}

$(document).ready(function(){
   hideContainer();
});
   </script>
</head>
<body>
<div id="container" style="display:none; background:red;">

        <!-- IMPORTANT 
            When DOM first created, the iframe.src MUST BE initialize.html
            I have some code that I need to fire on that page before the rest 
            of this document starts
        -->
        <iframe id="iframe" src="initialize.html"></iframe>
</div>
        <input type="button" onclick="clicknext()"; value="next page" />
</body>
</html> 
```

**关闭.html**

```
<!DOCTYPE html>
<html>
        <script type="text/javascript">
                parent.hideContainer();
        </script>
</html> 
```

**计数.html**

我不能修改 count.html 的内容。在我的真实项目中，count.html 实际上是一个 youtube 视频，它位于我无法直接访问的服务器上。

```
<html>
        <body>Youtube video at url <script type="text/javascript">document.write(location.href);</script></body>
</html> 
```

**初始化.html**

```
Perform application specific functionality 
```

任何人都可以更正我的代码以达到第 1 部分所述的第 4 步和第 5 步的结果吗？

**更新** 好的，根据我正在做的一些实验，我对这个问题有了更多的了解。

**实验1**：我尝试改变线路：

```
$('#iframe').attr('src','count.html?count='+count.toString()); 
```

到

```
$('#iframe')[0].contentWindow.location.replace('count.html?count='+count.toString()); 
```

这使我能够正确执行第 4 步。显然， contentWindow.location.replace() 不会在历史对象中创建条目。但是，这导致了与 count.html 的内容相关的一些其他问题，该内容实际上是 youtube/vimeo 内容的页面。youtube/vimeo 内容要求您通过 attr('src') 方法而不是 .contentWindow.location.replace() 加载信息。所以也许解决方案是找到一种方法让 attr('src') 不使用历史对象创建条目？

**实验 2**我尝试的另一个可能的解决方案是更改 attr('src') 和 history.pushState() 调用的顺序。我尝试先调用 attr('src')，然后再调用 history.pushState()，然后先调用 history.pushState()，然后再调用 attr('src')。但在这两种情况下，当我按下浏览器的后退按钮时，首先返回的是 iframe 内容。因此，我无法通过历史对象捕获传递给自己的消息以执行“双重返回”，因为历史对象中的信息在事件序列中最后可用。

**实验 3**我还尝试使用 History.js。它没有做任何事情来解决我上面的问题。据我所知，它的工作方式与常规历史对象完全一样。

有人还有什么我可以尝试的吗？或者建议对上述任何实验进行修改？我将进一步探讨实验 1 作为一个单独的堆栈溢出问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T14:06:17.453

我创建一个新的 iframe 并在加载新内容时销毁 iframe。这解决了历史问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:18:51.703

我知道这是一个`history`问题，但如果您仍然对其他可能性持开放态度，我认为`jquery-pjax`实际上更适合您正在尝试做的事情。

**更新**我认为这应该可行。

**计数.html**

```
 <div id="pjax-container">
    <a id="pjax" data-pjax href="#">Next Page</a>
 </div> 
```

**javascript**

```
 // get URL parameter (count): http://stackoverflow.com/questions/1403888/get-url-parameter-with-jquery
 function getURLParameter(name) {
     return decodeURI(
        (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
     );
 }

 $(document).on('pjax:beforeSend', function() {
     // your fading code goes here
 })

 $(document).on('pjax:complete', function() {
     // fade out
     // and then modify the anchor's href with something like   
     var new_count = getURLParameter('count') + 1;          
     $('a#pjax').attr('href', 'count.html?count=?' + new_count); 
 })

 // where the pjaxed content should go
 $(document).pjax('a[data-pjax]', '#pjax-container') 
```

# ios - ios- cbcentralManager 状态未知和 CoreBluetooth [警告] 未通电

> ID：14722092
> 
> 赞同：1
> 
> 时间：2013-02-06T05:16:23.390
> 
> 标签：ios, bluetooth, core-bluetooth

我正在研究 CoreBluetooth 框架。我运行了著名的`temperatureSensor`应用程序，但是当我在模拟器上运行它时，我收到以下警告：

```
 CoreBluetooth[WARNING] <CBConcreteCentralManager: 0x713b550> is not powered on 
```

我检查了`CBCentralManager`它的状态`Unknown`。以下是代码：

```
(void) startScanningForUUIDString:(NSString *)uuidString {
    centralManager = [[CBCentralManager alloc] initWithDelegate:self queue:nil];

    if ([centralManager state] == CBCentralManagerStatePoweredOff) NSLog(@"CBCentralManagerStatePoweredOff");
    if ([centralManager state] == CBCentralManagerStatePoweredOn) NSLog(@"CBCentralManagerStatePoweredOn");
    if ([centralManager state] == CBCentralManagerStateResetting) NSLog(@"CBCentralManagerStateResetting");
    if ([centralManager state] == CBCentralManagerStateUnauthorized) NSLog(@"CBCentralManagerStateUnauthorized");
    if ([centralManager state] == CBCentralManagerStateUnknown) NSLog(@"CBCentralManagerStateUnknown");
    if ([centralManager state] == CBCentralManagerStateUnsupported) NSLog(@"CBCentralManagerStateUnsupported");
    NSArray *uuidArray = [NSArray arrayWithObjects:[CBUUID UUIDWithString:uuidString], nil];

    NSLog(@"%@", uuidArray);
    NSDictionary *options = [NSDictionary dictionaryWithObject:[NSNumber numberWithBool:NO] forKey:CBCentralManagerScanOptionAllowDuplicatesKey];
    [centralManager scanForPeripheralsWithServices:uuidArray options:options];
} 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:52:32.757

似乎蓝牙设备未连接或未检测到。即使您的机器可能支持 BTLE，您也需要连接外部 USB BLE 加密狗才能将其与模拟器一起使用。Apple 的此[应用说明](http://developer.apple.com/library/ios/#technotes/tn2295/_index.html)可能会有所帮助

# android - Android Map API V2：用于 Android 地图叠加层的 Tile 服务器

> ID：14722095
> 
> 赞同：0
> 
> 时间：2013-02-06T05:16:55.713
> 
> 标签：android, overlay, google-maps-android-api-2

我搜索并找不到答案，所以我假设我是这里唯一一个迷路的人。

一个在 Android 地图上工作的新手，想知道是否有一个很好的资源可以用来设置一个 TileServer，然后可以在 Android 地图中使用。

我的目标是让谷歌地图以多边形的形式覆盖地理空间信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:53:52.173

您可以尝试以下代码，该代码根据纬度值在谷歌地图上绘制多边形，并管理其色调、Aplha、笔画宽度。

**PolygonDemo 类**

> ```
>  public class PolygonDemoActivity extends android.support.v4.app.FragmentActivity
>     implements OnSeekBarChangeListener {
> private static final LatLng SYDNEY = new LatLng(-33.87365, 151.20689);
> private static final int WIDTH_MAX = 50;
> private static final int HUE_MAX = 360;
> private static final int ALPHA_MAX = 255;
> private GoogleMap mMap;
> private Polygon mMutablePolygon;
> private SeekBar mColorBar;
> private SeekBar mAlphaBar;
> private SeekBar mWidthBar;
> @Override
> protected void onCreate(Bundle savedInstanceState) {
>     super.onCreate(savedInstanceState);
>     setContentView(R.layout.polygon_demo);
>     mColorBar = (SeekBar) findViewById(R.id.hueSeekBar);
>     mColorBar.setMax(HUE_MAX);
>     mColorBar.setProgress(0);
>     mAlphaBar = (SeekBar) findViewById(R.id.alphaSeekBar);
>     mAlphaBar.setMax(ALPHA_MAX);
>     mAlphaBar.setProgress(127);
>     mWidthBar = (SeekBar) findViewById(R.id.widthSeekBar);
>     mWidthBar.setMax(WIDTH_MAX);
>     mWidthBar.setProgress(10);
>     setUpMapIfNeeded();
> }
> @Override
> protected void onResume() {
>     super.onResume();
>     setUpMapIfNeeded();
> }
> private void setUpMapIfNeeded() {
>     // Do a null check to confirm that we have not already instantiated the map.
>     if (mMap == null) {
>         // Try to obtain the map from the SupportMapFragment.
>         mMap = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map))
>                 .getMap();
>         // Check if we were successful in obtaining the map.
>         if (mMap != null) {
>             setUpMap();
>         }
>     }
> }
> private void setUpMap() {
>     // Create a rectangle with two rectangular holes.
>     mMap.addPolygon(new PolygonOptions()
>             .addAll(createRectangle(new LatLng(-20, 130), 5, 5))
>             .addHole(createRectangle(new LatLng(-22, 128), 1, 1))
>             .addHole(createRectangle(new LatLng(-18, 133), 0.5, 1.5))
>             .fillColor(Color.CYAN)
>             .strokeColor(Color.BLUE)
>             .strokeWidth(5));
>     // Create an ellipse centered at Sydney.
>     PolygonOptions options = new PolygonOptions();
>     int numPoints = 400;
>     float semiHorizontalAxis = 10f;
>     float semiVerticalAxis = 5f;
>     double phase = 2 * Math.PI / numPoints;
>     for (int i = 0; i <= numPoints; i++) {
>         options.add(new LatLng(SYDNEY.latitude + semiVerticalAxis * Math.sin(i * phase),
>                 SYDNEY.longitude + semiHorizontalAxis * Math.cos(i * phase)));
>     }
>     int fillColor = Color.HSVToColor(
>             mAlphaBar.getProgress(), new float[] {mColorBar.getProgress(), 1, 1});
>     mMutablePolygon = mMap.addPolygon(options
>             .strokeWidth(mWidthBar.getProgress())
>             .strokeColor(Color.BLACK)
>             .fillColor(fillColor));
>     mColorBar.setOnSeekBarChangeListener(this);
>     mAlphaBar.setOnSeekBarChangeListener(this);
>     mWidthBar.setOnSeekBarChangeListener(this);
>     // Move the map so that it is centered on the mutable polygon.
>     mMap.moveCamera(CameraUpdateFactory.newLatLng(SYDNEY));
> }
> /**
>  * Creates a List of LatLngs that form a rectangle with the given dimensions.
>  */
> private List<LatLng> createRectangle(LatLng center, double halfWidth, double halfHeight)              
>    {        // Note that the ordering of the points is counterclockwise (as long as the halfWidth and
>     // halfHeight are less than 90).
>     return Arrays.asList(new LatLng(center.latitude - halfHeight, center.longitude - halfWidth),
>             new LatLng(center.latitude - halfHeight, center.longitude + halfWidth),
>             new LatLng(center.latitude + halfHeight, center.longitude + halfWidth),
>             new LatLng(center.latitude + halfHeight, center.longitude - halfWidth),
>             new LatLng(center.latitude - halfHeight, center.longitude - halfWidth));
> }
> @Override
> public void onStopTrackingTouch(SeekBar seekBar) {
>     // Don't do anything here.
> }
> @Override
> public void onStartTrackingTouch(SeekBar seekBar) {
>     // Don't do anything here.
> }
> @Override
> public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {
>     if (mMutablePolygon == null) {
>         return;
>     }
>     if (seekBar == mColorBar) {
>         mMutablePolygon.setFillColor(Color.HSVToColor(
>                 Color.alpha(mMutablePolygon.getFillColor()), new float[] {progress, 1, 1}));
>     } else if (seekBar == mAlphaBar) {
>         int prevColor = mMutablePolygon.getFillColor();
>         mMutablePolygon.setFillColor(Color.argb(
>                 progress, Color.red(prevColor), Color.green(prevColor),
>                 Color.blue(prevColor)));
>     } else if (seekBar == mWidthBar) {
>         mMutablePolygon.setStrokeWidth(progress);
>     }
> }
> } 
> ```

**多边形演示.xml**

> ```
>  <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
>           android:layout_width="match_parent"
>           android:layout_height="match_parent"
>           android:orientation="vertical">
>     <TextView
>             android:layout_width="match_parent"
>             android:layout_height="wrap_content"
>             android:gravity="center_horizontal"
>             android:text="@string/properties_sydney_polygon"/>
>     <TableLayout
>             android:layout_width="match_parent"
>             android:layout_height="wrap_content"
>             android:stretchColumns="1">
>       <TableRow
>               android:layout_width="match_parent"
>               android:layout_height="wrap_content"
>               android:gravity="center_vertical">
>         <TextView
>           android:text="@string/fill_hue"/>
>   <SeekBar
>           android:id="@+id/hueSeekBar"/>
>     </TableRow>
>        <TableRow
>         android:layout_width="match_parent"
>         android:layout_height="wrap_content"
>         android:gravity="center_vertical">
>   <TextView
>     android:text="@string/fill_alpha"/>
>   <SeekBar
>     android:id="@+id/alphaSeekBar"/>
> </TableRow>
> <TableRow
>   android:layout_width="match_parent"
>   android:layout_height="wrap_content"
>   android:gravity="center_vertical">
>   <TextView
>     android:text="@string/stroke_width"/>
>   <SeekBar
>     android:id="@+id/widthSeekBar"/>
>       </TableRow>
>     </TableLayout>
>     <fragment
>             android:id="@+id/map"
>             android:layout_width="match_parent"
>             android:layout_height="match_parent"
>             class="com.google.android.gms.maps.SupportMapFragment"/>
>   </LinearLayout> 
> ```

有关更多详细信息，您可以查看[链接](http://android-er.blogspot.in/2013/01/google-maps-android-api-v2-example-draw.html)，该链接显示了在地图上绘制多边形的演示实现。

我希望它会帮助你。

谢谢。

# linux - 从 linux 中的 tgz 中提取未解压的文件

> ID：14722096
> 
> 赞同：2
> 
> 时间：2013-02-06T05:17:04.880
> 
> 标签：linux, vmware, tar, unzip

我有一个`.tgz`非常大的文件（19GB）。我昨晚开始了 untar 操作，`vmware`但在早上，我看到了蓝屏死机。我不想浪费时间解压缩已经完成的文件（5GB）。如何将尚未解压的文件解压到同一文件夹中，而不会在 5GB 上浪费时间。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:48:50.177

使用 GNU 焦油：

```
tar xvf yourfile.tgz --keep-newer-files 
```

但要小心：中途中止的文件也将被跳过。

# java - 标签的任何描述性struts2 api doc？

> ID：14722101
> 
> 赞同：0
> 
> 时间：2013-02-06T05:17:16.217
> 
> 标签：java, api, struts2

伙计们，我试图在网上找到好的标签 api doc，但找不到任何好的描述性标签。我到处都得到这个链接参考[http://struts.apache.org/2.1.8/docs/if.html](http://struts.apache.org/2.1.8/docs/if.html) 例如，如果我必须弄清楚下面的 myManager 是否标记将被视为字符串文字或针对 valueStack 的 OGNL 表达式，我找不到任何描述。

```
<s:if test="myManager">
 </s:if> 
```

有人可以指出我的好文档/链接吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:30:13.403

我想这会对你有所帮助，因为这个网站也被列为 apache 官方网站上的文章。 [http://www.roseindia.net/struts/struts2/struts-2-tags.shtml](http://www.roseindia.net/struts/struts2/struts-2-tags.shtml) 以及 [http://www.dzone.com/tutorials/java/struts-2/struts-2-tutorial/struts- 2-tutorial.html](http://www.dzone.com/tutorials/java/struts-2/struts-2-tutorial/struts-2-tutorial.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T20:38:34.537

在您发布的参考资料中，有一列*Evaluated*表示该属性的指定值是否被评估为 OGNL 表达式或按字面意思处理以在 ValueStack 上查找值。

还要检查标签语法文档。 [http://struts.apache.org/2.1.8/docs/tag-syntax.html](http://struts.apache.org/2.1.8/docs/tag-syntax.html)

# python - Django：根据作为另一个模型值输入的参数自动选择模型

> ID：14722104
> 
> 赞同：2
> 
> 时间：2013-02-06T05:17:42.843
> 
> 标签：python, django, database-design, django-apps

我正在创建一个 Django 文件浏览器应用程序，它在其中抓取文件并使元数据可用于查看和搜索。

在最初将文件作为“文件”对象输入后，我想根据文件的扩展名创建“视频”、“音乐”或“文档”。

一些模拟模型...

```
class File(models.Model):
    createdate = models.DateTimeField('date file entered', db_index=True, auto_now_add=True)
    cdate = models.DateTimeField()
    hash = models.CharField(max_length=14, default=_make_hash, unique=True)
    slug = models.SlugField(blank=True, unique=True)
    filename = models.CharField(db_index=True, max_length=2048)
    fullpath = models.CharField(max_length=2048)
    folder = models.CharField(max_length=2048)

class Video(models.Model):
    createdate = models.DateTimeField('date file entered', db_index=True, auto_now_add=True)
    imdblink = models.CharField(max_length=2048)
    container = models.CharField(max_length=2048)

class Music(models.Model):
    createdate = models.DateTimeField('date file entered', db_index=True, auto_now_add=True)
    bitrate = models.CharField(max_length=2048)
    artistname = models.CharField(max_length=2048)
    songname = models.CharField(max_length=2048)

class FileType(models.Model):
    typename = models.CharField(max_length=256)
    extension = models.ForeignKey(FileExtension)

class FileExtension(models.Model):
    extension = models.CharField(max_length=256) 
```

1.  将使用“avi,mpg,mp4,mkv”创建视频文件类型，使用“mp3,flac”创建音乐等等。
2.  Django 应用程序将在 Video1.avi、Video2.mpg、Song1.mp3、Song2.flac 等上运行。它们将作为文件对象输入到数据库中。
3.  在保存 File 对象时，应用程序将查看文件扩展名，将其与列表进行比较并选择由 FileType 模型布局的适当模型。

我希望将模型选择参数保留为数据库条目，这样我就可以添加或删除而无需更改应用程序。

我不确定如何引用我想要 FileType 条目的模型。

任何建议或意见将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T13:44:23.590

如果您尝试将文件实例与视频或音乐之一相关联，您可能需要尝试[通用外键](https://docs.djangoproject.com/en/dev/ref/contrib/contenttypes/#id1)

```
class File(models.Model):
    # Your other fields...
    file_type = models.ForeignKey(ContentType,
        limit_choices_to={"model__in": ("video", "music")},
        help_text=_("Is this video or music?"))
    file_id = models.PositiveIntegerField(
        help_text=_("Which specific video or music (by ID)?"))
    file_object = generic.GenericForeignKey(ct_field="file_type",
       fk_field="file_id")

    def save():
        # Do your work here on self.filename to determine self.file_type 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:27:24.837

如果我必须做你想做的事情，我会让`FileType`模型包含另一个`CharField`名为`file_type_model_class`. 它将包含模型类的名称，例如`Music`. 您可以使用以下方式实例化您的类：

```
ft = FileType.objects.get(pk = some_id)
module = __import__('ff.models')
class_ = getattr('ff.models', ft.file_type_model_class)
instance = class_() 
```

# seo - 对 SEO 更友好的头部

> ID：14722107
> 
> 赞同：0
> 
> 时间：2013-02-06T05:17:56.640
> 
> 标签：seo, google-search

我有一个电影数据库相关的网站。在此，我们提供最新的电影新闻、预告片、电影数据库、海报等。

我使用 124 个字符长的 3 个句子元描述作为索引页面的元描述。还有一个 6 短语元关键字。（在索引页面中）并在所有其他页面中显示相同的描述和关键字。

我的疑问是，我是否需要为站点中的其他页面提供不同的描述和关键字？即，最新电影页面的差异描述，如最新新闻页面的差异描述？

我对 SEO 很陌生，哪一个对 SEO 更友好？差异页面的描述相同还是不同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:31:14.243

根据您通过任何 URL 提供的内容使用关键字和描述总是更好。

如果您的页面提供新上映电影的新闻，请设置与该电影相关的关键字和描述。

您可以在您的管理中构建一个功能，其中可以将这些值动态输入到您提供的每篇文章中，并将它们显示在您的 html 头中

# facebook-like - Facebook Like 按钮在底部被裁剪

> ID：14722109
> 
> 赞同：1
> 
> 时间：2013-02-06T05:17:58.723
> 
> 标签：facebook-like

我正在尝试将 Facebook like 按钮与 G+1 和 Tweet 的按钮对齐，但我不知道出了什么问题。facebook 按钮在底部被裁剪。[您可以在Mobilize IT](http://www.mobiliseit.com)网站顶部看到我的问题

这是我的代码

```
<div id="fb-root"></div>
<script type="text/javascript">
    (function () {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>

<script>        (function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=438999086139815";
    fjs.parentNode.insertBefore(js, fjs);
    } (document, 'script', 'facebook-jssdk'));
</script>

<div id="social">
    <!-- +1 -->
    <div class="plusone">
    <!-- Place this tag where you want the +1 button to render -->
    <g:plusone size="medium" annotation="none"></g:plusone>
    <!-- Place this render call where appropriate -->
</div>
    <!-- end +1 -->
    <!-- twitter -->
<div class="twitter">
    <a href="https://twitter.com/share" class="twitter-share-button" data-count="none" data-via="dominoc">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>    
</div>
<!-- end twitter -->
<!-- like -->
<div style="vertical-align: top;padding-top:2px;width:46px;overflow:hidden;" class="fb-like" data-href="http://www.facebook.com/pages/Mobilise-IT/166950133340282" data-send="false" data-layout="button_count" data-width="100" data-show-faces="true" data-font="segoe ui"></div>
<!-- end like -->
</div> 
```

这是CSS

```
.social-icon
{
    background-image:url(images/social-icons.png);
    margin-left:-2px;
    padding-left:25px;
    background-repeat:no-repeat;
}

.twitter
{
     background-position:left 2px;
 }
 .facebook
 {
     background-position:left -14px;
     margin-right:5px;
 }
 .linkedin
 {
     background-position:left -29px;
 } 
```

有想法该怎么解决这个吗？提前致谢

PS：我还不能上传图片，需要更多的代表，我什么时候可以，这样你就可以更好地了解我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-14T20:04:03.637

您可以使用以下方法对齐 facebook 按钮： 在您的 CSS

```
.fb-like{ padding: 0 0 4px 0 !important; } 
```

# python - 我们可以在 django 中连接到另一台主机上的其他数据库吗

> ID：14722116
> 
> 赞同：0
> 
> 时间：2013-02-06T05:19:01.663
> 
> 标签：python, database, django, connection

嗨我需要从另一个主机上的另一个数据库中获取数据并插入到本地数据库中，是否可以一次连接两个数据库

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-06T05:21:57.587

是的。请查看[Django 文档](https://docs.djangoproject.com/en/dev/topics/db/multi-db/)。

# iphone - 将后退按钮添加到视图控制器

> ID：14722117
> 
> 赞同：2
> 
> 时间：2013-02-06T05:19:03.960
> 
> 标签：iphone, ios, objective-c

我`UIViewControllers`为我的 3 个`UIToolBar`项目创建了 3 个，但我无法在每个控制器上创建一个按钮，这会将我带回主页或主视图控制器。请帮助我，因为我是目标 c 的新手。

这是我的代码....

**“视图控制器.h”**

```
#import "ViewController.h"
#import "ContactInfoViewController.h"
#import "DateViewController.h"
#import "MessageViewController.h"
@interface ViewController ()
@end
@implementation ViewController
- (void)viewDidLoad
{
[super viewDidLoad];
UIToolbar *toolbar = [[UIToolbar alloc] init];
toolbar.frame = CGRectMake(0, 417, self.view.frame.size.width, 44);
UIBarButtonItem *contact = [[UIBarButtonItem alloc] initWithTitle:@"Contact" style:UIBarButtonItemStyleDone target:self action:@selector(ContactButton)];
UIBarButtonItem *flexiableItem1 = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
UIBarButtonItem *date = [[UIBarButtonItem alloc] initWithTitle:@"Date" style:UIBarButtonItemStyleDone target:self action:@selector(DateButton)];
UIBarButtonItem *flexiableItem = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
UIBarButtonItem *message = [[UIBarButtonItem alloc] initWithTitle:@"Message" style:UIBarButtonItemStyleDone target:self action:@selector(MessageButton)];
NSMutableArray *items = [[NSMutableArray alloc] initWithObjects:contact,flexiableItem1,date,flexiableItem,message, nil];
[toolbar setItems:items animated:YES];
[items release];
[self.view addSubview:toolbar];
[toolbar release];
}
-(void)ContactButton
{
ContactInfoViewController *secondViewcont = [[ContactInfoViewController alloc] init];
UINavigationController *navigCont = [[UINavigationController alloc] initWithRootViewController:secondViewcont];
[self presentViewController:navigCont animated:YES completion:nil];
}
-(void)DateButton
{
DateViewController *secondViewcont = [[DateViewController alloc] init];
UINavigationController *navigCont = [[UINavigationController alloc] initWithRootViewController:secondViewcont];
[self presentViewController:navigCont animated:YES completion:nil];
}
-(void)MessageButton
{
MessageViewController *secondViewcont = [[MessageViewController alloc] init];
UINavigationController *navigCont = [[UINavigationController alloc]  initWithRootViewController:secondViewcont];
[self presentViewController:navigCont animated:YES completion:nil];
}
- (void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
}
@end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:02:08.883

将自定义按钮添加到您的第二个视图控制器

在`viewDidLoad`你可以这样做

```
self.navigationItem.rightBarButtonItem = [[[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(doneButtonPressed:)]autorelease];

- (IBAction)doneButtonPressed:(id)sender 
{
   [self dismissViewControllerAnimated:YES completion:nil];
} 
```

# c++ - 如何获得焦点到 IE8 窗口？设置前景窗口（）？

> ID：14722121
> 
> 赞同：0
> 
> 时间：2013-02-06T05:19:38.903
> 
> 标签：c++, winapi, setfocus, lostfocus

我正在使用以下行

```
SetForegroundWindow(hWnd); 
```

在 C++ 中获得焦点到 ie8 窗口。实际发生的是，我获得了 2 次焦点，然后如果我下次打开而不是获得焦点，它只会在任务栏中以橙色闪烁。请为此提供一个解决方案。有什么选择`SetForegroundWindow()`吗？我试过使用

```
SendMessage(hWnd, WM_SYSCOMMAND, SW_SHOW,0); 
```

那没起效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-01T09:30:34.003

尝试这个：

```
ShowWindow(hWnd,SW_SHOWMAXIMIZED); 
```

# windows-phone-7 - XNA 帧率 30 到 60

> ID：14722128
> 
> 赞同：1
> 
> 时间：2013-02-06T05:20:13.830
> 
> 标签：windows-phone-7, xna, windows-phone-8, frame-rate

WP 7/8 + xna 游戏默认设置为 30 FPS，我想知道如果我将其设置为 60 FPS，任何缺点/性能问题/错误/任何其他。因为我总是想以 60 fps 的速度玩/开发游戏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T07:24:45.843

我只想为 Strife 的其他出色[答案](https://stackoverflow.com/a/14722225/165500)添加几点。

*   物理模拟通常在更高的 FPS 下更稳定。即使您的游戏以 30 FPS 运行，您也可以通过每帧执行两次 1/60 秒的更新以 60 FPS 运行物理模拟。这为您提供了更好的模拟，但 CPU 成本很高。（尽管对于物理学来说，*固定帧率**比高*帧率更重要。）

*   如果您每秒轮询输入 30 次而不是 60 次，您将错过输入状态的极快变化，从而失去一些输入保真度。

*   同样，您的帧速率会影响输入输出延迟。在较低的帧速率下，输入更改将需要更长的时间才能反映在屏幕上，从而使您的游戏感觉反应迟钝。这也可能是音频反馈的问题——尤其是在音乐应用中。

最后两点只有在你有一个非常紧张的游戏时才真正重要（*Super Hexagon*就是一个很好的例子）。虽然我必须承认我不知道 WP7/8 上的触摸输入实际刷新的速度有多快——很难找到相关信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T05:29:18.937

Windows Phone 7 SDK 将 XNA 设置为 30 FPS，因为 Windows Phone 7 设备上的屏幕具有 30hz 刷新率。这意味着屏幕每秒刷新 30 次。如果您每秒绘制 30 次，并且您每秒刷新 30 次，则您以该设备的最佳平滑率。

大多数人瞄准 60（或在我的游戏 PC 上为 120）的原因是因为大多数显示器的刷新率是 60hz（有些现在是 120hz）。 *如果您的 FPS 高于您的刷新率，您将不会注意到其他任何东西，*除了可能的“屏幕撕裂”效果，当您在一秒钟内渲染的帧数超过屏幕刷新率时会发生这种情况。

换句话说，假设你在屏幕上画了两次，然后你的屏幕刷新了一次，你为什么还要费心画第二次呢？当渲染速度超过设备的刷新率时，会浪费电池寿命、cpu 使用率和 gpu 使用率。因此，如果您坚持使用 XNA，我对您的建议是坚持使用 30 FPS，因为较旧的设备不会通过渲染更多帧而获得任何好处，并且如果有的话，您会遇到诸如屏幕撕裂之类的图形异常。

如果您计划针对更高端（和更新）的 windows phone 8 设备，放弃 XNA，采用 Direct3D 路线并使用 Microsoft 的“DirectX Toolkit”，因为它包含 XNA 的“图形功能”，如 spritebatch，但使用 C++ 而不是 C#。

我希望这有帮助。

# ios - 从核心数据创建 json 字符串，反之亦然？

> ID：14722129
> 
> 赞同：0
> 
> 时间：2013-02-06T05:20:17.193
> 
> 标签：ios, json, core-data, nsjsonserialization

我在核心数据中获得了具有一对多关系的实体。如何将实体中的数据转换为 json 字符串，并在创建后使用 json 字符串填充核心数据实体？

任何帮助将不胜感激...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:31:25.563

对于 json 的核心数据：

根据您的要求从您的核心数据中获取数据，然后将其转换为 json。

访问这个链接到[核心数据到 json](http://touchalicious.com/blog/2009/10/25/turn-core-data-models-into-json.html) 也看到[这个](https://stackoverflow.com/questions/2362323/json-and-core-data-on-the-iphone)

用于 json 到核心数据

1）将 JSON 转换为原生 Cocoa 数据类型（NSDictionary 和 NSArray）
2）将 NS* 转换为 Core Data 对象

这意味着您可以将 json 数据检索到任何数组或任何对象中，然后将该对象或数据插入核心数据中。

像这样从json获取数据

```
NSMutableArray *json = (NSMutableArray* )[NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&err];
    Book.name = [[[json valueForKey:@"boxesDetail"] objectAtIndex:i] valueForKey:@"name"];
        Book.ID = [NSNumber numberWithInt:[[[[json valueForKey:@"boxesDetail"] objectAtIndex:i] valueForKey:@"number"] intValue]]; 
```

现在将这本书数据插入核心数据

# c++ - UnmapViewOfFile 不释放文件。函数执行后无法访问文件。

> ID：14722138
> 
> 赞同：1
> 
> 时间：2013-02-06T05:20:46.043
> 
> 标签：c++, windows, winhttp

我正在尝试使用 将文件上传到云服务`winhttp`，但是在运行以下代码后，我无法再访问同一个文件。似乎程序没有正确关闭其文件句柄：

```
HANDLE hFile = CreateFileW(MultiByteToWideChar(filePath), GENERIC_READ, FILE_SHARE_READ+FILE_SHARE_WRITE, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL);
DWORD dwFileSize = GetFileSize(hFile, NULL);
HANDLE hFileMappingObject = CreateFileMapping(hFile, NULL, PAGE_READONLY, 0, dwFileSize, NULL);
HANDLE file = MapViewOfFile(hFileMappingObject, FILE_MAP_READ, 0, 0, 0);

bool result = WinHttpSendRequest( hRequest, 
                                    WINHTTP_NO_ADDITIONAL_HEADERS,
                                    0, WINHTTP_NO_REQUEST_DATA, 0, 
                                    dwFileSize, 0);

result = WinHttpWriteData( hRequest, file, dwFileSize, &dwBytesWritten);

FlushViewOfFile(file, dwFileSize);
FlushFileBuffers(hFile);
UnmapViewOfFile(file);
CloseHandle(hFileMappingObject);
CloseHandle(hFile); 
```

# css - 如何仅滚动 iFrame 而不是整个窗口

> ID：14722142
> 
> 赞同：0
> 
> 时间：2013-02-06T05:21:10.560
> 
> 标签：css, html

我如何只在 iFrame 内滚动，而不是整个窗口？我想在 iFrame 下方放置文本，但是当文本比 iFrame 长时它会显示出来。你可以去 www.thesocialscreensaver.com 看看我在说什么。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:34:06.573

您可以在 div 中使用 iframe，如下所示：

```
<div id="iframeINSIDE" style="width: 600px; height: 200px; overflow: hidden;">
<iframe name="abc" style="width: 620px; height: 200px;" src="File.html"></iframe> 
```

我已经在 Firefox 和 IE 上检查了它，它们都可以正常工作。您可以使用鼠标滚轮滚动，也可以将鼠标指针拖到 div 上。这只会滚动 iframe 而不是整个窗口。

检查它是否适合您。

**新增：http:** [//jsfiddle.net/TJZT4/10/](http://jsfiddle.net/TJZT4/10/)

**要使 iframe 100% 显示网页，请使用：**

```
<body>
<iframe src="http://jsfiddle.net/" style="height:100%;width:100%" height="100%" width="100%" frameborder="0" ></iframe>
</body> 
```

# java - Httpurl连接超时没有发生

> ID：14722144
> 
> 赞同：0
> 
> 时间：2013-02-06T05:21:24.297
> 
> 标签：java, timeout, httpurlconnection, connection-timeout

我有一个 java servlet 向其他服务器请求一些请求，而另一台服务器有一个默认超时为 2 分钟的 apache 服务器。

我有两个要调用的 url，以防第一个 url 失败，然后我需要调用第二个 url，但是第一个 url 需要 2 分钟的默认时间超时。但我不要求它像这样超时，比如 10 秒后如果没有得到结果，那么我需要调用第二个 url

```
URL urlConnect = new URL(url.toString());
HttpURLConnection.setFollowRedirects(false);
HttpURLConnection urlc = (HttpURLConnection) urlConnect.openConnection();
urlc.setConnectTimeout(1000*20);
urlc.connect(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-10-16T11:42:55.480

只需捕获一个 SocketTimeoutException：

```
try{ 
         boolean timeout = false;
         URL urlConnect = new URL(url.toString());
         HttpURLConnection.setFollowRedirects(false);
         HttpURLConnection urlc = (HttpURLConnection) urlConnect.openConnection();
         urlc.setConnectTimeout(10000); // 10 sec
         urlc.setReadTimeout(10000); // 10 sec
         urlc.connect();
       }catch(SocketTimeoutException e){
           timeout = true;
       }finally{
          if(timeout){
             handleSecoundRequestFunction(); //the same principle as by first connection
          }
       } 
```

# multidimensional-array - Arduino 控制功能的算法选择

> ID：14722145
> 
> 赞同：0
> 
> 时间：2013-02-06T05:21:42.280
> 
> 标签：multidimensional-array, arduino, complexity-theory

我有一个必须做两件事的功能：

*   遍历`n*n*n`数组
*   根据阵列状态更新引脚

此功能将重复运行。

我有两种算法来执行函数的工作：

*   首先，它遍历整个数组并且具有复杂性`Th(n**3)`，但它的`digitalWrite`操作最少，大致为 Th(n)（因为某些引脚状态取决于相邻引脚状态）。

*   其次，它遍历数组的某些部分并且具有`Th(n**2)`，但它具有最大`digitalWrite`操作数`Th(n**2)`。

我遇到的问题：

*   对于 small `n`，我采用哪种方法是否重要？

*   `digitalWrite`与三维数组访问操作相比，一个操作的成本是多少？（作为优化一个，会导致对另一个的调用增加。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T17:35:30.257

如果不了解您的具体功能，则无法合理回答。甚至不清楚它是否重要。一般来说，对于性能问题，正确的方法是同时实施和测量。特别是对于小 n，您无法从理论中得出这样的结论。

我的建议是选择更易于实现和理解的算法。一旦它起作用，您可以尝试性能是否足够。如果这样就好了。问题解决了。否则，您可以开始调整和优化。

如果 digitalWrite 性能是一个问题，您总是可以退回到直接端口操作。但正如我已经说过的：首先让它工作。

如果数组遍历是一个问题，您始终可以将数组映射到低维数组并调整您的遍历函数。这通常也会导致性能改进。

# python - “。导入证书”

> ID：14722147
> 
> 赞同：1
> 
> 时间：2013-02-06T05:21:51.450
> 
> 标签：python, google-app-engine, ssl-certificate

我正在使用带有 python 的 GAE 的 facepy

我收到一个错误，当我跟踪错误时，我发现

```
from . import certs 
```

在 utils.py 文件中

点 (.) 是什么意思？

certs.py 与 utils.py 位于同一文件夹中

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:28:53.993

这是一个[相对导入](http://docs.python.org/2/tutorial/modules.html#intra-package-references)，这基本上意味着你在最后一句话中所说的 - 它会在当前文件夹中相对于当前模块查找模块`certs`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:28:49.407

这意味着从同一文件夹导入。查看该文件夹中是否有 __init__.py 文件，如果没有，这可能就是它不开心的原因。

# search - 如果在 jqgrid 中的自定义格式化程序中完成日期格式化，则发现不起作用

> ID：14722148
> 
> 赞同：1
> 
> 时间：2013-02-06T05:21:52.110
> 
> 标签：search, jqgrid, formatter

我通过在我的自定义格式化程序中扩展 jqgrid fmatter 来进行日期格式化。如果我喜欢这样，那么“查找”功能将不起作用。下面是示例 colModel 和自定义格式化程序函数。

```
colModel = {name:currentLevelInDate, label:"Period Beginning (GMT)", index:currentLevelInDate,sorttype: "date",datefmt: datefmt, formatter:"formatDate",
unformat: 'unformatDate', formatoptions: { newformat:newFormat, srcformat:srcFormat}}

formatDate : function(cellvalue, opts, rowObject) {
...
...
var op = $.extend({}, $.jgrid.formatter.date);
if(opts.colModel.formatoptions != undefined) {
    op = $.extend({}, op, opts.colModel.formatoptions);
}

cellDisplayValue = $.fmatter.util.DateFormat(op.srcformat,cellvalue,op.newformat,op);
....

return cellDisplayValue;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:29:42.323

您应该发布您使用的更完整的代码。例如，您使用变量`datefmt`, `newFormat`, `srcFormat`，但您没有包含变量的定义。

您的代码中的一个明显错误是将函数名称用作字符串：

```
formatter: "formatDate" 
```

而不是用作变量：`formatter: formatDate`. `formatter: "formatDate"`只有`formatDate`定义为对象的属性时，语法才是正确的`$.fn.fmatter`。如果你这样做，那么你应该包含完整的代码，它可以准确地显示你所做的事情。如果您仅发布您怀疑存在错误的代码片段，则无法在代码中找到错误。最好的办法是发布可用于重现您的问题的完整代码。

# javascript - 如何在 Asp.net 中的 Jqgrid 中将 FilterToolbar 值保留为变量

> ID：14722151
> 
> 赞同：0
> 
> 时间：2013-02-06T05:22:10.813
> 
> 标签：javascript, jquery, asp.net, jqgrid

我`database values`在本地`Jqgrid` `Asynchronously`使用`Ajax call`并实现了过滤器工具栏。

现在根据我的需要，当我在过滤器工具栏中输入值以进行细化时，过滤器字段值应保存在客户端的变量中。

这是我试图执行的代码，但它没有返回值。

```
var postdata=$("#gridId").jqGrid('getGridParam','postdata');
var thesearchis=postdata.filter;
    alert(thesearchis); 
```

请大家帮帮我.Thanx提前...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:20:28.067

对不起，但我不明白你的要求。过滤器已保存到“变量”`$("#gridId").jqGrid('getGridParam','postdata').filters`中。所以不明白为什么需要将它保存在任何另一个需要同步值的变量中。

您的代码中唯一明显的错误是您使用`filter`而`filters`不是`postaData`.

此外，您对异步 Ajax 调用的描述似乎您选择了不好的方法。我建议您与选项`datatype: "json"`一起使用。`loadonce: true`在这种情况下，jqGrid 将为您进行异步 Ajax 调用以从服务器获取数据。由于`loadonce: true`选项的使用，`datatype`将`"local"`在第一次加载网格后更改为。因此，所有后续的数据过滤、分页和排序都将在**本地**进行。

# objective-c - 以登录视图控制器为根的 SplitViewController

> ID：14722152
> 
> 赞同：0
> 
> 时间：2013-02-06T05:22:20.530
> 
> 标签：objective-c, xcode, uisplitviewcontroller, uistoryboard, uistoryboardsegue

所以我一直在研究如何将登录视图控制器作为初始视图控制器而不是拆分视图。

我见过的一些答案会推荐加载模式视图？我不确定这是如何设置的。

例如。

[如何在 UISplitViewController iPad 之前添加登录视图](https://stackoverflow.com/questions/3607787/how-to-add-a-login-view-before-a-uisplitviewcontroller-ipad)

和

[如何在二级实现SplitViewController。？](https://stackoverflow.com/questions/7816670/how-to-implement-splitviewcontroller-on-second-level)

那么我应该在 loginviewcontroller 类中添加它们吗？还是在哪里？

欢迎任何建议。

谢谢！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T12:00:11.507

我通过创建两个故事板来做到这一点：一个带有（全屏）登录，一个带有拆分视图。

为了在它们之间切换，我添加了一个自定义协议：

```
#import <Foundation/Foundation.h>

@protocol RootViewControllerDelegate <NSObject>

-(void)switchToStoryboard: (UIStoryboard *) storyboad animationDirectionOrNil: (NSString *)direction;

@end 
```

AppDelegate 然后实现这个协议：

```
-(void)switchToStoryboard:(id)storyboad animationDirectionOrNil:(NSString *)direction {
    UIViewController *newRoot=[storyboad instantiateInitialViewController];
    if ([newRoot respondsToSelector:@selector(setRootViewControllerDelegate:)]) {
        [newRoot setRootViewControllerDelegate:self];
    }
    self.window.rootViewController=newRoot;

    if(direction){
        CATransition* transition=[CATransition animation];
        transition.type=kCATransitionPush;
        transition.subtype=direction;
        [self.window.layer addAnimation:transition forKey:@"push_transition"];
    }
} 
```

如您所见，它再次尝试将自己设置为委托，因此其他视图控制器可以切换回或切换到另一个情节提要。为了让它工作，你必须继承 UISplitView：

**标题**

```
#import <UIKit/UIKit.h>
#import "RootViewControllerDelegate.h"

@interface MySplitViewController : UISplitViewController
@property (nonatomic, weak) id <RootViewControllerDelegate> rootViewControllerDelegate;

@end 
```

**执行**

```
#import "MySplitViewController.h"

@implementation MySplitViewController
@synthesize rootViewControllerDelegate;

- (void)viewDidLoad
{
    [super viewDidLoad];
    for (UIViewController *viewController in self.viewControllers) {
        if ([viewController respondsToSelector:@selector(setRootViewControllerDelegate:)]) {
            [viewController setRootViewControllerDelegate:self.rootViewControllerDelegate];
        }
    }
}

@end 
```

这个简单的实现寻找接受根视图控制器委托的子视图控制器并将其传递下来。因此，当您想向某个（主或详细）视图添加“显示登录”按钮时，只需创建自己的 UIViewController 子类，添加一个`@property id<RootViewControllerDelegate> rootViewControllerDelegate`并将这样的操作与按钮相关联：

```
- (IBAction)loginButtonClicked:(id)sender {
    UIStoryboard *mainSB=[UIStoryboard storyboardWithName:@"LoginStoryboard" bundle:nil];
    NSString *animationDirection=kCATransitionFromTop;
    UIDeviceOrientation currentOrientation=[[UIDevice currentDevice] orientation];
    if (currentOrientation==UIDeviceOrientationLandscapeLeft) {
        animationDirection=kCATransitionFromBottom;
    }
    [self.rootViewControllerDelegate switchToStoryboard:mainSB animationDirectionOrNil:animationDirection];
} 
```

随意调整一切以满足您的需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:15:19.450

好吧，这是我的朋友。我在 btn 中创建了一个 ibaction，并使用故事板的模态选项推送了新视图。他们我插入了登录视图的类，它还引用了保持记录海峡的常量。然后在识别登录后，我推送了一个新视图。请记住，我让用户在他们的设备中创建密码，而不是从服务器导入密码。如果你想从服务器导入它会有所不同。

这是登录.h

```
#import <UIKit/UIKit.h>
#import "Constants.h"

@interface LogInViewController : UIViewController<UITextFieldDelegate>

@property (nonatomic) BOOL pinValidated;

@end 
```

这是 login .m 的代码

```
#import "LogInViewController.h"
#import "KeychainWrapper.h"

@interface LogInViewController ()

@end

@implementation LogInViewController

@synthesize pinValidated;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
if (self) {
    // Custom initialization
}
return self;
}

- (void)didReceiveMemoryWarning
{
// Releases the view if it doesn't have a superview.
[super didReceiveMemoryWarning];

// Release any cached data, images, etc that aren't in use.
}

// Helper method to congregate the Name and PIN fields for validation.
- (BOOL)credentialsValidated 
{
NSString *name = [[NSUserDefaults standardUserDefaults] stringForKey:USERNAME];
BOOL pin = [[NSUserDefaults standardUserDefaults] boolForKey:PIN_SAVED];
if (name && pin) {
    return YES;
} else {
    return NO;
}
}

- (void)presentAlertViewForPassword 
{

// 1
BOOL hasPin = [[NSUserDefaults standardUserDefaults] boolForKey:PIN_SAVED];

// 2
if (hasPin) {
    // 3
    NSString *user = [[NSUserDefaults standardUserDefaults] stringForKey:USERNAME];
    NSString *message = [NSString stringWithFormat:@"What is %@'s password?", user];
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Enter Password" 
                                                    message:message  
                                                   delegate:self 
                                          cancelButtonTitle:@"Cancel" 
                                          otherButtonTitles:@"Done", nil];
    // 4
    [alert setAlertViewStyle:UIAlertViewStyleSecureTextInput]; // Gives us the password    field
    alert.tag = kAlertTypePIN;
    // 5
    UITextField *pinField = [alert textFieldAtIndex:0];
    pinField.delegate = self;
    pinField.autocapitalizationType = UITextAutocapitalizationTypeWords;
    pinField.tag = kTextFieldPIN;
    [alert show];
} else {
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Setup Credentials" 
                                                    message:@"Enter Your information!"  
                                                   delegate:self 
                                          cancelButtonTitle:@"Cancel" 
                                          otherButtonTitles:@"Done", nil];
    // 6
    [alert setAlertViewStyle:UIAlertViewStyleLoginAndPasswordInput];
    alert.tag = kAlertTypeSetup;
    UITextField *nameField = [alert textFieldAtIndex:0];
    nameField.autocapitalizationType = UITextAutocapitalizationTypeWords;
    nameField.placeholder = @"Name"; // Replace the standard placeholder text with   something more applicable
    nameField.delegate = self;
    nameField.tag = kTextFieldName;
    UITextField *passwordField = [alert textFieldAtIndex:1]; // Capture the Password text field since there are 2 fields
    passwordField.delegate = self;
    passwordField.tag = kTextFieldPassword;
    [alert show];
}
}

- (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex 
{
if (alertView.tag == kAlertTypePIN) {
    if (buttonIndex == 1 && self.pinValidated) { // User selected "Done"
        [self performSegueWithIdentifier:@"ScoutSegue" sender:self];
        self.pinValidated = NO;
    } else { // User selected "Cancel"
        [self presentAlertViewForPassword];
    }
} else if (alertView.tag == kAlertTypeSetup) {
    if (buttonIndex == 1 && [self credentialsValidated]) { // User selected "Done"
        [self performSegueWithIdentifier:@"ScoutSegue" sender:self];
    } else { // User selected "Cancel"
        [self presentAlertViewForPassword];
    }
}
}

#pragma mark - Text Field + Alert View Methods
- (void)textFieldDidEndEditing:(UITextField *)textField 
{
// 1
switch (textField.tag) {
    case kTextFieldPIN: // We go here if this is the 2nd+ time used (we've already set a    PIN at Setup).
        NSLog(@"User entered PIN to validate");
        if ([textField.text length] > 0) {
            // 2
            NSUInteger fieldHash = [textField.text hash]; // Get the hash of the entered PIN, minimize contact with the real password
            // 3
            if ([KeychainWrapper compareKeychainValueForMatchingPIN:fieldHash]) { // Compare them
                NSLog(@"** User Authenticated!!");
                self.pinValidated = YES;
            } else {
                NSLog(@"** Wrong Password :(");
                self.pinValidated = NO;
            }
        }
        break;
    case kTextFieldName: // 1st part of the Setup flow.
        NSLog(@"User entered name");
        if ([textField.text length] > 0) {
            [[NSUserDefaults standardUserDefaults] setValue:textField.text  forKey:USERNAME];
            [[NSUserDefaults standardUserDefaults] synchronize];
        }
        break;
    case kTextFieldPassword: // 2nd half of the Setup flow.
        NSLog(@"User entered PIN");
        if ([textField.text length] > 0) {
            NSUInteger fieldHash = [textField.text hash];
            // 4
            NSString *fieldString = [KeychainWrapper securedSHA256DigestHashForPIN:fieldHash];
            NSLog(@"** Password Hash - %@", fieldString);
            // Save PIN hash to the keychain (NEVER store the direct PIN)
            if ([KeychainWrapper createKeychainValue:fieldString forIdentifier:PIN_SAVED])        {
                [[NSUserDefaults standardUserDefaults] setBool:YES forKey:PIN_SAVED];
                [[NSUserDefaults standardUserDefaults] synchronize];
                NSLog(@"** Key saved successfully to Keychain!!");
            }                
        }
        break;
    default:
        break;
}
}

#pragma mark - View lifecycle

- (void)viewDidLoad
{
[super viewDidLoad];
self.pinValidated = NO;
}

- (void)viewDidAppear:(BOOL)animated 
{
[super viewDidAppear:animated];
[self presentAlertViewForPassword];
}

- (void)viewDidUnload
{
[super viewDidUnload];
// Release any retained subviews of the main view.
// e.g. self.myOutlet = nil;
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
// Return YES for supported orientations
return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

@end 
```

这是常量的代码

```
// Used for saving to NSUserDefaults that a PIN has been set, and is the unique identifier  for the Keychain.
#define PIN_SAVED @"hasSavedPIN"

// Used for saving the user's name to NSUserDefaults.
#define USERNAME @"username"

// Used to specify the application used in accessing the Keychain.
#define APP_NAME [[[NSBundle mainBundle] infoDictionary]  objectForKey:@"CFBundleIdentifier"]

// Used to help secure the PIN.
// Ideally, this is randomly generated, but to avoid the unnecessary complexity and overhead of storing the Salt separately, we will standardize on this key.
 // !!KEEP IT A SECRET!!
 #define SALT_HASH      @"FvTivqTqZXsgLLx1v3P8TGRyVHaSOB1pvfm02wvGadj7RLHV8GrfxaZ84oGA8RsKdNRpxdAojXYg9iAj"

// Typedefs just to make it a little easier to read in code.
typedef enum {
kAlertTypePIN = 0,
kAlertTypeSetup
} AlertTypes;

typedef enum {
kTextFieldPIN = 1,
kTextFieldName,
kTextFieldPassword
} TextFieldTypes; 
```

这是钥匙串包装器

```
#import <Foundation/Foundation.h>
#import <Security/Security.h>
#import <CommonCrypto/CommonHMAC.h>

@interface KeychainWrapper : NSObject

// Generic exposed method to search the keychain for a given value. Limit one result per  search.
+ (NSData *)searchKeychainCopyMatchingIdentifier:(NSString *)identifier;

// Calls searchKeychainCopyMatchingIdentifier: and converts to a string value.
+ (NSString *)keychainStringFromMatchingIdentifier:(NSString *)identifier;

// Simple method to compare a passed in hash value with what is stored in the keychain.
// Optionally, we could adjust this method to take in the keychain key to look up the value.
+ (BOOL)compareKeychainValueForMatchingPIN:(NSUInteger)pinHash;

// Default initializer to store a value in the keychain.  
// Associated properties are handled for you - setting Data Protection Access, Company Identifer (to uniquely identify string, etc).
+ (BOOL)createKeychainValue:(NSString *)value forIdentifier:(NSString *)identifier;

// Updates a value in the keychain. If you try to set the value with createKeychainValue: and it already exists,
// this method is called instead to update the value in place.
+ (BOOL)updateKeychainValue:(NSString *)value forIdentifier:(NSString *)identifier;

// Delete a value in the keychain.
+ (void)deleteItemFromKeychainWithIdentifier:(NSString *)identifier;

// Generates an SHA256 (much more secure than MD5) hash.
+ (NSString *)securedSHA256DigestHashForPIN:(NSUInteger)pinHash;
+ (NSString*)computeSHA256DigestForString:(NSString*)input;

@end 
```

最后是 keychainwrapper .m 的代码

```
#import "KeychainWrapper.h"
#import "Constants.h"

@implementation KeychainWrapper
// *** NOTE *** This class is ARC compliant - any references to CF classes must be paired  with a "__bridge" statement to 
// cast between Objective-C and Core Foundation Classes.  WWDC 2011 Video "Introduction to Automatic Reference Counting" explains this.
// *** END NOTE ***
 + (NSMutableDictionary *)setupSearchDirectoryForIdentifier:(NSString *)identifier {

// Setup dictionary to access keychain.
NSMutableDictionary *searchDictionary = [[NSMutableDictionary alloc] init];  
// Specify we are using a password (rather than a certificate, internet password, etc).
[searchDictionary setObject:( id)kSecClassGenericPassword forKey:( id)kSecClass];
// Uniquely identify this keychain accessor.
[searchDictionary setObject:APP_NAME forKey:( id)kSecAttrService];

// Uniquely identify the account who will be accessing the keychain.
NSData *encodedIdentifier = [identifier dataUsingEncoding:NSUTF8StringEncoding];
[searchDictionary setObject:encodedIdentifier forKey:( id)kSecAttrGeneric];
[searchDictionary setObject:encodedIdentifier forKey:( id)kSecAttrAccount];

return searchDictionary; 
}

+ (NSData *)searchKeychainCopyMatchingIdentifier:(NSString *)identifier 
{

NSMutableDictionary *searchDictionary = [self  setupSearchDirectoryForIdentifier:identifier];
// Limit search results to one.
[searchDictionary setObject:( id)kSecMatchLimitOne forKey:( id)kSecMatchLimit];

// Specify we want NSData/CFData returned.
[searchDictionary setObject:( id)kCFBooleanTrue forKey:( id)kSecReturnData];

// Search.
NSData *result = nil;   
CFTypeRef foundDict = NULL;
OSStatus status = SecItemCopyMatching(( CFDictionaryRef)searchDictionary, &foundDict);

if (status == noErr) {
    result = ( NSData *)foundDict;
} else {
    result = nil;
}

return result;
}

+ (NSString *)keychainStringFromMatchingIdentifier:(NSString *)identifier 
{
NSData *valueData = [self searchKeychainCopyMatchingIdentifier:identifier];
if (valueData) {
    NSString *value = [[NSString alloc] initWithData:valueData
                                            encoding:NSUTF8StringEncoding];
    return value;
} else {
    return nil;
}
}

+ (BOOL)createKeychainValue:(NSString *)value forIdentifier:(NSString *)identifier 
{

NSMutableDictionary *dictionary = [self setupSearchDirectoryForIdentifier:identifier];
NSData *valueData = [value dataUsingEncoding:NSUTF8StringEncoding];
[dictionary setObject:valueData forKey:( id)kSecValueData];

// Protect the keychain entry so it's only valid when the device is unlocked.
[dictionary setObject:( id)kSecAttrAccessibleWhenUnlocked forKey:( id)kSecAttrAccessible];

// Add.
OSStatus status = SecItemAdd(( CFDictionaryRef)dictionary, NULL);

// If the addition was successful, return. Otherwise, attempt to update existing key or quit (return NO).
if (status == errSecSuccess) {
    return YES;
} else if (status == errSecDuplicateItem){
    return [self updateKeychainValue:value forIdentifier:identifier];
} else {
    return NO;
}
}

+ (BOOL)updateKeychainValue:(NSString *)value forIdentifier:(NSString *)identifier 
{

NSMutableDictionary *searchDictionary = [self  setupSearchDirectoryForIdentifier:identifier];
NSMutableDictionary *updateDictionary = [[NSMutableDictionary alloc] init];
NSData *valueData = [value dataUsingEncoding:NSUTF8StringEncoding];
[updateDictionary setObject:valueData forKey:( id)kSecValueData];

// Update.
OSStatus status = SecItemUpdate(( CFDictionaryRef)searchDictionary,
                                ( CFDictionaryRef)updateDictionary);

if (status == errSecSuccess) {
    return YES;
} else {
    return NO;
}
}

+ (void)deleteItemFromKeychainWithIdentifier:(NSString *)identifier 
{
NSMutableDictionary *searchDictionary = [self setupSearchDirectoryForIdentifier:identifier];
CFDictionaryRef dictionary = ( CFDictionaryRef)searchDictionary;

//Delete.
SecItemDelete(dictionary);
}

+ (BOOL)compareKeychainValueForMatchingPIN:(NSUInteger)pinHash 
{

if ([[self keychainStringFromMatchingIdentifier:PIN_SAVED] isEqualToString:[self securedSHA256DigestHashForPIN:pinHash]]) {
    return YES;
} else {
    return NO;
}    
}

// This is where most of the magic happens (the rest of it happens in computeSHA256DigestForString: method below).
// Here we are passing in the hash of the PIN that the user entered so that we can avoid manually handling the PIN itself.
// Then we are extracting the username that the user supplied during setup, so that we can add another unique element to the hash.
// From there, we mash the user name, the passed-in PIN hash, and the secret key (from ChristmasConstants.h) together to create 
// one long, unique string.
// Then we send that entire hash mashup into the SHA256 method below to create a "Digital Digest," which is considered
// a one-way encryption algorithm. "One-way" means that it can never be reverse-engineered, only brute-force attacked.
// The algorthim we are using is Hash = SHA256(Name + Salt + (Hash(PIN))). This is called   "Digest Authentication."
+ (NSString *)securedSHA256DigestHashForPIN:(NSUInteger)pinHash 
{
// 1
NSString *name = [[NSUserDefaults standardUserDefaults] stringForKey:USERNAME];
name = [name stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
// 2
NSString *computedHashString = [NSString stringWithFormat:@"%@%i%@", name, pinHash, SALT_HASH];
// 3
NSString *finalHash = [self computeSHA256DigestForString:computedHashString];
NSLog(@"** Computed hash: %@ for SHA256 Digest: %@", computedHashString, finalHash);
return finalHash;
}

// This is where the rest of the magic happens.
// Here we are taking in our string hash, placing that inside of a C Char Array, then parsing it through the SHA256 encryption method.
+ (NSString*)computeSHA256DigestForString:(NSString*)input 
 {

const char *cstr = [input cStringUsingEncoding:NSUTF8StringEncoding];
NSData *data = [NSData dataWithBytes:cstr length:input.length];
uint8_t digest[CC_SHA256_DIGEST_LENGTH];

// This is an iOS5-specific method.
// It takes in the data, how much data, and then output format, which in this case is an int array.
CC_SHA256(data.bytes, data.length, digest);

// Setup our Objective-C output.
NSMutableString* output = [NSMutableString stringWithCapacity:CC_SHA256_DIGEST_LENGTH *  2];

// Parse through the CC_SHA256 results (stored inside of digest[]).
for(int i = 0; i < CC_SHA256_DIGEST_LENGTH; i++) {
    [output appendFormat:@"%02x", digest[i]];
}

return output;
}

@end 
```

这是在任何其他视图天气它是视图控制器或任何其他视图（如标签栏等）之前创建登录视图的蓝图。好好看看这组代码并随意修改它们。希望这对你有帮助，我的朋友。代码就在那里，您所要做的就是研究它们并将它们修改为您想要的。快乐编码。

# java - Instagram 的 Java 实现 - 获取 OAuth 令牌

> ID：14722153
> 
> 赞同：0
> 
> 时间：2013-02-06T05:22:35.583
> 
> 标签：java, api, browser, oauth, instagram

我目前正在尝试在 Java 的个人项目中实现流行的服务 Instagram。API 使用 OAuth 令牌进行身份验证，并要求用户登录并授权，然后我才能获得用户特定的访问令牌。我的问题是，是否可以从 Java 内部浏览到 Instagram 登录页面，然后按照重定向获取访问令牌？

我尝试过 POST 到登录页面，但每当我尝试时它都会抛出 401。

如果有人能指出我正确的方向，我将永远感激不尽。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T06:01:12.343

我认为你的方法不是很务实。您必须构建正确的网址并以某种方式将其（它们）提供给用户。[从您的命令行（例如 curl）尝试此处](http://instagram.com/developer/authentication/)列举的步骤，并确保具有所有相应的值。

...然后从您的应用程序中尝试相同的操作。

# winapi - MFC - 以编程方式禁用超级按钮栏

> ID：14722154
> 
> 赞同：1
> 
> 时间：2013-02-06T05:22:43.900
> 
> 标签：winapi, windows-8, gesture, charms-bar

我需要以编程方式禁用 Windows 8 魅力栏。在 MSDN 上，我可以找到执行此操作的示例代码。但是，在我的机器上使用安装了 Windows 8 SDK 的代码片段时，我收到了链接器错误。代码片段可以在[System.EdgeGesture.DisableTouchWhenFullscreen中找到](http://msdn.microsoft.com/en-us/library/windows/desktop/jj553591%28v=vs.85%29.aspx)

我能够检索 PropertyStore 指针，但是当我尝试设置值“PKEY_EdgeGesture_DisableTouchWhenFullscreen”时，我收到此属性的链接器错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T14:44:29.757

该符号被导出以下 lib 文件。

```
C:\Program Files (x86)\Windows Kits\8.0\Lib>findstr /m /S /c:"PKEY_EdgeGesture
isableTouchWhenFullscreen" *.*

win8\um\arm\Uuid.Lib
win8\um\x64\ehstorguids.lib
win8\um\x64\Uuid.Lib
win8\um\x86\ehstorguids.lib
win8\um\x86\Uuid.Lib 
```

你修改了你的libpath吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-03T11:50:48.383

您只需要在以下位置创建（如果不存在）**EdgeUI**键：

> HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ImmersiveShell

并添加新的 DWORD 键：**DisableTLcorner** & **DisableCharmsHint**

对于禁用：

```
DisableTLcorner = 1 
DisableCharmsHint = 1 
```

对于启用更改为零或删除它们：

```
DisableTLcorner = 0 
DisableCharmsHint = 0 
```

这一切都可以在 MFC 中轻松完成！！！！

# xml - 如何在不硬编码usinf xslt的情况下从另一个xml生成xml属性值

> ID：14722155
> 
> 赞同：1
> 
> 时间：2013-02-06T05:22:48.640
> 
> 标签：xml, xslt, xslt-1.0, xslt-2.0

我看到了一个使用 JSTL 将 xml 转换为另一个 xml 的示例。但在那个例子中，他们对属性值进行了硬编码。请看下面的例子

**输入 XML**

```
country isocode="de" pk="8796093055010" uri="http://localhost:9001/ws410/rest/countries/de">
        <comments/>
        <creationtime>2011-08-03T21:53:35.624+05:30</creationtime>
        <dimVals/>
        <modifiedtime>2011-08-03T22:05:10.111+05:30</modifiedtime>
        <active>true</active>
        <name>Germany</name>
        <regions>
              <region isocode="DE-BW" pk="8796093055011" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-BW"/>
              <region isocode="DE-BY" pk="8796093087779" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-BY"/>
              <region isocode="DE-BE" pk="8796093120547" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-BE"/>
              <region isocode="DE-BR" pk="8796093153315" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-BR"/>
              <region isocode="DE-HB" pk="8796093186083" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-HB"/>
              <region isocode="DE-HH" pk="8796093218851" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-HH"/>
              <region isocode="DE-HE" pk="8796093251619" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-HE"/>
              <region isocode="DE-MV" pk="8796093284387" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-MV"/>
              <region isocode="DE-NI" pk="8796093317155" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-NI"/>
              <region isocode="DE-NW" pk="8796093349923" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-NW"/>
              <region isocode="DE-RP" pk="8796093382691" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-RP"/>
              <region isocode="DE-SL" pk="8796093415459" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-SL"/>
              <region isocode="DE-ST" pk="8796093448227" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-ST"/>
              <region isocode="DE-SN" pk="8796093480995" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-SN"/>
              <region isocode="DE-SH" pk="8796093513763" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-SH"/>
              <region isocode="DE-TH" pk="8796093546531" uri="http://localhost:9001/ws410/rest/countries/de/regions/DE-TH"/>
        </regions>
        <zones>
            <zone code="de" pk="8796093056179" uri="http://localhost:9001/ws410/rest/zones/de"/>
        </zones>
</country> 
```

**XSLT**

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <xsl:template match="/">
        <xsl:apply-templates select="/country/regions" />
    </xsl:template>

    <xsl:template match="regions">
        <RECORDS>
            <xsl:for-each select="region">
                <RECORD>
                    <PROP name="isocode">
                        <PVAL>
                            <xsl:value-of select="@isocode" />
                        </PVAL>
                    </PROP>
                    <PROP name="pk">
                        <PVAL>
                            <xsl:value-of select="@pk" />
                        </PVAL>
                    </PROP>
                    <PROP name="uri">
                        <PVAL>
                            <xsl:value-of select="@uri" />
                        </PVAL>
                    </PROP>
                </RECORD>
            </xsl:for-each>
        </RECORDS>
    </xsl:template>
</xsl:stylesheet> 
```

**输出 XML**

```
<?xml version="1.0" encoding="UTF-8"?>
<RECORDS>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-BW</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093055011</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-BW</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-BY</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093087779</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-BY</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-BE</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093120547</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-BE</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-BR</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093153315</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-BR</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-HB</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093186083</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-HB</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-HH</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093218851</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-HH</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-HE</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093251619</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-HE</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-MV</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093284387</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-MV</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-NI</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093317155</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-NI</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-NW</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093349923</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-NW</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-RP</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093382691</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-RP</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-SL</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093415459</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-SL</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-ST</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093448227</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-ST</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-SN</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093480995</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-SN</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-SH</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093513763</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-SH</PVAL>
        </PROP>
    </RECORD>
    <RECORD>
        <PROP name="isocode">
            <PVAL>DE-TH</PVAL>
        </PROP>
        <PROP name="pk">
            <PVAL>8796093546531</PVAL>
        </PROP>
        <PROP name="uri">
            <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-TH</PVAL>
        </PROP>
    </RECORD>
</RECORDS> 
```

在此输出 xml 中，我创建了许多 RECORD 子元素。我的问题是我想转换 PROB 名称属性（**) 没有硬编码的值。我需要从输入 xml读取**区域元素属性并将该值转换为输出 xml。**请帮助我找到解决方案。
谢谢...**

 *** * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:34:15.667

我相信这就是您正在寻找的：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <xsl:template match="/">
    <xsl:apply-templates select="/country/regions" />
  </xsl:template>

  <xsl:template match="regions">
    <RECORDS>
      <xsl:apply-templates select="region" />
    </RECORDS>
  </xsl:template>

  <xsl:template match="region">
    <RECORD>
      <xsl:apply-templates select="@*" />
    </RECORD>
  </xsl:template>

  <xsl:template match="region/@*">
    <PROP name="{name()}">
      <PVAL>
        <xsl:value-of select="." />
      </PVAL>
    </PROP>
  </xsl:template>
</xsl:stylesheet> 
```

在您的输入 XML 上运行时，这会产生输出：

```
<RECORDS>
  <RECORD>
    <PROP name="isocode">
      <PVAL>DE-BW</PVAL>
    </PROP>
    <PROP name="pk">
      <PVAL>8796093055011</PVAL>
    </PROP>
    <PROP name="uri">
      <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-BW</PVAL>
    </PROP>
  </RECORD>
  <RECORD>
    <PROP name="isocode">
      <PVAL>DE-BY</PVAL>
    </PROP>
    <PROP name="pk">
      <PVAL>8796093087779</PVAL>
    </PROP>
    <PROP name="uri">
      <PVAL>http://localhost:9001/ws410/rest/countries/de/regions/DE-BY</PVAL>
    </PROP>
  </RECORD>
  <!-- (Several more similar records) -->
</RECORDS> 
```**

# python - 当我从我的 python 脚本调用 .exe 文件时出错

> ID：14722157
> 
> 赞同：0
> 
> 时间：2013-02-06T05:22:58.420
> 
> 标签：python, wxpython, subprocess, exe

我`wxpython`用于 GUI 和 bash 的脚本。我必须`.exe`使用子进程从 Python 脚本运行文件。

**目的：**必须将参数从GUI传递到`.exe`文件，并且没有权限检查它。

我遇到问题的部分代码是：

```
import subprocess
def OnBound(self,event):
lan1 = self.sc1.Getvalue() ##interger value
arg = ('home/proj/lic.exe')
subprocess.call([lan1, arg], shell = True) 
```

每当我运行我的脚本时，我都会收到以下错误：

```
Traceback (most recent call last)
File "/usr/lib/python 2.7/subprocess.py", line 493, in call return popen(*popnargs, **kwargs).wait()
File "/usr/lib/python 2.7/subprocess.py", line 679, in __init__errread,errwrite)
File "/usr/lib/python2.7/subprocess.py", line 1239, in _execute_child raise child_exception
Type error: execv() arg 2 must contain only strings 
```

我在这里做错了什么？任何帮助/建议都会有所帮助，因为我是 python 新手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T08:11:09.753

的第一个参数中的所有项都`subprocess.call`必须是字符串：

```
rc = subprocess.call(['/home/proj/lic.exe', str(lan1)]) 
```

此外，您不应从 GUI 事件处理程序调用可能长时间阻塞的函数；它可以长时间冻结您的 GUI。您可以调用`subprocess.Popen`立即返回并安排空闲回调以定期轮询子进程状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T07:45:41.043

我不确定您要完成什么，但是我可以使用重现您的错误

```
import subprocess
subprocess.call([123, 'ls'], shell = True) 
```

或者

```
import subprocess
subprocess.call(['ls', ('-l',)], shell = True) 
```

在这两种情况下，我都将垃圾作为列表值之一传递（第一种情况是整数，第二种情况是元组）。

代码中的注释告诉它`lan1`是一个整数，所以你试图运行类似的东西

```
123 home/proj/lic.exe 
```

这是没有意义的。

像这样使用也更简单`subprocess`：

```
subprocess.call("ls -l | grep test", shell=True) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T08:15:40.010

我认为错误很清楚：“execv() arg 2 must contain only strings”，而您将整数作为第一个参数传递。将整数转换为字符串可以用`str()`

除此之外：`subprocess.call`接受一个字符串数组，其中第一个字符串是要调用的程序，其余的是要传递给该程序的参数。所以如果你想`home/proj/lic.exe`用一个参数`123`（或任何值`lan1`）调用，你应该切换顺序。

```
subprocess.call([arg, str(lan1)], shell = True) 
```

# javascript - 闪烁的星星背景错误 - HTML5 Canvas 和 Javascript

> ID：14722158
> 
> 赞同：0
> 
> 时间：2013-02-06T05:23:00.373
> 
> 标签：javascript, html, canvas, html5-canvas

我有一些 Javascript 代码可以在 a 上绘制一堆星星`<canvas>`并使它们也闪烁，但是我的代码根本不起作用。

所发生的情况是所有星星刚开始时都是完全不透明的（除了一些淡入然后保持完全不透明的星星）。我不知道为什么不透明度没有降低，因为我以为我已经在课堂上的`incrementOpcity()`方法中编程了`Star`。

我试图用一个对象来代表一颗星星，但我不确定我是否正确地实现了它。我也不知道我是否使用`<canvas>`错误的上下文。

谁能告诉我确切的问题是什么？

**代码可以在[这里找到](http://tinkerbin.com/SjIY8G2G)**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:04:41.967

主要问题是您在彼此之间绘制不同不透明度的盒子，而没有删除旧盒子。结果，您最终看起来就像一个奇异的白盒子，显示..

你还有两个我修复的错误。

你可以在这里看到我的改变：http: [//tinkerbin.com/ZfAxYXVs](http://tinkerbin.com/ZfAxYXVs)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:23:26.497

这是一个[更新的](http://tinkerbin.com/kqFEBlos)。

主要问题：

1.  您需要清除画布并每帧重绘黑色背景。

2.  您正在访问 中的`opacity`变量`fillStyle`，它应该在的位置`this.opacity`。

3.  您的边界检查不太有效。

# java - 解析如下所示的 JSON 日期：/Date(-62135596800000)/

> ID：14722168
> 
> 赞同：3
> 
> 时间：2013-02-06T05:24:22.027
> 
> 标签：java, json, gson

我在尝试用 Java 解析的一些数据中遇到了一个看起来很时髦的 JSON 日期：`/Date(-62135596800000)/`. 在没有减号的情况下解析这样的日期没有问题，但我不确定如何用减号解析它。仅供参考，我相信日期应该代表今天的某个时间（格林威治标准时间 + 13 年 6 月 2 日下午 4 点到 4 点 30 分之间）。

非常感谢您的帮助！

约瑟夫。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-02-11T17:04:59.407

这是从 WCF 或 MVC webservice 返回的空日期。它相当于空日期。

# php - CakePHP saveAll/saveAssociated 问题

> ID：14722170
> 
> 赞同：0
> 
> 时间：2013-02-06T05:24:22.443
> 
> 标签：php, cakephp, cakephp-2.0, cakephp-2.1

我对下面的 CakePHP 结果有点困惑。我包含了两个模型和一个控制器的代码（去掉了不必要的东西）。

**问题：一切都正确保存。唯一的问题是 store_users 表的 user_id 字段没有保存。**

有什么明显的你能看出我做错了吗？我尝试了 saveAssociated 和 saveAll。

**模型/Store.php**

```
<?php
App::uses('AppModel', 'Model');
class Store extends AppModel {
    public $belongsTo = array(
        'User'
    );
    public $hasMany = array(
        'StoreUser'
    );
} 
```

**模型/StoreUser.php**

```
<?php
App::uses('AppModel', 'Model');
class StoreUser extends AppModel {
    public $belongsTo = array(
        'User',
        'Store'
    );
} 
```

**控制器/StoresController.php**

```
<?php
App::uses('AppController', 'Controller');
class StoresController extends AppController {
    public $uses = array('Store');

    public function create() {
        $this->Store->create();
        $storeData = array(
            'Store' => array(
                'title' => 'New Store',
                'user_id' => $this->Auth->user('id')
             ),
             'StoreUser' => array(
                 'user_id' => $this->Auth->user('id')
              )
        );
        if($this->Store->saveAll($storeData) !== false) {
            // Success
        } else {
            // Error
        }
    }
} 
```

**数据库中的结果**

```
stores table:
    id: 1
    title: New Store
    user_id: 1
    ...

store_users table:
    id: 1
    store_id: 1
    user_id: 0
    ... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:35:14.260

找到了！因为*Store hasMany StoreUser*而不是*Store hasOne StoreUser*我必须将`user_id`提供的数据包装在一个数组中。

**控制器/StoresController.php**

```
<?php
App::uses('AppController', 'Controller');
class StoresController extends AppController {
    public $uses = array('Store');

    public function create() {
        $this->Store->create();
        $storeData = array(
            'Store' => array(
                'title' => 'New Store',
                'user_id' => $this->Auth->user('id')
             ),
             'StoreUser' => array(
                 array(
                     'user_id' => $this->Auth->user('id')
                 )
              )
        );
        if($this->Store->saveAll($storeData) !== false) {
            // Success
        } else {
            // Error
        }
    }
} 
```

# python - 我们是否可以一次连接到django中的多个数据库

> ID：14722172
> 
> 赞同：1
> 
> 时间：2013-02-06T05:24:23.963
> 
> 标签：python, mysql, django, settings

我正在将一些数据从一个数据库迁移到另一个（`db1`--> `db2`）。它`db1`在一个主机中并且`db2`在另一个主机中（因此，数据库位于不同的主机中）。我必须从中选择数据`db1`并插入`db2`. 由于我们可以在任何 .php 文件中在 PHP 中建立多个连接，但在 django 中我们在`settings.py`文件中建立连接，所以我担心我是否可以这样做`django`。

如果是，那么请建议我这样做的方法。

谢谢 ！！

**编辑 ：**

假设我像这样建立联系

```
 DATABASES = {
    'default': {
        'NAME': 'app_data',
        'ENGINE': 'django.db.backends.mysql',
        'USER': 'acd',
        'PASSWORD': 'aaa'
        "HOST": "host1",
        "PORT": "port1",
    },
    'users': {
        'NAME': 'app_data1',
        'ENGINE': 'django.db.backends.mysql',
        'USER': 'mysql_user',
        'PASSWORD': 'sdfa'
        "HOST": "host1",
        "PORT": "port1",
    }
} 
```

由于两个连接都有不同的主机和端口号，如文档中所述，它将建立连接。

但是我想使用原始的 sql 查询，所以我提到了哪个 sql 查询连接到哪个数据库，我提到了一些代码它会工作吗？

```
for db1  --  Author.objects.db_manager('app_data').raw('some query')
for db2  --- Author.objects.db_manager('app_data1').raw('some query') 
```

# iphone - 如何将图像从集合视图传递到iphone中的详细视图

> ID：14722174
> 
> 赞同：1
> 
> 时间：2013-02-06T05:24:37.067
> 
> 标签：iphone, ios, ios6

从远程 XML 检索数据，我可以在集合视图中显示图像。从这个集合视图中，我试图显示一个详细视图控制器，如果在集合视图控制器中单击图像，它应该在详细视图中显示图像。我被困在这里无法显示详细视图控制器。我哪里错了？请指导我。

下面是我的集合视图控制器，

```
- (void)viewDidLoad
  {
   [super viewDidLoad];
   xmlParser = [[MyXMLParser alloc] loadXMLByURL:@"http://MyXml.com/sample.xml"];
   myarray = xmlParser.arrayofimages;
  }

-(NSInteger)numberOfSectionsInCollectionView:(UICollectionView *)collectionView
  {
    return 1;
  }

-(NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section
  {
    return [myarray count];
  }

- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath 
  {
     MyCollectionViewCell *myCell = [collectionView dequeueReusableCellWithReuseIdentifier:@"MyCell" forIndexPath:indexPath];
     if (!myCell) {
         myCell = [[MyCollectionViewCell alloc] initWithFrame:CGRectMake(0,0,myCell.frame.size.width , myCell.frame.size.height)];
     }
    [myCell.tweetImageView setImage:[myarray objectAtIndex:indexPath.row]];
    return myCell;
  }

- (void)collectionView:(UICollectionViewCell *)collectionView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
  {
    DetailViewController *detailVC = [[DetailViewController alloc] initWithNibName:@"MyCell" bundle:[NSBundle mainBundle]];
    detailVC.img= [myarray objectAtIndex: indexPath.row];
    [self presentViewController:detailVC animated:YES completion:nil];
  } 
```

**细节视图控制器**

```
-(void)viewDidLoad
  {
   [super viewDidLoad];
   self.imageView.image = self.img;
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:37:14.537

在集合视图控制器中尝试，

```
[self.navigationController pushViewController:detailVC animated:YES]; 
```

你错过了这条线。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:46:10.760

您没有展示您的 detailview 控制器。你只是分配它。

代替：

```
- (void)collectionView:(UICollectionViewCell *)collectionView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
  {
    DetailViewController *detailVC = [[DetailViewController alloc] initWithNibName:@"MyCell" bundle:[NSBundle mainBundle]];
    detailVC.img= [myarray objectAtIndex: indexPath.row];
  } 
```

查看：

```
- (void)collectionView:(UICollectionViewCell *)collectionView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
  {
    DetailViewController *detailVC = [[DetailViewController alloc] initWithNibName:@"MyCell" bundle:[NSBundle mainBundle]];
    detailVC.img= [myarray objectAtIndex: indexPath.row];
   [self presentViewController:detailVC animated:YES completion:nil];
  } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T06:27:45.683

试试这个。呈现视图后分配图像

```
DetailViewController *detailVC = [[DetailViewController alloc] initWithNibName:@"MyCell" bundle:[NSBundle mainBundle]];
       [self presentViewController:detailVC animated:YES completion:nil];
    detailVC.img= [myarray objectAtIndex: indexPath.row]; 
```

# c# - 字典项目的问题

> ID：14722179
> 
> 赞同：0
> 
> 时间：2013-02-06T05:24:52.200
> 
> 标签：c#

我遇到了一个问题，不确定发生了什么，希望有人能提供帮助！

我正在从数据库中收集条目并将它们放入列表集合中，我正在使用此列表集合来填充“活动”事物的字典，我正在使用列表作为模板，并且“活动”条目项目都是被操纵，直到“活动”事物被移除并且“活动”事物的新实例被从列表集合中插入到字典中。我看到的问题是列表集合中的项目以及字典项目正在更新。

这至少对我来说是个问题。我可能做错了什么，希望有人能提供更好的解决方案。

例如：

```
 public class DataEntry
    {
        public string DataOne { get; set; }
        public int DataTwo { get; set; }

    }

public static List<DataEntry> dataCollection = new List<DataEntry>();
public static Dictionary<int, DataEntry> ActiveList = new Dictionary<int, DataEntry>();
private static int activeIndex = 0;

public static void LoadListFromDB()
{

    dataCollection.Add(new DataEntry() { DataOne = "Lakedoo", DataTwo = 25 });

    foreach (DataEntry de in dataCollection)
    {
        ActiveList.Add(activeIndex++, de);
    }

    for (int i = 0; i < 5; i++)
    {
        ActiveList[0].DataTwo -= 2;
    }

    if (ActiveList[0].DataTwo < 25)
    {
        ActiveList.Remove(0);
    }

    foreach (DataEntry de in dataCollection)
    {
        ActiveList.Add(activeIndex++, de);
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:35:06.447

你`ActiveList`和`dataCollection`都指向相同的`DataEntry`实例。

您必须先创建一个`Copy`dataEntry，然后再将其插入`ActiveList`. 请参阅[编写复制构造函数](http://msdn.microsoft.com/en-us/library/ms173116.aspx)。

然后做：

```
foreach (DataEntry de in dataCollection)
{
    ActiveList.Add(activeIndex++, new DataEntry(de));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:37:00.247

DataEntry 是一个类，因此是一个引用类型。您的 List 和 Dictionary 都不是您期望的数据集合，与内存中数据的*引用*集合一样多- 因此，两个集合都“指向”相同的 DataEntry 项。当您更改“列表内”的 dataEntry 项的值时，它会更改内存中的单个实例。当您说“列表集合中的项目以及字典项目正在更新”时，好吧，只有一个项目，两个集合都指向它。也许搜索“引用类型VS值类型”等...

编辑：查看这篇关于值 + 引用类型的文章，其中还描述了堆与堆栈（可能会向您解释更多的基础......） [http://msdn.microsoft.com/en-us/magazine/cc301717。 aspx](http://msdn.microsoft.com/en-us/magazine/cc301717.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:38:14.957

正如 Mitch 指出的那样，您正在存储对同一对象的引用。本质上，您正在创建一堆`DataEntry`对象并将它们放置在您的.`List``Dictionary``List`

```
// Create a DataEntry object
DataEntry de = new DataEntry() { DataOne = "Lakedoo", DataTwo = 25 };

// Add it to the List object
dataCollection.Add(de)

// Add it to the Dictionary object
ActiveList.Add(activeIndex++, de); 
```

此时您有**一个** `DataEntry`对象，但在`List`和 中对对象的两个引用`Dictionary`。因为它们都指向同一个`DataEntry`对象，所以如果你修改存储在其中一个中的对象，或者所做`List`的`Dictionary`更改将立即反映在另一个中。

`DataEntry`另外，你没有在类中使用构造函数是有原因的吗？

# python - 如何使用 python 显示 linux 分区？

> ID：14722189
> 
> 赞同：0
> 
> 时间：2013-02-06T05:25:52.620
> 
> 标签：python, linux

我正在尝试使用 python 显示 linux 的分区，我想使用 API 来做到这一点。我刚刚尝试了以下代码来获取输出。

```
import os

f = os.popen ("df -h")
for i in f.readlines():
print "myresult : ", i 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:38:13.037

该文件夹`/dev`包含各种设备。其中，名为`sd[a-z]n`( `/dev/sda1`，例如) 的设备（在具有 IDE 驱动器的旧机器上`hd[a-z]n)`，（其中 n 整数）是分区。您可以使用文件系统访问权限列出。

这有一些限制，例如将整个驱动器异常格式化为分区，但通常应该可以工作并且还可以检测非 Linux 分区以及一些幸运的 USB 记忆棒。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:01:10.187

df 命令用于 - 报告文件系统磁盘空间使用情况

我认为您需要 fdisk 用于 Linux 的分区表操纵器。

您可以使用 os.popen 或子进程。在运行 python 脚本之前只需要 root 用户登录。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-07T21:14:29.843

我知道这是旧的，但在 linux 上，`/proc/partitions`是一个列出分区的特殊文件，但你可能想要 `/proc/mounts`

# android - 如何在不使用 google places api 的情况下显示附近的位置？

> ID：14722192
> 
> 赞同：0
> 
> 时间：2013-02-06T05:26:41.107
> 
> 标签：android, mysql, google-maps

嗨，我正在开发一个 android 应用程序，我想在其中使用 GPS 向用户显示附近的位置。

我发现很多教程都推荐使用 google places api，但我的问题是我不想使用 google places api 但我需要在 MySQL 数据库中输入商店的名称，然后使用这个数据库来显示商店在谷歌地图和使用这个列表。

你能发布一些教程，我可以学习这样做，因为我真的是 android 新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:40:07.513

您可以使用适用于 Android 的[Google Maps API](https://developers.google.com/maps/documentation/android/)。在这里，您可以通过指定位置的坐标在地图上绘制标记。您还可以将标签、触摸响应对话框等附加到叠加层。

将您的位置数据存储在您的数据库中，包括它的名称和经纬度坐标。然后，您可以检索这些数据并将其传递给 api，并绘制叠加层和标记来表示您喜欢的位置。

给定的链接也有许多示例和教程。

# javascript - 将变量设置为功能非常奇怪的结果

> ID：14722193
> 
> 赞同：0
> 
> 时间：2013-02-06T05:26:42.050
> 
> 标签：javascript, jquery, ajax, api, wikipedia

我在javascript中有一个函数，它应该返回一个由维基百科页面链接到的所有文章的数组，给定标题。

这里是：

```
function getLinksFrom(title, returnArray, plcontinue) {
  var url = 'http://en.wikipedia.org/w/api.php?action=query&prop=links&titles=' + title + '&format=json&pllimit=500&plnamespace=0&callback=?';
  if (!returnArray) {
      returnArray = [];
  }
  if (!plcontinue) {
    plcontinue = '';
  }
  if (returnArray.length === 0 || plcontinue !== '') {
      if (plcontinue !== '') {
          url = 'http://en.wikipedia.org/w/api.php?action=query&prop=links&titles=' + title + '&format=json&pllimit=500&plnamespace=0&plcontinue=' + plcontinue + '&callback=?';
      }
      $.ajax({url: url, 
          dataType: 'json',
          async: false,
          success: function(data) {
              for (key in data['query']['pages']) {
                  links = data['query']['pages'][key]['links'];
              }
              for (var i = 0; i < links.length; i += 1) {
                  returnArray.push(links[i]['title']);
              }
              if (data.hasOwnProperty('query-continue')) {
                  plcontinue = data['query-continue']['links']['plcontinue'];
              } else {
                  plcontinue = '';
              }
              console.log(returnArray);
              return getLinksFrom(title, returnArray, plcontinue);
          }
      });
  }
  console.log(returnArray);
  return returnArray;
} 
```

当我运行这个函数并观察控制台时，console.log(returnArray); 行将我想要的内容放在控制台中。字符串数组。但这就是我感到困惑的地方。

我想将该 returnArray 存储在一个名为 links 的变量中。这是函数下方的那条线。

```
var links = getLinksFrom('United States'); 
```

但是链接最终并不等于之前记录的那个美妙的东西。相反，它包含一个对象数组，长度不正确。

这里发生了什么事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T08:25:10.643

由于`getLinksFrom`是异步函数，当 JS 评估函数调用时，它会立即将结果写入`links`变量。但是那个时候`returnArray`是空的！

看一下图片：

![在此处输入图像描述](../Images/3ec4fcabf60e3c12f181814459c2260c.png)

它表明，`returnArray`在将其分配给`links`变量之后，并且很可能在使用此变量之后，推送到发生。

所以如果你使用异步代码，你不能只做`a = b()`. 通常在这种情况下人们使用回调：（`b(function(a) { /* do something with a */ })`参数是一种“成功”函数）。因此，您应该重写代码以使用回调异步工作。

但是你的代码还有一个问题：你永远不会停止自我调用。每次成功请求后，您都会发送另一个请求并且永不停止。也许，在多次请求之后，您将不再获得任何有用的数据，那么为什么要用无用的请求来打扰远程服务器和用户的网络呢？完成后不要进行递归。取而代之的是，您可以调用`callback`以通知您的函数调用者您已完成。

# javascript - 对表格列进行排序并显示

> ID：14722197
> 
> 赞同：0
> 
> 时间：2013-02-06T05:27:10.280
> 
> 标签：javascript, jquery, jsp, struts2

我正在使用 JSP struts 2 创建一个动态表管理器，后端是普通的 oracle DB。

这一切都完成了。如果我将页面限制设置为 10，那么在更改页面时，只会获取并显示接下来的 10 组行。所以基本上在任何时候我的页面中都只有 10 行。现在我想在这个表管理器中添加按列排序的功能，它类似于一个 Excel 表，我们可以按列按升序或降序排序。

我该怎么做呢 ？

我的想法是每次单击列时，我都会执行操作并按升序或降序获取行。

这是最佳方式还是有其他最佳解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:30:35.960

您以 JSON 对象的形式获取所有数据并使用 javascript 创建表（您也可以提供分页 - 带有逻辑）。在javascript中创建一个创建表的函数。现在，只要完成排序（asc 或 desc），就在该特定列上对 JSON 对象进行排序。然后再次在 javascript 中调用您的“创建表”函数。这将防止进行服务器端调用或数据库调用。处理将在您的客户端完成，这将提高您的性能。
TIP：一次性获取所有表格数据并传给前端

**更新：**
对您的 json 对象进行排序 根据“名称”属性对对象进行排序
`var sortedArray = myArray.sort(function(a,b){
if (a.name < b.name)
return -1;
else if (a.name == b.name)
return 0;
else
return 1;
});`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T12:50:47.990

以下是您可以采取的多种方法

1.  使用 order by 对 DB 中的数据进行排序并显示结果。为此，您可以使用[DISPLAYTAG等支柱已经可用的显示标签](http://www.google.co.in/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CDQQFjAA&url=http://www.displaytag.org/&ei=1aITUfzfB8GUrges5YHICA&usg=AFQjCNHAJci2y_XPZ_JQtH-aWqe-Xa9Bvg&sig2=L6S2XsNRbunl2LD4pyodUQ&bvm=bv.42080656,d.bmk&cad=rja)

2\. 使用 JavaScript 库（如 Jquery 示例[TableSorter ）对 HTML 页面上的表格进行排序](http://tablesorter.com/docs/)

3.从 Db 中获取一次数据并将其存储在会话中并使用 java.util.Comparator 对其进行排序：请参阅[此](https://stackoverflow.com/questions/14712031/how-to-sort-database-results-not-populated-to-a-standard-result-table-in-a-jsp-p/14750874#14750874#answer-14750874)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T04:09:50.040

如果您只使用表格，请查看以下链接。它是 Jquery 数据表插件。它提供分页，选择每页最大行数和列排序。

[http://www.datatables.net/examples/](http://www.datatables.net/examples/)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-06T05:37:48.617

好的，你有两个选择，要么使用你自己的分页逻辑，要么尝试使用**struts2-jquery-grid-plugins**。

此链接是有关如何在应用程序中使用网格的完整文档

[http://code.google.com/p/struts2-jquery/wiki/GridTag](http://code.google.com/p/struts2-jquery/wiki/GridTag)

这是 struts2-grid-plugin 的工作演示

[http://struts.jgeppert.com/struts2-jquery-grid-showcase/index.action](http://struts.jgeppert.com/struts2-jquery-grid-showcase/index.action)

以及您可以在这里下载战争文件或源代码 [http://code.google.com/p/struts2-jquery/downloads/list](http://code.google.com/p/struts2-jquery/downloads/list) find **struts2-jquery-mobile-showcase-3.5.1.war**

# sql - 存储过程 EXEC 与 sp_executesql 的区别？

> ID：14722201
> 
> 赞同：37
> 
> 时间：2013-02-06T05:27:36.830
> 
> 标签：sql, sql-server, sql-server-2008, stored-procedures, sql-server-2012

我已经写了两个存储过程，一个有`sp_executesql`，另一个没有 sp_executesql

> EXEC (@SQL) 与 EXEC sp_executesql @SQL, N'@eStatus varchar(12)', @eStatus = @Status

以及 EXEC(@SQL) 如何容易发生 SQL 注入，而 sp_executesql @SQL...... 不是吗？

下面没有 sp_executesql 的存储过程

```
ALTER proc USP_GetEmpByStatus
(
@Status varchar(12)
)
AS
BEGIN
DECLARE @TableName AS sysname = 'Employee'
Declare @Columns as sysname = '*'
DECLARE @SQL as nvarchar(128) = 'select ' + @Columns + ' from ' + @TableName + ' where Status=' + char(39) + @Status + char(39)
print (@SQL)
EXEC (@SQL)
END

EXEC USP_GetEmpByStatus 'Active' 
```

下面带有 sp_executesql 的存储过程

```
create proc USP_GetEmpByStatusWithSpExcute
(
@Status varchar(12)
)
AS
BEGIN
DECLARE @TableName AS sysname = 'JProCo.dbo.Employee'
Declare @Columns as sysname = '*'
DECLARE @SQL as nvarchar(128) = 'select ' + @Columns + ' from ' + @TableName + ' where Status=' + char(39) + @Status + char(39)
print @SQL
exec sp_executesql @SQL, N'@eStatus varchar(12)', @eStatus = @Status
END

EXEC USP_GetEmpByStatusWithSpExcute 'Active' 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-06T05:38:45.900

您的**sp_executesql** SQL 应该是；

```
DECLARE @SQL as nvarchar(128) = 'select ' + @Columns + ' from ' + 
            @TableName + ' where Status=@eStatus' 
```

这将允许您使用 @eStatus 作为参数调用 sp_executesql，而不是将其嵌入到 SQL 中。这将带来@eStatus 可以*包含任何字符*的优势，并且如果需要安全，它将被数据库自动正确转义。

**将其与EXEC**所需的 SQL 进行对比；

```
DECLARE @SQL as nvarchar(128) = 'select ' + @Columns + ' from ' + 
            @TableName + ' where Status=' + char(39) + @Status + char(39) 
```

...其中嵌入的 char(39) @Status 将使您的 SQL 无效，并可能创建 SQL 注入的可能性。例如，如果 @Status 设置为`O'Reilly`，则生成的 SQL 将是；

```
select acol,bcol,ccol FROM myTable WHERE Status='O'Reilly' 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T05:37:40.370

使用`sp_executesql`，您不必像那样构建查询。你可以这样声明：

```
DECLARE @SQL as nvarchar(128) = 'select ' + @Columns + ' from ' + 
@TableName + ' where Status=@eStatus' 
```

这样，如果您的`@Status`价值来自您可以使用的用户`@eStatus`，而不必担心转义`'`。sp_executesql 使您能够以字符串形式将变量放入查询中，而不是使用连接。因此，您不必担心。

列和表变量仍然相同，但不太可能直接来自用户。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-09-22T08:04:07.143

使用*Exec*您的 T-Sql 语句字符串中不能有**占位符。**

*sp_executesql* 为您提供了具有占位符并在**运行时传递实际值的优势**

# asp.net - 下拉未正确加载

> ID：14722204
> 
> 赞同：0
> 
> 时间：2013-02-06T05:27:41.717
> 
> 标签：asp.net, .net

尊敬的用户，

我的应用程序中有两个下拉菜单，分别是 ddlCountry 和 ddlState。我有数据库

tlb国家

身份证(PK) | 国家的名字

状态

身份证(PK) | 国家名称 | 州名

在加载页面时，我已将 ddlCountry 下拉列表中的所有项目加载为

```
sqldataadapter da=new sqldataadapter("select countryName from tlbCountry",con);
dataset ds=new dataset();
da.fill(ds);
for(int i=0;i<ds.tables[0].rows.count;i++)
ddlCountry.items.add(ds.Tables[0].Rows[i][0].toString()); 
```

当页面被加载时，它的工作正常。但是，当发生 ddlCountry 的 Textchange 或选择更改事件时，它会尝试从 tlbStates 表中获取相应状态的值，如下所示。它不工作，我做了如下，

```
sqldataadapter da=new sqldataadapter("select stateName from tlbState where countryName like '"+ddlCountry.selectedItem.toString()+"'",con);
dataset ds=new dataset();
da.fill(ds);
for(int i=0;i<ds.tables[0].rows.count;i++)
ddlState.items.add(ds.Tables[0].Rows[i][0].toString()); 
```

在这种情况下，它不会加载 ddlState 下拉列表。

当我为 ddlCountry 打开自动回发时，它会再次重新加载 ddlState 中没有值的页面。可能是什么问题？

注意：- 我使用了 AJAX 更新面板。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:42:00.680

将您的查询更改为：

```
"select stateName from tlbState where countryName = '" + ddlCountry.Text + "'" 
```

仅`ddlCountry`当请求不是`PostBack`

```
 protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        { 
            //Load Countires
            sqldataadapter da = new sqldataadapter("select countryName from tlbCountry", con);
            dataset ds = new dataset();
            da.fill(ds);
            for (int i = 0; i < ds.tables[0].rows.count; i++)
                ddlCountry.items.add(ds.Tables[0].Rows[i][0].toString());
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:51:13.860

希望它会帮助你。

```
if (!IsPostBack)
{ 
  //here bind country drop down on page load event.
} 
```

然后在 ddlCountry 绑定状态下拉列表的选择更改事件上

# dynamics-crm-2011 - CRM 2011 导入价目表

> ID：14722206
> 
> 赞同：1
> 
> 时间：2013-02-06T05:27:48.487
> 
> 标签：dynamics-crm-2011

如何在导入时创建不同实体的记录？
我有描述产品的自定义实体；如部门、制造商和类别。

要求是执行创建和更新记录的单个导入；
这包括（可能）多个价目表的价目表项目。

另一个要求是查看将创建/更新的所有记录。

目前我有一个名为**staging**的实体，我导入到该实体。
插件监听**创建**并单独处理每个记录 - 创建/更新多个实体。
有没有更好的方法来解决这个问题？

等式的另一面是查看系统中会发生什么变化。
我有另一个名为**import**的自定义实体，为每个导入创建与相应导入具有相同序列号的单个记录。
html Web 资源以列表的形式显示将要进行的更改。
Web 资源查询 CRM 上的 JavaScript（大导入可能是个问题）

在**导入**实体的功能区上有一个名为*process import*的按钮，它会触发另一个插件（它正在侦听另一个实体的**Create**，**internalprocessimport**，功能区的 JavaScript按钮创建此实体的记录 - 也使用原始*导入序列号*），此插件处理所有**暂存**具有正确*importsequencenumber*的实体。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:27:19.523

当您说*view what will change*时，您指的是基于文本的日志，其中列出了已完成的操作？如果是这样，您可以向*暂存*实体添加一个字段并让它的插件写入它，也许。

只需确保截断文本块，使其大小适合文本字段的最大长度。否则你会对随之而来的错误信息感到困惑。

此外，当您创建实体时，您是否使用*QueryExression*对象？我相信 CRM 应该在 UR12 中更好地处理多个操作。不过，我自己还没有测试过。

# mysql - 将旧数据库转储中的数据导入（填充）到新数据库 - Rails

> ID：14722207
> 
> 赞同：0
> 
> 时间：2013-02-06T05:27:50.687
> 
> 标签：mysql, ruby-on-rails-3, sqlite, migration

我有一个要移植到 Rails 的 php 应用程序。我在我的 Rails 应用程序中创建了数据库模式，并希望将一些生产数据导入到 sqlite 数据库中进行测试 - 一些用户、徽章表等。有没有一种简单的方法可以从 sql 文件或其他类型的文件中执行此操作数据库转储？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T14:37:26.767

对于 Sqlite，假设您已经创建了可以使用的表：

```
sqlite> .read <sqlfile.sql> 
```

如果 SQL 文件包含插入语句。每个语句都应该以分号结尾。

您可以使用：

```
sqlite> .import <csvfilename.csv> <tablename> 
```

如果 CSV 文件是这样的：

```
Data for Col1|Data for Col2|Data for Col3|... 
```

或者，如果您想要逗号分隔的值：

```
sqlite> .separator ","
sqlite> .import <csvfilename.csv> <tablename> 
```

# linux - udevlib udevlib 是否与 mdev 一起使用

> ID：14722216
> 
> 赞同：0
> 
> 时间：2013-02-06T05:28:41.113
> 
> 标签：linux, embedded-linux, udev

我们必须枚举船上的 USB 设备。我们可以用 mdev 而不是 udev 构建busybox吗？如果我们有 mdev，我们是否也可以使用 udevlib 函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T05:37:57.443

是的。[Hallinan](https://rads.stackoverflow.com/amzn/click/com/0137017839)的解释很好，如果你在谷歌上搜索“19.8.1 busybox mdev”，你可能会得到这个主题所需的一切（但是，也买这本书，它真的很棒）。是的，删除 udev 但保留 hotplug 和 sysfs，也可以参考[gentoo/mdev](http://wiki.gentoo.org/wiki/Mdev)。

# ruby - 简化的 Ruby 代码部署

> ID：14722222
> 
> 赞同：7
> 
> 时间：2013-02-06T05:29:02.113
> 
> 标签：ruby, deployment, isolation-frameworks

这是我想象中的开发和部署过程：

1.  创建项目目录`my_project`。
2.  将所需的 Ruby 版本安装到其中。
3.  安装所需的 gem。
4.  写一些代码。
5.  用来`fpm`包装整个东西。
6.  将 debian 软件包运送到生产箱并安装。

我使用 RVM 和 Bundler 来解决一些痛点，但 RVM 并不关心创建可重定位的 Ruby 安装，因此您不能`~/.rvm/rubies`进入项目目录并期望一切顺利。您必须重写各种硬编码`#!`行，并且在某些情况下，您必须将`.so`文件移动到`lib`目录中。我通过搜索互联网编写了一组脚本，它们一起完成了我想要的，但整个事情感觉就像一个巨大的黑客攻击。

我不小心偶然发现了[https://github.com/ot/bpt](https://github.com/ot/bpt)，它可以用来构建允许完全可重定位的 Ruby 安装的东西，但是该项目已经有两年多没有被触及了，所以我有点犹豫在它之上构建一些东西。

对于我没有看到的这个问题，有没有更优雅的解决方案？人们如何隔离和部署 Ruby 项目？我觉得这应该是一个已解决的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:18:46.457

与您所描述的最接近的是[Tokaido](http://yehudakatz.com/2012/04/13/tokaido-my-hopes-and-dreams/ "东海道")，而 AFAIK 它仍在进行中。想到的另一个项目是[Vagrant](http://docs.vagrantup.com/v1/docs/getting-started/why.html)，尽管它主要用于开发。

# macos - NSTextView 的 insertText: *really* 不适合对文本进行编程修改吗？

> ID：14722223
> 
> 赞同：7
> 
> 时间：2013-02-06T05:29:11.800
> 
> 标签：macos, cocoa, nstextview

我编写了一个 NSTextView 子类，它经常对自身内部的文本进行编程修改（有点像 IDE 的代码格式——例如，自动插入右括号）。

我最初的实现使用了 NSTextView 的`insertText:`. 这实际上似乎工作得很好。但是在阅读[NSTextView 文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSTextView_Class/Reference/Reference.html)时（我有时会这样做），我在[讨论部分注意到`insertText:`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSTextView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSTextView/insertText%3a)

> 此方法是插入用户键入的文本的入口点，一般不适合其他用途。最好通过直接对文本存储进行操作来对文本进行编程修改。

哦，我的错，我想。因此，我尽职尽责地将所有 insertText 调用更改为对底层 NSTextStorage ( `replaceCharactersInRange:withString:`，主要是) 的调用。这似乎工作正常，直到我注意到它完全搞砸了 Undo（当然，因为 Undo 是由 NSTextView 处理的，而不是 NSTextStorage）。

因此，在我拖出并在我的文本存储中放置一堆撤消代码之前，我想知道我是否可能被朋克，真的`insertText:`不是那么糟糕吗？

对，所以我的问题是：NSTextView 的`insertText:`调用是否真的“不适合”以编程方式修改 NSTextView 的文本，如果是，为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T13:28:27.137

`insertText:`是一种方法`NSResponder`——通常这些会被认为是响应用户事件的方法。在某种程度上，它们暗示了“用户行为”。当文档告诉您`NSTextStorage`如果要以编程方式更改内容时直接编辑时，“以编程方式”一词被用来区分*用户意图*和应用程序操作。如果您希望您的更改可以撤消，就好像它们是用户操作`insertText:`一样，那么似乎可以使用。也就是说，大多数情况下，如果修改不是由用户操作发起的，那么用户不会认为它是可撤消的操作，并且将其作为可撤消的操作单元会导致混淆。

例如，假设我将一个单词“foo”粘贴到您的文本视图中，然后您的应用程序将该单词涂成红色（无论出于何种原因）。如果我然后选择撤消，我希望我的*操作*是被撤消的事情，而不是着色。着色不是我的*用户意图*的一部分。如果我必须再次按下 Cmd-Z 才能真正撤消我的操作，我会想，“WTF？”

`NSUndoManager`支持通过`beginUndoGrouping`和对事件进行分组`endUndoGrouping`。这可以允许将用户意图单元（粘贴操作）与应用程序着色组合成单个撤消“单元”。在最简单的情况下，您可能想在此处尝试设置`groupsByEvent`为`NSUndoManager`YES，然后找到一种方法来触发应用程序的操作，使其与用户操作在 runLoop 的同一通道中发生。这将导致`NSUndoManager`它们自动分组。

除此之外，假设您的程序修改需要异步进行或其他方式，您将需要自己管理这些分组，但这可能并不容易实现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-26T05:02:47.357

自从我发布了这个问题以来，我已经推进了我最初的实现，它似乎工作得很好。所以我认为这个问题的答案是：

> insertText：完全适合文本的编程修改，*针对这个特殊的用例*。

我相信这个注释是指纯编程修改文本，例如，设置一个textview的所有文本。我可以肯定地看到这`insertText:`不合适。然而，对于我的预期目的——添加或编辑字符以直接响应用户操作——`insertText:`是完全合适的。

为了使我的文本修改与触发它们的用户交互具有原子性（正如@ipmcc 在他的回答中提到的那样），我在`insertText:`覆盖中进行了自己的撤消处理。[我在@pjv 的类似问题](https://stackoverflow.com/questions/5585944/cocoa-looking-for-a-general-strategy-for-programmatic-manipulation-of-nstextvie)中写过这个。[github](https://github.com/zpasternack/CustomTextView)上还有一个示例项目，我可能会在某个时候将它写[在我的博客](http://zpasternack.org)上。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-05-25T13:15:37.797

我不知道您是否在几年前看到过[我的类似问题](https://stackoverflow.com/questions/5585944/cocoa-looking-for-a-general-strategy-for-programmatic-manipulation-of-nstextvie/16748103?iemail=1&noredirect=1#16748103)`NSTextStorage`，但我可以告诉您@ipmcc 是正确的，并且尝试手动管理撤消堆栈同时对其进行编程更改是非常重要的。我花了数周时间，但失败了。

但是你的问题和@ipmcc 的回答让我觉得我想要做的事情（听起来和你想要做的事情几乎完全一样）实际上可能更多地是在响应用户意图而不是什么文档意味着程序化更改。因此，也许您最初的使用解决方案`insertText:`是正确的方法。自从我放弃我的项目已经很久了，我不记得我是否曾经尝试过，但我认为我没有这样做，因为我试图只使用委托方法来构建我的编辑器，而没有子类化`NSTextView`。

在我的情况下，例如，如果用户选择一些文本并点击左括号或右括号键，而不是用括号替换所选文本的默认行为，我想要做的是将所选文本包装在括号中. 如果用户然后点击 cmd-Z，我希望括号消失。

# rpm - %ifarch 宏在 spec 文件中

> ID：14722226
> 
> 赞同：1
> 
> 时间：2013-02-06T05:29:35.447
> 
> 标签：rpm, rpmbuild, specifications

规范文件中“%ifarch”宏的结果是什么。要构建一个包，我们必须将“--target”（比如 i386）作为一个参数传递给 rpmbuild。如果是这样，%ifarch 的值是否会变成 i386。否则 %ifarch 是我们正在构建包的机器的架构，或者是我们正在安装包的机器的架构？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T02:01:47.903

%ifarch 条件只是说“如果架构相当于 $MYARCH，请运行以下命令”。您提供的上下文没有提供足够的信息来提供更多详细信息。您应该在 rpm.org 上查看条件文档。

# selenium - Selenium RC 卡在“检查资源别名”

> ID：14722227
> 
> 赞同：3
> 
> 时间：2013-02-06T05:29:36.020
> 
> 标签：selenium, selenium-rc

我是 selenium 新手，在运行 selenium RC 时遇到问题。

实际上，我已经通过录制了一个脚本`selenium IDE`并将其保存为，`test.html`并且我可以通过运行脚本`selenium IDE`但是当我尝试通过`selenium RC`它运行脚本时，它会在某个时候卡住并在控制台中显示以下消息“检查资源别名”

**通过命令提示符运行脚本的命令：**

`java -jar selenium-server.jar -htmlSuite "*firefox" "www.google.com" "test.html" -port 4445`

让我知道发生这种情况的确切原因？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T17:59:08.710

您还应该将测试保存为测试套件。

最后，您将拥有两个 HTML 文件，即测试套件和测试用例（或更多，如果您愿意）。使用 -htmlSuite 参数运行 selenium 的命令 java -jar .... 采用 HTML 测试套件，而不是测试用例。

我遇到了同样的问题，并且在通过测试套件后，因为参数发挥了作用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-25T12:22:59.667

**Step-1:**请创建一个新的 html 文件 TestSuite.html

```
<html>
<head>
    <title>My Application Test Suite</title>
</head>
<body>
    <table> 
        <tr><td><b>Suite Of Tests</b></td></tr> 
        <tr><td><a href="./OPSTest.html">Test Example</a></td></tr>
    </table> 
</body> 
```

**步骤2：**重命名`OPSTest.html`为您的文件名`test.html`。

**步骤 3：**在命令行中运行此命令

```
java -jar selenium-server.jar -htmlSuite "*firefox" "www.google.com" "TestSuite.html" -port 4445 
```

# python - 通过 Safari 和 Firefox 访问时的 Python SSL 服务器 SSLSocket SSLError

> ID：14722238
> 
> 赞同：3
> 
> 时间：2013-02-06T05:30:48.533
> 
> 标签：python, sockets, ssl, ssl-certificate, self-signed

我正在为一个类编写一个简单的服务器，并且有一个“创意”组件，所以我想向它添加 SSL。我正在尝试将连接包装在 SSLSocket 中，但我得到了两个我无法弄清楚的不同错误。当我尝试包装套接字时，第一次发生在 Safari 上，我得到：

```
Traceback (most recent call last):
  File "./junk.py", line 12, in <module>
    connstream = ssl.wrap_socket(connected_socket,certfile="cert.pem",keyfile="cert.pem",server_side=True,cert_reqs=ssl.CERT_NONE,ssl_version=ssl.PROTOCOL_TLSv1,suppress_ragged_eofs=True)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py", line 372, in wrap_socket
    ciphers=ciphers)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py", line 134, in __init__
    self.do_handshake()
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py", line 296, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLError: [Errno 8] _ssl.c:503: EOF occurred in violation of protocol 
```

当 Safari 告诉用户证书无效时（我通过命令创建了一个自签名证书：）`openssl req -new -x509 -days 365 -nodes -out cert.pem -keyout cert.pem`，然后一旦我告诉它证书没问题，下次它就会通过。

但是，使用 Firefox，我得到一个完全不同的错误，当我尝试读取客户端 (Firefox) 发送到服务器的内容时​​会发生这种情况：

```
Traceback (most recent call last):
  File "./junk.py", line 13, in <module>
    recieved = connstream.read() 
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py", line 151, in read
    return self._sslobj.read(len)
ssl.SSLError: [Errno 1] _ssl.c:1354: error:14094418:SSL routines:SSL3_READ_BYTES:tlsv1 alert unknown ca 
```

下面是我使用的代码：

```
 1 #!/usr/bin/python
  2 import socket
  3 import ssl
  4 
  5 serverPort = 22222
  6 serverSocket = socket.socket( socket.AF_INET, socket.SOCK_STREAM )
  7 serverSocket.bind( ( '127.0.0.1', serverPort ) )
  8 serverSocket.listen( 10 )
  9 
 10 while True:
 11     connected_socket, from_addr = serverSocket.accept()
 12     connstream = ssl.wrap_socket(connected_socket,certfile="cert.pem",keyfile="cert.pem",server_side=True,cert_reqs=ssl.CERT_NONE,ssl_version=ssl.PROTOCOL_TLSv1,suppress_ragged_eofs=True)
 13     recieved = connstream.read()
 14     print recieved
 15     connstream.unwrap()
 16     connected_socket.close() 
```

谁能帮我理解：

1) 这些错误是什么意思

2）我为什么要买它们

3）我该如何解决这些问题

（我已经搜索了几乎所有我能想到的方式）

谢谢，

安德鲁

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:09:30.333

对不起，我还不能发表评论：这不是一个答案。

为什么总是重新发明轮子？我的意思是，如果你想要基于 python 的东西，为什么不使用 Tornado 呢？顺便说一句，你可以在那里看到他们如何解决这个问题：[http ://www.tornadoweb.org/documentation/httpserver.html](http://www.tornadoweb.org/documentation/httpserver.html)

人们似乎总是为了“教育目的”或者因为现有的解决方案过于“臃肿”、“沉重”等而重新发明轮子（好吧，总结一下“*这里没有发明*”）。这是一种耻辱，因为同样的事情一遍又一遍地做，通常是错误的方式。

Safari 只是不尊重握手，当然是因为您的证书是自签名的。Firefox 只是不会接受您的证书，因为它是自签名的。这些错误是正常的：用户必须接受浏览器中的“可信”连接。同时，您的服务器没有收到任何答复或拒绝。

看看 Tornado 看看他们是如何处理的。但我真的认为你最好研究它，使用它并为它做出贡献，而不是创建一个全新的、半损坏的 http 服务器。

# java - 如何将数据存储在两个表中

> ID：14722240
> 
> 赞同：-2
> 
> 时间：2013-02-06T05:30:53.893
> 
> 标签：java, stored-procedures, jdbc, prepared-statement

我要存储以下数据是mysql数据库如何编写jdbc程序来存储以下数据

我有下表

```
message(messageid, message_heading ,message_data)
msgTag(tagid,tag,messageid) 
```

我有 fowwing 数据 你好，你好吗（消息标题）

你好，你好吗....我很好（message_data）

标签-> abc, rst def, mer, hat

我想在我上面提到的表格中存储上面的数据怎么做。

它还必须使用事务控制

我已经完成了以下编码

```
PreparedStatement msg = null;
PreparedStatement tags = null;

String querymsg =
    insert in to msg value(?,?,?);

String querytags =
               insert in to msg value(?,?,?);        
try {
    con.setAutoCommit(false);
   insertmsg = con.prepareStatement(querymsg);
    inserttags = con.prepareStatement(querytags);

        insertmsg.setString(1,msgid);
        insertmsg.setString(2,message_heading);
        insertmsg.setString(3,message_data);
        insertmsg.executeUpdate();

        inserttags.setString(1,tagid);
        inserttags.setString(2,tag);
        inserttags.setString(3,messageid);
        inserttags.executeUpdate();
    }
} catch (SQLException e ) {

    if (con != null) {
        try {
            System.err.print("Transaction is being rolled back");
            con.rollback();
        } catch(SQLException excep) {
            JDBCTutorialUtilities.printSQLException(excep);
        }
    }
} finally {
    if (insertmsg != null) {
        insertmsg.close();
    }
    if (inserttags != null) {
        inserttags.close();
    }
    con.setAutoCommit(true);
}
} 
```

我想更改以下代码，以便将多个标签存储在与一条消息相关的表中，并且应该保持事务控制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:57:10.723

```
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

public class InsertRecordsUsingPreparedStatement {
  public static Connection getConnection() throws Exception {
    String driver = "com.mysql.jdbc.Driver";
    String url = "jdbc:mysql://localhost:3306/databaseName";
    String username = "username";
    String password = "password";
    Class.forName(driver);
    Connection conn = DriverManager.getConnection(url, username, password);
    return conn;
  }

  public static void main(String[] args) throws Exception {
    Connection conn = null;
    PreparedStatement pstmt = null;
    try {
      conn = getConnection();
      String query = "insert into message values(?, ?, ?)";

      pstmt = conn.prepareStatement(query); // create a statement
      pstmt.setInt(1, 5); // set input parameter 1
      pstmt.setString(2, "head5"); // set input parameter 2
      pstmt.setString(3, "data5"); // set input parameter 3
      pstmt.executeUpdate(); // execute insert statement
      pstmt = conn.prepareStatement("insert into msgtag values(?, ?, ?)"); // create a statement
      pstmt.setInt(1, 55); // set input parameter 1
      pstmt.setString(2, "tag5"); // set input parameter 2
      pstmt.setInt(3, 5); // set input parameter 3
      pstmt.executeUpdate(); // execute insert statement
    } catch (Exception e) {
      e.printStackTrace();
    } finally {
      pstmt.close();
      conn.close();
    }
  }
} 
```

# android - 更好的解决我的实时在线安卓游戏

> ID：14722243
> 
> 赞同：0
> 
> 时间：2013-02-06T05:31:10.883
> 
> 标签：android, multiplayer

不久前，我为 Android 开发了一款琐事游戏，可让您实时与世界上任何可用的人进行正面交锋。这是实时的，因为您可以看到其他玩家正在选择什么。由于我熟悉 PHP 和 MySQL，所以我选择在服务器端使用它来处理所有事情。我知道这不是很有效，因为游戏在整个回合中不断地向/从数据库发送/接收信息，并且尽可能快。这已经工作了一年多，但我真的没有同时拥有大量玩家，而且我知道必须有更好、更快、更可靠的方法。我打算把它做成一个 4 人游戏，我知道数据库会受到重创，并且很难让所有玩家保持同步。

什么是合适的方法来做到这一点？这是插座的东西吗？我现在使用的方法是否可以用于实时游戏，我只需要专注于改进我所拥有的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:04:25.860

原始套接字需要您处理很多问题。移动网络很容易断开连接。您要开发的内容类似于在用户之间发送数据的聊天应用程序。默认情况下，PHP 不是最适合这个。

您可以围绕 XMPP 服务器构建它。关键是能够向客户端发送异步响应。如果您需要更多控制，您可以在[socket.io](http://socket.io/)或[SignalR](http://signalr.net/)等框架上构建它。

# ios - 我正在使用 iCloud，我对 NSMetadataUbiquitousItemIsDownloadedKey 感到困惑

> ID：14722248
> 
> 赞同：0
> 
> 时间：2013-02-06T05:31:29.327
> 
> 标签：ios, icloud

我阅读了 Apples 文档并获得了以下信息， NSMetadataUbiquitousItemIsDownloadedKey 该值是一个 NSNumber 对象，其中包含一个布尔值，指示该项目的当前版本是否已下载并在本地可用。

所以现在的查询是假设我有两个设备 iPhoneA 和 iPhoneB，并且有一个名为 file1 的通用文件，现在假设我现在在两个设备上都有 iCloud 版本的 file1，所以 NSMetadataUbiquitousItemIsDownloadedKey 在两个设备上的 file1 都将为 1。

然后我在 iPhoneB 上修改 file1 并将其上传到 iCloud，所以现在当我在 iPhoneA 上运行应用程序并启动 iCloud 同步时，文件 1 的 NSMetadataUbiquitousItemIsDownloadedKey 的值是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:27:56.797

在这种情况下，NSMetadataUbiquitousItemIsDownloadedKey 的值将为 1。

# c# - 通过网络流发送课程

> ID：14722249
> 
> 赞同：0
> 
> 时间：2013-02-06T05:31:33.080
> 
> 标签：c#, serialization, networkstream

因此，我尝试使用以下代码通过网络流发送“数据包”类：

```
IFormatter formatter = new BinaryFormatter();
NetworkStream stream = client.GetStream();
formatter.Serialize(stream, packet);

stream.Flush();
stream.Close();
client.Close(); 
```

使用这个类：

```
[Serializable]
public class Packet
{

    public string header;
    public string content;
    public int size = 0;

    public Packet(string header, string content)
    {
        this.header = header;
        this.content = content;

        size = Encoding.ASCII.GetByteCount(header) + Encoding.ASCII.GetByteCount(content);
    }
} 
```

但是在另一边阅读时出现以下错误：

```
'System.Runtime.Serialization.SerializationException: Unable to find assembly 'Client, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.' 
```

这是我的阅读代码：

```
NetworkStream ns = client.GetStream();
IFormatter formatter = new BinaryFormatter();
Packet p = (Packet)formatter.Deserialize(ns);
MessageBox.Show(p.header);
return p; 
```

知道为什么会这样吗？

编辑：

服务器端数据包类：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Server
{

    public class Packet
    {
        public string header;
        public string content;
        public int size = 0;

        public Packet(string header, string content)
        {
            this.header = header;
            this.content = content;

            size = Encoding.ASCII.GetByteCount(header) + Encoding.ASCII.GetByteCount(content);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:51:53.180

您不能对来自一个程序集的*对象*进行二进制序列化，并针对来自不同程序集的类对其进行反序列化。

您需要从客户端和服务器都引用第三个程序集。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:50:13.093

当您从 BinaryFormatter 反序列化时，该类必须可用。这就是错误所说的。

我假设 Packet 类是在 Client.dll 中定义的。如果是这样，那么只需在“服务器”项目中引用 Client.dll 并删除服务器中的数据包定义。

一般的做法是拥有一个可以与 Client 和 Server 共享的 DataModel 程序集。

此外，如果您使用`XmlSerializer`而不是 BinaryFormatter，那么您可以在客户端和服务器上拥有该类的不同实现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:56:15.583

您创建了两个单独的（尽管功能相同）Packet 类，并且您的客户端无法反序列化与已序列化的类型不同的类型，即使它们具有相同的名称和结构。

尝试在类库类型的单独的第三个项目/程序集中定义 Packet 类。之后，从您的客户端和服务器中引用该项目或程序集。更正确的是，您将在此类库中定义一个 Interface IPacket 并在您的客户端和服务器中简单地实现它。

希望有帮助。

# ios - @synchronized 块与 GCD dispatch_async()

> ID：14722252
> 
> 赞同：8
> 
> 时间：2013-02-06T05:31:52.463
> 
> 标签：ios, objective-c, grand-central-dispatch

本质上，我在 a 中有一组数据`NSDictionary`，但为了方便起见，我设置了一些`NSArray`s，其中数据以几种不同的方式排序和过滤。数据将通过不同的线程（块）进入，我想确保一次只有一个块修改我的数据存储。

今天下午我遇到了设置调度队列的麻烦，然后偶然发现了一篇关于`@synchronized`这件事的帖子，这看起来就像我想做的事情。

所以我现在拥有的是...

```
// a property on my object
@property (assign) dispatch_queue_t matchSortingQueue;

// in my object init
_sortingQueue = dispatch_queue_create("com.asdf.matchSortingQueue", NULL);

// then later...
- (void)sortArrayIntoLocalStore:(NSArray*)matches
{
    dispatch_async(_sortingQueue, ^{
      // do stuff...
    });
} 
```

我的问题是，我可以用以下内容替换所有这些吗？

```
- (void)sortArrayIntoLocalStore:(NSArray*)matches
{
    @synchronized (self) {
      // do stuff...
    };
} 
```

......无论如何，两者之间有什么区别？我应该考虑什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T05:51:50.427

尽管功能差异对您来说可能并不重要，但这正是您所期望的：如果您这样做，那么您`@synchronize`所在的线程将被阻塞，直到它可以独占执行。如果您异步调度到串行调度队列，那么调用线程可以继续处理其他事情，无论您实际在做什么，都将始终发生在同一个已知队列上。

因此，它们等效于确保一次仅从一个队列中使用第三种资源。

例如，如果您有一个可由用户界面从主队列访问的资源，并且您想改变它，那么调度可能是一个更好的主意。然后你的用户界面代码不需要显式地`@synchronize`隐藏你的线程方案的复杂性在对象中很自然。如果您有一个可以在其他不同参与者上触发其中一些更改的中心参与者，那么调度也是一个更好的主意；这将允许它们同时运行。

同步更紧凑，更容易进行单步调试。如果您正在做的事情往往是两三行，并且无论如何您都需要同步调度它，那么感觉创建队列的努力是不值得的 - 特别是当您考虑创建的隐含成本时一个块并将其移到堆上。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T05:45:52.587

在第二种情况下，您将阻塞调用线程，直到“做事”完成。使用队列和 dispatch_async 你不会阻塞调用线程。如果您从 UI 线程调用 sortArrayIntoLocalStore，这将特别重要。

# xcode4 - 为 iPhone 设备构建时 xcode 静态库链接错误

> ID：14722253
> 
> 赞同：3
> 
> 时间：2013-02-06T05:31:52.400
> 
> 标签：xcode4, static-libraries, armv7

我正在使用 xcode 4.6。SDK 为 iOS 6.1。在项目链接我自己创建的名为“libEncrypt.a”的静态库时，我得到的错误是 **“架构 armv7 的未定义符号”。**

我确信我已经使用架构 armv7 创建了 libEncrpt.a。使用“otool -a”验证静态库，它显示以下消息。不明白为什么 xcode sill 会抱怨**“架构 armv7 的未定义符号”**之类的错误？

```
> otool  -a libEncrypt.a 
Archive : libEncrypt.a (architecture armv7)
0100644 505/20    108 1360127518 #1/20
0100644 505/20   3604 1360127513 #1/20
Archive : libEncrypt.a (architecture armv7s)
0100644 505/20    108 1360127518 #1/20
0100644 505/20   3604 1360127513 #1/20 
```

添加详细的错误消息：

```
Undefined symbols for architecture armv7:
  "_OBJC_CLASS_$_libEncrypt", referenced from:
      objc-class-ref in LoginViewController.o
      objc-class-ref in SignupViewController.o
ld: symbol(s) not found for architecture armv7
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T18:03:47.030

仔细检查您的应用程序和静态库项目中的“仅构建活动架构”设置。

我遇到了同样的问题，因为我将静态库的“仅构建活动架构”设置为 YES，但对于我的 iOS 应用程序却没有。当 iOS 应用程序尝试进​​行 Debug 构建时，它期望所有架构都存在，但只为静态库构建了 armv7s，因为我正在部署到我的 iPhone 5。

# big-o - 重复字符串的图灵机时间复杂度

> ID：14722254
> 
> 赞同：4
> 
> 时间：2013-02-06T05:31:54.490
> 
> 标签：big-o, time-complexity, turing-machines, deterministic, non-deterministic

我试图找出在三种情况下接受重复字符串（ww）的图灵机的时间复杂度：1 磁带确定性机器、2 磁带确定性机器和 1 磁带非确定性机器。

现在我的想法是

*   1-tape 确定性机器需要 O(n^2) 来找到中点（通过重复删除输入中的第一个和最后一个符号）和 O(n^2) 来比较前半部分和后半部分（因为它必须来回 n/2 次，每次通过 n/2 的字符串），

*   2-tape TM 需要 O(n^2) 找到中点，O(n) 将后半部分复制到第二个磁带，然后 O(n) 同时比较两半，

*   而不确定的人猜测中点并取 O(n^2) 来比较两半。

但是，我觉得这三种情况不应该都具有相同的 O(n^2) 时间复杂度，所以想知道我的推理是否在某个地方不正确（或者我是否正确并且只是在思考这个问题）。任何输入将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-21T19:17:38.910

在使用磁带时，这个逻辑似乎是正确的。在磁盘或固态驱动器上，更适合以非线性方式访问数据的不同算法将具有较低的 big-O。

所以你对所有这些都是正确的。它们都是 O(n^2)。这是磁带在积极工作方面走上了恐龙之路的原因之一。对于备份，它们仍然在某些地方使用，但那是因为它们仍然只有 O(n) 用于线性存储。

# xml - vc++中的文本格式

> ID：14722255
> 
> 赞同：0
> 
> 时间：2013-02-06T05:32:12.167
> 
> 标签：xml, visual-c++, string-formatting

我正在尝试获取计算机名称，但获取的文本格式不正确。我的电脑名称是“text-06”。但得到的结果是“ÊK ÿÿÿÿ”

```
TCHAR compName[40];
if(GetComputerName(compName,(LPDWORD)&size)!=0)
  wsprintf(text,("\nComputer Name : %s "),compName);

wsprintf(text,("%s"),compName);

TiXmlText * textcompnm = new TiXmlText(text);  
elecompnm->LinkEndChild( textcompnm ); 
```

# javascript - 数组打印调用未与 for 循环计数器 Javascript 同步更新

> ID：14722259
> 
> 赞同：0
> 
> 时间：2013-02-06T05:32:46.877
> 
> 标签：javascript, jquery

我对 JavaScript 和 JQuery 还很陌生。我已经为一个段落写了一系列结尾，我试图使用`for`循环来相互旋转。虽然我看到了淡入淡出的数量，但我的网站上的文字并没有改变。

这是代码：

```
var paragraphs = ["foo", "bar", "foobar"];

var rotateText = function(){
    for(var i = 0; i < paragraphs.length; i++){
        $("#id").text(paragraphs[i]).fadeIn(2000).delay(2000).fadeOut(2000);
    }
};

rotateText(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:50:26.190

这里有几个问题：

1.  `.text`不遵守标准动画效果队列
2.  使用队列， 的值`i`将增加到 3，因此不能在回调中使用。

这可以通过添加通过回调更改的文本来解决，该回调`.queue`本身是通过使用值`i`作为参数的函数创建的，因此它可以在本地按原样使用。都说：

```
for (var i = 0; i < paragraphs.length; i++){
    $("#id").queue((function (i) {
        return function () {
            $(this).text(paragraphs[i]).dequeue();
        };
    })(i)
    ).fadeIn(2000).delay(2000).fadeOut(2000);
} 
```

看看它的实际效果：

[http://jsfiddle.net/ExplosionPIlls/gBxgQ/](http://jsfiddle.net/ExplosionPIlls/gBxgQ/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:00:46.573

试试这个 ：

这将以循环方式打印文本：foo-bar-foobar-foo-bar..

```
var faderIndex = 0,

paragraphs = ["foo", "bar", "foobar"];
function nextFade() {
    $('#id').text(paragraphs[faderIndex]).fadeOut(1000, function() {
        faderIndex++;
        if (faderIndex >= paragraphs.length)
            faderIndex = 0;
        $('#id').text(paragraphs[faderIndex]).fadeIn(1000, nextFade);
    });
}
nextFade();

<div id="id"></div> 
```

演示：[JSFiddle 上的工作演示](http://jsfiddle.net/nishantjani10/N7Rhm/)

另请参阅：[this SO question](https://stackoverflow.com/questions/5209954/jquery-array-fadein-not-working)

# mysql - 如何在联合之前在mysql中插入一行？

> ID：14722270
> 
> 赞同：2
> 
> 时间：2013-02-06T05:33:11.697
> 
> 标签：mysql, sql

说我有以下内容：

```
CREATE TABLE newtable AS (
SELECT @rownum:=@rownum+1 as rownum, name, age FROM (
    SELECT name, age FROM clubAmembers
    UNION
    SELECT name, age FROM clubBmembers
)
) AS atable 
```

我怎样才能做到这一点，以便我可以在 SELECT 联合之前“在表的开头插入一个新行”，以便它以：

```
rownum | name| age
1 | "Jordan" | 6  <-- This is an arbitrarily inserted record with name="Jordan" age="6" that is not a part of any of the clubAmembers or clubBmembers table. 
```

表的其余部分（第 2 行及以后）将包含由 clubAmembers 然后是 clubBmembers 的联合的实际结果。

基本上我正在寻找： CREATE TABLE INSERT a row "Jordan" | 6 使用 union 执行 select，使第一行之后的行以“rownum=2”开头，所有来自 clubAmembers 的数据等。

如何最好地做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:40:56.893

我不确定我是否做对了。但是你为什么不像这样添加另一个联合：

```
CREATE TABLE newtable AS (
SELECT @rownum:=@rownum+1 as rownum, name, age FROM (
    SELECT 1, "Jordan", 6
    UNION ALL
    SELECT name, age FROM clubAmembers
    UNION ALL
    SELECT name, age FROM clubBmembers
)
) AS atable 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:42:08.043

“在表的开头”对关系数据库没有真正意义，因为在您使用`ORDER BY`子句之前不能保证返回的顺序结果，此时磁盘上的顺序无论如何都成为一个有争议的问题。

在您的情况下，由于您想保证结果子句中的顺序（因此 ordering `@rownum`，您将不得不使用`ORDER BY`。例如：

```
CREATE TABLE newtable AS (
    SELECT @rownum:=@rownum+1 as rownum, name, age 
    FROM (
        SELECT 'Jordan' AS name, 6 AS age, 0 AS ord
        UNION
        SELECT name, age, 1 AS ord FROM clubAmembers
        UNION
        SELECT name, age, 1 AS ord FROM clubBmembers
        ORDER BY ord
    )
) AS atable 
```

请注意，这绝不保证行 in`clubAmembers`将低于`rownum`行 in `clubBmembers`。如果要保证`clubAmembers`具有 lower `rownum`，同时保持`UNION`(versus `UNION ALL`) 的语义，可以使用以下内容：

```
CREATE TABLE newtable AS (
    SELECT @rownum:=@rownum+1 as rownum, name, age 
    FROM (
        SELECT 'Jordan' AS name, 6 AS age, 0 AS ord
        UNION ALL
        SELECT name, age, 1 AS ord FROM clubAmembers
        UNION ALL
        SELECT name, age, 2 AS ord FROM clubBmembers AS b
        WHERE NOT EXISTS(SELECT 1 FROM clubAmembers AS a 
                         WHERE a.name = b.name AND a.age = b.age)
        ORDER BY ord
    )
) AS atable 
```

请注意，如果 { `name`, `age`} 可以在`clubXmembers`表中重复，则需要添加`DISTINCT`：

```
...
SELECT DISTINCT name, age, 1 AS ord FROM clubAmembers
UNION ALL
... 
```

* * *

根据评论中的要求，如果你有一张`clubCmembers`桌子，你会这样做：

```
CREATE TABLE newtable AS (
    SELECT @rownum:=@rownum+1 as rownum, name, age 
    FROM (
        SELECT 'Jordan' AS name, 6 AS age, 0 AS ord
        UNION ALL
        SELECT name, age, 1 AS ord FROM clubAmembers
        UNION ALL
        SELECT name, age, 2 AS ord FROM clubBmembers AS b
        WHERE NOT EXISTS(SELECT 1 FROM clubAmembers AS a 
                         WHERE a.name = b.name AND a.age = b.age)
        SELECT name, age, 3 AS ord FROM clubCmembers AS c
        WHERE NOT EXISTS(SELECT 1 FROM clubAmembers AS a 
                         WHERE a.name = c.name AND a.age = c.age)
        AND NOT EXISTS(SELECT 1 FROM clubBmembers AS b
                       WHERE b.name = c.name AND b.age = c.age)
        ORDER BY ord
    )
) AS atable 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:41:46.873

您可以将 create table statmenet 与 insert statmenet 分开：

1.  创建表（你必须知道哪些列在那里）
2.  插入您的第一条记录`(INSERT INTO .... Values(...)`）
3.  使用您的语句，但使用 insert into 而不是创建表，例如：（`INSERT INTO YourNewTable.... Values(YourSubQuery)`列的 Nr 和 tye 必须与您的子查询匹配）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:23:59.623

我相信这应该这样做：

```
CREATE TABLE newtable AS (
  SELECT (@rownum:=IFNULL(@rownum,0)+1)+1 as rownum, name, age FROM (
    SELECT name, age FROM clubAmembers
    UNION
    SELECT name, age FROM clubBmembers
  ) AS s
  UNION ALL
  SELECT 1, 'Jordan', 6
) AS atable 
```

SQL Fiddle 演示：[http ://sqlfiddle.com/#!2/ab825/6](http://sqlfiddle.com/#!2/ab825/6)

# compiler-construction - 编译中的 LL1 语法

> ID：14722271
> 
> 赞同：0
> 
> 时间：2013-02-06T05:33:16.997
> 
> 标签：compiler-construction, programming-languages

我有一个关于 LL1 语法的问题。如果我们有这样的语法：

```
<S>::=<A>
<A>::=<A> car cat | epsilon 
```

第一个`<A>`可以是什么？它只是epsilon吗？如果它只是 epsilon，那么语言就不可能是 LL1！我很困惑...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T10:21:40.403

```
 First(A) = {epsilon, car} 
```

如果 A 是非终结符且 A : a α 是产生式，则将 a 添加到 First( A )。如果 A : epsilon 是一个产生式，则将 epsilon 添加到 First( A )。

如果 A : α1 α2 α3 ... αm 是一个产生式，则将 First( α1 ) 添加到 First( A )。如果 α1 派生 epsilon，则将 First(α2) 添加到 First(A)。如果 α1 和 α2 都导出 epsilon，则将 First(α3) 添加到 First(A)，依此类推。

# mongodb - 如何否定 MongoDB 查询？

> ID：14722274
> 
> 赞同：7
> 
> 时间：2013-02-06T05:33:29.093
> 
> 标签：mongodb

我的查询是：

```
db.users.find({"username" : {$regex : ".*substring.*"}}); 
```

我需要不包含“子字符串”的用户名，而不是获取包含“子字符串”的用户名。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-06T13:27:52.430

为此，您可以使用 $not 运算符：

```
db.test.find( { username: { $not: /substring/ } } ); 
```

像：

```
> db.test.insert( { username: "Derick Rethans" } );
> db.test.insert( { username: "Hannes Magunusson" } );
> db.test.find( { username: { $not: /ag/ } } );
{ "_id" : ObjectId("511258b36879ad400c26084f"), "username" : "Derick Rethans" } 
```

但是，您需要注意正则表达式**和***$not*运算符的使用会阻止索引的使用。如果您需要经常执行此查询，您可能需要仔细查看您的架构设计。

# javascript - encodeURIComponent 不断返回 URI 错误

> ID：14722279
> 
> 赞同：2
> 
> 时间：2013-02-06T05:33:54.427
> 
> 标签：javascript, decodeuricomponent

好的，事情就是这样。我们的网站有一个书签，它可以在除 Safari 之外的所有主要浏览器中正常工作。我调查了一下，发现是因为两个原因：

1.  Safari 5.5 对任何 URL 都有 2347 个字符的限制。
2.  它对 URI 进行编码。

我通过将变量和函数重命名为非常短的名称以及最小化 js.

对于问题 2，我决定将整个函数存储为字符串，对其进行 decodeURIComponent 解码，然后使用 eval 评估回函数然后执行它（我知道我不应该使用 eval 但我想不出其他解决方案） . 问题是 decodeURIComponent 返回“URIError：URI 错误”。但是，如果我在 Safari 的开发人员控制台中执行相同的代码，它会毫无问题地执行。

我已经黔驴技穷了。任何帮助将不胜感激。

提前致谢。

# php - 在响应php中返回二进制代码而不是字符串

> ID：14722282
> 
> 赞同：0
> 
> 时间：2013-02-06T05:34:13.780
> 
> 标签：php, excel, binary

我想用 php 读取一个 excel 文件并将其内容发送到客户端。我真正想做的是通过更改内容类型和其他 html 标头强制浏览器下载文件而不是显示其内容。一切正常，用户可以下载文件，但是当他试图打开它时，内容没有以正确的格式和形状显示。我想到的事情是我不应该以 unicode 字符串发送响应，而必须以 excel 可以知道的二进制格式发送响应。这是我当前的代码：

```
$filename = $_GET['file'];
        $ext = $_GET['type'];
        $filename .= '.' . $ext;
        $path = "../generatedReports/" . $filename;
        header('Content-type: application/vnd.ms-excel;');
        header('Content-Disposition: attachment; filename=' . $filename);
        header("Pragma: public");
        header("Expires: 0");
        header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
        header("Cache-Control: public", false);
        header("Content-Description: File Transfer");
        header("Accept-Ranges: bytes");
        header("Content-Transfer-Encoding: binary");
        header("Content-Length: " . filesize($path));
        $size = filesize($path);
        $f = fopen($path, 'r');
        $content = fread($f, $size);
        echo $content; 
```

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:39:09.187

请尝试使用以下代码，

```
echo unicode2utf8(hexdec("00CE")); // Result: Î

// Or the function that will recognize U+ in front of string, and will skip it to show the character
function unicodeCodePointToChar($str) {
    if (substr($str,0,2) != "U+") return $str;
    $str = substr($str,2); // Skip U+
    return unicode_to_utf8(array(hexdec($str)));
}
echo unicodeCodePointToChar("U+00CE"); // Result: Î 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T13:03:40.277

[这个答案](https://stackoverflow.com/a/8041597/1570631)解决了我的问题。我已将代码更改为：

```
$filename = $_GET['file'];
            $ext = $_GET['type'];
            $filename .= '.' . $ext;
            $path = "../generatedReports/" . $filename;
            header('Content-type: application/vnd.ms-excel;');
            header('Content-Disposition: attachment; filename=' . $filename);
            header("Pragma: public");
            header("Expires: 0");
            header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
            header("Cache-Control: public", false);
            header("Content-Description: File Transfer");
            header("Accept-Ranges: bytes");
            header("Content-Transfer-Encoding: binary");
            ob_clean();   // discard any data in the output buffer (if possible)
            flush();      // flush headers (if pos
            readfile($path); 
```

一切都变得美好。

# c# - 在 EntityFramework 中动态构建枢轴表达式

> ID：14722285
> 
> 赞同：1
> 
> 时间：2013-02-06T05:34:22.553
> 
> 标签：c#, entity-framework, expression

我当前的 linq 表达式在这里。这是成功的工作

```
e.Result = (from d in Repository.db.Dursgals
    select new
    {
        d.DursgalID,
        d.Name,
        d.PID,
        d.inDate,
        No = d.DursgalProps.FirstOrDefault(dp => dp.PropID == 4).IntValue,                            
        IjCount = d.DursgalProps.FirstOrDefault(dp => dp.PropID == 32).IntValue ?? 0,
        d.EzemshigchID
    }).OrderBy(d => d.No) 
```

但这是不完整的。我的客户想要选择列。我想要这样

```
e.Result = (from d in Repository.db.Dursgals
    select new
    {
        d.DursgalID,
        d.Name,
        d.PID,
        d.inDate,
foreach(var col in filteredcolumns){
    switch(col.ValueTypeID){
        case 1:
            col.Name = d.DursgalProps.FirstOrDefault(dp => dp.PropID == col.ColID).IntValue;
        break;                            
        case 2:
            col.Name = d.DursgalProps.FirstOrDefault(dp => dp.PropID == col.ColID).StringValue;
        break;                            
    }
},
        d.EzemshigchID
    }).OrderBy(d => d.No) 
```

如何像这样动态构建 linq 表达式？

# android - 为 Android 4.0 赋予 Android 2.3.3 的外观和感觉

> ID：14722290
> 
> 赞同：0
> 
> 时间：2013-02-06T05:35:07.950
> 
> 标签：android, android-layout, android-4.0-ice-cream-sandwich

当我在 Android 2.3.3 上运行我的应用程序时，它会显示出与 android 4.0 不同的外观。当我在 Android 4.0 中运行我的应用程序时，我希望它具有与 Android 2.3.3 相同的外观和感觉。

关于这个话题已经有很多问题了，但所有的问题都是“如何为低版本赋予高版本的外观和感觉”。但就我而言，我想将较低版本的外观和感觉提供给较高版本。

有一种解决方案是，如果我使用 Android 2.3.3 编译我的应用程序并在 Android 4.0 上运行，那么它会提供 Android 2.3.3 的外观和感觉。但是在这里我无法从 Android 4.0 添加功能，所以这个选项不是实现我的目标的正确方法。那么我需要做什么？

在这里，我附上了我想要的外观：

![在此处输入图像描述](../Images/34083e1b8ce82fee54c30f5cb11561ce.png)

但不是在 Look And Feel 上面，而是在 Android 4.0 上显示以下 Look And Feel

![在此处输入图像描述](../Images/2838d8c1f3115afde26d45110f82f5dd.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:51:11.860

确保您`targetSdkVersion`的值设置为 10 或更低，并且您的应用程序不会根据`Holo`在较新版本上运行时声明主题。这将防止`Holo`主题元素应用到较新的设备上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:59:56.340

将应用程序的主题设置为`@android:style/Theme`在应用程序的清单中。

例如：

```
<application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@android:style/Theme" > 
```

这会将您的应用程序的主题设置为以前的默认 Android 主题，该主题已在较新版本的 Android 中被 Holo 取代。您也可以以类似的方式选择 DeviceDefault 主题。

# jakarta-mail - JavaMail 中的自动保存

> ID：14722297
> 
> 赞同：0
> 
> 时间：2013-02-06T05:35:39.713
> 
> 标签：jakarta-mail, autosave

我正在使用 JavaMail 开发一个简单的邮件应用程序。我的基于 Web 的邮件用户代理 (MUA) 应用程序具有撰写、阅读、转发、删除等邮件的功能。现在我想添加一个简单的功能，在撰写时将用户的电子邮件自动保存到草稿文件夹。用户可以手动保存他/她的邮件，或者应用程序可以自动保存到用户的草稿文件夹。那么，有没有办法借助 JavaMail 来实现这一点呢？或者还有其他更好的方法来实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:56:17.613

将消息附加到草稿文件夹。您必须弄清楚如何从您的应用程序中触发附加。

# ios - init 方法与 viewDidLoad 类型方法

> ID：14722300
> 
> 赞同：3
> 
> 时间：2013-02-06T05:35:43.103
> 
> 标签：ios, uiviewcontroller, initialization, viewdidload

应该在 init 方法中使用的代码类型（对象分配、设置 ui 元素、网络调用等）与视图控制器的 viewDidLoad 类型方法之间的区别的一般准则是什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-06T05:37:53.833

**Init =>**调用/用于初始化您的 ViewController 和 Initialize 仅用于 `UIViewController`而不是它的视图

**ViewDidLoad =>** call at/use for load view ，这个方法在 nib 加载后调用

> 系统可以卸载视图以节省内存，它将单独保留 UIViewController。init 方法中设置的任何属性都不会再次应用，因为 UIViewController 已经初始化

在 iOS 应用程序中初始化变量是每个项目都会面临的问题。选择正确的位置来初始化变量有时会很棘手。我最近遇到了一个难以重现的问题，并更改了一些在我的 viewDidLoad 方法中初始化的变量，并且我无法理解它们正在改变。

在视图控制器中初始化变量的可能方法是： - init - viewDidLoad - viewWillAppear - viewDidAppear

为了解释我的观点，我使用模板标签栏应用程序开始了一个新项目。我在两个视图控制器的 viewDidLoad 方法中添加了日志语句。A 还向第二个视图控制器添加了一个按钮，该按钮将初始化一些会给我一个内存警告的图像。

在记录了一些语句并得出以下结论：

```
15:11:40.077 testblog2[4865:707] FirstViewController viewdidload
15:11:56.720 testblog2[4865:707] SecondViewController viewDidLoad
15:12:05.710 testblog2[4865:707] Pressed loading images button
15:12:19.025 testblog2[4865:707] Received memory warning. Level=1
15:12:21.272 testblog2[4865:707] SecondViewController didReceiveMemoryWarning 
```

**=> 现在切换到第一个选项卡**

```
15:12:30.822 testblog2[4865:707] FirstViewController viewdidload 
```

如果您在 viewDidLoad 方法中初始化变量，请记住这些变量可能会在收到内存警告后重新初始化。Cocoa 将删除该视图，并且一旦您转到该特定视图控制器，您的 viewDidLoad 方法将再次被触发。

[http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40006926](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40006926)

# javascript - 使用 Greasemonkey 脚本在每个页面上放置一个侧边栏

> ID：14722302
> 
> 赞同：3
> 
> 时间：2013-02-06T05:35:53.007
> 
> 标签：javascript, html, greasemonkey

我正在尝试编写一个 Greasemonkey 脚本，该脚本将在它加载的每个网页上放置一个导航侧边栏，但我仍然不知道如何在不覆盖每个页面上的某些内容的情况下做到这一点。有没有办法`div`在加载的每个页面的旁边放置一个，而不覆盖任何页面的内容？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T07:20:00.580

您链接的[问题接受的答案](https://stackoverflow.com/a/10101251/331508)在整个页面上放置了一个偏移量，同时展示了一个顶栏，而不是侧栏。这种技术对于右侧边栏来说很糟糕，因为它会切掉（隐藏）页面左侧的一部分。

如果你想走这条路（我不推荐），一个更好的技术是调整页面宽度。这**是完整的 Greasemonkey 脚本**中的一种方法：

```
// ==UserScript==
// @name     _Sidebar on page
// @include  https://stackoverflow.com/questions/14722302/*
// @include  http://YOUR_SERVER.COM/YOUR_PATH/*
// @require  http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js
// @grant    GM_addStyle
// ==/UserScript==

var sidebarWidth    = "100px";

$("html").css ( {
    position:   "relative",
    width:      "calc(100% - " + sidebarWidth + ")"
} );

$("body").append ( '                                                \
    <div id="gmRightSideBar">                                       \
        <ul>                                                        \
            <li><a href="http://dailypuppy.com/">Link 1</a></li>    \
            <li><a href="http://puppyfind.com/">Link 2</a></li>     \
        </ul>                                                       \
    </div>                                                          \
' );

GM_addStyle ( "                                                     \
    #gmRightSideBar {                                               \
        position:               fixed;                              \
        top:                    0;                                  \
        right:                  0;                                  \
        margin:                 1ex;                                \
        padding:                1em;                                \
        background:             orange;                             \
        width:                  calc(" + sidebarWidth + " - 2ex)    \
    }                                                               \
    #gmRightSideBar ul {                                            \
        margin:                 0ex;                                \
    }                                                               \
    #gmRightSideBar a {                                             \
        color:                  blue;                               \
    }                                                               \
" ); 
```

使用 CSS 定位和样式化所有内容，并使用 jQuery 简化代码并使其更加健壮/便携。

* * *

* * *

但是，与其压缩或移动页面并可能破坏其布局，**不如继续掩盖右侧的一些内容。** [这几乎总是浪费空间，通常会被忽略](http://www.nngroup.com/articles/f-shaped-pattern-reading-web-content/)（以及其他几个链接和研究）。

如果您的侧边栏在没有悬停时大部分情况下仍然不可见，并且有一个方便的键盘快捷键来切换其可见性，那么它有时会部分遮盖右侧内容就没有问题了。我多年来一直在使用这种技术，而且效果很好。

**一个完整的 Greasemonkey 脚本**是：

```
// ==UserScript==
// @name     _Add a Sidebar to a page with auto fade and keyboard shortcut
// @include  https://stackoverflow.com/questions/14722302/*
// @include  http://YOUR_SERVER.COM/YOUR_PATH/*
// @require  http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js
// @grant    GM_addStyle
// ==/UserScript==

$("body").append ( '                                                \
    <div id="gmRightSideBar">                                       \
        <p>F9 toggles visibility</p>                                \
        <ul>                                                        \
            <li><a href="http://dailypuppy.com/">Link 1</a></li>    \
            <li><a href="http://puppyfind.com/">Link 2</a></li>     \
        </ul>                                                       \
    </div>                                                          \
' );

//-- Fade panel when not in use
var kbShortcutFired = false;
var rightSideBar    = $('#gmRightSideBar');
rightSideBar.hover (
    function () {
        $(this).stop (true, false).fadeTo (50,  1  );
        kbShortcutFired = false;
    },
    function () {
        if ( ! kbShortcutFired ) {
            $(this).stop (true, false).fadeTo (900, 0.1);
        }
        kbShortcutFired = false;
    }
);
rightSideBar.fadeTo (2900, 0.1);

//-- Keyboard shortcut to show/hide our sidebar
$(window).keydown (keyboardShortcutHandler);

function keyboardShortcutHandler (zEvent) {
    //--- On F9, Toggle our panel's visibility
    if (zEvent.which == 120) {  // F9
        kbShortcutFired = true;

        if (rightSideBar.is (":visible") ) {
            rightSideBar.stop (true, false).hide ();
        }
        else {
            //-- Reappear opaque to start
            rightSideBar.stop (true, false).show ();
            rightSideBar.fadeTo (0, 1);
            rightSideBar.fadeTo (2900, 0.1);
        }

        zEvent.preventDefault ();
        zEvent.stopPropagation ();
        return false;
    }
}

GM_addStyle ( "                                                     \
    #gmRightSideBar {                                               \
        position:               fixed;                              \
        top:                    0;                                  \
        right:                  0;                                  \
        margin:                 1ex;                                \
        padding:                1em;                                \
        background:             orange;                             \
        width:                  100px;                              \
        z-index:                6666;                               \
        opacity:                0.9;                                \
    }                                                               \
    #gmRightSideBar p {                                             \
        font-size:              80%;                                \
    }                                                               \
    #gmRightSideBar ul {                                            \
        margin:                 0ex;                                \
    }                                                               \
    #gmRightSideBar a {                                             \
        color:                  blue;                               \
    }                                                               \
" ); 
```

# sql - 应该使用哪种数据类型来存储哈希？

> ID：14722305
> 
> 赞同：65
> 
> 时间：2013-02-06T05:36:09.280
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我知道哈希会根据 SQL Server 中的不同数据类型而有所不同。一个支持 Unicode，另一个不支持 .... 依此类推（也是排序规则）

我使用 char(32) 作为数据类型，但输出很奇怪。使用这个

```
select HASHBYTES('MD5','MD5Text') 
```

给出这个输出：

```
0xA891DB2DA259280A66FD5F35201CAB6A 
```

什么时候

```
declare @h char(32)
select @h=HASHBYTES('MD5','MD5Text')
select @h,LEN(@h) 
```

输出：

Ё'Ы-ўY( fэ_5 «j

所以我是 SQL Server 的新手。
谁能告诉我应该使用什么数据类型来存储哈希？

* * *

## 回答 #1

> 赞同：151
> 
> 时间：2013-05-21T22:17:29.433

您应该使用[`binary`](http://msdn.microsoft.com/en-us/library/ms188362.aspx)数据类型。您可以使用`binary`而不是，`varbinary`因为散列函数将始终为相同类型的散列（例如，等）返回相同数量的`MD5`字节`SHA1`。这将减少管理可变长度二进制 ( `varbinary`) 列所需的（少量）开销。

就制作它的大小而言，您可以运行此查询来检查每种散列类型的长度：

```
SELECT  DATALENGTH(HASHBYTES('MD2', 'Testing')) AS [MD2Length],
        DATALENGTH(HASHBYTES('MD4', 'Testing')) AS [MD4Length],
        DATALENGTH(HASHBYTES('MD5', 'Testing')) AS [MD5Length],
        DATALENGTH(HASHBYTES('SHA', 'Testing')) AS [SHALength],
        DATALENGTH(HASHBYTES('SHA1', 'Testing')) AS [SHA1Length],
        /* 2012 only: */
        DATALENGTH(HASHBYTES('SHA2_256', 'Testing')) AS [SHA2_256Length],
        DATALENGTH(HASHBYTES('SHA2_512', 'Testing')) AS [SHA2_512Length]; 
```

它应该是这样的：

```
MD2Length MD4Length MD5Length SHALength SHA1Length SHA2_256Length SHA2_512Length
--------- --------- --------- --------- ---------- -------------- --------------
16        16        16        20        20         32             64 
```

# java - 即时更新 LookAndFeel 值

> ID：14722306
> 
> 赞同：3
> 
> 时间：2013-02-06T05:36:14.873
> 
> 标签：java, swing, jpanel, look-and-feel, nimbus

我希望能够即时更新我的​​ Swing GUI 的 LookAndFeel 属性。在这种情况下，我有一个简单的 Swing/Awt 游戏，它以 Nimbus 开头`LookAndFeel`。在启动后的不同点，我只想更改（让我们说）一个细节：我的应用程序的背景颜色。

我可以通过这样做来改变背景颜色：

```
for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
    if ("Nimbus".equals(info.getName())) {
        UIManager.setLookAndFeel(info.getClassName());
        UIManager.getLookAndFeelDefaults().put("Panel.background", Color.RED);
        SwingUtilities.updateComponentTreeUI(SomeGame.this);
        break;
    }
} 
```

这“有效”是因为应用程序的背景颜色正确更改并且程序不会崩溃。但在命令行我得到错误：

```
Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
    at javax.swing.plaf.synth.SynthLookAndFeel.paintRegion(SynthLookAndFeel.java:371)
    at javax.swing.plaf.synth.SynthLookAndFeel.update(SynthLookAndFeel.java:335) 
```

显然，有些东西是空的，但我不知道它是什么或如何修复它。一定有什么我不明白的。我查看了有关[在 Nimbus 中设置背景颜色](https://stackoverflow.com/questions/14700758/how-to-change-background-color-for-nimbus-look-and-feel-using-java)和[在启动后覆盖 LookAndFeel 信息](https://stackoverflow.com/questions/12492114/overriding-lookandfeel)的其他 StackOverflow 问题。

*   当我打电话时`getLookAndFeelDefaults()`，我还需要指定其余的默认值吗？
*   Java 1.6 和 1.7 之间的工作方式是否发生了变化？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T08:57:01.857

*   Java6 的所有代码，必须更改 Java7 的 Nimbus 导入

*   `Nimbus`有一些惊喜，其中之一是可能（没有肮脏的黑客，我会为这些黑客留下评论）`Background`只更改`JPanel`一次

![在此处输入图像描述](../Images/a1be5f71c4339bdd16e75fc9f4366147.png)

![在此处输入图像描述](../Images/8e7291d99e530da375ecd7ea269182fb.png)

![在此处输入图像描述](../Images/f3146f2e46f9d6aebd99849136a90f9c.png)

```
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.Color;
import java.awt.AlphaComposite;
import javax.swing.*;
import javax.swing.UIManager.LookAndFeelInfo;
import javax.swing.border.EmptyBorder;

public class ButtonTest {

    private JFrame frame;
    private JPanel panel;
    private JButton opaqueButton1;
    private JButton opaqueButton2;
    private SoftJButton softButton1;
    private SoftJButton softButton2;
    private Timer alphaChanger;

    public void createAndShowGUI() {
        opaqueButton1 = new JButton("Opaque Button");
        opaqueButton2 = new JButton("Opaque Button");
        softButton1 = new SoftJButton("Transparent Button");
        softButton2 = new SoftJButton("Transparent Button");
        opaqueButton1.setBackground(Color.GREEN);
        softButton1.setBackground(Color.GREEN);
        panel = new JPanel();
        panel.setLayout(new java.awt.GridLayout(2, 2, 10, 10));
        panel.add(opaqueButton1);
        panel.add(softButton1);
        panel.add(opaqueButton2);
        panel.add(softButton2);
        panel.setBorder(new EmptyBorder(10, 10, 10, 10));
        frame = new JFrame();
        frame.add(panel);
        frame.setLocation(150, 100);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.pack();
        frame.setVisible(true);
        alphaChanger = new Timer(50, new ActionListener() {

            private float incrementer = -.03f;

            @Override
            public void actionPerformed(ActionEvent e) {
                float newAlpha = softButton1.getAlpha() + incrementer;
                if (newAlpha < 0) {
                    newAlpha = 0;
                    incrementer = -incrementer;
                } else if (newAlpha > 1f) {
                    newAlpha = 1f;
                    incrementer = -incrementer;
                }
                softButton1.setAlpha(newAlpha);
                softButton2.setAlpha(newAlpha);
            }
        });
        alphaChanger.start();
        Timer uiChanger = new Timer(3500, new ActionListener() {

            private final LookAndFeelInfo[] laf = UIManager.getInstalledLookAndFeels();
            private int index = 1;

            @Override
            public void actionPerformed(ActionEvent e) {
                try {
                    UIManager.setLookAndFeel(laf[index].getClassName());
                    if (laf[index].getClassName().equals("com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel")) {
                        UIManager.getLookAndFeelDefaults().put("Panel.background", Color.orange);
                        SwingUtilities.updateComponentTreeUI(frame);
                    } else {
                        panel.setBackground(Color.yellow);
                        SwingUtilities.updateComponentTreeUI(frame);
                    }
                    opaqueButton1.setText(laf[index].getClassName());
                    softButton1.setText(laf[index].getClassName());
                    frame.pack();
                } catch (Exception exc) {
                    exc.printStackTrace();
                }
                index = (index + 1) % laf.length;
            }
        });
        uiChanger.start();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new ButtonTest().createAndShowGUI();
            }
        });
    }

    private static class SoftJButton extends JButton {

        private static final JButton lafDeterminer = new JButton();
        private static final long serialVersionUID = 1L;
        private boolean rectangularLAF;
        private float alpha = 1f;

        SoftJButton() {
            this(null, null);
        }

        SoftJButton(String text) {
            this(text, null);
        }

        SoftJButton(String text, Icon icon) {
            super(text, icon);
            setOpaque(false);
            setFocusPainted(false);
        }

        public float getAlpha() {
            return alpha;
        }

        public void setAlpha(float alpha) {
            this.alpha = alpha;
            repaint();
        }

        @Override
        public void paintComponent(java.awt.Graphics g) {
            java.awt.Graphics2D g2 = (java.awt.Graphics2D) g;
            g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, alpha));
            if (rectangularLAF && isBackgroundSet()) {
                Color c = getBackground();
                g2.setColor(c);
                g.fillRect(0, 0, getWidth(), getHeight());
            }
            super.paintComponent(g2);
        }

        @Override
        public void updateUI() {
            super.updateUI();
            lafDeterminer.updateUI();
            rectangularLAF = lafDeterminer.isOpaque();
        }
    }
} 
```

*   但是因为可以[通过调用](https://stackoverflow.com/questions/9958004/change-font-at-runtime)`JComponent`来更改它的[`Color`,`Font``UIManager.getLookAndFeel().uninitialize();`](https://stackoverflow.com/questions/9958004/change-font-at-runtime)等，但这不适用于`containers`

![在此处输入图像描述](../Images/fec4aa1e059b5bd497cb66d3a6028298.png)

![在此处输入图像描述](../Images/71ccd748fb4007b8cec3bd8b7b7dc961.png)

![在此处输入图像描述](../Images/dfb58119cc31ac6cfd8ea5b072f7d2af.png)

```
import java.awt.Color;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Random;
import javax.swing.JFrame;
import javax.swing.LookAndFeel;
import javax.swing.SwingUtilities;
import javax.swing.Timer;
import javax.swing.UIDefaults;
import javax.swing.UIManager;
import javax.swing.UIManager.LookAndFeelInfo;
import javax.swing.UnsupportedLookAndFeelException;

public class NimbusTestButtonsBackground extends JFrame {

    private static final long serialVersionUID = 1L;
    private javax.swing.JButton button;

    public NimbusTestButtonsBackground() {
        button = new javax.swing.JButton();
        button.setText("Text");
        add(button);
        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        this.pack();
        Timer t = new Timer(1000, new ActionListener() {

            private Random r = new Random();

            @Override
            public void actionPerformed(ActionEvent e) {
                Color c = new Color(r.nextInt(256), r.nextInt(256), r.nextInt(256));
                try {
                    LookAndFeel lnf = UIManager.getLookAndFeel().getClass().newInstance();
                    UIDefaults uiDefaults = lnf.getDefaults();
                    uiDefaults.put("nimbusBase", c);
                    UIManager.getLookAndFeel().uninitialize();
                    UIManager.setLookAndFeel(lnf);
                } catch (InstantiationException ex) {
                } catch (IllegalAccessException ex) {
                } catch (UnsupportedLookAndFeelException ex) {
                }
                UIDefaults defaults = UIManager.getDefaults();
                defaults.put("Button.background", c);
                SwingUtilities.updateComponentTreeUI(button);
            }
        });
        t.start();
    }

    public static void main(String args[]) {
        try {
            for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (Exception e) {
            return;
        }

        java.awt.EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                new NimbusTestButtonsBackground().setVisible(true);
            }
        });
    }
} 
```

*   然后我看到（这种方式是最舒适、最简单的方式等）`paintComponent`以`JPanel`最好的方式覆盖

![在此处输入图像描述](../Images/14d05feb9a5e32ce22e7d3af55d4a23e.png)![在此处输入图像描述](../Images/6858291a605750d3dd8d267bc1288715.png)![在此处输入图像描述](../Images/52dfb9cf1fbb716c47de6adcd44199c4.png)

```
import java.awt.AlphaComposite;
import java.awt.Color;
import java.awt.Container;
import java.awt.EventQueue;
import java.awt.GradientPaint;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.GridLayout;
import java.awt.Rectangle;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.image.BufferedImage;
import java.util.Random;
import javax.swing.JButton;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.RepaintManager;
import javax.swing.Timer;
import javax.swing.UIManager;
import javax.swing.UIManager.LookAndFeelInfo;

public class ChangePanelBackgroundNimbus {

    private JFrame frame = new JFrame();

    public ChangePanelBackgroundNimbus() {
        GradientPane pane = new GradientPane();
        pane.setLayout(new GridLayout(6, 4, 10, 10));
        for (int i = 1; i <= 24; i++) {
            pane.add(createButton(i));
        }
        pane.setOpaque(false);
        frame.add(pane);
        RepaintManager.setCurrentManager(new RepaintManager() {

            @Override
            public void addDirtyRegion(JComponent c, int x, int y, int w, int h) {
                Container con = c.getParent();
                while (con instanceof JComponent) {
                    if (!con.isVisible()) {
                        return;
                    }
                    if (con instanceof GradientPane) {
                        c = (JComponent) con;
                        x = 0;
                        y = 0;
                        w = con.getWidth();
                        h = con.getHeight();
                    }
                    con = con.getParent();
                }
                super.addDirtyRegion(c, x, y, w, h);
            }
        });
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setLocationByPlatform(true);
        //frame.setSize(400, 300);
        frame.pack();
        frame.setVisible(true);
    }

    private JButton createButton(final int text) {
        JButton button = new JButton(Integer.toString(text));
        return button;
    }

    class GradientPane extends JPanel {

        private static final long serialVersionUID = 1L;
        private final int h = 150;
        private BufferedImage img = null;
        private BufferedImage shadow = new BufferedImage(1, h, BufferedImage.TYPE_INT_ARGB);

        public GradientPane() {
            paintBackGround(new Color(150, 250, 150));
            Timer t = new Timer(500, new ActionListener() {

                private Random r = new Random();

                @Override
                public void actionPerformed(ActionEvent e) {
                    paintBackGround(new Color(r.nextInt(256), r.nextInt(256), r.nextInt(256)));
                }
            });
            t.start();
        }

        public void paintBackGround(Color g) {
            Graphics2D g2 = shadow.createGraphics();
            g2.setPaint(g);
            g2.fillRect(0, 0, 1, h);
            g2.setComposite(AlphaComposite.DstIn);
            g2.setPaint(new GradientPaint(0, 0, new Color(0, 0, 0, 0f), 0, h, new Color(0.4f, 0.8f, 0.8f, 0.5f)));
            g2.fillRect(0, 0, 1, h);
            g2.dispose();
        }

        @Override
        public void paintComponent(Graphics g) {
            if (img == null || img.getWidth() != getWidth() || img.getHeight() != getHeight()) {
                img = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_ARGB);
            }
            Graphics2D g2 = img.createGraphics();
            super.paintComponent(g2);
            Rectangle bounds = this.getVisibleRect();
            g2.scale(bounds.getWidth(), -1);
            g2.drawImage(shadow, bounds.x, -bounds.y - h, null);
            g2.scale(1, -1);
            g2.drawImage(shadow, bounds.x, bounds.y + bounds.height - h, null);
            g2.dispose();
            g.drawImage(img, 0, 0, null);
            repaint();
        }
    }

    public static void main(String[] args) {
        try {
            for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                ChangePanelBackgroundNimbus ml = new ChangePanelBackgroundNimbus();
            }
        });
    }
} 
```

# html - 如何将函数传递的参数显示为 iframe src

> ID：14722307
> 
> 赞同：0
> 
> 时间：2013-02-06T05:36:38.430
> 
> 标签：html, iframe

HTML 代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="Index.css">
<title>Info</title>
<script type="text/javascript">

function fn(name){
    document.getElementById("link").src = name;
}

</script>
</head>
<body>
    <div id="contain">
        <div id="head">
            <h1 align="center">Represent</h1>
        </div>
        <div id="list">
            <a href="NewFile1.html" onclick='fn("NewFile1.html")'>file1</a><br>
            <a href="NewFile2.html" onclick='fn("NewFile2.html")'>file2</a><br>
            <a href="">nasdd</a>
        </div>
        <div id="fr">
        <iframe id="link" align="left" src="about:blank" style="width: 78%;>
        </iframe>
        </div>
    </div>
</body>
</html> 
```

当我单击链接说“file1”时，会显示正确的 html，但不会在 iframe 中显示，而是显示为新页面。如何仅在框架中显示 html？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:24:31.927

我想我成功了！！我已经做了 ：

```
<a href="NewFile1.html" onclick='return fn("NewFile1.html")'>file1</a><br>
<a href="NewFile2.html" onclick='return fn("NewFile2.html")'>file2</a><br>

function fn(name){
    document.getElementById("link").src = name;
    return false;
} 
```

# python - 使用 mechanize，python 填写登录表单

> ID：14722309
> 
> 赞同：3
> 
> 时间：2013-02-06T05:36:54.803
> 
> 标签：python, forms, autocomplete, mechanize, autologin

我试图登录到一个站点[https://everest.ioe.edu.np/lanusers/dialup.php](https://everest.ioe.edu.np/lanusers/dialup.php) ，然后单击“更改密码”链接，使用 mechanize 更改密码并使用以下代码注销：

```
import mechanize        

def tryinglogin():
    browser = mechanize.Browser(factory=mechanize.RobustFactory())
    browser.set_handle_robots(False)
    r = browser.open("https://everest.ioe.edu.np/lanusers/dialup.php") #surfing web page
    browser.select_form(nr=0)               # Find first form of web page
    browser.form["name"] = "067bce001"
    browser.form["password1"] = "abc"    
    pass="password1"
    browser.submit()                    # submit

    html = browser.response().readlines()       # Read the response, html 
    for i in range(0,len(html)):
    if '<u>Your current LAN account status</b>' in html[i]:  # filter    out one line 
        print(html[i])

    browser.find_link(text='Change password')
    req = browser.click_link(text='Change password')
    browser.open(req)
#print browser.response().read()     #print html of logged in page

  r = browser.open(req)                #  surfing web page ,no problem upto here in code
  browser.select_form(nr=0)             
  browser.form["password"] = "abc"
  browser.form["password1"] = "bcdef"  # change password field  
  browser.form["password2"] = "bcdef"   #verify password field
  browser.submit()      

if __name__ == "__main__":
    tryinglogin() 
```

代码成功登录，单击更改密码链接，然后转到更改密码页面，但随后显示“ParseError：嵌套表单错误”

请大师帮我弄清楚为什么我的机器人不工作。

# c++ - ip2location 模块获取 HTTP_X_FORWARDED_FOR 而不是 REMOTE_ADDR

> ID：14722313
> 
> 赞同：1
> 
> 时间：2013-02-06T05:37:04.737
> 
> 标签：c++, c, apache

我正在使用 ip2location，对于不在负载均衡器后面的站点，它可以正常工作。

F5 或 AWS ELB 后面的任何内容，它都会返回空字符串

我开始查看 ip2location 的模块并试图更改它，以便它可以得到 X_FORWARDED_FOR。

这是 mod_ip2location.c

```
#include "httpd.h"
#include "http_config.h"
#include "http_protocol.h" 
#include "http_log.h"
#include "ap_config.h"
#include "apr_strings.h"
#include "IP2Location.h"

static const int ENV_SET_MODE    = 0x0001;
static const int NOTES_SET_MODE  = 0x0002;
static const int ALL_SET_MODE    = 0x0003;

typedef struct {
  int enableFlag;
  int setMode; 
  char* dbFile;
  IP2Location* ip2locObj;
} ip2location_server_config;

module AP_MODULE_DECLARE_DATA IP2Location_module;

static apr_status_t ip2location_cleanup(void *cfgdata) {
  // cleanup code here, if needed
  return APR_SUCCESS;
}

static void ip2location_child_init(apr_pool_t *p, server_rec *s) {
  apr_pool_cleanup_register(p, NULL, ip2location_cleanup, ip2location_cleanup);
}

static int ip2location_post_read_request(request_rec *r) {
  char* ipaddr;
  ip2location_server_config* config;
  IP2LocationRecord* record;
  char buff[20];

  config = (ip2location_server_config*)
                    ap_get_module_config(r->server->module_config, &IP2Location_module);

  if(!config->enableFlag)
    return OK;

  ipaddr = r->connection->remote_ip;
  record = IP2Location_get_all(config->ip2locObj, ipaddr);
  if(record) {
    if(config->setMode & ENV_SET_MODE) {
      apr_table_set(r->subprocess_env, 
```

我试图改变这一行：

```
 ipaddr = r->connection->remote_ip; 
```

至

```
 ipaddr = r->header_in('X-Forwarded-For'); 
```

它不会编译并抛出错误

在函数“ip2location_post_read_request”中：错误：“request_rec”没有名为“header_in”的成员，警告字符常量对其类型而言太长

我不确定是否有一个我忽略的简单修复？谢谢！

# javascript - Javascript 魔法：我为我自己的目的编辑所以不要生气

> ID：14722317
> 
> 赞同：-2
> 
> 时间：2013-02-06T05:37:33.647
> 
> 标签：javascript

这段代码从您的网页中提取所有图像并将它们旋转一圈。真的让任何页面都变得赤裸裸（没有图像）。最好的测试地点是一个有很多图片的网站。（例如 Google 图片）。只需将这些代码放在任何网站的 url 中，例如 goggle，记住你需要手动输入“javascript:”

```
 javascript:R=0;  
  x1=.1; y1=.05;
  x2=.25; y2=.24;
 x3=1.6; y3=.24;
  x4=300; y4=200;
 x5=300; y5=200;
 DI=document.getElementsByTagName("img");
 DIL=DI.length; 
 function A(){for(i=0; i-DIL; i++)//is equal to for(i=0; i < DIL; i++)
 { 
 DIS=DI[ i ].style;
 DIS.position='absolute';
 DIS.left=(Math.sin(R*x1+i*x2+x3)*x4+x5)+"px"; 
 DIS.top=(Math.cos(R*y1+i*y2+y3)*y4+y5)+"px"}

R++

}
 setInterval('A()',5); void(0);//u can also use undefined here or u can pass these code to void(all code goes here);
//but u should not pass return false as it is used within a function to exit and return specified value 
```

当返回未定义时，浏览器会读取它并且不会离开当前页面。如果没有放置，它会重定向到下一个空白页面。所以它是强制性的。你也可以将表达式传递给 void(exp here)，它将被评估没有问题，但主要要记住的是它总是返回未定义的，这对于浏览器来说是必要的，还记得 javascript: 是一个类似于 http: 的 uri 方案，所以你知道什么时候知道要放置到 url 的地址浏览器导航到该页面，即使它不存在。 javascript：scheme，浏览器执行javascript代码并将其写入新页面。uri末尾的void运算符返回未定义，如void（exp）/void exp返回未定义，它被执行并阻止浏览器采取默认操作

如果你仔细看上面的代码，它会旋转 HTML“img”标签。只需将其替换为“a”或“p”并观看一些链接或文本旋转而不是图像。但是任何人都可以解释代码中实际发生的事情吗？还有“javascript：”关键字实际上是做什么的？

在超文本文档的 href 属性中，它使用 http 方案。其他时候我们可以使用 javascript: 方案

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T05:42:49.633

您需要注意两个部分：

```
setInterval('A()', 5); 
```

`A`这将每`5`毫秒执行一次函数。

```
function A(){
    for(i=0; i-DIL; i++) { 
        DIS = DI[i].style;
        DIS.position = 'absolute';
        DIS.left = (Math.sin(R*x1+i*x2+x3)*x4+x5)+"px"; 
        DIS.top = (Math.cos(R*y1+i*y2+y3)*y4+y5)+"px";
    }
    R++;
} 
```

此函数循环遍历找到的每个元素，将其位置设置为绝对位置（不必一遍又一遍地执行此操作），然后调整其`left`和`top`值，从而在视口中每 5 毫秒在新位置*重新绘制它。*

如果您对定位每个元素的下一个位置的数学感到困惑，那么这些问题的位置[完全不同](https://math.stackexchange.com/)。

# java - 无法使用 DriverManager 连接到 mysql 数据库

> ID：14722318
> 
> 赞同：0
> 
> 时间：2013-02-06T05:37:34.987
> 
> 标签：java, mysql, jdbc

好的，我正在尝试使用以下代码连接到 mysql 数据库。我尝试查看文档，但我一直没有运气。

这是代码：

```
public class TESTSQL {

static final String JDBC_DRIVER = "com.mysql.jdbc.Driver";
static final String DB_URL = "jdbc:mysql://SLibraryDev.db.996****.hostedresource.com";
static final String USER = "SLD";
static final String PASS = "F11!";

public static void main(String[] args) {

    Connection conn = null;
    Statement stmt = null;

    try {
        // STEP 2: Register JDBC driver
        Class.forName(JDBC_DRIVER);

        // STEP 3: Open a connection
        System.out.println("Connecting to database...");
        conn = DriverManager.getConnection(DB_URL, USER, PASS);
        ...
        } 
```

这是我得到的错误：

```
java.lang.ClassNotFoundException: com.mysql.jdbc.Driver
at java.net.URLClassLoader$1.run(Unknown Source)
at java.net.URLClassLoader$1.run(Unknown Source)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(Unknown Source)
at java.lang.ClassLoader.loadClass(Unknown Source)
at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
at java.lang.ClassLoader.loadClass(Unknown Source)
at java.lang.Class.forName0(Native Method)
at java.lang.Class.forName(Unknown Source) 
```

当我注释掉“Class.forName(JDBC_DRIVER)”并运行它时，我得到这个错误：

```
java.sql.SQLException: No suitable driver found for jdbc:mysql://SLibraryDev.db.996****.hostedresource.com
at java.sql.DriverManager.getConnection(Unknown Source)
at java.sql.DriverManager.getConnection(Unknown Source) 
```

我认为我需要做的是下载并运行它：[http](http://dev.mysql.com/downloads/connector/j/) ://dev.mysql.com/downloads/connector/j/我这样做了，但这个安装程序似乎有问题......似乎是这样从未完成，就像它在过程中间被切断一样。任何人都对我需要做什么有任何想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:51:14.363

从以下网址下载 mysql-connector [http://nearbuy.googlecode.com/files/mysql-connector-java-5.1.13-bin.jar](http://nearbuy.googlecode.com/files/mysql-connector-java-5.1.13-bin.jar)

并将其添加到您的类路径中。

如果您使用的是 netbeans，要将此文件添加到您的项目中，请执行以下操作

右键单击您的项目>单击库>单击添加 JAR/文件夹>然后选择下载的 jar 文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:51:02.257

```
java.sql.SQLException: No suitable driver found for jdbc:mysql://SLibraryDev.db.996****.hostedresource.com
at java.sql.DriverManager.getConnection(Unknown Source)
at java.sql.DriverManager.getConnection(Unknown Source) 
```

清楚地表明您的类路径中没有驱动程序

只需将 mysql 驱动程序 jar 文件添加到类路径中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:40:22.710

您需要下载 mysql jdbc 驱动程序 jar 并将其包含在您的类路径中

# php - 多个按钮，一个 onsubmit

> ID：14722320
> 
> 赞同：0
> 
> 时间：2013-02-06T05:37:40.667
> 
> 标签：php, javascript

我有两个按钮形式为 ques 和 ans。当我单击问题按钮时，带有一些文本字段的相同表单将打开，并且在表单中我有两个按钮添加和清除。通过单击添加，输入的字段将输入到数据库中。明智的做法是单击答案按钮。我对两个按钮都有一个 onsubmit=return valid() 。我必须为两个按钮编写单独的脚本，检查条件。但我只写了答案按钮。我不知道如何在一个函数 valid() 中编写两个按钮。请告诉我如何为函数内的两个按钮编写代码。

```
function valid()
{

    var quest=document.getElementById('ques1').value;

    var cno=document.getElementById('cno').value;
    var pno=document.getElementById('pno').value;

    quest1=trim(quest1);
    pno=trim(pno);
    cno=trim(cno);

    if(quest=="")
    {
        alert("Please enter Question"); 
        document.getElementById('ques1').focus();
        return false;
    }
    else if( pno=="")
    {
        alert("Please enter valid Page No");
        document.getElementById('pno').focus();
        return false;
    }
    else if (cno=="")
    {
        alert("Please Select Chapter No");
        document.getElementById('cno').focus();
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:20:36.947

你可以做这样的事情

```
function validate(button_value) {
            if(button_value=='test1') {
                if(document.getElementById('rest1').value=="") {
                    alert('Blank for input 2');
                    return false;
                }
            } else if(button_value=='test') {
                if(document.getElementById('rest').value=="") {
                    alert("Blank for input 1");
                    return false;
                }
            }
        } 
```

我测试的 HMTL：

```
<form method="POST" action="" onsubmit="return validate(this.submited);">
<input type="text" name="rest" id="rest" value=""/> 
<input type="text" name="rest1" id="rest1" value=""/>   
<input onclick="this.form.submited=this.value;" type="submit" id="test" value="test"/>
<input onclick="this.form.submited=this.value;" type="submit" id="test1" value="test1"/>
</form> 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:43:46.590

```
 <form method="POST" action="<?php echo  $_SERVER['PHP_SELF']; ?>" onsubmit="return validate(this.submited);">
            Question : <input type="text" name="ques"> 
            Answer : <input type="text" name="ans">   
            <input type="submit" name="subques" value="Ask Question"/> <input type="submit" name="subans" value="Reply Answer"/>
            </form>
            <hr>
            <?php
                if(isset($_POST['subques']))
                {
                        if(isset($_POST['ques']))
                        {
                            if($_POST['ques'] != '' && $_POST['ques'] != NULL)
                            {
                                echo "Your question is: " . $_POST['ques'];
                            }
                        }
                }
                if(isset($_POST['subans']))
                {
                        if(isset($_POST['ans']))
                        {
                            if($_POST['ans'] != '' && $_POST['ans'] != NULL)
                            {
                                echo "Your answer is: " . $_POST['ans'];
                            }
                        }   
                }
            ?> 
```

# iphone - 为什么我们在 Objective-C 中使用类别

> ID：14722326
> 
> 赞同：-4
> 
> 时间：2013-02-06T05:37:54.280
> 
> 标签：iphone, xcode, categories

谁能解释我们为什么需要类别。我需要在我的项目中使用类别，但不知道如何使用类别以及为什么我们需要使用类别。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:53:27.187

首先，您需要使用谷歌搜索答案。

你会得到很多教程，比如：

1.  [**Objective-C 类别**](http://mobile.tutsplus.com/tutorials/iphone/objective-c-categories/)
2.  [**Objective C 中的类别**](http://iphonelearning.wordpress.com/2011/09/13/categories-in-objective-c/)
3.  [**Objective-C：类别**](http://macdevelopertips.com/objective-c/objective-c-categories.html)
4.  [**自定义现有类**](http://developer.apple.com/library/ios/#documentation/cocoa/conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html)

假设如果您需要在`NSString`类中添加一个方法来验证电子邮件地址，那么您需要使用 category。您可以使用类别向现有类添加额外的方法。然后就可以使用已有类的对象，按照上面的例子，`NSString`调用添加的方法的对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:55:19.940

您将在 :: [http://mobile.tutsplus.com/tutorials/iphone/objective-c-categories/上获得更好的描述](http://mobile.tutsplus.com/tutorials/iphone/objective-c-categories/)

# php - 如何将 register.php 合并到 html

> ID：14722327
> 
> 赞同：0
> 
> 时间：2013-02-06T05:38:11.507
> 
> 标签：php, database, html

我正在尝试为我的网站创建一个用户系统。于是我成功地做了一个register.php。

```
<?php
// dbConfig.php is a file that contains your
// database connection information. This
// tutorial assumes a connection is made from
// this existing file.
include ("dbConfig.php");
//Input vaildation and the dbase code
if ( $_GET["op"] == "reg" )
 {
 $bInputFlag = false;
 foreach ( $_POST as $field )
  {
  if ($field == "")
   {
   $bInputFlag = false;
   }
  else
   {
   $bInputFlag = true;
   }
  }
 // If we had problems with the input, exit with error
 if ($bInputFlag == false)
  {
  die( "Problem with your registration info. "
   ."Please go back and try again.");
  }
 // Fields are clear, add user to database
 //  Setup query
 $q = "INSERT INTO `umass` (`email`,`password`,`school`) "
  ."VALUES ('".$_POST["email"]."', "
  ."PASSWORD('".$_POST["password"]."'), "
  ."'".$_POST["school"]."')";
 //  Run query
 $r = mysql_query($q);

 // Make sure query inserted user successfully
 if ( !mysql_insert_id() )
  {
  die("Error: User not added to database.");
  }
 else
  {
  // Redirect to thank you page.
  Header("Location: register.php?op=thanks");
  }
 } // end if
//The thank you page
elseif ( $_GET["op"] == "thanks" )
 {
 echo "<h2>Thanks for registering!</h2>";
 }

//The web form for input ability
else
 {
 echo "<form action=\"?op=reg\" method=\"POST\">\n";
 echo "Email Address: <input name=\"email\" MAXLENGTH=\"30\"><br />\n";
 echo "Password: <input type=\"password\" name=\"password\" MAXLENGTH=\"16\"><br />\n";
 echo "School: <input name=\"school\" MAXLENGTH=\"30\"><br />\n";
 echo "<input type=\"submit\">\n";
 echo "</form>\n";
 }
// EOF
?> 
```

有用。当我尝试将我的代码迁移到我的 html 时，我收到此错误。

```
die("Error: User not added to database."); 
```

代码

```
<div id="register">
register.php code here
</div> 
```

PS 我编辑了我的 htaccess 以运行带有 html 扩展名的 php 脚本。

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:41:58.790

将 html 文件更改为 php 并：试试这个

```
<div id="register">
   <?php include_once('register.php')?>
</div> 
```

# url-rewriting - Liferay 博客 url 重写

> ID：14722332
> 
> 赞同：1
> 
> 时间：2013-02-06T05:38:23.507
> 
> 标签：url-rewriting, blogs, liferay-6

我正在使用 liferay 6.1，并且我已经使用 url 重写缩短了博客的 url，但我仍然在 url 中遇到问题。url 像这样显示`localhost:8080/blog/-/blogs/testing`，但我想将 url 更改为这个`localhost:8080/blog/blogs/testing`简短的我想`-`从 url 中删除 。

任何帮助将不胜感激，我尝试了很长时间，但找不到解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-22T09:11:14.113

您可以尝试使用可以在 Liferay 中使用的[urlrewrite.xml](http://tuckey.org/urlrewrite/manual/2.6/)文件来执行此操作，但更好的选择是将 Liferay 放在 Apache 反向代理之后并使用其重写功能：[http ://httpd.apache.org/ docs/2.0/misc/rewriteguide.html](http://httpd.apache.org/docs/2.0/misc/rewriteguide.html)

# c# - 在 WCF 中如何添加两个值，获取下一个值并从上一个结果中减去？

> ID：14722334
> 
> 赞同：0
> 
> 时间：2013-02-06T05:38:54.197
> 
> 标签：c#, vb.net, wcf

嗨，我是 WCF 的新手，我想为单元测试创​​建一个令人困惑的计算器。

```
 public int Add(int n1, int n2)
    {
        int addedResult = n1 + n2;
        return addedResult;

    } 
```

我知道如何添加两个数字并减去它们。但是如何获得新数字并从 addedResult 中减去？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:42:27.157

> 你如何得到新数字并从addResult中减去？

您必须使用第三个参数公开另一个方法。在您的服务接口中定义该方法并在您的服务中实现该方法。

```
public int Add(int n1, int n2, int n3)
{
    int addedResult = (n1 + n2) - n3;
    return addedResult;
} 
```

请记住在您的界面中定义该方法。

```
 [ServiceContract]
    public interface IService
    {
        [OperationContract]
        public int Add(int n1, int n2, int n3) 
```

# extjs - 树的子节点/节点上的单击事件

> ID：14722335
> 
> 赞同：7
> 
> 时间：2013-02-06T05:38:54.940
> 
> 标签：extjs, extjs4

我真的被 ExtJs 树对象弄糊涂了，我的代码有问题，但我不知道是什么。

考虑我有这个代码：

```
var store = Ext.create('Ext.data.TreeStore', {
    root: {
        expanded: true,
        children: [
            { text: "detention", leaf: true },
            { text: "homework", expanded: true, children: [
                { text: "book report", leaf: true },
                { text: "alegrbra", leaf: true}
            ] },
            { text: "buy lottery tickets", leaf: true }
        ]
    }
});

Ext.create('Ext.tree.Panel', {
    title: 'Simple Tree',
    width: 200,
    height: 150,
    store: store,
    rootVisible: false,
    renderTo: Ext.getBody()
}); 
```

如何将**点击**事件绑定到我的树的孩子/叶子？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-06T05:47:36.953

像这样？

```
var store = Ext.create('Ext.data.TreeStore', {
    root: {
        expanded: true,
        children: [
            { text: "detention", leaf: true },
            { text: "homework", expanded: true, children: [
                { text: "book report", leaf: true },
                { text: "alegrbra", leaf: true}
            ] },
            { text: "buy lottery tickets", leaf: true }
        ]
    }
});

Ext.create('Ext.tree.Panel', {
    title: 'Simple Tree',
    width: 200,
    height: 150,
    store: store,
    rootVisible: false,
    renderTo: Ext.getBody(),
    listeners: {
        itemclick: function(s,r) {
                alert(r.data.text);
        }
    }
}); 
```

看到这个**[JSFiddle](http://jsfiddle.net/S5BSp/1/)**

# javascript - 用于 ASP.NET 的图像水平卷轴滚动动态幻灯片

> ID：14722338
> 
> 赞同：0
> 
> 时间：2013-02-06T05:39:01.523
> 
> 标签：javascript, jquery, asp.net, css

有谁知道如何在 asp.net 中创建水平卷轴滚动幻灯片，如下链接所示！

[WordPress 的 Live Demo 水平幻灯片放映链接](http://www.gopiplus.com/work/2011/05/08/wordpress-plugin-image-horizontal-reel-scroll-slideshow/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T08:24:09.267

基本上你需要 Jquery，周围有很多滑块。

适合您要求的简单易行就是这个 [http://net.tutsplus.com/tutorials/javascript-ajax/building-a-jquery-image-scroller/](http://net.tutsplus.com/tutorials/javascript-ajax/building-a-jquery-image-scroller/)

上述演示 [http://nettuts.s3.amazonaws.com/300_jquery/image%20Scroller/imageScroller.html](http://nettuts.s3.amazonaws.com/300_jquery/image%20Scroller/imageScroller.html)

您需要在页面加载时将图像绑定到滑块，而 Jquery 将负责其余的工作。

# java - HBase 性能调整因素

> ID：14722359
> 
> 赞同：1
> 
> 时间：2013-02-06T05:41:35.470
> 
> 标签：java, hadoop, hbase

我正在运行 Hbase 0.94.0。我已经插入了 100000 条 1Lakh 记录。在不调整任何性能因素的情况下，我的写入性能为 60 秒，读取一条记录为 5 毫秒。如何提高我的表现。

我已经搜索了互联网，但我不知道如何提高我的 hbase 性能。

有具体的网站吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T07:00:06.877

Apache 提供了非常好的性能调优文档。请参阅以下链接以进行数据库端性能调整。

[Hbase 性能调优](http://hbase.apache.org/book/perf.writing.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-09T10:18:23.747

如果您使用 HDD 驱动器，更改为 SSD 将完全提高性能！

# java - 除了 java.text.SimpleDateFormat 之外，还有 java.text.DateFormat 的其他实现吗

> ID：14722362
> 
> 赞同：0
> 
> 时间：2013-02-06T05:41:50.963
> 
> 标签：java, simpledateformat, jdk1.6, date-format

java.text.SimpleDateFormat 毕竟是 java.text.DateFormat 的实现。DateFormat 的这个实现可以理解以下模式字母

```
G Era designator
y Year
M Month in year
w Week in year
W Week in month
D Day in year
d Day in month
F Day of week in month
E Day in week
a Am/pm marker
H Hour in day (0-23)
k Hour in day (1-24)
K Hour in am/pm (0-11)
h Hour in am/pm (1-12)
m Minute in hour
s Second in minute
S Millisecond
z Time zone
Z Time zone 
```

java.text.DateFormat还有其他的实现，可以理解一些其他的模式字母组吗？如果有，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:00:19.907

`java.text.SimpleDateFormat`是唯一公开的扩展 JDK 类`java.text.DateFormat`；但是，不能保证`DateFormat`的工厂方法，例如`getDateInstance()`，一定会返回 a `java.text.SimpleDateFormat`。相反，它们可以返回 JDK 实现提供的某个其他类的实例。（即使在这种情况下，我也不确定其他班级是否会“理解其他模式字母组”，正如您所建议的那样；相反，我*猜*如果语言环境具有日期解析并且 –格式需求比简单文本模式所能提供的更复杂，而不是语言环境需要*不同*的模式。但谁知道呢？）

正如[Javadoc for`java.text.DateFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html)所说：

> 如果您想对格式或解析进行更多控制（或想给您的用户更多控制权），您可以尝试将`DateFormat`您从工厂方法获得的`SimpleDateFormat`. 这将适用于大多数国家；只要记住把它放在一个`try`块中，以防遇到不寻常的块。

`DateFormat`如果需要，您可以使用自己的日期格式子类进行扩展。它的构造函数是`protected`，不是包私有的，所以你可以自由地继承它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:56:50.377

[IBM 的 ICU 项目](http://icu-project.org/apiref/icu4j48rc1/com/ibm/icu/text/SimpleDateFormat.html)`java.text.SimpleDateFormat`中有一个替代类可用。你可以看看那个。但这只是一个替换类，与类无关。`java.text.SimpleDateFormat`

# grails - 捕获来自控制器/服务的传出 HTTP 请求

> ID：14722372
> 
> 赞同：1
> 
> 时间：2013-02-06T05:42:25.643
> 
> 标签：grails, servlets, servlet-filters

所以我有以下场景（它是一个 Grails 2.1 应用程序）：

*   我有一个可以通过 //localhost:8080/myController 访问的控制器
*   该控制器依次执行对另一个 URL 的调用，使用`new URL("https://my.other.url").openConnection()`
*   我想捕获请求，以便记录信息

我已经有一个`Filter`礼物，`web.xml`它可以很好地用于映射到我的应用程序中的控制器。但是，一旦向外部 URL 发出请求，我什么也得不到。

我知道我的过滤器只会被调用到我的应用程序内的 URL，这取决于我的过滤器映射，这很好。

我很难看到应用程序内部的解决方案实际上是如何可行的。我正在考虑与 DevOps 团队一起使用混合方法来捕获来自容器的此类传出调用，然后将它们记录到单独的文件中。

我想我的问题是：

1.  有没有办法在应用程序本身内做到这一点？
2.  我计划的方法是明智的吗？

干杯!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T05:51:07.370

您不想使用[http-builder 的](http://groovy.codehaus.org/modules/http-builder/doc/)任何原因？它有一个 Grails 插件，它使远程 XML 调用比自己处理管道要容易得多。在链接页面的底部，他们描述了如何通过 log4j 配置启用请求日志记录。

# html - 绝对定位的 div 不会获得浮动子内容的高度

> ID：14722374
> 
> 赞同：0
> 
> 时间：2013-02-06T05:42:27.640
> 
> 标签：html, css

我一直在努力解决这个问题，我很困惑（并且可能遗漏了一些明显的东西）。我有一个带有绝对定位 div 的页面，在绝对定位 div 内，有两个向左浮动的内容 div。左侧内容 div 的高度为 1200px（基于其中的内容）。我希望右侧的 div 与其左侧的 div 高度相同，但我无法做到这一点。右侧 div 的高度与其父级（绝对定位的 div）的高度相同，即 530px。如果我上链，body 和 html 也是 530px（它们都被称为 height: 100%）。我在包含两个浮动 div 的绝对定位 div 的末尾放置了一个带有 clear 的 div，什么都没有。

这一直让我发疯。我将包含一些 HTML 来说明发生了什么：

```
<html>
<head></head>
<body> <---- height 100%
<div id="container">
     <div id="header">
     </div>
     <div id="content"> <--- Absolute div, height 100%
          <div id="left-column"><---- float left
          </div>
          <div id="right-column><---- float left
          </div>
          <div class="clear"></div> <--- cleared div
     </div>
</div>  
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:10:56.763

我认为你真正的问题是

> 我希望右边的 div 与左边的 div 高度相同

正确的？

如果是这样，您可以在这里找到解决方案：http: [//matthewjamestaylor.com/blog/equal-height-columns-cross-browser-css-no-hacks](http://matthewjamestaylor.com/blog/equal-height-columns-cross-browser-css-no-hacks)

# c# - 如何在运行时使用 C# 在代码中定义 GridView 的行数

> ID：14722375
> 
> 赞同：0
> 
> 时间：2013-02-06T05:42:32.447
> 
> 标签：c#, asp.net

我需要开发这样一个程序，其中 GridView 的行应该在运行时决定。

即我在数据库中有一个名为经销商容量的表。

Dealer_ID 容量
D0001 5

现在，当从组合框中选择经销商 D00001 时，网格视图中的行数应为 5。我也想使用模板字段。

我的 GridView 代码是：

```
<asp:GridView ID="grdlicence" runat="server" DataKeyNames="Version_id" GridLines="None" BorderStyle="Solid" AutoGenerateColumns="false" AllowSorting="true"     
        CssClass="mGrid table" 
        PagerStyle-CssClass="pgr" 
        AlternatingRowStyle-CssClass="alt" >
             <Columns>
                 <asp:BoundField DataField="Version_name" ItemStyle-CssClass="uppercase" ItemStyle-Width="150px"   HeaderText="Version" HeaderStyle-HorizontalAlign="Left" />

                <asp:BoundField DataField="Version_id" Visible="false" HeaderText="Version" HeaderStyle-HorizontalAlign="Left" />

              <asp:TemplateField HeaderText="Price">
                <ItemTemplate>
                       <center><asp:TextBox ID="txtprice" CssClass="alignments TextStyle" MaxLength="5"  runat="server" ></asp:TextBox></center>
                </ItemTemplate>
              </asp:TemplateField>

              <asp:TemplateField HeaderText="Licence Id">
                <ItemTemplate>
                       <center><asp:TextBox ID="txtlicenceid" CssClass="alignments uppercase"  runat="server" ></asp:TextBox></center>
                </ItemTemplate>
              </asp:TemplateField>

              <asp:TemplateField HeaderText="Purchase Date">
                <ItemTemplate>
                       <center><asp:TextBox ID="txtpurchasedate"  onfocus="showCalendarControl(this);"  CssClass="alignments TextStyle"   runat="server"></asp:TextBox></center>
                </ItemTemplate>
              </asp:TemplateField>

              <asp:TemplateField HeaderText="Expiry Date">
                <ItemTemplate>
                       <center><asp:TextBox ID="txtexpirydate"  onfocus="showCalendarControl(this);"  CssClass="alignments TextStyle"   runat="server"></asp:TextBox></center>
                </ItemTemplate>
              </asp:TemplateField>

                 <asp:TemplateField HeaderText="Upload File">
                <ItemTemplate>
                     <center><asp:FileUpload ID="fileUpload" runat="server"  /></center> 
                </ItemTemplate>
              </asp:TemplateField>

           </Columns>

           </asp:GridView> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:57:58.530

您可以使用 linq[`Take()`](http://msdn.microsoft.com/en-us/library/bb503062.aspx)并将数字作为参数传递。

* * *

根据评论更新，使用以下代码。

```
grdlicence.DataSourse= ds.Take(5);
grdlicence.DataBind(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:44:57.517

您需要为 GridView 定义[PageSize](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.pagesize.aspx)并记住将 GridView 的[AllowPaging](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.allowpaging.aspx)设置为 true

[GridView.PageSize 属性](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.pagesize.aspx)

> 获取或设置要在 GridView 控件的页面上显示的记录数。
> 
> 默认值为 10。

您可能会看到这篇文章：[ASP.NET 中的 GridView 分页示例](http://www.c-sharpcorner.com/UploadFile/rohatash/gridview-paging-sample-in-Asp-Net/)

# c# - 仅从数据库表中获取一些最新值

> ID：14722386
> 
> 赞同：0
> 
> 时间：2013-02-06T05:43:31.770
> 
> 标签：c#, sql-server, versioning

我想要问一些事。

这是表格：

```
A_ID    B_ID    C_ID    Version E_ID    F_ID

1009    2882000 mi7       1      200    01.mi7.LBUS.BSMS5.1360062644 
1009    2882000 mi7       1      200    02.mi7.LBUS.BSMS5.1360062656 
1009    2882000 mi7       1     -130    03.mi7.LBUS.BSMS5.1360062670 
1009    2882000 mi7       2      200    01.mi7.LBUS.BSMS5.1360062681 
1009    2882000 mi7       2      200    02.mi7.LBUS.BSMS5.1360062689 
```

我想从最新版本的表中获取 E_ID 和 F_ID 的所有值，参考版本列，版本列将增加参考其他进程，我希望始终获得最新值

我想要的输出是：

```
Version    E_ID          F_ID
2        200    01.mi7.LBUS.BSMS5.1360062681 
2        200    02.mi7.LBUS.BSMS5.1360062689 
```

我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:47:28.623

尝试：

```
SELECT E_ID, F_ID
FROM [the table]
WHERE [Version] = (SELECT MAX([Version]) FROM [the table]) 
```

在您的情况下，这将返回 Version = 2 的所有行。

# javascript - 使用 javascript 的 flex air 移动通信

> ID：14722387
> 
> 赞同：3
> 
> 时间：2013-02-06T05:43:32.917
> 
> 标签：javascript, html, apache-flex, module, externalinterface

我有一个教育应用程序，其中包含三个组件，即；android 通信引擎、flex 内容桥和 flash 内容。现在我的任务是用 HTML 内容替换 flash 内容，HTML 内容将通过 JavaScript 与 flex bridge 通信。我已经尝试这个东西一个多星期了，但没有成功。
甚至有可能在没有任何黑客攻击的空中移动项目（为android编译）中实现这一目标吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T16:02:21.757

正如 Pieter 所建议的，对于那些希望通过 Flex 使用 Javascript 进行通信的人来说，[这是一种很好的享受。](http://sean.voisen.org/blog/2010/10/making-the-most-of-stagewebview/)但由于链接可能会中断，让我在这里稍微解释一下：

在 Javascript 中

```
document.location = '$' + 'Data#As#String'; 
```

在 Flex 中

```
webview.addEventListener( LocationChangeEvent.LOCATION_CHANGING,
handleLocationChanging );

function handleLocationChanging( event:LocationChangeEvent ):void
{
   event.preventDefault();

   //location parameter will have a absolute path of the .html file as a prefix
   var strParameters:Array = (e.location as String).split("$");

   trace(strParameters[1] + "Is the string received from Javascript");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:11:04.863

我使用 Sockets 解决了我的（类似）问题，现在我有一个 java 服务器，它可以在我的 air 应用程序中调用函数（用于自动化测试目的）我想你也可以像这样解决你的问题。如果需要，我可以发布一个小例子

# c# - Moq 对不同类的函数调用

> ID：14722388
> 
> 赞同：-1
> 
> 时间：2013-02-06T05:43:33.940
> 
> 标签：c#, asp.net-mvc, unit-testing, moq

嗨，我需要使用 Moq 模拟以下方法。

```
[HttpPost]
public ActionResult Create(TagsViewModel tagsViewModel)
{
    return RedirectToAction("Index", new { sid = specification.SpecificationId }).Success("Saved Successfully!");
} 
```

但是我在上面的行中收到了一个例外。问题是，在那里的 Success() 方法中，它使用了“System.Web.HttpContext”类，而没有模拟代码失败的情况。所以我考虑在测试方法中模拟“成功”方法本身，这样我就不必担心模拟 HttpContext。那可能吗？（'Success()' 方法与测试类在不同的类中）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:06:34.423

你也许可以尝试这样的事情

```
[HttpPost]
public ActionResult Create(TagsViewModel tagsViewModel)
{
    var someUnknownObj = TestableRedirectToAction(tagsViewModel);
    return someUnknownObj.Success("Saved Succesfully");        
}

internal someUnknownObjType TestableRedirectToAction(TagsViewModel tagsViewModel)
{
    // ................................
    // ................................
    return RedirectToAction("Index", new { sid = specification.SpecificationId })
} 
```

现在测试承载所有逻辑的 TestableRedirectToAction 方法 - Success()

# c - Linux平台下以编程方式获取USB设备的厂商ID、产品ID

> ID：14722392
> 
> 赞同：7
> 
> 时间：2013-02-06T05:44:38.407
> 
> 标签：c, usb, linux-device-driver

我一直在尝试编写一个简单的设备驱动程序，我应该在其中以编程方式获取供应商 ID 和产品 ID。浏览了几乎所有必要的头文件后，我得出一个结论，我可以通过一个结构访问[USB](http://en.wikipedia.org/wiki/Universal_Serial_Bus)`struct usb_device{}`设备的供应商 ID、产品 ID 和制造商详细信息：其中有一个成员`struct usb_device_descriptor{}`. 这个嵌套结构有`idVendor, idProduct`and`iManufacturer`和一些其他成员。

但不知何故，由于某种原因，我无法访问这些成员，所以当我`dmesg`在插入模块后执行 a 时，它会打印一些垃圾值。我很高兴收到帮助或提示或任何回应。以下是我到目前为止编写的代码：

PS：已经制作了必要的夹杂物。

浏览了几乎所有必要的头文件后，我知道我可以通过一个结构访问 USB 设备的供应商 ID、产品 ID 和制造商详细信息：`struct usb_device{}`其中有一个成员`struct usb_device_descriptor{}`. 这个嵌套结构有`idVendor, idProduct`and`iManufacturer`和一些其他成员。

```
//*******************************************

struct usb_device udev;

struct usb_bus *bus;
ssize_t ret;

static int __init usb_fun_init(void)
{
    int result;
    __le16 idVendor = 0;
    __le16 idProduct = 0;
    __u8 iManufacturer = 0;

    printk(KERN_INFO "\n************************************ in init\n");
    list_for_each_entry(bus, &usb_bus_list, bus_list){

    printk(KERN_INFO "***************** Begins ****************");
    printk(KERN_INFO "\nVendor ID = %d", udev.descriptor.idVendor);
    printk(KERN_INFO "\nProduct ID = %d", udev.descriptor.idProduct);
    printk(KERN_INFO "\nManufacturer = %s", udev.descriptor.iManufacturer);

    return 0;
}

static int __exit usb_fun_exit(void)
{
    printk(KERN_INFO "\n************************************ in exit\n");
}

module_init(usb_fun_init);
module_exit(usb_fun_exit);

MODULE_LICENSE("GPL"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T05:56:24.527

我想，以上是您的内核模块的完整代码。无论如何，您使用的是正确的结构和供应商 ID，设备 ID 将在设备描述符中可用。[有关描述符的更多详细信息，请参阅](http://www.beyondlogic.org/usbnutshell/usb5.shtml)。

[我建议你在这里](http://lxr.free-electrons.com/source/drivers/usb/misc/usbtest.c)参考内核代码。

**更新1：**

* * *

以下程序将为您提供有关系统中可用 HUB 的信息。usb_hub_for_each_child 宏在 3.2.0 内核版本中不支持，但在最新的 3.7.x 版本中支持。

`usb_bus_list`在中声明`#include <linux/usb/hcd.h>`。

```
#include <linux/module.h>
#include <linux/kernel.h>
#include <linux/usb.h>
#include <linux/usb/hcd.h>
#include <linux/list.h>

MODULE_LICENSE("GPL");

int ourinitmodule(void)
{

int chix = 0;
struct usb_device *dev, *childdev = NULL;
struct usb_bus *bus = NULL;

list_for_each_entry(bus, &usb_bus_list, bus_list)
{
   printk("\n USB Bus : %d", bus->busnum);

   dev = bus->root_hub;

   printk("\n Vendor Id:%x, Product Id:%x\n", dev->descriptor.idVendor, dev->descriptor.idProduct);
#if 0 //usb_hub_for_each_child macro not supported in 3.2.0, so trying with 3.7.6.
   usb_hub_for_each_child(dev, chix, childdev)
   {
        if(childdev)
        {
           printk("\n Vendor Id:%x, Product Id:%x\n", childdev->descriptor.idVendor, childdev->descriptor.idProduct);
        }
   }
#endif

}    

printk(KERN_ALERT "\n Hello Jay, Welcome to sample application.... \n");

return 0;
}

void ourcleanupmodule(void)
{
printk(KERN_ALERT "\n Hello Jay, Thanks....Exiting Application. \n");
return;
}

module_init(ourinitmodule);
module_exit(ourcleanupmodule); 
```

输出是

```
USB Bus :4
Vendor Id:1d6B, Product Id:3
USB Bus :3
Vendor Id:1d6B, Product Id:2
USB Bus :2
Vendor Id:1d6B, Product Id:2
USB Bus :1
Vendor Id:1d6B, Product Id:2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:32:48.623

在花了一些时间探索头文件之后，我让它工作了。这很简单，只是我无法想象发生了什么以及它是如何发生的。我很想感谢所有发布/回复它的人。这是更新的示例代码，以便像我这样的新手可以参考它。虽然它根本不是一个完美的参考，但如果有人提出建议和修改，我会很高兴。谢谢你！

```
struct usb_device udev;  

struct usb_bus *bus;  
ssize_t ret;  
static int __init usb_fun_init (void)  
{  
    int result;  
    __le16 idVendor = 0;  
    __le16 idProduct = 0;  
    __u8 iManufacturer = 0;  
    __u8 iSerialNumber = 0;  

    printk(KERN_INFO "\n************************************ in init\n");  
    list_for_each_entry(bus, &usb_bus_list, bus_list)
    {  
        printk(KERN_INFO "***************** Begins ****************");  

        printk(KERN_INFO "Vendor ID = %x", bus->root_hub->descriptor.idVendor);  
        printk(KERN_INFO "Product ID = %x", bus->root_hub->descriptor.idProduct);  
        printk(KERN_INFO "Serial Number = %x", bus->root_hub->descriptor.iSerialNumber);  
        //printk(KERN_INFO "Manu = %s", bus->root_hub->descriptor.iManufacturer);  
        printk(KERN_INFO "Manu = %s", bus->root_hub->manufacturer);  
        printk(KERN_INFO "Product = %s", bus->root_hub->product);  
        printk(KERN_INFO "Serial Number = %s", bus->root_hub->serial);  
        printk(KERN_INFO "\nManufacturer = %s", udev.bus.iManufacturer);         
    }     
    return 0;  
}  

static void __exit usb_fun_exit (void)  
{  
    printk(KERN_INFO "\n************************************ in exit\n");  
}  

module_init(usb_fun_init);  
module_exit(usb_fun_exit);  

MODULE_LICENSE("GPL"); 
```

# spring - jquery ajax调用未到达spring mvc控制器

> ID：14722401
> 
> 赞同：1
> 
> 时间：2013-02-06T05:45:18.717
> 
> 标签：spring

***我经历了类似的问题，但无法弄清楚为什么我的代码不起作用。请指出我的代码中有什么错误。问题是 jquery ajax 调用没有到达 spring mvc 控制器***

**我正在使用 Spring 3.2 和 jackson 1.9**

***QuestionnaireController.java***

```
@Controller
public class QuestionnaireController {

    public QuestionnaireController()
    {
        super();
    }   

        @RequestMapping(value="/getQnrList.do")
        public @ResponseBody Message getMessage(@RequestParam String inputMessage) 
                {
          Message message = new Message();
          message.setMessage("I was sent the message : " + inputMessage + " : so I returned.");
          return message;
        }
} 
```

***问卷列表.jsp***

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>

<script type="text/javascript" src="scripts/jquery-1.6.2.js"></script>
<script type="text/javascript" src="scripts/jquery-ui-1.8.16.custom.min.js"></script>
<script type="text/javascript" src="scripts/json.min.js"></script>

<script type="text/javascript">

function queClick()
{
        $.ajax({
    url:"getQnrList.do",
    method: "GET",
    dataType: "json",
    contentType: 'application/json',
    data: {inputMessage : 'hello'},
    success: function()
        {
            alert("hola");
        },
        error: function(jqXHR, textStatus, errorThrown) {
            alert("error:" + textStatus + " - exception:" + errorThrown);
            }
    }); 
}

</script>
</head>
<body>
<p>Questionnaire test</p>
<input type="button" value="Get Questionnaire!" onClick="queClick()">
</body>
</html> 
```

***类路径上的 jar 文件***

```
<classpathentry kind="lib" path="D:/Questionnaire1.0 libs/commons-fileupload-1.2.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/commons-io-1.4.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/commons-lang3-3.0.1.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/commons-logging-1.1.1.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/jackson-core-asl-1.9.11.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/jackson-mapper-asl-1.9.11.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/jstl-1.2.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/log4j-1.2.15.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/mongo-2.10.1.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/servlet-api.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/slf4j-api-1.7.1.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/slf4j-simple-1.7.1.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-aop-3.2.1.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-beans-3.2.1.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-context-3.2.1.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-context-support-3.2.1.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-core-3.2.1.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-data-commons-core-1.4.0.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-data-mongodb-1.1.0.RC1.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-data-mongodb-cross-store-1.1.0.RC1.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-data-mongodb-log4j-1.1.0.RC1.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-expression-3.2.1.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-tx-3.2.1.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-web-3.2.1.RELEASE.jar"/>
    <classpathentry kind="lib" path="D:/Questionnaire1.0 libs/spring-webmvc-3.2.1.RELEASE.jar"/>
    <classpathentry kind="output" path="build/classes"/> 
```

***web.xml***

```
 <?xml version="1.0" encoding="UTF-8"?>
    <web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-  app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee   http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5">
    <display-name>QuestionnaireTEST</display-name>
    <welcome-file-list>
    <welcome-file>questionnaireList.jsp</welcome-file>
    </welcome-file-list>
    <servlet>
    <servlet-name>qnr</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>qnr</servlet-name>
    <url-pattern>/Questionnaire/*</url-pattern>
  </servlet-mapping>
  <listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
  </listener>
  <context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
            /WEB-INF/rf_applicationContext.xml
        </param-value>
      </context-param>
    </web-app> 
```

* **rf_applicationContext.xml***

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans">

    <context:annotation-config></context:annotation-config>

    <context:component-scan base-package="com.ref"></context:component-scan>

    <mvc:annotation-driven></mvc:annotation-driven>

    <context:property-placeholder location="classpath:config.properties"></context:property-    placeholder>
    <import resource="rf_spring-data.xml" />
</beans> 
```

***萤火虫错误讯息***

404 未找到 -`http://localhost:8080/Questionnaire/getQnrList.do? {%22inputMessage%22:%22hello%22}"`

***我无法找出错误在哪里***

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:16:50.263

问题是您在 web.xml 中没有 .do 的 url 模式

添加这个

```
 <servlet-mapping>
<servlet-name>qnr</servlet-name>
<url-pattern>*.do</url-pattern>
  </servlet-mapping> 
```

同样，您的成功函数将不会被调用，因为该函数没有将参数更改`success: function()`为`success: function(data)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:03:11.400

您能否尝试将网址设置为此并查看：

```
url: "http://localhost:8080/Questionnaire/getQnrList.do", 
```

可能是网址不对。。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-31T15:36:15.093

要解决此问题，您可以做的第一件事是验证您的调度程序 servlet 文件，以确保 url 映射等参数。

除此之外，您可以尝试在 @Controller 之后提供 @RequestMapping 并在控制器中编写一个带有一些日志条目的小型 GET 方法，并查看 ajax 调用是否到达控制器（如果不是控制器中的预期方法）。一旦您确认您将更好地了解问题的根本原因是什么。

# vb.net - 计时器分钟总是 30 秒

> ID：14722402
> 
> 赞同：0
> 
> 时间：2013-02-06T05:45:20.620
> 
> 标签：vb.net

Goodday，我使用下面的代码来启动一个计时器。Label2.Text = Difference1.TotalMinutes.ToString("N0") 但分钟总是 30 秒后。标签显示时间为 1 分钟，仅经过 30 秒，此后我总是 30 秒。我该如何校准这个？谢谢罗伯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:30:59.957

如果您查看[TimeSpan.TotalMinutes](http://msdn.microsoft.com/en-us/library/system.timespan.totalminutes%28v=vs.100%29.aspx)属性的定义，它会声明：

> 获取以整分钟和小数分钟表示的当前 TimeSpan 结构的值。

因此，当您使用 ToString(" [N0](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx#NFormatString) ") 格式时，您会告诉它您不需要小数位，并且由于它是一种数字格式，它会将您的值向上取整。[`TimeSpan Custom Formats`](http://msdn.microsoft.com/en-us/library/ee372287.aspx)在这种情况下，您应该特别考虑使用[%m](http://msdn.microsoft.com/en-us/library/ee372287.aspx?cs-save-lang=1&cs-lang=vb#code-snippet-11)自定义格式字符串。它应该看起来像这样：

```
 Label2.Text = Difference1.TotalMinutes.ToString("%m") 
```

* * *

我用来测试的代码。定时器间隔设置为 1000 并启用。

```
Public Class Form1
    Dim startTime As DateTime = DateTime.Now
    Private Sub Timer1_Tick(sender As System.Object, e As System.EventArgs) Handles Timer1.Tick
        Label1.Text = (DateTime.Now - startTime).ToString("%m")
        Label2.Text = (DateTime.Now - startTime).TotalSeconds.ToString("N0")
    End Sub
End Class 
```

# .net - 詹金斯有更简单的替代品吗？

> ID：14722403
> 
> 赞同：0
> 
> 时间：2013-02-06T05:45:31.450
> 
> 标签：.net, jenkins, continuous-integration, build-automation

我正在为 .Net 项目寻找夜间/CI 构建服务器。构建它并运行 NUnit 测试非常简单。我看过 Jenkins/Hudson，但它的设置似乎很难，不仅在每个项目的基础上，而且在初始设置我的 Arch Linux VPS 时也是如此。

还有什么比 Jenkins 或其他我可以研究的开源构建服务器更简单的东西吗？

我的项目是开源的，所以我也愿意接受（便宜/免费）托管解决方案（即，不托管在我自己的服务器上）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T03:42:59.823

我最终尝试了[AppHarbor](https://appharbor.com/)并喜欢它。需要很少的设置。如果您必须使用他们的非免费计划之一，它们似乎有点贵，但我的项目所需要的只是基本构建和单元测试运行。它们还具有我不使用的自动部署类型功能。看来您可以使用它来托管您自己的不断更新的 Web 应用程序

哪些因素影响了我的决定：

1.  自由
2.  易于设置（我所要做的就是在我的 bitbucket 存储库上单击“批准”）
3.  只需很少的代码修改即可使其工作（我所要做的就是包含 NUnit 的本地引用，而不是依赖 GAC）
4.  与 bitbucket 的出色集成。看看这个[提交](https://bitbucket.org/earlz/barelymvc/commits/9830c9534bd0ac7479db1796aeb08541fc6aaee5)。请注意 Appharbor 是如何为它添加一个带有构建链接的漂亮评论

# opencv - OpenCV-2.4.3的粒子过滤器？

> ID：14722405
> 
> 赞同：3
> 
> 时间：2013-02-06T05:45:46.113
> 
> 标签：opencv, particle-filter

我在 c 中使用 opencv-2.4.3，我被人脸跟踪部分卡住了，我想使用粒子过滤器进行跟踪，我在 opencv-2.1 版本中得到了它，但是新的 opencv 版本似乎没有这个过滤器或者可能是名称将有所不同，有没有人使用过 opencv-2.4.3 并且可以告诉我如何在 opencv-2.4.3 中使用粒子（冷凝）过滤器

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T17:24:35.687

粒子滤波器是贝叶斯推理方法的一种非常具体的实现。Condensation 是一种特殊的粒子滤波器，由于它已被用于跟踪视觉对象，因此它变得越来越流行。然而，粒子过滤器应该被看作是一个框架，或者是一个可以为每个问题实例化的架构。

据我所知，OpenCV 包含压缩算法，但您必须提供似然函数。老实说，我不会使用冷凝来跟踪人脸，因为它可能无法正常工作：人脸的外观变化很大，而且很难定义一个动态模型来跟踪人脸在序列中的潜在变化。

有很多更先进、更可靠的面部跟踪方法（仅提及一种，在线外观模型，[http://www.cs.toronto.edu/~fleet/research/Papers/cvpr-01A.pdf](http://www.cs.toronto.edu/~fleet/research/Papers/cvpr-01A.pdf)）。但是，如果您想要一些简单的东西，我会开始使用人脸检测器，例如由级联（[http://docs.opencv.org/doc/tutorials/objdetect/cascade_classifier/cascade_classifier.html#cascade-classifier](http://docs.opencv.org/doc/tutorials/objdetect/cascade_classifier/cascade_classifier.html#cascade-classifier)）和链接检测提供的人脸检测器与`cv::KalmanFilter::KalmanFilter`. 此外，您将获得与使用 冷凝的结果大致相同的结果`cv::CamShift`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T09:16:25.620

正如 marcos.nieto 所说，粒子过滤器是一种近似工具，可以加快对象的建模（对象的描述）和搜索过程（而不是像分类器那样对搜索窗口的每个像素进行贪婪搜索）。

此外，建模更新率不足以覆盖突然的外观变化，如果你增加它，你的跟踪器最终会漂移。

我建议尝试结合使用[VideoSurveillance](http://opencv.willowgarage.com/wiki/VideoSurveillance)和[级联分类](http://docs.opencv.org/doc/tutorials/objdetect/cascade_classifier/cascade_classifier.html)器来构建一个基于对象的跟踪器，该跟踪器具有跨帧响应的数据关联。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-08T22:06:37.817

尽管您主要使用 OpenCV，但请查看 Accord.NET Extensions 库中粒子过滤算法（以及卡尔曼）的 C# 实现。样品包括在内。链接： [https ://github.com/dajuric/accord-net-extensions](https://github.com/dajuric/accord-net-extensions)

# php - Smarty 变量扩展

> ID：14722409
> 
> 赞同：0
> 
> 时间：2013-02-06T05:46:27.497
> 
> 标签：php, smarty

如果我在 smarty 模板文件中有 ($abc}，其中 $abc 是在 PHP 中使用 nowdoc 语法构建的，

```
$abc = <<<'EOT'
$key
EOT 
```

smarty 有没有办法先扩展$abc，然后扩展$abc 中的内容，即也扩展$key。现在我在输出中得到字符串文字 $key，而不是 $key 里面的内容。

这样做的原因

我有一些片段被复制到整个地方。我可以将这些 tpl 片段放在它们自己的文件中，但这会导致文件爆炸。所以我有一个包含这些片段的文件。但是我不能在任何地方都包含这个大的通用片段文件。所以我最终构建了一个包含这些片段的 PHP 文件，然后在我需要的地方使用变量。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:22:32.020

您可以使用 smarty 的 eval 函数，但正如 PHP 文档所说“*在 nowdoc 中不进行解析*”。

你能用heredoc代替吗？

```
<?
$key = 'something';
$abc = <<<EOT
$key
EOT;

// {$abc} will print something;
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T12:32:31.600

不确定这是否是您正在寻找的，但您是否尝试过使用 sprintf？

IE

```
<?
$key = 'something';
$abc='there is %s here'; 
```

所以

```
 {$abc|sprintf:$key} 
```

会打印“这里有东西”

# java - openid登录雅虎

> ID：14722415
> 
> 赞同：1
> 
> 时间：2013-02-06T05:46:55.897
> 
> 标签：java, google-app-engine, openid

我试图让用户使用此[代码](http://code.google.com/p/apps-marketplace-resources/source/browse/trunk/helloworld-java/src/main/java/com/google/code/samples/apps/marketplace/OpenIdServlet.java?r=13)使用 yahoo OpenId 登录到我的应用程序。

我尝试连接到“yahoo.com”以获取无法处理请求的打开 ID，我将其更改为“me.yahoo.com”，它工作正常。

但现在我发现请求实际上失败了，导致异常说“ [http://me.yahoo.com/a/](http://me.yahoo.com/a/) {id} 的验证失败..”

令我惊讶的是，相同的代码在我托管的其他应用程序中运行良好。是否有任何与 IP/地理规范问题相关的问题在 openid url 验证时引发异常？更困扰我的是，错误并没有持续提出，有时它工作正常。

# ember.js - 过渡到视图时，Ember 引发重新渲染错误

> ID：14722417
> 
> 赞同：1
> 
> 时间：2013-02-06T05:47:00.590
> 
> 标签：ember.js

我的观点是初始化 Redactor WYSIWYG 编辑器。直接进入路线时效果很好，但不能从一条路线返回到这条路线。即从`/`到`/documents/1`。

### 这是我得到的错误：

```
Uncaught Error: Something you did caused a view to re-render after it
rendered but before it was inserted into the DOM. 
```

### 看法：

我也在视图中发表了一些评论。

```
App.RedactorView = Ember.TextArea.extend({
  tagName: 'div',
  init: function() {
    this._super();
    this.on("didInsertElement", this, this._updateElementValue);
  },
  _updateElementValue: Ember.observer(function() {
    var value = Ember.get(this, 'value'),
        $el = this.$();

    if ($el && value !== $el.getCode()) {
      $el.setCode(value);
    }
  }, 'value'),
  _elementValueDidChange: function() {
    Ember.set(this, 'value', this.$().getCode());
  },
  didInsertElement: function() {
    console.log('didInsert');
  },
  willInsertElement: function() {
    // these two lines causes the error when coming from other route, but works fine when accessed directly
    var test = this.$().attr('class');
    this.$().redactor(); 

    // returns fine when accessed directly, otherwise not available, see explanation above
    console.log(this.$().getCode());
  }
}); 
```

我尝试将代码移入`didInsertElement`，但后来我失去了对以前可以访问的 Redactor 功能的访问权限：

```
 didInsertElement: function() {
     // will not throw any errors when transitioned from other route
    var test = this.$().attr('class');
    this.$().redactor(); 

    // Uncaught TypeError: Cannot call method 'getCode' of undefined
    console.log(this.$().getCode());
  }, 
```

任何的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:54:16.913

所以看起来很懒惰并扩展 Ember.TextArea 是一个坏主意。我猜它的子类之一搞砸了 jQuery 所做的工作。

我改变了我的观点，现在它正在工作。

```
App.RedactorView = Ember.View.extend({
  tagName: 'div',
  init: function() {
    this._super();

    this.on("focusOut", this, this._elementValueDidChange);
    this.on("change", this, this._elementValueDidChange);
    this.on("paste", this, this._elementValueDidChange);
    this.on("cut", this, this._elementValueDidChange);
    this.on("input", this, this._elementValueDidChange);
  },
  _updateElementValue: Ember.observer(function() {
    var value = Ember.get(this, 'value'),
        $el = this.$();

    if ($el && value !== $el.getCode()) {
      $el.setCode(value);
    }
  }, 'value'),
  _elementValueDidChange: function() {
    Ember.set(this, 'value', this.$().getCode());
  },
  didInsertElement: function() {
    this.$().redactor();
    this._updateElementValue();
  }
}); 
```

# ruby-on-rails - 告诉捆绑器忽略某些依赖项？

> ID：14722418
> 
> 赞同：2
> 
> 时间：2013-02-06T05:47:03.720
> 
> 标签：ruby-on-rails, bundler, rails-activerecord

我有一个 Rails 2 应用程序，我正在升级以使用捆绑程序。不幸的是，这个应用程序没有使用 active_record（但大量使用了 rails 的所有其他组件）。

以前，要让应用程序忽略 active_record，我的 environment.rb 文件中有以下内容：

```
config.frameworks -= [ :active_record ] 
```

但是，似乎捆绑程序正在强制加载 active_record，这显然会引发错误，因为没有指定数据库。

我正在使用 rails 2.3.16（实际上尝试升级到它作为此过程的一部分）。

我搜索了一下，我找到的最接近的是这张公开票：

[https://github.com/wycats/bundler/issues/143](https://github.com/wycats/bundler/issues/143)

我唯一的选择是显式修改 Gemfile.lock 并删除对 active_record 的所有引用吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:53:26.843

*   检查您的`config/application.rb` **没有**`require 'rails/all'`或`require "active_record/railtie"`。相反，对于没有 ActiveRecord 的标准 Rails 设置，它应该**只有**以下要求：

    ```
    require File.expand_path('../boot', __FILE__)

    require "action_controller/railtie"
    require "action_mailer/railtie"
    require "active_resource/railtie"
    require "rails/test_unit/railtie"
    require "sprockets/railtie"

    # Auto-require default libraries and those for the current Rails environment. 
    Bundler.require :default, Rails.env 
    ```

*   如果在 中`config/application.rb`，您正在使用该`config.generators`部分，请确保它没有`g.orm :active_record`. 如果需要，您可以将其显式设置为，但是当完全省略`nil`时，这应该是默认值。`g.orm`

*   可选，但在您的 中`Gemfile`，删除`gem`为您的数据库加载模块的行。例如，这可能是行`gem "mysql"`。

（从[这里](https://stackoverflow.com/questions/2212709/remove-activerecord-in-rails-3)）

# google-chrome-extension - 我可以编辑 Google Chrome 主题吗？

> ID：14722424
> 
> 赞同：13
> 
> 时间：2013-02-06T05:47:48.513
> 
> 标签：google-chrome-extension, themes, chrome-web-store, google-chrome-theme

我从 Chrome 网上应用店下载了一些主题。有什么办法可以编辑这些主题吗？

（我想改变颜色、按钮等）

如果是，如何？如果不是，为什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2015-04-17T22:16:07.403

主题是一种特殊的扩展，可以改变浏览器的外观。主题像常规扩展一样打包，但它们不包含 JavaScript 或 HTML 代码。**您可以下载任何主题并通过编辑 manifest.json 文件对其进行修改。**

颜色采用 RGB 格式。要查找可以在“colors”字段中使用的字符串，请在 theme_service.cc 中查找 kColor* 字符串。图像资源使用相对于扩展根目录的路径。您可以覆盖 theme_service.cc 中 kThemeableImages 指定的任何图像。只需删除“IDR_”并将剩余字符转换为小写即可。

参考：[https ://developer.chrome.com/extensions/themes](https://developer.chrome.com/extensions/themes)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-06-30T18:25:51.680

您可以在 appdata 文件夹中找到它。我的位于：

```
C:\Users\home\AppData\Local\Google\Chrome\User    
Data\Default\Extensions\mcphcjcjgkjmbphkfjleamgkinaeebnm\1.1_0 
```

您可能只想在您的 appdata 中对“manifest.json”进行搜索查询，然后打开一些直到找到它。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-04-16T18:53:42.987

如前所述，您可以在 appdata 文件夹中找到它，例如：C:\Users\mizer\AppData\Local\Google\Chrome\User Data\Default\Extensions\

提示：按日期对文件夹进行排序，您可以轻松找到所需的文件夹 :)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-02-16T07:49:08.057

对于 Chromium，这似乎不起作用，因为 manifest.json 位于：/home/[[USER]]/.config/chromium/Default/Extensions/cdfdkmklcjlnnnlnplffpdiekfhkpbme/2.1_0

修改和保存它并不会反映 Chromium 的变化。我认为 Chromium（几乎与 Chrome 相同），将这个配置文件加载到某种缓存中......

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-03-03T14:07:13.610

您可以编辑任何您想要的 chrome 主题。

只需搜索扩展文件夹，它应该在附近的某个地方：

```
C:\Users\{USERNAME}\AppData\Local\Google\Chrome\User Data\Default\Extensions\ 
```

（显然 {USERNAME} 需要更换）

然后打开 manifest.json 文件（即使用您的编辑器）。您现在可以进行任何您想要的更改。只需编辑 RGB 颜色。您还可以将完整的新图像复制到扩展文件夹并在清单中引用它们。

**重要提示：**编辑清单后，您必须删除“缓存主题”（它是一个 PAK 文件）。否则您的更改将被忽略！您也可以在扩展文件夹中找到此文件。

# android - Android achartengine setDisplayChartValues 不适用于单个值

> ID：14722427
> 
> 赞同：1
> 
> 时间：2013-02-06T05:48:07.033
> 
> 标签：android

我正在为我的应用程序使用 achartengine 折线图绘制图表。该图表用于显示特定日期和时间的胰岛素水平。我正在使用 XYMultipleSeriesRenderer，并使用 setDisplayChartValues 显示图表值。这些值显示了多个值，即如果用户选择胰岛素水平超过一天，但当我绘制单个值时它不起作用，即如果用户只选择一个日期。任何人都可以帮助解决我的问题吗？

```
 Code:   
    for (int i = 0; i < length; i++)
    {

((XYSeriesRenderer) renderer.getSeriesRendererAt(i))
                .setFillPoints(true);
((XYSeriesRenderer) renderer.getSeriesRendererAt(i))
                .setDisplayChartValues(true);
     } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:21:59.750

此链接可能对您的问题有用。它包含示例图表程序..

[http://www.jjoe64.com/p/graphview-library.html](http://www.jjoe64.com/p/graphview-library.html)

注意：好问题，大多数开发人员在放置 x,y 折线图时都面临这个问题....（例如制作糖尿病应用程序以查看静态分析 analtsys 的每月血糖水平）

# facebook - 如何修改移动引导菜单以使其类似于 facebook 移动菜单？

> ID：14722428
> 
> 赞同：2
> 
> 时间：2013-02-06T05:48:26.357
> 
> 标签：facebook, mobile, twitter-bootstrap

我们正在使用 twitter bootstrap 创建一个移动网站。我们正在使用 twitter 响应式菜单。

当我们在手机中查看菜单时，它看起来像

在正常模式下

![在此处输入图像描述](../Images/b60217227e1199692994ef45117f62c7.png)

当菜单展开时。

![在此处输入图像描述](../Images/475ebec8a25506c70e0284f85f3fd9d1.png)

我们可以让它看起来像 facebook 移动风格的菜单，而不是菜单从上到下，它应该从左到右？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-18T09:40:40.480

菜单的折叠添加了一个带有过渡的 css 类（高度从 0 到 auto）。你可以覆盖这个 css 类。

例子：

```
.nav-collapse, .nav-collapse.collapse{
    height: 0;
    width: 0px;
    overflow: hidden;
    position: relative;
    left:100%;
    -webkit-transition: all 2s ease 0s;
     -moz-transition: all 2s ease 0s;
       -o-transition: all 2s ease 0s;
          transition: all 2s ease 0s;
}
.collapse.in {
    left:0;
    width: 100%;
    height: auto;
} 
```

此代码仅说明。此代码破坏了其他导航栏代码。请参阅（在小屏幕中打开）：[http ://bootply.com/74938](http://bootply.com/74938)

# memory - WP8：我的应用程序可以读取用户存储在内存中的文件吗？

> ID：14722431
> 
> 赞同：0
> 
> 时间：2013-02-06T05:48:33.227
> 
> 标签：memory, storage, windows-phone-8

如果我通过 USB 连接将我的文件（基于文本的 *.lrc）复制到 WP8 设备的 (Lumia 920) 内部存储器，我的应用程序可以读取它们吗？还是只允许从隔离存储中读取？如果我只是复制到内部存储器的根目录会是什么路径？有 API 可以从 SD 卡中读取注册文件。有没有办法为内部存储器（大容量存储）做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T17:05:16.230

可以使用 WP8 中的文件关联来启动指定的文件类型。查看这篇文章了解更多详细信息：
[使用 Windows Phone 8 的文件和 URI 关联自动启动应用程序](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206987%28v=vs.105%29.aspx)

> 文件关联允许您的应用在用户想要打开特定文件时自动启动。该文件可能来自多种来源，包括但不限于：
> 
> *   电子邮件附件
> *   通过 Internet Explorer 建立的网站
> *   近场通信 (NFC) 标签
> *   来自商店的另一个应用程序

# android - SQLite java.lang.IllegalArgumentException

> ID：14722432
> 
> 赞同：0
> 
> 时间：2013-02-06T05:48:55.783
> 
> 标签：android, sqlite

我正在尝试在`External Micro SD Card`不在 SD Card 中创建数据库。

它显示此错误：

```
Caused by: java.lang.IllegalArgumentException: File mounted/extSdCard/mytest contains a path separator 
```

我正在经过这条路。

这同样适用于 SD 卡。但不适用于我的 Extenally Micro SD 卡。

```
public SDcardDatabase(final Context context) {
        super(context,Environment.getExternalStorageState()+"/extSdCard/mytest", null, 1);
    } 
```

我正在写这样的数据：-

```
public void saveData(View v) {
        SQLiteDatabase sqldb = null;
        SDcardDatabase mydb = new SDcardDatabase(this);
        sqldb = mydb.getWritableDatabase();
        ContentValues insertData = new ContentValues();
        insertData.put(SDcardDatabase.NAME, etname.getText().toString());
        insertData.put(SDcardDatabase.ADDRESS, etadd.getText().toString());
        insertData.put(SDcardDatabase.CITY, etcity.getText().toString());

        sqldb.insert("mylistdata", SDcardDatabase.NAME , insertData);

        sqldb.close();
        Toast.makeText(this,"Data saved", Toast.LENGTH_SHORT).show();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:20:34.717

```
java.lang.IllegalArgumentException: File mounted/extSdCard/mytest contains a path separator 
```

你应该去[这个问题](https://stackoverflow.com/questions/2079766/how-to-create-write-file-in-the-root-of-the-android-device)，这也可能会解决你的问题：

> 您应该提供文件名称，而不是完整路径作为您的参数。

[文档](http://developer.android.com/reference/android/content/Context.html#openFileOutput%28java.lang.String,%20int%29)还指出了函数的 name 参数：

> 要打开的文件名不能包含路径分隔符。

# c++ - 在 Linux 上链接到我自己的共享库中的某些函数的问题

> ID：14722434
> 
> 赞同：0
> 
> 时间：2013-02-06T05:49:04.627
> 
> 标签：c++, linux, linker, shared-libraries, dynamic-linking

我在 Linux 中创建了一个共享库（.so），我面临一个非常奇怪的问题。最初我在库中添加了 3 个函数（write_myown、setfolder、register），然后我又添加了一些函数（init、write_re）。

基本上整个库都是用 C++ 实现的，但是 API 需要从基于 C 和 C++ 的可执行文件中调用。因此，我为 API 使用了 extern "C"。

我面临的奇怪问题是，当我尝试使用函数 write_myown、setfolder 和 register 时，链接会通过并创建可执行文件。

但是当我尝试调用函数 init 或 write_re 时，链接失败，出现未定义的引用错误。

我认为但不确定的更奇怪的事情是，我想当我构建仅 C 的程序时它可以正常工作，但是当我构建基于 C++ 的代码时，就会看到这个问题。

我已经检查并确认了以下事项

1.  库（.so）存在于 /usr/lib 中（我把它放在那里）
2.  ldconfig -p | grep mylibname 显示我的库存在。
3.  当我不调用 init 或 write_re 时，会生成可执行文件，并且 objdump/readelf 会显示适当的引用。
4.  mylibrary.so 上的 ldd 显示 init 和 write_re 也存在，可见性是全局的。
5.  创建的可执行文件或 .0 显示对 mylibrary 的正确依赖关系。
6.  没有任何版本的 mylibrary。
7.  我已经确认它引用了正确的.so。
8.  我的库上的 nm 显示所有功能都存在。

知道我该如何解决这个问题吗？可能是什么问题。如果不是，我该如何进行调查。如果需要任何进一步的细节，请告诉我。

最好的问候， 帕万

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T04:19:32.373

> 我面临的奇怪问题是，当我尝试使用函数 write_myown、setfolder 和 register 时，链接会通过并创建可执行文件。
> 
> 但是当我尝试调用函数 init 或 write_re 时，链接失败，出现未定义的引用错误。

我的水晶球说：当你在你的文件中编写原型时`write_myown`，你已经添加了它们。`setfolder``.h``extern "C"`

但是当`write_re`你`extern "C"`后来`.cc`添加`.h`.

如果是这样，

*   函数在库中以未损坏的形式*定义*，并且
*   纯`C`可执行文件可以很好地使用它们，并且
*   `C++`引用它们的对象（在库之外）看不到*它们*`extern "C"`，因此需要它们的*损坏*形式（库当然*不*提供）。

我认为这个假设符合您当前问题中的所有事实，并且很容易验证：来自链接器的错误消息是说`undefined symbol: write_re`，还是说`undefined symbol: write_re(some, parameter, types)`？

如果是后者，那就是某个对象引用了*损坏*的名称的致命赠品。

# php - PHP / Wordpress preg_match

> ID：14722435
> 
> 赞同：2
> 
> 时间：2013-02-06T05:49:14.763
> 
> 标签：php, wordpress, preg-match

我有以下函数将所有 iframe 包装在 div class="video-container" 中

我只想定位包含以 src="www.youtube 开头的 src 的 iframe

有没有办法把这个功能修改得更具体一些？

提前致谢。

```
function div_wrapper($content) {
// match any iframes
$pattern = '~<iframe.*</iframe>~';
preg_match_all($pattern, $content, $matches);

foreach ($matches[0] as $match) {
    // wrap matched iframe with div
    $wrappedframe = '<div class="video-container">' . $match . '</div>';

    //replace original iframe with new in content
    $content = str_replace($match, $wrappedframe, $content);
}

return $content;    
}
add_filter('the_content', 'div_wrapper'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:13:59.357

执行惰性匹配 ( `*?`)，并检查您要查找的字符串是否存在于其中：

```
// match any iframes
$pattern = '~<iframe.*?</iframe>~';
$content = preg_replace_callback($pattern, function($matches){

  if(strpos($matches[0], 'youtube') !== false) 
    return '<div class="video-container">' . $matches[0] . '</div>';

  return $matches[0];

}, $content); 
```

不用说，这在很多情况下都会失败。如果您想要一些可靠的东西，请使用 XML 解析器（请参阅[`DomDocument::getElementsByTagName`](http://php.net/manual/en/domdocument.getelementsbytagname.php)和[`DomElement::getAttribute`](http://www.php.net/manual/en/domelement.getattribute.php).

您还可以尝试使用伪选择器（如`:before`或）来设置 iframe 的样式`:after`。这样你就不需要包装元素（例如。`iframe[src~=youtube]:after`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:20:19.937

我认为您只需要更改`$pattern`变量即可。尝试：

```
$pattern = '~<iframe.*src*=\'.*(http\:?)*\/\/*(www\.?)*youtube\..*</iframe>~'; 
```

**注意：**正如@a​​lex 指出的那样，您缺少协议，因此应该是`http://youtube.`,`//youtube.`或`http://www.youtube.`

# html - 如何将模型值绑定到@html.DropDownlist

> ID：14722438
> 
> 赞同：1
> 
> 时间：2013-02-06T05:49:33.310
> 
> 标签：html, asp.net-mvc-3, html.dropdownlistfor

我在**ASP.Net MVC3**工作。我需要将我的模型值绑定在`@Html.DropDownlist`. 我已经用项目列表填充了我的模型。

如何将我的模型与 MVC 绑定`DropDownList`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:59:26.633

你可以这样做：

```
@Html.DropDownListFor(model => model.MyValue
   new SelectList(Model.MyList, "ValuePropertyName", "TextPropertyName")) 
```

基本上，您需要查找 SelectList 以及如何使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:59:45.857

你应该这样做：

```
@Html.DropDownListFor(
    x => x.YourItem, 
    new SelectList(Model.YourItem, "Value", "Text")
) 
```

在这样做之前，您需要将模型传递给您的视图`return View(model);`

希望能帮助到你

# python - Heroku - Python Shell 写入文件，但在 Django APP 视图中没有？

> ID：14722439
> 
> 赞同：2
> 
> 时间：2013-02-06T05:49:33.727
> 
> 标签：python, django, heroku, django-views

我一直在寻找这个问题，但我似乎无法在任何地方找到答案 - 也许我正在寻找错误的东西 - 但我需要帮助。

问题：

我创建了一个简单的“list.txt”文件，其中包含特定的代码行——例如——CSV 类型格式。当我在本地测试脚本时，它执行完全没有问题。当我在支持临时文件写入的 Cedar Environment 上的 Heroku 上运行它时，它并没有像我想象的那样运行。

所以我测试了终端视图中运行的代码行

例如）heroku 运行 python

在 shell 中写入文件的过程效果很好，它成功写入文件，我可以关闭它并重新打开它并查看我添加的数据 - 但它不在我拥有的 view.py 中。

我试图更改文件权限但没有运气，我更改了文件夹位置，没有运气。我知道它可以识别文件并且位置正确，但它的行为不像在 shell 中运行时那样。

在 shell + view.py django 中编写的 ex 代码。）

```
file = open(PATH_TO_FOLDER + 'list.txt', 'w')
file.write('this is a line of text')
file.close()

read_file = open(PATH_TO_FOLDER + 'list.txt', 'r')
read_file.read() 
```

任何建议都会很棒！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T11:36:33.810

Heroku 上的磁盘存储是短暂的。

[https://devcenter.heroku.com/articles/dynos#ephemeral-filesystem](https://devcenter.heroku.com/articles/dynos#ephemeral-filesystem)

# vba - Excel - 如何使用 VBA 添加复选框并链接到它旁边的单元格？

> ID：14722444
> 
> 赞同：2
> 
> 时间：2013-02-05T19:53:54.383
> 
> 标签：vba

我在 Excel 中编写了一个带有大量条件格式的日程表，如果有人有重叠的任务，我会提醒我。如果有人没有出现，那么其他人必须在同一天占据多个位置，那么我想将其添加到电子表格中以记住这一点。

问题是，如果我这样做，我会收到红细胞提醒我，而且我不希望它用于已过的日期。我想我可能会添加一个名为“ignoreErrors”的列，或者类似的东西，带有复选框，如果我选中这些 Excel 中的任何一个，就会忽略其余的格式规则。

[我在这里](http://www.extendoffice.com/documents/excel/901-excel-insert-multiple-checkboxes.html)找到了以下脚本（我编辑了一点）：

```
Sub AddCheckBoxes()
    On Error Resume Next
    Dim c As Range, myRange As Range
    Set myRange = Selection
    For Each c In myRange.Cells
        ActiveSheet.checkboxes.Add(c.Left, c.Top, c.Width, c.Height).Select
        With Selection
            .LinkedCell = c.Address
            .Characters.Text = ""
            .Name = c.Address
        End With
        c.Select
    Next
    myRange.Select
End Sub 
```

当我添加复选框时，我会得到一系列复选框，但单元格值（TRUE 或 FALSE）在后台。我不想要那个。我想我会将复选框链接到它旁边列中的一个单元格，然后隐藏它。那可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:12:02.703

如果您删除该行（或评论它）

```
.LinkedCell = c.Address 
```

它不会显示真假。

要将其链接到下一列，请执行以下操作

```
.LinkedCell = c.Offset(0, 1).Address 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-07-16T21:39:45.097

我只是将链接单元格中的字体颜色设为白色，这样您就看不到真/假。

简单但有效:)

# jquery - 我怎样才能修改这个 jQuery 插件来更新计数器的值？

> ID：14722445
> 
> 赞同：0
> 
> 时间：2013-02-06T05:50:07.527
> 
> 标签：jquery, jquery-plugins, methods, counter

我整天都在使用这个 jQuery 计数器插件......我终于在我的网站上实现了它并且可以正常工作。:) 但是，我无法找到一种方法来使用插件“更新”计时器的值？

[http://sophilabs.github.com/jquery-counter/](http://sophilabs.github.com/jquery-counter/)

它似乎没有更新计数器实际数量的方法...我尝试编写一些更改数据停止属性的代码，但这对我不起作用？！？

基本上，我正在寻找一种可以使用此插件的方法，然后使用 onClick 函数向计数器添加一个整数（比如 5）。

SO ---> 单击一个按钮 = 将 5 添加到计数器！

也许我只是在这里遗漏了一些东西？或者也许必须使用新的更新方法修改插件？没有把握？帮助表示赞赏...谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:17:09.057

您可以获取计数器的当前值，将其递增，然后再次对其应用计数器，如下所示（下面的按钮/链接单击事件处理程序代码）：

```
$("#incrementCounter").on('click', function(e) {
    var currentValStr = $(".counter-analog").text();
    var strLen = currentValStr.length;
    var currentValInt = parseInt(currentValStr, 10);
    var newString = '00000' + (currentValInt + 5);
    newString = newString.substring(newString.length - strLen, newString.length);
    $(".counter").counter('stop')
        .text(newString);
    $(".counter").counter();
}); 
```

[您可以在此处](http://jsfiddle.net/vishaldeep/rx5hf/3/)查看工作示例

# php - 每天在mysql中选择一个新行

> ID：14722446
> 
> 赞同：0
> 
> 时间：2013-02-06T05:50:12.030
> 
> 标签：php, mysql

我有一个 mysql 数据库，其中有表**Counselor**
现在我想每天一个一个地遍历记录。
这意味着今天选择一条记录，明天选择下一条记录，依此类推，直到选择了所有记录，然后再次开始相同的过程。
可以有任何没有。数据库中的记录。我该怎么做 ？
我正在使用**php**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:55:19.637

**定时任务**

你可以去 Cron Job 做这种事情。创建一个 php 文件，其中包含从数据库获取当前特定日期的数据的代码。然后在特定时间运行该 Cron Job Daily。（即）设置每天运行该 cron 作业的时间。所以它会自动运行并获取每日记录。

# java - 为什么我们不能覆盖java中的变量

> ID：14722453
> 
> 赞同：1
> 
> 时间：2013-02-06T05:50:42.670
> 
> 标签：java

为什么我们不能覆盖java中的变量，它隐藏了变量

```
class A {
    int a = 4;
    public void test(){
        System.out.println("Test method of A" );
    }
} 

class B extends A {
    int a = 5;
    public void test(){
        System.out.println("Test method of B" );
    }
    public static void main(String s[]){
        A a= new B();
        System.out.println("Value of a : " a.a );
        System.out.println("Method result " a.test() );
    }
} 
```

输出 ：：

```
Value of a : 4
Mthod result :Test method of B 
```

由于 B 的类测试方法被调用，但变量是从超类引用中访问的

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T05:55:32.483

这就是java的工作方式。当代码有一个 B 但只“知道”它有一个 A 时，B 的方法将被调用，但 A 的变量将被访问（因为没有变量的“方法覆盖等效”）。我建议您将变量包装在 getter 和 setter 中而不是公开，这样您就可以通过覆盖 getter 和 setter 来控制它们在子类中的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:00:55.213

如果要访问 Parent 类的变量，请使用
`System.out.println( ((A)a).a );`
Type 将对象强制转换为其父类，然后访问它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:14:04.427

假设您有一个接受 A 类型参数的方法

```
void f(A a) {
     // do something with a.a
} 
```

该`f`方法的作者已经编写了这个方法，期望类 A 定义的行为。并且您想要更改此行为。当你重写一个方法时，你可能会也可能不会改变行为，你不应该这样做。您可以添加一些其他功能，但永远不要改变预期的行为，如果您可以覆盖变量，您肯定会改变行为。检查[面向对象设计的](http://en.wikipedia.org/wiki/Solid_%28object-oriented_design%29)[开/闭](http://en.wikipedia.org/wiki/Open/closed_principle)和[Liskov 替换原则](http://en.wikipedia.org/wiki/Liskov_substitution_principle)

# java - 如何在rich:autocomplete中使用limitRender

> ID：14722455
> 
> 赞同：0
> 
> 时间：2013-02-06T05:50:57.890
> 
> 标签：java, jsf-2, richfaces

以下是我的自动完成代码：

```
<rich:autocomplete mode="ajax" minChars="2" var="message" fetchValue="#{message.displayName}" 
                   layout="div" autocompleteMethod="#{suggestionControlAction.suggestionAction}">
   <h:column>
<h:outputText value="#{message.displayName}"/>      
   </h:column>
</rich:autocomplete> 
```

但问题是，这个文件中使用的所有 a4j:outputPanel 也都被渲染了，而我不想要。这个标签中没有 limitRender 属性。

那么，如何实现这个功能呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T15:57:54.197

确实没有`limitRender`属性，你有没有试过嵌套一个`a4j:ajax`里面：

```
 <a4j:ajax execute="@this" event="..." render="@this"> 
```

我没有尝试过，但这可能有效。

也许你有这个问题： [https ://issues.jboss.org/browse/RF-12158](https://issues.jboss.org/browse/RF-12158)

# web-services - 将图像和视频发布到 sitecore

> ID：14722457
> 
> 赞同：2
> 
> 时间：2013-02-06T05:51:02.860
> 
> 标签：web-services, api, web-content, web-publishing

有没有办法调用 sitecore api 并发布图像/视频，以便 sitecore 接受它们并将其存储在自己的媒体文件夹中？或者是否有一个文件夹，您可以在其中放置按设定时间间隔导入到 sitecore 的项目？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T22:24:10.360

该设置定义包含 sitecore 将导入其媒体库的媒体的文件夹。这应该会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T19:42:25.880

Items that you place into the /upload folder will be loaded into the Sitecore Media Library. You can even place a folder structure inside of the /upload folder which will be created in the Media Library.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-04-18T13:19:34.753

是的，您当然可以将任何内容复制到 ~/upload 文件夹中，Sitecore 会自动在“媒体库”中创建相同的文件夹结构，但是您需要注意某些事项，因为 Sitecore 使用 System.IO.FileSystemWatcher将任何文件上传到“媒体库”，如果您复制较大的文件或批量复制/粘贴，您可能会或可能不会遇到一些问题，例如某些文件没有上传到“媒体库”，这是一个老问题与 FileSystemWatcher 缓冲区大小有关，但现在可能已修复，但我不确定。还有一件事要注意，如果您在自动上传后从媒体库中删除某些内容，并且文件仍在上传文件夹中，

希望这可以帮助！

# wcf - 错误处理思路，WCF中的思路

> ID：14722458
> 
> 赞同：0
> 
> 时间：2013-02-06T05:51:06.283
> 
> 标签：wcf

我的问题是关于 WCF 服务中的错误处理并将错误信息传递回调用客户端。我知道我们可以在定义接口时将 FaultContract 用作​​ ServiceContract 的一部分。如果我不想使用 FaultContract 并且作为我的 DataContract 响应的一部分，我将错误响应或成功响应作为 Result 类型的对象包含在内怎么办？

这两种方法有什么区别？特别是在内部使用了任何额外的渠道？

我已经尝试了这两种方法并且都有效。到目前为止我所知道的是方法 2，不需要客户端知道要捕获什么错误，他只需调查 Result 对象即可查看。

# FaultContract 代码示例

```
public interface ICalculator
{
    [OperationContract]
    [FaultContract(typeof(MathFault))]
    int Divide(int n1, int n2);
} 
```

# 我的错误处理代码

```
public interface ICalculator
{
    [OperationContract]
    Result Divide(int n1, int n2);
}

[DataContract]
public class Result 
{
    [DataMember]
    public bool Success { get; set; }
    [DataMember]
    public string ErrorNumber { get; set; }
    [DataMember]
    public string ErrorMessage { get; set; }
 } 
```

# android - 如何检索可用的系统内存和电池电量

> ID：14722462
> 
> 赞同：1
> 
> 时间：2013-02-06T05:51:15.193
> 
> 标签：android, android-memory, batterylevel

我目前正在开发一个我真的需要帮助的应用程序，并且我已经到了需要一些帮助的阶段。好的，所以我正在尝试获取可用系统内存/Ram 的数量和设备的电池电量，我想在我的应用程序活动中显示它们。

这是我到目前为止所拥有的。

```
MemoryInfo mi = new MemoryInfo();
ActivityManager activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);
activityManager.getMemoryInfo(mi);
long availableMegs = mi.availMem / 1048576L; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T05:05:25.957

在您的活动 Intent.ACTION_BATTERY_CHANGED 中注册此操作

并编写以下代码以从广播接收器获取电池电量。

```
BroadcastReceiver mReceiver = new BroadcastReceiver() 
{
    public void onReceive(Context context, Intent intent) {
        String action = intent.getAction();
        if (Intent.ACTION_BATTERY_CHANGED.equals(action)) {
            int level = intent.getIntExtra(BatteryManager.EXTRA_LEVEL, -1);
        } 
    }
}; 
```

level 值给出了设备的电池电量。

# linux - 排列一个文件的行与第二个文件的行相同

> ID：14722463
> 
> 赞同：0
> 
> 时间：2013-02-06T05:51:24.693
> 
> 标签：linux, perl, bash, sed, awk

我有两个文件，我想在第一个文件中以相同的行顺序排列第二个文件的行。其中第二个文件的第 2 列和第 5 列与第一个文件具有相同的值，只是它们的顺序不同。考虑到完整的行不仅应该重新排列第 2 列和第 3 列。请建议。

```
$ cat file1
FEX
MRU
MOV
FTL
MOY
$ cat file2
1/24/2013,MOV,144523,1/25/2013,MOV,1445231
1/24/2013,MOY,298792,1/25/2013,MOY,2987921
1/24/2013,FEX,628037,1/25/2013,FEX,6280371
1/24/2013,MRU,146084,1/25/2013,MRU,1460841
1/24/2013,FTL,454709,1/25/2013,FTL,4547091 
```

所需输出：

```
1/24/2013,FEX,628037,1/25/2013,FEX,6280371
1/24/2013,MRU,146084,1/25/2013,MRU,1460841
1/24/2013,MOV,144523,1/25/2013,MOV,1445231
1/24/2013,FTL,454709,1/25/2013,FTL,4547091
1/24/2013,MOY,298792,1/25/2013,MOY,2987921 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:16:14.627

假设字段 2 和 5 始终相同，这是使用的一种方法`awk`：

```
awk -F, 'FNR==NR { a[$2]=$0; next } { print a[$0] }' file2 file1 
```

结果：

```
1/24/2013,FEX,628037,1/25/2013,FEX,6280371
1/24/2013,MRU,146084,1/25/2013,MRU,1460841
1/24/2013,MOV,144523,1/25/2013,MOV,1445231
1/24/2013,FTL,454709,1/25/2013,FTL,4547091
1/24/2013,MOY,298792,1/25/2013,MOY,2987921 
```

# asp.net - Windows Azure 网站中的 gzip 压缩

> ID：14722464
> 
> 赞同：13
> 
> 时间：2013-02-06T05:51:26.073
> 
> 标签：asp.net, asp.net-mvc, optimization, azure, gzip

是否可以在简单的 Azure 网站上启用 gzip 压缩？如果是这样，怎么办？在 Azure 网站上应用 gzip 时有什么需要考虑的吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-11T04:45:14.627

我刚刚检查了我的一个 azure 网站，它看起来确实 gzip 正在工作。我的 web.config 中没有任何特别之处，所以我认为它必须默认启用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-12-02T04:35:57.067

根据@DavideB 对已接受答案的评论，我发现您可以通过 web.config 为 Azure / IIS 配置它。[ [MSDN 来源](https://azure.microsoft.com/en-us/blog/more-to-explore-configuration-options-unlocked-in-windows-azure-web-sites/)]

```
<configuration>
  <system.webServer>

    <httpCompression directory="%SystemDrive%\inetpub\temp\IIS Temporary Compressed Files">
      <scheme name="gzip" dll="%windir%\system32\inetsrv\gzip.dll" 
              doDynamicCompression="true" doStaticCompression="true"
              staticCompressionLevel="7" dynamicCompressionLevel="7" />

      <staticTypes>
        <add mimeType="*/*" enabled="true" />
      </staticTypes>
      <dynamicTypes>
        <add mimeType="*/*" enabled="true" />
      </dynamicTypes>

    </httpCompression>

  </system.webServer>
</configuration> 
```

请注意：

1.  这仅适用于 Azure 或安装了正确功能的 IIS（即，如果您使用的是 IISExpress 或 vanilla IIS，那么您就不走运了，请参阅文章了解正确的功能和本地测试的配置说明）。

2.  静态和动态资源的压缩是独立配置的，有各自的默认值；实际上，您应该比我更仔细地配置您的 mimetypes 和压缩级别。

3.  压缩级别介于 0 和 10 之间，其中 0 == 关闭，10 == 最大值；在这里，我将我的设置为 7，原因是它可能是 CPU 使用率和压缩率之间的良好折衷。

# wikipedia - 如何获取维基百科上的所有历史事件？

> ID：14722465
> 
> 赞同：0
> 
> 时间：2013-02-06T05:51:28.163
> 
> 标签：wikipedia, wikipedia-api

我想获取维基百科上所有历史事件的文章？解决此问题的最佳方法是什么？维基API？数据库转储？我已经查看了 DBPedia，到目前为止它似乎非常有限（尽管仍然令人印象深刻）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:47:10.603

有关历史事件的所有文章的列表，请查看[Events 类别](http://en.wikipedia.org/wiki/Category%3aEvents)，尤其是[其子类别 Events by time](http://en.wikipedia.org/wiki/Category%3aEvents_by_time)。要获取某个类别及其所有子类别中的所有文章，您可以使用 API 或 SQL 转储（您至少需要表格`categorylinks`和`page`；如果您使用的是 .Net，[我的库](https://github.com/svick/Wikipedia-SQl-dump-parser)可以帮助您）。

要真正获得许多文章的文本，您绝对应该使用 XML 转储，可能是`pages-articles`.

# wso2 - 在 wso2 中为 Web 应用程序模块创建权限

> ID：14722467
> 
> 赞同：2
> 
> 时间：2013-02-06T05:51:36.727
> 
> 标签：wso2, wso2carbon

我正在使用 WSO2 应用程序服务器来部署我的 Web 应用程序。碳产品中有用户和角色管理部分，用于管理连接用户存储中的角色和用户，并将其用于授权目的。

我想为部署在 WSO2 上的 Web 应用程序中的各种模块的访问控制创建类似的权限模型。我还想将这些自定义权限分配给连接的用户存储（RDBMS 或 LDAP）的角色。

请在这方面帮助我。

谢谢，

哈科马尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T16:47:36.113

您可以为此使用现有的权限模型。如果您检查“用户和角色”菜单，您将看到附加到每个角色的权限。您可以创建自己的角色，并根据需要为其分配权限。对于 webapps，定义了不同级别的权限；

*   添加
*   配置等。

# spring - spring junit 测试套件中的 IBM WebSphere 等效工作管理器

> ID：14722468
> 
> 赞同：2
> 
> 时间：2013-02-06T05:51:38.633
> 
> 标签：spring, junit, websphere, integration-testing, spring-test

我们有一个部署在 WAS 服务器上的应用程序。我们使用 WAS 工作管理器进行多线程处理。到目前为止，我们没有测试多线程，我们只是使用绑定在 Spring 上下文中的类 com.ibm.websphere.asynchbeans.WorkManager 的模拟。

现在我必须为此编写测试用例。这些是集成测试。是否有任何现成的 IBM 工作管理器实现，我可以使用它来提供相同的环境/功能。我发现可以使用 commonj 工作管理器的实现，但不是 IBM 的。

谢谢苏拉布

# c++ - 集成程序中的循环和函数 (C++)

> ID：14722469
> 
> 赞同：0
> 
> 时间：2013-02-06T05:51:42.157
> 
> 标签：c++, loops, integration

我正在使用 [right] 矩形总和开发一个集成程序。我使用起始边界作为 a=1，使用“n”作为矩形的数量，使用“inc”作为增加 z 的增量。这是我到目前为止的代码：

```
#include <iostream>
#include <cmath>

using std::cout;
using std::endl;
using std::cin;

int main(){

    int n;
    float b;
    float z;
    z=((b-1)/n);
    float inc;
    float new_sum;
    float sum;
    int decision;

    cout << "Would you like to calculate an area? " << endl;
    cout << "Enter 1 for yes, 0 for no: " << endl;
    cin >> decision;

    cout << "Please enter the number of rectangles you would like to use: " << endl;
    cin >> n;
    cout << "Please enter the upper bound of integration: " << endl;
    cin >> b;

    for (inc=0; inc < b; inc++){
        new_sum=z*(f(1+(inc*z)));
        sum=sum+new_sum;
    }

    cout << sum << endl;

return 0;

} 
```

我有两个问题：

1.  如何在其中使用函数 f(x)=x^5 + 10？我不确定它应该如何在 for 循环中输入和格式化。

2.  如何循环第一个问题序列（你想计算一个面积吗？），使用 for 循环，重复直到用户输入 1 表示是（我知道如何使用 while 循环来做到这一点，但想知道它是如何做到的会用 for 循环来完成吗？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:08:53.927

> 如何在其中使用函数 f(x)=x^5 + 10？我不确定它应该如何在 for 循环中输入和格式化。

```
float f( float x ) {
    return pow( x, 5 ) + 10; // maybe x * x * x * x * x + 10
} 
```

在函数`main`定义之前添加这一行。

> 如何循环第一个问题序列（你想计算一个面积吗？），使用 for 循环，重复直到用户输入 1 表示是（我知道如何使用 while 循环来做到这一点，但想知道它是如何做到的会用 for 循环来完成吗？）

```
for (;;) {
    cout << "Would you like to calculate an area? " << endl;
    cout << "Enter 1 for yes, 0 for no: " << endl;
    cin >> decision;
    if ( decision != 1 ) // or if ( decision == 0 )
    {
        break;
    }

    cout << "Please enter the number of rectangles you would like to use: " << endl;
    cin >> n;
    cout << "Please enter the upper bound of integration: " << endl;
    cin >> b;

    for (inc=0; inc < b; inc++){
        new_sum=z*(f(1+(inc*z)));
        sum=sum+new_sum;
    }

    cout << sum << endl;
} 
```

# c# - 为什么以下字符串比较代码在附加 0x81 后返回 TRUE

> ID：14722474
> 
> 赞同：4
> 
> 时间：2013-02-06T05:52:08.233
> 
> 标签：c#, .net, string, encoding, string-comparison

以下代码是一种解决方法，它允许我们使用现有产品中的某些功能，而无需更改其中的任何代码。这对我们来说是件好事，但我想了解为什么会这样？0x81 字符有什么特别之处？

```
"A".Equals(Encoding.UTF8.GetString(new byte[] { 0x41, 0x81 }), StringComparison.InvariantCulture) // Returns TRUE 
```

上面的代码适用于 CurrentCulture 和 InvariantCulture 但不适用于 Ordinal。这是有道理的，因为按顺序比较每个字节都会在上面的代码中失败。它不适用于默认编码 (SBCS)。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:06:31.700

字节序列 { 0x41, 0x81 } 不是有效的 UTF-8，因为字节 0x41 本身代表 'A' 字符，并且字节 0x81 不能出现在 UTF-8 编码序列的开头，并且是错误的这个位置。

由于 Encoding.UTF8.GetString() 没有抛出异常，它可能会在字符串中添加一个替换字符 (U+FFFD)，如MSDN 上的[选择后备策略中所述。](http://msdn.microsoft.com/en-us/library/ms404377.aspx)

因此，您可能正在将字符串“A”与字符串“A”+替换字符进行比较，并且某些字符串比较可能会忽略替换字符，从而返回 true。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-06T06:27:10.080

您只需删除文化信息，它就可以正常工作，即使用 "A".Equals(Encoding.UTF8.GetString(new byte[] { 0x41, 0x81 })) 代替 "A".Equals(Encoding.UTF8\. GetString(new byte[] { 0x41, 0x81 }), StringComparison.InvariantCulture)

# java - ORA-00928 在 Oracle 中缺少 SELECT 关键字

> ID：14722483
> 
> 赞同：7
> 
> 时间：2013-02-06T05:53:02.483
> 
> 标签：java, sql, oracle, jdbc, prepared-statement

我正在使用以下代码插入数据。但我收到一个错误`"ORA-00928: missing SELECT keyword"`

```
try
{
Class.forName("oracle.jdbc.driver.OracleDriver");
java.sql.Connection conn = DriverManager.getConnection("jdbc:oracle:thin:@xxx.xxx.x.xxx:xxxx:xxxx", "xxxx", "xxxx");
String query="insert into offer1('RCODE','OFFERNO','DAT') values(?,?,?)"; 
    PreparedStatement ps=conn.prepareStatement(query);
    ps.setString(1,r_code);
    ps.setString(2,offerno);
    ps.setDate(3,sqlDate);
    ResultSet rs=ps.executeQuery();
    out.println("data inserted");
}catch(Exception e)
 {
     out.println(e);
 } 
```

我在这段代码中看不到任何错误。如果有人发现，请告诉我错误是什么以及如何解决？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-06T05:56:50.947

单引号用于字符串文字而不是仅用于*标识符*，因此您应该在 columnNames 周围删除它。

```
INSERT INTO offer1 (RCODE,OFFERNO,DAT) VALUES (?,?,?) 
```

并使用`executeUpdate`，因为您没有检索导致结果*集*的记录。

来自*文档*

布尔**执行**（）

*   执行此 PreparedStatement 对象中的 SQL 语句，该对象可以是任何类型的 SQL 语句。

结果集**executeQuery** ()

*   在此 PreparedStatement 对象中执行 SQL 查询，并返回查询生成的 ResultSet 对象。

诠释**执行更新**（）

*   执行此 PreparedStatement 对象中的 SQL 语句，该语句必须是 SQL INSERT、UPDATE 或 DELETE 语句；或不返回任何内容的 SQL 语句，例如 DDL 语句。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-06T05:54:14.613

没有单引号，试试

```
String query="insert into offer1(RCODE,OFFERNO,DAT) values(?,?,?)"; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T05:56:00.437

请试试这个

```
String query="insert into offer1(RCODE,OFFERNO,DAT) values(?,?,?)"; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-04-27T08:57:14.187

我正在运行同样的问题，在我的情况下，查询是这样的：

```
insert into Address (number, street, id) values (?, ?, ?) 
```

问题是由`number`列名引起的，因为`number`它是 Oracle 中的保留关键字，异常是“ORA-00928：缺少 SELECT 关键字”。

因此，`number`必须对列名进行转义，如下所示：

```
insert into Address ("number", street, id) values (?, ?, ?) 
```

现在一切正常。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-06T05:56:58.823

尝试`Statement.executeUpdate`代替`executeQuery`.

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-06T05:59:02.983

```
ResultSet executeQuery() 
```

在此 PreparedStatement 对象中执行 SQL 查询，并返回查询生成的 ResultSet 对象。

```
int executeUpdate() 
```

执行此 PreparedStatement 对象中的 SQL 语句，该语句必须是 SQL INSERT、UPDATE 或 DELETE 语句；或不返回任何内容的 SQL 语句，例如 DDL 语句。

所以不要使用`ResultSet rs = ps.executeQuery();`use int result = ps.executeUpdate();

它返回 INSERT、UPDATE 或 DELETE 语句的行数，或者返回 0 的 SQL 语句不返回任何内容

# c++ - 使用 C++ 从 azure 存储下载 blob

> ID：14722484
> 
> 赞同：0
> 
> 时间：2013-02-06T05:53:17.830
> 
> 标签：c++, libcurl, azure-blob-storage

我正在尝试使用 c++ 和 lib curl 从 azure blob 存储下载文件。当 azure 存储容器公开打开并且存储是私有的时，它工作正常我需要提供身份验证字符串标头来下载文件。在谷歌搜索时，我发现使用 REST 服务我可以做到这一点。我也找到了一些 qt/c++ 代码，但我不想在这里使用 qt。谁能帮我提供一些示例代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-06T06:45:36.673

现在放弃这个答案可能为时已晚，但在 github 上有一个 C++ 版本的 Azure 存储客户端库可用：[https](https://github.com/Azure/azure-storage-cpp) ://github.com/Azure/azure-storage-cpp和 NuGet 包在：[http ://www.nuget.org/packages/wastorage/0.5.0-preview](http://www.nuget.org/packages/wastorage/0.5.0-preview)。

# cordova - 用phonegap检查android版本是否小于4？

> ID：14722486
> 
> 赞同：4
> 
> 时间：2013-02-06T05:53:35.473
> 
> 标签：cordova

我正在尝试使用phonegap检查android版本是否小于4。

我得到了这个版本。

```
 var deviceOS  = device.platform;  //fetch the device operating system
   var deviceOSVersion = device.version;  //fetch the device OS version
          alert("Device OS: " + deviceOS); 
          alert("Device OS Version: " + deviceOSVersion); 
```

并尝试检查版本是否小于 4，但它不起作用？

```
if (deviceOSVersion < 4) {
    alert("android less than 4");
} 
```

我已经测试了一些东西，但没有运气。
任何输入表示感谢。

更新：我试图将最后一个代码“useAnimations：animationen”设置为false，如果它是并且android小于4，如果它是iPhone，那么“animationen”应该是true。但是在 iPhone 上，下面的代码是错误的吗？

```
 var int = 0;
    var animationen='';

  function onBodyLoad()
        {         
       document.addEventListener("deviceready", onDeviceReady, false);
        }

        function onDeviceReady()
        {
    getDeviceProperty();
        }

    function getDeviceProperty(){
     var deviceOS  = device.platform;  //fetch the device operating system
     var deviceOSVersion = device.version;  //fetch the device OS version
          alert("Device OS: " + deviceOS); 
          alert("Device OS Version: " + deviceOSVersion); 

if (deviceOS.indexOf('Android') >= 0) {
alert("its an android");
int = parseInt(deviceOSVersion);
if(int<4){
alert("animation false");
animationen=false;
}
alert("apptype = android");
}
else
{
alert("apptype = iphone");
animationen=true;
}                     
}

var jQT = new $.jQTouch({
useAnimations: animationen
}); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T06:35:54.097

您需要使用 parseInt 接收到的值，

```
if( parseInt( deviceOSVersion, 10 ) < 4 )
{
    // your code
} 
```

希望有帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:36:02.943

```
var int = 0;  
....// your code here
int = parseInt(deviceOSVersion);
if(int<4){
//do something
} 
```

我已经检查过了，它正在工作。

# c# - XML字符串反序列化为c#对象

> ID：14722492
> 
> 赞同：15
> 
> 时间：2013-02-06T05:54:33.347
> 
> 标签：c#, xml

我收到这样的xml文件。

```
<radio>
  <channel id="Opus">
    <display-name>Opus</display-name>
    <icon src="" />
  </channel>
  <channel id="Klasika">
    <display-name>Klasika</display-name>
    <icon src="" />
  </channel>
  <channel id="LR">
    <display-name>LR</display-name>
    <icon src="" />
  </channel>
  <programme channel="Opus" start="20130203060000" stop="20130203110000" duration="050000">
    <title lang="lt">OPUS muzika.</title>
    <desc lang="lt">OPUS muzika.</desc>
    <category lang="lt">muzikos laidos</category>
    <date>2013.02.03</date>
  </programme>
  <programme channel="Opus" start="20130203110000" stop="20130203150000" duration="040000">
    <title lang="lt">Vėlyvi pusryčiai su OPUS.</title>
    <desc lang="lt">Vėlyvi pusryčiai su OPUS.</desc>
    <category lang="lt">muzikos laidos</category>
    <date>2013.02.03</date>
  </programme>
</radio> 
```

有很多**节目**和**频道**的实例。我尝试将其反序列化为这个 c# 对象，但我得到一个 null 而不是对象：

```
[XmlRoot("radio")]
public sealed class radio
{
    [XmlRoot("channel")]
    public sealed class channel
    {
        [XmlAttribute("id")]
        public string id { get; set; }

        [XmlElement("display-name")]
        public string displayName { get; set; }

        [XmlElement("icon")]
        public string icon { get; set; }

        public channel()
        {    
        }
    }

    [XmlRoot("programme")]
    public sealed class programme
    {
        [XmlAttribute("channel")]
        public string channel { get; set; }

        [XmlAttribute("start")]
        public string start { get; set; }

        [XmlAttribute("stop")]
        public string stop { get; set; }

        [XmlAttribute("duration")]
        public string duration { get; set; }

        [XmlElement("title")]
        public string title { get; set; }

        [XmlElement("desc")]
        public string desc { get; set; }

        [XmlElement("category")]
        public string category { get; set; }

        [XmlElement("date")]
        public string date { get; set; }

        public programme()
        {
        }
    }

    [XmlArray]
    public channel[] channels { get; set; }

    [XmlArray]
    public programme[] programmes { get; set; }

    public radio()
    {
        channels = null;
        programmes = null;
    }

    public static radio FromXmlString(string xmlString)
    {
        var reader = new StringReader(xmlString);
        var serializer = new XmlSerializer(typeof(radio));
        var instance = (radio)serializer.Deserialize(reader);

        return instance;
    }
} 
```

我做错了什么，正确的 xml 对象类是什么？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-02-06T06:43:52.440

你只需要`Radio`稍微改变你的类，因为这两种对象类型混合在同一个数组中，你必须添加一些属性来让序列化程序知道什么。

```
[XmlRoot("radio")]
public sealed class radio
{
    [XmlElement("channel", Type = typeof(channel))]
    public channel[] channels { get; set; }

    [XmlElement("programme", Type = typeof(programme))]
    public programme[] programmes { get; set; }

    public radio()
    {
        channels = null;
        programmes = null;
    }

    public static radio FromXmlString(string xmlString)
    {
        var reader = new StringReader(xmlString);
        var serializer = new XmlSerializer(typeof(radio));
        var instance = (radio)serializer.Deserialize(reader);

        return instance;
    }
}

[Serializable]
public class channel
{
    [XmlAttribute("id")]
    public string id { get; set; }

    [XmlElement("display-name")]
    public string displayName { get; set; }

    [XmlElement("icon")]
    public string icon { get; set; }

    public channel()
    {
    }
}

[Serializable]
public sealed class programme
{
    [XmlAttribute("channel")]
    public string channel { get; set; }

    [XmlAttribute("start")]
    public string start { get; set; }

    [XmlAttribute("stop")]
    public string stop { get; set; }

    [XmlAttribute("duration")]
    public string duration { get; set; }

    [XmlElement("title")]
    public string title { get; set; }

    [XmlElement("desc")]
    public string desc { get; set; }

    [XmlElement("category")]
    public string category { get; set; }

    [XmlElement("date")]
    public string date { get; set; }

    public programme()
    {
    }
} 
```

结果：

![在此处输入图像描述](../Images/581b9497c743294238ce8c05c1a5f327.png)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-06T06:02:12.477

采用`LINQ2XML`

```
XElement doc=XElement.Load("yourXML.xml");
var channelLst=doc.Elements("channel").Select(x=>
new
{
    id=x.Attribute("id").Value,
    displayName=x.Element("display-name").Value,
    icon=x.Element("icon").Attribute("src").Value
}
); 
```

您现在可以遍历 channelLst

```
foreach(var c in channelLst)
{
    c.id;
    c.displayName;
} 
```

# php - 常规站点 下桌设计

> ID：14722493
> 
> 赞同：-2
> 
> 时间：2013-02-06T05:54:37.000
> 
> 标签：php

我有一个名为 site_down 的表。我有以下字段值。

```
Day_of_month_from   Day_of_month_to Month_Flag
1                        10           N
5                         7           N
7                        25           N
20                       10           Y
20                       25           Y 
```

细节：

定期网站将如下所述

每个月 1 到 10 每个月 5 到 7 每个月 7 到 25 每个月 20 到 10 并且它的 Month_Flag 标志是 Y。即站点应该从 20 到下个月 10。即月底和开始下个月。

Month_Flag 标志是 N 的意思。网站关闭将在同一个月。

当日期介于两个月之间时，如何编写 PHP 逻辑以将网站推倒。

我试过下面的逻辑。

当 Month_Flag 标志为 Y 时，我从 date 中获取并使用 date('t) 来获取月末。所以我不能依赖下一个/到日期字段，但是当下个月到来时，如何检查条件？如何定义规则？

注意：肯定很少有人不明白。我会根据要求更新我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:14:42.743

不确定我是否完全理解您的要求，但让我试试。

所以问题是如何根据标志 Y/N确定*停机站点的结束日期。*

假设我们从 Ds 日开始，Y 年 M 月，结束 De

```
start_down = date(Y,M,Ds)

if (flag is Y OR Ds > De) {
  M = M+1
}
if (M > 12) {
  Y = Y+1
  M = 1
}

end_down = date(Y,M,De) 
```

类似的东西？

# java - 当我在 Java 中使用这个方法调用时调用的方法是什么？

> ID：14722498
> 
> 赞同：1
> 
> 时间：2013-02-06T05:55:18.440
> 
> 标签：java, swing, jframe

```
import javax.swing.*;

class Foo{

        public static void main(String args[]){
            JFrame f=new JFrame();
            f.add("North",new JButton());    //Line 1
            f.add(new JButton(),"North");    //Line 2
            f.setVisible(true);
    }
} 
```

swing API 声明 JFrame 类包含 5 个名为 add 的方法，它们继承自 java.awt.Container，另一个 add 方法继承自 java.awt.Component。

```
**Their signatures are as follows:**

*Inherited from java.awt.Container*

    add(Component)

    add(Component,int)

    add(Component,Object)

    add(Component,Object,int)

    add(String,Component)

*Inherited from java.awt.Component*

    add(java.awt.PopupMenu) 
```

我预计 API 中会有两个带有签名 add(Component,String) 和 add(String,Component) 的重载方法。但鉴于情况并非如此，我假设第 1 行调用 add(String,Component) 而第 2 行调用 add(Component,Object)。

另外，谁能给我解释一下调用的方法是如何实现的。我试图通过查看 API 的源来弄清楚这一点，但是方法调用链就像一个迷宫，我可以使用以前去过那里的人的指导。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T06:13:05.377

Eventaully，他们都打电话[`Container#addImpl(Component, Object, int)`](http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#addImpl%28java.awt.Component,%20java.lang.Object,%20int%29)，期待`add(PopupMenu)`

*   `add(Component)`来电`addImpl(comp, null, -1)`
*   `add(String, Component)`来电`addImpl(comp, name, -1)`
*   `add(Component, int)`来电`addImpl(comp, null, index)`
*   `add(Component, Object)`来电`addImpl(comp, constraints, -1)`
*   `add(Component, Object, int)`来电`addImpl(comp, constraints, index)`

`addImpl`做了很多工作...

它确保；

*   该组件是自己添加的
*   该组件不是类型`Window`（因为您不能将窗口添加到组件）
*   组件的图形配置是否相同
*   该组件尚未包含在现有容器中，如果包含则将其删除
*   该组件已添加到有效的索引范围内（如果`index`> -1）

那么它...

*   将组件添加到此容器管理的组件列表中
*   调用组件的`addNotify`方法（如果容器在屏幕上实现）
*   通知布局管理器新添加的组件
*   通知任何侦听器有关容器事件 ( `componentAdded`) 和层次结构事件 ( `hierarchyChanged`)

**额外的**

“添加”方法是装饰器。它们提供了许多过滤到单个方法的入口方法，旨在使开发人员的生活更简单，基于那里的工作环境。

# php - PHP中的COM Word.Application

> ID：14722502
> 
> 赞同：1
> 
> 时间：2013-02-06T05:55:20.253
> 
> 标签：php, com, ms-word

我正在使用我在 PHP（Yii 框架）中使用 COM 编写的 Web 应用程序从模板创建 word 文档，当我尝试释放对象时收到错误消息

```
 $word = new COM("Word.Application") or die("Unable to instantiate Word");
    ....
    $word->Quit(); 
    $word->Release(); 
    $word = null; 
```

当我使用 Release 方法时，我收到错误 [0x800706be] 远程过程调用失败。事件查看器中没有错误，实际上它报告 Microsoft Office 会话持续了 17 秒并且会话正常结束，单词在任务管理器中仍然不活动，并且文档是按照代码生成的。我的问题是我是否需要使用 Release 方法 - Quit 并将对象设置为 null 是否足够？这是在使用 PHP 版本 5.4.7 的 Apache 服务器上运行的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T13:33:55.697

这有效：

```
$word = new COM("Word.Application") or die("Unable to instantiate Word");
...
$word->Quit();
$word = NULL;
unset($word); 
```

进一步说明：

Release 命令不是必需的，因此删除它并确保使用 unset($word); 命令在不再需要时销毁变量

# django - 使用 Mongoengine 和 Django 的用户模型

> ID：14722507
> 
> 赞同：0
> 
> 时间：2013-02-06T05:55:59.383
> 
> 标签：django, mongodb, mongoengine

我有两种类型的用户说`UserA`和`UserB`。在我的模型中，我有

```
from mongoengine import *
from django.contrib.auth import User

ClassA(User):
  fieldA = StringField()
  fieldB = StringField()

ClassB(User):
  fieldC = BooleanField()
  fieldD = BooleanField() 
```

这是否意味着在我的控制器中我可以调用

```
user = ClassA()
user.fieldA = 'something'
user.save() 
```

在我有`ClassA(Document)`和之前`ClassB(Document)`。或者我应该继承两者？`ClassA(Document, User)`?

我问的原因是因为我希望能够使用 mongoengine 拥有的身份验证内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T12:13:10.280

从 django 继承不适用于 Mongoengine -`User`您可以使用或扩展一个自定义 mongoengine 类：[https ://github.com/MongoEngine/mongoengine/blob/master/mongoengine/django/auth.py](https://github.com/MongoEngine/mongoengine/blob/master/mongoengine/django/auth.py)

# ruby - 作用域和做同样事情的方法

> ID：14722510
> 
> 赞同：0
> 
> 时间：2013-02-06T05:56:15.413
> 
> 标签：ruby, mongodb, sinatra, mongoid

我想在 Mongoid 中定义 2 种方法：昂贵？及其适用范围。这是我正在做的事情：

```
class MyItem
  include Mongoid::Document
  include Mongoid::Timestamps

  # it could find expensive and cheap items depending of is_expensive parameter
  scope :expensive, ->(is_expensive = true) do
    if is_expensive
      where(:expensive?)
    else
      not_in(:expensive?)
    end
  end

  def expensive?
    price >= 10 # $10
  end
end 
```

所以我希望能够通过以下方式找到项目：

```
 MyItem.expensive #find all expensive ones
  MyItem.where(:expensive?) #the same as above
  MyItem.first.expensive? #check if it's expensive
  items.expensive # items is the collection of MyItem 
```

他们不工作。例如，`MyItem.where(:expensive?)`说`undefined method each_pair for :expensive?:Symbol`

**特别是**我想弄清楚如何做将作为**实例方法**（不是类方法）工作的方法或范围 -`items.expensive`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T07:52:26.267

我没有使用 Mongoid 的经验，所以答案可能并不完全正确，但对我来说，您似乎混合了两件事：数据库查询和在实例上调用方法。

它们是两个独立的东西，不能混为一谈。例如：

```
def expensive? 
  price >= 10
end 
```

...不是数据库查询方法。您只是查看一个实例变量并检查它是否 >= 10。因此，您不能在数据库查询中使用此方法，因为它不是查询构造。

但要让它工作不应该太难。所有你需要改变的是：

```
scope :expensive ... do
  is_expensive ? where(:price.gte => 10) : where(:price.lt => 10)
end 
```

to 的参数`where`必须始终是[Mongoid 查询表达式](http://two.mongoid.org/docs/querying/criteria.html#where)。它不可能是别的东西。

现在您的设置应该可以工作了。你可以问你需要的一切：

```
MyItem.expensive          # Returns a collection of expensive items
MyItem.first.expensive?   # Calls the instance method. Returns true or false
items.expensive           # Returns all expensive items in the collection 
```

但是，这是行不通的：

```
MyItem.where(:expensive?) 
```

因为`:expensive?`不是一个有效的查询表达式，它总是需要作为`where`.

# iphone - 是否可以通过编程方式知道 iPhone 中特定联系人的最后通话日期？

> ID：14722512
> 
> 赞同：1
> 
> 时间：2013-02-06T05:56:17.177
> 
> 标签：iphone, ios, contacts, cal

是否可以通过编程方式知道 iPhone 中特定联系人的最后通话日期？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:02:45.280

**不。**

您无法以编程方式访问呼叫详细信息和消息详细信息。

如果你这样做，苹果会拒绝你的应用程序，你也可以在越狱设备上这样做。

如果您正在寻找越狱设备：[**Accessing iPhone Call History**](http://iosstuff.wordpress.com/2011/08/19/accessing-iphone-call-history/)，无论如何我不会推荐它。

# c# - 编辑不同域中的 App.Config 文件。

> ID：14722516
> 
> 赞同：0
> 
> 时间：2013-02-06T05:56:27.363
> 
> 标签：c#, .net

我有以下代码可以很好地打开 app.config 文件。但是，我需要打开的配置文件来自一个单独的应用程序，该应用程序独立于我尝试读取的应用程序运行。任何想法将取代 CurrentDomain 或如何去做。谢谢

```
// Load the app.config file
XmlDocument xml = new XmlDocument();
xml.Load(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:02:00.060

没有办法 [1] 您可以通过`AppDomain`实例访问不同的域，*除非您首先创建它并保留引用*。

这就是应用程序域隔离的全部意义所在。

如果您通过其他方式知道其路径/文件名，则只能打开其他域的 app.config 文件，因为您`AppDomainSetup`无法访问其他域的实例。

[1] 调试器、调试 API、您自己的 CLR 主机等。

# android - NoSuchMethodError SimpleCursorAdapter 适用于旧版本的 android(2.3.3)

> ID：14722517
> 
> 赞同：1
> 
> 时间：2013-02-06T05:56:30.997
> 
> 标签：android, actionbarsherlock, adapter, simplecursoradapter

我正在开发集成 Sherlock 的小型 android 应用程序。在我的应用程序中，我使用的是 Sherlock 列表片段，其中显示从本地数据库获取的列表项。

```
lv = getListView();
from = new String[] { Table.COLUMN_DESC1,COLUMN_DESC2, COLUMN_COUPONID };
to = new int[] { R.id.textView1, R.id.textView2, R.id.textView4 };
adapter = new SimpleCursorAdapter(this.getActivity(),R.layout.coupon, null, from, to, 0);
setListAdapter(adapter);
getLoaderManager().restartLoader(0, bundle, this); 
```

现在的问题是，当我在 ics 版本的 android 上运行此代码时，它工作正常，但是当我在 android 2.3.3 上运行此代码时，它会出现以下问题。

我的应用程序包含一个主要活动和两个片段 f1、f2

当我从 f1 切换到 f2 时，它工作正常，没有任何错误..

当我再次从 f2 切换到 f1 时，它工作正常

但是当我再次从 f1 切换到 f2 时，它会出现以下错误。

```
01-03 01:37:04.175: E/AndroidRuntime(8010): FATAL EXCEPTION: main
01-03 01:37:04.175: E/AndroidRuntime(8010): java.lang.NoSuchMethodError:android.widget.SimpleCursorAdapter.<init> 
```

在较新版本的 android 上可以正常使用此代码，但在旧版本上它不能正常工作....我无法弄清楚它背后的问题是什么..需要帮助...谢谢...

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-06T06:03:13.840

尝试将您的导入更改为

```
import android.support.v4.widget.SimpleCursorAdapter; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:06:24.673

你确定你已经在你的代码中导入了这个下面的行吗？

```
import android.support.v4.widget.SimpleCursorAdapter; 
```

# sql-server-2008 - Sql Server 2008：DBCC 语句查询

> ID：14722518
> 
> 赞同：0
> 
> 时间：2013-02-06T05:56:50.397
> 
> 标签：sql-server-2008

我正在将一些代码从 Sybase 迁移到 Sql server 2008。在这个过程中，我正在执行下面提到的命令-

`TRUNCATE TABLE [Table_name]`

`dbcc set_identity_burn_max([database_name],[Table_name], '0')`

但收到此错误：

`Incorrect DBCC statement. Check the documentation for the correct DBCC syntax and options.`

谁能建议我在 sql server 2008r2 上运行此代码的正确语法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:58:55.840

它应该是

`dbcc CHECKIDENT ('dbname', RESEED, 0)`

有关如何使用 DBCC 的文档，请参见此处：http: [//msdn.microsoft.com/en-us/library/ms176057.aspx 。](http://msdn.microsoft.com/en-us/library/ms176057.aspx)

注意：不要尝试使用像 Sybase 这样的 SQL Server。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:22:18.777

截断表格也应该重置种子......

# asp.net - 在 asp.net 中动态正确填充下拉列表

> ID：14722519
> 
> 赞同：0
> 
> 时间：2013-02-06T05:56:50.250
> 
> 标签：asp.net, sql, sqldatasource, sqldatareader

我是asp.net的新手，我想问一下在asp.net中填充下拉列表什么更合适？使用数据源或使用 sqldatareader 和 for 循环。

我正在使用 sqldatareader 和 for 循环，这是我的示例代码：

```
For i = 1 To 20
            etc.CommandText = "select Classification from schemaItemDetails.AssetClassification where AC_ID = " & i & ""
            Dim dr As SqlDataReader = etc.ExecuteReader
            While (dr.Read())
                ddoneclassification.Items.Add(dr.GetString(0))
            End While
            dr.Close()
        Next 
```

使用sqldatasource和这个有区别吗？我从不使用 sqldatasource 来填充下拉列表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:08:15.043

从我的角度来看，最简单和最好的解决方案是设置 DropDownList 的 DataSource 属性。在这种情况下，所有必需的工作都在幕后完成，您无需考虑 db 服务器和 web 服务器之间的同步数据。

另外，如果我是你，我会修改 sql，以便只向数据库服务器发送一个请求，即

```
"select Classification from schemaItemDetails.AssetClassification where AC_ID between 1 and 20" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:12:49.433

无需循环，而是获取查询中的 20 个项目 ( `SELECT TOP 20 ID,Name from YourTable WHERE ..`) 并将其绑定到下拉控件

```
ddoneclassification.DataSource=dr
ddoneclassification.DataTextField="Name"  
ddoneclassification.DataValueField="ID"
ddoneclassification.DataBind() 
```

假设您的查询结果集中有 2 个名为 Name 和 ID 的字段。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:21:34.873

这与您的几乎相同，但“while”循环已被删除并替换为将返回更多结果的查询。Read() 方法每次被调用时都会增加索引，也就是每次循环检查发生时，所以你的原始代码几乎没问题。

数据绑定将是另一种选择，但这当然是有效的。我当然不会认为这是“错误的”。

```
etc.CommandText = "select Classification from schemaItemDetails.AssetClassification where AC_ID between 1 and 20"
Dim dr As SqlDataReader = etc.ExecuteReader
While (dr.Read())
    ddoneclassification.Items.Add(dr.GetString(0))
End While
dr.Close() 
```

注意事项：不同的数据库以不同的方式处理“BETWEEN”，因此请检查您的数据库是如何处理的。您可能必须使用`where AC_ID>= 1 and AC_ID>=20`，具体取决于您的数据库包含/排除的边界。

[有关此页面](http://www.w3schools.com/sql/sql_between.asp)底部的更多信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T06:47:06.703

我认为您应该使用数据源来填充下拉列表。只需为下拉列表选择数据源并进行配置。Sqldatareader 主要用于以仅向前顺序方式读取数据，而数据源用于在数据库和网页之间建立连接。

看看这个视频：[http ://www.youtube.com/watch?v=sOE_hA2NLBI](http://www.youtube.com/watch?v=sOE_hA2NLBI)

# iphone - UITableView tableFooterView 可能会导致崩溃？

> ID：14722523
> 
> 赞同：2
> 
> 时间：2013-02-06T05:56:58.833
> 
> 标签：iphone, ios, objective-c

`UIButton`我在a`UITableFooterView`中添加了一个添加`UITableView`。如果我触摸了此按钮，则操作是为 tableView 添加一个新单元格（“ *insertRowsAtIndexPaths* ”）。大多数情况下它运行良好，但有时它可能会崩溃，如：

```
2013-02-04 15:00:56.139 browser2345HD[3156:c07] *** Assertion failure in -[UIViewAnimation initWithView:indexPath:endRect:endAlpha:startFraction:endFraction:curve:animateFromCurrentPosition:shouldDeleteAfterAnimation:editing:], /SourceCache/UIKit_Sim/UIKit-2372/UITableViewSupport.m:2596
2013-02-04 15:00:56.139 browser2345HD[3156:c07] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Cell animation stop fraction must be greater than start fraction'
*** First throw call stack:
(0x1e6a012 0x1c8fe7e 0x1e69e78 0x1419f35 0xb365df 0xb348f0 0xb358d8 0x970666 0x96cc67    0x978f95 0x978fc3 0x8ba4b 0x962fa73 0x9645c62 0x964683b 0x963015f 0x9700ac4 0x9700b09   0x96300c9 0x963e977 0x9630fd8 0x963eba7 0x963f393 0x963eba7 0x963f393 0x963eba7 0x963f393   0x963eba7 0x963f393 0x96f931d 0x973e387 0x9739717 0x9740ff3 0x1ddfbf5 0x1ddf962 0x1e10bb6   0x1e0ff44 0x1e0fe1b 0x2bd17e3 0x2bd1668 0x8cb65c 0x2955 0x2855)
libc++abi.dylib: terminate called throwing an exception
(lldb) 
```

**任何人都可以解决这个问题吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-16T23:21:43.610

与此类似的行为：[UITableView : crash when added a section footer view in empty section](https://stackoverflow.com/a/12297703/1698467)

尝试使用下面部分的标题而不是此部分的页脚。

祝你好运！:)

# javascript - JQuery AJAX GET 请求总是返回错误

> ID：14722526
> 
> 赞同：0
> 
> 时间：2013-02-06T05:57:14.843
> 
> 标签：javascript, jquery, html, rest, mlab

我正在学习 Web 开发，并试图发出 ajax 请求，以通过他们的[REST API](http://support.mongolab.com/entries/20433053-rest-api-for-mongodb)查询托管在 MongoLab 中的 MongoDB 数据库。我的代码很简单，但是我不明白为什么ajax请求总是出错。帮助？

```
<doctype html>
<html>
<head>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.1.0.min.js"></script>

    <title>Data Viewer</title>
</head>
<body>
    <form id="the_form" method="post">
        <input type="submit" value="Go" />
    </form>

    <script>
        $(function() {
            $('#the_form').submit(function() {
                $.ajax({
                    url: 'https://api.mongolab.com/api/1/databases/omnitor-android/collections/logs?apiKey=[some API key in here]',
                    type: 'GET',
                    success: function(data) {
                        alert(data);
                    },
                    error: function() {
                        alert("boom");
                    }
                });
            });
        });
    </script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:03:46.230

[这是因为您试图调用托管在不同域中的服务。由于同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)，Ajax 不允许跨域请求。您不能使用 ajax 调用外部站点。如果你真的想使用，你必须使用[JSONP](http://en.wikipedia.org/wiki/JSONP)。或者您可以为此使用服务器端代理。意思是，在服务器端调用外部站点并对那个 web 服务进行 ajax 调用。

有关如何执行跨域 ajax 请求的更多详细信息，请点击[此链接](http://tutorials.cmsnsoftware.com/2012/02/how-to-use-cross-domain-ajax-request.html#0)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T19:25:37.003

MongoLab REST API 完全支持 CORS，因此大多数浏览器应该能够毫无问题地向它发出请求。尝试将此添加到您的 js 代码的顶部：

```
$.support.cors = true; 
```

您是否尝试过使用大多数浏览器（例如 FireBug）中内置的调试控制台？您可能可以在那里找到更详细的错误消息。

此外，请随时联系 support@mongolab.com 寻求帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-06T22:02:46.310

克服同源策略限制的方法有以下三种：

1.  CORS（跨源资源共享） - 虽然需要在服务提供商的服务器端进行一些额外的配置，但它是最理想的解决方案，尤其是在您的情况下，因为 MongoLabs 确实提供了对这种方法的支持 - 在开发人员端没有额外的工作。
2.  服务器端代理 - 创建一个本地服务器，将您的请求路由到原始服务器。尽管需要在您端进行配置服务器的工作，但它将帮助您完全避免同源策略限制。
3.  JSONP（带有填充的 Java Script Object Notation - 在我看来，这应该是最后的手段，因为与这种方法相关的安全风险以及必须为所有请求坚持一个 HTTP 动词（GET）的限制。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T16:59:50.953

Mongolab 确实支持 CORS。这意味着您不会在 IE* 和 Opera ( [http://caniuse.com/cors](http://caniuse.com/cors) ) 中获得太多支持。要将它用于支持 CORS 的浏览器，您必须确保在 jQuery ajax 请求中将 dataType 设置为“json”。

```
 $.ajax(
            {
                url         : url
            ,   type        : "GET"
            ,   dataType    : "json"
            ,   success     : function( data )
                {
                    // do something
                }
            }); 
```

为了获得更多浏览器支持，我建议使用简单的代理（例如在 PHP 中）。你可以使用类似的东西；

```
var xhr = new XMLHttpRequest();
  if ( ! "withCredentials" in xhr) {
    // Use proxy in ajax call
    //
  }
  else {
   // Standard CORS call
   // 
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T06:14:06.613

[由于对 ajax 请求施加的同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)约束，它不起作用。同源策略防止浏览器发出跨域请求。

解决此问题的方法是使用[jsonp](http://en.wikipedia.org/wiki/JSONP)。大多数 API 提供者都支持这个协议，像 jQuery 这样的库也支持这个协议。

如果您检查浏览器控制台，您会发现类似

```
Origin http://fiddle.jshell.net is not allowed by Access-Control-Allow-Origin. 
```

您可以使用[jQuery.getJson() 之](http://api.jquery.com/jQuery.getJSON/)类的

```
$.getJSON('https://api.mongolab.com/api/1/databases/omnitor-android/collections/logs?apiKey=[some API key in here]?callback=?', function(data) {
    console.log('xx')
}); 
```

# javascript - SyntaxError：函数语句需要 ExtJs 中的名称

> ID：14722527
> 
> 赞同：0
> 
> 时间：2013-02-06T05:57:23.060
> 
> 标签：javascript, checkbox, extjs4

我喜欢从 ExtJs 中的 JSon 响应填充 checkboxgroup。单击发送按钮时，它将在控制台中显示响应。

```
Ext.define('myclass', {
extend: 'Ext.form.Panel',
initComponent: function(){
Ext.apply(this, {
renderTo: Ext.getBody(),
title: 'Message',
tbar: [{
    text: 'Send',
    handler: function(){
    console.log(this.getValues());
    },
    scope: this
}],
items: []
});
    this.callParent(arguments);
}
});
    var messagePanel = new myclass();

loadCheckboxes : function(){
Ext.Ajax.request({
    url: 'recipients.json',
    success: function(response){
        console.log(response);
    },
    scope: this
    });
}

this.loadCheckboxes();

onLoad : function(response){
var jsonResponse = Ext.decode(response.responseText);
    if (jsonResponse.success) {
    // success
    console.log(jsonResponse);
    }
}

    Ext.Ajax.request({
    url: 'recipients.json',
    success: onLoad(),
    scope: this
    });

var checkboxGroup = {
xtype: 'checkboxgroup',
columns: 2,
fieldLabel: 'Recipients',
name: 'recipients',
style: {
padding: '10px'
},
items: []
};
this.add(checkboxGroup);

var i, len = jsonResponse.recipients.length, recipient;
for (i = 0; i < len; i++) {
recipient = jsonResponse.recipients[i];
    checkboxGroup.items.push({
    xtype: 'checkbox',
    boxLabel: recipient.fullName,
    name: 'recipients',
    inputValue: recipient.userID,
    checked: recipient.selected
    });
} 
```

这是此代码的 Json 代码。

```
{
"success": true,
"recipients": [{
"fullName": "Stuart Ashworth",
"userID": 1,
"selected": true
}, {
"fullName": "Andrew Duncan",
"userID": 2,
"selected": false
}
]
} 
```

当我运行此代码时，在控制台中显示错误。 **语法错误：函数语句需要名称 loadCheckboxes : function(){**

请建议我解决此问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:15:07.710

您似乎正在尝试定义对象的键值：

```
loadCheckboxes : function(){
    // ...
} 
```

但是，这些应该是声明的变量或函数：

```
var loadCheckboxes = function () {
    // ...
};

function loadCheckboxes() {
    // ...
} 
```

因为它们不在[对象文字](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Values,_variables,_and_literals#Object_literals)中——`{...}`语法`name: value`将对象的键定义为[函数表达式](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/function)，它可以是匿名的。

相反，它们是后跟[函数声明的](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/function)[标签](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/label)，不能是匿名的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T14:27:02.640

检查这对您有何作用

```
Ext.define('myclass', {
    extend: 'Ext.form.Panel',
    initComponent: function() {
        Ext.apply(this, {
            renderTo: Ext.getBody(),
            title: 'Message',
            tbar: [
                {
                    text: 'Send',
                    handler: function() {
                        console.log(this.getValues());
                    },
                    scope: this
                }
            ],
            items: [
                {
                    xtype: 'checkboxgroup',
                    columns: 2,
                    fieldLabel: 'Recipients',
                    name: 'recipients',
                    style: {
                        padding: '10px'
                    },
                    items: []
                }
            ]
        });
        this.callParent(arguments);
    },
    onLoad: function(response) {
        var jsonResponse = Ext.decode(response.responseText);
        if (jsonResponse.success) {
            // success
            console.log(jsonResponse);
            var i, len = jsonResponse.recipients.length, recipient;
            var checkboxGroup = this.down('checkboxgroup[name="recipients"]');
            for (i = 0; i < len; i++) {
                recipient = jsonResponse.recipients[i];
                checkboxGroup.add({
                    xtype: 'checkbox',
                    boxLabel: recipient.fullName,
                    name: 'recipients',
                    inputValue: recipient.userID,
                    checked: recipient.selected
                });
            }
        }
    }
});

var messagePanel = new myclass();

function loadCheckboxes() {
    Ext.Ajax.request({
        url: 'recipients.json',
        success: function(response){
            console.log(response);
        }
        // , scope: this <-- you don't need scope here, you are not in a class
    });
}

loadCheckboxes(); // <-- I assume this call and the next are for debugging pourposes

Ext.Ajax.request({
    url: 'recipients.json',
    success: messagePanel.onLoad,
    scope: messagePanel
}); 
```

# android - 当我尝试将其上传到市场时，它显示..“您需要将 APK 文件大小减小到 50MB 或使用 APK 扩展文件。”

> ID：14722528
> 
> 赞同：-4
> 
> 时间：2013-02-06T05:57:27.297
> 
> 标签：android

我的项目 apk 文件大小为 101mb，当我尝试将其上传到市场时，它显示..“您需要将 APK 文件大小减小到 50MB 或使用 APK 扩展文件。”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:59:58.023

Android Market 允许在 Play 商店中上传 50MB 的 apk。

[http://support.google.com/googleplay/android-developer/answer/2481797?hl=en&](http://support.google.com/googleplay/android-developer/answer/2481797?hl=en&)

# ios - 在拆分视图上方放置一个工具栏

> ID：14722533
> 
> 赞同：0
> 
> 时间：2013-02-06T05:57:53.397
> 
> 标签：ios, user-interface, uisplitviewcontroller, uistoryboard

你怎么做？给你一个想法，它就像这个 eBay iPad 应用程序上的工具栏。注意在最后一张照片上，拆分视图消失了，但工具栏仍然存在？我想知道整个事情是否由 UI 导航控制？还是比这更具技术性？

来源： [https ://itunes.apple.com/gb/app/ebay-for-ipad/id364203371?mt=8](https://itunes.apple.com/gb/app/ebay-for-ipad/id364203371?mt=8)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:27:10.493

我做过类似的事情，它充当工具栏，实际上不是。我添加了工具栏长度的图像，并在其上相应地添加了剩余的按钮和功能，使图像视图（推背景）透明。其余的遵循导航控制器和拆分视图控制器。

# arm - 基准标记 ARM NEON OpenMAX 数字

> ID：14722534
> 
> 赞同：3
> 
> 时间：2013-02-06T05:57:55.867
> 
> 标签：arm, benchmarking, neon, fpu, openmax

我目前正在通过使用各种编译器（尝试过 DS-5 和 IAR）和各种库（Openmax，NE10）来对 Cortex-A8 处理器的性能进行基准测试。我正在专门研究 NEON 单元在比较时可以实现什么 1.Only ARM 2.ARM +VFPv3

Openmax 有两个版本 1\. 为 NEON 定制 2\. Arm 处理器的示例代码 我使用 OpenMax 制作了下表。正如预期的那样，NEON 代码性能是无与伦比的。

[https://docs.google.com/file/d/0B318pI7x2QVceWRDTE5FQk8zcVk/edit](https://docs.google.com/file/d/0B318pI7x2QVceWRDTE5FQk8zcVk/edit)

NE10 是目前唯一可用于 Cortex-AI 的其他信号处理库，我仍在开发 NE10 库。

**有什么办法可以将这些数字与其他处理器进行比较？还是有任何用于比较处理器的程序标准程序？**

以下是 Openmax api 的链接 [http://www.khronos.org/files/openmax_dl_spec_1_0_2.pdf](http://www.khronos.org/files/openmax_dl_spec_1_0_2.pdf)

# android - 布局权重警告嵌套权重性能不佳

> ID：14722538
> 
> 赞同：1
> 
> 时间：2013-02-06T05:58:17.310
> 
> 标签：android, android-linearlayout

我是安卓新手。现在我收到嵌套重量性能不佳的警告。我的第一个屏幕中只有一个图像和三个按钮。PL给我一些想法。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@color/backgroundColor"
    android:orientation="vertical"
    android:gravity="center_horizontal"
    android:weightSum="10"
    >

    <ImageView
        android:layout_weight="4"
        android:id="@+id/imageLogo"
        android:layout_width="wrap_content" 
        android:layout_height="0dip"
        android:contentDescription="@string/Img"
        android:layout_marginLeft="10dp"
        android:layout_marginTop="20dp"
        android:src="@drawable/home_screen_logo" />

    <LinearLayout
       android:layout_weight="6"
       android:layout_width="fill_parent"
    android:layout_height="0dip" 
    android:orientation="vertical" 
    android:gravity="center_horizontal"
        >

        <LinearLayout android:layout_height="0dp" android:layout_width="fill_parent"
            android:layout_weight="1"
            android:id="@+id/temp"></LinearLayout>
    <ImageButton
        android:id="@+id/btnLogin"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/login"
        android:contentDescription="@string/Img"  
        android:layout_weight="1"
        />
    <LinearLayout android:layout_height="0dp" android:layout_width="fill_parent"
            android:layout_weight="1"></LinearLayout>
    <ImageButton
        android:id="@+id/btnFbLogin"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1"
         android:background="@drawable/btnfb"
         android:contentDescription="@string/Img"
        />
    <LinearLayout android:layout_height="0dp" android:layout_width="fill_parent"
            android:layout_weight="1"></LinearLayout>
    <ImageButton
        android:id="@+id/btnRegister"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:background="@drawable/btnregister"
        android:contentDescription="@string/Img"/>
</LinearLayout>
</LinearLayout> 
```

提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T06:01:21.360

> 嵌套权重不利于性能，因为：
> 
> > 布局权重需要对小部件进行两次测量。当具有非零权重的 LinearLayout 嵌套在具有非零权重的另一个 LinearLayout 中时，测量的数量会呈指数增长。
> 
> 最好`RelativeLayouts`根据其他视图的位置来使用和调整视图，而不使用特定的 dpi 值。

礼貌：[为什么嵌套权重不利于性能？备择方案？](https://stackoverflow.com/questions/9430764/why-are-nested-weights-bad-for-performance-alternatives)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:10:51.760

嵌套权重不利于性能，因为：

> 布局权重需要对小部件进行两次测量。当具有非零权重的 LinearLayout 嵌套在具有非零权重的另一个 LinearLayout 中时，测量的数量会呈指数增长。

最好使用[RelativeLayout](http://developer.android.com/resources/tutorials/views/hello-relativelayout.html)并根据其他视图的位置调整视图，而无需使用特定的 dpi 值。

参考：http: [//developer.android.com/resources/articles/layout-tricks-efficiency.html](http://developer.android.com/resources/articles/layout-tricks-efficiency.html)

在大多数情况下，您可以使用 RelativeLayout 来避免这种昂贵的测量。在 RelativeLayout 中，视图与其父视图、RelativeLayout 本身或其他视图对齐。

为了清楚地了解视图是如何相互定位的，可以使用 Android SDK 的 HierarchyViewer 透视图来捕获布局的线框。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-26T01:17:45.620

尝试`android:weightSum="10"`从线性布局中删除，也删除`android:layout_weight="1"`

现在你看到警告已经消失了！

确保在线性布局中**保持**按钮和其他东西的权重！

我希望这可以解决您的问题:)

# matlab - 在 matlab 中的 imagesc\imshow 的像素之间进行平滑，如 matplotlib imshow

> ID：14722540
> 
> 赞同：17
> 
> 时间：2013-02-06T05:58:23.473
> 
> 标签：matlab, matplotlib, plot

当我在 python 中使用 matplotlib`imshow()`来表示一个小矩阵时，如果在像素之间进行平滑处理，它会产生某种排序。`imshow`使用or时有什么方法可以在 Matlab 中使用`imagesc`吗？

例如，使用 matplotlib 这是单位矩阵的输出`imshow(eye(3))`： ![在此处输入图像描述](../Images/67128aa60dce2cfef6d881542d7d3d53.png)

在matlab中， `imagesc(eye(3))`：

![在此处输入图像描述](../Images/f47993429bff30a6be7f4bbaa2393691.png)

我能想到的一个解决方案是使用一些过滤器进行外推和平滑处理，但这与单个像素级别无关。我也尝试过[myaa](http://www.mathworks.com/matlabcentral/fileexchange/20979-myaa-my-anti-alias-for-matlab)和[export_fig](http://www.mathworks.com/matlabcentral/fileexchange/23629-exportfig)，但它们并不令人满意。Myaa在应用后将所有GUI都可用，所以我无法放大或缩小，而export_fig让我将图形保存到文件然后对该文件进行操作，太麻烦了。那么，有没有办法告诉 matlab 的图形引擎（java 或其他什么）在保持图形 GUI 的良好可用性的同时进行这种平滑处理？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-02-06T11:37:27.177

这是由于默认插值设置为“双线性”。我认为“无”将是更直观的默认值。您可以更改默认插值方法（例如插值=无）：

```
mpl.rcParams['image.interpolation'] = 'none' 
```

有关自定义 Matplotlib 的更多信息可以在[网站上找到](http://matplotlib.org/users/customizing.html)

下面的代码将为您提供所有插值方法的概述：

```
methods = [None, 'none', 'nearest', 'bilinear', 'bicubic', 'spline16', 'spline36', 'hanning', 'hamming', \
           'hermite', 'kaiser', 'quadric', 'catrom', 'gaussian', 'bessel', 'mitchell', 'sinc', 'lanczos']

grid = np.random.rand(4,4)

fig, ax = plt.subplots(3,6,figsize=(12,6), subplot_kw={'xticks': [], 'yticks': []})
fig.subplots_adjust(hspace=0.3, wspace=0.05)

ax = ax.ravel()

for n, interp in enumerate(methods):
    ax[n].imshow(grid, interpolation=interp)
    ax[n].set_title(interp) 
```

![在此处输入图像描述](../Images/5379e0807d9266bfd9268d024395f6db.png)

# android - 来自android的Http Post Bytearray

> ID：14722547
> 
> 赞同：0
> 
> 时间：2013-02-06T05:58:45.670
> 
> 标签：android, http-post, bytearray

我想在 android 中使用 http post 发布多字节数组。我成功地使用 BYTEARRAYENTITY 发布单字节数组但是在单个请求中发布多字节数组应该在代码中进行哪些更改？

我编写如下代码，可以很好地发布一个字节数组。但等待解决方案发布多字节数组。

```
public String postData2s(String URL, String data) {
    String filesizes = "";
    BufferedReader bufferedReader = null;
    String strresponse = "";
    byte[] byteArray = null;
    byteArray = data.getBytes();
    filesizes = byteArray.length + "";
    URL = URL + "&" + "fileSizes=" + filesizes;
    final DefaultHttpClient httpClient = new DefaultHttpClient();
    HttpPost request = null;
    try {
        request = new HttpPost(URL);
    } catch (Exception e) {

    }
    HttpResponse response = null;
    ByteArrayEntity arrayEntity = new ByteArrayEntity(byteArray);
    try {
        arrayEntity.setContentType("text/xml");
        request.setEntity(arrayEntity);
        response = httpClient.execute(request);
        bufferedReader = new BufferedReader(new InputStreamReader(response
                .getEntity().getContent()));
        StringBuffer stringBuffer = new StringBuffer("");
        String line = "";
        String LineSeparator = System.getProperty("line.separator");
        while ((line = bufferedReader.readLine()) != null) {
            stringBuffer.append(line + LineSeparator);
        }
        bufferedReader.close();
        Log.e("response ", stringBuffer.toString());
        strresponse = stringBuffer.toString();
    } catch (ClientProtocolException e) {
        strresponse = "";
        e.printStackTrace();
    } catch (IOException e) {
        strresponse = "";
        e.printStackTrace();
    } finally {
        if (bufferedReader != null) {
            try {
                bufferedReader.close();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
    }
    return strresponse;
} 
```

我的 C# 同事使用以下代码为 windows 发布多字节数组

```
 webRequest.ContentLength = size;

                Stream requestStream = webRequest.GetRequestStream();

                // Escribo cada uno de los archivos en el stream

                for (int i = 0; i < arrBytes.Length; i++)

                    requestStream.Write(arrBytes[i], 0, arrBytes[i].Length);

                requestStream.Close(); 
```

如果有人对此有任何想法，请尽快回复我

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:10:42.677

我正在使用以下方法发布数据。它还包括 byteArray 作为字符串格式的字段之一。您可以将多个字段与多个字节数组一起使用，它会完成这项工作。

代码：

```
public static String UpdateUser(String userIdValue, String userNameValue, String nameValue,
        String emailIdValue, String contryIdValue,String countryNameValue, String stateValue, String cityValue ,String imageBytes){
    String res = null;

    HttpPut request = new HttpPut(USER_URL);
    //request.setHeader("Accept", "application/json");
    request.setHeader("Content-type", "application/json");
    //request.setHeader("user-agent", "Yoda");
    try {

        //-----------------
        /*InputStream is = new BufferedInputStream (getResources().openRawResource(R.drawable.images));
        JSONArray array=readBytes(is);
        is.close(); */
        //----------------
        // Build JSON string
        JSONStringer jObject = new JSONStringer()
            .object()
                //.key("Get")
                  //  .object()
                        .key("Userid").value(userIdValue)
                        .key("UserName").value(userNameValue)
                        .key("Name").value(nameValue)
                        .key("EmailId").value(emailIdValue)
                        //.key("Password").value("")
                        .key("CountryId").value(contryIdValue)
                        .key("CountryName").value(countryNameValue)
                        .key("State").value(stateValue)
                        .key("City").value(cityValue)
                        .key("ImageByteArray").value(imageBytes)
                        /*.key("UserVerification").value("")
                        .key("City").value("")
                        .key("City").value("")*/
                   // .endObject()
                .endObject();

        StringEntity entity = new StringEntity(jObject.toString());
        //System.out.println("Our Res: "+jObject.toString());

        request.setEntity(entity);

        // Send request to WCF service
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpResponse response = httpClient.execute(request);
        //res = response.toString();
        int resCode = response.getStatusLine().getStatusCode();
        System.out.println("Our Res: "+jObject.toString());
        System.out.println("Result code: "+resCode);

        BufferedReader in = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
        String line="";
        StringBuffer returnFromServer = new StringBuffer();
        while ((line=in.readLine())!=null){
            returnFromServer.append(line);
        }
        //Toast what we got from server
        //Toast.makeText(getApplicationContext(),returnFromServer.toString(), Toast.LENGTH_LONG).show(); 
        System.out.println("Responce: "+returnFromServer.toString());
        res = returnFromServer.toString();

        if (entity != null){
            entity.consumeContent();
        }
        // Toast.makeText(getApplicationContext(),response.getStatusLine().getStatusCode()+"", Toast.LENGTH_LONG).show();
    }catch(Exception e){
        e.printStackTrace();
    }

    System.out.println("Responcre is:"+res);
    return res;

} 
```

您只需要添加额外的参数作为您拥有的 byteArray 的数量。

希望对你有很大帮助。

享受编码。

# iframe - 页面上带有 iframe 的浏览器历史记录

> ID：14722548
> 
> 赞同：0
> 
> 时间：2013-02-06T05:58:52.820
> 
> 标签：iframe, back-button

我有一个包含一些链接和一些 iframe 的页面。当用户单击任何链接时，内容将加载到 iframe 中。现在我想将它与浏览器后退按钮集成。为了实现这一点，我正在做的是在单击任何链接时更改窗口位置哈希，然后侦听 onhashchange 事件。当事件触发时，它会被处理并查看哈希值 I（恢复状态并）在 iframe 中加载内容。为了在 iframe 中加载内容，我使用 window.location.replace() 方法来防止它出现在历史记录中并干扰后退按钮的工作。有没有更好的方法可以实现上述功能？请注意，删除 iframe**不是**一种选择。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:11:23.893

为什么不直接使用 iFrame 的历史记录？因为它是一个独立的上下文，并且在某种程度上它是自己的网络浏览器，所以它有自己的历史。

尝试：

```
document.getElementById('id_Of_ Iframe').contentWindow.history.back(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:13:50.697

你可以有一个这样的按钮

```
input type="button" onClick="history.back()" Value="Back" 
```

希望它会有所帮助。

# php - PHP数组分页限制显示的链接数

> ID：14722553
> 
> 赞同：0
> 
> 时间：2013-02-06T05:59:05.860
> 
> 标签：php, arrays, pagination

我正在使用以下分页。[PHP 数组分页器](http://hub.lotsofcode.com/php-array-pagination/)

如何将显示的链接数量限制为 10 个。

我需要的是默认情况下，如果有大约 30 或 40 个链接，它将显示全部否：

**1** | 2 3 4 5 6 7 8 9 11 ....... 35 36 37 38 39 （这里1是选择的页面。）

我想要的是在这样的页面中只显示 10 个链接。

假设选择的页面是 13 则。

<< 6 7 8 9 10 11 12 | **13** | 14 15 >>

我已经在下面发布了分页类文件。

```
class pagination
{
/**
 * Properties array
 * @var array   
 * @access private 
 */
private $_properties = array();

/**
 * Default configurations
 * @var array  
 * @access public 
 */
public $_defaults = array(
  'page' => 1,
  'perPage' => 10 
);

/**
 * Constructor
 * 
 * @param array $array   Array of results to be paginated
 * @param int   $curPage The current page integer that should used
 * @param int   $perPage The amount of items that should be show per page
 * @return void    
 * @access public  
 */
public function __construct($array, $curPage = null, $perPage = null)
{
  $this->array   = $array;
  $this->curPage = ($curPage == null ? $this->defaults['page']    : $curPage);
  $this->perPage = ($perPage == null ? $this->defaults['perPage'] : $perPage);
}

/**
 * Global setter
 * 
 * Utilises the properties array
 * 
 * @param string $name  The name of the property to set
 * @param string $value The value that the property is assigned
 * @return void    
 * @access public  
 */
public function __set($name, $value) 
{ 
  $this->_properties[$name] = $value;
} 

/**
 * Global getter
 * 
 * Takes a param from the properties array if it exists
 * 
 * @param string $name The name of the property to get
 * @return mixed Either the property from the internal
 * properties array or false if isn't set
 * @access public  
 */
public function __get($name)
{
  if (array_key_exists($name, $this->_properties)) {
    return $this->_properties[$name];
  }
  return false;
}

/**
 * Set the show first and last configuration
 * 
 * This will enable the "<< first" and "last >>" style
 * links
 * 
 * @param boolean $showFirstAndLast True to show, false to hide.
 * @return void    
 * @access public  
 */
public function setShowFirstAndLast($showFirstAndLast)
{
    $this->_showFirstAndLast = $showFirstAndLast;

}

/**
 * Set the main seperator character
 * 
 * By default this will implode an empty string
 * 
 * @param string $mainSeperator The seperator between the page numbers
 * @return void    
 * @access public  
 */
public function setMainSeperator($mainSeperator)
{
  $this->mainSeperator = $mainSeperator;
}

/**
 * Get the result portion from the provided array 
 * 
 * @return array Reduced array with correct calculated offset 
 * @access public 
 */
public function getResults()
{
  // Assign the page variable
  if (empty($this->curPage) !== false) {
    $this->page = $this->curPage; // using the get method
  } else {
    $this->page = 1; // if we don't have a page number then assume we are on the first page
  }

  // Take the length of the array
  $this->length = count($this->array);

  // Get the number of pages
  $this->pages = ceil($this->length / $this->perPage);

  // Calculate the starting point 
  $this->start = ceil(($this->page - 1) * $this->perPage);

  // return the portion of results
  return array_slice($this->array, $this->start, $this->perPage);
}

/**
 * Get the html links for the generated page offset
 * 
 * @param array $params A list of parameters (probably get/post) to
 * pass around with each request
 * @return mixed  Return description (if any) ...
 * @access public 
 */
public function getLinks($params = array())
{
  // Initiate the links array
  $plinks = array();
  $links = array();
  $slinks = array();

  // Concatenate the get variables to add to the page numbering string
  $queryUrl = '';
  if (!empty($params) === true) {
    unset($params['page']);
    $queryUrl = '&amp;'.http_build_query($params);
  }

  // If we have more then one pages
  if (($this->pages) > 1) {
    // Assign the 'previous page' link into the array if we are not on the first page
    if ($this->page != 1) {
      if ($this->_showFirstAndLast) {
        $plinks[] = ' <a href="?page=1'.$queryUrl.'">&laquo;&laquo; First </a> ';
      }
      $plinks[] = ' <a href="?page='.($this->page - 1).$queryUrl.'">&laquo; Prev</a> ';
    }

    // Assign all the page numbers & links to the array
    for ($j = 1; $j < ($this->pages + 1); $j++) {
      if ($this->page == $j) {
        $links[] = ' <a class="selected">'.$j.'</a> '; // If we are on the same page as the current item
      } else {
        $links[] = ' <a href="?page='.$j.$queryUrl.'">'.$j.'</a> '; // add the link to the array
      }
    }

    // Assign the 'next page' if we are not on the last page
    if ($this->page < $this->pages) {
      $slinks[] = ' <a href="?page='.($this->page + 1).$queryUrl.'"> &raquo; </a> ';
      if ($this->_showFirstAndLast) {
        $slinks[] = ' <a href="?page='.($this->pages).$queryUrl.'"> &raquo;&raquo; </a> ';
      }
    }

    // Push the array into a string using any some glue
    return implode(' ', $plinks).implode($this->mainSeperator, $links).implode(' ', $slinks);
  }
  return;
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:20:02.957

我认为您需要在这行代码中进行编辑

```
// Assign all the page numbers & links to the array
$i = $this->page;
for ($j = $i; $j < ($i + 9); $j++) {
if ($this->page == $j) {
$links[] = ' <a class="selected">'.$j.'</a> '; // If we are on the same page as the   current item
} else {
 $links[] = ' <a href="?page='.$j.$queryUrl.'">'.$j.'</a> '; // add the link to the array
  }
} 
```

请尝试这样..

# drupal - Drupal 7 菜单限制

> ID：14722554
> 
> 赞同：1
> 
> 时间：2013-02-06T05:59:09.843
> 
> 标签：drupal, menu

我似乎已经达到了 Drupal 7 菜单系统的一些限制。我刚刚使用 admin/structure/menu/manage/menu-main-menu 的菜单系统添加了一个菜单项。我添加了一个新条目，但它没有出现在 List Links 页面上。相信有一个错误，我又添加了 3 次，没有一个显示在 List Links 页面上。

我检查了 menu_links 的数据库表，该表显示了 4 个条目的存在。我不知道是否所有相关表设置正确，或者菜单系统是否中止正确设置所有相关表条目，但是，menu_links 肯定会显示条目名称 4 次，它们显示为条目 1201、1202、 1203、1204。

创建菜单链接的限制是 1200 吗？？？如果没有限制，有什么方法可以让我从正在发生的事情中恢复过来吗？我是否需要调整一些变量来增加可以在菜单 LIST LINKS 页面上显示的链接数量？目前，我在这一 LIST LINKS 页面上有 107 个条目。其他链接（1200 个）分散在用于管理和我的应用程序的小菜单中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T08:48:29.873

对于那些需要信息的人，我已经确定了我的问题的答案。

Drupal 的菜单系统允许您通过管理员的菜单设置创建新的菜单链接，但是如果页面尚未发布，菜单链接将不会显示在管理菜单列表中。

将页面设置为已发布将链接添加到菜单列表。

# linux - 使用 curl 发送电子邮件

> ID：14722556
> 
> 赞同：67
> 
> 时间：2013-02-06T05:59:20.760
> 
> 标签：linux, email, curl, command-line, gmail

如何使用 curl 命令行程序从 gmail 帐户发送电子邮件？

我尝试了以下方法：

```
curl -n --ssl-reqd --mail-from "<sender@gmail.com>" --mail-rcpt "<receiver@server.tld>" --url smtps://smtp.gmail.com:465 -T file.txt 
```

但是，由于 file.txt 是电子邮件的内容，当我运行此命令时，我收到以下错误：

```
curl: (67) Access denied: 530 
```

是否可以从个人服务器托管的帐户发送电子邮件，仍然使用 curl？这是否使身份验证过程更容易？

* * *

## 回答 #1

> 赞同：123
> 
> 时间：2013-04-17T20:35:23.200

```
curl --ssl-reqd \
  --url 'smtps://smtp.gmail.com:465' \
  --user 'username@gmail.com:password' \
  --mail-from 'username@gmail.com' \
  --mail-rcpt 'john@example.com' \
  --upload-file mail.txt 
```

*mail.txt*文件内容：

```
From: "User Name" <username@gmail.com>
To: "John Smith" <john@example.com>
Subject: This is a test

Hi John,
I’m sending this mail with curl thru my gmail account.
Bye! 
```

附加信息：

1.  我正在使用`curl`支持 SSL 的 7.21.6 版本。

2.  您不需要使用该`--insecure`开关，它会阻止`curl`执行 SSL 连接验证。有关详细信息，请参阅[此在线资源](//curl.haxx.se/docs/sslcerts.html)。

3.  通过命令行参数传递帐户凭据被认为是一种不好的安全做法。使用`--netrc-file`. 请参阅[文档](//ec.haxx.se/usingcurl/usingcurl-netrc)。

4.  您必须为不太安全的应用程序或较新的[应用程序密码](//myaccount.google.com/apppasswords)[打开访问权限](//www.google.com/settings/security/lesssecureapps)。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2020-01-02T09:02:14.787

如果想以抄送或密送的形式发送邮件：

```
curl --url 'smtps://smtp.gmail.com:465' --ssl-reqd \
  --mail-from 'username@gmail.com' --mail-rcpt 'john@example.com' \
  --mail-rcpt 'mary@gmail.com' --mail-rcpt 'eli@example.com' \
  --upload-file mail.txt --user 'username@gmail.com:password' --insecure 
```

```
From: "User Name" <username@gmail.com>
To: "John Smith" <john@example.com>
Cc: "Mary Smith" <mary@example.com>
Subject: This is a test

a BCC recipient eli is not specified in the data, just in the RCPT list. 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-10-31T12:05:33.917

像这样创建一个简单的`email.conf`文件

```
Username:   hi@example.com
Password:   OKbNGRcjiV
POP/IMAP Server:    mail.example.com 
```

并且简单地运行`sendmail.sh`，就像这样在使其可执行后( `sudo chmod +x sendmail.sh`)

```
./sendmail.sh 
```

代码

```
#!/bin/bash

ARGS=$(xargs echo  $(perl -anle 's/^[^:]+//g && s/:\s+//g && print' email.conf) < /dev/null)
set -- $ARGS "$@";  

declare -A email;
email['user']=$1
email['pass']=$2
email['smtp']=$3
email['port']='587';
email['rcpt']='your-email-address@gmail.com';

email_content='From: "The title" <'"${email['user']}"'>
To: "Gmail" <'"${email['rcpt']}"'>
Subject: from '"${email['user']}"' to Gmail
Date: '"$(date)"'

Hi Gmail,
'"${email['user']}"' is sending email to you and it should work.
Regards
';

echo "$email_content" | curl -s \
    --url "smtp://${email['smtp']}:${email['port']}" \
    --user "${email['user']}:${email['pass']}" \
    --mail-from "${email['user']}" \
    --mail-rcpt "${email['rcpt']}" \
    --upload-file - # email.txt

if [[ $? == 0 ]]; then
    echo;
    echo 'okay';
else
    echo "curl error code $?";
    man curl | grep "^ \+$? \+"
fi 
```

[更多的](https://ec.haxx.se/usingcurl/usingcurl-smtp)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-04T10:03:18.230

请注意，mail.txt 的形式似乎很重要 / CRLF 用于 win，LF 用于 Linux，特殊字符等。

最后在挣扎了 2 个小时之后，它对我来说适用于 GMX（他们告诉他们的 SMPT 端口是 587 - 并且进一步以小写字母提示：“465 也可以与 SSL 一起使用”）：

在 Linux 下（安装了 curl.tcz 的 Raspberry 3B+ 上的 TinyCore Linux）：

```
curl --ssl-reqd --url 'smtps://mail.gmx.net:465' --user 'mymail@gmx.at:mymailPassword' --mail-from 'mymail@gmx.at' --mail-rcpt 'mymail@gmx.at' --upload-file mail.txt 
```

在窗户下：

```
curl --ssl-reqd --url "smtps://mail.gmx.net:465" --user "mymail@gmx.at:mymailPassword" --mail-from "mymail@gmx.at" --mail-rcpt "mymail@gmx.at" --upload-file mail_win.txt 
```

使用mail.txt：

```
From: "User Name" <mymail@gmx.at>
To: "John Smith" <mymail@gmx.at>
Subject: This is a test

Hi John,
Im sending this mail with curl thru my gmx account.
Bye! 
```

# c++ - How to specialise class template contingent on definition of T::key_type?

> ID：14722576
> 
> 赞同：1
> 
> 时间：2013-02-06T06:01:14.993
> 
> 标签：c++, templates, c++11

I have a class template `ID`, which currently uses an object's address as its identifier.

I would like to have a specialisation of this class template so that if `T` has a `key_type` defined, I will call `get_key()` on the object and use that, instead, as the identifier. Of course, I will also store that value, so there will be a high degree of overlap with the original implementation.

*What's the best way to achieve this, while maximizing code reuse?*

In the code below, I would like `ID<Bar>` to automagically use `std::string` in its guts rather than `Bar const*`.

I tried looking into SFINAE, as a way of switching on whether or not `T::key_type` is defined, but I could only find examples for function templates.

**CODE**

```
#include <string>
#include <set>
#include <cassert>

template<typename T>
class ID
{
private:
    T const* m_id;
public:
    ID( T const& t ) :
        m_id( &t )
    { }
    ID( ID const& rhs ) :
        m_id( rhs.m_id )
    { }
    ~ID() { }
    ID& operator=( ID const& rhs )
    {
        if ( &rhs!=this )
            m_id = rhs.m_id;
        return *this;
    }
public:
    bool operator==( ID const& rhs ) const { return m_id==rhs.m_id; }
    bool operator!=( ID const& rhs ) const { return !(*this==rhs);  }
    bool operator<( ID const& rhs ) const  { return m_id<rhs.m_id;  }
    bool operator<=( ID const& rhs ) const { return m_id<=rhs.m_id; }
    bool operator>( ID const& rhs ) const  { return m_id>rhs.m_id;  }
    bool operator>=( ID const& rhs ) const { return m_id>=rhs.m_id; }
};

// -----------------------------------------------------------------------------

struct Foo { };
struct Bar { 
    using key_type = std::string;

    std::string  m_key;
    Bar( std::string const& key ) : m_key( key ) { }
};

int main( int argc, char* argv[] )
{
    Foo f,g;

    ID<Foo> id_f( f ), id_g( g );
    assert( id_f!=id_g );

    std::set<ID<Foo>>  s;
    s.insert( f );
    s.insert( g );

    assert( s.size()==2u );

    Bar h( "abc" ), i( "abc" );
    std::set<ID<Bar>>  s2;
    s2.insert( h );
    s2.insert( i );
    assert( s2.size()==1u );
} 
```

I was able to code up a solution based on [Seth Carnegie's answer below](https://stackoverflow.com/a/14722770/975129).

**SOLUTION**

```
#include <string>
#include <set>
#include <cassert>

template<typename T>
struct void_ {
    using type = void;
};

// -----------------------------------------------------------------------------

template<typename T, typename = void>
struct ptr_or_key_type {
    using type = T const*;               // our default key_type : ptr
    static type get_key( T const& t ) { return &t; }
};

template<typename T>
struct ptr_or_key_type<T, typename void_<typename T::key_type>::type> {
    using type = typename T::key_type;   // the specialised key_type
    static type get_key( T const& t ) { return t.get_key(); }
};

// -----------------------------------------------------------------------------

template<typename T>
class ID
{
private:
  typename ptr_or_key_type<T>::type m_id;

public:
    ID( T const& t ) :
        m_id( ptr_or_key_type<T>::get_key( t ))
    { }
    ID( ID const& rhs ) :
        m_id( rhs.m_id )
    { }
    ~ID() { }
    ID& operator=( ID const& rhs )
    {
        if ( &rhs!=this )
            m_id = rhs.m_id;
        return *this;
    }
public:
    bool operator==( ID const& rhs ) const { return m_id==rhs.m_id; }
    bool operator!=( ID const& rhs ) const { return !(*this==rhs);  }
    bool operator<( ID const& rhs ) const  { return m_id<rhs.m_id;  }
    bool operator<=( ID const& rhs ) const { return m_id<=rhs.m_id; }
    bool operator>( ID const& rhs ) const  { return m_id>rhs.m_id;  }
    bool operator>=( ID const& rhs ) const { return m_id>=rhs.m_id; }
};

// -----------------------------------------------------------------------------

struct Foo { };
struct Bar { 
    using key_type = std::string;

    std::string  m_key;
    Bar( std::string const& key ) : m_key( key ) { }
    std::string const& get_key() const { return m_key; }
};

int main( int argc, char* argv[] )
{
    Foo f,g;

    ID<Foo> id_f( f ), id_g( g );
    assert( id_f!=id_g );

    std::set<ID<Foo>>  s;
    s.insert( f );
    s.insert( g );

    assert( s.size()==2u );

    Bar h( "abc" ), i( "abc" );
    std::set<ID<Bar>>  s2;
    s2.insert( h );
    s2.insert( i );
    assert( s2.size()==1u );
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:15:54.777

You can use SFINAE a small combo of traits classes:

```
template<typename T>
struct void_ {
    using type = void;
};

template<typename T, typename = void>
struct key_type_or_id {
     using type = T const*; // Our default key_type
};

template<typename T>
struct key_type_or_id<T, typename void_<typename T::key_type>::type> {
    using type = typename T::key_type; // The specialised key_type
};

...

template<typename T>
class ID
{
private:
    typename key_type_or_id<T>::type m_id;

... 
```

# binding - 如何让 ng-model 不立即更新？

> ID：14722577
> 
> 赞同：22
> 
> 时间：2013-02-06T06:01:20.457
> 
> 标签：binding, angularjs

代码：

```
<input type="text" ng-modal="name" />
{{name}} 
```

当我在 中输入内容时`input`，以下内容`{{name}}`将立即更改。是否能够配置它只`name`在我输入所有字符并离开输入后更新？

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2014-04-13T16:55:22.680

*这是关于 AngularJS 的最新添加，作为未来的答案。*

Angular 较新的版本（现在是 1.3 beta），AngularJS 原生支持这个选项，使用`ngModelOptions`, 像

```
ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }" 
```

[NgModelOptions 文档](http://docs.angularjs.org/api/ng/directive/ngModelOptions)

例子：

```
<input type="text" name="username"
       ng-model="user.name"
       ng-model-options="{updateOn: 'default blur', debounce: {default: 500, blur: 0} }" /> 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-02-06T06:29:36.080

**更新**

`ng-model-options`正如许多人提到的那样，Angular 现在使用该指令内置了对此的支持。[在这里](http://docs.angularjs.org/api/ng/directive/ngModelOptions)查看更多。

```
<input type="text" ng-model="name" ng-model-options="{updateOn: 'blur'}" /> 
```

**下面的旧答案：**

ng-model 没有内置选项来更改该行为，但您可以编写自定义指令来执行此操作。@Gloopy[为另一个问题](https://stackoverflow.com/questions/11868393/angularjs-inputtext-ngchange-fires-while-the-value-is-changing)写了一个类似的指令。你可以看看小提琴[here](http://jsfiddle.net/w6jwL/1/)。

该指令从`input`和`keydown`事件中注销，这些事件在每次击键后触发更新。

```
<input type="text" ng-model="name" ng-model-onblur /> 
```

更新：

更新小提琴以使用最新的稳定 AngularJS（写作时为 1.2.16），而不是直接引用 github 上的主版本。

还添加了明确的优先级，以便在之后运行指令`ng-model`以确保正确更改事件侦听器。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2014-07-07T11:47:31.450

更好的选择是使用 ng-model-options：

```
<input type="text" ng-model="name" ng-model-options="{updateOn: 'blur'}" /> 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-05-10T17:49:54.140

工作指令代码（ng-1.2RC3）：使用： `ng-model-onblur`

```
.directive('ngModelOnblur', function () {
  return {
      restrict: 'A',
      require: 'ngModel',
      priority: 1,
      link: function (scope, element, attrs, ngModelCtrl) {
          if (attrs.type === 'radio' || attrs.type === 'checkbox') { return; }
          var update = function () {
              scope.$apply(function () {
                  ngModelCtrl.$setViewValue(element.val().trim());
                  ngModelCtrl.$render();
              });
          };
          element.off('input').off('keydown').off('change').on('focus', function () {
              scope.$apply(function () {
                  ngModelCtrl.$setPristine();
              });
          }).on('blur', update).on('keydown', function (e) {
              if (e.keyCode === 13) {
                  update();
              }
          });
      }
  };
}) 
```

# java - 三层架构和异常

> ID：14722579
> 
> 赞同：11
> 
> 时间：2013-02-06T06:01:28.530
> 
> 标签：java, exception, multi-tier, three-tier

对应用程序的每一层（即 、 等）都有一个例外被认为是一种很好`PresentationException`的`ServiceException`做法`PersistenceException`。但是如果我的服务层直接调用 DAO 方法（持久层的方法）而不需要额外的操作怎么办。

像这样：

```
public class MyService {
   private IPersonDAO dao = new PersonDAO();

   public void deletePerson(int id) { 
      dao.deletePerson(id);
   }

} 
```

我应该用一个块包装这个 DAO 方法调用`try-catch`并将可能的异常重新抛出为`ServiceException`？每个 DAO 方法都应该只抛出`PersistenceException`吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T06:32:24.837

好吧，您的 Dao 异常与服务层无关，而服务层与 dao 层异常无关。正确的方法是捕获 dao 异常并将新的自定义异常重新抛出到服务层。

如果您需要调试异常并且想要确切的原因，可以使用[getCause()](http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getCause%28%29)和[getSuppressed()](http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getSuppressed%28%29)方法。

> 我应该用 try-catch 块包装这个 DAO 方法调用并将可能的异常重新抛出为 ServiceException 吗？每个 DAO 方法是否应该只抛出 PersistenceException？

---> 是的，把它包起来。您可以从 dao 层抛出其他异常。请参见下面的示例：

```
public class MyDao {       

   public Entity getMyEntity(int id) throws ObjectNotFoundException, PersistenceException {
      try {
         // code to get Entity
         // if entity not found then 
         throw new ObjectNotFoundException("Entity with id : " + id + "Not found.");
      } catch(Exception e) { // you can catch the generic exception like HibernateException for hibernate
         throw new PersistenceException("error message", e);
      }
   }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T06:08:56.767

是的。正如您所提到的，建议对图层进行例外处理；因为他们可以从服务的角度而不是数据库来判断问题所在。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T07:43:49.987

是的，您应该在任何情况下包装这些异常，否则您的服务层客户端将被迫也处理数据库层。这会使事情变得过于复杂。请注意，与在服务层之上的层中处理数据库异常所需的工作相比，在服务层中需要完成的工作是毫无意义的。

# wordpress - 将css和jquery添加到wordpress中的自定义页面

> ID：14722583
> 
> 赞同：-1
> 
> 时间：2013-02-06T06:01:42.787
> 
> 标签：wordpress

我正在使用 wordpress.org。我创建了一个带有索引文件的自定义页面，并且索引文件中包含对 css 和 javascript 文件的引用。但是如何在 wordpress 中添加这些多个 css 和 javascript 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:35:24.083

首先，看一下[wp_enqueue_script](https://codex.wordpress.org/Function_Reference/wp_enqueue_script)函数。

以下代码插入到您的**主题的 functions.php**中，将从您的主题的 js 目录加载您的 custom_script.js（此脚本取决于 jquery）：

```
function my_scripts_method() {
    wp_enqueue_script(
        'custom-script',
        get_template_directory_uri() . '/js/custom_script.js',
        array('jquery')
    );
}
add_action('wp_enqueue_scripts', 'my_scripts_method'); 
```

要加载样式表，请使用相同的钩子，但使用 wp_enqueue_style 函数：

```
function my_styles_method() {
    wp_enqueue_style(
        'custom-script',
        get_template_directory_uri() . '/css/custom_style.css'
    );
}
add_action('wp_enqueue_scripts', 'my_styles_method'); 
```

或者您可以将这两个调用合并为一个：

```
function my_scripts_and_styles_method() {
    wp_enqueue_script(
        'custom-script',
        get_template_directory_uri() . '/js/custom_script.js',
        array('jquery')
    );
    wp_enqueue_style(
        'custom-script',
        get_template_directory_uri() . '/css/custom_style.css'
    );
}
add_action('wp_enqueue_scripts', 'my_scripts_and_styles_method'); 
```

[wp_register_script](https://codex.wordpress.org/Function_Reference/wp_register_script)在入队之前也不会错，但不是强制性的

# php - 在一年中给定周数的“Ymd”中获取一周的第一天

> ID：14722585
> 
> 赞同：4
> 
> 时间：2013-02-06T06:01:55.713
> 
> 标签：php, date, datetime, format

我试图根据输入周数和年份来获取给定一周的第一天。我目前在本周和今年使用它，并且像一个魅力一样工作。

```
$week = date('W');
$year = date('Y');
$date1 = date('Y-m-d', strtotime($year."W".$week.'1')); 
```

但是，当我尝试输入自己的星期和年份时，它不起作用

```
$week = 7;
$year = 2013;
$date1 = date('Y-m-d', strtotime($year."W".$week.'1')); 
```

我应该为 strtotime 使用什么类型的字符串？为什么提供我自己的日期不起作用？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T06:06:44.133

因为应该填充周数（`1`最后的额外内容并没有真正做任何事情）：

```
$date1 = date(
    'Y-m-d', 
    strtotime($year . 'W' . str_pad($week, 2, '0', STR_PAD_LEFT))
); 
```

# curl - PUT 方法不发布数据 ShopifyAPI

> ID：14722587
> 
> 赞同：0
> 
> 时间：2013-02-06T06:02:01.687
> 
> 标签：curl, shopify, put

我正在使用使用 CURL 的 ShopifyAPI，我已经分别使用 POST 和 DELETE 方法集成了用于创建产品和删除产品的 API，但是当我使用 PUT 方法修改产品时，如下所述

```
curl -i  -H "Content-Type: application/json" -H "Accept: application/json" -X PUT -d '{"product":{"title":"sadasasdasdasasd","vendor":"Test Drobe","body_html":"testtest<\/p>","product_type":"Health & Fitness","variants":{"price":"250","inventory_management":"shopify","inventory_policy":"continue","requires_shipping":true,"taxable":true,"fulfillment_service":"manual","title":"1"},"id":"120393158"}}' https://xxxxxxxxxxxxxxxxxxx:xxxxxxxxxxx@myshop.myshopify.com/admin/products/120393158.json 
```

我的输出低于

```
HTTP/1.1 500 Internal Server Error
Server: nginx
Date: Wed, 06 Feb 2013 05:52:34 GMT
Content-Type: application/json; charset=utf-8
Transfer-Encoding: chunked
Connection: keep-alive
Status: 500 Internal Server Error
X-Shopify-Shop-Api-Call-Limit: 3/500
HTTP_X_SHOPIFY_SHOP_API_CALL_LIMIT: 3/500
Cache-Control: no-cache
X-Request-Id: e3942aa30d0979a09d6e155ea5b837cd
X-UA-Compatible: IE=Edge,chrome=1
Set-Cookie: _secure_session_id=3bf98f1b3303d585a2af7aac5c0a1107; path=/; secure; HttpOnly
X-Runtime: 0.049121 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T14:51:36.177

API 处理变体的方式似乎存在错误。在检查您请求中的变体时，您似乎传递了不正确的数据。

它应该是：

`"variants": [{variant_information}]`

即使如此，在这种情况下也不应该提高 500，而应该是 422。

让我知道这是否可以帮助您解决问题

# windows-phone-8 - 对于 Windows phone8 设置框架中的图像

> ID：14722591
> 
> 赞同：0
> 
> 时间：2013-02-06T06:02:17.590
> 
> 标签：windows-phone-8

我是 windows phone 8 开发人员的新手，我想动态设置图像的位置，但我尝试过 img.RenderTransformOrigin = new Point(20.0, 30.0); 无法获得任何帮助；但不工作请告诉我如何获得此功能。在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T08:27:26.357

您应该将图像控件放在 Canvas 元素中，如下所示：

```
<Canvas>
  <Image Name="ImgCtrl" Width="400" Height="400" Stretch="Uniform"
         Canvas.Left="100" Canvas.Top="100"
         Source="image.jpg"/>
</Canvas> 
```

然后您可以在代码隐藏中以编程方式更改`Canvas.Left`和属性，如下所示：`Canvas.Top`

```
ImgCtrl.SetValue(Canvas.LeftProperty, 50.0);
ImgCtrl.SetValue(Canvas.TopProperty, 50.0); 
```

# sql - 由于 DBCC CHECKIDENT (mytable, RESEED, 1) 在 2012 年不起作用，哪个查询用于在 sql server 2012 中重新设置身份主键？

> ID：14722592
> 
> 赞同：1
> 
> 时间：2013-02-06T06:02:22.323
> 
> 标签：sql, sql-server, tsql, sql-server-2012

以下查询在 sql server 2008 R2 中成功执行，用于重新设置身份密钥

```
DBCC CHECKIDENT (mytable, RESEED, 1) 
```

但在 sql server 2012 中给出错误为：

> 此版本的 SQL Server 不支持消息 40518、级别 16、状态 1、第 1 行 DBCC 命令“CHECKIDENT”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:18:16.130

你想重新播种并清空桌子吗？就是这样，一个简单的表截断工作。用清空表和重新播种身份字段来截断表。

# hadoop - 猪中的xml解析

> ID：14722593
> 
> 赞同：0
> 
> 时间：2013-02-06T06:02:24.817
> 
> 标签：hadoop, apache-pig

我有一个要求，我必须解析 xml 以获取所需的字段，对所需的字段执行操作并使用数据生成 csv。

我查看了 pig 中可用的 XmlLoader，但它似乎也返回了 xml 标签。我感兴趣的是数据。有什么办法可以做到这一点？我还需要使用数据生成 CSV。

任何工作样本都会有很大帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-27T15:54:28.893

您可以使用 REGEX_EXTRACT() 从标签中获取信息，也可以使用 SUBSTRING() 和 REGEX_EXTRACT_ALL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-06T04:37:55.040

piggybank jar 在 pig 中提供 xml 加载器

在 pig 的加载语句中，您需要使用 XMLLoader 加载。您需要在哪里正确提及您的父标签。

```
A = load '/path of the file' using org.apache.pig.piggybank.storage.XMLLoader('parent_tag') as (x:chararray);
B = foreach A generate REPLACE(x,'[\\n]','') as x; 
```

在此之后，您需要使用 REGEX_EXTRACT_ALL 来提取标签之间的数据

```
C = foreach B generate REGEX_EXTRACT_ALL(x,'.*(?:<child_tag1>)([^<]*).*(?:<child_tag2>)([^<]*).*'); 
```

有关更多详细信息，您可以参考以下链接

[https://acadgild.com/blog/converting-xml-into-csv-using-pig/](https://acadgild.com/blog/converting-xml-into-csv-using-pig/)

# php - mongo DB - php 驱动版本

> ID：14722594
> 
> 赞同：0
> 
> 时间：2013-02-06T06:02:29.370
> 
> 标签：php, mongodb, driver, database

我正在使用 XAMPP，PHP 版本 5.3.5。

我安装了mongodb。

我试图从我的 php 代码连接 mongo db，它给了我错误

```
$connection = new MongoClient("mongodb://localhost");
$db = $connection->dbname;

echo $db; 
```

`Fatal error: Class 'MongoClient' not found in C:\xampp\htdocs\test\test.php on line 9`

我猜是因为，我安装了旧版本的 php-mongo 驱动程序。

PHP 版本 5.3.5 的 php-mongo 驱动程序的正确版本是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T07:44:58.167

PHP 的 MongoDB 驱动程序的当前版本是 1.3.4。

该类`Mongo`已在 1.3 版中弃用并替换为`MongoClient`. 显然，您在安装中使用的是比 1.3 更旧的版本。

[http://pecl.php.net/package/mongo](http://pecl.php.net/package/mongo)

# php - 保存在管理员中的 Magento 属性值消失

> ID：14722597
> 
> 赞同：1
> 
> 时间：2013-02-06T06:02:44.197
> 
> 标签：php, mysql, magento

我已经设置了目录来对这些值进行排序，这是我昨晚通过管理员保存的。一整天的大部分时间里，他们都在那里。现在，他们像幽灵一样消失了。

我怀疑这个问题可能与通过管理员保存的值有关，而不是与导入的值有关。

谁能指出这个问题的根源和代码中的解决方案？

从我上次看到前端的值（几个小时前）到现在，我做了几件事：

1.) 添加了 2 个新属性和一些测试值（与问题属性无关），重新索引。

2.) 尝试为 60,000 个产品导入不相关的值。进口挂了，所以

3.) 一次导入 20,000 个产品的值，没有错误。

4.) 重新索引。

现在手动保存的所有值都消失了。再次，这怎么可能发生？如果它们被保存到数据库中，那么不应该从代码中对数据库进行删除调用来执行此操作吗？当我没有在代码中或通过管理员执行任何此类命令时，如何/为什么会进行这样的调用？我该如何解决这个问题并在将来避免？

致阿克塞尔（澄清）：

感谢您的回复，@Axel。

1.) 我创建了一个名为“ **sort_order ”的****文本属性，并通过****admin**输入了一些整数值。

 ****2.) 然后我用 mysqldump做了一个**完整的数据库备份。**

3.) 然后，我创建了两个新属性，“ **random_order** ”（**价格**类型）和“ **random_order_1** ”（**文本**类型）。目的是尝试使用两种解决方案来洗牌目录页面中的产品。

4.）通过 phpMyAdmin 我做了一个简单的查询，以随机顺序给我所有产品：

```
SELECT  `sku` 
FROM  `catalog_product_entity` 
WHERE 1 
ORDER BY RAND( ) 
```

并将结果导出到 csv。我只是使用 excel 将项目编号为 1-60,000，创建一个导入 csv 文件，其中包含以下列：**sku**、**random_order**（价格类型）、**random_order_1**（文本类型），两个属性具有相同的整数值。

5.）我在管理员中使用标准导入方法（**替换现有的复杂数据**），一次 20k 产品。导入后，先前设置且看似完全不相关的“ **random_order** ”的值已被删除。

在重新索引之前，每个项目的**sort_order**现在重置为默认值 (=1)，但它仍然以正确的顺序出现在前端（因此值仍然存在于产品平面表中），而**random_order**和**random_order_1**属性具有它们的导入值。

**重新索引后， sort_order**的所有痕迹都将被清除。如果我实际上是在导入该属性，那将是有道理的，但我不是。似乎没有其他属性受到影响。

我从 mysqldump 恢复了 db，再次尝试了整个过程。结果相同。****

# php - 如何从 Facebook Graph API 回显一个值

> ID：14722600
> 
> 赞同：0
> 
> 时间：2013-02-06T06:02:54.940
> 
> 标签：php, arrays, json, facebook-graph-api

我正在尝试使用 Facebook Graph API 将员工 Facebook 个人资料中的详细信息导入我们的个人网站。

从以下 URI 获取 JSON 对象： [https ://graph.facebook.com/RDTATTOOANDPIERCING](https://graph.facebook.com/RDTATTOOANDPIERCING)

我认为我可以简单地转换为数组并回显所需的值。但是我遇到了错误。

这是代码：

```
<?php
$facebook = json_decode(file_get_contents("https://graph.facebook.com/RDTATTOOANDPIERCING"));
echo $facebook["about"];
?> 
```

如果您想查看正在呈现的源，请访问以下 URL： [http ://www.rdtattoopiercing.com/](http://www.rdtattoopiercing.com/)

提前谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:28:41.923

json_decode 不带第二个参数将返回一个对象，如果要返回一个数组添加第二个参数 TRUE

尝试这个：

```
$facebook = json_decode(file_get_contents("https://graph.facebook.com/RDTATTOOANDPIERCING"), TRUE);

echo $facebook["about"]; 
```

或者如果您不想将 TRUE 添加到第二个参数，请使用 object

`$facebook->about;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:33:11.700

问题是它返回了一个 stdClass 而不是一个数组，你可以通过 using 来判断，`var_dump($facebook)`将 stdClass 转换为数组 use `get_object_vars()`。
这是您的解决方案：

```
<?php
$facebook = get_object_vars(json_decode(file_get_contents("http://graph.facebook.com/RDTATTOOANDPIERCING")));
echo $facebook['about'];
?> 
```

这是`var_dump`转换为数组之前的内容：

```
object(stdClass)#1 (20) { ["about"]=> string(60) "Red Dragon Tattoo & Piercing is devoted to inking Cincinnati" ["checkins"]=> int(144) ["description"]=> string(509) "Red Dragon has been open since Feb. 2009, After Gabriel started constructing J began to Fill the chairs with his large following, after only a few months we brought on Chuck and Jocelyn to help with the overwhelming amount of people ready to get tattooed in the Colerain area and we've been inking up Cincinnati since then. We appreciate artfull expressions, and can help you make your own statement to this world through your body. If it's a body piercing, or a tattoo, what better way to express yourself." ["general_info"]=> string(59) "Artists: J, Chuck Hagedorn, Jocelyn Taylor, Gabriel Lowe " ["hours"]=> object(stdClass)#2 (12) { ["mon_1_open"]=> string(5) "13:00" ["mon_1_close"]=> string(5) "20:00" ["tue_1_open"]=> string(5) "13:00" ["tue_1_close"]=> string(5) "20:00" ["wed_1_open"]=> string(5) "13:00" ["wed_1_close"]=> string(5) "20:00" ["thu_1_open"]=> string(5) "13:00" ["thu_1_close"]=> string(5) "20:00" ["fri_1_open"]=> string(5) "13:00" ["fri_1_close"]=> string(5) "20:00" ["sat_1_open"]=> string(5) "13:00" ["sat_1_close"]=> string(5) "20:00" } ["is_published"]=> bool(true) ["location"]=> object(stdClass)#3 (7) { ["street"]=> string(17) "9242 Colerain Ave" ["city"]=> string(10) "Cincinnati" ["state"]=> string(2) "OH" ["country"]=> string(13) "United States" ["zip"]=> string(10) "45251-2406" ["latitude"]=> float(39.239511218398) ["longitude"]=> float(-84.592958873707) } ["parking"]=> object(stdClass)#4 (3) { ["street"]=> int(0) ["lot"]=> int(1) ["valet"]=> int(0) } ["phone"]=> string(17) "+1 (513) 385-6500" ["price_range"]=> string(10) "$$$$ (50+)" ["talking_about_count"]=> int(97) ["username"]=> string(19) "RDTATTOOANDPIERCING" ["website"]=> string(20) "rdtattoopiercing.com" ["were_here_count"]=> int(535) ["category"]=> string(14) "Local business" ["id"]=> string(15) "151284611579488" ["name"]=> string(28) "Red Dragon Tattoo & Piercing" ["link"]=> string(43) "http://www.facebook.com/RDTATTOOANDPIERCING" ["likes"]=> int(835) ["cover"]=> object(stdClass)#5 (3) { ["cover_id"]=> float(4.636681470078E+14) ["source"]=> string(94) "http://sphotos-c.ak.fbcdn.net/hphotos-ak-ash3/s720x720/547023_463668147007798_1259271309_n.jpg" ["offset_y"]=> int(0) } } 
```

正如您所看到的，它以 object(stdClass) 开头，而应该是一个数组，因此添加代码`get_object_vars()`将返回一个数组格式而不是 stdClass，您可以从这里看到`var_dump`：

```
array(20) { ["about"]=> string(60) "Red Dragon Tattoo & Piercing is devoted to inking Cincinnati" ["checkins"]=> int(144) ["description"]=> string(509) "Red Dragon has been open since Feb. 2009, After Gabriel started constructing J began to Fill the chairs with his large following, after only a few months we brought on Chuck and Jocelyn to help with the overwhelming amount of people ready to get tattooed in the Colerain area and we've been inking up Cincinnati since then. We appreciate artfull expressions, and can help you make your own statement to this world through your body. If it's a body piercing, or a tattoo, what better way to express yourself." ["general_info"]=> string(59) "Artists: J, Chuck Hagedorn, Jocelyn Taylor, Gabriel Lowe " ["hours"]=> object(stdClass)#2 (12) { ["mon_1_open"]=> string(5) "13:00" ["mon_1_close"]=> string(5) "20:00" ["tue_1_open"]=> string(5) "13:00" ["tue_1_close"]=> string(5) "20:00" ["wed_1_open"]=> string(5) "13:00" ["wed_1_close"]=> string(5) "20:00" ["thu_1_open"]=> string(5) "13:00" ["thu_1_close"]=> string(5) "20:00" ["fri_1_open"]=> string(5) "13:00" ["fri_1_close"]=> string(5) "20:00" ["sat_1_open"]=> string(5) "13:00" ["sat_1_close"]=> string(5) "20:00" } ["is_published"]=> bool(true) ["location"]=> object(stdClass)#3 (7) { ["street"]=> string(17) "9242 Colerain Ave" ["city"]=> string(10) "Cincinnati" ["state"]=> string(2) "OH" ["country"]=> string(13) "United States" ["zip"]=> string(10) "45251-2406" ["latitude"]=> float(39.239511218398) ["longitude"]=> float(-84.592958873707) } ["parking"]=> object(stdClass)#4 (3) { ["street"]=> int(0) ["lot"]=> int(1) ["valet"]=> int(0) } ["phone"]=> string(17) "+1 (513) 385-6500" ["price_range"]=> string(10) "$$$$ (50+)" ["talking_about_count"]=> int(97) ["username"]=> string(19) "RDTATTOOANDPIERCING" ["website"]=> string(20) "rdtattoopiercing.com" ["were_here_count"]=> int(535) ["category"]=> string(14) "Local business" ["id"]=> string(15) "151284611579488" ["name"]=> string(28) "Red Dragon Tattoo & Piercing" ["link"]=> string(43) "http://www.facebook.com/RDTATTOOANDPIERCING" ["likes"]=> int(835) ["cover"]=> object(stdClass)#5 (3) { ["cover_id"]=> float(4.636681470078E+14) ["source"]=> string(94) "http://sphotos-c.ak.fbcdn.net/hphotos-ak-ash3/s720x720/547023_463668147007798_1259271309_n.jpg" ["offset_y"]=> int(0) } } 
```

# ios - 在 iOS 应用程序终止之前暂停主执行

> ID：14722601
> 
> 赞同：0
> 
> 时间：2013-02-06T06:03:06.203
> 
> 标签：ios, terminate, home-button

`applicationDidEnterBackground`当我点击主页按钮时，如何让我的应用暂停几秒钟以调用内部消息？例如：

```
- (void)applicationDidEnterBackground:(UIApplication *)application
{
    [self.delegate aMessage];
    // Pause for a couple of seconds to give aMessage time to finish
    // Continue execution after 2 seconds
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:11:49.950

你不能，但你也不需要。您的应用程序`aMessage`在真正进入后台之前完成，此时您无法再执行任何代码。

# iphone - 如何使用 PhoneGap 访问保存在 iPhone 上的音频文件？

> ID：14722602
> 
> 赞同：0
> 
> 时间：2013-02-06T06:03:06.927
> 
> 标签：iphone, cordova

我正在尝试使用 PhoneGap 在 iPhone 上制作应用程序。我知道您可以使用 navigator.camera.PictureSourceType.PHOTOLIBRARY 访问存储在手机照片库中的照片。是否有类似的方法可以访问手机上的音频文件？我查看了 PhoneGap 的文档，但找不到任何东西。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:42:05.860

首先，iOS 为我们提供了对媒体文件的有限访问权限。通过 navigator.camera.PictureSourceType.PHOTOLIBRARY 您只能访问相机胶卷。您也无法使用此代码访问预存储的视频。所以我不认为您可以使用任何方式访问存储在 iPhone 中的音频文件。

# html - Bootstrap 下拉下拉菜单不起作用

> ID：14722605
> 
> 赞同：3
> 
> 时间：2013-02-06T06:03:15.100
> 
> 标签：html, css, ruby-on-rails, twitter-bootstrap

我尝试将所有内容都向左拉，无论我做什么，包含“编辑”和“销毁”的下拉菜单都会落在右侧，这意味着我会出现令人讨厌的滚动条。

**HAML**版本：

```
.btn-group
  %button{ :class => 'btn btn-mini dropdown-toggle', 'data-toggle' => 'dropdown' }
    %span.icon-cog
  %ul.dropdown-menu
    %li= link_to 'Edit', '#'
    %li= link_to 'Destroy', '#' 
```

**HTML**版本：

```
<div class='btn-group'>
  <button class='btn btn-mini dropdown-toggle' data-toggle='dropdown'>
    <span class='icon-cog'></span>
  </button>
  <ul class='dropdown-menu nav pull-left'>
    <li><a href="#">Edit</a></li>
    <li><a href="#">Destroy</a></li>
  </ul>
</div> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-11-27T23:15:21.850

As of v3.1.0 pull-left has been deprecated..

Instead use `dropdown-menu-right`

[See here](http://getbootstrap.com/components/#dropdowns-alignment)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-03-14T07:12:09.330

Use `pull-right` instead of `pull-left` and menu will be shown on the left.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-06T06:15:41.860

下拉菜单`pull-left`不工作`dropdown-menu`，但工作`dropdown-submenu`

```
<li class="dropdown-submenu pull-left">
  <a href="#" >Branch</a>
      <ul class="dropdown-menu">
          <li><a href="#">Create Branch</a></li>
          <li><a href="#">Edit Branch</a></li>
          <li><a href="#">Set Branch Status</a></li>
      </ul>
</li> 
```

[演示](http://jsfiddle.net/ms7US/4/)

# java - 从字符串变量中删除特殊字符

> ID：14722606
> 
> 赞同：-2
> 
> 时间：2013-02-06T06:03:19.700
> 
> 标签：java, string

我有一个具有以下值的java字符串变量...我想从中删除特殊字符..如何删除单引号...如何获取这个..

```
String value = "work'list'Man'ager"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:04:54.423

如果您查看字符串文档：

[http://docs.oracle.com/javase/6/docs/api/java/lang/String.html](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html)

您会注意到有多种方法以`replace`. 我建议酌情使用其中一种。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:05:25.160

您可以使用[`String.replaceAll()`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29)来完成此操作。

```
String newValue = value.replaceAll("[']", ""); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:05:46.753

用这个

```
value.replaceAll("'", ""); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T06:12:46.073

一个简单的例子：

```
public class Main{
  public static void main(String[] args){
     String s = "work'list'Man'ager" ;
     String[] arr = s.split("'");
     StringBuilder sb=new StringBuilder();
     for(String st: arr)
        sb.append(st);
     System.out.println(sb.toString());
  }
} 
```

及相关IDEONE程序：http: [//ideone.com/NarYIC](http://ideone.com/NarYIC)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T06:08:36.260

您可以使用 RegEx 删除任何特殊字符或您想要的特定字符。

# java - 读取 sql 文件并在 Java 中进行数据库插入时出现异常

> ID：14722607
> 
> 赞同：0
> 
> 时间：2013-02-06T06:03:24.567
> 
> 标签：java, mysql, sqlite

从一个 sql 文件，我正在尝试读取 sql 查询并使用以下 java 代码创建一个 mysqlite db：

```
import java.io.BufferedReader;
import java.io.FileReader;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.util.ArrayList;

public class ReadMySqlDump {

static String sep = System.getProperty("line.separator");

public  ReadMySqlDump(){
    try{
        String s = "";
        String buff="";
        ArrayList<String> creates = new ArrayList<String> ();
           ArrayList<String> inserts = new ArrayList<String> ();

        boolean createStart = false;
        String currentCreate = "";

        BufferedReader br = new BufferedReader(new FileReader("mydb.sql.sql"));
        while((buff=br.readLine()) != null){
            buff = buff.trim();
             if(buff.length() == 0)continue;
            if(buff.startsWith("/*"))continue;
             if(buff.startsWith("--"))continue;
            if(createStart && buff.startsWith(");")){
             //   System.out.println("before: " + currentCreate);
                currentCreate = currentCreate.trim();
                if(currentCreate.endsWith(","))currentCreate = currentCreate.substring(0, currentCreate.length()-1);

             //currentCreate = currentCreate.substring(0, currentCreate.length()-2);
               //  System.out.println("after: " + currentCreate);
                    currentCreate += " " + buff + sep;
                createStart = false;
                creates.add(currentCreate);
                currentCreate = "";
                continue;
            }
            if(createStart){
                currentCreate += " " + buff +sep;
                continue;
            }
            if(!createStart && buff.startsWith("CREATE")){
                createStart = true;
                currentCreate += buff + sep;
                continue;
            }

            if(buff.startsWith("INSERT")) {
                inserts.add(buff);
                continue;

            }

        }
        br.close();

        for(String ss: creates){
            System.out.println(ss);
        }

        System.out.println("");
          System.out.println("");

                for(String ss: inserts){
            System.out.println(ss);
        }

         Class.forName("org.sqlite.JDBC");
    Connection conn = DriverManager.getConnection("jdbc:sqlite:testNew5.db");
    Statement stat = conn.createStatement();
          for(String ss: creates){

              System.out.println("SQL command: " + ss);

            stat.executeUpdate(ss);
        }

      //  ResultSet rs = stat.executeQuery("select * from tbl_passion_attributes");
        //  while(rs.next()){

         // }

        for (String ss : inserts){

                      System.out.println("ss: " + ss);
            int n =  stat.executeUpdate(ss);

                      System.out.println("n: " + n);
        }
             conn.close();

    } catch(Exception ex){

        ex.printStackTrace();

    }

}

public static void main(String[] args) {

    new   ReadMySqlDump();
}

} 
```

create 语句完美运行，并创建了表；但是当插入语句开始时，第一个 INSERT 语句本身出现异常。以下是例外情况：

```
ss: INSERT INTO acos (created, modified, id, parent_id, model, foreign_key, alias, lft,  rght) VALUES
java.sql.SQLException: near "VALUES": syntax error
at org.sqlite.DB.throwex(DB.java:288)
at org.sqlite.NativeDB.prepare(Native Method)
at org.sqlite.DB.prepare(DB.java:114)
at org.sqlite.Stmt.executeUpdate(Stmt.java:102)
at ReadMySqlDump.<init>(ReadMySqlDump.java:94)
at ReadMySqlDump.main(ReadMySqlDump.java:113) 
```

以下是 mydb.sql.sql 的内容

```
begin;
-- phpMyAdmin SQL Dump
-- version 3.5.1
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Jan 30, 2013 at 11:55 AM
-- Server version: 5.5.24-log
-- PHP Version: 5.3.13

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: abc
--

-- --------------------------------------------------------

--
-- Table structure for table acos
--

CREATE TABLE IF NOT EXISTS acos (
created datetime NOT NULL,
modified datetime NOT NULL,
id integer NOT NULL ,
parent_id integer DEFAULT NULL,
model varchar(255) DEFAULT NULL,
foreign_key integer DEFAULT NULL,
alias varchar(255) DEFAULT NULL,
lft integer DEFAULT NULL,
rght integer DEFAULT NULL,
);

--
-- Dumping data for table acos
--

INSERT INTO acos (created, modified, id, parent_id, model, foreign_key, alias, lft,  rght) VALUES
('0000-00-00 00:00:00', '0000-00-00 00:00:00', 1, NULL, NULL, NULL, 'controllers', 1, 1124),
('0000-00-00 00:00:00', '0000-00-00 00:00:00', 2, 1, NULL, NULL, 'Pages', 2, 15);

-- --------------------------------------------------------

--
-- Table structure for table aros
--

CREATE TABLE IF NOT EXISTS aros (
created datetime NOT NULL,
modified datetime NOT NULL,
id integer NOT NULL ,
parent_id integer DEFAULT NULL,
model varchar(255) DEFAULT NULL,
foreign_key integer DEFAULT NULL,
alias varchar(255) DEFAULT NULL,
lft integer DEFAULT NULL,
rght integer DEFAULT NULL
);

--
-- Dumping data for table aros
--

INSERT INTO aros (created, modified, id, parent_id, model, foreign_key, alias, lft,  rght) VALUES
('0000-00-00 00:00:00', '0000-00-00 00:00:00', 1, NULL, 'Group', 1, NULL, 1, 12),
('0000-00-00 00:00:00', '0000-00-00 00:00:00', 2, NULL, 'Group', 2, NULL, 13, 18);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
commit; 
```

[我从这里](http://code.google.com/p/sqlitebot/downloads/detail?name=sqlitejdbc-v056.jar&can=2&q=)使用 jdbc jar

如果有人可以帮助解决这个问题，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:15:49.767

发送到服务器的 INSERT 语句似乎不完整，在 VALUES 之后被截断，而它应该包含文件中以下两行提供的数据。

您没有从文件中正确获取 INSERT 语句。对于 CREATE，一切正常：您正在管理一个`currentCreate`标志并连接语句的行。您没有为 INSERT 这样做：

```
if(buff.startsWith("INSERT")) {
    inserts.add(buff);
    continue;
} 
```

在这里，您只取第一行（`buff`是 的结果`br.readLine()`），其余的被忽略。

解决方案是对 INSERT 执行与 CREATE 相同的操作：当您看到 INSERT 时，连接后续行，直到您看到语句完成，即该行以 . 结尾`);`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:15:37.593

好的，通过在代码中包含以下内容自己解决了这个问题：

```
if(!insertStart && (buff.startsWith("INSERT") && buff.endsWith("VALUES"))) {
                insertStart = true;
                insertMain = buff;
                continue;

            }
            if(insertStart && (buff.endsWith("),"))){
                buff = buff.substring(0, buff.length()-1);
                insertQuery = insertMain+" " + buff+";";
                inserts.add(insertQuery);
                continue;
            }
            if(insertStart && (buff.endsWith(");"))){
                insertQuery = insertMain+" " + buff+";";
                inserts.add(insertQuery);
                insertStart = false;
                insertMain = "";
                continue;
            } 
```

PS：SQLite 不接受我在问题中显示的形式的 INSERT 语句。它只接受每个 INSERT 语句的一组值。所以我不得不将这个多行 INSERT 转换为单个 INSERT 语句

# kendo-ui - 剑道股票图表不显示在 IE 和 Firefox 上

> ID：14722609
> 
> 赞同：0
> 
> 时间：2013-02-06T06:03:39.203
> 
> 标签：kendo-ui

这是我遇到的问题，因为我正在使用硬代码数据进行测试以显示股票图表，它在 Google chrome 中运行良好，而在其他浏览器（如 IE 和 Firefox）出现时，图表并未显示系列图例，仅显示 x 中的值轴和y轴我可以看到没有系列。

# android - 无法获得坚持的价值

> ID：14722615
> 
> 赞同：0
> 
> 时间：2013-02-06T06:03:55.523
> 
> 标签：android, facebook, api

只想在有人单击视频缩略图后调用一次登录功能。这就是我所拥有的：

```
if (videoCode == "BQXTCCyJsKE" && $secCode == null){
var $secCode = "1";
$(document).ready(function () {
  login() 
});
} 
```

你会认为 $secCode 稍后会等于“1”，但不是。它再次变为 null 并再次调用登录函数，这给出了错误。我试过制作全局变量，但它不起作用。有人有想法么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:56:46.367

在答案框中书写以获得更好的格式，这是我所期望的：

```
var secCode = null;  // I am global

if (videoCode == "BQXTCCyJsKE" && secCode == null){
    secCode = "1";
    $(document).ready(login());
} 
```

# iphone - 谷歌地图 iFrame 移动视图被剪裁

> ID：14722616
> 
> 赞同：2
> 
> 时间：2013-02-06T06:03:56.983
> 
> 标签：iphone, google-maps, iframe, mobile-safari

我的客户有一个 wordpress 网站，其中一个页面通过以下方式嵌入地图`iframe`：

```
<iframe 
    src="http://maps.google.com/maps?q=16162+Beach+Boulevard+%23100,+Huntington+Beach&amp;hl=en&amp;pcsi=2051297199499108728,1&amp;geocode=FUCmAgIdBaP3-A&amp;sll=33.728064,-117.988603&amp;sspn=0.006295,0.006295&amp;ie=UTF8&amp;view=map&amp;cid=2051297199499108728&amp;hq=16162+Beach+Boulevard+%23100,+Huntington+Beach&amp;hnear=&amp;ll=33.730729,-117.987242&amp;spn=0.005354,0.006437&amp;z=16&amp;iwloc=A&amp;output=embed" 
    height="350" 
    width="690" 
    frameborder="0" 
    marginwidth="0" 
    marginheight="0" 
    scrolling="no">
</iframe> 
```

当我在我的 iPhone 中查看该页面时，它呈现出对移动设备友好并调整其大小`iframe`以适合视口，但状态和邮政编码被截断了。我尝试调整底部填充的高度`iframe`，但这似乎是谷歌的结果。知道如何解决这个问题吗？我为我添加了一个蓝色边框，`iframe`因此您可以看到它不是`iframe`剪切文本的：

![示例截图](../Images/ba7bee313b8c8fc43a8ebd7e840a60b7.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T21:49:50.737

我建议发布指向该站点的链接或发布一些 CSS。这将使 SO 社区更容易解决问题。

`iframe`我通过删除属性复制了您的问题`width="690"`。我怀疑 Wordpress CSS 或一些 JavaScript 会覆盖`iframe`宽度并将所有内容都塞进 iPhone 屏幕宽度中。

为了覆盖自动调整大小，我刚刚给出了`iframe`an`id`并在我的 CSS 中明确设置了宽度。

```
#WidthTest {
    width:690px;
} 
```

无论如何，我相信您可以通过挖掘 Wordpress CSS/JavaScript 找到类似的解决方案。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-18T06:42:22.080

我编辑了代码。这对我很有用！您可能希望根据需要更改宽度。

```
<iframe width="380" height="500" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.com/maps?q=16162+Beach+Boulevard+%23100,+Huntington+Beach&amp;hl=en&amp;pcsi=2051297199499108728,1&amp;geocode=FUCmAgIdBaP3-A&amp;sll=33.728064,-117.988603&amp;sspn=0.006295,0.006295&amp;ie=UTF8&amp;view=map&amp;cid=2051297199499108728&amp;hq=16162+Beach+Boulevard+%23100,+Huntington+Beach&amp;hnear=&amp;ll=33.730729,-117.987242&amp;spn=0.005354,0.006437&amp;z=16&amp;iwloc=A&amp;output=embed"></iframe> 
```

# qt - 重载图像

> ID：14722621
> 
> 赞同：0
> 
> 时间：2013-02-06T06:04:34.060
> 
> 标签：qt

我正在尝试在 Qt 中实现电缆组合，如下图所示![在此处输入图像描述](../Images/9d6f9a0a3dbdff7dd604a7ae8d65b54b.png)

我使用引用创建了一个 .qrc 文件并将所有图像添加到文件中，并使用了 QImage.load("\cond.png"); 之类的方法。这是有效的。现在我想实现这种图像组合，比如将图层相互加载，例如：![在此处输入图像描述](../Images/fba8280257826844f8c12e40d511faaa.png)

和![在此处输入图像描述](../Images/1067ff2dc8dac7b3c80476dd1ae6005b.png)

应该给我像![在此处输入图像描述](../Images/6f90a0c54898d662f6ca0be683c29062.png)

我想通过同时组合两个图像文件来实现我的代码。需要一些帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:34:40.370

您可以使用以下方法在小部件上绘制图像`QPainter`：

```
void Widget::paintEvent(QPaintEvent *event)
{
    QPainter painter(this);
    painter.drawImage(0, 0, QImage(":/1.png"));
    painter.drawImage(0, 0, QImage(":/2.png"));
} 
```

但是你应该有透明的图像来获得你想要的东西（你的例子中的所有图像都有白色背景）。

# json - 如何使用 JSON 解析 RSS 数据

> ID：14722623
> 
> 赞同：1
> 
> 时间：2013-02-06T06:04:44.123
> 
> 标签：json, rss

作为一个菜鸟，我正在尝试解析 weather.com RSS 提要以显示在我的网站上。下面的代码成功检索数据并将其显示为警报。我的问题是如何更进一步并解析生成的提要，而不仅仅是显示它？目标是获取部分响应并将其嵌入到页面上的 HTML 中。例如，如果我想输出一个包含当前温度行的表格，那么语法是什么？

```
<script>
function parseRSS(url, callback) {
  $.ajax({
    url: document.location.protocol + '//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=' + encodeURIComponent(url),
    dataType: 'json',
    success: function(data) {
      callback(data.responseData.feed);
    }
  });
}

parseRSS('http://rss.weather.com/weather/rss/local/USAK0012?cm_ven=LWO&cm_cat=rss&par=LWO_rss', 
function(json)
{
  alert("Result: " + JSON.stringify(json));
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T22:39:54.677

如果它对任何人有帮助，这就是我最终的做法。我选择了来自 accuweather.com 的提要，而不是 weather.com，只是因为我碰巧先让它工作了。

1）获取提要“标题”字段的值，其中包含我需要的当前天气值。

```
var weatherFeed = json;
var currentConditions = weatherFeed.entries[0].title; 
```

2) 提取特定元素，例如 currentTemperature：

```
var firstColonIndex = currentConditions.indexOf(":");
var secondColonIndex = currentConditions.indexOf(":", firstColonIndex + 1);
var currentTemperature = currentConditions.substring(secondColonIndex + 1); 
```

3) 使用 jQuery 构建 HTML 并嵌入提取的天气值，然后将整个内容放在我页面上的 Div 元素中：

```
<div class="tile-content" id="MyCityWeather">
  <script type="text/javascript">
    var weatherElement = "#MyCityWeather";
    var temperatureElement = $("<h2/>",
    {
      style: "margin-left: 25px!important; font-size: 46px!important;"
    });
    temperatureElement.append(currentTemperature);
    temperatureElement.appendTo(weatherElement);
  </script>
</div> 
```

# .net - 百分比的 NumericUpDown 控件？

> ID：14722634
> 
> 赞同：4
> 
> 时间：2013-02-06T06:05:37.073
> 
> 标签：.net, vb.net, winforms, controls, numericupdown

如何设置 NumericUpDown 控件以将值显示为百分比？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T06:05:37.073

您必须派生自己的自定义控件并覆盖该`UpdateEditText()`方法。在此过程中，让我们覆盖默认值`Minimum`、、`Maximum`和`Increment`属性值，使其对百分比更加友好。

我们还需要重写基本`ParseEditText()`方法以将用户生成的输入解释为百分比（除以 100），因为用户希望输入`80`来表示`80%`（并且 Decimal 解析器需要忽略百分比符号）。

```
Public Class PercentUpDown
    Inherits NumericUpDown

    Private Shared ReadOnly DefaultValue As New [Decimal](0.0)      ' 0%
    Private Shared ReadOnly DefaultMinimum As New [Decimal](0.0)    ' 0%
    Private Shared ReadOnly DefaultMaximum As New [Decimal](1.0)    ' 100%
    Private Shared ReadOnly DefaultIncrement As New [Decimal](0.01) ' 1%

    Public Sub New()
        Value = DefaultValue
        Minimum = DefaultMinimum
        Maximum = DefaultMaximum
        Increment = DefaultIncrement
    End Sub

    Protected Overrides Sub UpdateEditText()
        If UserEdit Then
            ParseEditText()
        End If

        Text = Value.ToString(String.Format("p{0}", DecimalPlaces))
    End Sub

    Protected Shadows Sub ParseEditText()
        Debug.Assert(UserEdit = True, "ParseEditText() - UserEdit == false")

        Try
            If Not String.IsNullOrWhiteSpace(Text) AndAlso _
               Not (Text.Length = 1 AndAlso Text.Equals("-")) Then

                Value = Constrain(Decimal.Parse(Text.Replace("%", String.Empty), NumberStyles.Any, CultureInfo.CurrentCulture) / 100)

            End If
        Catch ex As Exception
            ' Leave value as it is
        Finally
            UserEdit = False
        End Try
    End Sub

    Private Function Constrain(origValue As [Decimal]) As [Decimal]
        Debug.Assert(Minimum <= Maximum, "minimum > maximum")

        If origValue < Minimum Then Return Minimum
        If origValue > Maximum Then Return Maximum

        Return origValue
    End Function

End Class 
```

我们可以通过添加一个`TextFormat`属性来稍微扩展类的范围，我们可以在其中设置我们希望在设计时使用的[数字显示格式](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx)，以便我们可以支持将值显示为货币，例如。

不过，上面的代码很好，很紧凑，专门针对百分比，利用了现有的`DecimalPlaces`属性。该`Value`属性存储为百分比的数学表示（例如，0.5 表示 50%），因此插入公式很简单，无需担心除以 100。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-12-02T18:07:01.547

对这个问题的快速简单的回答：使用[`DecimalUpDown`](http://wpftoolkit.codeplex.com/wikipage?title=DecimalUpDown)扩展 WPF 工具包，而不是[`NumericUpDown`](http://wpftoolkit.codeplex.com/wikipage?title=NumericUpDown)（应该注意，NumericUpDown 也被列为过时）。然后，您需要做的就是`Maximum="1" Minimum="0.01" Increment="0.01" FormatString="P0"`在 XAML 中设置。我假设这个问题是关于扩展 WPF 工具包的，因为上面的答案是针对它的。

例子：

```
<xctk:DecimalUpDown Maximum="1" Minimum="0.01" Value="0.01" Increment="0.01" FormatString="P0" /> 
```

显示：

[![DecimalUpDown 示例](../Images/685fa4e54e92ed9d6ee4286112a03fa6.png)](https://i.stack.imgur.com/5XEU6.png)

# sql-server - 在表格中添加值并更改相应的日期范围

> ID：14722638
> 
> 赞同：-1
> 
> 时间：2013-02-06T06:05:52.817
> 
> 标签：sql-server, sql-server-2008-r2

这是我的前提条件。

```
user_id  | module_start_date | module_end_date | loading
 6       | 01-01-2013        | 31-01-2013      | 0.4
 6       | 16-01-2013        | 31-01-2013      | 0.2
 6       | 01-03-2013        | 15-03-2013      | 0.7
 6       | 30-01-2013        | 30-01-2013      | 0.5 
```

我必须添加加载并更改日期范围，如图所示。使用相同的 start_date 和 end_date 可以在上述情况下添加面临的问题。

注意：- 可能有多个用户。

```
user_id   |  module_start_date| module_end_date | loading
  6       | 01-01-2013        | 15-01-2013      | 0.4
  6       | 16-01-2013        | 29-01-2013      | 0.6
  6       | 30-01-2013        | 30-01-2013      | 1.1
  6       | 31-01-2013        | 31-01-2013      | 0.6
  6       | 01-03-2013        | 15-03-2013      | 0.7 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:10:12.620

如果您的结束日期是排他性的，这会更容易一些。不过，这里有一个计划：

1.  临时增加每个范围的结束日期，使其成为排他性的。

2.  将所有开始日期和结束日期放入一个列表中，并仅提取不同的日期。

3.  让每两个日期彼此相邻以形成一个新范围。

4.  将新范围列表内连接到结束日期增加的列表中，按新范围分组并获取`loading`.

5.  通过将每个结束日期减 1，将新范围转换为原始的“全包”格式。

这是上述计划的实施：

```
WITH converted AS (
  -- #1
  SELECT
    user_id,
    module_start_date,
    module_end_date = DATEADD(DAY, 1, module_end_date),
    loading
  FROM atable
),
datesranked AS (
  -- #2
  SELECT
    c.user_id,
    x.date,
    rnk = ROW_NUMBER() OVER (PARTITION BY c.user_id ORDER BY x.date)
  FROM converted AS c
  CROSS APPLY (
    VALUES (c.module_start_date), (c.module_end_date)
  ) AS x (date)
  GROUP BY
    c.user_id,
    x.date
),
newranges AS (
  -- #3
  SELECT
    d1.user_id,
    module_start_date = d1.date,
    module_end_date   = d2.date
  FROM
  datesranked AS d1
  INNER JOIN datesranked AS d2
    ON d1.user_id = d2.user_id
    AND d1.rnk = d2.rnk - 1
),
totals AS (
  -- #4 & #5
  SELECT
    new.user_id,
    new.module_start_date,
    module_end_date = DATEADD(DAY, -1, new.module_end_date),
    loading = SUM(old.loading)
  FROM newranges AS new
  INNER JOIN converted AS old
    ON new.user_id = old.user_id
    AND new.module_end_date > old.module_start_date
    AND new.module_start_date < old.module_end_date
  GROUP BY
    new.user_id,
    new.module_start_date,
    new.module_end_date
)
SELECT *
FROM totals
; 
```

这是上述实现的[SQL Fiddle 演示。](http://sqlfiddle.com/#!3/cc8d4/1)

# css - 为什么行不会出现？

> ID：14722639
> 
> 赞同：0
> 
> 时间：2013-02-06T06:05:59.307
> 
> 标签：css, twitter-bootstrap, adsense

我将一个谷歌广告放在一行中，我的页面内容放在下一行，所以同一容器中的两行，如下所示：

```
<div class='container'>
   <div class='row'>
      <div class='span12'>
         <div class="google_adsense leader_board"><script type="text/javascript">
         //<![CDATA[
         google_ad_client = "pub-4274068129397983";
         google_ad_format = "728x90_as";
         google_ad_height = 90;
         google_ad_type = "text";
         google_ad_width = 728;
         //]]>
         </script>
         <script src="http://pagead2.googlesyndication.com/pagead/show_ads.js"    type="text/javascript"></script>
         </div>
      </div>
   </div>
   <div class='row'>
      <div class='span12'>
         My page content here
      </div>
   </div>
</div> 
```

但是，我注意到谷歌行不会出现，知道为什么它不可见吗？这是推特引导问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:32:12.637

我测试了您的代码并且它有效，但只有在我禁用 Adblock Plus 之后。您是否安装了广告拦截器？

# c# - 使用 C# 在 Selenium WebDriver 中断言、验证和其他命令

> ID：14722641
> 
> 赞同：6
> 
> 时间：2013-02-06T06:06:04.280
> 
> 标签：c#, c#-4.0, automated-tests, selenium-webdriver

我几乎搜索了与 Selenium WebDriver 相关的每个论坛/网站，但仍然找不到如何使用 C# 在 Selenium WebDriver 中使用断言和验证的解决方案。

这是我的代码，我只想在下面编写的代码中放置一个示例断言。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using OpenQA.Selenium;
using OpenQA.Selenium.Chrome;
using OpenQA.Selenium.Support.UI;

namespace Healthfleet
{
    class Login
    {
        static void Main(string[] args)
        {
            IWebDriver driver = new ChromeDriver(@"D:\Downloads");
            driver.Navigate().GoToUrl("https://test.com/");
            IWebElement username = driver.FindElement(By.Id("username"));
            IWebElement password = driver.FindElement(By.Id("password"));
            username.SendKeys("test@test.test");
            password.SendKeys("test");
            IWebElement loginButton = driver.FindElement(By.Id("Login"));
            loginButton.Click();
        }
    }
} 
```

我需要通过使用断言来检查用户名 = 测试，但我找不到任何断言类或方法。

我是否缺少一些包含 Assert 类或任何其他想法的命名空间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T08:53:26.007

目前您已经编写了管理浏览器的程序。如果您要从 NUnit 添加断言 - 它会在失败的情况下抛出异常。

如果你想创建测试，你应该创建类而不`static void Main(string[] args)`添加一些标有`[Test]`. 我建议您特别学习 xUnit-systems 和 NUnit 的概念。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T07:07:25.433

[NUnit](http://www.nunit.org/index.php?p=download)需要对此进行测试。你必须添加它的dll，然后添加命名空间为

`using NUnit.Framework;`

# php - 禁用按钮取决于变量是空还是 NULL

> ID：14722644
> 
> 赞同：1
> 
> 时间：2013-02-06T06:06:16.190
> 
> 标签：php

我目前有几个输入字段并使用 ajax 为 php 变量赋值。在我的 javascript 代码中，我有`saveThem`存储值的函数。最后有一个按钮，可以将值存储在 MySQL 数据库中。`empty`现在使用 php，如果其中一个变量恰好是or ，我该如何禁用该按钮`NULL`？[样机站点](http://webprolearner2346.zxq.net/posting/)

```
select: function saveThem() {

                    var name = $.trim($("#name").val());
                    var age = $.trim($("#age").val());
                    var phone = $.trim($("#phone").val());
                    var email = $.trim($("#email").val());
                    var job = $.trim($("#job").val());
                    var hobby = $.trim($("#hobby").val());

                    var dataString = 'name='+name+'&age='+age+'&phone='+phone+'&email='+email+'&job='+job+'&hobby='+hobby;

                          $.ajax({
                              type: "POST",
                              url: 'posting.php',
                              data: dataString,
                              dataType: "html",
                              success: function(data) {
                                /*if(data.response){ alert(data.message); }*/
                                $("#inputResult").html(data);
                              }
                          });
                        } 
```

PHP

```
 $name = (isset($_POST['name'])) ? strip_tags($_POST['name']) : NULL;
    $age = (isset($_POST['age'])) ? strip_tags($_POST['age']) : NULL;
    $phone = (isset($_POST['phone'])) ? strip_tags($_POST['phone']) : NULL;
    $email = (isset($_POST['email'])) ? strip_tags($_POST['email']) : NULL;
    $job = (isset($_POST['job'])) ? strip_tags($_POST['job']) : NULL;
    $hobby = (isset($_POST['hobby'])) ? strip_tags($_POST['hobby']) : NULL;

    echo ('<br>'.$name.'<br>'.$age.'<br>'.$phone.'<br>'.$email.'<br>'.$job.'<br>'.$hobby); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:12:59.760

如果任何变量恰好是`NULL`或，您可以禁用 javascript 中的按钮`empty`。

```
if($("#name").val() == '' || $("#age").val() == '' || .... so on )
{
   $("#buttonid").attr('disabled',true);
}
else
{
   $("#buttonid").attr('disabled',false);
}

var dataString = 'name='+name+'&age='+age+'&phone='+phone+'&email='+email+'&job='+job+'&hobby='+hobby; 
```

# actionscript-3 - 将弹性图表和数据网格导出到 Excel

> ID：14722645
> 
> 赞同：1
> 
> 时间：2013-02-06T06:06:18.290
> 
> 标签：actionscript-3, apache-flex, flex4.5

我需要将 flex 4.5 中的饼图和数据网格导出为 Microsoft Excel 格式。我能够使用 as3xls 导出数据网格。但它不允许导出任何图表甚至将图像添加到 excel 文件。谁能推荐我这样做的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T20:42:38.903

据我所知，无法通过现有库将图表导出到 Excel。

我想建议你一种具体的方法来做到这一点。我们都知道当前的 Office 文件存储为 XML 结构的集合。这些文件被打包为一个 zip 存档。如果你看一下这些东西，你会发现可以只操作这些文件中的一些行来获得任何表格、任何图表、任何你想要的图片。

要在 Flex 中执行此操作，您需要基本的 XML 结构和一些能够压缩结果的库。

我使用[Nochump](http://nochump.com/blog/archives/15)组件来访问 zip 功能。

[在这里](http://www.codeproject.com/Articles/208075/How-to-read-and-write-xlsx-Excel-2007-file-Part-I)您可以了解 Excel 文件的结构。

以下是一些图片，向您展示了使用此方法可以实现的可能结果。

![Flex 应用程序中的数据网格和图表](../Images/aa8dd401a245e25ca4547f4c322e5a6e.png)

![生成的带有图表的 Excel 表](../Images/05b8ce2e281edb16fc646251fc07de54.png)

关于应用程序，您应该知道必须修补哪些文件：

*   sheet1.xml 包含有关工作表单元格的信息
*   sharedStrings.xml 是文件中所有字符串的字典
*   chart1.xml 是您的图表的描述 - 您应该只更改数据的范围。

为了让它工作，我创建了一个带有 Excel 文件树描述的 XML 结构。我把这个文件树的实际 XML 文件放到我的项目文件夹中。然后我将所有文件读入一个 ArrayCollection 并处理其中三个的数据。

毕竟，我将它们打包到一个 zip 存档中，并让用户将其保存到 PC。

这是源代码：

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
           xmlns:s="library://ns.adobe.com/flex/spark" 
           xmlns:mx="library://ns.adobe.com/flex/mx" 
           minWidth="955" minHeight="600" 
           creationComplete="onCreationComplete(event)">
<fx:Declarations>
    <fx:XML id="fileTree" xmlns="">
        <root id=''>
            <folder id='_rels'>
                <file id='.rels'/>
            </folder>
            <folder id='docProps'>
                <file id='app.xml'/>
                <file id='core.xml'/>
            </folder>
            <folder id='xl'>
                <folder id='_rels'>
                    <file id='workbook.xml.rels'/>
                </folder>
                <folder id='charts'>
                    <file id='chart1.xml'/>
                </folder>
                <folder id='drawings'>
                    <folder id='_rels'>
                        <file id='drawing1.xml.rels'/>
                    </folder>
                    <file id='drawing1.xml'/>
                </folder>
                <folder id='theme'>
                    <file id='theme1.xml'/>
                </folder>
                <folder id='worksheets'>
                    <folder id='_rels'>
                        <file id='sheet1.xml.rels'/>
                    </folder>
                    <file id='sheet1.xml'/>
                </folder>
                <file id='sharedStrings.xml'/>
                <file id='styles.xml'/>
                <file id='workbook.xml'/>
            </folder>
            <file id='[Content_Types].xml'/>
        </root>
    </fx:XML>
</fx:Declarations>

<fx:Script>
    <![CDATA[
        import flash.utils.ByteArray;
        import mx.collections.ArrayCollection;
        import mx.collections.XMLListCollection;
        import mx.controls.Alert;
        import mx.controls.dataGridClasses.DataGridColumn;
        import mx.events.FlexEvent;
        import mx.rpc.xml.SimpleXMLDecoder;
        import nochump.util.zip.*;

        private const CELL_LETTERS:String = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

        private var xmlLoader:URLLoader = new URLLoader();

        private var loaderItemId:int = 0;
        private var rootPath:String = "com/excelchart/xmlsource/";

        private var xlsxFiles:ArrayCollection = new ArrayCollection();

        [Bindable]private var dp:ArrayCollection = new ArrayCollection([
            {party:"SPD",               y2009:23,   y2005:34.2  },
            {party:"CDU",               y2009:27.3, y2005:27.8  },
            {party:"FDP",               y2009:14.6, y2005:9.8   },
            {party:"The Left Party",    y2009:11.9, y2005:8.7   },
            {party:"A90/The Greens",    y2009:10.7, y2005:8.1   },
            {party:"CSU",               y2009:6.5,  y2005:7.4   },
            {party:"Others",            y2009:6,    y2005:3.9   }]);

        protected function onCreationComplete(event:FlexEvent):void
        {
            init();
            traverseXMLList(fileTree, 0, "");
            processNextNode();
        }

        private function traverseXMLList(xml:XML, depth:int, parentPath:String):void
        {
            var path:String = (parentPath == "") ? xml.@id : parentPath + "/" + xml.@id;
            var nodeType:String = xml.name().localName;

            xlsxFiles.addItem({name:xml.@id.toString(), type:nodeType, path:path});

            for each (var item:XML in xml.children())
                traverseXMLList(item, depth + 1, path);
        }

        private function packZip():void
        {
            var zipEntry:ZipEntry;
            var fileName:String;
            var fileData:ByteArray = new ByteArray();
            var zipOut:ZipOutput = new ZipOutput();

            for (var i:int = 0; i < xlsxFiles.length; i++)
            {
                var obj:Object = xlsxFiles.getItemAt(i);

                if (obj.type == "file")
                {
                    fileName = obj.path;
                    zipEntry = new ZipEntry(fileName); 
                    fileData.clear();
                    fileData.writeUTFBytes(obj.content);

                    zipOut.putNextEntry(zipEntry);
                    zipOut.write(fileData);
                    zipOut.closeEntry();
                }
            }

            // end the zip
            zipOut.finish();

            var file:FileReference = new FileReference();
            file.save(zipOut.byteArray, "chart.xlsx");
        }

        private function init():void
        {
            xmlLoader.addEventListener(Event.COMPLETE, onXmlLoaderComplete);
            xmlLoader.addEventListener(IOErrorEvent.IO_ERROR, onXmlLoaderIOError);
        }

        private function loadXML():void
        {
            xmlLoader.load(new URLRequest(rootPath + xlsxFiles.getItemAt(loaderItemId).path)); 
        }

        private function onXmlLoaderComplete(event:Event):void
        {
            xlsxFiles.getItemAt(loaderItemId).content = (event.currentTarget as URLLoader).data;
            processNextNode();
        }

        private function processNextNode():void
        {
            if (xlsxFiles.length > loaderItemId + 1)
            {
                loaderItemId++;

                if (xlsxFiles.getItemAt(loaderItemId).type == "file")
                    loadXML();
                else
                    processNextNode();
            }
            else
                this.btnMakeZip.enabled = true;
        }

        private function onXmlLoaderIOError(evt:IOErrorEvent):void
        {
            Alert.show("error!");
        }

        protected function onMakeZipClick(event:MouseEvent):void
        {
            parseDataGrid();
            packZip();
        }

        protected function isString(input:String):Boolean
        {
            return isNaN(Number(input));
        }

        protected function parseDataGrid():void
        {
            function getStringId(str:String):int
            {
                var result:int = -1;

                for (var i:int = 0; i < stringDictionary.length; i++)
                    if (stringDictionary.getItemAt(i) == str)
                    {
                        result = i;
                        break;
                    }

                if (result == -1)
                {
                    stringDictionary.addItem(str);
                    result = stringDictionary.length - 1;
                }
                return result;
            }

            //find sheet1 xml
            var sheet1XML:XML;
            var xlsxFilesItemId:int;

            for (i = 0; i < xlsxFiles.length; i++)
                if (xlsxFiles.getItemAt(i).name == "sheet1.xml")
                {
                    sheet1XML = new XML(xlsxFiles.getItemAt(i).content);
                    xlsxFilesItemId = i;
                    break;
                }

            //define the size of the DG
            var dgHeight:int = myGrid.dataProvider.length;
            var dgWidth:int = myGrid.columns.length;

            //namespaces for elements
            var mainNS:Namespace = new Namespace("http://schemas.openxmlformats.org/spreadsheetml/2006/main");
            var x14acNS:Namespace = new Namespace("x14ac", "http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac");

            default xml namespace = mainNS;
            sheet1XML.addNamespace(x14acNS);

            sheet1XML.dimension.@ref = "A1:" + CELL_LETTERS.charAt(dgWidth) + (dgHeight + 1).toString();

            //delete nodes from sheet1XML.sheetData
            var sheetDataRowCollection:XMLListCollection = new XMLListCollection(sheet1XML.sheetData.row);
            sheetDataRowCollection.removeAll();

            //create a String dictionary
            var stringDictionary:ArrayCollection = new ArrayCollection();
            var stringId:int = 0;

            var cellNode:XML, rowNode:XML, value:String, cellAddress:String;
            var i:int, j:int;

            //add head information
            rowNode = new XML();
            rowNode.addNamespace(mainNS);
            rowNode.addNamespace(x14acNS);
            rowNode = <row r="1" spans="1:3"/>;
            rowNode.@x14acNS::dyDescent = "0.25";

            for (j = 0; j < dgWidth; j++)
            {
                value = (((myGrid.columns as ArrayList).getItemAt(j) as GridColumn).headerText).toString();
                cellAddress = CELL_LETTERS.charAt(j) + "1";

                cellNode = new XML();
                cellNode = <c r={cellAddress} t="s"><v>{getStringId(value).toString()}</v></c>;

                rowNode = rowNode.appendChild(cellNode);
            }
            sheetDataRowCollection.addItem(rowNode);

            //traverse through DG
            for (i = 0; i < dgHeight; i++)
            {
                rowNode = new XML();
                rowNode.addNamespace(mainNS);
                rowNode.addNamespace(x14acNS);
                rowNode = <row r={i + 2} spans="1:3"/>;
                rowNode.@x14acNS::dyDescent = "0.25";

                for (j = 0; j < dgWidth; j++)
                {
                    value = (myGrid.dataProvider.getItemAt(i)[((myGrid.columns as ArrayList).getItemAt(j) as GridColumn).dataField]).toString();
                    cellAddress = CELL_LETTERS.charAt(j) + (i+2).toString();

                    cellNode = new XML();

                    if (isString(value))
                        cellNode = <c r={cellAddress} t="s"><v>{getStringId(value).toString()}</v></c>;
                    else
                        cellNode = <c r={cellAddress}><v>{value}</v></c>;

                    rowNode = rowNode.appendChild(cellNode);
                }
                sheetDataRowCollection.addItem(rowNode);
            }

            //save sheet1 to xlsxFiles
            xlsxFiles.getItemAt(xlsxFilesItemId).content = sheet1XML;

            //sharedStrings
            var sharedStringsXML:XML;

            for (i = 0; i < xlsxFiles.length; i++)
                if (xlsxFiles.getItemAt(i).name == "sharedStrings.xml")
                {
                    sharedStringsXML = new XML(xlsxFiles.getItemAt(i).content);
                    xlsxFilesItemId = i;
                    break;
                }

            //delete nodes from sharedStrings.xml
            var sharedStringsCollection:XMLListCollection = new XMLListCollection(sharedStringsXML.si);
            sharedStringsCollection.removeAll();

            //fill the sharedStrings XML
            sharedStringsXML.@count = stringDictionary.length;
            sharedStringsXML.@uniqueCount = stringDictionary.length;

            //var siNode:XML;
            for each (var str:String in stringDictionary)
                sharedStringsXML.appendChild(<si><t>{str}</t></si>);

            //save sharedStrings to xlsxFiles
            xlsxFiles.getItemAt(xlsxFilesItemId).content = sharedStringsXML;

            //chart1
            var chart1XML:XML;

            for (i = 0; i < xlsxFiles.length; i++)
                if (xlsxFiles.getItemAt(i).name == "chart1.xml")
                {
                    chart1XML = new XML(xlsxFiles.getItemAt(i).content);
                    xlsxFilesItemId = i;
                    break;
                }

            var catLetter:String = CELL_LETTERS.charAt(cbCategories.selectedIndex);
            var catAddress:String = "Tabelle1!$" + catLetter + "$2:$" + catLetter + "$" + (dgHeight + 1).toString(); 

            var valLetter:String = CELL_LETTERS.charAt(cbValues.selectedIndex);
            var valAddress:String = "Tabelle1!$" + valLetter + "$2:$" + valLetter + "$" + (dgHeight + 1).toString();

            default xml namespace = new Namespace("c", "http://schemas.openxmlformats.org/drawingml/2006/chart");

            chart1XML.chart.plotArea.pieChart.ser.cat.strRef.f = catAddress;
            chart1XML.chart.plotArea.pieChart.ser.val.numRef.f = valAddress;

            xlsxFiles.getItemAt(xlsxFilesItemId).content = chart1XML;

            //switch back to the default namespace
            default xml namespace = new Namespace("");
        }

        private function onBtnRefresh():void
        {
            this.mySeries.nameField = cbCategories.selectedItem.dataField;
            this.mySeries.field = cbValues.selectedItem.dataField;
        }
    ]]>
</fx:Script>

<s:HGroup x="100" y="50">
    <s:VGroup>
        <s:DataGrid id="myGrid" width="360" dataProvider="{dp}">   
            <s:columns>
                <s:ArrayList>
                    <s:GridColumn dataField="party" headerText="Party"/>
                    <s:GridColumn dataField="y2005" headerText="2005" width="90"/>
                    <s:GridColumn dataField="y2009" headerText="2009" width="90"/>
                </s:ArrayList>
            </s:columns>       
        </s:DataGrid> 

        <s:HGroup verticalAlign="bottom">
            <s:Label text="Categories:" width="70"/>
            <s:ComboBox id="cbCategories" dataProvider="{myGrid.columns}" labelField="headerText" selectedIndex="0"/>
        </s:HGroup>

        <s:HGroup verticalAlign="bottom">
            <s:Label text="Values:" width="70"/>
            <s:ComboBox id="cbValues" dataProvider="{myGrid.columns}" labelField="headerText" selectedIndex="1"/>
        </s:HGroup>

        <s:HGroup>
            <s:Button id="btnRefresh" label="Bild Chart" click="onBtnRefresh()"/>
            <s:Button id="btnMakeZip" label="Export" enabled="false" click="onMakeZipClick(event)"/>
        </s:HGroup>
    </s:VGroup>

    <mx:PieChart id="myChart" width="281" height="277" dataProvider="{dp}" showDataTips="true">
        <mx:series>
            <mx:PieSeries id="mySeries" field="y2005" nameField="party" labelPosition="inside" explodeRadius=".12" />
        </mx:series>
    </mx:PieChart>
    <mx:Legend dataProvider="{myChart}"/>

</s:HGroup>
</s:Application> 
```

我希望它可以帮助你。感谢您提出有趣的问题！

# android - 如何在 Android 中绘制圆形边框的一部分？

> ID：14722647
> 
> 赞同：0
> 
> 时间：2013-02-06T06:06:29.433
> 
> 标签：android, 2d

如何在android中用另一种颜色绘制这个只有1/8边框的圆圈？

![在此处输入图像描述](../Images/94b45dfd104f90c5cd7aebfafe6564ab.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:11:45.360

您的图像看起来很像带有圆形样式的 ProgressBar。您可能想查看 ProgressBar 类。

在[画布](http://developer.android.com/reference/android/graphics/Canvas.html)中，您可以通过以下步骤绘制圆圈

1.  用 drawCircle 画一个粉红色的外圈
2.  用drawArc画一条灰色弧线
3.  用drawCircle画一个内圆，使用背景色

# android - 检查应用程序版本更新 Android

> ID：14722651
> 
> 赞同：0
> 
> 时间：2013-02-06T06:06:45.087
> 
> 标签：android, ios, updates

我正在 Android 和 iOS 中创建一个应用程序，该应用程序需要在相应平台有新应用程序版本时提醒用户。

1.  我应该创建一个网络服务来提供基于平台的应用程序版本吗？
2.  我需要 Web 服务中的哪些数据来保持其通用性？Android 使用版本代码，而 iOS 使用主要和次要版本更新。
3.  该应用程序基于登录。我应该在用户登录之后还是之前检查更新？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:13:12.130

对于 android，当市场上的应用程序发布新版本时，用户将收到有关新版本可用性的警报。用户将收到警报。与 iOS 的情况相同。无需创建网络服务

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:14:17.197

> 我应该创建一个网络服务来提供基于平台的应用程序版本吗？

=> 因此，只要有新版本可用，Android 就会提供通知，但是正如您提到的您的业务需求，所以我假设您只想在新版本中实现/包含一些新功能。

所以检查版本并实施这样的，你必须有同样的网络服务。

> 我需要 Web 服务中的哪些数据来保持其通用性？Android 使用版本代码，而 iOS 使用主要和次要版本更新。

=> 您可以从当前应用程序中获取版本号。检查：[在 android 中以编程方式获取应用程序版本](https://stackoverflow.com/questions/6593592/get-application-version-programatically-in-android)

> 该应用程序基于登录。我应该在用户登录之后还是之前检查更新？

=> 有两种情况：

1.  您可以调用网络服务并检查应用程序何时启动。（可能在启动画面或其他地方）

2.  如果您确实在登录中包含此功能（版本检查），那么您必须检查用户是否已登录的所有内容。所以我认为这不是一个好案例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:19:05.510

如果您在 iTunes 或 Google play 中更新应用程序的版本，则提供商会自动通知用户。或者，如果您在应用程序中进行了更改，例如包含新功能，您可以使用推送通知通知用户。希望这对您有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T07:09:48.653

对于 iOS，当安装的应用程序有新版本可用时，用户会收到来自 Apple 的通知。这些通知出现在“App Store”应用程序中。

# openlayers - 无法在多个图层上选择绘制的要素

> ID：14722653
> 
> 赞同：1
> 
> 时间：2013-02-06T06:06:53.677
> 
> 标签：openlayers

我将 Openlayers 2.12 与 Firefox 18.0 一起使用。

我只是在这个例子中添加了一个 EditingToolbar ：

[http://openlayers.org/dev/examples/select-feature-multilayer.html](http://openlayers.org/dev/examples/select-feature-multilayer.html)

所以基本上我改变了这个：

```
map.addLayers([wmsLayer, vectors1, vectors2]);
map.addControl(new OpenLayers.Control.LayerSwitcher());
selectControl = new OpenLayers.Control.SelectFeature
(
    [vectors1, vectors2],
    {
        clickout: true, toggle: false,
        multiple: false, hover: false,
    }
);

map.addControl(selectControl);
selectControl.activate(); 
```

通过添加一行：

```
map.addLayers([wmsLayer, vectors1, vectors2]);
map.addControl(new OpenLayers.Control.EditingToolbar(vectors2));
map.addControl(new OpenLayers.Control.LayerSwitcher());
selectControl = new OpenLayers.Control.SelectFeature
(
    [vectors1, vectors2],
    {
        clickout: true, toggle: false,
        multiple: false, hover: false,
    }
);

map.addControl(selectControl);
selectControl.activate(); 
```

现在我无法在任何图层上正确选择特征（我绘制的），有任何线索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:44:28.257

您提到的问题源自将编辑工具栏添加到地图时拖动处理程序激活。

`map.addControl(new OpenLayers.Control.EditingToolbar(vectors2));`

你有两种方法可以摆脱这个问题。

第一种方式：

添加一个新工具来激活和切换选择控件。

第二种方式：

尝试设置`false`拖动原型。

```
OpenLayers.Handler.Drag.prototype.stopDown = false; 
```

我希望它可以帮助你...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-22T10:57:41.417

如果您有显示控件的面板区域，则可以通过单击代表它们的图标将“allowDepress”属性设置为停用。

# android - TabWidget 当前选项卡底线颜色

> ID：14722654
> 
> 赞同：64
> 
> 时间：2013-02-06T06:06:57.560
> 
> 标签：android, android-tabs

我有一个 TabWidget，我已为其启用并设置了`stripLeft`and `stripRight`...

```
mTabHost.getTabWidget().setStripEnabled(true);
mTabHost.getTabWidget().setRightStripDrawable(R.drawable.redline);
mTabHost.getTabWidget().setLeftStripDrawable(R.drawable.redline); 
```

如下图所示，这不会更改当前选定选项卡（TAB 2）的底线颜色。

![在此处输入图像描述](../Images/48626c137ce9e979d8029ba314c18561.png)

如何更改当前默认为蓝色的当前选定选项卡的底线颜色？（我猜蓝色被设置为默认`AppTheme`样式`styles.xml`。）

我看了[这个](https://stackoverflow.com/questions/3543478/remove-the-bottom-line-border-in-tab-bar-and-change-selected-color)答案，但它没有说明如何改变颜色......

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2013-04-01T19:44:36.683

选项卡指示器的颜色由选择器可绘制设置，可以在[此处](https://github.com/android/platform_frameworks_base/blob/master/core/res/res/drawable/tab_indicator_holo.xml)找到，如下所示：

```
<!-- AOSP copyright notice can be found at the above link -->
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <!-- Non focused states -->
    <item android:state_focused="false" android:state_selected="false" android:state_pressed="false" android:drawable="@drawable/tab_unselected_holo" />
    <item android:state_focused="false" android:state_selected="true"  android:state_pressed="false" android:drawable="@drawable/tab_selected_holo" />

    <!-- Focused states -->
    <item android:state_focused="true" android:state_selected="false" android:state_pressed="false" android:drawable="@drawable/tab_unselected_focused_holo" />
    <item android:state_focused="true" android:state_selected="true"  android:state_pressed="false" android:drawable="@drawable/tab_selected_focused_holo" />

    <!-- Pressed -->
    <!--    Non focused states -->
    <item android:state_focused="false" android:state_selected="false" android:state_pressed="true" android:drawable="@drawable/tab_unselected_pressed_holo" />
    <item android:state_focused="false" android:state_selected="true"  android:state_pressed="true" android:drawable="@drawable/tab_selected_pressed_holo" />

    <!--    Focused states -->
    <item android:state_focused="true" android:state_selected="false" android:state_pressed="true" android:drawable="@drawable/tab_unselected_pressed_holo" />
    <item android:state_focused="true" android:state_selected="true"  android:state_pressed="true" android:drawable="@drawable/tab_selected_pressed_holo" />
</selector> 
```

选择器使用的可绘制对象都以浅蓝色着色。您可以用自己重新着色的版本替换这些可绘制对象。原件看起来像这样（原件很小，包括链接）：

*   [tab_unselected_holo](https://github.com/android/platform_frameworks_base/blob/master/core/res/res/drawable-mdpi/tab_unselected_holo.9.png) ![tab_unselected_holo](../Images/75fe6b6099e8695ea19e552b81e5ba38.png)
*   [tab_selected_holo](https://github.com/android/platform_frameworks_base/blob/master/core/res/res/drawable-mdpi/tab_selected_holo.9.png) ![tab_selected_holo](../Images/23bfd26ebfddf9a50f70df4ab5d14a81.png)
*   [tab_unselected_focused_holo](https://github.com/android/platform_frameworks_base/blob/master/core/res/res/drawable-mdpi/tab_unselected_focused_holo.9.png) ![tab_unselected_focused_holo](../Images/4160b60c644b967a34c3972999fc4981.png)
*   [tab_selected_focused_holo](https://github.com/android/platform_frameworks_base/blob/master/core/res/res/drawable-mdpi/tab_selected_focused_holo.9.png) ![tab_selected_focused_holo](../Images/4a3b595e0aaef0073109bf1c937bf92e.png)
*   [tab_unselected_pressed_holo](https://github.com/android/platform_frameworks_base/blob/master/core/res/res/drawable-mdpi/tab_unselected_pressed_holo.9.png) ![tab_unselected_pressed_holo](../Images/a94b326cc17eabd613ad838729482e49.png)
*   [tab_selected_pressed_holo](https://github.com/android/platform_frameworks_base/blob/master/core/res/res/drawable-mdpi/tab_selected_pressed_holo.9.png) ![tab_selected_pressed_holo](../Images/4b4c875febf947ebc49fe81a74c0d3a1.png)

您需要将上述选择器与可绘制对象一起复制到您自己的项目中。然后，您需要将可绘制对象重新着色为您想要的任何颜色。然后，您需要将选择器设置为选项卡指示器的背景。您可以这样做（设置标签后）：

```
TabHost host = (TabHost)view.findViewById(R.id.tab_host);
TabWidget widget = host.getTabWidget();
for(int i = 0; i < widget.getChildCount(); i++) {
    View v = widget.getChildAt(i);

    // Look for the title view to ensure this is an indicator and not a divider.
    TextView tv = (TextView)v.findViewById(android.R.id.title);
    if(tv == null) {
        continue;
    }
    v.setBackgroundResource(R.drawable.your_tab_selector_drawable);
} 
```

通过使用背景选择器设置您自己的客户指示器布局可能有一种更简单的方法，但这对我来说最简单。

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2016-06-24T06:55:47.610

为此，您可以使用**app:tabIndicatorColor**。它将根据您的要求更改选定的选项卡指示线颜色。

```
<android.support.design.widget.TabLayout
                    android:id="@+id/tabs"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:tabIndicatorColor="@android:color/white"
                    app:tabMode="fixed" /> 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-08-01T11:05:24.663

这就是我改变标签的方式，

```
private void changetabs(TabWidget tabWidget) {
    // Change background
    for(int i=0; i < tabWidget.getChildCount(); i++)
        tabWidget.getChildAt(i).setBackgroundResource(R.drawable.tab_selector);
} 
```

和我的 tab_selector.xml

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<!-- Non focused states -->
<item android:state_focused="false" android:state_selected="false" android:state_pressed="false" android:drawable="@drawable/tab_unselected_holo" />
<item android:state_focused="false" android:state_selected="true"  android:state_pressed="false" android:drawable="@drawable/tab_selected_holo" />

<!-- Focused states -->
<item android:state_focused="true" android:state_selected="false" android:state_pressed="false" android:drawable="@drawable/tab_unselected_focused_holo" />
<item android:state_focused="true" android:state_selected="true"  android:state_pressed="false" android:drawable="@drawable/tab_selected_focused_holo" />

<!-- Pressed -->
<!--    Non focused states -->
<item android:state_focused="false" android:state_selected="false" android:state_pressed="true" android:drawable="@drawable/tab_unselected_pressed_holo" />
<item android:state_focused="false" android:state_selected="true"  android:state_pressed="true" android:drawable="@drawable/tab_selected_pressed_holo" />

<!--    Focused states -->
<item android:state_focused="true" android:state_selected="false" android:state_pressed="true" android:drawable="@drawable/tab_unselected_pressed_holo" />
<item android:state_focused="true" android:state_selected="true"  android:state_pressed="true" android:drawable="@drawable/tab_selected_pressed_holo" /> 
```

希望它会帮助一些人。

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2014-06-18T10:11:59.677

Incase some one stumbles on it, There is online tool to quickly build the drawables (9 patch) for the tabs. Just select the color and press the button Here you go ...

Thanks to Jeff Gilfelt

* * *

The Android Action Bar Style Generator allows you to easily create a simple, attractive and seamless custom action bar style for your Android application. It will generate all necessary nine patch assets plus associated XML drawables and styles which you can copy straight into your project.

## [http://jgilfelt.github.io/android-actionbarstylegenerator/](http://jgilfelt.github.io/android-actionbarstylegenerator/)

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2015-06-22T20:31:55.093

您可以使用过滤器，
这将应用于不透明的区域

```
tabHost.getTabWidget().getChildAt(tabHost.getCurrentTab()).getBackground().setColorFilter(Color.RED, PorterDuff.Mode.MULTIPLY); 
```

一行代码 - 无需更改状态。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2015-10-26T15:55:32.917

默认情况下，强调色用作活动选项卡颜色。`style.xml`您可以在文件中设置/更改它：

```
<style name="AppBaseTheme" parent="Theme.AppCompat.Light">

    <item name="colorAccent">@color/myAccentColor</item>

</style> 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-02-10T14:29:14.310

我解决这个问题的方法是使用 setBackgroundResource。首先，您必须创建完全相同的背景

line_label_1_pressed.xml

```
<item android:top="-6dp" android:left="-6dp" android:right="-6dp">
    <shape>
        <size android:height="50dp"/>
        <solid android:color="@android:color/transparent"/>
        <stroke android:color="@color/myColor" android:width="6dp"/>
    </shape>
</item> 
```

line_label_1.xml

```
<item>
    <shape>
        <solid android:color="@android:color/transparent" />
    </shape>
</item> 
```

然后创建 tab_selector.xml 如下

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<item android:drawable="@drawable/line_label_1_pressed" android:state_selected="true"/>
<item android:drawable="@drawable/line_label_1"/> 
```

然后使用 tab_selector.xml 设置背景资源

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/tab_selector"
android:gravity="center_horizontal|center_vertical" /> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-09-20T18:12:53.317

我找到了其他解决方案，打开*styles.xml*并更改一行：

资源 -> 值 -> 样式.xml

```
<!-- Base application theme. -->
<style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar">
    <!-- Customize your theme here. -->
    <item name="colorPrimary">@color/colorPrimary</item>
    <item name="colorPrimaryDark">@color/colorPrimaryDark</item>
    <item name="colorAccent">@android:color/holo_orange_light</item> <!-- set the color in this line -->
    <item name="windowNoTitle">true</item>
</style> 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2015-10-01T13:27:26.853

只需使用类似的东西

```
tabHost.setSelectedTabIndicatorColor(Color.WHITE); 
```

# css - 固定层滚动

> ID：14722656
> 
> 赞同：0
> 
> 时间：2013-02-06T06:07:06.813
> 
> 标签：css, scroll, css-float, css-position

HTML：

```
<div id="wrap">
<div id="header">
<div class="logo"></div>
<div class="category"></div>
</div>
</div> 
```

CSS：

```
#wrap { 
width:960px; 
margin:0 auto; 
position:relative; }

#header_wrap { 
position:fixed; 
top:0; 
left:0; 
width:100%; 
min-width:960px; 
height:105px; 
background:rgba(256, 256, 256, 0.6); z-index:999; }

#header {  
width:860px; 
position:relative;  
height:90px; 
padding:15px 40px 0 40px; 
margin:0 auto;  }

.logo { 
float:left; 
margin-top:-35px; }

.category { float:right; margin-top:-9px; } 
```

我在页面顶部制作了一个固定的标题菜单。但是如果浏览器窗口的宽度小于换行宽度（尤其是在 iphone/ipad 中放大 safari 时），我看不到标题（固定）的右侧（类别）。帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:34:50.783

不要`'px'`以 的形式指定宽度`%`，当您最大化或最小化浏览器时，滚动条将出现并切断您的 div

# classpath - java类路径通配符行为

> ID：14722657
> 
> 赞同：3
> 
> 时间：2013-02-06T06:07:08.763
> 
> 标签：classpath

我`java -classpath`以前成功地使用过通配符扩展功能。我目前遇到了一个奇怪的问题。

通配符应该扩展到`jar`命名文件夹中的每个。下面是 Oracle 的一段话：

```
Class path entries can contain the basename wildcard character *, 
which is considered equivalent to specifying a list of all the files 
in the directory with the extension .jar or .JAR. For example, the 
class path entry foo/* specifies all JAR files in the directory 
named foo. A classpath entry consisting simply of * expands to a 
list of all the jar files in the current directory. 
```

[这是关于类路径主题的 Java 6 上的 Oracle 文档的链接。](http://docs.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html)

我看到的行为与此相矛盾。这里有 3 次运行。第一个明确命名`jar`，所以它工作。其他人使用通配符并失败。为什么？这对我来说很重要，因为我依赖通配符（在其他地方），因此了解这种意外行为对我来说很重要。

```
#!/bin/bash

printf "The EV is...\n"
echo $CLASSPATH
printf "The working directory is...\n"
pwd
printf "Directory listing...\n"
ls 
printf "END of directory listing.\n"

printf "Test with named jar.\n"
java -javaagent:../sizeof/sizeof.jar -classpath ./testsizeof.jar info.zqxj.test.Tester

printf "Test with star.\n"
java -javaagent:../sizeof/sizeof.jar -classpath * info.zqxj.test.Tester

printf "Test with dot slash star.\n"
java -javaagent:../sizeof/sizeof.jar -classpath ./* info.zqxj.test.Tester 
```

输出：

```
The EV is...

The working directory is...
/home/b/Documents/workspace/testsizeof
Directory listing...
bin  run.sh  src  testsizeof.jar
END of directory listing.
Test with named jar.
40
Test with star.
Exception in thread "main" java.lang.NoClassDefFoundError: run/sh
Caused by: java.lang.ClassNotFoundException: run.sh
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
Could not find the main class: run.sh.  Program will exit.
Test with dot slash star.
Exception in thread "main" java.lang.NoClassDefFoundError: //run/sh
Caused by: java.lang.ClassNotFoundException: ..run.sh
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
Could not find the main class: ./run.sh.  Program will exit. 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T06:15:33.910

解决方案，双引号类路径参数。示例： `-classpath "*"` 这在命令行和 bash 脚本中都是必需的。

随后的附录：

此外，请注意`-classpath "~/folder/*"`失败但`-classpath ~/folder/"*"`很好。引用通配符但不要引用`~`. 似乎您需要操作系统来解释`~`，但您需要引用`*`通配符，因为您想将它传递`java`给以 Java-fashion 进行扩展。

另请注意，您不应要求`java`扩展`*.jar`，因为这会产生意想不到的结果。Java 规范说正确的通配符是`*`唯一的。

# android - 如果 asynctask 出现异常，我如何在 UI 上发布错误消息？

> ID：14722658
> 
> 赞同：0
> 
> 时间：2013-02-06T06:07:18.657
> 
> 标签：android

我正在尝试通过 asynctask 类访问 url，有时，url 可能无法访问，在这种情况下应用程序崩溃，我如何防止这种情况发生，我想在 UI 上显示错误消息/Toast ..我试过实现runOnUiThread()，但没有成功。

这是我的 asynctask 类：在这种情况下，我将遇到 IOException。

```
public class SelectedEmployeeAsyncTask extends AsyncTask<String, Void, ArrayList<Employee>>{

private CaptureActivity captureActivity;
public SelectedEmployeeAsyncTask(CaptureActivity activity) {
    this.captureActivity = activity;
}

@Override
protected ArrayList<Employee> doInBackground(String... url) {

    ArrayList<Employee> employees = null;
    for(String employeeUrl : url){
        employees = fetch(employeeUrl);
    }
    return employees;
}

private ArrayList<Employee> fetch(String url) {

    ArrayList<Employee> employees = null;
    String response = null;
    try {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpGet httpGet = new HttpGet(url);

        HttpResponse httpResponse = httpClient.execute(httpGet);
        HttpEntity httpEntity = httpResponse.getEntity();
        response = EntityUtils.toString(httpEntity);
        employees = EmployeeXMLParser.selectedEmployeeParser(response);
        System.out.println("Size in fetch "+employees.size());

        //System.out.println("Employee Name :: " + employees.get(0).getFirstName() + " " + employees.get(0).getLastName());
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } /*catch (XmlPullParserException e) {
        // TODO Auto-generated catch block
        System.out.println("Error parsing the response :: " + response);
        e.printStackTrace();
    }*/
    return employees;
}

@Override
public void onPostExecute(ArrayList<Employee> employees){
    super.onPostExecute(employees);

    System.out.println("in post execxute "+employees.size());
    //progressDialog.dismiss();
    captureActivity.display(employees);
    //activity.showEmployees(employees);

    //activity.setContentView(R.layout.activity_capture);

}

} 
```

这是我的活动类，其中将调用 asynctask：

```
public class CaptureActivity extends Activity {

//private String url = "http://192.168.3.140:8080/EmployeeXmlDemo/EmployeeList.xml";
private String url = "http://192.168.2.223:8680/capture/clientRequest.do?r=employeeList&cid=0";

FetchEmployeeAsyncTask employeeAsyncTask;

private ArrayList<Employee> employees = null;

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setTitle("");
    //if(employees!=null){
     employeeAsyncTask = new FetchEmployeeAsyncTask(this);
     //selectedEmployeeAsyncTask = new SelectedEmployeeAsyncTask(this);
     employeeAsyncTask.execute(url);
     setContentView(R.layout.activity_capture);
    System.out.println("Status "+employeeAsyncTask.getStatus());

    //}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:14:24.680

尝试这个，

```
 catch (final Exception e) {if (e != null) {                     
                    e.printStackTrace();                
                    Temes.this.runOnUiThread(new Runnable() {
                          public void run() {                         
                Toast.makeText(getApplicationContext(),e.toString(),Toast.LENGTH_LONG).show();                                  
                          }
                     });
                } 
```

# html - 使用 css 将图像放在前面

> ID：14722659
> 
> 赞同：0
> 
> 时间：2013-02-06T06:07:25.027
> 
> 标签：html, css

我正在使用下面的代码来查看产品 ID。为每个列表使用背景图像。我想把图像放在前面，把文字放在后面。

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
.addcart
{

}
 .addcart ul{
     list-style:none;
        }
 .addcart li{
     list-style:none;
          background-image:url(round.png);
            background-repeat: no-repeat;
            height:45px;
            top:0px;
        }
        .addcart h3
        {
            font-size:24px; 
            font-weight:bold;
            padding:10px 0px 40px 10px; 
            color:#F00;
            z-index:400px;  
            position:relative;
        }
</style>
</head>

<body>
<ul class="addcart">
<li><span><h3>96</h3></span></li>
<li><h3>97</h3></li>
</ul>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:11:38.887

如果您只想隐藏文本，请执行以下操作：

```
.addcart h3 {
    position : absolute;
    left     : -9999px;
} 
```

演示：http: [//jsfiddle.net/PFMHr/](http://jsfiddle.net/PFMHr/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:12:48.140

你想让文本返回吗？我可以建议你隐藏它而不是

```
display:none; 
```

如果这对您的工作来说不是一个可行的解决方案，您能详细说明一下功能吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:11:32.113

您可以添加 .addcart li 吗？

`text-indent:-9999em;`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T06:25:11.413

我想最好的方法是通过 Javascipt 或 jQuery将该文本的显示属性设置为**无。**不需要寄回去。或者你有什么特别的理由把它寄回去？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T06:39:52.867

z-index 不是以像素为单位的属性，它应该是

```
z-index: 400; 
```

另外，以这种方式使用 h3 不是最佳选择，我会使用 span 代替；无论如何，您正在增加字体大小，因此您无需为此在 h3 上进行中继。

# c# - Windows 8 XAML 将字节 [] 绑定到图像控件？

> ID：14722661
> 
> 赞同：1
> 
> 时间：2013-02-06T06:07:28.157
> 
> 标签：c#, .net, windows-8, windows-runtime, winrt-xaml

我正在尝试将 byte[] 绑定到图像控件中，但转换器中存在一些问题。请让我知道我该如何解决这个问题？`stream.WriteAsync(bytesArray.AsBuffer());`由于 byte[] 中没有 AsBuffer 函数，我在线遇到错误 。我应该如何解决这个问题？

代码：

```
public object Convert(object value, Type targetType, object parameter, string language)
        {
            byte[] bytesArray;

            if (value != null && value is byte[] && (value as byte[]).Length > 0)
            {
                bytesArray = value as byte[];
            }
            else
            {
                //TODO: Add default Image here
            }

            using (InMemoryRandomAccessStream stream = new InMemoryRandomAccessStream())
            {
                BitmapImage image = new BitmapImage();
                stream.WriteAsync(bytesArray.AsBuffer());
                stream.Seek(0);
                image.SetSource(stream);
                return image;
            }
        } 
```

XAML 代码：

```
<Image Source="{Binding Path=OnlineBooksDetail[0].ImageSource, Converter={StaticResource ByteToBitmapImageConverter}}" Width="407" Height="542">
                        </Image> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T12:25:24.327

我可以通过创建如下所示的转换器来解决这个问题。下面的工作。如果我能改进它，请告诉我。

代码：BitmapImage 图像；

```
 /// <summary>
    /// Converts the specified value.
    /// </summary>
    /// <param name="value">The value.</param>
    /// <param name="targetType">Type of the target.</param>
    /// <param name="parameter">The parameter.</param>
    /// <param name="language">The language.</param>
    /// <returns></returns>
    public object Convert(object value, Type targetType, object parameter, string language)
    {
        byte[] bytesArray = null;

        if (value != null && value is byte[] && (value as byte[]).Length > 0)
        {
            bytesArray = value as byte[];
        }
        else
        {
            //TODO: Add default Image here
        }

        using (MemoryRandomAccessStream memoryStream = new MemoryRandomAccessStream(bytesArray))
        {
            this.image = new BitmapImage();
            this.SetImageSource(memoryStream);
            return image;
        }
    }

    /// <summary>
    /// Sets the image source.
    /// </summary>
    /// <param name="memoryStream">The memory stream.</param>
    /// <exception cref="System.NotImplementedException"></exception>
    private async void SetImageSource(MemoryRandomAccessStream memoryStream)
    {
        await this.image.SetSourceAsync(memoryStream);
    } 
```

# android - 活动内容放置在不同的地方在不同的启动

> ID：14722663
> 
> 赞同：1
> 
> 时间：2013-02-06T06:07:32.647
> 
> 标签：android, android-layout

我有一个应用程序，它需要 XML 布局中的内容（例如：文本、按钮等）安排在不同的位置，在不同的启动中。我的意思是，在第一次发布时，内容将被放置在顶部，而在下一次发布时，它将被放置在底部。同样通过自动选择在整个布局中的任何位置。我该如何实施？

任何人都可以帮助我。

# ios - 如果我只使用本地通知，是否需要为我的应用程序 ID 启用推送通知？

> ID：14722664
> 
> 赞同：7
> 
> 时间：2013-02-06T06:07:32.753
> 
> 标签：ios, apple-push-notifications

目前，我的应用程序在上次运行应用程序后的一周内安排本地通知。在测试中一切正常，但现在我已经提交了应用程序，我从 Apple 收到了这条消息：

“缺少推送通知权利 - 您的应用似乎注册了 Apple Push Notification 服务，但应用签名的权利不包括“aps-environment”权利。如果您的应用使用 Apple Push Notification 服务，请确保您的 App ID 是在供应门户中启用推送通知，并在使用包含“aps-environment”权利的分发供应配置文件签署您的应用程序后重新提交。”

我实际上对推送通知并不感兴趣，我只想使用本地通知。我是否仍需要为我的 App ID 启用推送通知并重新创建配置文件？

编辑：我的问题的具体答案是，不。您无需为应用程序 ID 启用推送通知即可使用本地通知。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-06T06:10:33.567

如果您对推送通知不感兴趣，请从您项目的 App Delegate 中删除以下功能，一切都会顺利：

```
- (void)application:(UIApplication*)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData*)deviceToken
{

} 
```

并从 applicationDidFinishLaunchingWithOptions 函数中删除此代码：

```
[[UIApplication sharedApplication] registerForRemoteNotificationTypes:
     (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)]; 
```

# html - 在 ActionScript 3.0 的 TextField 中使用 htmltext 加载 html 源代码

> ID：14722665
> 
> 赞同：0
> 
> 时间：2013-02-06T06:07:33.780
> 
> 标签：html, actionscript-3, flash

我需要使用提供的 html 源更新文本字段。如果我们的代码只有很少的标签，例如中断标签。但是，如果源代码有双引号（“）来表示诸如 font-family 之类的字段，则它不起作用。

请帮我。

TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:42:46.660

我希望“字体系列”不受 Flash/TextField 中 HTML 引擎的限制的支持。[查看手册](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/text/TextField.html#htmlText)以获取 TextFields 中支持的完整 HTML 标记和参数集。

# json - 如何在json中声明两个数组？

> ID：14722669
> 
> 赞同：0
> 
> 时间：2013-02-06T06:08:02.373
> 
> 标签：json, json.net

我想为我的 Web 应用程序创建一个 json 字符串。实际上我是这种 json 格式的新手。在我的 json 字符串中，我必须在我的 json 结构中创建两个数组。但是我在创建两个数组时遇到了一些语法问题。下面给出了我的 json 字符串供您参考。

```
{
    MarkUpdate:[
        {
            'FinalMarks':[
            {
                'studentId':'S1',
                'Ques_Mark':[
                {
                    'qId' :'Q1',
                    'mark':'14',                
                },
                {
                    'qId':'Q2',
                    'mark':'10',                
                }
                ]
            },          
            {
                'studentId':'S2',
                'Ques_Mark':[
                {
                    'qId' :'Q1',
                    'mark':'12',                
                },
                {
                    'qId':'Q2',
                    'mark':'13',                
                }               
                ]
            }
            ]
        }           
        ]
    } 
```

在我上面的 json 字符串格式中，我`MarkUpdate`包含一个名为的数组对象`FinalMarks`。所以，在这里我必须再创建一个名为`EvalMarks`under 的数组对象`MarkUpdate`。

实际上我的`EvalMarks`包含以下元素...

```
'EvalMarks':[
            {
                'EvalId':'E1',
                'Ques_Mark':[
                {
                    'qId'   :'Q1',
                    'studId':'S1',  
                    'mark':'13',                
                },
                {
                    'qId':'Q2',
                    'studId':'S1',  
                    'mark':'13',                                    
                }                   
                ]
            },

            {
                'EvalId':'E2',
                'Ques_Mark':[
                {
                    'qId'   :'Q1',
                    'studId':'S2',  
                    'mark':'10',                
                },
                {
                    'qId':'Q2',
                    'studId':'S2',  
                    'mark':'10',                                    
                }
                ]
            }
            ] 
```

所以，我已经`EvalMarks`在`MarkUpdate`.I 下声明了这个语法......

你能告诉我如何在`MarkUpdate`.

指导我摆脱这个问题......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:19:47.303

要在一个 JSON 对象中声明两个数组，请记住 JSON 对象只能是一个对象，因此该数组必须在封闭的花括号内。例如：

```
{
  "array1":[1,2,3],
  "array2":["jim","louise","mark"]
} 
```

对于你的情况，重要的是要记住你应该正确地缩进你的括号，方形和卷曲，这样你就可以在错误成为问题之前直观地识别错误。我强烈建议[http://jslint.com/](http://jslint.com/)在使用它之前验证您的 JSON。它也适用于 Javascript：

```
{
    "MarkUpdate":[
        {
            "FinalMarks":[
                {
                    "studentId":"S1",
                    "Ques_Mark":[
                        {
                            "qId" :"Q1",
                            "mark":"14"
                        },
                        {
                            "qId":"Q2",
                            "mark":"10"
                        }
                    ]
                },
                {
                    "studentId":"S2",
                    "Ques_Mark":[
                        {
                            "qId" :"Q1",
                            "mark":"12"
                        },
                        {
                            "qId":"Q2",
                            "mark":"13"
                        }
                    ]
                }
            ]
        }
    ],
    "EvalMarks":[
        {
            "EvalId":"E1",
            "Ques_Mark":[
                {
                    "qId"   :"Q1",
                    "studId":"S1",
                    "mark":"13"
                },
                {
                    "qId":"Q2",
                    "studId":"S1",
                    "mark":"13"
                }
            ]
        },

        {
            "EvalId":"E2",
            "Ques_Mark":[
                {
                    "qId"   :"Q1",
                    "studId":"S2",
                    "mark":"10"
                },
                {
                    "qId":"Q2",
                    "studId":"S2",
                    "mark":"10"
                }
            ]
        }
    ]
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:18:43.277

如果对象中最后一个键值对后面有逗号，则它不是有效的 JSON。我将首先在大多数对象中的最后一个键值对之后删除所有那些不必要的逗号，并验证 www.jslint.com 中的 JSON

为了更清楚，

```
{
    "qId":"Q2",
    "studId":"S2",  
    "mark":"10",                                    
} 
```

无效。另一方面，

```
{
    "qId":"Q2",
    "studId":"S2",  
    "mark":"10"                                   
} 
```

已验证。

# android - 警报对话框大小因列表视图而异

> ID：14722672
> 
> 赞同：0
> 
> 时间：2013-02-06T06:08:13.977
> 
> 标签：android

我在对话框片段的 oncreate 对话框方法中创建了一个警报对话框。我正在使用数组适配器填充警报对话框。我的问题是警报对话框的大小取决于适配器中的文本。我希望将警报对话框固定为默认大小。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:31:28.850

```
place the textview in scrollview with fixed height.
they are two methods to do that
1)by using the ScrollView

<LinearLayout android:id="@+id/LinearLayout01"
 android:layout_width="fill_parent" android:layout_height="fill_parent"
 android:orientation="vertical" xmlns:android="http://schemas.android.com/apk/res /android">
<ScrollView android:layout_width="wrap_content"
android:layout_height="wrap_content" android:layout_weight="1">
 <TextView android:id="@+id/TextView01" android:layout_width="wrap_content"
     android:layout_height="wrap_content"
android:text="Venkata Reddy,"
</ScrollView>
</LinearLayout> 
```

> 2方法

```
<TextView
    android:text="Single-line text view that scrolls automatically if the text is too long to fit in the widget" 
    android:singleLine="true" 
    android:ellipsize="marquee"
    android:marqueeRepeatLimit ="marquee_forever"
    android:focusable="true"
    android:focusableInTouchMode="true" 
    android:scrollHorizontally="true"
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content"/> 
```

使用任何一种方法...

# django - 部分缓存视图方法

> ID：14722677
> 
> 赞同：0
> 
> 时间：2013-02-06T06:08:38.700
> 
> 标签：django, caching, memcached

我在我的一个 django 项目中使用[Memcached](http://memcached.org/)（带有[python-memcached绑定）。](ftp://ftp.tummy.com/pub/python-memcached/)情况是在主页上我有：

*   顶栏：（*其中包含登录链接/用户名和个人资料链接）*
*   搜索表格
*   几块结果

目前，我正在使用[`cache_page()`](https://docs.djangoproject.com/en/dev/topics/cache/?from=olddocs#the-per-view-cache)装饰器来缓存整个页面，如下所示：

```
@cache_page(3600)
def home(request):
    # View Code Goes Here 
```

以上内容按预期工作。但是由于主页是一个可公开访问的页面，我在以下情况下面临一个问题：

1.  匿名用户请求主页（如果尚未缓存该页面，则该页面已被缓存）。
2.  现在用户登录并被重定向到主页。
3.  加载缓存的主页（顶部栏仍然显示登录链接，而不是登录用户的姓名和个人资料链接，因为该页面在用户登录之前被缓存。）

### 问题：

**有没有**办法在模板级别或视图级别，让我们在使用`cache_page()`装饰器时指定一个我们不想缓存的块？

*请注意：我知道我们可以使用`{% cache %}`模板标签或`cache.set`在上述场景中的每个块。但我特别在寻找一种解决方案，我们可以使用`cache_page()`装饰器并且仍然能够指定`block`我不想缓存在特定视图或模板中的*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:44:54.677

使用[CACHE_MIDDLEWARE_ANONYMOUS_ONLY](https://docs.djangoproject.com/en/dev/ref/settings/#std%3asetting-CACHE_MIDDLEWARE_ANONYMOUS_ONLY)

但这听起来像是一个中间件选项，它也会影响@cache_page

# rspec - 在 rspec 中显示所有未决、通过和错误测试

> ID：14722684
> 
> 赞同：10
> 
> 时间：2013-02-06T06:09:41.990
> 
> 标签：rspec

每次我运行`rspec`命令时，我都会只列出未决的规范或有错误的规范，这没关系。

我还需要列出所有通过的测试。如何做到这一点？

通过查看他们的 CLI 自述文件，我无法找到它。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-06T06:29:36.313

你可以试试“文档格式”

```
$ rspec -fd spec/

$ rspec --help
-f, --format FORMATTER           Choose a formatter.
                                   [p]rogress (default - dots)
                                   [d]ocumentation (group and example names)
                                   [h]tml
                                   [t]extmate
                                   custom formatter class name 
```

# cell - fpdf 垂直打印单元格表

> ID：14722685
> 
> 赞同：0
> 
> 时间：2013-02-06T06:09:58.333
> 
> 标签：cell, fpdf

我有来自mysql数据库的这些数据：

![在此处输入图像描述](../Images/e1ef6fcdedd3f9b4b3db2b5ecbc1bf76.png) ![在此处输入图像描述](../Images/1bcec98cf035a7c3d270470b7c6b8636.png)

使用此代码：

```
<?php
require('fpdf/fpdf.php');
require("aacfs.php");

$pdf = new FPDF();
$pdf->AddPage();
$pdf->SetFont('Arial', '', 8);
$locquery=mysql_query("select * from ptr where reservno = '0000187' group by ptr_id asc") or die(mysql_error());

while($locrow=mysql_fetch_array($locquery))
{
    $pdf->Cell(30, 6, $locrow['location'], 1, 0, 'C');
}
$pdf->Ln();
$fquoquery=mysql_query("select distinct fquo_id as 'fquo_id' from passengers where reservno = '0000187' group by pass_id asc") or die(mysql_error());
while($fquorow=mysql_fetch_array($fquoquery))
{
    $fquo=$fquorow['fquo_id'];
    $passquery=mysql_query("select * from passengers where fquo_id = '$fquo' group by pass_id asc") or die(mysql_error());
    while($passrow=mysql_fetch_array($passquery))
    {
        $pdf->Cell(30, 6, $passrow['pass_name'], 1, 0, 'C');
    }
    $pdf->Ln();
}
$pdf->Output();
?> 
```

我正在尝试使用此输出生成 pdf：

![在此处输入图像描述](../Images/9001546d444e660037e12e2f0c055aa9.png)

但我有这个错误的输出：

![在此处输入图像描述](../Images/e483bf2e5396cb1ef011a6191638acad.png)

如何使用 fpdf 实现所需的输出？请帮帮我！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-26T18:33:14.007

关于如何实现这一点，我可以为您提供的最佳示例是调整以下查询和变量以满足您的需求：

```
<?php

require('fpdf.php');

//Connect to your database
include("conectmysql.php");

//Create new pdf file
$pdf=new FPDF();

//Disable automatic page break
$pdf->SetAutoPageBreak(false);

//Add first page
$pdf->AddPage();

//set initial y axis position per page
$y_axis_initial = 25;

//print column titles
$pdf->SetFillColor(232,232,232);
$pdf->SetFont('Arial','B',12);
$pdf->SetY($y_axis_initial);
$pdf->SetX(25);
$pdf->Cell(30,6,'CODE',1,0,'L',1);
$pdf->Cell(100,6,'NAME',1,0,'L',1);
$pdf->Cell(30,6,'PRICE',1,0,'R',1);

$y_axis = $y_axis + $row_height;

//Select the Products you want to show in your PDF file
$result=mysql_query('select Code,Name,Price from Products ORDER BY Code',$link);

//initialize counter
$i = 0;

//Set maximum rows per page
$max = 25;

//Set Row Height
$row_height = 6;

while($row = mysql_fetch_array($result))
{
//If the current row is the last one, create new page and print column title
if ($i == $max)
{
    $pdf->AddPage();

    //print column titles for the current page
    $pdf->SetY($y_axis_initial);
    $pdf->SetX(25);
    $pdf->Cell(30,6,'CODE',1,0,'L',1);
    $pdf->Cell(100,6,'NAME',1,0,'L',1);
    $pdf->Cell(30,6,'PRICE',1,0,'R',1);

    //Go to next row
    $y_axis = $y_axis + $row_height;

    //Set $i variable to 0 (first row)
    $i = 0;
}

$code = $row['Code'];
$price = $row['Price'];
$name = $row['Code'];

$pdf->SetY($y_axis);
$pdf->SetX(25);
$pdf->Cell(30,6,$code,1,0,'L',1);
$pdf->Cell(100,6,$name,1,0,'L',1);
$pdf->Cell(30,6,$price,1,0,'R',1);

//Go to next row
$y_axis = $y_axis + $row_height;
$i = $i + 1;
}

mysql_close($link);

//Send file
$pdf->Output();
?> 
```

# ruby-on-rails - 有没有更简洁的方法来编写这个简单的 ruby 条件和循环？

> ID：14722687
> 
> 赞同：-1
> 
> 时间：2013-02-06T06:10:14.317
> 
> 标签：ruby-on-rails, ruby

下面的代码能不能写得更简洁简洁？

```
<% if Post.all.count > 0 %>                                                                                                                                                                              
  <% for post in Post.all do %>
    Display my post
  <% end %>
<% else %>
  <p>No one has posted anything yet.</p>
<% end %> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:15:17.593

我使用`#exists`我认为比计数和使用`#each`而不是 for 循环更快的方法。我`#find_each`在下面使用，以便按批次获取 1000 个。

```
<% if Post.exists? %>
  <% Post.find_each do |post| %>
    Display my post
  <% end %>
<% else %>
  <p>No one has posted anything yet.</p>
<% end %> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T06:42:43.553

在后控制器中

> @posts = Post.find(:all)

在查看页面

> `<% @posts.each do |post|%> Display post <% end %>`

```
<p><%= "No one has posted anything yet." if @posts.present?  %></p> 
```

请试试这个..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:17:00.660

在使用之前使用枚举[器迭代器](https://github.com/bbatsov/ruby-style-guide)和`for loop`加载帖子（在控制器的操作内）的更好方法：

```
# PostsController#index
@posts = Post.all  
# instead of Post.all you be able to use different options like:
# filtering, pagination and ordering
@posts = Post.where(:published => true).order("created_at DESC")

# index.html.erb
<% if @posts.present? %>                                                                                                                                                                              
  <% @posts.each do |post| %>
    Display my post
  <% end %>
<% else %>
  <p>No one has posted anything yet.</p>
<% end %> 
```

# wcf - 底层连接在 WCF 中使用序列化程序关闭

> ID：14722690
> 
> 赞同：2
> 
> 时间：2013-02-06T06:10:43.657
> 
> 标签：wcf

我有一个带有服务接口的 WCF 服务

```
[ServiceContract]    
public interface IMyService
{
    [OperationContract]
    [ServiceKnownType(typeof(Person))]
    [ServiceKnownType(typeof(Employee))]
    IPerson GetPerson();
 } 
```

我的 GetPerson 实现是

```
 public IPerson GetPerson()
 {
        IPerson obj = new Person();
        obj.FirstName = "Bhuvan";
        obj.LastName = "Ram";        
        return obj;
  } 
```

在我的客户中，我使用的很简单

```
KnownType.MyServiceClient obj = new KnownType.MyServiceClient();
Person objp = (Person)obj.GetPerson()' 
```

但是当我尝试访问时，我收到一个错误

> *基础连接已关闭：连接意外关闭。*

我的堆栈跟踪是这样的

> 在 System.Net.HttpWebRequest.GetResponse()
> 在 System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)
> 在 System.Net.HttpWebRequest.GetResponse()
> 在 System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelRequest .WaitForReply（时间跨度超时）..

我的员工班是

> > [DataContract(Name = "Employee")] [KnownType(typeof(IEmployee))]
> public class Employee:IEmployee { [DataMember] public string EmployeeName { get;set; } }
> 
> > 我的人员类是 [DataContract(Name = "Person")] [KnownType(typeof(IPerson))]
> public class Person: IPerson {
> #region IPerson Members [DataMember(Name = "FirstName")] public string FirstName { get; 放; }

```
 [DataMember(Name = "LastName")]
 public string LastName { get; set; }
 #endregion 
```

}

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:03:51.870

具体类 Person 可能存在序列化问题。

```
 [ServiceContract]
 public interface IMyService
 {
    [OperationContract]
    IPerson GetPerson();
 } 

 public interface IPerson
 {
   string FirstName { get; set; }
   string LastName { get; set; }
 }

   [DataContract(Name = "Person")]
   [KnownType(typeof(IPerson))]
  public class Person : IPerson
  {
     [DataMember(Name = "FirstName")]
     public string FirstName { get; set; }

     [DataMember(Name = "LastName")]
     public string LastName { get; set; }
  } 
```

可以在方法签名上使用 ServiceKnownType 属性，而不是在整个类上使用 KnownType 属性

```
[OperationContract]
[ServiceKnownType(typeof(Person))]
IPerson GetPerson(); 
```

来源： [查看此链接了解详情](http://blogs.msdn.com/b/domgreen/archive/2009/04/13/wcf-using-interfaces-in-method-signatures.aspx)

参考：[使用已知类型](http://chanmingman.wordpress.com/2011/08/03/the-underlying-connection-was-closed-the-connection-was-closed-unexpectedly/)

笔记：

*   在任何地方使用 Knowntype 或仅在 ServiceContract 上使用 ServiceKnowntype。
*   尝试对 Person 和 Employee 类的 DataContract 使用唯一的命名空间。

# ios - 错误的顶点在视网膜显示器上移动

> ID：14722691
> 
> 赞同：4
> 
> 时间：2013-02-06T06:10:44.533
> 
> 标签：ios, opengl-es, grid, touch, retina-display

我正在研究改变形状的图像效果，当我触摸并移动顶点以进行正常显示时，它会正确移动到顶点，但在视网膜显示中它会移动到错误的顶点。意味着它在触摸位置不移动顶点。

```
//Here I'm implementing grid on texture, storing each vertex point in array.

    GLint width = texture2D.contentSizeInPixels.width;
GLint height = texture2D.contentSizeInPixels.height;
int i, j;
int k;

if (mass == NULL)
{
    mass = (MASS *) malloc(sizeof(MASS)*GRID_SIZE_X*GRID_SIZE_Y);
    if (mass == NULL)
    {
        fprintf(stderr, "body: Can't allocate memory.\n");
        exit(-1);
    }
}

k = 0;
for (i = 0; i < GRID_SIZE_X; i++)
    for (j = 0; j < GRID_SIZE_Y; j++)
    {
        //this code implements grid on texture2D, gets vertex & side vertex in array 
        mass[k].nail = (i == 0 || j == 0 || i == GRID_SIZE_X - 1
                        || j == GRID_SIZE_Y - 1);//value is 0/1

        mass[k].x[0] = i/(GRID_SIZE_X - 1.0)*width;
        NSLog(@"mass[%d].x[0]:: %f",k,mass[k].x[0]);

        mass[k].x[1] = j/(GRID_SIZE_Y - 1.0)*height;
        NSLog(@"mass[%d].x[1]:: %f",k,mass[k].x[1]);

        mass[k].x[2] = -(CLIP_FAR - CLIP_NEAR)/4.0;
        NSLog(@"mass[%d].x[2]:: %f",k,mass[k].x[2]);

        mass[k].v[0] = 0.0;
        mass[k].v[1] = 0.0;
        mass[k].v[2] = 0.0;

        mass[k].t[0] = i/(GRID_SIZE_X - 1.0);
        mass[k].t[1] = j/(GRID_SIZE_Y - 1.0);

        k++;
    }
}

//Here I am returning index position of stored vertex in array near by touch point.

- (int)body_grab:(int)x:(int)y {

float dx[2];
float d;
float min_d;
float min_i;
int i;

for (i = 0; i < GRID_SIZE_X*GRID_SIZE_Y; i++)
{
    dx[0] = mass[i].x[0] - x;
    dx[1] = mass[i].x[1] - y;
    d = sqrt(dx[0]*dx[0] + dx[1]*dx[1]);
    if (i == 0 || d < min_d)
    {
        min_i = i;
        min_d = d;
    }
}

return min_i;
}

//Here I am getting other 3 vertex of cell where touch point exists and moving these vertex in a touch direction.

- (void)body_dynamics:(int)x:(int)y {

if (mass[grab].x[0] > x && mass[grab].x[1] > y) {

    grab2 = grab - GRID_SIZE_X;
    grab3 = grab2 - 1;
    grab4 = grab  - 1;
}
if (mass[grab].x[0] > x && mass[grab].x[1] < y) {

    grab2 = grab - GRID_SIZE_X;
    grab3 = grab2 + 1;
    grab4 = grab  + 1;
}
if (mass[grab].x[0] < x && mass[grab].x[1] < y) {

    grab2 = grab + GRID_SIZE_X;
    grab3 = grab2 + 1;
    grab4 = grab  + 1;
}
if (mass[grab].x[0] < x && mass[grab].x[0] > y) {

    grab2 = grab + GRID_SIZE_X;
    grab3 = grab2 - 1;
    grab4 = grab  - 1;

}

if (grab != -1 && !mass[grab].nail &&!isFirstTouch)
{
    mass[grab].x[0]  =  mass[grab].x[0] + mousex1;
    mass[grab].x[1]  =  mass[grab].x[1] + mousey1;
    mass[grab].x[2]  = -(CLIP_FAR - CLIP_NEAR)/4.0;

    mass[grab2].x[0] =  mass[grab2].x[0] + mousex1;
    mass[grab2].x[1] =  mass[grab2].x[1] + mousey1;
    mass[grab2].x[2] = -(CLIP_FAR - CLIP_NEAR)/4.0;

    mass[grab3].x[0] =  mass[grab3].x[0] + mousex1;
    mass[grab3].x[1] =  mass[grab3].x[1] + mousey1;
    mass[grab3].x[2] = -(CLIP_FAR - CLIP_NEAR)/4.0;

    mass[grab4].x[0] =  mass[grab4].x[0] + mousex1;
    mass[grab4].x[1] =  mass[grab4].x[1] + mousey1;
    mass[grab4].x[2] = -(CLIP_FAR - CLIP_NEAR)/4.0;
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T08:52:59.207

我解决了这个问题

您只需将接触点乘以 2 意味着假设您得到 X pos 123 和 y 342，您必须将这些值乘以 2：123*2，这样您将获得正确的顶点位置。

# c# - 应用程序在一个链接上工作，但在另一个链接上不工作

> ID：14722693
> 
> 赞同：0
> 
> 时间：2013-02-06T06:10:48.620
> 
> 标签：c#, windows-phone-7

```
 public partial class MainPage : PhoneApplicationPage
  {
    // varibles and properties
    DispatcherTimer currentPosition = new DispatcherTimer();

    // Constructor
    public MainPage()
    {
        InitializeComponent();
        this.Loaded += new RoutedEventHandler(MainPage_Loaded);
    }

    void MainPage_Loaded(object sender, RoutedEventArgs e)
    {
        myMediaElement.MediaOpened += new RoutedEventHandler(myMediaElement_MediaOpened);
        myMediaElement.MediaEnded += new RoutedEventHandler(myMediaElement_MediaEnded);
        myMediaElement.CurrentStateChanged += new RoutedEventHandler(myMediaElement_CurrentStateChanged);
        currentPosition.Tick += new EventHandler(currentPosition_Tick);

        myMediaElement.Source = new Uri("http://url2.bollywoodmp3.se/murder3/%5BSongs.PK%5D%20Murder%203%20-%2007%20-%20Hum%20Jee%20Lenge%20(Rock%20Version).mp3", UriKind.Absolute);
    }

    void myMediaElement_CurrentStateChanged(object sender, RoutedEventArgs e)
    {
        if (myMediaElement.CurrentState == MediaElementState.Playing)
        {
            currentPosition.Start();
            ((ApplicationBarIconButton)ApplicationBar.Buttons[0]).IsEnabled = false; // play
            ((ApplicationBarIconButton)ApplicationBar.Buttons[1]).IsEnabled = true;  // pause
            ((ApplicationBarIconButton)ApplicationBar.Buttons[2]).IsEnabled = true;  // stop
        }
        else if (myMediaElement.CurrentState == MediaElementState.Paused)
        {
            currentPosition.Stop();
            ((ApplicationBarIconButton)ApplicationBar.Buttons[0]).IsEnabled = true; // play
            ((ApplicationBarIconButton)ApplicationBar.Buttons[1]).IsEnabled = false;  // pause
            ((ApplicationBarIconButton)ApplicationBar.Buttons[2]).IsEnabled = true;  // stop
        }
        else
        {
            currentPosition.Stop();
            ((ApplicationBarIconButton)ApplicationBar.Buttons[0]).IsEnabled = true; // play
            ((ApplicationBarIconButton)ApplicationBar.Buttons[1]).IsEnabled = false;  // pause
            ((ApplicationBarIconButton)ApplicationBar.Buttons[2]).IsEnabled = false;  // stop
        }
    }

    void myMediaElement_MediaEnded(object sender, RoutedEventArgs e)
    {
        myMediaElement.Stop();
    }

    void myMediaElement_MediaOpened(object sender, RoutedEventArgs e)
    {
        pbVideo.Maximum = (int)myMediaElement.NaturalDuration.TimeSpan.TotalMilliseconds;
        myMediaElement.Play();
    }

    void currentPosition_Tick(object sender, EventArgs e)
    {
        pbVideo.Value = (int)myMediaElement.Position.TotalMilliseconds;
    }

    private void Play_Click(object sender, EventArgs e)
    {
        myMediaElement.Play();
    }

    private void Pause_Click(object sender, EventArgs e)
    {
        myMediaElement.Pause();
    }

    private void Stop_Click(object sender, EventArgs e)
    {
        myMediaElement.Stop();
    }

}
} 
```

这是我编写的用于从互联网播放音频文件的代码。在当前链接上，它播放的文件非常好，但我需要播放另一个文件，其链接是**“http://108 . 166 . 161 . 206 : 8826/;stream.mp3”（没有空格）**。当我用代码中的给定链接替换此链接时，应用程序没有播放任何内容。谁能帮我解决这个问题。提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:02:43.027

您拥有的流是 Shoutcast 媒体，这不是 Windows Phone 上实现的协议，但您可以使用Code plex中的[Shoutcast MediaStreamSource ！](http://shoutcastmss.codeplex.com/)

# java - 上下文菜单可以打开图像视图吗？

> ID：14722698
> 
> 赞同：2
> 
> 时间：2013-02-06T06:11:19.200
> 
> 标签：java, android, eclipse, image, emulation

注意：这个问题是不同的，不是完全重复的。**这表明图像需要在没有**对话框的情况下弹出。甚至没有人费心通过这个问题来查看它是否是重复的**。**

我试图从我的上下文菜单中打开一个图像视图，但是，我不知道该怎么做。单击上下文菜单中的某个项目时，我需要出现一个图像视图。甚至可以从上下文菜单中打开图像视图吗？人们建议改用对话框，但我想知道这种特定方式是否可行。先感谢您。这是我的代码：

```
package com.carouseldemo.main;

import android.app.Activity;

import android.os.Bundle;
import android.view.ContextMenu;
import android.view.ContextMenu.ContextMenuInfo;
import android.view.Menu;
import android.view.MenuItem;

import android.view.MenuInflater;
import android.view.View;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;

import com.carouseldemo.controls.Carousel;
import com.carouseldemo.controls.CarouselAdapter;
import com.carouseldemo.controls.CarouselAdapter.AdapterContextMenuInfo;
import com.carouseldemo.controls.CarouselAdapter.OnItemClickListener;
import com.carouseldemo.controls.CarouselAdapter.OnItemSelectedListener;
import com.carouseldemo.controls.CarouselItem;

public class MainActivity extends Activity {

    @Override
      public boolean onContextItemSelected(MenuItem item) {
            int id = item.getItemId(); // you know which menu is clicked
            ImageView popup = new ImageView(this);
        //set the image 
            popup.setImageResource(R.drawable.cat); // or setImageBitmap ,
                                                            // or setImageUti etc
        // this will make the ImageView fill the entire content area. If you don't want this wrap it with another layout
            ((FrameLayout) findViewById(android.R.id.content)).addView(popup);
            return super.onContextItemSelected(item);
        }

    @Override
public boolean onCreateOptionsMenu(Menu menu) {
    super.onCreateOptionsMenu(menu);
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.menu.testmenu1, menu);
    // your code...
    return true;} // true if you want the menu to be displayed; false otherwise

@Override
    public void onCreateContextMenu(ContextMenu menu, View v,
            ContextMenuInfo menuInfo) {
        // Just prepare ourself for unexpected arguments...

        if (menuInfo == null) {
            return;
        }
        if (!(menuInfo instanceof AdapterContextMenuInfo)) {
            return;
        }

        AdapterContextMenuInfo mi = (AdapterContextMenuInfo) menuInfo;

        switch (mi.position) {
        case 0:

            menu.add("Product 1");

            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            break;
        case 1:
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            break;
        case 2:
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            break;
        case 3:
            menu.add("mouse menu");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            break;
        case 4:
            menu.add("panda menu");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            break;
        case 5:
            menu.add("rabbit menu");
            menu.add("Product 1");
            menu.add("Product 1");
            menu.add("Product 1");
            break;
        default:
            break;
        }
        super.onCreateContextMenu(menu, v, menuInfo);
    }

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        final Carousel carousel = (Carousel) findViewById(R.id.carousel);
        carousel.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(CarouselAdapter<?> parent, View view,
                    int position, long id) {
                CarouselItem item = (CarouselItem) parent.getChildAt(position);

                // HERE: Force context menu
                carousel.showContextMenuForChild(item);
                Toast.makeText(
                        MainActivity.this,
                        String.format("%s has been clicked",
                                ((CarouselItem) parent.getChildAt(position))
                                        .getName()), Toast.LENGTH_SHORT).show();

            }

            @Override
            public void onCreateContextMenu(ContextMenu menu, View v,
                    ContextMenuInfo menuInfo) {

                // TODO Auto-generated method stub

            }

            @Override
            public boolean onCreateOptionsMenu(Menu menu) {
                // TODO Auto-generated method stub
                return false;
            }

            @Override
            public boolean onContextItemSelected(MenuItem item) {
                // TODO Auto-generated method stub
                return false;
            }});

        carousel.setOnItemSelectedListener(new OnItemSelectedListener() {

            public void onItemSelected(CarouselAdapter<?> parent, View view,
                    int position, long id) {

                final TextView txt = (TextView) (findViewById(R.id.selected_item));

                switch (position) {
                case 0:
                    txt.setText("The cat (Felis catus), also known as the domestic cat or housecat to distinguish it from other felids and felines, is a small, usually furry, domesticated, carnivorous mammal that is valued by humans for its companionship and for its ability to hunt vermin and household pests. Cats have been associated with humans for at least 9,500 years, and are currently the most popular pet in the world. Owing to their close association with humans, cats are now found almost everywhere in the world.");
                    break;
                case 1:
                    txt.setText("The hippopotamus (Hippopotamus amphibius), or hippo, from the ancient Greek for \"river horse\" (), is a large, mostly herbivorous mammal in sub-Saharan Africa, and one of only two extant species in the family Hippopotamidae (the other is the Pygmy Hippopotamus.) After the elephant, the hippopotamus is the third largest land mammal and the heaviest extant artiodactyl.");
                    break;
                case 2:
                    txt.setText("A monkey is a primate, either an Old World monkey or a New World monkey. There are about 260 known living species of monkey. Many are arboreal, although there are species that live primarily on the ground, such as baboons. Monkeys are generally considered to be intelligent. Unlike apes, monkeys usually have tails. Tailless monkeys may be called \"apes\", incorrectly according to modern usage; thus the tailless Barbary macaque is called the \"Barbary ape\".");
                    break;
                case 3:
                    txt.setText("A mouse (plural: mice) is a small mammal belonging to the order of rodents. The best known mouse species is the common house mouse (Mus musculus). It is also a popular pet. In some places, certain kinds of field mice are also common. This rodent is eaten by large birds such as hawks and eagles. They are known to invade homes for food and occasionally shelter.");
                    break;
                case 4:
                    txt.setText("The giant panda, or panda (Ailuropoda melanoleuca, literally meaning \"black and white cat-foot\") is a bear native to central-western and south western China.[4] It is easily recognized by its large, distinctive black patches around the eyes, over the ears, and across its round body. Though it belongs to the order Carnivora, the panda's diet is 99% bamboo.");
                    break;
                case 5:
                    txt.setText("Rabbits (or, colloquially, bunnies) are small mammals in the family Leporidae of the order Lagomorpha, found in several parts of the world. There are eight different genera in the family classified as rabbits, including the European rabbit (Oryctolagus cuniculus), cottontail rabbits (genus Sylvilagus; 13 species), and the Amami rabbit (Pentalagus furnessi, an endangered species on Amami, Japan)");

                    break;
                }

            }

            public void onNothingSelected(CarouselAdapter<?> parent) {
            }

        });

        registerForContextMenu(carousel);
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T16:21:42.133

如何弹出`ImageView`我在发表的[评论](https://gist.github.com/luksprog/4731481)中向您展示的内容。

> 当我在上下文菜单中选择其他项目时，如何使不同的图像弹出？现在，当我在上下文菜单中选择一项时，会显示一张图片。当我单击上下文菜单中的不同项目时，如何显示不同的图片？

不要使用 this 添加您的菜单选项`menu.add("Product 1");`。而是使用此选项：

```
menu.add(Menu.NONE, 1, Menu.None, "menu title"); 
```

第二个参数不是`1`值，而是为添加到`ContextMenu`. 在该`onContextItemSelected`方法中，您可以使用该方法`item.getItemId();`获取被点击的菜单的 id，并据此知道点击了哪个项目。根据该项目的 ID 分配图像。

> 第二件事是如何关闭图像视图，因为图片卡在屏幕上并且不会消失。

分配给`ImageView`您创建的`OnClickListener`or`OnTouchListener`并在侦听器的方法中删除`ImageView`：

```
ImageView popup = new ImageView(this);    
popup.setOnClickListener(new OnClickListener() {

     @Override
     public void onClick(View v) {
         ((FrameLayout) findViewById(android.R.id.content)).removeView(v);
     } 
}); 
```

# mysql - 将字符串字段“2013 年 1 月 30 日，星期三，下午 1:02”转换为 mySQL 中的日期并替换相邻字段

> ID：14722701
> 
> 赞同：1
> 
> 时间：2013-02-06T06:11:24.910
> 
> 标签：mysql

我有一个`TableA`包含两个字段的表，`strField`并且`dateField`. 字符串字段 strField 包含文本日期，例如**2013 年 1 月 30 日，星期三，下午 1:02**，但我需要将其转换为日期格式并将其替换为名为`dateField`. 有没有一种简单的方法可以做到这一点，还是我必须做所有的剥离？

最后一步很简单，我想。当我剥离所有内容并使字符串看起来像这样*2013-02-15 11:45:21.0*时，这将只是一个简单的

```
STR_TO_DATE('2013-02-15 11:45:21.0', '%m/%d/%Y') 
```

也许有一个功能可以轻松剥离数据并重新格式化原始文本字符串。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:26:14.887

```
SELECT 
DATE_FORMAT( 
  STR_TO_DATE( 'Wednesday, January 30th, 2013, 1:02 PM', '%W, %M %D, %Y, %I:%i %p' ), '%Y-%m-%d %T'); 
```

[sqlfiddle](http://sqlfiddle.com/#!2/e792d/4)链接。

对于其他格式转换，请查看[`DATE_FORMAT()`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)MySQL 文档。

* * *

对于您`UPDATE`来说，这样做：

```
UPDATE `tableA`
SET `dateField` =  DATE_FORMAT(
        STR_TO_DATE(`strField`, '%W, %M %D, %Y, %I:%i %p'),
    '%Y-%m-%d'); 
```

# java - Eclipse 请求的资源不可用。

> ID：14722705
> 
> 赞同：-3
> 
> 时间：2013-02-06T06:11:41.477
> 
> 标签：java, eclipse

我正在尝试在 Eclipse IDE 中运行一个简单的 html 文件（作为项目的一部分），但出现错误

请求的资源 (/auction_portal/index.html) 不可用。

以下是我在控制台中收到的消息。

```
Feb 6, 2013 11:33:39 AM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\Program Files\Java\jdk1.6.0_33\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Program Files/Java/jdk1.6.0_33/bin/../jre/bin/client;C:/Program Files/Java/jdk1.6.0_33/bin/../jre/bin;C:/Program Files/Java/jdk1.6.0_33/bin/../jre/lib/i386;C:\Program Files\Java\jdk1.6.0_33\bin;C:\Program Files\Java\jdk1.7.0_05\bin;D:\Software\eclipse;;.
Feb 6, 2013 11:33:39 AM org.apache.coyote.http11.Http11Protocol init
INFO: Initializing Coyote HTTP/1.1 on http-8080
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 381 ms
Feb 6, 2013 11:33:39 AM org.apache.catalina.core.StandardService start
INFO: Starting service Catalina
Feb 6, 2013 11:33:39 AM org.apache.catalina.core.StandardEngine start
INFO: Starting Servlet Engine: Apache Tomcat/6.0.35
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory docs
Feb 6, 2013 11:33:39 AM org.apache.jasper.EmbeddedServletOptions <init>
SEVERE: The scratchDir you specified: C:\Program Files\Apache Software Foundation\Tomcat 6.0\work\Catalina\localhost\docs is unusable.
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory examples
Feb 6, 2013 11:33:39 AM org.apache.catalina.core.ApplicationContext log
INFO: ContextListener: contextInitialized()
Feb 6, 2013 11:33:39 AM org.apache.catalina.core.ApplicationContext log
INFO: SessionListener: contextInitialized()
Feb 6, 2013 11:33:39 AM org.apache.jasper.EmbeddedServletOptions <init>
SEVERE: The scratchDir you specified: C:\Program Files\Apache Software Foundation\Tomcat 6.0\work\Catalina\localhost\examples is unusable.
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory host-manager
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.HostConfig deployDirectory
SEVERE: Error deploying web application directory host-manager
java.io.FileNotFoundException: C:\Program Files\Apache Software Foundation\Tomcat 6.0\conf\Catalina\localhost\host-manager.xml (The system cannot find the path specified)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:194)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:145)
    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1051)
    at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1002)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:506)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory manager
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.HostConfig deployDirectory
SEVERE: Error deploying web application directory manager
java.io.FileNotFoundException: C:\Program Files\Apache Software Foundation\Tomcat 6.0\conf\Catalina\localhost\manager.xml (The system cannot find the path specified)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:194)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:145)
    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1051)
    at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1002)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:506)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory ROOT
Feb 6, 2013 11:33:39 AM org.apache.jasper.EmbeddedServletOptions <init>
SEVERE: The scratchDir you specified: C:\Program Files\Apache Software Foundation\Tomcat 6.0\work\Catalina\localhost\_ is unusable.
Feb 6, 2013 11:33:39 AM org.apache.coyote.http11.Http11Protocol start
INFO: Starting Coyote HTTP/1.1 on http-8080
Feb 6, 2013 11:33:39 AM org.apache.jk.common.ChannelSocket init
INFO: JK: ajp13 listening on /0.0.0.0:8009
Feb 6, 2013 11:33:39 AM org.apache.jk.server.JkMain start
INFO: Jk running ID=0 time=0/16  config=null
Feb 6, 2013 11:33:39 AM org.apache.catalina.startup.Catalina start
INFO: Server startup in 403 ms 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:14:27.250

日志中有明确的指示：

```
java.io.FileNotFoundException: C:\Program Files\Apache 
Software Foundation\Tomcat 6.0\conf\Catalina\localhost\
host-manager.xml (The system cannot find the path specified) 
```

检查所有`SEVERE:`消息并查看这些文件存在的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:23:59.010

形成您的错误消息，在您的 apache-tomcat 安装中出现了一些错误，可能是它在其他地方，所以 eclipse 找不到它。

```
java.io.FileNotFoundException: C:\Program Files\Apache Software Foundation\
Tomcat 6.0\conf\Catalina\localhost\host-manager.xml (The system cannot find the path specified) 
```

看看下面的链接可能对你有帮助。

1.  [tomcat_howto](http://www3.ntu.edu.sg/home/ehchua/programming/howto/tomcat_howto.html)
2.  [tomcat-eclipse](http://www.mulesoft.com/tomcat-eclipse)

# jquery - z-index 未设置为某个值

> ID：14722711
> 
> 赞同：0
> 
> 时间：2013-02-06T06:12:14.080
> 
> 标签：jquery, html, css

我将 z-index 设置为 div 的某个值，但它仍然在浏览器的计算样式中显示 z-index 为自动。

谁能告诉我为什么会这样？我该如何解决这个问题？

谢谢，阿米特乔杜里

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:15:50.843

确保您还设置了以下位置`static`：

```
#myDiv {
    position : relative;
    z-index  : 25;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T07:07:36.080

检查您的缓存。如果您的浏览器正在查看缓存的 css 文件，则样式可能不适用，在这种情况下，div 仍然没有设置 z-index。

如果你使用的是 chrome，你可以通过 ctrl+f5 重置缓存。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:23:07.893

如果它被覆盖，你总是可以尝试

```
.element {z-index:100 !important;} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T06:19:51.337

不知道你对应的 div 的 z-index 是由一些`js`代码或`css`. 我认为您必须使用`.load()`jquery 的方法来`override that elem's z-index`：

```
$(window).load(function(){
  $('elem').css('z-index','99999'); // @elem put your div's id or class
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T06:23:26.313

您应该将其设置为，`relative`或者`absolute`即使您认为它是不必要的。在下面的例子中，如果要`a`高于，则如果设置为no `b`，则应设置`a`为`absolute`偶数的工作位置。`a``absolute`

```
<div id="a">
    a
</div>
<div id="b">
    b
</div> 
```

CSS：

```
#a {
    z-index: 2;
    background-color: #f00;
    width: 100px;
    height: 100px;
    position: absolute;
}

#b {
    background-color: #0f0;
    position: absolute;
    left: 20px;
    top: 30px;
    width: 100px;
    height: 100px;
} 
```

在此处运行演示：http: [//jsfiddle.net/a9dMn/](http://jsfiddle.net/a9dMn/)

# c# - 什么正则表达式只允许 1 到 3 个单词？

> ID：14722712
> 
> 赞同：0
> 
> 时间：2013-02-06T06:12:16.947
> 
> 标签：c#, regex

我正在用 C# 在 Visual Studio Windows 窗体中做一个项目。我试图验证文本框中的数据只允许一个、两个或三个单词。现在我的代码将允许两个或多个单词，但不仅仅是一个单词。它也不会阻止超过 3 个单词。有人能帮我吗？

```
Regex expression = new Regex(@"[A-Za-z]*[ ]{1}[A-Za-z]*[ ]{1}[A-Za-z]*");
if (!expression.Match(DescriptionTxtBox.Text).Success)
{
    MessageBox.Show("The description should be one, two or three words", "Invalid Format for Description", MessageBoxButtons.OK, MessageBoxIcon.Error);
    DescriptionTxtBox.Clear();
    DescriptionTxtBox.Focus();
    return; 
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:19:29.137

您可以使用以下正则表达式

```
^\s*([a-zA-Z]+\s*){1,3}$ 
```

`^`描述字符串的开头

`$`描述字符串的结尾

`{n}`是一个精确匹配 n 次的量词

`{n,}`至少 n 个匹配项

`{n,m}`在 n 到 m 个匹配之间

`\s`代表空间，类似于`[\n\r\t\f]`

* * *

您应该使用[IsMatch](http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.ismatch.aspx)方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:14:04.390

您是否考虑过使用该`String.Split`方法分离出数据，然后简单地检查结果数组的长度是否 <= 3？

请注意，这种方法将允许空字符串通过此测试，因此您可能也应该检查一下`String.IsNullOrEmpty`。

# wpf - 列表框减速

> ID：14722713
> 
> 赞同：0
> 
> 时间：2013-02-06T06:12:23.613
> 
> 标签：wpf, wpf-4.5

在 WPF 4.0 中，我在 ScrollViewer 上使用了一个属性来更改减速，如下所示：

```
<ListBox ScrollViewer.PanningDeceleration="0.001" /> 
```

似乎在 WPF 4.5 中，我不再有权访问 ScrollViewer。如何更改 WPF 4.5 中的平移减速度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:57:10.690

我刚刚在 .Net 4.5 的 WPF 应用程序中尝试过。附加的财产在那里。您甚至在输入`Scrollviewer.` “无访问权到底是什么意思”后获得了 Intellisense？

# javascript - Javascript模板生成器

> ID：14722714
> 
> 赞同：1
> 
> 时间：2013-02-06T06:12:26.033
> 
> 标签：javascript, template-engine

我正在使用仪表板类型的 Java Web 应用程序，它有多个仪表板。每个dashlet 都是一个javascript 模板。目前我正在考虑使用 mustache.js、handlerbar.js 或dust.js。

这些dashlet 中的每一个都应该基于数据库视图，并且应该呈现视图中每一列的内容。因为我不能只拥有静态模板，它应该根据视图的结构而改变。

是否有任何用 java 编写的动态 javascript 模板生成器模块？

谢谢，凯思

# apache - 使用 localhost/phpmyadmin 运行 phpmyadmin 时出错

> ID：14722716
> 
> 赞同：0
> 
> 时间：2013-02-06T06:12:35.667
> 
> 标签：apache, apache2

我的问题是如果我跑 `http://localhost/phpmyadmin`

它不起作用，但如果我跑 `http://localhost/phpmyadmin/index.php`

它会起作用的。在配置 phpmyadmin 时我是否遗漏了什么，其次我如何配置`http://localhost/phpmyadmin/index.php`工作路径`http://localhost/phpmyadmin`。

还是与 apache.conf 文件有关，如果是，那么我该如何配置`apache.conf`文件。我希望我的项目和 phpmyadmin 在 localhost 上运行，如果我运行，`http://localhost/`那么它应该运行我的项目，如果我运行，`http://localhost/phpmyadmin`那么它应该打开`index.php of phpmyadmin`. 谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:50:17.517

You want the [DirectoryIndex](http://httpd.apache.org/docs/2.2/en/mod/mod_dir.html#directoryindex) directive, e.g.:

```
DirectoryIndex index.php 
```

# c# - SqlConnection 按方法

> ID：14722724
> 
> 赞同：0
> 
> 时间：2013-02-06T06:13:03.363
> 
> 标签：c#, sqlconnection

我正在尝试实现一种将提供的方法，`SqlConnection`我应该怎么做？

```
public class DAL
{
    public bool dbCon()
    {
        string comboValue;

        try
        {
            using (SqlConnection sqlConn =
                new SqlConnection(@"Data Source =VirtualXP-64805;Initial Catalog=CTS_Demo;Integrated Security=SSPI"))
            {
                sqlConn.Open();
            }
        }
        catch (SqlException Ex)
        {
            MessageBox.Show(Ex.ToString());
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:14:08.733

您的方法应该返回连接对象而不是布尔值，或者您可以定义一个类级别的连接变量并使用它。

但是当涉及到数据库连接时，请**尽可能晚地打开它并尽早关闭它**

您可以简单地返回连接对象并在需要的地方打开它，而不是从方法中打开连接。就像是：

```
public SqlConnection dbCon()
{
 return new SqlConnection(@"Data Source =VirtualXP-64805;Initial Catalog=CTS_Demo;Integrated Security=SSPI");
} 
```

然后你在哪里使用它：

```
using(SqlConnection conn = dbCon())
{
  conn.Open();
  .... your code
} 
```

或者您可以摆脱该方法，只需`new SqlConnection`从配置中调用 with 连接字符串。

**编辑：**

由于您想从您的方法返回一个打开的连接，您可以执行以下操作，但 IMO 不是推荐的方式，您必须`Dispose`为每个连接对象手动调用，因为您不会在 using 语句中使用它。

```
public SqlConnection dbCon()
{
 SqlConnection sqlConn;

 try
 {
   sqlConn = new SqlConnection(@"Data Source =VirtualXP-64805;Initial Catalog=CTS_Demo;Integrated Security=SSPI")

 }
 catch(SqlException)
 {
  //your exception handling details
  sqlConn = null;
 }
return sqlConn;

} 
```

# ios - 2013 年 2 月启用 Facebook 重大更改：登录不起作用

> ID：14722725
> 
> 赞同：4
> 
> 时间：2013-02-06T06:13:03.743
> 
> 标签：ios, facebook-graph-api, cordova, asp.net-mvc-4

我正在使用 ios 开发 phonegap 并使用 facebook 登录。但在 2 月 6 日，它在登录 facebook 时向用户提供错误。

使用 Facebook 登录应用程序时 - 对话框显示以下消息：“发生错误。请稍后再试。

我浏览了 fb 手册并在“2013 年 2 月重大更改”中启用了迁移。它仍然没有工作。

谁能帮我 ？

**编辑：**

我参考了 facebook DOC 并找到了这个

**“以下更改将于 2013 年 2 月 6 日生效：内容消费的自定义操作结束我们将不再显示仅由用户消费内容发布的自定义开放图操作。如果您拥有这些操作之一并且它是之前获得批准，您将收到我们发来的电子邮件。开发人员应停止发布这些操作，因为这样做会从 2 月 6 日开始返回错误。可以在用户仅消费内容时发布的唯一操作是内置操作。更多信息信息，请参阅此博客文章。”**

那里给出的解决方案是使迁移选项从“禁用”到“启用”，我这样做了，即使他们给我确认问题已解决但问题仍然存在。

**工作：** 这有点令人惊讶，但现在我的两个链接都运行良好，如下面的回答所述。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T07:11:22.913

解决了：

我现在可以登录了，使用图形 api 的 facebook 文档几乎没有变化。我的问题通过替换 url 解决了。

**“ [https://graph.facebook.com/oauth/authorize?client_id=404196699634359&redirect_uri=http://www.facebook.com](https://graph.facebook.com/oauth/authorize?client_id=404196699634359&redirect_uri=http://www.facebook.com) ....”**

到

**“ [http://facebook.com/dialog/oauth?client_id=404196699634359&redirect_uri=http://www.facebook.com](http://facebook.com/dialog/oauth?client_id=404196699634359&redirect_uri=http://www.facebook.com) ...”**

最后我的应用程序像以前一样工作。特别感谢这个 [http://developers.facebook.com/bugs/207955409343730?browse=search_5111f1ed718835f53574450](http://developers.facebook.com/bugs/207955409343730?browse=search_5111f1ed718835f53574450)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T00:47:59.363

对于像我这样知道足够危险的人，仅此而已......我不知道这个 oauth URL 的位置以及在哪里更改它。这是 facebook 应用程序设置吗？是 src 文件夹的变化吗？我在代码中的任何地方都找不到此链接来进行更正。

# c# - 使用“应该”库比较嵌套对象

> ID：14722729
> 
> 赞同：0
> 
> 时间：2013-02-06T06:13:27.120
> 
> 标签：c#, mstest

我正在运行我的单元测试用例并使用“应该”库比较对象。[https://github.com/erichester/应该](https://github.com/erichexter/Should)

```
 class Source
    {
        public List<string> Columns { get; set; }
        public List<EmployeeOne> EmpList  { get; set; }
    }

    class Target
    {
        public List<string> Rows { get; set; }
        public List<EmployeeTwo> ManagerList  { get; set; }
    }

    class EmployeeOne
    {  
            public string Name { get; set; }
            public string Address { get; set; }
    }

    class EmployeeTwo
    {  
            public string Name { get; set; }
            public string Address { get; set; }
    } 
```

分配后我说

Source.Columns.ShouldEqual(Target.Rows); /// 这工作正常

**如何将“源”EmployeeList 与“目标”ManagerTargetList 进行比较？**

显然我可以使用反射和 for 循环，但我想使用**应该库来实现这一点。**

# unity3d - UnassignedReferenceException：'MoveAround' 的变量 BullitPrefab 尚未分配。Unity3D

> ID：14722734
> 
> 赞同：-2
> 
> 时间：2013-02-06T06:13:52.737
> 
> 标签：unity3d

我正在从头开始用 Unity 3D 制作游戏。

**我收到一个错误**

UnassignedReferenceException：'MoveAround' 的变量 BullitPrefab 尚未分配。您可能需要在检查器中分配 MoveAround 脚本的 BullitPrefab 变量。UnityEngine.Object.Internal_InstantiateSingle (UnityEngine.Object data, Vector3 pos, Quaternion rot) (at C:/BuildAgent/work/812c4f5049264fad/Runtime/ExportGenerated/Editor/UnityEngineObject.cs:44) UnityEngine.Object.Instantiate (UnityEngine.Object original , Vector3 位置, 四元数旋转) (在 C:/BuildAgent/work/812c4f5049264fad/Runtime/ExportGenerated/Editor/UnityEngineObject.cs:53) MoveAround.Update () (在 Assets/MoveAround.js:22)

**我在以下代码中遇到错误**

```
enter code here

var speed = 3.0;
var rotateSpeed = 3.0;
var bullitPrefab:Transform;

function Update ()
{

var controller : CharacterController = GetComponent(CharacterController);

//Rotate around y - axis
transform.Rotate(0, Input.GetAxis("Horizontal") * rotateSpeed, 0);

//Move forward / bacward
var forward = transform.TransformDirection(Vector3.forward);
var curSpeed = speed * Input.GetAxis("Vertical");
controller.SimpleMove(forward * curSpeed);

if(Input.GetButtonDown("Jump"))
{
    var bullit = Instantiate(bullitPrefab, gameObject.Find("spwanPoint").transform.position, Quaternion.identity);
}

} 
```

@script RequireComponent(CharacterController)

这是教程的链接 [http://www.youtube.com/watch?v=wfpZ7_aFoko&list=PL11F87EB39F84E292](http://www.youtube.com/watch?v=wfpZ7_aFoko&list=PL11F87EB39F84E292)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T07:44:09.340

当您将脚本附加到 Unity3d 中的对象时，您应该在对象资源管理器中看到公共变量。确保将 BullitPrefab 拖到该脚本中，以便 Unity3d 知道要在`bullitPrefab`. 它现在显示 (None)，但应该是`bullitPrefab`.

# aem - 如何从作者发布内容到 CQ5 中的发布环境？

> ID：14722740
> 
> 赞同：3
> 
> 时间：2013-02-06T06:14:08.077
> 
> 标签：aem, crx

我已经安装了两个 CQ5-quickstart.jar 实例。一个作为[Author](http://dev.day.com/docs/en/cq/current/deploying/installing_cq.html#Installing%20an%20Author%20Instance)，一个作为[Publish](http://dev.day.com/docs/en/cq/current/deploying/installing_cq.html#Installing%20a%20Publish%20Instance)。

我有一个非常基本的查询。如果我在作者环境中发布/编辑某些内容，它如何在我的发布环境中可见？

我的意思是，这两个实例之间的代码/数据流是否在我错过的某个地方提到？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:34:24.397

您需要先“激活”该页面。只有这样，它才会在发布环境中可用。请阅读此页。

[http://dev.day.com/docs/en/cq/current/wcm/page_publish.html](http://dev.day.com/docs/en/cq/current/wcm/page_publish.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T06:12:42.220

嗨，您还可以检查配置复制代理 [http://dev.day.com/docs/en/cq/current/deploying/configuring_cq.html#Replicating](http://dev.day.com/docs/en/cq/current/deploying/configuring_cq.html#Replicating) from Author to Publish

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-10-16T17:42:45.360

首先检查复制中的发布环境是否正确并建立测试连接。如果成功则激活内容。激活时取消选中这两个选项并单击激活，然后可以在发布中看到更改。

如果有任何修改过的jsp代码需要build in package并push到live。

谢谢拉梅什 v

# c# - 在 asp.net 中将带有数据的 GridView 导出到图像

> ID：14722744
> 
> 赞同：0
> 
> 时间：2013-02-06T06:14:19.463
> 
> 标签：c#, asp.net

我们必须将网格视图控件导出到图像。我试图将网格视图转换为位图，因为我引用了这个[链接](http://www.c-sharpcorner.com/uploadfile/scottlysle/dgv2bmp01182007020129am/dgv2bmp.aspx)，但我没有完成任务。我还引用了这个[Stackoverflow](https://stackoverflow.com/questions/8700722/how-to-save-gridview-output-to-an-image)和[asp.net](http://forums.asp.net/t/1370129.aspx/1)链接，但还没有实现我的任务。这是否可以将带有数据的网格视图控件导出到图像。如果是，我该怎么做。请帮助我。确保我使用的是 asp.net gridview 控件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T10:36:46.313

要将网格视图导出到图像，

```
1.First export gridview data to pdf. 
2.Then  convert it into image. 
```

# jquery - jQuery Mobile 弹出窗口未正确显示

> ID：14722750
> 
> 赞同：0
> 
> 时间：2013-02-06T06:14:39.803
> 
> 标签：jquery, ajax, mobile

我在显示 jquery 移动弹出窗口时遇到问题。这是我的弹出代码，它是从 servlet 返回的

```
 <a href='#popupBasic_1' data-rel='popup'
        style='text-decoration: none; background-color: red; display: block; width: 40px; height: 40px; text-align: center; position: absolute; font-size: 13px; font-weight: bold; color: white'>bill</a>
    <div data-role='popup' id='popupBasic_1'>
        <div style='height: 200px; width: 300px'>
            <div
                style='text-decoration: none; background-color: red; display: block; width: 40px; height: 40px; text-align: center; font-size: 13px; font-weight: bold; color: white'>bill</div>
            <div
                style='text-decoration: none; background-color: blue; display: block; width: 40px; height: 40px; text-align: center; font-size: 13px; font-weight: bold; color: white'>bob</div>
        </div>
    </div> 
```

我正在尝试将它放在 html 中的这个 div 标签中

```
<div id="users"></div> 
```

这是我替换 html 的 ajax 调用

```
$.get(url).success(function(result) {
            //document.getElementById("users").innerHTML = result;
            $("#users").html("<code>" + result + "</code>"); 
```

我已经尝试了上述两种情况，而是在页面上的弹出窗口中显示这两个元素。如果我采用此弹出代码并将其手动放置在 div 标记中，则它可以工作。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:25:02.120

试试这个：

```
$("#users").html(result).trigger("create"); 
```

[jsFiddle](http://jsfiddle.net/pmatseykanets/3aVeH/)

# visual-studio-2012 - 指定的任务可执行文件“LC.exe”无法运行

> ID：14722753
> 
> 赞同：5
> 
> 时间：2013-02-06T06:14:55.543
> 
> 标签：visual-studio-2012, sharepoint-2013, licenses.licx

我正在使用 VS 2012 开发 SharePoint 2013 解决方案，该解决方案有一个 licx 文件。我收到编译时错误和警告。

错误：无法运行指定的任务可执行文件“LC.exe”。文件名或扩展名太长

警告：“LC”任务的命令行太长。超过 32000 个字符的命令行可能会失败。尝试通过将对“LC”的调用分解为多个调用来减少命令行的长度，每次调用的参数更少。

我已经尝试了 lc.exe.config`<startup useLegacyV2RuntimeActivationPolicy="true">` 我还尝试将解决方案移动到“C:\”，它位于 Projects 文件夹中。

我仍然无法解决此错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-23T11:37:06.653

有 MS Support 解决方法：

> 构建项目时，每次遇到此错误时，请从项目中删除许可证文件，只需删除许可证文件即可

[https://connect.microsoft.com/VisualStudio/feedback/details/779433/lc-exe-task-command-line-too-long](https://connect.microsoft.com/VisualStudio/feedback/details/779433/lc-exe-task-command-line-too-long)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-03-12T10:24:50.700

通过创建指向您使用的特定 .NET 版本（在本例中为 4.5.2）的快捷方式，您将能够节省大量路径长度。以下是步骤；

1.  以管理员身份运行命令行
2.  在命令行中转到 C:\
3.  mklink /J net452 "C:\Program Files (x86)\Reference Assemblies\Microsoft\Framework\.NETFramework\v4.5.2"
4.  转到 Visual Studio
5.  打开项目属性
6.  查看参考选项卡
7.  单击“参考路径”按钮并添加路径“C:\net452”
8.  重建项目

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-04-12T08:57:50.730

删除 licenses.licx 文件不是解决方案。如果您使用需要许可证的第三方控件，它将在运行时给您错误。

LC.exe 将参数作为具有完整路径的许可证文件，如果参数太长，则会引发错误。

所以保持文件名和路径较短的长度，它将编译和工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-26T23:02:29.163

删除许可证文件对我没有帮助。我最终删除了解决方案资源管理器下的“licenses.licx”-> 属性组 Surly 有帮助

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-07-19T01:17:14.993

此问题已在 VS2017 中修复，根据此 GitHub 签入：[https](https://github.com/Microsoft/msbuild/commit/e49717c727c3cab4db466bcb0a5abb624a8156bb) ://github.com/Microsoft/msbuild/commit/e49717c727c3cab4db466bcb0a5abb624a8156bb 我相信版本是完整发布版本是 VS2017 Update 2。

# android - 如何处理 wsdl 返回的数组？

> ID：14722755
> 
> 赞同：0
> 
> 时间：2013-02-06T06:14:58.397
> 
> 标签：android, wsdl, ksoap2

我正在使用 ksoap2 从基于 wsdl 的 web 服务（用于 android 应用程序）中提取字符串数组。如何处理返回的数组？我需要那些 3-4 行代码，它们可以让我在课堂上保存和使用返回的数组。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:45:13.727

```
String r = NameArray.columncount("userid", limitstart, loadNumber,loggername);
String temp = r.replaceAll(";\\s", ",").replaceAll("string=", " ")
                .replace("anyType{", "").replace(",}", "");
String[] fulname = temp.split(",\\s+"); 
```

'NameArray.columncount' 是我的函数，它从 wsdl 获取数组（不要对此感到困惑）

第 1 步-在这里，我将从 wsdl 返回的数组值放入一个名为“r”的字符串中。在这种情况下，我得到一个数字数组返回的数组字符串 r 看起来像这样

r="任何类型{字符串=10054；字符串=10055；字符串=10056；字符串=10035；字符串=10052；字符串=10036；字符串=10037；字符串=10038；}"

第 2 步 - 然后创建一个名为 temp 的字符串变量，我在其中使用 replaceAll 函数删除所有不需要的字符。删除不需要的字符后 temp 看起来像这样

temp="10054, 10055, 10056, 10035, 10052, 10036, 10037, 10038"

step3-最后创建了一个名为'fulname'的字符串数组，并将修改后的字符串用',\s'拆分后的数组fulname如下所示

全名 = [ 10054, 10055, 10056, 10035, 10052, 10036, 10037, 10038]

这将正常工作，因为所有 wsdl 数组都返回具有相同不需要的字符的相同类型的字符串

希望你能理解 祝你好运

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T13:31:28.950

如果您仍然遇到此问题，您可以查看这篇文章，该文章解释了解析 KSOAP 中返回的数组的整个过程：http: [//seesharpgears.blogspot.fr/2010/10/web-service-that-returns-array- of.html](http://seesharpgears.blogspot.fr/2010/10/web-service-that-returns-array-of.html) 希望这个答案能回答你的问题；）

# javascript - 打印 MySQL SUM() 函数的 json_encode

> ID：14722756
> 
> 赞同：0
> 
> 时间：2013-02-06T06:15:03.543
> 
> 标签：javascript, mysql, sql, json

我正在尝试使用 JSON 打印价格的 SUM()。

目前我正在尝试：

```
$query="SELECT SUM(cost) FROM `Service`";
$result = mysql_query($query);

$json = array();
    while($row = mysql_fetch_array($result))
    {
            $json['cost'] = $row['cost'];
    }
    print json_encode($json);
mysql_close(); 
```

这将返回 null。

如果我`SELECT cost FROM Service`改为尝试，它会返回数据库中的最后一个成本。

我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:15:46.827

`ALIAS`在聚合函数上传递的列上提供一个

```
SELECT SUM(cost) totalCOST FROM `Service` 
```

所以你可以获取 columnName

```
$json['cost'] = $row['totalCOST']; 
```

# php - 如何从php中搜索mysql

> ID：14722760
> 
> 赞同：0
> 
> 时间：2013-02-06T06:15:20.337
> 
> 标签：php, mysql

我有一个用户查询要在 mysql 数据库中搜索

```
<input type="text" name="query_textbox"><input type="submit" name="search_button">
<?php 
   if (isset($_GET['search_button'])) 
   {
    $query = $_GET['query_textbox'];
    $command = "SELECT * FROM `table` WHERE `ProteinName` LIKE '%$query%';";
    $result = mysql_query($command);
    echo $result;
   }
?> 
```

当我在文本框中输入“人类”时，它就可以工作了。但是当我搜索“人类蛋白质”时，它显示 0 个结果。现在的问题是“如果我搜索包含诸如‘人类蛋白质’之类的空格的查询，它应该向我显示‘人类蛋白质’以及‘人类’和‘蛋白质’的结果。怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:22:38.460

你可以这样做：

```
$query = $_GET['query_textbox'];

// explode the query by space (ie "human protein" => "human" + "protein")
$keywords = preg_split("#\s+#", $query, -1, PREG_SPLIT_NO_EMPTY);

// combine the keywords into a string (ie "human" + "protein" => "'%human%' OR '%protein%'")
$condition = "'%" . implode("%' OR '%", $keywords) . "%'";

$command = "SELECT * FROM `table` WHERE `ProteinName` LIKE $condition;"; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-06T06:37:58.043

```
$query = $_GET['query_textbox'];

// explode the query by space (ie "human protein" => "human" + "protein")
$keywords = explode(" ", $query);

foreach($keywords as $key => $value){
    $condition[] = `ProteinName` LIKE "'%".$value."%'"
}

$cond_str = implode(' OR ', $condition);
$command = "SELECT * FROM `table` WHERE $cond_str;"; 
```

# sharepoint-2010 - 如何以编程方式在 SharePoint 2010 中创建自定义列表？

> ID：14722761
> 
> 赞同：1
> 
> 时间：2013-02-06T06:15:26.830
> 
> 标签：sharepoint-2010

我尝试了以下方法，

[http://devendra-sharepoint.blogspot.in/2012/01/creating-list-programatically-in_30.html](http://devendra-sharepoint.blogspot.in/2012/01/creating-list-programatically-in_30.html)

但我无法创建列表。

因为我收到以下错误。

“Microsoft.SharePoint.SPWeb”不包含“EnsureList”的定义，并且找不到接受“Microsoft.SharePoint.SPWeb”类型的第一个参数的扩展方法“EnsureList”（您是否缺少 using 指令或程序集引用?)

请指教。

谢谢，阿赛

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:18:42.097

你可以做这样的事情。

```
private SPList CreateList(string LName)
  {
    if (spWeb.Lists.TryGetList(LName) == null)
      {
        spWeb.AllowUnsafeUpdates = true;
        spWeb.Lists.Add(LName,"This is Programatically created list", SPListTemplateType.GenericList);
      }
    return spWeb.Lists[LName];
  } 
```

谢谢

# java - 使用 PreparedStatement 和 Oracle 数据库上的绑定变量触发查询

> ID：14722762
> 
> 赞同：1
> 
> 时间：2013-02-06T06:15:30.227
> 
> 标签：java, sql, jdbc, prepared-statement

**编辑：**我正在使用 Oracle

我正在编写一个动态查询，使用`PreparedStatement`它是这样的

```
String query="UPDATE <tablename> SET 
        column1=?,column2=?,.....,coulmn7=? WHERE "
        + "column5=TO_DATE(?,'DD/MM/YYYY') AND "
        + "column6=? AND "
        ....
        + "column7=?";

PreparedStatement prest2=con2.PrepareThisStatement(query);

while(true){

   //loop through and bind values
   if(end of list) break;
}
 prest2.executeUpdate(query); 
```

我需要跟踪在数据库中触发的查询并将它们记录在表中。

但是在使用 时我无法获取整个查询`PreparedStatement`，也无法将值存储在单独的字段中。有没有办法获得在数据库中触发的最终查询。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:23:22.457

可以，使用 1`prest2.toString();`

# user-defined-functions - 将文件存储在 Pig 中已占用的位置

> ID：14722766
> 
> 赞同：0
> 
> 时间：2013-02-06T06:15:43.290
> 
> 标签：user-defined-functions, apache-pig

似乎 Pig 阻止我们重用输出目录。在这种情况下，我想编写一个 Pig UDF，它将接受文件名作为参数，在 UDF 中打开文件并将内容附加到该位置的现有文件中。这可能吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T14:40:51.367

这可能是可能的，但我不知道这是可取的。为什么不只是有一个新的输出目录？例如，如果最终您希望所有结果都输入`/path/to/results`，`STORE`则第一次运行的输出为`/path/to/results/001`，下一次运行的输出为`/path/to/results/002`，依此类推。通过这种方式，您可以轻松地从任何失败的作业中识别出不良数据，并且如果您希望将所有这些数据放在一起，您只需执行`hdfs -cat /path/to/results/*/*`.

如果您实际上不想追加，而只想替换现有内容，则可以使用 Pig 的`RMF`shell 命令：

```
%DEFINE output /path/to/results
RMF $output
STORE results INTO '$output'; 
```

# c - arcsin(x) 的泰勒级数，输出 C 语言不正确

> ID：14722771
> 
> 赞同：1
> 
> 时间：2013-02-06T06:16:08.223
> 
> 标签：c, trigonometry, calculus, taylor-series

我编写了一个程序，从用户那里获取一个值 x 和一个整数 n，然后程序使用 taylor serie for arcsin [http://tedmuller.us/Math/img/Taylor-arcsin.gif打印 arcsin(x)](http://tedmuller.us/Math/img/Taylor-arcsin.gif)

但由于某种原因它不起作用。当我输入 x=1 时，我得到 1.19 而不是 pi/2 的输出。

这是我的代码：

```
#include <stdio.h>
#include <conio.h>
void main()
{
    int i,n;
    double x,sum,last;
    printf("Please enter the x you wish to calculate arcsin(x) for \n");
    scanf("%lf",&x);
    printf("Enter n\n");
    scanf("%d",&n);
    last=x;
    sum=last;
    for(i=1;i<=n;i++)
    {
        last*=((x*x)*(2*i-1))/((2*i)*(2*i+1));
        sum+=last;
    }
    printf("arcsin(%lf) = %lf",x,sum);
    getch();
} 
```

基本思想是：last 和 sum 都以 x 的值开始。然后我最后前进成为系列中的下一个数字，将其添加到总和，再次前进，添加到总和...冲洗并重复 n 次。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:43:36.830

看起来你的扩展有错误。

尝试这个： `last*=((x*x)*(2*i-1)*(2*i-1))/((2*i)*(2*i+1))`

你仍然需要很多条款。我得到 1000 个术语`arcsin(1.0) ~= 1.552963`。（您的代码 1.194958）

10000 条款`arcsin(1.0) ~= 1.565155`。（您的代码 1.194958）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T06:44:21.327

您扩展的泰勒级数具有 6 位精度`|x| < .5`、 5位精度`|x| < .6`、 4位精度、 `|x| < .7`3位精度和 2`|x| < .8`位精度`|x| < .9`。

当然，没有理由认为泰勒多项式是给定次数的最佳多项式。欢迎来到数值分析。

需要太多项才能对 进行良好估计`|x| = 1`，因为 arcsin(x) 的导数在 处有一个极点`x = 1`，因此*其*泰勒级数收敛非常缓慢。这意味着泰勒展开不是逼近 arcsin(x) 的有效方法，除了小 x。如果您在计算时打印展开式的每个项，您会发现使系列在合理的时间内收敛非常小。

为了您的帮助，Milton Abramowitz 和 Irene Stegun 在他们的书“*数学函数手册*”第 81 页推导出这个近似公式：

```
arcsin(x) = pi/2 - sqrt(1 - x)(a0 + a1*x + a2*x^2 + a3*x^3) 
```

在哪里

```
a0 = 1.5707288
a1 = -0.2121144
a2 = 0.0742610
a3 = -0.0187293 
```

在 1 附近表现更好。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T06:28:05.387

一个问题是，当 x=1 时，该级数以对数方式快速收敛。请注意，x=1 位于 arcsin 收敛半径的边界。因此，收敛速度极慢也就不足为奇了。

一个更大的问题是您实际上并没有实现您认为已经实现的系列。您正在对线性收敛的东西求和。看起来它可能是众所周知的东西的组成部分，但它肯定不是 arcsin。

# git - git 从 Windows NTFS 迁移到 Linux ext4

> ID：14722772
> 
> 赞同：2
> 
> 时间：2013-02-06T06:16:10.050
> 
> 标签：git

我在 Windows 上有一个 git repo。现在我在同一台机器上安装了双引导到 linux。

在 linux 中，我挂载了 NTFS，我做到了

```
cp -r /media/OS/Users/xl/git/xyz ~/git/xyz 
```

然后因为我在 ~/git/xyz 上从事过 linux 工作，并且还提交了 git（本地）。

我只是搞砸了我的git信息吗？如果是这样，如何解决？

不幸的是，没有任何远程存储库或任何原始备份，因为我已经 rysnc 从 linux 回到了 NTFS 之一。（NTFS 不区分大小写，但区分大小写，如果重要的话）

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:50:01.197

您不应该破坏任何东西，但以防万一，您可以通过[制作 bundle](https://stackoverflow.com/a/5720366/6309)来检查它，而不是复制 repo 的内容。

一个 git 包会生成*一个*文件，您可以轻松地复制该文件，并且可以在 Linux 会话中从该文件中*克隆*您的 repo。
这是在 cp 或 rsynch 期间避免任何文件损坏的最可靠方法。

但是，如果您可以从 Linux 会话中看到 windows 路径，那么直接克隆该 repo 或推回它（而不是复制完整的 repo 内容）会更容易

# c++ - 如何使用 libssh 作为服务器？

> ID：14722773
> 
> 赞同：3
> 
> 时间：2013-02-06T06:16:11.077
> 
> 标签：c++, qt, libssh

我正在开发与 Web 应用程序通信的 Windows 版本的服务器应用程序。Web 应用程序最初与 Linux 服务器一起工作，并将通过 SSH 连接到 Linux 以在服务器上执行命令。我的计划是使用 Qt 构建一个 C++ 服务器来接收来自 Web 应用程序的命令，并处理它们以执行这些命令的 windows 版本。

例如，如果 Web 应用程序最初发送“echo $HOME”并收到主目录，我想在我的 Windows 服务器上接收相同的 SSH 命令，然后处理它，如果服务器配置为主目录C:\Example\，然后它会发回 C:\Example\。我的目标是对 Web 应用程序进行尽可能少的更改，而是让 Windows 服务器处理 Linux SSH 命令以执行 Windows 等效操作。

我以前从未使用过 libssh，但通过一些搜索我找到了它并读到它可以用作 SSH2 服务器。基本上我的问题是，我将如何使用 libss2 在我的 Qt 项目中创建服务器，以允许该 Web 应用程序通过 SSH 进入并发送命令。

如果您认为有比 libssh 更好的方法，请告诉我，这正是我通过搜索找到的。

更新：我发现了这个服务器示例的代码。[https://github.com/substack/libssh/blob/master/examples/samplesshd-tty.c](https://github.com/substack/libssh/blob/master/examples/samplesshd-tty.c)

老实说，我对此感到非常困惑。经过几个小时的谷歌搜索和代码工作后，我可能能够将其分解并理解发生了什么。但是，如果有人愿意引导我主要解释每一步发生的事情，那将不胜感激。

# wordpress - 在 wordpress 中创建子菜单和子子菜单

> ID：14722774
> 
> 赞同：1
> 
> 时间：2013-02-06T06:16:12.997
> 
> 标签：wordpress, submenu

我在管理菜单中添加了自定义菜单。**我想创建子菜单。** 我的代码是

```
add_menu_page('File_uploader', 'File uploader', '', 'file_uploader', 'file_uploader');
add_submenu_page('file_uploader', 'Templates', 'Templates', 'edit_pages', 'fileuploader_templates', 'fileuploader_templates'); 
```

我要`subsubmenu`在`submenu`模板下

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:49:58.163

WordPress 在管理中不使用三级菜单 - 这种管理插件菜单的方法超出了这个概念。考虑只使用顶级和子级页面，否则您将不得不修改管理菜单walker（如果有的话）并写下您的自定义功能以添加子子菜单......

# scala - 将正则表达式匹配取消应用到案例类中

> ID：14722777
> 
> 赞同：6
> 
> 时间：2013-02-06T06:16:21.000
> 
> 标签：scala

给定一个正则表达式和一个字符串

```
val reg = "(a)(b)"
val str = "ab" 
```

和相应的案例类

```
case class Foo(a: string, b: string) 
```

如何将正则表达式与字符串匹配并将匹配项取消应用到案例类中，所以我有

```
Foo("a", "b") 
```

到底？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:28:42.770

在字符串中查找正则表达式并将结果分配给的结果的模式匹配`Foo`。Regex的 API[文档](http://www.scala-lang.org/api/current/scala/util/matching/Regex.html)有一个类似的例子。

```
scala> val reg = "(a)(b)".r
reg: scala.util.matching.Regex = (a)(b)

scala> val str = "ab"
str: String = ab

scala> case class Foo(a: String, b: String)
defined class Foo

scala> val foo = reg.findFirstIn(str) match{
     | case Some(reg(a,b)) => new Foo(a,b)
     | case None => Foo("","")
     | }
foo: Foo = Foo(a,b)

 scala> foo.a
res2: String = a

scala> foo.b
res3: String = b 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-03T10:02:50.903

如果您确定匹配没问题，您可以对函数进行 currify 并使用 foldleft 将此版本应用于提取的参数列表：

```
> val reg = "(a)(b)".r
> val str = "ab"
> val f1 = (Foo.apply _).curried
// f1 : String => String => Foo
> val groups = reg.findFirstMatchIn(str).get.subgroups
// groups: List[String]
> val foo = ((f1 : Any) /: groups) { case (f: (String => Any), s) => f(s)} asInstanceOf[Foo]

foo: Foo = Foo(a,b) 
```

有关 curried 的定义，请参见scala 中的[Function2](http://www.scala-lang.org/api/current/index.html#scala.Function2)。

# c++ - 隐藏指针的 C++ 程序的明确定义

> ID：14722780
> 
> 赞同：3
> 
> 时间：2013-02-06T06:16:36.693
> 
> 标签：c++, c++11, garbage-collection

[根据维基百科](http://en.wikipedia.org/wiki/C++11#Allow_garbage_collected_implementations)：

> C++11 定义了指针值从其他值“安全派生”的条件。一个实现可以指定它在“严格的指针安全”下运行，在这种情况下，不是根据这些规则派生的指针可能会变得无效。

当我阅读它时，您可以获得实现使用的安全模型，但是对于编译器来说这是固定的（可能是带有命令行开关的变量）。

假设我有隐藏指针的代码，这样的代码肯定不会在垃圾收集器上使用天真的螺栓运行。然而收集器（就像我自己的）和 Boehm 提供了在某些对象中查找指针的钩子。

我特别在想 JudyArrays。这些是必然隐藏密钥的数字尝试。我的问题基本上是使用这样的数据结构是否会导致 C++11 中未定义程序的行为。

我希望不会（因为 Judy Arrays 的表现优于其他一切）。碰巧也是……我正在使用它们来*实现*垃圾收集器。然而，我很担心，因为“最低要求”根本不起作用，并且在最初关于 C++ 一致性模型的辩论（英国和澳大利亚）中遭到强烈反对。参数要求更好。但是 C++11 GC 相关的文本似乎有点两者兼而有之，所以我很困惑！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T07:56:15.433

它的实现定义了实现是提供宽松的指针安全性（您似乎想要的）还是严格的指针安全性（指针仅在 时才有效`safely derived`）。正如您所暗示的那样，您可以致电`get_pointer_safety`以了解该政策是什么，但该标准无法指定/更改该政策。

但是，您可以回避这个问题。如果您可以在隐藏指针之前调用`declare_reachable`（传递该指针值），则它在匹配调用之前保持有效`undeclare_reachable`（这里“匹配”表示调用嵌套）。

# iphone - 导航控制器标题和按钮

> ID：14722784
> 
> 赞同：0
> 
> 时间：2013-02-06T06:16:56.303
> 
> 标签：iphone, ios6, uinavigationcontroller

在基于选项卡的应用程序委托中，我添加了导航控制器，如下所示，

```
 self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
 UIViewController *viewController1 = [[FirstViewController alloc] initWithNibName:@"FirstViewController" bundle:nil];
 UIViewController *viewController2 = [[SecondViewController alloc] initWithNibName:@"SecondViewController" bundle:nil];

 UIViewController *viewController3 = [[view1 alloc] initWithNibName:@"view1" bundle:nil];
 UIViewController *viewController4 = [[view2 alloc] initWithNibName:@"view2" bundle:nil];
 UIViewController *viewController5 = [[view3 alloc] initWithNibName:@"view3" bundle:nil];
 self.tabBarController = [[UITabBarController alloc] init];
 self.tabBarController.viewControllers = @[viewController1, viewController2,viewController3,viewController4,viewController5];
 navigationController=[[UINavigationController alloc]initWithRootViewController:self.tabBarController];
 [self.window addSubview:[navigationController view]];
self.window.rootViewController = self.navigationController; 
```

我将无法在每个视图中添加标题。添加时不显示标题？请帮我解决这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:21:29.213

使用下面的代码...

在这里，我添加`UINavigationController`到每个选项卡，并为选项卡分配标题，也为`UINavigationBar`如下所示...

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease];
    UIViewController *viewController1, *viewController2, *viewController3, *viewController4, *viewController5;
    UINavigationController *navviewController1 , *navviewController2, *navviewController3, *navviewController4, *navviewController5;
    self.tabBarController = [[[UITabBarController alloc] init] autorelease];
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {
        viewController1 = [[[YourViewController1 alloc] initWithNibName:@"YourViewController1" bundle:nil] autorelease];
        navviewController1=[[UINavigationController alloc]initWithRootViewController:viewController1];
        navviewController1.title = @"Home";
        //        navviewController1.navigationBarHidden=YES;

        viewController2 = [[[YourViewController2 alloc] initWithNibName:@"YourViewController2" bundle:nil] autorelease];
        navviewController2=[[UINavigationController alloc]initWithRootViewController:viewController2];
        //        navviewController2.navigationBarHidden=YES;
        navviewController2.title = @"HowItsWork";

        viewController3 = [[[YourViewController3 alloc] initWithNibName:@"YourViewController3" bundle:nil] autorelease];
        navviewController3=[[UINavigationController alloc]initWithRootViewController:viewController3];
        //        navviewController3.navigationBarHidden=YES;
        navviewController3.title = @"Join Us";

        viewController4 = [[[YourViewController4 alloc] initWithNibName:@"YourViewController4" bundle:nil] autorelease];
        navviewController4=[[UINavigationController alloc]initWithRootViewController:viewController4];
        //        navviewController4.navigationBarHidden=YES;    
        navviewController4.title = @"Become";  

        viewController5 = [[[YourViewController5 alloc] initWithNibName:@"YourViewController5" bundle:nil] autorelease];
        navviewController5=[[UINavigationController alloc]initWithRootViewController:viewController5];
        //        navviewController4.navigationBarHidden=YES;    
        navviewController5.title = @"Contact Us"; 
        self.tabBarController.viewControllers = [NSArray arrayWithObjects:navviewController1, navviewController2,navviewController3,navviewController4,navviewController5, nil];
        self.window.rootViewController = self.tabBarController;
    }

    [self.window makeKeyAndVisible];
} 
```

**2）或**

您也可以简单地在您的特定班级中分配标题，如下所示......

```
-(void)viewWillAppear:(BOOL)animated{
    self.title = @"yourTitle";
} 
```

我希望这对你有帮助......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:21:02.667

在每个标签栏控制器和使用行中转到 viewdidload 方法：

```
navigationController.title=@"hello"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:22:49.540

在每个视图控制器 viewdidload self.navigationcontroler.title=@"firstVC";

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T06:26:58.507

“title” 是 的属性，`UIViewController`并且`UINavigationController`是您的子类，`UIViewController`您也可以访问它的对象`UINavigationController`，就像`navviewController.title = @"myTitle";`查看[Apple Docs](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/cl/UIViewController)一样了解更多详细信息。希望它会有所帮助。干杯

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T06:47:45.457

您已在导航控制器中添加了 TabBar 控制器，因此您无法添加标题并出现此问题。

尝试在 tabbar 控制器中添加带有 View 控制器的每个导航控制器。我的意思是将您的 ViewController 添加为导航控制器的根视图控制器，然后添加到选项卡栏控制器。

```
viewController1 = [[[YourViewController1 alloc] initWithNibName:@"YourViewController1" bundle:nil] autorelease];
        navviewController1=[[UINavigationController alloc]initWithRootViewController:viewController1]; 
```

现在然后将这个导航控制器添加到标签栏控制器中。对所有其他视图控制器执行此操作

# talend - Talend 负载在中途失败导致回滚

> ID：14722785
> 
> 赞同：0
> 
> 时间：2013-02-06T06:16:59.383
> 
> 标签：talend

我有一个 tfileinputdelimited 组件和一个 tmap，结果将传递给创建 csv 文件的 tfileoutdelimited。

现在在工作中间，有时数据加载失败，导致目标文件回滚。造成资源和时间的浪费。任何人都可以提供一种方法，以便一旦作业在两者之间失败，以便传递的数据将进入保存状态，并且下次作业运行时，它仅从故障点重新开始。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T08:11:58.587

在 tFileOutputDelimited 中写入时，Talend 不会回滚进程。如果你有空的输出文件，这意味着你的工作过早地结束了，并且没有记录被写入输出缓冲区。如果写入文件时发生错误，则以下代码（由 tFileOutputDelimited 生成）关闭 outputBuffer 并刷新错误之前成功插入的数据：

```
...
} finally {
    if (outtFileOutputDelimited_1 != null) {
        outtFileOutputDelimited_1.flush();
        outtFileOutputDelimited_1.close();
    }
    ...
}
... 
```

Talend 中没有真正的“恢复”功能，但您可以在工作中创建自己的 die&resume 流程，如下所示：

tFileInput1 ==> tHashOutput

tFileInput2 = main => tMap ==> tFileOutput1
tHashInput =lookup=> tMap

tFileInput1 ：读取上次运行作业生成的数据，并使用 tHashOutput 存储在内存中 tFileInput2 ：读取输入文件
tFileOutput1 ：存储输出数据
tHashInput ：读取内存中的数据并用作 tMap 中的查找

在您的 tMap 中，在 tFileInput1 和 tHashInput 之间创建一个**内部连接。**然后，对于您的输出模式，选择**catch lookup inner join reject**来处理所有不在 tHashInput 中的记录。

不确定它是否会节省资源和时间。管理错误的最佳方法是识别它们并在工作中进行所有检查以避免它们！

为了更清楚起见，您能否举例说明运行作业时发生的错误？

# javascript - KineticJS 的绘制方法有什么区别？

> ID：14722787
> 
> 赞同：14
> 
> 时间：2013-02-06T06:17:04.813
> 
> 标签：javascript, html, kineticjs

`layer.draw()`KineticJS 方法和`layer.drawScene()`之间有什么区别`layer.drawHit()`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-06T07:19:45.390

[看看源代码（v4.3.1）](http://d3lp1msu2r81bx.cloudfront.net/kjs/js/lib/kinetic-v4.3.1.js)，l。3381ff。这些定义在一个`Kinetic.Container`.

```
 draw: function() {
        this.drawScene();
        this.drawHit();
    },
    drawScene: function(canvas) {
        // do stuff
    },
    drawHit: function() {
        // do stuff
    } 
```

用于将`drawScene`形状绘制到绘图画布上。

（`drawHit`参见[示例](http://www.html5canvastutorials.com/kineticjs/html5-canvas-kineticjs-custom-hit-function-tutorial/)）用于允许修改鼠标事件触发事件的区域。这是在内部使用特殊的`Kinetic.HitCanvas`.

* * *

更新：您可以在他们的[Github](https://github.com/ericdrowell/KineticJS)存储库中找到代码。 `draw()`可以在[Node.js](https://github.com/ericdrowell/KineticJS/blob/master/src/Node.js)中找到，另外两个在[Container.js中](https://github.com/ericdrowell/KineticJS/blob/master/src/Container.js)

请注意，Eric 停止了 KineticJS。

# javascript - 用从评论内容派生的子树替换 JavaScript AST 中的评论

> ID：14722788
> 
> 赞同：13
> 
> 时间：2013-02-06T06:17:07.660
> 
> 标签：javascript, parsing, abstract-syntax-tree

我是[doctest](https://github.com/davidchambers/doctest)的作者，它是 JavaScript 和 CoffeeScript 的快速而肮脏的[doctests](http://docs.python.org/2/library/doctest.html)。我想通过使用 JavaScript 解析器而不是正则表达式来定位注释，从而使库不那么脏。

我想使用[Esprima](http://esprima.org/)或[Acorn](https://github.com/marijnh/acorn)执行以下操作：

1.  创建 AST
2.  遍历树，对于每个评论节点：
    1.  从评论节点的文本创建一个 AST
    2.  用这个子树替换主树中的注释节点

**输入：**

```
!function() {

  // > toUsername("Jesper Nøhr")
  // "jespernhr"
  var toUsername = function(text) {
    return ('' + text).replace(/\W/g, '').toLowerCase()
  }

}() 
```

**输出：**

```
!function() {

  doctest.input(function() {
    return toUsername("Jesper Nøhr")
  });
  doctest.output(4, function() {
    return "jespernhr"
  });
  var toUsername = function(text) {
    return ('' + text).replace(/\W/g, '').toLowerCase()
  }

}() 
```

我不知道该怎么做。Acorn 提供了一个[walker](https://github.com/marijnh/acorn/blob/master/util/walk.js)，它接受一个节点类型和一个函数，并在每次遇到指定类型的节点时遍历调用该函数的树。这似乎很有希望，但不适用于评论。

使用 Esprima，我可以`esprima.parse(input, {comment: true, loc: true}).comments`用来获取评论，但我不确定如何更新树。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T09:51:31.970

大多数产生 AST 的解析器都会丢弃注释。我不知道 Esprima 或 Acorn 做什么，但这可能是问题所在。

.... 事实上，Esprima 将评论捕获列为当前错误： [http ://code.google.com/p/esprima/issues/detail?id=197](http://code.google.com/p/esprima/issues/detail?id=197)

... Acorn 的代码就在 GitHub 中。它似乎也抛弃了评论。

因此，看起来您可以先修复任一解析器以捕获评论，此时您的任务应该很简单，或者您被卡住了。

我们的 DMS Software Reengineering Toolkit 在树中具有捕获注释的 JavaScript 解析器。它还具有语言*子字符串*解析器，可用于将注释文本解析为注释所代表的任何类型的 JavaScript AST（例如，函数声明、表达式、变量声明……），以及移植此类新 AST 的支持机制进入主树。如果您要操作 AST，这种子字符串功能可能很重要：大多数解析器不会解析任意语言片段，它们仅用于解析“整个程序”。对于 DMS，没有要替换的注释节点；有与 ASTs 节点相关的评论，因此嫁接过程比“替换评论节点”要复杂一些。还是很容易的。

我将观察到大多数解析器（包括这些解析器）通过使用或应用正则表达式的等价物来读取源代码并将其分解为标记。因此，如果您已经在使用它们来定位注释（这意味着使用它们来定位 *non*comments 以丢弃，例如，您需要识别包含类似注释文本的字符串文字并忽略它们），您就是在*查找*注释方面，解析器无论如何都会做得很好。如果你想要做的只是用它们的内容完全替换它们，那么用注释前缀/后缀 /* */ 剥离的源流回显显然完全符合你的要求，所以所有这些解析机制似乎都是矫枉过正。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T00:48:15.623

您已经可以使用 Esprima 来实现您想要的：

1.  解析代码，获取注释（作为数组）。
2.  遍历评论，看看是否每一个都是你感兴趣的。
3.  如果您需要转换注释，请注意其范围。收集所有转换。
4.  从头到尾应用转换，以便范围不会移动。

诀窍是这里不改变AST。只需应用文本更改，就好像您直接对源字符串进行典型的搜索替换一样。因为替换的位置可能会移动，所以你需要收集所有东西，然后从最后一个开始。有关如何进行这种转换的示例，请查看我的博客文章[“从双引号到单引号”](http://ariya.ofilabs.com/2012/02/from-double-quotes-to-single-quotes.html)（它处理字符串引号，但原理保持不变）。

最后但并非最不重要的一点是，您可能想要使用稍微高级一点的实用程序，例如[Rocambole](https://github.com/millermedeiros/rocambole)。

# android - 在android中使用地理编码器类获取地址的空值

> ID：14722791
> 
> 赞同：0
> 
> 时间：2013-02-06T06:17:20.920
> 
> 标签：android, gps, google-geocoder

我得到地址的空值并为其抛出异常，
我正在使用`geocoder`类来获取地址
，所以请帮助我

我的代码是：-

```
String cityName = null;
String locType = null;
Geocoder gcd = new Geocoder(LocationActivity.this,
    Locale.getDefault());
List<Address> addresses;
try {

    addresses = gcd.getFromLocation(loc.getLatitude(),
    loc.getLongitude(), 1);
    Log.d("address", addresses.toString());
    if (addresses.size() > 0)
        System.out.println(addresses.get(0).getLocality());
    cityName = addresses.get(0).getLocality();
    locType = addresses.get(0).getAddressLine(0);
    String s = longitude + "\n" + latitude
                + "\n\nMy Current City name:" + cityName
                + "\n\nMy address:" + locType;

    editLocation.setText(s);

} catch (IOException e) {
    e.printStackTrace();
    String s = longitude + "\n" + latitude
            + "\n\nMy Current City name:" + cityName
            + "\n\nMy address:" + locType;

    editLocation.setText(s);

} 
```

例外是

```
02-06 11:09:50.641: W/GpsLocationProvider(59): Duplicate add listener for uid 10036
02-06 11:09:50.771: W/System.err(480): java.io.IOException: Service not Available
02-06 11:09:50.781: W/System.err(480):  at android.location.Geocoder.getFromLocation(Geocoder.java:117)
02-06 11:09:50.781: W/System.err(480):  at com.example.getcurrentlocation.LocationActivity$MyLocationListener.onLocationChanged(LocationActivity.java:149)
02-06 11:09:50.781: W/System.err(480):  at android.location.LocationManager$ListenerTransport._handleMessage(LocationManager.java:191)
02-06 11:09:50.781: W/System.err(480):  at android.location.LocationManager$ListenerTransport.access$000(LocationManager.java:124)
02-06 11:09:50.781: W/System.err(480):  at android.location.LocationManager$ListenerTransport$1.handleMessage(LocationManager.java:140)
02-06 11:09:50.781: W/System.err(480):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-06 11:09:50.781: W/System.err(480):  at android.os.Looper.loop(Looper.java:123)
02-06 11:09:50.781: W/System.err(480):  at android.app.ActivityThread.main(ActivityThread.java:4627)
02-06 11:09:50.781: W/System.err(480):  at java.lang.reflect.Method.invokeNative(Native Method)
02-06 11:09:50.791: W/System.err(480):  at java.lang.reflect.Method.invoke(Method.java:521)
02-06 11:09:50.791: W/System.err(480):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
02-06 11:09:50.791: W/System.err(480):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
02-06 11:09:50.791: W/System.err(480):  at dalvik.system.NativeStart.main(Native Method)
02-06 11:10:29.471: W/System.err(480): java.io.IOException: Service not Available
02-06 11:10:29.471: W/System.err(480):  at android.location.Geocoder.getFromLocation(Geocoder.java:117)
02-06 11:10:29.471: W/System.err(480):  at com.example.getcurrentlocation.LocationActivity$MyLocationListener.onLocationChanged(LocationActivity.java:149)
02-06 11:10:29.481: W/System.err(480):  at android.location.LocationManager$ListenerTransport._handleMessage(LocationManager.java:191)
02-06 11:10:29.481: W/System.err(480):  at android.location.LocationManager$ListenerTransport.access$000(LocationManager.java:124)
02-06 11:10:29.481: W/System.err(480):  at android.location.LocationManager$ListenerTransport$1.handleMessage(LocationManager.java:140)
02-06 11:10:29.481: W/System.err(480):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-06 11:10:29.481: W/System.err(480):  at android.os.Looper.loop(Looper.java:123)
02-06 11:10:29.481: W/System.err(480):  at android.app.ActivityThread.main(ActivityThread.java:4627)
02-06 11:10:29.481: W/System.err(480):  at java.lang.reflect.Method.invokeNative(Native Method)
02-06 11:10:29.481: W/System.err(480):  at java.lang.reflect.Method.invoke(Method.java:521)
02-06 11:10:29.481: W/System.err(480):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
02-06 11:10:29.491: W/System.err(480):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
02-06 11:10:29.491: W/System.err(480):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:22:01.973

它偶尔会发生。google 的 Geocoder 类中存在问题。更好地使用[https://developers.google.com/maps/documentation/geocoding/#ReverseGeocoding](https://developers.google.com/maps/documentation/geocoding/#ReverseGeocoding) 您可以将坐标值发送到此 url 并检索地点。

# javascript - 这两个 javascript 布尔表达式之间有什么区别吗？

> ID：14722794
> 
> 赞同：0
> 
> 时间：2013-02-06T06:17:33.463
> 
> 标签：javascript

有两种方法可以检查变量或属性是否存在。

第一个断言没有返回虚假值。

**1.**

```
var testVar;
if(!testVar){

    //use testVar becuase it exists 

} 
```

第二个明确地断言这两个条件。

**2.**

```
var testVar;

if(testVar !== undefined && testVar !== null){

    //use testVar becuase it exists 

} 
```

为了检查对象/字符串/数字/数组是否存在，两者之间有什么区别吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:26:09.527

它们不一样。如果您尝试将`{}`or `1`or or `true`or `"nyan cat"` [![喵！](../Images/b901c51fa7226d9e92cc1d867f373d45.png)](http://www.youtube.com/watch?v=QH2-TGUlwu4)... 放入`testVar`，则它返回`false`for `!testVar`：

```
var testVar = {};
if(!testVar){  //false
    //will not be executed, but testVar does exist
} 
```

![在此处输入图像描述](../Images/64f1b5ed73302ed16515897398af0189.png)

检查变量是否存在的更好方法：

```
typeof(randomVar); //undefined
typeof(window);    //object 
```

* * *

## 附言

```
var testVar;
if(!testVar){
    //...
} 
```

这实际上并不检查它是否存在。尝试

```
var testVar = "something";
if(!testVar){              //false
    console.log("Exist.");
}
//nothing happens. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:28:01.847

您可以通过调用 Object.hasOwnProperty() 检查对象属性是否存在，但无法检查变量是否存在，因为您无法显式引用当前堆栈帧。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:29:18.677

**0、-0、null、false、NaN、未定义和空字符串 ""**将被评估为 false。

如果值为 0 的 testVar 是有效条件，则第一个解决方案仍将其视为“假”。因此，第二个解决方案更好地为您服务。

# ios - 推送通知在 Ad-Hoc 配置文件下不起作用 - 尝试（几乎）一切

> ID：14722797
> 
> 赞同：2
> 
> 时间：2013-02-06T06:17:50.513
> 
> 标签：ios, push-notification, apple-push-notifications, ad-hoc-distribution

使用开发配置文件时，我成功地从 APN 取回了令牌。当移动到 Ad Hoc 时，我从来没有从 APNs 收到令牌，因此我无法将它发送到我们的通知服务器。在阅读了 Stackoverflow 上的所有帖子和官方文档（即重新创建的配置文件、证书等）之后尝试了任何方法。现在，我尝试使用

> codesign -dvvvv --entitlements - MyApp.app

命令查看我是如何签署应用程序的，我收到了以下信息

```
<dict>
    <key>application-identifier</key>
    <string>XXXXXXX.com.company.MyApp</string>
    <key>aps-environment</key>
    <string>production</string>
    <key>get-task-allow</key>
    <false/>
    <key>keychain-access-groups</key>
    <array>
        <string>XXXXXXX.com.company.MyApp</string>
    </array>
</dict> 
```

这是一个 Ad Hoc 代码符号吗？它不应该将UDID列表添加到配置文件中吗？任何其他想法会是什么？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-12-21T20:40:14.870

A. 会员中心
0\. 证书“iOS Distribution”
1\. AppID 启用推送通知以进行分发
2\. 证书“APNs Production iOS”
3\. AdHoc Distribution Provisioning Profile（每个 AppID 唯一）
4\. 下载证书“APN production iOS”并点击要添加到钥匙串访问的文件

B.xcode 6.1.1
1\. 使用 AppId 配置项目
2\. product/archive/export/Save for Ad Hoc Development -- 签名身份应为“iOS -Distribution”，“Provisioning Profile”应为 AdHoc Distribution Profile
3\. 导出 ipa文件

C.itunes 12.0.1.26 1.将
ipa 文件添加到 iTunes/Applications
2.将设备连接到 iTunes iTunes/设备（iTunes 左上角）/Settings/Apps/ 将应用更改为“将安装”
3.同步
4.启动应用程序和获取推送通知令牌

D.KeyChain Access - 使用密码 123456 将证书“APN production iOS”中的密钥导出到 .p12 --> app_prod_apn_key.p12

E.JavaPNS 2.2（或其他工具——使用苹果生产服务器）
——运行以下命令：java -cp JavaPNS_2.2.jar:log4j-1.2.17.jar:bcprov-jdk15on-151.jar javapns.test.NotificationTest app_prod_apn_key.p12 123456 xxxxxxxx75556f8b56da29082da5f0f05d3cac1166fc84b7efd411b7fxxxxxxx 生产综合体

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-02-01T10:49:07.340

有同样的问题如果您没有注意到任何人，请更改服务器代码上的推送 url APNs 使用**AdHoc**的生产配置文件，对于生产，您必须删除 url 中的**沙箱**，如下所述

```
if ($production) {
    $gateway = 'gateway.push.apple.com:2195';
} else { 
    $gateway = 'gateway.sandbox.push.apple.com:2195';
} 
```

参考：[http ://codular.com/sending-ios-push-notifications-with-php](http://codular.com/sending-ios-push-notifications-with-php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T13:39:32.270

确保您的生产推送证书与您的临时构建中存在的应用程序 ID 匹配。如果您有一个 .PEM 文件，请打开它并确保它在顶部提到“Apple Production IOS Push Services”，然后是与您的临时构建完全相同的包标识符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T06:44:50.117

对于 ad hoc，您应该将发布证书与生产 APN 一起使用。如果它仍然不起作用，请尝试检查您是否可以连接到生产 APN 端口和 ips 范围。[“苹果技术说明”](http://developer.apple.com/library/ios/ipad/#technotes/tn2265/_index.html)

# magento - Magento 类别和属性

> ID：14722799
> 
> 赞同：0
> 
> 时间：2013-02-06T06:18:01.360
> 
> 标签：magento, attributes, categories

在 Magento Community Ed. 中，我的产品结构是这样的，即有一组 100 个属性，有些产品被分配到，有些则没有。这些属性值对所有产品都是通用的。因此，如果产品 A 具有值为 360 的属性 X，如果产品 B 具有该属性，其值也将是 360。现在这些属性值需要每隔一小时左右更新一次。有没有一种方法可以在一个 csv/excel 文件的后端更新这些，并且这些更改适用于所有订阅此属性的产品？

另外，有没有办法为类别创建属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:22:38.653

是的，您可以在 Magento 中创建和使用自己的导入。您可以使用 System Menu ~ Import/Export ~ Import 找到该模块。

哦，请参阅[此问题](https://stackoverflow.com/questions/12269144/magento-assign-attributes-to-categories-in-layered-navigation)以获取类别上的属性 祝你好运！

# image - Grails 将上传的图像转换为圆形

> ID：14722801
> 
> 赞同：1
> 
> 时间：2013-02-06T06:18:06.250
> 
> 标签：image, grails, image-processing

H 将图像作为字节数组存储在数据库中。当我显示图像必须是圆形的。如何在没有 cszs 的情况下调整图像大小？

# c# - 必须声明标量变量“@userid”

> ID：14722804
> 
> 赞同：0
> 
> 时间：2013-02-06T06:18:26.070
> 
> 标签：c#, asp.net, sql-server-2008

我正进入（状态：

> 必须声明标量变量“@userid”。

在

```
if (HttpContext.Current.Items["AlbumID"] != null)
{
    Page.DataBind();
    ddlAlbum.Items.FindByValue(HttpContext.Current.Items["AlbumID"].ToString()).Selected = true;
} 
```

我认为这与以下内容有关：

```
 <asp:SqlDataSource ID="SqlDataSource1" runat="server" 
                    ConnectionString="<%$ ConnectionStrings:SLIITComDBConnectionString %>" 
                    SelectCommand="SELECT [AlbumId], [AlbumName] FROM [Album]  WHERE (userid=@userid) ">
                   <SelectParameters>
                <asp:QueryStringParameter DefaultValue="1" Name="AlbumID" 
                    QueryStringField="AlbumID" Type="Int32" />
            </SelectParameters>
 </asp:SqlDataSource> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:24:02.363

在您的 SQL 查询中，您使用未声明的 @userid var！

```
SELECT [AlbumId], [AlbumName] FROM [Album]  WHERE (userid=@userid) 
```

有关您的问题的大量信息
[http://msdn.microsoft.com/en-us/library/z72eefad%28v=vs.100%29.aspx](http://msdn.microsoft.com/en-us/library/z72eefad%28v=vs.100%29.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:26:04.690

通常，此错误意味着您正在调用的语句或存储过程需要一个名为 的参数`@userid`，而您没有提供它。也许你拼错了参数，或者你认为有两个参数并且只提供了一个参数。但背后的含义非常清楚。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:25:57.923

您的查询显然需要`@userid`

```
SELECT [AlbumId], [AlbumName] FROM [Album]  WHERE (userid=@userid) 
```

你没有在你的`<SelectParameters>`
Set 中提供这个，你应该很高兴。

# android - 将 PDF 文件和图像文件从 Dropbox 获取到 Android 手机？

> ID：14722805
> 
> 赞同：0
> 
> 时间：2013-02-06T06:18:40.903
> 
> 标签：android, dropbox, dropbox-api

是否可以在我的 Android 应用程序中从 Dropbox 获取 pdf 和图像文件到 Listview？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T16:07:16.343

是的，您可以使用适用于 Dropbox API 的[Android SDK](https://www.dropbox.com/developers/reference/sdk)来获取文件列表，包括 PDF 和图像，以显示在您的列表视图中：

[https://www.dropbox.com/developers/reference/api#metadata](https://www.dropbox.com/developers/reference/api#metadata) [https://www.dropbox.com/static/developers/dropbox-android-sdk-1.5.3-docs/com/dropbox/client2/DropboxAPI .html#metadata(java.lang.String](https://www.dropbox.com/static/developers/dropbox-android-sdk-1.5.3-docs/com/dropbox/client2/DropboxAPI.html#metadata(java.lang.String) , int, java.lang.String, boolean, java.lang.String)

您还可以根据需要下载文件：

[https://www.dropbox.com/developers/reference/api#files-GET](https://www.dropbox.com/developers/reference/api#files-GET) [https://www.dropbox.com/static/developers/dropbox-android-sdk-1.5.3-docs/com/dropbox/client2 /DropboxAPI.html#getFile(java.lang.String](https://www.dropbox.com/static/developers/dropbox-android-sdk-1.5.3-docs/com/dropbox/client2/DropboxAPI.html#getFile(java.lang.String) , java.lang.String, java.io.OutputStream, com.dropbox.client2.ProgressListener) [https://www.dropbox.com/static/developers/dropbox-android -sdk-1.5.3-docs/com/dropbox/client2/DropboxAPI.html#getFileStream(java.lang.String](https://www.dropbox.com/static/developers/dropbox-android-sdk-1.5.3-docs/com/dropbox/client2/DropboxAPI.html#getFileStream(java.lang.String) , java.lang.String)

您还可以使用搜索调用按特定文件扩展名搜索文件：

[https://www.dropbox.com/developers/reference/api#search](https://www.dropbox.com/developers/reference/api#search) [https://www.dropbox.com/static/developers/dropbox-android-sdk-1.5.3-docs/com/dropbox/client2/DropboxAPI .html#search(java.lang.String](https://www.dropbox.com/static/developers/dropbox-android-sdk-1.5.3-docs/com/dropbox/client2/DropboxAPI.html#search(java.lang.String) , java.lang.String, int, boolean)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:30:05.797

可以，用手机版的PFD突然可以啊，可以找一些软件商城，有免费的 [http://www.cusabio.com/bio1-B-B2M-7-0.html](http://www.cusabio.com/bio1-B-B2M-7-0.html)

# c# - 用于类库的单独 dll

> ID：14722807
> 
> 赞同：-3
> 
> 时间：2013-02-06T06:18:49.580
> 
> 标签：c#, .net

我有一个包含多个 cs 文件的类库，当我构建它时，它会生成一个我在项目中引用的 dll 文件。当我只更改一个cs文件时没关系，假设我在多个文件中进行了更改，但希望只获得dll中的特定更改而不是那些不必要的cs文件。

作为一种选择

1.  我们可以创建单独的类库，因此为每个类创建单独的 dll，但我猜这是最后一个选项

2.  使用预处理器指令，如

    ```
    #define VC7
    //...
    #if debug
        Console.Writeline("Debug build");
    #elif VC7
        Console.Writeline("Visual Studio 7");
    #endif 
    ```

但我们也需要在设计师中拥有这个东西

那么最好的解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-27T08:09:17.927

答案是提交整个类库，而不仅仅是项目 bin 中的 dll。

我的错是我只提交了 dll，所以每当我提交 dll 时，我都会从 .cs 提交已批准和未批准的更改，因此从该更改中更新的人会遇到错误，而现在每个人都更新类库并重建它，甚至忽略那里的错误 cs 文件并使用它。

这有点傻:-)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:37:53.633

TFS（或其他版本控制系统）可以做到这一点。将 TFS 设置为构建服务器，并且只签入准备好编译的文件。有很多***方法***可以设置它。做研究。

从阅读`continuous build`和/或开始`continuous integration`，然后阅读各种版本控制系统如何实现它。

# c# - SQL 到 LINQ 的转换 - 分组依据

> ID：14722812
> 
> 赞同：0
> 
> 时间：2013-02-06T06:19:36.003
> 
> 标签：c#, linq

我使用 LinQPad 和 AdventureWorks LT DB 来学习 LINQ 查询。

我想将下面的 SQL 转换为 LINQ，它是成功的，并且得到了我想要的结果。

```
 SELECT SalesOrderID, SUM(OrderQty) as TotalQty, SUM(UnitPrice) as TotalPrice 
 FROM SalesLT.SalesOrderDetail detail
 WHERE detail.SalesOrderID = '71920'
 GROUP BY  detail.SalesOrderID; 
```

![SQL 结果集](../Images/ccef8e83f11faf2fb40e0fd3148398e8.png)

LINQ 查询替代上述。

```
 from detail in SalesOrderDetails
 where detail.SalesOrderID.Equals(71920) 
 group detail by detail.SalesOrderID into g
 select new { 
    SalesOrderID = g.Select(item =>item.SalesOrderID).Distinct().First(),        /*Distinct() : Enumerable<Int32>, First() Int32 */
    TotalQty =  g.Select(item =>Convert.ToDouble(item.OrderQty)).Sum(),
    TotalPrice = g.Select(item =>item.UnitPrice).Sum()
} 
```

![LINQ 结果](../Images/fd5f34ddf4a695bcbdc06ae462f62298.png)

但我知道这是必要的使用

```
 Select new { ... } 
```

创造另一个`struct`？是否可以缩短语法？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:44:23.530

一些元素可以缩短，在你的`select new`

我给你方法语法，但是选择部分的内容是一样的。

```
SalesOrderDetails.Where(sod => sod.SalesOrderID == 71920)
                 .GroupBy(sod => sod.salesOrderID)
                 .Select(g => new {
                               SalesOrderId = g.Key,
                               TotalQty = g.Sum(i => Convert.ToDouble(i.OrderQty)),
                               TotalPrice = g.Sum(i => i.UnitPrice)
                              }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T06:44:32.660

短一点

```
 from detail in SalesOrderDetails
 where detail.SalesOrderID.Equals(71920) 
 group detail by detail.SalesOrderID into g
 select new { 
    SalesOrderID = g.Key,    
    TotalQty =  g.Sum(item =>Convert.ToDouble(item.OrderQty)),
    TotalPrice = g.Sum(item =>item.UnitPrice)
} 
```

这`Distinct`似乎没有必要。另外，如果您指定`SalesOrderId`，为什么要再次选择它？

# php - MySQL 没有在 Ajax 调用中删除一行

> ID：14722817
> 
> 赞同：0
> 
> 时间：2013-02-06T06:19:53.007
> 
> 标签：php, mysql, jquery

我的删除按钮：

```
$('#taglist li #delete').bind('click', function(){
        pic_id = $(this).parent().attr("rel");
        $.post('savetag.php', {"type":"remove", pic_id:pic_id}, function(data){
            viewtag();
          });
    }); 
```

保存标签.php

```
if ($_POST['type'] == "remove")
{
    $pic_id = $_POST['pic_id'];

    $sql = "DELETE FROM image_tag WHERE `pic_id` = $pic_id";
    mysql_query($sql);
} 
```

这是查看标签的脚本 viewtag.php：

```
$sql = "SELECT * FROM image_tag ORDER BY `pic_id`";
$qry = mysql_query($sql);
$rs = mysql_fetch_array($qry);

if ($rs){
  do{
    echo '<li rel="'.$rs['pic_id'].'"><a>'.$rs['name'].'</a> <a class = "delete">Delete</a></li>';
  }while($rs = mysql_fetch_array($qry));
} 
```

这是允许 viewtag.php 进入我的 index.php 的函数：

```
viewtag();

    function viewtag()
    {
     $.post('viewtag.php', function(data){
            $('#taglist ol').html(data);
          });
    } 
```

那么问题是什么，为什么不删除表呢？锚标记也不起作用（从 viewtag.php 回显的锚标记）。问题是什么？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:28:21.750

我能看到的是..您的`<a>`标签不起作用，因为标签是动态添加的，因此您需要使用`on`委托事件..并注意您`<a>`有一个类，但您的选择器是 id..`.delete`用作选择器

```
$('#taglist').on('click','a.delete', function(){  //u can use #taglist li a.delete too
    pic_id = $(this).parent().attr("rel");
    $.post('savetag.php', {"type":"remove", pic_id:pic_id}, function(data){
        viewtag();
      });
}); 
```

如果您想了解更多关于活动的信息，可以通过[链接](http://jq4you.blogspot.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:27:09.180

首先，您正在选择 ID，但您有一个类：

$('#taglist li #delete').

应该：

```
$('.delete').bind('click', function(e){
        pic_id = $(this).parent('li').attr("rel");
        $.post('savetag.php', {"type":"remove", pic_id:pic_id}, function(data){
            viewtag();
          });
 e.preventDefault();
}); 
```

您的链接将不起作用，因为它们没有 href 标签，那么浏览器如何知道正确的锚点？

```
 <?php while($rs = mysql_fetch_array($qry)): ?>
     <li rel="<?php echo $rs['pic_id'];?>"><a href="#<?php echo $rs['name'];?>"><?php echo $rs['name'];?></a> <a class="delete" href="#">Delete</a></li>
  <?php endwhile;?> 
```

另外，我怀疑他的 viewtag() 函数也存在问题，但是您没有发布相关的 html，所以我对此无能为力

# android - Ormlite ObjectCache 返回旧数据

> ID：14722818
> 
> 赞同：2
> 
> 时间：2013-02-06T06:19:56.437
> 
> 标签：android, ormlite

我在 Android 上使用 Ormlite 并启用了 ObjectCache，在使用 UpdateBuilder 和 ColumnExpression 更新表后，我得到了旧数据。我已经通读了文档，它没有警告不要在启用缓存的情况下使用 UpdateBuilder。

设置表最多应该只有 1-5 行。updateColumnExpression 似乎是一种只允许其中一行为真的简单方法。

这是预期的行为吗？

```
public void setActiveSetting(String id)
{
    try {
        UpdateBuilder<Settings, Integer> updateBuilder2 = getHelper().getSettingsDao().updateBuilder();
        updateBuilder2.updateColumnExpression("active", "id = " + id );
        updateBuilder2.update();
    } catch (SQLException e){
        e.printStackTrace();
    }
} 
```

这是返回过时数据的调用：

```
public List<Settings> getSettings() 
{
    List<Settings> settings = null;
    try  {
        settings = getHelper().getSettingsDao().queryForAll();
    } catch (SQLException e) {
        e.printStackTrace();
    }
    return settings;
} 
```

以及设置DAO：

```
public Dao<Settings, Integer> getSettingsDao() 
{
    if (null == settingsDao) {
        try {
            settingsDao = getDao(Settings.class);
            settingsDao.setObjectCache(true);
        } catch (java.sql.SQLException e) {
            e.printStackTrace();
        }
    }
    return settingsDao;
} 
```

禁用 ObjectCache 确实会返回正确的数据，但是这些数据被非常频繁地获取，所以我想保留它。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T16:01:03.993

> 这是预期的行为吗？

不幸的是，是的。如果您使用更新了对象，`dao.update(...);`那么缓存将知道需要刷新该对象。通过使用 对`UpdateBuilder`表进行大量更改，缓存无法知道哪些对象受到影响。

您需要在调用`UpdateBuilder`完成后清除缓存。

# c++ - 犯一个愚蠢的记忆错误

> ID：14722819
> 
> 赞同：0
> 
> 时间：2013-02-06T06:20:00.413
> 
> 标签：c++, memory-leaks

我已经有一段时间没有使用 C++ 了，而且我似乎正在犯我确信是一个非常愚蠢的错误。有人可以告诉我为什么

```
#include <cstdio>
#include <cstdlib>
#include <iostream>

using namespace std;

int main() {
        double* atoms;

        atoms = (double*)malloc(10 * 3*sizeof(double));
        for (int i = 0; i < 10; i++) {
                for (int j = 0; j < 3; j++) {
                        atoms[i*10 + j] = 2.0;
                }
        }

        for (int i = 0; i < 10; i++) {
                for (int j = 0; j < 3; j++) {
                        cout << atoms[i*10 + j] << endl;
                }
                cout << endl;
        }

        free(atoms);

        return 0;
} 
```

正在打印

```
2
2
2

2
2
2

2
2
2

6.94528e-310
6.94528e-310
0

0
4.24399e-314
4.24399e-314

2
2
2

2
2
2

2
2
2

2
2
2

2
2
2 
```

而不是全2？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:25:18.963

```
 for (int i = 0; i < 10; i++) {
            for (int j = 0; j < 3; j++) {
                    atoms[i*10 + j] = 2.0; 
```

我猜，你想写：

```
 for (int i = 0; i < 10; i++) {
            for (int j = 0; j < 3; j++) {
                    atoms[j*10 + i] = 2.0; 
```

你在两个循环中都有同样的错误，确切地说，我认为这很明显:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:27:03.597

`malloc(10 * 3*sizeof(double))`为 30 双打分配足够的内存。

循环：

```
 for (int i = 0; i < 10; i++) {
            for (int j = 0; j < 3; j++) {
                    atoms[i*10 + j] = 2.0;
            }
    } 
```

访问远远超过最后分配的元素（这将是`atoms[29]`）。例如，`i == 3`您何时`j == 0`访问`atoms[30]`. `i >= 3`超出范围的任何访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:28:50.103

错误存在于您的周期内（两者）：

```
for (int i = 0; i < 10; i++) {
      for (int j = 0; j < 3; j++) {
             atoms[i*10 + j] = 2.0;// <-- wrong index computation
      }
} 
```

在您的两个周期中，它应该是：

```
atoms[i*3 + j] = 2.0; 
```

反而。只需输出`i*10 + j`每次迭代，您就会看到自己的错误。您正在尝试按以下顺序访问元素：

```
0 1 2 10 11 12 20 21 22 30 31 32 40 41 42 50 51 52 60 61 62 70 71 72 80 81 82 90 91 92 2 
```

# jquery - 在 span 内查找最近的 id

> ID：14722821
> 
> 赞同：0
> 
> 时间：2013-02-06T06:20:01.837
> 
> 标签：jquery

我在跨度内有两个图像。我需要每个图像点击的 id1 值。

```
<span class="deleteid">
  @Html.ActionLink(item.categoryModel.catName, "Show", new { id1=item.itemId})
  <img id="iconItemEdit" src="@Url.Content("~/Content/MyIcons/ee.png")" 
   style="width: 13px; height: 13px;"/>

  <img id= "iconDelete" src="@Url.Content("~/Content/MyIcons/delete.png")" 
    alt="delete" style="width: 13px; height: 13px;"/>
</span> 
```

对于我使用的第一张图片

```
$('#iconItemEdit').live('click', function () {
    var it = $(this).prev().attr('id1'); 
```

它工作正常。我在查找第二张图片的 ID 时遇到问题。我尝试使用相同的代码，但它不起作用。

```
$('#iconDelete').live('click', function () {
    var it = $(this).prev().attr('id1');
    alert(it); 
```

而是返回`undefined`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:29:14.560

我怀疑你会在这里遇到两个问题。首先，您将获得“id1”属性，而不是“id”。这可能是您想要的，但“id”更常见。

最初的问题很可能只是你试图在没有先前兄弟的情况下获取元素的先前兄弟。有关示例，请参见此 JSFiddle：http: [//jsfiddle.net/Knjfh/](http://jsfiddle.net/Knjfh/)

```
$(function(){
    var sID = $("#three").prev().attr("id");
    $("body").append("<p>The element previous to #three has the id '" + sID + "'</p>");
    sID = $("#one").prev().attr("id");
    $("body").append("<p>The element previous to #one has the id '" + sID + "'</p>");
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:28:29.557

尝试这个：

```
 var Id = $(this).find('span.deleteid').data('id'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:36:25.783

我不完全清楚你想要什么，但试试这个：

```
$('#iconDelete').live('click', function () {
    var it = $(this).closest('span').find('a').attr('id1');
    alert(it);
}); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-06T06:24:24.067

尝试：

```
$('#iconDelete').live('click', function () {
    var it = $(this).closest('span').attr('id1');
    alert(it);
}); 
```

# android - 所有项目中的 TextView 向右移动

> ID：14722824
> 
> 赞同：0
> 
> 时间：2013-02-06T06:20:07.777
> 
> 标签：android, button, textview, center

这很容易成为我遇到过的最奇怪的问题。

所以今天，我创建了一个新的 Android 项目。第一个布局 xml 只有一个 textview 具有以下属性（它在相对布局内）：

```
<TextView
    android:id="@+id/textView1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="124dp"
    android:background="#80ffffff"
    android:gravity="center_vertical"
    android:text="Welcome"
    android:textSize="48dp"
    android:textStyle="bold" /> 
```

我想要的是有一个在其中心有文本的文本视图。但是文本从中心开始，然后从右侧的屏幕塔中消失。

所以我想我一定是做错了什么。我进入了我的一个较旧的项目（它也在 eclipse 中打开）。我在那里打开了一个 XML，令人震惊的是，那里的所有文本也都向左移动了（它从中心开始，而不是实际居中文本）。昨天还好好的。这是按钮：

```
<Button
    android:id="@+id/gettingstarted"
    android:layout_width="210dp"
    android:layout_height="wrap_content"
    android:layout_alignLeft="@+id/login"
    android:layout_below="@+id/login"
    android:layout_marginTop="10dp"
    android:text="Getting Started"
    android:textColor="#ffffff" /> 
```

我不知道发生了什么。为什么我的所有项目中的文本不再以按钮为中心？我现在处于一个非常艰难的境地。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:23:59.833

对于您的第一个问题，请尝试

```
android:gravity="center_vertical|center" 
```

但是对于您所有项目中的文本视图，这是一个普遍的问题，可能是因为您的应用程序主题或项目样式发生了变化

# objective-c - 如何检查 ftp URL 是否正确且可访问？

> ID：14722826
> 
> 赞同：0
> 
> 时间：2013-02-06T06:20:33.570
> 
> 标签：objective-c, cocoa-touch, ftp, afnetworking

我正在为 iPad 编写一个应用程序，它必须从 FTP 服务器上传/下载文件。那么如何检查用户输入的 FTP URL 是否正确且可访问？我正在使用 AFNetworking 下载文件，所以如果我放入`UIAlertView`它`setCompletionBlockWithSuccess: failure^`会在很长一段时间后执行。有任何想法吗？感谢帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T01:55:54.120

好的，所以我发现可能不是最好的解决方案，但实际上效果很好：

```
- (BOOL) isFTPReachable {

NSURL *url = [NSURL URLWithString:@"ftp://anonymous@ftpserver"];
NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
[request setHTTPMethod:@"HEAD"];
[request setTimeoutInterval:10];
NSURLResponse *response;
NSError *error;
NSData *myData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];
    if (myData) {
        return true;

    } else {
        return false;

    }

}

- (void) startSync {

if ([self isFTPReachable]) {

    [self startDownload];
}
else {
    UIAlertView *alarma = [[UIAlertView alloc] initWithTitle:@"Connection error" message:nil delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil, nil];
    [alarma show];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T07:58:49.760

看看[这个](https://github.com/tonymillion/Reachability)例子。我在我的项目中使用它，它非常快。

或者看看苹果的示例[项目](https://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)。

希望能帮助到你！

# excel-formula - Excel中的字符0

> ID：14722832
> 
> 赞同：0
> 
> 时间：2013-02-06T06:21:01.253
> 
> 标签：excel-formula

char(number) 的文档指出：

> number：1 到 255 之间的数字...

`=Char(1)`并且`=Char(255)`有效，是否有任何解决方法可以解决，`Char(0)`或者由于零终止字符串规则而无法解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:33:55.793

我强烈怀疑 Excel 在内部使用以零结尾的字符串。

包含空值的 VBA 函数返回的字符串在用于 Excel 公式时会被截断为空值。

# asp.net-mvc-3 - 无法将模型绑定到控制器，MVC3

> ID：14722835
> 
> 赞同：0
> 
> 时间：2013-02-06T06:21:17.743
> 
> 标签：asp.net-mvc-3

我有 2 个视图和 1 个 EditorTemplate

第一个视图是 Cart.cshtml 视图，这个视图有一个模型 (CartModel) 在这个视图内部有一个对第二个视图的调用，使用：

```
@Html.Partial("OrderSummary", Model.CartSummaryModel) 
```

在 OrderSummary.cshtml 视图里面我有这个

```
@Html.EditorFor(m => m.OrderItems) 
```

在EditorTemplate（称为OrderItemModel）里面我有

```
@Html.DropDownListFor(m => m.SelectedQuantity, Model.QuantityList) 
```

问题是当在最顶层视图 (Cart.cshtml) 上发布帖子时，模型未绑定在控制器中，“CartSummaryModel”为空。交换到 FormCollection 时有 2 个键，它们是：

```
OrderItems[0].SelectedQuantity
OrderItems[1].SelectedQuantity 
```

如何将表单集合数据绑定到 Controller 的操作方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T07:19:00.687

这是因为部分：

```
@Html.Partial("OrderSummary", Model.CartSummaryModel) 
```

在这里，您*丢失*了`CartSummaryModel`输入字段名称中所需的前缀。所以不要使用部分使用编辑器模板。

继续并将其移动`OrderSummary.cshtml`到`EditorTemplates/OrderSummary.cshtml`然后在您的视图中替换：

```
@Html.Partial("OrderSummary", Model.CartSummaryModel) 
```

和：

```
@Html.EditorFor(x => x.CartSummaryModel, "OrderSummary") 
```

如果`CartSummaryModel`属性的类型是`OrderSummary`您甚至不需要指定编辑器模板的名称，因为 ASP.NET MVC 会按照约定找到它：

```
@Html.EditorFor(x => x.CartSummaryModel) 
```

现在您可以开始了，您将看到发送到服务器的正确密钥：

```
CartSummaryModel.OrderItems[0].SelectedQuantity
CartSummaryModel.OrderItems[1].SelectedQuantity 
```

# list - 为什么使用 elisp 对列表进行更改？

> ID：14722836
> 
> 赞同：3
> 
> 时间：2013-02-06T06:21:21.350
> 
> 标签：list, emacs, elisp, cdr

我有一个关于 elisp 的问题。例如：

```
(setq trees '(maple oak pine birch))
      -> (maple oak pine birch)
(setcdr (nthcdr 2 trees) nil)
      -> nil
trees
      -> (maple oak pine) 
```

我认为`(nthcdr 2 trees)`返回一个新列表 -`(pine birch)`并将列表放入`setcdr`表达式中，这不应该改变`trees`. 谁能给我解释一下？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:35:17.597

如果您阅读 的文档字符串`nthcdr`，您会发现它只是返回一个指向“nth”“cdr”的指针——它是指向原始列表的指针。因此，您正在修改原始列表。

文档字符串：

```
Take cdr N times on LIST, return the result. 
```

*编辑*哇，“指针”似乎引起了混乱。是的，Lisp 有指针。

只需查看用于解释 lisp 中列表结构的方框图（这里是[Emacs 的文档](http://www.gnu.org/software/emacs/manual/html_node/elisp/Box-Diagrams.html)）：

```
 --- ---      --- ---      --- ---
    |   |   |--> |   |   |--> |   |   |--> nil
     --- ---      --- ---      --- ---
      |            |            |
      |            |            |
       --> rose     --> violet   --> buttercup 
```

看看所有这些箭头，它们几乎看起来像是在……指向东西。当您获取`cdr`列表时，您会得到第二个框所指的内容（也称为“指向”），无论是原子、字符串还是另一个 cons 单元格。哎呀，在维基百科的[CAR 和 CDR](http://en.wikipedia.org/wiki/CAR_and_CDR)条目中查看。

如果将其称为参考更好，请使用该术语。

`cdr`当然不会**返回**它所指内容的**副本，这让**[RNAer](https://stackoverflow.com/users/489564/rnaer)感到困惑。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T10:25:42.067

*R：“看，在天空中！拉姆达信号！一个公民有麻烦拉姆达人！”*

*LM：“我明白了！而且我有他们需要的盒子艺术。”*

* * *

在 Lisps 中，列表是单链接的数据结构，由称为*cons 单元*的元素组成。这些细胞中的每一个都是一个结构，由

1.  指向值的指针
2.  指向下一个单元格的指针

由于历史原因，它们分别被称为*car*和*cdr 。*这是代表 3 元素列表的传统盒子艺术：

```
Structure:    (car . cdr -)--->(car . cdr -)--->(car . cdr)
                |                |                |      |
                v                v                v      v
Values:         1                2                3     nil 
```

`car`和函数允许您使用`cdr`这种低抽象级别的列表，并返回相应单元格的值。因此，`car`返回单元格的“值”，并`cdr`取消对列表其余部分的引用。`nthcdr`是`cdr`为了方便起见的概括。

返回的值`cdr`是对原始数据结构的引用，该结构在此级别是可变的。如果你改变了一个 cons-cell 的 cdr 的值，你就改变了列表的底层结构。

鉴于：

```
 let A = '(1 2)    ~= (1 . -)-->(2 . nil)

 let B = '(3 4)    ~= (3 . -)-->(4 . nil) 
```

将 cdr 设置`(cdr A)`为 B 将破坏性地连接 A 和 B 使得 A 现在是以下结构：

```
 A                   B     
 (1 . -)-->(2 . -)-->(3 . -)-->(4 . nil) 
```

正如我们所展示的，`nil`一个单元格的 cdr 中的值代表列表的结尾——没有什么可以遍历的了。如果我们将 A 的 cdr 设置为`nil`，我们对列表进行 lobotomise，使得 A 现在

```
A                  
(1 . nil)  <- [Not pointing to anything - the rest of the list shall go wanting] 
```

这几乎就是你所做的——你已经使用低级函数改变了底层数据结构。:) 通过将单元格的其中一个 cdrs 设置为`nil`，您已将列表的结尾剪掉了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T10:24:57.843

这被称为“突变”。除了 Haskell 之外，它无处不在。

有一些函数可以改变数据结构和复制它的函数。

# sql - 更新员工表

> ID：14722839
> 
> 赞同：2
> 
> 时间：2013-02-06T06:21:45.263
> 
> 标签：sql, oracle

伙计们，我有以下问题：

对工资低于经理工资 50% 的员工加薪 15%。使用游标、循环和更新编写 PL/SQL 过程。

程序头 创建或替换程序`inc_salary`是：

. 如果他们加薪后的工资超过其经理工资的 50%，则例外。

实际上，我们可以直接这样做：

```
update emp e
set e.salary+=e.salary*0.15
where e.salary<(select e.mgr from emp e, group by e.mgr) 
```

这是这张桌子的图片： ![在此处输入图像描述](../Images/3cbf786b3a7f97d5776822d1db80b7f5.png)

但我不明白如何使用该程序。如果我这样声明，创建或替换过程`inc_salary`，那么它的参数应该是什么？我们当然可以使用循环，比如

```
declare
for r in (select * from emp e) loop
update  emp e
set r.salary+=r.salary*0.15;
where r.salary<r.mgr
exception
if r.salary >r.mgr*1.15  then
dbms.output_putline(' it can't increase');
end loop;
end; 
```

但是如何将它们结合在一起呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:31:58.043

为什么需要 PL/SQL 过程？一个简单的查询就可以完成这项工作！

```
UPDATE emp
SET salary = salary * 1.15
WHERE empno IN (
    SELECT e.empno
      FROM emp e
      JOIN emp m ON e.mgr = m.empno
     WHERE e.salary < m.salary * 0.5
) 
```

而已！

但是，如果您需要使用某个程序，您必须自己决定您到底想用它做什么。

每个过程都有一组形式参数，甚至可以是一个空集。由您决定将什么传递给程序。对于这些情况，请咨询您的经理或架构师。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-11T23:34:38.673

```
declare
prec number;
 procedure inc_salary(prcin number) 
is
cursor cl is * from employees;
msal number(8,2);
mid number(6);
begin
for r in cl loop
  mid := nvl(r.manager_id, r.employee_id);
  select salary into msal from employees where employee_id = mid;
  if r.salary < (msal * 0.5) then
     update employees set
     salary = salary * prc
     where employee_id = r.employee_id;
     end if;
   end loop;
end inc_salary;
 begin 
 prec := 1.5;
inc_salary(prec);
end ; 
```

# javascript - 在Javascript多维数组中设置数据

> ID：14722843
> 
> 赞同：0
> 
> 时间：2013-02-06T06:22:06.263
> 
> 标签：javascript, jquery, html

我在 javascript 中创建了这个多维数组。

```
var arr = [];
arr[0] = [];
arr[0][0] = [];
arr[0][0][0] = [];
arr[0][0][0][0] = []; 
```

并使用此代码为

```
arr[0] = 1;
arr[0][0] = 2;
arr[0][0][0] = 3;
arr[0][0][0][0] = 4;
arr[0][0][0][0][0] = 5;
alert("arr ==> " + arr); 
```

但它只给出输出`1`，但所需的输出是`1,2,3,4,5`

当我这样做时`alert(arr[0][0]);`，所需的输出是`2`但它给出了`undefined`.

感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:24:10.413

您正在覆盖您的价值观：

```
arr[0] = [];
...
arr[0] = 1; // this also blows away arr[0][0], arr[0][0][0], etc 
```

所以...

```
arr[0][0] = 1;
==
1[0] = 1; 
```

你*到底*想做什么？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:45:50.443

```
var arr = [];
arr[4] = [];

arr[0] = 1;
arr[1] = 2;
arr[2] = 3;
arr[3] = 4;
arr[4] = 5;

alert("arr ==> " + arr ); 
```

我希望这能解决你的问题。

警报为

```
arr ==> 1,2,3,4,5 
```

# java - 休眠更新查询

> ID：14722844
> 
> 赞同：0
> 
> 时间：2013-02-06T06:22:06.110
> 
> 标签：java, sql, hibernate, sql-update, dao

我有一个主键（自动增量）和三列的表，除了主键列

S.No EmpId EmpName 月薪

```
1   1700   xxxx    Jan   17000
2   1701   yyyy    Jan   70000
3   1700   xxxx    Feb   16750
4   1702   yyyy    Jan   70000
5   1700   xxxx    Mar   17000
6   1700   xxxx    April 16000 
```

此表包含有关员工姓名及其月薪详细信息的详细信息，我需要更新员工 xxx 在 1 月的薪水。

如何使用 session.saveorupdate 方法在休眠中执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T07:55:30.097

假设您正在使用持久的“员工”对象，我认为这样的事情应该可以解决。

```
Transaction t = session.beginTransaction();
employee.setEmpId(id);
employee.setEmpName(name);
employee.setSalary(newSalary);
...
session.saveOrUpdate(employee);
System.out.println("Successfully updated");
t.commit(); 
```

# c# - 加入操作后视频未完全播放

> ID：14722849
> 
> 赞同：0
> 
> 时间：2013-02-06T06:22:31.193
> 
> 标签：c#, winforms, video

以下是加入两个视频的代码。当我运行该程序时，它会加入两个视频并将加入的视频放在一个文件夹中。加入的视频大小应该是正确的。

但是当我播放视频时，它会在 WMP 中播放视频的第一部分，但是当我在 VLC 中播放视频时，它会播放视频的第二部分。

```
public void JoiningVideo()
{
    string j = @"D:/test2";

    string outputpath = @"D:/test3/beforeEventab1.wmv";
    DirectoryInfo di = new DirectoryInfo(j);
    FileStream fs;
    fs = new FileStream(outputpath, FileMode.Append);
    foreach (FileInfo fi in di.GetFiles(@"*.wmv"))
    {
        byte[] bytesource = System.IO.File.ReadAllBytes(fi.FullName);
        fs.Write(bytesource, 0, bytesource.Length);
    }
    fs.Close();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:48:08.617

您知道每个视频文件都以“[标题](http://en.wikipedia.org/wiki/Header_%28computing%29)”开头吗？

文件的这一部分包含有关长度等的信息。
如果您想加入单独的视频文件，您必须将标题合并到一个包含有关两个（加入）部分的信息的新标题中，并确保两个视频都适合每个其他。(*)
否则视频不是有效文件。

由于 WMP 和 VLC 的解码器不同，一个识别第一个文件，另一个识别第二个文件。
你可以很幸运，这些程序甚至播放了这个“损坏”的文件！;)

只需向搜索引擎询问`merge wmv`适合您的解决方案！

(*)
合并他们需要的两个视频

*   相同的格式（例如分辨率、帧率、比特率）
    如果这不适用，则必须至少转换其中一个以匹配另一个视频
*   视频必须“粘合”在一起，将一个数据附加到另一个是不够的。
    每个视频都以标题开头。必须更改此标头以包含有关新（加入）视频的信息。
    也不能简单地附加原始图像数据。每张图片都像是一块拼图，适合视频中的下一张图片。过渡就像一个必须创建的新拼图。甚至可能需要更改/重新排序整个第二个文件以获得有效的过渡。

我不是专家，但至少我可以告诉你，这个过程对于每种类型的视频（MPEG、WMV、..）都是不同的。最好的方法是为此目的使用现有的库。

# ios - 如何通过 iOS 在 Twitter 上发布多个帖子？

> ID：14722854
> 
> 赞同：0
> 
> 时间：2013-02-06T06:22:44.657
> 
> 标签：ios, twitter, http-status-code-403, twrequest

我试图在没有用户交互的情况下发布到 Twitter（因为这会迫使用户多次点击“发送”。）。

以下是我的代码：

```
- (void) postToTwitterUsingTWRequest: (NSDictionary*) appDictionary {

NSString *trackName = [appDictionary objectForKey:@"trackName"];
NSString *trackId = [[appDictionary objectForKey:@"trackId"] description];
NSString *artworkUrl512 = [appDictionary objectForKey:@"artworkUrl512"];

NSMutableString *requestUrlString = [NSMutableString new];
[requestUrlString appendFormat:@"http://itunes.apple.com/%@",[[NSLocale currentLocale] objectForKey:NSLocaleCountryCode]];
[requestUrlString appendFormat:@"/app/%@", trackName];
[requestUrlString appendFormat:@"/id%@?mt=8", trackId];

ACAccountStore *account = [[ACAccountStore alloc] init];
ACAccountType *accountType = [account accountTypeWithAccountTypeIdentifier:
                              ACAccountTypeIdentifierTwitter];

[account requestAccessToAccountsWithType:accountType options:nil completion:^(BOOL granted, NSError *error) {

    if (granted == YES) {

        NSArray *arrayOfAccounts = [account
                                    accountsWithAccountType:accountType];

        if ([arrayOfAccounts count] > 0)
        {
            ACAccount *twitterAccount = [arrayOfAccounts lastObject];

            TWRequest *postRequest = [[TWRequest alloc] initWithURL:[NSURL URLWithString:@"https://upload.twitter.com/1/statuses/update_with_media.json"] parameters:nil requestMethod:TWRequestMethodPOST];

            //NSData *tempData = [NSData dataWithContentsOfURL:[NSURL URLWithString: @"http://eborkdev.com/wp-content/uploads/2012/05/logo.png"]];
            NSData *tempData = [NSData dataWithContentsOfURL:[NSURL URLWithString: artworkUrl512]];
            [postRequest addMultiPartData:tempData withName:@"media" type:@"image/png"];

            tempData = [[NSString stringWithFormat:@"%@ was recommended using Tell A Friend (http://link_to_tell_a_friend.com). \n %@", trackName, requestUrlString] dataUsingEncoding:NSUTF8StringEncoding];
            [postRequest addMultiPartData:tempData withName:@"status" type:@"text/plain"];

            [postRequest setAccount:twitterAccount];

            isPostingToTwitter = true;
            [postRequest performRequestWithHandler:^(NSData *responseData, NSHTTPURLResponse *urlResponse, NSError *error) {

                isPostingToTwitter = false;
                NSLog(@"Twitter HTTP response: %i", [urlResponse statusCode]);

            }];

        }

        else {

            UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Error"
                                                                message:@"No Twitter accounts found. Please ensure that there are accounts present, and try again."
                                                               delegate:nil
                                                      cancelButtonTitle:@"OK"
                                                      otherButtonTitles:nil];
            [alertView show];

        }

    }
}];
} 
```

我正在循环通过这个，以便像这样进行多次调用：

```
 for (NSDictionary* appDictionary in selectedApps) {

    [self postToTwitterUsingTWRequest:appDictionary];

} 
```

有时它允许我发送一个给我 200 statusCode 的邮件。但是当发送多个时，我得到 403 和 200，或者只是 403。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:25:56.603

尝试这个

AT.H

```
#import <Twitter/Twitter.h>
#import <Accounts/Accounts.h>

- (void)sendTweet
{
        Class tweeterClass = NSClassFromString(@"TWTweetComposeViewController");

        if(tweeterClass != nil) {   // check for Twitter integration
            if ([TWTweetComposeViewController canSendTweet])
            {
                // Create account store, followed by a twitter account identifier
                // At this point, twitter is the only account type available
                ACAccountStore *account = [[ACAccountStore alloc] init];
                ACAccountType *accountType = [account accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierTwitter];

                // Request access from the user to access their Twitter account
                [account requestAccessToAccountsWithType:accountType withCompletionHandler:^(BOOL granted, NSError *error)
                 {

                     // Did user allow us access?
                     if (granted == YES)
                     {
                         // Populate array with all available Twitter accounts
                         NSArray *arrayOfAccounts = [account accountsWithAccountType:accountType];

                         // Sanity check
                         if ([arrayOfAccounts count] > 0)
                         {
                             // Keep it simple, use the first account available
                             ACAccount *acct = [arrayOfAccounts objectAtIndex:0];

                             // Build a twitter request
                             TWRequest *postRequest = [[TWRequest alloc] initWithURL:
                                                   [NSURL URLWithString:@"http://api.twitter.com/1/statuses/update.json"]
                                                                      parameters:[NSDictionary dictionaryWithObject:str_tweet
                                                                                                             forKey:@"status"] requestMethod:TWRequestMethodPOST];

                             // Post the request
                             [postRequest setAccount:acct];

                             // Block handler to manage the response
                             [postRequest performRequestWithHandler:^(NSData *responseData, NSHTTPURLResponse *urlResponse, NSError *error)
                              {
                                  // NSString *response = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
                                  // NSLog(@"Twitter response: %@, HTTP response: %@", response, [urlResponse statusCode]);
                              }];
                         }
                     }
                 }];
            }
            else
            {
                NSLog(@"Unable to tweet!");
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:39:31.817

在继续之前，您应该阅读以下链接，您尝试做的事情称为垃圾邮件..

[https://dev.twitter.com/docs/error-codes-responses](https://dev.twitter.com/docs/error-codes-responses)

[https://support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following](https://support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following)

# jquery - 为什么 removeClass 在这种情况下不起作用？

> ID：14722856
> 
> 赞同：0
> 
> 时间：2013-02-06T06:22:54.733
> 
> 标签：jquery

我有以下内容：

**JS：**

```
 $('.home-toggle').click(function() {
    scroll();
    $('#content twelvecol > a').removeClass('selected-tile');
    $(this).addClass('selected-tile');
    $('.hidden').hide();
    $('.home-container').slideDown();
  });

  $('.why-toggle').click(function() {
    scroll();
    $('#content twelvecol > a').removeClass('selected-tile');
    $(this).addClass('selected-tile');
    $('.hidden').hide();
    $('.why-container').slideDown();
  }); 
```

**HTML：**

```
<div id="content" class="container" style="display:none;">
  <div class="row">
    <div class="twelvecol">
      <a href="#" class="home-toggle tile first">
        <img class="tile-top" src="images/tile1.png" alt="" />
        <img class="tile-bottom" src="images/tile1h.png" alt="" />
      </a>
      <a href="#" class="why-toggle tile">
        <img class="tile-top" src="images/tile2.png" alt="" />
        <img class="tile-bottom" src="images/tile2h.png" alt="" />
      </a>
      <a href="#" class="solutions-toggle tile last">
        <img class="tile-top" src="images/tile3.png" alt="" />
        <img class="tile-bottom" src="images/tile3h.png" alt="" />
      </a> 
```

因此，一旦我单击一个，就`.selected-tile`应该从另一个中删除。`.tile`

但由于某种原因，该类仍保留在其他图块中。

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T06:24:00.680

您的选择器中有错误

```
$('#content twelvecol > a') 
```

应该

```
$('#content .twelvecol > a')
//          ^ dot 
```

由于后者选择的是容器内的顶级子节点，其**类为**12，它本身位于 id 为 的元素内`content`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:33:09.950

不仅点不见了，而且`>`不见了。它应该是：

```
$('#content > .row> .twelvecol > a'); 
```

`>`仅适用于子元素，而不是孙子。

因此，如果您有：

```
<div id="a">
    <div class="b">
        <div class="c">
        </div>
    </div>
</div> 
```

`$('#a > .c')`不会引用预期的 div。它应该是`$('#a > .b > .c')`或`$('#a > div > .c')`相反。

在此处查看演示：http: [//jsfiddle.net/S2JV3/1/](http://jsfiddle.net/S2JV3/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T06:26:08.170

您的代码不正确。您的`twelvecol`课程缺少一个点。

修改以下部分，用于单击功能：

```
$('#content .twelvecol > a').removeClass('selected-tile'); 
```

# list - 将 Scala 列表转换为元组？

> ID：14722860
> 
> 赞同：91
> 
> 时间：2013-02-06T06:23:18.257
> 
> 标签：list, scala, tuples

如何将具有（例如）3 个元素的列表转换为大小为 3 的元组？

例如，假设我有`val x = List(1, 2, 3)`并且我想将其转换为`(1, 2, 3)`. 我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2014-02-14T00:09:25.537

您可以使用 scala 提取器和模式匹配（[链接](http://www.tutorialspoint.com/scala/scala_extractors.htm)）来做到这一点：

```
val x = List(1, 2, 3)

val t = x match {
  case List(a, b, c) => (a, b, c)
} 
```

返回一个元组

```
t: (Int, Int, Int) = (1,2,3) 
```

此外，如果不确定列表的大小，您可以使用通配符运算符

```
val t = x match {
  case List(a, b, c, _*) => (a, b, c)
} 
```

* * *

## 回答 #2

> 赞同：61
> 
> 时间：2013-02-06T06:31:37.567

您不能以类型安全的方式执行此操作。为什么？因为通常我们直到运行时才能知道列表的长度。但是元组的“长度”必须以它的类型编码，因此在编译时就知道了。例如，`(1,'a',true)`有类型`(Int, Char, Boolean)`，它是糖`Tuple3[Int, Char, Boolean]`。元组有这个限制的原因是它们需要能够处理非同质类型。

* * *

## 回答 #3

> 赞同：49
> 
> 时间：2013-02-06T11:29:23.967

使用[shapeless](https://github.com/milessabin/shapeless "无形的")的示例：

```
import shapeless._
import syntax.std.traversable._
val x = List(1, 2, 3)
val xHList = x.toHList[Int::Int::Int::HNil]
val t = xHList.get.tupled 
```

*注意：编译器需要一些类型信息来转换 HList 中的 List ，所以需要将类型信息传递给`toHList`方法*

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2013-11-11T07:51:05.967

[Shapeless 2.0](https://github.com/milessabin/shapeless/wiki/Feature-overview%3a-shapeless-2.0.0)改变了一些语法。这是使用 shapeless 的更新解决方案。

```
import shapeless._
import HList._
import syntax.std.traversable._

val x = List(1, 2, 3)
val y = x.toHList[Int::Int::Int::HNil]
val z = y.get.tupled 
```

主要问题是必须提前指定**.toHList的类型。**更一般地说，由于元组的数量有限，因此不同的解决方案可能会更好地服务于您的软件设计。

不过，如果您要静态创建一个列表，请考虑像这样的解决方案，也使用 shapeless。在这里，我们直接创建一个 HList，并且该类型在编译时可用。请记住，HList 具有 List 和 Tuple 类型的特征。即它可以具有不同类型的元素，例如元组，并且可以映射到其他操作（例如标准集合）中。HLists 需要一点时间来适应，所以如果你是新手，慢慢来。

```
scala> import shapeless._
import shapeless._

scala> import HList._
import HList._

scala>   val hlist = "z" :: 6 :: "b" :: true :: HNil
hlist: shapeless.::[String,shapeless.::[Int,shapeless.::[String,shapeless.::[Boolean,shapeless.HNil]]]] = z :: 6 :: b :: true :: HNil

scala>   val tup = hlist.tupled
tup: (String, Int, String, Boolean) = (z,6,b,true)

scala> tup
res0: (String, Int, String, Boolean) = (z,6,b,true) 
```

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2013-08-25T05:30:18.103

尽管简单且不适合任何长度的列表，但它是类型安全的，并且在大多数情况下都是答案：

```
val list = List('a','b')
val tuple = list(0) -> list(1)

val list = List('a','b','c')
val tuple = (list(0), list(1), list(2)) 
```

另一种可能性，当您不想命名列表或重复它时（我希望有人可以展示一种避免 Seq/head 部分的方法）：

```
val tuple = Seq(List('a','b')).map(tup => tup(0) -> tup(1)).head
val tuple = Seq(List('a','b','c')).map(tup => (tup(0), tup(1), tup(2))).head 
```

* * *

## 回答 #6

> 赞同：13
> 
> 时间：2015-01-29T03:38:08.327

FWIW，我想要一个元组来**初始化一些字段**，并想使用元组赋值的语法糖。例如：

```
val (c1, c2, c3) = listToTuple(myList) 
```

事实证明，还有用于分配列表内容的语法糖......

```
val c1 :: c2 :: c3 :: Nil = myList 
```

因此，如果您遇到相同的问题，则不需要元组。

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2017-05-31T17:44:53.257

如果您非常确定您的 list.size<23 使用它：

```
def listToTuple[A <: Object](list:List[A]):Product = {
  val class = Class.forName("scala.Tuple" + list.size)
  class.getConstructors.apply(0).newInstance(list:_*).asInstanceOf[Product]
}
listToTuple: [A <: java.lang.Object](list: List[A])Product

scala> listToTuple(List("Scala", "Smart"))
res15: Product = (Scala,Smart) 
```

* * *

## 回答 #8

> 赞同：7
> 
> 时间：2013-02-06T06:31:21.100

您不能以类型安全的方式执行此操作。在 Scala 中，列表是某种类型元素的*任意长度*序列。据类型系统所知，`x`可以是任意长度的列表。

相反，元组的数量必须在编译时知道。`x`允许分配给元组类型将违反类型系统的安全保证。

事实上，由于技术原因，Scala 元组[被限制为 22 个元素](https://stackoverflow.com/questions/6241441/why-does-the-scala-library-only-defines-tuples-up-to-tuple22)，但在 2.11 中不再存在限制，在 2.11 中已经取消了案例类限制[https://github.com/scala/scala/pull/2305](https://github.com/scala/scala/pull/2305)

可以手动编写一个函数来转换最多 22 个元素的列表，并为更大的列表抛出异常。Scala 的模板支持（即将推出的功能）将使这更加简洁。但这将是一个丑陋的黑客。

* * *

## 回答 #9

> 赞同：6
> 
> 时间：2019-05-06T09:33:35.430

使用模式匹配：

```
val intTuple = List(1,2,3) match {case List(a, b, c) => (a, b, c)} 
```

* * *

## 回答 #10

> 赞同：5
> 
> 时间：2017-06-22T18:13:16.800

这也可以`shapeless`使用更少的样板来完成`Sized`：

```
scala> import shapeless._
scala> import shapeless.syntax.sized._

scala> val x = List(1, 2, 3)
x: List[Int] = List(1, 2, 3)

scala> x.sized(3).map(_.tupled)
res1: Option[(Int, Int, Int)] = Some((1,2,3)) 
```

它是类型安全的：`None`如果元组大小不正确，您会得到 ，但元组大小必须是文字或`final val`（可转换为`shapeless.Nat`）。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2015-04-22T05:04:37.783

2015 年发布。为了让[Tom Crockett 的回答](https://stackoverflow.com/a/14722968/2130573) 更加*清晰*，这里有一个真实的例子。

起初，我对此感到困惑。因为我来自 Python，你可以在那里做`tuple(list(1,2,3))`.
是否缺少 Scala 语言？（答案是——这不是关于 Scala 或 Python，而是关于静态类型和动态类型。）

这使我试图找到 Scala 不能做到这一点的症结所在。

* * *

下面的代码示例实现了一个`toTuple`方法，该方法具有 type-safe`toTupleN`和 type-unsafe `toTuple`。

该`toTuple`方法在运行时获取类型长度信息，即在编译时没有类型长度信息，因此返回类型确实`Product`很像Python的`tuple`（每个位置没有类型，也没有类型长度）。
这种方式容易出现运行时错误，例如类型不匹配或`IndexOutOfBoundException`. （所以 Python 方便的 list-to-tuple 并不是免费的午餐。）

相反，使`toTupleN`编译时安全的是用户提供的长度信息。

```
implicit class EnrichedWithToTuple[A](elements: Seq[A]) {
  def toTuple: Product = elements.length match {
    case 2 => toTuple2
    case 3 => toTuple3
  }
  def toTuple2 = elements match {case Seq(a, b) => (a, b) }
  def toTuple3 = elements match {case Seq(a, b, c) => (a, b, c) }
}

val product = List(1, 2, 3).toTuple
product.productElement(5) //runtime IndexOutOfBoundException, Bad ! 

val tuple = List(1, 2, 3).toTuple3
tuple._5 //compiler error, Good! 
```

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2016-03-16T19:07:09.843

你也可以这样做

1.  通过模式匹配（你不想要的）或
2.  通过遍历列表并一个一个地应用每个元素。

    ```
    val xs: Seq[Any] = List(1:Int, 2.0:Double, "3":String)
    val t: (Int,Double,String) = xs.foldLeft((Tuple3[Int,Double,String] _).curried:Any)({
      case (f,x) => f.asInstanceOf[Any=>Any](x)
    }).asInstanceOf[(Int,Double,String)] 
    ```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2013-10-15T02:12:42.930

只要你有类型：

```
val x: List[Int] = List(1, 2, 3)

def doSomething(a:Int *)

doSomething(x:_*) 
```

# php - 如何在 YII 中设置一次公共代码

> ID：14722864
> 
> 赞同：0
> 
> 时间：2013-02-06T06:23:37.733
> 
> 标签：php, yii

我想知道我们可以在哪个文件中设置通用代码，例如我想将时区设置为 UTC，而不是将相同的代码放在所有控制器文件中，有没有办法将代码放置一次，它将反映在所有文件中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:37:58.083

您可以在“组件”文件夹中创建文件。您可以在“受保护”文件夹中看到此文件夹。

或者您可以在 controller.php 中编写代码

文件路径：webroot/protected/components/Controller.php

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T07:55:51.627

使用应用程序参数，即：

```
// config part
return array(
// ...
    'params' => array(
         'myParam' => 123
     )
// ...
);

// Then in app use
Yii::app()->params['myParam'] // Will return 123 
```

您还可以创建自己的*参数持有者*作为组件，即：

```
// config part
    'components' => array(
          'myConfigs' => array(
                'class' => 'ext.MyConfigs'
                'myParam1' => 123,
                'myParam2' => 'blah'
           )
     )

// Component in extensions
class MyConfigs extends CComponent
{
    public $myParam1;
    public $myParam2 = 'defaultValue';
}

// Then in app use it:
Yii::app()->myConfigs->myParam1 // will return 123 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:36:02.067

您能否尝试在 bootstrap.php 文件中添加代码

如果需要设置服务器时间可以在这里查看。这是一个简单的方法

[更改时区](http://www.mochasupport.com/kayako/index.php?_m=knowledgebase&_a=viewarticle&kbarticleid=522)

# shell - 如何在shell脚本中获取文件中的唯一条目

> ID：14722865
> 
> 赞同：0
> 
> 时间：2013-02-06T06:23:40.697
> 
> 标签：shell, sorting, awk, grep

我有一个文件：

```
a
a
a
b
b
a
c
a
c
b 
```

我想出去

```
a
b
c 
```

我们可以使用 grep 或 awk 来完成吗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T08:47:15.373

在`awk`：

```
$ awk '!u[$0]++' file
a
b
c 
```

这个解决方案的好处是文件不需要先排序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T06:25:41.493

最简单的方法：

```
sort -u INPUT > OUTPUT 
```

# visual-studio - .rc 文件是否有免费的可视化资源编辑器来翻译我的软件？

> ID：14722868
> 
> 赞同：0
> 
> 时间：2013-02-06T06:23:56.183
> 
> 标签：visual-studio, localization, resources, resource-editor

让我解释。我想让我的软件的用户能够将它翻译成外语。我的想法是为他们提供一个`.rc`文件的副本（以及`resource.h`一些带有定义的附加 .h 文件），让他们下载 Visual Studio Express 的免费版本，然后能够查看和翻译所有对话框、字符串等。

但是……我刚试了一下，Visual Studio Express 没有附带资源编辑器……哈哈哈……真是垃圾！他们是否看到他们从中复制它的 Xcode 确实支持它....

无论如何，对不起......正如你所知道的，我非常失望的是，在完成大量`.rc`文件准备工作后，我了解到我的翻译人员所能做的一切都是在“了不起的”Visual Studio Express 中将其作为文本打开！

所以我的问题是，是否有一些软件可供翻译（不是开发人员！）用来打开`.rc`文件进行视觉资源编辑（即翻译）？

PS。我显然在寻找免费的解决方案。PS2。我在 Visual Studio 的完整（付费）版本中创建了这个`.rc`文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-08-23T23:19:28.140

我最近写了这个，它集成到 VS 中（但可以独立运行）：

[https://github.com/ekkis/Powershell/blob/master/MT.ps1](https://github.com/ekkis/Powershell/blob/master/MT.ps1)

主要是因为我对那里的解决方案不满意。您需要从 M$ 获取客户 ID（但他们免费为您提供 200 万字/月的翻译 - 还不错）

# java - 在多模块 maven 项目中的模块之间共享 src/test 类

> ID：14722873
> 
> 赞同：152
> 
> 时间：2013-02-06T06:24:03.957
> 
> 标签：java, maven, maven-3

我有一个多模块 Maven 项目。为了这个例子，考虑两个模块：

*   `data`
*   `consumer`

模块`consumer`具有模块`data`作为依赖项。

模块`data`声明了一堆核心类。有`src/test`使用它们的测试。这些测试需要一些冗长的对象创建，所以我有一个类，其中包含一些实用方法来创建这些对象。此实用程序类 ( `SampleDataHelper`) 在`src/test`层次结构中。

我在模块中还有一些测试`consumer`需要创建其中一些冗长的对象。我想在我的树中的测试中使用我的`SampleDataHelper`类（在 中定义）。不幸的是，即使是 的依赖项，也看不到.`data src/test``consumer src/test``data``consumer``consumer``data src/test`

为了解决这个问题，我想我可能会创建*另一个*模块 ( `data-test`)，并`SampleDataHelper`在**`src/main`**. 然后*我*会将. `data-test`_ 不幸的是，这引入了循环依赖：使用，但也需要。*`data``data``data-test``data-test``data`*

 *我想出的唯一解决方案是放在一个包`SampleDataHelper`下，并希望没有真正的应用程序代码调用它。`data src/main``test`

我怎样才能在模块之间共享我的`SampleDataHelper`课程*而不*把它放在下面`src/main`？

* * *

## 回答 #1

> 赞同：196
> 
> 时间：2013-02-06T07:48:26.203

您的消费者项目取决于您的数据项目，因此我们很高兴必须在消费者之前构建数据。因此，使用[评论](https://stackoverflow.com/questions/14722873/sharing-src-test-classes-between-modules-in-a-multi-module-maven-project#comment20596777_14722873)中建议的技术，我将确保您的数据项目包含您希望共享的所有测试代码，并配置 POM 以生成测试 JAR：

```
<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-jar-plugin</artifactId>
  <version>2.2</version>
  <executions>
    <execution>
      <goals>
        <goal>test-jar</goal>
      </goals>
    </execution>
  </executions>
</plugin> 
```

然后，您的 Consumer 项目将依赖于正常的 Data JAR 工件以及附加的`test-jar`工件，当然还有测试范围：

```
<dependency>
  <groupId>com.foo</groupId>
  <artifactId>data</artifactId>
  <version>1.0</version>
  <type>test-jar</type>
  <scope>test</scope>
</dependency> 
```

我在很多场合都使用过这种方法，而且效果很好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:38:15.787

所以问题是`data`模块中的（一些）测试依赖于`SampleDataHelper`类？如果您同时将测试（取决于特定类）移动到模块的，您可以将`SampleDataHelper`类移动到模块的。因此，将不再有循环依赖。`src/main``data-test``src/test``data-test`*

# .net - 服务器到 API 的通信，是否可以使用登录名/cookie 可靠地保护它们？

> ID：14722879
> 
> 赞同：0
> 
> 时间：2013-02-06T06:24:17.247
> 
> 标签：.net, api, security

我正在与之合作的供应商建议使用类似于以下的代码连接到他们的 API：

```
string url = "https://secure.companyapi.com"; 
string m_UserId = "user";
string m_Password = "pass";

HttpWebRequest req = (HttpWebRequest)WebRequest.Create(url);
req.Credentials = new NetworkCredential(m_UserId, m_Password);
req.CookieContainer = new CookieContainer();
var resp = (HttpWebResponse)req.GetResponse();
Cookie sessionCookie = resp.Cookies["SMSESSION"]; 
```

问题：

*   这安全吗？
*   使用这种类型的身份验证有什么限制？

（显然，他们需要在 API 前面的负载均衡器上实现粘性会话（或等效会话））

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T08:20:05.140

对于您的第一个问题，它是否安全？就像使用 SSL“ [https://secure.companyapi.com](https://secure.companyapi.com) ”一样，只需要查看 CA 颁发了什么样的证书即可。

这是我们所做的正常类型的网络请求，我看不出有任何优点或缺点。您可以毫无问题地使用它。

# java - Java中的日期和时间格式

> ID：14722880
> 
> 赞同：-4
> 
> 时间：2013-02-06T06:24:22.597
> 
> 标签：java, datetime

我有这个代码：

```
class ClockLabel extends JLabel implements ActionListener {

    public ClockLabel() {
        super("" + new java.util.Date());
       Timer t = new Timer(1000, this);
       t.start();
    }

   @Override
   public void actionPerformed(ActionEvent ae) {
      txtclock.setText((new java.util.Date()).toString());
   }
 } 
```

我的输出是

```
Wed Feb 06 14:22:44 CST 2013 
```

如何以这种格式更改我的输出

```
"MM dd yyyy HH:mm:ss" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:27:07.363

您可以使用[SimpleDateFormat](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html)格式化日期

```
SimpleDateFormat f = new SimpleDateFormat("MM dd yyyy HH:mm:ss");
txtclock.setText(f.format(new java.util.Date())); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T06:27:15.340

看`SimpleDateFormat`课。`SimpleDateformat with patteryn`您可以构造“MM dd yyyy HH:mm:ss” `and pass the date object in`format()`的实例。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T06:29:10.193

```
SimpleDateFormat sdf = new SimpleDateFormat("MM dd yyyy HH:mm:ss");
String sDate= sdf.format(new java.util.Date()); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T06:31:07.367

使用[简单的日期格式](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)

```
@Override
   public void actionPerformed(ActionEvent ae) {
      SimpleDateFormat format = new SimpleDateFormat("MM dd yyyy HH:mm:ss");
      txtclock.setText(format.format(new java.util.Date()));
   } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-06T06:41:28.053

将您的代码修改为

```
class ClockLabel extends JLabel implements ActionListener {
    java.util.Date date;
    public ClockLabel() {
        super(getStrVAl());
        Timer t = new Timer(1000, this);
        t.start();
    }

    @Override
    public void actionPerformed(ActionEvent ae) {
        txtclock.setText(getStrVAl());
    }

    public String getStrVAl() {
        date=new java.util.Date();
        String val=date.getMonth().toString()+" "+date.getDate().toString()+" "+date.getYear().toString()+" "date.getHours().toString()+":"+date.getMinutes().toString()+":"+date.getSeconds()().toString()+" ");
        return val;
    }
} 
```

# oracle - 表中允许的最大列数是多少？

> ID：14722883
> 
> 赞同：27
> 
> 时间：2013-02-06T06:24:47.230
> 
> 标签：oracle, datatable

在以下版本中，**Oracle**表中允许的最大列数是多少？

*   甲骨文 8i
*   甲骨文 9i
*   甲骨文 10g
*   甲骨文 11g
*   甲骨文 12c

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-02-06T06:27:06.123

每个表 1,000 列的限制适用于版本[8i](http://www.mbjconsulting.com/oracle_links/Oracle_8i_and_9i_Limitations.html)、[9i](http://docs.oracle.com/cd/B10501_01/server.920/a96536/ch44.htm)、[10g](http://docs.oracle.com/cd/B19306_01/server.102/b14237/limits003.htm)、[11g](http://docs.oracle.com/cd/B28359_01/server.111/b28320/limits003.htm)、[12c](https://docs.oracle.com/en/database/oracle/oracle-database/12.2/refrn/logical-database-limits.html#GUID-685230CF-63F5-4C5A-B8B0-037C566BDA76)、[18c](https://docs.oracle.com/en/database/oracle/oracle-database/18/refrn/logical-database-limits.html)和[19c](https://docs.oracle.com/en/database/oracle/oracle-database/19/refrn/logical-database-limits.html)。

在此之前，[Oracle 7](http://docs.oracle.com/cd/A57673_01/DOC/server/doc/SRF73/ch5.htm)有 254 列的限制。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-06-30T07:27:01.293

对于 Oracle 11g：

每表 1000 列

每个索引 32 列

逻辑数据库限制：

[https://docs.oracle.com/cd/B28359_01/server.111/b28320/limits003.htm#i288032](https://docs.oracle.com/cd/B28359_01/server.111/b28320/limits003.htm#i288032)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-30T06:41:10.840

**对于版本[11g](http://docs.oracle.com/cd/E11882_01/server.112/e40402/limits003.htm#REFRN0043)、[10g](https://docs.oracle.com/cd/B19306_01/server.102/b14237/limits003.htm#i288032)、[9i](https://docs.oracle.com/cd/B10501_01/server.920/a96536/ch44.htm)和[8i](https://docs.oracle.com/cd/A87860_01/doc/server.817/a76961/ch44.htm)列大小：-**

每表：最多 1000 列

每个索引（或聚集索引）：最多 32 列

每个位图索引：最多 30 列

# iphone - 触摸其中的单词时处理 UITextView 触摸事件

> ID：14722893
> 
> 赞同：5
> 
> 时间：2013-02-06T06:25:37.070
> 
> 标签：iphone

我有一个`UITextView`显示段落。例如：

```
self.myTextView.text = @"This is a sample paragraph" 
```

我现在要做的是，当我在这一段中修改一个单词时，例如“This”，将调用一个函数：`[self aFunction:@"This"]`

有没有处理这个事件的想法和获取参数的方法，也就是用户触摸的词。也许，我需要其他方式来显示段落，而不是通过`UITextView`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T07:00:51.623

**在以下示例中使用 ( `UITextView`)**

我创建了一个简单的 UILabel 子类，它允许我设置插入值：

```
#import "WWLabel.h"

#define WWLabelDefaultInset 5

@implementation WWLabel

@synthesize topInset, leftInset, bottomInset, rightInset;

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        self.topInset = WWLabelDefaultInset;
        self.bottomInset = WWLabelDefaultInset;
        self.rightInset = WWLabelDefaultInset;
        self.leftInset = WWLabelDefaultInset;
    }
    return self;
}

- (void)drawTextInRect:(CGRect)rect
{
    UIEdgeInsets insets = {self.topInset, self.leftInset,
        self.bottomInset, self.rightInset};

    return [super drawTextInRect:UIEdgeInsetsInsetRect(rect, insets)];
} 
```

然后我创建了一个包含我的自定义标签的 UIView 子类，并在点击时为标签中的每个单词构建文本的大小，直到大小超过点击位置的大小——这就是被点击的单词。它不是完美的，但现在工作得很好。

然后我使用了一个简单的 NSAttributedString 来突出显示文本：

```
#import "WWPhoneticTextView.h"
#import "WWLabel.h"

#define WWPhoneticTextViewInset 5
#define WWPhoneticTextViewDefaultColor [UIColor blackColor]
#define WWPhoneticTextViewHighlightColor [UIColor yellowColor]

#define UILabelMagicTopMargin 5
#define UILabelMagicLeftMargin -5

@implementation WWPhoneticTextView {
    WWLabel *label;
    NSMutableAttributedString *labelText;
    NSRange tappedRange;
}

// ... skipped init methods, very simple, just call through to configureView

- (void)configureView
{
    if(!label) {
        tappedRange.location = NSNotFound;
        tappedRange.length = 0;

        label = [[WWLabel alloc] initWithFrame:[self bounds]];
        [label setLineBreakMode:NSLineBreakByWordWrapping];
        [label setNumberOfLines:0];
        [label setBackgroundColor:[UIColor clearColor]];
        [label setTopInset:WWPhoneticTextViewInset];
        [label setLeftInset:WWPhoneticTextViewInset];
        [label setBottomInset:WWPhoneticTextViewInset];
        [label setRightInset:WWPhoneticTextViewInset];

        [self addSubview:label];
    }

    // Setup tap handling
    UITapGestureRecognizer *singleFingerTap = [[UITapGestureRecognizer alloc]
                                               initWithTarget:self action:@selector(handleSingleTap:)];
    singleFingerTap.numberOfTapsRequired = 1;
    [self addGestureRecognizer:singleFingerTap];
}

- (void)setText:(NSString *)text
{
    labelText = [[NSMutableAttributedString alloc] initWithString:text];
    [label setAttributedText:labelText];
}

- (void)handleSingleTap:(UITapGestureRecognizer *)sender
{
    if (sender.state == UIGestureRecognizerStateEnded)
    {
        // Get the location of the tap, and normalise for the text view (no margins)
        CGPoint tapPoint = [sender locationInView:sender.view];
        tapPoint.x = tapPoint.x - WWPhoneticTextViewInset - UILabelMagicLeftMargin;
        tapPoint.y = tapPoint.y - WWPhoneticTextViewInset - UILabelMagicTopMargin;

        // Iterate over each word, and check if the word contains the tap point in the correct line
        __block NSString *partialString = @"";
        __block NSString *lineString = @"";
        __block int currentLineHeight = label.font.pointSize;
        [label.text enumerateSubstringsInRange:NSMakeRange(0, [label.text length]) options:NSStringEnumerationByWords usingBlock:^(NSString* word, NSRange wordRange, NSRange enclosingRange, BOOL* stop){

            CGSize sizeForText = CGSizeMake(label.frame.size.width-2*WWPhoneticTextViewInset, label.frame.size.height-2*WWPhoneticTextViewInset);
            partialString = [NSString stringWithFormat:@"%@ %@", partialString, word];

            // Find the size of the partial string, and stop if we've hit the word
            CGSize partialStringSize  = [partialString sizeWithFont:label.font constrainedToSize:sizeForText lineBreakMode:label.lineBreakMode];

            if (partialStringSize.height > currentLineHeight) {
                // Text wrapped to new line
                currentLineHeight = partialStringSize.height;
                lineString = @"";
            }
            lineString = [NSString stringWithFormat:@"%@ %@", lineString, word];

            CGSize lineStringSize  = [lineString sizeWithFont:label.font constrainedToSize:label.frame.size lineBreakMode:label.lineBreakMode];
            lineStringSize.width = lineStringSize.width + WWPhoneticTextViewInset;

            if (tapPoint.x < lineStringSize.width && tapPoint.y > (partialStringSize.height-label.font.pointSize) && tapPoint.y < partialStringSize.height) {
                NSLog(@"Tapped word %@", word);
                if (tappedRange.location != NSNotFound) {
                    [labelText addAttribute:NSForegroundColorAttributeName value:[UIColor blackColor] range:tappedRange];
                }

                tappedRange = wordRange;
                [labelText addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:tappedRange];
                [label setAttributedText:labelText];
                *stop = YES;
            }
        }];        
    }
} 
```

# android - 如何通过终端获取安卓模拟器列表？

> ID：14722907
> 
> 赞同：10
> 
> 时间：2013-02-06T06:26:28.027
> 
> 标签：android, android-emulator, terminal, ubuntu-12.04

我想从终端检索 android 模拟器列表。我如何实现这一目标？我正在使用ubuntu。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2015-09-05T19:45:38.407

在命令行中输入：

```
emulator -list-avds 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T06:30:13.643

转到android sdk路径->然后转到平台工具->键入命令为“adb devices”，您将能够获得当前正在运行的已连接设备或模拟器的列表。

# jquery - jQuery DataTables：选择每页行下拉列表后更改焦点

> ID：14722909
> 
> 赞同：0
> 
> 时间：2013-02-06T06:26:44.830
> 
> 标签：jquery, drop-down-menu, datatable, focus, rows

使用 jQuery DataTables，我使用 aLengthMenu 创建一个下拉菜单，用于选择每页的行数。当用户进行选择时，显示会正确更改，但焦点仍然在下拉列表上——因此，如果用户从下拉列表中选择，然后点击向下翻页键（希望向下滚动页面），下拉列表本身会滚动而不是这页纸。请参阅[http://esininja.com/Library.aspx](http://esininja.com/Library.aspx)。

有没有办法创建一个行选择下拉列表，一旦选择了多行，焦点就会从下拉列表中移开？只需单击页面上的其他位置即可从下拉列表中移除焦点，这很容易，但并非所有用户都意识到他们需要这样做，如果这不是必需的，那就太好了。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:39:53.847

要让所有选择框在其值更改时失去焦点，这个 jQuery 可以解决问题。

[http://jsfiddle.net/x9rxm/](http://jsfiddle.net/x9rxm/)

```
 $(function() {
        $("select").change(function(){
            $(this).blur();
        });
    }); 
```

在您的情况下，您可以使用更具体的选择器选择您正在考虑的框，可能是“[name=example_ESI_Articles_length]”。另外，请记住，此代码需要在 DOM 中出现“select”元素之后运行。

# sql - 如果存在块

> ID：14722922
> 
> 赞同：1
> 
> 时间：2013-02-06T06:27:35.617
> 
> 标签：sql, sql-server

我有 2 张桌子`UserSession`和`Sale`.

表有 4 列，`User`即`UserID`、`UserSessionID`和。`SessionOpenDate``SessionCloseDate`

表`Sale`有 2 列，分别是`price`、`cost`和。`userID``CompletedDate`

当用户登录时，会在`User`表中创建一个新行，其中将保存用户的登录时间戳，并为会话分配`SessionOpenDate`一个新行。`UserSessionID`当用户注销时，注销时间戳将保存在`SessionCloseDate`.

当用户仍处于登录状态时，用户可以进行一些销售，销售信息保存在`Sale`表中。销售完成时的时间戳保存在`CompletedDate`列中。

出于某种原因，我需要在必须在and内的某个特定`UserSessionID`位置完成所有销售。但是，如果用户还没有注销，这意味着 in 的值为 null，则 应该介于与 now 之间。`CompletedDate``SessionOpenDate``SessionCloseDate``SessionCloseDate``CompletedDate``SessionOpenDate`

这是我的查询：

```
SELECT SUM(s.cost) AS Cost, SUM(s.price) AS Price
FROM Sale AS s 
  INNER JOIN UserSession AS u 
  ON s.userID = u.userID
WHERE 
  (s.CompletedDate >=
    ( SELECT SessionOpenDate
      FROM UserSession
      WHERE (UserSessionID = u.UserSessionID)
)
  ) 
  AND 
  (s.CompletedDate < 
    ( 
      IF EXISTS
       (    
         SELECT SessionCloseDate AS closeTime
         FROM UserSession AS UserSessionTemp
         WHERE (UserSessionID = u.UserSessionID)
       ) 
       BEGIN
         SET closeTime = SELECT CURRENT_TIMESTAMP
       END
    )
  ) 
  AND u.UserSessionID IN (1) 
```

但是，Sql Server 说`Incorrect syntax near the keyword 'IF'.`and `Incorrect syntax near ')'`。

谁能告诉我我的 IF 块出了什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:33:17.970

您不能在语句中使用`IF`块。`SELECT`另外，我不知道您真正想要完成什么`SET`，因为`closeTime`它不是变量/参数。

您可以`IIF`在 SQL Server 2012 中使用（语法糖`CASE WHEN <condition> THEN <true_value> ELSE <false_value> END`- 将此语法用于早期版本）：

```
IIF(EXISTS
   (    
     SELECT SessionCloseDate AS closeTime
     FROM UserSession AS UserSessionTemp
     WHERE (UserSessionID = u.UserSessionID)
   ), (
     SELECT SessionCloseDate AS closeTime
     FROM UserSession AS UserSessionTemp
     WHERE (UserSessionID = u.UserSessionID)
   ),  
     CURRENT_TIMESTAMP
) 
```

* * *

老实说，不用太复杂，这就是我要做的：

```
SELECT SUM(s.cost) AS Cost, SUM(s.price) AS Price
FROM userSession AS u
INNER JOIN Sale AS s ON u.userID = s.userID 
WHERE u.UserSessionID = @UserSessionId
AND s.CompletedDate >= u.SessionOpenDate 
AND (u.SessionCloseDate IS NULL OR s.CompletedDate < u.SessionCloseDate) 
```

或者，

```
SELECT SUM(s.cost) AS Cost, SUM(s.price) AS Price
FROM userSession AS u
INNER JOIN Sale AS s ON u.userID = s.userID 
WHERE u.UserSessionID = @UserSessionId
AND s.CompletedDate BETWEEN u.SessionOpenDate 
                    AND COALESCE(u.SessionCloseDate, '12/31/9999 23:59:59.9999') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T06:48:44.387

我会选择这样的东西，这取决于你在寻找什么。我不知道您是否想要特定用户或会话的信息，但这很容易添加。

```
SELECT UserSessionID, SUM(cost) AS TotalCost, SUM(price) AS TotalPrice
FROM UserSession LEFT OUTER JOIN sale
ON UserSession.userid = sale.userid AND
   ((UserSession.SessionCloseDate IS NULL AND sale.CompletedDate BETWEEN UserSession.SessionOpenDate AND GetDate())
   OR (sale.SessionCloseDate IS NOT NULL AND sale.CompletedDate BETWEEN UserSession.SessionOpenDate AND UserSession.SessionCloseDate))
WHERE SUM(cost) > 0
GROUP BY UserSessionID 
```

（如果您不想要完整列表，您可以在组上方添加 AND UserSessionID = 'mysessionid' 或 and UserID = 'myuserid'）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T07:06:09.133

其他人已经解释了具体问题并“给你一条鱼”。不过，我想“教你如何钓鱼”。

请参阅[混合语句类型](http://squaredthoughts.blogspot.com/2007/09/mixed-up-statement-types.html)以进行完整讨论（披露：我自己的博客文章）。这里有一些片段。

> 表达式由一个或多个与运算符绑定在一起的文字值或函数组成，当以正确的顺序评估时，会产生一个值或值的集合。

剪...

> 之所以称为程序语句，是因为必须遵循一些程序。这不是导致单个值的操作顺序的简单情况。实际上根本没有表达任何价值。

剪...

> 既然您知道了三种主要类型的语句（并且我不排除存在更多或这些语句的子分类的可能性），您必须知道与 SQL Server 相处融洽的关键概念是，当某个一种声明是预期的，你不能使用不同的声明来代替它。

# python - Python：对象在不同的 文件上不可用

> ID：14722933
> 
> 赞同：0
> 
> 时间：2013-02-06T06:28:24.050
> 
> 标签：python, singleton

我创建了一个单例这是类描述。
allsms.py

```
from DB.models import ApiKey,ServiceProvider
from DB.messagenet import MessageNet

class SMSMgr( object ):
    _instance = None
    _allsp = []
    def __init__(self):
            pass
    def __new__(cls, *args, **kwargs):
        if not cls._instance :
            cls._instance = super(SMSMgr, cls).__new__(
                                cls, *args, **kwargs)
        return cls._instance

    def loadsettings(self):
        get_all_sp = ServiceProvider.objects.filter(status = False)
        for obj in get_all_sp:
            cla = obj.class_Name
            a=globals()[str(obj.class_Name)](obj.userName,obj.password,obj.sendingurl)
            self._allsp.append(a)
            #print self._allsp
    def reload(self):
        self._allsp = []
        get_all_sp = ServiceProvider.objects.filter(status = False)
        for obj in get_all_sp:
            cla = obj.class_Name
            a=globals()[str(obj.class_Name)](obj.userName,obj.password,obj.sendingurl)
            self._allsp.append(a)

    def send(self):
        print "+++++++++++++++++++== Global send "

if __name__ == "__main__":

    b = SMSMgr()
    b.loadsettings() 
```

现在在`test.py` 同一目录的文件中，我尝试使用存储在`_allsp` 变量中的单例对象。

```
from SMShandler.allsms import SMSMgr

b = SMSMgr()
#b.loadsettings()

print b._allsp 
```

这是打印空列表。但是当我这样做时：

```
b = SMSMgr()
b.loadsettings()
print b._allsp 
```

它正在打印对象列表。

我的问题是，如果上面的设计是单例的，那么为什么`print b._allsp`要打印空列表`test.py`呢？我已经`loadsettings`在`allsms.py`文件中加载了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:30:55.353

您正在`loadsettings()`一个`if __name__ == "__main__"`块中运行：

```
if __name__ == "__main__":
    b = SMSMgr()
    b.loadsettings() 
```

这种块的目的是仅在代码直接运行时发生（如`python allsms.py`）。这意味着当它在行中导入时不会发生：

```
from SMShandler.allsms import SMSMgr 
```

If you put the line `b.loadsettings()` outside of the `if` block, you'll see that it will already be loaded.

# groovy - 在同一编译器阶段中，多个 AST 转换的执行顺序是什么？

> ID：14722938
> 
> 赞同：0
> 
> 时间：2013-02-06T06:28:38.890
> 
> 标签：groovy

我已经应用了一个 AST 转换，它将每个方法包装在`try...catch`. 我想确保在其他 AST 转换之后执行此 AST 转换。

如果我在同一个编译器阶段对同一个类应用多个 AST 转换，执行顺序或优先级是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T03:08:14.580

在同一阶段运行的转换的执行顺序是未指定的。保证一个变换一个接一个地运行的唯一安全方法是在以后的阶段应用它。

至少在某种程度上，排序有可能是确定性的（您必须检查编译器源代码），但我不认为这是一个强有力的保证（即它可能会在 Groovy 版本之间发生变化）。

# android - 访问短信时出现Android空指针异常

> ID：14722952
> 
> 赞同：0
> 
> 时间：2013-02-06T06:29:49.507
> 
> 标签：android, android-asynctask, sms, broadcastreceiver

运行 doinbackground 方法时出现空指针异常。这是我的错误！[在此处输入图像描述][1]

这是我的错误:::

```
FAIAL EXCEPTION: AsyncIask #1

java.1ang.RuntimeException: An error occured while executing doInBa 45
ckground()

at android.os.AsyncIask$3.done(AsyncIask.java:278)

at java.uti1.concurrent.FutureIask$Sync.innerSetException(FutureIa 45
sk.java:273)

at java.uti1.concurrent.FutureIask.setException(FutureIask.java:12 45
4)

at java.uti1.concurrent.FutureIask$Sync.innerRun(FutureIask.java:3 45
07)

at java.uti1.concurrent.FutureTask.run(FutureIask.java:137)

at android.os.AsyncIask$Seria1Executor$1.run(AsyncIask.java:208)

at java.uti1.concurrent.ThreadPoo1Executor.runworker(IhreadPoo1Exe 45
cutor.java:1076)

at java.uti1.concurrent.IhreadPoo1Executor$Worker.run(IhreadPoo1Ex 45
ecutor.java:569)

at java.1ang.Ihread.run(Ihread.java:856)

Caused by: java.lang.NullPointerException

at com.examp1e.outgoingsms.OutgoingSmsListener$OutSmsLogger.doInBa 45
ckground(OutgoingSmsListener.java:45)

at com.examp1e.outgoingsms.OutgoingSmsListener$OutSmsLogger.doInBa 45
ckground(OutgoingSmsListener.java:1)

at android.os.AsyncIask$2.call(AsyncIask.java:264)

at java.uti1.concurrent.FutureIask$Sync.innerRun(FutureIask.java:3 45
05)

5 more 
```

这是我的代码..

```
public class OutgoingSmsListener extends BroadcastReceiver {

public Context context;

@Override
public void onReceive(Context context, Intent intent) {
    // TODO Auto-generated method stub
    new OutSmsLogger(context).execute();
}

public class OutSmsLogger extends AsyncTask<Void, Void, Void> {
    private final Uri SMS_URI = Uri.parse("content://sms");
    private final String[] COLUMNS = new String[] {"date", "address", "body", "type"};
    private static final String CONDITIONS = "type = 2 AND date > ";
    private static final String ORDER = "date DESC";

    private SharedPreferences prefs;
    private long timeLastChecked;
    private Cursor cursor;

    public OutSmsLogger(Context context) {
        this.prefs = context.getSharedPreferences("some_file_name", Context.MODE_PRIVATE);
    }

    @Override
    protected Void doInBackground(Void... params) {
        // TODO Auto-generated method stub
        timeLastChecked = prefs.getLong("time_last_checked", -1L);
        ContentResolver cr = context.getContentResolver();

        // get all sent SMS records from the date last checked, in descending order
        cursor = cr.query(SMS_URI, COLUMNS, CONDITIONS + timeLastChecked, null, ORDER);

        // if there are any new sent messages after the last time we checked
        if (cursor.moveToNext()) {
            Set<String> sentSms = new HashSet<String>();
            timeLastChecked = cursor.getLong(cursor.getColumnIndex("date"));
            do {
                long date = cursor.getLong(cursor.getColumnIndex("date"));
                String address = cursor.getString(cursor.getColumnIndex("address"));
                String body = cursor.getString(cursor.getColumnIndex("body"));
                String thisSms = date + "," + address + "," + body;

                if (sentSms.contains(thisSms)) {
                    continue; // skip that thing
                }

                // else, add it to the set
                sentSms.add(thisSms);
                Log.d("Test", "date sent: " + date);
                Log.d("Test", "target number: " + address);
                Log.d("Test", "number of characters: " + body.length());
            } while (cursor.moveToNext());
        }

        cursor.close();
        Editor editor = prefs.edit();
        editor.putLong("time_last_checked", timeLastChecked);
        editor.commit();
        return null;
        }

    }
} 
```

请帮我找到解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-02T14:37:16.490

我有同样的问题，它只出现在某些设备上（或者我以前总是有一些数据）。

问题是，当您将结果过滤到没有数据的时段（例如，您只想要最后一天的 SMS 而用户没有发送任何数据）时，您会得到**空**光标。我觉得这很奇怪，我相信在某些设计上你得到了正确初始化的游标，只是它是空的，但在其他设计上你得到空指针，所以在访问游标之前总是检查空指针！

顺便说一句，“问题已解决”而不提供答案？不帅哥们！

# java - 将距离（海里）转换为度（纬度/经度）

> ID：14722953
> 
> 赞同：-1
> 
> 时间：2013-02-06T06:29:52.720
> 
> 标签：java, geolocation, google-earth, degrees, openmap

我在模拟中有实体，其初始位置和路径是使用 Java 十进制度的代码。我需要缩放传感器半径（以海里为单位）和速度（海里/小时）以匹配十进制度。目的是在 OpenMap 和 Google Earth 中可视化模拟。

我已经看到[如何将距离（英里）转换为度数？](https://stackoverflow.com/questions/14344207/how-to-convert-distancemiles-to-degrees)，但那里的建议不起作用。

任何帮助表示赞赏！我认为这将涉及使用大圆距离公式......但不能完全理解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:59:29.133

Ed Williams 的航空公式[https://edwilliams.org/avform.htm](https://edwilliams.org/avform.htm)是一个很好的、易于访问的起点。我经常参考[http://movable-type.co.uk/scripts/latlong.html](http://movable-type.co.uk/scripts/latlong.html)。

我猜你需要某种向量（你的问题有点不清楚）。

我使用（在 C 中，而不是 Java 中）计算固定径向距离的是：

```
void polarToLatLong(double lat, double lon, double dist, double radial,
   double *outlat, double *outlon) {
   if (!dist) { // distance zero, so just return the point
      *outlat = lat;
      *outlon = lon;
   }
   else if (lat > 89.9999) { // North Pole singularity. Dist is in NM.
      *outlat = 90 - dist / 60;
      *outlon = fmod(radial + 180) - 180;
   }
   else { // normal case
      double sinlat, coslon;
      dist /= 3442; // = Earth's radius in nm (not WGS84!)
      sinlat = Sin(lat) * cos(dist) + Cos(lat) * sin(dist) * Cos(radial);
      *outlat = Arcsin(sinlat);
      coslon = (cos(dist) - Sin(lat) * sinlat) / (Cos(lat) * Cos(*outlat));
      *outlon = lon + (Sin(radial) >= 0 : -1 : 1) * Arccos(coslon);
   }
} 
```

在上面的代码`Sin()`中，大写的 S 只是`sin()`for 度数的包装：

```
#define CLAMP(a,x,b) MIN(MAX(a, x), b) // GTK+ GLib version slightly different
double Sin(double deg)   {return sin(deg * (PI / 180));} // wrappers for degrees
double Cos(double deg)   {return cos(deg * (PI / 180));}
double Arcsin(double x)  {return asin(CLAMP(-1, x, 1)) * (180 / PI);}
double Arccos(double x)  {return acos(CLAMP(-1, x, 1)) * (180 / PI);} 
```

# javascript - AngularJS -> 查询“在页面底部”

> ID：14722957
> 
> 赞同：1
> 
> 时间：2013-02-06T06:30:16.717
> 
> 标签：javascript, css, twitter-bootstrap, angularjs

问“是否还有更多要滚动的内容，或者我们是否已到达 Angular 中可滚动区域的底部？”的最佳方式是什么？

有一个带有固定底部导航栏的单页应用程序，并希望显示一个 ui 提示，指示有更多内容要显示，条件是不在页面末尾。认为有一种书签方式（哈希标签）可以做到这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T10:07:28.683

这是一种解决方案：我创建了绑定滚动事件的指令，如果可以向下滚动，则显示 div，在编译时附加：

```
app.directive('thereIsMore', function() {
  return {
    restrict: 'A',    
    scope: true,
    compile: function(tElement) {
      tElement.append('<div class="there-is-more" ng-show="bottom">There is more...</div>');
      return function(scope, element) {
        var elm = element[0];        
        var check = function() {
          scope.bottom = !(elm.offsetHeight + elm.scrollTop >= elm.scrollHeight);
        };
        element.bind('scroll', function() {
          scope.$apply(check);          
        });
        check();        
        }; // end of link 
    }    
  };
}); 
```

工作示例：[http ://plnkr.co/edit/8W3E7BunpDxIkEPDqxzb?p=preview](http://plnkr.co/edit/8W3E7BunpDxIkEPDqxzb?p=preview)

# module - 用于 OsCommerce 的 Authorize.net 自动定期计费 (ARB)

> ID：14722959
> 
> 赞同：1
> 
> 时间：2013-02-06T06:30:32.333
> 
> 标签：module, authorize.net, add-on, oscommerce, recurring-billing

我在网上搜索了 osCommerce 中的 authorize.net 自动定期计费 (ARB)，但我没有找到模块/插件，也没有找到任何提示。有人知道如何为此目的实现或创建模块吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T00:49:36.840

我认为您不会发现的原因之一是 oscommerce 不提供对重复产品定价的方法。他们只是一次购买。

我建议寻找一个处理定期计费的解决方案。

# java - JPA 2：一个带有@Prepersist 注解的实体中允许有多少种方法？

> ID：14722970
> 
> 赞同：1
> 
> 时间：2013-02-06T06:32:07.520
> 
> 标签：java, hibernate, jpa, orm, annotations

在 JPA 2 中，可以使用注释声明多少个方法，`@PrePersist`以及这些方法的执行顺序？有时我们也会为监听器创建不同的类，并使用`@EntityListener`注解将这个类应用到实体上，我们也在实体中声明方法，那么这些方法的执行顺序是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T07:36:57.863

关于调用顺序，JPA 2 规范第 3.5 节指出：

> 如果定义了多个实体侦听器，则调用它们的顺序由它们在 EntityListeners 注释中指定的顺序决定。XML 描述符可用作指定实体侦听器的调用顺序或覆盖元数据注释中指定的顺序的替代方案。

关于是否对同一生命周期事件使用多种方法，JPA 2 Spec 在第 3.5 节中指出：

> 对于同一个生命周期事件，一个类不能有多个生命周期回调方法。相同的方法可以用于多个回调事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-01-07T13:34:07.817

可以`@PrePersist`在以下位置声明带注释的方法：

*   实体类或其任何实体或映射的超类
*   在 XML 描述符上全局声明的默认侦听器上
*   `@EntityListener`在使用实体类及其任何实体或映射的超类中的注释引用的侦听器上。

该顺序在 JPA 2.2 规范的 3.5.5 部分（JPA 2.0 规范中的 3.5.4）中定义，总结如下：

1.  全局侦听器按照它们在 XML 描述符中定义的顺序
2.  `@EntityListeners`按照它们出现在实体类的注释上的顺序定义。如果存在实体层次结构，则在超类中引用的侦听器在子类中引用的侦听器之前执行。
3.  实体类的生命周期方法。如果存在实体层次结构，则在超类上声明的生命周期方法在子类上声明的方法之前执行。

# javascript - jquery如何获取字段的id？

> ID：14722975
> 
> 赞同：0
> 
> 时间：2013-02-06T06:32:21.027
> 
> 标签：javascript, asp.net

我有一个页面，然后页面由一个 .aspx 文件和一个 .ascx 文件组成。

现在在 .ascx 文件中，我声明了一个文本框，如下所示。

```
<asp:TextBox runat="server" ID="OrderName" MaxLength="50"  Key="OrderNameText" meta:resourcekey="OrderNameResource1"> 
```

现在我想从我的 javascript 中获取这个文本框的 ID，所以我尝试了 $("#OrderName") 但它不起作用。

当我检查萤火虫中的代码时，我注意到这个文本框的 id 是“ctl00_ctl00_contentPlaceHolderBody_contentPlaceHolderBelowFramedContainer_ucOrderName_OrderName”。它被附加了一些词。

那么在这种情况下如何获取 id 呢？

谢谢

杰森

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:35:12.850

通过[ClientID](http://msdn.microsoft.com/en-us/library/system.web.ui.control.clientid.aspx)访问它，或者您可以在声明 ASP.Net 控件时指定[ClientIDMode](http://msdn.microsoft.com/en-us/library/system.web.ui.clientidmode.aspx)`static`

```
 alert($("#'<%=OrderName.ClientID %>'").val()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:34:47.750

使用下面的代码

```
 var journalTextBoxId = '<%= this.OrderName.ClientID %>';
 var journalId = $("#" + journalTextBoxId).val(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:43:11.923

如果您使用 Visual Studio 2010，那么您可以这样使用

```
<asp:TextBox runat="server" ID="OrderName" ClientIDMode="Static" MaxLength="50"  Key="OrderNameText" meta:resourcekey="OrderNameResource1"></asp:TextBox> 
```

当您像这样使用时，您的文本框 id 不会像下面那样改变

```
"ctl00_ctl00_contentPlaceHolderBody_contentPlaceHolderBelowFramedContainer_ucOrderName_OrderName" 
```

所以你应该在你的文本框中使用 ClientIDMode="Static" 并在 jquery 中使用，如下所示

```
$("#OrderName") 
```

我想这会对你有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T06:37:44.320

在用户控件中，使用 C# 创建一个公共属性，例如：

```
public string OrderNameClientID { get { return this.OrderName.ClientID; } } 
```

在当前页面的 JS 中访问它，如下所示：

```
var ID = document.getElementById('<%= this.ucOrderName.OrderNameClientID %>'); 
```

或者您可以简单地执行以下操作：

```
var ID = document.getElementById('<%= this.ucOrderName %>_OrderName'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T06:37:46.580

如果您想要控件的确切 ID，请尝试以下操作：

```
var $ID = $this.find('#<%= OrderName.ClientID %>'); 
```

# shell - 在shell脚本中查找字符串的子字符串

> ID：14722977
> 
> 赞同：1
> 
> 时间：2013-02-06T06:32:29.143
> 
> 标签：shell, awk

我有一个文件：

```
(000002) 15-11-2012 09:04:04 - 2009031 (172.27.16.154)> 230 Logged on
(000003) 15-11-2012 09:04:19 - 2009032 (172.27.16.154)> 230 Logged on
(000262) 15-11-2012 11:47:53 - cs307 (172.27.23.59)> 230 Logged on 
```

还有更多这样的条目。

我只需要输出为：

```
2009031
2009032
cs307 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:37:35.113

```
awk '$0=$5' 
```

结果

```
2009031
2009032
cs307

```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-22T15:20:32.307

尝试

```
awk -F " " '{print $4}' file.txt 
```

# android - 如何将数据从 AsyncTask 返回到主线程

> ID：14722978
> 
> 赞同：5
> 
> 时间：2013-02-06T06:32:28.773
> 
> 标签：android, android-asynctask, listactivity

我想将 Jsonobject 返回到主线程。但是当我尝试运行代码时，它返回以下错误。

```
02-06 06:14:36.490: E/AndroidRuntime(769): FATAL EXCEPTION: main
02-06 06:14:36.490: E/AndroidRuntime(769): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dataread/com.example.dataread.MainActivity}: java.lang.NullPointerException
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.app.ActivityThread.access$600(ActivityThread.java:141)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.os.Looper.loop(Looper.java:137)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.app.ActivityThread.main(ActivityThread.java:5039)
02-06 06:14:36.490: E/AndroidRuntime(769):  at java.lang.reflect.Method.invokeNative(Native Method)
02-06 06:14:36.490: E/AndroidRuntime(769):  at java.lang.reflect.Method.invoke(Method.java:511)
02-06 06:14:36.490: E/AndroidRuntime(769):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
02-06 06:14:36.490: E/AndroidRuntime(769):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
02-06 06:14:36.490: E/AndroidRuntime(769):  at dalvik.system.NativeStart.main(Native Method)
02-06 06:14:36.490: E/AndroidRuntime(769): Caused by: java.lang.NullPointerException
02-06 06:14:36.490: E/AndroidRuntime(769):  at com.example.dataread.MainActivity.onCreate(MainActivity.java:37)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.app.Activity.performCreate(Activity.java:5104)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
02-06 06:14:36.490: E/AndroidRuntime(769):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
02-06 06:14:36.490: E/AndroidRuntime(769):  ... 11 more 
```

这是我的代码：

```
public interface Asynchtask 
{
void processFinish(JSONObject result);

}

public class MainActivity extends ListActivity implements Asynchtask 
{

    JSONfunctions js= new JSONfunctions();
    JSONObject retunfromAsyncTask;
    //public static JSONObject dataFromAsyncTask;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        js.delegate = this;
        new JSONfunctions().execute("http://192.168.6.43/employees.php");

        setContentView(R.layout.listplaceholder);
          ArrayList<HashMap<String, String>> mylist = new ArrayList<HashMap<String, String>>();

        try {

                JSONArray  employees = retunfromAsyncTask.getJSONArray("Employees");

                for(int i=0;i<employees.length();i++){                      

                    JSONArray e = employees.getJSONArray(i);
                    HashMap<String, String> map = new HashMap<String, String>();    

                    map.put("name", "emp name:" + e.getString(0)+" "+e.getString(1)+" "+e.getString(2));
                    map.put("email id", "email id: " +  e.getString(3));
                    map.put("phone no", "phone no: " +  e.getString(4));

                    mylist.add(map);            
                }       
            }catch(JSONException e)        {
                 Log.e("log_tag", "Error parsing data "+e.toString());
            }

            ListAdapter adapter = new SimpleAdapter(this, mylist , R.layout.activity_main, 
                            new String[] { "name", "email id","phone no" }, 
                            new int[] { R.id.item_title, R.id.item_emailid ,R.id.item_phoneno});
           setListAdapter(adapter);

            final ListView lv = getListView();
            lv.setTextFilterEnabled(true);  
                }

    @Override
    public void processFinish(JSONObject result) {
        // TODO Auto-generated method stub
        retunfromAsyncTask=result;

    }

}

public class JSONfunctions extends AsyncTask<String, Void, JSONObject> {

    public Asynchtask delegate=null;

     InputStream is;
     String result ;
     JSONObject jArray;

    @Override
    protected JSONObject doInBackground(String... params) {
        // TODO Auto-generated method stub

        //http post
        try{
                HttpClient httpclient = new DefaultHttpClient();
                HttpPost httppost = new HttpPost(params[0]);
                HttpResponse response = httpclient.execute(httppost);
                HttpEntity entity = response.getEntity();
                is = entity.getContent();

        }catch(Exception e){
                Log.e("log_tag", "Error in http connection "+e.toString());
        }
        try{
             BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
             StringBuilder sb = new StringBuilder();
             String line = null;
             while ((line = reader.readLine()) != null) {
                     sb.append(line + "\n");
             }
             is.close();
             result=sb.toString();

     }catch(Exception e){
             Log.e("log_tag", "Error converting result "+e.toString());
     }

     try{

         jArray = new JSONObject(result);    

       //  MainActivity.dataFromAsyncTask=jArray;
     }catch(JSONException e){
             Log.e("log_tag", "Error parsing data "+e.toString());
     }

     return jArray;     
      //convert response to string

    }
    @Override
    protected void onPostExecute(JSONObject result) 
    {
          delegate.processFinish(result);

    }
} 
```

清单文件

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.dataread"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="4"
        android:targetSdkVersion="17" />
    <uses-permission android:name="android.permission.INTERNET"/>

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.dataread.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-06T06:42:54.130

要在主线程中返回结果，您需要使用[AsyncTask.get()](http://developer.android.com/reference/android/os/AsyncTask.html#get%28%29)方法，该方法使 UI 线程等待直到执行`doInBackground`未完成，但 get() 方法调用冻结主 UI 线程，直到`doInBackground`计算未完成。开始`AsyncTask`使用 get() 方法：

```
String str_result=new 
             JSONfunctions().execute("http://192.168.6.43/employees.php").get(); 
```

将此行移到 Thread 内以避免冻结 UI 线程

* * *

第二种也是正确的方法来使用`AsyncTask`移动代码，你想用`doInBackground`onPostExecute 内部的计算结果更新你的代码：

```
public class JSONfunctions extends 
                  AsyncTask<String, Void, JSONObject> {

    public Asynchtask delegate=null;

     InputStream is;
     String result ;
     JSONObject jArray;

    @Override
    protected JSONObject doInBackground(String... params) {
      // your code here....
     return jArray;     
      //convert response to string

    }
    @Override
    protected void onPostExecute(JSONObject result) 
    {
          JSONArray  employees = 
                result.getJSONArray("Employees");
           // your code here...
      ListAdapter adapter = new SimpleAdapter(MainActivity.this, mylist , 
                                             R.layout.activity_main, 
                            new String[] { "name", "email id","phone no" }, 
                            new int[] { R.id.item_title, R.id.item_emailid 
                                      ,R.id.item_phoneno});
           MainActivity.this.setListAdapter(adapter);

            final ListView lv = MainActivity.this.getListView();
             //....
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:41:10.837

```
new JSONfunctions().execute("http://192.168.6.43/employees.php"); 
```

但是我在哪里设置它的代表？

```
public Asynchtask delegate=null; 
```

所以我认为你在这里得到 NPE：

```
delegate.processFinish(result); 
```

PS 这一行 js.delegate = this; 与新的 JSONfunctions 实例无关。它为另一个实例设置委托（JSONfunctions js= new JSONfunctions();）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-02T12:31:25.703

使用 get() 我们可以从 Async 获取结果

```
response=new NetworkCallsHandler(this).execute(NetworkConstants.ASSETEVENTREPORT).get(); 
```

# java - 动态元素 ID 到 setId(int) - Android

> ID：14722979
> 
> 赞同：0
> 
> 时间：2013-02-06T06:32:31.810
> 
> 标签：java, android, xml

`setId(int)`我看到了and的语法定义`findViewByID(int)`。

但是我们如何使用`findViewById(R.id.row1)`

我尝试使用这个：

`Object1.setId(Integer.parseInt("repeat"));`

它没有显示错误，但也运行了。

怎么了？如果`setId(int)`接受`int`并传递`integer`给它，那么错误是什么。`When I commented the statement the program runs.`

如果`findViewById(int)`接受整数，那么 is`R.id.object_id`是一个整数吗？如果是，它是如何映射的`findViewById()`？如果否，那么如何使用`findViewById`and `setId`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:38:46.717

不建议自己设置对象 ID，findViewById 可以访问包含指向 XML 项目 ID 的指针的 R 类。

当您在 Xml 布局文件中定义一个 id 时

```
android:id="@+id/txtyourId" 
```

在编译时编译器在 R 类中创建对您的 XML 项目布局的引用，您可以通过 findViewById 从您的 java 代码中访问它

```
View YourItem = (View)this.findViewById(R.id.txtyourId); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:37:25.527

您`setId(int)`只能用于扩展 View 类的对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:38:16.237

您可以将您的 Id 定义为资源，然后使用视图的 setId() 来设置它。

# mysql - 选择除四个最近的行之外的所有行

> ID：14722982
> 
> 赞同：0
> 
> 时间：2013-02-06T06:32:42.213
> 
> 标签：mysql, database, select

我有一个表（新闻），我尝试选择除最近的四个之外的所有行。该表有一个字段 news_date（日期格式）和 news_id（自动增量）。结果应该是 desc。

MySQL版本：5.0

表结构

```
news_id       (tinyint)  
news_title    (text)  
news_date     (date) 
```

我试过这个

```
Select *
FROM news AS n
   JOIN
       ( SELECT news_id 
         FROM news 
         ORDER BY news_id       
           LIMIT 1 OFFSET 4
       ) AS lim
     ON n.news_id < lim.news_id ; 
```

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:35:02.153

`LIMIT`原因允许您设置偏移量。

```
SELECT * FROM mytable ORDER BY news_date LIMIT 3,18446744073709551615; 
```

初始行的偏移量为 0（不是 1）。有关更多信息，请阅读[MySQL 手册中的“SELECT Syntax”](http://dev.mysql.com/doc/refman/5.0/en/select.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T13:53:37.920

我会尝试以下方法：

```
SELECT *
  FROM mytable
 ORDER BY news_date DESC, news_id DESC
 LIMIT 18446744073709551615 OFFSET 3; 
```

# javascript - 在 JavaScript if 语句中调用 Bean 函数以评估 Primefaces 对象

> ID：14722989
> 
> 赞同：4
> 
> 时间：2013-02-06T06:33:39.327
> 
> 标签：javascript, jsf-2, primefaces

我正在使用 Primefaces Schedule 并且我正在使用它的侦听器参数为`org.primefaces.event.DateSelectEvent`. 根据 DateSelectEvent.getDate 是工作日还是周末，我需要打开一个对话框或只是禁用 ajax（或不做任何事情）。为此，我需要在 .oncomplete 属性中做出决定。我已经做到了：

```
<p:ajax event="dateSelect" listener="#{myBean.onDateSelect}" oncomplete="
       if (onDateSelect.getDate == WeekDay) { 
           eventDialog.show()
       } else {
           myschedule.update()
       }"
> 
```

好吧，显然`onDateSelect.getDate == Weekday`不起作用，必须由我的支持 bean 上的一个函数来处理，但是我如何在 JS 函数中评估我的支持 bean 方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T15:13:50.057

PrimeFaces 组件的`oncomplete`属性不支持评估基于请求的 EL 表达式。其中一种方法是使用[`RequestContext#execute()`](http://www.primefaces.org/docs/api/3.5/org/primefaces/context/RequestContext.html#execute%28java.lang.String%29)内部`onDateSelect`侦听器方法而不是`oncomplete`.

```
RequestContext requestContext = RequestContext.getCurrentInstance();

if (isWeekDay(onDateSelect.getDate())) { 
    requestContext.execute("eventDialog.show()");
} else {
    requestContext.execute("myschedule.update()");
} 
```

另一种方法是对`<h:outputScript>`包含所需 EL 表达式的块进行 ajax 更新。

```
<p:ajax event="dateSelect" listener="#{myBean.onDateSelect}" update="script" />
...
<h:panelGroup id="script">
    <h:outputScript>
        if (#{myBean.weekDaySelected}) { 
            eventDialog.show()
        } else {
            myschedule.update()
        }
    </h:outputScript>
</h:panelGroup> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T08:09:30.817

根据您提到的要求，我相信您正在寻找可以使用`Javascript`函数并调用支持 bean`method`来评估它是否是工作日的东西。

您可以使用 Ajax4jsf 之`a4j:jsFunction`类的：

```
<p:ajax event="dateSelect" 
        listener="#{myBean.onDateSelect}" 
        oncomplete="checkWeekDay"/>

<a4j:jsFunction name="checkWeekDay" action="#{beanName.methodName}"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T08:29:31.663

您也可以在 javascript 命令中使用 EL。所以我假设你有类似于以下的名为 isWeekDay 的方法，或者只是使用你自己的函数来确定日期是否是工作日：

```
public boolean isWeekDay()
{
     Calendar c = Calendar.getInstance();
     c.setTime(yourDate);
     return c.get(Calendar.DAY_OF_WEEK) < 5;
}

<p:ajax event="dateSelect" listener="#{myBean.onDateSelect}" oncomplete="
       if (#{yourBean.weekDay()}) { 
           eventDialog.show()
       } else {
           myschedule.update()
       }"
> 
```

# html - html5输入类型数最大限制

> ID：14722991
> 
> 赞同：0
> 
> 时间：2013-02-06T06:33:54.933
> 
> 标签：html

我对 html5 输入编号有一些疑问，输入类型编号的最大限制是多少

例如。

如果单击微调器后最大值大于 15 或 17，则会显示（数字末尾的 +16）。

第二个查询是 ios5 的 html5 的 datepicker 的事件是什么。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:38:22.830

我不知道您尝试了什么，但是没有为`max`属性指定限制，它可以是任何`floating-point number`

```
**Floating-point Number**
A floating-point number consists of the following parts, in exactly the following order:

    Optionally, the first character may be a "-" character.
    One or more characters in the range "0—9".
    Optionally, the following parts, in exactly the following order:
        a "." character
        one or more characters in the range "0—9"
    Optionally, the following parts, in exactly the following order:
        a "e" character or "E" character
        optionally, a "-" character or "+" character
        One or more characters in the range "0—9". 
```

了解更多信息。[http://www.w3.org/TR/html-markup/input.number.html](http://www.w3.org/TR/html-markup/input.number.html)

您可以从[如何限制 HTML5“数字”元素中可能的输入中找到答案？](https://stackoverflow.com/questions/8354975/how-to-add-maxlength-for-html5-input-type-number-element)

对于在线测试，请使用此站点[http://www.w3schools.com/html/html5_form_input_types.asp](http://www.w3schools.com/html/html5_form_input_types.asp)

你`datetime`可以参考[http://tjvantoll.com/2012/06/30/creating-a-native-html5-datepicker-with-a-fallback-to-jquery-ui/](http://tjvantoll.com/2012/06/30/creating-a-native-html5-datepicker-with-a-fallback-to-jquery-ui/)

# wpf - 根据内容改变列宽

> ID：14722992
> 
> 赞同：0
> 
> 时间：2013-02-06T06:34:07.490
> 
> 标签：wpf, xaml, datagrid

我有一个 DataGrid，他的 ItemSource 绑定到以下对象：

```
public ObservableCollection<X> MyCollection{ get; set; } 
```

X 类包含 DataGrid 列的所有数据

例子：

```
private string name;

public string Name
{
    get { return name; }
    set
    {
        name= value;
        NotifyPropertyChanged("Name");
    }
} 
```

等等

有什么我可以在**xaml**中设置的列的宽度将基于内容（当内容会改变时，宽度也会相应地改变）？

我已经看到了许多在 C# 代码中执行此操作的示例，我希望它在 XAML 中完成，这可能吗？

**编辑：**

数据网格：

```
<DataGrid x:Name="DG" ItemsSource="{Binding}" AutoGenerateColumns="False">
  <DataGrid.Columns>
     <DataGridTextColumn Header="{x:Static p:Resources.Name}" Binding="{Binding Name}"></DataGridTextColumn>
     <DataGridTextColumn Header="{x:Static p:Resources.x}" Binding="{Binding X}"></DataGridTextColumn>
     <DataGridTextColumn Header="{x:Static p:Resources.y}" Binding="{Binding Y}"></DataGridTextColumn>
  </DataGrid.Columns>
</DataGrid> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T06:49:49.363

你可以设置`ColumnWidth="SizeToCells"`这将工作。

```
<DataGrid x:Name="DG" ColumnWidth="SizeToCells"  ItemsSource="{Binding}" AutoGenerateColumns="False"> 
```

可用的尺寸模式`ColumnWidth`

*   **Auto**默认的自动调整大小模式会根据单元格和列标题的内容来调整 DataGrid 列的大小。
*   **SizeToCells**基于单元格的自动调整大小模式根据列中单元格的内容来调整 DataGrid 列的大小，不包括列标题。
*   **SizeToHeader**基于标题的自动调整大小模式仅根据列标题的内容来调整 DataGrid 列的大小。
*   **Pixel**基于像素的大小调整模式根据提供的数值调整 DataGrid 列的大小。
*   **Star(*)**星型大小模式用于按加权比例分配可用空间

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T07:01:08.413

如果您像您一样在 XAML 中显式定义列，只需将宽度设置为 Auto。不过，这应该是默认设置。

```
<DataGridTextColumn Width="Auto" Header="{x:Static p:Resources.Name}" Binding="{Binding Name}"></DataGridTextColumn> 
```

# sql - 如何使用sql从表中选择列？

> ID：14722995
> 
> 赞同：1
> 
> 时间：2013-02-06T06:34:23.710
> 
> 标签：sql, multiple-columns

我有一张这样的桌子。

```
Name    c1  c2  c3  c4

one      1   2   3  4 
one      3   1   7  6
one      5   9   2  5
one      2   5   1  8
two      1   4   2  6
two  etc..... 
```

我想随机选择一个条件名称等于一的列。

结果应该是这样的..

```
c1 (This column will selected randomly)
1
3
5
2 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:38:24.053

简单的怎么样，

```
 select <col_name> from <table_name> where name = 'one'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T06:48:03.367

```
 SELECT <col_name> FROM <table_name> WHERE name = 'one' ORDER BY RAND() Limit 1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T06:45:07.357

```
select <col_name> from <table_name> where name = 'one' order by newid(); 
```

newid() 函数调用的顺序将有助于随机化返回的行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:49:41.610

Since I don't know your DBMS, here is a DBMS agnostic query that will select randomly a column from your table:

```
SELECT
   CASE round(3*rand()+1)
      WHEN 1 THEN c1
      WHEN 2 THEN c2
      WHEN 3 THEN c3
      WHEN 4 THEN c4 
   END;
FROM
   <table_name>
WHERE 
   name = 'one' 
```

**where**

`round()` is function that rounds its argument.

```
round(1.23) = 1
round(-1.58) = -2 
```

**and**

`rand()` is a function that generates a random value `v` in the range `0 <= v < 1.0`.

```
rand() => 0.123687466
rand() => 0.996574545 
```

# libgit2sharp - 如何在 Fetch 调用期间提供凭据？

> ID：14722998
> 
> 赞同：1
> 
> 时间：2013-02-06T06:34:38.167
> 
> 标签：libgit2sharp

我们不是在谈论 SSH，因为它尚未实现，但是在通过 HTTP/HTTPS 执行获取之前，如何为存储库提供凭据？Credentials 实例似乎没有参数，在构建用于存储凭据的 Repository 实例时也没有任何参数。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T07:05:24.643

在**FetchFixture.cs**文件中，有一个**[使用凭据的 Fetch() 测试](https://github.com/libgit2/libgit2sharp/blob/vNext/LibGit2Sharp.Tests/FetchFixture.cs#L52-L74)**：

```
 [SkippableFact]
    public void CanFetchIntoAnEmptyRepositoryWithCredentials()
    {
        InconclusiveIf(() => string.IsNullOrEmpty(Constants.PrivateRepoUrl),
            "Populate Constants.PrivateRepo* to run this test");

        string repoPath = InitNewRepository();

        using (var repo = new Repository(repoPath))
        {
            Remote remote = repo.Network.Remotes.Add(remoteName, Constants.PrivateRepoUrl);

            // Perform the actual fetch
            repo.Network.Fetch(remote, new FetchOptions
            {
                Credentials = new Credentials
                    {
                        Username = Constants.PrivateRepoUsername,
                        Password = Constants.PrivateRepoPassword
                    }
            });
        }
    } 
```