# StackOverflow 问答 15898000-15898999

# mysql - mysql数据库中的引用键插入

> ID：15898003
> 
> 赞同：1
> 
> 时间：2013-04-09T09:16:26.557
> 
> 标签：mysql, sql, database

我有 2 个表格结构线显示在图像中。

```
NG_SCHOOL.PHONE_ID is a foreign key to NG_PHONE_NUMBER.PHONE_NUMBER_ID, as shown in the schema. 
```

![在此处输入图像描述](https://i.stack.imgur.com/wAWlH.png)

现在我想使用以下查询在表中插入数据

```
INSERT INTO ng_school (SCHOOL_ID, SCHOOL_SYSTEM_ID, NAME, ZIP, CITY, PHONE,  LEAGUE_NAME, MINIMUM_GRADE_ID, MAXIMUM_GRADE_ID) VALUES ('testSchoolA','testSchoolSystem1','Elementary School A','90210','City of Los Angeles','213 555 1000','School A Athletic','K','GRADE6'); 
```

但它给出了错误

```
Error Code: 1054 - Unknown column 'PHONE' in 'field list' 
```

如何将这些数据插入到表中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T09:19:07.680

通过您的查询，您试图在 table 中不存在的列中插入电话号码`ng_school`。`ng_school`仅包含对电话号码 ( `phone_id`) 的引用，但不包含电话号码本身。

您需要做的是先将电话号码插入`ng_phone_number`，获取`PHONE_NUMBER_ID`值并将其插入`ng_school`.

简而言之：

1/`INSERT INTO ng_phone_number ....`

2/`SELECT LAST PHONE_NUMBER_ID or LAST_INSERT_ID()`

3/`INSERT INTO ng_school(PHONE_ID) VALUES ([phone_number_id goes here])`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T09:18:57.887

```
INSERT INTO ng_school (SCHOOL_ID, SCHOOL_SYSTEM_ID, NAME, ZIP, CITY, **PHONE**,  LEAGUE_NAME, MINIMUM_GRADE_ID, MAXIMUM_GRADE_ID) VALUES ('testSchoolA','testSchoolSystem1','Elementary School A','90210','City of Los Angeles','213 555 1000','School A Athletic','K','GRADE6'); 
```

因为你的表中没有电话列..它是**PHONE_ID**

# actionscript-3 - 将 Flash Stage 数据保存为 XML（运行时）

> ID：15898004
> 
> 赞同：0
> 
> 时间：2013-04-09T09:16:27.213
> 
> 标签：actionscript-3, flash, adobe, flashdevelop, starling-framework

我正在开发一个原型，我必须在其中生成舞台的 XML 文件，我的意思是说，在舞台上创建的元素的顺序我必须使用它们的数据类型和其他属性在 XML 中创建节点列表。

就像我在舞台上创建了两个movieClips，那么XML应该是这样的：

```
<root>
   <movieClip name="container">
     <width>100</width>
     <height>100</height>
     <alpha>0.5</alpha>
     <x>20</x>
     <y>0</y>
   </movieclip>

   <movieClip name="child">
     <width>200</width>
     <height>10</height>
     <alpha>1</alpha>
     <x>120</x>
     <y>50</y>
   </movieclip>
</root> 
```

它就像一个 XML 生成器工具，您将数据放在舞台上并生成该层次结构的 XML。如果有人知道我该如何实现这一目标，请与我分享。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:25:31.423

您需要使用此处提供的许多方法：

[http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/package.html](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/package.html)

特别看一下： [http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/package.html#getDefinitionByName()](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/package.html#getDefinitionByName())

和

[http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/package.html#describeType()](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/package.html#describeType())

有足够的耐心，它是可以做到的。

# arm - ARM 的 Nano-x 交叉编译

> ID：15898009
> 
> 赞同：1
> 
> 时间：2013-04-09T09:16:33.970
> 
> 标签：arm, cross-compiling

我正在尝试为 arm 架构交叉编译 nano-x。

我在配置文件中编辑了下一行：

> **ARCH = LINUX-ARM
> ARMTOOLSPREFIX = arm-none-linux-gnueabi-**

在我运行 make 之后，我有下一个错误：

```
编译引擎/image_jpeg.c ...
cc1：警告：包含位置“/usr/include/freetype2”对于交叉编译不安全
/home/user/oe/nanox/microwindows-0.92/src/engine/image_jpeg.c:49：致命错误：jpeglib.h：没有这样的文件或目录
编译终止。
make[1]: *** [/home/user/oe/nanox/microwindows-0.92/src/obj/engine/image_jpeg.o] 错误 1
make: *** [subdir-/home/user/oe/nanox/microwindows-0.92/src/mwin] 错误 2

```

此外，每次编译后，我都会收到警告：

```
cc1：警告：包含位置“/usr/include/some file”对于交叉编译不安全

```

我尝试为我的架构进行编译，一切顺利。演示正在运行。

还有下一个问题：

```
在函数“MwSelect”中：
/home/user/oe/nanox/microwindows-0.92/src/mwin/winmain.c:356：错误：“asm”中的不可能约束
/home/user/oe/nanox/microwindows-0.92/src/mwin/winmain.c:357：错误：“asm”中的不可能约束
/home/user/oe/nanox/microwindows-0.92/src/mwin/winmain.c:358：错误：“asm”中的不可能约束
make[1]: *** [/home/user/oe/nanox/microwindows-0.92/src/obj/mwin/winmain.o] 错误1
make: *** [subdir-/home/user/oe/nanox/microwindows-0.92/src/mwin] 错误 2
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:55:03.990

我怀疑您正在针对构建系统的头文件而不是目标文件进行编译。这是由于版本不匹配而导致奇怪崩溃的秘诀。

编译时使用 `--sysroot=<target-root>` - 其中`<target-root>`是目标文件系统映像的根目录，包括头文件和库文件。

# c - 神秘的功能原型

> ID：15898010
> 
> 赞同：-3
> 
> 时间：2013-04-09T09:16:34.917
> 
> 标签：c, function

我正在 HCMUS 学习信息技术。3 年来，我从未见过这个功能的原型。

```
static void
FUNCTION(fft_halfcomplex,pass_4) (const BASE in[],
                                  const size_t istride,
                                  BASE out[],
                                  const size_t ostride,
                                  const size_t product,
                                  const size_t n,
                                  const TYPE(gsl_complex) twiddle1[],
                                  const TYPE(gsl_complex) twiddle2[],
                                  const TYPE(gsl_complex) twiddle3[]) 
```

你能解释一下这个原型 ( `FUNCTION(fft_halfcomplex,pass_4)`) 的核心部分对我来说是什么吗？我确信这段代码可以运行良好。如果你不相信我，你可以在[http://www.fon.hum.uva.nl/praat/download_sources.html](http://www.fon.hum.uva.nl/praat/download_sources.html)下载这个，你会看到的。谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:21:08.923

FUNCTION() 是一个类似函数的宏，它将由预处理器扩展为类似 fft_halfcomplex_pass_4 的东西，具体取决于某些定义。

# iphone - 部署目标

> ID：15898011
> 
> 赞同：-4
> 
> 时间：2013-04-09T09:16:38.250
> 
> 标签：iphone, ios

如果我将我的应用程序的部署目标设置为 iOS 6，并且在提交到应用商店时，使用 iOS 4.3（或 ios5）的用户是否无法下载安装应用程序本身？如何将在 ios4.3 上运行的应用程序部署到ios6 .请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:22:26.717

> **IPHONEOS_DEPLOYMENT_TARGET**
> 
> **说明**：
> 
> 代码将在此版本和更高版本的 iOS 上加载。早期版本中不可用的框架 API 将被弱链接；您的代码应在调用较新的 API 之前检查空函数指针或特定系统版本。[IPHONEOS_DEPLOYMENT_TARGET]
> 
> iOS 4.3 - 代码不会在 4.3 之前的系统上加载。[4.3]
> 
> iOS 5.0 - 代码不会在 5.0 之前的系统上加载。[5.0]
> 
> iOS 5.1 - 代码不会在 5.1 之前的系统上加载。[5.1]
> 
> iOS 6.0 - 代码不会在 6.0 之前的系统上加载。[6.0]

要在 ios 4.3 上部署应用程序，请将 设置`iOS Deployment target`为 4.3

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:24:36.290

检查您的代码并在项目设置中将部署**目标设置为 4.3 ...**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:29:42.167

明确的答案是否定的 您必须将您的部署目标设置为 4.3

![在此处输入图像描述](https://i.stack.imgur.com/O2ixe.png)

# vim - 我想要两个插件 TagbarToggle 和 WMToggle 不会同时出现

> ID：15898012
> 
> 赞同：1
> 
> 时间：2013-04-09T09:16:38.467
> 
> 标签：vim

同时，下一个是我的 vimrc 配置

```
map <silent> <F12> :TagbarToggle<cr> :WMToggle<cr> :wincmd h<CR> 
```

当 TagbarToggle 可见时，将隐藏 TagbarToggle 并且 WMToggle 变为可见。反之亦然。

当一切不可见时，将使一切可见。当我点击时，我只想要其中一个苹果

我该怎么办？

以下是我的思路，但我不知道如何实现

```
map <F12> :call ShowSlidebar()<cr>
func! ShowSlidebar()
        if TagbarToggle is visible
                exec "TagbarToggle"
                exec "WMToggle"
                return
        else
                exec "TlistToggle"
                return
                endif
endfunc 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:21:29.257

有些插件提供了查询它当前是否处于活动状态的功能，有些插件有一个全局变量。您需要深入研究插件的代码才能找到答案。

如果插件窗口具有固定名称，您还可以使用以下方法检查可见性：

```
function! IsTagBarEnabled()
    return (bufwinnr('__Tagbar__') != -1)
endfunction 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:04:34.983

现在可以了，如下：

```
470 function !IsBufEnabled()            
471     return (bufwinnr('[Buf List]') != -1)    
472 endfunction
473 
474 map <F12> :call ShowSlidebar()<cr>                                                                                                                                   
475 function! ShowSlidebar()            
476     if IsTagBarEnabled()            
477         exec "TagbarToggle"         
478         exec "WMToggle"             
479     elseif IsBufEnabled()           
480         exec "WMToggle"
481         exec "TagbarToggle"
482     else
483         exec "TagbarToggle"
484     endif
485 endfunction 
```

# java - 使用 JOptionpane 创建对象

> ID：15898015
> 
> 赞同：0
> 
> 时间：2013-04-09T09:16:42.753
> 
> 标签：java, swing, joptionpane

我想将 Person 或公司对象添加到 arrayList，使用 JOptionPane 或任何其他可用选项的车辆类型。有没有办法做到这一点？要使用 JOptionPane 调用我的方法，并将其与车辆类型一起添加到数组列表中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:37:53.673

JOptionPane 不适用于对象创建，您必须在调用 JOptionPane 可见性之前创建对象。

# php - 如何将 url 引用到 wordpress 中正文的特定块

> ID：15898021
> 
> 赞同：0
> 
> 时间：2013-04-09T09:16:56.313
> 
> 标签：php, wordpress, content-management-system

是否可以重定向到页面的特定部分。

我在页面中创建了`div`带有 id="refrence"的`<div id="reference">`

现在我如何从 Word Press 中的 URL 引用这个 div。我试图创建网址

myblog/page1#reference 在创建页面但没有成功..

任何帮助都是可取的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:20:20.173

您应该为此使用 HTML 锚点，而不是 DIV：

```
<a name="top"></a> 
```

或者

```
<a name="TOC">Table of Contents</a> 
```

并像这样链接：

```
<a href="#TOC">Table of Contents</a> 
```

# objective-c - 覆盖 NSDocumentDirectory 中的前一个文件

> ID：15898026
> 
> 赞同：1
> 
> 时间：2013-04-09T09:17:03.903
> 
> 标签：objective-c, xcode, nsfilemanager

我已使用此代码将字符串写入同一个文件 10 次。但它会覆盖每次新发布的先前数据。我想将新数据附加到旧数据。

```
[@"one" writeToFile:[self returnDocumentsDirectory] atomically:NO encoding:NSASCIIStringEncoding error:nil];

-(NSString *)returnDocumentsDirectory
{
    NSArray *DocumentsDirectoryPath = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *path = [DocumentsDirectoryPath objectAtIndex:0];
    NSString *filePath = [path stringByAppendingPathComponent:@"History.txt"];
    return filePath;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:24:03.300

使用以下代码写入文件

```
NSArray *DocumentsDirectoryPath = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *path = [DocumentsDirectoryPath objectAtIndex:0];
NSString *filePath = [path stringByAppendingPathComponent:@"History.txt"];

// Create a FileHandle
NSFileHandle *myHandle; 
```

将以下代码放入循环中以进行多个附加操作

```
// Check File Exist at Location or not, if not then create new
if(![[NSFileManager defaultManager] fileExistsAtPath:filePath])
   [[NSFileManager defaultManager] createFileAtPath:filePath contents:[@"Your First String" dataUsingEncoding:NSUTF8StringEncoding] attributes:nil];

// Create handle for file to update content
myHandle = [NSFileHandle fileHandleForUpdatingAtPath:filePath];

// move to the end of the file to add data
[myHandle seekToEndOfFile];

// Write data to file
[myHandle writeData:  [@"YOUr Second String" dataUsingEncoding:NSUTF8StringEncoding]];

// Close file
[myHandle closeFile]; 
```

# jquery - jQuery：如何添加活动的选定菜单类？

> ID：15898029
> 
> 赞同：0
> 
> 时间：2013-04-09T09:17:06.330
> 
> 标签：jquery, html, css

我在使用此菜单的活动课程时遇到问题。

![在此处输入图像描述](https://i.stack.imgur.com/3ey7G.png)

正如您在此处看到的，现在活动课程位于所有订单选项卡上。

当我单击它并删除过去选项卡的类时，我想在每个选项卡上激活它。

此菜单的 HTML -

```
<ul id="mainSideMenu" class="nav nav-list nav-side" >
    <li class="accordion-group">
        <div class="accordion-heading active ">
            <a href="#accDash" id="AllOrders" data-parent="#mainSideMenu"  data-toggle="collapse" class="accordion-toggle ">
                <span class="item-icon fontello-icon-monitor "></span><i class="chevron fontello-icon-right-open-3"></i>
                All Orders
            </a>
        </div>
    </li>
</ul> 
```

这是活跃的课程-

```
.nav-side .accordion-group > .active {
    background: url("../img/background/body-bg-02.jpg") repeat scroll 0 0;
} 
```

使用 jQuery 我尝试过-

```
$(function(){
    $(".accordion-group").click(function(){
        $(".accordion-group").removeClass('.active').addClass('.active');
        $(this).addClass('.active');
    });
}); 
```

那没有发生

这发生在这里 - [Boo 管理模板](http://themeforest.net/item/boo-admin-responsive-template/full_screen_preview/3489498)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:18:55.480

您不需要`addClass`and中的前导点`removeClass`。
为什么要在第二行添加活动类？删除那部分。
而且您将课程添加到标题，而不是组？

```
$(function(){
    $(".accordion-group").click(function(){
        $(".accordion-heading").removeClass('active');
        $(this).find('.accordion-heading').addClass('active');
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:19:27.107

`.accordion-group`拥有`active`该类的不是您的，因此您不需要在其中添加和删除它。此外，您应该添加和删除一个名为 的类`active`，而不是`.active`。

似乎您当前正在删除活动类后立即重新添加它，这是错误的。

```
$(function(){
   $(".accordion-group").click(function(){
      $(".accordion-group .active").removeClass('active');
      $('.accordion-heading', this).addClass('active');
   });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:19:29.310

尝试这个

```
$(".accordion-group").removeClass('active').addClass('active'); 
```

类名就足够了。删除`.`类名之前

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T09:19:37.513

删除 .from 类名

```
$(function(){
$(".accordion-group").click(function(){
$(".accordion-group").removeClass('active').addClass('active');
$(this).addClass('active');
});
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T09:20:18.577

```
$(this).addClass('active'); 
```

消除`.`

阅读更多关于[.addClass()](http://api.jquery.com/addClass/)和[.removeClass()](http://api.jquery.com/removeClass/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-09T13:12:00.627

由于这似乎是一个手风琴插件，我认为点击被“a”捕获并且没有传播到 li.accordion-group （这就是您的代码似乎没有被执行的原因），您是否尝试过监听事件“a”而不是“li”？

就像是

```
$(function(){
    $(".accordion-group .accordion-heading a").click(function(){
        $(".accordion-heading").removeClass('active');
        $(this).parent().addClass('active');
    });
}); 
```

顺便说一句，我会使用 .on() 方法而不是 .click() :)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-09T09:23:57.467

```
<ul class="ulVertical">
        <li id="firstLink" class="vertical-selected-li">My First Link</li>
        <li id="secondLink" class="">My Second List</li>
        <
    </ul>

<script type="text/javascript">
$(document).ready(function () { 
    $("#secondLink").click(function () {

    $(this).siblings().removeClass('vertical-selected-li');
    $(this).addClass('vertical-selected-li');

    }); 
});
</script> 
```

# image - 在插件代码中设置默认特色图片

> ID：15898033
> 
> 赞同：0
> 
> 时间：2013-04-09T09:17:08.420
> 
> 标签：image, wordpress, plugins, featured

继之前的一篇文章之后，下面的代码是 Keyring Social Importer 的一部分，它从 Twitter 导入我的推文，并将它们作为单独的博客文章发布在我自己安装的网站上。

我怎样才能让它将它创建的所有博客文章的特色图像设置为某些东西？

目前它只是将我的推文导入为博客帖子，没有任何图像。但是我的主题在很大程度上依赖于特色图像和缩略图，所以我想知道如何以编程方式设置它。

```
<?php

function Keyring_Twitter_Importer() {

class Keyring_Twitter_Importer extends Keyring_Importer_Base {
    const SLUG              = 'twitter';    // e.g. 'twitter' (should match a service in Keyring)
    const LABEL             = 'Twitter';    // e.g. 'Twitter'
    const KEYRING_SERVICE   = 'Keyring_Service_Twitter';    // Full class name of the Keyring_Service this importer requires
    const REQUESTS_PER_LOAD = 3;     // How many remote requests should be made before reloading the page?

    var $auto_import = false;

    function __construct() {
        parent::__construct();
        add_action( 'keyring_importer_twitter_custom_options', array( $this, 'custom_options' ) );
    }

    function custom_options() {
        ?><tr valign="top">
            <th scope="row">
                <label for="include_rts"><?php _e( 'Import retweets', 'keyring' ); ?></label>
            </th>
            <td>
                <input type="checkbox" value="1" name="include_rts" id="include_rts"<?php echo checked( $this->get_option( 'include_rts', true ) ); ?> />
            </td>
        </tr>
        <tr valign="top">
            <th scope="row">
                <label for="include_replies"><?php _e( 'Import @replies', 'keyring' ); ?></label>
            </th>
            <td>
                <input type="checkbox" value="1" name="include_replies" id="include_replies"<?php echo checked( $this->get_option( 'include_replies', true ) ); ?> />
            </td>
        </tr><?php
    }

    function handle_request_options() {
        // Validate options and store them so they can be used in auto-imports
        if ( empty( $_POST['category'] ) || !ctype_digit( $_POST['category'] ) )
            $this->error( __( "Make sure you select a valid category to import your checkins into." ) );

        if ( empty( $_POST['author'] ) || !ctype_digit( $_POST['author'] ) )
            $this->error( __( "You must select an author to assign to all checkins." ) );

        if ( isset( $_POST['auto_import'] ) )
            $_POST['auto_import'] = true;
        else
            $_POST['auto_import'] = false;

        if ( isset( $_POST['include_rts'] ) )
            $_POST['include_rts'] = true;
        else
            $_POST['include_rts'] = false;

        if ( isset( $_POST['include_replies'] ) )
            $_POST['include_replies'] = true;
        else
            $_POST['include_replies'] = false;

        // If there were errors, output them, otherwise store options and start importing
        if ( count( $this->errors ) ) {
            $this->step = 'greet';
        } else {
            $this->set_option( array(
                'category'        => (int) $_POST['category'],
                'tags'            => explode( ',', $_POST['tags'] ),
                'author'          => (int) $_POST['author'],
                'include_replies' => (bool) $_POST['include_replies'],
                'include_rts'     => (bool) $_POST['include_rts'],
                'auto_import'     => (bool) $_POST['auto_import'],
                'user_id'         => $this->service->get_token()->get_meta( 'user_id' ),
            ) );

            $this->step = 'import';
        }
    }

    function build_request_url() {
        // Base request URL
        $url = "http://api.twitter.com/1/statuses/user_timeline.json?";
        $params = array(
            'user_id' => $this->get_option( 'user_id' ),
            'trim_user' => 'true',
            'count' => 75, // More than this and Twitter seems to get flaky
            'include_entities' => 'true',
        );
        if ( false == $this->get_option( 'include_replies' ) )
            $params['exclude_replies'] = 'true';
        if ( true == $this->get_option( 'include_rts' ) )
            $params['include_rts'] = 'true';
        $url = $url . http_build_query( $params );

        if ( $this->auto_import ) {
            // Locate our most recently imported Tweet, and get ones since then
            $latest = get_posts( array(
                'numberposts' => 1,
                'orderby' => 'date',
                'order' => 'DESC',
                'meta_key'    => 'keyring_service', // In case there are other asides
                'meta_value'  => 'twitter',
                'tax_query' => array( array(
                    'taxonomy' => 'post_format',
                    'field' => 'slug',
                    'terms' => array( 'post-format-standard' ), // Tweets stored as asides
                    'operator' => 'IN',
                ) ),
            ) );

            // If we have already imported some, then start since the most recent
            if ( $latest ) {
                $max = get_post_meta( $latest[0]->ID, 'twitter_id', true );
                $url = add_query_arg( 'since_id', $max, $url );
            }
        } else {
            // Handle page offsets (only for non-auto-import requests)
            $url = add_query_arg( 'page', $this->get_option( 'page', 0 ), $url );
        }

        return $url;
    }

    function extract_posts_from_data( $raw ) {
        global $wpdb;

        $importdata = $raw;

        if ( null === $importdata ) {
            $this->finished = true;
            return new Keyring_Error( 'keyring-twitter-importer-failed-download', __( 'Failed to download your tweets from Twitter. Please wait a few minutes and try again.', 'keyring' ) );
        }

        // Check for API overage/errors
        if ( !empty( $importdata->error ) ) {
            $this->finished = true;
            return new Keyring_Error( 'keyring-twitter-importer-throttled', __( 'You have made too many requests to Twitter and have been temporarily blocked. Please try again in 1 hour (duplicate tweets will be skipped).', 'keyring' ) );
        }

        // Make sure we have some tweets to parse
        if ( !is_array( $importdata ) || !count( $importdata ) ) {
            $this->finished = true;
            return;
        }

        // Get the total number of tweets we're importing
        if ( !empty( $importdata[0]->user->statuses_count ) )
            $this->set_option( 'total', $importdata[0]->user->statuses_count );

        // Parse/convert everything to WP post structs
        foreach ( $importdata as $post ) {
            // Double-check for @replies, which shouldn't be included at all if we chose to skip them
            if ( true == $this->get_option( 'exclude_replies' ) && null != $post->in_reply_to_screen_name )
                continue;

            // Post title can be empty for Asides, but it makes them easier to manage if they have *something*
            $title_words = explode( ' ', strip_tags( $post->text ) );
            $post_title  = implode( ' ', array_slice( $title_words, 0, 15 ) );
// Use the first 15 words
            if ( count( $title_words ) > 15 )
                $post_title .= '&hellip;'; 

            // Parse/adjust dates
            $post_date_gmt = strtotime( $post->created_at );
            $post_date_gmt = gmdate( 'Y-m-d H:i:s', $post_date_gmt );
            $post_date     = get_date_from_gmt( $post_date_gmt );

            // Apply selected category
            $post_category = array( $this->get_option( 'category' ) );

            // Clean up content a bit
            $post_content = $post->text;
            $post_content = $wpdb->escape( html_entity_decode( trim( $post_content ) ) );

            // Handle entities supplied by Twitter
            if ( count( $post->entities->urls ) ) {
                foreach ( $post->entities->urls as $url ) {
                    $post_content = str_replace( $url->url, $url->expanded_url, $post_content );
                }
            }

            // Any hashtags used in a tweet will be applied to the Post as tags in WP
            $tags = $this->get_option( 'tags' );
            if ( preg_match_all( '/(^|[(\[\s])#(\w+)/', $post_content, $tag ) )
                $tags = array_merge( $tags, $tag[2] );

            // Add HTML links to URLs, usernames and hashtags
            $post_content = make_clickable( esc_html( $post_content ) );

            // Include geo Data (if provided by Twitter)
            if ( !empty( $post->geo ) && 'point' == strtolower( $post->geo->type ) )
                $geo = array(
                    'lat' => $post->geo->coordinates[0],
                    'long' => $post->geo->coordinates[1]
                );
            else
                $geo = array();

            // Get a GUID from Twitter, plus other important IDs to store in postmeta later
            $user = $this->service->get_token()->get_meta( 'username' );
            $twitter_id              = $post->id_str;
            $twitter_permalink       = "https://twitter.com/{$user}/status/{$twitter_id}";
            $in_reply_to_user_id     = $post->in_reply_to_user_id;
            $in_reply_to_screen_name = $post->in_reply_to_screen_name;
            $in_reply_to_status_id   = $post->in_reply_to_status_id;
            $post_author             = $this->get_option( 'author' );
            $post_status             = 'publish';
            $twitter_raw             = $post;

            // Build the post array, and hang onto it along with the others
            $this->posts[] = compact(
                'post_author',
                'post_date',
                'post_date_gmt',
                'post_content',
                'post_title',
                'post_status',
                'post_category',
                'tags',
                'twitter_id',
                'twitter_permalink',
                'geo',
                'in_reply_to_user_id',
                'in_reply_to_screen_name',
                'in_reply_to_status_id',
                'twitter_raw'
            );
        }
    }

    function insert_posts() {
        global $wpdb;
        $imported = 0;
        $skipped  = 0;
        foreach ( $this->posts as $post ) {
            extract( $post );
            if (
                $wpdb->get_var( $wpdb->prepare( "SELECT meta_id FROM {$wpdb->postmeta} WHERE meta_key = 'twitter_id' AND meta_value = %s", $twitter_id ) )
            ||
                $post_id = post_exists( $post_title, $post_content, $post_date )
            ) {
                // Looks like a duplicate
                $skipped++;
            } else {
                $post_id = wp_insert_post( $post );

                if ( is_wp_error( $post_id ) )
                    return $post_id;

                if ( !$post_id )
                    continue;

                // Track which Keyring service was used
                add_post_meta( $post_id, 'keyring_service', $this->service->get_name() );

                // Store the twitter id, reply ids etc
                add_post_meta( $post_id, 'twitter_id', $twitter_id );
                add_post_meta( $post_id, 'twitter_permalink', $twitter_permalink );
                if ( !empty( $in_reply_to_user_id ) )
                    add_post_meta( $post_id, 'twitter_in_reply_to_user_id', $in_reply_to_user_id );
                if ( !empty( $in_reply_to_screen_name ) )
                    add_post_meta( $post_id, 'twitter_in_reply_to_screen_name', $in_reply_to_screen_name );
                if ( !empty( $in_reply_to_status_id ) )
                    add_post_meta( $post_id, 'twitter_in_reply_to_status_id', $in_reply_to_status_id );

                // Update Category and Tags
                wp_set_post_categories( $post_id, $post_category );
                if ( count( $tags ) )
                    wp_set_post_terms( $post_id, implode( ',', $tags ) );

                // Store geodata if it's available
                if ( !empty( $geo ) ) {
                    add_post_meta( $post_id, 'geo_latitude', $geo['lat'] );
                    add_post_meta( $post_id, 'geo_longitude', $geo['long'] );
                    add_post_meta( $post_id, 'geo_public', 1 );
                }

                add_post_meta( $post_id, 'raw_import_data', json_encode( $twitter_raw ) );

                $imported++;
            }
        }
        $this->posts = array();

        // Return, so that the handler can output info (or update DB, or whatever)
        return array( 'imported' => $imported, 'skipped' => $skipped );
    }
}

} // end function Keyring_Twitter_Importer

add_action( 'init', function() {
    Keyring_Twitter_Importer(); // Load the class code from above
    keyring_register_importer(
        'twitter',
        'Keyring_Twitter_Importer',
        plugin_basename( __FILE__ ),
        __( 'Import all of your tweets from Twitter as Posts (marked as "asides") in WordPress.', 'keyring' )
    );
} ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T07:23:02.737

找到感兴趣的人的答案。只需在指定位置添加以下“新行”：

```
 }

        add_post_meta( $post_id, 'raw_import_data', json_encode( $twitter_raw ) );

        // NEW LINE (change 1001 to the image ID):
        set_post_thumbnail( $post_id, 1001 );

        $imported++;
    } 
```

# scala - 如何检查 WeakTypeTag 或 Type 是否代表具体类型？

> ID：15898037
> 
> 赞同：4
> 
> 时间：2013-04-09T09:17:25.630
> 
> 标签：scala, reflection, scala-macros

如何检查`WeakTypeTag`或`Type`表示具体类型？这在宏中特别有用，当用户给出的类型不具体时，我可以使用它来引发编译错误：

```
def macroMethod[T]: Unit = macro macroMethod_impl[T]

def macroMethod_impl[T: c.WeakTypeTag](c: Context): c.Expr[Unit] = {
  import c.universe._

  def isConcrete(tpe: Type) = ???

  if(!isConcrete(weakTypeOf[T])) {
    c.error(c.enclosingPosition, "You must provide concrete type.")
  }

  c.literalUnit
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:17:34.737

我认为这可以解决问题：

```
def isConcrete(tpe: Type) = !tpe.typeSymbol.asType.isAbstractType 
```

然后

```
scala> macroMethod[Int]

scala> class C[T] { macroMethod[T] }
<console>:10: error: You must provide concrete type.
       class C[T] { macroMethod[T] } 
```

# javascript - 使用 codeigniter 通过 AJAX 将数据从数据库传递到 Bootstrap Modal

> ID：15898042
> 
> 赞同：0
> 
> 时间：2013-04-09T09:17:32.470
> 
> 标签：javascript, html, codeigniter, twitter-bootstrap

我对codeigniter相当陌生，似乎无法做到这一点。我有一个引导模型，它应该显示数据库中的值。现在的问题是，我的要求是使用 AJAX 从数据库中获取值，并将其插入到相关字段 [在 Modal 中的表单]。我知道如何使用 AJAX 插入数据，但从未使用它来检索和填充某些内容。

请有人可以解决这个困境，我已经有几个小时了这个问题......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T00:28:43.933

单击按钮，只需对控制器进行 Ajax 调用。

```
 $('#button').click( function(){
     $.ajax({
                type: "POST",
                url: "your url to controller function here",
            }).done(function( html ) {
                $(".bootstrap_modal").html(html);
            }); 
```

在控制器函数中调用模型函数来运行查询并获取结果集。

现在

```
 $data['result'] = $this->model_name->function_name();
   $this->load->view('views/reveals/modal_content', $data); 
```

# c# - 查询 IEnumerable 含有未知元素

> ID：15898043
> 
> 赞同：0
> 
> 时间：2013-04-09T09:17:35.207
> 
> 标签：c#, xml, linq

我希望查询一个 IEnumerable 以根据较低元素中保存的属性对其进行过滤。我不知道元素名称，但知道要查询的属性。

提供更多细节。

此 SearchVars 类将包含表单上的选定搜索选项。它还包含 ObjectType 的属性，它是 XML 对象在文件中的标识符。对于以下 XML 示例，对象类型将为 T1

```
 class SearchVars
    {
      public string  ObjectType { get; set; }
      public string ClientId  { get; set; }
      public string CustRef { get; set; }
    } 
```

XML 提取示例

```
<root>
<T1>
    <FT ClientID="PCL1" />
    <T2 CustRef="Cust1">
        <T3 Name="Site1">
            <TER Error="123" ErrorText="Error 123" />
            <TER Error="234" ErrorText="Error 234" />
            <T4 SubErr="50420208">
                <TSER ID="2199991741074" CHN="1">
                    <TER Error="567" ErrorText="Error 567" />
                </TSER>
            </T4>
        </T3>
    </T2>
</T1>
<T1>
    <FT ClientID="PCL1" />
    <T2 CustRef="Cust2">
        <T3 Name="Site2">
            <TER Error="123" ErrorText="Error 123" />
            <TER Error="234" ErrorText="Error 234" />
        </T3>
    </T2>
</T1>
</root> 
```

我将尝试根据 ClientID 和 CustRef 搜索错误属性。在搜索方法中，我的初始代码是将所有 T1 拉入可枚举的。2 个空的 IF 是我让 LINQ 查询过滤搜索变量上的数据的地方。因此，如果 ClientID 是 PCL1，则过滤存在该客户端 ID 属性值的 T1。

```
 public static IEnumerable<XObject> PerformSearch(string xmlData, Models.SearchVars vars)
         {
           XDocument document = XDocument.Parse(xmlData);
           IEnumerable<XObject> result = document.Descendants(vars.ObjectType);

           if (! string.IsNullOrEmpty(vars.ClientId))
           {

           }

           if (!string.IsNullOrEmpty(vars.CustRef))
           {

           }

           return result;
         } 
```

我希望我正在尝试的内容很清楚，并期待今天能学到一点东西。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:01:57.550

这不像我想要的那样干净，但它有效。非常愿意接受更好的想法！

```
class Search
{
    public static IEnumerable<XObject> PerformSearch(string xmlData, Models.SearchVars vars)
    {
        XDocument document = XDocument.Parse(xmlData);
        IEnumerable<XObject> result = document.Descendants(vars.ObjectType);

        if (! string.IsNullOrEmpty(vars.ClientId))
        {
            result = from i in result
                     where i.ToString().Contains(string.Format("ClientId={0}",vars.ClientId))
                     select i;
        }

        if (!string.IsNullOrEmpty(vars.CustRef))
        {
            result = from i in result
                     where i.ToString().Contains(string.Format("CustRef={0}", vars.CustRef))
                     select i;
        }

        return result;
    }
} 
```

# sql - SQL WITH 中的 WITH

> ID：15898047
> 
> 赞同：0
> 
> 时间：2013-04-09T09:17:41.743
> 
> 标签：sql, sql-server, loops, with-statement

我想用 SQL 查询写一个 with in 。

去一些错误。请帮忙：

```
DECLARE @Start AS DATETIME;
DECLARE @End AS DATETIME;
SET @Start = '2013-04-09';
SET @End = '2013-04-11';
with View_Solidnet_Training as 
(
with View_Solidnet_Training as
(
select  cast(@Start as datetime) DateValue
union all
select DateValue + 1
from View_Solidnet_Training
where DateValue + 1 <= cast(@End as datetime)
)
insert into OBJ_Availability  
select 34, DateValue, 'AM', 2, 'Test' from View_Solidnet_Training;
)
select * from View_Solidnet_Training where PK_Training_ID is not null; 
```

错误：

> 消息 156，级别 15，状态 1，第 7 行
> 关键字“with”附近的语法不正确。
> 消息 319，级别 15，状态 1，第 7 行
> 关键字“with”附近的语法不正确。如果此语句是公用表表达式或 xmlnamespaces 子句，则前面的语句必须以分号结束。
> 消息 102，级别 15，状态 1，第 17 行
> ')' 附近的语法不正确。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:40:45.270

尝试这个。这只是示例代码。在这段代码中，它是用 CTE 编写的 CTE。

```
;with CTE1 as (
SELECT Patientid
,Lastname1
,age
,dob
,ROW_NUMBER() OVER (ORDER BY Patientid DESC) AS RowNumber
FROM PTN_PATIENT    
)
,CTE2 AS (
SELECT CTE1.Patientid
,CTE1.Lastname1
,CTE1.age
,CTE1.dob
,CTE1.RowNumber
,DATEDIFF(YEAR,CTE1.dob,GETDATE()) as yearOfservce
FROM Lab_LabDiagOrder INNER JOIN CTE1
ON Lab_LabDiagOrder.Patientid = CTE1.Patientid
WHERE CTE1.RowNumber between 1 and 5
)
SELECT * FROM CTE2; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:27:44.307

您不能在 CTE（公用表表达式）中拥有`DECLARE`和。`SET`

```
DECLARE @Start AS DATETIME;
DECLARE @End AS DATETIME;
SET @Start = '2013-04-09';
SET @End = '2013-04-11';

;WITH View_Solidnet_Training AS
(
    SELECT @Start AS DateValue

    UNION ALL

    SELECT DateValue + 1
    FROM View_Solidnet_Training
    WHERE DateValue + 1 <= @End 
)
SELECT
    34, DateValue, 'AM', 2, 'Test' 
FROM 
    View_Solidnet_Training
-- WHERE 
--    PK_Training_ID IS NOT NULL 
```

我不知道它`PK_Training_ID` 应该来自哪里-在您的代码中找不到它.....

笔记：

*   您不能在 CTE 中拥有`DECLARE`和`SET`- 只有`SELECT`和`UNION ALL`
*   `@Start`and`@End`已经被声明为- 再次将`DATETIME`它们强制转换为绝对没有意义`DATETIME`....
*   CTE 中的值在 CTE 之后立即可用，对于**一个 T-SQL 语句**

# expressionengine - 是否可以使用 EE、Structure 和 Playa 来创建多个相关的列表和详细信息页面？

> ID：15898052
> 
> 赞同：0
> 
> 时间：2013-04-09T09:18:03.927
> 
> 标签：expressionengine

我们有一个单一的通道来保存一个数据集的所有信息，在我们的例子中，生产者。

对于我们的客户每年举办的每个活动，我们都有多个活动类型的渠道。

然后，我们向 Producer 频道添加一个包含关系字段的条目，以便我们可以显示参加该特定活动的 Producer 列表。

这工作正常，但如果例如 200 名生产者参加一个活动，则可能会耗费大量人力，因为我们必须在该特定活动类型频道中创建 200 个新条目。

我们认为 Playa 可能会使这成为一个更好的管理流程，因为它允许您在一个 Playa 字段中选择多个关系。因此，每个事件类型通道将只有一个条目，它有一个保存所有生产者关系的 Playa 字段。

麻烦的是，我们不能让它与 Structure 一起使用，因为 Structure 似乎无法识别个体关系。以下代码列出了事件的生产者，但没有链接到详细信息页面，因为每个列表的 {page_uri} 变量都是空的（这就是我们假设关系未被识别的原因）：

```
{exp:structure:entries}

    {exp:playa:children field="producers" limit="5"}
        <p><a href="{page_uri}">{page_uri}</a></p>

    {/exp:playa:children}

{/exp:structure:entries} 
```

Expression Engine、Structure 和 Playa 是否可以这样工作，如果可以，我们如何纠正上述模板代码？

# php - 如何检查 SimpleXML 中是否存在嵌套属性

> ID：15898055
> 
> 赞同：5
> 
> 时间：2013-04-09T09:18:16.710
> 
> 标签：php

我想摆脱“尝试获取非对象的属性”警告，但在我的情况下无法找出检查属性是否存在的正确语法。

```
$this->nonce = $syncbod->Status->Chal->Meta->NextNonce; 
```

试图打电话

```
property_exists($syncbod, "Status->Chal") 
```

返回总是假的。检查是否`Chal`存在的正确方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T09:45:00.703

你应该看看[isset](http://php.net/manual/en/function.isset.php)

看到这个[问题](https://stackoverflow.com/questions/4576671/php-testing-for-existence-of-a-cell-in-a-multidimensional-array)，虽然这个问题适用于数组，但同样的原则也适用于 SimpleXml 属性。问题更多是对嵌套部分的引用，而不是对数组部分的引用

# web-services - 托管在共享主机上时，Web API 删除和放置不起作用

> ID：15898059
> 
> 赞同：0
> 
> 时间：2013-04-09T09:18:30.300
> 
> 标签：web-services, asp.net-mvc-4, asp.net-web-api

我担心的是我返回 JSON 的 web-api 项目在本地工作得很好，但是当托管在共享主机上时

我已经添加了这个

`<modules runAllManagedModulesForAllRequests="true"> <remove name="WebDAVModule"/> </modules>`

我还检查了这个 [http://geekswithblogs.net/michelotti/archive/2011/05/28/resolve-404-in-iis-express-for-put-and-delete-verbs.aspx](http://geekswithblogs.net/michelotti/archive/2011/05/28/resolve-404-in-iis-express-for-put-and-delete-verbs.aspx)

也检查了本文中提到的设置，一切都在那里。

**删除和放置 - [http://api.antheminfotech.net/api/employees/23](http://api.antheminfotech.net/api/employees/23) - 500 错误**

我已经厌倦了很多事情，我对 web-api 有点陌生，所以也许我错过了一些东西......或者我需要一个 VPS 主机来获得所需的访问权限......

顺便说一句，我正在使用 enitiy 框架并为此创建一个自动生成的控制器，基于 EF 模型。

```
 Function PutEmpDetail(ByVal id As Integer, ByVal empdetail As EmpDetail) As HttpResponseMessage
    If Not ModelState.IsValid Then
        Return Request.CreateErrorResponse(HttpStatusCode.BadRequest, ModelState)
    End If

    If Not id = empdetail.Id Then
        Return Request.CreateResponse(HttpStatusCode.BadRequest)
    End If

    db.Entry(empdetail).State = EntityState.Modified

    Try
        db.SaveChanges()
    Catch ex As DbUpdateConcurrencyException
        Return Request.CreateErrorResponse(HttpStatusCode.NotFound, ex)
    End Try

    Return Request.CreateResponse(HttpStatusCode.OK)
End Function

 Function DeleteEmpDetail(ByVal id As Integer) As HttpResponseMessage
    Dim empdetail As EmpDetail = db.EmpDetails.Find(id)
    If IsNothing(empdetail) Then
        Return Request.CreateResponse(HttpStatusCode.NotFound)
    End If

    db.EmpDetails.Remove(empdetail)

    Try
        db.SaveChanges()
    Catch ex As DbUpdateConcurrencyException
        Return Request.CreateErrorResponse(HttpStatusCode.NotFound, ex)
    End Try

    Return Request.CreateResponse(HttpStatusCode.OK, empdetail)
End Function 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T04:21:33.143

似乎问题在于共享主机，他们无法绕过安全性并提供正确的访问权限。我将 API 移动到 VPS 并且它在那里工作得很顺畅。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-14T07:10:31.803

通常在共享主机上，这些额外的（是的，它们是额外的）动词默认情况下是不启用的。如果 99.99% 的客户群不需要启用它，系统管理员不愿意添加额外功能。

如果他们启用了它，请咨询您的主机。他们可能不会，也可能会拒绝启用它们。如果是这样，请向他们询问替代方案，否则迁移到其他主机。

# .net - 获取使用 itextsharp 签名的 pdf 的原始内容

> ID：15898066
> 
> 赞同：1
> 
> 时间：2013-04-09T09:18:51.643
> 
> 标签：.net, pdf, itextsharp, itext, digital-signature

我正在尝试获取已签名 PDF 的原始文档，以便将其哈希值与存储的文档进行比较。

当文档有多个签名时，这真的很容易，使用 acrobat reader 你可以去文档的上一个版本保存它，就是这样。

令人惊讶的是，这不适用于第一个签名，因为没有直接的方法来获取原始数据。

因为我用 iTextSharp 以编程方式尝试过的阅读器无法做到这一点。但是，尽管我已经深入搜索，但我还没有找到如何做到这一点。我发现的唯一相关帖子是这个[，](http://itext-general.2136553.n4.nabble.com/Signature-PDF-How-obtain-Original-PDF-td2167992.html)但没有提供解决方案。

有没有人遇到过这个问题并找到了解决方案？

提前致谢。

编辑：我把根据 mkl 的响应提取数据的代码放在这里。阅读回复的评论，以提防未签名 PDF 长度不固定的问题。

```
String sOriginalText = File.ReadAllText("FileSigned.pdf", Encoding.Default);
int sTrailerNumberPosition = sOriginalText.LastIndexOf("]/Prev ") + "]/Prev ".Length;
int sTrailerNumberEndPosition = sOriginalText.IndexOf(">", sTrailerNumberPosition);
String sTrailerIndex = sOriginalText.Substring(sTrailerNumberPosition, sTrailerNumberEndPosition -sTrailerNumberPosition);
int iTrailerIndexPosition = sOriginalText.IndexOf(sTrailerIndex + "\r\n%%EOF");
int iEndPosition = sOriginalText.IndexOf("%%EOF", iTrailerIndexPosition) + "%%EOF".Length;
String sOutText = sOriginalText.Substring(0, iEndPosition);
File.WriteAllText("c:/OriginalFile.pdf", sOutText, Encoding.Default); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T12:29:32.170

*获取已签名 PDF 的原始文档的*任务是否完全可以实现，取决于最初应用签名的方式。

1.  如果签名以**附加**模式应用（即根据 PDF 规范[ISO 32000-1:2008](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf)的语言作为**增量更新**，参见第 7.5.6 节），您只需切断这个附加的增量更新修订。

    由于您有一个存储的文档，可能在签名后已成为您检查的文档，您可以简单地以存储文件的长度剪切签名文件并进行比较，例如使用哈希。这足以表明签名的文档来自您的原始文档。但是，可能还有其他中间修订，因为您可能只是切断了多个增量更新。

    通常，您可以通过将已签名 PDF 的**/Prev**预告片条目跟踪到先前修订的交叉引用表并从那里移动到文档结束标记**%%EOF**来找到先前的修订，因为在增量更新中

    > 添加的预告片应包含除前一个预告片中的 Prev 条目（如果存在）之外的所有条目，无论是否修改。此外，添加的尾部字典应包含一个 Prev 条目，给出前一个交叉引用部分的位置（参见表 15）。每个预告片应由其自己的文件结束 (%%EOF) 标记终止。

    如果 PDF 使用交叉引用流而不是交叉引用表，则交叉引用流字典中有类似的条目：

    > （仅在文件具有多个交叉引用流时出现；在混合引用文件中没有意义；参见 7.5.8.4，“与不支持压缩引用流的应用程序的兼容性”）解码流中的字节偏移量文件的开头到前一个交叉引用流的开头。该条目与预告片字典中的 Prev 条目具有相同的功能（表 15）。

    但是，您应该知道，附加的增量更新修订版可以包含除签名之外的其他更改。因此，即使先前的修订与您存储的文档相对应，您仍然只知道签名的文档是基于您保存的文档。

2.  如果签名**未**在**附加**模式下应用，那么您就很不走运了：处理 PDF 的程序（例如用于签名）可能会完全重新排列文档的二进制内容，甚至可能重新编号对象、更改压缩、删除未使用的对象等，而文档的外观保持不变。

# jquery - 如何创建执行同步 ajax 请求的远程链接或表单

> ID：15898077
> 
> 赞同：4
> 
> 时间：2013-04-09T09:19:09.837
> 
> 标签：jquery, ruby-on-rails, ajax, ruby-on-rails-3, ruby-on-rails-3.2

我熟悉`remote: true`您可以为表单和链接提供的选项。但是，通过这些表单和链接发出的 AJAX 请求始终是异步的。

我知道您可以使用 jQuery 进行同步 AJAX 请求，我想知道如何使用`remote: true`.

我认为这是可能的，因为在使用 link_to_remote [http://apidock.com/rails/ActionView/Helpers/PrototypeHelper/link_to_remote](http://apidock.com/rails/ActionView/Helpers/PrototypeHelper/link_to_remote)之前是可能的。但我找不到任何关于它的文档。

# android - android中的页面指示器

> ID：15898079
> 
> 赞同：7
> 
> 时间：2013-04-09T09:19:16.840
> 
> 标签：android

我已经做好了`Gallery View`

```
gallery = (Gallery) findViewById(R.id.gallery1);
    MyAdapter adapter = new MyAdapter(this);
    gallery.setAdapter(adapter);
    gallery.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View v,
                int position, long id) {
            Intent go = new Intent(Department2.this,
                    tablistclass_item.class);
            if (!larg) {

                go = new Intent(Department2.this, ListClass.class);
            }

            Bundle b = new Bundle();
            b.putString("headername", nameofimage[position]);
            b.putString("whichclass", "department");
            go.putExtras(b);
            startActivity(go);
        }
    });
} 
```

现在如何`page indicator`制作`Gallery view`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:50:21.883

使用图库构建指标很困难，因为您没有可靠的方法知道当前位于中心的项目的索引。[自 API 16 起，](https://stackoverflow.com/questions/12239886/how-to-migrate-from-gallery-to-horizontalscrollview-viewpager) Gallery 也已被弃用。

相反，您可以使用[ViewPager](http://developer.android.com/training/animation/screen-slide.html)。它也可以通过适用于旧版本 Android的[Android 支持库获得。](http://developer.android.com/tools/extras/support-library.html)

您可以结合使用[Jake Wharton 的 ViewPager Indicator](https://github.com/JakeWharton/Android-ViewPagerIndicator)来为您的 ViewPager 获取多种指标，或者您可以查看源代码并构建自己的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T11:58:04.323

只需根据您的页面位置添加图像就像根据您的页面位置制作活动图像和其他非活动图像一样。您可以动态添加图像。

# cassandra - Cassandra EOFException 在电源故障后在某些查询上引发

> ID：15898085
> 
> 赞同：4
> 
> 时间：2013-04-09T09:19:24.937
> 
> 标签：cassandra

```
 `INFO 11:44:29,874 Listening for thrift clients...
ERROR 11:47:01,471 Exception in thread Thread[ReadStage:33,5,main]
java.lang.RuntimeException: org.apache.cassandra.io.sstable.CorruptSSTableExcept
ion: java.io.EOFException: EOF after 2 bytes out of 29545
        at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(Stora
geProxy.java:1582)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
Caused by: org.apache.cassandra.io.sstable.CorruptSSTableException: java.io.EOFE
xception: EOF after 2 bytes out of 29545
        at org.apache.cassandra.db.columniterator.SimpleSliceReader.<init>(Simpl
eSliceReader.java:89)
        at org.apache.cassandra.db.columniterator.SSTableSliceIterator.createRea
der(SSTableSliceIterator.java:68)
        at org.apache.cassandra.db.columniterator.SSTableSliceIterator.<init>(SS
TableSliceIterator.java:44)
        at org.apache.cassandra.db.filter.SliceQueryFilter.getSSTableColumnItera
tor(SliceQueryFilter.java:101)
        at org.apache.cassandra.db.filter.QueryFilter.getSSTableColumnIterator(Q
ueryFilter.java:68)
        at org.apache.cassandra.db.CollationController.collectAllData(CollationC
ontroller.java:275)
        at org.apache.cassandra.db.CollationController.getTopLevelColumns(Collat
ionController.java:65)
        at org.apache.cassandra.db.ColumnFamilyStore.getTopLevelColumns(ColumnFa
milyStore.java:1363)
        at org.apache.cassandra.db.ColumnFamilyStore.getColumnFamily(ColumnFamil
yStore.java:1220)
        at org.apache.cassandra.db.ColumnFamilyStore.getColumnFamily(ColumnFamil
yStore.java:1132)
        at org.apache.cassandra.db.Table.getRow(Table.java:355)
        at org.apache.cassandra.db.SliceFromReadCommand.getRow(SliceFromReadComm
and.java:70)
        at org.apache.cassandra.service.StorageProxy$LocalReadRunnable.runMayThr
ow(StorageProxy.java:1052)
        at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(Stora
geProxy.java:1578)
        ... 3 more
Caused by: java.io.EOFException: EOF after 2 bytes out of 29545
        at org.apache.cassandra.io.util.FileUtils.skipBytesFully(FileUtils.java:
350)
        at org.apache.cassandra.utils.ByteBufferUtil.skipShortLength(ByteBufferU
til.java:382)
        at org.apache.cassandra.db.columniterator.SimpleSliceReader.<init>(Simpl
eSliceReader.java:71)
        ... 16 more
ERROR 11:47:12,900 Exception in thread Thread[ReadStage:35,5,main]
java.lang.RuntimeException: org.apache.cassandra.io.sstable.CorruptSSTableExcept
ion: java.io.EOFException: EOF after 2 bytes out of 29545
        at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(Stora
geProxy.java:1582)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
Caused by: org.apache.cassandra.io.sstable.CorruptSSTableException: java.io.EOFE
xception: EOF after 2 bytes out of 29545
        at org.apache.cassandra.db.columniterator.SimpleSliceReader.<init>(Simpl
eSliceReader.java:89)
        at org.apache.cassandra.db.columniterator.SSTableSliceIterator.createRea
der(SSTableSliceIterator.java:68)
        at org.apache.cassandra.db.columniterator.SSTableSliceIterator.<init>(SS
TableSliceIterator.java:44)
        at org.apache.cassandra.db.filter.SliceQueryFilter.getSSTableColumnItera
tor(SliceQueryFilter.java:101)
        at org.apache.cassandra.db.filter.QueryFilter.getSSTableColumnIterator(Q
ueryFilter.java:68)
        at org.apache.cassandra.db.CollationController.collectAllData(CollationC
ontroller.java:275)
        at org.apache.cassandra.db.CollationController.getTopLevelColumns(Collat
ionController.java:65)
        at org.apache.cassandra.db.ColumnFamilyStore.getTopLevelColumns(ColumnFa
milyStore.java:1363)
        at org.apache.cassandra.db.ColumnFamilyStore.getColumnFamily(ColumnFamil
yStore.java:1220)
        at org.apache.cassandra.db.ColumnFamilyStore.getColumnFamily(ColumnFamil
yStore.java:1132)
        at org.apache.cassandra.db.Table.getRow(Table.java:355)
        at org.apache.cassandra.db.SliceFromReadCommand.getRow(SliceFromReadComm
and.java:70)
        at org.apache.cassandra.service.StorageProxy$LocalReadRunnable.runMayThr
ow(StorageProxy.java:1052)
        at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(Stora
geProxy.java:1578)
        ... 3 more
Caused by: java.io.EOFException: EOF after 2 bytes out of 29545
        at org.apache.cassandra.io.util.FileUtils.skipBytesFully(FileUtils.java:
350)
        at org.apache.cassandra.utils.ByteBufferUtil.skipShortLength(ByteBufferU
til.java:382)
        at org.apache.cassandra.db.columniterator.SimpleSliceReader.<init>(Simpl
eSliceReader.java:71)
        ... 16 more` 
```

在 Hector`HTimedOutException`中，我假设是因为 cassandra 中的 SSTable 损坏，因为它在电源故障之前运行良好。我该如何解决？这也是开发数据库，​​我之前也遇到过这个问题，最终放弃了一些列族，但我不希望这是每次断电或系统崩溃时唯一的解决方案。我正在使用 cassandra 1.2.2

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T09:47:54.867

您可以只删除损坏的 SSTable，然后运行修复以从副本中恢复数据，而不是删除整个 CF。问题是错误不会在日志中打印文件名，因此很难找出哪个文件已损坏。您可以通过在调试模式下运行 Cassandra 来获得它（编辑 log4j-server.properties）。请参阅其他 SO 帖子：

[启动 Cassandra 节点时出现错误消息](https://stackoverflow.com/questions/10241447/error-messages-while-starting-cassandra-node)

他们是如何做到的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-02T10:28:37.137

也许首先要尝试的是`nodetool scrub`这个 cf（例如，参见v.1.2 的[这篇文章](https://engineering.gosquared.com/dealing-corrupt-sstable-cassandra)）。

# android - android mediaplyer seekTo 里面的 onPrepared

> ID：15898089
> 
> 赞同：5
> 
> 时间：2013-04-09T09:19:34.667
> 
> 标签：android, media-player, seek

我的问题似乎只发生在 android 4.2.2

我走这种方式空闲状态->初始化状态->prepareAsync()->并在onPrepared中调用seekTo，但是在这个android版本上，媒体播放器返回

“尝试查找文件末尾：request = {int>0}，durationMs = 0”

并从头开始播放，因为我无法捕捉到这一点，也没有任何听众，它只是将此消息写入日志，我无法对此做出真正的反应。

更奇怪的是，如果我在 onPrepared() 中调用 mediaPlayer.getDuration()，它会返回正确的值而不是 0。

您认为这是一个媒体播放器错误还是有更好的地方可以调用 seekTo ？或者可能是一种如何知道 seekTo 失败的方法？我想避免定期检查当前位置是否小于所需位置并尝试调用 seek to 因为这种方法有很多不同的问题。

这是一个流畅的流媒体视频内容

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-11T11:09:53.533

我目前正在尝试找到解决同一问题的方法。到目前为止，我想出的最好的如下。

在 4.2 上，我注意到收到以下回调：

1) onVideoSizeChanged() - 高度和宽度 = 0
2) onPrepared()
3) onVideoSizeChanged() - 适当的高度和宽度

您不能在 (1) 中调用 seekTo，因为玩家还没有准备好。

如您所述，如果您在 (2) 中调用 seekTo，媒体播放器会生成警告“尝试查找文件末尾”

如果 MediaPlayer.start() 已被调用，您只会收到 (3)，但此时您可以成功调用 seekTo()。

```
MediaPlayer mMediaPlayer = new MediaPlayer(); // + some initialisation code
boolean mVideoSizeIsSet = false;
boolean mMediaPlayerIsPrepared = false;

public void onPrepared(MediaPlayer mediaplayer) {
    Log.d(TAG, "onPrepared called");
    mMediaPlayerIsPrepared = true;

    if (mVideoSizeIsSet) {
        mMediaPlayer.seekTo();
    }

    mMediaPlayer.start()
}

public void onVideoSizeChanged(MediaPlayer mp, int width, int height) {
    Log.d(TAG, "onVideoSizeChanged called");

    if (width == 0 || height == 0) {
        Log.d(TAG, "invalid video width(" + width + ") or height(" + height + ")");
    } else {

        mVideoSizeIsSet = true;

        if (mMediaPlayerIsPrepared) {
            mMediaPlayer.seekTo();
        }
    }
} 
```

（我个人不喜欢使用布尔值守卫，但如果您查看随 sdk 提供的媒体播放器示例，它会做类似的事情）。

跨一系列设备/操作系统版本进行测试，这提供了一个通用的解决方案。但是，4.2 有一个错误。对 mMediaPlayer.start() 的调用似乎导致视频的前几帧在 seekTo() 发生之前开始播放，这在我的情况下几乎看不到，但对你来说可能更明显。我目前正在考虑以某种方式隐藏我的表面视图，直到我收到 onSeekComplete() 事件，但这并不理想。

如果有人有一个适用于所有操作系统版本的更好的解决方案，我很想听听。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-07T05:53:49.010

这是 NuPlayer 实现的问题。NuPlayer 没有适当的准备状态实现，这与使用 AwesomePlayer 的本地播放不同。仅当调用 start() 时才建立网络连接，之后知道持续时间。如果duration为0，可以通过绕过duration检查来解决这个问题，我之前尝试过。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:50:58.430

这是源代码：

```
418 status_t MediaPlayer::seekTo_l(int msec)
419 {
420     ALOGV("seekTo %d", msec);
421     if ((mPlayer != 0) && ( mCurrentState & ( MEDIA_PLAYER_STARTED | MEDIA_PLAYER_PREPARED | MEDIA_PLAYER_PAUSED |  MEDIA_PLAYER_PLAYBACK_COMPLETE) ) ) {
422         if ( msec < 0 ) {
423             ALOGW("Attempt to seek to invalid position: %d", msec);
424             msec = 0;
425         } else if ((mDuration > 0) && (msec > mDuration)) {
426             ALOGW("Attempt to seek to past end of file: request = %d, EOF = %d", msec, mDuration);
427             msec = mDuration;
428         }
429         // cache duration
430         mCurrentPosition = msec;
431         if (mSeekPosition < 0) {
432             getDuration_l(NULL);
433             mSeekPosition = msec;
434             return mPlayer->seekTo(msec);
435         }
436         else {
437             ALOGV("Seek in progress - queue up seekTo[%d]", msec);
438             return NO_ERROR;
439         }
440     }
441     ALOGE("Attempt to perform seekTo in wrong state: mPlayer=%p, mCurrentState=%u", mPlayer.get(), mCurrentState);
442     return INVALID_OPERATION;
443 } 
```

我建议你先调用 getDuration() 让媒体播放器实例强制初始化持续时间字段。否则，请尝试在 seekTo() 之前调用 start()，甚至在 start() 之后的某个时间调用 seekTo()。

# race-condition - 了解竞争条件

> ID：15898106
> 
> 赞同：1
> 
> 时间：2013-04-09T09:20:12.983
> 
> 标签：race-condition

来自维基百科：

> 当单独的计算机进程或执行线程依赖于某些共享状态时，软件中就会出现竞争条件。

如果我理解正确，这是否意味着即使共享资源受到保护，以下也是竞争条件？

```
int x; // global
Thread1:

Lock(m);
x=1;
Unlock(m)

Thread2:

Lock(m);
x=2;
Unlock(m); 
```

显然，输出取决于执行顺序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-17T10:09:49.003

你的理解是正确的。这是一个竞争条件，但它不是数据竞争。区别很微妙。我试着在[这里](https://stackoverflow.com/questions/11276259/are-data-races-and-race-condition-actually-the-same-thing-in-context-of-conc/18049303#18049303)解释一下。

# network-programming - 使用 SNMP LLDP 查找邻居

> ID：15898109
> 
> 赞同：2
> 
> 时间：2013-04-09T09:20:16.987
> 
> 标签：network-programming, ip, snmp, network-monitoring

我有几个开关（Hirschmann Mach1040、RS40）连接在一起。所以我想用snmp在端口x上引出连接的邻居交换机的mac地址/ip地址。是否有 lldp mib_value 告诉我 swich 特定端口的 neihbour mac 或 ip？

非常感谢您的帮助！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T16:44:08.883

我认为您需要 lldpRemLocalPortNum，它的语法类型为 LldpPortNumber。LldpPortNumber 的定义说：

```
 A port number has no mandatory relationship to an
        InterfaceIndex object (of the interfaces MIB, IETF RFC 2863).
        If the LLDP agent is a IEEE 802.1D, IEEE 802.1Q bridge, the
        LldpPortNumber will have the same value as the dot1dBasePort
        object (defined in IETF RFC 1493) associated corresponding
        bridge port.  If the system hosting LLDP agent is not an
        IEEE 802.1D or an IEEE 802.1Q bridge, the LldpPortNumber
        will have the same value as the corresponding interface's
        **InterfaceIndex** object. 
```

InterfaceIndex 是 IF-MIB::ifIndex，它应该映射到设备上的正确接口。这有帮助吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-20T11:20:09.777

此代码在包含 ip 地址的列表中的设备上行走 LLDP oid，并将邻居添加到并行阵列。前任; （每个标题都是 ArrayList） HostName HostInterface NeigbourName NeighbourInt sw2960 fa0/1 HP-98765 Ethernet0/4

```
 package NDMSMain;

import java.io.IOException;
import java.util.ArrayList;

import SNMPHandler.SNMPManager;
import SNMPHandler.SNMPWalk;
import TopologyHandler.WriteXMLFile;

public class LldpDiscovery {

    static SNMPWalk t1 = new SNMPWalk();
    public static String LLDP_OID = "1.0.8802.1.1.2.1.4.1.1";
    public static String snmpCheck = null; //MODEL
    public static String devicePid = null;  //Product Id

    public static ArrayList<String> topologyNodeId = new ArrayList<String>();
    public static ArrayList<String> lldpHostName = new ArrayList<String>();
    public static ArrayList<String> lldpHostInt = new ArrayList<String>();
    public static ArrayList<String> lldpNeigName = new ArrayList<String>();
    public static ArrayList<String> lldpNeigInt = new ArrayList<String>();
    public static ArrayList<String> lldpNeigMac = new ArrayList<String>();
    public static ArrayList<String> deviceModel = new ArrayList<String>();

    public static void main() {

        System.out.println("LLDP GELDIIIII");

        frame1 out = new frame1();
        String testWalk="";

        String satir[]=null;
        String esit[]=null;
        String hostInt = null;
        for(int i=0; i<out.ipler.size();i++)
        {
            try {

                devicePid = SNMPManager.main("udp:"+out.ipler.get(i).toString()+"/161","1.0.8802.1.1.2.1.5.4795.1.2.7.0");

            if(!devicePid.startsWith("no"))
            {
                // To determine node count and Id s

                snmpCheck= SNMPManager.main("udp:"+out.ipler.get(i).toString()+"/161","1.3.6.1.2.1.1.5.0");
                deviceModel.add(devicePid);
                topologyNodeId.add(snmpCheck);

            testWalk =  t1.main(out.ipler.get(i).toString(),LLDP_OID);

            satir= testWalk.split("\n");
            //System.out.println("satir 0"+satir[0].toString());
            //System.out.println("satir 1"+satir[1].toString());
            int ind =0;
            for(int k=0;k<satir.length;k++)
            {

                esit = null;
                esit = satir[k].split("=");
                //System.out.println("===Hostlar");
                //System.out.println("ind 0: "+esit[ind]);
                if(esit[ind].startsWith("1.0.8802.1.1.2.1.4.1.1.7.0") && !esit[ind].equals("1.0.8802.1.1.2.1.4.1.1.7.0.1.2 "))
                {

                    hostInt = esit[ind].substring(esit[ind].length()-5, esit[ind].length()-3);
                    //System.out.println("===Start-4.1.1.7.0 - genel cnt: "+ arrayCnts +" fa0-"+hostInt);
                    if(!hostInt.startsWith("."))
                    {
                        //System.out.println("===Start-4.1.1.7.0 - .li cnt: " + arrayCnts +"fa0-"+hostInt);
                        lldpHostInt.add("fa0-"+hostInt);

                    }
                    else
                    {
                        //System.out.println("===Start-4.1.1.7.0 - .siz cnt: " + arrayCnts +"fa0-"+hostInt);
                        lldpHostInt.add("fa0-"+hostInt.substring(hostInt.length()-1,hostInt.length())); 

                    }

                    //System.out.println("=== LLDPNeigh cnt:" + arrayCnts + esit[1]);
                    lldpNeigInt.add(esit[1]);

                }
                else if(esit[ind].startsWith("1.0.8802.1.1.2.1.4.1.1.9.0"))
                {
                    //System.out.println("=== NeighNAme cnt:" + arrayCnts + esit[1]);
                    if(!esit[1].equals(" "))
                    {
                        lldpNeigName.add(esit[1]);
                        lldpHostName.add(snmpCheck);
                    }

                //  lldpHostName.add(out.asd);

                }
                else if(esit[ind].startsWith("1.0.8802.1.1.2.1.4.1.1.5.0") && !esit[ind].equals("1.0.8802.1.1.2.1.4.1.1.5.0.1.2 "))
                {

                    lldpNeigMac.add(esit[1]);
                }
            }
            }

            else   // SNMP DESTEKLEMEYEN CIHAZLAR ICIN COZUM BULUNACAK
            {

                System.out.println("*********There is unknown device here!!!! ******");

            }
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }//
        }

        System.out.println("---HostName---");
        for(int i=0; i<lldpHostName.size();i++)
        {
            System.out.println(lldpHostName.get(i).toString());
        }
        System.out.println("---HostInt---");
        for(int i=0; i<lldpHostInt.size();i++)
        {

            System.out.println(lldpHostInt.get(i).toString());

        }
        System.out.println("---NeighInt---");
        for(int i=0; i<lldpHostInt.size();i++)
        {

            System.out.println(lldpNeigInt.get(i).toString());

        }
        System.out.println("---NeighName---");
        for(int i=0; i<lldpNeigName.size();i++)
        {
            System.out.println(lldpNeigName.get(i).toString());
        }
        System.out.println("---NeighMac---");
        for(int i=0; i<lldpHostInt.size();i++)
        {
            System.out.println(lldpNeigMac.get(i).toString());
        }
        System.out.println("---NodeId---");
        for(int i=0; i<topologyNodeId.size();i++)
        {
            System.out.println(topologyNodeId.get(i).toString());
        }

        for (int i=0;i<lldpNeigName.size();i++)
        {
            if(!topologyNodeId.contains(lldpNeigName.get(i).trim()))
            {
                topologyNodeId.add(lldpNeigName.get(i));
            }
        }

        System.out.println("===LLDPNODE ID");
        for(int i=0; i<topologyNodeId.size();i++)
        {
            System.out.println(topologyNodeId.get(i).toString());
        }   

    //  createCSV();

        //WriteXMLFile.main();

    enter code here

        /*lldpHostName.clear();
        lldpHostInt.clear();
        lldpNeigInt.clear();
        lldpNeigMac.clear();
        lldpNeigName.clear();
        topologyNodeId.clear();
        deviceModel.clear();*/

    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T15:27:27.263

所以这里有更多细节（我需要大文本框）。假设您有上面评论中提到的条目：

```
lldpRemTable.lldpRemEntry.lldpRemChassisId.1325376015.2.1 ec e5 55 32 20 88 
```

请注意，lldpRemTable 的索引为：

```
 INDEX   {
       lldpRemTimeMark,
       lldpRemLocalPortNum,
       lldpRemIndex
    } 
```

在上面的示例中，您要求远程条目的 lldpRemChassisId（远程的机箱 id）（机箱的他的 mac，ec e5 55 32 20 88）。1325376015 是 lldpRemTimeMark 表索引（您发现远程的时间值），2 是 lldpRemLocalPortNum 表索引（您发现远程所在的本地端口号）。

lldpRemLocalPortNum 是 LldpPortNum 的类型/文本约定。因此，您还应该在 lldpLocPortTable（也是 LldpPortNum 的类型）中有一个条目，其中 lldpLocPortNum == 2（并且可能是 IF-MIB::ifIndex == 2）。所以 lldpLocPortTable.lldpLocPortDesc.2 将是您发现远程的端口的端口描述。IE ：

```
lldpLocPortTable.lldpLocPortDesc.2 = "FastEthernet2 (eth2)" 
```

这就是你做映射的方式。

# c - 查询将用于连接到某个目标的接口的 IP

> ID：15898110
> 
> 赞同：1
> 
> 时间：2013-04-09T09:20:17.233
> 
> 标签：c, linux, routing, network-programming, ip-address

我有一个具有多个接口的 Linux 服务器。每个接口都有一个 IP 和网络。路由表中还有一条默认路由和其他路由，以便与某些网络的连接通过一个或另一个接口。当然，任何程序发起的连接到与服务器接口之一位于同一网络中的 IP 将通过该接口。

给定该服务器上的程序将连接到的目标 IP：是否有 API 来检索将使用的本地接口的 IP 地址？

或者：一旦刚刚启动到某个 IP 的连接，我如何才能准确地获得最合适的服务器的本地 IP 地址？可以吗？

我不想再写路由逻辑了。

示例：eth0：192.168.1.10/24 eth1：10.1.1.20/24 默认gw：192.168.1.1 附加静态路由：通过10.1.1.1 到10.2.0.0/16

现在，如果程序启动到 1.2.3.4 的 UDP 连接，它将使用 eth0，而我要查询的适当 IP 将是 192.168.10。现在，如果程序启动到 10.2.55.66 的 UDP 连接，它将使用 eth1，而我要查询的适当 IP 将是 10.1.1.20。现在，如果程序启动到 10.1.1.9 的 UDP 连接，它将使用 eth1，而我要查询的适当 IP 将是 10.1.1.20。

这个问题的原因是我想修改snmp-trap发送程序，把正确的地址放在agentField

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:33:25.880

*是否有 API 可以检索将要使用的本地接口的 IP 地址？*

我不相信。无论如何，这本质上是不合理的——路由表可能会在您查询该 API 的时间和您实际建立连接的时间之间发生变化。

*或者：一旦刚刚启动到某个 IP 的连接，我如何才能准确地获得最合适的服务器的本地 IP 地址？可以吗？*

你可以这样做——一旦你有一个连接的套接字，`getsockname()`它将告诉你套接字的本地地址，其中包括 IP 地址和端口号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T10:15:04.840

当未通过参数指定本地 IP 地址时， NFSv4`mount`会执行非常类似的操作。`clientaddr`它必须获取远程 NFS 服务器可以连接的本地 IP 地址，即使本地计算机上有多个接口。

它通过创建一个 UDP 数据报套接字、绑定到本地地址、`connect()`连接到远程机器，然后使用`getsockname()`. 因为 UDP 是一种无连接协议，所以根本不会通过线路发送任何数据；这仅使用本地路由表来确定绑定到套接字的本地 IP 地址。

有关实现，请参阅[Linux-NFS git 存储库](http://git.linux-nfs.org/?p=steved/nfs-utils.git;a=summary)中的[utils/mount/network.c:nfs_callback_address()](http://git.linux-nfs.org/?p=steved/nfs-utils.git;a=blob;f=utils/mount/network.c;hb=HEAD#l1153)。它使用[utils/mount/network.c:nfs_ca_sockname()](http://git.linux-nfs.org/?p=steved/nfs-utils.git;a=blob;f=utils/mount/network.c;hb=HEAD#l1077)获取地址，并使用[utils/mount/network.c:nfs_ca_gai()](http://git.linux-nfs.org/?p=steved/nfs-utils.git;a=blob;f=utils/mount/network.c;hb=HEAD#l1127)检查本地机器是否支持地址族（这样它就不会返回使用地址族的本地地址（NFS 术语中的回调地址），例如 IPv6，在本地计算机上不受支持）。

*是的，如果在完成上述操作后机器内部*路由发生变化，这将失败——也就是说，您手动修改路由表以使用另一个接口用于该目标 IP 地址。这不是一个真正的问题，因为这通常会中断（挂起直到超时）所有现有连接，因为它们绑定到错误的本地 IP 地址，并且内核不能只是从进程下切换它。换句话说，如果你这样做，无论如何你都必须预料到连接中断。

本地计算机外部的路由更改不受影响。原因应该很明显：原来的 UDP 连接测试没有到达机器外部，只到达本地路由表。机器本身之外的任何路由（包括本地路由表中的下一跳，或机器外部的网关地址）都不会造成任何破坏，也不会改变使用上述过程获得的结果。

希望这个对你有帮助。

# sql-server - Windows Phone 8 中的 LongListSelector

> ID：15898112
> 
> 赞同：1
> 
> 时间：2013-04-09T09:20:19.510
> 
> 标签：sql-server, windows-phone-8

我目前遇到 Windows Phone 8 中 LongLisSelector 的问题。

我想显示一个列表，问题是我通过 WCF Dataservices 检索到的 SQL 数据库的一个实体。我编写了这个函数来将 PROBLEM 的元素作为 ObservableCollection 返回：

```
private ObservableCollection<PROBLEM> CreateProblemGroups()
{
     ObservableCollection<PROBLEM> listpb = new ObservableCollection<PROBLEM>();
     var l = (from lp in problems where lp.IdProblem == lp.IdMainProblem select lp).FirstOrDefault();
     listpb.Add(l);
     return listpb;
} 
```

然后，在我的长列表选择器（称为 ListProblems）的加载事件中，我只需将之前的 ObservableCOllection 绑定到我的 ListProblems 的项目源：

```
private void ListProblems_Loaded(object sender, LoadCompletedEventArgs e)
{
     ObservableCollection<PROBLEM> data = new ObservableCollection<PROBLEM>();
     data = CreateProblemGroups();
     LongListProblems.ItemsSource = data;
} 
```

代码编译没有错误，应用程序运行正常，但最后什么也没显示。

我还尝试从 MSDN（[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj244365](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj244365(v=vs.105).aspx) (v=vs.105).aspx ）测试本教程，但我总是收到 XAML Parse Exception ，说明：“找不到具有名称/键 AddrBookJumpListStyle [行：52 位置：17] 的资源”

预先感谢您的帮助。

# sql - 如何将此 SQL 查询转换为 Criteria Hibernate？

> ID：15898114
> 
> 赞同：0
> 
> 时间：2013-04-09T09:20:21.410
> 
> 标签：sql, hibernate, join, left-join, criteria

我有这个sql：

```
select u.USER from USERS u
left join (
  select sum(OCUPATION) as OCU, USER from OCUPATION
  where CONVERT(DATETIME, DATE, 103) BETWEEN CONVERT(DATETIME, '08/04/2012', 103)
    AND CONVERT(DATETIME, '10/04/2013', 103) group by USER
  ) as ocu on u.USER = ocu.USER
where u.USER_ROLE = 1
and u.USER in (select a.USER from GROUP_USE_CLIE a where ID_CLIENT = 65)
group by u.USER, u.PRIORITY, ocu.OCU
order by PRIORITY, ocu.OCU; 
```

此查询的目的是获取一个列表或用户角色 = 1，可以在客户端 = 65 上工作，然后按优先级排序，最后按 Sum(Ocupation) 排序，这就是我将左连接与子查询一起使用的原因。该查询工作正常，购买我无法将其转换为休眠标准。

有谁能够帮我？

谢谢！

# netbeans - Netbeans 6.8 下载未完成

> ID：15898116
> 
> 赞同：1
> 
> 时间：2013-04-09T09:20:38.770
> 
> 标签：netbeans, download, osx-leopard

我正在尝试[从这里](https://netbeans.org/downloads/6.8/)下载适用于 Mac OS X 和 Language=English 的 Netbeans 6.8 的 Java 包，但过了一会儿它就停止了。

我尝试使用 iGetter 和不使用 iGetter 下载它。有谁知道问题可能是什么以及如何获得此版本的 Netbeans？

我已经设法从同一页面下载了 Netbeans 6.9，但不幸的是它不适用于 JDK 1.5，而我的旧 macbook 可以使用它。

[正如在此线程](http://forums.netbeans.org/topic20818.html)上讨论的那样，Netbeans 6.8 安装程序实际上似乎存在问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:25:38.803

与 JDK 1.5 一起使用的替代 Netbeans 是 6.7.1，因为它几乎一样好，只是它更好，因为您实际上可以下载它的安装程序。

网址是： [https ://netbeans.org/community/releases/67/](https://netbeans.org/community/releases/67/)

# excel - 使用宏填充 sheet2

> ID：15898117
> 
> 赞同：0
> 
> 时间：2013-04-09T09:20:41.300
> 
> 标签：excel, vba

我是一个excel新手。我正在尝试编写宏以根据第一张填充 sheet2。我在 sheet1 上有以下列： Name CustomName CustomeValue a Bay 11 a Site UK a Rack 3 b Site UK b Rack 2 C empty empty

表 2 - 输出应如下所示 Name Bay Site Rack a 11 UK 3 b UK 2 c

我确实尝试编写宏来逐行匹配并有选择地比较和填充，但是当大量日期出现时脚本会随机填充，对此的任何帮助将不胜感激。

代码片段：

```
Sub populatingsheet2()

    x = 2
    y = 2 
    Sheet2.Cells(y, 1) = Sheet1.Cells(x, 1) 
    Do While x <= 4 

        If Sheet1.Cells(x, 1) = Sheet1.Cells(x + 1, 1) Then 

            ‘I want unique records 
            'MsgBox "Identical" 
            If Sheet1.Cells(x, 2) = "Bay" Then 
                Sheet2.Cells(y, 2) = Sheet1.Cells(x, 3) 
            End If 
            If Sheet1.Cells(x, 2) = "Site" Then 
                Sheet2.Cells(y, 3) = Sheet1.Cells(x, 3) 
            End If 
            If Sheet1.Cells(x, 2) = "Rack" Then 
                Sheet2.Cells(y, 4) = Sheet1.Cells(x, 3) 
            End If 

        Else: 'MsgBox "Not Identical" 
        End If 
        x = x + 1 
        y = y + 1 

    Loop 

End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T11:38:02.217

那么，您是否认为您可以在不使用宏的情况下使用 Sheet 2 上的公式来完成所有这些工作？

在 Sheet 2 B 列中可能是这样的：

```
=IF(Sheet1!B:B="Bay",Sheet1!C:C,"") 
```

在 C 列

```
=IF(Sheet1!B:B="Site",SHeet1!C:C,"") 
```

hth

菲利普

# webdriver - 无法使用 Selenium WebDriver 2.31 (JRE 7) 定位元素

> ID：15898118
> 
> 赞同：0
> 
> 时间：2013-04-09T09:20:42.917
> 
> 标签：webdriver, selenium-webdriver

我正在尝试自动化在网站上预订巴士票的场景。我在 Eclipse 中使用 Selenium WebDriver，当我尝试定位元素时，即“乘客姓名”，没有编译错误，但在执行时显示错误，例如“ `Exception in thread "main" org.openqa.selenium.NoSuchElementException: Unable to locate element: {"method":"xpath","selector":"//input[@name='i_passengerAge']"}`”。

下面的 HTML 和 Java 代码，我也需要一个仓促的解决方案。

我的系统信息：

*   Windows 7的
*   硒网络驱动程序 2.31
*   日食固件

**网页的 HTML：**

```
<input name="i_passengerName" id="i_passengerName" maxlength="30" class="inputclass pageRequired commonInputStyle" title="Please enter your name!" type="text">

<input name="i_passengerAge" id="i_passengerAge" maxlength="2" size="4" class="inputclass fillAge digits commonInputStyle" type="text"> 
```

**我的自动化脚本：**

```
WebElement PD_Name = driver.findElement(By.name("i_passengerName"));
PD_Name.sendKeys(new String[] {"Testing"});
PD_Name.submit();

WebElement PD_Age = driver.findElement(By.name("i_passengerAge"));
PD_Age.sendKeys(new String[] {"45"});
PD_Age.submit(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T23:10:54.050

我自己正在使用 C#，因此您必须在此处检查语法，但我相信您的问题可能是您访问元素的速度太快（在页面**完全加载**之前）。我建议尝试`WebDriverWait`上课。我相信Java是这样的：

```
WebDriverWait wait = new WebDriverWait(_driver, timeout);
wait.until(_driver.findElement(By.name("i_passengerAge"))); 
```

在此行之后，您可以安全地访问该元素，因为您已确认它已完全加载到页面上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-26T09:20:39.283

这两行之间的错误意味着 PD_Name.submit(); WebElement PD_Age = driver.findElement(By.name("i_passengerAge"));

提交后，您必须等到整个页面加载完毕。根据这个你必须修改脚本并编写 waitForElementPresent(element) 函数。

在这种情况下，您的脚本将是：`enter code here`

```
PD_Name.submit();
waitForElementPresent(i_passengerAge);
WebElement PD_Age = driver.findElement(By.name("i_passengerAge")); 
```

试试这个，让我知道它是否有效。

谢谢，克里希纳。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:36:23.557

我希望您尝试使用`By.id`,`By.cssSelector`或来获取元素`By.xpath`。

注意`submit()`方法。因为它会自动搜索要发送的表单，有时它可能会失败。这就是为什么我更喜欢好旧的`click()`。

通过.id：

```
WebElement PD_Name=driver.findElement(By.id("i_passengerName"));
PD_Name.sendKeys("Testing");
PD_Name.click(); 
```

通过.xpath：

```
WebElement PD_Name=driver.findElement(By.xpath("//input[@name='i_passengerName']"));
PD_Name.sendKeys("Testing");
PD_Name.click(); 
```

对于 cssSelector 的方式，可以看[这里](http://www.w3schools.com/cssref/css_selectors.asp)。

告诉我它是否有所改善。=)

编辑 ：

实际上，没有**i_passengerGender**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:05:05.267

您能否检查一下这是否像 HemChe 之前所说的那样位于一个框架中，如果是这样，您需要切换到该特定框架。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-13T04:57:58.047

1) 输入文字前先使用wait命令

2）不要使用“id”定位器，因为两者相同

3）对两个输入元素都使用“类”定位器。

# ios - 用cocos2.0中的什么替换openGLView来清除背景色？

> ID：15898120
> 
> 赞同：1
> 
> 时间：2013-04-09T09:20:49.423
> 
> 标签：ios, objective-c, uiview, cocos2d-iphone

在 1.0 中，我们使用以下代码来设置 CCDirector OPENGLView 透明。

```
director.openGLView.backgroundColor = [UIColor clearColor];
director.openGLView.opaque = NO;
glClearColor(0.0, 0.0, 0.0, 0.0); 
```

2.0，我们应该怎么做？我使用以下，它不起作用，背景颜色仍然是黑色的。

```
director.view.backgroundColor = [UIColor clearColor];
director.view.opaque = NO;
glClearColor(0.0, 0.0, 0.0, 0.0); 
```

整个代码如下：

```
#import "cocos2d.h"

#import "AppDelegate.h"
#import "IntroLayer.h"
#import "HelloWorldLayer.h"

@implementation AppController

@synthesize window=window_, navController=navController_, director=director_;

- (void) removeStartupFlicker
{
    //
    // THIS CODE REMOVES THE STARTUP FLICKER
    //
    // Uncomment the following code if you Application only supports landscape mode
    //
#if GAME_AUTOROTATION == kGameAutorotationUIViewController

    //  CC_ENABLE_DEFAULT_GL_STATES();
    //  CCDirector *director = [CCDirector sharedDirector];
    //  CGSize size = [director winSize];
    //  CCSprite *sprite = [CCSprite spriteWithFile:@"Default.png"];
    //  sprite.position = ccp(size.width/2, size.height/2);
    //  sprite.rotation = -90;
    //  [sprite visit];
    //  [[director openGLView] swapBuffers];
    //  CC_ENABLE_DEFAULT_GL_STATES();

#endif // GAME_AUTOROTATION == kGameAutorotationUIViewController
}

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    // Create the main window
    window_ = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

    // Create an CCGLView with a RGB565 color buffer, and a depth buffer of 0-bits
    CCGLView *glView = [CCGLView viewWithFrame:[window_ bounds]
                                   pixelFormat:kEAGLColorFormatRGB565   //kEAGLColorFormatRGBA8
                                   depthFormat:0    //GL_DEPTH_COMPONENT24_OES
                            preserveBackbuffer:NO
                                    sharegroup:nil
                                 multiSampling:NO
                               numberOfSamples:0];    

    director_ = (CCDirectorIOS*) [CCDirector sharedDirector];

    director_.wantsFullScreenLayout = YES;        

    // Display FSP and SPF
    [director_ setDisplayStats:YES];

    // set FPS at 60
    [director_ setAnimationInterval:1.0/60];

    // attach the openglView to the director
    [director_ setView:glView];

    // for rotation and other messages
    [director_ setDelegate:self];

    [window_ addSubview:director_.view];

    /*
    director_.view.backgroundColor = [UIColor clearColor];
    director_.view.opaque = NO;

    glClearColor(0.0, 0.0, 0.0, 0.0);

    glView.backgroundColor = [UIColor clearColor];
    glView.opaque = NO;

    glClearColor(0.0, 0.0, 0.0, 0.0);
     */

    //[CCDirector sharedDirector].view.backgroundColor = [UIColor clearColor];
    //[CCDirector sharedDirector].view.opaque = NO;

    [[CCDirector sharedDirector] view].opaque = NO;
    [[CCDirector sharedDirector] view].backgroundColor = [UIColor clearColor];
    [director_ view].backgroundColor = [UIColor clearColor];
    [director_ view].opaque = NO;

    glClearColor(0.0, 0.0, 0.0, 0.0);

    cameraView = [[UIView alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    cameraView.opaque = NO;
    cameraView.backgroundColor = [UIColor clearColor];
    [window_ addSubview:cameraView];

    UIImagePickerController *imagePicker;

    @try
    {
        imagePicker = [[[UIImagePickerController alloc] init] autorelease];
        imagePicker.sourceType = UIImagePickerControllerSourceTypeCamera;
        imagePicker.showsCameraControls = NO;
        imagePicker.toolbarHidden = YES;
        imagePicker.navigationBarHidden = YES;
        imagePicker.wantsFullScreenLayout = YES;
        imagePicker.cameraViewTransform = CGAffineTransformScale(imagePicker.cameraViewTransform, 1.0, 1.3);
    }
    @catch (NSException *exception)
    {
        [imagePicker release];
        imagePicker = nil;
    }
    @finally
    {
        if(imagePicker)
        {
            [cameraView addSubview:[imagePicker view]];
            [cameraView release];
        }
    }

    [window_ bringSubviewToFront:director_.view];

    // 2D projection
    [director_ setProjection:kCCDirectorProjection2D];
//  [director setProjection:kCCDirectorProjection3D];

    // Enables High Res mode (Retina Display) on iPhone 4 and maintains low res on all other devices
    if( ! [director_ enableRetinaDisplay:YES] )
        CCLOG(@"Retina Display Not supported");

    // Default texture format for PNG/BMP/TIFF/JPEG/GIF images
    // It can be RGBA8888, RGBA4444, RGB5_A1, RGB565
    // You can change anytime.
    [CCTexture2D setDefaultAlphaPixelFormat:kCCTexture2DPixelFormat_RGBA8888];

    // If the 1st suffix is not found and if fallback is enabled then fallback suffixes are going to searched. If none is found, it will try with the name without suffix.
    // On iPad HD  : "-ipadhd", "-ipad",  "-hd"
    // On iPad     : "-ipad", "-hd"
    // On iPhone HD: "-hd"
    CCFileUtils *sharedFileUtils = [CCFileUtils sharedFileUtils];
    [sharedFileUtils setEnableFallbackSuffixes:NO];             // Default: NO. No fallback suffixes are going to be used
    [sharedFileUtils setiPhoneRetinaDisplaySuffix:@"-hd"];      // Default on iPhone RetinaDisplay is "-hd"
    [sharedFileUtils setiPadSuffix:@"-ipad"];                   // Default on iPad is "ipad"
    [sharedFileUtils setiPadRetinaDisplaySuffix:@"-ipadhd"];    // Default on iPad RetinaDisplay is "-ipadhd"

    // Assume that PVR images have premultiplied alpha
    [CCTexture2D PVRImagesHavePremultipliedAlpha:YES];

    // and add the scene to the stack. The director will run it automatically when the view is displayed.
    [director_ pushScene: [IntroLayer scene]]; 

    // Create a Navigation Controller with the Director

    /*
    navController_ = [[UINavigationController alloc] initWithRootViewController:director_];
    navController_.navigationBarHidden = YES;
     */

    // set the Navigation Controller as the root view controller
//  [window_ addSubview:navController_.view];   // Generates flicker.
    //[window_ setRootViewController:navController_];

    // make main window visible
    [window_ makeKeyAndVisible];    

    return YES;
}

// Supported orientations: Landscape. Customize it for your own needs
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return UIInterfaceOrientationIsLandscape(interfaceOrientation);
}

// getting a call, pause the game
-(void) applicationWillResignActive:(UIApplication *)application
{
    if( [navController_ visibleViewController] == director_ )
        [director_ pause];
}

// call got rejected
-(void) applicationDidBecomeActive:(UIApplication *)application
{
    if( [navController_ visibleViewController] == director_ )
        [director_ resume];
}

-(void) applicationDidEnterBackground:(UIApplication*)application
{
    if( [navController_ visibleViewController] == director_ )
        [director_ stopAnimation];
}

-(void) applicationWillEnterForeground:(UIApplication*)application
{
    if( [navController_ visibleViewController] == director_ )
        [director_ startAnimation];
}

// application will be killed
- (void)applicationWillTerminate:(UIApplication *)application
{
    CC_DIRECTOR_END();
}

// purge memory
- (void)applicationDidReceiveMemoryWarning:(UIApplication *)application
{
    [[CCDirector sharedDirector] purgeCachedData];
}

// next delta time will be zero
-(void) applicationSignificantTimeChange:(UIApplication *)application
{
    [[CCDirector sharedDirector] setNextDeltaTimeZero:YES];
}

- (void) dealloc
{
    [window_ release];
    [navController_ release];

    [super dealloc];
}
@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T07:59:43.030

就这个调试了几天，不知道为什么。回到使用framework v1，没有这个问题，

# c++ - 如何在 C++ 中确定运行时的实际对象类型；

> ID：15898121
> 
> 赞同：18
> 
> 时间：2013-04-09T09:20:55.270
> 
> 标签：c++, typeid, typeinfo

假设我们有一个类层次结构。在底部我们有 Base 和在顶部 Derived。即使转换为基类指针，如何确定对象类。

```
Base* b = new Derived():

typeid(b).name(); // i want this to tell me that this is actually derived not base object 
```

除了手动实现字符串字段或此类虚拟获取功能之外，还有其他方法吗？

PS：我说的是独立于编译器的解决方案

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-04-09T09:22:44.950

确保基类至少有一个虚拟方法，包括`<typeinfo>`并使用你当前的代码，只是额外的取消引用，`typeid(*b).name()`.

* * *

顺便说一句，请注意，`typeid`调用是 C++ 中的一个地方，您可以在其中取消引用具有明确定义行为的空指针，这意味着它可以引发异常：

> **C++11 §5.2.8/2**：
> “如果通过将一元运算符应用于指针而获得 glvalue 表达式`*`并且指针是空指针值 (4.10)，则`typeid`表达式将引发`std::bad_typeid`异常 (18.7.3)。”

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-04-09T09:32:24.570

如果您只想找到 if`b`实际指向`Derived`，只需使用`dynamic_cast()`：

```
if (dynamic_cast<Derived*>(b)) { ... } 
```

`dynamic_cast`如果指向的对象的实际运行时类型`b`不是`Derived`（或派生自 的类`Derived`），则返回空指针。与 的`name()`成员不同`std::type_info`，这是编译器不变的。

请注意，这仅在`Base`具有至少一个虚拟成员函数时才有效。无论如何它都应该这样做，因为您正在通过基指针操作从它派生的类型，所以它应该有一个虚拟析构函数。

# javascript - UIWeb 视图。使用 javascript 替换 css 属性

> ID：15898122
> 
> 赞同：1
> 
> 时间：2013-04-09T09:21:02.957
> 
> 标签：javascript, css, uiwebview, replace

代码如下所示：

```
<style type=\"text/css\">
html{background: #000; margin: 0; padding: 0}
body {padding: 30px; background: #000;width: 85;margin:0 auto;color: #000;font-family: Arial, sans-serif;line-height: 1.3em;}
</style> 
```

如果我想替换例如 html.background 怎么办？

通常的 NSString 替换是不合适的，因为可能有很多类似的属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:34:25.490

您应该考虑为此使用 jQuery 框架。

有关 jQuery 的 CSS 的更多信息，请访问：http: [//api.jquery.com/css/](http://api.jquery.com/css/)

# xquery - 如何使用 xquery 保留属性中的所有空格？

> ID：15898123
> 
> 赞同：0
> 
> 时间：2013-04-09T09:21:04.197
> 
> 标签：xquery, saxon

我需要保留属性中的所有空格，如

```
<img src="images/some     image.jpg"/> 
```

所有空格对于查找图像都很重要。

我使用 saxon 处理器使用如下表达式解析 xml：

```
declare boundary-space preserve;
string($mydoc/html/body/div/a/img/@src) 
```

但结果是

```
images/some image.jpg 
```

我希望有人可以提供帮助，因为这似乎很容易。

阿兰

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T23:14:30.977

您的属性中有多个空格还是制表符？如果它是一个选项卡，XML 解析器会自动将其替换为一个空格（请参阅规范中的“属性值规范化”）。

如果它是多个空格，我认为将其替换为单个空格的唯一方法是，如果属性在 DTD 中定义为 CDATA 以外的类型 - 这似乎不太可能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T08:58:23.543

啊啊啊啊啊！！！问题不在于 xquery 处理。

其实我是用 Tidy 把 html 转换成 xhtml 再用 saxon 处理。Tidy 默认将选项 literal-attributes 设置为 false。

> 此选项指定 Tidy 是否应确保属性值中的空白字符不变地传递。

将其设置为 true 可解决问题并保留所有中间空白。

很抱歉浪费了你的时间

# php - 默认情况下如何通过代理引导php curl

> ID：15898127
> 
> 赞同：1
> 
> 时间：2013-04-09T09:21:09.580
> 
> 标签：php, curl, proxy

我正在尝试设置一个使用 curl 的 php 项目，而我的设置位于代理后面。该脚本可以通过以下设置通过代理访问 url。

```
$url = 'http://dynupdate.no-ip.com/ip.php';
$proxy = '127.0.0.1:8888';
//$proxyauth = 'user:password';

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL,$url);
curl_setopt($ch, CURLOPT_PROXY, $proxy);
//curl_setopt($ch, CURLOPT_PROXYUSERPWD, $proxyauth);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_HEADER, 1);
$curl_scraped_page = curl_exec($ch);
curl_close($ch);

echo $curl_scraped_page; 
```

但由于我使用的是第 3 方脚本，并且我不想修改该脚本；**我想知道是否有办法将 cURL 设置为默认通过代理。**就像是

```
$opts = array('http' => array('request_fulluri' => true,
                          'proxy' => 'tcp://10.0.9.61:3128'),
        );
stream_context_get_default($opts); 
```

这适用于 fopen 或 get_file_contents。

我查看了其他线程，但没有找到任何东西。感谢你的帮助。

# ruby-on-rails - Ruby on Rails 中的 Html 页面重定向

> ID：15898130
> 
> 赞同：0
> 
> 时间：2013-04-09T09:21:13.690
> 
> 标签：ruby-on-rails

我有一个 html 页面，在那个页面中我有 3 个按钮。每个按钮都应该重定向到一个单独的 html 页面。你可以看看下面的代码并指导我哪里错了。

```
<td class="span3 offset6 alignment">
  <%= submit_tag 'Add To Cart', products_path %>
</td>
<td class="span3 offset9 alignment">
  <%= submit_tag 'Check Out', orders_path %>
</td>
<td class="span3 offset12 alignment">
  <%= submit_tag 'View Cart', viewcart_path %>
</td> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T09:28:50.573

`submit_tag`在 a 内使用`form`。

在这种情况下，您是否要使用 `<%= link_to 'View Cart', viewcart_path %>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:29:06.857

`submit_tag`不会有路径，因为它的形式。路径将在表单操作属性中指定。你需要`link_to`为你的目的。请通过本文档了解[submit_tag](http://apidock.com/rails/ActionView/Helpers/FormTagHelper/submit_tag)和[link_to](http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:31:49.117

你可以这样使用，

```
<%= button_to "Add To Cart", products_path, :method => "get" %> 
```

# android - 使用 ffmpeg 和 H264 编解码器创建的视频无法在 android 上播放：播放器说它不是 divx 文件

> ID：15898131
> 
> 赞同：1
> 
> 时间：2013-04-09T09:21:14.217
> 
> 标签：android, ffmpeg

我在 C 中使用 ffmpeg 和 H264 编解码器从图像创建了一个视频。我可以在 android 设备上使用 3rd 方播放器（V player）运行视频。但是本机播放器不播放视频。IT 表示该文件不是 Divx 文件。下面是我用来从图像创建视频的代码：

```
JNIEXPORT void Java_com_canvasm_mediclinic_VideoGenerator_generate(JNIEnv *pEnv, jobject pObj,jobjectArray stringArray,int famerate,int width,int height,jstring videoFilename)
{
    AVCodec *codec;
    AVCodecContext *c= NULL;
    //int framesnum=5;
    int i,looper, out_size, size, x, y,j;
    int ret,pts,got_pkt_ptr;

    int imagecount= (*pEnv)->GetArrayLength(pEnv, stringArray); 
    int retval=-10;
    uint8_t endcode[]={0,0,1,0xb7};
    AVPacket outpacket;
    FILE *f;
    AVFrame *picture,*encoded_avframe;  
    jbyte *raw_record;
    char logdatadata[100];
    int returnvalue = -1,numBytes =-1;
    const char *gVideoFileName = (char *)(*pEnv)->GetStringUTFChars(pEnv, videoFilename, NULL); 
        /* find the mpeg1 video encoder */  
    codec = avcodec_find_encoder_by_name("libx264");
    if (!codec) {
        __android_log_write(ANDROID_LOG_INFO, "record","codec not found");
        exit(1);
    }
    c= avcodec_alloc_context();
    c->bit_rate = 500000;
    c->width = width;
    c->height = height;
    c->time_base= (AVRational){1,famerate};
    c->gop_size = 12; // emit one intra frame every ten frames
    c->max_b_frames=1;
    c->pix_fmt = PIX_FMT_YUV420P;
    c->codec_type = AVMEDIA_TYPE_VIDEO;
    c->codec_id = codec->id;
    c->max_b_frames = 0;
    c->me_range = 16;
    c->max_qdiff = 4;
    c->qmin = 10;
    c->qmax = 26;
    c->qcompress = 0.6;
    c->trellis=0;
    c->level = 30;
    c->refs = 5;
    c->coder_type = 0;
    c->scenechange_threshold = 0;
    //new
    c->flags|=CODEC_FLAG_LOOP_FILTER;//new  
    c->scenechange_threshold = 40; //new
    c-> rc_buffer_size = 0;
    c->gop_size=250; //new
    c->max_b_frames=1;//new
    c->me_method=7;
    c->me_cmp|= 1;
    c->me_subpel_quality = 6;
    c->qmax=51;
    c->keyint_min=25;
    av_opt_set(c->priv_data,"subq","6",0);
    av_opt_set(c->priv_data,"crf","20.0",0);
    av_opt_set(c->priv_data,"weighted_p_pred","0",0);
    av_opt_set(c->priv_data,"profile","baseline",AV_OPT_SEARCH_CHILDREN);
    av_opt_set(c->priv_data,"preset","medium",0);
    av_opt_set(c->priv_data,"tune","zerolatency",0);
    av_opt_set(c->priv_data,"x264opts","rc-lookahead=0",0);

    /* open it */
    retval = avcodec_open(c, codec);
    if ( retval < 0)
    {
    __android_log_write(ANDROID_LOG_INFO, "record","could not open codec");
        exit(1);
    }   
    f = fopen(gVideoFileName, "ab");

    if (!f) {
        __android_log_write(ANDROID_LOG_INFO, "record","could not open video file");
        exit(1);
    }
    pts = 0;
    for(i=0;i<=imagecount;i++) {

        jboolean isCp;
        int progress = 0;
        float temp;

        jstring string;
        if(i==imagecount)
            string = (jstring) (*pEnv)->GetObjectArrayElement(pEnv, stringArray,
                      imagecount-1);
        else
            string = (jstring) (*pEnv)->GetObjectArrayElement(pEnv, stringArray, i);

        const char *rawString = (*pEnv)->GetStringUTFChars(pEnv, string, &isCp);        
        picture = OpenImage(rawString,width,height,i);      
        av_init_packet(&outpacket);
        fflush(stdout);

        {               
            picture->pts=i ;//c->frame_number;          
            do{
                out_size = avcodec_encode_video2(c, &outpacket, 
                                 picture,&got_pkt_ptr);             
            }while(!got_pkt_ptr);   

        }

        returnvalue = fwrite(outpacket.data, 1, outpacket.size, f);
        av_free_packet(&outpacket); 

    }

    /* get the delayed frames */
    for(got_pkt_ptr =1; got_pkt_ptr; i++) {
        fflush(stdout);
        avcodec_encode_video2(c, &outpacket, NULL,&got_pkt_ptr);

        if(got_pkt_ptr)
        {
            fwrite(outpacket.data, 1, outpacket.size, f);
            av_free_packet(&outpacket);
        }   
    }

    fwrite(endcode,1,sizeof(endcode),f);
    fclose(f);  
    avcodec_close(c);
    av_free(c);     
}
AVFrame* OpenImage(const char* imageFileName,int w,int h,int index)
{
    AVFrame *pFrame;
    AVCodec *pCodec ;
    AVFormatContext *pFormatCtx = NULL;
    AVCodecContext *pCodecCtx;
    uint8_t *buffer;
    int frameFinished,framesNumber = 0,retval = -1,numBytes=0;
    AVPacket packet;
    char logdatadata[100];
    int result = -1;

    result=avformat_open_input(&pFormatCtx,imageFileName,NULL,NULL);
    if(result!=0)       
    {       
        __android_log_write(ANDROID_LOG_INFO, "record",
                "Can't open image file ");
        return NULL;
    }
    pCodecCtx = pFormatCtx->streams[0]->codec;
    pCodecCtx->width = w;
    pCodecCtx->height = h;
    pCodecCtx->pix_fmt = PIX_FMT_YUV420P;

    // Find the decoder for the video stream
    pCodec = avcodec_find_decoder(pCodecCtx->codec_id);
    if (!pCodec)
    {
        __android_log_write(ANDROID_LOG_INFO, "record",
                "Can't open image file ");
        return NULL;
    }

    pFrame = avcodec_alloc_frame();

    numBytes = avpicture_get_size(PIX_FMT_YUV420P, pCodecCtx->width, pCodecCtx->height);
    buffer = (uint8_t *) av_malloc(numBytes * sizeof(uint8_t)); 

    retval = avpicture_fill((AVPicture *) pFrame, buffer, PIX_FMT_YUV420P, pCodecCtx->width, pCodecCtx-
            >height);

    // Open codec
    if(avcodec_open(pCodecCtx, pCodec)<0)
    {
        __android_log_write(ANDROID_LOG_INFO, "record","Could not open codec");
        return NULL;
    }

    if (!pFrame)
    {
        __android_log_write(ANDROID_LOG_INFO, "record","Can't allocate memory for AVFrame\n");
        return NULL;
    }
    int readval = -5;
    while (readval = av_read_frame(pFormatCtx, &packet) >= 0)
    {
        if(packet.stream_index != 0)
            continue;       
        int ret = avcodec_decode_video2(pCodecCtx, pFrame, &frameFinished, &packet);

        if (ret > 0)
        {
            __android_log_write(ANDROID_LOG_INFO, "record","Frame is decoded\n");
            pFrame->quality = 4;
            av_free_packet(&packet);
            av_close_input_file(pFormatCtx);            
            return pFrame;
        }
        else
        {
            __android_log_write(ANDROID_LOG_INFO, "record","error while decoding frame \n");
        }
    }   
} 
```

上面的代码生成了一个可以使用 VLC 等 3rd 方播放器运行的视频。我只是想知道在 android 上播放视频我缺少什么我怎样才能删除“不是 divx 文件”错误。

我检查了下面给出的一些论坛链接，但没有用 [link1](https://stackoverflow.com/questions/11537830/ffmpeg-api-h264-encoded-video-does-not-play-on-all-platforms) [link2](https://stackoverflow.com/questions/11307353/opencv-ffmpeg-image-capture-problems)

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:01:08.210

也许您转换后的视频文件具有 .avi 扩展名？ffmpeg 使用扩展来选择视频容器格式，而 H264 需要 MPEG4 容器格式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-06T13:51:57.293

虽然我应该发布解决方案。我通过使用 ff-mpeg UNIX 可执行文件并移至命令行解决了这个问题。步骤如下：

1）我能够创建一个 8 mb 大小的 ff-mpeg 并放在我的资产文件夹中。

2）当我的应用程序启动时，我将文件复制到 SD 卡上。

3）然后使用以下代码从图像生成视频

```
changeExeMode(SYSTEM_BIN_CHMOD +" 777 "+ APP_DATA_PATH+FFMPEG_EXE);// this is a function defined ahead

    String[] ffmpegCommand = new String[] {APP_DATA_PATH+FFMPEG_EXE,
                        "-f","image2",

                        "-r",""+frameVisibleTime,
                        "-i",Environment.getExternalStorageDirectory().toString() + Constants.logoImageDir + "/"+"%d.jpg",path};
                Process exeffmpeg = Runtime.getRuntime().exec(ffmpegCommand);

void changeExeMode(String exeName) throws IOException, InterruptedException{
        Process chm =Runtime.getRuntime().exec(exeName);
        chm.waitFor();
        int exitCode = chm.exitValue();
        if(exitCode == 0) {
        }
        else {          
            printFailureReason(chm);
        }
    } 
```

# wcf - 可移植类库是否对 Windows 8 商店应用程序有益

> ID：15898132
> 
> 赞同：1
> 
> 时间：2013-04-09T09:21:18.813
> 
> 标签：wcf, architecture, windows-8

可移植类库是否对 Windows 8 商店应用程序有益。我正在尝试为 Window 8 App 创建一个架构，其中我有 WCF Restful 数据服务。我的问题是我不想为 Window 8 项目中的每个实体创建代理类，所以我想使用我拥有所有实体和业务逻辑的数据层，这个数据层在 wcf 服务中有引用，它返回给我 xml/json结果。现在我需要在 Window 8 App 中使用此服务，我需要使用我不想创建的代理类来映射数据。

所以我的问题是我们可以将datalayer引用到window 8 app项目，此时我发现这是不可能的，因为window 8 App项目不支持System.Data。或者，谁能告诉我应该使用什么模式来实现我的目标。

可移植类库会帮助我摆脱它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T13:23:48.217

可移植类库用于解决多个前端客户端应用程序（Windows 7、Windows 8、Silverlight、Windows Phone 和 Xbox 360）之间共享后端代码（业务逻辑/数据层）的问题。因此，如果您同时编写 Windows 8 应用程序和其他应用程序（例如 Windows Phone 应用程序），您可以将后端逻辑放在可移植类库中，它会构建为您可以从 Windows 8 应用程序引用的程序集和您的 Windows Phone 应用程序。

因此，可移植类库可能不是您解决问题所需的工具，它需要在 Window 8 应用程序中使用服务。如果您对“在 Windows 8 中使用 json”进行 Bing 搜索，则有很多结果可以对此有所帮助。

# php - PHP：timezone_name_from_abbr() 总是返回 false

> ID：15898137
> 
> 赞同：0
> 
> 时间：2013-04-09T09:21:34.013
> 
> 标签：php

**代码**

```
$c_tme = -330;
$this->_CLIENT_T_Z = timezone_name_from_abbr("", $c_tme*-60, 1);
if( $this->_CLIENT_T_Z == FALSE ){
    $this->_CLIENT_T_Z = timezone_name_from_abbr("", $c_tme*-60, 0);
} 
```

此代码在本地运行良好。但是上传到服务器后它总是返回false。那是因为任何编码问题吗？

# msmq - 设置 MSMQ 观察者

> ID：15898138
> 
> 赞同：0
> 
> 时间：2013-04-09T09:21:40.927
> 
> 标签：msmq

我想在 MSMQ 中设置观察者，就像 FileWatcher 一样，如果消息在队列中，它将检查队列，然后它将传递，我不想使用定时器，线程。有没有其他方法来处理这个？

这里还没说完，它会一直看队列。使用 Windows 服务和计时器我已经尝试过它的工作，但有时时间间隔会产生死锁，所以想忽略它。

谢谢

# audio - Windows Phone 8 中的 SHOUTcast 流

> ID：15898148
> 
> 赞同：4
> 
> 时间：2013-04-09T09:22:00.197
> 
> 标签：audio, stream, windows-phone-8, shoutcast

有人知道如何在 Windows Phone 8 的音频播放器中播放 SHOUTcast 流吗？

我已经尝试过这些链接：stream/stream/; 溪流/; 流.mp3

欢迎任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-23T03:01:55.587

这个项目是针对 Windows Phone 7 的，已经有一段时间没有更新了；但是，它对我构建的几个 Windows Phone 8 应用程序运行良好。

[http://shoutcastmss.codeplex.com](http://shoutcastmss.codeplex.com)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-27T04:54:32.033

您必须自己实施。不幸的是，在 WP 上不支持开箱即用。

# mysql - MySQL 更新具有相同值的多个字段

> ID：15898149
> 
> 赞同：5
> 
> 时间：2013-04-09T09:22:01.063
> 
> 标签：mysql

我在两个单独的表中有两个字段需要更新为相同的值。没有程序等。这可能在单个查询中吗？

工作声明：

```
UPDATE product,product_shop SET
 product_shop.price='737.96',
 product.price='737.96',
 product_shop.wholesale_price='479.67',
 product.wholesale_price='479.67'
WHERE 
 product_shop.id_product=product.id_product AND
 product_shop.id_product=14; 
```

我所希望的：

```
UPDATE product,product_shop SET
 product_shop.price=product.price='737.96',
 product_shop.wholesale_price=product.wholesale_price='479.67'
WHERE 
 product_shop.id_product=product.id_product AND
 product_shop.id_product=14; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2018-05-18T10:13:28.853

MySQL 文档声明您可以执行[此](https://dev.mysql.com/doc/refman/8.0/en/ansi-diff-update.html)操作，如果您试图避免两次打印该值，您可以执行以下操作：

```
UPDATE product,product_shop SET
 product_shop.price='737.96',
 product.price=product_shop.price, 
 product_shop.wholesale_price='479.67',
 product.wholesale_price=product_shop.wholesale_price
WHERE 
 product_shop.id_product=product.id_product AND
 product_shop.id_product=14; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T09:24:32.287

不，您的“工作查询”是您能做的最好的。

# sql - 按 24 小时和星期几分组 - 时间间隔

> ID：15898151
> 
> 赞同：1
> 
> 时间：2013-04-09T09:22:05.133
> 
> 标签：sql, sql-server-2008

我知道这是一个常见问题，但我找不到与我的情况相匹配的东西。所以我们开始吧。

我有一个名为 RECORDED_ENTRIES 的表，其中包含列 ID (int) 和 CreateDate (datetime)。

无论实际日期如何，我都想按 24 小时按小时对数据进行分组。

例如，我希望输出为：

```
00:00 - 2
01:00 - 3
02-00 - 12
....
23:00 - 1 
```

目的是为图表创建数据，该图表将按一天中的时间显示记录的条目

我还需要按 Day 的名称对数据进行分组。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:30:06.190

你想要的是：

```
GROUP BY DATEPART(HH,CreateDate) 
```

[SQLFiddle](http://sqlfiddle.com/#!3/99d82/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:37:22.663

您可以在 sql server 中使用 CONVERT() 函数，它的作用类似于 CAST() 但您可以使用样式！convert(varchar(2),,108) 将使用 108 代码，即 HH:MM:SS。查看[http://www.sql-server-helper.com/tips/date-formats.aspx](http://www.sql-server-helper.com/tips/date-formats.aspx)

例子：

```
DECLARE@d DATETIME= '2013-03-02 19:45';
SELECT
@d AS dt
,CONVERT(VARCHAR(2),@d,108) AS theHour 
```

# c# - XML 序列化——序列化用户控件中的属性

> ID：15898152
> 
> 赞同：3
> 
> 时间：2013-04-09T09:22:13.907
> 
> 标签：c#, wpf, xml, serialization, user-controls

如何序列化用户控件中的属性？

我尝试了以下代码，但在创建 XmlSerializer 对象时出现了 InvalidOperationExceptio

```
MyUserControl userControl = new MyUserControl();
XmlSerializer serializer = new XmlSerializer(typeof(MyUserControl));
Stream stream = new MemoryStream();
TextWriter writer = new StreamWriter(stream);
serializer.Serialize(writer, userControl); 
```

**例外：**

System.InvalidOperationException 未处理

H结果=-2146233079

消息=存在反映类型“Demo.MyUserControl”的错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:28:16.917

恕我直言，您不应该这样做。

您应该编写一个单独的“数据传输对象 (DTO)”样式类来保存要序列化的数据，并改用*它*。（当然，您需要编写 Transform 方法来来回转换数据。）

否则，您会将数据存储格式与用户控件紧密结合。

如果您使用单独的类进行序列化，它将使其更易于管理和灵活，特别是如果您将来需要添加新属性。

如果您确实*必须*序列化用户控件（并且我强烈建议您*不要*），您可以尝试使用[DataContract 序列化](http://msdn.microsoft.com/en-GB/library/ms733127.aspx)，它具有“选择加入”机制，属性被序列化，而不是“选择退出”机制较旧的序列化。

# asp.net - VS 关闭解决方案资源管理器中的所有文件夹

> ID：15898153
> 
> 赞同：0
> 
> 时间：2013-04-09T09:22:14.933
> 
> 标签：asp.net, visual-studio-2010

只是关于 VS 中的功能的一般问题。

我已经下载了包含大量文件和文件夹的教程的源代码。出于某种我自己不知道的原因，每当我在 VS 中打开这个特定项目时，所有文件夹都将打开，在解决方案资源管理器中显示项目中的所有文件。

在从解决方案资源管理器打开/查看项目时，有任何通用规则或选项将关闭所有文件夹，而不是花费几分钟最小化项目中的所有文件夹。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:49:21.853

您可以使用[Visual Studio 2010 的 PowerCommands](http://visualstudiogallery.msdn.microsoft.com/e5f41ad9-4edc-4912-bca3-91147db95b99)或[Visual Studio 2012 的 Productivity Power Tools](http://visualstudiogallery.msdn.microsoft.com/3a96a4dc-ba9c-4589-92c5-640e07332afd)。

右键单击解决方案资源管理器并选择*Collapse Projects*。

# spring - 春季拦截器调用排序

> ID：15898155
> 
> 赞同：1
> 
> 时间：2013-04-09T09:22:19.787
> 
> 标签：spring, spring-mvc

如果定义了多个拦截器，spring框架中拦截器调用的默认顺序是什么？我们是否需要实现spring框架的Ordered接口来对拦截器调用进行排序？如果没有实现Ordered接口，它如何处理排序。如果是它是从框架中的哪个类实现的？例如在调用..package.class.methodName中的实际方法之前，有5个拦截器用于登录、特权、缓存、安全、动态操作。

这是xml

```
<aop:config>
        <aop:aspect id="interceptor1" ref="beanId">
            <aop:pointcut id="pointcut" expression="execution(* *..*ServiceImpl.*(..))" />
            <aop:before pointcut-ref="pointcut" method="someMethod" />
            <aop:after pointcut-ref="pointcut" method="someMethod1" />
        </aop:aspect>
    </aop:config>
    <bean id="beanId" class="className">

    </bean> 
```

# javascript - 使用 Jquery 从对象中获取价值

> ID：15898156
> 
> 赞同：0
> 
> 时间：2013-04-09T09:22:21.740
> 
> 标签：javascript, jquery

我是 Jquery 的新手。我在从对象中获取价值时遇到了问题。

这是设置对象的值和返回的片段。

```
expItem1 = new sap.ui.core.ListItem( {
    text : "Hello",
    key : "World"
}); 
```

所以，当我想从**expItem**对象中获取键的值时，每当我从对象中获取值时，它都会说我的属性无效。

```
alert(expItem1.text) 
```

任何建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:27:42.507

查看[http://www.spyvee.com/SAPHTML5_DemoKit/docs/api/symbols/sap.ui.core.ListItem.html上的文档](http://www.spyvee.com/SAPHTML5_DemoKit/docs/api/symbols/sap.ui.core.ListItem.html)

您可能应该使用[`expItem1.getKey()`](http://www.spyvee.com/SAPHTML5_DemoKit/docs/api/symbols/sap.ui.core.Item.html#getKey)and[`expItem1.getText()`](http://www.spyvee.com/SAPHTML5_DemoKit/docs/api/symbols/sap.ui.core.Item.html#getText)来获取相关值..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:10:36.263

我是您以错误的方式访问该物业。通常，JSON 对象的访问方式如下：

```
var myJSON = '[{"host":"foo","url":"bar"},{"host":"foos","url":"bars"}]';
   $.each($.parseJSON(myJSON), function(key,value){
   alert("Key: "+key+" Value:"+value.url);
}); 
```

# php - 具有相同名称的多个文本输入 - 添加到数据库

> ID：15898161
> 
> 赞同：3
> 
> 时间：2013-04-09T09:22:35.760
> 
> 标签：php, arrays, post, input, foreach

我有一个包含多个字段的表单，所有这些字段都可以相乘

```
<input type="text" name="child_name[]" />
<input type="text" name="child_age[]" />
<input type="text" name="child_gender[]" />    
<input type="text" name="child_school[]" /> 
```

我想使用 foreach 向数据库中的表中添加多行，但每次尝试时都会出现错误提示

```
"Unknown column 'Array' in 'field list'" 
```

当我打印出数据时，它会将所有字段显示为数组，所以我一定是对 foreach 语句做错了，但我不知道是什么

```
Array ( [child_name] => Array ( [0] => child one [1] => child two) [child_age] => Array ( [0] => 14 [1] => 13 ) [child_gender] => Array ( [0] => male [1] => female ) [child_school] => Array ( [0] => burnside [1] => summer heights high ) ) 
```

任何帮助将不胜感激！＃

更新

这是我的 foreach 的代码

```
foreach ($_POST['child_name'] as $child_name)
    {
        $insert_children_data = array(
            'child_name' => $_POST['child_name'],
            'child_age' => $_POST['child_age'],
            'child_gender' => $_POST['child_gender'],
            'child_school' => $_POST['child_school']
        );
        $insert = $this->db->insert('portrait_children', $insert_children_data);
        return $insert;
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T09:35:43.397

试试这个（假设您的表单对于每个 child_name、child_age 等都有相同数量的元素）：

```
for ($ix=0; $ix<count($_POST['child_name']); $ix++)
{
    $insert_children_data = array(
        'child_name' => $_POST['child_name'][$ix],
        'child_age' => $_POST['child_age'][$ix],
        'child_gender' => $_POST['child_gender'][$ix],
        'child_school' => $_POST['child_school'][$ix]
    );

    $insert = $this->db->insert('portrait_children', $insert_children_data);
    //return $insert; //you cant return here. must let the loop complete.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:44:43.457

您正在将一个数组分配给一个键，这是不可行的，请尝试循环所有元素

```
foreach ($_POST as $key)<br>
{<br>
    foreach($key as $v=>$v1)<br>
    {<br>
        $s[$v] = $v1;<br>
    }<br>

}<br>
print_r($s); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:46:24.817

做一个数组。数组包含特定孩子的所有数据

```
Array (
[0] => Array (
  [name] => child1 
  [age] => 5 
  [gender] => male
  [school] => 1school )
[1] => Array (
  [name] => child2 
  [age] => 10 
  [gender] => male
  [school] => school2 ) 
```

请尝试以下代码

```
$i =0;  

foreach($_REQUEST['child_name'] as $child)

{

$child1[$i]['name'] = $child;

$i++;

}

$i =0;  

foreach($_REQUEST['child_age'] as $child)

{

$child1[$i]['age'] = $child;

$i++;

}

$i =0;  

foreach($_REQUEST['child_gender'] as $child)

{

$child1[$i]['gender'] = $child;

$i++;

}

$i =0;  

foreach($_REQUEST['child_school'] as $child)

{

$child1[$i]['school'] = $child;

$i++;

} 
$insert = $this->db->insert('portrait_children', $child1);
    return $insert; 
```

# java - “NoDefClassNotFound”和“T 无法解析为类型”，在运行时

> ID：15898162
> 
> 赞同：0
> 
> 时间：2013-04-09T09:22:36.770
> 
> 标签：java, runtime, classpath, runtime-error, classnotfoundexception

我在这里有点挣扎。我在 Eclipse 中有一个 java 项目，其中包含一个使用 2 个其他类（C1 和 C2）的类（A），每个类都在一个单独的 jar 文件（JAR1 和 JAR2）中。同时 C1 (JAR1) 也在调用 C2 (JAR2) 的方法。

*   A（来电）
    *   C1（电话）
        *   C2
    *   C2

所以我在eclipse中我的项目的运行时类路径中添加了两个jar文件，但是在执行（调试）时，当java在类A中执行代码时，它会看到两个jar文件以及两个类C1和C2 ，但是当它进入 C1 内部（从 C2 调用方法）时，java 看不到 JAR2 和 C2。我得到“C2 无法解析为类型”和“NoDefClassFoundError”。

顺便说一句，项目编译良好，两个 jar 文件也在构建路径中。

你知道问题是什么以及如何解决吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:25:38.950

您还需要添加`JAR2`to`JAR1`的依赖项，而不仅仅是添加到包含 class 的主项目`A`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:26:05.640

添加两个罐子。

`Project->Properties->Java Build Path->Add external Jars->Add.`

它应该工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T09:28:09.997

在 buildpath 中包含两个 Jars 应该可以解决您的问题（项目属性 -> Java 构建路径 -> 库 -> 添加外部 Jar）

# mysql - 如何使用 MySql 数据库在不同的表中插入数据？

> ID：15898165
> 
> 赞同：0
> 
> 时间：2013-04-09T09:22:47.077
> 
> 标签：mysql, database, insert

通常我在一个表（销售）示例中在 MySql 中插入数据。

```
string query = "INSERT INTO sales (price, user, date) " +
                             "VALUES(" +
                             "'" + txtQuant.Text + "'," +
                             "'" + txtLog.Text + "'," +
                              "NOW())"; 
```

但现在我改变了主意，决定单独​​创建另一个表，我将为列价格命名设置。这是我第一次这样做，所以我不知道该怎么做。

我试过这个。

```
string query = "INSERT INTO sales (user, date), settings (price) " +
                             "VALUES(" +
                             "'" + txtLog.Text + "'," +
                              "NOW())", "'" + txtQuant.Text + "'"; 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:26:04.387

只需使用 2 个查询即可

```
INSERT INTO sales (user, date) values('user', now()); 
INSERT INTO settings (price) values(100); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:26:34.643

一次查询是不可能的，因为 INSERT 只能将数据插入到 mysql 中的一个表中。你可以

*   将其写为两个查询并作为批处理执行
*   创建一个执行两个插入命令的存储过程

如果您需要确保两个查询都将写入数据，则可以将这些插入包装在事务中

使用这些查询

```
$query1 ="INSERT INTO sales (user, date) values(.....)"; 
$query2 ="INSERT INTO settings (price) values(......)"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:27:24.317

您必须将两个查询分开：

```
INSERT INTO sales (user, date) VALUES ( ... ) 
```

其次是

```
INSERT INTO settings (price) VALUES ( ... ) 
```

如果`sales`有`auto_increment`主键，则可以在插入后`LAST_INSERT_ID()`在第二个查询中使用来引用`sales.id`。

```
INSERT INTO settings (sale_id, price) VALUES (LAST_INSERT_ID(), ... ) 
```

请注意，像这样的相关查询最好放在事务中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T09:27:31.067

MySQL 不支持在单个查询中插入多个表（请参阅[sql - 在一个查询中插入多个表](https://stackoverflow.com/questions/3860280/sql-insert-into-multiple-tables-in-one-query)）。

您可以在单个事务中放置多个查询，以确保它们要么都成功，要么都不成功。上面的问题有一个例子。

# codeigniter - 使用 PHP 通过 Rest 登录 Bugzilla

> ID：15898168
> 
> 赞同：0
> 
> 时间：2013-04-09T09:22:53.383
> 
> 标签：codeigniter, bugzilla

我想在 php 代码中使用 REST 登录并验证用户数据。任何人都可以帮助我，我试图阅读 Bugzilla API 的文档，但我不明白如何应用它。我正在使用 codeigniter，这是我最后一次测试 url

```
 function createIssue_get() {

    $client_data = array(
        'application_id' => 1,
        'ios' => "IOS",
        'type' => "dsfs",
        'memory' => "32",
        'storage' => "32",
        'wifi' => "dsfd",
        'carrier' => "erwre",
        'battery_level' => "32423",
        'battery_state' => "erwwer",
        'country' => "ewre",
        'city' => "ewrwre",
        'console_log' => "drewrwer",
        'duration' => "werwere",
        'created_at' => date("Y-m-d H:i:s", now())
    );

    $username = 'xxxxxxx@gmail.com';
    $password = 'xxxxxxxx';
    $curl_handle = curl_init();
    curl_setopt($curl_handle, CURLOPT_HTTPHEADER, array("Content-Type: application/json", "Accept: application/json"));
    curl_setopt($curl_handle, CURLOPT_URL, 'https://api-dev.bugzilla.mozilla.org/test/latest/bug?username=xxxxx@gmail.com&password=xxxxxxx');
    curl_setopt($curl_handle, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($curl_handle, CURLOPT_SSL_VERIFYHOST, 0); 
    curl_setopt($curl_handle, CURLOPT_SSL_VERIFYPEER, 0); 

    curl_setopt($curl_handle, CURLOPT_POST, 1);
    curl_setopt($curl_handle, CURLOPT_POSTFIELDS, json_encode(array(
                'product' => 'MyOwnBadSelf',
                'summary' => substr('testing', 0, 20),
                'version' => 'unspecified',
                'component' => 'Comp1',
                'op_sys' => "All",
                'platform' => "Macintosh",
                'priority' => "P5",
                'severity' => "Trivial",
                'whiteboard' => implode('', $this->array_map_assoc(function($k, $v) {
                                    return "$k:\n$v\n\n";
                                }, $client_data))
            )));

    curl_setopt($curl_handle, CURLOPT_USERPWD, $username . ':' . $password);  
    $buffer = curl_exec($curl_handle);

    curl_close($curl_handle);

    echo $buffer;

} 
```

它适用于创建错误，但我只需要验证用户名并通过？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:06:24.423

不确定我是否理解您的问题，但如果您尝试将 REST 与 CI 结合使用，这是 Phil Sturgeon 制作的一个很酷的插件：

[http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/](http://net.tutsplus.com/tutorials/php/working-with-restful-services-in-codeigniter-2/)

# c# - C# MVC：DropDownListFor 将枚举绑定到整数模型字段

> ID：15898171
> 
> 赞同：1
> 
> 时间：2013-04-09T09:22:57.467
> 
> 标签：c#, asp.net-mvc, drop-down-menu, enums

如何将枚举绑定到整数类型的模型字段？

我尝试了一些扩展方法，但它们做得不好，因为所有方法都要求模型字段是给定的枚举类型......

这是我的来源（模型和枚举）：

模型：

```
public class Einheit
{
    public Einheit()
    {
        Id = Guid.NewGuid();
    }

    public Guid Id { get; set; }
    public short TypeOfSomething { get; set; }
    public long Verwendungszweck { get; set; }
} 
```

枚举：

```
public enum Einheitsart
{
    Type1 = 0,
    Type2 = 1,
    Type3 = 2,
    Type4 = 3,
    Type5 = 4,
    Type6 = 5
} 
```

我想让值从 0 到 6（为了能够在我的模型中保存整数），但是 DropDownList 应该显示文本“Type1”到“Type6”......

我遇到的问题是将枚举转换为有效的 SelectList。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:49:31.330

试试我创建的以下助手。

完整的细节可以在我的博客上看到：

~~[http://www.ninjanye.co.uk/2012/01/creating-dropdown-list-from-enum-in.html](http://www.ninjanye.co.uk/2012/01/creating-dropdown-list-from-enum-in.html)~~

[http://jnye.co/Posts/4/creating-a-dropdown-list-from-an-enum-in-mvc-and-c%23](http://jnye.co/Posts/4/creating-a-dropdown-list-from-an-enum-in-mvc-and-c%23)

```
public static class EnumHelper  
{  
    //Creates a SelectList for a nullable enum value  
    public static SelectList SelectListFor<T>(T? selected)  
        where T : struct  
    {  
        return selected == null ? SelectListFor<T>()  
                                : SelectListFor(selected.Value);  
    }  

    //Creates a SelectList for an enum type  
    public static SelectList SelectListFor<T>() where T : struct  
    {  
        Type t = typeof (T);  
        if (t.IsEnum)  
        {  
            var values = Enum.GetValues(typeof(T)).Cast<enum>()  
                             .Select(e => new { Id = Convert.ToInt32(e), Name = e.GetDescription() });  

            return new SelectList(values, "Id", "Name");  
        }  
        return null;  
    }  

    //Creates a SelectList for an enum value  
    public static SelectList SelectListFor<T>(T selected) where T : struct   
    {  
        Type t = typeof(T);  
        if (t.IsEnum)  
        {  
            var values = Enum.GetValues(t).Cast<Enum>()  
                             .Select(e => new { Id = Convert.ToInt32(e), Name = e.GetDescription() });  

            return new SelectList(values, "Id", "Name", Convert.ToInt32(selected));  
        }  
        return null;  
    }   

    // Get the value of the description attribute if the   
    // enum has one, otherwise use the value.  
    public static string GetDescription<TEnum>(this TEnum value)  
    {  
        FieldInfo fi = value.GetType().GetField(value.ToString());  

        if (fi != null)  
        {  
            DescriptionAttribute[] attributes =  
             (DescriptionAttribute[])fi.GetCustomAttributes(  
    typeof(DescriptionAttribute),  
    false);  

            if (attributes.Length > 0)  
            {  
                 return attributes[0].Description;  
            }  
        }  

        return value.ToString();  
    }  
} 
```

要使用它，只需使用以下代码：

```
//If you don't have an enum value use the type  
ViewBag.DropDownList = EnumHelper.SelectListFor<MyEnum>();  

//If you do have an enum value use the value (the value will be marked as selected)  
ViewBag.DropDownList = EnumHelper.SelectListFor(myEnumValue); 
```

注意：通过向您的枚举添加描述属性，它将使用它作为下拉菜单的显示文本：

```
public enum Einheitsart
{
    Type1 = 0,
    [Description("2nd Type")]
    Type2 = 1,
    Type3 = 2,
    Type4 = 3,
    Type5 = 4,
    Type6 = 5
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:47:31.297

您可以枚举所有枚举值并为每个枚举值创建 SelectListItems。这应该有效：

```
var selectList = new List<SelectListItem>();
foreach(Einheitsart art in Enum.GetValues(typeof(Einheitsart)))
{
    selectList.Add(new SelectListItem() { Value = (int)art, Text = art.ToString() })
} 
```

# ios - 带有听写功能的 Objective C AVAudioRecorder

> ID：15898174
> 
> 赞同：3
> 
> 时间：2013-04-09T09:23:20.767
> 
> 标签：ios, avaudiorecorder, dictation

我一直在尝试使 AVAudioRecorder 与 iOS 听写一起工作。到目前为止，我所做的是先启动 AVAudioRecorder，然后用户按下键盘上的麦克风按钮开始听写。我发现听写中断了 AVAudioRecorder 并且录音停止了。使用 AVAudioSessionInterruptionNotification，我尝试在录制中断后立即重新开始录制。它起作用了，但听写并没有“听到”任何东西。

有没有办法在 iOS 中使用听写时录制用户的声音？（我也知道，与 android 不同，Objective C 不会公开发送到其服务器的语音数据。）

# ruby - 有没有什么好的深入的Ruby OOP资料？

> ID：15898176
> 
> 赞同：-4
> 
> 时间：2013-04-09T09:23:39.090
> 
> 标签：ruby, oop

我想了解 Ruby 中的面向对象模型。我想尽可能深入。我正在寻找任何东西：视频、文章、书籍。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:06:42.670

[`The Well-Grounded Rubyist by David A. Black (Jun 4, 2009)`](http://www.amazon.com/David-A.-Black/e/B001K7RPQO)是一本值得学习的好书。

# javascript - 如何将外部html添加到div中

> ID：15898178
> 
> 赞同：0
> 
> 时间：2013-04-09T09:23:45.177
> 
> 标签：javascript, jquery, html, css

我有一个 HTML 文件 index.HTML。我想在按钮上将外部文件（1.HTML、2.HTML、3.HTML）加载到 div 中单击我的 HTML 是这样的

```
<div class="buttons">
<button  type="button">button1</button>
<button  type="button">button2</button>
<button  type="button">button3</button>
</div>

<div class="mydiv">

</div> 
```

点击 button1 1.HTML 内容加载到上面的 div 中。点击 button2、2.HTML.. 等。

我对java脚本很陌生，所以让我知道如何为此编写脚本。任何帮助，将不胜感激。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:26:51.283

使用[load()](http://api.jquery.com/load/) .. 和数据属性 .. 试试这个

**html**

```
<div class="buttons">
<button  type="button" data-url="1.html">button1</button>
<button  type="button" data-url="2.html">button2</button>
<button  type="button" data-url="3.html">button3</button>
</div> 
```

**jQuery**

```
$("button").click(function(){
    $('.mydiv').load($(this).data('url'));
}); 
```

**注意：**选择器`$('button')`选择文档中存在的所有按钮..所以最好给他们一个类并使用类选择器选择它以使其具体`.`

更加具体

```
$('.buttons > button').click(function(){
     $('.mydiv').load($(this).data('url'));
}); 
```

**或者**

```
<div class="buttons">
<button  type="button" data-url="1.html" class="btnclass">button1</button>
<button  type="button" data-url="2.html" class="btnclass">button2</button>
<button  type="button" data-url="3.html" class="btnclass">button3</button>
</div>

$(".btnclass").click(function(){
    $('.mydiv').load($(this).data('url'));
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:29:10.540

尝试这个

```
 $(document).ready(function(){
    $("button").click(function(){
  var file = $(this).attr('number')+'.html';
  $('.mydiv').load(file);
  })
})
<div class="buttons">
<button  number= '1'  type="button">button1</button>
<button  number= '2'  type="button">button2</button>
<button  number= '3'  type="button" >button3</button>
</div>

<div class="mydiv">

</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:25:27.507

您可能需要使用 jQuery [load()](http://api.jquery.com/load/)

```
$('#mydiv').load('test.html'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T09:26:13.010

你只需要在之后附加html

```
$('#').append('html content') 
```

# android - Holo 进度条发光效果

> ID：15898185
> 
> 赞同：3
> 
> 时间：2013-04-09T09:23:57.957
> 
> 标签：android, canvas

我正在使用画布绘制我的自定义形状，并且我想在它的末端添加发光效果，就像在 Android 进度条视图中一样。我试图查看 Android 源代码，但没有发现这种效果究竟是如何实现的。

![理想的效果](https://i.stack.imgur.com/M6dvQ.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:38:31.350

发光效果是 PNG 图像的一部分，请参阅其[源文件](https://github.com/android/platform_frameworks_base/blob/android-cts-4.2_r2/core/res/res/drawable-xhdpi/progress_primary_holo_light.9.png)。它被用作（通过[drawable/progress_horizo​​ntal_holo_light](https://github.com/android/platform_frameworks_base/blob/android-cts-4.2_r2/core/res/res/drawable/progress_horizontal_holo_light.xml)间接）作为[android:progressDrawable](http://developer.android.com/reference/android/widget/ProgressBar.html#attr_android%3aprogressDrawable)的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T09:40:50.197

您可以通过使用[BlurMaskFilter](http://developer.android.com/reference/android/graphics/BlurMaskFilter.html)来实现发光，该滤镜可以通过[`paint.setFilterMask(maskFilter)`](http://developer.android.com/reference/android/graphics/Paint.html#setMaskFilter%28android.graphics.MaskFilter%29).

您可能需要使用不同的过滤器进行多次绘制以实现一些很酷的效果。

# c# - youtube url 的正则表达式

> ID：15898186
> 
> 赞同：-2
> 
> 时间：2013-04-09T09:24:02.303
> 
> 标签：c#, asp.net

url 的正则表达式是什么？在我的 Web 应用程序中，我想在用户在文本框中输入 url 时验证 url。

网址如：[http ://www.youtube.com/embed/OWj0fns95xw](http://www.youtube.com/embed/OWj0fns95xw)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T11:07:58.513

(http(s)?://)?([\w-]+.)+[\w-]+(/[\w- ;,./?%&=]*)?

这是工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:28:14.900

这个怎么样：

```
/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/ 
```

[http://net.tutsplus.com/tutorials/other/8-regular-expressions-you-should-know/](http://net.tutsplus.com/tutorials/other/8-regular-expressions-you-should-know/)

# asp.net-mvc-4 - 找不到 .net 提供商 SimpleMembership MVC4

> ID：15898191
> 
> 赞同：1
> 
> 时间：2013-04-09T09:24:31.800
> 
> 标签：asp.net-mvc-4, asp.net-membership, simplemembership

我正在尝试 ASP.NET MVC4 中的 simplemembership，但遇到了一些问题。我一直在谷歌搜索，发现建议将以下代码放在根目录中名为 _AppStart.cshtml 的文件中。

```
WebSecurity.InitializeDatabaseConnection("marabr", "Users", "id", "name", "password", true); 
```

但是当我这样做时，我会收到以下错误消息。

```
Unable to find the requested .Net Framework Data Provider.  It may not be installed. 
```

我的连接字符串是这样的

```
<add name="marabr" connectionString="Data Source=****;Initial Catalog=marabr;Persist Security Info=True;User ID=marabr;Password=marabr;MultipleActiveResultSets=True" providerName="System.Data.SqlClient" /> 
```

和我的提供者

```
<add name="SimpleMembership" type="WebMatrix.WebData.SimpleMembershipProvider, WebMatrix.WebData"/> 
```

有谁知道为什么这不起作用。如果我把这段代码放进去，比如说一些控制器代码，它工作得很好，但是我在多次调用它时遇到了麻烦。它就在 _AppStart 中，如果我把它放在 Global.asax.cs 的 Application_Start() 中，我就会遇到问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:30:06.920

您应该检查您的网络配置文件并添加实体框架连接

```
<add name="marabr" connectionString="metadata=res://*/Models.****.csdl|res://*/Models.****.ssdl|res://*/Models.****.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=****;initial catalog=****;persist security info=True;user id=****;password=****;MultipleActiveResultSets=True;App=EntityFramework&quot;" providerName="System.Data.EntityClient" /> 
```

# linux - Linux中的权限安全检查？

> ID：15898194
> 
> 赞同：0
> 
> 时间：2013-04-09T09:24:33.850
> 
> 标签：linux, chmod, chown

检查 /home 中多个文件夹和文件的权限以查看是否有任何帐户的权限设置为不安全值的最快方法是什么？

什么会被认为是不安全的？

*   具有可能被公众写入的访问级别的文件
*   对 .htaccess、.svn 等文件的读取权限
*   任何可能危及网络服务器安全的文件

**编辑**

我认为这是一个两部分的问题。我已经在上面提到了我认为不安全的内容，但也许还应该问一下：还有什么可以使网站在权限级别上不安全？有什么风险以及如何检查它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:39:39.253

显而易见的答案：

```
find -L /home -perm 0777 
```

以 0777 模式打印出所有文件/目录，通常是您不想设置的模式。

更详细：

```
find -L /home -perm /o+w 
```

任何人都可以写入的所有文件/目录。

```
find -L /home -perm /o+r -name '.*' -type f 
```

`.`任何人都可以读取的所有以 a 开头的文件

> 任何可能危及网络服务器安全的文件

不会有任何全面的方法来快速确定这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:39:40.143

例如，您可以使用 find 来查找除组和所有者之外具有读取权限的所有文件：

```
find /home/ -perm /o+r 
```

但是，您仍然需要确定哪些是不安全的权限。允许其他人在其他用户主目录中执行文件是否不安全？在用户主目录等中拥有另一个用户拥有的文件是否不安全？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-23T13:33:37.420

只要您完成了作业（双关语），/home 下的文件权限就不是安全问题。假设用户有一个可执行文件——只要系统管理正确，这个可执行文件唯一能做的就是以与用户相同的方式修改、读取和写入文件。如果您真的想阻止您的用户在其主目录中拥有可执行文件：只需使用 noexec 选项挂载 /home 即可。顺便说一句：如果你想防止意外的数据丢失，你可能也想看看 LVM 的快照功能。

提权问题与主目录中的文件是否可执行无关。

关于关键文件的权限，我强烈建议部署一个入侵检测系统，比如tripwire。它经过深思熟虑，不是很容易使用，但另一方面也不太难。

# wordpress - 在 Wordpress 中按分类和自定义字段值过滤自定义帖子类型的帖子

> ID：15898197
> 
> 赞同：1
> 
> 时间：2013-04-09T09:24:41.593
> 
> 标签：wordpress

我有一个自定义帖子类型列表，其中包含“酒店”、“寄宿家庭”、“度假村”等自定义分类。并且有一个用于此帖子类型的自定义元框，即“城市”……所以我想要的是我想按自定义分类法和自定义元框值过滤项目...例如：-我想在特定城市获得度假村名称...有没有人可以帮助我解决这个问题...我会如果是 Ajaxified 版本就更感谢了。我正在使用以下循环，我通过来自上一页的发布请求获取“$inCity”和“$searchFor”变量，该请求将带有操作的表单设置为自定义页面模板。并且循环位于自定义页面模板中

```
$the_query = new WP_Query(
    array( 
      'post_type'  => 'listing',    
      'meta_key'    => 'directory_select',  
      'orderby'     => 'meta_value',
      'order'       => 'asc',    
      'posts_per_page' => '1',
      'paged' => get_query_var( 'paged' ),
      'meta_query'  => array(
         array(        
          'key'     => 'directory_select', 
          'value'   => $inCity )
         ),
      'tax_query' => array(
        array(
            'taxonomy'  => 'find',
            'field'     => 'slug',
            'terms'     => $searchFor,
            'operator'  => 'IN')

            )

       )
    ); 
```

?>

# solaris - Solaris 11 XOpenDisplay 返回 NULL

> ID：15898204
> 
> 赞同：0
> 
> 时间：2013-04-09T09:24:54.153
> 
> 标签：solaris, system-calls, xserver

在 Solaris 11 上运行以下程序时遇到问题。XOpenDisplay 函数始终返回 NULL。相同的程序在 Solaris 10 上运行良好。

```
#include <stdio.h>
#include <X11/Xlib.h>

int main(int argc, char** argv) {
    Display *ptr = 0;

    ptr = XOpenDisplay("machine_name:0.0");

    if (0 == ptr)
    {
        printf("NULL received\n");
    }
    else
    {
        printf("Valid pointer received\n");
    }

    return 0;
} 
```

在调查期间，我发现 Solaris 11 不接受使用 TCP 协议的直接 X11 连接。我使用以下命令为 X11 服务器启用了 TCP。

```
svccfg -s x11-server setprop options/tcp_listen=true 
```

但是在调用函数 XOpenDisplay 期间仍然返回 NULL，现在我收到错误为“未指定协议”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T14:57:43.470

您能否使用简单的 X 客户端（例如设置为`xclock`或`xdpyinfo`设置`$DISPLAY`为）打开连接`machine_name:0.0`- 在您可以这样做之前，您的 X 设置中存在配置错误，需要先修复该错误，然后才能确定您的代码是否正常工作。

您是否已登录到 Solaris 11 机器上的 X 会话？它是存储 xauth cookie`$HOME/.Xauthority`还是使用新的 gdm 默认设置`$XAUTHORITY`为 /tmp 中对其他机器不可见的本地文件？如果是这样，您可能需要将该机器的 xauth cookie 复制到您设置指向`$HOME/.Xauthority`的远程系统上的文件或文件。`$XAUTHORITY`

顺便说一句，我们现在主要推荐使用`ssh -X`远程 X 连接，并为您设置 DISPLAY 环境变量、xauth cookie 和处理安全性，因此您不必自己做所有这些。

# java - Java.util.timer 定时器空指针异常

> ID：15898205
> 
> 赞同：1
> 
> 时间：2013-04-09T09:24:54.950
> 
> 标签：java, tomcat, timer, nullpointerexception

我正在使用 Apache Tomcat 7.0.39、Eclipse Java EE Juno、Java JRE 7 和 Java JDK 1.7.0_13。

我的计时器有问题。我有两个功能，第一个启动计时器并执行任务，另一个停止计时器。但是计时器永远不会停止，因为它是空的。

我的 Java 代码：

```
public class TestXMLSQLTimerLocal
{
    public Timer timer;

    public TestXMLSQLTimerLocal()
    {

    }

    public void start()
    {
        this.timer = new Timer();
        TimerTask task = new TimerTask()
        {
            public void run()
            {
            //Some code
            }
        };

        timer.scheduleAtFixedRate(task, 0, 60000);
    }
    public void stop() {
        this.timer.cancel();
    }
} 
```

我的 JSP 页面：

```
<%@page import="com.accenture.api.TestXMLSQLTimerLocal" %>
<%@page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<%
String text = "Press the Start button to begin !";
String action = request.getParameter("action");
TestXMLSQLTimerLocal TM = new TestXMLSQLTimerLocal();
if ("Start".equals(action))
{
    TM.start();
    text = "The data are being transferred. Press the Stop button when you want to stop the transfer !";
}
if("Stop".equals(action))
{
    TM.stop();
    text = "The transfer is stopped. Press the Start button to begin the transfer again !";
}
%>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>Transfer Module</title>
</head>
<body>
    <form name="StartTM" action="#">
        <input type="hidden" name="action" value="Start"/>
        <input type="submit" value="Start"/>
    </form>
    <br />
    <p><%=text%></p>
    <br />
    <form name="StopTM" action="#">
        <input type="hidden" name="action" value="Stop"/>
        <input type="submit" value="Stop"/>
    </form>
</body>
</html> 
```

start() 和 stop() 由简单 JSP 页面上的 Start 和 Stop 按钮调用。

对我来说，问题是计时器仍然为空，因为 Start() 方法中的修改没有考虑在内。有人可以帮助我吗？如果您需要更多信息，请询问我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:27:40.997

在构造函数中启动计时器，而不是 start 方法：

```
public class TestXMLSQLTimerLocal
{
public Timer timer;    

public TestXMLSQLTimerLocal(){
   this.timer = new Timer();
}

public void start()
{
    TimerTask task = new TimerTask()
    {
        public void run()
        {
        //Some code
        }
    };

    timer.scheduleAtFixedRate(task, 0, 60000);
}
public void stop() {
    this.timer.cancel();
}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:28:05.943

您需要确保在停止命令之前调用您的启动命令。另外，将您`this.timer = new Timer();`放入类的构造函数中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:29:45.187

如果您从 JSP 调用它，则该实例`TestXMLSQLTimerLocal`会产生新线程，并且`Timer`当用户按下停止按钮时该实例不可用。

您需要将一个实例添加`TestXMLSQLTimerLocal`到会话中，或者最好是 applicationContext。当您对该实例执行操作时，请始终将其从会话中拉出。

要将实例添加`TestXMLSQLTimerLocal`到会话：

```
//From Servlet
request.getSession().addAttribute("timer", new TestXMLSQLTimerLocal()); 
```

要将实例添加到应用程序范围，您需要使用[ServletContextListener](http://www.javabeat.net/2009/02/servletcontextlistener-example/)

此外，代码将引发 NPE 错误，因为`Timer`从未创建过 的实例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T07:04:06.100

感谢 Kevin Bowersok，我找到了解决方案

我将“开始”和“停止”按钮分成两页，并通过会话发送我的 TestXMLSQLTimerLocal 对象。

通过会话发送对象：

```
session.putValue("TM",TM); 
```

要获取其他页面中的值：

```
TestXMLSQLTimerLocal TM = (TestXMLSQLTimerLocal) session.getValue("TM"); 
```

谢谢你们的帮助

# java - 从 Swing 中的 JFileChooser 中排除根驱动器选择

> ID：15898207
> 
> 赞同：0
> 
> 时间：2013-04-09T09:25:00.860
> 
> 标签：java, swing, jfilechooser

我有一个要求，用户浏览`JFileChooser`并选择一个文件夹。

但是在进行此选择时，不应允许用户选择根驱动器。“根驱动器”是指Windows 和`C:`UNIX /Linux 中的等等。`D:``/`

我认为在这里我不能使用过滤器，`JFileChooser`因为它的工作是浏览文件，因此过滤驱动器本身没有任何意义。

请提出一个适用于所有 Windows/Linux 文件系统的适当解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:32:37.917

您可以`attach event`使用它，然后在您的事件代码中应用过滤器以满足您的要求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:55:30.003

这个怎么样？

```
//This file filter shouldn't be added to the chooser
final FileFilter filter = new FileFilter() {
    @Override
    public boolean accept(File f) {
        if(!f.isDirectory())
            return false;
        for(File root : File.listRoots())
            if(f.equals(root))
                return false;
        return true;
    }
    @Override
    public String getDescription() { return null; }
};
JFileChooser chooser = new JFileChooser() {
    @Override
    public void approveSelection() {
        if(filter.accept(getSelectedFile()))
            super.approveSelection();
        else
            JOptionPane.showMessageDialog(this, "Illegal selection");
    }
};
chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY); 
```

# visual-c++ - Microsoft VC++ 运行时库：异常终止

> ID：15898209
> 
> 赞同：0
> 
> 时间：2013-04-09T09:25:11.430
> 
> 标签：visual-c++

我们在 VB 6.0 应用程序中使用 VC++ dll。它在当前服务器上运行良好。但我们计划在新服务器上部署应用程序。

现在，当尝试执行 vb6.0 应用程序时，它会抛出异常错误并关闭 vb 6.0 应用程序。

我尝试安装 VC++ 可再发行包 2005 及更高版本.. 但它不工作..

请指导我为 VB 6.0 选择正确版本的 Redistributable 包

谢谢， Gunasekaran Sambandhan

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:35:35.077

1) 使用 Dependancy Walker(Depends.exe)。此应用程序将向您展示 VC++ DLL 所需的所有依赖项。

2) 它将向您显示 DLL 列表。将这些 dll 复制到 VC++ DLL 所在的目录。

3) 如果它是使用“共享 dll”选项构建的 VC++ MFC DLL，那么您可能需要复制一些 MFC dll。

4) 还要检查正确的 C 运行时库文件 MSVCRT*.dll。可能还需要此文件。尽管**depends**会显示所有这些依赖项。

5) **Depends**会显示C Runtime Library 是否存在依赖关系。

# linux - 无法创建数据库路径文件：/user/hive/warehouse 错误

> ID：15898211
> 
> 赞同：3
> 
> 时间：2013-04-09T09:25:15.557
> 
> 标签：linux, hadoop, mapreduce, hive, hdfs

我有一个 3 节点集群，在运行一些 HIVE 查询时出现以下错误

> 失败：元数据错误：MetaException（消息：无法创建数据库路径文件：/user/hive/warehouse/db_dut.db，未能创建数据库 db_dut）失败：执行错误，从 org.apache.hadoop.hive 返回代码 1 .ql.exec.DDLTask

我的 hive-site.xml 包含以下属性

```
 <property>
      <name>javax.jdo.option.ConnectionURL</name>
      <value>jdbc:derby:;databaseName=/var/lib/hive/metastore/metastore_db;create=true</value>
      <description>JDBC connect string for a JDBC metastore</description>
    </property>

<property>
  <name>hive.metastore.warehouse.dir</name>
  <value>/user/hive/warehouse</value>
  <description>location of default database for the warehouse</description>
</property> 
```

**>jdbc:derby:;databaseName=/var/lib/hive/metastore/metastore_db;create=true<**正确存在于我的本地计算机上。

当我给 hadoop fs -ls /user/hive ..以下输出时

```
[root@scaj02bda01 metastore]# hadoop fs -ls /user/hive
Found 1 items
drwxrwxrwx   - hive hive          0 2013-04-09 01:40 /user/hive/warehouse
[root@scaj02bda01 metastore]# 
```

仓库的默认数据库位置在 HDFS 中正确提及，具有所有读写执行权限，但我仍然收到相同的错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-15T05:37:09.540

It says it is unable to open database /var/lib/hive/metastore/metastore_db,this error normally comes when you dnt have permission to access the database. Use below commond then reply me:

1)SUDO chmod -R 777 /VAR/LIB/HIVE/METASTORE/METASTORE_DB

2)chmod -R a+rwx /var/lib/hive/metastore/metastore_db

3) rm /var/lib/hive/metastore/metastore_db/*.lck

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-06T05:46:31.427

我面临同样的错误。由于设置了某些策略，我无法更改权限。所以，我创建了一个新的我自己的文件夹`/hdp/myapp/warehouse`，`hive-site.xml`如下所示。这帮助我解决了这个问题。

```
<configuration>
  <property>
     <name>javax.jdo.option.ConnectionURL</name>
     <value>jdbc:derby:;databaseName=/hdp/myapp/warehouse/metastore_db;create=true</value>
  </property>
  <property>
    <name>hive.metastore.warehouse.dir</name>
    <value>/hdp/myapp/warehouse/</value>
  </property>
</configuration> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-07-08T18:20:16.243

在属性 hive.metastore.warehouse.dir 的 hive-site.xml 中。指向 hdfs 目录而不是本地文件系统目录。所以类似于 localhost:8020/user/hive/warehouse。那是为我做的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-03-21T17:57:16.590

我有同样的问题，问题是namenode没有在hadoop中启动。转到hadoop文件并执行以下命令：

```
.sbin/start-all.sh 
```

之后检查名称节点是否开始使用

```
jsp 
```

如果没有，我可以参考以下对我有帮助的答案[Hadoop "Permission denied (publickey,password,keyboard-interactive)" 警告](https://stackoverflow.com/questions/48978480/hadoop-permission-denied-publickey-password-keyboard-interactive-warning/50348467)

一旦你启动了namenode，你的问题就会消失。

# cmake - 配置时出现cmake错误

> ID：15898213
> 
> 赞同：10
> 
> 时间：2013-04-09T09:25:22.420
> 
> 标签：cmake, librocket

抱歉，如果这不是发布此内容的正确位置，但我认为 librocket 论坛早已死去。

我有 Ubuntu 12.04，并按照[此处](http://librocket.com/wiki/documentation/BuildingWithCMake)构建 librocket 的步骤进行操作。

我按照步骤使用 cmake，但是当我按 c 配置此错误时出现：

```
 CMake Error at
 /usr/share/cmake-2.8/Modules/FindPackageHandleStandardArgs.cmake:91
 (MESSAGE):
   Could NOT find Freetype (missing: FREETYPE_LIBRARY FREETYPE_INCLUDE_DIRS)
 Call Stack (most recent call first):
   /usr/share/cmake-2.8/Modules/FindPackageHandleStandardArgs.cmake:252
 (_FPHSA_FAILURE_MESSAGE)
   /usr/share/cmake-2.8/Modules/FindFreetype.cmake:83
 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)
   CMakeLists.txt:61 (find_package) 
```

有什么帮助吗？谢谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-09T12:18:14.587

这意味着 CMake 正在尝试在您的磁盘上自动查找库 Freetype 但没有找到它。您将不得不手动告诉 cmake 对应的 .so 文件在哪里以及 .so`FREETYPE_LIBRARY`的包含目录在哪里`FREETYPE_INCLUDE_DIRS`。

假设这个库在目录`/foo/bar/freetype`中，您将不得不像以前一样调用 cmake，但使用以下选项：

```
-DFREETYPE_LIBRARY=/foo/bar/freetype/freetype.so -DFREETYPE_INCLUDE_DIRS=/foo/bar/freetype/include 
```

如果您的计算机上没有库 Freetype，您当然必须事先下载它。

# ios - 如何配置 uiscrollview 加载数据，当它到达底部点

> ID：15898215
> 
> 赞同：0
> 
> 时间：2013-04-09T09:25:25.960
> 
> 标签：ios, uiscrollview, triggers

我正在制作一个应用程序，就像[Instagram](http://en.wikipedia.org/wiki/Instagram)，[Path](http://en.wikipedia.org/wiki/Path_%28social_network%29)等。我需要知道触发点，如果用户滚动到底部并且当它反弹时，我需要进行一些调用。我如何获得触发点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:32:46.683

看看 UIScrollviewDelegate 方法：http: [//developer.apple.com/library/ios/#documentation/uikit/reference/uiscrollviewdelegate_protocol/Reference/UIScrollViewDelegate.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/uiscrollviewdelegate_protocol/Reference/UIScrollViewDelegate.html)

您可能想查看`– scrollViewDidEndDragging:willDecelerate:`然后`– scrollViewDidEndDecelerating:`在这些方法中检查滚动视图的当前可见矩形，`scrollView.bounds`以了解用户是否已滚动到底部。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:40:56.813

您可以检查以下代码。它可能会帮助你。

```
- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView
{
    scrollView.contentInset = UIEdgeInsetsMake(0.0, 0.0, 60.0, 0.0);

    [scrollView scrollRectToVisible:CGRectMake(0, scrollView.contentSize.height, scrollView.frame.size.width, 160.0) animated:YES];

    if ([scrollView viewWithTag:5000])
    {
        UIView *view = (UIView*)[scrollView viewWithTag:5000];
        [view removeFromSuperview], view = nil;
    }

    UIView *viewloader = [[[UIView alloc] initWithFrame:CGRectMake(0.0, scrollView.contentSize.height, scrollView.contentSize.width, 160.0)] autorelease];
    viewloader.tag = 5000;

    UILabel *lblloader = [[[UILabel alloc] initWithFrame:CGRectMake(0.0, 0.0, scrollView.frame.size.width-0.0, 60.0)] autorelease];
    lblloader.backgroundColor = [UIColor clearColor];
    lblloader.tag = 550;
    lblloader.textColor = [UIColor whiteColor];
    lblloader.textAlignment = NSTextAlignmentCenter;
    lblloader.text = @"Click to load more data.";
    [viewloader addSubview:lblloader];
    viewloader.backgroundColor = [UIColor darkGrayColor];

    UIButton *btnLoad = [UIButton buttonWithType:UIButtonTypeCustom];
    btnLoad.frame = lblloader.frame;
    btnLoad.backgroundColor = [UIColor clearColor];
    [btnLoad addTarget:self action:@selector(callForMoreData:) forControlEvents:UIControlEventTouchUpInside];
    [viewloader addSubview:btnLoad];

    [scrollView addSubview:viewloader];
} 
```

# android - URL 使用 Android 模拟器连接到 XAMPP 服务器

> ID：15898217
> 
> 赞同：1
> 
> 时间：2013-04-09T09:25:28.650
> 
> 标签：android, xampp, localhost

我正在编写一个程序，在该程序中我*试图通过 Android Emulator 将数据存储到 XAMPP Server 中*，但是在将数据插入 XAMPP 时出现错误。

错误：未知状态！

我确信我收到了这个错误，因为我没有使用正确的 url 进行连接

请检查我的以下网址以通过 Android 模拟器连接到 XAMPP 服务器：

```
 String url = "http://ipaddress/test.php" 
```

我也尝试过使用我的 IP 地址，但每当我在浏览器上浏览它时，得到 **Object Not Found**：

*在 RomPager 服务器上找不到请求的 URL '/test.php'*

```
 String url = "http://127.0.0.1/test.php"

  String url = "http://10.0.2.2/test.php" 
```

**注意：** *我之前测试过我的 php 代码，它工作正常，所以我的 URL 有问题*

我在 PHP 脚本中使用以下行：

```
$objConnect = mysql_connect("localhost","root","") or die("Cannnot Connect to Database");
    $objDB = mysql_select_db("registration"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:47:51.080

127.0.0.1 表示本地主机

**使用您的 PC（个人计算机）的 IP 地址。**

喜欢：

如果我的电脑的 ip 是：192.168.0.1 那么 URL 是

```
String url = "http://192.168.0.1/test.php" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:54:27.567

您无法链接到 localhost (127.0.0.1)，因为模拟器有自己的网络地址和自己的独立 localhost。所以

```
 http://127.0.0.1/ 
```

连接到模拟器本身。除非您运行 android web 服务器，否则您将收到连接被拒绝错误。

您可以使用 Android SDK 中的 ADB 将端口从本地 PC 转发到 Android 设备。但我认为您无法将端口从 android 设备转发到 PC。看adb forward help，不过我相信是另外一个方向。

让它工作的最简单方法是使用您的计算机名称而不是 localhost。您必须使用可从网络访问的真实 IP，您可以使用 ipconfig 找到。根据您的网络配置，您可能可以将完整的主机名与域一起使用。IE。mycomputer.example.org。只需从 ipconfig 附加 DNS 后缀并尝试。

您可能必须重新配置您的 apache 以侦听外部地址并使用防火墙阻止来自外部的访问。如果您在 apache 服务器上使用 127.0.0.1 的虚拟主机，您还必须将其移动到具有另一个地址的虚拟主机。

而且似乎 %SYSTEM%/drivers/etc/hosts 文件不起作用，它必须是名称 nslookup 才能解决。如果不经常更改，则使用本地 IP 更容易。在其他情况下，使用 dyndns :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-30T14:36:07.723

Xampp 正在使用 Port: **80**，如下图所示。所以写在下面的IP地址`http://10.0.2.2:80/`对我有用。希望这可以帮助某人。

[![Xampp](https://i.stack.imgur.com/H0DqE.png)](https://i.stack.imgur.com/H0DqE.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-02-26T12:28:42.363

查看此 [https://developer.android.com/studio/run/emulator-networking.html](https://developer.android.com/studio/run/emulator-networking.html)

使用此“10.0.2.2”IP 地址，它等于您的托管设备中的 localhost

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2017-01-31T06:27:52.353

添加到`build.gradle`：

```
Android{
    useLibrary 'org.apache.http.legacy'
} 
```

# php - 跟踪/跟踪 Yii 错误信息并将其存储在数据库中

> ID：15898221
> 
> 赞同：0
> 
> 时间：2013-04-09T09:25:43.040
> 
> 标签：php, error-handling, yii

我正在做我的大学项目，我只想跟踪错误及其信息。错误信息应与用户源设备信息一起存储在数据库中（对于源设备检测，我正在使用 MobileDetect 扩展）。我只想知道我应该在哪里编写代码，以便我可以获得所有错误信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:44:49.953

您需要设置[日志消息路由](http://www.yiiframework.com/doc/guide/1.1/en/topics.logging#message-routing)，以便将错误记录到您的数据库中。为此，请将适当的配置添加[`CDbLogRoute`](http://www.yiiframework.com/doc/api/1.1/CDbLogRoute)到您的应用程序配置中。

# asp.net-mvc - dotnet 中的 MVC 新手

> ID：15898225
> 
> 赞同：-6
> 
> 时间：2013-04-09T09:25:54.597
> 
> 标签：asp.net-mvc, asp.net-mvc-2

我是 dotnet 中的 MVC 新手。任何人都可以通过完整的学习材料或任何特定链接来帮助我，以帮助我入门而不会感到困惑。（PS：我有dotnet的先验知识并在visual studio 2010工作过）

我还需要了解 mvc 的版本（MVC2 MVC3 和 MVC 4。）Visual Studio 2010 支持哪一个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:28:18.307

您应该尝试一些有关 MVC 4 的书籍。您可以在 Amazon 上找到它们。以下是关于 MVC 4 的一个非常好的教程

[http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/)

你会从中学到很多东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:50:44.583

首先了解什么是 MVC 并获得 MVC 1,2,3,4 的一些知识

*   查看[使用 Microsoft ASP.NET 模型视图控制器 (MVC) 创建 NerdDinner.com](http://www.asp.net/mvc/videos/mvc-1/conference-presentations/creating-nerddinnercom-with-microsoft-aspnet-model-view-controller-mvc)

*   [MVC 概述](http://www.asp.net/mvc/overview/what-is-mvc)

*   [ASP.NET MVC 视频](http://www.asp.net/mvc/videos)

* * *

*   其次，谷歌四处寻找一些好书（你会发现精彩的视频教程，尤其是来自[Pluralsight-training.net](http://www.pluralsight-training.net/)

* * *

从示例开始编码

*   [简单的 Hello World 示例](http://www.dotnetfunda.com/articles/article1297-how-to-create-a-simple-hello-world-aspnet-mvc-tutorial-no-1.aspx)
*   [ASP-NET-MVC-快速入门-教程](http://www.codeproject.com/Articles/47829/ASP-NET-MVC-Quick-Start-Tutorial-Create-a-Small-AS)
*   [ASP.NET MVC 4 简介](http://www.asp.net/mvc/tutorials/mvc-4/getting-started-with-aspnet-mvc4/intro-to-aspnet-mvc-4)

***最后，ASP.NET 有很棒的视频教程，比如[MVC 音乐商店](http://www.asp.net/mvc/tutorials/mvc-music-store)***

# php - 如何在表格中获取过去 12 个月的销售小计？

> ID：15898226
> 
> 赞同：0
> 
> 时间：2013-04-09T09:25:57.880
> 
> 标签：php

到目前为止，我有这段代码，它为我提供了给定月份每种产品的小计。

```
 <?php
    include("dbaseconn.php"); 

    $query = "SELECT product, SUM(qty) FROM sh_orders GROUP BY product"; 

    $result = mysql_query($query) or die(mysql_error());

    // Print out result
    while($row = mysql_fetch_array($result)){
      echo "<table width='1050'>"  ;
      echo "<td width='400'>";
        echo "". $row['product']. " ";
      echo "</td>";
      echo "<td>";
      echo "". $row['SUM(qty)']. "" ;
      echo "</td>";
        echo "<br />";
    }
    ?> 
```

表结构

```
CREATE TABLE IF NOT EXISTS `sh_orders` (
  `building` varchar(50) NOT NULL,
  `qty` varchar(5) NOT NULL,
  `product` varchar(50) NOT NULL,
  `order_id` bigint(5) NOT NULL AUTO_INCREMENT,
  `unik` varchar(50) NOT NULL,
  `order_date` varchar(25) NOT NULL,
  `co_id` varchar(20) NOT NULL,
  UNIQUE KEY `unik` (`unik`),
  UNIQUE KEY `id` (`order_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=11 ; 
```

我想显示过去 12 个月的销售额 - SUM (qty) 为我执行此操作，但我需要分别查看每个月的每种产品及其当月的总销售额。我需要在一张表中显示每个月的每种产品和该月的总计

```
EXPECTED RESULT
Month:    January 2012    Feb 2012   Marc 2012
Product1: 124                105         76
Product2:  34                 23         56
Product3:  12                  5          6 
```

我是新手，所以如果我问一百万个问题，请耐心等待。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:59:01.817

```
SELECT product,sum(qty),DATE_FORMAT(product_month, '%Y-%m') as month 
FROM sh_orders 
WHERE product_month BETWEEN DATE_SUB(now(), INTERVAL 12 MONTH) 
AND now() group by  DATE_FORMAT(product_month, '%Y%m'),product 
```

每个产品在同一个月和不同的日子都有一些数量。第一个按月分组，每个月汇总相同的产品数量。按产品二组，避免同月产品重复

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:38:21.893

这是您需要的查询：

```
SELECT order_date, product, SUM(qty) as sum_qty
FROM sh_orders 
WHERE order_date > DATE_SUB( CURDATE(), INTERVAL 1 YEAR)
GROUP BY YEAR(order_date), MONTH(order_date), product 
```

[`sqlfiddle`](http://sqlfiddle.com/#!2/3d6c0b/2)

* * *

结果是这种格式的数组：

```
array(
    array(
        'order_date' => '2012-09-02',
        'product'    => 'p2',
        'sum_qty'    => '2'
    ),
    array(
        // etc...
    )
); 
```

您只需遍历它并将结果显示为表格。如果您在创建表格时遇到问题，最好在此处接受答案并提出新问题，因为它与`html`和`loops`更相关`arrays`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:29:03.467

将您的查询更改为

```
 $query = "SELECT product, SUM(qty) FROM sh_orders where Product_month between '2011-01-01' and '2012-01-01' GROUP BY product"; 
```

# c# - 日期和时间字段asp.net c#

> ID：15898230
> 
> 赞同：0
> 
> 时间：2013-04-09T09:26:06.887
> 
> 标签：c#, asp.net, mysql

我想创建 4 个字段

1.  2 个日期字段
2.  和 2 个带有 asp.net c# 代码的时间字段。

需要这些字段来记录

1.  开始日期，
2.  开始时间，
3.  结束日期
4.  和结束时间。

开始日期和开始时间应以 DateTime 格式合并在一起，并保存在数据库中，如（“MM”、“dd”、“yyyy”、“HH”、“mm”）。

结束日期和结束时间也是如此。
我不知道如何做到这一点，所以如果可能的话，我想要一些关于如何创建它的帮助。

编辑：

我的代码现在可以工作了。这是代码：

```
string beginDate = "";
DateTime beginDateTemp;
if (DateTime.TryParse(Convert.ToString(Request.Form["beginDate"]), 
                      out beginDateTemp))
{
    string beginTijd = Convert.ToString(Request.Form["beginTijd"]);
    string[] beginTijdTemp = beginTijd.Split(':');

    beginDate = beginDateTemp.Year + "-" + 
                beginDateTemp.Month + "-" 
                + beginDateTemp.Day + " " 
                + beginTijdTemp[0] + ":" 
                + beginTijdTemp[1] + ":00";

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:31:32.423

您可以使用日期时间构造函数如下

```
DateTime value = new DateTime(2010, 1, 18); 
```

有不同的构造函数

```
 var theDate = new DateTime (DateTime.Today.Year, DateTime.Today.Month, 
                 DateTime.Today.Day, hours, minute, second); 
```

所有参数都是 int 类型

## 在日期中添加时间

```
TimeSpan time = new TimeSpan(12, 20, 20); // hours, minutes, seconds
DateTime todayWithTime = DateTime.Today + time; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:29:24.343

您应该查看 .NET 中的日期时间结构

[http://msdn.microsoft.com/en-gb/library/system.datetime.aspx](http://msdn.microsoft.com/en-gb/library/system.datetime.aspx)

还有一些关于如何使用它的清晰示例：

[http://www.dotnetperls.com/datetime](http://www.dotnetperls.com/datetime)

# android - 从 FragmentTabHost 获取对嵌套片段的引用

> ID：15898233
> 
> 赞同：18
> 
> 时间：2013-04-09T09:26:16.553
> 
> 标签：android, android-fragments, android-tabhost, android-nested-fragment

在我的应用程序中，我使用一个`Activity`包含一个`Fragment`，`FragmentTabHost`因此它的所有选项卡都是`nested Fragments`.

在`Activity`包含 a`Fragment`和 的an 内部`nested Fragment`，我们可以使用`onAttachedFragment()`.

但是如何获得对`nested Fragment`from的引用`FragmentTabHost`？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-04-09T10:50:27.113

好吧，浏览源代码`FragmentTabHost`我发现当它添加一个片段选项卡时，它会分配一个标签`TabSpec`到 nested `Fragment`。

因此，要获得对此的引用，`Fragment`我们应该调用

`getChildFragmentManager().findFragmentByTag(tabSpecTag)`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-09T22:56:33.900

我尝试了一段时间，但我被`null`返回了，`FragmentManager`因为我试图`onCreateView()`在添加后立即访问管理器。

[这是对发生的事情的一个很好的解释](https://stackoverflow.com/a/9970449/2263561)

同样重要的是要注意`Fragment`尚未选择的选项卡在 中尚不存在`FragmentManager`，因此也会返回`null`。`mTabHost.setCurrentTab(index)`在尝试`Fragment`使用`FragmentManager`. 它不是很干净，但它可以工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-11-19T19:17:40.590

上述解决方案也有效，但我有一个更简单的解决方案，

```
 @Override
public void onTabChanged(final String tabId) {

    new Handler().postDelayed(new Runnable() {
        @Override
        public void run() {

            mFragment = getChildFragmentManager().findFragmentByTag("Tagname");
        }
    },1000);
} 
```

在这里你必须实现 FragmentTabHost.onTabChangeListener 我们在从 childFragmentManager 获取片段时保留了第二个延迟。

注意：您需要将 mFragment 转换为您使用过的片段。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-02-05T19:57:34.617

我找到了一个我更喜欢的解决方案，因为它不涉及延迟执行代码（考虑到 android 硬件碎片和不同的处理器速度，这总是不确定的）。

在您的 onTabChanged() 方法中，在您尝试查找片段之前，请在与您的 tabHost 关联的片段管理器上调用 executePendingTransactions()。似乎 FragmentTabHost 源代码中有一些地方应该调用 executePendingTransactions() 但没有这样做。

每次选项卡发生一个异常更改时，这都会起作用...选择的第一个选项卡仍然返回空...在我的特定情况下，无论如何我都能够通过在 onResume 中放置一些代码来以不同的方式处理此异常。

希望这可以帮助。

# javascript - 如何使用 HTML5 画布绘制甜甜圈

> ID：15898236
> 
> 赞同：6
> 
> 时间：2013-04-09T09:26:20.980
> 
> 标签：javascript, html, canvas

我想在 HTML5 画布中画甜甜圈。如果画布的背景颜色是纯色，我可以画出来。但它是渐变色，我画不出来。

**当画布的背景颜色是渐变色时，我想知道如何绘制甜甜圈。**

像：

![d.chart 示例](https://i.stack.imgur.com/iqUrx.jpg)

[来源](http://canvasjs.com/html5-javascript-doughnut-chart/)

这是我的代码：

```
function background(context, coordinate, properties) {
  var x = coordinate.x //起始点x
  , y = coordinate.y //起始点 y
  , w = coordinate.w //宽度(终点-起始点之间的宽度)
  , h = coordinate.h //高度(终点-起始点之间的高度)
  , gradientFactor, gradientColor; //渐变因子, 渐变色

  context.save();
  switch( properties["background-fill-type"] ) {
     case "solid":
       context.fillStyle = properties["background-color"];
       break;
     case "gradient":
       gradientFactor = properties["background-gradient-factor"];
       gradientColor = context.createLinearGradient(x, y, x + w, y);
       gradientColor.addColorStop(gradientFactor, properties["background-first-color"]);
       gradientColor.addColorStop(1 - gradientFactor, properties["background-second-color"]);
       context.fillStyle = gradientColor;
       break;
     case "image":
       break;
   }
   context.fillRect(x, y, w, h);
   context.restore();
} 
```

1.  如果画布的背景颜色是纯色：

```
var context = canvas.getContext("2d")
  , properties = {
     "background-fill-type": "solid", //solid color
     "background-color": "#FFFFFF",
     "background-first-color": "#008B8B",
     "background-second-color": "#F5DEB3",
     "background-gradient-factor": 0.5,
     "border-color": "#FFFFFF",
     "border-thickness": 0
};

//draw canvas background (solid color)
background(context, {
     x: 0,
     y: 0,
     w: properties["width"],
     h: properties["height"]
}, properties);

//draw doughnut
context.save();
context.beginPath();
context.translate(centerX, centerY);
context.arc(0, 0, Radius, 0, dpi, false); //外部圆
context.fillStyle = "blue";
context.fill();    
context.closePath();

context.beginPath();
context.arc(0, 0, radius, 0, dpi, false); //内部圆
context.fillStyle = properties["background-color"];
context.fill();
context.closePath();
context.restore(); 
```

2.  如果画布的背景颜色是渐变色：

```
var context = canvas.getContext("2d")
   , properties = {
         "background-fill-type": "gradient", //gradient color
         "background-color": "#FFFFFF",
         "background-first-color": "#008B8B",
         "background-second-color": "#F5DEB3",
         "background-gradient-factor": 0.5,
         "border-color": "#FFFFFF",
         "border-thickness": 0
   };

     //draw canvas background (gradient color)
     background(context, {
         x: 0,
         y: 0,
         w: properties["width"],
         h: properties["height"]
     }, properties);

    //draw doughnut
    context.save();
    context.beginPath();
    context.translate(centerX, centerY);
    context.arc(0, 0, Radius, 0, dpi, false); //外部圆
    context.fillStyle = "blue";
    context.fill();    
    context.closePath();

    context.beginPath();
    context.arc(0, 0, radius, 0, dpi, false); //内部圆
    //context.fillStyle = properties["background-color"];
    // *----------------------------------------------------------------------*
    // | How to solve internal circle and canvas background color consistent? |
    // | 
    // *----------------------------------------------------------------------*
    context.fill();
    context.closePath();
    context.restore(); 
```

这是效果图。（有点歪，- -！）：

![在此处输入图像描述](https://i.stack.imgur.com/zAURU.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T17:04:49.563

**绘制带有渐变背景的数据甜甜圈**

![在此处输入图像描述](https://i.stack.imgur.com/yBIur.png)

你的甜甜圈只是一个中心被切掉的圆圈。

所以画一个外圆，然后画一个内圆来切一个甜甜圈。

为了显示数据，外圆可以由弧线组成，弧线的扫描指示您的数据（称为楔形）。

您可以通过提供弧的起始角和结束角（以弧度为单位）来绘制单个楔形。

```
 ctx.arc(cX, cY, radius, startRadians, endRadians, false); 
```

用相同的渐变填充画布和内圈以显示一致的渐变。

这是代码和小提琴：http: [//jsfiddle.net/m1erickson/ENZD9/](http://jsfiddle.net/m1erickson/ENZD9/)

```
 <!doctype html>
    <html>
    <head>
    <link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>

    <style>
        body{ background-color: ivory; }
        canvas{border:1px solid red;}
    </style>

    <script>
    $(function(){

        var canvas=document.getElementById("canvas");
        var ctx=canvas.getContext("2d");

        // define the donut
        var cX = Math.floor(canvas.width / 2);
        var cY = Math.floor(canvas.height / 2);
        var radius = Math.min(cX,cY)*.75;

        // the datapoints
        var data=[];
        data.push(67.34);
        data.push(28.60);
        data.push(1.78);
        data.push(.84);
        data.push(.74);
        data.push(.70);

        // colors to use for each datapoint
        var colors=[];
        colors.push("teal");
        colors.push("rgb(165,42,42)");
        colors.push("purple");
        colors.push("green");
        colors.push("cyan");
        colors.push("gold");

        // track the accumulated arcs drawn so far
        var totalArc=0;

        // draw a wedge
        function drawWedge2(percent, color) {
            // calc size of our wedge in radians
            var WedgeInRadians=percent/100*360 *Math.PI/180;
            // draw the wedge
            ctx.save();
            ctx.beginPath();
            ctx.moveTo(cX, cY);
            ctx.arc(cX, cY, radius, totalArc, totalArc+WedgeInRadians, false);
            ctx.closePath();
            ctx.fillStyle = color;
            ctx.fill();
            ctx.restore();
            // sum the size of all wedges so far
            // We will begin our next wedge at this sum
            totalArc+=WedgeInRadians;
        }

        // draw the donut one wedge at a time
        function drawDonut(){
            for(var i=0;i<data.length;i++){
                drawWedge2(data[i],colors[i]);
            }
            // cut out an inner-circle == donut
            ctx.beginPath();
            ctx.moveTo(cX,cY); 
            ctx.fillStyle=gradient;
            ctx.arc(cX, cY, radius*.60, 0, 2 * Math.PI, false);
            ctx.fill(); 
        }

        // draw the background gradient
        var gradient = ctx.createLinearGradient(0,0,canvas.width,0);
        gradient.addColorStop(0, "#008B8B");
        gradient.addColorStop(0.75, "#F5DEB3");
        ctx.fillStyle = gradient;
        ctx.fillRect(0,0,canvas.width,canvas.height);

        // draw the donut
        drawDonut();

    }); // end $(function(){});
    </script>

    </head>

    <body>
        <canvas id="canvas" width=400 height=300></canvas>
    </body>
    </html> 
```

# jquery - 当元素的不透明度为零时，单击事件在 IE 中不起作用

> ID：15898246
> 
> 赞同：0
> 
> 时间：2013-04-09T09:26:45.357
> 
> 标签：jquery, internet-explorer, click, opacity

我有一个元素，当将鼠标悬停在上面时，它的不透明度设置为零，我还绑定了一个单击事件到此链接，单击时执行一个操作，但此单击在 IE 中不起作用，仅在其他浏览器中起作用。当 IE 中的不透明度为零时，我可以做些什么让它仍然可以点击？

谢谢！

```
$("a.hover").mouseenter(function() {

             $(this).animate({opacity:0});

        });

     $("a.hover").click(function(event) {

         event.preventDefault();
         //perform other stuff/// 
     }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:54:51.133

HTML：

```
<a href="#" class="hover">My Link</a> 
```

CSS：

```
.hover {
    transition: opacity 0.3s;
}
.hover:hover {
    opacity: 0;
} 
```

JS：

```
$("a.hover").click(function (event) {
    event.preventDefault();
    //perform other stuff/// 
}); 
```

在 Chrome、FF 和 IE 8 + 9 中对我来说很好用

演示： http: [//fiddle.jshell.net/Pisi2012/BxHB7/](http://fiddle.jshell.net/Pisi2012/BxHB7/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-09T09:29:47.717

请在背景中添加透明图像。

# ios - iPhone 上的 Http 直播延迟

> ID：15898247
> 
> 赞同：0
> 
> 时间：2013-04-09T09:26:46.800
> 
> 标签：ios, objective-c, linux, stream, vlc

使用此代码，我可以在 iPhone 中看到我的桌面流：

```
vlc -I dummy screen:// vlc://quit --sout=&#039;#transcode{threads=300,width=554,height=367,fps=30,vcodec=h264,vb=500000,venc=x264{aud,profile=baseline,level=30,keyint=30,bframes=0,ref=1}}:duplicate{dst=std{access=livehttp{seglen=10,delsegs=true,numsegs=100,index=/var/www/streaming/mystream.m3u8,index-url=http://localhost/streaming/mystream-########.ts},mux=ts{use-key-frames},dst=/var/www/streaming/mystream-########.ts}}; 
```

但我有一个很大的延迟，比如 30-40 秒......你知道如何减少这种延迟吗？

我想要的是：

• 在 iPhone 中清晰地流式传输 600x400 窗口的桌面

• 没有音频

• 1-2 秒的最大延迟

你知道怎么做流吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-27T10:47:45.080

我得到的最佳流来自 ffmpeg，但总是有 7-8 秒的延迟。这是字符串：

```
ffmpeg -f x11grab -s `xdpyinfo | grep 'dimensions:'|awk '{print $2}'` -r 25 -i :0.0 -pix_fmt yuv420p -vcodec libx264 -acodec libfaac -r 25 -profile:v baseline -b:v 1500k -x264opts keyint=25 -s 640x360 -map 0 -flags -global_header -f segment -segment_list index_1500.m3u8 -segment_time 1 -segment_format mpeg_ts -segment_list_type m3u8 -segment_list_flags +live -segment_list_size 1 segment%05d.ts 
```

# php - mysql查询数组参数

> ID：15898255
> 
> 赞同：0
> 
> 时间：2013-04-09T09:27:08.750
> 
> 标签：php, mysql

```
company                    company_to_attributes
=====================      ============================
| id_company | name        id_attributes | id_company
=====================      ============================
| 1          | Test        | 1           | 1             
| 2          | Test 2      | 2           | 1              
| 3          | Test 3      | 3           | 1         
| 4          | Test 4      | 4           | 3
| ..         | ...         | ..          | ... 
=====================      ============================ 
```

我有一个简单的数组：

```
$array_attributes_IDS = array(1,2); 
```

我想写一个查询来从数组中获取具有 id_attribute 的公司。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:30:03.840

试试这个，

```
$array_attributes_IDS = array(1,2);
$finalArray = implode(',', $array_attributes_IDS);
$arrCount = count($array_attributes_IDS);

$query ="    SELECT com.name
             FROM   company com
             INNER JOIN company_to_attributes att
                ON com.id_company = att.id_company
             WHERE  att.id_attributes IN ($finalArray)
             GROUP  BY com.name
             HAVING COUNT(*) = $arrCount"; 
```

这将只返回一家公司`TEST`，因为包含这两个属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:29:58.910

```
SELECT c.* FROM company c INNER JOIN company_to_attributes ca ON c.id_company=ca.id_company WHERE ca.id_attributes IN (1,2) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:30:54.267

请尝试以下方法：

```
 $array_attributes_IDS = array(1,2);
    $finalArray = implode(',', $array_attributes_IDS);
    $query = "SELECT C.name FROM company_to_attributes CA INNER JOIN company C ON CA.id_company = C.id_company WHERE CA.id_attributes IN ($finalArray)"; 
```

希望这会有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T09:31:00.740

```
SELECT  c.name
FROM    company c
       JOIN company_to_attributes a
            ON c.id_company = a.id_company
WHERE   a.id_attributes IN (1,2) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T09:31:54.787

```
$sql = "
SELECT t1.name FROM company_to_attributes
LEFT JOIN company AS t1 ON t1.id_company = company_to_attributes.id_company
WHERE company_to_attributes.id_attributes IN (".implode(',', $array_attributes_IDS).")
"; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-09T09:40:00.950

```
"SELECT c.name from company c inner join  company_to_attributes cta ON cta.id_company = c.id_company WHERE   cta.id_attributes IN (1,2);" 
```

# c# - 如何获取父部署文件夹的路径

> ID：15898257
> 
> 赞同：0
> 
> 时间：2013-04-09T09:27:08.867
> 
> 标签：c#, asp.net-mvc-3, server.mappath

我的应用程序需要 Deploy 文件夹之外的文件，我想知道如何使用 Server.MapPath("") 设置路径。

这对我来说不是一个有效的解决方案： var FullTempPath ="C:\inetpub\TempFiles" ;

**例子：**

*   C:\inetpub\ProjectFolder > 部署
*   C:\inetpub\TempFiles > 这里我想去：

我正在尝试使用该代码但无法正常工作：

```
 var ParentServerPath = Server.MapPath("..");

 var PartialTempPath = Path.Combine(@"/TempFiles/", key + ".js");

 var FullTempPath = ParentServerPath + PartialTempPath; 
```

**目标：**

其中是保存所有 JS 和 CSS 文件最小化和压缩在我的项目外部的文件夹中生成并具有写权限，我也想知道这是否是个好主意，以及你将所有这些文件保存在哪里。

# ios - iPhone：容器视图控制器和相机预览：预览不显示在子视图控制器中

> ID：15898261
> 
> 赞同：1
> 
> 时间：2013-04-09T09:27:18.260
> 
> 标签：ios, uiviewcontroller, camera, avfoundation, uistoryboard

我找到并阅读了本[教程](http://www.musicalgeometry.com/?p=1273 "使用 AVCaptureSession 的 iOS 相机覆盖示例")。确实非常好！我故意使用“阅读”这个词。如果我明白了，我现在就不会在这里问了。

现在：我试图将我读到的内容插入到我的应用程序中。我需要带有静态图像和相机预览控件的不同叠加层。我需要相机预览在应用程序的其余部分旋转时静止不动。我需要它是 AVFoundation，因为会有很多额外的图像和相机功能。我想旋转所有应用程序但相机预览。一个自制的容器视图控制器将成为铰链点。在它之外，应用程序旋转。它控制其子级的旋转，我希望能够将我的手动旋转减少到所述容器视图控制器的相机预览子视图控制器的覆盖。

（除此之外：最重要的是，我正在使用链接的故事板、ARC 和 CoreData（稍后用于照片））

要点是：我在容器视图控制器容器视图中有这个视图控制器。那是我想要预览的那个。我想要另一个容器视图控制器子视图控制器中的静止图像，第三个孩子是照片的浏览器。稍后会有按钮和手势从一个孩子导航到另一个孩子。捕获会话管理器是容器视图控制器的属性，即父级。

我已经设置了所有@properties（在捕获会话管理器、容器视图控制器和相机预览视图控制器中），以便在它们不存在时创建它们。我已经给相机预览视图控制器一个属性，它是一个捕获会话管理器，但应该只是一个指向父会话管理器的指针（懒惰或致命错误？）。

据我所知，通过调试器，连接已经建立。现在，在相机预览视图控制器的 viewDidLoad 方法中，我尝试显示预览层。

然后我看到............只有一个空白的白色视图:(

我能忘记什么？

此时应该已经建立了父子连接。embed segue 设置孩子的捕获管理器：

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    if ([[segue identifier] isEqualToString:@"EmbedCameraPreview"])
    { // present destination view
        if ([[segue destinationViewController] isKindOfClass:[CameraPreviewViewController class]]) {
            CameraPreviewViewController * destinationVC = (CameraPreviewViewController *)[segue destinationViewController];            
            [destinationVC setCaptureManager:[self captureManager]];
        }
        [self addChildView:[segue destinationViewController]];
    }
}

- (void) addChildView: (UIViewController*) content {
    [self addChildViewController:content];
    content.view.frame = [self maxFrame]; 
    [content didMoveToParentViewController:self];
}

- (CGRect) maxFrame {
    return [[[self view] layer] bounds];
} 
```

孩子的捕获管理器是私有的（在 .m 文件中），具有公共设置器：

界面：

```
@property (retain, nonatomic) CaptureSessionManager *captureManager; 
```

执行：

```
@synthesize captureManager;

- (void)setCaptureManager:(CaptureSessionManager *) newCaptureManager {
    if (captureManager != newCaptureManager) {
        captureManager = newCaptureManager;
    }
}

- (CaptureSessionManager *) captureManager {
    if (captureManager != nil) {
        return captureManager;
    }

    if ([[self parentViewController] isKindOfClass:[CameraContainerViewController class]]) {
        CameraContainerViewController* parentView = (CameraContainerViewController*)[self parentViewController];        
        [self setCaptureManager:[parentView captureManager]];
    }

    return captureManager;
} 
```

`viewDidLoad`从父级`content.view.frame = [self maxFrame]`内部调用子级（见上文： ）：`addChildView``prepareForSegue`

```
- (void) displayCameraPreview
{
    CGRect layerRect = [[[self view] layer] bounds];
    [[[self captureManager] previewLayer] setBounds:layerRect];
    [[[self captureManager] previewLayer] setPosition:CGPointMake(CGRectGetMidX(layerRect),
                                                                  CGRectGetMidY(layerRect))];
    [[[self view] layer] addSublayer:[[self captureManager] previewLayer]];
}

- (void) initDisplay {    
    [self displayCameraPreview];
}

- (void)viewDidLoad {
    [super viewDidLoad];

    // Do any additional setup after loading the view.
    [self initDisplay];
} 
```

请帮忙？:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:59:27.463

我真的非常抱歉！

再次感谢上述教程的作者。做得好！

在将代码拆分为不同的视图控制器时，我忽略了一个小细节。一个人应该开始会议，不是吗？以下是有效的来源：

```
- (void) displayCameraPreview
{
    CGRect layerRect = [[[self view] layer] bounds];
    [[[self captureManager] previewLayer] setBounds:layerRect];
    [[[self captureManager] previewLayer] setPosition:CGPointMake(CGRectGetMidX(layerRect),
                                                                  CGRectGetMidY(layerRect))];
    [[[self view] layer] addSublayer:[[self captureManager] previewLayer]];

    [[captureManager captureSession] startRunning];
} 
```

# dojo - dojo中的onChange在ie8中不起作用

> ID：15898269
> 
> 赞同：0
> 
> 时间：2013-04-09T09:27:56.087
> 
> 标签：dojo, onchange

我的代码是

```
$(document).ready(function () {
  dojo.require("dojo.data.ItemFileWriteStore");
  dojo.connect(dijit.byId('_department_id'), 'onChange', function (val) {
    alert("Department" + val);
    $.getJSON('${desigForDept}', {
      paramID: val
    }, function (data) {
      alert("Department");
      poplulateDesigItems(data);
    });
  });
}); 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-09T10:01:01.233

这适用于我在 IE8 中。这是“纯”DOM 方式（即不一定是 dijit 方式）。

```
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/dojo/1.6.0/dojo/dojo.xd.js.uncompressed.js'></script>

<select id="_department_id">
    <option>1</option>
    <option>2</option>
    <option>3</option>
</select>

<script>
dojo.ready(function () {
    console.log("ready");
    var id = "_department_id";
    var el = document.getElementById(id);
    dojo.connect(el, 'change', function (val) {
        alert("Department" + val);
    });
});
</script> 
```

# java - Sugiyama Layout for Java 是否有很好的免费实现？

> ID：15898274
> 
> 赞同：5
> 
> 时间：2013-04-09T09:28:11.383
> 
> 标签：java, layout, jung, directed-acyclic-graphs, graph-layout

我正在将 JUNG 库用于网络图。我还找到了 sugiyama 布局的实现：http: [//sourceforge.net/tracker/](http://sourceforge.net/tracker/?func=detail&aid=2944336&group_id=73840&atid=539121) ?func=detail&aid=2944336&group_id=73840&atid=539121 但不幸的是，它的边缘交叉方法似乎不起作用，我无法解决它。节点的垂直对齐几乎是正确的。

*（除非没有这个 JUNG 算法的无错误版本）* 有人知道另一种实现吗？只要它是免费的并且可以包装它，任何 Java 代码（因此不一定是 JUNG）就足够了。如果有一个非常好的另一种语言的库，它将获取一个图形并返回一个带有固定节点位置的 graphml 文件，它也会有所帮助:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-19T20:00:32.753

这种布局对我来说很好：

[http://code.google.com/p/daglayout/](http://code.google.com/p/daglayout/)

我不得不对无法签入的代码进行修改：第 275 行应该是“继续”而不是“返回”。除此之外，如果您为特定图表提供足够的空间，该算法似乎可以工作。我有一个基于总节点和总树深度的启发式方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-12-30T15:56:04.757

[这个项目中](https://github.com/tomnelson/jungrapht-visualization)有一个：

它包含经典的 Sugiyama（包含所有生成的顶点）、Eiglsperger 优化（pvertex 和 qvertex）、splay 树、brandes kopf 水平对齐、4 种分层：（自顶向下、最长路径、coffman-graham、网络单纯形) 代码在 jungrapht-layout 模块和 jar 中，它没有 java.awt 依赖项，因此与非 awt 渲染（如 JavaFX）一起使用会更容易。

向下滚动查看图片。代码在[这里](https://github.com/tomnelson/jungrapht-visualization/tree/master/jungrapht-visualization/src/main/java/org/jungrapht/visualization/layout/algorithms/sugiyama)

# ruby-on-rails - 在 Mac 上安装乘客 gem 时遇到问题

> ID：15898276
> 
> 赞同：3
> 
> 时间：2013-04-09T09:28:16.537
> 
> 标签：ruby-on-rails, gem, passenger

从终端

```
$ sudo gem install passenger
Building native extensions.  This could take a while...
ERROR:  Error installing passenger:
    ERROR: Failed to build gem native extension.
    /Users/dan/.rvm/rubies/ruby-2.0.0-p0/bin/ruby extconf.rb
extconf.rb:13:in `block in <main>': Use RbConfig instead of obsolete and deprecated Config.
extconf.rb:13:in `block in <main>': Use RbConfig instead of obsolete and deprecated Config.
make
Makefile:104: *** missing separator.  Stop.

Gem files will remain installed in /Users/dan/.rvm/gems/ruby-2.0.0-p0/gems/fastthread-1.0.7 for inspection.
Results logged to /Users/dan/.rvm/gems/ruby-2.0.0-p0/gems/fastthread-1.0.7/ext/fastthread/gem_make.out 
```

不明白这个错误，为什么会出现两次？任何指导表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T03:14:33.920

安装乘客 4 beta 的命令为`gem install passenger -v 4.0.0.rc4`我解决了这个错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:33:55.313

乘客 3.0.19（您获得的默认版本`gem install`）还没有为 ruby​​ 2 做好准备。要么使用 ruby​​ 1.9.3，要么使用当前的乘客 4 测试版。

# c# - QuickGraph 3.6 中的 .NET 二进制序列化

> ID：15898280
> 
> 赞同：2
> 
> 时间：2013-04-09T09:28:23.147
> 
> 标签：c#, .net, graph, artificial-intelligence, quickgraph

出于可移植性的原因，[QuickGraph](https://quickgraph.codeplex.com/) 3.6 不允许 .net (4.0) 二进制序列化。当您要保留大型图形时，这是必要的。不幸的是，作者提供的源代码无法编译，因此无法启用（二进制）序列化。正如你在这里看到的（[快速图表问题](https://quickgraph.codeplex.com/discussions/436441)）我不是唯一一个发现这个问题的人。有谁知道如何编译 QuickGraph 3.6 源代码？还有其他建议吗？

在此先感谢，迭戈。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T07:42:49.290

最后，我将项目重新编译为标准库。[这是](https://sites.google.com/site/diegotosato/news-and-recent-highlights/quickgraph36standardnetclasslibrary)我的解决方案。

d

# vba - .xlam excel 插件的入口点是什么

> ID：15898287
> 
> 赞同：1
> 
> 时间：2013-04-09T09:28:54.297
> 
> 标签：vba, excel, excel-2010

我正在做一些关于 excel addIn abc.xlam 的工作。此插件在 excel 插件中启用。每当我在 excel 中打开工作表（新的或现有的）时，我都想启动一个 .exe 文件。我想在打开工作簿时在 .xlam 插件中编写这个 .exe 启动部分。请告诉我我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:53:59.423

您需要访问`NewWorkbook`Excel 应用程序的事件，因此您需要在`Application`加载插件时设置对该对象的引用。

将以下示例代码放入`ThisWorkbook`模块中：

```
Option Explicit    '***** Always use Option Explicit!

Private WithEvents oXl As Application

Private Sub oXl_NewWorkbook(ByVal Wb As Workbook)
    '***** Trapping the NewWorkbook event
    Call MsgBox("It's me again. (" & oXl.Workbooks.Count & ")", vbInformation, "Hi. Again.")

    '***** Your code here!
End Sub

Private Sub Workbook_BeforeClose(Cancel As Boolean)
    '***** Remove reference to oXL object
    Set oXl = Nothing
End Sub

Private Sub Workbook_Open()
    '***** Set reference to the current Excel application
    Set oXl = ThisWorkbook.Application

    '***** Testing the oXL object
    Call MsgBox("Hello, there! (" & oXl.Workbooks.Count & ")", vbInformation, "Hi")
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T07:43:52.303

好的，我做到了！我只是在现有宏中创建了一个新函数

```
Private Sub MyMacro 
 MsgBox "HI" 
End Sub 
```

然后，我从 ThisWorkbook 调用了这个函数

```
 Private Sub Workbook_Open()
 Run "MyMacro"
 Exit Sub 
```

# php - 使用由 Ajax 创建的复选框

> ID：15898289
> 
> 赞同：0
> 
> 时间：2013-04-09T09:29:00.010
> 
> 标签：php, javascript, jquery, html, ajax

我正在使用 ajax 项目。我有一种用户形式，其中包含姓名、地址、邮政编码。在输入姓名、地址或邮政编码时，匹配的行由 ajax 文件显示在 .

所以选择复选框我想做一些进一步的活动。

我的html代码是

```
Address : <input type="text" name="user_name" id="from_location" value="" class="in_form" />
 <div id="user"></div> 
```

和 jQuery 代码是

```
$.ajax({
                url: "ajax_user.php",
                data: {
                    address: address,

                 },
                dataType: "html",
                type: "POST",
                success: function(result){
                        $("#user").append(result);
                    }
                })
            } 
```

和 ajax 用户 php 是

```
$sql= "SELECT * FROM instructor_mst WHERE sex='$sex' AND car_type='$car_type' AND address Like '%$address%' ";
        if (!$sqli=mysql_query($sql)){
            echo mysql_error();
        }
        $num_rows= mysql_num_rows($sqli);
        if($num_rows != 0)
        {?>
        <table border="0" class="form_ins" >
        <?
        while ($row = mysql_fetch_array($sqli)) 
        {

        ?>    
        <tr>
            <td>

            </td>
            <td>
                Name
            </td>   

            <td>
                Address
            </td>

        </tr>
        <tr>
            <td>
                <input type="checkbox" name="select" value"<?php echo $row['id'];?>"> 
            </td>
            <td>
                <?php echo $row['name'];?>
            </td>   

            <td>
                <?php echo $row['address'];?>
            </td>

        </tr>
        </table
        <?} 
```

结果我得到了

复选框 | 用户名 | 地址

现在选择我要提交其他活动的复选框....我不知道我该怎么做...所有答案都将得到认可

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:31:16.993

随着您的复选框被动态添加 -

```
 $(document).on('change','input[type=checkbox]',function(){
       if($(this).is(':checked')){
         // do something
       }
 }); 
```

或者，如果您有复选框的 ID -

```
$(document).on('change','#checkBoxID',function(){
   if($(this).is(':checked')){
     // do something
   }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:37:49.807

您需要使用`on`动态添加的元素委托点击事件，在您的情况下是复选框

```
 $(document).on('click','input[name="select"]',function(){
       //this is called when you select the checkbox
       //do your stuff
 }) 
```

或将其委托给最近的静态元素

```
 $('#user').on('click','input[name="select"]',function(){
     //dou your stuff
 }); 
```

**更新**

复选框可能有多个值，因此要获取所有选中的值，您需要遍历这些值或使用 map()

尝试这个

```
 $('#user').on('click','input[name="select"]',function(){
     var  selectedValue = $("input[name='select']:checked").map(function(n){
            return this.value;
     });
     console.log(selectedValue );  //this will print array in console.
     alert(seletedValue.join(',')); //this will alert all values ,comma seperated
   }); 
```

# c# - “？” 使用实体框架时的智能感知

> ID：15898297
> 
> 赞同：1
> 
> 时间：2013-04-09T09:29:18.790
> 
> 标签：c#, sql, entity-framework

我有这个 poco 课

```
public class MyEntity
{
  [Key]
  public int Id { get; set; }

  [Column("ComponentName")]
  public string Name { get; set; }
} 
```

*这只是一个片段*！！！！

它用于查询已经存在的数据库，我猜是 sql 2005 在 2008 年左右创建的。我曾经`app.config`创建它的连接字符串，我使用`"Data Source=.\MSSQL2008;AttachDbFilename=C:\DbFiles\Comps.mdf;Initial Catalog=Comps;Integrated Security=True"`并且我的上下文成功连接到 db 文件和我的存储库查询。然而，这是奇怪的部分。

它得到所有 831 行，这是正确的行数。

然而，智能感知到达第 14 个实体，然后开始输入“？” ![智能感知](https://i.stack.imgur.com/M0PKS.png)

它到底为什么要这样做？

我的 poco 类的映射完全正确。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:33:19.643

我认为除了一些 Visual Studio Architect 之外，没有人可以给出*确切的原因*。但这主要发生在智能无法（出于 100 个原因）获取预览数据时，即。

不要认为这对您的应用程序来说是个问题。

[要检查这一点，您可能会想到在 Visual Studio 的Quick Watch](http://www.blackwasp.co.uk/QuickWatch.aspx)窗口中显示内容，或者使用[Console.WriteLine在](http://msdn.microsoft.com/en-us/library/system.console.writeline.aspx)[输出](http://msdn.microsoft.com/en-us/library/vstudio/3hk6fby3.aspx)窗口中将其打印出来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:33:16.577

可能发生数据检索超时？如果调试器评估表达式花费的时间太长，它将停止执行此操作，并且不会评估更多表达式。

如果扩展结果需要一些时间（3-5 秒），则可以确认这一点。

# performance - 从显式线程到 TBB

> ID：15898298
> 
> 赞同：3
> 
> 时间：2013-04-09T09:29:23.110
> 
> 标签：performance, parallel-processing, tbb

假设我有一个并行算法，它使用带有一个或两个锁的显式线程进行同步，并且经过优化以利用缓存线（包括多核之间的共享 L3 缓存），将其合并到 TBB 程序中的好方法是什么？有问题的算法不像它分解成线程那样很好地分解成任务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T18:52:45.307

没有任何进一步的信息（代码示例或任何类型的算法通用表示，例如流程图），我会说进行这种转换的最佳方法是重构算法，隔离可重复的操作并尝试将它们组合到任务中（一系列具有共同目的的一项或多项活动）...

不幸的是，没有神奇的公式来进行这种转变，因为这些技术基本上是解决同一问题的 2 个答案，因此它们有一些共同点，但它们也从 2 个不同的角度解决问题......

# ajax - 当传输 = ServerSentEvents 时 SignalR GET 请求“已取消”

> ID：15898300
> 
> 赞同：4
> 
> 时间：2013-04-09T09:29:26.013
> 
> 标签：ajax, security, http, signalr

我已经部署了一个 ASP.NET MVC 4 w/我的 SignalR 应用程序，它在所有客户端上都可以正常工作，除了一个。当使用 Chrome 开发工具调试页面时，我看到 SignalR 传输方法是 ServerSentEvents，并且 SignalR GET 请求的状态为“已取消”。Chrome 最新版和 IE 9 浏览器都是这种情况。

此问题特定于单个客户端。我尝试过的几件事是：

*   禁用 Windows 防火墙
*   将我的站点添加到安全设置为“低”的受信任站点。

作为客户端的一些背景知识.. 它们是运行 Windows 7 的公司网络的一部分。同一网络上的另一台计算机也有同样的问题，但是，通过将我的站点添加到“受信任的站点”来解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:52:30.163

AVG Internet Security 阻止了这些请求。禁用“在线防护”意味着应用程序恢复正常工作状态。

# java - 这个 Swing 组件的名称是什么？

> ID：15898301
> 
> 赞同：0
> 
> 时间：2013-04-09T09:29:26.650
> 
> 标签：java, swing

我想放置一个工具栏类型的组件，其中将有一个按钮，当按下该按钮时工具栏应该展开，表单的大小会增加，并且它包含一些组件，例如用户可以看到的文本区域和标签，并且在按下按钮时再次工具栏被最小化并且表单的大小减小。

谁能告诉我如何做到这一点？

例如; 就像在我的计算机中的 Windows 7 中一样，有一个名为“硬盘驱动器”的工具栏。当我们按下它时，它会显示所有驱动器，当我们再次按下它时，它会隐藏它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:35:00.547

[SwingX](http://swingx.java.net)有一个可折叠的面板控件，我认为它应该可以满足您的需求。另请查看[How to have Collapsable/Expandable JPanel in Java Swing](https://stackoverflow.com/questions/8177955/how-to-have-collapsable-expandable-jpanel-in-java-swing)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T16:09:06.363

一些替代方案：

*   您可以将 a 添加[`JButon`](http://docs.oracle.com/javase/tutorial/uiswing/components/button.html)到[`JToolBar`](http://docs.oracle.com/javase/tutorial/uiswing/components/toolbar.html). 在您的按钮中`ActionListener`，打开一个[`JOptionPane`](http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)包含您的组件的。这个[例子](https://stackoverflow.com/a/3002830/230513)说明了一些可能性。

*   对于更高级的视图，请考虑`Outline`，[在此处](https://codereview.stackexchange.com/a/4447/6692)说明。

![图片](https://i.stack.imgur.com/CrJKc.png)

# silverlight - Windows Phone 8 中 ItemControl 中的 EventToCommand

> ID：15898306
> 
> 赞同：0
> 
> 时间：2013-04-09T09:29:41.043
> 
> 标签：silverlight, windows-phone-8, mvvm-light, datatemplate, eventtocommand

我不明白为什么我不能在 ItemControl 内的数据模板中调用 eventToCommand。根据这篇[文章](https://stackoverflow.com/questions/10841642/binding-commandparameter-on-itemscontrol-tap-event)，我应该在 dataTemplate 中实现它，但永远不会调用该命令。这是我试图在我的代码中插入的 eventToCommand。

```
<i:Interaction.Triggers>
   <i:EventTrigger EventName="Tap">
        <cmd:EventToCommand Command="{Binding ItemSelectedCommand, Mode=OneWay}"
               PassEventArgsToCommand="True" />
   </i:EventTrigger>
</i:Interaction.Triggers> 
```

这是我试图将其插入的代码。但是，正如评论所说，它在放入 dataTemplete 时永远不会被调用。问题不在于 viewModel，该命令在 panelTemplate 中有效。

```
<ItemsControl ItemsSource="{Binding GroupRow1}" >
   <ItemsControl.ItemsPanel>
      <ItemsPanelTemplate>
         <StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
             <!-- COMMAND WORKS HERE, but cannot locate which item has been pressed -->
         </StackPanel>
      </ItemsPanelTemplate>
   </ItemsControl.ItemsPanel>
   <ItemsControl.ItemTemplate>
       <DataTemplate>
           <Border Background="#FF1756C3" Height="173" Width="173" Margin="12,0,0,0" >
                <!-- COMMAND DOES NOT WORK HERE?!?! -->
                <StackPanel> 
                   <TextBlock Text="{Binding LineOne}" /> <!-- These bindings work -->
                   <TextBlock Text="{Binding LineTwo}" />
                </StackPanel>
           </Border>
       </DataTemplate>
   </ItemsControl.ItemTemplate>
</ItemsControl> 
```

我如何知道哪个项目被按下了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:59:37.163

很多答案，但没有一个对我有用。我重新设计了我的解决方案并摆脱了正在工作的 eventtocommand。相反，我制作了带有自定义内容的按钮，使其看起来与我的边框相同。

更简单的代码和更好的解决方案。

```
<ItemsControl ItemsSource="{Binding GroupRow1}" >
<ItemsControl.ItemsPanel>
  <ItemsPanelTemplate>
     <StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
     </StackPanel>
  </ItemsPanelTemplate>
</ItemsControl.ItemsPanel>
<ItemsControl.ItemTemplate>
   <DataTemplate>
      <Button CommandParameter="{Binding LineOne}" Height="195" Width="195" Margin="0,0,-10,0" Click="Button_Click_2" Background="#FF1756C3">
            <StackPanel> 
               <TextBlock Text="{Binding LineOne}" /> 
               <TextBlock Text="{Binding LineTwo}" />
            </StackPanel>
       </Button>
   </DataTemplate>
</ItemsControl.ItemTemplate>
</ItemsControl> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T10:09:03.517

我之前遇到过类似的问题，为我解决的问题是在绑定中引用 VM。`PassEventArgsToCommand`如果要接收项目而不是 EventArgs，请尝试设置为 false

```
<i:Interaction.Triggers>
    <i:EventTrigger EventName="Tap">                                    
         <cmd:EventToCommand PassEventArgsToCommand="False" 
                             CommandParameter="{Binding}" 
                             Command="{Binding Path=VM_Name_Here.Command_Name_Here, Source={StaticResource Locator}}"/>
    </i:EventTrigger>
</i:Interaction.Triggers> 
```

编辑 - 如果您使用的是 MVVM Light，`app.xml`您应该有类似的内容：

`xmlns:vm="clr-namespace:PhoneApplication.ViewModel`（您的 ViewModelLocator 所在的命名空间）

```
 <vm:ViewModelLocator x:Key="Locator"
                             d:IsDataSource="true" /> 
```

您告诉绑定在 ViewModelLocator 中查找特定 VM。

希望它有所帮助，问候。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T16:20:08.097

我认为这与您在数据模板中的绑定有关。视图是如何创建的？我认为该命令是 viewModel 的属性，而不是 GroupRow1，它是您的项目控件的集合。您需要绑定到 ViewModel 中的命令。因此，如果您的视图是用户控件，则以下内容应该有效。（如果它是另一种类型，则更改祖先类型）

```
 <cmd:EventToCommand Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}},Path=DataContext.ItemSelectedCommand}"
    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type TextBlock}},Path=Name}"/> 
```

例如，命令参数添加文本块的名称，您可以将其更改为文本块的任何属性。

我个人会在我的视图模型中拥有 SelectedItem 属性，该属性可以作为 ItemSelectCommand 中的对象进行访问

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T06:21:26.793

答案很明显。在 ItemsPanelTemplate 中，您的绑定源仍然是 ViewModel，并且您的命令停留在您的 ViewModel 上。但是在 DataTemplate 中，您正在迭代 GroupRow1 项目，并且您的绑定源是单个项目。如果你想在那里使用你的命令，你必须从示例中的相对源绑定：

```
<i:Interaction.Triggers>
 <i:EventTrigger EventName="Tap">
    <cmd:EventToCommand Command="{Binding ViewModel.ItemSelectedCommand, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=OneWay}"
           PassEventArgsToCommand="True" />
 </i:EventTrigger>
</i:Interaction.Triggers> 
```

# c# - 如何执行 OSQL 命令以外的 sql 脚本？

> ID：15898321
> 
> 赞同：0
> 
> 时间：2013-04-09T09:30:22.047
> 
> 标签：c#, sql, sql-server

在我的产品中，我们使用 OSQL 来执行 sql 脚本文件。不幸的是，有些客户的机器上没有安装 OSQL。他们不同意为许可证问题安装 sql management studio。

有没有其他方法可以通过 c# 执行 sql 脚本而不是 OSQL？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:34:28.860

我认为 SSMS 可以从微软门户免费下载，并且没有许可证问题。检查[这个](http://www.microsoft.com/en-us/download/details.aspx?id=7593)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T10:49:05.517

`SQLCMD.EXE`将安装在服务器`binn`上的 SQL Server 目录中。您将需要运行应用程序的客户端上的 SQLCMD.EXE。您可以单独安装 SQLCMD.EXE 和其他命令行实用程序，请参阅[Microsoft® Command Line Utilities 11 for SQL Server®](http://www.microsoft.com/en-ie/download/details.aspx?id=36433)。

但是不需要安装 SQLCMD，编写一个 C# 脚本执行器相当简单。事实上，我自己写了一个，请参阅[https://github.com/rusanu/DbUtilSqlCmd](https://github.com/rusanu/DbUtilSqlCmd)并且也[可以作为 NuGet 使用](http://nuget.org/packages/com.rusanu.DbUtilSqlCmd/)。

# iphone - iPhone 的电子邮件应用程序如何识别地址？

> ID：15898325
> 
> 赞同：-3
> 
> 时间：2013-04-09T09:30:38.280
> 
> 标签：iphone, ios, ios5

我一直在玩我的 iPhone，最近我意识到 iPhone 的电子邮件应用程序可以识别电子邮件中的一行是否代表一个地址。有趣的是，这适用于许多地址模式。我试过美国、德国、法国和西班牙。在所有情况下，地址都以蓝色链接突出显示，就像电话号码一样。所以我的问题是这个地址检测背后的算法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:39:37.500

检查[文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIKitDataTypesReference/Reference/reference.html)。`UIDataDetectorTypes`_ 你会发现一个检测格式化为地址的字符串。然后，您可以将此检测器类型添加到.`UIDataDetectorTypeAddress``UITextView`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:45:47.727

你可以设置 `theObj.dataDetectorTypes = UIDataDetectorTypeAddress;`

或者你可以像这样实现

```
UITextView *theObj;
theObj = [[UITextView alloc] initWithFrame:CGRectMake(65, 10, 225, 65)];
theObj.text = @"sample@mail.com";
theObj.editable = NO;
theObj.dataDetectorTypes = UIDataDetectorTypeAddress;
[myview theObj]; 
```

# haskell - 如何在 DocTest 中使用 ByteStrings 和 QuickTest？

> ID：15898329
> 
> 赞同：1
> 
> 时间：2013-04-09T09:30:46.020
> 
> 标签：haskell, doctest, quickcheck

使用 doctest 和 quickcheck 时如何定义`Arbitrary`实例（如此[处所述）？](https://stackoverflow.com/questions/8113751/haskell-quickcheck2-using-bytestring)

Doctest 和 Cabal 的设置如此处所述[，](https://github.com/sol/doctest-haskell#cabal-integration)并带有一个单独的测试目录。

doctest 行如下所示：

```
-- prop> (\s -> (decode . encode $ s == s)) :: ByteString -> Bool
decode :: ByteString -> ByteString
encode :: ByteString -> ByteString 
```

我在哪里以及如何定义`Arbitrary`实例，以便 doctest 可以找到它？请注意，我想在测试项目中定义它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T14:00:05.443

尝试

```
-- $setup
-- >>> import Control.Applicative
-- >>> import qualified Data.ByteString as ByteString
-- >>> import Test.QuickCheck
-- >>> instance Arbitrary ByteString where arbitrary = ByteString.pack <$> arbitrary
-- >>> instance CoArbitrary ByteString where coarbitrary = coarbitrary . ByteString.unpack

-- |
-- prop> \ s -> (decode . encode) s == s
decode:: ByteString -> ByteString
encode :: ByteString -> ByteString 
```

命名块可用于此类定义。但是，每个完整的定义必须在一行上，并且 doctest 将报告每次使用`>>>`成功或失败 - 因此在这种情况下，将报告 6 次尝试，即使其中只有 1 次实际上是测试。

# objective-c - 使用 objc_setAssociatedObject 将 ivars 添加到类别

> ID：15898330
> 
> 赞同：0
> 
> 时间：2013-04-09T09:30:48.970
> 
> 标签：objective-c, cocoa, objective-c-category, associated-object

我打算添加到`iVars`一个类别中`objc_setAssociatedObject()`。但是，我不确定何时打电话`objc_removeAssociatedObjects()`摆脱它们。

类别有没有办法知道使用它的对象何时存在`de-allocated`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:45:01.423

如果您设置与

```
objc_setAssociatedObject(self, &key, otherObject, OBJC_ASSOCIATION_RETAIN);
// or OBJC_ASSOCIATION_RETAIN_NONATOMIC 
```

然后在被`otherObject`释放时自动`self`释放。（至少如果您使用 ARC，但我认为手动引用计数也是正确的。）

因此，您不必`objc_removeAssociatedObjects()`显式调用，除非您想在释放主对象之前摆脱添加的对象。

# python - 如何使用 SQLAlchemy ORM 指定 PostgreSQL DateStyle 属性

> ID：15898332
> 
> 赞同：2
> 
> 时间：2013-04-09T09:30:50.110
> 
> 标签：python, postgresql, sqlalchemy

PostgreSQL 支持使用此处提到的 DateStyle 属性指定日期格式， [http://www.postgresql.org/docs/current/interactive/runtime-config-client.html#GUC-DATESTYLE](http://www.postgresql.org/docs/current/interactive/runtime-config-client.html#GUC-DATESTYLE)。（链接最初是 8.3 版本的文档）。

我找不到有关如何定义此属性的任何 SQLAlchemy ORM 文档参考。有可能做到吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T22:44:44.590

SQLAlchemy 使用 DBAPI（通常是 psycopg2）来编组与[python 日期](http://docs.python.org/2/library/datetime.html)时间对象之间的日期值 - 然后您可以使用标准 python 技术以任何方式格式化/解析。因此不需要数据库端的日期格式化功能。

如果你想设置这个变量，你可以执行 PG 的 SET 语句：

```
conn = engine.connect()
conn.execute("SET DateStyle='somestring'")
# work with conn 
```

使这个全局连接到所有连接：

```
from sqlalchemy import event
from sqlalchemy.engine import Engine

@event.listens_for(Engine, "connect")
def connect(dbapi_connection, connection_record):
    cursor = dbapi_connection.cursor()
    cursor.execute("SET DateStyle='somestring'")
    cursor.close() 
```

# iphone - argumentList 只显示一个

> ID：15898340
> 
> 赞同：-4
> 
> 时间：2013-04-09T09:31:09.283
> 
> 标签：iphone, ios, cocoa

我已经尝试了以下代码，但只`otherButtonTitles`显示了第一个。

```
- (id)initWithCancelButtonTitle:(NSString *)cancelButtonTitle primaryButtonTitle:(NSString *)primaryButtonTitle destructiveButtonTitle:(NSString *)destructiveButtonTitle otherButtonTitles:(NSString *)otherButtonTitles, ...
{
    self = [self init];
    if (self)
    {
        // Build normal buttons
        va_list argumentList;
        va_start(argumentList, otherButtonTitles);

        NSString *argString = otherButtonTitles;

        while (argString != nil)
        {
            UIButton *button = [self buildButtonWithTitle:argString];

            [self.buttons addObject:button];

            argString = va_arg(argumentList, NSString *);
        }

        va_end(argumentList);

        // Build cancel button
        UIButton *cancelButton = [self buildCancelButtonWithTitle:cancelButtonTitle];
        [self.buttons insertObject:cancelButton atIndex:0];

        // Add primary button
        if (primaryButtonTitle)
        {
            UIButton *primaryButton = [self buildPrimaryButtonWithTitle:primaryButtonTitle];
            [self.buttons addObject:primaryButton];
        }

        // Add destroy button
        if (destructiveButtonTitle)
        {
            UIButton *destroyButton = [self buildDestroyButtonWithTitle:destructiveButtonTitle];
            [self.buttons insertObject:destroyButton atIndex:1];
        }
    }

    return self;
} 
```

如何修改它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T11:16:33.280

这是我为您编写的通用模板。它就像一个具有各种参数的魅力。我认为它可以帮助您轻松解决问题：

**.h**文件

```
- (NSMutableArray *)arrayWithDictionaries:(NSDictionary *)dictionary, ... NS_REQUIRES_NIL_TERMINATION; 
```

**.m**文件

```
- (NSMutableArray *)arrayWithDictionaries:(NSDictionary *)dictionary, ... {
    NSMutableArray *_array = [[NSMutableArray alloc] init];

    // I'm building the array of the arguments
    va_list _arguments;
    va_start(_arguments, dictionary);

    for (NSDictionary *_currentArgument = dictionary; _currentArgument != nil; _currentArgument = va_arg(_arguments, NSDictionary*)) {
        [_array addObject:_currentArgument];
    }

    va_end(_arguments);

    return _array;
} 
```

* * *

**更新#1** *（在 090413 上）*

这是你的代码......

**.h**文件

```
- (id)initWithCancelButtonTitle:(NSString *)cancelButtonTitle primaryButtonTitle:(NSString *)primaryButtonTitle destructiveButtonTitle:(NSString *)destructiveButtonTitle otherButtonTitles:(NSString *)otherButtonTitles, ... NS_REQUIRES_NIL_TERMINATION; 
```

**.m**文件

```
- (id)initWithCancelButtonTitle:(NSString *)cancelButtonTitle primaryButtonTitle:(NSString *)primaryButtonTitle destructiveButtonTitle:(NSString *)destructiveButtonTitle otherButtonTitles:(NSString *)otherButtonTitles, ...
{
    self = [self init];
    if (self)
    {
        // Build normal buttons
        va_list _arguments;
        va_start(_arguments, otherButtonTitles);

        for (NSString *_currentArgument = otherButtonTitles; _currentArgument != nil; _currentArgument = va_arg(_arguments, NSString*)) {
             UIButton *button = [self buildButtonWithTitle:_currentArgument];
             [self.buttons addObject:button];
        }

        va_end(_arguments);

        // Build cancel button
        UIButton *cancelButton = [self buildCancelButtonWithTitle:cancelButtonTitle];
        [self.buttons insertObject:cancelButton atIndex:0];

        // Add primary button
        if (primaryButtonTitle)
        {
            UIButton *primaryButton = [self buildPrimaryButtonWithTitle:primaryButtonTitle];
            [self.buttons addObject:primaryButton];
        }

        // Add destroy button
        if (destructiveButtonTitle)
        {
            UIButton *destroyButton = [self buildDestroyButtonWithTitle:destructiveButtonTitle];
            [self.buttons insertObject:destroyButton atIndex:1];
        }
    }

    return self;
} 
```

* * *

**更新#2** *（在 090413 上）*

您应该像这样调用该方法：

```
[[... alloc] initWithCancelButtonTitle:@"Cancel Title" primaryButtonTitle:@"Primary Title" destructiveButtonTitle:@"Destructive Title" otherButtonTitles:@"Other Title 1", @"Other Title 2", @"Other Title 3", nil]; 
```

# php - LDAP 身份验证绑定问题 - PHP、Apache、Windows

> ID：15898341
> 
> 赞同：0
> 
> 时间：2013-04-09T09:31:10.103
> 
> 标签：php, windows, apache, ldap

我在对服务器执行经过身份验证的绑定时遇到问题。这些问题似乎不在代码中，但可能是服务器问题。

让你知道；

*   LDAP 在 Apache/PHP 中启用
*   我以 user@domain.com 身份连接
*   域控制器正在运行 LDAP，并且在防火墙中有一个条目 (Windows Server 2008 R2)
*   我可以执行匿名绑定

我可以使用这个脚本匿名绑定；

```
$ldapconn = ldap_connect("machinename.domain.com")
    or die("Could not connect to LDAP server.");

if ($ldapconn) {

    // binding anonymously
    $ldapbind = ldap_bind($ldapconn);

    if ($ldapbind) {
        echo "LDAP bind anonymous successful...";
    } else {
        echo "LDAP bind anonymous failed...";
    }

} 
```

但是，当我尝试使用此脚本进行经过身份验证的绑定时，它会失败。

```
// Authenticated Bind
$ldaprdn  = 'username@domain.com';     // ldap rdn or dn
$ldappass = 'password';  // associated password

// connect to ldap server
$ldapconn = ldap_connect("machinename.domain.com")
    or die("Could not connect to LDAP server.");

if ($ldapconn) {

    // binding to ldap server
    $ldapbind = ldap_bind($ldapconn, $ldaprdn, $ldappass);

    // verify binding
    if ($ldapbind) {
        echo "LDAP bind successful...";
    } else {
        echo "LDAP bind failed...";
    }

} 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:58:19.703

可能您的 LDAP 需要`DN`作为登录名。要检索 DN，请先搜索用户`uid`。

```
$search = ldap_search($ldapconn, $baseDn, $filter, $attributes);

if ($search) {
    $entries = ldap_get_entries($ldapconn, 'uid=' . $ldaprdn);// Here $ldaprdn is the email
    if (is_array($entries)) {
        $ldaprdn = $entries[0]['dn']; // Get the DN of the user
    }
}

$ldapbind = ldap_bind($ldapconn, $ldaprdn, $ldappass);

// .... 
```

**注意**：您应该转义`$ldaprdn`以避免 LDAP 注入攻击。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:01:53.703

好的，经过大量调查，我打开了错误信息`ldap_errno()`，`ldap_error()`发现它带回了错误“需要强（er）身份验证”，发现了两种可能的解决方案；

**调整组策略设置**

*   协商签名（网络安全：LDAP 客户端签名要求）
*   无签名要求（域控制器：LDAP 服务器签名要求）

*   结果：成功绑定，当我输入错误的用户名或密码时，它会按预期抛出“无效凭据”。

**启用基于 SSL 的 LDAP (LDAPS)**

*   [http://www.christowles.com/2010/11/enable-ldap-over-ssl-ldaps-on-windows.html](http://www.christowles.com/2010/11/enable-ldap-over-ssl-ldaps-on-windows.html)
*   [http://support.microsoft.com/kb/321051](http://support.microsoft.com/kb/321051)

# php - 在联接中获取下一条和上一条记录

> ID：15898342
> 
> 赞同：0
> 
> 时间：2013-04-09T09:31:12.837
> 
> 标签：php, mysql, join, left-join

我目前正在使用此查询在我的 PHP 应用程序中选择媒体记录并获取相关的用户数据（如果可用）：

```
SELECT media.*,
user.*
FROM media_table AS media
LEFT JOIN user_table AS user ON
    (user.user_id = media.user_id)
WHERE media.media_id = {$mediaId} 
```

我感兴趣的是为下一个可用的 media_table 记录和上一个 media_table 记录选择 media.*。我可以根据 media_id 本身（media_table.media_id 是自动增量）或有其他可用列（例如 media_date）来执行此操作（这可能更准确 - 它是纪元时间格式的 INT 列）。

而且我想通过连接来做到这一点（如果可能的话），所以我不必运行多个查询。

它让我想起了这个答案：[https ://stackoverflow.com/a/1446831/1593325](https://stackoverflow.com/a/1446831/1593325)

它给了我一些想法，但我无法让它工作（除非我运行单独的查询）。

任何帮助深表感谢。非常感谢您的参与。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:39:25.643

如果您希望同时获得所有 3 行，您可以修改您的`WHERE`子句以满足您的要求。修改后的查询将是：

```
SELECT media.*,
user.*
FROM media_table AS media
LEFT JOIN user_table AS user ON
    (user.user_id = media.user_id)
WHERE (media.media_id = {$mediaId} 
       or media.media_id = ({$mediaId}-1) 
       or media.media_id = ({$mediaId}+1)) 
```

**更新：** 在这种情况下，您可以将查询用作

```
SELECT media.*,
user.*
FROM media_table AS media
LEFT JOIN user_table AS user ON
    (user.user_id = media.user_id)
WHERE (media.media_id = {$mediaId} 
       or media.media_id = (SELECT MIN(media_id ) FROM media_table 
                           where media_id > {$mediaId}) 
       or media.media_id = (SELECT MAX(media_id ) FROM media_table
                           where media_id < {$mediaId})
      ) 
```

# perl - 如何使用 utf8 在 IMAP 中搜索主题

> ID：15898348
> 
> 赞同：0
> 
> 时间：2013-04-09T09:31:25.463
> 
> 标签：perl, imap

我使用 Perl Module **Net::IMAP::Simple::SSL**连接到 IMAP 服务器并搜索一些主题包含关键字的邮件。

因为主题具有 UTF8 字符，所以使用时我无法得到任何结果：

```
$imap->search('SUBJECT "Aone2"'); 
```

其中**“Aone2”**是一个关键字，在邮件的主题中。

希望你能帮我 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T15:22:37.533

非 ASCII 字符必须作为[文字](https://www.rfc-editor.org/rfc/rfc3501#section-4.3)发送。请注意，除非您的服务器支持[LITERAL+](https://www.rfc-editor.org/rfc/rfc2088)，否则您必须将它们作为同步文字发送并等待服务器通过[continuation request](https://www.rfc-editor.org/rfc/rfc3501#section-7.5)确认这一点。这是强制性的，并且有不支持非同步文字的 IMAP 服务器。

# c++ - 将结构元素设置为定义中的值

> ID：15898350
> 
> 赞同：1
> 
> 时间：2013-04-09T09:31:31.630
> 
> 标签：c++

编译器似乎对此没有问题。我可以安全地假设我创建的这种类型的任何对象都将具有这些默认值吗？

```
struct ColorProperties
{
   bool colorRed    = true;
   bool colorBlue   = false;
   bool isRectangle = true;
};

ColorProperties myProperties; 
```

会`myProperties`自动包含结构所注明的元素值吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T09:33:45.787

是的你可以。这是 C++11 的特性。真的等于

```
struct ColorProperties {
   ColorProperties()
      : colorRed(true), colorBlue(false), isRectangle(true)
   {}

   //
}; 
```

[您可以在此处](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2628.html)阅读有关此提案的信息

来自标准的报价。

n3376 12.6.2/8

> 在非委托构造函数中，如果给定的非静态数据成员或基类不是由 mem-initializer-id 指定的（包括由于构造函数没有 ctor-initializer 而没有 mem-initializer-list 的情况）并且实体不是抽象类（10.4）的虚拟基类，则
> 
> **— 如果实体是具有大括号或等号初始化器的非静态数据成员，则实体按照 8.5 中的规定进行初始化；**

```
struct A {
   A();
};

struct B {
   B(int);
};

struct C {
   C() { }

   A a;
   const B b; // error: B has no default constructor
   int i;     // OK: i has indeterminate value
   int j = 5; // OK: j has the value 5
}; 
```

# html - 在 MVC 3 视图中渲染 StringBuilder HTML

> ID：15898352
> 
> 赞同：1
> 
> 时间：2013-04-09T09:31:34.330
> 
> 标签：html, asp.net-mvc-3, view, stringbuilder

在我看来，我正在遍历我的模型并构建 html 以显示在页面上。我正在使用 stringbuilder 和 if/else 条件构建这个 html。

我试图将此字符串呈现为 html，但我一直卡住。

这是代码：

```
@model UserManager.Models.vw_UserManager_Model 
<div id="success-message">
    <fieldset>
        <legend><b>@ViewData["Action"]</b> </legend>
        <!-- User created -->
        <div id="content">

            @Html.Raw("some test string");

            @{
                System.Text.StringBuilder sb = new System.Text.StringBuilder();
                int i = 0;
                sb.Append("<ul>");
                foreach (var item in Model)
                {
                    string s = item.ToString();
                    if (s == "," && i != 1)
                    {
                        // When it finds first delimiter, start building the string
                        i = 1;
                        sb.Append("<li>");
                    }

                    else if (s == "," && i == 1)
                    {
                        // When it finds first delimiter, start building the string
                        sb.Append(" : ");
                    }

                    else if (i == 1 && s != "/")
                    {
                        // Contine building the string
                        sb.Append(s);
                    }

                    else if (s == "/")
                    {
                        // End current list item and set i to 0\. This will start the next li sequence
                        sb.Append("</li>");
                        i = 0;
                    }

                    else
                    {
                        // Do nothing in the loop   
                    }
                }
                sb.Append("</ul>");
                var str = MvcHtmlString.Create(sb.ToString());

            }

        </div>
    </fieldset>
</div> 
```

SB的内容

```
{<ul><li>firstname : sdlmsdm</li><li>lastname : smsd</li><li>salutation : Mr</li><li>password : ksklsd</li><li>email : sdkm@as.com</li><li>userName : sdkmsdmke</li><li>MaxConcurrentUsers : 0</li><li>group_name : [PIAS] UK LTD</li><li>module_name : Connect:Top 1000 Advertisers</li><li>isactive : True</li><li>IsApproved : False</li><li>alf : True</li><li>brad : False</li><li>selected_moduleAlf : Connect:Top 1000 Advertisers : System.String : selected_moduleBrad : false : </ul>} 
```

这段代码完成调试后，我看不到任何 HTML。有人有答案吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-09T09:37:00.407

那是因为你不写。你需要做`@Html.Raw(str)`：

```
sb.Append("</ul>");
var str = new HtmlString(sb.ToString());

@Html.Raw(str) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:44:00.270

将您的 HtmlString 更改为 MvcHtmlString.Create("string") ，然后只显示创建的变量。

```
<div id="content">
    @{
        System.Text.StringBuilder sb = new System.Text.StringBuilder();
        sb.Append("<ul>");
        sb.Append("<li>asdfd</li>");  
        sb.Append("</ul>");
        var str = MvcHtmlString.Create(sb.ToString());

    }

    @str
</div> 
```

# c# - 在层之间传输数据的最佳方式

> ID：15898355
> 
> 赞同：0
> 
> 时间：2013-04-09T09:31:41.567
> 
> 标签：c#, .net, design-patterns, layer, data-transfer

我想知道在层之间传输数据的最佳方式（例如：自定义类、数据集、DataReader ..）。

让我们考虑 MVP 设计模式。我想知道将数据从模型层传输到演示层的最佳方式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:35:03.463

你可以使用

*   **DTO / 业务对象 (BO)**

    它们是[普通的旧 CLR 对象 (POCO)](http://en.wikipedia.org/wiki/Plain_Old_CLR_Object)，通常不包含任何逻辑（或者可能是在 BO 中转换 DTO、覆盖 compare 或 toString 方法的最低限度）。

    例如，如果您正在创建一个新员工，您有一个名为 EmployeeBO 的类来帮助传输数据。用户界面从表单中捕获数据，创建一个 BO，然后将此 BO 发送到 BLL（业务逻辑层）。这个 BLL 做他认为需要的任何事情，并最终将 BO 发送到数据访问层，将其保存在数据库中。

    在 BLL 层中使用 BO 会有所帮助，因为您在这里处理的是真实对象，您可以将它们存储在列表、字典中……您可以使用 LINQ 访问它，甚至最终拥有 ORM 框架或 Microsoft Entity Framework。

*   **数据集**

    和上一个类似。它的优点是主要缺点。它与 db 高度耦合。不要使用它。

*   **数据读取器**

    如果您曾经考虑使用 DataReaders，请选择 DataSets :-)

*   **参数**

您将所有参数从 IU 层向下传递到 BLL 和 DAL。这是不切实际的。

**最好的一个是 DTO/业务对象**。理想情况下，使用 DTO 从 UI 层与 BLL 进行通信，并使 BLL 使用自己的 BO 对象。如果你没有这样做（我做到了），那么你的 UI 与数据访问层相结合，使后端的更改变得复杂。在 DTO 和 BO 之间拆分它会给您带来不耦合的优势。通常你有一个方法可以将 DTO 转换成它的 BO。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:38:03.347

传输数据的最佳方式是 DTO 对象。

这些对象仅包含实例变量（带有 setter 和 getter）作为您要传输的数据！

此类中不应有任何行为

例如，如果要传递学生数据，请执行以下操作

```
class StudentBean
{
private String name;
private String age;

public void setName(String n)
{
name=n;
}

public String getName()
{
return name;
}

public void setAge(int n)
{
age=n;
}

public int getAge()
{
return age;
}

} 
```

您现在可以创建 StudentBean 类，在其实例变量中填充数据，然后将此对象作为参数传递给其他层！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:44:38.423

我想最方便的方法取决于您的表示层是如何实现的（WPF、ASP.NET、ASP.NET MVC、WinForms...）。

拥有一堆[DTO](http://en.wikipedia.org/wiki/Data_transfer_object)是一种典型且通常很好的实现，但您也可以使用匿名类型。我已经在这里提供了类似的答案：[将 TempData 和/或 ViewData 传递给服务是一种好习惯吗？](https://stackoverflow.com/questions/15497225/is-it-good-practice-to-pass-tempdata-and-or-viewdata-to-services/15497463#15497463).

该答案中的示例显示了如何将业务对象映射到匿名类型，然后在表示层中使用这些类型。当然，这些匿名类型充当 DTO，不同之处在于您不必显式声明它们。此外，它假设您有一个模型，其中包含代表您的应用程序状态的业务对象。

# linux - grep 一次 hh:mm:ss

> ID：15898356
> 
> 赞同：2
> 
> 时间：2013-04-09T09:31:45.883
> 
> 标签：linux, bash, grep

我需要拆分给定的日期格式（hh：mm：ss），例如：10:30:50 在变量中，例如：hour=10; minute=30 和 seconds=50 在 bash 脚本中使用 grep。

我得到了一个变量的时间，例如： time="10:30:50" 我只用下面的表达式得到秒：

> 秒=`echo $time | grep -oE "[^:]+$"`

任何帮助获得分钟和小时？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-09T09:33:51.327

使用`read`. 它是一个 shell 内置命令，因此比`grep`,`sed`和其他外部命令更有效。

```
time="10:30:50"
IFS=: read hr min sec <<< "$time" 
```

输出：

```
$ echo "$hr"
10
$ echo "$min"
30
$  echo "$sec"
50 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:35:27.473

见下文 ：

```
kent$  time="10:30:50"

kent$  h=$(awk -F: '$0=$1' <<<"$time")
kent$  m=$(awk -F: '$0=$2' <<<"$time")                                                                                                                                      
kent$  s=$(awk -F: '$0=$3' <<<"$time")                                                                                                                                      

kent$  echo $h,$m,$s
10,30,50 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:35:05.733

与`sed`：

```
echo '10:30:50' | sed 's/\([0-9]\+\):\([0-9]\+\):\([0-9]\+\)/hours=\1 minutes=\2 seconds=\3/' 
```

使它成为一个函数：

```
function stringToTime() {
    eval $( echo "$1" | sed 's/\([0-9]\+\):\([0-9]\+\):\([0-9]\+\)/hours=\1 minutes=\2 seconds=\3/' )
} 
```

现在你可以调用它：

```
stringToTime 10:30:50
echo $hours hours, $minutes minutes and $seconds seconds 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T08:53:44.677

sed, grep, awk 是外部命令，尝试使用 shell 内置命令提取您需要的信息

```
D=12:10:12

IFS=:

read H M S <<< $D 
```

注意：<<< 表示从变量中读取

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-27T04:43:51.033

@fedorqui，@kent，

```
$ echo ${time:0:2}
10

$ echo ${time:3:2}
30

$ echo ${time:6:2}
50 
```

# php - simpleXML_load_file 不起作用

> ID：15898360
> 
> 赞同：0
> 
> 时间：2013-04-09T09:32:02.260
> 
> 标签：php, xampp

我在 localhost 中使用这个 php 命令。

```
$bookXML = simpleXML_load_file($bookURL,'SimpleXMLElement',LIBXML_NOCDATA);
if($bookXML== FALSE)
         echo "FALSE"; 
```

变量 $bookURL 是一个链接：

```
http://127.0.0.1/funtrain/resa2/./php/makebooking.php?excode=GR CAN&ticknum=28084&date=2013-05-10&salesman=ALEXANDRA&name=.&adults=2&children=0&infants=0&price1=16&price2=8&pickup=Z_ALEX&time=11:40:00&hotel=Z_ALEX&remarks=&bigremarks=&trf1=0&tax1=0&trf2=0&tax2=0 
```

该链接在浏览器中有效并返回：

```
<book_reference><number>19793</number></book_reference> 
```

“simpleXML_load_file”返回 false...我使用`error_reporting(E_ALL|E_STRICT);`但不返回任何内容。

有谁能够帮我。我在 windows7 64bit 中使用 Xampp v3.1.0.1.0

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:36:33.703

尝试这个

```
$bookXML = simpleXML_load_file($bookURL,'SimpleXMLElement',LIBXML_NOCDATA);
if($bookXML=== FALSE){
  echo "FALSE";
}else{

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:34:38.987

**simpleXML_load_file**需要（本地）XML 文件的路径作为第一个参数，而不是 URL

# c# - 更新面板中的标签不刷新

> ID：15898362
> 
> 赞同：-2
> 
> 时间：2013-04-09T09:32:09.490
> 
> 标签：c#, asp.net, .net, updatepanel

我有一个`Update panel`in `Master page`，并且有一个标签，并且`button`在内容页面中，当我`click`在 上`button`并将一些文本分配给 时`label`，设置为 label 的值没有反映，我认为由于更新面板中的问题`Master page`，有人可以帮忙吗？

**在母版页中**

```
<asp:UpdatePanel ID="updatePanel1" runat="server">
    <ContentTemplate>
        <asp:ContentPlaceHolder ID="ContentPlaceHolder1" runat="server" />
    </ContentTemplate>
</asp:UpdatePanel> 
```

**在内容页面**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:29:08.943

我解决了我的问题，我在这里发帖可能会对某人有所帮助

添加`asp:PostBackTrigger`更新面板

```
<asp:UpdatePanel ID="updatePanel1" runat="server">
       <ContentTemplate>
            <asp:ContentPlaceHolder ID="ContentPlaceHolder1" runat="server" />
       </ContentTemplate>
   <Triggers>
     <asp:PostBackTrigger ControlID="ContentPlaceHolder1" />
   </Triggers>
      </asp:UpdatePanel> 
```

# c# - 在异步/等待（调用堆栈）中调试异常

> ID：15898369
> 
> 赞同：18
> 
> 时间：2013-04-09T09:32:22.070
> 
> 标签：c#, stack-trace, async-await, visual-studio-debugging, c#-5.0

我使用 Async/Await 来释放我的 UI 线程并完成多线程。现在，当我遇到异常时，我遇到了问题。我的`Call Stack`Async 部分总是以 开头`ThreadPoolWorkQue.Dipatch()`，这对我没有多大帮助。

我找到了一篇 MSDN 文章[Andrew Stasyuk。关于它的异步因果链跟踪](http://msdn.microsoft.com/en-us/magazine/jj891052.aspx)，但据我了解，它不是一个现成的解决方案。

如果将多线程与 Async/Await 一起使用，最好/最简单的调试方法是什么？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-09T12:21:50.250

您找到的文章很好地解释了为什么调用堆栈不像我们大多数人认为的那样工作。从技术上讲，调用堆栈只告诉我们代码在当前方法之后返回到哪里。换句话说，调用堆栈是“代码要去哪里”，而不是“代码来自哪里”。

有趣的是，文章确实顺便提到了一个解决方案，但没有详细说明。我有[一篇博文`CallContext`详细解释了解决方案](http://blog.stephencleary.com/2013/04/implicit-async-context-asynclocal.html)。本质上，您使用逻辑调用上下文来创建自己的“诊断上下文”。

我`CallContext`比文章中介绍的解决方案更喜欢该解决方案，因为它确实适用于所有形式的`async`代码（包括 fork/join 之类的代码`Task.WhenAll`）。

这是我所知道的最好的解决方案（除了做一些非常复杂的事情，比如挂钩到分析 API 中）。该方法的注意事项`CallContext`：

*   它仅适用于 .NET 4.5 full。不支持 Windows 应用商店应用程序、.NET 4.0 等。
*   您必须手动“检测”您的代码。AFAIK 无法自动注入它。
*   异常不会自动捕获逻辑调用上下文。因此，如果您在抛出异常时闯入调试器，则此解决方案可以正常工作，但如果您只是在另一个地方捕获异常并记录它们，它就没有那么有用了。

代码（取决于[不可变集合 NuGet 库](https://nuget.org/packages/Microsoft.Bcl.Immutable)）：

```
public static class MyStack
{
    private static readonly string name = Guid.NewGuid().ToString("N");

    private static ImmutableStack<string> CurrentContext
    {
        get
        {
            var ret = CallContext.LogicalGetData(name) as ImmutableStack<string>;
            return ret ?? ImmutableStack.Create<string>();
        }

        set
        {
            CallContext.LogicalSetData(name, value);
        }
    }

    public static IDisposable Push([CallerMemberName] string context = "")
    {
        CurrentContext = CurrentContext.Push(context);
        return new PopWhenDisposed();
    }

    private static void Pop()
    {
        CurrentContext = CurrentContext.Pop();
    }

    private sealed class PopWhenDisposed : IDisposable
    {
        private bool disposed;

        public void Dispose()
        {
            if (disposed)
                return;
            Pop();
            disposed = true;
        }
    }

    // Keep this in your watch window.
    public static string CurrentStack
    {
        get
        {
            return string.Join(" ", CurrentContext.Reverse());
        }
    }
} 
```

用法：

```
static async Task SomeWorkAsync()
{
    using (MyStack.Push()) // Pushes "SomeWorkAsync"
    {
        ...
    }
} 
```

**更新：**我发布了一个[NuGet 包（在我的博客中描述）](http://blog.stephencleary.com/2013/05/announcement-async-diagnostics.html)，它使用 PostSharp 自动注入推送和弹出。因此，现在获得良好的跟踪应该要简单得多。

# groovy - Groovy MetaProgramming - 拦截所有方法，甚至是丢失的方法

> ID：15898371
> 
> 赞同：2
> 
> 时间：2013-04-09T09:32:24.930
> 
> 标签：groovy, metaprogramming

我想拦截一个类的所有方法（实例和静态），甚至是丢失的方法。

让我们说：

```
class SomeClass {
    def methodMissing(String name, args) {
        if(name == "unknownMethod"){
            return "result from unknownMethod"
        }
        else throw new MissingMethodException(name, delegate, args)
    }
}

SomeClass.metaClass.static.invokeMethod = { methodName, args ->
    println "Before"
    def result = delegate.metaClass.invokeMethod(delegate, methodName, *args)
    println "After"
    return result
}

new SomeClass().with{ sc ->
    sc.unknownMethod()  //throw the MissingMethodExcept
} 
```

这适用于类实现的方法，但是当它是由 methodMissing 处理的方法时，我得到一个 MissingMethodException ...

你会怎么做？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:45:47.587

我认为你也需要捕捉非静态`invokeMethod`的

此外，您需要通过`getMetaMethod`调用原始方法，否则您将面临堆栈溢出的风险。

鉴于以下情况：

```
class SomeClass {
  String name

  static String joinWithCommas( a, b, c ) {
    [ a, b, c ].join( ',' )
  }

  String joinAfterName( a, b, c ) {
    "$name : ${SomeClass.joinWithCommas( a, b, c )}"
  }

  def methodMissing(String name, args) {
    if(name == "unknownMethod"){
      return "result from unknownMethod"
    }
    else {
      throw new MissingMethodException( name, SomeClass, args )
    }
  }
}

// Return a closure for invoke handler for a class
// with a given title (for the logging)
def invokeHandler = { clazz, title ->
  { String methodName, args ->
    println "Before $methodName ($title)"
    def method = clazz.metaClass.getMetaMethod( methodName, args )
    def result = method == null ?
                   clazz.metaClass.invokeMissingMethod( delegate, methodName, args ) :
                   method.invoke( delegate, args )
    println "After $methodName result = $result"
    result 
  }
}

SomeClass.metaClass.invokeMethod = invokeHandler( SomeClass, 'instance' )
SomeClass.metaClass.static.invokeMethod = invokeHandler( SomeClass, 'static' )

new SomeClass( name:'tim' ).with { sc ->
  sc.joinAfterName( 'a', 'b', 'c' )
  sc.unknownMethod( 'woo', 'yay' )
  sc.cheese( 'balls' )
} 
```

我得到输出：

```
Before with (instance)
Before joinAfterName (instance)
Before joinWithCommas (static)
After joinWithCommas result = a,b,c
After joinAfterName result = tim : a,b,c
Before unknownMethod (instance)
After unknownMethod result = result from unknownMethod
Before cheese (instance)
Exception thrown

groovy.lang.MissingMethodException: No signature of method: SomeClass.cheese() is applicable for argument types: (java.lang.String) values: [balls] 
```

# ruby-on-rails - Redmine/Ruby/Rails/Postgresql - 无法加载此类文件 - pg_ext

> ID：15898372
> 
> 赞同：3
> 
> 时间：2013-04-09T09:32:31.713
> 
> 标签：ruby-on-rails, ruby, postgresql, redmine

我正在尝试在 fedora-18（64 位）上安装 redmine-2.3.0。我按照 redmine 官方用户指南（[http://www.redmine.org/projects/redmine/wiki/RedmineInstall](http://www.redmine.org/projects/redmine/wiki/RedmineInstall)）中的说明进行操作。一切都很顺利，直到我运行：rake generate_secret_token。我收到以下错误：

> 耙中止！无法加载此类文件 -- pg_ext

我有 postgresql-9.2.4-1。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-10T05:32:44.623

我解决了我的问题：

我的 *pg_ext.so* 文件位于：/usr/local/share/gems/gems/pg-0.15.1/ext/

将其复制到：/usr/local/share/gems/gems/pg-0.15.1/lib/

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-01T12:31:20.097

我只是在 2.0.0-p247 上才开始看到这个。看看这个输出：

```
>find ~/.rvm/gems -name "pg_ext*"
/Users/jshort/.rvm/gems/ruby-1.9.3-p194/gems/pg-0.14.1/ext/pg_ext.bundle
/Users/jshort/.rvm/gems/ruby-1.9.3-p194/gems/pg-0.14.1/lib/pg_ext.bundle
/Users/jshort/.rvm/gems/ruby-1.9.3-p194/gems/pg-0.16.0/ext/pg_ext.bundle
/Users/jshort/.rvm/gems/ruby-1.9.3-p194/gems/pg-0.16.0/lib/pg_ext.bundle
/Users/jshort/.rvm/gems/ruby-2.0.0-p247/gems/pg-0.16.0/ext/pg_ext.bundle
/Users/jshort/.rvm/gems/ruby-2.0.0-p247/gems/pg-0.16.0/lib/Users/jshort/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/site_ruby/2.0.0/x86_64-darwin11.4.2/pg_ext.bundle 
```

我只是将 pg_ext.bundle 复制到 2.0.0-p247 的 lib 目录中，就像 1.9.3 版本一样。

另请注意，最后的奇怪目录（如 gem 安装程序）将其放在错误的位置。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-07-22T18:09:07.313

还有fedora x64 env。我的 pg_ext.so 已经在 /usr/local/share/gems/gems/pg-0.15.1/lib/ 中。我不得不编辑 /usr/local/share/gems/gems/pg-0.15.1/lib/pg.rb 并手动指定 pg_ext 的位置：

```
 require '/usr/local/share/gems/gems/pg-0.15.1/ext/pg_ext.so' 
```

# sqlite - 将大数据插入 SQLITE3 i-phone

> ID：15898373
> 
> 赞同：0
> 
> 时间：2013-04-09T09:32:33.497
> 
> 标签：sqlite

```
插入`words`（`id`，`word`）值
(1, 'aa'),
(2, '啊'),
(3, 'aal'),
(4, 'aalii'),
（5，“土豚”），
（6，“土豚”），
(7, '土狼'),
（8，“土狼”），
(9, '啊'),
（10，'aarrghh'），
（11，'aasvogel'），
（12，'aasvogels'），
(13, 'ab'),
(14, 'aba'),
（15，'蕉麻'），
（16，'蕉麻'），
(17, '算盘'),
(18, '后退'),
（19，“算盘”），
（20，“算盘”），
(21, '后面'),
(22, '鲍鱼'),
(23, '鲍鱼'),
(24, 'abampere'),
（25，“安培”），
(26, '放弃'),
(27, '被遗弃'),
(28, '被遗弃的'),
(29, '放弃'),
(30, '放弃'),
（31，'卑​​鄙'），
(32, '贬低'),
(33, '贬低'),
(34, 'abases'),
(35, 'abash'),
(36, '羞愧'),
（37，“害羞”），
（38，“羞辱”），
（39，“羞愧”），
(40, 'abashments'),
（41，“贬低”），
(42, '可减轻的'),
(43, '减弱'),
(44, '减弱'),
（45，“减排”），
（46，“减排”），
(47, '减弱'),
（48，“减弱”），
(49, 'abatis'),
(50, 'abator'),
(51, 'abators'),
（52，“阿巴蒂斯”），
(53, 'battises'),
(54, '屠宰场'),
（55，“屠宰场”），
（56，'背轴'），
（57，'阿爸'），
（58，“修道院”），
(59, 'abbacy'),
(60, '阿巴斯'),
（61，'abbatial'），
(62, '阿贝'),
（63，“阿比斯”），
（64，“阿贝斯”），
（65，“女修道院”），
（66，“修道院”），
（67，“修道院”），
(68, '方丈'),
(69, 'abbotcy'),
(70, '方丈'),
(71, '缩写'),
(72, '退位'),
(73, '退位'),
（74，'退位'），
（75，'退位'），
（76，'退位'），
(77, '退位者'),
（78，'退位者'），
(79, '腹部'),
（80，“腹部”），
（81，“腹部”），
（82，'腹部'），
(83, '绑架'),
(84, '绑架'),
（85，“绑架”），
（86，“诱拐”），
(87, '绑架'),
（88，“被绑架”），
(89, '被绑架者'),
（90，“被绑架者”），
(91, '绑架'),
（92，“绑架”），
（93，“绑架”），
(94, '绑架者'),
（95，“绑架者”），
（96，“绑架”），
(97, '正相'),
(98, '承受'),
(99, '轴承'),
(100, '熊'),
（101，“床”），
(102, 'abeigh'),
（103，“阿贝尔”），
（104，'abeles'），
（105，“阿贝利亚”），
(106, 'aberdevine'),
（107，'异常'），
(108, '异常'),
（109，“异常”），
（110，“畸变”），
（111，“异常”），
（112，“畸变”），
（113，“异常”），
（114，'畸变'），
（115，“虐待”），
（116，“教唆”），
（117，“教唆”），
（118，“教唆”），
（119，“教唆”），
（120，“教唆”），
(121, 'abettals'),
（122，“教唆”），
（123，“更好”），
（124，“教唆”），
（125，“教唆”），
（126，“教唆者”），
（127，“教唆者”），
（128，“暂停”），
（129，“暂停”），
（130，'abeyancies'），
（131，“暂时”），
(132, '暂时停止'),
(133, '厌恶'),
(134, '厌恶'),
（135，“憎恶”），
（136，“憎恶”），
（137，“可恶”），
（138，“憎恶者”），
（139，“憎恶者”），
（140，“可恶”），
（141，“厌恶”），
（142，'坚持'），
（143，“遵守”），
(144, '常驻'),
（145，“遵守”），
(146, '遵守'),
（147，'遵守'），
（148，'坚持'），
(149, '持久地'),
（150，“住所”），
（151，“冷杉”），
（152，'abieses'），
（153，“阿比盖尔”），
（154，“阿比盖尔”），
（155，“能力”），
(156, '能力'),
（157，'abiogenist'），
（158，'abioses'），
（159，'abiosis'），
（160，'非生物'），
（161，“下贱”），
（162，“受挫”），
(163, '卑微'),
(164, '落魄'),
（165，“落魄”），
（166，“惨不忍睹”），
（167，“落魄”），
（168，“下贱”），
(169, 'abjoint'),
（170，'ajointed'），
（171，'相聚'），
（172，“住持”），
（173，“弃权”），
（174，“戒律”），
（175，“弃绝”），
（176，“弃绝”），
(177, 'abjurer'),
(178, 'abjurers'),
（179，“弃权”），
（180，“放弃”），
（181，“消融”），
（182，'消融'），
（183，“消融”），
（184，“消融”），
（185，“消融”），
（186，“消融”），
（187，'ablatival'），
（188，'烧蚀'），
（189，'烧蚀'），
（190，“消融器”），
（191，“消融器”），
（192，'ablaut'），
（193，'ablauts'），
（194，'燃烧'），
（195，“能”），
（196，“能干”），
（197，“最有能力”），
（198，'ablet'），
（199，“片剂”），
(200, 'ablins'),
（201，“开花”），
（202，“吹”），
（203，'脸红'），
（204，“洗礼”），
（205，“沐浴”），
（206，'ablutomane'），
（207，“巧妙”），
(208, '放弃'),
(209, '弃权'),
(210, '弃权'),
（211，'放弃'），
(212, '弃权'),
(213, '弃权者'),
(214, '弃权者'),
(215, '异常'),
(216, '异常'),
(217, '异常'),
(218, '异常'),
（219，“登机”），
（220，“住所”），
（221，“住所”），
（222，“住所”），
(223, 'aboideau'),
(224, 'aboideaus'),
（225，'aboideaux'），
（226，'煮沸'），
（227，'aboiteau'），
(228, 'aboiteaus'),
（229，'aboiteaux'），
(230, '废除'),
(231, '废止'),
(232, '废除者'),
(233, '废除者'),
(234, '废除'),
(235, '废除'),
(236, '废除'),
（237，“废除”），
(238, 'abolla'),
(239, 'abollae'),
(240, 'abollas'),
(241, 'abomasa'),
（242，'厌恶'），
(243, '厌恶'),
(244, '厌恶'),
（245，'厌恶'），
(246, '可恶'),
（247，“可恶”），
(248, '可憎'),
（249，“可恶”），
（250，“可憎”），
(251, '厌恶者'),
（252，'丰富'），
（253，“丰盈”），
（254，'aboral'），
(255, '中止'),
(256, '中止'),
(257, '终止'),
(258, 'abords'),
（259，“以前”），
(260, '原住民'),
(261, '原住民'),
(262, '原住民'),
（263，“出生”），
(264, '出生'),
(265, '中止'),
(266, '中止'),
（267，'堕胎'），
(268, '中止'),
(269, '堕胎'),
（270，'流产'），
（271，“堕胎”），
（272，'流产'），
（273，'流产'），
（274，“中止”），
(275, '买'),
（276，“阿布利亚”），
（277，“比比皆是”），
（278，'丰富'），
（279，'丰富'），
（280，'丰富'），
(281, '关于'),
(282, '关于'),
(283, '以上'),
(284, '磨损的'),
(285, '磨料'),
（286，“磨损”），
（287，“磨损”），
（288，'磨蚀'），
（289，“磨损者”），
（290，“磨损”），
（291，“磨损”），
(292, 'abraid'),
（293，“已删除”），
（294，“编织”），
(295, 'abraids'),
（296，“亚伯兰”），
(297, 'abranchial'),
(298, '磨损'),
（299，“磨损”），
(300, '磨料'),
（301，“磨损”），
(302, '磨料'),
（303，'abraxas'），
（304，'abraxases'），
（305，'abray'），
（306，'abrazo'），
（307，'abrazos'），
（308，“解除”），
（309，“解除”），
（310，“缓解”），
(311, '解除'),
(312, 'abreacts'),
(313, '并列'),
（314，'abrege'），
（315，'abricock'），
(316, 'abridge'),
（317，“删节”），
（318，'abridger'），
（319，'abridgers'），
（320，“删节”），
（321，“删节”），
(322, '删节'),
（323，'abrim'），
（324，'abrin'），
（325，'abroach'），
(326, '国外'),
(327, '废除'),
(328, '废止'),
（329，“废除”），
(330, '废除'),
(331, '废止'),
(332, '废止'),
(333, '废止者'),
（334，'废止者'），
（335，“突然”），
（336，“破坏者”），
(337, '突然的'),
(338, '早产'),
（339，“早产”），
（340，'突然'），
(341, '突然性'),
(342, '脓肿'),
(343, '脓肿'),
(344, '脓肿'),
(345, 'abscind'),
(346, '离群'),
(347, 'abscinding'),
(348, 'abscinds'),
(349, '脱落'),
(350, '脱落'),
(351, 'abscises'),
（352，'脱落'），
(353, '离去'),
(354, 'abscisins'),
(355, '横坐标'),
(356, '横坐标'),
(357, '横坐标'),
(358, '横坐标'),
(359, '横坐标'),
(360, 'abscisses'),
(361, 'abscissin'),
(362, 'abscissins'),
(363, '脱落'),
(364, '潜逃'),
(365, '潜逃'),
(366, '潜逃者'),
(367, '潜逃者'),
(368, '潜逃'),
(369, '潜逃'),
（370，“绳索”），
(371, '绳索'),
(372, '绳降'),
(373, '绳降'),
（374，“绳索”），
（375，“缺席”），
(376, '缺勤'),
（377，“缺席”），
(378, '缺席'),
(379, '缺席'),
(380, '缺勤'),
(381, '缺席'),
(382, '不在场'),
（383，“缺席”），
(384, 'absey'),
（385，“苦艾酒”），
（386，“苦艾酒”），
（387，“苦艾酒”），
（388，“苦艾主义”），
（389，“苦艾酒”），
（390，“弃权”），
（391，“绝对”），
(392, '绝对'),
(393, '赦免'),
（394，“绝对主义”），
（395，“绝对主义者”），
(396, '绝对的'),
（397，“赦免”），
（398，“赦免”），
（399，“赦免者”），
（400，“赦免者”），
（401，“赦免”），
（402，'免除'），
（403，'免除者'），
（404，'不谐音'），
（405，“吸收”），
（406，“可吸收”），
（407，“吸收”），
(408, '全神贯注'),
(409, '吸光度'),
（410，“吸收性”），
（411，“吸收剂”），
(412, '吸收器'),
（413，“吸收器”），
(414, '吸收'),
（415，“吸收”），
（416，“吸收”），
（417，“吸收”），
(418, '弃权'),
(419, '弃权'),
（420，'弃权'），
(421, '弃权者'),
(422, '弃权'),
(423, '弃权'),
（424，'节制'），
(425, '弃权'),
（426，'absterge'），
（427，'absterged'），
(428, 'abstergent'),
（429，'absterges'），
（430，'absterging'），
(431, 'abstersion'),
(432, 'absterious'),
(433, '禁欲'),
(434, '禁欲'),
(435, '禁欲'),
（436，“抽象”），
（437，'抽象'），
（438，'抽象'），
（439，“抽象地”），
（440，'抽象'），
（441，“摘要”），
（442，'抽象'），
(443, 'abstricted'),
（444，'抽象'），
（445，“深奥”），
（446，“深奥”），
（447，'abstruser'），
（448，“最深奥的”），
（449，“荒谬”），
（450，“荒谬”），
（451，“最荒谬的”），
（452，“荒诞主义”），
（453，“荒诞主义者”），
（454，“荒诞主义者”），
（455，“荒谬”），
（456，“荒谬”），
（457，“荒谬”），
（458，'abulia'），
（459，“阿布纳”），
（460，“阿布纳斯”），
（461，'丰富'），
（462，'丰富'），
（463，'丰富'），
(464, '丰富'),
(465, '大量'),
（466，'abune'），
（467，'突发'），
（468，“滥用”），
（469，“滥用”），
（470，“滥用”），
（471，“滥用”），
（472，“施虐者”），
（473，“施虐者”），
（474，“滥用”），
（475，“滥用”），
（476，“虐待”），
（477，“虐待”），
（478，'辱骂'），
（479，'滥用'），
（480，'邻接'），
（481，'abutilon'），
（482，'abutilons'），
(483, '基台'),
（484，“基台”），
(485, '邻接'),
(486, '邻接'),
（487，“基台”），
（488，'邻接'），
(489, '黄油'),
（490，'对接'），
(491, '邻接'),
（492，“嗡嗡声”），
（493，'abvolt'），
（494，'abvolts'），
（495，'aby'），
（496，“再见”），
(497, '再见'),
（498，“再见”），
（499，“忍耐”），
（500，“深渊”），
（501，“糟糕透顶”），
（502，'非常小'），
（503，“深渊”），
（504，“深渊”），
（505，“深渊”），
（506，“深渊”），
(507, '金合欢'),
(508, '金合欢'),
（509，“学术”），
（510，“学者”），
（511，“学术界”），
（512，“学术”），
（513，“学术”），
（514，“学者”），
（515，“学院”），
（516，“学院派”），
（517，“学院派”），
（518，“学者”），
（519，“学院”），
（520，'acajou'），
（521，'acajous'），
(522, 'acaleph'),
（523，'acalephan'），
（524，'acalephans'），
（525，'acalephas'），
（526，'acalephe'），
(527, 'acalephes'),
（528，'acalephs'），
(529, 'acanaceous'),
（530，'acanth'），
（531，'棘轮'），
（532，'棘轮'），
(533, '棘皮素'),
（534，'acanthine'），
（535，'棘皮细胞'），
（536，'棘刺'），
(537, '老鼠'),
（538，'老鼠'），
（539，“棘轮”），
（540，“无碳酸血症”），
（541，'阿卡里'），
(542, 'acarian'),
(543, '螨虫病'),
(544, '杀螨剂'),
(545, '杀螨剂'),
(546, '螨虫'),
(547, 'acaridan'),
(548, 'acaridans'),
(549, 'acaridean'),
（550，“螨虫”），
（551，“螨虫”），
(552, '螨虫'),
(553, '螨虫'),
(554, 'acarology'),
(555, 'acarpelous'),
(556, '果皮'),
(557, 'acarus'),
(558, '强直性痴呆'),
(559, 'acater'),
（560，'acaters'），
（561，'acates'），
（562，'acatour'），
（563，'acatours'），
（564，'acaudal'），
（565，'aaudate'），
（566，'acauline'），
（567，'acaulose'），
（568，“准确”），
(569, '加入'),
（570，“加入”），
（571，“准入”），
（572，'访问'），
(573, 'acceder'),
(574, 'acceders'),
（575，“加入”），
(576, '加入'),
(577, '促进剂'),
（578，“加速”），
（579，'accend'），
（580，'升序'），
（581，“升序”），
（582，'口音'），
（583，“重音”），
（584，“重音”），
（585，'重音'），
（586，'重音'），
（587，'口音'），
（588，'口音'），
（589，“强调”），
（590，“接受”），
（591，“可接受”），
(592, '可以接受'),
(593, '接受'),
(594, '接受'),
（595，'接受'），
(596, '接受者'),
（597，“接受”），
（598，“接受”），
(599, '接受者'),
（600，“接受者”），
(601, '接受'),
(602, '接受'),
(603, '接受者'),
（604，“接受者”），
（605，“接受”），
（606，'访问'），
(607, '附属的'),
（608，'访问'），
（609，'访问'），
(610, '可访问'),
(611, '可访问'),
(612, '访问'),
(613, '加入'),
(614, '加入'),
(615, '附件'),
(616, '事故'),
(617, '事故'),
（618，“意外”），
(619, '意外'),
（620，“事故”），
（621，“意外”），
（622，'阿齐奇'），
(623, '加入'),
（624，'阿齐奇斯'），
（625，'accing'），
（626，'阿克皮特'），
（627，'accipiters'），
（628，“煽动”），
（629，“意外”），
（630，“活动”），
（631，“触发”），
（632，“赞誉”），
（633，“广受赞誉”），
（634，'赞叹'），
（635，“赞誉”），
（636，“适应”），
（637，'适应'），
（638，“适应”），
(639, 'acclitivity'),
（640，'活跃'），
（641，'accloy'），
（642，“相亲”），
（643，“搭讪”），
（644，“搭讪”），
（645，“搭讪”），
(646, 'acil'),
（647，'acoils'），
(648, '荣誉'),
(649, '荣誉'),
(650, '陪伴'),
(651, '共犯'),
(652, '完成'),
（653，“完成”），
(654, '伴奏'),
（655，'完成'），
（656，“配合”），
(657, '伴奏'),
（658，'acrage'），
(659, '一致'),
(660, '符合要求'),
(661, '根据'),
(662, '一致性'),
(663, '一致'),
（664，“根据”），
(665, '雅阁'),
（666，'手风琴'），
(667, '根据'),
(668, '手风琴'),
(669, '手风琴'),
(670, '协议'),
（671，“搭讪”），
(672, '讨人喜欢'),
(673, '搭讪'),
（674，“搭讪”），
（675，“搭讪”），
(676, 'acoucheur'),
(677, '帐户'),
(678, '会计师'),
(679, '记帐'),
（680，'会计'），
（681，'帐户'），
(682, 'accurage'),
(683, '雅阁'),
(684, '受人尊敬的'),
（685，'雅阁'），
（686，“礼节”），
（687，'acouter'），
（688，'acutered'），
（689，'acouters'），
（690，“服装”），
（691, 'accounted'）,
（692，“服饰”），
（693，'会计'），
(694, 'accoy'),
(695, '认证'),
（696，“认可”），
（697，“认证”），
(698, '增加'),
(699, '增加'),
（700，'增加'），
(701, 'accretes'),
（702，“增加”），
（703，'吸积'），
（704，“积聚”），
（705，“增值”），
（706，“应计”），
（707，“应计”），
（708，“应计”），
（709，“应计”），
（710，“累积”），
(711, '累积'),
(712, '蓄积'),
（713，“文化”），
（714，“卧床”），
（715，“在职”），
（716，“积累”），
（717，“准确度”），
（718，“准确度”），
（719，“准确”），
（720，“准确”），
（721，“诅咒”），
（722，'被诅咒'），
（723，“该死的”），
（724，“诅咒”），
（725，'诅咒'），
（726，'accurst'），
（727，'可指责'），
（728，“指责”），
（729，“指控”），
（730，“指控”），
(731, '宾格'),
（732，“指责”），
（733，“指责”），
（734，“被告”），
(735, '原告'),
（736，“原告”），
（737，“指控”），
（738，“指责”），
（739，“指责”），
（740，“习惯”），
（741，“习惯”），
(742, '习惯'),
（743，'王牌'），
（744，'高手'），
（745，'acedia'），
（746，“无细胞”），
（747，“无头”），
(748, '蜡质'),
（749，'acerate'），
（750，'尖酸刻薄'），
（751，“恶化”），
（752，“恶化”），
（753，“恶化”），
（754，“恶化”），
(755, '尖酸的'),
（756，“酸涩”），
（757，“酸涩”），
（758，'acerose'），
(759, '辛辣的'),
（760，“宏基”），
（761，“加剧”），
(762, '强烈地'),
（763，'aservation'），
（764，“王牌”），
（765，'acescence'），
（766，'acscency'），
（767，'accent'），
(768, '髋臼'),
(769, '髋臼'),
(770, '髋臼'),
(771, '乙缩醛'),
（772，'缩醛'），
(773, '乙酰胺'),
（774，“醋酸盐”），
（775，“醋酸盐”），
（776，“醋酸”），
(777, '醋酸化'),
（778，“醋酸化”），
(779, '醋酸化'),
（780，“醋酸化”），
(781, '丙酮'),
(782, '丙酮'),
(783, '醋酸'),
（784，“醋酸”），
（785，'乙酰'），
(786, '乙炔'),
（787，'achage'），
（788，'achages'），
（789，'acharne'），
（790，“疼痛”），
（791，“疼痛”），
（792，'瘦果'），
（793，'瘦果'），
（794，'achenial'），
（795，'achenium'），
（796，'acheniums'），
（797，“疼痛”），
（798，'achier'），
（799，“最成功”），
（800，“可实现”），
（801，“实现”），
（802，'实现'），
（803，'成就者'），
（804，'成就者'），
（805，“实现”），
（806，“实现”），
(807, '蓍草'),
（808，'阿基利亚斯'），
（809，'achimenes'），
（810，“疼痛”），
(811, '痛心地'),
（812，'疼痛'），
（813，“阿克坎”），
（814，'achkans'），
（815，'消色差'），
（816，'消色差'），
（817，'染色质'），
（818，'消色差'），
（819，“疼痛”），
（820，'针状'），
（821，'aciculate'），
（822，'aciculated'），
(823, '酸'),
（824，“酸头”），
（825，“酸头”），
（826，“酸性”），
(827, '酸化'),
（828，“酸化剂”），
（829，“酸化剂”），
（830，“酸化”），
（831，“酸化”），
（832，'酸化'），
（833，'酸度计'），
（834，'酸度测定'），
（835，“酸度”），
（836，'酸味'），
（837，“酸度”），
（838，“酸中毒”），
（839，“酸”），
（840，“酸化”），
（841，“酸化”），
（842，“酸化”），
（843，'酸味'），
（844，'酸味'），
（845，'acierage'），
（846，'acierate'），
(847, 'aciated'),
(848, 'acierates'),
（849，“激活”），
（850，'acieration'），
（851，'aciform'），
(852, '腺泡'),
（853，“王牌”），
(854, '腺泡'),
(855, '腺泡状'),
(856, 'acinose'),
(857, '腺泡'),
(858, '腺泡'),
（859，'ackee'），
（860，'ackees'），
（861，'确认'），
（862，“诊所”），
（863，'极致'），
（864，'acmes'），
（865，'acmite'），
（866，'acmites'），
（867，“痤疮”），
（868，'阿科克'），
（869，'acoemeti'），
（870，“冷”），
（871，'acoluthic'），
(872, '追随者'),
（873，“追随者”），
(874, '附子'),
(875, '附子'),
(876, '附子'),
(877, '乌头碱'),
(878, '乌头'),
(879, '乌头'),
(880, '橡子'),
(881, '橡子'),
(882, '橡子'),
（883，“宇宙主义”），
（884，“宇宙学家”），
（885，“宇宙学家”），
(886, '子叶植物'),
（887，'acouchi'），
（888，'aouchies'），
（889，'aouchy'），
（890，“声学”），
（891，“声学”），
（892，“声学”），
(893, '熟悉'),
(894, '熟悉'),
(895, '熟人'),
（896，“获取”），
(897, 'acquests'),
(898, '默认'),
(899, '默认'),
(900, '默认'),
（901，“获得”），
(902, '获得'),
（903，'获得'），
(904, '可获取的'),
（905，'获取'），
（906，“获得”），
（907，“获得”），
(908, '获取'),
（909，'收购'），
（910，“无罪”），
（911，“无罪”），
（912，“无罪”），
（913，“无罪”），
（914，“认罪”），
（915，“认罪”），
（916，'无罪'），
（917，“无罪释放”），
（918，“无罪释放”），
（919，'无罪'），
（920，'无罪'），
（921，'爬行'），
(922, '英亩'),
（923，“面积”），
(924, '英亩'),
（925，“英亩”），
（926，“辛辣”），
(927, '吖啶'),
（928，“酸味”），
(929, '吖啶黄素'),
(930, '尖酸刻薄'),
（931，'杂技'），
（932，“杂技演员”），
(933, '杂技'),
(934, '杂技'),
(935, '杂技'),
(936, '杂技演员'),
(937, 'acrogen'),
(938, 'acrogenic'),
(939, 'acrogenous'),
（940，'acrogens'），
(941, '丙烯醛'),
（942，'acrolith'），
（943，'acrolithic'），
（944，'acroliths'），
（945，“肢端肥大症”），
(946, '手足病'),
(947, '肩峰'),
(948, '肩峰'),
(949, '缩略语'),
（950，'缩写'），
（951，'缩写'），
(952, '首字母缩写词'),
(953, '首字母缩写词'),
（954，'首字母缩写'），
(955, '首字母缩略词'),
（956，'顶冠'），
（957，“恐高症”），
(958, 'acrophonic'),
(959, 'acrophony'),
（960，'卫城'），
(961, '顶体'),
(962, '顶体'),
（963，'acrospire'），
（964，'acrospires'），
（965，“跨越”），
（966，'离合'），
(967, 'acrostics'),
（968，'acroter'），
（969，'acroteria'），
（970，'acroterial'），
（971，'acroterion'），
（972，'acroterium'），
（973，'acroters'），
（974，'acrotism'），
（975，“亚克力”），
（976，'丙烯酸树脂'），
（977，“行动”），
（978，“行动”），
（979，“可操作性”），
（980，​​'可操作'），
（981，“行动”），
（982，“肌动蛋白”），
（983，'actinal'），
（984，'实际上'），
(985, '演戏'),
(986, '演技'),
(987, '猕猴桃'),
（988，'猕猴桃'），
（989，'actinian'），
（990，'actinians'），
（991，'猕猴桃'），
（992，'光化'），
(993, '锕系元素'),
(994, '锕系元素'),
（995，“行动主义”），
（996，'锕'），
（997，'actinoid'），
（998，'actinoids'），
(999, '阳起石'),
（1000，'actinon'），
(1001, '动作'),
（1002，“可操作”），
（1003，'可操作'），
（1004，“行动”），
（1005，“行动”），
（1006，“行动”），
(1007, '激活'),
(1008, '激活'),
（1009，“激活”），
(1010, '激活'),
(1011, '激活'),
(1012, '激活器'),
（1013，“激活剂”），
(1014, '活动'),
(1015, '积极地'),
(1016, '活跃度'),
（1017，“激进主义”），
（1018，“活动家”），
（1019，“活动家”），
（1020，“活动”），
（1021，“活动”），
（1022，“行动”），
（1023，'行动'），
（1024，“演员”），
（1025，“演员”），
（1026，“女演员”），
（1027，“女演员”），
（1028，“女演员”），
（1029，“行为”），
（1030，“实际”），
（1031，“实现”），
（1032，“实现”），
（1033，“实现”），
（1034，“现实主义者”），
（1035，“现实主义者”），
（1036，“现实”），
（1037，“实现”），
（1038，“实现”），
（1039，“实现”），
（1040，“实际上”），
（1041，'精算'），
（1042，“精算师”），
(1043, '精算师'),
（1044，“启动”），
（1045，“启动”），
（1046，“启动”），
（1047，“致动”），
（1048，“致动”），
（1049，“致动”），
(1050, '执行器'),
（1051，“执行器”），
（1052，'动作'），
（1053，“敏锐度”），
（1054，'aculeate'），
（1055，'aculeated'），
（1056，'aculeus'），
（1057，“敏锐”），
（1058，“敏锐”），
（1059，“敏锐”），
（1060，'敏锐'），
(1061, '锐化'),
(1062, '敏锐的'),
(1063, '穴位'),
(1064, '穴位'),
（1065，'acushla'），
（1066，'acushlas'），
（1067，“急性”），
（1068，'急性'），
（1069，'急性'），
（1070，“更尖锐”），
（1071，'最严重'），
（1072，'非循环'），
（1073，“阿昔洛韦”），
（1074，“酰基”），
(1075, '广告'),
（1076，'adactylous'），
（1077，“格言”），
（1078，“格言”），
(1079, '慢板'),
（1080，'慢板'），
(1081, '坚定的'),
(1082, '金刚'),
(1083, '精金'),
（1084，“坚决”），
（1085，“固执己见”），
（1086，“适应”），
（1087，“适应性强”），
（1088，“适应”），
（1089，“自适应”），
（1090，“适应”），
（1091，“适配器”），
（1092，“适配器”），
（1093，“适应”），
（1094，“适应”），
（1095，“改编”），
（1096，“自适应”），
（1097，“自适应”），
（1098，“适配器”），
（1099，“适配器”），
（1100，“适应”），
（1101，'adaw'），
（1102，“近轴”），
（1103，“天”），
（1104，“添加”），
（1105，'addax'），
（1106，'addaxes'），
(1107, '欠债'),
（1108，“添加”），
（1109，'addeem'），
（1110，'加'），
（1111，“附录”），
（1112，“加法”），
（1113，“附录”），
（1114，“加法器”），
（1115，“加法器”），
（1116，“阿德斯通”），
（1117，'adderwort'），
（1118，'adderworts'），
（1119，“瘾君子”），
（1120，“上瘾”），
（1121，“上瘾”），
（1122，“上瘾”），
（1123，“成瘾”），
（1124，“上瘾”），
（1125，“瘾君子”），
（1126，“添加”），
（1127，“附加”），
（1128，“附加”），
（1129，“补充”），
（1130，“加法”），
（1131，“附加”），
（1132，“补充”），
（1133，“加法”），
（1134，“加法”），
(1135, '添加剂'),
（1136，'add'），
（1137，'沉迷'），
（1138，“补充”），
（1139，'addles'），
（1140，“令人发指”），
（1141，'addoom'），
（1142，“添加”），
（1143，“地址”），
（1144，“解决”），
（1145，“收件人”），
（1146，“收件人”），
（1147，'地址'），
（1148，'地址'），
（1149，“地址”），
（1150，'寻址'），
（1151，“地址”），
（1152，“地址”），
（1153，'地址'），
（1154，“添加”），
（1155，“引证”），
（1156，“引申”），
(1157, '内收'),
（1158，“引诱者”），
（1159，“引诱者”），
（1160，“引证”），
（1161，“可引”），
（1162，“引诱”），
(1163, '加合物'),
(1164, '内收'),
（1165，'加法'），
(1166, '内收'),
（1167，“引证”），
（1168，“引诱”），
（1169，“内收肌”），
（1170，“内收肌”），
（1171，“加合物”），
（1172，'adeem'），
(1173, '认定'),
（1174，'认为'），
（1175，“认为”），
（1176，'adelantado'），
（1177，“赎罪”），
（1178，“认领”），
（1179，“腺切除术”），
(1180, '腺嘌呤'),
（1181，“腺炎”），
(1182, '腺样体'),
(1183, '腺样体'),
(1184, '腺样体'),
（1185，“腺瘤”），
(1186, '腺瘤'),
(1187, '腺瘤'),
(1188, '腺苷'),
（1189，“腺病毒”），
（1190，'熟练'），
（1191，'熟练地'），
(1192, '熟练度'),
(1193, '行家'),
（1194，“充分性”），
（1195，“足够”），
（1196，“足够”），
（1197，“足够”），
(1198, '足够的'),
（1199，'管理员'），
（1200，“无声”），
（1201，'adharma'），
(1202, '坚持'),
（1203，“坚持”），
（1204，“坚持”），
（1205，'坚持'），
（1206，'坚持'），
（1207，“信徒”），
(1208, '追随者'),
(1209, '追随者'),
(1210, '坚持'),
（1211，“坚持”），
(1212, '附着力'),
（1213，'粘着'），
(1214, '粘合剂'),
（1215，“粘合剂”），
（1216，“粘合剂”），
（1217，“粘贴”），
（1218，'已粘贴'），
（1219，“坚持”），
(1220, '粘附'),
（1221，'adhibits'），
（1222，'绝热'），
（1223，'adiaphora'），
（1224，'adiaphoron'），
（1225，“再见”），
（1226，'告别'），
（1227，“再见”），
（1228，“异乡”），
（1229，“阿迪奥斯”），
(1230, '己二酸'),
（1231，'adipocere'），
（1232，“脂肪”），
（1233，“肥胖”），
（1234，“阿迪特”），
（1235，“补充”），
（1236，'邻接'），
（1237，'相邻'），
（1238，'相邻'），
(1239, '形容词'),
(1240, '形容词'),
(1241, '形容词'),
(1242, '毗邻'),
（1243，'毗邻'），
(1244, '相邻'),
（1245，'毗邻'），
(1246, '伴随'),
(1247, '休会'),
（1248，“延期”），
（1249，'休会'），
（1250，“休会”），
(1251, '判决'),
(1252, '判决'),
（1253，“法官”），
（1254，'裁决'），
(1255, '判决'),

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T16:37:38.100

SQLite 在一个`INSERT`命令中限制为 500 条记录。把它分开。

# python - Python：需要提取特定列及其值并将其保存到python中的文本文件中

> ID：15898376
> 
> 赞同：-3
> 
> 时间：2013-04-09T09:32:38.167
> 
> 标签：python

我需要在文本文件中提取列“VON MISES”的值，并希望提取该列名称下方的值。我尝试拆分列但无法弥补结果。我是 python 新手。请帮助我。在此先感谢。我正在复制我必须工作的文本文件部分。我需要最后一列的值作为答案

```
# open file
f = open ("new.txt","r")

#Read whole file into data
data = f.read()

# Print it
print data
line_number=1
for num,line in enumerate(open("new.txt")):
        if "VON MISES" in line:
            print num+1
f.close() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:18:14.330

你可以试试熊猫

```
import pandas as pd
df = pd.read_csv("new.txt", sep=',')
v_m = df['VON MISES']

out_file = open("out.txt", "w")
v_m.to_csv(out_file) 
```

# ruby-on-rails-3 - 如何提取与rails中的控制器调用一起发送的参数的完整哈希？

> ID：15898377
> 
> 赞同：1
> 
> 时间：2013-04-09T09:32:38.933
> 
> 标签：ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我可以像 params[:id] 一样一一提取，但是如何像 params[:all] 或 parameters['all'] 一样提取所有这些。

```
Parameters: {"id"=>"aom7v66e309yjkd2x0aq", "video_type"=>"trailer"} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:38:34.777

Rails 参数是 的实例[`HashWithIndifferentAccess`](http://api.rubyonrails.org/classes/ActiveSupport/HashWithIndifferentAccess.html)，是 的子类[`Hash`](http://www.ruby-doc.org/core/Hash.html)。

```
params.class
# => HashWithIndifferentAccess
params.is_a? Hash
# => true 
```

`Hash`你可以得到整个`params`：

```
params
# => {"id"=>"aom7v66e309yjkd2x0aq", "video_type"=>"trailer"} 
```

或者[`#to_hash`](http://api.rubyonrails.org/classes/ActiveSupport/HashWithIndifferentAccess.html#method-i-to_hash)如果你需要一个普通的`Hash`：

```
params.to_hash
# => {"id"=>"aom7v66e309yjkd2x0aq", "video_type"=>"trailer"}
params.to_hash.class
# => Hash 
```

键[`#keys`](http://www.ruby-doc.org/core-2.0/Hash.html#method-i-keys)：

```
params.keys
# => ["id", "video_type"] 
```

并且具有以下值的值[`#values`](http://www.ruby-doc.org/core-2.0/Hash.html#method-i-values)：

```
params.values
# => ["aom7v66e309yjkd2x0aq", "trailer"] 
```

要提取特定密钥，您可以使用[`#slice`](http://api.rubyonrails.org/classes/Hash.html#method-i-slice)：

```
params = {"a"=>1, "b"=>2, "c"=>3}
params.slice("a", "c")
# => {"a"=>1, "c"=>3} 
```

或其对应物[`#except`](http://api.rubyonrails.org/classes/Hash.html#method-i-except)：

```
params = {"a"=>1, "b"=>2, "c"=>3}
params.except("b")
# => {"a"=>1, "c"=>3} 
```

# jrubyonrails - jruby on rails 与 jdbc

> ID：15898381
> 
> 赞同：1
> 
> 时间：2013-04-09T09:32:48.713
> 
> 标签：jrubyonrails

嗨，

我是 JRuby on Rails 的新手。我安装了 RadRails 和许多 gem：

宝石

*   活动记录（2.3.4）
*   ActiveRecord-JDBC (0.5)
*   activerecord-jdbc-适配器 (1.2.9)
*   activerecord-jdbcmysql-适配器 (1.2.9)
*   jdbc-mysql (5.1.24)

书： http: [//koti.kapsi.fi/jamo/priv2/JRuby%20on%20Rails,%202007.pdf](http://koti.kapsi.fi/jamo/priv2/JRuby%20on%20Rails,%202007.pdf)

我阅读了第 4 章中名为“商店管理”的以下部分，并将 config/database.yml 修改为：

```
development:
  adapter: jdbc
  driver: com.mysql.jdbc.Driver
  url: jdbc:mysql://my_host/my_database
  username: my_user
  password: my_pass 
```

我在构建路径中添加了以下内容：

```
C:\Program Files\Aptana RadRails\plugins\org.jruby_1.2.0.9419p2\lib\ruby\gems\1.8\gems\jdbc-mysql-5.1.24\ 
```

当我重新启动服务器时，出现以下错误：

```
Status: 500 Internal Server Error
  The driver encountered an error: cannot load Java class com.mysql.jdbc.Driver
    C:/Program Files/Aptana RadRails/plugins/org.jruby_1.2.0.9419p2/lib/ruby/gems/1.8/gems/ActiveRecord-JDBC-0.5/lib/active_record/connection_adapters/jdbc_adapter.rb:265:in `initialize'
    C:/Program Files/Aptana RadRails/plugins/org.jruby_1.2.0.9419p2/lib/ruby/gems/1.8/gems/ActiveRecord-JDBC-0.5/lib/active_record/connection_adapters/jdbc_adapter.rb:41:in `jdbc_connection' 
```

我想请你帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-12T13:22:49.240

您是否已将 jdbc jar 添加到您的类路径中？尝试将 jar 文件直接复制到`lib`您的 jruby 安装目录下。

例如`C:\jruby\lib\mysql-jdbc.jar`。

# c# - 泰语的子字符串

> ID：15898383
> 
> 赞同：0
> 
> 时间：2013-04-09T09:32:53.970
> 
> 标签：c#, string, substring

我面临一个非常有趣的问题。以下是我要从中获取子字符串的字符串。

```
 1¨Ñ§ËÇÑ´1xxxxxxxx 
```

索引 0-2（长度 3）是省 ID 索引 3-35（长度 32）是泰语的省名。

当我尝试采取子字符串省时，如下所示

```
string line = "1¨Ñ§ËÇÑ´1xxxxxxxx                ";
line.Substring(3,32).Trim(); 
```

这向我显示错误如下

```
Index and length must refer to a location within the string. 
```

请记住，当我调试时，代码行总长度显示为 33，应该是 35。省子字符串显示为 30。

以下是代码...

```
 using (StreamReader streamReader = new StreamReader("File06.txt"))
        {
            Console.WriteLine(".................. Content of " + file.Name + "..............");
            string codeOfProvince, nameOfProvince, line;
            while ((line = streamReader.ReadLine()) != null)
            {
                codeOfProvince = line.Substring(0, 3).Trim();
                nameOfProvince = line.Substring(3,32).Trim();
                Console.WriteLine("codeOfProvince {0}, nameOfProvince {1}", codeOfProvince , nameOfProvince );
            }
            Console.WriteLine("..............................................................");
            Console.WriteLine(); 
```

我相信这会对您有所帮助，并且该文件包含以下数据

```
 1¨Ñ§ËÇÑ´1xxxxxxxx                
  2¨Ñ§ËÇÑ´2xxxxxxxx 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:22:50.537

好的，所以我得到了答案。我正在使用 ANSI 编码读取文件。当我将文件更改为 UNICODE 编码时，它开始工作。

# plone - 当我使用 Ride with Plone 时，如何告诉机器人服务器重置测试夹具？

> ID：15898389
> 
> 赞同：2
> 
> 时间：2013-04-09T09:33:13.087
> 
> 标签：plone, robotframework

我正在尝试编写我的第一个机器人测试；我想使用[http://developer.plone.org/reference_manuals/external/plone.app.robotframework/happy.html#install-robot-tools中的广告](http://developer.plone.org/reference_manuals/external/plone.app.robotframework/happy.html#install-robot-tools)

我添加了

```
initialization =
    import os
    os.environ['PATH'] = os.environ['PATH'] + os.pathsep + '${buildout:directory}/bin' 
```

到我的`[robot]`部分，以便可以在骑行中单击“开始”运行测试。

它可以工作，但是第二次运行测试时，我仍然看到第一次测试运行创建的内容。

如何告诉机器人服务器回到刚刚初始化的状态？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T11:36:30.337

很容易（你应该把我扔进游泳池，因为我还没有在*plone.app.robotframework*的文档中记录这一点——我认为 RIDE 在 wxPython 2.9 上运行之前很难运行）。

在骑

1.  选择**运行**-选项卡
2.  将**执行配置文件**更改为**自定义脚本**
3.  单击**浏览**以从您的构建中选择**bin/robot**作为*运行测试的脚本*

单击**开始**。

从技术上讲**bin/robot**是**bin/pybot --listener plone.app.robotframework.RobotListener**的快捷方式（我不断重复**bin/**，因为*plone.app.robotframework*在 sys.path 中可用很重要）。Robot Framework Listener -interface 在[Robot Framework User Guide](http://robotframework.googlecode.com/hg/doc/userguide/RobotFrameworkUserGuide.html?r=2.7.7#using-listener-interface)中指定。

我们的侦听器在每次测试之前调用**bin/robot-server**（使用 XML-RPC）来为当前测试层调用 testSetUp-methods，并在每次测试之后调用 testTearDown-methods。这会重置夹具并隔离功能测试。

# android - 在sqlite android中查询“select where”返回没有匹配的数据

> ID：15898391
> 
> 赞同：0
> 
> 时间：2013-04-09T09:33:14.340
> 
> 标签：android, sqlite

我的查询`select where`子句有问题`sqlite`。当我尝试将数据`textView`与之匹配时，`database`它不会返回匹配的数据。

我的查询功能

```
public void cekPosisi(String txtAlamat) {
    String add = "";
    String alarm = "";
    Cursor cur = db.rawQuery("select * from task_table where alamat = '" + 
            txtAlamat + "'", null);
    if(cur.moveToFirst()) {
        add = cur.getString(5);
        alarm = "Anda ada tugas di lokasi: " + add;
        for (; !cur.isAfterLast(); cur.moveToNext()) {
            add = cur.getString(5);
            alarm = "Anda ada tugas di lokasi: " + add;
        }
    }
    if(add.equals("")) {
        add = "Anda tidak ada tugas di lokasi sekarang";
        alarm = "" + add;
    }
    Toast.makeText(this, alarm, Toast.LENGTH_LONG).show();
} 
```

实施于

```
//cek tugas
    this.cariTugas.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            txtAddr = teksAlamat.getText().toString();
            Log.d("alamat textView", txtAddr);
            cekPosisi(txtAddr);
        }
    }); 
```

在第一个代码中，它总是运行到`if(add.equals(""))`条件，所以它会显示“Anda tidak ada tugas di lokasi sekarang”......请帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:43:19.047

```
//cek tugas
    this.cariTugas.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            txtAddr = teksAlamat.getText().toString().trim();
            Log.d("alamat textView", txtAddr);
            if(txtAddr != null && !txtAddr.equals("")){
                cekPosisi(txtAddr);
            }else{
                Log.d("","Please enter value again");
            }
          }
      });

//if you have data in the database then you will have values accordingly 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:10:22.063

使用如下：

```
Cursor cur = db.rawQuery("select * from task_table where alamat = '%" + 
        txtAlamat + "%'", null); 
```

检查此[链接](http://www.w3schools.com/sql/sql_like.asp)有 LIKE Query 的示例。并且 hou 在 Query 中使用通配符（模式中缺少字母）。

**编辑：**

```
 Cursor cursor = db.rawQuery("select * from task_table where alamat = '%" + 
            txtAlamat + "%'", null);
    if(cursor){
        Toast.makeText(this, "no data", Toast.LENGTH_LONG).show();
    }
    if (cursor.moveToFirst()) {
                do {
                      add = cur.getString(5);
                      if(!add.equalsIgnoreCase("")){
                         alarm = "Anda ada tugas di lokasi: " + add;
                      }else{
                         add = "Anda tidak ada tugas di lokasi sekarang";
                         alarm = "" + add;
                      }
                } while (cursor.moveToNext());
            } 
```

# python - 更改数组的形状，以便绘制颜色 matplotlib 矩阵

> ID：15898393
> 
> 赞同：0
> 
> 时间：2013-04-09T09:33:17.603
> 
> 标签：python, list, matrix, matplotlib, wxpython

```
hl = [(1,109),(12,212),(21,23)]
highlightc = np.zeros([N, N])
c = len(highlightc)
colour = [0.21]*c
test = len(number_list) -c

this = [0.21]*test
colour.extend(this)
colour = np.array(colour)
colour = np.array(colour)
print len(number_list)
print colour

for x, y in hl:
    highlightc[x, y] = 1##set so binary matrix knows where to plot
h=ax.imshow(highlightc*colour), interpolation='nearest',cmap=plt.cm.spectral_r)
fig.canvas.draw() 
```

我正在尝试创建一个二进制矩阵，其中的图是不同的颜色。但是目前我有一个问题，因为它们的数组形状不同，所以颜色没有被绘制出来。我得到错误 `operands could not be broadcast together with shapes (160,160) (241)` ，我猜 (160*160) 是矩阵的大小，而 241 是颜色数组的大小。我有一个坐标数组，我把它变成了一个二进制数组`highlightc`。这绘制成功。然而，通过颜色，我得到了坐标数组的大小，并用它来填充数组来制作颜色。这显然是错误的。基本上我想要的是一定数量的 be `0.21`，其余的 be `1.0`。那么我怎样才能转动我得到的数组，使其具有形状`(160,160)`，以便以正确的颜色为正确的图着色

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T20:08:43.833

```
highlightc = np.ones([N, N])
for x, y in hl:
    highlightc[x, y] = .21 ##set so binary matrix knows where to plot
h=ax.imshow(highlightc*colour), interpolation='nearest',cmap=plt.cm.spectral_r, vmin=0, mvax=1)
fig.canvas.draw() 
```

是你所需要的全部。

`highlgihtc`将包含`1`无处不在，但它会在几个地方`0.21`。

# macports - 为什么 macports 更新后 mariadb 不监听端口 3306？

> ID：15898394
> 
> 赞同：1
> 
> 时间：2013-04-09T09:33:17.687
> 
> 标签：macports, mariadb

在 mariadb 端口更新后的某个时间点，她拒绝在启动时监听 3306。

我确保没有跳过网络指令，甚至尝试用“=OFF”添加一个，但什么也没做……但奇怪的是它*一直*在工作，而且“我没有改变任何东西”。

然而，当我跑步时：

`/opt/local/lib/mariadb/bin/mysqladmin variables -u root -p | grep skip_networking`

我认为跳过网络是开启的。

我的配置有这个：

```
[mysqld]
port            = 3306  
bind-address    = 127.0.0.1 
```

并且根本没有跳过网络设置。

即使通过命令行传递端口和绑定地址也不会让它监听。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T09:33:17.687

在 /opt/local/etc 的 grep 之后，原来有一个默认配置，里面有一个 skip-networking 指令：

`cat /opt/local/etc/mariadb/macports-default.cnf`

这只是因为在读取 /etc/my.cnf 之后，显然 /opt/local/etc/mariadb/my.cnf 文件也被读取了。（我使用过 /etc/my.cnf，从来没有编辑过另一个，但有些东西改变了——也许我编辑了默认值，它被更新覆盖了，虽然我不记得这样做了。）

`/opt/local/etc/mariadb/my.cnf`再次注释掉 macports-default.cnf 的 include in让她听了。

我想回想起来很清楚的解决方案，但我有点难过，因为我发誓“我什么都没改变！”......不管怎样——为了后代和关键词搜索！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-12T10:10:05.857

作为注释掉默认文件的替代方法，可以在以下内容中覆盖该值`my.cnf`：

```
[mysqld]
...
skip_networking=0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-27T15:51:21.333

我还不能发表评论，但想补充一下：

如果您通过 MacPorts 安装了其他版本的 MySQL 或 mariaDB，请务必检查它们的配置文件，因为 MariaDB 会读取它们。

*地点：*

`/opt/local/etc/mysql${mysqlVersion}/my.cnf`

`/opt/local/etc/mariadb-${mariadbVersion}/my.cnf`

我安装了 mariadb-10.1-server。*有两个配置：*

`/opt/local/etc/mariadb/my.cnf`

`/opt/local/etc/mariadb-${mariadbVersion}/my.cnf`

[此外，来自 MirandaDB文档](https://mariadb.com/kb/en/mariadb/mysqld-configuration-files-and-groups/)的一些关于默认配置文件的信息（这*不是*Macports 特定的）：

1.  `/etc/my.cnf`
2.  `/etc/mysql/my.cnf`
3.  `my.cnf`在`DEFAULT_SYSCONFDIR`编译期间指定
4.  `my.cnf`在路径中，在环境变量中`MYSQL_HOME`指定（如果有） 中指定的文件`--defaults-extra-file`（如果有）
5.  `user-home-dir/.my.cnf`

# css - css float 用于列表不工作 这是 HTML： <nav class="listfirst"> <li class="header"></li> <li><a href="#"></li> <li><a href="#"></li> <li><a 问问题 问问题 2013-04-09T09:33:25.283 61 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 这是 HTML： <nav class="listfirst"> <li class="header"></li> <li><a href="#"></li> <li><a href="#"></li> <li><a href="#"></li> <li><a href="#"></li> <li><a href="#"></li> </nav> 和CSS： #bottomnav{ width:1000px; height:300px; position:absolute; top:5px; left:10px; } #bottomnav .list1{ float:left; margin-right:20px; } #bottomnav .listfirst{ float:left; margin-right:20px; margin-left:22px; } #bottomnav li{ width:165px; height:22px; margin-left:10px; list-style-type: none; display:block; } IE7 中的列表只是显示为块并溢出容器，而我需要它们向左浮动以留在底部导航容器中。 我知道这可能是一个简单的 CSS 修复，但有人有什么建议吗？ 对于您的列定义，每个property都应与您的数据源返回的属性名称相匹配。尝试这个： { property: 'id', label: 'ID', sortable: true }, { property: 'roles', label: 'Roles', sortable: true }, { property: 'groups', label: 'Groups', sortable: true } csscss-float 4 3 回答 3 This answer is useful 0 请尝试下面的css代码。 #bottomnav .list1{ float:left; margin-right:20px; *float:left; // this property apply in IE7 } 于 2013-04-09T09:38:36.640 回答 This answer is useful 0 您必须指定： #bottomnav li { float:left; } 干杯 于 2013-04-10T00:09:18.650 回答 This answer is useful 0 我认为您的 html 不正确。总是需要放在<li>一个<ul>标签之间，也许你错过了关闭<a>标签？ 例子： <nav class="listfirst"> <ul> <li><a href="#">Foo</a></li> <li><a href="#">Foo</a></li> </ul> </nav> 于 2013-04-09T10:15:05.983 回答 Related 1 ant - Ant -propertyfile 从 cmd 解析 2 ios - NSUserDefaults 没有保存在模拟器中，即使我使用同步 2 ios - iOS，核心数据。从表中请求所有以数字符号开头的记录而不进行额外的数据处理？ 1 debugging - 使用 GDB 和 QT Creator 远程调试 DSP 应用程序 3 javascript - Mozilla 声明表达式也是语句。为什么？ 1 rascal - 错误“找不到构造函数” 2 git - 如何将 git 配置存储为存储库的一部分？ 2 .net - .NET 3.5.1 中的 DocumentFormat.OpenXml 2.5 给出警告 2 scope - 仅获取电子邮件地址的范围？ 3 java - 使用日历在 Java 中枚举天数 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：15898398
> 
> 赞同：0
> 
> 时间：
> 
> 标签：css, css-float

这是 HTML：

```
<nav class="listfirst"> 
    <li class="header"></li> 
    <li><a href="#"></li> 
    <li><a href="#"></li> 
    <li><a href="#"></li> 
    <li><a href="#"></li> 
    <li><a href="#"></li> 
</nav> 
```

和CSS：

```
#bottomnav{
    width:1000px;
    height:300px;
    position:absolute;
    top:5px;
    left:10px;
}

#bottomnav .list1{
    float:left;
    margin-right:20px;
}

#bottomnav .listfirst{
    float:left;
    margin-right:20px;
    margin-left:22px;
}

#bottomnav li{
    width:165px;
    height:22px;
    margin-left:10px;
    list-style-type: none;
    display:block;
} 
```

IE7 中的列表只是显示为块并溢出容器，而我需要它们向左浮动以留在底部导航容器中。

我知道这可能是一个简单的 CSS 修复，但有人有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:38:36.640

请尝试下面的css代码。

```
 #bottomnav .list1{
     float:left;
     margin-right:20px;
     *float:left;  // this property apply in IE7
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T00:09:18.650

您必须指定：

```
#bottomnav li { 
    float:left;
} 
```

干杯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:15:05.983

我认为您的 html 不正确。总是需要放在`<li>`一个`<ul>`标签之间，也许你错过了关闭`<a>`标签？

例子：

```
<nav class="listfirst">
   <ul>
      <li><a href="#">Foo</a></li>
      <li><a href="#">Foo</a></li>
   </ul>
</nav> 
```

# c# - 从同一个项目编译 32 位和 64 位？

> ID：15898402
> 
> 赞同：3
> 
> 时间：2013-04-09T09:33:42.387
> 
> 标签：c#

我正在使用 32 位和 64 位的 Pcapdot.Net DLL。是否可以创建一个具有 32 位和 64 位 DLL 的项目，以便在编译后为 32 位和 64 位创建 2 个不同的 EXE 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:40:57.453

你的问题，*可能*（不是很清楚）是你在你的项目中链接了一些 DLL，并且想为你的项目的相对构建选择正确的 DLL（32 位或 64 位）。

该解决方案可以简单地在您的项目中引用一个具有通用名称的 DLL：

说`Pcapdot.Net DLL`，对于两个平台。

并且在项目的后期构建事件中，根据构建的当前配置，将特定于平台的复制`Pcapdot.Net DLL`到项目加载引用的文件夹中。

因此，当您的应用加载时，它将始终加载“正确”版本的`Pcapdot.Net DLL`.

为了更清楚：

假设您在项目中引用`Pcapdot.Net DLL`来自

> “调试\外部”

在您的项目树中，您有

> “YOUR_PROJECT_NAME\Dlls\x86\Pcapdot.Net DLL”

和

> “YOUR_PROJECT_NAME\Dlls\x64\Pcapdot.Net DLL”

假设您将项目设置为 64 位编译。在构建后事件中，您检查并复制

> “YOUR_PROJECT_NAME\Dlls\x64\Pcapdot.Net DLL”

进入

> “调试\外部”

.

希望这可以帮助。

# mysql - 优化查询：在自身上加入表

> ID：15898410
> 
> 赞同：1
> 
> 时间：2013-04-09T09:34:00.157
> 
> 标签：mysql

我想在一个查询中获取表的最后两行作为新数据和以前的数据

我有

```
 select tbl.x , tbl2.x as last_x 
 from tbl left join tbl tbl2 ON tbl.id!= tbl2.id
 order by tbl.id desc , tbl2.id desc limit 1 
```

它工作正常，但我认为在大数据库中它可能会变慢

有什么办法可以让这更快吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:50:02.400

LIMIT 应该在基本子查询中工作，因此以下可能会更有效

```
SELECT Sub1.x , Sub2.x as last_x 
FROM (SELECT x FROM tbl ORDER BY tbl.id DESC LIMIT 1) Sub1
CROSS JOIN (SELECT x FROM tbl ORDER BY tbl.id DESC LIMIT 2, 1) Sub2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:39:41.613

您可以查看[执行计划](http://dev.mysql.com/doc/refman/5.0/en/using-explain.html)并尝试优化您的查询，但通常您在遇到问题时会这样做，以便确定哪些部分需要很长时间。

将这个线程添加到：[如何基于 EXPLAIN 计划优化 MySQL 查询](https://stackoverflow.com/questions/10148851/how-to-optimise-mysql-queries-based-on-explain-plan)

但正如所说，我不会尝试解决仍然不存在的问题，我实际上并没有看到您的查询有问题。

# python - 使用 socket.makefile 从套接字读取到 readlines 时出错

> ID：15898413
> 
> 赞同：1
> 
> 时间：2013-04-09T09:34:12.880
> 
> 标签：python, sockets, client

我遇到了麻烦，我不知道发生了什么。我正在使用 python 中的 unix 套接字编写一个小的客户端-服务器应用程序。我想通过这个连接发送的命令都以换行符结束。然后我决定使用 socket.makefile('r') 来使用类似文件的套接字。

问题是，如果我尝试发送超过 8k 字节数据的行，服务器将无法读取它。我已经检查过，如果我不使用 makefile，而是使用 socket.recv(65560) 服务器可以正常工作。

但我想知道为什么会这样。提前致谢。

小代码测试：

```
#!/usr/bin/env python
import threading
import socket
import errno
import time
import os
import sys
import signal
datalines = []
dat6 = "A" * 6144 + "\n" #6k
dat7 = "B" * 7168 + "\n" #7k
dat8 = "C" * 8192 + "\n" #8k
dat10 = "D" * 10240 + "\n" #10k
dat16 = "E" * 16364 + "\n" #16k

datalines.append(dat6)
datalines.append(dat7)
datalines.append(dat8)
datalines.append(dat10)
datalines.append(dat16)

ev = threading.Event()
unixsocket="/tmp/socket.sock"
def runServer():
    if os.path.exists(unixsocket):
        os.remove(unixsocket)
    server = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM)
    server.bind(unixsocket)
    sockfile = server.makefile('r')
    print "Listening..."
    while not ev.isSet():
        for line in sockfile:
            print "RCV: %s"%line

def runClient():
    clientsocket = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM)
    clientsocket.connect(unixsocket)
    print "Conected"
    for line in datalines:
        print "Sending data....%s" % line[0]
        clientsocket.sendall(line)

def main():
    print "Testing makefile sockets with a big mesagge to send"
    #Create a unix socket server and a client socket server
    #Send two messages from the client, and see the server response.
    server = threading.Thread(target=runServer,args=())
    client = threading.Thread(target=runClient,args=())
    print "Run server ..."
    server.start()
    print "Waiting for the client"
    time.sleep(2)
    print "Start the client"
    client.start()
    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        print "Bye!!!"
        ev.set()
        #Abrupt termination
        os.kill(os.getpid(), signal.SIGKILL)

if __name__  == "__main__":
    print "Running tests..."
    main() 
```

# ember.js - 列表/详细信息模式：自动选择第一项

> ID：15898415
> 
> 赞同：1
> 
> 时间：2013-04-09T09:34:23.563
> 
> 标签：ember.js

我正在尝试实现非常常见的列表/详细信息模式，例如 peepcode 示例中的表格或最近的 tom dale 截屏视频中的博客文章。仅在我的情况下，应选择第一项，并在输入通用 /items 路由时显示详细信息。因此，当您转到 /items 时，它应该自动将 url 更改为 /items/1 并显示列表以及详细信息。

这是我尝试过的：

```
App.ItemsRoute = Ember.Route.extend({
  model: function () {
    return App.Item.find();
  },

  redirect: function () {
    if(Ember.isEmpty(this.modelFor('item'))) {
      firstItem = this.model().get('firstObject');
      this.replaceWith('item', firstItem);
    }
  }
}); 
```

完整示例：http: [//jsfiddle.net/ralph/zeKH9/5/](http://jsfiddle.net/ralph/zeKH9/5/)

问题是，当您将重定向添加到 items 路由时，不再显示项目列表，只显示项目详细信息（尝试删除 ItemsRoute 中的重定向部分以了解我的意思）。

那么，实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T11:14:48.890

重定向时，您需要从一条路由重定向到另一条路由。

`item`嵌套在里面`items`。所以我猜 Ember.js 会变得困惑，因为过渡到`item`并不意味着离开`items`.

而不是从`items`to重定向`item`，您应该从`items.index`to重定向`item`。

`item`包含在`items` 其中意味着`items`->`item`没有多大意义。

`item`不包括在`items.index`这意味着`items.index`->`item`是一条不同的路线，因此应该可以工作。

[更新的小提琴](http://jsfiddle.net/teddyzeenny/zeKH9/7/)

# c++ - 模板重载 = 运算符在一个类中工作而在另一个类中编译失败？

> ID：15898423
> 
> 赞同：-6
> 
> 时间：2013-04-09T09:34:51.303
> 
> 标签：c++, templates, compiler-errors, operator-overloading

不久前我制作了一个小型自定义数组容器 List ，它工作正常，这就是我重载它的 '=' 运算符的方式：

```
List<T>& operator=(const List<T>& other); //in List.h

//in List.inl
    template<typename T>
    List<T>& List<T>::operator=(const List<T>& other)
    {
        _size = other._size;

        if(_size < _capacity)
        {
            _capacity = _size;
            _AdaptCapacityChange();
        }

        for(uint i = 0; i < other._size; i++)
        {
            _data[i] = other._data[i];
        }

        return(*this);
    } 
```

但是，现在我在另一堂课上做了同样的事情：

```
PointIndices<T>& operator=(const PointIndices<T>& point); //in PointIndices.h
//in PointIndices.inl
        template<typename T>
        PointIndicess<T>& PointIndices<T>::operator=(const PointIndicess<T>& point)
        {
            indices[0] = point.indices[0];

            return(*this);
        } 
```

它没有突出显示 PointIndices 并且 operator 关键字保持蓝色，编译器给我：**错误 2 错误 C4430：缺少类型说明符 - 假定为 int。注意：C++ 不支持默认整数**

在这两种情况下，我都正确地包含了 .inl 文件，PointIndices 的其余方法工作正常，只有运算符一个给我一个问题。但是在 List 中，相同的重载运算符工作正常。我很困惑，什么可以造成这个？

编辑：请求的测试用例：

标题：

```
 template<class T>
    class PointIndices
    {
        public:
            PointIndices();
            PointIndices(T P1);
            virtual ~PointIndices();

            PointIndices<T>& operator=(const PointIndices<T>& point);

            T P1() const;
            T& P1();

        protected:
            T indices[1];
    };
#include "PointIndices.inl" 
```

INL 文件：

```
 template<typename T>
    PointIndices<T>::PointIndices()
    {
        indices[0] = 0;
    }

    template<typename T>
    PointIndices<T>::PointIndices(T P1)
    {
        indices[0] = P1;
    }

    template<typename T>
    PointIndices<T>::~PointIndices()
    {

    }

    template<typename T>
    PointIndicess<T>& PointIndices<T>::operator=(const PointIndicess<T>& point)
    {
        indices[0] = point.indices[0];

        return(*this);
    }

    template<typename T>
    T PointIndices<T>::P1() const
    {
        return(indices[0]);
    }

    template<typename T>
    T& PointIndices<T>::P1()
    {
        return(indices[0]);
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T09:43:36.400

您声明了一个类模板`PointIndices`，但在函数定义中拼错了它：

```
template<typename T>
PointIndicess<T>& PointIndices<T>::operator=(const PointIndicess<T>& point)
//          ^ extra "s" here                                   ^ and here 
```

# asp.net-mvc-3 - 使用 PagedList 进行分页

> ID：15898429
> 
> 赞同：0
> 
> 时间：2013-04-09T09:35:02.283
> 
> 标签：asp.net-mvc-3, pagination, pagedlist

这是我的存储库层：

```
public List<Section> GetAllSections()
{
    return context.Sections.Include("Groups").Include("Groups.Classes").ToList();
} 
```

这是我的应用层：

```
public List<Section> GetAllSections()
{
    return cacheSectionRepo.GetAllSections();
} 
```

在控制器中我有：

```
SectionApplication sectionApp = new SectionApplication();
public ActionResult Index()
{
    return View(sectionApp.GetAllSections());
} 
```

现在我想让我的`Index`视图分页。我想从 PagedList 中使用。我应该怎么做？例如，我希望每页显示 5 条记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:43:08.137

您可以将页码和页面大小传递给存储库层，然后使用`Skip`和`Take`Linq 语句过滤掉您需要的行：

```
public List<Section> GetAllSections(int pageSize=5, int pageNo)
{
    return cacheSectionRepo.GetAllSections().Skip(pageSize * pageNo).Take(pageSize);;
} 
```

或者，您可以在您的存储库层中执行该过滤。然后，对于控制器的每个请求，您都会将其发送`pageNo`到控制器，最好是通过 AJAX 请求。

# asp.net - 使用 ASP.NET/VB.NET 将文件上传到 SQL Server 2012

> ID：15898436
> 
> 赞同：0
> 
> 时间：2013-04-09T09:35:19.847
> 
> 标签：asp.net, vb.net, file-upload, sql-server-2012, varbinarymax

我按照教程运行了以下代码，没有任何错误。文件“上传”，但是没有数据插入到我的 SQL Server 表中。

应将数据插入`content`表中。

内容表：

![在此处输入图像描述](https://i.stack.imgur.com/cjvVP.png)

**文档.aspx**

```
Imports System.Data.SqlClient
Imports System.Data
Imports System.IO

Partial Class Documents
    Inherits System.Web.UI.Page

    Protected Sub btnUploadContent_Click(sender As Object, e As EventArgs) Handles btnUploadContent.Click

        Dim filePath As String = FileUpload.PostedFile.FileName

        Dim filename As String = Path.GetFileName(filePath)

        Dim ext As String = Path.GetExtension(filename)

        Dim contenttype As String = String.Empty

        Select Case ext

            Case ".doc"

                contenttype = "application/vnd.ms-word"

                Exit Select

            Case ".docx"

                contenttype = "application/vnd.ms-word"

                Exit Select

            Case ".xls"

                contenttype = "application/vnd.ms-excel"

                Exit Select

            Case ".xlsx"

                contenttype = "application/vnd.ms-excel"

                Exit Select

            Case ".jpg"

                contenttype = "image/jpg"

                Exit Select

            Case ".png"

                contenttype = "image/png"

                Exit Select

            Case ".gif"

                contenttype = "image/gif"

                Exit Select

            Case ".pdf"

                contenttype = "application/pdf"

                Exit Select

        End Select

        If contenttype <> String.Empty Then

            Dim fs As Stream = FileUpload.PostedFile.InputStream

            Dim br As New BinaryReader(fs)

            Dim bytes As Byte() = br.ReadBytes(fs.Length)

            'insert the file into database

            Dim strQuery As String = "INSERT INTO content (content_name, content_type, content_file) VALUES (@Name, @ContentType, @Data)"

            Dim cmd As New SqlCommand(strQuery)

            cmd.Parameters.Add("@Name", SqlDbType.VarChar).Value = filename

            cmd.Parameters.Add("@ContentType", SqlDbType.VarChar).Value() = contenttype

            cmd.Parameters.Add("@Data", SqlDbType.Binary).Value = bytes

            InsertUpdateData(cmd)

            lblMessage.ForeColor = System.Drawing.Color.Green

            lblMessage.Text = "File Uploaded Successfully"

        Else

            lblMessage.ForeColor = System.Drawing.Color.Red

            lblMessage.Text = "File format not recognised." + " Upload Image/Word/PDF/Excel formats"

        End If

    End Sub

    Public Function InsertUpdateData(ByVal cmd As SqlCommand) As Boolean

        Dim strConnString As String = System.Configuration.ConfigurationManager.ConnectionStrings("ConnStringDb1").ConnectionString()

        Dim conn As New SqlConnection("Data Source=BRIAN-PC\SQLEXPRESS;Initial Catalog=master_db;Integrated Security=True;")

        cmd.CommandType = CommandType.Text

        cmd.Connection = conn

        Try

            conn.Open()

            cmd.ExecuteNonQuery()

            Return True

        Catch ex As Exception

            Response.Write(ex.Message)

            Return False

        Finally

            conn.Close()

            conn.Dispose()

        End Try

    End Function

End Class 
```

谁能告诉我发生了什么事？

编辑：**调试断点@ `InsertUpdateData(cmd)`：**

```
 SqlDbType.Binary    Binary {1}  System.Data.SqlDbType
+       bytes   {Length=4136752}    Byte()
+       cmd {System.Data.SqlClient.SqlCommand}  System.Data.SqlClient.SqlCommand
+       cmd.Parameters  {System.Data.SqlClient.SqlParameterCollection}  System.Data.SqlClient.SqlParameterCollection 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:04:24.923

我已经像您一样创建了空数据库并添加了表格**内容**，并且我使用的代码几乎与您相同，并且运行良好。

同样，如果没有出现异常，请检查您的连接字符串，并查看是否将行添加到连接字符串中指定的数据库中的表中。这是我的代码（工作正常），对您的代码进行了一些修改：

```
Imports System.Data.SqlClient
Imports System.IO

Public Class _Default
Inherits System.Web.UI.Page

Protected Sub btnUploadContent_Click(sender As Object, e As EventArgs) Handles btnTest1.Click

    Dim fs As Stream = FileUpload.PostedFile.InputStream

    Dim br As New BinaryReader(fs)

    Dim bytes As Byte() = br.ReadBytes(fs.Length)

    'insert the file into database

    Dim strQuery As String = "INSERT INTO content (content_name, content_type, content_file) VALUES (@Name, @ContentType, @Data)"

    Dim cmd As New SqlCommand(strQuery)

    cmd.Parameters.Add("@Name", SqlDbType.VarChar).Value = "filename"

    cmd.Parameters.Add("@ContentType", SqlDbType.VarChar).Value() = "jpg"

    cmd.Parameters.Add("@Data", SqlDbType.Binary).Value = bytes

    InsertUpdateData(cmd)

End Sub

Public Function InsertUpdateData(ByVal cmd As SqlCommand) As Boolean

    Dim conn As New SqlConnection("Data Source=(local);Initial Catalog=test;Integrated Security=True;")

    cmd.CommandType = CommandType.Text

    cmd.Connection = conn

    Try

        conn.Open()

        cmd.ExecuteNonQuery()

        Return True

    Catch ex As Exception

        Response.Write(ex.Message)

        Return False

    Finally

        conn.Close()

        conn.Dispose()

    End Try

End Function

End Class 
```

我添加了 SQL 示例以在 DB 上进行测试：

```
 INSERT INTO [master_db].[dbo].[content]
       ([content_name]
       ,[content_type]
       ,[content_file])
 VALUES
       ('test'
       ,'png'
       ,0x111111111111111)

 SELECT * FROM [master_db].[dbo].[content] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-06T23:14:01.023

我遇到了这篇文章，正在寻找一个例子。我使用了您发布的示例代码并遇到了同样的问题。我发现并解决了以下问题并使其正常工作：

*   如图所示，我创建了 db 表。nchar(5) 的 content_type 是第一个问题，因为您插入了太大的“application/vnd.ms-word”之类的内容。
*   下一个错误是因为我没有将 content_id 定义为标识列，并且因为它没有在插入语句中列出，所以它失败了。
*   接下来我遇到了一个错误，因为我的 db 用户没有插入权限。
*   最大的问题是返回消息始终是成功消息，因为即使 InsertUpdateData 函数捕捉到错误，它也没有通知调用代码。这让我觉得事情还好。哦！在 ExecuteNonQuery 上使用断点可以让我看到错误。

希望对下一个路过的人有所帮助....

# jenkins - Jenkins 1.510 删除所有 CVS 分支签出文件

> ID：15898445
> 
> 赞同：1
> 
> 时间：2013-04-09T09:35:45.157
> 
> 标签：jenkins

我正在使用 Jenkins，1.510。

它适用于所有 CVS 从头结帐。

但是，如果我使用从分支签出，它会成功签出所有文件，并将消息显示为成功签出。但是签出的目录不包含任何内容。当我在构建过程中检查文件时，文件被复制到目录中，但是在构建结束时所有文件都被删除。

你能帮我么？

# vb.net - 为每个索引创建一个包含多个数据条目的列表

> ID：15898446
> 
> 赞同：0
> 
> 时间：2013-04-09T09:35:45.897
> 
> 标签：vb.net, list

我正在寻找一种在 VB.net 中创建某种服务器索引列表的方法，以便我可以即时访问它们的名称和 IP 地址。我已经查看了 List Class 和 Dictionary 对象，但我不确定他们是否能够在这种情况下完成这项工作。

基本上，当我声明时，我想要一个类似的结构`ServersList`-

```
chkTTSA - Name = TTSA
          IPAddress = 192.168.1.6
chkTTSB - name = TTSA
          IPAddress = 192.168.1.7 
```

然后，当我通过遍历字典来访问数据时，我想使用名称和 IP 地址`ServerList`来填充另一个字典 -

```
ServersToPing(ServersList(Name)) = ServersList(IPAddress) 
```

目前，我同时使用 a`Dictionary`和`Name`，`IPAddress`但将来我想添加更多服务器信息，因此必须使用 a `Dictionary`for each 似乎效率低下。

我不确定这是否可能以我想要的确切方式进行，但如果有人能给我一些关于如何实现目标的指示，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:23:41.810

感谢所有有用的评论，我能够设计出一种通过使用类来实现我所需要的方法。

这种方法是可扩展的，并且可以让我在将来根据需要轻松添加更多信息

```
Partial Public Class SingleServer

    Public ReadOnly Name As String
    Public ReadOnly IPAddress As String
    Public ReadOnly Ping As Boolean

    '**
    ' Constructor
    '*
    Public Sub New(SingleName As String, SingleIPAddress As String, Optional SinglePing As Boolean = False)

        Name = SingleName
        IPAddress = SingleIPAddress
        Ping = SinglePing

    End Sub

End Class 
```

要使用，我首先初始化 SingleServer 对象的实例...

```
Public ReadOnly ServersList As New Dictionary(Of String, SingleServer) 
```

...然后我可以根据需要添加信息...

```
ServersList("chkTTSA") = New SingleServer("TTSA", "192.168.1.6") 
```

将来，我可能希望通过文本文件声明服务器并让程序添加必要的复选框，而不是像我所知道的那样显式声明它们，并且这种方法也允许我这样做。

# jquery - 如何更改浏览器窗口的滚动条颜色

> ID：15898447
> 
> 赞同：0
> 
> 时间：2013-04-09T09:35:51.277
> 
> 标签：jquery, html, css, mozilla

我想更改浏览器窗口滚动条的颜色，我使用了以下代码，但它只`IE8`在其他类似`Chrome`和`Mozilla`..

```
html {scrollbar-face-color:#D6D7D6 ;
scrollbar-shadow-color: #FFFFFF;
scrollbar-highlight-color:#EFEFEF;
scrollbar-3dlight-color: #FFFFFF;

scrollbar-track-color: #FFFFFF;
scrollbar-arrow-color:  #000000;} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:39:06.110

您是否考虑过使用`jQuery`插件？例如[jScrollPane](http://jscrollpane.kelvinluck.com/)或[Tiny Scrollbar](http://baijs.nl/tinyscrollbar/)。

正如[这个](https://stackoverflow.com/questions/7725652/css-scrollbar-style-cross-browser)问题所说：

> 滚动条 CSS 样式是 Microsoft 开发人员发明的一种奇怪的东西。它们不是 CSS 的 W3C 标准的一部分，因此大多数浏览器都会忽略它们。

我推荐这些`jQuery`插件，因为它们与所有浏览器兼容。

如果您不想使用插件，似乎截至 2013 年，70% 的浏览器支持某些滚动条样式。比如这个`webkit`浏览器的示例代码：（即Chrome）

```
#doc ::-webkit-scrollbar{width:9px;height:9px;}
#doc ::-webkit-scrollbar-button:start:decrement,#doc ::-webkit-scrollbar-button:end:increment{display:block;height:0;background-color:transparent;}
#doc ::-webkit-scrollbar-track-piece{background-color:#FAFAFA;-webkit-border-radius:0;-webkit-border-bottom-right-radius:8px;-webkit-border-bottom-left-radius:8px;}
#doc ::-webkit-scrollbar-thumb:vertical{height:50px;background-color:#999;-webkit-border-radius:8px;}
#doc ::-webkit-scrollbar-thumb:horizontal{width:50px;background-color:#999;-webkit-border-radius:8px;} 
```

每个浏览器都需要不同的语法，我仍然建议使用插件。

# node.js - 如何在变量中获取node.js中的回调值

> ID：15898449
> 
> 赞同：0
> 
> 时间：2013-04-09T09:35:53.527
> 
> 标签：node.js

这是我的代码。

```
var fs = require('fs')
var test = readafile('file.txt', function(returnValue) { 
    console.log(returnValue); 
    test = returnValue;
});

console.log(test);

function readafile(filepath,callback){
    var attachment_path = filepath;
    fs.readFile(attachment_path, function(err,data){
        var attachment_encoded = new Buffer(data, 'binary').toString('base64');
        callback(attachment_encoded);
    }); 
} 
```

如果我需要该函数在变量测试中的返回值意味着如何实现？

在那个 console.log(test) 中它说未定义。因为它是一个回调函数。如何正确获取？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:43:08.043

您不能真正期望使用异步代码获得同步行为（例如获得返回值）。您可以使用`fs.readFileSync`来避免异步方面，或者只在回调中使用您的值。
否则[异步](https://github.com/caolan/async)模块可以帮助你。

# c# - 使用 wcf Web 服务在 SQL Server 数据库中添加新项目

> ID：15898453
> 
> 赞同：1
> 
> 时间：2013-04-09T09:36:12.933
> 
> 标签：c#, sql-server, wpf, wcf

我正在使用 WCF 在带有网格的 WPF 应用程序中显示来自 SQL Server 数据库的数据。

如何使用 WCF Web 服务向数据库添加新行？

我的服务代码

```
public class abalaseService : DataService<eshop2Entities>
    {

        // This method is called only once to initialize service-wide policies.
        public static void InitializeService(IDataServiceConfiguration config)
        {
            config.SetEntitySetAccessRule("tblProduct", EntitySetRights.All);
        }
    } 
```

在 XAML 中

```
<Grid Grid.Row="1" HorizontalAlignment="Left" Margin="38,16,0,0" Name="grid1" VerticalAlignment="Top" DataContext="{Binding}">
            <Grid.ContextMenu>
                <ContextMenu AllowDrop="True" />
            </Grid.ContextMenu>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Label Content="Ενεργό:" Grid.Column="0" Grid.Row="0" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <CheckBox Content="" Grid.Column="1" Grid.Row="0" Height="16" HorizontalAlignment="Left" IsChecked="{Binding Path=Active, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" Margin="3" Name="activeCheckBox" VerticalAlignment="Center" />
            <Label Content="Id Προμηθευτή:" Grid.Column="0" Grid.Row="1" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" Grid.Row="1" Height="23" HorizontalAlignment="Left" Margin="3" Name="brandIdTextBox" Text="{Binding Path=BrandId, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
            <Label Content="Id Κατηγορίας:" Grid.Column="0" Grid.Row="2" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" Grid.Row="2" Height="23" HorizontalAlignment="Left" Margin="3" Name="categoryIdTextBox" Text="{Binding Path=CategoryId, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
            <Label Content="Περιγραφή:" Grid.Column="0" Grid.Row="3" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" Grid.Row="3" Height="23" HorizontalAlignment="Left" Margin="3" Name="descriptionTextBox" Text="{Binding Path=Description, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
            <Label Content="Id:" Grid.Column="0" Grid.Row="4" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" Grid.Row="4" Height="23" HorizontalAlignment="Left" Margin="3" Name="idTextBox" Text="{Binding Path=Id, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
            <Label Content="Όνομα:" Grid.Column="0" Grid.Row="5" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" Grid.Row="5" Height="23" HorizontalAlignment="Left" Margin="3" Name="nameTextBox" Text="{Binding Path=Name, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
            <Label Content="Τιμή Αγοράς:" Grid.Column="0" Grid.Row="6" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" Grid.Row="6" Height="23" HorizontalAlignment="Left" Margin="3" Name="purchasePriceTextBox" Text="{Binding Path=PurchasePrice, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
            <Label Content="Απόθεμα:" Grid.Column="0" Grid.Row="7" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" Grid.Row="7" Height="23" HorizontalAlignment="Left" Margin="3" Name="quantityTextBox" Text="{Binding Path=Quantity, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
            <Label Content="Τιμή Πώλησης:" Grid.Column="0" Grid.Row="8" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" Grid.Row="8" Height="23" HorizontalAlignment="Left" Margin="3" Name="salePriceTextBox" Text="{Binding Path=SalePrice, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
        </Grid> 
```

我想要一个清晰的网格，用户可以填写并将记录保存到数据库（添加新产品）

我怎样才能做到这一点？

我是 WCF 和 Web 服务的新手

# html - IE8 CSS 菜单修复

> ID：15898454
> 
> 赞同：2
> 
> 时间：2013-04-09T09:36:19.770
> 
> 标签：html, css, internet-explorer

**IE8 CSS 菜单修复**

我有一个不能在 IE8 上运行的网站 CSS 菜单。
代码在 Firefox 上运行良好。

```
<html>
<head>
<title>broken in ie8</title>
<style>
ul#mrmenu,ul#mrmenu ul{
    margin:0;
    list-style:none;
    padding:0;
    }
ul#mrmenuxx,ul#mrmenu .submenu{
    border:1px solid yellow;
    border-right:medium none;
    }
ul#mrmenu .submenu{
    background:black;
    visibility:hidden;
    position:absolute;
    left:0;
    top:100%;
    opacity:0;
    float:left;
    padding:0 10px;
    }
ul#mrmenu li:hover>.submenu{
    visibility:visible;
    opacity:1;
    }
ul#mrmenu li{
    position:relative;
    display:block;
    white-space:nowrap;
    float:left;
    }
ul#mrmenu li:hover{
    z-index:1;
    }
ul#mrmenu ul .submenu{
    z-index:2;
    position:absolute;
    left:100%;
    top:0;
    }
ul#mrmenu{
    z-index:999;
    position:relative;
    zoom:1;
    padding:0 0;
    margin:0;
    display:block;
    white-space: nowrap;
    height:47px;
    }
ul#mrmenu .column{
    float:left;
    }
* html ul#mrmenu li a, * html ul#mrmenu li label{
    display:inline-block;
    }
ul#mrmenu>li{
    margin:0;
    float:left;
    display:inline-block;
    }
ul#mrmenu li.toplast{
    width:15%;
    }
ul#mrmenu a:active, ul#mrmenu a:focus, ul#mrmenu label:active, ul#mrmenu label:focus{
    outline-style:none;
    }
ul#mrmenu a, ul#mrmenu label{
    display:block;
    vertical-align:middle;
    text-align:left;
    font:bold 12px Trebuchet MS;
    line-height: 18px;
    color:#fff;
    cursor:pointer;
    background-repeat:repeat;
    background-position:0 0;
    }
ul#mrmenu .submenu .column{
    margin-top:10px;
    margin-bottom:10px;
}
ul#mrmenu ul li{
    float:none;
    margin:2px 0 0;
    }
ul#mrmenu ul a, ul#mrmenu ul label{
    text-align:left;
    padding:2px;
    padding-left:10px;
    }
ul#mrmenu img{
    vertical-align:middle;
    margin-right:6px;
    }
ul#mrmenu span{
    display:block;
    overflow:visible;
    background-position:right center;
    background-repeat:no-repeat;
    padding-right:0px;
    }
ul#mrmenu ul span{
    padding-right:8px;
    }
ul#mrmenu ul li:hover>a,ul#mrmenu ul li a.pressed, ul#mrmenu ul li:hover>label,ul#mrmenu ul li label.pressed{
    background-image:none;
    color:#yellow;
    }
.mr-button {
    background: black;
    border:1px solid #808080;
    border-width:1px 1px 1px 0;
    display:inline-block;
    color:#ffffff;
    padding:14px 10px;
}
.mr-button:active {
    position:relative;
    top:1px;
}
#mrmenu {
    color: #cfcfcf;
}
</style>
</head>
<body>
<ul id="mrmenu" class="topmenu">
   <li class="mr-button">
      <label><span>Menu1</span></label>
      <div class="submenu">
         <div class="column">
            <ul class="cat_parent">
               <li>
                  <label>
                  <img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMi8xMhR8XRwAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAPTSURBVDiNnZRbiFVVGMd/3z57nzPn5oyjjjU0Y5qXBBNKm2maLAsberMLRahFSBdRhPCheht88UGIgiiash4SjC5SQokPFTGUEuaF0cRKhazp6MyZ+zlnn3P2WvvrYe/BSYzKDxYsvrXWj//6r+9boqpc3Cm5RJI33Vzz0+Km+b+hxseURj+wdba192pJiq/i+VXeyLcseCGfz+EQAooqqP4XpKDiUCqVmBr6rS/dwHY5u4MVze1zf5zX5KXqhQJBCRwPvBS4aSABhP/CdYDsjQxPBrXRi8XVrg9Z1/gpJkYwbT3UZncjfgF//ALh5WMkgxFyaXCmXbmW+hCoXMY16VTEA5VaGQLIdN5DZuVWKBewtQphtUTtj5OMDewjOXKMfA7w/gFMiNTKGFDXGghtLKJeAX8YTA1JN5FI5ck2zie7/EFKpw8xduR18tU/cbPXsEQjjjXgWgNYoAFk4H349XNItyCtnWhrF8xdgRKQX/UotfZVTH35EvmxYxFY/w5lJnRaqSkMYf0hEu5Z3DP9SNMsWNgDdzxH2LSE5Jw2nMf3MLV/G7OGD5OYqXiGUsfaeKEO1da7mLz9ecYXrGM0zFEtTMLxT5HPnkEufou6GdxZc8k+9hbl3GK0Ep+dMawFxxpQA5Qg17GBeZv6aN70HpnNh/A7tjNeT6JDBeTAFuTcQVQ8ko3z8R7aTdV6EcxGQ02s1BjQ6YUgQFEklaPhpluZ/fBOkk/tZ8JrRSfqyMEdcGkAlQQNS9cS3rYROxn7GUYcY8AJLagFksDRd5CPnkROfYLWyqgxZJbfT2rjXsrJRhgtId/0QmgRJ4G7ejMm3Qj1WKmNfHVsPMEBBn9G+z8mfHcLsvcRmCqgIaSXrUHW9RKEIL8cQc99DeKQvLkDae9E/UhpaKc9tVc8qQYw1NbF8KJu/FPHkQ83QKWIBjXS3c9iWldCGZwT+1AviyQ87IIHotePGdbGnoYWmAK6ttLyymHmv/wdTs+LcPIn6H8NvBxOKo+sfCJS9PsJtHgeELxFdyNOBAxt7KkxcTlUoWFxNxKXXWrpfdHGgS/Q8kiUW7I22jt+CR0fBIREy7LIu7ikjAHXFZx6AGSAw3tg4RpwXPi+DzLgTAxC8TyIIIEPCmIUqYxCZRTxx6OrA/UAXMGRr9Zzy5yMc3RFs852VcGNtQZ65fMQZ0Y7xi00M0eIMcLpMRkbqYR3ugnLhZFSuOuMZfcNGSTrxg0tgLkKNJ2/Klc2UKioFn3d5SoXJK5Q5+17WT+vgU6uM4ar/LClnwNAKJHLpFTVv17gdIhIGqj9BQBF07VXMETuAAAAAElFTkSuQmCC" />
                  Item1</label>
               </li>
               <li>
                  <label>
                  <img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMi8xMhR8XRwAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAPTSURBVDiNnZRbiFVVGMd/3z57nzPn5oyjjjU0Y5qXBBNKm2maLAsberMLRahFSBdRhPCheht88UGIgiiash4SjC5SQokPFTGUEuaF0cRKhazp6MyZ+zlnn3P2WvvrYe/BSYzKDxYsvrXWj//6r+9boqpc3Cm5RJI33Vzz0+Km+b+hxseURj+wdba192pJiq/i+VXeyLcseCGfz+EQAooqqP4XpKDiUCqVmBr6rS/dwHY5u4MVze1zf5zX5KXqhQJBCRwPvBS4aSABhP/CdYDsjQxPBrXRi8XVrg9Z1/gpJkYwbT3UZncjfgF//ALh5WMkgxFyaXCmXbmW+hCoXMY16VTEA5VaGQLIdN5DZuVWKBewtQphtUTtj5OMDewjOXKMfA7w/gFMiNTKGFDXGghtLKJeAX8YTA1JN5FI5ck2zie7/EFKpw8xduR18tU/cbPXsEQjjjXgWgNYoAFk4H349XNItyCtnWhrF8xdgRKQX/UotfZVTH35EvmxYxFY/w5lJnRaqSkMYf0hEu5Z3DP9SNMsWNgDdzxH2LSE5Jw2nMf3MLV/G7OGD5OYqXiGUsfaeKEO1da7mLz9ecYXrGM0zFEtTMLxT5HPnkEufou6GdxZc8k+9hbl3GK0Ep+dMawFxxpQA5Qg17GBeZv6aN70HpnNh/A7tjNeT6JDBeTAFuTcQVQ8ko3z8R7aTdV6EcxGQ02s1BjQ6YUgQFEklaPhpluZ/fBOkk/tZ8JrRSfqyMEdcGkAlQQNS9cS3rYROxn7GUYcY8AJLagFksDRd5CPnkROfYLWyqgxZJbfT2rjXsrJRhgtId/0QmgRJ4G7ejMm3Qj1WKmNfHVsPMEBBn9G+z8mfHcLsvcRmCqgIaSXrUHW9RKEIL8cQc99DeKQvLkDae9E/UhpaKc9tVc8qQYw1NbF8KJu/FPHkQ83QKWIBjXS3c9iWldCGZwT+1AviyQ87IIHotePGdbGnoYWmAK6ttLyymHmv/wdTs+LcPIn6H8NvBxOKo+sfCJS9PsJtHgeELxFdyNOBAxt7KkxcTlUoWFxNxKXXWrpfdHGgS/Q8kiUW7I22jt+CR0fBIREy7LIu7ikjAHXFZx6AGSAw3tg4RpwXPi+DzLgTAxC8TyIIIEPCmIUqYxCZRTxx6OrA/UAXMGRr9Zzy5yMc3RFs852VcGNtQZ65fMQZ0Y7xi00M0eIMcLpMRkbqYR3ugnLhZFSuOuMZfcNGSTrxg0tgLkKNJ2/Klc2UKioFn3d5SoXJK5Q5+17WT+vgU6uM4ar/LClnwNAKJHLpFTVv17gdIhIGqj9BQBF07VXMETuAAAAAElFTkSuQmCC" />
                  Item2</label>
               </li>
               <li>
                  <label>
                  <img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMi8xMhR8XRwAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAPTSURBVDiNnZRbiFVVGMd/3z57nzPn5oyjjjU0Y5qXBBNKm2maLAsberMLRahFSBdRhPCheht88UGIgiiash4SjC5SQokPFTGUEuaF0cRKhazp6MyZ+zlnn3P2WvvrYe/BSYzKDxYsvrXWj//6r+9boqpc3Cm5RJI33Vzz0+Km+b+hxseURj+wdba192pJiq/i+VXeyLcseCGfz+EQAooqqP4XpKDiUCqVmBr6rS/dwHY5u4MVze1zf5zX5KXqhQJBCRwPvBS4aSABhP/CdYDsjQxPBrXRi8XVrg9Z1/gpJkYwbT3UZncjfgF//ALh5WMkgxFyaXCmXbmW+hCoXMY16VTEA5VaGQLIdN5DZuVWKBewtQphtUTtj5OMDewjOXKMfA7w/gFMiNTKGFDXGghtLKJeAX8YTA1JN5FI5ck2zie7/EFKpw8xduR18tU/cbPXsEQjjjXgWgNYoAFk4H349XNItyCtnWhrF8xdgRKQX/UotfZVTH35EvmxYxFY/w5lJnRaqSkMYf0hEu5Z3DP9SNMsWNgDdzxH2LSE5Jw2nMf3MLV/G7OGD5OYqXiGUsfaeKEO1da7mLz9ecYXrGM0zFEtTMLxT5HPnkEufou6GdxZc8k+9hbl3GK0Ep+dMawFxxpQA5Qg17GBeZv6aN70HpnNh/A7tjNeT6JDBeTAFuTcQVQ8ko3z8R7aTdV6EcxGQ02s1BjQ6YUgQFEklaPhpluZ/fBOkk/tZ8JrRSfqyMEdcGkAlQQNS9cS3rYROxn7GUYcY8AJLagFksDRd5CPnkROfYLWyqgxZJbfT2rjXsrJRhgtId/0QmgRJ4G7ejMm3Qj1WKmNfHVsPMEBBn9G+z8mfHcLsvcRmCqgIaSXrUHW9RKEIL8cQc99DeKQvLkDae9E/UhpaKc9tVc8qQYw1NbF8KJu/FPHkQ83QKWIBjXS3c9iWldCGZwT+1AviyQ87IIHotePGdbGnoYWmAK6ttLyymHmv/wdTs+LcPIn6H8NvBxOKo+sfCJS9PsJtHgeELxFdyNOBAxt7KkxcTlUoWFxNxKXXWrpfdHGgS/Q8kiUW7I22jt+CR0fBIREy7LIu7ikjAHXFZx6AGSAw3tg4RpwXPi+DzLgTAxC8TyIIIEPCmIUqYxCZRTxx6OrA/UAXMGRr9Zzy5yMc3RFs852VcGNtQZ65fMQZ0Y7xi00M0eIMcLpMRkbqYR3ugnLhZFSuOuMZfcNGSTrxg0tgLkKNJ2/Klc2UKioFn3d5SoXJK5Q5+17WT+vgU6uM4ar/LClnwNAKJHLpFTVv17gdIhIGqj9BQBF07VXMETuAAAAAElFTkSuQmCC" />
                  Item3</label>
               </li>
               <li>
                  <label>
                  <img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMi8xMhR8XRwAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAPTSURBVDiNnZRbiFVVGMd/3z57nzPn5oyjjjU0Y5qXBBNKm2maLAsberMLRahFSBdRhPCheht88UGIgiiash4SjC5SQokPFTGUEuaF0cRKhazp6MyZ+zlnn3P2WvvrYe/BSYzKDxYsvrXWj//6r+9boqpc3Cm5RJI33Vzz0+Km+b+hxseURj+wdba192pJiq/i+VXeyLcseCGfz+EQAooqqP4XpKDiUCqVmBr6rS/dwHY5u4MVze1zf5zX5KXqhQJBCRwPvBS4aSABhP/CdYDsjQxPBrXRi8XVrg9Z1/gpJkYwbT3UZncjfgF//ALh5WMkgxFyaXCmXbmW+hCoXMY16VTEA5VaGQLIdN5DZuVWKBewtQphtUTtj5OMDewjOXKMfA7w/gFMiNTKGFDXGghtLKJeAX8YTA1JN5FI5ck2zie7/EFKpw8xduR18tU/cbPXsEQjjjXgWgNYoAFk4H349XNItyCtnWhrF8xdgRKQX/UotfZVTH35EvmxYxFY/w5lJnRaqSkMYf0hEu5Z3DP9SNMsWNgDdzxH2LSE5Jw2nMf3MLV/G7OGD5OYqXiGUsfaeKEO1da7mLz9ecYXrGM0zFEtTMLxT5HPnkEufou6GdxZc8k+9hbl3GK0Ep+dMawFxxpQA5Qg17GBeZv6aN70HpnNh/A7tjNeT6JDBeTAFuTcQVQ8ko3z8R7aTdV6EcxGQ02s1BjQ6YUgQFEklaPhpluZ/fBOkk/tZ8JrRSfqyMEdcGkAlQQNS9cS3rYROxn7GUYcY8AJLagFksDRd5CPnkROfYLWyqgxZJbfT2rjXsrJRhgtId/0QmgRJ4G7ejMm3Qj1WKmNfHVsPMEBBn9G+z8mfHcLsvcRmCqgIaSXrUHW9RKEIL8cQc99DeKQvLkDae9E/UhpaKc9tVc8qQYw1NbF8KJu/FPHkQ83QKWIBjXS3c9iWldCGZwT+1AviyQ87IIHotePGdbGnoYWmAK6ttLyymHmv/wdTs+LcPIn6H8NvBxOKo+sfCJS9PsJtHgeELxFdyNOBAxt7KkxcTlUoWFxNxKXXWrpfdHGgS/Q8kiUW7I22jt+CR0fBIREy7LIu7ikjAHXFZx6AGSAw3tg4RpwXPi+DzLgTAxC8TyIIIEPCmIUqYxCZRTxx6OrA/UAXMGRr9Zzy5yMc3RFs852VcGNtQZ65fMQZ0Y7xi00M0eIMcLpMRkbqYR3ugnLhZFSuOuMZfcNGSTrxg0tgLkKNJ2/Klc2UKioFn3d5SoXJK5Q5+17WT+vgU6uM4ar/LClnwNAKJHLpFTVv17gdIhIGqj9BQBF07VXMETuAAAAAElFTkSuQmCC" />
                  Item4</label>
               </li>
               <li>
                  <label>
                  <img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMi8xMhR8XRwAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAPTSURBVDiNnZRbiFVVGMd/3z57nzPn5oyjjjU0Y5qXBBNKm2maLAsberMLRahFSBdRhPCheht88UGIgiiash4SjC5SQokPFTGUEuaF0cRKhazp6MyZ+zlnn3P2WvvrYe/BSYzKDxYsvrXWj//6r+9boqpc3Cm5RJI33Vzz0+Km+b+hxseURj+wdba192pJiq/i+VXeyLcseCGfz+EQAooqqP4XpKDiUCqVmBr6rS/dwHY5u4MVze1zf5zX5KXqhQJBCRwPvBS4aSABhP/CdYDsjQxPBrXRi8XVrg9Z1/gpJkYwbT3UZncjfgF//ALh5WMkgxFyaXCmXbmW+hCoXMY16VTEA5VaGQLIdN5DZuVWKBewtQphtUTtj5OMDewjOXKMfA7w/gFMiNTKGFDXGghtLKJeAX8YTA1JN5FI5ck2zie7/EFKpw8xduR18tU/cbPXsEQjjjXgWgNYoAFk4H349XNItyCtnWhrF8xdgRKQX/UotfZVTH35EvmxYxFY/w5lJnRaqSkMYf0hEu5Z3DP9SNMsWNgDdzxH2LSE5Jw2nMf3MLV/G7OGD5OYqXiGUsfaeKEO1da7mLz9ecYXrGM0zFEtTMLxT5HPnkEufou6GdxZc8k+9hbl3GK0Ep+dMawFxxpQA5Qg17GBeZv6aN70HpnNh/A7tjNeT6JDBeTAFuTcQVQ8ko3z8R7aTdV6EcxGQ02s1BjQ6YUgQFEklaPhpluZ/fBOkk/tZ8JrRSfqyMEdcGkAlQQNS9cS3rYROxn7GUYcY8AJLagFksDRd5CPnkROfYLWyqgxZJbfT2rjXsrJRhgtId/0QmgRJ4G7ejMm3Qj1WKmNfHVsPMEBBn9G+z8mfHcLsvcRmCqgIaSXrUHW9RKEIL8cQc99DeKQvLkDae9E/UhpaKc9tVc8qQYw1NbF8KJu/FPHkQ83QKWIBjXS3c9iWldCGZwT+1AviyQ87IIHotePGdbGnoYWmAK6ttLyymHmv/wdTs+LcPIn6H8NvBxOKo+sfCJS9PsJtHgeELxFdyNOBAxt7KkxcTlUoWFxNxKXXWrpfdHGgS/Q8kiUW7I22jt+CR0fBIREy7LIu7ikjAHXFZx6AGSAw3tg4RpwXPi+DzLgTAxC8TyIIIEPCmIUqYxCZRTxx6OrA/UAXMGRr9Zzy5yMc3RFs852VcGNtQZ65fMQZ0Y7xi00M0eIMcLpMRkbqYR3ugnLhZFSuOuMZfcNGSTrxg0tgLkKNJ2/Klc2UKioFn3d5SoXJK5Q5+17WT+vgU6uM4ar/LClnwNAKJHLpFTVv17gdIhIGqj9BQBF07VXMETuAAAAAElFTkSuQmCC" />
                  Item5</label>
               </li>
               <li>
                  <label>
                  <img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMi8xMhR8XRwAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAPTSURBVDiNnZRbiFVVGMd/3z57nzPn5oyjjjU0Y5qXBBNKm2maLAsberMLRahFSBdRhPCheht88UGIgiiash4SjC5SQokPFTGUEuaF0cRKhazp6MyZ+zlnn3P2WvvrYe/BSYzKDxYsvrXWj//6r+9boqpc3Cm5RJI33Vzz0+Km+b+hxseURj+wdba192pJiq/i+VXeyLcseCGfz+EQAooqqP4XpKDiUCqVmBr6rS/dwHY5u4MVze1zf5zX5KXqhQJBCRwPvBS4aSABhP/CdYDsjQxPBrXRi8XVrg9Z1/gpJkYwbT3UZncjfgF//ALh5WMkgxFyaXCmXbmW+hCoXMY16VTEA5VaGQLIdN5DZuVWKBewtQphtUTtj5OMDewjOXKMfA7w/gFMiNTKGFDXGghtLKJeAX8YTA1JN5FI5ck2zie7/EFKpw8xduR18tU/cbPXsEQjjjXgWgNYoAFk4H349XNItyCtnWhrF8xdgRKQX/UotfZVTH35EvmxYxFY/w5lJnRaqSkMYf0hEu5Z3DP9SNMsWNgDdzxH2LSE5Jw2nMf3MLV/G7OGD5OYqXiGUsfaeKEO1da7mLz9ecYXrGM0zFEtTMLxT5HPnkEufou6GdxZc8k+9hbl3GK0Ep+dMawFxxpQA5Qg17GBeZv6aN70HpnNh/A7tjNeT6JDBeTAFuTcQVQ8ko3z8R7aTdV6EcxGQ02s1BjQ6YUgQFEklaPhpluZ/fBOkk/tZ8JrRSfqyMEdcGkAlQQNS9cS3rYROxn7GUYcY8AJLagFksDRd5CPnkROfYLWyqgxZJbfT2rjXsrJRhgtId/0QmgRJ4G7ejMm3Qj1WKmNfHVsPMEBBn9G+z8mfHcLsvcRmCqgIaSXrUHW9RKEIL8cQc99DeKQvLkDae9E/UhpaKc9tVc8qQYw1NbF8KJu/FPHkQ83QKWIBjXS3c9iWldCGZwT+1AviyQ87IIHotePGdbGnoYWmAK6ttLyymHmv/wdTs+LcPIn6H8NvBxOKo+sfCJS9PsJtHgeELxFdyNOBAxt7KkxcTlUoWFxNxKXXWrpfdHGgS/Q8kiUW7I22jt+CR0fBIREy7LIu7ikjAHXFZx6AGSAw3tg4RpwXPi+DzLgTAxC8TyIIIEPCmIUqYxCZRTxx6OrA/UAXMGRr9Zzy5yMc3RFs852VcGNtQZ65fMQZ0Y7xi00M0eIMcLpMRkbqYR3ugnLhZFSuOuMZfcNGSTrxg0tgLkKNJ2/Klc2UKioFn3d5SoXJK5Q5+17WT+vgU6uM4ar/LClnwNAKJHLpFTVv17gdIhIGqj9BQBF07VXMETuAAAAAElFTkSuQmCC" />
                  Item6</label>
               </li>
               <li>
                  <label>
                  <img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMi8xMhR8XRwAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAPTSURBVDiNnZRbiFVVGMd/3z57nzPn5oyjjjU0Y5qXBBNKm2maLAsberMLRahFSBdRhPCheht88UGIgiiash4SjC5SQokPFTGUEuaF0cRKhazp6MyZ+zlnn3P2WvvrYe/BSYzKDxYsvrXWj//6r+9boqpc3Cm5RJI33Vzz0+Km+b+hxseURj+wdba192pJiq/i+VXeyLcseCGfz+EQAooqqP4XpKDiUCqVmBr6rS/dwHY5u4MVze1zf5zX5KXqhQJBCRwPvBS4aSABhP/CdYDsjQxPBrXRi8XVrg9Z1/gpJkYwbT3UZncjfgF//ALh5WMkgxFyaXCmXbmW+hCoXMY16VTEA5VaGQLIdN5DZuVWKBewtQphtUTtj5OMDewjOXKMfA7w/gFMiNTKGFDXGghtLKJeAX8YTA1JN5FI5ck2zie7/EFKpw8xduR18tU/cbPXsEQjjjXgWgNYoAFk4H349XNItyCtnWhrF8xdgRKQX/UotfZVTH35EvmxYxFY/w5lJnRaqSkMYf0hEu5Z3DP9SNMsWNgDdzxH2LSE5Jw2nMf3MLV/G7OGD5OYqXiGUsfaeKEO1da7mLz9ecYXrGM0zFEtTMLxT5HPnkEufou6GdxZc8k+9hbl3GK0Ep+dMawFxxpQA5Qg17GBeZv6aN70HpnNh/A7tjNeT6JDBeTAFuTcQVQ8ko3z8R7aTdV6EcxGQ02s1BjQ6YUgQFEklaPhpluZ/fBOkk/tZ8JrRSfqyMEdcGkAlQQNS9cS3rYROxn7GUYcY8AJLagFksDRd5CPnkROfYLWyqgxZJbfT2rjXsrJRhgtId/0QmgRJ4G7ejMm3Qj1WKmNfHVsPMEBBn9G+z8mfHcLsvcRmCqgIaSXrUHW9RKEIL8cQc99DeKQvLkDae9E/UhpaKc9tVc8qQYw1NbF8KJu/FPHkQ83QKWIBjXS3c9iWldCGZwT+1AviyQ87IIHotePGdbGnoYWmAK6ttLyymHmv/wdTs+LcPIn6H8NvBxOKo+sfCJS9PsJtHgeELxFdyNOBAxt7KkxcTlUoWFxNxKXXWrpfdHGgS/Q8kiUW7I22jt+CR0fBIREy7LIu7ikjAHXFZx6AGSAw3tg4RpwXPi+DzLgTAxC8TyIIIEPCmIUqYxCZRTxx6OrA/UAXMGRr9Zzy5yMc3RFs852VcGNtQZ65fMQZ0Y7xi00M0eIMcLpMRkbqYR3ugnLhZFSuOuMZfcNGSTrxg0tgLkKNJ2/Klc2UKioFn3d5SoXJK5Q5+17WT+vgU6uM4ar/LClnwNAKJHLpFTVv17gdIhIGqj9BQBF07VXMETuAAAAAElFTkSuQmCC" />
                  Item7</label>
               </li>
            </ul>
         </div>
      </div>
   </li>
   <li class="mr-button">
      <label><span>Menu2</span></label>
      <div class="submenu">
         <div class="column">
            <ul class="cat_parent">
               <li>
                  <label>
                  <img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xMi8xMhR8XRwAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAPTSURBVDiNnZRbiFVVGMd/3z57nzPn5oyjjjU0Y5qXBBNKm2maLAsberMLRahFSBdRhPCheht88UGIgiiash4SjC5SQokPFTGUEuaF0cRKhazp6MyZ+zlnn3P2WvvrYe/BSYzKDxYsvrXWj//6r+9boqpc3Cm5RJI33Vzz0+Km+b+hxseURj+wdba192pJiq/i+VXeyLcseCGfz+EQAooqqP4XpKDiUCqVmBr6rS/dwHY5u4MVze1zf5zX5KXqhQJBCRwPvBS4aSABhP/CdYDsjQxPBrXRi8XVrg9Z1/gpJkYwbT3UZncjfgF//ALh5WMkgxFyaXCmXbmW+hCoXMY16VTEA5VaGQLIdN5DZuVWKBewtQphtUTtj5OMDewjOXKMfA7w/gFMiNTKGFDXGghtLKJeAX8YTA1JN5FI5ck2zie7/EFKpw8xduR18tU/cbPXsEQjjjXgWgNYoAFk4H349XNItyCtnWhrF8xdgRKQX/UotfZVTH35EvmxYxFY/w5lJnRaqSkMYf0hEu5Z3DP9SNMsWNgDdzxH2LSE5Jw2nMf3MLV/G7OGD5OYqXiGUsfaeKEO1da7mLz9ecYXrGM0zFEtTMLxT5HPnkEufou6GdxZc8k+9hbl3GK0Ep+dMawFxxpQA5Qg17GBeZv6aN70HpnNh/A7tjNeT6JDBeTAFuTcQVQ8ko3z8R7aTdV6EcxGQ02s1BjQ6YUgQFEklaPhpluZ/fBOkk/tZ8JrRSfqyMEdcGkAlQQNS9cS3rYROxn7GUYcY8AJLagFksDRd5CPnkROfYLWyqgxZJbfT2rjXsrJRhgtId/0QmgRJ4G7ejMm3Qj1WKmNfHVsPMEBBn9G+z8mfHcLsvcRmCqgIaSXrUHW9RKEIL8cQc99DeKQvLkDae9E/UhpaKc9tVc8qQYw1NbF8KJu/FPHkQ83QKWIBjXS3c9iWldCGZwT+1AviyQ87IIHotePGdbGnoYWmAK6ttLyymHmv/wdTs+LcPIn6H8NvBxOKo+sfCJS9PsJtHgeELxFdyNOBAxt7KkxcTlUoWFxNxKXXWrpfdHGgS/Q8kiUW7I22jt+CR0fBIREy7LIu7ikjAHXFZx6AGSAw3tg4RpwXPi+DzLgTAxC8TyIIIEPCmIUqYxCZRTxx6OrA/UAXMGRr9Zzy5yMc3RFs852VcGNtQZ65fMQZ0Y7xi00M0eIMcLpMRkbqYR3ugnLhZFSuOuMZfcNGSTrxg0tgLkKNJ2/Klc2UKioFn3d5SoXJK5Q5+17WT+vgU6uM4ar/LClnwNAKJHLpFTVv17gdIhIGqj9BQBF07VXMETuAAAAAElFTkSuQmCC" />
                  Item 2-1</label>
               </li>
            </ul>
         </div>
      </div>
   </li>
</ul>
</body>
</html> 
```

谢谢大家

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:39:56.850

为 IE8添加一个有效的*文档类型*可以解决这个问题，例如：

```
<!DOCTYPE html> 
```

Oterwise IE 将以[*Quirks 模式*](http://en.wikipedia.org/wiki/Quirks_mode)呈现页面，并且用于显示菜单的[CSS 子选择器](http://www.w3.org/TR/CSS2/selector.html#child-selectors) `ul#mrmenu li:hover>.submenu`将不起作用。*注意：CSS 后代选择器仍然可以在 Quirks 模式下工作。*

# ajax - ajax表单提交后保留bean属性

> ID：15898457
> 
> 赞同：3
> 
> 时间：2013-04-09T09:36:28.150
> 
> 标签：ajax, jsf, primefaces

我有一个`@ViewScoped` `@ManagedBean`创建唯一 ID 的。此 ID 以如下形式呈现：

```
<h:form> 
   <h:outputText value="#{myBean.uid}" id="uid"/>
   <h:hiddenInput value="#{myBean.uid}" id="hiddenId" />  
   ....
  <p:commandButton actionListener="#{myBean.create}" ajax="true" update="@form" value="Create" /> 
</h:form> 
```

到目前为止，一切都很好。在第一次请求时，页面会正确呈现。提交表单后，如果验证失败，`outputText`则为空，但隐藏的输入字段保留其变量。任何线索我必须做​​些什么来防止这种行为并让其`outputText`保持其状态？我意识到 bean 似乎在每个 ajax 请求之后被初始化。但是，为什么隐藏的输入字段会保留旧变量？

这是我的bean的相关代码：

```
@ManagedBean(name = "myBean", eager = true)
@Stateful
@Model
@ViewScoped
public class MyBean implements Serializable {

  ...
  private String uid;
  ...

  @PostConstruct
  public void initWithData() {
      this.uid = UUID.randomUUID().toString();
  }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T11:41:23.020

JSF[输入组件](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIInput.html)有 3 个位置存储值（状态）：

1.  [提交的值](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIInput.html#getSubmittedValue%28%29)（原始未转换/未验证的`String` [请求参数](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29)值）。
2.  [本地值](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIOutput.html#getLocalValue%28%29)（成功转换/验证的对象值，存储在组件本身内）。
3.  [模型值](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIOutput.html#getValue%28%29)（当整个表单处理成功时，存储为 bean 属性）

JSF[处理](http://grepcode.com/file/repo1.maven.org/maven2/javax.faces/jsf-api/2.1/javax/faces/component/UIInput.java#UIInput.validate%28javax.faces.context.FacesContext%29)输入组件如下：

*   通过组件的客户端 ID 获取 HTTP 请求参数值并将其存储为提交值。
*   如果转换/验证成功，将其设置为本地值并将提交的值设置为`null`。
*   如果成功处理了整个表单，则将其设置为模型值并将本地值设置为`null`。

JSF按如下方式[呈现输入组件的值：](http://grepcode.com/file/repo1.maven.org/maven2/org.glassfish/javax.faces/2.1.19/com/sun/faces/renderkit/html_basic/HtmlBasicRenderer.java#HtmlBasicRenderer.getCurrentValue%28javax.faces.context.FacesContext,javax.faces.component.UIComponent%29)

*   如果提交的值不是`null`，则显示它。
*   否则，如果本地值不是`null`，则显示它。
*   否则显示模型值。

因此，在您的一般验证失败的特定情况下，JSF 用于隐藏的输入组件，只是重新显示本地值而不是模型值。如果你想用输出文本实现同样的效果，我认为最好的方法是和 JSF 一样：

```
<h:outputText value="#{empty hiddenId.submittedValue ? empty hiddenId.localValue ? hiddenId.value : hiddenId.localValue : hiddenId.submittedValue}" />
<h:inputHidden id="hiddenId" binding="#{hiddenId}" value="#{myBean.uid}" /> 
```

或者，您可以只使用只读输入并在必要时通过 CSS 删除边框：

```
<h:inputText id="hiddenId" value="#{myBean.uid}" readonly="true" style="border: none;" /> 
```

至于你的 bean，我不确定那里发生了什么，因为这个类似乎非常紧密耦合。我宁愿把它分成 3 个类：一个真正的支持 bean、一个无状态服务和一个模型实体。此外，您还应该确保您没有将视图构建时间标记或属性绑定到视图范围 bean 的属性。否则，它确实会保证在每个请求上都被重建。

### 也可以看看：

*   [JSF2 Facelets 中的 JSTL...有意义吗？](https://stackoverflow.com/questions/3342984/jstl-in-jsf2-facelets-makes-sense/3343681#3343681)
*   [即使已经实例化了 ManagedBean（例如在 AJAX 调用上），也会调用 @PostConstruct 方法](https://stackoverflow.com/questions/8804317/postconstruct-method-is-called-even-if-the-managedbean-has-already-been-instant/8804588#8804588)

* * *

顺便说一句，[它只](http://docs.oracle.com/javaee/6/api/javax/faces/bean/ManagedBean.html)`eager=true`对豆类有影响。`@ApplicationScoped`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T19:16:47.340

问题可能是`@Model`刻板印象（因为您已经删除了它）。它结合`@Named`并使`@RequestScoped`bean 成为 CDI 请求范围的 bean。CDI 托管 bean 应该在 JSF 托管 bean 之前解析，因此`@ViewScoped`没有任何效果（它创建一个 JSF 托管 bean）。

# c# - DLLImport 找不到 DLL 文件

> ID：15898458
> 
> 赞同：2
> 
> 时间：2013-04-09T09:36:29.327
> 
> 标签：c#, dllimport

我有一个需要从 C++ dll 导入函数的 C# 应用程序。我使用 DLLImport 来加载函数。它在英文和中文环境下运行良好，但在法语操作系统中总是引发“未找到模块”异常。

代码快照：

```
[DllImport("abcdef.dll", CallingConvention = CallingConvention.StdCall)]
public static extern string Version(); 
```

请注意，模块名称中的字母已被替换，但名称本身的格式和长度相同。

和截图： ![在此处输入图像描述](https://i.stack.imgur.com/5eUyA.jpg)

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T04:19:26.287

我已经尝试了您提出的所有方法，但是问题仍然存在。

这是可以避免该错误的另一种方法。它使用 Win32 API 加载库并找到函数的地址，然后调用它。演示代码如下：

```
class Caller
{
    [DllImport("kernel32.dll")]
    private extern static IntPtr LoadLibrary(String path);
    [DllImport("kernel32.dll")]
    private extern static IntPtr GetProcAddress(IntPtr lib, String funcName);
    [DllImport("kernel32.dll")]
    private extern static bool FreeLibrary(IntPtr lib);

    private IntPtr _hModule;

    public Caller(string dllFile)
    {
        _hModule = LoadLibrary(dllFile);
    }

    ~Caller()
    {
        FreeLibrary(_hModule);
    }

    delegate string VersionFun();

    int main()
    {
        Caller caller = new Caller("abcdef.dll");
        IntPtr hFun = GetProcAddress(_hModule, "Version");
        VersionFun fun = Marshal.GetDelegateForFunctionPointer(hFun, typeof(VersionFun)) as VersionFun;
        Console.WriteLine(fun());

        return 0;
    }
} 
```

# google-chrome-extension - 全屏时键盘键在 chrome.app 中不起作用

> ID：15898459
> 
> 赞同：11
> 
> 时间：2013-04-09T09:36:29.997
> 
> 标签：google-chrome-extension, google-chrome-app

在 Google Chrome 打包应用程序中切换到全屏时（使用`webkitRequestFullScreen`），除了空格键、回车键、退格键和箭头之外，大多数键盘键都不起作用。

在全屏模式下，其他键（所有数字和字母）是否可以正常工作？

我注意到大多数键不会触发`keydown`,`keypress`和`keyup`事件。

这是一个问题，尤其是在处理关键事件至关重要的应用程序（例如 VNC 客户端）时。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-09T21:02:22.260

有两种全屏实现，它们仅相差一个字符。将较新的[HTML 全屏规范](https://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html)与`webkitRequestFullscreen`（小写“screen”）一起使用。

使用（大写“屏幕”）访问的[旧规范](https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode)需要键盘支持。避免，因为这可能会被弃用。`webkitRequestFullScreen``Element.ALLOW_KEYBOARD_INPUT`

# web-services - 如何使用 zbarsdk 条码扫描器获取产品价格详情

> ID：15898467
> 
> 赞同：-2
> 
> 时间：2013-04-09T09:37:04.110
> 
> 标签：web-services

我正在使用 ZbarSDK 通过扫描产品条形码来获取产品详细信息，但我只得到条形码没有条形码，但我需要产品详细信息，如产品名称、价格等。请帮我解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:45:40.043

扫描条形码编号后的最终结果。您必须然后搜索此条形码以获取产品详细信息。尝试以下 api 来搜索产品详细信息

[http://www.searchupc.com/handlers/upcsearch.ashx?request_type=3&access_token=](http://www.searchupc.com/handlers/upcsearch.ashx?request_type=3&access_token=) {my_token}&upc={scanned_code}

# wpf - 如何绑定 WPF GUI 值以反映基础值是否为某个枚举值

> ID：15898468
> 
> 赞同：0
> 
> 时间：2013-04-09T09:37:04.593
> 
> 标签：wpf, user-interface, binding, enums, viewmodel

我有一个 WPF 应用程序，它应该提醒用户泵中即将发生的错误。存在三种错误，我已将其定义为 PumpErrorModel 中的枚举。这个 pumpErrorModel 也知道哪种类型的错误最有可能。这由我的 PumpErrorViewModel 向 GUI 公开，该 GUI 具有绑定到这个最可能错误的值的标签，转换为字符串。到现在为止还挺好。

```
// from MainWindow.xaml
<Label ... Content="{Binding LikelyError, Converter={StaticResource PumpErrorTypeToString}}" />

// from PumpErrorViewModel.cs
private PumpErrorModel.PumpErrorType likelyError;
public PumpErrorModel.PumpErrorType LikelyError {
    get { return likelyError; }
    private set { likelyError = value; RaisePropertyChanged("LikelyError"); } } 
```

在我的 GUI 中，我还对每种类型的泵错误进行了描述，即每个枚举值都有一个描述。我想将每个标签的背景绑定到最可能的错误类型的值，这样当最可能的错误类型是“爆炸”时，描述爆炸的标签有红色背景，而其他标签有白色背景。

```
// from MainWindow.xaml. I would like to bind the background of these
<Label Content="Likely Error: Explosions" />
<Label Content="Likely Error: More Explosions!" />
<Label Content="Likely Error: Rabbits!!!" /> 
```

我可以在视图模型中为每种类型的错误创建一个布尔属性，指示可能的错误是否属于特定类型。然后我可以将每个标签背景绑定到相应的属性。但这对我来说似乎有点混乱，因为我必须在原始可能错误属性的设置器中对这些额外的每一个调用 RaisePropertyChanged。

```
// proposed code in PumpErrorViewModel.cs
public bool IsRabbits { get { return LikelyError == PumpErrorModel.PumpErrorType.Rabbits; } };

// amended LikelyError setter
public PumpErrorModel.PumpErrorType LikelyError {
   get ...
   private set { likelyError = value;
                 RaisePropertyChanged("LikelyError");
                 RaisePropertyChanged("IsRabbits"); } }

// proposed code in MainWindow.xaml
<Label Content="Likely Error: Rabbits!!!" BackGround="{Binding IsRabbits, Converter){StaticResource BoolToColor}}" /> 
```

如果我这样做，那么我在 LikelyError 和 IsRabbits 之间有一个耦合，每当我添加新的错误类型和布尔属性时，我很可能会忘记它。有没有更好的方法来实现我的目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:56:13.523

这似乎是在您的主视图模型上使用子集合的好情况。该子集合中的每个视图模型都将代表一个泵错误类型。然后，您的视图将绑定到该集合以列出所有潜在的泵错误并突出显示可能的错误。这是我们下面讨论的起点：

```
public class MainViewModel : ViewModel
{
    private readonly ICollection<PumpErrorTypeViewModel> pumpErrorTypes;

    public MainViewModel()
    {
        this.pumpErrorTypes = Enum.GetValues(typeof(PumpErrorType))
            .Cast<PumpErrorType>()
            .Select(x => new PumpErrorTypeViewModel(x))
            .ToList();
    }

    pubilc ICollection<PumpErrorTypeViewModel> PumpErrorTypes
    {
        get { return this.pumpErrorTypes; }
    }

public class PumpErrorTypeViewModel : ViewModel
{
    private readonly PumpErrorType type;

    public PumpErrorTypeViewModel(PumpErrorType type)
    {
        this.type = type;
    }

    public PumpErrorType Type
    {
        get { return this.type; }
    }

    public string Display
    {
        // do whatever formatting you like here
        get { return string.Format("Likely Error: {0}", this.type); }
    }
}

<ItemsControl ItemsSource="{Binding PumpErrorTypes}">
    <ItemsControl.ItemTemplate>
        <DataTemplate>
            <Label Content="{Binding Display}"/>
        </DataTemplate>
    </ItemsControl.ItemTemplate>
</ItemsControl> 
```

现在，为了实现标签背景着色的飞跃，我们有很多方法可以实现这一点，但最常见的两种是：

1.  `MainViewModel`可以`LikelyError`有财产。`PumpErrorTypeViewModel`可以接受`MainViewModel`它的构造函数并暴露一个`Background`属性。它可以监听变化`LikelyError`并相应地使其无效`Background`。这非常适合响应式实现（请参阅 ReactiveUI）。
2.  `PumpErrorViewModel`可能会暴露一个`IsLikely`属性，该属性在设置时会使其属性无效`Background`。每当更改并更新子属性时，`MainViewModel`都可以循环遍历所有内容。`pumpErrorTypes``LikelyError``IsLikely`

无论哪种方式，视图都有一个简单的变化：

```
<Label Content="{Binding Display}" Background="{Binding Background}"/> 
```

# doctrine-orm - 另一个实体中的 ZFCUser 身份

> ID：15898469
> 
> 赞同：1
> 
> 时间：2013-04-09T09:37:08.777
> 
> 标签：doctrine-orm, doctrine, entity, zend-framework2, zfcuser

## 有没有办法可以在另一个实体中获取 ZfcUser 身份或 user_id？

我一直在看下面的链接，与servicemanager打交道。

[https://github.com/ZF-Commons/ZfcUser/wiki/How-to-check-if-the-user-is-logged-in#service-manager](https://github.com/ZF-Commons/ZfcUser/wiki/How-to-check-if-the-user-is-logged-in#service-manager)

使用服务管理器时，我得到以下信息：

> 在非对象上调用成员函数 get()

在以下行：

```
$auth = $sm->get('zfcuser_auth_service'); 
```

## **使用服务管理器**

```
public class CustomEntity implements ServiceManagerAwareInterface
{
protected $sm;

/**
 * @ORM\Column(type="integer", nullable=false)
 */
protected $creator_id;

/**
 *
 * @ORM\Column(type="datetime", nullable=false)
 */
protected $creation_date;

/**
 * @ORM\Column(type="integer", nullable=true)
 */
protected $last_modifier_id;

/**
 * @ORM\Column(type="datetime", nullable=true)
 */
protected $last_modified_date;

public function setServiceManager(ServiceManager $serviceManager)
{
    $this->sm = $serviceManager;
    return $this->sm;
}

public function getLoggedUserId()
{
    $auth = $this->getServiceManager()->get('zfcuser_auth_service');
    return $auth->getIdenty()->getId();
}

/**
 * @ORM\PrePersist
 */
public function onPrePersist()
{
    //$this->creator_id = $this->getLoggedUserId();
    $this->creation_date = new \DateTime('now');
}

/**
 * @ORM\PreUpdate
 */
public function onUpdate()
{
    //$this->last_modifier_id = $this->getLoggedUserId();
    $this->last_modified_date = new \DateTime('now');
} 
```

在上面的代码中，我一直在尝试使用 ServiceManager，但没有任何运气。正如我所说，此时它出错了：

> 在非对象上调用成员函数 get()

在以下行：

```
$auth = $this->getServiceManager()->get('zfcuser_auth_service'); 
```

以及 ServiceManager 接口没有 Get 方法来检索 ServiceManager。所以在那种情况下，我也尝试使用 ServiceLocator 而不是 Manager，但也没有任何运气。

## **旧版**

通过在实体中创建 set 方法，我已经能够使用控制器设置 User_id。

**控制器：**

```
public function addAction()
{
    ...
    $customEntity->setCreator($this->zfcUserAuthentication()->getIdentity()->getId());
                $this->getEntityManager()->persist($customEntity);
    $this->getEntityManager()->flush();
    ...
} 
```

**实体：**

```
public function setCreator($user_id){
    $this->creator_id = $user_id;
    $this->creation_date = new \DateTime;
}

public function setModifier($user_id){
    $this->last_modifier_id = $user_id;
    $this->last_modified_date = new \DateTime;
} 
```

## **新版本**

无需在每次执行操作时都设置 setCreator 或 setModifier，在 Doctrine Persist 或 Update 处获取用户身份会很可爱。

我想在我的实体中包含 zfcUser_id。一些代码示例向您展示我所说的：

```
/**
* @ORM\Entity
* @ORM\HasLifecycleCallbacks
*/
class CustomEntity
{
/**
 * @ORM\Column(type="integer", nullable=false)
 */
protected $creator_id;

/**
 *
 * @ORM\Column(type="datetime", nullable=false)
 */
protected $creation_date;

...

/**
 * @ORM\PrePersist
 */
public function onPrePersist()
{
    $this->creator_id = ZfcUser_id
    $this->creation_date = new \DateTime('now');
}

/**
 * @ORM\PreUpdate
 */
public function onUpdate()
{
    $this->last_modifier_id = ZfcUser_id
    $this->last_modified_date = new \DateTime('now');
} 
```

如您所见，我希望在以下函数中有 ZfcUser_id：onPrePersist 和 onUpdate 以保存此实体/对象的创建者或更新者。对于这个版本，我正在寻找一种获取 ZfcUser 身份的方法，并找到了这个链接：

[https://github.com/ZF-Commons/ZfcUser/wiki/How-to-check-if-the-user-is-logged-in#service-manager](https://github.com/ZF-Commons/ZfcUser/wiki/How-to-check-if-the-user-is-logged-in#service-manager)

## 结果基于回复

创建您的实体，为您的字段/属性创建一些设置方法。让您的控制器处理这部分。对于将日期（时间）设置为默认值，您可以使用 onPrePresist、onUpdate 或者您应该查看其他 Doctrine Block Annotations。

# wpf - wpf Datagrid列宽度在ListBox中失败

> ID：15898471
> 
> 赞同：6
> 
> 时间：2013-04-09T09:37:19.260
> 
> 标签：wpf, datagrid, listbox

我有一个包含从 UserControl 派生的项目的 ListBox。具体的 UserControl 包含（除其他外）一个 DataGrid。基本上我无法更改具体的 UserControl（仅出于测试目的而更改；它的第三方类型）。一旦将一个列宽设置为“*”，所有列的 DataGrid 列宽就会被破坏，这是填充整个空间所必需的。

我可以用一个简化的例子来重现它（没有用户控件）。因此，如果我将 DataGrid 添加为 ListBoxItem，指定列宽“*”会破坏列宽。顺便说一句，用户也不能再调整列的大小。

简单的例子：

```
<Window x:Class="DataGridSpike.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MainWindow" Height="350" Width="525">
<Grid>
    <ListBox HorizontalContentAlignment="Stretch" >
        <!-- Column width is basically ok but only since not "*" -->
        <DataGrid>
            <DataGrid.Columns>
                <DataGridTextColumn Header="Column1"/>
                <DataGridTextColumn Header="Column2"/>
                <DataGridTextColumn Header="Column3"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Broken column width: -->
        <DataGrid>
            <DataGrid.Columns>
                <DataGridTextColumn Header="Column1"/>
                <DataGridTextColumn Header="Column2" Width="*"/>
                <DataGridTextColumn Header="Column3"/>
            </DataGrid.Columns>
        </DataGrid>
    </ListBox>
</Grid> 
```

有谁知道如何解决这一问题？

问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:57:46.673

根据 sa_ddam213 的建议，我发现了一个可行的方法。到目前为止我没有其他想法。

我用 ListView 包装了 DataGrid，从 ListView 中删除了所有“装饰”，并将*GridViewColumn*的宽度绑定到 ListView 的 ActualWidth。也许 ListView 以外的某些控件也可以工作。我只是在玩 ListView。简单的边框不起作用。

必须以某种方式调整边距，并且右侧有一个我无法消除的间隙（但我可以忍受）。除非我禁用 DataGrid 的 Horizo​​ntalScrollBarVisibility，否则在用鼠标拖动寡妇宽度时，我会得到奇怪的闪烁鬼水平滚动条。

所以这里的 XAML 似乎就足够了。请注意，实际的 ListView kludge 将是具体 UserControl 的一部分。但是，以下（简化的）代码显示了我所做的：

```
<Window x:Class="DataGridSpike.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MainWindow" Height="350" Width="525">
    <Grid>
        <ListBox HorizontalContentAlignment="Stretch">
            <!-- ListView is just a kludge -->
            <ListView HorizontalContentAlignment="Stretch" Padding="-4,2,-10,0" BorderThickness="0">
                <ListView.View>
                    <GridView>
                        <GridView.ColumnHeaderContainerStyle>
                            <Style>
                                <Setter Property="FrameworkElement.Visibility" Value="Collapsed"/>
                            </Style>
                        </GridView.ColumnHeaderContainerStyle>
                        <GridViewColumn Width="{Binding Path=ActualWidth, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListView}}}" />
                    </GridView>
                </ListView.View>
                <DataGrid HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch"
                    Padding="-2,0" HorizontalScrollBarVisibility="Disabled">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Column1"/>
                        <DataGridTextColumn Header="Column2" Width="1*" />
                        <DataGridTextColumn Header="Column3"  />
                    </DataGrid.Columns>
                </DataGrid>
            </ListView>
        </ListBox>
    </Grid>
</Window> 
```

不过，这只是一种解决方法。仍然欢迎任何合理的“修复”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T11:21:11.920

您可以将`DataGrid`宽度绑定回`ListBox` `ActualWidth`，这将给出`DataGrid`实际尺寸，而不是`Auto`尺寸`*`应该起作用。

```
<!-- Broken column width: -->
<DataGrid Width="{Binding ActualWidth, Mode=OneWay, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ItemsPresenter}}}" Margin="-2,0,0,0">
    <DataGrid.Columns>
        <DataGridTextColumn Header="Column1"/>
        <DataGridTextColumn Header="Column2" Width="*"/>
        <DataGridTextColumn Header="Column3"/>
    </DataGrid.Columns>
</DataGrid> 
```

然而，由于内容和边缘之间有一些间距`ListBox`，您可能需要`Margin`稍微调整（就像我在上面所做的那样）以避免`DataGrid`向右移动。

结果：

![在此处输入图像描述](https://i.stack.imgur.com/ihYJQ.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:19:11.790

Width="Auto" 将解决问题。您还可以指定“MaxWidth”来限制列宽扩展。

```
 <DataGrid.Columns>
                <DataGridTextColumn Header="Column1"/>
                <DataGridTextColumn Header="Column2" Width="Auto" MaxWidth="200" />
                <DataGridTextColumn Header="Column3"/>
      </DataGrid.Columns> 
```

希望这会有所帮助。

# string - 8086 ASM - 输出字符串到屏幕

> ID：15898479
> 
> 赞同：0
> 
> 时间：2013-04-09T09:37:37.203
> 
> 标签：string, assembly, output, x86-16

我正在尝试从键盘获取输入，然后将其输出到屏幕。

我的代码；

```
 BITS 16                 ;Set code generation to 16 bit mode
ORG 0x0100;
SECTION .text;

MAIN:
    mov SI, MyArray

    call GetString
    call Putln
    call PutString

    jmp Exit;

GetString:

    call Getch ; get the character stored in DL

    cmp dl, 0dh ; if Enter is pressed Exit the subroutine
    je Return

;    call Putch ;*commeted out to see if putsring works* ; output the character on screen

    stosb ; store the character in al to [di] and increment di by 1
    jmp GetString ; loop back to GetString  

Return:
    mov al, 0 ; terminate array with a 0
    stosb
    ret

PutString:
    cld
    lodsb ; load the character in [si] to al and increment si by 1

    cmp al, 0
    jz Return2

    mov dl, al
    call Putch

    jmp PutString ; loop back to PutString

Return2:
    Ret

Getch:
    push di

    mov ah, 7 ; keyboard input subprogram without echo
    int 21h ; read the character into al
    mov dl, al
    pop di

    RET ; return

Putch:
    push di

    mov ah, 2h ; display subprogram
    INT 21H ;read the characters from al
    pop di

    RET ; Return

Putln: ;new line
    mov ah, 2
    mov dl, 0DH ;Carriage return
    int 21h
    mov dl, 0AH  ;Line feed
    int 21H
    RET ; return

Exit:
    MOV AH,04Ch ; Select exit function
    MOV AL,00   ; Return 0
    INT 21h     ; Call the interrupt to exit

SECTION .bss
MyArray resb 256 
```

但是我无法让 PutString 正常工作。无论在键盘上键入什么，它都会打印相同的 ASCII 字符。

任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:43:29.357

我没有看到您`DI`在任何地方进行初始化。它可能应该设置为指向`MyArray`like `SI`，否则您`STOSB`只会写入某个随机位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:50:49.060

这些是您需要进行的唯一更改：

```
...
;;;;    mov SI, MyArray
    mov DI, MyArray ;;;; stosb uses DI

    call GetString
    call Putln

    mov SI, MyArray ;;;; lodsb uses SI
... 
```

# c# - 如何使 ValidatesOnDataErrors 可绑定？

> ID：15898480
> 
> 赞同：1
> 
> 时间：2013-04-09T09:37:40.987
> 
> 标签：c#, .net, wpf, data-binding, mvvm

我必须需要绑定 的值`ValidatesOnDataErrors`，以便它可以在运行时确定。

这样做的原因是因为我并不总是想验证数据。

这是绑定的属性，所以我知道我**不能**这样做：

```
"{Binding Path=SomePath, ValidatesOnDataErrors={Binding Path=SomeBoolProperty}}" 
```

所以我的问题是，我将如何更改我的绑定，以便 , 的值`ValidatesOnDataErrors`可以在运行时确定。

**注意：**我想将绑定保留在`ViewModel`. 我不想在`View's`后面的代码中设置任何东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:43:01.473

在您的 ViewModel 中实现此逻辑，并使其实现 IDataErrorInfo 接口。

当不需要验证时，使属性：

```
string Error { get; }
string this[string columnName] { get; } 
```

返回一个空字符串；

作为奖励，这种行为将很容易测试。

# php - 在 OpenSearch 的接收端获取 {searchTerms}？

> ID：15898481
> 
> 赞同：1
> 
> 时间：2013-04-09T09:37:41.987
> 
> 标签：php, parameters, opensearch

我已经`OpenSearch`在一个网站上实现了，但想法是接收结果参数，然后使用它转发到另一个服务。就像是：

*   我的 opensearch.xml 有诸如 mywebsite/search&q={searchTerms} 之类的 URL
*   当我到达我的网站/搜索时，我需要验证“q”是否存在并继续

我正在尝试打印所有变量，`$_GET`并且`$_POST`“q”无处可见。

如何测试是否`{searchTerms}`存在？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:00:11.447

```
mywebsite/search&q={searchTerms} 
```

网址应该是

```
mywebsite/search?q={searchTerms} 
```

或者您没有发送有效的查询参数，那么 q 应该可以在`$_GET['q']`

# java - Wicket：克隆对象中的内部错误

> ID：15898487
> 
> 赞同：0
> 
> 时间：2013-04-09T09:38:05.773
> 
> 标签：java, object, wicket, cloning

我正在 wicket 编程。我正在尝试在我的服务器上上传文件。但是当我这样做时，我在上传“克隆对象错误”时遇到错误，下面是我得到的详细错误

```
Page [Page class = com.pcmc.theka.pages.TrnThUploadTenderDocument, id = 3] couldn't be cloned to move to another pagemap
wicket.WicketRuntimeException: Internal error cloning object
    at wicket.util.lang.Objects.cloneObject(Objects.java:362)
    at wicket.markup.html.WebPage.onNewBrowserWindow(WebPage.java:337)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at wicket.RequestListenerInterface.invoke(RequestListenerInterface.java:163)
    at wicket.request.target.component.listener.ListenerInterfaceRequestTarget.processEvents(ListenerInterfaceRequestTarget.java:74)
    at wicket.request.compound.DefaultEventProcessorStrategy.processEvents(DefaultEventProcessorStrategy.java:65)
    at wicket.request.compound.AbstractCompoundRequestCycleProcessor.processEvents(AbstractCompoundRequestCycleProcessor.java:57)
    at wicket.RequestCycle.doProcessEventsAndRespond(RequestCycle.java:846)
    at wicket.RequestCycle.processEventsAndRespond(RequestCycle.java:879)
    at wicket.RequestCycle.step(RequestCycle.java:960)
    at wicket.RequestCycle.steps(RequestCycle.java:1034)
    at wicket.RequestCycle.request(RequestCycle.java:453)
    at wicket.protocol.http.WicketServlet.doGet(WicketServlet.java:215)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1001)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
 Caused by: java.io.NotSerializableException: org.apache.catalina.core.ApplicationContextFacade
    at java.io.ObjectOutputStream.writeObject0(Unknown Source)
    at java.io.ObjectOutputStream.defaultWriteFields(Unknown Source)
    at java.io.ObjectOutputStream.writeSerialData(Unknown Source)
    at java.io.ObjectOutputStream.writeOrdinaryObject(Unknown Source)
    at java.io.ObjectOutputStream.writeObject0(Unknown Source)
    at java.io.ObjectOutputStream.writeObject(Unknown Source)
    at wicket.util.lang.Objects.cloneObject(Objects.java:351)
    ... 33 more 
```

需要帮助......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:39:33.507

`java.io.NotSerializableException: org.apache.catalina.core.ApplicationContextFacade`是线索。您在对象图中的某个地方引用了`ApplicationContextFacade`不可序列化的引用，因此您应该尝试摆脱它。

（基于这个[https://community.jboss.org/message/210557](https://community.jboss.org/message/210557)，也许你有参考`ServletContext`）

# android - 在 Android 游戏中保存高分 - 共享首选项

> ID：15898490
> 
> 赞同：0
> 
> 时间：2013-04-09T09:38:09.913
> 
> 标签：android, sharedpreferences

最近我正在开发一个简单的安卓游戏。对于评分部分，我在很多网站上分享的偏好最好保存高分。现在，如果我需要在游戏中保存不同关卡的高分怎么办？我希望保存每个级别的前三名得分手...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T10:03:34.327

要保存您的分数，您可以执行以下操作：

```
// prepare the data: put the String values of the scores of the first 3 users
// in one String array for each level
String[] firstLevelHighscores = new String[] { 
    firstUserLevel1Score, secondUserLevel1Score, thirdUserLevel1Score 
};
String[] secondLevelHighscores = new String[] { 
    firstUserLevel2Score, secondUserLevel2Score, thirdUserLevel2Score 
};
String[] thirdLevelHighscores = new String[] { 
    firstUserLevel3Score, secondUserLevel3Score, thirdUserLevel3Score 
};

// now save them in SharedPreferences
SharedPreferences sharedPref = getSharedPreferences("LevelScores", 
        Context.MODE_PRIVATE);
Editor editor = sharedPref.edit();
editor.putStringSet("level1", firstLevelHighscores);
editor.putStringSet("level2", secondLevelHighscores);
editor.putStringSet("level3", thirdLevelHighscores); 
```

请注意，您可以将更多用户的分数放入字符串数组中。如果您需要为更多级别保存分数，您只需创建更多数组。

要从 SharedPreferences 中检索保存的数据，您可以这样做：

```
SharedPreferences sharedPref = getSharedPreferences("LevelScores", 
        Context.MODE_PRIVATE);
String[] firstLevelHighscores = sharedPref.getStringSet("level1", null);
String[] secondLevelHighscores = sharedPref.getStringSet("level2", null);
String[] thirdLevelHighscores = sharedPref.getStringSet("level3", null); 
```

我假设您能够转换`int`为`String`，反之亦然。希望它对你有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:43:48.840

有很多方法可以将您的分数保存到`SharedPreference`. 一切都取决于您的实施方式。

您可以简单地使用`putStringSet(key, String[])`where 作为关键级别，而 String[] 是第 1、第 2 和第 3 位。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-09T09:50:48.737

分数设置

```
static final String[] LEVEL = {"level1","level2","level3"};

int bestScore1 = 100;
int bestScore2 = 90;
int bestScore3 = 80;

SharedPreferences sp = getSharedPreferences(LEVEL[0],Activity.MODE_PRIVATE);
    SharedPreferences.Editor editor = sp.edit();

    editor.putInt("First", bestScore1);
    editor.putInt("Second", bestScore2);
    editor.putInt("Third", bestScore3);

    editor.commit(); 
```

但是你需要计算LEVEL的索引

得分

```
SharedPreferences sp = getSharedPreferences(LEVEL[0], Activity.MODE_PRIVATE);

    bestScore1 = sp.getInt("First", 0);
    bestScore2 = sp.getInt("Second", 0);
    bestScore3 = sp.getInt("Third", 0); 
```

嗯..但我认为这不是解决您问题的最佳方法：<

# java - 扫描仪不工作而不是缓冲阅读器

> ID：15898499
> 
> 赞同：-3
> 
> 时间：2013-04-09T09:38:37.233
> 
> 标签：java, file, text

我正在编写此代码以从文本文件中删除一个单词，但似乎无法让扫描仪工作。它可以使用，`bufferedreader`但我不允许使用它。我在这里做错了什么？

```
 public static void Option2Method(String dictionary) throws IOException 
{

    File inputFile = new File(dictionary);
    File tempFile = new File("TempDict.txt");
    String tempword = JOptionPane.showInputDialog(null, "Enter a word to remove");
    String lineToRemove = tempword.toLowerCase();
    lineToRemove = lineToRemove.replaceAll(",", "");
    lineToRemove = lineToRemove.replaceAll("\\.", "");
    lineToRemove = lineToRemove.replaceAll("\\?", "");
    lineToRemove = lineToRemove.replaceAll(" ", "");

    Scanner reader = new Scanner(new File(inputFile));
    FileWriter writer = new FileWriter(tempFile);
    String currentLine;

    while((currentLine = reader.hasNext()) != null)
    {
        String trimmedLine = currentLine.trim();
        if(trimmedLine.equals(lineToRemove)) continue;
        writer.write(currentLine + "\n");
    }
    reader.close();
    writer.close();
    inputFile.delete();
    tempFile.renameTo(inputFile);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:42:51.480

```
while((currentLine = reader.next()) != null) 
```

使用`next()`而不是`hasNext()`.

`hasNext()`- 这只会说明其输入中是否存在更多令牌。

`next()`- 这将从其输入返回下一个完整的令牌。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:55:28.760

它应该是

```
Scanner reader = new Scanner(new File(inputFile));
FileWriter writer = new FileWriter(tempFile);
while(reader.hasNextLine()) {
   String currentLine = reader.nextLine();
   ... 
```

# joomla2.5 - 在同一网络服务器上安装两个 Joomla 2.5 和 3.0

> ID：15898500
> 
> 赞同：0
> 
> 时间：2013-04-09T09:38:40.037
> 
> 标签：joomla2.5, joomla3.0

目前，我已经安装了 Joomla 2.5，我正在尝试在同一个 Web 服务器上安装 Joomla 3.0。（允许运行多个站点）

在 www（根目录）下，我已经安装了 Joomla 2.5 并且工作没有任何问题。要安装 Joomla 3.0，解压缩并上传包文件到例如 www/joomla3 文件夹。我已将网址（例如 www.joomla3.com）设置为指向 joomla3 文件夹。

对于 joomla 3 配置，我访问 url（例如 www.joomla3.com）但我收到错误 310（net::ERR_TOO_MANY_REDIRECTS）。如果我删除 joomla3 文件夹上的 index.php，我会看到 web 目录。为什么我会得到这个，我该如何解决这个错误。我真的很感谢你的帮助。

# c# - 正则表达式获取错误消息

> ID：15898501
> 
> 赞同：0
> 
> 时间：2013-04-09T09:38:41.923
> 
> 标签：c#, regex

我是 RegEx 的新手，我想知道是否有办法向用户显示错误消息，例如他/她仅通过使用 RegEx 做错了什么。是否有一些假设的 RegEx.GetErroMessage 事情？用户输入一个字符串，我将它与我的正则表达式模式匹配，如果没有匹配，我想显示错误。

假设我有这样的表情`^[0-9]{0,8}$`。据我了解，我告诉匹配数字长度小于或等于 8 的数字的表达式。现在的问题是用户可能输入了一个字母，或者他/她输入了超过 8 个数字。

我可以从 RegEx 以某种方式获取错误消息，还是必须为每种情况编写自己的错误消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:40:48.050

如果您希望消息对用户友好，则必须为每个 RegEx 检查编写自己的消息。

即使 Regex 可以指向输入中的特定字符，消息也会令人毛骨悚然，例如

```
Incorrect character at position 7 for expression ^[0-9]{0,8}$ 
```

一个更好的选择是在你的 UI 中使用屏蔽输入，这样用户就不能输入任何东西，只能输入数字。

# excel - Excel 中的 Cell_Changing 事件

> ID：15898505
> 
> 赞同：2
> 
> 时间：2013-04-09T09:39:05.920
> 
> 标签：excel, events, vsto, vba

在用户输入被提交到单元格**之前**，是否有与`Cell_Change`Event in`VBA`或什至`VSTO`会触发的东西等效？我需要在单元格中输入新值之前添加一些检查。

 **到`WorkSheet_Change`事件触发时，Excel 已经修改了用户输入并将其转换为不同的值。我需要获取用户输入的原始输入。

**编辑**

更具体地说，我想阻止 Excel 将诸如`3E9`在我的情况下恰好是有效（非数字/非科学）输入的值转换为科学记数法。

用户可以在整个工作表的任何单元格中输入这些值，因此我无法预先应用文本格式，因为这也会阻止 Excel 对有效数字数据执行其正常功能。

所以我打算：

*   在输入进入单元格并被转换之前以某种方式获取输入。
*   然后检查它是否符合我正在观察的确切模式，并在该特定单元格上即时应用文本格式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:47:46.167

您可以捕获正在应用的科学记数法并将其反转为文本字符串

*使用 RegExp 更新以处理解析*

*   将有效值重新格式化回初始文本（即`120E3`或`99E13`）
*   用消息替换损坏的值以租用它们（单元格已格式化为文本，因此下次`12E14`保留为文本`12E14`

**工作表事件代码**

```
Private Sub Worksheet_Change(ByVal Target As Range)
Dim rng1 As Range
Dim strTmp As String
Dim objRegex As Object
Set objRegex = CreateObject("vbscript.regexp")
With objRegex
    .Pattern = "([1-9]+)(0+)"
    Application.EnableEvents = False
    For Each rng1 In Target.Cells
        If rng1.NumberFormat = "0.00E+00" Then
        rng1.NumberFormat = "@"
        strTmp = Len(.Replace(rng1.Value, "$2"))
            If .Test(rng1.Value) Then
            rng1.Value = "'" & .Replace(rng1.Value, "$1E") & strTmp
                Else
            rng1.Value = "Pls re-enter as text"
            End If
        End If
    Next
End With
Application.EnableEvents = True
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T16:03:03.910

我想知道您是否可以使用数据验证来帮助解决这个问题。假设您有 3E9 和 4E7 等有效输入，但没有 5E2 或 7E1 等有效输入。然后让我们进一步假设您很少有超过 10m 的有效数字输入。如果这种非常特殊的情况属实，您可以在用户输入大于 10m 的数字时警告用户。如果它是合法的，他们会忽略警告并继续前进。如果他们打算输入文字字符串，他们可以取消输入并按照您的指示在前面加上撇号。您可以像这样创建 DV：

```
Allow: Custom
Formula: =OR(ISTEXT(A1),A1<10^7)
Style: Warning
Title: Scientific Notation
Msg: If you enter a string like '9E99' Excel will convert to a number in scientific notation format. If you want the literal string, precede it with an apostrophe. 
```

您的情况是如此具体，这可能会要求很多。也许还有其他一些你可以使用 DV 来避免的特征。就像如果有人输入整数的可能性极小，您可以使用 DV 进行检查。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T11:17:46.653

撤销功能呢？

```
Private Sub Worksheet_Change(ByVal Target As Range) 
    Dim OldValue As String, NewValue as string
    If Intersect(Target, Range("B:B")) Is Nothing Then Exit Sub 
    With Application 

        .EnableEvents = False 

        .Undo 
        'this is before
        OldValue = Target.Cells(1).Value 
        .Redo 
        'this is after 
        Newvalue = Target.Cells(1).value

        'do some check to see if you need to reverse the change 
        If oldvalue > newvalue then 
            .undo
            Msgbox "Not valid"
        end if

        .EnableEvents = True 

    End With

End Sub 
```**

# youtube-api - 有没有办法使用他们的 API 以编程方式启用/禁用 Youtube 视频的字幕？

> ID：15898507
> 
> 赞同：4
> 
> 时间：2013-04-09T09:39:06.310
> 
> 标签：youtube-api

我想使用 Youtube 的 API 启用和禁用我的视频的特定字幕轨道。有没有办法做到这一点？

我只找到了更新/删除字幕轨道的方法，但没有找到如何启用/禁用它。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-31T21:18:58.310

使用当前的 YouTube 数据 API 无法做到这一点。如果您希望添加此功能，我建议您[提交功能请求。](https://code.google.com/p/gdata-issues/issues/entry?template=YouTube%20%28Enhancement%20Request%29)

# javascript - HTML 5 视频。使用源元素而不是 attr 返回播放错误

> ID：15898511
> 
> 赞同：8
> 
> 时间：2013-04-09T09:39:17.283
> 
> 标签：javascript, html, video, error-handling

我希望为一个简单的 HTML5 视频元素添加一些错误处理。[我正在使用在网上](http://www.whatwg.org/specs/web-apps/current-work/#the-video-element)随处可见的这段代码：

**JS**

```
function playbackFailed(e) {
   // video playback failed - show a message saying why
   switch (e.target.error.code) {
     case e.target.error.MEDIA_ERR_ABORTED:
       alert('You aborted the video playback.');
       break;
    case e.target.error.MEDIA_ERR_NETWORK:
      alert('A network error caused the video download to fail part-way.');
      break;
   case e.target.error.MEDIA_ERR_DECODE:
      alert('The video playback was aborted due to a corruption problem or because the video used features your browser did not support.');
      break;
   case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
     alert('The video could not be loaded, either because the server or network failed or because the format is not supported.');
     break;
   default:
     alert('An unknown error occurred.');
     break;
   }
} 
```

**HTML**

```
<video id="a" src="tgif.vid" autoplay controls onerror="playbackFailed(event)" poster="http://img.rasset.ie/000736d2-512.jpg" width="620" height="400"></video> 
```

以上工作正常，当页面加载时我得到一个活泼的警报框。

但是，如果我没有“src”属性而是使用元素“onerror(event)”中的`<source>`标签`<video>`不会触发？示例标记：

```
<video id="b" autoplay controls onerror="playbackFailed(event)" poster="http://img.rasset.ie/000736d2-512.jpg" width="620" height="400">
    <source src="tgif.vid">
</video> 
```

请注意，我已在 ID“a”和“b”上方给出了两个视频元素。

有人可以在以下代码中解释原因：

```
<script>
var a = document.getElementById('a');
var b = document.getElementById('b');

a.addEventListener('error', function(e){alert('error event on a')});
b.addEventListener('error', function(e){alert('error event on b')});

</script> 
```

我只收到“a”而不是“b”的警报

我需要使用`<source>`标签，因为我将为不同的设备等提供多种媒体类型。

提前感谢您的任何答案/评论

小号

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-09T10:41:10.180

如果涉及源，则[必须从`<source>`元素](https://developer.mozilla.org/en-US/docs/HTML/Using_HTML5_audio_and_video#Error_handling)本身捕获加载源中的错误。但是，要检查是否所有`<source>`元素都失败了，[请检查`<video>`元素的`networkState`属性](https://developer.mozilla.org/en-US/docs/HTML/Using_HTML5_audio_and_video#Detecting_when_no_sources_have_loaded)是否为`NETWORK_NO_SOURCE`.

有关以下内容的更多详细信息：

*   [HTML媒体元素](https://developer.mozilla.org/en-US/docs/DOM/HTMLMediaElement)
*   [`<source>`](https://developer.mozilla.org/en-US/docs/HTML/Element/source)
*   [使用 HTML5 音频和视频](https://developer.mozilla.org/en-US/docs/HTML/Using_HTML5_audio_and_video)

这是第一个源无法加载并向控制台输出错误时的[示例代码：](http://jsfiddle.net/99KwN/1/)

HTML

```
<video id="b" autoplay controls poster="http://img.rasset.ie/000736d2-512.jpg" width="620" height="400">
    <source src="tgif.vid" />
    <source src="http://html5doctor.com/demos/video-canvas-magic/video.mp4" />
    <source src="http://html5doctor.com/demos/video-canvas-magic/video.webm" />
    <source src="http://html5doctor.com/demos/video-canvas-magic/video.ogg" />
</video> 
```

JS（使用处理程序来避免 inine 脚本）

```
var sources = document.getElementsByTagName('source'),
    i;

for (i = 0; i < sources.length; i++) {
    (function (i) {
        sources[i].addEventListener('error', function (e) {
            console.log('Error loading: '+e.target.src);
        });
    }(i));
} 
```

# c++ - 在 C++ 中使用字符串，分析字符并通过类创建功能

> ID：15898512
> 
> 赞同：0
> 
> 时间：2013-04-09T09:39:17.840
> 
> 标签：c++, string, class

我一直在玩这本我不久前拿起的 C++ 书，并进入了字符串部分（我正在玩类）。到目前为止，我不得不使用 for 循环和一些基本功能的东西。现在我正试图弄清楚如何分析字符串中的某些内容。这本书要求我尝试扫描一个字符串，看看它有多长，并计算字符串中有多少个元音。另外，它希望我根据它的 ASCII 数字来计算字符串并将其相加。最后一个有点奇怪，但如果它说有可能，那我该争论谁？

我在网上看到一些帖子说有人试图扫描大小写字母，所以我想我也不妨试试。我也试图看看类是如何工作的，这似乎是一个很好的方式来玩这个过程。

我想我已经放下了类结构，至少就默认构造函数和函数而言，（对于重载的构造函数以及它们所扮演的角色有点不确定）

这本书展示了一些例子，但不可否认，有时它对我来说没有多大意义。

就代码而言，我一直在尝试

```
string usrWord;   

string vowel = "aeiou";

string::size_type vowel2;
vowel2 = usrWord.find(vowel,0);

string::size_type wordL;
wordL = usrWord.length();

cout << "This has " << wordL << " characters in the string, and " << vowel2 << " vowels. << endl; 
```

我不知道如何做 ASCII 的事情，我想知道这是否足以检查字符大小？（就像我在寻找元音一样）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:43:59.420

```
std::string str ("Find the vowel");
unsigned found = str.find_first_of("aeiou");
while (found!=std::string::npos)
{
   cout<<"\n found "<< str[found];
   found=str.find_first_of("aeiou",found+1);
} 
```

# python - 带有超过 2 个参数或带有 != 的 attrs 不可见

> ID：15898515
> 
> 赞同：-4
> 
> 时间：2013-04-09T09:39:23.590
> 
> 标签：python, xml, openerp

这是我的源代码，当我从选择框中选择！= 银行值时，我需要知道隐藏**bank_id字段？**我试过了

```
attrs="{'invisible': [('special_deduction_type', '!=', 'bank')]}" 
```

也适用于所有字段。但是许多字段显示在布局之外。请参考图片

```
![<page string="Special Deductions">
<field name='special_deduction_ids' nolabel='1'>
<tree string='List' editable='bottom'>
<field name='deduction_id' invisible="1" />
<field name='special_deduction_type' />
<field name='bank_id'
attrs="{'invisible': \[('special_deduction_type', '=', 'bank')\]}" />
<field name='union_id'
attrs="{'invisible': \[('special_deduction_type', '=', 'union')\]}" />
<field name='insurance_id'
attrs="{'invisible': \[('special_deduction_type', '=', 'insurance')\]}" />
<field name='loan_id'
attrs="{'invisible': \[('special_deduction_type', '=', 'loan')\]}" />
</tree>
</field>] 
```

![在此处输入图像描述](https://i.stack.imgur.com/tu9Tw.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:31:11.067

```
<page string="Special Deductions">
<field name='special_deduction_ids' nolabel='1'>
<tree string='List' editable='bottom'>
<field name='deduction_id' invisible="1" />
<field name='special_deduction_type' />
<field name='bank_id'
attrs="{'invisible': [('special_deduction_type','in',('loan','union','insurance'))]}"/>
<field name='union_id'
attrs="{'invisible': [('special_deduction_type','in',('bank','loan','insurance'))]}"/>
<field name='insurance_id'
attrs="{'invisible': [('special_deduction_type','in',('loan','union','bank'))]}"/>
<field name='loan_id'
attrs="{'invisible': [('special_deduction_type','in',('bank','union','insurance'))]}"/>

</tree>
</field>
<br />
<br />
</page> 
```

# xml - 用 Perl 在 XML 文件中搜索最有效的方法是什么？

> ID：15898516
> 
> 赞同：1
> 
> 时间：2013-04-09T09:39:24.250
> 
> 标签：xml, perl, web-applications

我有一个用 Perl 编写的网络应用程序。现在我想添加一个新功能，它需要访问一些 XML 文件（大约 200 个）并解析出一些信息以显示在网页上。我使用`XML::Path`包来逐个搜索XML文件，但这太慢了。您对加快这一进程有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:38:15.983

您至少可以通过使用[XML::Twig附带的](https://metacpan.org/module/XML%3a%3aTwig)[App::xml_grep2](https://metacpan.org/release/App-xml_grep2)（用于[XML::LibXML](https://metacpan.org/module/XML%3a%3aLibXML)）或[xml_grep](https://metacpan.org/module/MIROD/XML-Twig-3.42/tools/xml_grep/xml_grep)来了解需要多长时间。两者都将比使用 XML::XPath 更快，其中 XML::LibXML 是 2 中更快的。

# delphi - StrToDate 抛出 econverterror

> ID：15898523
> 
> 赞同：0
> 
> 时间：2013-04-09T09:39:39.583
> 
> 标签：delphi

我有以下一段代码

```
aDate := StrToDate(date, GetLocaleFormatSettings(LOCALE_SYSTEM_DEFAULT));

function GetLocaleFormatSettings(ALCID: integer): TFormatSettings;
//------------------------------------------------------------------------------
begin
  if (ALCID <> gLCID) then
  begin
    gLCID := ALCID;
    gFormatSettings := TFormatSettings.Create(gLCID);
    // TKR - 3/25/10 - C13689: TwoDigitYearCenturyWindow is not set via GetLocalFormatSettings
    gFormatSettings.TwoDigitYearCenturyWindow := 75;
  end;
  Result := gFormatSettings;
end; 
```

它工作得很好，但有时当我将系统日期格式更改为 dd/mm/yyyy 时，它会崩溃并引发异常。其他时候它只是取值而没有任何问题。从其他一些 SO 线程中，我发现我们需要正确设置**DateSeparator**。但是可以根据用户设置在运行时设置它吗？

注意：仅当我在运行应用程序后更改日期设置时才会发生这种情况。如果我关闭应用程序并执行它，我不会收到任何错误。

# c# - 新图像不会出现在游戏中

> ID：15898525
> 
> 赞同：0
> 
> 时间：2013-04-09T09:39:40.290
> 
> 标签：c#, windows, visual-studio-2010, xna, render

对不起，如果这个问题是一个非常基本的问题。我对 c# 或视觉工作室知之甚少。

我的任务是对[这个](http://msdn.microsoft.com/en-us/library/dd254916%28v=xnagamestudio.31%29.aspx)适用于 Windows 桌面的小型 c# 平台游戏进行简单修改。首先，我更改了主角、敌人和拾取物品的渲染。但是当我运行它时，我没有在游戏中看到这些变化！我已经从游戏 Sprites 文件夹中完全删除了原始渲染，重新启动了 C# 并重新启动了我的计算机，但是当我在 Visual Studios 2010 中以调试模式运行游戏时，原始渲染仍然存在。为什么是这样？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:11:07.477

您可能正在寻找项目中保存的资源。它们保存在附加到项目文件的集合中。您可以在项目设置中找到它：

[如何添加/删除项目资源](http://msdn.microsoft.com/en-us/library/3bka19x4.aspx "如何添加/删除项目资源")

这将是我要检查的第一件事，因为删除文件不会将其从项目中删除（如果这些资源被编译到他的项目中，则解释了为什么它们还没有消失。）

您需要用您的新资源替换对此资源的引用。从项目资源中删除旧图像并以相同的名称添加新图像，这样您就可以避免重构代码。清理您的项目，按照@Steven Mills 提到的那样重建您的项目，然后让我们知道它是否有效。

**编辑：** 额外阅读：

*   [链接和嵌入式资源](http://msdn.microsoft.com/en-us/library/ht9h2dk8.aspx "链接资源与嵌入式资源")
*   [现在有图片！](http://fczaja.blogspot.se/2010/11/visual-studio-adding-and-using-resource.html "Visual Studio：添加和使用资源文件")

# selenium - Selenium 服务器 - 谷歌验证码问题

> ID：15898531
> 
> 赞同：0
> 
> 时间：2013-04-09T09:40:04.060
> 
> 标签：selenium, remotewebdriver

我在远程服务器上运行 Selenium Server，在同一台服务器上，我在 IIS 中配置了一个面向公众的站点，该站点实现 RemoteWebDriver 以运行自动化测试。

我正在从我的本地计算机访问该站点，并且它通常工作正常。

我进行的一项测试涉及访问 google.com 并输入搜索词。我遇到的问题是，每次运行测试时，Google 都会显示“来自您的计算机网络的异常流量”验证码页面。

任何人都可以推荐解决此问题的方法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:39:54.047

我可以通过在启动 selenium 服务器 jar 时添加以下参数来解决此问题：

-Dwebdriver.firefox.profile=默认

看来，默认情况下，Firefox 远程 WebDriver 使用一个新的干净的匿名配置文件。谷歌不喜欢这样。所以上面强制它使用现有的“默认”firefox 配置文件。无论如何，至少这是我的理解！

# angularjs - 将自定义javascript事件绑定到角度

> ID：15898533
> 
> 赞同：1
> 
> 时间：2013-04-09T09:40:09.923
> 
> 标签：angularjs, angularjs-directive, iscroll4

我正在开发一个移动应用程序，其中列出了一些项目。可以下拉此列表以启动列表的刷新（我使用的是 iScroll4）。我现在正在尝试将此事件连接到我的角度控制器，以便我可以进行 api 调用并更新模型。

javascript基本上如下：

```
[..] //javascript code to detect the pulldown event

function pullDownAction(){
     //I want to update the scope here
} 
```

根据我所阅读的内容，我需要制作一个角度指令并从那里调用事件，但我仍然没有弄清楚上面的代码应该去哪里。

我还尝试从 pullDownAction 函数中广播事件并在控制器中收听它，如下所示：

```
function pullDownAction(){
    var $rootScope = angular.injector(['ng']).get('$rootScope');
    $rootScope.$apply(function(){
          $rootScope.$broadcast('updateInbox');
    });
}); 
```

然后在控制器中：

```
$scope.$on('updateInbox', function(){
     $http.get(apiUrl)
         .success(function (data) {
              $scope.model = data;
        });           
}); 
```

但我确定我遗漏了一些重要的东西，导致代码无法正常工作。我对 Angular 很陌生，所以我还没有真正了解指令的工作原理。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T15:25:18.540

在指令的链接功能中，设置 iScroll4 插件。`pullDownAction()`也在你的链接函数中定义。然后，由于关闭，您将可以访问范围。

```
app.directive('iscroll4Wrapper', function() {
    return {
       link: function(element, scope, attrs) {
          var pullDownAction = function() {
            // update scope here
          }
          $(??).iScroll4({   // I have no idea how to initialize this
            onSomeEvent: function(...) {
               pullDownAction();
               scope.$apply();  // or put this in pullDownAction()
            }
          });
       }
    }
} 
```

您尝试使用 injector 的方法无效，因为[您创建了新的 injector](https://stackoverflow.com/a/14743553/215945)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T07:26:40.727

我通过将事件的所有 javascript 代码放在链接函数中使其工作：

```
app.directive('pullToRefresh', function () {
return {
    restrict: 'AC',
    link:
    function (scope, element, attr) {
            //Code to detect when element is pulled goes here

            function pullDownAction(){
                 scope.$eval(attr.pulldown);
            } 
```

然后我只是在容器中放置一个名为 pulldown 的属性，它们现在可以访问相同的范围。我的元素如下所示：

```
<div class="pull-to-refresh" pulldown="update()">
   //Element to be "pull-to-refreshable" here
</div> 
```

update() 当然是控制器中的一个函数，你可以做任何你想做的事情！

# asp.net-mvc - 如何使用正确实现下拉框 和 ASP.NET MVC 中的存储库模式

> ID：15898534
> 
> 赞同：0
> 
> 时间：2013-04-09T09:40:13.030
> 
> 标签：asp.net-mvc, asp.net-mvc-3, entity-framework, razor, asp.net-mvc-4

我想知道如何使用**`<SelectListItem>`**ASP.NET MVC 中的类型正确实现下拉框。我以前没有使用过这种方法，并且我被告知如果我必须对下拉菜单执行“必需”验证，这是最好的方法。

我之前使用 ViewBag 创建了一个下拉菜单，但我认为这种方法不是很有效。

我这里的例子很简单。一个允许用户输入客户姓名并从下拉列表中选择国家的小应用程序。它还应该检查用户是否选择了一个国家并在名称文本框中输入了一个值。请在下面查看我的代码。它不完整，只是一个模板，所以请帮助我如何完全实现这种方法。如果使用它是有效的，也请随意使用存储库。我仍在努力理解如何使用存储库模式，因此也需要帮助和解释。谢谢

**客户视图模型**

```
public class Customer
{
    public int Id { get; set; }
    [Required]
    public string Name { get; set; }
    [Required]
    public Country CountryId { get; set; }
}

public class Country 
{
    public int CountryId { get; set; }
    public IEnumerable<SelectListItem> Countries { get; set; } 
} 
```

**模型**

1.  **客户**- EntityFramework 实体包含一个客户详细信息表，其中包含国家实体的外键
2.  **国家**- 包含 CountryId 和 CountryName 表的实体

**行动结果**

```
Models.EFEntities ctx = new Models.EFEntities();

public ActionResult GetCustomers()
{
    using(ctx) 
    {
        Need code to properly implement this part 
    }
        return view("Customers");
}
[HttpPost]
public ActionResult AddCustomer(Model.Customer customer)
{
    using(ctx) 
    {
        //I'm thinking of calling the SaveChanges() method on Customers Entity, 
        //but please let me know if you have any better ways of writing this code.
        // something like using repository pattern)
    }
    return view();
} 
```

**客户视图** 该视图显示了一个简单的界面，用于输入客户名称并从 dorp-down 中选择一个国家。我认为它应该类似于下面的那个

```
@model Models.Customer

@Html.EditorFor(model=>model.Name)
@Html.ValidationFor(model=>model.Name)
@Html.DropDownListFor(model => model.Country..?..Need code here as well, "please select")
@Html.ValidationFor(...Need code here to make sure the user selects a country) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:03:05.443

将选择列表包含在您的`Customer`

```
public class Customer
{
    public int Id { get; set; }

    [Required]
    public string Name { get; set; }

    [Required]
    public int CountryId { get; set; }

    public IEnumerable<SelectListItem> Countries { get; set; } 
} 
```

在您的控制器中构建模型，如下所示：

```
public ActionResult GetCustomers()
{
    var model = new Customer();
    using(ctx) 
    {
        // Need code to properly implement this part 
        // > I assume you know how to do this, something like:
        var customer = ctx.Customers.Get(the_id);
        // map the entity to your model
        model.Id = customer.Id;
        // map the rest of the fields here (you may want to use mapper tools)

        // get the country list from your db and map it to selectlistitem
        model.Countries = mapCountries(ctx.Countries.GetAll());
    }
    return view(model);
} 
```

**你的看法**

```
@model Models.Customer

@Html.EditorFor(model=>model.Name)
@Html.ValidationFor(model=>model.Name)
// implement the rest of your fields
@Html.DropDownListFor(model => model.CountryId, Model.Countries, "please select")
@Html.ValidationFor(model => model.CountryId) 
```

**然后在你的 post 方法中**

1.  确保模型有效（服务器端验证）
2.  将您的模型映射回您的实体
3.  将实体保存到数据库

基本上就是这样，您只需要使用特定于您的项目的代码填写空白即可。

# android - 需要自定义进度对话框

> ID：15898535
> 
> 赞同：0
> 
> 时间：2013-04-09T09:40:15.120
> 
> 标签：android

![在此处输入图像描述](https://i.stack.imgur.com/L88cp.png)我需要进度对话框，因为它应该在加载时以圆圈显示不同的颜色。Reffer screenshot in middile它即将到来的不同colots，我在gmail应用程序中看到了这个。

# bayesian - 在 python 中创建一个随机漫步的人

> ID：15898537
> 
> 赞同：1
> 
> 时间：2013-04-09T09:40:17.837
> 
> 标签：bayesian

我的老师让我创建一个人在从 (0,0) 开始的坐标上随机游走，请帮助我生成一个随机 (x,y) 对，它们构成坐标系上的一个点。

开始于： pt1: (0,0) pt2: (7.17) pt3: (12,3) pt4: (8,2) pt5: (7,6)

然后计算 pt1 和 pt2、pt2 和 pt3、pt3 和 pt4、pt4 和 pt5 之间的距离

请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:11:30.427

想想如果没有 Python，你将如何计算两点之间的距离。您只需要使用 Python 的[数学函数](http://docs.python.org/2/library/math.html#power-and-logarithmic-functions)在方法中实现该等式。

# php - 数据表类型错误：aData 未定义

> ID：15898542
> 
> 赞同：0
> 
> 时间：2013-04-09T09:40:29.347
> 
> 标签：php, javascript, jquery, codeigniter, datatables

我想用表中的数据库值填充数据表。下面是我的代码清单，一切似乎都正常，但返回错误“TypeError：aData is undefined”，因此未创建数据表

```
<script type="text/javascript">
$(document).ready(function() {
    $('#listax').dataTable({
        "bProcessing": true,
        "bLengthChange": true,
        "bFilter": true,
        "bSort": true,
        "bInfo": true,
        "bAutoWidth": true,
        "bServerSide": true,
        "sServerMethod": "POST",
        "sAjaxSource": "<?php echo base_url(); ?>ajax_live/getUsers",
        "aoColumns": [
            null,
            null //put as many null values as your columns
        ]
    });
});
</script>

<table id="listax"></table> 
```

服务器端

```
 function getUsers(){
     $this->db->select('id,username');
     $query = $this->db->get('user');
     $data = $query->result();
     echo json_encode($data); 
 } 
```

这是json encode返回的数据

```
[
    {"id":"6","username":"Lab23"},
    {"id":"11","username":"MaryMM"}
] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:49:02.807

完成此操作后，我必须定义列。
被发回的示例数组；

```
Array
(
    [0] => stdClass Object
        (
            [id] => 6
            [username] => "Lab23"
        )
    [1] => stdClass Object
        (
            [id] => 11
            [username] => "MaryMM"
        )
) 
```

**因此，如果您的 json 编码数组具有id**和**username**的键值，则数据表中将包含以下段。

```
$(document).ready(function() {
    $('#listax').dataTable({
        "bProcessing": true,
        "bLengthChange": true,
        "bFilter": true,
        "bSort": true,
        "bInfo": true,
        "bAutoWidth": true,
        "bServerSide": true,
        "sServerMethod": "POST",
        "sAjaxSource": "<?php echo base_url(); ?>ajax_live/getUsers",
        "aoColumns":[
            {"mDataProp":"id"},
            {"mDataProp":"username"}
        ]
    });
}); 
```

# maven - 从 Maven 运行声纳：找不到 SQL 驱动程序

> ID：15898543
> 
> 赞同：1
> 
> 时间：2013-04-09T09:40:29.587
> 
> 标签：maven, sonarqube

当我尝试启动时，`mvn sonar:sonar`我得到一个“找不到 SQL 驱动程序”

> sorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597)
> at org.picocontainer.lifecycle.ReflectionLifecycleStrategy.invokeMethod(ReflectionLifecycleStrategy.java:110)
> ... 30 更多
> 原因：java。 sql.SQLException：在 org.sonar.api.database.AbstractDatabaseConnector.testConnection（Abstr
> actDatabaseConnector.java： 178)
> ... 36 更多
> 引起：java.lang.ClassNotFoundException: org.h2.Driver at java.net.URLClassLoader$1.run(URLClassLoader.java:202) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass (URLClassLoader.java:190) 在 java.lang.ClassLoader.loadClass(ClassLoader.java:306) 在 java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:627) 在 java.lang.ClassLoader.loadClass(ClassLoader.java: 247) 在 org.sonar.api.database.DriverDatabaseConnector.getConnection(DriverDa tabbaseConnector.java:83)
> ... 37 更多

有谁知道可能是什么原因和/或解决方案？

更新：

Sonar.properties 是默认值，
Maven 设置也是

```
 <profile>
        <id>sonar</id>
        <activation>
            <activeByDefault>true</activeByDefault>
        </activation>
        <properties>
            <sonar.jdbc.driverClassName>org.h2.Driver</sonar.jdbc.driverClassName>
            <sonar.jdbc.url>jdbc:h2:tcp://localhost:9092/sonar</sonar.jdbc.url>  

            <!-- optional URL to server. Default value is http://localhost:9000 -->
            <sonar.host.url>
              http://localhost:9000
            </sonar.host.url>
        </properties>
    </profile> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T11:13:42.463

Sonar 不再使用 Derby。您应该安装较新版本的 Sonar（如果可能的话是最新的 3.5）并清理您的配置，主要是所有“sonar.jdbc.*”属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T02:40:01.267

您可能必须使用依赖版本来匹配您的（Sonar 的？）H2 数据库，但尝试将以下依赖添加到您的 POM：

```
<dependency>
    <groupId>com.h2database</groupId>
    <artifactId>h2</artifactId>
    <version>1.3.171</version>
    <scope>test</scope>
</dependency> 
```

这应该使 Sonar 插件可以在构建期间使用该类，但不将其包含在您的工件中。

# xml - getjson转xml函数

> ID：15898547
> 
> 赞同：0
> 
> 时间：2013-04-09T09:40:37.283
> 
> 标签：xml, getjson

我是这方面的初学者，正在寻找 1 天的时间来解决这个问题。

所以

我有一个 ID ex：1953 和一个外部网站，其中包含有关我的 ID 的更多信息：everythingwebs1te/id=1953&xml 结果是一个看起来像这样的 xml：

```
<site>
    <item id="1953">
        <name>
            <![CDATA[ Name I want to get ]]>
        </name>
     </item>
</site> 
```

我做了一个函数来尝试获取我拥有的 id 的名称：

```
function itemname(itid) {
link1 = "externalwebs1te/id="+ itid + "&xml&jsonp=?";
$.getJSON(link1, function(obj1) {
xmlDoc=loadXMLDoc(obj1);
return (xmlDoc.getElementsByTagName("name")[0].childNodes[1].nodeValue);
}); } 
```

当我在 firebug 中查看 Net 选项卡时，它显示 GET id=1953 ok，我可以看到 XML，但不知道为什么 itemname 函数不返回名称。

我对 JS 的了解是有限的。

我试图将 xml 链接的内容保存在 xml 文件中，它适用于代码：

```
 xmlDoc=loadXMLDoc("item.xml");
alert (xmlDoc.getElementsByTagName("name")[0].childNodes[1].nodeValue); 
```

# jquery - JS - 如何将此脚本设置为应用于多个类实例？

> ID：15898548
> 
> 赞同：0
> 
> 时间：2013-04-09T09:40:39.333
> 
> 标签：jquery, multiple-instances

我得到了以下脚本，以便它将一个函数应用于所有具有类 .cloudzoom 的元素。它有效，但仅适用于第一个元素。我看到 each() 函数有一些事情要做，但我对脚本编写还不是很熟悉。

```
 (function($){
            // When mouse leaves browser...
            $(document).bind('mouseleave',function(){
                // Get the Cloud Zoom instance and close zoom window.
                var cz = $('.cloudzoom').data('CloudZoom');
                cz.closeZoom();
            });
        })(jQuery); 
```

有什么帮助吗？：/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:43:42.517

试试这个：

```
 (function($){
        // When mouse leaves browser...
        $(document).bind('mouseleave',function(){
            // Get the Cloud Zoom instances and close their zoom windows.
            $('.cloudzoom').each(function() {
                $(this).data('CloudZoom').closeZoom();
            })
        });
    })(jQuery); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:44:18.833

```
 (function($){
        // When mouse leaves browser...
        $(document).bind('mouseleave',function(){
            // Get the Cloud Zoom instance and close zoom window.
            $('.cloudzoom').each(function(){
               $(this).data('CloudZoom').closeZoom();
            });
        });
    })(jQuery); 
```

# iphone - 使用 MagicalRecord (iOS6) 没有持久性

> ID：15898549
> 
> 赞同：1
> 
> 时间：2013-04-09T09:40:39.440
> 
> 标签：iphone, ios, persistence, magicalrecord

在为 iPhone 开发应用程序时，我们偶然发现了持久化文本属性的问题。我们使用以下结构：

Datacore 模型：
报表有多个 Items
Item 具有属性“text”和“position”
Item 是 TextItem 和 TitleItem 的超类
它们都有更具体的属性（这些属性被正确保存）

模型：
我们有一个 TextItem 和 TitleItem 的超级项目，它们是从 DataCore 模型生成的。

ViewControllers：
ItemViewController 是 TitleItemViewController 和 TextItemViewController 的超级

视图：
TitleItemView 和 TextItemView 是 ItemView 的子类

我们使用以下代码来保存我们的 textItem（在 TextItemViewController 的 ViewWillDisappear 方法中）：

```
[MagicalRecord saveUsingCurrentThreadContextWithBlock:^(NSManagedObjectContext *localContext) {
TextItem *ti = [self.textItem MR_inContext:localContext];
    NSString *newText = [self getText];
    ti.text = newText;
} completion:^(BOOL success, NSError *error) {
    if (!success) {
        NSLog(@"Could not save");
    }
}]; 
```

这不保存。尽管我们记录了对象并且文本属性确实发生了变化，但我们得到了没有变化的消息。奇怪的是文本保存在某个地方（即使消息说它不是）。我们可以使用该应用程序，它会保留正确的文本。只有当我们重新运行应用程序时，文本才会重置为默认值（我们使用一些默认文本创建 textItem，但是当它加载时，它会从加载的模型中读取文本）。

我们认为问题可能出在继承上，因为其他值保存正确，但 text 属性是用于我们所有 Item 类型对象的属性。

# python - 打开两个文件时 with 语句中的 SyntaxError

> ID：15898550
> 
> 赞同：1
> 
> 时间：2013-04-09T09:40:40.940
> 
> 标签：python, python-2.7, syntax-error, python-2.6

我在以下语句中随机收到 Python 中的编译器引发的“SyntaxError”异常：

```
with open(inputFileName, 'rU') as inputFile, open(outputFileName,'w') as outputFile:
                                           ^
SyntaxError: invalid syntax 
```

这里的 inputFileName 是来自我的构建环境的命令行参数，它应该在调用脚本之前创建并存在。下面是示例代码：

```
try:

with open(inputFileName, 'rU') as inputFile, open(outputFileName,'w') as outputFile:
       print "do something"
except IOError as e: #(errno,strerror,filename):
        ## Control jumps directly to here if any of the above lines throws IOError.
        sys.stderr.write('problem with \'' + e.filename +'\'.')
        sys.stderr.write(' I/O error({0}): {1}'.format(e.errno, e.strerror) + '.' + '\n')
except:
    print "Unexpected error in generate_include_file() : ", sys.exc_info()[0] 
```

我没有任何线索。请帮帮我。我正在使用python 2.7。(python27)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T09:46:01.463

分组`with`语句需要 Python 2.7 或更高版本。对于早期版本，嵌套语句：

```
with open(inputFileName, 'rU') as inputFile:
    with open(outputFileName,'w') as outputFile: 
```

您收到的确切错误消息有力地证明了您在 Python 2.6**而不是**2.7 上运行代码：

```
$ python2.6
Python 2.6.8 (unknown, Apr 19 2012, 01:24:00) 
[GCC 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> with open(inputFileName, 'rU') as inputFile, open(outputFileName,'w') as outputFile:
  File "<stdin>", line 1
    with open(inputFileName, 'rU') as inputFile, open(outputFileName,'w') as outputFile:
                                               ^
SyntaxError: invalid syntax
>>>

$ python2.7
Python 2.7.3 (default, Oct 22 2012, 06:12:32) 
[GCC 4.2.1 Compatible Apple Clang 3.1 (tags/Apple/clang-318.0.58)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> with open(inputFileName, 'rU') as inputFile, open(outputFileName,'w') as outputFile:
... 
```

您不能在*任何*`with`Python 版本中将语句与`except`处理程序分组，您需要在语句*周围使用 a ：**`try:` `except:` *`with`**

 **```
try:
    with open(inputFileName, 'rU') as inputFile, open(outputFileName,'w') as outputFile:
       print "do something"
except IOError as e: #(errno,strerror,filename):
    ## Control jumps directly to here if any of the above lines throws IOError.
    sys.stderr.write("problem with '{}'. ".format(e.filename))
    sys.stderr.write(' I/O error({0}): {1}.\n'.format(e.errno, e.strerror))
except:
    print "Unexpected error in generate_include_file() : ", sys.exc_info()[0] 
```

除了我自己，我*不会*用毯子；毯子 except 也捕获名称、内存和键盘中断异常，您通常希望为此*退出*程序。**

# ember.js - 使用带有 grunt-ember-templates 的预编译模板时如何实例化 Ember 应用程序

> ID：15898551
> 
> 赞同：2
> 
> 时间：2013-04-09T09:40:43.163
> 
> 标签：ember.js, handlebars.js, gruntjs

（这个问题与[这个](https://stackoverflow.com/q/15877005/647991)有关，但现在我已经转移到`grunt-ember-templates`而不是`grunt-contrib-handlebars`）

我正在尝试将我的 ember.js 车把模板拆分为多个文件，以使代码库更易于管理。我正在使用`grunt-ember-templates`，配置如下：

```
ember_templates: {
    compile: {
        options: {
            templateName: function(sourceFile) {
                return sourceFile.replace(/app\/templates\//, ''); // <%= yeoman.dist %>/scripts/
            }
        },
        files: {
            '<%= yeoman.dist %>/scripts/templates.js': [
                '<%= yeoman.app %>/templates/**/*.hbs'
            ]
        }
    }
} 
```

这会`dist/scripts/templates.js`按预期创建一个，我的客户正在愉快地加载它。`templates.js`看起来像这样：

```
Ember.TEMPLATES["accounts"] = Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data) {
    ... 
```

这对我来说很好：模板保存在`Ember.TEMPLATES`数组中，带有预期的键。甚至还有一个`application`键，在生成的`templates.js`文件下方：

```
Ember.TEMPLATES["application"] = Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data) { 
```

来自`templates/application.hbs`：

```
<section class="toolbar">
</section>
<section class="main_section">
  <nav>
      ...
  </nav>

  {{ outlet }}

</section>

<div class="modal small hide fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
      ...
</div> 
```

不过，我在`templates.js`加载时收到此错误（实际上是嵌入其中`scripts.js`，请参见下面我的`index.html`）：

```
Uncaught Error: assertion failed: You specified the templateName application for <App.ApplicationView:ember312>, but it did not exist. 
```

这个严重错误是什么意思，我该如何摆脱它？

这是我的`Ember Application`：

```
this.App = Ember.Application.create({
    LOG_TRANSITIONS: true,
    VERSION: '1.0.0',
    ready: function () {
        console.log('App version: ' + App.VERSION + ' is ready.');
    }
}); 
```

这是我的`ApplicationView`：

```
App.ApplicationView = Ember.View.extend({
    templateName: 'application'
}); 
```

这是我的`index.html`：

```
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title></title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width"/>

    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="styles/bootstrap.min.css"/>
    <link rel="stylesheet" href="styles/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="styles/font-styles.css"/>
    <link rel="stylesheet" href="styles/main.css"/>
    <!-- endbuild -->

  </head>
  <body>

    <!--[if lt IE 7]>
        <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
    <![endif]-->

    <!-- Add your site or application content here -->

    <!-- My templates used to be here, but now they are in templates.js -->

      <div class="pagination">
          <ul>
              <li><a href="#">Prev</a></li>
              <li><a href="#">1</a></li>
              <li><a href="#">2</a></li>
              <li><a href="#">3</a></li>
              <li><a href="#">4</a></li>
              <li><a href="#">Next</a></li>
          </ul>
      </div>
    </script>

    <!-- build:js scripts/scripts.js -->
    <script src="scripts/vendor/jquery-1.9.1.js"></script>
    <script src="scripts/vendor/handlebars.1.0.rc.3.js"></script>
    <script src="scripts/vendor/ember-1.0.0-rc.2.js"></script>
    <script src="scripts/vendor/ember-data.js"></script>
    <script src="scripts/vendor/bootstrap.min.js"></script>
    <script src="scripts/templates.js"></script>
    <script src="scripts/main.js"></script>
    <!-- endbuild -->

  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:31:40.840

作为记录：我的问题是通过更改加载 javascript 文件的顺序解决的。

`templates.js`必须在加载ember后加载*。*

我以为 ember 需要在加载之前定义模板，但这实际上是完全错误的：由于模板存储在.ember 中`Ember.TEMPLATES`，因此必须在模板**之前**加载 ember 。然后可以加载模板，然后可以创建应用程序。

我之前没有发现这个bug的原因是ember在控制台中根本没有抱怨。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T10:54:38.663

我一直在使用`template:`而不是`templateName:`，它似乎工作正常：

```
template: Ember.TEMPLATES['application'] 
```

可能有更好的方法来做到这一点。但这至少会让你摆脱困境。

# iphone - 如何在 Xcode 上的 IBAction 代码块之后调用方法

> ID：15898557
> 
> 赞同：0
> 
> 时间：2013-04-09T09:40:56.473
> 
> 标签：iphone, xcode, ibaction

我创建了一个 iPhone 棋盘游戏。它可以选择用户是想玩多人游戏还是单人游戏。

我已经使用了`UIButton`板中的碎片。

我有一件事要解决：在单人游戏模式下，我已经实现了 AI变成`UIButton`. `IBAction`但是，在这种情况下，玩家 1 的移动和玩家 2 的移动之间没有时间。**两者同时执行。**

**我想这样做：**让人类立即行动，然后计算机思考他的行动。我不希望这两个动作一起出现，然后计算机会考虑动作。

我知道问题是因为游戏读取了 IBAction 中的整个代码块，然后他显示了结果，但我不知道如何解决这个问题。

有什么建议吗？

如果你需要它，我可以展示代码，但我认为（我也希望）你会明白我的意思。

由于要求它的评论，这里是代码..

-(void)buttonClickedSinglePlayer:(id)sender{

```
[self memorizzastatopartitapassato];
[self volumebottoni];
turno = [self whosTurn];
UIButton *bottoneCampoGioco = sender;
UIButton *bottoneIntelligente;

//Checks if it's Human's turn

if (turno == 0) {
    int valoreBottone = [bottoneCampoGioco.currentTitle intValue];
    if(valoreBottone< 10){

        //if controls are ok, it changes value of human's chosen button

        if((bottoneCampoGioco.currentTitleColor != [UIColor greenColor])){
            [UIView transitionWithView:bottoneCampoGioco duration:0.3 options:UIViewAnimationOptionTransitionFlipFromLeft animations:nil completion:nil];
            [bottoneCampoGioco setTitleColor:[UIColor redColor] forState: UIControlStateNormal];
            [bottoneCampoGioco setTitleColor:[UIColor redColor] forState: UIControlStateHighlighted];
            bottoneCampoGioco.titleLabel.shadowColor = [UIColor blackColor];
            [bottoneCampoGioco.titleLabel setShadowOffset:CGSizeMake(1.0f, 1.0f)];                [bottoneCampoGioco setBackgroundImage: [UIImage imageNamed:@"bottonerosso.png"] forState:UIControlStateNormal];

            [self incrementaTitoloOnClick :bottoneCampoGioco];
        }

        //else alert and loop to first line of the code, until he chooses a valid move
        else {
            [self posizionenonconsentita];
            turno = [self whosTurn];
            goto end;
        }
    }
    else{
        int x =[self mossedisponibilirosse];
        if (x== 1) {

            [self analizzavincitore];
        }

            [self numeroMax];
        turno = [self whosTurn];
        goto end;
    }

    turno = 1;
    [self analizzaBottoni:bottoneCampoGioco];
    [self aggiornapunteggi];
    [self memorizzastatopresente]; 
```

# pragma mark 单人操作

```
 //Azione del giocatore singolo

    //changes turn token's value to allow to AI to play

    turno = [self whosTurn];
    turno = 0;

    ai = [[ArtificialIntelligence alloc]init];

    //send to AI's class the human's pressed button

    [ai setbottonepremuto:bottoneCampoGioco];
    [ai setDimensioneInput:dimensioneInput];

    //send the situation of the board

    [ai setSituazione:arraycampogioco];
    [ai setpunteggiogiocatori:volumerossi giocatoree2:volumeverdi];

    //get back the chosen button from ai's class
    bottoneIntelligente=[ai bottone];
    [mossaEffettuata setText:[self stringaCoordinateDaBottone:bottoneIntelligente]];
    int valoreBottone2 = [bottoneIntelligente.currentTitle intValue];

    //then changes the value of the button chosen from ai's class

    if(valoreBottone2< 10){

        [UIView transitionWithView:bottoneIntelligente duration:0.3 options:UIViewAnimationOptionTransitionFlipFromTop animations:nil completion:nil];
        [bottoneIntelligente setTitleColor:[UIColor greenColor] forState: UIControlStateNormal];
        [bottoneIntelligente setTitleColor:[UIColor greenColor] forState: UIControlStateHighlighted];
        bottoneIntelligente.titleLabel.shadowColor = [UIColor blackColor];
        [bottoneIntelligente.titleLabel setShadowOffset:CGSizeMake(1.0f, 1.0f)];
        [bottoneIntelligente setBackgroundImage: [UIImage imageNamed:@"bottoneverde.png"] forState:UIControlStateNormal];

        [self incrementaTitoloOnClick :bottoneIntelligente];
        [self analizzaBottoni:bottoneIntelligente];
        [self aggiornapunteggi];

    }

end:

    turno = [self whosTurn];
}
turno = [self whosTurn];
numeromosse ++; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:49:21.803

如果我理解正确，您想在延迟后执行代码的 AI 部分。如果您可以将代码重构为另一种方法，那么您可以使用`performSelector:withObject:afterDelay:`如下所示：

```
[self performSelector:@selector(aiMove) withObject:nil afterDelay:2.0]; 
```

这将在 2 秒后运行该方法。或者您可以使用如下所示的 GCD `dispatch_after`（如下）。将延迟后要运行的代码放入块中。

```
double delayInSeconds = 2.0;
dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC));
dispatch_after(popTime, dispatch_get_main_queue(), ^(void){

 // 
 //Your code goes here
 //

 }); 
```

# string - SSRS Reporting Services - splitting string at a certain word

> ID：15898563
> 
> 赞同：2
> 
> 时间：2013-04-09T09:41:14.903
> 
> 标签：string, service, reporting-services, reporting, split

I've been looking for a while now for an answer to what I think is probably quite an easy one, and thought I'd found it on stackoverflow here:

[SSRS Reporting Services - Bold Word in String](https://stackoverflow.com/questions/14162687/ssrs-reporting-services-bold-word-in-string)

But sadly it's not working. I'm trying to split a string where a certain word appears (in this case "Office") rather than a Parameter, and take everything to the left of that word.

E.g. where the string states 'London Main Office South 123' or 'Birmingham Main Office North 123', I just want 'London Main' or 'Birmingham Main', and if 'Office' does not appear then blank.

Here's what I've tried, but I'm getting #Error on the output:

```
=IIF(Instr(Fields!myString.Value, "Office"), Left( Fields!myString.Value , Instr( Fields!myString.Value , "Office") - 1 ),"") 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T10:01:03.090

try this expression:

```
=IIF(Instr(Fields!myString.Value, "Office"),     
        split(Fields!myString.Value,"Office").GetValue(0)
       ,Fields!myString.Value) 
```

it simply means

```
=IIF( <condition>myString Contains Office, 
       <true> yes so split it and grab the first part, 
       <false> no it doesn't leave the string as it is
 ) 
```

basically, you need to check whether `Fields!myString.Value` contains keyWord "Office". If it does, you need to split your string and select the first part, otherwise, you need to leave the original string as it is. (which you were not doing)

# c# - 使用锚点指向 Google 地图上的位置

> ID：15898564
> 
> 赞同：2
> 
> 时间：2013-04-09T09:41:17.240
> 
> 标签：c#, javascript, asp.net, google-maps, anchor

我正在创建一个移动网站，我在其中使用 JS 运行地图。我想要做的是在锚点中有一个位置，当你点击它时，它会指向地图上的一个位置。

任何人都知道这是否可能，以及如何？

PS：如果可能的话，我很乐意在执行此操作时使用一些 C#。

亲切的问候，马克尼尔森

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:52:46.460

是的，您可以为此使用 google map api，请参见此处[https://developers.google.com/maps/documentation/javascript/overlays](https://developers.google.com/maps/documentation/javascript/overlays)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T11:07:45.780

唯一可行的解​​决方案是

1.  创建具有特定 ID 的链接
2.  将函数绑定到链接的 javascript 点击事件
3.  使此功能在页面上显示特定标记/在那里滚动/等。

第 1 步可以在 C# 中的服务器端完成

第 2 步是纯 JavaScript

第 3 步是您必须查看 google maps api 的地方。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-09T10:09:16.890

你可以尝试这样的事情：

```
protected void lbtnSeeOnGoogle_Click(object sender, EventArgs e)
{
   string addressQueryString = "https://maps.google.com/maps?q=" + address.Zip + "+" + address.City + "+" + address.Province + "+" + address.Country;
    Response.Write("<script language='javascript' type='text/javascript'>var win = window.open('" + addressQueryString + "','_blank'); win.focus();</script>");
} 
```

# extjs - 覆盖 Extjs 类并调用 callParent

> ID：15898565
> 
> 赞同：16
> 
> 时间：2013-04-09T09:41:19.363
> 
> 标签：extjs, extjs4, overriding

我有几个月开发 Extjs Web 应用程序的经验。我遇到了这个问题：

当我重写一个类时，我修改了方法并遵循了之前的实现和调用`callParent()`。覆盖部分有效，但`callParent()`调用了旧实现。

我的覆盖代码

```
Ext.override(Ext.layout.component.Draw, {
    finishedLayout: function (ownerContext) {

        console.log("new layouter being overriden");
        this.callParent(arguments);
    }
}); 
```

要重写的 Extjs 类方法：

```
finishedLayout: function (ownerContext) {
    var props = ownerContext.props,
        paddingInfo = ownerContext.getPaddingInfo();

    console.log("old layouter being overriden");
    this.owner.setSurfaceSize(props.contentWidth - paddingInfo.width, props.contentHeight - paddingInfo.height);

    this.callParent(arguments);
} 
```

在控制台中，我可以看到首先新布局器打印出消息，然后是旧布局器实现......我放置了一个断点并回溯调用堆栈，`callParent()`新布局器的调用堆栈称为旧布局器。我需要调用父类，而不是被覆盖的方法。

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-04-09T14:14:14.900

如果您使用 ExtJS 4.1.3 或更高版本，您可以使用`this.callSuper(arguments)`“跳过”被覆盖的方法并调用超类实现。

该方法的 ExtJS[文档](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.Base-method-callSuper)提供了以下示例：

```
Ext.define('Ext.some.Class', {
    method: function () {
        console.log('Good');
    }
});

Ext.define('Ext.some.DerivedClass', {
    method: function () {
        console.log('Bad');

        // ... logic but with a bug ...

        this.callParent();
    }
});

Ext.define('App.patches.DerivedClass', {
    override: 'Ext.some.DerivedClass',

    method: function () {
        console.log('Fixed');

        // ... logic but with bug fixed ...

        this.callSuper();
    }
}); 
```

和评论：

> patch 方法不能使用 callParent 来调用超类方法，因为这会调用包含错误的覆盖方法。换句话说，上面的补丁只会在控制台日志中产生“Fixed”然后是“Good”，而使用 callParent 会产生“Fixed”然后是“Bad”然后是“Good”

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-09T13:47:03.963

您不能使用`callParent`，但可以直接调用祖父类方法。

```
GrandparentClass.prototype.finishedLayout.apply(this, arguments); 
```

这是一种更通用（如果有些脆弱）的方法。

```
this.superclass.superclass[arguments.callee.$name].apply(this, arguments); 
```

# jquery - 使用带或不带 Ajax 的 J 查询调用 Web 服务以上传 Excel 文件

> ID：15898567
> 
> 赞同：-4
> 
> 时间：2013-04-09T09:41:39.440
> 
> 标签：jquery, html, ajax

我正在使用 HTML、Jquery 和 Ajax。我想通过在 jquery 中调用 Web 服务来上传 excel 文件。请帮助解决这个问题。我不想要任何 PHP 示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:44:25.417

也许您可以使用像[这样](https://github.com/blueimp/jQuery-File-Upload)的 jquery 扩展来上传文件。

# c# - C# 在内存中运行时添加 app.config 设置

> ID：15898571
> 
> 赞同：1
> 
> 时间：2013-04-09T09:41:59.207
> 
> 标签：c#, .net-3.5, runtime, app-config

我们在 dll 中有一个自定义函数库（也是 c#），它需要将以下 app.config 信息添加到引用它的应用程序中：

```
<configuration>
  <configSections>
    <sectionGroup name="businessObjects">
      <sectionGroup name="crystalReports">
        <section name="crystalReportViewer" type="System.Configuration.NameValueSectionHandler" />
      </sectionGroup>
    </sectionGroup>
  </configSections>

  <businessObjects>
    <crystalReports>
      <crystalReportViewer>
        <add key="maxNumberListOfValues" value="5000"/>
      </crystalReportViewer>
    </crystalReports>
  </businessObjects> 
```

我们看到了一些编写 app.config 文件然后加载它的示例……可以直接在内存中执行吗？（不先写任何文件）

还要考虑到大多数应用程序不会定义 app.config 文件......

# objective-c - 对守护进程的网络通知

> ID：15898575
> 
> 赞同：0
> 
> 时间：2013-04-09T09:42:13.533
> 
> 标签：objective-c, macos, daemon

我想创建一个守护进程，每次机器上线时都会向网络服务器发出一系列请求。我可以在循环中使用 SCNetworkReachabilityGetFlags 函数来确定是否存在连接——但是我正在考虑其他替代方案。是否有可能已经启动通知我的守护程序一些与连接到网络的机器相对应的事件？

你能指点我阅读同样的资源吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T05:55:14.857

您应该使用 SCNetworkReachability，但以其他方式。只需创建可达性对象，将其添加到运行循环并在回调中做任何你想做的事情。请参阅[此](https://stackoverflow.com/questions/7627058/how-to-determine-internet-connection-in-cocoa)相关问题的答案

# ember.js - 在 ember 中修改数组控制器内对象的值

> ID：15898576
> 
> 赞同：0
> 
> 时间：2013-04-09T09:42:15.107
> 
> 标签：ember.js

我有一个这样的控制器。在 reloadTime 函数中，我想修改此控制器内容的键的值。

```
App.ActivecallsController = Ember.ArrayController.extend({
    activeCalls:[],
    //obj:[],
    deleteCall:function(model){
       var obj = this.findProperty('ID',model.ID);
       App.Cdrglobal.set('active_call',App.Cdrglobal.active_call-1);
       this.removeObject(obj);
    },
    reloadTime:function(){
        var self=this;
        var inter = setInterval(function(){
            $(self.get('content')).each(function(k,v){
               self.set(self.content[k]['duration'],'00');
               clearInterval(inter);
            });
        },1000);
    }
}); 
```

内容是

```
[{"ID":1,"from_number":"1231654","carrier_ip":"123.156.12.1","to_number":"156816548","gw_ip":"156.245.15.12","duration":"12:14"},{"ID":2,"from_number":"1231654","carrier_ip":"123.156.12.1","to_number":"156816548","gw_ip":"156.245.15.12","duration":"15:44"},{"ID":3,"from_number":"1231654","carrier_ip":"123.156.12.1","to_number":"156816548","gw_ip":"156.245.15.12","duration":"52:24"},{"ID":4,"from_number":"1231654","carrier_ip":"123.156.12.1","to_number":"156816548","gw_ip":"156.245.15.12","duration":"52:20"}] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:38:56.367

我真的不明白，你想在那里实现什么用例，但这是我的尝试。在控制器中看到 jQuery 的使用真的很尴尬。而是使用 Ember 提供的收集方法。如您所见，我使用了[Ember Arrays 提供的 forEach 方法](http://emberjs.com/api/classes/Ember.Array.html#method_forEach)。

```
App.ActivecallsController = Ember.ArrayController.extend({
    activeCalls:[],
    //obj:[],
    deleteCall:function(model){
       var obj = this.findProperty('ID',model.ID);
       App.Cdrglobal.set('active_call',App.Cdrglobal.active_call-1);
       this.removeObject(obj);
    },
    reloadTime:function(){
        var self=this;
        var inter = setInterval(function(){
            self.forEach(function(contentItem){
              self.set("duration", "00");
            });
            clearInterval(inter);
        },1000);
    }
}); 
```

这是一个让您开始使用 Ember Collection 方法的基本示例。[在您的情况下，使用 setEach](http://emberjs.com/api/classes/Ember.Array.html#method_setEach)会更容易：

```
App.ActivecallsController = Ember.ArrayController.extend({
    ...
    reloadTime:function(){
        var self=this;
        var inter = setInterval(function(){
            self.setEach("duration", "00");
            clearInterval(inter);
        },1000);
    }
}); 
```

# stack - 是否有一种编程语言仅具有确定性下推自动机的功能，而没有更多功能？

> ID：15898577
> 
> 赞同：6
> 
> 时间：2013-04-09T09:42:15.247
> 
> 标签：stack, state-machine, deterministic, turing-complete, pushdown-automaton

一些编程问题不需要图灵机的全部能力来解决。他们可以用更少的力量来解决。我正在寻找一种功能较弱的编程语言。

是否存在仅限于支持这些功能的高级编程语言：

1.  具有将值压入堆栈和将值从堆栈中弹出的操作的堆栈。

2.  一个有限状态机 (FSM) 用于输入值、从一个状态移动到另一个状态、与堆栈交互并输出结果。

我意识到我可以使用 Java 或 C 或 Python（等）并通过编写仅使用堆栈和 FSM 的程序来限制语言。但是，我正在寻找一种仅具有这些功能的编程语言，仅此而已。

换句话说，我不想使用图灵完备的编程语言来解决只需要确定性下推自动机功能的问题。我想使用一种仅具有确定性下推自动机功能的编程语言。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-17T01:58:50.383

我不确定这是否重要，但 LR(1) 语法准确地捕捉到了确定性 PDA 的力量——如果一种语言有 LR(1) 语法，那么它就有一个确定性 PDA，反之亦然。因此，如果您查看 yacc 或 bison 之类的工具，将它们设置为使用 LR(1) 语法，并禁止其中包含任意代码的语义操作，您可能会争辩说，您所剩下的是一个具有精确功能的编程环境确定性PDA。诚然，这有点牵强。:-)

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-05T06:53:15.103

简而言之，您不会找到具有那么小功能的高级语言。这并不是严格意义上的定义，但高层次意味着与复杂性相对应的一定数量的抽象。

但是，这不是问题：您不必担心使用过多的电量。机器语言，典型的高效语言（最小开销！）是图灵完备的，表明效率与理论能力没有紧密联系。

# directx - 如何使用着色器常量缓冲区？

> ID：15898578
> 
> 赞同：5
> 
> 时间：2013-04-09T09:42:20.283
> 
> 标签：directx, shader, hlsl

我正在努力理解 DirectX 中的常量缓冲区。我见过两种语法

```
float4 myVar; 
```

在着色器文件的顶层声明，并且

```
cbuffer myBuffer
{
    float4 myVar;
} 
```

详见[http://msdn.microsoft.com/en-gb/library/windows/desktop/bb509581(v=vs.85).aspx](http://msdn.microsoft.com/en-gb/library/windows/desktop/bb509581(v=vs.85).aspx)

我知道常量缓冲区需要分配给插槽（从零开始的索引）并且可以在代码中设置。

我看过的两个框架（SlimDX vs SharpDX）似乎使用不同的约定来设置它们 - SlimDX 通过字符串名称（通过着色器反射？）和 SharpDX 通过插槽号 - 尽管不清楚插槽号是从哪里获得的？

任何人都可以阐明这两种语法之间的区别，如果它们实际上不同，插槽号如何分配给 .fx 文件中的声明以及插槽号如何在着色器之间共享？

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-09T12:43:04.123

SharpDX 和 SlimDX 在使用原始 Direct3D10/Direct3D11 API 时使用相同的约定（通过 Direct3D10.Device.XXX.SetConstantBuffers 和 Direct3D11.DeviceContext.XXX.SetConstantBuffers）。

如 MSDN 文档的链接中所述，“默认常量缓冲区”部分，说明未在常量缓冲区内定义的变量将最终出现在名为“$Global”的默认全局常量缓冲区中。

另一方面，旧版效果框架（与 RAW Direct3D10+ API 交互）提供通过名称访问各个变量的权限。在内部，他们使用 ShaderReflection 来查询常量缓冲区的内容并自动处理这些常量缓冲区的分配/更新/上传。最后，这是将上传到 GPU 的常量缓冲区，而不是单个变量（不存在于常量缓冲区之外）。旧版 Effect 框架通过使用 ShaderReflection 查询绑定槽来动态处理将常量缓冲区绑定到哪个槽。

插槽号由编译器在编译时分配。如果您没有明确指定寄存器（请参阅 MSDN 文档中的 cbuffer 寄存器），编译器会将第一个可用插槽影响到第一个使用的 cbuffer。除非您明确设置寄存器，否则无法保证编译器会影响相同常量缓冲区的着色器之间的相同插槽。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-17T14:25:06.090

第一种语法：

```
float4 myVar; 
```

是微软的效果语法，其中第二个是直接的 hlsl。效果语法通过自动为您分配常量缓冲区来简化一些事情，但这是以灵活性为代价的。

使用 SharpDX，您可以为插槽 1 分配一个常量缓冲区，如下所示：

```
cbuffer myBuffer: register(b1)
{
    float4 myVar;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:53:25.647

您引用的文档适用于纯 D3D 着色器模型 api。您需要咨询每个单独的中间件（SlimDX 或 SharpDX）以了解它们的语法和底层映射之间的对应关系。

我会断言任何第三方发行版都可以完全自由地定义自己的语法（并且可以以任何过于复杂的方式实现），但这是您必须接受的。您需要查阅每个第三方供应商的相应文档以了解映射，因为详细信息也可能因版本而异。如果源代码可用，您可以检查它以自己了解映射。并且鉴于某些框架的“黑盒”性质，您可能会被期望简单地接受框架的文档 - 在这种情况下，引用规范/基础库文档将是一个错误或抽象泄漏。

最后一个问题是：你为什么关心实现/映射？这些库的全部意义在于以一种方便的方式抽象出细节。就个人而言，我可以理解为什么这可能令人沮丧（特别是如果您出于任何原因求助于规范文档而不是平台的文档），但是您支付的相关成本是选择这样一个平台而不是使用核心的结果/权衡图书馆直接。

# .htaccess - 如何从所有 .htaccess 中删除标签之间的规则

> ID：15898579
> 
> 赞同：-1
> 
> 时间：2013-04-09T09:42:21.400
> 
> 标签：.htaccess, sed

攻击后，在我的服务器的所有文件夹中创建了以下两个文件： `index_backup.php` `.htaccess`

我删除了所有 index_backup.php 但我无法删除所有这些，`.htaccess`因为在某些文件夹中使用了它们。

如何在所有`.htaccess`文件中删除此规则？

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteCond %{HTTP_REFERER} ^.*(google|ask|yahoo|yandex|ya|baidu|youtube|wikipedia|qq|excite|altavista|msn|netscape|aol|hotbot|goto|infoseek|mamma|alltheweb|lycos|search|metacrawler|bing|dogpile|facebook|twitter|blog|live|myspace|linkedin|flickr|filesearch|yell|openstat|metabot|gigablast|entireweb|amfibi|dmoz|yippy|walhello|webcrawler|jayde|findwhat|teoma|euroseek|wisenut|about|thunderstone|ixquick|terra|lookle|metaeureka|searchspot|slider|topseven|allthesites|libero|clickey|galaxy|brainysearch|pocketflier|verygoodsearch|bellnet|freenet|fireball|flemiro|suchbot|acoon|devaro|fastbot|netzindex|abacho|allesklar|suchnase|schnellsuche|sharelook|sucharchiv|suchbiene|suchmaschine|infospace|web|websuche|witch|wolong|oekoportal|freenet|arcor|alexana|tiscali|kataweb|voila|sfr|startpagina|kpnvandaag|ilse|wanadoo|telfort|hispavista|passagen|spray|eniro|telia|bluewin|sympatico|nlsearch|atsearch|klammeraffe|sharelook|suchknecht|ebay|abizdirectory|alltheuk|bhanvad|daffodil|click4choice|exalead|findelio|gasta|gimpsy|globalsearchdirectory|hotfrog|jobrapido|kingdomseek|mojeek|searchers|simplyhired|splut|thisisouryear|ukkey|uwe|friendsreunited|jaan|qp|rtl|apollo7|bricabrac|findloo|kobala|limier|express|bestireland|browseireland|finditireland|iesearch|kompass|startsiden|confex|finnalle|gulesider|keyweb|finnfirma|kvasir|savio|sol|startsiden|allpages|america|botw|chapu|claymont|clickz|clush|ehow|findhow|icq|westaustraliaonline)\.(.*)
RewriteCond %{HTTP_USER_AGENT} ^.*(msie|opera) [NC]
RewriteCond %{REQUEST_FILENAME} !/index_backup.php
RewriteRule (.*) /index_backup.php?query=$1 [QSA,L]
</IfModule> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:44:24.560

```
sed -i -e '/<IfModule mod_rewrite\.c>/,/<\/IfModule>/d' .htaccess 
```

这将从 .htaccess 中删除匹配的规则

# sql - 如何在表格中显示相同给定 ID 的所有记录

> ID：15898580
> 
> 赞同：-1
> 
> 时间：2013-04-09T09:42:25.897
> 
> 标签：sql, sql-server-2008, ms-access, vba

我正在处理访问表单（未绑定）。我有一个问题，我想通过字段 [ID] 搜索表中的记录。当给定的 [ID] 表中只有一条记录时，表单会显示该记录，很好。但是如果给定的 [ID] 有多个记录，表单仍然显示第一条记录，而不显示其他记录。我希望该表单应显示所需 [ID] 的所有记录，以便我可以浏览表单视图中的所有记录。

我使用的 SQL 语句是：strSQL = "Select * from [myTable] t where t.[ID] ='12345' myTableRS.Open strSQL, Conn, adOpenDynamic, adLockReadOnly, acCmdText

我尝试在访问 sql 中使用 row_count fn 但它产生错误。我认为是由于不兼容。我不想在表中使用自动生成的字段，这是一个要求。请帮助我如何解决它，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-23T19:31:45.593

将 Forms Default_view 属性从 Single 更改为 Continous 或启用表单页脚上的 Next/Prev 按钮。

# javascript - 刷新的 div 无法访问外部 javascript 文件

> ID：15898584
> 
> 赞同：0
> 
> 时间：2013-04-09T09:42:41.763
> 
> 标签：javascript, jquery

我正在使用 JavaScript/jQuery 将页面加载到 div 中。

我的问题是我希望一些功能在这个加载的页面中工作。如果我将所需的函数与 HTML 一起添加到脚本标记中，那么它可以正常工作，但这看起来很乱，我想知道是否有其他方法可以从附加的 JavaScript 文件中工作？

编辑：我会更好地解释我的意思。

我像这样在我的标题中附加了一个脚本

```
<script src="custom.js" defer="defer"></script> 
```

在这个脚本中我有一个功能：

```
$(document).ready(function() {
$('a#view-users').click(function() {

    $('#main-view').load('view_users.php');

    }
    );

}); 
```

现在在 div(#main-view) 中加载 view_users.php。在 view_users.php 中，我需要执行 ajax 搜索，因此我在 custom.js 文件中添加了另一个函数。问题是#main-view div 中的任何内容都不能再使用我的 custom.js 文件中的内容。我想知道是否可以解决这个问题，同时仍将脚本添加到标题中，而不必将其添加到非常混乱的 view_users.php 文件中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:06:28.297

我认为您需要在回调中调用`getScript` [jquery 函数](http://api.jquery.com/jQuery.getScript/)`load`，希望能解决您的问题：

```
$('#result').load('ajax/test.html', function() {
         $.getScript("ajax/test.js");
}); 
```

还有另一种使用 jquery [deferred promise](http://api.jquery.com/deferred.promise/)的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:11:55.047

您能否更具体一些（即：代码示例）。您的意思是加载页面中的脚本标签不起作用，即：

```
<script type="text/javascript" src="jscript"></script> 
```

或者当您将新的 html 加载到 div 中时，您希望附加到 Dom 元素的事件不起作用？如果是这样，您应该使用 jQuery 'on' 方法，因为您添加到页面的元素不会监听您之前附加处理程序的事件。下面是在将新元素附加到 Dom 时将处理程序附加到新元素所需的 jQuery 'on' 方法的重载。

```
 $('#myDiv').on('click', '#loadedPageElement', function(e) {
    alert('clicked');
    e.preventDefault();
}); 
```

第二个参数将为当前匹配给定选择器的元素以及将来匹配该选择器的所有元素附加一个事件处理程序。

你好，我们又见面了，

defer 属性将延迟脚本的执行，直到加载初始页面，我不确定这是您所追求的行为。然后它将在 ('a#view-users') 上设置一个事件处理程序，当单击它时，将允许将 ('view-users.php') 加载到 ('#main-view') 中。如果您的逻辑需要在加载后使用“view-users.php”生成的 html，如果需要附加事件，则需要使用 $.on()，例如：

```
$(document).ready(function() {
 $('a#view-users').click(function() {

    $('#main-view').load('view_users.php');

 });

 $('#main-view').on('click', '#loadedPageElement', function(e) {
    alert('clicked');
    e.preventDefault();
});

});

or if you just want some code to run then a callback function is sufficient:

$(document).ready(function() {
   $('a#view-users').click(function() {

       $('#main-view').load('view_users.php',function(){

          alert('code running after load of "view_users.php"')

      });

   }); 
```

});

两者都不应该要求您在加载的 php.ini 中内联编写代码。

你好，

只是为了清楚起见是（'a#view-users'）在初始页面加载中还是由ajax加载的'view_users.php'中的元素？

你好，

我认为你自己和其他一些人提到的问题是，如果你的标题中有脚本，它与通过 ajax 加载到 ('#main-view') 的元素交互，即使你的原始代码使用正确的 Jquery 选择器，新加载的元素将不会被识别为相同的元素，这就是为什么您需要使用回调函数作为加载方法的第二个参数或使用“on”方法的原因。'on' 方法适用于标准 jQuery 事件，包括 'load'，即将元素加载到 dom 中。例如

```
$("#containerElement").on('load','#newlyLoadedElement',function(e){

       //Do some stuff when the element'#newlyLoadedElement'  is inserted
       // into "#containerElement"
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:19:17.113

这里'一个 jsfiddle [http://jsfiddle.net/9MfMS/2/](http://jsfiddle.net/9MfMS/2/)如果你想要做的是从另一个页面加载一个 html 并将事件处理程序附加到它。

```
//the html that is loaded
<div id="#clickMe">Click Me</div>

//attach event handler to it
$(document).on('click','#clickMe',function(){
     alert("Function invoked on html from different page."); 
}); 
```

# unix - vi - 收到错误 E212: Can't open file for writing

> ID：15898593
> 
> 赞同：1
> 
> 时间：2013-04-09T09:43:14.107
> 
> 标签：unix, vim, osx-lion

我正在按照本教程为 git 设置 opendiff：http: [//thomashunter.name/blog/set-opendiff-filemerge-as-your-git-diff-tool-on-os-x/](http://thomashunter.name/blog/set-opendiff-filemerge-as-your-git-diff-tool-on-os-x/)

我像教程中所说的那样打开vi，写一些行并尝试：wq但得到错误 - 错误E212：无法打开文件进行写入

我浏览了一点堆栈溢出，并尝试输入

```
sudo vim ~/bin/git-diff.sh 
```

但我也遇到了同样的错误。

我对基于 unix 的系统没有太多经验，那我该怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T10:18:24.410

您没有`bin`下面的目录`~`（即`/Users/username`）。`"~/bin/git-diff.sh" [New DIRECTORY]`vim 屏幕底部的错误信息应该是提示

# php - 插入查询检查记录是否存在 - 如果不存在，插入它

> ID：15898599
> 
> 赞同：23
> 
> 时间：2013-04-09T09:43:23.460
> 
> 标签：php, mysql, sql, sql-insert

我有一个mysql表`ip_list`...

```
+----+---------------+
| id |    ip_addr    |
+----+---------------+
|  1 | 192.168.100.1 |
|  2 | 192.168.100.2 |
|  3 | 192.168.100.3 |
|  4 | 192.168.100.4 |
|  5 | 192.168.100.5 |
+----+---------------+ 
```

我只想添加不在`ip_addr`列中的记录。 **例如**

我有以下记录要添加到`ip_addr`表中

```
192.168.100.6
192.168.100.10
192.168.100.11
192.168.100.1   //already in column
192.168.100.12 
```

我不想添加`192.168.100.1`，因为它已经在列中。

那么，`INSERT`查询是否可以先检查记录然后插入呢？

目前，我正在这样做......首先我`SELECT`记录然后匹配它然后`INSERT`它。

但是，我只想处理一个查询。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-04-09T09:46:44.923

您可以使用以下查询。当您的表中不存在时，它将在此处插入 ip_address。

```
INSERT INTO ip_list (ip_addr)
SELECT * FROM (SELECT '192.168.100.1') AS tmp
WHERE NOT EXISTS (
    SELECT ip_addr FROM ip_list WHERE ip_addr='192.168.100.1'
); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-09T09:45:54.917

您应该添加一个 UNIQUE 键`ip_addr`，然后使用`INSERT IGNORE`.

如果您还没有听说过，也许这会有所帮助`UNIQUE`：[http ://www.tutorialspoint.com/sql/sql-unique.htm](http://www.tutorialspoint.com/sql/sql-unique.htm)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-09T09:46:48.400

如果我是你，我`UNIQUE`会对列施加约束，

```
ALTER TABLE ip_list ADD CONSTRAINT IP_Unique UNIQUE(ip_addr) 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-04-09T09:46:54.387

您可以使用[Insert...on 重复密钥更新来做到这一点](http://dev.mysql.com/doc/refman/5.0/en/insert-on-duplicate.html)

或者

或者你也可以使用[替换](http://dev.mysql.com/doc/refman/5.5/en/replace.html)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-04-09T09:47:04.093

试试 MySQL [INSERT IGNORE](http://dev.mysql.com/doc/refman/5.5/en/insert.html)语句。

# regex - 正则表达式匹配“a > b > c”模式？

> ID：15898603
> 
> 赞同：1
> 
> 时间：2013-04-09T09:43:31.293
> 
> 标签：regex

什么是匹配“>”或“|”模式的正确正则表达式 至少出现 3 次，如下例所示？我想匹配“>”或“|” （不是两者）在给定的文本中，中间有不规则的间距。

应该匹配

*   “a>b>c>d>e”

*   " a|b|c | d |e"

不应该匹配

*   “a>b>c”（只有 2 个“>”）

*   “ a|b>c | d |e”（不是“>”或“|”）

**用于测试表达式的示例 Java 代码** （仅转义反斜杠）

```
public static void main(String[] args) {
    List<String> patterns = new ArrayList<String>();
    patterns.add("/((\\s*\\w+\\s*>\\s*){3,}|(\\s*\\w+s*\\|\\s*){3,})\\w/g");
    patterns.add("^( ([\\w\\s]*>){3,} | ([\\w\\s]*\\|){3,} )[\\w\\s]*$");
    patterns.add("/(>|\\|)[^>\\|]*\\1[^>\\|]*\\1/");
    patterns.add("/[\\w ]*([>|])(?:[\\w ]*\\1){2,}[\\w ]*/");

    List<String> test = new ArrayList<String>();
    test.add("a > b > c > d");
    test.add("a >b> c> d");
    test.add("a>b>c>d");
    test.add("a>b>c");

    for (String s : test) {
        for (int i = 0; i < patterns.size(); i++) {
            System.out.println(s + "[Pattern " + i + "] " + s.matches(patterns.get(i)));
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:47:19.103

```
/[\w ]*([>|])(?:[\w ]*\1){2,}[\w ]*/ 
```

匹配 > 或 |，然后确保它再出现两次（至少）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:54:41.947

```
/(\s*\w+\s*([>\|])\s*)(\s*\w+\s*\2\s*){2,}\w*/ 
```

假设您需要一个字符（或 | 或 > 符号之间的更多字符），此方法有效 - 符号不能以任何方式在应用了正则表达式的行中混合。当然，不规则间距也得到了处理。额外捕获完整组。

干杯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:46:42.377

您可以尝试分组和反向引用

```
/(>|\|)[^>\|]*\1[^>\|]*\1/ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T11:48:13.243

经过几次测试，我决定使用这个正则表达式：

```
((\\s)*(\\w)+((\\s)+(\\w)+)*(\\s)*((>)(\\s)*(\\w)+((\\s)+(\\w)+)*(\\s)*){3,})|((\\s)*(\\w)+((\\s)+(\\w)+)*(\\s)*((|)(\\s)*(\\w)+((\\s)+(\\w)+)*(\\s)*){3,}) 
```

匹配所有这些测试用例：

```
 test.add(" a > bbb >   ccc >   dc");//true
    test.add("a > b > c > d");//true
    test.add("a >b> c> d");//true
    test.add("a>b>c>d");//true
    test.add("a>b>c");//false
    test.add("a>b>c| d >e >f");//false
    test.add(">a>b>c> d >e >f");//false
    test.add("<a>b>c> d >e >f");//false
    test.add("a>b>c< d >e >f");//false
    test.add("a>b>c> d >e >f>");//false
    test.add("a b>b>c d > d >e >f> a bcd");//true,
    test.add("ayse ciog > ayse ciog > ayse ciog > ayse ciog");//true 
```

现在获得成功的结果，感谢您的帮助。

# asp.net-mvc - 如何在 Entity Framework 5 Code First 和 MVC 中处理派生类型？

> ID：15898605
> 
> 赞同：2
> 
> 时间：2013-04-09T09:43:33.830
> 
> 标签：asp.net-mvc, entity-framework, ef-code-first

我正在研究一组类来表示实体框架中的资产注册。为了保持问题简单，我构建了三个类：

**资产**

包含适用于所有资产类型的字段，例如资产 ID、序列号、购买日期

**计算机**

从资产派生，添加特定于计算机资产的字段，例如 MAC 地址、主机名

**监视器**

从资产派生，添加特定于监控资产的字段，例如大小

* * *

在纯 C# 中，我可以通过调用来实例化这些类，例如：

```
Computer DansComputer = new Computer(){ AssetID=12345, SerialNumber="12345", Hostname="DanComputer"}; 
```

我用于捕获新资产的 UI 要求用户输入有关其新资产（来自资产）类的基本数据，然后区分说，例如，他们正在创建计算机资产。我想知道这是否不够优雅......在目前的形式中，执行插入的伪代码，无论资产类型如何：

1.  捕获有关资产类的数据
2.  通过 EF 将这些数据提交到 Asset 表
3.  重定向到取决于资产类型的视图，以捕获特定于类型的数据，例如新的计算机视图
4.  检索先前提交的资产，将其转换为适当的类型（例如计算机）并将计算机特定字段投影到新对象。
5.  将计算机提交到数据库。

我不喜欢那里的视图之间的提交。

用户选择他们希望添加的资产类型（例如计算机、打印机）然后显示创建新计算机/打印机的视图是否是一种“有效”方法？这个解决方案对我来说听起来不太理想，因为：

1.  我需要为每种类型的资产绘制一个 MVC 视图，这对我来说似乎违反了 DRY 原则......
2.  我需要手动保留所有可能的资产类型的列表并显示某种 UI 以允许用户选择他们想要使用的类型。

但是，我想不出任何其他方法来制作这个 UI。

我在这里错过了一些非常明显的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:49:58.367

我认为最简单的方法是改变你的步骤：

1.  给用户一个选择：它是什么资产
2.  重新编辑此资产的正确操作
3.  使用资产的公共部分渲染视图（例如使用局部视图）并为选定的部分指定
4.  检索数据并将其提交到数据库。

# c# - 避免将偏移量传递给 C# MemoryStream 写入

> ID：15898610
> 
> 赞同：1
> 
> 时间：2013-04-09T09:43:47.577
> 
> 标签：c#

我有一个 MemoryStream 对象，它从一个函数传递到另一个函数，每个函数都向它添加一些东西（可能是字节可能更多）。
read中有匹配的函数。

我可以避免自己更新偏移量并让“流”处理它吗？
（如`stream.Write(byte[]);`类似于`stream.WriteByte(byte);`）

我对该地区的所有文档感到有些困惑

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:46:56.860

是的，您可以创建一个始终将偏移量设置为 0 的[扩展方法](http://msdn.microsoft.com/en-us/library/vstudio/bb383977.aspx)（即从缓冲区中的零索引写入）。

```
public static class Extensions
{
    public static void Write(this MemoryStream stream, byte[] buffer)
    {
        stream.Write(buffer, 0, buffer.Length);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:49:54.133

是的，您可以避免传递偏移量。

当您写入内存流时，它的[`Position`](http://msdn.microsoft.com/en-us/library/system.io.memorystream.position.aspx)属性会增加写入项目的大小，因此下一个写入的项目将在前一个项目之后。

因此，您可以只传递内存流。

# php - 如何在删除php中的多行之前给出确认框

> ID：15898617
> 
> 赞同：0
> 
> 时间：2013-04-09T09:44:10.407
> 
> 标签：php

我想在删除多行之前给出确认消息。下面是代码。请建议我在删除记录之前如何提供确认信息。

```
 $sql="SELECT * FROM employee";
    $result=mysql_query($sql);

    $count=mysql_num_rows($result);
    ?>

    <?php
    while($rows=mysql_fetch_array($result)){
    ?>

    <tr>
    <td><input name="checkbox[]" type="checkbox" id="checkbox[]" value="<? echo     $rows['id']; ?>"></td>
    <td><? echo $rows['id']; ?></td>
    <td><? echo $rows['name']; ?></td>
    </tr>

    <?php
    }
    ?>

    <tr>
    <td><input name="delete" type="submit" id="delete" value="Delete"></td>
    </tr>

    <?php

    if($delete){
    for($i=0;$i<$count;$i++){
    $del_id = $checkbox[$i];
    $sql = "DELETE FROM employee WHERE id='$del_id'";
    $result = mysql_query($sql);
    }

    if($result){
    echo "<meta http-equiv=\"refresh\" content=\"0;URL=delete_multiple.php\">";
    }
    }

    ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:46:50.453

创建一个表单并检查该表单是否已提交，当用户提交该表单时，您可以发送删除请求。如果不是代码将不会运行删除请求？

# asp.net-mvc - WebForms/MVC 混合 - 将 /default.aspx 动态重定向到 /home/index

> ID：15898618
> 
> 赞同：1
> 
> 时间：2013-04-09T09:44:15.620
> 
> 标签：asp.net-mvc, redirect, url-rewriting, webforms

我有一个旧版 WebForms 应用程序，正在一点一点地转换为 MVC。我需要能够动态重定向 /default.aspx 的请求，并在某些条件下将它们发送到 /home/index 操作。如果可能的话，我想避免使用 Response.Redirect，并且不确定 URL 重写是否是我需要的

有什么建议么？

非常感谢

本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T18:14:33.093

Umbraco CMS 解决方案提供了一个很好的例子，说明如何在 webforms 和 MVC 之间执行这种切换。它将一个模块添加到 Http 管道中，以确定使用哪个渲染引擎，并重写 Web 表单请求的路径或调用一个实例 `System.Web.Routing.UrlRoutingModule`来处理 MVC 请求。

您可以在[RewriteToUmbracoHandler](http://umbraco.codeplex.com/SourceControl/changeset/view/0420f4d89d14#src/Umbraco.Web/UmbracoModule.cs)方法中找到代码。

# blackberry - Blackberry Webworks：OS 7 及更早的设备是否支持支付服务（blackberry.payment.developmentMode）

> ID：15898620
> 
> 赞同：0
> 
> 时间：2013-04-09T09:44:21.670
> 
> 标签：blackberry, in-app-purchase, payment, blackberry-webworks

我在 Blackberry 10 上使用 HTML5 webworks 创建应用程序，但是我也想在 OS7 和更早的设备上使用 webworks。我还想在我的应用程序上支持应用内购买的支付服务。webworks的支付服务API是否也可以在OS7及更早的设备上运行？

当我使用

```
blackberry.payment.developmentMode =  true; 
```

发现未定义

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T13:42:46.097

是的，BlackBerry 7 支持[支付 API 。](https://developer.blackberry.com/html5/apis/blackberry.payment.html)

确保在 config.xml 文件中定义此功能：

```
<feature id="blackberry.payment" /> 
```

# c# - OnMouseDown() 事件 Unity 的问题

> ID：15898624
> 
> 赞同：4
> 
> 时间：2013-04-09T09:44:37.653
> 
> 标签：c#, unity3d

我是 Unity 的新手，我正在做一些教程，但有一个让我发疯了。我有一个旋转立方体，上面有一个盒子对撞机。除 OnMouseDown() 外，所有事件都有效。我不知道是什么问题......这是一段代码。

```
void onMouseDown() {        
    Debug.Log ("On Mouse Down Event!!!!!!!!!");
}

void OnMouseUp() {
    Debug.Log("On Mouse Up Event");
}

void OnMouseOver() {
    Debug.Log("On Mouse Over Event");
}

void OnMouseEnter() {
    Debug.Log("On Mouse Enter Event");
}

void OnMouseDrag() {
    Debug.Log("On Mouse Drag Event");
} 
```

在控制台中，消息“On Mouse Down Event!!!!!!!!!” 我在多维数据集上的大量点击似乎并不重要。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-09T09:50:06.230

```
void OnMouseDown() 
{        
    Debug.Log("On Mouse Down Event!!!!!!!!!");
} 
```

您的`OnMouseDown`方法需要用大写字母编写`O`，而不是小写字母。尝试一下，它应该可以工作。

# c# - 组合框数据源和实体框架

> ID：15898632
> 
> 赞同：4
> 
> 时间：2013-04-09T09:44:51.507
> 
> 标签：c#, winforms, entity-framework

我将数据模型实体添加到我的项目`publishingCompanyEntities`中，并在我的 winform 中添加了 ComboBox。但是当我想将我的作者列表绑定到我的组合框中，因为数据源已填充数据，但`cmoAuthors.Items.Count`返回 0 但`cmoAuthors.DataSource.Count`返回 2 项

```
 publishContext = new publishingCompanyEntities();
        cmoAuthors.DataSource = publishContext.Authors;
        cmoAuthors.DisplayMember = "FirstName"; 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-09T10:40:32.327

您需要添加`.ToList()`到 Authors EntitySet。

```
publishContext = new publishingCompanyEntities();
        cmoAuthors.DataSource = publishContext.Authors.ToList();
        cmoAuthors.DisplayMember = "FirstName";
        cmoAuthors.Invalidate(); 
```

原因是 EntitySet*不是*一个实际的集合。这是一个查询 ( `IQueryable`)，而且 ComboBox 似乎不够聪明，无法检测到它。

调用`ToList()`物`publishContext.Authors`化成对象。

由于某种原因，ComboBox 没有更新它`Items`的 Collection，然后检测到一个新的 DataSource。`Invalidate()`强制 Control 重绘自身，并在此过程中更新其 Items 集合。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-09T10:01:18.767

您需要提供 valuemember 属性。[价值会员](http://msdn.microsoft.com/en-us/library/system.windows.forms.listcontrol.valuemember.aspx)

```
cmoAuthors.DisplayMember = "FirstName";
cmoAuthors.ValueMember = "yourValueProperty"; 
```

# core-data - coredata-关系无法正常运行

> ID：15898634
> 
> 赞同：0
> 
> 时间：2013-04-09T09:44:52.037
> 
> 标签：core-data, relationship, nsmanagedobject, nsmanagedobjectcontext

这是coredata架构的结构。![在此处输入图像描述](https://i.stack.imgur.com/fq0pe.png)

将条目添加到“艺术家”后，将它们用于新添加的“专辑”条目是完美的。

![在此处输入图像描述](https://i.stack.imgur.com/9LDDb.png)

但是问题如图 2 和 3 所示，在将“michael jackson”分配给“Insomniac 2010”专辑然后将同一艺术家添加到“Baby ft ludacris”后，失去了专辑“Insomniac”的引用。

这是我在**AlbumDetailViewController.h中保存上下文的代码**

```
- (void)EntityRecordstableview:(UITableView *)tableView didselectrowatindexpath:(NSIndexPath *)indexPath forentity:(id)entity
{
    Artist *selectedArtist = entity;

    UITableViewCell * cell = [tableView cellForRowAtIndexPath:indexPath];
    [cell setSelected:NO animated:YES];

    if ([self.pickedArtists containsObject:selectedArtist]) {
        [self.pickedArtists removeObject:selectedArtist];
        [cell setAccessoryType:UITableViewCellAccessoryNone];
        editingAlbum.artist = self.pickedArtists;
        [self saveTheContext:editingAlbum.managedObjectContext];
//        NSLog(@"%d",self.pickedArtists.count);
    }
    else {
        [self.pickedArtists addObject:selectedArtist];
        [cell setAccessoryType:UITableViewCellAccessoryCheckmark];
        editingAlbum.artist = self.pickedArtists;
        [self saveTheContext:editingAlbum.managedObjectContext];
//        NSLog(@"%d",self.pickedArtists.count);
    }
} 
```

我认为 managedObjectContext 保存一定有问题。是不是应该是这样的

```
self.managedObjectContext = [(AppDelegate *)[[UIApplication sharedApplication] delegate] managedObjectContext];
[self saveTheContext:self.managedObjectContext]; 
```

代替

```
[self saveTheContext:editingAlbum.managedObjectContext]; 
```

我试过了，但这也没有按预期工作。

[你可以在这里找到我的源代码](https://www.dropbox.com/s/szz3a39y9rc4hqj/CDBestTutorial.zip)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T10:25:44.837

我已经更新了你的代码。请检查是否相同。**他们是艺术家**和**专辑**之间关系的问题。它必须是多对多。

**您的专辑**和**艺术家**之间的关系是一对多。因此，如果您为多个专辑选择艺术家，那么它将覆盖其值。请检查您的数据库是否相同。

代码：[点击这里](https://www.dropbox.com/s/ra70d50agjhvesi/CDBestTutorial.zip)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:59:24.943

每个艺术家可以有很多张专辑，但根据模型，每张专辑都可以包含很多艺术家。多对多关系应颠倒或替换为多对多类型（每个专辑可以包含许多艺术家，每个艺术家可以有许多专辑）

专辑-歌曲关系类型也可能是以后的问题...

# php - 无法在数据库中插入图像文件

> ID：15898636
> 
> 赞同：0
> 
> 时间：2013-04-09T09:44:57.240
> 
> 标签：php, mysql, codeigniter

我想在数据库中插入文件我怎么能用codeigniter来做...请注意我不想存储图像的路径。如何将图像直接存储在数据库中？

**控制器**

```
class UserController extendes CI_Controller{
} 
```

**模型**

```
class User extends CI_Model{
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:38:01.217

我想为了在大量图像记录中获得更好的速度，将路径或图像名称存储在表中比存储图像数据本身更有效。您需要将文件名或文件路径存储为 varchar 并使用 codeigniter 的 uoload 库上传文件..这使整个过程更加简单..！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:56:02.147

您可以将图像存储在 mysql 中具有 LONGBLOB 数据类型的表中。试试这个 - [http://www.phpriot.com/articles/images-in-mysql](http://www.phpriot.com/articles/images-in-mysql)

# javascript - 如何使用 javascript 检查字段中的特定值？

> ID：15898639
> 
> 赞同：0
> 
> 时间：2013-04-09T09:45:11.493
> 
> 标签：javascript, jquery, forms

javascript 检查表单值是否为空

```
 if(!$('nradulti').value){ok=2;}
 if(!$('transport').value){ok=2;}
 if(!$('plata').value){ok=2;}

 if(ok==1){return true;}

 else if(ok==2){
      $('mesaj').innerHTML="
      <span class='notarea'>Please complete all fields.</span>";
      return false;
 } 
```

我需要添加一个名为验证码的新变量`spam`并检查它是否等于某个数字，例如“什么是 2+2”，并且脚本仅在数字为 4 时继续

请问我需要添加哪一行？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:48:12.740

您可以通过基本的相等检查来完成此操作。我不确定您使用的是什么框架，但考虑到您的其他电话。

```
if(!$('spam').value == '4'){
   ok=2;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:49:56.560

将此行添加到您的 js 文件中，并在此之前声明 spam 的值。if($('spamInput_field_selector').value!=spam){ok=2}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:53:19.970

试试这个方法

```
var answer = document.getElementById("answer").value;

var digit1 = parseInt(document.getElementById("digit1").innerHTML);

var digit2 = parseInt(document.getElementById("digit2").innerHTML);

var spam = digit1 + digit2;

if(answer == ""){

    alert("Please add the numbers");

}else if(spam==answer){

    // call script  //
         } 
```

# mysql - 正常选择比计数快（*）

> ID：15898642
> 
> 赞同：4
> 
> 时间：2013-04-09T09:45:36.180
> 
> 标签：mysql, select, count, innodb, myisam

我想做这样的计数（例如，不是真的数狗）：

```
SELECT COUNT(*)
FROM dogs AS d INNER JOIN races AS r ON d.race_id = r.race_id
    LEFT INNER colors AS c ON c.color_id = r.color_id
WHERE d.deceased = 'N' 
```

MyISAM 表中有 130,000 条狗。Races 有 1,500 条记录，是一个有 9 列的 InnoDB 表，colors 有 83 条记录，也是 InnoDB，有两列（id、name）。*_id 列都是主键，我在“外”键dogs.race_id 和races.color_id 上有索引，并且在dogs.deased 上有索引。没有提到的列可以是`NULL`。

```
# mysql --version
mysql  Ver 14.12 Distrib 5.0.51a, for debian-linux-gnu (i486) using readline 5.2 
```

现在的问题是：在我的 PhpMyAdmin 中，这个查询需要 1.8 秒（带有`SQL_NO_CACHE`），计数结果为 64,315。更改`COUNT(*)`为`COUNT(d.dog_id)`或`COUNT(d.deceased)`也使查询运行 1.8 秒，结果相同。

但是当我删除`COUNT()`and just do `SELECT *`or`SELECT dog_id`时，运行大约需要 0.004 秒（然后用类似的东西计算结果`mysql_num_rows()`）。

怎么会这样？我怎样才能使`COUNT()`工作更快？

**编辑：在`EXPLAIN`下面添加了**

```
EXPLAIN SELECT COUNT(*)
FROM dogs AS d INNER JOIN races AS r ON d.race_id = r.race_id
    INNER JOIN colors AS c ON c.color_id = r.color_id
WHERE d.deceased = 'N' 
```

给我：

```
+----+-------------+-------+-------+------------------+----------+---------+----------------------+------+-------------+
| id | select_type | table | type  | possible_keys    | key      | key_len | ref                  | rows | Extra       |
+----+-------------+-------+-------+------------------+----------+---------+----------------------+------+-------------+
|  1 | SIMPLE      | c     | index | color_id         | color_id | 4       | NULL                 |   83 | Using index | 
|  1 | SIMPLE      | r     | ref   | PRIMARY,color_id | color_id | 4       | database.c.color_id  |   14 | Using index | 
|  1 | SIMPLE      | d     | ref   | race_id,deceased | race_id  | 4       | database.r.race_id   |  123 | Using where | 
+----+-------------+-------+-------+------------------+----------+---------+----------------------+------+-------------+ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:50:15.120

MySQL 优化器仅在需要时才进行全表扫描，因为列可以为 NULL，这意味着如果该列未定义为 NOT NULL，则其中可能存在一些 NULL 值，因此 MySQL 必须执行表扫描才能找到。如果您的列可以`d.dog_id`为空？尝试在另一个不可为空的列上运行计数，这应该为您提供比 count(*) 更好的性能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:59:24.260

创建索引以使您的计数更快：

```
CREATE INDEX ix_temp ON dogs (d.race_id)
INCLUDE (columns needed for the query) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:51:51.640

尝试设置索引`dogs.deceased`并使用`SELECT COUNT(*) ... USE INDEX my_index_name`.

# c# - 异步方法中的错误

> ID：15898648
> 
> 赞同：1
> 
> 时间：2013-04-09T09:45:56.620
> 
> 标签：c#, windows-8, windows-runtime, async-await, winrt-async

在 WinRT 应用程序中，我有一个带有一些图片的 FlipView myFlipView 和一个 Image myImage。在 myFlipView 的事件 SelectionChanged 上有以下方法：

```
async private void myFlipView_SelectionChanged(object sender, SelectionChangedEventArgs e)
    {
        if (myFlipView == null) return;

        Uri newUri = new Uri("ms-appx://" + (((BitmapImage)(((Image)(((ContentControl)(myFlipView.SelectedItem)).Content)).Source)).UriSource.AbsolutePath));
        StorageFile file = await StorageFile.GetFileFromApplicationUriAsync(newUri);
        WriteableBitmap wb = new WriteableBitmap(1, 1);

        if (file != null)
        {
            using (IRandomAccessStream fileStream = await file.OpenAsync(Windows.Storage.FileAccessMode.Read))
            {
                await wb.SetSourceAsync(fileStream);
            }
        }

        wb = ModifyPicture(wb);
        myImage.Source = wb;
    } 
```

总而言之，它在 myFlipView 中找到当前图像的 uri，并将该图像设置在 myImage 中，但在 ModifyPicture 中定义了一些修改。它在平板电脑上完美运行，但在带鼠标的计算机上出现一个错误。当我非常快地单击附加到 FlipView 的箭头时，myImage 会显示错误的图片。例如，如果在 myFlipView 我有 10 张图片（p1、p2、...、p10）并且当前选择了 p1，那么当我在 myImage 上更改为 p2 时，也会出现 p2。但是，当我有时在 FlipView 中快速单击时，例如 p9 和 myImage p8。我想这与方法被多次调用但我不知道如何解决它有关。提前感谢您的帮助:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:41:16.300

如果在事件处理程序完成之前再次调用事件处理程序，您可能应该保存已经运行的 Task/IAsyncOperation 并取消它。

[请参阅这篇文章，了解如何取消正在运行的任务](http://blogs.msdn.com/b/csharpfaq/archive/2010/07/19/parallel-programming-task-cancellation.aspx)。

伪代码（因为我不知道 C#）：

```
Task loadAndSetImage(uri) {
   return new Task...
}

flipView_SelectionChanged {
    if (myFlipView == null) return;
    if (this.runningTask && !this.runningTask.IsCanceled) {
        this.runningTask.Cancel();
    }
    Uri newUri = new Uri("ms-appx://" + (((BitmapImage)(((Image)(((ContentControl)(myFlipView.SelectedItem)).Content)).Source)).UriSource.AbsolutePath));

    this.runningTask = loadAndSetImage(newUri);
    this.runningTask.ContinueWith( (t) => this.runningTask = null; );
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T19:06:09.250

除了或不取消 ma_il 提到的内部任务 - 如果您检测到应该取消异步方法执行，您可以中断/取消异步方法执行。例如

```
private int myFlipView_SelectionChangedCallId;
async private void myFlipView_SelectionChanged(object sender, SelectionChangedEventArgs e)
{
    if (myFlipView == null) return;

    var callId = ++myFlipView_SelectionChangedCallId;

    Uri newUri = new Uri("ms-appx://" + (((BitmapImage)(((Image)(((ContentControl)(myFlipView.SelectedItem)).Content)).Source)).UriSource.AbsolutePath));
    StorageFile file = await StorageFile.GetFileFromApplicationUriAsync(newUri);

    if (callId != myFlipView_SelectionChangedCallId) return;

    WriteableBitmap wb = new WriteableBitmap(1, 1);

    if (file != null)
    {
        using (IRandomAccessStream fileStream = await file.OpenAsync(Windows.Storage.FileAccessMode.Read))
        {
            await wb.SetSourceAsync(fileStream);

            if (callId != myFlipView_SelectionChangedCallId) return;
        }
    }

    wb = ModifyPicture(wb);
    myImage.Source = wb;
} 
```

此外，如果您的 ModifyPicture 方法进行任何繁重的像素处理 - 您可能希望在后台线程上运行它并等待它。

# python - os.getcwd() 到变量

> ID：15898652
> 
> 赞同：-2
> 
> 时间：2013-04-09T09:46:07.640
> 
> 标签：python

这一定是非常基本的，但我没有得到这个工作。

```
#!/project/x/software/bin/python
import os
import sys

print os.getcwd() 
```

如何将 os.getcwd() 结果保存到变量中，以便修改输出等。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T09:46:28.263

```
import os

cwd = os.getcwd() 
```

强烈推荐通过：[http ://docs.python.org/2/tutorial/](http://docs.python.org/2/tutorial/)

# php - PHP 输出 xml 数据

> ID：15898658
> 
> 赞同：0
> 
> 时间：2013-04-09T09:46:41.290
> 
> 标签：php, html, xml, xml-parsing

我制作了一个从数据库中获取数据的外观时间表。但就我而言，我将数据直接带到文件 data *.xml

或者换句话说，我为定期数据收集进行调度。但这导致我显示的数据不是动态的。因为它只能读取文件 *. xml 吧。我想在 php 和 xml 数据输出中创建一个函数，如下所示：

```
<?php
header("Content-type: text/xml");
$dbhost = "localhost";
$dbuser = "user";
$dbpass = "pass";
$dbname = "my_epg";
mysql_connect($dbhost,$dbuser,$dbpass);
mysql_select_db($dbname);

include "Encoding.php";

date_default_timezone_set("Asia/Jakarta");
$DataTanggal = strip_tags(date("l, jS, F Y"));

sql = "select distinct(channel_name) FROM epg";
$q   = mysql_query($sql) or die(mysql_error());
$xml = "<timetable start='00:00' end='24:00' title='".$DataTanggal."'>";

while($r = mysql_fetch_array($q)){
       $CN = htmlspecialchars(strip_tags($r['channel_name']));
           $xml .= "<location name='".$CN."'>"; 

        $sql2 = "select * FROM epg where channel_name='".$CN."'";
        $q2  = mysql_query($sql2) or die(mysql_error());

while($r2 = mysql_fetch_array($q2)){
    $Mulai      = htmlspecialchars(strip_tags(date('H:i', strtotime($r2['waktu_mulai']))));
    $Selesai    = htmlspecialchars(strip_tags(date('H:i', strtotime($r2['waktu_akhir']))));
    $Title      = htmlspecialchars(strip_tags($r2['judul']));
    $Desk       = htmlspecialchars(strip_tags($r2['sinopsis']));

      $Encoding1 = Encoding::fixUTF8($TitleValid);
      $Encoding2 = Encoding::fixUTF8($DeskValid);

    $xml .= "<event start='".$MulaiValid."' end='".$SelesaiValid."'>";
    $xml .= "<title>".$Encoding1."</title>";
    $xml .= "<description>".$Encoding2."</description>";
    $xml .= "</event>"; 
}

$xml .= "</location>";
}

$xml .= "</timetable>";
echo $xml;
?> 
```

这个成功处理php文件的结果和输出的*.xml一样。现在的问题是我使用 timetable.class.php 来处理这些数据。

```
public function createTimetable($url) {

    //Load xml file
    $xml = @simplexml_load_file($url, NULL, LIBXML_NOCDATA);

    if(!$xml) {
        echo 'Error: there is an error in your XML file: <a href="'.$url.'">'.$url.'</a>';
        return;
    }

    if (strpos($url, 'http://') === 0 || strpos($url, 'https://') === 0 || strpos($url, 'ftp://') === 0) {
        echo 'Error: the path to your xml file may not start with "http://"';
        return;
    }

    //Set the settings
    $this->setSettings($xml, $url);

    $this->writeHTML($xml);

    echo $this->mbencoding($this->output);
    return;

} 
```

但此函数只能用于从现有文件 (*.xml) 中读取数据。不是动态的php进程。

我的问题：如何在这个class.php上创建一个带有get或post数据的进程，使其动态化，这样我就可以访问我制作的xml类型回显过程的链接地址？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:22:59.457

在您的 Dinam PHP 文件的末尾，您可以使用以下命令将文件另存为生成的 XML：

```
 $file = fopen("generated.xml","w");

 fwrite($file, $xml);

 fclose($file); 
```

然后，在函数 createTimetable 中加载保存的 XML 文件。

# string - scala 字符串，原始字符串

> ID：15898667
> 
> 赞同：1
> 
> 时间：2013-04-09T09:46:56.450
> 
> 标签：string, scala, replace

是否可以这样做：

```
"hello, I have 65 dollars".replaceFirst("65", "$") 
```

目前的结果是

```
 scala> "hello, I have 65 dollars".replaceFirst("dollars", "$")
 java.lang.StringIndexOutOfBoundsException: String index out of range: 1
 .... 
```

scala 2.10 中的预期结果：

```
 hello, I have 65 $ 
```

问题出在符号`$`上，我需要将其处理为字符串而不是正则表达式。我试图把它放进去`"""`，或者`raw""`没有任何帮助

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T09:51:12.407

您可以双重转义美元符号：

```
"hello, I have 65 dollars".replaceFirst("dollars", "\\$") 
```

或者使用 Scala 三引号和单转义。

```
"hello, I have 65 dollars".replaceFirst("dollars", """\$""") 
```

无论哪种方式，您都需要以等于 "\$" 的字符串文字结束，以使用反斜杠转义美元。

**编辑**

我不确定您是否想要“65 $”-“$65”不是更好的格式吗？为此，您需要一个捕获组和一个反向引用

```
"hello, I have 65 dollars".replaceFirst("""(\d++)\s++dollars""","""\$$1"""); 
```

输出：

```
res3: java.lang.String = hello, I have $65 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T09:50:00.490

首先，您必须转义美元字符，因为现在它被视为正则表达式[（字符串结尾符号）](http://docs.oracle.com/javase/tutorial/essential/regex/bounds.html)的一部分：

```
"hello, I have 65 dollars".replaceFirst("65", "\\$")
res0: String = hello, I have $ dollars 
```

您更有可能想要替换“美元”一词：

```
scala> "hello, I have 65 dollars".replaceFirst("dollars", "\\$")
res1: String = hello, I have 65 $ 
```

# php - 打印具有各种值的php页面

> ID：15898676
> 
> 赞同：0
> 
> 时间：2013-04-09T09:47:16.820
> 
> 标签：php, mysql, printing

我有一个 php 页面，它从我的数据库中获取值`print.php`，我用它来显示和打印数据库中的值。

`print.php?id=100`使用 id 为 100 的数据库中的值加载页面。我的数据库中的每条记录都有一个字段来存储记录的创建日期。至于现在，我访问`print.php?id=100`、`print.php?id=101`、`print.php?id=102`等`print.php?id=103`以打印同一页面但具有不同的值。

有没有办法让我创建一个自动执行此操作的按钮？

此按钮应获取所有具有当前日期的记录并打印所有这些页面。

很抱歉不清楚。

我的 print.php 页面回显来自我的数据库的值，如下所示： Id: `<?php echo $info['id']; ?>` Name: `<?php echo $info['name']; ?>` Date: `<?php echo $info['date']; ?>` Gender:`<?php echo $info['gender']; ?>`

例如，访问 print.php?id=100 会加载这些值： Id: 100 Name: John Date: 2013-04-09 Gender: Male

Cisiting print.php?id=101 加载这些值： ID：101 姓名：Sarah 日期：2013-04-09 性别：女性

等等。

在访问每一页时，我按 CTRL+P 打印该信息。

我不想手动执行此操作（访问每一页并将其发送到打印机），我想要一个脚本来获取当前日期的所有记录并将其发送到我的打印机。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:58:24.947

据我了解（不是很清楚），您需要指定日期的记录。然后，您必须发送该日期的参数，但不能发送单个记录 ID。

因此，您可以发送一个日期，`print.php?date=09-04-2013`例如，在您的 PHP 脚本中，您的查询将是：

```
$date = $_GET['date']; // validate it

$sql = "SELECT * FROM table WHERE date = '$date'";

// fetch result

// print with a foreach loop as you like 
```

或者，如果您只需要当前日期，则根本不需要传递参数。`CURDATE()`如果您的日期字段仅包含日期或包含`NOW()`日期和时间，请使用：

```
$sql = "SELECT * FROM table WHERE date = CURDATE()";

// fetch result

// print with a foreach loop as you like 
```

更多：[https ://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)

仍然无法理解您是否对 HTML 或 PHP 部分有问题。如果您只询问 html 表单以及如何创建按钮，您可以在此处查看：http: [//www.w3schools.com/php/php_forms.asp](http://www.w3schools.com/php/php_forms.asp)

这很容易理解。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:55:30.150

我不确定您要归档什么，但我认为您想要这样的表格：

```
<form method="get" action="">
    <input type="text" name="id" value="100"/>
    <input type="submit"/>
</form> 
```

这会将用户重定向到`print.php?id=100`或使用文本框中给出的值

编辑：

我从对该问题的评论中读到的是您想要归档的内容：

```
<form method="get" action="">
    <input type="text" name="date" value="<?=date('yyyy-mm-dd');?>"/>
    <input type="submit"/>
</form> 
```

这将显示一个带有文本字段的表单，其中打印了今天的日期。

那么您应该进行查询并像这样获取它：

```
$date = check_date($_GET['date']);
$query = 'SELECT * FROM values WHERE date="'.$date.'"';
if ($result = $mysqli->query($query)) {
    while ($row = $result->fetch_assoc()) {
        // print row
    }
} 
```

该功能`check_date()`由您创建，这将检查文本是否是有效日期以确保没有人可以破解您的数据库

# c# - Base64 到 UTF-8 字符串解码 - 阿拉伯文本

> ID：15898678
> 
> 赞同：2
> 
> 时间：2013-04-09T09:47:23.843
> 
> 标签：c#, asp.net, utf-8, base64

我正在尝试解码包含英文和阿拉伯字符混合的 Base64 数据。我正在使用以下代码进行解码。

```
var bytes = Convert.FromBase64String(data); //data contains base64 data
string text = Encoding.UTF8.GetString(bytes); 
```

解码后，我将其显示在 ASP 页面上。我的问题是，英文文本显示正确，而代替阿拉伯文本，我得到的是空框和这样的问号。��������</p>

请建议我哪里出错了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T06:53:28.803

经过几天的搜索。我想出了这个并且正在工作..

```
byte[] plain = Convert.FromBase64String(data);
Encoding iso = Encoding.GetEncoding("ISO-8859-6");
newData = iso.GetString(plain);
return newData; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T10:50:09.600

你应该在调试器下运行它，看看你是否得到了正确的阿拉伯文本`string text`：

*   如果`text`不正确，则字节（Base64 解码后）未编码为 UTF-8，而是其他一些编码 - UTF-16、Windows-1256 等。
*   如果`text`正确，则在 ASP.NET 页面上显示时它会损坏。在这种情况下，您应该将页面的编码设置为支持阿拉伯语的编码 - 最好是 UTF-8，正如 Shekhar 建议的那样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:52:15.287

试试这个

```
 byte[] dec1_byte = Base64.decodeBase64(data.getBytes());
    String dec1 = new String(dec1_byte);
    byte[] newBytes = Base64.encodeBase64(dec1_byte);
    String newStr = new String(newBytes); 
```

希望这会奏效

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T09:56:46.370

尝试在显示阿拉伯字符的页面中使用编码

```
<%@ Page RequestEncoding="utf-8" ResponseEncoding="utf-8" %> 
```

# python - 在 Python 中本地存储数据

> ID：15898686
> 
> 赞同：0
> 
> 时间：2013-04-09T09:47:37.677
> 
> 标签：python, scrapy

我正在运行一个 Scrapy 项目，我正在寻找在本地存储已经抓取的数据的最佳方法。目前我正在使用`AnyDBM`，但运行一段时间后我不断收到以下错误：

`bsddb.db.DBRunRecoveryError: (-30973, 'DB_RUNRECOVERY: Fatal error, run database recovery -- PANIC: fatal region error detected; run recovery')`

这是我做错的事情，因为我对 Python 还很陌生，但我想知道除了 Anydbm 之外是否还有更好的解决方案。

我正在存储我已爬取的页面的数字 ID，并将存储大约 500,000 条记录，并计划为未来的项目提供 3-4 百万条记录。

AnyDBM 是我应该坚持的还是我应该换成更适合这份工作的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:49:57.270

看起来很适合[`sqlite`](http://docs.python.org/2/library/sqlite3.html)，已经是 Python 标准库的一部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:50:17.687

默认情况下，python 自带[`sqlite3`](http://docs.python.org/2/library/sqlite3.html)一个非常好的数据库系统。

这是一个[很好的教程](http://www.blog.pythonlibrary.org/2012/07/18/python-a-simple-step-by-step-sqlite-tutorial/)。要将表放入内存使用：

```
conn = sqlite3.connect(":memory:")
conn.isolation_level = None
cur = conn.cursor() 
```

# mysql - 查询结果很慢

> ID：15898687
> 
> 赞同：0
> 
> 时间：2013-04-09T09:47:37.873
> 
> 标签：mysql, social-networking, mysql-workbench

我正在开发一个网站，就像使用 mysql 的任何其他社交网站一样。

我希望它能给我的用户提供建议，并且我已经在我的应用程序中实现了这个功能，但是它工作得非常慢。此过程需要 2-3 秒从服务器获取结果。它具有所有必要的索引，表上的关系。我已经使用 EXPLAIN 命令来理解它，但我没有遇到任何问题。我不明白它的基本问题是什么。请帮我。

这是我的表结构： 表：UserMaster ~~~~~~~~~~~~~~~~~~

```
CREATE TABLE `UserMaster` (
        `UserID` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
    `UserName` varchar(20) DEFAULT NULL,
        `EMailID` varchar(50) DEFAULT NULL,  
    `FirstName` varchar(20) NOT NULL,  
    `LastName` varchar(20) NOT NULL,  
    `CityID` mediumint(8) unsigned DEFAULT NULL,  
    PRIMARY KEY (`UserID`),  
    UNIQUE KEY `UX_UserMaster_UserName` (`UserName`),  
    UNIQUE KEY `UX_UserMaster_EMailID` (`EMailID`),
        KEY `FK_UserMaster_CityMst_CityID_idx` (`CityID`),  
        KEY `FK_UserMaster_CountryMst_CountryID_idx` (`CountryID`),  
    CONSTRAINT `FK_UserMaster_CityMst_CityID`       
        FOREIGN KEY (`CityID`) REFERENCES `CityMst` (`CityID`)    ON DELETE NO ACTION,  
    CONSTRAINT `FK_UserMaster_CountryMst_CountryID` FOREIGN KEY CountryID REFERENCES CountryMst (CountryID) ON DELETE NO ACTION ON UPDATE CASCADE
 ) 
ENGINE=InnoDB AUTO_INCREMENT=19722 DEFAULT CHARSET=utf8$$ 
```

表 : UserFriends ~~~~~~~~~~~~~~~~~~~

```
CREATE TABLE `UserFriends` (
    `FriendID` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,  
    `UserID` mediumint(8) unsigned NOT NULL,  
    `UserID2` mediumint(8) unsigned NOT NULL,  
    `RequestDate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,  
    `Status` tinyint(3) unsigned NOT NULL DEFAULT '2',  
    `ApprovalDate` timestamp NULL DEFAULT NULL,  
    PRIMARY KEY (`FriendID`),  
    UNIQUE KEY `UX_UserFriends_UserID_UserID2` (`UserID`,`UserID2`),  
    KEY `IX_UserFriens_UserID_ApprovalStatus` (`UserID`,`ApprovalStatus`,`UserID2`,`FriendID`,`RequestDate`,`ApprovalDate`),  
    KEY `FK_UserFriends_UserMaster_UserID_idx` (`UserID`),  
    KEY `FK_UserFriends_UserMaster_UserID2_idx` (`UserID2`),  
    CONSTRAINT `FK_UserFriends_UserMaster_UserID` FOREIGN KEY (`UserID`) REFERENCES `UserMaster` (`UserID`) ON DELETE NO ACTION ON UPDATE CASCADE,

    CONSTRAINT `FK_UserFriends_UserMaster_UserID2`  FOREIGN KEY (`UserID2`)  REFERENCES `UserMaster` (`UserID`) ON DELETE NO ACTION ON UPDATE CASCADE
 ) 
    ENGINE=InnoDB AUTO_INCREMENT=50825 DEFAULT CHARSET=utf8$$ 
```

UserID & UserID2 两个字段都与 UserMaster.UserID 链接

这是我的选择查询：~~~~~~~~~~~~~~~~~~~~~~~~~

```
SELECT
    upm.UserID,
    upm.UserName,
    upm.FirstName, 
    COALESCE(mf.TotMutualFriends,0) TotMutualFriends
FROM UserMaster upm
LEFT JOIN CityMst  ct on ct.CityID  = upm.CityID
LEFT JOIN StateMst st on st.StateID = ct.StateID
LEFT JOIN (
    SELECT uf.UserID, COUNT(1) TotMutualFriends
    FROM (
        SELECT uf.UserID, uf.UserID2, uf.ApprovalStatus
        FROM UserFriends uf
        UNION ALL
        SELECT uf.UserID2 UserID, uf.UserID UserID2, uf.ApprovalStatus
        FROM UserFriends uf
    ) uf 
    INNER JOIN ( 
        SELECT IF(uf.UserID = 1, uf.UserID2, uf.UserID) UserID2
        FROM UserFriends uf
        WHERE (uf.UserID = 1 OR uf.UserID2 = 1)
          AND uf.ApprovalStatus = 1
    ) uf1 on uf1.UserID2 = uf.UserID2
    WHERE uf.ApprovalStatus = 1 
    GROUP BY uf.UserID
) mf on mf.UserID = upm.UserID
LEFT JOIN (
    SELECT DISTINCT usar.UserID2
    FROM UserSuggAutoRejct usar
    WHERE usar.UserID = 1
    UNION 
    SELECT IF(uf.UserID = 1, uf.UserID2, uf.UserID) UserID2
    FROM UserFriends uf
    WHERE (uf.UserID = 1 OR uf.UserID2 = 1)
) usar ON usar.UserID2 = upm.UserID
WHERE upm.UserStatus IN(10,11)
  AND upm.UserID <> 1 
  AND upm.UserID NOT IN (1221,2191) 
  AND usar.UserID2 IS NULL 
ORDER BY
   (CASE WHEN COALESCE(mf.TotMutualFriends,0) > 0 THEN 0      ELSE 1    END), 
   (CASE WHEN COALESCE(mf.TotMutualFriends,0) > 0 THEN RAND() ELSE NULL END),
   (CASE upm.CityID   WHEN  1 THEN 0      ELSE    1 END), 
   (CASE upm.CityID   WHEN  1 THEN RAND() ELSE NULL END), 
   (CASE ct.StateID   WHEN  1 THEN 0      ELSE    1 END), 
   (CASE ct.StateID   WHEN  1 THEN RAND() ELSE NULL END), 
   (CASE st.CountryID WHEN 91 THEN 0      ELSE    1 END),
   (CASE st.CountryID WHEN 91 THEN RAND() ELSE NULL END)
LIMIT 10 
```

这执行得很慢。进化需要2-3秒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:41:03.070

关系数据库可能与社交网站无关。因为加入表很慢，尝试使用其他no-sql数据库（NoSql类型数据库）。如果你仍然坚持使用 mysql，那么尽量不要过多地加入你的查询。

对不起我的英语不好，如果有的话。

# c# - DataTable 中的不同记录

> ID：15898688
> 
> 赞同：4
> 
> 时间：2013-04-09T09:47:44.097
> 
> 标签：c#, asp.net, datatable, dataset

我想根据某些字段获得不同的记录。我正在使用以下方法：

```
string[] TobeDistinct = { "PKID" };
DataTable dtDistinct = GetDistinctRecords(ds.Tables[0], TobeDistinct);
DataSet ds2 = new System.Data.DataSet();
ds2.Tables.Add(dtDistinct);

public static DataTable GetDistinctRecords(DataTable dt, string[] Columns)
{
    DataTable dtUniqRecords = new DataTable();
    dtUniqRecords = dt.DefaultView.ToTable(true, Columns);
    return dtUniqRecords;
} 
```

这给了我不同的记录，但只有两个记录。只会出现两个不同的 PKID。例如，我有多个 PKID 为 10、12、14、16 的记录，但结果是 PKID 为 10 和 12 的 2 行。更多的两行不存在，但应该存在。我需要做什么？

我关注这篇文章： http: [//www.codeproject.com/Tips/153008/Select-DISTINCT-records-based-on-specified-fields](http://www.codeproject.com/Tips/153008/Select-DISTINCT-records-based-on-specified-fields)

![在此处输入图像描述](https://i.stack.imgur.com/Wp3hy.png)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-09T09:51:12.070

您可以使用如下

```
DataView view = new DataView(table);
DataTable distinctValues = view.ToTable(true, "Column1", "Column2" ...); 
```

更多详细信息
[如何在数据表中选择不同的行并将其存储到数组中](https://stackoverflow.com/questions/1199176/how-to-select-distinct-values-from-datatable)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-09T10:07:22.047

你能试试这个吗？

```
var myResult = dt.AsEnumerable().Select(c => (DataRow)c["MyColumn"]).Distinct().ToList(); 
```

# jquery - django-autocomplete-light 获取数据

> ID：15898689
> 
> 赞同：0
> 
> 时间：2013-04-09T09:47:44.463
> 
> 标签：jquery, django, django-autocomplete-light

自动完成灯。谁能帮我。如果自动编译不返回任何内容（对象尚不存在），我想显示按钮“添加”。我在哪里可以检查从后端获得自动编译的内容。

像这样的东西

```
$('#myauto_field').yourlabsAutocomplete({
    fetch: function() { //Override fetch function
        //call fetch from jQuery
        //get data and see is it empty or note. If empty show button. 
    }
}) 
```

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T08:28:17.530

可能这有助于节省一些时间。我的解决方案是：添加 `this.input.trigger('fetch', jqXHR);` 到 autocomplite.js 函数 yourlabs.Autocomplete.prototype.fetchComplete 并为 autocomplite 输入字段添加绑定提取

```
$('#' + fieldid).yourlabsAutocomplete({})
     .input.bind('fetch', function(e, replay){
           if(replay.responseText.indexOf("No matches found") == -1){
              //Here code if object not found
           }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T00:34:15.383

[test_project](https://github.com/yourlabs/django-autocomplete-light/tree/master/test_project/ajax_create)中有一个例子（我只是为了好玩），在`/admin/ajax_create/creatable/add/`. 这可能不是最好的方法，也可能不是**您**想要的，但它确实是一个非常好的开始。你可以[在这里](http://jpic.pythonanywhere.com/admin/ajax_create/creatable/add/)测试它。您可以通过膨胀 javascript 轻松地将其调整为您的确切规格。

相反，我建议只使用 add-another。

# ubuntu - 构建 Mono 项目所需的最少软件包是多少？

> ID：15898695
> 
> 赞同：0
> 
> 时间：2013-04-09T09:48:01.607
> 
> 标签：ubuntu, mono

我正在使用带有运行 Lubuntu 的 4 GB 固态磁盘的上网本。MonoDevelop 占用了太多空间，并且引入了我想要构建的项目不需要的许多依赖项。也就是说，我只需要 .NET 2.0、WinForms 和 VB.NET。

将 .sln、.vbproj 和相关代码文件构建为可执行文件所需的最少软件包是多少？

# video - ffmpeg 和 jwplayer 视频不工作

> ID：15898698
> 
> 赞同：1
> 
> 时间：2013-04-09T09:48:15.910
> 
> 标签：video, ffmpeg, jwplayer

通过 ffmpeg 转换的 .mp4 文件在我的本地机器上运行良好。我使用的命令是

```
exec('ffmpeg -i inputfile.flv -vcodec libx264 outputfile.mp4'); 
```

但它在服务器中不起作用。转换后的文件大小显示 0 位。我认为 centos 不支持编解码器 libx256。

# jquery - 将项目从一个可排序列表拖放到另一个

> ID：15898700
> 
> 赞同：0
> 
> 时间：2013-04-09T09:48:21.610
> 
> 标签：jquery, jquery-ui

我有两个彼此未连接的可排序列表：

```
<ul id="list1">
    <li>Item1</li>
    <li>Item2</li>
    <li>Item3</li>
</ul>
<ul id="list2">
    <li>Container 1</li>
    <li>Container 2</li>
    <li>Container 3</li>
</ul> 
```

查询：

```
$("#list1").sortable({
    items: "li",
    distance: 25,
    out: function (event, ui) {},
    over: function (event, ui) {},
    stop: function (event, ui) {}
});

$("#list2").sortable({
    items: "li",
    distance: 25,
    out: function (event, ui) {},
    over: function (event, ui) {},
    stop: function (event, ui) {}
}); 
```

我怎样才能使第一个列表中的一个项目成为第二个列表中的任何项目，并获取哪个被丢弃以及它被丢弃的位置？

[**现场jsfiddle**](http://jsfiddle.net/enb081/ZVdRW/)

编辑：我想在第一个列表的元素与第二个列表的元素之间创建关系。如果用户从第一个列表中拖动一个项目并将其放入第二个列表的任何项目中，我应该得到一个关系（例如 item1 - container1）并且 item1 应该回到它的位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-02T07:35:06.400

使用以下内容。它对我来说很好用

```
$("#list1").sortable({
    connectWith: '#list2'
});
$("#list2").sortable({
    connectWith: '#list1'
}); 
```

# magento - 您可以按价格对产品进行排序，从搜索结果中最便宜的开始吗？（magento）

> ID：15898701
> 
> 赞同：0
> 
> 时间：2013-04-09T09:48:22.460
> 
> 标签：magento, sorting, search

**您将如何对搜索结果中最便宜的产品进行排序（magento 网站）？**

我目前将它设置为按价格排序，但它从昂贵开始，然后逐步上升。有没有办法让它反过来？请给我一个解决方案..谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:13:07.833

不幸的是我还没有找到改变配置中排序顺序的方法，其他人也有同样的问题。但是，以不显眼的方式更改它以获得您想要的结果应该不会太难。

我将首先创建一个新模块来重写`app/code/core/Mage/Catalog/Block/Product/List/Toolbar.php`. 从这里，您需要做的就是更改`protected $_direction`变量的默认排序顺序。请看下面的代码：

```
<?php

class Namespace_Module_Block_Product_List_Toolbar extends Mage_Catalog_Block_Product_List_Toolbar
{
    /**
     * New default direction
     *
     * @var string
     */
    protected $_direction           = 'desc';
} 
```

# asp.net-mvc - 具有多个子域的 ASP.NET MVC 项目结构？

> ID：15898706
> 
> 赞同：0
> 
> 时间：2013-04-09T09:48:47.290
> 
> 标签：asp.net-mvc, asp.net-mvc-4, subdomain, projects-and-solutions, project-structure

我的任务是创建包含一些子站点的站点。该子站点将使用相同的数据库并具有关系。他们的域名应该不同。例如，域是**www.mysite.com**。子网站是

**www.books.mysite.com**

**www.blog.mysite.com**

**www.sport.mysite.com**

我需要有关项目结构的帮助来启动此应用程序。谁能给我任何想法？我可以在一个解决方案中创建一些 MVC4 项目吗？或者我可以使用域路由来做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:20:45.827

[这个在别处](https://stackoverflow.com/questions/15353430/can-i-use-multiple-sub-domains-in-one-solution)已经回答了，但不是很详细，所以在这里整理一下相关点。

Visual Studio 解决方案与站点的部署没有实际关系；它只是各种项目的容器。当您部署这些项目时，您可以在 IIS 中为它们定义[绑定。](http://blogs.technet.com/b/chrad/archive/2010/01/24/understanding-iis-bindings-websites-virtual-directories-and-lastly-application-pools.aspx)这是一个[相对简单的过程](http://technet.microsoft.com/en-us/library/cc731692(v=ws.10).aspx)；如果您从 UI 中以简单的方式进行操作，您将获得如下信息：

![IIS 站点绑定 UI](https://i.stack.imgur.com/UBeAR.jpg)

它使您可以定义哪些地址指向何处。在开发过程中，您需要在主机文件中使用类似的绑定来为您的本地计算机发挥这些 IIS 绑定的作用。

# eclipse - 如何在 Eclipse 中将书写方向更改为“从右到左”

> ID：15898712
> 
> 赞同：1
> 
> 时间：2013-04-09T09:48:55.267
> 
> 标签：eclipse, arabic

我在 Eclipse 中写阿拉伯语，所以我需要将书写方向从“从左到右”更改为“从右到左”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-05-08T07:41:13.567

您需要启用双向文本方向。

像往常一样单击窗口 > 首选项 > 常规 > 全球化 > 启用双向支持

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T11:20:22.967

双向语言是一种可以根据上下文从右到左或从左到右书写的语言。整个平台都支持双向文本。默认情况下，Eclipse 会将希伯来语、阿拉伯语、波斯语和乌尔都语识别为双向

[支持双向文本](http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/misc/bidi.html)

# android - 何时使用适配器以及何时使用充气机

> ID：15898714
> 
> 赞同：0
> 
> 时间：2013-04-09T09:49:00.333
> 
> 标签：android, android-adapter, layout-inflater, android-contextmenu

我是 Android 的新手，我正在学习上下文菜单，但是在浏览了上下文菜单之后，我对 Adapter 和 Inflater 有点困惑。我看到 1 个使用适配器的程序和 1 个使用 Inflater 的程序。所以，请帮助我如何/何时使用 Adapter 和 Inflater。

这是一个使用充气机的例子......

```
public class MainActivity extends ListActivity {

    private String selectedName = "";
    private String[] nameList;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        nameList = getResources().getStringArray(R.array.name_list);

        setListAdapter(new ArrayAdapter<String>(this,
                android.R.layout.simple_list_item_1, nameList));

        registerForContextMenu(getListView());

    }

    public void onCreateContextMenu(ContextMenu menu, View v,
            ContextMenuInfo menuInfo) {
        getMenuInflater().inflate(R.menu.context_menu, menu);
    }

    public boolean onContextItemSelected(MenuItem item) {

        AdapterContextMenuInfo adapInfo = (AdapterContextMenuInfo) item
                .getMenuInfo();
        selectedName = nameList[(int) adapInfo.id];

        switch (item.getItemId()) {
        case R.id.view:
            Toast.makeText(MainActivity.this,
                    "You have pressed View Context Menu for " + selectedName,
                    Toast.LENGTH_LONG).show();
            return true;
        case R.id.save:
            Toast.makeText(MainActivity.this,
                    "You have pressed Save Context Menu for " + selectedName,
                    Toast.LENGTH_LONG).show();
            return true;
        case R.id.edit:
            Toast.makeText(MainActivity.this,
                    "You have pressed Edit Context Menu for " + selectedName,
                    Toast.LENGTH_LONG).show();
            return true;
        case R.id.delete:
            Toast.makeText(MainActivity.this,
                    "You have pressed Delete Context Menu for " + selectedName,
                    Toast.LENGTH_LONG).show();
            return true;
        }
        return false;
    }
} 
```

另一个使用适配器的例子：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    Countries = getResources().getStringArray(R.array.Game);
    ListView list = (ListView) findViewById(R.id.list);
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            R.layout.listitem, Countries);
    list.setAdapter(adapter);
    registerForContextMenu(list);
}

public void onCreateContextMenu(ContextMenu menu, View v,
        ContextMenuInfo menuInfo) {
    if (v.getId() == R.id.list) {
        AdapterView.AdapterContextMenuInfo info = (AdapterView.AdapterContextMenuInfo) menuInfo;
        menu.setHeaderTitle(Countries[info.position]);
        String[] menuItems = getResources().getStringArray(
                R.array.contextmenu);
        for (int i = 0; i < menuItems.length; i++) {
            menu.add(Menu.NONE, i, i, menuItems[i]);
        }
    }
}

public boolean onContextItemSelected(MenuItem item) {
    // TODO Auto-generated method stub
    AdapterView.AdapterContextMenuInfo info = (AdapterView.AdapterContextMenuInfo) item
            .getMenuInfo();
    int menuItemIndex = item.getItemId();

    String[] menuItems = getResources().getStringArray(R.array.contextmenu);
    String[] menuItems1 = getResources().getStringArray(R.array.game);
    String menuItemName = menuItems[menuItemIndex];
    String listItemName = menuItems1[info.position];
    // selectedName = nameList[(int) info.id];

    TextView text = (TextView) findViewById(R.id.textView1);
    text.setText(String.format("Selected %s for item %s", menuItemName,
            listItemName));
    return true;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-14T19:02:00.307

这些类型有不同的用途。

将[`MenuInflator`](http://developer.android.com/reference/android/view/MenuInflater.html)XML 文件转换为表示菜单屏幕布局的 Menu 对象。在第一个示例中，`R.menu.context_menu`指的是一个关联的 XML 文件，`res/menu/context_menu.xml`它定义了将出现在菜单中的选项。有关XML 菜单资源的格式，请参阅[菜单](http://developer.android.com/guide/topics/resources/menu-resource.html)资源。这是一个简单的例子：

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:id="@+id/open" android:title="Open"/>
    <item android:id="@+id/info" android:title="More Info"/>
    <item android:id="@+id/delete" android:title="Delete"/>
</menu> 
```

当[`AdapterContextMenuInfo`](http://developer.android.com/reference/android/widget/AdapterView.AdapterContextMenuInfo.html)为列表、网格等打开上下文菜单时，它会提供额外的信息。它允许您确定用户选择了哪个项目（长按）。请注意，您的两个示例都使用了它。

# android - Android：语音识别服务

> ID：15898718
> 
> 赞同：1
> 
> 时间：2013-04-09T09:49:11.197
> 
> 标签：android, service, speech-recognition, voice-recognition

[可能重复]但我没有在下面找到我的问题的答案。

是否可以将语音识别作为服务运行？我想实现这样的事情：虽然我的电话通过语音识别处于睡眠模式，但我需要拨打一个号码。除了语音识别，还有其他传感器可以检测语音吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:57:04.500

我正在使用语音识别，我认为将语音识别作为服务运行是不可能的。因为：

1.  问题表现：要作为服务运行，您必须连续调用语音识别器。

2.  没有 API 支持：要作为服务运行，您必须使用服务并连续调用语音识别器。

因此，请找到其他解决方案，而不是语音识别。

# python - 文件名前面有一个“隐藏的”m 字符

> ID：15898719
> 
> 赞同：0
> 
> 时间：2013-04-09T09:49:16.870
> 
> 标签：python, terminal, os.system

我有一个简单的 python 脚本，它以中子星模式生成一些数据。我用它来自动化文件名，所以我以后不会忘记输入。该脚本成功将文件另存为

```
some_parameters.txt 
```

但是当我在终端中列出文件时，我看到了

```
msome_parameters.txt 
```

不带“m”的文件名仍然有效，尝试调用带 m 的文件返回

```
$ ls m*
No such file or directory 
```

所以我认为“m”有一些特殊的含义，许多谷歌搜索都没有得到答案。虽然我可以放心地继续，但我想知道原因。这是我在python中创建文件的方法

```
# chi,epsI etc are all floats. Make a string for the file name
file_name = "chi_%s_epsI_%s_epsA_%s_omega0_%s_eta_%s.txt" % (chi,epsI,epsA,omega0,eta) 

# a.out is the compiled c file which outputs data
os.system("./a.out >  %s" % (file_name) ) 
```

任何建议将不胜感激，通常我可以在stackoverflow中找到已经发布的答案，但这次我真的很困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:55:07.313

您有一个名称中包含一些特殊字符的文件，这会混淆终端输出。如果您这样做`ls -l`或（如果可能）使用图形文件管理器会发生什么 - 基本上，找到一种列出文件的不同方式，这样您就可以看到发生了什么。另一种可能性是做`ls > some_other_filename`然后用十六进制编辑器查看文件。

# php - 更多链接以显示完整日历中的事件列表

> ID：15898722
> 
> 赞同：0
> 
> 时间：2013-04-09T09:49:23.490
> 
> 标签：php, jquery

默认情况下，全日历显示特定日期的所有事件，这不是最佳的，我只想显示几个事件，其余事件应该被隐藏，更多链接应该显示，如果我点击*更多*剩余事件应该显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-12T09:58:40.970

事件限制

限制一天显示的事件数。

```
$('#calendar').fullCalendar({
eventLimit: true, // for all non-agenda views
views: {
    agenda: {
        eventLimit: 6 // adjust to 6 only for agendaWeek/agendaDay
    }
}}); 
```

# java - main 中的数组引用 main 之外的数组

> ID：15898726
> 
> 赞同：0
> 
> 时间：2013-04-09T09:49:41.853
> 
> 标签：java, arrays, reference

我试图通过使其与在我的 main 之外的方法中创建的数组相同来在我的 main 中创建一个数组。我想不出任何办法来做到这一点...

这是我的代码：

```
public class GRID {     
    public void createGrid() {
        int N = StdIn.readInt();
        int thisarray[][] = new int[N][N];
        for (int x = 0; x < N; x++) {
            for (int y = 0; y < N; y++) {
                int n = (int) (Math.random() * 6 + 1);
                thisarray[x][y] = n;                
            }
        }

    }
    public static void main(String []args){     
        GRID g = new GRID();
        int [][] newArray = //thisarray 
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:54:15.753

你在寻找这个答案吗？我已将方法的返回类型更改为`int[][]` main 方法内部，我们可以调用`createGrid`方法来获取`int[][]`

```
public class GRID {     
    public int[][] createGrid() {
        int N = StdIn.readInt();
        int thisarray[][] = new int[N][N];
        for (int x = 0; x < N; x++) {
            for (int y = 0; y < N; y++) {
                int n = (int) (Math.random() * 6 + 1);
                thisarray[x][y] = n;                
            }
        }
        return thisarray;

    }
    public static void main(String []args){     
        GRID g = new GRID();
        int [][] newArray = g.createGrid();
    }
} 
```

如果你想`newArray`基于`N`然后发送`N`到`createGrid`方法。为此，您必须在`createGrid`方法中添加一个参数，如下所示。`StdIn.readInt()` 从`createGrid`方法中删除

```
public class GRID {     
    public int[][] createGrid(int N) {
        int thisarray[][] = new int[N][N];
        for (int x = 0; x < N; x++) {
            for (int y = 0; y < N; y++) {
                int n = (int) (Math.random() * 6 + 1);
                thisarray[x][y] = n;                
            }
        }
        return thisarray;

    }
    public static void main(String []args){     
        GRID g = new GRID();
        int [][] newArray = g.createGrid(StdIn.readInt());  //new array everytime on the basis of input value.
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:54:45.093

将 createGrid() 的返回类型从 void 更改为 int[][]

```
public class GRID 
{

public int[][] createGrid() {
    int N = StdIn.readInt();
      int thisarray[][] = new int[N][N];
    for (int x = 0; x < N; x++) {
        for (int y = 0; y < N; y++) {
            int n = (int) (Math.random() * 6 + 1);
            thisarray[x][y] = n;
        }
    }
   return thisarray;
}
public static void main(String []args)
{
   GRID g = new GRID();
   int [][] newArray = g.createGrid(); 
} 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:55:39.787

`thisarray`创建一个`static`类的实例（因为它在 中使用`static main`）

```
public class GRID {

    private static int[][] thisarray;

    public void createGrid() {
        int N = StdIn.readInt();
        thisarray = new int[N][N];
        for (int x = 0; x < N; x++) {
            for (int y = 0; y < N; y++) {
                int n = (int) (Math.random() * 6 + 1);
                thisarray[x][y] = n;

            }
        }
    }

    public static void main(String []args){
        GRID g = new GRID();
        g.createGrid();
        int [][] newArray = thisarray; 
    } 
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T09:55:49.013

添加方法（也将返回类型从to更改`return thisarray;`为），在 main 中您将拥有：`createGrid()``void``int[][]`

```
int [][] newArray = g.createGrid() 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T10:03:16.087

```
public class GRID {  
    //Declare your array here   
    private int thisarray[][];
    public void createGrid() {
        int N = StdIn.readInt();
        thisarray[][] = new int[N][N];
        for (int x = 0; x < N; x++) {
            for (int y = 0; y < N; y++) {
                int n = (int) (Math.random() * 6 + 1);
                thisarray[x][y] = n;                
            }
        }

    }
    public static void main(String []args){     
        GRID g = new GRID();
        //Then you can use it in the main
        int [][] newArray = thisarray; 
    } 
```

}

# vb.net-2010 - Vb.net 2010 与 MS Access 2007 的连接

> ID：15898729
> 
> 赞同：0
> 
> 时间：2013-04-09T09:49:51.687
> 
> 标签：vb.net-2010

我正在使用具有 10 个文本框、1 个注册按钮和 1 个退出按钮的表单。我在 MS Access 2007 中创建了数据库并将文件保存在桌面中。我已通过“添加新数据源”进行连接。提供者和路径是：**Provider=Microsoft.Jet.OLEDB.4.0;Data Source=C:\Users\sipl\Desktop\Cust_Dtl.mdb**。但是当我点击注册时，显示以下错误：

```
con.Open() - Doesn't have a valid file name. 
```

这是我的代码：

```
Public Class Form2
Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click
    Me.Close()
End Sub

Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Dim constring As String = "Provider=Microsoft.Jet.OLEDB.4.0; Data Source=C:\Users\sipl\Desktop\Cust_Dtl.mdb" & System.IO.Directory.GetCurrentDirectory & "Cust_Dtl.mdb"
    Dim insertcmd As System.Data.OleDb.OleDbCommand = New System.Data.OleDb.OleDbCommand
    Dim con As System.Data.OleDb.OleDbConnection = New System.Data.OleDb.OleDbConnection
    con.ConnectionString = constring
    insertcmd.CommandType = CommandType.Text
    insertcmd.CommandText = String.Format("INSERT INTO {0} VALUES ('{1}', '{2}', '{3}', '{4}', '{5}', '{6}', '{7}', '{8}', '{9}', '{10}')", "Table1", TextBox1.Text, TextBox2.Text, TextBox3.Text, TextBox4.Text, TextBox5.Text, TextBox6.Text, TextBox7.Text, TextBox8.Text, TextBox9.Text, TextBox10.Text)
    insertcmd.Connection = con
    con.Open()
    Try
        insertcmd.ExecuteNonQuery()
    Catch ex As Exception
        MessageBox.Show(ex.Message)
    End Try

    con.Close()
End Sub
End Class 
```

请帮助解决这个问题。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T10:11:02.467

您正在调用数据库字符串两次：

```
 Dim constring As String = "Provider=Microsoft.Jet.OLEDB.4.0; Data Source=C:\Users\sipl\Desktop\Cust_Dtl.mdb" & System.IO.Directory.GetCurrentDirectory & "Cust_Dtl.mdb" 
```

这给出了字符串“C:\Users\sipl\Desktop\Cust_Dtl.mdbC:\Users\sipl\Desktop\Cust_Dtl.mdb”

删除任何一个`C:\Users\sipl\Desktop\Cust_Dtl.mdb"`

或者`& System.IO.Directory.GetCurrentDirectory & "Cust_Dtl.mdb`

# css - 如何将 rgba 转换为透明度调整的十六进制？

> ID：15898740
> 
> 赞同：37
> 
> 时间：2013-04-09T09:50:02.627
> 
> 标签：css, colors, hex, transparency, rgba

我想知道如何将可见的 rgba 颜色（包括透明度）转换为十六进制值`rgba`。`hex`

说我有这个：

```
rgba(0,129,255,.4) 
```

这是一种“浅蓝色”...

我想知道是否有办法在十六进制中获得相同的浅蓝色“可见”颜色，所以我不希望转换`#0081ff`后的颜色接近屏幕上可见的颜色。

**问题：**
如何将 rgba 转换为透明度调整的十六进制？

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2013-04-09T09:57:53.580

这取决于将应用透明颜色的背景。但是如果您知道背景的颜色（例如白色），您可以计算应用到特定背景的 RGBA 颜色所产生的 RGB 颜色。

这只是颜色和背景之间的加权平均值，权重是 alpha 通道（从 0 到 1）：

```
Color = Color * alpha + Background * (1 - alpha); 
```

对于您的透明浅蓝色`rgba(0,129,255,.4)`与白色`rgb(255,255,255)`：

```
Red   =   0 * 0.4 + 255 * 0.6 = 153
Green = 129 * 0.4 + 255 * 0.6 = 204.6
Blue  = 255 * 0.4 + 255 * 0.6 = 255 
```

哪个给出`rgb(153,205,255)`或`#99CDFF`

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2016-02-26T23:35:53.463

```
function hexify(color) {
  var values = color
    .replace(/rgba?\(/, '')
    .replace(/\)/, '')
    .replace(/[\s+]/g, '')
    .split(',');
  var a = parseFloat(values[3] || 1),
      r = Math.floor(a * parseInt(values[0]) + (1 - a) * 255),
      g = Math.floor(a * parseInt(values[1]) + (1 - a) * 255),
      b = Math.floor(a * parseInt(values[2]) + (1 - a) * 255);
  return "#" +
    ("0" + r.toString(16)).slice(-2) +
    ("0" + g.toString(16)).slice(-2) +
    ("0" + b.toString(16)).slice(-2);
}

var myHex = hexify('rgba(57,156,29,0.05)'); // "#f5faf3"

console.log(myHex);
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2019-12-18T20:27:04.203

您可以使用 chrome 的吸管工具为自己节省一些时间和计算。我通常做的是为 rgba 设置一个大 div 的背景颜色，然后在 CSS 中添加一个颜色属性到一些随机的十六进制值。然后，您只需单击该随机十六进制值旁边的彩色方块并将鼠标悬停在页面上具有背景颜色的 div 上，然后使用吸管选择背景颜色。如果它以 rgba 形式返回，您可以通过再次单击该彩色方块并单击右侧的向上和向下箭头来循环遍历 hsla、rgba 和十六进制。

# svn - svn up 和“413 请求实体太大”

> ID：15898741
> 
> 赞同：2
> 
> 时间：2013-04-09T09:50:05.387
> 
> 标签：svn, tortoisesvn

我在从存储库中签出文件夹时遇到了麻烦（如果重要的话，它大约是 23 GB）。首先我遇到了连接失败的问题：

> 无法读取响应正文：安全连接被截断

为了解决它，每次失败后我都尝试在此之后进行清理和更新。这有帮助，但后来我开始收到错误

> 服务器在响应中发送了意外的返回值（413 Request Entity Too Large）

有人可以告诉我如何解决这个问题吗？

我问这个问题的原因是我使用的是http而不是https，所以证书没有问题是可能的。

我正在使用 TortoiseSVN 客户端。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-29T08:04:12.743

我发现了这样的事情：

```
LimitXMLRequestBody 0
LimitRequestBody 0 
```

修复了“413 Request Entity Too Large”的问题

更多招聘：[是什么导致 svn 错误 413 请求实体太大？](https://stackoverflow.com/questions/4976868/what-causes-svn-error-413-request-entity-too-large)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-13T11:43:29.903

我得到了解决方案。

这是一个存储库所有权问题。要更改所有权：

```
chown -R apache:apache {repo} or
chmod -R www-data:www-data {repo). 
```

就是这样。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-09-06T00:27:03.500

如果您使用 NGINGX 和 Apache 代理，那么您需要`client_max_body_size 4G;`在`nginx.conf`.

# .net - 使用带有自定义参数的 MSBuild 发布

> ID：15898743
> 
> 赞同：0
> 
> 时间：2013-04-09T09:50:11.390
> 
> 标签：.net, visual-studio, msbuild

我正在从 Visual Studio 2012 (.NET 4.5) 发布一个应用程序。

我正在使用“文件系统”发布方法（我不能使用“Web 部署包”，也称为目标：包）。

作为使用“文件系统”方法发布的结果，创建了一个包含整个应用程序的文件夹。再一次，我不想（我不能）使用 webdeploy。

我正在尝试参数化与 web.config 无关的文件。例如我有一个需要自定义的文件 ~\app_config\tt.debug.config

我知道如何使用 parameters.xml 文件自定义此类文件 - 但它仅在我使用“Web 部署包”时有效，如何使用“文件系统”发布方法使其工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-08T16:53:40.087

我无法以简单的方式使用 parameters.xml，但我能够使用[此处](http://publicityson.blogspot.co.uk/2011/04/visual-studio-xml-file-transformation.html)建议的解决方案。

总之。这是一项您插入构建目标的任务，它会自动转换其他配置文件。例如：

*   tt.debug.config
*   tt.release.config

将转换为 tt.config

# c++ - 将字符串传递给 ns3::Ipv4AddressHelper::SetBase 方法

> ID：15898752
> 
> 赞同：1
> 
> 时间：2013-04-09T09:50:23.970
> 
> 标签：c++, network-programming, modeling, ns-3

拓扑助手`Ipv4AddressHelper`允许设置基地址，如示例所示。

```
Ipv4AddressHelper address;
address.SetBase ("10.1.1.0", "255.255.255.0"); 
```

例如，我想存储任意数量的动态创建的地址。

```
 ...
  for( uint32_t subnetC = 0; subnetC < nSubnets; subnetC++ )
  {    
     string ip = "10.1." + lexical_cast< string >( subnetC + 1 ) +".0";
     ipList.push_back( ip );
  }
  ...
  vIpv4AddressHelper[ someIndex ].SetBase(ipList[ someIndex ], "255.255.255.0" );
  ... 
```

但是，我得到了错误

```
 error: no matching function for call to ‘ns3::Ipv4AddressHelper::SetBase(std::basic_string<char, std::char_traits<char>, std::allocator<char> >&, const char [14])’
 note: candidates are: void ns3::Ipv4AddressHelper::SetBase(ns3::Ipv4Address, ns3::Ipv4Mask, ns3::Ipv4Address) 
```

如何将字符串传递给`SetBase`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:05:45.410

编译器告诉您候选人需要 2 个参数（第三个是可选的。另外，请参阅[Ipv4AdressHelper](http://www.nsnam.org/doxygen-release/classns3_1_1_ipv4_address_helper.html)的文档）。所以传递那些参数。在[文档](http://www.nsnam.org/doxygen-release/classns3_1_1_ipv4_address.html)中，您可以看到`Ipv4Adress`可以使用`char const*`. 所以试试：

```
address.SetBase (ns3::Ipv4Adress(adress_string.c_str()), ns3::Ipv4Mask(mask_string.c_str())); 
```

根据您的需要进行`adress_string`更改。`mask_string`

# java - 在运行时删除日志文件并且 slf4j+logback 不要再次创建它

> ID：15898753
> 
> 赞同：1
> 
> 时间：2013-04-09T09:50:29.550
> 
> 标签：java, logging, filesystems, slf4j, logback

我在我的应用程序中使用`SLF4J`+`Logback`作为日志记录基础设施。 `logback.xml`我的应用中有以下内容：

```
<?xml version="1.0" encoding="UTF-8" ?>
<configuration scan="true" scanPeriod="5 seconds">
    <jmxConfigurator />
    <property name="DIR" value="${LOG_DATA_HOME}"/>
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"> 
        <file>${DIR}/loghome/last.log</file> 
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"> 
          <fileNamePattern>${DIR}/loghome/log-%d{yyyy-MM-dd}.%i.log</fileNamePattern> 
          <timeBasedFileNamingAndTriggeringPolicyclass="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"> 
               <maxFileSize>10MB</maxFileSize> 
          </timeBasedFileNamingAndTriggeringPolicy> 
        </rollingPolicy> 
        <encoder>
          <pattern>%-5level %date- %X{_diagKey} - %logger - %msg %n </pattern>
        </encoder>
    </appender> 
    <logger name="net.sf.ehcache" additivity="false">
        <level value="error" />
        <appender-ref ref="FILE" />
    </logger>
    <root level="error">
        <appender-ref ref="FILE" />
    </root>
</configuration> 
```

我的应用程序在 linux suse 和`JRE 1.6`.

我的问题是：当我的应用程序运行时，我以时间间隔（出于物理内存限制等多种原因）从文件系统中删除了所有日志文件（包含最后一个文件），但是我的应用程序在我运行时不会再次创建日志文件重新启动我的应用程序。

任何人都知道上述行为的原因和解决方案吗？

**已编辑我通过logbak** 获得了更多详细信息`OnConsoleStatusListener`：

```
11:00:33,640 |-ERROR in c.q.l.c.recovery.ResilientFileOutputStream@17459938 - IO failure while writing to file [\loghome\last.log] java.io.IOException: The handle is invalid
    at java.io.IOException: The handle is invalid
    at  at java.io.FileOutputStream.writeBytes(Native Method)
    at  at java.io.FileOutputStream.write(FileOutputStream.java:260)
    at  at ch.qos.logback.core.recovery.ResilientOutputStreamBase.write(ResilientOutputStreamBase.java:52)
    at  at java.io.OutputStream.write(OutputStream.java:58)
    at  at ch.qos.logback.core.encoder.LayoutWrappingEncoder.doEncode(LayoutWrappingEncoder.java:103)
    at  at ch.qos.logback.core.OutputStreamAppender.writeOut(OutputStreamAppender.java:193)
    at  at ch.qos.logback.core.FileAppender.writeOut(FileAppender.java:220)
    at  at ch.qos.logback.core.OutputStreamAppender.subAppend(OutputStreamAppender.java:217)
    at  at ch.qos.logback.core.OutputStreamAppender.append(OutputStreamAppender.java:108)
    at  at ch.qos.logback.core.UnsynchronizedAppenderBase.doAppend(UnsynchronizedAppenderBase.java:88)
    at  at ch.qos.logback.core.spi.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:64)
    at  at ch.qos.logback.classic.Logger.appendLoopOnAppenders(Logger.java:285)
    at  at ch.qos.logback.classic.Logger.callAppenders(Logger.java:272)
    at  at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:473)
    at  at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:427)
    at  at ch.qos.logback.classic.Logger.debug(Logger.java:534)
    at  at Test.main(Test.java:17) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:35:38.733

`<configuration debug="true">`是你的朋友。另请参阅[相关文档](http://logback.qos.ch/manual/configuration.html#automaticStatusPrinting)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-27T10:00:49.493

尽管提问者提到即使在应用程序重新启动后也没有重新创建日志，但对于 unix/linux 处理正在使用的文件的删除，存在稍微不同的问题。

从操作系统的角度来看，这当然不是问题，而是应该由 logback、slf4j 等日志记录应用程序适当考虑。

您实际上可以[在此处](http://jira.qos.ch/browse/LOGBACK-1004)看到对 logback 开放的这种改进。这表明确实存在无法在 Unix/Linux 上动态删除日志文件并自动重新创建它的情况。

# php - Joomla 致命错误：允许的内存大小为 33554432 字节已用尽（试图分配 1048576 字节）

> ID：15898754
> 
> 赞同：0
> 
> 时间：2013-04-09T09:50:38.367
> 
> 标签：php, memory, joomla

我目前正在实时服务器上运行 Joomla 1.5.8。我只能对网站进行某些更改，例如文章中的文本内容更新。但是，对模块的任何修改都会返回此标题错误并报告错误。

没有它会返回一个通用的服务器错误 500。

我尝试更改许多不同文件夹的权限，并尝试操作 htaccess 文件，但我仍然没有运气。我最初并没有设置站点，并且已经使用已经存在的功能特性被带入这个项目，我只是无法对它们或新的特性进行任何更改。

完整错误是：致命错误：第 147 行 /var/www/vhosts/mydomain/httpdocs/libraries/joomla/filesystem/file.php 中允许的内存大小为 33554432 字节已用尽（尝试分配 1048576 字节）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:56:59.593

尝试设置

```
ini_set('memory_limit', '-1'); 
```

# java - 如何通过 Java 解码从 NetConnection.call(methodName, responder, parameter) 发送的消息

> ID：15898761
> 
> 赞同：0
> 
> 时间：2013-04-09T09:50:51.873
> 
> 标签：java, actionscript, air, blazeds

我使用 Java Servlet 作为我的服务器端。但是我不知道如何解码从 Flash 的函数 NetConnection.call 发送的消息。我下载 BlazeDS 作为我的 AMF3 解码器。但是我怎样才能从 byteArray 中读取“methodName”和参数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T17:56:28.903

这可能应该是一个评论，因为我不确定 BlazeDS 是如何工作的。我使用`NetConnection.call()`过 Flash Media Server (FMS)。但是，它可能与任何其他 AMF 服务器以相同的方式工作：

使用 FMS，您无需尝试从字节数组中读取方法名称或参数。相反，您在服务器上定义了一个方法，因此该方法具有相同的名称并接受您在使用时传递的相同参数`NetConnection.call()`。

# delphi - 如何从具有管理员权限的应用程序接收键盘输入到非管理员应用程序？

> ID：15898769
> 
> 赞同：11
> 
> 时间：2013-04-09T09:51:28.430
> 
> 标签：delphi, winapi, keyboard-hook, uipi

我编写了一个应用程序，该应用程序具有一个覆盖类型的窗口，可以通过热键显示和隐藏，而另一个应用程序具有焦点。所述其他应用程序是以管理员权限运行的 DirectX 游戏。

我已经尝试了 3 种可能的解决方案来在另一个应用程序中按下我的热键时获得通知，其中 2 种可以工作，但也要求我的应用程序具有管理权限。这是可以接受的，但我更希望有一个不需要这些特权的解决方案。我确信必须有一种方法，因为像 TeamSpeak 这样的应用程序确实可以在不以管理员身份运行的情况下接收输入。

我已经尝试过的：

1.  [RegisterHotkey](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646309%28v=vs.85%29.aspx) - 不适合，因为它在 DirectX 窗口中不起作用。
2.  [SetWindowsHookEx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644990%28v=vs.85%29.aspx) - 用作通用键盘挂钩，但仅具有管理员权限。
3.  [GetAsyncKeyState](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646293%28v=vs.85%29.aspx) - 用于检查指定的热键，但不是没有管理员权限。

所以是的，如果有人能提供一个不同的解决方案的想法，我将非常感激，因为我想不出更多了......我正在使用 Delphi，但因为我依赖于 Windows API，所以我不认为解决方案将是特定于语言的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T11:23:49.797

我认为 TeamSpeak 使用 DirectInput 作为它的热键（如果你已经在使用 DirectX，这很适合你）。至于与提升的程序交互，我认为唯一的解决方案，我相信 TeamSpeak 使用的一个解决方案是嵌入一个应用程序清单，该清单设置`uiAccess=true`. 这允许您绕过 UIPI，而无需以管理员身份运行应用程序。

[http://msdn.microsoft.com/en-us/library/bb756929.aspx](http://msdn.microsoft.com/en-us/library/bb756929.aspx)

为此，有一些注意事项

*   应用程序必须经过验证码签名
*   应用程序必须位于受保护的目录 (\ProgramFiles\,\system32)

您可以对应用程序进行自签名（因为替代方案很昂贵！）但您必须手动分发证书并将其安装在运行相关应用程序的任何系统上。

# cakephp - 我的老板不想散列任何用户密码

> ID：15898771
> 
> 赞同：1
> 
> 时间：2013-04-09T09:51:38.580
> 
> 标签：cakephp, security

我的老板不想散列任何用户密码。他希望能够查看所有密码并重新发送忘记的密码。

这是一个好习惯吗？

另外 - 如何在 CakePHP 1.3 Auth 中关闭密码散列？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:06:22.310

不要在任何地方存储纯文本密码。如果存在任何形式的安全漏洞，您的用户可能在其他地方使用的密码将很容易被访问。您应该[加密并添加盐或哈希](https://stackoverflow.com/questions/4948322/fundamental-difference-between-hashing-and-encryption-algorithms)。

你的老板想知道每个人的密码，我不在乎：我的密码是秘密的。为什么不在这里发布他们的密码，看看他/她如何喜欢知道他们秘密密码的陌生人。

不要重新发送忘记的密码，发送一个链接，您可以在其中更改密码。

这是[基本安全101](http://techblog.bozho.net/?p=965)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T09:56:13.320

当然不是，这是非常糟糕的做法。如果有人忘记了他的密码，密码应该被重置。并且应用程序应该有能力这样做。找回密码的能力是一个很大的风险，没有人可以对他的密码负责。

# sql - 更改自动生成的序列

> ID：15898772
> 
> 赞同：1
> 
> 时间：2013-04-09T09:51:43.353
> 
> 标签：sql, unit-testing, postgresql, hsqldb

我用它来创建自动递增的 id 列：

```
 id  BIGSERIAL                                -- psql
  id  BIGINT GENERATED BY DEFAULT AS IDENTITY  -- hsql 
```

现在在单元测试中，我想在测试之间重置这些序列。

**这可能吗？** 我的目标是 PostgreSQL 和 HSQLDB

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:55:51.043

```
TRUNCATE table RESTART IDENTITY; 
```

[http://www.postgresql.org/docs/9.2/static/sql-truncate.html](http://www.postgresql.org/docs/9.2/static/sql-truncate.html)
[http://hsqldb.org/doc/guide/dataaccess-chapt.html#dac_truncate_statement](http://hsqldb.org/doc/guide/dataaccess-chapt.html#dac_truncate_statement)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:29:55.867

对于PostgreSQL，您可以使用该`pg_get_serial_sequence`函数来发现用于维护自增的底层序列的名称，然后使用该`setval`函数对其进行操作，例如在手动插入或删除行后使序列匹配表中的最大值：

```
Select setval(
    pg_get_serial_sequence('table_name', 'column_name'),
    (Select Max(column_name) From table_name),
    TRUE
); 
```

“true”是可选的（默认行为）；它告诉序列提供的值已被使用，并在提供下一个值*之前递增。*请参阅[Postgres 文档](http://www.postgresql.org/docs/current/interactive/functions-sequence.html)

在一个空表上，您希望下一个值为 1，但 0 超出范围，因此您将传递 FALSE：

```
 Select setval(pg_get_serial_sequence('table_name', 'column_name'), 1, FALSE); 
```

# google-app-engine - 使用 Python 在 Google App Engine 上提供 Gtalk 服务

> ID：15898775
> 
> 赞同：0
> 
> 时间：2013-04-09T09:51:49.383
> 
> 标签：google-app-engine, python-2.7, google-talk

我使用 Google Application Engine 和 Python 搜索了很多构建的 Web 服务，例如 Google Talk。

第一步是在 Gmail 上检查在线用户的状态。我使用 XMPP 库在 python 上找到了许多代码，但它仅适用于不使用 Google Application Engine 的 python。

也有使用 XMPP python API 的建议，但是对于发送消息，我们必须提供 JID，如 app-id@appspot.com 和消息发送。我们不能将消息从一个电子邮件 ID 直接发送到另一个电子邮件 ID。

现在我想在 python 中为域级别的 gtalk 执行 Oauth 身份验证，谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T14:29:58.583

您只能从您的应用程序发送消息。有两个选项：your_app_id@appspot.com 或anything@your_app_id.appspotchat.com。

如果您想表现得像一个任意 xmpp 客户端，则必须使用通过 HTTP 运行的第三方 xmpp 库并使用用户的 XMPP 服务器处理身份验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T13:23:25.443

我觉得你很困惑。Python 在 appengine 上运行。还提供了一个有效的 java xmpp 示例。

# c# - 警告 1 从未使用过“WindowsFormsApp.Form1.serverStream”字段

> ID：15898780
> 
> 赞同：1
> 
> 时间：2013-04-09T09:52:12.330
> 
> 标签：c#

我是 c# 编程的新手...我试图制作一个服务器/多个客户端，但我有这个错误，我不知道如何解决它。如果有人知道，请帮忙。这是代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Sockets;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
namespace ConsoleApplication1 {
  class Program {
    static void Main(string[] args) {
      TcpListener serverSocket = new TcpListener(1000);
      TcpClient clientSocket = default (TcpClient);
      int counter = 0;
      serverSocket.Start();
      Console.WriteLine(" >> " + "Server Started");
      counter = 0;
      while (true) {
        counter += 1;
        clientSocket = serverSocket.AcceptTcpClient();
        Console.WriteLine(" >> " + "Client No:" + Convert.ToString(counter) + " started!");
        handleClinet client = new handleClinet();
        client.startClient(clientSocket, Convert.ToString(counter));
      }
      clientSocket.Close();
      serverSocket.Stop();
      Console.WriteLine(" >> " + "exit");
      Console.ReadLine();
    }
  }
  public class handleClinet {
    TcpClient clientSocket;
    string clNo;
    public void startClient(TcpClient inClientSocket, string clineNo) {
      this.clientSocket = inClientSocket;
      this.clNo = clineNo;
      Thread ctThread = new Thread(doChat);
      ctThread.Start();
    }
    private void doChat() {
      int requestCount = 0;
      byte[] bytesFrom = new byte[10025];
      string dataFromClient = null;
      Byte[] sendBytes = null;
      string serverResponse = null;
      string rCount = null;
      requestCount = 0;
      while ((true)) {
        try {
          requestCount = requestCount + 1;
          NetworkStream networkStream = clientSocket.GetStream();
          networkStream.Read(bytesFrom, 0, (int) clientSocket.ReceiveBufferSize);
          dataFromClient = System.Text.Encoding.ASCII.GetString(bytesFrom);
          dataFromClient = dataFromClient.Substring(0, dataFromClient.IndexOf("$"));
          Console.WriteLine(" >> " + "From client-" + clNo + dataFromClient);
          rCount = Convert.ToString(requestCount);
          serverResponse = "Server to clinet(" + clNo + ") " + rCount;
          sendBytes = Encoding.ASCII.GetBytes(serverResponse);
          networkStream.Write(sendBytes, 0, sendBytes.Length);
          networkStream.Flush();
          Console.WriteLine(" >> " + serverResponse);
        } catch (Exception ex) {
          Console.WriteLine(" >> " + ex.ToString());
        }
      }
    }
  }
} 
```

错误在这一行：

```
networkStream.Read(bytesFrom, 0, (int)clientSocket.ReceiveBufferSize); 
```

非常感谢:D

# vb.net - WinForms SplitContainer 及其间距和大小调整

> ID：15898784
> 
> 赞同：0
> 
> 时间：2013-04-09T09:52:15.470
> 
> 标签：vb.net, winforms, visual-studio, splitcontainer

我似乎很难按照自己喜欢的方式调整 SplitContainer。我有以下名为 frmMain 的表格：

![frm主屏幕截图](https://i.stack.imgur.com/yy2Eg.png)

在表单加载代码中，我必须遵循以下代码：

```
With MainContainer
    .IsSplitterFixed = True
    .Dock = DockStyle.Fill
    .SplitterDistance = 200
    .FixedPanel = FixedPanel.Panel1
    .Panel1.BackgroundImage = Resources.My.Resources.ResourceFile._001
    .Panel2.BackColor = Color.White
    .Panel2.AutoScroll = True
End With 
```

当我运行代码时，我得到以下信息：

![frmMain（已编译）](https://i.stack.imgur.com/ubrvf.png)

我想删除灰色分离器，因为它没有用。这是一个常见的美容错误，是否可以将其删除？

SplitContainer 的第二个问题是，如果我调整窗口大小，Panel1 中的 backgroundImage 和 Panel2 中的白色不会随窗口调整。我搜索了 Resize 代码的高低，但我找不到它。Panel2 具有用户控件，例如。仪表板并以这种方式加载：`MainContainer.Panel2.Controls.Add(Dashboard)`.

Panel2是否也有可能自动调整到窗口的宽度，这样你就只有一个水平滚动条了？

感谢您阅读我的问题，希望您能帮助我解决 SplitContainer 的问题。祝你今天过得愉快。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T16:56:08.927

> 我想删除灰色分离器，因为它没有用。这是一个常见的美容错误，是否可以将其删除？

如果您不希望用户看到或移动拆分器，为什么要使用拆分容器？作为替代方案，请考虑使用配置为 1 行和 2 列的 TableLayoutPanel。第一列将是绝对 200 像素宽，而第二列将设置为 100% 宽。在这两个单元格中的每一个中，您都可以放置一个面板，该面板停靠并设置为边距为 0,0,0,0。

> SplitContainer 的第二个问题是，如果我调整窗口大小，Panel1 中的 backgroundImage 和 Panel2 中的白色不会随窗口调整。... Panel2 是否也有可能自动调整到窗口的宽度，以便您只有一个水平滚动条？

虽然我没有模拟您当前的解决方案，但我无法通过快速模拟我上面提出的解决方案来复制这些问题。关于自动滚动，出现滚动条的唯一原因是控件不在屏幕边缘或可用屏幕空间小于面板的最小尺寸。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T18:06:16.973

您有 2 个选项：

*   使用`TableLayoutPanel`（正如@erdomke 建议的那样）
*   使用 2 个`Panel`控件

对于 2 个面板控件，停靠`panel1`到`Left`和停靠`panel2`到`Fill`。要使用调整大小的 UserControl 填充 panel2，请将其 Dock 属性也设置为 Fill。

# iphone - 使用 AVAudioRecorder 和 AVAudioPlayer 录制和播放

> ID：15898796
> 
> 赞同：0
> 
> 时间：2013-04-09T09:53:02.387
> 
> 标签：iphone, avaudioplayer, avaudiorecorder

我正在创建一个应用程序，用户可以在其中录制和播放录制的文件。我也可以录音和播放，但我面临的问题是，在播放（听）录音时，如果用户按下录音按钮，它将开始录音，按下停止按钮会恢复之前的录音。

我想要的是当用户正在听录音时，同时他按下录音按钮时，最后一个录音（他正在播放的）应该被销毁。

总之，我不想恢复上次的录音，我想播放最近的录音。

这是我的录制和播放代码。

```
 -(void)showStopbutton
    {
        if (flag_for_mic_button == 0)
        {
            // All in vain the following condition not making any effect palyer is resuming back
            if ([audioPlayer isPlaying])
            {
                [audioPlayer stop];
                audioPlayer = nil;
                audioPlayer = NO;
            }
            //

            [btn_Mic setImage:[UIImage imageNamed:@"stop.png"] forState:UIControlStateNormal];
            lbl_Press.hidden = TRUE;
            lbl_updateTime.hidden = FALSE;
            [self startRecording];
            flag_for_mic_button = 1;
        }
        else if (flag_for_mic_button ==1)
        {
            [self stopRecording];

            // All in vain the following condition not making any effect palyer is resuming back

            if ([audioPlayer isPlaying])
            {
                audioPlayer = NO;
                [audioPlayer stop];
                audioPlayer = nil;
            }

            //

            [btn_Mic setImage:[UIImage imageNamed:@"mic.png"] forState:UIControlStateNormal];
            lbl_Press.hidden = FALSE;
            lbl_updateTime.hidden = TRUE;
            flag_for_mic_button = 0;
        }
    }

-(void)startRecording
{
    AVAudioSession *audioSession = [AVAudioSession sharedInstance];
    NSError *err = nil;
    UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_Speaker;
    AudioSessionSetProperty(kAudioSessionProperty_OverrideAudioRoute, sizeof(audioRouteOverride), &audioRouteOverride);
    if(err){
        NSLog(@"audioSession: %@ %d %@", [err domain], [err code], [[err userInfo] description]);
        return;
    }
    [audioSession setActive:YES error:&err];
    err = nil;
    if(err){
        NSLog(@"audioSession: %@ %d %@", [err domain], [err code], [[err userInfo] description]);
        return;
    }
    recordSetting = [[NSMutableDictionary alloc]init];
    [recordSetting setValue:[NSNumber numberWithInt:kAudioFormatLinearPCM] forKey:AVFormatIDKey];
    [recordSetting setValue:[NSNumber numberWithInt:44100.0f] forKey:AVSampleRateKey];
    [recordSetting setValue:[NSNumber numberWithInt:2] forKey:AVNumberOfChannelsKey];
    [recordSetting setValue:[NSNumber numberWithInt:16] forKey:AVLinearPCMBitDepthKey];
    [recordSetting setValue:[NSNumber numberWithBool:NO] forKey:AVLinearPCMIsBigEndianKey];
    [recordSetting setValue:[NSNumber numberWithBool:NO] forKey:AVLinearPCMIsFloatKey];
    NSDate *now = [NSDate dateWithTimeIntervalSinceNow:0];
    caldate =[now description];
    recorderFilePath = [NSString stringWithFormat:@"%@/%@ MyRecording.caf",DOCUMENTS_FOLDER,caldate];
    NSURL *url = [NSURL fileURLWithPath:recorderFilePath];
    err=nil;
    audioRecorder = [[AVAudioRecorder alloc]initWithURL:url settings:recordSetting error:&err];
    [audioRecorder setDelegate:self];
    [audioRecorder prepareToRecord];
    audioRecorder.meteringEnabled = YES;

    [audioRecorder record];

    [self setTimer];
    [self hidePlaybackView];
}

-(void)stopRecording
{
    [audioRecorder stop];
    [start_Timer invalidate];
    [self showPlaybackView];

}

-(void)playSound
{
//    [self playBackTimer];

    if (!recorderFilePath)
    {
        recorderFilePath = [NSString stringWithFormat:@"%@/%@ MyRecording.caf",DOCUMENTS_FOLDER,caldate];
    }

    if(soundID)
    {
        AudioServicesDisposeSystemSoundID(soundID);
    }

    //Get a URL for the sound file
    NSURL *filePath = [NSURL fileURLWithPath:recorderFilePath isDirectory:NO];

    //Use audio sevices to create the sound
    AudioServicesCreateSystemSoundID((CFURLRef)CFBridgingRetain(filePath), &soundID);

    //Use audio services to play the sound
    AudioServicesPlaySystemSound(soundID);

    audioPlayer = [[AVAudioPlayer alloc]initWithContentsOfURL:filePath error:nil];

    [audioPlayer play];

    audioPlayer.delegate = self;

} 
```

**编辑：**

```
-(void)showPlaybackView
{
    view_playback = [[UIView alloc]initWithFrame:CGRectMake(0, 600, 320, 80)];
    view_playback.backgroundColor = [UIColor grayColor];
    [self.view addSubview:view_playback];
    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration:0.4];
    [UIView setAnimationCurve: UIViewAnimationCurveEaseInOut];
    view_playback.frame = CGRectMake(0, 325, 320, 55);
    [UIView commitAnimations];

    btn_Playback = [UIButton buttonWithType:UIButtonTypeCustom];
    [btn_Playback setImage:[UIImage imageNamed:@"play.png"] forState:UIControlStateNormal];
    btn_Playback.frame = CGRectMake(10, 10, 35, 35);
    [view_playback addSubview:btn_Playback];
    [btn_Playback addTarget:self action:@selector(playSound) forControlEvents:UIControlEventTouchUpInside];

    btn_done = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    [btn_done setTitle:@"Done" forState:UIControlStateNormal];
    btn_done.frame = CGRectMake(265, 15, 45, 30);
    btn_done.titleLabel.font = [UIFont systemFontOfSize:14.0f];
    [view_playback addSubview:btn_done];

    [view_playback addSubview:playback_slider];

    [btn_done addTarget:self action:@selector(Done) forControlEvents:UIControlEventTouchUpInside];
} 
```

任何帮助都是不言而喻的。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:13:58.803

**试试这种方法：**

```
 -(void)showStopbutton
{
        if (![audioPlayer isPlaying])
        {
            [audioPlayer start];
           // other stuff
        }

        if ([audioPlayer isPlaying])
        {
            [audioPlayer stop];
            // Delete the previous recording in the delegate method of audio player       
        }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T11:13:07.550

我停止了音频播放器，并且使用以下代码不要让它恢复。

```
if([audioPlayer isPlaying])
{
    audioPlayer.currentTime=0;
} 
```

快乐编码！

# python - Scrapy：ImportError：无法导入名称设置

> ID：15898798
> 
> 赞同：1
> 
> 时间：2013-04-09T09:53:11.590
> 
> 标签：python, scrapy

```
from scrapy import project, signals
from scrapy.crawler import Settings
from scrapy.crawler import CrawlerProcess
from scrapy.xlib.pydispatch import dispatcher
from multiprocessing.queues import Queue
import multiprocessing

class CrawlerWorker(multiprocessing.Process):

    def __init__(self, spider, result_queue):
        multiprocessing.Process.__init__(self)
        self.result_queue = result_queue

        self.crawler = Crawler(Settings())
        if not hasattr(project, 'crawler'):
            self.crawler.install()
        self.crawler.configure()

        self.items = []
        self.spider = spider
        dispatcher.connect(self._item_passed, signals.item_passed)

    def _item_passed(self, item):
        self.items.append(item)

    def run(self):
        self.crawler.crawl(self.spider)
        self.crawler.start()
        self.crawler.stop()
        self.result_queue.put(self.items) 
```

我在尝试仅使用 scrapy.conf.settings 中的 CrawlerProcess(settings) 时遇到错误，scrapy doc 在这里所说的似乎存在差异[http://doc.scrapy.org/en/latest/topics/practices .html](http://doc.scrapy.org/en/latest/topics/practices.html)

我正在关注一个旧的scrapy版本，我试图让它与0.16的scrapy一起工作。

这是我运行 python 脚本时的错误。

```
Traceback (most recent call last):
  File "server.py", line 5, in <module>
    from scraper import Scraper
  File "/home/me/spider/spider/scraper.py", line 6, in <module>
    from crawlerworker import CrawlerWorker
  File "/home/me/spider/spider/crawlerworker.py", line 2, in <module>
    from scrapy.crawler import Settings
ImportError: cannot import name Settings 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T18:41:33.217

尝试：

```
from scrapy.settings import Settings 
```

# html - TD 高地和探险家

> ID：15898800
> 
> 赞同：0
> 
> 时间：2013-04-09T09:53:13.250
> 
> 标签：html, css, internet-explorer, html-table

我知道这已经被问了一百万次，我已经尝试了我在这里找到的所有解决方案，但没有。

这是我的页面：[http](http://www.osteriaalcason.it) ://www.osteriaalcason.it并且您可以看到如果您使用 Internet Explorer 打开它，所有菜单的间距都是完全错误的。相反，使用 Firefox 或 Chrome 可以正确显示菜单。

您应该能够直接从浏览器中看到页面的源代码，并且 CSS 文件在这里： [http](http://www.osteriaalcason.it/rist.css) ://www.osteriaalcason.it/rist.css 在这里您可以看到我的最新尝试：

```
.menu {
width:150px;
height:30px;
max-height:30px;
overflow: hidden;
font-size:1px;
}

.menu A:link{
text-decoration:none;
}

.menu A:visited{
text-decoration:none;
}

.menu A:active{
text-decoration:none;
}

 .menu A:hover{
text-decoration:none;
}

 .menu img{
max-height:30px;
border-style: none;
} 
```

任何帮助将不胜感激，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:12:54.990

试试这个：

`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:15:57.517

```
I have change some html and it's working fine in IE also. 
You can check below jsfiddle. 
```

[演示](http://jsfiddle.net/pqt2Q/)

# facebook - Facebook 中没有缩略图的链接正在加载

> ID：15898811
> 
> 赞同：0
> 
> 时间：2013-04-09T09:53:36.743
> 
> 标签：facebook

我们网站 Pixorange.com 的链接在 Facebook 中加载时没有缩略图。我确实使用 FB lint 工具来调试问题，并给出一个错误，指出找不到图像。

以下是一些您可以在 FB 墙中发布的链接，并查看缩略图未加载链接。问题不是每个链接，而是一些链接：

[http://pixorange.com/tweet-my-weaknesses-to-me-says-modi](http://pixorange.com/tweet-my-weaknesses-to-me-says-modi)

[http://pixorange.com/rajiv-gandhi-was-entrepreneur-for-swedish-jet](http://pixorange.com/rajiv-gandhi-was-entrepreneur-for-swedish-jet)

此外，当您喜欢带有类似 FB 按钮的文章时，我收到如下错误**" 是类型为 "Reference *" ****的属性 "object" 的无效值***

 ***我们确实检查了我们的应用程序设置，发现一切正常，并且我们确实将我们的服务器从 Hostgator 更改为 Inmotion 托管。我向托管服务提供商和 FB 开发人员开了一张票，但他们仍然无法找到链接未加载的原因。

谢谢，

阿斯瓦蒂·阿楚

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-06T09:10:33.603

尝试`<meta>`在部分中添加标签，`<head>`例如：

```
<meta content='100003340872784' property='fb:admins'/> 
```

`100003340872784`用您自己的 facebook 用户 ID替换。[您可以从这里](http://findmyfacebookid.com/)获取您的 facebook 用户 ID 。

[向Trickonics](http://www.Trickonics.com)团队致敬。***

# html - 奇怪的 Twitter Bootstrap 中的行为

> ID：15898814
> 
> 赞同：0
> 
> 时间：2013-04-09T09:53:57.033
> 
> 标签：html, css, twitter-bootstrap

我一直在使用 Twitter Bootstrap 开发一个迷你项目。我正在使用 's 并且有一些奇怪的行为。我有 jQuery，它允许我在单击按钮时创建新选项卡。新选项卡被激活并包含一个表单。这个表格取代了下面的标题，我不知道为什么。任何人都可以帮忙吗？

代码片段：

```
<section id="builder">
  <div class="page-header">
    <h1>App Builder. <small>Create your app.</small></h1>
  </div>
  <div class="span7">
    <!-- ===== App Title ===== -->
    <div class="control-group">
      <label class="control-label" for="appTitle">App Title</label>
      <div class="controls">
        <input type="text" class="input-xlarge" id="appTitle">
        <p class="help-block">Enter the title for your app. It will appear at the top of your app.</p>
      </div>
    </div>
    <!-- ===== App Subtitle ===== -->
    <div class="control-group">
      <label class="control-label" for="appSubtitle">App Subtitle</label>
      <div class="controls">
        <input type="text" class="input-xlarge" id="appSubtitle">
        <p class="help-block">Enter the subtitle for your app. It will appear below the title.</p>
      </div>
    </div>
    <!-- ===== App Theme ===== -->
    <div class="control-group">
      <label class="control-label" for="appTheme">App Theme</label>
      <div class="controls">
        <select id="appTheme">
          <option>Dark</option>
          <option>Light</option>
        </select>
        <p class="help-block">Select the theme for your app. You can preview your theme on the right.</p>
      </div>
    </div>
    <!-- ===== App Pages ===== -->
    <p>App Pages</p>
      <ul class="nav nav-tabs" id="tabHeaders">
      <li><a href="javascript:void(0);" id="createTab"><i class="icon-plus"></i>Add Page</a></li>
      <!-- Tabs (Created by Javascript) -->
      </ul>
      <div class="tab-content" id="tabContent">
      <!-- Tab Content (Created by Javascript) -->
      </div>
  </div>
  <div class="span4">
    <div class="iphonebackground">
      <div class="screenbackground"></div>
    </div>
  </div>
</section>
<section id="preview">
  <div class="page-header">
    <h1>Preview your App. <small>See your app in it's full glory before you download it.</small></h1>
  </div>
</section> 
```

添加新标签之前： ![添加新标签之前](https://i.stack.imgur.com/SJs00.png)

添加新标签后： ![添加新标签后](https://i.stack.imgur.com/6SDvR.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:38:00.550

看起来文本正在新选项卡周围浮动。尝试`clear:left;`在 CSS 中使用该文本以查看它是否正确回落到选项卡下方。

# iphone - TapJoy 和 UrabnAirship 问题 iOS 问题

> ID：15898816
> 
> 赞同：-2
> 
> 时间：2013-04-09T09:54:01.097
> 
> 标签：iphone, objective-c, linker-errors, tapjoy

我的 iPhone 应用程序有 Urbainairship 和 TapJoy 时遇到问题。

我已经在使用 Urbanairship 进行推送通知。当我为优惠墙集成 TapJoy 发布者 SDK 并添加 -loa ![在此处输入图像描述](https://i.stack.imgur.com/50KR2.png)d_all 和 -ObjC 标志时，它向我显示了少数城市飞艇文件的重复错误。附上截图 1 和截图 2

当我在没有城市飞艇的情况下集成到测试项目中时，它非常适合。

但是，当未设置链接器标志时，它会在下一行出现此描述而崩溃

[TapjoyConnect requestTapjoyConnect:TAPJOY_ID secretKey:TAPJOY_SECRET_KEY]; 崩溃描述：* 由于未捕获的异常“NSUnknownKeyException”而终止应用程序，原因：“[setValue:forUndefinedKey:]：此类与键 closeButton 的键值编码不兼容。”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:59:29.057

```
this class is not key value coding-compliant for the key closeButton.' 
```

此错误表示 UIElements 中存在一些连接问题。检查 xib 文件和相应的连接。如果还是同样的错误，删除所有 UI 元素并重新连接

# python - Python：使用特定条件对嵌套列表进行排序

> ID：15898817
> 
> 赞同：0
> 
> 时间：2013-04-09T09:54:06.333
> 
> 标签：python, list, sorting, nested

作为 Python 的初学者，我最近因使用特定标准对嵌套列表进行排序的问题而陷入困境。我有一个这样的嵌套列表：

```
nestedList=[['R2D2','1path1','1path2'], 
            ['R3A1','2path1','2path2'],
            ['R15L2','3path1','3path2']] 
```

我希望这个列表按每个嵌套列表中的第一个字符串排序。结果将如下所示：

```
nestedList=[['R15L2','3path1','3path2'],
            ['R3A1','2paht1','2path2'],
            ['R2D2','1path1','1path2']] 
```

目前我的解决方案是只使用带有反向参数的排序函数：

```
nestedList.sort(reverse=True) 
```

我不确定这是否安全，因为我不希望它也按第二个字符串对列表进行排序。

我怎么能只按第一个字符串对其进行排序？（例如“R15L2”、“R3A1”等）

非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T09:58:47.343

您想根据键排序（键是列表的第一个元素）：

```
nestedList.sort(key=lambda x: x[0]) 
```

或者

```
import operator as op

nestedList.sort(key=op.itemgetter(0)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T11:13:11.553

```
 a = [['3f','2f','5a'],['5a','0r','7v'],['4r','58v','5l']]
>>> a
[['3f', '2f', '5a'], ['5a', '0r', '7v'], ['4r', '58v', '5l']]
>>> a.sort()
>>> a
[['3f', '2f', '5a'], ['4r', '58v', '5l'], ['5a', '0r', '7v']]
>>> a.sort(reverse=True)
>>> a
[['5a', '0r', '7v'], ['4r', '58v', '5l'], ['3f', '2f', '5a']]
>>> 
```

# wordpress - 在 wordpress 中使用友好的 url

> ID：15898818
> 
> 赞同：0
> 
> 时间：2013-04-09T09:54:06.717
> 
> 标签：wordpress, redirect

我通过将自定义结构更改为：

```
/%postname%/ 
```

现在，当我单击页面链接时，它会将我带到 domain.com/postname，但我收到 404 错误。进行一些挖掘表明我需要设置 301 重定向，但我对如何执行此操作感到困惑。我已经编辑了我的 .htaccess 文件——它现在看起来像：

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /mgassoc/
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /mgassoc/index.php [L]
</IfModule>
# END WordPress 
```

谁能帮我解决我做错的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T14:06:26.873

尝试这样做，看看是否有帮助。

将以下内容添加到您的 httpd.conf 并重新启动 apache。

```
<Directory "/path/to/your/app"> 
Options FollowSymLinks 
AllowOverride All 
Order allow,deny 
Allow from all 
</Directory> 
```

# bash - bash echo不显示值

> ID：15898819
> 
> 赞同：1
> 
> 时间：2013-04-09T09:54:07.453
> 
> 标签：bash, input, echo, sh

当我运行以下脚本时，echo 不显示任何内容，我不知道为什么。如果我只是将它输入到终端中，它就可以工作，而不是从 shell 脚本中输入。请需要一些见解。我可能累了，但我很确定这应该有效：

```
#!/bin/sh
for n in `seq 1 10`
do
   r=$RANDOM
   t=$RANDOM
   s=$RANDOM
   f=$RANDOM
   echo "$r $t $s $f"
done
   echo "Done" 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T10:00:46.367

您的终端可能运行的 shell 与`/bin/sh`. 例如，在 Ubuntu 上，`/bin/sh`运行`/bin/dash`，但`$RANDOM`在那里不起作用。您必须运行`/bin/bash`或`/bin/ksh`使其工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T10:00:17.483

从终端运行时，您可能使用 bash，而不是 sh。

似乎 sh 不支持`$RANDOM`，因此您在脚本中分配的所有变量都将被分配空字符串。尝试将脚本的第一行更改为`#!/bin/bash`（或安装 bash 的任何位置）。

# sas - 您如何读取多个特定数据集并附加到一个大数据集？

> ID：15898824
> 
> 赞同：2
> 
> 时间：2013-04-09T09:54:17.270
> 
> 标签：sas, sas-macro

您如何读取多个特定数据集并附加到一个大数据集？

例如，我在一个库中拥有 100 个数据集，但我只想附加具有 _du1、_du2 的数据集

格式和列名相同

我的刺没用：

```
PROC SQL NOPRINT;
SELECT memname INTO :tab1-:tab103 FROM sashelp.vtable
where memname like '_DU%';
SELECT count(*) INTO :obs FROM sashelp.vtable
where memname like '_DU%';
QUIT;

%macro rubber;
%do i=1 %to i=&obs;
proc append base=tot_comb data=&&tab&i force;
run;
%end;
%mend;

%rubber; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T15:04:54.153

在这种情况下，PROC APPEND 实际上可能不会更快，或者至少不会快到足以证明这样做的合理性，而不是仅仅编写一个数据步。

```
data tot_comb;
set work._DU:; *or your libname;
run; 
```

如果您使用的是 SAS 9.2 或更高版本，这将起作用。如果您使用的是 9.1 或更早版本，则需要执行一个 proc sql 步骤，例如

```
proc sql;
select memname into :namelist separated by ' '
  from dictionary.columns
  where libname='WORK' /* or your libname */
  and memname eqt '_DU';
quit;
*eqt is like starts with;
data tot_comb;
set &namelist;
run; 
```

这只需要一次写入，我不确定它是否会比对 PROC APPEND 的多次调用慢得多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T13:26:45.463

下面是一些代码，可以从给定库中获取所有具有某些特征的数据集名称（以 _DU 开头）。您可以通过多种方式使用 final 宏来附加数据集。

```
Data _DU1;
 var="One";
Run;
Data _DU2;
 var="Two";
Run;

PROC SQL;
 create table main as
 SELECT *
 FROM DICTIONARY.COLUMNS
 WHERE UPCASE(LIBNAME)="WORK" AND
 UPCASE(MEMNAME) like '_DU%';

 Select memname
 into :dsn separated by ' '
 from main;
QUIT;

%Put &dsn; 
```

**编辑（根据您的评论）**

我添加了一些 UPCASE 语句并将您的 count 宏 var 用于选项卡宏的数量缩小 where 语句应该使您的代码更高效

试试这个（一些代码未经测试）：

```
 PROC SQL NOPRINT; 
  SELECT count(*) 
  INTO :obs 
  FROM sashelp.vtable 
  where UPCASE(LIBNAME)="<YOUR LIB IN UPCASE>" AND
        upcase(memname) like '_DU%'; 
 %Let obs=&obs;
  SELECT memname 
  INTO :tab1-:tab&obs 
  FROM sashelp.vtable 
  where UPCASE(LIBNAME)="<YOUR LIB IN UPCASE>" AND
       upcase(memname) like '_DU%'; 

 QUIT; 

 %macro rubber; 
  %do i=1 %to &obs; 
   proc append base=tot_comb data=&&tab&i force; run; 
  %end; 
 %mend; 
 %rubber; 
```

# python - post_save() 函数中的 ManyToManyField 为空

> ID：15898829
> 
> 赞同：8
> 
> 时间：2013-04-09T09:54:46.117
> 
> 标签：python, django

当向表中添加新记录时，我必须在外部数据库上执行 SQL 语句。此查询包括使用 ManyToManyField。所以我只是连接了这样的功能：

```
post_save.connect(post_save_mymodel, sender=MyModel) 
```

在我的 post_save_mymodel() 函数中，这是我所做的：

```
def post_save_mymodel(sender, instance, created, *args, **kwargs):
    if created:
        for e in instance.my_m2mfield.all():
            # Query including "e". 
```

但是，太糟糕了， instance.my_m2mfield.all() 总是空的！即使它们应该包含一些元素！我试图通过这样做来获得新元素

```
new_element = MyModel.objects.get(pk=instance.pk) 
```

但它并没有改变任何东西，我仍然有同样的问题......

Wny 帮助/建议？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-09T11:03:42.477

这是因为您首先保存您的实例，然后再向其中添加 m2m 关系。这就是 ManyToMany 字段在 Django 数据模型中的工作方式。Django 需要知道应该与 m2m 关系连接的项目的 ID。

我认为您的代码如下所示：

```
instance = MyModel.objects.create(some_field=some_value)  # post save signal triggered here
instance.my_m2mfield = my_set_of_m2m_models 
```

您需要将处理程序连接到`django.db.models.signals.m2m_changed`信号。请参阅[文档](https://docs.djangoproject.com/en/1.5/ref/signals/#django.db.models.signals.m2m_changed)。例如：

```
def post_save_mymodel(sender, instance, action, reverse, *args, **kwargs):
    if action == 'post_add' and not reverse:
        for e in instance.my_m2mfield.all():
            # Query including "e"
m2m_changed.connect(post_save_mymodel, sender=MyModel.my_m2mfield.through) 
```

# asp.net - ASP.NET 会话状态已创建会话 id，但无法保存

> ID：15898832
> 
> 赞同：1
> 
> 时间：2013-04-09T09:54:51.617
> 
> 标签：asp.net, iis

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:01:17.847

尝试将 web.config 上的会话模块也删除为

```
<httpModules>
  <remove name="Session" />
</httpModules> 
```

之后，您的代码的某些部分或您包含在应用程序中的其他代码总是有可能尝试使用会话 -

# java - BlockingQueue 并从等待中释放线程

> ID：15898833
> 
> 赞同：1
> 
> 时间：2013-04-09T09:54:53.363
> 
> 标签：java, multithreading, collections, blockingqueue

假设我有 BlockingQueue 并且一些线程被称为 take() 但此时队列是空的。并且假设我以某种方式知道将来新元素不会出现在队列中。如何从等待中释放那些被称为 take() 的线程？谢谢！

```
 public void run() {
        //noinspection InfiniteLoopStatement
        while (true) {
            try {
                Thread.sleep(millisecondsToSleep);
                if (!kitchen.processedOrdersEmpty()) {
                    Order processedOrder = kitchen.getFromProcessedOrders();
                    kitchen.printMessage("took order#" + processedOrder.getOrderNumber());
                    Thread.sleep(millisecondsToServe);
                    kitchen.printMessage("served order#" + processedOrder.getOrderNumber());
                } else {
                    int currentRandom = getNextRandom();
                    if (currentRandom <= 10) {
                        Order newOrder = new Order(kitchen.getLastOrderNumber());
                        kitchen.puIntoUnprocessedOrders(newOrder);
                        kitchen.printMessage("generated new order#" + newOrder.getOrderNumber());
                    } else {
                        Thread.sleep(millisecondsToSleep);
                    }
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    } 
```

其中 kitchen.getFromProcessedOrders() 等于：

```
public Order getFromProcessedOrders() throws InterruptedException {
    return processedOrders.take();
} 
```

和 processesOrders 是一个 BlockingQueue

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:57:09.813

1）您可以中断 take() 正在运行的线程

2）您可以将特殊对象放入队列作为结束信号。如果一个线程获得一个特殊对象（END），它会将其放回并退出，因此其他等待线程也将获得 END。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T10:02:40.857

根据[java文档](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html)-

> BlockingQueue 本质上不支持任何类型的“关闭”或“关闭”操作来指示不再添加项目。此类功能的需求和使用往往取决于实现。例如，一种常见的策略是生产者插入特殊的流尾或有毒对象，当消费者采用时会相应地解释这些对象。

您应该中断被阻塞的线程 -

```
public void run() {
        //noinspection InfiniteLoopStatement
        while (true) {
            try {
                Thread.sleep(millisecondsToSleep);
                if (!kitchen.processedOrdersEmpty()) {
                    Order processedOrder = kitchen.getFromProcessedOrders();
                    kitchen.printMessage("took order#" + processedOrder.getOrderNumber());
                    Thread.sleep(millisecondsToServe);
                    kitchen.printMessage("served order#" + processedOrder.getOrderNumber());
                } else {
                    int currentRandom = getNextRandom();
                    if (currentRandom <= 10) {
                        Order newOrder = new Order(kitchen.getLastOrderNumber());
                        kitchen.puIntoUnprocessedOrders(newOrder);
                        kitchen.printMessage("generated new order#" + newOrder.getOrderNumber());
                    } else {
                        Thread.sleep(millisecondsToSleep);
                    }
                }
            } catch (InterruptedException ex) { 
                //... handle ...
            }catch (Exception e) {
                e.printStackTrace();
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:01:21.107

您可以添加一些虚拟记录`new String("##EOQ##")`，例如表示队列结束并停止消费者线程。

# asp.net - InvalidOperationException：超时 - 递归数据库访问

> ID：15898836
> 
> 赞同：1
> 
> 时间：2013-04-09T09:55:00.820
> 
> 标签：asp.net, sql, recursion, timeout

目前，我的一个 Web 应用程序遇到了一个严重的问题，它每天运行大约六次超时异常。

错误：“在从池中获取连接之前已经过了超时时间。这可能是因为所有池连接都在使用中并且达到了最大池大小”。

经过大量谷歌搜索后，我发现问题与未关闭的连接有关。所以我检查了所有以任何方式访问数据库的函数，直到我偶然发现了这个：

```
 Private Sub getOrgas(ByVal orgID As String)
        Dim Id = orgID
        orgColl.Add(Id)
        While (Not IsNothing(Id))
            Dim conn = Database.DbWrapper.GetConnection(1, Integration.Mandanten.DatabaseType.AddonSQL)
            Dim paras As New HashSet(Of System.Data.Common.DbParameter)
            Dim orgatmp As String
            paras.Add(New SqlClient.SqlParameter("@Id", orgID))
            Dim dr = Database.DbWrapper.GetDataReaderFromStoredProcedure("stp_Orgas_Get", paras, conn)
            While dr.Read
                If Not valueInColl(CStr(dr(0))) Then
                    orgatmp = dr(0).ToString
                    orgColl.Add(orgatmp)
                    getOrgas(orgatmp)
                End If
            End While
            dr.Close()
            conn.Close()
            Id = Nothing
        End While
    End Sub 
```

如您所见，该函数执行一个存储过程并通过一个while循环运行结果，如果特定条件-valueInColl-，它将再次调用该函数。现在以这种方式，可能有 20 个或更多打开的连接。它与通过 GetDataReaderFromStoredProcedure 设置为 600 的超时值无关，这实际上应该足够了。可以肯定的是，我将价值翻了一番，并将在今晚推出。我会在第二天看看这是否有帮助。我相信问题是由于递归功能，同时打开的连接太多，但我不知道如何解决这个问题。

我找不到有关如何编辑最大连接数的任何信息。我什至不完全确定必须在哪里设置它。是 IIS、数据库本身还是编程参数 (VB.net/ASP.NET)。如果你们能在这里帮助我，那就太好了。

[编辑] 好的，有人想重用连接变量，但这不会工作，因为数据读取器仍在运行。只要它没有关闭，我就不能以任何方式重用连接，也不能关闭数据读取器，因为这样做可能会丢失数据。dr.read 的 while 循环还没有结束，但.. 另一方面，我删除了（几乎没用的）外部 while 并使用了一个 If 子句作为交换：

```
Private Sub getOrgas(ByVal orgID As String, ByVal con As DbConnection)
    Dim Id = orgID
    Dim conn As DbConnection
    Dim tmpOrga As String
    orgColl.Add(Id)
    If Not IsNothing(Id) Then
        If IsNothing(con) Then
            conn = Database.DbWrapper.GetConnection(1, Integration.Mandanten.DatabaseType.AddonSQL)
        Else
            conn = con
        End If
        Dim paras As New HashSet(Of System.Data.Common.DbParameter)
        paras.Add(New SqlClient.SqlParameter("@Id", orgID))
        Dim dr = Database.DbWrapper.GetDataReaderFromStoredProcedure("stp_Orgas_Get", paras, conn)
        While dr.Read
            If Not valueInColl(CStr(dr(0))) Then
                tmpOrga = dr(0).ToString
                orgColl.Add(tmpOrga)
                getOrgas(tmpOrga, conn)
            End If
        End While
        dr.close()
        conn.Close()
        Id = Nothing
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:09:34.070

您是否有任何理由无法重构事物以便每个递归都使用相同的数据库连接？

我不是 VB 编码器，但我会按如下方式处理它

1.  更改`getOrgas()`为采用默认为“无”的连接参数。
2.  `Dim conn`将行更改为`if IsNothing(connParameter) conn = GetConnection() else conn := connParameter;`
3.  将您的递归线更改为`getOrgas(orgatmp, conn);`
4.  测试出它的F%%%%。

我刚刚注意到外`While`循环。只是为了迷惑你吗？它会执行多少次？...

* * *

我确实想知道数据读取器 - 试试这个 - 我看到你的数据读取器需要在你递归之前关闭，所以关闭它。

在伪代码中 -

```
dim locallist = new list();
while dr.read
{
  LocalList.Add dr.thing;
}
dr.close;

foreach(thing in locallist)
{
   if Not ValueInColl(thing) Then
     CallYourFunctionTRecursively()
   end if;
} 
```

你和我在一起吗？

* * *

如果您尝试将一个家庭的所有成员放在一起，那么这取决于您使用的数据库系统是如何完成的，但请在您的文档中查找“层次查询”。

# .net - 当windbg中没有gcroot时如何检查创建并持有它的对象

> ID：15898837
> 
> 赞同：2
> 
> 时间：2013-04-09T09:55:01.837
> 
> 标签：.net, windbg

我得到一个 LOH 对象，想知道是谁创建和持有它。

```
!do 28d2a0a0 
```

![在此处输入图像描述](https://i.stack.imgur.com/r0gku.jpg)

![在此处输入图像描述](https://i.stack.imgur.com/AVGv2.jpg)

**28d2a0a0** object no hold any object and not by other object hold.which function method to create it?谢谢。

![在此处输入图像描述](https://i.stack.imgur.com/8KnAH.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T18:17:31.757

您可以使用`!sosex.refs`来找出引用该对象的内容，但调试器无法告诉您是什么创建了它。一旦你建立了一个引用链，你将不得不依赖代码审查。

# php - 什么是新静态？

> ID：15898843
> 
> 赞同：75
> 
> 时间：2013-04-09T09:55:20.997
> 
> 标签：php

我在一些框架中看到了这行代码：

```
return new static($view, $data); 
```

你怎么理解的`new static`？

* * *

## 回答 #1

> 赞同：125
> 
> 时间：2013-04-09T10:05:11.593

当您`new self()`在类的成员函数中编写代码时，您将获得该类的一个实例。[这就是`self`关键字](https://stackoverflow.com/q/5197300/560648)的魔力。

所以：

```
class Foo
{
   public static function baz() {
      return new self();
   }
}

$x = Foo::baz();  // $x is now a `Foo` 
```

`Foo`即使您使用的静态限定符用于派生类，您也会得到：

```
class Bar extends Foo
{
}

$z = Bar::baz();  // $z is now a `Foo` 
```

如果您想启用多态性（在某种意义上），并让 PHP 注意到您使用的限定符，您可以将关键字交换`self`为`static`关键字：

```
class Foo
{
   public static function baz() {
      return new static();
   }
}

class Bar extends Foo
{
}

$wow = Bar::baz();  // $wow is now a `Bar`, even though `baz()` is in base `Foo` 
```

这可以通过称为[*后期静态绑定*](http://php.net/manual/en/language.oop5.late-static-bindings.php)的 PHP 特性实现；不要将它与关键字的其他更常规用法混淆`static`。

# xml - 从和 xml 中选择最小值而不进行排序

> ID：15898844
> 
> 赞同：4
> 
> 时间：2013-04-09T09:55:21.913
> 
> 标签：xml, xslt, xslt-1.0

我正在使用 xslt 将 xml 文档转换为 html 表，现在我要做的是更改包含最低“价格”值的单元格的背景颜色，而不对我的列表进行排序。

我对此很陌生，所以我正在做的是遵循 W3C 学校的例子。xml 文件如下所示：

```
 <?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Edited by XMLSpy® -->
<catalog>
<cd>
    <title>Empire Burlesque</title>
    <artist>Bob Dylan</artist>
    <country>USA</country>
    <company>Columbia</company>
    <price>10.90</price>
    <year>1985</year>
</cd>
<cd>
    <title>Black angel</title>
    <artist>Savage Rose</artist>
    <country>EU</country>
    <company>Mega</company>
    <price>11.90</price>
    <year>1995</year>
</cd>
<cd>
    <title>For the good times</title>
    <artist>Kenny Rogers</artist>
    <country>UK</country>
    <company>Mucik Master</company>
    <price>8.70</price>
    <year>1995</year>
</cd>
</catalog> 
```

我想要获得的是与此类似的东西，但没有按价格对列表中的元素进行排序。所以我想保持XML文档中的原始顺序。

```
 <?xml version="1.0" encoding="ISO-8859-1"?>
    <!-- Edited by XMLSpy® -->
    <xsl:stylesheet version="1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:template match="/">
     <html>
      <body>
        <h2>My CD Collection</h2>
        <table border="1">
          <tr bgcolor="#9acd32">
          <th>Title</th>
          <th>Artist</th>
          <th>Price</th>
        </tr>
        <xsl:for-each select="catalog/cd">
        <xsl:sort select="price" order="ascending" data-type="number"/>
          <tr>
            <td><xsl:value-of select="title"/></td>
            <td><xsl:value-of select="artist"/></td>
            <xsl:choose>
              <xsl:when test="(position() = 1)">
                <td bgcolor="#ff00ff">
                <xsl:value-of select="price"/></td>
              </xsl:when>
            <xsl:otherwise>
                <td><xsl:value-of select="price"/></td>
            </xsl:otherwise>
            </xsl:choose>
          </tr>
        </xsl:for-each>
        </table>
      </body>
      </html>
    </xsl:template>
    </xsl:stylesheet> 
```

在此先感谢您的帮助。

* * *

编辑：我想我已经为我的问题找到了解决方案：

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Edited by XMLSpy® -->
<xsl:stylesheet version="1.0"
xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:template match="/">
  <html>
  <body>
    <h2>My CD Collection</h2>
    <table border="1">
      <tr bgcolor="#9acd32">
        <th>Title</th>
        <th>Artist</th>
        <th>Price</th>
      </tr>
      <xsl:for-each select="catalog/cd">
       <tr>
        <td><xsl:value-of select="title"/></td>
        <td><xsl:value-of select="artist"/></td>
        <xsl:choose>
          <xsl:when test="price=/catalog/cd/price[not(. &gt; ../../cd/price)][1]">
            <td bgcolor="#ff00ff">
            <xsl:value-of select="price"/></td>
          </xsl:when>
        <xsl:otherwise>
            <td><xsl:value-of select="price"/></td>
        </xsl:otherwise>
        </xsl:choose>
      </tr>

      </xsl:for-each>
    </table>
  </body>
  </html>
</xsl:template> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-10T03:07:00.070

> 我想要获得的是与此类似的东西，但没有按价格对列表中的元素进行排序。

**排序用于查找最小值这一事实并不意味着任何元素都会被重新排序。在 XSLT 1.0 中，找到最低使用`<xsl:sort>`量实际上是最快的方法——并且*不需要*任何扩展函数**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <xsl:variable name="vLowest">
     <xsl:for-each select="/*/*/price">
      <xsl:sort data-type="number"/>
      <xsl:if test="position()=1"><xsl:value-of select="."/></xsl:if>
     </xsl:for-each>
    </xsl:variable>

 <xsl:template match="/*">
          <html>
          <body>
            <h2>My CD Collection</h2>
            <table border="1">
              <tr bgcolor="#9acd32">
                <th>Title</th>
                <th>Artist</th>
                <th>Price</th>
              </tr>
              <xsl:apply-templates select="cd"/>
            </table>
          </body>
          </html>
 </xsl:template>

 <xsl:template match="cd">
        <tr>
          <td><xsl:value-of select="title"/></td>
          <td><xsl:value-of select="artist"/></td>
          <td>
            <xsl:if test="price=number($vLowest)">
              <xsl:attribute name="bgcolor">#ff00ff</xsl:attribute>
            </xsl:if>
            <xsl:value-of select="price"/>
          </td>
        </tr>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于提供的 XML 文档时：**

```
<catalog>
    <cd>
        <title>Empire Burlesque</title>
        <artist>Bob Dylan</artist>
        <country>USA</country>
        <company>Columbia</company>
        <price>10.90</price>
        <year>1985</year>
    </cd>
    <cd>
        <title>Black angel</title>
        <artist>Savage Rose</artist>
        <country>EU</country>
        <company>Mega</company>
        <price>11.90</price>
        <year>1995</year>
    </cd>
    <cd>
        <title>For the good times</title>
        <artist>Kenny Rogers</artist>
        <country>UK</country>
        <company>Mucik Master</company>
        <price>8.70</price>
        <year>1995</year>
    </cd>
</catalog> 
```

**产生了想要的正确结果：**

```
<html>
   <body>
      <h2>My CD Collection</h2>
      <table border="1">
         <tr bgcolor="#9acd32">
            <th>Title</th>
            <th>Artist</th>
            <th>Price</th>
         </tr>
         <tr>
            <td>Empire Burlesque</td>
            <td>Bob Dylan</td>
            <td>10.90</td>
         </tr>
         <tr>
            <td>Black angel</td>
            <td>Savage Rose</td>
            <td>11.90</td>
         </tr>
         <tr>
            <td>For the good times</td>
            <td>Kenny Rogers</td>
            <td bgcolor="#ff00ff">8.70</td>
         </tr>
      </table>
   </body>
</html> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T18:25:33.017

你似乎已经回答了你的问题，但我会在这里抛出一些其他的东西。

`<cd/>`（1）您可以通过在样式表或模板中添加一个变量来进行一次计算，从而避免在每次遍历元素时重新计算最低价格：

```
<xsl:variable name="least" select="math:min(/catalog/cd/price)"/> 
```

(2) "$least" 变量声明使用 EXSLT math:min 函数（命名空间是 xmlns:math="http://exslt.org/math"），您的 XSLT 1.0 处理器可能可以使用该函数。如果您有 2.0 处理器，则可以使用内置的“min()”。

如果不出意外，min() 函数对于下一个人来说更具可读性。

(3) 这纯粹是风格，但您可以使用 xsl:attribute 减少分支。

```
<td>
    <xsl:if test="price=$lowest">
        <xsl:attribute name="bgcolor">#ff00ff</xsl:attribute>
    </xsl:if>
    <xsl:value-of select="price"/>
</td> 
```

# excel - VBA Excel文件打开提示取消错误

> ID：15898853
> 
> 赞同：3
> 
> 时间：2013-04-09T09:55:40.220
> 
> 标签：excel, vba, error-handling, file-processing

所以我使用文件打开提示来收集文件名。然后我在后台实例中打开该文件，将信息解析为字典并关闭该文件。这工作正常。代码是：

```
Application.FileDialog(msoFileDialogOpen).Show
sFullName = Application.FileDialog(msoFileDialogOpen).SelectedItems(1) 
```

如果用户按下取消，这显然是一个可行的方案，我会收到以下错误：

```
Invalid procedure call or argument 
```

我试图将“收集”行更改为：

```
If Application.FileDialog(msoFileDialogOpen).SelectedItems(1) Then sFullName = Application.FileDialog(msoFileDialogOpen).SelectedItems(1) 
```

但是，这仍然会带来错误。即使禁用警报也会引发错误或“400”。任何有关如何制作此弹出窗口或处理它的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-09T10:17:07.203

您需要检查边界以确定是否选择了任何内容

```
with Application.FileDialog(msoFileDialogOpen)

    .Show

    if (.SelectedItems.Count = 0) Then
        '// dialog dismissed with no selection
    else
        sFullName = .SelectedItems(1)
    end if
end with 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T10:11:19.270

你可以使用`GetSaveAsFilename`即

```
Dim strFileName As String
strFileName = Application.GetSaveAsFilename
If strFileName = "False" Then MsgBox "User cancelled" 
```

# ssas - 订购维度层次结构 SSAS

> ID：15898859
> 
> 赞同：2
> 
> 时间：2013-04-09T09:56:02.607
> 
> 标签：ssas, hierarchy, dimension

我对 SSAS 很陌生，所以请耐心等待！

我已经在 Fact 表中创建了一个带有成员的雪花模式，并且我已经使用 DistanceID、Distance、DistanceRange 创建了一个与俱乐部表的距离（这在 SQL Server 中是非规范化的，距离范围在每个距离出现多次。例如距离 1 的范围为1 - 10 和距离 2 的范围也为 1 - 10

然后我创建了一个层次结构，距离范围在顶部，距离在其下方。就提供向下钻取功能而言，这可以正常工作，但距离范围的排序是错误的。它按距离范围作为字符串对它们进行排序，所以我得到 1-10，然后是 100-10，然后是 20-30。

如何告诉距离范围以按距离 ID 订购

不确定我是否做得对。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-09T12:34:44.767

在编辑维度时，单击属性距离范围，在属性中，应该有一个选项“OrderBy”和“OrderByAttribute”。尝试并使用那些获得您需要的结果。否则，您可能想尝试更改属性菜单中的“类型”，看看是否有效。

# php - css li 相互流动（附图片）

> ID：15898861
> 
> 赞同：0
> 
> 时间：2013-04-09T09:56:05.497
> 
> 标签：php, css, twitter-bootstrap

我正在处理我的笔记应用程序，但我遇到了布局问题。[链接到布局的屏幕截图。](http://i.stack.imgur.com/xqPHx.png)

根据数据库中的文本，每个框可能具有不同的高度。每个盒子都是一个 LI（bootstrap span3 大小）。

*   我需要盒子在没有空白的情况下很好地相互流动。

*   我已经看到一些网页在 PHP 中为每个框计算绝对定位，但我希望我只能使用 CSS 来实现。

到目前为止，结构如下：

```
<ol>
 <li class="memPersonUnit clearfix span3">
  <div class="memPersonUnitContainer clearfix">

            THE CONTENT

  </div>
 </li>
</ol> 
```

CSS样式：

*   ol有显示：块；
*   li 有显示：位置：相对；float:left（继承自 SPAN3 大小）；
*   div 有边框：1px 灰色实体；

我应该如何改变我的CSS来实现我的目标？

如果我需要使用 PHP 计算，我应该如何进行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:09:43.370

除非您创建内容块的各个列，否则您实际上无法仅在 css 中实现这一点，但如果您动态添加内容，那将不会真正起作用。

实现你想要的最常见的方法是使用一个名为 Masonry 的 jQuery 插件。

[http://masonry.desandro.com/](http://masonry.desandro.com/)

# php - Xpath PHP：如何不从 div 内的 span 获取 textContent？

> ID：15898862
> 
> 赞同：2
> 
> 时间：2013-04-09T09:56:07.607
> 
> 标签：php, html, xpath

我有以下html代码

```
 <div id="brandModel">
        Jeep Grand Cherokee,
        <span class="red">529.80&nbsp;EUR</span>
    </div> 
```

以下 PHP/Xpath 有效，但也返回 span 内的文本。

`$xPathcarName = $xpath->query( "//div[@id='brandModel']" ); echo $xPathcarName->item(0)->textContent\r\n";`

输出： `Jeep Grand Cherokee, 529.80┬áEUR`

我只想要 div 内的 textContent，而不是跨度内。这可能吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T09:57:42.127

完全有可能。

```
$xPathcarName = $xpath->query( "//div[@id='brandModel']" );
echo $xPathcarName->item(0)->firstChild->textContent . "\r\n"; 
```

请记住，在作为 XML/XHTML 加载的 DOMDocument 中，文本实际上是一个 DOMText 节点。您可以通过循环遍历您的 div 的子项来看到这一点。

# android - 如何从 Android 中的 EditText 获取字符串值？

> ID：15898866
> 
> 赞同：-1
> 
> 时间：2013-04-09T09:56:19.310
> 
> 标签：android

我正在使用一个对话框从 获取字符串值`edittext`，但它没有给出 的值`editext`。

我的代码：

```
 protected Dialog onCreateDialog(int id)
    {
        switch (id) 
        {
            case DIALOG_ALERT:
                // Create out AlterDialog

                android.app.AlertDialog.Builder builder = new AlertDialog.Builder(this);
                builder.setMessage("Search");
                builder.setCancelable(true);
                LayoutInflater inflater = this.getLayoutInflater();
                builder.setView(inflater.inflate(R.layout.search_dialog, null));
                Searchtxt = (EditText)findViewById(R.id.search_text);
                builder.setPositiveButton("Search", new OkOnClickListener());
                builder.setNegativeButton("Cancel", new CancelOnClickListener());
                AlertDialog dialog = builder.create();
                dialog.show();
        }
                return super.onCreateDialog(id);
    }
    private final class OkOnClickListener implements DialogInterface.OnClickListener
    {
        public void onClick(DialogInterface dialog, int which) 
        {   
            //Implement search method here
            SearchText = Searchtxt.getText().toString();
            System.out.println(SearchText);
        }
    }
    private final class CancelOnClickListener implements DialogInterface.OnClickListener 
    {
        public void onClick(DialogInterface dialog, int which) 
        {
            dialog.dismiss();
        }
    } 
```

但它在行中给出错误`SearchText = Searchtxt.getText().toString();`。

我需要`searchText`通过 Intent 进一步传递字符串。

记录猫错误：

```
04-09 15:18:55.634: E/AndroidRuntime(1847): FATAL EXCEPTION: main
04-09 15:18:55.634: E/AndroidRuntime(1847): java.lang.NullPointerException
04-09 15:18:55.634: E/AndroidRuntime(1847):     at com.web.dms.HomePage$OkOnClickListener.onClick(HomePage.java:155)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:166)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at android.os.Looper.loop(Looper.java:137)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at android.app.ActivityThread.main(ActivityThread.java:4340)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at java.lang.reflect.Method.invokeNative(Native Method)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at java.lang.reflect.Method.invoke(Method.java:511)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
04-09 15:18:55.634: E/AndroidRuntime(1847):     at dalvik.system.NativeStart.main(Native Method)
04-09 15:18:57.044: I/Process(1847): Sending signal. PID: 1847 SIG: 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:00:06.617

因为您从主布局而不是膨胀布局中查找视图（EditText）。

尝试：

```
 View searchView= inflater.inflate(R.layout.search_dialog, null);
 builder.setView(searchView);
 Searchtxt = (EditText) searchView.findViewById(R.id.search_text); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T09:59:32.523

在你的

```
private final class OkOnClickListener implements DialogInterface.OnClickListener 
```

尝试使用

```
private final class OkOnClickListener implements DialogInterface.OnClickListener
    {
        public void onClick(DialogInterface dialog, int which) 
        {   
            if(DialogInterface.BUTTON_POSITIVE == which) {
                SearchText = ((EditText)dialog.findViewById(R.id.search_text)).getText().toString();
                System.out.println(SearchText);
                //Do your searching work 
            }
        }
    } 
```

# c# - 在基类构造函数中构造对象？

> ID：15898868
> 
> 赞同：0
> 
> 时间：2013-04-09T09:56:28.267
> 
> 标签：c#, oop, constructor

我目前有以下代码模式，其中我在通用类 MyClass 的构造函数中初始化 MyThing 类型的特定对象。然而，在某些特定的派生类示例（例如 MySpecialClass）中，我想使用 MyThing 的派生版本，我称之为 MySpecialThing。

```
public class MyClass
{
    public MyClass()
    {
        this.MyThing = new MyThing();
    }

    public MyThing MyThing { get; set; }
}

public class MySpecialClass : MyClass
{
    public MySpecialClass()
    {
        this.MyThing = new MySpecialThing();
    }
} 
```

我的问题是这是否是不好的做法，因为实际上 MyThing 属性被初始化了两次，一次在基类中，一次在派生类中。显然，我可以将布尔值传递给基类构造函数或告诉它不要打扰初始化 MyThing 的东西，但这可能有点矫枉过正......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T09:59:27.713

这取决于创建 MyThing 的开销。

但是，有一个解决方案：

您可以添加一个接受 MyThing 类型参数的受保护基类构造函数，并在那里对其进行初始化。

```
public class MyClass
{
    private readonly MyThing myThing;

    public MyClass(): this(new MyThing())
    {
    }

    protected MyClass(MyThing thing)
    {
        Contract.Requires(thing != null);
        myThing = thing;
    }

    public MyThing MyThing { get { return myThing; } }
}

public class MySpecialClass : MyClass
{
    public MySpecialClass(): base(new MySpecialThing())
    {
    }
} 
```

我认为这是比向公共基类构造函数添加布尔值更好的方法。

即使构建 MyThing 的开销很小，我也认为这样做是值得的，因为它更清楚地表达了设计。

我还稍微更改了设计以创建`myThing`一个只读字段，以表达它应该只在构建时设置的意图。（如果不是这种情况，并且您希望稍后可以设置它，则必须恢复为公共属性设置器。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T10:01:17.637

您是否关心性能或可维护性？

`MyThing`性能问题只有在构造函数很昂贵，或者您必须在紧密循环中创建大量对象时才有意义。

我会更担心可维护性，因为您有多个初始化对象状态的地方。您可以将它从派生类传递给受保护的基类构造函数，并具有默认使用`MyThing`的默认构造函数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T09:58:41.413

使用受保护：

```
class BaseClass
{
    protected SomeType MyThing;
} 
```

# c# - 我想检查用户名是否已经存在于我的数据库表中？

> ID：15898882
> 
> 赞同：-3
> 
> 时间：2013-04-09T09:57:30.847
> 
> 标签：c#, asp.net, 3-tier

我有注册页面，我想检查用户名是否已经存在于数据库中或不在 3 层架构中。

**我的注册.cs：**

```
public static int checkusername(string user_txt)
 {
  int id2 = 0;
  string selectstr = "select * from xyz where UserName = '" + user_txt + " ' ";
  id2 = DataAccessLayer.ExecuteReader(selectstr);
  return id2;    
 } 
```

**以及textbox 的 onclick 事件**背后的代码：

```
protected void txt_username_TextChanged(object sender, EventArgs e)
 {
  if (!string.IsNullOrEmpty(txt_username.Text))
   {
    int id = xyz.checkusername(txt_username.Text.Trim());
    if (id > 0)
     {
      lblStatus.Text = "UserName Already Taken";
     }
    else
     {
      lblStatus.Text = "UserName Available";
     }
   } 

 } 
```

**数据访问层：**

```
public static int ExecuteReader(string Query)
 {
  SqlConnection con = new SqlConnection();
  con.ConnectionString = GetConnectionString();
  con.Open();
  int id = 0;            
  SqlCommand cmd = new SqlCommand();
  cmd.CommandText = Query;
  cmd.CommandType = System.Data.CommandType.Text;
  cmd.Connection = con;
  SqlDataReader reader = cmd.ExecuteReader();
  while (reader.Read())
   {
    id++;
   }
  cmd = null;
  reader.Close();
  con.Close();
  return id;
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:04:30.240

通常，如果“选择查询”没有找到带有参数 user_txt 的用户名，您的 id2 最终将得到值 -1。所以适当的代码是：

```
 if (id ==-1)
               {
                   lblStatus.Text = "UserName Available";
               }
           if (id>0)
               {

                   lblStatus.Text = "UserName Already Taken";
               } 
```

顺便说一句，您的代码非常不安全，并且您的数据库很容易使用[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)攻击我建议您了解这个问题并在查询中添加参数以防止它。C# 有它的方法来实现这一点。不要试图修复对数据库的访问，只需从头开始，牢记 SQL 注入。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T10:34:10.617

我已经编辑了你的一些代码尝试如下......它会帮助你......

**文本更改事件：**

```
 protected void txt_username_TextChanged(object sender, EventArgs e)
    {
        if (!string.IsNullOrEmpty(txt_username.Text))
        {
            if (xyz.checkusername(txt_username.Text.Trim()))
            {
                lblStatus.Text = "UserName Already Taken";
            }
            else
            {
                lblStatus.Text = "UserName Available";
            }
        }

    } 
```

**检查用户名：**

```
 public bool CheckUsername(string user_txt)
    {
        bool Result;
        Result = DataAccessLayer.ExecuteReader(user_txt);
        return Result;
    } 
```

**执行阅读器：**

```
 public bool ExecuteReader(string user_txt)
    {
        SqlConnection con = new SqlConnection();
        con.ConnectionString = GetConnectionString();
        con.Open();
        SqlCommand cmd = new SqlCommand("select * from xyz where UserName = @UserID", con);
        SqlParameter param = new SqlParameter();
        param.ParameterName = "@UserID";
        param.Value = user_txt;
        cmd.Parameters.Add(param);
        SqlDataReader reader = cmd.ExecuteReader();
        if (reader.HasRows)
            return true;
        else
            return false;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:04:06.367

正如其他人所提到的，这种方法存在潜在的严重安全问题。

但是，您的问题可能就在这里`user_txt + " ' "`。second 周围的空格`'`，特别是它之前的空格可能会导致用户名与预期不匹配。

# javascript - 用单一路径填充 2D 网格

> ID：15898884
> 
> 赞同：10
> 
> 时间：2013-04-09T09:57:37.797
> 
> 标签：javascript, algorithm

**如何用数字填充方形 2D 数组，以便从 1 到 以升序创建连续数字的（随机）路径`(edge length)`^(`2`)？**

我正在尝试用 JavaScript 编写一个[Hidato](http://en.wikipedia.org/wiki/Hidato)（又名 Hidoku）生成器。它不一定是最好的语言，但这就是我目前使用的语言。游戏板最初只是部分填充。显示的唯一保证数字是路径中的第一个和最后一个数字。游戏的理念是通过网格（垂直、水平或对角线）创建一条数字路径，从而形成一个连续的递增数字链。由于考虑了对角线，链可能会重叠。

我被困在电路板生成部分。`1`一个有效的网格必须具有从到的连续数字的（单个，非分支）路径`(grid size)`^(`2`)。我看了又看，但没有发现任何可能有帮助的东西。是否有一种路径跟踪算法可以用由连续数字组成的单个路径填充二维数组？

我最初的幼稚方法是用值填充二维数组并交换值，直到网格成为有效的 Hidato 谜题。这将花费很长时间来计算并且效率非常低，所以我放弃了这个想法。

我的下一个想法是使用回溯路径跟踪器用连续值填充网格，但是我不确定如何实现这样的跟踪器。生成路径很容易（选择一个随机的相邻单元格并移动到它直到 2D 数组已满），但我这里的问题是算法的“回溯性”，或者其他一些始终确保存在随机整个网格中连续数字的路径。我想到了一个迷宫追踪器，但这并不处理没有分叉或死胡同的单一路径。

我该如何从这里开始？我应该考虑路径跟踪器或其他类似算法之外的其他选项吗？

相关问题：

*   [通过矩形阵列路由“路径”](https://stackoverflow.com/questions/1330792/routing-paths-through-a-rectangular-array)
*   [在网格中找到随机哈密顿路径的算法？](https://stackoverflow.com/q/7371227/383609)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-09T14:12:22.160

事实证明，由于 Angluin 和 Valiant (1977) 的汉密尔顿路径的局部搜索算法在这方面非常出色，即使没有非随机图的证据。这是一个示例正方形

```
 99  98 101 103 105 106 129 132 133 140 135 136
  97 100 102 104 107 130 131 128 141 134 139 137
  95  96 109 108 112 122 127 126 125 142 143 138
  80  94 110 111 121 113 123 124  40  39  36 144
  79  81  93 120 116 115 114  48  41  38  37  35
  78  82  92  90 119 117  47  46  49  42  33  34
  77  83  84  91  89 118  45  58  43  50  32  31
  76   1  85  87  88  60  59  44  57  51  30  28
  75   2  86   4   6  63  61  54  52  56  29  27
  73  74   3   7   5  64  62  53  55  22  24  26
  72  69  67   8  65  11  12  14  15  23  21  25
  70  71  68  66   9  10  13  16  17  18  19  20 
```

以及实现它的（有些仓促编写的）Java 代码。

```
import java.util.*;

public class AV {
    public static void main(String[] args) {
        // construct an n-by-n grid
        int n = 12;
        Node[][] node = new Node[n][n];
        List<Node> nodes = new ArrayList<Node>();
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                nodes.add((node[i][j] = new Node()));
            }
        }
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                if (i >= 1) {
                    if (j >= 1) {
                        node[i - 1][j - 1].addEdge(node[i][j]);
                    }
                    node[i - 1][j].addEdge(node[i][j]);
                    if (j < n - 1) {
                        node[i - 1][j + 1].addEdge(node[i][j]);
                    }
                }
                if (j >= 1) {
                    node[i][j - 1].addEdge(node[i][j]);
                }
            }
        }
        findPath(nodes);
        labelPath(nodes);
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                System.out.printf("%4d", node[i][j].label);
            }
            System.out.println();
        }
    }

    private static void findPath(List<Node> nodes) {
        for (Node node : nodes) {
            node.isOnPath = false;
        }
        Random random = new Random();
        Node sink = nodes.get(random.nextInt(nodes.size()));
        sink.isOnPath = true;
        int isNotOnPathCount = nodes.size() - 1;
        while (isNotOnPathCount > 0) {
            sink.pathOut = sink.out.get(random.nextInt(sink.out.size()));
            sink = sink.pathOut.head;
            if (sink.isOnPath) {
                // rotate
                sink = sink.pathOut.head;
                Arc reverse = null;
                Node node = sink;
                do {
                    Arc temp = node.pathOut;
                    node.pathOut = reverse;
                    reverse = temp.reverse;
                    node = temp.head;
                } while (node != sink);
            } else {
                // extend
                sink.isOnPath = true;
                isNotOnPathCount--;
            }
        }
    }

    private static void labelPath(Collection<Node> nodes) {
        for (Node node : nodes) {
            node.isSource = true;
        }
        for (Node node : nodes) {
            if (node.pathOut != null) {
                node.pathOut.head.isSource = false;
            }
        }
        Node source = null;
        for (Node node : nodes) {
            if (node.isSource) {
                source = node;
                break;
            }
        }
        int count = 0;
        while (true) {
            source.label = ++count;
            if (source.pathOut == null) {
                break;
            }
            source = source.pathOut.head;
        }
    }
}

class Node {
    public final List<Arc> out = new ArrayList<Arc>();
    public boolean isOnPath;
    public Arc pathOut;
    public boolean isSource;
    public int label;

    public void addEdge(Node that) {
        Arc arc = new Arc(this, that);
        this.out.add(arc.reverse);
        that.out.add(arc);
    }
}

class Arc {
    public final Node head;
    public final Arc reverse;

    private Arc(Node head, Arc reverse) {
        this.head = head;
        this.reverse = reverse;
    }

    public Arc(Node head, Node tail) {
        this.head = head;
        this.reverse = new Arc(tail, this);
    }
} 
```

# jquery - 更改活动课程的背景颜色

> ID：15898887
> 
> 赞同：1
> 
> 时间：2013-04-09T09:57:54.733
> 
> 标签：jquery, html, css

我有 2 个可点击的类，它们打开两个不同的 div。

我试图让活动类保持悬停的背景，只要它打开。

尝试了一个跨度，但这并没有奏效。有小费吗 ？我为表演创建了一个小提琴[http://jsfiddle.net/Qskxa/12/](http://jsfiddle.net/Qskxa/12/)

jQuery代码

```
jQuery(document).ready(function() {
    jQuery('.toggle_hide').hide();

    jQuery("#artistsbox li span").css('cursor', 'pointer').click(function() {
        var $this = $(this);
        $this.next("div").fadeToggle(200);
        $('.toggle_hide').not($this.next("div")).fadeOut(800);
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T10:03:14.550

试试这个（[http://jsfiddle.net/Qskxa/14/](http://jsfiddle.net/Qskxa/14/)）：

```
jQuery(document).ready(function() {
    jQuery('.toggle_hide').hide();

    jQuery("#artistsbox li span").css('cursor', 'pointer').click(function() {
        $('#artistsbox li span.active').removeClass('active');
        var $this = $(this);
        if($this.next("div").is(":hidden()")) $this.addClass('active');
        $this.next("div").fadeToggle(200);
        $('.toggle_hide').not($this.next("div")).fadeOut(800);
    });
}); 
```

请注意，我更改了 CSS 并添加了活动类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T10:03:28.940

只需创建新的 css 类活动：

```
#artistsbox li span.active,
#artistsbox li span:hover{
background-color:#250109;
   -webkit-transition: background 0.1s linear;
        -moz-transition: background 0.1s linear;
        -ms-transition: background 0.1s linear;
        -o-transition: background 0.1s linear;
        transition: background 0.1s linear;

} 
```

并更新您的单击功能，以便将该类放置在单击的元素上：

```
jQuery(document).ready(function() {
    jQuery('.toggle_hide').hide();

    jQuery("#artistsbox li span").css('cursor', 'pointer').click(function() {
        var $this = $(this);        
        $("#artistsbox li span").removeClass("active");//remove active class from any other element that could be clicked previously
        $this.addClass("active");
        $this.next("div").fadeToggle(200);
        $('.toggle_hide').not($this.next("div")).fadeOut(800);
    });
}); 
```

[演示](http://jsfiddle.net/Qskxa/13/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T10:07:26.437

```
 http://jsfiddle.net/Praveen16oct90/Qskxa/15/ 
```

请注意，我已经为每个跨度提供了 id，以便您理解。

```
 jQuery(document).ready(function() {
jQuery('.toggle_hide').hide();

jQuery("#d1").css('cursor', 'pointer').click(function() {
    var $this = $(this);
    $this.css("background-color","#250109");
     $("#d2").css("background-color"," #ffffec");
    $this.next("div").fadeToggle(200);
    $('.toggle_hide').not($this.next("div")).fadeOut(800);
});

jQuery("#d2").css('cursor', 'pointer').click(function() {
    var $this = $(this);
    $this.css("background-color","#250109");
    $("#d1").css("background-color"," #ffffec");
    $this.next("div").fadeToggle(200);
    $('.toggle_hide').not($this.next("div")).fadeOut(800);
}); 
```

});

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T10:07:35.923

试试这个 - [http://jsfiddle.net/Qskxa/16/](http://jsfiddle.net/Qskxa/16/)

```
jQuery(document).ready(function() {
  jQuery('.toggle_hide').hide();

  jQuery("#artistsbox li span").css('cursor', 'pointer').click(function() {
    var $this = $(this);
    var hasClass = $this.hasClass('active');
    $("#artistsbox li span").removeClass('active');
    if(!hasClass) $this.addClass('active');
    $this.next("div").fadeToggle(200);
    $('.toggle_hide').not($this.next("div")).fadeOut(800);
  });
}); 
```

*注意 - 更改 css 部分如下

```
#artistsbox li span:hover, #artistsbox li span.active{
   background-color:#250109;
   -webkit-transition: background 0.1s linear;
   -moz-transition: background 0.1s linear;
   -ms-transition: background 0.1s linear;
   -o-transition: background 0.1s linear;
   transition: background 0.1s linear;
} 
```

# angularjs - Angular JS：我可以在同一页面上定义两个 ng-apps 并且它们可以相互通信吗？

> ID：15898889
> 
> 赞同：0
> 
> 时间：2013-04-09T09:57:57.037
> 
> 标签：angularjs

我正在探索这个的原因是因为我认为这会让我有两个可以独立更新的 ng-views……这有意义吗？我想错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:15:23.943

您可以在同一页面上定义两个应用程序，但需要手动引导。

# php - PHP上传文件 - 正确的代码但找不到文件/路径

> ID：15898892
> 
> 赞同：0
> 
> 时间：2013-04-09T09:58:02.657
> 
> 标签：php, file, upload

第一个问题很久了。本质上，我有一些代码（1）在实时环境中完美运行，（2）曾经在我的家庭 OSX 环境中工作，但（3）现在不起作用。

的HTML：

```
<form id="upload_form" action="php/upload_class_list.php" method="post" accept-charset="UTF-8" enctype="multipart/form-data" target="upload_target" >
    <label>File:</label>
    <input name="myfile" type="file" size="35" />
    <input id="upload_submit" type="submit" value="Upload" />
    <iframe id="upload_target" name="upload_target" style="width:0;height:0;border:0px solid #fff;"></iframe>
</form> 
```

PHP 文件：

```
$destination_path = getcwd().DIRECTORY_SEPARATOR;

$result = 0;

$target_path = $destination_path . basename( $_FILES['myfile']['name']);

if(@move_uploaded_file($_FILES['myfile']['tmp_name'], $target_path)) {   
   ...
}

sleep(1);
?>

<script language="javascript" type="text/javascript">top.upload_class_list(<?php echo $result; ?>);</script> 
```

脚本最后触发，但 PHP 代码没有进入`if`（在本地开发环境中），因此`$result`保持为 0。

似乎它没有选择`path`要上传的文件；`$destination_path`指向 PHP 文件所在的文件夹，而不是文件所在的文件夹。

我认为当我更改为 Mountain Lion 并重建 PHP 设置时，我的本地环境可能已经停止工作。

缺少什么来阻止文件被找到？

让我强调一下：完全相同的代码在我的实时 Hostmonster 设置中运行良好，所以我猜这是一个环境问题 :)

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T10:27:34.227

> if(@move_uploaded_file($_FILES['myfile']['tmp_name'], $target_path)) {
> ... }
> 
> 缺少什么来阻止文件被找到？

是什么让您认为问题在于*找到*的文件？也许找到了文件，但失败的是*...*`move`例如因为 Web 服务器没有权限写入`target_path`.

您可以检查：

```
$src = $_FILES['myfile']['tmp_name'];
$dst = $target_path;

if (!file_exists($src))
   die("Okay, the file is actually not found");

if (!is_readable($src))
   die("Very bad hosting juju. The file was uploaded but I can't read it?!?");

if (!is_writeable($destination_path))
   die("As expected, you can't upload a file here. This is a good thing.");

@touch($dst);
if (!file_exists($dst))
   die("So call me a Marine, the file SHOULD be writeable (which is not so good), and yet I could not write it! Perhaps disk full? User overquota? Some weird security setup?"); 
```

这是一件好事，因为该目录包含*可执行*的 PHP 文件，如果有人可以在其中上传 PHP 文件，那将是一个主要的安全漏洞。

您可以留出另一个目录并使其可写（**记得在其中放置一个 .htaccess 或其他系统以禁止从外部读取/执行访问**）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-09T10:15:11.137

可能是这个

```
<?php 
 $target = "upload/"; 
 $target = $target . basename( $_FILES['uploaded']['name']) ; 
 $ok=1; 
 if(move_uploaded_file($_FILES['uploaded']['tmp_name'], $target)) 
 {
    echo "The file ". basename( $_FILES['uploaded']['name']). " has been uploaded";
 } 
 else {
    echo "Sorry, there was a problem uploading your file.";
}
?> 
```

# java - FindBugs 扫描外部 jar

> ID：15898893
> 
> 赞同：1
> 
> 时间：2013-04-09T09:58:07.097
> 
> 标签：java, ant, findbugs, build.xml

我正在使用以下链接创建一个 ant 脚本以在 Web 应用程序上运行 findbugs： [第 6 章。使用 FindBugs™ Ant 任务](http://findbugs.sourceforge.net/manual/anttask.html)

我将**auxClasspath**参数设置为我的 jars 文件夹。

但是当我在命令提示符下使用**ant findbugs**运行任务时，需要很长时间（约 45 分钟），并且输出 xml 包含对**auxClasspath**中的 jar以及我的源代码的分析。

我只想分析我的源代码。

这是我的 build.xml 中的代码：

```
<taskdef name="findbugs" classname="edu.umd.cs.findbugs.anttask.FindBugsTask"/>
<property name="findbugs.home" value="C:/Software/FindBugs" />
<target name="findbugs" >
    <echo message="Finding Bugs From ${basedir}/src/java"/>
    <findbugs home="${findbugs.home}"
              output="xml:withMessages"
              outputFile="${basedir}\findbugs.xml"
              stylesheet="fancy-hist.xsl"
              timeout="6000000"
              jvmargs="-Xmx1200m">
        <auxClasspath path="${basedir}/Jars/*.jar" />
        <sourcePath path="${basedir}/src/java"/>
        <class location="${basedir}/build/myApp-1.0.jar" />
    </findbugs>
</target> 
```

我已将 findbugs-ant.jar 添加到我的 ant 安装库中。findbugs 目录存在。

其他信息：
IDE：Netbeans 7.3
操作系统：Microsoft Windows XP
Ant 版本：1.8.4
查找错误版本：2.0.2

**更新**

如果我省略这一行：

```
<auxClasspath path="${basedir}/Jars/*.jar" /> 
```

我得到了我想要的输出（即只分析我的源代码）。但它提出了一个警告：

```
[findbugs] The following classes needed for analysis were missing:
[findbugs]   javax.servlet.http.HttpServlet
[findbugs]   javax.servlet.http.HttpServletRequestWrapper
[list continues].... 
```

任何想法，为什么查找错误正在分析它不应该分析的 jars（根据文档）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-21T05:47:00.393

我试图跟踪源代码中使用了哪些罐子。

在 findbugs xml 输出中，我找到了一行：${basedir}\Jars\antlr-2.7.2.jar

findbugs 分析报告显示所有其他 jars（antlr-2.7.2.jar 除外）都丢失了。

没有更多的 auxClassPath 条目。通过在不同的行中指定每个类路径条目来解决此问题。

如果有人有更好的想法，请贡献。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-26T20:46:43.650

我使用以下 auxClasspath 设置来拉入我的 lib 文件夹中的所有 jar 以及我的 lib 文件夹下的目录中的所有 jar。

```
<auxClasspath>
    <fileset dir="${lib.dir}">
        <include name="*/**"/>
        <include name="*.jar"/>
    </fileset>
</auxClasspath> 
```

将它放在 findbugs 标签内。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:13:15.830

尝试删除此行

```
<class location="${basedir}/build/myApp-1.0.jar" /> 
```

现在尝试分析jar和源文件，这需要很长时间。

如果在分析源代码期间遇到类，则需要此行并用于查找该类。

```
<auxClasspath path="${basedir}/Jars/*.jar" /> 
```

也许可以将其限制为仅真正需要的罐子，而不是文件夹中的所有罐子。

# php - 意外的“连接已重置”，页面重新加载

> ID：15898896
> 
> 赞同：2
> 
> 时间：2013-04-09T09:58:11.560
> 
> 标签：php, apache, zend-framework2

当我访问 zf2 应用程序时，它在浏览器上显示“连接已重置”！. 有时它会在凉亭中显示此消息，有时则不会！

![连接重置](https://i.stack.imgur.com/6EJAy.png)

以下是我的技术，我用来构建应用程序。

*   Apache/2.4.2 (Win32) OpenSSL/1.0.1c PHP/5.4.4
*   PHP 版本 5.4.4
*   Xampp
*   Zend 框架 2

清除后error.log内容，重启apache

```
[Tue Apr 09 15:33:25.956011 2013] [core:warn] [pid 9664:tid 252] AH00098: pid file D:/xampp/apache/logs/httpd.pid overwritten -- Unclean shutdown of previous Apache run?
[Tue Apr 09 15:33:26.343034 2013] [ssl:warn] [pid 9664:tid 252] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:33:26.388036 2013] [mpm_winnt:notice] [pid 9664:tid 252] AH00455: Apache/2.4.2 (Win32) OpenSSL/1.0.1c PHP/5.4.4 configured -- resuming normal operations
[Tue Apr 09 15:33:26.388036 2013] [mpm_winnt:notice] [pid 9664:tid 252] AH00456: Server built: May 13 2012 14:10:15
[Tue Apr 09 15:33:26.388036 2013] [core:notice] [pid 9664:tid 252] AH00094: Command line: 'd:\\xampp\\apache\\bin\\httpd.exe -d D:/xampp/apache'
[Tue Apr 09 15:33:26.390036 2013] [mpm_winnt:notice] [pid 9664:tid 252] AH00418: Parent: Created child process 6904
AH00548: NameVirtualHost has no effect and will be removed in the next release D:/xampp/apache/conf/extra/httpd-vhosts.conf:19
[Tue Apr 09 15:33:27.640108 2013] [ssl:warn] [pid 6904:tid 264] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:33:27.687110 2013] [mpm_winnt:notice] [pid 6904:tid 264] AH00354: Child: Starting 150 worker threads.
[Tue Apr 09 15:34:36.488046 2013] [core:warn] [pid 7260:tid 252] AH00098: pid file D:/xampp/apache/logs/httpd.pid overwritten -- Unclean shutdown of previous Apache run?
[Tue Apr 09 15:34:42.367382 2013] [core:warn] [pid 4036:tid 252] AH00098: pid file D:/xampp/apache/logs/httpd.pid overwritten -- Unclean shutdown of previous Apache run?
[Tue Apr 09 15:34:42.821408 2013] [ssl:warn] [pid 4036:tid 252] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:34:42.866410 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00455: Apache/2.4.2 (Win32) OpenSSL/1.0.1c PHP/5.4.4 configured -- resuming normal operations
[Tue Apr 09 15:34:42.866410 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00456: Server built: May 13 2012 14:10:15
[Tue Apr 09 15:34:42.866410 2013] [core:notice] [pid 4036:tid 252] AH00094: Command line: 'd:\\xampp\\apache\\bin\\httpd.exe -d D:/xampp/apache'
[Tue Apr 09 15:34:42.867410 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00418: Parent: Created child process 6012
AH00548: NameVirtualHost has no effect and will be removed in the next release D:/xampp/apache/conf/extra/httpd-vhosts.conf:19
[Tue Apr 09 15:34:44.070479 2013] [ssl:warn] [pid 6012:tid 264] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:34:44.117482 2013] [mpm_winnt:notice] [pid 6012:tid 264] AH00354: Child: Starting 150 worker threads.
[Tue Apr 09 15:34:52.011933 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00428: Parent: child process exited with status 3221225477 -- Restarting.
[Tue Apr 09 15:34:52.481960 2013] [ssl:warn] [pid 4036:tid 252] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:34:52.527963 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00455: Apache/2.4.2 (Win32) OpenSSL/1.0.1c PHP/5.4.4 configured -- resuming normal operations
[Tue Apr 09 15:34:52.527963 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00456: Server built: May 13 2012 14:10:15
[Tue Apr 09 15:34:52.527963 2013] [core:notice] [pid 4036:tid 252] AH00094: Command line: 'd:\\xampp\\apache\\bin\\httpd.exe -d D:/xampp/apache'
[Tue Apr 09 15:34:52.528963 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00418: Parent: Created child process 9964
AH00548: NameVirtualHost has no effect and will be removed in the next release D:/xampp/apache/conf/extra/httpd-vhosts.conf:19
[Tue Apr 09 15:34:53.731032 2013] [ssl:warn] [pid 9964:tid 264] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:34:53.783035 2013] [mpm_winnt:notice] [pid 9964:tid 264] AH00354: Child: Starting 150 worker threads.
[Tue Apr 09 15:34:59.654371 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00428: Parent: child process exited with status 3221225477 -- Restarting.
[Tue Apr 09 15:35:00.219403 2013] [ssl:warn] [pid 4036:tid 252] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:35:00.267406 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00455: Apache/2.4.2 (Win32) OpenSSL/1.0.1c PHP/5.4.4 configured -- resuming normal operations
[Tue Apr 09 15:35:00.267406 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00456: Server built: May 13 2012 14:10:15
[Tue Apr 09 15:35:00.267406 2013] [core:notice] [pid 4036:tid 252] AH00094: Command line: 'd:\\xampp\\apache\\bin\\httpd.exe -d D:/xampp/apache'
[Tue Apr 09 15:35:00.268406 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00418: Parent: Created child process 9552
AH00548: NameVirtualHost has no effect and will be removed in the next release D:/xampp/apache/conf/extra/httpd-vhosts.conf:19
[Tue Apr 09 15:35:01.506477 2013] [ssl:warn] [pid 9552:tid 264] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:35:01.553479 2013] [mpm_winnt:notice] [pid 9552:tid 264] AH00354: Child: Starting 150 worker threads.
[Tue Apr 09 15:35:03.754605 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00428: Parent: child process exited with status 3221225477 -- Restarting.
[Tue Apr 09 15:35:04.245633 2013] [ssl:warn] [pid 4036:tid 252] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]
[Tue Apr 09 15:35:04.290636 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00455: Apache/2.4.2 (Win32) OpenSSL/1.0.1c PHP/5.4.4 configured -- resuming normal operations
[Tue Apr 09 15:35:04.290636 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00456: Server built: May 13 2012 14:10:15
[Tue Apr 09 15:35:04.290636 2013] [core:notice] [pid 4036:tid 252] AH00094: Command line: 'd:\\xampp\\apache\\bin\\httpd.exe -d D:/xampp/apache'
[Tue Apr 09 15:35:04.291636 2013] [mpm_winnt:notice] [pid 4036:tid 252] AH00418: Parent: Created child process 9232 
```

请帮忙 ！

# version-control - Lightswitch内部数据的修订控制

> ID：15898901
> 
> 赞同：1
> 
> 时间：2013-04-09T09:58:20.360
> 
> 标签：version-control, visual-studio-lightswitch, revision-history

我正在开发一个可供不同用户访问的 Lightswitch 应用程序。一些背景信息.. 当用户对一行或多行进行一些更改时，他/她应该能够将这些更改保存到“临时文件”，而不会影响主要数据。就像您正在使用 Excel 文档并选择“另存为”一样，原始文件仍然存在。该应用程序应该能够处理这些“节省”中的多个。然后用户可以打开这些“储蓄”并将它们应用到主数据库。

我的计划是为相同的数据设置多行，并在列中包含用户数据、修订等。我主要关心的是如何让用户在进入应用程序时选择要打开的“保存”，然后过滤掉正确的数据。我需要做一个自定义控件来完成这个，任何人都可以给我一些意见吗？在Lightswitch领域有点新。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T13:18:12.597

我正在使用 Lightswitch 开发一个实现版本控制的引用接口。我这样做的方法是拥有一个包含所有引号列表的父表（这类似于一个充满 Excel 电子表格的资源管理器窗口，即 data.xls、data(1).xls、data(2).xls ， ETC。）。每个都有一个唯一的 ID 和一个修订号。每个报价的每个修订的详细信息都保存在一个子表中，该子表具有将其链接到特定报价的特定修订的唯一 ID 的外键关系。

当用户登录时，他们会看到其报价的所有修订版的网格视图。当他们选择特定的报价修订时，该条目的唯一 ID 将用作我对该报价详细信息的所有过滤查询的参数，这些查询显示在不同的屏幕上。

我的表是这样创建的：

```
create table Quotes (
    "QuoteID" uniqueidentifier
        not null primary key,
    "QuoteNumber" nvarchar(8)
        not null,
    "QuoteRevStart" date
        not null,
    "QuoteRevEnd" date,
    "QuoteRevNumber" tinyint
        not null,
    "QuoteRevCurrent" bit
        not null
)

create table QuoteDetails (
    "QuoteDetailsID" uniqueidentifier default newid()
        not null primary key,
    "QuoteNo" uniqueidentifier
        not null foreign key references Quotes(QuoteID),
    "ItemNo" smallint
        not null,
    "ProductQty" smallint
        not null,
) 
```

这是基于[类型 6 渐变维度](https://en.wikipedia.org/wiki/Slowly_changing_dimension#Type_6_.2F_hybrid)数据库设计的。所有这些都是通过标准的 Lightswitch 控件完成的。

# android - 服务器上的“真实性检查失败”错误

> ID：15898906
> 
> 赞同：0
> 
> 时间：2013-04-09T09:58:49.440
> 
> 标签：android, authentication, ibm-mobilefirst

我将部署在 5.0.0.3 worklight 服务器上的 5.0.0.3 worklight 应用程序迁移到 Worklight studio 5.0.6，并在 IPAS 上完成部署。

在 IPAS 上部署成功，我现在尝试从平板电脑执行我的 android 应用程序。

我对身份验证有一些问题：

在 Application Descriptor 中，我使用 securityTest 保护了 application-descriptor.xml 中的 android 应用程序。

我在 authenticationConfig.xml 中定义了领域、securityTest 和 loginModules。我使用 FormBasedAuthenticator 和 NonValidatingLoginModule。

除了我执行challengeHandler.submitSuccess() 之外，所有这些都适用于我的challengeHandler。在这里，在服务器控制台上出现以下错误：

> com.worklight.core.auth.ext.AuthenticityLoginModule login FWLSE0127E: 真实性检查失败。

* * *

我使用的 SecurityTest 是：CustomerCentricClientApp-strong-mobile-securityTest。这是我的 AuthenticationConfig.xml 文件：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?> 
```

```
<securityTests>
    <webSecurityTest name="CustomerCentricClientApp-web-securityTest">
        <testUser realm="PushClientAppRealm"/>
    </webSecurityTest>

    <mobileSecurityTest name="CustomerCentricClientApp-strong-mobile-securityTest">
        <testAppAuthenticity/> 
        <testUser realm="PushClientAppRealm"/>
        <testDeviceId provisioningType="none"/>
    </mobileSecurityTest>
</securityTests>

<realms>        
    <realm loginModule="PushAppClientLoginModule" name="PushClientAppRealm">
        <className>com.worklight.core.auth.ext.FormBasedAuthenticator</className>
    </realm>

    <realm loginModule="requireLogin" name="WorklightConsole">
        <className>com.worklight.core.auth.ext.FormBasedAuthenticator</className>
        <onLoginUrl>/console</onLoginUrl>
    </realm>
</realms>

<loginModules>
    <loginModule name="PushAppClientLoginModule">
        <className>com.worklight.core.auth.ext.NonValidatingLoginModule</className>
    </loginModule>

    <loginModule name="requireLogin">
        <className>com.worklight.core.auth.ext.SingleIdentityLoginModule</className>
    </loginModule>
</loginModules> 
```

* * *

这是我的应用程序描述符的摘录：

```
<android securityTest="CustomerCentricClientApp-strong-mobile-securityTest" version="1.0">
    <worklightSettings include="true"/>
    <pushSender key="xxx" senderId="xx"/>
    <security>
        <encryptWebResources enabled="false"/>
        <testWebResourcesChecksum enabled="false" ignoreFileExtensions="png, jpg, jpeg, gif, mp4, mp3"/>
        <publicSigningKey>MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCsW8rocRoAK0PElY5DpyN0wkg2CAVA7Ub8KSFDjBwofoWiA7AAD1hlcJJPCRznfFQ8nQEQ7jJAhpuOvmKxvVcRfj7shJ3JZP0yAvh0Lte8DSQ0MASXwfyehmJe9l/KiY5KWM6sDk+4oxcDJ2j2U+mBivR9+msdTaqIOFPP+PBteQIDAQAB</publicSigningKey>
    </security>
</android> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:07:07.460

确保`<testAppAuthenticity/>`是您的自定义 securityTest 的一部分。

除了添加上面的真实性测试之外，您还需要：

1.  在 application-descriptor.xml 中指定一个公共签名密钥（使用 Android 环境上下文菜单中的“提取公共签名密钥”添加它）
2.  使用用于生成上述公共签名密钥的相同密钥库签名并导出您的 .apk（我假设我们在这里讨论的是 Android）

请注意，这仅与存在真实性功能的 Worklight 的消费者版或企业版相关。如果这不是你的情况，我建议删除这个 securityTest。

# scala - 懒惰的val上的scala编译器错误

> ID：15898910
> 
> 赞同：2
> 
> 时间：2013-04-09T09:59:04.493
> 
> 标签：scala

我在 scala 编译器中遇到了以下错误。我在jira中找不到问题。因此，我决定先询问这是否是一个已知问题：

我从以下两种方法开始：

```
 def getName: String = getString match {
    case None => return ""
    case Some(str) => return str
  }

  def getString: Option[String] = Some("abc") 
```

然后我将第一种方法更改为

```
 lazy val getName: String = getString match {
    case None => return ""
    case Some(str) => return str
  } 
```

不幸的是，我忘记删除 return 语句。在这种情况下，scala 编译器应该以“返回方法定义之外”的消息停止，但它真正做的是：

```
[ant:scalac] error: uncaught exception during compilation: java.lang.NullPointerException

[ant:scalac] java.lang.NullPointerException
[ant:scalac]    at scala.reflect.internal.Trees$class.Select(Trees.scala:1066)
[ant:scalac]    at scala.reflect.internal.SymbolTable.Select(SymbolTable.scala:13) 
```

它看起来像一个错误。不是吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:18:59.730

这绝对是一个错误，因为编译器不应该只是崩溃，而是发出编译错误。现在，您的代码也不正确。您`return`在用于初始化 val 的表达式的上下文中有一条语句。在这种情况下，没有什么可以返回（`return`意味着从封闭方法返回，但这里没有封闭方法）。你想要的是这样的：

```
lazy val getName: String = getString match {
  case None => ""
  case Some(str) => str
} 
```

# python - 使用 Python 从第二个文件的列表中搜索一个文件

> ID：15898911
> 
> 赞同：1
> 
> 时间：2013-04-09T09:59:14.883
> 
> 标签：python, search, text

这是我第一次在这里发帖，我只是在学习 python，所以请多多包涵。我在网上和其他地方都很好看，试图找到这个问题的答案，但是，唉，网络似乎失去了！

我有一个每天生成的日志文件，其中可能包含许多不同语法的错误。其中一些很重要，而另一些则可以忽略不计，但由于它们都包含文本“错误”，我不能只搜索一个词。

我有一个错误文本列表，从以前在一个文件中看到它们时开始，我想将日志文件与它进行比较以查找匹配项，以便在看到任何错误时发出警告。

我已经设法让它为一个错误工作，但我不能让它为列表工作。

工作的代码如下：

```
 log_file = open ('a file location' , 'r')
    read_file = file.read ()
    search = read_file.find ('Error type 1 happened at x')
    if search != -1:
        print 'Error found in  log at point ' + str((search)) + '!!!'
    else :
        print "All is good!!!  :-D " 
```

对于列表，我尝试了以下方法：

```
 load_log_file = open ('a file location' , 'r')
    read_log_file = load_log_file.read ()

    def txt_search (read_log_file):
        errors = open ('another file location' , 'r')
    for error in errors.readlines() :
            if error.strip ('\r\n') in read_log_file:
                return 'Error found in log !!!'
            else :
                return "All is good!!!  :-D "

    print txt_search (read_log_file) 
```

运行时我得到了结果，但它总是以“一切都很好”返回。我可能遗漏了一些非常明显的东西，但任何帮助都会得到很大的帮助。

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T10:04:13.163

你过早地回来了。

```
load_log_file = open ('a file location' , 'r')
read_log_file = load_log_file.read ()

def txt_search (read_log_file):
    errors = open ('another file location' , 'r')
    for error in errors.readlines() :
        if error.strip ('\r\n') in read_log_file:
            return 'Error found in log !!!'

    return "All is good!!!  :-D "

print txt_search (read_log_file) 
```

在您的原始代码中发生的是它查找第一个错误，没有找到它，然后返回“一切都很好”。永远记住`return`语句结束函数。

# winforms - EF：代码优先约束

> ID：15898912
> 
> 赞同：1
> 
> 时间：2013-04-09T09:59:16.027
> 
> 标签：winforms, entity-framework, ef-code-first, ef-database-first

我正在使用 EF 5 开发 Windows 窗体应用程序并开始使用 Code First 方法构建数据库。我的问题是：“与数据库优先或模型优先相比，代码优先方法是否有一些限制？” 有什么建议么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T14:08:58.083

只是特别（我将跳过一般的概述），

> 最困扰我的是缺乏对各种 Db 对象、视图、UDF、sp-s 的**原生**支持。
> 含义-**当然，您可以使用它们-但您必须“注入”** SQL并与“C# POCO”同步

您现在可以解决大部分问题 - 例如，您可以通过 SQL 查询调用的 UDF、SP-s - 并映射回来。

话虽如此 - 没有真正的支持，如果您习惯于在 Db 方面工作 - 这可能会有点痛苦。即，当您决定数据库的每个方面时，您必须放弃一些“完全控制”，并且可以进行调整和调整。您可以完成大部分工作，但要保持同步并不容易。

其他“第一”选项 - 在这个意义上更先进。

在性能方面 - 代码优先是`the most involved`- 即它没有预先生成（开箱即用）并且增加了加载时间。但是，与其他 EF 选项相比，这越来越不是一个问题 - EF Power Tools 可以通过使用`sort of views`（与 Db 视图无关）代码生成其中的一些来提高性能。

总的来说，我也经常使用它——因为它是最“灵活”的，而且 IMO 值得付出额外的努力。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:40:02.333

快速搜索揭示了以下答案（来自关于 EF 的专家）：

[代码优先与模型/数据库优先](https://stackoverflow.com/questions/5446316/ef-4-1-code-first-vs-model-database-first)

虽然问题涉及 EF 4.1，但答案应该提供足够的信息，以便您做出自己的决定。

# mysql - MySQL查询返回未在另一个表中列出的行

> ID：15898913
> 
> 赞同：0
> 
> 时间：2013-04-09T09:59:18.183
> 
> 标签：mysql, sql, phpmyadmin

我在 MySQL DB PHPMyAdmin 中有两个表：

`Table-1: T1`

![在此处输入图像描述](https://i.stack.imgur.com/Jjx4d.png)

`Table-2: T2`

![在此处输入图像描述](https://i.stack.imgur.com/lkFYX.png)

我需要编写一个 mysql 查询，它将返回所有 IMEI`T1`中未列出的`T2`.

例如，在这种情况下查询应该返回`123456781235176`。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:03:04.317

试试这个 `select IMEI from T1 where IMEI not in (select IMEI from T2);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:02:39.853

```
SELECT t1.* FRO table1 AS t1
LEFT JOIN table2 AS t2 ON t1.IMEI = t2.IMEI
WHERE t2.IMEI IS NULL 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:02:49.480

试试这个查询

```
Select EMEI from t1 where EMEI not in (select EMEI from t2) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T10:03:18.077

```
select IMEI from T1 where IMEI not in 
(
    select a.IMEI from T1 as a inner join T2 as b on a.IMEI = b.IMEI
) as exp 
```

希望对你有帮助

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T10:03:24.920

```
SELECT IMEI FROM T1 WHERE IMEI NOT IN(SELECT IMEI FROM T2); 
```

# php - 多表 SQL 搜索查询

> ID：15898914
> 
> 赞同：0
> 
> 时间：2013-04-09T09:59:19.583
> 
> 标签：php, mysql, sql

我正在编写一个与 MySQL 数据库交互的应用程序。

我有 3 张桌子，“类别”、“书籍”和“书籍类别”。

```
/* stores properties for categories */
`categories` (
  `id` int(11) NOT NULL auto_increment,
  `name` varchar(140) NOT NULL UNIQUE,
  PRIMARY KEY  (`id`)
);

/* stores properties for books */
`books` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` int(11) NOT NULL,
  `read` tinyint(1) NOT NULL default 0, 
  `creation_date` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`)
);

/* matches books against categories */
`book_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `category_id` int(11) NOT NULL,
  `item_id` int(11) NOT NULL,
  PRIMARY KEY  (`id`)
); 
```

我有 2 个变量来执行搜索。

```
<?php
    $categoryString = 'python';  // books saved under python
    $readBool = 1;  // all books that have been read
?> 
```

我想编写以下 SQL 查询：

**选择所有已阅读的python书籍（即book.read = 1）。**

我的SQL知识很有限，请大家帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:06:06.020

这应该可以解决问题：

```
SELECT books.id, books.title, books.`read`, categories.name
FROM books
INNER JOIN book_category ON books.id = book_category.item_id
INNER JOIN categories ON book_category.category_id = categories.id
WHERE books.read = 1
AND categories.name = 'python' 
```

这是一个要演示的[SQL 小提琴。](http://sqlfiddle.com/#!2/05434/7)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:06:24.037

试试这个-

```
select * from book_category
   LEFT JOIN books ON book_category.item_id = books.id
   LEFT JOIN category ON category.id = book_category.category_id
  WHERE category.name = 'python' AND
        book.read = 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:07:40.740

```
select b.title 
from books b
left join book_category bc on (b.id=bc.item_d) 
left join categories c on (c.id=bc.category_id) 
where b.read=1 and c.name='python' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T10:07:55.743

```
SELECT * FROM books WHERE id IN (
    SELECT item_id FROM book_category WHERE category_id IN (
        SELECT id FROM category WHERE name = 'Python'
    )
) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T10:08:07.567

```
SELECT *
FROM books AS b
  INNER JOIN book_category AS bc
    ON bc.item_id = b.id
  INNER JOIN categories AS c
    ON c.id = bc.category_id
WHERE b.read = 1 AND c.name='python' 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-09T10:11:05.013

```
SELECT b.title 
FROM books b, categories c, book_category bc
WHERE b.id = bc.item_id
  AND c.id = bc.category_id
  AND b.read
  AND c.name = 'python' 
```

为确保您的查询快速运行，请确保您具有以下索引：

```
 books(id)
 categories(id, name)
 book_category(item_id)
 book_category(caregory_id) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-09T10:11:22.317

试试这个

```
"select b.title from category c INNER JOIN book_category bc on bc.category_id = c.id INNER JOIN book b on b.id = b.id where b.read = '1' and c.name = 'python'"; 
```

# android - Android Webview 和 Chrome 浏览器一样吗？

> ID：15898919
> 
> 赞同：2
> 
> 时间：2013-04-09T09:59:28.850
> 
> 标签：android, android-webview

我有 webview，它将使用以下代码创建。

```
 WebView mWebView=new WebView(this);
  mWebView.setWebViewClient(new WebViewClient());
  mWebView.setWebChromeClient(new WebChromeClient());       
  mWebView.addJavascriptInterface(new AndroidJavaInterface(), "JavaInterface"); 
```

这个 webview 和 chrome 一样吗？如果我使用 loadurl() 方法将任何 URL 加载到此 webview 中，并在两个不同的设备上运行，那么 webview 在所有设备中是否都相同？我认为它将在自定义的 mWebView 上运行，或者应用程序是否选择设备的默认浏览器来加载 URL？

编辑 1：我在 android 版本 2.2 中创建了 webview。那是 API 8。如果我在 android 4.1 设备上运行该应用程序。是否更改了 webview 版本或所有不同版本的设备的 webview 保持不变？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:05:04.680

不，Webview 小部件不是 Chrome。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:23:09.497

您可以实现 WebView 添加一些行为，如 Javascript 和 Java，但它永远不会像浏览器一样（性能较低，功能较少......）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:29:24.953

那么据我所知，WebView 和 Chrome 浏览器是不同的。

WebView 是一个 Android 小部件，用于显示本地和远程网页。尽管它具有浏览器的某些功能，例如渲染 JavaScript，但它不能被视为完全成熟的浏览器。

请参阅[开发者网站](http://developer.android.com/reference/android/webkit/WebView.html)了解更多详情。

# java - Java 文本文件搜索

> ID：15898926
> 
> 赞同：0
> 
> 时间：2013-04-09T09:59:42.173
> 
> 标签：java, search, text

我有这种方法可以在文本文件中搜索一个词，但它不断给我一个否定的结果，即使这个词在那里？

```
public static void Option3Method(String dictionary) throws IOException
 { 
Scanner scan = new Scanner(new File(dictionary));
String s;
int indexfound=-1;
String words[] = new String[500];
String word1 = JOptionPane.showInputDialog("Enter a word to search for");
String word = word1.toLowerCase();
word = word.replaceAll(",", "");
word = word.replaceAll("\\.", "");
word = word.replaceAll("\\?", "");
word = word.replaceAll(" ", "");
while (scan.hasNextLine()) {
s = scan.nextLine();
indexfound = s.indexOf(word);
}
if (indexfound>-1)
{ 
JOptionPane.showMessageDialog(null, "Word found");
}
else 
{
JOptionPane.showMessageDialog(null, "Word not found");
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:03:03.077

这是因为您正在替换`indexfound`循环中的值。因此，如果最后一行不包含该单词，则最终值为`indexfound`-1。

我会建议：

```
public static void Option3Method(String dictionary) throws IOException {
    Scanner scan = new Scanner(new File(dictionary));
    String s;
    int indexfound = -1;
    String word1 = JOptionPane.showInputDialog("Enter a word to search for");
    String word = word1.toLowerCase();
    word = word.replaceAll(",", "");
    word = word.replaceAll("\\.", "");
    word = word.replaceAll("\\?", "");
    word = word.replaceAll(" ", "");
    while (scan.hasNextLine()) {
        s = scan.nextLine();
        indexfound = s.indexOf(word);
        if (indexfound > -1) {
            JOptionPane.showMessageDialog(null, "Word found");
            return;
        }
    }
    JOptionPane.showMessageDialog(null, "Word not found");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:04:26.967

`while`如果找到该单词，则中断循环

```
while (scan.hasNextLine()) {
  s = scan.nextLine();
  indexfound = s.indexOf(word);
  if(indexFound > -1)
     break;
} 
```

上面代码的问题是 -`indexFound`被覆盖了。如果该单词出现在文件的**最后一行**，则您的代码只能正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:08:43.300

在 while 循环中增加 indexfound 而不是 indexfound = s.indexOf(word);

给

```
while (scan.hasNextLine()) 
   {
    s = scan.nextLine();
    if(s.indexOf(word)>-1)
        indexfound++; 

    } 
```

使用 indexfound 值，您还可以找到文件中的出现次数。

# jquery - 当包含在.when中时，如何返回.post加载的页面内容？

> ID：15898927
> 
> 赞同：1
> 
> 时间：2013-04-09T09:59:42.850
> 
> 标签：jquery, html, ajax, .post, .when

这是我页面的基本框架：

```
$.when(postrequest1, postrequest2).then(function () {
  // how do I access the results of postrequest1 and postrequest 2 here?
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:01:05.337

```
$.when(postrequest1, postrequest2).then(function (data1,data2) {
  // data1, data2 are arrays of the form [ "success", statusText, jqXHR ] 
}); 
```

只需将数据参数提供给匿名回调函数。有关详细信息，请参阅[$.when()](http://api.jquery.com/jQuery.when/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:05:26.377

试试这个

```
$.when(postrequest1, postrequest2).then(function (a1,a2) {
 var jqXHR1 = a1[2]; /* arguments are [ "success", statusText, jqXHR ] */
  alert(jqXHR1.responseText);

  var jqXHR2 = a2[2]; 
  alert(jqXHR2.responseText); 
}); 
```

a1 和 a1 分别是第一个和第二个 ajax 请求的参数......

a1 和 a2 是数组，每个数组的键为`(success,statusText,jqXHR)`

然后，您可以单独处理它们。

**文档**：[http ://api.jquery.com/jQuery.when/](http://api.jquery.com/jQuery.when/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:05:35.277

你试过这个吗？

```
$.when(postrequest1, postrequest2).then(function (postData1, postData2) {

}); 
```

（只要post请求是单个请求，否则`then`params可以是数组）

# java - 如何在 mac os 中设置 javax.usb.properties 类

> ID：15898931
> 
> 赞同：0
> 
> 时间：2013-04-09T09:59:52.747
> 
> 标签：java, macos, usb

我正在开发usb java程序。当它运行这个程序时，它会显示这样的错误。

```
 javax.usb.UsbException: Properties file javax.usb.properties not found. 
```

所以我没有在 mac os 上设置属性文件。我正在使用 mac 操作系统。所以请帮助我。谢谢你

# sql - 如何使用 where 子句计算多个列？(SQL)

> ID：15898935
> 
> 赞同：0
> 
> 时间：2013-04-09T09:59:59.180
> 
> 标签：sql, ms-access

我有以下查询：

```
 SELECT count(Committees)
    FROM [Annual Questionnaire]
    WHERE Committees=TRUE; 
```

但是，我想在结果中包括其他列，例如 Insurance、Equalities 和计数，其中值为 True，例如 Insurance=True。不必计算表中的所有列。

我认为一个伪查询将是：

```
SELECT count(Committees),
       count(Insurance)
FROM [Annual Questionnaire]
WHERE Committees=TRUE
  AND Insurance=TRUE; 
```

*^ 这不起作用，因为它选择了只有委员会和保险为真的行*

基本上，我如何计算值为 True 的指定列？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T10:08:00.627

你可以做类似的事情

```
SELECT 
    SUM(IIF(Committees=True, 1, 0))
    , SUM(IIF(Insurance=True, 1, 0))
FROM [Annual Questionnaire] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T10:05:05.940

如果在 WHERE 子句中同时指定两者，它只会返回**两**列都为真的行。请记住，执行顺序是在 Select 之前执行 Where 子句，因此它将根据您拥有的数据过滤数据，然后选择您告诉它选择的任何内容。

这是执行顺序：

```
FROM clause
WHERE clause
GROUP BY clause
HAVING clause
SELECT clause
ORDER BY clause 
```

已经有类似的线程：[如何使用一个 SQL 查询获得多个计数？](https://stackoverflow.com/questions/12789396/how-to-get-multiple-counts-with-one-sql-query)

# python - HTTPConnection.request() & HTTPConnection.putrequest()

> ID：15898942
> 
> 赞同：1
> 
> 时间：2013-04-09T10:00:13.953
> 
> 标签：python, httplib

我需要使用 python httplib。

我编写了两个示例，第一个有效，第二个无效。

但我需要的是第二个。

在第二个示例中，数据似乎未正确发送。

我想知道第二个问题出在哪里。

TIA，列维

这是我的两个代码：

第一个样本：

```
conn=httplib.HTTPConnection(data_host)
a_file=open("/home/levi/5","rb")
data=a_file.read()
a_file.close()
conn.request("PUT", "/webhdfs/v1/levi/5?op=CREATE&user.name=levi", data)
res=conn.getresponse()
print res.status,res.reason
print res.msg
conn.close() 
```

第二个：

```
conn=httplib.HTTPConnection(data_host)
conn.connect()
conn.putrequest("PUT","/webhdfs/v1/levi/5?op=CREATE&user.name=levi")
conn.endheaders()
a_file=open("/home/levi/5","rb")
data=a_file.read()
a_file.close()
conn.send(data)
res=conn.getresponse()
print res.status,res.reason
print res.read()
print res.msg
conn.close() 
```

# angularjs - ng-repeat：添加具有效果的新元素

> ID：15898945
> 
> 赞同：1
> 
> 时间：2013-04-09T10:00:23.797
> 
> 标签：angularjs, angularjs-ng-repeat

目前我正在使用 ng-repeat 来显示一个部门。

```
<div class="something" ng-repeat="item in items">{{item.name}}</div> 
```

在我的控制器中，当我向页面中显示的项目添加一个项目时。但它只是显示新内容。我想要的是在添加时显示效果，就像新 div 在添加到页面时应该向下滑动一样。我怎样才能实现它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:08:30.927

尝试添加带有动画值的 ngAnimate 属性。您可以在此处找到更多信息 [http://www.yearofmoo.com/2013/04/animation-in-angularjs.html#animating-ng-repeat](http://www.yearofmoo.com/2013/04/animation-in-angularjs.html#animating-ng-repeat)

# powershell - 将多个 SID 转换为可读用户名的脚本

> ID：15898947
> 
> 赞同：0
> 
> 时间：2013-04-09T10:00:32.167
> 
> 标签：powershell, vbscript

我有一个包含以下详细信息的文本文件，因此我需要有关可以将多个 SID 转换为可读用户名的脚本的帮助，但我真的怀疑编码。

**使用记事本打开时，基于窗口的权限文件包含如下示例信息**

```
 [/]      
    S-1-5-21-1449722967-1661817991-10773629-12231=rw  
    S-1-5-21-1449722967-1661817991-10773629-15527=rw  

    [AM_ATTG:/]     
    S-1-5-21-1449722967-1661817991-10773629-1207=rw 
```

在这之间，我找到了将 SID 从[如何使用 powershell 将 csv 中的 sid 更改为用户的脚本？](https://stackoverflow.com/questions/12200189/how-can-i-use-powershell-to-change-sid-in-csv-to-user)

因此，我将文件保存到 .csv 中，并将**第一列的标题作为用户**，**第二列作为权限**

```
 User                                             Permission
    [/]      
    S-1-5-21-1449722967-1661817991-10773629-12231    rw  
    S-1-5-21-1449722967-1661817991-10773629-15527    rw  

    [AM_ATTG:/]     
    S-1-5-21-1449722967-1661817991-10773629-1207     rw 
```

但是在尝试第一个 powershell 脚本时出现以下错误，非常感谢您对我的帖子的任何提示的回复。

```
Import-Csv : Cannot process argument because the value of argument "name" is invalid. Change the value of the "name" argument and run the operation again.  
At line:1 char:19
+Import-Csv <<<<  .\sid.csv | ForEach-Object{
+ CategoryInfo          : InvalidArgument: (:) [Import-Csv], PSArgumentException
+ FullyQualifiedErrorId : Argument,Microsoft.PowerShell.Commands.ImportCsvCommand 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:41:10.743

我建议您使 csv 文件看起来像这样（逗号分隔）：

```
Sid,Permission
S-1-5-21-1449722967-1661817991-10773629-12231,rw  
S-1-5-21-1449722967-1661817991-10773629-15527,rw   
S-1-5-21-1449722967-1661817991-10773629-1207,rw 
```

然后你可以这样做：

```
Import-Csv SID.csv | 
Select-Object Sid,Permission,@{n='User';e={(New-Object System.Security.Principal.SecurityIdentifier $_.Sid).Translate([System.Security.Principal.NTAccount]).Value}} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:48:51.280

VBScript 风格：

```
sidList = Array( "S-1-5-21-1449722967-1661817991-10773629-12231=rw" _
  , "S-1-5-21-1449722967-1661817991-10773629-15527=rw" _
  , "S-1-5-21-1449722967-1661817991-10773629-1207=rw" _
)

Set wmi = GetObject("winmgmts://./root/cimv2")

For Each sid In sidList
  Set obj = wmi.Get("Win32_SID.SID='" & Replace(sid, "=rw", "") & "'")
  WScript.Echo obj.ReferencedDomainName & "\" & obj.AccountName
Next 
```

**更新：**您可以将脚本实现为过滤器，如下所示：

```
Set wmi = GetObject("winmgmts://./root/cimv2")

Do Until WScript.StdIn.AtEndOfStream
  line = Trim(WScript.StdIn.ReadLine)
  If UCase(Left(line, 2)) = "S-" Then
    Set obj = wmi.Get("Win32_SID.SID='" & Replace(sid, "=rw", "") & "'")
    WScript.StdOut.WriteLine obj.ReferencedDomainName & "\" & obj.AccountName
  End If
Loop 
```

像这样运行过滤器：

```
type input.txt | cscript //NoLogo filter.vbs > output.txt 
```

请注意，您必须使用`cscript.exe`，否则您将无法访问`WScript.StdIn`or `WScript.StdOut`。

# json - 简单 json 文件中的语法错误

> ID：15898948
> 
> 赞同：0
> 
> 时间：2013-04-09T10:00:36.140
> 
> 标签：json

我有一个这样的 json 文件：

```
["Sylvia Molloy","Manuel Mujica Lainez","Gustavo Nielsen","Silvina Ocampo","Victoria  Ocampo","Hector German Oesterheld", "Olga 
Orozco","Juan L. Ortiz", "Alicia Partnoy","Roberto Payro","Ricardo Piglia","Felipe  Pigna","Alejandra Pizarnik", 
"Antonio Porchia", "Juan Carlos Portantiero","Manuel Puig","Andres Rivera","Mario Rodriguez Cobos","Arturo Andres 
Roig","Ricardo Rojas"] 
```

我的浏览器控制台出现语法错误，有人知道为什么吗？

![我已将我的 json 文件编辑为：[](https://i.stack.imgur.com/4nQmc.png)

我已将我的 json 文件编辑为：["SylviaMolloy","Bassemalam"] 并且我发布了错误图片，请再次检查

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:04:35.223

在控制台中，您不应在字符串中使用新行。它们在数组元素之间很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:10:03.963

Javascript 字符串不能有字面上的行终止符。你有：

```
"Arturo Andres //<-- line terminator here is illegal
Roig" 
```

它应该是

```
"Arturo Andres Roig", ... 
```

或者

```
"Arturo Andres\nRoig", ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-17T23:35:58.093

您应该将响应包装在花括号 { } 之间，并为其提供一个密钥，使其成为有效的 JSON：`{ "people" : ["Sylvia Molloy","Manuel Mujica Lainez"] }`

# c# - 在 Treeview 中显示表格内容

> ID：15898954
> 
> 赞同：0
> 
> 时间：2013-04-09T10:00:56.967
> 
> 标签：c#, winforms, visual-studio, treeview, browser

我在我的应用程序中创建了一个“帮助”功能，它会打开一个对话框，如下所示：

![应用截图](https://i.stack.imgur.com/Ml31q.png)

左侧的控件是`TreeView`. 右侧的控件是`WebBrowser`. `WebBrowser`填充了 Word 文档，转换为`.mhtml`（包含图像的 HTML）。

正如您在图像上看到的那样，我正在使用一个表格，链接是可点击的，用户将被定向到文档上的位置。有没有办法在`TreeView`左侧显示该表？如果可能的话，有人可以给我一个例子来告诉我如何得到想要的结果吗？

**编辑：**

```
<h2 style=3D'mso-list:l9 level2 lfo12'><a name=3D"_Toc353271009"><![if !sup=
portLists]><span
style=3D'mso-fareast-font-family:Calibri;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style=3D'mso-list:Ignore'>2.2<span style=3D'font:7.0pt "Times New Roman"'>&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Eerste keer opstarten Liveduiven Client</a><=
/h2> 
```

上面的代码是表中的链接。

使其更清晰的另一个链接：

```
style='mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc1 style='tab-stops:22.0pt right dotted 481.45pt'><span
 class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc353271007">2<span
 style='color:windowtext;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1'>       </span></span>DE LIVEDUIVEN CLIENT<span
 style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
 text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T15:52:36.137

我不知道你的 html 内容的结构，但我写了一个例子（你怎么能这样做）：

**导航到您的网址**

```
 private void Form1_Load(object sender, EventArgs e)
        {
            webBrowser1.Navigate("http://en.wikipedia.org/wiki/Microsoft");
        } 
```

**获取页面主题的元素**

```
 private void webBrowser1_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
        {
            //Get header of subject
            foreach (HtmlElement elementintable in webBrowser1.Document.GetElementById("toc").All)
            {
                if (elementintable.TagName == "A")
                {
                    //insert key and string to each node
                    treeView1.Nodes.Add(elementintable.GetAttribute("href").Split('#')[1], elementintable.InnerText);
                }
            }
        } 
```

**获取选定的节点密钥**

```
 private void treeView1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)
        {
            //navigate to selected anchor
            webBrowser1.Document.GetElementById(e.Node.Name).ScrollIntoView(true);
        } 
```

**结果**

![在此处输入图像描述](https://i.stack.imgur.com/izI48.jpg)

**完整代码**

```
public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
        //Navibate To your url
        private void Form1_Load(object sender, EventArgs e)
        {
            webBrowser1.Navigate("http://en.wikipedia.org/wiki/Microsoft");
        }

        private void webBrowser1_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
        {
            //Get header of subject
            foreach (HtmlElement elementintable in webBrowser1.Document.GetElementById("toc").All)
            {
                if (elementintable.TagName == "A")
                {
                    //insert key and string to each node
                    treeView1.Nodes.Add(elementintable.GetAttribute("href").Split('#')[1], elementintable.InnerText);
                }
            }
        }

        private void treeView1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)
        {
            //navigate to selected anchor
            webBrowser1.Document.GetElementById(e.Node.Name).ScrollIntoView(true);
        }
    } 
```

# html - WinJS 模板 不渲染

> ID：15898959
> 
> 赞同：2
> 
> 时间：2013-04-09T10:01:05.390
> 
> 标签：html, windows-8, tags, html-parsing, winjs

我正在使用 HTML/JS 开发 Windows 8 应用程序。我的模板渲染有问题。段落“行”不渲染，只有 h4 和 h6。如果我将“p”更改为“h3”或“h4”等，它可以工作。我还尝试将 data-win-bind 属性“innerText”更改为“text”和“textContent”，但没有成功。

我不想到处都有标题。为什么它不起作用？我见过一些例子，人们似乎毫无问题地使用“p”。

**HTML：**

```
<div id="detailedViewTemplate" data-win-control="WinJS.Binding.Template">
    <h4 data-win-bind="innerText: DiareNumber" />
    <h6 data-win-bind="innerText: Company" />
    <p data-win-bind="innerText: Administrator" />
    ...
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T11:30:35.047

经过一些测试，我发现问题是标题标签`<h6>`和`<h4>`. 它必须正确关闭，除非解析无法按预期工作。**HTML5 不允许在非空元素上使用“自闭合”标签。**

经过一番研究，我发现这个网站解释了原因： [http ://tiffanybbbrown.com/2011/03/23/html5-does-not-allow-self-closing-tags/](http://tiffanybbrown.com/2011/03/23/html5-does-not-allow-self-closing-tags/)

在这种情况下，如果 p 元素后面紧跟*地址、文章、旁白、blockquote、dir、div、dl、fieldset、footer、form、h1、h2、h3、h4、h5、h6，*`<p>`则不需要结束标记*header、hgroup、hr、menu、nav、ol、p、pre、section、table 或 ul、element*，或者如果父元素中没有更多内容且父元素不是 a 元素。

**解决方案**

所以通过改变：

```
<div id="detailedViewTemplate" data-win-control="WinJS.Binding.Template">
    <h4 data-win-bind="innerText: DiareNumber" />
    <h6 data-win-bind="innerText: Company" />
    <p data-win-bind="innerText: Administrator" />
    ...
</div> 
```

到：

```
<div id="detailedViewTemplate" data-win-control="WinJS.Binding.Template">
    <h4 data-win-bind="innerText: DiareNumber"></h4>
    <h6 data-win-bind="innerText: Company"></h6>
    <p data-win-bind="innerText: Administrator"></p> <!-- optional -->
    ...
</div> 
```

现在它可以正常工作了！

# c# - 如何在WPF中显示具有从右到左滑动效果的窗口

> ID：15898961
> 
> 赞同：3
> 
> 时间：2013-04-09T10:01:06.363
> 
> 标签：c#, wpf, xaml

我想从右到左的过渡样式显示除主页外的所有窗口。

我试过这个

```
<Window.Triggers>
    <EventTrigger RoutedEvent="Window.Loaded">
        <BeginStoryboard>
            <!--<Storyboard>
                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:2" FillBehavior="HoldEnd" />
            </Storyboard>-->

            <Storyboard >
                <ThicknessAnimation Duration="0:0:.8" Storyboard.TargetProperty="Margin" To="-1200,0,-100,0" AccelerationRatio=".1"/>
            </Storyboard>
        </BeginStoryboard>
    </EventTrigger>
</Window.Triggers> 
```

如果我把 stackpanel 触发器放在窗口内，它也是从左到右的。

同样明智的是，我需要显示窗口本身。

如何做到这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-09T10:34:25.440

`DoubleAnimation`财产上的一个`Left`应该做的伎俩

```
<Window.Triggers>
    <EventTrigger RoutedEvent="Window.Loaded">
        <BeginStoryboard>
            <Storyboard >
                <DoubleAnimation Duration="0:0:.8" Storyboard.TargetProperty="Left" From="1920" To="0" AccelerationRatio=".1"/>
            </Storyboard>
        </BeginStoryboard>
    </EventTrigger>
</Window.Triggers> 
```

# linq - 按周将值放入数据表组中

> ID：15898962
> 
> 赞同：0
> 
> 时间：2013-04-09T10:01:11.547
> 
> 标签：linq, pivot, linq-to-objects

我有一个数据表，其中包含从 1 月 1 日到 3 月的值，如下所示：

```
DATE        Employer    Job1    Job2
1/4/2013        A        1.3    2
1/4/2013        B        2.5    6
1/6/2013        C        3.7    2.4
1/7/2013        D        11 
1/7/2013        F        334    0
1/8/2013        A        1.87   1
1/8/2013        B        6.85   2
1/9/2013        C        58     226
1/16/2013       A        9.43   1.45
1/16/2013       B        5.27   0.6
1/122/2013      C        45.4   5
1/23/2013       A        44     4.78
1/29/2013       B        45     40  
2/2/2013        C        45     54.12
2/2/2013        D         7     4.4587
2/3/2013        F        265    11.486 
```

更新：

```
DataTable datatable = new DataTable("Employee");

datatable.Columns.Add("Date", typeof(string));
datatable.Columns.Add("Employee", typeof(string));
datatable.Columns.Add("Job1", typeof(double));
datatable.Columns.Add("Job2", typeof(double));

datatable.Rows.Add(new Object[] { "1/4/2013", "A", 1.3, 2 });
datatable.Rows.Add(new Object[] { "1/4/2013", "B", 2.5, 6 });
datatable.Rows.Add(new Object[] { "1/6/2013", "C", 3.7, 2.4 });
datatable.Rows.Add(new Object[] { "1/7/2013", "D", 11, 0.0 });
datatable.Rows.Add(new Object[] { "1/7/2013", "F", 334, 0 });
datatable.Rows.Add(new Object[] { "1/8/2013", "A", 1.87, 1 });
datatable.Rows.Add(new Object[] { "1/8/2013", "B", 6.85, 2 });
datatable.Rows.Add(new Object[] { "1/9/2013", "C", 58, 226 });
datatable.Rows.Add(new Object[] { "1/16/2013", "A", 9.43, 1.45 });
datatable.Rows.Add(new Object[] { "1/16/2013", "B", 5.27, 0.6 });
datatable.Rows.Add(new Object[] { "1/22/2013", "C", 45.4, 5 });
datatable.Rows.Add(new Object[] { "1/23/2013", "A", 44, 4.78 });
datatable.Rows.Add(new Object[] { "1/29/2013", "B", 45, 40 });
datatable.Rows.Add(new Object[] { "2/2/2013", "C", 45, 54.12 });
datatable.Rows.Add(new Object[] { "2/2/2013", "D", 7, 4.4587 });
datatable.Rows.Add(new Object[] { "2/3/2013", "F", "265", 11.486 });
datatable.Rows.Add(new Object[] { "3/3/2013", "A", "25", 28.124 }); 
```

我想将每周从星期一到星期日开始的 job1 周的值相加。这是我到目前为止写的代码。

```
DateTime minDate = datatable.AsEnumerable()
        .Min(r => DateTime.Parse(r.Field<string>("DATE")));

DateTime startDate = minDate.Date.Date.AddDays(+((6 + minDate.DayOfWeek
                                                    - DayOfWeek.Monday) % 7));

DateTime nextDate = startDate.AddDays(6);

DateTime maxDate = datatable.AsEnumerable()
        .Max(r => DateTime.Parse(r.Field<string>("DATE")));

while (nextDate < maxDate)
{
    var weekEmpGroups = datatable.AsEnumerable()
    .Select(r => new
    {
        Row = r,
        Employee = r.Field<String>("Employee"),
        Date = DateTime.Parse(r.Field<string>("DATE")) 
        // week = minDate.Date.Date.AddDays(+((6 + minDate.DayOfWeek
                                                 - DayOfWeek.Monday) % 7))
    })
    .GroupBy(x => x.Employee);

DataTable dtWeeklyResults = new DataTable();
dtWeeklyResults.Columns.Add("Employee", typeof(string));
var dtf = System.Globalization.CultureInfo.CurrentCulture.DateTimeFormat;

double weekCount = 0.0;
string expression;
DataRow[] foundRows;

foreach (var empGroup in weekEmpGroups)
{
    string employee = empGroup.Key;
    var newRow = dtWeeklyResults.Rows.Add();
    newRow["Employee"] = employee;                        

    expression = "Employee=" + employee + " AND Date Between " + startDate
               + " And " + nextDate;
    foundRows = datatable.Select(expression);

    if (foundRows.Length > 0)
    {
        // add values using linq
    }

} 
```

请建议这是否是正确的方法，以及如何每周添加所有值？Job1 的结果应如下所示：

```
Employee  1/7-1/13    1/14-1/20    1/21-1/27    1/28-2/3  and so on...
A        sum of values for this 7 days
B
C
D 
```

有人可以建议如何通过 LINQ 实现这一目标吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T14:17:48.363

***辅助方法***

```
private static string GetColumnName(int weekNumber)
{
    DateTime jan1 = new DateTime(2013, 1, 1);

    int daysOffset = DayOfWeek.Monday - jan1.DayOfWeek;
    DateTime firstMonday = jan1.AddDays(daysOffset);

    var cal = ci.Calendar;
    int firstWeek = cal.GetWeekOfYear(firstMonday, ci.DateTimeFormat.CalendarWeekRule, ci.DateTimeFormat.FirstDayOfWeek);

    if (firstWeek <= 1)
    {
        weekNumber -= 1;
    }

    DateTime result = firstMonday.AddDays((weekNumber-1) * 7);

    return string.Format("{0}-{1}", result.ToString("M/d", ci), result.AddDays(6).ToString("M/d", ci));
}

private static int GetWeekOfYear(DateTime value)
{
    return ci.Calendar.GetWeekOfYear(value, ci.DateTimeFormat.CalendarWeekRule, ci.DateTimeFormat.FirstDayOfWeek);
} 
```

***`CultureInfo`实例***

```
static CultureInfo ci = new CultureInfo("en-us"); 
```

***逻辑***

```
// load parsed data from DataTable to a list
var data = (from row in dt.AsEnumerable()
            select new
                {
                    Date = DateTime.Parse(row.Field<string>("Date"), ci),
                    Employee = row.Field<string>("Employee"),
                    Value = row.Field<double>("Job1")
                }).ToList();

// find min/max date and week number
var minDateTime = data.Select(i => i.Date).Min();
var maxDateTime = data.Select(i => i.Date).Max();
var minWeekNumber = GetWeekOfYear(minDateTime);
var maxWeekNumber = GetWeekOfYear(maxDateTime);

// prepare result DataTable
var resultDt = new DataTable("Job1");
resultDt.Columns.Add("Employee", typeof(string));
for (int i = minWeekNumber; i <= maxWeekNumber; i++)
    resultDt.Columns.Add(i.ToString(), typeof(double));

// prepare grouped data query
var employeeData = from d in data
                    group d by d.Employee into g
                    select new
                        {
                            Employee = g.Key,
                            Items = g.GroupBy(x => GetWeekOfYear(x.Date))
                                    .Select(x => new
                                    {
                                        Week = x.Key,
                                        Value = x.Sum(xx => xx.Value)
                                    })
                        };

// iterate over query results and fill resultsDt
foreach (var e in employeeData)
{
    var newRow = resultDt.NewRow();
    newRow["Employee"] = e.Employee;
    foreach (var d in e.Items)
        newRow[d.Week.ToString()] = d.Value;
    resultDt.Rows.Add(newRow);
}

// change column names from week numbers to proper start-end dates
foreach(DataColumn col in resultDt.Columns)
{
    int weekNumber;
    if (int.TryParse(col.ColumnName, out weekNumber))
    col.ColumnName = GetColumnName(weekNumber);
} 
```

***结果：***

```
Job1
Employee  1/7-1/13  1/14-1/20  1/21-1/27  1/28-2/3  2/4-2/10  2/11-2/17  2/18-2/24  2/25-3/3  3/4-3/10  3/11-3/
A         1,3         1,87       9,43        44                                                            2
B         2,5         6,85       5,27                  45
C                     61,7                   45,4      45
D                     11                                7
F                    334                                         265 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-04T10:03:30.053

如果有人有相同的要求，即每周显示结果，那么这里是代码：

```
 private static DataTable GetWeeklyColumnsAndData(DataTable datatable, string resultFor)
         {
            DateTime minDate = datatable.AsEnumerable()
                               .Min(r => DateTime.Parse(r.Field<string>("DATE")));

            DateTime maxDate = datatable.AsEnumerable()
                               .Max(r => DateTime.Parse(r.Field<string>("DATE")));

            var distinctValues = datatable.AsEnumerable()
                                 .Select(row => new
                                 {
                                    Employee = row.Field<string>("Employee")
                                 })
                                 .Distinct()
                                 .ToList();

           int totalEmployeeCount = System.Linq.Enumerable.Count(distinctValues);

           DataTable resultDt = new DataTable();
           resultDt.Columns.Add("Employee", typeof(string));

           DateTime firstMonday = (minDate.DayOfWeek == DayOfWeek.Monday) ? minDate : GetNextWeekday(minDate, DayOfWeek.Monday);

           DateTime startingMonday = firstMonday;

           // add columns first
           while (firstMonday < maxDate)
           {
             string weekName = string.Format("{0}-{1}", firstMonday.ToString("M/d", ci), firstMonday.AddDays(6).ToString("M/d", ci));
             resultDt.Columns.Add(weekName, typeof(string));
             firstMonday = firstMonday.AddDays(7);
           }

           for (int row = 0; row < totalEmployeeCount; row++)
           {
                            DateTime startDate = startingMonday;
                            DateTime endDate = startingMonday.AddDays(6);

                            DataRow newRow = resultDt.NewRow();

                            string employee = distinctValues[row].Employee.ToString();

                            // first column for entity                
                            newRow[0] = employee;

                            for (int col = 1; col < resultDt.Columns.Count; col++)
                            {
                                bool isBlank = false;
                                double total = 0;
                                string formattedMonday = endDate.ToString("M/d/yyyy");
                                string expression = String.Format("Employee = '{0}' AND DATE >= #{1}# AND DATE <= #{2}#", employee, startDate.ToString("M/d/yyyy"), formattedMonday);

                                DataView dv = datatable.DefaultView;
                                dv.RowFilter = expression;
                                if (dv.Count > 0)
                                {
                                    foreach (DataRowView rowView in dv)
                                    {
                                        DataRow r = rowView.Row;
                                        string value = r[resultFor].ToString();
                                        if (value != "")
                                        {
                                            total += Convert.ToDouble(value);
                                        }
                                        else
                                        {
                                            isBlank = true;
                                        }
                                    }
                                }
                                else
                                {
                                    isBlank = true;
                                }

                                if (total == 0 && isBlank)
                                {
                                    newRow[col] = "";
                                }
                                else
                                {
                                    newRow[col] = total;
                                }
                                startDate = endDate.AddDays(1);
                                endDate = startDate.AddDays(6);
                            }

                            resultDt.Rows.Add(newRow);
                        }

                        return resultDt;
         }

       public static DateTime GetNextWeekday(DateTime start, DayOfWeek day)
       {
             // The (... + 7) % 7 ensures we end up with a value in the range [0, 6]
              int daysToAdd = ((int)day - (int)start.DayOfWeek + 7) % 7;
              return start.AddDays(daysToAdd);
       } 
```

# wordpress - h1 标签内的永久链接是否会影响页面 SEO？

> ID：15898967
> 
> 赞同：-1
> 
> 时间：2013-04-09T10:01:22.063
> 
> 标签：wordpress, seo, permalinks

在我的 wordpress 博客中，我发现我的帖子标题显示如下

```
<h1><a href="permalink">Post Title</a></h1> 
```

在深入研究时，我发现代码结构如下

```
<div class="post-title">
    <h1>
        <a href="<?php the_permalink(); ?>" rel="bookmark">
            <?php the_title(); ?>
        </a>
    </h1>
</div> 
```

我想知道 h1 标签内的锚标签是否会影响我的 SEO 排名？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T11:54:35.000

它**不会**以不好的方式影响您的 SEO 排名。

从我读过的关于这个主题的内容来看，它不会伤害也不会帮助您的 SEO。

因此，在这种情况下，您可以继续进行。

从编码的角度来看，它工作得很好，就像你拥有它一样：

是否使用`div`包装器。我个人最喜欢第一个。

来源：[**这里**](http://www.w3.org/TR/html-markup/h1.html)。

# android - 如何在同一布局中将项目从一个网格视图拖放到另一个网格视图？

> ID：15898968
> 
> 赞同：4
> 
> 时间：2013-04-09T10:01:33.023
> 
> 标签：android, drag-and-drop, android-gridview

我想从姜饼中将项目从一个网格视图拖到另一个网格视图。我正在调用 onTouchListener、onDragListener 但这些在 api 8 中不可用。我需要，它应该在 api 8 中工作。有人可以帮忙吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T11:08:37.043

我有一个非常简单的解决方案.. 只需添加以下 2 个功能。

ChoiceTouchListner()

```
/**
 * ChoiceTouchListener will handle touch events on draggable views
 * 
 */
@SuppressLint({ "NewApi", "NewApi" })
private final class ChoiceTouchListener implements OnTouchListener {
    @SuppressLint("NewApi")
    public boolean onTouch(View view, MotionEvent motionEvent) {
        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {
            /*
             * Drag details: we only need default behavior - clip data could
             * be set to pass data as part of drag - shadow can be tailored
             */
            ClipData data = ClipData.newPlainText("", "");
            DragShadowBuilder shadowBuilder = new View.DragShadowBuilder(
                    view);
            // start dragging the item touched
            view.startDrag(data, shadowBuilder, view, 0);
            return true;
        } else {
            return false;
        }
    }
} 
```

ChoiceDragListener()

```
 /**
 * DragListener will handle dragged views being dropped on the drop area -
 * only the drop action will have processing added to it as we are not -
 * amending the default behavior for other parts of the drag process
 * 
 */
private class ChoiceDragListener implements OnDragListener {

    private LinearLayout initiallinear;

    public ChoiceDragListener(LinearLayout initialLinear ) {
        this.initiallinear = initialLinear;

    }

    @SuppressLint({ "NewApi", "NewApi", "NewApi" })
    @Override
    public boolean onDrag(View v, DragEvent event) {
        switch (event.getAction()) {
        case DragEvent.ACTION_DRAG_STARTED:
            // no action necessary
            break;
        case DragEvent.ACTION_DRAG_ENTERED:
            // no action necessary
            break;
        case DragEvent.ACTION_DRAG_EXITED:
            // no action necessary
            break;
        case DragEvent.ACTION_DROP:
            // handle the dragged view being dropped over a drop view
            View view = (View) event.getLocalState();
            // stop displaying the view where it was before it was dragged
            view.setVisibility(View.INVISIBLE);
            // view dragged item is being dropped on
            LinearLayout dropTarget = (LinearLayout) v;
            // view being dragged and dropped
            Button dropped = (Button) view;

            // update the text in the target view to reflect the data being
            // dropped
            int recentTag = (Integer) dropped.getTag();

            if (dropped.getParent() == dropTarget) {
                dropTarget.removeView(dropped);
                dropTarget.invalidate();
            } else {

                    initiallinear.removeView(dropped);
                    initiallinear.invalidate();

            }
            try {
                dropTarget.addView(dropped);
                dropTarget.invalidate();
            } catch (Exception e) {
                System.out.println(e);
            }

            dropped.setVisibility(View.VISIBLE);
            dropTarget.invalidate();
            // if an item has already been dropped here, there will be a tag
            Object tag = dropTarget.getTag();

            /*
             * //if there is already an item here, set it back visible in
             * its original place if(tag!=null) { //the tag is the view id
             * already dropped here int existingID = (Integer)tag; //set the
             * original view visible again
             * findViewById(existingID).setVisibility(View.VISIBLE); } //set
             * the tag in the target view being dropped on - to the ID of
             * the view being dropped dropTarget.setTag(dropped.getId());
             */
            break;
        case DragEvent.ACTION_DRAG_ENDED:
            // no action necessary
            break;
        default:
            break;
        }
        return true;
    }
} 
```

您的整个代码将在 DragEvent.ACTION_DROP 中完成。这里 dropTarget 是放置按钮/视图的线性布局。initialLayer 是您选择按钮/视图的 LinearLayout。

您可以将 LinearLayout 更改为网格布局。

不要忘记设置

```
initialLinear.setOnDragListener(new ChoiceDragListener(linear,initialLinearSecond));
dropTarget.setOnDragListener(new ChoiceDragListener(initialLinear,initialLinearSecond)); 
```

# c - 当接收到第一个数据报时，recvfrom() 不会填充结构 `sockaddr`

> ID：15898970
> 
> 赞同：3
> 
> 时间：2013-04-09T10:01:43.257
> 
> 标签：c, network-programming

我在局域网中有两台机器 A 和 B 我在 A 上有一个 UDP 客户端，在 B 上有一个 UDP 服务器，比如

```
for(;;){
    n = recvfrom(sockfd, mesg, 10000, 0, (struct sockaddr *)&cliaddr, &len);
    ....} 
```

我注意到当 UDP 客户端发送第一个数据报时
，我可以`mesg`正确获取数据报数据有效负载，
但结构`cliaddr`未填充，它是原始值
，例如，如果我使用`bzero(&cliaddr, sizeof(cliaddr));`,
in `gdb`，我得到

```
$1 = {sin_family = 0, sin_port = 0, sin_addr = {s_addr = 0}, sin_zero = 
 "\000\000\000\000\000\000\000"} 
```

收到第一个数据报时，recvfrom() 没有填充结构的原因是`cliaddr`什么？

对于后续的数据报，可以获得有效的信息。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T10:04:07.403

在调用之前，`recvfrom`您必须正确初始化`len`参数。

例如

```
len = sizeof(struct sockaddr_in);
n = recvfrom(..., &len); 
```

该`recvfrom`函数使用长度来帮助确定`sockaddr`指针实际指向的结构类型。

# android - Android在从设备管理员禁用应用程序时询问密码？

> ID：15898971
> 
> 赞同：4
> 
> 时间：2013-04-09T10:01:45.287
> 
> 标签：android, device-admin

有什么方法可以在从 android 设备停用设备管理员时询问密码，或者隐藏或保护应用程序免于取消检查设备管理员。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T10:23:32.870

你所要求的是不可能的。如果应用程序可以保护自己不被卸载，这实际上是一个问题。想想安装了一个恶意软件应用程序，然后你就无法摆脱它。

# asp.net - 使用图像作为缩略图而不保存其

> ID：15898972
> 
> 赞同：1
> 
> 时间：2013-04-09T10:01:47.203
> 
> 标签：asp.net, image, webforms

我想生成图像的缩略图而不保存它的不同

![在此处输入图像描述](https://i.stack.imgur.com/Pclw4.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:08:53.460

[ImageResizer](http://imageresizing.net/)支持调整图像大小，它可以将缩略图输出到流（例如**MemoryStream**），因此您不必将图像保存在磁盘上。它对 ASP.NET 有很好的支持，并且可以使用 NuGet 进行安装。

# ios - iOS中的HttpRequest Body参数

> ID：15898979
> 
> 赞同：1
> 
> 时间：2013-04-09T10:02:00.533
> 
> 标签：ios, xcode, xmlhttprequest

我正在为我的 iOS 应用程序使用网络服务。我知道如何通过 URL（不是 http Body）发送 http post 请求并使用 NSURLConnection Delegate 获得响应。但是现在有更好的方法可以用于 Web 服务并在请求正文中传递参数。我在谷歌上寻找图书馆并找到[了这个](https://github.com/pokeb/asi-http-request)。

但是代码对我来说有点困难，我想应该有相同的功能，这可以使这更容易一些。有没有？到目前为止的代码如下。

```
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] 
    initWithURL:[NSURL 
    URLWithString:**WebService URL**]];

[request setHTTPMethod:@"POST"];
[request setValue:@"text/json" forHTTPHeaderField:@"Content-type"];

NSString *jsonString = [NSString stringWithFormat:@"{\n\"username\":\"%@\",\n\"%@\":\"%@\",\n\"%@\":\"%@\",\n\"%@\":%@,\n\"%@\":%@,\n\"version\":%@,\n\"name\":\"%@\"\n}",userName, @"password",pass,@"accessToken",token,@"isOnline",@"True",@"accountType",type,@"False",name];

[request setHTTPBody:[jsonString dataUsingEncoding:NSUTF8StringEncoding]];

[[NSURLConnection alloc] initWithRequest:request delegate:self]; 
```

此代码中的 jsonString 是 http 正文。我想在请求正文中传递参数。现在，在执行此代码后，我在 NSData 变量中得到了 null。而我的 Web 服务函数返回一个值，如果执行成功，它也会返回。我的代码有什么问题。谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-10T08:27:58.460

感谢您的回答。最后我找到了完美的解决方案。我使用了 NSURLConnection 委托，并且我在 json 中的 HTTPBody 中传递参数。我也在 json 中收到响应。但是在 httprequestbody 中不允许直接以 json 的形式发送参数，所以我们需要在 NSData 中获取它并设置 content-type。

注意：指定内容类型非常重要。

```
 -(void)sendDataToServer:(NSString*)userName :(NSString*)name{
 {
 NSArray *keys = [NSArray arrayWithObjects: @"name",@"accountType",@"isOnline",@"username", nil];
NSArray *objects = [NSArray arrayWithObjects:name,[NSNumber numberWithBool:false],[NSNumber numberWithBool:false],userName, nil];
NSDictionary *jsonDictionary = [NSDictionary dictionaryWithObjects:objects forKeys:keys];

NSString *myJSONString =[jsonDictionary JSONRepresentation];
NSData *myJSONData =[myJSONString dataUsingEncoding:NSUTF8StringEncoding];
NSLog(@"myJSONString :%@", myJSONString);
NSLog(@"myJSONData :%@", myJSONData);

NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:Your URL string]];
[request setHTTPBody:myJSONData];
[request setHTTPMethod:@"POST"];
[request setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];

NSURLConnection *theConnection=[[NSURLConnection alloc] initWithRequest:request delegate:self];

  if (theConnection) {
      NSLog(@"connected");
      receivedData=[[NSMutableData alloc]init];
  } else {

      NSLog(@"not connected");
  }

  }

  - (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
   [receivedData setLength:0];
}

 - (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
[receivedData appendData:data];
NSString* responseString = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];
NSLog(@"response: %@",responseString);
}

 - (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
// do something with the data
// receivedData is declared as a method instance elsewhere
NSLog(@"Succeeded! Received %lu data",(unsigned long)[receivedData length]);
NSString* responseString = [[NSString alloc] initWithData:receivedData encoding:NSUTF8StringEncoding];
NSLog(@"response: %@",responseString);

 NSError *myError = nil;
NSDictionary *res = [NSJSONSerialization JSONObjectWithData:receivedData options:NSJSONReadingMutableLeaves error:&myError];

// show all values

for(id key in res) {

    id value = [res objectForKey:key];

    NSString *keyAsString = (NSString *)key;
    NSString *valueAsString = (NSString *)value;

    NSLog(@"key: %@", keyAsString);
    NSLog(@"value: %@", valueAsString);
}  
} 
```

PS：您需要添加 JSON 文件以进行序列化（json.h）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:07:08.207

您的示例代码中有一个错字，这将解释空结果：

```
NSString ***jsonString** = [NSString stringWithFormat:@"{\n\"username\":\"%@\",\n\"%@\":\"%@\",\n\"%@\":\"%@\",\n\"%@\":%@,\n\"%@\":%@,\n\"version\":%@,\n\"name\":\"%@\"\n}",userName, @"password",pass,@"accessToken",token,@"isOnline",@"True",@"accountType",type,@"False",name];

[request setHTTPBody:[**xmlString** dataUsingEncoding:NSUTF8StringEncoding]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T11:53:51.000

查看这个问题[nsurlrequest post body](https://stackoverflow.com/questions/6148900/append-data-to-a-post-nsurlrequest)和这个[http post encode type](https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean)

一般情况下，body 应该符合“key=value”的格式

对于您的问题，您需要一把“钥匙”`jsonString`

```
[request setHTTPBody:[NSString stringWithFormat:@"postedJson=%@", jsonString]]; 
```

`postedJson`是您在服务器端获得它的价值的关键。如：

```
request["postedJson"] 
```

返回的值将是`jsonString`您解释的

# entity-framework - Microsoft Test for Entity Framework 中的数据源

> ID：15898984
> 
> 赞同：0
> 
> 时间：2013-04-09T10:02:17.703
> 
> 标签：entity-framework, mstest

我正在使用 ms 测试为使用实体框架的已编写例程创建一些测试，并且我想使用 [DataSource] 属性为数据库中的一组数据生成测试例程。

我的问题是我可以只选择一个表并加载测试中的单个字段，但我想直接获取一组 ob ef 实体并直接在测试例程中处理，其方式与代码的方式更相似测试是写的。

是否存在某种 [EFDatasource] 让我将 Ef 查询表达为数据源并在测试中使用实体？

谢谢，卢卡

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T10:39:16.790

您应该只在单元测试方法中使用上下文实例（或服务/存储库，你有什么）并从中获取实体。您可以在单元测试项目的配置文件中提供连接字符串。这样，测试方法将完全摆脱任何连接问题。他们只是实例化对象并使用它们。

有些人可能会评论说这不是单元测试而是集成测试，并且您应该模拟 EF 上下文，但这[实际上是不可能](https://stackoverflow.com/questions/13332002/how-to-mock-the-limitations-of-entityframeworks-implementation-of-iqueryable/13352779#13352779)的。测试 EF 应该使用... EF。

# java - 在没有数组的Java中找到两个双精度之间的最大差异

> ID：15898986
> 
> 赞同：-1
> 
> 时间：2013-04-09T10:02:20.003
> 
> 标签：java

我们要找到连续输入值之间的差异并返回最大的变化。我的主要问题是找到正确的运算符来使用（我认为）。我也希望它能够处理负值..

```
if(count > 0){
      change = Math.abs(temp) - Math.abs(temp2);
      UI.println(change);
      if(Math.abs(change) > Math.abs(bigChange)){
           bigChange = Math.abs(change);
      }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T10:08:45.377

您对 abs 的使用不正确。考虑 temp 为 -1 且 temp2 为 1 的情况。这些值之间的差值为 2，但您的例程会将其计算为 0。

尝试：

```
if(count > 0) {
  change = Math.abs(temp - temp2);
  UI.println(change);
  if( change > bigChange ) {
    bigChange = change;
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T10:11:56.727

如果你想找到数字之间的变化，你应该使用

```
change = Math.abs(temp- temp2); 
```

代替

```
 change = Math.abs(temp) - Math.abs(temp2); 
```

你也应该初始化变量

```
bigChange=0 
```

此外，由于变量 change 和 bigChange 始终大于零，您可以避免再次调用 Math.abs 方法。

```
if(change > bigChange)
      {
          bigChange = change;
      } 
```

也是正确的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T10:12:26.810

它应该相当简单：

```
int diff = temp - temp2;
max = Math.max(maxDifference, Math.abs(diff));
println(max). 
```

你还有其他要求吗？Math.max 和 Math.min 已经非常优化，并且与自己进行比较一样快。而且是单线。对于 Math.max vs (a > b ? a : b) 也可以查看这个答案

[Math.max(a,b) or (a>b)?a:b 在 Java 中更快吗？](https://stackoverflow.com/questions/2103606/which-one-is-faster-in-java-1-math-maxa-b-2-abab)

# javascript - 什么时候写指令？

> ID：15898991
> 
> 赞同：15
> 
> 时间：2013-04-09T10:02:46.570
> 
> 标签：javascript, angularjs, angularjs-directive

Angular 为我们提供了一种编写指令的机制——它的功能非常强大。但我一直想知道的是——在什么情况下你应该真正编写你自己的自定义指令。

我们一直在 Stack Overflow 内部和周围看到各种问题，各种人试图编写（在我看来）不需要首先编写的指令。在大多数情况下，它们可以通过重复、切换和显示的组合来解决。请参阅包含指令的问题示例，我认为这些指令首先不应该是指令！

[https://stackoverflow.com/questions/16101073/angularjs-directive-is-not-working-in-ie-10](https://stackoverflow.com/questions/16101073/angularjs-directive-is-not-working-in-ie-10)

[AngularJS中的Fire按钮单击](https://stackoverflow.com/questions/16080461/fire-button-click-in-angularjs)

[angularjs：在 ui-bootstrap 模式中使用指令](https://stackoverflow.com/questions/16057187/angularjs-using-a-directive-inside-the-ui-bootstrap-modal)

一些示例场景。无论如何我都不会挑剔它们……因为我确信任何人都不清楚我们何时应该使用/编写指令。

我们看到人们使用指令作为模板机制的场景。这是正确的做事方式吗？或者，还有更好的方法？（也许是ng-include？）使用指令作为模板机制有什么好处/坏处吗？这个问题的原因是，有时我想知道人们是否编写指令，因为他们来自 jquery 世界，他们首先想到的是编写 DOM 操作代码，并且由于 Angular 的方式是不在控制器中操作 DOM，所以这一切都倾向于编写指令中的所有代码。

**编辑 ：**

我相信这种混淆（在指令中推东西）的出现是因为 Angular 没有单独的“视图”概念 - 不像 Backbone（它只有一个“视图”但没有组件！）。指令在定义组件方面非常出色——但我认为如果你使用它们来创建“视图”，你将失去一些“角度”的方式。不过，这是我的观点——这就是为什么我要征求其他 Angular 社区的想法。

更简单的指令（只做一件事的指令！）的好处是它们绝对容易测试。如果您查看所有 ng 指令，它们都会做一件事并且做得很好。

在 Angular 中定义可重用“视图”（不是组件！）的最佳方法是什么？应该写在指令中吗？或者，还有更好的方法？

如果其中一位 Angular 开发人员对此事有意见，那就太棒了！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-20T14:20:51.437

嗯……很好的问题。

我相信指令主要是为了“[扩展 HTML，以便您可以构建 DSL](http://docs.angularjs.org/guide/directive) ”，提高生产力和代码质量。

问题是这是通过将事物组件化来实现的。但**最重要**的是，我们理解指令不仅仅与视觉组件有关，也不仅与模板**有关，还与行为有关**。

总而言之，使用指令您可以：

1.  创建一个 DSL 来**增强元素的行为**
2.  创建**DSL 小部件**，这样您就可以停止重复自己
3.  **包装已经存在的组件**，为您购买生产力。
4.  **优化**

增强行为只不过是对行为进行组件化。`ng-click`，例如，将可点击行为添加到任何元素。想象一下，您正在创建一个包含数十个可拖动元素的应用程序。比您创建一个指令来增强元素行为，使其可拖动甚至无需触摸元素视觉 ( `<span draggable>Test</span>`)。再举一个例子，假设您将在鼠标悬停时获得特殊提示。`title`属性不适合这个，那么你可以创建你自己的`my-title`属性，在鼠标悬停时自动创建你的“特殊提示”（`<span my-title="Some caption">Test</span>`）。

在开发应用程序时，您有大量特定领域的概念和行为。例如，Stackoverflow 就有很强的投票概念。您可以投票赞成/反对问题、答案、评论......因此您可以创建一个可重用的`votable`指令，该指令将添加“投票行为”和“投票小部件”（向上/向下箭头）到实际任何元素。

最后一个给了我们另一张脸：模板。不仅适用于懒惰的人，而且遵循[DRY 原则](http://en.wikipedia.org/wiki/Don't_repeat_yourself)提高代码质量和可维护性。如果您正在重复控制器代码、HTML 结构或其他任何内容，为什么不对其进行模板化和组件化，对吧？Directive 是你这个工作的人选。

当然，你也有一些通用的指令应用。许多应用程序（不是全部）依赖于可点击元素，这就是为什么我们有一个`ng-click`，例如。许多应用程序都有上传区域。你会以 jQuery 的思维方式做什么？您将创建一个 jQuery 插件。对？在 Angular 中，您将创建一个 Angular Widget（使用指令）。您甚至可以使用指令包装一个已经存在的插件，并且再次**增强其行为**，以便它可以顺利地与您的应用程序对话。

关于**包装插件**，对于每个 jQuery 插件（但可能是 MooTools、Ext...），你必须创建一个控制器，调用`$('element').plugin()`它，并关心 jQuery 事件的变化并为你消化你的范围。这是指令的另一种完美用法。您可以创建一个适用`.plugin()`于您的元素的指令，监听事件并为您更改/消化您的范围。这就是[Angular UI 项目](http://angular-ui.github.io/)的全部内容，看看吧。

最后一点是优化。我最近创建了一个创建具有动态列和行（网格）的表的应用程序。问题是数据是实时更新的！ng-repeat 中的 ng-repeat 用于创建标头，正在扼杀应用程序性能（每个周期中的嵌套循环`$apply`，每半秒发生一次）。因此，您可以创建一个指令来创建列模板并仍然`ng-repeat`在其中使用，但是您将仅在列版本时通过列循环。

所以，总结一下，我相信指令是关于组件**化行为和形式（模板）**的，它们可以**提高生产力和代码质量**。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T10:32:25.857

我个人写了很多指令，因为它们往往使我的程序更具声明性。

**一个例子：**在我最近制作的 JSON -> HTML 表单解析器中，我创建了一个“form-element”指令，它解析 JSON 元素并创建必要的指令，因为它是子元素。这样，我对每种字段类型都有一个指令，具有特定的行为和方法。此外，所有元素之间共享的任何共同行为都在 form-element 指令中。

这样，组元素就是模板中带有 ng-repeat 的指令，而标题元素就像 h1 一样简单。但是所有人都可以具有相同的条件行为（例如，只有在前一个字段具有特定值集时，组才能出现）。而且一切都非常干净 - 任何时候我需要添加/更改，一切都保持完美，并且 html 非常具有声明性。

**编辑**- 包括一段代码，根据评论的要求。

```
 /**
  * Form Element
  * ============
  *
  * Handles different elements:
  *   Assigns diferent directives according to the element type
  *   Instanstiates and maintains the active property on the formElem
  */
  .directive("formElement", ['$compile', function($compile){
    return{
        restrict: "E",
        scope:{formElemModel: '='},
        link: function(scope, element, attrs){
            var template = '';
            var type = scope.formElem.type;
            switch (type){
                case "field":
                    template = 
                        "<form-field-"+scope.formElemModel.fieldType+" ng-switch-when='true'>\
                        </form-field-"+scope.formElemModel.fieldType+">";
                    break;
                default:
                    template = "<form-"+type+" ng-switch-when='true' ></form-"+type+">";
                    break;
            }
            element.html(template);
            $compile(element.contents())(scope);

        // Active state of form Element
        scope.formElem.active = true;
        scope.testActive = function(){
          if(scope.$parent.formElem && scope.$parent.formElem.active == false){
            scope.formElem.active = false;
          }
          else{
            scope.formElem.active = 
              scope.meetsRequirements(scope.formElem.requirements);
          }
        }
        scope.$watch("meetsRequirements(formElem.requirements)", scope.testActive);
        scope.$watch("$parent.formElem.active", scope.testActive);
        }
    }
  }]) 
```

# arcgis-server - ArcGIS Server 9.3.1 负载均衡

> ID：15898994
> 
> 赞同：0
> 
> 时间：2013-04-09T10:03:02.693
> 
> 标签：arcgis-server, f5

我们有 ArcGIS server 9.3.1，它已经具有负载平衡 (SOM) 和 F5 硬件负载平衡。让它们都工作还是只使用其中一个是好的做法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:37:36.510

SOM 已经有类似循环的负载平衡。F5 永远不会知道 Soc failuer，因此您需要使用一些 F5 配置来检查 SOC 是否正常工作，请参阅 F5 手册以了解如何做到这一点

# java - 休眠数据插入慢

> ID：15898998
> 
> 赞同：0
> 
> 时间：2013-04-09T10:03:09.183
> 
> 标签：java, mysql, hibernate

我在我的项目中使用 Hibernate。我有一个保存对象的场景，

```
remittanceTransactionDao.updateRemittanceTransaction(remittanceTransaction); 
```

然后调用需要访问上面更新数据的存储过程。

```
 remittanceTransactionDao.deductAgentCommission(remittanceTransaction.getRemittanceNo(), "ADD"); 
```

但是到那个时候，第一个（更新）语句仍然没有在数据库中执行，所以下面的方法找不到值。Hibernate DB 更新慢还是执行很差？我该如何优化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:07:30.557

Hibernate 会延迟对数据库的更新，直到真正需要为止。这允许通过在事务回滚的情况下不进行不必要的更新以及通过批处理语句来提高性能。

要强制它将所有待处理的更改写入数据库，您需要调用`Session.flush()`.