# StackOverflow 问答 14210000-14210999

# windows - 如何在 tcl 中检索 windows 上所有可用的 PID？

> ID：14210001
> 
> 赞同：0
> 
> 时间：2013-01-08T07:18:19.133
> 
> 标签：windows, process, tcl, pid

我想知道通过 tcl 编码检索 windows 中所有可用 pid 的方法。这是我需要根据它是否可用来杀死进程吗？感谢您。代码：

```
proc stopprogressbar {} {
  variable n_progressWinPid;
  if {[info exists n_progressWinPid]} {
    if {$n_progressWinPid > 0} {
      if {[lsearch [GETALLPIDS] $n_progressWinPid] >= 0} {
        catch {exec [auto_execok taskkill] /PID $n_progressWinPid}
      }
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T12:17:41.260

[twapi::get_process_ids](http://twapi.magicsplat.com/process.html#get_process_ids)返回 Windows 系统上的所有 PID。你必须`package require twapi`先。

如果您使用 ActiveTcl，`C:\Tcl\bin\teacup.exe install twapi`请在命令提示符下运行（或安装 Tcl 的任何位置）以获取 TWAPI。它甚至可能默认包含在较新的 ActiveTcl 版本中，我不知道。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:49:25.293

看来您的目标是杀死一个进程（如果存在）。不检查就以任何方式杀死它怎么样？

```
package require Tclx;           # For the kill command
catch {kill $n_progressWinPid}; # Kill the process 
```

Tclx 包中您可能会发现有用的其他命令：

```
id process;        # Get PID for this process
id process parent; # Get PID for the parent of this process
wait ?many options? pid; # Wait for a process 
```

请查找 Tclx 包的帮助以获取更多信息。

# java - 使用多线程实现 java gui 登录

> ID：14210003
> 
> 赞同：2
> 
> 时间：2013-01-08T07:18:27.257
> 
> 标签：java, multithreading, swing, user-interface

我正在开发一个在 jframe 中有登录表单的 java 应用程序。我有文本字段和按钮。

登录按钮有一个事件监听器，它是创建登录窗口的类的**内部类。**当用户按下登录按钮时，侦听器从字段中获取值并将其传递给验证器，该验证器使用 mysql 数据库对其进行验证，并根据用户的输入返回 true 和 false。现在基于返回值，监听器使用`if-else`语句更新 ui。整个工作都很好。

问题是在执行验证时无法使用 gui，因为每件事都是用一个线程完成的。所以在那段时间里`gui`有点冻结。如何使用多线程来避免此问题并在执行验证时使用其他 gui 组件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:28:04.233

正如您可能知道的那样，您永远不应该在事件调度线程中执行长时间运行的任务，这会使您的程序看起来像是挂起的。

同样，您不应该在事件调度线程之外创建/修改任何 UI 组件。

最简单的解决方案之一是使用 SwingWorker。这允许您在后台线程中执行代码，但它会自动将其结果重新同步回事件调度线程......

```
public class LoginForm {

    public static void main(String[] args) {
        new LoginForm();
    }

    public LoginForm() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (Exception ex) {
                }

                JDialog frame = new JDialog((JFrame) null, "Login", true);
                frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new LoginPane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
                System.exit(0);
            }
        });
    }

    public class LoginPane extends JPanel {

        private JTextField userNameField;
        private JPasswordField passwordField;
        private JButton okay;
        private JButton cancel;

        public LoginPane() {

            setLayout(new BorderLayout());

            userNameField = new JTextField(15);
            passwordField = new JPasswordField(10);

            okay = new JButton("Login");
            cancel = new JButton("Cancel");

            JPanel mainPane = new JPanel(new GridBagLayout());
            GridBagConstraints gbc = new GridBagConstraints();
            gbc.gridx = 0;
            gbc.gridy = 0;
            gbc.anchor = GridBagConstraints.EAST;
            gbc.insets = new Insets(2, 2, 2, 2);
            mainPane.add(new JLabel("User Name:"), gbc);
            gbc.gridy++;
            mainPane.add(new JLabel("Password:"), gbc);

            gbc.gridx++;
            gbc.gridy = 0;
            gbc.anchor = GridBagConstraints.WEST;
            gbc.fill = GridBagConstraints.HORIZONTAL;
            mainPane.add(userNameField, gbc);
            gbc.gridy++;
            mainPane.add(passwordField, gbc);
            mainPane.setBorder(new EmptyBorder(8, 8, 8, 8));

            add(mainPane);

            JPanel buttonPane = new JPanel(new FlowLayout(FlowLayout.RIGHT));
            buttonPane.setBorder(new EmptyBorder(8, 8, 8, 8));
            buttonPane.add(okay);
            buttonPane.add(cancel);

            add(buttonPane, BorderLayout.SOUTH);

            okay.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    userNameField.setEnabled(false);
                    passwordField.setEnabled(false);
                    okay.setEnabled(false);
                    cancel.setEnabled(false);
                    new LoginWorker(userNameField.getText(), passwordField.getPassword()).execute();
                }
            });

            cancel.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    SwingUtilities.getWindowAncestor(LoginPane.this).dispose();
                }
            });
        }

        public class LoginWorker extends SwingWorker<Boolean, Boolean> {

            private String userName;
            private char[] password;

            public LoginWorker(String userName, char[] password) {
                this.userName = userName;
                this.password = password;
            }

            @Override
            protected Boolean doInBackground() throws Exception {
                // Do you background work here, query the database, compare the values...
                Thread.sleep(2000);
                return Math.round((Math.random() * 1)) == 0 ? new Boolean(true) : new Boolean(false);
            }

            @Override
            protected void done() {
                System.out.println("Done...");
                try {
                    if (get()) {
                        JOptionPane.showMessageDialog(LoginPane.this, "Login sucessful");
                    } else {
                        JOptionPane.showMessageDialog(LoginPane.this, "Login failed");
                    }
                    userNameField.setEnabled(true);
                    passwordField.setEnabled(true);
                    okay.setEnabled(true);
                    cancel.setEnabled(true);
                } catch (Exception exp) {
                    exp.printStackTrace();
                }
            }

        }

    }
} 
```

查看[Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)了解更多信息，特别是[SwingWorker](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:39:48.460

您可以使用线程。棘手的一点是确保您需要对 UI 进行的任何更新都在 UI 线程上完成。有一个[SwingUtilities](https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingUtilities.html)助手类。

例如。

```
new Thread(){
    public void run() {
        // do the background work...

        SwingUtilities.invokeLater(new Runnable() {
             public void run() {
                 // update the UI
             }
        });
    }
}.start(); 
```

如果您想管理线程的创建方式，您还可以考虑使用后台[执行程序。](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executors.html)

```
ExecutorService backgroundExector = Executors.newFixedThreadPool(1); 
```

（因此，您可以为您的应用程序在多个地方使用其中一个）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:39:28.707

按下“登录”（从按钮侦听器），禁用按钮并启动登录线程。该线程必须连接数据库并在self或login组件类上设置一些字段，告知登录成功。`try {} finally {}`用和在最后部分包围登录代码，调用`SwingUtilities.invokeLater`。现在，`Runnable`这个方法作为参数，您可以重新启用按钮，显示“ok”或“login failed”并执行其他操作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T07:41:09.320

那么开始一个新线程相对容易。

```
Thread thread = new Thread(Runnable r);
thread.start(); 
```

虽然 r 需要实现 Runnable 并包含用于检查用户名/密码的代码，但`run()`.

```
new Runnable() {
@Override
public void run() {
        // your sql-code goes here.
    }
}; 
```

实际问题是同步您需要从侦听器和 sql 代码访问的任何变量。

同步变量很容易。

```
class example {
  private synchronized Integer mySyncInteger = new Integer();
} 
```

执行你的 sql 代码后，我会简单地从视图（你做你的挥杆工作的地方）触发一些函数，比如`swingClass.pushResult(Boolean)`. 这个函数根据给定的结果改变视图。从该函数更新视图时要小心，因为这仍然在您创建的线程中工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-08T07:48:04.683

您可以创建一个线程来与数据库进行通信以验证用户和密码。但是，UI 更新只能从 Event Dispatcher 线程中完成。您可以使用`SwingUtilities.invokeLater()`or`SwingUtilities.invokeAndWait()`方法来做到这一点。

所以你的线程可以这样实现：

```
public void run()
{
    // logic to validate user/password

    if(valid == true)
    {
        SwingUtilities.invokeLater(/*Runnable to update the UI*/));
    }
} 
```

# sql - 动态更改别名

> ID：14210007
> 
> 赞同：2
> 
> 时间：2013-01-08T07:18:33.390
> 
> 标签：sql, sql-server

当我在做一个小任务时，我遇到了一个情况

```
DECLARE   @i  INT ,
    @l  INT ,
    @desc  CHAR(50)

SET    @l = 1 
SET    @i = 20
WHILE   ( @l <= @i ) 
BEGIN
  SELECT  'Test'   AS   'Test'+@l
  SET @l =   @l  +  1
END 
```

在这段代码中，我希望当一个循环运行时，所有时间列名都随着@l 的值而改变。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T07:38:21.337

您需要动态构建语句并使用[EXECUTE](http://msdn.microsoft.com/en-us/library/ms188332.aspx)或[sp_executesql](http://msdn.microsoft.com/en-us/library/ms188001.aspx)来执行该语句。

```
DECLARE   @i  INT ,
          @l  INT ,
          @desc  CHAR(50)

SET @l = 1 
SET @i = 20

WHILE   ( @l <= @i ) 
BEGIN
    EXEC ('SELECT  ''Test''   AS   Test'+@l)
    SET @l =   @l  +  1
END 
```

走进动态SQL的世界推荐阅读：动态SQL[的祸与福](http://www.sommarskog.se/dynamic_sql.html)

改用 sp_executesql：

```
DECLARE   @i  INT ,
          @l  INT ,
          @desc  CHAR(50),
          @SQL NVARCHAR(100)

SET @l = 1 
SET @i = 20

WHILE   ( @l <= @i ) 
BEGIN
    SET @SQL = N'SELECT  ''Test''   AS   Test'+CAST(@l AS NVARCHAR(10))
    EXEC sp_executesql @SQL
    SET @l =   @l  +  1
END 
```

# android - 安卓错误日志

> ID：14210010
> 
> 赞同：0
> 
> 时间：2013-01-08T07:18:47.507
> 
> 标签：android

我使用 android LogCat，写日志，但它不起作用。如果我尝试调试应用程序，它会崩溃。应用程序工作正常。没有故障错误，但我需要 logcat 来打印日志。任何建议如何解决这个问题？

我正在使用 eclipse clasic，在 eclipse 中更新了 android SDK 和插件（不记得全名）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:30:14.130

从任务管理器重新启动 eclipse 或停止 adb.exe 进程将解决此问题。它有时会发生。希望它会有所帮助。

# c# - c#中的链接识别

> ID：14210017
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:19:28.757
> 
> 标签：c#, asp.net, facebook

在我的网站中，我想提供一个“识别链接”的功能。您可以在 Facebook 中查看该示例。每当我们分享一个链接时，它会自动检测它并找到缩略图。此外，如果我们在状态更新中做同样的事情，它也会做同样的事情。

我想使用带有 c# 的 asp.net 来实现相同的功能。

任何教程、链接或演示都会有所帮助。如果可以的话，也请分享逻辑。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:32:11.067

这就是我使用的。在描述中，我使用 40 个字符，如果您也想要描述中的完整链接，只需删除子字符串部分...

```
static string LinksToHTML(string str)
    {
         Regex urlRx = new Regex(@"(?<url>((mailto\:|(news|(ht|f)tp(s?))\://){1}\S+))", RegexOptions.IgnoreCase);

        MatchCollection matches = urlRx.Matches(str);

        foreach (Match match in matches)
        {
            var url = match.Groups["url"].Value;
            str = str.Replace(url, string.Format("<a href=\"{0}\" target=\"blank\">{1}</a>", url, (url.Length > 40 ? url.Substring(0, 40) + "..." : url)));

            //str = str.Replace(url, string.Format("<a href=\"{0}\" target=\"blank\">{1}</a>", url, url));
        }

        return str;
    } 
```

# java - 当我返回到我的活动时，不会调用 onCreate() 函数

> ID：14210026
> 
> 赞同：2
> 
> 时间：2013-01-08T07:20:14.043
> 
> 标签：java, android, android-activity

我有一个应用程序，当它返回时我调用第二个活动创建函数上的第一个活动没有被调用..这个问题发生在 android 版本 2.2 移动设备中。当我安装 4.0 时它运行良好......请给出一些建议。第一个活动——调用 onStop 然后不在重启或创建时调用 非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:22:04.180

> 我有一个应用程序，当它返回时，我调用第二个活动，而不调用创建函数上的第一个活动。

=> 返回第一个活动时，它将调用`[onResume()][1]`.

仅供参考，[onCreate()](http://developer.android.com/reference/android/app/Activity.html#onCreate%28android.os.Bundle%29)仅在活动开始时调用一次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-09T07:56:10.700

如果您希望`onCreate()`在将另一个活动压入堆栈顶部后再次被调用，您应该通过调用`finish()`. 如果你做出这样的陈述`onResume() also not calling`，用代码或其他东西来证明它，因为[Android 开发者网站](http://developer.android.com/training/basics/activity-lifecycle/stopping.html)对此非常清楚，请阅读下面的行`figure 1`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T07:31:35.797

如果您希望关闭的 Activity 在返回后调用 onCreate()，请在转到其他 Activity 时尝试使用方法 finish() 此 Activity。

祝你好运！

# ruby - Jekyll——服务器不工作

> ID：14210030
> 
> 赞同：0
> 
> 时间：2013-01-08T07:20:40.600
> 
> 标签：ruby, jekyll

当我尝试在本地运行 Jekyll --server 时遇到问题。我收到以下我无法破译的错误：

```
/Users/jgindi/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/rubygems/custom_require.rb:55:in 'require': iconv will be deprecated in the future, use String#encode instead.
Configuration from /Users/jgindi/Desktop/Codestuffs/julian25.github.com/_config.yml
/Users/jgindi/.rvm/gems/ruby-1.9.3-p125/gems/directory_watcher-1.4.1/lib/directory_watcher/em_scanner.rb:10:in `block in <top (required)>': undefined method 'kqueue' for EventMachine:Module (NoMethodError) 
```

我不明白是什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T19:19:40.433

由于您使用的是 RVM，请为您的博客创建一个新的 gemset，并确保您**没有**在该 gemset 中安装 eventmachine。directory_watcher 中的 Eventmachine 支持是实验性的。当我使用来自 GitHub 的博客源代码创建空白 gemset 时，我无法重现您看到的错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T12:47:46.357

这可能是您已经在本地主机上运行了一些东西

在终端输入这个

```
lsof -i TCP:3000 
```

这`3000`是您使用的端口号，`4000`例如。

它会返回这样的东西

```
joshuahornby ~/workspace/myBlog/ (master) 
→ lsof -i TCP:3000
COMMAND  PID   USER       FD     TYPE     DEVICE     SIZE/OFF    NODE   NAME
ruby   68780   renaebair   6u    IPv4     0x10898278     0t0      TCP     *:hbci (LISTEN) 
```

获取进程号（又名 PID）（在本例中为 68780），然后输入“kill #{that_pid}”：

```
kill 68780 
```

然后尝试连接到 --server

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T13:44:19.200

其中一些可能是由于较旧的 eventmachine 版本。

当我有 eventmachine-0.12.10 时，我遇到了这个问题。重新安装 eventmachine 将我带到 1.0.3 并且 jekyll 在那之后开始正常。

# python - Django中的多对多关系未显示外键？

> ID：14210031
> 
> 赞同：0
> 
> 时间：2013-01-08T07:20:48.253
> 
> 标签：python, django

我有两个这样的简单模型：

```
class User(models.Model):
    username = models.CharField(max_length=100) #Id is automatically generated by Django
    password = models.CharField(max_length=100)

    def __unicode__(self):
        return self.username

class File(models.Model):
    users = models.ManyToManyField(User)
    file_name = models.CharField(max_length=100)
    type = models.CharField(max_length=10) 
```

使用数据库的规则，创建桥梁实体（表）。我想知道的是，在插入数据时，我想在我的情况下使用 session_id（外键）插入数据库，以便以后可以检索以供我使用。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:49:43.793

如果您尝试将数据添加到多对多关系，则必须使用该`through`选项定义连接表。[阅读此处](https://docs.djangoproject.com/en/dev/topics/db/models/#intermediary-manytomany "Django 文档")了解更多信息。

但是请注意，您不应该保存会话 ID - 您要达到什么目的？这样做的原因是用户不会总是拥有相同的 sessionID，并且与会话相关的数据（即 request.session[*]）可能会被删除。

无论如何，一个例子看起来像这样

```
class User(models.Model):
    username = models.CharField(max_length=100) #Id is automatically generated by Django
    password = models.CharField(max_length=100)

    def __unicode__(self):
        return self.username

class File(models.Model):
    users = models.ManyToManyField(User, through='UserFile')
    file_name = models.CharField(max_length=100)
    type = models.CharField(max_length=10)

class UserFile(models.Model):
    user = models.ForeignKey(User)
    file = models.ForeignKey(File)
    # Should probably use CharField if you know the length
    session_id = models.TextField() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:39:06.687

根据我从您的问题中了解到的情况，您可能需要参考文档的外键部分。 [https://docs.djangoproject.com/en/dev/ref/models/fields/](https://docs.djangoproject.com/en/dev/ref/models/fields/)

例如：manufacturer = models.ForeignKey('Manufacturer')

# jquery - 调整窗口大小后重新计算高度

> ID：14210032
> 
> 赞同：0
> 
> 时间：2013-01-08T07:20:49.533
> 
> 标签：jquery, jquery-animate, height, responsive-design

我创建了一个函数，当我将鼠标悬停在父对象上时会显示“语音气泡”。但是，气泡设置为显示在父对象上方，由其高度计算得出。

我正在尝试将其用于响应式设计，因此宽度和高度都是动态的。我尝试在使用以下代码调整窗口大小后运行该函数：

```
$(window).resize(function() {
    $('.popup').popup();
}).trigger('resize'); 
```

这几乎似乎可以解决问题，但它非常有问题。您可以通过查看[我放在一起的这个 jsfiddle](http://jsfiddle.net/norsewulf/jMG4K/)来了解我的意思。

在调整窗口大小之前，对话气泡可以正常工作，但是一旦调整大小并且您将鼠标悬停在其中一个触发对象上，对话气泡就会进行 5 次左右重复的动画。

毫无疑问，这最初不是为响应式设计而编写的，而且我不是一个 JS 开发人员，所以如果有人看到任何可以做出的明显改进，我会很乐意接受它们！:D

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:39:04.427

这是因为 popup() 不止一次地绑定到事件。就用这个。

```
$(document).ready(function() {
$('.popup').popup();
}); 
```

并且，在鼠标悬停时设置弹出窗口的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T09:05:18.867

消除 -

```
$(window).resize(function () {
    $('.popup').popup();
  }).trigger('resize'); 
```

然后添加

```
 $('.popup').popup(); 
```

看到这个 - [http://jsfiddle.net/im4aLL/jMG4K/2/](http://jsfiddle.net/im4aLL/jMG4K/2/)

# javascript - 如何从本地文件中读取字符串？

> ID：14210044
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:21:31.970
> 
> 标签：javascript, html, file, input, local

如何通过使用 javascript 指定“文件路径”来读取文件？

我懒得手动单击输入按钮并每次都选择它们。

我也试图通过使用 JQUERY 来欺骗它，但似乎 jquery 无法修改输入值。

欢迎任何其他处理本地文件的建议。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:23:46.267

出于安全原因，javascript 在浏览器内的沙盒环境中运行，您无法访问客户端计算机上的文件系统。

如果仅通过导航到网站就可以做到这一点，则该网站的作者可以访问客户端计算机上的任何文件。这不是浏览互联网的人通常想要的。

* * *

更新：

使用[HTML5 文件 API](http://www.w3.org/TR/FileAPI/)，您可以访问客户端上由用户在`<input type="file">`字段中显式加载或从桌面拖放的文件的内容。但用户必须明确执行此操作。您不能访问任意文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T07:25:25.597

> 如何通过使用 javascript 指定“文件路径”来读取文件？

你不能。

> 我懒得手动单击输入按钮并每次都选择它们。

你必须。这就是用户授予 Web 应用程序访问文件权限的方式。

# java - 如何使用 Selenium WebDriver Java 自动化拖放功能

> ID：14210051
> 
> 赞同：53
> 
> 时间：2013-01-08T07:22:12.547
> 
> 标签：java, selenium, selenium-webdriver, drag-and-drop

`Selenium WebDriver`如何在java中使用自动化拖放功能？

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2013-01-08T19:32:36.427

有一个页面记录了高级用户交互；其中有很多关于如何生成一系列动作的很好的例子， [你可以在这里找到](https://github.com/SeleniumHQ/selenium/wiki/Advanced-User-Interactions)

```
// Configure the action
Actions builder = new Actions(driver);

builder.keyDown(Keys.CONTROL)
   .click(someElement)
   .click(someOtherElement)
   .keyUp(Keys.CONTROL);

// Then get the action:
Action selectMultiple = builder.build();

// And execute it:
selectMultiple.perform(); 
```

或者

```
Actions builder = new Actions(driver);

Action dragAndDrop = builder.clickAndHold(someElement)
   .moveToElement(otherElement)
   .release(otherElement)
   .build();

dragAndDrop.perform(); 
```

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2013-01-08T07:35:37.823

Selenium 有很好的文档。[这](http://seleniumhq.org/docs/03_webdriver.jsp#drag-and-drop)是您正在寻找的 API 的特定部分的链接。

```
WebElement element = driver.findElement(By.name("source")); 

WebElement target = driver.findElement(By.name("target"));

(new Actions(driver)).dragAndDrop(element, target).perform(); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-06-18T07:16:02.173

拖放可以这样实现...

```
public ObjectPage filter(int lowerThreshold, int highThreshold) {
    Actions action = new Actions(getWebDriver());
    action.dragAndDropBy(findElement(".className .thumbMin"), lowerThreshold, 0).perform();
    waitFor(elementIsNotDisplayed("#waiting_dialog"));

    action.dragAndDropBy(findElement(".className .thumbMax"), highThreshold, 0).perform();
    waitFor(elementIsNotDisplayed("#waiting_dialog"));
    return this;
} 
```

希望有帮助！

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-01-11T11:38:10.353

试试这个：

```
 Actions builder = new Actions(fDriver);
    builder.keyDown(Keys.CONTROL)
        .click(element)
        .dragAndDrop(element, elementDropped)
        .keyUp(Keys.CONTROL);

        Action selected = builder.build();

        selected.perform(); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-10-31T19:20:39.937

Selenium 有很多选项可以执行拖放操作。

在 Action 类中，我们有几个方法可以执行相同的任务。

我已经列出了可能的解决方案，请看一下。

[http://learn-automation.com/drag-and-drop-in-selenium-webdriver-using-actions-class/](http://learn-automation.com/drag-and-drop-in-selenium-webdriver-using-actions-class/)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-12-05T11:51:26.933

```
 WebElement fromElement= driver.findElement(By.xpath("SourceElement"));
    WebElement toElement=driver.findElement(By.xpath("TragetElement"));
    Actions action = new Actions(WebDriver);
    Action dragDrop = action.dragAndDrop(fromElement, toElement).build();
    dragDrop.perform(); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-02-11T03:23:40.410

我会在 Perl 中使用 Selenium::Remote::Driver 这样做。

```
my $sel = <>;  #selenium handle
my $from_loc = <fromloc>;
my $to_loc   = <toloc>;

my $from_element = $sel->find_element($from_loc);
my $to_element = $sel->find_element($to_loc);

# Move mouse to from element, drag and drop
$sel->mouse_move_to_location(element=>$from_element);
$sel->button_down(); # Holds the mouse button on the element
$sel->mouse_move_to_location(element=>$to); # Move mouse to the destination
$sel->button_up(); 
```

这应该做！

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-02-27T05:16:38.557

另一种方法是`draganddrop()`像这样使用

```
 WebElement element = driver.findElement(By.name("source"));
      WebElement target = driver.findElement(By.name("target"));

     (new Actions(driver)).dragAndDrop(element, target).perform(); 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-10-17T10:36:12.650

尝试实现下面给出的代码

```
package com.kagrana;

import org.junit.Test;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.interactions.Action;
import org.openqa.selenium.interactions.Actions;

public class DragAndDrop {
    @Test
    public void test() throws InterruptedException{
        WebDriver driver = new FirefoxDriver();
        driver.get("http://dhtmlx.com/docs/products/dhtmlxTree/");
        Thread.sleep(5000);
        driver.findElement(By.cssSelector("#treebox1 > div > table > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr:nth-child(3) > td:nth-child(2) > table > tbody > tr > td.standartTreeRow > span")).click();
        WebElement elementToMove = driver.findElement(By.cssSelector("#treebox1 > div > table > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr:nth-child(3) > td:nth-child(2) > table > tbody > tr > td.standartTreeRow > span"));
        WebElement moveToElement = driver.findElement(By.cssSelector("#treebox1 > div > table > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr:nth-child(1) > td.standartTreeRow > span"));
        Actions dragAndDrop = new Actions(driver);
        Action action = dragAndDrop.dragAndDrop(elementToMove, moveToElement).build();
        action.perform();
    }
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-04-18T07:08:51.493

因为`xpath`您可以像这样使用上述命令：

```
WebElement element = driver.findElement(By.xpath("enter xpath of source element here")); 
WebElement target = driver.findElement(By.xpath("enter xpath of target here"));
(new Actions(driver)).dragAndDrop(element, target).perform(); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2017-07-21T17:48:43.957

我使用了下面的一段代码。这里**的dragAndDrop(x,y)**是Action 类的一个方法。分别采用两个参数（x，y），源位置和目标位置

```
try {
                System.out.println("Drag and Drom started :");
                Thread.sleep(12000);
                Actions actions = new Actions(webdriver);
                WebElement srcElement = webdriver.findElement(By.xpath("source Xpath"));
                WebElement targetElement = webdriver.findElement(By.xpath("Target Xpath"));
                actions.dragAndDrop(srcElement, targetElement); 
                actions.build().perform();
                System.out.println("Drag and Drom complated :");
            } catch (Exception e) {
                System.out.println(e.getMessage());
                resultDetails.setFlag(true);
            } 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2016-07-19T09:54:57.477

Selenium 有很好的文档。这是您正在寻找的 API 的特定部分的链接：

`WebElement element = driver.findElement(By.name("source"));`

`WebElement target = driver.findElement(By.name("target"));`

`(new Actions(driver)).dragAndDrop(element, target).perform();`

这是拖放单个文件，如何拖放多个文件。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2016-05-05T08:19:19.880

```
import com.thoughtworks.selenium.Selenium;
import org.openqa.selenium.firefox.FirefoxProfile;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.By;
//-------------------------------------------------------------------------
import org.openqa.selenium.WebElement;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.interactions.Action;    /*
      Move only
      @param o WebElement  to move
      @param d WebElement  destination element
    */
    m.drag={o,d->
       def lo=o.location;
       def ld=d.location;
       int di=ld.y - lo.y;
       int inc,lim
       if (di<0) 
       { inc=-1
         lim=ld.y+d.size.height
       }
       else
       { inc=1
         lim=ld.y
       }
       def fes={
                int act=o.location.y;
                println "act=${act} ${lim}";
                if (inc > 0)
                  return !(act>lim)
                else 
                  return !(act<lim)
               }
         def b =new Actions(driver);
            b.clickAndHold(o).perform();
            while ( fes() ){
              b.moveByOffset(0,inc);b.perform();sleep(20);
            }
            //
            b.release(m.ori).perform();
    }//drag 
```

# jquery - ListView 显示问题列表在 iPhone 和 iPad 上向右移动

> ID：14210057
> 
> 赞同：0
> 
> 时间：2013-01-08T07:22:29.000
> 
> 标签：jquery, iphone, ios, listview, jquery-mobile

**j-query mobile** - `ListView display issue`, 列出衬衫到右边`iPhone and iPad`。

我无法让 iPhone`ListView`正确显示项目。它似乎已经将整个列表向右移动了大约 15 px - 切断了右箭头的一部分并在列表的左侧留下了一个 GAP。页眉和页脚看起来很好，一切都很好地居中，`LISTVIEW`但`Iphone 5 and Ipad`.

在安卓和桌面上看起来很完美；问题的屏幕截图：http: [//montemayorstudios.com/mobile/iPhone-issue.png](http://montemayorstudios.com/mobile/iPhone-issue.png)

手机网站链接： http: [//montemayorstudios.com/mobile/](http://montemayorstudios.com/mobile/)

感谢您的任何帮助 - 请发送电子邮件；Marcel(at)MontemayorStudios.com

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T10:58:47.610

该问题似乎是由您的div的`align="center"`属性引起的。`content`删除此属性可修复偏移量。顺便说一句，您应该在 jQuery Mobile 中`content`的每个 div 上只使用一个 div`page`

# android - 错误：没有这样的列名

> ID：14210058
> 
> 赞同：0
> 
> 时间：2013-01-08T07:22:33.173
> 
> 标签：android, sqlite, android-sqlite

我一直在尝试执行查询：-

```
String selectQuery="SELECT "+ROLE+" FROM "+TABLE_EMPLOYEE+ " WHERE "+USER_ID+ "='"+userId+"' AND "+PASSWORD+"='"+password+"';";
cursorObj = dbObj.rawQuery(selectQuery, null); 
```

这将导致：-

```
SELECT Role FROM employee WHERE User_Id='HondaSE' AND Password='456'; 
```

日志猫说：-

```
01-08 12:05:10.070: W/System.err(9318): android.database.sqlite.SQLiteException: no such column:
 HondaQE: , while compiling: SELECT Role FROM employee WHERE User_Id=HondaQE AND Password=123; 
```

对于用户 ID 和密码，我也尝试使用双引号运行查询。导致：-

```
SELECT Role FROM employee WHERE User_Id="HondaSE" AND Password="456"; 
```

然而，当在 SQLITE 数据浏览器中执行时，这两个查询都可以正常工作。两者都以相同的错误响应。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:26:36.620

改写成这样

```
String selectQuery="SELECT "+ROLE+" FROM TABLE_EMPLOYEE " WHERE USER_ID ='" + userId + "' AND PASSWORD = '" +password+ "'"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:27:04.787

您的 logcat 显示如下。

```
while compiling: SELECT Role FROM employee WHERE User_Id=HondaQE AND Password=123; 
```

中的字符串没有单引号`User_Id=HondaQE AND Password=123`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:28:40.843

您没有正确编译原始查询。我建议您改用“查询”并使用选择参数来避免这些错误和可能的 sql 注入。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T09:07:15.157

在访问游标之前，我已经关闭了数据库。这就是错误。访问游标后，数据库将被关闭。错误已解决。

# gwt - CheckBox clickhandler 代码不起作用...没有编译时错误...查看快照

> ID：14210064
> 
> 赞同：0
> 
> 时间：2013-01-08T07:22:53.397
> 
> 标签：gwt

[CheckBox clickhandler](http://i.stack.imgur.com/ffiMo.png)代码不起作用...没有编译时错误...查看快照查看弹出窗口中没有图像的快照...我已将其突出显示

```
 cb1.addClickHandler(new ClickHandler(){

                public void onClick(ClickEvent event) {

                    System.out.println("hello2");
                    boolean checked = ((CheckBox) event.getSource()).getValue();
                    if (checked) {
                        System.out.println("hello3");
                        int left = toothWidget.getToothImage().getAbsoluteLeft();
                        int top =  toothWidget.getVPanel().getAbsoluteTop();//toothWidget.getToothImage().getAbsoluteTop();
                        Image im = new Image();
                        im.setUrl(GWT.getHostPageBaseURL()+"/images/"+menuItem.getImg());
                        System.out.println(GWT.getHostPageBaseURL()+"/images/"+menuItem.getImg());
                        int offx = left;
                        int offy = top;     
                        final PopupPanel popup1 = new PopupPanel(true);
                        popup1.setStylePrimaryName("transparent");
                        popup1.setPopupPosition(Math.max(offx, 0),Math.max(offy, 0));
                        //popup.add(im);
                        ToothWidget wgt = new ToothWidget(toothWidget.getToothNumber(),menuItem.getImg(), toothWidget.getTeeth());
                        toothWidget.getTeeth().getMap().get(toothWidget.getToothNumber()).put(menuItem.getName(), wgt);
                        wgt.setMenu(toothWidget.getMenu());
                        wgt.setPanel(popup1);
                        popup1.add(wgt);
                        popup1.show();
                    }

                    else{
                        ToothWidget wgt = toothWidget.getTeeth().getMap().get(toothWidget.getToothNumber()).remove(menuItem.getName());
                        wgt.getPanel().hide();
                    }
                }
             }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:40:07.017

尝试这个。最好使用肯定有效并用于更改值的 ValueChangeHandler。

```
CheckBox cb1 = new CheckBox();
cb1.addValueChangeHandler(new ValueChangeHandler<Boolean>() {

    @Override
    public void onValueChange(ValueChangeEvent<Boolean> event) {
            Boolean isChecked = event.getValue();
            if (isChecked) {
                    System.out.println("hello3");
                    int left = toothWidget.getToothImage().getAbsoluteLeft();
                    int top =  toothWidget.getVPanel().getAbsoluteTop();//toothWidget.getToothImage().getAbsoluteTop();
                    Image im = new Image();
                    im.setUrl(GWT.getHostPageBaseURL()+"/images/"+menuItem.getImg());
                    System.out.println(GWT.getHostPageBaseURL()+"/images/"+menuItem.getImg());
                    int offx = left;
                    int offy = top;     
                    final PopupPanel popup1 = new PopupPanel(true);
                    popup1.setStylePrimaryName("transparent");
                    popup1.setPopupPosition(Math.max(offx, 0),Math.max(offy, 0));
                    //popup.add(im);
                    ToothWidget wgt = new ToothWidget(toothWidget.getToothNumber(),menuItem.getImg(), toothWidget.getTeeth());
                    toothWidget.getTeeth().getMap().get(toothWidget.getToothNumber()).put(menuItem.getName(), wgt);
                    wgt.setMenu(toothWidget.getMenu());
                    wgt.setPanel(popup1);
                    popup1.add(wgt);
                    popup1.show();
                }
                else
                {
                    ToothWidget wgt = toothWidget.getTeeth().getMap().get(toothWidget.getToothNumber()).remove(menuItem.getName());
                    wgt.getPanel().hide();
                }

        }
    });
} 
```

另外，images/ 文件夹必须在 war forlder 中（尽管我认为您已经知道开发了这个站点）

还要检查`menuItem.getImg()`返回的内容。它可能只返回文件名，而不是扩展名或其他东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:33:39.373

WEB Dev 101 - 始终使用 FireFox/FireBug 的网络/图像控制台来检查 URL 不匹配。您将看到图像路径的 404 错误。

您的图像在哪里？

## 1）与您的 gwt.xml 平行的公共文件夹

如果您的 gwt 模块的公共文件夹中有 images 文件夹，则需要使用`im.setUrl(GWT.getModuleBaseURL()+"/images/"+menuItem.getImg());`

或者

## 2) webapps 文件夹

如果您将图像部署到您的战争/图像中，您需要使用 **`im.setUrl(GWT.getHostPageBaseURL()+"/images/"+menuItem.getImg());`**

如果上述方法不能解决问题，那么您可能在“图像”下根本没有图像

# php - 数组问题

> ID：14210071
> 
> 赞同：1
> 
> 时间：2013-01-08T07:23:59.757
> 
> 标签：php, arrays

我正在从我的数据库中获取一些数据，并且我的一列有来自一个用户的多个条目，例如 col(col1) values(a,b,c)。现在当我从这个数据库中选择数据时，我的数组看起来像这样，

```
Array
(
    [0] => srt
    [1] => qwe
    [2] => xyz
    [3] => abc
    [4] => 1
)
Array
(
    [0] => srt
    [1] => qwe
    [2] => xyz
    [3] => abc
    [4] => 2
)
Array
(
    [0] => srt
    [1] => qwe
    [2] => xyz
    [3] => abc
    [4] => 3
) 
```

现在我的数组显示只有数组的第四个元素不同。

我想将此数据插入到另一个表中，该表具有不同列的不同值，这意味着只有一行对应于一个用户。因此

col(col1) 变成 col(cola,colb,colc)。

现在我想插入

可乐 -> 1,colb -> 2,colc -> 3。

但我无法访问这些值。如果我选择 array[4] 那么如果我尝试这个**$array=array($result[4]);它会选择所有四个元素** 然后它创建一个结果数组但具有相同的索引值

```
Array ( [0] => 1 ) 
Array ( [0] => 2 ) 
Array ( [0] => 3 ) 
Array ( [0] => 4 ) 
```

我希望我能够澄清我的问题。

所以请给我一些建议，以便我可以以某种方式访问​​这些值。

谢谢 ！

**编辑**

**我的代码**

```
while($result= mysql_fetch_array($select))
{
echo "<pre>";
print_r($result);
$array=array($result[4]);

echo "</pre>";
print_r($array); 
```

**我的结果**

```
Array
(
    [0] => suresh.galaxy@gmail.com
    [email] => suresh.galaxy@gmail.com
    [1] => 2011-01-06 13:00:36
    [date_joined] => 2011-01-06 13:00:36
    [2] => 1
    [is_active] => 1
    [3] => 1
    [attribute_id] => 1
    [4] => suresh
    [info] => suresh
)

Array ( [0] => suresh )

Array
(
    [0] => suresh.galaxy@gmail.com
    [email] => suresh.galaxy@gmail.com
    [1] => 2011-01-06 13:00:36
    [date_joined] => 2011-01-06 13:00:36
    [2] => 1
    [is_active] => 1
    [3] => 2
    [attribute_id] => 2
    [4] => patidar
    [info] => patidar
)

Array ( [0] => patidar )

Array
(
    [0] => suresh.galaxy@gmail.com
    [email] => suresh.galaxy@gmail.com
    [1] => 2011-01-06 13:00:36
    [date_joined] => 2011-01-06 13:00:36
    [2] => 1
    [is_active] => 1
    [3] => 4
    [attribute_id] => 4
    [4] => e5c59af60000c8dff51e4e9a315ab152:vN
    [info] => e5c59af60000c8dff51e4e9a315ab152:vN
)

Array ( [0] => e5c59af60000c8dff51e4e9a315ab152:vN ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:40:26.507

你可以先做一个循环，然后从那里你可以在循环之后对数组进行切片

```
<?php
$arr = array();
while($result= mysql_fetch_array($select))
{
$arr[] = $result;

}

print_r($arr);

echo  $arr[0][4] ; 
```

# php - 需要一个网络播放器来与 php 集成

> ID：14210073
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:24:02.657
> 
> 标签：php, javascript, web-applications, web

是否有任何支持动态水印生成和随机位置显示的网络播放器可以与php集成..？我的目标是安全地在网站上传输视频..

建议答案时请记住一件事，水印不仅仅是为了品牌目的，而是一种安全功能，生成用户 ID 作为水印并在随机位置显示以防止分发受版权保护的视频

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:28:41.307

您可以使用 JWPlayer [http://www.longtailvideo.com/jw-player/](http://www.longtailvideo.com/jw-player/) 它具有与 PHP 轻松集成的功能。

# php - 如何以表格形式显示 php 3 级数组

> ID：14210074
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:24:06.017
> 
> 标签：php

目前我有一个 PHP 3 级数组。如何以表格形式显示它？使用 print_r 我可以显示完整的数组，但我需要美化它以表格形式显示。是否可以？

要插入的数组示例如另一篇文章所示：[PHP foreach with Nested Array?](https://stackoverflow.com/questions/3684463/php-foreach-with-nested-array)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:28:41.010

那么......数组的每一层都应该是一个嵌入的表？

```
<table>
    <?php // FIRST LEVEL
    foreach ($myArray as $first_level): ?>
    <tr>
        <td>The header of the first level, here's some data <?php echo $first_level['some_data']; ?></td>
    </tr>
    <tr>
        <td>
            <table>
            <?php // SECOND LEVEL
                foreach($first_level['second_level'] as $second_level): ?>
                    <tr>
                        <td><?php echo $second_level['some_data']; ?></td>
                    </tr>
            <?php endforeach; ?>
                </table>
        </td>
    </tr>
    <?php endforeach; ?>
</table> 
```

..并不断重复模式

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:34:54.690

有很多方法可以做到这一点，因为您没有为输出格式提供模板，所以更是如此……
让我们假设`$e`输入数组的每个元素`$src`代表表中的一行。
那么 $e[0] 是字符串元素 ( `one`, `two`, `three`) 并且 $e[1] 是对应的数组`1,2,3`,`4,5,6`或`7,8,9`。
让我们将 $e[0] 放入`<th>...</th>`元素中。

```
foreach( $src as $e ) {
  echo '<th>', $e[0], '</th>';
} 
```

然后将每个元素包装在 $e[1] in 中`<td>....</td>`。

```
foreach( $src as $e ) {
  echo '<th>', $e[0], '</th>';
  foreach($e[1] as $v) {
    echo '<td>', $v, '</td>';
  }
} 
```

现在把它包装成另一个`<tr>...</tr>`，你就完成了

```
foreach( $src as $e ) {
  echo '<tr>';
  echo '<th>', $e[0], '</th>';
  foreach($e[1] as $v) {
    echo '<td>', $v, '</td>';
  }
  echo "</tr>\r\n";
} 
```

同样的事情有点短（见[http://docs.php.net/join](http://docs.php.net/join)）

```
<?php
$src = getData();
foreach( $src as $e ) {
    echo '<tr><th>', $e[0], '</th><td>', join('</td><td>', $e[1]), "</td></tr>\n";
}

function getData() {
    return array(
        array( 'one', array(1,2,3) ),
        array( 'two', array(4,5,6) ),
        array( 'three', array(7,8,9) )
    );
} 
```

输出是

```
<tr><th>one</th><td>1</td><td>2</td><td>3</td></tr>
<tr><th>two</th><td>4</td><td>5</td><td>6</td></tr>
<tr><th>three</th><td>7</td><td>8</td><td>9</td></tr> 
```

另见：[http ://docs.php.net/htmlspecialchars](http://docs.php.net/htmlspecialchars)

# java - 如何在浏览器中过滤 Java Applet 控制台的输出？

> ID：14210075
> 
> 赞同：1
> 
> 时间：2013-01-08T07:24:07.963
> 
> 标签：java, browser, applet, console

我正在尝试在浏览器中调试我的小程序，并且 Java 控制台已启用。

基本上，对于每个类，如下所示的第二类消息都会被打印出来。我想摆脱它。

```
network: Cache entry not found [url: http://localhost/applet/org/jboss/netty/channel/ChannelFutureListener$2.class, version: null]
network: Connecting http://localhost/applet/org/jboss/netty/channel/ChannelFutureListener$2.class with proxy=DIRECT 
```

当然，我可以复制粘贴，保存在文件中，然后应用过滤器等等。有没有办法禁用这些消息以完全打印到控制台？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:36:12.857

这似乎是我忽略的唯一机会

* * *

```
c:   clear console window
f:   finalize objects on finalization queue
g:   garbage collect
h:   display this help message
l:   dump classloader list
m:   print memory usage
o:   trigger logging
q:   hide console
r:   reload policy configuration
s:   dump system and deployment properties
t:   dump thread list
v:   dump thread stack
x:   clear classloader cache
0-5: set trace level to <n>
---------------------------------------------------- 
```

**`0-5: set trace level to <n>`**可以过滤所有网络消息

[http://docs.oracle.com/javase/1.4.2/docs/guide/plugin/developer_guide/tracing_logging.html](http://docs.oracle.com/javase/1.4.2/docs/guide/plugin/developer_guide/tracing_logging.html)

# bash - Jonathan Corbet 在 Linux 设备驱动程序中的 /dev 条目生成器脚本

> ID：14210078
> 
> 赞同：0
> 
> 时间：2013-01-08T07:24:34.310
> 
> 标签：bash, shell, linux-device-driver, embedded-linux

我已经开始学习“Linux Device Drivers 3rd ed”，但我无法理解以下脚本的语法。我知道基本的 shell 脚本，并且可以使用 awk 实用程序来制作基本程序

Q1)/sbin/insmod ./$module.ko $* || 退出 1 a) 说明 insmod 的完整路径需要什么？b）我使用 ./ 来调用可执行文件，但从未在命令中间看到 ./。c) 是 $module=scull??? d) $* 是什么意思？e) 双棒是干什么用的？

Q2)major=$(awk "\$2= =\"$module\" {print \$1}" /proc/devices) 这条 awk 语句通过哪些步骤为我们获取 scull 设备？我没有得到双斜杠“\”和双等号。

```
#!/bin/sh
module="scull"
device="scull"
mode="664"
# invoke insmod with all arguments we got
# and use a pathname, as newer modutils don't look in . by default
/sbin/insmod ./$module.ko $* || exit 1   
# remove stale nodes   
rm -f /dev/${device}[0-3]   
major=$(awk "\\$2= =\"$module\" {print \\$1}" /proc/devices)
mknod /dev/${device}0 c $major 0
mknod /dev/${device}1 c $major 1
mknod /dev/${device}2 c $major 2
mknod /dev/${device}3 c $major 3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:39:36.197

第一季度

a) 需要说明 insmod 的完整路径，因为即使您位于 PATH 中未定义的位置，它也始终可以访问
b) ./something 表示某物是位于当前路径中的文件。./$module.ko 表示文件 ./scull.ko
c) 与 b
d) $* 表示您为 shell 脚本提供的任何参数。
e) 双管（或 bat）是指 OR。这意味着，insmod 模块，或者如果失败，退出并返回值 1

我没有 Q2 的答案。对不起。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:37:00.763

A1.a：当环境不包含 $PATH 变量或 $PATH 不包含“/sbin”路径时，需要 insmod 的绝对路径。A1.b：问题在哪里？“./” - 只是相对路径。当您需要从当前目录访问某些文件对象时使用它。在“./”表达式的常见情况下，“点”替换 $(pwd) 命令的输出，但不是更快更短。A1.c：是的，在这个名为“scull”的代码模块中将被加载。什么问题？A1.d：“$*”是一个特殊的shell变量，包含所有传递给这个脚本的参数。A1.d：“||” 是一个逻辑“或”运算符。

我需要阅读一些关于 bash 的内容，例如[Advanced Bash-Scripting Guide](http://tldp.org/LDP/abs/html/)。本指南前段时间帮助了我。

Q2：

```
major=$(awk "\\$2= =\"$module\" {print \\$1}" /proc/devices) 
```

在这一行

```
awk "\\$2= =\"$module\" {print \\$1}" /proc/devices 
```

作为分配给“主要”变量的子shell和标准输出运行。在我的 linux 机器中，由于语法错误，这个 awk-command 不起作用，但我在这里认识到 awk-actions。在这种情况下，/proc/devices 的内容被解析，如果第二个单词是等值的“模块”变量，那么将执行大括号中的代码。换句话说，如果该行的第二个单词是“scull”，则打印该行的第一个单词。在我的 linux 框中，这条线工作正常：

```
major=$(awk "\$2 == \"$module\" {print \$1}" /proc/devices) 
```

# javascript - 在 XmlHttpRequest 的 readyState 更改和 onreadystatechange 事件处理程序执行中的命令？

> ID：14210079
> 
> 赞同：1
> 
> 时间：2013-01-08T07:24:39.883
> 
> 标签：javascript, ajax, xmlhttprequest, xmlhttprequest-states

我对有关 XmlHttpRequest 对象的时间行为有疑问。

是否保证 readyState 值更新和相应的 onreadystatechange 事件处理程序调用连续执行？

我查看了 W3C 上的 JavaScript 规范 (http://www.w3.org/TR/2006/WD-XMLHttpRequest-20060405)，但是没有明确指定 readyState 的时间行为来回答这个问题。

我运行了一个小示例代码来检查这个问题，并发现至少在 Firefox 中，无法在 readyState 更新和 onreadystatechange 事件处理程序执行之间安排其他事件处理程序。

# qt - 需要知道在 Qt 中实现 QDateTimeEdit 时单击了向上/向下箭头按钮吗？

> ID：14210081
> 
> 赞同：0
> 
> 时间：2013-01-08T07:25:17.827
> 
> 标签：qt, qdatetime

需要知道 `QDateTimeEdit`在 Qt 中实现时单击了向上/向下箭头按钮吗？

我想捕捉在更改时间时单击了哪个按钮 UP/DOWN。请告诉我捕获此信号的功能。

请尽快回复我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:57:40.330

这很简单。

要抓住这一点，您必须创建自己的类，继承自`QDateTimeEdit`并重新实现 `stepBy(int steps)`函数。

因此，您的课程将如下所示：

```
class MyDateTime : public QDateTimeEdit
{
    Q_OBJECT
public:
    MyDateTime(QWidget *parent = 0);

public slots:
    void stepBy(int steps);
}; 
```

并实施`void stepBy(int steps)`：

```
void MyDateTime::stepBy(int steps)
{
    // here you can do your own business
    if (steps!=0)
        qDebug( steps > 0
                ? "going up"
                : "going down" );
    // we must call it to provide QDateTimeEdit's
    // functionality
    QDateTimeEdit::stepBy(steps);
} 
```

祝你好运！

# android - BlackBerry 加密 AES 256 - 无填充

> ID：14210082
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:25:18.697
> 
> 标签：android, blackberry, encryption, aes

我想使用 AES 256 加密方法加密 BlackBerry 中的数据。要求是使用无填充加密；“ **AES/ECB/NoPadding** ”。我正在传递一个 16 字节数组，返回的加密数据是长度为 32 的十六进制值。我尝试了以下方法，但没有产生正确的结果。返回值与预期的加密值不同；在安卓中测试。Android 和黑莓之间的结果并不相符。我使用了以下方法：

```
public static String EncryptData(byte[] keyData, byte[] data) throws Exception {      
          String encryptedData = "";        
          AESKey key = new AESKey(keyData);
          NoCopyByteArrayOutputStream out = new NoCopyByteArrayOutputStream();
          AESEncryptorEngine engine = new AESEncryptorEngine(key);
          BlockEncryptor encryptor = new BlockEncryptor(engine, out);
          encryptor.write(data, 0, data.length);
          int finalLength = out.size();
          byte[] cbytes = new byte[finalLength];
          System.arraycopy(out.getByteArray(), 0, cbytes, 0, finalLength);
          encryptedData = getHexString(cbytes);
          return encryptedData;
      } 
```

任何人都可以请指导吗？

编辑：下面是等效的 Android 代码：

```
Dim Kg As KeyGenerator
    Dim c As Cipher
    c.Initialize("AES/ECB/NoPadding") ' just "DES" actually performs "DES/ECB/PKCS5Padding". 
    Kg.Initialize("DESede")
    Kg.KeyFromBytes(key)
    bytes = Kg.KeyToBytes
    msg_data = c.Encrypt(msg_data, Kg.key, False)
    Return Bconv.HexFromBytes(msg_data) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:50:14.007

您的 Basic4Android 代码中有错误。您使用 AES 初始化密码：

```
c.Initialize("AES/ECB/NoPadding") 
```

但随后使用 TripleDES 初始化密钥生成器：

```
Kg.Initialize("DESede") 
```

根据[此文档](http://www.basic4ppc.com/android/help/encryption.html#keygenerator)，只需将“DESede”更改为“AES”：

```
Kg.Initialize("AES") 
```

此外，我不建议将 AES 与 ECB 一起使用且不使用填充。这是不安全的，尤其是当它同样容易使用 CBC 或 CTR 模式时。请参阅[此 wikipedia 文章](http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation#Electronic_codebook_.28ECB.29)，了解它实际上有多不安全的示例。

# javascript - 如何沟通两个网络工作者html5？

> ID：14210086
> 
> 赞同：1
> 
> 时间：2013-01-08T07:25:27.483
> 
> 标签：javascript, jquery, html, web-worker

我正在浏览 webworkers 文档，我找不到任何支持两个 webworkers 之间通信的 api。这是我的上下文，现在我需要直接将worker1与worker2通信吗？不是来自用户界面。它就像线程消息传递。

应用程序.js

```
var worker1 = new Worker("worker1.js");
var worker2 = new Worker("worker2.js");

worker1.onmessage=function(e) {
   console.log("msg from worker1"+e.data);
}
worker1.postMessage("ping worker1");

worker2.onmessage=function(e) {
   console.log("msg from worker2"+e.data);
}
worker2.postMessage("ping worker2"); 
```

worker1.js

```
onmessage=function(e) {
   postMessage(e.data)
} 
```

worker2.js

```
onmessage=function(e) {
   postMessage(e.data)
} 
```

1.  是否可以 ？
2.  是否有任何 HTML5 API 支持它？
3.  如果支持我如何实现直接通信？

如果可能，请粘贴一些示例来执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T11:50:02.333

在 MessageChannel 工作了一段时间后，我得到了解决方案。这是[工作链接的演示](http://www.antkorp.in/workersComm/)

# apache - Varnish Cache - 网页的初始缓存

> ID：14210099
> 
> 赞同：2
> 
> 时间：2013-01-08T07:26:47.470
> 
> 标签：apache, caching, varnish, varnish-vcl

我已经用我的 Apache Web 服务器安装了 Varnish 缓存并正确配置了它们。它工作正常，我现在可以通过 Varnish Cache 访问我的网页。

varnish 的默认行为是存储 Web 服务器提供的页面的副本。下次请求同一页面时，Varnish 将提供副本，而不是从 Apache 服务器请求该页面。

现在我的问题来了：是否可以在设置 Varnish 缓存后最初缓存我的整个网站，而无需访问页面然后将其存储在缓存中？这是因为，在设置清漆之后，缓存最初是空的，它需要访问一个页面才能在缓存上可用。这可以在不必手动访问每个页面的情况下完成吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-09T12:46:46.350

您正在寻找的是一种预热缓存的方法。您可以使用[Web 爬虫](http://en.wikipedia.org/wiki/Web_crawler)，例如 Wget 或 HTTrack 来浏览您的站点[`varnishreplay`](https://www.varnish-cache.org/docs/3.0/reference/varnishreplay.html)。或者，如果您有页面的[站点地图](http://www.sitemaps.org/)，您可以将其用作起点，并通过循环访问缓存并使用 curl 或 wget 在页面上发出请求来预热缓存。

使用 varnishreplay 需要您首先运行 varnishlog 并收集流量日志，然后才能稍后使用它来回放流量和预热缓存。

Wget、HTTrack 等可以指向您的主页，它们会爬过您的网站。但是，根据您网站的大小和性质，这可能并不实用（例如，如果您广泛使用 Ajax）。

除非您的页面需要很长时间才能从后端服务器（即 Apache）加载，否则我不会过多担心预热缓存。如果缓存内容的 TTL 足够高，大多数访问者无论如何都只会收到缓存内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-17T15:24:12.943

有一种更好的方法可以做到这一点，它使用 req.hash_always_miss 并与 Varnish 3 和 4 一起使用（也使用站点地图）。它可以预热您的缓存并刷新旧页面，而无需清除缓存。此处概述了完整的图表、如何配置它的大纲和 3 个用于各种用例的脚本[http://www.htpcguides.com/smart-warm-up-your-wordpress-varnish-cache-scripts/](http://www.htpcguides.com/smart-warm-up-your-wordpress-varnish-cache-scripts/)并且很容易适应非 WordPress 网站。

# html - 可以使用 mySQL 数据创建画布吗？

> ID：14210101
> 
> 赞同：0
> 
> 时间：2013-01-08T07:26:50.693
> 
> 标签：html, mysql, canvas, graph

我想画一些简单的图表。

我想知道 mySQL 数据是否可以与 canvas 函数一起用于这样的功能？

任何见解都会很棒，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T17:14:13.570

我认为之前的一些回答完全误解了你的要求。您基本上是在寻找一种方法来利用存储在 MySQL 数据库中的数据并使用它来填充基本 HTML 5 图形的 X 和 Y 值（canvas API 的基本可选输出）。听起来您已经知道如何使用 HTML 5 制作这样的图表，并且带有“静态”的示例很棒。现在，您想了解如何使用来自 MySQL 等数据库的动态数据进行填充。我一直在寻找相同的答案，并在 stackoverflow 上找到了这个线程，应该可以帮助您[如何使用 PHP 使用数据库中的值填充 javascript 数组？](https://stackoverflow.com/questions/1416908/how-can-i-populate-a-javascript-array-with-values-from-a-database-using-php)

如果您知道如何使用 PHP 连接到数据库并将基本的 SQL 查询发送到您的数据库，那么剩下的就相当容易了。该 URL 概述了许多不同的方法，但我认为最简洁的方法是对通过 PHP 检索的数据进行 JSON 编码。这是我要尝试的示例。

```
$array = array();
while ($row = mysql_fetch_assoc($result)) {
    $array[] = $row['key'];
}
echo 'var array = '.json_encode($array).';'; 
```

请注意，所有代码都是 PHP，因此您需要使用正确的打开和关闭标记。最后一行是将检索到的数据存储到 PHP 数组中，用 JSON 编码，从而创建一个 javascript 可以使用的数组。现在，编写画布代码并循环遍历编码数组以动态创建图形。

我希望这可以为您指明正确的方向……并为那些之前如此傲慢的响应者感到羞耻。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:29:00.050

是的，显然这是可能的。您将对数据进行 JSON 编码以使其可用于您的 JavaScript 代码，然后像使用任何其他数据一样使用它。因为它毕竟是这样的：*数据*。不管它存储在哪里/来自哪里。

# sql - DB2 中视图的定义

> ID：14210107
> 
> 赞同：2
> 
> 时间：2013-01-08T07:27:18.490
> 
> 标签：sql, db2

是否有任何查询/SQL 语句可以查看`view`in 的定义`DB2`？

我尝试了以下方法，它导致错误，如下所示

```
 SELECT * FROM SYSCAT.VIEWS 
```

![在此处输入图像描述](../Images/8c5a6b8264da9bb5de6e8a23891bb66e.png)

**参考**：

1.  [显示创建视图定义](https://stackoverflow.com/questions/2341072/show-create-view-definition)
2.  [如何查看 DB2 表结构](https://stackoverflow.com/questions/2973186/how-to-view-db2-table-structure)

**版本**：

下面列出了基于[How to check db2 version的测试结果（针对版本）](https://stackoverflow.com/questions/3821795/how-to-check-db2-version)

![在此处输入图像描述](../Images/ef7e2b3c8a97c82860e7e3db0fb66336.png)

* * *

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T14:51:20.853

如果您对数据库具有管理员权限，则可以使用该`db2look`实用程序：

```
db2look.exe -i your_userid -w your_password -d your_database -e -t your_table 
```

更改以 开头的变量`your_`。

如果这对您不起作用，您应该能够：

```
SELECT TEXT
FROM SYSIBM.SYSVIEWS 
```

如果您的平台（由于某种原因我看不到您的图片）是 Mainframe DB2 (z/OS)，那么请注意目录视图只会显示定义的一部分，如果它很长，它将是切断（在我的 z/OS v9.1 上，它只显示定义的前 1500 个字符）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-25T09:33:21.000

```
select name, cast(text as varchar(8000))
from SYSIBM.SYSVIEWS
where name='your table name' 
```

在声明中是视图定义......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-23T11:46:05.250

```
 select name, cast(text as varchar(10000))
      from SYSIBM.SYSVIEWS
      where name='YourVIEW' 
```

# java - 从客户端的 wsdl 文件中获取 SOAP 请求和响应

> ID：14210109
> 
> 赞同：0
> 
> 时间：2013-01-08T07:27:21.573
> 
> 标签：java, soap, axis2, axis

我将 Apche Axis2 用于 Web 服务客户端。我知道要获得 Web 服务的输出。但我想从 wsdl 文件中获取肥皂请求和响应。

我的wsdl是`http://localhost:8080/getDetails?wsdl`

如果有人能分享他们的经验，那就太好了。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:33:27.843

如果您想为此使用软件，请使用 SoapUI。

如果您想从 Java 中执行此操作，您有这些选项。

1.  `wsdl2java`使用命令为 SOAP 客户端生成类。有很多方法可以做到这一点，具体取决于您使用的实现。

2.  使用 maven 插件为 SOAP 客户端生成类，使用这个[axistools-maven-plugin](http://mojo.codehaus.org/axistools-maven-plugin/)

在搜索具有名称“...Locator”和“..PortType”的类之后，使用这些类。

或者，

搜索具有所有公开方法的接口并找到实现它的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:52:51.003

使用[SoapUI](http://sourceforge.net/projects/soapui/files/soapui/4.0/)工具，提供您的 WSDL 路径到此工具，如果您单击特定操作，它将从 WSDL 加载所有操作，您可以获得示例 SOAP 请求（XML 有效负载）。

# function - 使用 GUI 之外的函数更新 GUI (MATLAB)

> ID：14210110
> 
> 赞同：0
> 
> 时间：2013-01-08T07:27:25.007
> 
> 标签：function, matlab, user-interface

我正在尝试使用 GUI 之外的功能。它是一个 .m 文件，我想更新 GUI 组件，即 handles.axes6 和 handles.axes7。以下是 GUI m 文件中的脚本。

```
function pushbutton8_Callback(hObject, eventdata, handles)

h1 = handles.axes6; 
h2 = handles.axes7;

mousemotion(h1,h2); 
```

功能代码（GUI外）

```
function mousemotion(click)
 global rdata;
 nargin<1
   set(gcf,'WindowButtonDownFcn','mousemotion(''down'')');
   set(gcf,'WindowButtonUpFcn','mousemotion(''up'')');
   set(gcf,'WindowButtonMotionFcn','');
   axis vis3d 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T12:35:40.920

在 GUI 打开函数中，导出您的 GUI 句柄和轴句柄，然后从您需要的函数中获取它们，如下所示：

```
function figure_OpeningFcn(hObject, eventdata, handles,varargin)

%// This function has no output args, see OutputFcn.
%// hObject    handle to figure
%// eventdata  reserved - to be defined in a future version of MATLAB
%// handles    structure with handles and user data (see GUIDATA)
%// varargin   command line arguments to DatabaseViewerApp (see VARARGIN)

%// Choose default command line output for DatabaseViewerApp
handles.output = hObject;

%// Update handles structure
guidata(hObject, handles);
%// UIWAIT makes DatabaseViewerApp wait for user response (see UIRESUME)
%// uiwait(handles.mainFigure);

    %//set the current figure handle to main application data
    setappdata(0,'figureHandle',gcf);

    %//set the axes handle to figure's application data
    setappdata(gcf,'axesHandle1',handles.axes6);

    %//set the axes handle to figure's application data
    setappdata(gcf,'axesHandle2',handles.axes7);

end 
```

然后在任何函数 func1 中，按如下方式使用它们：

```
function varargout = func1(varargin)

%// get the figure handle from the application main data
figureHandle = getappdata(0,'figureHandle');

%// get the axes handle from the figure data
axesHandle1 = getappdata(figureHandle,'axesHandle1');

%// get the axes handle from the figure data
axesHandle2 = getappdata(figureHandle,'axesHandle2');

%// And here you can write your own code using your axes

end 
```

# jsf - 如何在使用时自动隐藏/关闭错误消息 ?

> ID：14210116
> 
> 赞同：2
> 
> 时间：2013-01-08T07:27:58.883
> 
> 标签：jsf, user-interface, primefaces

`<p:message>`我有这个规范，当由于验证消息或其他原因显示错误消息（使用时）时，它应该在一段时间后自动关闭。

我怎样才能做到这一点？

我正在使用素面

请给我一个解决方案

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T08:10:29.833

假设您的页面中有以下代码

```
<h:form id="form1">  
    <p:messages id="messages" 
```

你有一个`<p:commandButton`

比你可以做的事情（你可能需要替换`$`为`jQuery`）

```
<p:commandButton onsuccess="setTimeout ( '$(\'#form1\\\\:messages\').hide()', 100);"... 
```

请注意，我使用`\'`and`\\\\`来逃避`'`and`\\`

你可以以毫秒为单位指定超时延迟，我用`100`毫秒

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-08T08:04:45.417

您可以为此使用 jQuery。尝试将函数`delay()`和`hide()`. 以下是链接： [hide](http://api.jquery.com/hide/)和[delay](http://api.jquery.com/delay/)。

# javascript - 纯 Javascript，没有 jquery

> ID：14210119
> 
> 赞同：1
> 
> 时间：2013-01-08T07:28:21.343
> 
> 标签：javascript

我正在制作一个屏幕键盘，我坚持用大写锁定键和 shift 键制作代码..有人吗？

这是我的代码：

```
function number_write(x){
    var text_box = document.getElementById("number");
    if(x=='tab')
        text_box.value=text_box.value+'\t';
    else if(x=='enter')
        text_box.value=text_box.value+'\n';
    else if(x=='backspace')
        text_box.value=text_box.value.slice(0,-1);
    else text_box.value = text_box.value+x;
} 
```

你能添加大写锁定和移位的代码吗？谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:31:08.943

你在找这个吗（假设 x 是关键事件）

```
x.shiftKey
x.ctrlKey
x.altKey 
```

他们非常适合谷歌搜索

[http://javascript.about.com/od/byexample/a/events-keymodifier-example.htm](http://javascript.about.com/od/byexample/a/events-keymodifier-example.htm)

```
if (x.which==bla && x.shiftKey)... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:52:37.923

您正在寻找一个`String.prototype.toUpperCase()`

例子：

```
var x = 's';
x.toUpperCase();
console.log(x); // 'S' 
```

这就是 CapsLock/Shift“功能”。

但你正在重新发明轮子。

看起来您正在检查一个元素以传递一个函数，该函数将更改输入元素中的值。

因此，如果您想使用 Javascript 中的事件触发器来制作“键盘”会更容易。

查看这篇[关于刺激键的帖子](https://stackoverflow.com/questions/961532/firing-a-keyboard-event-in-javascript)。

现在您可以映射您的“虚拟键盘”来触发其他元素中的按键模拟。

对于 CapsLock，您需要在事件中使用它参数的 force。

这是[keydown 事件的参考](https://developer.mozilla.org/en-US/docs/Mozilla_event_reference/keydown)。因此，您可以构建自己的，使用或不使用 shift/CapsLock/Alt...

最后你可以在 google 上搜索 Javascript Virtual Keyboard，你可能会找到这样的项目：[https ://github.com/cantrell/VirtualKeyboard](https://github.com/cantrell/VirtualKeyboard)

# google-maps - 按位置标记位置 google maps v3

> ID：14210122
> 
> 赞同：0
> 
> 时间：2013-01-08T07:28:33.780
> 
> 标签：google-maps, location

我想提供一个功能，比如用户将提供一个城市、州和国家。然后我的目标是在谷歌地图上标记用户提供的位置。

我的代码是：

```
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)">
    <meta name="dcterms.created" content="Tue, 08 Jan 2013 05:31:17 GMT">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <title></title>
    <?php
// get and breakdown the results then store them in $var's
$Address = "99999 parkplace, new york, NY";
$urladdress = urlencode($Address);
$Base_url = "http://maps.google.com/maps/geo?q=";
$urlParts = "&output=xml";
$urlrequest = $Base_url . $urladdress . $urlParts;
$xml = simplexml_load_file($urlrequest);
$num = "0";
$value=$xml->Response->Placemark;
    $GeoFindAdd{$num} = $value->address;
    $GeoFindCords{$num} = $value->Point->coordinates;
?>
    <script
src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false">
</script>
    <script>
        var myCenter=new google.maps.LatLng(<?php echo $GeoFindCords{$num}; ?>);

function initialize()
{
var mapProp = {
  center:myCenter,
  zoom:5,
  mapTypeId:google.maps.MapTypeId.ROADMAP
  };

var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

var marker=new google.maps.Marker({
  position:myCenter,
  });

marker.setMap(map);
}

google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
<div id="googleMap" style="width:500px;height:380px;"></div>
  </body>
</html> 
```

代码的输出是

[http://wfs-01.wapka.mobi/300030/300030787_6850a0ae9a.png](http://wfs-01.wapka.mobi/300030/300030787_6850a0ae9a.png)

我做错了什么吗？或通过提供位置来标记位置的任何其他方式。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:48:11.843

我得到了答案

```
<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="utf-8">

<meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)">

<meta name="dcterms.created" content="Tue, 08 Jan 2013 05:31:17 GMT">
    <meta name="description" content="">

<meta name="keywords" content="">

<title></title>

<script
src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false">
</script>

<script>

var geocoder, map;

function initialize() {

geocoder = new google.maps.Geocoder();

var latlng = new google.maps.LatLng(10, 10);

var myOptions = {
    zoom: 0,
    center: latlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }

map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

codeAddress();

}

function codeAddress() {

var address = "Kottayam, Kerala";

geocoder.geocode( { 'address': address}, function(results, status) {

if (status == google.maps.GeocoderStatus.OK) {

map.setCenter(results[0].geometry.location);

var marker = new google.maps.Marker({

map: map, 

position: results[0].geometry.location
      });

} 
else {

alert("Geocode was not successful for the following reason: " + status);
    }
  });
}

</script>

</head>

<body onload="initialize()">
 <div id="map_canvas" style="width: 320px; height: 480px;"></div>

</body>
</html> 
```

# c# - c# 正则表达式组

> ID：14210133
> 
> 赞同：-3
> 
> 时间：2013-01-08T07:29:08.750
> 
> 标签：c#, regex

如何将字符串转换为组

细绳：

```
TableStart:Name="valueName";ClassName="valueClassName";MasterDatasource="valueMasterDatasource";Condition="valueCondition";ConditionParams="valueConditionParams";OrderBy="valueOrderBy" 
```

输出组：

```
Name = "valueName"
ClassName = "valueClassName"
MasterDatasource = "valueMasterDatasource"
Condition = "valueCondition"
ConditionParams = "valueConditionParams"
OrderBy = "valueOrderBy" 
```

正则表达式？

```
TableStart:Name=(?<Name>".*");ClassName=(?<ClassName>".*");MasterDatasource=(?<MasterDatasource>".*");Condition=(?<Condition>".*");ConditionParams=(?<ConditionParams>".*");OrderBy=(?<OrderBy>".*") 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:38:29.373

尝试使用此代码段：

```
var s = "TableStart:Name=\"valueName\";ClassName=\"valueClassName\";MasterDatasource=\"valueMas" +
"terDatasource\";Condition=\"valueCondition\";ConditionParams=\"valueConditionParams\"" +
";OrderBy=\"valueOrderBy\"";

var reg = new Regex("TableStart:Name=(?<Name>\".*\");ClassName=(?<ClassName>\".*\");MasterDatasource=(?<Ma" +
"sterDatasource>\".*\");Condition=(?<Condition>\".*\");ConditionParams=(?<ConditionPa" +
"rams>\".*\");OrderBy=(?<OrderBy>\".*\")");

Match match = reg.Match(s);
GroupCollection groups = match.Groups;
for (int i = 1; i < groups.Count; i++)
{
    Console.WriteLine("{0} = {1}", reg.GroupNameFromNumber(i), groups[i].Value);
} 
```

印刷：

```
Name = "valueName"
ClassName = "valueClassName"
MasterDatasource = "valueMasterDatasource"
Condition = "valueCondition"
ConditionParams = "valueConditionParams"
OrderBy = "valueOrderBy" 
```

**编辑：**或者您可以使用更简洁和更短的正则表达式

```
var reg = new Regex("\\w+\\=\"\\w+\"");

foreach (Match match in reg.Matches(s))
{
    var values = match.Value.Split('=');
    Console.WriteLine ("{0} = {1}",values[0], values[1]);
} 
```

打印相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:38:43.953

无正则表达式的替代方案：

```
string input = "TableStart:Name=\"valueName\";ClassName=\"valueClassName\";MasterDatasource=\"valueMasterDatasource\";Condition=\"valueCondition\";ConditionParams=\"valueConditionParams\";OrderBy=\"valueOrderBy\"";
input = input.Replace("TableStart:", "");
string[] nameValues = input.Split(';');
foreach (string nameValue in nameValues){
    string[] couple = nameValue.Split('=');
    string name = couple[0];
    string value = couple[1].Trim('"');
    Console.WriteLine("{0} = {1}", name, value);
} 
```

# joomla - 如何在joomla中从我的自定义表单字段类型中获取保存的值？

> ID：14210141
> 
> 赞同：2
> 
> 时间：2013-01-08T07:29:31.987
> 
> 标签：joomla, joomla2.5

我已经为一个模块创建了我的自定义表单字段。但是，它会起作用，但是当我回到模块时，我不知道以前的值或保存的值是什么，因为我没有在那里选择它。

```
<?php
// Check to ensure this file is included in Joomla!
defined('_JEXEC') or die('Restricted access');

jimport('joomla.form.formfield');

class JFormFieldSlidercategory extends JFormField {

    protected $type = 'Slidercategory';

    // getLabel() left out

    public function getInput() {

                $db = JFactory::getDBO();
                $query = $db->getQuery(true);
                $query->select('id,title');
                $query->from('#__h2mslider_categories');
                $db->setQuery((string)$query);
                $messages = $db->loadObjectList();
                $options ='';

                if ($messages)
                {
                        foreach($messages as $message) 
                        {
                                $options .= '<option value="'.$message->id.'" >'.$message->title.'</option>';
                        }
                }

                $options = '<select id="'.$this->id.'" name="'.$this->name.'">'.
                       '<option value="0" >--select a category--</option>'.
                       $options.
                       '</select>';

                return $options ;

    }
} 
```

我需要返回保存值的函数。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:51:42.033

你可以使用这个来获得价值- `$this->value`

或者你可以试试这个代码选择框 -

```
// No direct access to this file
defined('_JEXEC') or die;

// import the list field type
jimport('joomla.form.helper');
JFormHelper::loadFieldClass('list');

class JFormFieldSlidercategory extends JFormFieldList
{
    /**
     * The field type.
     *
     * @var     string
     */
    protected $type = 'Slidercategory';

    /**
     * Method to get a list of options for a list input.
     *
     * @return  array       An array of JHtml options.
     */
    protected function getOptions() 
    {
        $db = JFactory::getDBO();
            $query = $db->getQuery(true);
            $query->select('id,title');
            $query->from('#__h2mslider_categories');
            $db->setQuery((string)$query);
            $messages = $db->loadObjectList();

        $options = array();
        if ($messages)
        {
            foreach($messages as $message) 
            {
                $options[] = JHtml::_('select.option', $message->id, $message->title);
            }
        }

        $options = array_merge(parent::getOptions(), $options);     
        return $options;
    }
} 
```

# javascript - 比较输入值与 0 轨迹

> ID：14210142
> 
> 赞同：1
> 
> 时间：2013-01-08T07:29:34.047
> 
> 标签：javascript, jquery

我发现当 jQuery 得到一个值为 0（例如 100）trail 的值时，它会忽略它。因此，如果我比较 5>100，则结果为真。那么我该如何解决呢？这是HTML代码：

```
<form id="target">
    <input type="text" id="max"  value="100"/>
    <input type="text" id="number" />
    <input id="submit" type="submit" value="submit" />
</form> 
```

这是jquery：

```
$('#target').submit( function() {
  var a = $("#number").val();
  var b = $("#max").val();
  if( a > b){
     alert("exceed limit"); 
  }

return false;
}); 
```

在这里你可以看到演示：http: [//jsfiddle.net/yqMGG/91/](http://jsfiddle.net/yqMGG/91/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:32:00.483

您需要比较数值，而不是字符串值。该`.val()`函数的输出是根据[DOM Level 2](http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-6043025)的 DOMString 值，它表示：

> ```
> interface HTMLInputElement : HTMLElement {
>   ...
>   attribute DOMString       value;
>   ...
> } 
> ```

所以你的 (5 > 100) 测试确实`"5" > "100"`是真的，因为字符串是按字典顺序比较的。

解决方法是改变

```
if( a > b){ 
```

到

```
if(+a > +b){ 
```

`+`前缀运算符将其参数强制为一个数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:31:29.520

使用`parseFloat()`，否则这些值被视为字符串。

```
$('#target').submit( function() {
  var a = parseFloat($("#number").val());
  var b = parseFloat($("#max").val());
  if( a > b){
     alert("exceed limit"); 
  }

    return false;
}); 
```

看**[演示](http://jsfiddle.net/arvind07/yqMGG/93/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:50:30.843

您可以将其乘以 1 以将其从字符串转换为数字，或使用 parseInt

```
var a = $("#number").val() * 1; 
```

或者

```
var a = parseInt($("#number").val(), 10); 
```

parseInt 函数的第二个参数是基数。

# jquery - 将锚点悬停在跨度内时发生多个事件

> ID：14210145
> 
> 赞同：0
> 
> 时间：2013-01-08T07:29:59.477
> 
> 标签：jquery, html

我试图在悬停时为图像上色，我也希望删除图标出现在图像上，我面临的问题是当鼠标悬停在删除图标上时，许多事件不断发生。

这是HTML

```
 <span class="imageContent" >
  <a  class="imgOverlay" href="http://4.bp.blogspot.com/-yAOYE3-J1mo/TmsnBJ6ucYI/AAAAAAAABcA/5ZKqEv3p-6I/s1600/36676-sky_blue.jpg" target="_blank" >
       <img src="http://4.bp.blogspot.com/-yAOYE3-J1mo/TmsnBJ6ucYI/AAAAAAAABcA/5ZKqEv3p-6I/s1600/36676-sky_blue.jpg" />
   </a>
    <a href="" name="deleteImg" class="delete">delete</a>
 </span> 
```

这是js

```
 $(".imgOverlay > img").hover(function(e){

    $(this).fadeTo("fast",0.3);
    $('.delete').css('display','inline-block');
},function(e){

    $(this).fadeTo("fast",1.0);
    $('.delete').css('display','none');
});

$(".imgOverlay > .delete").hover(function(e){

    $('.delete').css('display','inline-block');
},function(e){ 
    $('.delete').css('display','none');
});

$('.imgOverlay .delete').click(function(e){
  alert('click');
}); 
```

这是一个现场示例 [http://jsbin.com/asehuq/1/edit](http://jsbin.com/asehuq/1/edit)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:39:29.510

试试这个代码：

```
$(".delete").hover(function (e) {
  //e.stopPropagation(); <----this is not required because your element is not 
  //                          the child of the ".imgOverlay"
  e.preventDefault();

  $('.delete').css('display', 'inline-block');
}, function (e) {
  $('.delete').css('display', 'none');
});

$('.delete').click(function (e) {
  alert('click');
}); 
```

事实上，您将事件绑定到导致问题的两个项目。

我的意思是看到这个：

```
$(".imgOverlay > .delete").hover(function(e){ 
```

根据您的标记`.delete`不是`.imOverlay`.

这里：

```
$('.imgOverlay .delete').click(function(e){ 
```

您将单击事件绑定到两个不需要的元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:38:43.543

你应该试试这些：

*   使用 mouseenter 和 mouseleave 而不是悬停。
*   在执行任何动画之前调用 stop

    $(this).stop(true).fadeTo("fast",0.3);

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:41:49.240

`.delete`您可以使用 css 而不是 javascript来控制显示：

```
.imageContent:hover .delete {
    display: inline-block;
} 
```

然后将其用于您的 javascript：

```
$('.imageContent').hover(function(e){
    $(this).find('img').fadeTo("fast",0.3);
},function(e){
    $(this).find('img').fadeTo("fast",1.0);
});

$('.imageContent .delete').click(function(e){
    alert('click');
}); 
```

**[演示](http://jsbin.com/asehuq/5/edit)**

# vb.net - 正确断开和重新连接异步连接

> ID：14210147
> 
> 赞同：1
> 
> 时间：2013-01-08T07:30:22.407
> 
> 标签：vb.net, sockets, asyncsocket

我目前正在 VB.Net 中使用异步通信开发文件共享应用程序。我成功编写了客户端和服务器之间的简单连接。但是，我目前在为客户端和服务器执行断开连接子例程时遇到了麻烦。我目前已经在这个问题上停留了几天，并决定在这里寻求帮助，因为我找不到任何好的方法来完成断开连接的事情。

这是我的代码：

**服务器应用程序**

```
Private Sub FileSharingInitialize()

    ServerSocket = New Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp)

    Dim EndPoint As IPEndPoint = New IPEndPoint(IPAddress.Any, 7777)

    ServerSocket.Bind(EndPoint)

    ServerSocket.Listen(0)

End Sub

Private Sub FileSharingOnAccept(ByVal AsyncResult As IAsyncResult)

    ClientSocket = ServerSocket.EndAccept(AsyncResult)

    FileSharingAddClient(ClientSocket)

    ClientSocket.BeginReceive(ByteData, 0, ByteData.Length, SocketFlags.None, New AsyncCallback(AddressOf FileSharingOnReceive), ClientSocket)

End Sub

Delegate Sub _FileSharingAddClient(ByVal Client As Socket)

Private Sub FileSharingAddClient(ByVal Client As Socket)

    If InvokeRequired Then

        Invoke(New _FileSharingAddClient(AddressOf FileSharingAddClient), Client)

        Exit Sub

    End If

    lvConnectedClients.Items.Add("")

    lvConnectedClients.Items(lvConnectedClients.Items.Count - 1).SubItems.Add(Client.LocalEndPoint.ToString)

End Sub

Private Sub FileSharingOnReceive(ByVal AsyncResult As IAsyncResult)

    Dim Client As Socket = CType(AsyncResult.AsyncState, Socket)

    Client.EndReceive(AsyncResult)

    Dim ByteReceived As Byte() = ByteData

    Dim LogMessage As String = System.Text.Encoding.ASCII.GetString(ByteReceived)

    ReadLogMessage(LogMessage)

End Sub

Delegate Sub _ReadLogMessage(ByVal LogMessage As String)

Private Sub ReadLogMessage(ByVal LogMessage As String)

    If InvokeRequired Then

        Invoke(New _ReadLogMessage(AddressOf ReadLogMessage), LogMessage)

        Exit Sub

    End If

    DisplayLogMessage(LogMessage)

End Sub

Private Sub DisplayLogMessage(ByVal Log As String)

    Dim TimeStamp As String = "[" & DateAndTime.Now.ToString("hh:mm:ss tt dddd, dd MMMM yyyy") & "]: "

    Dim LogMessage As String = ""

    If txtLog.Text > "" Then

        LogMessage = Chr(10) & Chr(13)

    End If

    LogMessage &= TimeStamp

    LogMessage &= Log

    txtLog.SelectionStart = Len(txtLog.Text)

    txtLog.SelectedText = LogMessage

End Sub

Private Sub frmMain_Load(sender As Object, e As System.EventArgs) Handles Me.Load

    FileSharingInitialize()

End Sub

Private Sub btnStart_MouseClick(sender As Object, e As System.Windows.Forms.MouseEventArgs) Handles btnStart.MouseClick

    ServerSocket.BeginAccept(New AsyncCallback(AddressOf FileSharingOnAccept), Nothing)

    DisplayLogMessage("Server started." & Environment.NewLine)

End Sub 
```

在服务器部分，当我按下停止按钮时，我想断开所有客户端与服务器的连接。我已经在我的开始按钮中尝试了这段代码，但它不起作用。我收到一个错误，说套接字未连接。我在想也许我断开了错误的套接字，因为我在服务器应用程序中还有一个名为 ClientSocket 的套接字。或者，也许，我应该用一个循环来断开客户端？你怎么看？

```
Private Sub btnStop_MouseClick(sender As Object, e As System.Windows.Forms.MouseEventArgs) Handles btnStop.MouseClick

    ServerSocket.Shutdown(SocketShutdown.Both)

    ServerSocket.Close()

    ServerSocket = Nothing

End Sub 
```

**客户端应用程序**

```
Private Sub btnConnect_MouseClick(sender As Object, e As System.Windows.Forms.MouseEventArgs) Handles btnConnect.MouseClick

    ClientSocket = New Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp)

    Dim Address As IPAddress = IPAddress.Parse(frmNetworkSettings.txtServerIPAddress.Text)

    Dim Endpoint As IPEndPoint = New IPEndPoint(Address, CInt(frmNetworkSettings.txtFileSharingPort.Text))

    ClientSocket.BeginConnect(Endpoint, New AsyncCallback(AddressOf FileSharingOnConnect), Nothing)

    SendLogMessage(Username & " is connected." & Environment.NewLine, ClientSocket)

End Sub

Private Sub FileSharingOnConnect(ByVal AsyncResult As IAsyncResult)

    ClientSocket.EndConnect(AsyncResult)

End Sub

Private Sub SendLogMessage(ByVal LogMessage As String, ByVal Client As Socket)

    Dim SendByteData As Byte() = System.Text.Encoding.ASCII.GetBytes(LogMessage)

    Client.BeginSend(SendByteData, 0, SendByteData.Length, SocketFlags.None, New AsyncCallback(AddressOf OnSendLogMessage), Client)

End Sub

Private Sub OnSendLogMessage(ByVal AsyncResult As IAsyncResult)

    Dim Client As Socket = CType(AsyncResult.AsyncState, Socket)

    Client.EndSend(AsyncResult)

End Sub 
```

客户端部分的问题在服务器上是相同的。断开客户端与服务器的代码不起作用。在我按下断开按钮后，它不会向服务器发送任何日志，即使我之后重新连接也是如此。好像socket已经被处理掉了？如果是这样，当我尝试重新连接时，如何防止它这样做并重用套接字？另一件事是，当我按下连接按钮而不启动服务器然后启动服务器时，会向客户端连接的服务器发送一条日志。似乎问题出在服务器的监听方法上。我不希望这种情况发生，我只想要一个异常或提醒用户客户端未连接到服务器并且在客户端连接后不向服务器发送日志消息的东西。我真的不知道，

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:54:56.417

更好的方法是实现标志系统。当一个客户端或服务器想要与另一端断开连接时，将断开标志发送到另一端，因此在另一端您的代码将理解断开连接

# android - 停止当前播放的视频并在 android 的 Videoview 中播放另一个视频

> ID：14210148
> 
> 赞同：0
> 
> 时间：2013-01-08T07:30:25.213
> 
> 标签：android, video, handler, android-videoview, looper

我正在使用 VideoView 播放视频文件。现在我想停止当前播放的视频并播放另一个视频文件。我使用了 videoview.stopPlayback(); 然后为该 videovideo 设置新的 URI 并开始播放，但我得到了

```
java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()
at android.os.Handler.<init>(Handler.java:121)
at android.widget.Toast$TN.<init>(Toast.java:322)
at android.widget.Toast.<init>(Toast.java:91)
at android.widget.Toast.makeText(Toast.java:238)
at com.network.video.player.MainVideoActivity.PlayNext_Video(MainVideoActivity.java:451)
at com.network.video.player.ConnectToServer$HandleClientThread.Delete_file(ConnectToServer.jav a:117)
at com.network.video.player.ConnectToServer$HandleClientThread.run(ConnectToServer.java:245)
at java.lang.Thread.run(Thread.java:856) 
```

有谁知道如何停止当前视频并在 android 中播放新视频文件？

# visual-studio-2010 - 文件上传vsts2010性能测试失败

> ID：14210150
> 
> 赞同：2
> 
> 时间：2013-01-08T07:30:53.187
> 
> 标签：visual-studio-2010

我使用 VSTS 2010 创建了一个 webtest。有一种情况是 webtest 以表单的形式上传文件。但是当我运行 webtest 时，它会给出一条错误消息：

> 请求失败：找不到文件“C:\Users\documents\visual studio 2010\Projects\TestResults\TESTING 2013-01-07 08_15_05\Out\html.html”。

**我正在使用 Visual Studio 2010 Ultimate 的试用版。**

我在谷歌上搜索过这个问题。在网站中提到使用文件上传插件。我的问题是这个插件是否适用于 Visual Studio 2010 的试用版？如果是，请向我提供有关列表，这将对我有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-17T04:47:12.177

将文件添加为部署项

本地设置 > 部署 > 启用部署 > 添加文件

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-13T13:59:37.920

我尝试了相同的步骤

本地设置 > 部署 > 启用部署 > 添加文件

仍然遇到同样的问题，只有我在远程执行模式下运行应用程序并且可以在其中一台代理机器上看到错误，尽管其他 dll 和插件在路径上被复制，只有我在部署中添加的 PDF 文件不会被复制。

我在这里缺少任何其他设置吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-27T05:59:00.123

您必须将该所需的文件添加为部署项目，以便它自动获取文件并且您的问题将得到解决。

# python - 区分和同步 2 个表 MySQL

> ID：14210158
> 
> 赞同：0
> 
> 时间：2013-01-08T07:31:28.147
> 
> 标签：python, mysql, google-app-engine, diff

我有两张表，一张是新数据，另一张是旧数据。

我需要找到`diff`两个表之间的值，并且只将更改推送到带有旧数据的表中，因为它将在生产中。

这两个表在列方面是相同的，只是数据不同。

**编辑：** 我只寻找一种方式同步

**编辑 2** 该表可能有外键。

这是约束

*   我不能使用 shell 实用程序`mk-table-sync`
*   我不能使用 gui 工具，因为它们不能像[这里](https://stackoverflow.com/a/5567317/492561)建议的那样自动化。
*   这需要以编程方式或在数据库中完成。
*   我正在`python`研究 Google App-engine。

目前我正在做类似的事情

*   `OUTER JOIN`s 并`WHERE [NOT] EXISTS`比较`SQL`查询中的每条记录并推送结果。

我的问题是

*   有一个更好的方法吗 ？
*   在 python 中而不是在 db 中这样做会更好吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:56:56.467

根据您对我的问题的评论，您可以简单地执行以下操作：

```
DELETE FROM OldTable;

INSERT INTO OldTable (field1, field2, ...) SELECT * FROM NewTable; 
```

正如我上面指出的，可能有不这样做的原因，例如数据大小。

# asp.net - 视觉基础和共享点

> ID：14210160
> 
> 赞同：0
> 
> 时间：2013-01-08T07:31:29.590
> 
> 标签：asp.net, vb.net, deployment, visual-studio-2012, web-parts

我是 SharePoint 的新手。

我办公室的负责人告诉我，如果你想学习 SharePoint，你必须先学习 ASP.Net，因为我们需要将 webparts 添加到门户中。

我安装了 Visual Studio Ultimate 2012 开始学习 ASP.NET。我发现我可以在 ASP.NET 编程中使用 c# 或 VB.NET。我实际上有使用 VB 构建 Windows 应用程序的经验，但不了解 c#。

注意：我正在使用 64 位 Windows 7 专业版。我们正在使用 SharePoint 2010。

我的问题是：

我可以使用 VB 在 SharePoint 中对 Web 部件进行编程吗？

用 vb 为 windows 应用程序编程是否类似于为 SharePoint 编程？

我现在可以通过浏览器访问 SharePoint 门户。我应该在我的计算机上安装 SharePoint 以通过 Visual Studio 对 SharePoint 的 Web 部件进行编程吗？

你知道任何有用的文章可以帮助我学习 SharePoint 编程吗？

预先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:11:39.803

> 我可以使用 VB 在 SharePoint 中对 Web 部件进行编程吗？用 vb 为 windows 应用程序编程是否类似于为 SharePoint 编程？

如果您的意思是 VB.NET，您绝对可以使用它。但是编程模型与传统的 Windows 应用程序完全不同，尤其是 VB6。

> 我应该在我的计算机上安装 SharePoint 以通过 Visual Studio 对 SharePoint 的 Web 部件进行编程吗？

从 SharePoint 2010 开始，是的。

> 你知道任何有用的文章可以帮助我学习 SharePoint 编程吗？

您可以从这里开始：http: [//msdn.microsoft.com/en-us/gg620703](http://msdn.microsoft.com/en-us/gg620703)

# mysql - 在选择查询中使用索引来提高聚合函数的速度

> ID：14210168
> 
> 赞同：0
> 
> 时间：2013-01-08T07:32:00.707
> 
> 标签：mysql, sql, performance, database-administration

我需要创建一个新表，其中包含源表中度量值列的总和。源表非常大。

例如。源表

```
Category | Product | Sales
A        | P1      | 100 
B        | P2      | 200
C        | P3      | 300 
```

查询就像：

```
SELECT Category, 
       Product, 
       SUM(Sales) 
FROM source_table 
GROUP BY Category. 
```

没有where条件。

索引是否有助于加快进程？
任何加快查询速度的替代机制？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T12:07:04.963

索引是一个棘手的工具。如果您打算为表的列添加索引，您至少应该考虑：

1- 我在此列中有多少不同的值。2-记录总数与不同值的数量之间的比例如何。3- 我多久在此列上应用 where、group by 或 order by 子句。

正如@Kasey 回答所说，对于要看到的内容，您可以在类别列上添加一个索引，但是，这取决于您对该列拥有的不同值的数量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T18:51:25.720

由于它位于 GROUP BY 子句中，因此在 Category 上添加索引可能会有所帮助。但是你正在做一个完整的表转储，所以它可能会很慢。

可能更好的策略是为销售报告创建一个新表并根据您的业务需求填充它。如果它只能每天更新，则安排一个存储过程每晚运行以重新填充它。如果需要反映表的当前状态，那么可以在基表更新时使用触发器来更新报表表。或者，您可以在应用程序级别运行单独的查询以在更新基表时更新报告表。

# android - 如何在 Android 应用程序中支持多屏幕尺寸

> ID：14210170
> 
> 赞同：0
> 
> 时间：2013-01-08T07:32:10.363
> 
> 标签：android, multiscreen

我在android中编写了一个应用程序。现在我想更改我的代码以适合多屏幕。我搜索但我不完全明白我该怎么做？例如：

1-我应该[动态设置文本大小](https://stackoverflow.com/questions/9494037/how-to-set-text-size-of-textview-dynamically-for-diffrent-screens)

2-[针对不同的屏幕尺寸有不同的布局](http://developer.samsung.com/android/technical-docs/Handling-Multiple-Screen-Size-in-Android)

还有其他工作要做吗？我的问题有任何样本吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:38:46.557

使用 Fragments 构建动态 UI……只需在应用程序中使用 Fragments 即可使其灵活 [http://developer.android.com/guide/components/fragments.html](http://developer.android.com/guide/components/fragments.html) [http://developer.android.com/training/basics/片段/index.html](http://developer.android.com/training/basics/fragments/index.html)

# asp.net-mvc - 实体框架更好的错误解释

> ID：14210171
> 
> 赞同：0
> 
> 时间：2013-01-08T07:32:20.630
> 
> 标签：asp.net-mvc, automapper, entity-framework-5

我正在使用带有实体框架和 MVC 4(asp.net) 的 databasefirst 方法，并且不时地执行以下操作：

> 操作失败：无法更改关系，因为一个或多个外键属性不可为空。当对关系进行更改时，相关的外键属性将设置为空值。如果外键不支持空值，则必须定义新关系，必须为外键属性分配另一个非空值，或者必须删除不相关的对象。

最有可能我有一个无意的空引用，这是由于转换步骤的任何部分（从视图到视图模型，通过自动映射器到数据库对象）。

我想知道的是，是否有某种方法可以获取问题所在的信息，以及导致问题的外键。我曾尝试跟踪数据库，但似乎应用程序在尝试保存到数据库之前就知道存在问题。我可以以某种方式调试这个吗？获取更多错误信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-29T17:53:23.767

这些类型的错误可能令人沮丧，因为它们很难追踪。

我将从清除数据库中的所有数据开始（如果需要，备份它）。

然后，在 Management Studio 中打开数据库并将表拖放到可视化设计器上。然后，您将获得有关关系是什么样子的视觉线索。你可能会得到一个惊喜！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-02T17:26:08.920

如果您更改了数据库架构（模型）并且您的数据库有一些数据，则可能会发生这些类型的错误。两个或多个表具有使用外键的关系。

**可能的解决方案**

删除数据库并再次应用迁移。

# c# - 通过单击超链接打开文件不起作用

> ID：14210175
> 
> 赞同：1
> 
> 时间：2013-01-08T07:32:35.467
> 
> 标签：c#, asp.net, hyperlink

我想单击超链接，文件（无论是什么文件）都应该在一个新的弹出窗口中打开。

这是我的代码：

```
 HyperLink link = new HyperLink();
 link.Text = dr.Dienstleistung.Dienstleistungsart.Dienstleister.Catering_Fax_Link;
 link.NavigateUrl = HttpContext.Current.Server.MapPath("~") + "\\CUSTOM\\Upload\\picture.png";
 cell.Controls.Add(link); 
```

但它不适用于 NavigateUrl。如果我点击超链接没有任何反应。谁能帮我这个。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:42:16.707

`MapPath`给出物理路径而不是 url。此外，使用正确的斜线并将目标设置为空白，以便链接将在新窗口中打开。例如，

```
link.NavigateUrl = ResolveUrl("~/CUSTOM/Upload/picture.png");
link.Target = "_blank"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T07:50:39.520

`window.open`您可以使用和不使用`NavigateUrl`属性在弹出窗口中打开文件。

```
link.Attributes.Add("onclick", "window.open('" + ResolveUrl("~/CUSTOM/Upload/picture.png") + "');"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T07:41:00.783

`NavigateUrl`是您将向用户显示的 URL，而不是文件系统路径。在您的情况下，它应该是：

```
link.NavigateUrl = "~/CUSTOM/Upload/picture.png"; 
```

# django - 如何处理 django 类型错误 some_method() 正好需要 2 个参数（1 个给定）

> ID：14210190
> 
> 赞同：1
> 
> 时间：2013-01-08T07:33:34.827
> 
> 标签：django, django-errors

我很难弄清楚这一点，我不断收到错误消息：

```
show_item() takes exactly 2 arguments (1 given) 
```

以下是我的看法：

```
 def show_item(request,item_slug):
    i = get_object_or_404(Item, slug=item_slug)
    categories = Category.objects.all().prefetch_related('item')
    # need to evaluate the HTTP method
    if request.method == 'POST':
        # add to order..create the bound form
        postdata = request.POST.copy()
        form = ItemAddToCartForm(request,postdata)
        # check validation of posted data
        if form.is_valid():
            # add to order and redirect to order page
            order.add_to_order(request)
            # if test cookie worked, get rid of it
            if request.session.test_cookie_worked():
                request.session.delete_test_cookie()
            url =urlresolvers.reverse('show_order')
            # redirect to order page
            return HttpResponseRedirect(url)
    else:
        # it's a GET, create the unbound from. Note request as a Kwarg
        form = ItemAddToCartForm(request=request,label_suffix=':')
    # assign the hidden input the item slug
    form.fields['item_slug'].widget.attrs['value'] = item_slug
    # set the test cookie on our first GET request
    request.session.set_test_cookie()
    context = {
        'categories':categories,
        'form':form,
    }
    return render_to_response("menu.html",context,context_instance=RequestContext(request)) 
```

这是我的这个视图的网址：

```
url(r'^menu/$','live.views.show_item'), 
```

我环顾四周，但都是徒劳的，提前谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T07:40:27.323

item slug 需要在 url 中：

```
url(r'^menu/(?P<item_slug>[\w-]+)$','live.views.show_item'), 
```

# liferay - 如何在日历 portlet 的“查看者”下拉列表中填充所有站点成员的名称？

> ID：14210191
> 
> 赞同：2
> 
> 时间：2013-01-08T07:33:35.910
> 
> 标签：liferay, liferay-6

在日历portlet“添加事件”中，我们可以设置查看权限。但默认情况下，它显示三个选项，即在“查看者”下拉列表中，“任何一个（来宾角色）、站点成员和所有者”。使用这些选项，我还想列出所有站点成员的名称......并且在添加新事件时，如果我选择了一个用户，则该事件应该只能由该特定用户查看......如果我选择了“站点成员”它应该对所有人可见....

我正在考虑的一种解决方案是编辑“edit_event.jsp”。为此创建了一个钩子...

下面的代码给出了“查看者”的下拉菜单。在这里我怎样才能添加所有网站成员的名字？它会自动检查显示事件吗？请帮忙.....

```
 <c:if test="<%= event == null %>">
           <aui:field-wrapper label="permissions">
            <liferay-ui:input-permissions
              modelName="<%= CalEvent.class.getName() %>"
            />
            </aui:field-wrapper>
  </c:if> 
```

# android - 如何在Android中循环添加按钮

> ID：14210195
> 
> 赞同：-2
> 
> 时间：2013-01-08T07:33:52.807
> 
> 标签：android

我在我的应用程序中添加了一个按钮

```
LayoutParams lpView = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
        Button btn = new Button(this);
        btn.setText("Button");
        linLayout.addView(btn, lpView); 
```

但实际上我不知道我会有多少按钮，如何循环生成它。我的意思是，如何使用不同的名称：

```
Button btn1 = new Button(this); 
Button btn2 = new Button(this); Button
btn3 = new Button(this); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:37:58.747

您可以使用普通的 Java 按钮数组：

```
Button[] mButtonsArray = new Button[10];
        for (Button b : mButtonsArray) {
            b = new Button(this);
            linLayout.addView(b, new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:38:38.963

使用 Button 数组。

```
Button[] btnarray = new Button[length]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:52:18.583

试试这种方式：

> ```
>  public void GenerateButtons()
>     {
>     LinearLayout m_ll_layout;
>     public static ArrayList<Button> m_arr_btn= new ArrayList<Button>();
>     RelativeLayout p_rl_layout=new RelativeLayout(this);
>     RelativeLayout.LayoutParams layoutParams = null;
>     layoutParams = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,        RelativeLayout.LayoutParams.WRAP_CONTENT);          
>     m_ll_layout = new LinearLayout(m_context);
>     m_ll_layout.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
>     for (int i = 0; i < 10; i++)
>     {
>         Button m_btn = new Button(m_context);
>         m_btn.setLayoutParams(new LinearLayout.LayoutParams(90, LayoutParams.WRAP_CONTENT));
>         m_btn.setText("Button");
>         m_btn.setId(i);
>         m_btn.setOnClickListener(OnClickBtn_TimeListener);
>         m_arr_btn.add(m_btn);
>         m_ll_layout.addView(m_btn);         
>     }
>     layoutParams.addRule(RelativeLayout.BELOW);
>     p_rl_layout.addView(m_ll_layout, layoutParams);
> } 
> ```

# sql - 无法获取行号

> ID：14210196
> 
> 赞同：0
> 
> 时间：2013-01-08T07:34:00.353
> 
> 标签：sql, oracle

我在一个包中有这个代码：

```
 BEGIN
      IF user_status_i = 'all' THEN
        OPEN l_get_data FOR

        SELECT 
           row_number() OVER (ORDER BY u.us_fullname) rn,
           a2.av_value as first_name, a3.av_value as last_name, a4.av_value as email, a5.av_value as phone, 
           u.us_id, u.us_fullname, a6.av_value as user_type, a7.av_value as line_manager_1, 
           a8.av_value as line_manager_2, a9.av_value as line_manager_3, a10.av_value as line_manager_4, 
           a11.av_value as line_manager_5, u.us_flags, a12.av_value as business_unit, 
           a13.av_value as position, a14.av_value as middlename
           FROM us_user u

                 INNER JOIN av_attrvalue a1 
                     ON a1.AV_TOKEN = 'USER:'||u.US_ID AND a1.AV_AP_ID='InSign' AND a1.av_at_id = 'Code' AND a1.av_value = id_i
                 INNER JOIN av_attrvalue a2 
                     ON a2.AV_TOKEN = 'USER:'||u.US_ID AND a2.AV_AP_ID='InSign' AND a2.av_at_id = 'FIRSTNAME' 
                 INNER JOIN av_attrvalue a3 
                     ON a3.AV_TOKEN = 'USER:'||u.US_ID AND a3.AV_AP_ID='InSign' AND a3.av_at_id = 'LASTNAME' 
                 INNER JOIN av_attrvalue a4 
                     ON a4.AV_TOKEN = 'USER:'||u.US_ID AND a4.AV_AP_ID='InSign' AND a4.av_at_id = 'ADDR' 
                 LEFT OUTER JOIN av_attrvalue a5 
                     ON a5.AV_TOKEN = 'USER:'||u.US_ID AND a5.AV_AP_ID='InSign' AND a5.av_at_id = 'MobilePhone' 
                 INNER JOIN av_attrvalue a6 
                     ON a6.AV_TOKEN = 'USER:'||u.US_ID AND a6.AV_AP_ID='InSign' AND a6.av_at_id = 'Type' AND a6.av_value != 'trAgent'
                 LEFT OUTER JOIN av_attrvalue a7 
                     ON a7.AV_TOKEN = 'USER:'||u.US_ID AND a7.AV_AP_ID='InSign' AND a7.av_at_id = 'Line1'
                 LEFT OUTER JOIN av_attrvalue a8 
                     ON a8.AV_TOKEN = 'USER:'||u.US_ID AND a8.AV_AP_ID='InSign' AND a8.av_at_id = 'Line2' 
                 LEFT OUTER JOIN av_attrvalue a9 
                     ON a9.AV_TOKEN = 'USER:'||u.US_ID AND a9.AV_AP_ID='InSign' AND a9.av_at_id = 'Line3' 
                 LEFT OUTER JOIN av_attrvalue a10 
                     ON a10.AV_TOKEN = 'USER:'||u.US_ID AND a10.AV_AP_ID='InSign' AND a10.av_at_id = 'Line4' 
                 LEFT OUTER JOIN av_attrvalue a11 
                     ON a11.AV_TOKEN = 'USER:'||u.US_ID AND a11.AV_AP_ID='InSign' AND a11.av_at_id = 'Line5' 
                 LEFT OUTER JOIN av_attrvalue a12 
                     ON a12.AV_TOKEN = 'USER:'||u.US_ID AND a12.AV_AP_ID='InSign' AND a12.av_at_id = 'Unit' 
                 LEFT OUTER JOIN av_attrvalue a13 
                     ON a13.AV_TOKEN = 'USER:'||u.US_ID AND a13.AV_AP_ID='InSign' AND a13.av_at_id = 'Position'
           LEFT OUTER JOIN av_attrvalue a14
                     ON a14.AV_TOKEN = 'USER:'||u.US_ID AND a14.AV_AP_ID='InSign' AND a14.av_at_id = 'MIDDLENAME' 
                 INNER JOIN hds_hub_companies hc ON hc.company_id = a1.av_value   

WHERE rn BETWEEN (pageN_i * records_i) - records_i + 1 AND (pageN_i * records_i);

      END IF; 
```

我正在尝试获取行号，但是当我执行它时，我收到了 2 个错误：

```
Error(1323,5): PL/SQL: SQL Statement ignored 
```

和

```
Error(1361,14): PL/SQL: ORA-00904: "RN": invalid identifier 
```

我从昨天开始就在和这个作斗争，我确定我缺少一些小东西

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:46:35.067

您需要将其作为一个块来工作，因为在同一个块中无法访问别名。

```
select * From(
 SELECT 
     row_number() OVER (ORDER BY u.us_fullname) rn,
     a2.av_value as first_name, a3.av_value as last_name, a4.av_value as email, a5.av_value as phone, 
     u.us_id, u.us_fullname, a6.av_value as user_type, a7.av_value as line_manager_1, 
     a8.av_value as line_manager_2, a9.av_value as line_manager_3, a10.av_value as line_manager_4, 
     a11.av_value as line_manager_5, u.us_flags, a12.av_value as business_unit, 
     a13.av_value as position, a14.av_value as middlename
     FROM us_user u

           INNER JOIN av_attrvalue a1 
               ON a1.AV_TOKEN = 'USER:'||u.US_ID AND a1.AV_AP_ID='InSign' AND a1.av_at_id = 'Code' AND a1.av_value = id_i
           INNER JOIN av_attrvalue a2 
               ON a2.AV_TOKEN = 'USER:'||u.US_ID AND a2.AV_AP_ID='InSign' AND a2.av_at_id = 'FIRSTNAME' 
           INNER JOIN av_attrvalue a3 
               ON a3.AV_TOKEN = 'USER:'||u.US_ID AND a3.AV_AP_ID='InSign' AND a3.av_at_id = 'LASTNAME' 
           INNER JOIN av_attrvalue a4 
               ON a4.AV_TOKEN = 'USER:'||u.US_ID AND a4.AV_AP_ID='InSign' AND a4.av_at_id = 'ADDR' 
           LEFT OUTER JOIN av_attrvalue a5 
               ON a5.AV_TOKEN = 'USER:'||u.US_ID AND a5.AV_AP_ID='InSign' AND a5.av_at_id = 'MobilePhone' 
           INNER JOIN av_attrvalue a6 
               ON a6.AV_TOKEN = 'USER:'||u.US_ID AND a6.AV_AP_ID='InSign' AND a6.av_at_id = 'Type' AND a6.av_value != 'trAgent'
           LEFT OUTER JOIN av_attrvalue a7 
               ON a7.AV_TOKEN = 'USER:'||u.US_ID AND a7.AV_AP_ID='InSign' AND a7.av_at_id = 'Line1'
           LEFT OUTER JOIN av_attrvalue a8 
               ON a8.AV_TOKEN = 'USER:'||u.US_ID AND a8.AV_AP_ID='InSign' AND a8.av_at_id = 'Line2' 
           LEFT OUTER JOIN av_attrvalue a9 
               ON a9.AV_TOKEN = 'USER:'||u.US_ID AND a9.AV_AP_ID='InSign' AND a9.av_at_id = 'Line3' 
           LEFT OUTER JOIN av_attrvalue a10 
               ON a10.AV_TOKEN = 'USER:'||u.US_ID AND a10.AV_AP_ID='InSign' AND a10.av_at_id = 'Line4' 
           LEFT OUTER JOIN av_attrvalue a11 
               ON a11.AV_TOKEN = 'USER:'||u.US_ID AND a11.AV_AP_ID='InSign' AND a11.av_at_id = 'Line5' 
           LEFT OUTER JOIN av_attrvalue a12 
               ON a12.AV_TOKEN = 'USER:'||u.US_ID AND a12.AV_AP_ID='InSign' AND a12.av_at_id = 'Unit' 
           LEFT OUTER JOIN av_attrvalue a13 
               ON a13.AV_TOKEN = 'USER:'||u.US_ID AND a13.AV_AP_ID='InSign' AND a13.av_at_id = 'Position'
     LEFT OUTER JOIN av_attrvalue a14
               ON a14.AV_TOKEN = 'USER:'||u.US_ID AND a14.AV_AP_ID='InSign' AND a14.av_at_id = 'MIDDLENAME' 
           INNER JOIN hds_hub_companies hc ON hc.company_id = a1.av_value   
)x
WHERE rn BETWEEN (pageN_i * records_i) - records_i + 1 AND (pageN_i * records_i); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:50:01.920

别名 rn 在同一语句范围内不可用。您需要使用派生表，如下所示

```
SELECT * FROM
(
SELECT 
           row_number() OVER (ORDER BY u.us_fullname) rn,
           a2.av_value as first_name, a3.av_value as last_name, a4.av_value as email, a5.av_value as phone, 
           u.us_id, u.us_fullname, a6.av_value as user_type, a7.av_value as line_manager_1, 
           a8.av_value as line_manager_2, a9.av_value as line_manager_3, a10.av_value as line_manager_4, 
           a11.av_value as line_manager_5, u.us_flags, a12.av_value as business_unit, 
           a13.av_value as position, a14.av_value as middlename
           FROM us_user u

                 INNER JOIN av_attrvalue a1 
                     ON a1.AV_TOKEN = 'USER:'||u.US_ID AND a1.AV_AP_ID='InSign' AND a1.av_at_id = 'Code' AND a1.av_value = id_i
                 INNER JOIN av_attrvalue a2 
                     ON a2.AV_TOKEN = 'USER:'||u.US_ID AND a2.AV_AP_ID='InSign' AND a2.av_at_id = 'FIRSTNAME' 
                 INNER JOIN av_attrvalue a3 
                     ON a3.AV_TOKEN = 'USER:'||u.US_ID AND a3.AV_AP_ID='InSign' AND a3.av_at_id = 'LASTNAME' 
                 INNER JOIN av_attrvalue a4 
                     ON a4.AV_TOKEN = 'USER:'||u.US_ID AND a4.AV_AP_ID='InSign' AND a4.av_at_id = 'ADDR' 
                 LEFT OUTER JOIN av_attrvalue a5 
                     ON a5.AV_TOKEN = 'USER:'||u.US_ID AND a5.AV_AP_ID='InSign' AND a5.av_at_id = 'MobilePhone' 
                 INNER JOIN av_attrvalue a6 
                     ON a6.AV_TOKEN = 'USER:'||u.US_ID AND a6.AV_AP_ID='InSign' AND a6.av_at_id = 'Type' AND a6.av_value != 'trAgent'
                 LEFT OUTER JOIN av_attrvalue a7 
                     ON a7.AV_TOKEN = 'USER:'||u.US_ID AND a7.AV_AP_ID='InSign' AND a7.av_at_id = 'Line1'
                 LEFT OUTER JOIN av_attrvalue a8 
                     ON a8.AV_TOKEN = 'USER:'||u.US_ID AND a8.AV_AP_ID='InSign' AND a8.av_at_id = 'Line2' 
                 LEFT OUTER JOIN av_attrvalue a9 
                     ON a9.AV_TOKEN = 'USER:'||u.US_ID AND a9.AV_AP_ID='InSign' AND a9.av_at_id = 'Line3' 
                 LEFT OUTER JOIN av_attrvalue a10 
                     ON a10.AV_TOKEN = 'USER:'||u.US_ID AND a10.AV_AP_ID='InSign' AND a10.av_at_id = 'Line4' 
                 LEFT OUTER JOIN av_attrvalue a11 
                     ON a11.AV_TOKEN = 'USER:'||u.US_ID AND a11.AV_AP_ID='InSign' AND a11.av_at_id = 'Line5' 
                 LEFT OUTER JOIN av_attrvalue a12 
                     ON a12.AV_TOKEN = 'USER:'||u.US_ID AND a12.AV_AP_ID='InSign' AND a12.av_at_id = 'Unit' 
                 LEFT OUTER JOIN av_attrvalue a13 
                     ON a13.AV_TOKEN = 'USER:'||u.US_ID AND a13.AV_AP_ID='InSign' AND a13.av_at_id = 'Position'
           LEFT OUTER JOIN av_attrvalue a14
                     ON a14.AV_TOKEN = 'USER:'||u.US_ID AND a14.AV_AP_ID='InSign' AND a14.av_at_id = 'MIDDLENAME' 
                 INNER JOIN hds_hub_companies hc ON hc.company_id = a1.av_value   
) T
WHERE rn BETWEEN (pageN_i * records_i) - records_i + 1 AND (pageN_i * records_i); 
```

# javascript - 产生子工作者返回错误

> ID：14210197
> 
> 赞同：3
> 
> 时间：2013-01-08T07:34:01.427
> 
> 标签：javascript, jquery, html, web-worker

我正在产生童工，但它抛出了一个错误`"Worker not defined".`

我怎样才能产生童工？

[这是我的演示出现错误。](http://www.antkorp.in/childWorker/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-02-27T18:03:42.347

Until Chrome fixes this issue, you can use this [Subworker polyfill](https://github.com/dmihal/Subworkers) that I wrote

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T19:07:48.393

Chrome/Safari 不支持生成 subworkers：查看尚未解决的问题：[http ://code.google.com/p/chromium/issues/detail?id=31666](http://code.google.com/p/chromium/issues/detail?id=31666)

# android - 在“onTextChanged”上强制关闭

> ID：14210198
> 
> 赞同：0
> 
> 时间：2013-01-08T07:34:07.163
> 
> 标签：android, eclipse, mobile

我正在开发一个从我的网络服务器接收图像和字符串的应用程序。这是有效的。但我想向 listView 添加搜索。这是我的 ApplicationActivity.java

```
package com.fireplace.market.fads;

import java.util.ArrayList; 
import java.util.List; 

import com.actionbarsherlock.app.SherlockListActivity;
import com.actionbarsherlock.view.MenuItem;
import com.fireplace.market.fads.adapter.MyCustomArrayAdapter;
import com.fireplace.market.fads.database.GetDataFromDB;
import com.fireplace.market.fads.model.Model;

import android.app.ProgressDialog; 
import android.os.Bundle; 
import android.text.Editable;
import android.text.TextWatcher;
import android.widget.ArrayAdapter; 
import android.widget.EditText;

public class ApplicationsActivity extends SherlockListActivity {

    EditText inputSearch;
    ArrayAdapter<String> adapter;

    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R. layout.contact_list); 

        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
        inputSearch = (EditText) findViewById(R.id.inputSearchApps);

        final List<Model> list = new ArrayList<Model>();
        /** This block is for getting the image url to download from the server **/ 
        final GetDataFromDB getvalues = new GetDataFromDB(); 
        final ProgressDialog dialog = ProgressDialog.show(ApplicationsActivity.this, "", "Gettting information", true);

        new Thread (new Runnable() { public void run() {
            String response = getvalues.getImageURLAndDesciptionFromDB(); System.out.println("Response : " + response);
            dismissDialog(dialog); 
            if (!response.equalsIgnoreCase("")) {
                if (!response.equalsIgnoreCase("error")) { 
                    dismissDialog(dialog);
                // Got the response, now split it to get the image Urls and description 
                String all[] = response.split("##"); for(int k = 0; k < all.length; k++){
                    String urls_and_desc[] = all[k].split(",");
                    // urls_and_desc[0] contains image url and [1] -> description. 
                    list.add(get(urls_and_desc[1],urls_and_desc[0])); 
                    } 
                } 
                }
            else { dismissDialog(dialog); } } }).start();
        /*************************** GOT data from Server ********************************************/ 
        ArrayAdapter<Model> adapter = new MyCustomArrayAdapter(this, list);
        setListAdapter(adapter); 

        //Making the list searchable
                inputSearch.addTextChangedListener(new TextWatcher() {

                    @Override
                    public void onTextChanged(CharSequence cs, int arg1, int arg2, int arg3) {
                        // When user changed the Text
                        ApplicationsActivity.this.adapter.getFilter().filter(cs);
                    }

                    @Override
                    public void beforeTextChanged(CharSequence arg0, int arg1, int arg2,
                            int arg3) {
                        // TODO Auto-generated method stub

                    }

                    @Override
                    public void afterTextChanged(Editable arg0) {
                        // TODO Auto-generated method stub
                    }
                }); 
        } 

    public void dismissDialog(final ProgressDialog dialog){
        runOnUiThread(new Runnable() {
        public void run() {
            dialog.dismiss(); 
            } 
        }); 
        } 
    private Model get(String s, String url) {
        return new Model(s, url); 
        } 

    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case android.R.id.home:
            super.finish();
            break;
        default:
            return super.onOptionsItemSelected(item);
        }
        return true;
    }
} 
```

我得到了这个与我自己添加项目的 listView 一起工作。但是现在当我尝试输入时，我的应用程序上会出现强制关闭。问题是什么？

这是我的 LogCat

```
01-08 08:23:46.397: E/AndroidRuntime(30345): FATAL EXCEPTION: main
01-08 08:23:46.397: E/AndroidRuntime(30345): java.lang.NullPointerException
01-08 08:23:46.397: E/AndroidRuntime(30345):    at com.fireplace.market.fads.ApplicationsActivity$2.onTextChanged(ApplicationsActivity.java:62)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.widget.TextView.sendOnTextChanged(TextView.java:7092)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.widget.TextView.handleTextChanged(TextView.java:7151)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.widget.TextView$ChangeWatcher.onTextChanged(TextView.java:8794)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.text.SpannableStringBuilder.sendTextChanged(SpannableStringBuilder.java:962)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:496)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:435)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:30)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.text.method.QwertyKeyListener.onKeyDown(QwertyKeyListener.java:222)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.text.method.TextKeyListener.onKeyDown(TextKeyListener.java:136)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.widget.TextView.doKeyDown(TextView.java:5246)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.widget.TextView.onKeyDown(TextView.java:5065)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.KeyEvent.dispatch(KeyEvent.java:2609)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.View.dispatchKeyEvent(View.java:7198)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1359)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1359)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1359)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1359)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchKeyEvent(PhoneWindow.java:1920)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at com.android.internal.policy.impl.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1395)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.app.Activity.dispatchKeyEvent(Activity.java:2370)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at com.actionbarsherlock.app.SherlockListActivity.dispatchKeyEvent(SherlockListActivity.java:116)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1847)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewRootImpl.deliverKeyEventPostIme(ViewRootImpl.java:3701)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewRootImpl.deliverKeyEvent(ViewRootImpl.java:3626)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:3161)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:4292)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:4271)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:2976)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.os.Handler.dispatchMessage(Handler.java:99)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.os.Looper.loop(Looper.java:137)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at android.app.ActivityThread.main(ActivityThread.java:5039)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at java.lang.reflect.Method.invokeNative(Native Method)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at java.lang.reflect.Method.invoke(Method.java:511)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
01-08 08:23:46.397: E/AndroidRuntime(30345):    at dalvik.system.NativeStart.main(Native Method) 
```

因此，正如 LogCat 所说，当我按下一个键时会出现问题。在这种情况下，这是键盘。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:39:28.913

您尚未`ArrayAdapter<String> adapter;`在活动中初始化 。只需将其初始化为`onCreate()`like `adapter=new ArrayAdapter<String>();`。

我认为这是唯一的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:39:49.393

代替

```
ArrayAdapter<Model> adapter = new MyCustomArrayAdapter(this, list); 
```

和

```
adapter = new MyCustomArrayAdapter(this, list); 
```

并将适配器的类型更改为`ArrayList<Model>`. 否则实例变量适配器不会被初始化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T09:14:06.950

如果您从过滤器更改文本值，您将得到一个无限循环：您应该像这样声明一个全局布尔变量：

```
private boolean canFilter = true; 
```

然后在您的过滤器调用中：

```
if (canFilter){
    // We don't let any filter calls to pass until this finishes
    canFilter = false;
    ApplicationsActivity.this.adapter.getFilter().filter(cs);
    canFilter = true;
} 
```

无论如何，这只是猜测。该`filter(CharSequence sequence)`方法有什么作用？

# javascript - 刻度线在线性时间尺度中不可见

> ID：14210199
> 
> 赞同：1
> 
> 时间：2013-01-08T07:34:10.183
> 
> 标签：javascript, d3.js

我正在玩 D3 并希望刻度线穿过垂直轴上的线性时间图。刻度线元素在那里，具有正确的向量，但它们没有出现。相反，出现的是与刻度标签水平运行的路径元素。

[JSFiddle 链接](http://jsfiddle.net/xdb2M/)

```
var width = 960;
var height = 200;
var container = d3.select(".timeTable");
var svg = container.append("svg")
    .attr("width", width)
    .attr("height", height);
var roomID = container.attr("data-room");
var times = [
    {"from":"2012-12-27 00:00:00","until":"2012-12-27 12:00:00"},
    {"from":"2012-12-27 00:00:00","until":"2012-12-27 23:59:00"},
    {"from":"2012-12-27 02:00:00","until":"2012-12-27 04:00:00"},
    {"from":"2012-12-27 03:00:00","until":"2012-12-27 21:00:00"},
    {"from":"2012-12-27 03:30:00","until":"2012-12-27 04:50:00"},
    {"from":"2012-12-27 05:00:00","until":"2012-12-27 12:00:00"},
    {"from":"2012-12-27 09:00:00","until":"2012-12-27 15:00:00"},
    {"from":"2012-12-27 13:00:00","until":"2012-12-27 23:00:00"},
    {"from":"2012-12-27 13:00:00","until":"2012-12-27 23:30:00"},
    {"from":"2012-12-27 20:00:00","until":"2012-12-27 23:59:00"},
    {"from":"2012-12-27 20:00:00","until":"2012-12-27 22:00:00"},
    {"from":"2012-12-27 23:00:00","until":"2012-12-27 23:30:00"},
    {"from":"2012-12-28 01:00:00","until":"2012-12-28 13:00:00"}
];
function draw(times) {
    // domain
    var floor = d3.time.day.floor(d3.min(times, function (d) { return new Date(d.from); }));
    var ceil = d3.time.day.ceil(d3.max(times, function (d) { return new Date(d.until); }));
    // define linear time scale
    var x = d3.time.scale()
        .domain([floor, ceil])
        .rangeRound([0, width]);
    // define x axis
    var xAxis = d3.svg.axis()
        .scale(x)
        .orient('bottom')
        .ticks(d3.time.hours, 6)
        .tickSize(4);
    // draw time bars
    svg.selectAll("rect")
        .data(times)
        .enter().append("rect")
            .attr("class", "timeRange")
            .attr("width", function (d, i) { return x(new Date(d.until)) - x(new Date(d.from)); })
            .attr("height", "10px")
            .attr("x", function (d, i) { return x(new Date(d.from)); })
            .attr("y", function (d, i) { return i * 11; });
    // draw x axis
    svg.append("g")
        .attr("class", "xAxis")
        .attr("transform", "translate(0, " + (height - 23) + ")")
        .call(xAxis);
}
draw(times); 
```

生成的路径元素只是与记号重叠，但即使删除了路径，记号也是不可见的。

此处显示了所需的刻度效果[人口金字塔](http://bl.ocks.org/4062085)- 垂直轴上的刻度有一条线穿过图表的其余部分。

对于时间尺度，我需要注意不同的行为吗？

非常感激。

铬 23，D3 v3

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T21:20:38.907

将刻度线放入绘图区域的技巧是实际制作第二个轴并隐藏标签。所以你的代码加上网格线看起来像（[小提琴](http://jsfiddle.net/96XUd/)）：

```
// draw x axis
var xAxisLine = svg.append("g")
    .attr("class", "xAxis")
    .attr("transform", "translate(0, " + (height - 23) + ")")
    .call(xAxis);

xAxisLine.selectAll("path.domain").attr("stroke","black").style('fill','none');
xAxisLine.selectAll("line.tick").style('stroke','black');

xAxis.tickSize(height-23);
var xAxisLineOver = svg.append("g")
    .attr("class", "xAxis-overlay")
    .attr("transform", "translate(0,0)")
    .call(xAxis);

xAxisLineOver.selectAll("path.domain").attr("stroke-width",0).style('fill','none');
xAxisLineOver.selectAll("line.tick").style('stroke','red');
xAxisLineOver.selectAll("text").text(""); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-03-18T11:08:49.663

我不确定这与我遇到的问题完全相同。对我有用的是：

```
.tick line{ 
  stroke: black
}
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-09T16:00:06.030

Chrome 在渲染 SVG 方面非常严格。所以请记住这一点：

1.  对于轴，请指定其完整的 RGB 值（因此 #ff0000 而不是仅 #f00）。

2.  路径笔触宽度很棘手。如果它们小于 1 (px) 并且您已包含

    形状渲染：crispEdges；

在 CSS 样式中，任何 Web 浏览器都可能不会显示这样的路径（或者当图表调整为不同大小时）。

在这种情况下，评论或删除“crispEdges”渲染，你应该没问题（尽管在这种情况下你让浏览器做出平滑决定）。

# haproxy - 使用 cookie 的 Haproxy 1.5dev17 stick-table 不起作用

> ID：14210200
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:34:11.257
> 
> 标签：haproxy

M 试图使用服务器的 cookie 集响应作为查找值来使 haproxy 棒实现工作。

这是haproxy conf的片段

- - 开始 - -

后端bk

```
stick-table type string len 36 size 1m

stick store-response set-cookie(Server-Token)

stick match url_param(token)

server db01 127.0.0.1:8001 maxconn 5 check inter 60000

server db02 127.0.0.1:8002 maxconn 5 check inter 60000 
```

- -结尾 - -

服务器设置 cookie 并且客户端基于此 cookie val 坚持到相应的服务器，作为通过 haproxy 的请求响应的一部分。

这没有按预期工作。虽然将“store-response”与“src”结合起来，但 fetch 方法有效。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:20:00.967

我刚刚尝试了您的配置，它在这里与 dev17 完美配合。我假设您有一个“默认”部分，因为您的后端甚至没有指定 http 模式。请你把它贴出来好吗？我认为问题就在那里。

# mobile - 手机上的陀螺仪漂移

> ID：14210206
> 
> 赞同：13
> 
> 时间：2013-01-08T07:34:38.810
> 
> 标签：mobile, gyroscope

很多帖子都在谈论陀螺漂移问题。有人说陀螺读数有漂移，但也有人说积分有漂移。

1.  原始陀螺仪读数有漂移[[链接]](https://stackoverflow.com/questions/1586658/combine-gyroscope-and-accelerometer-data)。
2.  积分有漂移[[链接]](https://stackoverflow.com/questions/7246256/gyro-sensor-drift-and-correct-angle-estimation) (Answer1)。

所以，我进行了一项实验。接下来的两个数字是我得到的。下图显示陀螺仪读数完全没有漂移，但有偏移。由于偏移，集成是可怕的。所以看起来整合就是漂移，是吗？ ![在此处输入图像描述](../Images/161f3fc3c6c0885f16d00c1d5492a7ee.png)

下图显示，当偏移减少时，积分根本不会漂移。 ![在此处输入图像描述](../Images/33366e68322c9428f8d11faef809cf40.png)

此外，我还进行了另一个实验。首先，我将手机静止在桌子上大约 10 秒。然后将其向左旋转然后恢复到后面。然后右转。下图很好的说明了这个角度。我使用的只是减少偏移然后进行积分。

![在此处输入图像描述](../Images/b58c2d5af04c4b56223e6a423e5953c3.png)

所以，我这里的大问题是，也许偏移量是陀螺漂移（积分漂移）的本质？在这种情况下，是否可以应用互补滤波器或卡尔曼滤波器来消除陀螺漂移？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-01-08T11:18:10.723

如果陀螺读数有“漂移”，则称为**偏差**，不漂移。

漂移是由积分引起的，即使偏差正好为零，它也会发生。漂移是因为您正在通过积分累积读数的白噪声。

对于**漂移消除**，我强烈推荐[Direction Cosine Matrix IMU: Theory](https://drive.google.com/open?id=0B9rLLz1XQKmaZTlQdV81QjNoZTA)手稿，我已经基于它实现了[Shimmer 2设备的传感器融合。](http://www.shimmer-research.com/products-2/shimmer-revisions)

（编辑：该文档来自[MatrixPilot](https://github.com/MatrixPilot/MatrixPilot)项目，该项目已移至 Github，可在 wiki 的下载部分找到。）

如果您坚持使用卡尔曼滤波器，请参阅[https://stackoverflow.com/q/5478881/341970](https://stackoverflow.com/q/5478881/341970)。

**你为什么要实现自己的传感器融合算法？**

Android ( [SensorManager](http://developer.android.com/reference/android/hardware/SensorEvent.html#values) under `Sensor.TYPE_ROTATION_VECTOR`) 和 iPhone ( [Core Motion](http://developer.apple.com/library/ios/documentation/CoreMotion/Reference/CMAttitude_Class/Reference/Reference.html#//apple_ref/occ/cl/CMAttitude) ) 都提供了自己的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-07T10:57:53.107

亲爱的阿里写了一些非常有问题和不精确的东西（错误）。

漂移*是*偏差的积分。当你整合时，这是偏见的可见“影响”。噪声 - 任何类型的固定噪声 - 均值为零，因此积分为零（我不是在谈论 PSD 的积分，而是在时间上积分的信号的加性噪声​​）。

偏差随时间变化，作为电压和运动温度的函数。例如，如果电压发生变化（并且它会发生变化），则偏置会发生变化。它的偏差不是固定的，也不是“可预测的”。这就是为什么您不能使用建议的信号减去估计的偏差来消除偏差。此外，任何估计都有错误。这个错误会随着时间累积。如果误差较低，则累积（漂移）的影响在较长的时间间隔内变得可见，但它仍然存在。

理论说，目前不可能完全消除偏见。在最先进的技术水平下，仍然没有人找到一种方法来消除偏差——仅基于陀螺仪和加速度计磁力计——可以过滤掉所有的偏差。

Android 和 iPhone对偏差消除算法的实现*有限。*它们并非完全不受偏差效应的影响（例如，在小区间内）。对于某些应用程序，这可能会导致严重的问题和不可预知的结果。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-11T16:07:46.983

在本次讨论中，Ali 和 Stefano 都提出了由于理想整合而导致的漂移的两个基本方面。

基本上，零均值白噪声是一个理想化的概念，即使对于这种理想的噪声集成，也可以提供比噪声的低频分量更高的增益，这会在集成信号中引入低频漂移。从理论上讲，如果在很长一段时间内观察到零均值噪声不会引起任何漂移，但实际上理想的积分永远不会起作用。

另一方面，如果对读数（输入信号）执行理想的积分（无损求和），即使读数（输入信号）中的微小直流偏移也可能导致显着漂移。它可以增加系统中非常小的直流偏移，因为理想的集成对输入信号的直流分量具有无限增益。因此，出于实际目的，我们用低通滤波器代替理想积分，该滤波器的截止值可以根据需要低，但对于实际目的不能为零或太低。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-01-15T19:17:59.750

受到阿里回复的启发（感谢阿里！），我做了一些阅读和一些数值实验，并决定发表我自己关于陀螺漂移性质的回复。

我写了一个简单的[八度在线脚本](http://octave-online.net/?s=ZKBoHkaGpBaHXnEtEgyHDyKRCIdbEdpKuMnVwzHGGaOiMhmX)来绘制白噪声和集成白噪声：

[![在此处输入图像描述](../Images/7ade607afb1d262f655a73c74e002814.png)](https://i.stack.imgur.com/z6mhB.png)

问题中显示的减少偏移的角度图似乎类似于典型的随机游走。数学随机游走的平均值为零，因此不能算作漂移。但是，我相信白噪声的数值积分会导致非零均值（如下面随机游走的直方图所示）。这与线性增加的方差一起可能与所谓的陀螺漂移有关。

[这里](https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-696.pdf)对陀螺仪和加速度计产生的误差进行了很好的介绍。无论如何，我还有很多东西要学，所以我可能是错的。

关于免费滤波器，这里有一些讨论[，](http://www.pieter-jan.com/node/11)展示了它如何减少陀螺漂移。这篇文章非常非正式，但我发现它很有趣。

# ruby-on-rails - $http get to a Rails ApplicationController 针对 Angular 1.1+ 构建给出“HTTP 错误 406 不可接受”

> ID：14210218
> 
> 赞同：5
> 
> 时间：2013-01-08T07:35:35.110
> 
> 标签：ruby-on-rails, http-headers, angularjs

如果您正在调用这样的 Rails 服务：

```
 $http.get(url).success(successFn)
               .error(
                      function(data, status, headers, config) {
                               console.log('Failed');
                      }
                     ); 
```

你的 Rails ApplicationController 会这样响应：

```
 def your_service

      # do some stuff

      respond_to do |format|
         format.js { render 'shared/common_js' }
      end
   end 
```

使用 angular 1.0.x 一切顺利，您的服务回答 OK 200。

然后我对不稳定的 1.1.x 版本尝试了相同的代码，但由于 HTTP 错误 406 不可接受，事情停止了。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-08T16:56:52.720

我花了几个小时调查这个，希望这会节省别人的时间。

经过调试会话后，我终于发现不同之处在于请求标头：

```
1.0.3 (at this time):  {X-Requested-With: "XMLHttpRequest", Accept: "application/json, text/plain, */*", X-XSRF-TOKEN: undefined} 

1.1.1 (at this time):  {Accept: "application/json, text/plain, */*", X-XSRF-TOKEN: undefined} 
```

所以我用谷歌搜索“X-Requested-With: XMLHttpRequest removed”，我终于发现了这个提交：

($http)：从标头默认值中删除“X-Requested-With” [https://github.com/angular/angular.js/commit/3a75b1124d062f64093a90b26630938558909e8d](https://github.com/angular/angular.js/commit/3a75b1124d062f64093a90b26630938558909e8d)

（此删除是一些讨论的结果，基本上是为了允许更顺畅的 CORS 请求）

删除后，Rails 无法再通过该服务找到方法，即：

```
format.js { render 'shared/common_js' } 
```

不再触发（实际上是 format.html）！

一个可能的解决方法是：

```
 $http( {method: 'GET', url: url , headers: {'X-Requested-With': 'XMLHttpRequest', 'Accept': 'application/json, text/plain, */*'}})
           .success(successFn)
           .error(
                           function(data, status, headers, config) {
                               console.log('Fail');
                             }
                         ); 
```

否则，如提交中所述，您可以像这样带回丢失的标头：

```
myAppModule.config(['$httpProvider', function($httpProvider) {
    $httpProvider.defaults.headers.common["X-Requested-With"] = 'XMLHttpRequest';
}]); 
```

希望这有帮助，干杯。

# hadoop - 数据节点未启动

> ID：14210221
> 
> 赞同：0
> 
> 时间：2013-01-08T07:35:41.613
> 
> 标签：hadoop, hadoop-streaming, hadoop-plugins, hadoopy

![](../Images/4c60297a68c5b31e6a21df2fde19db13.png)

我在我的盒子中配置了 hadoop 设置并使用示例程序一切都很好并且运行良好所有守护进程也处于运行状态。第二天早上数据节点没有运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T09:34:32.253

尝试重新启动 hadoop 并格式化 namenode 。通常，问题在重新启动 hadoop 时得到解决

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-23T02:35:42.660

我也遇到了同样的问题...我通过更改 hdfs-site.xml 中的字段解决了它...之前我的字段具有值...${user.home}/hadoop/data/datanode 我将其更改为 $/hadoop/data/datanode 并启动数据节点

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-14T07:54:03.793

停止所有服务。将主机名添加到 conf/slaves 并运行 start-all.sh

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T06:57:50.567

我通过以下方式解决了这个问题：

1.通过在位于/etc 的文件“hostname”中写入“localhost”。并在它正常工作后重新启动。

# objective-c - ASIHTTPRequest Post 请求在通过 HTTPClient 工作时失败

> ID：14210222
> 
> 赞同：1
> 
> 时间：2013-01-08T07:35:43.913
> 
> 标签：objective-c, ios, post, asihttprequest

如标题中所述，我使用发送`POST`请求`ASIHTTPRequest`但失败，但相同的`POST`请求在中有效`HTTPClient`，我做错了什么吗？

```
- (void)postData:(NSData *)postData {
    //...
    NSMutableData *mutableData = [postData.mutableCopy autorelease];
    [request setRequestMethod:@"POST"];
    [request setPostBody:mutableData];
    [request setPostLength:mutableData.length];
    //....
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T21:43:34.537

好的，我发现了问题，由于某种原因我无法做到

`[request setPostBody]`

我必须使用

`[request appendPostData:[theString dataUsingEncoding:NSUTF8StringEncoding]]`

反而。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T10:44:02.450

在所有情况下这还不够，至少我还必须在请求中添加正确的 Content-Type 标头：

```
[request addRequestHeader:@"Content-Type" value:@"application/x-www-form-urlencoded"];
[request appendPostData:[theString dataUsingEncoding:NSUTF8StringEncoding]] 
```

# sql-server - 无法连接到本地主机

> ID：14210231
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:36:15.380
> 
> 标签：sql-server

当我通过 连接到 SQL 时，我随机收到以下错误`SSMSE 2005`。

> 附加信息：与服务器成功建立连接，但在登录过程中发生错误。（提供者：共享内存提供者，错误：0 管道另一端没有进程。）（Microsoft SQL Server 错误，错误：233）。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:43:08.967

也许是 web.config connectionString 导致了结果。替换 Integrated Security=True 的默认身份验证详细信息：

```
connectionString

="Data Source=STL-COPELAND\SQLSERVER2005;Initial Catalog=IC;Integrated Security=True" 
```

例如在连接字符串中使用“User ID=sa Password=pwd”：

```
connectionString

="Data Source=STL-COPELAND\SQLSERVER2005;Initial Catalog=IC;User ID=sa Password=pwd" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T09:06:17.850

您可以先尝试检查是否从 SQL Server 配置管理器启用了以下协议：

1.  命名管道

2.  TCP/IP

此外，从外围应用配置管理器中检查您的 SQL Express 实例是否配置为接受远程连接。

请参考以下链接以获得更多帮助：

[http://msdn2.microsoft.com/en-us/library/bb326280.aspx](http://msdn2.microsoft.com/en-us/library/bb326280.aspx)

# php - PHP websocket服务器和mysql连接

> ID：14210234
> 
> 赞同：1
> 
> 时间：2013-01-08T07:36:26.003
> 
> 标签：php, mysql, websocket

我有一个基于[这个](http://code.google.com/p/php-websocket-server/)的 php websocket 服务器。这个 websocket 服务器运行在与公共 web 服务器不同的 apache 上，但在同一个物理服务器上，所以我需要一个数据库连接来检索用户数据。用户数据由当前会话 id 获取，当用户登录时，该会话 id 也会在数据库中更新。现在，如果我运行我的 websocket 服务器，它可以完美运行，但经过一段不错的时间（不能说时间跨度），结果仍然为空. 我检查了数据集。

查询字符串是最新的，并且正确的会话 ID 在数据库中，它应该返回所需的行，但结果保持为空。如果我终止进程并运行这个 websocket 服务器，它会暂时工作，但过一段时间结果又是空的。

这是我的 websocketserver.php 简化：

```
set_time_limit(0);
require 'class.PHPWebSocket.php';

$db1 = mysql_connect( 'localhost', 'dev', 'xxxxxxxx' );
mysql_select_db('cb_dev',$db1);

function wsOnMessage($clientID, $message, $messageLength, $binary) {
    global $Server;

    $sessionid = "/*just imagine a session id here*/";
    $result = mysql_query("SELECT username, id FROM users WHERE sessionid = '$sessionid'");
    $row = mysql_fetch_row($result);
}

function wsOnOpen($clientID) {
    //
}

function wsOnClose($clientID, $status) {
    //
}

$Server = new PHPWebSocket();
$Server->bind('message', 'wsOnMessage');
$Server->bind('open', 'wsOnOpen');
$Server->bind('close', 'wsOnClose');

$Server->wsStartServer('0.0.0.0', 9010); 
```

注意：使用的会话 ID 正确提供，所以这不是问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-10-28T10:59:23.637

[Swoole](https://github.com/swoole/swoole-src)是满足您要求的更好选择。它支持 PHP 中的原生 websocket 服务器和异步 mysql，带有 ac 扩展

WebSocket 服务器示例：

```
$ws = new swoole_websocket_server("0.0.0.0", 9502);

$ws->on('open', function ($ws, $request) {
    var_dump($request->fd, $request->get, $request->server);
    $ws->push($request->fd, "hello, welcome\n");
});

$ws->on('message', function ($ws, $frame) {
    echo "Message: {$frame->data}\n";
    $ws->push($frame->fd, "server: {$frame->data}");
});

$ws->on('close', function ($ws, $fd) {
    echo "client-{$fd} is closed\n";
});

$ws->start(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-04-08T14:13:44.927

这是因为您的 $sessionid 已过期。需要设置更高的超时时间：

```
// 1 hour
ini_set('session.gc_maxlifetime', 3600);
session_set_cookie_params(3600); 
```

# java - 字符串比较结果 b/w == 和 String#replace with == 的差异

> ID：14210235
> 
> 赞同：2
> 
> 时间：2013-01-08T07:36:26.990
> 
> 标签：java, string, if-statement

> **可能的重复：**
> [Java 中的字符串比较和字符串实习](https://stackoverflow.com/questions/3885753/string-comparison-and-string-interning-in-java)

我对 Java 中的字符串比较有一点疑问，请考虑以下代码：

```
if("String".replace('t','T') == "String".replace('t','T')) {
  System.out.println("true");
}
else {
  System.out.println("false");
} 
```

上面的代码总是 print's `false`，好像我这样尝试：

```
if("STring" == "STring") {
  System.out.println("true");
}
else {
  System.out.println("false");
} 
```

它总是会打印我`true`。是的，我知道字符串比较应该用`String.equals() or equalsIgnoreCase()`方法来完成。但这是面试中被问到的问题之一，我很困惑。谁能指导我这种行为？

据我所知，在代码片段 1 中，`"String.replace('t','T')`正在返回对象，因此对象比较返回 false。我对吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T07:41:57.650

> “String.replace('t','T') 正在返回对象，因此对象比较返回 false。我说的对吗？

是的，至于这种情况，你是对的。[`String#replace`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace%28char,%20char%29)（或 String 类的任何方法），将返回一个新的 String 对象（你可以猜到为什么？*不变性*）。因此，您必须使用`equals`方法进行比较，以比较它们的内容。

现在，在第二种情况下： -

```
"STring" == "STring" 
```

您正在比较两个字符串文字。现在，由于[String 文字是](http://en.wikipedia.org/wiki/String_interning)在 Java 中实习的，所以两个文字都是相同的（从某种意义上说，它们指向相同的内存位置），因此`==`比较会给你`true`.

使用`==`and进行比较的区别`equals`在于，`==`比较*参考值*- 即对象的内存位置值，对于两个不同的字符串对象，这将是不同的，就像您在第一种情况下所拥有的那样。然而，`equals`比较这些对象中的实际内容。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-08T07:38:14.300

> “String.replace('t','T') 正在返回对象，因此对象比较返回 false。我说的对吗？

是的，`==`比较对象引用，您的第一个代码是比较两个不同的对象。

就第二个代码而言，它是由于[字符串实习。](http://javatechniques.com/blog/string-equality-and-interning/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T07:42:46.727

好的，让我们这样做，您的两个字符串对象“字符串”都引用同一个对象。所以他们“基本上”是平等的。这是编译器为你做的事情

但是方法 replace 确实创建并返回了一个新的 String 对象，这就是您的第二个代码不相等的原因。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T07:41:14.500

Java在**使用**. `int`_ `byte`_**`==`**

 **java 编译器优化您输入的两个字符串常量以使用相同的对象，因此相同的引用，因此`==`返回 true

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-08T07:39:43.537

这样做

```
("String".replace('t','T').Tostring() ==  ("String".replace('t','T')).ToString() 
```

这将解决您的问题，因为替换语句应在评估之前转换为字符串。

您也可以为此使用 String.Equals 或更好地使用您在问题中提到的忽略大小写。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-01-08T07:39:46.960

试试这个：

如果（string1.equals（string2））{

...

}**

# c# - 如何将 System.Windows.Controls 类型转换为 System.Windows.Forms wpf

> ID：14210238
> 
> 赞同：3
> 
> 时间：2013-01-08T07:36:39.763
> 
> 标签：c#, wpf

我正在尝试 TypeCast`Windows.Controls`到`Windows.Form`但得到 Null。

```
private void treeView_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)
{       
  var tv = sender as System.Windows.Forms.TreeView;
} 
```

如果是的话，`System.Windows.Controls`我可以打字吗？`System.Windows.Forms`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T07:42:18.267

根据 MSDN

**windows.controls** - System.Windows 命名空间包含**在 Windows Presentation Foundation (WPF) 应用程序中使用的**类型，包括动画客户端、用户界面控件、数据绑定和类型转换。System.Windows.Forms 及其子命名空间用于开发 Windows 窗体应用程序。

**System.Windows.Forms** - System.Windows.Forms 命名空间**包含用于创建基于 Windows 的应用程序的类，这些应用程序**充分利用 Microsoft Windows 操作系统中提供的丰富用户界面功能。

所以你真正想要的根本不可能。

# php - 如何从多个表中获取多个计数？

> ID：14210239
> 
> 赞同：2
> 
> 时间：2013-01-08T07:36:42.463
> 
> 标签：php, mysql, sql

在网页上，我显示了许多图片集（我显示了每个集合的缩略图）。每张图片有五个相关的表格：

> **喜欢**（id，user_id，picture_id），
> **视图**（id，user_id，picture_id），
> **评论**（id，user_id，picture_id，comment），
> 
> **图片**（id（等于上表中的“picture_id”）、collection_id、picture_url 和其他几个列）、
> **集合**（id（等于上表中的 collection_id）和其他几个列。

在加载我的页面时，我需要汇总每个集合中所有图片的点赞数、浏览量和评论数，以便在每个集合下显示这些数字。

所以基本上：计算每张图片的喜欢，将它们全部计数，显示数字。计算每张图片的浏览量，将它们全部计数，显示数字。统计每张图片的评论，全部统计，显示数字。然后冲洗并重复所有收集。

我是 mysql 的新手，我在选择、多个连接、计数、php 与 mysql 等之间苦苦挣扎。我敢肯定有很多方法可以做到这一点，但效率很低，所以我希望你可以告诉我最好/最快/最有效的方法。

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:04:06.327

您可以使用选择和左连接来解决此问题。

由于您将计算每个表上的条目 every `pictureId`，因此您的`pictures`表将位于每个关系的左侧。所以：

```
select 
    p.id as pictureId,
    count(distinct l.id) as count_likes,
    count(distinct v.id) as count_views,
    count(distinct c.id) as count_comments
from
    pictures as p
    left join likes as l on p.id = l.pictureId
    left join views as v on p.id = v.pictureId
    left join comments as c on p.id = c.pictureId
group by
    p.id 
```

基本上，您正在为表中的每条记录计算每个表中的每条记录`pictures`；`likes`如果,`views`或中没有记录`comments`，则计数将分别为零。

当然，您可以将这个想法扩展到集合：

```
select
    c.id as collection_id,
    p.id as picture_id,
    count(distinct l.id) as count_likes,
    count(distinct v.id) as count_views,
    count(distinct c.id) as count_comments
from
    collections as c
    left join pictures as p on c.id = p.collection_id
    left join likes as l on p.id = l.picture_Id
    left join views as v on p.id = v.picture_Id
    left join comments as c on p.id = c.picture_Id
group by
    c.id,
    p.id 
```

如果你想为每个集合过滤你的结果，你只需要在`where c.id = aValue`之前添加`group by`（`aValue`你要检索的集合Id在哪里）

希望这对您有所帮助。

* * *

如果您只需要每个集合的聚合数据：

```
select
    c.id as collection_id,
    count(distinct l.id) as count_likes,
    count(distinct v.id) as count_views,
    count(distinct c.id) as count_comments
from
    collections as c
    left join pictures as p on c.id = p.collection_id
    left join likes as l on p.id = l.picture_Id
    left join views as v on p.id = v.picture_Id
    left join comments as c on p.id = c.picture_Id
group by
    c.id 
```

这应该可以解决问题；-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:06:03.827

您可以使用子选择来做到这一点：

```
SELECT
  collections.*,
  ( SELECT COUNT(*) FROM pictures, likes
    WHERE pictures.id = likes.picture_id
      AND pictures.collection_id = collection.id
  ) AS like_count,
  ( SELECT COUNT(*) FROM pictures, views
    WHERE pictures.id = views.picture_id
      AND pictures.collection_id = collection.id
  ) AS view_count,
  ( SELECT COUNT(*) FROM pictures, comments
    WHERE pictures.id = comments.picture_id
      AND pictures.collection_id = collection.id
  ) AS comment_count
FROM collections
WHERE ... 
```

这看起来像是`pictures`三次遍历表，但我怀疑 MySQL 可能能够使用[join buffer](http://dev.mysql.com/doc/refman/5.6/en/join-buffer-management.html)来优化它。但是，我应该注意，我实际上并没有测试过这个查询。我也不知道这在性能方面如何与 Barranka 的`LEFT JOIN`解决方案进行比较。（如果天真地实现，两者都会非常糟糕，所以归结为 MySQL 的查询优化器在每种情况下的智能程度。）

# html - 将 html 添加到 jQuerymobile 中的页面

> ID：14210246
> 
> 赞同：0
> 
> 时间：2013-01-08T07:37:38.120
> 
> 标签：html, jquery-mobile

我对 Jquerymobile、html5 和 css 非常陌生。现在我正在处理 jquerymobile 项目，因为我需要在页面中显示我从 rest 服务获取的 html 代码，并且我正在使用以下代码进行操作。

```
<div data-role="content" style="width:700px">
<div id="html_content">
</div>
</div> 
```

和 javascript 是

```
$("#paystub-html").live('pageinit',function(){

$.getJSON(url,function(events){
$(events).each(function(i,item){

$(item.Data).appendTo($("#html_content"));

});
});

}); 
```

我可以显示 html 但不能完全显示它不能水平滚动。我也尝试使用溢出标签，但没有解决。

有没有其他方法可以做到这一点？如何 ？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:38:42.497

这种情况可以通过 解决`overflow`，但您首先需要`width`从内容中删除

```
<div data-role="content">
    <div id="html_content" style="overflow-x:scroll">
    </div>
</div> 
```

你可以[在这里测试](http://jsfiddle.net/hjLyr/)

顺便说一句，jQuery 移动标准使用要求您将内容包含在页面容器中。

# java - 使用 jsch（JCraft）我需要 pg 一个 unix 文本文件

> ID：14210248
> 
> 赞同：2
> 
> 时间：2013-01-08T07:37:47.483
> 
> 标签：java, ssh

我需要连接到 ssh 服务器并提取一个大文件的数据。我可以使用 cat 命令来完成，并且需要将近 10 -15 分钟的时间。

这里的挑战是，我不能使用 sftp，exe 即 Channel channel = session.openChannel("sftp"); & 频道频道 = session.openChannel("exec"); 在我的 prd 环境中不允许。

剩下的唯一选择是“shell”。

谁能告诉我怎么做 pg ，直到在文件中找到特定的模式。

请帮我提供一个代码示例！

希望你得到我的询问。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T10:27:43.350

下面的示例程序怎么样？

```
 https://gist.github.com/4482587 
```

它将远程执行“gzip -c”，并对给定的数据流进行压缩。

# xml - Bashscript：从 XML 文件中读取某个多行标签并解析属性

> ID：14210249
> 
> 赞同：1
> 
> 时间：2013-01-08T07:37:55.840
> 
> 标签：xml, bash

我必须从 XML 文件中读取特定的标签属性并将它们返回给模板文档。
我已经*读完*了文件本身，现在我怎样才能只读取一个标签并解析它的属性？

```
<?xml version="1.0" encoding="UTF-8"?>
<instances
name="instance-name"
port="60535"
username="bar"
password="foo"
string_var="barfoo">
some xml (up to 5k lines and 3 k elements i do not need)
</instances> 
```

在遇到“>”之前如何读取字符串？以及如何将值放入变量中？

想要的输出：

```
TPAR_PORT = 60535
TPAR_USERNAME = bar
TPAR_PASSWORD = foo
TPAR_INSTANCE = instance-name 
```

顺便说一句，值是否带有单引号都没有关系

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:49:08.377

使用适当的 XML 解析器。但是，您的示例不是格式正确的 XML：`foo`并且`bar`不允许在 XML 声明中使用，该声明必须以 . 结尾`?>`，而不是简单的`>`. 此外，`encoding`应该使用而不是`charset`.

修复文件后，您可以开始使用适当的工具。

```
<?xml version="1.0" charset="UTF-8"?>
<instances
name="instance-name"
port="60535"
username="bar"
password="foo"
string_var="barfoo">
some xml
</instances> 
```

例如，您可以使用`xmllint`及其`--shell`选项：

```
$ xmllint 1.xml --shell  <<<'cat /instances/@port'
/ > cat /instances/@port
 -------
 port="60535"
/ > 
```

我最喜欢的工具是[xsh](http://p3rl.org/XML%3a%3aXSH2)：

```
$ xsh <<<'open 1.xml ; echo /instances/@port'
60535 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T09:10:02.547

这个怎么样

```
while read
do
  eval $REPLY 2>/dev/null
done < a.xml 
```

# iphone - UITextField 字体显示不同

> ID：14210251
> 
> 赞同：1
> 
> 时间：2013-01-08T07:38:02.330
> 
> 标签：iphone, ios, uitextfield

我正在做一个应用程序。在那个应用程序中，我使用`UITextField`并将字体设置为系统字体，16，最小字体大小为 18。在编辑之前，文本文件数据未正确显示，但当我承诺编辑时，该文本显示正确。请检查下面的图像。![在此处输入图像描述](../Images/778d06035f7529e4be7843d52b9ddd07.png)

![在此处输入图像描述](../Images/ecd80c5f38b342fce4e17ece66f6de75.png)

所以请帮助我如何在编辑之前充分显示文本。

# javascript - 如何使用 jQuery 创建淡入淡出图片幻灯片？

> ID：14210257
> 
> 赞同：0
> 
> 时间：2013-01-08T07:38:32.793
> 
> 标签：javascript, jquery, html

我在下面尝试使用以下 jQuery 代码（我知道它没有优化，但我认为这不是问题；尽管可以随意优化它）：

```
$(document).ready(function(){
  var cur = 0;
  function slideshow() {
  $("#imgdisp").fadeOut(400);
  if (cur >= 3) {
    cur = 1;
  } else {
    cur++;
  }
  $("#imgdisp").empty().append("<img height='456px' width='691px' id='img' src='slideshow_home/home_"+cur+".jpg'>");
    $("#imgdisp").fadeIn(400);
    setTimeout(slideshow,4000);
  }
  slideshow();
}) 
```

使用以下 HTML 文件：

```
<!DOCTYPE html>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="jscodes/slideshow.js"></script>
<link type="text/css" rel="stylesheet" href="csscodes/slideshow.css">
<div id="imgdisp">
<img height="456px" width="691px" id="img" src="slideshow_home/home_1.jpg">
</div>
</html> 
```

我要创建的是一个幻灯片，它执行以下操作（按顺序）：

1) 淡出当前图像

2) 移除当前图像

3）附加一个新图像（称为home_2.jpg，它上升到home_3.jpg）

4) 淡入

5）等待四秒钟以重复下一张图像

但是，当我尝试运行此代码时，它会在淡出之前附加新图像，因此图像会突然出现，淡出，然后淡入，并在重复之前等待四秒钟。我的问题是：

1）如何修复此代码，以便在 div 淡出时更改图像？

2）有没有办法让图像立即褪色到下一张图像？

在此先感谢所有做出贡献的人:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:17:33.580

试试这个：

```
$(document).ready(function(){
    var cur = 0;
    function slideshow() {
        if (cur >= 3) {
            cur = 1;
        } else {
            cur++;
        }
        $("#imgdisp").empty().append("<img height='456px' width='691px' id='img' src='slideshow_home/home_"+cur+".jpg'>");
        $("#imgdisp").fadeIn(400);
        setTimeout(removeCurrent, 4000);
    }

    function removeCurrent(){
        $("#imgdisp").fadeOut(400);
        slideshow();
    }
    slideshow();
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T09:11:48.310

您可以使用[此处](http://nivo.dev7studios.com/)`NivoSlider`提供的`jQuery`插件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T09:27:16.407

在 dunli 之上，一些修改可以做你想要的 -

```
$(document).ready(function(){
    var cur = 0;
    function slideshow() {
        if (cur >= 3) {
            cur = 1;
        } else {
            cur++;
        }

        $("#imgdisp").empty().append("<img style='display:none' src='image_path/home_"+cur+".jpg' />");
        $("#imgdisp img").fadeIn(400);
        setTimeout(removeCurrent, 4000);
    }

    function removeCurrent(){
        $("#imgdisp img").fadeOut(400);
        slideshow();
    }
    slideshow();
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T00:08:48.867

试试这个：

```
$(document).ready(function(){
        var cur = 1;
        function slideshow() {
            if (cur >= 3) {
                cur = 1;
            } else {
                cur++;
            }
            setTimeout(function(){
                $("#imgdisp").fadeOut(400, function(){
                    $("#imgdisp").empty().append("<img height='456px' width='691px' id='img' src='img_"+cur+".jpg'>");
                    $("#imgdisp").fadeIn(400);
                });
                slideshow();
            }, 4000);
        }
        slideshow();
    }); 
```

# c# - 在 Microsoft.Phone.Controls.Toolkit 中找不到 LongListSelectorItem

> ID：14210263
> 
> 赞同：0
> 
> 时间：2013-01-08T07:38:44.953
> 
> 标签：c#, silverlight, windows-phone-7, longlistselector

我正在尝试`LongListSelectorItem`在我的 wp7 应用程序中使用。但我在我的程序集中找不到它。所以，我从[这里](http://windowsphonegeek.com/articles/Improvements-in-the-LongListSelector-Selection-with-Nov-11-release-of-WP-Toolkit)下载了示例。在示例中一切正常，我可以`LongListSelectorItem`在该项目中使用。但在我的项目中，`Microsoft.Phone.Controls.Toolkit`没有`LongListSelectorItem`，只有`LongListSelector`. 因此，我删除了我的 assemply `Microsoft.Phone.Controls.Toolkit`，并`Microsoft.Phone.Controls.Toolkit`完全从该示例中添加。但即使在此之后 -`LongListSelectorItem`组装中也没有。我想，因为我正在开发 WP7.1 应用程序，而不是 WP8。但是，当我创建新的 WP8 项目并从示例中添加程序集时 -`LongListSelectorItem`不存在。我不明白哪里有问题，程序集有`LongListSelectorItem`，但是当我将它添加到我的项目时 -`LongListSelectorItem`消失了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:16:03.763

该示例使用[Windows Phone Toolkit](http://phone.codeplex.com/)（以前称为 Silverlight Phone Toolkit），您应该将其添加到您的项目中。

# python - 对使用后仍然可见的文本感到困惑

> ID：14210265
> 
> 赞同：2
> 
> 时间：2013-01-08T07:38:50.203
> 
> 标签：python

我不确定这是否是一个愚蠢的问题，但我真的找不到任何关于它的信息。我想知道在程序运行时是否以及如何从程序中删除以前的打印语句。这有点难以解释！这是一些示例代码：

```
while True:
    x = input('Where would you like to go? ')
    if x == 'home':
        print('You are at home.')
    elif x == 'field':
        print('You are at the field.')
    elif x == 'exit':
        break 
```

这段代码并不重要。只是一个例子。当代码运行时，我们会收到一个问题：“你想去哪里？” 我们回答，“家”。然后打印语句打印“你在家”。并且循环再次迭代最初的问题：“你想去哪里？”。

所有这些文本现在都在它运行的窗口中，当我继续对程序进行操作时，它会逐渐增加，并且我在窗口底部输入的位置上方有大量文本。

有没有办法让这个程序运行这个问题，我输入说，'home'，让它运行代码然后删除自己，这样程序运行的整个时间我都在屏幕顶部输入我的输入没有之前所有输入和输出的混乱？如果可以以更好的方式提出这个问题，我可以对其进行编辑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:43:46.197

每次都需要清空终端。从[python中的清除终端](https://stackoverflow.com/questions/2084508/clear-terminal-in-python)

```
import os
os.system( [ 'clear', 'cls' ][ os.name == 'nt' ] ) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:46:30.243

这取决于脚本在哪里运行。如果它在终端中运行，您可以使用`os.system`清除终端：

（Linux）：`os.system('clear')`

（视窗）：`os.system('CLS')`

如果您在 IDLE 中运行，那么您能做的最好的事情就是编写一个`clear()`函数来打印多个换行符。没有办法（据我所知）实际清除 IDLE 控制台。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T07:58:39.610

如果你不想使用 Steve 的 list/bool hack -

```
os.system('cls' if os.name == 'nt' else 'clear') 
```

# c - 如何在 C 语言中调用 ML 接口（函数）

> ID：14210274
> 
> 赞同：2
> 
> 时间：2013-01-08T07:39:14.793
> 
> 标签：c, function, call, invoke, ml

我从网上下载了一个开源的ML编写的软件Unison，希望可以复用部分功能，但是在我的项目中我使用的是C语言，有没有办法用C语言调用ML编写的接口（函数）？我希望可能有一些方法可以调用外部 ML 函数，例如在 Windows 上使用 C++ 调用 Dlls 中的函数。

我认为可能有3种可能的方式：

1.将ML代码移植到C。

2.用汇编语言编译ML代码并通过函数地址调用函数。

3.使用socket等进程间通信方式。

但我需要更有效和高效的方法，软件中有大约 30000 行 ML 代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T09:30:15.850

OCaml，编写 Unison 的 ML 方言可以与 C 接口。参考手册中有一章描述了如何完成：请参阅[http://caml.inria.fr/pub/docs/manual-ocaml /manual033.html#toc148](http://caml.inria.fr/pub/docs/manual-ocaml/manual033.html#toc148)用于 OCaml -> C 方式。

# linux - 如何在 Linux 2.6.29 的 ioctl 中解码 cmd = 3222823425？

> ID：14210276
> 
> 赞同：1
> 
> 时间：2013-01-08T07:39:25.853
> 
> 标签：linux, linux-kernel, linux-device-driver

我只是很困惑如何将`cmd=3222823425`值分解为不同的部分以弄清楚该命令在 Linux 内核中的实际含义。我知道，有些函数正在`ioctl`使用以下参数发出命令，但我想知道这些参数值的含义。

```
fd=21, cmd=3222823425 and arg=3203118816 
```

我一直在查看各种论坛、手册页和其他链接，以弄清楚当系统调用`cmd`中的a`ioctl`值为`3222823425`. 我发现 cmd 是一个由 组成的命令号，`type`前`number`两个`data_type`是`8-bit`整数（0-255）。

所以我的问题是如何解码这些参数值以找出这个调用试图做什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-21T00:19:53.453

请注意参考正确的文档以了解如何**解码**ioctl 命令。`Documentation/ioctl-number.txt`解释了如何创建*新*的ioctl 代码，而上一个答案中链接的文档在关注 ioctl 创建之前概述了整个过程。`asm/ioctl.h`是一个更好的来源，因为 ioctl 实际掩码可能因不同的架构而异，但可以在`include/asm-generic/ioctl.h`和中找到对一般约定和位域含义和位置的解释`Documentation/ioctl-decoding.txt`。

从后者：

```
 bits     meaning
 31-30     00 - no parameters: uses _IO macro
           10 - read: _IOR
           01 - write: _IOW
           11 - read/write: _IOWR

 29-16  size of arguments

 15-8   ascii character supposedly
        unique to each driver

 7-0    function # 
```

根据上述，cmd=3222823425应该解码为：

3222823425 -> 0xC0186201 -> 11000000000110000110001000000001

```
- `direction`   ->  `11`              ->  read/write;
- `size`        ->  `00000000011000`  ->  24 bytes (a pointer to a struct of
                                          this size should  be passed as 3rd
                                          argument of ioctl();
- `type`        ->  `01100010`        ->  0x62, ascii for character 'b';
- `number`      ->  `00000001`        ->  driver function #1. 
```

希望这能有所帮助。问候。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:37:26.320

根据这个[链接](http://www.makelinux.net/ldd3/chp-6-sect-1)，`ioctl`命令号有多个组成部分：

*   `type`. 幻数。此字段为 _IOC_TYPEBITS 位宽（通常为 8）
*   `number`. 序数（顺序）数。它是 _IOC_NRBITS 位宽。（通常是 8 个）
*   `direction`. 数据传输方向。可能的值为 _IOC_NONE（无数据传输）、_IOC_READ、_IOC_WRITE 和 _IOC_READ|_IOC_WRITE（双向传输数据）。它通常是 2 位。
*   `size`. 涉及的用户数据的大小。它是 _IOC_SIZEBITS 宽（14 位）。

您应该咨询`include/asm/ioctl.h`并`Documentation/ioctl-number.txt`让您的内核查看实际配置。

对于您的情况 3222823425==0xC0186201

所以：

*   `type`==0xC0
*   `number`==0x18
*   `direction`==0x1
*   `size`==0x2201

（6位是0110，所以`size`是前两位（01），其余位放入`data_type`，仍然是0x2201）

# c# - 如何对多个实例使用 Using 语句？

> ID：14210282
> 
> 赞同：1
> 
> 时间：2013-01-08T07:39:36.417
> 
> 标签：c#, asp.net, c#-4.0

我想使用`using`for`SqlConnection`和`SqlCommand`objects 来处理这些。在这种情况下如何使用？

例如：

```
using (sqlConnection = new SqlConnection(IRLConfigurationManager.GetConnectionString("connectionStringIRL")))
{
} 
```

但这里我使用的是基于 if 条件的连接。

```
SqlConnection _sqlConnection;
SqlCommand sqlCmd;
DBPersister per = (DBPersister)invoice;
if (per == null)
{
    _sqlConnection = new SqlConnection(IRLConfigurationManager.GetConnectionString("connectionStringIRL"));
    sqlCmd = new SqlCommand("usp_UpdateDocumentStatusInImages", _sqlConnection);
}
else
{
    _sqlConnection = per.GetConnection();
    sqlCmd = per.GenerateCommand("usp_UpdateDocumentStatusInImages", _sqlConnection, per);
}

sqlCmd.CommandType = CommandType.StoredProcedure;
//mycode

try
{
    if (_sqlConnection.State == ConnectionState.Closed)
        _sqlConnection.Open();
    sqlCmd.ExecuteNonQuery();
}
catch
{
    throw;
}
finally
{
    if (per == null)
        invoice._sqlConnection.Close();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T07:47:33.437

您可以嵌套它们，如下所示：

```
using (var _sqlConnection = new SqlConnection(...))
{
    using (var sqlCmd = new SqlCommand(...))
    {
        //code
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:45:24.740

使用[条件](http://msdn.microsoft.com/en-US/library/ty67wk28%28v=vs.110%29.aspx)运算符来确定分配给每个变量的内容：

```
using(SqlConnection _sqlConnection = per==null?
      new SqlConnection(IRLConfigurationManager.GetConnectionString("connectionStringIRL"))
      : per.GetConnection())
using(SqlCommand sqlCmd = per==null?
      new SqlCommand("usp_UpdateDocumentStatusInImages", _sqlConnection);
      : per.GenerateCommand("usp_UpdateDocumentStatusInImages", 
       _sqlConnection, per))
{
  //Code here using command and connection
} 
```

虽然我必须说，`per.GenerateCommand(..., per)`它看起来像一个奇怪的函数（它是一个实例方法，也必须传递同一个类的实例 - 它必须始终是同一个实例吗？）

# javascript - 位置：固定，然后位置：页面上某个点之后的绝对位置？

> ID：14210284
> 
> 赞同：0
> 
> 时间：2013-01-08T07:39:43.107
> 
> 标签：javascript, jquery, fixed, absolute

在页面上的某个点之后，如何使 div 标签位置：固定，然后是绝对？

这是我到目前为止所拥有的：

```
<div style="position:fixed; top: 26.45%; right: 10%;"></div> 
```

# php - 阿拉伯语网站的编码

> ID：14210285
> 
> 赞同：1
> 
> 时间：2013-01-08T07:39:43.203
> 
> 标签：php, html

我只想知道 utf-8 和 windows-1256 编码之间的区别。我正在建立阿拉伯语网站，哪种编码更好用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:43:43.550

utf-8 包含范围广泛的字符（不仅是阿拉伯字符），而 windows-1256 是一个阿拉伯代码页。我更喜欢 utf-8，因为并非所有计算机都默认安装 windows-1256。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:44:59.003

你可以用[谷歌搜索](https://www.google.nl/search?q=windows%201256)它。简而言之。Windows-1256 是一个代码页（意味着在这种情况下只有 8 位字符），UTF-8 编码（几乎）所有字符。

如果可以选择，请使用 UTF-8。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:45:05.843

UTF-8 可以同时表示所有支持的字符集，而 Windows-1256 只能支持阿拉伯语 + 一些主要用于法语的拉丁字符。

我会选择 UTF-8，以防您以后想在您的网站中使用任何非阿拉伯字符。

# php - 停止在控制器操作中渲染布 局

> ID：14210291
> 
> 赞同：0
> 
> 时间：2013-01-08T07:39:59.460
> 
> 标签：php, codeigniter, layout

我正在使用[布局](http://www.syahzul.com/blogs/item/codeigniter-layout-without-using-additional-library)方法在 CI 框架中呈现我的模板，如果请求是 AJAX，我会在停止呈现布局的链接上添加一些修改

```
if (!empty($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest') {

   return;

  } else {
      //render the layout (the code from example in the link)
 } 
```

我面临的问题是我正在使用 AjaxFileUpload 将文件上传到服务器，请求类型是同步的，这意味着渲染布局！响应返回为 json + HTML，这是布局条件的正常流程，如果在上传文件时请求是同步的，我应该怎么做才能防止呈现布局。

这是js

```
$.ajaxFileUpload({
url : url ",
secureuri :false,
fileElementId :'imageFile',
dataType : 'json',
type: "POST",

success : function (data)
{
  console.log(data);

},
error: function (request, status, error) { 

}
}); 
```

这里是我从服务器返回的

```
 echo json_encode(array('status' => $status, 'msg' => $msg));
 return; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:11:12.307

只是将 null 传递给您的布局变量的简单解决方案

```
class Welcome extends CI_Controller {

    public $layout = 'default';

    public function index()
    {
        $this->load->view('welcome_message');
    }

   public function ajax_call()
    {
        $this->layout = null;
       echo json_encode(array('status' => $status, 'msg' => $msg));
       // you can use this but your layout should be null
       $this->output
    ->set_content_type('application/json')
    ->set_output(json_encode(array('foo' => 'bar')));
    }
} 
```

# html - 为什么在使用 WebSockets 时会收到 HTTP 请求？

> ID：14210296
> 
> 赞同：0
> 
> 时间：2013-01-08T07:40:11.880
> 
> 标签：html, websocket

我用 JavaScript 编写了一个普通的 WebSocket 客户端，它通过 8080 端口连接到本地主机并发送“ ***hello server*** ”。

**我的服务器是使用标准套接字**包在 Python 中编写的。当我使用 连接到它时`WebSocket`，服务器会收到一个 HTTP 请求：

```
GET / HTTP/1.1
Upgrade: websocket
Connection: Upgrade
Host: 127.0.0.1:8080
Origin: http://127.0.0.1:3030
Pragma: no-cache
Cache-Control: no-cache
Sec-WebSocket-Key: g3y2hDw5WpZYKUwIrsGYaw==
Sec-WebSocket-Version: 13
Sec-WebSocket-Extensions: x-webkit-deflate-frame 
```

...并且它没有收到应该由连接发送的原始***“hello server”消息。***`WebSocket`

我很困惑; 常规套接字和 WebSockets 不是一回事吗？为什么我收到的是 HTTP 请求而不是原始消息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:47:43.067

简而言之，没有网络套接字不仅仅是套接字。它们是 TCP 之上的一种新的类似 http 的协议。请查看[http://en.wikipedia.org/wiki/WebSocket](http://en.wikipedia.org/wiki/WebSocket)以获得简要概述或 RFC [https://www.rfc-editor.org/rfc/rfc6455](https://www.rfc-editor.org/rfc/rfc6455)了解详细信息。

# algorithm - 使用 32 位散列时的冲突概率

> ID：14210298
> 
> 赞同：50
> 
> 时间：2013-01-08T07:40:21.840
> 
> 标签：algorithm, hash, collision, probability, crc

我在数据库中有一个 10 个字符的字符串键字段。我已经使用 CRC32 来散列这个字段，但我担心重复。有人可以告诉我在这种情况下发生碰撞的可能性吗？

ps 我的字符串字段在数据库中是唯一的。如果字符串字段的数量为 100 万，那么碰撞概率是多少？

* * *

## 回答 #1

> 赞同：102
> 
> 时间：2013-01-08T07:45:58.533

[完美 32 位 crc](https://stackoverflow.com/questions/3675728/expected-collisions-for-perfect-32bit-crc)的预期碰撞重复

答案参考了这篇文章：[http ://arstechnica.com/civis/viewtopic.php?f=20&t=149670](http://arstechnica.com/civis/viewtopic.php?f=20&t=149670)

找到下面的图片：http: [//preshing.com/20110504/hash-collision-probabilities](http://preshing.com/20110504/hash-collision-probabilities)

![在此处输入图像描述](../Images/9fb826f467e4d36bd171298d0ce7d4f8.png)

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2013-01-08T14:45:30.503

在您引用的情况下，基本上可以保证至少发生一次碰撞。至少发生一次碰撞的概率约为 1 - 3x10 ^(-51)。您预期的平均碰撞次数约为 116。

一般来说，*k个样本中的平均碰撞次数，每个样本都是从**n 个*可能值中随机选择的：

![N(n,k)~=k(k-1)/(2n)](../Images/c65b5b47f9f2f4dc88d480c9f5fcf341.png)

至少发生一次碰撞的概率为：

![p(n,k)~=1-e^(-k(k-1)/(2n))](../Images/e37b20ffa9406866da1ff6e24bdfb7a0.png)

在您的情况下，*n* = 2 ^(32)和*k* = 10 ⁶。

*在您的情况下，三*向碰撞的概率约为 0.01。请参阅[生日问题](http://en.wikipedia.org/wiki/Birthday_problem)。

# javascript - HighStock：动态添加系列引入差距

> ID：14210301
> 
> 赞同：0
> 
> 时间：2013-01-08T07:40:30.683
> 
> 标签：javascript, highcharts, highstock

动态添加系列会在现有系列中引入间隙。

http://jsfiddle.net/anandc999/6XRuY/

重现步骤 1\. 加载上述 url 2\. 单击烛台 (OHLC) 中的任何位置 3\. 在烛台中移动鼠标 4\. 在烛台图表中再次单击 观察添加了一个新系列，但在现有的 Volume 和 OHLC 系列。

如何在没有间隙的情况下添加系列？已经尝试过 gapsize 和 connectNulls 但不起作用。有人可以帮忙吗？

谢谢阿南德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T15:29:59.980

问题在于Highstock 中的[序数轴。](http://api.highcharts.com/highstock#xAxis.ordinal)此选项强制在图表上均匀显示点，因此当添加新点时 - 它会重新计算每个点的位置。

为防止设置序数：假，请参见示例：http: [//jsfiddle.net/6XRuY/7/](http://jsfiddle.net/6XRuY/7/)

代码：

```
xAxis: {
    ordinal: false  
}, 
```

# javascript - 使用返回未定义响应的 XMLHttpRequest2 类获取请求

> ID：14210304
> 
> 赞同：0
> 
> 时间：2013-01-08T07:40:44.527
> 
> 标签：javascript

我正在[这里](http://www.html5rocks.com/en/tutorials/file/xhr2/)的 html5 Rocks 网站上关注 XMLHttpRequest2 的指南。我也在学习如何在 JavaScript 中创建类。一切似乎都是正确的，但是当我在 jsfiddle 上测试这段代码时，它会从 if 语句中返回两次“错误”，然后响应返回未定义。我怀疑这是班级的问题？

```
function Ajax(parameters) {
    this.type = parameters.type;
    this.url = parameters.url;
    this.format = parameters.format;
    this.send = parameters.send;
    this.xhr = new XMLHttpRequest();
}

Ajax.prototype.initialize = function () {
    this.xhr.open(this.type, this.url, true);
    this.xhr.responseType = this.format;
    this.xhr.onload = this.process();
    this.xhr.send(this.send);
};

Ajax.prototype.process = function () {
    var self = this;
    if (self.xhr.readyState === 4 && self.xhr.status === 200) {
        console.log(JSON.parse(self.xhr.response));
    } else {
      console.log("error");
    }
};

var test = new Ajax({type:"GET", url:"http://ip.jsontest.com/", format:"text", send:""});

test.initialize();

console.log(test.process()); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:05:13.880

我在这里修改了你的代码：http: [//jsfiddle.net/FpskW/](http://jsfiddle.net/FpskW/)

您的代码中有两个问题：

1.  在初始化中，`this.xhr.onload`获取函数执行的值`proccess`，而不是函数本身。`this.xhr.onload`需要一个函数，`()`最后`proccess`你正在执行代码，而不是委托。

2.  如果你这样做`this.xhr.onload = this.proccess`，你传递的`proccess`函数没有特定的上下文。这样，当 XHR 对象执行函数时，函数将具有 XHR 对象的上下文。`this`函数执行时的值`proccess`将是 XHR 对象，而不是您的对象。因此，当 xhr 对象尝试执行`if (self.xhr.readyState === 4..`时，它会发现 XHR 对象没有名为 xhr 的属性。

你可以这样做：

```
 Ajax.prototype.initialize = function () {
      this.xhr.open(this.type, this.url, true);
      this.xhr.responseType = this.format;

      // we capture the context of the Ajax object
      var self = this;

      // and we create a lambda that executes the 'proccess' function always with the context
      // of the Ajax object.
      this.xhr.onload = function() {
        self.process();
      }

      this.xhr.send(this.send);
    }; 
```

就这样。

注意：在 Javascript 中，我们没有类，它们是原型。:)

# java - R.字符串比较

> ID：14210305
> 
> 赞同：0
> 
> 时间：2013-01-08T07:40:48.180
> 
> 标签：java, android

我正在尝试比较 R.string 类中的一个简单字符串，但出了点问题。

```
if(this.b1.getText().equals(R.string.stop_track)) 
```

b1 文本等于 stop_track 文本，为什么我得到一个错误的结果？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T07:42:23.527

`R.string.stop_track`是`int`您的字符串的标识符，而不是它的值。尝试使用这行代码：

```
if(this.b1.getText().equals(getString(R.string.stop_track))) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:44:40.857

`R.string.stop_track`本身只是一个参考，以整数的形式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:54:13.907

错误来了，因为`R.string.stop_track`它返回一个整数，所以写下面的代码而不是你的代码，它会解决你的问题。

```
if(this.b1.getText().toString().equals(getResources().getString(R.string.stop_track))) 
```

# java - Android - 如何从 URL/JSON 获取特定数据？

> ID：14210307
> 
> 赞同：0
> 
> 时间：2013-01-08T07:40:51.997
> 
> 标签：java, android, json, rotten-tomatoes

所以我有这个代码，它是一个带有`ListView`搜索字段和一个按钮来确认搜索的页面，当按下按钮时，`ListView`里面充满了来自烂番茄 API 的电影名称，问题是有人帮我写了这段代码，我希望得到一些帮助来分解它并逐句理解它，我的主要目标是获取在列表中单击的电影的“标题”、“概要”和“网址图像”，然后通过它的目的是为了我的其他活动，但整个 JSON 和获取特定数据的东西，让我很困惑。

[链接到烂番茄 API 文档](http://developer.rottentomatoes.com/docs)，这是我的代码：

```
public class MovieAddFromWeb extends Activity implements View.OnClickListener,
        OnItemClickListener {

    private TextView searchBox;
    private Button bGo, bCancelAddFromWeb;
    private ListView moviesList;
    public List<String> movieTitles;
    static final int ACTIVITY_WEB_ADD = 3;

    // the Rotten Tomatoes API key
    private static final String API_KEY = "8q6wh77s65aw435cab9rbzsq";

    // the number of movies to show in the list
    private static final int MOVIE_PAGE_LIMIT = 8;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.movie_add_from_web);

        InitializeVariables();

    }

    /*
     * Initializing the variables and creating the bridge between the views from
     * the xml file and this class
     */

    private void InitializeVariables() {

        searchBox = (EditText) findViewById(R.id.etSearchBox);
        bGo = (Button) findViewById(R.id.bGo);
        bCancelAddFromWeb = (Button) findViewById(R.id.bCancelAddFromWeb);
        moviesList = (ListView) findViewById(R.id.list_movies);

        bGo.setOnClickListener(this);
        bCancelAddFromWeb.setOnClickListener(this);
        moviesList.setOnItemClickListener(this);
    }

    @Override
    public void onClick(View v) {
        switch (v.getId()) {

        case R.id.bGo:
            new RequestTask()
                    .execute("http://api.rottentomatoes.com/api/public/v1.0/movies.json?apikey="
                            + API_KEY
                            + "&q="
                            + searchBox.getText()
                            + "&page_limit=" + MOVIE_PAGE_LIMIT);
            break;

        case R.id.bCancelAddFromWeb:
            finish();
            break;

        }

    }

    private void refreshMoviesList(List<String> movieTitles) {
        moviesList.setAdapter(new ArrayAdapter<String>(this,
                android.R.layout.simple_list_item_1, movieTitles
                        .toArray(new String[movieTitles.size()])));
    }

    private class RequestTask extends AsyncTask<String, String, String> {
        // make a request to the specified url
        @Override
        protected String doInBackground(String... uri) {
            HttpClient httpclient = new DefaultHttpClient();
            HttpResponse response;
            String responseString = null;
            try {
                // make a HTTP request
                response = httpclient.execute(new HttpGet(uri[0]));
                StatusLine statusLine = response.getStatusLine();
                if (statusLine.getStatusCode() == HttpStatus.SC_OK) {
                    ByteArrayOutputStream out = new ByteArrayOutputStream();
                    response.getEntity().writeTo(out);
                    out.close();
                    responseString = out.toString();
                } else {
                    // close connection
                    response.getEntity().getContent().close();
                    throw new IOException(statusLine.getReasonPhrase());
                }
            } catch (Exception e) {
                Log.d("Test", "Couldn't make a successful request!");
            }
            return responseString;
        }

        @Override
        protected void onPostExecute(String response) {
            super.onPostExecute(response);

            try {
                // convert the String response to a JSON object
                JSONObject jsonResponse = new JSONObject(response);

                // fetch the array of movies in the response
                JSONArray jArray = jsonResponse.getJSONArray("movies");

                // add each movie's title to a list
                movieTitles = new ArrayList<String>();
                for (int i = 0; i < jArray.length(); i++) {
                    JSONObject movie = jArray.getJSONObject(i);
                    movieTitles.add(movie.getString("title"));

                }
                // refresh the ListView
                refreshMoviesList(movieTitles);
            } catch (JSONException e) {
                Log.d("Test", "Couldn't successfully parse the JSON response!");
            }
        }
    }

    @Override
    public void onItemClick(AdapterView<?> av, View view, int position, long id) {

        Intent openMovieEditor = new Intent(this, MovieEditor.class);
        openMovieEditor.putExtra("movieTitle", movieTitles.get(position));
        openMovieEditor.putExtra("callingActivity", ACTIVITY_WEB_ADD);
        startActivityForResult(openMovieEditor, ACTIVITY_WEB_ADD);

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:55:51.083

请参阅下面的修改代码..

```
public class MovieAddFromWeb extends Activity implements View.OnClickListener, OnItemClickListener {

private TextView searchBox;
private Button bGo, bCancelAddFromWeb;
private ListView moviesList;
public List<String> movieTitles;

//added new variables
public List<String> movieSynopsis;
public List<String> movieImgUrl;

static final int ACTIVITY_WEB_ADD = 3;

// the Rotten Tomatoes API key
private static final String API_KEY = "8q6wh77s65aw435cab9rbzsq";

// the number of movies to show in the list
private static final int MOVIE_PAGE_LIMIT = 8;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.movie_add_from_web);

    InitializeVariables();

}

/*
 * Initializing the variables and creating the bridge between the views from
 * the xml file and this class
 */

private void InitializeVariables() {

    searchBox = (EditText) findViewById(R.id.etSearchBox);
    bGo = (Button) findViewById(R.id.bGo);
    bCancelAddFromWeb = (Button) findViewById(R.id.bCancelAddFromWeb);
    moviesList = (ListView) findViewById(R.id.list_movies);

    bGo.setOnClickListener(this);
    bCancelAddFromWeb.setOnClickListener(this);
    moviesList.setOnItemClickListener(this);
}

@Override
public void onClick(View v) {
    switch (v.getId()) {

    case R.id.bGo:
        new RequestTask()
                .execute("http://api.rottentomatoes.com/api/public/v1.0/movies.json?apikey="
                        + API_KEY
                        + "&q="
                        + searchBox.getText()
                        + "&page_limit=" + MOVIE_PAGE_LIMIT);
        break;

    case R.id.bCancelAddFromWeb:
        finish();
        break;

    }

}

private void refreshMoviesList(List<String> movieTitles) {
    moviesList.setAdapter(new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_1, movieTitles
                    .toArray(new String[movieTitles.size()])));
}

private class RequestTask extends AsyncTask<String, String, String> {
    // make a request to the specified url
    @Override
    protected String doInBackground(String... uri) {
        HttpClient httpclient = new DefaultHttpClient();
        HttpResponse response;
        String responseString = null;
        try {
            // make a HTTP request
            response = httpclient.execute(new HttpGet(uri[0]));
            StatusLine statusLine = response.getStatusLine();
            if (statusLine.getStatusCode() == HttpStatus.SC_OK) {
                ByteArrayOutputStream out = new ByteArrayOutputStream();
                response.getEntity().writeTo(out);
                out.close();
                responseString = out.toString();
            } else {
                // close connection
                response.getEntity().getContent().close();
                throw new IOException(statusLine.getReasonPhrase());
            }
        } catch (Exception e) {
            Log.d("Test", "Couldn't make a successful request!");
        }
        return responseString;
    }

    @Override
    protected void onPostExecute(String response) {
        super.onPostExecute(response);

        try {
            // convert the String response to a JSON object
            JSONObject jsonResponse = new JSONObject(response);

            // fetch the array of movies in the response
            JSONArray jArray = jsonResponse.getJSONArray("movies");

            // add each movie's title to a list
            movieTitles = new ArrayList<String>();

            //newly added
            movieSynopsis = new ArrayList<String>();
            movieImgUrl= new ArrayList<String>();

            for (int i = 0; i < jArray.length(); i++) {
                JSONObject movie = jArray.getJSONObject(i);
                movieTitles.add(movie.getString("title"));

                movieSynopsis.add(movie.getString(#add the synopsis var name returned by the JSON));
                movieImgUrl.add(movie.getString(#add the urlvar name returned by the JSON));

            }
            // refresh the ListView
            refreshMoviesList(movieTitles);
        } catch (JSONException e) {
            Log.d("Test", "Couldn't successfully parse the JSON response!");
        }
    }
}

@Override
public void onItemClick(AdapterView<?> av, View view, int position, long id) {

    Intent openMovieEditor = new Intent(this, MovieEditor.class);
    openMovieEditor.putExtra("movieTitle", movieTitles.get(position));

    //newly added
    openMovieEditor.putExtra("movieSynopsis", movieSynopsis.get(position));
    openMovieEditor.putExtra("movieImgUrl", movieImgUrl.get(position));

    openMovieEditor.putExtra("callingActivity", ACTIVITY_WEB_ADD);
    startActivityForResult(openMovieEditor, ACTIVITY_WEB_ADD);

} 
```

# c# - 如何从asp.net中的另一个网页调用一个网页

> ID：14210312
> 
> 赞同：2
> 
> 时间：2013-01-08T07:41:10.857
> 
> 标签：c#, asp.net, .net

我有 2 个网络应用程序。webapp1 正在运行的位置说 - weblocationlocation1/webapp1/default.aspx 和 webapp2 运行在不同的位置说 - weblocation2/webapp2/default.aspx

现在，如果我想从 webapp1 调用 webapp2/default.aspx 那么如何调用。如何从 webapp2/default.aspx 运行 webapp1 的 Page_Load(object sender, EventArgs e)。

我必须留在浏览器中的 webapp1/default.aspx 上。并且仍然想加载 webapp2/default.aspx （仅从我单击的按钮代码中）。在这种情况下，如何存储 cookie/会话变量。并希望在所有页面的 webapp1 中维护它们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:44:51.987

如果您想通过重定向执行此操作，则：

```
Response.Redirect("weblocationlocation2/webapp2/default.aspx"); 
```

或者直接在服务器上使用

```
Server.Transfer("weblocationlocation2/webapp2/default.aspx"); 
```

或者

```
Server.Execute("weblocationlocation2/webapp2/default.aspx"); 
```

最后一个将控制权返回给调用方法（第二个不会）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T12:15:10.063

正如@Justin Harvey 所述，您可以使用 Page_load() 方法并调用 Response.redirect 方法来重定向到您想要的网页如果您想在事件（例如单击按钮）上重定向到您的页面，您也可以使用 javascript做以下

```
btn_demo_onClick()
{
window.location = "abc.aspx";
} 
```

如果您想使用 javascript，它只是一个补充选项谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-02T06:51:15.567

Response.Redirect("default.aspx"); // 在 URL 您将获得默认页面作为您重定向到的页面。

Server.Transfer("default.aspx"); // 在 URL 处，您不会获得重定向到的默认页面。

示例：如果您已登录登录页面，然后您想重定向到默认页面，那么您可以使用上述两种方法。

# vb.net - 是否有将字符串转换为 Char 数组的函数

> ID：14210315
> 
> 赞同：0
> 
> 时间：2013-01-08T07:41:18.837
> 
> 标签：vb.net

> **可能重复：**
> [将字符串转换为 char 数组](https://stackoverflow.com/questions/9835959/converting-a-string-to-a-char-array)

我正在编写以下代码

```
Sub Main()
    For index As Integer = 0 To "foo".Length - 1
        Console.WriteLine("foo".Chars(index))
    Next
    Console.WriteLine("press [enter] to exit")
    Console.Read()
End Sub 
```

中是否有一个`property`将`String` `class`返回一个数组`Char`？
因此，作为上述替代方案，我可以执行以下操作：

```
Sub Main()
    For each c as Char in ConvertToCharArray("foo")
        Console.WriteLine(c.ToString())
    Next
    Console.WriteLine("press [enter] to exit")
    Console.Read()
End Sub 
```

* * *

参考
非常相似的[**所以问题在这里**](https://stackoverflow.com/questions/9835959/converting-a-string-to-a-char-array)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:52:02.370

[`System.String`](http://msdn.microsoft.com/en-us/library/system.string.aspx)已经是[`IEnumerable(Of Char)`](http://msdn.microsoft.com/en-us/library/9eekhta0.aspx)：

```
For each c as Char in "foo"
    Console.WriteLine(c.ToString())
Next 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T07:49:57.350

您可以使用 . [ToCharArray()](http://msdn.microsoft.com/en-us/library/ezftk57x.aspx)方法来实现你想要的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-08T07:50:23.850

您可以使用[String.ToCharArray](http://msdn.microsoft.com/en-us/library/ezftk57x.aspx)将其转换为字符数组，或者如果您更喜欢 LINQ ，可以使用[ToArray ：](http://msdn.microsoft.com/en-us/library/bb298736%28v=VS.95%29.aspx)

```
Dim delimStr As String = " ,.:" 
Dim delimiter As Char() = delimStr.ToCharArray()

"foo".ToArray() 
```

# ios - 计算单元格高度的正确方法

> ID：14210328
> 
> 赞同：0
> 
> 时间：2013-01-08T07:42:21.200
> 
> 标签：ios, uitableview

在我的应用程序中，它有大约一千个内容要显示在 tableView 中。每个内容都有不同的高度，因为其中有一到三行 UILabel。目前，它计算并返回 tableView 委托函数中每个单元格的高度：

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath 
```

它的计算方式是：

```
contentCell = (RSContentViewCell *)self.tmpCell;
UIFont *font = contentCell.myTextLabel.font;
width = contentCell.myTextLabel.frame.size.width + 30;

size = [contentStr sizeWithFont:font
    constrainedToSize:CGSizeMake(width, CGFLOAT_MAX)
    lineBreakMode:contentCell.myTextLabel.lineBreakMode];

height = size.height;
return height; 
```

它可以工作，但计算这些高度大约需要 0.5 秒，所以用户体验不是很好，因为在计算过程中应用程序将没有响应。那么计算这些细胞高度的正确方法是什么，正确的位置在哪里？

**更新**

数据来自服务器并在进入表视图时请求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:17:38.093

当您从服务器加载数据时，无论如何都会有延迟。

=> 我建议您在重新加载表格/移除微调器等之前在后台进行高度计算。

```
// Method you call when your data is fetched
- (void)didReciveMyData:(NSArray *)dataArray {
    // start background job
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        self.myCachedHeightArray = [[NSMutableArray alloc] initWithCapacity:[dataArray count]];
        int i = 0;
        for (id data in dataArray) {
            float height;

            // do height calculation

            self.myCachedHeightArray[i] = [NSNumber numberWithFloat:height];// assign result to height results
            i++;
        }

        // reload your view on mainthread
        dispatch_async(dispatch_get_main_queue(), ^{
            [self doActualReload];
        });
    });
}

- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
    return [[self.myCachedHeightArray objectAtIndex:indexPath.row] floatValue];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:26:36.763

我通常将它放入我的自定义单元子类中......所以代码不会弄乱我的控制器并且对于我使用的单元是正确的。（+这样更适合MVC......单元格的高度是IMO的视图属性）

我不使用每个单元格进行测量，但使用静态方法 - 请参阅[https://github.com/Daij-Djan/TwitterSearchExampleApp](https://github.com/Daij-Djan/TwitterSearchExampleApp)（以 ViewController 和 DDTweetTableViewCell 类为例）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:57:31.033

How do you set/get self.tmpCell ? Do you save the reusable cell in a property?

Instead getting text from cell and calculating the size you can calculate the size of text from data source of the cell. I mean you set the texts in `cellForRowAtIndexPath:` somehow (eg. from an array) just use the text from that to calculate it.

For the frame : The cells have the same width of tableview For the font : Just write a method called

```
- (UIFont *)fontForCellAtIndexPath:(NSIndexPath *)indexpath 
```

and use it also from `cellForRowAtIndexPath`. It makes your job easier if you change the fonts of texts later.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T07:49:56.697

您仍然必须在前端执行此操作，但只需执行一次并将结果缓存在 Array 中并用于将来的调用。

即第一次数组值为空所以计算它并将其存储在数组中。

下次数组有一个值时，无需计算就可以使用它。

# mysql - MySQL 子分区

> ID：14210334
> 
> 赞同：3
> 
> 时间：2013-01-08T07:42:52.657
> 
> 标签：mysql, partitioning

我有以下当前已分区的 MySQL 表。

我想在“message_read”键上添加子分区 - 这是为了优化通过分区搜索未读消息。

```
CREATE TABLE `messages` (
  `pid` int(50) unsigned NOT NULL AUTO_INCREMENT COMMENT 'Primary Key',
  `userid1` int(10) unsigned NOT NULL COMMENT 'Message Sender',
  `userid2` int(10) unsigned NOT NULL COMMENT 'Message Receiver',
  `message` text NOT NULL COMMENT 'Actual Message',
  `message_read` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=Not Read & 1=Read',
  `datetime` datetime NOT NULL COMMENT 'Date Time',
  PRIMARY KEY (`pid`,`datetime`),
  KEY `userid1` (`userid1`),
  KEY `userid2` (`userid2`),
  KEY `message_read` (`message_read`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
/*!50100 PARTITION BY RANGE (TO_DAYS(`datetime`))
(PARTITION p0 VALUES LESS THAN (735234) ENGINE = InnoDB,
 PARTITION p1 VALUES LESS THAN (735265) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (735293) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (735324) ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (735354) ENGINE = InnoDB,
 PARTITION p5 VALUES LESS THAN (735385) ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (735415) ENGINE = InnoDB) */ 
```

当前分区在日期时间戳上。我如何添加到“message_read”的子分区中？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T15:59:15.607

您需要将 message_read 添加到主键。然后（您可以使用哈希或键进行子分区）：

```
CREATE TABLE `messages` (
  `pid` INT(50) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Primary Key',
  `userid1` INT(10) UNSIGNED NOT NULL COMMENT 'Message Sender',
  `userid2` INT(10) UNSIGNED NOT NULL COMMENT 'Message Receiver',
  `message` TEXT NOT NULL COMMENT 'Actual Message',
  `message_read` TINYINT(1) NOT NULL DEFAULT '0' COMMENT '0=Not Read & 1=Read',
  `datetime` DATETIME NOT NULL COMMENT 'Date Time',
  PRIMARY KEY (`pid`,`datetime`, message_read),
  KEY `userid1` (`userid1`),
  KEY `userid2` (`userid2`),
  KEY `message_read` (`message_read`)
) ENGINE=INNODB DEFAULT CHARSET=utf8
PARTITION BY RANGE (TO_DAYS(`datetime`))
SUBPARTITION BY HASH (message_read)
(PARTITION p0 VALUES LESS THAN (735234)(SUBPARTITION s0, SUBPARTITION s1),
 PARTITION p1 VALUES LESS THAN (735265)(SUBPARTITION s2, SUBPARTITION s3),
 PARTITION p2 VALUES LESS THAN (735293)(SUBPARTITION s4, SUBPARTITION s5),
 PARTITION p3 VALUES LESS THAN (735324)(SUBPARTITION s6, SUBPARTITION s7),
 PARTITION p4 VALUES LESS THAN (735354)(SUBPARTITION s8, SUBPARTITION s9),
 PARTITION p5 VALUES LESS THAN (735385)(SUBPARTITION s10, SUBPARTITION s11),
 PARTITION p6 VALUES LESS THAN (735415)(SUBPARTITION s12, SUBPARTITION s13)) ; 
```

希望这就是你要找的。

谢谢，你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-13T09:34:19.533

在这种情况下 - 由于每个分区分为两部分，mysql如何将记录划分给子分区？毕竟mysql不知道每个分区/子分区会输入多少条记录

# wpf - 激活 WPF 窗口，而不会失去对先前应用程序/窗口的关注

> ID：14210344
> 
> 赞同：5
> 
> 时间：2013-01-08T07:43:48.003
> 
> 标签：wpf, window, focus

我在应用程序中有一个 WPF 窗口，我通过调用`MainView.Activate();`和`MainView.BringIntoView();`方法在某些特定场景中激活它。它还将焦点设置在此“MainView”窗口上。

但我的要求是这个窗口不应该得到焦点。即我的光标仍应保留在以前的应用程序上（记事本、word 等）

我尝试使用`MainView.ShowActivated="False"`但没有用。我需要使用[这里](http://blogs.msdn.com/b/visualstudio/archive/2010/03/09/wpf-in-visual-studio-2010-part-3-focus-and-activation.aspx)提到的 HwndSource还是什么？

在肯特的帮助下我使用的代码（只有在窗口最小化时才有效）：

```
IntPtr HWND_TOPMOST = new IntPtr(-1);
            const short SWP_NOMOVE = 0X2;
            const short SWP_NOSIZE = 1;
            const short SWP_NOZORDER = 0X4;
            const int SWP_SHOWWINDOW = 0x0040;

            Process[] processes = Process.GetProcesses(".");

            foreach (var process in processes)
            {
                IntPtr handle = process.MainWindowHandle;
                if (handle != IntPtr.Zero)
                {
                    SetWindowPos(handle, HWND_TOPMOST, 0, 0, 0, 0, SWP_NOZORDER | SWP_NOSIZE | SWP_SHOWWINDOW);
                }
            } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-12-26T13:39:20.993

我有针对这种情况的 Win32 助手类，这里列出了您的情况

```
using System;
using System.Runtime.InteropServices;
using System.Windows;
using System.Windows.Interop;

namespace your.namespace {
    public static class Win32 {
        public static void ShowWindowNoActive( Window window) {
            var hwnd = (HwndSource.FromVisual(window) as HwndSource).Handle;
            ShowWindow(hwnd, ShowWindowCommands.SW_SHOWNOACTIVATE);
        }

        [DllImport("user32.dll")]
        private static extern bool ShowWindow(IntPtr hWnd, ShowWindowCommands nCmdShow);

        private enum ShowWindowCommands : int {
            SW_SHOWNOACTIVATE = 4
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-08T08:44:44.943

在我[最近的博客文章](http://kent-boogaart.com/blog/wpf-splash-screens)中，我习惯[`SetWindowPos`](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms633545%28v=vs.85%29.aspx)将一个窗口放在 z 顺序的前面，而不给它焦点。我不相信 WPF 有在没有 p/invoke 的情况下实现相同的内置方法。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-08-29T13:50:44.703

让我们将您想要在没有焦点的情况下显示的窗口称为：YourWindow。添加以下代码：

> YourWindow.ShowActivated = false;
> 
> YourWindow.Owner = TheOtherWindowThatWillStilHaveFocus;

您也可以从 XAML 设置第一行。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-08-26T22:05:02.990

我需要解决一个类似的问题，并通过设置 Window.ShowActivate=false 然后使用 Window.Show 而不是 Window.Activate 来使其工作。也许这对你有用。我还不需要使用 BringIntoView，因为我的窗口是新创建的，并且默认显示在其他窗口的顶部。

# mongodb - db.system.profile 命令在 shell 中执行

> ID：14210345
> 
> 赞同：1
> 
> 时间：2013-01-08T07:43:59.297
> 
> 标签：mongodb

我在生产环境中尝试了 mongo db 性能

为此，我运行了从网上找到的以下命令

```
db.system.profile.aggregate({ $group : { _id :"$op", 
count:{$sum:1}, 
"max response time":{$max:"$millis"}, 
"avg response time":{$avg:"$millis"} 
}}); 
```

结果是

```
{
    "result" : [
        {
            "_id" : "getmore",
            "count" : 1,
            "max response time" : 0,
            "avg response time" : 0
        },
        {
            "_id" : "command",
            "count" : 43,
            "max response time" : 30,
            "avg response time" : 0.6976744186046512
        },
        {
            "_id" : "query",
            "count" : 150,
            "max response time" : 52,
            "avg response time" : 0.7
        }
    ],
    "ok" : 1
} 
```

这个 id 的 getmore、command、query 是从哪里出现的？每个 id 的最大响应时间表示什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:57:17.970

This is an aggregation of all the profiled DB accesses based on the "op" field of the profile entries. From the [Mongo Profile Field Description doc](http://docs.mongodb.org/manual/reference/database-profiler/)

```
op -- The type of operation. The possible values are:

insert
query
update
remove
getmore
command 
```

The max response time is therefore the maximum response time for any Db operation of the given type. For example the maximum response time for any of the 150 query operations was 52 milliseconds.

# php - Magento：在类别>产品选项卡网格的管理网格上获取自定义属性文本

> ID：14210348
> 
> 赞同：0
> 
> 时间：2013-01-08T07:44:02.953
> 
> 标签：php, magento, magento-1.5

我正在使用以下代码将自定义属性拉入“管理目录”>“产品选项卡网格”。

```
$collection = Mage::getModel('catalog/product')->getCollection()
            ->addAttributeToSelect('name')
            ->addAttributeToSelect('sku')
            ->addAttributeToSelect('price')
            ->addAttributeToSelect('image')
        ->addAttributeToSelect('pos_product_type') 
```

+

```
 $this->addColumn('pos_product_type', array(
        'header'    => Mage::helper('catalog')->__('OsiPos Category'),
        'sortable'  => true,
        'width'     => '80',
        'index'     => 'pos_product_type'
    )); 
```

这显示了属性 id，例如 92、97、95。这对用户不是很友好，所以我想知道如何获取属性的实际名称/标签。

在前端我会使用：

```
 $_product->getAttributeText('pos_product_type') 
```

显示标签，但我无法在后端转换它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:48:04.147

您可以在 Magento 代码中找到答案，例如**查看可见性**：

```
$this->addColumn('visibility',
    array(
        'header'=> Mage::helper('catalog')->__('Visibility'),
        'width' => '70px',
        'index' => 'visibility',
        'type'  => 'options',
        'options' => Mage::getModel('catalog/product_visibility')->getOptionArray(),
)); 
```

* * *

您还可以检查与 db 通信的属性集的代码。

```
$sets = Mage::getResourceModel('eav/entity_attribute_set_collection')
    ->setEntityTypeFilter(Mage::getModel('catalog/product')->getResource()->getTypeId())
    ->load()
    ->toOptionHash();

$this->addColumn('set_name',
    array(
        'header'=> Mage::helper('catalog')->__('Attrib. Set Name'),
        'width' => '100px',
        'index' => 'attribute_set_id',
        'type'  => 'options',
        'options' => $sets,
)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T09:10:06.673

这很容易实现：[https ://github.com/magento-hackathon/GridControl](https://github.com/magento-hackathon/GridControl)

*编辑*

您想要的是将选项添加到您的列中：

```
$this->addColumn('pos_product_type', array(
    'header'    => Mage::helper('catalog')->__('OsiPos Category'),
    'sortable'  => true,
    'width'     => '80',
    'index'     => 'pos_product_type',
    'options' => $this->_getProductAttributeOptions('pos_product_type')
)); 
```

我应该复制辅助函数：

```
protected function _getProductAttributeOptions($attributeName) {
    $attribute = Mage::getModel('eav/config')->getAttribute('catalog_product',$attributeName);
    /* @var $attribute Mage_Catalog_Model_Resource_Eav_Attribute */       
    $attributeOptions = $attribute->getSource()->getAllOptions();
    $options = array();
    // options in key => value Format bringen
    foreach ($attributeOptions as $option) {
        $options[number_format($option['value'], 4, '.', '')] = $option['label'];
    }       
    return $options;       
} 
```

感谢 webguys：[http ://www.webguys.de/magento/turchen-23-pimp-my-produktgrid/](http://www.webguys.de/magento/turchen-23-pimp-my-produktgrid/)

但是你不懂德语，是吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T01:08:42.680

我们正在接近这些建议，但最终的解决方案来自以下：

```
// Add Pos Product Type

    $pos_items = 
    Mage::getModel('eav/entity_attribute_option')->getCollection()->setStoreFilter()->join('attribute','attribute.attribute_id=main_table.attribute_id', 'attribute_code');
            foreach ($pos_items as $pos_item) :
                if ($pos_item->getAttributeCode() == 'pos_product_type')
                    $pos_options[$pos_item->getOptionId()] = $pos_item->getValue();
            endforeach;

            $this->addColumn('pos_product_type',
                array(
                    'header'=> Mage::helper('catalog')->__('Pos Product Type'),
                    'width' => '100px',
                    'type'  => 'options',
                    'index' => 'pos_product_type',
                    'options' => $pos_options
            )); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-13T14:50:00.250

您可能希望使用 MySQL 而不是 PHP 性能来过滤属性代码。随着时间的推移，属性和选项的列表会变得非常大，无需遍历它们。

下面是一个修改过的例子：

```
$pos_items = Mage::getModel('eav/entity_attribute_option')
            ->getCollection()
            ->setStoreFilter()
            ->join('attribute','attribute.attribute_id=main_table.attribute_id', 'attribute_code')
            ->addFieldToFilter('attribute_code', 'pos_product_type');

   foreach ($pos_items as $pos_item) :
                $pos_options[$pos_item->getOptionId()] = $pos_item->getValue();
        endforeach;

$this->addColumn('pos_product_type',
            array(
                'header'=> Mage::helper('catalog')->__('Pos Product Type'),
                'width' => '100px',
                'type'  => 'options',
                'index' => 'pos_product_type',
                'options' => $pos_options
        )); 
```

# android - 在 Windows 中使用 dmtracedump 时出错

> ID：14210352
> 
> 赞同：0
> 
> 时间：2013-01-08T07:44:40.053
> 
> 标签：android

[SO](https://stackoverflow.com/questions/10565332/android-how-to-use-dmtracedump)的完全重复，我正在尝试使用以下命令在Windows中使用dmtracedump

```
dmtracedump.exe -h C:\Users\hemanth.m\Desktop\ddms3079126885013841451.trace 
```

我得到以下错误

```
ERROR: unable to read 6085766 bytes from trace file
Cannot read trace. 
```

我更改了 dmtracedump 命令的增强，但错误仍然存​​在。我阅读了以前的 SO 问题[dmtracedump 不起作用，求助！](https://stackoverflow.com/questions/4364833/dmtracedump-doesnt-work-help)和 [Android-Command 运行 dmtracedump](https://stackoverflow.com/questions/10565332/android-how-to-use-dmtracedump)。我所了解的是，该图形无法在 Windows 系统中生成，并且 dmtracedump 不再支持 -g -h 增强，除了 -o 。

我非常想在 windows 中以图形 using(graphviz) 的形式使用调用堆栈的图形表示。

我的问题是，有什么办法可以让 dmtracedump 接受 -h,-g 参数，我的意思是这个现有工具的补丁，比如链接 dmtracedump 工具和 graphviz 的 .bat 文件。或者告诉我创建补丁的流程图。

或者我如何使用 ddms****.trace 文件直接使用任何其他工具生成调用堆栈图，无论是否使用 dmtracedump 和 graphviz 。

# windows-8 - 在 Windows 商店应用程序中替换 CaretBrush

> ID：14210354
> 
> 赞同：1
> 
> 时间：2013-01-08T07:44:41.713
> 
> 标签：windows-8, windows-runtime, microsoft-metro, windows-store-apps, winrt-xaml

谁能告诉文本框的[CaretBrush](http://msdn.microsoft.com/en-us/library/system.windows.controls.textbox.caretbrush%28v=vs.95%29.aspx)属性的替代品是什么，它在 Windows 商店应用程序的 WPF 和 Windows Phone 中可用？

# c# - C# WebBrowser 通过 HTML 内容生成图像（仅需要没有空格的数据）

> ID：14210363
> 
> 赞同：0
> 
> 时间：2013-01-08T07:45:10.300
> 
> 标签：c#, asp.net, bitmap, webbrowser-control

我试图通过 HTML DIV 内容生成图像。
我通过使用下面的代码成功了`System.Windows.Forms.WebBrowser`。

```
protected void Page_Load(object sender, EventArgs e)
{
string _GenerateString = @"VisualStudio<sup>ide test</sup>";
StringBuilder sb = new StringBuilder();           

sb.Append(" <style type=\"text/css\"> ");
sb.Append(" #_GenerateHTMLToImage_{ ");
sb.Append("     width:...px; ");
sb.Append("     height:...px; ");
sb.Append(" } ");
sb.Append(" </style> ");
sb.Append(" <div id='_GenerateHTMLToImage_'> ");
sb.Append(_GenerateString);
sb.Append(" </div> ");

//var bmp = MakeScreenshot_original(sb.ToString());
var bmp = MakeScreenshot(sb.ToString());
bmp.Save(@"C:\test_web.jpg");
}

public Bitmap MakeScreenshot(string html)
{
// Load the webpage into a WebBrowser control
WebBrowser wb = new WebBrowser();

wb.Navigate("about:blank");
if (wb.Document != null){
    wb.Document.Write(html);
}

wb.DocumentText = html;
wb.ScrollBarsEnabled = false;
wb.ScriptErrorsSuppressed = true;            
while (wb.ReadyState != WebBrowserReadyState.Complete) { 
    System.Windows.Forms.Application.DoEvents(); 
}

wb.Width = wb.Document.Body.ScrollRectangle.Width;
wb.Height = wb.Document.Body.ScrollRectangle.Height;

// Get a Bitmap representation of the webpage as it's rendered in the WebBrowser control           
Bitmap bitmap = new Bitmap(wb.Width, wb.Height);
wb.DrawToBitmap(bitmap, new Rectangle(0, 0, wb.Width, wb.Height));
wb.Dispose();

return bitmap;
} 
```

它在下面生成我 ![在此处输入图像描述](../Images/e534856e8d90feece31d79a03239a734.png)

但我的问题是它生成图像（我需要的字符串 +**不需要的空格**）。我不知道如何生成我想要的仅图像字符串并删除任何空白。

我已经从下面的行更改了参数值...

```
Bitmap bitmap = new Bitmap(xxx, xxx);
wb.DrawToBitmap(bitmap, new Rectangle(xxx, xxx, xxxx, xxxx)); 
```

但是，即使我改变了参数整数值，我仍然不能满足结果。

请有任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:44:48.423

在我看来，如果你赢得了删除你周围的写入像素，那么你可以在创建图像后使用一个简单的过滤器来创建它们，然后你会找到图像的最终起点和大小，然后将其剪切。

您可以使用`GetPixel(x, y)`

例如，您可以从上到下扫描图像，然后从下到上，从右到左和从左到右扫描，以找到不包含白色像素的图像的新尺寸。

例如，类似的东西：

```
for (int AxonX = 0; AxonX < wb.Width; AxonX++)
{
    for (int AxonY = 0; AxonY < wb.Height; AxonY++)
    {
        Color ThisPixelColor = wb.GetPixel(AxonX, AxonY);

        // Check if white or not and do the rest            
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T10:04:29.897

默认样式表为大多数 DOM 元素提供不为零的边距和/或填充，包括`body`.

我建议明确设置`margin: 0; padding: 0;`样式`div`。然后进一步向下导航到`div`容器并获取*其*尺寸。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T10:50:31.517

最后我找到了如何解决我自己的问题。
让我分享一下我的解决方法，以便其他面临同样问题的人可以避免同样的困难。

首先让我感谢@devstuff 和@Aristos。

我的解决方案如下...

```
protected void Page_Load(object sender, EventArgs e)
    {   
        string _GenerateString = @"Number One 1<sup>st</sup> , the very first image creation.";
        StringBuilder sb_GenerateHTMLContent = new StringBuilder();
        sb_GenerateHTMLContent.Append(" <div style=\" white-space: nowrap \"> ");
        sb_GenerateHTMLContent.Append( _GenerateString );
        sb_GenerateHTMLContent.Append(" </div>");

        var bmp = MakeScreenshot(sb_GenerateHTMLContent.ToString());
        bmp.Save(@"C:\test_web.jpg");
    }

    public Bitmap MakeScreenshot(string html)
    {
        // Load the webpage into a WebBrowser control
        WebBrowser wb = new WebBrowser();
        Bitmap bitmap = null;
        try
        {
            wb.Navigate("about:blank");
            if (wb.Document != null)
            {
                wb.Document.Write(html);
            }

            wb.DocumentText = html;
            wb.ScrollBarsEnabled = false;
            wb.ScriptErrorsSuppressed = true;
            wb.Width = 0;

            while (wb.ReadyState != WebBrowserReadyState.Complete)
            {
                System.Windows.Forms.Application.DoEvents();
            }

            StringBuilder sb_style_body = new StringBuilder();
            sb_style_body.Append(" margin-top:0; ");
            sb_style_body.Append(" margin-right:0; ");
            sb_style_body.Append(" margin-left:0; ");
            sb_style_body.Append(" margin-bottom:0; ");                
            sb_style_body.Append(" padding-top:0; ");
            sb_style_body.Append(" padding-bottom:0; ");
            sb_style_body.Append(" padding-right:0; ");
            sb_style_body.Append(" padding-left:0; ");
            sb_style_body.Append(" font-family:Arial,Helvetica,sans-serif; ");
            sb_style_body.Append(" font-size:medium; ");

            wb.Document.Body.Style = sb_style_body.ToString();

            wb.Height = wb.Document.Body.ScrollRectangle.Height;
            wb.Width = wb.Document.Body.ScrollRectangle.Width;

            bitmap = new Bitmap(wb.Width, wb.Height);
            wb.DrawToBitmap(bitmap, new Rectangle(0, 0, wb.Width, wb.Height));
        }
        catch (Exception ex)
        {
            throw ex;
        }
        finally {
            wb.Dispose();
        }
        return bitmap;
    } 
```

# ruby-on-rails - 如何使用 ActiveRecord 将一对多对象添加到父对象

> ID：14210364
> 
> 赞同：1
> 
> 时间：2013-01-08T07:45:16.157
> 
> 标签：ruby-on-rails, rails-activerecord

我在 ActiveRecord rails 中有以下 has_many 关系的代码库：

```
class Foo < ActiveRecord::Base
  has_many :foo_bars
end

class Bar < ActiveRecord::Base
end  

class FooBar < ActiveRecord::Base
  belongs_to :foo
  belongs_to :bar
end 
```

如何在创建期间将 FooBar 条目添加到 Foo。这是我的代码如下：

```
@foo = Foo.create(params[:foo])
bars = params[:bars] # bars in a array of string format
bar_ids = bars.collect{|b| b.to_i}

@foo.foo_bars << bar_ids
@foo.save 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:13:49.440

尝试

```
@foo = Foo.create(params[:foo])
@foo.foo_bars << params[:bars].map {|s| FooBar.new(:bar_id => s.to_i)}  
@foo.save 
```

它为集合`FooBar`中的每个 id构建一个新实例。`params[:bars]`决赛`save`将创建`@foo`和`FooBar`。有关关联的帮助，请参见[此处的文档。](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html)

对于版本：

```
@foo = Foo.find(params[:id])
@foo.foo_bars = params[:bars].map {|s| @foo.foo_bars.where(:bar_id => s.to_i).first_or_initialize } 
```

# mysql - 如何从 SQL QUERY 的计算中剔除 WEEKENDS？

> ID：14210366
> 
> 赞同：0
> 
> 时间：2013-01-08T07:45:18.233
> 
> 标签：mysql, sql, weekend

我有 SQL 查询，它返回上一年某些工人的平均利用率。

```
SELECT Name, AVG (hsum)
FROM
(
    SELECT Name,sum((number_hours)/8)*100 AS hsum
    FROM
    T1
    WHERE name='PERSON_A' and bookeddate>='2012-01-01' and booked_date<='2012-12-31'
    GROUP BY name,booked_date
) t 
```

现在我想排除预订日期的周末进行计算？怎么做？我正在使用mysql 谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T07:47:39.940

添加[`DAYOFWEEK()`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_dayofweek)到您的`WHERE`条款：

```
 AND DAYOFWEEK(booked_date) <> 1 AND DAYOFWEEK(booked_date)<>7 
```

# c# - 在 C# .NET 中使用单个值初始化整数数组

> ID：14210369
> 
> 赞同：19
> 
> 时间：2013-01-08T07:45:30.320
> 
> 标签：c#, .net

> **可能重复：**
> [如何快速填充具有特定值的数组？](https://stackoverflow.com/questions/5089076/how-do-i-quicky-fill-an-array-with-a-specific-value)

有没有办法用像 -1 这样的单个值初始化整数数组，而不必显式分配每个项目？

基本上，如果我有

```
int[] MyIntArray = new int[SomeCount]; 
```

默认情况下，所有项目都分配为 0。有没有办法在不使用循环的情况下将该值更改为 -1？或使用 {} 明确分配每个项目？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-01-08T07:48:20.163

```
int[] myIntArray = Enumerable.Repeat(-1, 20).ToArray(); 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-01-08T07:48:45.567

您可以使用[Enumerable.Repeat](http://msdn.microsoft.com/en-us/library/bb348899.aspx)方法

```
int[] myIntArray = Enumerable.Repeat(1234, 1000).ToArray() 
```

将创建一个包含 1000 个元素的数组，所有元素的值都为 1234。

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2013-01-08T07:45:55.423

如果你有一个值（或只有几个），你可以使用[集合初始化器显式设置它们](http://msdn.microsoft.com/en-us/library/bb384062%28v=VS.110%29.aspx)

```
int[] MyIntArray = new int[] { -1 }; 
```

如果你有很多，你可以像这样使用[Enumerable.Repeat](http://msdn.microsoft.com/en-us/library/bb384062%28v=VS.110%29.aspx)

```
int[] MyIntArray = Enumerable.Repeat(-1, YourArraySize).ToArray(); 
```

# android - 如何在Android中使用第三方jar文件

> ID：14210374
> 
> 赞同：0
> 
> 时间：2013-01-08T07:45:47.467
> 
> 标签：android, android-emulator, android-manifest, android-library

我知道这个问题以前问过，但任何答案都对我有帮助。

我想使用 SVG 但 Android 看不到 SVG jar。我添加了构建路径。我将库资源附加为 libs 文件夹。并且还在 Android Manifest 中添加了标签。但它没有用。

问候

这是我的 Android 清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.svgexample2"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="14"
        android:targetSdkVersion="17" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >

        <activity
            android:name="com.example.svgexample2.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>          
        </activity>
         <uses-library android:name="svg-android" android:required="true" />
    </application>

</manifest> 
```

我的主要活动：

```
package com.example.svgexample2;

import com.larvalabs.svgandroid.SVG;
import com.larvalabs.svgandroid.SVGParser;

import android.os.Bundle;
import android.app.Activity;
import android.graphics.Color;
import android.view.Menu;
import android.widget.ImageView;
import android.widget.RelativeLayout;

public class MainActivity extends Activity {

        RelativeLayout mainLayout;
        RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.MATCH_PARENT,
                RelativeLayout.LayoutParams.WRAP_CONTENT);
        ImageView myImg;
        SVG svgFile;

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);

            mainLayout = new RelativeLayout(this);
            myImg = new ImageView(this);

            myImg.setBackgroundColor(Color.WHITE);

            SVG svgFile = SVGParser.getSVGFromResource(getResources(), R.drawable.image);
            myImg.setImageDrawable(svgFile.createPictureDrawable());

            mainLayout.addView(myImg);
            setContentView(mainLayout);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

这是我的附加 svgandroid.xml 文件：

```
<?xml version="1.0" encoding="utf-8">
<permissions>
<libraryname="svg-android" file="/home/breed/dev/Android/androidWorkspace/SvgExample2/libs/"/>
</permissions> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:48:11.837

AFAIK 没有必要`uses-library`在清单中放置一个。`svgandroid.xml`也应该没用。只需将`.jar`文件放在`libs`您的 Android Eclipse 项目的文件夹中。

# c++ - 如何从结构中提取索引最高的专业化？

> ID：14210378
> 
> 赞同：10
> 
> 时间：2013-01-08T07:45:56.827
> 
> 标签：c++, templates, template-specialization, template-meta-programming, sfinae

我正在尝试进行一些模板元编程，并且我发现需要“提取”某种类型的某些结构的专业化的最高索引。

例如，如果我有一些类型：

```
struct A
{
    template<unsigned int> struct D;
    template<> struct D<0> { };
};

struct B
{
    template<unsigned int> struct D;
    template<> struct D<0> { };
    template<> struct D<1> { };
};

struct C
{
    template<unsigned int> struct D;
    template<> struct D<0> { };
    template<> struct D<1> { };
    template<> struct D<2> { };
}; 
```

然后我怎样才能编写这样的元函数：

```
template<class T>
struct highest_index
{
    typedef ??? type;
    // could also be:   static size_t const index = ???;
}; 
```

给我在`D`上述任意结构中专门化的最高索引，**而不**需要结构明确声明计数？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T09:31:03.490

这是第一个为您提供定义专业化的最大索引的版本。从中，你会得到相应的类型！

## 执行：

```
template<class T>
struct highest_index
{
  private:
     template<int i>
     struct is_defined {};

     template<int i>
     static char f(is_defined<sizeof(typename T::template D<i>)> *);

     template<int i>
     static int f(...);

     template<int i>
     struct get_index;

     template<bool b, int j>
     struct next
     {
        static const int value = get_index<j>::value;
     };
     template<int j>
     struct next<false, j>
     {
        static const int value = j-2;
     };
     template<int i>
     struct get_index
     {
        static const bool exists = sizeof(f<i>(0)) == sizeof(char);
        static const int value = next<exists, i+1>::value;
     };

    public:
     static const int index = get_index<0>::value; 
}; 
```

## 测试代码：

```
#include <iostream>

struct A
{
    template<unsigned int> struct D;
};
template<> struct A::D<0> { };
template<> struct A::D<1> { };

struct B
{
    template<unsigned int> struct D;
};
template<> struct B::D<0> { };
template<> struct B::D<1> { };
template<> struct B::D<2> { };

int main()
{
    std::cout << highest_index<A>::index << std::endl;
    std::cout << highest_index<B>::index << std::endl;
} 
```

输出：

```
1
2 
```

[现场演示](http://stacked-crooked.com/view?id=967fa5954dec31d1d771fdaf304cb6dc)。:-)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T09:37:41.933

在问题下的评论的帮助下弄清楚了！

```
struct A { template<unsigned int> struct D; };
template<> struct A::D<0> { };

struct B { template<unsigned int> struct D; };
template<> struct B::D<0> { };
template<> struct B::D<1> { };

struct C { template<unsigned int> struct D; };
template<> struct C::D<0> { };
template<> struct C::D<1> { };
template<> struct C::D<2> { };
template<> struct C::D<3> { };

template<unsigned int>
static unsigned char test(...);

template<unsigned int N, class T>
static typename enable_if<
    sizeof(typename T::template D<N>),
    unsigned char (&)[1 + sizeof(test<N + 1>(T()))]
>::type test(T, typename T::template D<N> = typename T::template D<N>());

int main()
{
    return sizeof(test<0>(C())) - 1;  // Evaluates to number of specializations
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T11:07:39.657

这是我的一点贡献。

我们从存在方法开始：

```
template <unsigned>
static unsigned char exists_impl(...);

template <unsigned N, typename T>
static auto exists_impl(T const&&) ->
    typename std::enable_if<sizeof(typename T::template D<N>),
                            unsigned char (&)[2]>::type;

template <typename T, unsigned N>
static constexpr bool exists() {
    return sizeof(exists_impl<N>(std::declval<T>())) != 1;
} 
```

我相信这里`constexpr`和函数的使用确实在可读性方面带来了很多好处，所以我不使用典型的类型。

然后，我们使用典型的二分搜索（第二次尝试，见底部的第一次尝试），虽然失去了可读性，但为了从惰性实例化中受益，我们使用部分模板特化和`std::conditional`：

```
template <typename T, unsigned low, unsigned high, typename = void>
struct highest_index_in;

template <typename T, unsigned low>
struct highest_index_in<T, low, low>: std::integral_constant<unsigned, low> {};

template <typename T, unsigned low, unsigned high>
struct highest_index_in<T, low, high, typename std::enable_if<(high == low + 1)>::type>:
  std::integral_constant<unsigned, low + exists<T, low+1>()> {};

template <typename T, unsigned low, unsigned high>
struct highest_index_in<T, low, high, typename std::enable_if<(high > low + 1)>::type>:
  std::conditional< exists<T, (low+high)/2>(),
                    highest_index_in<T, (low+high)/2, high>,
                    highest_index_in<T, low, (low+high)/2> >::type
{};

template <typename T>
static constexpr unsigned highest_index() {
   return highest_index_in<T, 0, ~(0u)>::value;
} // highest_index 
```

在[liveworkspace](http://liveworkspace.org/code/1IiMes%246)演示，计算`highest_index<C>()`几乎是瞬时的。

* * *

第一次尝试二进制搜索，不幸的是编译器需要递归地实例化函数体（以证明它们可以被实例化），因此它必须做的工作是巨大的：

```
template <typename T, unsigned low, unsigned high>
static constexpr auto highest_index_in() ->
   typename std::enable_if<high >= low, unsigned>::type
{
   return low == high                 ? low :
          high == low + 1             ? (exists<T, high>() ? high : low) :
          exists<T, (high + low)/2>() ? highest_index_in<T, (high+low)/2, high>() :
                                        highest_index_in<T, low, (high+low)/2>();
} // highest_index_in

template <typename T>
static constexpr unsigned highest_index() {
   return highest_index_in<T, 0, ~(0u)>();
} // highest_index 
```

所以，不幸的是，`highest_index`它不可用，并且[clang很慢](http://liveworkspace.org/code/tTrKx%2412)（并不是说gcc似乎做得更好）。

# maven - 使用 ivy 将多个工件发布到 maven 存储库

> ID：14210381
> 
> 赞同：2
> 
> 时间：2013-01-08T07:46:15.003
> 
> 标签：maven, ivy

我使用不同的 ivy 配置将组件的一些 atifacts 发布到 maven 存储库。例如，我采用以下方式（[常春藤文档](http://ant.apache.org/ivy/history/latest-milestone/tutorial/conf.html)）来做同样的事情。

```
<ivy-module version="1.0">
<info organisation="org.apache" module="filter"/>
<configurations>
<conf name="api"  description="only provide filter framework API"/>
<conf name="homemade-impl" extends="api" description="provide a home made implementation of our api"/>
</configurations>

<publications>
    <artifact name="filter-api" type="jar"  conf="api" ext="jar"/>
    <artifact name="filter-hmimpl" type="jar"  conf="homemade-impl" ext="jar"/>      
</publications>

</ivy-module> 
```

根据上面的配置，生成的 artifacts 是**filter-api.jar**和**filter-hmimpl.jar**，我生成了一个 pom 文件**filter.pom**并发布到一个 maven 仓库中。

现在，当我尝试使用以下内容解决另一个组件中的工件**filter-api**时..

```
 <dependency org="org.apache" name="filter" rev="3.1" conf="default->api"/> 
```

但它不起作用，我相信我的 filter.pom 应该包含一些这样的模块，以使其工作..

```
 <modules>
       <module>api</module> 
       <module>homemade-impl</module> 
    </modules> 
```

我是否正确，如果是的话，我如何将不同的常春藤conf映射到maven中的模块。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T20:48:12.267

将多个文件发布到 Maven 存储库很棘手，因为 Maven 模块通常包含单个工件。Maven 模块确实支持额外的模块工件，这些工件在 Maven 依赖项中使用“分类器”属性进行引用。

以下答案提供了将多个文件发布到 Maven 模块的示例：

*   [如何使用 ivy 和 nexus 发布 3rdparty 工件](https://stackoverflow.com/questions/5111831/how-to-publish-3rdparty-artifacts-with-ivy-and-nexus/5115447#5115447)
*   [将 ivy.xml 转换为 pom.xml](https://stackoverflow.com/questions/9426011/convert-ivy-xml-to-pom-xml/9429286#9429286)

观察 ANT 脚本正在使用[makepom](http://ant.apache.org/ivy/history/latest-milestone/use/makepom.html)生成 POM 文件，并且这些文件被视为已发布的工件（常春藤出版物部分的一部分）。

有关更多背景信息，您可能对以下处理 Maven“范围”和常春藤“配置”之间差异的答案感兴趣。

*   [Maven 范围如何通过 ivy 映射到 ivy 配置](https://stackoverflow.com/questions/7104364/how-are-maven-scopes-mapped-to-ivy-configurations-by-ivy/7116577#7116577)

最后，如果您的 ivy 构建使用配置，则可以配置[makepom](http://ant.apache.org/ivy/history/latest-milestone/use/makepom.html)任务以在配置和范围之间进行映射：

```
<ivy:makepom ivyfile="${build.dir}/ivy.xml" pomfile="${build.dir}/${ivy.module}.pom"/>
   <mapping conf="api" scope="compile"/>
</ivy:makepom> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-30T22:40:30.470

Most likely, the problem is with the dependency declaration. You pull the dependency into your 'default' configuration with conf="default->api". But you really want them in the "compile" conf, to include them in your compile classpath.

# video - ffmpeg 重新编码 h264 mp4 修剪多余的音频

> ID：14210385
> 
> 赞同：1
> 
> 时间：2013-01-08T07:46:37.827
> 
> 标签：video, ffmpeg

我正在使用的 vids 是在 Android 设备上创建的，文件末尾的视频总是会有轻微的停顿，音频会持续一秒钟。

我认为这是因为在 mp4 编码期间视频流被连接到最近的关键帧，但是我无法控制这一点，我必须使用这些 MP4。

我可以使用 ffmpeg 重新编码 mp4 使声音和视频完全一起结束（删除多余的音频）吗？

这是我正在使用的 mp4 的几个示例，每个文件末尾的暂停长度各不相同（可能是因为视频流中的关键帧可以相隔一秒）

[http://www.sendspace.com/file/8281gm](http://www.sendspace.com/file/8281gm)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:17:22.293

试试这个

```
ffmpeg -i a.mp4 -c copy -shortest b.mp4 
```

# security - 对给定用户仅持续一天的哈希

> ID：14210386
> 
> 赞同：0
> 
> 时间：2013-01-08T07:46:47.610
> 
> 标签：security, web, cryptography

这种生成和检查散列的方法是否允许创建仅持续一天的安全用户特定散列？

generate_token: sha(salt + day_of_year + user)

check_token: sha(salt + day_of_year + user) == get['token']

这里的想法是创建一个只能持续一天的即时登录令牌。它可以通过电子邮件发送给个人用户。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:52:08.990

更好的方法是计算到期时间戳（例如，当前时间 + 86400 秒），然后将该时间戳存储在数据库中，同时将其包含在哈希中：

```
user | expiry | hash
-----+--------+--------------------------
...  | 123456 | sha(salt + 123456 + user) 
```

然后在检查时，您会看到 (a) 哈希是否存在，并且 (b) 它与用户匹配，以及 (c) 到期时间戳是否尚未过去。

这为您提供了从发布之日起始终持续一天的哈希，而不仅仅是持续到第二天开始的时候。

如果您愿意，它还可以让您轻松地从数据库中删除过期的哈希，以减少行数。

# android - 我想将数据库中的列表视图中的项目显示为复选框的值。在安卓中

> ID：14210387
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:46:52.727
> 
> 标签：android, database, sqlite, checkbox

我是android编程的新手...

我想制作一个可以将复选框绑定到数据库的应用程序...

我的意思是根据复选框的状态（或选中的复选框的数量），应该从数据库中检索值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:52:24.463

在 SQLite 中没有布尔值，但它们表示为 1 表示真，0 表示假。
如果您尝试搜索这些值，您可以确定条件是真还是假；

```
int booleanRow = cursor.getColumnIndexOrThrow(FIELD);
boolean isChecked = (cursor.getInt(booleanRow) == 1)? true : false; 
```

# jquery - 用于验证的 Jquery 幻灯片动画

> ID：14210389
> 
> 赞同：0
> 
> 时间：2013-01-08T07:46:55.977
> 
> 标签：jquery

我试图在输入字段的焦点上滑动一个 div 以进行验证。我想实现类似[https://mailchimp.com/signup/的动画](https://mailchimp.com/signup/)

小提琴：http: [//jsfiddle.net/6A9Qa/](http://jsfiddle.net/6A9Qa/)

```
$('#name').on('focus',function() {
   $(this).next().show().animate({height: '25px'}, {duration: 250});

});

$('#name').on('blur',function() {
    $(this).next().hide().animate({height: '0'}, {duration: 250}); 
}); 
```

我无法像邮件黑猩猩那样以正确的方式获得动画。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:53:41.600

您可以使用上下滑动

```
$('#name').on('focus',function() {
   $(this).next().slideDown(2000);
});

$('#name').on('blur',function() {
   $(this).next().slideUp(2000);
}); 
```

然后只需编辑你的CSS元素的高度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:54:56.180

你为什么不使用.. [slideUp()](http://api.jquery.com/slideUp/)和[slideDown()](http://api.jquery.com/slideDown/)函数

> SLIDEUP：通过滑动隐藏匹配的元素。
> SLIDEDOWN：滑动显示匹配的元素。

```
$('#name').on('focus',function() {
 $(this).next().slideDown('slow');

});

$('#name').on('blur',function() {
 $(this).next().slideUp('slow');

}); 
```

[在这里摆弄](http://jsfiddle.net/6A9Qa/5/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:55:54.807

见[小提琴](http://jsfiddle.net/6A9Qa/8/)：

```
(function () {

  $('#name').on('focus', function () {
    $(this).next().slideToggle();
  });

  $('#name').on('blur', function () {
    $(this).next().slideToggle();
 });
})(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T07:56:02.193

在这里试试我的演示[http://jsfiddle.net/6A9Qa/7/](http://jsfiddle.net/6A9Qa/7/)

```
(function() {

  $('#name').on('focus',function() {
    $(this).nextAll('.generic').slideDown(250);
  });

   $('#name').on('change',function() {
    $(this).nextAll('.generic').slideUp(250);
     if($('#name').val() !== ''){
        $(this).nextAll('.error').slideDown(250);
     }
     else {
        $(this).nextAll('.error').slideUp(250);
     }
  });

})(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-08T08:00:08.923

试试这个：http: [//jsfiddle.net/6A9Qa/9/](http://jsfiddle.net/6A9Qa/9/)

```
(function() {
  $('#name').on('focus',function() {
    $(this).next().show().animate({height: '25px'},250);
  });
  $('#name').on('blur',function() {
     $(this).next().animate({height: '0'}, 250, function(){
        $('.validate').hide();
     });
  });
})(); 
```

并且还需要向 css 类添加`height:0;`css 属性`.validate`。

# tridion - 无法持久化数据实体，提交事务时出错

> ID：14210391
> 
> 赞同：1
> 
> 时间：2013-01-08T07:47:08.390
> 
> 标签：tridion, tridion-2011, tridion-content-delivery, tridion-storage-extension, tridion-deploy-extension

我成功地编写了部署程序扩展和存储扩展。

以下是我从核心日志中获取的日志，显示所有内容都已完美加载！！

```
2013-01-08 11:30:19,759 INFO  BundleConfigurationLoader - Added 'PublishAction' for storage 'persistence' with 'com.tridion.storage.dao.JPAPublishActionDAO'.

2013-01-08 11:30:38,259 DEBUG JPAPublishActionDAO - Constructor of JPAPublishActionDAO- storageId:searchdb
2013-01-08 11:30:38,259 DEBUG JPAPublishActionDAO - Constructor of JPAPublishActionDAO- entityManagerFactory:true
2013-01-08 11:30:38,259 DEBUG JPAPublishActionDAO - Constructor of JPAPublishActionDAO- storageName:PublishAction

2013-01-08 11:19:38,400 INFO  Module - No TransformProcessor configured, will not transform files before deployment for module com.tridion.custom.extensions.SearchPageDeployer
2013-01-08 11:30:38,400 DEBUG SearchPageDeployer - Constructor of SearchPageDeployer //This is my PageDeployer Constructor

2013-01-08 11:30:38,744 DEBUG SearchPageDeployer - Called processPage from SearchPageDeployer //This is my process Page of pagedeployer class

2013-01-08 11:30:38,572 DEBUG SearchPageDeployer - SearchPageDeployer Called processItem
2013-01-08 11:30:38,572 DEBUG StorageManagerFactory - Default storage provider has caching set to: false
2013-01-08 11:30:38,572 DEBUG StorageManagerFactory - Loaded following dao Properties[publication=0, typeMapping=PublishAction, storageId=searchdb, cached=false] for publication/typeMapping/itemExtension: 0 / PublishAction / null
2013-01-08 11:30:38,572 DEBUG StorageManagerFactory - Loading a non cached DAO for publicationId/typeMapping/itemExtension: 0 / PublishAction / null
2013-01-08 11:30:38,572 DEBUG StorageManagerFactory - Wrapping DAO's, currently 0 wrappers installed
2013-01-08 11:30:38,572 INFO  JPAPublishActionDAO - Entering Method: JPAPublishActionDAO.PublishAction.store
2013-01-08 11:40:33,228 ERROR SearchPageDeployer - SearchPageDeployer - Exception occurred com.tridion.broker.StorageException: Unable to persist data entity, Error while commiting the transaction, Error while commiting the transaction 
```

现在，当我尝试将数据存储在我的表中时，我收到**“发生异常 com.tridion.broker.StorageException：无法持久化数据实体，提交事务时出错，提交事务时出错”**

这是我的实体类的任何问题还是我缺少的东西。

编辑：在 logback xml 中启用记录器级别“ON”之后。

我在核心文件中遇到以下异常：

```
2013-01-08 14:42:10,713 DEBUG SQL - insert into AUTN_ITEMS (ACTION, FLAG, ITEM_TYPE, LAST_PUBLISHED_DATE, PUBLICATION_ID, SCHEMA_ID, TCMURI, URL, ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2013-01-08 14:42:10,728 DEBUG AbstractBatcher - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2013-01-08 14:42:10,744 DEBUG JDBCExceptionReporter - could not insert: [com.tridion.storage.dao.PublishAction] [insert into AUTN_ITEMS (ACTION, FLAG, ITEM_TYPE, LAST_PUBLISHED_DATE, PUBLICATION_ID, SCHEMA_ID, TCMURI, URL, ID) values (?, ?, ?, ?, ?, ?, ?, ?, ?)]
com.microsoft.sqlserver.jdbc.SQLServerException: Cannot insert explicit value for identity column in table 'AUTN_ITEMS' when IDENTITY_INSERT is set to OFF. 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T13:52:55.187

The error you're getting is suggesting that your ID column is not defined correctly as an identity or that you're trying to manually set a value to the autogenerated value in this column. Hope this helps.

Regards, Daniel.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T21:25:24.010

The ID column should be set to auto increment at db level. Have a look at my original article on sdltridionworld for an example [http://www.sdltridionworld.com/articles/sdltridion2011/tutorials/extending-content-delivery-storage-sdltridion-2011-1.aspx](http://www.sdltridionworld.com/articles/sdltridion2011/tutorials/extending-content-delivery-storage-sdltridion-2011-1.aspx)

"For SQL Server, column ID is defined as IDENTITY(1,1), so it increments automatically by one, without us having to specify value.

对于 Oracle，需要使用序列（生成值）定义列 ID，如下所示： CREATE SEQUENCE SEQ_PUBLISH_ACTIONS MAXVALUE 999999999999999 CYCLE START WITH 1 / CREATE OR REPLACE TRIGGER PUBLISH_ACTIONS_KEY BEFORE INSERT ON PUBLISH_ACTIONS FOR EACH BEGIN IF :new.ID IS NULL THEN SELECT SEQ_PUBLISH_ACTIONS.NEXTVAL INTO :new.ID FROM DUAL; 万一; 结尾; / "

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T08:23:08.050

以上问题在我的实体类中，我需要为我的身份列添加以下注释。

```
@Id
@Column(name = "ID", unique=true,updatable=false,insertable=false)
@GeneratedValue(strategy = GenerationType.AUTO)
private long id; 
```

如果需要任何更改，请提出建议。

谢谢

# android - 计时器和文本视图

> ID：14210395
> 
> 赞同：-2
> 
> 时间：2013-01-08T07:47:32.970
> 
> 标签：android

我试图了解如何使用计时器。

在我的 MainActivity.class 中，在 create 方法中，我有这段代码

```
 Timer  timer = new Timer();
  TimerTask updateM = new GestioneSlide();
  timer.scheduleAtFixedRate(updateM , 1000, 5000); // i want to do a thing every second   for 5 seconds 
```

然后我有另一个类，我在其中覆盖方法运行，并且我想在我的 MainActivity.class 中的 texview 中写一些东西

```
class GestioneSlide extends TimerTask {

        @Override
       public void run() {
            MainActivity.TextViewName.setText("bla  bla");
            }

    } 
```

我的应用程序崩溃，如果我删除`MainActivity.TextViewName.setText("bla bla");`我没有问题。可能我不能那样在那个textview中写我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:51:11.157

计时器不会在 GUI 线程中触发其操作。使用[runOnUiThread](http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29)切换到它。假设 GestioneSlide 是你的 Activity 的内部类，写

```
 class GestioneSlide extends TimerTask {

   public void run() {
     runOnUiThread(new Runnable() {
        public void run() {
           MainActivity.TextViewName.setText("bla  bla");
        }
     }
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:00:10.140

制作一个处理程序并在处理程序内显示味精。

```
 private class mainTask extends TimerTask
            { 
                public void run() 
                {
                    toastHandler.sendEmptyMessage(0);
                }
            } 
    private final Handler toastHandler = new Handler()
            {
                @Override
                public void handleMessage(Message msg)
                {
                    Toast.makeText(getApplicationContext(), "test", Toast.LENGTH_SHORT).show();
                }
            }; 
```

# android - 带有 Android 的 Eclipse 中奇怪的内容辅助行为

> ID：14210399
> 
> 赞同：4
> 
> 时间：2013-01-08T07:47:45.237
> 
> 标签：android, eclipse, content-assist

当我为 Android 编程时，我在 Eclipse（Helios 和 Juno）内容辅助上遇到了非常奇怪的行为。以下捕获显示当我仍在该内部类中时一切顺利（OnSeekBarChangeListener（））

![在此处输入图像描述](../Images/6e7f92e057f038409d2ad61f1c436f9a.png)

然后，一旦我继续前进（仅向前一行，在 Listener 之后而不是在内部声明一个 int，如下所示，content-assist 已停止工作！

![在此处输入图像描述](../Images/16fe39725f064352fce71e91eaef2938.png)

然后注释掉整个听众会让事情再次发生......

![在此处输入图像描述](../Images/13666ea837df8548929780def395b97c.png)

我尝试删除整个代码块并再次手动键入它们，但行为仍然存在。我已经尝试清理 Eclipse 的 cahche (-clean)，仔细检查了我的内容辅助设置（似乎是正确的，否则情况 #1 和 3 将无法正常工作）

奇怪的是，我在文件的前面有另一个内部侦听器，并且一切正常工作。

可能是什么问题？（几乎不可能在没有内容辅助的情况下编写代码：p）

预先感谢您的协助。

迈克尔

# javascript - Javascript 在我的网站中显示日期和时间，使用 UTC 在 javascript 中考虑用户时区

> ID：14210401
> 
> 赞同：0
> 
> 时间：2013-01-08T07:47:49.013
> 
> 标签：javascript, datetime, timezone, utc

我想在我的网站上有一个计时器，就像一个数字时钟。它将有一个日期和时间。我有以下代码可以做到这一点：

```
var clockID = 0;

function UpdateClock() {
   if(clockID) {
      clearTimeout(clockID);
      clockID  = 0;
   }

    var tDate = new Date();
    var in_hours = tDate.getHours()
    var in_minutes=tDate.getMinutes();
    var in_seconds= tDate.getSeconds();

    if(in_minutes < 10)
        in_minutes = '0'+in_minutes;
    if(in_seconds<10)   
        in_seconds = '0'+in_seconds;
    if(in_hours<10) 
        in_hours = '0'+in_hours;

   document.getElementById('theTime').innerHTML = "" 
                   + in_hours + ":" 
                   + in_minutes + ":" 
                   + in_seconds;

   clockID = setTimeout("UpdateClock()", 1000);
}
function StartClock() {
   clockID = setTimeout("UpdateClock()", 500);
}

function KillClock() {
   if(clockID) {
      clearTimeout(clockID);
      clockID  = 0;
   }
} 
```

但是这段代码显示的是当前的计算机时间，所以时间不适合我的时区。我还需要在我的代码中添加什么，以便它根据我的时区显示日期和时间？如果日期是 DST，它也会显示 DST 的确切时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:51:50.550

如果您只需要使用 JS，请查看

[向javascript日期添加或减去时区差异](https://stackoverflow.com/questions/7403486/add-or-subtract-timezone-difference-to-javascript-date)

例如[演示](http://jsfiddle.net/mplungjan/mQrJn/)

```
var clockID;
var yourTimeZoneFrom = -7.00; //time zone value where you are at

var d = new Date();  
//get the timezone offset from local time in minutes
var tzDifference = yourTimeZoneFrom * 60 + d.getTimezoneOffset();
//convert the offset to milliseconds
var offset = tzDifference * 60 * 1000;

function UpdateClock() {
    var tDate = new Date(new Date().getTime()+offset);
    var in_hours = tDate.getHours()
    var in_minutes=tDate.getMinutes();
    var in_seconds= tDate.getSeconds();

    if(in_minutes < 10)
        in_minutes = '0'+in_minutes;
    if(in_seconds<10)   
        in_seconds = '0'+in_seconds;
    if(in_hours<10) 
        in_hours = '0'+in_hours;

   document.getElementById('theTime').innerHTML = "" 
                   + in_hours + ":" 
                   + in_minutes + ":" 
                   + in_seconds;

}
function StartClock() {
   clockID = setInterval(UpdateClock, 500);
}

function KillClock() {
  clearTimeout(clockID);
}
window.onload=function() {
  StartClock();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:14:02.763

在 JS 中，您可以获得当前时区偏移量。您需要将偏移量调整到所需的时区。

```
<div id="theTime"></div>
<script>
  var clockID = 0;
  var requiredTimeZone = 360; // CST (+6:00 hrs)

  function UpdateClock() {
     if(clockID) {
        clearTimeout(clockID);
        clockID  = 0;
     }

      var tDate = new Date();
      var calculatedTime = tDate.getTime() + (tDate.getTimezoneOffset() * 60000) - (requiredTimeZone * 60000);
      tDate.setTime(calculatedTime);
      var in_hours = tDate.getHours()
      var in_minutes=tDate.getMinutes();
      var in_seconds= tDate.getSeconds();

      if(in_minutes < 10)
          in_minutes = '0'+in_minutes;
      if(in_seconds<10)   
          in_seconds = '0'+in_seconds;
      if(in_hours<10) 
          in_hours = '0'+in_hours;

     document.getElementById('theTime').innerHTML = "" 
                     + in_hours + ":" 
                     + in_minutes + ":" 
                     + in_seconds;

     clockID = setTimeout("UpdateClock()", 1000);
  }
  function StartClock() {
     clockID = setTimeout("UpdateClock()", 500);
  }

  function KillClock() {
     if(clockID) {
        clearTimeout(clockID);
        clockID  = 0;
     }
  }
  StartClock();
</script> 
```

当前浏览器时区偏移被添加到浏览器时间，然后减去所需的时区偏移以获得所需的时间。

您需要以某种方式将所需的时区传达给浏览器才能使其正常工作。

# tomcat6 - 异常修复 docBase: {0} tomcat

> ID：14210402
> 
> 赞同：0
> 
> 时间：2013-01-08T07:47:53.700
> 
> 标签：tomcat6

我在本地机器中提取war文件时遇到问题。在另一个环境中，它正在正常提取。当我在本地机器中使用相同的war文件时，出现异常

**严重：修复 docBase 的异常：{0} java.util.zip.ZipException：无效的距离代码**

任何人都可以帮助我。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T11:31:38.323

我的 zip 文件中的一个文件已损坏。这导致了此异常。

# objective-c - 在 iPad 应用程序的中心显示操作表

> ID：14210412
> 
> 赞同：0
> 
> 时间：2013-01-08T07:48:18.897
> 
> 标签：objective-c, ios, ipad, ios5, app-store

显示`actionsheet`在视图中心而不是在`popover`for 中`iPad app`。这是允许的`Appstore`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:53:57.997

尝试这个 ：-

```
UIActionSheet *popupQuery = [[UIActionSheet alloc] initWithTitle:@"options" delegate:self cancelButtonTitle:@"Cancel" destructiveButtonTitle:nil otherButtonTitles:@"Option 1", @"Option 2", nil];
popupQuery.actionSheetStyle = UIActionSheetStyleBlackOpaque;
if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
   {
        //popupQuery.
        [popupQuery showInView:self.view];
   } 
```

是的，它得到了苹果的认可

希望对你有帮助

# wordpress - 在 Wordpress 中创建链接菜单

> ID：14210414
> 
> 赞同：0
> 
> 时间：2013-01-08T07:48:33.857
> 
> 标签：wordpress

我使用 WordPress 3.5 作为 CMS 来开发我的个人网站。

我写作的原因是，我需要一种方法来实现代码或插​​件，以允许用户使用依赖（链式）下拉列表浏览帖子。

换句话说，我希望根据在先前下拉列表中选择的选项动态填充 3 个下拉菜单。

这将包括：

下拉列表 1：类别 * 下拉列表 2：子类别 * 下拉列表 3：子类别中的帖子列表 *

*下拉菜单 1 将预先填充类别。*下拉菜单 2 将根据用户选择列出菜单 1 的子类别。*下拉菜单 3 将列出菜单 2 中选择的子类别中的帖子。

为了帮助您进一步了解，在我的网站上，我有“电视连续剧”类别，其中包含其他系列的子类别（子），如“德克斯特”、“CSI：迈阿密”等。系列也有其他子类别（儿童) 季数，例如“第 1 季”“第 2 季”“第 N 季”。每个季节都包含适当的帖子。

层次结构是这样的：

电视连续剧（主要类别）-Dexter --第 1 季 --第 2 季 --第 n 季

-CSI:迈阿密 --第 1 季 --第 2 季 --第 n 季

因此，例如，我想使用的动态下拉列表如下：

下拉菜单 1：选择电视节目（类别） 下拉菜单 2：选择季节（子类别） 下拉菜单 3：选择剧集（帖子）

如果您能帮助我解决这件事，我将不胜感激，因为我在过去几天在网上搜索但没有任何结果。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T12:41:49.970

我会建议你使用多级导航插件[http://wordpress.org/extend/plugins/multi-level-navigation-plugin/](http://wordpress.org/extend/plugins/multi-level-navigation-plugin/)

# jquery - CSV 导出可见行

> ID：14210417
> 
> 赞同：0
> 
> 时间：2013-01-08T07:48:51.073
> 
> 标签：jquery, csv, export, visible

我有一个表，用户在其中通过一个下拉列表过滤行，该下拉列表只是隐藏了他们不想看到的行。

我想做的是仅将当前可见的行导出到 CSV。

以前有人做过这样的事情吗？我正在使用`hide()`and`show()`来隐藏/显示表格行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T01:43:52.470

对于其他正在寻找类似解决方案的人，我终于找到了一些东西。这里是。

```
jQuery.fn.toCSV = function() {
      var data = $(this).first(); //Only one table
      var csvData = [];
      var tmpArr = [];
      var tmpStr = '';
      data.find("tr:visible").each(function() {
          if($(this).find("th").length) {
              $(this).find("th").each(function() {
                tmpStr = $(this).text().replace(/"/g, '""');
                tmpArr.push('"' + tmpStr + '"');
              });
              csvData.push(tmpArr);
          } else {
              tmpArr = [];
                 $(this).find("td").each(function() {
                    if($(this).text().match(/^-{0,1}\d*\.{0,1}\d+$/)) {
                        tmpArr.push(parseFloat($(this).text()));
                    } else {
                        tmpStr = $(this).text().replace(/"/g, '""');
                        tmpArr.push('"' + tmpStr + '"');
                    }
                });
              csvData.push(tmpArr.join(','));
          }
      });
      var output = csvData.join('\n');
      var uri = 'data:application/csv;charset=UTF-8,' + encodeURIComponent(output);
      window.open(uri);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:17:06.370

不幸的是，我不相信有一种快速的一次性方法可以做到这一点。但是，您可以做什么：

`Ctrl`+`;`仅选择可见行。

`Ctrl`+`C`复制。

打开一个新工作表。

`Ctrl`+`V`粘贴。

然后将新工作表保存为 CSV。

# model-view-controller - Jqgrid排序数字顺序

> ID：14210418
> 
> 赞同：0
> 
> 时间：2013-01-08T07:48:51.737
> 
> 标签：model-view-controller, sorting, jqgrid

据我所知，在 jqgrid 中排序会像这样 sortname: 'Key', sortorder: "asc"，但每次 'Key' 显示它不是按数字顺序排列的。看起来像：

钥匙

1

10

100

1000

1001

1002

我的输出需要：

钥匙

1

2

3

4

5

有什么帮助吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:55:43.237

您的代码摘录可能有用...尝试在您的 colmodel [http://www.trirand.com/jqgridwiki/doku.php?id=wiki:colmodel_options中指定 sorttype 选项为](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:colmodel_options)**int**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-14T19:08:13.340

您必须在要排序的特定 colModel 中分配 sorttype:'int'

例如。{名称：'Key'，索引：'Key'，宽度：100，对齐：'left'，隐藏：false，sorttype：'int'}

# iphone - 如何将 NSRegularExpression 写入 xx:xx:xx？

> ID：14210419
> 
> 赞同：0
> 
> 时间：2013-01-08T07:49:12.167
> 
> 标签：iphone, ios, xcode

我正在尝试检查是否`NSString`为特定格式。**dd:dd:dd**。我在想`NSRegularExpression`。就像是

`/^(\d)\d:\d\d:\d\d)$/ ?`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:37:47.123

您是否尝试过类似的方法：

```
NSError *error = NULL;
NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@"^\d{2}:\d{2}:\d{2}$"
                                                                       options:0
                                                                         error:&error];

NSUInteger numberOfMatches = [regex numberOfMatchesInString:string
                                                    options:0
                                                      range:NSMakeRange(0, [string length])]; 
```

（我没有测试它，因为我现在不能，但它应该可以工作）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:59:41.153

我建议使用[RegexKitLite](http://regexkit.sourceforge.net/RegexKitLite/)

有了这个并假设在 dd:dd:dd 'd' 实际上代表 0-9 之间的一个数字，鉴于 Grijesh 的附加评论，它应该很容易实现你需要的东西。

这是从 RegexKitLite 页面复制的示例：

```
// finds phone number in format nnn-nnn-nnnn
NSString *regEx = @"{3}-[0-9]{3}-[0-9]{4}";
NSString *match = [textView.text stringByMatching:regEx];
if ([match isEqual:@""] == NO) {
    NSLog(@"Phone number is %@", match);
} else {
    NSLog(@"Not found.");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T09:24:43.613

更新：

```
NSString *idRegex = @"[0-9][0-9]:[0-9][0-9]:[0-9][0-9]";
NSPredicate *idTest = [NSPredicate predicateWithFormat:@"SELF MATCHES %@", idRegex];               
for (NSString * str in newArrAfterPars) {
if ([idTest evaluateWithObject:str]) {
}
} 
```

# wso2 - WSO2 与其他租户共享超级租户 Web 服务

> ID：14210420
> 
> 赞同：1
> 
> 时间：2013-01-08T07:49:23.283
> 
> 标签：wso2, multi-tenant

我想将部署在超级租户中的 Web 服务分享给其他租户。据我所知，如果他们使用 http://localhost:8280/services/echo?wsdl url，每个人都可以访问超级管理员服务。但我不想仅仅访问超级租户应用程序，我还希望看到正确租户的请求计数。我是否必须将相同的应用程序部署到每个租户并使用正确的 url (http://localhost.com:8280/services/t/tenantname/echo?wsdl) 调用服务来收集请求计数？

有没有其他方法可以做到这一点？例如，也许我可以将标头变量放入正在显示的请求中，哪个租户正在调用应用程序等，并且通过这种方法，我不必将我的服务部署到其他租户。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T10:25:02.013

您可以使用类似的代码，

```
int tenantId = MultitenantUtils.getTenantId(this.getConfigContext()); 
```

获取当前租户的租户 ID 并将其发送到消息本身或标题中。然后你可以通过统计租户ID来记录服务器端访问的租户。

[这](https://stackoverflow.com/a/14154536/1774964)将帮助您获取租户 ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T03:19:41.593

一种可能性是在每个租户处部署应用程序。然后你会得到一个单独的 URL。否则，您可以让您的服务具有多租户意识。为此，您需要确保服务安全。登录服务时，我们可以使用用户名来确定租户。例如 foo 用户应该是超级租户用户，而 foo@bar.com 应该属于 bar.com 租户。在这种情况下，碳框架执行此身份验证并将租户详细信息设置为碳上下文。您可以在服务级别访问它。例如。CarbonContext.getCurrentContext().getTenantID() 或使用 Maninda 提到的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-11T13:10:30.023

org.wso2.carbon.tomcat.ext.internal.Utils 类有一个名为 getTenantDomain 的函数。

我已更改此方法以从标头中查找租户域，因此它的工作原理很吸引人:)

我想WSO2也想定制这个方法。

# java - 在 webapps 中探索用户特定的数据

> ID：14210426
> 
> 赞同：0
> 
> 时间：2013-01-08T07:49:57.157
> 
> 标签：java, spring, database-design, web-applications

我正忙于设计一个简单的待办事项列表 web 应用程序，用户可以在该应用程序中进行身份验证并保存待办事项列表项。用户也只能查看/编辑他们添加的待办事项列表项。

这似乎是大多数 Web 应用程序（或一般应用程序）中的一般功能（经过身份验证的用户只查看他们自己的数据）。

对我来说重要的是了解实现这一目标的不同选择。我想要实现的是一种可以有效处理大量用户数据的解决方案。目前我正在使用关系数据库执行此操作，但 noSQL 答案对我也很有用。

想到了以下想法：

*   每次需要此“功能”时添加一个 user_id 列。*   添加关联数据的关联表（在上面的示例中为 user_todo_list_item 表）。*   以这样一种方式设计，即每个“功能”每个用户都有一个表......所以你会有一个 todolist_userABC 表。这是一个选项，但我不太喜欢它，因为一千个用户意味着一千个表？！*   将行级安全性添加到特定的“功能”。我不熟悉它是如何工作的，但它似乎是一个有效的选择。我也不确定这是否是特定于数据库供应商的。

    在我的选择中，我选择了 todolist_item 表上的 user_id 列。虽然它可以完成这项工作，但我觉得如果表中的数据足够大，读取数据时 user_id 列可能会出现问题。我猜可以添加一个索引，但我不确定该索引的有效性。

    我不喜欢的是，我需要为每个我想要这种对我来说似乎不正确的功能的表都有一个 user_id？似乎当我实现数据库层时，我必须将它添加到我对每个功能的查询中（除非我使用一些 AOP）？

    我环顾四周（[Trello 如何在 MongoDB 中存储数据？（每个板的集合？）](https://stackoverflow.com/questions/12969344/how-does-trello-store-data-in-mongodb-collection-per-board)），但它没有谈到有关 user_id 列或类似内容的技术。我还尝试在一些安全框架（具体是 Spring Security）中阅读有关此内容的信息，但似乎它只涉及表级别而不是行级别的特权/权限？

    所以问题是我的选择是否合适，是否有更好的技术来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T20:00:40.167

你的选择是很自然的事情。

每个用户的表是非启动器（任何修改数据库结构以响应用户操作的行为通常都是可疑的）。

行级别的安全性对于 webapps 来说并不是一个真正的选择——它要求每个用户会话都有一个单独的、持久的数据库连接，这很少实用。是的，它是特定于供应商的。

如何索引表完全取决于您的使用模式和要运行的查询类型。'显示用户的所有 TODO' 是您想要支持的查询（似乎是这样）？然后显然需要用户 id 上的索引。

Why does having a user_id column seem wrong to you? If you want to restrict access by user, you need to be able to identify which user the record belongs to. Doesn't actually mean that *every* table needs it - for example, if one record composes another (say, your TODOs have 'steps', each step belongs to a single TODO), only the root of the object graph needs the user id.

# sql - 带空格的别名列名引发错误

> ID：14210430
> 
> 赞同：1
> 
> 时间：2013-01-08T07:50:10.027
> 
> 标签：sql, oracle, plsql, oracle10g

我在我的存储过程中使用以下部分，它会引发错误：- 错误报告：

```
ORA-00923: FROM keyword not found where expected 
```

问题是列名包含我用粗体突出显示的行的空格。它是字符串连接

```
//Evt_label has varchar values with spaces eg. Stack OverFlow

select TYT_LIBELLE into evt_label from trb_type_trv where tyt_id= x.tyt_id;     

 ***sql_Columns := sql_Columns ||',T_"'|| evt_label||'"Total'||vTytCnt;***

//Error Comes when i execute this line

select sql_Columns from table1; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:57:08.523

You have to use `EXECUTE IMMEDIATE` as below:

```
//Evt_label has varchar values with spaces eg. Stack OverFlow

select TYT_LIBELLE into evt_label from trb_type_trv where tyt_id= x.tyt_id;     

 sql_comm := 'select '||sql_Columns ||',T_"'|| evt_label||'"Total'||vTytCnt||' from table1';

//Error Comes when i execute this line

EXECUTE IMMEDIATE sql_comm; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T09:02:07.340

You should surround the entire column name with double quotes but I'm not sure if there is a single column or two

```
sql_Columns ||',"T_'|| evt_label||'Total'||vTytCnt||'" 
```

or

```
sql_Columns ||',"T_'|| evt_label||'","Total'||vTytCnt||'"' 
```

# php - 在显示选定选项时遇到 ajax 问题

> ID：14210431
> 
> 赞同：0
> 
> 时间：2013-01-08T07:50:11.313
> 
> 标签：php, javascript, jquery, ajax

为了解决我遇到的困境，我正在尝试学习一段 ajax/jquery 代码，但我非常失败。

下面是我的ajax：

```
 $('#sessionsDrop').change( function(){
            var search_val = $(this).val();
            $.post("addstudentsession.php", 
            {studenttextarea : search_val}, 
            function(data){
   if (data.length>0){ 
     $("#studentselect").html(data); 
   } 

    }); 
```

目前，每次加载addstudentsession.php 脚本时，我都会得到一个空白页面。这是我正在处理的唯一脚本，所以我不确定是否应该将 ajax 链接到自身。但以下是我正在尝试做的事情：

我在下面有一个下拉菜单：

```
<select name="session" id="sessionsDrop">
<option value="">Please Select</option>
<option value='20'>EWYGC - 10-01-2013 - 09:00</option>
<option value='22'>WDFRK - 11-01-2013 - 10:05</option>
<option value='23'>XJJVS - 12-01-2013 - 10:00</option>
<option value='21'>YANLO - 11-01-2013 - 09:00</option>
<option value='24'>YTMVB - 12-01-2013 - 03:00</option>
</select> </p> 
```

下面我有一个多选框，其中显示了从上面的下拉菜单中进行选择评估的学生列表：

```
$studentactive = 1;

$currentstudentqry = "
SELECT
ss.SessionId, st.StudentId, st.StudentAlias, st.StudentForename, st.StudentSurname
FROM
Student_Session ss 
INNER JOIN
Student st ON ss.StudentId = st.StudentId
WHERE
(ss.SessionId = ? and st.Active = ?)
ORDER BY st.StudentAlias
";

$currentstudentstmt=$mysqli->prepare($currentassessmentqry);
// You only need to call bind_param once
$currentstudentstmt->bind_param("ii",$sessionsdrop, $stuentactive);
// get result and assign variables (prefix with db)

$currentstudentstmt->execute(); 

$currentstudentstmt->bind_result($dbSessionId,$dbStudentId,$dbStudentAlias,$dbStudentForename.$dbStudentSurname);

$currentstudentstmt->store_result();

$studentnum = $currentstudentstmt->num_rows();   

$studentSELECT = '<select name="studenttextarea" id="studentselect" size="6">'.PHP_EOL;      

if($studentnum == 0){

$studentSELECT .= "<option disabled='disabled' class='red' value=''>No Students currently in this Assessment</option>"; 

}else{   

while ( $currentstudentstmt->fetch() ) {

$studentSELECT .= sprintf("<option disabled='disabled' value='%s'>%s - %s s</option>", $dbStudentId, $dbStudentAlias, $dbStudentForename, $dbStudentSurname) . PHP_EOL; 
}

}

$studentSELECT .= '</select>'; 
```

但是我有一个小问题，当用户从下拉菜单中选择了一个选项时，我需要一种能够在选择框中显示学生列表的方法。php 代码的问题是必须提交页面才能找到其结果。

所以这就是为什么我试图使用 ajax 来解决这个问题，但我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T12:01:55.127

尝试使用 ajax 调用如下，

```
var XMLHttpRequestObject = false;

if (window.XMLHttpRequest) {
XMLHttpRequestObject = new XMLHttpRequest();
} else if (window.ActiveXObject) {
try {
    XMLHttpRequestObject = new ActiveXObject("Msxml2.XMLHTTP");
} catch (e) {
    try {
        XMLHttpRequestObject = new ActiveXObject("Microsoft.XMLHTTP");
    } catch (e) {
        XMLHttpRequestObject = false;
    }
}
}
$('#sessionsDrop').change( function(){
var search_val = $(this).val();
if (XMLHttpRequestObject) {

    XMLHttpRequestObject.open("POST", "addstudentsession.php", true);

    XMLHttpRequestObject.setRequestHeader('Content-Type',
            'application/x-www-form-urlencoded');

}
XMLHttpRequestObject.onreadystatechange = function() {
    if (XMLHttpRequestObject.readyState == 4
            && XMLHttpRequestObject.status == 200) {

        y = XMLHttpRequestObject.responseText;
                   $("#studentselect").html(y);

        }

};
};

XMLHttpRequestObject.send("studenttextarea=" + search_val); 
```

# mysql - 在 MySQL 中创建模式的自动工具

> ID：14210432
> 
> 赞同：0
> 
> 时间：2013-01-08T07:50:13.153
> 
> 标签：mysql, hibernate, jakarta-ee

我是一个休眠初学者。我正在关注“Java Persistence with Hibernate”一书，现在在第 2 章。

我刚刚发现为了测试 hello world 类，我必须手动在 MySQL 中手动创建一个 Messages 表，我发现手动输入所有方案很乏味，因为它很容易出错。

我想知道 Hibernate 是否有任何内置工具可以自动为开发人员创建模式？提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:54:40.930

只需添加`<property name="hbm2ddl.auto">update</property>`到您的 hibernate.cfg.xml 文件中，它就会为您进行模式验证。如果您不想覆盖内容，那么执行`<property name="hbm2ddl.auto">validate</property>`它只会验证它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:59:44.477

Hibernate can do that. Depending on your setup there are several ways:

*   ant: [http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/toolsetguide.html#toolsetguide-s1-5](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/toolsetguide.html#toolsetguide-s1-5)
*   maven: [http://mojo.codehaus.org/maven-hibernate3/hibernate3-maven-plugin/](http://mojo.codehaus.org/maven-hibernate3/hibernate3-maven-plugin/)

This question has been answered before: [Hibernate custom schema creation](https://stackoverflow.com/questions/6167474/hibernate-custom-schema-creation)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T07:54:39.697

`hibernate.hbm2ddl.auto`在您的休眠配置中指定。它将根据您的需要创建和删除数据库。

了解更多关于这个 -

[http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/session-configuration.html](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/session-configuration.html)

# spring - Spring 中的 JBPM 5.4 LocalTask Service 范围

> ID：14210440
> 
> 赞同：0
> 
> 时间：2013-01-08T07:50:51.877
> 
> 标签：spring, jbpm

我正在使用 JBPM 5.4.0.Final 和 Spring 3.0.6

我正在使用本地任务服务。

**如果将org.jbpm.task.service.local.LocalTask​​Service**声明为 spring bean，它的范围应该是什么？可以是单例吗？

**任务上下文.xml：**

```
<bean id="internalTaskService" class="org.jbpm.task.service.TaskService">
        <property name="systemEventListener" ref="systemEventListener" />
    </bean>

    <bean id="htTxManager" class="org.drools.container.spring.beans.persistence.HumanTaskSpringTransactionManager">
        <constructor-arg ref="transactionManager" />
    </bean>

    <bean id="springTaskSessionFactory"  class="org.jbpm.task.service.persistence.TaskSessionSpringFactoryImpl" init-method="initialize" 
                                                depends-on="internalTaskService">
        <property name="entityManagerFactory" ref="jbpmEMF" />
        <property name="transactionManager" ref="htTxManager" />
        <property name="useJTA" value="true" />
        <property name="taskService" ref="internalTaskService" />
    </bean>

    <bean id="taskService" class="org.jbpm.task.service.local.LocalTaskService" depends-on="springTaskSessionFactory">
        <constructor-arg ref="internalTaskService"></constructor-arg>
    </bean> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T11:22:09.910

问题是，您需要多少个实例。如果您只有该应用程序的一个客户端，您可以只创建它单例，它不应该影响行为。如果您有任何问题，请告诉我们。

干杯

# apache-flex - 是否可以让 Flex Canvas 可编辑 = false？

> ID：14210441
> 
> 赞同：1
> 
> 时间：2013-01-08T07:50:54.513
> 
> 标签：apache-flex, flex4, mxml

其实我的意图是在 Flex 应用程序中有 10 个文本输入框。

所以我正在创建画布并将所有文本输入放入该画布然后我定义

```
canvasId.editable=false; 
```

但它给出了错误！我知道 Canvas 中没有可编辑的...

但有可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T12:34:09.763

为您的文本输入提供“可编辑”属性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T14:53:36.893

您可以使用状态。创建两个状态：

```
<s:states>
    <s:State name="stateEditable"/>
    <s:State name="stateReadOnly"/>
</s:states> 
```

对于每个文本输入：

```
<s:TextInput editable.stateReadOnly="false"/> 
```

然后在动作脚本中：

```
currentState = "stateReadOnly"; 
```

# android - 日志猫中的运行时错误

> ID：14210445
> 
> 赞同：0
> 
> 时间：2013-01-08T07:51:11.497
> 
> 标签：android

我无法准确识别错误。我的应用程序工作正常。但是当我浏览应用程序中的活动时，我注意到日志猫中的这些错误为红色，但应用程序不会崩溃

```
01-08 07:13:09.363: E/StrictMode(1067):     at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
01-08 07:13:09.363: E/StrictMode(1067):     at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
01-08 07:13:09.363: E/StrictMode(1067):     at android.app.ContextImpl.bindService(ContextImpl.java:1418)
01-08 07:13:09.363: E/StrictMode(1067):     at android.app.ContextImpl.bindService(ContextImpl.java:1407)
01-08 07:13:09.363: E/StrictMode(1067):     at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
01-08 07:13:09.363: E/StrictMode(1067):     at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
01-08 07:13:09.363: E/StrictMode(1067):     at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
01-08 07:13:09.363: E/StrictMode(1067):     at com.android.emailcommon.service.AccountServiceProxy.getDeviceId(AccountServiceProxy.java:116)
01-08 07:13:09.363: E/StrictMode(1067):     at com.android.exchange.ExchangeService.getDeviceId(ExchangeService.java:1249)
01-08 07:13:09.363: E/StrictMode(1067):     at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1856)
01-08 07:13:09.363: E/StrictMode(1067):     at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
01-08 07:13:09.363: E/StrictMode(1067):     at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
01-08 07:13:09.363: E/StrictMode(1067):     at android.os.AsyncTask$2.call(AsyncTask.java:287)
01-08 07:13:09.363: E/StrictMode(1067):     at java.util.concurrent.FutureTask.run(FutureTask.java:234)
01-08 07:13:09.363: E/StrictMode(1067):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
01-08 07:13:09.363: E/StrictMode(1067):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
01-08 07:13:09.363: E/StrictMode(1067):     at java.lang.Thread.run(Thread.java:856)
01-08 07:13:09.413: W/ActivityManager(755): Unbind failed: could not find connection for android.os.BinderProxy@414efec0
01-08 07:13:09.413: W/Trace(1067): Unexpected value from nativeGetEnabledTags: 0
01-08 07:13:09.413: W/Trace(1067): Unexpected value from nativeGetEnabledTags: 0
01-08 07:13:23.563: W/Trace(1005): Unexpected value from nativeGetEnabledTags: 0
01-08 07:13:23.573: W/Trace(1005): Unexpected value from nativeGetEnabledTags: 0
01-08 07:13:54.157: D/ExchangeService(1067): Received deviceId from Email app: null 
```

谁能解释这里发生了什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:03:36.053

您的应用程序没有崩溃，因为错误是 E/StrictMode，当应用程序崩溃时错误报告为 E/AndroidRuntime，似乎您已在应用程序中启用严格模式检查，它报告可能的错误并且可以更正

# python - 带有 Werkzeug 的最小 HTTP 服务器 - 内部服务器错误

> ID：14210450
> 
> 赞同：0
> 
> 时间：2013-01-08T07:51:22.213
> 
> 标签：python, http, werkzeug

为了演示基本的 HTTP 处理，我正在尝试定义一个真正最小的 HTTP 服务器演示。我一直在使用出色的[werkzeug](http://werkzeug.pocoo.org/)库，我正试图将其“哑巴”一点。我当前的服务器做的太多了:)

```
#!/usr/bin/env python2.7
# encoding: utf-8

if __name__ == '__main__':
    from werkzeug.serving import run_simple
    run_simple('127.0.0.1', 6969, application=None) 
```

`run_simple`处理的事情已经太多了。向该服务器发出请求时，

```
→ http GET http://127.0.0.1:6969/ 
```

我们得到：

```
HTTP/1.0 500 INTERNAL SERVER ERROR
Content-Type: text/html
Content-Length: 291
Server: Werkzeug/0.8.3 Python/2.7.1
Date: Tue, 08 Jan 2013 07:45:46 GMT

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<title>500 Internal Server Error</title>
<h1>Internal Server Error</h1>
<p>The server encountered an internal error and was 
unable to complete your request.  Either the server 
is overloaded or there is an error in the application.</p> 
```

我很想把它减少到最低限度。并使用 500 Internal Server Error 作为包罗万象的方法。理想情况下，对于任何 HTTP 请求，来自服务器的响应应该是 500，仅此而已，因为服务器对请求一无所知

```
HTTP/1.0 500 INTERNAL SERVER ERROR 
```

然后在第二阶段，我可能会添加

```
HTTP/1.0 500 INTERNAL SERVER ERROR
Content-Type: text/plain

Internal Server Error 
```

然后通过理解请求开始处理请求。目标是在此过程中具有教育意义。欢迎任何关于接管默认答案的建议。

**更新 001**

和：

```
#!/usr/bin/env python2.7
# encoding: utf-8

from werkzeug.wrappers import BaseResponse as Response

def application(environ, start_response):
    response = Response('Internal Server Error', status=500)
    return response(environ, start_response)

if __name__ == '__main__':
    from werkzeug.serving import run_simple
    run_simple('127.0.0.1', 6969, application) 
```

它会回来

```
HTTP/1.0 500 INTERNAL SERVER ERROR
Content-Type: text/plain; charset=utf-8
Content-Length: 21
Server: Werkzeug/0.8.3 Python/2.7.1
Date: Tue, 08 Jan 2013 07:55:10 GMT

Internal Server Error 
```

我想至少删除可选的服务器和日期。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:29:52.800

作为基本示例，我不会使用第三方库。您可以使用 Python 附带的 BaseHTTPServer 模块。

```
import BaseHTTPServer

PORT = 8000

class MyHandler(BaseHTTPServer.BaseHTTPRequestHandler):
    def send_response(self, code, message=None):
        """Send the response header and log the response code.

        In contrast to base class, do not send two standard headers 
        with the server software version and the current date.
        """
        self.log_request(code)
        if message is None:
            if code in self.responses:
                message = self.responses[code][0]
            else:
                message = ''
        if self.request_version != 'HTTP/0.9':
            self.wfile.write("%s %d %s\r\n" %
                             (self.protocol_version, code, message))

    def do_GET(self):
        self.send_response(500)
        self.send_header("Content-type", "text/html")
        self.end_headers()
        self.wfile.write("Internal Server Error\n")

httpd = BaseHTTPServer.HTTPServer(("", PORT), MyHandler)
print "serving at port", PORT
httpd.serve_forever() 
```

这将给我们以下响应：

```
HTTP/1.0 500 Internal Server Error
Content-type: text/html

Internal Server Error 
```

您现在可以进行所有更改的地方是 do_GET 方法。我认为每一行的作用很明显。

**备选方案 1：**

更基本的是

```
import SocketServer

response = """HTTP/1.0 500 Internal Server Error
Content-type: text/html

Invalid Server Error"""

class MyTCPHandler(SocketServer.BaseRequestHandler):
    """
    The RequestHandler class for our server.

    It is instantiated once per connection to the server, and must
    override the handle() method to implement communication to the
    client.
    """

    def handle(self):
        # self.request is the TCP socket connected to the client
        self.data = self.request.recv(1024).strip()
        self.request.sendall(response)

if __name__ == "__main__":
    HOST, PORT = "localhost", 8000
    server = SocketServer.TCPServer((HOST, PORT), MyTCPHandler)
    server.serve_forever() 
```

# iphone - 当我们使用 presentModalViewController 时，新呈现视图上的按钮不起作用

> ID：14210451
> 
> 赞同：1
> 
> 时间：2013-01-08T07:51:26.303
> 
> 标签：iphone, objective-c, presentmodalviewcontroller, ibaction

**当我使用presentModalViewController**时按钮操作不起作用

 ****在视图 1 中：**

-

```
(void)PreseentTheNextView
    {
        NSLog(@"clicked to add the new view from botom to top");
        PreferenceViewController *prefDetails=[[PreferenceViewController alloc] initWithNibName:@"PreferenceViewController" bundle:nil];
        [self presentModalViewController:prefDetails animated:YES];
    } 
```

我在**PreferenceViewController上有****两个按钮**

 ****在视图 2 中：**

```
-(IBAction)button1Click
{
NSLog(@"Button 1 Clicked");
}

-(IBAction)button2Click
{
 NSLog(@"Button 2 Clicked");
}

-(IBAction)DismissButton
    {
     NSLog(@"Remove/ Dismiss down the view to previus page ");
    } 
```

所有这些按钮都设置在 PreferenceViewController 的 IB 中。

**当我使用presentModalViewController**时，这些按钮操作不起作用

 **如果我使用**Navigation PushViewController**并且工作正常。

但我们的要求只是呈现从下到上的视图

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:02:56.670

尝试这个...

```
 [self.navigationController presentModalViewController:prefDetails animated:YES]; instead of 
   [self presentModalViewController:prefDetails animated:YES]; 
```******

# database - 如何在 sqlalchemy 表达式语言中设置 CONSTRAINTS DEFERRED？

> ID：14210453
> 
> 赞同：2
> 
> 时间：2013-01-08T07:51:40.997
> 
> 标签：database, sqlalchemy

我有一个我们将调用 table_A 的表，它有一个引用 table_B 的外键。Table_B 也有一个引用 table_A 的外键。要为 table_A 插入记录，我必须将外键约束配置为最初延迟。我正在尝试首先创建table_A，然后创建table_B 进入table_A 的pk，然后最后将table_B 的pk 输入table_A。

我正在使用 sqlalchemy 表达式语言（而不是 orm），并且无法将约束设置为延迟。我尝试通过引擎的连接手动设置它，但它不起作用。我确实在 table_A 上设置了声明为 DEFERRABLE INITIALLY DEFERRED 的外键。在交易开始时，我有：

```
connection.execute("begin")
connection.execute("set constraints deferred") 
```

但是，引用 table_B 的 table_A 上的 fk 约束继续被违反。我尝试查看表、连接和事务类，但没有找到任何明确延迟事务约束的内容。我正在使用 Postgresql；任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T17:22:00.903

感谢@a_horse_with_no_name 的建议，但列上仍然存在 NOT NULL 约束，并且“NOT NULL”约束不可延迟。

# android - 如何在android中左右设置两个自定义actionbar按钮？

> ID：14210454
> 
> 赞同：15
> 
> 时间：2013-01-08T07:51:41.360
> 
> 标签：android

我正在使用 Sherlock 库，我也自己实现。我的问题是我在菜单中添加了两个项目，现在我想要操作栏左侧的一项和操作栏右侧的第二项。怎么做？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-01-08T09:15:41.310

您可以创建这样的操作栏，但它比膨胀菜单复杂一点。在方法中创建的菜单`onCreateOptionsMenu()`将始终向右对齐，放置在拆分操作栏中​​或隐藏在菜单键下。

如果您希望您的操作栏只包含两个菜单项 - 一个在左边缘，另一个在右边缘 - 您必须在操作栏中创建自定义视图。

自定义视图布局将是这样的：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent">
    <ImageButton android:src="@drawable/ic_menu_item1"
                 android:background="?attr/actionBarItemBackground"
                 android:layout_width="?attr/actionBarSize"
                 android:layout_height="match_parent"
                 android:scaleType="centerInside"
                 android:id="@+id/item1"
                 android:layout_alignParentLeft="true"
                 android:layout_alignParentTop="true"/>

    <ImageButton android:src="@drawable/ic_menu_item2"
                 android:background="?attr/actionBarItemBackground"
                 android:layout_width="?attr/actionBarSize"
                 android:layout_height="match_parent"
                 android:scaleType="centerInside"
                 android:id="@+id/item2"
                 android:layout_alignParentRight="true"
                 android:layout_alignParentTop="true"/>
</RelativeLayout> 
```

在您要使用自定义视图的主题中定义。主题应包含：

```
<style name="MyTheme" parent="@style/Theme.Sherlock">
    <item name="actionBarStyle">@style/MyActionBarStyle</item>
    <item name="android:actionBarStyle">@style/MyActionBarStyle</item>
</style>

<style name="MyActionBarStyle" parent="@style/Widget.Sherlock.ActionBar">
    <item name="displayOptions">showCustom</item>
    <item name="android:displayOptions">showCustom</item>
</style> 
```

在活动（或片段）中设置自定义视图：

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    ActionBar ab = getSherlock().getActionBar();
    LayoutInflater li = LayoutInflater.from(this);
    View customView = li.inflate(R.layout.my_custom_view, null);
    ab.setCustomView(customView);

    ImageButton ibItem1 = (ImageButton) customView.findViewById(R.id.item1);
    ibItem1.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View view) {
            // ...
        }
    });

    ImageButton ibItem2 = (ImageButton) customView.findViewById(R.id.item2);
    ibItem2.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View view) {
            // ...
        }
    });
} 
```

您必须为菜单项添加点击侦听器。`onOptionsItemSelected()`在这种情况下您不能使用。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-02-19T10:46:12.143

除了[Tomik 的回答](https://stackoverflow.com/a/14211619/1993204)。您需要添加

```
ab.setDisplayShowCustomEnabled(true); 
```

在 onCreate 方法中，否则不会出现自定义视图（至少对我而言）。

# linux - CentOS5.5 Linux没有设置的编码是什么

> ID：14210456
> 
> 赞同：1
> 
> 时间：2013-01-08T07:51:49.093
> 
> 标签：linux, encoding, centos

正如上面的标题所说，我有一个带有 /etc/sysconfig/i18n 的 CentOS5.5：

```
LANG="en_US"
#SYSFONT="latarcyrheb-sun16" 
```

语言环境的输出是：

```
LANG=en_US
LC_CTYPE="en_US"
LC_NUMERIC="en_US"
LC_TIME="en_US"
LC_COLLATE="en_US"
LC_MONETARY="en_US"
LC_MESSAGES="en_US"
LC_PAPER="en_US"
LC_NAME="en_US"
LC_ADDRESS="en_US"
LC_TELEPHONE="en_US"
LC_MEASUREMENT="en_US"
LC_IDENTIFICATION="en_US"
LC_ALL= 
```

我对编码一无所知，如果未设置，默认编码是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:47:01.543

这取决于语言环境。对于 en_US，它是 ISO 8859-1。

# asp.net - 在asp.net中动态绑定listView列

> ID：14210459
> 
> 赞同：0
> 
> 时间：2013-01-08T07:52:02.530
> 
> 标签：asp.net, listview, binding, itemtemplate

我需要创建一个 listView，其中列数将在运行时发生变化。

我的aspx页面代码：

```
<asp:ListView runat="server" ID="ReportListView">
    <LayoutTemplate>
        <table>
            <tr>
                <asp:PlaceHolder runat="server" ID="itemPlaceHolder" />
            </tr>
        </table>
    </LayoutTemplate>
    <ItemTemplate>
        <table>
            <tr>
                <asp:PlaceHolder runat="server" ID="itemPlaceHolder1" />
            </tr>
        </table>
    </ItemTemplate>
</asp:ListView> 
```

在 ItemTemplate 中，我需要从后面的代码中动态绑定列。

我的 .cs 页面代码：

```
SqlCommand cmd = new SqlCommand(query);

    using (SqlConnection con = new SqlConnection(conString))
    {
        using (SqlDataAdapter sda = new SqlDataAdapter())
        {
            cmd.Connection = con;
            sda.SelectCommand = cmd;
            using (DataSet ds = new DataSet())
            {
                sda.Fill(ds);

                ReportListView.DataSource = ds;
                ReportListView.DataBind();
            }
        }
    }

    foreach (ListViewDataItem listItem in ReportListView.Items)
    {
        PlaceHolder plc = (PlaceHolder)listItem.FindControl("itemPlaceHolder1");
        if (plc != null)
        {
                Literal ltrl = new Literal();
                ltrl.Text = "<td>" + listItem.DataItem + "</td>";
                plc.Controls.Add(ltrl);

        }
    } 
```

但它在浏览器上什么也不返回。没有错误也没有输出....

有什么建议么......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-05T07:30:49.123

我在上面写了一篇文章：[http](http://start-coding.blogspot.com/2013/06/dynamic-columns-in-listview.html) ://start-coding.blogspot.com/2013/06/dynamic-columns-in-listview.html 。

在 ItemDataBound 事件上，执行以下操作（您可以用其他控件或 LoadControl 替换）：

```
private void dynamicPopulateRow(HtmlTableRow row, System.Data.DataRowView drv, int iGeneration)
{
    if (row != null)
    {
        // http://www.pcreview.co.uk/forums/do-enumerate-all-columns-dataviewrow-t1244448.html
        foreach (DataColumn dc in drv.Row.Table.Columns)
        {
            string sEmployeeID = drv["LoginID"].ToString();

            if (dc.ColumnName.Equals("LoginID"))
            {
                // http://msdn.microsoft.com/en-US/library/e5daxzcy(v=vs.80).aspx
                // Define a new HtmlTableCell control.
                HtmlTableCell cell = new HtmlTableCell("td");

                // Create the text for the cell.
                cell.Controls.Add(new LiteralControl(Convert.ToString(drv[dc.ColumnName])));
                cell.ColSpan = dc.ColumnName.Equals("LoginID") ? I_COLSPAN - iGeneration : 1;

                // Add the cell to the HtmlTableRow Cells collection. 
                row.Cells.Add(cell);
            }
            else if (!(dc.ColumnName.Equals("GENERATION") ||
                        dc.ColumnName.Equals("hierarchy") ||
                        dc.ColumnName.Equals("rowNo") ||
                        dc.ColumnName.Equals("EmployeeID")))
            {
                // http://msdn.microsoft.com/en-US/library/e5daxzcy(v=vs.80).aspx
                // Define a new HtmlTableCell control.
                HtmlTableCell cell = new HtmlTableCell("td");

                bool bIsNull = drv[dc.ColumnName] is System.DBNull;

                Literal ltrl = new Literal();
                ltrl.Text += "<input type=\"checkbox\" name=\"" + dc.ColumnName + "\"" +
                                (bIsNull ? "" : " value=" + drv[dc.ColumnName].ToString()) +
                                " id=\"" + sEmployeeID + "~" + dc.ColumnName.Replace(" ", "_") + "\"" +//will be retrieved later
                                " onclick=\"didModify(this)\" " +
                                (bIsNull ? " disabled" : "") +
                                (!bIsNull && ((int)drv[dc.ColumnName]) > 0 ? " checked>" : ">");

                cell.Controls.Add(ltrl);
                // Add the cell to the HtmlTableRow Cells collection. 
                row.Cells.Add(cell);
            }
            else
            {
                //other rows
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:19:09.153

如果您只是在构建具有一组动态列的表之后，为什么不使用`GridView`并创建自己的`ColumnsGenerator`？创建一个实现的类，该类`IAutoFieldGenerator`将返回要创建的列集，并将其分配给`GridView.ColumnsGenerator`属性。

如果您真的想采用 a`ListView`和模板的方式，您可以创建一个继承的类`IBindableTemplate`并将其分配给`ListView.ItemTemplate`.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-08T08:34:23.190

```
protected void methodone()
{
  SqlCommand cmd = new SqlCommand(query);
  SqlConnection con = new SqlConnection(conString);
  DataSet ds = new DataSet()
  try
  {

  SqlDataAdapter sda = new SqlDataAdapter(cmd,con);
  sda.Fill(ds);
  ReportListView.DataSource = ds;
  ReportListView.DataBind();
}
catch(SqlException ex)
{
  throw;
}
finally
{
  if(con!=null)
   con.close();
}
}

//and dont foreget to call the methodone at the page load ..wherever .. 
```

# ruby-on-rails - 只是另一个臭名昭著的我们很抱歉，但出了点问题。在heroku

> ID：14210460
> 
> 赞同：0
> 
> 时间：2013-01-08T07:52:05.840
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku

我第一次尝试在heroku上加载我的应用程序。

当我尝试`heroku run rake db:migrate`我的终端显示这些迁移然后停止。

```
Connecting to database specified by DATABASE_URL
Migrating to DeviseCreateUsers (20121128151440)
Migrating to AddUsernameToUsers (20121129162857)
...
Migrating to AddWebsiteToEvents (20130108053401)
Migrating to AddCoverToUsers (20130108055101)
my-imac:pm diolor$ 
```

当我打开应用程序时，我看到了可爱的 We're sorry, but something wrong. 像这里的许多人一样留言。

任何人都知道我可能错过了什么，我看到了这个？顺便说一句，在我的本地应用程序中，我使用 Pow。

## 编辑：我的日志

```
2013-01-08T18:44:45+00:00 heroku[api]: Starting process with command `bundle exec rake db:migrate` by *@gmail.com
2013-01-08T18:44:49+00:00 heroku[run.1243]: Awaiting client
2013-01-08T18:44:49+00:00 heroku[run.1243]: Starting process with command `bundle exec rake db:migrate`
2013-01-08T18:44:49+00:00 heroku[run.1243]: State changed from starting to up
2013-01-08T18:44:55+00:00 heroku[run.1243]: Client connection closed. Sending SIGHUP to all processes
2013-01-08T18:44:56+00:00 heroku[run.1243]: Process exited with status 0
2013-01-08T18:44:56+00:00 heroku[run.1243]: State changed from up to complete 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T09:07:08.893

将您的控制台写入您的应用程序目录

```
heroku logs -t 
```

并转到您的应用程序并运行它。在此处复制并粘贴日志。

# insert - MySQL INSERT 未插入

> ID：14210461
> 
> 赞同：0
> 
> 时间：2013-01-08T07:52:07.830
> 
> 标签：insert, pdo

这是我使用 PDO 进入 MySQL 数据库的代码。

```
$sql="INSERT INTO dictionary (entry, meaning) VALUES (:entry,:meaning)";
$prep=$db->prepare($sql);
$prep->bindParam(':entry',$entry);
$prep->bindParam(':meaning',$meaning);
try{
    $result=$prep->execute(); 
   }
catch(PDOException $e) 
   {
    echo $e->getMessage(); 
   } 
```

但它没有在数据库上插入任何东西。可能是什么问题呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:56:15.357

好吧，问别人你的代码有什么问题是没有用的。您必须改为询问您的服务器。
因此，请确保您的 PDO 在错误时引发异常。为此，请在连接代码之后添加此行

```
$db->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION ); 
```

接下来，`try`在代码中上移

```
try{
    $sql  = "INSERT INTO dictionary (entry, meaning) VALUES (:entry,:meaning)";
    $prep = $db->prepare($sql);
    $prep->bindParam(':entry',$entry);
    $prep->bindParam(':meaning',$meaning);
    $result=$prep->execute(); 
} catch(PDOException $e) {
    echo $e->getMessage();
} 
```

如果出现任何错误，您会收到通知。

# zend-framework2 - Zendframework 2 中的 Restful Controller - 它的参数是如何工作的？

> ID：14210463
> 
> 赞同：2
> 
> 时间：2013-01-08T07:52:08.113
> 
> 标签：zend-framework2

这是我对创建功能的单元测试：

```
 public function testCreate() {
    $this->routeMatch->setMatchedRouteName('restful');
    $this->request->setMethod('POST')
                  ->setContent('name=A');

    $result = $this->controller->dispatch($this->request);
    $response  = $this->controller->getResponse();

    $this->assertEquals(403, $response->getStatusCode());
    $this->assertArrayHasKey('id', $result);
  } 
```

这是我的功能：

```
public function create($data) {
    if (empty($data)) {
      $this->response->setStatusCode(400);
      return;
    }

    for ($i = 0; $i < count(self::$ideas); $i++) {
      if (self::$ideas[$i]['name'] == $data['name']) {
        $this->response->setStatusCode(404);
        return;
      }
    }

    //@todo: secure the API
    self::$index++;
    $tmpArray = array('id'=>self::$index, 'name'=>$data['name']);
    $this->response->setStatusCode(403);
  } 
```

但似乎 $data 总是空白。我在部分编写单元测试时错了吗？当我尝试将 curl POST 与 一起使用时`-d`，$data 具有我通过 发布的价值`curl`。我很困惑这里有什么问题？

感谢阅读并期待您的回答:)

**回答**

我想出了我成功的单元测试[http://pastebin.com/fwFe0Mi3](http://pastebin.com/fwFe0Mi3)

有关更多信息，我使用[此模块](https://github.com/scaraveos/ZF2-Restful-Module-Skeleton)来实现 restful 控制器

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:18:18.993

如果您查看 \Zend\Mvc\Controller\AbstractRestfulController 方法 processPostData，您会注意到在您的控制器中创建的方法被赋予了来自请求对象的 post 参数数组。

如果您查看 \Zend\Http\Request，$postParams 属性由 setPost 方法填充。

现在子类 \Zend\Http\PhpEnvironment\Request （当你请求某些东西时由 ZF2 使用）在实例化（__contruct 方法）上扩展 \Zend\Http\Request（上）调用 setPost 方法（上）给它 $ _POST 数组。

这意味着最终 ZF2 在内部为控制器的 create 方法提供 $_POST 内容，而不是通过解析请求正文。

现在到你的代码。

如果您没有先设置事件框架，我认为调度不会做任何事情。相反，您可以调用控制器执行方法，为其提供 MvcEvent。MvcEvent 需要设置您实例化的请求。其次，如上所述，您需要调用请求的 setPost 并为其提供一个数组，以便 create 方法正常工作。（另一方面，PUT 从请求正文中读取数据）

尝试这样做，如果你仍然遇到问题，我会尽快给你一个例子。

# java - 将 JTable 转换为 PDF 文件

> ID：14210465
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:52:12.317
> 
> 标签：java, swing, pdf

如何使用[PDFjet](http://pdfjet.com/)`JTable`转换成`.pdf`文件格式。我想使用 eclipse 在 Java 中显示健身房管理系统的报告。我想显示徽标、管理员详细信息，然后显示报表。我已经访问了[Example_08](http://pdfjet.com/java/by-example.html)，但我对这个答案不满意。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:10:05.507

您应该查看 Example03 并将其与 Example08 结合使用。

另外 - 具体问题是什么？

您是否从该库中获得了（基本）PDF？在哪里可以将自己的数据添加到 PDF？你能改变布局吗？

# android - 如果 textview 到达我包含的布局 Android 中的视图，它应该滚动

> ID：14210467
> 
> 赞同：3
> 
> 时间：2013-01-08T07:52:18.767
> 
> 标签：android, textview

您好，我有一个与其他视图和包含布局的相对布局。以下是我所拥有的：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@drawable/ihealthfirst"
android:orientation="vertical" >

<LinearLayout
    android:id="@+id/l1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:gravity="center_horizontal" >

    <include layout="@layout/tabsfordiseases" />
</LinearLayout>

<TextView
    android:id="@+id/tvDiseaseDescription"
    style="@style/DescriptionHeader"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentRight="true"
    android:layout_below="@+id/l1"
    android:layout_marginTop="28dp"
    android:drawableLeft="@drawable/note16"
    android:textStyle="bold" />

<ScrollView
        android:id="@+id/scrollView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/lvDisease"
        android:layout_marginLeft="36dp"
        android:layout_toRightOf="@+id/tvDiseaseDescriptionContainer" >

<TextView
    android:id="@+id/tvDiseaseDescriptionContainer"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true" 
    android:layout_below="@+id/tvDiseaseDescription"
    android:layout_gravity="center_horizontal|right"
    android:layout_marginLeft="15dp" />

  </ScrollView>

    <ListView
        android:id="@+id/lvDisease"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/tvDiseaseDescription"
        android:layout_marginBottom="65dp"
        android:layout_marginLeft="15dp"
        android:layout_marginRight="15dp" >

    </ListView>

    <LinearLayout
    android:id="@+id/l2"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:gravity="center_horizontal" >

    <include layout="@layout/zooming_controls" />
</LinearLayout>

</RelativeLayout> 
```

仅供参考，看到这个：![在此处输入图像描述](../Images/bd55253f0307107ba8d2d06ba79eed5b.png)
这就是我的布局发生的事情。文本视图应该在疾病描述下方，当用户单击上面的按钮选项卡时，它应该显示列表视图和其他文本视图。在包含的布局中，您会看到我拥有的缩放控件。当用户放大文本时，滚动条应该是可见的，不允许超出包含的布局。并且文本视图应位于疾病描述下方。我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:00:18.333

只需尝试`android:layout_below="@+id/tvDiseaseDescription"`在您的`Scrollview`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:30:15.710

试试这个..

```
<ScrollView
    android:id="@+id/scrollView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/tvDiseaseDescription"
    android:layout_marginLeft="36dp"
    android:layout_toRightOf="@+id/tvDiseaseDescriptionContainer" >

<TextView
 android:id="@+id/tvDiseaseDescriptionContainer"
 android:layout_width="wrap_content"
 android:layout_height="wrap_content"
 android:layout_alignParentLeft="true" 
 android:layout_below="@+id/tvDiseaseDescription"
 android:layout_gravity="center_horizontal|right"
 android:layout_marginLeft="15dp" /> 
```

=======其他观点=====

# sql - 如果 SQL 中的 ID 相同，如何将一列中的数据相加

> ID：14210468
> 
> 赞同：1
> 
> 时间：2013-01-08T07:52:20.933
> 
> 标签：sql

好的，这是我的问题：

如果 PO_NUMBER 相同，我需要计算一列的添加（称为 SHIPPED_QUANTITY），然后我需要将该计算放在 where 语句中，以便组合数字将显示 SHIPPED_QUANTITY < PO_QUANTITY

例如

```
PO #               PO_QUANTITY           SHIPPED QUANTITY  

123A               500                    200
123A               500                    300
123B               400                    200
124A               500                    500
125A               1000                   500
125A               1000                  500 
```

请注意，即使 PO# 123B 相似，它也不能包含在计算中，在这种情况下使用上面的数据，我希望 123A、124A、125A 不显示（因为 SHIPPED QUANTITY 将 = PO_QUANTITY）但我希望 123B显示...所以我需要在 PO# 相同的地方添加 SHIPPED_QUANTITY，但只有那些唯一的（所以我不能添加 123A、123A、125A、125A，这将等于 1500，我需要添加 123A 和 123A , 和 125A 加到 125A 分别得到 500 和 1000)

希望问题足够具体

哦，一切都必须在 sql 中完成，而不是 mysql 或 oracle sql

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:55:51.690

假设相同的所有行都`PO #`具有相同的`PO_QUANTITY`(*) 值：

```
SELECT
    "PO #",
    MIN(PO_QUANTITY),
    SUM("SHIPPED QUANTITY")
FROM
    UnnamedTable
GROUP BY
    "PO #"
HAVING
    MIN(PO_QUANTITY) > SUM("SHIPPED QUANTITY") 
```

(*) 你应该有一个用于 PO 的表，只有`PO #`和`PO_QUANTITY`和一个单独的表用于`SHIPPPED QUANTITY`，这样你只`PO_QUANTITY`为每个 PO 存储一次。

* * *

要将其组合成更大的查询，我希望将上述查询作为子查询或（如果您的数据库支持它们）包含在公用表表达式中。

对于子查询表单，它看起来像：

```
SELECT
    * //TODO - Select columns
FROM
    (
    SELECT
        "PO #",
        MIN(PO_QUANTITY),
        SUM("SHIPPED QUANTITY")
    FROM
        UnnamedTable
    GROUP BY
        "PO #"
    HAVING
        MIN(PO_QUANTITY) > SUM("SHIPPED QUANTITY")
    ) as t(PO,OrderedQuantity,TotalShipped)
//TODO - Rest of query 
```

因为这避免了必须将其他列包含在`GROUP BY`or 作为`SELECT`子句中的聚合。

# python - Formalchemy Fieldset 中的自定义字段排序

> ID：14210470
> 
> 赞同：2
> 
> 时间：2013-01-08T07:52:30.110
> 
> 标签：python, formalchemy

我们有一个很长的表，其中一行应该使用 FormAlchemy 呈现。要求是“标题”列应首先显示，所有其他字段应按字母顺序排列。在 FormAlchemy 中是否有一种直接的方式来移动和排序字段。我在这里需要一个通用的解决方案....触摸 FieldSet._render_fields OrderedDict 合适吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-05T13:42:01.800

将包含参数传递给字段集的配置函数将允许您设置顺序。您是否希望以编程方式设置它？如果没有，你可以做

```
fieldset.configure(include=[fieldset.title, fieldset.a_field, fieldset.b_field, fieldset.c_field]) 
```

# java - Eclipse 中的节俭错误

> ID：14210473
> 
> 赞同：1
> 
> 时间：2013-01-08T07:52:38.260
> 
> 标签：java, eclipse, maven, thrift

我试图让 Thrift 在 Eclipse 中工作并遇到一些问题。该项目是一个标准的maven项目。

我使用thrift编译器将thrift文件编译成Java代码，成功了。生成的代码放在src/main/generated-sources//下

（这是可以接受的做法吗？）

在 Eclipse 中，我从构建菜单中添加了 src 文件夹，但随后我得到：

```
Cannot reduce the visibility of the inherited method from ProcessFuction<I,... 
```

我没有使用 maven thrift 插件，因为源代码已经生成并且在源代码树中（同样，这是可取的吗？）。

我应该如何配置此设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:18:43.930

似乎 Thrift 编译器并没有想象的那么好。

*不能降低继承方法的可见性*

表明从抽象类或接口继承的方法最初具有更高的可见性，例如“公共”，而您的代码中有“私有”。

我会尝试将其设置为“公开”，看看会发生什么。代码可能编译得很好，因为我预计由于编译/转换代码而导致方法上缺少可见性设置而产生不匹配，因为人们可以在不指定可见性的情况下编写方法头：

```
void doany(){
   // nothing
} 
```

该方法在这种情况下使用类可见性（主要是“公共”） - 编译器会误解。

# objective-c - 分组的 UITableView 在底部有 20px 的额外填充

> ID：14210474
> 
> 赞同：60
> 
> 时间：2013-01-08T07:52:40.060
> 
> 标签：objective-c, ios, uitableview

在 iOS 6 中，分组表视图的底部似乎有额外的填充（iOS 5 没有），但我找不到任何表明这是正确/预期行为的文档。

这也会影响示例项目，例如示例中的`SimpleTableView`项目`TableViewSuite`。我想我必须将样式更改`AppDelegate`为“分组”，并将 SDK 更新到 iOS 6，但没有对项目进行其他更改。

调查显示，`10px`保留了页眉和页脚视图，还有一些`20px`无法解释。没有实际的页眉或页脚视图（`tableHeaderView`和`tableFooterView`are `nil`，并且实施和返回`nil`例如`viewForFooterInSection`什么都不做）。我在 tableView 本身上找不到任何“20”值，尽管我当然可能错过了一些东西。

为页脚添加一个零大小的视图没有任何作用，但添加一个`1px`方形视图会导致额外的填充消失。例如：

```
tableView.tableFooterView = [[UIView alloc] initWithFrame:CGRectMake(0,0,1,1)]; 
```

它仍然占用`1px`高度，所以底部填充现在是`11px`，但这远不如 20 明显。现在将 设置`sectionFooterHeight`为 0 将只`1px`导致底部空间。

我的问题是：什么？我怎样才能完全删除它？这不是任何关键任务，但它非常奇怪，不可取，而且据我所知，它是无证的。

请注意 - 它从苹果开发论坛复制过去的问题。但我有完全相同的问题，我也不明白如何解决它。

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2015-07-16T05:11:53.480

@frankWhite 的解决方案效果很好，但这里有一个更好的解决方案，可以避免输入 0.1、0.001 或其他内容以减少歧义。

```
// Swift version
func tableView(tableView: UITableView, heightForFooterInSection section: Int) -> CGFloat {

    // remove bottom extra 20px space.
    return CGFloat.min
} 
```

```
// Objective-C version
- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section {

    // remove bottom extra 20px space.
    return CGFLOAT_MIN;
} 
```

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2013-07-05T16:21:59.910

您可以使用`contentInset`来补偿 20px 额外的底部边距：

```
tableView.contentInset = UIEdgeInsetsMake(0, 0, -20, 0); 
```

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2016-09-27T21:15:38.337

在斯威夫特 3

```
override func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -> CGFloat {
    return CGFloat.leastNormalMagnitude
} 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2015-04-08T15:39:24.140

```
-(CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section {
   return 0.01;
} 
```

这对我有用

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2016-02-09T06:31:25.863

这是我猜想的唯一可行的解​​决方案。我尝试设置`tableFooterView`和. 但是什么也没发生。然后以下解决方案起作用了。返回零**“返回0；”** 没有效果。我们应该返回尽可能低的高度。`tableHeaderView``nil`

 **```
 - (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section {
        return CGFLOAT_MIN;
    }

 - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section {
        return CGFLOAT_MIN;
    } 
```

**注意：** 这是我打印值时得到的。

> CGFLOAT_MAX = 340282346638528859811704183484516925440.000000
> 
> CGFLOAT_MIN = 0.000000

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2019-03-05T03:00:47.780

最近，我发现了这个问题，并按照上面发布的解决方案，但它们都不起作用。就我而言，我有一个具有动态高度的节标题。受上述解决方案的启发，我输入了以下代码，问题就解决了。我希望这会有所帮助。

```
func tableView(_ tableView: UITableView, viewForFooterInSection section: Int) -> UIView? {
    return UIView()
}

func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -> CGFloat {
    return 0.1
} 
```

并像这样配置 tableView 的页眉和页脚：

```
tableView.tableHeaderView = UIView(frame: CGRect(x: 0, y: 0, width: 1, height: 0.1))
tableView.tableFooterView = UIView(frame: CGRect(x: 0, y: 0, width: 1, height: 0.1)) 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-12-18T06:02:43.577

在 Swift 4.2 中，您可以尝试设置具有最小正常幅度高度的表头 -

```
var frame = CGRect.zero
frame.size.height = .leastNormalMagnitude
tableView.tableHeaderView = UIView(frame: frame) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-21T06:13:49.710

以下代码对我有用

```
- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section {
    return 0;
}

- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section {
    return 0;
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-01-30T18:17:52.597

**斯威夫特 3 代码**

```
class PaddingLessTableView : UITableView
{
    override func layoutSubviews() {
        self.contentInset = UIEdgeInsets(top: 0, left: 0, bottom: 0, right: 0)
        super.layoutSubviews()
    }
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-02-05T02:07:57.710

这解决了这个问题：

**对象-c**

```
- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section {
        return 0.1;
    } 
```

**迅速：**

```
override func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -> CGFloat {
    return 0.1
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-10-17T05:33:05.307

**斯威夫特 5**

```
 tableView.tableHeaderView = UIView(frame: CGRect(x: 0, y: 0, width: view.frame.width, height: .leastNormalMagnitude)) 
```

* * *

## 回答 #12

> 赞同：-2
> 
> 时间：2013-03-15T03:16:09.400

使用 的`bounces`属性`UIScrollView`：

```
[yourTableView setBounces:NO]; 
```

这将删除您的`UITableView`. 实际上，它只会禁用 tableview 的滚动视图以滚动到内容的边缘。**

# c# - 仅打开 4 个特定形式的实例

> ID：14210476
> 
> 赞同：3
> 
> 时间：2013-01-08T07:52:51.587
> 
> 标签：c#, winforms

好的......我已经在互联网上搜索过，但也许我输入错误或者我不知道。无论如何，我拥有的是两个 Windows 窗体（我正在用 C# 编码）。表格 1 和表格 2。在 Form1 中，我有一个按钮。单击此按钮时，将打开 Form2。我在用着：

```
Form2 frm2 = new Form2();
frm2.Show(); 
```

我想使用 frm2.Show 因为我确实想打开这个表单的多个实例。

现在的事情是我只想打开这个表单的 4 个实例。

如果我单击 Form1 的按钮，它应该会打开它。假设我点击了 3 次，那么 Form2 应该打开 3 次。当我关闭其中的 2 个时，我现在只剩下 1 个了。然后再点3次，第4次应该打不开Form2。

有没有办法知道有多少表单实例？因为一个

```
if statement 
```

不会做这项工作。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T07:58:45.680

You can use [Application.OpenForm](http://msdn.microsoft.com/en-us/library/system.windows.forms.application.openforms.aspx) property to check the count of opened forms. Something like.

```
int formCount = Application.OpenForms.Cast<Form>().Count(r => r.Name == "Form2");
if (formCount > 4)
    Console.WriteLine("Already 4 instances of the forms are open"); 
```

# php - 分组数组结果按字母顺序 PHP

> ID：14210480
> 
> 赞同：5
> 
> 时间：2013-01-08T07:53:08.827
> 
> 标签：php, foreach, group-by

我正在使用下面的代码来显示网站表单数据库的图像和名称。

```
<fieldset>  
    <h1>A</h1>          
    <ul>
        <?php foreach ($records as $key) { ?>
        <li class="siteli"> <a href="#" class="add">        
            <div id="site-icon"><img src="<?php echo $key->site_img; ?>" width="16" height=""></div>
            <p id="text-site"> <?php echo $key->site_name; ?></p>
        </li>
        <?php } ?>
    </ul>
</fieldset> 
```

现在我试图通过添加 A、B、C 等作为标题按字母顺序对结果进行分组。

例子，

```
A    
Amazon     
Aol    
Aol Mail

B    
Bing     
Bogger 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-08T07:59:27.783

您可以使用[数组排序](http://php.net/manual/en/array.sorting.php)对数组进行排序。在你的情况下，我会选择[sort()](http://php.net/manual/en/function.sort.php)

现在要显示带有前面字母的链接，我将使用：

```
<?php
$records = ['Aaaaa', 'Aaaa2', 'bbb', 'bbb2', 'Dddd'];
$lastChar = '';
sort($records, SORT_STRING | SORT_FLAG_CASE); //the flags are needed. Without the `Ddd` will come before `bbb`.
//Available from version 5.4\. If you have an earlier version (4+) you can try natcasesort()

foreach($records as $val) {
  $char = $val[0]; //first char

  if ($char !== $lastChar) {
    if ($lastChar !== '')
      echo '<br>';

    echo strtoupper($char).'<br>'; //print A / B / C etc
    $lastChar = $char;
  }

 echo $val.'<br>';
}
?> 
```

这将输出类似

```
A
Aaaa2
Aaaaa

B
bbb
bbb2

D
Dddd 
```

请注意，缺少 C，因为没有以 C 开头的单词。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-09-16T19:02:38.953

这是对@Hugo Delsing 答案的修改。

我需要能够像这样将我的品牌组合在一起，但代码中的一个错误是，如果我说 iForce Nutrition 和 Inner Armor，由于字母大小写，它会将它们分成两个不同的组。

**我所做的更改**
因为它是完全按字母顺序排列的，所以它只按第一个字母我将 SORT_STRING 更改为 SORT_NATURAL

更改： if ($char !== $lastChar) 为 if (strtolower($char) !== strtolower($lastChar))

```
<?php
$records = ['FinaFlex', 'iForce Nutrition', 'Inner Armour', 'Dymatize', 'Ultimate    Nutrition'];
$lastChar = '';
sort($records, SORT_NATURAL | SORT_FLAG_CASE); //Allows for a full comparison and will alphabetize correctly.

foreach($records as $val) {
 $char = $val[0]; //first char

  if (strtolower($char) !== strtolower($lastChar)) {
    if ($lastChar !== '')
     echo '<br>';

     echo strtoupper($char).'<br>'; //print A / B / C etc
     $lastChar = $char;
    }

    echo $val.'<br>';
  }
?> 
```

最终的输出将是这样的

```
D
Dymatize

F
FinaFlex

I
iForce Nutrition
Inner Armour

U
Ultimate Nutrition 
```

我希望这对每个人都有帮助，非常感谢 Hugo 提供的代码让我准确地到达了我需要的地方。

你可以在这里看到我的例子[https://hyperionsupps.com/brand-index](https://hyperionsupps.com/brand-index)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-05T12:29:20.100

```
$records = ['FinaFlex', 'iForce Nutrition', 'Inner Armour', 'Dymatize', 'Ultimate    Nutrition'];

    $temp=array();    
    $first_char="";
    for($i=0;$i<count($records);$i++)
    {
        $first_char= strtoupper ($records[$i][0]);             
             if(!in_array($first_char, $temp))
             {
                 echo strtoupper($first_char).'<br>'; //print A / B / C etc                      

             }
             $temp[]=  $first_char;
            echo $records[$i]."<br>";
    } 
```

# iphone - 如何在 applicationWillResignActive 中隐藏 UipickerViewController？

> ID：14210484
> 
> 赞同：1
> 
> 时间：2013-01-08T07:53:22.320
> 
> 标签：iphone, objective-c, ios, xcode

我的应用程序我想隐藏`UIPickerview controller`应用程序何时进入暂停状态？

例如：在我`viewcontroller`正在使用`uipickerview`的，并且被放置在一个`popovercontroller`，但我没有关闭`popovercontroller`并且应用程序进入暂停状态。当用户打开应用程序时，`uipikcer view`会显示我想要关闭的应用程序。

这个你能帮我吗。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:04:44.620

用于`NSNotificationCenter`隐藏`UIPickerView`当应用程序进入后台时，如下所示...

```
[[NSNotificationCenter defaultCenter] addObserver:alertView selector:@selector(HidePickerView) name:@"UIApplicationWillResignActiveNotification" object:nil]; 
```

并隐藏`UIPickerView`下面的方法..

```
- (void) HidePickerView {
      [yourPickerView setHidden:YES];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:04:16.937

您需要订阅`UIApplicationWillResignActiveNotification`通知，当它被触发并调用您的选择器时，您应该`[self.myPickerView dismissViewControllerAnimated:NO completion:nil];`.
注意：`-viewWillDisappear:`当应用程序退出活动时，不会调用方法。

# ftp - 如何通过 FTPClient 更改远程文件权限

> ID：14210485
> 
> 赞同：1
> 
> 时间：2013-01-08T07:53:26.730
> 
> 标签：ftp, file-permissions, chmod, apache-commons-net

我需要通过**commons-net-1.4.1.jar**类**org.apache.commons.net.ftp.FTPClient**处理 ftp 服务器上的远程文件。似乎没有 api 可用于更改文件的权限，就像 unix shell命令 chmod。

有人知道解决此问题的任何解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T12:17:54.483

FTP 没有用于此类操作的命令，因为该操作是特定于平台的。如果您的库支持这一点，您可以尝试使用 SITE 命令并将命令行作为 SITE 命令的参数传递。一些服务器支持这个技巧来运行 shell 命令。

# oracle - Oracle 9i 子查询

> ID：14210487
> 
> 赞同：0
> 
> 时间：2013-01-08T07:53:40.293
> 
> 标签：oracle

嗨，谁能帮我摆脱这个查询形成逻辑

```
SELECT C.CPPID, c.CPP_AMT_MANUAL  
FROM CPP_PRCNT CC,CPP_VIEW c 
WHERE 
  CC.CPPYR IN (
    SELECT C.YEAR FROM CPP_VIEW_VIEW C WHERE  UPPER(C.CPPNO) = UPPER('123')
    AND C.CPP_CODE       ='CPP000000000053'
    and TO_CHAR(c.CPP_DATE,'YYYY/Mon')='2012/Nov'
    )
  AND UPPER(C.CPPNO) = UPPER('123')
  AND C.CPP_CODE       ='CPP000000000053'
  and TO_CHAR(c.CPP_DATE,'YYYY/Mon') =  '2012/Nov'; 
```

如果我在查询性能和标准方面形成了错误的查询结构，请纠正我。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:08:33.997

如果您有一些索引或分区表，我不会在列上使用函数，而是在变量上使用函数，以便能够使用索引/选择分区。

我也使用 ANSI 92 SQL 语法。您没有指定（或不直接） cpp_prcnt 和 cpp_view 之间的连接条件，因此它实际上是笛卡尔积（交叉连接）

```
SELECT C.CPPID, c.CPP_AMT_MANUAL  
FROM CPP_PRCNT CC
CROSS JOIN CPP_VIEW c 
WHERE 
  CC.CPPYR IN (
    SELECT C.YEAR 
    FROM CPP_VIEW_VIEW C 
    WHERE  C.CPPNO = '123'
      AND C.CPP_CODE       ='CPP000000000053'
      AND trunc(c.CPP_DATE,'MM')=to_date('2012/Nov','YYYY/Mon')
    )
    AND  C.CPPNO = '123'
    AND C.CPP_CODE       ='CPP000000000053'
    AND trunc(c.CPP_DATE,'MM')=to_date('2012/Nov','YYYY/Mon') 
```

如果您向我们展示 cpp_view_view 的定义（似乎是 cpp_view 的视图）、CPP_VIEW 的定义（如果简单的话）以及您想要实现的目标，我敢打赌还有更多需要改进/修复的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:11:11.693

您可以改进以下几点：

*   如果可能，在比较中去掉 UPPER() - 这将使任何索引都无用。如果这不可能，请考虑在 UPPER(CPPNO) 上使用基于函数的索引
*   不要将您的 DATE 列转换为字符串以将其与字符串进行比较 - 反过来做（即将您的字符串转换为日期 => 只需要一次转换，而不是每个表行一次，可以使用索引）
*   正如 Dileep 所建议的那样，使用 EXISTS 而不是 IN - 可能会更快

# javascript - 在 Firefox 插件中打开一个文件夹：为什么不工作？

> ID：14210492
> 
> 赞同：0
> 
> 时间：2013-01-08T07:54:05.047
> 
> 标签：javascript, firefox, firefox-addon, add-on

这曾经在我的插件中打开一个目录（../extension/value@my.name/sample_profile，但现在它没有......我确定FF中发生了一些变化，但不确定这里有什么问题。

```
 function open_blankProfile()
    {

      var MY_ID = "value@my.name";

      var stream = Components.classes["@mozilla.org/network/file-input-stream;1"]
                         .createInstance(Components.interfaces.nsIFileInputStream);
      var directoryService = Components.classes["@mozilla.org/file/directory_service;1"]
                         .getService(Components.interfaces.nsIProperties);

      var em = Components.classes["@mozilla.org/extensions/manager;1"].
             getService(Components.interfaces.nsIExtensionManager);

      var profile_directory = em.getInstallLocation(MY_ID).getItemFile(MY_ID, "sample_profile");

      var localFile = Components.classes["@mozilla.org/file/local;1"]
                              .createInstance(Components.interfaces.nsILocalFile);
      localFile.initWithPath(profile_directory.path);

        try {
          localFile.reveal();
        } catch(ex) {
          var uri = Components.classes["@mozilla.org/network/io-service;1"]
                              .getService(Components.interfaces.nsIIOService)
                              .newFileURI(localFile);

          var protSvc = Components.classes["@mozilla.org/uriloader/external-protocol-service;1"]
                                  .getService(Components.interfaces.nsIExternalProtocolService);
          protSvc.loadUrl(uri);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T10:24:56.290

它不起作用，因为从 Firefox 4 开始，[扩展不会自动解包](http://mdn.beonex.com/en/XPCOM_Interface_Reference/nsIInstallLocation.html)

# regex - 仅在外部嵌套代码块的开头和结尾插入代码

> ID：14210497
> 
> 赞同：-1
> 
> 时间：2013-01-08T07:54:21.380
> 
> 标签：regex, linux, sed, awk

我有一些代码，例如：

```
void main() {
//----------
  var a;
  var b;
  var c =[];
  var c = func(3);
  if (a == b) {
    print "nested";
  }    
//----------------
} 
```

我想选择括号之间的内部部分，这是我尝试过的：

`sed -re ':l;N;$!tl;N;s!(void \w+\(\) \{)([^])*!\1 Prepend;\n\2\nappend!g' test.txt`

**编辑：**

我试图在第一次出现之后`{`和最后一次出现之前插入代码`}`。

例子：

```
void main() { 
test1
//-----------------
  var a;
  var b;
  var c =[];
  var c = func(3);
  if (a == b) {
    print "nested";
  }
test2
//-----------------
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:11:43.867

我认为`awk`对于您*实际*想要做的事情是一个更好的解决方案：

```
$ awk '/{/{i++;if(i==1){print $0,"\ntest1";next}}{print}/}/{i--;if(i==1)print "test2"}' file
void main() { 
test1
//-----------------
  var a;
  var b;
  var c =[];
  var c = func(3);
  if (a == b) {
    print "nested";
  }
test2
//-----------------
} 
```

解释：

这是带有一些解释性注释的多行形式的脚本，如果您更喜欢这种形式的脚本，请将其保存到文件`nestedcode`中，然后像这样运行它`awk -f nestedcode code.c`：

```
BEGIN{
    #Track the nesting level 
    nestlevel=0
}
/{/ {
    #The line contained a { so increase nestlevel
    nestlevel++
    #Only add code if the nestlevel is 1
    if(nestlevel==1){
        #Print the matching line and new code on the following line
        print $0,"\ntest1"
        #Skip to next line so the next block 
        #doesn't print current line twice
        next
    }
}
{
    #Print all lines
    print
}
/}/ {
    # The line contained a } so decrease the nestlevel
    nestlevel--
    #Only print the code if the nestleve is 1
    if(nestlevel==1)
        print"test2"
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T13:06:28.847

这可能对您有用（GNU sed）：

```
sed '/^void.*{$/!b;:a;/\n}$/bb;$!{N;ba};:b;s/\n/&test1&/;s/\(.*\n\)\(.*\n\)/\1test2\n\2/' file 
```

*   `/^void.*{$/!b`如果该行不是`void`以 bail out 开头和结尾`{`（这可能需要根据您自己的需要进行定制）。
*   `:a;/\n}$/bb;$!{N;ba}`如果该行包含一个换行符，后跟一个`}`only，则分支到 label`b`否则读取下一行并循环回 label `a`。
*   `:b`在这里开始替换。
*   `s/\n/&test1&/`在第一个换行符之后插入第一个字符串。
*   `s/\(.*\n\)\(.*\n\)/\1test2\n\2/`在最后一个换行符的第二个之后插入第二个字符串。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-08T07:59:56.960

Try this regex:

```
{[^]*} // [^] = any character, including newlines. 
```

JavaScript example of the Regex working:

```
var s = "void main() {\n//----------\nvar a;\nvar b;\nvar c =[];\nvar c = func(3);\n//----------------\n}"
console.log(s.match(/{[^]*}/g));
//"{↵//----------↵var a;↵var b;↵var c =[];↵var c = func(3);↵//----------------↵}" 
```

(I know this ain't JS question, but it works to illustrate that the regex returns the desired result.)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-08T08:00:20.470

`sed`，默认情况下，在单行上运行。它可以通过使用`N`命令将多行读入模式空间来对多行进行操作。

例如，以下 sed 表达式将连接文件中的连续行，`@`它们之间带有符号：

```
sed -e '{
N
s/\n/ @ /
}' 
```

（示例来自[http://www.thegeekstuff.com/2009/11/unix-sed-tutorial-multi-line-file-operation-with-6-practical-examples/](http://www.thegeekstuff.com/2009/11/unix-sed-tutorial-multi-line-file-operation-with-6-practical-examples/)）

# documentation - 有这样的文件管理系统吗？

> ID：14210498
> 
> 赞同：0
> 
> 时间：2013-01-08T07:54:25.407
> 
> 标签：documentation, admin, system-administration, dms

1.服务器-客户端架构。所有用户从一台本地服务器（Linux 服务器，而不是 Windows）同步（提交或签出）文档。

2.带有windows和linux客户端。客户端将从服务器同步的所有文档保存在本地。因此，当用户去到无法连接到服务器的地方时，他们仍然可以查看和编辑自己的文档副本。

1.  用户提交他们的更改，dms 解决诸如“git”或“svn”之类的冲突。但不需要庞大而复杂的版本控制系统。

2.  客户端应具有全文搜索功能。

最后，我想知道那些系统管理员使用什么文档管理系统。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T02:35:17.307

最后，我决定使用邮件列表来存储文档。(1) 我们团队的所有成员都可以从服务器同步文档。(2) 我们可以将文档保持在系列中，因此易于维护 (3) 我们可以通过这些平台找到所有客户端，如 linux、windows、mac os x 等

# javascript - 在不使用变量名的情况下更新 Javascript 函数中的全局变量

> ID：14210502
> 
> 赞同：2
> 
> 时间：2013-01-08T07:54:34.063
> 
> 标签：javascript, html

我正在制作一个我在高中玩的旧游戏的复制品，叫做药物战争。我有全局变量来保存每种药物的数量。最初我只是为每种药物的每次买卖操作使用不同的功能。试图为自己节省一些代码并提供一些扩展能力，我想将其更改为一个用于购买的函数，传递药物数量、药物价格（由不同的函数完成）和药物名称。

我坚持的部分是尝试将 drugqty（在函数中本地使用）更新为全局变量。

```
function buy(drugqty, drugprice, drugname)
{
if (money < drugprice)
{
    window.alert("You do not have enough money to do that!")
}
else if(money >= drugprice)
{
var maxdrug = money/drugprice;
var addtoqty;
addtoqty=prompt("How many would you like to purchase? They are $" + drugprice +" a unit. You can afford " + Math.floor(maxdrug) + "." );
if((addtoqty*drugprice)>money)
{
    window.alert("Nice try you need more money to do that!")    
}
else {

drugqty = parseInt(drugqty, 10) + parseInt(addtoqty, 10);
money =  money - (drugprice*addtoqty);
document.getElementById(drugname+"qty").innerHTML=drugqty;
document.getElementById("money").innerHTML=money;

}
}

} 
```

下面是我购买一种特定药物的按钮。

```
<td><center><button onclick="buy(cocaineqty, cocaine, 'cocaine')">Buy</center></button></center></td> 
```

按下按钮时，它会调用该函数并正确执行。

我只需要弄清楚如何使用局部函数 drugqty 创建的内容来更新全局变量 cocaineqty。

我尝试过类似的事情

```
drugname+"qty"=drugqty; 
```

我的两个想法是从显示信息的位置再次解析该信息，或者以某种方式更新函数中的全局变量（将来再次将其用于一种以上的药物，以便可以动态完成）

```
<td id="cocaineqty" align="center">0</td> 
```

我在这里的第一篇文章，但我非常愿意对文章进行更改或纠正任何错误。谢谢你的时间！

编辑：根据检查的答案更新了我的代码以获得正确的信息

```
function buy(drugqty, drugprice, drugname)
{
if (money < drugprice)
{
    window.alert("You do not have enough money to do that!")
}
else if(money >= drugprice)
{
var maxdrug = money/drugprice;
var addtoqty;
addtoqty=prompt("How many would you like to purchase? They are $" + drugprice +" a unit. You can afford " + Math.floor(maxdrug) + "." );
if((addtoqty*drugprice)>money)
{
    window.alert("Nice try you need more money to do that!")    
}
else {

drugqty = parseInt(drugqty, 10) + parseInt(addtoqty, 10);
money =  money - (drugprice*addtoqty);
document.getElementById(drugname+"qty").innerHTML=drugqty;
document.getElementById("money").innerHTML=money;
window[drugname+"qty"]=drugqty;

}
} 
```

再次感谢您的所有帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:12:14.670

首先，他们实现这个即时通讯的方式并不令人敬畏。有很多可以做得更好，但我不会尝试在这里改变你的实现...... :)

要执行您想做的事情，即在不知道其实际名称的情况下访问全局变量，可以这样做。

```
window[drugname + "qty"] = drugqty; 
```

这有效，因为

1.  浏览器中的“全局”变量实际上是在窗口对象上

2.  JavaScript 中的对象是关联数组。简单来说，这意味着您可以通过它的名称访问它的属性，就像在键值对中一样

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:58:48.787

您可以为此使用该[`eval()`](http://www.w3schools.com/jsref/jsref_eval.asp)功能：

```
eval(drugname+"qty"=drugqty); 
```

*注意*：学习面向对象编程会更好。所以你可以制作一个`Drug` [类](https://stackoverflow.com/questions/387707/whats-the-best-way-to-define-a-class-in-javascript)和这个类的类实例（对象）来存储特定的药物信息。轻松绕过这些课程并跟踪信息！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:59:57.783

您可以将所有数量保存在一个对象中，并为每种药物添加一个属性。

```
var quantities = {};
quantities[drugname + "qty"] = drugqty; 
```

但是，如果您还想显示结果，省略“数量”部分可能更容易：

```
var quantities = {};
quantities[drugname] = drugqty; 
```

并显示结果：

```
var html = "<table>";
for (var quantityName in quantities) {
  if (quantities.hasOwnProperty(quantityName)) {
    html += "<tr><td>" + quantityName + "</td>";
    html += "<td id='" + quantityName + "qty' align='center'>" + quantities[quantityName] + "</td></tr>";
  }
}
html += "</table>"; 
```

# javascript - 无法在javascript中加载xml文件

> ID：14210507
> 
> 赞同：1
> 
> 时间：2013-01-08T07:54:48.573
> 
> 标签：javascript, html, xml

我正在尝试加载本地系统上的 xml 文件。但我总是得到 Network_err。我执行以下操作。

```
function LoadXmlDoc(dName)
{
    var xhttp;
    if(window.XMLHttpRequest)
    {
        xhttp = new XMLHttpRequest();
    }
    else
    {
        xhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    try
    {       
        xhttp.open("GET", "file.xml", false);
        xhttp.send();
    }
    catch(e)
    {       
        window.alert("Unable to load the requested file.");
        return;
    }
    return xhttp.responseXML;
} 
```

如何加载系统上的 xml 文件。所有文件都在我电脑上的同一个文件夹中。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:00:25.737

尝试：

```
function XMLDoc()
{
if (window.XMLHttpRequest)
  {
    xmlhttp=new XMLHttpRequest();
  }
else
  {
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
    {
      if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
            alert(xmlhttp.responseText);
        }
    };
xmlhttp.open("GET","yourfile",true);
xmlhttp.send();
} 
```

**由于简化而**更新****

 **调用`XMLDoc()`并传递您的文件 uri 而不是`yourfile`

**注意**：不要忘记在服务器上运行此脚本

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:03:34.033

您可能需要像这样提供正确的 xml 文件路径

```
xhttp.open("GET", "file:///C:/file.xml", false);
        xhttp.send(); 
```

会为你工作

完整的代码就像，阅读更多：[使用 Javascript 加载 XML](http://www.steveborn.com/codenotes/LoadingXML.htm)

```
 var xmlDoc;
    var xmlloaded = false;

    function initLibrary()
    {
        importXML("file:///C:/file.xml");
    }

    function importXML(xmlfile)
    {
        try
        {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", xmlfile, false);
        }
        catch (Exception)
        {
            var ie = (typeof window.ActiveXObject != 'undefined');

            if (ie)
            {
                xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
                xmlDoc.async = false;
                while(xmlDoc.readyState != 4) {};
                xmlDoc.load(xmlfile);
                readXML();
                xmlloaded = true;
            }
            else
            {
                xmlDoc = document.implementation.createDocument("", "", null);
                xmlDoc.onload = readXML;
                xmlDoc.load(xmlfile);
                xmlloaded = true;
            }
        }

        if (!xmlloaded)
        {
            xmlhttp.setRequestHeader('Content-Type', 'text/xml')
            xmlhttp.send("");
            xmlDoc = xmlhttp.responseXML;
            readXML();
            xmlloaded = true;
        }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T08:08:44.007

`XHR`由于安全原因，您不能使用。

检查[这篇文章](https://stackoverflow.com/questions/7683596/xmlhttprequest-for-local-files)对您来说是非常完整的答案。

然后检查本地文件的 HTML5 API：http: [//www.html5rocks.com/en/tutorials/file/filesystem/](http://www.html5rocks.com/en/tutorials/file/filesystem/)**

# android - 当有很多子视图时，如何使相对布局可滚动？

> ID：14210508
> 
> 赞同：22
> 
> 时间：2013-01-08T07:54:53.207
> 
> 标签：android, android-layout, android-xml, android-scrollview

**我的 xml 如下所示**

```
 <?xml version="1.0" encoding="utf-8"?>
    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/form_layout"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@color/black"
    android:orientation="vertical"
    android:overScrollMode="ifContentScrolls"
    android:scrollbarStyle="insideOverlay"
    android:scrollbars="vertical"  >

    <Spinner
        android:id="@+id/formulae"
        android:layout_width="200dp"
        android:layout_height="60dp"
        android:layout_marginLeft="50dp"
        android:layout_marginRight="50dp"
        android:background="@color/LightSkyBlue"
        android:dropDownWidth="wrap_content"
        android:entries="@array/formulas"
        android:gravity="center"
        android:paddingLeft="0dp"
        android:textAlignment="center" /> 

    <EditText
        android:id="@+id/k2_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/al"
        android:layout_alignRight="@+id/al_editText"
        android:layout_alignTop="@+id/k2"
        android:layout_marginLeft="120dp"
        android:ems="10"
        android:enabled="true"
        android:inputType="numberDecimal"
        android:onClick="@drawable/textfield_activated_holo_light"
        android:textColor="@color/White"
        android:textSize="15sp"
        android:visibility="visible"
        android:width="100dp" />

    <TextView
        android:id="@+id/k1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/dr"
        android:layout_marginLeft="24dp"
        android:layout_marginTop="28dp"
        android:text="@string/K1"
        android:textColor="@color/white"
        android:textSize="25sp" />

    <EditText
        android:id="@+id/k1_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/k2"
        android:layout_alignLeft="@+id/k2_editText"
        android:layout_alignRight="@+id/k2_editText"
        android:layout_alignTop="@+id/k1"
        android:background="@drawable/edit_text_holo_light"
        android:ems="10"
        android:enabled="true"
        android:inputType="numberDecimal"
        android:onClick="@drawable/textfield_activated_holo_light"
        android:textColor="@color/White"
        android:textSize="15sp"
        android:visibility="visible"
        android:width="100dp" />

     <TextView
        android:id="@+id/dr"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/formulae"
        android:layout_below="@+id/formulae"
        android:layout_marginTop="14dp"
        android:layout_toLeftOf="@+id/k1_editText"
        android:ems="10"
        android:gravity="center"
        android:text="@string/dr"
        android:textColor="@color/White"
        android:textSize="25sp" />

    <TextView
        android:id="@+id/k2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignRight="@+id/k1"
        android:layout_below="@+id/k1"
        android:layout_marginTop="38dp"
        android:text="@string/K2"
        android:textColor="@color/White"
        android:textSize="25sp" />

    <TextView
        android:id="@+id/al"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignRight="@+id/k2"
        android:layout_below="@+id/k2"
        android:layout_marginTop="38dp"
        android:text="@string/AL"
        android:textColor="@color/White"
        android:textSize="25sp" />

    <EditText
        android:id="@+id/al_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignRight="@+id/formulae"
        android:layout_alignTop="@+id/al"
        android:layout_marginLeft="120dp"
        android:ems="10"
        android:enabled="true"
        android:inputType="numberDecimal"
        android:onClick="@drawable/textfield_activated_holo_light"
        android:textColor="@color/White"
        android:textSize="15sp"
        android:visibility="visible"
        android:width="100dp" />

    <EditText
        android:id="@+id/al_const_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/al_const"
        android:layout_alignRight="@+id/al_editText"
        android:layout_marginLeft="120dp"
        android:ems="10"
        android:enabled="true"
        android:inputType="numberDecimal"
        android:onClick="@drawable/textfield_activated_holo_light"
        android:textColor="@color/White"
        android:textSize="15sp"
        android:visibility="visible"
        android:width="100dp" />

    <EditText
        android:id="@+id/dr_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/k1_editText"
        android:layout_alignRight="@+id/formulae"
        android:layout_alignTop="@+id/dr"
        android:ems="10"
        android:inputType="numberDecimal|numberSigned"
        android:textColor="@color/White"
        android:textSize="15sp" >

        <requestFocus />
    </EditText>

    <TextView
        android:id="@+id/al_const"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/al"
        android:layout_below="@+id/al_editText"
        android:layout_marginTop="43dp"
        android:text="@string/Rx"
        android:textColor="@color/White"
        android:textSize="20sp" />

    <Button
        android:id="@+id/result"
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true"
        android:background="@color/LightSkyBlue"
        android:text="@string/Result"
        android:textSize="25sp" />

</RelativeLayout> 
```

* * *

**图形布局：** ![在此处输入图像描述](../Images/dabe1f515fd2df5accb905dc9dcb7528.png)

* * *

**我希望从 DR 到 A-const 的字段可以滚动。我在这里和其他地方搜索了所有可能的解决方案，但徒劳无功。作为android的初学者，我在这里寻求帮助**

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-01-08T07:59:53.713

试试这个 ：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >

    <ScrollView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" >

        <RelativeLayout
            android:id="@+id/form_layout"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:background="@color/black" >

            <Spinner
                android:id="@+id/formulae"
                android:layout_width="200dp"
                android:layout_height="60dp"
                android:layout_marginLeft="50dp"
                android:layout_marginRight="50dp"
                android:background="@color/LightSkyBlue"
                android:dropDownWidth="wrap_content"
                android:entries="@array/formulas"
                android:gravity="center"
                android:paddingLeft="0dp"
                android:textAlignment="center" />

            <EditText
                android:id="@+id/k2_editText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_above="@+id/al"
                android:layout_alignRight="@+id/al_editText"
                android:layout_alignTop="@+id/k2"
                android:layout_marginLeft="120dp"
                android:ems="10"
                android:enabled="true"
                android:inputType="numberDecimal"
                android:onClick="@drawable/textfield_activated_holo_light"
                android:textColor="@color/White"
                android:textSize="15sp"
                android:visibility="visible"
                android:width="100dp" />

            <TextView
                android:id="@+id/k1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentLeft="true"
                android:layout_below="@+id/dr"
                android:layout_marginLeft="24dp"
                android:layout_marginTop="28dp"
                android:text="@string/K1"
                android:textColor="@color/white"
                android:textSize="25sp" />

            <EditText
                android:id="@+id/k1_editText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_above="@+id/k2"
                android:layout_alignLeft="@+id/k2_editText"
                android:layout_alignRight="@+id/k2_editText"
                android:layout_alignTop="@+id/k1"
                android:background="@drawable/edit_text_holo_light"
                android:ems="10"
                android:enabled="true"
                android:inputType="numberDecimal"
                android:onClick="@drawable/textfield_activated_holo_light"
                android:textColor="@color/White"
                android:textSize="15sp"
                android:visibility="visible"
                android:width="100dp" />

            <TextView
                android:id="@+id/dr"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignLeft="@+id/formulae"
                android:layout_below="@+id/formulae"
                android:layout_marginTop="14dp"
                android:layout_toLeftOf="@+id/k1_editText"
                android:ems="10"
                android:gravity="center"
                android:text="@string/dr"
                android:textColor="@color/White"
                android:textSize="25sp" />

            <TextView
                android:id="@+id/k2"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignRight="@+id/k1"
                android:layout_below="@+id/k1"
                android:layout_marginTop="38dp"
                android:text="@string/K2"
                android:textColor="@color/White"
                android:textSize="25sp" />

            <TextView
                android:id="@+id/al"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignRight="@+id/k2"
                android:layout_below="@+id/k2"
                android:layout_marginTop="38dp"
                android:text="@string/AL"
                android:textColor="@color/White"
                android:textSize="25sp" />

            <EditText
                android:id="@+id/al_editText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignRight="@+id/formulae"
                android:layout_alignTop="@+id/al"
                android:layout_marginLeft="120dp"
                android:ems="10"
                android:enabled="true"
                android:inputType="numberDecimal"
                android:onClick="@drawable/textfield_activated_holo_light"
                android:textColor="@color/White"
                android:textSize="15sp"
                android:visibility="visible"
                android:width="100dp" />

            <EditText
                android:id="@+id/al_const_editText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignBottom="@+id/al_const"
                android:layout_alignRight="@+id/al_editText"
                android:layout_marginLeft="120dp"
                android:ems="10"
                android:enabled="true"
                android:inputType="numberDecimal"
                android:onClick="@drawable/textfield_activated_holo_light"
                android:textColor="@color/White"
                android:textSize="15sp"
                android:visibility="visible"
                android:width="100dp" />

            <EditText
                android:id="@+id/dr_editText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignLeft="@+id/k1_editText"
                android:layout_alignRight="@+id/formulae"
                android:layout_alignTop="@+id/dr"
                android:ems="10"
                android:inputType="numberDecimal|numberSigned"
                android:textColor="@color/White"
                android:textSize="15sp" >

                <requestFocus />
            </EditText>

            <TextView
                android:id="@+id/al_const"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignLeft="@+id/al"
                android:layout_below="@+id/al_editText"
                android:layout_marginTop="43dp"
                android:text="@string/Rx"
                android:textColor="@color/White"
                android:textSize="20sp" />

            <Button
                android:id="@+id/result"
                android:layout_width="match_parent"
                android:layout_height="50dp"
                android:layout_alignParentBottom="true"
                android:layout_centerHorizontal="true"
                android:background="@color/LightSkyBlue"
                android:text="@string/Result"
                android:textSize="25sp" />
        </RelativeLayout>
    </ScrollView>

</RelativeLayout> 
```

谢谢。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T08:25:44.260

试试这个……对我来说很好用

```
 <?xml version="1.0" encoding="utf-8"?>
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:id="@+id/form_layout"
 android:layout_width="match_parent"
 android:layout_height="wrap_content"
 android:orientation="vertical"
 android:overScrollMode="ifContentScrolls"
 android:scrollbarStyle="insideOverlay"
 android:scrollbars="vertical" >

<Spinner
    android:id="@+id/formulae"
    android:layout_width="200dp"
    android:layout_height="60dp"
    android:layout_marginLeft="50dp"
    android:layout_marginRight="50dp"
    android:dropDownWidth="wrap_content"
    android:gravity="center"
    android:paddingLeft="0dp" />

<ScrollView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_above="@+id/result"
    android:layout_below="@+id/formulae" >

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/formulae" >

        <EditText
            android:id="@+id/k2_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_above="@+id/al"
            android:layout_alignRight="@+id/al_editText"
            android:layout_alignTop="@+id/k2"
            android:layout_marginLeft="120dp"
            android:ems="10"
            android:enabled="true"
            android:inputType="numberDecimal"
            android:textSize="15sp"
            android:visibility="visible"
            android:width="100dp" />

        <TextView
            android:id="@+id/k1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_below="@+id/dr"
            android:layout_marginLeft="24dp"
            android:layout_marginTop="28dp"
            android:text="K1"
            android:textSize="25sp" />

        <EditText
            android:id="@+id/k1_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_above="@+id/k2"
            android:layout_alignLeft="@+id/k2_editText"
            android:layout_alignRight="@+id/k2_editText"
            android:layout_alignTop="@+id/k1"
            android:ems="10"
            android:enabled="true"
            android:inputType="numberDecimal"
            android:textSize="15sp"
            android:visibility="visible"
            android:width="100dp" />

        <TextView
            android:id="@+id/dr"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/formulae"
            android:layout_below="@+id/formulae"
            android:layout_marginTop="14dp"
            android:layout_toLeftOf="@+id/k1_editText"
            android:ems="10"
            android:gravity="center"
            android:text="dr"
            android:textSize="25sp" />

        <TextView
            android:id="@+id/k2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignRight="@+id/k1"
            android:layout_below="@+id/k1"
            android:layout_marginTop="38dp"
            android:text="K2"
            android:textSize="25sp" />

        <TextView
            android:id="@+id/al"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignRight="@+id/k2"
            android:layout_below="@+id/k2"
            android:layout_marginTop="38dp"
            android:text="AL"
            android:textSize="25sp" />

        <EditText
            android:id="@+id/al_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignRight="@+id/formulae"
            android:layout_alignTop="@+id/al"
            android:layout_marginLeft="120dp"
            android:ems="10"
            android:enabled="true"
            android:inputType="numberDecimal"
            android:textSize="15sp"
            android:visibility="visible"
            android:width="100dp" />

        <EditText
            android:id="@+id/al_const_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBottom="@+id/al_const"
            android:layout_alignRight="@+id/al_editText"
            android:layout_marginLeft="120dp"
            android:ems="10"
            android:enabled="true"
            android:inputType="numberDecimal"
            android:textSize="15sp"
            android:visibility="visible"
            android:width="100dp" />

        <EditText
            android:id="@+id/dr_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/k1_editText"
            android:layout_alignRight="@+id/formulae"
            android:layout_alignTop="@+id/dr"
            android:ems="10"
            android:inputType="numberDecimal|numberSigned"
            android:textSize="15sp" >

            <requestFocus />
        </EditText>

        <TextView
            android:id="@+id/al_const"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/al"
            android:layout_below="@+id/al_editText"
            android:layout_marginTop="43dp"
            android:text="Rx"
            android:textSize="20sp" />
    </RelativeLayout>
</ScrollView>

<Button
    android:id="@+id/result"
    android:layout_width="match_parent"
    android:layout_height="50dp"
    android:layout_alignParentBottom="true"
    android:layout_centerHorizontal="true"
    android:text="Result"
    android:textSize="25sp" />

</RelativeLayout> 
```

# java - 如何暂停服务

> ID：14210511
> 
> 赞同：1
> 
> 时间：2013-01-08T07:55:07.043
> 
> 标签：java, android, service

我环顾四周，但找不到严格的答案。是否可以暂停服务？还是让他等/睡觉？

谢谢。

**编辑**更多细节：我的活动上有一个按钮，可以停止/启动我的服务。我希望能够暂停我的服务并恢复他，当我的活动关闭时才停止我的服务。那么是否可以**暂停**服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:57:54.527

A service is a process running in another thread. So, to pause a service (Thread), simply do

```
Thread.sleep(); 
```

Check here [http://developer.android.com/reference/java/lang/Thread.html#sleep%28long%29](http://developer.android.com/reference/java/lang/Thread.html#sleep%28long%29)

Enjoy.

# jquery - evalJSON 应该返回数组

> ID：14210512
> 
> 赞同：0
> 
> 时间：2013-01-08T07:55:18.427
> 
> 标签：jquery, json, parsing, eval

我有一个关于 jquery-json 的问题。我使用 2.4 版。如果将带有条目的数组传递给 evalJSON，它会将数组内的对象作为文本返回。如何使用 evalJSON 返回一个数组？我做错了什么？

例子：

```
var a = {'a': [1,2,45,5]}
b = jQuery.toJSON(a);
c = jQuery.evalJSON(b) 
```

现在 c 的值是

对象 a：“[1, 2, 45, 5]” **原型**：对象

a 不是数组而是字符串

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:07:28.317

```
jQuery.evalJSON(b) 
```

将返回一个 json 类型的对象。

您可以使用`a.a`, 获取数组，这意味着您可以获取诸如此类`a.a[0], a.a[1]`的值

# c++ - 我的进程在 main 之前崩溃，由 datamngr.dll

> ID：14210521
> 
> 赞同：0
> 
> 时间：2013-01-08T07:55:51.773
> 
> 标签：c++, windows, boost, boost-thread

我的进程在 main 之前崩溃，在 boost 代码上：myexe.exe!boost::`anonymous namespace'::run_thread_exit_callbacks() + 0xe6 bytes C++

windows原生c++编写的流程

我注意到的唯一奇怪的事情是，我的 exe 加载了不是我的 dll： ***datamngr.dll（版本 1.0.0.1）***

我确定这是一个恶意 dll ，它是通过 appinit 注入我的。有什么想法为什么它会让我在 boost 代码上崩溃？

BR罗马

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:56:26.093

Datamngr.dll 是来自第三方应用程序的 dll，它与您的进程挂钩（可能使用该`AppInit_dll`机制）。从[谷歌搜索](http://answers.microsoft.com/en-us/windows/forum/windows_vista-performance/what-is-this/d4c8b1d5-b745-4c8f-878a-f936ad49e87b)看来，它很可能是恶意软件。这些钩子意味着每个进程都在加载这个 dll，它可以在其中监视文件系统访问等内容。如果它崩溃，那么它会降低你的进程。我会运行一些 AV 和间谍软件扫描程序来解决这个问题。我不认为这是 boost 的问题。

# android - 如何旋转标签以及使用 openGl 和 android 创建的 3d 立方体。

> ID：14210524
> 
> 赞同：0
> 
> 时间：2013-01-08T07:55:58.383
> 
> 标签：android, opengl-es

如何旋转标签以及使用`openGl`android 创建的 3 维立方体。

我通过硬编码到活动本身来创建标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T18:47:38.343

一种方法是制作标签的图像。然后将这些图像加载为纹理，应用于添加到模型中的标志对象。标志对象可以是由四个点的两个三角形组成的简单矩形。如果将应用于立方体的相同转换应用于标志，则标签将随立方体移动。或者，您可以使用广告牌技术使标签朝向相机。

# android - RoboFragment 中的 InjectView

> ID：14210526
> 
> 赞同：6
> 
> 时间：2013-01-08T07:56:02.893
> 
> 标签：android, dependency-injection, roboguice

我想将一些视图从 xml 布局注入到 RoboFragment，但不幸的是我得到了 Nullpointer 异常。由于 RoboGuice（除了是一个很棒的 DI 框架）的文档很少，我不知道我是否可以`@ContentView(R.layout.fragmentlayout)`用来注释我的 RoboFragment。有什么我应该做的吗？我目前做的是：

```
public class TestFragment extends RoboFragment {

    @InjectView(R.id.upBtn) private Button upBtn;   

    @Override
    public View onCreateView(LayoutInflater layoutInflater, 
            ViewGroup container, Bundle savedInstanceState) {

        super.onCreateView(layoutInflater, container, savedInstanceState);
        View view = layoutInflater.inflate(R.layout.fragmentlayout, container, false);
        RoboGuice.getInjector(getActivity()).injectMembers(this);
        upBtn.setSelected(false);   // <------ Null pointer here
        return view;
    }
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-15T18:05:49.993

如果您查看 RoboFragment 的源代码，您会看到

```
@Override
public void onViewCreated(View view, Bundle savedInstanceState) {
    super.onViewCreated(view, savedInstanceState);
    RoboGuice.getInjector(getActivity()).injectViewMembers(this);
} 
```

如果您坚持手动注入，请使用`injectViewMembers()`. 如果您可以延迟触摸视图直到 之后`onViewCreated()`，那么它将为您设置。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-01-08T14:09:19.017

您需要返回视图。upBtn.setSelected(false) 之后；

```
public View onCreateView(LayoutInflater layoutInflater, ViewGroup container, Bundle savedInstanceState) {

    super.onCreateView(layoutInflater, container, savedInstanceState);
    View view = layoutInflater.inflate(R.layout.fragmentlayout, container, false);
    RoboGuice.getInjector(getActivity()).injectMembers(this);
    upBtn = (Button) view.findViewById(YOUR_ID); // Initialization
    upBtn.setSelected(false);   // <------ Null pointer here
 return view;
} 
```

# sql - 通过比较两个表来提取缺失的行

> ID：14210539
> 
> 赞同：0
> 
> 时间：2013-01-08T07:56:51.723
> 
> 标签：sql

例如

**简化案例表：**

![表 A 包含表 B 中缺少的行条目](../Images/ee70d1d195254b4f5e78a82bc7baa293.png)

```
select count(1) from table_a; --> returns 5 results
select count(1) from table_b; --> returns 4 results
select count(1) from table_a, table_b2 b 
where b.id_ab like a.id_ab; --> returns 4 results
select count(1) from table_a, table_b2 b 
where b.id_ab not like a.id_ab; --> returns unexpected result 
```

**SQL：**

试过这个（除了）但遇到错误。

```
select a.id_ab from table_a a, table_b b except select a.id_ab from table_a, table_b2 b 
where b.id_ab not like a.id_ab; 
```

或者如何使用联合来做到这一点？例如

```
(Select * from table_a except select * from table_b) Union All (Select * from table_b     except select record_id from table_a); 
```

预期结果：

![结果](../Images/e0f4ffa853150a9ea7706a715a6b3eee.png)

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:59:35.443

```
select a.id_ab 
from table_a a 
    LEFT JOIN table_b b on a.id_ab = b.id_ab 
where b.id_ab is null 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:07:21.990

使用下面的查询（添加左外连接）。

它将获取 table_a 中不匹配的数据。

```
 select count(1) from table_a, table_b2 b 
 where b.id_ab(+) = a.id_ab; 
```

如果您只想缺少行，请使用以下查询

```
 select count(1) from table_a, table_b2 b 
 where b.id_ab <> a.id_ab; 
```

如果在查询之间使用 UNION 列应该是相等的。

例子

```
 SELECT col1,col2 from table_a
   UNION
   SELECT col1,col2 from table_b 
```

但不喜欢

```
 SELECT col1,col2 from table_a
   UNION
   SELECT col1 from table_b 
```

# php - mySQL & PDO - SELECT WHERE user IS NULL and user = :user

> ID：14210541
> 
> 赞同：0
> 
> 时间：2013-01-08T07:57:00.500
> 
> 标签：php, mysql, pdo

我需要能够检索为 Null 或具有绑定用户名的表行。有人可以解释正确的sql语句吗？

```
$value = $db_site->prepare('SELECT * FROM tablename WHERE user IS NULL AND user = :user');
$value->bindValue(':user', $user, PDO::PARAM_STR);
$value->execute(); 
```

如果重要，则通过 for 循环发送检索到的信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:59:32.693

use OR instead of AND:

```
SELECT * FROM tablename WHERE user IS NULL OR user = :user 
```

by using AND you are saying that the user column should be null and equal to :user at the same time.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:59:19.190

> I need to be able to retrieve the table rows that are Null **OR** have the bound user name.
> 
> 'SELECT * FROM tablename WHERE user IS NULL **AND** user = :user'

Do you notice the difference? ;-)

# asp.net-mvc - How to create a ASP.NET MVC web application project in VS2012

> ID：14210546
> 
> 赞同：0
> 
> 时间：2013-01-08T07:57:34.430
> 
> 标签：asp.net-mvc, visual-studio-2008, windows-8, visual-studio-2012

I am using `Windows 8`, and `Visual Studio 2012`. I need to create a `ASP.NET MVC web application`. But, when i click on `Project types --> visual C#` i only see `windows store` and not `Web` (as seen in `VS 2008`).

How can i create a `MVC web application` ? Help

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:31:42.463

您还可以使用 WebMatrix 来创建 aps.net mvc 项目，它是 Microsoft 的 asp.net 的免费工具

你可以从这里获得 WebMatrix [http://www.microsoft.com/web/webmatrix/](http://www.microsoft.com/web/webmatrix/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:16:17.127

我怀疑你正在使用`Visual Studio Express for Windows 8`?

如果是这样，您还需要`Visual Studio Express for Web`创建 MVC 应用程序。

在此处查看不同的版本：http: [//www.microsoft.com/visualstudio/eng/products/visual-studio-express-products](http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-products)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T13:26:12.557

在安装过程中，应该有选项，其中之一是 Visual Web Developer。确保已安装（这就是 VS 2010 中的名称）。

# c# - Generating unique ID for clients on a system running over a LAN in C#

> ID：14210548
> 
> 赞同：0
> 
> 时间：2013-01-08T07:57:38.473
> 
> 标签：c#, .net, primary-key

I've a simple client registration system that runs over a network. The system is supposed to generate a unique three digit ID (primary key) with the current year concatenated (e.g. 001-2013). However, I've encountered the problem that the same primary keys being generated when two users from different computers (over a LAN) try to register different clients.

What if the user cancels the registration after an ID is already generated? I've to reuse that ID for another client. I've read about static variable but it didn't solve my problem. I really appreciate your ideas.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:03:30.293

唯一和连续的 ID 很难实现。为了完全实现它，您必须序列化客户端信息的提交创建，以便仅在实际存储数据时生成 ID，否则当提交期间发生错误时，您最终会遇到漏洞。

如果您不需要严格的序列号 - 为每个系统提供 ID 范围（1-22、23-44、...）是常见的方法。如果您需要使用尽可能多的 ID，您可以给出要使用的 ID 列表（{1,3,233,234}，{235,236,237}），而不是范围。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T08:05:03.747

问题：

1.  新项目 -001 已创建，但尚未保存
2.  新项目 -002 已创建，但尚未保存
3.  项目 -001 已取消

ID -001 怎么办？

最简单的解决方案是在确定存储项目之前不分配 ID。

另一种方法是，当最终保存项目时，您查找第一个空闲 ID。如果第 2 步 (#2) 中的项目在第 1 步中的项目之前保存，则#2 的 ID 为 -001。当#1 被保存时，保存逻辑会看到其声明的 ID (-001) 正在使用中，因此它将分配 -002。所以ID被重新分配。

最后，您可以在创建新项目时轻松找到下一个免费 ID。在上述三个步骤中，这意味着您最初在 -001 应该存在的地方有一个间隙。如果您现在创建一个新项目，您的代码将看到 -001 未使用并将其分配给新项目。

但是，这完全取决于您没有指定的要求，现在 -001 的创建时间晚于 -002，我不知道这是否允许。此外，在任何给定时刻，您的编号中都可能有一个项目已被取消的空白。如果它发生在报告期末，这将导致错误（-033、-034、-036）。

您可能还希望包含一个自动递增的主键，而不是此发票编号或其他任何内容。

# php - 如何为 php 库存应用程序设置数据库表

> ID：14210553
> 
> 赞同：-3
> 
> 时间：2013-01-08T07:57:54.913
> 
> 标签：php, sql, database, codeigniter, inventory

我正在使用 php codeigniter 创建一个 Web 应用程序。本质上，此应用程序将拥有无限数量的用户，他们可以将自己的产品添加到自己的帐户中，以跟踪活动的产品库存。

我有一个包含用户、事件和产品表的数据库。

我的问题是，我应该如何为无限数量的产品、无限数量的用户和无限数量的事件设置一个或多个表格。并做到这一点，以便对库存进行滚动统计。

我正在寻找一种方法来输入他们为活动带来了多少产品以及他们留下了多少。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T13:59:36.717

您似乎需要的是所有三个表之间的**多对多**关系。我假设您正在为您的数据库使用 mysql，因此您需要在当前表之间创建交叉引用表。

一个简单的图表：

```
user -> user_product <- product
user -> user_event <- event
product -> product <- event 
```

外部表与中间表具有一对多的关系，您将使用外键对其进行引用**。**这样，您可以简单地计算交叉引用表中的行数以获取总数。我希望这是有道理的。就个人而言，我在 CI 安装中使用[Propel ORM](http://propelorm.org/)（对象关系映射）来满足我所有的数据库需求。还有其他 ORM 可以更好地处理这种类型的关系，但在我看来，Porpel 是最容易开始工作的。

随时要求更多说明。

# android - Detecting incoming and outgoing calls in android using broadcastReceiver

> ID：14210554
> 
> 赞同：3
> 
> 时间：2013-01-08T07:58:17.677
> 
> 标签：android

I have been facing the problem from long time and not able to clear the following issue.. I am using a broadcast receiver for detecting the incoming and outgoing calls details. Now the problem with duration of the call. For incoming call it is showing correct duration but for outgoing call it shows wrong duration...

Help me in getting the issue solved.. Thanks in advance for spending your valuable time on my issue.

Here is my code..

```
public class IncomingCallReceiver extends BroadcastReceiver {
// db instance variables
DBAdapter dba;

// instance variables of sharedpreferences
SharedPreferences mSharedPrefernce;
Editor e;

// String variables for number,date,time,calltype
String number, date, time, calltype;
long startTime, endTime;

@Override
public void onReceive(Context context, Intent intent) {
    Log.v("info", "calls info....");

    // initialising the sharedpreferences
    mSharedPrefernce = context.getSharedPreferences("MyPref", 0);
    e = mSharedPrefernce.edit();

    // Creating object for the DBAdapter
    dba = new DBAdapter(context);
    Bundle bundle = intent.getExtras();

    // Log.v("info", bundle.toString());
    if (bundle == null)
        return;

    // initialising the variables
    number = null;
    startTime = 0;
    endTime = 0;

    // getting incoming call details
    String state = bundle.getString(TelephonyManager.EXTRA_STATE);
    if ((state != null)
            && (state
                    .equalsIgnoreCase(TelephonyManager.EXTRA_STATE_RINGING))) {

        Log.v("info", "Phone Ringing..");

        number = bundle.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);
        Log.v("info", "Incomng Number: " + number);

        calltype = "Incoming";

        Time today = new Time(Time.getCurrentTimezone());
        today.setToNow();

        date = today.monthDay + "-" + (today.month + 1) + "-" + today.year;
        time = today.format("%k:%M:%S");

        // putting the values into the SharedPreferences
        e.putString("number", number);
        e.putString("Type", calltype);
        e.putString("date", date);
        e.putString("time", time);
        e.commit();

        Toast.makeText(
                context,
                "Detect Calls sample application\nIncoming number: "
                        + number, Toast.LENGTH_SHORT).show();

    }
    // getting outgoing call details
    else if (state == null) {
        number = bundle.getString(Intent.EXTRA_PHONE_NUMBER);
        Log.v("info", "Outgoing Number: " + number);

        calltype = "Outgoing";

        Time today = new Time(Time.getCurrentTimezone());
        today.setToNow();

        date = today.monthDay + "-" + (today.month + 1) + "-" + today.year;
        time = today.format("%k:%M:%S");

        // putting the values into the SharedPreferences
        e.putString("number", number);
        e.putString("Type", calltype);
        e.putString("date", date);
        e.putString("time", time);
        e.commit();

        Toast.makeText(
                context,
                "Detect Calls sample application\nOutgoing number: "
                        + number, Toast.LENGTH_SHORT).show();

    }
    // called when the call is answered
    else if (state.equalsIgnoreCase(TelephonyManager.EXTRA_STATE_OFFHOOK)) {
        Log.v("info", "Call Ansered..");

        startTime = System.currentTimeMillis();
        e.putLong("start", startTime);
        e.commit();

    } 
    // called when the call is ended
    else if (state.equalsIgnoreCase(TelephonyManager.EXTRA_STATE_IDLE)) {
        Log.v("info", "Call Ended..");

        String phonenumber=null, type=null, date1=null, time1=null,  duration=null;

        // getting the values from the SharedPreferences
        phonenumber = mSharedPrefernce.getString("number", "");
        type = mSharedPrefernce.getString("Type", "");
        date1 = mSharedPrefernce.getString("date", "");
        time1 = mSharedPrefernce.getString("time", "");
        long start=0;
        start = mSharedPrefernce.getLong("start", 0);
        Log.v("info", "startTime=" + start);

        // clearing the SharedPreferences
        mSharedPrefernce.edit().clear();

        endTime = System.currentTimeMillis();
        Log.v("info", "endTime=" + endTime);
        long totalTime =0;
        totalTime = endTime - start;

        DateFormat df = new SimpleDateFormat("HH':'mm':'ss");
        df.setTimeZone(TimeZone.getTimeZone("GMT+0"));

        duration = df.format(new Date(totalTime));

        // inserting the call details into sqlite db
        dba.insertDetails(phonenumber, date1, time1, duration, type);

    }

}
     } 
```

I also added the permissions in the manifest file like this..

```
<receiver android:name="IncomingCallReceiver" >
        <intent-filter>
            <action android:name="android.intent.action.PHONE_STATE" />
            <action android:name="android.intent.action.NEW_OUTGOING_CALL" >
            </action>
        </intent-filter>
    </receiver> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-22T10:28:36.877

无论是双卡还是单卡，这都会给您的来电号码：

```
Bundle bundle = intent.getExtras();
String state = bundle.getString(TelephonyManager.EXTRA_STATE);
if (state != null){
    callFromSecondSimNo = bundle.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-26T07:33:47.593

它显示了错误的持续时间，因为一旦拨打了号码，状态就会变为 OFF_HOOk。但实际上不应该。一旦对方的用户接听了您的电话，它应该更改为 OFF_HOOk。

不幸的是，设备不会在 android 中打开拨出电话的振铃状态。！直接切换到OFF_Hook！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-08-31T10:32:07.020

此代码适用于 Android 4 或 5 Android Sdk：- 您将从该行获取 Subcrption id：- whichSIM = intent.getExtras().getInt("subscription");

## 标题

if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) { 捆绑包 = intent.getExtras();

```
 if (bundle != null) {
            Set<String> keys = bundle.keySet();
            Iterator<String> it = keys.iterator();
            while (it.hasNext()) {
                String key = it.next();
                Log.e("BUNDEL-VALUE","[" + key + "=" + bundle.get(key)+"]");
            }
        }
        if (intent.getExtras().containsKey("subscription")) {
            whichSIM = intent.getExtras().getInt("subscription");
            HelperFunctions.theLogger("WhichSim", "before value: " + whichSIM);
            SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);
            SharedPreferences.Editor editor = preferences.edit();
            editor.putLong("ChooseSim", whichSIM);
            editor.commit();
        }
    }

    //Working code For 4.4 Phones KitKat
    else if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
        whichSIM = intent.getExtras().getInt("subscription");
        if (whichSIM == 0) {
            whichSIM = 1;
            editor.putLong("ChooseSim", whichSIM);
            editor.commit();
            // Incoming call for SIM1
            // Toast.makeText(context,"Getting Sim Id  "+whichSIM,Toast.LENGTH_LONG).show();
        } else if (whichSIM == 1) {
            whichSIM = 2;
            editor.putLong("ChooseSim", whichSIM);
            editor.commit();
            // Toast.makeText(context,"Getting Sim Id  "+whichSIM,Toast.LENGTH_LONG).show();

        }
    } 
```

1.  项目清单

# ios - 我应该在 iOS/Objective-C 中使用哪种布尔类型？

> ID：14210555
> 
> 赞同：9
> 
> 时间：2013-01-08T07:58:20.233
> 
> 标签：ios, types

看起来有四种选择。

1.  布尔值

2.  布尔

3.  布尔值

4.  boolean_t

我应该使用哪一个？

似乎也有两种错误的定义。

1.  错误的

2.  错误的

我应该使用哪一个？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-08T07:59:35.533

最常见的是`BOOL`with `YES`, `NO`defs。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:59:59.173

使用`BOOL`布尔类型。

并用于`NO`设置为假。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T08:00:26.793

`BOOL`是objective-C提供的，所以坚持下去，除非它成为一个问题（这是一个非常罕见的情况，但它发生在我身上一次）。此外，还有更多关于 true 和 false: 的定义， `YES`并且`NO`是最像 Objective-C 的。它们被定义为 clang 文字，因此最好使用它们。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-08T08:03:21.227

它会因您调用的 API 而异。每个 API 都有自己的约定。对于大多数 Apple Obj-C 的东西，它是定义 YES/NO 的 BOOL。但是，您最终可能会使用另一个有自己的约定（例如 boolean_t）的库 - 对该库的调用符合约定。对于您自己的东西，我会坚持使用 Obj-C 方法。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-08T08:03:23.490

更好地使用`BOOL`和`FALSE`OR`NO`

希望对你有帮助

# windows - Can't login to SQL Azure Management

> ID：14210556
> 
> 赞同：1
> 
> 时间：2013-01-08T07:58:24.183
> 
> 标签：windows, azure

Actually i have following step by step from [http://www.windowsazure.com/en-us/manage/services/sql-databases/getting-started-w-sql-databases/](http://www.windowsazure.com/en-us/manage/services/sql-databases/getting-started-w-sql-databases/) to create database and etc.

But when i try to login using username and password which i have configured,message error appear " Failed to retrieve connection information. Try to login again. "

I have configure firewall before to allowed my public ip to access the database.

How to solve my problem ?

Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T13:57:25.723

清除您的 cookie 和浏览历史记录，如果一段时间后（例如一个小时）仍然存在，请联系 Microsoft 支持

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-12T20:04:25.283

允许弹出窗口。Chrome 阻止了我。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-09T09:44:14.417

这是一个非常有趣的问题。

如何检查与 Microsoft SQL Server 的连接（可以是[Express 版](http://www.microsoft.com/sqlserver/en/us/editions/2012-editions/express.aspx)）。

如果您配置了防火墙，那么您应该能够通过 Microsoft SQL Server Management Studio 从您的系统毫无问题地访问 Azure 数据库。

![SQL 管理工作室](../Images/aa45c0f79b328e2beb8e3b813bab8d78.png)

或者，您可以检查 Visual Studio。但我不确定 Visual Studio Express 版是否可以连接到 Azure 数据库（您可能需要一些付费版本）。

如果您在使用 SQL Management Studio 时仍然存在一些连接问题，则表明您所在位置和 Azure 数据中心之间存在一些网络问题。在这种情况下，我建议在不同的数据中心启动另一个 Azure 数据库（非常短的时间），设置防火墙，看看是否可行。

**编辑**

> 有什么方法可以为 Azure 配置防火墙？

无法在单个数据库级别配置数据库防火墙；它需要在服务器级别进行配置。

在 Windows Azure 管理门户中，转到数据库选项卡，然后选择数据库服务器：

![Windows Azure SQL 仪表板](../Images/008734bae2ed5c876aa179a7d607ca5b.png)

进入服务器仪表板后，选择*配置*顶部选项卡。您可以在允许的 IP 地址下更改数据库服务器防火墙允许的*IP 地址*

在同一部分中，*当前客户端 IP 地址*告诉您当前 IP。当您使用 VPN 或经常更改网络时，这非常方便。

# regex - Regular expression: why a?? pattern matches empty string "" from any string including "a" itself?

> ID：14210557
> 
> 赞同：0
> 
> 时间：2013-01-08T07:58:27.707
> 
> 标签：regex

From this [tutorial](http://docs.oracle.com/javase/tutorial/essential/regex/quant.html) I learned about "Regular Expressions - Quantifiers", and based on this [test code](http://docs.oracle.com/javase/tutorial/essential/regex/test_harness.html) used in this tutorial.

```
Enter your regex: a??
Enter input string to search: a
I found the text "" starting at index 0 and ending at index 0.
I found the text "" starting at index 1 and ending at index 1. 
```

And

```
Enter your regex: a??
Enter input string to search: aaa
I found the text "" starting at index 0 and ending at index 0.
I found the text "" starting at index 1 and ending at index 1.
I found the text "" starting at index 2 and ending at index 2.
I found the text "" starting at index 3 and ending at index 3. 
```

Also

```
Enter your regex: a??
Enter input string to search: cab
I found the text "" starting at index 0 and ending at index 0.
I found the text "" starting at index 1 and ending at index 1.
I found the text "" starting at index 2 and ending at index 2.
I found the text "" starting at index 3 and ending at index 3. 
```

**Why?**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:19:54.087

`??`是一个量词，所以它表示量化项应该匹配多少次，0 或 1 次，**最好是 0**。`??`它本身不*匹配*任何东西，它只是装饰另一个表达式，说明该表达式在测试字符串中要匹配多少次。

**如果表达式**的其余部分与[*惰性*](http://www.regular-expressions.info/repeat.html#lazy) `0 times`部分匹配不匹配，它将再次尝试`1 time`部分匹配。

确实，如果整个正则表达式仅包含某个术语的惰性可选匹配，它将*始终*匹配测试字符串中的空位置。所以这种量词只有在它周围有其他术语时才有用。例如，表达式`ba??d`将首先尝试匹配`bd`，然后`bad`.

不过，为什么正则表达式匹配字符串中的每个字符一次（最后加一个）？好吧，一个空匹配是一个有效的正则表达式。例如，搜索`^`or `$`（字符串的开始，分别结束）将产生一个匹配，尽管它是空的。对于这个“无用”的表达式也是如此，测试字符串中的每个位置都是表达式的有效匹配，不会对匹配施加任何约束。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:02:26.037

这是因为您正在使用`?`LAZY 操作符，`?`所以它会尽可能少地匹配。

您正在尝试匹配`a`0 或 1 次，但您告诉正则表达式引擎尽可能少地匹配，以便匹配 0 次并且匹配字符串中的尽可能多的字符 (+1)。

# c - MPICH: How to publish_name such that a client application can lookup_name it?

> ID：14210558
> 
> 赞同：4
> 
> 时间：2013-01-08T07:58:34.450
> 
> 标签：c, windows, mpi, mpich

While learning MPI using MPICH in windows (1.4.1p1) I found some sample code [here](http://www.mpi-forum.org/docs/mpi-20-html/node106.htm). Originally, when I ran the server, I would have to copy the generated `port_name` and start the client with it. That way, the client can connect to the server. I modified it to include `MPI_Publish_name()` in the server instead. After launching the server with a name of `aaaa`, I launch the client which fails `MPI_Lookup_name()` with

```
Invalid service name (see MPI_Publish_name), error stack:
MPID_NS_Lookup(87): Lookup failed for service name aaaa 
```

Here are the snipped bits of code:

server.c

```
MPI_Comm client; 
MPI_Status status; 
char port_name[MPI_MAX_PORT_NAME];
char serv_name[256];
double buf[MAX_DATA]; 
int size, again; 
int res = 0;

MPI_Init( &argc, &argv ); 
MPI_Comm_size(MPI_COMM_WORLD, &size); 
MPI_Open_port(MPI_INFO_NULL, port_name);
sprintf(serv_name, "aaaa");
MPI_Publish_name(serv_name, MPI_INFO_NULL, port_name);

while (1) 
{ 
    MPI_Comm_accept( port_name, MPI_INFO_NULL, 0, MPI_COMM_WORLD, &client );
    /*...snip...*/
} 
```

client.c

```
MPI_Comm server; 
double buf[MAX_DATA]; 
char port_name[MPI_MAX_PORT_NAME]; 
memset(port_name,'\0',MPI_MAX_PORT_NAME);
char serv_name[256];
memset(serv_name,'\0',256);

strcpy(serv_name, argv[1] )
MPI_Lookup_name(serv_name, MPI_INFO_NULL, port_name);
MPI_Comm_connect( port_name, MPI_INFO_NULL, 0, MPI_COMM_WORLD, &server ); 
MPI_Send( buf, 0, MPI_DOUBLE, 0, tag, server ); 
MPI_Comm_disconnect( &server ); 
MPI_Finalize(); 
return 0; 
```

I cannot find any information about altering visibility of published names, if that is even the problem. MPICH seems to not have implemented anything with MPI_INFO. I would try openMPI but I am having trouble just building it. Any suggestions?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-12-17T04:11:11.010

我在 Ubuntu 上使用 C 中的客户端和服务器的 OpenMPI 1.6.5 上传了一个工作版本，该版本在此处使用 ompi-server 名称服务器：

[C 中的 OpenMPI 名称服务器客户端服务器示例](http://techdiagnosys.blogspot.ca/2016/12/openmpi-working-nameserver-publish.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-03-30T12:19:38.910

（挖掘旧的东西）
对于 MPICH，@daemondave 的代码实际上应该也可以工作。但是，它仍然需要运行名称服务器。对于 MPICH，可以使用 hydra_nameserver 来代替使用 ompi-server。然后必须为所有 mpirun/mpiexec 调用指定主机，使用`-nameserver HOSTNAME`.

我在[github](https://github.com/SteffenSeckler/MPI_Connect_Test)创建了一个工作示例，它还提供了一个 shell 脚本来构建+运行该示例。

PS：ompi-server 变体似乎有些过时（并且包含一些错误）。
有关更新但仍然有些未记录的替代方案，请参阅[此评论](https://github.com/openpmix/prrte/issues/398#issuecomment-795628306)。

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2013-08-15T17:28:12.977

相对于正常的 MPI 使用而言，这种发布名称、查找名称并连接到名称的方法很奇怪。

标准模式`mpirun`用于指定一组节点，在这些节点上启动给定数量的进程。实现的常见实现的操作`mpirun`在[另一个问题中解释](https://stackoverflow.com/questions/10912793/how-are-mpi-processes-started/10913844)

一旦所有进程都作为单个并行作业的一部分启动，MPI 库将读取启动器在设置期间提供的任何信息，该信息`MPI_Init`是`MPI_COMM_WORLD`作业中所有进程组的通信器。

使用该通信器，并行应用程序可以分发工作、交换信息等。它将使用通用`MPI_Send`和`MPI_Recv`例程，在它们的所有变体中，集体操作等等来做到这一点。

# postgresql - 在单个查询中使用其生成的 id 更新插入行的列

> ID：14210560
> 
> 赞同：0
> 
> 时间：2013-01-08T07:58:41.827
> 
> 标签：postgresql, insert, insert-update

假设我有一个表，创建如下：

```
 CREATE TABLE test_table (id serial, unique_id varchar(50) primary key, name varchar(50));

 test_table
 ----------
 id | unique_id | name 
```

在该表中，我想用新插入的 id 与插入的名称一次性更新 unique_id 字段。

通常这是通过两个查询来完成的。（PHP方式）

```
 $q = "INSERT INTO table (unique_id,name) values ('uid','abc') returning id||name as unique_id;";  
 $r = pg_query($dbconn,$q);
 $row = pg_fetch_array($r);

 $q1 = "UPDATE test_table set unique_id =".$row['unique_id']." where unique_id='uid'"; 
 $r1 = pg_query($dbconn,$q1); 
```

有没有办法在单个查询中完成上述操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:28:14.273

您可以在这里有几个选项，您可以创建一个使用生成的 ID 直接更新同一行的 AFTER 触发器：

```
CREATE TRIGGER test_table_insert ON AFTER INSERT ON test_table FOR EACH ROW EXECUTE PROCEDURE test_table_insert(); 
```

并在您的函数中更新值：

```
CREATE FUNCTION test_table_insert() RETURNS TRIGGER AS $$
BEGIN
  UPDATE test_table SET uniqid = NEW.id::text || NEW.name WHERE id = NEW.id;
END;
$$ LANGUAGE plpgsql; 
```

您需要在触发器之前添加该功能。

另一种选择是直接在插入中进行：

```
INSERT INTO table (id, unique_id, name) values (nextval('test_table_id_seq'), 'abc', currval('test_table_id_seq')::text || 'abc') returning id; 
```

但是正如 a_horse_with_no_name 指出的那样，我认为您的数据库设计可能存在问题。

# python - Running process in parallel for data collection

> ID：14210568
> 
> 赞同：1
> 
> 时间：2013-01-08T07:59:20.420
> 
> 标签：python, multithreading, parallel-processing, serial-port

I am collecting data from two pieces of equipment using serial ports (scale and conductivity probe). I need to continuously collect data from the scale which I average between collection points of the conductivity probe (roughly a minuet).

Thus I need to run two processes at the same time. One that collects data from the scale, and other which waits for data from the conductivity probe, once it gets the data it would send a command to the other process in order to get the collected scale data, which is then time stamped and saved into .csv file.

I looked into subprocess but it I cant figure out how to reset a running script. Any suggestions on what to look into.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-27T12:54:45.473

除了使用线程，您还可以将数据源实现为生成器，然后循环它们以使用传入的数据并对其进行处理。也许使用两个不同的生成器并将它们压缩在一起，实际上将是一个很好的实验我不完全确定它可以完成......

# jquery - JQuery look up ul with class name

> ID：14210569
> 
> 赞同：0
> 
> 时间：2013-01-08T07:59:23.370
> 
> 标签：jquery, jquery-easing

I would like to add some animations on my menu bar, the code is as follows

html

```
<ul class="my_menu">
    <li class="home">
        <p><a href="#">Home</a></p>
        <p class="subtext">The front page</p>
    </li>
    <li class="about">
        <p><a href="#">About</a></p>
        <p class="subtext">More info</p>
    </li>
</ul> 
```

Javascript

easing: [http://buildinternet.com/live/smoothmenu/js/jquery.easing.1.3.js](http://buildinternet.com/live/smoothmenu/js/jquery.easing.1.3.js)

Script:

```
$(document).ready(function(){
    $("ul.my_menu> li").mouseover(function(){
        alert('hi');
        $(this).stop().animate({height:'150px'},{queue:false, duration:600, easing: 'easeOutBounce'});
    });

    $("ul.my_menu > li").mouseout(function(){
        alert('bye');
        $(this).stop().animate({height:'50px'},{queue:false, duration:600, easing: 'easeOutBounce'});
    }); 
}); 
```

Finally, the "hi" and "bye" cannot be displayed. Is there a problem in my code? Thanks in advance.

**Edited: changed am_menu -> my_menu**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:01:14.303

你的选择器不应该是 ul.my_menu 吗？

```
$("ul.my_menu > li") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:04:30.703

`.am_menu`我在您的 html 中找不到课程。我觉得应该换成`ul.my_menu`.

漏洞 ：

```
`$("ul.am_menu > li").mouseover(function(){`  //No class . 
```

使固定 ：

```
`$("ul.my_menu > li").mouseover(function(){` 
```

# html - 如何将“主页”按钮添加到 wordpress 中的自定义菜单

> ID：14210579
> 
> 赞同：0
> 
> 时间：2013-01-08T07:59:45.337
> 
> 标签：html, wordpress

我在 wordpress 中创建了一个自定义菜单，其中包含一些我想要的页面，但是这个菜单中没有“主页”按钮，我应该怎么做才能在这个菜单中添加“主页”按钮？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T10:05:54.723

您应该尝试使用自定义链接和标签作为**HOME**

![在此处输入图像描述](../Images/4fd7125385bc53706f7ff59e256fd265.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T12:12:09.607

在菜单页 - > 并添加自定义菜单 - > 保存完成后添加自定义链接和自定义名称..

# android - Sqlite Android Related Query

> ID：14210585
> 
> 赞同：-1
> 
> 时间：2013-01-08T08:00:05.440
> 
> 标签：android, sql, sqlite

I have a seemingly simple question but i am not able to get the solution to this. I want this unsorted set of values that i am using to query a db table.

```
select * from table where _id in (3,6,1,9); 
```

All i want is that the result does not come sorted. The result i am getting is like this :-

```
_id   Name

 1    Xyz
 3    Abc
 6    PQR
 9    DEF 
```

I would like the result to be unordered like the query. Eg

```
 _id   Name

  3    Abc
  6    PQR
  1    Xyz
  9    DEF 
```

I tried using OR in the statement, but i still get an ordered result. Is what i require possible?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:04:23.210

```
select * from table where _id in (3,6,1,9) ORDER BY RANDOM(); 
```

# javascript - 是否可以同时使用 JQuery 和 Zepto 库？

> ID：14210588
> 
> 赞同：2
> 
> 时间：2013-01-08T08:00:11.547
> 
> 标签：javascript, jquery, conflict, zepto

```
<script src="jsv3/jquery-1.7.1.min.js"></script>
<script src="jsv3/jquery-ui-1.9.2.custom.min.js"></script>
<script src="jsv3/jquery.mobile-events.js"></script>
<script src="jsv3/jquery.ui.touch-punch.js"></script>
<script src="jsv3/turn.js"></script>
<script src="jsv3/jquery.viewport.min.js"></script>
<script src="jsv3/jquery.scraggable.js"></script>
<script src="jsv3/history.js"></script>
<script src='http://vod.hkheadline.com/player/jwplayer/jwplayer.js'></script>
<script src="jsv3/libs/zepto.js"></script>  //  Can not use
<script src="jsv3/zepto.flickable.js"></script>
<script src="jsv3/onload_mobile.js"></script> 
```

目前我正在使用几个 jquery 插件来实现一个 webapp。我最近找到了一个库调用 flickable.js 并添加到应用程序中。但是，它使用 zepto 库，所以当我添加它时，它返回**Uncaught TypeError: Object [object Object] has no method 'flickable' 的错误** ，如何解决？谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-08T08:27:00.357

使用 jQuery 的函数 noConflict。

```
jQuery.noConflict(); 
```

更多细节在这里.. [http://docs.jquery.com/Using_jQuery_with_Other_Libraries](http://docs.jquery.com/Using_jQuery_with_Other_Libraries)

```
<script src="jsv3/jquery-1.7.1.min.js"></script>
<script src="jsv3/jquery-ui-1.9.2.custom.min.js"></script>
<script src="jsv3/jquery.mobile-events.js"></script>
<script src="jsv3/jquery.ui.touch-punch.js"></script>
<script src="jsv3/turn.js"></script>
<script src="jsv3/jquery.viewport.min.js"></script>
<script src="jsv3/jquery.scraggable.js"></script>
<script src="jsv3/history.js"></script>
<script src='http://vod.hkheadline.com/player/jwplayer/jwplayer.js'></script>

<script type="text/javascript">
  $.noConflict(false);
</script>

<script src="jsv3/libs/zepto.js"></script>   
<script src="jsv3/zepto.flickable.js"></script>
<script src="jsv3/onload_mobile.js"></script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-24T05:02:02.900

你可以这样做。

```
jQuery.noConflict();
delete window.$; 
```

然后加载zepto脚本。

# google-chrome - Kendogrid 在 Chrome 中不可点击

> ID：14210593
> 
> 赞同：1
> 
> 时间：2013-01-08T08:01:11.757
> 
> 标签：google-chrome, kendo-ui

我有一个问题，KendoGrid 在 Chrome 中不再可点击。当我在 IE 中测试它时，它工作正常。当我的一位同事在他的电脑上用 Chrome 测试它时，它也可以工作，所以它一定与我的设置有关。

我安装了最新版本的 Chrome。它曾经有效，但显然我做错了什么，但我无法解决。

任何帮助都可以！

谢谢 ！

# javascript - 将新创建的对象推送到 javascript 数组会覆盖以前数据的某些部分

> ID：14210596
> 
> 赞同：2
> 
> 时间：2013-01-08T08:01:22.103
> 
> 标签：javascript, jquery, arrays

将新创建的对象推送到 javascript 数组中时，数组的某些元素与最后一个元素相同，就好像最后一个推送的对象覆盖了旧对象中的某些部分一样。如下所示。

```
var urlRoot = "http://.../";
var allBooks = []; 
var i = 1;
var max = 2; //3;

getPage(i);

function getPage(bookNo) {

    if (i > max) {
        return;
    }

    $.ajax({
        url: urlRoot + bookNo,
        type: 'GET',
        cache: false,
        success: function(res) {
            var html = res.responseText;

            allBooks.push(new Book(html));
            //allBooks[i - 1] = new Book(html);

            console.log(allBooks);

            i++;
            getPage(i);
        }
    });
} 
```

当仅推送两个元素和三个元素时，console.log(allBooks) 给出以下结果（标签“EnglishbookHeading”的值发生了变化；但数组“Pages”的内容与最后一个推送的内容相同。）：

```
[Book, Book]
0: Book    
EnglishbookHeading: "Revelation"
Hadiths: Array[43]
__proto__: Book
1: Book    
EnglishbookHeading: "Belief"
Hadiths: Array[43]
__proto__: Book
length: 2 
```

* * *

```
 Array[3]
0: Book
EnglishbookHeading: "Revelation"
Pages: Array[53]
__proto__: Book
1: Book
EnglishbookHeading: "Belief"
Pages: Array[53]
__proto__: Book
2: Book
EnglishbookHeading: "Knowledge"
Pages: Array[53]
__proto__: Book
length: 3 
```

*Book.js：*

```
define(["Page"],
    function (Page) {

        var englishbookHeading;
        var thisPages = [];

        function Book(html) {
            setBook(html);

            this.EnglishbookHeading = englishbookHeading;
            this.Pages = thisPages;
        };

        function setBook(html) {
            var con = $(html); //Context

            ...

            var chapters = tumHadisler.find('div.chapter');
            var index = 0;

            chapters.each(function () {

                var Page = new Page();

                ...

                thisPages[index] = Page;

                index++;
            });
        }

        return Book;
    }); 
```

*页面.js：*

```
define(function () {

    function Page() {

        this.ChapterId = "";

        ...
    }

    return Page;
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:33:50.540

请参阅您使用相同的数组对象`thisPages`作为`Book.Pages`属性值的问题，因此所有书籍将始终表示相同的`Pages`属性值。

您需要传递对该方法`Book`的引用，`setBook`以便您可以仅将页面添加到特定书籍。例如，

```
 function Book(html) {
        this.EnglishbookHeading = englishbookHeading;
        this.Pages = [];
        setBook(this, html);
    };

    function setBook(book, html) {
        var con = $(html); //Context

        ...

        var chapters = tumHadisler.find('div.chapter');
        var index = 0;

        chapters.each(function () {

            var Page = new Page();

            ...

            book.Pages[index] = Page;

            index++;
        });
    } 
```

另一种选择是`thisPages`在`setBook`方法中重置，这也可以解决问题 - 例如，

```
function setBook(book, html) {
   thisPages = [];   // we are creating new array here that will be used for current book
   var con = $(html); //Context
   ... 
```

我不确定你的编码风格和代码组织，所以选择一个适合你的。

# sql-server-2008 - 如何每天/每周更新 SQL 2008 中的表

> ID：14210599
> 
> 赞同：1
> 
> 时间：2013-01-08T08:01:33.303
> 
> 标签：sql-server-2008

我编写了一个查询以从 SOL 2008 标准版中获取一些数据，并且我想每天/每周将数据插入到表中。

如何做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:04:30.290

您可以根据需要创建每天或每周运行的 SQL 作业。[MS SQL Server 作业](http://msdn.microsoft.com/en-us/library/ms187910.aspx)

# asp.net-mvc-3 - uploadify 在 iis 或服务器上不起作用

> ID：14210603
> 
> 赞同：0
> 
> 时间：2013-01-08T08:02:02.477
> 
> 标签：asp.net-mvc-3, file-upload, uploadify

我正在使用[uploadify](http://www.uploadify.com/)在服务器上上传多个...

下面是我的 html 标记

```
<%using (Html.BeginForm("MultiUpload", "Home", FormMethod.Post))
  { %>
    <div id="InterestingDiv">
    <a href="javascript:$('#fileInput1').uploadifyUpload();" class="uploadLink" title="Click to Upload Files">Upload Files</a>
    <input id="fileInput1" name="File" type="file" />
    </div>
<%}%> 
```

以及我如何声明脚本...

```
<link href="<%:Url.Content("~/Content/themes/base/jquery.ui.all.css") %>" rel="stylesheet" type="text/css" />
<link href="<%:Url.Content("~/jquery.uploadify-v2.1.4/uploadify.css") %>" rel="stylesheet" type="text/css" />
<script src="<%:Url.Content("~/jquery.uploadify-v2.1.4/jquery-1.4.2.min.js") %>" type="text/javascript"></script>
<script src="<%:Url.Content("~/jquery.uploadify-v2.1.4/swfobject.js") %>" type="text/javascript"></script>
<script src="<%:Url.Content("~/jquery.uploadify-v2.1.4/jquery.uploadify.v2.1.4.js") %>" type="text/javascript"></script>

  <script type="text/javascript">
        $(document).ready(function () {

            $("#fileInput1").uploadify({
                'uploader': '<%:Url.Content("~/jquery.uploadify-v2.1.4/uploadify.swf")%>',
                'script': '<%: Url.Action("MultiUpload") %>',
                'auto': false,
                'multi': true,
                'expressInstall': '<%:Url.Content("~/jquery.uploadify-v2.1.4/expressInstall.swf")%>',
                'cancelImg': '<%: Url.Content("~/jquery.uploadify-v2.1.4/cancel.png") %>',
                'scriptAccess': 'always',
                'buttonText': 'Browse Files...',
                'hideButton': false,
                'folder': '<%:Url.Content("~/Content/") %>',
                'fileDesc': 'Excel Files',
                'fileExt': '*.xlsx',
                'fileDataName': 'File',
                'sizeLimit': 1000000000,
                onError: function (a, b, c, d) {
                    if (d.status == 404)
                        alert("Could not find upload script. Use a path relative to: " + "<?= getcwd() ?>");
                    else if (d.type === "HTTP")
                        alert("error " + d.type + ": " + d.status);
                    else if (d.type === "File Size")
                        alert(c.name + " " + d.type + " Limit: " + Math.round(d.sizeLimit / 1024) + "KB");
                    else
                        alert("error " + d.type + ": " + d.text);
                }  
            });
        });
    </script> 
```

下面是我的控制器代码...

```
public ActionResult MultiUpload(HttpPostedFileBase File)
{
     //handle file here
     return Json(new { status = true });
} 
```

我的代码在开发环境中成功运行，但是一旦我将它部署在 iis7 上，无论是本地 iis 还是服务器 iis，它都没有达到我的 MultiUpload 操作...

我只是想实现多个文件选择和上传...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T14:01:16.973

您必须在 IIS 中授予文件夹权限，右键单击要上传文件的文件夹转到属性，然后在“安全”选项卡中，您必须授予 IISusers 和网络用户完全权限，否则您将不会可以上传文件

# iphone - Objective C 中的时间间隔动作

> ID：14210604
> 
> 赞同：3
> 
> 时间：2013-01-08T08:02:04.583
> 
> 标签：iphone, objective-c

在我的 iPhone 应用程序中，从我想打印 NSLog(@"Refreshed"); 的视图之一 在所有 1 分钟的时间间隔内。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-08T08:07:25.583

`NSTimer`像下面这样使用：-

在**.h**类中定义 NSTimer

> NSTimer *TimeOfActiveUser;

**米**_

 **```
- (void)viewWillAppear:(BOOL)animated
{

 TimeOfActiveUser = [NSTimer scheduledTimerWithTimeInterval:60.0  target:self selector:@selector(actionTimer) userInfo:nil repeats:YES];
}

-(void)actionTimer
{

   //Print your log

} 
```

**如果您想停止 NSTIMER..？设置另一个动作，例如**

```
-(void)stopTimer
{

    [TimeOfActiveUser invalidate];
    TimeOfActiveUser = nil;

} 
```

希望它对你有帮助，我的朋友.. 快乐编码 :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:06:19.310

用于`NSTimer`_`viewDidLoad`

例子

```
NSTimer *t = [NSTimer scheduledTimerWithTimeInterval: 2.0
                      target: self
                      selector:@selector(onTick:)
                      userInfo: nil repeats:YES]; 
```

希望对你有帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:03:49.557

使用 NStimer 方法给出时间间隔来解决这个问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T10:39:59.757

用这个

```
 // enable timer after each 2 seconds for scrolling.
    obj = [ATPausableTimer scheduledTimerWithTimeInterval:delay target:self selector:@selector(scrollingTimer) userInfo:nil repeats:YES];

- (void)scrollingTimer {

    NSLog(@"Refreshed");
} 
```**

# javascript - 调用基原型函数

> ID：14210605
> 
> 赞同：0
> 
> 时间：2013-01-08T08:02:18.380
> 
> 标签：javascript, inheritance, prototypejs, polymorphism

我有以下两个对象：

```
function circle(radius){
    this.radius = radius;    
    this.foo = function (){
        return "circle foo";};    
    return true;}

function pizza(){
    this.foo = function (){
        return "pizza foo";};
    return true;}

pizza.prototype = new circle(9); 
```

当我执行以下操作时

```
var foo = myPizza.foo(); 
```

它按预期打印以下内容：

> 比萨饼

如何激活基类并从`myPizza`对象打印“circle foo”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:05:18.753

```
pizza.prototype.foo.call(myPizza);   // outputs "circle foo" 
```

# mysql - Mysql从2行中选择记录

> ID：14210608
> 
> 赞同：0
> 
> 时间：2013-01-08T08:02:38.597
> 
> 标签：mysql, select

我有一张表，其中包含一些类似的数据。这是问答脚本的示例。ID 是自动递增的，如果 PID=0 则为问题，当回复任何问题时，PID 设置为问题的 ID。没有回复主题。

```
ID    PID    SUBJECT                CONTENT                   DATE
1      0     First Question         This is my first          09/01/2013
2      0     Second Question        This is second            09/01/2013
3      1                            Yes this is first         09/01/2013
4      2                            I agree this is second    10/01/2013
5      0     Third Question         This is third question    11/01/2013
6      1                            Reply to first            11/01/2013
7      1                            Another reply to first    12/01/2013
8      5                            This is reply of 5th      13/01/2013
9      2                            Last try for second       14/01/2013 
```

我的问题是，

如何选择具有回复计数的问题？

```
Ex.
First Question (3)
Second Question (2)
Third Question (1) 
```

如何选择今天已回答的问题或答案？

```
Ex. For 09/01/2013
First Question (2) ---> 1 question and 1 answer but 2 actions
Second Question (1) ---> just 1 question 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:20:19.183

选择问题并加入答案：

```
select q.id, q.subject, count(a.id)
from yourtable q
left join yourtable a on q.id=a.pid
where q.pid=0
group by q.id; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:13:03.817

对于问题 1

```
select PID,count(*) from table
where pid<>0 
group by PID 
```

对于问题 2

```
select PID,count(*) from table
where pid<>0 and date=current_date()
group by PID 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:26:14.897

尝试加入第一个任务

```
SELECT 
    q.id as ID,
    q.pid as PID,
    q.subject as SUBJECT,
    COUNT(lq.id) as Total
FROM questions as q
LEFT JOIN questions as lq ON lq.pid = q.ID
WHERE q.PID = 0
GROUP BY q.id 
```

输出

```
ID  PID     SUBJECT             TOTAL
1   0       First Question      3
2   0       Second Question     2
5   0       Third Question      1 
```

[演示](http://sqlfiddle.com/#!2/3fa73/22)

编辑：
对于第二部分。您应该注意，可以有许多其他方法来完成相同的任务。

```
SELECT 
    q.id as ID,
    q.pid as PID,
    q.subject as SUBJECT,
    (COUNT(lq.id) - 1) as Total,
    q.date
FROM questions as q
LEFT JOIN questions as lq ON lq.pid = q.ID OR lq.id = q.PID
WHERE q.date = DATE(NOW()) 
```

输出

```
ID  PID     SUBJECT             TOTAL   DATE
1   0       First Question      2       January, 09 2012 00:00:00+0000
2   0       Second Question     1       January, 09 2012 00:00:00+0000 
```

[演示](http://sqlfiddle.com/#!2/3fa73/19)

# php - 2013 年 2 月 6 日 Facebook 重大变更后，如何在朋友的墙上发布邀请？

> ID：14210609
> 
> 赞同：1
> 
> 时间：2013-01-08T08:02:38.463
> 
> 标签：php, facebook

首先，我实际上花了很多时间来寻找答案，但我仍然找不到合适的解决方案，所以我决定在这里发布一个问题，希望至少有人能给我......一些提示。

我的问题是：

根据[Facebook 路线图](https://developers.facebook.com/roadmap/#february-2013)，“删除通过 Graph API 向朋友墙发帖的能力”发生了变化，这影响了我目前正在为我的公司工作的邀请者项目。现在，我不能在朋友的墙上发布邀请，这将使我们的应用程序完全无用。

我试图找出以下两种解决方案：

*   使用 Facebook Graph API 在我的墙上发布一个提要，并在该提要上标记我想邀请的朋友。该解决方案运行良好，但会在墙上发布数千个提要，效果不佳。
*   使用 Facebook Chat XMPP，我仍然无法使其正常工作。但是通过使用它，我们的应用程序可能会因为垃圾邮件而被 Facebook 禁止。

我的问题是：除了上面的2个解决方案，还有没有更好的方法在朋友的墙上发布邀请？

如果没有其他解决方案，谁能告诉我如何使用 GraphAPI 发布从时间线隐藏的提要？（对于不受邀请源污染的时间线）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T11:35:47.913

> 现在，我不能在朋友的墙上发布邀请，这将使我们的应用程序完全无用。

也许你不应该首先为了邀请人们而“发送垃圾邮件”墙......现在这个漏洞正在被关闭。

*请求/邀请*是您应该用于此类内容的机制：[https ://developers.facebook.com/docs/requests/](https://developers.facebook.com/docs/requests/)

# gcc - 将函数参数绑定到特定寄存器

> ID：14210614
> 
> 赞同：0
> 
> 时间：2013-01-08T08:03:06.253
> 
> 标签：gcc, function-calls

我可以制作一个**gcc**将特定函数（**C**或**C++**）参数放置到特定寄存器吗？我想定义一些裸代码使用的函数原型，它利用这个寄存器，比如说，作为基础。我的意思是[这样](http://gcc.gnu.org/onlinedocs/gcc/Local-Reg-Vars.html)的，但针对函数参数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:19:11.847

您不能要求将特定的函数参数放在给定的寄存器中。这是因为函数参数传递给函数的方式是由 ABI 为您的架构定义的。例如，在 x86-64 上，前 6 个（整数）参数在寄存器`%rdi`、`%rsi`、`%rdx`、`%rcx`、`%r8`和中传递`%r9`。

正如您所指出的，您可以做的是使用[本地寄存器 vars](http://gcc.gnu.org/onlinedocs/gcc/Local-Reg-Vars.html)将特定的局部变量分配给寄存器，然后将参数复制到该局部变量中。这应该会导致参数被复制到该寄存器中。

也就是说，你为什么还要这个？

# iphone - 我们可以在 UITabBarController 上使用 UINavigationController 动画吗

> ID：14210615
> 
> 赞同：1
> 
> 时间：2013-01-08T08:03:12.727
> 
> 标签：iphone, ios

我正在使用`UITabBarController`它，以便一旦在 中声明它就可以显示在所有视图上`delegate`，但我的要求是，当单击任何选项卡栏按钮时，它应该像按钮一样工作`pushViewController`：。有没有可能，谁能指导一下。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:19:14.217

*   你可以创建一个`UINavigationController`隐藏工具栏的。
*   然后创建一个`toolbar or custom view`底部的根视图控制器并在其上添加按钮。
*   将目标添加到`push view controllers`您想要的按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:22:39.857

这不是典型的行为，但是您可以尝试如下：

为您的 UITabBar 声明一个委托 (UITabBarDelegate)，并实现该方法`-(void)tabBar:(UITabBar *)tabBar didSelectItem:(UITabBarItem *)item`以获取用户选择选项卡的通知。在这种方法中，您将在导航控制器的堆栈中推送一个新的视图控制器（或弹出一个不需要的视图控制器）。

根据您的需要，您可能还需要手动设置当前选择的标签栏项目。为此，您可以操作标签栏的`@property(nonatomic) NSUInteger selectedIndex`. 请注意，更改此属性将触发另一个`tabBar:didSelectItem:`可能需要也可能不需要的调用。

# iphone - iPhone App 发布到应用商店时的浮点计算。

> ID：14210621
> 
> 赞同：1
> 
> 时间：2013-01-08T08:03:30.583
> 
> 标签：iphone, ios, app-store, nsmanagedobject

上周我发布了我的第一个单独的 iPhone 应用程序，它可以计算[12V 船用和船用电池的使用情况](http://www.boatbatteryapp.co.uk)。我在模拟器和我的 iPhone 上对它进行了激烈的测试，当我觉得一切都很好时，我将应用程序存档并将其发布给 Apple。当用户开始使用该应用程序时，他们注意到计算没有按预期工作。下面的代码是 NSManagedObject 模型上的一种方法，在发布到调试时会产生不同的输出。

下面应该总结相关 Discharge 项目的总数 - 但如果没有 BBDischarge 项目，那么它应该返回零。相反，当没有项目时（因此 for 循环不会触发），它会返回一个数字，该数字是国内AH 的直接乘积（一个 NSNumber）。如果我将国内AH设置为100，下面的放电AH返回8，如果将国内AH设置为1000，则返回83（浮点数显示时四舍五入）。再次强调，在模拟器上运行或直接放在我的 iPhone 4s 上时，以下内容可以正常工作，只有在通过应用商店发布时，它才会搞砸。

```
//Other dynamics hidden for simplicity
@dynamic domesticAH;
@dynamic voltage;
@dynamic profileDischarge;

-(NSNumber*) dischargeAmpH
{

    float totalWattsPD;

    //Calculate the watts per day so we can accurately calculate the percentage of each item line
    for(BBDischarge* currentDischarge in self.profileDischarge)
    {
        float totalWatt = [currentDischarge.wattage floatValue] ;
        float totalMinsPD = [currentDischarge.minutesPD floatValue]/60;
        float totaltimesUsed = [currentDischarge.timesUsed floatValue];
        float numberInOperation = [currentDischarge.number floatValue];
        totalWattsPD = totalWattsPD + ((totalWatt * totalMinsPD) * (totaltimesUsed * numberInOperation));
    }

    int voltage = ([self.voltage integerValue] + 1) * 12;

    float totalAmpsPD = totalWattsPD / voltage;

    return [NSNumber numberWithFloat:totalAmpsPD];

} 
```

如您所见，self.domesticAH 在任何地方都没有出现在该方法中，并且由于我无法在模拟器中重新创建它，因此我很难追踪它。

几个问题：

*   我可以调试我的应用程序的实时版本吗？将 XCode 附加到我正在运行的、App Store 下载的应用程序实例？
*   有没有一种方法可以模拟存档中的安装 - 有人会推荐临时分发来执行此操作吗？我还没有使用 ad hoc。
*   任何其他想法为什么这可能会以这种方式表现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T08:23:20.737

与其说是答案，不如说是一个提示。但是，正如我在评论中已经说过的那样：您可以检查 Release 和 Debug 版本之间的不同行为。

这种不同的“行为”在过去已经看到过。由“优化级别”设置给出。Debug 版本设置为 None [-O0]，而 Release 版本设置为 Fastest, Smallest [-Os]。

[这里](https://github.com/pokeb/asi-http-request/issues/341)是一个例子..[这里](http://www.mindjuice.net/2011/11/30/how-to-fix-an-app-that-crashes-in-release-but-not-debug/)是另一个..

# javascript - 从 .ascx 中的 javascript 调用 .ascx 的 vb.net 函数

> ID：14210627
> 
> 赞同：1
> 
> 时间：2013-01-08T08:04:13.793
> 
> 标签：javascript, vb.net

我有一个我想从 javascript 调用的 vb.net 函数，它们都在 .ascx 中。在这段代码中，我使用 jquery 来弹出一个对话框，然后单击对话框上的按钮（btnok），我想调用一个函数 loadgraph()，它是一个 vb.net 函数。

```
<link href="css/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="javascript/jquery-1.8.3.js" type="text/javascript"></script>

<script src="javascript/jquery.bgiframe-2.1.2.js" type="text/javascript"></script>
<link href="css/demos.css" rel="stylesheet" type="text/css" />
<script src="javascript/jquery-ui.js" type="text/javascript"></script>

<script>
    // increase the default animation speed to exaggerate the effect
    $.fx.speeds._default = 1000;

    $(function() {
        $( "#element_to_pop_up" ).dialog({
            autoOpen: false,
            show: "blind",
            hide: "explode"
        });

        $( "#button" ).click(function() {
            $( "#element_to_pop_up" ).dialog( "open" );
            return false;
        });

         $( "#btnok" ).click(function(){
          $( "#element_to_pop_up" ).dialog( "close" );
             $.ajax({
  type: "POST",
  url: "Schart.ascx/loadgraph",
  data: "{}",
  contentType: "application/json; charset=utf-8",
  dataType: "json",
  success: function(msg) {
    // Do something interesting here.
    alert("called")
  }
});
          return false;
         });
    });
    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T09:12:44.283

您尝试使用的称为[PageMethods](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/) - 但是，页面方法代码（静态方法）必须是某些页面（aspx）代码的一部分。您不能将页面方法代码放在后面的用户控件 (ascx) 代码中。
我怀疑这个限制的原因是 url 结尾`.ascx`不是用于客户端消费（你会得到 404）——它们纯粹是为了服务器端操作。

对你来说，简单的解决方案是将页面（aspx）代码中的相关方法移到后面并更改url，例如`"Schart.aspx/loadgraph"`。您始终可以将所有代码保留在 ascx 文件中，并从虚拟页面方法代码中调用它，从而将相关的 UI 和代码保留在 ascx 文件中。

# opengl - 纹理加载 | 错误的颜色

> ID：14210629
> 
> 赞同：-1
> 
> 时间：2013-01-08T08:04:19.827
> 
> 标签：opengl

通过使用纹理图像，我在场景中创建了对象。但有个问题 ; 它的颜色不是蓝色，而是绿色。该错误的可能原因是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:17:43.850

尝试`GL_BGR`改用。

```
glTexImage2D(GL_TEXTURE_2D, 0, 3, width, height, 0, GL_BGR, GL_UNSIGNED_BYTE, data); 
```

# mysql - 需要在两个表上写查询

> ID：14210630
> 
> 赞同：0
> 
> 时间：2013-01-08T08:04:21.603
> 
> 标签：mysql

我有两张桌子

```
Member (member_id,...)
friend-requests(member_id, friend_id) 
```

我需要从 member_id 为 19 且不在列friend_id 中的成员表中获取所有记录

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:11:30.000

```
select * from member join friend-requests
on member.member_id=friend_requests.member_id
where
member.member_id=19
and
not exists (select f.member_id from friend-requests f where f.mmeber_id = member.member_id) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:10:21.263

```
Select m.* from Member as m 
where member_id=19 and 
member_id not in (select friend_id from friend_requests where member_id=19) 
```

# windows - 无法在 freesshd 服务器上发出任何命令

> ID：14210637
> 
> 赞同：-1
> 
> 时间：2013-01-08T08:04:33.407
> 
> 标签：windows, ssh, putty

我在我的机器上安装了`FreeSSHd`服务器。`Windows XP`然后我启动了 FreeSSHd 并创建了一个用户。之后我跑去`Putty`连接我新安装的 SSH 服务器。我在 putty 中输入了我创建的用户名和密码。我成功登录，但我无法使用 putty 执行任何 SSH 命令。只有`HELP`和`DIR`命令才能正确回答。其他 SSH 命令如`LS`,`PWD`等返回错误消息如 " `xxx command is an unknown command and can not be executed.`"。
我的问题很简单。如何通过服务器上的服务器执行`SSH`命令。我想模拟一个文件副本。我想我应该执行或命令，但我无法成功。 有任何想法吗？`Putty``FreeSSHd``Windows machine``SCP``PUT`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-27T18:21:11.107

像“ls”和“pwd”这样的命令不是“ssh 命令”，它们是*Unix*命令。您希望它们可以在 Unix 系统（包括 Linux）上使用。MS Windows 不是 Unix 系统，也不提供这些命令。

如果您愿意，可以将这些程序安装为第三方软件。[Cygwin](https://www.cygwin.com/)是一个流行的免费软件包。

# java - 在 JSF 2.1.16 中的保存方法之前调用 ViewScoped 构造函数

> ID：14210639
> 
> 赞同：0
> 
> 时间：2013-01-08T08:04:38.677
> 
> 标签：java, jsf-2, mojarra

与我的 JSF 应用程序相关，我注意到**Mojarra JSF 2.1.16**库存在问题。我有一个`ViewScoped`bean，它从作为 ViewParam 的登录中加载用户。之后，可以管理和保存加载的用户数据。下面是视图代码，我已经跳过了主要的表单字段，因为我已经测试过它们没有问题。

```
 <ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:c="http://java.sun.com/jsp/jstl/core"
xmlns:p="http://primefaces.org/ui"
template="/templates/general_template.xhtml">

<ui:define name="metadata">
    <f:metadata>
        <f:viewParam id="user" name="user"
            value="#{manager._ParamUser}" />
        <f:event type="preRenderView"
            listener="#{manager.initialize}" />
    </f:metadata>
</ui:define>

<ui:define name="general_content">
    <p:outputPanel autoUpdate="false" id="loggedData" name="loggedData"
        layout="block">
        <h:form id="SystemUserForm">

            <h:panelGrid columns="4" cellspacing="10px" style="border-color:red;">
                <h:outputText value="#{msg.LOGIN}:" />
                <h:outputText value="#{manager._UserBean._login}" />
            </h:panelGrid>
            <p:commandButton value="#{msg.UPDATE}" action="#{manager.actionSave}"
    ajax="false" />

            <p:commandButton value="#{msg.CANCEL}"
    action="#{manager.actionCancelSave}" ajax="false" />
        </h:form>
    </p:outputPanel>
</ui:define> 
```

在开始创建 bean 并使用接收到的参数从数据库加载用户本身。当我调用 action 方法来保存它时，问题就来了，因为`ViewScoped`调用的 bean`manager`正在再次构造。所以没有参数，我有一个**空指针 Exception**。这适用于**Mojarra 2.1.14**和**2.1.15**。

支持 bean 代码：

```
@ManagedBean
@ViewScoped
public class Manager extends UserData {

public static final String PARAM_USER = "ParamUser";

private String _ParamUser;

public String get_ParamUser() {
    return this._ParamUser;
}

public void set_ParamUser(String _ParamUser) {
    this._ParamUser = _ParamUser;
}

public Manager() {
    super();
}

@Override
public void initialize(ComponentSystemEvent event) {
    if (!FacesContext.getCurrentInstance().isPostback()) {
        loadUserBean(this._ParamUser);
        if (this._UserBean == null) {
            redirectTo404();
        }
    }
}

@Override
public String actionSave() {
    super.actionSave();
    return NavigationResults.USER_LIST;
} 
```

`UserData`当然，是一个抽象类。当`actionSave()`被调用 bean 被再次构造并且没有`_ParamUser`属性，因为这是通过**viewParam**获得的。构造函数召回只发生在 Mojarra 2.1.6 中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:07:24.647

这个问题已经在 Mojarra **JSF 2.1.17**中得到解决，经过尝试和测试。**Mojarra JSF 2.1.16**和**Tomcat 6**可能有问题。但是，我还没有发现该版本的任何[已知问题](http://javaserverfaces.java.net/nonav/rlnotes/2.1.16/issues.html)。

# c# - HTML Agilty 包和字符串解析？

> ID：14210646
> 
> 赞同：1
> 
> 时间：2013-01-08T08:05:06.527
> 
> 标签：c#, html-agility-pack

我有这样的 html 字符串（雅虎 xml 描述元素）

```
<img src="http://l.yimg.com/a/i/us/we/52/26.gif"/><br /> 
<b>Current Conditions:</b><br /> Cloudy, 1 C<BR /> <BR />
<b>Forecast:</b><BR /> Mon - Snow. High: -5 Low: -14<br /> Tue - Light Snow. High: -8 Low: -16<br /> <br /> 
.... 
```

我只想获得高值和低值（例如：-5、-14、-8、-16）

我尝试像这样使用 htmlAgilityPack：

```
HtmlDocument htmlDoc = new HtmlDocument();
htmlDoc.LoadHtml(rssDescriptionElement);
List<string> elements = new List<string>();

foreach (HtmlNode element in htmlDoc.DocumentNode.SelectNodes("//br"))
{
    elements.Add(element.NextSibling.InnerText);
} 
```

`elements`上面 htmlString 的列表输出：

```
"\n"
"\nCloudy, 1 C"
"\n"
"Forecast:"
"\nMon - Snow. High: -5 Low: -14"
"\nTue - Light Snow. High: -8 Low: -16"
"\n"
"\n"
""
"\n(provided by "
"\n" 
```

如何从此列表中仅获取高值和低值（-5、-14、-8、-16）或其他不同的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:10:45.070

使用正则表达式：

```
(?:High|Low)\s*:\s*(?<num>-?\d+) 
```

并获得名为`num`. 示例代码：

```
List<string> elements = new List<string>();
var pattern = @"(?:High|Low)\s*:\s*(?<num>-?\d+)";

foreach (HtmlNode element in htmlDoc.DocumentNode.SelectNodes("//br"))
{
    foreach(Match mc in Regex.Matches(element.NextSibling.InnerText, pattern))
    {
        elements.Add(mc.Groups["num"].ToString());
    }
} 
```

# javascript - Jquery：首先选择每个无序列表的列表项

> ID：14210648
> 
> 赞同：1
> 
> 时间：2013-01-08T08:05:08.343
> 
> 标签：javascript, jquery, jquery-ui

我是 jQuery 的新手。我想在单个 jquery 语句中选择每个无序列表（ul）的前三个列表项（li）。我正在使用以下代码 -

```
 <div>
First Unordered List  :
    <ul>
        <li>First Ul li1 want to select</li>
        <li>First Ul li2 want to select</li>
        <li>First Ul li3 want to select</li>
        <li>First Ul li4</li>
        <li>First Ul li5</li>
        <li>First Ul li6</li>
    </ul>
    Second Unordered List
     <ul>
        <li>Second Ul li1 want to select</li>
        <li>Second Ul li2 want to select</li>
        <li>Second Ul li3 want to select</li>
        <li>Second Ul li4</li>
        <li>Second Ul li5</li>
        <li>Second Ul li6</li>
    </ul>
</div> 
```

这里的无序列表可能超过两个。

提前致谢..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:08:29.893

您可以使用`:lt`选择器+`find`方法。

```
$('ul').find('li:lt(3)'); 
```

[http://jsfiddle.net/w4EgP/](http://jsfiddle.net/w4EgP/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-03-24T12:12:44.590

这工作正常。

```
 $('ul').find('li:lt(3)'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:08:53.230

使用[:lt](http://api.jquery.com/lt-selector/)选择器和`each`函数来遍历你`<ul>`并获得前三个`<li>`

```
$("div > ul").each(function(){
 console.log($(this).find('li:lt(3)'));
}) 
```

在这里[摆弄](http://jsfiddle.net/KDptc/2/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T08:10:43.790

您可以使用以下代码。

```
$("div > ul").find("li:lt(3)").each(function(index, value)
  {
$(this).css('color','Red');
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-08T09:27:24.400

有一个原生 CSS3 选择器，它*可以*比使用更有效地一次性获取所需的元素`:lt`

```
ul > li:not(:nth-child(n + 4)) 
```

见[http://jsfiddle.net/alnitak/kS7q5/](http://jsfiddle.net/alnitak/kS7q5/)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-01-08T08:15:08.920

完整代码如下。

```
<script src="js/jquery.js"></script>
<script type="text/javascript">
$(document).ready(function(){

    var unorder_list = $('div>ul');
    unorder_list.each(function(){
        $(this).find("li:lt(3)").css('color','red');

    });
});
</script>
<body>
<div>
First Unordered List  :
    <ul>
        <li>First Ul li1 want to select</li>
        <li>First Ul li2 want to select</li>
        <li>First Ul li3 want to select</li>
        <li>First Ul li4</li>
        <li>First Ul li5</li>
        <li>First Ul li6</li>
    </ul>
    Second Unordered List
     <ul>
        <li>Second Ul li1 want to select</li>
        <li>Second Ul li2 want to select</li>
        <li>Second Ul li3 want to select</li>
        <li>Second Ul li4</li>
        <li>Second Ul li5</li>
        <li>Second Ul li6</li>
    </ul>
</div>
</body>
```

# c# - 使用 C# 的窗口 CE5.0 应用程序

> ID：14210652
> 
> 赞同：0
> 
> 时间：2013-01-08T08:05:27.147
> 
> 标签：c#, windows-ce

我是 Windows CE 应用程序开发的新手。我熟悉 C# 语言。我有网络应用程序开发经验，对智能设备应用程序开发知识零。

我安装了 Visual Studio 2008 Professional，目前使用的是 MySql 数据库。我需要在 MC 70 Windows Mobile 5.0 平台上开发一个应用程序，它允许扫描二维码，显示存储在二维码中的信息，并通过互联网将这些信息存储到数据库中。

根据我的研究，VS 2010 不支持window CE 应用程序，所以我下载了VS2008 专业版。

我的问题是：除了VS 2008 Pro和MySql数据库，还需要哪些兼容的配套软件？网上有很多资料如virtual PC7, emulator 3.0/5.0。

我的电脑是64位系统。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:23:34.527

实际上，为移动设备开发应用程序与在桌面上开发应用程序没有太大区别——只是紧凑框架在移动设备上不那么重要的领域中的功能较少。

根据我的经验 - 我每天都使用 .NET 为工业设备开发移动应用程序 - 最好*不要*使用模拟器，而是在设备本身上进行调试，这很容易使用 Visual Studio。第一步是将设备连接到您的系统，并确保每当您安装设备时，Windows Mobile 设备中心都会弹出，您可以浏览设备的文件系统。

为了与数据库通信，我建议您开发两件事：1) 移动软件，它（例如通过 WCF 或 TCP/IP）与 2) 执行数据库工作的服务进行通信。

**附加说明**
Visual Studio 2010 有一个版本（“手机版”），但它旨在为 Windows Phone 操作系统开发软件。在使用 Visual Studio 2008 时，您实际上是安全的。

当然，您需要确保下载并安装制造商为相应移动设备提供的 SDK。对于 MC 70，这就是所谓的*EMDK*，可以从摩托罗拉网站免费下载。

# php - PHP PDO：存储过程返回空结果

> ID：14210654
> 
> 赞同：3
> 
> 时间：2013-01-08T08:05:32.950
> 
> 标签：php, mysql, stored-procedures, pdo

我正在尝试使用 PDO 调用 SP（存储过程）。

```
try {
    // Connecting using the PDO object.
    $conn = new PDO("mysql:host=$host; dbname=$dbname", $user, $password);        

    $stmt = $conn->prepare('CALL sp_user(?,?,@user_id,@product_id)');    
    $stmt->execute(array("demouser", "demoproduct"));
    $result = $stmt->fetchAll();
    print_r($result);
}
// Catching it if something went wrong.
catch(PDOException $e) {
  echo "Error : ".$e->getMessage();
} 
```

SP 执行成功并将数据插入到相关表中，并假设返回新插入的 id。但是当我打印结果时，我得到一个空数组。

有什么建议吗？

以下是我正在使用的 SP：

```
DELIMITER $$
DROP PROCEDURE IF EXISTS `test`.`sp_user`$$
CREATE PROCEDURE `sp_user`(
    IN user_name VARCHAR(255),
    IN product_name VARCHAR(255),
    OUT user_id INT(11),
    OUT product_id INT(11)
)
BEGIN       
    START TRANSACTION;      
        INSERT INTO `user` (`name`) VALUES(user_name);
        SET user_id := LAST_INSERT_ID();        
        INSERT INTO `product` (`name`) VALUES(product_name);        
        SET product_id := LAST_INSERT_ID();         
        INSERT INTO `map_user_product` (`user_id`,`product_id`) VALUES(user_id,product_id); 
    commit;
END$$
DELIMITER ; 
```

**编辑：**没关系。

我认为通过使用 $result 变量，我将能够获取 OUT 变量的值。但后来我发现我需要使用另一个 SQL 查询来获取这些变量。

```
$stmt = $conn->query("SELECT @user_id,@product_id"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-28T21:34:53.880

尝试这个...

```
try 
{
    // Connecting using the PDO object.
    $conn = new PDO("mysql:host=$host; dbname=$dbname", $user, $password);        

    $stmt = $conn->prepare('CALL sp_user(:demouser, :demoproduct, @user_id, @product_id)'); 

    $demouser = "demouser";
    $demoproduct = "demoproduct";

    $stmt->bindParam(":demouser", $demouser, PDO::PARAM_STR, 255);
    $stmt->bindParam(":demoproduct", $demoproduct, PDO::PARAM_STR, 255);
    $stmt->execute();

    $result = $conn->query("select @user_id, @product_id;")->fetchAll();

    print_r($result);

    foreach($result as $row)
    {
        echo $row["@user_id"];
        echo $row["@product_id"];
    }

}
// Catching it if something went wrong.
catch(PDOException $e) 
{
  echo "Error : ".$e->getMessage();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-27T11:28:04.120

尝试这个

```
DELIMITER $$
DROP PROCEDURE IF EXISTS `test`.`sp_user`$$
CREATE PROCEDURE `sp_user`(
    IN user_name VARCHAR(255),
    IN product_name VARCHAR(255)
)
BEGIN       
    START TRANSACTION;      
        INSERT INTO `user` (`name`) VALUES(user_name);
        SET user_id := LAST_INSERT_ID();        
        INSERT INTO `product` (`name`) VALUES(product_name);        
        SET product_id := LAST_INSERT_ID();         
        INSERT INTO `map_user_product` (`user_id`,`product_id`) VALUES(user_id,product_id); 
    commit;

    SELECT user_id, product_id;

END$$
DELIMITER ; 
```

在 PHP 中

```
$result = $conn->query("CALL sp_user(demouser, demoproduct)")->fetchAll();
var_dump($result); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:13:36.677

您可以使用以下方法获取最后插入的 id：`PDO::lastInsertId();`

我认为您目前正在从 中返回数组`fetchAll`，我认为其中不包括 id： http: [//php.net/manual/en/pdostatement.fetchall.php](http://php.net/manual/en/pdostatement.fetchall.php)

# ruby - Ruby CSV，使用方括号作为行分隔符

> ID：14210655
> 
> 赞同：3
> 
> 时间：2013-01-08T08:05:42.017
> 
> 标签：ruby, csv, fastercsv

我正在尝试使用方括号“[]”作为 CSV 文件中的行分隔符。我必须为这个项目使用这种精确的格式（输出需要与 LEDES98 法律发票格式完全匹配）。

我正在尝试这样做：

```
CSV.open('output.txt', 'w', col_sep: '|', row_sep: '[]') do |csv|
     #Do Stuff
end 
```

但是 Ruby 不会接受`row_sep: '[]'`并抛出这个错误：

```
lib/ruby/1.9.1/csv.rb:2309:in `initialize': empty char-class: /[]\z/ (RegexpError) 
```

我试过用 /'s 转义字符，使用双引号等，但没有任何效果。这样做的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T23:21:40.450

问题`CSV#encode_re`出在：参数`row_sep: "|[]\n"`被转换为正则表达式。

什么可以重新定义这种方法：

```
class CSV
  def encode_re(*chunks)
    encode_str(*chunks)
  end
end
CSV.open('output.txt', 'w', col_sep: '|', row_sep: "|[]\n"
  ) do |csv|
   csv << [1,2,3]
   csv << [4,5,6]
end 
```

结果是：

```
1|2|3|[]
4|5|6|[] 
```

我发现没有副作用，但我觉得重新定义 CSV 不太舒服，所以我建议创建一个新的 CSV 变体：

```
#Class to create LEDES98
class LEDES_CSV < CSV
  def encode_re(*chunks)
    encode_str(*chunks)
  end
end
LEDES_CSV.open('output.txt', 'w', col_sep: '|', row_sep: "|[]\n"
  ) do |csv|
   csv << [1,2,3]
   csv << [4,5,6]
end 
```

然后您可以使用“原始”CSV，对于 LEDES 文件，您可以使用 LEDES_CSV。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T09:53:32.393

我刚试过

```
require 'csv'
#Create LEDES98
CSV.open('output.txt', 'w', col_sep: '|', row_sep: '[]') do |csv|
     csv << [1,2,3]
     csv << [4,5,6]
end 
```

我得到了

```
1|2|3[]4|5|6[] 
```

您使用哪个 csv/ruby 版本？我`CSV::VERSION`的是 2.4.7，我的 ruby​​ 版本是*1.9.2p290 (2011-07-09) [i386-mingw32]*。

另一句话：如果我查看[http://www.ledes.org/](http://www.ledes.org/)中的示例文件，那么您需要额外的换行符。我建议使用：

```
require 'csv'
#Create LEDES98
CSV.open('output.txt', 'w', col_sep: '|', row_sep: "[]\n") do |csv|
     csv << [1,2,3,nil]
     csv << [4,5,6,nil]
end 
```

结果：

```
1|2|3|[]
4|5|6|[] 
```

额外的 nil 为您提供`|`[] 之前的最后一个。

* * *

我在另一台使用 ruby​​ 1.9.3p194 (2012-04-20) [i386-mingw32] 的计算机上进行了测试，得到了同样的错误。

我研究了一下，可以隔离问题：

```
p "[]"      #[]
p "\[\]"    #[]     <--- Problem
p "\\[\\]"  #\\[\\] 
```

你不能屏蔽`[`. 如果你屏蔽一次，Ruby 会生成`[`（没有屏蔽符号）。如果你屏蔽它两次，你只屏蔽\，而不是]。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T15:35:59.080

给定一个表单的输入字符串

```
s = "[cat][dog][horsey\nhorse]" 
```

你可以使用类似的东西

```
s.scan(/\[(.*?)\]/m).flatten 
```

它将`["cat", "dog", "horsey\nhorse"]`使用 CSV 模块返回并处理它。

# android - 如何增加 SeekBar 滚动触摸位置

> ID：14210662
> 
> 赞同：0
> 
> 时间：2013-01-08T08:06:19.783
> 
> 标签：android, scroll, seekbar

我有一个`seekbar`。通常当我们滚动时`seekbar` `setOnSeekBarChangeListener`会着火。现在我想当我们滚动屏幕上的任何地方时`setOnSeekBarChangeListener`都会着火（所以`seekbar`会滚动）。实际上我不知道如何做到这一点。所以任何人都可以帮助我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:50:26.907

将此覆盖方法用于 touchevent `

```
 @Override public boolean onTouch(View v, MotionEvent event) 
 {  
  int x = event.getX();  
  int y = event.getY();
  return true;  
 } 
```

现在，当您单击屏幕时，您将拥有 x 和 y 轴。假设您有 240px 宽度并且您在中心单击它而不是 x = 120。您可以将其分配给搜索栏。并使您的搜索栏最大值为宽度的最大值。或将 x=120 wrt 转换为 100，然后将其分配给搜索栏。

# class - 在类上声明@throws注解

> ID：14210663
> 
> 赞同：0
> 
> 时间：2013-01-08T08:06:32.387
> 
> 标签：class, scala, exception

关于[上一个问题](https://stackoverflow.com/questions/14209753/scala-problems-in-default-constructor-with-try-catch-block)，我可以将一个类声明为：

```
class XmlDemo extnds ICurrenciesModel @throws(classOf[NullPointerException]) 
```

这意味着继承自另一个用 Java 编写的类和注释它可以抛出异常

它对我不起作用，它与前面的问题有关。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:35:31.943

它适用于 Scala REPL：

```
trait ICurrenciesModel
class XmlDemo extends ICurrenciesModel @throws(classOf[NullPointerException]) 
```

你拼错了“扩展”，你所有的代码块，在这个问题和上一个问题中，都以相当奇怪的“`”结尾

这个问题可能会有所帮助：处理 Scala 对象构造函数[中的异常处理 Scala 对象构造函数中的异常](https://stackoverflow.com/questions/14114491/handling-exceptions-in-scala-object-constructors/14115105#14115105)

# xcode - 使用 monomac 的 FTP 上传

> ID：14210665
> 
> 赞同：0
> 
> 时间：2013-01-08T08:06:44.063
> 
> 标签：xcode, macos, cocoa, mono, monomac

是否可以使用 mono 开发工具和 monomac 项目编写将文件上传到 FTP 的程序？框架是否支持 FTP 上传，还是我必须发明一些非常复杂的东西，超出我的技能？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T02:10:09.943

**很多**选择。

Mono 本身（它的框架）包括`WebClient`（如 Lex 评论）和[FtpWebRequest](http://msdn.microsoft.com/en-us/library/system.net.ftpwebrequest.aspx)（和 FtpWebResponse）。一个已知的限制是不支持 FTP+SSL (ftps://)。这可能是最简单的选择，因为它不需要任何额外的依赖项，并且您会发现/google 很多使用这些类的代码示例。

如果这不符合您的需要（例如 SSL 支持），那么还有几个 .NET 库，商业或开源，支持 FTP（和其他协议）包含（或不包含）在基类库中。

MonoMac 提供与 OSX API 的绑定，包括许多网络类——但我从未见过（也没有真正看过）FTP**上传**的东西（但可以基于 URL 进行下载）。

最后，您可以创建（或查找）.NET 绑定到支持 FTP 的 Objective-C 库。有关 Objective-C 库的一些链接（您可以绑定），请参阅此相关[问题](https://stackoverflow.com/q/7022959/220643)。

# java - 在使用取消选项关闭 jconformation 对话框后停止执行代码

> ID：14210668
> 
> 赞同：0
> 
> 时间：2013-01-08T08:06:57.223
> 
> 标签：java

我正在尝试与用户确认一些消息，如果他说他确定编写的代码应该执行，但是如果他拒绝 jconformation 框，即使我取消或按否，代码也不应该在我的情况下执行，代码仍然会被执行并且数据被提交。我能做些什么来阻止这个我的代码在下面给出......

```
private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         
        if(evt.getSource()==jButton1){
                JOptionPane.showConfirmDialog(rootPane, "Are You Sure You Want to Submit This Data and Genertate a New Remittance Id!");

                DBUtil util = new DBUtil();
        try {

            Connection con = util.getConnection();
            PreparedStatement stmt = con.prepareStatement("INSERT INTO dbo.bk_det(rm_id,bk_name,bk_branch,bk_add,bk_ref,ref_dt) VALUES (?,?,?,?,?,?)");
            String rm = (tf_rm_id.getText().trim() == null || tf_rm_id.getText().equals("")) ? "0" : tf_rm_id.getText();
            Object bkn = (cb_bkname.getSelectedItem() == null || cb_bkname.getSelectedItem().equals("")) ? "NILL" : cb_bkname.getSelectedItem();
            Object bkbn = (cb_brname.getSelectedItem() == null || cb_brname.getSelectedItem().equals("")) ? "NILL" : cb_brname.getSelectedItem();
            Object bkpln = (cb_plname.getSelectedItem() == null || cb_plname.getSelectedItem().equals("")) ? "NILL" : cb_plname.getSelectedItem();
            String rf = (tb_bkref.getText().trim() == null || tb_bkref.getText().equals("")) ? "NILL" : tb_bkref.getText();
            String rfdt = (tf_refdt.getText().trim() == null || tf_refdt.getText().equals("")) ? "NILL" : tf_refdt.getText();
            stmt.setString(1, ""+(rm));
            stmt.setString(2, ""+(bkn));
            stmt.setString(3, ""+(bkbn));
            stmt.setString(4, ""+(bkpln));
            stmt.setString(5, ""+(rf));
            stmt.setString(6, ""+(rfdt));
            stmt.execute();

            PreparedStatement stmt2 = con.prepareStatement("INSERT INTO bk_rep(rm_id, br_name, br_desig, br_pf, dt_rep, mob) VALUES (?,?,?,?,?,?)");
            String rm1 = (tf_rm_id.getText().trim() == null || tf_rm_id.getText().equals("")) ? "0" : tf_rm_id.getText();
            String brn = (tfbrname.getText().trim() == null || tfbrname.getText().equals("")) ? "NILL" : tfbrname.getText();
            String brpf = (tf_brpf.getText().trim() == null || tf_brpf.getText().equals("")) ? "NILL" : tf_brpf.getText();
            String brdes = (tf_brdes.getText().trim() == null || tf_brdes.getText().equals("")) ? "NILL" : tf_brdes.getText();
            String brdtrep = (tf_rm_dt.getText().trim() == null || tf_rm_dt.getText().equals("")) ? "NILL" : tf_rm_dt.getText();
            String brmob = (tf_brmob.getText().trim() == null || tf_brmob.getText().equals("")) ? "NILL" : tf_brmob.getText();
            stmt2.setString(1, ""+(rm1));
            stmt2.setString(2, ""+(brn));
            stmt2.setString(3, ""+(brdes));
            stmt2.setString(4, ""+(brpf));
            stmt2.setString(5, ""+(brdtrep));
            stmt2.setString(6, ""+(brmob));

            stmt2.execute();

            PreparedStatement stmt3 = con.prepareStatement("INSERT INTO bk_sec([bs_name],[bs_desig],[rm_id],[dt_rep]) VALUES (?,?,?,?)");
            String rm2 = (tf_rm_id.getText().trim() == null || tf_rm_id.getText().equals("")) ? "0" : tf_rm_id.getText();
            String sn = (tfsname.getText().trim() == null || tfsname.getText().equals("")) ? "NILL" : tfsname.getText();
            String sdes = (tf_sdes.getText().trim() == null || tf_sdes.getText().equals("")) ? "NILL" : tf_sdes.getText();
            String bsdtrep = (tf_rm_dt.getText().trim() == null || tf_rm_dt.getText().equals("")) ? "NILL" : tf_rm_dt.getText();

            stmt3.setString(1, ""+(sn));
            stmt3.setString(2, ""+(sdes));
            stmt3.setString(3, ""+(rm2));
            stmt3.setString(4, ""+(bsdtrep));

            stmt3.execute();
            JOptionPane.showMessageDialog(null, "COMMITED SUCCESSFULLY!");
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(null, ex.getMessage());

        }   
        CalendarUtil cal=new CalendarUtil();
        tf_rm_id.setText(cal.getRemId());
        String datePrefix = new SimpleDateFormat("MMMM dd, YYYY").format(new Date());
        tf_rm_dt.setText(datePrefix); 
        tb_bkref.setText("");
        tf_refdt.setText("");
        tf_brpf.setText("");
        tf_brdes.setText("");
        tf_brmob.setText("");
        tfsname.setText("");
        tf_sdes.setText("");
        tfbrname.setText("");
        tf_scity.setText("");

        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:11:35.267

如果您仔细查看 showConfirmDialog，您会发现它正在返回一个整数。我将引用返回的 API。

`Returns: an integer indicating the option selected by the user`

返回应该是按钮的顺序，你进入了确认对话框，所以在你的情况下应该是 2。

你现在只需要一个 if 语句，它检查这个值

你可以这样做：

```
int buffer = JOptionPane.showConfirmDialog(rootPane, "Are You Sure You Want to Submit This Data and Genertate a New Remittance Id!")

// user pressed yes
if(buffer == 0) {
    try {
        // whatever
    } catch (Exception ex) {
        JOptionPane.showMessageDialog(null, ex.getMessage());
    }
}
else if(buffer == 1) {
     // user input = no
}

else if(buffer == 2) {
     // user input = cancel
} 
```

# ruby-on-rails - 在 URL 中使用参数应该可以吗？

> ID：14210669
> 
> 赞同：1
> 
> 时间：2013-01-08T08:06:59.647
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rest

这个 url 在它的 url 中有 parameter(:sort)。我敢肯定这违背了 RoR 的传统。

`http://example.com/shops?sort=updated`

那我怎样才能让它成为 RESTful 的呢？

在 shop_controller.rb 中创建名为“sort_update”的新操作？并使用访问 `http://example.com/shops/sort_update/`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T09:32:22.293

在这种情况下，我会在我的路由文件中添加一个手动路由

```
match 'shops/by_:sort', :to => 'shops#index' 
```

确保在上面添加

```
resources :shops 
```

这样，类似 url`/shops/by_updated`将被路由到 index 操作，但参数`sort`将另外具有值“更新”。

# jquery - 循环的Jquery问题

> ID：14210672
> 
> 赞同：-1
> 
> 时间：2013-01-08T08:07:16.030
> 
> 标签：jquery

```
var length=$('div p').length;

for(var i=0; i<length; i++) {

if(i==5) {

  do something

}
} 
```

我试图通过一个 div 循环并从第一个（0 索引）元素开始，当循环到达第 5 个索引时，我希望它做一些事情。我的问题是，代码是否正确，如果不正确，我的错误在哪里

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:08:41.233

你可以用 jQuery 做的更简单：

```
$('div p').each(function(i) {
    if (i==5) { do something }
}); 
```

在函数中，`this`是您当前的元素。您可以（在控制台中）看到它使用此代码的内容：

```
$('div p').each(function(i) {
    console.log(this); // prints the paragraph in the console
    if (i==5) { do something }
}); 
```

如果您只想对第 6 个元素（索引从 0 开始）执行操作，则无需循环：只需执行

```
var element = $('div p:eq(5)'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:11:35.910

在第五个元素上，i==4 .. 因为在第一个元素上 i==0。那是你的错误

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:35:10.083

这是你想要的：http: [//jsfiddle.net/67d8k/](http://jsfiddle.net/67d8k/)

```
$('button').click(function () {
  $('div p:lt(5)').clone().appendTo('div');
}); 
```

# java - EclipseLink MOXy JSON 序列化

> ID：14210676
> 
> 赞同：11
> 
> 时间：2013-01-08T08:07:34.880
> 
> 标签：java, json, eclipselink, marshalling, moxy

我有一个示例类：

```
class Zoo {
    public Collection<? extends Animal> animals;
} 
```

当用 MOXy 序列化时，我得到：

```
{
    "bird": [
        {
            "name": "bird-1",
            "wingSpan": "6 feets",
            "preferredFood": "food-1"
        }
    ],
    "cat": [
        {
            "name": "cat-1",
            "favoriteToy": "toy-1"
        }
    ],
    "dog": [
        {
            "name": "dog-1",
            "breed": "bread-1",
            "leashColor": "black"
        }
    ]
} 
```

为什么它使用数组指示符“[]”，而鸟、猫和狗不是数组？二、有没有办法去掉“鸟”、“猫”、“狗”？

换句话说，我试图达到：

```
{
        {
            "name": "bird-1",
            "wingSpan": "6 feets",
            "preferredFood": "food-1"
        }
    ,
        {
            "name": "cat-1",
            "favoriteToy": "toy-1"
        }
    ,
        {
            "name": "dog-1",
            "breed": "bread-1",
            "leashColor": "black"
        }
} 
```

谢谢，贝扎德

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-08T10:41:59.907

**问题 #1**

> 为什么它使用数组指示符“[]”，而鸟、猫和狗不是数组？

要获得此 JSON 表示，您已将模型与`@XmlElementRef`注释映射，该注释告诉 JAXB 使用`@XmlRootElement`注释的值作为继承指示符。使用 MOXy 的 JSON 绑定，这些成为键。我们将这些键的值设为 JSON 数组，因为键不允许重复。

**动物园**

在您的模型中，您的字段/属性`@XmlElementRef`上有注释。`animals`

```
import java.util.Collection;
import javax.xml.bind.annotation.XmlElementRef;

class Zoo {
    @XmlElementRef
    public Collection<? extends Animal> animals;
} 
```

**动物**

```
import javax.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
@XmlSeeAlso({Bird.class, Cat.class, Dog.class})
public abstract class Animal {

    private String name;

} 
```

**鸟**

在您的每个子类上，您都有一个`@XmlRootElement`注释。

```
import javax.xml.bind.annotation.XmlRootElement;

@XmlRootElement
public class Bird extends Animal {

    private String wingSpan;
    private String preferredFood;

} 
```

**输入.json/输出**

```
{
   "bird" : [ {
      "name" : "bird-1",
      "wingSpan" : "6 feets",
      "preferredFood" : "food-1"
   } ],
   "cat" : [ {
      "name" : "cat-1",
      "favoriteToy" : "toy-1"
   } ],
   "dog" : [ {
      "name" : "dog-1",
      "breed" : "bread-1",
      "leashColor" : "black"
   } ]
} 
```

**了解更多信息**

*   [http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-using-substitution.html](http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-using-substitution.html)

* * *

**问题2**

> 二、有没有办法去掉“鸟”、“猫”、“狗”？

您将需要某种继承指示符来表示各种子类。

***选项 #1 - `@XmlDescriminatorNode`/`@XmlDescriminatorValue`***

在这里，我使用 MOXy 的`@XmlDescriminatorNode`/`@XmlDescriminatorValue`注释来​​做到这一点。

**动物园**

```
import java.util.Collection;

class Zoo {
    public Collection<? extends Animal> animals;
} 
```

**动物**

```
import javax.xml.bind.annotation.*;
import org.eclipse.persistence.oxm.annotations.XmlDiscriminatorNode;

@XmlAccessorType(XmlAccessType.FIELD)
@XmlSeeAlso({Bird.class, Cat.class, Dog.class})
@XmlDiscriminatorNode("@type")
public abstract class Animal {

    private String name;

} 
```

**鸟**

```
import org.eclipse.persistence.oxm.annotations.XmlDiscriminatorValue;

@XmlDiscriminatorValue("bird")
public class Bird extends Animal {

    private String wingSpan;
    private String preferredFood;

} 
```

**输入.json/输出**

```
{
   "animals" : [ {
      "type" : "bird",
      "name" : "bird-1",
      "wingSpan" : "6 feets",
      "preferredFood" : "food-1"
   }, {
      "type" : "cat",
      "name" : "cat-1",
      "favoriteToy" : "toy-1"
   }, {
      "type" : "dog",
      "name" : "dog-1",
      "breed" : "bread-1",
      "leashColor" : "black"
   } ]
} 
```

**了解更多信息**

*   [http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-moxy-extension.html](http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-moxy-extension.html)

***选项 #2 -`@XmlClassExtractor`***

**类提取器（AnimalExtractor）**

您可以编写一些代码，根据 JSON 内容确定适当的子类。

```
import org.eclipse.persistence.descriptors.ClassExtractor;
import org.eclipse.persistence.sessions.*;

public class AnimalExtractor extends ClassExtractor {

    @Override
    public Class extractClassFromRow(Record record, Session session) {
        if(null != record.get("@wingSpan") || null != record.get("@preferredFood")) {
            return Bird.class;
        } else if(null != record.get("@favoriteToy")) {
            return Cat.class;
        } else {
            return Dog.class;
        }
    }

} 
```

**动物**

注解`@XmlClassExtractor`用于指定.`ClassExtractor`

```
import javax.xml.bind.annotation.*;
import org.eclipse.persistence.oxm.annotations.XmlClassExtractor;

@XmlAccessorType(XmlAccessType.FIELD)
@XmlSeeAlso({Bird.class, Cat.class, Dog.class})
@XmlClassExtractor(AnimalExtractor.class)
public abstract class Animal {

    private String name;

} 
```

**鸟**

由于 MOXy 处理`@XmlElement`和`@XmlAttribute`注释的方式，您希望提供给 的任何数据`ClassExtractor`都需要使用`@XmlAttribute`.

```
import javax.xml.bind.annotation.XmlAttribute;

public class Bird extends Animal {

    @XmlAttribute
    private String wingSpan;

    @XmlAttribute
    private String preferredFood;

} 
```

**输入.json/输出**

```
{
   "animals" : [ {
      "wingSpan" : "6 feets",
      "preferredFood" : "food-1",
      "name" : "bird-1"
   }, {
      "favoriteToy" : "toy-1",
      "name" : "cat-1"
   }, {
      "breed" : "bread-1",
      "leashColor" : "black",
      "name" : "dog-1"
   } ]
} 
```

**了解更多信息**

*   [http://blog.bdoughan.com/2012/02/jaxb-and-inheritance-eclipselink-moxy.html](http://blog.bdoughan.com/2012/02/jaxb-and-inheritance-eclipselink-moxy.html)

* * *

**演示代码**

以下演示代码可用于上述两种映射。

```
import java.util.*;
import javax.xml.bind.*;
import javax.xml.transform.stream.StreamSource;
import org.eclipse.persistence.jaxb.JAXBContextProperties;

public class Demo {

    public static void main(String[] args) throws Exception {
        Map<String, Object> properties = new HashMap<String, Object>();
        properties.put(JAXBContextProperties.MEDIA_TYPE, "application/json");
        properties.put(JAXBContextProperties.JSON_INCLUDE_ROOT, false);
        JAXBContext jc = JAXBContext.newInstance(new Class[] {Zoo.class}, properties);

        Unmarshaller unmarshaller = jc.createUnmarshaller();
        StreamSource json = new StreamSource("src/forum14210676/input.json");
        Zoo zoo = unmarshaller.unmarshal(json, Zoo.class).getValue();

        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(zoo, System.out);
    }

} 
```

# c++ - SFINAE 示例不清楚

> ID：14210678
> 
> 赞同：3
> 
> 时间：2013-01-08T08:07:36.880
> 
> 标签：c++, templates, sfinae

[http://en.wikipedia.org/wiki/Substitution_failure_is_not_an_error](http://en.wikipedia.org/wiki/Substitution_failure_is_not_an_error)

```
#include <iostream>

template <typename T>
struct has_typedef_foobar {
    // Types "yes" and "no" are guaranteed to have different sizes,
    // specifically sizeof(yes) == 1 and sizeof(no) == 2.
    typedef char yes[1];
    typedef char no[2];

    template <typename C>
    static yes& test(typename C::foobar*);

    template <typename>
    static no& test(...);

    // If the "sizeof" the result of calling test<T>(0) would be equal to the sizeof(yes),
    // the first overload worked and T has a nested type named foobar.
    static const bool value = sizeof(test<T>(0)) == sizeof(yes);
};

struct foo {    
    typedef float foobar;
};

int main() {
    std::cout << std::boolalpha;
    std::cout << has_typedef_foobar<int>::value << std::endl;
    std::cout << has_typedef_foobar<foo>::value << std::endl;
} 
```

上面的例子显示了 SFAINE 。

*   在这里我无法理解为什么 sizeof(yes)==1 和 sizeof(no)==2。
*   由于测试是静态函数，所以也应该有一些测试函数的定义。但是这里的代码编译得很好，没有定义测试函数

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:17:11.320

1)`sizeof(char)`被定义为等于 1。由于`yes`是一个字符数组的 typedef，因此它的大小必须为 1。同样，由于`no`是两个字符数组的 typedef，它的大小必须`2 * sizeof(char)`为 2，即 2。

2）函数`test`永远不会被调用，所以定义是不必要的——`sizeof`操作符是编译时的操作，所以编译器只看带有指定模板参数的test实例化的返回类型的大小。因为它没有被调用，所以定义是不必要的，类似于为了使类不可复制构造而制作私有非定义复制构造函数。

# windows-phone-8 - 如何使用 WP8 的 LongListSelector 电话控件显示平面列表

> ID：14210679
> 
> 赞同：7
> 
> 时间：2013-01-08T08:07:38.557
> 
> 标签：windows-phone-8, longlistselector

在**工具包** **LongListSelector**中，曾经有一个属性**IsFlatList**需要设置为 true 才能显示没有任何分组的平面列表。但是在手机控件中提供的**LongListSelector**中，缺少这个属性。这是我正在做的

```
<phone:LongListSelector Name="myList"  IsGroupingEnabled="False" LayoutMode="List" ItemsSource="{Binding Source ={StaticResource SortedList} }" CacheMode="BitmapCache"  >
                <phone:LongListSelector.ItemTemplate>
                    <DataTemplate>
                        <components:MyControl  CacheMode="BitmapCache" MyItem="{Binding}"/>
                    </DataTemplate>
                </phone:LongListSelector.ItemTemplate>
            </phone:LongListSelector> 
```

如果我将控件更改为 ListBox 并删除 LongListSelector 特定属性，那么它将显示我的列表。

有人可以告诉我我错过了什么吗？我正在关注LongListSelector 的[这个（备注）文档](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj244365%28v=vs.105%29.aspx)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T19:39:28.860

在 LongListSelector 的 Windows Phone 8 版本中，将 LayoutMode 设置为 List 并将 IsGroupingEnabled 设置为 false 应该将数据绑定数据显示为平面列表，就像在控件的 WP7 Toolkit 版本中一样。

例如，

给定一个实体类

```
public class Entity
{
    public string Name
    {
        get;
        set;
    }

    public string Info
    {
        get;
        set;
    }

    public int ID
    {
        get;
        set;
    }
} 
```

我需要做的就是在我的页面上创建一个 ObservableCollection 的 Entity 并将它绑定到我的 LongListSelector（命名列表）的 itemsource。

```
ObservableCollection<Entity> data = new ObservableCollection<Entity>();
list.ItemsSourdce = data; 
```

然后我创建实体并将它们添加到集合中。

这是我的 LongListSelector 的 XAML：

```
<Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
        <phone:LongListSelector Name="list" HorizontalAlignment="Left" Height="609" VerticalAlignment="Top" Width="456" LayoutMode="List" IsGroupingEnabled="False" >
            <phone:LongListSelector.ItemTemplate>
                <DataTemplate>
                    <StackPanel VerticalAlignment="Top">
                        <TextBlock FontWeight="Bold"  Text="{Binding Name}" />
                        <TextBlock Text="{Binding Info}" />
                    </StackPanel>
                </DataTemplate>
            </phone:LongListSelector.ItemTemplate>
        </phone:LongListSelector>
    </Grid> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T23:21:06.393

LayoutMode ="List" 这就是你所需要的。

# actionscript-3 - SampleDataEvent.data.writeFloat() 在 5kHz、8kHz、11kHz 或 22kHz

> ID：14210680
> 
> 赞同：0
> 
> 时间：2013-01-08T08:07:39.790
> 
> 标签：actionscript-3, flash

当数据以 5kHz、8kHz、11kHz 或 22kHz 记录时，我应该执行多少次 SampleDataEvent.data.writeFloat ？

声音已使用 flash.media.Microphone 以 5kHz、8kHz、11kHz 或 22kHz 录制。

我提到了 [SampleDataEvent.data.writeFloat() - 为什么调用它两次？](https://stackoverflow.com/questions/2970140/sampledataevent-data-writefloat-why-call-it-twice)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:33:56.607

我找到了这个页面，他们描述了频移，这可能会让您[对 as3 第 3 部分中的问题动态音频有所了解](http://philippseifried.com/blog/2011/10/20/dynamic-audio-in-as3-part-3-robot-voice/)

# android - 使用搜索栏进度动态更改逐项叠加绘制圆

> ID：14210684
> 
> 赞同：0
> 
> 时间：2013-01-08T08:07:46.617
> 
> 标签：android, google-maps, draw, itemizedoverlay

我正在使用地图制作一个应用程序。我正在使用逐项叠加在特定点上画圆圈，效果很好。但我想用搜索栏进度值改变那个圆的半径。任何机构都可以指导我提前谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-11T07:16:45.723

要在地图上绘制圆圈我们必须使用 itemozied Overlay 但是要使用搜索栏的进度来更改它 我们需要执行以下操作，这将与搜索栏一起使用，并且如果您想使用搜索栏设置缩放级别它在以下代码片段中处理

注意：我使用了最小值为 0 和最大值为 9 的搜索栏

```
 public void seekBarProgressEvent()
    {
        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {

            @Override
            public void onStopTrackingTouch(SeekBar seekBar) {
                // TODO Auto-generated method stub

            }

            @Override
            public void onStartTrackingTouch(SeekBar seekBar) {
                // TODO Auto-generated method stub

            }

            @Override
            public void onProgressChanged(SeekBar seekBar, int progress,
                    boolean fromUser) {
                // TODO Auto-generated method stub
                mapView.getOverlays().clear();

                if(progress==0)
                {
                    zoomLevel=17f;

                }
                else if(progress==1)
                {
                    zoomLevel=16f;

                }
                else if(progress==2)
                {
                    zoomLevel=15f;

                }
                else if(progress==3)
                {
                    zoomLevel=14f;

                }
                else if(progress==4)
                {
                    zoomLevel=14f;

                }
                else if(progress==5)
                {
                    zoomLevel=13.50f;

                }
                else if(progress==6)
                {
                    zoomLevel=13.10f;

                }
                else if(progress==7)
                {
                    zoomLevel=12.85f;

                }
                else if(progress==8)
                {
                    zoomLevel=12.10f;

                }
                else if(progress==9)
                {
                    zoomLevel=11.85f;

                }
                //intent.putExtra("radius", radius);
                //zoomLevel-=seekBar.getProgress();
                Log.i("ZoomLevel", ""+zoomLevel);
                mapView.getController().setZoom((int)zoomLevel);
                Drawable drawable = getApplicationContext().getResources().getDrawable(R.drawable.mapmarker);
// in Itemized overlay i m drawing circle of  Defined Radius like 100m 200m 300m etc
                itemizedoverlay = new FolloowMapOverlay(drawable, getApplicationContext(),(radius));
                MapPoint = new GeoPoint((int)(mylat*1E6), (int)(mylon*1E6));
                OverlayItem overlayitem = new OverlayItem(MapPoint, "Current Location", "");
                currentLocationOverlay = new CurrentLocationOverlay(drawable, getApplicationContext());
                currentLocationOverlay.addOverlay(overlayitem);        
                mapView.getOverlays().add(itemizedoverlay);  
                mapView.getOverlays().add(currentLocationOverlay);  
                mapView.invalidate();
                mapController.setCenter(MapPoint);
                mapController.animateTo(MapPoint);
            }
        });

    } 
```

以下是我的逐项叠加类中的 Draw Circle 方法

```
 private void drawCircleAtPoint(GeoPoint point, Canvas canvas, MapView mapView) {

        Projection projection = mapView.getProjection();        
        Point pt2 = new Point();
        projection.toPixels(point, pt2);
// method that is used to conver the radius to pixel that takes input the radius and draw it on the coresponding pixels 
        float circleRadius = projection.metersToEquatorPixels(radius) * (1/ FloatMath.cos((float) Math.toRadians(MapController.mylat)));
        Paint circlePaint = new Paint(Paint.ANTI_ALIAS_FLAG);
        Paint rectangle=new Paint(Paint.ANTI_ALIAS_FLAG);
        Log.d("Circular Radius", ""+circleRadius+"             "+radius);

        circlePaint.setColor(0x99000000);
        circlePaint.setStyle(Style.STROKE);
        canvas.drawCircle((float)pt2.x, (float)pt2.y, circleRadius, circlePaint);

    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T13:32:58.720

我介绍一个很好的示例和教程，它是谷歌提供的，它是一个 Android 官方指南。

首先，访问[Google Dev guide 中的这个站点](https://developers.google.com/maps/documentation/android/marker#marker_drag_events)。

[其次，在 Google Dev guide](https://developers.google.com/maps/documentation/android/intro#sample_code)中的 HERE 中获取上述指南中引用的示例代码。

第三，在上述示例代码的 src/ 目录下找到“PolylineDemoActivity.java”。我想这就是你想知道的。

您可以使用搜索栏进度值更改圆的半径~！

![您可以更改圆的半径](../Images/5fba2226cdad8c9f705d1bb7d34792f4.png)

如需更多信息，请与我联系。

# categories - 在 prestashop 中区分男女产品的最佳方法是什么？

> ID：14210687
> 
> 赞同：0
> 
> 时间：2013-01-08T08:07:57.483
> 
> 标签：categories, prestashop

我们可以使用除类别之外的任何方法来区分男性和女性产品吗？哪种方法易于配置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-30T10:06:02.407

不幸的是 - 我也找不到一个可以做类似事情的规范字段。我希望有人把它放到 Prestashop 的下一个版本中。在当前的 Prestashop 1.5.5 中，可以通过将多个类别添加到单个产品中，其中男性或女性也可以选择为附加类别，但不是默认类别。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T22:06:11.650

您可以改为使用服装、配饰、鞋子、珠宝等类别。您必须在产品标题或描述中指定是男性还是女性，尽管这可能很明显。

# javascript - 将输入元素绑定到 JavaScript 对象

> ID：14210688
> 
> 赞同：1
> 
> 时间：2013-01-08T08:08:01.547
> 
> 标签：javascript, closures

我想介绍一个简单的符号来将 HTML`<input>`元素绑定到 JavaScript 对象。就像是：

```
<script>            
    var qform = {
        uid : "",
        pass : ""
    };
</script>

<form method="get" action="#">
    <input id="temp0" type="text" name="uid" bind="qform.uid" />
    <input id="temp1" type="password" name="pass" bind="qform.pass" />
    <input type="submit" value="submit" />
</form> 
```

这样对`<input>`s 的任何更改都会更改我的 JS 变量。我试图实现它的方式是：

```
<script>

    var x = 0;
    for(x = 0; x < 2; x++) {

        var inputField = document.getElementById("temp" + x);

        var bindObj = inputField.getAttribute("bind");            

        var bindObjTree = bindObj.split(".");
        var parent = window;
        for (var i = 0; i < bindObjTree.length - 1; i++) {
            parent = parent[bindObjTree[i]];
        }
        child = bindObjTree[bindObjTree.length - 1];

        inputField.value = parent[child];

        inputField.onchange = function() {
            var xp = parent;
            var xc = child;
            xp[xc] = inputField.value;
            alert(JSON.stringify(window["qform"]));
        };

    } // for

    </script> 
```

然而，只有第二个输入字段的行为符合我的意愿。有人可以解释为什么会这样吗？我猜这与闭包有关。我真的想了解我做错了什么而不是找到解决方案（我可以使用 JQuery 轻松解决这个问题，但我真的不想要那个）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:13:16.010

问题在于这些：

```
 parent = parent[bindObjTree[i]];
        child = bindObjTree[bindObjTree.length - 1]; 
```

和

```
 inputField.onchange = function() {
        var xp = parent; // Always refers to the element retrieved at index 1 of the for loop
        var xc = child; // Always refers to the element retrieved at index 1 of the for loop
        // This is regardless of which input's event handler executes
        xp[xc] = inputField.value;
        alert(JSON.stringify(window["qform"]));
    }; 
```

由于闭包，这些将始终引用在 for 循环的最后一次迭代中找到的元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:14:13.970

inputFields 需要是一个数组，因此它不会在循环中被覆盖或

您可以在表单标签中放置一个 id，然后引用它来获取字段作为其子元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:14:31.837

你的`child`变量是全局的。尝试使用：

`var child = bindObjTree[bindObjTree.length - 1];`

反而。由于它是全局的，因此您将在第二轮覆盖全局子变量。

# android - 不同类型的点击后聚焦

> ID：14210690
> 
> 赞同：0
> 
> 时间：2013-01-08T08:08:17.037
> 
> 标签：android, google-tv

我有两个活动。我通过在第一个活动中使用按钮开始第二个活动。在第二个活动中，在第二个活动开始后，我有一个可聚焦的元素来请求焦点。

这样的问题：如果我使用输入/确定按钮单击第一个活动中的按钮，则第二个活动中的可聚焦元素会聚焦，但是如果我在第一个活动中单击鼠标左键单击按钮，则第二个活动中的可聚焦元素不会聚焦.

如果有人知道这是什么，请帮助我。任何想法都会有所帮助。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T16:51:00.183

在我的第二个活动中设置为可聚焦项目：android:focusableInTouchMode="true" - 解决了我的问题

# android - Mono For Android：将数据从单击的列表视图项发送到它初始化的警报对话框

> ID：14210691
> 
> 赞同：0
> 
> 时间：2013-01-08T08:08:17.733
> 
> 标签：android, android-listview, xamarin.android, android-alertdialog, pass-data

**点击：**

```
lstText.ItemClick += (sender, args) =>
{
    Logon(GetString(Resource.String.LogonMessage), sUUID, sUserId, sUserPIN);
}; 
```

**警报对话框：**

```
private void Logon(string message, string sUUID, string sUserId, string sUserPIN) // 
    {
        RunOnUiThread(() =>
        {
            var uuidFetch = this.GetSystemService(Context.TelephonyService) as Android.Telephony.TelephonyManager;
            var IMEI = uuidFetch.DeviceId;

            var getUserId = LayoutInflater.From(this).Inflate(Resource.Layout.Login, null);
            getUserId.FindViewById<TextView>(Resource.Id.getUserId).Text = sUserId;

            var getPIN = LayoutInflater.From(this).Inflate(Resource.Layout.Login, null);
            getPIN.FindViewById<EditText>(Resource.Id.sUserPin).Text = sUserPIN;

            new AlertDialog.Builder(this)
            .SetTitle(GetString(Resource.String.LogonTitle))
            .SetMessage(message)
            .SetView(getUserId)
            .SetView(getPIN)
            .SetCancelable(true)
            .SetPositiveButton(GetString(Resource.String.LogonOk), (sender, e) =>
            {
                sUUID = IMEI;
                sUserId = "474";
                sUserPIN = getPIN.FindViewById<EditText>(Resource.Id.sUserPin).Text;
                Window.SetSoftInputMode(SoftInput.StateHidden);

                ThreadPool.QueueUserWorkItem(o => Authorize(sUUID, sUserId, sUserPIN));
                SetContentView(Resource.Layout.Splash);
            })
            .SetNegativeButton(GetString(Resource.String.LogonCancel), (sender, e) =>
            {
                Window.SetSoftInputMode(SoftInput.StateHidden);
            })
            .Show();
        }); 
```

正如您在警报对话框中看到的那样，我的 sUserId 是静态的（因为我正在测试和构建应用程序，而且我真的处于开发的早期阶段）但我需要它是列表中的一个值，因为每个项目（ergo 用户）在listview 中有他自己的sUserId。

**我的项目适配器中的几行：**

```
var sUserId = view.FindViewById<TextView>(Resource.Id.sUserId);
sUserId.Text = item.sUserId != null ? item.sUserId : ""; 
```

如果需要，我将提供任何进一步的代码/信息。感谢您的时间，您的建议和任何提示，以帮助我解决我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T09:58:04.453

你正在处理的参数`ItemClick` `Event`包含很多有用的东西，比如被点击的项目在`ListView`s中的位置，`Adapter`还有s`View`和它的内容。

因此，如果您知道`ListViewItem`视图包含 a`TextView`您可以在您的`ItemClick`处理程序中有如下代码，它会提取它的内容：

```
lstText.ItemClick += (sender, args) =>
{
    var userIdTextView = args.View.FindViewById<TextView>(Resource.Id.sUserId);
    var userId = userIdTextView.Text;
} 
```

# java - 带有正则表达式和循环的 Java Matcher 类

> ID：14210692
> 
> 赞同：0
> 
> 时间：2013-01-08T08:08:18.933
> 
> 标签：java, jakarta-ee, pattern-matching

```
 String sCurrentLine;    
    br = new BufferedReader(new FileReader(path));

 while ((sCurrentLine = br.readLine()) != null) {

    Pattern pattern  = Pattern.compile(".*?unregistKey\\(tvKey\\.(.*?)\\);");
    Matcher m= pattern.matcher(sCurrentLine);
            if(m.matches()) {
                String abc = m.group(1) ;
                System.out.println ("aaaaaaaaaaaaaa" + abc.toString());
             }                  
 } 
```

为什么此代码循环超过 1 次。我检查了对这段代码的调用，但它只出现了 1 次。

o/p 是这样的 N 次：

```
aaaaaaaaaaaaaaKEY_1
aaaaaaaaaaaaaaKEY_2
aaaaaaaaaaaaaaKEY_3
aaaaaaaaaaaaaaKEY_CH_UP
aaaaaaaaaaaaaaKEY_PANEL_CH_UP
aaaaaaaaaaaaaaKEY_CH_DOWN
aaaaaaaaaaaaaaKEY_1
aaaaaaaaaaaaaaKEY_2
aaaaaaaaaaaaaaKEY_3
aaaaaaaaaaaaaaKEY_CH_UP
aaaaaaaaaaaaaaKEY_PANEL_CH_UP
aaaaaaaaaaaaaaKEY_CH_DOWN 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:17:50.503

只有当输入文件多次包含相同的模式（即有几行包含`KEY_1`等）时，您才会看到此输出。

# android - 同时使用耳机和扬声器

> ID：14210696
> 
> 赞同：3
> 
> 时间：2013-01-08T08:08:30.260
> 
> 标签：android, audio

我想将扬声器用于音频输出，同时将耳机插孔用于不同的音频输出/输入。这可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T09:04:41.637

可以在*某些*设备上执行此操作（我已经验证它可以在 Sony XPeria P 上运行），但我认为您不能指望它可以在*所有*设备上运行。

你要做的是强制`MUSIC`流路由到扬声器：

```
Class audioSystemClass = Class.forName("android.media.AudioSystem");
Method setForceUse = audioSystemClass.getMethod("setForceUse", int.class, int.class);
// First 1 == FOR_MEDIA, second 1 == FORCE_SPEAKER. To go back to the default
// behavior, use FORCE_NONE (0).
setForceUse.invoke(null, 1, 1); 
```

然后，您将`MUSIC`流用于您想要路由到扬声器的`VOICE_CALL`任何内容，并将流用于您想要路由到耳机/耳机的任何内容。

[请参阅我对通过耳机播放音乐时通过扬声器播放声音的](https://stackoverflow.com/questions/12017297/playing-sound-over-speakers-while-playing-music-through-headphones/12018786#12018786)答案

# r - 如何计算箱线图中的最低和最高基准值？

> ID：14210702
> 
> 赞同：1
> 
> 时间：2013-01-08T08:08:42.803
> 
> 标签：r, boxplot

我正在计算最低和最高基准。我凝视了一下，发现这些位于下四分位数和上四分位数的 1.5 IQR 范围内，但找不到计算其数值的方法。

```
 x<-rnorm(200)
 boxplot(x,horizontal=TRUE,axes=FALSE,outline=FALSE) 
```

如图所示，我需要在最低和最高基准上放置 2 个点/标记。

[![在此处输入图像描述](../Images/66002d7eb1abc8786c3933edf905e1a7.png)](https://i.stack.imgur.com/1sYqk.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:17:10.290

```
foo <- boxplot(x,horizontal=TRUE,axes=FALSE,outline=FALSE)
points(foo$stats[c(1,5),1],c(1,1),pch=21,bg="red") 
```

结果：

![在此处输入图像描述](../Images/f8d3359ddcf94291cb1e69415b314be2.png)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-10-13T09:34:38.177

要获得箱线图的最低和最高值，请使用此方法：

state.x77 #运行此命令后，您将获得矩阵图

# （**将BOXPLOT命令放在特定的对象中，我选择“A”作为对象**）

A<- 箱线图（state.x77$Population）

A # 运行 A

# 运行 A 后，你会得到 $stats，在这个里面

第一个值是最低的

最后一个值是最高的

# php - 预填充 Paypal 帐单电话字段

> ID：14210706
> 
> 赞同：1
> 
> 时间：2013-01-08T08:08:56.050
> 
> 标签：php, paypal, express-checkout

我在我的网络应用程序中使用 Express Checkout PHP-SDK（版本 96）。

我正在尝试在 Paypal 上预先填写客户的帐单详细信息。

```
$address                  = new AddressType();
$address->CityName        = strtoupper_tr( $order['invoice']['address']['city'] );
$address->Name            = $order['invoice']['title'];
$address->Street1         = $order['invoice']['address']['address'];
$address->Street2         = $order['invoice']['address']['address-2'];
$address->StateOrProvince = $order['invoice']['address']['province'];
$address->PostalCode      = $order['invoice']['address']['postal-code'];
$address->Country         = 'TR';
$address->Phone           = '5004244244';

...

$set_ec_req_details                 = new SetExpressCheckoutRequestDetailsType();
$set_ec_req_details->BillingAddress = $address; 
```

此代码填充除电话号码外的表单。我发现如果我将国家代码更改为“美国”，它也可以。

我在 x.com 的论坛或文档中找不到任何信息。如果有人告诉我有没有办法做到这一点，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T17:52:00.827

不熟悉这辆购物车，但 Paypals 电话代码非常以美国为中心，但我很幸运使用 night_phone_b 将电话号码放入其中。

详细信息是[https://www.paypal.com/cgi-bin/webscr?cmd=_pdn_xclick_prepopulate_outside](https://www.paypal.com/cgi-bin/webscr?cmd=_pdn_xclick_prepopulate_outside)

# javascript - 更改控制器时动态调用方法

> ID：14210708
> 
> 赞同：1
> 
> 时间：2013-01-08T08:09:00.340
> 
> 标签：javascript, coffeescript

```
# in pjax:success callback
@callController = ->
  if window.currentController != (controller = window.getController())
    window.currentController = controller
    window[controller + "_controller"].call()

# part of window.getController()
# return "users", for example
@getController = ->
  window.location.pathname.split("/")[1]

# controller code
@users_controller = ->
  console.log "code from users_controller" 
```

如何为每个控制器代码编写析构函数？例如，当`users`更改为`posts`我需要执行时`@users_controller.destroy()`。

或者告诉我这个问题的另一个解决方案:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T16:26:53.023

您有当前控制器，因此您可以使用您已经使用`currentController`的相同技术查找名称。`window[c + '_controller']`然后，只需调用`destroy`您发现的内容：

```
@[@currentController + '_controller'].destroy() if(@currentController)
@currentController = controller
@[@currentController + '_controller']() 
```

另请注意，您不需要`call`in ，因为该`@currentController + '_controller'`属性将是一个函数，因此您可以直接调用它；并且`@`应该在其中`window`，以便您可以使用`@currentController`而不是`window.currentController`.

# c# - 在 C# 中接收短信

> ID：14210709
> 
> 赞同：1
> 
> 时间：2013-01-08T08:09:04.880
> 
> 标签：c#, sms, gsm

我使用此代码接收短信，但有时它不起作用，这意味着它无法理解短信接收。每次它工作时我该怎么做：

```
CommSetting.comm.MessageReceived+=new MessageReceivedEventHandler(comm_MessageReceived);

private void comm_MessageReceived(object sender, GsmComm.GsmCommunication.MessageReceivedEventArgs e)
{
    Cursor.Current = Cursors.WaitCursor;
    string storage = GetMessageStorage();

    DecodedShortMessage[]messages=CommSetting.comm.ReadMessages(PhoneMessageStatus.ReceivedUnread , storage);

    foreach(DecodedShortMessage message in messages)
    {
        Output(string.Format("Message status = {0}, Location = {1}/{2}",
                             StatusToString(message.Status),
                             message.Storage, message.Index));
        ShowMessage(message.Data);
        Output("");
    }

    Output(string.Format("{0,9} messages read.", messages.Length.ToString()));
    Output("");
} 
```

# c - 如何使用 c/c++ 语言从文件中读取 1000 列或更多列数据？

> ID：14210712
> 
> 赞同：1
> 
> 时间：2013-01-08T08:09:23.417
> 
> 标签：c, file-io, readfile, multiple-columns, data-processing

具有 10000 行和 1000 列的数据文件。我想将整行保存到数组或每列保存到变体。

C中有一个标准函数**fscanf**。如果使用这个函数，我需要将格式写1000次。

```
fscanf(pFile, "%f,%f,%f,%f,%f,%f,......", &a[0], &a[1],...,a[999]); 
```

用 C 编程几乎不可能这样。但是，我不知道用 C 语言来实现它。有什么建议或解决方案吗？

而且，如何读取或提取某些列数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:13:30.640

将文件逐行读取`fgets()`到适当大的缓冲区中。不要害怕使用 32 KB 或其他大小的缓冲区，以确保所有字段都适合。

然后在循环中解析该行，可能使用`strtok()`或只是简单的 old `strtod()`。请注意，后者返回一个指向第一个不被视为数字的字符的指针；这是您解析下一个数字的地方。也许您需要添加一个内部循环来“吃”空白（或您拥有的任何分隔符）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:11:34.230

您可以逐行读取文件，然后循环提取数字。

# javascript - 如何将数组中的表格排列成原型？

> ID：14210714
> 
> 赞同：1
> 
> 时间：2013-01-08T08:09:39.763
> 
> 标签：javascript, arrays, prototype

所以，我想修改 Array 以便它在表格中逐行显示其内容。使用下面的代码，它会逐步显示每个元素多次出现的代码。

如何解决这个问题？谢谢。

```
$(function() {

Array.prototype.ToTable=function(){

tabelul="<center><table border><tr>";

for(a=0; a<this.length;a++){

this[a]=tabelul+="<td> <div class='Expresion'>" + this[a] + "</div></td></tr>"
}

}

vaz=['one', 'two', 'three','four'];

vaz.ToTable();

$('#show').html(vaz)
})

<div id="show"></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:19:49.707

我相信你的意思是这样的：

```
for(a=0; a<this.length;a++){
 tabelul+="<tr><td><div class='Expresion'>" + this[a] + "</div></td></tr>";
} 
```

您应该构建`tabelul`变量然后返回它。

这是一个这样做的例子

这是一个**行**演示：http: [//jsfiddle.net/2zchT/2/](http://jsfiddle.net/2zchT/2/)

html:

```
<div id="show"></div> 
```

js：

```
$(function() {
 Array.prototype.ToTable=function(){
  var tabelul = "<center><table border>";
  for(var a=0; a<this.length;a++){
   tabelul += "<tr><td><div class='Expresion'>" + this[a] + "</div></td></tr>"
  }
  tabelul += "</table></center>";
  return tabelul;
 };
 vaz=['one', 'two', 'three','four'];
 $('#show').html(vaz.ToTable())
}) 
```

**编辑**

您应该在构建表之前植入该数据。

```
var Links= new Array(); 
Links[0]='<a href="http://location.com/"><img src="http://photo1.com/"></a>'; 
Links[1]='<a href="http://location.com/"><img src="http://photo2.com/"></a>'; 
Links[2]='<a href="http://location.com/"><img src="http://photo3.com/"></a>'; 
Links[3]='<a href="http://location.com/"><img src="http://photo4.com/"></a>'; 
Links[4]='<a href="http://location.com/"><img src="http://photo5.com/"></a>';

var vaz=['one', 'two', 'three','four'];

for( var i = 0; i < vaz.length; i++ )
{
 vaz[i] = Links[i] + vaz[i];
} 
```

这是一个演示：http: [//jsfiddle.net/2zchT/4/](http://jsfiddle.net/2zchT/4/)

# android - 用于更新的 Android SQLQuery

> ID：14210716
> 
> 赞同：0
> 
> 时间：2013-01-08T08:10:10.227
> 
> 标签：android, sql, sqlite

这是我创建的表：

```
public void onCreate(SQLiteDatabase db) {

    String insertNewFormDetails = "create table if not exists " + TABLE_NAME + " ( " + BaseColumns._ID + " integer primary key autoincrement, " 
                                                            + NAME + " text not null, "
                                                            + SCHOOL + " text not null, "
                                                            + CURRENTDATE + " text not null, "
                                                            + FORMTYPE + " text not null);";
    // Execute a single SQL statement that is NOT a SELECT or any other SQL statement that returns data.
    db.execSQL(insertNewFormDetails);
} 
```

所以现在这个主键具有自动增量。我如何实际获取该列的内容？

我现在正在为`UPDATE`查询做什么。

```
DBAddForm dbOpener2 = new DBAddForm(this);
    SQLiteDatabase sqliteDatabase2 = dbOpener2.getReadableDatabase();
    ContentValues contentValues2 = new ContentValues();

    String selectQuery = "SELECT  * FROM " + "FormDetails";
    SQLiteDatabase db = dbOpener2.getWritableDatabase();
    Cursor cursor = db.rawQuery(selectQuery, null);

    if (cursor.moveToFirst()) {
        do {
                contentValues2.put("school",school);
                sqliteDatabase2.update("FormDetails", contentValues2, cursor.getString(0) + " = " +primaryKey , null);
        } while (cursor.moveToNext());
    } 
```

但是，它现在所做的是更新第一列中的所有行。我只希望它在等于`primaryKey`. 请指教？谢谢！我对所有的尝试感到非常困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:06:47.897

尝试这个，

删除`"FormDetails"`并替换为`TABLE_NAME`。

然后删除`school`并替换为`SCHOOL`.

`select`查询返回所有记录。我认为`Cursor.getString(0)`总是获得第一个价值。并`primary key`通过打印检查您是否正确更新。

而不是`do While`循环尝试`for`循环

```
for(int i=0;i<cursor.getCount();i++)
{
//Now check your cursor value with the primary key. It may work
Use this cursor.getString(i)
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T02:45:13.757

感谢大家！我的回答根据建议进行了调整。现在可以了。

```
DBAddForm dbOpener2 = new DBAddForm(this);
    SQLiteDatabase sqliteDatabase2 = dbOpener2.getReadableDatabase();
    ContentValues contentValues2 = new ContentValues();

    String selectQuery = "SELECT _id FROM " + DBAddForm.TABLE_NAME;
    SQLiteDatabase db = dbOpener2.getWritableDatabase();
    Cursor cursor = db.rawQuery(selectQuery, null);

    // looping through all rows and adding to list
    if (cursor.moveToFirst()) {
        do {
                contentValues2.put("SCHOOL",school);
                contentValues2.put("NAME", name);
                //update query
                sqliteDatabase2.update("FormDetails", contentValues2, "_id" +  " = " + primaryKey  , null);
        }
        while (cursor.moveToNext());
    }
    sqliteDatabase2.close();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:22:47.277

首先，您应该使用 `SCHOOL`而不是`"school"`. 而不是`TABLE_NAME`.Youre`"FormDetails"`正在寻找硬编码字符串的麻烦。

然后，打印或记录 和 的`Cursor.getString(0)`值`primaryKey`。然后您可以自己调试问题

# asp.net-mvc - Azure 上的 MVC 4 - @Scripts.Render("~/bundles/jquery") 慢

> ID：14210721
> 
> 赞同：1
> 
> 时间：2013-01-08T08:10:36.023
> 
> 标签：asp.net-mvc, azure, bundling-and-minification

* * *

我在用着

> Microsoft.AspNet.Web.Optimization 1.1.0-alpha1（从 1.0.0 更新 - 也不起作用）

在我的项目中。我意识到我的脚本部分呈现很长（整个页面呈现很长）。我放置了一些时间记录器......这很奇怪，只有

> @Scripts.Render("~/bundles/jquery")

接管〜2秒！（它包含对 2 个文件的引用，没有 * 字符）。带有 JQ、JQ UI 和 JQ Validate 的部分在约 4 秒内呈现。其他脚本（我的自定义脚本）渲染 < 0,1 秒。哪里可能有问题？天蓝色？在 Azure 上缓存？有人有类似的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T17:54:53.073

您是否在 Azure 上使用非标准输出缓存？当前存在一个错误，该错误会在禁用缓存时导致性能非常缓慢。这是一个讨论该问题的问题，您可能会遇到：[Azure Cache (Preview) OutputCache - High CPU - Slow](https://stackoverflow.com/questions/12230246/azure-cache-preview-outputcache-high-cpu-slow)

# python - 在列表/数组python中打包不同数据类型的多个变量

> ID：14210722
> 
> 赞同：1
> 
> 时间：2013-01-08T08:10:42.050
> 
> 标签：python, data-structures

我有多个变量需要打包为一个，并像在数组或列表中一样按顺序保存。这需要在 Python 中完成，而我仍处于 Python 婴儿期。

例如在 Python 中：

```
a = Tom
b = 100
c = 3.14
d = {'x':1, 'y':2, 'z':3} 
```

以上所有内容都在一个顺序数据结构中。为了清楚起见，我可能会尝试在 C++ 中完成类似的实现。

```
struct
{ 
string a;
int b;
float c;
map <char,int> d;// just as an example for dictionary in python
} node;

vector <node> v; // looking for something like this which can be iterable 
```

如果有人能给我一个类似的存储、迭代和修改内容的实现，那将非常有帮助。任何朝着正确方向的指示对我也有好处。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:27:33.673

您可以使用像 Michael 建议的**字典**（但是您需要访问`v`with的内容`v['a']`，这有点麻烦），或者您可以使用**C++ 的 struct 的等效项**：**命名元组**：

```
import collections

node = collections.namedtuple('node', 'a b c d')

# Tom = ...

v = node(Tom, 100, 3.14, {'x':1, 'y':2, 'z':3})
print node  # node(a=…, b=100, c=3.14, d={'x':1, 'y':2, 'z':3})
print node.c  # 3.14
print node[2]  # 3.14 (works too, but is less meaningful and robust than something like node.last_name) 
```

这类似于，但比定义自己的类：`type(v) == node`等更简单。但是请注意，正如火山所指出的，存储在 a 中的值`namedtuple`不能更改（a`namedtuple`是不可变的）。

如果您确实需要修改记录中的值，最好的选择是**class**：

```
class node(object):
    def __init__(self, *arg_list):
        for (name, arg) in zip('a b c d'.split(), arg_list):
            setattr(self, name, arg)

v = node(1, 20, 300, "Eric")
print v.d  # "Eric"
v.d = "Ajay"  # Works 
```

*我不推荐*的最后一个选项确实是使用**列表或元组**，就像 ATOzTOA 提到的那样：元素必须以不那么易读的方式访问：`node[3]`比`node.last_name`;没有意义。此外，在使用列表或元组时，您无法轻松更改字段的顺序（而如果您访问命名元组或自定义类属性，则顺序无关紧要）。

* * *

`node`通常将多个对象放在一个列表中，这是用于此目的的标准 Python 结构：

```
all_nodes = [node(…), node(…),…] 
```

或者

```
all_nodes = []
for … in …:
    all_nodes.append(node(…)) 
```

或者

```
all_nodes = [node(…) for … in …] 
```

等等。最好的方法取决于如何`node`创建各种对象，但在许多情况下，列表可能是最好的结构。

但是请注意，如果您需要存储类似于电子表格的内容并且需要访问其列的速度和设施，那么使用 NumPy 的[记录数组](http://docs.scipy.org/doc/numpy/reference/generated/numpy.recarray.html)或[Pandas](http://pandas.pydata.org/)之类的包可能会更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:28:40.467

只需使用列表：

```
a = "Tom"
b = 100
c = 3.14
d = {'x':1, 'y':2, 'z':3}

data = [a, b, c, d]

print data
for item in data:
    print item 
```

输出：

```
['Tom', 100, 3.14, {'y': 2, 'x': 1, 'z': 3}]
Tom
100
3.14
{'y': 2, 'x': 1, 'z': 3} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T08:24:33.830

您可以将所有值放入字典中，并列出这些字典。

`{'a': a, 'b': b, 'c': c, 'd': d}`

否则，如果此数据是可以由类表示的东西，例如“人”；创建一个 Person 类型的类，并使用您的数据创建该类的对象：

[http://docs.python.org/2/tutorial/classes.html](http://docs.python.org/2/tutorial/classes.html)

# magento - Magento 产品删除观察员？

> ID：14210728
> 
> 赞同：1
> 
> 时间：2013-01-08T08:10:48.097
> 
> 标签：magento

我试图在 Magento 中找到生产删除观察者，因为每当我从我的站点中删除产品时，我都想运行一些自定义功能。

我找到了这个：catalog_controller_product_delete，但我看过它已被删除？我正在使用 magento 1.7.0

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-08T08:52:35.120

您可以使用其中任何一种 - 取决于您是要观察删除事件之前还是之后：

```
catalog_product_delete_before

catalog_product_delete_after 
```

还有`catalog_product_delete_after_done`产品可以观察到的事件

# translation - ANTLR + StringTemplate - 创建 JavaLike 语言并将其翻译成 PLSql、C 和 C++

> ID：14210729
> 
> 赞同：2
> 
> 时间：2013-01-08T08:10:54.600
> 
> 标签：translation, antlr, grammar, stringtemplate, stringtemplate-4

您好我正在尝试实现翻译。由于它变得越来越复杂，我将尝试更好地解释我想要实现的内容。

我需要指定一种新的类似 java 的语言。这种语言必须实现 java 方法的所有结构：变量声明、表达式、条件表达式、括号表达式等......该语言将使用向量、常量和布尔值。它具有不同的功能：log、avg、sqrt 以及 sum、diff、shift 等。这种语言必须翻译成plsql和其他语言。因此，定义的方法将成为 StoredProcedure 或 c++ 函数或其他任何东西。我还需要考虑数学约束，例如运算符的优先级（+、-、*、/、<<、>> 等等......）。

我已经得到这个提示：[Decompose expression in base operation: ANTLR + StringTemplate](https://stackoverflow.com/questions/13817046/decompose-expression-in-base-operation-antlr-stringtemplate/14198140#comment19695920_14198140)

我需要知道完成任务的最佳解决方案。我想我必须以流水线方式使用您的所有解决方案，但我不想对解决方案使用试错法。

我尝试了不同的（分离的）解决方案，但把所有的东西放在一起对我来说很难。

我的最后一个问题是将向量和常量之间的表达式以及向量和向量之间的表达式分开。事实上，使用 plsql 我有不同的功能来处理这些情况。即表达式 vactor1+5（或 5+vector1）必须翻译为 PKG_FUN.constant_sum(cursor1, 5) 而不是 vector1+vector2 必须翻译为 PKG_FUN.vector_sum(vector1, vector2)。此外，我可以拥有产生向量的函数或表达式，以及产生常量的其他函数或表达式，这在分析表达式时必须考虑（即向量 a = vector1 +((5+var2)*ln(vector2)*2)^2）。

这种语言的一个例子可以是：

```
DEFINE my_new_method(date date_from, date date_to, long variable1, long variable2){
   vector result;
   vector out1;
   vector out2; 
   int max = -5+(4);    

   out1 = GET(date_from, date_to, variable1, 20);
   out2 = GET(date_from, date_to, variable2);

   if(avg(out1) > max)
   {
       result = sqrt(ln(out2) + max)*4; 
   }else
   {
       result = out1 + ln(out1) + avg(out2);
   }

       for(int i=0; i<result.length ; i++)
       {
          int num = result.get(i);
          result.set(num*5, i);
       }

       return result;

} 
```

我应该把它翻译成 plsql、c 或 c++ 或其他语言。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T09:27:12.730

您需要的是“类型推断”。对于每个表达式，您需要知道其操作数的类型，以及每个运算符符号的结果类型。

你可以通过几个步骤得到这个：

1）通过建立一个符号表，记录你的变量范围内声明的实体的类型

2）通过遍历每个表达式，计算叶节点的类型：对于表达式，在您的语言中，至少所有常量值都是标量，并且任何标识符都有您可以在符号表中查找的类型。对于大多数语言，运算符结果的类型可以根据运算符的语言规则计算，给定其操作数类型。（某些语言需要通过约束传播来计算类型）。计算完所有这些类型后，您需要将每个树节点与其类型相关联（或者至少能够按需计算节点的类型）。

使用此计算的类型信息，您可以区分不同的运算符（例如，向量上的 +，向量第一个操作数和标量第二个等），从而选择要生成的目标语言结构。

除了为您提供树之外，ANTLR 在构建和管理符号表或计算类型信息方面不为您提供任何支持。获得树和所有类型信息后，您可以选择使用哪个字符串模板来生成代码，从而为您提供即时风格的翻译器。所以这样做只是很多汗水。（做一个即时翻译器有一个缺点：你最好在那个地方生成你想要的确切代码，因为你没有机会优化生成的结果，这可能意味着对树进行大量案例分析来选择要做什么产生）。

我们的 DMS Software Reengineering Toolkit 确实为您提供了对构建符号表的额外支持，以及使用属性语法评估器计算对树的推理，以及编写显式转换的额外方法，这些方法很容易以此类类型查找为条件。转换从源语言中的树映射到目标语言中的树。然后，您可以“更简单”地翻译到目标语言，并使用额外的显式转换在目标语言中应用优化。这可以大大简化翻译过程。

但无论如何，为一种语言（更不用说 3 种语言）构建一个完整的翻译器对于那些有经验和背景的人来说是一项艰巨的工作。您提出这个问题的事实表明您可能不了解与分析和转换代码相关的许多问题。我建议您在继续之前阅读一本好的编译器书籍（例如，Aho/Ullman/Sethi “编译器”），否则您可能会遇到类似的其他问题。

# javascript - dijit / dojo 中的调用函数

> ID：14210731
> 
> 赞同：0
> 
> 时间：2013-01-08T08:11:11.253
> 
> 标签：javascript, dojo

我对 Dojo 和 Dijit 完全陌生。我正在尝试修复一个大型网站中的错误，我也是新手。

我想在 DateTextBox 上调用一个方法 (closeDropDown)。我已经阅读了一些文件，并且我认为我理解得足够好，但我就是无法让它发挥作用。

在一个 keyEvent 中，我得到了 DateTextBox：

```
dijit.byId(e.srcElement.id) 
```

`Object`根据 Chrome 控制台，它返回一个。当我检查它时似乎没问题（也在控制台中）。

正如我在文档中读到的那样，[http](http://dojotoolkit.org/reference-guide/1.7/dijit/byId.html) ://dojotoolkit.org/reference-guide/1.7/dijit/byId.html应该给了我 Javascript 对象。这似乎是正确的。

但是，当我尝试：

```
dijit.byId(e.srcElement.id).closeDropDown(false) 
```

我得到：`TypeError: Object 2013-01-08 has no method 'closeDropDown'`

我看不到我错过了什么。这一定是我做错了什么基本的事情？！

# google-apps-script - Google SitesApp.getActiveSite() 不可接受的行为

> ID：14210735
> 
> 赞同：1
> 
> 时间：2013-01-08T08:11:21.587
> 
> 标签：google-apps-script

我正在尝试使用 Google 协作平台搜索当前活动站点并创建自定义搜索。我需要做的第一件事是连接当前活动站点，请参阅下面提到的代码。出于调试目的，我添加了一些计时器。

```
Logger.log('---- line 289 (try to connect current active site): ' + (new Date().getTime()-startGetResultFromSiteTimer)/1000 + ' seconds');
var site = SitesApp.getActiveSite();
Logger.log('---- line 300 (connected current active site): ' + (new Date().getTime()-startGetResultFromSiteTimer)/1000 + ' seconds'); 
```

有时它工作得很好，后来我收到这个异常的请求：

```
Exception: Servicefout: SitesApp: Internal Error 
```

非常不可靠的行为。每个请求的计时器结果完全不同。有时不到一秒，然后请求超过 30 秒。

有没有人可以解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T15:41:05.190

我有一个来自驱动器的文件夹，用于更新站点列表。我不得不使用 while{} finished is false 语句，因为有时在尝试更新列表时会导致相同的错误。那会有帮助吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-29T16:52:33.687

最后，只有一种解决方案可以通过定期检查器快速接受它，该检查器将所有页面读入 scripdb 数据库结束搜索将在 scripdb 中查找。

# jpa - JPA 查询连接表

> ID：14210739
> 
> 赞同：7
> 
> 时间：2013-01-08T08:11:32.180
> 
> 标签：jpa, jpql

我有 3 张桌子，例如：

```
A                              AB                        B
-------------                  ------------              ---------------
a1                              a1,b1                    b1 
```

AB 是 A 和 B 之间的转换表

有了这个，我的班级在这两个班级之间没有组成。但我想知道，通过 JPQL 查询，我的元素是否存在来自 AB 表中的 A 表的任何记录。我需要的只是数字或布尔值。

因为 AB 是一个转换表，所以它没有模型对象，我想知道我是否可以在我的 Repository 对象中使用 @Query 来做到这一点。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T08:24:09.890

AB 表必须在要在 JPQL 中查询的实体中建模。因此，您必须将其建模为自己的实体类或 A 和/或 B 实体中的关联。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-08T08:24:27.793

我建议使用[原生查询方法](http://www.oracle.com/technetwork/articles/vasiliev-jpql-087123.html)而不是 JPQL（JPA 也支持原生查询）。让我们假设表 A 是客户，表 B 是产品，表 AB 是销售。这是获取客户订购的产品列表的查询。

```
entityManager.createNativeQuery("SELECT PRODUCT_ID FROM 
                                     SALE WHERE CUSTOMER_ID = 'C_123'"); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-05-23T22:35:25.667

实际上，这种情况的答案比你想象的要简单。为正确的工作使用正确的工具是一件简单的事情。JPA 不是为实现复杂的 SQL 查询而设计的，这就是 SQL 的用途！因此，您需要一种让 JPA 访问生产级 SQL 查询的方法；

```
em.createNativeQuery 
```

因此，在您的情况下，您要做的是访问 AB 表，仅查找 id 字段。检索到查询后，获取 id 字段并使用 id 字段查找 Java 对象。这是第二次搜索，但按 SQL 标准来说是微不足道的。

假设您正在根据 B 对象引用它的次数来查找 A 对象。假设您想要一个半复杂（但典型）的 SQL 查询来根据 B 对象的数量并按降序对类型 A 对象进行分组。这将是您可能希望根据项目要求实施的典型流行度查询。

您的本机 SQL 查询将是这样的：

```
select a_id as id from AB group by a_id order by count(*) desc; 
```

现在您要做的是告诉 JPA 期望 id 列表以 JPA 可以接受的形式返回。您需要组合一个额外的 JPA 实体。永远不会以 JPA 的正常方式使用的一种。但是 JPA 需要一种方法来将查询的对象返回给您。您可以为此搜索查询组合一个实体；

```
@Entity
public class IdSearch {

    @Id
    @Column
    Long id;

    public Long getId() {
            return id;
    }

    public void setId(Long id) {
            this.id = id;
    }

} 
```

现在你实现了一点代码来将这两种技术结合在一起；

```
 @SuppressWarnings("unchecked")
    public List<IdSearch> findMostPopularA() {
            return em.createNativeQuery("select a_id as id from AB group by a_id 
            order by count(*) desc", IdSearch.class).getResultList();
    } 
```

在那里，您需要做的就是让 JPA 成功完成您的查询。要获取您的 A 对象，您只需使用传统的 JPA 方法交叉引用到您的 A 列表中，这样；

```
List<IdSearch> list = producer.getMostPopularA();
Iterator<IdSearch> it = list.iterator();
while ( it.hasNext() ) {
    IdSearch a = it.next();
    A object = em.find(A.class,a.getId());
    // your in business! 
```

尽管如此，考虑到 SQL 设计结构的许多功能，对上述内容进行更多改进实际上可以进一步简化事情。稍微复杂一点的 SQL 查询将为您的实际数据提供更直接的 JPA 接口；

```
 @SuppressWarnings("unchecked")
    public List<A> findMostPopularA() {
            return em.createNativeQuery("select * from A, AB 
            where A.id = AB.a_id 
            group by a_id 
            order by count(*) desc", A.class).getResultList();
    } 
```

这消除了对临时 IdSearch 表的需要！

```
List<A> list = producer.getMostPopularA();
Iterator<A> it = list.iterator();
while ( it.hasNext() ) {
    A a = it.next();
    // your in business! 
```

肉眼可能不清楚的是 JPA 允许您在 JPA 接口中使用复杂的 SQL 结构的极其简化的方式。想象一下，如果你的 SQL 如下；

```
SELECT array_agg(players), player_teams
FROM (
  SELECT DISTINCT t1.t1player AS players, t1.player_teams
  FROM (
    SELECT
      p.playerid AS t1id,
      concat(p.playerid,':', p.playername, ' ') AS t1player,
      array_agg(pl.teamid ORDER BY pl.teamid) AS player_teams
    FROM player p
    LEFT JOIN plays pl ON p.playerid = pl.playerid
    GROUP BY p.playerid, p.playername
  ) t1
INNER JOIN (
  SELECT
    p.playerid AS t2id,
    array_agg(pl.teamid ORDER BY pl.teamid) AS player_teams
  FROM player p
  LEFT JOIN plays pl ON p.playerid = pl.playerid
  GROUP BY p.playerid, p.playername
) t2 ON t1.player_teams=t2.player_teams AND t1.t1id <> t2.t2id
) innerQuery
GROUP BY player_teams 
```

关键是使用 createNativeQuery 接口，您仍然可以准确地检索您正在寻找的数据并直接进入所需的对象，以便 Java 轻松访问。

```
 @SuppressWarnings("unchecked")
    public List<A> findMostPopularA() {
            return em.createNativeQuery("SELECT array_agg(players), player_teams
            FROM (
                  SELECT DISTINCT t1.t1player AS players, t1.player_teams
                  FROM (
                    SELECT
                      p.playerid AS t1id,
                      concat(p.playerid,':', p.playername, ' ') AS t1player,
                      array_agg(pl.teamid ORDER BY pl.teamid) AS player_teams
                    FROM player p
                    LEFT JOIN plays pl ON p.playerid = pl.playerid
                    GROUP BY p.playerid, p.playername
                  ) t1
                INNER JOIN (
                  SELECT
                    p.playerid AS t2id,
                    array_agg(pl.teamid ORDER BY pl.teamid) AS player_teams
                  FROM player p
                  LEFT JOIN plays pl ON p.playerid = pl.playerid
                  GROUP BY p.playerid, p.playername
                ) t2 ON t1.player_teams=t2.player_teams AND t1.t1id <> t2.t2id
                ) innerQuery
                GROUP BY player_teams
            ", A.class).getResultList();
    } 
```

# entity-framework - 多个 DbContext 类使用相同的连接字符串？

> ID：14210746
> 
> 赞同：5
> 
> 时间：2013-01-08T08:11:41.300
> 
> 标签：entity-framework, entity-framework-5

例如，我有以下 DbContext 类。

```
public class AppDbContext : DbContext {
    ...
}
public class LogDbContext : DbContext {
    ...
}
public class FooDbContext : DbContext {
    ...
} 
```

如果名为的连接字符串`AppDbContext`位于`App.Config`并且我希望其他 DbContext 类与 共享相同的连接字符串`AppDbContext`，我是否可以将字符串“AppDbContext”作为`ctor`of`LogDbContext`和的参数传递`FooDbContext`。例如，

```
public class FooDbContext : DbContext {
    public FooDbContext : base("AppDbContext") { }
} 
```

它有任何副作用吗？

# 更新 2013/1/9

在尝试了@ShinH2S 的建议和一些东西之后，我放弃了这种方式，并决定给不同的 Dbcontext 派生类提供不同的连接字符串和数据库。我尝试[了一个测试项目并将其放在 GitHub 上](https://github.com/ToroLiu/ttTestMultipleDbContexts)。`AppDbContext`当实体框架检测到数据库方案因和`FooDbContext`具有不同的模式而更改时，它将引发运行时异常。如果我`DropCreateDatabaseIfModelChanges`为两个 DbContext 派生类分配一个策略，其中一个将被删除，因为模型与另一个不同。

# 2017/10 更新

这是一个老问题。在我的记忆中，`EF6 and above versions`同一个迁移表中的多个上下文可以有不同的迁移历史。我更喜欢[SO 的这个答案](https://stackoverflow.com/a/32228384/419348)。我已经有 2 年没有使用 C# 编码了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T08:33:20.797

恕我直言，没有副作用。但如果是我，我将创建一个继承自 DbContext 类的基类，`BaseDbContext`然后所有上下文（`AppDbContext`和 `LogDbContext`）`FooDbContext`都将派生自`BaseDbContext`.

# c - 对文件系统的非阻塞访问

> ID：14210748
> 
> 赞同：8
> 
> 时间：2013-01-08T08:11:43.630
> 
> 标签：c, linux, nonblocking, bsd

当编写一个非阻塞程序（处理多个套接字）时，它在某个时候需要使用 open(2)、stat(2) 文件打开文件或使用 opendir(2) 打开目录，我如何确保系统调用执行不阻塞？

对我来说，似乎除了使用线程或 fork(2) 之外别无选择。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:21:06.523

正如 Mel Nicholson 回答的那样，对于基于文件描述符的所有内容，您都可以使用[select](http://linux.die.net/man/2/select) / [poll](http://linux.die.net/man/2/poll) / [epoll](http://linux.die.net/man/2/epoll)。对于其他所有事情，您都可以拥有一个带有[小堆栈](https://stackoverflow.com/questions/5422019/specifying-thread-stack-size-in-pthreads)的代理线程（或线程池），该堆栈将（通过内核调度程序）将任何同步阻塞等待转换为使用[eventfd](http://www.kernel.org/doc/man-pages/online/pages/man2/eventfd.2.html)的 select/poll/epoll-able 异步事件或[unix 管道](http://linux.die.net/man/2/pipe)（需要可移植性）。

代理线程将阻塞直到操作完成，然后写入 eventfd 或管道以唤醒 select/poll/epoll。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T08:30:03.737

确实没有其他方法。

实际上，还有另一种阻塞是线程无法处理的，那就是页面错误。这些可能发生在程序代码、程序数据、内存分配或从文件映射的数据中。避免它们几乎是不可能的（实际上您可以将一些页面锁定到内存中，但这是特权操作，并且可能会使内核在其他地方的内存管理工作不佳而适得其反）。所以：

1.  您不能真正消除阻止特定客户端的每一个最后机会，所以不要理会`open`and之类的东西`stat`。无论如何，网络可能会增加比这些功能更大的延迟。
2.  为了获得最佳性能，您应该有足够的线程，以便在其他线程因页面错误或类似的困难阻塞点阻塞时可以安排一些线程。

此外，如果您需要在处理网络请求期间读取和处理或处理和写入数据，使用内存映射访问文件会更快，但这是阻塞的，不能设为非阻塞。因此，现代网络服务器倾向于坚持对大多数内容的阻塞调用，并且只需有足够的线程来保持 CPU 忙碌，而其他线程正在等待 I/O。

大多数现代服务器都是多核的这一事实是您无论如何都需要多个线程的另一个原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:14:12.560

您可以使用该`poll( )`命令使用单个线程检查任意数量的套接字中的数据。

[有关 linux 的详细信息](http://linux.die.net/man/3/poll)，或`man poll`有关您的系统的详细信息，请参见此处。

`open( )`并且`stat( )`将阻塞在所有符合 POSIX 的系统中调用它们的线程，除非通过异步策略调用（如在 a 中`fork`）

# android - Google Play 上的 APK 更新不会触发 Android 设备上的更新？

> ID：14210751
> 
> 赞同：0
> 
> 时间：2013-01-08T08:11:51.113
> 
> 标签：android, google-play, updates

一个多星期前，我在 Google Play 上部署了我的 apk 1.0 版——没问题。1 月 6 日，我部署了 1.1 版本。在 Google Play 为公众更新了 apk 之后，我在我的 Android 标签和智能手机上都得到了更新触发器。不幸的是，上一个版本有一个错误，所以我在 1 月 7 日再次更新到 1.1.1 版本并部署在 Google Play 上。它已经提供给公众。这通常需要大约 1 - 2 小时。如果下载该应用程序，他将获得 1.1.1 版本。我已经测试过了。但是自从最新更新以来，我的智能手机和我的标签都不再获得更新触发器。所以他们不知道又有更新了。部署是 12 小时前，所以现在必须有触发器。随着 1.1 版的更新，我没有

任何想法为什么更新触发器不起作用以及 Android 3.1 平板电脑和 Android 2.1 智能手机？我猜这是 Google Play 或 apk 的问题，因为它在两种设备上都不起作用。

（AndroidManifest 中的版本名称和编号已递增。否则我将无法在 Google Play 上更新 apk）

我注意到：Google Play 自 1 月 6 日以来没有更新我的应用程序的统计信息，尽管它应该每天更新（并且它一直工作到 2 天前）。也许它基于相同的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T12:14:44.437

我想我知道发生了什么，但我不能肯定地说这是否真的如此。谷歌在 Google Play 中改变了一些东西（比如最近一些实现问题的概念，比如 Google Play Services 而不是 MapView），所以我认为 Android 2.2 及以上的 Android 版本已经太旧了，无法进行最后的更改（他们甚至不能使用 Google Play服务）。也许这就是它不起作用的原因。在我的 Android 3.1 平板电脑上，它显然又可以工作了。这一次因为它不起作用，Google Play 中可能存在错误。

这是错误的，请纠正我。

# c# - 如何使用 C# 中的线程读取和解析非常大的平面文件？

> ID：14210755
> 
> 赞同：3
> 
> 时间：2013-01-08T08:12:16.260
> 
> 标签：c#

我必须阅读一个大文本文件并使用 C# 逐行解析它。`StreamReader`对于小文件可以轻松完成，但在处理大文件时会出现内存不足异常。我怎样才能适应大文件？

以下代码捕获`OutOfMemoryException`：

```
using (StreamReader reader = new StreamReader(FileNameWithPath))
{
    while ((line = reader.ReadLine()) != null)
    {
        // Do something here...
    }
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-08T08:17:09.157

这几乎是懒惰的行阅读器的标准代码，`OutOfMemoryException`除非有一些***非常***大的单行，否则不应引起错误。你也可以试试：

```
foreach(var line in File.ReadLines(FileNameWithPath)) {
    // Do something here...
} 
```

这只是让它更干净，但做同样的事情。所以有两种选择：

1.  一条或多条“线”简直是巨大的
2.  “在这里做某事”中的某些东西正在慢慢（或迅速）吞噬你的记忆

我希望后者更可能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:22:06.723

我对此不确定，但请尝试使用此类 .net 框架

[**MemoryMappedFile 类**](http://msdn.microsoft.com/en-us/library/system.io.memorymappedfiles.memorymappedfile.aspx)- 内存映射文件将文件内容映射到应用程序的逻辑地址空间。内存映射文件使程序员能够处理非常大的文件，因为内存可以同时进行管理，并且它们允许对文件进行完全、随机的访问，而无需查找。内存映射文件也可以在多个进程之间共享。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:31:39.373

如何指定缓冲区大小？

像这样。

```
using (var reader = new StreamWriter(path,false,Encoding.UTF8, 1000))
{
    .....

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T08:23:48.830

```
using (var inputFile = new System.IO.StreamReader(sourceFilePath))
{
    while (inputFile.Peek() >= 0) {
        string lineData = inputFile.ReadLine();

        // Do something with lineData
    }
} 
```

# android - Android JSON 停止缓存

> ID：14210760
> 
> 赞同：0
> 
> 时间：2013-01-08T08:12:53.187
> 
> 标签：android, json, caching

发出 JSON 请求时如何停止缓存？在我的 JSON 请求标头中，我有用户名和密码，我的问题是：

*   首先我输入正确的数据（正确的用户名和密码）-> 请求成功
*   在上面的步骤之后，我引入了一个正确的用户名但一个错误的密码 - >请求仍然成功，它不应该
*   然后我用强制停止关闭我的应用程序并输入错误的密码。现在请求失败了，这没关系。

但我不明白为什么我必须强制停止应用程序才能获得正确的请求状态。我唯一想到的是数据以某种方式被缓存。如果我的想法是正确的，我该如何防止缓存？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:26:28.110

我已经弄清楚问题所在了。当我更改密码时，会话没有关闭，它正在连接旧数据。所以我不得不使用这段代码“注销”：

```
 client.getConnectionManager().closeExpiredConnections();
  client = null; 
```

然后我创建了一个新的 Http 客户端。

# windows-phone - Windows Phone 8 IconicTemplate 平铺图像显示空白

> ID：14210761
> 
> 赞同：5
> 
> 时间：2013-01-08T08:13:02.310
> 
> 标签：windows-phone, windows-phone-8

我正在开发一个 Windows Phone 8 应用程序并在 Lumia 920 上对其进行测试。我从 WMAppManifest.xml 为 IconicTemplate 选择了两个图像，一个 71x110 和一个 134x202 并将其部署在设备上。

当应用程序固定到开始屏幕时，磁贴显示白色矩形而不是图像。奇怪的是，当 sdk 样本被选为 tile 图像时，tile 可以正确显示带有白色尖刺的圆形图像。我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-02T09:59:54.270

It seems that the non-transparent parts of a png show up as white and nothing else, so basically it seems you can only create a shape using the "Iconic" tile template, much like the default tiles that come installed on Windows 8 phones.

The solution is to switch to the "Flip" tile template instead.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-19T09:19:11.093

前几天也碰到过这个。事实证明，Iconic Tile Template 仅在透明图像上显示白色，在这种情况下不可能有其他颜色。

是否有可能在网上没有关于此限制的适当文档。

如果有人可以向我提供详细信息，我将不胜感激。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T11:29:02.273

你使用什么样的图像？透明背景的JPG或PNG？确保图像是 png 并且在您的方法中正确引用它们。还建议在标志性图像上仅使用白色和透明色。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-08T18:19:20.527

如果 Martins 的建议不起作用，您还可以检查图像的属性。确保构建操作设置为内容。

# javascript - 无法获取未定义或空引用的属性 - Windows 8 JS/CSS 应用程序

> ID：14210765
> 
> 赞同：6
> 
> 时间：2013-01-08T08:13:21.653
> 
> 标签：javascript, windows-8

下面是我的代码片段。我得到的错误是，当我执行搜索并调用方法`_searchData`时，它成功调用了方法`_lookUpSuccess`，但是随后返回以下错误：

**JavaScript 运行时错误：无法获取未定义或空引用的属性“_displayResult”**

当它尝试调用该`_displayResult`方法时。

为什么会这样？

```
(function () {

    // make this an object property/method eventually
    var displayResult = function (queryResult) {
        for (var i = 0; i < holder.length; i++) {
            //document.querySelector(".item-content .title").textContent = "FilmApp";
            document.querySelector(holder[i]).textContent = queryResult[i];
       }};

    // Creates a new page control with members
    ui.Pages.define(searchPageURI, {
       //...
        _searchData: function (queryText) {
            searchBase          = 'http://www.example.com/web-service2.php?termID=';
            searchFormat        = 'JSON';
            searchFormatPiece   = '&format=' + searchFormat;

            if (!window.Data) {  
                var searchUrl = searchBase + queryText + searchFormatPiece;
                WinJS.xhr({ url: searchUrl }).done(this._lookUpSuccess, this._lookUpFail, this._lookUpProgress);
            }else{
                document.querySelector(".titlearea .pagetitle").textContent = "There has been a computer malfunction - sort it the **** out!";
            }
        },

        _lookUpSuccess: function xhrSucceed(Result) {
            var response = JSON.parse(Result.responseText);
                if (response.response[0].Message === "Found") {
                    for (var x in response.response[1].term) {
                        content.push(response.response[1].term[x]);
                    };
                    this._displayResult(content);
                    //displayResult(content);
                    return content;
                } else {
                    content.push("Not Found", "Not Found");
                    return content;
                }
         },

        _lookUpFail: function xhrFail(Result) { document.querySelector(".titlearea .pagetitle").textContent = "Got Error"; },
        _lookUpProgress: function xhrProgress(Result) { document.querySelector(".titlearea .pagetitle").textContent = "No Result 2"; },

        _displayResult: function (queryResult) {
            var holder;
            holder = [DefDiv, DescDiv];

            for (var i = 0; i < holder.length; i++) {
                //document.querySelector(".item-content .title").textContent = "FilmApp";
                document.querySelector(holder[i]).textContent = queryResult[i];
            };
        },

    });

    // End of UI.page.define    

    // #2 This method is run on application load
    WinJS.Application.addEventListener("activated", function (args) {
        if (args.detail.kind === appModel.Activation.ActivationKind.search) {
            args.setPromise(ui.processAll().then(function () {
                if (!nav.location) {
                    nav.history.current = { location: Application.navigator.home, initialState: {} };
                }
            return nav.navigate(searchPageURI, { queryText: args.detail.queryText });
            }));
        }
    });

    // #3 
    appModel.Search.SearchPane.getForCurrentView().onquerysubmitted = function (args) { nav.navigate(searchPageURI, args); };

})(); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-08T08:19:11.870

在这行代码中：

```
WinJS.xhr({ url: searchUrl }).done(this._lookUpSuccess, this._lookUpFail, this._lookUpProgress); 
```

您`_lookupSuccess`作为 done 处理程序函数传递，但是当它被调用时， 的值`this`不再是您想要的值，因为这将由调用 done 处理程序的任何内部设置。作为函数传递`this._lookUpSuccess`只是传递函数。它没有传递`this`. 因此，当`this._lookUpSuccess`使用 wrong 调用时`this`，对其内部的任何引用`this`都不会在其上找到预期的属性（因此您会看到错误）。

您可以像这样修复它，将`this`值保存在局部变量中，然后在调用时使用它`_lookUpSuccess()`：

```
var self = this;
WinJS.xhr({ url: searchUrl }).done(function(result) {self._lookUpSuccess(result)}, this._lookUpFail, this._lookUpProgress); 
```

`this`这是在回调中重新附加正确值的一种非常常见的解决方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T08:16:57.370

在：

```
this._displayResult(content); 
```

那里，`this`显然`undefined`或`null`

# mysql - mysqldump 未知选项没有哔声

> ID：14210769
> 
> 赞同：26
> 
> 时间：2013-01-08T08:13:36.217
> 
> 标签：mysql, windows, option

我在 Windows 上运行 MySQL 5.5，尝试 mysqldump：

```
 "C:\WebServer\MySQL Server 5.5\bin\mysqldump.exe" -u user -ppassword database > "C:\backup.sql" 
```

但得到错误：

> mysqldump：未知选项'--no beep'

这是一个非常基本的命令，适用于其他两个开发框，所以不确定是什么原因造成的？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-07-11T16:50:07.100

同样的问题，注释掉 (#) MySQL my.ini 中的 no-beep 行，解决了问题。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2014-10-20T08:26:19.020

我在 dba.stackexchange.com 上找到[了这个答案](https://dba.stackexchange.com/questions/30667/unknown-option-no-beep)，非常有帮助：

> 该`no-beep` [选项](http://dev.mysql.com/doc/refman/5.5/en/mysql-command-options.html#option_mysql_no-beep)使`mysql`命令行客户端在发生错误时不发出哔声。
> 
> 如果这是您想要的选项，它应该在`[mysql]`您的`my.cnf`[或 my.ini] 部分中。此错误表明它位于`[client]`your 的部分中`my.cnf`，这会导致 [...] 由于无法识别该选项而引发错误。
> 
> 检查您的`my.cnf`并删除该行或将其放在该`[mysql]`部分中，而不是`[client]`您应该很好。
> 
> > [client] 选项组被所有客户端程序读取（但不是 mysqld）。这使您能够指定适用于所有客户端的选项。例如，[client] 是用于指定用于连接服务器的密码的完美组。（但要确保选项文件只有你自己可读可写，以免其他人查到你的密码。） 确保不要将选项放在 [client] 组中，除非它被你所有的客户端程序识别采用。如果您尝试运行不理解该选项的程序，则会在显示错误消息后退出。
> 
> -- [http://dev.mysql.com/doc/refman/5.6/en/option-files.html](http://dev.mysql.com/doc/refman/5.6/en/option-files.html)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-01-08T08:21:57.313

环境变量或 my.cnf 文件中的内容？

对于它的价值，当我将 no-beep 选项（mysql 客户端的有效选项，但不是 mysqldump 的有效选项）放在`[client]`我的配置文件部分时，我得到

```
mysqldump: unknown option '--no-beep' 
```

（正如[naitsirch 的回答](https://stackoverflow.com/a/26461338/17389)中提到的，它应该从一个`[client]`部分移到`[mysql]`另一个部分，这样它就不会尝试将它用于其他客户端程序，例如 mysqldump。）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-05T20:54:45.777

与此相关的一个注意事项是，您必须了解已安装的各种 MySQL 产品。以下场景最好地解释了它。

*   C:\Program Files\MySQL\MySQL Server 5.5\my.ini（从以前的安装创建）
*   C:\Program Files\MySQL\MySQL Server 5.6\my.ini （这里有人复制了这个，谁知道为什么）
*   C:\Program Files\MySQL\my.ini（由 MySQL Installer Config Wizard 创建）

因此，您可能会假设 MySQL Workbench 从`my.ini`您正在处理的 MySQL 版本内的文件中提取设置。这将是一个安全的假设，因为在 Workbench 中设置管理配置需要指向`my.ini`特定于该安装的配置。但是，这是不正确的，因为我发现它会锁定在`C:\Program Files\MySQL\my.ini`要使用的那个上。因此，您必须编辑此文件以使 Workbench 正常运行。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-02-25T19:47:47.133

尽管从 mysql 服务属性中指定的 my.ini 文件中的 client 部分中删除了 -no--beep 选项，但问题仍然存在。MYSQL56 服务设置使用来自 E:\Program Data\MySQL\MySQL Server 5.6\ 的 my.in。而且这个 ini 文件在 [client] 部分下没有 -no--beep 选项。

那么问题出在哪里？

在我的设置中，mysqldump.exe 位于 C:\Program Files\MySQL\MySQL Server 5.6\bin。当它作为命令行选项运行时，mysql 使用的是 C:\Program Files\MySQL\MySQL Server 5.6\my.ini。该 ini 文件中包含 no--beep 选项。mysqldump 没有使用服务指定的 my.ini，而是使用了一个目录。

删除 C:\Program Files\MySQL\MySQL Server 5.6\my.ini 即可解决问题。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-01-10T08:41:55.453

替代解决方案是使用`--no-defaults`选项

例如：`mysqldump --no-defaults -u root -p [DB_NAME] > [FILE_NAME].sql`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-06-06T17:54:32.350

删除 no-beep 选项对我有用，但我必须更改**我的 windows 目录中的 my.ini 文件**！顺便说一句，我正在使用Windows 10。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-05-14T18:24:09.620

也为我解决了

C:\ProgramData\MySQL\MySQL 服务器 8.0

重启电脑

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-06-24T13:33:29.040

解决方法很简单如果你也面临同样的---没有哔---问题

然后只需按下windows按钮并在那里搜索mysql安装程序社区，您将在mysql服务器的链接上找到重新配置的选项

只需单击它并按照几个步骤进行操作，然后通过打开命令提示符并键入 mysql -u root -p 来测试它是否完成

并输入root密码

我希望这对你们也有帮助，因为我自己发现它试图解决

产生这个问题是因为mysql数据库之间没有建立连接所以我们只是发起了一个连接，从而让它像往常一样运行

* * *

## 回答 #10

> 赞同：-5
> 
> 时间：2016-07-02T06:13:28.087

删除`my.ini`为`C:\ProgramData\MySQL\MySQL Server 5.6`我解决了它。

# ios - 在 GCD 中长时间运行操作并向用户报告错误的优雅模式？

> ID：14210774
> 
> 赞同：1
> 
> 时间：2013-01-08T08:13:49.563
> 
> 标签：ios, cocoa-touch, design-patterns, error-handling, cocoa-design-patterns

我正在寻找清理一些我失去控制的代码。通常情况下，我需要与几个远程 API 交互，例如 Parse 和 Facebook，也许是 Core Data，而用户正在等待，盯着我的活动指示器旋转。

我的要求是：

*   当然，一切缓慢都必须在后台线程中
*   没有静默或忽略的错误消息。
*   我想帮助用户（这样他就不会惊慌失措）和我自己（当我接到支持电话时，我需要找出问题所在）尽可能有用的错误消息。
*   我希望逻辑是可维护的。像下面这样的块在圈复杂度上的上升非常快，如果处理不当，尤其是在添加多线程的情况下，它会成为一场噩梦。

我现在使用的模式如下：

```
- (void)sampleFacebookProcessingCall
{
    [self.spinner startAnimating];
    [FBRequestConnection startForMeWithCompletionHandler:^(FBRequestConnection *connection, id result, NSError *facebookRequestError)
    {
        // we're back in main queue, let's return to a secondary queue
        dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^{

            // don't want do display the actual error to the user
            NSString *errorMessage;
            NSError *error;
            @try {
                if (facebookRequestError) {
                    errorMessage = @"Could not connect to Facebook, please try again later.";
                    return;
                }

                [Helper someParseCall:&error];
                if (error) {
                    errorMessage = @"The operation could not be completed, please try again later. Code: FOO1";
                    return;
                }

                [Helper someOtherParseCall:&error];
                if (error) {
                    errorMessage = @"The operation could not be completed, please try again later. Code: FOO2";
                    return;
                }

                [...]
            }
            @finally {
                dispatch_async(dispatch_get_main_queue(), ^{
                    [self.activityIndicator stopAnimating];
                    if (errorMessage) {
                        // there might be half-baked state out there afer the error
                        [self cleanupResources];
                        [UIHelper displayErrorAlertViewWithMessage:errorMessage];
                    }
                });
            }
         });
     }];
 } 
```

现在，当发生错误时，肯定有不同的模式可以通过流转义。带有返回的@try/@finally 模式（与带有清理标签的老式 goto 相同）是一种方法。另一种方法是将错误对象用作“应该继续”变量并执行以下操作：

```
if (!error) {
    doStuff(&error)
}
if (!error) {
[...] 
```

GCD 的添加使事情变得有些复杂，因为现在您必须确保繁重的工作始终在后台完成，并且只在主线程中报告错误。每个 API 的库做的事情都有点不同，所以你有像 Facebook 这样的东西，它只接受要在主线程中执行的块，你必须与 Parse 交织在一起，如果你愿意，你可以运行阻塞调用。

我想知道是否有人提出了更清洁的方法。我觉得这是大多数应用程序迟早要处理的事情，我不需要重新发明轮子。

# java - 如何解决 INKApi 错误

> ID：14210775
> 
> 赞同：3
> 
> 时间：2013-01-08T08:13:56.693
> 
> 标签：java, apache

我们正在开发WEB产品。我们的一位客户面临`"INKApi error(500)"`错误。这是不同的东西。我在谷歌上搜索。没有人能解决这个错误。

1.  什么是 INKApi？
2.  什么时候会抛出这个错误？
3.  谁会抛出这个错误（Apache 或 JVM 或 ..？）

如果有人知道如何解决这个问题，请告诉我们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T09:08:53.000

据我所知，这与 Apache Traffic Server (ATS) 有关。他们为 Traffic Server API 使用前缀 INK - 请参阅[http://trafficserver.apache.org/docs/v2/sdk/NamingConventions.html](http://trafficserver.apache.org/docs/v2/sdk/NamingConventions.html)。（INK 似乎来自[Inktomi](http://en.wikipedia.org/wiki/Inktomi)，他创建了成为 ATS 的代码库。）

我的猜测是错误是由 ATS 的 HttpTransact::HandleApiErrorJump 方法产生的；见[https://git-wip-us.apache.org/repos/asf?p=trafficserver.git;a=blob;f=proxy/http/HttpTransact.cc](https://git-wip-us.apache.org/repos/asf?p=trafficserver.git;a=blob;f=proxy/http/HttpTransact.cc)

如果是这种情况，则抛出错误的是 ATS，并且 HTTP_STATUS_INTERNAL_SERVER_ERROR 为 500。查看代码并不清楚原因。（让您的客户查看他的 ATS 日志文件等。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-09T06:40:23.837

我在调用 Web 服务时收到此错误，请求标头不正确

# iphone - iphone中的asp.net wsdl消耗

> ID：14210778
> 
> 赞同：0
> 
> 时间：2013-01-08T08:14:04.480
> 
> 标签：iphone, asp.net, wsdl

我想`wsdl services`在创建的 iphone 上`asp.net`使用，在此之前我使用的是 php，很容易点击 URL 并获取数据，但现在我不知道如何使用这些我在 stackoverflow 上搜索的 web 服务，有些人正在引用已经创建的组件有些人建议非常简单的组件示例，所以请帮忙，使用`WSDL webservices in iphone` 我的网址的最佳方式是这样的

```
 http://test.com/LumiaSurvesdsdsdsy/sdsddsdia.svc?wsdl 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:20:59.293

实际上，您不鼓励`SOAP`从移动设备使用 Web 服务，因为开销太大，因此建议使用`REST`服务。如果您坚持使用`SOAP`服务，那么您可以尝试使用[wsdl2objc](http://code.google.com/p/wsdl2objc/)生成器从您的`wsdl`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:26:37.597

这个现有的问题和答案将提供详细信息，WSDL 服务与 SOAP 服务相同：

[如何从 iPhone 访问 SOAP 服务](https://stackoverflow.com/questions/204465/how-to-access-soap-services-from-iphone)

# git - git pull 是什么意思。做？

> ID：14210782
> 
> 赞同：5
> 
> 时间：2013-01-08T08:14:31.457
> 
> 标签：git, git-pull

当我在我的 git repo 上运行它时，这就是我得到的。

```
git pull .
From .
 * branch            HEAD       -> FETCH_HEAD
Current branch rel_20121207 is up to date. 
```

但是当我运行它时，`git pull`它实际上是从远程更新的。

我想知道我跑的时候到底发生了什么`git pull .`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-08T08:17:45.047

哈，这个很好玩。`git pull`采用远程名称*或*文件规范。您正在给它一个文件规范（' `.`' 表示当前目录），因此它将您当前的 repo 视为一个遥控器，并将您当前的 HEAD 放入 FETCH_HEAD。你正在把你的回购拉到自己身上；本质上它什么也没做。

# ajax - ajax刷新问题而不重新加载

> ID：14210788
> 
> 赞同：1
> 
> 时间：2013-01-08T08:15:13.993
> 
> 标签：ajax

我在这里有这段代码，我用它来每 30 秒刷新一次页面。

我的问题是，在另一个页面内加载的页面出现得很晚。

如何自定义此功能以使其在加载的第一时间出现在页面中，并使其每 30 秒刷新一次？

```
function()
{
$('#lista').show().load('pagination.php');}, 30000); 
```

我的意思是，我有 lista.php 页面，我在其中加载 pagination.php 页面。当我去 lista.php 时 pagination.php 应该立即出现。但事实并非如此。我应该如何修改它？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:32:14.710

您发布的代码不完整。我假设它看起来像这样：

```
setTimeout(function() {
    $('#lista').show().load('pagination.php');
}, 30000); 
```

您不必每次都调用 show()。元素#lista 是可见的，对吧？让它在启动时执行：

```
function LoadContent()
{
    $('#lista').load('pagination.php');
}
$(document).ready(function(){
    LoadContent(); //load contentent when page loads
    setInterval('LoadContent()',30000); //schedule refresh
}); 
```

# php - 在PHP中从同一数组中的数组创建数组

> ID：14210789
> 
> 赞同：0
> 
> 时间：2013-01-08T08:15:16.303
> 
> 标签：php, arrays

我有一个看起来像这样的数组：

```
Array
(
[0] => Array
    (
        [LogDate] => Wed , Nov 14 , 2012
        [LogIDs] => 1,2
        [LogContents] => Hello!,Hello 2...
        [LogAuthors] => yan,yan
        [LogTimes] => 12:00 AM,12:00 AM
    )

[1] => Array
    (
        [LogDate] => Thu , Nov 15 , 2012
        [LogIDs] => 3,4
        [LogContents] => Hello world...,Hi world...
        [LogAuthors] => jonathan,jonathan
        [LogTimes] => 12:00 AM,12:00 AM
    ) 
```

)

我想将其重组为如下所示：

```
Array
(
[0] => Array
    (
        [LogDate] => Wed , Nov 14 , 2012
        [0] => Array
            (
                [LogIDs] => 1
                [LogContents] => Hello!
                [LogAuthors] => yan
                [LogTimes] => 12:00 AM
            )
        [1] => Array
            (
                [LogIDs] => 2
                [LogContents] => Hello 2...
                [LogAuthors] => yan
                [LogTimes] => 12:00 AM
            )
    )
[1] => Array
    (
        [LogDate] => Thu , Nov 15 , 2012
        [0] => Array
            (
                [LogIDs] => 3
                [LogContents] => Hello world...
                [LogAuthors] => jonathan,jonathan
                [LogTimes] => 12:00 AM
            )
        [1] => Array
            (
                [LogIDs] => 4
                [LogContents] => Hi world...
                [LogAuthors] => jonathan
                [LogTimes] => 12:00 AM
            )
    ) 
```

)

这可能吗？

我试过喜欢（更新版本，工作）：

```
$result =   $this->mymodel->fetch_logs(1, 5, 0);
    $new_array = array();
    $inner_array = array();
    $kounter = 0;
    foreach($result as $row){

        $new_array[] = array(
        'LogDate' => $row['LogDate'],           
        );

        $log_ids = explode(',',$row['LogIDs']);
        $log_contents = explode(',',$row['LogContents']);
        $log_authors = explode(',',$row['LogAuthors']);
        $log_times = explode(',',$row['LogTimes']);

        $counter = count($log_ids);

        for($i=0; $i<$counter; $i++){
            $inner_array = array(
                'LogID' => $log_ids[$i],
                'LogContent' => $log_contents[$i],
                'LogAuthor' => $log_authors[$i],
                'LogTime' => $log_times[$i]
            );                              
            //array_push($new_array, $inner_array); 
            $new_array[$kounter][$i] = $inner_array;                                    
        }   
        $kounter++;
    } 
```

但是我推送的 inner_array 比 [LogDate] 更高级别。它们应该与 LogDate 处于同一级别。知道如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:36:13.107

你去，代码做你想做的事。请记住，代码确实希望每个部分具有相同数量的值。因此，如果您有两个 id，您还需要在 content、authers 和 times 部分中设置值。除了分隔符之外，内容中也不能有逗号。

```
<pre>
<?php
$ar[0] = ['LogDate'=>'Wed , Nov 14 , 2012', 'LogIDs' => '1,2', 'LogContents' => 'Hello!,Hello 2...', 'LogAuthors' => 'yan,yan', 'LogTimes' => '12:00 AM,12:00 AM'];
$ar[1] = ['LogDate'=>'Thu , Nov 15 , 2012', 'LogIDs' => '3,4', 'LogContents' => 'Hello world...,Hi world...', 'LogAuthors' => 'jonathan,jonathan', 'LogTimes' => '12:00 AM,12:00 AM'];
print_r($ar);

$newar = [];
foreach($ar as $key=>$val) {
    $newar[$key] = [];
    $date = $val['LogDate'];
    $arIds = explode(',', $val['LogIDs']);
    $arContents = explode(',', $val['LogContents']);
    $arAuthors = explode(',', $val['LogAuthors']);
    $arTimes = explode(',', $val['LogTimes']);

    $newar[$key]['LogDate'] = $date;
    foreach($arIds as $k=>$v) {
      $tar = [];
      $tar['LogIDs'] = $v;
      $tar['LogContents'] = $arContents[$k];
      $tar['LogAuthors'] = $arAuthors[$k];
      $tar['LogTimes'] = $arTimes[$k];

      $newar[$key][] = $tar;
    }
}

print_r($newar);

?>
</pre> 
```

输出：

```
Array
(
    [0] => Array
        (
            [LogDate] => Wed , Nov 14 , 2012
            [LogIDs] => 1,2
            [LogContents] => Hello!,Hello 2...
            [LogAuthors] => yan,yan
            [LogTimes] => 12:00 AM,12:00 AM
        )

    [1] => Array
        (
            [LogDate] => Thu , Nov 15 , 2012
            [LogIDs] => 3,4
            [LogContents] => Hello world...,Hi world...
            [LogAuthors] => jonathan,jonathan
            [LogTimes] => 12:00 AM,12:00 AM
        )
)
Array
(
    [0] => Array
        (
            [LogDate] => Wed , Nov 14 , 2012
            [0] => Array
                (
                    [LogIDs] => 1
                    [LogContents] => Hello!
                    [LogAuthors] => yan
                    [LogTimes] => 12:00 AM
                )

            [1] => Array
                (
                    [LogIDs] => 2
                    [LogContents] => Hello 2...
                    [LogAuthors] => yan
                    [LogTimes] => 12:00 AM
                )

        )

    [1] => Array
        (
            [LogDate] => Thu , Nov 15 , 2012
            [0] => Array
                (
                    [LogIDs] => 3
                    [LogContents] => Hello world...
                    [LogAuthors] => jonathan
                    [LogTimes] => 12:00 AM
                )

            [1] => Array
                (
                    [LogIDs] => 4
                    [LogContents] => Hi world...
                    [LogAuthors] => jonathan
                    [LogTimes] => 12:00 AM
                )

        )

) 
```

# android - 尝试执行意图时出现 NullPointerException

> ID：14210790
> 
> 赞同：0
> 
> 时间：2013-01-08T08:15:17.430
> 
> 标签：android, android-intent, nullpointerexception

我尝试做这样的意图：

```
public class CenterAnalyse extends Activity {
    public final static String AGE = "com.mat.archery.statistics.AGE";

    protected MySurfaceView mActivity; 

    public TextView Text;

       public void receiveMyMessage()
       {
           Log.d("Essai", "Test 1");
           Intent intent = new Intent(CenterAnalyse.this, TargetActivity.class);
           Log.d("Essai", "Test 2");
           intent.putExtra(AGE, 1);

           Log.d("Essai", "Test 3");

            // Puis on lance l'intent !
            startActivity(intent);
       }

    } 
```

我调用`test()`这段代码：

```
public class TargetActivity extends Activity {

    protected MySurfaceView mActivity; 

      public TextView Text;

       /** Called when the activity is first created. */
       @Override
       public void onCreate(Bundle savedInstanceState) {
           super.onCreate(savedInstanceState);
           setContentView(R.layout.activity_target);

           Text = (TextView) findViewById(R.id.textView1);

           Intent i = getIntent();

           int age = i.getIntExtra(CenterAnalyse.AGE, 0);

           if(age == 1)
           {
             test();
             age = 0;
           }
         }

       private void test()
        {
           Log.d("Essai", "Test 5");

            runOnUiThread(new Runnable() {
               @Override
               public void run() {
                   if (Text != null) Text.setText("Done");
                }
            });
        }

    } 
```

但是当`receiveMyMessage()`在另一个线程中调用时，我得到了这些错误：

```
01-08 09:04:41.920: D/Essai(12895): Test 1
01-08 09:04:41.935: W/dalvikvm(12895): threadid=9: thread exiting with uncaught exception (group=0x4001f888)
01-08 09:04:42.021: E/AndroidRuntime(12895): FATAL EXCEPTION: Thread-9
01-08 09:04:42.021: E/AndroidRuntime(12895): java.lang.NullPointerException
01-08 09:04:42.021: E/AndroidRuntime(12895):    at android.content.ContextWrapper.getPackageName(ContextWrapper.java:120)
01-08 09:04:42.021: E/AndroidRuntime(12895):    at android.content.ComponentName.<init>(ComponentName.java:75)
01-08 09:04:42.021: E/AndroidRuntime(12895):    at android.content.Intent.<init>(Intent.java:2900)
01-08 09:04:42.021: E/AndroidRuntime(12895):    at com.mat.archery.statistics.CenterAnalyse.receiveMyMessage(CenterAnalyse.java:26)
01-08 09:04:42.021: E/AndroidRuntime(12895):    at com.mat.archery.statistics.MySurfaceView.onDraw(MySurfaceView.java:137)
01-08 09:04:42.021: E/AndroidRuntime(12895):    at com.mat.archery.statistics.MySurfaceThread.run(MySurfaceThread.java:43) 
```

我知道我做错了什么，我只是 java/android 的初学者，所以有人可以告诉我我在意图或其他地方做错了什么？

编辑：这`receiveMyMessage()`是调用的地方：

```
public class MySurfaceView extends SurfaceView implements SurfaceHolder.Callback{

 private MySurfaceThread thread;
 private Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);
 private Paint paintJaune = new Paint(Paint.ANTI_ALIAS_FLAG);
 int cx, cy, offx, offy;
 private float initX, initY, radius;
 public double distx, disty, distance = 100;
 private boolean drawing = true;
 private boolean first = true;
 public boolean touch = false;

 public TextView Text;

 protected MySurfaceThread msurfacethread; 

public CenterAnalyse mActivity = null;

 public MySurfaceView(Context context) {
  super(context);
  // TODO Auto-generated constructor stub
  init();
 }

 public MySurfaceView(Context context, AttributeSet attrs) {
  super(context, attrs);
  // TODO Auto-generated constructor stub
  init();
 }

 public MySurfaceView(Context context, AttributeSet attrs, int defStyle) {
  super(context, attrs, defStyle);
  // TODO Auto-generated constructor stub
  init();
 }

private void init(){
        Log.d("Essai", "TargetActivity  5");

        getHolder().addCallback(this);
        thread = new MySurfaceThread(getHolder(), this);

        setFocusable(true); // make sure we get key events

        paint.setColor(getResources().getColor(R.color.Fleche1Default));
        paint.setStyle(Style.FILL);

        paintJaune.setColor(getResources().getColor(R.color.Jaune));
        paintJaune.setStyle(Style.FILL);

        mActivity = new CenterAnalyse();

        Text = (TextView) findViewById(R.id.textView1);

   }

 @Override
 public void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) {
  // TODO Auto-generated method stub
  drawing = true;
 }

 @Override
 public void surfaceCreated(SurfaceHolder holder) {
  // TODO Auto-generated method stub
  thread.setRunning(true);
  thread.start();

 }

 @Override
 public void surfaceDestroyed(SurfaceHolder holder) {
  // TODO Auto-generated method stub
  boolean retry = true;
  thread.setRunning(false);
  while (retry) {
   try {
    thread.join();
    retry = false;
   }
   catch (InterruptedException e) {
   }
  }
 }

 @Override
    protected void onDraw(Canvas canvas) {
        // TODO Auto-generated method stub
        //super.onDraw(canvas);
     int width = this.getWidth(); 
     int height = this.getHeight(); 

        if(drawing){
            canvas.drawColor(Color.BLACK);
            canvas.drawCircle(width/2, height/2, 80, paintJaune);
            canvas.drawCircle(initX, initY, radius, paint);

            if (touch == true){
                distx = (width/2)-initX;
                distx *= distx;

                disty = (height/2)-initY;
                disty *= disty;

                distance = distx + disty;
                distance = Math.sqrt(distance);

                //Log.d("Essai", String.valueOf(distance));

                if((distance + radius/2) < 110)
                {   
                    mActivity.receiveMyMessage();
                }
            }

        }
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        // TODO Auto-generated method stub
        //return super.onTouchEvent(event);

        int action = event.getAction();
        if (action==MotionEvent.ACTION_MOVE){
            initX = event.getX();
            initY = event.getY();
            radius = 30;
            drawing = true;
            first = false;
            touch = true;
        }
        else if (action==MotionEvent.ACTION_DOWN){
            initX = event.getX();
            initY = event.getY();
            radius = 30;
            drawing = true;
            first = false;
            touch = true;
        }
        else if (action==MotionEvent.ACTION_UP){
            try {
                Thread.sleep(50);
            } catch (InterruptedException e) {}
            drawing = false;
            first = false;
            touch = false;
        }

        return true;

    }
} 
```

这就是抽奖的地方：

```
public class MySurfaceThread extends Thread {
 private SurfaceHolder myThreadSurfaceHolder;
 private MySurfaceView myThreadSurfaceView;
 private boolean myThreadRun = false;

public double distance;
public String result;
public boolean touch = false; 

 public MySurfaceView mSurfaceView = null;

 public MySurfaceThread(SurfaceHolder surfaceHolder, MySurfaceView surfaceView) {
  myThreadSurfaceHolder = surfaceHolder;
  myThreadSurfaceView = surfaceView;
 }

 public void setRunning(boolean b) {
  myThreadRun = b;
 }

 @Override
 public void run() {

  // TODO Auto-generated method stub
  while(myThreadRun){
   Canvas c = null;

   try{

    c = myThreadSurfaceHolder.lockCanvas(null);
    synchronized (myThreadSurfaceHolder){
     myThreadSurfaceView.onDraw(c);

    }

   }
   finally{
    // do this in a finally so that if an exception is thrown
    // during the above, we don't leave the Surface in an
    // inconsistent state
    if (c != null) {
     myThreadSurfaceHolder.unlockCanvasAndPost(c);
    }
   }
  }
 }
} 
```

如果有人有解决方案，请从 Draw 上的测试中更改 textview，我接受它！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:22:22.263

使用它来检索意图的数据：

```
 Bundle bundle = this.getIntent().getExtras();
 if (bundle != null && bundle.containsKey(AGE)) {
     int age = bundle.getInt(AGE);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:33:46.967

这可能是由于您没有`TargetActivity`在清单文件中提及您的课程。请检查一下

并使用

```
Intent intent = new Intent(CenterAnalyse.this, TargetActivity.class); 
```

这样它将获得适当的活动上下文

通过看到您的问题，我只能说您必须调用`intent`或`UI thread`必须调用 as 的原件`context`，`activity`因为您正在调用`intent`并`thread`提供 that 的实例而`thread`不是`context`of`activity`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:30:32.853

我认为您忘记`protected MySurfaceView mActivity;`在应用程序中初始化 。只需将您的`MySurfaceView`活动初始化为：

> ```
>  protected MySurfaceView mActivity;
>     @Override
>        public void onCreate(Bundle savedInstanceState) {    
>        super.onCreate(savedInstanceState);  
>       ......................
>       mActivity=new MySurfaceView();
>    } 
> ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T09:20:20.307

```
mActivity = new CenterAnalyse(); 
```

不能用作启动活动的上下文，因为它没有被系统正确初始化。您不能自己实例化活动，它需要由 android 完成，因此上下文附加到应用程序。

您需要使用`getContext().startActivity()`SurfaceView 来启动活动。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-08T08:21:51.353

只需使用，

```
 Intent intent = new Intent(CenterAnalyse.this, TargetActivity.class);
    intent.putExtra("AGE", 1); 
```

在第二类使用中，

```
 Intent i = getIntent();
       int age = i.getIntExtra("AGE", 0); 
```

行不通。

**编辑-**您是否初始化并创建了您的活动。？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-08T08:25:15.053

`Intent intent = new Intent(this, TargetActivity.class);`

也许改成

`Intent intent = new Intent(CenterAnalyse.this, TargetActivity.class);`

# java - 在 Java EE 6 中部署多个具有相同 serviceName 的 WebService

> ID：14210793
> 
> 赞同：1
> 
> 时间：2013-01-08T08:15:32.727
> 
> 标签：java, web-services, glassfish

如果我想在一个 Java EE 6 EJB 模块中部署两个具有相同服务名称（但目标名称空间不同）的 Web 服务，我会遇到问题。

这是我的设置：

我的 webservice-ejb.jar

*   src/main/java/
    ——de.xx。**MyService1** .java
    @Stateless(name=" **MyServiceEJB1** ")
    @WebService(targetNamespace="http: **//de.xx** ", serviceName=" **MyService** ", portName="MyServicePort", wsdlLocation="META-INF/wsdl/ **MyService1\. wsdl** ")
    -- de.xx。**MyService2** .java
    @Stateless(name=" **MyServiceEJB2** ")
    @WebService(targetNamespace="http: **//de.xx.v2** ", serviceName=" **MyService** ", portName="MyServicePort", wsdlLocation="META-INF/wsdl/我**的服务2.wsdl** ")

*   src/main/resources/META-INF/wsdl/
    -- **MyService1.wsdl** (用 targetNamespace **http://de.xx定义****MyService** ) -- **MyService2.wsdl** (用 targetNamespace **http://de.xx.v2定义****MyService** )

 ******Glassfish 通过部署在此错误中运行：

无法初始化端点：错误是：
javax.xml.ws.WebServiceException：WSDL 文件/my-webservice-ejb.jar/META-INF/wsdl/MyService1.wsdl 具有以下服务 [{http://de.xx}MyService ] 但不是 {http://de.xx.v2}MyService。
也许您忘记在 @WebService/@WebServiceProvider 中指定 serviceName 和/或 targetNamespace？

如果我将两个服务 EJB（相同的代码和注释）拆分为不同的 ejb.jar（my-webservice1-ejb.jar 和 my-webservice2-ejb.jar）部署运行没有任何问题。******

# php - 站点/XAMPP 崩溃

> ID：14210799
> 
> 赞同：0
> 
> 时间：2013-01-08T08:16:03.830
> 
> 标签：php, mysql, xampp

我之前一直在主机上运行一个基于 php 的站点，然后我的主机已经过期，现在我在我的 Ubuntu 机器上使用 xampp 将它移动到我的本地主机，该站点有超过 50,000 条（五万条）记录，这些记录是要显示的在页面上。每当我尝试在 localhost 上打开站点时，它会加载一半，一直加载和加载，直到我的 apache 或浏览器崩溃之前什么都没有发生。

我的数据库的存储引擎是 MyISAM，它的大小几乎是 443 MB。

我想知道可以做些什么，以便正确使用该网站而不会出现任何崩溃以及需要做什么？

# image - 表格行跨度透明图片

> ID：14210806
> 
> 赞同：2
> 
> 时间：2013-01-08T08:16:42.200
> 
> 标签：image, html-table, png, transparent

我的桌子有问题。我想要在时事通讯的右上角有一个透明背景的图像。这是代码：

```
<table>
    <tr>
        <td>
            <img src="header.png" alt="header" class="headerImg" />
        </td>
        <td rowspan="3">
            <img src="circle.png" alt="header" class="rightHeaderImg" />
        </td>
    </tr>
    <tr>   
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
</table> 
```

问题似乎与行跨度有关，但我只是觉得我有一个具有透明背景的 .png 图像很奇怪，当它显示在 td 中时，它的背景颜色是纯色的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T16:00:06.670

如果您希望图像与其下方的行重叠，您可以通过让图像溢出来做到这一点，而`td`不是通过提供行`td`跨度。

所以解决方案变成了这样

```
<table style="background:purple; border-spacing:0; height:112px">
  <tr>
    <td>top</td>
    <td>top</td>
    <td style="vertical-align:top">
      <div style="height:0;"><img src="circle.png" alt=""></div>
    </td>
  </tr>
  <tr style="background:#999">
    <td>bottom</td>
    <td>bottom</td>
    <td><!--empty--></td>
  </tr>
</table> 
```

看起来像这样

![在此处输入图像描述](../Images/663db5ea2417337a30f345d7fe734ee6.png)

请注意，您需要`div`在图像的 td 内添加一个额外的内容，否则 td 会垂直扩展至与图像一样高（即使您将其高度明确设置为 0；这无济于事）。另请注意，您需要为表格指定一个明确的高度，否则它将不知道容纳溢出图像需要多高。

[JSFiddle](http://jsfiddle.net/6nAsR/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T07:24:44.313

好的，这就是我想要它做的事情：

```
<table border="1">
  <tr style="background:purple;">
    <td>top</td>
    <td>top</td>
    <td rowspan="2"><img src="circle.png" alt="header"/></td>
  </tr>
  <tr style="background:#999">
    <td>bottom</td>
    <!-- room for td above -->
    <td>bottom</td>
  </tr>
</table> 
```

我希望圆形图像以某种方式使其 td 透明，以便紫色 tr 和灰色 tr 的颜色都显示在图像后面。它不应该使用 divs og 定位元素来解决。

![在此处输入图像描述](../Images/76a7849bfa6fb462ec692ec1b7609fb9.png)

# php - 我的 javascript 联系表格不起作用

> ID：14210819
> 
> 赞同：0
> 
> 时间：2013-01-08T08:17:37.683
> 
> 标签：php, javascript, html

当从列表框中选择一个选项时，我需要使用 javascript 来禁用字段。但是当字段被禁用时，表单不起作用。

我正在使用此 PHP 代码制作联系表格

```
<?php

$action = $_SERVER['PHP_SELF'];

$fname = $_POST['fname'];
$phone = $_POST['phone'];
$e_mail = $_POST['e_mail'];
$service = $_POST['service'];
$maker = $_POST['maker'];
$model = $_POST['model'];
$year = $_POST['year'];
$message = $_POST['message'];

$headers = 'From: me <reply@locallockman.com>';
$thankyou = "thankyou.html"; // thank you page
if(isset($_POST['fname']) && isset($_POST['phone']) && isset($_POST['e_mail']) && isset($_POST['service']) && isset($_POST['maker']) && isset($_POST['model']) && isset($_POST['year']) && isset($_POST['message'])){
    $fname = $_POST['fname'];
    $phone = $_POST['phone'];
    $e_mail = $_POST['e_mail'];
    $type = $_POST['service'];
    $maker = $_POST['maker'];

    $model = $_POST['model'];

    $year = $_POST['year'];
    $message = $_POST['message'];

    if(empty($phone)){
        echo 'Please fill all fields.';
    }
    else{
        if(mail($to,$subject,$body,$headers)){
        header('Location: thankyou.html');

        }
        else{
            echo 'There was an error sending email/s.';
        }
    }

}

?> 
```

这是我用来禁用和启用字段的 javascript。

```
 <script>
    function findselected(){
var state = document.getElementById('type');
var notus = document.getElementById('model');
var year = document.getElementById('year');
var maker = document.getElementById('maker');
(state.value == "Automotive Service")? notus.disabled = false : notus.disabled =  true;
(state.value == "Automotive Service")? year.disabled = false : year.disabled =  true;
(state.value == "Automotive Service")? maker.disabled = false : maker.disabled =  true;
}
</script> 
```

现在，如果不使用 javascript，则此表单有效。但是当我使用这个 javascript 表单时不起作用。

这是表单的 HTML 代码：

```
<form action="form.php" method="post">
  Customer Name :
    <input type="text" name="fname" class="text-box" autocomplete="on" />

    Contact No. :
    <input type="number" name="phone" class="text-box" autocomplete="on"/><br /><br />
    E-mail:
    <input type="email" name="e_mail" class="text-box" autocomplete="on"/><br /><br />
    Service Type:
    <select name="service" id="type" onchange="findselected()">
    <option value="Not Selected">Select Service Type</option>
    <option value="Residential Service">Residential Service</option>
    <option value="Commercial Service">Commercial Service</option>
    <option value="Industrial Service">Industrial Service</option>
    <option value="24/7 or Emergency Service">24/7 or Emergency Service</option>
    <option value="Automotive Service">Automotive Service</option>
    </select>

    Car Make:
    <select name="maker" id="maker" autocomplete="on">
      <option value="Not Selected" selected="selected" ><strong>Select Car Make</strong></option>
      <option value="Acura" >Acura</option>
      <option value="Audi">Audi</option>
      <option value="BMW">BMW</option>
      <option value="Buick">Buick</option>
      <option value="Cadillac">Cadillac</option>
      <option value="Chevrolet">Chevrolet</option>
      <option value="Chrysler">Chrysler</option>
      <option value="Daewoo">Daewoo</option>
      <option value="Dodge">Dodge</option>
      <option value="Fiat">Fiat</option>
      <option value="Ford">Ford</option>
      <option value="General Motors">General Motors</option>
      <option value="Honda">Honda</option>
      <option value="Hummer">Hummer</option>
      <option value="Hyundai">Hyundai</option>
      <option value="Isuzu">Isuzu</option>
      <option value="Infinity">Infinity</option>
      <option value="Jaguar">Jaguar</option>
      <option value="Jeep">Jeep</option>
      <option value="Kia">Kia</option>
      <option value="Lexus">Lexus</option>
      <option value="Lincoln">Lincoln</option>
      <option value="Mercedes">Mercedes Benz</option>
      <option value="Mazda">Mazda</option>
      <option value="Mercury">Mercury</option>
      <option value="Mini">Mini</option>
      <option value="Mitsubishi">Mitsubishi</option>
      <option value="NISSAN">NISSAN</option>
      <option value="Plymouth">Plymouth</option>
      <option value="Pontiac">Pontiac</option>
      <option value="Porche">Porche</option>
      <option value="Saab">Saab</option>
      <option value="Saturn">Saturn</option>
      <option value="Subaru">Subaru</option>
      <option value="Suzuki">Suzuki</option>
      <option value="Toyota">Toyota</option>
      <option value="Volkswagen">Volkswagen</option>
      <option value="Volvo">Volvo</option>
    </select>

    Car Model:
    <input type="text" name="model" id="model" class="text-box" autocomplete="on"  disabled="disabled" value=" "/>
    Model Year:
    <input type="text" name="year" id="year" value=" " disabled="disabled" class="text-box" autocomplete="on"/>

Service Required:
        <textarea name="message" class="text-area" autocomplete="on"></textarea>
        <br /><br />
        <input type="submit" value=" " class="submit"/>
      </p>
    </form> 
```

当我从列表框中选择“汽车服务”以外的任何选项时，“汽车制造商”、“汽车型号”和“车型年份”字段将被禁用。但是当我运行表单时，它不起作用。

1.  当我从列表框中选择“汽车服务”时，它确实有效。
2.  但是当我选择其他选项时，字段被禁用但表单不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:20:35.640

问题出在您的`if`：

```
if(isset($_POST['fname']) && isset($_POST['phone']) && isset($_POST['e_mail'])... 
```

如果这些字段被禁用，则不会发送数据，因此`if`不会通过。
（由于`$_POST['phone']`没有设置，如果相关字段被禁用）

您必须`$_POST`单独检查这些值。

* * *

据我所知，您可以将这些保留为：

```
if(isset($_POST['fname']) && isset($_POST['phone']) && isset($_POST['e_mail']) && isset($_POST['service']) && isset($_POST['message']){ 
```

但这些值可以“未设置”：

```
$_POST['model']
$_POST['year']
$_POST['maker'] 
```

所以，像上面的例子一样，从你的 中删除这 3 个`$_POST`变量`if`，然后替换：

```
$maker = $_POST['maker'];

$model = $_POST['model'];

$year = $_POST['year']; 
```

和：

```
$maker = $model = $year = 'Not Set'; // Or just use a empty string: '';
if(isset($_POST['maker'])){
    $maker = $_POST['maker'];
}
if(isset($_POST['model'])){
    $model = $_POST['model'];
}
if(isset($_POST['year'])){
    $year = $_POST['year'];
} 
```

（从技术上讲，那些 if 不是必需的，但如果您想要变量中的默认“未设置”值，它们会很好）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:38:25.250

我不确定您到底要做什么，但是您问题的第一个 PHP 部分可以大大简化：

```
<?php

$action = $_SERVER['PHP_SELF'];

$fname = $_POST['fname'];
$phone = $_POST['phone'];
$e_mail = $_POST['e_mail'];
$service = $_POST['service'];
$maker = $_POST['maker'];
$model = $_POST['model'];
$year = $_POST['year'];
$message = $_POST['message'];

$headers = 'From: me <reply@locallockman.com>';
$thankyou = "thankyou.html"; // thank you page
if($fname && $phone && $e_mail && $service && $maker && $model && $year && $message){

    if(mail($to,$subject,$body,$headers)){
    header('Location: thankyou.html');

    }
    else{
        echo 'There was an error sending emails.';
    }

}

?> 
```

`$_POST`PHP 将空变量或 null 变量视为“假”，因此在将变量分配给局部变量后，您不必再次检查变量。但是，我看不到您在哪里创建，`$to`或者`$body`，所以这是一个问题。

# javascript - 主干：模型保存时的两个更改事件

> ID：14210822
> 
> 赞同：3
> 
> 时间：2013-01-08T08:17:46.887
> 
> 标签：javascript, backbone.js

当我尝试通过模型上`save`的更改事件更新 Backbone 中的模型时，会触发两次。事件按此顺序触发。

1.  改变
2.  要求
3.  改变
4.  同步

但是，如果我通过，则只会触发`(wait: true)`第一个事件。`change`

任何人都可以解释为什么会发生这种情况，以及我如何才能`change`在不通过的情况下只开火一次`(wait: true)`？

两个变化事件：

```
 editItem: function() {
        this.model.save({
            name: "Howard the Duck"
        });
    } 
```

一个变化事件：

```
 editItem: function() {
        this.model.save({
            name: "Howard the Duck"
        }, (wait: true);
    } 
```

伪代码：

```
App.Views.Item = Backbone.View.extend({
    initialize: function() {
        this.model.on("change", this.changing, this);
        this.model.on("request", this.requesting, this);
        this.model.on("sync", this.syncing, this);
    },

    events: {
        "click a": "editItem"
    },

    editItem: function() {
        this.model.save({
            name: "Howard the Duck"
        });
    }

    changing: function() {
        console.log("changing");
    },        

    requesting: function() {
        console.log("requesting");
    },

    syncing: function() {
        console.log("syncing");
    }
}); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T09:33:16.190

以下是在更改属性时保存模型时发生的情况的分解：

1.  `model.set`将数据作为参数传递时，当为假时
    触发*更改*事件`options.wait`
2.  XHR 请求
3.  `model.set`当服务器返回的数据为真或服务器返回的数据不是模型知道的数据时
    触发*更改*事件`options.wait`

您的服务器可能会返回一个修改后的属性，该属性会触发第二个*更改*事件。修改您的响应或限制您的事件监听

```
this.model.on("change:name", this.changing, this); 
```

比较这些小提琴

*   [http://jsfiddle.net/nikoshr/ZWFWx/](http://jsfiddle.net/nikoshr/ZWFWx/)
    响应是客户端发送的内容，
    您应该看到*更改*-*请求*-*同步*

*   [http://jsfiddle.net/nikoshr/QT3YJ/模拟您的问题的版本，其中服务器添加了模型](http://jsfiddle.net/nikoshr/QT3YJ/)*更改*
    中不存在的值-*请求*-*更改*-*同步*

# jquery - 通过切换 contentEditable 使用 jQuery 更新一行 span 中的 span 内容

> ID：14210830
> 
> 赞同：0
> 
> 时间：2013-01-08T08:18:31.770
> 
> 标签：jquery, contenteditable

我有一个包含多个跨度的 div。当用户点击跨度时，它应该变成可编辑的。这部分工作正常，但是当有人试图编辑其中的内容时，问题就开始了。

*   第一个字符无法删除
*   不能多次按退格键，用户需要在按一次退格键后让光标回到跨度。
*   如果只剩下一个字符，则可以将其删除，但跨度会消失。

这是HTML

```
<div class="entries">
  <p class="entry">
    <span class="name">Taj</span>
    <span class="city">Havelock</span>
    <span class="price">10000.00</span>
    <span class="updaterow" style="visibility: hidden;"><a href="#">Save</a></span>
  </p>
</div> 
```

和 JS

```
$('.entries').on('click','span', function() {
 $(this).attr('contentEditable', true);
 $(this).siblings('.updaterow').css('visibility','visible');
}).on('focusout','span',function() {
 $(this).attr('contentEditable', false);    
 $(this).siblings('.updaterow').css('visibility','hidden');
}); 
```

这里是 jsfiddle 上的相同内容，看看它是如何工作的[http://jsfiddle.net/VjUfZ/](http://jsfiddle.net/VjUfZ/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:24:17.580

使用 inline-block 代替 inline-table

```
span {
  width: 100px;
  display: inline-block;
} 
```

演示：http: [//jsfiddle.net/VjUfZ/2/](http://jsfiddle.net/VjUfZ/2/)

# ajax - Jquery中每个循环内的多个异步Ajax调用

> ID：14210831
> 
> 赞同：4
> 
> 时间：2013-01-08T08:18:38.167
> 
> 标签：ajax, jquery, asynchronous

我想在一个循环中调用多个 API（例如：$.each）。我可以用`async:false`mode 做到这一点，但它会使脚本滞后。如何在同步模式下实现这一点？只是忽略`async`选项只会将最后一个元素`list`发送到 api 调用。

```
$.each(lists, function(index, value) {

            channel = lists[index].channel;
            list = lists[index].list;

            $.ajax({
                url : 'api.php?list=' + list + '&from=' + from + '&to=' + to,
                dataType : 'json',
                async : false,
                success : function(data) {
                    obj = data;

                    $.ajax({
                        url : 'api.php?list=' + list + '&from=' + from + '&to=' + to + '&action=sender',
                        dataType : 'json',
                        async : false,
                        success : function(data) {

                            obj['senders'] = data.msg;
                            CommonContainer.inlineClient.publish(channel, obj);

                        }
                    });

                }
            });

        }); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T08:31:28.393

这是因为`channel`and`list`是全局的（或声明超出了传递给 的函数的范围`$.each`），因此不受闭包的保护。

用这个 ：

```
 var channel = lists[index].channel;
  var list = lists[index].list; 
```

您还应该声明`obj`为

```
 var obj = ... 
```

# cordova - phonegap 应用程序可以在后台运行吗？

> ID：14210832
> 
> 赞同：40
> 
> 时间：2013-01-08T08:18:41.350
> 
> 标签：cordova, background

我的意思是完全在后台工作，例如即使屏幕关闭，应用程序正在运行并且可以发送声音通知。

我的应用程序用于查看价格变化。价格变动时会发出声音提示。

那么，答案应该是yes还是no？谢谢。

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-01-08T08:36:37.567

这里有一些链接可以帮助你

[链接1：类似的SO问题](https://stackoverflow.com/questions/10343828/creating-an-android-service-with-phonegap-have-phonegap-app-run-even-when-clos)

[链接 2：红色文件夹博客](http://red-folder.blogspot.in/2012/09/phonegap-android-background-service_11.html)

[链接 3：GitHub 中的 BackgroundService 插件](https://github.com/Red-Folder/phonegap-plugins/tree/master/Android/BackgroundService)

**更新**

[链接4：iOS4上的Phonegap后台服务](https://stackoverflow.com/questions/3841962/phonegap-background-service-on-ios4)

[链接5：iOS5中的phonegap后台服务](https://stackoverflow.com/questions/11191139/phonegap-background-service-in-ios5)

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2014-05-22T15:10:47.700

由于 iOS 7 出现了另一种可能的解决方案，我将为 iOS 7 及更多用户提供额外的答案。

新的[后台获取](http://www.objc.io/issue-5/multitasking.html)功能可以定期更新后台应用程序的内容。获取的时间间隔不能由用户设置，而是由 iOS 根据其用户的统计信息（应用程序使用情况等）设置。

可以通过插件使用 PhoneGap/Cordova 访问此新功能 - 幸运的是，已经[开发了一个](https://github.com/christocracy/cordova-plugin-background-fetch)提供此访问权限的插件。您可以通过以下方式将其安装到您的 Cordova 项目中

```
cordova plugin add https://github.com/christocracy/cordova-plugin-background-fetch.git 
```

结合提供访问[iOS 本地通知](https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/WhatAreRemoteNotif.html)的插件，这会产生奇迹。也开发了这样的插件，例如[这个](https://github.com/katzer/cordova-plugin-local-notifications)。通过以下方式将其安装到您的 Cordova 项目中

```
cordova plugin add https://github.com/katzer/cordova-plugin-local-notifications.git 
```

这些插件现在可以组合到您的 javascript 代码中，以执行后台活动：

```
function onDeviceReady() {
    var Fetcher = window.plugins.backgroundFetch;

    // Your background-fetch handler.
    var fetchCallback = function() {
        console.log('BackgroundFetch initiated');

        // perform your ajax request to server here
        $.get({
            url: '/heartbeat.json',
            callback: function(response) {
                // process your response and whatnot.

                window.plugin.notification.local.add({ message: 'Just fetched!' });  //local notification
                Fetcher.finish();   // <-- N.B. You MUST called #finish so that native-side can signal completion of the background-thread to the os.
            }
        });
    }
    Fetcher.configure(fetchCallback);
} 
```

这个抓取插件使用`UIApplicationBackgroundFetchIntervalMinimum`抓取间隔的值，这会导致最快的抓取周期。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-26T14:32:29.630

如果您为 ios 7 + 构建cordova，并准备将通用代码跳出到 xcode 中，您可以将“必需的背景模式”添加到 ios 构建的 .plist 文件中，它不会被新构建覆盖.

例如，我选择了“应用程序从网络下载内容”选项

然后，您所要做的就是确保您的应用程序每隔几分钟就会戳到外部世界（我使用的是 firebase，所以我得到了一个虚拟节点的值）。

我还没有提交到应用商店，但是如果请求不是太频繁（我知道应用在暂停之前大约有 10 分钟的后台时间）以及你的应用在后台需要的资源，我看不出它应该如何失败/at rest 并不繁重。

这可以将这个问题的解决方案归结为代码中的几行代码。

# smartgwt - SmartGWT：如何在树的特定节点内添加记录

> ID：14210833
> 
> 赞同：0
> 
> 时间：2013-01-08T08:18:41.443
> 
> 标签：smartgwt

我在 TreeGrid 中有一棵树，这棵树有不同的节点。

我想要的是在特定节点（即最喜欢的节点）内添加选定的记录（我有记录）。

我可以实现的只是在 TreeGrid 中添加记录，但它应该插入到特定节点中（比如说我的 treeGrid 中的第一个节点）。

我怎样才能做到这一点？

代码片段：

```
private AnimateTreeNode favoriteNode = new AnimateTreeNode("My Favorites");

    TreeGrid clientTreeGrid = new TreeGrid(); 
    Tree clientTree = new Tree(); 

    clientTree.setModelType(TreeModelType.CHILDREN);  
    clientTree.setNameProperty("My space");  
    clientTree.setRoot(new AnimateTreeNode("fav",favoriteNode);

    clientTreeGrid.setData(clientTree);  
    clientTreeGrid.setCanReparentNodes(false);  
    clientTreeGrid.setSelectionType(SelectionStyle.SINGLE);

    favoritesMenuItem.addClickHandler(new ClickHandler() {  
    public void onClick(MenuItemClickEvent event) {  
        UserRecord record = (UserRecord) userGrid.getSelectedRecord();
        categoryTree.addData(record);        
    }  
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T08:14:26.180

UserRecord 似乎是来自其他组件（即 UserGrid）的记录。所以你可以在这里做的是，从所选记录的信息中形成一个节点并将其添加到树中。请让我知道这对你有没有用。

**编辑：**以下代码片段可能会进一步帮助您。

```
TreeGrid sampleTreeGrid = new TreeGrid();
    sampleTreeGrid.setShowHeader(false);
    TreeGridField sampleTreeGridField = new TreeGridField("testMenu", " ");

    TreeNode rootNavNode = new TreeNode("root");
    rootNavNode.setAttribute("testMenu", "root");

    TreeNode testNode = new TreeNode();
    testNode.setTitle("Test Node");
    testNode.setAttribute("testMenu", "Test Node");

    Tree mainTree = new Tree();
    mainTree.setRoot(rootNavNode);

    mainTree.setModelType(TreeModelType.PARENT);
    mainTree.setNameProperty("mainTreeTitle");
    mainTree.add(testNode, mainTree.getRoot());

    sampleTreeGrid.setData(mainTree);
    sampleTreeGrid.setFields(sampleTreeGridField); 
```

这里的关键部分是分配创建的节点。不要将记录直接添加到 TreeGrid。您应该从用户网格中的选定记录创建一个新的树节点，然后将该节点添加到您希望的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T14:12:25.577

您必须阅读您选择的记录并使用您感兴趣的记录字段的值设置新节点的不同属性。之后，您将新节点添加到`Tree`并将树形网格的数据设置到您的`Tree`. 如果你想添加一些，一个节点会得到一个 Title、Name Id 和你的属性。A`ListGridRecord`没有这些属性。我认为没有一种自动的方法可以做到这一点。

# python - wx.grid 不更新行数

> ID：14210836
> 
> 赞同：2
> 
> 时间：2013-01-08T08:19:07.363
> 
> 标签：python, grid, wxpython, wxwidgets

我正在尝试在更改表数据后通过调用 grid.ForceRefresh() 来更新 wx.grid.PyGridTableBase。但是，不会刷新行数，因此该表仍显示原始（更新前）行数。我能做些什么来完全更新网格吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T14:21:45.807

您可能忘记通知网格您所做的更改。您可以在 wxPython 演示中找到一个示例，或者您可以阅读这个关于该主题的旧线程：

[https://groups.google.com/forum/?fromgroups=#!msg/wxpython-users/z4iobAKq0os/zzUL70WzL_AJ](https://groups.google.com/forum/?fromgroups=#!msg/wxpython-users/z4iobAKq0os/zzUL70WzL_AJ)

其中说：

```
msg = wx.grid.GridTableMessage(self,          # The table
      wx.grid.GRIDTABLE_NOTIFY_ROWS_APPENDED, # what we did to it
      1                                       # how many
      ) 
```

或者

```
msg = wx.grid.GridTableMessage(self,          # The table
      wx.grid.GRIDTABLE_NOTIFY_ROWS_INSERTED, # what we did to it
      5,                                      # from which row
      1                                       # how many
      ) 
```

或者

```
msg = wx.grid.GridTableMessage(self,          # The table
      wx.grid.GRIDTABLE_NOTIFY_ROWS_DELETED,  # what we did to it
      5,                                      # from which row
      1                                       # how many
      ) 
```

其次是

```
self.GetView().ProcessTableMessage(msg) 
```

您还可以在 wxPython wiki 上阅读相关内容：[http ://wiki.wxpython.org/wxGrid](http://wiki.wxpython.org/wxGrid)

# jquery - 如何打印结构化数组并在数组中推送值

> ID：14210843
> 
> 赞同：0
> 
> 时间：2013-01-08T08:19:20.740
> 
> 标签：jquery

我是 JQuery 的新手。我在这里学习 JQuery 基础知识，并认真了解数组在 jQuery 中的工作原理。

```
<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
    <style>
  div { color:blue; }
  span { color:red; }
</style>
    <script src="jquery-latest.js"></script>
</head>
<body>

<div id="myDiv"></div>

<script>
$(document).ready(function() {

    var testArray = ["test1","test2","test3","test4"];
    var new_array=[];
    var vPool="";

    /*i tried but this pushing code dosen't work*/

   //pushing values in new_array
    $("new_array").push({"test1","test2","test3","test4"});

    //fetching the values of new_array 
    $.each(new_array, function(i, val) {
      vPool+=val + "<br />";
    });
    $('#myDiv').html(vPool);--->
    //vPool="";

    /*But i tried this code it work fine */

    //fetching the values of new_array 
    $.each(testArray, function(i, val) {
      vPool+=val + "<br />";
    });
    $('#myDiv').html(vPool); 
    //vPool="";

});
</script>

</body>
</html> 
```

我想知道如何像我们在 PHP 中打印一样打印结构化数组：

```
echo "<pre>";
print_r($array); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:22:42.247

删除`$("")`环绕`new_array`。此外，您正在推动一个定义不正确的对象。并且该`push()`函数与jQuery无关，它是纯JavaScript。

关于整个阵列的*打印*，您应该`console.log()`在安装了 Firebug 扩展的 Chrome 或 Firefox 中尝试。

```
$(document).ready(function() {

    var testArray = ["test1","test2","test3","test4"];
    var new_array=[];
    var vPool="";

    /*i tried but this pushing code dosen't work*/

    //pushing values in new_array
    new_array.push("test1","test2","test3","test4");
    console.log(new_array);

    $.each(new_array, function(i, val) {
        vPool+=val + "<br />";
        console.log(val);
    });

}); 
```

该`push()`函数返回数组的新长度。

# asynchronous - 来自未知 IPAddress 的 GetAsync 导致应用程序崩溃

> ID：14210846
> 
> 赞同：2
> 
> 时间：2013-01-08T08:19:30.593
> 
> 标签：asynchronous, asp.net-web-api, httpclient

应用：

*   使用 HttpClient 从 Web API 异步获取数据的 WPF 应用程序（例如：“http://< **ServerIP** >/api/GetData”）
*   获取数据间隔：3s；

示例代码：

```
 //initialize
    _httpClient.BaseAddress = new Uri("http://192.168.1.100");
    _httpClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json"));

    //get data method
    //......
    var response = await _httpClient.GetAsync(uri); //called every 3 seconds
    //...... 
```

三种情况：

1.  当**ServerIP**是正确的提供 Web API 服务时，WPF 应用程序工作正常；
2.  当**ServerIP**是一个没有提供正确Web API Service的已知IP时，会导致System.dll中出现异常（SocketException -> WebException -> ObjectDisposedException -> HttpRequestException ->...应该是正常的），但仍然WPF 应用程序不会崩溃；
3.  当**ServerIP**不存在时，**System.dll**中出现异常（SocketException -> WebException -> ObjectDisposedException -> HttpRequestException ->...再次，应该是正常的），但几分钟后，它会导致“System.Threading .Tasks.TaskCanceledException" 在**mscorlib.dll**中，然后 WPF 应用程序**崩溃**。

问题：

*   上述情况3的TaskCanceledException如何处理，防止应用崩溃？

**更新1**：

*   实际上，我忘了捕获TaskCanceledException，当然可以在应用程序代码中捕获；

所以，**问题解决了**。

# fpga - FPGA PCIe DMA 写入不会改变 CPU RAM

> ID：14210850
> 
> 赞同：1
> 
> 时间：2013-01-08T08:19:45.117
> 
> 标签：fpga, xilinx, dma, pci-e

我正在研究 Xilinx FPGA 和 PC over PCIe 之间的 DMA 连接。但是，从 FPGA 到计算机的 DMA 传输不起作用。我转储了 FPGA 通过 ChipScope 发送的 PCIe 包：

(头)0x6000_0002,0x0600_01FF,(地址)0x0000_0000,0x3740_0000,(数据)0x0000_0001,0x0000_0002

它应该将 0x1,0x2 写入内存地址 0x3740_0000，但写入没有发生。另一方面，从同一地址读取工作完美。32位和64位地址我都试过了，都不行。我正在使用的计算机是 AMD 64 位机器。我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T17:23:10.923

我看到您正在尝试以 64 位地址模式和 2 长度写入。为了让事情更容易，尝试 1 长度和 32 位地址（不要忘记将字节启用更改为 0x0F 以实现 1 DW 写入 tlp，检查 trn_tdst_rdy_n 是否在任何时候变高）。您是否使用程序分配了该内存，您为此使用了什么程序？我认为您的问题在于内存管理，因为成功的读取操作意味着您在 fpga 方面是安全的。

# mysql - 如何配置自定义 MySQL NHibernate Batcher？

> ID：14210857
> 
> 赞同：2
> 
> 时间：2013-01-08T08:20:19.350
> 
> 标签：mysql, nhibernate, batching

带有 MySQL Dialect 的 NHibernate 不支持开箱即用的批处理。我在 nuget 上找到了用于 NHibernate 的自定义 MySQL Batcher。另外，以下是github链接：

[https://github.com/Andorbal/NHibernate.MySQLBatcher](https://github.com/Andorbal/NHibernate.MySQLBatcher)

但我不知道如何将其注入/设置到我的`hibernate.cfg.xml`配置中。

如何配置自定义 MySQL NHibernate Batcher？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T17:15:26.487

您需要设置的属性称为“adonet.factory_class”。使用以下任何一种：

```
<property name="adonet.factory_class">assembly-qualified-name</property> 
```

或者

```
configuration.SetProperty(
    Environment.BatchStrategy,
    typeof(MySqlClientBatchingBatcherFactory).AssemblyQualifiedName); 
```

或如批处理器本身的自述文件中所述（https://github.com/Andorbal/NHibernate.MySQLBatcher）：

```
config.DataBaseIntegration(db =>
    db.Batcher<MySqlClientBatchingBatcherFactory>()); 
```

# ruby-on-rails-3 - 如何将 pry 与 RubyMine IRB 控制台集成？

> ID：14210860
> 
> 赞同：5
> 
> 时间：2013-01-08T08:20:50.527
> 
> 标签：ruby-on-rails-3, rubymine, pry

如何使用 pry 调试 rails 应用程序而不是 RubyMine IRB 控制台？我应该只添加 pry-rails 并 pry 到我的 gemfile 吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T12:50:56.480

尚不支持，[请投票支持此功能请求](http://youtrack.jetbrains.com/issue/RUBY-9302)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-01-26T21:39:09.430

现在支持 - 从 RubyMine 2020.3.0 开始。

[https://www.jetbrains.com/help/ruby/running-console.html](https://www.jetbrains.com/help/ruby/running-console.html)

# android - phonegap/cordova 创建项目说缺少以下一项

> ID：14210861
> 
> 赞同：1
> 
> 时间：2013-01-08T08:20:55.080
> 
> 标签：android, cordova

我四处搜索并看到了一些关于这个问题的问题，但我已经尝试了所有解决方案，但我仍然无法创建项目。

在运行此代码时`command prompt`：

```
create <project_folder_path> <package_name> <project_name> 
```

结果总是：

```
Missing one of the following:
JDK: http://java.oracle.com
Android SDK: http://developer.android.com
Apache ant: http://ant.apache.org 
```

我知道已经有一些关于这个的问题。我已经尝试了他们提供的所有解决方案，但仍然没有运气。

按照[指南](http://docs.phonegap.com/en/2.3.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android)和类似问题的一些解决方案，到目前为止我已经尝试过：

1.  检查、仔细检查、三重检查 PATH 的环境变量：

    *   Java 开发工具包 (C:\Program Files\Java\jdk1.7.0_10\bin)
    *   Android SDK 平台工具（D:\Development\Android\android-sdk\platform-tools）
    *   Android SDK 工具 (D:\Development\Android\android-sdk\tools)
    *   Apache ANT (D:\Development\apache-ant-1.8.4\bin)
2.  打开命令提示符并：

    *   类型：java -version（工作 - 显示版本 1.7.0_10）
    *   类型：javac -version（工作 - 显示版本 1.7.0_10）
    *   类型：ant -version（工作 - 显示版本 1.8.4）
    *   类型：adb（工作）
    *   类型：android（工作 - 启动 android sdk 管理器）
3.  使用[PhoneGap](http://phonegap.com/download)和[Cordova的 phonegap/cordova](http://cordova.apache.org/#download)

4.  确保文件夹路径`<project_folder_path>`不存在

5.  不使用 - 在包名称中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-12T13:09:01.533

除了在 PATH 系统变量中添加 JDK 和 Apache Ant 之外，还要添加两个系统变量：JAVA_HOME (C:\Program Files\Java\jdk1.7.0_10) 和 ANT_HOME (D:\Development\apache-ant-1.8.4) .

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-25T07:09:33.813

我的 Java home 指向 JRE 而不是 JDK，请检​​查 JAVA_HOME 是否指向 JDK。检查 javac 命令是否正常工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-25T21:01:07.437

在我的情况下，添加的路径 ;%JAVA_HOME%\bin;%ANT_HOME%\bin 没有将任何变量 %JAVA_HOME% 或 %ANT_HOME% 替换为设置值，即使它们被设置为系统环境变量。

解决方案是：

*   关闭nodejs提示

*   以管理员身份启动 nodejs 提示符

*   c:> 路径

路径现在正常

*   关闭nodejs提示

*   启动 nodejs 提示 - 不是管理员

*   c:> 路径

路径还可以

为什么它只是以管理员身份启动然后恢复正常？可能是Win8中的某个错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-20T17:13:09.037

以下环境变量必须起作用：

*   爪哇
*   爪哇
*   蚂蚁
*   亚行
*   安卓

要查看它们是否有效，请同时按下键盘 WINDOWS + r，然后输入“cmd”。然后输入“java”例如，如果它说它没有找到，那么你必须修复它。

# android - 使用自定义列表视图打开对话框

> ID：14210863
> 
> 赞同：1
> 
> 时间：2013-01-08T08:20:59.443
> 
> 标签：android, android-listview, android-dialog

我想在单击按钮时打开对话框。我的对话框具有列表视图，它将显示一个图像，每行带有文本。但是当我将适配器分配给我的列表视图时，它会引发异常。

这是我打开对话框的方法：

```
public void openShareDialog()

    {
        Dialog d = new Dialog(this);
        d.setTitle("Select Color Mode");
        d.setContentView(R.layout.share_list);

        String s[] = { "Facebook", "Twitter" };
        int image[] = { R.drawable.facebook, R.drawable.twitter };

        ArrayList<HashMap<String, String>> objArayList = new ArrayList<HashMap<String, String>>();

        for (int i = 0; i < 2; i++) {
            HashMap<String, String> listData = new HashMap<String, String>();
            listData.put("text", s[i]);
            listData.put("image", Integer.toString(image[i]));

            objArayList.add(listData);

        }

        String[] from = { "image", "text" };
        int[] to = { R.id.list_image, R.id.text };

        SimpleAdapter listAdapter = new SimpleAdapter(context, objArayList,
                R.layout.share_list_item, from, to);
        ListView lst1 = (ListView) findViewById(android.R.id.list);

        lst1.setAdapter(listAdapter);
        lst1.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {

            }
        });

        d.show();

    } 
```

我的 xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:focusable="true"
    android:focusableInTouchMode="true"
    android:orientation="vertical" >

    <ListView
        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:divider="#000000"
        android:dividerHeight="2dp" />

</RelativeLayout> 
```

列表行的 xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ImageView
        android:id="@+id/list_image"
        android:layout_width="50dip"
        android:layout_height="50dip"
        android:src="@drawable/listmusicicon" />

    <TextView
        android:id="@+id/text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@+id/list_image"
        android:maxLines="1" />

</RelativeLayout> 
```

当我设置适配器时，它会引发异常。那么问题是什么？请提出一些解决方案。

**错误是：**

```
01-08 13:56:53.835: 
E/AndroidRuntime(734): 
FATAL EXCEPTION: main 01-08 13:56:53.835: 
E/AndroidRuntime(734): java.lang.NullPointerException 01-08 13:56:53.835: 
E/AndroidRuntime(734): at com.androidhive.musicplayer.AndroidBuildingMusicPlayerActivity.openShareDialog(A‌​ndroidBuildingMusicPlayerActivity.java:1346) 
01-08 13:56:53.835: E/AndroidRuntime(734): at com.androidhive.musicplayer.AndroidBuildingMusicPlayerActivity$15.onClick(Androi‌​dBuildingMusicPlayerActivity.java:481) 
01-08 13:56:53.835: 
E/AndroidRuntime(734): at android.view.View.performClick(View.java:4084) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:25:02.613

错误在这里

```
ListView lst1 = (ListView) findViewById(android.R.id.list); 
```

您正在尝试从主布局访问列表视图，而不是对话框的布局，您应该尝试类似..

```
ListView lst1 = (ListView) d.findViewById(android.R.id.list); 
```

# c# - 如何通过在c#中选择组合框项从sql数据库中获取值

> ID：14210864
> 
> 赞同：0
> 
> 时间：2013-01-08T08:21:01.087
> 
> 标签：c#, sql-server, database, sql-server-2008, types

我正在尝试这种编码，这种编码有什么错误：

```
private void comboBox2_SelectedIndexChanged(object sender, EventArgs e)
        {
            SqlConnection con = new SqlConnection("Data Source =TWPL-PC\\SQLEXPRESS;Initial Catalog=TWPLSOFTWARE;Integrated security = True");
            con.Open();
            SqlCommand cmd = new SqlCommand("select ACC_ID ,ACC_TYPE ,ACC_ADD,ACC_CITY ,ACC_STATE ,ACC_COUNTRY ,ACC_TIN_N0 ,ACC_ECC_NO,ACC_RANGE,ACC_DIVISION ,ACC_COMMISS ,ACC_GST_NO ,ACC_CONTACT_PERSON ,ACC_PHONE_NO ,ACC_MOBILE_NO ,ACC_EMAIL ,ACC_PRICE_CODE ,ACC_APPROVAL_STATUS,ACC_PAN_NO from ACCOUNT where ACC_NAME='" + comboBox2.SelectedItem.ToString() + "'", con);
            cmd.Parameters.Add(new SqlParameter("@ACC_NAME", comboBox2.SelectedItem.ToString()));
            SqlDataReader dr = cmd.ExecuteReader();
            while (dr.Read())
            {
                textBox17.Text = dr.GetString(0).ToString();
                comboBox1.SelectedItem = dr.GetString(1).ToString();
                richTextBox1.Text = dr.GetString(2).ToString();
                textBox2.Text = dr.GetString(3).ToString();
                textBox3.Text = dr.GetString(4).ToString();
                textBox4.Text = dr.GetString(5).ToString();
                textBox9.Text = dr.GetString(6).ToString();
                textBox11.Text = dr.GetString(7).ToString();
                textBox13.Text = dr.GetString(8).ToString();
                textBox14.Text = dr.GetString(9).ToString();
                textBox16.Text = dr.GetString(10).ToString();
                textBox12.Text = dr.GetString(11).ToString();
                textBox5.Text = dr.GetString(12).ToString();
                textBox6.Text = dr.GetString(13).ToString();
                textBox8.Text = dr.GetString(14).ToString();
                textBox7.Text = dr.GetString(15).ToString();
                textBox15.Text = dr.GetString(16).ToString();
                //checkBox1.Checked=dr.GetString().ToString();
                textBox10.Text = dr.GetString(18).ToString();

            }                     

        } 
```

这是我的问题：

> “数据类型 text 和 varchar 在等于运算符中不兼容。”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:28:36.993

您`@ACC_NAME`首先在查询中分配变量，然后再次尝试添加为参数。[`SqlCommand.Parameters`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.parameters.aspx)从 MSDN 签出。

试试这样；

```
SqlCommand cmd = new SqlCommand("select ACC_ID ,ACC_TYPE ,ACC_ADD,ACC_CITY ,ACC_STATE ,ACC_COUNTRY ,ACC_TIN_N0 ,ACC_ECC_NO,ACC_RANGE,ACC_DIVISION ,ACC_COMMISS ,ACC_GST_NO ,ACC_CONTACT_PERSON ,ACC_PHONE_NO ,ACC_MOBILE_NO ,ACC_EMAIL ,ACC_PRICE_CODE ,ACC_APPROVAL_STATUS,ACC_PAN_NO from ACCOUNT where ACC_NAME=@ACC_NAME;", con);
cmd.Parameters.AddWithValue("@ACC_NAME", comboBox2.SelectedItem.ToString())); 
```

也基于您的错误信息；

> 数据类型 text 和 varchar 在 equal to 运算符中不兼容。

在您的数据库中，我认为您的`ACC_NAME`列类型是`text`. 这就是为什么当您尝试在字符串中分配它时会出现错误的原因。你有两个选择；

*   `ACC_NAME`将您的列类型更改为`nvarchar`在您的数据库中。`Text`数据类型已弃用。
*   在您的子句中使用`LIKE`运算符而不是。您无法与运营商进行比较。尝试;`=``WHERE``text``=`

> 其中 ACC_NAME LIKE @ACC_NAME;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:28:17.910

我想这是一个winform项目，错误来自

```
comboBox2.SelectedItem.ToString() 
```

如果 comboBox2 绑定到数据源，请尝试使用 SelectedValue 或 SelectedText

否则，您也可以使用 Combobox 的 Text 属性

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:29:02.067

您的 SQL 查询中没有 @ACC_NAME 参数。修改您的查询，例如

```
SqlCommand cmd = new SqlCommand("select ACC_ID ,ACC_TYPE ,ACC_ADD,ACC_CITY ,ACC_STATE ,ACC_COUNTRY ,ACC_TIN_N0 ,ACC_ECC_NO,ACC_RANGE,ACC_DIVISION ,ACC_COMMISS ,ACC_GST_NO ,ACC_CONTACT_PERSON ,ACC_PHONE_NO ,ACC_MOBILE_NO ,ACC_EMAIL ,ACC_PRICE_CODE ,ACC_APPROVAL_STATUS,ACC_PAN_NO from ACCOUNT where ACC_NAME=@ACC_NAME;", con); 
```

或删除该`cmd.Parameters.Add(new SqlParameter("@ACC_NAME", comboBox2.SelectedItem.ToString()));`声明。

**编辑 ：**

似乎这`comboBox1.SelectedItem = dr.GetString(1).ToString();`是导致问题的原因。我建议使用`comboBox2.Text = dr.GetString(1).ToString();`或更好地设置使用`comboBox2.SelectedIndex`

# javascript - 谷歌浏览器 PDF 查看器 API？

> ID：14210865
> 
> 赞同：14
> 
> 时间：2013-01-08T08:21:03.367
> 
> 标签：javascript, google-chrome, pdf-reader

是否有任何 API 用于与 Google Chrome PDF 查看器[pdfium](https://code.google.com/p/pdfium/)进行交互？喜欢阅读当前页面的页码或设置当前页面（如[Adob`#page=10`](http://www.rdpslides.com/psfaq/FAQ00050.htm) ​​e ）或支持库（如[PDFObject](http://pdfobject.com/) ）来执行这些操作？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-08T08:27:23.843

Chrome PDF 阅读器支持`#page=X`作为 URL 的后缀，以便跳转到 PDF 文档中的特定页面

假设您正在阅读一个页面，`https://www.example.com/examplePDF#page=4`它直接打开第 4 页。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-08T08:25:35.720

如果您的目标是使用 js 查看客户端 pdf，您可能想看看[PDF.js](http://mozilla.github.com/pdf.js/) 它甚至是开源的。

# sql - 使用 Visual-Paradigm 连接到数据库

> ID：14210868
> 
> 赞同：1
> 
> 时间：2013-01-08T08:21:12.263
> 
> 标签：sql, database, sqlite, information-schema, visual-paradigm

我刚刚开始使用 Visual Paradigm，我正在尝试连接到 Iphone App 使用的数据库。它位于我的一个文件夹（名为 Project.db）中。我想连接到它并在这样做时遇到一些问题。

我遵循的步骤：

```
1) Click Tools -> Database -> Reverse Database
2) A pop up opens up, Language is Java and click next
3) Driver is sqlite and using JDBC to connect to the database, so I am using sqlite-jdbc-3.7.2-sources.jar that I downloaded.( Not really sure abt this)
4) Under the connection url: selected the jdbc:sqlite:Project.db option.( Am i doing this right?)

But when I click Test Connection, it says connect successful. 
```

但是，当我单击下一步时，没有显示任何表格。我究竟做错了什么？需要一些指导和建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T10:16:11.123

唯一可能导致此问题发生的是将数据库名称留空。你输入你的数据库名称了吗？

# cordova - Windows RT/8 平板电脑 - 从 Windows 7 部署

> ID：14210869
> 
> 赞同：1
> 
> 时间：2013-01-08T08:21:18.177
> 
> 标签：cordova, deployment, windows-7, windows-8, tablet

我一直在环顾四周，MSDN根本不是很清楚（或者我可能整天都在这样做）

这是我的情况。我正在构建一个 PhoneGap/Cordova 应用程序，最近被要求将它（由 Microsoft 自己）移植到 Windows Phone 平台，所以工作继续进行并给我买了一个 Windows8 Tablet/RT。

我目前正在运行 Windows7，并且我阅读了一篇文章，您可以将 Windows7 Phone 应用程序部署到 Windows8 平板电脑（Xap 包装或其他）

但我无法让我的电脑识别 Windows8 平板电脑，我什至不知道如何从这一步开始。

我运行错误的设备吗？我正在开发的应用程序是针对移动框架的，但是微软的这个新品牌非常令人困惑，并开始让我感到困惑。我是否正确假设我可以部署 WindowsPhone7 应用程序并部署到 Windows8 平板电脑？我可以在 VS2010 中得到它，但我无法执行部署步骤。

没有什么是直截了当的，我找不到任何文章，因为搜索词很混乱（我正在输入从 Windows 7 部署到 Windows 8 平板电脑）

我有 Visual Studio 2010 和 2012。我已经设法使用 /layout 命令安装了 Windows8 Phone SDK（而且我有 windows7.1 Phone SDK）

我对微软设备一无所知，因为直到最近我一直在避免它哈！我的大部分开发人员。已通过 Mac 电脑完成

任何帮助将不胜感激。非常感谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T01:48:10.403

咬紧牙关安装了windows8。不是它的忠实粉丝……但这就是生活

# c++ - C++ 以十六进制检索 Unicode 代码点

> ID：14210870
> 
> 赞同：0
> 
> 时间：2013-01-08T08:21:20.910
> 
> 标签：c++, unicode, iso-8859-1, unsigned-char

我想以十六进制检索字符的 unicode 表示。例如，对于字符 €，该值应为 0x0080。我只需要为 ISO 8859-1 执行此操作，即 unicode 编码的前 256 个字符。因此，我在 C++ 中使用强制转换为 unsigned char 来执行此操作，如下所示：

```
(unsigned char) normal_character 
```

这里， normal_character 是 char 类型。到目前为止，这已经奏效了，但是有什么我应该注意的警告吗？

谢谢！

编辑：

我以字符 € 为例。它不在 ISO 8859-1 字符集中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T09:25:28.253

根据定义，ISO-8859-1 编码与 Unicode 表的前 256 个代码点相同。所以一个简单的数字转换就足够了。但是请注意，Unicode 代码点至少需要 32 位（实际上只有 21 位，但是...`uint21_t`通常不存在）：

```
char ch_iso88591 = 'a';
uint32_t ch_unicode = (uint32_t)(unsigned char)ch_iso88591; 
```

正如您在问题中正确指出的那样，由于签名`unsigned char`的可能性，您必须将其转换为。`char`

如果原始字符集不是 ISO-8859-1（当然是 ASCII），则需要使用表格。例如，Windows-1252 通常与 ISO-8859-1 混淆，但它们有些不同（请参阅您的 € 示例）。如果您有 Windows-1252，那么您**确实需要**一张桌子。这个表的构建其实很简单，你可以自己复制[维基百科文章](http://en.wikipedia.org/wiki/Windows-1252)中的值（只需要0x80到0xFF之间的值），因为0x00-0x7F的范围是完全一样的）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T09:00:55.317

# windows - 在驱动程序中获取性能计数器

> ID：14210871
> 
> 赞同：1
> 
> 时间：2013-01-08T08:21:21.900
> 
> 标签：windows, driver

我可以通过 QueryPerformanceCounter() 在 Ring3 中获得时间。在 Windows 驱动程序中，我想获得性能计数器。有没有像 QueryPerformanceCounter() 这样的函数？

# javascript - var（取自 xml 文件，带有 javascript）在 [> ID：14210873
> 
> 赞同：0
> 
> 时间：2013-01-08T08:21:28.917
> 
> 标签：javascript, jquery

我重新发布了这个问题（我删除了我之前所做的事情，因为我的错，我不够清楚，我深表歉意）。

我有这个变量：

```
var telefono = $(this).find('Telefono').text(); 
```

这个“Telefono”是一个数字，取自一个带有 javascript 的 xml 文件。我没有发布所有功能，但如果您认为它有帮助，请告诉我。

我需要把这个 var 放在一个按钮中。这是一个移动网站的按钮（在 jquery 中），带有命令“tel”（它使用 {} 之间的数字来拨打电话）：

```
< a target = "_blank " href = " tel:{{"telefono"}} " data-role="button" > 
```

我找不到在按钮中写入 var 的正确方法。

你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:23:58.377

你可以这样做 ：

```
$('a[href~="tel:{{telefono}}"]').attr('href', 'tel:'+telefono); 
```

如果你想要更通用的东西，也就是说你想替换你`{{telefono}}`所有的属性`href`，你可以使用这个：

```
$('[href~="{{telefono}}"]').attr('href', function(i, v) {
   return v.replace('{{telefono}}', telefono);
}); 
```

编辑 ：

如果您还想更改元素的内容`a`，可以这样做：

```
$('[href~="{{telefono}}"]').attr('href', function(i, v) {
   return v.replace('{{telefono}}', telefono);
}).html(telefono); 
```](</h1)

# spring - 使用 Spring 和 Jackrabbit 上传/下载文件

> ID：14210874
> 
> 赞同：1
> 
> 时间：2013-01-08T08:21:33.350
> 
> 标签：spring, jakarta-ee, jackrabbit, jcr

我的应用程序需要使用 Jackrabbit RMI 存储库上传/下载文件。我使用的是 Spring 3.1、Tomcat 6、PostgreSQL 9。那么哪个版本的 Jackrabbit 与我当前的应用程序兼容？我也对如何进行这项工作感到困惑。我不期待详细级别的编码我只是想知道我应该遵循什么结构？喜欢：我现在正在运行具有上述规格的应用程序

*   如何集成 Jackrabbit 我应该使用什么配置。
*   我想将数据存储到数据库（PostgreSQL）中，我应该遵循什么配置？

我可以参考任何链接或示例项目吗？请帮助我很久以来一直在这里停留。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T07:05:06.907

最新版本的 Apache Jackrabbit（2.5.2 或 2.4.3）应该是兼容的，因为我们在 Silverpeas 中使用它。Jackrabbit 团队不建议通过 RMI 连接：

> 警告：当前的 JCR-RMI 库是为简单而非性能而设计的。[如果您尝试在 JCR-RMI（ Jackrabbit 文档](http://jackrabbit.apache.org/repository-server-howto.html)）之上运行任何重要的应用程序，您可能会遇到主要的性能问题。

您可以查看[我们](https://github.com/ehsavoie/Silverpeas-Core/blob/feature_82/web-core/src/main/java/org/silverpeas/attachment/web/SimpleDocumentResourceCreator.java)创建文档（文件 + 元数据）但在 servlet 中而不是在 Spring MVC 中的代码。因为在上传之后我们使用标准的 JCR API，在你使用 JcrUtils 从你的 rmi URL 获得一个 Repository 之后，一切都应该是相同的。

# android - 在本地从 android 调用 Web 服务

> ID：14210878
> 
> 赞同：1
> 
> 时间：2013-01-08T08:21:52.373
> 
> 标签：android

我已经建立了一个从我的android应用程序调用的网络服务。我的问题是，当我想用​​我的笔记本电脑连接我的手机并在不使用互联网的情况下在本地调用这个服务时。（假设我的服务器在本地运行）我怎么能这样做？我知道在运行 avd 时有一个 shell 属性，但是当我从与我的服务器在同一个局域网中的平板电脑上运行它时，如何实现这一点？谢谢你的时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:26:57.207

当您想使用 Internet 调用 Web 服务时，您使用服务器的外部 ip 和端口。但是如果你想在本地调用你的 web 服务（不使用 Internet），你需要使用你服务器的内部 ip。*您可以从 Windows 命令ipconfig*或 linux 命令*ifconfig*查看您的内部 IP

 ** * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:27:10.800

您的手机和笔记本电脑是如何连接的？要使用在您的笔记本电脑中运行的网络服务，您需要在同一网络中运行两者，例如您需要将笔记本电脑和移动设备连接到网络中的 wifi 路由器。当您使用电缆或wifi将笔记本电脑与wifi路由器连接时，路由器将为您的笔记本电脑分配一个IP，您可以在移动应用程序中使用该IP访问网络服务，

简而言之：需要手机和笔记本电脑之间的网络*

# jquery - 得到一个总数

> ID：14210880
> 
> 赞同：0
> 
> 时间：2013-01-08T08:21:57.847
> 
> 标签：jquery, arrays, codeigniter, function, variables

好的，挑战相对较小，但它是一只在我头上嗡嗡作响的苍蝇。在 jQuery 中查看 $("#list_total"+table_number).text("$"+grand_total[table_number].toFixed(2));

我试图做的是 grand_total[table_number] += sub_total; 但我不断得到NaN。

**CSS**

```
 .guest_table
    {
    float:left;
    position: relative;
    margin-left: 30px;
    width: 280px;
    }

    h1
    {
    text-align: center;
    }

    table
    {
    margin-left: auto;
    margin-right: auto;
    width: 425px;
    }

    table, tr
    {
    border: 5px solid black;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px; /* future proofing */
    -khtml-border-radius: 10px; /* for old Konqueror browsers */
    }

     tr
    {
    height: 65px;
    }

    .submit
    {
    text-align: center;
    }

    .input
    {
    border: none;
    background: #fff url(../images/rounded-corner.png) no-repeat left top;
    background-size:185px 37px;
    width: 160px;
    padding: 10px;
    }

    .input:focus
    {
    background-color:  #ffff33 ;
    }

    #submit_form
    {
    border: 50px;
    padding: 10px;
    margin-left: auto;
    margin-right: auto;
    }

    .error
    {
    text-align: center;
    color: red;
    font-size: 20px;
    margin-bottom: 20px;
    background-color: yellow;
    width: 25%;
    margin-left: auto;
    margin-right: auto;
    }

    .list_total
    {
    display:  inline-block;
    padding-left: 5px;
    }

    #option_list
    {
    width: 25%;
    }

    #already_paid
    {
    text-align: center;
    }

   input[type=submit]:hover,input[type=reset]:hover
    {
    background-color: #8F5B00;
    color: white;
    }

    button, input[type=submit]
    {
    margin-left: 10px;
    }

    button:hover
    {
    background-color: #8F5B00;
    color: white;
    } 
```

**Codeigniter 视图**

```
<?php echo validation_errors(); ?>

<?php
$total_guests = count($results);
$attributes = array(
    'id' => 'submit_form'
);

echo form_open('main/form_validation/options');
?>

<div id="center">
    <?php
    foreach ($results as $result) {
        ?>
        <table class="guest_table" id="guest_<?php echo $result->id; ?>">
            <th>
    <?php echo $result->full_name; ?>    
            </th>
            <tr id="option_list">
                <td>

                    <?php
                    $b = $price2 > 0 ? " $" . $price2 : "N/A";

                    $day = array(
                        array(
                            'name' => 'friday_performance_' . $result->id,
                            'id' => 'friday_performance' . $result->id,
                            'value' => 'friday_performance'
                        ),
                        array(
                            'name' => 'friday_banquet_' . $result->id,
                            'id' => 'friday_banquet' . $result->id,
                            'value' => 'friday_banquet'
                        ),
                        array(
                            'name' => 'saturday_' . $result->id,
                            'id' => 'saturday' . $result->id,
                            'value' => 'saturday'
                        ),
                    );

                    $meal_pref = array(
                        array(
                            'name' => 'meal_' . $result->id,
                            'id' => 'chicken',
                            'value' => 'chicken'
                        ),
                        array(
                            'name' => 'meal_' . $result->id,
                            'id' => 'fish',
                            'value' => 'fish'
                        ),
                        array(
                            'name' => 'meal_' . $result->id,
                            'id' => 'vegetarian',
                            'value' => 'vegetarian'
                        ),
                    );

                    echo form_checkbox($day[0]);
                    ?>&nbsp;&nbsp;
                    Friday Performance <?php echo " $" . $price1; ?><br>

                    <?php echo form_checkbox($day[1]);
                    ?>&nbsp;&nbsp;Friday Banquet <?php echo $b; ?><br>
                    <div class="meal_choice"  id='meal_choice<?php echo $result->id; ?    >'>
                        <?php
                        echo form_radio($meal_pref[0]);
                        ?>&nbsp;&nbsp;Chicken <br>
                        <?php echo form_radio($meal_pref[1]);
                        ?>&nbsp;&nbsp;Fish <br>
                        <?php echo form_radio($meal_pref[2]);
                        ?>&nbsp;&nbsp;Vegetarian<br>

                    </div>
    <?php echo form_checkbox($day[2]); ?>&nbsp;&nbsp;Saturday Workshop w/lunch <?php echo " $" . $price3; ?><br>
                    <br><br>
                </td>
            </tr>
            <tr>
                <td>
                    Total:<div class="list_total" id="list_total<?php echo $result->id; ?>"></div>
                </td>

        </table>

<?php } ?>
</div>
<div class="submit">
    <?php
    echo ("<input type='hidden' name='email' value=" . $this->session->userdata('email') . ">");

    $data = array(
        'name' => 'submit',
        'id' => 'submit',
        'value' => 'Complete Form',
        'type' => 'submit'
    );

    echo form_submit($data);
    echo form_button('exit', 'Exit');
    ?>

</div>
<?php
echo form_close();
?> 
```

**jQuery**

```
<script>
$(document).ready(function(){

    $(".list_total").text("$0.00");
    $(".meal_choice").hide();
    var total_attending = (<?php echo $total_guests; ?> + 1);

    $("[name='exit']").click(function(){
        window.location.href='<?php echo base_url(); ?>/main/logout';
    });

    var table_number = 0;
    $('.guest_table').click(function(){
        var table_id = $(this).attr('id');
        table_number = parseInt(table_id.charAt(table_id.length-1));
    });
    var grand_total=[];
    grand_total[table_number]=0.00;

    $(':checkbox').change(function(){

        switch($(this).attr('id'))
        {
            case 'friday_performance' + table_number:
                var sub_total= 0.00;
                sub_total =  parseInt(friday_performance());
                grand_total[table_number] += sub_total;

                $("#list_total"+table_number).text("$"+ grand_total[table_number].toFixed(2));
                break;

            case 'friday_banquet' + table_number:
                var sub_total= 0.00;
                sub_total =  parseInt(friday_banquet());
                grand_total[table_number] += sub_total;
                $("#list_total"+table_number).text("$"+ grand_total[table_number].toFixed(2));
                break;
            case 'saturday' + table_number:
                var sub_total= 0.00;
                sub_total  +=  parseInt(saturday());
                grand_total[table_number] = sub_total;
                $("#list_total"+table_number).text("$"+ grand_total[table_number].toFixed(2));
                break;

        }
    });

    function friday_performance ()
    {
        if ( $("#friday_performance"+table_number).is(":checked"))
        {
            var price1 = <?php echo $price1; ?>;
            return price1;
        }else  if ( $("#friday_performance"+table_number).not(":checked"))
        {
            var price1 = 0;
            return price1;
        }
    }

    function friday_banquet ()
    {
        if ($("#friday_banquet"+table_number).is(":checked"))
        {
            $("#meal_choice"+table_number).show("slow");
            var price2 = <?php echo $price2; ?>;
            return price2;
        }else if ($("#friday_banquet"+table_number).not(":checked"))
        {
            $("#meal_choice"+table_number).hide("slow");
            $('input:radio').prop("checked",false);
            var price2 = 0;
            return price2;
        }
    }

    function saturday()
    {
        if ( $("#saturday"+table_number).is(":checked"))
        {
            var price3 = <?php echo $price3; ?>;
            return price3;
        }else  if ( $("#saturday"+table_number).not(":checked"))
        {
            var price3 = 0;
            return price3;
        }

    }

    $("#submit").click(function(){
        alert("Got it!");
    });
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:40:21.680

您已经初始化了`grand_total`变量，但您还应该`grand_total[table_number]`在开始添加任何内容之前使用索引初始化值。

考虑修改以下行：

```
$(':checkbox').change(function(){

    switch($(this).attr('id'))
    { 
```

对此：

```
$(':checkbox').change(function(){

    if (typeof (grand_total[table_number]) === "undefined") {
        grand_total[table_number] = 0;
    }

    switch($(this).attr('id'))
    { 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:25:20.010

您可以轻松调试它。

在浏览器中打开控制台 (F12)。

键入以下内容：

```
table_number

sub_total

grand_total[table_number] 
```

这会告诉你你需要什么——一个不是数字。如有必要，请编辑您的问题，在控制台中提及上述变量的值，我们将提供进一步帮助。

熟悉在浏览器中使用控制台将有助于您开发客户端 Web 应用程序。

# python - 内存泄漏，gc跟踪的对象大小远小于进程的内存使用量

> ID：14210882
> 
> 赞同：0
> 
> 时间：2013-01-08T08:22:03.590
> 
> 标签：python, memory-leaks, garbage-collection

我们的对象是一个大系统。我们知道现在肯定有一些内存泄漏。但是很难找到原因。每次进程使用的内存达到千兆字节时，它的响应都非常慢。从“顶部”查看的 cpu 使用率始终为 100%，即使进程无事可做。

我们已经使用 objgraph 和 meliae 来调试过这个问题，没什么好怀疑的。但是我们发现了一个奇怪的问题，gc.get_objects() 得到的对象的总大小与从“top”查看的内存使用不相等，例如它是50M，但从“top”看是150M。

谁能给我们一个方向？谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-08T12:29:59.190

我假设您通过以下方式获取对象的大小：

```
sum(sys.getsizeof(i) for i in gc.get_objects()) 
```

请记住，结果`gc.get_objects()`不包括解释器本身消耗的内存，只包括垃圾收集器跟踪的 Python 对象。此外，这个函数依赖于对象从他们的`__sizeof__()`方法返回准确的结果，所以如果你使用任何第三方模块，那么你不一定期望得到准确的结果。

您可能已经这样做了，但是您可以让您的应用程序定期调用`gc.collect()`，然后检查`gc.garbage`您是否有任何收集器无法释放的无法访问的对象。如果您有任何具有循环引用的类被您覆盖`__del__()`（请参阅[Python 文档中的 gc](http://docs.python.org/2/library/gc.html?highlight=gc#gc.garbage)），就会出现这种情况。

我还建议将此调用添加到代码的开头：

```
gc.set_debug(gc.DEBUG_UNCOLLECTABLE | gc.DEBUG_INSTANCES | gc.DEBUG_OBJECTS) 
```

`stderr`这将在找到带有循环引用等的对象时打印消息。这可能会为您提供有关更仔细查看位置的有用信息。

到目前为止，objgraph 可能已经发现了这些类型的问题，但无论如何都值得将它们放入，因为您可以让它们在长期运行的守护程序中保持活动状态，以便随着时间的推移记录这些问题发生的时间。

如果您使用任何 C 扩展（无论是您自己编写的还是第三方编写的），请仔细检查代码是否存在处理引用计数的错误——在那里很容易出错。另外，请记住，没有什么可以阻止扩展在 Python 的分配器之外分配自己的内存 - 在这种情况下，如果这些泄漏，您在 Python 解释器中所做的任何事情都不会检测到它。

综上所述，如果您仍然看到内存使用量单调增加，并且找不到任何导致原因的 Python 对象，那么可能是时候检查低级 C 代码或 Python 解释器本身是否存在泄漏 - 一个很好的工具因为这是[Valgrind](http://valgrind.org/)。

要将 Valgrind 与 Python 一起使用，您需要使用[Python 抑制文件](http://hg.python.org/cpython/file/4617b7ac302a/Misc/valgrind-python.supp)。您可能会发现它已经安装了 - 例如，Ubuntu 将此文件的修改形式放在`/usr/lib/valgrind/python.supp`.

要正确执行此操作，您需要按照 Python 发行版中的[README.valgrind](http://hg.python.org/cpython/file/4617b7ac302a/Misc/README.valgrind)文件中的描述重新编译 Python，但即使没有这个，您也可能会发现一些有趣的结果。

[在这个堆栈溢出问题](https://stackoverflow.com/questions/3982036/how-can-i-use-valgrind-with-python-c-extensions)中有更多关于在 Valgrind 下运行 Python 的讨论。

# delphi - Winrollback/DeepFreeze 这些软件是如何工作的？

> ID：14210885
> 
> 赞同：1
> 
> 时间：2013-01-08T08:22:09.503
> 
> 标签：delphi, rollback, deepfreeze

DeepFreeze 和 Winrollback 是保护硬盘分区更改的软件。重新启动后，所有更改、删除、复制、格式化等都将恢复。

我的问题是，任何人都知道这些软件是如何工作的（编程级别）

他们使用 Windows 系统还原 api 还是其他的东西？

互联网上有任何例子吗？（已经搜索过但没有找到）最好在delphi中（任何版本）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:23:32.213

他们使用低级磁盘驱动程序来监视每个文件系统的更改。在 delphi 中编写设备驱动程序几乎是不可能的。

[这](http://www.delphibasics.info/home/delphibasicsprojects/advanceddelphidriverdevelopmentkit)是在 delphi 中编写驱动程序的尝试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-07T10:15:11.153

有一些组件包可以让您访问 WinNT/2000/XP 和 Win9x 中的硬件。其中一个包是，TVicHW32 [http://www.entechtaiwan.com/tools.htm](http://www.entechtaiwan.com/tools.htm)

低级磁盘访问包也可以在这里[http://ru.geocosmed.ru/pages.php?id=253](http://ru.geocosmed.ru/pages.php?id=253)找到。

正如 opc0de 建议的那样，很难做到这一点。

您还可以查看这个问题[Bootable and cross platform applications 并使用 delphi 或 Pascal](https://stackoverflow.com/questions/5235623/bootable-and-cross-platform-applications-and-using-delphi-or-pascal)来了解有关创建操作系统的工作。

要了解这两个软件应用程序是如何工作的，您需要跳入操作系统架构并了解如何访问磁盘。一个开始将是（即使我不喜欢提供维基百科的链接）[http://en.wikipedia.org/wiki/File_system](http://en.wikipedia.org/wiki/File_system)并进一步阅读您想要的操作系统上的文档和文档。

# javascript - 将一行单元格拆分为多行

> ID：14210886
> 
> 赞同：0
> 
> 时间：2013-01-08T08:22:11.073
> 
> 标签：javascript, html, ajax

我从 ajax 调用中请求了一些 json 数据，并将所有数据插入到表中。现在就像下面的代码一样，所有数据都在一行单元格中，有没有办法循环遍历表格并将其拆分为多行，每行包含 4 个单元格？

```
<div id="gallery">
    <table id="galleryTable"><tr></tr></table>
</div>

    $.ajax({
      type: "GET",
      dataType: "jsonp",
      cache: false,
      url: linkurl,
      success: function(data){

        paginate = data.pagination.next_url;
        var nextMaxId = data.pagination.next_max_id;
        console.log(nextMaxId);

        for(var i=0; i<15; i++){
          var instaPics = data.data[i].images.low_resolution.url;
          var avatar = data.data[i].user.profile_picture;
          var like = data.data[i].likes.count;
          var comment = data.data[i].comments.count;
          console.log(comment);                  

          $(#galleryTable tr').append('<td><img class="tagPics" src="'+instaPics+'"><a>'+like+"likes"
                                      +'</a><img class="avatar" src="'+avatar+'" height="20" width="20" /><a>'+comment+'</a></img></td>');
        }; 
      }          
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:33:27.030

```
$.ajax({
      type: "GET",
      dataType: "jsonp",
      cache: false,
      url: linkurl,
      success: function(data){

        paginate = data.pagination.next_url;
        var nextMaxId = data.pagination.next_max_id;
        console.log(nextMaxId);
        var tr;
        for(var i=0; i<15; i++){
          var instaPics = data.data[i].images.low_resolution.url;
          var avatar = data.data[i].user.profile_picture;
          var like = data.data[i].likes.count;
          var comment = data.data[i].comments.count;
          console.log(comment);  
          if(i % 4 === 0){
             tr = $('<tr></tr>');
             $('#galleryTable').append(tr);
          } 

          tr.append('<td><img class="tagPics" src="'+instaPics+'"><a>'+like+"likes"
                                      +'</a><img class="avatar" src="'+avatar+'" height="20" width="20" /><a>'+comment+'</a></img></td>');
        }; 
      }          
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:33:24.257

模数 (%) 是您的朋友！这应该让你开始......

```
var row = '';
for(var i=0; i<15; i++) {
    // ...
    if( i > 0 && i % 4 == 0 ) {
        $('#galleryTable tr').append(row);
        row = '';
    }
    row += '<td> ...';
}
$('#galleryTable tr').append(row); 
```

# wpf - 在不降低性能的情况下获取窗口大小

> ID：14210888
> 
> 赞同：0
> 
> 时间：2013-01-08T08:22:20.530
> 
> 标签：wpf, performance

我的 WPF 程序有时需要窗口的大小。最简单的解决方案是绑定`ActualWith`and `ActualHight`。但是这样做时的性能如何？每次调整窗口大小时，高度和宽度是否会重复更新？有没有办法只在我需要时才获得尺寸？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:48:05.967

与往常一样，当您担心性能时：测试。

绑定到 ActualHeight 和 ActualWidth 可能不是那么糟糕，因为 Window 可能不会改变那么多/很多次。

将 ViewModel 连接到 View 的唯一（正确）方法是使用绑定。如果这太昂贵，您可以向窗口/视图添加两个额外的属性，这些属性仅在与您相关时才更新（例如使用调整大小事件）。然后，您可以将 ViewModel 绑定到那些。

我敢打赌，您的应用程序包含其他需要更多注意的内容；）

# batch-file - 批处理文件中带有管道的 findstr 命令

> ID：14210890
> 
> 赞同：0
> 
> 时间：2013-01-08T08:22:29.107
> 
> 标签：batch-file

我尝试了以下命令来获取文本文件列表。

```
 "%svn%" list "%Path%" -R | findstr /c:".txt" > TxtFile_List.txt 
```

但它显示“'findstr' 未被识别为内部或外部命令，”错误...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T10:15:03.633

与`set Path=svn://127.0.0.1:6140/svn/MirrorDB_Dec25/trunk`您一起覆盖系统的`PATH`变量。因此`findstr.exe`再也找不到了。您应该考虑使用不同的变量名。

# iphone - NSDateFormatter 返回空日期

> ID：14210896
> 
> 赞同：4
> 
> 时间：2013-01-08T08:23:23.400
> 
> 标签：iphone, ios, ipad

下面是我的代码

```
 NSString *dateandtime =[NSString stringWithFormat:@"%@",self.eventtime];
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat:@"EEE, dd MMM yyyy HH:mm:ss Z"];
    NSDate *dateFromString = [[NSDate alloc] init];
    dateFromString = [dateFormatter dateFromString:dateandtime]; 
```

如果我打印我的 self.event 名称，我将得到输出，`Mon, 7 Jan 2013 15:30:00 CST`但是当我传入这个字符串时，`NSDateFormatter`我得到了`null`价值，我不知道为什么我尝试过`many` `combinations`，`date formats`但我无法解决它，任何人都可以帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T13:19:41.407

我按照 Prateek 的评论解决了我的问题，现在它为我工作了……谢谢 Prateek。

```
in your self.event, you are getting CST, it should be time zone for example +0530 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:31:07.313

采用 ：

```
[dateFormatter setDateFormat:@"EEE, dd MMM yyyy HH:mm:ss z"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T09:11:00.290

使用以下方法获取`NSDate`起始`NSString`日期

```
NSDate *dateFromString = [[NSDate alloc] init];
dateFromString = [self convertStringToDate:dateandtime]; 
```

将以下方法粘贴到您的`.m`文件中...

```
-(NSDate *)convertStringToDate:(NSString *) date {
        NSDateFormatter *formatter = [[[NSDateFormatter alloc] init] autorelease]; 
        NSDate *nowDate = [[[NSDate alloc] init] autorelease];
        [formatter setDateFormat:@"EEE, d MMM yyyy HH:mm:ss 'CST'"];// set format here  format in which the date should be

        date = [date stringByReplacingOccurrencesOfString:@"+0000" withString:@""];
        nowDate = [formatter dateFromString:date];
        // NSLog(@"date============================>>>>>>>>>>>>>>> : %@", nowDate);
        return nowDate;
} 
```

有关`NSDate`组件的更多信息，请参阅我的博客[NSDate-formate-info-for-iphone-sdk 的这篇文章](http://parasjoshi3.blogspot.in/2012/01/date-formate-info-for-iphone-sdk.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T10:31:50.080

使用此代码...

```
- (NSString *)formattedDate:(NSString*)dateSte {

    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [NSTimeZone resetSystemTimeZone];
    NSTimeZone *gmtZone = [NSTimeZone systemTimeZone];
    [dateFormatter setTimeZone:gmtZone];
    [dateFormatter setDateFormat:@"yyyy-MM-dd"];

    NSDate *date = [dateFormatter dateFromString:dateSte];

    [dateFormatter setDateFormat:@"EEE,MMM d,''yyyy"];
    NSString *strDate = [dateFormatter stringFromDate:date];

    return strDate;
} 
```

# ios - 向 iPad 的任一方向旋转设备时应用程序崩溃

> ID：14210904
> 
> 赞同：0
> 
> 时间：2013-01-08T08:23:54.010
> 
> 标签：ios, ios5

让我简要介绍一下我的应用程序，我有根视图标签栏控制器（5 个标签），第一个视图是导航控制器；它是一个 iPad 应用程序。现在我有一个表格视图，我正在通过 CODE 制作标题。

```
- (UIView *) tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section 
 { 
    _headerScenarioIDLabel = [[[UILabel alloc] initWithFrame:CGRectZero] autorelease];
   //and many more declarations here

} 
```

并相应地从

```
- (void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation 
{
    if (UIInterfaceOrientationIsLandscape(fromInterfaceOrientation))
    {// for portrait.
     _headerScenarioIDLabel.frame        = CGRectMake(-30, 2, 125, 20);
    }
   else
   { // for LandScape
          _headerScenarioIDLabel.frame        = CGRectMake(-26, 2, 125, 20);
    }
} 
```

现在的问题是，当我启动应用程序并旋转它时，这段代码工作得很好，但是当我进入导航并从导航返回时，应用程序在进一步旋转时崩溃。

线程 1 EXE 访问错误，0x1bd109b：movl 8(%edx)，%edi

任何人都可以建议我在这个奇怪的崩溃中错在哪里.. ???

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:30:06.373

使用静态分析器检查您的代码是否存在泄漏。另外，我看到的第一件事是您正在`_headerScenarioIDLabel`使用自动释放的对象初始化 ivar - 您需要修复此问题，因为 ivar 应该拥有指向标题视图的强指针。另请记住，该方法`-tableView:viewForHeaderInSection:`可能会被多次调用，这就是为什么您需要在再次设置之前释放此 ivar。所有这些问题的简单解决方案是使用**属性**......并且**始终**使用属性，尤其是在使用手动内存管理时。

# asp.net - 在 OnClick 中添加的 CustomControl 中的按钮在第二次单击之前不会回发

> ID：14210918
> 
> 赞同：0
> 
> 时间：2013-01-08T08:24:47.547
> 
> 标签：asp.net, .net, updatepanel, postback

我有以下情况：

1.  `UserControlA`包含一个`<asp:Button id="bSomeid" onClick="AddItem" />`带有一些代码的项目到购物篮中`AddItem`。
2.  `UserControlB`包含一些在事件`LinkButton`中动态添加选择`UserControlA`到页面的's `OnClick`。

这一切都在一个`UpdatePanel`. 它有点复杂，但我已将信息修剪为我认为导致问题的原因，如有必要，我将添加更多信息。

我遇到的问题是，`AddItem`在我将项目添加到页面后单击`LinkButton`.

我理解为什么会发生这种情况 - 在页面周期的后期为 onclick 中的下一个帖子注册事件已经很晚了 - 但是任何人都可以想到解决这个问题的方法吗？我可以强制在下一次回发时触发事件吗？我试图想办法在其中运行我的代码，但`page_load`我需要访问`sender`.`onClick`

使用 .NET 4.0。

**编辑**

我设法找到一种方法来获取在 Page_Load 中发送请求的链接按钮（使用`Request.Form["__EVENTTARGET"];`），因此我将代码移到了`Page_load`事件中。它仍然需要点击 2 次，所以我认为这与 onClick 注册晚有关。

是否有任何其他一般性检查可能导致按钮需要单击 2 次才能正确发布事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:31:12.167

如果您对页面生命周期后期的怀疑属实，那么您可以尝试使用[ScriptManager.RegisterAsyncPostBackControl](http://msdn.microsoft.com/en-us/library/system.web.ui.scriptmanager.registerasyncpostbackcontrol.aspx)方法在链接按钮单击中注册动态添加的控件 - 考虑到您的按钮在用户控制范围内，您需要添加公共`UserControlA`方法实际上注册按钮`bSomeid1`和链接按钮点击`UserControlB`实际上会调用A控件的方法。

**编辑**：

没有发生按钮单击的另一个原因可能是当回发发生时，作为动态控件的按钮没有添加到页面层次结构中（或者当回发数据已经处理时，它在页面生命周期的后期添加）。一个真正完整的解决方案应该将动态控件添加回页面层次结构`page_load`本身（并在层次结构中严格维护相同的控件 ID）。如果这不可能，那么您可以嗅探请求 ( `Request.Form`) 以检测回发。

在您的情况下，您应该确定按钮是否确实导致了每次点击的回发。如果是，`Request.Form`第一个请求的 POST 数据 ( ) 是什么 - 第一次单击（和回发）时的 __EVENTTARGET 值是多少？这应该开始您的故障排除。

另一方面，一个简单的解决方法可能是使用 html 锚元素（您仍然可以使用链接按钮）并在 click 事件中有一个 javascript 处理程序，该处理程序将设置一些隐藏变量，然后提交表单（您可以模拟单击隐藏按钮以触发 ASP.NET 客户端提交管道）。现在可以在回发时使用隐藏变量值来确定单击了哪个链接按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T13:18:24.087

> “是否有任何其他一般性检查可能导致按钮需要单击 2 次才能正确发布事件？”

它是否需要在控件上单击两次，或者是否需要在屏幕上的其他位置单击一次，然后单击控件第一次触发？

我有我自己的（类似）更新面板问题，其中第一个（预期的）触发器没有触发，似乎在其他地方单击一次，然后随后的触发器第一次触发（总共 2 次点击）

[编辑] 由于您正在使用此 ATM，它也可能对我有所帮助。你有一个带有触发事件的文本框吗？我愿意，如果我把它留空（这样它就不会触发），那么就不需要第二次点击了。

# c# - RDLC 导出到 excel 以在括号中显示负数

> ID：14210919
> 
> 赞同：1
> 
> 时间：2013-01-08T08:24:47.737
> 
> 标签：c#, reporting-services, rdlc

我有一个 rdlc 文件，其中的单元格显示小数。如何将负数转换为带括号？

我无法将其显示为字符串，因为当导出报告时，它会将其视为字符串并抛出数字无法转换字符串的错误。

我尝试添加`#,0:c0`格式属性，但这不起作用。

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:39:01.633

尽量不要在`Expression`占位符中使用格式功能，而是在文本框（或单元格）属性中设置类型和格式。

在属性中，有一个调用部分`Number`，您可以在其中指定文本框必须包含指定类别的数字。

这是一张图片来解释： ![在此处输入图像描述](../Images/23cfbca7e11b27b7e70f8638eeac9937.png)

如您所见，有一个选项可以设置如何显示负数（选择的那个）。

现在，我确信如果您以 PDF 格式导出报告，这将有效，但我希望 Excel 的导出也是如此

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:55:55.693

我解决了，很抱歉回答我自己的问题。

如果我在格式属性中使用以下内容，`#,0;(-#,0)`它可以正常工作。

![在此处输入图像描述](../Images/40198b255b55d2e8b339a3bec7fbeb36.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-24T04:40:35.287

在我的情况下，下面的自定义表达式解决了我的问题。

`''#,0.00;''(#,0.00);`

# java - PrintWriter 不会在内部打印 if

> ID：14210920
> 
> 赞同：0
> 
> 时间：2013-01-08T08:24:51.790
> 
> 标签：java, file, output

我遇到了一些麻烦`PrintWriter`，它在循环之外工作`for`，它确实打印了“Test1”和“Test2”，但它没有在里面打印“example 1”`If`

当我用调试器检查它时，代码行被执行

```
 File file = new File ("output.txt");
 FileWriter wri;
 try {
    wri = new FileWriter(file);

    PrintWriter writer = new PrintWriter(wri);
    writer.println("Test1");

    boolean result=false;

    for(i=0;i<this.lung;i++){

       for(j=0;j<this.lung;j++){

            if(wordToFind.charAt(0)==mat[i][j]){

                if((i>=wordLength-1)&&(results!=true))
                    if (wordToFind.charAt(1)==mat[i-1][j])
                        if(result=continue(i,j,i-1,j,1))
                            writer.println("example 1");
                  /*Same if as the above but with differente parameters are down here*/
                  }
             } 
         }
      }
      writer.print("Test2");
      writer.close();

  } catch (IOException e) {
      System.out.println("Error: " + e);
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:12:00.757

这两个`results`/`result`相同的变量是否，如果是，则尝试将第一个更改为`result`；

//假设'因为我没有`results` `boolean`在你的代码中找到任何变量

```
if((i>=wordLength-1)&&(results!=true))  // results -> result
                    if (wordToFind.charAt(1)==mat[i-1][j])
                        if(result=continue(i,j,i-1,j,1)) 
                            writer.println("example 1"); 
```

# css - 在导航栏中突出显示当前列表项

> ID：14210921
> 
> 赞同：0
> 
> 时间：2013-01-08T08:24:52.507
> 
> 标签：css

我在导航栏的每个网页中都包含头文件，如何显示当前页面已激活/突出显示？

```
<div id="header"><div  id="nav">
            <ul id="menu">
            <?php
$CurrentPage = $path_parts = pathinfo(__FILE__,PATHINFO_FILENAME); // u will get the current page name "index.php", home.php etc..
?>
                <?php
                if(!logged_in())
                {
                echo "<li id=\"<?php echo ($CurrentPage=='Home') ? 'current' : ''?>\" style=\"background-color: #CCFFFF;\" ><a href=\"index.php\">Home</a></li>";
                }
                ?>
                <?php
                if(logged_in())
                {
                echo "<li id=\"<?php echo ($CurrentPage=='Home') ? 'current' : ''?>\" style=\"background-color: #CCFFFF;\" ><a href=\"index.php\">Home</a></li>";
                }
                ?>
                <?php
                echo "<li id=\"<?php echo ($CurrentPage=='Contact Us') ? 'current' : ''?>\" style=\"background-color: #66FFFF;\"><a href=\"contact.php\">Contact Us</a></li>";

                ?>
            </ul>
            </div></div> 
```

我怎样才能包含这个CSS`id="current"`

```
#header #nav ul li#current a {  
    background: transparent url(../images/current.gif) repeat-x left bottom;    
    color: #222;    
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:35:44.823

您可以使用

```
#nav #menu #current a 
```

代替

```
#header #nav ul li#current a 
```

也许您也应该添加`#header`，但我在上面的代码中没有看到任何#header。

```
<style>
#header #nav #menu #current a {  
    background: transparent url(../images/current.gif) repeat-x left bottom;    
    color: #222;    
}
</style>

    <div id="header"><div  id="nav">
            <ul id="menu">
            <?php
$CurrentPage = $path_parts = pathinfo(__FILE__,PATHINFO_FILENAME); // u will get the current page name "index.php", home.php etc..
?>
                <?php
                if(!logged_in())
                {
                echo "<li id=\"<?php echo ($CurrentPage=='Home') ? 'current' : ''?>\" style=\"background-color: #CCFFFF;\" ><a href=\"index.php\">Home</a></li>";
                }
                ?>
                <?php
                if(logged_in())
                {
                echo "<li id=\"<?php echo ($CurrentPage=='Home') ? 'current' : ''?>\" style=\"background-color: #CCFFFF;\" ><a href=\"index.php\">Home</a></li>";
                }
                ?>
                <?php
                echo "<li id=\"<?php echo ($CurrentPage=='Contact Us') ? 'current' : ''?>\" style=\"background-color: #66FFFF;\"><a href=\"contact.php\">Contact Us</a></li>";

                ?>
            </ul>
            </div></div> 
```

# php - 如何在数据库中查找只有一个字符与搜索字符串不同的记录？

> ID：14210923
> 
> 赞同：3
> 
> 时间：2013-01-08T08:24:52.243
> 
> 标签：php, mysql, string

我有一个带有“clinicNo”字段的数据库，该字段包含诸如 1234A、2343B、9999Z 之类的记录......

如果我错误地使用“1234B”而不是“1234A”作为选择语句，我想得到一个结果集，其中包含与给定字符串仅相差一个字符的诊所编号（即上面的 1234B）

例如。字段可能包含以下值。1234A, 1235B, 5433A, 4444S, 2978C 如果我使用“1235A”进行选择查询，结果应该是 1234A 和 1235B。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:48:10.137

您正在寻找的是称为 Levenshtein 距离算法。虽然 PHP 中有一个[levenshtein 函数](http://php.net/manual/en/function.levenshtein.php)，但您确实想在 MySQL 中执行此操作。

在 MySQL 中有两种实现 Levenshtein 函数的方法。首先是创建一个 STORED FUNCTION，它的操作很像 STORED TRANSACTION，除了它有不同的输入和输出。这对于小型数据集来说很好，但对于接近数千行的任何数据来说都有些慢。你可以在这里找到更多信息：http: [//kristiannissen.wordpress.com/2010/07/08/mysql-levenshtein/](http://kristiannissen.wordpress.com/2010/07/08/mysql-levenshtein/)

第二种方法是在 C/C++ 中实现一个用户定义函数，并将其作为共享库（*.so 文件）链接到 MySQL。此方法还使用 STORED FUNCTION 调用库，这意味着此方法或第一个方法的实际查询可能相同（假设两个函数的输入相同）。您可以在此处找到有关此方法的更多信息：http: [//samjlevy.com/2011/03/mysql-levenshtein-and-damerau-levenshtein-udfs/](http://samjlevy.com/2011/03/mysql-levenshtein-and-damerau-levenshtein-udfs/)

使用其中任何一种方法，您的查询将类似于：

```
SELECT clinicNo FROM words WHERE levenshtein(clinicNo, '1234A') < 2; 
```

重要的是要记住“阈值”值应该相对于原始字长发生变化。最好用百分比值来考虑它，即一半的单词 = 50%，一半的 'term' = 2。在你的情况下，你可能会寻找差异`< 2`（即 1 个字符的差异），但您可以进一步解释其他错误。

另请参阅：[维基百科：Levenshtein Distance](http://en.wikipedia.org/wiki/Levenshtein_distance)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T08:32:19.880

您可以使用 SUBSTRING 进行列选择，下面的示例返回 '1235' 和 'A to Z'

```
select *  from TableName WHERE SUBSTRING(clinicNo, 0, 5) LIKE '1235A' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T08:49:06.920

在一般开发中，您可以使用像 Levenshtein 这样的函数来查找两个字符串之间的差异，它会返回一些“它们有多相似”。您可能想要最相似的结果。

要在 MySQL 中获取 Levenshtein，请阅读[这篇文章](https://stackoverflow.com/a/2230082/1937795)。

或者只是获取所有结果并使用[PHP 的 Levenshtein 函数](http://ch2.php.net/Levenshtein)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T08:30:36.980

```
SELECT * FROM TABLE
WHERE ClinicNo like concat(LEFT(ClinicNo,4),'%') 
```

# jquery - 为什么 jQuery 追加、文本和 html 函数在 IE 上不起作用？

> ID：14210925
> 
> 赞同：-1
> 
> 时间：2013-01-08T08:25:00.870
> 
> 标签：jquery, html, text, append, appendto

我尝试了 .html() .appendTo() 和 .text() 但它们都不起作用。

这是html。

```
 <div>
       <ul id="list-container>
       </ul>
    </div> 
```

这是 jQuery。

```
 var url = "http://mobiilivantaa.fi/api/place"; // Change path of JSON HERE !!!
var htmlString = '';

$.getJSON(url, function(data) {
    $.each(data.places, function(i,place){
        //console.log(place.id);
        var placeID = place.id;
        var placeTitle = place.title;
        var placeWWW = 'Siirry internetsivulle';
        var placeHREF = place.www;
        var placeTargetBlank = 'target="_blank"';

htmlString += '<li><a href="#" class="ListTitle" title="'+place.latitude+','+place.longitude+','+place.id+'">'+placeTitle+'</a><a class="ListWWW" href="'+placeHREF+'"'+placeTargetBlank+'>'+placeWWW+'</a></li>';

    });
    //console.log(htmlString);
    $('#list-container').append(htmlString);
}); 
```

list-container 是简单的 ul 标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T10:02:05.627

我解决了。只需将其添加到脚本顶部即可。

```
$.ajaxSetup({ cache: false }); 
```

# java - java编译器如何确定“方法不适用”？

> ID：14210928
> 
> 赞同：2
> 
> 时间：2013-01-08T08:25:03.583
> 
> 标签：java, bounded-wildcard

使用通配符时，某些方法（例如`ArrayList.set`）无法使用并返回类似于以下内容的错误消息

> List 类型中的方法 set(int, capture#3-of ?) 不适用于参数 (int, String)

我已经阅读[了为什么](https://stackoverflow.com/questions/1684121/generics-error-not-applicable-for-the-arguments)会这样，并想知道这是如何完成的。那就是编译器如何知道某些方法适用（例如`List.get(int)`）而其他方法不适用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:30:22.807

所有适用的规则都在[Java 语言规范 #15.12](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2)中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T08:33:25.050

编译器为每次出现的通配符分配特殊标记 ( `capture#3-of ?`)，并使用常规方法适用性规则 ( [JLS 15.12.2](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2) )。

由于通配符的捕获与其他类型和其他捕获不兼容，因此会产生“方法不适用”。

# ruby-on-rails - 数据库空间与 Rails/脚本处理

> ID：14210929
> 
> 赞同：0
> 
> 时间：2013-01-08T08:25:05.410
> 
> 标签：ruby-on-rails, database-design

这可能是一个愚蠢/基本的问题，但我有`Program`一个业务类型为“工作”、“学校”、“教堂”等的模型。现在，它将这些作为字符“w”存储在数据库中，” s","c" 等。但是，如果我这样做，我必须运行`switch`( `case`in rails) 才能获得真实姓名。我用其他一些属性来做这些。

将确切的值存储在数据库中而不是运行此`case`语句会更好吗？我想这是一个在处理名称所需的时间内节省数据库空间的问题（我想还有一个代码可读性问题）。

**编辑**

我应该澄清一下，这些东西只有 4 个不可变的值。有一个外部机会我可能需要稍后添加一两个，但创建新资源似乎没有意义，因为实际上没有对这些属性执行任何 CRUD 操作。

**编辑**

程序.rb

```
attr_accessible :org_type

validates :org_type, :presence => true.
                     :inclusion => %w[any c s c] # And have a case later
             #OR     :inclusion -> $w[Any Corporation School Church] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:54:44.977

如果您以后可能会添加更多内容，请将其作为资源。它给你更多的优势而不是劣势。

如果您出于性能原因这样做：首先使其与资源一起使用。然后修复性能。在这种情况下，它看起来像是过早的优化。这里不需要不使用资源。

此外，您已经期望正在添加值，以便使案例非常清楚。

不过，如果您提供更多信息，可能会有更好的解决方案。这取决于每种类型需要哪些字段。

# java - 从头开始创建自己的 Java 应用程序服务器

> ID：14210932
> 
> 赞同：0
> 
> 时间：2013-01-08T08:25:13.663
> 
> 标签：java, tomcat, jboss

有谁知道任何教程或链接，我可以从中学习如何创建自己的自定义应用程序服务器，如**Tomcat**或**Jboss**。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:38:26.960

这里有[前 6 个 Java EE 应用程序服务器](http://soa.dzone.com/articles/top-open-source-javaEE-application-servers)。在服务器站点中，您可以找到文档和源代码。它应该可以帮助你。但顺便说一句，你为什么要这样做？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:30:42.933

没有我知道的链接，但您可以查看 Glassfish（Java EE 参考实现），因为它是开源的。

可能是一个很好的起点。

# php - php Mysql Daily 结果在循环中？

> ID：14210934
> 
> 赞同：0
> 
> 时间：2013-01-08T08:25:15.943
> 
> 标签：php, mysql, loops, while-loop

```
<?php
    $query4 = "SELECT bill.agent_id, bill.date, bill.amount, bill.cheque, bill_agents.id,bill_agents.name ".
     "FROM bill, bill_agents ".
     "WHERE bill.agent_id = bill_agents.id AND YEAR(date)  = YEAR(CURDATE()) AND MONTH(date) = MONTH(CURDATE()) ".  
     "ORDER BY bill.date ASC";

    $result4 = mysql_query($query4) or die('Error, query failed1'); 
    if ( mysql_num_rows( $result4 ) > 0 ) {
        mysql_data_seek(  $result4, 0 );
?>

<?php while( $row4 = mysql_fetch_array( $result4, MYSQL_ASSOC ) ) { ?> 

  <tr>
    <td><?php echo $row4['name']; ?></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <?php } } ?>
</table> 
```

到这里为止，这段代码对我来说很好用

billTable 结构

![](../Images/174df5aff01cb7eb1b4ba7b9a1463486.png)

bill_agents 表结构

![](../Images/3b726cf7af11cd073dc4469721e6f07a.png)

当前结果显示 [http://i.stack.imgur.com/tMH3P.jpg](https://i.stack.imgur.com/tMH3P.jpg)

**我要显示的结果是我想要每日收款报告第 1 天到第 31 天（也应该按金额和支票的总和）它是如何可能的**

结果应该是这样 [http://i.stack.imgur.com/S08or.jpg](https://i.stack.imgur.com/S08or.jpg)

`"GROUP BY bill.agent_id".` 此外，在使用上面使用的相同 SQL 并粘贴在下面时，我也遇到了错误。

```
$query4 = "SELECT bill.agent_id, bill.date, bill.amount, bill.cheque, bill_agents.id,bill_agents.name ".
    "FROM bill, bill_agents ".
    "WHERE bill.agent_id = bill_agents.id AND YEAR(date)  = YEAR(CURDATE()) AND MONTH(date) = MONTH(CURDATE()) ".   
    "GROUP BY bill.agent_id".
    "ORDER BY bill.date ASC"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:16:53.930

一个基本的答案是这样的： -

选择 bill.agent_id、bill.date、bill.amount、bill.cheque、bill_agents.id、bill_agents.name 、SUM(bill.amount)"。"从 bill_agents 左外部加入 bill ON bill.agent_id = bill_agents.id"。 "WHERE YEAR(date) = YEAR(CURDATE()) AND MONTH(date) = MONTH(CURDATE()) ".
"GROUP BY bill.agent_id". "ORDER BY bill.date ASC

然而，最大的问题是代理有很多天没有活动。当您需要一个表格来生成一个月中的天数（这可能只是添加到该月的第一天的一系列数字中的一个选择）时，您可以交叉加入代理以获得代理和一个月的一天。你离开的那个加入到账单表上。

多一点儿戏。没有测试，所以可能有一些错别字，不太确定你想要总结哪些数字，但希望能给你这个想法。

```
SELECT bill.agent_id, MonthDays.DayOfMonth, bill.date, bill.amount, bill.cheque, bill_agents.id,bill_agents.name , SUM(bill.amount)
FROM bill_agents
CROSS JOIN (SELECT a.i+b.i*10 AS DaysToAdd, LAST_DAY(NOW()) - (a.i+b.i*10) AS DayOfMonth
FROM integers a, integers b
HAVING DaysToAdd < DAY(LAST_DAY(NOW()))) MonthDays
LEFT OUTER JOIN bill ON bill.agent_id = bill_agents.id AND bill.date = MonthDays.DayOfMonth
GROUP BY bill.agent_id
ORDER BY bill.date ASC, MonthDays.DayOfMonth 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T09:22:47.703

试试下面的查询。`GROUP_CONCAT`将为您提供支票号码列表和`sum of all the check amount that belongs to one agent`.

```
SELECT 
        bill.agent_id,
        bill.date,
        SUM(bill.amount),
        GROUP_CONCAT(bill.cheque),
        bill_agents.id,
        bill_agents.name
    FROM
        bill,
        bill_agents
    WHERE
        bill.agent_id = bill_agents.id AND YEAR(date) = YEAR(CURDATE()) AND MONTH(date) = MONTH(CURDATE())
    GROUP BY bill.agent_id
    ORDER BY bill.date ASC 
```

# c# - 从 HTML 字符串中调用 Html.RenderAction

> ID：14210935
> 
> 赞同：1
> 
> 时间：2013-01-08T08:25:18.243
> 
> 标签：c#, asp.net-mvc, razor

我有一个 ASP.NET MVC 4 应用程序，它使用数据库来存储页面 (HTML)、画廊、表单等...我想为用户提供从内部页面调用其他控制器的功能。

简化的问题是如何从数据库获取的字符串中调用渲染操作。例如，我希望该字符串包含`@Html.RenderAction("Show", "Gallery", new {id=5})`

另一种选择是我必须在控制器中解析字符串，并在呈现此 HTML 之前呈现对字符串的所有子调用。

编辑：数据库会返回类似下面的代码，服务层可以用 {$gallery$} 替换`@Html.RenderAction("Show", "Gallery", {id=5})`

```
<div class="text">
<h1> title </h1>
<p> this is some random text {$gallery$} </p>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T14:49:51.347

从你的陈述

> 简化的问题是如何从数据库获取的字符串中调用渲染操作。

我知道您想使用动态提供的`action-name`和调用动作`controller`。如果这是你想要的，你可以使用它

**视图模型**

```
 public class MyViewModel{

   public string Action {get;set;}

   public string ControllerName {get;set;}

 } 
```

**控制器**

```
 public class MyController : Controller{

       public ActionResult MyView(){

         return View(new MyViewModel 
                   { Action ="MyPartialView" , ControllerName = "my"});
       }

       public ActionResult MyPartialView(){
         return PartialView();
       }
  } 
```

**看法**

```
 @model MyView

  ....render stuff for the view

@{
   Html.RenderAction(Model.Action,Model.ControllerName);
 } 
```

# ruby-on-rails - 当rails服务器启动时，如何初始化我自己的一些任务

> ID：14210941
> 
> 赞同：0
> 
> 时间：2013-01-08T08:25:44.833
> 
> 标签：ruby-on-rails, initialization, rack

例如：我想在启动服务器时自动运行一些东西
我对此不太清楚，有什么关于 rake 的吗？

...
我确实删除了愚蠢的例子

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T09:19:33.880

`config/initializers`例如，您可以在文件夹中创建一个初始化文件`task_scheduler.rb`，然后使用 Rufus 调度程序运行任务：

```
scheduler = Rufus::Scheduler.start_new

scheduler.in '4s' do
  autocallprocess_method
end

scheduler.every '1m' do
  autocallprocess_method
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T09:13:05.827

所以你想运行一段代码，在服务器启动时初始化一些东西，而不是作为一个 rake 任务/控制器操作等？最简单的方法是在 config/initializers 中创建一个文件并将任何 ruby​​ 代码放在那里。

此文件夹中的任何文件都会在服务器启动时运行。

# knockout.js - “Hasfocus”和镀铬

> ID：14210942
> 
> 赞同：0
> 
> 时间：2013-01-08T08:25:49.177
> 
> 标签：knockout.js

我正在使用 hasfocus 来强制关注这样的特定元素

```
this.inputHasFocus = ko.observable();
this.forceInputFocus = ko.computed({
    read: function () {
        return false;
    },
    write: function (value) {
        this.inputHasFocus(true);
    }
}, this); 
```

inputHasFocus 绑定到我想要强制聚焦的输入上，而 forceInputFocus 绑定到我不想从输入中窃取焦点的所有其他元素。

请在 Firefox 中试试这个小提琴，它可以工作（按箭头按钮，输入聚焦） [http://jsfiddle.net/AWHhr/2/](http://jsfiddle.net/AWHhr/2/)

试试Chrome，它没有，按下箭头按钮时不会触发写入方法。怎么了？有什么更好的方法来解决这个问题？

src代码，相关代码从第94行开始 [https://github.com/AndersMalmgren/Knockout.Combobox/blob/master/src/knockout.combobox.js](https://github.com/AndersMalmgren/Knockout.Combobox/blob/master/src/knockout.combobox.js)

编辑：孤立的问题[http://jsfiddle.net/ygCEs/2](http://jsfiddle.net/ygCEs/2)

# winforms - 一个非常简单的winform应用程序中的死锁

> ID：14210944
> 
> 赞同：1
> 
> 时间：2013-01-08T08:25:52.940
> 
> 标签：winforms, multithreading

我创建了一个非常简单的 winform 应用程序，它有一个表单和一个按钮。它的点击事件如下所示。如果单击该按钮，应用程序将按预期运行，即 ExecTasks 退出。如果将 lock 语句替换为 lock(this)，ExecTasks 将不会退出，并且调试器会在 Exec 中的代码处显示处于睡眠/等待/加入状态的线程。问题为什么选择锁定对象会改变这种行为 - 为什么表单实例不是一个有效的选择？

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace TestDeadlock
{
public partial class Form1 : Form
{
    private object _lock = new object();
    public Form1()
    {
        InitializeComponent();
    }

    private void Button1Click(object sender, EventArgs e)
    {
        Task.Factory.StartNew(ExecTasks);
    }

    private void ExecTasks()
    {
        lock (_lock) /* replace by lock(this) to see the blocked behavior */
        {
            var taskList = new List<Task>();
            for (var i = 0; i < 2; ++i)
            {
                taskList.Add(Task.Factory.StartNew(Exec));
            }
            Task.WaitAll(taskList.ToArray());
        }
    }

    private void Exec()
    {
        Invoke((Action)delegate{});
    }
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:38:54.020

我看到了这种阻塞行为。调用 Invoke 方法时，会调用 Control.FindMarshalingControl 方法，实现如下：

```
private Control FindMarshalingControl()
{
    lock (this)
    {
        Control parentInternal = this;
        ....
    }
} 
```

这是关于类似问题的链接：

[Control.BeginInvoke 也将被阻止](http://social.msdn.microsoft.com/Forums/en-us/netfxbcl/thread/aa70d091-2a54-4ff8-a012-4e198ff1e01c)

# c - 使用 C 程序在网络中查找三元组

> ID：14210945
> 
> 赞同：0
> 
> 时间：2013-01-08T08:26:00.683
> 
> 标签：c

我有以下问题：我有两个文件 file1.dat 和 file2.dat，每列有 9 个数字。举个例子：

file1.dat = 1,1,1,2,2,4,4,4,7

file2.dat = 2,4,7,3,4,1,3,7,1

我试图编写一个程序，应该在这个网络中找到三元组，对于三元组，我的意思是一组三个数字，以这个数字之一开头，传递给另外两个链接在一起的数字，然后返回到原来的数字. 在这种情况下，file1.dat 描述了从哪里开始的“节点”，而 file2.dat 描述了您到达的节点 (1->2, 1->4, 1->7, 2->3 ... ）。在这个小小的“网络”中有两个三和弦，它们由 1,2,4 和 1,4,7 组成。我写了以下程序：

```
#include <stdio.h>
#include <stdlib.h>
#define N 9

int main (void){

int A[N],B[N],i,j,l,m,k;
int x,y;
int valueA,valueB,count,middle_value,new_value;
FILE *fp,*fq;

if ((fp = fopen("file1.dat", "r")) == NULL ) {
  printf("Error opening file 1\n");
  exit(EXIT_FAILURE);
  } 

for (i = 0; i < N; i++) {
    fscanf(fp,"%d", &x);
    A[i] = x;
  }

  if ((fq = fopen("file2.dat", "r")) == NULL ) {
    printf("Error opening file 2\n");
    exit(EXIT_FAILURE);
  } 

  for (i = 0; i < N; i++) {
    fscanf(fq,"%d", &y);
    B[i] = y;
  } 
```

up 代码用于用两个文件中的所有数据填充两个数组 A 和 B。

```
 for (i=0;i<N;i++){      

    valueA=0;
    valueB=0;     

    valueA=A[i];
    valueB=B[i];
    count=0;
    middle_value=0;
    new_value=0;

//Start the research of the first node of the file2.dat in the file1.dat

 for(k=i+1;k<N;k++){

  if(A[k]==valueB){

    count++; 
```

在这里，我放了一个增加到 1 的计数器“计数”，如果我在第一个文件中找到与第一个参与节点具有相同值的数字，请告诉我。现在如果计数器 = 1，我希望计算机记住值 B = A[k] 将其写入文件末尾作为三元组的中间项。然后我给“valueB”一个新值，即在 A[k]--> B[k] 的开头对应的“节点到达”；

```
 if(count==1){

    middle_value = valueB;
    valueB = B[k]; 
```

然后我在文件中向前看，从我之前停止的位置 (l = k+1 ) 开始增加 for，因为三元组的最后一个值必须像 A[l] --> A == B[ 的第一个值升]。然后我增加计数器，当计数器达到 2 时，程序应该打印出 3 个值，否则它应该留下计数器 == 1，如果它在 file1 中找不到第一个值 B，则留下计数器 == 0（这就是为什么我把 else 放在最后..）

```
 for(l=k+1;l<N;l++){

      new_value=A[l];     

      if(new_value==valueB && valueA==B[l]){

              count++;

             if(count==2){

    printf ("%d,%d,%d\n\n",valueA,middle_value,valueB);

            }else{

         count=1;       
              }  
            }
           }

        }else{

         count=0;
       }
      } 
     } 
    }
   fclose(fp);
   fclose(fq);
   return (0); 
  } 
```

但它不像我想要的那样工作。但是，例如，如果我创建了 2 个新文件，例如

file1.dat = 1,1,1,2,3

file2.dat = 2,4,7,3,1

哪里有三合会 1,2,3，程序可以工作（必须把#define N 6 放在第 3 行）.. 有人可以帮助我吗？

* * *

我认为存在的问题是，带有开始文件的程序，当它与 valueA = 1，valueB=2 相关联时，它再次向文件 1 查找 2 的位置（现在变成“中间值”）和它给出了新的值 B = 3。现在它将在 file1 中搜索 3，但找不到它。所以它应该在 file1 中的第二个“2”处传递并赋予新的 valueB = 4，然后一切都会顺利进行。但事实并非如此。我不明白为什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T11:33:02.097

因此，我发现您的方法存在许多问题。也许最大的问题是你有三个循环：

```
for(i=0  ;i<N;i++){
for(k=i+1;k<N;k++){
for(l=k+1;l<N;l++){ 
```

每个循环都从另一个结束的地方开始。但是，一般来说，您可能需要查看较小的节点才能找到循环。例如，如果您有以下图表：

```
1 2 3
3 1 2 
```

您可以验证您的方法是否行不通。所以我们马上就知道我们需要扩大循环的范围。

此外，您还有很多变量。有时（但并非总是），这表明程序不必要地复杂。很多时候，不需要太多中间变量就可以解决相当复杂的问题。

你的`x`和`y`变量显然是不必要的，因为你把它们用作简单的中间体，所以我把它们删掉了。

您使用了两个文件指针变量，但实际上只需要一个。我剪掉了第二个。

我还将`fclose`语句移到更靠近您在文件中读取的位置，以便它们在尽可能短的时间内打开，这是读取文件的一种礼貌方式。

你`valueA`的`valueB`, 和`count`变量立即让我觉得有问题。尤其是这一点：

```
valueA=0;
valueB=0;     

valueA=A[i];
valueB=B[i]; 
```

你给他们值，然后立即改变这些值。

但是更深入地查看代码表明您正在使用`valueA`并`valueB`跟踪您正在查看`A`的代码`B`。你可以`count`用来跟踪你在循环中的深度。*但是这些中的每一个都是代码结构中固有的！*

因此，如上所述，我将所有这些都删掉并扩大了循环范围，结果是：

```
#include <stdio.h>
#include <stdlib.h>
#define N 9

int main () {
  int A[N], B[N];
  FILE *fp;

  if ((fp = fopen ("file1.dat", "r")) == NULL) {
    printf ("Error opening file 1\n");
    exit (EXIT_FAILURE);
  }
  for (i = 0; i < N; i++)
    fscanf (fp, "%d", &A[i]);
  fclose (fp);

  if ((fp = fopen ("file2.dat", "r")) == NULL) {
    printf ("Error opening file 2\n");
    exit (EXIT_FAILURE);
  }
  for (i = 0; i < N; i++)
    fscanf (fp, "%d", &B[i]);
  fclose (fp);

  for(int i=0; i<N; i++)
    for(int j=0; j<N; j++)
      for(int k=0; k<N; k++)
        if(B[i]==A[j] && B[j]==A[k] && B[k]==A[i])
          printf("%d,%d,%d\n",A[i],A[j],A[k]);

  return 0;
} 
```

它将找到每个三元组循环 3 次，这是不幸的，但它会找到所有循环。有一些更复杂的算法可以找到循环一次或更有效地找到它们，但是这个算法最接近你的原始代码，所以它现在可能对你最有用。

# android - android 最低和目标 SDK

> ID：14210946
> 
> 赞同：1
> 
> 时间：2013-01-08T08:26:05.560
> 
> 标签：android, android-2.2-froyo, android-sdk-2.3

我有一个非常基本的问题。

我有一个项目，它的`minSDKVersion`设置`8`和`targetSDK`版本为`16`. 现在我`setActionView()`使用这个[链接](http://developer.android.com/reference/android/view/MenuItem.html#setActionView%28android.view.View%29)的方法之一。

要求最低 API 级别为`11`. 我只想知道它是否可以在版本中工作`2.2`？？或者如果有办法支持以前的设备？我想使用需要使用“setActionView()”的可折叠操作项。有没有其他方法可以使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-13T13:14:13.097

您可以使用支持库执行此操作： `MenuItemCompat.setActionView(yourMenuItem, R.layout.your_view);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-09T03:28:15.183

您可能还想查看 ActionBarCompat，为您提供此功能...（请参阅[此链接](http://developer.android.com/guide/topics/ui/actionbar.html)）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T09:55:31.503

如果您使用的是 MenuItem *com.actionbarsherlock.view.MenuItem。**setActionView** (View view)*那么对它的支持应该在库中并且将在 2.2 上工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T08:32:04.867

如果它说此功能需要的最低 API 级别高于您在清单中设置的级别，那么您将无法在这些旧设备中使用此功能。但检查*Android 支持库*。这可以帮助您支持这些设备。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-31T07:33:14.143

使用 android appcompact actionbar 库时，您可以将 setActionView 与 SupportMenuItem 一起使用。所以您的代码应该像

```
private SupportMenuItem menuItem=(SupportMenuItem) menu.findItem(R.id.menu_refresh);
menuItem.setActionView(R.layout.progressbar); 
```

# html - 在 sencha touch 中发出滚动 Div

> ID：14210947
> 
> 赞同：0
> 
> 时间：2013-01-08T08:26:08.360
> 
> 标签：html, extjs, scroll

我在煎茶触摸工作。我面临一个问题，即我的屏幕上有一个面板，其中有一个动态附加的 div。它需要相机拍摄的图像，问题是我试图滚动面板但不能

我的代码是：

```
{
   xtype:'panel',
   id:'picPanel',
   scroll:true, //but it doesn't work ,
   scrollable:true, // But it is not working too
   scrollable:'vertical', // Not working too 
   style:'width:112%;margin:-15px; padding:0px; margin-top:-20px;padding-right:-15px',
   html:'<div id="pic"> </div>',
} 
```

我也尝试将属性赋予 div

```
overflow:scroll; // Not working 
```

CSS：

```
#pic {
   margin-top:-48px;
   padding-left:3px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T09:47:27.803

尝试，

```
scrollable: {
    direction: 'vertical',
    directionLock: true
} 
```

# solr - 当我们在 websphere commerce 中提交订单时，哪些表格会受到影响？

> ID：14210954
> 
> 赞同：0
> 
> 时间：2013-01-08T08:26:27.117
> 
> 标签：solr, websphere, commerce, wcs

Orderflow 由 ordercapture、orderprepare、orderprocess、fulfillorder、scheduleorder 组成，每个流程步骤中使用的命令是什么，每个步骤中受影响的表是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-24T02:16:28.117

订单，订单，订单，订单，订单，ORDADJUST，ORDIADJUST

![订单子系统数据模型](../Images/bad2a32acb3fb15382269a5543f77360.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-26T19:51:29.243

最快的方法就是在 WebSphere Commerce Developer 中放置一个断点，或者在 DB2 中放置 SQL 监控。如果您真的非常懒惰，另一种方法是咨询 IBM 软件支持。

# javascript - three.js - 管几何缩放

> ID：14210965
> 
> 赞同：0
> 
> 时间：2013-01-08T08:27:45.827
> 
> 标签：javascript, html, html5-canvas, three.js

我有一个用 200 个点构建的管几何结构，它在很多部分都有弯曲。现在，我展示了用户双击管的 +/- 10 个点的部分。所选部分按`tubeMesh.scale.x`和缩放`tubeMesh.scale.z`。如果用户点击圆柱部分，缩放管看起来不错。

但问题在于管子上有弯曲的部分。带刻度的管子看起来不太好。请查看附件图片。![缩放视图中的弯曲部分](../Images/8fd86e5e10a8c36f5f40308faacb4225.png)

**我如何缩放管子以使其无论选择哪个部分看起来都很完美？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:32:46.700

如果边界框在一侧很小，则根据边界框进行缩放，然后具有更大的比例。

```
tubeMesh.computeBoundingBox();
tubeMesh.scale.x = 100 / (tubeMesh.boundingBox.max.x - tubeMesh.boundingBox.min.x);
tubeMesh.scale.z = 100 / (tubeMesh.boundingBox.max.z - tubeMesh.boundingBox.min.z); 
```

# distance - 使用 GSM 天线测量距离

> ID：14210966
> 
> 赞同：0
> 
> 时间：2013-01-08T08:27:56.357
> 
> 标签：distance, gsm

设想：

想象一下一个大大厅，比方说 20 米 x 30 米。在这个大厅里，有人在走。想象一下，每个人都有一部手机。我们希望以 1 米的精度确定每个移动设备的位置。

问题：

我被问到的问题是，这是否可以通过使用本地 GSM 天线来实现。我的意思是，如果可以在大厅内分配天线，以便每部电话都在小区注册。每个单元应每隔 X 秒跟踪从单元到手机的距离，并将此信息发送到本地服务器。

有人有这方面的经验吗？这可能吗？

提前致谢

# android - Android ViewPagerIndicator 不刷新

> ID：14210968
> 
> 赞同：3
> 
> 时间：2013-01-08T08:27:59.793
> 
> 标签：android, android-viewpager, viewpagerindicator

首先，我使用以下链接中的 ViewPagerIndicator 来显示我的视图寻呼机中的视图计数：http: [//viewpagerindicator.com/](http://viewpagerindicator.com/)

我只使用了通常代码的 CirclePageIndicator ......我的 XML 看起来像这样：

```
<FrameLayout
    android:id="@+id/detailFragment"
    android:name="detailFragment"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <android.support.v4.view.ViewPager
        android:id="@+id/viewpager"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

    <com.viewpagerindicator.CirclePageIndicator
        android:id="@+id/pageIndicator"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"
        app:fillColor="@android:color/black"
        app:pageColor="@android:color/white"
        app:radius="6dp"
        app:strokeColor="@android:color/darker_gray"
        app:strokeWidth="1dp" />
</FrameLayout> 
```

我设置适配器和指示器的 java 代码也没什么特别的，将在下面发布（来自我的活动类）

```
 final ViewPager pager = (ViewPager) this.findViewById(R.id.viewpager);
  final DutyViewPager adapter = new DutyViewPager(this.getFragmentManager(), pkid, pager.getAdapter());
  pager.setAdapter(adapter);
  final CirclePageIndicator cIndicator = (CirclePageIndicator) this.findViewById(R.id.pageIndicator);
  cIndicator.setViewPager(pager); 
```

**问题**：可以说，我们有一个导航，其中有两个元素链接到两个不同的 ViewPagerAdapter。第一个元素链接到适配器**A**，它显示**2 个片段**的计数，第二个元素链接到适配器**B**，它显示**3 个片段**的计数。单击第一个元素后，我的视图将使用适配器**A**更新，从适配器加载第一个片段并显示**2 个圆圈**作为适配器计数 - 所以基本上，到目前为止一切都如预期的那样。单击第二个元素后，我的视图正在加载适配器**B**，**但视图仍然只显示 2 个圆圈，**所以我猜指示器没有更新或其他什么......问题在我向右滑动以显示**适配器 B**中的下一个片段时得到解决。（滑动后显示3个圆圈）

只是想知道是我自己还是其他人也遇到了这个问题（和解决方案）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-10T08:34:27.673

我之前也遇到过同样的问题，查看了CirclePageIndicator.java中的onDraw方法，发现是snap设置为true引起的。将 snap 更改为 false 后，一切看起来都很好。

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="StyledIndicators" parent="Theme.Light">
        <item name="vpiCirclePageIndicatorStyle">@style/CustomCirclePageIndicator</item>
    </style>

    <style name="CustomCirclePageIndicator">
        <item name="snap">false</item>
    </style>
</resources> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-03T15:51:49.890

setCurrentItem(0) 将为您工作

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T10:59:48.027

一个很晚的回复，但您需要在您的 ViewPagerIndicator 实例上调用 notifyDataSetChanged()。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-07T21:32:01.370

这可能有点 hacky，但我无法让任何其他解决方案工作，所以在手动设置页面后，我只是在我的页面指示器上调用它：

```
titleIndicator.onPageScrolled(mViewPager.getCurrentItem(), 0, 0); 
```

# java - 区间交叉口

> ID：14210980
> 
> 赞同：1
> 
> 时间：2013-01-08T08:28:28.540
> 
> 标签：java, algorithm, intersection, intervals, interval-intersection

我写了一个类来检查两个整数间隔是否重叠。但是我不太喜欢这个解决方案。我认为有可能以更好和更简单的方式做到这一点。

```
public class IntegerInterval implements Interval {
private Integer start;
private Integer end;

public IntegerInterval(Integer start, Integer end) {
    this.start = start;
    this.end = end;
}

public Integer getStart() {
    return start;
}

public Integer getEnd() {
    return end;
}

public boolean isOverlapping(IntegerInterval other) {
    if (other != null) {
        return isInInterval(start, other) || isInInterval(end, other)
                || isInInterval(other.start, this) || isInInterval(other.end, this);
    }
    return false;
}

public boolean isInInterval(Integer number, IntegerInterval interval) {
    if (number != null && interval != null) {
        if(interval.getStart() == null && interval.getEnd() != null) {
            return number.intValue() <= interval.getEnd().intValue();
        }
        if(interval.getStart() != null && interval.getEnd() == null) {
            return number.intValue() >= interval.getStart().intValue();
        }
        if(interval.getStart() == null && interval.getEnd() == null) {
            return true;
        }
        return interval.getStart() <= number && number <= interval.getEnd();
    }
    else if(number == null && interval != null) {
        return interval.getStart() == null && interval.getEnd() == null;
    }
    return false;
} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:46:53.633

下面的代码应该更简单：

```
public boolean isOverlapping(IntegerInterval other) {
    if (other == null) return false; // for readability's sake, this condition is pulled out

    // overlap happens ONLY when this's end is on the right of other's start
    // AND this's start is on the left of other's end.
    return (((this.end == null) || (other.start == null) || (this.end.intValue() >= other.start.intValue())) &&
        ((this.start == null) || (other.end == null) || (this.start.intValue() <= other.end.intValue())));
} 
```

**更新**如果`Date`按照@Adam 实际询问的方式进行比较，代码将是：

```
private static boolean dateRangesAreOverlaping(Date start1, Date end1,
                                               Date start2, Date end2) {
return (((end1 == null) || (start2 == null) || end1.after(start2)) &&
         ((start1 == null) || (end2 == null) || start1.before(end2))); 
```

}

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T08:41:34.830

您应该将其包装`start`在`end`一个`Comparable`能够封装`null`. 这样你只需要调用`compareTo`in`isInInterval`而不需要打扰`null`.

该类也可以明确表示正无穷和负无穷。

编辑：
如果您`<T extends Comparable<T>>`在类声明中添加类型参数并将类型`start`和`end`类型声明为，`Comparable<T>`那么您可以使用任何`Comparable`与您一起实现的类型`Interval`，而不仅仅是`Integer`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T08:40:41.523

假设`start < end`. `start`相对于的位置应该有 3 个检查`other`：左、中和右（右是为了完整性，因为不可能有交集）。所以这里有2个剩余的检查：

```
 (start <= other.start && end >= other.start) || 
 (start >= other.start && start <= other.end)  
 // start > other.end means no intersection as end > start > other.end 
```

如果您检查 as 的位置，`start`那么`if`第二个 chech 可以是`(start <= other.end)`：

```
 if (start <= other.start) return end >= other.start;
 else if (start <= other.end) return true;
 else return false; 
```

根据您的需要调整“=”部分并`null`适当地添加您的检查（即使用 SpaceTrucker 答案来制作隐藏在类内的 null 的comaprison）。

# java - Java对象的实例大小在不同的JVM中是不同的

> ID：14210990
> 
> 赞同：4
> 
> 时间：2013-01-08T08:29:09.267
> 
> 标签：java, object, size, instance

在这里，我发现了一个问题，即同一类的实例大小在不同版本的 JVM 中不一样（在**1.6.0_21**中为**40** ，在**1.6.0_31中为****24**）。即使，代码是相同的。你以前有没有人遇到过类似的问题？或者你有什么建议吗？

 ******JDK 1.6.0_21

```
# java -version 
java version "1.6.0_21"
Java(TM) SE Runtime Environment (build 1.6.0_21-b06)
Java HotSpot(TM) 64-Bit Server VM (build 17.0-b16, mixed mode)

# java obj.ObjectSize &

# jps | grep ObjectSize
27251 ObjectSize

# jmap -histo 27251 | grep US_ASCII
 145:             1             40  sun.nio.cs.US_ASCII 
```

JDK 1.6.0_31

```
# java -version
java version "1.6.0_31"
Java(TM) SE Runtime Environment (build 1.6.0_31-b04)
Java HotSpot(TM) 64-Bit Server VM (build 20.6-b01, mixed mode)

# java obj.ObjectSize &

# jps | grep ObjectSize
26645 ObjectSize

# jmap -histo 26645 | grep US_ASCII
161:             1             24  sun.nio.cs.US_ASCII 
```

对象大小.java

```
package obj;
import java.util.concurrent.TimeUnit;
import sun.nio.cs.US_ASCII;

public class ObjectSize {

    public static void main(String[] args) {
        US_ASCII as = new US_ASCII();
        System.out.println(as);

        try {
            TimeUnit.MINUTES.sleep(5);
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T09:12:26.887

我认为您所遇到的只是一个源于编译编程语言如何工作的事实，特别是如果它们在 VM 中运行。

允许虚拟机实现的变化表现不同，例如生成不同大小的 Java 字节码——*只要它们保持相同的 Java API*。

内存使用的差异真的那么大吗？如果内存大小的增加实际上是一个问题，我敢建议您首先已经遇到了内存问题。

如果您使用一台虚拟机以 50% 的容量工作，而现在使用另一台虚拟机达到上限，我想您需要对代码进行一些更深入的更改。或者在问题上投入更多的硬件。;)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T09:23:01.917

支持 Java 6 的早期版本，`-XX:+UseCompressedOops`但默认情况下它是关闭的。（Java 6 的第一个版本根本不支持这一点）这意味着 64 位 JVM 中的引用是 64 位的。在较新的 JVM 中，如果堆小于 32 GB，则使用 32 位引用。它可以做到这一点，因为对象是 8 字节对齐的，因此您可以使用 32 位引用寻址 2^32 * 8 字节。

注意：US_ASCII 继承了 Charset 的三个字段

```
private final String name;          // tickles a bug in oldjavac
private final String[] aliases;     // tickles a bug in oldjavac
private Set<String> aliasSet = null; 
```

这些引用小了 4 字节，节省了 12 字节，但是对象是 8 字节对齐的，因此总共节省了 16 字节。

使用压缩的 oops 可以减少使用的内存量。

[Hotspot JVM 中的压缩 oops](https://wikis.oracle.com/display/HotSpotInternals/CompressedOops)

顺便说一句：你不会直接使用这个类，而是你会使用`StandardCharset.US_ASCII`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T09:38:22.327

> 你有什么建议吗？

如果内存的使用对您很重要，请不要使用 1.6.0_21 的 64 位版本。切换到 32 位版本或更新的补丁级别。或者更好的是，Java 7。毕竟 1.6.0_21 已经过时了。

或者，运行 JVM 并选择显式启用压缩 oops，如下[所述](http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html)：

> *“对于 6u23 版本之前的 JDK 6，在 java 命令中使用 -XX:+UseCompressedOops 标志来启用该功能。”*

（但请注意，这可能会引起......当时......仍然是实验性 JVM 功能的错误。）******

# internet-explorer - JSFiddle.net 面板在 Mozilla Firefox 中不显示任何代码

> ID：14210993
> 
> 赞同：1
> 
> 时间：2013-01-08T08:29:25.313
> 
> 标签：internet-explorer, firefox, jsfiddle

我刚刚开始使用[JSFiddle.net](http://jsfiddle.net)，似乎存在一个问题，即面板在 Firefox 中打开其他用户小提琴时没有显示代码，而在 IE 中它工作正常。

我不明白这里有什么问题。

这是在IE中 ![这是在 IE 中](../Images/0bac2c2603a673c17596a687810c01ce.png)

这是在 Firefox 中 ![这是在 Firefox 中](../Images/b8d24afa13938dcc299ef8bc64c81127.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T10:10:07.377

尝试清理 Mozilla 上的缓存

# php - 如何将多维数组组合成单个数组

> ID：14210996
> 
> 赞同：0
> 
> 时间：2013-01-08T08:29:51.617
> 
> 标签：php

我有一个看起来像这样的数组 POST

```
Array
(
[ponumber] => 111111
[man_part_number] => Array
    (
        [0] => 11C2555
        [1] => 11C2555
        [2] => 11C2555
        [3] => 11C2555
    )

[model] => Array
    (
        [0] => FORMS PRINTER 2500 SERIES
        [1] => FORMS PRINTER 2500 SERIES
        [2] => FORMS PRINTER 2500 SERIES
        [3] => FORMS PRINTER 2500 SERIES
    )

[damaged] => Array
    (
        [0] => 0
        [1] => 0
        [2] => 0
        [3] => 0
    )

[serial_number] => Array
    (
        [0] => CNCQ202070
        [1] => CNCQ210800
        [2] => MY5203B1KQ
        [3] => CN1863Q0PQ
    )

[skid] => Array
    (
        [0] => 1
        [1] => 2
        [2] => 3
        [3] => 4
    )

[submit] => Attach this serial number list to PO#111111
) 
```

我需要将数组组合成

```
Array
(
[man_part_number] => Array
    (
        [0] = > 11C2555
    )
[model] => Array
    (
        [0] => FORMS PRINTER 2500 SERIES
    )
[damaged] => Array
    (
        [0] => 0
    )
[serial_number] => Array
    (
        [0] => CNCQ202070
    )
[skid] => Array
    (
        [0] => 1
    )
[ponumber] => Array
    (
        [0] => 111111
    }
} 
```

依此类推，以便所有 [0] 也组合为 [1]、[2] 和 [3]，但 ponumber 也需要添加到每个数组中，并且对于所有 4 个数组都是相同的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:21:16.687

您可以使用`MultipleIterator`

```
$mi = new MultipleIterator(MultipleIterator::MIT_NEED_ALL|MultipleIterator::MIT_KEYS_ASSOC);
$mi->attachIterator(new ArrayIterator($data['man_part_number']),"man_part_number");
$mi->attachIterator(new ArrayIterator($data['model']),"model");
$mi->attachIterator(new ArrayIterator($data['damaged']),"damaged");
$mi->attachIterator(new ArrayIterator($data['serial_number']),"serial_number");
$mi->attachIterator(new ArrayIterator($data['skid']),"skid");

echo "<pre>";
foreach ($mi as $member) {
    print_r($member);
} 
```

[输出](http://eval.in/6169)

```
Array
(
    [man_part_number] => 11C2555
    [model] => FORMS PRINTER 2500 SERIES
    [damaged] => 0
    [serial_number] => CNCQ202070
    [skid] => 1
)
Array
(
    [man_part_number] => 11C2555
    [model] => FORMS PRINTER 2500 SERIES
    [damaged] => 0
    [serial_number] => CNCQ210800
    [skid] => 2
)
Array
(
    [man_part_number] => 11C2555
    [model] => FORMS PRINTER 2500 SERIES
    [damaged] => 0
    [serial_number] => MY5203B1KQ
    [skid] => 3
)
Array
(
    [man_part_number] => 11C2555
    [model] => FORMS PRINTER 2500 SERIES
    [damaged] => 0
    [serial_number] => CN1863Q0PQ
    [skid] => 4
) 
```

[观看现场演示](http://eval.in/6169)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T08:59:31.187

```
$array = array_map('current', $array[0]); 
```