# StackOverflow 问答 13411000-13411999

# ruby-on-rails - 宝石安装指南针导轨错误

> ID：13411001
> 
> 赞同：0
> 
> 时间：2012-11-16T05:28:11.033
> 
> 标签：ruby-on-rails, ruby, gem

宝石安装指南针导轨

[/home/shanks/.rvm/gems/ruby-1.9.3-p194/specifications/compass-rails-1.0.3.gemspec] 不是 Gem::Specification （而是 NilClass）。[/home/shanks/.rvm/gems/ruby-1.9.3-p194/specifications/compass-rails-1.0.3.gemspec] 不是 Gem::Specification （而是 NilClass）。错误：执行 gem 时 ... (NoMethodError) 未定义的方法 `spec' 用于 nil:NilClass

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:58:17.810

尝试删除这些文件，使用

```
rm /home/shanks/.rvm/gems/ruby-1.9.3-p194/specifications/compass-rails-1.0.3.gemspec
rm /home/shanks/.rvm/gems/ruby-1.9.3-p194/specifications/compass-rails-1.0.3.gemspec 
```

然后尝试使用您的命令。当我遇到这样的问题时，这很有效。

# android - 短信处理始发地址

> ID：13411002
> 
> 赞同：0
> 
> 时间：2012-11-16T05:28:13.847
> 
> 标签：android, sms

先生，您能教我一种在其他课程中使用 sender 变量的方法吗？我尝试了其他方法，但它只显示空值。谢谢

```
 String sender;
public void onReceive(Context context, Intent intent) {
    // TODO Auto-generated method stub
    Bundle bundle = intent.getExtras(); 
    Object[] pdusObj = (Object[]) bundle.get("pdus"); 
    SmsMessage[] messages = new SmsMessage[pdusObj.length]; 
    for (int i = 0; i<pdusObj.length; i++) 
    { 
            messages[i] = SmsMessage.createFromPdu ((byte[]) 
            pdusObj[i]); 
            sender = messages[i].getOriginatingAddress();
    } 
```

# mysql - 如果特定元组有很多维度并且需要非常快速的读取然后写入，那么哪个 NoSql 数据库是最好的[mongodb、columner DB、mysql 或任何其他]

> ID：13411004
> 
> 赞同：0
> 
> 时间：2012-11-16T05:28:21.597
> 
> 标签：mysql, mongodb, graph-databases, database, nosql

我想为我的分析解决方案检索光速数据。这个问题如下。我每 15 分钟处理大量数据，并创建具有大量不同不同维度的不同多维数据集 [元组]。详细地，我在 100 个国家 X 10000 个州 X 5000 个电视频道 X 999 个节目 X ... X 15 分钟时间间隔中分离数据。所以每 15 分钟就会创建很多不同的元组。目前我正在使用 Mysql 数据库并通过文件转储数据，因此编写起来要快得多。我也有 15 分钟、1 小时、1 天、1 周、1 个月、1 年粒度聚合表的不同表，用于不同类型的查询。但是在检索它时需要花费大量时间[即使在对数据库表进行了最佳索引之后。]

请任何人为我提供这个问题的解决方案？如果可能的话区分 NoSql 和 MySql 数据库？

我在简单的 txt 文件中获取我的数据作为服务器日志。这是由我的 java Web 服务应用程序使用日志记录功能生成的。像这样... – Dhimant Jayswal 13 分钟前 正如我所提到的，我通过每 15 分钟处理一次这些日志并保存到 mysql 数据库表中来创建不同的维度，并在此期间对相同的维度进行聚合（例如 - 1 小时内将有将聚合 4 个 15 分钟维度以更详细地创建 1 个维度，我正在创建一个维度[/Object]，例如 time=2012-11-16 10:00:00, Country='US', Location='X ', His=15 ; 另一次=2012-11-16 10:15:00, Country='US', Location='X',His=67)。然后这些值进入数据库表。所以我可以在一个小时或 15 分钟或一天内随时检索数据

# sql-server - 如果文件消失了如何删除（localdb）数据库

> ID：13411005
> 
> 赞同：38
> 
> 时间：2012-11-16T05:28:22.807
> 
> 标签：sql-server, localdb

如果我运行 SQL Server Management Studio，并告诉它连接到 (localdb)\v11.0，它会知道我曾经使用过的每个数据库，尽管大多数数据库文件早已不复存在。

如果我要求它删除其中一个数据库，它会抱怨它无法删除数据库，因为数据库文件已经消失了（duhhh）。那么，如何清理这些混乱并删除所有关联数据库文件已消失的数据库引用？

鲍勃

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-12-02T13:46:17.530

在这种情况下，分离数据库而不是尝试删除它。在 SQL Management Studio 中，右键单击数据库，选择“任务”，然后选择“分离”。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2014-01-12T10:56:10.850

您需要做的就是重新创建实例，并使用 SQL 2012 进行测试！只需使用管理员权限进入命令提示符并键入：

```
//list the instancies
sqllocaldb i

//stop selected instance
sqllocaldb p "selected instance"

//delete
sqllocaldb d "selected instance"

//recreate or create new one 
sqllocaldb c "new instance" 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-04-18T03:32:16.010

我有同样的问题。首先使用代码设计数据库时，我只是删除旧的数据库。它最终会在 SQL Server Management Studio 中出现多个已删除的数据库。然后，当我尝试查询数据库时，很难从已删除的数据库实例中找到正确的数据库实例。

正如 IRM 建议的那样，我尝试分离那些已删除的数据库，并且对于其中一些数据库来说效果很好！

但是我还剩下几个。然后我尝试在这些数据库上“脱机”。每次我尝试使 DB 脱机时，SQL Server Management Studio 都会崩溃。SQL Server Management Studio 重新启动后，数据库消失了。因此，如果分离和删除对您不起作用，请尝试“脱机”。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2017-08-23T19:56:28.723

我收集了数百个，单独分离它们实在是太乏味了。

我做了什么：

```
SELECT 'EXEC sp_detach_db ''' + name + ''''
FROM sys.databases
; 
```

这给了我一个 exec 命令列表：

```
EXEC sp_detach_db 'E:\...\ADATABASE.MDF'
EXEC sp_detach_db 'E:\...\ANOTHERDATABASE.MDF'
EXEC sp_detach_db 'E:\...\ATHIRDDATABASE.MDF'
....
EXEC sp_detach_db 'master'
EXEC sp_detach_db 'model'
EXEC sp_detach_db 'msdb'
EXEC sp_detach_db 'tempdb' 
```

将结果复制回命令窗口，突出显示系统数据库以外的所有内容，然后执行。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-07-09T16:24:22.993

此处接受的答案说要分离服务器，但是如果您有快照，则无法分离它们，并且在删除它们时遇到相同的问题。

但是，您可以删除它们，方法是在 sql server 认为文件应该在的位置创建空文件，重新启动 sql server 服务，然后重试。

如果您不确定如何找到物理位置，可以在这里找到： [https://dba.stackexchange.com/questions/49811/location-of-the-mdf-file-of-the-database#:~: text=5%20Answers&text=有%20are%20few%20ways%20to,the%20Path%20and%20FileName%20columns](https://dba.stackexchange.com/questions/49811/location-of-the-mdf-file-of-the-database#:%7E:text=5%20Answers&text=There%20are%20few%20ways%20to,the%20Path%20and%20FileName%20columns)。

# python - 在 Heroku 上使用 Flask 时出现“无法找到记录器“foursquare”错误的处理程序。使用 localhost 时不会发生错误

> ID：13411014
> 
> 赞同：1
> 
> 时间：2012-11-16T05:28:48.363
> 
> 标签：python, heroku, flask, foursquare

我有一个使用**Foursquare python API**和**Flask 框架**的网站。

一切都运行良好，但是当我将代码推送到 heroku 服务器时，我开始收到此错误：**FoursquareException: Error connection withfoursquare API**。

这是正在运行的代码（变量都指向有效信息）：

```
fsq_client = Foursquare(client_id=fsq_client_id, client_secret=fsq_client_secret, redirect_uri=redirect_uri)

@app.route('/fsq/explore')
def fsq_explore():
    lat = request.args.get('lat', '')
    lng = request.args.get('lng', '')
    params = {}
    params['ll'] = str(lat) + ',' + str(lng)
    data = fsq_client.venues.explore(params)
    return json.dumps(data) 
```

我还在 Heroku 日志中看到一个错误，指出**No handlers could be found for logger "foursquare"**。

我以前从未见过这个错误。

我试过在我的本地主机上运行代码，一切都很好。我什至在终端中将每一行代码输入到 python 中，它都正确返回。这似乎是 Heroku 服务器特有的问题。

有什么我应该注意的吗？我应该玩的任何设置或我应该确保我有的要求？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T17:05:27.160

我在heroku上遇到了同样的问题。有关记录器的错误可以通过将其放入您的 app.py （或您的 Flask 应用程序所在的任何位置）来解决：

```
import foursquare
import sys
import logging
loghandler = logging.StreamHandler(stream=sys.stdout)
foursquare.log.addHandler(loghandler)
foursquare.log.setLevel(logging.DEBUG) 
```

在 Heroku 中，通过 sys.stdout 写入的所有内容都保存在“heroku 日志”中，因此您将在那里看到写入日志的消息。

然后您可以看到foursquare 库提出了什么问题，在我的情况下，它似乎与SSL 证书有关。我仍在努力解决这个问题。

# html - 来自 HTML 的 Twitter 引导模式作为对话框？

> ID：13411015
> 
> 赞同：0
> 
> 时间：2012-11-16T05:28:57.520
> 
> 标签：html, twitter-bootstrap, modal-dialog

我想根据第一个示例显示一个 twitter 引导模式对话框，即 statis 对话框。

[http://twitter.github.com/bootstrap/javascript.html#modals](http://twitter.github.com/bootstrap/javascript.html#modals)

但是，我希望它以模态对话框的状态显示（涂黑的 scnks.reen）

默认情况下它似乎没有这样做，而且我无法弄清楚要包含哪些属性或类来做到这一点？

谢谢

```
<div class="modal hide fade">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Modal header</h3>
  </div>
  <div class="modal-body">
    <p>One fine body…&lt;/p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn">Close</a>
    <a href="#" class="btn btn-primary">Save changes</a>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:27:05.773

使用模式对话框添加`<div class="modal-backdrop fade in"></div>`到页面显示/隐藏

# fullcalendar - 无法加载 gcal

> ID：13411033
> 
> 赞同：0
> 
> 时间：2012-11-16T05:30:13.273
> 
> 标签：fullcalendar

我试图让我的 gcal 加载，但它不会，我不知道为什么。

这是我的代码：

```
<script src="<?php echo base_url();?>assets/js/jquery-1.8.2.js"></script>
<script src="<?php echo base_url();?>assets/js/fullcalendar.js"></script>
<script type='text/javascript' src="<?php echo base_url();?>assets/js/gcal.js"></script> 

<script type='text/javascript'>
$(document).ready(function() {
    $('#calendar').fullCalendar({
        events: {
            url: 'https://www.google.com/calendar/feeds/hq@eschamp.com/public/basic/'
        }
    });
}); 
```

日历加载正常，但我看不到任何事件。您可以在此处查看示例：[http ://www.eschamp.com/index.php/schedule](http://www.eschamp.com/index.php/schedule)

在错误控制台中查看它似乎加载正常。如果我尝试不同的 gcal url，它会抱怨，所以它似乎加载正确。所以我不确定发生了什么。

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T18:12:04.257

也许日历没有设置为公开？我想这会使 URL 有效但事件不可见。你会试一试吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T22:01:31.930

只需使用

```
events: 'https://www.google.com/calendar/feeds/hq@eschamp.com/public/basic/' 
```

如果您不想指定任何其他选项。`url:`仅当您想设置其他日历选项时才需要使用`className`

让我知道这是否有帮助！

# javascript - jQuery Mobile：无序列表

> ID：13411038
> 
> 赞同：-1
> 
> 时间：2012-11-16T05:30:34.397
> 
> 标签：javascript, jquery, jquery-mobile

我有一个像这样的无序列表：

```
<ul id="mylist">
    <li id="1">Heading</li>
    <li id="2">Second</li>
</ul> 
```

我想要做的是，当我添加另一个列表项时：

```
<li id="3">First</li> 
```

它需要添加到“mylist”中第一个列表项下方的列表项。即，在这种情况下，就在“标题”下方。所以最终列表如下所示：

```
<ul id="mylist">
    <li id="1">Heading</li>
    <li id="3">First</li>
    <li id="2">Second</li>
</ul> 
```

提前致谢。

* * *

注意：我从尝试实现这一点中学到的是，当我们向使用 jQuery 选择的元素附加或附加一些内容时，它将被附加或附加到所选元素内的内容中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T05:36:23.193

您可以使用`after`方法和`:first`选择器：

```
$('#mylist li:first').after('<li id="3">First</li>') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T05:35:06.473

[http://api.jquery.com/after/](http://api.jquery.com/after/)

您可以使用 .after 或 .insertAfter 来更精确地放置在 DOM 树中。

# python - Python：列表比较

> ID：13411039
> 
> 赞同：0
> 
> 时间：2012-11-16T05:30:40.167
> 
> 标签：python

请帮我。如果元素 in`b`是 in `a`，那么我想将`a`（配对）放入一个新列表（`C`）中。

```
a=['SMAD3', 'CYP11A1']
['SMAD3', 'ZNF83']
['SMAD3', 'PSMD11']
['SMAD3', 'MTF2']
['SMAD3', 'CFDP1']
['SMAD3', 'ST6GALNAC2']...

b=['NPR2']
['COL2A1']
['GNPTAG']
['ENPP1']
['COL6A1']
['WISP3']... 
```

我这样编码：

```
C=[ ]
for data in a:
   for line in b:
  if ...
  C.append(a) 
```

我该如何填写`if`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:54:41.490

有了这个全局解决方案`a`，可以多于一对，并且`b`每个内部列表中的元素可以多于一个。

```
>>>a=[['ad','re','er'],['ew','fg']]  
>>>b=[['erw','dfger'],['we']] 
```

无论如何，这是如何做到的：

```
c=[]  
modified_b=[]  
a=[['aaaa','bbbb'], ['ccccc', 'dddd']]  
b=[['aaaa']] 

for  i in b:  
     modified_b.extend(i)   # this will make b one list instead of list of lists  

for data in a:  
    for element in data:  
        if element in modified_b:  
            c.append(data)  
            break            #this will break the inner loop once you find b in a 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T05:39:38.033

假设 a 和 b 是列表：

```
c = []
for data in a:
    if data in b:
        c.append(data) 
```

或者，作为列表理解：

```
c = [data for data in a if data in b] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T05:41:14.043

```
C=[ ]

for data in a:
    if data[0] in b or data[1] in b:
         C.append(data) 
```

# c# - 格式化我的文本文件的有效方法

> ID：13411044
> 
> 赞同：2
> 
> 时间：2012-11-16T05:31:25.087
> 
> 标签：c#, .net, text-files

我有大约 2000 行的日志文件。我已经完成了第一轮格式化。但是，我在将日志格式化为我目前想要的格式时遇到了困难：

**当前的：**

```
line1: 9/13/2011 3:58:05 AM, abef, 1234, ...
line2: 9/14/2011 3:58:05 AM, adef, 1234, ...
line3:
line4: 9/15/2011 3:58:05 AM, bcdef, 134, ...
line5: 3) sdad
line6: azd
line7: [] asdsdee234 
line2014: 9/16/2011 3:58:05 AM, abcf, 1234, ... 
```

我想要实现的是清理日志以删除不以日期开头的行。所以需要删除第 3、5、6 和 7 行。

**想要的结果：**

```
line1: 9/13/2011 3:58:05 AM, abef, 1234, ...
line2: 9/14/2011 3:58:05 AM, adef, 1234, ...
line3: 9/15/2011 3:58:05 AM, bcdef, 134, ...
line2010: 9/16/2011 3:58:05 AM, abcf, 1234, ... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T05:48:26.873

```
private static IEnumerable<string> ReadOnlyDateTime(string path)
{
    DateTime d;
    string input;
    using (StreamReader stream = new StreamReader(path)) 
    {
        while ((input = stream.ReadLine() != null && DateTime.TryParse(input, out d))
        {
            yield return input;
        }
    }
} 
```

或者

```
DateTime d;
IList<string> = File.ReadLines(path)
                    .Where(line => DateTime.TryParse(line, out d)
                    .ToList(); 
```

然后使用 .dump 结果到磁盘`File.WriteAllLines()`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T05:36:57.907

当您在代码中遍历文件的每一行时，您有两个选项来检查日期：

*   评估`string`使用[正则表达式](http://msdn.microsoft.com/en-us/library/hs600312.aspx)。

*   [DateTime.TryParse](http://msdn.microsoft.com/en-us/library/ch92fbc1.aspx)的`string`.

# android - Android 布局问题：屏幕不可见

> ID：13411046
> 
> 赞同：0
> 
> 时间：2012-11-16T05:31:37.583
> 
> 标签：android, android-layout

我正在尝试在 zomato 应用程序中实现过滤器之类的东西，在选择过滤器时，第一个屏幕移动仅显示第一个屏幕的一部分和整个第二个屏幕，我们可以在其中选择过滤器的类型，选择后可以为我们提供所有移动第一个和第二个屏幕后的过滤器类型。

我所做的是我将内部屏幕（过滤器类型和过滤器选项）作为两个不可见的相对布局，然后我滑动它们并通过更改其布局参数的边距并请求布局使它们可见。

在显示第三个屏幕（过滤器选项）时，即使我提供了正确的边距，第二个屏幕也不可见。

任何人都可以帮忙吗？

编辑代码：

私有类 SlidingAnimation 扩展动画 {

```
 private float mainViewStartX, mainViewEndX;
    private float sideViewFromX, sideViewToX;
    private float sideView2FromX,sideView2ToX;
    private View slideInView,slideOutView,slideInView2;

    public SlidingAnimation(float fromX, float toX, float sideViewFromX,
            float sideViewToX,float sideView2FromX,float sideView2ToX, int duration,View slideInView,View slideOutView,View slideInView2) {
        setDuration(duration);
        this.slideInView =  slideInView;
        this.slideOutView = slideOutView;
        this.slideInView2 = slideInView2;
        mainViewEndX = toX;
        mainViewStartX = fromX;
        slideOutViewLayoutParams = (LayoutParams) slideOutView.getLayoutParams();

        this.sideViewFromX = sideViewFromX;
        this.sideViewToX = sideViewToX;
        slideInViewLayoutParams = (LayoutParams) slideInView.getLayoutParams();     

        if(slideInView2!=null){
            Log.w(null,"Side View two also exists");
            this.sideView2FromX =  sideView2FromX ; 
            this.sideView2ToX =  sideView2ToX;
            slideInView2LayoutParams = (LayoutParams)slideInView2.getLayoutParams();
        }
    }

    @SuppressLint("NewApi")
    @Override
    protected void applyTransformation(float interpolatedTime,
            Transformation t) {
        super.applyTransformation(interpolatedTime, t);

        if (interpolatedTime < 1.0f) {
            // Applies a Smooth Transition that starts fast but ends slowly
            if(slideInView2==null){
                slideOutViewLayoutParams.rightMargin = (int) (mainViewStartX + ((mainViewEndX - mainViewStartX) * (Math
                        .pow(interpolatedTime - 1, 5) + 1)));               
                slideInViewLayoutParams.rightMargin = (int) (sideViewFromX - ((sideViewFromX-sideViewToX) * (Math
                        .pow(interpolatedTime - 1, 5) + 1)));
                slideOutViewLayoutParams.leftMargin = (int)- mainViewEndX;              
                slideInView.requestLayout();
                slideOutView.requestLayout();
                Log.w(null,"Slide Out Right Margin:"+slideOutViewLayoutParams.rightMargin);
                Log.w(null,"Slide Out Left Margin:"+slideOutViewLayoutParams.leftMargin);
                Log.w(null,"Slide In Left Margin:"+slideInViewLayoutParams.leftMargin);
            }
            else{
                slideOutViewLayoutParams.rightMargin = (int) (mainViewStartX + ((mainViewEndX - mainViewStartX) * (Math
                        .pow(interpolatedTime - 1, 5) + 1)));               
                slideInViewLayoutParams.rightMargin = (int) (sideViewFromX + ((sideViewToX-sideViewFromX) * (Math
                        .pow(interpolatedTime - 1, 5) + 1)));
                slideOutViewLayoutParams.leftMargin = (int)- mainViewEndX;      
                slideInViewLayoutParams.leftMargin = (int)-sideViewToX;
                slideInView2LayoutParams.rightMargin = (int) (sideView2FromX - ((sideView2FromX-sideView2ToX) * (Math
                        .pow(interpolatedTime - 1, 5) + 1)));                   
                slideOutView.requestLayout();
                slideInView.requestLayout();
                slideInView2.requestLayout();
                Log.w(null,"Slide Out Right Margin:"+slideOutViewLayoutParams.rightMargin);
                Log.w(null,"Slide Out Left Margin:"+slideOutViewLayoutParams.leftMargin);
                Log.w(null,"Slide In Left Margin:"+slideInViewLayoutParams.leftMargin);
                Log.w(null,"Slide In Right Margin:"+slideInViewLayoutParams.rightMargin);
                Log.w(null,"Slide In View 2 Right Margin:"+slideInView2LayoutParams.rightMargin);
            }
        }

    }
} 
```

来电：

SlidingAnimation open = new SlidingAnimation(-width+dpToPx(45), width - dpToPx(45/2), 0,width-dpToPx(45),-width+dpToPx(45),0,1000,filterTypeLayout, selectBusLayout,filterOptionLayout) ;

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-16T06:09:46.503

尝试使用两个[Horizo​​ntalScrollViews](http://developer.android.com/reference/android/widget/HorizontalScrollView.html)。

将 HSV 添加到 FrameLayout。

为 HSV 实现 OnTouchListeners，处理触摸事件并相应地使 HSV 平滑滚动到屏幕上的特定位置。您可以根据屏幕宽度指定位置。

示例：ScrollView.smoothScrollTo(4*width/5, 0);

# sql - 删除大量 Openfire 用户

> ID：13411051
> 
> 赞同：2
> 
> 时间：2012-11-16T05:32:22.027
> 
> 标签：sql, bash, chat, openfire

我有一个为客户运行的**OpenFire 聊天服务器**。我需要删除所有大约 6 个月未登录的用户。我认为大约需要删除约 1500 个用户。单击删除并确认需要很长时间。有没有办法通过**脚本**或**命令行**来做到这一点？

# java - 使用 Java 将 MySQL 查询结果存储在 ArrayList 中

> ID：13411052
> 
> 赞同：1
> 
> 时间：2012-11-16T05:32:25.967
> 
> 标签：java, mysql, jsp, arraylist

以下 java 代码接收来自 JSP 文件的 POST 请求并将 out ArrayList 作为输出传回。我遇到的问题是弄清楚如何正确地将输出读入 Arraylist，这样我就可以从 Arraylist 中获取每个元素并将其显示在我的 JSP 中。

如何将列名读取为第一个字符串数组，然后将每一行数据读取为以下字符串数组，这样我就有一个巨大的数组列表，其中包含以有组织的方式查询的整个结果，以及将允许我将结果读取到我的 JSP 页面上吗？

编辑：所以我现在唯一遇到的问题是当执行像 SELECT * FROM table 这样的命令时；它只显示列名。但是当我执行 SELECT columnName FROM table 之类的命令时；它完美地显示了该列。下面的代码已经更新以反映我现在的位置。

```
import javax.servlet.*;
import javax.servlet.http.*;
import java.io.*;
import java.sql.*;
import java.util.ArrayList;

@SuppressWarnings("serial")

public class databaseServlet extends HttpServlet {
    private Connection conn;
    private Statement statement;

    public void init(ServletConfig config) throws ServletException {
        try {
            Class.forName(config.getInitParameter("databaseDriver"));
            conn = DriverManager.getConnection(
                    config.getInitParameter("databaseName"),
                    config.getInitParameter("username"),
                    config.getInitParameter("password"));
            statement = conn.createStatement();
        }
        catch (Exception e) {
            e.printStackTrace();
        }
    }

    protected void doPost (HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        ArrayList<String[]> out = new ArrayList<String[]>();
        ArrayList<String> columns = new ArrayList<String>();

        String query = request.getParameter("query");

        if (query.toString().toLowerCase().contains("select")) {
            //SELECT Queries
            //try {
                ResultSet resultSet = statement.executeQuery(query.toString());
                ResultSetMetaData metaData = resultSet.getMetaData();
                int numberOfColumns = metaData.getColumnCount();
                for(int i = 1; i<= numberOfColumns; i++){
                    columns.add(metaData.getColumnName(i));
                }

                while (resultSet.next()){
                    String[] row = new String[numberOfColumns];
                    for (int i = 0; i < numberOfColumns; i++){
                        row[i] = (String) resultSet.getObject(i+1);
                    }
                    out.add(row);
                 }
            //}
            //catch (Exception f) {
                //f.printStackTrace();
            //}
        }
        else if (query.toString().toLowerCase().contains("delete") || query.toLowerCase().contains("insert")) {
            //DELETE and INSERT commands
            //try {
                conn.prepareStatement(query.toString()).executeUpdate(query.toString());
                columns.add("\t\t Database has been updated!");
            //}
            //catch (Exception l){
                //l.printStackTrace();
            //}
        }
        else {
            //Not a valid response
            columns.add("\t\t Not a valid command or query!");
        }
        request.setAttribute("query", query);
        request.setAttribute("resultSize",  out.size());
        request.setAttribute("queryResults", out);
        request.setAttribute("queryColumns", columns);
        RequestDispatcher dispatcher = request.getRequestDispatcher("/dbServlet.jsp");
        dispatcher.forward(request,  response);
    }
} 
```

这是我的 .JSP 文件，现在当我执行命令时它只打印 [] ，其中没有任何内容。由于之前的测试，我知道命令可以正常工作，但数组显示不正确。

```
<?xml version = "1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- dbServlet.html -->
<html xmlns = "http://www.w3.org/1999/xhtml">
<%@ page import="java.util.ArrayList" %>
<head>
    <title>MySQL Servlet</title>
    <style type="text/css">
        body{background-color: green;}
    </style>
</head>
<body>
    <h1>This is the MySQL Servlet</h1>
    <form action = "/database/database" method = "post">
    <p>
        <label>Enter your query and click the button to invoke a MySQL Servlet
            <textarea name = "query" cols="20" rows="5"></textarea>
            <input type = "submit" value = "Run MySQL Servlet" />
            <input type = "reset" value = "Clear Command" />
        </label>
    </p>
    </form>
    <hr>
    <TABLE id="results">
        <%
            ArrayList<String> columns = (ArrayList<String>)request.getAttribute("queryColumns");
            ArrayList<String[]> results = (ArrayList<String[]>)request.getAttribute("queryResults"); 
            out.println("<TR>");
            if(columns != null && !columns.isEmpty()){
                for(String columnName: columns ){
                   out.println("<TD>"+columnName+"</TD>");
                }
            }
            out.println("</TR>");
            //print data
            if(results != null && !results.isEmpty()){
                for(String[] rowData: results){
                   out.println("<TR>");
                   for(String data: rowData){
                      out.println("<TD>"+data+"</TD>");
                   }
                   out.println("</TR>");
                }
            }
        %>
    </TABLE>
    <%= request.getAttribute("query") %>
    <%= request.getAttribute("resultSize") %>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T05:37:41.770

也为列定义一个列表。

```
 ArrayList<String[]> results= new ArrayList<String[]>(); 
            ArrayList<String> columns= new ArrayList<String>(); 
```

将列列表填充为：

```
 for(int i = 1; i<= numberOfColumns; i++){
                columns.add(metaData.getColumnName(i));
            } 
```

用结果行填充列表为：

```
 while (resultSet.next()){ 
                String[] row = new String[numberOfColumns];
                for (int i = 1; i <= numberOfColumns; i++){
                    row[i] = (String) resultSet.getObject(i);
                }
                results.add(row);
             } 
```

到底：

```
 request.setAttribute("queryResults", results);
            request.setAttribute("queryColumns", columns); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T05:57:08.760

你可以有两个数组列表，

```
ArrayList<String> columnNames = new ArrayList<String>();
ArrayList<String> out = new ArrayList<String>(); 
```

遍历 ResultSetMetadata 并将列添加到 columnNames ArrayList。

然后将 columnNames 添加到 out ：

```
out.add(columNames); 
```

然后使用您正在访问的表中的所有列名创建一个 VO 类。为类名创建所有 getter 和 setter。

然后遍历结果集，

将结果集中的所有值设置到该 VO 类中。

将此 VO 类添加到 out arrayList。

```
ResultVO vo ;
while (resultSet.next()){
vo = new ResultVO();
vo.setColumnName1(resultSet.getString(1));
vo.setColumnName2(resultSet.getString(2));
out.add(vo);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T05:37:43.910

首先，为什么要对变量添加`toString`调用？`String type`

现在，至于您的问题，我宁愿`Class`为数据库中的表创建一个 , 以列作为属性。对于每一行，从列中创建该类的一个实例，并将其添加到`ArrayList`.

因此，您的 ArrayList 声明可能是这样的：-

```
List<TargetTable> records = new ArrayList<TargetTable>(); 
```

接着： -

```
while (res.next()) {

    records.add(new TargetTable(res.getString(1), res.getString(2), ...));
} 
```

我希望您知道表格中的列数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T05:38:39.100

ArrayList 不是用于此目的的最佳数据结构。

您可以使用

```
 Table<Integer, String, Object> 
```

可在 google guava 库中找到。它也很容易使用

# c# - 控制台应用程序-Asp.net-在另一个类中使用一个类

> ID：13411055
> 
> 赞同：-1
> 
> 时间：2012-11-16T05:32:33.037
> 
> 标签：c#, asp.net

我在我的项目中创建了 class1.cs，其中包含`public int a;`

在同一个项目中，我有另一个具有命名空间基本和类名程序的程序，该程序类中还包含 main 方法。在主要方法中，如果我尝试为 class1 创建对象，则会收到错误 class1 is not present in the current context 或缺少程序集引用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T05:39:47.620

尝试通过包含添加的程序集的命名空间来创建类的实例，例如

```
namespace.class1 c1 = new namesapce.class1(); 
```

或在上面包含命名空间

```
using namespace;

   class1 c1= new class1(); 
```

这里的命名空间被替换为其中包含 class1 的命名空间的名称。

# asp.net - 获取网站数据并显示在我的网页上

> ID：13411058
> 
> 赞同：0
> 
> 时间：2012-11-16T05:33:03.750
> 
> 标签：asp.net, webpage-rendering

我正在尝试在我的网页上显示一个网站部分。为此我不想使用 iframe。但是任何其他可以从网站获取数据然后将其显示在我的网页上的想法。这是网站 [http://www.sugaronline.com/](http://www.sugaronline.com/)

并想在我的网页上显示这部分

[http://i.stack.imgur.com/CVsrh.jpg](http://i.stack.imgur.com/CVsrh.jpg)

请任何人告诉我除了使用 iframe 之外还有什么方法可以做到这一点？

**更新**

```
 Shared Function GetHtmlPage(ByVal strURL As String) As String
        Dim strResult As String
        Dim objResponse As WebResponse
        Dim objRequest As WebRequest = HttpWebRequest.Create(strURL)
        objResponse = objRequest.GetResponse()
        Using sr As New StreamReader(objResponse.GetResponseStream())
            strResult = sr.ReadToEnd()
            sr.Close()
        End Using
        Return strResult
    End Function

Dim responses As String = GetHtmlPage(theurl) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T05:35:55.763

如果您使用的是 PHP，请尝试使用 CURL，它是一个服务器端请求，它从目标站点获取数据，然后您可以将其嵌入到您的页面中。

另一方面，如果您使用的是 .Net，则可以使用 httpwebrequest 来做同样的事情。

简而言之，您必须从您的服务器向目标网站发出服务器端请求以获取数据，并且您可以将该数据嵌入您的页面，就好像它来自您的网站一样。

请查看此帖子

[如何使用 httpwebrequest 将图像从网站拉到本地文件](https://stackoverflow.com/questions/2368115/how-to-use-httpwebrequest-to-pull-image-from-website-to-local-file)

在这里你需要做的就是

当您准备好图像字节时，您需要将这些字节写入响应，但在此之前，您必须发送正确的标头以让浏览器了解您现在要发送图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T05:43:30.347

参考现有帖子

[在 ASP.NET VB 中使用 HTTPWebRequest](https://stackoverflow.com/questions/906543/using-httpwebrequest-in-asp-net-vb)

或者干脆[谷歌这个](https://www.google.com/search?q=using%20webrequest%20asp.net&oq=using%20webrequest%20asp.net&sugexp=chrome,mod=0&sourceid=chrome&ie=UTF-8#hl=en&tbo=d&q=site:%20stackoverflow.com%20using%20httpwebrequest%20asp.net&sa=X&ei=YNKlUPuDEs7migKFl4HIBw&ved=0CC0Q7xYoAA&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=8d44242ae547b3f7&bpcl=38625945&biw=1280&bih=935)

# jquery - 如何在点击时摇动输入框

> ID：13411063
> 
> 赞同：0
> 
> 时间：2012-11-16T05:33:44.583
> 
> 标签：jquery

**我的jQuery**

```
$(".skip").click(function () {
  $('input.inputbox').effect("shake", { times:3 }, 300);
}); 
```

**我的 html**

```
<div class="ce-cf-container">
  <input type="text" name="name" id="name" class="inputbox" value="">
</div>

<button class="skip" >Contact us now to gain financial freedom quicker</button> 
```

我想要做的是，一旦有人点击`button`我要摇动输入框。为什么我的代码不起作用？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T05:42:30.600

您需要包含`jQuery UI`才能使用，因为它在独立`effect()`时不可用。`jQuery`

在 jQuery 脚本之后插入 jQuery UI 脚本，它将开始工作：

```
<script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js" type="text/javascript"></script> 
```

我为它创建了一个工作小提琴：http: [//jsfiddle.net/kayen/pQvEk/](http://jsfiddle.net/kayen/pQvEk/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T05:37:29.497

试试这个

```
<div class="ce-cf-container">
   <input type="text" name="name" id="name" class="inputbox" value="">
</div>
<input type="button" class="skip" value="Contact us now to gain financial freedom quicker" /> 
```

实际上

```
<button class="skip" >Contact us now to gain financial freedom quicker</button> 
```

你有一个提交行为，它提交并刷新页面，所以你看不到效果的发生。

**更新**

我已经使用了这个脚本参考

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script> 
```

# c# - access数据库和c#之间的连接

> ID：13411066
> 
> 赞同：0
> 
> 时间：2012-11-16T05:33:47.417
> 
> 标签：c#, ms-access, ado.net, oledb

我在 MSDN 的社交网站中使用 c# 检查访问数据库连接，我在其中找到了示例连接字符串，如下所示

```
string ConnStr = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=D:\abc.mdb;Jet OLEDB:Database Password=password"; 
```

现在我的问题是假设我创建了一个表单应用程序，并将数据库文件 abc.mdb 放在 .exe 文件所在的同一位置。在那种情况下，我可以按如下方式编写连接字符串吗？

```
string ConnStr = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=abc.mdb;Jet OLEDB:Database Password=password"; 
```

我正在使用 SQL 数据库文件尝试此操作，但它没有运行可能是这种情况下必须使用完整路径。我说的对吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T05:41:56.263

如果您不能在连接字符串中使用相对路径，您可以在运行时生成它，例如：

string connstring = string.Format(@"Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0};Persist Security Info=true", Path.Combine(Directory.GetCurrentDirectory(), "MyDatabase01.accdb")) ;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T05:42:23.313

尝试，（*虽然没有测试*）

```
string dbpath = AppDomain.CurrentDomain.BaseDirectory + "abc.mdb";
string ConnStr = String.Format(Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0};Jet OLEDB:Database Password=password;", dbpath) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T05:42:38.933

要回答您的第一个问题，是的，将 .mdb 文件放在同一目录中将与您的第二个连接字符串一起使用。

假设您在第二个“问题”中指的是 MSSQL 或 MSSQL Express，您需要将 SQL Server 实例指定为连接字符串的一部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T05:42:40.837

对于 ASP.NET 2.0 或更高版本，数据库文件（.mdb 或 .accdb）应始终进入 App_Data 文件夹。这有两个原因：首先，App_Data 被配置为阻止用户浏览到该文件夹​​并下载您的数据库副本。其次，您可以利用特殊的 DataDirectory 标记（或替换字符串）在连接字符串中引用文件。DataDirectory 默认为 App_Data 目录。

所以你的 Access 数据源是这样的。

```
<asp:AccessDataSource 
    ID="AccessDataSource1" 
    runat="server" 
    DataFile="~/App_Data/MyDb.mdb" 
    SelectCommand="Select * From MyTable">
</asp:AccessDataSource> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-16T06:14:10.373

我没有对此进行测试，但可以使用[DataDirectory替换字符串。](http://www.connectionstrings.com/access)

```
string ConnStr = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=|DataDirectory|\abc.mdb;Jet OLEDB:Database Password=password"; 
```

然后你可以做

```
AppDomain.CurrentDomain.SetData("DataDirectory", @"D:\MyApp"); 
```

如以下[知识库文章](http://support.microsoft.com/?kbid=920700)中所述：

> **|数据目录| 替换字符串支持**
> 
> **|数据目录|** （括在管道符号中）是指示数据库路径的替换字符串。因此，您不必在代码中包含完整路径。当您在代码中包含完整路径时，您可能会遇到问题，因为完整的数据库路径可以在不同的位置进行序列化。|数据目录| 替换字符串还可以轻松共享项目和部署应用程序。
> 
> 例如，如果您在代码中包含完整路径，则应用程序可以具有以下连接字符串。
> 
> 数据源= c:\program files\MyApp\Mydb.sdf
> 
> 如果您使用 |DataDirectory| 替换字符串，应用程序可以有以下连接字符串。
> 
> 数据源 = |DataDirectory|\Mydb.sdf
> 
> 要设置 DataDirectory 属性，请调用[AppDomain.SetData](http://msdn.microsoft.com/en-us/library/system.appdomain.setdata.aspx)方法。如果不设置 DataDirectory 属性，则应用以下默认规则来访问数据库文件夹：
> 
> *   对于放在用户计算机文件夹中的应用程序，数据库文件夹使用应用程序文件夹。
> *   对于在 ClickOnce 下运行的应用程序，数据库文件夹使用创建的特定数据文件夹。

# c++ - 从函数返回后更改的对象值

> ID：13411073
> 
> 赞同：0
> 
> 时间：2012-11-16T05:34:55.193
> 
> 标签：c++, list, stl

家庭作业问题的一部分

我有一个对象列表，我的目标是尝试查找该列表中是否存在对象 X（我只对该对象的第一次出现感兴趣）。我的代码在大多数情况下似乎工作正常，但我有一个奇怪的错误，其中只有 1 个特定对象的值在从函数返回后被修改。

我在列表中添加了 10 个对象，其值为 0 到 3。当我搜索除 0 以外的任何数字时，（./a.out 1 或 ./a.out 2 等）我得到正确的输出。但是当我搜索 0(./a.out 0) 时，findInList() 会打印出正确的结果，但 main() 会打印出值 18（甚至不在列表中）。

我在这里附上完整的源代码，以防有人想编译它并尝试一下。我还附上了我所做的gdb步骤。

来源：

```
#include <iostream>
#include <string>
#include <functional>
#include <list>
using namespace std;

class Page {
public:
    int pgnum; // page number
    union {
        int lfu_count;
        int lru_clock:1; // can only be 0/1
        int lru_ref8:8;  // we only need 8 bits
    };

public:
    // Constructors
    Page(int num)       { pgnum = num; }
    Page()              {}

    // Operator overloading
    bool operator== (const Page &p) const { 
        if(p.pgnum == pgnum)
            return true;
        else
            return false;
    }
    bool operator!= (const Page &p) const { 
        return !(p==*this);
    }
};

ostream & operator<<(ostream & os, const Page &p) {
    os << "Page number: " << p.pgnum;
    return os;
}

// Think of this as an equivalent to equals in Java (IT IS NOT, JUST IMAGINE)
struct PageNumber: public binary_function< Page, Page, bool > {
    bool operator () ( const Page &p1, const Page &p2 ) const {
        return p1 == p2;
    }
};

// Function to find an object in any list given an Operation
template <class Operation, class T>
T* findInList( list<T> fullList, T obj, const Operation &op ) {
    T* ret = NULL;
    typename list<T>::iterator it = fullList.begin();
    it = find_if( it, fullList.end(), bind2nd( op, obj ) );
    if( it != fullList.end() ) {
        cout << "Found obj in list: " << *it << endl;
        ret = &(*it); // not the same as it (which is of type iterator)
    }
    return ret;
}

int main( int argc, char **argv ) {
    Page page_to_find;
    list<Page> frames;

    if( argc != 2 ) {
        cout << "Please enter 1 and only 1 argument" << endl;
        exit(-1);
    }
    page_to_find.pgnum = atoi(argv[1]);

    Page *p = new Page[10];
    for( int i=0; i<10; i++ ) {
        p[i].pgnum = i%4;
        frames.push_back(p[i]);
    }

    list<Page>::iterator it_frames = frames.begin();
    while( it_frames != frames.end() ) {
        cout << "Page in frames: " << *it_frames << endl;
        it_frames++;
    }

    Page* pg = findInList( frames, page_to_find, PageNumber() );
    if( pg != NULL )
        cout << "Found page: " << *pg << endl;

    delete[] p;

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T05:52:22.550

您将返回列表中对象的地址，该列表按值推入参数列表。因此，这是未定义的行为。考虑将列表的参数更改为`findInList`引用。

```
// note reference type change in parameter list.
template <class Operation, class T>
T* findInList( list<T>& fullList, T obj, const Operation &op ) {
    T* ret = NULL;
    typename list<T>::iterator it = fullList.begin();
    it = find_if( it, fullList.end(), bind2nd( op, obj ) );
    if( it != fullList.end() ) {
        cout << "Found obj in list: " << *it << endl;
        ret = &(*it); // not the same as it (which is of type iterator)
    }
    return ret;
} 
```

# jquery - jquery 和 asp.net 的 json 原始错误

> ID：13411074
> 
> 赞同：3
> 
> 时间：2012-11-16T05:34:55.213
> 
> 标签：jquery, asp.net, vb.net

我正在尝试从 jquery ajax 运行发送消息但收到以下错误

```
{"Message":"Invalid JSON primitive: .","StackTrace":"   at 
System.Web.Script.Serialization.JavaScriptObjectDeserializer.DeserializePrimitiveObject()   at 
System.Web.Script.Serialization.JavaScriptObjectDeserializer.DeserializeInternal(Int32 depth) at  System.Web.Script.Serialization.JavaScriptObjectDeserializer.DeserializeDictionary(Int32 depth) at System.Web.Script.Serialization.JavaScriptObjectDeserializer.DeserializeInternal(Int32 depth)\r\n   at System.Web.Script.Serialization.JavaScriptObjectDeserializer.BasicDeserialize(String input, Int32 depthLimit, JavaScriptSerializer serializer)\r\n   at System.Web.Script.Serialization.JavaScriptSerializer.Deserialize(JavaScriptSerializer serializer, String input, Type type, Int32 depthLimit)\r\n   at System.Web.Script.Serialization.JavaScriptSerializer.Deserialize[T](String input)\r\n   at System.Web.Script.Services.RestHandler.GetRawParamsFromPostRequest(HttpContext context, JavaScriptSerializer serializer)\r\n   at System.Web.Script.Services.RestHandler.GetRawParams(WebServiceMethodData methodData, HttpContext context)\r\n   at System.Web.Script.Services.RestHandler.ExecuteWebServiceCall(HttpContext context, WebServiceMethodData methodData)","ExceptionType":"System.ArgumentException"} 
```

我的jQuery代码：

```
function sendmessage(){
var project_id = $("#DropDownList1 option:selected").val();
var formstatus = $("#DropDownList4 option:selected").val();
var formcode = $('#FormCText').val();
var uniquecode = getunique();
var to = $('.showto').attr("id");
var cc = getcc();

if ($('#urgent').prop("checked"==true))
{
var d = new Date();
var duedate = d.getFullYear() + "/" + (d.getMonth()+1) + "/" + d.getDate();
var urg = 1;
}
else
{
var duedate=$('#datepicker').val();
var urg = 0;
}

if($('#readreceipt').prop("checked"==true))
{
var receipt = 1;
}
else{
var receipt = 0;
}
var fsub = $('#fsub').val();
var nicE = new nicEditors.findEditor('message');
var message = nicE.getContent();
alert("'project_id':'"+ project_id+"','formstatus':'"+ formstatus+"','formcode':'"+formcode+"','uniquecode':'"+ uniquecode+"','tor':'"+to+"','cc':'"+cc+"','duedate':'"+duedate+"','urg':'"+urg+"','receipt':'"+receipt+"','sub':'"+fsub+"','message':,'"+message+"'");

 $(document).timer = setTimeout(function () {
 alert("now sending values");
 $.ajax({
  type: "POST",
  url: "consoservice.asmx/sendmessage",
  data: "{'project_id':'" + project_id+ "','formstatus':'" + formstatus+ "','formcode':'" + formcode + "','uniquecode':'ghfg','tor':'"+to+"','cc':'"+cc+"','duedate':'"+duedate+"','urg':'"+urg+"','receipt':'"+receipt+"','fsub':'"+fsub+"','message':,'"+message+"'}",
  contentType: "application/json; charset=utf-8",
  dataType: "json",
  success: function(msg) {
  if (msg.d == "sent")
  {
 alert('message sent successfully for approval');
  }
  else{
  alert(msg.d);
  }
    // Do something interesting here.
  }
}); }, 100);
} 
```

我的服务功能代码

```
 <System.Web.Services.WebMethod()> _
    <System.Web.Script.Services.ScriptMethod()> _
  Public Function sendmessage(ByVal project_id As String, ByVal formstatus As String, ByVal formcode As String, ByVal uniquecode As String, ByVal tor As String, ByVal cc As String, ByVal duedate As String, ByVal urg As String, ByVal receipt As String, ByVal fsub As String, ByVal message As String) As String

        MsgBox("reached")
        Dim ip As String = System.Web.HttpContext.Current.Request.UserHostAddress
        Dim usern As String = CookieUtil.GetEncryptedCookieValue("user_id")
        Dim returnvalue As String
        Dim ari As New moduleclass
        Dim i As Integer
        Try
            i = ari.InsertAp_module_message(usern, tor, formcode, cc, formstatus, duedate, receipt, urg, fsub, message, -1, uniquecode, 0, 0, DateTime.Now, ip, 0)
        Catch ex As Exception
            MsgBox(ex.Message)
        End Try

        If i > 0 Then
            returnvalue = "sent"
        Else
            returnvalue = "not sent"
        End If

        Return returnvalue
    End Function 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T05:56:13.223

系统抛出的异常只有在您发送的数据格式不正确时才会发生，因此请在发送前仔细检查数据。

我认为您发送的数据应该是这样的：-

```
Senddata={"project_id": project_id,"formstatus": formstatus,........}; 
```

并在 ajax 调用中：-

```
 $.ajax({
  type: "POST",
  url: "consoservice.asmx/sendmessage",
  data:  JSON.stringify(Senddata),
............
..............
}); 
```

# cordova - phonegap 不更新 JS 文件？

> ID：13411077
> 
> 赞同：1
> 
> 时间：2012-11-16T05:35:10.043
> 
> 标签：cordova

我在PhoneGap上多次编译了一个应用程序（同一个应用程序），直到今天下午才出现问题。看来PhoneGap不会更新js文件（app只包含index.html和mobile.js）。如果我对 html 文件进行更改并重新构建，它会显示在最新的 APK 中，但是当我更新 JS 文件（甚至将其作为测试空白）时，APK 文件中仍然包含旧的 JS。难道我做错了什么？如果是这样呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:50:09.417

禁用缓存的html方法是

```
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
<META HTTP-EQUIV="Expires" CONTENT="-1"> 
```

并在加载js文件时添加版本号作为查询字符串。

```
<script src="mobile.js?version=1"></script> 
```

如果这些不起作用，请尝试禁用 webview 的缓存。在主活动的 onCreate 方法中，添加以下任一行。

```
 WebView webview = new WebView(this);
 webview.getSettings().setCacheMode(2); 
```

**或者**

```
super.appView.getSettings().setAppCacheEnabled(false); 
```

# .net - 使用 IoC 初始化对象树

> ID：13411081
> 
> 赞同：0
> 
> 时间：2012-11-16T05:35:53.203
> 
> 标签：.net, dependency-injection, inversion-of-control, unity-container

我正在使用 C#/Silverlight 进行编程。

就我而言，我希望在运行时构建一些对象（例如一些视图模型）。

1.  一个类/接口有多个实例。
2.  对象具有某种父子关系或层次关系（例如，A 具有返回 B 集合的属性，而 B 具有保存 C 集合的属性......就像一棵树）
3.  它们需要根据**CONFIG 文件**构建（因为我们需要针对不同的客户端使用不同的对象。）

这个场景适合 IoC 库吗？

如果是的话，在深入了解每个库的太多细节之前，这对我来说是一个不错的选择？统一？自动法？忍者？我知道许多框架往往是无配置的，但在我的情况下，我需要一些动态配置友好和集合注入友好的东西。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T10:19:20.237

否。根据您想要使用 Builder 模式或 Factory 模式的复杂性。

您可以在工厂/构建内部使用容器的服务定位器功能来定位所有实现。

# java - Java 用户名密码数组替换为 asterix

> ID：13411087
> 
> 赞同：0
> 
> 时间：2012-11-16T05:36:51.427
> 
> 标签：java, arrays, string-formatting

所以我正在为学校编写一个处理用户名和密码的程序。它应该提示 3 个用户的用户名和密码。然后显示密码长度的用户名和星号。我几乎拥有我需要的一切，包括如何在同一行上打印密码长度的星号：

```
//int asterix =password[x].length();
 * for (int y=0; y<asterix ;y++){
 *                  System.out.print("*");
 *              }
 */ 
```

我的问题是我需要像这样格式化输出：

```
USER ID                 PASSWORD

howdyDoodie              ***********
batMan                   ************
barneyRubble             ************ 
```

到目前为止，我的代码如下所示：

```
 public class test{

    /**
     * 
     * @param args
     */

    public static void main(String[] args){
        String[] user = new String[3];
        String[] password = new String[3];

        // Prompt for Username and Password and loop 3 times adding to next value in array
        for(int x=0; x<=2;x++){

        user[x] = JOptionPane.showInputDialog(null,"Enter Username: ");
        password[x] = JOptionPane.showInputDialog(null,"Enter Password: ");
        // Test number of loops
        //System.out.println(x);

        }

        //Field Names Print

        System.out.printf("\n%s\t%10s","Username","Password");

        for(int x=0; x<=2;x++){
            System.out.printf("\n%s\t%15s",user[x],password[x]);

        }

     System.exit(0);

    }
    /*
     * //int asterix =password[x].length();
     * for (int y=0; y<asterix ;y++){
     *                  System.out.print("*");
     *              }
     */

} // End of Class 
```

我不知道如何让星号打印出来并使用格式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T05:42:01.000

你需要一个嵌套循环。移动for循环打印`asterisk (*)`所有用户的for循环打印用户名和密码。

你的循环应该是这样的。它未经测试，但您可以解决它以获得所需的输出。

```
System.out.printf("%-20s\t%-10s","Username","Password");

for(int x=0; x<=2;x++) {

     System.out.printf("%-20s\t",user[x]);  // Just print user here

     int asterix =password[x].length();
     for (int y=0; y<asterix ;y++){  // For the length of password 
         System.out.print("*");      // Print *
     }
     System.out.println();   // Print newline to move to the next line
} 
```

`%-20s\t`表示`username`需要 20 个空格，左对齐，并在其后添加一个制表符。

# linux - 如何合并两个大文件

> ID：13411093
> 
> 赞同：19
> 
> 时间：2012-11-16T05:37:16.960
> 
> 标签：linux, file, merge

假设我有 2 个文件，每个文件大小为 100G。我想将它们合并为一个，然后将它们删除。在linux中我们可以使用

猫文件 1 文件 2 > final_file

但这需要读取 2 个大文件，然后写入一个更大的文件。是否可以只将一个文件附加到另一个文件，这样就不需要 IO？由于文件的元数据包含文件的位置和长度，我想知道是否可以更改文件的元数据来进行合并，所以不会发生 IO。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-16T06:01:47.543

## 您可以合并两个文件而不将一个文件写入另一个文件吗？

**只是在晦涩的理论中**。由于磁盘存储始终基于块，因此文件系统将内容存储在块边界上，如果第一个文件在块边界上完美结束，您只能将一个文件附加到另一个文件而无需重写。有一些罕见的文件系统配置[使用 tail packing](http://en.wikipedia.org/wiki/Block_suballocation)，但这只有在第一个文件已经使用前一个文件的尾部块时才有帮助。

除非出现这种完美的情况，或者您的文件系统能够在文件中间标记部分块（我从未听说过），否则这将不起作用。只是为了解决边缘情况，除了更改内核接口来进行这样的调用之外，别无他法（re: [Link to a specific inode](https://stackoverflow.com/q/1178593/90322)）

## 我们可以使这比将两个文件的大小都增加一倍更好吗？

**是**的，我们可以使用 append ( `>>`) 操作来代替。

```
cat file2 >> file1 
```

这仍然会导致使用`file2`两倍以上消耗的所有空间，直到我们可以将其删除。

## 我们可以避免使用额外的空间吗？

**没有**。除非有人带着我不知道的东西回来，否则你基本上不走运。可以[截断](http://linux.die.net/man/2/truncate)文件，忘记它的结尾的存在，但是没有办法忘记开头的存在，除非我们直接修改 inode 并不得不改变内核到文件系统的接口，因为那是绝对不是 POSIX 操作。

## 一次写一点，然后删除我们写的内容怎么样？

**没有了**。由于我们无法切断文件的开头，因此我们必须重写从感兴趣点一直到文件结尾的所有内容。这对于 IO 来说是非常昂贵的，并且只有在我们已经读取了一半文件之后才有用。

## 稀疏文件呢？

**也许！**稀疏文件允许我们存储一长串零，而不会占用几乎那么多空间。如果我们`file2`要从末尾开始读取大块，我们可以将这些块写入`file1`. `file1`会立即看起来（和读取）好像它与两者的大小相同，但在我们完成之前它会被破坏，因为我们没有写入的所有内容都将充满零。

解释这一切本身就是另一个答案，但如果您可以进行备用分配，您将能够仅使用您的块读取大小 + 一点额外的磁盘空间来执行此操作。有关文件中间稀疏块的参考，请参阅[http://lwn.net/Articles/357767/](http://lwn.net/Articles/357767/)或进行涉及术语的搜索，`SEEK_HOLE`.

为什么这是“也许”而不是“是”？两部分：您必须编写自己的工具（至少我们在正确的站点上），并且文件系统和其他类似进程并不普遍尊重稀疏文件。幸运的是，您可能不必担心其他进程会尊重您的文件，但您将不得不担心设置正确的标志并确保您的文件系统适合。最后，您仍将读取和重写 的长度`file2`，这不是您想要的。但是，此方法确实意味着您可以仅使用少量磁盘空间进行追加，而不是至少使用`2*file2`大量空间。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-16T05:48:05.323

你可以这样做

```
cat file2 >> file1 
```

file1 将成为完整内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T05:47:56.910

不，不可能通过处理元数据来合并（在 Linux 上）两个大文件。

也许您可能会考虑为您的工作使用某种数据库。

正如 Alexandre 所注意到的，您可以将一个大文件附加到另一个文件，但这仍然需要大量数据复制。

# sql - SSAS 多维数据集 Excel 数据透视表隐藏字段

> ID：13411095
> 
> 赞同：2
> 
> 时间：2012-11-16T05:37:31.870
> 
> 标签：sql, excel, pivot, ssas, cube

创建数据透视表时如何隐藏属性以使其不显示为字段。

例如，我不希望用户看到一个维度的 PK。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T09:16:15.460

在 SSAS 中，将您希望对客户端工具隐藏的维度值的 AttributeHierarchyVisible 值设置为 false。您会发现每个维度属性都有此属性。

# html - 如何最好地将href链接左对齐，文本解释右对齐

> ID：13411097
> 
> 赞同：2
> 
> 时间：2012-11-16T05:37:36.950
> 
> 标签：html, css

这对我来说似乎很简单，但是经过几天的尝试（我的经验非常有限）和寻找解决方案后，我还是一片空白。我正在使用嵌入式 css 样式在单个 html 页面上创建一个链接页面，以便在浏览器窗口中使用。

我希望简单地将我的链接对齐到我的 div 的左侧，并附上与 div 右侧对齐的链接的文本说明。有一个包装 div，其中包含两个其他 div（右和左），其中包含链接框（类别）。第一个示例仅使用句点来创建所需的空间。

到目前为止，我已经尝试了以下 HTML：

```
<html>
<body>
    <div class="wrapper">
        <div class="div_body_side1">
            <div id="div_category01">
                <p>
                    <A HREF="http://www.webaddress" > Short Description
                    </A>.................... Longer description of where this link will take you
            </p>
            </div>    
        </div>
    </div>
</body>
</html> 
```

我还想我可以尝试这种方法（如下），但我不知道如何为长描述中的文本着色并将其与类别 div 的最右侧对齐。

```
 <tr>
 <td>
 <A HREF="http://www.webaddress" > Short Description</A>
 </td>
 <td>
  Longer description of where this link will take you
 </td>
 </tr> 
```

我是否必须在每个类别中再创建两个并排的 div 才能实现我想要的效果？我还需要 div 和文本水平“缩小”（缩放）以供小型笔记本电脑使用，而且我知道很多 div（浮动）以某种方式阻止了适当的缩放。

对于我缺乏专业知识，我深表歉意，但我真的几天来一直在寻找解决方案。提前感谢您的任何帮助。..................................................... ......

再一次问好。不幸的是，Billy Chan 的回答不起作用（但感谢您提醒我使用“title”属性）。我已经用三个链接的列表进行了尝试，结果如下所示：

链接1链接2链接3说明1说明2说明3

这是我使用的：

```
<div>
    <span class="link">
    <a href="#whatever">Whatever</a></span>
    <span class="explanation">Whatever explain</span>

    <span class="link">
    <a href="https://www.google.com.au"title="Google">Google search</a>
    </span>
    <span class="explanation">Secure Google search page
    </span>

    <span class="link">
    <a href="http://www.google.com/ncr" >Google search</A>
    </span>
    <span class="explanation">US Google search page
    </span>

</div> 
```

...使用以下 CSS：

```
<style>
    .link, .explanation {display:inline}
    .link {float: left}
    .explanation {float: right}
</style> 
```

我现在将尝试提供的其他解决方案。非常感谢大家。

……………………………………………………………………………………………………………………………………

谢谢 dbaseman，但您的解决方案需要在我的类别 div 中再添加两个 div，不是吗？我不能将您的 "div class="right"" 应用于我的类别 div（这是一个 ID），可以吗？

现在将尝试 Urg mu 的解决方案。干杯。

哦.. Urg mu - 似乎您提供了一种仅对文本着色的解决方案。您的解决方案不会使我的“长解释”正确吗？

前往纳文夏尔马。很抱歉，您能否解释一下您的解决方案实际上应该做什么？

再次感谢大家。我学到了很多东西。
干杯。

请查看我想要实现的这个可怕的 jsFiddle 版本。是的，它包括许多测试内容以及此处提供的“解决方案”..，您必须将浏览器窗口拖到最右边，将“结果”窗口拖到最左边才能看到我的两个 div -边：

[http://jsfiddle.net/wreckanoid/CdN2z/](http://jsfiddle.net/wreckanoid/CdN2z/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T05:52:55.770

直接回答：

使用两个跨度来包装链接和解释。例子

```
<div id="catgory01">
  <span class="link"><a href="#whatever">Whatever</a></span>
  <span class="explanation">Whatever explain</span>
</div> 
```

然后定义两个跨度的样式

```
<style>
  .link, .explanation {display:inline}
  .link {float: left}
  .explanation {float: right}
</style> 
```

包装链接的原因是您可能不希望所有链接都像这样。

这个答案应该有效，但您可能会发现问题是您的链接锚或解释太长，它们可能重叠。请注意这一点。

进一步的答案：解释链接的正确方法是使用标题属性

```
<a href="#whatever" title="Explanation">Whatever</a> 
```

这样，当您悬停链接时，您会得到提示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T07:52:44.283

这是我已经解决的问题。我可能会在链接和解释之间添加一些下划线，但我认为我现在有了一个用于浏览器使用的出色的嵌入式 CSS 链接菜单页面的基础。结果如下：

[http://jsfiddle.net/wreckanoid/zV9Sd/embedded/result/](http://jsfiddle.net/wreckanoid/zV9Sd/embedded/result/)

这是代码：

[http://jsfiddle.net/wreckanoid/zV9Sd/](http://jsfiddle.net/wreckanoid/zV9Sd/)

```
.wrapper
{
position:relative;
background-color: #e7ecfa;
width: 90%; 
margin-left:15%;
margin-right:15%;
height:auto;
display: block; 
overflow:auto; 
border:inset .5em #ccffff;
margin: 1em auto;
box-shadow: 0 0.3em 1em #000000;    
}

.div_body_side1
{
float: LEFT;
position:relative;
text-align: left;
/*  border: solid 1px #d1d7e5; */ 
width: 45%;
display: block; 
margin-left: 2.5em;
margin-right: 1em;
margin-top: 2em;
margin-bottom: 2em;
padding: .5em;
white-space:normal;
clear:none;
}

.div_body_side2
{   
clear:none;
float:left;
position:reative;
text-align: left;
/*  border: solid 1px #d1d7e5;  */ 
width: 45%;
display:inline;
margin-right: 1em;
margin-top: 2em;
margin-bottom: 2em;
padding: .5em;
}   

#div_category01, #div_category02, #div_category03, #div_category04,     #div_category05, #div_category06, #div_category07, #div_category08, #div_category09
{
background-color: #eff5fb;
margin: 1em 1em;
width: auto;
display: block;
border:ridge 6px #ff3333;
box-shadow: 0 0.3em 1em #000000;
position:relative;
clear:both;
}

.center
{
text-align: center;
}

.right 
{
float: right;
padding-right: 20px;
color: #cc6600;
}

body 
{ 
margin:0;
padding:0;
}

h1
{
text-align: center;
}

h2 
{
text-align: center;
}

img.center
{   
display: block;   
margin: 0 auto;
}

a 
{ 
color: blue;
padding-left: 20px;
} 
```

这是HTML：

```
</head>

<body>

<div class="wrapper">

<H1> Test Bookmarks Menu</H1>

<a href="http://www.qut.edu.au" >
<IMG SRC="http://www.tils.qut.edu.au/graphics/logo.gif"
BORDER="4" title="QUT logo" alt="QUT logo" class="center" /></a>

    <div class="div_body_side1">

        <div id="div_category01">

    <H2>CATEGORY 1 HEADER</H2>
    <br>

    <a href="https://www.google.com.au/" > Google Australia
    </a>

    <span class="right">
        Google Secure, Australia
    </span><br><br>

    <a href="https://www.google.com/ncr" > Google USA
    </a>

    <span class="right">    
        Google Secure, USA
    </span><br><br>

    <a href="https://encrypted.google.com/" > Google Encrypted
    </a>

    <span class="right">    
        Google Secure, Encrypted
    </span><br><br>

    <a href="https://www.google.com.au/" > Google Australia
    </a>

    <span class="right">
        Google Secure, Australia
    </span><br><br>     

    </div><!-- close category01 -->

</div><!-- close div_body_side1 -->

<div class="div_body_side2">

    <div id="div_category05">

    <H2>Category 5 Header </H2>

        <a href="https://www.google.com.au/" > Google Australia
        </a>

    <span class="right">            
        Google Secure, Australia
    </span><br><br>

        <a href="https://www.google.com/ncr" > Google USA
        </a>

    <span class="right">            
        Google Secure, USA
    </span><br><br>     

        <a href="https://encrypted.google.com/" > Google Encrypted
        </a>

    <span class="right">            
        Google Secure, Encrypted
    </span><br><br>

        <a href="https://www.google.com.au/" > Google Australia 
        </a>

    <span class="right">            
        Google Secure, Australia
    </span><br><br>

    </div><!-- close category05 -->

</div><!-- close div_body_side2 --> 
```

感谢你们所有人，我觉得我现在掌握了这些 CSS 东西..！:-)

我也会在所有链接中添加“标题”标签。干杯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T05:47:13.010

CSS

```
div {  width:400px; border:red 1px solid; padding:10px 0px; }
p {  overflow:auto; margin:0px;
    background:url('http://reference.wolfram.com/legacy/MathematicaCharacters/Ellipsis.gif') 100% repeat-x ;
}
a {
    float:left; padding:0px 5px 0px 10px;
    background-color:#fff;
}
.desc {
    float:right; padding:0px 10px 0px 5px;
    background-color:#fff;
    color:#333;
} 
```

HTML

```
<div>
  <p>
    <a href="#link" >IAClient</A>
    <span class="desc">QUT Internet Access Client</span>
  </p>
  <p>
    <a href="#link" >AARNet</A>
    <span class="desc">AARNet's FTP & HTTP Mirror</span>
  </p>
</div> 
```

[http://jsfiddle.net/CZt8R/](http://jsfiddle.net/CZt8R/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T05:48:05.930

一种简单的方法是分别在链接和描述上使用`float: left`和。`float: right`

**HTML**

```
<a href="http://www.webaddress" > Short Description </a>
<div class="right">.................... Longer description of where this link will take you</div> 
```

**CSS**

```
a { float: left; }
.right { float: right; }​ 
```

[这是一个演示。](http://jsfiddle.net/r2uqV/1)

* * *

**编辑帖子更新**

获得这种布局的两个关键：

*   对链接和描述使用固定（基于百分比）的左边距
*   显示一长串省略号“......”并`overflow-x: hidden`用来隐藏多余的

[另一个演示。](http://jsfiddle.net/agmYW/1/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-16T05:48:32.353

在您提供的 HTML 中添加以下代码行

```
<style>
.div_body_side1 p a{width:200px;float:left}
</style> 
```

[现场演示](http://jsfiddle.net/naveenksh/u3Hjk/)

# excel - 为什么 VBA 主窗体会被子窗体的“x”关闭按钮事件关闭？

> ID：13411099
> 
> 赞同：0
> 
> 时间：2012-11-16T05:37:39.163
> 
> 标签：excel, vba

嘿，所以我正在处理 VBA 中的一些表单并且遇到了一些问题。我从我的主表单打开其他表单，但是当我使用红色“x”按钮退出其他表单之一时，它也会关闭我的主表单，而不仅仅是其他表单。

我怎样才能防止这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:49:48.667

您应该使用仅关闭子表单的代码。

例如，您的子表单名称是 SubForm1

```
DoCmd.Close acForm, "SubForm1" 
```

但是由于您使用 x 按钮来关闭子表单，因此您可以使用`QueryClose`Event.

```
Private Sub UserForm_QueryClose(Cancel As Integer, CloseMode As Integer)
    If CloseMode = 0 Then
     Cancel = True
    End if
End Sub 
```

PS：如果您可以通过编辑问题来发布代码，这很有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-04-22T06:23:10.513

我知道这很旧，但检查表单“Showmodal”属性的设置为我修复了它。

# python - 如何将列表拆分为较小的列表？

> ID：13411102
> 
> 赞同：1
> 
> 时间：2012-11-16T05:38:09.510
> 
> 标签：python, list, for-loop, append

我有一个清单：

```
lists = (['1','2','3','S','3','4','S','4','6','7']) 
```

而且我想在每次出现“S”时将列表拆分为更小的列表，并将“S”消除为：

```
([['1','2','3'],['3','4],['4','6','7']]) 
```

我的代码：

```
def x (lists):
    empty = ''
    list = []

    for x in lists:
        if x == empty:
            list[-1:].append(x)
        else:
            list.append([x])

    return (list) 
```

我尝试过这样的事情，但我对 python 很陌生，而且我无处可去。没什么特别的，我将如何解决我所拥有的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T05:43:52.727

尝试[`itertools.groupby()`](http://docs.python.org/2/library/itertools.html#itertools.groupby)：

```
>>> from itertools import groupby
>>> lists = ['1','2','3','S','3','4','S','4','6','7']
>>> [list(g[1]) for g in groupby(lists, lambda i:i!='S') if g[0]]
[['1', '2', '3'], ['3', '4'], ['4', '6', '7']] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T05:50:22.413

好吧，可能很有趣，但这应该有效：

```
[s.split('#') for s in '#'.join(lists).split('#S#')] 
```

如果它不太`'#'`可能出现在`lists`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T05:41:14.173

也许像`map(list,''.join(lists).split('S'))`

交替，`[list(s) for s in ''.join(lists).split('S'))`

# magento - 首次使用 Graph API Explorer 发布自定义操作

> ID：13411103
> 
> 赞同：1
> 
> 时间：2012-11-16T05:38:11.697
> 
> 标签：magento, facebook-opengraph

我已完成以下步骤：1）从下拉列表中选择 POST。2) 将 url 设置为 me/myapp-namespace:want。3）设置字段名称：产品和值=“我的产品详细信息页面网址”。但仍然收到错误：{“错误”：{。

"message": "发生未知错误。",

“类型”：“OAuthException”，

“代码”：1。}。}

那里有什么遗漏吗？

# functional-programming - 如何使用 Scheme 中的原始表达式找到第 6 个根？

> ID：13411105
> 
> 赞同：2
> 
> 时间：2012-11-16T05:38:31.093
> 
> 标签：functional-programming, scheme, racket

通过原始表达，我的意思是`+ - * / sqrt`，除非我缺少其他表达。我想知道如何编写一个仅使用这些函数找到第 6 个根的 Scheme 表达式。

我知道我可以找到平方根的立方根，但立方根似乎不是一个原始表达式。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T06:44:00.857

考虑[expt](http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._expt%29%29)，将分数幂作为其第二个参数传递。

但是，假设我们不知道`expt`. 我们还能计算吗？

一种方法是应用类似[Newton's method 的方法](http://en.wikipedia.org/wiki/Newton%27s_method)。例如，假设我们要计算 n^(1/4)。当然，我们已经知道我们可以只用`sqrt`两次就可以做到这一点，但让我们看看牛顿的方法如何适用于这个问题。

给定`n`，我们想发现`x`函数的根源：

```
f(x) = x^4 - n 
```

具体来说，如果我们想寻找`16^(1/4)`，那么我们会寻找函数的根：

```
f(x) = x^4 - 16 
```

我们已经知道如果我们`x=2`在那里插入，我们会发现这`2`是这个函数的根。但是说我们不知道。我们如何发现`x`使这个函数为零的值？

牛顿的方法说，如果我们对 有一个猜测`x`，调用它`x_0`，我们可以通过执行以下过程来改进这个猜测：

```
x_1 = x_0 - f(x_0) / f'(x_0) 
```

其中`f'(x)`是 的[导数](http://en.wikipedia.org/wiki/Derivative)的符号`f(x)`。对于上述情况， 的导数`f(x)`是`4x^3`。

我们可以通过重复计算得到更好的猜测`x_2`, `x_3`, ...

```
x_2 = x_1 - f(x_1) / f'(x_1)
x_3 = x_2 - f(x_2) / f'(x_2)
... 
```

直到我们累了。

现在让我们用代码编写所有内容：

```
(define (f x)
  (- (* x x x x) 16))

(define (f-prime x)
  (* 4 x x x))

(define (improve guess)
  (- guess (/ (f guess)
              (f-prime guess))))

(define approx-quad-root-of-16
  (improve (improve (improve (improve (improve 1.0)))))) 
```

上面的代码只是表达了`f(x)`, `f'(x)`, 以及将初始猜测提高五次的想法。让我们看看它的价值`approx-quad-root-of-16`是什么：

```
> approx-quad-root-of-16
2.0457437305170534 
```

嘿，酷。它实际上正在做某事，并且接近于`2`. 从如此糟糕的第一次猜测开始也不错`1.0`。

当然，`16`在那里硬编码有点傻。让我们概括一下，把它变成一个接受任意值的函数`n`，这样我们就可以计算任何东西的四根：

```
(define (approx-quad-root-of-n n)
  (define (f x)
    (- (* x x x x) n))

  (define (f-prime x)
    (* 4 x x x))

  (define (improve guess)
    (- guess (/ (f guess)
                (f-prime guess))))

  (improve (improve (improve (improve (improve 1.0)))))) 
```

这有什么效果吗？让我们来看看：

```
> (approx-quad-root-of-n 10)
1.7800226459895
> (expt (approx-quad-root-of-n 10) 4)
10.039269440807693 
```

酷：它正在做一些有用的事情。但请注意，它还不是那么精确。为了获得更好的精度，我们应该继续调用`improve`，而不是四五次。思考循环或递归：重复改进，直到解决方案“足够接近”。

这是如何解决这些问题的草图。有关更多详细信息，请查看[计算机程序的结构和解释中有关计算平方根的部分](http://mitpress.mit.edu/sicp/full-text/sicp/book/node12.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T05:51:07.303

您可能想尝试一种数字方式，这对于较大的数字可能效率低下，但它确实有效。

此外，如果你也算作`pow`一个原始人（因为你也 count `sqrt`），你可以这样做：

```
pow(yournum, 1/6); 
```

# java - 在任何 JTextComponent 中显示换行符？

> ID：13411111
> 
> 赞同：0
> 
> 时间：2012-11-16T05:39:17.590
> 
> 标签：java, swing, newline, jtextcomponent

`JTextComponent`如何在任何（`JTextArea`， ）中显示换行符`JTextPane`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T05:55:02.747

猜猜这就是你需要的是[http://java-sl.com/showpar.html](http://java-sl.com/showpar.html)

它不仅显示 par shar 的结尾，还显示空格和制表符。

# java - java包声明

> ID：13411121
> 
> 赞同：2
> 
> 时间：2012-11-16T05:40:18.743
> 
> 标签：java, package, declaration

我正在寻找在默认目录下创建一个名为“blue”的包。所以，包声明是

```
package blue; 
```

在我的源代码的最顶部。当我编译文件时

```
javac This.java 
```

在命令提示符下，它完全忽略了我的包声明并将类文件存储在默认目录中。无论默认目录下是否存在目录“blue”，它都会执行此操作。

但是当我编译时

```
javac -d . This.java 
```

它正在做它应该做的事情——在默认情况下创建包目录“蓝色”并将类文件存储在那里。我错过了什么？

提前感谢帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T05:47:38.890

来自`man javac`：

```
 -d directory
            Set the destination directory for class files. The destination
            directory must already exist; javac will not create the desti‐
            nation directory. If a class is part of a package, javac  puts
            the  class file in a subdirectory reflecting the package name,
            creating directories as needed. For example, if you specify -d
            /home/myclasses and the class is called com.mypackage.MyClass,
            then the  class  file  is  called  /home/myclasses/com/mypack‐
            age/MyClass.class.

         If  -d  is  not  specified, javac puts the class file in the same
         directory as the source file.

         Note:   The directory specified by -d is not automatically  added
         to your user class path. 
```

# c - strdup的使用

> ID：13411125
> 
> 赞同：5
> 
> 时间：2012-11-16T05:40:34.003
> 
> 标签：c

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{    
    char *s;
    s = strdup("foo");
    printf("%s\n", s);
    getchar();
    return 0;
} 
```

看起来很无害，不是吗？但是我的 IDE 是 Dev-C++，给了我以下警告：警告：赋值从整数中生成指针而不进行强制转换

如果您像这样更改代码，警告就会消失：

```
char *s;
s = (char*)strdup("foo"); 
```

![在此处输入图像描述](../Images/9310b17a6e4a50e6c913a81670ec43c9.png)

谁能帮我解释一下？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-16T06:04:40.253

您使用的是 Dev-C++，但 strdup 不是 C 或 C++ 标准的一部分，它是一个 POSIX 函数。您需要定义正确的（根据您的 IDE 的文档）预处理器符号，以便 strdup 由头文件声明......这是必要的，以便头文件在包含到符合 C 或C++ 源文件。

对于一个简单的便携式替代方案，请考虑

```
char* mystrdup(const char* s)
{
    char* p = malloc(strlen(s)+1);
    if (p) strcpy(p, s);
    return p;
} 
```

或者，如果您知道 strdup 实际上在库中，您可以将它的声明从 string.h 复制到您自己的源文件或头文件中......或者使用手册页中更简单的声明：

```
char *strdup(const char *s); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-16T05:43:15.627

那是不对的。`strdup`已经回来`char *`了。还有什么不对劲的。可能是因为您没有包含正确的头文件来声明此函数的真实返回类型。

```
#include <string.h> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T05:44:25.220

你不见了`#include <string.h>`。在没有函数签名的情况下，编译器假定 strdup 返回一个 int，因此会发出警告。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-16T05:45:32.770

`man strdup`

你会得到以下的东西

```
#include<string.h>

char* strdup(const char * s); 
```

所以`strdup()`返回`char*`那里应该没有任何问题实际上在你的情况下它需要隐式声明`strdup()`所以默认返回类型是`int`因此你得到这个警告

任何一个`include<string.h>`

或者

提前声明`char* strdup(const char *);`

也不要忘记`free(s)`在所有使用完成后最后

# facebook - 如何检查 Facebook 帖子是否可评论

> ID：13411134
> 
> 赞同：1
> 
> 时间：2012-11-16T05:41:20.087
> 
> 标签：facebook, facebook-graph-api, comments, facebook-comments

我正在通过 API 获取 Facebook 新闻提要。用户可以对网站上的帖子发表评论。但有些帖子不允许评论*喜欢故事，添加朋友故事，更改个人资料图片故事*等

我如何检查帖子是否允许评论

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:09:34.117

当您从 API 检索帖子时，该帖子的`actions`属性将显示当前（您正在使用其 access_token）用户是否可以喜欢或评论帖子，例如

`/20531316728_167191526758558`

包含：

```
{
  "id": "20531316728_167191526758558", 
  "from": {
    "name": "Facebook", 
    "category": "Product/service", 
    "id": "20531316728"
  }, 
  "message": "Find your polling place on Facebook at http://bit.ly/Fbppl and then watch the nation vote in real time.", 
  "picture": "https://fbexternal-a.akamaihd.net/safe_image.php?d=AQCD6BNbTzxhmwEq&w=90&h=90&url=https%3A%2F%2Fs3.amazonaws.com%2FFacebookHackers-production%2Fissue4_data%2Fissue4_fb_og.png", 
  "link": "http://www.facebookstories.com/vote", 
  "name": "America Votes 2012", 
  "caption": "www.facebookstories.com", 
  "description": "Watch the nation vote in real time.", 
  "icon": "https://s-static.ak.facebook.com/rsrc.php/v2/yN/x/aS8ecmYRys0.gif", 
  "actions": [
    {
      "name": "Comment", 
      "link": "https://www.facebook.com/20531316728/posts/167191526758558"
    }, 
    {
      "name": "Like", 
      "link": "https://www.facebook.com/20531316728/posts/167191526758558"
    }
  ], 
// (and more properties which aren't relevant 
```

# django - Django admin.ModelAdmin 如何调用 change_view 方法

> ID：13411137
> 
> 赞同：2
> 
> 时间：2012-11-16T05:41:37.277
> 
> 标签：django, django-models, django-admin

嗯，对 Django 的 ModelAdmin 部分有点困惑。为了自定义上下文，我们必须调用 change_view 方法。我无法理解管理类以何种方式调用该方法。它是一个实例方法吗？谁能给我一个解释。我也浏览了文档，但我无法清楚地看到。先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:13:29.487

实例方法（与静态方法相对）的结果取决于调用它的特定对象的状态。（静态方法对其类的任何对象都给出相同的结果）。

看看中的`change_view()`方法`django.contrib.admin.options.ModelAdmin`。此方法使用对象的许多属性来产生返回值。

我想，既然你重写了它，你可以重写它，使它成为一个有效的静态方法，但我很确定这会破坏一些东西。您需要包括对 的调用`super(MyModelAdmin, self).change_view()`。

也许查看[python 文档](http://docs.python.org/2/tutorial/classes.html)以获取有关覆盖方法的更多信息。

# delphi - System.copy 和 StrUtils.MidStr 之间的区别

> ID：13411139
> 
> 赞同：5
> 
> 时间：2012-11-16T05:41:47.043
> 
> 标签：delphi

Delphi 有函数`System.copy`，`StrUtils.MidStr`它们都从`string`. 这两个功能有区别吗？

如果是这样，有什么区别？我应该什么时候使用每一个？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-16T05:56:57.573

确实，没有区别：`MidStr()`使用`Copy()`. 对于字符串来说，因为`Copy()`也可以用于`MidStr()`不适合的数组。

*（我个人认为`StrUtils`unit发布的一些例程是为熟悉VB的人准备的。）*

# java - 从目录中过滤和选择文件

> ID：13411152
> 
> 赞同：1
> 
> 时间：2012-11-16T05:42:47.883
> 
> 标签：java, swing, file, jfilechooser, filefilter

我现在有一个从目录中选择文件的应用程序。我想要做的是能够具有一个功能，您可以在其中放入文件扩展名，例如`.gif`等`.txt`。单击按钮后，应用程序将运行目录并查找并选择该类型的所有文件。我必须显示的唯一代码是我当前的应用程序，它没有这些。希望能找到正确的方向或一些建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T07:14:18.480

对于 a 中的使用`JFileChooser`，到目前为止提供的所有答案都是次优的。而是实施 [`JFileChooser.setFileFilter(javax.swing.filechooser.FileFilter)`](http://docs.oracle.com/javase/6/docs/api/javax/swing/JFileChooser.html#setFileFilter%28javax.swing.filechooser.FileFilter%29)以获得最佳用户体验。

它可能最终看起来像这样¹：

![带有文件过滤器的 JFileChooser](../Images/b5bcff524bff047b7e7802c5beb597d6.png)

1.  [使用由A Sample FileChooser Program](http://www.cs.cf.ac.uk/Dave/HCI/HCI_Handout_CALLER/node99.html)提供的代码获得的图像。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T05:46:26.020

```
private List<File> getMatchingFiles(File parent, final String extension) {
    File[] files = parent.listFiles(new FileFilter() {

        public boolean accept(File dir) {
            String name = dir.getName();
            if(name.endsWith(extension)) {
                return true;
            }
        }
    });

    List<File> retval = Arrays.asList( files );
    return retval;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-16T05:53:19.747

您正在寻找的可能是[java.io.File#list(filter)](http://docs.oracle.com/javase/1.5.0/docs/api/java/io/File.html#list%28java.io.FilenameFilter%29)。

编辑：如果要搜索整个文件系统，则需要递归扫描每个目录：

```
public static void filter (String dirname, List<File> result) {
    try {
        for (String f : new File(dirname).list()) {
            String filename = dirname + f;
            File theFile = new File(filename);
            if (theFile.isDirectory()) {
                filter(filename + "/", result);
            } else if (new FileFilter() {
                public boolean accept(File pathname) {
                    return pathname.getName().endsWith(".gif");
                }
            }.accept(theFile)) {
                result.add(theFile);
            }
        }
    } catch (Exception e) {
        // may raise null-pointer when access denied
    }
}

public static void main(String[] args) {
    List<File> result = new ArrayList<File>();
    filter("F:/", result);

    System.out.println(result.size());
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-16T05:47:05.350

```
FilenameFilter filter = new FilenameFilter() {
  public boolean accept(File dir, String name) {
   return (!name.endsWith(".gif") 
    }
}; 
```

# c# - 如何处理在参数化构造函数上进行 json.net 反序列化时引发的异常

> ID：13411155
> 
> 赞同：1
> 
> 时间：2012-11-16T05:43:15.460
> 
> 标签：c#, .net, serialization, json.net

我正在使用 Json.net 4.5。我已经使用 Json 对 PatientV1 进行了序列化，并尝试将其除菌到 PatientV2 中。序列化发生得很好。

但是当我引入了验证检查`AppUtility.CreatePatientNr`（如果传递了任何空值或空值，则会引发异常），反序列化失败。

我尝试使用派生的 JsonConverter 创建 PatientV2 对象，在该对象中我可以控制将“Proper”值传递给构造函数，但是在创建对象后我将无法设置正确的 PatientNr，因为它是只读的。

我不想使用反射。Json.net 是否提供任何方法来设置`patientV2.PatientNr`JsonConverter 中的只读属性？

有什么方法可以忽略这个异常或任何其他方法来创建 PatientV2 对象？

```
 //version 1.0\. Legacy code with no Json tag
    public class PatientV1
    {
        public int PatId { get; set; }
    }

    //Version 2.0
    public class PatientV2
    {
        public PatientV2( string Id, string s1, string s2 )
        {
            PatientNr = AppUtility.CreatePatientNr( Id, s1, s2);
        }

        //PatId is renamed to a string type. It now has private set
        [JsonProperty( "PatId" )]
        public string PatientNr { get; private set; }
    } 
```

**Edit1：** Json 是否有任何特定的反序列化构造函数，就像二进制序列化一样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T05:32:30.433

Json 首先使用默认构造函数尝试对象，如果找不到，则使用第一个参数化构造函数并将空数据传递给它。Json 没有像二进制序列化一样用于构造对象的特定构造函数。

但是，如果您有实现 ISerializable 的对象，则调用序列化构造函数。

可以使用的方法如下

1.  在 JsonConverter 中，通过将适当的值传递给参数化构造函数来创建对象
2.  从构造函数中删除可能引发异常的业务逻辑。
3.  使所有持久化成为一个没有任何业务逻辑的简单结构（贫血模型）

我目前将采用方法 1）然后 2）稍后 3）。由于遗留大量代码原因，方法 2) 和 3) 将需要一些时间

# ios - iOS“移动网络应用程序”中的 location.reload(true) 在 Safari 中重新打开

> ID：13411158
> 
> 赞同：4
> 
> 时间：2012-11-16T05:43:50.053
> 
> 标签：ios, dom, mobile-safari, reload

*[`<meta name="apple-mobile-web-app-capable" content="yes" />`](http://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html)[“移动网络应用程序”是指包含保存为主屏幕书签/快捷方式的网页。这在没有 Safari 框架的情况下以全屏模式运行。]*

如果应用程序确实如此，`location.reload(true)`iOS 会在 Safari 中重新打开页面，而不是简单地重新加载。我在 iOS 6 上看到了这个；我没有测试过其他版本。除了看起来很糟糕之外，[localStorage 的分离](https://stackoverflow.com/questions/11545149/ios-web-app-has-different-localstorage-than-mobile-safari)意味着我的应用程序在重新加载后将无法正常工作。

有没有办法在没有这种行为的情况下强制重新加载？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T00:02:44.240

您是否发现`location.reload()`（没有“真实”）对您不起作用？

'true' 只是强制一个新的 GET 请求，而不是允许从缓存加载页面，但在我对 iOS 6 的实验中，location.reload() 无论如何都会执行另一个 GET 请求。

如果这不起作用，我建议在您的请求中添加时间戳：

`window.location = window.location.href + '?' + new Date().getTime();`

# android - 如何在 OpenAphide Application 中实现卷曲效果？

> ID：13411168
> 
> 赞同：3
> 
> 时间：2012-11-16T05:44:59.243
> 
> 标签：android

我一直在尝试自定义 OpenAphide 项目，但无法实现，实际上我想用 curl Like Attached Image 翻转动画，但我无法排除故障，请任何人帮助我如何实现。我在 android 中使用过 curl 动画这是在code.google上，但这并不能满足我的需要。实际上需要在openAphide翻转动画中有卷曲，请任何人指导我。提前致谢。![在此处输入图像描述](../Images/c47e3478061ddef0af3de9e36c3ca57a.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:18:04.603

你检查[这个](https://github.com/MysticTreeGames/android-page-curl)吗？

在此示例中，将以两种不同的方式显示 curl 动画，例如

*   列表显示
*   线性布局

检查一次可能对您有帮助。

# html - 引导图标已停止出现我的应用程序

> ID：13411169
> 
> 赞同：0
> 
> 时间：2012-11-16T05:45:10.003
> 
> 标签：html, css, twitter-bootstrap

***更新***：我解决了这个问题。问题是，在我的设置文件中，我指向它从 Amazon S3 下载 CSS，而不是我的本地机器。在 S3 上，我没有使用权限正确设置文件。结果，它不起作用。

由于某种原因，自从将我的静态文件指向 S3 后，这些图标就不再出现在我的应用程序中。

我有以下代码：

`<i class="icon-globe"></i>`

然而，什么都没有出现。这是以前工作的，所以不知道为什么它不再显示。

在页面源中，它不显示图像的路径，只是这样：

```
<h5><i class="icon-globe"></i> New York </h5> 
```

这是我的CSS：

```
[class*=" icon-"] {
  display: inline-block;
  width: 14px;
  height: 14px;
  *margin-right: .3em;
  *margin-right: .3em;
  line-height: 14px;
  vertical-align: text-top;
  background-image: url("../../../images/icons/glyphicons-halflings.png");
  background-position: 14px 14px;
  background-repeat: no-repeat;
}
[class^="icon-"]:last-child,
[class*=" icon-"]:last-child {
  *margin-left: 0;
}
[class^="icon-"]:last-child,
[class*=" icon-"]:last-child {
  *margin-left: 0;
}
.icon-white {
  background-image: url("../../../images/icons/glyphicons-halflings-white.png");
}
.icon-globe {
  background-position: 0      0;
} 
```

我需要为我使用的每个图标设置路径吗？我以前不必在本地计算机上执行此操作，但看到了图标，因此不确定是否有必要。

注意：在将背景图像硬编码到我的静态目录之前，这就是问题出现的原因——我认为。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:02:51.337

*这是以前工作的*- 在本地或在某个远程 Web 服务器上..??

如果它在本地而不是在远程服务器上工作，那么您需要上传包含 glyphicons 文件的*img目录..提到这一点是因为我犯了一次这个错误..*

另外，[检查这篇文章](https://stackoverflow.com/questions/11460713/glyphicons-from-bootstrap-doesnt-show-up)，如果它有帮助..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T14:51:58.457

您是否使用 aws 控制台检查了文件的 s3 访问权限？根据您上传它们的方式，它们可能会被锁定以供公众访问（即通过网络浏览器）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T05:47:09.080

查找图像可能存在问题。

找到`icon-globe`类的定义。并将其与图像文件的实际位置相协调。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-18T22:02:41.440

您是否尝试过更改不同的网址，我的意思是尝试使用 www 或不使用 www 并打开网站。如果它打开没有 www。这意味着您的图标 css 样式表路径未根据 www 设置。我曾经犯过这个错误。

# performance - Oracle 11g 高 IO 等待

> ID：13411172
> 
> 赞同：0
> 
> 时间：2012-11-16T05:45:29.573
> 
> 标签：performance, oracle11g, sql-tuning, iowait

`Oracle Version: 11.1.0.7.0`

我们的一个 Oracle RAC 实例中有更高的 IO 等待

一个 SQL 的执行时间较长 - 每次执行 1452.57 秒。这开始突然发生的一天。以前，查询 20k(:v4 参数) 记录最多需要 3-4 分钟

subscribeinfo 记录：5900 万（非并行）

收费记录：2k - 3k

SQL如下

> 选择 o.msisdn，o.spid，o.serviceid，o.ChargeReferenceID，o.channelID，o.nextchargetime，o.failtimestamp，o.lastmonfeeday，o.networkId，o.retryEndDateTime，o.trialType，o.subFlag，o .faultCode 来自 subscribeinfo o，chargerate r 其中 (o.monthbillid = :v1) and (((o.state = :"SYS_B_00") and (o.nextchargetime < :v2) and ((o.IsAutoExtend <> :"SYS_B_01 ") 或 ((o.IsAutoExtend = :"SYS_B_02") 和 (o.extendflag <> :"SYS_B_03")))) 或 (o.subFlag = :"SYS_B_04" 和 o.state = :"SYS_B_05" 和 o .retryenddatetime > :v2)) 和 (o.ChargeClassForSub = r.chargeclassidx) 和 ((r.chargemode = :"SYS_B_06" and r.activetype = :"SYS_B_07" and o.nextchargetime != :"SYS_B_08" ) 或 ( r.chargemode = :"SYS_B_09" 和 r.activetype <> :"SYS_B_10") or (r.chargemode >= :"SYS_B_11" and r.chargemode <= :"SYS_B_12" and r.basecharge >= :"SYS_B_13") or (r.chargemode = :"SYS_B_14") or (r .chargemode = :"SYS_B_15") 或 (r.chargemode = :"SYS_B_16") 和 (o.failtimestamp <= :v3) 和 (rownum <= :v4)

根据 AWR 报告 Top 5 Timed Foreground Events

直接路径读取 [平均等待时间：22 秒，%DB 时间：50.75%] DB 文件顺序读取 [平均等待时间：15 秒，%DB 时间：38.00]

我将无法发布完整的 AWR 报告，因为它受到限制。所以请询问详细信息我会发布

请在下面找到解释计划：

> ID Exec Ord Operation Go To More Peek Bind Capt Bind Cost2 Estim Card LAST Starts LAST Output Rows LAST Over/Under Estimate1 PStart PStop 工作区 0 7 SELECT STATEMENT
> 23335 1 2577 1 6 COUNT STOPKEY [+] [+]
> [+] 23335 1 2577 2 5 HASH JOIN [+] [+]
> [+] 23335 20001 1 2577 8x over [+] 3 1 .. TABLE ACCESS FULL CHARGERATE [+] [+] 68 3035 1 3036 1x 4 4 .. 分区列表单 [+] 23266 25223 1 2577 10x over KEY KEY 5 3 ... 按本地索引 ROWID SUBSCRIBEINFO 访问表 [+] [+] [+]
> [+] 23266 25223 1 2577 10x over KEY KEY 6 2 .... INDEX RANGE SCAN IDX_FAILTIMESTAMP_NEW [+] [+] [+] [+] 2435 1 2100765 KEY KEY

IOSTAT

> Linux 2.6.16.46-0.12-smp (mdspdb01) 11/16/12
> 
> 平均 CPU：%user %nice %system %iowait %steal %idle
> 
> ```
>  8.41    0.00    9.38   13.25    0.00   67.67 
> ```
> 
> 设备：tps Blk_read/s Blk_wrtn/s Blk_read Blk_wrtn
> 
> sda 5.71 39.53 121.79 665679995 2051190222
> 
> sdb 85.75 178.15 171.12 3000316741 2881953582
> 
> sdc 111.05 161.69 43.96 2723201251 740429949

* * *

我们为monthbilid、nextchargetime 和failtimestamp 字段创建了一个索引……尽管它的基数提高了1/6，但成本却增加了4-5 倍。但是oracle默认采用新索引

> 在 subscribeinfo(monthbillid, nextchargetime, failtimestamp) 本地表空间 IMUSE_INDEX 上创建索引 IDX_MONTHBILLQUERY；
> 
> dbms_stats.gather_index_stats('IMUSE01', 'IDX_MONTHBILLQUERY');

我们在 AWR 报告中有硬解析 = 0。我们也改变了 cursor_sharing = FORCE

现在 IO 得到控制。还是觉得，这不是根本原因。此外，我们为这个查询设置了专用实例，该查询每小时发生超过 10 次，检索 20k 条记录大约需要 100 秒。

谁能建议我是否将优化器模式作为 first_rows 或使用提示 first_rows(20000) 是否是一个好的决定。

到目前为止，我们已经禁用了 stats 作业，我们可以只为某些表或某些索引启用相同的功能吗？这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T18:34:39.387

问题是该语句导致超过 50000 次磁盘读取。这可能是由于使用 cursor_sharing 造成的。如果应用程序在不使用绑定变量的情况下进行编码，则通常使用此参数（非常糟糕。不要走路，运行以修复该应用程序）。可能您甚至将 cursor_sharing 设置为强制，这可能会产生像所描述的那样的不良影响，并且在大多数情况下，光标偷看也不起作用。

您可以通过指定提示来解决此问题，以避免全表扫描，具体取决于您是否在所需表上有索引。由于您没有描述，因此无法给您任何具体建议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-02T03:36:04.213

问题解决了。。。强制cursor_sharing。。。这样大大减少了IO。现在 IO 在所有情况下都是正常的。然后我们为 sqltuning advisor 推荐的同一查询创建了两个索引并接受了配置文件

> 2- SQL 配置文件查找（请参阅下面的解释计划部分）-------------------------- ------------------ 为该语句找到了一个可能更好的执行计划。
> 
> ## 推荐（估计收益：80.44%）
> 
> *   考虑接受推荐的 SQL 配置文件。执行 dbms_sqltune.accept_sql_profile(task_name => 'my_sqltune_task1', task_owner => 'IMUSE01', replace => TRUE);
>     
>     
>     
>     验证结果 ------------------ 通过执行其计划和原始计划并测量它们各自的执行统计信息来测试 SQL 配置文件。如果另一个计划可以在更短的时间内完成，那么一个计划可能只是部分执行。
>     
>     
>     
>     ```
>      Original Plan  With SQL Profile  % Improved
>                        -------------  ----------------  ----------   Completion Status:             PARTIAL          COMPLETE   Elapsed 
>     ```
>     
>     
>     
>     时间（毫秒）：31479 8049 74.43% CPU 时间（毫秒）：5172 1656 67.98%
>     用户 I/O 时间（毫秒）：16367 3422 79.09%
>     缓冲区获取：265365 51818 80.47%
>     磁盘读取：3227 524 83.76%
>     直接写入：0 0 行处理：0 20000 获取：
>     0 20000 执行：0
>     1
>     
>     
> 
> 3- 索引查找（请参阅下面的解释计划部分）---------------------------------------- ------------ 该语句的执行计划可以通过创建一个或多个
> 索引来改进。
> 
> ## 推荐（估计收益：81.1%）
> 
> *   考虑运行 Access Advisor 以改进物理模式设计或创建推荐的索引。在 IMUSE01.SUBSCRIBEINFO("STATE","SUBFLAG","MONTHBILLID","RETRYENDDATETIME") 上创建索引 IMUSE01.IDX$$_67E5B0001；
>     
>     
> *   考虑运行 Access Advisor 以改进物理模式设计或创建推荐的索引。在 IMUSE01.SUBSCRIBEINFO("STATE","MONTHBILLID","FAILTIMESTAMP") 上创建索引 IMUSE01.IDX$$_67E5B0002；
>     
>     
>     
>     基本原理 --------- 创建推荐索引显着改进了该语句的执行计划。但是，与使用单个语句相比，使用代表性 SQL 工作负载运行“Access Advisor”可能更可取。这将允许获得考虑到索引维护开销和额外空间消耗的综合索引建议。
>     
>     
> 
> 4- 重组 SQL 查找（请参阅解释计划部分中的计划 1）------------------------------------ ---------------------------- 谓词 "O"."NEXTCHARGETIME"<>:B1 在执行计划的第 5 行使用是索引列“NEXTCHARGETIME”上的不等式条件。这种不等式条件会阻止优化器有效地使用表“IMUSE01”.“SUBSCRIBEINFO”上的索引。
> 
> 建议 -------------- - 将谓词重写为等效形式以利用索引。
> 
> 基本原理 --------- 如果谓词是不等式条件或者索引列上存在表达式或隐式数据类型转换，则优化器无法使用索引。

# android - Android 多实例

> ID：13411173
> 
> 赞同：3
> 
> 时间：2012-11-16T05:45:31.673
> 
> 标签：android, notifications, multiple-instances

我在android中的通知有问题，每当我每次点击通知时，我都必须再次调用相同的活动，但据我认为新活动被调用但前一个也在后端运行，由于我的代码一次又一次地运行（因为多个实例）

请帮助我每次单击通知时如何解决或关闭多个实例。

代码

public void notificationforChat(CharSequence message,String toJid, int notificationID) {

```
 int notificationCount = 1;
    String ns = Context.NOTIFICATION_SERVICE;
    NotificationManager mNotificationManager = (NotificationManager) getSystemService(ns);
    int icon = R.drawable.ic_launcher;
    CharSequence tickerText = message;
    long when = System.currentTimeMillis();
    Notification notification = new Notification(icon, tickerText, when);
    //notification.number = notificationCount++;
    Context context = getApplicationContext();

    CharSequence contentTitle = "Chat";
    CharSequence contentText = message;
    Intent notificationIntentforChat = new Intent(this, UserChatActivity.class);
    notificationIntentforChat.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);

    notificationIntentforChat.putExtra("userNameVal", toJid);       
    PendingIntent contentIntent = PendingIntent.getActivity(this, 0,
            notificationIntentforChat, PendingIntent.FLAG_UPDATE_CURRENT);
    notification.setLatestEventInfo(context, contentTitle, contentText,
            contentIntent);
    notification.flags |= Notification.FLAG_AUTO_CANCEL;
    notification.defaults = Notification.DEFAULT_ALL;   
    mNotificationManager.notify(notificationID, notification);
} 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:02:16.847

防止多个活动实例。

你可以`android:launchMode="singleTask"`在你的活动中使用

```
<activity
            android:launchMode="singleTask"
            android:name=".UserChatActivity"
            android:label="Your title" > 

....
</activity> 
```

一旦你调用它。`onNewIntent(Intent)`将以新的意图触发

```
 @Override
    protected void onNewIntent(Intent intent) {

       super.onNewIntent(intent);      

    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:07:21.940

`android:launchMode="singleInstance"`以模式或 模式启动活动怎么样`android:launchMode="singleTop"`。我认为这有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T05:59:20.423

将该活动的以下代码放在 maifest 中：

```
android:launchMode="singleTop" 
```

然后为了在再次调用活动时处理新的更改，请覆盖以下方法。

```
@Override
protected void onNewIntent(Intent intent) {
    super.onNewIntent(intent);      
    //Do your new intent handling here.     
} 
```

您放入清单中的代码确保只创建该活动的一个实例。您可以在该活动的 onNewIntent 覆盖方法中处理新意图所需的更改。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-03T12:13:27.577

添加到您的呼叫意图

```
mIntent. setFlags (Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP); 
```

添加到清单中的活动

```
android:launchMode="singleTop" 
```

# jquery - 在 Chrome 和 Firefox 中回发后 jQuery 不起作用

> ID：13411177
> 
> 赞同：3
> 
> 时间：2012-11-16T05:46:10.210
> 
> 标签：jquery, asp.net

该脚本在 IE 中运行良好，但在回发后在 Firefox 和 Chrome 中都没有。任何人都可以帮忙吗？如果在页面中找到 Aching、Pain、Leg 等词，它会转到 Default.aspx 并为这些词带来解释。我将其用于工具提示目的。

```
<script language="javascript" type="text/javascript">
  $(document).ready(
  function pageLoad() {
    var options = {
      exact: "exact",
      style_name_suffix: false,
      keys: "Aching, Pain, Leg"
    }
    $(document).SearchHighlight(options);
    $(".hilite").hover(
      function pageLoad() {
        var selWord = $(this).text();
        var wrd = this;
        $.get("Default.aspx", { q: selWord },
        function pageLoad(data) {
          $(wrd).attr("title", data);
        });
      },
      function pageLoad() { }
    )}
  );
</script>
<style type="text/css">
  .hilite {
    background-color: pink;
    cursor: help;
  }
</style> 
```

谢谢

蓬多伊

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:05:59.853

**更新的答案：**

我尝试了以下代码并在 Chrome、FF 中运行良好。我对您现有的代码进行了一些更改，并使用 jQuery on() 修改了事件处理程序，并删除了一些不必要的行。

请尝试用这个替换你的旧脚本！即使在部分回发后，这也将起作用。

```
 $(document).ready(PageBootStrap);

    function PageBootStrap() {
        var options = {
            exact: "exact",
            style_name_suffix: false,
            keys: "Aching, Pain, Leg"
        };
        $(document).SearchHighlight(options);
        $("body").on("hover", ".hilite", function () {
            alert('calling ..');
            var selWord = $(this).text();
            var wrd = this;
            $.get("Default.aspx", { q: selWord }, function (data) {
                $(wrd).attr("title", data);
            });
        });
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T12:25:50.503

部分回发后，jQuery 在所有浏览器中运行良好。

```
function pageLoad(sender, args)
{
if(args.get_isPartialLoad())
{
// Code here 
}
} 
```

# c++ - 使用指针的矢量移位

> ID：13411180
> 
> 赞同：0
> 
> 时间：2012-11-16T05:46:34.287
> 
> 标签：c++, pointers, sse, shift

我正在使用 SSE3 优化我的代码。代码中有一点迫使我将向量中的所有元素移动一个元素

```
v[0] = 0   //v is some char* and N = v.size()
for(int i = 1;i<N;i++){
    v[i] = v[i-1];
} 
```

据我所知，SSE 不支持向量移位，所以我必须从头开始编写这个代码。

但后来我有了想法，如果我只是减少指针怎么办。

```
v = (v-1); 
v[0] = 0; 
```

这样，操作将是恒定的，根本不需要任何操作。

我已经对此进行了测试，它适用于我的测试程序。
但是，我不确定此操作是否安全。

这是一个非常愚蠢的想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T08:23:20.187

`SSE`确实支持移位，向量内元素的按位移位和整个寄存器沿字节边界的移位。

假设您的向量是 16 次类型`uint8_t`，您正在寻找的操作是

```
psrldq xmm, 1      ;packed shift right logical double quad word 
```

与内在

```
vec = _mm_srli_si128(vec, 1);   // shift by 1 byte 
```

对于您的第一个问题：只要`v`是指向 char 的指针，递减或递增它是完全安全的。取消引用可能不会，这取决于您的程序。

对于你的第二个问题：是的，这看起来是个愚蠢的想法。如果您尝试优化`SSE`并使用指向字节的指针执行一些任务，那么您很可能做错了什么，并且如果您尝试将 16 个字节加载`v`到`SSE`寄存器中，您就会遇到麻烦 - 由于未对齐或性能损失导致的段错误因为强制编译器使用`movdqu`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T09:41:50.940

最简单的答案：不要使用您发布的循环，而是使用 memmove(v+1, v, N-1)。这很可能在任何体面的系统上运行得与手动编码组装一样快，因为它*是*手动编码组装，使用 movdqu/movdqa/movntdqa 和循环展开的适当组合。

更复杂的答案：我认为，从大局来看，您实际上不太可能需要*转移数据*。更有可能的是，您可能需要*访问*相邻元素和当前元素，例如对 v[i] 和 v[i-1] 进行某种计算。

如果您使用 SIMD 代码来执行此操作，则标准技术是（例如）将字节 0..15 加载到 xmm0 中，将 16..31 加载到 xmm1 中，然后将两个寄存器打乱以最终得到元素 1..16 xmm2。然后你可以用xmm0（这里对应向量化的v[i-1]）和xmm2（向量化的v[i]）进行计算。这不是逻辑/算术移位意义上的“移位”，而是 SIMD 车道移位。

示例：在汇编中使用字节

```
movdqa mem, xmm0 // load bytes 0..15
loop:
// increment mem by 16
movdqa mem, xmm1 // load bytes 16..31
movdqa xmm0, xmm2 // make a copy
movdqa xmm1, xmm3 // make a copy
psrldq xmm2, 1 // ends up with bytes 1..15 and a zero
pslldq xmm3, 15 // ends up with zeros and byte 16
por xmm2, xmm3 // ends up with bytes 1..16
// do something with xmm3 and xmm0 here, they contain bytes 1..16 and 0..15 respectively
// in other words xmm3 is a lane-shifted
movdqa xmm1, xmm0 // use our copy of bytes 16..31 to continue the loop
// goto loop 
```

为什么不这样做：“如果我只是递减指针... v = (v-1);”

这将崩溃：

```
char* v = (char*)malloc(...);
v=(v-1);
v[0] = 0; // or any read or write of v[0] 
```

如果 v 指向分配内存块中间（不是开头）的某个位置，那么递减将正常工作，但您必须有一种方法确保始终如此（例如，分配内存在将使用此技巧的同一函数中）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T10:18:00.240

递减指针首先会导致对第 0 个元素的越界访问，**并且**会使您的向量错位。向量操作，除了要正确对齐以提高性能的数据。如果数据未对齐，则指令调度程序必须将从内存中读取分成两次读取，从而失去一些性能。

SSE 提供对整个向量的位移操作，请参阅@hirschhornsalz 的答案。

# java - 使用配置文件或 GUI 使用 eclipse ide 输入参数

> ID：13411181
> 
> 赞同：1
> 
> 时间：2012-11-16T05:47:01.300
> 
> 标签：java, selenium, webdriver

我创建了一个`filename.java` 主类来调用包中的其他文件。在我的主类中，我正在设置某些我正在硬编码的参数（文件路径）。我喜欢由用户自己提供参数，我有两个选项，

1.  创建一个配置文件并从配置文件中提供参数

2.  创建一个读取用户参数并设置参数的 GUI。

# django - Django：通过表格单元格更新数据库行

> ID：13411183
> 
> 赞同：0
> 
> 时间：2012-11-16T05:47:08.403
> 
> 标签：django

尝试在 Django 中创建一个 Display，看起来像这样。

链接：http: [//i47.tinypic.com/2lk2mw2.png](http://i47.tinypic.com/2lk2mw2.png)

1.  每天的水果数量是动态的并且每天都不同。
2.  评论字段可由管理员编辑。然后输入将用于更新数据库中的行

问题：到目前为止，我不确定如何允许用户编辑评论列并显示数据库中的更改

**

*   水果.html

**

```
{% for item in nodes %}
<tr>
    <td class = "tablebord"><a href ="/nodes/node/{{ item.nodeid }}/">{{ 
     item.nodeid }}</a></td>
    <td class = "tablebord">{{ item.lastseen }} </td>
    <td class = "tablebord"><div contenteditable>{{ item.comment }}    <p>
            <form action="" method="get">
              <input type="text" name="q">
              <input type="submit" value="test">
            </form>
     </p> </div> </td>
    <td class = "tablebord">{{ item.lastipaddr }} </td>
</tr>
{% endfor %} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:57:36.830

我想到的一种解决方案：

**在 HTML 中：**

将表单中的方法更改为 POST。

将 CSRF Token 添加到表单中。

添加带有 nodeid 的隐藏输入以在视图中解析。

用当前评论预填充输入。

```
<!-- Comment Cell -->
<td class = "tablebord">
  <div contenteditable>
    <form action="" method="post"> {% csrf_token %}
      <input type="text" name="comment" value={{ item.comment }} />
      <input type="hidden" value={{ item.nodeid }} name="nodeid" />
      <input type="submit" value="edit" />
    </form>
  </div>
</td> 
```

**在views.py中：**

CSRF Token 和 Node 模型的导入装饰器

使用 CSRF Protect 装饰视图。

检查表单是否提交。

如果是这样，获取节点并更改评论。

渲染模板。

```
# decorator
from django.views.decorators.csrf import csrf_protect

from app.Node.models import Node

# view to handle table
@csrf_protect
def fruits(request):
  nodes = Nodes.objects.all()
  # user is posting: get edited node, change comment, and save
  if request.POST:
    nodeid = request.POST.get('nodeid')
    edited_node = nodes.get(nodeid=nodeid)
    edited_node.comment = request.POST.get('comment')
    edited_node.save()

  # render template with nodes
  return render(request, 'fruits.html', {'nodes':nodes}) 
```

希望这能回答你的问题。

# python - 在 Twisted 中止请求后将响应发送回资源

> ID：13411188
> 
> 赞同：0
> 
> 时间：2012-11-16T05:47:35.130
> 
> 标签：python, twisted.web

我正在尝试将文件上传到服务器。上传文件时，可能会出现可用磁盘空间不足并引发异常的情况，导致关闭与客户端的连接而没有发回任何响应。我很好奇有没有办法发送响应并用包含状态消息的字符串`Resource`的结果来呈现它？`json`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:14:00.003

我会尝试用一个`try...except...`块包围你的上传代码。

```
try:
  # upload file
except Exception:
  # send response to Resource 
```

# c# - 出现错误 - System.InvalidOperationException 未处理

> ID：13411194
> 
> 赞同：2
> 
> 时间：2012-11-16T05:48:24.230
> 
> 标签：c#, multithreading, invalidoperationexception

我刚开始学习windows应用程序开发，我们得到了自学项目来开发一个windows应用程序。我正在尝试创建应用程序来发送电子邮件。我创建了一个类`MsgSender.cs`来处理它。当我从主窗体调用该类时，出现以下错误

> System.InvalidOperationException 未处理。

错误信息-->

> 跨线程操作无效：控件'pictureBox1'从创建它的线程以外的线程访问。`

堆栈跟踪如下：

```
System.InvalidOperationException was unhandled
Message=Cross-thread operation not valid: Control 'pictureBox1' accessed from a thread other than the thread it was created on.
Source=System.Windows.Forms
StackTrace:
   at System.Windows.Forms.Control.get_Handle()
   at System.Windows.Forms.Control.SetVisibleCore(Boolean value)
   at System.Windows.Forms.Control.set_Visible(Boolean value)
   at UltooApp.Form1.sendMethod() in D:\Ultoo Application\UltooApp\UltooApp\Form1.cs:line 32
   at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean ignoreSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.ThreadHelper.ThreadStart()
InnerException: 
```

代码：

```
private void btnSend_Click(object sender, EventArgs e)
    {
        pictureBox1.Visible = true;
        count++;
        lblMsgStatus.Visible = false;
        getMsgDetails();
        msg = txtMsg.Text;

        Thread t = new Thread(new ThreadStart(sendMethod));
        t.IsBackground = true;
        t.Start();
    }

    void sendMethod()
    {
        string lblText = (String)MsgSender.sendSMS(to, msg, "hotmail", uname, pwd);
        pictureBox1.Visible = false;
        lblMsgStatus.Visible = true;
        lblMsgStatus.Text = lblText + "\nFrom: " + uname + " To: " + cmbxNumber.SelectedItem + " " + count;
    } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-16T05:50:46.033

`You can access Form GUI controls in GUI thread`并且**您正在尝试访问外部 GUI 线程，这是导致异常的原因**。您可以使用 MethodInvoker 访问 GUI 线程中的控件。

```
void sendMethod()
{
    MethodInvoker mi = delegate{
       string lblText = (String) MsgSender.sendSMS(to, msg, "hotmail", uname, pwd);
       pictureBox1.Visible = false;
       lblMsgStatus.Visible = true;
       lblMsgStatus.Text = 
             lblText + "\nFrom: " + uname + 
             " To: " + cmbxNumber.SelectedItem + " " + count;
   }; 

   if(InvokeRequired)
       this.Invoke(mi);
} 
```

# sql-server-2008 - 在sql server中创建数据库脚本

> ID：13411197
> 
> 赞同：1
> 
> 时间：2012-11-16T05:48:35.523
> 
> 标签：sql-server-2008

我有两个数据库 DB1 和 DB2。现在DB1中有一些与DB2相关的存储过程和视图也是这样的：

```
SELECT ....
FROM DB1.TableA INNER JOIN DB2.TableB 
..... 
```

现在，因为我必须使用脚本将这两个数据库移动到另一台服务器。我必须确保如果我正在运行 DB2 的脚本，我将首先为那个 DB1 对象运行脚本。我不确定我是否可以一个一个地运行脚本，或者我是否需要准备一个基于依赖关系制作的脚本？

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T10:13:25.337

如果您想为移动数据生成脚本，我建议您在要移动的数据库上使用**任务 -> 生成脚本选项。**您可以选择是否编写数据和模式的脚本，或者只是模式，是否编写索引、外键关系等等。快速指南在这里：

[http://blog.sqlauthority.com/2011/05/07/sql-server-2008-2008-r2-create-script-to-copy-database-schema-and-all-the-objects-data-schema-存储过程函数触发器表视图约束和所有其他数据库对象/](http://blog.sqlauthority.com/2011/05/07/sql-server-2008-2008-r2-create-script-to-copy-database-schema-and-all-the-objects-data-schema-stored-procedure-functions-triggers-tables-views-constraints-and-all-other-database-objects/)

如果我是你，我会下载**RedGate SQL Compare**的试用版。它有 2 个工具，称为 Schema Compare 和 Data Compare，允许您比较 2 个数据库，并同步它们的模式和数据。这是一个很棒的工具，我们每天都使用它来确保我们的数据库是同步的。

此外，如果您已经像上面所说的那样设置了链接服务器（DB1 引用 DB2），那么当网站上的流量较低时，将两个数据库都脱机可能是值得的。或者，您可以使用 SQL 比较/生成脚本创建 DB1 和 DB2 的副本，然后在将副本移植到新服务器后切换连接字符串以指向副本。这样，切换是即时的，您不必使数据库脱机。

# qt - 如何摆脱 Qt 中 QGridLayout 中空行的垂直间距？

> ID：13411199
> 
> 赞同：0
> 
> 时间：2012-11-16T05:48:43.230
> 
> 标签：qt, layout, dynamic, dialog, resize

所以我有一个对话框，它由一个`QGridLayout`包含两列小部件（标签和组合框）的对话框组成。根据组合框的选择，某些行可能会被隐藏。

我发现在显示/隐藏组合框时进行对话框调用`self.layout().setSizeConstraint(QLayout.SetFixedSize)`会使对话框相应地改变大小。

但后来我意识到布局仍然显示空行的垂直间距，从而使对话框在这里和那里显示太多空间。

我怎样才能摆脱这个？有没有办法让布局调整大小以仅显示具有可见小部件的行的垂直间距？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:43:25.283

我想我找到了解决方案。当一个小部件被隐藏时，使用`QVBoxLayout`而不是以`QGridLayout`某种方式使小部件**及其垂直间距消失。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:33:22.763

一旦可见性设置为并在您需要将其放回布局中时使用，您可能需要使用`QLayout::takeAt ( int index )`来取出该项目。`false``QLayout::addItem ( QLayoutItem * item )`

请记住，如果一个项目被删除，其他项目将被重新编号。因此，您必须相应地计划您要做什么。请参阅[文档](http://doc.qt.digia.com/qt/qlayout.html#takeAt)。

# android - 将绘制的线采样到数组中

> ID：13411202
> 
> 赞同：0
> 
> 时间：2012-11-16T05:48:59.537
> 
> 标签：android, arrays, drawing, sampling

我想将用户在 android 屏幕上手绘的线条“采样”到一个数组中。x 坐标是等距的，很可能是一维数组的索引。

举个例子来说明我的意思，如果用户绘制一个近似正弦波，我想创建一个数组，可以将该近似正弦波转换为另一个图形，或用于音频合成。

我对一种方法有一个基本的想法，从一个数组开始：

```
float samples[] = new float[100] // or some other arbitrary number 
```

然后是 ontouch 方法：

```
 @Override
    public boolean onTouch(View v, MotionEvent event) {
        float x = event.getX();
        float y = event.getY();
        if(event.getAction() == MotionEvent.ACTION_DOWN || event.getAction() == MotionEvent.ACTION_MOVE){
            // assume we translate x into relative index from 0-99 at this point
            if(!xHasPoint(x, samples)){
                drawNewPoint();
                samples[x] = y;
            }
            invalidate();
            return true;
        }
        else{
            invalidate();
            return false;
        }
    }

private static boolean xHasPoint(float x, float[] a){
    if(a[x] == !null){
         return true;
    }
    else{
         return false;
    }
} 
```

所以我的问题是，你能提出一个更好的方法来解决这个问题吗？我预见到必须推断出大量数据......在最后循环遍历数组并从最近的非空值中分配空索引平均值，诸如此类。

另一方面，如果这看起来没有错，我是否遗漏了任何重要的大局考虑？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:50:05.340

唯一的问题是，一旦您的数组已满，您将无法继续添加更多点。我建议您使用可增长的数据结构。

例如，如果它是一个 ArrayList，您可以继续添加任意数量的点（理论上）。

我不太了解方法hasPoints。理想情况下，在绘制自身时，您应该同时进行采样和插值，并且还可以平滑曲线。

**更新：**是的，如果是这种情况，那么您只能尝试仅在它移动时注册一个点，例如超过 4 个像素，然后以某种方式通过在前一个点和下一个点之间平滑它来插入和绘制曲线。而且，我猜你还需要捕获 y 点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T07:26:31.503

你的逻辑可能有问题。因为一次只触发一个触摸事件，即 ACTION_DOWN 或 ACTION_MOVE。因此您在 if() 块中编写的逻辑将不会被执行。

# vb.net - 将子文件夹复制到 VB.NET 中的另一个文件夹而不覆盖

> ID：13411206
> 
> 赞同：2
> 
> 时间：2012-11-16T05:49:21.613
> 
> 标签：vb.net, recursion, copy, overwrite

我有我用来复制目录的代码：

```
Private Sub CopyDirectory(ByVal sourcePath As String, ByVal destPath As String)
    If Not Directory.Exists(destPath) Then
        Directory.CreateDirectory(destPath)
    End If

    For Each file1 As String In Directory.GetFiles(sourcePath)
        Dim dest As String = Path.Combine(destPath, Path.GetFileName(file1))
        File.Copy(file1, dest)
    Next

    For Each dir1 As String In Directory.GetDirectories(Path.GetDirectoryName(sourcePath))
        Dim destdir As String = Path.Combine(destPath, Path.GetFileName(dir1))
        CopyDirectory(dir1, destdir)
    Next
End Sub 
```

这就是我所说的`CopyDirectory`方法：

```
 Dim sourcepath As String = "E:\Crazy\"
 Dim DestPath As String = "D:\Snippets\"
 CopyDirectory(sourcepath, DestPath,) 
```

问题是它不断地一次又一次地复制文件夹。我该如何阻止这个？以及如何一次复制子文件夹？我使用了递归。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T08:35:06.023

你的问题出在这里：

```
For Each dir1 As String In Directory.GetDirectories(Path.GetDirectoryName(sourcePath)) 
```

这将获得 destPath 的父文件夹，而不是从中复制的正确路径。[此外，您对File.Copy](http://msdn.microsoft.com/en-us/library/c6cfw35a.aspx)
有问题。如果文件已存在于目标路径中，则调用 File.Copy 而没有显式请求覆盖目标将引发异常。

```
Private Sub CopyDirectory(ByVal sourcePath As String, ByVal destPath As String)  

    If Not Directory.Exists(destPath) Then
        Directory.CreateDirectory(destPath)
    End If

    For Each file1 As String In Directory.GetFiles(sourcePath)
        Dim dest As String = Path.Combine(destPath, Path.GetFileName(file1))
        File.Copy(file1, dest, True)  ' Added True here to force the an overwrite 
    Next

    ' Use directly the sourcePath passed in, not the parent of that path
    For Each dir1 As String In Directory.GetDirectories(sourcePath)
        Dim destdir As String = Path.Combine(destPath, Path.GetFileName(dir1))
        CopyDirectory(dir1, destdir)
    Next
End Sub 
```

# java - 在bean中设置数组值的任何优化技术？

> ID：13411207
> 
> 赞同：0
> 
> 时间：2012-11-16T05:49:27.207
> 
> 标签：java, arrays, performance, javabeans

我得到一个固定大小的数组，比如说 20。

我必须在 bean 属性中设置每个数组元素，所以我的 bean 有 20 个属性。

这是我目前的方法：

```
Object[] record = { "0", "1", "2", ...."19" };

for (int j = 0; j < record.length; j++) {
    if (j == 0) {
        bean.setNo((String) record[j]);
    }
    if (j == 1) {
        bean.setName((String) record[j]);  
    }
    if (j == 2) {
        bean.setPhone((String) record[j]);  
    }
    // so on and so forth...
} 
```

这就是我从数组中设置 bean 的每个属性的方式。

这里我有 20 个数组元素。

所以要设置第 20 个元素，它正在检查 20 个条件.. 性能问题..

任何优化的技术都值得赞赏...

提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:04:02.663

一种方法是：

试试这个：：

```
 Object[] record = BeanList.get(i);
     int j = 0;
     bean.setNo((String) record[j++]);
     bean.setName((String) record[j++]);  
     bean.setPhone((String) record[j++]); 
```

......................................................

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:14:03.083

另一种设置 bean 值的方法。这需要 commons-beanutils.jar 作为依赖项。

```
import java.lang.reflect.InvocationTargetException;

import org.apache.commons.beanutils.BeanUtils;

public class BeanUtilsTest {

    // bean property names
    private static String[] propertyNames = { "name", "address" };

    public static void main(String[] args) throws IllegalAccessException,
            InvocationTargetException {
        // actual values u want to set
        String[] values = { "Sree", "India" };
        MyBean bean = new MyBean();
        System.out.println("Bean before Setting: " + bean);

        // code for setting values
        for (int i = 0; i < propertyNames.length; i++) {
            BeanUtils.setProperty(bean, propertyNames[i], values[i]);
        }
        // end code for setting values
        System.out.println("Bean after Setting: " + bean);
    }

    public static class MyBean {
        private String name;
        private String address;
        public String getName() {
            return name;
        }
        public void setName(String name) {
            this.name = name;
        }
        public String getAddress() {
            return address;
        }
        public void setAddress(String address) {
            this.address = address;
        }
        @Override
        public String toString() {
            return "MyBean [address=" + address + ", name=" + name + "]";
        }

    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-16T05:52:43.857

你可以使用 Switch 来代替这些 if 语句

```
for( int j =0; j < record.length; j++) {
     switch (j){
           case 1 :  bean.setNo((String) record[j]);break;
           case 2 :  bean.setNo((String) record[j]);break;
           ....
           ....
    }
} 
```

# css - Twitter Bootstrap：在导航栏中选择元素

> ID：13411208
> 
> 赞同：3
> 
> 时间：2012-11-16T05:49:29.657
> 
> 标签：css, html, twitter-bootstrap

我`<select>`在引导导航栏中排列元素时遇到问题。我想要从“搜索”一直到“开始！”的文本。按钮垂直对齐。看起来按钮和选择元素的高度相同，所以我希望它们在顶部和底部齐平。

这是代码：

```
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>
        <a class="brand" href="#">Project</a>
        <div class="nav-collapse collapse">
            <ul class="nav">
                <li class="active"><a href="#"><i class="icon-home"></i> Home</a></li>
            </ul>
            <form class="navbar-search pull-right">
                <div>Search for 
                    <select class="span2">
                        <option>Things</option>
                    </select> in 
                    <select class="span2">
                        <option>City, NY</option>
                    </select>
                    <button type="button" class="btn btn-primary">Go!</button>
                    </div>
                </form>
            </div><!--/.nav-collapse -->
        </div>
    </div>
</div> 
```

这是一个带有示例的 jsFiddle。[http://jsfiddle.net/jefe317/EjS6f/2/](http://jsfiddle.net/jefe317/EjS6f/2/)

Firefox 和 Chrome 都显示相似的结果

![在此处输入图像描述](../Images/bfe14e64fd7ad42749e8d711e6f1550f.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:06:18.813

Rohit 的回答有点用，但会使文本稍微偏离中心。您还可以从选择中删除边距底部：

```
select[class*="span"] {
    margin-bottom: 0;
} 
```

那应该连一切都解决了。

[http://jsfiddle.net/EjS6f/5/](http://jsfiddle.net/EjS6f/5/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T05:55:49.610

***[演示](http://jsfiddle.net/EjS6f/4/)***

嗨**@Jeff Lange**现在定义您的**按钮** `margin-top:0;`并**添加到** `vertical-align:top;`

像这样

```
.btn.btn-primary{
margin-top:0 !important;
    vertical-align: top;
} 
```

***[演示](http://jsfiddle.net/EjS6f/4/)***

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-21T03:58:35.687

我有一个类似的问题，但我用以下方法解决了它：

```
<select class="span2 navbar-btn">
    <option>Things</option>
</select> in 
 <select class="span2 navbar-btn">
   <option>City, NY</option>
</select>
<button type="button" class="btn btn-default navbar-btn">Go!<button> 
```

# asp.net-mvc-3 - Malsup 插件提交仅在 IE9 中首次有效

> ID：13411212
> 
> 赞同：1
> 
> 时间：2012-11-16T05:49:44.920
> 
> 标签：asp.net-mvc-3, jquery

mvc / .net Web 开发的新手

我在局部视图上使用 MVC3 和 Malsup JQuery 表单插件...

在表单提交按钮上，我执行以下脚本

```
$(document).ready(function () {
     $('#frm_Attachments').submit(function (e) {

         e.preventDefault(); 
         e.stopImmediatePropagation();

         var ajaxSubmitOptions = {
             target: $("#Attachment_Div") 
         };

         $(this).ajaxSubmit(ajaxSubmitOptions);

         return false; 

     });
 }); 
```

在 Firefox 和 Chrome 中一切都很好......但在 IE9 中却不行。问题是在 IE 中，提交只在第一次工作，之后当我单击提交按钮时没有任何反应。

下面的控制器

```
 [HttpPost]
    public ActionResult Partial_Qual_Attachments(Teacher_Application.Qualification_Attachment model, HttpPostedFileBase file)
    {
        if (model.Save(file)) // all ok
        {
            ViewBag.message = "Data successfully saved";
        }
        else // error
        {
            ViewBag.message = "Unable to save data, please try again or contact the system administrator";
        }

       model = new Teacher_Application.Qualification_Attachment(SessionData.Selected_Teacher_ID);

        ModelState.Clear();
        return PartialView(model);
    } 
```

任何建议将不胜感激，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T05:19:32.770

弄清楚了。与ajax 之后的事件绑定有关。谢谢。

# wcf - WCF 跟踪开关值为关闭，但仍在生成跟踪输出

> ID：13411221
> 
> 赞同：8
> 
> 时间：2012-11-16T05:50:31.733
> 
> 标签：wcf, trace

在打开 WCF 跟踪以帮助查找问题后，我现在希望关闭跟踪。所以我把我的配置文件改成了这个......

```
<system.diagnostics>
        <sources>
            <source name="System.ServiceModel" switchValue="Off" >
                <!-- Information,ActivityTracing-->
                <listeners>
                    <add name="xmlTraceListener" />
                </listeners>
            </source>
            <source name="System.ServiceModel.MessageLogging" switchValue="Off" >
                <listeners>
                    <add name="xmlTraceListener" />
                </listeners>
            </source>
        </sources>
        <sharedListeners>
            <add name="xmlTraceListener" 
                 type="System.Diagnostics.XmlWriterTraceListener" 
                 initializeData="C:\WCFLogs\DataPortalTrace.svclog" />
        </sharedListeners>
        <trace autoflush="true" />
    </system.diagnostics> 
```

然而，仍然有跟踪输出被发送到指定的输出文件。这是为什么？我错过了什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-16T22:11:41.013

`switchValue="Off"`只会控制`System.ServiceModel`。它不控制`System.ServiceModel.MessageLogging`

据我所知，您可以通过以下方式进行控制`maxMessagesToLog="0"`——您可能已经`<diagnostics>`在`<system.serviceModel>`

```
<diagnostics>
      <messageLogging
           logEntireMessage="true"
           logMalformedMessages="true"
           logMessagesAtServiceLevel="true"
           logMessagesAtTransportLevel="true"
           maxMessagesToLog="0"
       />
</diagnostics> 
```

[用于配置消息日志的 .NET 框架](http://msdn.microsoft.com/en-us/library/ms730064.aspx)

日志级别以及其他选项在日志级别和选项部分进行了讨论。

源的`switchValue`属性只对追踪有效。如果您为跟踪源指定 switchValue 属性，`System.ServiceModel.MessageLogging`如下所示，它没有效果。

复制

```
 <source name="System.ServiceModel.MessageLogging" switchValue="Verbose"> 
```

如果要禁用跟踪源，则应使用 messageLogging 元素的`logMessagesAtServiceLevel`、`logMalformedMessages`和`logMessagesAtTransportLevel`属性。您应该将所有这些属性设置为 false。这可以通过使用前面代码示例中的配置文件、通过配置编辑器 UI 界面或使用 WMI 来完成。有关配置编辑器工具的详细信息，请参阅配置编辑器工具 (SvcConfigEditor.exe)。有关 WMI 的详细信息，请参阅使用 Windows Management Instrumentation 进行诊断。

# yii - 如何使用 yii 加入 3 个模型以在 cgridview 中显示数据

> ID：13411228
> 
> 赞同：0
> 
> 时间：2012-11-16T05:51:17.167
> 
> 标签：yii

我是 yii 框架的新手。我有 3 个表，表 A，表 B，表 C。表 A 和表 B 与主键和外键关系相关。表 B 和表 C 与主键和外键关系链接的方式相同。我想显示，过滤管理页面的 cgridview 中的数据..使用 yii fra 更新：我有 3 个models.subscriber.php、assignment.php、groups.php 我想显示 3 个模型的属性并在subscriber.php 的 cgridview 中显示它们？？？

订阅者.php.......

```
 /**
     * This is the model class for table "users_phone_numbers".
     *
     * The followings are the available columns in table 'users_phone_numbers':
     * @property integer $id
     * @property string $name
     * @property string $phone_number
     * @property integer $created_user
     * @property string $created_date
     * @property integer $modified_user
     * @property string $modified_date
     * @property integer $status
     * @property string $message_type
     * @property string $birthdate
     * @property string $email
     *
     * The followings are the available model relations:
     * @property PhoneNumberGroupAssignment[] $phoneNumberGroupAssignments
     */
    class subscriber extends CActiveRecord
    {

        //public $group_search;      //for searching and displaying in cgridview
        /**
         * Returns the static model of the specified AR class.
         * @param string $className active record class name.
         * @return subscriber the static model class
         */
        public static function model($className=__CLASS__)
        {
            return parent::model($className);
        }

        /**
         * @return string the associated database table name
         */
        public function tableName()
        {
            return 'users_phone_numbers';
        }

        /**
         * @return array validation rules for model attributes.
         */
        public function rules()
        {
            // NOTE: you should only define rules for those attributes that
            // will receive user inputs.
            return array(
                array('phone_number, created_user, created_date, birthdate, email', 'required'),
                array('created_user, modified_user, status', 'numerical', 'integerOnly'=>true),
                array('name, phone_number', 'length', 'max'=>100),
                array('message_type', 'length', 'max'=>20),
                array('email', 'length', 'max'=>150),
                array('modified_date', 'safe'),  
                // The following rule is used by search().
                // Please remove those attributes that should not be searched.
                array('id, name, phone_number, created_user, created_date, modified_user, modified_date, status, message_type, birthdate, email ', 'safe', 'on'=>'search'),//add above defined variable.
            );
        }

        /**
         * @return array relational rules.
         */
        public function relations()
        {
            // NOTE: you may need to adjust the relation name and the related
            // class name for the relations automatically generated below.
            return array(
                'phoneNumberGroupAssignments' => array(self::HAS_MANY, 'Assignment', 'phone_number_id'),
                //'postCount' => array(self::STAT, 'assignment', 'phone_number_id'),
            );
        }

        /**
         * @return array customized attribute labels (name=>label)
         */
        public function attributeLabels()
        {
            return array(
                'id' => 'ID',
                'name' => 'Name',
                'phone_number' => 'Phone Number',
                'created_user' => 'Created User',
                'created_date' => 'Created Date',
                'modified_user' => 'Modified User',
                'modified_date' => 'Modified Date',
                'status' => 'Status',
                'message_type' => 'Message Type',
                'birthdate' => 'Birthdate',
                'email' => 'Email',
            );
        }

        /**
         * Retrieves a list of models based on the current search/filter conditions.
         * @return CActiveDataProvider the data provider that can return the models based on the search/filter conditions.
         */
        public function search()
        {
            // Warning: Please modify the following code to remove attributes that
            // should not be searched.

            $criteria=new CDbCriteria;
            //$criteria->with = array( 'phoneNumberGroupAssignments' );   //new

            $criteria->compare('id',$this->id);
            $criteria->compare('name',$this->name,true);
            $criteria->compare('phone_number',$this->phone_number,true);
            $criteria->compare('created_user',$this->created_user);
            $criteria->compare('created_date',$this->created_date,true);
            $criteria->compare('modified_user',$this->modified_user);
            $criteria->compare('modified_date',$this->modified_date,true);
            $criteria->compare('status',$this->status);
            $criteria->compare('message_type',$this->message_type,true);
            $criteria->compare('birthdate',$this->birthdate,true);
            $criteria->compare('email',$this->email,true);
            //$criteria->compare( 'phoneNumberGroupAssignments.group_id', $this->group_search, true );

            return new CActiveDataProvider($this, array('criteria'=>$criteria,
            /*'sort'=>array(
            'attributes'=>array(
                'group_search'=>array(
                    'asc'=>'phoneNumberGroupAssignments.group_id',
                    'desc'=>'phoneNumberGroupAssignments.group_id DESC',
                ),
                ),
                ),
                */

                    ));
        }
    } 
```

第二个任务.php

```
 /**
         * This is the model class for table "phone_number_group_assignment".
         *
         * The followings are the available columns in table 'phone_number_group_assignment':
         * @property integer $id
         * @property integer $phone_number_id
         * @property integer $group_id
         * @property integer $created_user
         * @property string $created_date
         * @property integer $modified_user
         * @property string $modified_date
         *
         * The followings are the available model relations:
         * @property UsersPhoneNumbers $phoneNumber
         */
        class assignment extends CActiveRecord
        {
            /**
             * Returns the static model of the specified AR class.
             * @param string $className active record class name.
             * @return assignment the static model class
             */
            public static function model($className=__CLASS__)
            {
                return parent::model($className);
            }

            /**
             * @return string the associated database table name
             */
            public function tableName()
            {
                return 'phone_number_group_assignment';
            }

            /**
             * @return array validation rules for model attributes.
             */
            public function rules()
            {
                // NOTE: you should only define rules for those attributes that
                // will receive user inputs.
                return array(
                    array('phone_number_id, group_id, created_date', 'required'),
                    array('phone_number_id, group_id, created_user, modified_user', 'numerical', 'integerOnly'=>true),
                    array('modified_date', 'safe'),
                    // The following rule is used by search().
                    // Please remove those attributes that should not be searched.
                    array('id, phone_number_id, group_id, created_user, created_date, modified_user, modified_date', 'safe', 'on'=>'search'),
                );
            }

            /**
             * @return array relational rules.
             */
            public function relations()
            {
                // NOTE: you may need to adjust the relation name and the related
                // class name for the relations automatically generated below.
                return array(
                    'phoneNumber' => array(self::BELONGS_TO, 'Subscriber', 'phone_number_id'),
                );
            }

            /**
             * @return array customized attribute labels (name=>label)
             */
            public function attributeLabels()
            {
                return array(
                    'id' => 'ID',
                    'phone_number_id' => 'Phone Number',
                    'group_id' => 'Group',
                    'created_user' => 'Created User',
                    'created_date' => 'Created Date',
                    'modified_user' => 'Modified User',
                    'modified_date' => 'Modified Date',
                );
            }

            /**
             * Retrieves a list of models based on the current search/filter conditions.
             * @return CActiveDataProvider the data provider that can return the models based on the search/filter conditions.
             */
            public function search()
            {
                // Warning: Please modify the following code to remove attributes that
                // should not be searched.

                $criteria=new CDbCriteria;

                $criteria->compare('id',$this->id);
                $criteria->compare('phone_number_id',$this->phone_number_id);
                $criteria->compare('group_id',$this->group_id);
                $criteria->compare('created_user',$this->created_user);
                $criteria->compare('created_date',$this->created_date,true);
                $criteria->compare('modified_user',$this->modified_user);
                $criteria->compare('modified_date',$this->modified_date,true);

                return new CActiveDataProvider($this, array(
                    'criteria'=>$criteria,
                ));
            }
        } 
```

第三个：groups.php

```
 /**
       * This is the model class for table "client_groups".
       *
       * The followings are the available columns in table 'client_groups':
       * @property integer $id
       * @property integer $client_id
       * @property string $title
       * @property string $keywords
       * @property integer $status
       * @property integer $created_user
       * @property string $created_date
       * @property integer $modified_user
       * @property string $modified_date
       * @property integer $is_default
       * @property integer $is_special_group
       * @property string $back_office_no
       * @property string $special_group_sms_text
       * @property string $text_sms_office
       * @property string $day_delay_1
       * @property string $subscription_sms_1
       * @property string $day_delay_2
       * @property string $subscription_sms_2
       * @property string $day_delay_3
       * @property string $subscription_sms_3
       * @property string $campaign_sms
       * @property string $delay_time_1
       * @property string $delay_time_2
       * @property string $delay_time_3
       * @property integer $msg_counter
       * @property integer $msg_counter_start_num
       * @property integer $add_expiry
       * @property integer $add_days
       * @property integer $phone_number_id
       * @property integer $ar_type
       * @property string $email
       *
       * The followings are the available model relations:
       * @property ClientInformation $client
       */
      class Groups extends CActiveRecord
      {
          /**
           * Returns the static model of the specified AR class.
           * @param string $className active record class name.
           * @return Groups the static model class
           */
          public static function model($className=__CLASS__)
          {
              return parent::model($className);
          }

          /**
           * @return string the associated database table name
           */
          public function tableName()
          {
              return 'client_groups';
          }

          /**
           * @return array validation rules for model attributes.
           */
          public function rules()
          {
              // NOTE: you should only define rules for those attributes that
              // will receive user inputs.
              return array(
                  array('client_id, created_user, created_date, msg_counter, add_expiry, add_days, phone_number_id, ar_type, email', 'required'),
                  array('client_id, status, created_user, modified_user, is_default, is_special_group, msg_counter, msg_counter_start_num, add_expiry, add_days, phone_number_id, ar_type', 'numerical', 'integerOnly'=>true),
                  array('title', 'length', 'max'=>250),
                  array('keywords', 'length', 'max'=>255),
                  array('back_office_no', 'length', 'max'=>50),
                  array('day_delay_1, day_delay_2, day_delay_3', 'length', 'max'=>3),
                  array('subscription_sms_1, subscription_sms_2, subscription_sms_3, campaign_sms, email', 'length', 'max'=>200),
                  array('modified_date, special_group_sms_text, text_sms_office, delay_time_1, delay_time_2, delay_time_3', 'safe'),
                  // The following rule is used by search().
                  // Please remove those attributes that should not be searched.
                  array('id, client_id, title, keywords, status, created_user, created_date, modified_user, modified_date, is_default, is_special_group, back_office_no, special_group_sms_text, text_sms_office, day_delay_1, subscription_sms_1, day_delay_2, subscription_sms_2, day_delay_3, subscription_sms_3, campaign_sms, delay_time_1, delay_time_2, delay_time_3, msg_counter, msg_counter_start_num, add_expiry, add_days, phone_number_id, ar_type, email', 'safe', 'on'=>'search'),
              );
          }

          /**
           * @return array relational rules.
           */
          public function relations()
          {
              // NOTE: you may need to adjust the relation name and the related
              // class name for the relations automatically generated below.
              return array(
                  'client' => array(self::BELONGS_TO, 'ClientInformation', 'client_id'),
              );
          }

          /**
           * @return array customized attribute labels (name=>label)
           */
          public function attributeLabels()
          {
              return array(
                  'id' => 'ID',
                  'client_id' => 'Client',
                  'title' => 'Title',
                  'keywords' => 'Keywords',
                  'status' => 'Status',
                  'created_user' => 'Created User',
                  'created_date' => 'Created Date',
                  'modified_user' => 'Modified User',
                  'modified_date' => 'Modified Date',
                  'is_default' => 'Is Default',
                  'is_special_group' => 'Is Special Group',
                  'back_office_no' => 'Back Office No',
                  'special_group_sms_text' => 'Special Group Sms Text',
                  'text_sms_office' => 'Text Sms Office',
                  'day_delay_1' => 'Day Delay 1',
                  'subscription_sms_1' => 'Subscription Sms 1',
                  'day_delay_2' => 'Day Delay 2',
                  'subscription_sms_2' => 'Subscription Sms 2',
                  'day_delay_3' => 'Day Delay 3',
                  'subscription_sms_3' => 'Subscription Sms 3',
                  'campaign_sms' => 'Campaign Sms',
                  'delay_time_1' => 'Delay Time 1',
                  'delay_time_2' => 'Delay Time 2',
                  'delay_time_3' => 'Delay Time 3',
                  'msg_counter' => 'Msg Counter',
                  'msg_counter_start_num' => 'Msg Counter Start Num',
                  'add_expiry' => 'Add Expiry',
                  'add_days' => 'Add Days',
                  'phone_number_id' => 'Phone Number',
                  'ar_type' => 'Ar Type',
                  'email' => 'Email',
              );
          }

          /**
           * Retrieves a list of models based on the current search/filter conditions.
           * @return CActiveDataProvider the data provider that can return the models based on the search/filter conditions.
           */
          public function search()
          {
              // Warning: Please modify the following code to remove attributes that
              // should not be searched.

              $criteria=new CDbCriteria;

              $criteria->compare('id',$this->id);
              $criteria->compare('client_id',$this->client_id);
              $criteria->compare('title',$this->title,true);
              $criteria->compare('keywords',$this->keywords,true);
              $criteria->compare('status',$this->status);
              $criteria->compare('created_user',$this->created_user);
              $criteria->compare('created_date',$this->created_date,true);
              $criteria->compare('modified_user',$this->modified_user);
              $criteria->compare('modified_date',$this->modified_date,true);
              $criteria->compare('is_default',$this->is_default);
              $criteria->compare('is_special_group',$this->is_special_group);
              $criteria->compare('back_office_no',$this->back_office_no,true);
              $criteria->compare('special_group_sms_text',$this->special_group_sms_text,true);
              $criteria->compare('text_sms_office',$this->text_sms_office,true);
              $criteria->compare('day_delay_1',$this->day_delay_1,true);
              $criteria->compare('subscription_sms_1',$this->subscription_sms_1,true);
              $criteria->compare('day_delay_2',$this->day_delay_2,true);
              $criteria->compare('subscription_sms_2',$this->subscription_sms_2,true);
              $criteria->compare('day_delay_3',$this->day_delay_3,true);
              $criteria->compare('subscription_sms_3',$this->subscription_sms_3,true);
              $criteria->compare('campaign_sms',$this->campaign_sms,true);
              $criteria->compare('delay_time_1',$this->delay_time_1,true);
              $criteria->compare('delay_time_2',$this->delay_time_2,true);
              $criteria->compare('delay_time_3',$this->delay_time_3,true);
              $criteria->compare('msg_counter',$this->msg_counter);
              $criteria->compare('msg_counter_start_num',$this->msg_counter_start_num);
              $criteria->compare('add_expiry',$this->add_expiry);
              $criteria->compare('add_days',$this->add_days);
              $criteria->compare('phone_number_id',$this->phone_number_id);
              $criteria->compare('ar_type',$this->ar_type);
              $criteria->compare('email',$this->email,true);

              return new CActiveDataProvider($this, array(
                  'criteria'=>$criteria,
              ));
          }
      } 
```

当前的 cgrid 视图正在从两个模型（assignemnt 和subscriber）访问数据，而不是从组访问数据。并且它给出了试图获取非对象属性的错误

C:\wamp\www\yii\framework\base\CComponent.php(607) : eval()'d code(1) ..so 请检查 2 和 3 模型？需要紧急帮助。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T08:03:23.817

从表 A 的管理视图中，您应该能够通过在列定义中像这样列出它们来访问其他值：

```
'columns'=>array(
    array('name'=>'column heading 1','value'=>'$data->modelB_nameinA->col_name1'),
    array('name'=>'column heading 2','value'=>'$data->modelB_nameinA->C->col_name2'), 
```

要过滤这些值，您需要能够在 modelA->search() 函数中访问它们。我发现的最简单的方法是在 A 中为要从 B 和 C 显示的每个 col_name 显式设置一个公共值。您还需要将它们包含在 modelA->rules() 和 for modelA->attributeLabels() 也很简单。您可能还必须在 A 的关系中包含 C，因此 modelA 类看起来像这样：

```
 class A extends CActiveRecord
{

    /**
     * @return array validation rules for model attributes.
     */
    public function rules()
    {
        // NOTE: you should only define rules for those attributes that
        // will receive user inputs.
        return array(
            ...
            // Please remove those attributes that should not be searched.
            array('Col1_fromA, Col2_fromA, Col1_fromB, Col1_fromC', 'safe', 'on'=>'search'),
        );
    }

    /**
    * Put here the names of the columns from B and C that you are wanting to filter on
    */
    public $Col1_fromB;
    public $Col1_fromC;

    /**
     * @return array relational rules.
     */
    public function relations()
    {
        // NOTE: you may need to adjust the relation name and the related
        // class name for the relations automatically generated below.
        return array(
            'modelB_nameinA'   => array(self::HAS_MANY,   'B',    'B_id'),
            'modelC_nameinA'    => array(self::HAS_MANY, 'C', array('C_id'=>'id'),'through'=>'B'),
        );
    }

    /**
     * @return array customized attribute labels (name=>label)
     */
    public function attributeLabels()
    {
        return array(
            'Col1_fromA' => 'Fancy name for Col1_fromA',
            'Col2_fromA' => 'Fancy name for Col2_fromA',
            'Col1_fromB' => 'Fancy name for Col1_fromB',
            'Col1_fromC' => 'Fancy name for Col1_fromC',
        );
    }

    /**
     * Retrieves a list of models based on the current search/filter conditions.
     * @return CActiveDataProvider the data provider that can return the models based on the search/filter conditions.
     */
    public function search()
    {
        // Warning: Please modify the following code to remove attributes that
        // should not be searched.

        $criteria=new CDbCriteria;
        // this is so those two tables are included in the SQL generated:
        $criteria->with = array( 'B', 'C' ); 
        $criteria->together=true;

        $criteria->compare('Col1_fromA',$this->Col1_fromA,true);
        $criteria->compare('Col2_fromA',$this->Col2_fromA,true);
        $criteria->compare('modelB_nameinA.Col1', $this->Col1_fromB,true);
        $criteria->compare('modelC_nameinA.Col1', $this->Col1_fromC,true);

        return new CActiveDataProvider($this, array(
            'criteria'=>$criteria,
        ));
    }
    ... 
```

这样做的一个好处是，您现在可以使用 Col1_fromB 和 Col1_fromC 作为 cgridview 中列定义中的名称值，并且您将获得在 modelA 定义中输入的花哨名称作为列标题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-27T10:14:40.490

在数据库中创建一个视图并在连接操作之后放置所有需要的列，然后制作模型。我总是用这个

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T08:25:43.007

您需要在表 A 和 B 中定义关系才能从表 A 中获取模型 C。
表 A 关系：

```
public function relations() {
    return array(
        'tableB'=>array(self::HAS_ONE, 'TableB', 'tablea_id'),
    );
} 
```

表 B 关系：

```
public function relations() {
    return array(
        'tableC'=>array(self::HAS_ONE, 'TableC', 'tableb_id'),
    );
} 
```

因此，您可以访问与您的 tableA 相关的 tableB 和 tableC 模型：

```
$modelB = $tableA->tableB;
$modelC = $tableA->tableB->tableC; 
```

您可以[在此处](http://www.yiiframework.com/doc/guide/1.1/en/database.arr)阅读有关关系活动记录的信息。

在您的控制器操作中获取模型：

```
public function actionGrid() {
    $model = new ModelA('search');
    $model->unsetAttributes();          
    $this->render('view', array('model'=>$model));
} 
```

并使用 CGridView 查看代码：

```
$this->widget('zii.widgets.grid.CGridView', array(
    'id' => 'grid',
    'dataProvider'=>$model->search(),
    'filter' => $model,
    'ajaxUpdate'=>false,
    'selectableRows'=>'10',
    'columns'=>array(
            array(
                    'id'=>'checkBoxId',
                    'class'=>'CCheckBoxColumn',
            ),
            array(
                'class'=>'CDataColumn',
                'name'=>'modelA_attrib1',
                'value'=>'$data->attrib1',
                'sortable'=>true,
                'filter'=>true,
            ),
            array(
                'class'=>'CDataColumn',
                'name'=>'modelB_attrib1',
                'value'=>'$data->modelB->attrib1',
                'sortable'=>true,
                'filter'=>true,
            ),
            array(
                'class'=>'CDataColumn',
                'name'=>'modelC_attrib1',
                'value'=>'$data->modelB->modelC->attrib1',
                'sortable'=>true,
                'filter'=>true,
            ),
 ... 
```

**更新：**
如果我正确理解，您的`users_phone_numbers`和`client_groups`表中有 MANY_TO_MANY 关系（组可能与许多电话号码相关，而数字指的是许多组）。所以`phone_number_group_assignment`（通常称为`phone_number_group`）必须包含两个主键：

```
 * @property integer $phone_number_id
     * @property integer $group_id 
```

和 的关系`subscriber`：

```
public function relations()
{
    return array(
        'groups' => array(self::MANY_MANY, 'Groups', 'phone_number_group_assignment(phone_number_id, group_id)'),
    );
} 
```

关系`groups`：

```
 public function relations()
    {
        return array(
            'phone_numbers' => array(self::MANY_MANY, 'Subscriber', 'phone_number_group_assignment(group_id, phone_number_id)'),
        );
    } 
```

因此，您可以从订阅者访问组：`$subscriber->groups`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-04T13:53:10.997

正如@user181452 所说，创建一个视图，然后生成一个模型。其他方式是在您的目标模型中，将每个新属性与模型中的公共变量绑定

```
class NewModel {
   public $new_attribute;
} 
```

然后您将能够从视图中访问它。你必须为你的项目选择最干净的方式，因为如果你有一个复杂的 JOIN，创建一个视图会更好。

# windows-8 - 嵌套的 Dll 可以只使用一个引用吗

> ID：13411229
> 
> 赞同：0
> 
> 时间：2012-11-16T05:51:48.230
> 
> 标签：windows-8, microsoft-metro, winrt-xaml

![使用的设计](../Images/d059f73f20730b1ac4cb5674225587f3.png) 在上面的设计中有一个问题，我需要在我的示例应用程序中添加对 (1)DLL 的引用以获取用户控件，有没有办法将 dll(1) 嵌入到 dll(2) 中，以便我只需要在我的应用程序中添加对 DLL2 的引用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T09:38:59.260

如果创建组件 DLL 项目 (DLL2) 并引用 DLL1，它将被复制到引用此 WinRT 组件的项目中，而无需显式引用 DLL1。

那是你想要达到的吗？

# python - 有没有办法在python中找到“in”关键字匹配的索引

> ID：13411236
> 
> 赞同：1
> 
> 时间：2012-11-16T05:52:16.387
> 
> 标签：python

这篇文章的标题可能很模糊。这是我需要知道的

如果我使用类似的东西

```
if x in list 
```

如何在发生匹配的列表中找到索引？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T05:54:03.603

你不能从`in`它本身得到它。对于列表，您可以使用以下`index`方法：

```
>>> [1, 2, 5, 8, -1, 2].index(2)
1 
```

如果该项目不在列表中，这将引发异常。请注意，它返回第*一次*出现的索引。它可能会发生多次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T05:54:45.057

你不能。

最好`list_.index(x)`用于这个用例。

如果您的序列中有零次或多次匹配，您应该更喜欢使用`enumerate`：

```
>>> list_ = ['foo', 'bar', 'spam', 'foo', 'eggs']
>>> idxs = [i for i,x in enumerate(list_) if x == 'foo']
>>> print idxs
[0, 3] 
```

# c# - 存储临时数据的最有效方法是什么

> ID：13411238
> 
> 赞同：3
> 
> 时间：2012-11-16T05:52:39.503
> 
> 标签：c#, asp.net, asp.net-mvc

我的问题是，

我想在用户登录后存储一些数据。需要保留它直到用户注销。讨论了许多解决方案，例如 xml 文件、会话、cookie....

有没有更好的方法来实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T05:56:30.903

HTTP 会话是要走的路。

在本地文件系统上存储数据是不可扩展的。随着您添加更多的网络服务器，确保您的客户一次又一次地访问同一台服务器将变得更加困难。ASP 和 IIS 已经通过会话解决了这个问题。

会话通常在 cookie 之上实现，出于安全原因，您可能应该坚持使用 Session 而不是手动滚动您自己的 cookie。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T05:56:03.690

如果您想在用户退出系统后删除数据，那么一种好方法是使用会话变量。即，如果您想存储从用户登录到注销的数据。

[**ASP.NET 会话状态使您能够在用户浏览 Web 应用程序中的 ASP.NET 页面时为用户存储和检索值。**](http://msdn.microsoft.com/en-us/library/ms178581%28v=vs.100%29.aspx)

您还可以检查：[**在 ASP.NET 中探索会话**](http://www.codeproject.com/Articles/32545/Exploring-Session-in-ASP-Net)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T05:58:01.053

实际上它是 Sessionvariables 的主要思想，cookie 的好坏取决于您想保留哪些信息，因为更多的安全会话更好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T06:26:55.777

根据我的经验和此链接[Data pasing methods](http://steveorr.net/articles/PassData.aspx)我的最终建议是：

**饼干**：

*   加密[用户 ID]
*   加密[产品 ID]
*   加密[xyzIds..]
*   加密[等..]

**数据库**：

*   按 COOKIE ID 的数据集
*   按 COOKIE ID 的数据表
*   所有其他大块按 COOKIE ID

我的建议还取决于以下统计数据和此链接详细信息[数据分析方法](http://steveorr.net/articles/PassData.aspx)：

![在此处输入图像描述](../Images/13e1bc01bbbf0ba732b1fe1e9e044022.png)

# c# - XML 数字签名验证

> ID：13411240
> 
> 赞同：1
> 
> 时间：2012-11-16T05:52:48.957
> 
> 标签：c#, xml-signature

我收到了一个 XML 文件

```
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
 <Envelope>

   <OrgContent>
   </OrgContent>

   <Signature>
     Y7z1Y+c+u80a9vhUSi`....`
     `......`u80a9vhUSi==
   </Signature>

   <Certificate>
     MIIExjCCA66gAwIBAgIJNv5`.......`
     `.....`66gAwIBAgIJNv5=
   </Certificate>

</Envelope> 
```

我在转换为 byte[] 数组后传递`<signature>`给签名数据、`<certificate>`值到 pubkey.. 到以下函数..

```
static bool Verify(byte[] signature, byte[] pubKeyBytes)
{
   RSACryptoServiceProvider RSA = new RSACryptoServiceProvider();
   RSAParameters RSAKeyInfo = RSA.ExportParameters(false);
   RSAKeyInfo.Modulus = pubKeyBytes;
   RSA.ImportParameters(RSAKeyInfo);
   // Hash the data
   SHA1Managed sha1 = new SHA1Managed();
   UnicodeEncoding encoding = new UnicodeEncoding();
   // byte[] data = encoding.GetBytes(text);
   byte[] hash = sha1.ComputeHash(base64Decode());

   // Verify the signature with the hash
   return RSA.VerifyHash(hash, CryptoConfig.MapNameToOID("SHA1"), signature);
} 
```

`base64Decode()`方法返回转换成的原始内容`byte[]`。

我没有收到任何错误，但仍然......`verify()`方法正在返回`false`并且没有验证签名......（签名有效）。谁能告诉这段代码有什么问题..???

# python - 在python中分别“混合”两个列表的简单方法？

> ID：13411248
> 
> 赞同：2
> 
> 时间：2012-11-16T05:54:55.707
> 
> 标签：python, file, list

我有以下问题：

我需要在python中分别“混合”两个列表......

我有这个：

```
names = open('contactos.txt')
numbers = open('numeros.txt')
names1 = []
numbers1= []
for line in numbers:
    numberdata = line.strip()
    numbers1.append(numberdata)
print numbers1

for line in names:  
    data = line.strip()
    names1.append(data)
print names1

names.close()
numbers.close() 
```

这首先打印 300 个数字，然后打印相应的 300 个名称，我需要做的是创建一个新文件 (txt)，在一行中打印名称和数字，用逗号 (,) 分隔，如下所示：

```
Name1,64673635
Name2,63513635
Name3,67867635
Name4,12312635
Name5,78679635
Name6,63457635
Name7,68568635
..... and so on... 
```

我希望你能帮我做到这一点，我已经尝试过使用“for”s，但如果我一次迭代两个列表，我不确定该怎么做，谢谢 :)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T05:57:56.183

利用`zip`：

```
for num, name in zip(numbers, names):
    print('{0}, {1}'.format(num, name)) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T05:58:05.040

`zip`将两个列表组合在一起，让您将它们写入文件：

```
In [1]: l1 = ['one', 'two', 'three']

In [2]: l2 = [1, 2, 3]

In [3]: zip(l1, l2)
Out[3]: [('one', 1), ('two', 2), ('three', 3)] 
```

但是，您可以为自己节省一点时间。在您的代码中，您分别迭代每个文件，从每个文件创建一个列表。您也可以同时遍历两者，一次创建您的列表：

```
results = []
with open('contactos.txt') as c:
    with open('numeros.txt') as n:
       for line in c:
          results.append([line.strip(), n.readline().strip()])

print results 
```

这使用一个`with`语句（上下文管理器），它基本上为您处理文件的关闭。这将遍历`contactos`，从中读取一行`numeros`并将该对附加到列表中。您甚至可以删除列表步骤并在同一循环中直接写入第三个文件：

```
with open('output.txt', 'w') as output:
    with open('contactos.txt', 'r') as c:
        with open('numeros.txt', 'r') as n:
            for line in c:
                output.write('{0}, {1}\n'.format(line.strip(), n.readline().strip())) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-16T05:59:10.293

以这种方式混合两个列表的“pythonic”方式是[zip](http://docs.python.org/2/library/functions.html#zip)函数！

```
names = open('contactos.txt')
numbers = open('numeros.txt')
names1 = []
numbers1= []
for line in numbers:
    numberdata = line.strip()
    numbers1.append(numberdata)

for line in names:  
    data = line.strip()
    names1.append(data)

names.close()
numbers.close()

for name, number in zip(names1, numbers1):
    print '%s, %s' % (name number) 
```

还有其他更好的方法来打印格式化文本（例如 Yuushi 的回答）。我也喜欢使用`with`语句和列表推导，例如

```
with open('contactos.txt') as f:
    names = [line.strip() for line in f]

with open('numeros.txt') as f:
    numbers = [line.strip() for line in f]

for name, number in zip(names, numbers):
    print '%s, %s' % (name, number) 
```

最后，我只想评论一下在没有 zip 功能的情况下如何做到这一点。如果有不同数量的数字和名称，我不确定您要做什么，但是您可以使用这样的`for`循环作为最后一位，以便在单个 for 循环中访问两个列表中的值：

```
for i in range(len(numbers)):
    print '%s, %s' % (names[i], numbers[i]) 
```

如果名称多于数字，则此代码尤其会引发异常，因此您可能需要添加一些代码来处理它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T08:36:16.370

全部一起：

```
import itertools

with open('contactos.txt') as names, open('numeros.txt') as numbers:
    for num, name in itertools.izip(numbers, names):
        print '%s, %s' % (num.strip(), name.strip()) 
```

这会并行读取两个文件，而不是一次将每个文件完全读取到内存中。

# php - 转换PDF的最佳方法是什么？是服务器端还是客户端？

> ID：13411252
> 
> 赞同：-2
> 
> 时间：2012-11-16T05:55:12.030
> 
> 标签：php, objective-c, ios, webserver, client

我在服务器端使用 PHP，在客户端使用 Objective C。我有一个带有表格视图的 iPhone 应用程序，需要将其转换为 PDF。

你会建议什么，服务器端还是客户端？

例子总是好的。
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:31:35.087

您应该考虑有多少客户端将在服务器端同时使用您的应用程序，以及传输数据的时间。如果可能的话，我建议在客户端转换为 pdf。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T05:58:33.813

您可以将数据传输到 PHP 并让它使用 html2pdf 生成您的表格。它有 css 支持，所以我推荐它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T15:46:54.217

绝对在您的客户端设备上创建 PDF 文件：

[iOS 绘图和打印指南](http://developer.apple.com/library/ios/#documentation/2ddrawing/conceptual/drawingprintingios/GeneratingPDF/GeneratingPDF.html)

# editor - 什么是具有直观 GUI/功能的强大、轻量级的文本编辑器？

> ID：13411253
> 
> 赞同：-2
> 
> 时间：2012-11-16T05:55:33.027
> 
> 标签：editor

迄今为止，在我的编程生涯中，我一直在使用 gedit，但我开始觉得它不够强大。

但是，我发现 EMACS 和 VIM 太烦人了，因为大量不直观的键盘快捷键，以及无法执行简单的操作，例如单击和拖动以选择内容、ctrl+c、ctrl+v 等。此外，任何编辑器不同的模式对我来说真的很烦人。

另一方面，gedit 缺少许多 VIM 和 EMACS 似乎能够做到的强大功能。我见过我的同事做一些事情，比如弹出一个包含要打开的某个正则表达式的所有文件的列表，或者一次编译和执行选定的代码块。

我已经安装了所有我能找到的 gedit 插件，但是很难将它们定制到我想要的程度，而且其中很多都很糟糕。例如，用于快速打开的 ctrl-alt-o 似乎只是提供了最近打开文件的简短列表。而且集成的命令行插件非常糟糕。自动完成插件很不错，但是如果它可以像 ipython 那样向我显示对象的所有可用方法的列表会更好。

是否有一个编辑器功能或多或少像普通文本编辑器，但具有可定制性和您从 VIM/EMACS 获得的支持？或者是否有一个用于 VIM/EMACS 的构建，感觉就像一个普通的编辑器，没有所有令人困惑的模式或需要键盘快捷键的百科全书知识？

我主要使用 python、coffeescript、java 进行编程，并且即将开始大量使用 C++，而且我偶尔会用其他语言做事，所以跨多种语言的功能是必须的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-12T12:46:43.650

我真的建议花时间学习 Vim 之类的东西。你可能会发现它比你想象的要容易。

Cream 是修改后的 Vim 版本，具有更简单的用户界面。 [http://cream.sourceforge.net/](http://cream.sourceforge.net/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:38:40.963

我的一位同事喜欢 Geany，他将它用于 C 和 Javascript 开发。我什么都不知道，只是它比 Gedit 更强大，但没有与 VIM/EMACS 相同的感觉。

您也可以`behave mswin`在 VIM 中尝试：[https](https://superuser.com/questions/10588/how-to-make-cut-copy-paste-in-gvim-on-ubuntu-work-with-ctrlx-ctrlc-ctrlv) ://superuser.com/questions/10588/how-to-make-cut-copy-paste-in-gvim-on-ubuntu-work-with-ctrlx-ctrlc-ctrlv 。我不喜欢，但另一个同事喜欢。它改变了 VIM 的整体感觉，这可能是你想要的。

我只是建议选择一个更强大的编辑器并习惯它。VIM/EMACS 是很好的编辑器，但试图让它们的行为与设计不同可能会导致问题（尤其是在寻求帮助时）。

# objective-c - 在Objective-C中对两个具有不同键值对象的数组进行排序和合并再排序

> ID：13411254
> 
> 赞同：1
> 
> 时间：2012-11-16T05:55:36.277
> 
> 标签：objective-c, ios, sorting, merge, nsarray

我对排序和合并问题之一感到困惑。让我描述我的问题如下。

第 1 步。我有一个数组。我只是在写一个数组的控制台日志来了解它的结构。

```
(
    {
        id_ = 1,
        name_ = "some xyz name",
        date_ = "2012/01/24 05:25:30 AM"
    },
    {
        id_ = 2,
        name_ = "some ABC name",
        date_ = "2012/01/25 06:25:30 AM"
    },
    {
        id_ = 1,
        name_ = "some PQR name",
        date_ = "2012/01/22 04:30:30 AM"
    },
) 
```

第 2 步。因此，为了对上述数组进行排序，我放置了以下代码。

```
NSArray *myArray = // someHow I get those values listed above.
NSSortDescriptor *sortD1=[[NSSortDescriptor alloc] initWithKey:@"date_" ascending:YES];
myArray = [myArray sortedArrayUsingDescriptors:[NSArray arrayWithObject:sortD1]]; 
```

第 3 步。现在我有了完整的排序数组。

第 4 步。我有类似的另一个数组。

```
(
    {
        obj_id_ = 11,
        obj_date_ = "2012/01/24 05:25:30 AM"
    },
    {
        obj_id_ = 21,
        obj_date_ = "2012/01/23 05:25:30 AM"
    },
    {
        obj_id_ = 17,
        obj_date_ = "2012/01/21 05:25:30 AM"
    },
) 
```

第 5 步。因此，为了对上述数组进行排序，我放置了以下代码。

```
NSArray *myArray2 = // someHow I get those values listed above.
NSSortDescriptor *sortD2=[[NSSortDescriptor alloc] initWithKey:@"obj_date_" ascending:YES];
myArray2 = [myArray2 sortedArrayUsingDescriptors:[NSArray arrayWithObject:sortD2]]; 
```

第 6 步。现在我必须合并两个数组，但它应该根据日期进行排序。

```
(
    {
        obj_id_ = 17,
        obj_date_ = "2012/01/21 05:25:30 AM"
    },
    {
        id_ = 1,
        name_ = "some PQR name",
        date_ = "2012/01/22 04:30:30 AM"
    },
    {
        obj_id_ = 21,
        obj_date_ = "2012/01/23 05:25:30 AM"
    },
    {
        id_ = 1,
        name_ = "some xyz name",
        date_ = "2012/01/24 05:25:30 AM"
    },
    {
        obj_id_ = 11,
        obj_date_ = "2012/01/24 05:25:30 AM"
    },
    {
        id_ = 2,
        name_ = "some ABC name",
        date_ = "2012/01/25 06:25:30 AM"
    }
) 
```

我想要的预期输出如上。只是我不知道合并两个具有不同键值的不同数组的逻辑。我正在尝试为此建立一个逻辑，但它返回一个空数组并且它是错误的。所以，我不在这里发布它。

注意：如果这个问题是重复的，在否决之前，请通过评论通知我。我将删除它并感谢必要的链接和支持。:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:18:42.810

首先，我将定义一个函数，该函数根据传递的对象返回日期：

```
- (NSDate *)dateForObject:(id obj) {
    if ([obj class] == [MyClass1 class]) {
        return ((MyClass1) obj).date_;
    }
    else {
        return ((MyClass2) obj).obj_date_;
    } 
} 
```

然后我会使用块进行排序：

```
NSArray *sortedArray;
sortedArray = [mergedArray sortedArrayUsingComparator:^NSComparisonResult(id a, id b) {
    NSDate *aDate = [self dateForObject:a];
    NSDate *bDate = [self dateForObject:b];        
    return [aDate compare:bDate];
}]; 
```

# jsf-2 - 等效标记为 在 JSF 2.0 莫哈拉

> ID：13411260
> 
> 赞同：0
> 
> 时间：2012-11-16T05:56:09.763
> 
> 标签：jsf-2

trinidad 中有一个标签`<tr:goButton>`，其描述如下：

> 创建一个直接导航到另一个位置而不是传递操作的`goButton`按钮。它可以用来代替不需要服务器端操作的 commandButton。

我们在 JSF 2.0 Mojarra 中有类似的吗？如果没有，我们该如何实现呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T11:18:41.907

[`<h:button>`](http://download.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/h/button.html)正是这样做的。

```
<h:button value="Go to next page" outcome="nextpage" /> 
```

`nextpage`（隐式）导航结果在哪里。在这种情况下，它需要一个`nextpage.xhtml`.

有关所有可用 JSF 2 标记的概述，请参阅[VDL 文档](http://download.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/)。

### 也可以看看：

*   [h:button 和 h:commandButton 之间的区别](https://stackoverflow.com/questions/13070537/difference-between-hbutton-and-hcommandbutton)
*   [JSF2 中的通信 - 隐式导航](http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ImplicitNavigation)

* * *

**与具体问题无关**，“Mojarra”是 Oracle 的参考 JSF 2.0 实现。因此，明确询问“JSF 2.0 Mojarra”中是否有标签有点奇怪。询问“JSF 2.0”中是否有标签就足够了。每个符合 JSF 2.0 的实现都应该具有完全相同的一组标签/组件。MyFaces 是另一个，它也只有一个`<h:button>`.

### 也可以看看：

*   [JSF 实现和组件库](https://stackoverflow.com/questions/2167509/jsf-implementations-and-component-libraries)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T05:59:05.593

要创建一个简单的`<a href=""></a>`标签，您可以使用`<h:outputLink />`.

# jquery - 使用 jQuery 隐藏日期选择器

> ID：13411261
> 
> 赞同：4
> 
> 时间：2012-11-16T05:56:10.823
> 
> 标签：jquery, struts2, jquery-ui-datepicker, struts2-jquery, struts2-jquery-plugin

我正在使用 struts2 jquery 插件的 datepicker 如下

```
<sj:datepicker id="frdate" name="training.fromDate" 
            label="From Date (dd-mm-yyyy)" maxDate="0" /> 
```

我想在某些代码上隐藏它。我写了一个这样的 jquery。

```
$("#frdate").hide();    //this will hide textbox of datepicker
$("label[for='frdate']").hide();    // this will hide label of datepicker 
```

但是日期选择器按钮仍然显示？如何使用 jquery 隐藏它？

```
The generated html code is:
<tr>
<td class="tdLabel">
    <label for="frdate" class="label">From Date (dd-mm-yyyy):</label></td>
<td><input type="text" name="training.fromDate" value="" id="frdate"/></td>
</tr>

<script type='text/javascript'>
jQuery(document).ready(function () {
jQuery.struts2_jquery_ui.initDatepicker(false);
});
jQuery(document).ready(function () {
var options_frdate = {};
options_frdate.showOn = "both";
options_frdate.buttonImage = "/ONLINE/struts/js/calendar.gif";
options_frdate.maxDate = "0";
options_frdate.jqueryaction = "datepicker";
options_frdate.id = "frdate";
options_frdate.name = "training.fromDate";
     jQuery.struts2_jquery_ui.bind(jQuery('#frdate'),options_frdate);
 });
</script> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-16T10:54:13.907

要隐藏日期选择器，您需要

*   从输入文本字段中销毁日期选择器功能
*   隐藏输入文本字段

要显示日期选择器，您需要

*   显示输入文本字段
*   添加日期选择器功能

这是演示：http: [//jsfiddle.net/ezKwN/](http://jsfiddle.net/ezKwN/)

```
function hideIt(){
    $( "#frdate" ).datepicker( "destroy" );
    $( "#frdate" ).hide();
}

function showIt(){
    $( "#frdate" ).show();
    $( "#frdate" ).datepicker();
} 
```

我不知道这是否也适用于 Struts2 jQuery datepicker，但我希望如此。

但是考虑到使用该标签，您正在将该功能硬编码到页面，它不应该是动态的，然后（如果上述解决方案不起作用），如果您需要根据用户交互显示/隐藏它，您应该考虑使用原生 jQuery 日期选择器而不是 Struts2 之一（仅适用于动态日期选择器）

编辑：作为另一种选择（与使用原生 jQuery 重新编码所有日期选择器相比影响更小），您可以简单地将标签封装在 a`<div>`中，并隐藏/显示 div。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-20T10:57:03.223

```
function hideIt(){
  $("#frdate").hide();
  $("label[for='frdate']").hide();
  $("#frdate").datepicker("destroy" );
 }

function showIt(){
  $("#frdate").show();
  $("label[for='frdate']").show();
  $("#frdate").datepicker({
   showOn : "both",
   buttonImage : "/path/struts/js/calendar.gif",
   maxDate : "0",
   jqueryaction : "datepicker",
   id : "frdate",
   name : "training.fromDate"
   });
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-10T17:43:45.017

您可以使用以下两种方法之一隐藏 jquery datepicker：

*   完全删除它：`$('input[type=text]#yourInput').datepicker("destroy");`
*   隐藏它：`$('input[type=text]#yourInput').datepicker("hide");`
    *   隐藏它可能会更好，因此您不必使用所需的所有参数重新初始化它。

如果需要，您还可以隐藏输入：-`$('input[type=text]#yourInput').hide();`

# esper - esper 控制事件计数

> ID：13411265
> 
> 赞同：0
> 
> 时间：2012-11-16T05:56:22.083
> 
> 标签：esper, complex-event-processing

我使用 esper 加入流如下：
![在此处输入图像描述](../Images/bd2508e0e0b2e0f4340ceece2240666b.png)
现在考虑一个场景：
1\. 两笔交易进入系统
2\. 价格到达

在这种情况下，分组流将生成两个输出，每个输出用于一笔交易。这也会从最终输出中触发两个事件。随着事件数量的增加，输出事件的数量也将增加。
现在，如果将
Id - 03
Symbol - GOOG
Quantity - 300

的交易输入到系统中，它还将触发 3 个新事件，因为每个 Id 的 %ageMV 也会发生变化。随着事件数量的增加，在 UI 上处理变得困难。

所以我的问题是 -
**有没有标准的方法来做到这一点？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:25:51.317

您需要查看单向连接和子查询。

# android - 如何在android中的屏幕触摸上打开菜单

> ID：13411271
> 
> 赞同：-1
> 
> 时间：2012-11-16T05:57:29.053
> 
> 标签：android, menu, touch-event, popupmenu

我正在开发与图像相关的应用程序。所有图像均来自 Web 服务并在全屏 ImageView 上显示。当用户触摸任何图像（ImageView）时。底部栏应自动显示 3 到 4 秒。底部栏也包含“保存”按钮 3 到 4 秒后，它应该会自动隐藏。请帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:08:47.707

您可以在图像的 onClick 事件中创建 QuickAction。

这是一个链接：[http ://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/](http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/)

您还可以使用[Timer](http://developer.android.com/reference/java/util/Timer.html)类在 3 秒后关闭 QuickAction。

# excel - 如何在数据之间的Excel中一次粘贴多次

> ID：13411272
> 
> 赞同：2
> 
> 时间：2012-11-16T05:57:54.097
> 
> 标签：excel, vba, copy-paste

说我有这样的数据

```
 A   B   C
1 Jim 1 10    
2 Jim 2 20
3 Jim 3 30
4 Tom 1 20
5 
6 
7 Jos 1 15
8
9 
```

我想要的是复制第 2 行和第 3 行，然后粘贴到第 5 行和第 6 行，然后粘贴到第 8 行和第 9 行，依此类推。空白行始终为 2。

单元格 2C 和 3C 中有一个公式计算列 B 中的值乘以单元格 C1。

所以，结果会是这样的

```
 A   B   C
1 Jim 1 10    
2 Jim 2 20
3 Jim 3 30
4 Tom 1 20
5 Tom 2 40 
6 Tom 3 60
7 Jos 1 15
8 Jos 2 30
9 Jos 3 45 
```

问题是我必须粘贴数百次，这很耗时。

如果有人可以提供帮助，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T08:34:48.823

```
Sub MakeRows()
    Dim Sh As Worksheet, DataRng As Range, CopyRng As Range, TargetRng As Range

    Set Sh = Sheets(1) 'select your sheet here
                       'you can also do it like this = Worksheets("name")

    Set DataRng = Sh.Range("B2")
    Set TargetRng = Sh.Range("A4")

    While IsEmpty(TargetRng) = False
       TargetRng.Copy TargetRng.Offset(1, 0)
       TargetRng.Copy TargetRng.Offset(2, 0)

       Set CopyRng = Sh.Range(DataRng, DataRng.Offset(1, 1))
       CopyRng.Copy TargetRng.Offset(1, 1)

       Set TargetRng = TargetRng.Offset(3, 0)
       Set DataRng = DataRng.Offset(3, 0)
    Wend
End Sub 
```

适用于单元格 2C 和 3C 中的相对引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T10:46:16.643

铭记于心：

*   您需要确保 A1 列中有一个值，否则只需将值`i`增加到带有数据的第二行。

*   `Var`是一个虚拟变量，用于在出现新名称时进行跟踪。

*   `firstValue`将包含每个名称第一行的行号。

**代码**

```
Sub test()

Var = 0
LastRow = Cells(Rows.Count, "A").End(xlUp).Row + 2

For i = 2 To LastRow
    If Range("A" & i).Value = "" Then
        If Var = 0 Then
            firstValue = i - 1
            Range("A" & i).Value = Range("A" & i - 1).Value
            Range("B" & i).Value = Range("B" & i - 1).Value + 1
            Range("C" & i).Value = Range("C" & firstValue).Value + Range("C" & i - 1).Value
            Var = Var + 1
        Else
            Range("A" & i).Value = Range("A" & i - 1).Value
            Range("B" & i).Value = Range("B" & i - 1).Value + 1
            Range("C" & i).Value = Range("C" & firstValue).Value + Range("C" & i - 1).Value
            Var = Var + 1
        End If
    Else
        Var = 0
    End If
Next i

End Sub 
```

# android - （Android）如何更改子活动中的当前选项卡？

> ID：13411282
> 
> 赞同：0
> 
> 时间：2012-11-16T05:58:30.793
> 
> 标签：android, tabs, android-tabhost

作为标题，我正在编写一个有四个 4 个选项卡的应用程序
如何在 tab(SatrtActivity) 中使用 tabHost.setCurrentTab(3) 转到 tab(3)？

例如：如何将 tabHost 声明为静态？或其他方式:)

这是我的代码：

```
public class MainActivity extends TabActivity {

    public static TabHost tabHost; 

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Resources res = getResources();
        tabHost = getTabHost();
        TabHost.TabSpec spec;
        Intent intent;
        intent = new Intent().setClass(this, StartActivity.class);
        spec = tabHost.newTabSpec("tab1").setIndicator("Start",res.getDrawable(R.drawable.start))
                      .setContent(intent);
        tabHost.addTab(spec);

        intent = new Intent().setClass(this, WeatherActivity.class);
        spec = tabHost.newTabSpec("tab2").setIndicator("Weather",res.getDrawable(R.drawable.weather))
                      .setContent(intent);
        tabHost.addTab(spec);

        intent = new Intent().setClass(this, TrafficActivity.class);
        spec = tabHost.newTabSpec("tab3").setIndicator("Traffic",res.getDrawable(R.drawable.traffic))
                      .setContent(intent);
        tabHost.addTab(spec);

        intent = new Intent().setClass(this, NewsActivity.class);
        spec = tabHost.newTabSpec("tab4").setIndicator("News",res.getDrawable(R.drawable.price))
                      .setContent(intent);
        tabHost.addTab(spec);
        tabHost.setCurrentTab(0);

    }
}

public class StartActivity extends Activity{

    TextView tempNum, cn1, cn2, cn3, ln1, ln2, ln3;
    final Handler myHandler = new Handler();

    @Override
    public void onCreate( Bundle savedInstanceState )
    {
        super.onCreate( savedInstanceState );
        setContentView(R.layout.start);
        tempNum = (TextView) findViewById(R.id.temp);
        cn1 = (TextView) findViewById(R.id.zone1News1);
        cn2 = (TextView) findViewById(R.id.zone1News2);
        cn3 = (TextView) findViewById(R.id.zone1News3);
        ln1 = (TextView) findViewById(R.id.zone2News1);
        ln2 = (TextView) findViewById(R.id.zone2News2);
        ln3 = (TextView) findViewById(R.id.zone2News3);
        Timer myTimer = new Timer();

        myTimer.schedule(new TimerTask() {
            @Override
            public void run() {updateInfo();}
         }, 20000, 5000);

    }

    private void updateInfo() {
        myHandler.post(myRunnable);
     }

     final Runnable myRunnable = new Runnable() {
        public void run() {

            try{
                URL url = new URL("http://xml.weather.yahoo.com/forecastrss?p=TWXX0025&u=c");
                SAXParserFactory spf = SAXParserFactory.newInstance();
                SAXParser sp = spf.newSAXParser();
                XMLReader xr = sp.getXMLReader();
                WeatherHandler weatherHandler = new WeatherHandler();
                CentralNewsOneHandler centralNewsOneHandler = new CentralNewsOneHandler();
                CentralNewsTwoHandler centralNewsTwoHandler = new CentralNewsTwoHandler();
                CentralNewsThreeHandler centralNewsThreeHandler = new CentralNewsThreeHandler();
                xr.setContentHandler(weatherHandler);
                xr.parse(new InputSource(url.openStream()));
                WeatherParsedDataSet weatherParsedDataSet = weatherHandler.getParsedData();
                tempNum.setText(weatherParsedDataSet.toString());

            }catch (Exception e) {              
                e.printStackTrace();           
            }
        }
     };

     public void setToNewsTab(View view)
     {
         tabHost.setCurrentTab(3);
         //Here is the method that I wanna set to tab(3)
     }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:18:53.343

```
// get the parent activity
TabActivity parent = (TabActivity) getParent();

// get the tab host
TabHost tabhost    = parent.getTabHost();

// set the new tab
tabhost.setCurrentTab(3); 
```

我想你误解了`static`这里的用法。静态用于使成员在类的所有实例中通用。它不提供任何内在的访问优势。

# android - 在 Fragment 中单击 GridView 时显示 ProgressDialog

> ID：13411284
> 
> 赞同：0
> 
> 时间：2012-11-16T05:58:37.290
> 
> 标签：android, android-asynctask, progressdialog

当用户单击片段中的网格视图时，我想显示 ProgressDialog。ProgressDialog 必须显示直到下一个活动加载。我有很多次谷歌，也有很多次，但不能像我的问题一样解决。直到我的工作是，

我的片段类：

```
@TargetApi(11)
public void onActivityCreated(Bundle savedInstanceState)
{
    super.onActivityCreated(savedInstanceState);
    gridView.setAdapter(new ImageAdapterTwo(Constant.getContext(),countries1));
    gridView.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView<?> parent, View v,
            int position, long id) {
        System.out.print("gridView.getId();=="+gridView.getId()) ;
        if(v==null)
        {
            System.out.print("gridView.getId();=="+gridView.getId()) ;
        }
        else
        {
            TextView t=(TextView) v.findViewById(R.id.grid_item_text);
            if(t==null)
            {
                System.out.print("gridView.getId();==") ;
            }
            else
            {
                if(t.getText()=="")
                {
                    new Task().execute();
                }
                else if(t.getText()=="")
                {
                    Intent i2 = new Intent(Constant.getContext(), ServerBackup.class);  
                    startActivity(i2);
                }
                else if(t.getText()=="")
                {
                    Intent i2 = new Intent(Constant.getContext(), ServerBackup.class);  
                    startActivity(i2);
                }
                else
                {
                    Intent i2 = new Intent(Constant.getContext(), ViewPagerFragmentActivity.class);  
                    startActivity(i2);
                }
            }
        }
    }
});
} 
```

任务.java：

```
package com.net.elderlyhealth.weather;

import android.content.Context;
import android.content.Intent;
import android.os.AsyncTask;
import android.util.Log;

import com.net.elderlyhealth.weather.AsyncClass;

public class Task extends AsyncTask<Void, Void, String>
{
    Context context;
    AsyncClass asyncclass=new AsyncClass();
    //context=Constant.getContext();
    public Task(Context context)
    {
        //this.context=context;
        //Log.d("context",context.toString());
    }
    @Override
    protected void onPreExecute()
    {
        asyncclass.showLoadingProgressDialog();
    }

    @Override
    protected String doInBackground(Void... params)
    {
        Intent intent=new Intent(context,ActivityWeatherSetting.class);
        context.startActivity(intent);
        return null;
    }

    @Override
    protected void onPostExecute(String params)
    {
        asyncclass.dismissProgressDialog();
    }
} 
```

AsyncClass.java：

```
import android.app.Activity;
import android.app.ProgressDialog;

public class AsyncClass extends Activity
{
    protected static final String TAG = AsyncClass.class.getSimpleName();

public ProgressDialog progressDialog;

private boolean destroyed = false;

@Override
protected void onDestroy()
{
    super.onDestroy();
    destroyed = true;
    /*if ( progressDialog!=null && progressDialog.isShowing() ){
        progressDialog.cancel();
    }*/
}

public void showLoadingProgressDialog()
{
    this.showProgressDialog("Loading. Please wait...");
}

public void showProgressDialog(CharSequence message)
{
    if (progressDialog == null)
    {
        progressDialog = new ProgressDialog(this);
        progressDialog.setIndeterminate(true);
    }

    progressDialog.setMessage(message);
    progressDialog.show();
}

public void dismissProgressDialog()
{
    if (progressDialog != null && !destroyed)
    {
        progressDialog.dismiss();
    }
}
} 
```

日志猫：

```
11-16 14:03:31.744: E/AndroidRuntime(2246): FATAL EXCEPTION: main
11-16 14:03:31.744: E/AndroidRuntime(2246): java.lang.NullPointerException
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:132)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:65)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.app.AlertDialog.resolveDialogTheme(AlertDialog.java:142)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.app.AlertDialog.<init>(AlertDialog.java:98)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.app.ProgressDialog.<init>(ProgressDialog.java:77)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at com.net.elderlyhealth.weather.AsyncClass.showProgressDialog(AsyncClass.java:33)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at com.net.elderlyhealth.weather.AsyncClass.showLoadingProgressDialog(AsyncClass.java:26)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at com.net.elderlyhealth.weather.Task.onPreExecute(Task.java:24)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:561)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.os.AsyncTask.execute(AsyncTask.java:511)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at com.net.elderlyhealth.view.SampleGridTwoFragment$1.onItemClick(SampleGridTwoFragment.java:126)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.widget.AdapterView.performItemClick(AdapterView.java:292)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.widget.AbsListView.performItemClick(AbsListView.java:1058)
11-16 14:03:31.744: E/AndroidRuntime(2246):     at android.widget.AbsListView$PerformClick.run(AbsListView.java:2514) 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:28:14.977

```
public void showProgressDialog(CharSequence message)
{
    progressDialog = new ProgressDialog(this);
        if (progressDialog == null)
        {

            progressDialog.setIndeterminate(true);
        }

        progressDialog.setMessage(message);
        progressDialog.show();
    }

    public void dismissProgressDialog()
    {
        if (progressDialog != null && !destroyed)
        {
            progressDialog.dismiss();
        }
    }
    } 
```

> 在您初始化progressdialoge 条件检查之前，它们会给您空指针异常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T08:42:27.650

异步任务的修改代码

```
import android.content.Context;
import android.content.Intent;
import android.os.AsyncTask;
import android.util.Log;

import com.net.elderlyhealth.weather.AsyncClass;

public class Task extends AsyncTask<Void, Void, String>
{
Activity currentActivity;
ProgressDialog dialog;
public Task(Activity activity)
{
currentActivity = activity;
}

@Override
protected void onPreExecute()
{
dialog=ProgressDialog.show(currentActivity, "Title", "Msg");
}

@Override
protected String doInBackground(Void... params)
{
//do your work
}

@Override
protected void onPostExecute(String params)
{
dialog.dismiss();
}
} 
```

调用异步任务

`new Task(getActivity()).execute()`

这应该可以解决您的问题。请记住，您不能只实例化一个扩展活动的类并期望它执行 UI 操作。

# ruby-on-rails-3 - 处理请求时出现意外错误：UTF-8 中的字节序列无效

> ID：13411286
> 
> 赞同：3
> 
> 时间：2012-11-16T05:58:50.803
> 
> 标签：ruby-on-rails-3, image

尝试传递图像时出现此错误：

```
!! Unexpected error while processing request: invalid byte sequence in UTF-8 
```

奇怪的是，加注（如下）没有被执行。

我的问题是：这怎么会导致这个错误？它与标题或参数有什么关系吗？

这里的任何帮助将不胜感激。

```
 def create
    raise "request did get executed in code here"
    debugger
    @asset = nil
    if params && params[:asset]
      p = params[:asset]
      if p[:file]
        user_id = p[:user_id] || current_user.try(:id)
        checksum = p[:checksum] || Util.file_checksum(p[:file].path)
        if user_id.present? && checksum.present?
          options = {:taken_at => p[:taken_at] || Util.file_taken_at(p[:file].path)}
          @asset = Asset.create user_id, checksum, p[:file], p[:file].original_filename, options
        end
      end
    end

    respond_to do |format|
      if @asset && @asset.state != QueueItem::STATE_NONE
        format.html { head :no_content }
        format.json { render :json => @asset, :status => :created }
      else
        format.html { head :no_content }
        format.json { render :json => @asset.try(:errors), :status => :unprocessable_entity }
      end
    end
  end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-05T08:22:39.800

在你的控制器中设置第一行：#encoding: UTF-8

# iphone - 页面卷曲动画的默认持续时间

> ID：13411287
> 
> 赞同：1
> 
> 时间：2012-11-16T05:58:51.887
> 
> 标签：iphone, ios5, xcode4.2

我正在使用 PageviewController 进行翻页，但动画太快了。我想增加动画持续时间？我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T08:19:57.973

[在这里](https://github.com/Dillion/iOS-Flip-Transform)你可以找到一个带有翻页动画和持续时间选项的好项目可能对你有帮助。

# android - 中心 CheckBox 可在其内部绘制

> ID：13411288
> 
> 赞同：48
> 
> 时间：2012-11-16T05:58:55.490
> 
> 标签：android, android-layout, checkbox, drawable, padding

我有一个`CheckBox`我想要在它自己的边界内居中的东西，而不是被推到一边。可能比解释更容易演示：

![在此处输入图像描述](../Images/5fa549a25fd69ceea92d22e9763fe2d3.png)

请注意，它不是居中的。目前定义为：

```
<CheckBox
    android:id="@+id/checkbox_star"
    android:layout_width="wrap_content"
    android:layout_height="match_parent"
    android:button="@drawable/btn_favorite"

    android:layout_gravity="center"
    android:minWidth="48dp" /> 
```

没关系可绘制的自定义按钮。它与香草的行为相同`CheckBox`（小复选框的行为相同）。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-11-16T06:06:32.687

我认为问题在于 Checkbox 小部件使用带有[`drawableLeft`](http://developer.android.com/reference/android/widget/TextView.html#attr_android:drawableLeft)属性的常规 TextView，因为它也希望显示文本。（这就是为什么你看到它垂直居中，但稍微向左偏移。）

如果您只是想要一个具有多种状态的图像按钮，我建议在[状态列表选择器](http://developer.android.com/guide/topics/resources/drawable-resource.html#StateList)中使用带有自定义图像的[ToggleButton](http://developer.android.com/reference/android/widget/ToggleButton.html)。或者您可以创建一个扩展 ImageView 并实现 Checkable 的自定义类。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2020-02-26T14:29:54.253

我正在使用`MaterialCheckBox`from `material-components-android`（或`AppCompatCheckBox`。它们是相似的）。

我发现如果 CheckBox 没有任何文本，设置它`android:minWidth="0dp"`并且`android:minHeight="0dp"`可以删除所有填充并使可绘制对象居中。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2012-11-16T06:14:46.453

您可以使用父布局来实现此目的：

```
<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:gravity="center">

    <CheckBox
        android:id="@+id/checkbox_star"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="Check box text" />
</LinearLayout> 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2019-04-04T14:26:36.930

唯一**合适的**解决方案是在图像中添加插图。大多数具有“前景”的解决方案在 API 23 以下都无法使用。

`btn_favorite_inset.xml`在可绘制目录中

```
<inset xmlns:android="http://schemas.android.com/apk/res/android"
    android:drawable="@drawable/btn_favorite"
    android:insetLeft="6dp"
    android:insetTop="6dp"
    android:insetRight="6dp"
    android:insetBottom="6dp" /> 
```

你的布局文件

```
<CheckBox
    android:id="@+id/checkbox_star"
    android:layout_width="wrap_content"
    android:layout_height="match_parent"
    android:button="@drawable/btn_favorite_inset"
    android:layout_gravity="center"
    android:minWidth="48dp" /> 
```

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2017-08-27T17:32:29.307

```
android:button="@null"
android:foreground="@drawable/btn_favorite" 
android:foregroundGravity="center" 
```

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2016-06-23T08:56:17.377

这个对齐问题可以通过**CheckableImageView**`View`来解决，这是一个直接扩展`ImageView`或`AppCompatImageView`实现的自定义`Checkable`。它还有其他`ImageView`属性。

```
import android.content.Context;
import android.util.AttributeSet;
import android.view.View;
import android.widget.Checkable;
import android.widget.ImageView;

/**
 * @author hendrawd on 6/23/16
 */
public class CheckableImageView extends ImageView implements Checkable {

    public CheckableImageView(Context context) {
        super(context);
    }

    public CheckableImageView(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    private boolean mChecked = false;

    private static final int[] CHECKED_STATE_SET = {android.R.attr.state_checked};

    @Override
    public int[] onCreateDrawableState(final int extraSpace) {
        final int[] drawableState = super.onCreateDrawableState(extraSpace + 1);
        if (isChecked())
            mergeDrawableStates(drawableState, CHECKED_STATE_SET);
        return drawableState;
    }

    @Override
    public void setChecked(boolean checked) {
        if (mChecked != checked) {
            mChecked = checked;
            refreshDrawableState();
        }
    }

    @Override
    public boolean isChecked() {
        return mChecked;
    }

    @Override
    public void toggle() {
        setChecked(!mChecked);
    }

    @Override
    public void setOnClickListener(final OnClickListener l) {
        View.OnClickListener onClickListener = new OnClickListener() {
            @Override
            public void onClick(View v) {
                toggle();
                l.onClick(v);
            }
        };
        super.setOnClickListener(onClickListener);
    }
} 
```

只需在 XML 的 src 属性中设置您的选择器可绘制，并且可绘制的检查状态将自动跟随。

使用示例

```
<your.package.name.CheckableImageView
    android:id="@+id/some_id"
    android:layout_width="48dp"
    android:layout_height="48dp"
    android:src="@drawable/set_your_selector_here"
    android:padding="14dp"
    android:gravity="center" /> 
```

选择器示例（放在带有扩展名的可绘制文件夹中`.xml`）

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@drawable/ic_cb_check" android:state_checked="true" android:state_focused="true" />
    <item android:drawable="@drawable/ic_cb_uncheck" android:state_checked="false" android:state_focused="true" />
    <item android:drawable="@drawable/ic_cb_uncheck" android:state_checked="false" />
    <item android:drawable="@drawable/ic_cb_check" android:state_checked="true" />
</selector> 
```

用您喜欢的图像更改**ic_cb_check**和**ic_cb_uncheck 。**

此代码也可在[https://gist.github.com/hendrawd/661824a721c22b3244667379e9358b5f获得](https://gist.github.com/hendrawd/661824a721c22b3244667379e9358b5f)

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2015-09-10T12:19:42.577

这将根据需要正常工作。只是背景和按钮属性的微小变化。此代码段已成功测试。希望这可以帮助。

```
 <CheckBox
android:id="@+id/checkbox_star"
android:layout_width="wrap_content"
android:layout_height="match_parent"
android:background="@drawable/btn_favorite"
android:button="@color/transparent"
android:layout_gravity="center"
android:minWidth="48dp" /> 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-04-12T11:46:30.097

只需使用以下方法：

```
 <CheckBox
                  android:button="@null"                        
                  android:foreground="@drawable/checkbox_selector"
                  android:foregroundGravity="center"/> 
```

这对我来说很有用。但它只适用于

> targetSdkVersion >= Build.VERSION_CODES.M || 查看 FrameLayout 的实例

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2016-09-15T08:39:22.813

如果您要在 recyclerview 中使用复选框，请不要使用此代码绕过具有 >SDK23 中心对齐的复选框错误。

```
<CheckBox
android:button="@null"
android:drawableLeft="@drawable/checkbox_selector"
android:drawableStart="@drawable/checkbox_selector"
/> 
```

如果 RV （例如：滚动，..），在下次刷新之前不会在 onBindViewHolder 中签入复选框。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-04-24T06:44:25.843

默认情况下，它有 minHeight 和 minWidth。将它们设置为 0dp 会将其对齐到其自身边界内的中心。

```
 <CheckBox
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:minWidth="0dp"
    android:minHeight="0dp" /> 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-04-06T09:15:40.127

设置`android:width`它只显示您的复选框，然后使用`android:layout_gravity="center"`.

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2019-04-02T11:31:18.797

我已经在上面尝试了 j__m 的答案，它有效，但还不够好。

就我而言，我想在 CheckBox 的可绘制对象周围添加填充，以增加触摸区域。而 j__m 的回答让调整 UI 变得很困难。

我认为更好的解决方案是创建一个 inset drawable 来包装您的原始状态 drawable，这应该非常简单并且可以完美地工作。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2019-12-05T11:10:12.043

在您的代码中，您已将复选框的高度设置为 match_parent。将其设置为 wrap_content。这将解决您的问题。为我工作！

问题：

```
<CheckBox
    android:id="@+id/checkbox_star"
    android:layout_width="wrap_content"
    android:layout_height="match_parent"
    android:button="@drawable/btn_favorite"

    android:layout_gravity="center"
    android:minWidth="48dp" /> 
```

解决方案：

```
<CheckBox
    android:id="@+id/checkbox_star"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:button="@drawable/btn_favorite"

    android:layout_gravity="center"
    android:minWidth="48dp" /> 
```

# windows-7 - ubuntu CLI 的 vmware 窗口大小

> ID：13411294
> 
> 赞同：2
> 
> 时间：2012-11-16T05:59:20.230
> 
> 标签：windows-7, vmware, ubuntu-11.04

我想在 ubuntu 中工作时最大化窗口大小（全屏）。我曾尝试在 vmware 中使用全屏选项，但失败了。

vmware 版本 = 3.1.4

guest os = ubuntu 11.04 (CLI) 仅限命令行界面。

主机操作系统 = Windows 7 专业版，32 位，Service Pack 1。

请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T12:43:55.907

我们将不得不编辑 grub 配置。打开终端并粘贴：

1.  `sudo gedit /etc/default/grub` 点击输入。它将在 Gedit 中打开 grub 首选项。

2.  找到线`# GRUB_GFXMODE=800x600`（分辨率可能不同）。

您必须将分辨率更改为屏幕的实际分辨率，例如我的是 1240x1024。下一步是取消注释这一行（如果是，则删除 # 和空格，因此单词 GRUB 的字母 G 将是该行的第一个字母）。完成后，保存文件并关闭。

3\. 现在将此行粘贴到终端中：

```
sudo gedit /etc/grub.d/00_header . 
```

点击输入。它会打开一个包含很多东西的文本文件。使用窗口顶部的搜索选项找到此行：

```
gfxmode=${GRUB_GFXMODE} 
```

成功找到它后，您必须添加这一行：`set gfxpayload=keep`就在`gfxmode=${GRUB_GFXMODE}`. 让它看起来像这样：

```
set gfxmode=${GRUB_GFXMODE}
set gfxpayload=keep 
```

现在，保存文件并关闭。

4\. 在终端粘贴中：

```
sudo update-grub 
```

点击回车，它将生成新`grub.cfg`文件，因此您所做的更改将被保存。

重新启动并享受新的启动屏幕分辨率。

如果你不知道你的屏幕分辨率是多少

转到系统设置 - 显示

从链接 - [https://askubuntu.com/questions/127851/change-boot-screen-resolution](https://askubuntu.com/questions/127851/change-boot-screen-resolution)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-07T21:36:13.277

在您的主机上，开始 -> 搜索 -> “远程桌面连接” -> 单击“远程桌面连接” -> 单击“连接按钮”旁边的“选项” -> 显示选项卡 -> 然后增加显示配置大小。如果这不起作用，请通过关闭远程桌面尝试相同的操作。但这会给你解决方案。

# android - 如何为连续动画图像编写onclick？

> ID：13411299
> 
> 赞同：0
> 
> 时间：2012-11-16T05:59:49.110
> 
> 标签：android, android-animation

我的代码：

```
 moveBottomtoTop = new TranslateAnimation(0, 0, 320, -320);
        moveBottomtoTop.setDuration(1000);
        moveBottomtoTop.setRepeatCount(-1);
        moveBottomtoTop.setFillAfter(false);

        imageView01.startAnimation(moveBottomtoTop);

        imageView01.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                imageView01.setVisibility(View.INVISIBLE);
            }
        }); 
```

我的xml：

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" >

    <LinearLayout android:id="@+id/video_layout"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@null">

    <VideoView
        android:id="@+id/surface_view"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"/>

    </LinearLayout>

    <LinearLayout 
        android:id="@+id/bubbles_layout"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@null"
        android:layout_gravity="bottom">

    <ImageButton
        android:id="@+id/l01"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/pressed01"
        android:padding="1dp"
        android:contentDescription="@string/cont_desc"/>

    </LinearLayout>

</FrameLayout> 
```

![在此处输入图像描述](../Images/022508371e493680cefc57f3e2578c03.png) ![在此处输入图像描述](../Images/47a9bc7d571716dd785239657828a349.png)

但是 onclick 事件不起作用。动画也留下了痕迹。我用谷歌搜索它，发现应用 padding="1dp" 可以解决，但没有运气。我的动画视图一半落后于视频视图，一半高于视频视图。请帮我解决这三个问题。我只想从这个应用程序中做一部分功能：[气泡](https://play.google.com/store/apps/details?id=com.squishythings.bubbles)，即，将气泡从底部移动到顶部并在触摸时挤压。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:05:06.307

您可以在 onClick 中使用以下代码并再次启动动画：

```
moveLefttoRight.setRepeatCount(Animation.INFINITE); 
```

# xamarin.android - 让 servicestack 在 monodroid 上工作

> ID：13411301
> 
> 赞同：2
> 
> 时间：2012-11-16T05:59:56.417
> 
> 标签：xamarin.android, monodevelop, servicestack

我正在尝试在一个新的 monodroid 项目中引用 servicestack dll，但我遇到了构建错误。

我从这里抓取了 dll：

[https://github.com/ServiceStack/ServiceStack/tree/master/release/latest/MonoDroid](https://github.com/ServiceStack/ServiceStack/tree/master/release/latest/MonoDroid)

我得到了错误

/Library/Frameworks/Mono.framework/Versions/2.10.9/lib/mono/4.0/Microsoft.Common.targets：警告：发现以下冲突：'mscorlib，版本= 2.0.5.0，文化=中性，PublicKeyToken=7cec85d7bea7798e ' 和 'mscorlib，版本 = 4.0.0.0，文化 = 中性，PublicKeyToken = b77a5c561934e089'。使用“mscorlib，版本=2.0.5.0，文化=中性，PublicKeyToken=7cec85d7bea7798e”参考。

关于如何修复的任何建议？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-16T11:51:06.733

最新的签入`ServiceStack.Text.Android`破坏了构建。但是很容易修复。

同时签出`ServiceStack`和`ServiceStack.Text`。

打开`ServiceStack.Text.Android`项目，然后在`Common`文件夹中添加指向文件的链接`ServiceStack.Text\src\ServiceStack.Text\Common\DeserializeKeyValuePair.cs`。构建`ServiceStack.Text.Android`并构建 ServiceStack Android 解决方案。现在您应该拥有`ServiceStack\src\ServiceStack.Common.Android\bin\Debug`和中需要的所有文件`ServiceStack\src\ServiceStack.Common.Android\bin\Release`。

我也把它们放在我的 Dropbox 上供下载：

*   [https://dl.dropbox.com/u/2991343/ServiceStack.Android/ServiceStack.Common.dll](https://dl.dropbox.com/u/2991343/ServiceStack.Android/ServiceStack.Common.dll)
*   [https://dl.dropbox.com/u/2991343/ServiceStack.Android/ServiceStack.Interfaces.dll](https://dl.dropbox.com/u/2991343/ServiceStack.Android/ServiceStack.Interfaces.dll)
*   [https://dl.dropbox.com/u/2991343/ServiceStack.Android/ServiceStack.Text.dll](https://dl.dropbox.com/u/2991343/ServiceStack.Android/ServiceStack.Text.dll)

我对托管文件不承担任何责任！

**编辑：** 将修复推送到我的叉子：[https](https://github.com/Cheesebaron/ServiceStack.Text) ://github.com/Cheesebaron/ServiceStack.Text并创建了一个拉取请求：[https ://github.com/ServiceStack/ServiceStack.Text/pull/237](https://github.com/ServiceStack/ServiceStack.Text/pull/237)

# iphone - 向 iPhone 中的（POST 方法）Web 服务发送从文档目录获取 pdf 文件的请求？

> ID：13411302
> 
> 赞同：2
> 
> 时间：2012-11-16T06:00:00.177
> 
> 标签：iphone, ios, web-services, pdf

我是 iPhone 开发的新手，我有一个问题，如何将 pdf 文件的请求从文档目录发送到 Web 服务，例如

```
http://www.publigeee.com/index.php?q=api/upload&uid=1&title=Sample&file=insert Pdf file here 
```

如何在此链接中插入该 pdf 文件？我为此花了5个小时，但我做不到，请帮助我

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T09:08:49.370

本质上，您感兴趣的是上传一个文件，该文件存在于您的应用程序的文档目录中。在上述情况下，您需要将 PDF 文件上传到您的服务器。

我使用以下方法为 XML 文件实现了相同的功能 -

//该函数假设文件存在于文档目录中

```
- (void)uploadXMLFile:(NSString*)sourceFileName atPath:(NSString*)filePath{

    // constructing connection request for url with no local and remote cache data and timeout seconds
    NSURL* scriptURL = [NSURL URLWithString:kFileUploadScriptURL];

    NSMutableURLRequest *request =[NSMutableURLRequest requestWithURL:scriptURL cachePolicy:NSURLRequestReloadIgnoringLocalAndRemoteCacheData timeoutInterval:20];

    [request setHTTPMethod:@"POST"];

    NSString *charset = (NSString *)CFStringConvertEncodingToIANACharSetName(CFStringConvertNSStringEncodingToEncoding(NSUTF8StringEncoding));

    // allocation mem for body data
    NSMutableData* bodyData = [[[NSMutableData alloc] init] autorelease];

    // initializing post body boundary
    NSString *stringBoundary = @"0xKhTmLbOuNdArY";

    // setting request header required
    // request containing multi part form data body and identified charater set encoding
    [request setAllHTTPHeaderFields:[NSDictionary dictionaryWithObjectsAndKeys:
                                     [NSString stringWithFormat:@"multipart/form-data; charset=%@; boundary=%@", charset, stringBoundary],@"Content-Type",
                                     @"gzip",@"Accept-Encoding",nil]];

    // appending body string
    [bodyData appendData:[[NSString stringWithFormat:@"--%@\r\n",stringBoundary] dataUsingEncoding:NSUTF8StringEncoding]];

    // Adds post data

    // Adds files to upload
    // file data identify its content type, data encoding and content disposition 
    // file is identified through its file name on server 
    // file data is retrived from the identified file url

    [bodyData appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"%@\"; filename=\"%@\"\r\n", @"file", sourceFileName] dataUsingEncoding:NSUTF8StringEncoding]];
    [bodyData appendData:[[NSString stringWithFormat:@"Content-Type: %@; charset=%@\r\n\r\n", @"document/xml", charset] dataUsingEncoding:NSUTF8StringEncoding]];

    [bodyData appendData:[NSData dataWithContentsOfFile:filePath]];

    [bodyData appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n",stringBoundary] dataUsingEncoding:NSUTF8StringEncoding]];

    // set post body to request
    [request setHTTPBody:bodyData];

    NSString* bodyDataString = [[NSString alloc] initWithData:bodyData encoding:NSUTF8StringEncoding];
    NSLog(@"%@",bodyDataString);

    // create new connection for the request
    // schedule this connection to respond to the current run loop with common loop mode.

    //  NSURLResponse *response = nil;                    
    //  NSError *error = nil;
    //  NSLog(@"%@",[[[NSString alloc] initWithData: [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error] encoding:NSUTF8StringEncoding]autorelease]);

    [[NSURLConnection alloc] initWithRequest:request  delegate:self];
    if (!responseData) {
        self.responseData = [[[NSMutableData alloc] initWithLength:0] autorelease];
    }
} 
```

其中 kFileUploadScriptURL 是服务器 URL 的常量

```
#define kFileUploadScriptURL @"SERVER_ADDRESS/upload_file.php" 
```

upload.php 本质上包含一个 PHP 脚本来接受数据并将其写入服务器上的目录之一。因此一个 XML 文件被上传到服务器。您可以在函数中替换所需的参数以将其设置为上传 PDF。由于还希望其他参数，如标题等，您必须使用 HTTP POST 传递这些参数。

我不确定我是否真的可以将我的答案与 SO 上的其他问题联系起来，但[这个](https://stackoverflow.com/questions/10952034/how-to-upload-a-file-to-server-stored-in-my-documents-folder-in-ios)问题与你所问的非常接近。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T09:02:05.450

您需要使用 HTTP POST - 您不能将任意文件添加到 URL（大小会很快杀死您的请求）。

看看从 iOS 发送 HTTP 的方法 - 有很多可用的信息。此外，您所指的站点（www.publicgee.com）必须在某个端点上支持 POST 方法，否则您根本无法做到。

所以：

1.  了解 www.publigee.com 如何支持 POST
2.  更改您的代码以使用 HTTP POST 操作发送文件

# opencart - OpenCart 1.5.1 订单确认电子邮件适用于其他商店，但不适用于主商店

> ID：13411308
> 
> 赞同：1
> 
> 时间：2012-11-16T06:00:36.240
> 
> 标签：opencart

我正在使用 OpenCart 1.5.1 并设置了多家商店 - 主店和批发店。

我面临的问题是订单确认电子邮件不是来自主商店，而是在批发商店工作！

知道为什么会发生这种情况吗？我做了一些搜索，发现很多帖子要求检查 Plesk 中的安全模式，但我不认为这是一个类似的问题，因为它适用于批发商店而不是总店。

# jquery - 无法在ie9标准模式下调整大小和拖动jquery popup dialog popup

> ID：13411310
> 
> 赞同：0
> 
> 时间：2012-11-16T06:01:03.997
> 
> 标签：jquery, internet-explorer-9, jquery-ui-dialog

无法在 ie9 标准模式下调整和拖动 jquery 弹出对话框（jQuery UI Dialog 1.8.1）弹出窗口，但它在 ie9 兼容模式下可以完美运行。

不幸的是，我无法升级现在正在使用的 jquery 核心（1.4.2）。

没有更新jquery核心的任何其他解决方法吗？

谢谢，杰森

# php - 将参数传递给动态下拉函数jquery

> ID：13411312
> 
> 赞同：0
> 
> 时间：2012-11-16T06:01:42.783
> 
> 标签：php, jquery, html

我有一个 for 循环，它生成几个“a”标签按钮和几个部门。我正在尝试编写一个具有切换效果的函数。如果我单击特定的 a 标签，则应切换相应的 div 标签。我正在尝试将动态值传递给此函数，但它不起作用。这是代码。请帮忙。谢谢你。

```
<html>
<header>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="layout.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js" type="text/javascript"></script>
<style type="text/css"> 
.hideonly
{
padding:50px;
display:none;
}
</style>
</header>
<body>
<?php
$num_row = 5; //dynamic value
$i = 0;
$header_title = "";
    for ($i=0;$i<$num_row;$i++)
      {
        $header_title = $i; // Displaying all the headers and menus for the hotel.
        echo "<div>";
        echo "<br>";
        echo "<a class = \"menu-header-2\" href=\"#\">$header_title</a>";
        echo "<div id = \".$i.\" class = \"hideonly\" >Hello World!</div>";
        echo "<br>";
        echo "</div>";
      } 
?>
</body>
<script> 
$(document).ready(function(){
  $(".menu-header-2").click(function($i){
    $("#" . $i).slideToggle("fast");
  });
});
</script>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:05:17.107

该解决方案应该适合您。

`$(this).next('div').slideToggle('fast');`

有些事情你做错了。

1.  以数字开头`id`。实际上你的`id`就是数字。它应该以字母开头
2.  拥有剧本`after`的身体。通常它应该在`head`元素中或就在`body`结束之前
3.  在`.click()`函数中，您正在传递`$i`. 这没有道理。你应该`event`改用。在这种情况下，您实际上并不需要它，并且可以在不向其传递任何内容的情况下获得该方​​法。这是您将使用该`event`参数的时候。

# iphone - 是否可以在横向模式下查看照片库和相机

> ID：13411313
> 
> 赞同：0
> 
> 时间：2012-11-16T06:01:43.927
> 
> 标签：iphone, ios, video, camera, gallery

我是 iPhone 开发的新手。我正在尝试在横向模式下开发基于相机的应用程序。我将 info.plist 支持的方向和 Interface Builder 编辑为横向模式。因此，起初我的应用程序会提示用户从图库中选择视频或拍摄视频。但是视频库和相机视图都处于纵向模式。

有没有办法让它成为风景。我搜索了很多，但没有找到任何答案。任何人都可以帮助我。谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-16T06:40:10.087

您可以`UIImagePicker`在横向模式下显示，因为您需要对其进行子类化并将`shouldAutoRotate`方法实现为`return NO`.

```
@interface LandScapeUIImagePickerController : UIImagePickerController

@end

#import "LandScapeUIImagePickerController.h"

@interface LandScapeUIImagePickerController ()

@end

@implementation LandScapeUIImagePickerController

- (BOOL)shouldAutorotate
{
    return NO;
}

@end 
```

创建对象 of`LandScapeUIImagePickerController`而不是`UIImagePickerController`。

# php - PDO 执行不返回任何内容

> ID：13411314
> 
> 赞同：1
> 
> 时间：2012-11-16T06:01:44.917
> 
> 标签：php, pdo

假设我有一堂课：

```
class pdoc {
    private static $db_connect_pool;
    public static function openConnect() {
        try {
            $connect_options_arr = array(PDO::ATTR_PERSISTENT => true);

            self::$db_connect_pool[''.DB_DRIVER.'_'.DB_NAME.''] = new PDO("".DB_DRIVER.":host=".DB_HOST.";db_name=".DB_NAME."", DB_USER, DB_PASS, $connect_options_arr);
        } catch (Exception $e) {
            print_r($e);
        }
    }

    public static function getConnection() {
        return self::$db_connect_pool[''.DB_DRIVER.'_'.DB_NAME.''];
    }

    public static function qry($sql) {
        self::openConnect();
        $db_handle = self::getConnection();
        $st_handle = $db_handle->prepare($sql);
        return $st_handle->execute();           
    }
} 
```

然后，调用类：

```
$sql = "SELECT * FROM sometable";

if(pdoc::qry($sql))  echo "y";
else                 echo "n"; 
```

为什么代码总是返回`n`？我检查了已成功连接的连接，但是当我尝试执行一些查询时，它什么也没返回。有任何想法吗？谢谢。

* * *

## 更新*（@Robbie 的代码）*

```
class pdoc {
    private static $db_connect_pool;
    public static function openConnect() {
        try {
            $connect_options_arr = array(PDO::ATTR_PERSISTENT => true, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION);
            self::$db_connect_pool[''.DB_DRIVER.'_'.DB_NAME.''] = new PDO("".DB_DRIVER.":host=".DB_HOST.";db_name=".DB_NAME."", DB_USER, DB_PASS, $connect_options_arr);
        } catch (Exception $e) {
            print_r($e);
        }
    }

    public static function getConnection() {
        return self::$db_connect_pool[''.DB_DRIVER.'_'.DB_NAME.''];
    }

    public static function qry($sql) {
        self::openConnect();
        $db_handle = self::getConnection();
        try {
            $st_handle = $db_handle->prepare($sql);
            $retval = $st_handle->execute(); //--> Got error on this line       
        } catch (Exception $e) {
            Die('Need to handle this error. $e has all the details');
        }
        return $retval;  
    }
} 
```

错误说：`exception 'PDOException' with message 'SQLSTATE[3D000]: Invalid catalog name: 1046 No database selected'`。

* * *

## 回答

改变：

```
... new PDO("".DB_DRIVER.":host=".DB_HOST.";db_name=".DB_NAME."", ... 
```

进入：

```
... new PDO("".DB_DRIVER.":host=".DB_HOST.";dbname=".DB_NAME."", ... 
```

在捕获错误消息（来自更新的代码）并参考[此线程](https://stackoverflow.com/questions/6300446/write-php-pdo-queries-as-dbname-tablename-as-opposed-to-tablename-why)后，我发现该`dbname`部分已按照`dn_name`我的代码编写。所以我把它改成`dbname`它，它工作得很好！感谢@Robbie 提供您的代码！:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T06:05:07.897

如果它什么都不返回，那么它就失败了。您需要调用错误函数 ( `errorInfo`, `errorCode`) 来找出原因。

但棘手的部分是你不知道错误是在数据库上还是在语句上，所以最好的技巧是使用异常错误报告，将所有函数包装在一个 try catch 中，异常被捕获时将属于到数据库或语句。更容易处理。

您的代码将是：

```
class pdoc {
    private static $db_connect_pool;
    public static function openConnect() {
        try {
            $connect_options_arr = array(PDO::ATTR_PERSISTENT => true, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION);
            self::$db_connect_pool[''.DB_DRIVER.'_'.DB_NAME.''] = new PDO("".DB_DRIVER.":host=".DB_HOST.";db_name=".DB_NAME."", DB_USER, DB_PASS, $connect_options_arr);
        } catch (Exception $e) {
            print_r($e);
        }
    }

    public static function getConnection() {
        return self::$db_connect_pool[''.DB_DRIVER.'_'.DB_NAME.''];
    }

    public static function qry($sql) {
        self::openConnect();
        $db_handle = self::getConnection();
        try {
            $st_handle = $db_handle->prepare($sql);
            $retval = $st_handle->execute();            
        } catch (Exception $e) {
            Die('Need to handle this error. $e has all the details');
        }
        return $retval;  
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T06:21:49.757

```
try in this way.. 

public static function qry($sql) {
try {
    $statement = $db_handle->prepare($sql);
    $retval = $statement->execute();
    if ($statement->rowCount() >= 1) { 
        //do something               
    }else {
        $errors = $statement->errorInfo();
        echo $errors[2] . ", " . $errors[1] . " ," . $errors[0];
    }
} catch (Exception $e) {
    echo $e->getMessage();
    }        
} 
```

# jenkins - 在将工件从詹金斯发布到 scp 存储库时出现错误

> ID：13411316
> 
> 赞同：0
> 
> 时间：2012-11-16T06:01:46.713
> 
> 标签：jenkins, jsch

以前我们使用单独的服务器来发布工件，当时每件事情都可以正常工作。最近，我们在成功构建后将工件从詹金斯发布到该服务器时更改了新的开发服务器，但出现以下错误。我已经授予了我的目录（777）的所有权限。

```
scp connecting to 10.10.32.33
scp uploading file: '/apps/com/jenkinsdir/services/services.war'
Error: failed to upload files
3\. permission denied
at com.jcraft.jsch.channelsftp.throwstatusError(channelSftpjava.2289)
at com.jcraft.jsch.channelsftp._Put(chanelSftp.java.485)
at com.jcraft.jsch.channelsftp.Put(chanelSftp.java.439)
at com.jcraft.jsch.channelsftp.Put(chanelSftp.java.406)
at be.certipost.hudson.plugin.SCPsite.upload(SCPsite.java.239) 
```

谁能给建议如何解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T13:20:42.547

您是否使用公钥身份验证？您是否不小心在 ssh 服务器计算机上授予了权限`0777` （`~/.ssh/id_rsa`或任何您的私钥文件）？我认为这会给尝试使用该密钥连接的远程用户拒绝权限。的权限应该是`0600`.

如果你这样做也不应该受到伤害`chmod -R go-rxw ~/.ssh`（好吧，除非你有一些服务器进程以另一个用户身份运行，访问你的公钥文件）。

# php - drupal 7中未发布内容的访问被拒绝

> ID：13411318
> 
> 赞同：0
> 
> 时间：2012-11-16T06:02:16.417
> 
> 标签：php, drupal-7

当我在 drupal 7 中取消发布内容时，我收到拒绝访问消息。但是对于其他一些未发布的内容，我收到了找不到页面的消息。我需要未找到未发布内容的页面消息。我怎样才能做到这一点？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T15:46:17.433

你试过[路径重定向](http://drupal.org/project/path_redirect)模块吗？用旧链接或重命名的链接完成了一些奇迹。

# javascript - 倒数计时器在 Internet Explorer 中不起作用

> ID：13411320
> 
> 赞同：1
> 
> 时间：2012-11-16T06:02:21.580
> 
> 标签：javascript, jquery, internet-explorer, countdowntimer

我使用 jquery 创建了倒数计时器，它在 mozila、chorme 中运行良好，但在 Internet Explorer 中无法运行；我的代码是这样的：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
 <div>Minutes</div>
 <div>Seconds</div>

 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript" charset="utf-8"></script>
     <script src="http://jquery-countdown.googlecode.com/svn/trunk/js/jquery.countdown.js" type="text/javascript" charset="utf-8"></script>
 <script type="text/javascript">
   $(function() {
         $('#counter').countdown({
         image: 'digits.png',
             startTime: '25:30'
         });
     });
</script> 
```

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:40:43.133

您正在使用的某些语法在浏览器`Countdown timer JS` 中不受支持。`IE 6.0`所以，最好使用[This](http://www.littlewebthings.com/projects/countdown/) `CountDown Timer`，因为它适用于`IE 9.0`其他浏览器

# ios - 在 iOS 应用程序中解析包含换行符的 JSON 数据

> ID：13411325
> 
> 赞同：2
> 
> 时间：2012-11-16T06:02:51.760
> 
> 标签：ios, iphone, xcode4.3

`\n`我在 iOS 应用程序中解析包含换行符（等）的 JSON 数据时遇到问题。我使用 XCode 4.3。我添加了用于解析 JSON 的代码；应用程序在找到新行字符时崩溃。如何替换或处理 JSON 数据解析器中的换行符或替换它`NSString`？

```
NSString *jsonData = @"[{ "department": "","email_address1":"user@company.com"}]";    
jsonData = [jsonData stringByTrimmingCharactersInSet:[NSCharacterSet newlineCharacterSet]];
NSError *e = nil;
NSData *projNSdata = [jsonData dataUsingEncoding:NSUTF8StringEncoding];
NSArray *jsonArray = [NSJSONSerialization JSONObjectWithData: projNSdata options: NSJSONReadingMutableContainers error: &e]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:19:23.177

检查`modified` `jsonData` `string`它是否工作正常。与：`problem`_`json` `string`

```
NSString *jsonData = @"[{\n \"department\": \"\",\"email_address1\":\"user@company.com\"}]"; 
```

`Replace mine with yours`.

`Error`在双引号中没有价值：

```
NSString *jsonData = @"[{ "department": "","email_address1":"user@company.com"}]";  
                                       here 
```

还要在末尾添加以下行：

```
NSLog(@"Json : %@  \n Error :%@",jsonArray,[e description]); 
```

# wcf - REST 服务-发布图像（流内容）和文件名--错误

> ID：13411326
> 
> 赞同：0
> 
> 时间：2012-11-16T06:02:56.427
> 
> 标签：wcf, rest, post, stream

根据要求，我需要一个休息 WCF 服务来从 Iphone 发布图像和文件名。我创建了一个 Rest 服务。但是当我运行 WCF 服务时，出现以下错误

```
An ExceptionDetail, likely created by IncludeExceptionDetailInFaults=true, whose value is:
System.InvalidOperationException: An exception was thrown in a call to a WSDL export extension: System.ServiceModel.Description.DataContractSerializerOperationBehavior
 contract: http://tempuri.org/:IService1 ----> System.InvalidOperationException: For request in operation PostImage to be a stream the operation must have a single parameter whose type is Stream.
   at System.ServiceModel.Dispatcher.StreamFormatter.ValidateAndGetStreamPart(MessageDescription messageDescription, Boolean isRequest, String operationName)
   at System.ServiceModel.Dispatcher.StreamFormatter.Create(MessageDescription messageDescription, String operationName, Boolean isRequest)
   at System.ServiceModel.Description.MessageContractExporter.ExportMessage(Int32 messageIndex, Object state)
   at System.ServiceModel.Description.MessageContractExporter.ExportMessageContract()
   at System.ServiceModel.Description.DataContractSerializerOperationBehavior.System.ServiceModel.Description.IWsdlExportExtension.ExportContract(WsdlExporter exporter, WsdlContractConversionContext contractContext)
   at System.ServiceModel.Description.WsdlExporter.CallExtension(WsdlContractConversionContext contractContext, IWsdlExportExtension extension)
   --- End of inner ExceptionDetail stack trace ---
   at System.ServiceModel.Description.WsdlExporter.CallExtension(WsdlContractConversionContext contractContext, IWsdlExportExtension extension)
   at System.ServiceModel.Description.WsdlExporter.CallExportContract(WsdlContractConversionContext contractContext)
   at System.ServiceModel.Description.WsdlExporter.ExportContract(ContractDescription contract)
   at System.ServiceModel.Description.WsdlExporter.ExportEndpoint(ServiceEndpoint endpoint, XmlQualifiedName wsdlServiceQName, BindingParameterCollection bindingParameters)
   at System.ServiceModel.Description.WsdlExporter.ExportEndpoints(IEnumerable`1 endpoints, XmlQualifiedName wsdlServiceQName, BindingParameterCollection bindingParameters)
   at System.ServiceModel.Description.ServiceMetadataBehavior.MetadataExtensionInitializer.GenerateMetadata()
   at System.ServiceModel.Description.ServiceMetadataExtension.EnsureInitialized()
   at System.ServiceModel.Description.ServiceMetadataExtension.HttpGetImpl.InitializationData.InitializeFrom(ServiceMetadataExtension extension)
   at System.ServiceModel.Description.ServiceMetadataExtension.HttpGetImpl.GetInitData()
   at System.ServiceModel.Description.ServiceMetadataExtension.HttpGetImpl.TryHandleDocumentationRequest(Message httpGetRequest, String[] queries, Message& replyMessage)
   at System.ServiceModel.Description.ServiceMetadataExtension.HttpGetImpl.ProcessHttpRequest(Message httpGetRequest)
   at System.ServiceModel.Description.ServiceMetadataExtension.HttpGetImpl.Get(Message message)
   at SyncInvokeGet(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet) 
```

我使用了以下代码

```
[OperationContract]
   [WebInvoke(BodyStyle = WebMessageBodyStyle.Bare,
                    UriTemplate = "PostImage/{filename}",
                    Method = "POST")]
  string PostImage(string filename, Stream obj);

  public string PostImage(string filename, Stream obj)
  {
  } 
```

并使用以下 web.config

```
<system.serviceModel>
    <bindings>
      <webHttpBinding>
        <binding name="webHttpBindingStreamed" crossDomainScriptAccessEnabled="true" transferMode="Streamed" maxBufferSize="2147483647"  maxReceivedMessageSize="2147483647" openTimeout="00:25:00" closeTimeout="00:25:00" sendTimeout="00:25:00" receiveTimeout="00:25:00"></binding>
      </webHttpBinding>
    </bindings>

    <services>
      <service name="Test.Service1" behaviorConfiguration="ServiceBehaviour">
        <endpoint address="" 
                  binding="webHttpBinding" 
      contract="Test.IService1" 
      behaviorConfiguration="webHttp"
      bindingConfiguration="webHttpBindingStreamed"/>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="ServiceBehaviour">
          <!-- To avoid disclosing metadata information, set the values below to false before deployment -->
          <serviceMetadata httpGetEnabled="true" />
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
      </serviceBehaviors>
      <endpointBehaviors>
        <behavior name="webHttp" >
          <webHttp automaticFormatSelectionEnabled="true" defaultOutgoingResponseFormat="Json"/>
        </behavior>
      </endpointBehaviors>
    </behaviors>

    <serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="true" />
  </system.serviceModel> 
```

我正在努力解决这个错误。任何人都对此错误有任何想法。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T02:22:30.357

此博客解释了为什么会在您的 REST 服务中引发此错误。[http://blogs.msdn.com/b/hongmeig/archive/2010/03/02/how-to-solve-system-invalidoperationexception-for-request-in-operation-test-to-be-a-stream-操作必须有一个单一参数，其类型是stream.aspx](http://blogs.msdn.com/b/hongmeig/archive/2010/03/02/how-to-solve-system-invalidoperationexception-for-request-in-operation-test-to-be-a-stream-the-operation-must-have-a-single-parameter-whose-type-is-stream.aspx)

[来自博客的片段] 如果这是一个 REST 端点，实际上支持这种编程模型，因为 REST 有自己的格式化程序，可以正确处理多个参数。但是，如果您继续看到此问题，请确保您的 WebHttpBehavior 设置正确。未正确设置该行为的可能原因可能是：

1.  您正在使用自定义行为，并且其端点没有与 WCF 合约匹配的正确合约名称；

2.  您没有使用 WebEndpoint 或 WebServiceHost；

您还可以通过在绑定的 TransferMode 中选择 Buffered 选项来解决此问题。但这似乎违背了 Streaming 的全部目的。

问题是：你的服务主机是WebServiceHost吗？

# mysql - 如何将结果集行显示为列

> ID：13411331
> 
> 赞同：1
> 
> 时间：2012-11-16T06:03:52.410
> 
> 标签：mysql, sql, join

我的桌子`price_matrix`是

```
id service_id  deadline  edu_level paper_stand  price
------------------------------------------------------
1     5         20         GCES       A          50
2     5         10         GCSE       A          30
3     5         20         GCSE       B          10
2     5         10         GCSE       B          40 
```

我怎样才能编写一个查询，它会给我以下格式的结果

```
deadline   service_id   paper_stand A   paper_stand B edu_level
-----------------------------------------------------------------
20            5              50               10          GCES 
10            5              30                40          GCSE 
```

我正在使用的查询是

```
SELECT `paper_stand` , `deadline` , `price`
FROM `price_matrix`
WHERE `edu_level` = 'GCSE/ A Levels' && `service_id` =5
ORDER BY `paper_stand` , `deadline` 
```

我正在使用 MYSQL

谁能帮我解释一下如何获得所需格式的结果？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:17:06.100

你可以`JOIN`把桌子放在自己身上。

```
SELECT a.deadline,
       a.service_id,
       a.price AS paper_stand_a,
       b.price AS paper_stand_b,
       a.edu_level
FROM price_matrix AS a JOIN price_matrix AS b
    ON a.deadline = b.deadline AND a.paper_stand = 'A' AND b.paper_stand = 'B'
GROUP BY a.deadline; 
```

您也可以在没有加入的情况下执行此操作。我`MAX`只是用来获取价格的非 NULL 值。可能有更好的方法来完成这部分。

```
SELECT deadline,
       service_id,
       MAX(IF(paper_stand = 'A', price, NULL) AS paper_stand_a,
       MAX(IF(paper_stand = 'B', price, NULL) AS paper_stand_b,
       edu_level
FROM price_matrix
GROUP BY deadline; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:16:28.000

我们可以在 select 上使用 Inner Query 来获取结果。

我没有 SQL 查询生成器，但编写的查询会给你一个想法。

```
SELECT deadline, service_id, edu_level,
       (SELECT price FROM price_matrix tmp 
        WHERE pm.deadline = tmp.deadline 
          AND pm.service_id = tmp.service_id
          AND tmp.paper_stand = 'A') AS PaperStandA,
       (SELECT price FROM price_matrix tmp 
        WHERE pm.deadline = tmp.deadline 
          AND pm.service_id = tmp.service_id
          AND tmp.paper_stand = 'B') AS PaperStandB,
FROM price_matrix pm
GROUP BY deadline, service_id, edu_level 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:32:52.530

尝试

```
SELECT A.deadline, A.edu_level, A.service_id, A.price as paper_standA, B.price as paper_standB
FROM (

SELECT *
FROM price_matrix
WHERE paper_stand = 'A'
) AS a, (

SELECT *
FROM price_matrix
WHERE paper_stand = 'B'
) AS b
WHERE a.service_id = b.service_id
AND b.deadline = a.deadline 
```

# android - GingerBread APP 未部署在 ICS 上

> ID：13411334
> 
> 赞同：0
> 
> 时间：2012-11-16T06:04:03.520
> 
> 标签：android

我已经使用 2.3.3 SDK 部署了一个应用程序。当我尝试在 ICS 4.0.4 上调试它时，eclipse 不允许我安装应用程序，我也无法截屏。请让我知道相同的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:06:38.243

使 minSdkVersion: 10 和 targetSdkVersion:15

在清单文件中尝试这样的事情：

```
<uses-sdk android:minSdkVersion="10" android:targetSdkVersion="15"/> 
```

此外，如果您使用 GoogleMaps 等任何 Google 功能，则需要使用 Google API 而不是普通的 Android（在 Eclipse 中）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T12:49:07.173

我刚刚通过eclipse和电话重新启动。它工作得很好:)

# asp.net - ASP.NET UpdatePanel 在 IE7 中不起作用

> ID：13411336
> 
> 赞同：1
> 
> 时间：2012-11-16T06:04:27.470
> 
> 标签：asp.net, ajax, internet-explorer-7, updatepanel

这是一个令人费解的问题，因为我似乎无法在网上找到任何关于它的信息——通常还有一千个人在我之前遭受过痛苦！问题是，对我来说，UpdatePanel 完全不能在 IE7 中工作。这在我创建的各种网站中是一致的。每次我调用部分页面更新时，都会出现服务器错误，但到目前为止，我无法确定有关该错误的更多信息。当我以调试模式提交页面时，我不知何故被重定向到站点默认页面。在没有自定义错误的情况下运行时，我收到这个无意义的 javascript 错误：

网页错误详情

用户代理：Mozilla/4.0（兼容；MSIE 7.0；Windows NT 6.0；WOW64；GTB7.4；SLCC1；.NET CLR 2.0.50727；.NET CLR 3.5.30729；.NET4.0C；.NET4.0E；.NET CLR 3.0.30729) 时间戳：2012 年 11 月 16 日星期五 05:54:40 UTC

消息：Sys.WebForms.PageRequestManagerServerErrorException：处理服务器上的请求时发生未知错误。The status code returned from the server was: 500 Line: 885 Char: 13 Code: 0 URI: http://www.[mydomain.com]/ScriptResource.axd?d=vjlljng03Lto1XsXmrAVz7i5C6Bt1evgQVQf-nNIyurN26GPnFkncgLCr7PGaj8sfKs6grEbG_O-qcEl76OIJ_BoaGp2R3yAZtdR1hkN-YfJloSbcJEvLPYAOdW64lGkYd_FpaSv1gEYdL_Czn4SJB8QsIbh7VhSobiYXc0Sb7s88HriVvuninBJpV-vR6ML0&t=6119e399

我什至通过 MS 的 javascript 一次尝试确定这一点，但从未成功。如果有帮助，我很高兴发布一些代码。鉴于其一致性，没有其他人报告此问题似乎令人惊讶。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:16:59.273

您可以在 ScriptManager 中尝试使用 CDN 吗？

以下链接可能会有所帮助

[http://weblogs.asp.net/infinitiesloop/archive/2009/11/23/asp-net-4-0-scriptmanager-improvements.aspx](http://weblogs.asp.net/infinitiesloop/archive/2009/11/23/asp-net-4-0-scriptmanager-improvements.aspx)

[http://weblogs.asp.net/scottgu/archive/2009/09/15/announcing-the-microsoft-ajax-cdn.aspx](http://weblogs.asp.net/scottgu/archive/2009/09/15/announcing-the-microsoft-ajax-cdn.aspx)

ASP.NET Ajax 库也[死了吗？](https://stackoverflow.com/questions/4250637/is-the-asp-net-ajax-library-dead)

# c# - 在特定区域插入节点

> ID：13411337
> 
> 赞同：2
> 
> 时间：2012-11-16T06:04:34.313
> 
> 标签：c#, xml, winforms

```
<POW>
  <PPE>
    <UID>a1</UID>
    <ppe1Bool></ppe1Bool>
    <ppe1>hello</ppe1>
    <ppe2Bool></ppe2Bool>
    <ppe2></ppe2>
  </PPE>
  <PPE>
    <UID>a3</UID>
    <ppe1Bool></ppe1Bool>
    <ppe1>goodbye</ppe1>
    <ppe2Bool></ppe2Bool>
    <ppe2></ppe2>
  </PPE>
</PWO> 
```

如何在上面的两个父节点之间插入一个带有子节点的新父节点？所以它会写成：

```
<POW>
 <PPE>
   <UID>a1</UID>
   <ppe1Bool></ppe1Bool>
   <ppe1>hello</ppe1>
   <ppe2Bool></ppe2Bool>
   <ppe2></ppe2>
 </PPE>
 <PPE>
   <UID>a2</UID>
   <ppe1Bool></ppe1Bool>
   <ppe1>new insert</ppe1>
   <ppe2Bool></ppe2Bool>
   <ppe2></ppe2>
 </PPE>
 <PPE>
   <UID>a3</UID>
   <ppe1Bool></ppe1Bool>
   <ppe1>goodbye</ppe1>
   <ppe2Bool></ppe2Bool>
   <ppe2></ppe2>
 </PPE>
</PWO> 
```

我有这个：

```
public static void insertRowBeforRowPPE(string strSelection, string strFileName)
{
 XmlDocument doc = new XmlDocument();

 doc.Load(strFileName);
 XmlNodeList lstNode = doc.SelectNodes("PWO/PPE");
 foreach (XmlNode node in lstNode)
 {
     if (node["UID"].InnerText == strSelection)
     {
          //insert code
     }
 }
 doc.Save(strFileName);
} 
```

strSelection 将告诉我要在其父级上方插入哪个子级....对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:30:35.310

使用 LINQ2XML

```
public static void insertRowBeforRowPPE(string strSelection, string strFileName)
{

    XElement doc=XElement.Load(strFileName);
    foreach(XElement elm in doc.Elements("PPE"))
    {
        if(elm.Element("UID").Value==strSelection)
        elm.AddBeforeSelf(new XElement("PPE",new XElement("UID","a2")));
        //adds PPE node having UID element with value a2 just before the required node
    }
    doc.Save(strFileName);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:44:08.120

**使用 LINQ**

`Node`在特定 Node( `insert after a1`)之后插入 a

```
XDocument xDoc = XDocument.Load("data.xml");

xDoc.Element("POW")
     .Elements("PPE").FirstOrDefault(x => x.Element("UID").Value == "a1")
     .AddAfterSelf(new XElement("PPE", new XElement("UID", "A")
                                       , new XElement("ppe1Bool")
                                       , new XElement("ppe1", "hello"), 
                                         new XElement("ppe2Bool"),
                                         new XElement("ppe2")));                

 xDoc.Save("mod.xml"); 
```

作为旁注，您的 xml 似乎格式不正确，您需要在使用 LINQ 之前对其进行更正。

# c# - UI线程中Task.Wait的替代方案

> ID：13411339
> 
> 赞同：8
> 
> 时间：2012-11-16T06:04:49.563
> 
> 标签：c#, windows-8, microsoft-metro, task-parallel-library, async-ctp

我知道`Task.Wait`在 UI 线程中调用是不好的。它会导致死锁。请参阅

[构造函数调用异步方法](http://social.msdn.microsoft.com/Forums/en/winappswithcsharp/thread/0d24419e-36ad-4157-abb5-3d9e6c5dacf1)

[等待，UI，和死锁！天啊！](http://blogs.msdn.com/b/pfxteam/archive/2011/01/13/10115163.aspx)

采取以下代码：

```
 public MainPage()
    {
        this.InitializeComponent();

        step0();
        step1();
    }

    private async Task step0()
    {
        await Task.Delay(5000);
        System.Diagnostics.Debug.WriteLine("step 0");
    }

    private async Task step1()
    {
        await Task.Delay(3000);
        System.Diagnostics.Debug.WriteLine("step 1");
    }
} 
```

如何确保始终在“步骤 1”之前打印“步骤 0”？使用`Task.Wait`会导致死锁。**这是 Windows 应用商店应用**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-16T06:11:34.313

您可以使用`Task.ContinueWith`将任务链接在一起，以便它们按顺序发生。

```
public MainPage()
{
    this.InitializeComponent();

    step0().ContinueWith(t => step1());
} 
```

此外，阿列克谢的评论是正确的。 `Task.Wait`将*阻塞*UI 线程。死锁是另一回事。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-16T13:50:28.890

你不能有一个`async`构造函数，句号。

所以无论你做什么，你都需要处理构造函数在*没有*完成`async`初始化的情况下返回的情况。

有几种处理方法。如果“步骤”正在加载资源，那么您可以执行以下操作（使用[`AsyncLazy`我的博客](http://nitoprograms.blogspot.com/2012/08/asynchronous-lazy-initialization.html)、[Stephen Toub 的博客](http://blogs.msdn.com/b/pfxteam/archive/2011/01/15/10116210.aspx)或我的[AsyncEx 库](http://nitoasyncex.codeplex.com/)中的类型——它们几乎相同）：

```
private readonly AsyncLazy<MyResource> resource;

public MainPage()
{
  resource = new AsyncLazy<MyResource>(async () =>
  {
    var a = await step0();
    var b = await step1();
    return new MyResource(a, b); // or whatever
  });
  resource.Start(); // start step0
}

public async Task MethodThatNeedsResource()
{
  var r = await resource; // ensure step1 is complete before continuing
} 
```

也可以使用`async void`方法 或来执行此操作`ContinueWith`，但您必须仔细考虑使用这些方法进行错误处理。

*   该`AsyncLazy`方法将捕获错误并在`await resource`执行时引发错误。
*   该`async void`方法将立即向`SynchronizationContext`.
*   天真的`ContinueWith`方法会默默地忽略所有错误。

无论您采用哪种方法，我都建议在 UI 中通知初始化正在进行中。（顺便说一句，我认为所有这些都应该进入 ViewModel 或 Model 类而不是`MainPage`）。

# php - php，管理员和用户从同一浏览器登录导致会话变量被意外更改

> ID：13411350
> 
> 赞同：0
> 
> 时间：2012-11-16T06:05:37.073
> 
> 标签：php, login, session-variables

管理员和用户都可以登录。登录后，他们可以浏览相同的页面。

管理员和用户可以选择插入、编辑和删除项目。

管理员可以为任何人创建的任何项目执行所有这 3 项任务。但是用户只能对他/她自己创建的项目执行这些任务。所以在数据库中跟踪是谁创建了一个特定的项目。

`$_SESSION['admin_user']`如果是管理员则分配 1，否则分配 2。此会话变量决定页面是针对管理员还是任何其他用户。

但是，如果管理员登录，然后另一个用户也从同一个浏览器登录，那么会话变量将获得后一个值。

无论出于何种原因，让我们假设管理员和用户同时登录同一个浏览器的这种情况可以发生。

如何使即使这两种不同类型的用户以上述方式进入站点，他们都将获得相应的页面（即当管理员单击菜单链接时，他/她将获得预期的页面并且相同）同时来自同一浏览器的任何用户都是如此）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:48:27.347

如果您的用户使用同一个浏览器，那么您也不能中继正常的会话功能，因为它在浏览器中共享。这就是为什么您可以打开新窗口/标签，例如。

因此我们不能使用 cookie 来创建会话，而是需要在 URL 中的每个请求中发送会话信息。

选项 1：使其成为单页网站并使用 ajax 加载数据。

选项 2：在用户 URL 中包含会话 ID：s

编辑：一个更简单的选择是让您的用户使用隐身模式。然后会话不会与其他实例共享。我有时会用它在不同的 gmail 帐户上登录两次。（不同的浏览器厂商用自己的名字来调用函数）

Edit2：首先，会话是由服务器在浏览器中设置 cookie 创建的。该 cookie 仅包含一个“随机”字符串。该字符串可以对应于服务器上的文件（最常见）或数据库中的一行（如果您有多个 Web 服务器前面有负载均衡器，则很实用。如果另一个用户在哪里猜到这个随机字符串，他将获得访问权限到用户会话（这也称为会话劫持）。

您可以将会话保存在 URL 中，而不是将会话存储在 cookie 中，例如`http://www.example.com/?sess_id=jdR3Tfs`. 您可以自己轻松地构建此逻辑，但在大多数 Web 框架中都有帮助程序来执行此操作，例如在 PHP 中

在 php.ini 中设置

```
session.use_cookies=0
session.use_trans_sid=1 
```

有时需要在上面的安排中手动获取会话 ID，如果我没记错的话应该是这样的：

```
session_id($_GET['sessionid']);
session_start(); 
```

或者

```
session_id($_GET['PHPSESSID']);
session_start(); 
```

为了确保您可以直接查看`print_r($_GET)`或查看创建的 URL。

否则，您可以手动进行更多操作

```
<?php
// testpage.php
session_start();
if (isset($_SESSION['test']){
    $_SESSION['test'] = 'Back again!';
}
$_SESSION['test'] = 'Hello world!';
?>
<p><?php echo $_SESSION['test']; ?></p> 
<a href="testpage.php?<?php echo htmlspecialchars(SID); ?>">Click me</a>. 
```

编辑 3：另一种方式，当您仍然可以使用 cookie 时，您的用户启用“隐私浏览”，请参阅有关如何在此处启用的更多信息[http://techlogon.com/2012/05/10/comparison-of-private-在浏览器中浏览，即 chrome 和 firefox/](http://techlogon.com/2012/05/10/comparison-of-private-browsing-in-ie-chrome-and-firefox/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:17:13.453

**$_SESSION['admin_user'] 如果是管理员则分配 1，否则分配 2。此会话变量决定页面是针对管理员还是任何其他用户。**

```
if ($_SESSION['user']==1){

echo 'wHAT ADMIN CAN DO normally all even delete'; 

}else if($_SESSION['user']==2){

echo 'Maybe only add , view , update'; 

} 
```

请务必制作重定向标头以限制非用户进入页面

# vb.net - VB代码未在剪贴板中存储数据未按预期工作

> ID：13411361
> 
> 赞同：1
> 
> 时间：2012-11-16T06:06:51.503
> 
> 标签：vb.net, clipboard

我有将一些 HTML 文本复制到剪贴板的代码。在我的`ClipBoard.ContainsData(DataFormats.Html)`它显示 True，但是当我实际尝试粘贴内容时，它显示一个空白（尽管它让我可以选择粘贴格式！）。这是一个aspx页面。

页面加载代码：

```
Dim ThreadA As Thread
ThreadA = New Thread(AddressOf Me.MyAsyncTask)
ThreadA.SetApartmentState(ApartmentState.STA)
'ThreadA.ApartmentState = ApartmentState.STA
ThreadA.Start() 
```

MyAsyncTask 上的代码：

```
obj = New DataObject()
    obj.SetData(DataFormats.Html, True, "<a href='#'>abcd</a>")
    Clipboard.SetDataObject(obj, True) 
```

我还打算稍后将带有 HTML 的图像复制到剪贴板上。

编辑：我已成功复制图像，并且可以复制纯文本。我需要的只是复制格式化文本的解决方案，即：保留格式

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T09:43:32.247

```
'Clipboard.SetDataObject(obj, True)' 
```

至

'obj.Copy()'

根据您的版本，您也可能需要括号内的“剪贴板”

希望这可以帮助

# mysql - 如何从以下场景中自我加入表？

> ID：13411365
> 
> 赞同：-2
> 
> 时间：2012-11-16T06:07:22.827
> 
> 标签：mysql, sql, join

考虑我有一个名为 table1 的表，其中包含以下数据：

```
id, value
1, a
1, b
1, c
1, d
2, a
2, b
2, c
3, b
3, c
4, a
4, b
4, c
4, d 
```

我想选择所有值 = d 的 id。我怎么能做到这一点？

这意味着我需要得到 ( **1 和 4** ) 的结果，因为 id 2 和 3 不包含 d。

实际表包含超过 10,000,000 行，因此查询不应太慢。

谢谢你的想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:08:23.063

这应该很简单。（*无需加入*）

```
SELECT *
FROM   TableName
WHERE  value = 'd' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:08:46.860

您根本不需要加入：

```
SELECT id
FROM myTable
WHERE value = 'd' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T06:11:51.600

试试这个

```
select id
from Table1
where value= 'd' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-12T07:18:21.130

请试试这个查询它会帮助你

```
select * from table1 t, table1 t1 
where t.value = t1.value and t1.value='d' 
```

# arrays - RestKit 映射和 JSON 序列化

> ID：13411367
> 
> 赞同：0
> 
> 时间：2012-11-16T06:07:41.530
> 
> 标签：arrays, json, serialization, restkit

我有一个问题，RestKit 用 ( 括号而不是 [ 括号来包装我的数组的序列化。

有没有办法为特定数据类型自定义/设置分隔符/包装字符？

我最终得到了这个：

```
Media =     (
            {
        Description = Observation;
        IsPrimaryMedia = 0;
        Licence = "BY-NC-SA";
        MediaResourceId = "mediaresources/24";
    }
); 
```

当我真正想要的是：

```
Media =     [
            {
        Description = Observation;
        IsPrimaryMedia = 0;
        Licence = "BY-NC-SA";
        MediaResourceId = "mediaresources/24";
    }
]; 
```

我试图将 Form 和 JSON 之间的 serializationMIMEType 更改为无效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:47:47.213

我不确定是什么导致我的序列化为数组而不是 [] 添加非 JSON 兼容 () 包装器，但为了解决它，我将 JSON 字符串作为 RKObjectLoader 参数传递，如下所示：

```
RKObjectManager *manager = [RKObjectManager sharedManager];

[manager sendObject:nil toResourcePath:theurl usingBlock:^(RKObjectLoader *loader) {

        NSDictionary *d = ... from parameters..

        NSError *e;
        NSData *jsonData = [NSJSONSerialization dataWithJSONObject:d options:0 error:&e];

        NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];
        loader.params = [RKRequestSerialization serializationWithData:[jsonString dataUsingEncoding:NSUTF8StringEncoding] MIMEType:RKMIMETypeJSON];

    }]; 
```

# jquery - UI Dialog JQuery - 具有不同 .data 的相同实例

> ID：13411371
> 
> 赞同：0
> 
> 时间：2012-11-16T06:08:16.470
> 
> 标签：jquery, asp.net-mvc-3, jquery-ui-dialog

我在 MVC 应用程序中使用了多个选项卡（UI Tabs）。在某些情况下，选项卡包含同一局部视图的多个实例。在部分视图中，我使用的是 div

```
<div id="multiResourceDialog" title="Multi Resource" style="display: none">
</div> 
```

在多个选项卡上具有相同的 id，如果我从不同的选项卡打开对话框，我只有一个对话框 () 实例，我不知道哪个选项卡是对话框的父级或哪个选项卡打开了对话框。

我正在创建对话框

```
$("#multiResourceDialog").data("target", _target).dialog({ autoOpen: false, open: function (event, ui) { $(this).load('@Url.Action("MultiResourcesSearch", "Scheduling")', { 'id': '@Model.patientOID')});}, .. some other options }); 
```

`

其中 _target 是需要从 Dialog 更新的父级 ID。当我显示对话框的当前数据时，我具有相同的值，即使应该不同。

谢谢你。

# javascript - 如何在特定 div 中附加来自外部 js 的 js？

> ID：13411372
> 
> 赞同：0
> 
> 时间：2012-11-16T06:08:21.177
> 
> 标签：javascript, jquery, coffeescript

我有一个调用外部的页面`application.js`。此外部`application.js`文件应调用外部文件`join.js`（托管在第三方域上）并将其放置在页面上的给定 div 中，即`#myGivenId`.

**更新**：简化问题解释。

该`join.js`文件简单地返回一个`document.write('something here');`字符串。文本`something here`应放在`#myGivenId`

我尝试了以下代码，但结果似乎没有呈现在页面上，也没有出现在源代码上。

```
// jQuery version
$(document).ready(function() {
  return $.getScript('http://localhost:3001/ads/join.js', function(script) {
    return $('#myGivenId').html(script);
  });
});

// CoffeScript version
$(document).ready ->
  $.getScript('http://localhost:3001/ads/join.js', (script) -> $('#myGivenId').html(script)) 
```

知道为什么不出现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:00:41.773

jQuery`$.getScript`不会以这种方式返回数据，您需要提供回调。

```
$(document).ready ->
    $.getScript(script_url, (data) -> $('#myGivenId').append(data)); 
```

参考：[http ://api.jquery.com/jQuery.getScript/](http://api.jquery.com/jQuery.getScript/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:21:22.563

您缺少的是将`div`放入 DOM 中。这很容易解决：

```
document.body.appendChild(placement); 
```

将此行放在函数的末尾。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T19:42:21.960

我不确定脚本的“结果”是什么意思，但这里有一些可能的解决方案（请原谅我的咖啡脚本，我通常用 JavaScript 编程）：

## 导出函数

假设脚本有一个你想调用的函数，只需使用 jQuery 的 .html()：

```
$('#myChosenId').html(someFunc()) 
```

您必须确保提前加载脚本：

```
$.getScript(pathToScript, () -> $('#myChosenId').html(someFunc())) 
```

这将加载脚本，然后在加载时调用该函数。

## 评估

如果脚本只是一个表达式（比如`5 + 3`or `callSomeFunc(Math.cos(5), 7, "hello")`），那么恐怕唯一的解决方案就是使用`eval`. 这**不是**一个好的解决方案，我强烈建议尽可能重构代码以导出函数。

```
$.get(pathToScript, (script) -> $('#myChosenId').html(eval(script))) 
```

`$.get`*有望*`$.ajax`获得原始脚本（如果这不起作用，您可能需要使用）并将其传递给您的回调。`eval`将执行脚本并将“结果”分配给 div。

从你的问题来看，这听起来像你想要的。我从不推荐使用`eval`; 我只是为了完整性而提供它。

如果您经常这样做，那么我建议您查看[requirejs](http://requirejs.org/)。它使您可以清晰地构建代码并以安全的方式导入外部代码。

**编辑：**

## 将脚本标签嵌入到元素中：

```
$('#myChosenId').append($('<script>').attr('src', pathToScript)) 
```

我没有对此进行测试，但它应该可以工作。它只是在您的元素下创建一个新的脚本标签。这是一种糟糕的风格，您可能应该找到一种不同的方式从该 3rd 方站点获取数据。有时它是必要的，例如使用路由器固件等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-17T02:25:03.573

这不会像您期望的那样工作。document.write() 将写入原始脚本所在的正文。你不能`document.write()`对一个元素......你需要修改一个元素`innerHTML`。

如果您无法编辑 join.js，除了更改原始外部脚本的位置之外，您没有好的解决方案。

如果可以修改join.js，直接修改DOM即可。例如。

```
document.getElementById("myGivenId").innerHTML = "something here"; 
```

# c++ - 遍历多维向量（使用 Auto 关键字？）

> ID：13411374
> 
> 赞同：1
> 
> 时间：2012-11-16T06:08:29.117
> 
> 标签：c++, vector, iterator

是否有一种遍历多维向量的优雅方法？例如，假设您有一个 6D 矢量，但我认为 2D 就足够了。就像是

```
vector< vector< int > myVector (6, vector<int> (5)); 
```

有没有一种很好的方法来迭代这个，从`myVector[0][0], myVector[0][1], ...etc?`？我在更大的维度上尝试它，并使用 Auto 关键字生成迭代器，但这并不好。这是我正在尝试的：

```
for(auto it = myVector.begin(); it < myVector.end(); ++it)
    std::cout << *it; 
```

但它不编译。请原谅我对 STL 中迭代器的生疏理解，已经很久了......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T06:15:00.000

`it`是 a `vector<vector<int>>::iterator`，应用后`*`你会得到 a `vector<int>`，不能打印出来。您需要遍历循环：

```
for(auto i1 = myVector.begin(); i1 != myVector.end(); ++i1) // loops over the "external" vector
    for(auto i2 = i1->begin(); i2 != i1->end(); ++i2) // loops over the "internal" vectors
        std::cout << *i2; 
```

如果您有任意尺寸，则可以使用以下内容：

```
template <typename T>
void printVar(const T& v)
{
    std::cout << v;
}

template <typename T>
void printVar(const std::vector<T>& v)
{
    for (auto i = v.cbegin(); i != v.cend(); ++i)
    {
        printVar(*i);
    }
} 
```

[样品测试。](http://ideone.com/EJ79Uj)

# php - 提高对 PHP shell 的安全性

> ID：13411380
> 
> 赞同：2
> 
> 时间：2012-11-16T06:09:12.270
> 
> 标签：php

我在 PHP 中禁用了一堆函数，如 passthru、shell_exec 等，但这还不够好。我下载了一些 shell（特别是 r57 和 c99），并且正在浏览它们。我看到的是对 /etc/ 和 /var/ 中文件的大量调用。有什么办法可以防止 nginx 用户读取这些文件？用户 nginx 以“nobody”运行。

我正在考虑为 nginx 或 php 扩展编写一个模块，但如果有一种更简单的方法不需要我在编写好的 C 语言时失败。

我还注意到很多这些 shell 使用 mysql_* 函数，而我的应用程序都没有使用或永远不会使用它。我可以使用ini文件中的设置来禁用这些功能吗？

我还想指出，我知道 shell 的安全性应该在他们开始上传之前就已经到位，但我想采取额外的预防措施。serverfault 已经死了，所以我在这里发布。

# php - apache服务器中php页面的加载时间

> ID：13411389
> 
> 赞同：1
> 
> 时间：2012-11-16T06:10:50.947
> 
> 标签：php, apache

是否可以知道 Apache 服务器加载 PHP 页面所花费的时间？Apache 服务器内部是否为在 Apache 服务器下运行的每个页面生成任何日志文件？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-16T06:29:06.223

我假设您想知道 PHP 生成页面需要多长时间。

当脚本启动时，从 5.1 开始，[`$_SERVER`](http://php.net/manual/en/reserved.variables.server.php)您可以使用一个条目，称为`REQUEST_TIME`. 它包含请求开始的时间。在脚本结束时，您可以像这样计算它：

```
$time_taken = time() - $_SERVER['REQUEST_TIME']; 
```

显然，这不是很准确，因此`REQUEST_TIME_FLOAT`在 PHP 5.4 中引入了更新：

```
$time_taken = microtime(true) - $_SERVER['REQUEST_TIME_FLOAT']; 
```

对于 < 5.4，您可以在脚本开头使用此代码段以实现向后兼容性：

```
if (!isset($_SERVER['REQUEST_TIME_FLOAT'])) {
    $_SERVER['REQUEST_TIME_FLOAT'] = microtime(true);
} 
```

**更新**

要让 Apache 为您执行此操作，您可以添加`%T`和/或`%D`日志格式选项，例如

```
LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" **%T/%D**" combined 
```

该`%T`选项允许您记录所用的秒数并`%D`记录微秒（从 Apache 2 开始）。

另请参阅：[处理请求需要多长时间](http://www.ducea.com/2008/02/06/apache-logs-how-long-does-it-take-to-serve-a-request/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:59:26.643

您可以尝试 apache 的日志格式，您可以在访问日志中记录所花费的时间 (%D)（以微秒为单位）。

[http://httpd.apache.org/docs/current/mod/mod_log_config.html#formats](http://httpd.apache.org/docs/current/mod/mod_log_config.html#formats)

虽然我没试过。。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T06:13:03.497

您可以在代码开头打印当前时间戳，然后在末尾打印并从开始时间减去结束时间，以查看加载和运行数据的总时间

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-16T06:16:44.250

您可以使用它自己创建日志文件：

在头文件的顶部：

```
$process_start = date('H:i:s'); 
```

在页脚文件中

```
$process_end = date('H:i:s');
echo "<br/> process_start {$process_start}<br/> process_end {$process_end}" 
```

不是最好的方法，但可能有效

# asp.net - 来自现有数据库架构的 ASP.NET 用户帐户

> ID：13411390
> 
> 赞同：0
> 
> 时间：2012-11-16T06:11:07.903
> 
> 标签：asp.net, sql-server-2008, membership-provider

首先：带有 SQL Server 2008 的 ASP.NET Web 应用程序项目

我继承了一个古老的数据库，其中包含一个名为 Security 的存储用户帐户的表。这些列是：

ID、名称、用户名、密码和访问级别。

access_level 保存一个 1 到 3 的整数值，指定对 Web 应用程序某些部分的访问。这些范围从 1 = 用户、2 = 高级用户、3 = 管理员。我将需要一些用户查看一些信息，为其他人隐藏它，并根据此访问级别使其对其他人可见+可编辑。

我熟悉旧的 ASP.NET，所以我对提供程序模型不熟悉。从我目前阅读的内容来看，我可以：

1）创建一个自定义的 MembershipProvider 和 RoleProvider 并使用它们

2) 创建我自己的登录系统，使用隐藏的文本字段来保存数据

实现这一点的最佳方法是什么？我开始编写自定义 MembershipProvider 但对于这样一个简单的模式来说似乎有点过分了。必须有一种更简单的方法来实现这一点。欢迎任何建议或澄清。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:05:22.523

您可以为登录或注册模块创建自定义控件。它可能易于理解和调试。此外，当成员要登录时，您可以检查 access_level 并授予访问权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-21T19:33:11.350

如果您不需要根据授权角色**限制页面，您可以简单地使用**

```
// After custom validation
FormsAuthentication.SetAuthCookie(username, false); 
```

但是，如果您想根据授权角色（在 web.config 中）**限制页面**，我建议您实现 Custom MembershipProvider 和 RoleProvider。

您只需要覆盖以下方法。

**会员提供者**

```
public override bool ValidateUser(string username, string password)

public override MembershipUser GetUser(string username, bool userIsOnline) 
```

**角色提供者**

```
public override bool IsUserInRole(string username, string roleName)

public override string[] GetRolesForUser(string username) 
```

# android - Android 设备 onConfigurationChanged 事件不处理方向

> ID：13411391
> 
> 赞同：4
> 
> 时间：2012-11-16T06:11:23.277
> 
> 标签：android, configuration, orientation, landscape, portrait

我有一个活动，在活动启动时，我需要更改横向的方向，然后我想在用户旋转设备时处理两个方向的变化，但它一旦改变方向，以后不会改变方向。这是我的代码请帮忙

```
 public class Hls extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_hls);

    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);

}

@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);

    Log.v("new orientation", "yes");

    if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT)
    {
        Toast.makeText(this, "portrait", Toast.LENGTH_LONG).show();
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
    }
    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE)
    {
        Toast.makeText(this, "landscape", Toast.LENGTH_LONG).show();
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
    } 

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T11:10:01.483

在 onCreate 中使用 setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE) 会将您的方向永久固定为横向，并避免方向发生任何变化。这就是为什么您的方向固定并且不响应旋转的原因。

这是您可以使用的替代方法：-

1> 在您的布局中创建两个视图。即一个用于横向视图，一个用于纵向视图。比如说activity_hls_land 和activity_hls_port。

2> 在 onConfigurationChanged(Configuration newConfig) 中使用**setContentView(R.layout.activity_hls)**而不是 setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE) 或 setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT)

这是示例代码：-

```
 public class MainActivity extends Activity {
boolean isLaunched=true;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        if(isLaunched){
        Toast.makeText(this, "1 st launch " , Toast.LENGTH_SHORT).show(); 
        setContentView(R.layout.activity_hls_land);
        }

    }

    @Override
    public void onConfigurationChanged(Configuration newConfig) {
        super.onConfigurationChanged(newConfig);

    if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT)
    {
        Toast.makeText(this, "portrait", Toast.LENGTH_SHORT).show();
        setContentView(R.layout.activity_hls_port);
    }
     if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE)
    {
        Toast.makeText(this, "landscape", Toast.LENGTH_SHORT).show();
        setContentView(R.layout.activity_hls_land );
    } 
    }

} 
```

并在清单中添加 android:configChanges="orientation" 在活动中：-

```
<activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main" 
            android:configChanges="orientation"
            >

            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
          </activity> 
```

activity_hls_port 的示例布局：-

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" 
    android:orientation="vertical">

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world"
        tools:context=".MainActivity" />
 <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world"
        tools:context=".MainActivity" />
  <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world"
        tools:context=".MainActivity" />
</LinearLayout> 
```

横向模式示例：-

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" 
    android:orientation="vertical"
    android:rotation="90">

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world"
        tools:context=".MainActivity" />
 <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world"
        tools:context=".MainActivity" />
  <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world"
        tools:context=".MainActivity" />
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:15:49.577

关于这个声明

```
if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT)
    {
        Toast.makeText(this, "portrait", Toast.LENGTH_LONG).show();
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
    }
    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE)
    {
        Toast.makeText(this, "landscape", Toast.LENGTH_LONG).show();
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
    } 
```

也在`onCreate(Bundle bundle);`

你打过电话了

```
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); 
```

或者

```
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT); 
```

这意味着您的活动处于横向/纵向，并且永远不会再旋转

删除它会`onConfigurationChanged(Configuration)`再次触发

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:27:45.940

我不清楚你的要求。如果您不介意重新开始活动，则可以跳过覆盖`onConfigurationChanged`。系统将为您处理方向更改。如果您不希望它在方向更改时重新启动，只需提及`<activity android:configChanges="keyboardHidden|orientation|screenSize"/>`，然后覆盖`onConfigurationChanged`并调用`setContentView()`

```
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);
    setContentview(R.layout.activity_hls);
    initializeViews();//here you can initialize all your memberVariables using findViewbyID()
} 
```

# c++ - mqd_t，发送和接收消息

> ID：13411392
> 
> 赞同：0
> 
> 时间：2012-11-16T06:11:27.270
> 
> 标签：c++, linux, qt, message-passing

我正在开发一个程序，其中我有一个称为服务器的进程和几个称为客户端的进程，它们可以连接到服务器并向其发送消息<但是由于某种原因我的客户端无法连接到我的服务器：

这是客户端类的头文件：

```
#ifndef CLIENT_H
#define CLIENT_H

#include <QString>
#include <string>
#include <QByteArray>
#include <mqueue.h>
#include <iostream>
#include "serveredialog.h"
#include "badudialog.h"
#include "../src/messages.h"

class Client
{
public:
    Client();
    void init(QString name);
    void sendMessage(QString mess);
private:
    char *myMailboxName, buf[MSG_SIZE];
    struct mq_attr attr;
    mqd_t mq_ownBox, mq_centralBox;

};

#endif // CLIENT_H 
```

这是客户端 cpp 文件：

```
#include "Client.h"

using namespace std;

Client::Client()
{
    attr.mq_maxmsg = 10;
    attr.mq_msgsize = MSG_SIZE;
    attr.mq_flags = 0;
}

void Client::init(QString name)
{
    //Convert name into char*
    QByteArray byteArray = name.toUtf8();
    char str1[40];
    const char* tempr = byteArray.constData();
    strncpy(str1, tempr, sizeof(str1));
    myMailboxName = str1;

    //Create temp box to check if name available
    string tempS = myMailboxName;
    tempS += "new";
    const char* tempr1 = tempS.data();
    mq_unlink(tempr1);
    mq_ownBox = mq_open(tempr1, O_RDONLY | O_CREAT, S_IRWXU, &attr);
    mq_centralBox = mq_open(CENTRALBOX, O_RDWR);

    //Tell server that you are ready
    string tempS1 = str1;
    string tempS2 = "started:" + tempS1;
    const char* tempr2 = tempS2.data();
    sprintf(buf, tempr2);
    int tempI = mq_send(mq_centralBox, buf, strlen(buf), 0);
    cout << tempI;
    //Check for success
    if(tempI){
        ServerEDialog sd;
        sd.setModal(true);
        sd.exec();
    }
    else
    {
        //If success, wait for response fromserver
        while(1)
        {
            int tempI2 = mq_receive(mq_ownBox, buf, MSG_SIZE, 0);
            if(tempI2 != -1)
            {
                break;
            }
        }
        QString tempS3 = buf;

        //if invalid show error, otherwise create permanent mailbox
        if(tempS3 == "invalidname")
        {
            BadUDialog bd;
            bd.setModal(true);
            bd.exec();
        }
        else
        {
            mq_unlink(myMailboxName);
            mq_ownBox = mq_open(myMailboxName, O_RDONLY | O_CREAT, S_IRWXU, &attr);
        }
    }
}

void Client::sendMessage(QString mess)
{

} 
```

这是我的服务器头文件：

```
#ifndef SERVER_H
#define SERVER_H

#include <QString>
#include <mqueue.h>
#include <QVector>
#include <QStringList>
#include <iostream>
#include "../src/messages.h"

class Server : public QObject
{
    Q_OBJECT
public:
    Server();
    void start();
private:
    void join(QString name);
    char buf[MSG_SIZE], msgSend[MSG_SIZE];
    QVector<mqd_t> mq_external;
    QVector<QString> users;
    mqd_t mq_central;
    struct mq_attr attr;

signals:
    void joined(QString name);

};

#endif // SERVER_H 
```

这是我的服务器 cpp 文件：

```
#include "Server.h"

using namespace std;

Server::Server()
{
}

void Server::start(){

    attr.mq_maxmsg = 100;
    attr.mq_msgsize = MSG_SIZE;
    attr.mq_flags = 0;

    mq_unlink(CENTRALBOX);
    mq_central = mq_open(CENTRALBOX, O_RDONLY | O_CREAT, S_IRWXU, &attr);
    while(1)
    {
        //Wait to recieve message from user
        int tempMsgVal = mq_receive(mq_central, buf, MSG_SIZE, 0);
        if(tempMsgVal != -1)
        {
            cout << tempMsgVal;
        }

        if(tempMsgVal != -1){
            QString tempS = buf;
            QStringList tempSL = tempS.split(":");
            if(tempSL.size() == 2 && tempSL.at(0) == "started")
            {
                int x = 0;
                bool exists = false;
                for(int i = 0; i < mq_external.size(); i++)
                {
                    x = QString::compare(tempSL[1], users.at(i), Qt::CaseInsensitive);
                    if(x == 0)
                    {
                        exists = true;
                        break;
                    }
                }

                if(!exists)
                {
                    sprintf(buf,"joined");
                    QString tempS1 = tempSL[1] + "new";
                    QByteArray byteArray = tempS1.toUtf8();
                    const char* tempr = byteArray.constData();
                    mqd_t tempMQ = mq_open(tempr, O_RDWR);
                    int tempI = mq_send(tempMQ, buf, strlen(buf), 0);

                    join(tempSL[1]);
                }
                else
                {
                    sprintf(buf,"invalidname");
                    QString tempS1 = tempSL[1] + "new";
                    QByteArray byteArray = tempS1.toUtf8();
                    const char* tempr = byteArray.constData();
                    mqd_t tempMQ = mq_open(tempr, O_RDWR);
                    int tempI = mq_send(tempMQ, buf, strlen(buf), 0);
                }//Endelse
            }//Endif
        }//Endif

    }//Endwhile
}

void Server::join(QString name)
{
    emit joined(name);
} 
```

这是我在两个类中都包含的 messages.h 文件：

```
#ifndef MESSAGES_H
#define MESSAGES_H

#define MSG_SIZE 150
#define CENTRALBOX "/CentralMailBox"

#include <stdio.h>
#include <stdlib.h>

#endif // MESSAGES_H 
```

客户端和服务器类中的一些代码与gui有关，但我已经测试了那部分，并且在正确的时间调用了相关方法。

我的问题是，当我在客户端函数中第一次调用 mq_send 方法时，它返回并且错误，对于服务器类也是如此，在发送和接收消息时我做错了什么，因为我可以我这辈子都想不通。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T08:25:37.703

我发现了哪里出错了，它没有显示，但是 mq_ownbox 使用了我从 gui 获得的名称，我忘记在开头添加“/”，至于 mq_central，将 maxmsg 设置为 100导致无效争论

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-10-15T09:26:03.977

正如您已经发现由于 maxmsg 计数太大而出现了无效参数，我刚刚了解到我的 linux 系统上的 maxmsg 大小只有 10。因此，非 root 用户只能创建最多 10 个插槽的消息队列. root 用户可以创建更多内容。

另请参阅 man [mq_overview](https://www.man7.org/linux/man-pages/man7/mq_overview.7.html)

> ```
>  /proc/sys/fs/mqueue/msg_max
>          This file can be used to view and change the ceiling value for
>          the maximum number of messages in a queue.  This value acts as
>          a ceiling on the attr->mq_maxmsg argument given to mq_open(3).
>          The default value for msg_max is 10\.  The minimum value is 1
>          (10 in kernels before 2.6.28).  The upper limit is
>          HARD_MSGMAX.  The msg_max limit is ignored for privileged
>          processes (CAP_SYS_RESOURCE), but the HARD_MSGMAX ceiling is
>          nevertheless imposed.
> 
>          The definition of HARD_MSGMAX has changed across kernel
>          versions:
> 
>          *  Up to Linux 2.6.32: 131072 / sizeof(void *)
> 
>          *  Linux 2.6.33 to 3.4: (32768 * sizeof(void *) / 4)
> 
>          *  Since Linux 3.5: 65,536 
> ```

# java - java - 如何限制子类日志级别传播到java中的父类？

> ID：13411397
> 
> 赞同：0
> 
> 时间：2012-11-16T06:12:08.587
> 
> 标签：java, logging, logback, apache-commons-logging

我正在分析应用程序日志，发现有很多调试日志来自 spring 库之一中的一个类。

如果我的自定义类的日志级别设置为调试，我在 spring 中扩展了一个类，它在整个父层次结构中打开了调试日志。

我想设置日志级别以调试我所有的应用程序特定类，同时保持所有其他类的信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:44:15.183

在日志配置文件中定义两个不同的记录器，一个在 INFO 级别，一个在 DEBUG 级别，如下所示：

```
#Logger option with DEBUG for package1
log4j.logger.com.package1=DEBUG,DebugFileAppender

#Logger option with INFO for package1
log4j.logger.com.package1=INFO,InfoFileAppender

log4j.appender.DebugFileAppender=org.apache.log4j.FileAppender
log4j.appender.DebugFileAppender.File=debug.log
log4j.appender.DebugFileAppender.MaxFileSize=100MB
log4j.appender.DebugFileAppender.layout=org.apache.log4j.PatternLayout
log4j.appender.DebugFileAppender.layout.ConversionPattern= %5p [%t] (%F:%L) - %m%n

log4j.appender.InfoFileAppender=org.apache.log4j.FileAppender
log4j.appender.InfoFileAppender.File=info.log
log4j.appender.InfoFileAppender.MaxFileSize=100MB
log4j.appender.InfoFileAppender.layout=org.apache.log4j.PatternLayout
log4j.appender.InfoFileAppender.layout.ConversionPattern= %5p [%t] (%F:%L) - %m%n 
```

# iphone - UITableView 在所选行下方添加行

> ID：13411403
> 
> 赞同：1
> 
> 时间：2012-11-16T06:12:42.343
> 
> 标签：iphone, ios, uitableview

我有一个工作表视图，我可以双击一个单元格，它会在下面添加一个“动作”单元格，上面有四个按钮。今天我将字母部分添加到表格视图和部分索引中，但我无法再使用此功能。我已经在代码中添加了一系列 NSLogs 来尝试找到问题，但我不能，它似乎试图在同一部分添加一行，并且比点击的单元格更靠下一行，所以我我不确定问题是什么。有人知道我做错了什么吗？如果有人能对此有所了解，我将不胜感激。（如果我的代码繁琐或难以理解，我深表歉意，我是新手，所以请随时提出我可以改进的建议！）

```
- (void)viewDidLoad
     {
     //I start with an array of objects, so I created two arrays; one containing the first letters of each Name, and a list of the number of objects that start with each of those names.
   nameIndex = [[NSMutableArray alloc] init];
   nameIndexCount = [[NSMutableDictionary alloc]init];   
    }

 - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
     {
     return [nameIndex count];
      }

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
     {
     if (self.actionRowIndexPath) {

     //Returns first letter of the section
     NSString *alphabet = [nameIndex objectAtIndex:section];

     //Returns the number of entries starting with that letter
    NSString *numberofRows = [nameIndexCount objectForKey:alphabet];
    int intNumberOfRows = ([numberofRows integerValue] + 1);

    return intNumberOfRows;
} else {

    NSString *alphabet = [nameIndex objectAtIndex:section];

    NSString *numberofRows = [nameIndexCount objectForKey:alphabet];
    int intNumberOfRows = [numberofRows integerValue];

    return intNumberOfRows;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"newTableViewCell"];

    if (!cell) {

        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"newTableViewCell"];
    }
    //Configure the cell
    UIImageView *imageView = [[UIImageView alloc]initWithFrame:cell.frame];
    UIImage *image = [UIImage imageNamed:@"LightGrey.png"];
    imageView.image = image;

    if ([indexPath isEqual:self.actionRowIndexPath]) {

        // Four UIButtons coded programmatically

    } else {

        Contact *p = [[[ContactStore sharedStore]allContacts]objectAtIndex:totalNumberOfRows];
        NSString *firstAndLastName = [NSString stringWithFormat:@"%@ %@", [p firstName], [p lastName]];
        indexPath = [self modelIndexPath:indexPath];
        cell.backgroundView = imageView;
        //        [cell.imageView setImage:smallThumbnailImage];
        [cell.imageView setImage:[p thumbnail]];
        [[cell textLabel]setBackgroundColor:[UIColor clearColor]];
        [[cell textLabel]setText:firstAndLastName];
        [[cell detailTextLabel]setBackgroundColor:[UIColor clearColor]];
        [[cell detailTextLabel]setText:[p phoneNumber]];

        totalNumberOfRows = totalNumberOfRows + 1;
    }
    return cell;
}

    #pragma mark - Action Row Support

-(NSIndexPath *)modelIndexPath: (NSIndexPath *)indexPath
{

    if (self.actionRowIndexPath == nil) {
        return indexPath;

    }

    if ([indexPath row] > [self.actionRowIndexPath row]) {
        return [NSIndexPath indexPathForRow:([indexPath row] - 1) inSection:indexPath.section];

    }
    return indexPath;

}

 - (void)handleDoubleTap:(UITapGestureRecognizer *)recognizer {

    NSLog(@"Double tap");

    CGPoint p = [recognizer locationInView:self.tableView];

    NSIndexPath *indexPath = [self.tableView indexPathForRowAtPoint:p];

    NSIndexPath *pathToDelete = self.actionRowIndexPath;

    _selectedIndexPath = [self modelIndexPath:_selectedIndexPath];

    //Is the user deselecting current row?
    if (_actionRowIndexPath) {
        [self.tableView deselectRowAtIndexPath:_selectedIndexPath animated:NO];
        self.selectedIndexPath = nil;
        self.actionRowIndexPath = nil;
    } else {
        //Selecting a new row
        self.selectedIndexPath = indexPath;

        self.actionRowIndexPath= [NSIndexPath indexPathForRow:([indexPath row] + 1) inSection:[indexPath section]];
    }

    [self.tableView beginUpdates];
    if (pathToDelete) {
        [self.tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:pathToDelete] withRowAnimation:UITableViewRowAnimationAutomatic];

    }
    if (self.actionRowIndexPath) {
        [self.tableView insertRowsAtIndexPaths:[NSArray arrayWithObject:self.actionRowIndexPath] withRowAnimation:UITableViewRowAnimationAutomatic];

    }
    [self.tableView endUpdates];  
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:59:14.747

获得 IndexPath 后，**您**需要获得**IndexPath.row**和**IndexPath.section**，因此您需要将对象添加到所需索引处的数组中。例如：如果您双击第 1 节中的第 2 行，则需要在与第 1 节对应的数组的索引 4 处添加对象，然后重新加载表。该单元格将被添加到第 1 部分的第 3 个索引中。

# ios - iPad2 应用程序可以在 iPad3 上运行吗？

> ID：13411404
> 
> 赞同：0
> 
> 时间：2012-11-16T06:12:49.067
> 
> 标签：ios, iphone-4, iphone-5, ipad-2, ipad-3

我是iOS新手，

我看到 iPad 2 的分辨率`1024-by-768`和 iPad 3 的分辨率`2048-by-1536`和视网膜显示器..

我确信 iPad 2 应用程序可以在 iPad mini 上运行，因为分辨率是一样的。

和 iPhone 相同的外壳，

我们是否需要为 iPhone 5 开发单独的应用程序？因为它的分辨率与其他 iPhone 不同..

我确信这是一个愚蠢的问题，任何有经验的 iOS 开发人员都会嘲笑它，但由于简单的谷歌搜索没有出现任何问题，我想我会问。

**任何帮助都会得到帮助。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:19:06.393

> iPad2 应用程序可以在 iPad3 上运行吗？

是的，它会。iPad 3 在每个方向上的像素密度正好是 iPad 2 的两倍，因此操作系统会继续“放大”图形（除了那些由应用程序中的图像制成的图形 - 你必须生成一个iPad 3 的这些图像文件的更高分辨率版本）。

> 我们是否需要为 iPhone 5 开发单独的应用程序？

不是一个单独的应用程序，您只需要注意不同的屏幕宽高比。如果不这样做，屏幕顶部和底部将出现黑条。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:19:45.907

iPhone 4 应用程序可以在 iPhone 5 上运行：但它的顶部和底部会有黑色空间，为了重构它，你只需要更改适合 iphone 5 的启动画面。

iPad3 上的 iPad 2 应用程序：除非它们运行不同的 iOS 版本，否则它将毫无问题地运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:18:11.573

据我所知，iPad2 和 iPad3 的区别不会有那么大的问题。（除非你想非常准确）

而你应该为 iPhone5 开发一个新的应用程序，因为它的屏幕格式与 iPad 有很大不同。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T06:20:55.040

是的，您的 iPad 2 工作应用程序可以在 iPad 3 上运行（也取决于 iOS 版本）。只是它看起来不太好 :) 为了使它看起来不错，对于用于您的应用程序的所有图像，您必须添加`@2x`双倍尺寸的图像。至于 iPhone 5，不，您不必开发不同的应用程序，只需要将视图调整大小以适应屏幕。祝你好运！

# timezone - 世界不同城市的纬度、经度和时区的数据库或列表

> ID：13411405
> 
> 赞同：1
> 
> 时间：2012-11-16T06:12:56.633
> 
> 标签：timezone, location

我需要为世界上不同的城市创建一个mysql数据库，详细信息如下

*   经度
*   纬度
*   城市
*   时区

我尝试了很多搜索结果并找到[了 Geolite](http://dev.maxmind.com/geoip/geolite)

由于数据库包含近**40 万**条记录，我害怕将这些数据保存在我的数据库中。此列表中也不存在时区。

是否有任何在线**API/XML**通过传递城市名称来获取详细信息以获取详细信息，或者我是否必须使用 geolite 数据保存在我的数据库中。谢谢。

# android - 单击时可编辑的文本视图

> ID：13411407
> 
> 赞同：7
> 
> 时间：2012-11-16T06:13:17.163
> 
> 标签：android, android-edittext, textview

我有一个带有 textviews 的屏幕，现在我想点击它使其可编辑

我尝试了一种使用edittext将其设置为透明背景的解决方案，但最初它会显示光标并且点击无法正确识别，如果我在xml中将focusbaleintouchmode设置为false，它不会获得焦点。但有些点击无法按预期正常工作.first 这是正确的方法吗？

预期的结果是，一旦用户点击它，textview 应该在那里，一旦用户点击它外部，它应该是可编辑的，它应该是不可编辑的。任何示例代码都会对我有很大帮助。对不起我的英语

提前致谢

最后，我在 xml 编辑文本中使用以下代码得到了一个解决方案，我将 foucasbletouchmode 设置为 false，这使得 click 在 onclick 之后正常工作

```
 et.setFocusable(true);
        et.setEnabled(true);

        et.setFocusableInTouchMode(true);
        et.requestFocus(); 
```

失去焦点

```
 et.setFocusable(false);
        et.setClickable(true);
        et.clearFocus(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T06:23:24.857

您可以使用以下代码：

```
private makeEditable(boolean isEditable,EditText et){
    if(isEditable){
        et.setBackgroundDrawable("Give the textbox background here");//You can store it in some variable and use it over here while making non editable.
        et.setFocusable(true);
        et.setEnabled(true);
        et.setClickable(true);
        et.setFocusableInTouchMode(true);
        et.setKeyListener("Set edit text key listener here"); //You can store it in some variable and use it over here while making non editable.
    }else{
        et.setBackgroundDrawable(new ColorDrawable(Color.WHITE));
        et.setFocusable(false);
        et.setClickable(false);
        et.setFocusableInTouchMode(false);
        et.setEnabled(false);
        et.setKeyListener(null);
    }
} 
```

# database - 是否有适用于 Mac osx 的 Oracle DB 11g 或 10g？

> ID：13411410
> 
> 赞同：7
> 
> 时间：2012-11-16T06:13:45.727
> 
> 标签：database, oracle, oracle11g

我到处搜索，似乎找不到任何适用于 Mac OSX 的 Oracle Database 10/11g 下载。有链接的区域页面，但所有链接都已失效或指向没有 OSX 版本的标准 oracle 下载。

是否有适用于 Mac osx 的 Oracle DB 11g 或 10g？如果是这样，它在哪里？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-04T16:52:38.420

曾几何时，在[http://www.oracle.com/technology/software/products/database/oracle10g/htdocs/10204macsoft_x86-64.html](http://www.oracle.com/technology/software/products/database/oracle10g/htdocs/10204macsoft_x86-64.html)上有一个 10.2.4.0 下载。有些人在[这篇博](http://blog.rayapps.com/2009/09/14/how-to-install-oracle-database-10g-on-mac-os-x-snow-leopard/)文的帮助下让它工作了，但我从来没有让它工作。
甲骨文说，

> “Oracle 数据库 10.2 和 11.1 不再可供下载。对于拥有任何版本的有效 Oracle 数据库产品许可的客户，该软件可作为媒体或 FTP 请求提供。要请求访问这些版本，请按照 Oracle 中的说明进行操作来自 My Oracle Support 的支持文档 1071023.1（请求物理运输或软件媒体的下载 URL）。”

所以，长答案是——有可能让它继续下去，但真正值得怀疑的是它是否值得你努力。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-29T17:36:01.543

对于那些想在 VM 上设置 oracle 的人，这里是一个关于如何根据我的个人经验进行操作的链接 [https://docs.google.com/document/d/1Th5MSIhS13YIJYCD8W1GLnOQEfrfov-92-He1cluTec/pub](https://docs.google.com/document/d/1Th5MSIhS13YIJYCD8W1GLnOQEfrfov-92-He1cluTec/pub)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-07-31T17:07:04.653

我和你有完全相同的问题，想了一会儿。最后，我设法使用 VirtualBox 安装了 11gR2，并[写了一篇详细的博客文章，](http://dimitrisli.wordpress.com/2012/08/08/how-to-install-oracle-database-on-mac-os-any-version/)首先描述了有关 11gR2 的过程，最近又针对 12cR1 进行了更新。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-16T06:57:04.273

Oracle 11g 可用于：

*   微软视窗（32 位）
*   微软视窗 (x64)
*   Linux x86
*   Linux x86-64
*   索拉里斯 (SPARC)
*   Solaris (x86-64)
*   HP-UX 安腾
*   HP-UX PA-RISC（64 位）
*   AIX (PPC64) zLinux64

但不适用于 Mac OSX。

请参阅此[页面](http://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html?ssSourceSiteId=ocomen)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-02-03T09:32:43.607

实际上，Oracle 也应该为 Mac OS 发布一个 Oracle 11g 版本。如果他们正在制作 Oracle Virtual Box 版本，那么他们应该还需要为 Mac OS 制作 Oracle 11g 或 12c 版本。

# ruby-on-rails - 实例化关联模型输入可用于填充模型属性 (has_one)

> ID：13411416
> 
> 赞同：1
> 
> 时间：2012-11-16T06:14:27.520
> 
> 标签：ruby-on-rails, associations, belongs-to, has-one

创建数据模型对象以便我可以创建表单的正确方法是什么。当我第一次创建对象时，它没有具有有效属性数据的参数数据，因此 build_ 返回一个无效对象并且 rails 抛出 500 Internal Server Error。

这是我正在查看的内容：

**楷模**

```
class Credentials < ActiveRecord::Base
belongs_to user
...
class User < Active ::Base
has_one :credentials, :dependent => :destroy
... 
```

**控制器**

```
def new
@cred = current_user.build_credentials 
    render 'edit'
end
    ... 
```

**看法**

```
<%= form_for(@cred) do |f| %> 
```

**日志**

```
Started GET "/credentials" for 127.0.0.1 at 2012-11-16 00:43:26 -0500
Processing by CredentialsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`remember_token` = 'oWGXC2dmcg2sRyg5mvA6fw' LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCredentials Load (0.4ms)[0m  SELECT `credentials`.* FROM `credentials` WHERE `credentials`.`user_id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  Rendered credentials/edit.html.erb within layouts/application (8.8ms)
Completed 500 Internal Server Error in 100ms 
```

**rsec 结果**

```
undefined method `credentials_index_path' for #<#<Class:... 
```

凭证模型有许多验证要求，因此创建的对象`new`是无效的（我可以在控制台中确认这一点），因为填充的唯一值是外键，在本例中为 user_id。但是，在控制台中，我可以建立 @credentials 变量，并在下一个命令中分配所有属性。在 Web 服务器中，500 错误使得无法遵循相同的方法。

**更新** 为了更清楚地说明这一点，问题`@cred = current_user.build_credentials`是返回零。我`raise @cred.inspect`在创建@cred 后直接拨打电话以验证其为零。当我看到`form_for(@cred)...`@cred 只是一个 nil 对象时，它会呕吐`undefined method 'model_name' for NilClass:Class`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:01:22.167

为什么凭据属于控制器？它应该属于用户，如果使用`has_one`关联，则应使用凭证的单数名词：

**模型**

```
class Credential < ActiveRecord::Base
belongs_to user
...
class User < Active ::Base
has_one :credential, :dependent => :destroy 
```

**控制器**

在您的控制器中，如果您想为表单创建新对象，您只需要：

```
def new
  @cred = current_user.build_credential 
end

def create
  @cred = current_user.build_credential(params[:cred])
  if @cred.save
    # what you do when creating object success
  else
    # what you do when creating object failed
  end
end 
```

**看法**

在您的`new.html.erb`in`app/views/credentials/`文件夹中，创建您的表单：

```
<%= form_for @cred do |f| %>
...
<% end %> 
```

要链接到`new.html.erb`页面，请在您的视图中创建一个`link_to`：

```
<%= link_to 'New Credential', new_credential_path %> 
```

**路线**

如果您想使用 RESTful 路由，请在您的`routes.rb`中为您没有的凭证添加资源：

```
resources :credentials 
```

# linux - 小数据包的吞吐量较低

> ID：13411422
> 
> 赞同：1
> 
> 时间：2012-11-16T06:15:00.797
> 
> 标签：linux, networking

我有一个问题，与大小为 1500 字节的数据包相比，为什么我的机器的吞吐量对于小数据包（即 64 字节）非常糟糕？

我有一个 GIGABIT NIC 卡，能够以 80MB/s 的速度传输 1500 字节大小的数据包，但在 64 字节大小的数据包的情况下，我几乎无法分辨出 25MB/s 左右。

我知道在 1500 字节数据包的情况下，我需要发送大约 80k PPS 才能达到线路速率，而对于 64 字节，它大约需要 140 万 PPS。

但是为什么小数据包的吞吐量会有很大的变化呢？

**编辑：**我在linux中使用内存映射将数据包从用户空间传输到内核空间，然后直接写入网络驱动程序进行传输。我发现我的 CPU 使用率在 64 字节和 1500 字节数据包之间进行比较时非常少且相同。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:21:28.717

> 但是为什么小数据包的吞吐量会有很大的变化呢？

CPU 压力。与其大小无关，每一个发出的数据包在到达接口之前都会经过大量处理。换句话说，传输小数据包和大数据包的“成本”是相当的。

如果您对此感兴趣，您可能想查看 Linux 内核中的“GSO”和“UFO”——它是专门为此开发的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:21:52.953

发送数据包标头需要时间。设置 DMA 缓冲区、处理数据包标头等需要时间。所有这些额外的工作都会减少可以发送的实际有效负载的数量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:24:02.557

想一想：每个数据包的标头都包含有效载荷（数据）的大小和一些通用数据。假设标题是 16 个字节。

如果您发送 1000 个 64 字节的数据包，则发送`1000 * (64 + 16) = 64000 + 16000 bytes`.

如果您一次性发送它，它只是`64000+16 bytes`。

# css - CSS 表格元素

> ID：13411423
> 
> 赞同：1
> 
> 时间：2012-11-16T06:15:06.047
> 
> 标签：css, html-table

我继承了一些网页更新的责任，并且必须在现有设计的参数范围内工作，但使用的编码是所有表格，每个表格单元格中都有很多格式。我只是想解决它就头疼。我想通过使用样式来简化，并且需要有几种不同的样式。具体来说，表格标题都是粗体、居中和一种字体大小，因此它将获得一种样式的行。第一列需要加粗并居中，第五列居中（但常规字体粗细）。所有其他列都是左对齐和常规权重。这些行在白色和彩色之间交替。

所以我的问题是我可以以两种样式设置行以更改颜色，然后我将如何设置需要加粗和/或居中的 2 列的样式，或者我是否需要设置每个单元格的样式以使其工作？

```
<tr style="height: 27.75pt">
        <td style="padding-right: 5.4pt; padding-left: 5.4pt; background: #d2eaf1; padding-bottom: 0in; border-left: #78c0d4 1pt solid; width: 41.4pt; border-top-color: #f0f0f0; padding-top: 0in; border-bottom: #78c0d4 1pt solid; height: 27.75pt; border-right-color: #f0f0f0" valign="top" width="55">
            <p align="center" style="margin: 0in 0in 0pt; line-height: normal; text-align: center">
                <strong><span style="font-size: 10pt; color: black; font-family: 'Tahoma','sans-serif'">2</span></strong></p>
        </td>
        <td style="padding-right: 5.4pt; padding-left: 5.4pt; border-left-color: #f0f0f0; background: #d2eaf1; padding-bottom: 0in; width: 137.8pt; border-top-color: #f0f0f0; padding-top: 0in; border-bottom: #78c0d4 1pt solid; height: 27.75pt; border-right-color: #f0f0f0" valign="top" width="184">
            <p style="margin: 0in 0in 0pt; line-height: normal">
                <span style="font-size: 10pt; font-family: 'Tahoma','sans-serif'">Grace Episcopal Church</span></p>
        </td>
        <td style="padding-right: 5.4pt; padding-left: 5.4pt; border-left-color: #f0f0f0; background: #d2eaf1; padding-bottom: 0in; width: 72.45pt; border-top-color: #f0f0f0; padding-top: 0in; border-bottom: #78c0d4 1pt solid; height: 27.75pt; border-right-color: #f0f0f0" valign="top" width="97">
            <p style="margin: 0in 0in 0pt; line-height: normal">
                <span style="font-size: 10pt; font-family: 'Tahoma','sans-serif'">Nyack</span></p>
        </td>
        <td style="padding-right: 5.4pt; padding-left: 5.4pt; border-left-color: #f0f0f0; background: #d2eaf1; padding-bottom: 0in; width: 96.85pt; border-top-color: #f0f0f0; padding-top: 0in; border-bottom: #78c0d4 1pt solid; height: 27.75pt; border-right-color: #f0f0f0" valign="top" width="129">
            <p style="margin: 0in 0in 0pt; line-height: normal">
                <span style="font-size: 10pt; font-family: 'Tahoma','sans-serif'">John Smith</span></p>
            <p style="margin: 0in 0in 0pt; line-height: normal">
                <span style="font-size: 10pt; font-family: 'Tahoma','sans-serif'">Tom Jones&nbsp;</span></p>
        </td>
        <td style="padding-right: 5.4pt; padding-left: 5.4pt; border-left-color: #f0f0f0; background: #d2eaf1; padding-bottom: 0in; width: 63pt; border-top-color: #f0f0f0; padding-top: 0in; border-bottom: #78c0d4 1pt solid; height: 27.75pt; border-right-color: #f0f0f0" valign="top" width="84">
            <p align="center" style="margin: 0in 0in 0pt; line-height: normal; text-align: center">
                <span style="font-size: 10pt; font-family: 'Tahoma','sans-serif'">222-1234</span></p>
            <p align="center" style="margin: 0in 0in 0pt; line-height: normal; text-align: center">
                <span style="font-size: 10pt; font-family: 'Tahoma','sans-serif'">333-6789</span></p>
        </td>
        <td style="border-right: #78c0d4 1pt solid; padding-right: 5.4pt; padding-left: 5.4pt; border-left-color: #f0f0f0; background: #d2eaf1; padding-bottom: 0in; width: 147.4pt; border-top-color: #f0f0f0; padding-top: 0in; border-bottom: #78c0d4 1pt solid; height: 27.75pt" valign="top" width="197">
            <p style="margin: 0in 0in 0pt; line-height: normal">
                <a href="mailto:johnsmith@optonline.net"><span style="font-size: 10pt; font-family: 'Tahoma','sans-serif'">johnsmith@optonline.net</span></a></p>
            <p style="margin: 0in 0in 0pt; line-height: normal">
                <a href="mailto:tomjones@att.net"><u><span style="font-size: 10pt; font-family: 'Tahoma','sans-serif'">tomjones@att.net&nbsp;</span></u></a></p>
        </td>
    </tr> 
```

我已经用内部样式表清理了大部分代码，但还有两个问题。每列的宽度不会使用每个列类中的宽度样式更改。此外，当我将字体大小从 11pt 更改为 12 pt 时，它会将文本包裹在两列中，从而偏离了表格的预期设计。我敢肯定，此时我错过了一个相当简单的调整。

如果重要的话，我正在使用一个拥有自己所见即所得前端的站点，并且我对源代码的访问权限有限 - 我可以进行一些更改但不能完全控制，但这就是我一直在使用的。

```
<style type="text/css">
.tablestyle {
border: #78c0d4 1pt solid;
cellpadding:none;
cellspacing: none;
border: medium none; 
border-collapse: collapse;
width: 740;
    table-layout: fixed;
}

#heading {
text-align:center;
line-height:normal;
font-size:26px;
font-family: Arial, Helvetica, sans-serif;
color:#252525;
}

.tablerowblue {
border: #78c0d4 1pt solid; 
background: #d2eaf1; 
border-right-color: #f0f0f0; 
vertical-align:top;
line-height: normal; 
font-size: 12px; 
color: black; 
font-family: Arial, Helvetica, sans-serif;
}

.tablerowwhite {
border: #78c0d4 1pt solid; 
background: #ffffff; 
vertical-align:top;
line-height: normal; 
font-size: 12px; 
color: black; 
font-family: Arial, Helvetica, sans-serif;
}

.tableheadbold {
padding: 0 5px; 
border: #78c0d4 1pt solid; 
background: #4bacc6; 
border-right-color: #f0f0f0; 
vertical-align:top;
text-align: center;
font-size: 12px; 
color: black; 
font-family: Arial, Helvetica, sans-serif;
font-weight:bold;
}

.col1 {
width: 40;
font-weight:bold;
text-align:center;
border: #78c0d4 1pt solid;
}
.col2 {
width:80;
border: #78c0d4 1pt solid;
padding: 0px 5px;
}
.col3 {
width:70;
border: #78c0d4 1pt solid;
padding: 0px 5px;
}
.col4 {
width:170;
border: #78c0d4 1pt solid;
padding: 0px 5px;
}
.col5 {
width:140;
text-align:center;
border: #78c0d4 1pt solid;
padding: 0px 5px;
}
.col6 {
width:190;
color:black;
border: #78c0d4 1pt solid;
padding: 0px 5px;
}
</style>

<div>
&nbsp;</div>
<p id="heading">
Troops</p>
<p>
&nbsp;</p>
<table class="tablestyle">
<tbody>
    <tr class="tableheadbold">
        <td>
            Troop</td>
        <td>
            Chartered Organization<br />
            Meeting Location</td>
        <td>
            Town/City</td>
        <td>
            Unit Leader<br />
            Comm. Chair</td>
        <td>
            Phone</td>
        <td>
            E-Mail</td>
    </tr>
    <tr class="tablerowwhite">
        <td class="col1">
            2</td>
        <td class="col2">
            Grace Episcopal Church</td>
        <td class="col3">
            Nyack</td>
        <td class="col4">
            Leader Name 1<br />
            Leader Name 2</td>
        <td class="col5">
            222-1234<br />
            333-6789</td>
        <td class="col6">
        <a  href="mailto:johnsmith@optonline.net">johnsmith@optonline.net</a><br />
            <a href="mailto:tomjones.net">tomjones.net</a></td>
    </tr>
    <tr class="tablerowblue">
        <td class="col1">
            10</td>
        <td class="col2">
            Atonement Lutheran Church</td>
        <td class="col3">
            Stony Point</td>
        <td class="col4">
            Leader Name 1<br />
            Leader Name 2</td>
        <td class="col5">
            222-1234<br />
            333-6789</td>
        <td class="col6">
        <a href="mailto:johnsmith@optonline.net">johnsmith@optonline.net</a><br />
            <a href="mailto:tomjones.net">tomjones.net</a></td>
    </tr>

</tbody>
</table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:23:35.033

您可以使用伪选择器来定位特定的 td `nth-child`，这样您就不必遍历所有 td 并为它们一个一个地添加一个类。

这里有一个快速演示：http: [//jsfiddle.net/Ftb6x/](http://jsfiddle.net/Ftb6x/)

不幸的是，并非每个浏览器都支持它：http: [//caniuse.com/#search=nth-child](http://caniuse.com/#search=nth-child)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:24:24.420

使用类选择器..

```
.tableStyle td {
  text-align:left;
}

.row_w td {
  background-color:#fff;
}

.row_c td {
  background-color:#ffc;
}

.col_1 {
  font-weight:bold;
  text-align:center;
}

.col_5 {
  text-align:center;
}

.row_h { /*anytime you want to customize */ } 
```

HTML

```
<table class="tableStyle" >
  <tr class="row_h" ><th ></th>.. <th></td></tr>
  <tr class="row_w" ><td class="col_1" ></td>.. <td class="col_5" ></td>... </tr>
  <tr class="row_c" ><td class="col_1" ></td>.. <td class="col_5" ></td>... </tr>
</table> 
```

其余的 TDs/THs 将遵循 TR 类风格指示的风格。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T07:27:36.557

标记看起来像是用 Microsoft Word 生成的。很难覆盖那里的所有呈现混乱，尤其是以点或点的分数设置的单元格宽度。我建议清理标记。我有一个小[实用程序](http://www.cs.tut.fi/~jkorpela/cleanword.html)。它不会删除`p`单元格内无意义的标记，但可以通过设置在渲染中有效地忽略该标记

```
th p, td p { margin: 0; } 
```

整理好文档后，在页面上设置字体（Arial 很无聊，但比 Tahoma 好），然后合理设置表格边框、单元格间距和单元格填充。

然后将标题单元格（我想这就是“表格标题”所指的）放在`tr`里面的 a 中`thead`，并`th`用于单元格。然后它们将默认为粗体并居中。它们通常应该与表的其余部分具有相同的大小，但如果需要，可以通过以下方式使其更大：

```
thead th { font-size: 110%; } 
```

您可能会考虑制作第一列单元格`th`，因为它们听起来像标题，但也许只需设置

```
td:first-child { text-align: center; font-weight: bold; } 
```

尽管这样的样式对于代码片段中的数据看起来很奇怪——它看起来应该是左对齐的。同样，电话号码不应该居中，但如果你坚持，这可以通过设置在这种情况下完成

```
td:nth-child(5) { text-align: center; } 
```

要设置交替的背景颜色，如发布的代码片段中所示，请使用

```
tr:nth-child(odd) { background: #d2eaf1; } 
```

如果有人为使样式在旧版本的 IE（IE 8 和更早版本）上工作所需的额外工作付费，那么您可以使用`col`元素添加基于列的样式，或者使用[Selectivzr](http://selectivizr.com/) polyfill 可能更好。

# java - Java如何以原始类型作为参数通过反射调用方法

> ID：13411426
> 
> 赞同：66
> 
> 时间：2012-11-16T06:15:21.957
> 
> 标签：java, reflection

我在一个类中有以下两种方法：

```
public void Test(int i){
    System.out.println("1");
}
public void Test(Integer i){
    System.out.println("2");
} 
```

以下代码行

```
this.getClass().getMethod("Test",Integer.class).invoke(this, 10); 
```

打印`2`，如何打印`1`？

* * *

## 回答 #1

> 赞同：126
> 
> 时间：2012-11-16T06:23:19.143

使用反射调用以原始类型作为参数的方法：

你可以使用 `int.class`

```
this.getClass().getMethod("Test",int.class).invoke(this, 10); 
```

或者`Integer.TYPE`

```
this.getClass().getMethod("Test",Integer.TYPE).invoke(this, 10); 
```

同样适用于其他原始类型

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-11-16T06:18:47.740

奇怪但真实：

```
this.getClass().getMethod("Test",int.class).invoke(this, 10); 
```

# jquery - 无法在 IE 中使用 JQuery 在列表框中添加选项，但在 Firefox 中可以正常工作

> ID：13411427
> 
> 赞同：1
> 
> 时间：2012-11-16T06:15:30.607
> 
> 标签：jquery

我有一个小的 JQuery 代码来根据下拉值填充/过滤列表框。然而，它在 Firefox 中工作正常，但在 IE9 中的以下代码行向列表框添加选项时会引发无效参数错误。

```
catvalues.add(el); 
```

这是完整的代码：

```
var names = $('#names');
$('select[title="Category possible values"] > option').appendTo('#names');
var catvalues =$('select[title="Category possible values"]')[0];

$('select[title="ProductName"]').change(function() {

    var val = $(this).children("option:selected").text();  
    $('select[title="Category possible values"]').empty();
    var opts=names.clone();
    opts.children().each(function(idx, el) {
        if (el.text.indexOf(val) >= 0)
        {
            catvalues.add(el);
        }
   });
}); 
```

# microsoft-metro - 更改 winrt 应用程序中 gridview 所选项目的默认颜色

> ID：13411428
> 
> 赞同：2
> 
> 时间：2012-11-16T06:15:34.180
> 
> 标签：microsoft-metro, winrt-xaml

我正在尝试更改 winrt 应用程序中 gridview 边框选定项的默认颜色。我尝试在混合（项目容器模板）中找到它，但仍然没有运气。这里有人知道怎么做吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T02:47:26.217

我在这里找到了答案[http://labs.vectorform.com/2012/09/styling-a-gridviewitem-in-winrt/](http://labs.vectorform.com/2012/09/styling-a-gridviewitem-in-winrt/) 只需更改代码中的颜色，就可以了 :)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-16T08:39:46.513

看看这是否有效...... :)

```
 <GridView>
        <GridView.BorderBrush>
            <SolidColorBrush Color="Red" />
        </GridView.BorderBrush>
    </GridView> 
```

# java - 三个浮点数的概率

> ID：13411439
> 
> 赞同：0
> 
> 时间：2012-11-16T06:17:09.353
> 
> 标签：java

我如何在代码中实现这一点 我正在接受三个单独的浮点数的用户输入，这些浮点数必须加到一个（即 .333333、.333333、.333333）这些数字是数字（-1,0,1）的概率随机挑选的。

`if( new Random().nextDouble() <= 0.333334){array[i]=randomNumber(-1,0,1)`?

或类似的规定？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:19:47.143

*三个浮点数加起来正好*为 1.0的可能性非常低，因为许多（大多数）实数不能完全表示为浮点数。你能做的最好的就是输入两个数字并计算第三个数字，这样可以保证它们加起来等于 1.0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T09:22:30.787

```
public static void main(String[] args) {
    double[] probs = readProbabilities();
    double random = new Random().nextDouble();
    int randomNumber;
    if (random <= probs[0]) {
        randomNumber = -1;
    } else if (random <= (probs[0] + probs[1])) {
        randomNumber = 0;
    } else {
        randomNumber = 1;
    }
    System.out.println("Random Number is " + randomNumber);
}

public static double[] readProbabilities() {
    Scanner sc = new Scanner(System.in);
    double first, second, third;
    System.out.print("Please insert 1st probability: ");
    first = sc.nextDouble();
    while (first < 0.0 || first > 1.0) {
        System.out.print("Must be between 0.0 and 1.0, try again: ");
        first = sc.nextDouble();
    }
    System.out.print("Please insert 2nd probability: ");
    second = sc.nextDouble();
    while (second < 0.0 || (first + second) > 1.0 ) {
        System.out.print("Must be between 0.0 and " + (1.0 - first) + ":");
        second = sc.nextDouble();
    }
    third = 1.0 - (first + second);
    System.out.println("3rd Possibility is " + third);
    return new double[] {first, second, third};
} 
```

问题？

# jquery - 我们应该使用 Twitter Bootstrap 吗？

> ID：13411442
> 
> 赞同：0
> 
> 时间：2012-11-16T06:17:52.527
> 
> 标签：jquery, css, ajax, jquery-ui, twitter-bootstrap

我们正在构建 Gmail 之类的内部实现，但尚未决定设计方法。界面将非常相似 - 有聊天、通知、电子邮件等。代码已经到位，但我们还没有将 UI 拉到一起。

似乎 TB 为前端开发人员提供了一个基于 UI 的框架，但是我不确定该框架有多“严格”。我们不想花更多的时间来定制框架来实现我们需要的外观，而不是仅仅实现我们自己的 HTML/CSS/AJAX 等。

TB 的网格/布局如何（轻松）定制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:35:42.587

Twitter Bootstrap 非常适合入门，但很容易陷入它所鼓励的相同设计模式。然后，如果你想让它更加定制化，你会覆盖它们的属性，这会增加很多代码膨胀。

我会推荐一个更小的框架。您将编写更多代码，但您可以更好地控制代码的呈现方式。如果您可以使用 SASS，我建议您使用thoughtbot 的[波旁威士忌](https://github.com/thoughtbot/bourbon)和[整洁](https://github.com/thoughtbot/neat)的产品。如果您不使用 SASS，它们可能无法满足您的确切目的，但它们会让您了解轻量级框架对您来说应该是什么样子。

编辑：

我重读了你的问题，看起来网格组件很重要。在这种情况下，我喜欢[Skeleton](http://www.getskeleton.com/)，因为它具有良好的响应性和可调整的布局，并且它带有易于覆盖的合理默认值，并且没有很多代码膨胀。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:27:21.130

有许多工具可以[轻松定制](http://twitter.github.com/bootstrap/customize.html)TB。一般来说，我应该说认为使用另一个带有 TB 的框架是个好主意，比如 Backbone.js。如果您想更改样式布局等，这将对您有所帮助。

所以，TB 是非常可定制的。

# c# - 如何将多个数据表存储到一个数据集中

> ID：13411448
> 
> 赞同：3
> 
> 时间：2012-11-16T06:18:25.640
> 
> 标签：c#, asp.net, ado.net

我有多个数据表。我想将所有数据表行显示到一个网格视图中。我怎样才能做到这一点？

```
DataTable dtbag101 = (DataTable)Session["bag101"];
DataTable dtwallet111 = (DataTable)Session["wallet111"];

DataSet ds= new DataSet();
ds.Tables.Add(dtbag101);
ds.Tables.Add(dtwallet111);

GridView1.DataSource= ds;
GridView1.DataBind(); 
```

两个数据表的列名相同。在这里，我尝试使用数据集，但只有第一个 DataTable 即 datbag101 显示在 gridview 中。

如何在一个网格视图中显示所有值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:25:29.007

假设您的两个数据表具有相同的列，您可以使用一些方便的 LINQ 将它们联合起来。

```
DataTable dtbag101 = (DataTable)Session["bag101"];
DataTable dtwallet111 = (DataTable)Session["wallet111"];

var result = dtbag101.AsEnumerable().Union(dtwallet111.AsEnumerable());

GridView1.DataSource = result;
GridView1.DataBind(); 
```

否则尝试使用`DataTable.Merge`：

```
DataTable dtbag101 = (DataTable)Session["bag101"];
DataTable dtwallet111 = (DataTable)Session["wallet111"];

dtbag101.Merge(dtwallet111, true);

GridView1.DataSource = dtbag101;
GridView1.DataBind(); 
```

我不确定为什么这对你不起作用。[试试这个方法（从这里](https://stackoverflow.com/questions/920505/how-to-union-2-or-more-datatables-in-c)抓取）：

```
public static DataTable Union(DataTable First, DataTable Second)
{
      //Result table
      DataTable table = new DataTable("Union");

      //Build new columns
      DataColumn[] newcolumns = new DataColumn[First.Columns.Count];

      for(int i=0; i < First.Columns.Count; i++)
      {
          newcolumns[i] = new DataColumn(
          First.Columns[i].ColumnName, First.Columns[i].DataType);
      }

      table.Columns.AddRange(newcolumns);
      table.BeginLoadData();

      foreach(DataRow row in First.Rows)
      {
           table.LoadDataRow(row.ItemArray,true);
      }

      foreach(DataRow row in Second.Rows)
      {
          table.LoadDataRow(row.ItemArray,true);
      }

      table.EndLoadData();
      return table;
} 
```

使用您的两个数据表调用该方法：

```
GridView1.DataSource = Union(dtbag101, dtwallet111); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:37:09.853

您可以简单地使用**[`DataTable.Merge`](http://msdn.microsoft.com/en-us/library/2wfzxak4%28vs.71%29.aspx)**方法

```
DataTable dtbag101 = (DataTable)Session["bag101"];
DataTable dtwallet111 = (DataTable)Session["wallet111"];

dtbag101.Merge(dtwallet111);  //Merge action

GridView1.DataSource= dtbag101;
GridView1.DataBind(); 
```

我对此知之甚少。现在才提到。

**要不然**

尝试循环

```
DataSet ds = new DataSet();
addTables(dtbag101);
addTables(dtwallet111); //ds will be merge of both tables here 
```

* * *

```
private void addTables(DataTable dt)
{
   for(int intCount = ds.Tables[0].Rows.Count; intCount < dt.Rows.Count;intCount++)
   {
       for(int intSubCount = 0;intSubCount < dt.Columns.Count; intSubCount++)
       {
          ds.Tables[0].Rows[intCount][intSubCount] = dt.Rows[intCount][intSubCount];
       }
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:19:30.223

您可能需要使用[**DataTable.Merge**](http://msdn.microsoft.com/en-us/library/wkk7s5zk.aspx)

```
DataTable dtAll = new DataTable();
dtAll = dtbag101 .Copy();
dtAll.Merge(dtwallet111, true);
GridView1.DataSource= dtAll;
GridView1.DataBind(); 
```

*编辑以显示它应该如何工作*

```
private void BindGridWithMergeTables()
{
    DataTable dt1 = new DataTable();
    DataTable dt2 = new DataTable();

    dt1.Columns.Add("ID");
    dt2.Columns.Add("ID");

    DataRow dr1 = dt1.NewRow();
    DataRow dr2 = dt2.NewRow();

    dr1["ID"] = "1";
    dr2["ID"] = "2";
    dt1.Rows.Add(dr1);
    dt2.Rows.Add(dr2);

    DataTable dtAll = new DataTable();
    dtAll = dt1.Copy();
    dtAll.Merge(dt2, true);
    dataGridView1.DataSource = dtAll;
    dataGridView1.DataBind();

} 
```

# php - 外部php应用程序是否可以连接google sql

> ID：13411451
> 
> 赞同：0
> 
> 时间：2012-11-16T06:18:43.603
> 
> 标签：php, yii

我需要在众所周知的 php 框架 Yii 上构建一个 php 应用程序，并且我需要将该应用程序与 Google sql 连接起来。这可能吗。如果可能，那么如何，请您帮助我提供任何说明或在线教程。请让我知道，提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:32:12.520

您可以使用 Google Apps Script 的 JDBC 服务来访问 Google Cloud SQL。有关更多信息，请查看[访问 Google Cloud SQL 数据库](https://developers.google.com/apps-script/jdbc#accessing_google_cloud_sql_databases)。它不使用原生 PHP 驱动程序，但它是您可以与 PHP 一起使用的最接近的东西。

# jquery - 使用 jquery 在 THIS 之前获取特定元素

> ID：13411456
> 
> 赞同：3
> 
> 时间：2012-11-16T06:19:16.760
> 
> 标签：jquery, html

这听起来很简单，所以我不确定我在哪里卡住了。我有一个手动验证的表格。根据需要检查单选按钮后，我需要获取此元素上方的标签。这是HTML。我无法更改标记，因为此代码是继承，是更大过程的一部分。

所以这是我的 HTML：

```
<label>Do you market on? : </label>
<li>
    <label>Plenty of Fish:</label>
    <span href="#" style="float:  left; margin-right: 10px;">
        <input type="radio" class="required" name="data[SignupAnswer][100][answer]" value="yes" />Yes
    </span>
    <span href="#" style="float: left; margin-right: 10px;"> 
        <input type="radio" class="required" name="data[SignupAnswer][100][answer]" value="no" />No
    </span>
    <input type="hidden" name="data[SignupAnswer][100][signup_question_id]" value="100">
    <input type="hidden" name="data[SignupAnswer][100][class]" value="bool">
    <input type="hidden" name="data[SignupAnswer][100][required]" value="0">
    <input type="hidden" name="data[SignupAnswer][100][question]" value="Plenty of Fish">
</li> 
```

我找到了第一个收音机，然后我需要在它上面找到名为“Plenty of Fish”的标签。

我尝试使用 .prev() 和 .closest()，两者都使用 ('label')，但两者都没有返回实际元素，而是返回这个对象：

```
[prevObject: jQuery.fn.jQuery.init[1], context: <input>, selector: ".next(li)"] 
```

也许有人可以向我解释为什么我得到这个而不是一个元素？并告诉我如何获得所需的元素？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T06:22:51.740

`closest`选择第一个最近的父元素（*由选择器指定*），您可以选择父`li`元素然后找到`label`：

```
$(this).closest('li').find('label') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:26:05.590

这是一些家庭时间。`.parents()`和`.children()`

```
$('input[value=yes]').parents('li').children('label') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T06:39:26.593

另一种方法？`$('input[type="radio"]:first').parent().siblings('label')`

# json - 将 JSON 对象转换为 Java bean

> ID：13411459
> 
> 赞同：1
> 
> 时间：2012-11-16T06:19:18.957
> 
> 标签：json, jsonserializer

如何将 json 对象转换为以下类型的 java bean(MainBean)

```
class MainBean{
private int id;
private SubBean sBean;
}  
class SubBean{
private String name;
private List<DBean> dBean;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T08:00:18.587

有很多图书馆可以做到这一点。
例如，您可以使用`Google-Gson`

```
MainBean bean = new Gson().fromJson(yourJsonAsString, MainBean.class); 
```

像这样的 JSON 会被很好地转换

```
{"id" : 1, "sBean" : {"name" : "beanname", "dBean" : []}} 
```

# android - 如何以正确的格式在 Android WebView 中显示 html 文本？

> ID：13411464
> 
> 赞同：0
> 
> 时间：2012-11-16T06:19:29.920
> 
> 标签：android, html, android-webview

我有一个字符串，其中包含从 json 文件解析的 html 文本和图像。我需要显示它`webview`。该字符串由 3-4 个段落组成，但在显示时`webview`显示为一个段落，即 android`webview`跳过了断线标签。但我的要求是在正确对齐的网站中显示。请帮助我。

我的 Json 文件链接是[这个](http://www.africanmoviesnews.com/App_Webservices/homepost.php?min=0&max=15)

我的`webview`代码是

```
//newsContent contains the json string after parsing.

  String all="<html><body>"+newsContent+"</body></html>";

                 tv.getSettings().setJavaScriptEnabled(true); 
                 tv.getSettings().setPluginsEnabled(true);
                 tv.getSettings().setSupportZoom(false);
                 tv.getSettings().setAllowFileAccess(true);
                 WebSettings webSettings = tv.getSettings();
                 tv.getSettings().setAllowFileAccess(true);
                 webSettings.setTextSize(WebSettings.TextSize.NORMAL);

                 tv.loadDataWithBaseURL(null,all, "text/html", "UTF-8", null); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T07:47:44.680

问题在于您的 json 数据中的“\r\n”。看起来 \r\n 仅在它们被包装在标签中时才起作用。简单的解决方案是将 \r\n 替换为
标签。

`String all="<html><body>"+newsContent.replace("\r\n", "<br/>")+"</body></html>";`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-20T16:42:50.840

```
String text = "<html><body style=\"text-align:justify\"> %s </body></Html>";
String data = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ac quam risus, at tempus justo. Sed dictum rutrum massa eu volutpat. Quisque vitae hendrerit sem.";
WebView webView = (WebView) findViewById(R.id.WebView);
webView.loadData(String.format(text, data), "text/html", "utf-8"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-16T06:06:42.593

下面的作品。应该有双斜线 \r\n

```
String all=""+newsContent.replace("\\r\\n", " 
")+"";

```

# jquery - jquery淡入淡出在iphone和ipad上不起作用

> ID：13411469
> 
> 赞同：1
> 
> 时间：2012-11-16T06:20:14.683
> 
> 标签：jquery, ipad

在标准桌面浏览器上，以下代码都可以正常工作：

```
<script>
$(window).scroll(function(){
  var leftToBottom = $(document).height() - $(window).height() - $(window).scrollTop();
  var distanceFromTop = $(window).scrollTop();
  if( distanceFromTop > 800 
        && !$("#content-about").is(":visible") 
        && leftToBottom > 2000) {
    $("#content-about").fadeIn("slow");
  }else{
    if( $("#content-about").is(":visible") 
          && (distanceFromTop < 800 
          || leftToBottom     < 2000 ) ){
      $("#content-about").fadeOut("slow");
    }
});
</script> 
```

当浏览器向上或向下滚动时，div 标签出现和消失的位置。在 ipad/iphone 上，它会间歇性地工作，有时它会出现然后你回去，它就完全消失了！！div标签的css设置如下：

```
#content-about {
width: 900px;
height:750px;
top:1200px;
position:absolute;
text-align:center;
} 
```

# javascript - 谷歌电视 HTML5 模板

> ID：13411470
> 
> 赞同：0
> 
> 时间：2012-11-16T06:20:27.990
> 
> 标签：javascript, html, templates, google-tv

我正在使用 Google TV HTML5 模板的模板 1： [https ://code.google.com/p/gtv-resources/](https://code.google.com/p/gtv-resources/)

现场示例： http: [//gtv-resources.googlecode.com/svn/trunk/templates/html-01/index.html](http://gtv-resources.googlecode.com/svn/trunk/templates/html-01/index.html)

我正在尝试使用不同的源列表更新“dataprovider.js”文件。

这是原始的、未修改的文件供参考： http: [//pastebin.com/L2U54DPZ](http://pastebin.com/L2U54DPZ)

我希望能够指定我自己的视频列表。我已将其简化为一个包含两个视频的类别。 [http://pastebin.com/XvcC01BY](http://pastebin.com/XvcC01BY)

菜单显示在左侧，但视频根本不显示。截图：http: [//i49.tinypic.com/35a0tbp.jpg](http://i49.tinypic.com/35a0tbp.jpg)

这是一个使用我更新的 dataprovider.js 文件的实时示例：[http ://rrcustom.com/stackoverflow/gtv-html5](http://rrcustom.com/stackoverflow/gtv-html5)

非常感谢提供的任何帮助。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T15:43:12.367

不幸的是，不支持 OGG 视频（请参阅[https://developers.google.com/tv/android/docs/gtv_media_formats](https://developers.google.com/tv/android/docs/gtv_media_formats)） - 因为您正在尝试玩大钱兔子，我建议使用视频的 MP4 H.264 版本（或自己转码）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-26T18:11:11.650

我是否建议将 event_videos 实例化移动到数据实例化之前。

（即将第 19 - 34 行移至第 9 行）

# css - CSS圆形边框？

> ID：13411472
> 
> 赞同：1
> 
> 时间：2012-11-16T06:20:29.253
> 
> 标签：css, border, geometry

我想知道如何`border: white dotted 2px;`在 CSS 中使用圆形或圆点（不是方点，<- 我不想要这个）的边框？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T06:23:30.417

**编辑：**

我建议使用[CSS3 border-image](http://border-image.com/)并理解 IE10 及以下版本需要[polyfill](http://css3pie.com/documentation/supported-css3-features/)。

```
.bordered-box {
    border-style: solid;
    border-width: 27px;
    -moz-border-image: url(http://www.w3.org/TR/css3-background/border.png) 27 repeat;
    -webkit-border-image: url(http://www.w3.org/TR/css3-background/border.png) 27 repeat;
    -o-border-image: url(http://www.w3.org/TR/css3-background/border.png) 27 repeat;
    border-image: url(http://www.w3.org/TR/css3-background/border.png) 27 fill repeat;
} 
```

**原始接受的答案：**

保证它在所有浏览器中显示为圆圈的唯一方法是使用图像。

这里有一个教程：http: [//www.htmlgoodies.com/beyond/css/how-to-create-border-images-using-css3.html](http://www.htmlgoodies.com/beyond/css/how-to-create-border-images-using-css3.html)

CSS：

```
.dots {
    border-width: 30px;
    -webkit-border-image:url(images/dots.png) 30 repeat stretch;
    -moz-border-image:url(images/dots.png) 30 repeat stretch;
    border-image:url(images/dots.png) 30 repeat stretch;
    padding: 30px;
} 
```

HTML：

```
<div class="dots"></div> 
```

图片：

![点的CSS3图像边框](../Images/b27432cde429d97aa9318c7a893ec24e.png)

如果您需要它为 IE 工作，您也可以创建一个具有点背景的包装 div，并为内部 div 提供点的任何高度的填充。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:26:34.457

它在浏览器中没有得到很好的支持，但你应该看看 css3 属性边框图像：

```
-moz-border-image:url(border.png) 30 30 round; /* Firefox */    
-webkit-border-image:url(border.png) 30 30 round; /* Safari and Chrome */    
-o-border-image:url(border.png) 30 30 round; /* Opera */    
border-image:url(border.png) 30 30 round; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:28:49.313

如果 CSS3 是一个选项，那么该`border-image`属性是您最好的选择。这是关于这个主题的教程： http: [//css-tricks.com/understanding-border-image/](http://css-tricks.com/understanding-border-image/)

# asp.net - 数据库隔离模型

> ID：13411474
> 
> 赞同：2
> 
> 时间：2012-11-16T06:20:47.000
> 
> 标签：asp.net, sql-server, vb.net, sql-server-2008, sql-server-2008-r2

我有一个带有“ID”列的数据库。每当数据库有新条目时，我都会从数据库中获取最后一个 ID，增加值，然后在 Insert 语句中使用它。

**编辑：我需要在多个插入语句中使用 ID。我将从主表中获取此 ID，并使用此 ID 将值插入相关表中。**

```
 NextID = Select Max(ID) + 1 From Table

    INSERT INTO Table1(ID, Col1, Col2...) Values(NextId, Value1, Value2...)

    INSERT INTO Table2 (ID,col1,col2....) Values (NextID, Value1, Value2...) 
```

我不知道这是否是一个好方法，因为我知道会有并发问题。当我的应用程序尝试读取 NextID 时，有可能该应用程序的另一个实例也尝试读取相同的值，因此可能会出现并发问题。

有没有适当的方法来处理这种情况？我的意思是有一些方法可以设置数据库隔离级别。对于这种情况，这将是适当的隔离级别。

此外，如果有人可以建议我用另一种方法来手动维护和增加数据库中的 ID，我也愿意接受。

如果这些信息还不够，请告诉我您需要什么。

我正在使用带有 VB 和 MS Sql Server 2008 的 ASP.Net。我不想使用 SQL Server 的内置“身份”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T09:38:21.090

获取下一个 ID 的唯一方法是实际插入行，并使用标识。其他一切都会失败。因此，您**必须**首先插入父表：

```
begin transaction;
insert into Table (col1, col2, col3) values (value1, value2, value3);
set @Id = scope_identity();
insert into Table1(ID, col1, col2) values (@Id, ...);
insert into Table3(ID, col1, col2) values (@Id, ...);
commit; 
```

这是原子和并发安全的。

> 我不想使用 SQL Server 的内置“身份”。

tl;博士。除非您能明确*说明原因*，否则您“想要”的东西无关紧要。你可以正确地做到这一点，或者你可以把时间花在重新发明轮子上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T07:12:24.527

基本上你有一批三个 SQL 语句——一个选择和两个插入。数据库引擎可以在它们之间的任何位置从不同会话执行另一条语句，从而破坏您的数据一致性 - 其他一些会话可以获得与您获得的相同的 MAX() 值并将其用于其他插入语句。阻止数据库引擎这样做的唯一方法是使用事务。用 BEGIN TRANSACTION ... COMMIT 包装你的批次，你就完成了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T07:35:38.703

你这样做的方式很好，你需要的是事务处理..

```
BEGIN TRANSACTION 

begin try
    NextID = Select Max(ID) + 1 From Table

    INSERT INTO Table1(ID, Col1, Col2...) Values(NextId, Value1, Value2...)

    INSERT INTO Table2 (ID,col1,col2....) Values (NextID, Value1, Value2...)

    COMMIT TRANSACTION 
end try

begin catch

    ROLLBACK TRANSACTION 
    --exception logging goes here

end catch 
```

# iphone - 如何使用phonegap在iphone中获取相机胶卷文件位置？（用于创建可以从中选择多个文件的自定义相机胶卷）

> ID：13411477
> 
> 赞同：2
> 
> 时间：2012-11-16T06:20:55.360
> 
> 标签：iphone, file, cordova, camera

我正在使用 PhoneGap 开发 iPhone 应用程序。

在这个应用程序中，我需要显示一个带有相机胶卷图片的屏幕，并且用户应该能够从中选择多张照片。

使用`navigator.camera.getPicture`I 可以显示所有图像，但用户只能从中选择一张图像。

返回的 imageURI 是 `file://localhost/var/mobile/Applications/946FDEC2-E166-4209-94F8-5E2C70EEDA71/tmp/cdv_photo_010.jpg`

并尝试使用文件 api 如下。

```
window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, function(fileSystem){ 
    // success get file system
    var sdcard = fileSystem.root;
    sdcard.getDirectory("../../../Media/DCIM/100APPLE",
             {create:false, exclusive: false}, 
             function(dcim){
                 var directoryReader = dcim.createReader();
                 directoryReader.readEntries(function(entries){ 
                 // success get files and folders
                 for(var i=0; i<entries.length; ++i){
                     alert(entries[i].name);
                 }
       });
     }, function(error){
       switch(error.code){
          case FileError.NOT_FOUND_ERR : alert('NOT_FOUND_ERR');break;
          case FileError.SECURITY_ERR: alert('SECURITY_ERR');break;
          case FileError.ABORT_ERR: alert('ABORT_ERR');break;
          case FileError.NOT_READABLE_ERR: alert('NOT_READABLE_ERR');break;
          case FileError.ENCODING_ERR: alert('ENCODING_ERR');break;
          case FileError.NO_MODIFICATION_ALLOWED_ERR: alert('NO_MODIFICATION_ALLOWED_ERR');break;
          case FileError.INVALID_STATE_ERR: alert('INVALID_STATE_ERR');break;
          case FileError.SYNTAX_ERR: alert('SYNTAX_ERR');break;
          case FileError.INVALID_MODIFICATION_ERR: alert('INVALID_MODIFICATION_ERR');break;
          case FileError.QUOTA_EXCEEDED_ERR: alert('QUOTA_EXCEEDED_ERR');break;
          case FileError.TYPE_MISMATCH_ERR: alert('TYPE_MISMATCH_ERR');break;
          case FileError.PATH_EXISTS_ERR: alert('NOT_FOUND_ERR');break;
      }

}); 
```

这适用于模拟器。

但是当在 iPhone 中尝试时，它会显示错误并且 iPhone 中没有`DCIM`文件夹`../../../Media`。

我的 iPhone 型号是`iPhone 4S 16Gb with iOS 6.0`

我想知道

1.  这种方法有什么问题吗？
2.  正确的路径是什么，而不是`../../../Media/DCIM/100APPLE`保存相机胶卷图片的路径？
3.  是否有存储上述路径的元文件？
4.  有没有其他方法可以实现这一点（从相机胶卷中选择多个文件的选项）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:08:23.103

为此，有一些自定义库 ELCImagePickerController 和 AGImagePickerController。

[https://github.com/elc/ELCImagePickerController](https://github.com/elc/ELCImagePickerController)

[https://github.com/arturgrigor/AGImagePickerController](https://github.com/arturgrigor/AGImagePickerController)

您可以使用其中之一。希望它会帮助你。

# vb.net - 使用 DirectoryEntry.Invoke("SetPassword", ...) 设置初始 AD 帐户密码，我收到“RPC 服务器不可用”错误

> ID：13411479
> 
> 赞同：1
> 
> 时间：2012-11-16T06:21:15.633
> 
> 标签：vb.net, active-directory, directoryservices, userprincipal

我工作的公司有一个 Web 服务，可以根据输入的信息创建新的 Active Directory 帐户，例如用户名、名字、姓氏、OU1、OU2 等。

此 Web 服务在 Windows Server 2003 上运行良好。现在我正在努力将 Web 服务移至 2008 R2 服务器。但是，某些功能不再起作用，即当它尝试为新创建的帐户设置随机初始密码时。

引发的异常是 TargetInvocationException，其中包含 COMException 的内部异常，并带有“RPC 服务器不可用”消息。

```
Imports System.DirectoryServices

Dim ldapPath As String = "..." 'assume valid LDAP path
Dim objContainer As DirectoryEntry = New DirectoryEntry(ldapPath, vbNullString, vbNullString, AuthenticationTypes.Secure)
objUser = objContainer.Children.Add("cn=" & Username.Trim, "user")

'sets objUser.Properties e.g. givenName, displayName, userPrincipalName, samAccountName, etc. Not important...
objUser.CommitChanges()

strPassword = RandomPassword()  'function that generates random password
objUser.Invoke("SetPassword", New Object() {strPassword})

objUser.Properties("useraccountcontrol").Value = "512" ' set as normal account
objUser.CommitChanges()

'and so on... 
```

错误发生在以下行： objUser.Invoke("SetPassword", New Object() {strPassword})

奇怪的是，帐户创建本身有效，我可以从 Active Directory 用户和计算机中看到新用户。我咨询了几个管理 DC 和 Web 服务器安全性的人，他们真的不知道为什么......

最后，我想出了另一种设置密码的方法，即使用 System.DirectoryServices.AccountManagement 库。

所以代码变成了这样：

```
Imports System.DirectoryServices
Imports System.DirectoryServices.AccountManagement

Dim ldapPath As String = "..." 'assume valid LDAP path
Dim objContainer As DirectoryEntry = New DirectoryEntry(ldapPath, vbNullString, vbNullString, AuthenticationTypes.Secure)
Dim objUser As DirectoryEntry = objContainer.Children.Add("cn=" & Username.Trim, "user")

'sets objUser.Properties e.g. givenName, displayName, userPrincipalName, samAccountName, etc. Not important...
objUser.CommitChanges()

Dim domainContext As PrincipalContext = New PrincipalContext(ContextType.Domain, ...)
Dim user As UserPrincipal = UserPrincipal.FindByIdentity(domainContext, IdentityType.SamAccountName, Trim(Username))

strPassword = RandomPassword()  'function that generates random password
user.SetPassword(strPassword)

user.Enabled = True                 'setting these two properties
user.PasswordNotRequired = False    'result in useraccountcontrol value = 512 (normal account)
user.Save()

'and so on... 
```

我将旧代码与新代码混合在一起，但它似乎在新服务器上运行良好。需要注意的一件事是，有时 UserPrincipal.FindByIdentity 调用最初会返回 Nothing，我相信这是由于帐户创建或复制延迟所致。所以我必须通过多次尝试 FindByIdentity 来确保用户对象不是 Nothing，直到我得到对象。

尽管找到了解决问题的方法（更像是一种解决方法），但我仍然对为什么旧代码不能在新服务器上运行而感到困惑，但新代码却可以。该错误非常普遍，在互联网上搜索线索只会导致更多混乱。

如果那里的专家可以阐明一些观点，甚至评论我的新代码的外观，我会非常感激，有什么问题吗？

提前致谢。

# oracle - 甲骨文时区

> ID：13411485
> 
> 赞同：0
> 
> 时间：2012-11-16T06:21:38.590
> 
> 标签：oracle

我有一个在单个时区运行的应用程序（java - oracle 11g R2）。现在它必须在多个时区运行。我的要求是，无论登录时区如何，都希望将数据存储在一个时区（比如 IST）中。但希望应用程序根据各自的实体时区向用户显示日期和时间。我将无法更改所有已编写的 Oracle 查询。想要将用户附加到位置并在用户登录时将用户的alter（oracle）会话附加到他的本地时区。

这可能吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T14:46:55.570

数据类型`TIMESTAMP WITH LOCAL TIME ZONE`是时区感知的。它将数据存储在数据库服务器的时区中。如果用户从不同的时区连接，则存储的值将显示在他的本地时区中。

要更改`DATE`列，您可以使用

```
ALTER TABLE mytable MODIFY d TIMESTAMP WITH LOCAL TIME ZONE; 
```

可以检查查询，有关详细信息，请参阅[Migrating Oracle DATE columns to TIMESTAMP with timezone](https://stackoverflow.com/questions/1664627/migrating-oracle-date-columns-to-timestamp-with-timezone)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-01T15:04:12.093

使用 Oracle DATE 类型，它存储独立于时区的日期。

然后，请注意 Java Date 类也与时区无关。

通过这种方式，日期只有在您将它们格式化为字符串以将它们显示给客户端时才会获得时区。

我经常看到这个问题，以至于我最近写了一篇关于它的博客文章。[在这里](http://greybeardedgeek.net/2012/11/24/java-dates/)看到它。

# python - 在 python 中通过 hotmail 发送电子邮件

> ID：13411486
> 
> 赞同：6
> 
> 时间：2012-11-16T06:21:46.293
> 
> 标签：python, smtp, hotmail

我想从我的服务器发送一封电子邮件。我正在尝试使用我已经拥有的 hotmail 帐户进行发送。

```
user = "myaddress@hotmail.com"
passwd = "xxxxxxxxx"

from_addr = "myaddress@hotmail.com"
to_addr = "someaddress@gmail.com"
smtp_srv = "smtp.live.com"

subject = "Home Server Uptime"
message = "The server has been online for: %s" %(uptime)

smtp = smtplib.SMTP(smtp_srv,587)
smtp.ehlo()
smtp.starttls()
smtp.ehlo()
smtp.login(user, passwd)
smtp.sendmail(from_addr, to_addr, message)
smtp.quit() 
```

我收到此错误：

```
Traceback (most recent call last):
  File "sendemail.py", line 23, in <module>
    smtp.starttls()
  File "/usr/lib/python2.7/smtplib.py", line 636, in starttls
    (resp, reply) = self.docmd("STARTTLS")
  File "/usr/lib/python2.7/smtplib.py", line 385, in docmd
    return self.getreply()
  File "/usr/lib/python2.7/smtplib.py", line 358, in getreply
    + str(e))
smtplib.SMTPServerDisconnected: Connection unexpectedly closed: [Errno 104] Connection reset by peer 
```

我不知道如何解决这个问题。

这是 Nathan 建议的 set_debuglevel(1) 的输出：

```
send: 'ehlo [127.0.1.1]\r\n'
reply: '250-BLU0-SMTP190.blu0.hotmail.com Hello [my-ip-address]\r\n'
reply: '250-TURN\r\n'
reply: '250-SIZE 41943040\r\n'
reply: '250-ETRN\r\n'
reply: '250-PIPELINING\r\n'
reply: '250-DSN\r\n'
reply: '250-ENHANCEDSTATUSCODES\r\n'
reply: '250-8bitmime\r\n'
reply: '250-BINARYMIME\r\n'
reply: '250-CHUNKING\r\n'
reply: '250-VRFY\r\n'
reply: '250-TLS\r\n'
reply: '250-STARTTLS\r\n'
reply: '250 OK\r\n'
reply: retcode (250); Msg: BLU0-SMTP190.blu0.hotmail.com Hello [my-ip-address]
TURN
SIZE 41943040
ETRN
PIPELINING
DSN
ENHANCEDSTATUSCODES
8bitmime
BINARYMIME
CHUNKING
VRFY
TLS
STARTTLS
OK
send: 'STARTTLS\r\n'
Traceback (most recent call last):
  File "sendemail.py", line 24, in <module>
    smtp.starttls()
  File "/usr/lib/python2.7/smtplib.py", line 636, in starttls
    (resp, reply) = self.docmd("STARTTLS")
  File "/usr/lib/python2.7/smtplib.py", line 385, in docmd
    return self.getreply()
  File "/usr/lib/python2.7/smtplib.py", line 358, in getreply
    + str(e))
smtplib.SMTPServerDisconnected: Connection unexpectedly closed: [Errno 104] Connection reset by peer 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2014-08-09T16:04:31.997

尝试这个

```
import email
import smtplib

msg = email.message_from_string('warning')
msg['From'] = "example1@hotmail.fr"
msg['To'] = "example2@hotmail.fr"
msg['Subject'] = "helOoooOo"

s = smtplib.SMTP("smtp.live.com",587)
s.ehlo() # Hostname to send for this command defaults to the fully qualified domain name of the local host.
s.starttls() #Puts connection to SMTP server in TLS mode
s.ehlo()
s.login('example1@hotmail.fr', 'pass')

s.sendmail("example1@hotmail.fr", "example2@hotmail.fr", msg.as_string())

s.quit() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:36:00.180

`smtp.starttls()`尝试启动 TLS ( )时，您的代码似乎失败了。我刚刚进行了测试`smtp.live.com`，并且能够到达您尝试登录的代码中的行，因此这可能与您的网络设置方式有关。

这是不相关的，但根据[smtplib](http://docs.python.org/2/library/smtplib.html#smtp-example)文档，您必须在消息的开头添加`from`和地址标头：`to`

```
parts = ("From: " + from_addr,
         "To: " + to_addr,
         "Subject: " + subject,
         "",
         message)    
msg = '\r\n'.join(parts) 
```

# jenkins - 如何使用 Publish over SSH 插件的标签字段在 Jenkins 中控制参数化发布

> ID：13411489
> 
> 赞同：11
> 
> 时间：2012-11-16T06:22:03.873
> 
> 标签：jenkins, continuous-integration, jenkins-plugins

在 Jenkins [“通过 Ssh 发布”](https://wiki.jenkins-ci.org/display/JENKINS/Publish+Over+SSH+Plugin)插件中，我如何使用标签（高级选项）又名参数化发布功能。如何使用标签字段。我在标签字段中输入了什么。我是否需要放置一个具有 Machine Name 的变量名称（我可以从构建参数中读取）。我尝试了同样的方法这是我所做的：

我有一个机器名称 QA_1 并且我有一个变量 jenkins build $MC_NAME 指向 XXX 。我在标签字段中输入了 $MC_NAME。但令我惊讶的是，无论 $MC_NAME 变量的值如何，Jenkins 都会发布到 QA_1 机器。

**有人可以告诉我通过使用 Jenkins 的“Publish over Ssh”插件中提交的 LABEL 来控制哪台机器发布/运行脚本的确切步骤吗**

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2014-10-21T07:49:57.497

回答您的问题以及我如何配置我的流程：

## 1.配置Jenkins

1.  安装 Publish over SSH 插件
2.  配置 Jenkins => 系统配置
3.  通过 SSH 发布部分

    *   密钥 => -----BEGIN RSA PRIVATE KEY----- ...这是您的密钥 ... -----END RSA PRIVATE KEY----- 1.2.1.2 SSH 服务器 =>
    *   名称：Server_1（它只是配置的名称）
    *   主机名：example_server_1.com（您的服务器的网址）
    *   用户名：ec2-user（亚马逊）

    *   单击*添加服务器*按钮

    *   名称：Server_2（它只是配置的名称）
    *   主机名：example_server_2.com（您的服务器的网址）
    *   用户名：ec2-user（亚马逊）

## 2.作业配置

1.  打开作业 => 配置
2.  检查*此项目是否已参数化*
3.  添加选择参数

    *   名称：服务器
    *   选择：

        ```
         server_1
         server_2 
        ```

4.  选择*通过 SSH 发送文件或执行命令*=> SSH 服务器部分
    *   名称：选择您的第一台服务器
    *   输入传输集数据（源文件和/或 Exec_command）
    *   单击*高级*
    *   标签：server_1（这是您选择参数的首选）
    *   单击*添加服务器*
    *   名称：选择您的第二台服务器
    *   输入传输集数据（源文件和/或 Exec_command）
    *   单击*高级*
    *   标签：server_2（这是您选择参数的第二个选择）
    *   在按钮*Add Server*前面，单击*Advanced*
    *   检查*参数化发布*
    *   参数名称：服务器（这是您选择的参数的名称）

## 3.作业运行

运行作业并选择例如 Server => server_2。

您将在日志中看到：

```
SSH: Skipping [server_1] - Label server_1 does not match expression server_2
SSH: Publishing to [server_2] - Label server_2 matches expression server_2
SSH: Connecting from host [ip-10-0-0-37]
SSH: Connecting with configuration [server_2] ... 
```

## 解释

该插件将名为“Server”的参数的值（您在作业开始之前选择）与您配置的标签进行比较。如果标签和参数匹配，则执行 SSH 命令。

希望对您有所帮助。因为我花了5个小时。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-19T14:48:33.030

您应该启用“参数化发布”并通过单击构建配置中“添加构建后操作”按钮之前的最后一个“高级...”按钮来指定构建参数名称（例如，我使用构建后操作部分）。

例如“构建参数名称”= `SSH_SERVER`. 然后应该有`SSH_SERVER`带有正则表达式的构建参数来匹配 ssh 服务器标签。

在您的情况下，`SSH_SERVER`构建参数应该设置为 XXX，之后 SSH 发布应该只发生在 QA_1 服务器上。

# build-process - 构建系统支持每个目标的多个输出

> ID：13411492
> 
> 赞同：1
> 
> 时间：2012-11-16T06:22:18.867
> 
> 标签：build-process

我在生物信息学领域工作。我的日常工作会处理几个数据文件（DNA 序列、比对等）并产生许多结果文件，所以我想使用 Unix make 之类的东西来自动化整个过程，尤其是解决不同数据之间的依赖关系。

然而，Unix make 只支持每个目标一个输出，因为它是为软件构建而设计的，它通常从几个源文件生成一个目标文件，或者从几个目标文件生成一个可执行文件。如果您使用自定义虚拟目标，它不会从时间戳检查中受益。是否有任何构建系统支持每个目标多个输出文件？如果没有，我会做轮子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-09T14:39:12.937

看看[Drake](https://github.com/Factual/drake)，它是为数据工作流管理（为数据而设计）设计的 make 的替代品。

另一个选项是[makepp](http://makepp.sourceforge.net)，这是一个改进的 make。除其他功能外，它还支持多个目标。

# actionscript-3 - 如何关闭显示的统计信息？

> ID：13411493
> 
> 赞同：0
> 
> 时间：2012-11-16T06:22:24.877
> 
> 标签：actionscript-3, flash

我正在尝试处理其他人留下的一些闪存文件，除了将文件编译为 swf 后出现在角落的这个统计信息部分之外，一切终于正常了。

![截屏](../Images/960c38c9245aa109535d16b3b3457096.png)

这是我在导出文件时可以关闭的功能吗？或者这可能在课堂上的某个地方？我很抱歉没有复制代码，因为文件太多了。如果有人以前经历过这种情况，也许你可以告诉我在哪里看。

# asp.net - 使用 $.get() 和 ASP.NET 的 Jquery 后台请求 - 解决问题

> ID：13411495
> 
> 赞同：1
> 
> 时间：2012-11-16T06:22:44.013
> 
> 标签：asp.net, jquery

我正在开发一个 ASP.NET 应用程序，该应用程序使用 jQuery 发出一些 AJAX 后台请求（我是 jQuery 的新手 :)）。我的jQuery代码如下：

```
$(document).ready(function () {

        $("#ctl00_cphContent_txtOrgName").keypress(function () {

            var orgNameLen = $("#ctl00_cphContent_txtOrgName").val().length;
            if (orgNameLen <= 4) {
                $("#orgNameHints").empty();
                $("#orgNameHints").css('display', 'none');
                return;
            }
            $("#orgNameHints").css({ "visibility": "visible" });
            $("#orgNameHints").html("Checking...");
            var OrgName = $(this).val();
            $.get("ProcessOrgName.aspx?n=" + OrgName, function (data) {
                $("#orgNameHints").html(data);
                $("#orgNameHints").show();
            });
        });
        $("#ctl00_cphContent_txtOrgName").blur(function () {
            $("#orgNameHints").empty();
            $("#orgNameHints").css({ "visibility": "hidden" });
        });
    }); 
```

和 ASP 代码是：

```
<asp:TextBox ID="txtOrgName" runat="server" MaxLength="100"></asp:TextBox>
<div id="orgNameHints" style="border: 1px solid silver; display:none; position:absolute; padding: 5px; background: #EFEFEF; z-index: 100;"></div> 
```

这`txtOrgName`是用于在后台检查具有相同数据的现有记录的文本框（就像在 google 中搜索关键字的提示一样）。.get() 方法会将搜索关键字作为查询字符串发布在`ProcessOrgName.aspx`，它会从数据库中返回此类现有记录的列表。

Everyting在这里工作正常，但我面临的问题是：

1.  Keypress() 事件调用搜索，例如，如果我正在搜索 **stackoverflow**，它将查询缺少**w的****stackoverflo 。**那么，有什么方法可以得到准确的结果。
***   当我搜索关键字时，它显示正常，但是当我按退格键清除我的文本框时，它仍然会显示相同的结果，直到我在文本框已经清除后再按两次退格键。所以，你们能否给出任何想法，以便在我按下退格键时它不会显示结果。*   `orgNameHints`显示和隐藏名为show()的 div 的任何其他方式；和隐藏（）；在我的情况下不起作用，我希望它更准确！*   在某些情况下，用户将复制粘贴关键字而不是键入，因此在这种情况下它也应该获得搜索结果。**

 **非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T22:06:41.757

1.  这可能是您捕获文本时的结果；按键/按键/按键。我想你可能想在 keyup() 事件上运行这个脚本。有关这方面的更多信息，请参阅[http://www.bloggingdeveloper.com/post/KeyPress-KeyDown-KeyUp-The-Difference-Between-Javascript-Key-Events.aspx](http://www.bloggingdeveloper.com/post/KeyPress-KeyDown-KeyUp-The-Difference-Between-Javascript-Key-Events.aspx)。
2.  参考1
3.  为什么显示/隐藏不起作用？或者，您可以使用 fadeIn/fadeOut 或 $("elem").css({display:none})
4.  对于粘贴 (CTL+V)，我相信这是在 keydown() 事件上，如果 (e.keyCode == 86) //86 是粘贴事件。至于鼠标粘贴，我不确定..找不到任何好的信息。

Here is a starter block of code for you, with a fiddle link below.

```
$(document).ready(function(){
    function DoWork(){
    $("#searchOutput").append("<li>" + $("#tb1").val() + "</li>");
    }
$("#tb1").keyup(DoWork);
    $("#tb1").keydown(function(e){
        if(e.keyCode == 86){
            DoWork();
        }
    });        
});​ 
```

[http://jsfiddle.net/TNCodeMonkey/CnDGw/3/](http://jsfiddle.net/TNCodeMonkey/CnDGw/3/)

Best of luck!**

# iphone - FBLoginView - 通过 FacebookSDK 多次调用 loginViewFetchedUserInfo

> ID：13411504
> 
> 赞同：1
> 
> 时间：2012-11-16T06:23:24.230
> 
> 标签：iphone, objective-c, facebook, sdk, loginview

我在 FBLoginView 中遇到了委托函数 loginViewFetchedUserInfo 的问题。我在函数中放置了一个日志，有时 NSLog 打印多次。为什么会这样。

有谁知道原因？

# google-chrome - 自定义 Chrome 网址建议

> ID：13411509
> 
> 赞同：0
> 
> 时间：2012-11-16T06:23:35.447
> 
> 标签：google-chrome, browser, google-chrome-extension

Chrome 的一大优点是，如果你在地址栏上输入一个词，它会提示相关的 URL 可能是什么。例如，如果我输入“New York”，它会建议 nytimes.com

可以开发提供定制建议的扩展吗？例如，如果我有一个内部公司网站，比如说 foo 托管具有数字 ID 的文档 - 例如[http://domain.com/123](http://domain.com/123)或[http://domain.com/234](http://domain.com/234)。当有人在浏览器地址栏上键入“123”时，我希望[http://domain.com/123](http://domain.com/123)显示为建议（即使以前从未访问过）。

这样的事情可能吗？如果是这样，我会喜欢一些指针（我从未开发过 Chrome 扩展，但如果可能的话，我可以查找并实现它）。

谢谢！拉吉

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T13:00:29.623

是的，可以通过 Omnibox，[https://developer.chrome.com/extensions/omnibox.html](https://developer.chrome.com/extensions/omnibox.html) 我在这里写了一个示例实现：

```
Manifest File:

{

 "name": "Omnibox Demo",

  "description" : "This is used for demonstrating Omnibox",

  "version": "1",

  "background": {

    "scripts": ["background.js"]

  },

  "omnibox": {
 "keyword" : "demo" 
},

  "manifest_version": 2

}

JS File:

chrome.omnibox.setDefaultSuggestion({"description":"Search %s in Dev Source Code"});

chrome.omnibox.onInputStarted.addListener(function() {

    console.log("Input Started");

});

chrome.omnibox.onInputCancelled.addListener(function() {

    console.log("Input Cancelled");

});

chrome.omnibox.onInputEntered.addListener(function (text) {
    console.log("Input Entered is " + text);
});

chrome.omnibox.onInputChanged.addListener(

  function(text, suggest) {

    console.log('inputChanged: ' + text);

    suggest([

      {content: text + " one", description: "the first one"},
      {content: text + " number two", description: "the second entry"}
    ]);
  }); 
```

# ios - 如何阅读 Xcode 崩溃报告？

> ID：13411510
> 
> 赞同：9
> 
> 时间：2012-11-16T06:23:42.783
> 
> 标签：ios, iphone, xcode, symbolicatecrash

我有一个应用程序，我刚刚将它提交给应用程序痛处（该应用程序是为我开发的，因为我不知道 iOS 开发，但我知道知道其他编码语言）。苹果拒绝了应用程序说它崩溃了（奇怪的是在我所做的所有测试中从未崩溃过，可能大约 50 次！）我得到了他们的崩溃日志，在 Xcode 中对其进行了符号化并得到了这个结果。唯一的问题是我也不明白这一点。我想知道是否有人可以解释这意味着什么，在我的代码中这个错误在哪里以及如何修复它。

```
Incident Identifier: 0E0825D2-FBE9-4BF1-8C7F-B83709C2991A
CrashReporter Key:   5b0d1e3117951cb6f669414656a30ad10c807e15
Hardware Model:      iPhone4,1
Process:         Chapter3 Framework [6333]
Path:            /var/mobile/Applications/4A4C7A70-1B6C-403E-8A98-6563BDF3AF83/Chapter3 Framework.app/Chapter3 Framework
Identifier:      Chapter3 Framework
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2012-01-07 17:46:13.980 +1100
OS Version:      iPhone OS 5.0.1 (9A405)
Report Version:  104

Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0xb0000008
Crashed Thread:  0

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
0   libobjc.A.dylib                0x31be9fbc objc_msgSend + 16
1   Chapter3 Framework             0x00004d78 0x1000 + 15736
2   Chapter3 Framework             0x000028b2 0x1000 + 6322
3   UIKit                          0x35531e5e -[UIApplication _handleApplicationSuspend:eventInfo:] + 754
4   UIKit                          0x354c1d10 -[UIApplication handleEvent:withNewEvent:] + 2024
5   UIKit                          0x354c13b8 -[UIApplication sendEvent:] + 48
6   UIKit                          0x354c0d26 _UIApplicationHandleEvent + 5802
7   GraphicsServices               0x37bdedec PurpleEventCallback + 876
8   CoreFoundation                 0x380dd54c __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 32
9   CoreFoundation                 0x380dd4ee __CFRunLoopDoSource1 + 134
10  CoreFoundation                 0x380dc33c __CFRunLoopRun + 1364
11  CoreFoundation                 0x3805f4d6 CFRunLoopRunSpecific + 294
12  CoreFoundation                 0x3805f39e CFRunLoopRunInMode + 98
13  GraphicsServices               0x37bddfc6 GSEventRunModal + 150
14  UIKit                          0x354ef73c UIApplicationMain + 1084
15  Chapter3 Framework             0x000024d6 0x1000 + 5334
16  Chapter3 Framework             0x0000246c 0x1000 + 5228

Thread 1 name:  Dispatch queue: com.apple.libdispatch-manager
Thread 1:
0   libsystem_kernel.dylib         0x339933b4 kevent + 24
1   libdispatch.dylib              0x37dc7f74 _dispatch_mgr_invoke + 708
2   libdispatch.dylib              0x37dc7c92 _dispatch_mgr_thread + 30

Thread 2 name:  WebThread
Thread 2:
0   libsystem_kernel.dylib         0x33993010 mach_msg_trap + 20
1   libsystem_kernel.dylib         0x33993206 mach_msg + 50
2   CoreFoundation                 0x380dd41c __CFRunLoopServiceMachPort + 120
3   CoreFoundation                 0x380dc154 __CFRunLoopRun + 876
4   CoreFoundation                 0x3805f4d6 CFRunLoopRunSpecific + 294
5   CoreFoundation                 0x3805f39e CFRunLoopRunInMode + 98
6   WebCore                        0x32930128 _ZL12RunWebThreadPv + 396
7   libsystem_c.dylib              0x36531c16 _pthread_start + 314
8   libsystem_c.dylib              0x36531ad0 thread_start + 0

Thread 3:
0   libsystem_kernel.dylib         0x339a3cd4 __workq_kernreturn + 8
1   libsystem_c.dylib              0x3652c30a _pthread_wqthread + 610
2   libsystem_c.dylib              0x3652c09c start_wqthread + 0

Thread 0 crashed with ARM Thread State:
    r0: 0x001562b0    r1: 0x30b6f09c      r2: 0x00000001      r3: 0x00000014
    r4: 0xb0000000    r5: 0x00352ea0      r6: 0x3f398608      r7: 0x2fdfe760
    r8: 0x0034fa00    r9: 0x0c2dbc27     r10: 0x00113560     r11: 0x3f38d010
    ip: 0x0001924c    sp: 0x2fdfe750      lr: 0x00004d7f      pc: 0x31be9fbc
  cpsr: 0x200f0030

Binary Images:
    0x1000 -    0x18fff +Chapter3 Framework armv7  <deb18410d000314fac23e4c6b05a8265> /var/mobile/Applications/4A4C7A70-1B6C-403E-8A98-6563BDF3AF83/Chapter3 Framework.app/Chapter3 Framework
0x2fecf000 - 0x2fef0fff  dyld armv7  <be7c0b491a943054ad12eb5060f1da06> /usr/lib/dyld
0x30c2d000 - 0x30c30fff  libsystem_network.dylib armv7  <b18e0a845b1e317c8abcf6b5d06b29a0> /usr/lib/system/libsystem_network.dylib
0x30c9e000 - 0x30ca4fff  MobileIcons armv7  <2f4c13053206306996726629b0b7eb01> /System/Library/PrivateFrameworks/MobileIcons.framework/MobileIcons
0x30cb8000 - 0x30cc4fff  CoreVideo armv7  <474c89eb09fe3464851a20d76052341b> /System/Library/Frameworks/CoreVideo.framework/CoreVideo
0x30f5e000 - 0x30fa7fff  AddressBook armv7  <0a858565acd03f28a1bc69a650b64a7b> /System/Library/Frameworks/AddressBook.framework/AddressBook
0x30faf000 - 0x30ff4fff  GeoServices armv7  <6c9eb6372f723a57852cfc9ed7b78e31> /System/Library/PrivateFrameworks/GeoServices.framework/GeoServices
0x31194000 - 0x3119efff  libvMisc.dylib armv7  <b93ee3136d1c3d44b1e513a56bb0f86c> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvMisc.dylib
0x31543000 - 0x31543fff  libCVMSPluginSupport.dylib armv7  <85582e1094633fccb52b50ca13c5a5d0> /System/Library/Frameworks/OpenGLES.framework/libCVMSPluginSupport.dylib
0x316e3000 - 0x316e4fff  DataMigration armv7  <d067b65a904a3f438b5d9e13b208b117> /System/Library/PrivateFrameworks/DataMigration.framework/DataMigration
0x317e1000 - 0x317e2fff  CoreSurface armv7  <fcb6a869daef3a3abc4300c28b218e9f> /System/Library/PrivateFrameworks/CoreSurface.framework/CoreSurface
0x317e3000 - 0x317e4fff  libremovefile.dylib armv7  <9c8cee9652453241ac1fc99eab05c40a> /usr/lib/system/libremovefile.dylib
0x319b2000 - 0x319bafff  MobileWiFi armv7  <f07cb8d6dadf36919bae8ef6e5ce1749> /System/Library/PrivateFrameworks/MobileWiFi.framework/MobileWiFi
0x31be6000 - 0x31cacfff  libobjc.A.dylib armv7  <ebbb32df194b331e9b3dc14e40f46833> /usr/lib/libobjc.A.dylib
0x31d24000 - 0x31d5bfff  Security armv7  <b89c9f6373f037f2a4801558f97b9a95> /System/Library/Frameworks/Security.framework/Security
0x31d75000 - 0x31d79fff  libGFXShared.dylib armv7  <0a36fb9d60a43479943bafb2f81313b1> /System/Library/Frameworks/OpenGLES.framework/libGFXShared.dylib
0x31d9b000 - 0x31d9dfff  MobileInstallation armv7  <4ccf76f0e6cb3cd7b4e0087c2f284a1d> /System/Library/PrivateFrameworks/MobileInstallation.framework/MobileInstallation
0x31db0000 - 0x31ef5fff  CoreGraphics armv7  <641fb6e558f239588a8bd05dbefff99a> /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics
0x31f46000 - 0x31f49fff  libcompiler_rt.dylib armv7  <414332f9a55238bab2cbec323e0fc8da> /usr/lib/system/libcompiler_rt.dylib
0x31f9f000 - 0x3211dfff  Foundation armv7  <ce466f428d953caaac6641d186665809> /System/Library/Frameworks/Foundation.framework/Foundation
0x3214e000 - 0x32198fff  libvDSP.dylib armv7  <d8489a4ce77933abac52394c43ff5513> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvDSP.dylib
0x32199000 - 0x32199fff  libunwind.dylib armv7  <d21222aad8c93d6c9580f9bf47071946> /usr/lib/system/libunwind.dylib
0x321ad000 - 0x321f7fff  CoreTelephony armv7  <1f4cacb552533c948122cb180f4192b3> /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony
0x32203000 - 0x322d3fff  WebKit armv7  <74661b1bf4613aafb827bfe0134ed92b> /System/Library/PrivateFrameworks/WebKit.framework/WebKit
0x323a9000 - 0x323ccfff  PrintKit armv7  <279fb51deec3377ab9f820af2da4d915> /System/Library/PrivateFrameworks/PrintKit.framework/PrintKit
0x323f7000 - 0x323fdfff  liblaunch.dylib armv7  <09f21c3e774c30b1aab1b56c2d6efbc3> /usr/lib/system/liblaunch.dylib
0x323fe000 - 0x32400fff  libCoreVMClient.dylib armv7  <6ddb7cf8a93830628787a5b83eea0f1d> /System/Library/Frameworks/OpenGLES.framework/libCoreVMClient.dylib
0x32408000 - 0x324cefff  GLEngine armv7  <0231a8c1fa3f3cfe82e83fc53c0cf5d8> /System/Library/Frameworks/OpenGLES.framework/GLEngine.bundle/GLEngine
0x32595000 - 0x32596fff  libdnsinfo.dylib armv7  <dbd1e77a4beb309d8f160d927d442467> /usr/lib/system/libdnsinfo.dylib
0x32627000 - 0x3262cfff  libcopyfile.dylib armv7  <9072462f28af3665875b3ecaba002c00> /usr/lib/system/libcopyfile.dylib
0x32888000 - 0x3303ffff  WebCore armv7  <7137e0ea008f3a3e8ae9e57f96d34d1d> /System/Library/PrivateFrameworks/WebCore.framework/WebCore
0x33045000 - 0x3304ffff  libbz2.1.0.dylib armv7  <28583efb9f1b38e7ae83c667b07dbd08> /usr/lib/libbz2.1.0.dylib
0x330cb000 - 0x330d8fff  libbsm.0.dylib armv7  <a6414b0a5fd53df58c4f0b2f8878f81f> /usr/lib/libbsm.0.dylib
0x33371000 - 0x3341bfff  libBLAS.dylib armv7  <9aabff01422f3cb8960f93d11d2b6de1> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libBLAS.dylib
0x334c5000 - 0x334defff  OpenAL armv7  <87e810d1a1e93b5b8523a4f97fdaaec5> /System/Library/Frameworks/OpenAL.framework/OpenAL
0x334df000 - 0x334e6fff  AssetsLibraryServices armv7  <c0093954f6ee329aa6b4848215bcb8c0> /System/Library/PrivateFrameworks/AssetsLibraryServices.framework/AssetsLibraryServices
0x334e7000 - 0x334eafff  libmacho.dylib armv7  <3237bc9c109e3354bc4b38b957243f31> /usr/lib/system/libmacho.dylib
0x334eb000 - 0x33501fff  EAP8021X armv7  <16801802d86e3c479f3034034192faed> /System/Library/PrivateFrameworks/EAP8021X.framework/EAP8021X
0x33519000 - 0x3352dfff  PersistentConnection armv7  <81eb1b3e08cf3d7196313307ad60649d> /System/Library/PrivateFrameworks/PersistentConnection.framework/PersistentConnection
0x3352e000 - 0x33534fff  MobileKeyBag armv7  <f5633749a1c83058a28cd7d0b488e19f> /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
0x335a9000 - 0x335a9fff  liblangid.dylib armv7  <342170169bf232a0888912f5ef97112d> /usr/lib/liblangid.dylib
0x335c8000 - 0x336ecfff  JavaScriptCore armv7  <24ff2747b3973aecb9c37960eba5ff4d> /System/Library/PrivateFrameworks/JavaScriptCore.framework/JavaScriptCore
0x3375d000 - 0x33768fff  AccountSettings armv7  <090bb6a4f97433089b5cabc6a40c619a> /System/Library/PrivateFrameworks/AccountSettings.framework/AccountSettings
0x33769000 - 0x337a5fff  AppSupport armv7  <de0c2fbb95f8383db43acfb44e9c66fe> /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
0x337ec000 - 0x3382ffff  libcommonCrypto.dylib armv7  <be9a231cfe6e3ae387abb444a098bce9> /usr/lib/system/libcommonCrypto.dylib
0x33859000 - 0x33949fff  QuartzCore armv7  <ff595b1a042933249466e92433e1af6f> /System/Library/Frameworks/QuartzCore.framework/QuartzCore
0x33992000 - 0x339a8fff  libsystem_kernel.dylib armv7  <afd3cb06e20336dca2e5a6e11d080504> /usr/lib/system/libsystem_kernel.dylib
0x339a9000 - 0x33aaffff  IMGSGX543GLDriver armv7  <f92d0f00c6eb3fbdae116fb1febe4fb1> /System/Library/Extensions/IMGSGX543GLDriver.bundle/IMGSGX543GLDriver
0x33ab1000 - 0x33b08fff  CoreAudio armv7  <2e4975a2156e328585f2a478e80704fc> /System/Library/Frameworks/CoreAudio.framework/CoreAudio
0x34203000 - 0x34228fff  OpenCL armv7  <e1d5bfcdb59934b0923b9307c75e7457> /System/Library/PrivateFrameworks/OpenCL.framework/OpenCL
0x34229000 - 0x3476dfff  FaceCoreLight armv7  <cc2edb3645d2390dbca5471d35f1bf6e> /System/Library/PrivateFrameworks/FaceCoreLight.framework/FaceCoreLight
0x34963000 - 0x34986fff  Bom armv7  <0e6087f75a81345ea81751197ccb712c> /System/Library/PrivateFrameworks/Bom.framework/Bom
0x34988000 - 0x3499dfff  libresolv.9.dylib armv7  <97d6ebbb53ae3e0480f51771c9665613> /usr/lib/libresolv.9.dylib
0x34aa1000 - 0x34ab0fff  GenerationalStorage armv7  <c581bffc87013530b3c2d017142395e6> /System/Library/PrivateFrameworks/GenerationalStorage.framework/GenerationalStorage
0x34ab1000 - 0x34c6dfff  ImageIO armv7  <df300f66a317352e92354a8a48af3453> /System/Library/Frameworks/ImageIO.framework/ImageIO
0x34ce9000 - 0x34d32fff  libc++.1.dylib armv7  <ad15503487243836b7c296f3439ba0c1> /usr/lib/libc++.1.dylib
0x34d93000 - 0x34d94fff  libsystem_blocks.dylib armv7  <4bb9797771d037879bec814fe750d86d> /usr/lib/system/libsystem_blocks.dylib
0x35131000 - 0x35135fff  libAccessibility.dylib armv7  <ee734c0e964934a887a66d170270b114> /usr/lib/libAccessibility.dylib
0x351ac000 - 0x351c5fff  libRIP.A.dylib armv7  <ad22ea5ee99a358691f9820e62c85058> /System/Library/Frameworks/CoreGraphics.framework/Resources/libRIP.A.dylib
0x351c6000 - 0x351c6fff  libkeymgr.dylib armv7  <791bb8b832943b2392c0c35228f52e09> /usr/lib/system/libkeymgr.dylib
0x351f5000 - 0x35214fff  libSystem.B.dylib armv7  <31a0ffbb18bf3a28b46fd286733e7d9f> /usr/lib/libSystem.B.dylib
0x35263000 - 0x3526ffff  libCRFSuite.dylib armv7  <ea460e3f1ac338a9885d5752864dbffb> /usr/lib/libCRFSuite.dylib
0x35270000 - 0x3535efff  libiconv.2.dylib armv7  <6e858938edb93162ba8cf25702f08b16> /usr/lib/libiconv.2.dylib
0x3548a000 - 0x3548efff  libcache.dylib armv7  <4511f0ec5b713636aaade7245a12553c> /usr/lib/system/libcache.dylib
0x354be000 - 0x35957fff  UIKit armv7  <97b527cd6fba35c6bb39263e0f362223> /System/Library/Frameworks/UIKit.framework/UIKit
0x35995000 - 0x3599efff  libMobileGestalt.dylib armv7  <bf8d7c30f11a393a8adf4c8277e65aa3> /usr/lib/libMobileGestalt.dylib
0x35af5000 - 0x35b40fff  CoreLocation armv7  <e959d4dd596b31eeaa49c8c0156b1e12> /System/Library/Frameworks/CoreLocation.framework/CoreLocation
0x35c20000 - 0x35c20fff  vecLib armv7  <106ef8294b0d3c2d89e9230527846227> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/vecLib
0x35c21000 - 0x35ee2fff  libLAPACK.dylib armv7  <5490a87fe5153771b9c67940292842ba> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libLAPACK.dylib
0x35ee3000 - 0x35ee4fff  libdyld.dylib armv7  <f1963e7ef64e39a58ec1e39ed7c74849> /usr/lib/system/libdyld.dylib
0x35f2b000 - 0x35f2cfff  libsystem_sandbox.dylib armv7  <b8612b4ce18535aaa94f4b75c730e090> /usr/lib/system/libsystem_sandbox.dylib
0x35f44000 - 0x35f49fff  libsystem_dnssd.dylib armv7  <4d8b38f1cb603f0d8af78c56c485f05a> /usr/lib/system/libsystem_dnssd.dylib
0x35f4a000 - 0x35f7ffff  SystemConfiguration armv7  <753be0ebdcb13b24b1a4adcdc94d6bd9> /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
0x36326000 - 0x36329fff  CoreTime armv7  <e2f02260f2a63359b9a0a47c69f59c9e> /System/Library/PrivateFrameworks/CoreTime.framework/CoreTime
0x36522000 - 0x365affff  libsystem_c.dylib armv7  <1707c3cf3c5b3045af4bed38ff8420a6> /usr/lib/system/libsystem_c.dylib
0x365df000 - 0x367bcfff  AudioToolbox armv7  <da4f78fd20fb3b42b1a8be4f383d9c12> /System/Library/Frameworks/AudioToolbox.framework/AudioToolbox
0x367c2000 - 0x36841fff  libsqlite3.dylib armv7  <af4718fee01734748c42f2214ab6883d> /usr/lib/libsqlite3.dylib
0x36a3d000 - 0x36a5dfff  libxslt.1.dylib armv7  <f37418b7e89137bba433677d61cd779d> /usr/lib/libxslt.1.dylib
0x36a5e000 - 0x36b0bfff  libxml2.2.dylib armv7  <78462273eb5b38d1a0873b02f0e35e23> /usr/lib/libxml2.2.dylib
0x36b0c000 - 0x36b1bfff  OpenGLES armv7  <6d1afb451f50310895ec59864739e781> /System/Library/Frameworks/OpenGLES.framework/OpenGLES
0x36b68000 - 0x36b6dfff  libGPUSupportMercury.dylib armv7  <2066fe9b4ee73d1d83f5801b6d0bb432> /System/Library/PrivateFrameworks/GPUSupport.framework/libGPUSupportMercury.dylib
0x36b72000 - 0x36c41fff  libGLProgrammability.dylib armv7  <cb91cd9952e7371a9659da26034c8324> /System/Library/Frameworks/OpenGLES.framework/libGLProgrammability.dylib
0x36c86000 - 0x36dcffff  libicucore.A.dylib armv7  <1bc960f75d633190a09b093209a9f0c5> /usr/lib/libicucore.A.dylib
0x36e6b000 - 0x36e7afff  SpringBoardServices armv7  <79f1564c1b23303eb3b7db67f9375228> /System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices
0x36edf000 - 0x36ee2fff  CaptiveNetwork armv7  <c3a5b1659eb0302eb205498ffacb09f1> /System/Library/PrivateFrameworks/CaptiveNetwork.framework/CaptiveNetwork
0x36ee3000 - 0x36f23fff  libGLImage.dylib armv7  <9440420d838a382caa175399d74a5044> /System/Library/Frameworks/OpenGLES.framework/libGLImage.dylib
0x36f24000 - 0x36f3afff  libmis.dylib armv7  <fd046316dedc34dd81a6601ea3b1e8a6> /usr/lib/libmis.dylib
0x36f3b000 - 0x36f84fff  ManagedConfiguration armv7  <05711081dd883c58a844c5f9c251e8c9> /System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration
0x36fa9000 - 0x36fa9fff  libgcc_s.1.dylib armv7  <69d8dab7388b33d38b30708fd6b6a340> /usr/lib/libgcc_s.1.dylib
0x37023000 - 0x37034fff  libxpc.dylib armv7  <7d49e385ee5d3e7eb08d06525abd6435> /usr/lib/system/libxpc.dylib
0x3703a000 - 0x37073fff  VideoToolbox armv7  <49f9f09f23f7396b94a29bb1280759fe> /System/Library/PrivateFrameworks/VideoToolbox.framework/VideoToolbox
0x370a3000 - 0x370b4fff  DataAccessExpress armv7  <6bc443b0f87e338698cac9e5a96e8f8f> /System/Library/PrivateFrameworks/DataAccessExpress.framework/DataAccessExpress
0x372cf000 - 0x372d6fff  ProtocolBuffer armv7  <6ca7dca9370132a2a592356bf9f2170b> /System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer
0x37317000 - 0x37368fff  libstdc++.6.dylib armv7  <dc2061145c1a3307829d4f3bfc547c1a> /usr/lib/libstdc++.6.dylib
0x37369000 - 0x37375fff  libz.1.dylib armv7  <eef915ed9b2c3433b03fd9030957b945> /usr/lib/libz.1.dylib
0x37456000 - 0x3745cfff  liblockdown.dylib armv7  <bfaf7fb16e5a3b2ea07c47b8b2f2b64e> /usr/lib/liblockdown.dylib
0x3755a000 - 0x375d3fff  ProofReader armv7  <09d057676f6837cd9e7a735444b67e77> /System/Library/PrivateFrameworks/ProofReader.framework/ProofReader
0x375db000 - 0x376b2fff  CFNetwork armv7  <6fbc9f187eaa30009780e70288c9f289> /System/Library/Frameworks/CFNetwork.framework/CFNetwork
0x3770d000 - 0x3770dfff  Accelerate armv7  <a62771c826753815a5cae96eaa60ffd7> /System/Library/Frameworks/Accelerate.framework/Accelerate
0x37876000 - 0x3787afff  IOMobileFramebuffer armv7  <c2e6bd6dafde3097b47bc255a8c871ef> /System/Library/PrivateFrameworks/IOMobileFramebuffer.framework/IOMobileFramebuffer
0x3787b000 - 0x378b6fff  libCGFreetype.A.dylib armv7  <753daf497ca736739a30126661a522f1> /System/Library/Frameworks/CoreGraphics.framework/Resources/libCGFreetype.A.dylib
0x378b7000 - 0x378fbfff  MobileCoreServices armv7  <9a79a2d389ba35389a30782ed01c46dd> /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices
0x378fc000 - 0x37900fff  IOSurface armv7  <0f003f50b18e3dbf87607d819e0ac6b9> /System/Library/PrivateFrameworks/IOSurface.framework/IOSurface
0x37aa6000 - 0x37ae3fff  IOKit armv7  <e5f727892ee034a4be04e6da608f413f> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x37b5a000 - 0x37b70fff  DictionaryServices armv7  <5bbab664f97932a79a1566fda3a4383e> /System/Library/PrivateFrameworks/DictionaryServices.framework/DictionaryServices
0x37bda000 - 0x37be5fff  GraphicsServices armv7  <4ec745ffb2e039faab4b39a30268f707> /System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices
0x37bf4000 - 0x37c11fff  libsystem_info.dylib armv7  <1e36ab94661c372bab5a801d68c79353> /usr/lib/system/libsystem_info.dylib
0x37dc4000 - 0x37ddafff  libdispatch.dylib armv7  <defe319d1f4d3c1c8c4f18ebd96b396a> /usr/lib/system/libdispatch.dylib
0x37dfa000 - 0x37e43fff  CoreMedia armv7  <d585cf4e0cfa34fa8beaa43b06a4bcd7> /System/Library/Frameworks/CoreMedia.framework/CoreMedia
0x37e46000 - 0x37e48fff  libCoreFSCache.dylib armv7  <1ece4be587ca397b8f0494c56ed46976> /System/Library/Frameworks/OpenGLES.framework/libCoreFSCache.dylib
0x37e51000 - 0x37e57fff  libnotify.dylib armv7  <1e374857ac68370095ddbafe94f021a1> /usr/lib/system/libnotify.dylib
0x37ec2000 - 0x37f9cfff  vImage armv7  <42a5e58ff1b9350cad90de36bd3ceb09> /System/Library/Frameworks/Accelerate.framework/Frameworks/vImage.framework/vImage
0x37f9f000 - 0x37fa3fff  AggregateDictionary armv7  <cfd957904957310381369729bfd9b2b0> /System/Library/PrivateFrameworks/AggregateDictionary.framework/AggregateDictionary
0x37fa9000 - 0x38019fff  CoreImage armv7  <b1d0678497f43769840f173c0f9dce20> /System/Library/Frameworks/CoreImage.framework/CoreImage
0x38048000 - 0x3804ffff  libc++abi.dylib armv7  <f769ce305c3033ee90e8c2ecc4846619> /usr/lib/libc++abi.dylib
0x38050000 - 0x38167fff  CoreFoundation armv7  <de9eefc6109735369cfd8f3de9895da0> /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
0x3835d000 - 0x383aefff  CoreText armv7  <23150093d39b393e9bc5f8230176df47> /System/Library/Frameworks/CoreText.framework/CoreText 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:27:30.847

这种问题已经被问过很多次了。看看下面的问题。

[了解崩溃报告](https://stackoverflow.com/questions/13209022/understanding-crash-report/13210038#13210038)

在您拥有的控制台报告中

```
Exception Type:  EXC_CRASH (SIGABRT) 
```

这意味着您正在使用一些被释放的东西。

这里有一些教程如何在发生任何崩溃时调试代码，作者 raywenderlich。

[我的应用程序崩溃了——现在怎么办？1/2](http://www.raywenderlich.com/10209/my-app-crashed-now-what-part-1)

[我的应用程序崩溃了——现在怎么办？2/2](http://www.raywenderlich.com/10505/my-app-crashed-now-what-part-2)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:46:19.263

您说您在 Xcode 中对其进行了符号化，但我在堆栈跟踪的第 1、2、15 和 16 帧中看到未解析的地址，这些地址是从名为“Chapter3 Framework”的东西加载的代码中，它必须是您应用程序的一部分，因为它不是苹果框架。您需要`.dSYM`在您的应用程序中获取“Chapter3 Framework”版本的文件。

堆栈跟踪的第 3`-[UIApplication _handleApplicationSuspend:eventInfo:]`帧在“Chapter3 Framework”中的某个函数中，第 2 帧在其中。Apple 的测试人员可能会从您的应用程序中退出，这会将其置于后台。当应用程序进入后台时，它会将消息发送`applicationDidEnterBackground:`给应用程序委托。所以我猜第 2 帧在您的应用程序委托的`applicationDidEnterBackground:`方法中。您是否测试过离开您的应用程序？你有没有测试过很多次切换它，你的应用程序处于不同的状态？

崩溃报告说它在 iOS 5.0.1 上崩溃了。您是否在 iOS 5.0.1 上测试过从您的应用程序切换？

崩溃报告称它在“iPhone4,1”上坠毁，这是一部 iPhone 4S。您是否在 iPhone 4S 上测试过从您的应用程序切换？

您是否在 iPhone 4S 上测试过从 iOS 5.0.1 上的应用切换？

您是否在 iPhone 4S 上的 iOS 5.0.1 上全新安装您的应用程序时测试从您的应用程序切换？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-26T12:53:26.950

```
15  Chapter3 Framework             0x000024d6 0x1000 + 5334
16  Chapter3 Framework             0x0000246c 0x1000 + 5228 
```

您似乎在 Xcode (Spotlight) 可以找到的地方没有这些符号。您需要此崩溃日志来自的二进制文件的 .app 和 .dsym 文件。

```
Identifier:      Chapter3 Framework
Version:         ??? (???) 
```

看起来没有可用的版本号。

# ruby-on-rails - Ruby '除非'关键字

> ID：13411511
> 
> 赞同：2
> 
> 时间：2012-11-16T06:23:47.760
> 
> 标签：ruby-on-rails, ruby

我不确定“除非”在这段代码中做了什么。虽然看起来非常简单。

```
 def self.tips_by_categories
    @categories = {}
    # Build up the possible categories
    Tip.all.each do |tip|
      tip.categories.each do |category|
        @categories[category.name] = [] unless @categories[category.name]
        @categories[category.name].push(tip)
      end
    end
    @categories
  end 
```

`@categories[category.name] = []`如果`@categories[category.name]`是任何字符串吗？

如果不是，`@categories[category.name]`结果会是什么（在执行语句之后）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-16T06:27:23.357

上面带有 的行`unless`相当于：

```
if !@categories[category.name]
  @categories[category.name] = []
end 
```

如果`@categories[category.name]`为 nil 或 false，则将其更改为空数组`[]`。否则，它就不管它。

获得相同效果的更好方法是编写：

```
@categories[category.name] ||= [] 
```

或将您的哈希表配置为具有返回的默认过程`[]`。

# magento - Magento：客户帐户创建表格删除一些国家

> ID：13411514
> 
> 赞同：0
> 
> 时间：2012-11-16T06:23:53.853
> 
> 标签：magento, account

在客户帐户创建表单中，我想删除除孟加拉国以外的所有其他国家/地区。这意味着我想限制客户注册过程。

我怎样才能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:34:07.923

您可以从管理面板本身实现此目的。转到**管理 -> 系统 -> 配置 -> 选择当前配置范围为默认配置 -> 常规 -> 国家选项 -> 允许国家**-> 选择允许的国家。

就是这样。你完成了。

# ruby-on-rails - rails 将 mail_to 和 button_to 组合在一起

> ID：13411520
> 
> 赞同：0
> 
> 时间：2012-11-16T06:24:30.553
> 
> 标签：ruby-on-rails, ruby-on-rails-3, twitter-bootstrap

在 Rails 中，现在我有了 mail_to，它纯粹显示为一个链接，当我点击它时，它会引导我进入我的电子邮件应用程序。如何使用 twitter bootstrap 将其更改为按钮？

我现在有

```
 = mail_to @my.email, "#{@my.name}",:subject=>@my.email_subject 
```

无论如何更改链接显示为按钮？

我尝试了以下

```
 = button_to @my.email, "#{@my.name}",:subject=>@my.email_subject 
```

但它仍然不起作用....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:37:47.793

你应该使用`= mail_to @my.email, "#{@my.name}",:subject=>@my.email_subject, :class => 'button'`

因此，您必须有一些定义 class 的 CSS `button`。

# javascript - 将数据加载到 Ext.FormPanel

> ID：13411521
> 
> 赞同：0
> 
> 时间：2012-11-16T06:24:36.607
> 
> 标签：javascript, extjs

我有一个商店和 FormPanel。我想在面板中显示来自商店的数据。
如果我这样做：

```
 var store_form=null;
 store_form = new Ext.data.Store({                
        url: url_servlet+"kadastr_zemform.jsp",
        reader: new Ext.data.XmlReader({
        totalProperty: "results", 
        record: "contact",
                        fields: [
       ]}),
       listeners: {
         'load' :  function(store_form,records,options) {
                   this.loaded = true;
                   var record = store_form.getAt(0);
                   podform.getForm().loadRecord(record);
               }
           }
    });    

});
store_form.load(); 
```

一切都很好。

但是，如果我在 formPanel 的侦听器中调用 loadRecord()，我会得到错误：

```
TypeError: store_form.getAt is not a function
(624 out of range 31) 
```

我的代码。

```
var podform = new Ext.FormPanel({
    labelAlign: 'left',
    id: 'tab_6',
    frame:true,
    title: 'Договоры подряда',
    bodyStyle:'padding:5px 5px 0',
    width: 600,
    listeners: {
        'activate' :  function(store_form,records,options) {
        console.log("store:"+store_form);
        this.loaded = true;
        //alert("loaded");
        //console.log(store.getAt(0));
        var record = store_form.getAt(0);
        podform.getForm().loadRecord(record);
        }
    },
            fields[]
 }); 
```

它出什么问题了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:48:12.753

试试这个...

```
 listeners: { 'activate' : function(form,records,options)
 { 
   this.loaded = true; 
   var record = store_form.getAt(0); 
   podform.getForm().loadRecord(record);
 } 
```

# opengl - Derelict3：glfwPollEvents 上的段错误

> ID：13411523
> 
> 赞同：1
> 
> 时间：2012-11-16T06:24:41.323
> 
> 标签：opengl, d, glfw

我正在尝试在 D2 上使用 Derelict3 运行一个基本的 GLFW 示例。我从 D 邮件列表档案中提取了这个例子：http: [//forum.dlang.org/thread/byorhjqpppsgqiwfrigd@forum.dlang.org](http://forum.dlang.org/thread/byorhjqpppsgqiwfrigd@forum.dlang.org)

到目前为止，这是我的代码：

```
import std.stdio;

import derelict.opengl3.gl;
import derelict.glfw3.glfw3;

pragma(lib, "DerelictGL3");
pragma(lib, "DerelictGLFW3");
pragma(lib, "DerelictUtil");
pragma(lib, "dl");

const int width = 800;
const int height = 600;

void init() {
    glViewport(0,0,width,height);
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glClearColor(0.0f, 0.0f, 0.0f, 0.0f);
}

void display() {
    glClear(GL_COLOR_BUFFER_BIT);
    glBegin(GL_POLYGON);
        glVertex2d(0,0);
        glVertex2d(0,height);
        glVertex2d(width,height);
        glVertex2d(height,0);
    glEnd();
}

extern (C) {
    void resizeWindow(GLFWwindow window, int w, int h) {
    }

    void refreshWindow(GLFWwindow window) {
        writeln("Refresh");
        display();
    }

    void mouseMove(GLFWwindow window, int x, int y) {
    }

    void mouseClick(GLFWwindow window, int button, int action) {
    }

    int windowClose(GLFWwindow window) {
        //running = false;
        return GL_TRUE;
    }

    void keyTrigger(GLFWwindow window, int key, int action) {
        if (key == GLFW_KEY_ESCAPE && action == GLFW_PRESS) {
            //running = false;
        }
    }
}

void main() {
    DerelictGL.load();
    DerelictGLFW3.load();

    if (!glfwInit()) {
        writeln("glfwInit didn't work");
        return;
    }

    auto window = glfwCreateWindow(width,height,GLFW_WINDOWED,"Hello 
DerelictGLFW3",null);
    glfwMakeContextCurrent(window);

    init();

    // register callbacks
    /*
    glfwSetWindowRefreshCallback(window, &refreshWindow);
    glfwSetWindowSizeCallback(window, &resizeWindow);
    glfwSetCursorPosCallback(window, &mouseMove);
    glfwSetMouseButtonCallback(window, &mouseClick);
    glfwSetWindowCloseCallback(window, &windowClose);
    glfwSetKeyCallback(window, &keyTrigger);
    */

    bool opened = true;
    while(opened) {
        display();
        glfwSwapBuffers(window);

        writeln("Before");
        glfwPollEvents();
        writeln("After");
    }
    glfwTerminate();
} 
```

这目前可以按预期编译和运行，但是一旦我取消注释所有回调注册，我就会在`glfwPollEvents()`.

我不确定这里发生了什么。我认为这可能是图书馆冲突，但其他一切似乎都运行良好。

建设：

```
dmd -I$HOME/sandbox/Derelict3/import -L-L$HOME/sandbox/Derelict3/lib -ofgame test.d 
```

平台：Linux x64 (Fedora 17)

`$HOME/sandbox/Derelict3`是[https://github.com/aldacron/Derelict3的 git 克隆](https://github.com/aldacron/Derelict3)

另外，是否有使用 Derelict3 和 GLFW 渲染简单形状的示例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T19:50:59.700

[使用来自https://github.com/elmindreda/glfw.git](https://github.com/elmindreda/glfw.git)的最新 Derelict3（提交 b133eda）和 GLFW3（26abe0a），您的代码对我来说很好

我会做这些事情（按此顺序）：

1.  确保您的 Derelict 共享库是最新的（`rdmd build.d`在 Derelict3/build 目录中运行）。
2.  确保您的 GLFW3 库是最新的（我假设您是从源代码构建的，因此请确保在有新提交时拉取并重建）。别忘了`make install`。
3.  如果您仍然遇到问题，请尝试使用 GDB 获取回溯（我建议使用 -g 编译您的测试代码）。

不是那么简单的例子（使用可编程管道）：[https ://gist.github.com/4090381](https://gist.github.com/4090381)

# hadoop - Fedora 15上的sqoop安装错误

> ID：13411525
> 
> 赞同：0
> 
> 时间：2012-11-16T06:24:56.487
> 
> 标签：hadoop, sqoop

我正在尝试在我的机器上安装 sqoop，我从[这里下载了 tar 文件](http://apache.techartifact.com/mirror/sqoop/1.4.2/)

并尝试通过查看[here来安装](https://ccp.cloudera.com/display/CDHDOC/Sqoop+Installation)

所以当我尝试下面的命令时，我得到如下错误

```
[root@065 local]# (cd /usr/local/ && sudo tar \-zxvf _</home/local/user/Desktop/sqoop-1.4.2.bin__hadoop-0.20.tar.gz>_) 
```

**错误**

```
gzip: stdin: unexpected end of file
tar: Child returned status 1
tar: Error is not recoverable: exiting now 
```

上面的命令有什么问题？

谁能告诉我安装 sqoop 的最简单方法？

实际上我有一个`1GB xml`需要处理并保存到 MYSQL 数据库中的文件，我使用 hadoop 和 python 来执行此操作，但它需要`hrs`处理和保存，所以我决定使用 sqoop 并处理 xml 文件并将数据保存在到数据库

另外请让我知道使用 sqoop 的基本且简单的教程

另外请提供一个基本代码来处理 xml 文件并将数据保存到数据库中，因为我是 sqoop 的新手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:23:27.107

只需执行此命令即可验证 tar

```
ls -l /home/local/user/Desktop/ 
```

并检查文件大小是否与4.6M一致或关闭

之后，只需尝试运行以下

```
tar -zxvf /home/local/user/Desktop/sqoop-1.4.2.bin__hadoop-0.20.tar.gz 
```

然后复制到/usr/local/

**更新：**

您已从 cloudera 文档中复制并粘贴了确切的命令。

_<path_to_sqoop.tar.gz>_ 你不需要 _ < 和 > _ 用于文档的占位符。

运行这个

```
(cd /usr/local/ && sudo tar \-zxvf /home/local/user/Desktop/sqoop-1.4.2.bin__hadoop-0.20.tar.gz) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T13:47:59.853

还请在您的 ~/.bash_rc 文件中添加 $HADOOP_HOME。

```
vim ~/.bash_rc 
```

将此添加到您的 bash_rc 文件中：

```
export HADOOP_HOME=/home/local/user/name/Hadoop/hadoop-1.0.4/ 
```

保存文件然后执行

```
source ~/.bash_rc . 
```

此外，您需要将 sqoop-env-templat‌​e.sh 复制到 sqoop-env.sh。顾名思义，它只是一个模板：

```
cp /home/local/user/name/Desktop/sqoop-1.4.2.bin__hadoop-0.20/conf/sqoop-env-templat‌​e.sh /home/local/user/name/Desktop/sqoop-1.4.2.bin__hadoop-0.20/conf/sqoop-env.sh 
```

编辑 sqoop-env.sh：

```
vim /home/local/user/name/Desktop/sqoop-1.4.2.bin__hadoop-0.20/conf/sqoop-env.sh 
```

将以下行添加到 sqoop-env.sh：

```
export HADOOP_HOME=/home/local/user/name/Hadoop/hadoop-1.0.4/ 
```

现在测试 sqoop ：

```
./bin/sqoop help 
```

为了让您的生活更简单，您还可以将 sqoop 添加到您的 bashrc 文件中。

# java - 用实际字符替换 Java unicode 编码

> ID：13411528
> 
> 赞同：0
> 
> 时间：2012-11-16T06:25:16.107
> 
> 标签：java, html, encoding, character

当我进行网络查询时，对于重音字符，我将特殊字符编码作为字符串返回，例如 "\u00f3" ，但我需要在进行另一个查询之前将其替换为实际字符，例如 "ó"。

如果不逐一查找，我将如何找到这些案例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:35:49.463

看来您正在处理[JSON 格式的数据](http://json.org/)。

使用许多免费提供的 JSON 库中的任何一个来为您处理此（和其他解析问题），而不是尝试手动执行。

[来自 JSON.org](http://www.json.org/java/index.html)的那个被广泛使用，但[肯定](http://code.google.com/p/google-gson/) [还有](http://www.google.com/search?q=java%20json%20library)[其他](http://code.google.com/p/json-simple/)的也能正常工作。

# java - 将android的处理程序更改为java中的线程

> ID：13411537
> 
> 赞同：1
> 
> 时间：2012-11-16T06:26:02.117
> 
> 标签：java, android

```
 abstract public class DSTimer {
    boolean iTmID;
    long m_lTime;
    Lock m_Lock = new Lock();

    boolean bLoop = false;
    static long mTimeZoneDiff = 0;

    private Handler mHandler = new Handler();

    public DSTimer() {
        iTmID = false;
        bLoop = false;
        mHandler.removeCallbacks(mUpdateTimeTask);
    }

    public void Destroy() {
        KillTimer();
    }

    abstract public void TimerProc();

    public static long GetDateTime() {
        return (((new Date()).getTime() / 1000) - mTimeZoneDiff);
    }

    public static long GetWorkTime() {
        return GetDateTime() % Constants.DAY_SECONDS;
    }

    static long m_dwWorkStartTime;
    static long m_dwPlayStartTime;

    public static void InitTime() {
        mTimeZoneDiff = CDSVSettings.getTimeZoneDiff() * 60;
    }

    public static void SetTimeZoneDiff (long ldiff) {
        mTimeZoneDiff = ldiff * 60; 
    }

    static long DateTimeToWorkTime(long llDateTime) {
        return 0;
    }

    static long WorkTimeToDateTime(long llWorkTime) {
        return 0;
    }

    public boolean SetTimer(long lElapse) {
        m_Lock.getLock();

        if (iTmID)
            mHandler.removeCallbacks(mUpdateTimeTask);

        m_lTime = lElapse;

        long lTime = Math.min(1000, lElapse) * 1000;
        if (lElapse <= 0)
            lTime = 1;

        iTmID = mHandler.postDelayed(mUpdateTimeTask, lTime);

        m_Lock.unLock();
        return true;
    }

    private Runnable mUpdateTimeTask = new Runnable() {
        public void run() {

        m_Lock.getLock();

            if (!bLoop) {

                bLoop = true;
            }

            m_lTime -= 1000;

            if (m_lTime <= 0) {
                iTmID = false;

                m_Lock.unLock();

                TimerProc();
                return;
            } else {
                m_Lock.unLock();

                ResetTimer();
            }

        }
    };

    public boolean ResetTimer() {
        long lTime = Math.min(1000, m_lTime) * 1000;
        if (lTime <= 0)
            lTime = 1;

        iTmID = mHandler.postDelayed(mUpdateTimeTask, lTime);

        return iTmID;
    }

    public boolean KillTimer() {
        m_Lock.getLock();
        if (iTmID) {
            iTmID = false;
            mHandler.removeCallbacks(mUpdateTimeTask);
        }

        m_Lock.unLock();
        return true;
    }

    public boolean IsActive() {
        return (iTmID);
    }

} 
```

上面给出的是用android编写的代码。我需要将其更改为纯 Java。我已经尝试了下面的代码。但它显示了非法线程状态异常错误。

```
 abstract public class DSTimer {
    boolean iTmID;
    long m_lTime;

    static boolean flagTimer;
    Lock m_Lock = new Lock();

    boolean bLoop = false;
    static long mTimeZoneDiff = 0;

    public DSTimer() {
        iTmID = false;
        bLoop = false;

        mUpdateTimeTaskThread.stop();

    }

    public void Destroy() {
        KillTimer();
    }

    abstract public void TimerProc();

    public static long GetDateTime() {
        return (((new Date()).getTime() / 1000) - mTimeZoneDiff);
    }

    public static long GetWorkTime() {
        return GetDateTime() % Constants.DAY_SECONDS;
    }

    static long m_dwWorkStartTime;
    static long m_dwPlayStartTime;

    public static void InitTime() {
        mTimeZoneDiff = CDSVSettings.getTimeZoneDiff() * 60;
    }

    public static void SetTimeZoneDiff (long ldiff) {
        mTimeZoneDiff = ldiff * 60; 
    }

    static long DateTimeToWorkTime(long llDateTime) {
        return 0;
    }

    static long WorkTimeToDateTime(long llWorkTime) {
        return 0;
    }

    public boolean SetTimer(long lElapse) {
        System.out.println("SetTimer() in DSTimer");
        m_Lock.getLock();

        if (iTmID)
        {

            mUpdateTimeTaskThread.stop();
        }
        m_lTime = lElapse;

        long lTime = Math.min(1000, lElapse) * 1000;
        if (lElapse <= 0)
            lTime = 1;

        long testTime=0;
        while(testTime<=lTime)
        {
            if(testTime>=lTime)
            {
                if(!mUpdateTimeTaskThread.isAlive())
            mUpdateTimeTaskThread.start();
            }
            else
             testTime++;
        }

        m_Lock.unLock();
        return true;
    }

    Thread mUpdateTimeTaskThread = new Thread("mUpdateTimeTask") {

        @Override
    public void run() {

        System.out.println("mUpdateTimeTaskThread in DSTimer");
        if(flagTimer==true)
        {

        m_Lock.getLock();

        if (!bLoop) {

            bLoop = true;
        }

        m_lTime -= 1000;

        if (m_lTime <= 0) {
            iTmID = false;

            m_Lock.unLock();

            TimerProc();
            return;
        } else {
            m_Lock.unLock();

            ResetTimer();
        }

    }
    }
};

public boolean ResetTimer() {
    long lTime = Math.min(1000, m_lTime) * 1000;
    if (lTime <= 0)
        lTime = 1;

    long testTime=0;
    while(testTime<=lTime)
    {
        if(testTime>=lTime)
        {
            if(!mUpdateTimeTaskThread.isAlive())
            mUpdateTimeTaskThread.start();
        }
        else
         testTime++;
    }
    return iTmID;
}

public boolean KillTimer() {
    m_Lock.getLock();
    if (iTmID) {
        iTmID = false;

        mUpdateTimeTaskThread.stop();
    }

    m_Lock.unLock();
    return true;
}

public boolean IsActive() {
    System.out.println("IsActive() in DSTimer iTmID"+iTmID);
    return (iTmID);
} 
```

}

我试图通过使用线程而不是处理程序将其转换为 java。但是我收到了非法StateExceptionThread 错误。所以请告诉我一个解决方案。

**编辑：**来自评论的堆栈跟踪：

```
java.lang.IllegalThreadStateException
at java.lang.Thread.start(Unknown Source)
at com.interplay.viewer.common.DSTimer.SetTimer(DSTimer.java:93) 
at com.interplay.viewer.signage.DisplayManager.ResetDisplay(DisplayManager.java:84)
at com.interplay.viewer.signage.ScheduleManager.StopCurSchedule(ScheduleManager.jav‌​a:108)
at com.interplay.viewer.signage.ScheduleManager.PlaySchedule(ScheduleManager.java:8‌​3) 
at com.interplay.viewer.ViewerMain$3.run(ViewerMain.java:526) 
```

# algorithm - 寻找最粗线的算法？

> ID：13411538
> 
> 赞同：-1
> 
> 时间：2012-11-16T06:26:02.840
> 
> 标签：algorithm

如果主题令人困惑，我很抱歉。这是因为我不知道我真正在寻找什么。我有一组 P 点 ( `|P| < 10^5`)。每个点都有整数坐标 ( `between -10^4, 10^4`) 如何找到直线，它穿过输入指定的所有点。条件是该线必须是最粗的，并且您必须输出该直线的粗度，精确到小数点后 2 位。任何提示、线索、想法或算法名称将不胜感激。

PS。这既不是作业也不是 SPOJ。我只是通过做上一版的问题来准备编程比赛。而那个我无法解决的问题，即使我不知道从哪里开始寻找解决方案......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T10:06:44.890

您可以从确定该点云的凸包开始（参见例如[http://softsurfer.com/Archive/algorithm_0109/algorithm_0109.htm](http://softsurfer.com/Archive/algorithm_0109/algorithm_0109.htm)），并尝试找到以最短距离限制该多边形的两条平行线。

我认为这应该是一个更简单的问题，因为它允许您将平行线的方向基于凸包的段（其中数量有限）。

一种实现方式可以是依次处理凸包的每个部分。每段，画一条穿过它的线（这是两条平行线之一），然后确定包围凸包的最近的另一条平行线。对凸包的每个部分执行此操作，同时记录到目前为止您在平行线之间找到的最小距离。最后，您应该获得最佳结果。

显然，这仍然需要一种有效的方法来确定最近的另一条平行线。这样做的一种（天真，但可能足够好）的方法是获取不在当前段上的凸包的所有顶点，并确定通过它的线的垂直距离（例如[http://en.wikipedia .org/wiki/Distance_from_a_point_to_a_line](http://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line)）。所有这些顶点的最大距离也是到平行线的最小距离。

在伪代码中：

```
Function FindThinnestLine(PointCloud P)
   CH = ConvexHull(P)

   optS = nothing
   optDist = infinite

   For each segment S in CH
      L = the line through S

      /* Find the minimum distance that the line parallel to L must have in order to enclose CH */
      maxDist = 0
      For each vertex P in CH, except the two that limit S
         dist = The distance between L and P
         maxDist = max(dist, maxDist)

      /* If the current S has a smaller maxDist, it is our new optimum */
      if(maxDist < optDist)
         optS = S
         optDist = maxDist

   Return the line through optS and the line parallel to optS at a distance of optDist as the result
End Function 
```

这是一个 O(n^2) 算法，其中 n 是凸包中的段数。

**编辑** 想想看，你不需要为每个 S 迭代凸包的 O(n) 个顶点（为了找到 maxDist），只需要第*一个*S。假设我们称之为第一个顶点 oppV （*opp*与 S 相反），假设我们按顺时针顺序处理凸包的段。对于我们处理的每个后续 S，新的 oppV 可以是相同的顶点，也可以是其右邻居之一（但绝不是左邻居，否则这些段不会形成凸多边形）。
因此，处理凸包的片段可以在 O(n) 中完成（但创建凸包仍然是 O(n log n)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T10:03:27.663

包含 P 的给定子集的所有点的最粗线应该是线段 的垂直平分线`xy`，其中`x`和`y`是子集的两个点，`highest distance d`它们之间有 。这条线的粗细也是如此`d`。

# python - 从 Pandas DataFrame 中删除一列

> ID：13411544
> 
> 赞同：1866
> 
> 时间：2012-11-16T06:26:40.410
> 
> 标签：python, pandas, dataframe

删除 DataFrame 中的列时，我使用：

```
del df['column_name'] 
```

这很好用。为什么我不能使用以下内容？

```
del df.column_name 
```

由于可以将列/系列访问为`df.column_name`，因此我希望这可以工作。

* * *

## 回答 #1

> 赞同：2963
> 
> 时间：2013-08-09T11:12:09.200

在 Pandas 中执行此操作的最佳方法是使用[`drop`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop.html)：

```
df = df.drop('column_name', 1) 
```

其中`1`是*轴*号（`0`对于行和`1`列。）

要删除列而无需重新分配`df`，您可以执行以下操作：

```
df.drop('column_name', axis=1, inplace=True) 
```

最后，要按列*号*而不是按列*标签*删除，请尝试删除，例如第 1、第 2 和第 4 列：

```
df = df.drop(df.columns[[0, 1, 3]], axis=1)  # df.columns is zero-based pd.Index 
```

还使用列的“文本”语法：

```
df.drop(['column_nameA', 'column_nameB'], axis=1, inplace=True) 
```

*注意：*在[v0.21.0](https://pandas.pydata.org/pandas-docs/stable/whatsnew/v0.21.0.html#new-features)（2017 年 10 月 27 日）中引入，drop() 方法接受索引/列关键字作为指定轴的替代方法。

所以我们现在可以这样做：

```
df = df.drop(columns=['column_nameA', 'column_nameB']) 
```

* * *

## 回答 #2

> 赞同：1230
> 
> 时间：2012-11-21T03:12:31.480

如您所料，正确的语法是

```
del df['column_name'] 
```

`del df.column_name`由于 Python 中的语法限制，很难简单地完成工作。被Python`del df[name]`翻译成秘密。`df.__delitem__(name)`

* * *

## 回答 #3

> 赞同：296
> 
> 时间：2014-03-23T20:57:57.500

采用：

```
columns = ['Col1', 'Col2', ...]
df.drop(columns, inplace=True, axis=1) 
```

这将就地删除一列或多列。请注意，这`inplace=True`是在 pandas v0.13 中添加的，不适用于旧版本。在这种情况下，您必须将结果分配回去：

```
df = df.drop(columns, axis=1) 
```

* * *

## 回答 #4

> 赞同：147
> 
> 时间：2015-07-15T13:37:23.217

## 按索引删除

删除第一、二、四列：

```
df.drop(df.columns[[0,1,3]], axis=1, inplace=True) 
```

删除第一列：

```
df.drop(df.columns[[0]], axis=1, inplace=True) 
```

有一个可选参数`inplace`，可以在不创建副本的情况下修改原始数据。

## 弹出

[列选择、添加、删除](http://pandas.pydata.org/pandas-docs/stable/dsintro.html#column-selection-addition-deletion)

删除列`column-name`：

```
df.pop('column-name') 
```

## 例子：

```
df = DataFrame.from_items([('A', [1, 2, 3]), ('B', [4, 5, 6]), ('C', [7,8, 9])], orient='index', columns=['one', 'two', 'three']) 
```

`print df`：

```
 one  two  three
A    1    2      3
B    4    5      6
C    7    8      9 
```

`df.drop(df.columns[[0]], axis=1, inplace=True)` `print df`：

```
 two  three
A    2      3
B    5      6
C    8      9 
```

`three = df.pop('three')` `print df`：

```
 two
A    2
B    5
C    8 
```

* * *

## 回答 #5

> 赞同：89
> 
> 时间：2016-05-03T09:48:51.933

这里的大多数答案都忽略了提出的实际问题是：

### 为什么我不能使用`del df.column_name`？

首先，我们需要了解问题，这需要我们深入[*研究 Python 魔术方法*](https://rszalski.github.io/magicmethods/)。

正如韦斯在他的回答中[指出的那样](https://stackoverflow.com/questions/13411544/delete-a-column-from-a-pandas-dataframe/13485766#13485766)，映射到在 Pandas中实现`del df['column']`的 Python*魔术方法* [以删除列](https://github.com/pydata/pandas/blob/c6110e25b3eceb2f25022c2aa9ccea03c0b8b359/pandas/core/generic.py#L1580)。`df.__delitem__('column')`

[*但是，正如上面关于Python 魔术方法*](https://rszalski.github.io/magicmethods/)的链接中指出的那样：

> 事实上，`__del__`几乎从不应该使用它，因为它被称为不稳定的环境；谨慎使用！

您可以争辩`del df['column_name']`说不应该使用或鼓励，因此`del df.column_name`甚至不应该考虑。

但是，理论上，`del df.column_name`可以使用[*魔法方法*](https://rszalski.github.io/magicmethods/#access)[在 Pandas 中实现*`__delattr__`*](https://rszalski.github.io/magicmethods/#access)。然而，这确实引入了某些问题，`del df['column_name']`实施过程中已经存在的问题，但程度较轻。

## 示例问题

如果我在名为“dtypes”或“columns”的数据框中定义一个列怎么办？

然后假设我想删除这些列。

`del df.dtypes`会使`__delattr__`方法混淆，就好像它应该删除“dtypes”属性或“dtypes”列一样。

## 这个问题背后的架构问题

1.  数据框是*列*的集合吗？
2.  数据框是*行*的集合吗？
3.  列是数据框的*属性*吗？

### 熊猫回答：

1.  是的，在所有方面
2.  不，但如果你想要它，你可以使用`.ix`,`.loc`或`.iloc`方法。
3.  也许，你想*读取*数据吗？然后**是**，*除非*属性的名称已经被属于数据框的另一个属性占用。是否要*修改*数据？然后**没有**。

# TLDR；

你不能这样做`del df.column_name`，因为 Pandas 的架构非常广泛，需要重新考虑，以使其用户不会出现这种*认知失调。*

### 专家提示：

不要使用 df.column_name。它可能很漂亮，但它会导致*认知失调*。

### 适合此处的 Python 之禅：

有多种删除列的方法。

> 应该有一种——最好只有一种——明显的方法来做到这一点。

列有时是属性，但有时不是。

> 特殊情况不足以打破规则。

是否`del df.dtypes`删除 dtypes 属性或 dtypes 列？

> 面对模棱两可，拒绝猜测的诱惑。

* * *

## 回答 #6

> 赞同：70
> 
> 时间：2016-01-03T12:29:49.343

一个不错的附加功能是**仅当列存在时才删除它们**。这样你可以覆盖更多的用例，它只会从传递给它的标签中删除现有的列：

只需添加**errors='ignore'**，例如：

```
df.drop(['col_name_1', 'col_name_2', ..., 'col_name_N'], inplace=True, axis=1, errors='ignore') 
```

*   这是从 pandas 0.16.1 开始的新功能。文档在[这里](http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.DataFrame.drop.html)。

* * *

## 回答 #7

> 赞同：47
> 
> 时间：2016-04-30T18:57:48.920

从 0.16.1 版本开始，您可以执行

```
df.drop(['column_name'], axis = 1, inplace = True, errors = 'ignore') 
```

* * *

## 回答 #8

> 赞同：38
> 
> 时间：2012-11-16T11:33:47.677

始终使用该`[]`符号是一个好习惯。一个原因是属性表示法 ( `df.column_name`) 不适用于编号索引：

```
In [1]: df = DataFrame([[1, 2, 3], [4, 5, 6]])

In [2]: df[1]
Out[2]:
0    2
1    5
Name: 1

In [3]: df.1
  File "<ipython-input-3-e4803c0d1066>", line 1
    df.1
       ^
SyntaxError: invalid syntax 
```

* * *

## 回答 #9

> 赞同：31
> 
> 时间：2017-10-24T14:31:03.950

# 熊猫 0.21+ 答案

Pandas 0.21 版对该[`drop`](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.drop.html)方法进行了轻微更改，以包含`index`and`columns`参数以匹配`rename`and`reindex`方法的签名。

```
df.drop(columns=['column_a', 'column_c']) 
```

就个人而言，我更喜欢使用`axis`参数来表示列或索引，因为它是几乎所有 pandas 方法中使用的主要关键字参数。但是，现在您在 0.21 版中多了一些选择。

* * *

## 回答 #10

> 赞同：27
> 
> 时间：2016-02-13T21:58:33.920

[在 Pandas 0.16.1+ 中，只有根据 eiTan LaVi 发布的解决方案](https://stackoverflow.com/questions/13411544/delete-a-column-from-a-pandas-dataframe/34576537#34576537)存在列，您才能删除列。在该版本之前，您可以通过条件列表推导获得相同的结果：

```
df.drop([col for col in ['col_name_1','col_name_2',...,'col_name_N'] if col in df],
        axis=1, inplace=True) 
```

* * *

## 回答 #11

> 赞同：25
> 
> 时间：2020-10-15T17:14:33.977

采用：

```
df.drop('columnname', axis =1, inplace = True) 
```

否则你可以去

```
del df['colname'] 
```

根据列号删除多列

```
df.drop(df.iloc[:,1:3], axis = 1, inplace = True) 
```

根据列名删除多个列

```
df.drop(['col1','col2',..'coln'], axis = 1, inplace = True) 
```

* * *

## 回答 #12

> 赞同：20
> 
> 时间：2017-09-20T05:43:19.047

# TL;博士

为找到一个稍微更有效的解决方案付出了很多努力。很难在牺牲简单性的同时证明增加的复杂性是合理的`df.drop(dlst, 1, errors='ignore')`

```
df.reindex_axis(np.setdiff1d(df.columns.values, dlst), 1) 
```

**序言**
删除一列在语义上与选择其他列相同。我将展示一些额外的方法来考虑。

我还将重点介绍一次删除多个列并允许尝试删除不存在的列的一般解决方案。

使用这些解决方案是通用的，也适用于简单的情况。

* * *

**设置**
考虑`pd.DataFrame` `df`要删除的和列表`dlst`

```
df = pd.DataFrame(dict(zip('ABCDEFGHIJ', range(1, 11))), range(3))
dlst = list('HIJKLM') 
```

* * *

```
df

   A  B  C  D  E  F  G  H  I   J
0  1  2  3  4  5  6  7  8  9  10
1  1  2  3  4  5  6  7  8  9  10
2  1  2  3  4  5  6  7  8  9  10 
```

* * *

```
dlst

['H', 'I', 'J', 'K', 'L', 'M'] 
```

结果应如下所示：

```
df.drop(dlst, 1, errors='ignore')

   A  B  C  D  E  F  G
0  1  2  3  4  5  6  7
1  1  2  3  4  5  6  7
2  1  2  3  4  5  6  7 
```

* * *

由于我将删除一列等同于选择其他列，因此我将其分为两种类型：

1.  标签选择
2.  布尔选择

* * *

# 标签选择

我们首先制造标签列表/数组，这些标签代表我们要保留的列，而没有我们要删除的列。

1.  `df.columns.difference(dlst)`

    ```
    Index(['A', 'B', 'C', 'D', 'E', 'F', 'G'], dtype='object') 
    ```

2.  `np.setdiff1d(df.columns.values, dlst)`

    ```
    array(['A', 'B', 'C', 'D', 'E', 'F', 'G'], dtype=object) 
    ```

3.  `df.columns.drop(dlst, errors='ignore')`

    ```
    Index(['A', 'B', 'C', 'D', 'E', 'F', 'G'], dtype='object') 
    ```

4.  `list(set(df.columns.values.tolist()).difference(dlst))`

    ```
    # does not preserve order
    ['E', 'D', 'B', 'F', 'G', 'A', 'C'] 
    ```

5.  `[x for x in df.columns.values.tolist() if x not in dlst]`

    ```
    ['A', 'B', 'C', 'D', 'E', 'F', 'G'] 
    ```

    * * *

**来自标签**
的列 为了比较选择过程，假设：

```
 cols = [x for x in df.columns.values.tolist() if x not in dlst] 
```

然后我们可以评估

1.  `df.loc[:, cols]`
2.  `df[cols]`
3.  `df.reindex(columns=cols)`
4.  `df.reindex_axis(cols, 1)`

全部评估为：

```
 A  B  C  D  E  F  G
0  1  2  3  4  5  6  7
1  1  2  3  4  5  6  7
2  1  2  3  4  5  6  7 
```

* * *

# 布尔切片

我们可以构造一个用于切片的布尔数组/列表

1.  `~df.columns.isin(dlst)`
2.  `~np.in1d(df.columns.values, dlst)`
3.  `[x not in dlst for x in df.columns.values.tolist()]`
4.  `(df.columns.values[:, None] != dlst).all(1)`

**来自布尔**
的列为了比较

```
bools = [x not in dlst for x in df.columns.values.tolist()] 
```

1.  `df.loc[: bools]`

全部评估为：

```
 A  B  C  D  E  F  G
0  1  2  3  4  5  6  7
1  1  2  3  4  5  6  7
2  1  2  3  4  5  6  7 
```

* * *

**稳健的时序**

*职能*

```
setdiff1d = lambda df, dlst: np.setdiff1d(df.columns.values, dlst)
difference = lambda df, dlst: df.columns.difference(dlst)
columndrop = lambda df, dlst: df.columns.drop(dlst, errors='ignore')
setdifflst = lambda df, dlst: list(set(df.columns.values.tolist()).difference(dlst))
comprehension = lambda df, dlst: [x for x in df.columns.values.tolist() if x not in dlst]

loc = lambda df, cols: df.loc[:, cols]
slc = lambda df, cols: df[cols]
ridx = lambda df, cols: df.reindex(columns=cols)
ridxa = lambda df, cols: df.reindex_axis(cols, 1)

isin = lambda df, dlst: ~df.columns.isin(dlst)
in1d = lambda df, dlst: ~np.in1d(df.columns.values, dlst)
comp = lambda df, dlst: [x not in dlst for x in df.columns.values.tolist()]
brod = lambda df, dlst: (df.columns.values[:, None] != dlst).all(1) 
```

**测试**

```
res1 = pd.DataFrame(
    index=pd.MultiIndex.from_product([
        'loc slc ridx ridxa'.split(),
        'setdiff1d difference columndrop setdifflst comprehension'.split(),
    ], names=['Select', 'Label']),
    columns=[10, 30, 100, 300, 1000],
    dtype=float
)

res2 = pd.DataFrame(
    index=pd.MultiIndex.from_product([
        'loc'.split(),
        'isin in1d comp brod'.split(),
    ], names=['Select', 'Label']),
    columns=[10, 30, 100, 300, 1000],
    dtype=float
)

res = res1.append(res2).sort_index()

dres = pd.Series(index=res.columns, name='drop')

for j in res.columns:
    dlst = list(range(j))
    cols = list(range(j // 2, j + j // 2))
    d = pd.DataFrame(1, range(10), cols)
    dres.at[j] = timeit('d.drop(dlst, 1, errors="ignore")', 'from __main__ import d, dlst', number=100)
    for s, l in res.index:
        stmt = '{}(d, {}(d, dlst))'.format(s, l)
        setp = 'from __main__ import d, dlst, {}, {}'.format(s, l)
        res.at[(s, l), j] = timeit(stmt, setp, number=100)

rs = res / dres 
```

* * *

```
rs

                          10        30        100       300        1000
Select Label                                                           
loc    brod           0.747373  0.861979  0.891144  1.284235   3.872157
       columndrop     1.193983  1.292843  1.396841  1.484429   1.335733
       comp           0.802036  0.732326  1.149397  3.473283  25.565922
       comprehension  1.463503  1.568395  1.866441  4.421639  26.552276
       difference     1.413010  1.460863  1.587594  1.568571   1.569735
       in1d           0.818502  0.844374  0.994093  1.042360   1.076255
       isin           1.008874  0.879706  1.021712  1.001119   0.964327
       setdiff1d      1.352828  1.274061  1.483380  1.459986   1.466575
       setdifflst     1.233332  1.444521  1.714199  1.797241   1.876425
ridx   columndrop     0.903013  0.832814  0.949234  0.976366   0.982888
       comprehension  0.777445  0.827151  1.108028  3.473164  25.528879
       difference     1.086859  1.081396  1.293132  1.173044   1.237613
       setdiff1d      0.946009  0.873169  0.900185  0.908194   1.036124
       setdifflst     0.732964  0.823218  0.819748  0.990315   1.050910
ridxa  columndrop     0.835254  0.774701  0.907105  0.908006   0.932754
       comprehension  0.697749  0.762556  1.215225  3.510226  25.041832
       difference     1.055099  1.010208  1.122005  1.119575   1.383065
       setdiff1d      0.760716  0.725386  0.849949  0.879425   0.946460
       setdifflst     0.710008  0.668108  0.778060  0.871766   0.939537
slc    columndrop     1.268191  1.521264  2.646687  1.919423   1.981091
       comprehension  0.856893  0.870365  1.290730  3.564219  26.208937
       difference     1.470095  1.747211  2.886581  2.254690   2.050536
       setdiff1d      1.098427  1.133476  1.466029  2.045965   3.123452
       setdifflst     0.833700  0.846652  1.013061  1.110352   1.287831 
```

* * *

```
fig, axes = plt.subplots(2, 2, figsize=(8, 6), sharey=True)
for i, (n, g) in enumerate([(n, g.xs(n)) for n, g in rs.groupby('Select')]):
    ax = axes[i // 2, i % 2]
    g.plot.bar(ax=ax, title=n)
    ax.legend_.remove()
fig.tight_layout() 
```

这与运行所需的时间有关`df.drop(dlst, 1, errors='ignore')`。似乎经过所有努力，我们只能适度提高性能。

[![在此处输入图像描述](../Images/d0db905d2d4207c837579606bedc5c3d.png)](https://i.stack.imgur.com/208z6.png)

如果事实上最好的解决方案使用`reindex`或`reindex_axis`在 hack 上`list(set(df.columns.values.tolist()).difference(dlst))`。`drop`紧随其后，仍然比is略好`np.setdiff1d`。

```
rs.idxmin().pipe(
    lambda x: pd.DataFrame(
        dict(idx=x.values, val=rs.lookup(x.values, x.index)),
        x.index
    )
)

                      idx       val
10     (ridx, setdifflst)  0.653431
30    (ridxa, setdifflst)  0.746143
100   (ridxa, setdifflst)  0.816207
300    (ridx, setdifflst)  0.780157
1000  (ridxa, setdifflst)  0.861622 
```

* * *

## 回答 #13

> 赞同：13
> 
> 时间：2020-04-19T13:58:43.053

我们可以通过**drop()**方法**删除**或**删除**指定列或指定列。

 **假设**df**是一个数据框。

要删除的列 = column0

> 代码：

```
df = df.drop(column0, axis=1) 
```

要删除多列 col1、col2、. . . , coln, 我们必须在列表中插入所有需要删除的列。然后通过 drop() 方法删除它们。

> 代码：

```
df = df.drop([col1, col2, . . . , coln], axis=1) 
```

* * *

## 回答 #14

> 赞同：6
> 
> 时间：2020-03-15T17:57:51.830

如果您的原始数据框**`df`**不是太大，您没有内存限制，并且您只需要保留几列，或者，如果您事先不知道您不需要的所有额外列的名称，那么您可能以及创建一个仅包含您需要的列的新数据框：

```
new_df = df[['spam', 'sausage']] 
```

* * *

## 回答 #15

> 赞同：4
> 
> 时间：2020-11-15T01:19:34.953

当我们有一个带有不需要值的典型列名时，使用和的`iloc`函数删除列：`dataframe``slicing`

```
df = df.iloc[:,1:] # Removing an unnamed index column 
```

这`0`是默认行并且`1`是第一列，因此`:,1:`是我们删除第一列的参数。

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2016-04-20T15:55:38.017

点语法在 JavaScript 中有效，但在 Python 中无效。

*   Python：`del df['column_name']`
*   JavaScript：`del df['column_name']` **或** `del df.column_name`

* * *

## 回答 #17

> 赞同：2
> 
> 时间：2018-09-09T06:59:06.257

**在 Pandas DataFrame 中删除列的另一种方法**

如果您不是在寻找*就地*`DataFrame(...)`删除，那么您可以通过使用以下函数指定列来创建一个新的 DataFrame ：

```
my_dict = { 'name' : ['a','b','c','d'], 'age' : [10,20,25,22], 'designation' : ['CEO', 'VP', 'MD', 'CEO']}

df = pd.DataFrame(my_dict) 
```

创建一个新的 DataFrame 作为

```
newdf = pd.DataFrame(df, columns=['name', 'age']) 
```

您获得的结果与使用 del / drop 获得的结果一样好。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2021-10-06T07:31:21.473

要删除特定列之前和之后的列，您可以使用[truncate](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.truncate.html)方法。例如：

```
 A   B    C     D      E
0  1  10  100  1000  10000
1  2  20  200  2000  20000

df.truncate(before='B', after='D', axis=1) 
```

输出：

```
 B    C     D
0  10  100  1000
1  20  200  2000 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2021-11-10T09:16:52.370

从一般 Python 的角度来看， 如果可以删除`del obj.column_name`该属性是有意义的。`column_name`它必须是常规属性 - 或具有已定义删除器的属性。

这不能转化为 Pandas 并且对 Pandas Dataframes*没有意义的原因是：*

*   认为`df.column_name`是一个“虚拟属性”，它本身不是一个东西，它不是那个列的“座位”，它只是一种访问列的方式。很像没有删除器的属性。**

# javascript - 对象没有方法 getColumnType 错误

> ID：13411545
> 
> 赞同：4
> 
> 时间：2012-11-16T06:26:45.210
> 
> 标签：javascript, asp.net, jquery, google-visualization

我已经阅读了[这篇](https://stackoverflow.com/questions/11376665/object-has-no-method-getcolumntype)文章的解决方案，但似乎无法解决我的问题。我正在使用谷歌图表来构建折线图。x 轴为日期，y 轴为整数。

当我运行我的代码时，我收到一条很大的错误消息

> 对象 {“然后列出我所有的 JSON 格式数据”} 没有方法 'getColumnType'。

我通过 AJAX 调用从 Web 服务获取我的 JSON 图表数据。到目前为止我的代码

```
<script type="text/javascript">

            google.load("visualization", "1", { packages: ["corechart"] });
            google.setOnLoadCallback(drawChart);

            function drawChart() {
                var jsonData = $.ajax({
                    url: "WebService.asmx/HelloWorld",
                    data: "{}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false
                }).responseText;

                var options = {
                    title: 'Company Performance'
                };

                var chart = new google.visualization.LineChart(document.getElementById('chart_div1'));
                chart.draw(jsonData, options);
            }

    </script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-19T04:15:39.050

解决方案很简单......您不能直接从 JSON 数据填充谷歌图表。JSON 首先需要格式化为数据表。解决方案如下所示：

```
 // Load the Visualization API and the piechart package.
          google.load('visualization', '1', { 'packages': ['annotatedtimeline'] });

          // Set a callback to run when the Google Visualization API is loaded.
          google.setOnLoadCallback(drawChart);

          function drawChart() {
              var jsonData = $.ajax({
                  url: "JSON.txt",
                  dataType: "json",
                  async: false
              }).responseText;

              // HERE IS THE FIX!!! Create our data table out of JSON data loaded from server.
              var data = new google.visualization.DataTable(jsonData);

              // Instantiate and draw our chart, passing in some options.
              var chart = new google.visualization.AnnotatedTimeLine(document.getElementById('chart_div1'));
              chart.draw(data, { width: 400, height: 240 });
          } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T17:13:15.767

我认为您需要显式解析 JSON；`$.ajax()`在这种情况下不会为你这样做。

尝试添加：

```
 jsonData = JSON.parse(jsonData); 
```

在构建图表之前。

现在，也就是说，我不知道它在寻找什么`getColumnType()`功能；这不会以字符串形式或解析形式出现在您的 JSON 响应中。

# c# - 上传到数据表时找到空的excel文件

> ID：13411547
> 
> 赞同：0
> 
> 时间：2012-11-16T06:26:50.470
> 
> 标签：c#, asp.net

用户通过 Excel 文件上传输入。我想发现 excel 文件是空的，否则。我检查内容长度和文件大小以查找空文件。大小因空文件而异（没有类型和用户类型数据，并删除所有数据以使其为空）对于空文件 8714 的示例内容长度，但用户键入任何数据并删除所有数据，然后内容长度为 8104

所以我将excel文件转换为数据表并检查数据表是否为空。当将空文件转换为数据表时，数据表有默认列F1。所以数据表=null不起作用。请帮帮我

我的代码：

```
string dirpath = Server.MapPath("~") + "uploadfile\\";
                string LocalFilePath = dirpath + fileName;
                fileUpload.PostedFile.SaveAs(LocalFilePath);

                string fileType = Path.GetExtension(fileName);        
                string SourceConstr = string.Empty;
                var Inputs = ProjectAttributeMasterService.GetInputAttributes(7);

                if (fileType == ".xls" || fileType == ".xlsx")
                {

                    if (fileType == ".xls")
                    {
                        SourceConstr = @"Provider=Microsoft.Jet.OLEDB.4.0;Data Source='" + LocalFilePath + "';;Extended Properties= 'Excel 8.0;HDR=Yes;IMEX=1'";

                    }

                    OleDbConnection con = new OleDbConnection(SourceConstr);
                    con.ResetState();
                    con.Open();

                    System.Data.DataTable dtl = new DataTable();
                    System.Data.DataTable dts = con.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);

                    OleDbDataAdapter da = new OleDbDataAdapter("select * from [Sheet1$]", con);
                    da.Fill(dtl);

                    if ((dtl.Rows.Count >= 1 || dtl.Columns.Count >= 1) && !dtl.Columns.Contains("F1")){
            }
          else
          {
         /empty file
          } 
```

dtl.Columns.Contains("F1")..如果我使用这种条件，即使 Excel 在单元格“F1”中包含数据，然后返回 Empty..并且 F1 不是所有服务器的默认列......所以它也不好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:49:14.443

使用如下代码：

```
 OleDbDataAdapter da = new OleDbDataAdapter("select * from [Sheet1$]", con);
     da.Fill(ds);
    if ((ds.Table.Count >= 1)
     {    
          if (ds.Tables[0].Rows.Count > 0)
          {
             //Excel contains data
          }
          else
          {
             //file is empty
          }   
     }
     else
     {
       //file is empty
     } 
```

# windows-mobile - 在windows mobile 6中将数据插入数据库

> ID：13411552
> 
> 赞同：0
> 
> 时间：2012-11-16T06:27:08.303
> 
> 标签：windows-mobile, compact-framework, sql-server-ce

我是 windows mobile 6 的初学者，我试图将值传递给数据库，但 itz 不工作没有错误和警告请检查我的代码并帮助我.. 数据库没有更新..

```
private void button1_Click(object sender, EventArgs e)
{
  string conSTR = "data source= " +
    (System.IO.Path.GetDirectoryName(System.Reflection.Assembly.GetExecutingAssembly().GetName().CodeBase)) +
    "\\DPass.sdf; Persist security info=False";

  SqlCeConnection connection = new SqlCeConnection(conSTR);
  SqlCeCommand cmd = new SqlCeCommand("INSERT INTO cusTable(Fname,Lname) VALUES(@Fname,@Lname)",connection);
  cmd.Parameters.AddWithValue("@Fname", textBox1.Text);
  cmd.Parameters.AddWithValue("@Lname", textBox2.Text);

  connection.Open();
  int affectedRows = cmd.ExecuteNonQuery();
  cmd.ExecuteNonQuery();
  MessageBox.Show("ela");
  connection.Close();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T14:45:54.597

虽然不是解决方案的一部分，但将它移到循环之外是个好主意，这样您就不必一遍又一遍地阅读它。

```
private readonly string CON_STR = "data source= " +
    (System.IO.Path.GetDirectoryName(System.Reflection.Assembly.GetExecutingAssembly().GetName().CodeBase)) +
    "\\DPass.sdf; Persist security info=False"; 
```

现在，使用 Try/Catch 语句找出你做错了什么。

在下面修改后的代码中，我包含了其中的 2 个。外部 Try/Catch 设置为`Exception`并将吞没任何异常。内部的 Try/Catch 是我怀疑会抛出消息的那个，它是一个`SqlCeException`，仅针对 SqlCe 错误抛出。

```
private void button1_Click(object sender, EventArgs e)
{
   int affectedRows = 0;
   string sqlText = "INSERT INTO cusTable(Fname,Lname) VALUES(@Fname,@Lname)";
   try {
     using (var cmd = new SqlCeCommand(sqlText, new SqlCeConnection(CON_STR))) {
       cmd.Parameters.AddWithValue("@Fname", textBox1.Text);
       cmd.Parameters.AddWithValue("@Lname", textBox2.Text);
       try {
         cmd.Connection.Open();
         affectedRows = cmd.ExecuteNonQuery();
         //cmd.ExecuteNonQuery(); <= ?? Why are you calling this twice?
       } catch (SqlCeException ceEr) {
         MessageBox.Show(ceEr.Message, "SqlCe Error");
       } finally {
         cmd.Connection.Close();
       }
     }
   } catch (Exception err) {
     MessageBox.Show(err.Message, "Non-SqlCe Error");
   }
   MessageBox.Show(string.Format("Affected Rows: {0}", affectedRows), "ela");
} 
```

您似乎还`INSERT`两次调用了您的函数，因此第二次`ExecuteNonQuery()`调用已被注释掉。

运行此代码，并报告错误消息是什么以及该 MessageBox 的标题是“SqlCe 错误”还是“非 SqlCe 错误”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-17T07:01:16.470

虽然我还没有使用您的方式在 SQL CE 数据库中插入数据，但您的查询字符串似乎缺少一些项目。查看[http://msdn.microsoft.com/en-us/library/aa977880%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/aa977880%28v=vs.71%29.aspx)我看到您正在使用以下语法：

```
INSERT INTO employee (emp_no, fname, lname, officeno) ;VALUES (3022, "John", "Smith", 2101) 
```

但是在您的查询中，字段列表后缺少分号。

其次，如果您需要在数据库中插入字符串信息，这些必须用引号括起来。

所以请尝试以下查询字符串：

```
"INSERT INTO cusTable(Fname,Lname); VALUES(\"@Fname\",\"@Lname\")" 
```

顺便说一句：如果代码中的 SQL 语句不起作用，我使用 MS Access 或 SQL Manager 来测试我的查询字符串。

问候

约瑟夫

# c# - Rhino Mocks：以 AAA 语法验证所有模拟

> ID：13411555
> 
> 赞同：3
> 
> 时间：2012-11-16T06:27:19.440
> 
> 标签：c#, unit-testing, mocking, rhino-mocks

当使用旧的 Rhino Mocks 记录重播语法时，会创建一个 MockRepository 实例并从那里进行所有模拟。在单元测试结束时，调用方法 [MockRepository Instance].VerifyAll() 来验证所有模拟。

使用当前的 AAA 语法，所有模拟都是由 MockRepository 类上的静态方法创建的。目前我没有找到比在测试结束或拆除时验证每个模拟对象更好的解决方案。这比旧语法的行为更容易出错，因为有时忘记验证新的模拟实例。

你们如何处理这个问题，有没有更好的方法来验证所有现有的模拟？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T07:38:46.063

> (...) 有没有更好的方法来验证所有现有的模拟？

更好的方法是一次测试一件事。*也许*Rhino 从***验证所有***到***显式验证***的转变是以这种方式完成的 - 为了促进一次测试单个事物（因此，您应该只需要一次验证）。

很容易意识到验证多个模拟的需要可能来自您想要一次检查*多个行为*的事实（例如，单个测试）。请注意，这可能是较早几个阶段的非最佳设计选择的结果，您可能会将其（难以编写测试）作为警告信号。

在[ayende 的 Rhino Mocks 3.5 指南页面](http://ayende.com/wiki/Rhino%20Mocks%203.5.ashx)中，您不会找到在一个测试中使用两个或模拟的单个示例。

### *关于模拟和多个存根问题*

您使用存根来设置环境/要求，而不是验证您的代码。您永远不会验证存根（例如，是否调用了某些方法或属性是否具有某些值）。存根本质上是您测试的代码使用的*只读组件。*由于这种区别，stub 永远不会使您的测试失败，而 mock 肯定可以这样做。这就是为什么您可以在 Rhino 示例中看到多个存根，但总是一个模拟。

# desktop - 是否可以将远程桌面连接设为专用于实际观看屏幕的人？

> ID：13411558
> 
> 赞同：-1
> 
> 时间：2012-11-16T06:27:23.787
> 
> 标签：desktop, remote-desktop, privacy, vnc

当我使用 VNC 或 RDP 远程控制我的办公室电脑时，据我所知，站在我电脑前的人可能会看到我正在做的一切。此外，如果我失去连接，那么计算机仍将登录（即未锁定），因此我办公室中的某人可以使用我的登录凭据做任何他们想做的事情。

有没有一种方法可以远程访问一台机器，而不会损害可能在机器前面的人的隐私？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T09:43:48.827

是的。使用 Xvnc 创建一个虚拟会话。

或者，要保护对控制台会话的访问，请在连接上设置空闲超时并将服务器配置为在最后一个客户端断开连接时锁定会话。这样，如果您确实断开连接，那将不是问题。

# mysql - mysql年份低于1900

> ID：13411561
> 
> 赞同：8
> 
> 时间：2012-11-16T06:27:53.393
> 
> 标签：mysql, macos, windows-7

我创建了一个表“作曲家”值（名称 VARCHAR（30），出生年份（4），死亡年份（4），城市 VARCHAR（30），国家 VARCHAR（30））。然后我插入作曲家的价值（'BACH Johann Sebastian'，1685,1750，'Eisenach'，'Germany'）;。它返回 2 个错误。年份不在 1901 年到 2155 年之间。

有什么方法可以更改此默认值，以便我可以为这些列设置实际年份？似乎无法在网上找到任何东西。

我只对这些列使用 INTEGER(4)，但如果可能的话，我想使用 YEAR(4)。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-16T06:35:10.270

似乎很清楚，这是这种类型在[docs](http://dev.mysql.com/doc/refman/5.0/en/year.html)中起作用的唯一方式。

该`YEAR(4)`类型仅使用 1 个字节，并且限制在 256 年的范围内。如果您的用例完全落在不同的 256 年空间内，您当然可以将它们存储一定数量，并在写作之前和阅读之后调整自己，比如 -300。

或者，使用 a `SMALLINT`or`UNSIGNED SMALLINT`代替 full`INT`以使用 2 个字节。不完全是 'YEAR(4)' 使用的 1 个字节，但少于一个 'YEAR(4)' 使用的 4 个字节`INT`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:33:06.100

[`YEAR`](http://dev.mysql.com/doc/refman/5.0/en/year.html)数据类型仅支持该范围。如果要使用其他值，请使用标准`INT`.

使用该`YEAR`类型的唯一优势是从 2 位数年份到 4 位数等值的半自动转换，但这种实用性充其量是值得怀疑的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:34:46.173

您可以使用整数将年份存储为数字（您已经做过），或者切换到更明智的数据库，如 PostgreSQL，它在存储数百万年的过去或未来的日期方面没有任何问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T06:39:23.203

恐怕你必须在这种情况下使用 Int 根据这个 [http://kimbriggs.com/computers/computer-notes/mysql-notes/mysql-data-types-50.file](http://kimbriggs.com/computers/computer-notes/mysql-notes/mysql-data-types-50.file)

年份类型的范围是 1900 - 2155，不能更改 :)

# android - 检索 url 以存储在数组中

> ID：13411568
> 
> 赞同：0
> 
> 时间：2012-11-16T06:28:24.633
> 
> 标签：android, gridview

我正在从服务器检索图像 url 到我的应用程序，然后将图像 url 显示到 gridview 中。我设法检索 url 并存储到一个数组中，然后尝试显示图像，但我的应用程序崩溃了。

这是我的代码：

```
public class MainActivity extends Activity {

    GridView list;
    LazyAdapter adapter;
    String[] mString = new String [100];

 // Progress Dialog
    private ProgressDialog pDialog;

    // Creating JSON Parser object
    JSONParser jParser = new JSONParser();

    // products JSONArray
    JSONArray images = null;

    ArrayList<HashMap<String, String>> photosList;

    // url to get all products list
    private static String url_all_photos = "http://10.0.2.2/android_connect/get_images.php";
    private static final String TAG_NAME = "photos";
    private static final String TAG_SUCCESS = "success";
    private static final String TAG_THUMBNAIL = "thumbnail_url";

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        // Loading products in Background Thread
        new LoadAllThumbnails().execute();

        list=(GridView)findViewById(R.id.list);
        adapter=new LazyAdapter(this, mString);
        list.setAdapter(adapter);

        Button b=(Button)findViewById(R.id.button1);
        b.setOnClickListener(listener);
    }

    @Override
    public void onDestroy()
    {
        adapter.imageLoader.stopThread();
        list.setAdapter(null);
        super.onDestroy();
    }

    public OnClickListener listener=new OnClickListener(){
        @Override
        public void onClick(View arg0) {
            adapter.imageLoader.clearCache();
            adapter.notifyDataSetChanged();
        }
    };

    /* private String[] mStrings={
            "http://a3.twimg.com/profile_images/670625317/aam-logo-v3-twitter.png",
            "http://a3.twimg.com/profile_images/740897825/AndroidCast-350_normal.png",
            "http://a3.twimg.com/profile_images/121630227/Droid_normal.jpg",
            "http://a1.twimg.com/profile_images/957149154/twitterhalf_normal.jpg"
    }; */

    /**
     * Background Async Task to Load all product by making HTTP Request
     * */
    class LoadAllThumbnails extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Dialog
         * */
         @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(MainActivity.this);
            pDialog.setMessage("Loading" + "\n" + "Please wait...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(false);
            pDialog.show();
        } 

        /**
         * getting All products from url
         * */
        protected String doInBackground(String... args) {
            // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            // getting JSON string from URL
            JSONObject json = jParser.makeHttpRequest(url_all_photos, "GET", params);

            // Check your log cat for JSON reponse
            Log.d("All Products: ", json.toString());
            try {
                // Checking for SUCCESS TAG
                int success = json.getInt(TAG_SUCCESS);

                if (success == 1) {
                    // products found
                    // Getting Array of Products
                    images = json.getJSONArray(TAG_NAME);

                    // looping through All Products
                    for (int i = 0; i < images.length(); i++) {
                        JSONObject c = images.getJSONObject(i);

                        // Storing each json item in variable

                        String thumbnail = c.getString(TAG_THUMBNAIL);
                        Log.d("item Name:", thumbnail);
                        mString[0] = thumbnail;
                        Log.d("stored into array:", mString[0]);

                        //productsList.add(c.getString(TAG_COMPANY));

                        //Log.d("companyNAme", productsList.get(0));

                        //System.out.println(map);                  
                    }       

                } 
                else {

                }
            } catch (JSONException e) {
                e.printStackTrace();
            }

            return null;
        }

    /**
     * After completing background task Dismiss the progress dialog
     * **/
    protected void onPostExecute(String file_url) {
        // dismiss the dialog after getting all products
        pDialog.dismiss();
    }
    }
} 
```

这是我的 logcat 输出：

```
11-16 06:21:06.255: E/AndroidRuntime(727): FATAL EXCEPTION: Thread-9
11-16 06:21:06.255: E/AndroidRuntime(727): java.lang.NullPointerException
11-16 06:21:06.255: E/AndroidRuntime(727):  at com.example.lazygallery.FileCache.getFile(FileCache.java:22)
11-16 06:21:06.255: E/AndroidRuntime(727):  at com.example.lazygallery.ImageLoader.getBitmap(ImageLoader.java:65)
11-16 06:21:06.255: E/AndroidRuntime(727):  at com.example.lazygallery.ImageLoader.access$0(ImageLoader.java:63)
11-16 06:21:06.255: E/AndroidRuntime(727):  at com.example.lazygallery.ImageLoader$PhotosLoader.run(ImageLoader.java:170)
11-16 06:21:07.925: E/WindowManager(727): Activity com.example.lazygallery.MainActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@44eed438 that was originally added here
11-16 06:21:07.925: E/WindowManager(727): android.view.WindowLeaked: Activity com.example.lazygallery.MainActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@44eed438 that was originally added here
11-16 06:21:07.925: E/WindowManager(727):   at android.view.ViewRoot.<init>(ViewRoot.java:247)
11-16 06:21:07.925: E/WindowManager(727):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:148)
11-16 06:21:07.925: E/WindowManager(727):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
11-16 06:21:07.925: E/WindowManager(727):   at android.view.Window$LocalWindowManager.addView(Window.java:424)
11-16 06:21:07.925: E/WindowManager(727):   at android.app.Dialog.show(Dialog.java:241)
11-16 06:21:07.925: E/WindowManager(727):   at com.example.lazygallery.MainActivity$LoadAllThumbnails.onPreExecute(MainActivity.java:103)
11-16 06:21:07.925: E/WindowManager(727):   at android.os.AsyncTask.execute(AsyncTask.java:391)
11-16 06:21:07.925: E/WindowManager(727):   at com.example.lazygallery.MainActivity.onCreate(MainActivity.java:55)
11-16 06:21:07.925: E/WindowManager(727):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
11-16 06:21:07.925: E/WindowManager(727):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
11-16 06:21:07.925: E/WindowManager(727):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
11-16 06:21:07.925: E/WindowManager(727):   at android.app.ActivityThread.access$2300(ActivityThread.java:125)
11-16 06:21:07.925: E/WindowManager(727):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
11-16 06:21:07.925: E/WindowManager(727):   at android.os.Handler.dispatchMessage(Handler.java:99)
11-16 06:21:07.925: E/WindowManager(727):   at android.os.Looper.loop(Looper.java:123)
11-16 06:21:07.925: E/WindowManager(727):   at android.app.ActivityThread.main(ActivityThread.java:4627)
11-16 06:21:07.925: E/WindowManager(727):   at java.lang.reflect.Method.invokeNative(Native Method)
11-16 06:21:07.925: E/WindowManager(727):   at java.lang.reflect.Method.invoke(Method.java:521)
11-16 06:21:07.925: E/WindowManager(727):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-16 06:21:07.925: E/WindowManager(727):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-16 06:21:07.925: E/WindowManager(727):   at dalvik.system.NativeStart.main(Native Method)
11-16 06:21:08.155: D/dalvikvm(727): GC_FOR_MALLOC freed 2773 objects / 202400 bytes in 59ms
11-16 06:21:09.255: D/All Products:(727): {"photos":[{"thumbnail_url":"http:\/\/profile.ak.fbcdn.net\/hprofile-ak-snc6\/260918_1534549431_2061261154_q.jpg"}],"success":1}
11-16 06:21:09.255: D/item Name:(727): http://profile.ak.fbcdn.net/hprofile-ak-snc6/260918_1534549431_2061261154_q.jpg
11-16 06:21:09.255: D/stored into array:(727): http://profile.ak.fbcdn.net/hprofile-ak-snc6/260918_1534549431_2061261154_q.jpg 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:50:06.173

这是在 gridview、listview 和 pager 中显示图像的绝佳示例。看一下这个

[https://github.com/nostra13/Android-Universal-Image-Loader](https://github.com/nostra13/Android-Universal-Image-Loader)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:30:33.457

11-16 06:21:06.255: E/AndroidRuntime(727): java.lang.NullPointerException 11-16 06:21:06.255: E/AndroidRuntime(727): at com.example.lazygallery.FileCache.getFile(FileCache.爪哇：22）

那是你的问题。该文件的第 22 行引用了一个空引用。你没有发布那个文件，所以我们不能调试更多

# sql - 从表的数据制作“CREATE TABLE”语句

> ID：13411569
> 
> 赞同：0
> 
> 时间：2012-11-16T06:28:26.537
> 
> 标签：sql, oracle, oracle-sqldeveloper

我有包含 TNAME、CNAME、DTYPE、COLCOMMENT 列的表 TABLE_INFO 我需要在 Oracle SQL Developer 中创建一个 SQL 脚本，该脚本使用 TNAME 列中的表名、CNAME 列中的列、DTYPE 中列的数据类型和 COLCOMMENT 中的列注释创建新表我怎样才能做到这一点？

例如表 TABLE_INFO 有以下数据：

|TNAME | 域名 | 类型 | 评论 |

1|员工 | Emp_ID | 号码 | 员工证 |

2|员工 | Emp_Nm| VARCHAR | 员工姓名 |

3|职位 | 职位ID | 号码 | 职位编号 | 等等

我需要编写许多 CREATE TABLE 语句，例如：

`CREATE TABLE EMLOYEE` `(EMP ID NUMBER,` `Emp_Nm VARCHAR)`

`COMMENT ON COLUMN EMP_ID is ''Employee ID''`

`COMMENT ON COLUMN EMP_NM is ''Employee NAME''`

对于每个 TNAME

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:59:33.397

哦，我糊涂了。

这是模式的代码：

```
CREATE TABLE TABLE_INFO
(
    TNAME        VARCHAR2 (30)
   ,CNAME        VARCHAR2 (30)
   ,DTYPE        VARCHAR2 (30)
   ,COLCOMMENT   VARCHAR2 (100)
);

INSERT INTO TABLE_INFO VALUES ('Employee','Emp_ID','NUMBER','Employee ID');
INSERT INTO TABLE_INFO VALUES ('Employee','Emp_Nm','VARCHAR','Employee Name');
INSERT INTO TABLE_INFO VALUES ('Employee','Emp_Sal','NUMBER','Employee Salary');
INSERT INTO TABLE_INFO VALUES ('Job','Job_ID','NUMBER','Job ID');
INSERT INTO TABLE_INFO VALUES ('Job','Job_Nm','VARCHAR','Job Name');
INSERT INTO TABLE_INFO VALUES ('Department','Dept_ID','VARCHAR','Department ID');
INSERT INTO TABLE_INFO VALUES ('Department','Dept_Nm','VARCHAR','Department Name'); 
```

而且，这是一个执行代码：

```
-- FOR TABLE CREATION
SELECT 
 CASE WHEN RNO = 1 THEN 'CREATE TABLE '||T1.TNAME||' ( ' ELSE '    ' END ||
 T2.CNAME || ' ' || T2.DTYPE ||
 CASE WHEN CNT = RNO THEN ');' ELSE ',' END AS SQLTEXT
  FROM (  SELECT TNAME
                ,COUNT (1) CNT
            FROM TABLE_INFO
        GROUP BY TNAME) T1
      ,(SELECT ROW_NUMBER () OVER (PARTITION BY TNAME ORDER BY CNAME) RNO
              ,X.*
          FROM TABLE_INFO X) T2
 WHERE T1.TNAME = T2.TNAME
ORDER BY T1.TNAME, T2.RNO;

-- FOR COMMENT CREATION
SELECT 'COMMENT ON TABLE ' || TNAME || '.' || CNAME || ' IS ''' || COLCOMMENT || ''';' AS SQLTEXT
  FROM TABLE_INFO; 
```

你可以在[这里找到结果](http://www.sqlfiddle.com/#!4/d0cd2/18/1)

注意：我`ROW_NUMBER ()`只在 Oracle 使用过函数。请注意这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T07:42:38.463

试试这个。

```
SELECT T1.TABLE_NAME
      ,T1.COLUMN_NAME
      ,T1.DATA_TYPE
      ,T2.COMMENTS
  FROM ALL_TAB_COLS T1
      ,ALL_COL_COMMENTS T2
 WHERE T1.OWNER = T2.OWNER
   AND T1.TABLE_NAME = T2.TABLE_NAME
   AND T1.COLUMN_NAME = T2.COLUMN_NAME 
```

它将检索所有可访问的表信息。

要包含 DBA 表，请分别使用`DBA_TAB_COLS`and`DBA_COL_COMMENTS`而不是`ALL_TAB_COLS`and `ALL_COL_COMMENTS`。

您还可以为该查询提供更多条件。

要插入这个，

```
INSERT INTO TABLE_INFO (
                TNAME
               ,CNAME
               ,DTYPE
               ,COLCOMMENT)
    SELECT T1.TABLE_NAME
          ,T1.COLUMN_NAME
          ,T1.DATA_TYPE
          ,T2.COMMENTS
      FROM ALL_TAB_COLS T1
          ,ALL_COL_COMMENTS T2
     WHERE T1.OWNER = T2.OWNER
       AND T1.TABLE_NAME = T2.TABLE_NAME
       AND T1.COLUMN_NAME = T2.COLUMN_NAME 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T10:33:08.070

我找到了另一个解决方案

`CREATE OR REPLACE`

`PROCEDURE CREATEFROMTABLE AS`

`BEGIN`

```
 for j in (select DISTINCT tname from t_info) loop `

    dbms_output.put_line('create table '|| j.tname || ' as (');`

                for col in (select CNAME, dtype from T_INFO where tname = j.tname) 
                loop
                        dbms_output.put_line(col.cname|| '   ' || col.dtype);
                end loop;

               dbms_output.put_line(')');`

               dbms_output.put_line('');`

                for col in (select cname, dcmt from T_INFO where tname = j.tname) `

                loop`

                    dbms_output.put_line('COMMENT ON COLUMN '|| col.cname || ' is ' || col.dcmt || ' ');`

               end loop;    `

    `dbms_output.put_line(' ');`

    `end loop;` 
```

`END CREATEFROMTABLE;`

t_info 是具有列 tname、cname、dcmt 的主表

tname 是新表名

cname 是列名

dcmt 是对专栏的评论

# c++ - QML 文本元素数据类型/渲染问题，字母消失

> ID：13411571
> 
> 赞同：1
> 
> 时间：2012-11-16T06:28:34.913
> 
> 标签：c++, qt, qml, qt-quick, qt5

使用 Qt 5 beta2 - 我正在尝试使用`QVector <QVariant>`从数据库查询中加载的 QML 文本元素文本属性。

这个作品——

```
textobject = rootitem->findChild<QObject*>("titletext");
textobject->setProperty("text", G_names[1]); 
```

-- 一会儿，然后某些字母不再可见。所以它正在获取传入的数据，然后停止渲染。如果我这样做——

```
textobject = rootitem->findChild<QObject*>("titletext");
textobject->setProperty("text", "const_char_string"); 
```

-- 它工作正常，我可以根据需要继续加载尽可能多的字符。我尝试通过使用从 QVector 转换为 const char*

```
 QByteArray ba = the_string.toLatin1();
 const char *c_str = ba.data();  

 textobject->setProperty("text", c_str); 
```

——但它不会工作。同样的事情，停止以看似随机的方式显示某些字母。

如何将 QVector 中的值转换为 QML 文本渲染器接受的类型，就像它接受“字符串”一样？它是一个错误吗？我找不到像这样的问题的任何参考，我一直在寻找几天。任何帮助将不胜感激。

# android - 将jpg / png复制并粘贴到android中的剪贴板

> ID：13411574
> 
> 赞同：2
> 
> 时间：2012-11-16T06:28:58.100
> 
> 标签：android, clipboard, copy-paste, image

我想从我的应用程序中复制图像并想粘贴到 SMS 应用程序中（现在 SMS 将转换为 MMS）。我在 android OS version 4.0 上实现。

我已经按照以下方式完成了，

*   使用以下代码从 EditText 创建 jpg 图像

    writeBitmapToSdcard(editCopy.getDrawingCache());

*   现在我正在使用 ClipData 类将此图像（从 sdcard）复制到剪贴板，如下所示

> String file_path = "sdcard 完整路径";
> ClipData 数据 = ClipData.newRawUri("image", Uri.parse(file_path));
> ClipboardManager ClipMan = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);
> ClipMan.setPrimaryClip(数据);

*   现在，当我要去短信（本机）应用程序时，长按 MessageBox 以创建新消息，然后单击粘贴选项，只给我图像的路径。它不显示图像。

我想知道是否可以复制和粘贴图像？如果可能的话，我们怎么能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T17:55:57.093

我在 Android 4.1 上使用此修改尝试了您的代码：

```
...
ClipData.Item item = new ClipData.Item(Uri.parse(file_path));
ClipData data = new ClipData("label", new String[]{"image/jpeg"}, item);
... 
```

无论如何，它仍然没有将图像粘贴到短信应用程序中。

我觉得大多数应用程序，包括内置应用程序，目前还没有准备好在剪贴板上复制/粘贴图像。

# drupal - Drupal 在我的看门狗日志中找不到大量垃圾邮件页面错误

> ID：13411582
> 
> 赞同：0
> 
> 时间：2012-11-16T06:29:36.493
> 
> 标签：drupal, http-status-code-404, spam, watchdog

我收到很多（每分钟超过 10 个）类似于此示例的未找到页面错误。

找不到类型页面 日期 2012 年 11 月 16 日星期五 - 01:27 用户匿名（未验证） 位置 [http://ad.yieldmanager.com/http://ad.yieldmanager.com/st](http://ad.yieldmanager.com/http://ad.yieldmanager.com/st)？ad_type=ad&ad_size=160x600§ion=3704956 推荐人 [http://www.hotfirstgames.com/shooting/915.html](http://www.hotfirstgames.com/shooting/915.html) 消息 ttp://ad.yieldmanager.com/st 严重警告主机名 173.254.197.131

有很多点击对我的服务器造成了影响。IP地址位置和引荐来源不断变化。可以做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T17:25:34.340

这些请求是否合法？为什么有人向您的网站发出广告请求？是垃圾邮件吗？这有助于了解它们的真实性。

# php - 如何通过会话处理保护 php -YII Weservices？

> ID：13411583
> 
> 赞同：0
> 
> 时间：2012-11-16T06:29:42.117
> 
> 标签：php, web-services, yii

我想为 iphone 应用程序保护我的 Yii 网络服务。

使用系统不需要登录，来宾用户也可以使用系统。我想知道如何在服务器端实现会话处理来管理和验证网络服务请求。用户甚至可以从多部手机登录，他们应该被对待作为不同的会话。我该如何解决这个问题..任何帮助将不胜感激..

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T08:37:23.937

由于连接将是无状态的，因此您不能使用会话来验证用户。最好的办法是在用户对自己进行身份验证时生成用户特定的令牌。令牌由服务器生成并与过期时间一起存储在数据库（或文件）中。

然后在所有其他请求中，用户将其令牌作为请求中的参数发送。在服务器端，您必须检查：令牌是否存在且未过期。

令牌生成示例：

```
 /**
    * Generate a token to authentify the user in later api calls.
    * @param string the secret needed to generate the token
    * @return string the Token
    */
    public static function generateToken($secret) {
      $str = "";
      for ($i=0; $i<8; $i++) {
        $str .= Token::rand_alphanumeric();
      }
      return $str . md5($str . $secret);
    }

/**
    * Generate a random alphanumeric char.
    * @return the char
    */
    private static function rand_alphanumeric()
{
  $subsets[0] = array('min' => 48, 'max' => 57); // ascii digits
  $subsets[1] = array('min' => 65, 'max' => 90); // ascii lowercase English letters
  $subsets[2] = array('min' => 97, 'max' => 122); // ascii uppercase English letters

  // random choice between lowercase, uppercase, and digits
  $s = rand(0, 2);
  $ascii_code = rand($subsets[$s]['min'], $subsets[$s]['max']);

  return chr( $ascii_code );
 } 
```

和验证：

```
 /**
* Check if the token is valid (depending on user hash).
* @param string the secret used to generate the token
* @param string the token
* @return boolean if the token is valid or not
*/
public static function validateToken($secret, $str)
{
    $rs = substr($str, 0, 8);
    return $str == $rs . md5($rs . $secret);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T08:42:12.470

根据您的应用程序将要执行的操作，您可能不需要在 Web 服务器上登录用户。例如，如果您想在用户打开应用程序时更新用户提要（在 iPhone 应用程序上），或者在应用程序中更改为不同的视图，您可以使用带有简单加密密钥系统的 Web 服务。

例如，在 iPhone 应用程序上，用户将登录并进行某种会话。当您向服务器上的 URL 发出请求时，您将传递用户 ID（存储在 Web 服务器上）以及其 ID 的加密值 + 密钥，例如：

```
http://mywebserver.com/webseriver/updatefeed?user_id=10&key=ccbe688c7a3e3e1ebbaec12da992ded5 
```

在服务器上，您可以 $_GET user_id，并创建 user_id 和密钥的 md5 散列：

```
if (md5($_GET['user_id']."mysecretkey") == $_GET['key']){
    // valid request
} 
```

对于客人，您可以将 user_id 发送为 0。

显然，对于每个场景，这不是一个足够强大的解决方案，但对于 web 服务类型的简单请求，它通常已经足够好了。希望能帮助到你

# sql - SQL Server 中的几何和地理数据类型

> ID：13411585
> 
> 赞同：2
> 
> 时间：2012-11-16T06:30:10.660
> 
> 标签：sql, sql-server, sqldatatypes

谁能给出 SQL Server 中几何和地理数据类型的真实示例并解释它们的用途？我还没有在任何地方看到使用这两种数据类型。我们在 sql server 中有通用数据类型，例如 varchar，也可以用于存储此类数据。使用这两种数据类型有什么好处？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T08:59:18.610

您可以仅使用 varchars 计算地球表面上多边形的面积吗？

如果可以的话，我可以想象它比`Select @geog.STArea()`

用于以适当的类型存储数据，就像 XML 类型比 XML 数据的 varchar 更好，等等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T11:15:09.373

**几何**和**地理**是用于存储空间信息的数据类型 - 描述空间中物体的形状和位置（通常在地球表面上）。

为什么需要专门的数据类型来存储此类信息？考虑一下您将如何按空间信息排序 - 它没有自然排序规则，例如 varchar 的字母顺序或日期/时间的时间顺序。以及您将如何编写查询来识别靠近给定位置的要素 - 您无法 SELECT * WHERE location BETWEEN 'Bristol' AND 'London'。因此，自 SQL Server 2008 以来，已经有一系列专门为执行此类查询而设计的方法（和索引）。

如果您想了解何时使用它们的实际示例：保险公司可能会使用客户表中的地理字段来记录每个保单持有人的位置，并通过加入在地理领域也模拟了河流洪泛区的河流表。或者，您可能希望通过分析您（和您的竞争对手）现有商店的地理覆盖范围来确定新商店的最佳位置。或者，为送货车辆等规划最佳物流路线等。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T11:42:11.383

SQL Server 支持两种空间数据类型：几何数据类型和地理数据类型。

几何类型表示欧几里得（平面）坐标系中的数据。地理类型表示圆形地球坐标系中的数据。

我们可以在 sql server 2008 及更高版本中轻松找到它。

创建 TABLE tab_spatial ( id int IDENTITY (1,1) 主键, zip nvarchar(20), city nvarchar(500), **geography** );

[有关空间数据类型的更多信息](http://sqlcopy.blogspot.in/2013/04/sql-server-spatial-data-example-for.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-06-27T13:45:12.767

好的，我有一个例子给你。您有一个包含 4 列 X1、Y1、X2、Y2 的表。在此列中，您有坐标

```
x1=22.4109883
y1=44.740203
x2=22.4112528
y2=44.7404422 
```

现在在此表中，您还有 3 列声明为几何：GEOSTART、GEOEND、GEEOSGMENT

```
SET @sqlCommand = 'USE [' + @databaseName + '];' +
              ' UPDATE [dbo].[StreetsTable]' +
              ' SET [GEOSTART] = geometry::STGeomFromText(''POINT ('' + [X1] + '' '' + [Y1] + '')'', 4326) WHERE X1<>'''' and Y1<>'''' '; 
EXEC (@sqlCommand)

SET @sqlCommand = 'USE [' + @databaseName + '];' +
              ' UPDATE [dbo].[StreetsTable]' +
              ' SET [GEOEND] = geometry::STGeomFromText(''POINT ('' + [X2] + '' '' + [Y2] + '')'', 4326) WHERE X2<>'''' and Y2<>'''' ';
EXEC (@sqlCommand)

    SET @sqlCommand = 'USE [' + @databaseName + '];' +
                  ' UPDATE [dbo].[StreetsTable]' +
                  ' SET [GEOSEGMENT] = geometry::STGeomFromText(''LINESTRING('' + [X1] + '' '' + [Y1] + '', '' + [X2] + '' '' + [Y2] + '')'', 4326) WHERE X1<>'''' and Y1<>'''' and X2<>'''' and Y2<>'''' ';
EXEC (@sqlCommand) 
```

更新后去那个表上做一个选择。继续空间结果并选择空间列。您将看到几何图形的使用。

希望对你有帮助

# c# - 以图像的实际大小获取鼠标的真实位置，而不是鼠标在 PictureBox 中的位置

> ID：13411589
> 
> 赞同：3
> 
> 时间：2012-11-16T06:30:36.380
> 
> 标签：c#, .net, c#-4.0, mouseevent, picturebox

我有一个大小为 1278 X 958 的图像，我正在对其进行一些图像处理。

由于图像很大，我在图片框中使用以下命令加载它：

```
imGrayShow = cap.QueryGrayFrame();
picBOriginal.Image = imGrayShow.ToBitmap(); 
```

图片框大小为 299 X 204，要在图片框中查看我的原始图像，我将

**图片框大小模式= StretchImage**

故事从这里开始：

我想使用**mouse-down & mouse-up 事件**来获取用户使用以下命令选择的区域的位置：

```
 private void picBOriginal_MouseUp(object sender, MouseEventArgs e)
        {
            if (stopEventMouseDrag == true)
            {
                endP = e.Location;

                if (startP != endP)
                {
                    stopEventMouseDrag = false;
                }
            }
        }

        private void picBOriginal_MouseDown(object sender, MouseEventArgs e)
        {
            if (stopEventMouseDrag == true)
            {
                startP = e.Location;
            }
        } 
```

我得到的**startP**和**endP 分别**是**(145,2)**和**(295,83)**；但这些是图片框中鼠标的位置，而我希望在我的原始图像中找出鼠标按下和鼠标按下的真实位置。（它们是=> startP: **890,1** endP: **1277,879**）

我怎么可能在原始图像中获得 startP-endP 的真实位置？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T06:42:11.603

我觉得你的数学有点不对劲。如果您有一个 1278 x 958 的图像并且您想将其缩小到 299 像素宽，那么您需要将所有内容`1278 / 299`除以**4.27**。为了保持纵横比相同，宽度需要是`958 / 4.27`which rounds to **224**。

然后，当您从鼠标向下和向上事件接收坐标时，只需将坐标乘以**4.27**即可将值放大到原始图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:41:42.633

startP 和 endP 是相对于您的图片框还是相对于屏幕的点？据我记得，`Location`a`MouseEventArgs`是相对于形式的，这不是很有用。

所以......它可能最终会是这样的：

```
// Position of the mouse, relative to the upper left corner of the picture box.
Point controlRelative = myPictureBox.PointToClient(MousePosition);
// Size of the image inside the picture box
Size imageSize = myPictureBox.Image.Size;
// Size of the picture box
Size boxSize = myPictureBox.Size;

Point imagePosition = new Point((imageSize.Width / boxSize.Width) * controlRelative.X,
                                (imageSize.Height / boxSize.Height) * controlRelative.Y); 
```

# android - Android围绕一个共同的枢轴点旋转一组位图

> ID：13411590
> 
> 赞同：-1
> 
> 时间：2012-11-16T06:30:40.347
> 
> 标签：android, bitmap, rotation, custom-view

我正在尝试创建像 Jigsaw Puzzle 这样的游戏。我正在使用一个扩展 View 的类，并且在它的 draw 方法中，我正在绘制不同的位图片段。当用户点击位图时，我将该位图旋转 90 度角。它工作完美。但是用户组合了一些位图片段然后旋转组，位图围绕其中心点旋转，破坏了组结构。

我的问题是如何围绕一个共同的枢轴点旋转一组位图，以便当一组位图旋转时，它保持其形状结构？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:51:13.397

我假设您将导致问题的每个部分都集中在中心。

一种可能性是让背景成为中心加权对象或查看背景并将中心声明为旋转点。

然后，计算每个拼图块的近似框尺寸（这可能是动态的，取决于您是否使用缩放）。找出它在屏幕上的位置作为 Draw() 中的位图对象。

现在，想象一条从屏幕中心到边缘的线被旋转以获得你的角度。

因此，根据这些新信息，您需要根据屏幕旋转中心设置的角度计算每个中心加权对象（拼图块）的新角度。由于屏幕中心设置了新的线或旋转角度，每个部件在其轴上都有不同的旋转角度。

这更像是一种算法/计算而不是编程，更多关于您的问题的细节会有所帮助。

# java - 本机库未在 Java 应用程序中加载

> ID：13411592
> 
> 赞同：0
> 
> 时间：2012-11-16T06:30:53.290
> 
> 标签：java, java-native-interface

我必须在应用程序中找到系统信息，为此我有两个本机库文件，如下所示： `SystemManagerLinux.so`和`SystemManagerWin32.dll`.

我必须在我的 java 代码中使用这些库文件来显示 java GUI 上的信息。我已将这些文件放在位置：`C:\Users\surjit\Documents\NetBeansProjects\SampleMonitor`并在我的 netbeans ide on run 选项中将其作为 vm 参数，如下所示：

```
-Djava.library.path="C:\Users\surjit\Documents\NetBeansProjects\SampleMonitor" 
```

并在代码中调用库：

```
if (os.startsWith("Linux"))
   loadTmpLibrary("SystemManagerLinux.so", "libSML", ".so");
else if (os.startsWith("Windows")) {
   loadTmpLibrary("SystemManagerWin32.dll", "SMW", ".dll"); 
```

但是当我运行应用程序时，它给出了以下错误：

```
Exception in thread "main" java.lang.UnsatisfiedLinkError:     SystemManagerWin32.fetchProcessIDs([I)I
    at SystemManagerWin32.fetchProcessIDs(Native Method)
    at SystemMonitor.refreshPidList(SystemMonitor.java:168)
    at SystemMonitor.<init>(SystemMonitor.java:383)
    at SystemMonitor.main(SystemMonitor.java:494)
Exception in thread "Thread-2" java.lang.UnsatisfiedLinkError:    SystemManagerWin32.fetchSystemMemoryStatus(LSystemMemoryStatus;)Z
    at SystemManagerWin32.fetchSystemMemoryStatus(Native Method)
    at SystemMonitor.run(SystemMonitor.java:410)
    at java.lang.Thread.run(Thread.java:722) 
```

请建议我解决方案。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T14:52:56.717

问题似乎是您尝试调用的本机方法在您的 DLL 中不存在，而不是您的 DLL 无法加载。

假设`loadTmpLibrary`有效地执行`System.loadLibrary()`调用，您需要确保正确声明您的本机方法。通常调用`javah`包含本机声明的 Java 源代码就足以获得准确的标头。将其输出与您当前正在编译的任何内容进行比较。

# android - 在 Eclipse Juno 4.2.1 中看不到 sdk manager 工具

> ID：13411593
> 
> 赞同：6
> 
> 时间：2012-11-16T06:31:01.960
> 
> 标签：android, eclipse

我想使用 Eclipse Juno 4.2.1 创建我的第一个 Android 应用程序。

[我从这个链接https://dl-ssl.google.com/android/eclipse](https://dl-ssl.google.com/android/eclipse)安装了 Android，但它似乎有一个错误。

我看不到“Android 项目”选项。我尝试使用另一个名为“Android 应用程序项目”的可用选项。当我尝试打开它时，它向我显示一个错误：

> “您的工具信息需要过期（或尚未安装）。请更新 android sdk 工具”..

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-04T11:26:22.557

用于在 Eclipse Juno 4.2.1 中获取 sdk manager 工具选项的简单步骤。

窗口---->自定义透视图--->命令组可用性

然后只需检查 Android SDK 和 AVD Manager。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:33:24.683

请从此[链接](http://developer.android.com/sdk/installing/installing-adt.html)安装 ADT 插件，或者如果您已经拥有它，则使用正常的 Eclipse 更新流程更新 ADT 插件：

更新 ADT 插件

要将 ADT 插件更新到最新版本，请执行以下步骤：

1.  选择帮助 > 检查更新...
2.  如果 ADT 或 Android 工具的任何更新可用，请选择并安装。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T12:47:22.497

1> 在eclipse的帮助菜单中安装新软件并从[https://dl-ssl.google.com/android/eclipse/获取ADT插件](https://dl-ssl.google.com/android/eclipse/)

2> 在eclipse的windows选项卡中转到android sdk manager。

3>给出下载的sdk的路径。从这里下载它[http://developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html)

4> 将 android sdk 工具更新到修订版 20

5> 将 android sdk 平台工具更新至修订版 12

6> 首先在 extras 中删除 android 支持库，然后将其更新到最新的可用版本

7> 重启日食。

# vim - VIM 编辑器有任何默认设置吗？

> ID：13411595
> 
> 赞同：5
> 
> 时间：2012-11-16T06:31:03.837
> 
> 标签：vim

每次在 VIM 中打开任何文件时，我都会使用 ":set ai sw=4" 和 ":set number"（以及其他一些 cmd）命令。

对于每个新的 VIM 实例，我都必须输入一组命令。有什么方法可以让我放置这些命令，并且 VIM 会在每次打开任何文件（如默认设置）时执行它。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-16T06:36:29.997

只需将这些行粘贴到文件上`~/.vimrc`，每次打开 VIM 时都会执行它们。如果不存在，则创建一个。

两个建议：

1.  `.vimrc`使用保存时会自动加载的插件。对编辑感到舒适`.vimrc`是非常重要的。在您学习 VIM 时使用您的偏好和键映射来构建它是它如此强大的原因之一。

2.  谷歌现在提供一些现成的`.vimrc`设置，因为它们覆盖了一些不太理想的 VIM 配置。例如，您可能不希望听到烦人的铃声等。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T06:43:12.673

您需要创建一个`.vimrc`文件。

您应该在主目录中创建它。

# sql - 将 SQL 行中的空格视为 null

> ID：13411596
> 
> 赞同：0
> 
> 时间：2012-11-16T06:31:04.430
> 
> 标签：sql, null, trim

我想从“地址”列不为空的表中获取所有数据，所以我做了一个看起来像这样的声明......

从地址不为空的表中选择 *

不幸的是，“地址”列中有空格，因此 SQL 不能将其视为 Null

如何显示地址不为空的行？谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:34:03.247

大多数数据库系统都有一个 NULLIF() 函数。如果不是更早的话，它在[ANSI SQL-99 标准](http://savage.net.au/SQL/sql-99.bnf)中与 COALESCE() 一起定义。它至少在 SQL Server、Oracle、PostgreSQL、MySQL、SQLite、DB2、Firebird 中实现。

```
Select * from Table where NULLIF(Address,'') is not null 
```

但对我来说，我更喜欢这个

```
Select * from Table where Address > '' 
```

它一口气杀死空值和空字符串。它甚至会排除完全由空格组成的字符串（''、''等）。它还保留了 SARGability。

# awk - AWK 能理解用 E 表示法写的数字吗？

> ID：13411597
> 
> 赞同：2
> 
> 时间：2012-11-16T06:31:08.563
> 
> 标签：awk

我有一个包含几列的制表符分隔文件，其中一列包含以这样的格式编写的数字

4.07794484177529E-293

我想知道 AWK 是否理解这种表示法？即，我只想获取该列中的数字小于 0.1 的行。

但我不确定 AWK 是否会理解“4.07794484177529E-293”是什么——它可以对这种格式进行算术比较吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T06:49:59.910

是的，回答你的问题，`awk`确实理解 E 表示法。

您可以通过以下方式确认：

```
awk '{printf "%f\n", $1}' <<< "4.07794484177529E-3"
0.004078 
```

一般来说，[awk 使用双精度浮点数来表示所有数值](http://www.delorie.com/gnu/docs/gawk/gawk_260.html)。这为您提供了介于`1.7E–308`和`1.7E+308`使用之间的范围，因此您可以接受`4.07794484177529E-293`

另外：您可以指定如何使用 awk 格式化浮点数的打印，如下所示：

```
awk '{printf "%5.8f\n", $1}' <<< "1.2345678901234556E+4"
12345.67890123 
```

解释：

*   `%5.8f`是什么格式的浮动
*   `5`前面的部分指定`.`要在小数点前打印多少位
*   后面的`8`部分`.`指定要在小数点后打印多少位

# python - 全局变量在 Python/Django 中不起作用？

> ID：13411598
> 
> 赞同：1
> 
> 时间：2012-11-16T06:31:10.077
> 
> 标签：python, django

这是我的views.py：

```
from django.shortcuts import render_to_response
from django.template import RequestContext
import subprocess

globalsource=0
def upload_file(request):
    '''This function produces the form which allows user to input session_name, their remote host name, username 
    and password of the server. User can either save, load or cancel the form. Load will execute couple Linux commands
    that will list the files in their remote host and server.'''

    if request.method == 'POST':    
        # session_name = request.POST['session']
        url = request.POST['hostname']
        username = request.POST['username']
        password = request.POST['password']

        globalsource = str(username) + "@" + str(url)

        command = subprocess.Popen(['rsync', '--list-only', globalsource],
                           stdout=subprocess.PIPE,
                           env={'RSYNC_PASSWORD': password}).communicate()[0]

        result1 = subprocess.Popen(['ls', '/home/'], stdout=subprocess.PIPE).communicate()[0]
        result = ''.join(result1)

        return render_to_response('thanks.html', {'res':result, 'res1':command}, context_instance=RequestContext(request))

    else:
        pass
    return render_to_response('form.html', {'form': 'form'},  context_instance=RequestContext(request))

    ##export PATH=$RSYNC_PASSWORD:/usr/bin/rsync

def sync(request):
    """Sync the files into the server with the progress bar"""
    finalresult = subprocess.Popen(['rsync', '-zvr', '--progress', globalsource, '/home/zurelsoft/R'], stdout=subprocess.PIPE).communicate()[0]
    return render_to_response('synced.html', {'sync':finalresult}, context_instance=RequestContext(request)) 
```

问题出在 sync() 视图中。不采用 upload_file 中的全局变量值，但在同步视图中采用 globalvariable=0。我究竟做错了什么？

**编辑：** 尝试这样做：

```
global globalsource = str(username) + "@" + str(url) 
```

但是，我收到此错误：

```
SyntaxError at /upload_file/
invalid syntax (views.py, line 17)
Request Method: GET
Request URL:    http://127.0.0.1:8000/upload_file/
Django Version: 1.4.1
Exception Type: SyntaxError
Exception Value:    
invalid syntax (views.py, line 17) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T09:03:57.427

这是一个*根本*错误的方法。你不应该*这样*做。

所有请求都可以访问全局变量。这意味着完全不相关的用户将看到该变量的先前请求的值。鉴于您使用它来访问用户的数据，这是一个严重的安全风险。

您应该在会话中存储这样的元素。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:35:45.453

如果您在函数中的任何位置分配给变量，Python 将该变量视为本地变量。因此，`upload_file`您不是在获得 global `globalsource`，而是在创建一个新的 local ，它在函数结束时被丢弃。

为了让 Python 即使在分配全局变量时也使用它，请在函数中添加一条`global globalsource`语句。`upload_file`

编辑：这不是您使用该`global`语句的方式。您需要在您的函数中执行此操作：

```
global globalsource
globalsource = str(username) + "@" + str(url) 
```

# java - 在 Java 中使用 BufferedReader 获取输入

> ID：13411600
> 
> 赞同：10
> 
> 时间：2012-11-16T06:31:23.967
> 
> 标签：java, input

我这里有一个烦人的案例；其中我无法正确输入。我一直通过 接受输入`Scanner`，不习惯`BufferedReader`.

* * *

**输入格式**

* * *

```
First line contains T, which is an integer representing the number of test cases.
T cases follow. Each case consists of two lines.

First line has the string S. 
The second line contains two integers M, P separated by a space. 
```

* * *

**例子**

```
Input:
2
AbcDef
1 2
abcabc
1 1 
```

* * *

**到目前为止我的代码：**

* * *

```
public static void main (String[] args) throws java.lang.Exception
{
    BufferedReader inp = new BufferedReader (new InputStreamReader(System.in));
    int T= Integer.parseInt(inp.readLine());

    for(int i=0;i<T;i++) {
        String s= inp.readLine();
        int[] m= new int[2];
        m[0]=inp.read();
        m[1]=inp.read();

        // Checking whether I am taking the inputs correctly
        System.out.println(s);
        System.out.println(m[0]);
        System.out.println(m[1]);
    }
} 
```

* * *

输入上述示例时，我得到以下输出：

```
AbcDef
9
49
2
9
97 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-16T06:38:00.443

[`BufferedReader#read`](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#read%28%29)从流中读取单个字符[0 到 65535 (0x00-0xffff)]，因此无法从流中读取单个整数。

```
 String s= inp.readLine();
            int[] m= new int[2];
            String[] s1 = inp.readLine().split(" ");
            m[0]=Integer.parseInt(s1[0]);
            m[1]=Integer.parseInt(s1[1]);

            // Checking whether I am taking the inputs correctly
            System.out.println(s);
            System.out.println(m[0]);
            System.out.println(m[1]); 
```

您还可以检查[Scanner 与 BufferedReader](https://stackoverflow.com/questions/2231369/scanner-vs-bufferedreader)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:39:32.197

由于`inp.read();` [方法](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#read%28%29)的问题ID 。它一次返回单个字符，并且因为您将它存储到 int 类型的数组中，所以它只是存储它的 ascii 值。

你能做的很简单

```
for(int i=0;i<T;i++) {
    String s= inp.readLine();
    String[] intValues = inp.readLine().split(" ");
    int[] m= new int[2];
    m[0]=Integer.parseInt(intValues[0]);
    m[1]=Integer.parseInt(intValues[1]);

    // Checking whether I am taking the inputs correctly
    System.out.println(s);
    System.out.println(m[0]);
    System.out.println(m[1]);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-04T16:05:46.997

`BufferedReader`您不能像使用`Scanner`class那样单独读取一行中的单个整数。虽然，您可以对查询执行以下操作：

```
import java.io.*;
class Test
{
   public static void main(String args[])throws IOException
    {
       BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
       int t=Integer.parseInt(br.readLine());
       for(int i=0;i<t;i++)
       {
         String str=br.readLine();
         String num[]=br.readLine().split(" ");
         int num1=Integer.parseInt(num[0]);
         int num2=Integer.parseInt(num[1]);
         //rest of your code
       }
    }
} 
```

我希望这能帮到您。

# javascript - Apps Script API 中的权限和触发器如何工作？

> ID：13411602
> 
> 赞同：0
> 
> 时间：2012-11-16T06:31:42.423
> 
> 标签：javascript, api, google-apps-script, triggers, google-drive-realtime-api

我已经阅读并重新阅读了文档（[这里](https://developers.google.com/apps-script/understanding_triggers)）和[这里](https://developers.google.com/apps-script/execution_custom_functions#permissions)以及相关的。是否有其他一些文档可以帮助我更好地了解什么类型的权限需要什么类型的格式等？

我要解决的难题是：当有人编辑单元格时，我希望根据编辑它的用户来格式化单元格颜色。

编写只适合我自己的代码很容易；但是，在让它为另一个人工作时，我一直遇到权限问题。

这就是我感到困惑的地方。我将解释我的理解，希望您能纠正我或将我指向包含更多信息的文档。编辑单元格时似乎有 3 种方法可以使事件发生：编辑事件、简单的 onEdit 触发器和可安装的`onEdit`触发器。

要创建一个简单的 onEdit 触发器，您需要创建一个名为 的新函数`onEdit()`。要捕获事件，请将字符串放在括号中，例如`onEdit(e)`。然后要访问存储在编辑中的信息，请键入类似`var range = e.source.getActiveRange()`. 简单事件触发器的安全性受到限制，无法获取用户的名称/ `activeUser`，因此我无法使用它们来解决我的问题。

要创建捕获事件的可安装 onEdit 触发器，您需要创建一个新函数，例如`myFunction(e)`. 然后你进入脚本编辑器，点击“资源”，从下拉列表中选择你的函数，点击“从电子表格”，然后`onEdit`。在这种情况下，要访问有关事件的信息，请键入类似`var range = e.range`.

这种方法应该提供更高级的权限，这样我应该能够去“variable user = e.user”然后“ss.toast(user)”来查看用户的名字。但是，当我以外的任何人这样做时，吐司是空白的。另外，有了这个，我知道脚本“以安装脚本的用户身份运行”，但这是否意味着我无法访问触发脚本的人的身份？

要创建一个编辑事件，你……嗯……这和创建一个触发器是一样的吗？我想我完全迷失了这个。

那么，如果我越过我的电线会发生什么——例如，我命名一些东西`myFunction(e)`并制作一个可安装的 onEdit 触发器，但是然后`range = e.range`我键入而不是键入`range = e.source.getActiveRange`？它似乎对我来说是一样的，但是我是否交叉了权限，以便它像一个简单的事件而不是一个可安装的事件？

文档说：

> “他们可能无法确定哪个用户触发了正在处理的事件。对于时钟滴答事件，这并不重要，但在电子表格编辑事件中，更改电子表格的用户不一定是可识别的。”

所以……不一定？什么时候有效，什么时候无效？在我的情况下可能吗？我如何找出答案（除了我目前失败的试错方法？）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T17:46:17.580

围绕这个的文档有点混乱，我们应该努力澄清它。如果你使用简单的触发器和有效的用户，你应该能够得到你想要的。

```
function onEdit() {
  SpreadsheetApp.getActiveRange()
      .setComment('Last Editor: ' + Session.getEffectiveUser().getEmail());
} 
```

# objective-c - 连接 Wi-Fi 但没有互联网时，可达性不起作用

> ID：13411606
> 
> 赞同：11
> 
> 时间：2012-11-16T06:32:11.940
> 
> 标签：objective-c, ios, networking, reachability, connectivity

我正在使用 Apple 的可达性代码，并在网络可达性发生变化时和在启动服务器连接之前设置初始通知。当我使用 wi-fi 并关闭 wi-fi 接入点时，该代码有效。但是，当我在 wi-fi 和底层宽带连接工作的情况下启动应用程序时，然后一旦应用程序运行，然后断开 wi-fi 路由器与宽带路由器的连接（即 Wi-Fi 已打开但没有互联网连接），然后我进行了可达性检查，我得到的网络状态是 ReachableViaWiFi。我已经尝试过reachabilityForInternetConnection 和reachabilityWithHostName。

关于 Apple 的可达性代码是否可用于检测 wifi 已连接但没有底层网络连接的情况的任何想法？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T08:21:54.097

好的，我找到了答案——Apple 的可达性并没有测试到主机的实际连接性。在下面的 SO 链接中查看@Zhami 的答案：

[如何在 Cocoa/Objective-C 中编写一个简单的 Ping 方法](https://stackoverflow.com/questions/798454/how-to-write-a-simple-ping-method-in-cocoa-objective-c)

本质上，当您第一次启动应用程序并进行可达性检查时，iOS 似乎会进行 DNS 查找，如果没有互联网，则检查失败。因此，第一次检查可达性时，它实际上返回了一个有意义的值。但是，如果您在应用程序启动时连接，并在一段时间后失去互联网连接（虽然仍然连接到 WiFi/3G/4G 但没有底层互联网连接），即使互联网或您指定的主机不可访问，进一步的可达性检查也会返回可达了。

因此，如果您想真正实时检查连接性，请考虑使用以下方法：

```
-(BOOL) isConnected
{

    NSString* url = [NSURL URLWithString:@"http://www.google.com/m"];
    ASIHTTPRequest* request = [ASIHTTPRequest requestWithURL:[NSURL URLWithString:url]];
    [request    setTimeOutSeconds:10];
//customize as per your needs - note this check is synchronous so you dont want to block the main thread for too long
    [request setNumberOfTimesToRetryOnTimeout:0];
    [request startSynchronous];

    NSError *error = [request error];
    if (error)
    {
        DLog(@"connectivity error");
        return NO;
    }
    else
    {
        DLog(@"connectivity OK");
        return YES;
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-03T16:50:06.487

这是一个非常古老的帖子，但可以留在这里以供参考。在可达性示例类中，您可以找到以下代码：

```
- (BOOL)startNotifier  
{  
    BOOL returnValue = NO;
    SCNetworkReachabilityContext context = {0, (__bridge void *)(self), NULL, NULL, NULL};

   if (SCNetworkReachabilitySetCallback(_reachabilityRef, ReachabilityCallback, &context))
   {
        if (SCNetworkReachabilityScheduleWithRunLoop(_reachabilityRef, CFRunLoopGetCurrent(), kCFRunLoopDefaultMode))
        {
            returnValue = YES;
        }
   }

   return returnValue;
} 
```

这将使您的 _reachabilityRef 更新到网络更改。

# iphone - 在 iOS 上将 CollectionViewCells 紧紧地打包在一起？

> ID：13411609
> 
> 赞同：2
> 
> 时间：2012-11-16T06:32:22.487
> 
> 标签：iphone, objective-c, ios, ios6, uicollectionview

如果您想将单元格整齐地打包在一起，即使另一个单元格中的其他内容更大，该怎么做？

如果你看下图，第一串是最大的，但是如果我想像第一串一样整齐、紧密地把其他的电池包在一起，不管大小，这是怎么做的呢？

无论侧面和上下的尺寸如何，我都想这样做。我希望按照这张图片中的箭头所指的方式布置单元格。

更新：第一行文本是两个单元格打包在一起。

![一个电池串整齐地排列在一起，另一个相距很远，这是因为第一串最长](../Images/d0a51838efe1fe81ddcbadf707f57528.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T04:12:37.823

您必须使用**UICollectionViewFlowLayout**来实现这一点

注意：以下信息来自[**Raywenderlich 博客**](http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12)

你可以**继承 UICollectionViewLayout**来创建你自己的自定义布局，但是 Apple 慷慨地为开发人员提供了一个名为**UICollectionViewLayout**的基本“基于流”的布局。它根据元素**的大小一个接一个地**布置元素，就像一个网格视图。您可以开箱即用地使用此布局类，或将其子类化以获得一些有趣的行为和视觉效果。

[**你可以在Raywenderlich 博客**](http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12)中看到一个很好的例子[](http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12)

 ****示例代码：**

```
- (CGSize)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout*)collectionViewLayout sizeForItemAtIndexPath:(NSIndexPath *)indexPath {
    NSString *searchTerm = self.searches[indexPath.section]; FlickrPhoto *photo =
    self.searchResults[searchTerm][indexPath.row];

    CGSize retval = photo.thumbnail.size.width > 0 ? photo.thumbnail.size : CGSizeMake(100, 100);
    retval.height += 35; retval.width += 35; return retval;
}

- (UIEdgeInsets)collectionView:
(UICollectionView *)collectionView layout:(UICollectionViewLayout*)collectionViewLayout insetForSectionAtIndex:(NSInteger)section {
    return UIEdgeInsetsMake(50, 20, 50, 20); 
} 
```

您可以实现的委托方法比这更多。下面给出示例

```
collectionView:layout:sizeForItemAtIndexPath
collectionView:layout:insetForSectionAtIndex: 
```**

# c# - 如何在 Linq 查询中执行加法

> ID：13411613
> 
> 赞同：3
> 
> 时间：2012-11-16T06:32:49.330
> 
> 标签：c#, mysql, asp.net-mvc, linq

我的查询就像

```
var query = dbContext.table1.join(dbcontext.table2,i=>i.table1.id,j=>j.table2.id,
                 (i,j)=>new {
                     name = i.name,
                     hours = (new decimal?[]{ j.day1,j.day2,j.day3}.Sum()),
                     total = ???????
                 }).ToArray(); 
```

在小时字段中，我得到了三天内单个用户工作时间的值。在“总计”字段中，我想显示所有用户“小时”值的总和。

你能告诉我如何获得“总”价值吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:36:31.177

```
var total = query.Sum(x => x.hours); 
```

由于这个总数是针对结果集中的所有行的，所以您不希望每一行都有一个值，而是一个值表示整个数组的聚合。

# java - 找不到可绘制的类

> ID：13411614
> 
> 赞同：2
> 
> 时间：2012-11-16T06:32:48.770
> 
> 标签：java, class, import, drawable

我正在尝试`java.awt`用于图形，这是我以前使用的，但我遇到了一个奇怪的错误。

Netbeans 说它找不到 Drawable 类。我会检查我以前使用 Java 时的所有旧代码，但它在一台死机的笔记本电脑上。我已经下载了 JDK 和 Netbeans Java SE，据我所知，我从来不需要下载其他任何东西。知道问题是什么吗？

这是代码：

```
 import java.awt.*;

    public class Ball implements Drawable {
    } 
```

顺便说一句，错误是“找不到符号，符号：类 Drawable”，并不是说我还没有实现 draw 方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:38:41.650

为此，您必须将`jcommon.jar`jar 导入您的项目。

或者，如果您正在制作 android 项目，那么您可以在包中找到该类`android.graphics.drawable`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:41:35.577

awt 中没有可绘制的接口/类：

[http://docs.oracle.com/javase/6/docs/api/java/awt/package-summary.html](http://docs.oracle.com/javase/6/docs/api/java/awt/package-summary.html)

# java - 如何将 Java 对象插入 ArrayList？

> ID：13411627
> 
> 赞同：-1
> 
> 时间：2012-11-16T06:34:07.410
> 
> 标签：java, object, pojo

我在尝试将计算结果插入学生结果列表的 ArrayList 时遇到问题。

它是这样的。

1.  ArrayList（称为 FullList）包含 Student 对象的列表。
2.  Student 对象具有名称（作为字符串）和结果列表（作为 ArrayList）。
3.  当我收到一个 Result 对象时，它带有一个名称（作为字符串）和结果（作为整数）。
4.  我想将此 Result 对象插入到 Student 对象的结果列表中。
5.  但是，学生姓名不是预先定义的，而是在收到 Results 对象时推断出来的。
6.  也就是说，如果FullList中没有Student对象，Result对象会触发一个Student对象的创建，并将自己插入到Student对象的resultlist中。然后将创建的学生对象插入到 FullList 中。

我已经编写了下面的代码，但是我将同一标签多次插入到 FullList 中，而不是将多个结果插入到每个标签中。

Q1：我不知道出了什么问题！需要大师的心灵刺！Q2：我将为多达 90,000 名学生使用以下代码。这是容纳学生成绩的可行方式吗？

```
class Result {
   String name;
   int result;

   public Result(String name, int result) {
      this.name = name;
      this.result = result;
   }

   /* start - Getting hungup over this method
    *         Something is wrong here and i don't know what it is
    */
   public void setResult(ArrayList <Student> fullList) {

      for (Student s : fullList) {
         if (s.getName().equalsIgnoreCase(this.name)) {
            s.setResult(this);
         }
         else {         /* enters here if Student does not exist in fullList */
            Student s = new Student(this.name); /* create new student */
            s.setResult(this);                  /* insert result into Student's resultslist */
            fullList.add(s);                    /* add Student into fullList */
         }
      }
   }
   /* end */

   public String getName() {
      return this.name;
   }
}

class Student {
   String name;
   ArrayList <Result> resultslist;

   public Student(String name) {
      this.name = name;
      resultslist = new ArrayList <Result> ();
   }

   public void setResult(Result result) {
      this.resultslist.add(result);
   }

   public String getName() {
      return this.name;
   }
}

class StudentResults {

   public static void main (String [] args) {

      ArrayList <Student> FullList = new ArrayList <Student> ();

      Result r1 = new Result("John", 12);
      Result r2 = new Result("Jamie", 99);
      Result r3 = new Result("John", 69);
      Result r4 = new Result("Jacque", 56);
      Result r5 = new Result("Jacque", 100);
      Result r6 = new Result("Jamie", 100);

      r1.setResult(FullList);
      r2.setResult(FullList);
      r3.setResult(FullList);
      r4.setResult(FullList);
      r5.setResult(FullList);
      r6.setResult(FullList);

   }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:46:26.727

对于列表中的每个学生，如果该学生的名称与要插入的结果不同，则您将插入一个新学生：

```
for (Student s : fullList) {
     if (s.getName().equalsIgnoreCase(this.name)) { // current student has same name as result
         s.setResult(this);
     }
     else { // current student doesn't have the same name as result
        Student s = new Student(this.name); 
        s.setResult(this);
        fullList.add(s);
     }
} 
```

上面应该写成：

```
Student s = findStudentWithName(fullList, this.name);
if (s == null) {
    Student s = new Student(this.name); 
    s.setResult(this);
    fullList.add(s);
}
else {
    s.setResult(this);
} 
```

findStudentWithName 方法如下所示：

```
private Student findStudentWithName(List<Student> students, String name) {
    for (Student s : students) {
        if (s.getName().equalsIgnoreCase(name)) {
            return s;
        }
    }
    // no student found.
    return null;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:55:00.820

`Map/HashMap`代替 List使用：

```
 Map<String, Student> fullStudents= new HashMap<Student>(); 
```

并将其用作：

```
 public void setResult(Map<String, Student> fullMap) {
            Student s = fullMap.get(this.name.toLowerCase());
            if(s == null){
              s = new Student(this.name);
              fullMap.put(this.name.toLowerCase(), s);
             }
             s.setResult(this);
     } 
```

它更简单，更清洁。

另外要随时获取学生列表，您可以简单地执行以下操作：

```
 List<Student> fullList = fullMap.values(); 
```

# c++ - 对以下程序的输出感到困惑

> ID：13411634
> 
> 赞同：2
> 
> 时间：2012-11-16T06:35:14.303
> 
> 标签：c++

```
float b = 1.0f;
int i = b;
int& j = (int&)i;
cout<<j<<endl; 
```

o/p = 1

但是对于以下场景

```
float b = 1.0f;
int i = b;
int& j = (int&)b;
cout<<j<<endl; 
```

运单 = 1065353216

因为两者都具有相同的值，所以它应该显示相同的结果......任何人都可以让我知道当我对第 3 行进行一些更改时真正发生了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:43:55.223

在第一个中，你做的一切都很好。编译器能够转换`float b`为`int i`，失去精度，但没关系。现在，在执行第二个示例期间查看我的调试器窗口：

![在此处输入图像描述](../Images/6cb999955f927e4e102eba21ff69aea5.png)

对不起我的俄语IDE界面，第一列是变量名，第二列是值，第三列是类型。

如您所见，现在 float 被简单地解释为 int。所以前导`1`位被解释为整数的位，这会导致你得到的结果。所以基本上，您采用浮点数的二进制表示（通常表示为符号位、尾数和指数），并尝试将其解释为`int`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:37:49.987

在第一种情况下，您正在`j`正确初始化并且演员表是多余的。在第二种情况下，您做错了（即对不同类型的对象），但强制转换使编译器关闭。

在第二种情况下，您得到的可能是`1.0`解释为整数的内部表示。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T06:46:41.737

引用不进行任何内存分配，它只是将一个条目放入本地名称及其地址的表中。在第一种情况下，名称“j”指向先前分配给 int 数据类型的内存（用于变量“i”），而在第二种情况下，名称“j”指向分配给浮点数据类型的内存（用于变量“b”）。当您使用 'j' 编译器将适当地址的数据解释为 int 时，但实际上一些浮点数被放置在那里，这就是为什么您会得到一些“奇怪”的数字而不是 1

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-16T07:20:04.737

整数`1`和浮点数`1.0f`在数学上可能是相同的值，但在 C++ 中它们具有不同的类型，具有不同的表示形式。

将*左值*转换为引用等效于`reinterpret_cast`; 它说“查看此内存位置中的任何内容，并将这些字节解释为`int`”。

在第一种情况下，内存包含一个`int`，因此将这些字节解释为一个`int`给出预期值。

在第二种情况下，内存包含 a ，因此您会看到表示浮点数`float`的字节（或者可能只是其中的一些，或者可能还有一些额外的， if ），重新解释为整数。`sizeof(int) != sizeof(float)`

您的计算机可能使用 32 位`int`和 32 位[IEEE](http://en.wikipedia.org/wiki/IEEE_floating_point) `float`表示。该`float`值`1.0f`的符号位为零，指数为零（由 8 位值 127 或二进制的 01111111 表示）和尾数 1（由 23 位值零表示），因此 32 位模式看起来像：

```
00111111 10000000 00000000 00000000 
```

当重新解释为整数时，这给出了十六进制值`0x3f800000`，即十进制的 1065353216。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-16T06:40:10.923

第一个在分配给 之前先`b`转换`int`为`i`。这是“正确”的方式，因为编译器会正确转换值。

第二个不强制转换并将`b`'s 的位重新解释为整数。如果您阅读[浮点格式](http://en.wikipedia.org/wiki/IEEE_floating_point)，您可以确切地看到为什么您获得了您所获得的价值。

在幕后，所有变量都只是位的集合。你如何解释这些位会改变它们所代表的感知价值。在第一个中，您正在重新排列位模式以保留“感知”值（1）。在第二个中，您没有重新排列位模式，因此感知值没有正确转换。

# phpdoc - phpDocumentor 页面级文档字符串

> ID：13411636
> 
> 赞同：1
> 
> 时间：2012-11-16T06:35:22.150
> 
> 标签：phpdoc

我们有一个页面级的文档块，如下所示：

```
/**
* Functions for the processing, displaying, and searching of listings
*
* @package ListingFunctions
*
*/ 
```

该文件的其余部分具有带有自己的文档块的功能。但是我和我的团队在生成的 HTML 输出中的任何地方都找不到此评论。我们需要打开一些配置或命令行的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T14:38:05.820

使用 phpDocumentor 1.x，“简短描述”部分应该是该给定文件网页上的主要描述标题。它不会出现在该文件中的那些函数上......只是出现在文件本身上。这是核心行为，无法通过运行时设置进行修改。

# jquery - 在单击 jquery 按钮时使用动态表数据填充对话框表单字段

> ID：13411637
> 
> 赞同：5
> 
> 时间：2012-11-16T06:35:25.963
> 
> 标签：jquery, jquery-ui-dialog, dynamic-data

我以前没有在这里发布过问题，但是这个网站非常有帮助，所以谢谢。当我单击与要用于填充表单的字段相同的行中的“编辑”按钮时，我在使用动态表数据填充 jQuery 对话框表单时遇到了一些问题。

我的 HTML 代码在这里：对话框形式：

```
<div id="edit-dialog-form" class="edit-dialog-form" title="Edit Subscriber"><!--EDIT SUBSCRIBER - PULL FROM DB & UPDATE TO DB-->

            <form name="editSubscriber"><!--edit existing subscriber details in database--->
            <fieldset>
                <label for="fname">First Name</label>
                <input type="text" name="fname" id="fnameEdit" value="" class="text ui-widget-content ui-corner-all"/>

                <label for="lname">Last Name</label>
                <input type="text" name="lname" id="lnameEdit" value="" class="text ui-widget-content ui-corner-all" />

                <label for="email">Email</label>
                <input type="text" name="email" id="emailEdit" value="" class="text ui-widget-content ui-corner-all" />

                <label for="status">Status</label>
                <input type="text" name="status" id="statusEdit" value="" class="text ui-widget-content ui-corner-all" />

                <!--<label for="password">Password</label>
                <input type="text" name="password" id="password" value="" class="text ui-widget-content ui-corner-all" />-->

            </fieldset>
            </form>
        </div><!-- create - dialog-form--> 
```

HTML 表格

```
<table id="users" class="ui-widget ui-widget-content">
            <thead>
            <tr class="ui-widget-header ">
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Status</th>
                <th>Edit</th>
            </tr>
            </thead>
            <tbody>

            <?php

            $content = $sub_info;

                foreach($content as $row)
                {
                    //print_r($row);
                    echo '<tr>';
                    echo '<td data-fn="'.$row['SubFirstName'].'" >'.$row['SubFirstName'].'</td>';
                    echo '<td data-ln="'.$row['SubLastName'].'">'.$row['SubLastName'].'</td>';
                    echo '<td data-em="'.$row['SubEmail'].'">'.$row['SubEmail'].'</td>';
                    echo '<td data-st="'.$row['Activated'].'">'.$row['Activated'].'</td>';
                    echo '<td><input type="button" class="editUser" id="editUser" value="Edit"/></td>';
                    echo '</tr>';
                }
            ?>

            </tbody>
        </table> 
```

我的JS代码在这里：

```
$(".editUser").click(function(){
                $( ".edit-dialog-form" ).dialog( "open" );

              //get the data-xx values from this tr
              var fname = $(this).closest('tr').find('td').data('fn');//data-fn="'.$row[SubFirstName].'"
              // put each into the form
              $('#fnameEdit').val(fname);//where #fnameEdit is the id of input field form "editSubscriber"

              //get the data-xx values from this tr//
              var lname = $(this).closest('tr').find('td').data('ln');
              // put each into the form
              $('#lnameEdit').val(lname);//where #lnameEdit is the id of input field form "editSubscriber"
        }); 
```

我希望我以正确的方式发布了这个。感谢任何能够提供帮助的人。基本上我的表填充了来自数据库的动态数据，当我单击编辑按钮时，我需要在表单中显示这些数据 - 这样我最终可以编辑数据并将编辑后的数据更新到数据库。我的“填充表单 js”现在发生的只是第一个字段（fname）从表中拉出并填充第一个表单字段。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:39:14.683

```
var fname = $(this).closest('tr').find('td').data('fn'); 
```

猜应该是

```
var fname = $(this).closest('tr').find('td:eq(0)').data('fn');//data-fn 
```

和

```
var lname = $(this).closest('tr').find('td').data('ln'); 
```

应该

```
var lname = $(this).closest('tr').find('td:eq(1)').data('ln'); 
```

# objective-c - 如何防止一行 UITableView 被取消选择？

> ID：13411639
> 
> 赞同：5
> 
> 时间：2012-11-16T06:35:39.613
> 
> 标签：objective-c, ios, uitableview

当我选择一行时，`UITableView`它变为绿色（自定义），但是当我选择另一行时，先前选择的行不会保持绿色。每次选择行后我都会重新加载我的表。我试过这个

```
NSIndexPath *selection = [mainTable indexPathForSelectedRow];
[mainTable selectRowAtIndexPath:selection animated:NO
scrollPosition:UITableViewScrollPositionNone]; 
```

但是使用这段代码我只得到最近选择的行绿色（选择）我已经搜索过这个并找到了一些建议，其中大多数建议将选定行的索引值存储在一个数组中并稍后使用这个数组，我试过了这但它没有用。任何其他建议或示例代码将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-16T06:52:35.283

## 更新：

实现此目的的更好方法是从您希望保持选中状态的 indexPath的`UITableViewDelegate`方法中返回 nil。`tableView:willDeselectRowAtIndexPath:`

## 不要使用这个：

试试这个添加`UITableViewDelegate`方法：

```
- (void)tableView:(UITableView *)tableView didDeselectRowAtIndexPath:(NSIndexPath *)indexPath
{
  //use this for row u want to prevent to deSelect
  [tableView selectRowAtIndexPath:indexPath animated:NO scrollPosition:UITableViewScrollPositionNone];               
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-16T06:53:28.000

做这个：

```
mainTable.allowsMultipleSelection = YES; 
```

从[*UITableView 类参考*](http://developer.apple.com/library/ios/documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40006943-CH3-SW54)：

> **允许多重选择**
> 
> 一个布尔值，用于确定用户是否可以在编辑模式之外选择多行。
> 
> `@property(nonatomic) BOOL allowsMultipleSelection`
> 
> **讨论**
> 
> 此属性控制是否可以在编辑模式之外同时选择多行。当此属性的值为“YES”时，每被点击的行旁边都会放置一个复选标记。再次点击该行将删除复选标记。如果您调用`indexPathsForSelectedRows`，您可以获得标识所选行的索引路径。
> 
> 此属性的默认值为`NO`。

# asp.net - ASPxGridView.GetChildDataRow 始终为空

> ID：13411646
> 
> 赞同：0
> 
> 时间：2012-11-16T06:36:23.413
> 
> 标签：asp.net, devexpress, aspxgridview

我正在将我的网格与 PageLoad 上的 linq 表达式的结果动态绑定，并且在 HtmlRowPrepared 事件中我试图用

```
for (int i = 0; i < grid.GetChildRowCount(visibleGrIndex); i++)
  {
    var row = grid.GetChildDataRow(visibleGrIndex, i); 
  } 
```

但它总是为空？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:37:55.667

[HtmlRowPrepared](http://documentation.devexpress.com/#AspNet/DevExpressWebASPxGridViewASPxGridView_HtmlRowPreparedtopic)为每个网格行触发一次。因此，您可以使用此代码来获取数据行：

```
private void Grid_HtmlRowPrepared(object sender, ASPxGridViewTableRowEventArgs e) {
    if (e.RowType == GridViewRowType.Group)
    {
        for (int i = 0; i < GetChildRowCount(e.VisibleIndex); i++)
        {
            var row = GetChildDataRow(e.VisibleIndex, i);
        }
    }
} 
```

# javascript - Android WebView eval 不起作用

> ID：13411649
> 
> 赞同：0
> 
> 时间：2012-11-16T06:36:33.480
> 
> 标签：javascript, android-webview

Android WebView 中的 eval 函数不起作用。这是我正在执行的代码。第 2 行打印未定义。

```
console.log("Script json" + eval(scriptJson.Script+" \n function test() {alert(1233);}"));
console.log("is functions loaded "+ window.test); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:44:58.280

我发现问题实际上我正在从另一个 js 对象运行 eval

```
myobj.init = function () {
   console.log("Script json" + eval(scriptJson.Script+" \n function test() {alert(1233);}"));
   console.log("is functions loaded "+ window.test);
} 
```

相反，如果我将其更改为

```
myobj.init = function () {
   console.log("Script json" + window.eval(scriptJson.Script+" \n function test() {alert(1233);}"));
   console.log("is functions loaded "+ window.test);
} 
```

它的工作...

# javascript - 如何在另一个 Javascript 文件中加载 Javascript 文件并在文件 1 之前执行文件 2？

> ID：13411654
> 
> 赞同：3
> 
> 时间：2012-11-16T06:37:03.830
> 
> 标签：javascript, jquery

我写了一个 jQuery 插件，比如说`jquery.plugin.js`. 我想在大量网站上使用这个插件。

我想要做的是在其顶部编写一段 js 代码，`jquery.plugin.js`将加载`jquery.main.js`并执行它，以便`$`在`jquery.plugin.js`.

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:42:52.437

您可能想要做的是在 js 中创建一个新标签

```
script = document.createElement('script');
script.src = 'URL-TO-JQUERY'; 
```

然后将该元素附加到第一个标记之前。

```
document.body.insertBefore(document.getElementsByTagName('script')[0], script); 
```

这很可能会起作用，因为脚本是在任何其他 js 之前插入的。（头部除外）

是的，只是一个检查 jQuery 是否存在的间隔：

```
interval = setInterval(check, 100);
function check(){
  if($.version){
    // Exec script
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T07:17:12.227

此页面可能对您有用

[http://code.google.com/p/jquery-ajaxq/](http://code.google.com/p/jquery-ajaxq/)

使用此脚本，您可以按顺序使用文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:41:57.690

只需将`jquery.main.js`上面的`jquery.plugin.js`. 如果您按此顺序放置脚本标签，它应该可以工作。

```
<script src="jquery.main.js"></script>
<script src="jquery.plugin.js"></script> 
```

如果您无法完全控制 html 或者 jQuery 也可能从其他地方加载，请执行此操作以检查它是否已加载，并且仅在需要时加载。

从谷歌加载

```
if (typeof jQuery == 'undefined') {  
    document.write('<script type="text/javascript" src="http://www.google.com/jsapi"></script>');
    document.write('<script type="text/javascript">');
        google.load("jquery", "1.4.2");
    document.write('</script>');
} 
```

从同一台服务器加载

```
if (typeof jQuery == 'undefined') {  
    document.write('<script type="text/javascript" src="path/to/jquery.min.js"></script>');
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T06:44:46.450

仅在已经加载 jQuery 时才有效，

```
$.when($.getScript("path_to_script")).then(function() {

   alert("loaded");
})​ 
```

小提琴 - [http://jsfiddle.net/fLuDd/](http://jsfiddle.net/fLuDd/)

## 编辑

```
var fileref = document.createElement('script')
fileref.setAttribute("type", "text/javascript")
fileref.setAttribute("src", 'http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js')
document.getElementsByTagName("head")[0].appendChild(fileref)

var t = setInterval(function() {
    if (typeof(jQuery) == 'function') {
        alert("jquery loaded");
        clearInterval(t);
    }
}, 2000);​ 
```

小提琴 - [http://jsfiddle.net/fLuDd/1/](http://jsfiddle.net/fLuDd/1/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-16T07:15:45.430

有一些 AMD 软件包可以满足您的需求，例如 requirejs，但是……您必须先加载它们！

您可以使用轮询技术（动态加载 jQuery 并轮询直到 $ 存在），但不是很优雅或高效。

您还可以将 onload 事件处理程序附加到动态 jQuery 脚本，这将在加载 jQuery 后触发您的插件。当然，这样的事件处理程序存在跨浏览器兼容性问题，所以用 jQuery 编写它们更容易。

底线：这很麻烦，通常最好只写两个脚本标签。

PS：以上一些技术在这篇文章中有解释：http: [//www.stevesouders.com/blog/2008/12/27/coupling-async-scripts/](http://www.stevesouders.com/blog/2008/12/27/coupling-async-scripts/)

# matlab - 在Matlab中求解稀疏三角线性系统

> ID：13411655
> 
> 赞同：0
> 
> 时间：2012-11-16T06:37:08.683
> 
> 标签：matlab, matrix, linear-algebra, sparse-matrix, numerical-methods

我在Matlab中实现了一些大型稀疏矩阵的LU分解算法来求解线性系统。当我得到 L,U 矩阵时，我使用后向替换和前向替换算法来求解三角线性系统：

```
 %x = U\y;

for i = n : -1 : 1
    x(i,:) = (y(i,:)-U(i,:)*x)/U(i,i);
end 
```

但我发现这段代码是瓶颈。虽然我可以使用 A\b 来获得解决方案，但是我想知道如何在 Matlab 中实现一个高效的算法来解决这个问题，例如，我可以编写矩阵乘积来模拟以下动作而无需 for 循环？

（我有一些参考书和论文，但所有代码都不是在 Matlab 中，仅用于 C++ 或 C 代码）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T08:12:18.813

首先：**正确性**先于**速度**；您发布的循环产生的结果*与 不同*，`U\y`因此您可能需要先检查一下 :)

AFAIK，反斜杠对输入矩阵进行一些检查，并相应地调用最快的算法。当这些检查表明`A`是下三角形时，它将完全按照您所做的（但可能更有效）。

无论如何，为了加速你的代码：你应该 pre-allocate `x`，否则 Matlab 被迫在每次迭代时增长向量。另外，调用循环变量`ii` -- `i`是虚数单位，每次迭代的名称解析需要一些时间。所以，总结一下：

```
x = zeros(size(y));
for ii = n : -1 : 1
    x(ii,:) = (y(ii,:)-U(ii,:)*x)/U(ii,ii);
end 
```

请注意，没有“矢量化”解决方案，因为下一个结果取决于前一个结果。

# ruby-on-rails - Ruby on Rails - 应用程序控制器

> ID：13411658
> 
> 赞同：0
> 
> 时间：2012-11-16T06:37:20.337
> 
> 标签：ruby-on-rails, session, devise

我正在开发我的游戏应用程序中的一些访客帐户功能。如果您注册为游戏用户，那么设计 gem 会自动将当前帐户 ID 加载到会话中。但是当用户是来宾时，正在创建一个帐户和一个具有硬编码值的用户类型对象，并将其成功保存到数据库中。但是当我尝试将对象存储到会话中时，它无法正常工作。

我的代码是这样的，

```
def play_as_guest
   account = Account.new(email: "guest_#{Time.now.to_i}#{rand(99)}@eossys.com", password: "password", is_guest: true)
   account.save
   game_user = GameUser.new(account: account, game_profile_attributes: {first_name: "Guest", last_name: "guest", nick_name: "guest"})
   game_user.save
   session[:current_account] = game_user
   redirect_to "/game_profiles/#{account.id}/summary"
end 
```

如果我存储帐户 obj session[:current_account] = game_user

这会引发“ActionDispatch::Cookies::CookieOverflow in HomeController#play_as_guest”的错误

如果我尝试 session[:current_account_account] = account

它不起作用，因为在重定向后再次要求登录。因为我使用的是“authenticate_account！” 过滤每个班级。

我想要的基本上是将我创建的帐户对象加载到会话中，就像它是注册用户一样。

我在这里先向您的帮助表示感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:00:52.943

我认为我们需要您的`authenticate_account!`过滤器代码来正确回答它，但是对于您的错误，这是因为您尝试将整个对象放入会话中，最好只将`id`对象放入其中：

```
session[:current_account] = game_user.id 
```

更新

使用设计，您应该使用该`sign_in`方法为该用户设置会话，而不是手动设置会话变量，具体取决于您使用设计的方式：

`sign_in account`或者`sign_in game_user`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T07:02:44.780

Rails cookie 的最大限制为 4k ( [http://guides.rubyonrails.org/security.html#session-storage](http://guides.rubyonrails.org/security.html#session-storage) )。当您执行类似的操作时`obj session[:current_account] = game_user`，您正试图将整个 game_user 对象塞入其中，这会导致您因`ActionDispatch::Cookies::CookieOverflow`您提到的错误而空间不足。这样做的首选方法是只保存 id，像这样`obj session[:current_account_id] = game_user.id`，并在需要时查找它。即使您的整个对象确实以某种方式适合内存，这也更有效。

# c++ - 在向量的类中调用函数的正确方法

> ID：13411660
> 
> 赞同：1
> 
> 时间：2012-11-16T06:37:28.927
> 
> 标签：c++, vector

首先我有一个名为的类`Foo`，它包含一个虚函数`int Foo::getId()`

我有一个类型定义：`typedef std::vector<Foo*> FooList;`

然后我定义`Foo::FooList *list;`并加载这个向量。

我想知道我将如何访问`getId()`. 目前我正在使用`list[a].getId();`，但编译器一直在说`error: class std::vector<Foo*, std::allocator<Foo*> > has no member named getId`.

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:41:27.707

```
list->at(a)->getId(); 
```

你也可以做

```
list->operator[](a)->getId(); 
```

或者

```
(*(*list)[a]).getId(); 
```

或任何组合。

`list`是一个指针，因此需要取消引用，它包含的指针也是如此。未取消引用的指针上的数组运算符将添加`a`到`list`- 使其指向不同的位置。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:44:09.810

你可以使用这个：

```
list->at(a)->getId(); 
```

另请注意，*当*您`Foo::FooList* list`像. 如果不为零，那么它将是未定义的行为。此外，您应该考虑尽可能偏爱引用（或值），而不是指针。*`list[a]``a`*

 *`std::vector<>::at(size_t)`访问向量的元素，很像`operator[](size_t)`. 最大的区别是`operator[]`未选中，`at()`如果有范围错误则会抛出。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T06:40:52.573

您需要几个指针取消引用：

```
(*list)[a]->getId(); 
```

`(*list)`允许您`list`作为对象访问，因此您可以调用`operator[]`它。并`operator[]`返回一个指向 的指针`Foo`，您可以通过元素选择运算符调用其方法`->`。您可以在任一位置使用取消引用`*`或元素选择`->`。但是您还应该首先考虑是否需要`list`成为指针。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-16T06:40:18.037

试试这个方法：

```
(*list)[a]->getId() 
```*

# python - python 类中的全局字典

> ID：13411668
> 
> 赞同：2
> 
> 时间：2012-11-16T06:38:29.787
> 
> 标签：python, class, global

我正在用 Python 设计一个库存类，它应该跟踪商店的库存商品，添加新商品并删除它们。

麻烦来自我在课堂上的“项目”定义。当我在字典中添加另一个项目时，它会替换它，而不是添加它。我感谢您的帮助！为什么不加？？？

```
class Store:

    def __init__(self, name, email):
        self.name = name
        self.email = email

    # two accessor methods
    def getName(self):
        return self.name

    def getEmail(self):
        return self.email

    # makes print work correctly
    def __str__(self):
        return str(self.name)

    # items
    def additem(self, item, price):
        global items
        items = {}
        self.item = str(item)
        self.price = float(price)
        items[self.item] = price

    def delitem(self, item):
        items.remove(item)

    def displayinventory(self):
        return items 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T06:42:57.413

`items`每次调用时，您都会设置一个新的空字典`additem`。因此，在添加新项目之前，它总是会擦除那里的所有内容。相反，`items = {}`在函数之外设置一次。这样做也没有意义`self.item = str(item)`（价格也一样），因为这只会覆盖现有的`self.item`，因此您只能访问最新的。

实际上，您可能应该做的是`items`为对象创建一个属性，如下所示：

```
class Store:

    def __init__(self, name, email):
        self.name = name
        self.email = email
        self.items = {}

    # rest of your code here. . .

    def additem(self, item, price):
        self.items[str(item)] = float(price)

    def delitem(self, item):
        del self.items[str(item)]

    def displayinventory(self):
        return self.items 
```

你这样做的方式，只有一个全局`items`字典将在所有商店之间共享。上述方式为每个商店提供了自己的项目字典，因此它可以保留自己的项目记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-09-11T20:09:04.053

即使这是几年前提出的观点，其他人也可能对此答案感兴趣。如果要在类中全局使用字典，则需要在使用类的部分中定义它。如果你在 main 中使用你的类，那么在那里定义它。字典或 o 列表默认是全局的。

```
class Store:

    ...

    def additem (self, item, price):
        self.item = str (item)
        self.price = float (price)
        items [self.item] = price

def main ():
    ...
    items = dict ()
    myStore = Store ()
    .... 
```

# android - 我可以从 string.xml 文件中读取字符串以获取文本颜色吗？

> ID：13411669
> 
> 赞同：1
> 
> 时间：2012-11-16T06:38:38.437
> 
> 标签：android, android-layout

我现在想从字符串文件中读取文本颜色以符合我的风格

```
<style name="xxx" >
    <item name="android:textColor">#ffffff</item>
</style> 
```

我想要做

```
<style name="xxx" >
    <item name="android:textColor">@string/whiteColor</item>
</style> 
```

想从字符串文件中读取文本颜色值

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T10:45:57.370

我觉得你可以，试试这个

```
<string name="grey">@color/col</string>
<color name="col">#ffffff</color> 
```

现在您可以使用字符串 gray 而不是 col 添加颜色或

```
 <string name="grey">#ffffff</string>
    <color name="col">@string/grey</color> 
```

# linux - 在这种情况下，如何在 bash 脚本中执行多个 if、else 语句？

> ID：13411674
> 
> 赞同：1
> 
> 时间：2012-11-16T06:39:07.460
> 
> 标签：linux, bash, sh

现在我正在运行一些带有 bash 脚本的程序（使用 Cygwin）。

基本上我正在做的是在程序启动后，运行一个循环来检查程序是否仍在运行。

我在做：

```
while true
do
    if [ "$(ps -W | grep -w name | gawk '{print $8,$9}' | gawk -F \\ '{print $4}')" == 'program' ];then 
        sleep 1
    else
        "start program" (whatever is needed here)
    fi
done 
```

但是我开始意识到多次使用这样的脚本只会导致使用不必要的系统资源。

我试着做一个 if then, elif，但它永远不会超过第一个 if。

我需要它去“好吧，如果第一个是否定的，尝试下一个，走到最后，重新开始”。

这是我的脚本的副本，我忘了说我使用的是 Cygwin，但这并没有改变任何东西，因为它似乎仍然使用普通的 bash 脚本，只是可能不同的路径来启动文件。[http://pastebin.com/s8ZdPQMn](http://pastebin.com/s8ZdPQMn)是的 h。不在那里我似乎无法编辑pastebin。

我的总体计划是检查第一个 SRPro 是否正在运行，检查下一个，等等，只有在检测到一个没有运行时才触发。

编辑：我解决了。不完全确定为什么，但在我每个程序的原始单个文件中，gawk 最后打印 4 美元给了我想要的东西，但由于某种原因，当这样做时，它变成了 5 美元。因此将 $4 更改为 $5 使脚本工作。

编辑：一个非常奇怪的问题是，它会连续工作几分钟，然后有时会突然感到困惑，并启动一个程序或其他东西的 7 个副本。它也可以是随机开始的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:08:00.070

您可能会发现该`wait`命令（`help wait`从 bash 提示符尝试）很有用。目前尚不清楚您到底想要什么，但作为示例，这是一个基本的重生函数：

```
$ respawn () {
>   while true
>   do
>     "${@}" &
>     wait ${!}
>     echo "respawning ..."
>   done
> }
$ respawn some_program arg1 arg2 etc 
```

# node.js - 如何在 nodejs 中支持 application/json、application/x-www-form-urlencoded 和 multipart/form-data 的请求或响应主体

> ID：13411682
> 
> 赞同：0
> 
> 时间：2012-11-16T06:40:02.383
> 
> 标签：node.js, express, connect

实际上我是新手，我想在我的 Web 应用程序中使用 express，所以我想支持我的应用程序中应该支持的所有请求和响应

***application/json, application/x-www-form-urlencoded 和 multipart/form-data***

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:48:54.533

express 相当聪明，并且会自动确定标头类型，您甚至可以使用 res.send(JSONObj) 将对象直接作为 JSON 发送。如果要手动设置标头，可以`res.setHeader('Content-Type', 'application/json')`在发送任何数据之前使用。

# java - 设置日历视图月份名称的文本颜色

> ID：13411685
> 
> 赞同：5
> 
> 时间：2012-11-16T06:40:10.557
> 
> 标签：java, android

在 android 中，我使用的是默认的 CalendarView。我已将背景设置为浅灰色。但是我可以更改日历视图的月份视图的颜色吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-29T07:43:26.460

正如您所发现的，TextView 是私有的，似乎没有任何方法可以访问它。

虽然我不推荐它，但您可以使用以下`java.lang.reflect`软件包完成此操作：

```
 try
    {
        CalendarView cv = (CalendarView) this.findViewById(R.id.calendarView1);
        Class<?> cvClass = cv.getClass();
        Field field = cvClass.getDeclaredField("mMonthName");
        field.setAccessible(true);

        try
        {
            TextView tv = (TextView) field.get(cv);
            tv.setTextColor(Color.RED);
        } 
        catch (IllegalArgumentException e)
        {
            e.printStackTrace();
        }
        catch (IllegalAccessException e)
        {
            e.printStackTrace();
        }
    }
    catch (NoSuchFieldException e)
    {
        e.printStackTrace();
    } 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-04-15T09:55:14.833

在 Android 5.x 上，我使用了以下解决方案（它也适用于旧版本）：

```
CalendarView cv = (CalendarView) this.findViewById(R.id.calendarView1);
ViewGroup vg = (ViewGroup) cv.getChildAt(0);
View child = vg.getChildAt(0);

if(child instanceof TextView) {
    ((TextView)child).setTextColor(getResources().getColor(R.color.black));
} 
```

calendarview 的布局可以在[这里](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.0.0_r1/frameworks/base/core/res/res/layout/calendar_view.xml?av=f)找到，并且基于月份名称 TextView 是布局中的第一个子级。

# java - 谷歌语音java getSMS()

> ID：13411689
> 
> 赞同：2
> 
> 时间：2012-11-16T06:40:24.213
> 
> 标签：java, sms, google-voice

我正在尝试使用 google-voice-java API 从 google 语音帐户中读取文本。除了 code.google.com 页面之外，我找不到太多关于使用它的文档。我只需要一点关于如何正确使用 getSMS() 的帮助；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T16:59:05.113

google-voice-java API 将简单地返回您的 Google Voice 数据的原始 HTML。因此，您需要解析由 返回的 HTML `getSMS();`，并按照您认为合适的方式处理数据。

如果您只想在控制台窗口中查看返回的数据的样子，请执行以下操作

```
Voice voice = new Voice(userName, password);
String sms = voice.getSMS();
System.out.println(sms); 
```

基于此，您可以看到 HTML 的外观以及如何解析它。

编辑：可能值得注意的是，您需要在构建路径中包含[其他依赖项 jar ；](http://code.google.com/p/google-voice-java/downloads/list)[这应该在他们的GettingStarted](http://code.google.com/p/google-voice-java/wiki/GettingStarted)上更加明确！

编辑 2：根据您在下面的评论，有`getUnreadSMS()`和`markAsRead(msgID)`，但前者似乎会返回已读短信和未读短信。

`getSMS()`如果您注意到该方法（以及大多数其他 API 方法）返回的响应 XML 的顶部，`<json>`元素中有 JSON 数据，它似乎包含您需要的所有必要信息（包括一个`isRead`变量来指示是否SMS 是否标记为已读）。

从该`getSMS()`方法中提取响应并使用此[在线 JSON 查看器](http://jsonviewer.stack.hu/)来更好地检查`<json>`元素中的数据，以便您了解其中的内容。当您将 JSON 数据粘贴到在线查看器中时，请省略元素内的前导`<![CDATA`和尾随。`]>``<json>`

我只需设置一个 JSON 解析器（甚至可能使用[GSON](http://code.google.com/p/google-gson/)）并基于 JSON 数据创建 SMS 模型对象，完全忽略 HTML；对于未读消息，显然您需要`isRead`字段设置为的 JSON 对象。`false`然后，您可以使用该`id`字段传递给`markAsRead(msgID)`方法，将它们标记为已读（我刚刚测试了这个方法并且它有效）。

# sql-server - 运行存储过程时断开连接的sql server

> ID：13411691
> 
> 赞同：3
> 
> 时间：2012-11-16T06:40:33.800
> 
> 标签：sql-server, sql-server-2008

当我尝试创建或更改存储过程时，它会自动断开 dbserver。

它只对存储过程 create,alter 这样做。

这是我得到的错误：

> 从服务器接收结果时发生传输级错误。（提供者：TCP 提供者，错误：0 - 信号量超时期限已过。）

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-28T16:02:57.003

我不确定是否是问题所在，但从工具 -> 选项菜单中检查查询执行选项，然后转到查询执行 -> Sql Server -> 高级部分。如下所示，查询执行后断开连接选项应取消选中。 [![在此处输入图像描述](../Images/711857cc59dcabec3a6975123edfe766.png)](https://i.stack.imgur.com/qtaG9.png)

# ios - cellForRowAtIndexPath 如何只调用一次而不是在滚动后调用它

> ID：13411695
> 
> 赞同：2
> 
> 时间：2012-11-16T06:40:48.817
> 
> 标签：ios, uitableview

每次我向上或向下滚动时，已经绘制的单元格会被重新绘制，因为当该单元格进入视图时会再次调用“cellForRowAtIndexPath”。

有没有办法不为已调用的单元格调用“cellForRowAtIndexPath”。

也就是说，一旦为 indexpath 调用 cellForRowAtIndexPath ，当用户滚动时它不应该再次调用它。

我可以在标志数组中设置标志并手动进行，但有更直接的方法吗？

我绝对有一个导致性能问题的设计。我不能解释设计也不能改变它，所以我问。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:59:17.140

如果您不让“cellForRowAtIndexPath”方法再次调用，可能会产生性能问题，但您可以通过为每行分配不同的单元格标识符来做到这一点，如下所示。

```
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:[NSString stringWithFormat:@"Cell%d%d", indexPath.row, indexPath.section]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T08:13:08.177

//尝试在创建新内容之前删除所有内容。

//在“cellForRowAtIndexPath”方法中使用

```
 for(UIView *view in cell.contentView.subviews){
        if ([view isKindOfClass:[UIView class]]) {
            [view removeFromSuperview];
        }
    } 
```

# zend-framework2 - ZF2：Zend Framework 2.0.3（路由不工作 - 找不到控制器）

> ID：13411696
> 
> 赞同：1
> 
> 时间：2012-11-16T06:40:50.367
> 
> 标签：zend-framework2

我设置了一个演示项目并让路由在 2 个不同的模块之间工作。然而，在我的真实应用程序中，有 Application 模块和一个 Restful 模块，我的 restful 模块路由器启动但找不到控制器。

我正在访问它`localhost/restful/token/json/1`

在我的`Module.php`我有一个 onDispatch，我用它来转储 RouteMatch，我可以看到我的路线实际上正在被拾取。

`$mvcEvent->getRouteMatch()`

```
object(Zend\Mvc\Router\Http\RouteMatch)#185 (3) {
  ["length":protected]=>
  int(19)
  ["params":protected]=>
  array(2) {
    ["controller"]=>
    string(5) "token"
    ["format"]=>
    string(4) "json"
  }
  ["matchedRouteName":protected]=>
  string(7) "restful"
} 
```

当 Zend 试图加载控制器时，它只是传递`token`给`DispatchListener::get`所有的父级，直到它最终抛出一个无法加载控制器的异常。具体来说，最终的异常被抛出`DispatchLister::onDispatch`。`$application::ERROR_CONTROLLER_NOT_FOUND`

引发的根异常是：

```
Zend\ServiceManager\ServiceManager::get was unable to fetch or create an instance for "token". 
```

`Stack Trace:`

```
#0 /usr/local/zend/apache2/htdocs/EMRAuth/vendor/ZF2/library/Zend/ServiceManager/AbstractPluginManager.php(110): Zend\ServiceManager\ServiceManager->get('token', false)
#1 /usr/local/zend/apache2/htdocs/EMRAuth/vendor/ZF2/library/Zend/Mvc/Controller/ControllerManager.php(114): Zend\ServiceManager\AbstractPluginManager->get('token', Array, false)
#2 /usr/local/zend/apache2/htdocs/EMRAuth/vendor/ZF2/library/Zend/Mvc/DispatchListener.php(90): Zend\Mvc\Controller\ControllerManager->get('token')
#3 [internal function]: Zend\Mvc\DispatchListener->onDispatch(Object(Zend\Mvc\MvcEvent))
#4 /usr/local/zend/apache2/htdocs/EMRAuth/vendor/ZF2/library/Zend/EventManager/EventManager.php(468): call_user_func(Array, Object(Zend\Mvc\MvcEvent))
#5 /usr/local/zend/apache2/htdocs/EMRAuth/vendor/ZF2/library/Zend/EventManager/EventManager.php(208): Zend\EventManager\EventManager->triggerListeners('dispatch', Object(Zend\Mvc\MvcEvent), Object(Closure))
#6 /usr/local/zend/apache2/htdocs/EMRAuth/vendor/ZF2/library/Zend/Mvc/Application.php(297): Zend\EventManager\EventManager->trigger('dispatch', Object(Zend\Mvc\MvcEvent), Object(Closure))
#7 /usr/local/zend/apache2/htdocs/EMRAuth/public/index.php(22): Zend\Mvc\Application->run()
#8 {main} 
```

我在`Application`模块中做了同样的转储，它实际上传递了完整的命名空间控制器名称。在我的演示项目中，在额外的模块中也是如此。

所以我不确定我在这个新项目中做错了什么，但一切看起来都和我的演示项目一样。但它总是只是传递给 DispatchListener “令牌”而不是实际的控制器。

`module.config.php`

```
return array(
'controllers' => array(
    'invokables' => array(
        'Restful\Controller\Token' => 'Restful\Controller\TokenController'
    ),
),
'router' => array(
    'routes' => array(
        'restful' => array(
            'type' => 'Zend\Mvc\Router\Http\Segment',
            'options' => array(
                'route' => '/restful[/:controller[/:format][/:id]]',
                'constraints' => array(
                    'controller' => '[a-zA-Z][a-zA-Z0-9_-]*',
                    'format' => '(xml|json|sphp)',
                    'id' => '[1-9][0-9]*',
                ),
                'defaults' => array(
                    '__NAMESPACE__' => 'Restful\Controller',
                    'controller' => 'Restful\Controller\Token',
                    'format' => 'json',
                ),
            ),
        ),
    ),
),
'di' => array(
    'instance' => array(
        'alias' => array(
            'dispatcher' => 'Restful\Response\Dispatcher',
        ),
        'Restful\Response\Dispatcher' => array(
            'parameters' => array(
                'options' => include(__DIR__ . '/dispatcher.config.php')
            ),
        ),
    ),
),
); 
```

`Module.php`

```
namespace Restful;

use Zend\EventManager\StaticEventManager;

class Module
{

protected static $options;

public function init(\Zend\ModuleManager\ModuleManager $moduleManager)
{
    $events = StaticEventManager::getInstance();
    $events->attach('Zend\Mvc\Controller\RestfulController','dispatch', array($this, 'onDispatch'), -100);
    $events->attach('Zend\Mvc\Application','dispatch.error', array($this, 'onDispatch'),-100);
}

public function getConfig() {
    return include __DIR__ . '/config/module.config.php';
}

public function onDispatch(\Zend\Mvc\MvcEvent $mvcEvent)
{
    $result = $mvcEvent->getResult();
    var_dump($mvcEvent->getRouteMatch());
    if ($mvcEvent->isError())
    {
        $vars = $result->getVariables();
        $errorId = $vars->offsetGet('reason');
        $errorMessage=$vars->offsetGet('message');
        $content = array(
            'error' => (is_null($errorId)) ? 'notfound-error' : $errorId,
            'message' => $errorMessage,
        );

    } else {
        $content = array(
            'content' => (is_array($result)) ? $result : $result->getVariables(),
        );
    }

    $match = $mvcEvent->getRouteMatch();
    $format = (empty($match)) ? 'json' : strtolower($mvcEvent->getRouteMatch()->getParam('format'));

    $dispatcher = $mvcEvent->getTarget()->getServiceManager()->get('dispatcher');

    return $dispatcher->render($format, $content, $mvcEvent->getResponse());
}

} 
```

`TokenController.php`

```
namespace Restful\Controller;

class TokenController extends \Zend\Mvc\Controller\AbstractRestfulController
{
public function getList()
{
    return array(
        1 => array(
            'id' => 1,
            'title' => 'Title #1',
        ),
        2 => array(
            'id' => 2,
            'title' => 'Title #2',
        ),
    );
}

public function get($id)
{
    return array(
        'id' => $id,
        'title' => 'Title #1',
    );
}

public function create($data)
{

}

public function update($id, $data)
{

}

public function delete($id)
{

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T21:44:20.577

您的问题是您`:controller`在路由中定义了参数，该参数取代了您指定的默认控制器。将您的路线定义更改为`'/restful[/token[/:format][/:id]]'`

作为不相关的说明：您不能将数据格式指定为 RESTful API 中资源 uri 的一部分，将其作为 get 参数传递`?format=xml`或在 HTTP 协议中使用适当的内容协商机制。zf2 中良好的 HTTP 标头实现应该可以帮助您。

# jquery - 如何为使用js提供可点击的背景图片

> ID：13411698
> 
> 赞同：3
> 
> 时间：2012-11-16T06:41:02.160
> 
> 标签：jquery, html, css

```
<div class="feedback-header"><h3>FEEDBACK</h3></div> 
```

css

```
.feedback-header
       { 
          border-bottom:1px solid #494c4d;
          padding:8px 20px 1px      20px;
          background:url(/_assets/img/common/btn-rt-arrow.png) 373px 25px no-repeat;
          position:absolute;
          width:381px 
```

}

我在右侧有一个箭头，我需要使箭头能够点击以应用 js

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:48:51.480

无法在 CSS 属性上添加事件。

您只能将事件添加到 DOM 元素。在您的情况下，您可以将点击事件添加到`.feedback-header`具有`class='feedback-header'`

添加点击到所有元素`class='feedback-header'`

```
$(body).on('click', '.feedback-header', function(e){
  ....
}); 
```

单击也将应用于 jQuery 将来分配给该类的元素。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T06:49:20.593

正如 WDever 指出的那样，您不能使背景图像的一部分可点击（除非您使用图像映射），但您可以做的是将背景图像作为`image`标签插入`feedback-header`div 并使其可点击：

**HTML**

```
<div class="feedback-header">
    <img src="/_assets/img/common/btn-rt-arrow.png" />
    <h3>FEEDBACK</h3>
</div> 
```

**CSS**

```
.feedback-header{ 
          border-bottom:1px solid #494c4d;
          padding:8px 20px 1px 20px;
          background:transparent none;
          position:absolute;
          width:381px;
}
.feedback-header img, h3 { display: inline; margin-right: 20px; } 
```

**JS**

```
 $('div.feedback-header').on('click', 'img', function(){
        // Kill aliens and save the world here!
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:49:48.997

你可以做一些技巧来做到这一点。喜欢

```
<table style="background:url(/_assets/img/common/btn-rt-arrow.png)">
<tr>
   <td>
   Background arrow image' left side should be the same color as the element
   </td>
   <td id="arrow" onclick="FunctionToCall('this')">
     Your arrow sign should extend here.
   </td>
</tr>
</table>

function FunctionToCall() {
// write here
 } 
```

# php - 使用 facebook 注册我的网站，但仅限特定组成员

> ID：13411699
> 
> 赞同：-1
> 
> 时间：2012-11-16T06:41:05.810
> 
> 标签：php, facebook-authentication

我想在我的网站中使用 facebook 注册，但只允许在 facebook 上加入特定群组的人注册我的网站。有可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:46:36.940

是的..获取登录用户的用户级别，然后检查facebook登录所需用户级别的用户级别。像这样 Y 登录到该站点。我们允许用户级别=6 的用户在 Facebook 上注册。所以当 Y 的用户级别是 6 时。然后检查

```
if($_SESSION['userlevel']==6){
    <div class="fb-like" data-href="" data-send="true" data-width="450" data-show-faces="false"></div>
} 
```

# javascript - 什么时候把 self 放在 Ext-JS 4 中？

> ID：13411707
> 
> 赞同：3
> 
> 时间：2012-11-16T06:41:42.610
> 
> 标签：javascript, extjs, extjs4

考虑这个例子：

[http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Application-static-method-getName](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Application-static-method-getName)

```
Ext.define('My.cool.Class', {
    constructor: function() {
        alert(this.self.getName()); // alerts 'My.cool.Class'
    }
});

My.cool.Class.getName(); // 'My.cool.Class' 
```

`self`这个例子中指的是什么？在本文档中，我如何知道何时使用`this`以及何时`self`何地`this.self`？为什么这不起作用：

```
this.getName() 
```

或者

```
self.getName() 
```

我对此的想法是 self 指的是对象的类，所以我需要这样做的唯一原因是因为 getName() 方法是静态的，所以我（有点）不是从对象调用它，而是从类调用它。我对吗？我是吗？哈？哈？我是吗？:D

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T08:57:27.567

`this.self`指类对象。这意味着`this.self === My.cool.Class`。所以你可以`My.cool.Class`通过调用来实例化新对象`new this.self()`。

`this.getName()`不起作用的原因是因为在 JS 中静态属性/方法在实例中不可用。

例子：

```
var Class = function(){};
Class.prototype = {};

Class.staticMethod = function(){ alert('static method'); };
Class.prototype.instanceMethod = function(){ alert('instance method'); };

var instance = new Class();

Class.staticMethod(); // works
Class.instanceMethod(); // doesn't work

instance.staticMethod(); // doesn't work
instance.instanceMethod(); // works 
```

即使在静态上下文中，静态属性/方法在子类中也不可用。

例子：

```
Ext.define('One', {
    instanceMethod: function() { alert('Instance One'); }
});
Ext.apply(One, {
    staticMethod: function() { alert('Static One'); }
});

Ext.define('Two', {
    extend: 'One'
});

One.staticMethod(); // works
Two.staticMethod(); // doesn't work 
```

`getName`方法可用的原因是因为方法中的类是从类中`My.cool.Class`复制的（该类是私有的，在API中不可见）。​</p> `Ext.Base``ExtClass.create`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T14:23:52.083

this.self 不适用于递归静态方法，要递归调用静态方法，您只需使用 this（即 this.myCurrentRecursiveMethod(params)）

# javascript - 即使检查了所有按钮，javascript验证也会给我错误警报

> ID：13411713
> 
> 赞同：0
> 
> 时间：2012-11-16T06:42:13.660
> 
> 标签：javascript, validation, button, radio

我已使用此代码在表单上设置验证，以便在未检查所有按钮时提醒我！..但是当我尝试它时，即使检查了所有按钮，它也会给我错误警报..请帮忙？

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>

    <script type="text/javascript">
function validateForm(formData){
    if(!this.v1.checked && !this.v2.checked && !this.v3.checked){
        alert('answer all questions please');
        return false;
    }
       return true;
    }
    </script>

    <title></title>
</head>

<body>
    <form name="form1" action="mark.php" onsubmit="return validateForm()" method="post"> 
        <input type="radio" value="1" id="v1" name="v1"> <input type="radio" value="1" id="v2" name="v2"> <input type="radio" value="1" id="v3" name="v3"> <input type="submit" value="Send">
    </form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:55:54.157

看看指的是什么`this`，使用`console.log(this)`.

如果您使用 获得单选按钮可能会更好`getElementById()`，请在此处查看示例。

[如何检查是否使用 JavaScript 选择了单选按钮？](https://stackoverflow.com/questions/1423777/how-can-i-check-if-a-radio-button-is-selected-in-javascript)

还要改变你的 if 语句的逻辑，使用这个：

```
if (!document.getElementById('v1').checked || !document.getElementById('v2').checked || !document.getElementById('v3').checked) 
```

我在 jsfiddle.net 中修改了您的脚本，以制作一个有效的脚本：http: [//jsfiddle.net/Xh5HW/1/](http://jsfiddle.net/Xh5HW/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T07:09:40.583

```
var btn = valButton(form.group1);
if (btn == null) alert('No radio button selected');
else alert('Button value ' + btn + ' selected'); 
```

查看[http://javascript.about.com/library/blradio.htm](http://javascript.about.com/library/blradio.htm)

# iphone - 删除后默认文档目录发生变化，在xcode中重新运行应用程序。

> ID：13411714
> 
> 赞同：0
> 
> 时间：2012-11-16T06:42:15.253
> 
> 标签：iphone, objective-c, ios5, ios4

我不确定这是否是预期的行为。

我有 xcode 4.3.2，并运行一个应用程序，在其中我通过以下代码获取默认文档目录。

```
NSArray *dirPaths;
NSString *docsDirectory;
NSString *databasePath;
dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
docsDirectory = [dirPaths objectAtIndex:0];
databasePath = [[NSString alloc] initWithString: [docsDirectory stringByAppendingPathComponent: DBNAME]];

const char *dbpath = [databasePath UTF8String];
    NSFileManager *filemgr = [NSFileManager defaultManager];
    if ([filemgr fileExistsAtPath:databasePath] == NO) {
        NSLog (@" GETDBPATHNAME: database file does not exist");
    }
    else {
        NSLog  (@" GETDBPATHNAME: Database File EXISTS");
    } 
```

用例： 1）我每次在 xcode 中运行应用程序，路径都是相同的。2）重新启动设备，并在xcode中重新运行应用程序，路径也是一样的。3）但是当我删除应用程序并在路径中重新运行时不同。怎么可能？

什么得到类似的路径：

```
/var/mobile/Applications/xxxxxxx-xxx-xxxx-xxx-xxxxxxxxxxx/Documents/ 
```

值 xxxxxxx-xxx-xxxx-xxx-xxxxxxxxxxx 声称是电话 UUID。每次怎么不一样？

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:49:39.360

每个应用程序都有一个唯一的文档目录。当您删除 APP 时，文档目录也会被删除。然后当您安装相同的应用程序时。iOS 为 APP 生成另一个目录。它从不为此目的使用以前的目录名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T08:08:46.093

每当您删除并重新安装应用程序时，此路径都会更改。

xxxxxxx-xxx-xxxx-xxx-xxxxxxxxxxx 不是电话 UUID，否则此路径对于每个应用程序都是相同的。此外，当您在应用商店更新应用程序时，此路径也会更改。

所以避免这个问题的解决办法是保存/Documents目录后面的路径，然后使用 *`stringByAppendingPathComponent:`*

在文档目录的路径之后获取完整路径。这样，您就不会对资源的路径有任何问题。

# asp-classic - 如何在 ASP 代码中写入当前日期？

> ID：13411716
> 
> 赞同：2
> 
> 时间：2012-11-16T06:42:18.640
> 
> 标签：asp-classic

我可以知道如何编写一个 ASP 代码来显示当前日期吗？例如，如果用户键入今天的日期，系统将允许，而如果用户键入以前的日期，它将阻止并显示错误消息。谢谢你。

如下是 ASP 代码

```
DIM PINVDATE,PTQTY

PINVDATE = Request.Form("PINVDATE")
PTQTY = Request.Form("PTQTY")

If TRIM(PINVDATE) = "" and TRIM(PTQTY) = "" Then

Msg = "** Mandatory Field not filled, please check !!!"

Response.Redirect "plan.asp?empid="& EmpID & "&Name=" & EmpName & "&EmpLevel=" & EmpLevel & "&ref=" & Msg

else

If TRIM(PINVDATE) = "" THEN

Msg = "** Date not filled, Please Check !!!"

Response.Redirect "plan.asp?empid="& EmpID & "&Name=" & EmpName & "&EmpLevel=" & EmpLevel & "&ref=" & Msg

else

if TRIM(PTQTY) = "" then

Msg = "** Quantity not filled, Please Check !!!"

Response.Redirect "plan.asp?empid="& EmpID & "&Name=" & EmpName & "&EmpLevel=" & EmpLevel & "&ref=" & Msg

END IF
END IF
END IF

<tr>
<th bgcolor="#8585A6" ><font color="white">Date</font></th>
<th colspan = 3 bgcolor="#ECE5B6" align=left><input type ="text" name="PINVDATE" style="text-align: left" size = 23 maxlength="30"/><font color='Red'>** Exp: YYYY-MM-DD</font></th>
</tr> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:03:49.217

检查[Date 函数](http://www.w3schools.com/vbscript/func_date.asp)和[Datediff 函数](http://www.w3schools.com/vbscript/func_datediff.asp)

```
if DateDiff("d",Date(),CDate(TRIM(PINVDATE))) <> 0 Then
'show Error 
```

# git - 如何从另一个人创建 git 提交？

> ID：13411718
> 
> 赞同：1
> 
> 时间：2012-11-16T06:42:26.890
> 
> 标签：git

我有一个其他人已经完成的项目，我希望能够创建一个补丁文件，然后导入补丁，但提交标签带有他们的用户名/电子邮件。

我从他们的源创建补丁文件并使用`git apply /path/to/patch`它来应用更改没有问题，但如果我`git commit`用我的名字标记它。

如何手动提交电子邮件/用户名？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T06:44:29.970

使用`git commit --author="John Doe <johndoe@example.com>"`. 这会将作者字段设置为指定的身份，但提交者字段将保留您的身份。这可能是您想要的（语义是“由另一个人编写，但由我提交到存储库”）。

# ios - 由于 MKMapView 应用程序经常在 pushViewController 和 PopviewController 上崩溃？

> ID：13411720
> 
> 赞同：0
> 
> 时间：2012-11-16T06:42:43.793
> 
> 标签：ios, mkmapview, mkannotationview

我是iOS开发新手，

我需要一个`MKMapView`带有自定义引脚注释和自定义标注气泡，我已经实现了这一点，当按钮单击地图视图时，我需要另一种情况，用新点刷新。为此，我尝试删除所有注释并添加新注释，但这不起作用它更改了我的自定义引脚图像，所以我以以下方式解决了这个问题，

首先，我使用 removeFromSuperView 删除了旧地图视图，并`MKMapView`使用 addsubview 以编程方式添加了新视图并在其上添加注释。

但现在的问题是，当我频繁推送和弹出视图控制器时，我的应用程序会崩溃

我做什么来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T06:54:33.493

在 viewWillDisappear 中将 mapView.delegate 设置为 nil，在 viewWillAppear 中将 mapView.delegate 设置为 self。希望它会帮助你。

# guice - 我们如何在 guice 中绑定需要辅助注入的方法拦截器？

> ID：13411723
> 
> 赞同：2
> 
> 时间：2012-11-16T06:42:54.753
> 
> 标签：guice, guice-3

我有一个使用辅助注入创建的类（WindowedCounter）。我需要将此类的工厂注入方法拦截器。现在方法拦截器只能绑定到具体实例。所以我的问题是如何巧妙地做到这一点。

下面的代码是我到目前为止想出的。我为工厂创建了一个工厂提供程序，并使用它在模块本身中获取工厂实例。然后将其绑定到两个类并用于获取绑定到拦截器的实例。但是，从 Guice 3.0 开始，FactoryProvider 类已被贬低。

Guice 3.0 的做法是什么？

我可以在模块中注入实例吗？

```
Provider<WindowedCounterFactory> wCountFactoryProvider = FactoryProvider.newFactory(WindowedCounterFactory.class, WindowedCounter.class);

bind(WindowedCounterFactory.class).toProvider(wCountFactoryProvider);

WindowedCounterFactory wCountFactory = wCountFactoryProvider.get();

bindInterceptor(Matchers.any(), Matchers.annotatedWith(RateLimited.class), new RateLimitingInterceptor(wCountFactory)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T14:17:45.863

FactoryProvider 的替代品是[FactoryModuleBuilder](http://google-guice.googlecode.com/git/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html)。相反，它将返回一个 Module `install`，但是在您的 Module 中，您可以调用[`getProvider`](http://google-guice.googlecode.com/git/javadoc/com/google/inject/AbstractModule.html#getProvider%28java.lang.Class%3cT%3e%29)以获取适用于您的类型的有效注入器创建提供程序。

理论上，在创建 Injector 之前，您不应该访问您的类型（例如，某些依赖项可能绑定在其他模块中）；这可能需要您重构以在 MethodInterceptor 中使用 Provider，或者将拦截器安装在[子注入器](http://google-guice.googlecode.com/git/javadoc/com/google/inject/Injector.html#createChildInjector%28java.lang.Iterable%3c?%20extends%20com.google.inject.Module%3e%29)中，以便您可以从“父”注入器中获取工厂的实例。

```
install(new FactoryModuleBuilder().build(WindowedCounterFactory.class));
bindInterceptor(Matchers.any(), Matchers.annotatedWith(RateLimited.class),
    new RateLimitingInterceptor(getProvider(WindowedCounterFactory.class))); 
```

# web - 当我点击播放按钮而不是下载时如何玩游戏

> ID：13411726
> 
> 赞同：1
> 
> 时间：2012-11-16T06:43:09.887
> 
> 标签：web, portal

我正在为智能手机开发示例 Web 应用程序（游戏门户）。在那个应用程序中，我有页眉、内容和页脚。

在内容中，我有带有标题、描述和播放按钮的缩略图。

我已经通过谷歌下载了一个游戏（.exe格式的泡泡游戏。当我下载任何智能手机游戏时，以.exe格式下载）并保存。保存后，我已复制并粘贴到应用程序中的特定位置，例如 layout/games/bubble.exe。

在播放链接中，只需将该位置放在 href 中。所以问题是当我单击该链接时，它会下载。

请任何人说，我点击播放按钮时如何不下载直接播放。

# mysql - 如何为此编写sql查询：

> ID：13411732
> 
> 赞同：0
> 
> 时间：2012-11-16T06:43:29.277
> 
> 标签：mysql, sql, tsql

```
mysql> select * from table3 order by id;
+------+-------+
| id   | value |
+------+-------+
|    1 | a     |
|    1 | b     |
|    1 | c     |
|    1 | d     |
|    2 | a     |
|    2 | b     |
|    3 | a     |
|    3 | b     |
|    3 | c     |
|    4 | a     |
|    4 | b     |
+------+-------+ 
```

我想**选择所有没有值 'c' 的 id**。

它不会简单地通过以下查询起作用：

```
mysql> select distinct id from table3 where value <> 'c';
+------+
| id   |
+------+
|    1 |
|    2 |
|    3 |
|    4 |
+------+ 
```

我**只需要 2 和 4**回报。

感谢您的关注！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:45:28.960

这对你有用

```
select distinct id from table3 where 
             id not in ( select id from table3 where value = 'c') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:45:55.900

```
select distinct id 
from table3 t
where not exists 
                 (select 1 from table3 where value = 'c' and id = t.id) 
```

# linux - Linux Ubuntu 桌面与服务器

> ID：13411735
> 
> 赞同：3
> 
> 时间：2012-11-16T06:43:50.503
> 
> 标签：linux, ubuntu

我想在我的电脑上托管一个网络服务器，主要是为了在上面运行 Wordpress。但我将使用 VMWare Workstation 与 Windows 一起运行它。

现在，我想知道的是，我需要**Ubuntu Server**来托管站点还是可以使用**Ubuntu Desktop**来完成工作？请注意，服务器不适合高流量，主要用于我自己和其他一些人的测试......

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T06:48:04.533

Ubuntu Desktop 可以很好地处理这项工作，您只需通过 aptitude 安装 Web 服务器、SQL 服务器等。Desktop 和 Server 之间的主要[区别在于](https://help.ubuntu.com/community/ServerFaq#What.27s_the_difference_between_desktop_and_server.3F)Server 没有 GUI 和其他“功能”——因此，如果您想运行更轻量级的实例，Server 可能是有利的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T06:56:10.257

它们略有不同，但无需重新安装即可将其转换为另一种。

服务器预装了一些软件包，如 apache，但没有 GUI。Desktop 预装了 GUI 和与 Office 相关的软件包，例如 LibreOffice。

服务器具有打包的服务器内核`linux-image-server`，桌面具有桌面内核`linux-image-generic`。

例如，您可以通过执行将桌面转换为服务器

```
sudo apt-get install linux-image-server 
```

然后您需要调整 grub.cfg 以便默认启动新内核。

服务器内核的最大区别在于它对交互任务的优先级较低，而对后台服务器任务的服务优先级更高。

# iphone - 在我的应用程序中复制 iphone 库的音乐文件

> ID：13411740
> 
> 赞同：2
> 
> 时间：2012-11-16T06:44:06.967
> 
> 标签：iphone, objective-c, nsdata, avassetwriter, mpmediapickercontroller

我想使用 MPMediaPicker 复制 iphone ipod 库的音乐文件。实际上使用 MPMediaPicker 我能够获取 ipod 音乐库的路径，但是当我在 NSData 中的 url 处转换音乐文件时，结果为空。我怀疑是否可以从 ipod 库中获取音乐文件。我不确定在尝试使用 [NSData datawithContentOfUrl:ipod-library-path] 转换 NSData 中的 url 项时是否有异常或警告。

如果有人对此或复制音乐文件的任何替代方法有任何想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:02:47.770

你正在获取音乐`Asset` `URL`文件。所以它需要`converted`进入`NSData`到.`write``iphone` `library`

请参阅[从 ALAsset url iOS](https://stackoverflow.com/a/8801656/1106035)链接获取视频 NSData。

现在`write` `data`进入`iphone` `library`.

# c - 左操作数为负时的未定义行为

> ID：13411748
> 
> 赞同：1
> 
> 时间：2012-11-16T06:44:53.007
> 
> 标签：c, bit-shift

几天前，我参加了微软 GD 在线考试，在那里实习。我一直在研究负数的左移是一种未定义的行为，但该论文在 30 个与移位运算符相关的问题中几乎有 7 个问题，其中大约 5 个问题涉及将负数向左移动，他们没有选择说“未定义”行为”。看到这一点我很震惊。所以，我的问题是这个 C 标准改变了吗？现在定义了吗？示例问题：

```
printf("%d",-1<<10);

I marked its answer as -1024 by the logic 2^10*-1 
```

我什至在 gcc 上运行了它，它给我的 o/p 为 -1024 nly（当我回到家时。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:49:39.370

规则没有改变。它在技术上仍然是不确定的。

引用 C 标准（n1548 的第 6.5.7 节第 4 段）：

> E1 << E2 的结果是 E1 左移 E2 位位置；空出的位用零填充。如果 E1 具有无符号类型，则结果的值为 E1 × 2^E2，比结果类型中可表示的最大值多模一减少。如果 E1 具有带符号类型和非负值，并且 E1 × 2^E2 在结果类型中是可表示的，那么这就是结果值；**否则，行为是未定义的。**

它清楚地表明如果`E1`不是无符号或非负值签名，则行为未定义。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:50:22.787

在移位运算符中`>>`或`<<`：

操作数应该是`integral`类型或服从`integral promotion`。

如果右操作数为负数或大于左操作数中的位，则`Undefined behaviour`

如果左操作数是负数，`>>`那么它是`implementation defiend`和`<<` `undefined behaviour`

引自 K&R 附录-A

```
 The shift operators << and >> group left-to-right. For both operators, 

        each operand must be integral, and is subject to integral the promotions. 

The type of the result is that of the promoted left operand. 
The result is undefined if the right operand is negative,
 or greater than or equal to the number of bits in the left expression's type.

            shift-expression:
            additive-expression
            shift-expression << additive-expression
            shift-expression >> additive-expression

            The value of E1<<E2 is E1 (interpreted as a bit pattern) left-shifted E2 bits;

         in the absence of overflow, this is equivalent to multiplication by 2\. The value

 of E1>>E2 is E1 right-shifted E2 bit positions. The right shift is equivalent to division

 by 2\. if E1 is unsigned or it has a non-negative value; otherwise the result is

 implementation-defined. 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-16T06:49:24.897

也许您认为正确的操作数是负数？

[http://msdn.microsoft.com/en-us/library/336xbhcz(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/336xbhcz(v=vs.80).aspx)

# javascript - 如何从页面加载时默认出现的选定文本中删除文本选择？

> ID：13411760
> 
> 赞同：4
> 
> 时间：2012-11-16T06:46:32.077
> 
> 标签：javascript, jquery, html, css

当我们刷新或重新加载页面时，当您单击下面的图像部分时，您可以在圆圈中间看到选定的文本：

1.  讨论目标和关注点
2.  现金流分析
3.  税务分析...

等等。

示例：http: [//ivyfa.advisorproducts.com/financial-planning-process](http://ivyfa.advisorproducts.com/financial-planning-process)

所选文本仅在第一次单击时出现 - 当您再次单击这些图像部分时，您将看不到所选文本。所以我也想在第一次尝试时从文本中删除选择。

我很难解释这个问题。下面是我正在使用的 JS 代码 - 我认为问题出在`ChangeText()`功能上。

```
/*----------Text change on click - Our Process page---------------*/
var prev;
var IdAry = ['slide1', 'slide2', 'slide3', 'slide5', 'slide8', 'slide9', 'slide12', 'slide13', 'slide14', 'slide15', 'slide16'];
window.onload = function() {
  for (var zxc0 = 0; zxc0 < IdAry.length; zxc0++) {
    var el = document.getElementById(IdAry[zxc0]);
    if (el) {
      setUpHandler(el);
      el.onmouseover = function() {
        $(this).addClass("hover");
      }
      el.onmouseout = function() {
        $(this).removeClass("hover");
      }
    }
  }
}
function setUpHandler(el) {
  /*---------This is used to add selected class on clicked id only and remove class selected from rest---------*/
  $("#" + IdAry.join(",#")).click(function() {
    $(this).addClass("selected");
    $("#graphics .selected").not(this).removeClass("selected");
  })
  /*---------This will add show hide class to thier spans and vise versa-------*/
  $("#" + IdAry.join(",#")).click(
    function() {
      changeText(this, "hide", "show");
    },
    function() {
      changeText(this, "show", "hide");
    })
}
function changeText(obj, cl1, cl2) {
  obj.getElementsByTagName('SPAN')[0].className = "hide";
  obj.getElementsByTagName('SPAN')[1].className = "show";
  if (prev && obj !== prev) {
    prev.getElementsByTagName('SPAN')[0].className = "show";
    prev.getElementsByTagName('SPAN')[1].className = "hide";
  }
  prev = obj
} 
```

当您单击不同的 2 图像标签时，我只想从中间的文本中删除选定的文本。

图像以查看所选文本：

![图像以查看所选文本](../Images/496dfc7cd0e283236eb130211eac1d9d.png)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-16T11:00:32.633

显示控件后，您应该清除文本选择；你可以通过调用这个函数来做到这一点（应该完全跨浏览器）：

```
function clearSelection() {
    if (window.getSelection) window.getSelection().removeAllRanges();
    else if (document.selection) document.selection.empty();
} 
```

# android - Android 应用程序在通过 Viewpager 滑动时卡住

> ID：13411762
> 
> 赞同：0
> 
> 时间：2012-11-16T06:46:47.180
> 
> 标签：android, android-viewpager

在我的 android 应用程序中，我有 3 个片段。AB 和 CI 正在做一些 XML 解析和填充列表视图。从 A 到 B 和 B 到 C 的滑动非常流畅。但是当我尝试从 C 到 B 和 B 到 A 时，它卡住了大约 10 秒。即 A->B->C 很顺畅。而 C->B->A 有问题。真的很烦人。谁能帮我解决这个问题？...谢谢进步....

这是我的 MainActivity=>

```
 public class MainActivity extends FragmentActivity {
    private ViewPager mViewPager;
    private ProgressDialog pd;
    Button settings;
    static TextView flashnews;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        SharedPreferences mlmprf = getSharedPreferences("malayalam", MODE_PRIVATE);
        final SharedPreferences.Editor mlmedit = mlmprf.edit();

        if(mlmprf.getBoolean("enable", true))
     {
         A.headflag="malayalam";
     }
     else
     {
         A.headflag="english";
     }

           flashnews=(TextView)findViewById(R.id.flashs);
       flashnews.setSelected(true);
       flashnews.setEllipsize(TruncateAt.MARQUEE);
       flashnews.setHorizontallyScrolling(true);
       flashnews.setSingleLine(true);
       flashnews.setLines(1);

      PagerTabStrip pagerTabStrip = (PagerTabStrip) findViewById(R.id.pager_title_strip);
        pagerTabStrip.setDrawFullUnderline(true);
        pagerTabStrip.setTabIndicatorColor(Color.rgb(174, 1, 34));
        mViewPager = (ViewPager) findViewById(R.id.viewpager);
            mViewPager.setAdapter(new MyAdapter(this));
      }

 private class MyAdapter extends FragmentPagerAdapter{

        private Context mContext;
        private String[] frags = {A.class.getName(), B.class.getName(),C.class.getName()};

        public MyAdapter(FragmentActivity activity) {
            super(activity.getSupportFragmentManager());
            mContext = activity;
        }

        @Override
        public Fragment getItem(int pos) {
            return Fragment.instantiate(mContext, frags[pos]);
        }

        @Override
        public int getCount() {
            return frags.length;
        }

        @Override
        public CharSequence getPageTitle(int pos) {

            if(pos==0)
            return "A";

            if(pos==1)
            return "B";

            if(pos==2)
            return "C";

            else
            return null;

        }
    } 
```

}

片段A=>

```
 public class A extends Fragment{

    public static String urls;
    // XML node keys
    static final String KEY_HEAD = "item"; // parent node
    //static final String KEY_TITLE = "title";
    static final String KEY_DATE = "pubDate";
    public static String headflag="english";
    public static String[] Title;
    public static String[] Description;
    public static String[] Tit;
    public static String[] Tit2;
    public static String[] Desc;
    public static String[] Desc2;
    public static String[] image;
    int f=0;
    GridView list;
    HeadlinesAdapter adapter;
    private TextView mMessageView;
    private Button mClearButton;
    public ArrayList<HashMap<String, String>> newsList; 

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        // Inflating layout
        View v = inflater.inflate(R.layout.headlines_fragment, container, false);
        // We obtain layout references

        return v;
    }

    @Override
    public void onViewCreated(View view, Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        // We set clear listener

        if(Headlines.headflag=="malayalam")
        {
            urls="http://www.abc.com/rssfeeds/19_18_17_25/1/rss.xml";

        }

        if(Headlines.headflag=="english")
        {
            urls="http://www.abc.com/en/rssfeeds/1_2_3_5/latest/rss.xml";

        }

    parse();
        populate_listview();    
    }

     public void populate_listview()
     {

        newsList = new ArrayList<HashMap<String, String>>();

        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(urls); // getting XML from URL
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_HEAD);
        // looping through all song nodes <song>
        NodeList itemLst = doc.getElementsByTagName("item");
        String MarqueeStr="";

        for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();
            Element e = (Element) nl.item(i);
            newsList.add(map);
            //MarqueeStr = MarqueeStr +" *** "+ Title[i];

     }

        list=(GridView)getActivity().findViewById(R.id.grid);

        // Getting adapter by passing xml data ArrayList
                 adapter=new HeadlinesAdapter(getActivity(), newsList);        
                 list.setAdapter(adapter);

    }

  public void parse()
     {

            URL url;

            try {

                url = new URL(urls);
                HttpURLConnection conn = (HttpURLConnection) url.openConnection();
                if((conn.getResponseCode() == HttpURLConnection.HTTP_OK)){
                      DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
                      DocumentBuilder db = dbf.newDocumentBuilder();
                      Document doc;
                      doc = db.parse(url.openStream());
                      doc.getDocumentElement().normalize();

                      NodeList itemLst = doc.getElementsByTagName("item");
                      Description = new String[itemLst.getLength()];//........
                      Title = new String[itemLst.getLength()];
                      Tit=new String[itemLst.getLength()];
                      Tit2=new String[itemLst.getLength()];
                      Desc=new String[itemLst.getLength()];
                      Desc2=new String[itemLst.getLength()];
                      image= new String[itemLst.getLength()];

                      for(int i=0; i < itemLst.getLength(); i++){

                            Node item = itemLst.item(i);
                            if(item.getNodeType() == Node.ELEMENT_NODE){
                                  Element ielem = (Element)item;
                                  NodeList title = ielem.getElementsByTagName("title");
                                  NodeList date = ielem.getElementsByTagName("pubDate");
                                  NodeList description = ielem.getElementsByTagName("description");
                                  Tit[i]= title.item(0).getChildNodes().item(0).getNodeValue();
                                  Desc[i]= description.item(0).getChildNodes().item(0).getNodeValue();
                                  Tit2[i]=Translate.title(Tit[i]);
                                  Desc2[i]=Translate.description(Desc[i]);
                                  if(Headlines.headflag=="malayalam")
                                    {
                                      Desc2[i]=Desc2[i].replace("read more","IqSpXÂ");
                                    }
                                  Title[i] =Tit2[i];
                                  if (Desc2[i].contains("<img ")){
                                      String img  = Desc2[i].substring(Desc2[i].indexOf("<img "));
                                      String cleanUp = img.substring(0, img.indexOf(">")+1);
                                      img = img.substring(img.indexOf("src=") + 5);
                                      int indexOf = img.indexOf("'");
                                      if (indexOf==-1){
                                          indexOf = img.indexOf("\"");
                                        }
                                      img = img.substring(0, indexOf);

                                //setImgLink(img);
                                    if(Headlines.headflag=="malayalam")
                                    {
                                        String img2=img.replace("files","files/imagecache/android_320");
                                        Description[i]=Desc2[i].replace(img,img2);
                                        image[i]=img2;
                                    }

                                else
                                {
                                    String img2=img.replace("files","files/imagecache/android_1_img");
                                    Description[i]=Desc2[i].replace(img,img2);
                                    image[i]=img2;
                                }
                                  }
                                else
                                {
                                    Description[i] =Desc2[i];
                                }

                            }

                          }

                        }
            } catch (MalformedURLException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (DOMException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (ParserConfigurationException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (SAXException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
     }

} 
```

片段 B=>

```
public class B Fragment{

    static String urls;
    // XML node keys
    static final String KEY_HEAD = "item"; // parent node
    //static final String KEY_TITLE = "title";
    static final String KEY_DATE = "pubDate";
    public static String headflag="";
    int f=0;
    GridView list;
    KeralaAdapter adapter;
    ProgressBar loading;
    ArrayList<HashMap<String, String>> newsList;
    public static Kerala classnam;

        public static String[] Title;
        public static String[] Description;
        public static String[] Tit;
        public static String[] Tit2;
        public static String[] Desc;
        public static String[] Desc2;
        public static String[] image;
        public static String[] Date;
        public static String[] Flash;
        public static String[] Fl;
        public static String[] Fl2;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        // Inflating layout
        View v = inflater.inflate(R.layout.kerala_fragment, container, false);
        // We obtain layout references

        return v;

    }

    @Override
    public void onViewCreated(View view, Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        // We set clear listener

        if(Headlines.headflag=="malayalam")
        {
            urls="http://www.abc.com/rssfeeds/17/1/rss.xml";

        }

        if(Headlines.headflag=="english")
        {
            urls="http://www.abc.com/en/rssfeeds/1/latest/rss.xml";

        }

        loading=(ProgressBar)getActivity().findViewById(R.id.loading);
        new ProgressAsyncTask().execute();

          }

     public void populate_listview()
     {

                newsList = new ArrayList<HashMap<String, String>>();

        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(urls); // getting XML from URL
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_HEAD);
        // looping through all song nodes <song>
        NodeList itemLst = doc.getElementsByTagName("item");
        String MarqueeStr="";

        for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();
            Element e = (Element) nl.item(i);

            //map.put(KEY_DATE, parser.getValue(e, KEY_DATE));

            newsList.add(map);

     }

        list=(GridView)getActivity().findViewById(R.id.grid2);

}

                  public class ProgressAsyncTask extends 
            AsyncTask<Void, Integer, Void> {

            int myProgress;

            @Override
            protected void onPreExecute() {
                // TODO Auto-generated method stub
                super.onPreExecute();
                                myProgress = 0;
                       }

            @Override
            protected void onPostExecute(Void result) {
                // TODO Auto-generated method stub
                super.onPostExecute(result);
                            adapter=new NationalAdapter(getActivity(), newsList);        
                    list.setAdapter(adapter);

                       }

            @Override
            protected Void doInBackground(Void... arg0) {
                // TODO Auto-generated method stub

                parse();
                populate_listview();
                                return null;
            }

            @Override
            protected void onProgressUpdate(Integer... values) {
                // TODO Auto-generated method stub
                       }

        }

        public void parse()
        {
            URL url;

            try {
                      url = new URL(urls);
                HttpURLConnection conn = (HttpURLConnection) url.openConnection();
                if((conn.getResponseCode() == HttpURLConnection.HTTP_OK)){
                      DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
                      DocumentBuilder db = dbf.newDocumentBuilder();
                      Document doc;
                      doc = db.parse(url.openStream());
                      doc.getDocumentElement().normalize();

                      NodeList itemLst = doc.getElementsByTagName("item");
                      Description = new String[itemLst.getLength()];//........
                      Title = new String[itemLst.getLength()];
                      Tit=new String[itemLst.getLength()];
                      Tit2=new String[itemLst.getLength()];
                      Desc=new String[itemLst.getLength()];
                      Desc2=new String[itemLst.getLength()];
                      image= new String[itemLst.getLength()];

                      for(int i=0; i < itemLst.getLength(); i++){

                            Node item = itemLst.item(i);
                            if(item.getNodeType() == Node.ELEMENT_NODE){
                                  Element ielem = (Element)item;
                                  NodeList title = ielem.getElementsByTagName("title");
                                  NodeList date = ielem.getElementsByTagName("pubDate");
                                  NodeList description = ielem.getElementsByTagName("description");
                                  Tit[i]= title.item(0).getChildNodes().item(0).getNodeValue();
                                  Desc[i]= description.item(0).getChildNodes().item(0).getNodeValue();
                                  Tit2[i]=Translate.title(Tit[i]);
                                  Desc2[i]=Translate.description(Desc[i]);
                                  if(Headlines.headflag=="malayalam")
                                    {
                                      Desc2[i]=Desc2[i].replace("read more","IqSpXÂ");
                                    }
                                  Title[i] =Tit2[i];
                                  if (Desc2[i].contains("<img ")){
                                      String img  = Desc2[i].substring(Desc2[i].indexOf("<img "));
                                      String cleanUp = img.substring(0, img.indexOf(">")+1);
                                      img = img.substring(img.indexOf("src=") + 5);
                                      int indexOf = img.indexOf("'");
                                      if (indexOf==-1){
                                          indexOf = img.indexOf("\"");
                                        }
                                      img = img.substring(0, indexOf);

                                //setImgLink(img);
                                    if(Headlines.headflag=="malayalam")
                                    {
                                        String img2=img.replace("files","files/imagecache/android_320");
                                        Description[i]=Desc2[i].replace(img,img2);
                                        image[i]=img2;
                                    }

                                else
                                {
                                    String img2=img.replace("files","files/imagecache/android_1_img");
                                    Description[i]=Desc2[i].replace(img,img2);
                                    image[i]=img2;
                                }
                                  }
                                else
                                {
                                    Description[i] =Desc2[i];
                                }

                            }

                          }

                        }
            } catch (MalformedURLException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (DOMException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (ParserConfigurationException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (SAXException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

        }

} 
```

而Fragment C实际上是一个空白Fragment。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-16T07:19:59.663

一些可以帮助您的解决方案：

1 - 在您的代码中添加日志以查看 onCreateView 和 onViewCreated 是否被多次调用。

```
public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
       View v = inflater.inflate(R.layout.kerala_fragment, container, false);

       **Log.i("Tag", "onCreateView");**        

        return v;
} 
```

2- 不要在主 UI 线程上进行网络调用或任何长时间运行的代码。例如，您正在调用 parse()，它正在您的 UI 线程上进行网络调用。这就是为什么您的应用程序有延迟的原因，尤其是在片段 A 中。使用 AsyncTask/Thread/Future

3 - 如果您有 3 个片段，只需为您的 viewPager 设置此选项：viewPager.setOffscreenPageLimit(3)。似乎您的片段每次都在重新创建。这会导致调用您的 viewCreated，从而调用您的 parse()。

4 - 您可以将数据从 doInBackground() 传递到 onPostExecute。你不需要populate_listview。

如果您需要更多解释，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T06:54:55.453

您需要在后台线程中获取数据并解析它，否则您的 Fragment 的生命周期方法将暂停更长的时间，因此您会看到它卡住了。

使用 Aysnctasks 或后台线程来执行需要很长时间才能完成的操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T06:58:47.680

作为一般规则，您应该始终在后台线程中执行长期任务，例如网络连接。在活动中，您始终可以使用`AsyncTask`. 第二件事为什么每次用户更改视图寻呼机页面时都加载提要。您最初应该只执行一次，并在后台修复间隔后刷新它...

编辑1：

实现保持可从每个片段访问的全局数据结构的一种方法，您可以使用自定义应用程序对象，并将每种语言的数据存储在该数据结构中。

每次用户访问您的页面时，都会检查全局对象中的数据是否可用，如果可用，则显示数据或显示加载。

从您的活动启动中`AsyncTask`，为每种语言从服务器加载数据，解析并将其存储在全局数据结构中。每次成功下载后，通知片段数据已在全局对象中更新，他们相应地更新他们的视图..

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-16T07:18:27.077

populateListView 必须在异步任务的 onPostExecute() 方法中完成......

# css - 从magento中的xml仅将css添加到主页

> ID：13411764
> 
> 赞同：6
> 
> 时间：2012-11-16T06:47:09.413
> 
> 标签：css, xml, magento

想要包含仅适用于 xml 文件中的主页的 css 文件。
试过这个：

```
<cms_index_index>
 <action add css>
   .
   .
 </action> 
</cms_index_index> 
```

在 local.xml 中使用它会在每个 cms 页面中添加特定的 css。
任何想法 ？
提前致谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-16T10:34:08.720

在 cms 主页中有 Design(Layout Update XML) 使用下面的代码

```
<reference name="head">
 <action method="addItem"><type>skin_js</type><name>js/myjavascript.js</name></action>
</reference> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-02-24T05:28:01.427

这个解决方案对我有用

```
<cms_index_index translate="label">
    <label>CMS Home Page</label>
             <reference name="head">
                  <action method="addCss">
                     <stylesheet>
                               css/custom.css /*This is ur css path*/
                     </stylesheet>
                  </action>
             </reference>
</cms_index_index> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-18T04:30:11.877

结合@Leo 的[回答](https://stackoverflow.com/a/13414845/63609)以及我最近发现的[另一篇博客文章](http://www.classyllama.com/development/magento-development/the-better-way-to-modify-magento-layout)，这里有一个代码片段，仅将自定义 css 添加到单个页面。

```
<reference name="head">
    <action method="addCss">
        <stylesheet>css/custom.css</stylesheet>
    </action>
</reference> 
```

与@Leo 提到的说明相同。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-16T07:28:03.133

尝试这个

```
<cms_index_index>
    <reference name="your cms identifier for home page">
        <action method="addCss"><stylesheet>your path/your css file name</stylesheet></action>
    </reference>
</cms_index_index> 
```

请使用此代码`local.xml`或`page.xml`

我不是 100% 确定代码是否工作

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-10-02T17:55:25.850

以上建议在 Magento 1.7 空白主题中对我不起作用。起作用的是：

```
<reference name="head">
    <action method="addCSS">
      <type>css/master.css</type>
      <stylesheet>media="all"</stylesheet>
    </action>
  </reference> 
```

这产生了以下代码

```
<head><link rel="stylesheet" type="text/css" href="http://myshop.com/shop/skin/frontend/mytheme/blank/css/master.css" media="all"></head> 
```

我将此代码放入主题的 local.xml 中。

# python - 哈希密码从不脱盐

> ID：13411766
> 
> 赞同：3
> 
> 时间：2012-11-16T06:47:17.230
> 
> 标签：python, mysql, passwords, flask

我正在使用烧瓶微框架并使用 msyql 后端手动设置身份验证。

我的 sql 脚本以这种数据类型存储散列密码：`VARCHAR(50)`，在它由`generate_password_hash`函数生成之后：

```
 `Password` VARCHAR(50) NOT NULL , 
```

我认为VARCAHR（50）绰绰有余......

这些是我正在使用的以下库：

```
from werkzeug import check_password_hash, generate_password_hash

@app.route('/login/', methods=['GET', 'POST'])
def login():
    """Logs the user in."""
    if g.user: return redirect(url_for('main'))
    error = None
    if request.method == 'POST':
        sql = "select password, userid from users where username = " + stringify(request.form['username'])
        cursor = g.db.cursor()
        cursor.execute(sql)
        user = cursor.fetchall()
        user = user[0]
        password = user[0]
        userid = user[1]
        if user is None:
            error = 'Invalid username'
        elif not check_password_hash(password, request.form['password']):
            error = 'Invalid password'
        else:
            flash('You were logged in')
            session['userid'] = userid
            return redirect(url_for('main'))
    return render_template('login.html', error=error) 
```

所以这就是问题所在：

```
elif not check_password_hash(password, request.form['password']): 
```

总是返回假。

更新：我在注册时得到了这个：

```
Users/Dave/Websites/fh/app.py:143: Warning: Data truncated for column 'Password' at row 1
  g.db.cursor().execute("insert into users (username, email, password) values (%s, %s, %s)" % (username, email, password,)) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T18:41:09.947

您实际上并不需要 160 个字符。

```
>>> from werkzeug.security import generate_password_hash
>>> generate_password_hash("test")
'sha1$lYmusy7y$8fc97f79a9809ab4eaee4de08d1e182d04f3dc07'
>>> len(generate_password_hash("test"))
54 
```

使用默认哈希算法 sha1 就足够了。

在这里查看这是如何生成的： [http ://werkzeug.pocoo.org/docs/utils/#werkzeug.security.generate_password_hash](http://werkzeug.pocoo.org/docs/utils/#werkzeug.security.generate_password_hash)

你使用了尴尬的术语：“desalts”——使用这种方法，任何东西都不会以任何方式解密。

请阅读一些关于这一切如何运作的信息，您对用户的安全负责。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T07:00:34.343

将mysql中的数据类型设置为 `Password VARCHAR(160) NOT NULL`

# wordpress - WordPress主页标题

> ID：13411768
> 
> 赞同：0
> 
> 时间：2012-11-16T06:47:36.190
> 
> 标签：wordpress, seo, title

我的主页标题显示为最后创建的博客文章的标题。

代码是：

```
<title><?php bloginfo('name'); ?></title> 
```

所以据我了解，应该在主页上显示博客标题（在常规设置中设置）。

但它不是。它显示最新的帖子标题。

我需要寻找什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:26:01.320

`wp_title()`用于显示正在显示的页面的标题，但它使用查询结果来获取其值。因此，如果您在许多帖子上执行循环（显然您在主页上）并且您没有重置它，您将获得循环中最后一篇帖子的标题......合乎逻辑。此外，请注意主页是您主题中的 index.php，它不是 WordPress 中的真实页面。所以它没有标题。所以`wp_title()`在这里对你没有任何用处。基本上，您的主页没有任何标题。因此，如果此模板既适用于您的主页，也适用于其他页面，则需要进行条件检查：

这是主页吗？（使用`is_home()`） A. 是的，回显“欢迎来到我的伟大网站” B. 不，wp_title()，它将回显您所在页面的标题...

你明白吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:55:18.293

首先，您在这里执行两个函数—— [wp_title](http://codex.wordpress.org/Function_Reference/wp_title)，它检索访问者当前所在*页面*的标题，然后是[bloginfo](http://codex.wordpress.org/Function_Reference/bloginfo)，它使用参数 'name' 确实获取配置中设置的博客名称。

但是，您的代码中有一个小错误；你会得到如下期望的结果：

```
<title>
    <?php
        wp_title('&#124;', true, 'right');
        bloginfo('name');
    ?>
</title> 
```

您应该阅读`wp_title`WP Codex 上的参数；的| 例如，给你一个分隔符，'right' 告诉函数在哪里输出所述分隔符。

注意：我建议您同时显示帖子标题和博客名称，因为只有每个页面上的博客名称对访问者没有帮助，并且会在搜索引擎结果中产生 por 结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T00:39:33.803

我发现了你的问题！您的代码中的错误：在（您已编写）`>`之后删除，因此：`<?php``<?php>`

```
<?php> bloginfo('name'); ?> 
```

现在应该变成这样：

```
<?php bloginfo('name'); ?> 
```

它会起作用的！

# jquery - 如何在 jquery UI datepicker 中将 maxDate 设置为当前选定日期的第 n 天

> ID：13411770
> 
> 赞同：0
> 
> 时间：2012-11-16T06:47:43.323
> 
> 标签：jquery, jquery-plugins, jquery-ui-datepicker

我在我的网站中使用 Jquery UI 日期选择器

我有一个 From 和 To 字段，我的要求是在用户选择 From 日期之后，To 字段日期选择器应该从 From 日期开始并在 14 天后结束。

我该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:27:26.583

您可能正在寻找这样的东西：

```
var datepickersOpt = {
    firstDay: 1,
    minDate: 0,
    maxDate: "+1Y",
}

$("#from").datepicker($.extend({
    onSelect: function(selectedDate) {
        var minDate = $(this).datepicker('getDate');
        minDate.setDate(minDate.getDate() + 14);
        $("#to").datepicker("option", "minDate", minDate);
    }
}, datepickersOpt));

$("#to").datepicker($.extend({}, datepickersOpt));​ 
```

[**小提琴**](http://jsfiddle.net/LYLpT/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T08:15:49.450

我想这就是你要找的。[这是一个小提琴。](http://jsfiddle.net/6NhbM/)

​</p>

```
$​(document).ready(function() {
    $("#from").datepicker({
        minDate: 'today', 
        maxDate:'+1Y', 
        onSelect: function() {
            var minToDate = $(this).datepicker('getDate');
            var maxToDate = $(this).datepicker('getDate');
            maxToDate.setDate(maxToDate.getDate()+14);
            $("#to").datepicker("option", "minDate", minToDate);
            $("#to").datepicker("option", "maxDate", maxToDate);
}});
    $("#to").datepicker();
});​ 
```

# php - Kohana 动态路线

> ID：13411772
> 
> 赞同：0
> 
> 时间：2012-11-16T06:47:49.427
> 
> 标签：php, kohana, kohana-3

你如何设置这样的动态路由：

```
/admin/user/edit -> controller=admin_user, action=edit
/admin/user/view -> controller=admin_user, action=view
/admin/page/edit -> controller=admin_page, action=edit 
```

在哪里`/admin/page`转换为控制器`admin_page`，或自动：`/admin/(.*)`到`admin_$1`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:16:31.883

您可以将所有`admin`控制器放入`admin`目录中，以便您的控制器具有类似的名称`user`，`page`等等。

结构如下：

```
controller/
    admin/
        user.php
        page.php 
```

路线：

```
Route::set('admin', 'admin/<controller>/<action>')
    ->defaults(array(
        'directory' => 'admin',
    )); 
```

# c# - 找不到类型“日历”

> ID：13411776
> 
> 赞同：0
> 
> 时间：2012-11-16T06:48:14.380
> 
> 标签：c#, windows-phone-7, xaml, calendar

我尝试在 xaml 页面中创建日期选择器，如下所示：

```
<Calendar /> 
```

但是，VS 给了我一个未找到类型的错误。是否需要包含参考才能使其正常工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:13:44.960

使用适用于 Windows Phone 7 的 SilverLight 工具包中提供的*DatePicker* 控件。您可以参考[windows phone 极客文章](http://www.windowsphonegeek.com/articles/wp7-datepicker-and-timepicker-in-depth--api-and-customization)教程开始使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T07:34:51.913

该类`Calendar`只是用于日期和时间计算的数据类型。要从 UI 中选择日期，您应该使用`DatePicker`前面提到的控件`op_amp`

用法见 MSDN：[MSDN](http://msdn.microsoft.com/de-de/library/system.windows.controls.datepicker.aspx)

# facebook - 提交后更改 Facebook 应用的名称

> ID：13411777
> 
> 赞同：0
> 
> 时间：2012-11-16T06:48:18.127
> 
> 标签：facebook

Facebook应用程序提交并上线后如何更改名称？我只是想让应用程序名称更短。那么如何在不更改应用 URL 的情况下做到这一点呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T07:23:05.010

您可以在开发者设置@developers.facebook.com / *appid* /summary中更改应用名称

# java - 如何在java中的方法中从mysql数据库中获取数据？

> ID：13411779
> 
> 赞同：1
> 
> 时间：2012-11-16T06:48:43.477
> 
> 标签：java, jdbc

我在“mysql”的某个模式中有一个代表表，该表有一个名为“userName”的列。现在为了登录到程序，我需要从框架中的文本字段中获取数据并使用该列中的所有用户名检查它（用户名列有不止一行！）并且如果用户名 jtextfield 中的文本等于其中一个行，则允许登录！我需要一种方法来做到这一点。我写了一些东西，但它不起作用！这里 ：

```
`public static boolean checkRep(String user, String pass) {
        String sql = "SELECT * FROM representative";
        Connection con = DBManager.getConnection();
        PreparedStatement st = null;
        try {
            st = con.prepareStatement(sql);
            ResultSet rs = st.executeQuery(sql);
            while (rs.next()){
                if(user == rs.getString("passWord")){
                    System.out.println("Right");
                }
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return true;
    }` 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:53:17.713

我认为你应该试试这个

```
....
   if (user.equals(rs.getString("passWord"))
.... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:54:14.150

您的查询应该更具体，例如`"SELECT * FROM representative where user=? and passWord =?";` And in`prepareStatement`应该设置那些动态值

```
st = con.prepareStatement(sql);
st.setString(1,user);
st.setString(2,pass); 
```

你需要检查结果，比如 -

```
 //no while
if(rs.next()){
     System.out.println("user found in db");
     return true;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T06:51:09.053

`equals`问题在于 if.Always 使用方法检查字符串相等性检查中的字符串相等性。`==`运算符检查两个引用变量是否指向同一个对象。它检查两个参考变量是否相同。equals 方法检查两个对象是否被认为有意义地相等。

```
if(user == rs.getString("passWord")){

should be

if(user.equals(rs.getString("passWord"))){ 
```

# jquery-masonry - 在一定数量的帖子后无限滚动完成

> ID：13411780
> 
> 赞同：0
> 
> 时间：2012-11-16T06:48:51.543
> 
> 标签：jquery-masonry, infinite-scroll, wordpress

我在 wordpress 网站上使用 Paul Irish 的无限滚动和砌体 js。这是一个内容丰富的网站。我希望 infintescroll 在到达第 40 号帖子时停止添加新内容，并在此时给出“无附加项目”消息。我尝试自定义 wordpress 循环以仅返回 40 个帖子，但这似乎不起作用。

我认为infinitecroll 中的一个选项可能会起作用，但infintescroll 文档非常稀疏。例如，“加载”初始化部分中有一个名为“完成：未定义”的无限滚动选项是否可以更改该参数以在一定数量的内容项后停止滚动？

是否有其他明显的方法来控制无限滚动何时停止加载新内容？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-22T02:01:18.913

在管理 -> 设置 -> 阅读中，您可以将博客页面显示最多设置为 40。

使用代码：我通过数字完成砌体的两种方法，例如您的问题，我在以下方面取得了成功：

在查询参数中限制**posts_per_page**

```
$args = array(
 'posts_per_page'   => 40,
 'offset'           => 5,
 'orderby'          => 'post_date',
 'order'            => 'DESC',
 'exclude'          => 'none',
 'post_type'        => 'post',
 'post_status'      => 'publish',
 'suppress_filters' => true 
); 

$posts = new WP_Query( $args );
if ( $posts -> have_posts()) {
    while ( $posts -> have_posts() ) : $posts->the_post();  {
    //do stuff with the posts returned here

    }
} 
```

或通过递增：

```
$counts = 0 ;
$posts = new WP_Query( $args );

if ( $posts -> have_posts()) {
    while ( $posts -> have_posts() ) : $posts->the_post();  {
      //do stuff with the posts returned here
      $counts = ++;
      if($counts == 40) { return }
    }
} 
```

# python - 查看 Python 2.6 源代码

> ID：13411783
> 
> 赞同：2
> 
> 时间：2012-11-16T06:49:12.483
> 
> 标签：python

我想知道`max()`内置函数是如何工作的。所以我试图阅读源代码`svn.python.org`，但我找不到`__builtin__`模块。它应该在`__builtin__.py`，对吗？

有人能告诉我在哪里可以找到这个模块的源代码吗？这在`ubuntu linux`（有 2.6 版本）中可用吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T06:51:05.103

`__builtin__`顾名思义，是指包含语言本身内置的函数和类的特殊模块。[这些函数的实现](http://svn.python.org/projects/python/trunk/Python/bltinmodule.c)是用 C 语言而不是 Python 语言实现的。（具体来说，在`bltinmodule.c`源文件中。）

# php - 根据搜索字符串出现php对数组进行排序

> ID：13411788
> 
> 赞同：0
> 
> 时间：2012-11-16T06:49:24.090
> 
> 标签：php, mysql, multidimensional-array, sorting

我想根据 php 中搜索字符串的出现对二维数组进行排序。我试图根据搜索字符串的相关性来获取数据。我遇到了比赛和反对，但它可以在MYISAM上工作，但我的桌子在innodb中。所以计划使用任何排序函数对数组进行排序，但我什么也找不到。

我的搜索**压力测试**字符串数组

```
 Array
   (
      [0] => pressure
       [1] => tes
    ) 
```

我的输出数组匹配上面的字符串和标题是

```
 Array
(
[0] => Array
    (
        [title] => tests.doc
        [link] => http://localhost/test.doc
        [snippet] => 
    )

[1] => Array
    (
        [title] => Pressure Testing Your Company
        [link] => http://localhost/Pressure_Testing_Your_Companys.pdf
        [snippet] => Questions used by the CFO against dimensions critical to success
    )

[2] => Array
    (
        [title] => pressure.doc
        [link] => http://localhost/pressure.doc
        [snippet] => Templates for services
    ) 
```

)

在上面的数组中，最相关的 array[1] 然后是 array[2] 然后是 array[0] 应该是这个顺序。我想相应地对这个数组进行排序。**我的输出应该如下所示**：

```
 Array
(

[0] => Array
    (
        [title] => Pressure Testing Your Company
        [link] => http://localhost/Pressure_Testing_Your_Companys.pdf
        [snippet] => Questions used by the CFO against dimensions critical to success
    )

[1] => Array
    (
        [title] => pressure.doc
        [link] => http://localhost/pressure.doc
        [snippet] => Templates for services
    )
[2] => Array
    (
        [title] => tests.doc
        [link] => http://localhost/test.doc
        [snippet] => 
    )

) 
```

请帮我！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:17:25.930

看看例子#3，我想这就是你想要的。

[http://php.net/manual/en/function.array-multisort.php](http://php.net/manual/en/function.array-multisort.php)

刚刚测试了这个，它似乎正在工作：

```
$titles = array();

foreach ( $array as $key => $value ) 
{
    $titles[ $key ] = $value['title'];
} 

array_multisort( $titles, SORT_ASC , $array ); 
```

我强烈建议您在 MySQL 查询中对结果进行排序，这样性能会好得多。

# c++ - 如何获取本地网络上所有设备的名称和 ip？

> ID：13411789
> 
> 赞同：1
> 
> 时间：2012-11-16T06:49:24.223
> 
> 标签：c++, objective-c, macos, local-network

我的目标是列出本地网络上所有设备的名称和 ip。

[在 iPhone 上列出本地网络上的所有计算机名称，](https://stackoverflow.com/questions/7835157/list-all-the-computer-names-on-a-local-network-on-iphone)类似于这篇文章，但没有得到答复。

我研究过 Apples Bonjour，但认为这不是我需要的。它不会显示网络上的所有设备。

我也尝试了下面的代码，但我得到了奇怪的输出（下）。

```
int sock;
struct ifconf ifconf;
struct ifreq ifreq[30];
int interfaces;
int i;

// Create a socket or return an error.
sock = socket(AF_INET, SOCK_STREAM, 0);
if (sock < 0)
    diep("socket");

// Point ifconf's ifc_buf to our array of interface ifreqs.
ifconf.ifc_buf = (char *) ifreq;

// Set ifconf's ifc_len to the length of our array of interface ifreqs.
ifconf.ifc_len = sizeof ifreq;

//  Populate ifconf.ifc_buf (ifreq) with a list of interface names and addresses.
if (ioctl(sock, SIOCGIFCONF, &ifconf) == -1)
    diep("ioctl");

// Divide the length of the interface list by the size of each entry.
// This gives us the number of interfaces on the system.
interfaces = ifconf.ifc_len / sizeof(ifreq[0]);

// Print a heading that includes the total # of interfaces.
printf("IF(%d)\tIP\n", interfaces);

// Loop through the array of interfaces, printing each one's name and IP.
for (i = 0; i < interfaces; i++) {
    char ip[INET_ADDRSTRLEN];
    struct sockaddr_in *address = (struct sockaddr_in *) &ifreq[i].ifr_addr;

    // Convert the binary IP address into a readable string.
    if (!inet_ntop(AF_INET, &address->sin_addr, ip, sizeof(ip)))
        diep("inet_ntop");

    printf("FOUND: %s\t%s\n", ifreq[i].ifr_name, ip);
}

close(sock); 
```

这是输出，我真的无法理解。

```
FOUND: lo0  24.3.0.0
FOUND:  28.30.0.0
FOUND:  0.0.0.0
FOUND:  0.0.0.0
FOUND:  0.0.0.1
FOUND: ip0  112.100.112.95
FOUND: pdp_ip1  255.7.0.0
FOUND:  20.18.4.0
FOUND: ip2  0.0.0.0
FOUND: ap1\256\372\272J\221\253 0.0.0.0
FOUND:  105.112.50.0
FOUND:  254.74.145.171
FOUND: ip2  0.0.0.0
FOUND: ip2  101.110.49.142
FOUND: awdl0    6.5.6.0
FOUND: \273Y\311    28.30.0.0 
```

我想看到这样的输出：

```
My-Mac    192.168.0.21
My-iPad   192.168.0.22
Mum's iPhone 192.168.0.23 
```

Objective-C 或 C++ 中的解决方案会很有用。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-24T10:41:07.020

Just dug up this project again...and this is my attempt at sharing the code as @PRSingh requested...hope it helps.

Defined in my .h

```
 NSNetServiceBrowser *serviceBrowser;
 NSNetService *service;
 NSMutableArray* snames;
 NSMutableArray* sips;
 UIActivityIndicatorView* spinner; 
```

In my .m

```
#pragma mark - NSNetServiceDelegate Methods

- (void)netServiceWillResolve:(NSNetService *)sender {
    NSLog(@"netServiceWillResolve");

    serviceBrowser = [[NSNetServiceBrowser alloc] init];
    if(!serviceBrowser) {
        NSLog(@"The NSNetServiceBrowser couldn't be allocated and initialized.");
    }
    serviceBrowser.delegate = self;
    [serviceBrowser searchForServicesOfType:@"_type._tcp." inDomain:@"local."];
}

- (void)netServiceWillPublish:(NSNetService *)netService
{
    NSLog(@"netServiceWillPublish");
}

- (void)netServiceDidPublish:(NSNetService *)sender {
    NSLog(@"netServiceDidPublish");
}

- (void)netService:(NSNetService *)sender didNotPublish:(NSDictionary *)errorDict {
    NSLog(@"didNotPublish");
}

- (void)netServiceDidResolveAddress:(NSNetService *)netService {
    NSLog(@"netServiceDidResolveAddress");
    for (NSData* data in [netService addresses]) {

        char addressBuffer[100];

        struct sockaddr_in* socketAddress = (struct sockaddr_in*) [data bytes];

        int sockFamily = socketAddress->sin_family;

        if (sockFamily == AF_INET /*|| sockFamily == AF_INET6*/) {

            const char* addressStr = inet_ntop(sockFamily,
                                               &(socketAddress->sin_addr), addressBuffer,
                                               sizeof(addressBuffer));

           // int port = ntohs(socketAddress->sin_port);

            if (addressStr){
                if(![sips containsObject:[NSString stringWithFormat:@"%s",addressStr]]){
                    [snames addObject:netService.name];
                    [sips addObject:[NSString stringWithFormat:@"%s",addressStr]];
                    [self.tableView reloadSections:[NSIndexSet indexSetWithIndex:0] withRowAnimation:UITableViewRowAnimationFade];
                }
            }

        }

    }
}

- (void)netService:(NSNetService *)sender didNotResolve:(NSDictionary *)errorDict {
    NSLog(@"didNotResolve: %@",errorDict);
}

- (void)netService:(NSNetService *)sender didUpdateTXTRecordData:(NSData *)data {
    NSLog(@"didUpdateTXTRecordData");
}

- (void)netServiceDidStop:(NSNetService *)netService {
    NSLog(@"netServiceDidStop");
}

#pragma mark - NSNetServiceBrowserDelegate Methods

- (void)netServiceBrowser:(NSNetServiceBrowser *)netServiceBrowser didFindService:(NSNetService *)netService moreComing:(BOOL)moreServicesComing {
    NSLog(@"didFindService: %@  lenght:%d",netService.name,[netService.name length]);
    [services addObject:netService];
}

- (void)netServiceBrowser:(NSNetServiceBrowser *)netServiceBrowser didRemoveService:(NSNetService *)netService moreComing:(BOOL)moreServicesComing {
    [services removeObject:netService];
    [netService stop];
    int index = [snames indexOfObject:netService.name];
    [snames removeObjectAtIndex:index];
    [sips removeObjectAtIndex:index];
    [self.tableView reloadSections:[NSIndexSet indexSetWithIndex:0] withRowAnimation:UITableViewRowAnimationFade];

    NSLog(@"didRemoveService");
} 
```

For this to work I believe that all devices on the network need to be running bonjour with a 'type' of '_type_.tcp' (or what ever name you give it). You can play around with the type just to see what devices on your local network are already on certain service types ([https://developer.apple.com/library/mac/qa/qa1312/_index.html](https://developer.apple.com/library/mac/qa/qa1312/_index.html)).

# c# - 如果出现任何窗口，请做出反应

> ID：13411792
> 
> 赞同：-2
> 
> 时间：2012-11-16T06:49:37.670
> 
> 标签：c#, winforms

如果出现任何窗口，我希望在我的应用程序中有一个事件。例如，如果我打开 windows-explorer，那么我的应用程序应该能够识别并做出反应。

这在c#中可能吗？

我已经知道我需要重写 WndProc 方法。但是现在我需要知道创建新窗口时会出现哪条消息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:48:02.480

您正在寻找的窗口消息是 WM_ACTIVATEAPP。请参阅[http://msdn.microsoft.com/en-us/library/ms632614(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ms632614(v=vs.85).aspx)

# ios - MFMailComposeViewController 在 iOS 4.3 上挂起应用程序

> ID：13411793
> 
> 赞同：1
> 
> 时间：2012-11-16T06:49:37.723
> 
> 标签：ios, mfmailcomposeviewcontroller, ios4

我使用下面的代码发送邮件：

```
MFMailComposeViewController *picker = [[MFMailComposeViewController alloc] init];
picker.mailComposeDelegate = self;
[picker setSubject:@"my title"];
NSMutableString *emailBody = [[NSMutableString alloc] initWithString:  @"Hi\n\n"];
[emailBody appendString: @"test"];  
[picker setMessageBody:emailBody isHTML:NO];
[self presentModalViewController:picker animated:YES];
[picker release];
[emailBody release]; 
```

该代码在旧操作系统版本（Base SDK 5.0，部署目标 4.0）上运行良好。我刚刚升级到 Xcode 4.5，以 iOS 6.0 作为基础 SDK，部署目标仍然是 4.3，并且代码在 5.0、5.1 和 6.0 的模拟器上仍然运行良好。

现在我使用 iOS 4.3.3 将应用程序安装到 iPad。`MFMailComposeViewController`没有出现，它占用并且应用程序停止工作。我检查了设备日志，它显示：

```
Incident Identifier: 53CF815B-36FB-4523-8E58-03D80E6BD2D6
CrashReporter Key:   e1ce74069fc4d91cdf244ef60282649f2ea4716e
Hardware Model:      iPad1,1
Process:         MyApp [1018]
Path:            /var/mobile/Applications/75088803-4768-4CD6-A561-553F4A182229/MyApp.app/MyApp
Identifier:      MyApp
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2012-11-16 14:29:59.959 +0800
OS Version:      iPhone OS 4.3.3 (8J3)
Report Version:  104

Exception Type:  00000020
Exception Codes: 0x8badf00d
Highlighted Thread:  0

Application Specific Information:
MyApp[1018] has active assertions beyond permitted time: 
{(
    <SBProcessAssertion: 0x1fa0dd00> identifier: Suspending process: MyApp[1018] permittedBackgroundDuration: 10.000000 reason: suspend owner pid:30 preventSuspend  preventThrottleDownCPU  preventThrottleDownUI 
)}

Elapsed total CPU time (seconds): 0.770 (user 0.460, system 0.310), 8% CPU 
Elapsed application CPU time (seconds): 0.000, 0% CPU

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0:
0   libsystem_kernel.dylib          0x332e5c00 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x332e5758 mach_msg + 44
2   AppSupport                      0x33bbb7b8 CPDMTwoWayMessage + 164
3   AppSupport                      0x33bba530 -[CPDistributedMessagingCenter _sendMessage:userInfoData:oolKey:oolData:makeServer:receiveReply:nonBlocking:error:] + 352
4   AppSupport                      0x33bba0b2 -[CPDistributedMessagingCenter _sendMessage:userInfo:receiveReply:error:toTarget:selector:context:nonBlocking:] + 618
5   AppSupport                      0x33bb91ae -[CPDistributedMessagingCenter _sendMessage:userInfo:receiveReply:error:toTarget:selector:context:] + 58
6   AppSupport                      0x33bb9312 -[CPDistributedMessagingCenter sendMessageAndReceiveReplyName:userInfo:] + 42
7   MessageUI                       0x3693c1fa _CallMessageUIServiceMethod + 182
8   MessageUI                       0x3693c01e +[MFMailAccountProxy reloadAccounts] + 22
9   MessageUI                       0x3693bf6c +[MFMailComposeController _refreshMailAccountsIfNecessary] + 32
10  MessageUI                       0x3693bf2a +[MFMailComposeController isSetupForDelivery] + 10
11  MessageUI                       0x3693be80 +[MFMailComposeViewController canSendMail] + 24
12  MessageUI                       0x3693bc36 -[MFMailComposeViewController initWithComposition:contentSize:mailComposeControllerOptions:] + 42
13  MessageUI                       0x3693bbf8 -[MFMailComposeViewController initWithComposition:] + 28
14  MessageUI                       0x36963fac -[MFMailComposeViewController initWithNibName:bundle:] + 44
15  UIKit                           0x329e8a0c -[UIViewController init] + 12
16  MyApp                       0x000d09ee 0xb5000 + 113134
17  MyApp                       0x000e3820 0xb5000 + 190496
18  UIKit                           0x32ad1036 -[UIActionSheet(Private) _buttonClicked:] + 186
19  CoreFoundation                  0x32dc956a -[NSObject(NSObject) performSelector:withObject:withObject:] + 18
20  UIKit                           0x329ceec2 -[UIApplication sendAction:to:from:forEvent:] + 78
21  UIKit                           0x329cee62 -[UIApplication sendAction:toTarget:fromSender:forEvent:] + 26
22  UIKit                           0x329cee34 -[UIControl sendAction:to:forEvent:] + 32
23  UIKit                           0x329ceb86 -[UIControl(Internal) _sendActionsForEvents:withEvent:] + 350
24  UIKit                           0x329cf41c -[UIControl touchesEnded:withEvent:] + 336
25  UIKit                           0x329cdbee -[UIWindow _sendTouchesForEvent:] + 362
26  UIKit                           0x329cd568 -[UIWindow sendEvent:] + 256
27  UIKit                           0x329b630c -[UIApplication sendEvent:] + 292
28  UIKit                           0x329b5c4c _UIApplicationHandleEvent + 5084
29  GraphicsServices                0x35c8ee70 PurpleEventCallback + 660
30  CoreFoundation                  0x32e30a90 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 20
31  CoreFoundation                  0x32e32838 __CFRunLoopDoSource1 + 160
32  CoreFoundation                  0x32e33606 __CFRunLoopRun + 514
33  CoreFoundation                  0x32dc3ebc CFRunLoopRunSpecific + 224
34  CoreFoundation                  0x32dc3dc4 CFRunLoopRunInMode + 52
35  GraphicsServices                0x35c8e418 GSEventRunModal + 108
36  GraphicsServices                0x35c8e4c4 GSEventRun + 56
37  UIKit                           0x329e0d62 -[UIApplication _run] + 398
38  UIKit                           0x329de800 UIApplicationMain + 664
39  MyApp                       0x000c95a4 0xb5000 + 83364
40  MyApp                       0x000b73b8 0xb5000 + 9144

Thread 1 name:  Dispatch queue: com.apple.libdispatch-manager
Thread 1:
0   libsystem_kernel.dylib          0x332e8fbc kevent + 24
1   libdispatch.dylib               0x33abc032 _dispatch_mgr_invoke + 706
2   libdispatch.dylib               0x33abd03a _dispatch_queue_invoke + 86
3   libdispatch.dylib               0x33abc5ea _dispatch_worker_thread2 + 186
4   libsystem_c.dylib               0x363d958a _pthread_wqthread + 258
5   libsystem_c.dylib               0x363d9bbc start_wqthread + 0

Thread 2 name:  WebThread
Thread 2:
0   libsystem_kernel.dylib          0x332e5c00 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x332e5758 mach_msg + 44
2   CoreFoundation                  0x32e312b8 __CFRunLoopServiceMachPort + 88
3   CoreFoundation                  0x32e33562 __CFRunLoopRun + 350
4   CoreFoundation                  0x32dc3ebc CFRunLoopRunSpecific + 224
5   CoreFoundation                  0x32dc3dc4 CFRunLoopRunInMode + 52
6   WebCore                         0x31e5c27e RunWebThread(void*) + 382
7   libsystem_c.dylib               0x363d830a _pthread_start + 242
8   libsystem_c.dylib               0x363d9bb4 thread_start + 0 
```

欢迎任何评论。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:36:18.920

堆栈跟踪看起来这不是您的错，它是系统代码挂起并导致您的应用程序被杀死。开发者论坛中有一个[帖子](https://devforums.apple.com/message/553622)（非公开链接，抱歉）表明这可能与系统 Mail.app 相关联。

我会尝试重新启动设备和类似的技巧，但最终你的应用程序在 4.3 上可能仍然不稳定。你*真的*需要支持4.3吗？

# delphi - 我可以在 FormCreate() 中做什么和不可以做什么？

> ID：13411796
> 
> 赞同：3
> 
> 时间：2012-11-16T06:49:41.800
> 
> 标签：delphi

我认为这一定是一个常见问题解答，但谷歌搜索并没有真正帮助。

我可以做什么，不可以做什么`FormCreate()`？

我想知道是否所有表单的子控件都已完全创建并可用于访问等。

我问的原因是我偶然发现了一个旧项目，我的`FormCreate()`只是由

```
Sleep(1000);  
PostMessage(Handle, UM_PROGRAM_START, 0, 0); 
```

看来我想“稍等一下”，然后“当事情安定下来”做一些初始化......

我当时肯定有理由这样做（？），但是，在没有启发性的评论的情况下，我无法回忆起为什么我觉得这是必要的。

任何人都可以说明或引用一个链接，该链接说明了对一个人可以做什么的任何限制`FormCreate()`？

* * *

[更新] 我认为 DavidHefferman 在写“应用程序开始发送消息时找到了解决方案。当您在 .dpr 文件中调用 Application.Run 时会发生这种情况”。

我想我并不关心单一的形式。例如，我的主表单想在启动时对我的配置/选项表单做一些事情，所以显然必须等到它被创建。

这是我的一个项目中的典型 .DPR ...

```
Application.Initialize;
Application.CreateForm(TGlobal, Global);
Application.MainFormOnTaskbar := True;
Application.CreateForm(TMainForm, MainForm);

Application.CreateForm(TLoginForm, LoginForm);
Application.CreateForm(TConfigurationForm, ConfigurationForm);

//[snip] a bunch of other forms ...

Application.Run(); 
```

`mainForm.CreateForm()`因此，我的应用程序向其自身发送 a是有意义的，`UM_APPLICATION_START`在创建和初始化所有表单之前它不会处理（或者，我可以只调用 fn() ，在调用之后从我的 .DPR 触发消息`Application.Run()`；但是我更喜欢这条信息，因为它更明显——我很少查看我的 .DPR 文件）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-16T06:56:15.750

没有明确的文档列出您在表单的 OnCreate 中可以做和不能做的所有事情。

至于 .dfm 文件是否已处理并创建了所有表单拥有的组件，是的。

我不会在您找到的代码中放置太多存储。在启动期间调用 Sleep 以使主线程等待，这绝对不是一个好习惯。如果代码想要等待另一个线程，它可以阻塞该线程，或者等待从该线程获取消息。这看起来就像是由不了解他/她在做什么的人输入的代码。并且代码从未被删除。

另一行代码是合理的：

```
PostMessage(Handle, UM_PROGRAM_START, 0, 0); 
```

由于此消息已发布，因此在应用程序开始发送消息之前不会对其进行处理。当您在 .dpr 文件中调用 Application.Run 时，就会发生这种情况。这意味着与创建主表单相关的所有事情都发生在该消息被拉出队列之前。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-16T07:57:25.267

我不会在 FormCreate 中添加太多初始化代码，而是将其放入单独的函数中，例如

```
fm := TForm.Create;
fm.Init; 
```

问题是，FormCreate() 过程中抛出的异常不会重新抛出（只有一个 MessageBox）。这意味着，您的代码会继续运行，尽管表单未正确初始化。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-16T06:56:44.487

您可以在 FormCreate 中做任何您想做的事情。但是没有消息处理程序可以使用，仅此而已。一般来说，我会在 FormCreate 中创建依赖对象并在 FormDestroy 中释放它们。我也会尽量避免耗时的初始化程序。

# ios - CLLocationManager 更新 OS 5 和 iOS6 中的位置（我们应该使用哪个？）

> ID：13411797
> 
> 赞同：0
> 
> 时间：2012-11-16T06:49:44.520
> 
> 标签：ios, ios6, cllocationmanager

我一直在开发一个 iPhone 应用程序，最近发布了 iOS 6，我们的客户要求我们让应用程序支持新的 iOS（该应用程序是作为 iOS 5 应用程序开发的）。

我们的应用程序在 iOS 5 和 iOS 6 上运行得几乎都很好（除了我现在遇到的几个问题）。但是，我刚刚注意到我在 AppDelegate 中为 CLLocationManager 调用的方法：

```
- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation 
```

已弃用，在 iOS 6 中我们应该改用以下方法：

```
- (void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations 
```

当然，我们可以（而且我想）使用这种方法。但是我的客户要求我们必须让应用程序同时支持 iOS 5 和 iOS 6（是的，我知道无论如何这是合理的“需求”）。

要启用 Core Location 支持 iOS 5 和 iOS 6，我应该在我的代码中编写哪种方法？有没有办法放置一些“如果”之类的条件语句？

很抱歉用这些简单愚蠢的问题打断了社区，但我没有 Objective-C 和 iPhone 编程的坚实背景，而且我还在学习（我确实有一些 Java 经验，但这是我第一次开发一个“真正的”应用程序）。

任何帮助，将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:58:50.010

利用 `-(void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation`

`Deployment Target`并在目标属性->summery 选项卡中设置为 5.0。它适用于 iOS 5 和 iOS 6

# yii - 在 Yii 中使用 Elfinder 扩展

> ID：13411800
> 
> 赞同：0
> 
> 时间：2012-11-16T06:49:55.267
> 
> 标签：yii, yii-extensions

我需要在弹出窗口中使用文件管理器，单击按钮即可。我正在使用 Yii 扩展 elfinder。我发现很难理解使用它的方式。我从 bitbucket 下载了代码，将其放在我的应用程序中的文件夹扩展名中。我尝试使用新控制器对其进行测试，将其命名为 elfcontroller 并输入以下代码（从网站获取）

```
class ElfinderController extends CController
{
public function actions()
{
    return array(
        'connector' => array(
            'class' => 'ext.elFinder.ElFinderConnectorAction',
            'settings' => array(
                'root' => Yii::getPathOfAlias('webroot') . '/uploads/',
                'URL' => Yii::app()->baseUrl . '/uploads/',
                'rootAlias' => 'Home',
                'mimeDetect' => 'none'
            )
        ),
    );
}
} 
```

我还创建了一个用于呈现索引页面的函数（我希望文件管理器在这个页面中）

在视图中我写了以下代码

```
$model = new xxxmodel();
$this->widget('ext.elFinder.ElFinderWidget', array(
      'model' => $model,
      'attribute' => 'serverFile',
      'connectorRoute' => 'admin/elfinder/connector',
      )
  ); 
```

我包含了一个 div 来包含它

但我收到以下错误

**别名“ext.elFinder.ElFinderWidget”无效。确保它指向一个现有的 PHP 文件并且该文件是可读的。**

我试图在 config/main.php 中包含别名

我知道我在文件夹结构中弄乱了一些地方

这是我使用扩展名 **C:\xampp\htdocs\project\protected\extensions\ext.elfinder的路径**

谷歌搜索后我返回空，谁能解释我如何使用这个扩展将代码准确地放在需要的地方？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T07:08:09.577

通常*扩展*文件夹已经有`ext`别名，所以你不需要为它设置别名。

然后扩展本身应该放在*扩展*文件夹中，有点像：*project/extensions/extension-name/*。在您的情况下，它应该是：*project\extensions\elFinder*，并保持其余代码相同，即继续引用扩展名，例如：

```
ext.elFinder.ElFinderWidget 
```

# iphone - 将 UITabbarController 与 pushViewController 一起使用

> ID：13411802
> 
> 赞同：0
> 
> 时间：2012-11-16T06:50:00.603
> 
> 标签：iphone, objective-c, ios, ipad, uitabbarcontroller

假设在 UITabbarController 中我们有选项卡 A、B、C。

当用户从选项卡 A 转到选项卡 C 时，选项卡 C 的 navigationController 通过使用 1) pushViewController = new view 将新视图推送到其顶部；或 2) addSubView(新视图)

之后，当用户离开选项卡 C 时，要么转到选项卡 A 或 B。然后，如果用户再次返回选项卡 C，他们将在选项卡 C 中看到哪个视图？基于上述两种不同情况的结果是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T07:21:11.403

添加子视图用于将任何子视图添加到当前视图，因此在这两种情况下，您将获得相同的视图显示，但如果您使用 AddSubView 添加“新视图”视图控制器，那么在这种情况下，控件将不会转到 .m新视图的文件，您将无法使用“新视图”的 .h 和 .m 文件与“新视图”的 UIControls 交互。

如果您想在“新视图”上做某事，例如使用一些 UIButton 或 UITextField，那么您必须在视图控制器的 .h 和 .m 文件中编写代码，在该文件中添加“新视图”作为子视图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T08:04:36.423

假设您的每个选项卡都有单独的导航控制器，就像我会做的那样，那么在用户返回选项卡 C 后，您将在两种情况下看到新视图。如果用户再次触摸选项卡 C 选项卡，则导航控制器会将推送的视图（或它们各自的控制器）拉回堆栈上的第一个视图。这仅适用于案例 1)。在情况 2) 中什么都不会发生。

# c++ - 将 2 个数组的值分配给另一个数组

> ID：13411809
> 
> 赞同：0
> 
> 时间：2012-11-16T06:50:38.683
> 
> 标签：c++, arrays

请看下面的代码

```
#include <iostream>

using namespace std;

int main()
{
    int array1[10] = {1,1,1,1,1,1,1,1,1,1};
    int array2[10] = {2,2,2,2,2,2,2,2,2,2};

    int array3[20];

    for(int i=0;i<=9;i++)
    {
        array3[i] = array1[i];
        array3[i+1] = array2[i];
    }

    for(int i=0;i<20;i++)
    {
        cout << array3[i] << endl;
    }
} 
```

这里我要做的是，将array1和array2中的所有值分配给array3。这些应该按顺序分配，这意味着，

```
array3[0] = array1[0]

array3[1] = array2[0]

array3[2] = array1[1]

array3[3] = array2[1] 
```

但我尝试过的不是正常工作。请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T06:53:04.003

这只会分配到元素 10。我假设您需要类似以下内容：

```
for(int i=0;i<=9;i++)
{
    array3[i*2] = array1[i];
    array3[i*2+1] = array2[i];
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-16T06:52:53.873

您需要`array3[i*2]=`并且`array3[i*2+1]=`在您的逻辑中，因为您一次添加 2 个值

但除此之外还有`algorithm`它

```
#include <algorithm>

int array1[10] = {1,1,1,1,1,1,1,1,1,1};
int array2[10] = {2,2,2,2,2,2,2,2,2,2};
std::copy(array2, array2 + sizeof10 array1); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T06:56:32.423

你的分配循环应该是，

```
int k = 0;
for(int i=0;i<=9;i++)
    {
        array3[k++] = array1[i];
        array3[k++] = array2[i];
    } 
```

正如您在声明期间确保数组的大小正确一样。可以使用自变量 k 来索引数组3。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-16T06:56:23.517

试试这个..

```
for(int i=0;i<=9;i++)
{
array3[i*2] = array1[i];
array3[i*2+1] = array2[i];
} 
```

# emacs - root的密码暴露在eshell中

> ID：13411815
> 
> 赞同：1
> 
> 时间：2012-11-16T06:51:24.603
> 
> 标签：emacs, emacs23

我在 eshell 中定义了以下别名：

```
 $ alias
 alias ff find-file $1
 alias l ls -l $*
 alias ll ls -l $*
 alias sudo *sudo $* 
```

当我运行“sudo *** *”并输入root的密码时，密码完全显示出来。

问候！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:31:36.777

很有可能，用于查找密码提示的正则表达式没有根据您的情况正确设置。

尝试以下操作：

```
(require 'comint)
(setq comint-password-prompt-regexp
      "\\(\\([Vv]erify\\|[Oo]ld \\|[Nn]ew \\|'s \\|login \\|\
Kerberos \\|CVS \\|UNIX \\| SMB \\|^\\)\
\\([Pp]assword\\|Verify\\\\|密码)\\( (again)\\)?\\|\
pass phrase\\|\\(Enter\\|Repeat\\|Bad\\) passphrase\\)\
\\(?:, try again\\)?\\(?: for [^:]+\\)?:\\s *\\'") 
```

注意：我只是取了值`comint-password-prompt-regexp`并添加了您所说的提示字符。

# javascript - Javascript:XPathEvaluator() 未定义

> ID：13411818
> 
> 赞同：1
> 
> 时间：2012-11-16T06:51:54.450
> 
> 标签：javascript

我在 js 文件中使用“XPathEvaluator”内置函数，但它会抛出类似的错误

```
 "'XPathEvaluator' is undefined". 
```

我添加了类似 -> 的代码

```
 var Evalt = new XPathEvaluator();
  var luate = Evalt.evaluate(path,ss,sd,null); 
```

这里有什么问题？我错过了任何命名空间/库吗？我正在使用 IE 8。请提出一些答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-02-21T17:07:09.010

这个实际错误是...

```
ReferenceError: 'XPathEvaluator' is undefined 
```

根据文章，在升级到[internet-explorer-11后，在](/questions/tagged/internet-explorer-11 "显示标记为“internet-explorer-11”的问题")*Microsoft Dynamics CRM 2011*中经常观察到[错误“XPathEvaluator' is undefined”](https://www.qgate.co.uk/knowledge/resolving-the-error-xpathevaluator-is-undefined/)这个*XPathEvaluator is undefined*脚本错误。进一步调查显示，任何包含的 HTML 资源（用于获取父表单的上下文）都会抛出错误 error 。*`ClientGlobalContext.js``SCRIPT5009: ‘XPathEvaluator’ is undefined`*

 ** * *

## 解决方案

解决方案是将以下行添加到引用该特定*JS*`<head>`文件的自定义 HTML 文档中：

 *```
<meta http-equiv="X-UA-Compatible" content="IE=10" /> 
```

这行*脚本*是强制浏览器以[internet-explorer-10](/questions/tagged/internet-explorer-10 "显示标记为“internet-explorer-10”的问题")模式运行 Web 资源。

> **注意**：不利的一面是，此功能将在[microsoft-edge](/questions/tagged/microsoft-edge "显示标记为“microsoft-edge”的问题")中被贬低，这是 Microsoft 新发布的*Internet Explorer*替代品。**

# sql - 是否有更好的 Oracle 运算符来进行空安全相等检查？

> ID：13411819
> 
> 赞同：3
> 
> 时间：2012-11-16T06:51:59.600
> 
> 标签：sql, oracle, plsql

根据[这个问题](https://stackoverflow.com/questions/6986386/how-to-make-null-equal-null-in-oracle)，在 Oracle 中执行相等检查的方式，我希望 null 被视为等于 null 类似于

```
SELECT  COUNT(1)
  FROM    TableA
WHERE 
  wrap_up_cd = val
  AND ((brn_brand_id = filter) OR (brn_brand_id IS NULL AND filter IS NULL)) 
```

这真的会让我的代码变脏，特别是如果我有很多这样的 where 并且 where 应用于多个列。有没有更好的选择呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T12:44:23.080

好吧，我不确定这是否*更好*[`LNNVL`](http://docs.oracle.com/cd/E11882_01/server.112/e41084/functions091.htm)，但使用函数（只能在`WHERE`子句中使用）可能会更简洁一些，`TRUE`如果给定表达式是`FALSE`或 UNKNOWN ( `NULL`) 则返回。例如...

```
WITH T AS
(
    SELECT    1 AS X,    1 AS Y FROM DUAL UNION ALL
    SELECT    1 AS X,    2 AS Y FROM DUAL UNION ALL
    SELECT    1 AS X, NULL AS Y FROM DUAL UNION ALL
    SELECT NULL AS X,    1 AS Y FROM DUAL
)
SELECT
    *
FROM
    T
WHERE
    LNNVL(X <> Y); 
```

...将返回除 X = 1 和 Y = 2 的行之外的所有行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-03-08T16:25:03.577

使用该函数，当和(和在答案中) 都为空`LNNVL`时，您仍然会遇到问题。它可以工作，但效率低下（优化器不理解），您必须找到一个不能出现在数据中的值（优化器应该知道它不能）。 对于字符串，您可以选择一个字符数超过列的最大值但它很脏的值。`col1``col2``x``y``nvl`

真正有效的方法是使用（未记录的）函数`SYS_OP_MAP_NONNULL()`。

像这样：

```
where SYS_OP_MAP_NONNULL(col1) <> SYS_OP_MAP_NONNULL(col2) 
```

`SYS_OP_MAP_NONNULL(a)`相当于`nvl(a,'some internal value that cannot appear in the data but that is not null')`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-16T07:23:25.190

作为替代方案，您可以使用`NVL`函数和指定文字，如果值为空，则将返回：

```
-- both are not nulls
SQL> with t1(col1, col2) as(
  2    select 123, 123 from dual
  3  )
  4  select 1 res
  5    from t1
  6  where nvl(col1, -1) = nvl(col2, -1)
  7  ;

       RES
----------
         1

-- one of the values is null
SQL> with t1(col1, col2) as(
  2    select null, 123 from dual
  3  )
  4  select 1 res
  5    from t1
  6  where nvl(col1, -1) = nvl(col2, -1)
  7  ;

  no rows selected

 -- both values are nulls
 SQL> with t1(col1, col2) as(
  2    select null, null from dual
  3  )
  4  select 1 res
  5    from t1
  6  where nvl(col1, -1) = nvl(col2, -1)
  7  ;

       RES
----------
         1 
```

* * *

正如@Codo 在评论中指出的那样，当然，上述方法需要选择一个永远不会有的文字比较列。如果比较列是数字数据类型（例如）并且能够接受任何值，那么选择 -1 当然不是一个选项。为了消除这种限制，我们可以使用`decode`函数（用于数字或字符数据类型）：

```
 with t1(col1, col2) as(
  2    select null, null from dual
  3  )
  4  select 1 res
  5    from t1
  6  where decode(col1, col2, 'same', 'different') = 'same'
  7  ;

       RES
----------
         1 
```

# php - cookie 和会话是否相互依赖？

> ID：13411820
> 
> 赞同：1
> 
> 时间：2012-11-16T06:52:22.740
> 
> 标签：php, session, cookies, dependencies, relationship

cookie 和会话在 PHP 中是否相互依赖？

删除或清除其中任何一个会影响另一个吗？

在浏览器中禁用其中一个会影响另一个吗？

PS我是新手。

**编辑**：我在写问题时是新手。这个问题很多新手都会遇到。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T06:58:24.213

他们完全**独立**...

*   Cookies 不能存储无限的价值，会话可以
*   如果在会话中禁用了用户浏览器 cookie，则无法将数据存储在 cookie 中，因为会话 ID 可以附加到 URL
*   将数据存储在会话中比存储在 cookie 中更好，因为 cookie 可以被调和
*   如果您删除 cookie，那么只有在您的站点中检索这些 cookie 数据的功能将被禁用，但您将登录，如果您删除会话 cookie，您将被注销.. (1)
*   Cookie 存储在客户端计算机上，会话存储在您的服务器上
*   如果您关闭浏览器而 cookie 保留在那里，则会话结束，除非它们被用户手动删除或直到它们过期

简而言之，您可以更好地控制会话而不是 cookie

(1) 例如，如果您正在设置 cookie 名称`demo`并且您正在使用启动画面，除非并且直到设置了演示，您才会显示启动画面

```
if(!isset($_COOKIE['demo'])) { //Now this will show lightbox always if user has disabled his cookies
   <script>...</script>
} 
```

文章

[http://www.klovera.com/php-sessions-vs-cookies/](http://www.klovera.com/php-sessions-vs-cookies/)

参考

[会议](http://php.net/manual/en/features.sessions.php)

[饼干](http://php.net/manual/en/features.cookies.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:58:53.500

会话存储在服务器上，而 cookie 存储在客户端上。您只能从浏览器中禁用 cookie。Cookies 根本不会影响会话。在禁用 cookie 的情况下，会话 ID 通过 URL 传递。如果您的 cookie 已启用并且会话 ID 通过删除 cookie 存储在 cookie 中，您将无法访问您的会话（它仍在服务器上，但您无法访问它）

会话也不能影响 cookie。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-16T07:02:35.010

它们没有连接，但默认情况下 PHP 将会话 ID 存储在 cookie 中，指令[session.use_cookies](http://www.php.net/manual/en/session.configuration.php#ini.session.use-cookies)默认为 1

如果 cookie 被禁用，它将使用 URL。这可以使用[session_use_trans_id 设置。](http://www.php.net/manual/en/session.configuration.php#ini.session.use-trans-sid)（默认禁用）

但是如果你在客户端删除了一个会话cookie，那么下一个对服务器的请求将无法找到它关联的会话

清除会话不会影响 cookie，因为 cookie 是从客户端到服务器的 HTTP 请求中附加的。可以将 cookie 设置为在 x 时间后过期，然后在客户端将其删除。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-30T21:58:59.440

所有答案都是正确的，只是想添加这个 - 如果你没有为 cookie 设置时间戳，那么 cookie 依赖于会话，它会在会话结束时过期。

# c# - 根据用户数限制文件查看

> ID：13411826
> 
> 赞同：0
> 
> 时间：2012-11-16T06:53:19.860
> 
> 标签：c#, asp.net, file-access

**背景**
由于我们的医学 PDF 文档获得许可，我们的医生被限制为一次只能让 2-3 位医生查看 PDF 文档。
虽然我们知道我们可以复制所有内容并将其分发给每个人，但我们的医生认为他们不想违反许可证，因此需要一种有效的方法来限制访问。

**挑战**
虽然我理解了这个的基本概念，但我想到了使用以下两种方法之一：

1.  在物理 PC 上拥有文件夹访问权限，以硬限制进入的用户数量。
2.  将信息存储在数据库中，使 Web 应用程序限制用户。

**结论**
我*真的*不想使用硬文件访问权限。这对我来说还不够多样化。
我宁愿让应用程序限制访问，因为这样我可以更容易地根据用户设置权限。

**我的问题**
如果我确实有它的数据库端，我将着手将物理 PDF 存储在一个文件夹中，然后将它们链接到一个页面。此页面将有一个打开 PDF 的按钮，该按钮将根据当前点击它的人数启用/禁用。
当一个人在 PDF 上单击“关闭”时，应用程序将计数 -1，允许一个人访问 PDF。

如何让我的应用程序知道 PDF 已关闭？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:23:26.860

您应该在 iframe 中显示 pdf 并在该 iframe 之外提供“关闭”按钮。通过这种方式，您将能够跟踪您打开的文档的数量并采取相应的行动。

# eclipse - 如何在jsp中将文件上传到服务器上的文件夹？

> ID：13411827
> 
> 赞同：0
> 
> 时间：2012-11-16T06:53:23.367
> 
> 标签：eclipse, jsp, servlets, file-upload

我正在做项目在线图片库，我必须在其中上传图片。我用 jsp/servlet 做，IDE 是 Eclipse。我的jsp文件如下

```
<form action="ActionPage" >
    <input type="file" name="myFile">

    <br>
    <input type="submit">
</form> 
```

这里的 Actionpage 是 servlet。单击提交按钮时，我希望将所选文件存储在服务器上的 WebContent 内名为“IMAGE”的文件夹中，并在数据库表上存储路径。如果有人知道简单的解决方案，请分享。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:00:01.780

你可以在这里阅读这是如何完成的

[如何使用 JSP/Servlet 将文件上传到服务器？](https://stackoverflow.com/questions/2422468/how-to-upload-files-to-server-using-jsp-servlet)

PS：在应用程序目录中存储上传的文件是不好的坏主意。想想如果您的应用程序运行了一段时间会发生什么，并且您想要重新部署，因为文件缺少一些 html 标记。上传的目录将被您的容器删除！尝试使用应用程序目录之外的文件夹，或使用数据库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-24T06:27:07.573

如果您正在使用 jsp 开发您的网站，这是最简单的解决方案首先要从用户那里获取输入，创建一个 html 或 jsp 页面，并在您的 jsp/html 页面中包含 tis 代码

首先下载

*   commons-fileupload-1.2.2.jar

*   org.apache.commons.io.jar

并通过右键单击您的项目然后选择构建路径然后添加 jar 文件将此 jar 添加到您的库中

```
 `<form role="form" action="Upload.jsp" method="post"enctype="multipart/form-data">
    <div class="btn btn-success btn-file">
    <i class="fa fa-cloud-upload"></i>
             Browse
    <input type="file" name="file" />
    </div>
    <button type="submit" value="submit" name='submit'>submit</button>`
    </form> 
```

> enctype="multipart/form-data" 是必须的

现在创建一个名为upload.jsp的jsp（您可以使用目标jsp将图像保存到任何名称的服务器，但请记住将该名称放入上面的代码中

```
 <%@ page import="java.io.*,java.util.*, javax.servlet.*" %>
    <%@ page import="javax.servlet.http.*" %>
    <%@ page import="org.apache.commons.fileupload.*" %>
    <%@ page import="org.apache.commons.fileupload.disk.*" %>
    <%@ page import="org.apache.commons.fileupload.servlet.*" %>
    <%@ page import="org.apache.commons.io.output.*" %>

    <%
       String userName = (String) session.getAttribute("User");
      File file ;
      int maxFileSize = 5000000 * 1024;
      int maxMemSize = 5000000 * 1024;
      ServletContext context = pageContext.getServletContext();
      String filePath = context.getInitParameter("file-upload");

      // Verify the content type
      String contentType = request.getContentType();
      if ((contentType.indexOf("multipart/form-data") >= 0)) {

         DiskFileItemFactory factory = new DiskFileItemFactory();
         // maximum size that will be stored in memory
         factory.setSizeThreshold(maxMemSize);
         // Location to save data that is larger than maxMemSize.
         factory.setRepository(new File("C:\\Users\\"));

  // Create a new file upload handler
  ServletFileUpload upload = new ServletFileUpload(factory);
  // maximum file size to be uploaded.
  upload.setSizeMax( maxFileSize );
  try{ 
     // Parse the request to get file items.
     List<FileItem> fileItems = upload.parseRequest(request);

     // Process the uploaded file items
     Iterator i = fileItems.iterator();

     while ( i.hasNext () ) 
     {
        FileItem fi = (FileItem)i.next();
        if ( !fi.isFormField () )   
        {
        // Get the uploaded file parameters
        String fieldName = fi.getFieldName();
        String fileName = fi.getName();
        boolean isInMemory = fi.isInMemory();
        long sizeInBytes = fi.getSize();
        // Write the file
        if( fileName.lastIndexOf("\\") >= 0 ){
        file = new File( filePath + 
        fileName.substring( fileName.lastIndexOf("\\"))) ;
        }else{
        file = new File( filePath + 
        fileName.substring(fileName.lastIndexOf("\\")+1)) ;
        }
        fi.write( file ) ;

        request.setAttribute("Success", "Successfully Uploaded");
        RequestDispatcher rd = request.getRequestDispatcher("/UploadFiles.jsp");
        rd.forward(request, response);
        }
     }

  }catch(Exception ex) {
     System.out.println(ex);
  }
      }else{
         request.setAttribute("Error", "Error!!");
        RequestDispatcher rd =request.getRequestDispatcher("/UploadFiles.jsp");
        rd.forward(request, response);
      }
   %> 
```

请不要感到困惑，只需复制此代码，一旦您完成此操作，我相信您会了解代码

现在你要做的最后一点是在 web.xml 中添加一些东西，如果你没有这个文件，然后创建这个......

```
 <context-param>
    <description>Location to store uploaded file</description>
    <param-name>file-upload</param-name>
    <param-value>
             C:\\Users\\
    </param-value>
</context-param> 
```

只需将上面的代码添加到 web.xml，您就可以根据需要更改上传图片的地址（为此更改参数值）

如果您遇到任何问题，请告诉我

# image - 如何在不损失分辨率和质量的情况下减小图像尺寸（高度、宽度）

> ID：13411833
> 
> 赞同：0
> 
> 时间：2012-11-16T06:54:13.257
> 
> 标签：image, imagick

我想在不损失分辨率的情况下减小图像的高度和宽度，所以之后如果我想将图像的高度和宽度设为原始图像，它看起来是一样的。

我不知道这是如何实现的。只是改变图像的高度和宽度然后增加会导致图像分辨率的损失吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-08T08:55:37.167

转到 Image > Image Size > Resample Image 并从下拉菜单中选择 Bicubic Sharper ，您可以获得输出

# android - 另一个：Android Holo Drawable 图标列表？

> ID：13411835
> 
> 赞同：6
> 
> 时间：2012-11-16T06:54:17.713
> 
> 标签：android, icons, drawable

我迷失在互联网上，试图找到 R.drawable 下所有可用图标的合理列表，但[唯一不是 404 的是 android 2.2](http://androiddrawableexplorer.appspot.com/)。新的 Android UI 有什么类似的吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T07:30:36.527

*我希望，在尝试回答您的问题时，我假设以下内容没有错。如果我是，请正确。*

我不知道`drawables`您链接的网站中的该列表有任何新的更新，就个人而言，我从未找到任何类似的网站，其中包含`drawables`更新平台的完整列表。

但是，如果您正在寻找*新的 Android UI*（我假设您的意思是 ICS 及更高版本），您会在`drawables`这里找到一个不错的列表：[https ://github.com/ChristopheVersieux/HoloEverywhere/tree/master/library /res](https://github.com/ChristopheVersieux/HoloEverywhere/tree/master/library/res) 虽然它不是一个详尽的列表。

此链接指向一个名为[Holo Everywhere](http://www.holoeverywhere.com/)的 Android 库。

话虽如此，找到`drawables`最新平台的最佳位置就是您为*eclipse*设置平台的位置。在我的工作站上，我可以在此处访问默认资源（特定于平台）：

> C:\Program Files\Android\android-sdk\platforms\android-16\data\res

这包含用于相关平台的所有资源，我发现它非常有用，尤其是在主题化时。我可以参考 XML 并查看它们是如何设置的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T08:00:17.170

如果您喜欢 ActionBar 图标，Google 在其开发者网站上以“ActionBar”为标题提供了这些图标：http: [//developer.android.com/design/style/iconography.html](http://developer.android.com/design/style/iconography.html)

zip 文件的直接链接：http: [//developer.android.com/downloads/design/Android_Design_Icons_20120814.zip](http://developer.android.com/downloads/design/Android_Design_Icons_20120814.zip)

# php - get_html_translation_table 最多需要 2 个参数，给定 3 个

> ID：13411839
> 
> 赞同：2
> 
> 时间：2012-11-16T06:54:37.607
> 
> 标签：php

服务器正在运行**PHP 5.2.17**，我正在尝试使用三个参数运行 get_html_translation_table() 。这是我调用该函数的方式：

```
$text = get_html_translation_table(HTML_ENTITIES, ENT_QUOTES, "UTF-8"); 
```

我收到一条警告消息说

> get_html_translation_table 最多需要 2 个参数，3 个给定（文件名和行号）。

根据[PHP Documentation ，](http://php.net/manual/en/function.get-html-translation-table.php#refsect1-function.get-html-translation-table-changelog) **PHP 5.3.4 之后**支持第三个参数，但添加第三个参数是我能想到的对以“UTF-8”返回的数组进行编码的唯一方法。（尽管有丑陋的警告信息，它仍然有效。）

**我需要 get_html_translation_table() 来创建一个对所有 html 特殊字符和空格**进行编码的函数，如果没有第三个参数，以下函数将无法工作。

```
/**
 * Trying to encoding all html special characters, including nl2br()
 * @param string  $original
 * @return string
 */
function ecode_html_sp_chars($original) {
    $table = get_html_translation_table(HTML_ENTITIES, ENT_QUOTES, "UTF-8");
    $table[' '] = '&nbsp;';
    $encoded = strtr($original, $table);
    return nl2br($encoded);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:20:42.100

两个选项：更改您的 php 版本或使用 htmlentities 函数。在 htmlentities 中，编码参数是在 4.1 中添加的。

例子：

```
function ecode_html_sp_chars($original) {
    $encoded = htmlentities($original, ENT_QUOTES, "UTF-8");
    $encoded = str_replace(' ', '&nbsp;', $encoded);
    return nl2br($encoded);
} 
```

# java - 尝试使用使用 Iterator 检索的对象时出现 NullPointerException

> ID：13411845
> 
> 赞同：0
> 
> 时间：2012-11-16T06:55:35.813
> 
> 标签：java, exception, nullpointerexception

我这是我的代码，它将元素添加到 ArrayList

```
if(countries==null){
  countries = new ArrayList();
  for(int x = 0; x < data.getRowCount(); x++)
  {
      String shortName = data.getString(x,0);
      String code = data.getString(x,1);
      countries.add(x, new Country(code, shortName));
  }
} 
```

以下是迭代器代码

```
for( Iterator iter = countries.iterator(); iter.hasNext();)
{
   Country country = (Country)iter.next();
   Element optionselect = doc.createElement( "countryselect" );
   optionselect.setAttribute( "name", country.getShortName() );//Getting NULL Pointer Exception
   optionselect.setAttribute( "value", country.getCode() );
   countriesElement.appendChild( optionselect );
} 
```

现在我在行得到空指针异常：

```
optionselect.setAttribute( "name", country.getShortName() ); 
```

PS：我无法调试它，因为它正在生产中运行，我无法在本地服务器上复制它

乍一看，ArrayList 中似乎有一些 null 值，但从代码中我无法弄清楚它是如何可能的。

有人可以对此有所了解（也许是Java 5的错误）。

编辑：我也用这段代码得到空指针

```
List countryCodes = new ArrayList();
for (int x = 0; x < countries.size(); x++)
{
    Country c = (Country) countries.get(x);
    countryCodes.add(x, c.getCode());// Throwing Exception
} 
```

这确认了一件事，即在某处`null`对象`countries List`，但查看代码我看不出这怎么可能

堆栈跟踪如下：

```
Stack Trace:java.lang.NullPointerException
    at com.ilrn.controller.modules.Users.appendCountryList(Users.java:985)
    at com.ilrn.controller.modules.Users.setupCountries(Users.java:1348)
    at com.ilrn.controller.modules.Users.gen_add(Users.java:1329)
    at com.ilrn.controller.modules.Users.generate(Users.java:190)
    at com.ilrn.controller.ShellModule.generateShell(ShellModule.java:1958) 
```

Users.java:985 是`optionselect.setAttribute( "name", country.getShortName() );`

```
Stack Trace(number 2):java.lang.NullPointerException
    at com.ilrn.controller.dto.IlrnCountriesDTO.getCountryCodes(IlrnCountriesDTO.java:45)
    at sun.reflect.GeneratedMethodAccessor471.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:592) 
```

IlrnCountriesDTO.java:45 在哪里`countryCodes.add(x, c.getCode());`

另请注意，国家列表仅加载一次（第一次请求且国家/地区为私有时）

经过分析，我认为这是一个多线程问题。在查看 ArrayList 代码后，我发现它不是`synchronized`（因此对于同一索引，大小可能增加了两次）

```
public void add(int index, E element) {
    if (index > size || index < 0)
      throw new IndexOutOfBoundsException(
      "Index: "+index+", Size: "+size);
  ensureCapacity(size+1);  // Increments modCount!!
  System.arraycopy(elementData, index, elementData, index + 1,
         size - index);
  elementData[index] = element;
  size++;
 } 
```

这是国家类（片段）

```
private String code_;
private String shortName_;

/**
 * Constructor sets code and short name.
 * 
 * @param code Specifies the code.
 * @param shortName Specifies the short name.
 */
public Country(String code, String shortName)
{
    code_ = code;
    shortName_ = shortName;
}
public String getCode() {
        return code_;
}

public String getShortName() {
        return shortName_;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:29:50.070

您添加的代码看起来有点不对...您有

```
if (countries != null){
    countries = new ArrayList();
    ... 
```

但不应该是：

```
if (countries == null){
    countries = new ArrayList(); 
```

通常，如果某些内容为空，我们会进行初始化，否则我们会吹走已经存在的任何内容。

# forms - 我的表单在提交 b/c 时一直被定向到无处我的表单操作 url 已经使用 url 参数

> ID：13411847
> 
> 赞同：0
> 
> 时间：2012-11-16T06:55:42.533
> 
> 标签：forms, url, parameters, action, submission

嗨，我有一个简单的表单，它使用 get 方法将值传递到下一页。表单操作 url 是一个已经有 URL 参数的 url，所以当我点击提交时，我会被重定向到一个页面，上面写着某某的 url 地址不存在。如何使用已经具有 url 参数的 url 进行表单操作而不被定向到无处？

```
<form method="get" action="https://www.XXXXXXXXXXXXXXXXXXXXXXXXXX?ID=267" name="myForm">

<input name="text_input" size="9" type="text"><br>
<input name="text_input2" size="9" type="text"><br>

<input name="total" size="14" type="text">

<input value="UPDATE" type="button"> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:17:27.297

只需输入一个隐藏的输入字段：

```
<input name="ID" value="267" style="display:none"> 
```

您可能应该在某处的 CSS 文件中执行 display:none 部分。

# jquery - 如何将选定的日期从日期选择器发送到控制器？

> ID：13411867
> 
> 赞同：0
> 
> 时间：2012-11-16T06:56:52.490
> 
> 标签：jquery, asp.net-mvc-3

当用户选择日期时，如何使用这段 jquery 代码从 datePicker 中获取日期，然后使用 BeginForm() 将日期作为字符串发送到控制器？如何访问标签之间的代码以用于我的 razor 和 asp.net 代码？

这是我从论坛上的一些提示中尝试过的，但没有运气。

```
<script type="text/javascript">

    $(function () {
        onSelect: Function(dateText, inst); 
        {
            var theDate = $("#date").datepicker('getDate');
            var dateAsObject = $(this).datepicker('getDate');
        }

     String selectedDate"";
    selectedDate=theDate.toString();

         }); 
```

因此，在提出建议之后，我一直在尝试这样做：

```
 <script type="text/javascript">
        $(function () {      
                $(".datepicker").datepicker({dateFormat: 'yy.mm.dd'})
        });  
        </script>

@using (Html.BeginForm("Action", "Controller",  new { @id = "formName", @Name = "formName" }))
{
 Date: <input type="text" class="datepicker" onchange="$('#formName').submit();"
 } 
```

然后在控制器中：

```
public ActionResult myMethod(DateTime?  date=null)
{
if if (date != null)
            { 
            //do 
            }
} 
```

在控制器中，日期始终为空。我把我的 GeginForm 命名错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:32:59.723

你有过于复杂的事情。只需您可以将 onchange 事件用于输入，当日期选择器进行更改时，它将触发该操作。

控制器：

```
 // You can use "String?" type here
public ActionResult Index(DateTime? date = null)
{
    if (date != null)
    {
        // Your Logic Here!
    }
} 
```

看法：

```
<script type="text/javascript">
    $(function() {
        $( ".datepicker" ).datepicker({ dateFormat: 'yy.mm.dd' });
    });
</script>
<input type="text" class="datepicker" onchange="$('#YourForm').submit();" /> 
```

每当用户选择日期时，我也使用它来显示该日期的数据。简单快速..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T07:13:43.677

`altField`每当使用和选项选择日期时，您都可以使用自己的日期格式填充备用字段`altFormat`。此功能可用于显示对用户友好的日期以供用户选择，同时传递对计算机更友好的日期以供进一步处理。

代码：

```
<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>jQuery UI Datepicker - Populate alternate field</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="/resources/demos/style.css" />
    <script>
    $(function() {
        $( "#datepicker" ).datepicker({
            altField: "#alternate",
            altFormat: "DD, d MM, yy"
        });
    });
    </script>
</head>
<body>

<p>Date: <input type="text" id="datepicker" />&nbsp;<input type="text" id="alternate" size="30" /></p>

</body>
</html> 
```

希望这可以帮助！

# c++ - 我们可以在 C 或 C++ 中手动操作垃圾收集器吗？

> ID：13411873
> 
> 赞同：-6
> 
> 时间：2012-11-16T06:57:06.737
> 
> 标签：c++, c, memory

我想知道我是否可以看到 C 或 C++ 中的垃圾收集器是如何工作的？

选择内存中未使用的值的算法是什么？

谁能告诉我 GC 在 C 中是如何工作的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-16T06:58:25.467

C 和 C++ 没有垃圾收集。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-16T06:58:39.067

两种语言都没有垃圾收集器。至少，不是作为标准兼容实现的一部分。

请注意，C++ 有语言限制，因此很难实现垃圾收集。最新标准 C++11 中放宽了其中一些规则。因此，原则上现在可以实现符合标准的 c++ 垃圾收集器。

C++ 中的标准方法是使用[智能指针](http://en.wikipedia.org/wiki/Smart_pointer)来自动管理内存。

这里有一篇[有趣的文章](http://herbsutter.com/2011/10/25/garbage-collection-synopsis-and-c/)，包含一些有用的链接。从评论中您可能会看到协调 GC 与惯用的 C++ 是多么困难。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-16T06:59:27.773

请查看本文/文章：Hans Boehm[的 C 和 C++ 垃圾收集器](http://www.hpl.hp.com/personal/Hans_Boehm/gc/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-16T07:04:04.567

尽管标准 C 和 C++ 中不支持垃圾收集，但至少有一种流行且非常便携的实现，称为[Boehm-Demers-Weiser 保守垃圾收集器](http://www.hpl.hp.com/personal/Hans_Boehm/gc/)。

保守的垃圾收集器通过假设所有看起来像指针的东西都是一个指针来工作，即使它实际上是一个整数。因此，它们有时可能无法回收未引用的对象。此外，诸如异或指针之类的技巧可以隐藏指针。但根据我的经验，它们在实践中似乎运作良好。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-16T07:07:49.917

在 C 中，垃圾收集完全是手动的；您需要跟踪分配给`malloc()`或相关功能的任何内容，以便`free()`在完成后释放它，而这永远不会自动完成。

C++ 大体相同；你需要`delete`分配的任何东西`new`（以及`delete[]`分配的任何数组`new[]`）。然而，这个过程可以（并且应该）通过创建管理动态资源的对象并在其析构函数中释放它们来部分自动化。这种技术通常被称为[RAII](http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization)，最常见的例子是标准库中的容器和智能指针。

两种语言都没有自动垃圾收集，也没有任何方法来确定是否正在使用任何动态对象；您总是需要自己管理动态资源。有一些非标准的扩展来提供垃圾收集，但我对它们一无所知。

# extjs - 如何从 gridPanel 隐藏/删除行

> ID：13411874
> 
> 赞同：0
> 
> 时间：2012-11-16T06:57:07.257
> 
> 标签：extjs

我的屏幕有两个下拉菜单和一个网格。我基本上做了一个ajax调用并根据第一个下拉列表中的值填充网格。现在，当我选择第二个下拉列表时，我想根据第二个下拉列表中的值隐藏之前填充的几行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T10:33:16.037

taskFromGrid.getStore().filter('TASK_OWNER_ID', record.get("PERSON_ID"));

我使用了过滤器，它对我有用

# java - Java将字符串转换为变量？

> ID：13411875
> 
> 赞同：-1
> 
> 时间：2012-11-16T06:57:17.917
> 
> 标签：java, string

方法是否有可能获取 a`string`并将其`string`转换为变量？如：

```
x1 = new X();
x2 = new X();
x3 = new X();

public void doThis(String y)
{
   y.doSomething();
} 
```

`y`x1、x2 或 x3在哪里？所以方法实际上是`x1.doSomething()`；还是等等？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T06:58:39.600

不。在 Java 中没有办法做到这一点，*想要*做到这一点表明您可能真的想要某种集合。

如果您有一组要通过连续整数标识的值，最好从 0 开始，则使用数组或`List<T>`. 如果你有一组你真的想通过字符串来识别的值（例如，因为你将拥有`x`and`y`而不是`1`and `2`）然后使用 a `Map<String, Foo>`（`Foo`你想要映射到的值的类型在哪里）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-16T07:00:39.630

```
public void doThis(Object y)
   {
   y.doSomething();
   } 
```

这是你应该做的。或者您可以只使用 if-else 或 case 语句并决定调用什么方法。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-16T07:09:44.063

您不能从字符串创建变量，但您可以从字符串动态创建类实例。例如

```
NewClassInterface x;

public void doThis(String y)
{
 x= Class.forName(y).newInstance();
 x.doSomething();
} 
```

显然，您必须已经在任何地方都有 NewClass 实现。

希望这有帮助

# iphone - 如何根据 UITableViewCell 中的图像可用性设置 TextField 框架

> ID：13411876
> 
> 赞同：0
> 
> 时间：2012-11-16T06:57:20.080
> 
> 标签：iphone, uitableview, ios6, frame

我有一个自定义的 TableView 如下图所示

![我的表视图](../Images/0d94dd82dcace6672885478441788180.png)

我的想法是在`tableview`第四行没有`image`那个时候我想将`label` `frame`左边设置为等于`image`左边我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T07:35:59.447

如果您希望您的标签与 imageView 位于相同的左坐标上，您可以使用以下代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{ 

    // do the below code after setting the image in your imageView. 

    if (imageView.image == nil) 
    {
        CGRect rectNew = CGRectMake(imageView.frame.origin.x, cell.textLabel.frame.origin.y, cell.textLabel.frame.size.width, cell.textLabel.frame.size.height);
        cell.textLabel.frame = rectNew;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T07:07:25.120

在`cellForRowAtIndexPath:`方法中，如果图像为零，则将 imageView 的框架设置为`cell.textLable.` 如下所示。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {  
    if (imageView.image == nil) {
        imageView.hidden = YES;
            cell.textLabel.frame = CGRectMake(imageView.frame.origin.x, imageView.frame.origin.y, setWidth, setHight);//set Hight and width of yout textlable of cell
    }
} 
```

# wcf - DataContractSerializer ReadObject(stream) 返回空值

> ID：13411879
> 
> 赞同：0
> 
> 时间：2012-11-16T06:57:35.280
> 
> 标签：wcf, .net-4.0, deserialization

我无法将一些 XML 反序列化为适当的对象结构。当我调用`ReadObject(stream)`它`DataContractSerializer`时，它返回一个空数组。没有错误，不为空，只是一个空数组。

**故事**

我正在使用第 3 方服务，他们提供了 wsdl。我已将 wsdl 作为服务引用添加到我的项目中。我已成功调用此服务并收到响应，该响应已由 .Net 正确反序列化。所以我知道响应能够被反序列化。

我调用了一次服务以获取一些初始数据。然后，当第 3 方更新该数据时，他们将使用服务返回的相同响应 XML POST 到 MVC URL。当我尝试从 Request.InputStream 反序列化 XML 时，我得到一个空数组。

我已经搜索和搜索，但显然不是在正确的地方，因为我完全空白。

我真的很感激你能提供的任何方向。

以下是正在播放的代码和文件：

**我的反序列化代码**- 非常简单的东西，不是吗？`updatedData`是有问题的空数组。

```
 var dcs = new DataContractSerializer(typeof(IEnumerable<Account1>),
        "ListOfIrstAccountBrandAccountResponseIo",
        "http://www.siebel.com/xml/IRST%20Account%20Brand%20Account%20Response%20IO");

    var updatedData = (IEnumerable<Account1>)dcs.ReadObject(stream);

    return updatedData; 
```

**XML** - 数据已被清理，但对于本示例，它并不重要。

```
<ListOfIrstAccountBrandAccountResponseIo xmlns="http://www.siebel.com/xml/IRST%20Account%20Brand%20Account%20Response%20IO">
    <Account>
        <AccountStatus>Active</AccountStatus>
        <IRSTAccoutSectorNum>xxxxx</IRSTAccoutSectorNum>
        <MainFaxNumber>xxxxx</MainFaxNumber>
        <MainPhoneNumber>xxxxx</MainPhoneNumber>
        <Name>xxxxx</Name>
        <ParentAccountId></ParentAccountId>
        <ParentAccountName></ParentAccountName>
        <AccountRowId>xxxxx</AccountRowId>
        <ListOfCutAddress>
            <CutAddress>
                <City>xxxxx</City>
                <Country>xxxxx</Country>
                <County>xxxxx</County>
                <PostalCode>xxxxx</PostalCode>
                <PrimaryAddressFlg>x</PrimaryAddressFlg>
                <State>xx</State>
                <StreetAddress>xxxxx</StreetAddress>
                <StreetAddress2></StreetAddress2>
            </CutAddress>
        </ListOfCutAddress>
        <ListOfIrstBrandAccount>
            <IrstBrandAccount>
                <IRSTBrand>xxxxx</IRSTBrand>
                <IRSTBrandAccountNumber>xxxxx</IRSTBrandAccountNumber>
                <IRSTSIC>xx</IRSTSIC>
                <Name>xxxxx</Name>
            </IrstBrandAccount>
            <IrstBrandAccount>
                <IRSTBrand>xxxxx</IRSTBrand>
                <IRSTBrandAccountNumber>xxxxx</IRSTBrandAccountNumber>
                <IRSTSIC>xx</IRSTSIC>
                <Name>xxxxx</Name>
            </IrstBrandAccount>
            <IrstBrandAccount>
                <IRSTBrand>xxxxx</IRSTBrand>
                <IRSTBrandAccountNumber>xxxxx</IRSTBrandAccountNumber>
                <IRSTSIC>xx</IRSTSIC>
                <Name>xxxxx</Name>
            </IrstBrandAccount>
        </ListOfIrstBrandAccount>
        <ListOfInternalDivision>
            <InternalDivision>
                <Organization>xxxxx</Organization>
            </InternalDivision>
            <InternalDivision>
                <Organization>xxxxx</Organization>
            </InternalDivision>
        </ListOfInternalDivision>
        <ListOfServiceAgreement>
            <ServiceAgreement>
                <AccountId>xxxxx</AccountId>
                <AgreementId>xxxxx</AgreementId>
                <AgreementNumber>xxxxx</AgreementNumber>
                <AgreementStatus>xxxxx</AgreementStatus>
                <ListOfFsAgreementItem>
                    <FsAgreementItem>
                        <AgreementId>xxxxx</AgreementId>
                        <BPTier1>xx</BPTier1>
                        <BPTier2>xx</BPTier2>
                        <IRSTBuyingProgram>xxxxx</IRSTBuyingProgram>
                        <Product>xxxxx</Product>
                        <ProductId>xxxxx</ProductId>
                    </FsAgreementItem>
                    <FsAgreementItem>
                        <AgreementId>xxxxx</AgreementId>
                        <BPTier1>xx</BPTier1>
                        <BPTier2>xx</BPTier2>
                        <IRSTBuyingProgram>xxxxx</IRSTBuyingProgram>
                        <Product>xxxxx</Product>
                        <ProductId>xxxxx</ProductId>
                    </FsAgreementItem>
                    <FsAgreementItem>
                        <AgreementId>xxxxx</AgreementId>
                        <BPTier1>xx</BPTier1>
                        <BPTier2>xx</BPTier2>
                        <IRSTBuyingProgram>xxxxx</IRSTBuyingProgram>
                        <Product>xxxxx</Product>
                        <ProductId>xxxxx</ProductId>
                    </FsAgreementItem>
                    <FsAgreementItem>
                        <AgreementId>xxxxx</AgreementId>
                        <BPTier1>xx</BPTier1>
                        <BPTier2>xx</BPTier2>
                        <IRSTBuyingProgram>xxxxx</IRSTBuyingProgram>
                        <Product>xxxxx</Product>
                        <ProductId>xxxxx</ProductId>
                    </FsAgreementItem>
                    <FsAgreementItem>
                        <AgreementId>xxxxx</AgreementId>
                        <BPTier1>xx</BPTier1>
                        <BPTier2>xx</BPTier2>
                        <IRSTBuyingProgram>xxxxx</IRSTBuyingProgram>
                        <Product>xxxxx</Product>
                        <ProductId>xxxxx</ProductId>
                    </FsAgreementItem>
                </ListOfFsAgreementItem>
            </ServiceAgreement>
        </ListOfServiceAgreement>
    </Account>
</ListOfIrstAccountBrandAccountResponseIo> 
```

**wsdl** - 我从文件中删除了端点 IP 地址。它不是公共服务，但调用该服务不是测试此场景所必需的。

```
<?xml version="1.0" encoding="UTF-8"?><definitions
 xmlns="http://schemas.xmlsoap.org/wsdl/"
 xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
 xmlns:xsdLocal1="http://www.siebel.com/xml/IRST%20Account%20Address%20Query%20Request%20IO"
 targetNamespace="http://siebel.com/CustomUI"
 xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/"
 xmlns:xsdLocal2="http://www.siebel.com/xml/IRST%20Account%20Brand%20Account%20Response%20IO"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns:tns="http://siebel.com/CustomUI"
><types
><xsd:schema
 elementFormDefault="qualified"
 attributeFormDefault="unqualified"
 targetNamespace="http://www.siebel.com/xml/IRST%20Account%20Brand%20Account%20Response%20IO"
 xmlns:xsdLocal2="http://www.siebel.com/xml/IRST%20Account%20Brand%20Account%20Response%20IO"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
><xsd:annotation
><xsd:documentation
>Copyright (C) 2001-2004 Siebel Systems, Inc. All rights reserved. Siebel XSD Generation</xsd:documentation
></xsd:annotation
><xsd:element
 name="ListOfIrstAccountBrandAccountResponseIo"
 type="xsdLocal2:ListOfIrstAccountBrandAccountResponseIo"
></xsd:element
><xsd:complexType
 name="ListOfIrstAccountBrandAccountResponseIoTopElmt"
><xsd:sequence
><xsd:element
 name="ListOfIrstAccountBrandAccountResponseIo"
 maxOccurs="1"
 minOccurs="1"
 type="xsdLocal2:ListOfIrstAccountBrandAccountResponseIo"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="ListOfIrstAccountBrandAccountResponseIo"
><xsd:sequence
><xsd:element
 name="Account"
 maxOccurs="unbounded"
 minOccurs="0"
 type="xsdLocal2:Account"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="Account"
><xsd:sequence
><xsd:element
 name="Id"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="AccountStatus"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="IRSTAccoutSectorNum"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="MainFaxNumber"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="MainPhoneNumber"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="Name"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="ParentAccountId"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="ParentAccountName"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="AccountRowId"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="ListOfCutAddress"
 maxOccurs="1"
 minOccurs="0"
 type="xsdLocal2:ListOfCutAddress"
></xsd:element
><xsd:element
 name="ListOfIrstBrandAccount"
 maxOccurs="1"
 minOccurs="0"
 type="xsdLocal2:ListOfIrstBrandAccount"
></xsd:element
><xsd:element
 name="ListOfInternalDivision"
 maxOccurs="1"
 minOccurs="0"
 type="xsdLocal2:ListOfInternalDivision"
></xsd:element
><xsd:element
 name="ListOfServiceAgreement"
 maxOccurs="1"
 minOccurs="0"
 type="xsdLocal2:ListOfServiceAgreement"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="ListOfCutAddress"
><xsd:sequence
><xsd:element
 name="CutAddress"
 maxOccurs="unbounded"
 minOccurs="0"
 type="xsdLocal2:CutAddress"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="CutAddress"
><xsd:sequence
><xsd:element
 name="City"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="Country"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="County"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="PostalCode"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="PrimaryAddressFlg"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="State"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="StreetAddress"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="StreetAddress2"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="ListOfIrstBrandAccount"
><xsd:sequence
><xsd:element
 name="IrstBrandAccount"
 maxOccurs="unbounded"
 minOccurs="0"
 type="xsdLocal2:IrstBrandAccount"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="IrstBrandAccount"
><xsd:sequence
><xsd:element
 name="Id"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="IRSTBrand"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="IRSTBrandAccountNumber"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="IRSTSIC"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="Name"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="ListOfInternalDivision"
><xsd:sequence
><xsd:element
 name="InternalDivision"
 maxOccurs="unbounded"
 minOccurs="0"
 type="xsdLocal2:InternalDivision"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="InternalDivision"
><xsd:sequence
><xsd:element
 name="Organization"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="ListOfServiceAgreement"
><xsd:sequence
><xsd:element
 name="ServiceAgreement"
 maxOccurs="unbounded"
 minOccurs="0"
 type="xsdLocal2:ServiceAgreement"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="ServiceAgreement"
><xsd:sequence
><xsd:element
 name="AccountId"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="AgreementId"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="AgreementNumber"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="AgreementStatus"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="ListOfFsAgreementItem"
 maxOccurs="1"
 minOccurs="0"
 type="xsdLocal2:ListOfFsAgreementItem"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="ListOfFsAgreementItem"
><xsd:sequence
><xsd:element
 name="FsAgreementItem"
 maxOccurs="unbounded"
 minOccurs="0"
 type="xsdLocal2:FsAgreementItem"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="FsAgreementItem"
><xsd:sequence
><xsd:element
 name="Id"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="AgreementId"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="BPTier1"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="BPTier2"
 maxOccurs="1"
 minOccurs="1"
 type="xsd:string"
></xsd:element
><xsd:element
 name="IRSTBuyingProgram"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="Product"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
><xsd:element
 name="ProductId"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
></xsd:sequence
></xsd:complexType
></xsd:schema
><xsd:schema
 elementFormDefault="qualified"
 attributeFormDefault="unqualified"
 targetNamespace="http://siebel.com/CustomUI"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
><xsd:import
 namespace="http://www.siebel.com/xml/IRST%20Account%20Brand%20Account%20Response%20IO"
></xsd:import
><xsd:import
 namespace="http://www.siebel.com/xml/IRST%20Account%20Address%20Query%20Request%20IO"
></xsd:import
><xsd:element
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Input"
><xsd:complexType
><xsd:sequence
><xsd:element
 ref="xsdLocal1:ListOfIrstAccountAddressQueryRequestIo"
></xsd:element
></xsd:sequence
></xsd:complexType
></xsd:element
><xsd:element
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Output"
><xsd:complexType
><xsd:sequence
><xsd:element
 ref="xsdLocal2:ListOfIrstAccountBrandAccountResponseIo"
></xsd:element
><xsd:element
 name="Error_spcCode"
 type="xsd:string"
></xsd:element
><xsd:element
 name="Error_spcMessage"
 type="xsd:string"
></xsd:element
></xsd:sequence
></xsd:complexType
></xsd:element
></xsd:schema
><xsd:schema
 elementFormDefault="qualified"
 attributeFormDefault="unqualified"
 xmlns:xsdLocal1="http://www.siebel.com/xml/IRST%20Account%20Address%20Query%20Request%20IO"
 targetNamespace="http://www.siebel.com/xml/IRST%20Account%20Address%20Query%20Request%20IO"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
><xsd:annotation
><xsd:documentation
>Copyright (C) 2001-2004 Siebel Systems, Inc. All rights reserved. Siebel XSD Generation</xsd:documentation
></xsd:annotation
><xsd:element
 name="ListOfIrstAccountAddressQueryRequestIo"
 type="xsdLocal1:ListOfIrstAccountAddressQueryRequestIo"
></xsd:element
><xsd:complexType
 name="ListOfIrstAccountAddressQueryRequestIoTopElmt"
><xsd:sequence
><xsd:element
 name="ListOfIrstAccountAddressQueryRequestIo"
 maxOccurs="1"
 minOccurs="1"
 type="xsdLocal1:ListOfIrstAccountAddressQueryRequestIo"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="ListOfIrstAccountAddressQueryRequestIo"
><xsd:sequence
><xsd:element
 name="Account"
 maxOccurs="unbounded"
 minOccurs="0"
 type="xsdLocal1:Account"
></xsd:element
></xsd:sequence
></xsd:complexType
><xsd:complexType
 name="Account"
><xsd:sequence
><xsd:element
 name="AccountRowId"
 maxOccurs="1"
 minOccurs="0"
 type="xsd:string"
></xsd:element
></xsd:sequence
></xsd:complexType
></xsd:schema
></types
><message
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Input"
><part
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Input"
 element="tns:IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Input"
></part
></message
><message
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Output"
><part
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Output"
 element="tns:IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Output"
></part
></message
><portType
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
><operation
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
><input
 message="tns:IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Input"
></input
><output
 message="tns:IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version_Output"
></output
></operation
></portType
><binding
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
 type="tns:IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
><soap:binding
 transport="http://schemas.xmlsoap.org/soap/http"
 style="document"
></soap:binding
><operation
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
><soap:operation
 soapAction="document/http://siebel.com/CustomUI:IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
></soap:operation
><input
><soap:body
 use="literal"
></soap:body
></input
><output
><soap:body
 use="literal"
></soap:body
></output
></operation
></binding
><service
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
><port
 binding="tns:IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
 name="IRST_spcQuery_spcAccount_spcAnd_spcBrand_spcAccnt_Version"
><soap:address
 location="http://xx.xx.xx.xx/path/to/service"
></soap:address
></port
></service
></definitions
> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T23:05:04.937

看来我试图使用错误的序列化程序进行反序列化。3rd 方服务的 wsdl 的早期版本与`DataContractSerializer`. 他们实施的更改显然与我不兼容`DataContractSerializer`并`svcutil.exe`切换到 using `XmlSerializer`，我不知道。

我切换到使用`XmlSerializer`反序列化，事情终于奏效了。

# database - 数据库设计 - 外键与主键相同？

> ID：13411884
> 
> 赞同：1
> 
> 时间：2012-11-16T06:57:53.897
> 
> 标签：database, ms-access, database-design

我想如果这个简单的数据库建模很好。特别是帐单表。各位可以发表一下意见吗？

![图式](../Images/0c2e99a1fcaa00c3842aa0afc4988947.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T12:34:54.053

将外键列作为表的主键的一部分是完全可以接受的。例如，这在实现多对多关系的**交集表**中经常发生。

有些人发现使用**代理键**而不是复合键更可取。当您使用外键列作为主键时，您几乎总是使用复合键，这些可能会变得庞大而复杂。

如果您在 StackOverflow 和其他地方搜索，您会发现关于自然键与复合键与代理键的相对优点的广泛而热情的讨论。如果您阅读这些内容，您会发现有很多人会支持您在模型中定义主键的方式。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T12:40:25.603

我想您是在问 EmployeeProject 中的主键是否可以由两个外键组成。如果我正确理解了您的问题，那很好。

在Billing 中，拥有一个由引用EmployeeProject 的两列组成的外键并没有错。（在 SQL 中，`foreign key (empNo, projectNo) references EmployeeProject (empNo, projectNo)`。）您几乎肯定*不*希望在这里引用 Employee 和 Project 的两个单独的外键。

Billing (SQL, ) 中的三列主键`primary key (billingNo, empNo, projectNo)`允许这样的数据。

```
billingNo  empNo  projectNo  hoursBilled
--
1003       13     7          3
1003       13     6          2
1003       17     7          8
1004       13     7          3
1004       13     6          2 
```

如果这是您的意图，那么您将朝着正确的方向前进。

# java - SQL 仅在所有行都满足条件时才选择行

> ID：13411885
> 
> 赞同：3
> 
> 时间：2012-11-16T06:58:08.237
> 
> 标签：java, sql

我对 SQL 很陌生，虽然我可以编写大部分查询，但我对这个查询一无所知。我想在一个可以使用 JPA 执行的查询中实现这一点。

```
TABLE RULE:
RULE_ID   ENABLED
-----------------
1         0
2         0
3         0
4         1
5         1

TABLE MISC:
MISC_ID
--------
1
2

TABLE HOLD:
HOLD_ID   MISC_ID   RULE_ID   READY
------------------------------------
1         1         1         1       
2         1         2         1       
3         1         3         1       
4         2         4         0      
5         2         1         1 
```

我只想从 HOLD 中选择每行 READY=1 且 RULE_ID 位于的 MISC_IDs（RULE_IDs where ENABLED=0）。在上面的示例中，查询应该返回 MISC_ID = {1}，因为 HOLD_ID 1、2 和 3 都具有 READY=1 并且 RULEs 1、2 和 3 都被禁用。

MISC_ID 2 不应返回，因为 HOLD_ID 4 的 READY=0。

MISC 和 HOLD 表有数百万行，但 RULE 相当小（<1000 行）。

关于如何编写本机 SQL 来实现这一点的任何建议？PL/SQL 不是一个选项。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T07:03:56.227

```
SELECT MISC_ID
FROM HOLD

GROUP BY MISC_ID
HAVING MIN(READY) <> 0; 
```

* * *

示例运行：

```
$ with HOLD (HOLD_ID, MISC_ID, RULE_ID, READY)
as (values
    (1,1,1,1),
    (2,1,2,1),
    (3,1,3,1),
    (4,2,4,0),
    (5,2,1,1)
)

select MISC_ID
from HOLD

group by MISC_ID
having min(READY) <> 0;

 misc_id
---------
       1
(1 row) 
```

* * *

修改查询以处理加入规则：

```
SELECT HOLD.*, RULE.*

FROM HOLD

INNER JOIN RULE
ON HOLD.RULE_ID = RULE.RULE_ID AND RULE.ENABLED = 0

WHERE MISC_ID IN (
    SELECT MISC_ID
    FROM HOLD

    GROUP BY MISC_ID
    HAVING MIN(READY) <> 0
); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T07:02:43.953

使用`HAVING`并匹配计数：

```
SELECT MISC_ID
FROM HOLD h
WHERE READY = 1
GROUP BY MISC_ID
HAVING COUNT(*) = (SELECT COUNT(*) FROM HOLD h2 WHERE h2.MISC_ID = h.MISC_ID) 
```

或者，对自身使用反连接：

```
SELECT DISTINCT MISC_ID
FROM HOLD h
LEFT OUTER JOIN HOLD h2 ON h.MISC_ID = h2.MISC_ID AND h2.READY <> 1
WHERE h2.MISC_ID IS NULL 
```

或者，使用`HAVING`并比较 MIN 和 MAX 值：

```
SELECT MISC_ID
FROM HOLD
GROUP BY MISC_ID
HAVING MIN(READY) = 1 AND MAX(READY) = 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T07:02:08.390

试试这个 ：：

```
 Select * from TABLE_HOLD th

    group by MISC_ID

left join

(    Select MISC_ID from TABLE_HOLD

    group by MISC_ID having READY=0 ) temp_table on (th.MISC_ID=temp_table.MISC_ID)
where temp_table.HOLD_ID is null 
```

# windows-7 - 如何在 Windows 7 中使用 MaraDNS 解析外部域名

> ID：13411904
> 
> 赞同：5
> 
> 时间：2012-11-16T06:59:32.213
> 
> 标签：windows-7, dns

我已经在 Windows 7 机器上安装了 maradns，我已经配置了它，它可以处理内部请求，但不能处理外部请求

**文件**

```
ipv4_bind_addresses = "127.0.0.1"
timestamp_type = 2
random_seed_file = "secret.txt"

csv2 = {}
csv2["myapp.com."] = "db.lan.txt"

upstream_servers = {} # Initialize dictionary variable
upstream_servers["."] = "8.8.8.8, 8.8.4.4" 
```

**db.lan.txt**

```
private.%       192.168.1.21 ~
blog.%          192.168.1.16 ~ 
```

对于**外部请求**，它给了我以下错误

```
C:\Program Files\maradns-2-0-06-win32>askmara.exe Agoogle.com.
# Querying the server with the IP 127.0.0.1
# Remote server said: REFUSED
# NS replies:
# AR replies: 
```

**对于内部请求，它的工作正常如下**

```
C:\Program Files\maradns-2-0-06-win32>askmara.exe Aprivate.myapp.com.
# Querying the server with the IP 127.0.0.1
# Question: Aprivate.myapp.com.
private.myapp.com. +86400 a 192.168.1.21
# NS replies:
#myapp.com. +86400 ns synth-ip-7f000001.myapp.com.
# AR replies:
#synth-ip-7f000001.myapp.com. +86400 a 127.0.0.1 
```

当我启动服务器时，**我也会收到带有警告的提示**

![在此处输入图像描述](../Images/86d09c1b2a33bada52614b743265adb1.png)

如何解决这个问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T17:37:29.357

我有同样的问题..通过用版本 1.4 替换最新版本来修复它.. 之后我唯一做的就是运行 mkSecretTxt.exe 来创建 secret.txt 文件并像这样配置 mararc 文件：

这是我当前的 mararc 文件：

```
# Win32-specific MaraRC file; this makes a basic recursive DNS
# server.

hide_disclaimer = "YES"
ipv4_bind_addresses = "127.0.0.1"
recursive_acl = "127.0.0.1/8"
timestamp_type = 2

csv2 = {}
csv2["local.com."] = "db.lan.txt"

# This is insecure until the secret.txt file is edited
random_seed_file = "secret.txt"

upstream_servers = {}
upstream_servers["."] = "208.67.222.222,208.67.220.220" 
```

db.lan.txt

```
% 192.168.1.33 ~ 
```

如您所见，我使用了 openDNS 服务器，如果您仍然遇到错误，请尝试它们。 [http://www.opendns.com/support/article/105](http://www.opendns.com/support/article/105)

干杯

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-07-18T16:15:48.723

对于跟随此的任何人，似乎 MaraDNS > 2.0 的当前解决方案是将 MaraDNS 与包含的 Deadwood 递归服务器结合使用，以便能够处理本地和外部解析。我能够使用以下配置在我的 Windows 10 机器上运行它...

假设 Windows 机器的 IP 地址是`192.168.1.2`

在 MaraDNS`mararc`文件中：

```
ipv4_bind_addresses = "127.0.0.1"
timestamp_type = 2
random_seed_file = "secret.txt"

csv2 = {}
csv2["mylocalnet.com."] = "db.lan.txt" 
```

在`db.lan.txt`文件中：

```
% 192.168.1.XXX ~ 
```

在 Deadwood`dwood3rc.txt`配置文件中：

```
upstream_servers = {}
upstream_servers["."]="8.8.8.8, 8.8.4.4"
upstream_servers["mylocalnet.com."]="127.0.0.1"

bind_address="192.168.1.2"

recursive_acl = "127.0.0.1/16, 192.168.1.1/24"

# By default, for security reasons, Deadwood does not allow IPs in the
# 192.168.x.x, 172.[16-31].x.x, 10.x.x.x, 127.x.x.x, 169.254.x.x,
# 224.x.x.x, or 0.0.x.x range.  If using Deadwood to resolve names
# on an internal network, uncomment the following line:
filter_rfc1918 = 0 
```

您可能会设置多台机器作为独立服务器，但我上面的配置特别之处在于使我能够在同一台机器上运行两台服务器。您可以在 Deadwood 配置中看到，我使用 Google 的 DNS 服务器来处理所有上游请求，但`mylocalnet.com.`转发到 localhost 并由 MaraDNS 处理的请求除外。

从这里，您只需要启动这两个程序并将 DNS 指向`192.168.1.2`. 去应该不错！

# objective-c - 在 ios 中显示特定号码的短信对话框

> ID：13411910
> 
> 赞同：0
> 
> 时间：2012-11-16T07:00:22.660
> 
> 标签：objective-c, ios

我知道 iOS 对访问短信和用户数据非常严格。但我希望实现简单的功能，比如日志。

在我的应用程序中，用户向另一个号码（机器人）发送短信。并在短信中恢复它的状态。我知道我无法以任何方式访问它们。但也许我可以设置一个按钮，如果有的话，它只会显示某个数字的短信。只需打开特定号码的消息即可。

这可能吗，苹果可以接受吗？

![弹出窗口](../Images/f0d347083e97166fb94709e89d235ceb.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:39:36.433

您只能发送短信。您无法查看任何消息。在此处查看[苹果文档](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/SystemMessaging_TopicsForIOS/Articles/SendinganSMSMessage.html#//apple_ref/doc/uid/TP40010416-SW1)。除了使用之外`MFMessageComposeViewController`，您唯一的选择是打开消息应用程序，

```
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"sms:"]]; 
```

或者只是弹出带有号码的短信应用程序，

```
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"sms:1234567890"]]; 
```

这是一个[类似的问题。](https://stackoverflow.com/questions/7442777/binary-sms-on-iphone)

**更新：**

如果您想在您的应用程序中执行此操作，您可以使用`MFMessageComposeViewController`. 查看[此苹果文档以获取更多详细信息](http://developer.apple.com/library/ios/#documentation/MessageUI/Reference/MFMessageComposeViewController_class/Reference/Reference.html)。

# java - java线程多线程

> ID：13411912
> 
> 赞同：0
> 
> 时间：2012-11-16T07:00:27.483
> 
> 标签：java, multithreading

在java中，在java中添加多个线程来完成一项任务是否有助于更快地执行该任务？

目前我的程序中使用了主线程，但速度很慢。我目前的测量结果是每秒 500 个进程，但进程总数超过了 10 亿。如何让我的程序运行得更快？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T07:06:26.180

> 在java中，在java中添加多个线程来完成一项任务是否有助于更快地执行该任务？

这完全取决于你在做什么。如果您在独立的数据片段上执行任务，在检索或存储结果方面没有瓶颈，并且假设您在一台具有多个处理器的机器上，那么是的，使用更多线程可能会有所帮助。

但是，有多种方法是*无济于事*的：

*   如果您正在从慢速资源读取输入数据，您可能会尽可能快地处理它
*   如果您正在将结果写入慢速资源，您可能会尽可能快地处理它，因为无论如何您都可以写入结果
*   如果一项任务依赖于另一项任务的结果，您可能无法获得任何并行化
*   如果您只有一个 CPU 内核，并且任务已经受 CPU 限制，那么添加更多线程将无济于事

在其中一些情况下，线程可以*提供帮助*，但不如它*只是*受 CPU 限制并且您有大量备用内核那么重要。你需要弄清楚你当前的瓶颈在哪里。

请注意，在*最好*的情况下，您只会获得与您拥有的核心数量成比例的加速。因此，如果你有 16 个核心（不太可能但可行）和完美的并行化，那么如果一个核心每秒可以处理 500 个项目并且你有 10 亿个项目，那么处理所有内容仍然需要将近 35 个小时。

几乎*可以肯定*的一件事是，您的多线程代码将比单线程代码更复杂。尝试使用高级抽象（例如 in`java.util.concurrent`而不是低级抽象（例如`java.lang.Thread`）以使事情变得更简单。

# java - Neo4j重连数据库后无法获取所有节点

> ID：13411913
> 
> 赞同：2
> 
> 时间：2012-11-16T07:00:30.920
> 
> 标签：java, neo4j

我使用 EmbeddedGraphDatabase() 创建了 neo4j 数据库并创建了一些节点和关系。然后我关闭了数据库。但是在我重新连接数据库后，使用以下方法： GraphDatabaseService graphDb=new EmbeddedGraphDatabase(DB_PATH);//DB_PATH 是原始数据库的路径

然后我尝试使用 GlobalGraphOperations.at(graphDb).getAllNodes(); 获取所有节点

但我无法获取所有节点，这意味着，我无法获取第一次连接数据库时创建的节点。

开发环境：neo4j版本为1.9M01，IDE为Eclipse，jdk为1.6-win32

有人知道原因吗？

非常感谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T05:23:06.643

我遇到了同样的问题，我无法根据索引检索我的节点。创建数据库时，我错过了 tx.success() 。当我重新创建数据库并将 tx.success() 包含在 finally{} 子句中时，一切都开始像魔术一样工作！非常感谢！

萨利尼

# jquery - 使用 HTTP 请求或 jQuery post 时浏览器卡住

> ID：13411917
> 
> 赞同：1
> 
> 时间：2012-11-16T07:00:54.950
> 
> 标签：jquery, post, browser-cache

我在我的网站中使用 HTTP 请求，这是最需要的。但是，在请求时间（0 秒到 70 秒）期间，浏览器会卡住，无法输入或选择。

知道如何解决吗？这是我正在使用的代码

```
$.ajax ({
    type: 'POST',
    url: 'url',
    dataType: 'json',
    async: false,
    data:DataRs,
    success: function (resData) {
    }    
}); 
```

而且，我的缓存没有被清除。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T07:08:31.977

如 jQuery 网站所述。

> 异步（布尔值）默认值：true
> 
> 默认情况下，所有请求都是异步发送的（即默认设置为true）。如果您需要同步请求，请将此选项设置为 false。跨域请求和 dataType: "jsonp" 请求不支持同步操作。**请注意，同步请求可能会暂时锁定浏览器，从而在请求处于活动状态时禁用任何操作。**从 jQuery 1.8 开始，不推荐在 jqXHR ($.Deferred) 中使用 async: false ；您必须使用完成/成功/错误回调。

如果您是`async: false`故意设置的，那么它是默认行为。或者您可以将其设为 true 或删除该属性。

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

# jquery - 尝试创建特定样式的基于 jquery 的菜单，不确定如何实现

> ID：13411921
> 
> 赞同：0
> 
> 时间：2012-11-16T07:01:36.080
> 
> 标签：jquery, user-interface, menu

我的问题是我没有词汇来搜索这种菜单样式的示例来学习如何实现它。如果有人能指出我正确的方向，我将不胜感激！

我正在尝试创建一个固定的标题菜单，其中包含一组面板，这些面板使用图像来表示冗长网页的不同部分（导航都在一个页面上，但在该页面内）。

大约有 12 或 13 张不同的图像，所以我需要能够在页面各个部分的缩略图之间水平前后滚动。

我在这里画了一个概念草图：

![页面概念](../Images/ec750386a30a99aea005e67fca8c6331.png)

您可以在我的示例中看到我显示了一个图表，但页面上还有许多其他图表在其上方和下方，以及一个突出显示的正方形位于用户的当前位置（或至少是最后一次选择，以保持一些简单）。

我**不是**要你们为我编写代码！但是当我搜索“jquery 滑动条菜单”或“jquery 缩略图菜单”之类的东西时，我遇到了死胡同，但我确信这是 jquery 擅长的事情。我对 javascript 很陌生，主要只是重新利用现有的脚本，所以任何关于我如何达到这个目标的建议都会非常感激。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T07:15:34.230

您可能正在寻找`carousel`：[jCarousel](http://sorgalla.com/projects/jcarousel/examples/static_simple.html)

然后，向轮播项目添加一个点击事件，该事件将在其下方的容器上加载/显示相应的图形/图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T07:20:58.397

正如 kayen carousel 所提到的，它将是您的最佳搜索键。

我有类似的问题，为此我使用了响应式轮播。它还有一个缩略图，可以告诉你在哪个图像上。

[http://johnpolacek.github.com/ResponsiveThumbnailGallery/](http://johnpolacek.github.com/ResponsiveThumbnailGallery/)

# debugging - 无法运行 Informix 4GL 交互式调试器

> ID：13411922
> 
> 赞同：2
> 
> 时间：2012-11-16T07:01:36.987
> 
> 标签：debugging, informix, suse

我正在阅读 Informix 4GL By Example。Ex4 给出了分段错误，因此我尝试使用调试器找出程序失败的位置，但调试器无法正常工作。

从内部`r4gl`，我可以编译表单和模块。但是当我调试时，它会显示一个空白屏幕，并显示“按回车键继续”。

从命令行`fgldb`返回以下错误：

```
fgldb: symbol lookup error: fgldb: undefined symbol: kw__numkws 
```

数据库已启动并正在运行，我可以`isql`进入并运行查询。

系统详情：

*   OpenSuSE 12.1 32 位
*   Informix RDS 7.50 UC6
*   Informix SQL DEV 7.50 UC6
*   Informix 成长版 11.70 UC5
*   Informix 交互式调试器 7.50 UC6

我在网上搜索过，但没有发现任何有用的东西。知道有什么问题吗？

更新 1：

再次感谢您的帮助。我将尝试安装在单独的目录中并让您知道。这可能是金发女郎，但我如何安装在不同的目录中。如果我尝试我得到错误：

“INFORMIXDIR 和工作目录不匹配。” "INFORMIXDIR = /usr/informix" "当前工作目录 = /usr/informix/i4gl"

我可以编辑 $INFORMIXDIR 以匹配我要安装的位置吗？

非常感谢，

尼尔

更新 2：

好的，所以我将它们都安装在 /usr/informix/i4gl 中。

将变量设置为指向该目录，但不确定究竟需要哪些变量，因为我仍然收到错误。

1.  fgldb：-16326：无法打开文件“fgldb.iem”

/usr/informix/i4gl 确实包含目录 msg/en_us/0333，但该文件不存在，而 /usr/informix/msg/en_us/0333 确实包含 fgldb.iem 文件。

1.  isql -> 查询语言：说 SELECT DATABASE，但没有或显示供我选择。

亲切的问候

尼尔

更新 3：

好的，我的金发妈妈现在都快疯了，但是在安装到 /usr/informix/i4gl 之后，我再也没有改回 $INFORMIXDIR 变量。我这样做了，然后停止并启动了数据库。

现在，当尝试编译演示 f_custkey.per（像以前一样使用 stores_demo db）表单时，我收到错误 -329 和 -2810，这与找不到数据库有关。

我不确定这是否是你在上一次声明中所说的。我不确定将这两个拆分成单独的目录是否解决了我的调试器问题，因为现在我无法编译任何东西，但我感觉我已经接近了。

亲切的问候，

尼尔

更新 4 - 决赛！

好的，所以它现在正在工作。

再次运行 dbaccessdemo7 命令以重新创建数据库，一切顺利。

编译和调试 ex4 现在可以工作了。

非常感谢您提供的所有信息。边走边学。

亲切的问候

尼尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T02:07:16.373

kw_numkws 问题在 7.50.UC6 后得到修复。所以下一个可用的修复包将有修复。在此期间，IBM 技术支持发布了“技术警报”，建议客户将 I4GL（和 ISQL）安装在单独的目录中 - 上面 Jonathan Leffler 建议的选项 #2。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-17T01:55:18.447

您遇到的核心转储/崩溃是我们本周早些时候发现的一个不幸的错误。ESQL/C 代码是固定的（截至今天），但固定版本尚不可用，并且暂时不会可用（阅读“最早直到感恩节之后”）。I4GL 和 ISQL 代码仍然需要修复（一些独立但密切相关的问题）。

发生的事情是 CSDK 中的结构改变了大小。I4GL 将使用一种大小编译代码，而 CSDK 库需要另一种大小；差异约为 4 个字节。这导致难以跟踪内存覆盖。

这个`kw__numkws`问题是一个较老的问题，我认为在 7.50.UC6 中已修复。我将不得不检查该版本是否确实得到了修复，如果是的话，你是如何看到这个错误的。

有几个短期选项可以让您继续前进，直到有固定的合奏可用：

1.  在服务器目录中重新安装 I4GL（和 ISQL）。我还没有证明这会奏效。这个概念是为了确保 I4GL 使用它所构建的 CSDK 库，而不是更新的 3.70.xC6 版本。

2.  在单独的目录中重新安装 I4GL（和 ISQL）（`/opt/IBM/i4gl`也许是 ）。`sqlhosts`在这个目录下有一个合适的文件；它可能是 IDS 目录中的符号链接。将 I4GL 程序指向此替代目录，适当设置 LD_LIBRARY_PATH。

选项 2 确保 I4GL 使用的是“正确的”CSDK。选项 1 可能会达到相同的结果，但我不准备保证。因此，我建议选项 2。

如果您的 I4GL 代码需要运行 DB-Access 或在服务器中找到的其他程序`$INFORMIXDIR`，有一些方法可以解决这个问题——在评论中指出，我会解释，但如果没有必要，我不想让您感到困惑。（这不是非常困难，但也不是完全微不足道的。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T20:02:17.630

选项 3\. 是发现用于创建 4GL 工具的 CSDK 并安装 THAT 而不是当前的。在 4GL 7.50FC6 的情况下，它是 CSDK 3.70FC4。

我在拆分引擎和工具时遇到了问题。到目前为止，这似乎有效。

# c++ - 当它们被定义为静态变量作为类成员时如何初始化stl映射

> ID：13411923
> 
> 赞同：0
> 
> 时间：2012-11-16T07:01:55.183
> 
> 标签：c++, stl

对于以下代码，我收到链接器错误。我想知道如何初始化`stl map`

```
#include <iostream>
#include <map>
#include <string>

class Test {
public:
  Test() {
  }
  static void setSerializer(void* fnptr, std::string className) {
    m_registry.insert(std::make_pair(className, fnptr));
  }
  static void* getSerializer(std::string className) {
    return m_registry.find(className)->second;
  }
private:
  static std::map<std::string, void*> m_registry;
};

void fn() {
}

int main() {
  Test::setSerializer(&fn,"abc");
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T07:02:49.173

您需要在类实现中**定义**静态变量——就像对*外部*C++ 变量所做的那样。仅仅在课堂上声明是不够的！为此，请将以下代码放入 .cpp 文件中：

```
std::map<std::string, void*> Test::m_registry; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T07:14:03.383

您需要在 .cpp 文件中初始化静态成员。通常我们在 .h 文件中声明类并将定义放入 .cpp 文件中。我对您的代码做了一些增强，如下所示：

测试.h

```
class Test 
{
public:
  Test() { }
  static void setSerializer(std::string className, void* fnptr); // I swap the order of parameter. it makes more sense to have name and pointer pair
  static void* getSerializer(std::string className);

private:
  static std::map<std::string, void*> m_registry;
}; 
```

测试.cpp

```
std::map<std::string, void*> Test::m_registry;   // initialize static member here

void Test::setSerializer(std::string className, void* fnptr)
{
  m_registry.insert(std::make_pair(className, fnptr));
}

void* Test::getSerializer(std::string className) {    
  auto iter =  m_registry.find(className);   // check if iterator is valid 
  if (iter != m_registry.end() )
  {
    return (*iter).second;
  }
  return NULL;
} 
```

# php - 从我的网站 1 访问我的其他数据库到我的网站 2

> ID：13411925
> 
> 赞同：1
> 
> 时间：2012-11-16T07:02:19.820
> 
> 标签：php, javascript, mysql, codeigniter

我目前在网络上上传了网站 1，并且我现在还开发了一个在本地主机上运行的网站 2.. 我想从网站 1 数据库访问或获取一些值到我的网站 2.. 这是否可以使用 php 查询还是javascripting？如果没有，我需要采取什么方法？谢谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:23:40.460

是的，您可以，您只需像此示例一样传递服务器详细信息的参数。

```
<?php
//Connect To Database
$hostname='ukld.db.5510597.hostedresource.com';
$username='myusername';
$password='mypassword';
$dbname='testdb';
//your rest of code
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T08:01:22.143

要允许来自外部 IP 地址的连接，您还需要执行以下操作：

> 授予对新数据库的访问权限
> 
> 如果您想为用户 bar 和远程 IP 202.54.10.20 添加一个名为 foo 的新数据库，那么您 > 需要在 mysql> 提示符下键入以下命令：
> 
> mysql> 创建数据库 foo;
> 
> mysql> GRANT ALL ON foo.* TO bar@'202.54.10.20' IDENTIFIED BY 'PASSWORD';

[更多信息](http://www.cyberciti.biz/tips/how-do-i-enable-remote-access-to-mysql-database-server.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T11:39:26.113

是的，这很简单。

`<?php`
`$hostname = "remote_host_name";`
`$database = "remote_database_name";`
`$username = "database_username";`
`$password = "database_password";`

`$con = mysql_connect($hostname, $username, $password);`
`mysql_select_db($database, $con);`
`?>`

`$con`在运行查询时 将其用作第二个参数。

例如`mysql_query($query, $con);`

，确保您已在服务器 2 mysql 数据库中授予服务器 1 的访问权限。

# android - 如何让谷歌电视自动启动应用程序并在设定的时间重新启动它

> ID：13411927
> 
> 赞同：2
> 
> 时间：2012-11-16T07:02:34.660
> 
> 标签：android, google-tv

我正在做一个项目，该项目要求每当谷歌电视盒开机时，它应该自动启动应用程序；而且，当它运行时，它应该在一天中的某个时间重新启动应用程序。

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T16:24:52.507

您可以为“android.intent.action.BOOT_COMPLETED”意图创建一个广播接收器，以便在盒子启动时得到通知。

AlarmManager 允许您根据不同的时间间隔调用广播接收器。

# vb.net - 使用兑换访问共享邮箱，用于 Vb.net Outlook 插件

> ID：13411932
> 
> 赞同：2
> 
> 时间：2012-11-16T07:02:47.963
> 
> 标签：vb.net, outlook-addin, outlook-redemption

我正在使用 Redemption 开发 Outlook 插件，它必须将电子邮件从我的 Outlook 收件箱移动到指定的文件夹。它工作正常，直到它用于本地邮箱。当我尝试在共享邮箱上做同样的事情时，从我的前景来看它不起作用。在我的前景中，我访问共享邮箱并尝试将邮件从共享邮箱“收件箱”移动到共享邮箱本身的文件夹中。

我使用下面的代码相同。

```
oTempFolder = oRDOSession.GetSharedMailbox("mailbox name") 
```

它引发以下错误：System.InvalidCastException：无法将“Redemption.RDOStoreClass”类型的 COM 对象转换为接口类型“Redemption.RDOFolder”。此操作失败，因为 IID 为“{15B8597F-0A55-4361-AE8B-1F690BC61EE4}”的接口的 COM 组件上的 QueryInterface 调用因以下错误而失败：不支持此类接口（HRESULT 异常：0x80004002 (E_NOINTERFACE)） .

我也尝试输入邮箱名称和邮箱地址，但没有任何帮助。

我尝试了下面的代码，在stackoverflow本身上找到

```
store = _session.Stores.GetSharedMailbox("Example shared mailbox "); 
```

但这并没有什么不同。

有人可以指导我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T09:10:51.163

经过一番研究和试验，我找到了上述问题的解决方案。下面的代码行是它的实际开始。

```
store = _session.Stores.GetSharedMailbox("Example shared mailbox "); 
```

下面是在需要查找的共享邮箱中查找文件夹的代码。

```
 Dim Rclass As Redemption.RDOStore
 Dim oTempFolders As Redemption.RDOFolders    
 Dim oTempFolder As Redemption.RDOFolder          
 Rclass = oRDOSession.Stores.GetSharedMailbox(aFolders(0))

 oTempFolders = Rclass.IPMRootFolder.Folders

 For i = 1 To oTempFolders.Count

   oTempFolder2 = oTempFolders.Item(i)

   If oTempFolder2.Name.ToLower = "folder name" Then
       oTempFolder = oTempFolder2
       Exit For
   End If
 Next 
```

希望这对遇到此问题的人有所帮助。

# nfc - libnfc：“未找到 NFC 设备。”

> ID：13411937
> 
> 赞同：1
> 
> 时间：2012-11-16T07:03:17.357
> 
> 标签：nfc

我使用 RC-S330 进行 libnfc 开发，它运行良好。当我运行“nfc-list”时，出现“NFC 设备：Sony / - PN533 v1.48 (0x07) 已打开”。

最近我买了一台 RC-S320 并尝试运行“nfc-list”，但“未找到 NFC 设备”。出现了。

当我查看“lsusb”时，RC-S330 的结果是：

```
 Product ID: 0x02e1
          Vendor ID: 0x054c  (Sony Corporation)
          Version: 1.30
          Speed: Up to 12 Mb/sec
          Manufacturer: Sony
          Location ID: 0xfa130000 / 6
          Current Available (mA): 500
          Current Required (mA): 200 
```

RC-S320 的结果是：

```
 Product ID: 0x01bb
          Vendor ID: 0x054c  (Sony Corporation)
          Version: 1.28
          Speed: Up to 1.5 Mb/sec
          Location ID: 0xfd120000 / 4
          Current Available (mA): 500
          Current Required (mA): Unknown (Device has not been configured) 
```

如何将 RC-S320 与 libnfc 一起使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-10-06T21:44:23.487

看起来 RC-S320 不在支持的硬件列表中：[http ://nfc-tools.org/index.php?title=Devices_compatibility_matrix](http://nfc-tools.org/index.php?title=Devices_compatibility_matrix)

# linkedin - LinkedIn API：如何从控制台应用程序刷新访问令牌

> ID：13411938
> 
> 赞同：1
> 
> 时间：2012-11-16T07:03:17.577
> 
> 标签：linkedin, access-token

在 LinkedIn API 中，访问令牌将在 60 天后过期，我想在控制台应用程序中过期之前的 60 天内刷新它们。我查看了这个文档：[https](https://developer.linkedin.com/blog/tips-and-tricks-refreshing-access-token) ://developer.linkedin.com/blog/tips-and-tricks-refreshing-access-token ，我也查看了这个论坛的很多帖子，但是看起来刷新流程现在仍然清晰为了我。

**请注意：** 我需要从**控制台**应用程序刷新访问令牌 - 它不是网站，它是在后端运行的工具，它**没有 cookie**并且无法打开网页要求用户登录。

如果有一些示例代码（不适用于网站）应该更好，例如：C# 或 Java 代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-17T09:04:00.130

~~您可以使用 curl 来完成此操作。对于您使用的任何编程语言，都应该有一个相关的 curl 库。~~

其工作方式如下：

1.  你发送一个 POST 请求到`https://api.linkedin.com/uas/oauth/requestToken`
2.  您会收到一个请求令牌。`XXX`在以下调用中使用该令牌代替：`https//www.linkedin.com/uas/oauth/authenticate?oauth_token=XXX`
3.  您将收到所需的响应，其中包括您需要保存的访问令牌。它不会在接下来的 60 天内过期。

~~如果你能详细说明你遇到的问题，那肯定会有所帮助。~~

我明白你现在的意思了。Linkedin 不允许，也永远不会允许您这样做。访问令牌过期的原因是为了给用户增加一层额外的隐私保护。如果用户没有积极使用您的应用程序，Linkedin 永远不会希望您访问用户数据。当然，您可能会遇到不需要他们采取任何行动的情况，这是唯一的缺点。因此，您需要给他们一个在每个令牌的生命周期中至少访问您的应用程序一次的理由。

我希望这有帮助。

# c# - 获取国际国家 ISD 电话代码的最佳方式

> ID：13411941
> 
> 赞同：2
> 
> 时间：2012-11-16T07:03:41.123
> 
> 标签：c#

我正在寻找任何可以为我提供任何国家/地区的 ISD 代码的例程。我在谷歌上搜索了很多，但没有找到类似的东西。我试图这样做：

```
 public string ISDCode(string strCountryCode)
    {
        string countryCode = "";
        XmlDocument xdoc = new XmlDocument();
        string url = "http://www.oorsprong.org/websamples.countryinfo/CountryInfoService.wso/CountryIntPhoneCode?";
        url = url + "sCountryISOCode=" + strCountryCode;
        xdoc.Load(url);
        countryCode =  xdoc.DocumentElement.InnerText.ToString();
        return countryCode;
    } 
```

我使用这个[网络服务](http://www.oorsprong.org/websamples.countryinfo/CountryInfoService.wso)

但通常无法访问。请指导我如何获得任何国家的 ISD 代码。我只会传递国家代码。例如，我将为加拿大传递“CA”，而例程将为我提供加拿大 ISO 代码。请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-11-17T05:52:32.793

我们的应用程序之一是在下拉列表中显示国家及其 ISD 代码。我在这里分享我们使用的**JSON**文件。

它包含几乎所有国家及其名称、国家代码和 ISD 代码。 [https://gist.github.com/iamswapnilsonar/0e1868229e98cc27a6d2e3487b44f7fa](https://gist.github.com/iamswapnilsonar/0e1868229e98cc27a6d2e3487b44f7fa)

希望这对您有帮助！如果您有任何建议/更正，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T08:16:14.243

如果您出于某种原因不想使用网络服务，我会去维基百科：

[http://en.wikipedia.org/wiki/List_of_country_calling_codes](http://en.wikipedia.org/wiki/List_of_country_calling_codes)

...或在这里：

[http://countrycode.org/](http://countrycode.org/)

...并从中构建我自己的查找表。事实上，编写一个自动生成的脚本对我来说听起来很有趣。:)

# android - GCM android Push Notification 总是显示旧消息。收到的意图不正确

> ID：13411952
> 
> 赞同：5
> 
> 时间：2012-11-16T07:04:44.450
> 
> 标签：android, android-intent, android-c2dm, google-cloud-messaging

我有一个完美运行的 GCM 通知实现。但是，问题是一旦在接收方法中的意图中接收到消息，显示的消息始终是旧消息。那就是' extras.getString("payload") '总是显示旧消息。我似乎无法弄清楚问题是什么。

发送 GCM 通知的类是：

```
import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.util.Log;

public class C2DMMessageReceiver extends BroadcastReceiver {
            @Override
            public void onReceive(Context context, Intent intent) {
                            String action = intent.getAction();
                            Log.w("C2DM", "Message Receiver called");
                            if ("com.google.android.c2dm.intent.RECEIVE".equals(action)) {
                                            Log.w("C2DM", "Received message");
                                            String payload = intent.getStringExtra("payload");
                                            Log.d("C2DM", "dmControl: payload = " + payload);
                                            // TODO Send this to my application server to get the real data
                                            // Lets make something visible to show that we received the message
                                            createNotification(context, payload);
                            }
            }

            public void createNotification(Context context, String payload) {
                           NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);
                            Notification notification = new Notification(R.drawable.icon,
                                                            "Message sent!", System.currentTimeMillis());
                            // Hide the notification after its selected
                            //notification.flags |= Notification.FLAG_AUTO_CANCEL;
                            notification.ledARGB = 0xff00ff00;
                            notification.ledOnMS = 300;
                            notification.ledOffMS = 1000;
                            notification.flags |= Notification.FLAG_SHOW_LIGHTS;

                            Intent intent = new Intent(context, MessageReceivedActivity.class);
                            intent.putExtra("payload", payload);
                            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                            intent.putExtra("NotifID", 1);
                            PendingIntent pendingIntent = PendingIntent.getActivity(context, 0,intent, 0);
                            notification.setLatestEventInfo(context, "Message","Message Recieved", pendingIntent);
                            notificationManager.notify(0, notification);
            } 
```

}

接收通知消息的类是：

```
import android.app.Activity;
import android.app.NotificationManager;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.provider.MediaStore;
import android.widget.TextView;

public class MessageReceivedActivity extends Activity {
            @Override
            protected void onCreate(Bundle savedInstanceState) {
                            setContentView(R.layout.activity_result);
                            NotificationManager notificationManager = (NotificationManager) this
                                                            .getSystemService(Context.NOTIFICATION_SERVICE);
                            //---cancel the notification---
                            int id=getIntent().getExtras().getInt("NotifID");
                            notificationManager.cancelAll();       
                            Bundle extras = getIntent().getExtras();
                            if (extras != null) {
                                            String message = extras.getString("payload");
                                            if (message.equals("call")) {
                                                            Intent intent = new Intent(Intent.ACTION_CALL);
                                                            intent.setData(Uri.parse("tel:9916261960"));
                                                            startActivity(intent);
                                            } else if (message.equals("camera")) {
                                                            Intent cameraIntent = new Intent(
                                                                                            MediaStore.ACTION_IMAGE_CAPTURE);
                                                            startActivity(cameraIntent);
                                            } else {
                                                            if (message != null && message.length() > 0) {
                                                                            TextView view = (TextView) findViewById(R.id.result);
                                                                            view.setText(message);
                                                            }
                                            }
                            }
                            super.onCreate(savedInstanceState);
            } 
```

}

在这里， extras.getString("payload"); 始终保存第一次发送的通知消息。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-16T07:51:51.370

创建待处理意图时，请使用[FLAG_UPDATE_CURRENT](http://developer.android.com/reference/android/app/PendingIntent.html#FLAG_UPDATE_CURRENT)

```
PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT); 
```

否则，旧的意图会在没有新的附加功能的情况下被重用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T14:41:52.040

尝试在里面获取你的意图

@Override protected void onNewIntent(Intent intent) {

```
super.onNewIntent(intent);

    Bundle extras = intent.getExtras();
    fromScreen = getIntent().getIntExtra("FROMSCREEN",
            Config.SHARE_SCREEN_TAG);
//enter code here 
```

}

# c# - México DF 在回传时显示为 M??xico DF

> ID：13411955
> 
> 赞同：3
> 
> 时间：2012-11-16T07:05:01.893
> 
> 标签：c#, asp.net, encoding, ascii

我正在将文本**México DF** 从 javascript 发送到 C#，但我收到**M??xico DF**。我的 C# 代码如下。

```
public IAsyncResult BeginProcessRequest(HttpContext context, AsyncCallback cb, object extraData)
{
     System.Text.ASCIIEncoding enc = new System.Text.ASCIIEncoding();
     string PostbackData = enc.GetString(context.Request.BinaryRead(context.Request.TotalBytes));
} 
```

PostbackData 包含 **México DF** 文本作为**M??xico DF**。我该如何解决。请帮我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T07:11:35.570

您不应该使用`ASCII`，因为那里没有这样的符号`é`，所以请改用[Encoding.UTF8](http://msdn.microsoft.com/en-us/library/system.text.encoding.utf8.aspx)：

```
using System.Text;

public IAsyncResult BeginProcessRequest(HttpContext context, AsyncCallback cb, object extraData)
{
     //System.Text.UTF8Encoding enc = new System.Text.UTF8Encoding();
     string postbackData = Encoding.UTF8.GetString(context.Request.BinaryRead(context.Request.TotalBytes));
} 
```

**编辑，正如 John Skeet 提到**的：您可以从您的请求中使用 Encoding 而不是尝试猜测它 - 有时甚至 UTF-8 还不够，所以更好的方法是：

```
using System.Text;

public IAsyncResult BeginProcessRequest(HttpContext context, AsyncCallback cb, object extraData)
{
     //System.Text.UTF8Encoding enc = new System.Text.UTF8Encoding();
     string postbackData = context.Request.ContentEncoding.GetString(context.Request.BinaryRead(context.Request.TotalBytes));
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T07:11:18.040

您正在使用`ASCIIEncoding`（并且没有明显的原因创建它的新实例 - 更喜欢 中的工厂属性`Encoding`）。ASCII 不包含任何重音字符。

编辑：您应该使用该[`HttpRequest.ContentEncoding`](http://msdn.microsoft.com/en-us/library/system.web.httprequest.contentencoding.aspx)属性来确定请求标头的编码，而不是对其进行硬编码：

```
 HttpRequest request = context.Request;
 byte[] binaryData = request.BinaryRead(context.Request.TotalBytes);
 string postbackData = request.ContentEncoding.GetString(binaryData); 
```

请注意，在代码主体中使用完全限定名称几乎*不是*一个好主意。改为添加`using`指令。另请注意，C# 中的局部变量通常是驼峰式而不是 PascalCased。

# jquery - 将新行添加到 jqgrid

> ID：13411956
> 
> 赞同：0
> 
> 时间：2012-11-16T07:05:05.070
> 
> 标签：jquery, asp.net, jqgrid

我有一个文本框和添加按钮。一旦用户在文本框中输入一些值并单击添加按钮，文本框值应该存储在 jqgrid 中。但是文本框的值没有在 jqgrid 中绘制如何实现这个..？

这是aspx代码：

```
 <div>
    <table>
         <tr>
             <td>
              <span class="SubHeading">Users </span></td>
              <td>
              <asp:TextBox ID="txt_users" runat="server" />
              </td>
               <td>
              <asp:Button ID="btn_addusers" Text="Add" style="margin-left: 10px;"runat="server" />

                </td>                  

                 </tr>
    </table>
    <div> 
```

这是js代码：

```
$(document).ready(function() {
    $("#btn_addusers").click(function() {
        $("#users_grid").trigger("reloadGrid");

        var mydata = $('#txt_users').val();
        $("#users_grid").jqGrid({
            datatype: "local",
            data: mydata,
            gridview: true,
            height: 'auto',
            width: 'auto',
            colNames: ['User ID'],
            colModel: [
        { name: 'userid', width: 180 }

    ],

            caption: "Users in Private space"
        });
        return false;

    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T15:41:49.197

您应该将定义`jqGrid` *移出*`click`句柄。网格可以创建*一次*。如果用户需要向网格中添加一行，您可以使用`addRowData`. 或者，您可以使用`addRow`which 在网格中添加*空*行。您还可以使用`inlineNav`在网格导航栏中集成“添加”按钮。如果您使用[toppager: true](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:options)选项，您会将寻呼机放在顶部而不是网格底部。有关详细信息，请参阅[答案](https://stackoverflow.com/a/4402903/315935)和[这个](https://stackoverflow.com/a/3557663/315935)。

# advanced-installer - “找不到主类”的自定义消息

> ID：13411958
> 
> 赞同：1
> 
> 时间：2012-11-16T07:05:13.733
> 
> 标签：advanced-installer

我正在使用高级安装程序，到目前为止，它对我来说非常好用，有时由于任何问题，我的 exe 找不到主类，它会给出一条警告消息，即“找不到主类 abc/test/MyClass”我喜欢为用户定制这条消息，因为有些用户不习惯“使用程序术语”或“这种类型的消息”，所以我们喜欢为此添加一条自定义消息，请告诉我们如何...

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-19T06:53:57.863

[谷歌搜索](https://www.google.com.pk/)，但发现[高级安装程序](http://www.advancedinstaller.com/forums/viewtopic.php?f=2&t=22086)到目前为止没有任何选项

# javascript - Window.open 仅在窗口未打开时打开

> ID：13411960
> 
> 赞同：7
> 
> 时间：2012-11-16T07:05:32.000
> 
> 标签：javascript, window.open

我的网站上有一个链接，可以打开一个新窗口，指向播放很长的音频文件的页面。如果多次单击链接，我当前的脚本可以正常打开页面并且不会刷新。但是，当我移动到我网站上的单独页面并再次单击此链接时，它会重新加载。我知道当父元素更改时，我将丢失我的变量，因此我需要打开窗口，覆盖现有内容。我正试图找到解决方案。我宁愿不使用 cookie 来实现这一点，但如果需要，我会这样做。

我的脚本如下：

```
function OpenWindow(){
    if(typeof(winRef) == 'undefined' || winRef.closed){
    //create new
    winRef = window.open('http://samplesite/page','winPop','sampleListOfOptions');
    } else {
    //give it focus (in case it got burried)
     winRef.focus();
    } 
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-16T10:15:38.023

您应该首先在`winRef = window.open("", "winPopup")`没有 URL 的情况下调用 - 如果它存在，这将返回一个窗口，而无需重新加载。并且仅当`winRef`是`null`或空窗口时，才创建新窗口。

这是我的测试代码：

```
var winRef;

function OpenWindow()
{
  if(typeof(winRef) == 'undefined' || winRef.closed)
  {
    //create new
    var url = 'http://someurl';
    winRef = window.open('', 'winPop', 'sampleListOfOptions');
    if(winRef == null || winRef.document.location.href != url)
    {
      winRef = window.open(url, 'winPop');
    }
  }
  else
  {
    //give it focus (in case it got burried)
    winRef.focus();
  } 
} 
```

有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T08:45:41.740

就像您说的那样，在离开原始页面后，您会忘记您可能打开了哪些窗口。

据我所知，没有办法“重新获得”对该特定窗口的引用。您可能（使用 cookie、服务器端会话或其他）知道该窗口已经打开，但您永远无法从不同的页面（即使在同一个域上）直接访问它。已经打开的窗口之间的这种通信可以在 ajax 和服务器端代码的帮助下进行模拟，当在两个窗口之间共享一些信息时，它们将充当代理。然而，这不是一个简单或干净的解决方案。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-16T10:07:45.557

感谢 Stan 和[http://ektaraval.blogspot.ca/2011/05/how-to-set-focus-to-child-window.html](http://ektaraval.blogspot.ca/2011/05/how-to-set-focus-to-child-window.html)

我的解决方案创建了一个突破性弹出式 mp3 播放器，该播放器在站点范围内保持活动状态，并且仅在单击链接按钮之前未打开窗口时才会刷新

```
function OpenWindow(){
    var targetWin = window.open('','winPop', 'sample-options');
    if(targetWin.location == 'about:blank'){
        //create new
        targetWin.location.href = 'http://site/megaplayer';
        targetWin.focus();
    } else {
        //give it focus (in case it got burried)
        targetWin.focus();
    } 
} 
```

# time - 相同的CUDA内核执行时间之间的巨大差异

> ID：13411963
> 
> 赞同：1
> 
> 时间：2012-11-16T07:06:18.830
> 
> 标签：time, cuda

我正在多次（30）次启动一组内核。这 30 个的每次测试（它们是确定性的，在每次测试中，一组内核被调用 10 次，并且这个数字是固定的），一开始，我执行 cudaSetDevice(0)，一切都得到 malloc'd 和 memcpy'd。当测试完成并花费了执行时间时，一切都是 cudaFree'd。

这是我的程序的示例输出：

```
avg:  81.7189
times:
213.0105 202.8020 196.8834 202.4001 197.7123 215.4658 199.5302 198.6519 200.8467
203.7865 20.2014 20.1881 21.0537 20.8805 20.1986 20.6036 20.9458 20.9473 20.292
9 20.9167 21.0686 20.4563 24.5359 21.1530 21.7075 23.3320 20.5921 20.6506 19.933
1 20.8211 
```

前 10 个内核大约需要 200 毫秒，而其他内核大约需要 20 毫秒。

显然每个内核计算相同的值，它们都打印正确的值。但是由于我以相同的顺序 malloc 每次测试，GPU 内存不能仍然具有与上次执行相同的值吗？

此外，内核没有返回错误，因为我正在检查它们。每个内核启动都有 cudaThreadSynchronize() 用于调试目的并在它们之后使用此宏进行错误检查：

```
#define CUDA_ERROR_CHECK  if( (error = cudaGetLastError()) != cudaSuccess) printf("CUDA error: %s\n", cudaGetErrorString(error)); 
```

为什么会这样？

我从 Windows 函数中获取执行时间：

```
void StartCounter()
{
    LARGE_INTEGER li;
    if(!QueryPerformanceFrequency(&li))
        cout << "QueryPerformanceFrequency failed!\n";

    PCFreq = double(li.QuadPart)/1000.0;

    QueryPerformanceCounter(&li);
    CounterStart = li.QuadPart;
}

void StopCounter()
{
    LARGE_INTEGER li;
    QueryPerformanceCounter(&li);
    double time = double(li.QuadPart-CounterStart)/PCFreq;
    v.push_back(time);
} 
```

**编辑：**

malloc、副本和其他东西没有被计时。我只计算执行时间（内核启动和同步）。

Visual Studio 2010 的优化已打开。一切都设置为最大化速度。CUDA 的优化也在进行中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T07:47:58.690

使用测量内核执行时间`QueryPerformanceTime`是错误的，因为主机调用设备并且它们是并行工作的。你很可能只测量通话时间。

要检查内核执行时间，请使用 ahmad 提到的`cudaEvents`：

```
cudaEvent_t start, stop;
float time;
cudaEventCreate(&start);
cudaEventCreate(&stop);
...
cudaEventRecord(start, 0);
yourkernel <<< n_blocks, block_size >>> (a_d, N);
cudaEventRecord(stop, 0);
cudaEventSynchronize(stop);
... 
cudaEventElapsedTime(&time, start, stop);
printf ("Time for the kernel: %f ms\n", time); 
```

如果你想使用`QueryPerformanceTime`你必须打电话

```
cudaDeviceSynchronize(); 
```

在内核调用之后。它将等到内核停止。

# objective-c - 在 Objective-C 中解析 NSURL

> ID：13411968
> 
> 赞同：0
> 
> 时间：2012-11-16T07:07:32.097
> 
> 标签：objective-c

我有一个 NSTextView 控件，其中可能包含链接。如何获取链接的完整 url？

这是我到目前为止所拥有的

```
-(BOOL)textView:(NSTextView *)aTextView clickedOnLink:(id)aLink atIndex:(NSUInteger)charIndex 
 {
     NSURL *htmlURL = [NSURL fileURLWithPathComponents:[aLink pathComponents]];
 } 
```

这给了我一个以 file://localhost 开头的 URL ...我如何摆脱 URL 的那部分？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:28:52.120

```
NSURL* url = [NSURL URLWithString:@"http://localhost/myweb/index.html"];
NSString* reducedUrl = [NSString stringWithFormat:
    @"%@://%@",
    url.scheme,
    [url.pathComponents objectAtIndex:1]]; 
```

# twitter - sencha touch 2 中的面板内无法正确呈现自定义 HTML 代码

> ID：13411969
> 
> 赞同：0
> 
> 时间：2012-11-16T07:07:34.837
> 
> 标签：twitter, sencha-touch-2

我需要在 sencha touch2 的面板中添加以下内容

```
<a href="https://twitter.com/share" class="twitter-share-button" data-text="Check out for more......" data-size="large" data-dnt="true">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script> 
```

但它只是渲染

```
<div class="x-innerhtml " id="ext-element-156"><a href="https://twitter.com/share" class="twitter-share-button" data-text="Check out for more @z" data-size="large" data-dnt="true">Tweet</a>                   <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="http://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></div> 
```

代替

```
<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.1352365724.html#_=1353049473087&amp;count=horizontal&amp;dnt=true&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2Flocalhost%2Fmyapp%2Fchannel.html&amp;size=l&amp;text=Check%20out%20for%20more......&amp;url=http%3A%2F%2Flocalhost%2Fmyapp%2Fchannel.html" class="twitter-share-button twitter-count-horizontal" style="width: 136px; height: 28px; " title="Twitter Tweet Button" data-twttr-rendered="true"></iframe>
<script id="twitter-wjs" src="//platform.twitter.com/widgets.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script> 
```

我在 sencha 中使用以下代码

```
var tweetbtn = {
                xtype: 'panel',
                name: 'tweetbtn', 
                 id:"tweetbtn",
                width:100,height:100,
                html:'<a href="https://twitter.com/share" class="twitter-share-button" data-text="Check out for more......" data-size="large" data-dnt="true">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="http://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>',

                } ; 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-05T05:42:27.700

如上所示，您不能将标签添加到 html 属性。所有 javascript 真正做的是加载外部 Twitter javascript 文件并将其附加到您的元素。一旦面板被渲染以加载外部 Twitter 文件，您实际上应该只使用 loadScriptFile 函数 (http://docs.sencha.com/touch/2-1/#!/api/Ext.Loader-method-loadScriptFile)。

# magento - 如何在 Magento 中为不同的产品使用不同的尺寸表

> ID：13411971
> 
> 赞同：-1
> 
> 时间：2012-11-16T07:07:46.503
> 
> 标签：magento, charts, size

我需要为我的 magento 商店添加不同产品的不同尺寸表。

任何人都可以在这里解释，如何做到这一点，并给我一个解决方案来做到这一点。

提前感谢formygalaxy

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T08:59:14.197

您可以将产品属性（例如制造商）与静态块联系起来。

请参阅此代码：

```
$sizeGuideIdentifier = trim($_product->getAttributeText('manufacturer'));
$sizeGuideIdentifier = str_replace(' ','-',strtolower($sizeGuideIdentifier)) .'-size-guide';

if($this->getLayout()->createBlock('cms/block')->setBlockId($sizeGuideIdentifier)->toHtml()):

echo $this->getLayout()->createBlock('cms/block')->setBlockId($sizeGuideIdentifier)->toHtml();

else:

echo $this->getLayout()->createBlock('cms/block')->setBlockId('product-sizeguide')->toHtml();

endif; 
```

它将尝试回显一个名为“nike-sizeguide”的块，如果该块不存在，它将回退到默认的 sizeguide。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-13T03:34:50.143

是的，这在 Magento 1.9CE 上运行良好，尽管对我来说 Erwin 的解决方案需要插入到“app/design/frontend/.../.../template/catalog/product/view/type/options/configurable.phtml ”。

真正简单的解决方案和很好的结果；我们现在自动为每个品牌（制造商）弹出一个fancybox sizechart 图像，无需编码，我们的库存经理不需要考虑它。

真的很棒 - 非常感谢 Erwin Smit。我希望好业力已经拜访了你；）

```
 <dd <?php if ($_attribute->decoratedIsLast){?> class="last"<?php }?>>
        <div class="input-box">
            <select name="super_attribute[<?php echo $_attribute->getAttributeId() ?>]" id="attribute<?php echo $_attribute->getAttributeId() ?>" class="required-entry super-attribute-select">
                <option><?php echo $this->__('Choose an Option...') ?></option>
              </select>
          </div>

        <div class="size-box"><?php 
                $sizeGuideIdentifier = trim($_product->getAttributeText('manufacturer')); 
                $sizeGuideIdentifier = str_replace(' ','-',strtolower($sizeGuideIdentifier)) .'-size-guide';
                if($this->getLayout()->createBlock('cms/block')->setBlockId($sizeGuideIdentifier)->toHtml()):
                echo $this->getLayout()->createBlock('cms/block')->setBlockId($sizeGuideIdentifier)->toHtml();
                else:
                echo $this->getLayout()->createBlock('cms/block')->setBlockId('product-sizeguide')->toHtml();
            endif;?>
        </div>
    </dd> 
```

# bash - Bash - 将 stdout 重定向到日志并使用 stderr 进行屏幕仅用于日志

> ID：13411973
> 
> 赞同：2
> 
> 时间：2012-11-16T07:07:58.780
> 
> 标签：bash, redirect, stdout, stderr, tee

我想做以下事情；

1.  将 stdout 的副本重定向到日志文件并将 stdout 保留在屏幕上。
2.  将 stderr 重定向到相同的日志文件，并且不显示在屏幕上。

*没有标准输出到屏幕的代码*：

```
#!/bin/bash
exec 1> >(sed -u 's/^/INF: /' >> common.log)
exec 2> >(sed -u 's/^/ERR: /' >> common.log)
echo "some txt"
echo "an error" >&2
echo "some more txt"
echo "one more error" >&2 
```

*日志*：

```
INF: some txt
INF: some more txt
ERR: an error
ERR: one more error 
```

第一个问题是缓冲，我试图用 sed '-u' 来否定无缓冲。

*带有标准输出到屏幕的代码*：

```
#!/bin/bash
exec 1> >(sed -u 's/^/INF: /' | tee -a common.log)
exec 2> >(sed -u 's/^/ERR: /' >> common.log)
echo "some txt"
echo "an error" >&2
echo "some more txt"
echo "one more error" >&2 
```

结果屏幕挂起（必须按Ctrl-C）并且日志仍然缓冲。建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T07:12:10.867

这对你有用吗？

```
command 2> >(sed -u 's/^/ERR: /' >> common.log) | sed -u 's/^/INF: /' | tee -a common.log 
```

`command`你的命令在哪里。

# android - 安装 SD 卡与手机内存？为什么应用程序的大小不同？

> ID：13411980
> 
> 赞同：7
> 
> 时间：2012-11-16T07:08:42.093
> 
> 标签：android, android-sdcard, android-install-apk

我对 android 应用程序中的内存大小有点困惑，在手机内存和 SD 卡中安装应用程序有什么区别。我想响应和运行速度可能存在差异。但我想知道这是否还有其他差异。

而且我将我的应用程序安装在手机内存中，并再次安装在 SD 卡中。我可以看到的直接区别是应用程序的大小。

**安装在手机内存中时：**
总大小：5.15 MB
应用程序大小：4.96 MB
数据：192 KB

**安装在 SD 卡中时：**
总大小：3.15 MB
应用程序大小：2.96 MB
数据：196 KB

**我的apk文件的实际大小是：2 MB。**

为什么上述与手机和 SD 卡安装的区别。

我真的对这些尺寸变化感到困惑。应用程序 2 MB 和数据 4 KB 的区别在哪里。

我google了很多，没有找到答案。我也在 developer.android.com 和 stackoverflow 中尝试过，但我很不幸。

所以我的疑问是，

1.  在手机和 SD 卡中安装应用程序有什么区别。

2.  为什么当我在 SD 卡和手机中安装我的应用程序时会显示大小差异。2 MB 的差异在哪里，差异是什么。

3.  从实际 apk 安装时大小如何。（我的猜测是，apk 将被提取并安装在设备中，因此安装时可能会增加大小。）如果我的猜测在第三个错误中，请纠正我。

先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T09:04:59.123

[谷歌在此处](http://developer.android.com/guide/topics/data/install-location.html)和[谷歌博客](http://android-developers.blogspot.dk/2010/07/apps-on-sd-card-details.html)上有一些关于在 SD 卡和内部存储器上安装应用程序的区别的信息。它们是很好的读物，并且包含有关不应将哪些类型的应用程序存储在 SD 卡上的信息。

某些应用程序不应该安装在 SD 上的主要原因是 SD 卡可以（在某些手机上）被用户随时移除，从而导致问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T13:51:19.707

只要在设备上安装了外部存储，就不会影响应用程序的性能。.apk 文件保存在外部存储中，但所有私有用户数据、数据库、优化的 .dex 文件和提取的本机代码都保存在内部设备内存中。存储应用程序的唯一容器使用随机生成的密钥进行加密，该密钥只​​能由最初安装它的设备解密。因此，安装在 SD 卡上的应用程序仅适用于一个设备。用户可以通过系统设置将您的应用程序移动到内部存储。

# c - realloc() 搞砸了我的数据……这是怎么回事？

> ID：13411982
> 
> 赞同：0
> 
> 时间：2012-11-16T07:09:12.617
> 
> 标签：c, realloc

我正在编写一个变量列表实现。在我的插入步骤中，我检查数组的大小是否已达到最大值，如果是，我将最大容量加倍并调用 realloc() 为我分配一些新内存。从大小 2 到 4、4 到 8 和 8 到 16 工作正常，但是从大小 16 到 32 给我的数组中的一些随机零。谁能告诉我这里发生了什么？`malloc`我知道我可以通过ing 一些新空间，使用`memcpy`然后ing 旧指针来避免使用 realloc() `free`......也许这样做不会影响性能。但我的直觉告诉我确实存在，而且无论如何我认为这`realloc`就是存在的目的。谁能告诉我发生了什么事？这段代码中的关键函数是`append`函数。

```
#include <stdio.h>
#include <stdlib.h>
#include "problem5.h"
#define FAILURE -1
#define SUCCESS 0

ArrayList ArrayList_Init(int n, int (*append) (ArrayList, int), void (*print) (ArrayList), void (*insert) (ArrayList, int, int), void (*destroy) (ArrayList), int (*valueOf) (ArrayList, int)) 
{
    ArrayList newArrayList = (ArrayList) malloc(sizeof(ArrayList_));
    newArrayList->max_size = n;
    newArrayList->current_size = 0;
    newArrayList->data = malloc(n*sizeof(int));

    newArrayList->append = append;
    newArrayList->destroy = destroy;
    newArrayList->print = print;
    newArrayList->insert = insert;
    newArrayList->valueOf = valueOf;

    return newArrayList;
}// init a new list with capacity n

int append_(ArrayList list, int val)
{
    //if the array is at maximum capacity
        //double the capacity
        //update max_size
    //insert the value in the first open spot in the array (aka index current_size)
    //increment current_size
    if (list->current_size == list->max_size) {
        list->max_size *= 2;
        if (( list->data = realloc(list->data, list->max_size) ) == NULL)
            return FAILURE;
    }
    list->data[list->current_size] = val;
    list->current_size++;
    return SUCCESS;
}

void print_(ArrayList list)
{
    int i;
    printf("List of size %d, max size %d. Contents:\n", list->current_size, list->max_size);
    for (i=0; i<list->current_size; i++)
        printf("%d, ", list->data[i]);
    printf("\n");
}

void insert_(ArrayList list, int val, int index) {

}// insert val into index
void destroy_(ArrayList list)
{
    //free list memory
}
int valueOf_(ArrayList list, int index)
{
    //return value of specified element
    return 0;
}

int main()
{
    ArrayList list;
    int stat, count = 0;

    list = ArrayList_Init(2, append_, print_, insert_, destroy_, valueOf_); // init a new list with capacity 8
    do {
        printf("Appending %d\n", count);
        stat = list->append(list, count) ; // add val to end of the list
        list->print(list);
    } while (stat == SUCCESS && ++count < 20);

    return 0;
} 
```

这是这个的输出：

```
Appending 0
List of size 1, max size 2\. Contents:
0, 
Appending 1
List of size 2, max size 2\. Contents:
0, 1, 
Appending 2
List of size 3, max size 4\. Contents:
0, 1, 2, 
Appending 3
List of size 4, max size 4\. Contents:
0, 1, 2, 3, 
Appending 4
List of size 5, max size 8\. Contents:
0, 1, 2, 3, 4, 
Appending 5
List of size 6, max size 8\. Contents:
0, 1, 2, 3, 4, 5, 
Appending 6
List of size 7, max size 8\. Contents:
0, 1, 2, 3, 4, 5, 6, 
Appending 7
List of size 8, max size 8\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 
Appending 8
List of size 9, max size 16\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 8, 
Appending 9
List of size 10, max size 16\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 
Appending 10
List of size 11, max size 16\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 
Appending 11
List of size 12, max size 16\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 
Appending 12
List of size 13, max size 16\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 
Appending 13
List of size 14, max size 16\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 
Appending 14
List of size 15, max size 16\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 
Appending 15
List of size 16, max size 16\. Contents:
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 
Appending 16
List of size 17, max size 32\. Contents:
0, 1, 2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16, 
Appending 17
List of size 18, max size 32\. Contents:
0, 1, 2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16, 17, 
Appending 18
List of size 19, max size 32\. Contents:
0, 1, 2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16, 17, 18, 
Appending 19
List of size 20, max size 32\. Contents:
0, 1, 2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16, 17, 18, 19, 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-16T07:16:55.987

这样写是非常糟糕的：

```
list->data = realloc(list->data, list->max_size) 
```

您应该使用新变量，如果内存被重新分配，您可以这样写：

```
List->data = temp; 
```

它将保护您免受内存泄漏。

而你忘记了`*sizeof(int)`

# c# - M/d/yyyy 的正则表达式

> ID：13411986
> 
> 赞同：-2
> 
> 时间：2012-11-16T07:09:23.120
> 
> 标签：c#, regex

我的字符串格式是 M/d/yyyy。这意味着月份和日期数字前面不会有零。例如：2012 年 9 月 23 日、2012 年 7 月 9 日等

我试过了：

> ^((((0?[1-9]|[12]\d|3[01]).-/.-/)|((0?[1-9]|[12]\d|30) .-/.-/)|((0?[1-9]|1\d|2[0-8])[.-/]0?2.-/)|(29[.-/]0 ?2.-/))|(((0[1-9]|[12]\d|3[01])(0[13578]|1[02])((1[6-9]|[ 2-9]\d)?\d{2}))|((0[1-9]|[12]\d|30)(0[13456789]|1[012])((1[6- 9]|[2-9]\d)?\d{2}))|((0[1-9]|1\d|2[0-8])02((1[6-9]| [2-9]\d)?\d{2}))|(2902((1[6-9]|[2-9]\d)?(0[48]|[2468][048]| [13579][26])|((16|[2468][048]|[3579][26])00)|00))))$

但我想这是为 d/M/yyyy 准备的。

有人有 M/d/yyyy 的表达吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-16T07:13:18.080

如果您尝试验证日期是否采用格式，`M/d/yyyy`则[DateTime.TryParseExact](http://msdn.microsoft.com/en-us/library/system.datetime.tryparseexact.aspx)是比正则表达式更好的解决方案。就像是。

```
string str = "9/23/2012";
DateTime dt;
if(DateTime.TryParseExact(str,
                          "M/d/yyyy",
                          CultureInfo.InvariantCulture,
                          DateTimeStyles.None, 
                          out dt))
{
    //valid date
}
else
{
    //Invalid date
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T07:18:02.737

尝试使用这个表达式

> ^((0[1-9])|(1[0-2])|[1-9])/(([1-9])|(0[1-9])|(1[0- 9])|(2[0-9])|(3[0-1]))/(([0-9]{2})|([1-9][0-9]{3}) )$

你可以从[这个网站找到更多](http://regexlib.com/DisplayPatterns.aspx?cattabindex=4&categoryId=5)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-16T07:32:20.990

感谢您的所有回复，你们都帮助了我。我的 qns 的表达式是：

```
^([0]?[1-9]|[1][0-2])[./-]([0]?[1-9]|[1|2][0-9]|[3][0|1])[./-]([0-9]{4}|[0-9]{2})$ 
```

# search - 搜索结果空wordpress

> ID：13411991
> 
> 赞同：0
> 
> 时间：2012-11-16T07:10:05.530
> 
> 标签：search

我试图通过输入相关关键字来搜索任何帖子，但每次结果似乎都是空的。这是链接[http://apprs.com/ripple/?s=music](http://apprs.com/ripple/?s=music)。我必须说有一个我输入的关键字的帖子。为什么搜索不起作用。我检查了

```
 search.php and 
searchform.php. 
```

这些似乎都还可以。我不知道我错过了什么。

如果我能得到任何帮助，我会感觉很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T09:51:33.670

我改变了主题..它现在工作..

# javascript - 从菜单中单击链接时需要显示 iframe

> ID：13411992
> 
> 赞同：2
> 
> 时间：2012-11-16T07:10:12.577
> 
> 标签：javascript, html, iframe

我正在创建一个网站，可以显示我在 8tracks 上创建的一堆播放列表。假设我有 10 个播放列表；我希望能够像这样链接到该 iframe 播放列表（通过 8tracks 提供的嵌入代码）：http: [//d.pr/i/FBxn](http://d.pr/i/FBxn)

本质上，我希望 iframe 根据我在菜单上单击的混音带链接进行更改（播放列表的播放列表*）

我是 JS 新手，不胜感激。我仍在尝试掌握 HTML 和 JS 之间的关系，所以这对我来说是一个新领域。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T07:54:04.443

您可以设置锚点来定位特定的 iframe：

为您的 iframe（播放帧）命名，并将“src”设置为默认播放列表（在渲染 iframe 时显示）

```
<iframe name='playframe' src='http://path/to/playlist/1'></iframe> 
```

然后将您的链接定位到播放框架

```
<a href='http://path/to/playlist/1' target='playframe'>Playlist 1</a>​
<a href='http://path/to/playlist/2' target='playframe'>Playlist 2</a>​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T07:18:05.537

InnerHTML 可以帮助你。请参考 [http://www.w3schools.com/jsref/prop_html_innerhtml.asp](http://www.w3schools.com/jsref/prop_html_innerhtml.asp)

# java - MD5 在 Java 中生成 31 个字符的哈希

> ID：13411996
> 
> 赞同：13
> 
> 时间：2012-11-16T07:11:14.037
> 
> 标签：java, encoding, hash, md5

我正在使用以下代码块来生成 MD5 哈希：

```
public static String encode(String data) throws Exception {

    /* Check the validity of data */
    if (data == null || data.isEmpty()) {
        throw new IllegalArgumentException("Null value provided for "
                + "MD5 Encoding");
    }

    /* Get the instances for a given digest scheme MD5 or SHA */
    MessageDigest m = MessageDigest.getInstance("MD5");

    /* Generate the digest. Pass in the text as bytes, length to the
     * bytes(offset) to be hashed; for full string pass 0 to text.length()
     */
    m.update(data.getBytes(), 0, data.length());

    /* Get the String representation of hash bytes, create a big integer
     * out of bytes then convert it into hex value (16 as input to
     * toString method)
     */
    String digest = new BigInteger(1, m.digest()).toString(16);

    return digest;
} 
```

当我使用 String 数据 as 运行上述代码段时`[12, B006GQIIEM, MH-ANT2000]`，输出是 31 个字符的散列 - `268d43a823933c9dafaa4ac0e756d6a`。

是MD5哈希函数有问题还是上面的代码有问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-16T07:43:16.067

你可以试试这个：

```
...
String digest = String.format("%032x", new BigInteger(1, m.digest())); 
```

*注意：*是`"%032x"`，不是`"%32x"`。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-16T07:32:50.083

代码中的唯一问题是当[MSB](http://en.wikipedia.org/wiki/Most_significant_bit)小于 Ox10 时，结果哈希字符串将只有 31 个字节，而不是 32 个字节，缺少前导零。

以这种方式创建您的 md5 字符串：

```
 byte messageDigest[] = m.digest();

            hexString = new StringBuffer();
            for (int i=0;i<messageDigest.length;i++) {
                String hex=Integer.toHexString(0xFF & messageDigest[i]);
                if(hex.length()==1)
                    hexString.append('0');

                hexString.append(hex);
            } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-16T07:15:57.133

这就是我使用 MD5 哈希的方式。从字符串计算 MD5 哈希并返回 32 字节的十六进制表示。

```
import java.io.UnsupportedEncodingException; 
import java.security.MessageDigest; 
import java.security.NoSuchAlgorithmException; 

public class MySimpleMD5 { 

private static String convertToHex(byte[] data) { 
    StringBuffer buf = new StringBuffer();
    for (int i = 0; i < data.length; i++) { 
        int halfbyte = (data[i] >>> 4) & 0x0F;
        int two_halfs = 0;
        do { 
            if ((0 <= halfbyte) && (halfbyte <= 9)) 
                buf.append((char) ('0' + halfbyte));
            else 
                buf.append((char) ('a' + (halfbyte - 10)));
            halfbyte = data[i] & 0x0F;
        } while(two_halfs++ < 1);
    } 
    return buf.toString();
} 

public static String MD5(String text) 
throws NoSuchAlgorithmException, UnsupportedEncodingException  { 
    MessageDigest md;
    md = MessageDigest.getInstance("MD5");
    byte[] md5hash = new byte[32];
    md.update(text.getBytes("iso-8859-1"), 0, text.length());
    md5hash = md.digest();
    return convertToHex(md5hash);
 } 
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-28T20:55:47.240

你也可以试试这个：

```
private static String getMd5Hash(String input) throws NoSuchAlgorithmException {
    MessageDigest m = MessageDigest.getInstance("MD5");

    byte[] data = m.digest(EncodingUtils.getBytes(input, "UTF8"));

    StringBuilder sBuilder = new StringBuilder();

    for (int i = 0; i < data.length; i++) {

        for (byte b : data) {
            if(b == 0x00){
                sBuilder.append("00");
            } else if ((b & 0x0F) == b) {
                sBuilder.append("0");
                break;
            } else {
                break;
            }
        }

        BigInteger bigInt = new BigInteger(1, data);
        sBuilder.append(bigInt.toString(16));
    }

    // Return the hexadecimal string.
    return sBuilder.toString().substring(0, 32);
} 
```

# postgresql - postgresql 短语提取和排名

> ID：13411998
> 
> 赞同：0
> 
> 时间：2012-11-16T07:11:20.577
> 
> 标签：postgresql, data-mining, text-analysis

从表中选定的行中，如何根据短语出现的频率提取短语并对其进行排名？

示例 1：http: [//developer.yahoo.com/search/content/V1/termExtraction.html](http://developer.yahoo.com/search/content/V1/termExtraction.html)

示例 2： http: [//mirror.me/i/love](http://mirror.me/i/love)

```
INPUT:
CREATE TABLE phrases (
    id  BIGSERIAL,
phrase VARCHAR(10000)
);

INSERT INTO phrases (phrase) VALUES (‘Italian sculptors and painters of the renaissance favored the Virgin Mary for inspiration.’)
INSERT INTO phrases (phrase) VALUES (‘Andrea Bolgi was an italian sculptor’)

DESIRED OUTPUT:
phrase | weight
italian sculptor  |  5
virgin mary | 2
painters | 1
renaissance | 1
inspiration | 1
Andrea Bolgi | 1 
```

要查找单词，而不是短语，可以使用

```
SELECT * FROM ts_stat('SELECT to_tsvector(''simple'', phrase) FROM phrases')
ORDER BY nentry DESC, ndoc DESC, word; 
```

一些注意事项：

*   短语可以包含“停用词”，例如“易于回答”</li>
*   理想情况下，英语变体和同义词会自动分组。

pg_trgm 有帮助吗？（如果只找到 2 个和 3 个单词的短语就可以了）。具体如何？

相关问题：

*   [有哪些技术/工具可用于发现文本块中的常用短语？](https://stackoverflow.com/questions/1426383/what-techniques-tools-are-there-for-discovering-common-phrases-in-chunks-of-text)
*   [如何在大量文本中找到常用短语](https://stackoverflow.com/questions/1928997/how-to-find-common-phrases-in-a-large-body-of-text)
*   [如何从一系列文本条目中提取常见/重要的短语](https://stackoverflow.com/questions/2452982/how-to-extract-common-significant-phrases-from-a-series-of-text-entries)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T04:11:39.010

我同意 Craig 的观点，这肯定超出了 tsearch2 以及任何其他现有 PostgreSQL 工具的范围。但是，我确实认为在 db 引擎中这样做可能还不错。PostgreSQL 的优势之一是可编程性，这种优势为您提供了一些未被充分利用的选项。

正如 Craig 所指出的，这是自然语言处理的领域，而不是 SQL 本身的领域，因此您要做的第一件事就是选择一个支持 PostgreSQL 支持的存储过程语言的自然语言处理工具包。换句话说，你想要支持 Perl、Python、C 等的东西。无论 PostgreSQL 支持什么，你都可以在其中工作。

第二步是用存储过程语言为这个工具包创建功能接口。这应该输入文本，并以某种 PostgreSQL 可以很好处理的类型输出短语分解。您需要仔细注意类型，因为这会影响 GIN 索引等内容。

从那里您可以将其合并到您的数据库接口和查询中。

# android - 拍摄照片后，相机一直处于照片拍摄模式

> ID：13411999
> 
> 赞同：1
> 
> 时间：2012-11-16T07:11:20.267
> 
> 标签：android, android-camera, memo

我有一个应用程序来捕捉将显示在 ImageView 上的照片（并在内部做更多的工作）。

问题就在这里，当我打开相机并拍摄照片后，保存和丢弃选项来了，点击保存按钮后它再次进入相机模式。

清理手机内存时不会出现此问题（任务管理器->> Ram->>清除内存）。

我的问题是：当内存不足时，Camera Intent 不会给出结果。但是当我打开普通相机时，它会捕捉照片。

我如何解决这个问题。每次在启动我的应用程序之前清理内存时，这里都有一个解决方案。

但这不是正确的方法，因为当我向普通人介绍我的应用程序时，他们不会做这些事情。

现在我需要在这里做什么？

有什么方法可以通过我的应用程序清理内存？我如何知道我的应用程序使用的最小或最大内存是多少。所以首先我的应用程序检查，是否有那么多可用的内存。如果可用，则继续，否则告诉用户清理（或卸载某些应用程序）一些内存。

我在我的应用程序中使用以下代码：

布局->

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<Button 
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:text="@string/photo"
    />

<ImageView 
    android:id="@+id/image"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_below="@id/button1"
    android:contentDescription="@string/image"/>
</RelativeLayout> 
```

活动->>

```
public class TestCameraActivity extends Activity {

private Button button;
private ImageView imageView;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_test_camera);

    button = (Button) findViewById(R.id.button1);
    imageView = (ImageView) findViewById(R.id.image);

    button.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
            startActivityForResult(intent, 100);
        }
    });
}

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if (requestCode == 100) {
        Bitmap bitmap = (Bitmap) data.getExtras().get("data");
        imageView.setImageBitmap(bitmap);
    }
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_test_camera, menu);
    return true;
}

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-16T07:18:33.617

您的代码正在寻找任何方式尝试下面对我有用的代码

```
File root = new File(Environment.getExternalStorageDirectory(), "Directory");
        if (!root.exists()) {
            root.mkdirs();
        }
         File file = new File(root,"filename.jpeg" );
         outputFileUri = Uri.fromFile( file );

         Intent photoPickerIntent= new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
    photoPickerIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
    photoPickerIntent.putExtra("outputFormat", Bitmap.CompressFormat.JPEG.toString());
    photoPickerIntent.putExtra("return-data", true);
   startActivityForResult(photoPickerIntent,100); 
```

活动结果：

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) 
{   

    switch(requestCode)
     { 

     case 100:
     if(resultCode == RESULT_OK)
     { 

           if(data==null)
            {
               Bitmap bitmap = (Bitmap) data.getExtras().get("data");
                         imageView.setImageBitmap(bitmap);
            }
         break;
     }
}
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-22T05:11:07.253

可能是您没有正确调用[CameraIntent](http://developer.android.com/guide/topics/media/camera.html)，请尝试以下代码，希望它有效：

`CameraIntent`

```
String filepath = Environment.getExternalStorageDirectory()+"/foldername/"+filename;
System.out.println("thumbnail path~~~~~~"+filepath);
File file = new File(filepath);
Uri outputFileUri = Uri.fromFile(file);

Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
startActivityForResult(intent, 100); 
```

`onActivityResult`

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == 100) {
        sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse("file://"+ Environment.getExternalStorageDirectory())));
        Bitmap bitmap;
        bitmap=GlobalMethods.decodeFile(_path);//function to decode.
        if (bitmap == null) {
            ivPhy.setImageBitmap(bitmap);
        } 
        else {
            ivPhy.setImageBitmap(bitmap);
            ivPhy.setScaleType(ScaleType.FIT_XY);
        }
    }

} 
```

`Manifest Permission`

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-feature android:name="android.hardware.camera" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-16T19:48:28.983

对于仍在寻找此问题的解决方案的人：

缺乏许可是这个问题背后的主要原因之一。请在您的清单文件中添加此权限。

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-feature android:name="android.hardware.camera" /> 
```