# StackOverflow 问答 15827000-15827999

# python - 如何对多个相似的类进行单元测试

> ID：15827002
> 
> 赞同：0
> 
> 时间：2013-04-05T06:03:20.113
> 
> 标签：python, unit-testing

我有一个包含多个非常相似的类的程序：

```
class BlackBox1():
    def calc(self, a, b):
        return a + b

class BlackBox2():
    def calc(self, a, b):
        return a * b
... 
```

现在我想为所有这些类编写单元测试。当然，我可以为每个 Blackbox 编写单独的测试。无论如何，由于每个黑盒都有完全相同的`calc(a, b)`测试方法，我想知道是否有类似“最佳实践”的东西，自动将类和预期结果提供给抽象测试框架，比如

```
import unittest
class TestAbstractBox(unittest.TestCase):
    def setUp(self):
        self.box = blackbox()
        self.param_a = a
        self.param_b = b
        self.expected_result = result

    def test_calc_method(self):
        real_result = self.box.calc(self.param_a, self.param_b)
        self.assertEqual(real_result, self.expected_result, 
                        "{0} gives wrong result".format(self.box.__class__))

TAbstractTest = unittest.defaultTestLoader.loadTestsFromTestCase(TestAbstractBox) 
```

有没有办法将 TestAbstractBox 类传递`{"blackbox": Blackbox1, "a": 3, "b": 5, "result": 8}`给`{"blackbox": Blackbox2, "a": 4, "b": 7, "result": 28}`没有多次相同的代码，但有一种简单的方法来测试新的黑盒？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:11:35.840

您可以简单地将这些类添加到`setUp`：

```
class TestAbstractBox(unittest.TestCase):
  def setUp(self):
    self.boxes = [Blackbox1(), Blackbox2()]
    self.param_a = a
    self.param_b = b
    self.expected_result = result

  def test_calc_method(self):
    for box in self.boxes:
      real_result = self.box.calc(self.param_a, self.param_b)
      self.assertEqual(real_result, self.expected_result, 
          "{0} gives wrong result".format(self.box.__class__)) 
```

**编辑**版本 2：

```
class TestAbstractBox(unittest.TestCase):
  def setUp(self):
    self.boxes = [
      { "blackbox":Blackbox1(), "a":a1, "b":b1, "expected_result":result1 },
      { "blackbox":Blackbox2(), "a":a2, "b":b2, "expected_result":result2 },
    ]

  def test_calc_method(self):
    for box in self.boxes:
      real_result = box["blackbox"].calc(box["a"], box["b"])
      self.assertEqual(real_result, box["expected_result"], 
          "{0} gives wrong result".format(box["blackbox"].__class__)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:45:42.667

我想我找到了一个解决方案，基本上遵循[这个答案](https://stackoverflow.com/a/347607/1784952)：

```
import unittest

class BlackBox1():
    def calc(self, a, b):
        return a + b

class BlackBox2():
    def calc(self, a, b):
        return a * b

class TestBlackBox1(unittest.TestCase):
    test_params = {"blackbox": BlackBox1, "a": 3, "b": 5, "result": 8}
    def setUp(self):
        self.box = self.test_params["blackbox"]()
        self.param_a = self.test_params["a"]
        self.param_b = self.test_params["b"]
        self.expected_result = self.test_params["result"]

    def test_calc_method(self):
        real_result = self.box.calc(self.param_a, self.param_b)
        self.assertEqual(real_result, self.expected_result,
                        "{0} gives wrong result: {1} instead of {2}".format
                        (self.box.__class__, real_result, self.expected_result))

class TestBlackBox2(TestBlackBox1):
    test_params = {"blackbox": BlackBox2, "a": 4, "b": 7, "result": 28}

TBB1 = unittest.defaultTestLoader.loadTestsFromTestCase(TestBlackBox1)
TBB2 = unittest.defaultTestLoader.loadTestsFromTestCase(TestBlackBox2) 
```

无论如何，感谢其他答案，很抱歉一开始没有找到这种方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:08:12.727

我不认为这是一个很好的方法。

一个测试方法应该只做一个测试，而不是循环几个`assert*`调用。否则，在失败的情况下，您将无法轻松判断哪个测试失败。毕竟这就是进行单元测试的全部意义所在。

此外，您不应冒险通过为新类添加新变体或将现有测试重构为一些常用方法来破坏现有测试。

对于具有相同方法的多个类（考虑在多个派生类中实现一个公共接口），将接口的公共属性的所有测试放在一个基类中，然后为每个基类派生单独的测试类可能很有用正在测试的班级。然后，那些派生类将实现合适`setUp`的 和`tearDown`方法。他们还可以添加更多特定于被测类的测试用例。

# java - 一段时间后 Eclipse 因 java 错误而挂起

> ID：15827005
> 
> 赞同：5
> 
> 时间：2013-04-05T06:03:45.390
> 
> 标签：java, android, eclipse, eclipse-juno

我将 Eclipse Juno 用于 android 开发目的。

我正在研究这个项目，其中包含 4-5 个库。知道是什么原因，但在多次使用同一个项目后，我的 Eclipse 就挂了。另一件事是它只有在我尝试从 Eclipse 运行应用程序时才会挂起。

之后，我的 Eclipse 停止工作并处于无响应状态。当我点击它时，我通过关闭 Eclipse 得到以下消息。信息： ![在此处输入图像描述](https://i.stack.imgur.com/S8Rcp.png)

我不知道这是什么原因造成的。请帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T06:07:39.493

这是因为工作空间损坏。对于，解决方案参考

[这](http://spacetech.dk/eclipse-failed-java-was-started-but-returned-exit-code-805306369.html)

> 该错误是由于工作区损坏。当我在启动时禁用工作区检查时，我无法选择另一个工作区，因为 Eclipse 无法启动。将工作区重命名为“workspace1”。Eclipse 将启动并创建一个新的未损坏的工作区，并且可以正常工作。之后，您可以将项目导入新工作区，最后删除损坏的旧工作区。

所以，你必须创建一个新的工作区

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:08:22.483

我看到 Eclipse 崩溃的最常见原因是内存不足。尝试编辑 Eclipse 安装目录中的 eclipse.ini 文件，并将显示 -Xmx512m 的部分更改为 -Xmx1g（或 2g，如果您的系统上有很多可用内存）。您还可以将 -Xms40m 增加到 -Xms512m 或类似的值，以使 Eclipse 在开始时分配更多内存。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-03T13:12:45.997

从 Eclipse 中关闭您的项目，然后重试。如果它不起作用，请将您的项目复制到新的工作区并从那里打开它们

# php - 从 pop3 服务器获取邮件并将副本留在邮件服务器中

> ID：15827008
> 
> 赞同：1
> 
> 时间：2013-04-05T06:03:50.830
> 
> 标签：php, email, pop3

我正在使用以下代码从我们的 POP3 邮件服务器获取邮件。我已成功获取邮件。 **我想在服务器上留下一份邮件副本。我应该怎么做**

```
 <?php
    /* connect to gmail */
    $hostname='{mail.xxx.com:110/pop3}INBOX';
    $username='yyy.xxx@xxx.com';
    $password='xxx_9851';

    /* try to connect */
           $inbox = imap_open($hostname,$username,$password) or die('Cannot connect to Gmail: ' . imap_last_error());
    echo "here";

    /* grab emails */
    $emails = imap_search($inbox,'SUBJECT "hi"');/* if emails are returned, cycle through each... */
    //print_r($emails);
    if($emails) {

      /* begin output var */
      $output = '';

      /* put the newest emails on top */
      rsort($emails);

      /* for every email... */
      foreach($emails as $email_number) {

        /* get information

 specific to this email */
    $overview = imap_fetch_overview($inbox,$email_number,0);
    echo "<pre>";
//  print_r($overview);
    $message = imap_fetchbody($inbox,$email_number,2);
    $header=imap_fetchheader($inbox,$email_number);
//print_r($message);
//print_r($header);
    /* output the email header information */
    $output.= '<div class="toggler '.($overview[0]->seen ? 'read' : 'unread').'">';
    $output.= '<span class="subject">'.$overview[0]->subject.'</span> ';
    $output.= '<span class="from">'.$overview[0]->from.'</span>';
    $output.= '<span class="date">on '.$overview[0]->date.'</span>';
    $output.= '</div>';

    /* output the email body */
    $output.= '<div class="body">'.$message.'</div>';

     $s = imap_fetchstructure($inbox,$email_number);
    // print_r ($s->parts);
        if (!$s->parts) 
        {// simple
       // getpart($inbox,$email_number,$s,0);  // pass 0 as part-number
        }
        else {  // multipart: cycle through each part
        foreach ($s->parts as $partno0=>$p){
          attachment_to_file($inbox,$email_number,$p,$partno0+1);
        }
        }
  } 
```

非常感谢任何帮助。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:10:38.477

首先，您使用 IMAP 代码来获取邮件，所以我假设您的 pop3 服务器也运行 imap 服务。如果您使用的是 IMAP 服务，则无需明确执行`leave a copy of the mail in the server`. 邮件将保留在服务器上，除非它们被删除或从文件夹移动到 transh/junk。

POP 服务也是如此。除非您发送删除命令，否则邮件将始终保留在服务器上。

# javascript - 如何在 javascript 正则表达式中计数？

> ID：15827010
> 
> 赞同：3
> 
> 时间：2013-04-05T06:04:04.060
> 
> 标签：javascript, regex

如何在 javascript 正则表达式替换中粘贴计数器？

对于 Perl/PCRE，这个问题[在这里得到了回答。](https://stackoverflow.com/a/4214173/823263)

我已经尝试了明显的`string.replace(/from/g, "to "+(++count))`，这不好（似乎在 string.replace 的开头评估了 ++count 一次）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T06:07:07.093

您可以将每个匹配调用的函数传递给替换：

```
// callback takes the match as the first parameter and then any groups as
// additional, left it empty because I'm not using them in the function.
string.replace(/from/g, function() {
  return "to " + (++count);
}); 
```

我发现这是一个非常方便的工具，可以在客户端替换复杂的字符串部分（如用户注释与嵌入代码），以减轻服务器的负担。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:07:54.880

使用回调可能有效：

```
var i = 0;
string.replace(/from/g, function(x){return "to " + i++;}) 
```

干杯。

# java - 无法从命令提示符使用 JAR 连接到 MS SQL Server 2008，但在 Eclipse 中成功运行

> ID：15827011
> 
> 赞同：0
> 
> 时间：2013-04-05T06:04:07.743
> 
> 标签：java, sql-server-2008, jdbc, jar, mssql-jdbc

我正在尝试`SQL Server 2008`使用`sqljdbc4.jar`Eclipse 连接并可以成功连接。

但是，当我将代码导出为 JAR 并尝试使用命令提示符运行它时，出现错误：

> D:\Eclipse\TestDBJar>java -Djava.ext.dirs=lib -jar TestDB.jar Apr 5, 2013 11:17:17 AM com.microsoft.sqlserver.jdbc.TDSChannel enableSSL INFO: java.security path: C: \Program Files\Java\jre6\lib\security 安全提供程序：[SUN 1.6 版、SunRsaSign 1.5 版、SunJSSE 1.6 版、SunJGSS 1.0 版、SunSASL 1.5 版、XMLDSig 1.0 版、SunPCSC 1.6 版] SSLContext 提供程序信息： Sun JSSE 提供者（PKCS12、SunX509 密钥/信任工厂、SSLv3、TLSv1） SSLContext 提供者服务：[SunJSSE：KeyFactory.RSA -> sun.security.rsa.RSAKeyFactory 别名：[1.2.840.113549.1.1，OID.1.2.840.113549。 1.1]，SunJSSE：KeyPairGenerator.RSA -> sun.security.rsa.RSAKeyPairGenerator
> 别名：[1.2.840.113549.1.1，OID.1.2.840.113549.1.1]，SunJSSE：Signature.MD2withRSA -> sun.security.rsa.RSASignature$MD2withRSA
> 别名：[1.2.840.113549.1.1.2，OID.1.2.840.113549 .1.1.2] , SunJSSE: Signature.MD5withRSA -> sun.security.rsa.RSASignature$MD5withRSA
> 别名: [1.2.840.113549.1.1.4, OID.1.2.840.113549.1.1.4] , SunJSSE: Signature.SHA1withRSA - > sun.security.rsa.RSASignature$SHA1withRSA
> 别名：[1.2.840.113549.1.1.5, OID.1.2.840.113549.1.1.5, 1.3.14.3.2.29, OID.1 .3.14.3.2.29] , SunJSSE: Signature.MD5andSHA1withRSA -> com.sun.net .ssl.internal.ssl.RSASignat ure , SunJSSE: KeyManagerFactory.SunX509 -> com.sun.net.ssl.internal.ssl.KeyManagerF actoryImpl$SunX509 , SunJSSE: KeyManagerFactory.NewSunX509 -> com.sun.net.ssl.internal .ssl.KeyManagerFactoryImpl$X509，SunJSSE：TrustManagerFactory.SunX509 -> com.sun.net.ssl.internal.ssl.TrustManagerFactoryImpl$SimpleFactory，SunJSSE：TrustManagerFactory.PKIX -> com.sun.net.ssl.internal.ssl .TrustManager FactoryImpl$PKIXFactory
> 别名：[SunPKIX，X509，X.509]，SunJSSE：SSLContext.SSL -> com.sun.net.ssl.internal.ssl.SSLContextImpl，SunJSSE：SSLContext.SSLv3 -> com.sun.net.ssl.internal。 ssl.SSLContextImpl , SunJSSE: SSLContext.TLS -> com.sun.net.ssl.internal.ssl.SSLContextImpl , SunJSSE: SSLContext.TLSv1 -> com.sun.net.ssl.internal.ssl.SSLContextImpl , SunJSSE: SSLContext.默认 -> com.sun.net.ssl.internal.ssl.DefaultSSLContextI mpl , SunJSSE: KeyStore.PKCS12 -> com.sun.net.ssl.internal.pkcs12.PKCS12KeyStore ] java.ext.dirs: lib **com.microsoft。 sqlserver.jdbc.SQLServerException：驱动程序无法使用安全套接字层 (SSL) 加密建立与 SQL Server 的安全连接。错误：“RSA premaster secret 错误”。** ClientConnectionId:c0a357b6-e274-41b2-9fd a-7ef89ebdfb7a at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerC onnection.java:1667) at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1668) )
> 
> ```
>  at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLSer 
> ```
> 
> verConnection.java:1323) 在 com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991) 在 com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerCon nection.java:827) 在 com.microsoft .sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012) at java.sql.DriverManager.getConnection(Unknown Source) at java.sql.DriverManager.getConnection(Unknown Source) at TestDbConnection.main(TestDbConnection.java:13)**引起：javax.net.ssl.SSLKeyException: RSA premaster secret 错误** 在 com.sun.net.ssl.internal.ssl.RSAClientKeyExchange.(未知来源) 在 com.sun.net.ssl.internal.ssl.ClientHandshaker.serverHelloDone(未知来源) 在 com.sun.net.ssl.internal .ssl.ClientHandshaker.processMessage(Unknown Source) at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Unknown Source) at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Unknown Source)在 com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord（未知来源）
> 
> ```
>  at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(Un 
> ```
> 
> 已知来源）在 com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake（未知来源）在 com.microsoft 的 com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake（未知来源）。 sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1618)
> 
> ```
>  ... 7 more Caused by: java.security.NoSuchAlgorithmException: SunTlsRsaPremasterSecret KeyG enerator not available
>     at javax.crypto.KeyGenerator.<init>(DashoA13*..)
>     at javax.crypto.KeyGenerator.getInstance(DashoA13*..)
>     at com.sun.net.ssl.internal.ssl.JsseJce.getKeyGenerator(Unknown Source)
>     ... 17 more 
> ```

我正在提供一个外部 lib 文件夹，`sqljdbc4.jar`其中包含并使用运行我的 JAR `java -Djava.ext.dirs=lib -jar TestDB.jar`

我已经阅读了各种帖子，但没有工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T10:01:14.640

`Runnable`选择`Copy required libraries next to generated JAR`解决问题的选项后将其导出为JAR。不知何故，一个普通的 JAR 无法访问该`lib`文件夹。

# java - 多维线段树

> ID：15827012
> 
> 赞同：1
> 
> 时间：2013-04-05T06:04:07.803
> 
> 标签：java, algorithm, data-structures, computational-geometry, multidimensional-array

我要解决的问题是 4D 版本的 1D 问题的[stabbing 查询](https://www.cise.ufl.edu/tr/DOC/REP-1992-45.pdf)：找到一个数字属于哪个区间。我正在寻找[分段树](http://en.wikipedia.org/wiki/Segment_tree)[的多维](http://books.google.com/books?id=b1INPTC3w_QC&pg=PA17&lpg=PA17&dq=multi-level+segment+tree+implementation&source=bl&ots=dCilji4VfN&sig=wF6bBKAD5kRSDVrgADbhd_JtslU&hl=en&sa=X&ei=EVBeUbn2LYO70gHwoYDwBQ&ved=0CHsQ6AEwCQ#v=onepage&q=multi-level%20segment%20tree%20implementation&f=false)实现。理想情况下，它将使用 Java 并使用[分数级联](http://en.wikipedia.org/wiki/Fractional_cascading)。

kd-trees（k-NN 搜索）和范围树（给定一个边界框，找到其中的所有点）存在多维实现，但对于分段树，我只找到了一维实现。

我很乐意考虑其他具有相似空间/时间复杂度的数据结构来解决相同的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T14:14:16.580

To expand on my comment, the binary-space-partitioning algorithm I have in mind is this.

1.  Choose a coordinate x and a threshold t (random coordinate, median coordinate, etc.).
2.  Allocate a new node and assign all of the intervals that intersect the half-plane x=t to it.
3.  Recursively construct child nodes for (a) the intervals contained entirely within the lower half-space x<t and (b) the intervals contained entirely within the upper half-space x>t.

The stabbing query starts at the root, checks all of the intervals assigned to the current node, descends to the appropriate child, and repeats. It may be worthwhile to switch to brute force for small subtrees.

If too many intervals are getting stabbed by the half-plane x=t, you could try recursing on the (a) the intervals that intersect the lower half-space and (b) the intervals that intersect the upper half-space. This duplicates intervals, so the space requirement is no longer linear, and you probably have to switch over to brute force on collections of intervals for which subdivision proves unproductive.

# android - 如何根据设定的时间使安卓手机静音

> ID：15827013
> 
> 赞同：0
> 
> 时间：2013-04-05T06:04:17.177
> 
> 标签：android, time, timer, timepicker

我正在尝试编写一个基于时间使电话静音的程序。例如，我按下一个按钮，我可以设置开始时间和结束时间。在那个开始时间，手机会静音。到那时，电话将返回常规振铃模式。目前，它会使手机静音，但一旦到达结束时间就不会回到常规模式。我以前尝试解决此问题的尝试中注释掉了很多东西。未注释的部分是我目前拥有的。我真的很想在这个问题上得到一些帮助/指导。

```
import java.util.Calendar;

import android.app.Activity;
import android.app.Dialog;
import android.app.TimePickerDialog;
import android.content.Context;
import android.media.AudioManager;
import android.os.Bundle;
import android.text.format.Time;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;
import android.widget.TimePicker;
import android.widget.Toast;

public class PresetEdit extends Activity
{
    private AudioManager mAudioManager;
    private boolean mPhoneIsSilent;
    Button save;
    private Button startTime;
    private Button endTime;

    private int sHour;
    private int sMinute;
    private int eHour;
    private int eMinute;

    static final int TIME_DIALOG_ID = 0;
    static final int TIME_DIALOG_ID2 = 1;

    private TimePickerDialog.OnTimeSetListener sTimeSetListener =
            new TimePickerDialog.OnTimeSetListener() {
                public void onTimeSet(TimePicker view, int hourOfDay, int minute) {
                    sHour = hourOfDay;
                    sMinute = minute;
                    updateDisplay();
                    displayToast();
                }
            };

            private TimePickerDialog.OnTimeSetListener eTimeSetListener =
                    new TimePickerDialog.OnTimeSetListener() {
                        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {
                            eHour = hourOfDay;
                            eMinute = minute;
                            updateDisplayE();
                            displayToastE();
                        }
                    };       

            private void updateDisplay() {
                startTime.setText(
                    new StringBuilder()
                            .append(pad(sHour)).append(":")
                            .append(pad(sMinute)));

            }        
            private void updateDisplayE(){
                endTime.setText(new StringBuilder()
                                        .append(pad(eHour)).append(":")
                                        .append(pad(eMinute)));
            }
            private void displayToast() {
                Toast.makeText(this, new StringBuilder().append("Time choosen is ").append(startTime.getText()),   Toast.LENGTH_SHORT).show();

            }
            private void displayToastE() {
                Toast.makeText(this, new StringBuilder().append("Time choosen is ").append(endTime.getText()),   Toast.LENGTH_SHORT).show();

            }

            private static String pad(int c) {
                if (c >= 10)
                    return String.valueOf(c);
                else
                    return "0" + String.valueOf(c);
            }

    @Override
    protected void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.preset_edit);

        TextView eventTxt = (TextView)findViewById(R.id.txtViewEvent);
        startTime = (Button)findViewById(R.id.btnStartTime);
        endTime = (Button)findViewById(R.id.btnEndTime);

         startTime.setOnClickListener(new View.OnClickListener()
            {
                public void onClick(View v)
                {
                    showDialog(TIME_DIALOG_ID);
                }
            });

         endTime.setOnClickListener(new View.OnClickListener()
            {
                public void onClick(View v)
                {
                    showDialog(TIME_DIALOG_ID2);
                }
            });

         final Calendar cal = Calendar.getInstance();
            sHour = cal.get(Calendar.HOUR);
            sMinute = cal.get(Calendar.MINUTE);
            updateDisplay();

            final Calendar calE = Calendar.getInstance();
            Calendar tmp = (Calendar)calE.clone();
            tmp.add(Calendar.HOUR, 0);
            tmp.add(Calendar.MINUTE, 2);
            //eHour = calE.get(Calendar.HOUR);
            Calendar stopTime = tmp;
            //eMinute = calE.get(Calendar.MINUTE);
            eHour = tmp.get(Calendar.HOUR);
            eMinute = tmp.get(Calendar.MINUTE);
            updateDisplayE();

        //save = (Button)findViewById(R.id.btnSave);
        //get event txt to change according to button click

        /*Bundle car = getIntent().getExtras();
        String receivingdata = car.getString("eventCar");
        TextView eventTxt = (TextView)findViewById(R.id.event);
        eventTxt.setText(receivingdata);*/

        /*Intent a = getIntent();
        a.getStringExtra("eventDrive");*/

        String drv = getIntent().getExtras().getString("event");
        if(drv!=null)
        {
            eventTxt.setText(drv); 

            Time now = new Time(Time.getCurrentTimezone());
            //Time end = new Time(Time.getCurrentTimezone());
            Time current = new Time(Time.getCurrentTimezone());
            //Time setToEnd = new Time(Time.getCurrentTimezone());
            current.setToNow();

            now.setToNow();
            //now.hour = 6;
            //now.minute = 35;
            //String sTime = ""+ now.hour+":"+now.minute;
            //startTime.setText(sTime);
            //end.hour = now.hour;
            //end.minute = now.minute + 2;
            //String eTime = ""+ end.hour+":"+end.minute;
            //endTime.setText(eTime);
            //setToEnd.hour = eHour;
            //setToEnd.minute = 13;
            if (sHour == now.hour && sMinute == now.minute) 
            {

                mAudioManager =(AudioManager)PresetEdit.this.getSystemService(Context.AUDIO_SERVICE);
                mAudioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);
                //or adjust volume here instead setting silent profile for the ringer

            }
            if(current.hour == eHour && current.minute == eMinute)
            {
                mAudioManager =(AudioManager)PresetEdit.this.getSystemService(Context.AUDIO_SERVICE);
                mAudioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);

            }

        }//end if

        String mov = getIntent().getExtras().getString("event");
        if(mov!=null)
            eventTxt.setText(mov);

        String study = getIntent().getExtras().getString("event");
        if(study!=null)
            eventTxt.setText(study);

        String act = getIntent().getExtras().getString("event");
        if(act!=null)
            eventTxt.setText(act);

        /*Intent intent = getIntent();
        String text = intent.getStringExtra("eventDriving");*/
        //eventTxt.setText(text);
    }
    /*private void setButtonClickListener() {
         save = (Button)findViewById(R.id.btnSave);
        save.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                if (mPhoneIsSilent) {
                    //change back to normal mode
                    mAudioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);
                    mPhoneIsSilent = false;
                    save.setText("Activate");
                }
                else
                {
                    //change to silent mode
                    mAudioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);
                    //mAudioManager.setRingerMode(AudioManager.RINGER_MODE_VIBRATE);
                    mPhoneIsSilent = true;
                    save.setText("Activated");
                }
                // Now toggle the UI again

            }
        });
    }

     private void checkIfPhoneIsSilent() {
            int ringermode = mAudioManager.getRingerMode();
            if (ringermode == AudioManager.RINGER_MODE_SILENT) {
                mPhoneIsSilent = true;
            }
            else
            {
                mPhoneIsSilent = false;
            }
        }

     @Override      
        protected void onResume() {
            super.onResume();
            checkIfPhoneIsSilent();

        }*/

    @Override
    protected Dialog onCreateDialog(int id)
    {
        switch (id)
        {
                case TIME_DIALOG_ID:
                return new TimePickerDialog(this,
                sTimeSetListener, sHour, sMinute, false);

                case TIME_DIALOG_ID2:
                    return new TimePickerDialog(this, 
                            eTimeSetListener, eHour, eMinute, true);
        }
    return null;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:04:37.263

让这些步骤...

1.  创建意图服务以使手机静音

    ```
    public class SetToNormalService extends IntentService {
      public SetToNormalService(String name) { super(name); }
      public SetToNomralService() { super(null); }
      @Override
      protected void onHandleIntent(Intent intent) {
        // set the phone ringer to normal
        mAudioManager =(AudioManager)getApplicationContext().getSystemService(Context.AUDIO_SERVICE);
            mAudioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);
      }
    } 
    ```

2.  在您的按钮事件中，将手机设置为静音并启动 AlarmManager

    ```
    public void SilentAndSetAlarm(Context context,long triggerAtMillis, long intervalMillis) {
      // set the phone to silent
      mAudioManager =(AudioManager)PresetEdit.this.getSystemService(Context.AUDIO_SERVICE);
            mAudioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);
      // Initialize the AlarmManager
      Intent intent = new Intent(context, SetToNomralService.class);
      PendingIntent pIntent = PendingIntent.getService(context, 0, intent, 0);
      AlarmManager alarmManager = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
      alarmManager.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, triggerAtMillis, intervalMillis, pIntent);
    } 
    ```

就这样...

**注意：** 您不需要调用任何构造函数...但是如果您删除带有参数“名称”的构造函数，它将引发异常...所以保持原样...

对于millis ...您可以使用

```
 //get current time object
    Date date = new Date();
    // set its hours and mimuts that you got from time picker
    date.setHours(hoursOfDay);
    date.setMinutes(minutesOfDay);
    //getTime will give you millisecond of date object
    long timeInMillis = date.getTime(); 
```

以这种方式...您可以将 eHours 和 eMinutes 转换为 startTime 和 intervalTime 的毫秒...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:11:43.893

阅读[服务](http://developer.android.com/intl/ru/reference/android/app/Service.html)- 它会服务。问题在于当时不存在aktiviti，如何开启声音。

# ruby-on-rails - 从 Ruby on Rails 中的位置名称获取时区

> ID：15827015
> 
> 赞同：2
> 
> 时间：2013-04-05T06:04:23.807
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, timezone

因为我们可以从国家代码中获取时区，例如

```
c = TZInfo::Country.get('US')
zones = c.zone_identifiers 
```

这将返回国家的所有区域。

但是我需要特定的位置区域，即“美国华盛顿”
有没有办法从位置名称中获取时区？

所以我们可以通过给出位置名称来获取时区（“华盛顿，美国”）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:49:42.213

您可以下载地名[数据库](http://download.geonames.org/export/dump/cities15000.zip)并将 lat/lng 与数据库中最近的位置（带时区）进行比较

*   [从geonames.org](http://download.geonames.org/export/dump/cities15000.zip)下载城市数据库
*   将其转换为紧凑的纬度/经度 -> 时区列表

# codeigniter - Codeigniter 图像调整大小无法正常工作

> ID：15827016
> 
> 赞同：0
> 
> 时间：2013-04-05T06:04:37.907
> 
> 标签：codeigniter

我想将上传的图像调整为 400 x 350 的比例。我为此使用下面的代码。

```
$config = array(
        'image_library' => 'gd2',
        'source_image'      => $img_data['full_path'],
        'new_image'         => $this->upload_path. '/thumbs',
        'maintain_ration'   => FALSE,
        'width'             => 350,
        'height'            => 400
    );

    $this->load->library('image_lib', $config);
    $this->image_lib->resize(); 
```

Codeigniter 给我的图像是 400 x 340 的比例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:35:05.287

看看这是否有帮助。这是完成您寻找的任务所需的课程的链接

[http://www.white-hat-web-design.co.uk/blog/resizing-images-with-php/](http://www.white-hat-web-design.co.uk/blog/resizing-images-with-php/)

# javascript - json 是否有固定格式用于在可折叠树布局中使用它？

> ID：15827017
> 
> 赞同：1
> 
> 时间：2013-04-05T06:04:38.320
> 
> 标签：javascript, json, d3.js

我正在使用[d3.js](http://d3js.org)来可视化可折叠树布局中的数据。它与flare.json 数据一起工作正常，但其他json 文件似乎有问题。我的json 文件是有效的。

我得到的错误如下 Uncaught TypeError: Cannot read property 'children' of undefined And my json is [here](http://jsfiddle.net/Sanjna/LL27P/6/)

```
{
"name":"dummy",
"children":
[

{

    "date": "20040309",
    "name": "US", 
    "id": "27",
    "kind": "S1",
    "application_type": "not found",
    "children": [
        {"length": 27,
            "type": "US",
            "id": "28",
            "kind": "S",
            "name": "Mewdows",
            "date": "19730700",
            "main_classification": "D 2907"
        },
        {"length": 27,
            "type": "US",
            "id": "29",
            "kind": "S",
            "name": "Askew",
            "date": "19731100",
            "main_classification": "D 2907"
        },
        {"length": 27,
            "type": "US",
            "id": "30",
            "kind": "S",
            "name": "Adams",
            "date": "20020500",
            "main_classification": "D 2969"
        },
        {"length": 27,
            "type": "US",
            "id": "31",
            "kind": "S",
            "name": "Adams et al.",
            "date": "20020500",
            "main_classification": "D 2969"
        },
        {"length": 27,
            "type": "US",
            "id": "32",
            "kind": "S",
            "name": "Adams",
            "date": "20020800",
            "main_classification": "D 2969"
        },
        {"length": 27,
            "type": "US",
            "id": "33",
            "kind": "S",
            "name": "Adams",
            "date": "20030700",
            "main_classification": "D 2969"
        },
        {"length": 27,
            "type": "US",
            "id": "34",
            "kind": "S",
            "name": "Robbins",
            "date": "20031000",
            "main_classification": "D 2969"
        }
    ],
    "classification_national": "D 2969",
    "length": 7
},
{

    "date": "20040309",
    "name": "US",
    "id": "30997425",
    "kind": "S1",
    "application_type": "not found",
    "children": [
        {"length": 7,
            "type": "US",
            "id": "35",
            "kind": "A",
            "name": "Alba et al.",
            "date": "19851000",
            "main_classification": "323308"
        },
        {"length": 7,
            "type": "US",
            "id": "36",
            "kind": "A",
            "name": "Dobberstein",
            "date": "19851000",
            "main_classification": "323308"
        }
    ],
    "classification_national": "D13110",
    "length": 2
},

{

    "date": "20040309",
    "name": "US",
    "id": "56992283",
    "kind": "B2",
    "application_type": "not found",
    "children": [
        { "length": 114,
            "type": "US",
            "id": "151",
            "kind": "A",
            "name": "Demetre",
            "date": "19770300",
            "main_classification": "271183"
        },
        {"length": 114,
            "type": "US",
            "id": "152",
            "kind": "A",
            "name": "Carstedt",
            "date": "19771100",
            "main_classification": "271183"
        },
        {"length": 114,
            "type": "US",
            "id": "153",
            "kind": "B1",
            "name": "Teumer et al.",
            "date": "20010100",
            "main_classification": "271194"
        },
        {"length": 114,
            "type": "DE",
            "id": "154",
            "kind": "not found",
            "name": "not found",
            "date": "19751200",
            "main_classification": "not found"
        },
        {"length": 114,
            "type": "DE",
            "id": "155",
            "kind": "not found",
            "name": "not found",
            "date": "19770100",
            "main_classification": "not found"
        },
        {"length": 114,
            "type": "DE",
            "id": "156",
            "kind": "not found",
            "name": "not found",
            "date": "19800300",
            "main_classification": "not found"
        }
    ],
    "classification_national": "271276",
    "length": 6
}
]
} 
```

任何帮助将不胜感激。

# jquery - 在 web 中执行 all 之前加载完成

> ID：15827020
> 
> 赞同：0
> 
> 时间：2013-04-05T06:04:49.350
> 
> 标签：jquery, ajax

我有一个网页，在提交的那一刻，这个调用显示使用加载文本的图像 gif

jQuery showLoading plugin v1.0 显示图像，但何时加载发送动作的页面（同一页面）。在完成加载页面之前显示图像的网络休假。最后一页有执行函数的代码php，显示的图像离开，执行的函数没有完成。

我希望加载跟随显示图像，直到完成过程

任何想法？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:14:06.657

使用 JQuery.ajax，您可以将设置异步属性设置为 false。

```
JQuery.ajax({ ... async: false, ...});
// subsequent code wait 'til ajax call finishes 
```

希望它有助于欢呼

# iphone - 如何检测用户是否在浏览器中安装了 iOS 应用程序 - 就像帖子中的示例站点一样

> ID：15827026
> 
> 赞同：4
> 
> 时间：2013-04-05T06:05:12.313
> 
> 标签：iphone, ios, app-store

我想知道当我在手机上访问他们的网站时，该网站如何检测到我安装了他们的 iOS 应用程序。

[http://drafthouse.com/austin](http://drafthouse.com/austin)

![在此处输入图像描述](https://i.stack.imgur.com/rIvAq.png)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T06:07:00.813

网站可以实现 Safari 智能应用横幅。有关详细信息，请参阅 Apple 的文档：

> [使用智能应用横幅推广应用](http://developer.apple.com/library/ios/#documentation/AppleApplications/Reference/SafariWebContent/PromotingAppswithAppBanners/PromotingAppswithAppBanners.html)

它是通过这样的方式完成的：

```
<meta name="apple-itunes-app" content="app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:07:18.010

这些被称为[Smart App Bannners](http://developer.apple.com/library/ios/ipad/#documentation/AppleApplications/Reference/SafariWebContent/PromotingAppswithAppBanners/PromotingAppswithAppBanners.html)并且是 iOS 6 上 MobileSafari 的一项功能。您可以使用一行 HTML 代码（`<meta>`标签，请参阅链接的文档）添加它们。

# javascript - 如何使用黑莓 10 的 NativeAndroid/Phone Gap 检索 IMEI 号

> ID：15827028
> 
> 赞同：1
> 
> 时间：2013-04-05T06:05:25.623
> 
> 标签：javascript, android, cordova, blackberry-10, blackberry-android

我正在将 android 应用程序移植到 BB 10。我无法从这个 android 移植应用程序中检索 IMEI 号码，有什么方法可以在 android 应用程序中使用 PhoneGap 脚本文件，通过创建本地 html 并使用 java 脚本来检索 IMEI使用以下概念使用电话间隙的号码

[http://developer.android.com/guide/webapps/webview.html#BindingJavaScript](http://developer.android.com/guide/webapps/webview.html#BindingJavaScript)

目前，我尝试使用下面的javascript来检索IMEI no

```
 <script type="text/javascript" charset="utf-8" src="js/phonegap.js"></script>
</head>
<script type="text/javascript">
    function showAndroidToast(toast) {  
    Android.showToast('kkkkkkk');       
    var idno = device.uuid ;
var string = device.version;
Android.showToast('idno' + string); 
Android.showToast('string ' + idno); 
toast = toast + idno;
    Android.showToast(toast);
    }
</script> 
```

我得到了 null 的值，我正在 BB 10 dev Alpha 设备中对其进行测试。

还有其他解决方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T18:18:11.873

IMEI 不适用于 3rd 方应用程序。你想用这些信息做什么？

我问的原因是因为我们刚刚在这里发布了 BlackBerry WebWorks 的扩展（如 PhoneGap），它检索可以识别当前运营商的移动网络代码 (MNC)。您对构建自定义插件有多满意？如果是这样，您可以将此本机代码移植到 PhoneGap 插件中：

[https://github.com/blackberry/WebWorks-Community-APIs/tree/master/BB10/deviceInfo](https://github.com/blackberry/WebWorks-Community-APIs/tree/master/BB10/deviceInfo)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-30T10:12:45.453

Blackberry 10.1 版本中已修复的问题。IMEI 号码是使用本机 android 代码从此操作系统版本中检索的。

# java - FC_COLS 的原始类型 int 没有 inBlockSize 字段

> ID：15827029
> 
> 赞同：1
> 
> 时间：2013-04-05T06:05:37.717
> 
> 标签：java, eclipse

我在 上遇到此错误，`lastStartCol = FC_COLS – inBlockSize;`并且在`lastStartCol = ECONOMY_COLS – inBlockSize;`. 也不确定我的老师想让我用 for 语句做什么。感谢简单的答案。

//确定lastStartCol，给定块的最后一个合法起始列 //行中的大小。

```
if(inRow < FC_ROWS)
    lastStartCol = FC_COLS – inBlockSize;
else
    lastStartCol = ECONOMY_COLS – inBlockSize;

for(int startCol = 0; startCol <= lastStartCol; startCol++)
{
    ... 
```

全班：

```
public class Airplane 
{
private Seat [ ] [ ] seats;
public static final int FIRST_CLASS = 1;
public static final int ECONOMY = 2;
private static final int FC_ROWS = 5;
private static final int FC_COLS = 4;
private static final int ECONOMY_ROWS = 5;
private static final int ECONOMY_COLS = 6;

public Airplane() 
{
    seats  = new Seat[FC_ROWS][FC_COLS]; 
    for (int i=0; i<FC_ROWS; i++) {
        for (int j=0; j<FC_COLS; j++) 
        {
            seats[i][j] = new Seat(Seat.WINDOW);
        }
        seats  = new Seat[ECONOMY_ROWS][ECONOMY_COLS]; 
        for (int x=0; x<ECONOMY_ROWS; x++) {
            for (int y=0; y<ECONOMY_COLS; y++) 
            {
                seats[x][y] = new Seat(Seat.WINDOW);
            }
        }
    }
}
public String toString()
{
    String str = "";
    for (int i=0; i<FC_ROWS; i++) {
        for (int j=0; j<FC_COLS; j++) 
        {
            str= str + seats[i][j].toString();
        }
        str = str + "\n";
    }
    return str;
}   

public String toString2()
{
    String z = "";
    for (int x=0; x<ECONOMY_ROWS; x++) {
        for (int y=0; y<ECONOMY_COLS; y++) 
        {
            z= z + seats[x][y].toString();
        }
        z = z + "\n";
    }
    return z;
}
private int findEmptyBlockInRow(int inRow, int inBlockSize, int inSeatType)
{
    int lastStartCol;

    //Determine lastStartCol, the last legal start column for the given block //size in the row.
    if(inRow < FC_ROWS)
        lastStartCol = FC_COLS – inBlockSize;
    else
        lastStartCol = ECONOMY_COLS – inBlockSize;

    for(int startCol = 0; startCol <= lastStartCol; startCol++)
    {
        ...

        //Starting at startCol, check for inBlockSize consecutive seats //that are empty and include the seat type you are looking for. If //a seat block is found, return the startCol. 

        for(int i = 0; i < inBlockSize; i++)
        {
            if (seats[inRow][startCol + i].isAvailable()==true)  
            {
                int f = 0;
                f++;
            }

            if (seats[inRow][startCol + i].getSeatType() == inSeatType)
            {
                int d = inSeatType;
            }

            return lastStartCol;
        }

    }
}
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:51:34.697

我的理解是打字有误。

尝试在这一行中`lastStartCol = FC_COLS - inBlockSize;`首先删除它`-`，然后再次从键盘输入减号。

也从这条线做上面`lastStartCol = ECONOMY_COLS - inBlockSize;`

或者

尝试用下面的代码替换您的代码行。

```
if(inRow < FC_ROWS)
    lastStartCol = FC_COLS - inBlockSize;
else
    lastStartCol = ECONOMY_COLS - inBlockSize; 
```

# css - CSS 度量单位“em”实际上代表什么？

> ID：15827038
> 
> 赞同：66
> 
> 时间：2013-04-05T06:06:44.927
> 
> 标签：css

正如标题所说，我想知道 CSS 单元“em”到底代表什么。如' cm **'**
代表**厘米**。

 **我不是在问'em'是什么或它是如何使用的！

[我在W3C](http://www.w3.org)上找不到答案。
维基[百科](http://en.wikipedia.org/wiki/Em_%28typography%29)的文章已经在说“某事”：

> em 的名称与 M 有关。最初的单位是从给定字体中大写“M”的宽度得出的。

我对第一句话的解释是“em”是字母“M”的发音/语音。
但是阅读第二句话，似乎“em”中的“e”代表了字母“M”的宽度。
所以我还是迷路了，'em'真正代表什么！

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2013-04-05T06:15:17.790

这是一个历史定义；在现代用法中，它只是指字体的大小，“em”这个词本身不再具有任何实际或相关意义。事实上，同一篇 Wikipedia 文章在[后面的部分](https://en.wikipedia.org/wiki/Em_%28typography%29#Incorrect_and_alternative_definitions)中扩展了这种演变的用法和含义：

> 一个 em 传统上被定义为当前字体和磅值中大写字母“M”的宽度，因为“M”通常是方形“块”或“em-quads”（也称为“ mutton-quads”），用于印刷机。然而，在现代字体中，字符 M 通常略小于 1 em 宽。此外，随着该术语扩展到包括更广泛的语言和字符集，其含义也发生了变化。这允许它包含那些不包含大写“M”的字体、字体和字符集，例如中文和阿拉伯字母。因此，em 通常表示所讨论字体的磅值，与铸造字体的金属体的高度相同。

特别是在 CSS 方面，“em”不一定指特定字体的大写字母 M 的宽度；这只是一个相对数量。

如果您要询问“em”这个词的*词源*，维基百科本身只包含对[Adob​​e Glossary](https://www.adobe.com/type/topics/glossary.html#em)的引用，对此几乎没有什么可说的：

> 排版中常用的度量单位。Em 传统上定义为当前面和点大小中大写 M 的宽度。它更恰当地定义为简单的当前点大小。例如，在 12 点类型中，em 是 12 点的距离。

任何权威机构都没有明确提到它是大写字母 M 的语音表示，但考虑到它的同名定义，我不排除这种可能性。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-05T08:00:29.433

在我看来，em 仅代表字母“M”的发音/语音。类似地，我们有 ex，一个 ex 是字体的 x 高度（x 高度通常约为字体大小的一半）。**

# javascript - 如何重新初始化jquery Datatable

> ID：15827039
> 
> 赞同：10
> 
> 时间：2013-04-05T06:06:46.530
> 
> 标签：javascript, jquery, datatables

如何重新初始化 jQuery 数据表？我什至试图删除表格元素。仍然显示该表。我的代码是这样的：

```
function removeExistingDataTableReference(tableid)
{
    if(oTable !=null)
    {
        oTable.fnDestroy();
    }

    if(document.getElementById(tableid)){
      document.getElementById(tableid).innerHTML="";
    }

    oTable=null;

    try
    {
        if(oTable !=null)
        {
            //oTable.fnDestroy();
            alert("error in fndestroy");
        }

        oTable=null;

        if(document.getElementById(tableid)){
            document.getElementById(tableid).innerHTML="";
        }

        if(document.getElementById("FTable"))
        {
            removeElement(document.getElementById("FTable"));   
        }

    }
    catch(e)
    {
        alert("Error happend:"+e.message);
    }

}

function removeElement(element) 
{   
  try
  {
       var elem = document.getElementById('FTable');
       elem.parentNode.removeChild(elem);
       //ert(element.parentNode.id);
       //element.parentNode.removeChild(element);
       alert("removed");
       return true;
   }
   catch(e)
   {
      alert(e.message);
   }

   return false;

} 
```

我怎样才能做到这一点？搜索按钮单击表加载后。同样，当我使用另一个搜索参数进行搜索时，表应该加载新数据。那没有发生。怎么解决？？

表初始化如下：

```
function createDataTable()
{
    try
    {
         oTable = $('#FTable').dataTable( {
             "bDestroy":true,
             "bJQueryUI": true,
            "sScrollX": "100%",
            "sScrollXInner": tablewidth+"px",
            "bScrollCollapse": true,
            "bSort":false,
            "iDisplayLength" : 50,
            "sPaginationType" : "full_numbers",
            "aLengthMenu": [[10, 18, 50, -1], [10, 18, 50, "All"]]
        } );

        new FixedColumns( oTable, {
            "iLeftColumns": 1,
            "iRightColumns": 1
        } );
    }
    catch (e)
    {
    alert(e.message);
    }   
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:25:55.097

您可以通过清除它然后使用添加元素来重新初始化数据表`fnAddData()`。

首先检查是否`dataTable`存在。该函数`fnClearTable()`将从表中清除数据。

在代码中，`dataTable`是数据表变量，`results`是`id`表。

```
if(typeof dataTable === 'undefined'){
    dataTable = $('#results').dataTable({ 
       "aLengthMenu": [
           [25, 50, 100, 200],
           [25, 50, 100, 200]
        ], 
        "iDisplayLength" : 25,
        "sPaginationType": "full_numbers",
    }); 
}else dataTable.fnClearTable(); 
```

然后再次使用 fnAddData 添加数据。

```
dataTable.fnAddData( [key, assignee, summary, status, days]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-10T08:53:03.900

您可以使用 fnReloadAjax

[http://datatables.net/forums/discussion/256/fnreloadajax/p1](http://datatables.net/forums/discussion/256/fnreloadajax/p1)

```
oTable = $('#FTable').dataTable( {
     "bDestroy":true,
     "bJQueryUI": true,
    "sScrollX": "100%",
    "sScrollXInner": tablewidth+"px",
    "bScrollCollapse": true,
    "bSort":false,
    "iDisplayLength" : 50,
    "sPaginationType" : "full_numbers",
    "aLengthMenu": [[10, 18, 50, -1], [10, 18, 50, "All"]]
} );

function reinit(){
    oTable.fnReloadAjax( 'media/examples_support/json_source2.txt' );
} 
```

# html - 使html选择选项下拉菜单默认打开

> ID：15827047
> 
> 赞同：6
> 
> 时间：2013-04-05T06:07:12.220
> 
> 标签：html, selection

单击选择框时，将显示选项的下拉列表。下拉列表保持打开状态，直到用户在外部单击或选择下拉列表中的选项之一。

有没有一种简单的方法可以在用户进入页面时显示下拉列表？像自动对焦但更好。类似于亚马逊自动显示其菜单的方式。

我知道我可能只是制作一个 ul 下拉列表 + javascript 等，但想知道是否有办法使用 html 或 javascript 进行选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:30:04.560

你可以用 j 查询来做到这一点（但我认为这不是你需要的东西）

**html代码**

```
<select class="select1" size="5" style="display:none">        
    <option name="test" value="" class="first">Select</option>       
    <option name="test" value="" class="">Opt1</option>       
    <option name="test" value="" class="">Opt2</option> 
</select> 
```

**Java 脚本**

```
$(document).ready(function() {
    $('.select1').toggle();
    $(document).click(function(e) {
  $('.select1').attr('size',0);
});
}); 
```

[演示](http://jsfiddle.net/pwURb/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:14:18.353

您可以轻松[模拟](http://docs.jquery.com/Events/click)对元素的单击，但单击 a`<select>`不会打开下拉菜单。

使用多个选择可能会出现问题。也许您应该考虑容器元素内的单选按钮，您可以根据需要扩展和收缩。

# java - 在android中搜索网站

> ID：15827049
> 
> 赞同：1
> 
> 时间：2013-04-05T06:07:25.533
> 
> 标签：java, android, web

我正在开发一个将在网站中搜索特定单词的android..为此我开发了一些代码...但它不完整...有谁能提供帮助...这将有助于我……非常感谢你的阅读

```
 public class MainActivity extends Activity {

    EditText et = new EditText(this);

     public void onClick(View v){
         Editable searchText = et.getText();
         Intent intent = new Intent(this, com.example.app.MainActivity.class);
         intent.putExtra("searchQuery", searchText);
         startActivity(intent);
     }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:41:05.587

尝试一下....

```
<EditText
    android:id="@+id/edt_search"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@android:color/transparent"
    android:ellipsize="end"
    android:hint="Enter Your Text"
    android:imeOptions="actionGo"
    android:singleLine="true"
    android:textSize="14sp" />

EditText edt_search;

edt_search = (EditText) findViewById(R.id.edt_search_book);
edt_search.setImeOptions(EditorInfo.IME_ACTION_GO);

edt_search.setOnEditorActionListener(new OnEditorActionListener() {
                   public boolean onEditorAction(TextView v, int actionId,
                                   KeyEvent event) {
                           // Log.i("KeyBoard" ,"Inside the Edit Text");
                           if (actionId == EditorInfo.IME_ACTION_GO) {

                               Intent intent = new Intent(Intent.ACTION_WEB_SEARCH);
                               intent.putExtra(SearchManager.QUERY, edt_search.getText().toString()); // query contains                                                                                               
                               startActivity(intent); // search string

                           }
                           return false;
                   }
           }); 
```

# regex - 我在正则表达式中只允许一个连字符 (-)

> ID：15827051
> 
> 赞同：1
> 
> 时间：2013-04-05T06:07:33.823
> 
> 标签：regex

我有一个文本框，我可以在其中获取用户的姓氏。如何在正则表达式中只允许一个连字符 (-)？

```
^([a-z A-Z]*-){1}[a-z A-Z]*$ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:14:53.250

您的正则表达式恰好允许一个`-`. 但我假设您想要匹配“Smith”、“Smith-Kennedy”，而不是“Smith-”，为此您只需将连字符移动到第二组：

```
^[a-z A-Z]+(-[a-z A-Z]+)?$ 
```

顺便说一句，几乎在所有情况下，什么时候`*`使用`+`是更好的解决方案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:14:24.193

您可以使用否定前瞻来拒绝具有多个连字符的字符串：

```
^(?![^-]+-[^-]+-)[a-zA-Z- ]+$ 
```

* * *

在 debuggex 上[匹配的演示。](http://www.debuggex.com/?re=%5E%28%3F%21%5B%5E-%5D%2B-%5B%5E-%5D%2B-%29%5Ba-zA-Z-+%5D%2B%24&str=abcd)

debuggex 上的[另一个匹配演示。](http://www.debuggex.com/?re=%5E%28%3F%21%5B%5E-%5D%2B-%5B%5E-%5D%2B-%29%5Ba-zA-Z-+%5D%2B%24&str=abcd-efgh)

在 debuggex 上[不匹配的演示演示。](http://www.debuggex.com/?re=%5E%28%3F%21%5B%5E-%5D%2B-%5B%5E-%5D%2B-%29%5Ba-zA-Z-+%5D%2B%24&str=abcd-efgh-ijkl)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T06:15:00.573

我假设您最多需要 1 个连字符。如果是这样，你想要的正则表达式是

```
^[a-z A-Z]*-?[a-z A-Z]*$ 
```

您可以在[www.debuggex.com](http://www.debuggex.com/?re=%5E%5Ba-z%20A-Z%5D%2a-?%5Ba-z%20A-Z%5D%2a%24&str=Hello%20world-asdf)上对其进行可视化。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T06:10:39.577

如果匹配`.*-.*-`，则您有多个连字符，不应接受这样的字符串

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-05T06:08:05.343

您的正则表达式的一个问题是它强制用户将`-`. 您可以使用`?`使其成为可选：

```
^[a-z A-Z]*\-?[a-zA-Z]*$ 
```

# asp.net - 为单个文本框设置多个验证器

> ID：15827053
> 
> 赞同：0
> 
> 时间：2013-04-05T06:07:44.880
> 
> 标签：asp.net

我是 asp.net 的新手，遇到了一些小问题，问题是为单个设置多个验证器`Textbox`。我设置了验证，但是在运行它时，验证是逐步进行的，而不是在一个地方。

这是我的代码：

```
<td align="right" style="padding-right: 5px; width: 50%;">
    <asp:Label ID="lblConformPassword" runat="server" Text="CONFORMPASSWORD &nbsp;:"></asp:Label>
</td>
<td align="left" style="padding-left: 5px; width: 50%; color: #FF0000;">
    <br />
    <br />
    <br />
    <asp:TextBox ID="txtConformPassword" runat="server" TextMode="Password" Width="70%"
        ForeColor="red" AutoCompleteType="Office"></asp:TextBox>
    * &nbsp;&nbsp;&nbsp;<br />
    <asp:RequiredFieldValidator ID="RequiredFieldValidator5" runat="server" ControlToValidate="txtConformPassword"
        ErrorMessage="You can't leave this empty." Style="color: #FF0000;"></asp:RequiredFieldValidator>
    <br />
    <asp:RegularExpressionValidator ID="rfvConformPassword" runat="server" ControlToValidate="txtConformPassword"
        ErrorMessage="SEE THE NOTE" ValidationExpression="(?=^.{6,}$)(?=.*\d)(?=.*\W+)(?![.\n]).*$"></asp:RegularExpressionValidator>
    <br />
    <asp:CompareValidator ID="CompareValidator1" runat="server" ControlToCompare="txtpassword"
        ControlToValidate="txtconformpassword" ErrorMessage="Password And ConformPassword Should Be Same."
        Display="Dynamic" Style="color: #FF0000; margin-left: 0px"></asp:CompareValidator>
    <br />
</td> 
```

所有验证都应在单行中进行。我该怎么设置呢？任何人都可以帮助我完成这个过程吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T06:11:50.487

好的..我想在所有验证器中都有一个属性 Display="dynamic" 您可以尝试一下。您可以采用 div 结构而不是 .
而且您必须在所有验证器中添加 display=dynamic 谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-30T05:24:08.087

使用验证器的 Display="dynamic" 属性。希望这可以帮助！！

# jquery - Yii gridview ajax自定义按钮在发送更新单元格值之前

> ID：15827054
> 
> 赞同：0
> 
> 时间：2013-04-05T06:07:45.587
> 
> 标签：jquery, gridview, yii

我面临在特定相关单元格值中通过 ajax 在 yii gridview 中显示 loader.gif beforesend 函数的问题。这是我的网格视图。

```
<?php $this->widget('zii.widgets.grid.CGridView', array(
'id'=>'deals-grid',
'dataProvider'=>$model->mersearch(),

'columns'=>array(
    'title',
    'description',
    array('header'=>'Valid Till','name'=>'valid','value'=>$data->valid),
    array('name' => 'status',
                'value'=>array($this,'getStatus'),
                'filter' => $active,'sortable'=>TRUE,
                'htmlOptions'=>array('class'=>'status'),
                ),
    array
            (   
            'name'=>'image',
                 'type'=>'image',
                            'value'=>array($this,'imagePath'),
                            'htmlOptions'=>array('class'=>'thumb','rel'=>'gallery'),
            ),
 array(
'class'=>'CButtonColumn',
'buttons'=>array
(

  'mail' => array
    (   
  'label'=>'mail',
  'imageUrl'=>Yii::app()->request->baseUrl.'/images/mail.png',
  'url'=>'Yii::app()->createUrl("deals/sendmail", array("id"=>$data->id))',
  'options' => array( 'ajax' => array('url'=>'js:$(this).attr("href")',
'beforeSend'=>'function(){
 var obj= $(".mail");
  obj.parent().parent().find(".status").replaceWith("<td class=\"status\"><img src=\"/images/loading.gif\"></td>");}',
                                                                'success'=>'function(data){$(".status").html("Mail Sent Successfully.")
                                                                    }',
                                    ),
                                                     'class'=>'mail',
                                    )),                                 

        ),
         'template'=>'{update}{delete}{mail}',
    ),
),
)); ?> 
```

主要问题是，当我单击 sendmail 按钮时，它会用 loading.gif 替换所有父状态类单元格，但我只想替换已替换的行状态单元格，但不是全部。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-09T13:58:13.877

当你使用

`var obj= $(".mail");`

你得到所有的单元格，因为每个单元格都有“邮件”类。

你应该只得到一个点击。尝试

`var obj= $(this);`

我没有测试，这是一个想法。

# rest - 通过 REST 调用停止 TeamCity 构建

> ID：15827055
> 
> 赞同：3
> 
> 时间：2013-04-05T06:07:52.730
> 
> 标签：rest, teamcity

是否可以通过 REST API 取消当前正在运行的构建？

我有一个集成，它获取当前正在运行的构建，如果它们失败，我想终止给定类型的构建。我知道如何列出给定类型的失败构建，然后如何传递停止命令？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-09-30T09:28:38.180

从 TeamCity 8.1 开始，可以使用[REST API](https://www.jetbrains.com/help/teamcity/rest-api.html#RESTAPI-BuildCanceling/Stopping)停止构建：

```
curl -v -u user:password --request POST "http://localhost:7000/app/rest/buildQueue/<buildLocator>" --data "<buildCancelRequest comment='' readdIntoQueue='true' />" --header "Content-Type: application/xml" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T14:49:29.357

也许不是使用 REST API，但如果你看[这里](http://confluence.jetbrains.com/display/TCD7/Accessing+Server+by+HTTP)（在评论部分的底部），有一个“未记录”的特性可以让你通过 HTTP 来做。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T15:50:54.710

不完全是您正在寻找的 REST 调用，但您可以简单地执行 HTTP POST 到：

[http://teamcity.my.org/viewLog.html?buildTypeId=bt278&buildId=1352480#](http://teamcity.my.org/viewLog.html?buildTypeId=bt278&buildId=1352480#)

在哪里：

*   buildTypeId 是您项目的 id

*   buildId 是要停止的内部版本号

显然，您只能在构建运行时执行此操作。

# linux - 在 Linux 运行时计算发送和接收的 PING 数据包

> ID：15827060
> 
> 赞同：0
> 
> 时间：2013-04-05T06:08:07.090
> 
> 标签：linux, unix, ping

我必须在 Linux 运行时计算发送和接收的 PING 数据包。现在在 Linux 中，即使是详细的，如果没有收到数据包，也不会打印任何内容。打印仅用于成功回复，无法访问目标主机。

如何在终端运行时查看发送和接收的数据包？有什么方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T08:30:10.520

最简单的解决方案 - 如果您想查看所有发送和所有接收，实际上是让源执行此操作。ping 命令的源代码广泛可用，可以对其进行编辑以使其执行您想要的操作。

也就是说，如果你不想实际编辑源，因为它不适合，你真的应该使用`-c`选项，用于发送数据包的计数，并使用命令**一次发送一个**。命令的返回码可用于确定是否看到了数据包，并且您可以（大致）使用命令开始的时间作为数据包的原始时间。

请记住 ping 它的行为非常具有确定性。默认情况下，它*每秒发送一个数据包*，因此您应该可以轻松地根据它运行的时间和您尝试使用的数据包数量进行数学计算。

# oracle - 如何在where子句中获取包含特殊符号的值

> ID：15827065
> 
> 赞同：0
> 
> 时间：2013-04-05T06:08:21.407
> 
> 标签：oracle

我需要提取包含特殊符号（`'.'`）的列值。

我写了如下代码

```
SELECT   value, name_display_code
              FROM vp40.ATTRIBUTES
             WHERE attribute_type_id IN (
                      SELECT attribute_type_id
                        FROM vp40.attribute_types
                       WHERE name_display_code =
                                   'ATTRIBUTE_TYPE.R'
                                || '&'
                                || 'D GMD NO'||'.') 
```

我需要的价值是`ATTRIBUTE_TYPE.R&D GMD NO.`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:40:53.447

TL;DR：[`set define off`](http://docs.oracle.com/cd/E11882_01/server.112/e16604/ch_twelve040.htm#i2698854)在运行查询之前（可能）。

* * *

句点 ( `.`) 不是特殊字符。您拆分和连接值的方式让我想知道您是否真的在 SQL*Plus 或 SQL Developer（或其他客户端）中看到了[替换变量](http://docs.oracle.com/cd/E11882_01/server.112/e16604/ch_five.htm#autoId19)问题，因为消失-尽管不是在您的特定情况下。`&``.`

句点可以标记替换变量的结束，如果下一个字符是字符串的一部分，则需要句点，因此如果您有：

```
select 'R&Ddept' from dual; 
```

那么整个 'Ddept' 将被视为替换变量：

```
Enter value for ddept: D
old   1: select 'R&Ddept' from dual
new   1: select 'RD' from dual

'R
--
RD 
```

要使成为`D`替换变量并将 'dept' 保留为固定字符串，请用句点分隔变量：

```
select 'R&D.dept' from dual;

Enter value for d: D
old   1: select 'R&D.dept' from dual
new   1: select 'RDdept' from dual

'RDDEP
------
RDdept 
```

但是，如果您还希望实际显示一个句点，则需要添加一个额外的句点，以说明被替换处理吞下的句点：

```
select 'R&D..dept' from dual;

Enter value for d: D
old   1: select 'R&D..dept' from dual
new   1: select 'RD.dept' from dual

'RD.DEP
-------
RD.dept 
```

显然，这仅适用于您确实想要替换的情况，当然`&`在任何这些情况下，最终字符串中都不会出现。`&`在你的情况下（对我来说）更令人困惑的是，在和之间有一个空格`.`意味着它无论如何都不会被视为分隔符；因为`'ATTRIBUTE_TYPE.R&D GMD NO.'`只有 the`&D`被视为替换，而 the`.`则保持原样。我*猜*你以更短的值到达了这一点。

您可能想要在这里实现的是完全避免替换。你这样做的方式，拆分字符串以便`&`单独看到并且看不到替换，当然是一种方法，但很痛苦，特别是如果你不一定控制正在使用的字符串或有多个值。

至少还有两种其他方式；和：[`set escape`](http://docs.oracle.com/cd/E11882_01/server.112/e16604/ch_twelve040.htm#BGBFAHDB)_[`set define`](http://docs.oracle.com/cd/E11882_01/server.112/e16604/ch_twelve040.htm#i2698854)

```
set escape '\'
select 'ATTRIBUTE_TYPE.R\&D GMD NO.' from dual; 
```

这为 SQL*Plus 会话定义了一个转义字符，然后您可以将该字符放在 & 符号之前 - `\&`- 因此它不会被视为替换变量。但是您仍然必须修改原始字符串，这并不理想。

```
set define off
select 'ATTRIBUTE_TYPE.R&D GMD NO.' from dual; 
```

这完全禁用了替换，因此原始字符串保持不变。这通常是最简单的方法。您可以在脚本中根据需要打开和关闭它；如果您有一个语句需要在某些地方进行替换，但也有想要保留的 & 符号，您可以恢复到转义机制，或定义不同的替换字符，只要您能找到其他您永远不需要的东西逃离。

（您可能还会看到对`set scan off`; 这的引用早于`set define`并且[已经过时](http://docs.oracle.com/cd/E11882_01/server.112/e16604/apc.htm#i656840)，所以不要在新代码中使用它）。

# jquery - jQuery + ASP.NET：jQuery 点击事件不会触发

> ID：15827069
> 
> 赞同：1
> 
> 时间：2013-04-05T06:08:36.540
> 
> 标签：jquery, asp.net

我在 ASP.NET 网站中使用 JQuery 时遇到问题。我想将一个常见的单击处理程序绑定到多个相似的元素（通过 ListView 为那些熟悉 ASP.NET 的人生成）。我的假设是使用如下的类选择器（例如）：

```
$('.standard-group').click(function () {
    alert($(this).attr("id"));
}); 
```

这与一系列具有此类的 div 有关：

```
<div class="standard-group">
    some content
</div>

<div class="standard-group">
    some other content
</div> 
```

此外，内容在 ContentPlaceholder 内生成并合并到一个母版页（实际上是 2 个嵌套母版页）。我尝试将点击处理程序`<script></script>`放在第二个 ContentPlaceholder 内的标签之间，该处理程序将其内容注入`<head>`页面部分，尝试将其与主要 ContentPlaceholder 中的内容一起放置，但均无济于事。最终发生的是生成的页面正确加载，我可以检查源代码并在那里查看函数，但没有引发任何事件。我怀疑这与母版页/服务器处理方案有关，但无法确定。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:10:46.133

将点击事件委托给`document`with`on()`

```
 $(document).on('click','.standard-group',function () {
    alert($(this).attr("id"));
}); 
```

[链接](http://jq4you.blogspot.com/2013/02/jquery-direct-and-delegate-on-event.html)以了解更多信息`on()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:11:31.993

添加事件的脚本可以在创建元素之前执行，您可以使用[on()](http://api.jquery.com/on/)将事件委托给文档。

```
$(document).on('click', '.standard-group', function () {
    alert($(this).attr("id"));
}); 
```

**委托事件**

> 事件处理程序仅绑定到当前选定的元素；当您的代码调用 .on() 时，它们必须存在于页面上。为确保元素存在并且可以被选择，请在页面 HTML 标记中的元素的文档就绪处理程序内执行事件绑定。如果将新 HTML 注入页面，请在将新 HTML 放入页面后选择元素并附加事件处理程序。或者，使用委托事件来附加事件处理程序，如下所述。[参考](http://api.jquery.com/on/)

# jquery - 如何在不触发“喜欢”权限的情况下检查粉丝是否喜欢我的 Facebook 页面

> ID：15827070
> 
> 赞同：0
> 
> 时间：2013-04-05T06:08:41.883
> 
> 标签：jquery, facebook

在我使用[VS2012 模板](http://blogs.msdn.com/b/webdev/archive/2012/12/13/the-new-facebook-application-template-and-library-for-asp.net-mvc.aspx)构建的 facebook 应用程序中，我不希望有 facebook 权限请求。

该应用程序旨在充当 Facebook 页面的粉丝门。所以我用我的应用程序特定设置调整了下面的代码。此代码来自 [How to check if a user likes my Facebook Page or URL using Facebook's API](https://stackoverflow.com/questions/5093398/how-to-check-if-a-user-likes-my-facebook-page-or-url-using-facebooks-api)。但是现在该应用程序会弹出一个 facebook 权限检查以允许访问喜欢。

是否有另一种技术可以在我使用的环境中检查喜欢的内容？

```
<html>
  <head>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <style type="text/css">
      div#container_notlike, div#container_like {
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="fb-root"></div>
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: 'YOUR_APP_ID', // App ID
                channelUrl: 'http(s)://YOUR_APP_DOMAIN/channel.html', // Channel File
                status: true, // check login status
                cookie: true, // enable cookies to allow the server to access the session
                xfbml: true  // parse XFBML
            });

            FB.getLoginStatus(function (response) {
                var page_id = "YOUR_PAGE_ID";
                if (response && response.authResponse) {
                    var user_id = response.authResponse.userID;
                    var fql_query = "SELECT uid FROM page_fan WHERE page_id = " + page_id + "and uid=" + user_id;
                    FB.Data.query(fql_query).wait(function (rows) {
                        if (rows.length == 1 && rows[0].uid == user_id) {
                            console.log("LIKE");
                            $('#container_like').show();
                        } else {
                            console.log("NO LIKEY");
                            $('#container_notlike').show();
                        }
                    });
                } else {
                    FB.login(function (response) {
                        if (response && response.authResponse) {
                            var user_id = response.authResponse.userID;
                            var fql_query = "SELECT uid FROM page_fan WHERE page_id = " + page_id + "and uid=" + user_id;
                            FB.Data.query(fql_query).wait(function (rows) {
                                if (rows.length == 1 && rows[0].uid == user_id) {
                                    console.log("LIKE");
                                    $('#container_like').show();
                                } else {
                                    console.log("NO LIKEY");
                                    $('#container_notlike').show();
                                }
                            });
                        } else {
                            console.log("NO LIKEY");
                            $('#container_notlike').show();
                        }
                    }, { scope: 'user_likes' });
                }
            });
        };

        // Load the SDK Asynchronously
        (function (d) {
            var js, id = 'facebook-jssdk'; if (d.getElementById(id)) { return; }
            js = d.createElement('script'); js.id = id; js.async = true;
            js.src = "//connect.facebook.net/en_US/all.js";
            d.getElementsByTagName('head')[0].appendChild(js);
        }(document));
    </script>

    <div id="container_notlike">
      YOU DON'T LIKE ME :(
    </div>

    <div id="container_like">
      YOU LIKE ME :)
    </div>

  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T11:32:52.113

正如 CBroe 所说，知道用户是否喜欢您的页面的唯一方法，而不需要获得喜欢的权限，它是使用**页面标签**上的签名请求。

如果您的应用是**Page Tab**，则会在您的索引文件上发布签名请求。

signed_request 作为 json 对象发布，这是通常的签名请求：

```
{
   "oauth_token": "...big long string...",
   "algorithm": "HMAC-SHA256",
   "expires": 1291840400,
   "issued_at": 1291836800,
   "registration": {
      "name": "Paul Tarjan",
      "email": "fb@paulisageek.com",
      "location": {
         "name": "San Francisco, California",
         "id": 114952118516947
      },
      "gender": "male",
      "birthday": "12/16/1985",
      "like": true,
      "phone": "555-123-4567",
      "anniversary": "2/14/1998",
      "captain": "K",
      "force": "jedi",
      "live": {
         "name": "Denver, Colorado",
         "id": 115590505119035
      }
   },
   "registration_metadata": {
      "fields": "[\n {'name':'name'},\n {'name':'email'},\n {'name':'location'},\n {'name':'gender'},\n {'name':'birthday'},\n {'name':'password'},\n {'name':'like',       'description':'Do you like this plugin?', 'type':'checkbox',  'default':'checked'},\n {'name':'phone',      'description':'Phone Number',             'type':'text'},\n {'name':'anniversary','description':'Anniversary',              'type':'date'},\n {'name':'captain',    'description':'Best Captain',             'type':'select',    'options':{'P':'Jean-Luc Picard','K':'James T. Kirk'}},\n {'name':'force',      'description':'Which side?',              'type':'select',    'options':{'jedi':'Jedi','sith':'Sith'}, 'default':'sith'},\n {'name':'live',       'description':'Best Place to Live',       'type':'typeahead', 'categories':['city','country','state_province']},\n {'name':'captcha'}\n]"
   },
   "user_id": "218471"
} 
```

如果您将此 json 对象解析为一个数组，并且您的应用程序是一个**Page Tab** 通过这样做，如果用户喜欢您的页面，`signed_request['page']['liked']`您将获得**TRUE** ，如果他不喜欢，您将获得**FALSE 。**

您可以在此处阅读有关解析签名请求的更多信息： [https ://developers.facebook.com/docs/howtos/login/signed-request/](https://developers.facebook.com/docs/howtos/login/signed-request/)

有关每种应用类型的特定字段的更多信息，请访问： [https ://developers.facebook.com/docs/reference/login/signed-request/](https://developers.facebook.com/docs/reference/login/signed-request/)

# iphone - 检测 UITableViewCell 中的 UIImageView 点击

> ID：15827071
> 
> 赞同：2
> 
> 时间：2013-04-05T06:08:43.907
> 
> 标签：iphone, ios, objective-c, imageview

在 tableviewcell 中单击 imageview 时，我必须拨打特定号码。拨打电话的号码显示在 imageview 旁边的标签中。但我无法获取单击了哪个单元格。始终指的是最后一个单元格.

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{

    if(cell == nil)
    {
        cell =[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault  reuseIdentifier:CellIdentifier];
        lblphone = [[UILabel alloc] initWithFrame:CGRectZero];
        lblphone.tag = 116;
        lblphone.backgroundColor = [UIColor clearColor];
        [lblphone setFont:[UIFont fontWithName:@"Helvetica" size:12]];
        [lblphone setLineBreakMode:UILineBreakModeWordWrap];
        [lblphone setUserInteractionEnabled:YES];

        UITapGestureRecognizer *tapGestureRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(labelButton:)];
        tapGestureRecognizer.cancelsTouchesInView=NO;
        [tapGestureRecognizer setNumberOfTapsRequired:1];
        [lblphone addGestureRecognizer:tapGestureRecognizer];
        [tapGestureRecognizer release];
        [cell addSubview:lblphone];

        myImageView = [[UIImageView alloc] initWithFrame:CGRectZero];
        myImageView.tag = 120;
        myImageView.image=[UIImage imageNamed:@"CallImg.png"];

        UITapGestureRecognizer *tapped = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(imageSelectedInTable:)];
        [tapped setNumberOfTapsRequired:1];
        [myImageView addGestureRecognizer:tapped];
        [tapped release];
        [cell addSubview:myImageView];
    }

    [myImageView setFrame:CGRectMake(10, 50,30,30)];
    myImageView= (UIImageView*)[cell viewWithTag:120];
    myImageView.image=[UIImage imageNamed:@"CallImg.png"];
    myImageView.userInteractionEnabled=YES;

    CGSize constraint5 = CGSizeMake(320, 2000.0f);
    CGSize size5=[phone sizeWithFont:[UIFont fontWithName:@"Helvetica" size:14] constrainedToSize:constraint5 lineBreakMode:UILineBreakModeWordWrap];
    lblphone =(UILabel *)[cell viewWithTag:116];
    [lblphone setFrame:CGRectMake(45,name.frame.size.height+name.frame.origin.y,320, size5.height)];
    lblphone.textAlignment=UITextAlignmentLeft;
    lblphone.backgroundColor=[UIColor clearColor];
    lblphone.text=[NSString stringWithFormat:@"%@ ",phone ];
    [lblphone sizeToFit];
} 
```

在 imageclick 的 Tapgesture 中，我正在写这个：

```
-(IBAction)imageSelectedInTable:(UITapGestureRecognizer*)gesture
{
    UIImageView *imgView = (UIImageView *) [gesture view];
    UITableViewCell *cell = (UITableViewCell*)[[imgView superview]superview];
    NSIndexPath *tappedIndexPath = [self.tableView indexPathForCell:cell];
    NSLog(@"Image Tap %@", tappedIndexPath);
    UILabel *phoneno = (UILabel *)[cell viewWithTag:116];

    NSString *phoneNumber = [@"telprompt://" stringByAppendingString:phoneno.text];
    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:phoneNumber]];
} 
```

但它总是引用最后一个单击的单元格，而不管单击哪个单元格。不明白我哪里出错了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:28:17.797

看起来图像视图是单元格的子视图（在树下一步），并且正在探测父级的代码正在上两步...superview superview。（后一种方法适用于将子视图添加到单元格的 contentView 的 nib 定义的单元格）。

这是一种更安全的爬升视图层次结构的方法，无论单元格是如何构建的，它都可以工作。

```
- (UITableViewCell *)tableViewCellContaining:(UIView *)aView {

    UIView *answer = aView;
    while (answer && ![answer isKindOfClass:[UITableViewCell self]])
        answer = answer.superview;
    return answer;
} 
```

我认为如果您替换此行，您的代码可能会起作用：

```
UITableViewCell *cell = (UITableViewCell*)[[imgView superview]superview]; 
```

用这条线

```
UITableViewCell *cell = [self tableViewCellContaining:imgView] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-05T06:33:57.820

我看到你试图访问你的手机，

```
UITableViewCell *cell = (UITableViewCell*)[[imgView superview]superview]; 
```

但是您将图像视图添加到

```
[cell addSubview:myImageView]; 
```

您应该将图像视图添加到`cell.contentView`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T06:15:03.640

要获取/知道单击了哪个单元格，请编写以下代码

```
UITableViewCell *cell = (UITableViewCell *)[[imgView superview]superview]; 
```

如果你也想得到`indexPath`窃听的单元格然后写

```
NSIndexPath *indexPath = [tableView indexPathForCell:cell]; 
```

**已编辑：-> 另一种方法是**

Give `tag`of `UIImageView`in `cellForRowAtIndexPath`Method 比如，

```
imageView.tag = indexPath.row; 
```

并使用以下代码

```
int row = ((UIImageView*)imgView).tag; //Or// int row = ((UIGestureRecognizer *)sender).view.tag;

NSIndexPath* indexpath = [NSIndexPath indexPathForRow:row inSection:0]; 
UITableViewCell* cell = [table cellForRowAtIndexPath:indexPath]; 
```

在这里你可以得到`Cell`Tapped `UIImageView`。

# android - 活动和片段

> ID：15827072
> 
> 赞同：0
> 
> 时间：2013-04-05T06:08:48.593
> 
> 标签：android, android-fragments

这是交易，我有一个简单的应用程序，你的用户将在其中登录并查看报告。我的这些报告的基本架构包括一个显示用户登录信息的页眉片段、一个包含报告内容的表格布局和一个页脚片段，我在其中为我将提供的所有报告创建了一个选项菜单。现在，我对每个报告都有不同的活动，我从**onOptionsItemSelected()**开始/启动这些活动，如下所示：

`getActivity().startActivity(intent);`

第一个报告、菜单及其所有项目都可以完美加载。但是当我从菜单中选择一个菜单项时，我的应用程序停止给出以下异常：

```
04-04 18:29:49.670: E/AndroidRuntime(1123): java.lang.RuntimeException: 
Unable to start activity ComponentInfo{com.example/com.example.Report2}: 
android.view.InflateException: Binary XML file line #10: Error inflating class fragment 
```

我猜这是因为下一个活动也包含这些片段（页眉和页脚）。我的方法错了吗？我正在网上查找，但大量信息最终让我感到困惑。任何帮助，将不胜感激！

**编辑：**

报表 1 的布局 XML

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:baselineAligned="false"
    android:gravity="center"
    android:orientation="vertical">

    <fragment
        android:name="com.example.HeaderFragment"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_gravity="center"
        android:layout_weight="1"
        android:gravity="center_horizontal"
        tools:layout="@layout/header_fragment" />

    <TableLayout
        android:id="@+id/tblSummRep"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="4"
        android:padding="5dip">

    </TableLayout>
    <fragment
        android:name="com.example.FooterFragment"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_gravity="center"
        android:layout_weight="1"
        android:gravity="center_horizontal"
        tools:layout="@layout/footer_fragment" />   

</LinearLayout> 
```

所有报告的上述布局都相同

路由菜单项的代码（在页脚片段的类中）如下：

```
@Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Handle item selection
        int switchTo = mm.routeMenu(item, con);
        switch (switchTo) {
        case 2:
            intent = new Intent(con, Report2.class);
            isAct = "Y";
            break;
        case 3:
            intent = new Intent(con, Report3.class);
            isAct = "Y";
            break;
        case 4:
            intent = new Intent(con, Report4.class);
            isAct = "Y";
            break;
        case 5:
            intent = new Intent(con, Report5.class);
            isAct = "Y";
            break;
        case 6:
            intent = new Intent(con, Report6.class);
            isAct = "Y";
            break;
        default:
            super.onOptionsItemSelected(item);
        }
        if(isAct.toUpperCase().equals("Y")){
            if(Login.lstLogin != null){
                getActivity().startActivity(intent);
            }
        }
        return true;
    } 
```

**mm.RouteMenu()**在另一个类中，它处理诸如从数据库中获取要显示的项目之类的事情。

此外，**con**是`activity.getApplicationContext();`在**onAttach()**事件中

# three.js - 如何对 OrbitControl 设置限制？

> ID：15827074
> 
> 赞同：33
> 
> 时间：2013-04-05T06:08:55.307
> 
> 标签：three.js, controls

有没有办法限制`OrbitControls.js`? 想象一下，我正在地面上创建一些东西，我不希望相机进入地面，知道我的意思吗？！放大和缩小也是如此。有没有办法设置一些变量来限制它，因为我不希望相机靠近或太远？

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2013-04-05T06:22:36.257

[OrbitControls 源](https://github.com/mrdoob/three.js/blob/master/examples/js/controls/OrbitControls.js)

放大/缩小

```
this.minDistance = 0;
this.maxDistance = Infinity; 
```

在哪里停止旋转：

```
this.minPolarAngle = 0; // radians
this.maxPolarAngle = Math.PI; // radians 
```

不要让去地下

```
controls.maxPolarAngle = Math.PI/2; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-07-26T19:48:09.860

以防万一有人需要地面高度和相机目标调整的更可靠的答案：

您可以找到相对于控件目标的角度和相机的地面位置（无论高度如何）并指定 maxPolarAngle。调整您的上轴，我的是 Y。在控件更改事件中：

```
var centerPosition = controls.target.clone();
centerPosition.y = 0;
var groundPosition = camera.position.clone();
groundPosition.y = 0;
var d = (centerPosition.distanceTo(groundPosition));

var origin = new THREE.Vector2(controls.target.y,0);
var remote = new THREE.Vector2(0,d); // replace 0 with raycasted ground altitude
var angleRadians = Math.atan2(remote.y - origin.y, remote.x - origin.x);
controls.maxPolarAngle = angleRadians; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-09-02T13:21:40.750

**如果您想更好地控制 Orbit：**

```
 const controls = new OrbitControls(camera, this.renderer.domElement);
        controls.enableDamping = true;   //damping 
        controls.dampingFactor = 0.25;   //damping inertia
        controls.enableZoom = true;      //Zooming
        controls.autoRotate = true;       // enable rotation
        controls.maxPolarAngle = Math.PI / 2; // Limit angle of visibility
        controls.keys = {
          LEFT: 37, //left arrow
          UP: 38, // up arrow
          RIGHT: 39, // right arrow
          BOTTOM: 40 // down arrow
        };

       controls.addEventListener("change", () => {
          if (this.renderer) this.renderer.render(this.scene, camera);
        }); 
```

# c# - 如何使用 C# .net 2.0 将我的文件夹转换为应用程序？

> ID：15827079
> 
> 赞同：1
> 
> 时间：2013-04-05T06:09:26.917
> 
> 标签：c#, iis

我在 IIS 中有我的项目（文件夹格式），我想将该文件夹转换为应用程序（如右键单击-> 转换为应用程序），我想在 C# 代码中执行此操作，我使用的是 .net 2.0。我按照这个链接[Using ServerManager to create Application within Application](https://stackoverflow.com/questions/4518186/using-servermanager-to-create-application-within-application/15815005#15815005)，但我不知道

```
Site site = serverManager.Sites.First(s => s.Id == 3); 
```

那是什么？当我尝试添加该代码时，我收到错误消息： **microsoft.web.administration.sitecollection 不包含 first 的定义**

请回复一些...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:16:40.643

> 那是什么？

它[`LINQ`](http://msdn.microsoft.com/en-us/library/vstudio/bb397926.aspx)在.NET 2.0 中不可用。您需要使用 .NET 3.5 或更高版本，并`System.Core`在项目中引用程序集并将`System.Linq`命名空间添加到`using`指令中，以便将[`.First()`](http://msdn.microsoft.com/en-us/library/bb535050.aspx)扩展方法纳入范围。

如果您无法升级到 .NET 的更新版本，您可以通过以下方式获得类似的结果：

```
Site site = null;
foreach (var s in serverManager.Sites)
{
    if (s.Id == 3)
    {
        site = s;
        break;
    }
}
if (site == null)
{
    throw new InvalidOperationException("Sequence contains no elements that match the criteria (Site Id = 3)");
}

// at this stage you could use the site variable. 
```

# python-2.7 - 如何在不查看所有源代码的情况下跟踪 python 代码中的流程

> ID：15827080
> 
> 赞同：0
> 
> 时间：2013-04-05T06:09:34.400
> 
> 标签：python-2.7, trace

我是 Python 的新手。我想跟踪一个python项目“youtube下载”，它提供了一堆下载youtube视频的功能，但是我只想知道什么时候触发项目中的一个方法。喜欢

```
"./youtube-dl <YOUTUBE_URL> -t" 
```

它将下载 youtube 流并保存标题。我只想知道当我触发命令时将调用哪些函数，我不想“知道/跟踪”与我触发的命令无关的其他函数。

是否有任何调试模式选项，或者什么样的设置可以让我完成这项工作！

提前谢谢大家^^

# javascript - 表单重置并以编程方式设置值

> ID：15827083
> 
> 赞同：0
> 
> 时间：2013-04-05T06:10:19.420
> 
> 标签：javascript, jquery, forms, reset

我正在尝试使用以下方法重置表单：

```
myForm.reset(); 
```

我试图以这种方式设置值：

```
//solved by setting $('#myTextControl').attr('defaultValue', 'my initial value');
//Thanks RobG
$('#myTextControl').val('my value');
$('#myTextControl').attr('value', 'my value');

//solved by setting $('#myTextControl').attr('defaultChecked', false or true); initially
$('#myCheckboxControl')attr('checked', 'checked');    

//Finally it works with radios too, as shown here -> http://jsfiddle.net/4VAkp/2/
$('#myRadioControl')attr('checked', 'checked'); 
```

更新值的方式很重要，您可以在此处看到 -> [http://jsfiddle.net/4VAkp/3/](http://jsfiddle.net/4VAkp/3/) 使用 attr 更新值会将值修复为默认值： **错误**

```
radio2.attr('checked', true);
text2.attr('value', 'my text2'); 
```

这不会将值设置为默认值（如预期的那样）： **正确**

```
radio.prop('checked', true);
text.val('my text'); 
```

这在用户设置值时工作正常，但如果以编程方式设置值则不起作用。

如果我首先以编程方式设置一个值，然后通过 ui 并最终重置它，它会回到以编程方式设置的状态。

我怀疑应该有一种方法可以在不更改默认值的情况下以编程方式设置值。

有什么想法吗？

提前致谢，

埃里克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:14:36.003

重置表单会将控件设置为其默认值，该值由*value*属性指定或由*defaultValue*属性设置。用户的更改不会改变其中任何一个——除了在（旧的？）IE 中，*getAttribute*是错误的。

要在不修改 value 属性或 defaultValue 属性的情况下将表单“重置”为其他一组值，必须以编程方式设置控件的*value属性。*

# sql - 如何查询当月第一天到最后一天的记录数

> ID：15827085
> 
> 赞同：0
> 
> 时间：2013-04-05T06:10:23.317
> 
> 标签：sql, sql-server

我想从我的表中获取每天记录的计数。例如，我有一个表“Employee”，其中包含以下字段 ID、EmpNo、DateHired。我有以下记录

```
ID  EmpNo       DateHired
1   000001      3/2/2013 12:00:00 AM
2   000002      3/14/2013 12:00:00 AM
3   000003      3/14/2013 12:00:00 AM
4   000004      3/21/2013 12:00:00 AM
5   000005      4/2/2013 12:00:00 AM
6   000006      4/3/2013 12:00:00 AM
7   000007      4/3/2013 12:00:00 AM
8   000008      4/3/2013 12:00:00 AM
9   000009      4/3/2013 12:00:00 AM
10  000010      4/4/2013 12:00:00 AM
11  000011      4/5/2013 12:00:00 AM
12  000012      5/1/2013 12:00:00 AM 
```

而当前月份是四月，我怎样才能得到这个值：

```
Count   Day
0   4/1/2013 12:00:00 AM
1   4/2/2013 12:00:00 AM
4   4/3/2013 12:00:00 AM
1   4/4/2013 12:00:00 AM
1   4/5/2013 12:00:00 AM
0   4/6/2013 12:00:00 AM
0   4/7/2013 12:00:00 AM
0   4/8/2013 12:00:00 AM
Up to
0   4/30/2013 12:00:00 AM 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:19:57.237

您需要为整个四月创建一个日历，以便获取该月的整个日期。借助 using `Common Table Expression`，你可以得到你想要的。

创建日历后，使用表将其与表连接，因此表`Employee`上`LEFT JOIN`没有匹配的日期仍将`Employee`包含在结果中。

```
WITH April_Calendar
AS
(
  SELECT CAST('20130401' as datetime) AS [date]
  UNION ALL
  SELECT DATEADD(dd, 1, [date])
  FROM   April_Calendar
  WHERE  DATEADD(dd, 1, [date]) <= '20130430'
)
SELECT a.date, COUNT(b.DateHired) totalCount
FROM   April_Calendar a
       LEFT JOIN Employee b
          ON a.date = b.DateHired
GROUP  BY a.date
ORDER  BY a.date 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/9d7bd/4)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:13:30.693

尝试

```
SELECT   COUNT(*) as 'Count', DateHired as 'Day'
FROM     Employee
WHERE    DateHired BEWTEEN %date1 AND %date2
GROUP BY DateHired 
```

未经测试，应该可以工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:15:19.583

这可能是查询...

```
SELECT COUNT(ID) as Count, DateHired FROM Employee GROUP BY DateHired 
```

在这种情况下，以下内容可能会有所帮助...

[http://www.sqlite.org/lang_datefunc.html](http://www.sqlite.org/lang_datefunc.html)

希望能帮助到你..

# ios - 使用 ASIHTTPRequest 使用 NSXMLPaerser 解析时为空表视图行

> ID：15827086
> 
> 赞同：1
> 
> 时间：2013-04-05T06:10:25.747
> 
> 标签：ios, xcode, uitableview, asihttprequest, nsxmlparser

我是相当新的 iPhone 开发，我有一个问题。经过几个小时的搜索和挖掘代码，我可以理解问题的根源（希望）但不知道如何解决它。问题是 tableView 单元在解析器完成之前加载，因此“[array count]”为 nil。当我手动设置“部分中的行数”时，表格确实出现了，但只是在几秒钟后上下滚动。

我有 2 个类，一个用于 XMLParser，一个用于显示 tableView。根据我在打开这个问题之前读到的内容，我需要重新加载 tavleview 数据，但因为我有 2 个不同的类，我不知道该怎么做。有任何想法吗？

非常感谢！

**这是我的 XMLParser 代码：**

```
- (void)parserDidStartDocument:(NSXMLParser *)parser
{ 
    self.titles = [[NSMutableArray alloc]init];
    self.descriptions = [[NSMutableArray alloc]init];
    self.links = [[NSMutableArray alloc]init];
    self.pubDate = [[NSMutableArray alloc]init]; 
}

- (void)parserDidEndDocument:(NSXMLParser *)parser
{

}

BOOL isItem = NO;
BOOL isTitle = NO;
BOOL isDesription = NO;
BOOL isImg = NO;
BOOL isPubDate = NO;

- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{
    if ([elementName isEqualToString:@"item"]) {
        isItem = YES;
    }

    if ([elementName isEqualToString:@"title"]) {
        isTitle=YES;
        self.titlesString = [[NSMutableString alloc]init];
    }

    if ([elementName isEqualToString:@"description"]) {
        isDesription = YES;
        self.descriptionString = [[NSMutableString alloc]init];;
        self.data = [NSMutableData data];
    }
    if ([elementName isEqualToString:@"pubDate"]) {
        isPubDate = YES;
        self.pubDateString = [[NSMutableString alloc]init];
    }

}

- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{
    if(isItem && isTitle){
        [self.titlesString appendString:string];
    }
    if (isItem && isDesription) {
        [self.descriptionString appendString:string];
    }
    if (isItem && isPubDate) {
        [self.pubDateString appendString:string];
    }

}

- (void)parser:(NSXMLParser *)parser foundCDATA:(NSData *)CDATABlock
{
    if (self.data)
        [self.data appendData:CDATABlock];

}

- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{

    if ([elementName isEqualToString:@"item"]) {
        isItem = NO;

        [self.titles addObject:self.titlesString];
        [self.descriptions addObject:self.descriptionString];
        [self.pubDate addObject:self.pubDateString];
        NSLog(@"%@,%@,%@,",self.titlesString,self.descriptionString,self.pubDate);

    }

    if ([elementName isEqualToString:@"title"]) {
        isTitle=NO;

    }
    if ([elementName isEqualToString:@"description"]) {
        isDesription = NO;

        if ([self.data length] > 0)
        {
            NSString *htmlSnippet = [[NSString alloc] initWithData:self.data encoding:NSUTF8StringEncoding];
            NSString *imageSrc = [self firstImgUrlString:htmlSnippet];
            [self.links addObject:imageSrc];
        }

        self.data = nil;
    }

    if([elementName isEqualToString:@"pubDate"])
        isPubDate = NO;
}

- (NSString *)firstImgUrlString:(NSString *)string
{
    NSError *error = NULL;
    NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@"(<img\\s[\\s\\S]*?src\\s*?=\\s*?['\"](.*?)['\"][\\s\\S]*?>)+?"
                                                                           options:NSRegularExpressionCaseInsensitive
                                                                             error:&error];

    NSTextCheckingResult *result = [regex firstMatchInString:string
                                                     options:0
                                                       range:NSMakeRange(0, [string length])];

    if (result)
        return [string substringWithRange:[result rangeAtIndex:2]];

    return nil;

} 
```

**这是我的 show tableView 代码：**

```
- (void)viewDidLoad
{
    [super viewDidLoad];

       self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"menuButton.png"] style:UIBarButtonItemStyleBordered target:self.viewDeckController action:@selector(toggleLeftView)];

    NSURL *url;

    if (!self.isGetLink)
        url = [NSURL URLWithString:@"http://www.ynet.co.il/Integration/StoryRss2.xml"];
    else
        url = [NSURL URLWithString:self.linkForParsingString];

    if (!self.xmlParser) {
        self.xmlParser = [[XMLparser alloc]init];

        [self.xmlParser LoadXMLWithURl:url];
    }

    self.isGetLink = NO;
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

#pragma mark - Table view data source

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{

    // Return the number of sections.
    return 1;
}
- (void)registerNib:(UINib *)nib forCellReuseIdentifier:(NSString *)identifier
{

}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    // Return the number of rows in the section.
    return [self.xmlParser.titles count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier = @"CustomCell";
    CustomCell *cell = (CustomCell*) [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil)
    {
        NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"CustomCell" owner:self options:nil];
        cell = [nib objectAtIndex:0];

    }

    cell.lblTitle.text = [self.xmlParser.titles objectAtIndex:indexPath.row];
    cell.lblTitle.font = [UIFont boldSystemFontOfSize:[UIFont systemFontSize]];
    NSData *data = [NSData dataWithContentsOfURL:[NSURL URLWithString:[self.xmlParser.links objectAtIndex:indexPath.row]]];
    cell.imgView.image = [UIImage imageWithData:data];

    return cell;
}
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    return 82;
}

#pragma mark - Table view delegate
NSString *curnentDes;
NSString *currentTitle;
NSString *currentPubDate;

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

    ReadViewController *rvc = [[ReadViewController alloc]initWithNibName:@"ReadViewController" bundle:nil];
    curnentDes = [self.xmlParser.descriptions objectAtIndex:indexPath.row];
    currentTitle = [self.xmlParser.titles objectAtIndex:indexPath.row];

    currentPubDate = [self.xmlParser.pubDate objectAtIndex:indexPath.row];
    NSDateFormatter *inputFormatter = [[NSDateFormatter alloc]init];

    [inputFormatter setDateFormat:@"EEE, dd MMM yyyy HH:mm:ss Z"];
    NSDate *inputDate = [inputFormatter dateFromString:currentPubDate];
    NSDateFormatter *outputFormatter = [[NSDateFormatter alloc]init];
    [outputFormatter setDateFormat:@"dd/MM/yyyy HH:mm"];
    NSString *outputDate = [outputFormatter stringFromDate:inputDate];

    rvc.description = curnentDes;
    rvc.stitle = currentTitle;
    rvc.pubDate = outputDate;

    [self.navigationController pushViewController:rvc animated:YES];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:14:42.007

解析完成后非常简单的重新加载表，你很高兴。滚动后出现数据的原因是您的数组稍后会更新，然后调用 cellForRowAtIndex 并且数组具有内容，因此您可以看到行。

注意：每行都会调用 cellForRow（希望您知道这一点）。

使用通知：

在您的解析器类中

```
- (void)parserDidEndDocument:(NSXMLParser *)parser
{ 
  [[NSNotificationCenter defaultCenter ]postNotificationName:@"parsingComplete" object:nil];
} 
```

在您的表视图类的 ViewDidLoad 中添加此代码并在您的类中的任何位置添加其他函数：

你的 viewDidLoad（已编辑）

```
- (void)viewDidLoad
{
[super viewDidLoad];

[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(parsingComplete) name:@"parsingComplete" object:nil];
 self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"menuButton.png"] style:UIBarButtonItemStyleBordered target:self.viewDeckController action:@selector(toggleLeftView)];

NSURL *url;

if (!self.isGetLink)
    url = [NSURL URLWithString:@"http://www.ynet.co.il/Integration/StoryRss2.xml"];
else
    url = [NSURL URLWithString:self.linkForParsingString];

if (!self.xmlParser) {
    self.xmlParser = [[XMLparser alloc]init];

    [self.xmlParser LoadXMLWithURl:url];
}

self.isGetLink = NO;
} 
```

//通知处理函数：

```
-(void)parsingComplete
 {
  NSLog(@"parsing results: %@",self.xmlParser.titles); 

  //change your tableViewName

  [yourTableView reloadData];
 } 
```

//删除通知：

```
 -(void)dealloc
 {
 [[NSNotificationCenter defaultCenter] removeObserver:self];
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:50:19.730

解析完成后重新加载表。使用委托方法从 didEndElement 方法重新加载表视图。尝试一些这样的想法。

```
-(void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{
    if([elementName isEqualToString:@"Final Element"])
    {

     // Reload your table View using delegates 

    }
} 
```

# python - 如何使用 pyramid.response.FileIter

> ID：15827090
> 
> 赞同：4
> 
> 时间：2013-04-05T06:10:46.473
> 
> 标签：python, pyramid

我有以下视图代码，它尝试将 zip 文件“流式传输”到客户端以供下载：

```
import os
import zipfile
import tempfile
from pyramid.response import FileIter

def zipper(request):
    _temp_path = request.registry.settings['_temp']
    tmpfile = tempfile.NamedTemporaryFile('w', dir=_temp_path, delete=True)

    tmpfile_path = tmpfile.name

    ## creating zipfile and adding files
    z = zipfile.ZipFile(tmpfile_path, "w")
    z.write('somefile1.txt')
    z.write('somefile2.txt')
    z.close()

    ## renaming the zipfile
    new_zip_path = _temp_path + '/somefilegroup.zip'
    os.rename(tmpfile_path, new_zip_path)

    ## re-opening the zipfile with new name
    z = zipfile.ZipFile(new_zip_path, 'r')
    response = FileIter(z.fp)

    return response 
```

但是，这是我在浏览器中得到的响应：

**`Could not convert return value of the view callable function newsite.static.zipper into a response object. The value returned was .`**

我想我没有正确使用 FileIter。

* * *

# 更新：

自从根据 Michael Merickel 的建议进行更新后，FileIter 函数工作正常。然而，仍然挥之不去的是客户端（浏览器）上出现的 MIME 类型错误： `Resource interpreted as Document but transferred with MIME type application/zip: "http://newsite.local:6543/zipper?data=%7B%22ids%22%3A%5B6%2C7%5D%7D"`

为了更好地说明这个问题，我在 Github 上包含了一个小文件：`.py`https **[://github.com/thapar/zipper-fix](https://github.com/thapar/zipper-fix)**`.pt`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T15:12:04.663

`FileIter`不是响应对象，就像您的错误消息说的那样。它是一个可用于响应主体的可迭代对象，就是这样。也`ZipFile`可以接受文件对象，这比文件路径更有用。让我们尝试写入`tmpfile`，然后将该文件指针倒回到开头，并使用它写出而不进行任何花哨的重命名。

```
import os
import zipfile
import tempfile
from pyramid.response import FileIter

def zipper(request):
    _temp_path = request.registry.settings['_temp']
    fp = tempfile.NamedTemporaryFile('w+b', dir=_temp_path, delete=True)

    ## creating zipfile and adding files
    z = zipfile.ZipFile(fp, "w")
    z.write('somefile1.txt')
    z.write('somefile2.txt')
    z.close()

    # rewind fp back to start of the file
    fp.seek(0)

    response = request.response
    response.content_type = 'application/zip'
    response.app_iter = FileIter(fp)
    return response 
```

我根据文档将模式更改`NamedTemporaryFile`为`'w+b'`允许写入**和**读取文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:40:48.187

当前 Pyramid 版本为此用例提供了 2 个便利类 - FileResponse、FileIter。下面的代码片段将提供一个静态文件。我运行了这段代码——下载的文件被命名为“下载”，就像视图名称一样。要更改文件名等，请设置 Content-Disposition 标头或查看 pyramid.response.Response 的参数。

```
from pyramid.response import FileResponse

@view_config(name="download")
def zipper(request):    
    path = 'path_to_file'
    return FileResponse(path, request) #passing request is required 
```

文档： [http ://docs.pylonsproject.org/projects/pyramid/en/latest/api/response.html#](http://docs.pylonsproject.org/projects/pyramid/en/latest/api/response.html#)

提示：如果可能，从视图中提取 Zip 逻辑

# android - 通过微调器在列表视图中过滤数据

> ID：15827092
> 
> 赞同：2
> 
> 时间：2013-04-05T06:11:08.657
> 
> 标签：android, filter

当我从微调器中选择一个类时，我想在列表视图中过滤数据。任何与此相关的示例项目或任何链接，请提供给我。![在此处输入图像描述](https://i.stack.imgur.com/rVMzK.png)

我有这种格式的数据。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:32:10.023

您可以检查这些：[Search In ListView](http://www.androidhive.info/2012/09/android-adding-search-functionality-to-listview/)或[Custom ListView Filters](http://www.survivingwithandroid.com/2012/10/android-listview-custom-filter-and.html)。

此外，根据您的要求，AutoCompleteTextView 比 Spinner 更合适。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:37:42.073

您没有详细说明您的问题，但我认为您想从微调器中选择一个类，并根据该选择仅更新从微调器中选择的类的“列表视图”。

如果我是对的，那很简单，

首先，您必须仅针对选定的类更新您的 arrayList<> （在这里您的逻辑将起作用，您可以选择任何算法。）

其次，使用以下方法更新您的列表适配器 -

```
notifyDataSetChanged()
notifyDataSetInvalidated(); 
```

它会再次调用您的适配器以获取更新的 arrayList<>，现在它已经完成了。:)

# django - 搜索索引中的 Django 干草堆过滤器

> ID：15827095
> 
> 赞同：2
> 
> 时间：2013-04-05T06:11:19.507
> 
> 标签：django, python-2.7, django-haystack, whoosh

我的项目搜索工作正常。但在我的模型中，我有一个名为`is_active`.

我希望仅在 is_active 为 True 时进行搜索，但我一直在对此进行测试，但没有任何令人满意的响应。

我的 search_indexes.py：

```
 from haystack.indexes import *
    from haystack.sites import site
    from core.models import AnuncioSolucao

    class AnuncioSolucaoIndex(RealTimeSearchIndex):
        text = CharField(document=True,use_template=True)

    site.register(AnuncioSolucao,AnuncioSolucaoIndex) 
```

这样就可以了，而且还给我带来了所有的`is_active == False`. 有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T13:58:40.237

SearchIndex API 上有一个名为 read_queryset 的方法。我只需要覆盖这个：

```
class AnuncioSolucaoIndex(RealTimeSearchIndex):
    text = CharField(document=True,use_template=True)
    def read_queryset(self):
        super(AnuncioSolucaoIndex,self).read_queryset()
        return AnuncioSolucao.objects.filter(is_active=True) 
```

# javascript - 如何在 ajaxToolkit CalendarExtender 中设置 dd-MM-yyyy 格式

> ID：15827105
> 
> 赞同：0
> 
> 时间：2013-04-05T06:11:50.480
> 
> 标签：javascript, asp.net, ajaxcontroltoolkit

我正在使用 ajax Toolkit Calendar Extender。我需要 dd-MM-yyyy 日期格式。为此我写了这段代码

## 代码

```
 <asp:TextBox CssClass="tb10" ID="txtDtFrom" runat="server" Width="130px"></asp:TextBox>
        <asp:ImageButton ID="ImgFrom" runat="server" ImageUrl="~/GridViewCSSThemes/Images/Calendar_scheduleHS.png" CausesValidation="False" />
        <ajaxToolkit:MaskedEditExtender ID="MaskedEdit_dtFrom" runat="server"
            TargetControlID="txtDtFrom"
            Mask="99-99-9999"
            MaskType="Date"
            AcceptAMPM="True"
            DisplayMoney="Left"
            AcceptNegative="Left"
            ErrorTooltipEnabled="True" CultureAMPMPlaceholder="" 
        CultureCurrencySymbolPlaceholder="" CultureDateFormat="" 
        CultureDatePlaceholder="" CultureDecimalPlaceholder="" 
        CultureThousandsPlaceholder="" CultureTimePlaceholder="" Enabled="True" />
        <ajaxToolkit:MaskedEditValidator ID="MaskedEditV_dtFrom" runat="server"
            ControlExtender="MaskedEdit_dtFrom"
            ControlToValidate="txtDtFrom"
            EmptyValueMessage="Date is required"
            InvalidValueMessage="Date is invalid"
            Display="Dynamic"
            TooltipMessage="Input a date"
            EmptyValueBlurredText="Date is required"
            InvalidValueBlurredMessage="Date is invalid"
            IsValidEmpty="False"
            ValidationGroup="MKE" />
        <ajaxToolkit:CalendarExtender ID="Cd_dt" runat="server" TargetControlID="txtDtFrom" 
            CssClass="red" PopupButtonID="ImgFrom" Format="dd-MM-yyyy" 
        Enabled="True"  /> 
```

当我选择任何日期时，它会显示空白文本框。当我使用 dd/MM/yyyy 时，它工作正常。那么谁能告诉我如何实现dd-MM-yyyy格式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:51:52.523

试试 Format="dd-MM-yyyy"

```
<asp:TextBox ID="txtBirthDate"  runat="server" ></asp:TextBox>
    <asp:CalendarExtender ID="calendarBirthDate" 
        runat="server" Enabled="True" TargetControlID="txtBirthDate" Format="dd-MM-yyyy">
    </asp:CalendarExtender> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T08:38:04.663

尝试使用`RequiredFieldValidator`而不是`MaskedEditValidator`验证必填字段。然后设置`UserDateFormat="DayMonthYear"`for`MaskedEditExtender`以验证有效格式。

```
 <ajaxToolkit:MaskedEditExtender ID="MaskedEdit_dtFrom" runat="server" TargetControlID="txtDtFrom"
        Mask="99-99-9999" MaskType="Date" AcceptAMPM="True" DisplayMoney="Left" AcceptNegative="Left"
        ErrorTooltipEnabled="True" CultureAMPMPlaceholder="" CultureCurrencySymbolPlaceholder=""
        CultureDateFormat="" CultureDatePlaceholder="" CultureDecimalPlaceholder="" CultureThousandsPlaceholder=""
        CultureTimePlaceholder="" Enabled="True" UserDateFormat="DayMonthYear" />
    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ControlToValidate="txtDtFrom"
        Display="Dynamic" ErrorMessage="Date is required" ValidationGroup="MKE"></asp:RequiredFieldValidator>
    <ajaxToolkit:CalendarExtender ID="Cd_dt" runat="server" TargetControlID="txtDtFrom"
        CssClass="red" PopupButtonID="ImgFrom" Format="dd-MM-yyyy" Enabled="True" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-19T10:56:55.973

最后我得到了解决方案。`.aspx`它需要在页面或 Web 配置中进行一些配置更改。

## 在文件中

```
Culture="en-GB" 
```

## 在网络配置中

```
<globalization culture="en-GB"/> 
```

在`<system.web>`web 配置文件的部分。

现在`Format="dd-MM-yyyy"`工作正常。

# mule - 在 Mule 中创建注册表单

> ID：15827107
> 
> 赞同：0
> 
> 时间：2013-04-05T06:11:54.940
> 
> 标签：mule

我是[MuleESB](http://www.mulesoft.org)的新手。我想使用 Mule 创建一个注册表单，但我被卡住了。

我不知道如何在应用程序启动时显示 index.jsp。我已经浏览了 BookStore 示例，但无法获得有效的信息。

我在下面创建了一个 web.xml`src->main->app->webapps->WEB-INF->web.xml`

```
*<web-app....>
<listener>
    <listener-class>org.mule.config.builders.MuleXmlBuilderContextListener</listener-class>
</listener>

<welcome-file-list>
    <welcome-file>index.jsp</welcome-file>
</welcome-file-list>
</web-app>* 
```

任何帮助或建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T15:53:36.570

你在: 下缺少一个 web 应用程序上下文目录`src->main->app->webapps->WEB-INF->web.xml`，即你应该有类似的东西: `src->main->app->webapps->my-context->WEB-INF->web.xml`。

仔细遵循 BookStore 示例，您应该可以轻松实现目标。

# php - 用于数组数量的 foreach 循环

> ID：15827108
> 
> 赞同：-2
> 
> 时间：2013-04-05T06:11:59.043
> 
> 标签：php, foreach, foreach-loop-container

代码：

```
foreach ($output as $result)
print_r($result); 
```

下面是我上面代码的输出：

```
Array ( [0] => 323 [1] => 323 [2] => 323 [3] => 323 [4] => 65 [5] => 65 [6] => 65 [7] => 65 [8] => 121 [9] => 121 [10] => 121 [11] => 121 ) 
Array ( ) 
Array ( ) 
Array ( [0] => 656 [1] => 656 [2] => 656 [3] => 656 ) 
Array ( [0] => 777 [1] => 777 [2] => 777 [3] => 777 ) 
Array ( [0] => 321 [1] => 321 [2] => 321 [3] => 321 [4] => 434 [5] => 434 [6] => 434 [7] => 434 [8] => 400 [9] => 400 [10] => 400 [11] => 400 ) 
Array ( ) 
Array ( ) 
Array ( [0] => 300 [1] => 300 [2] => 300 [3] => 300 [4] => 666 [5] => 666 [6] => 666 [7] => 666 ) 
Array ( )
Array ( [0] => 167 [1] => 167 [2] => 167 [3] => 167 ) 
```

我想分别打印每个数组。尝试嵌套`foreach`循环但没有获得所需的输出。

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:16:38.797

嵌套循环很简单

```
foreach ($output as $outer)
{
  foreach ($outer as $inner)
  {
    print_r($inner);
  }
} 
```

# xpages - 如何在 Xpages 上保持自动完成事件处于活动状态

> ID：15827110
> 
> 赞同：1
> 
> 时间：2013-04-05T06:12:20.703
> 
> 标签：xpages, lotus-notes

我有一个 xpages，我在其中设置了一些字段来过滤文档，其中一个具有自动完成功能。

最后，一个按钮根据这个查询字段制作一个pdf（onClick动作），并呈现pdf以供保存或打开。

在这一点上，自动完成功能不再起作用，我需要重新加载 xpage 以再次激活自动完成功能，但我丢失了之前搜索中设置的所有其他字段值。

是否可以保持自动完成功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:53:45.817

我的猜测是您直接从页面提供 PDF，而不是在单独的窗口中提供。这将使 XPage 停止并等待某种超时。

我通常在 pdf 生成按钮上添加这个 js 超时。

XSP.allowSubmit()

这通常适用于我遇到的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T09:24:18.697

问题解决了！

只需将提前输入模式设置为**部分**而不是**完整**

感谢大家

# android - 更新 Android USB 驱动程序

> ID：15827112
> 
> 赞同：0
> 
> 时间：2013-04-05T06:12:23.867
> 
> 标签：android, usb

我的 Android USB 驱动程序包含以下文件：

![在此处输入图像描述](https://i.stack.imgur.com/OVLzn.jpg)

但 Android SDK 有以下文件：

```
D:\Program Files\Android-SDK\android-sdk-windows\extras\google\usb_driver\i386\WdfCoInstaller01009.dll
D:\Program Files\Android-SDK\android-sdk-windows\extras\google\usb_driver\i386\winusbcoinstaller2.dll
D:\Program Files\Android-SDK\android-sdk-windows\extras\google\usb_driver\i386\WUDFUpdate_01009.dll 
```

当我尝试将驱动程序更新到此版本时，Windows (Vista) 说已经安装了最新版本，并将其保留为旧版本。为什么我不能更新这些文件？我想这样做是因为我感觉旧的 USB 驱动程序可能会使我的系统崩溃。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:15:16.237

尝试为您的设备找到专门的驱动程序并手动安装。它帮助了我

# javascript - 使用 javascript 函数调用 Ajax 方法

> ID：15827115
> 
> 赞同：0
> 
> 时间：2013-04-05T06:12:31.087
> 
> 标签：javascript, ajax, html

我正在使用 jQuery Mobile。
我的移动到**`details`div**的代码::

```
<a href="#details" data-ajax="true" data-transition="pop" data-role="button" data-inline="false" data-icon="info">Go To Details</a> 
```

现在，我想通过 Facebook 对用户进行身份验证。

所以我申请了::

```
<a href="javascript:userLogin()" data-ajax="true" data-transition="pop" data-role="button" data-inline="false" data-icon="info"> Login with Faceook </a> 
```

身份验证的函数调用

```
function userLogin() {
     FB.login(
          function(response) {
               if (response.authResponse) {
                   alert('logged in');

                   FB.api('/me', function(response) {
                     alert("Welcome " + response.name);
                   });
                } else {
                   alert('not logged in');
                }
           },
           { scope: "email" }
     );
} 
```

身份验证后，我得到了有效的用户响应。
现在我想导航到那个**`details`div**。

那么，成功登录后如何实现该ajax代码？
任何建议将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:36:43.883

`href`您应该将`onclick`事件绑定到返回的函数，而不是直接更改属性`true`。

修改你的`a`标签。

```
<a href="#details" onclick="javascript:return userLogin()" data-ajax="true" data-transition="pop" data-role="button" data-inline="false" data-icon="info">Go To Details</a> 
```

修改你的`userLogin`功能：

```
function userLogin() {
    FB.login(
        function(response) {
            if (response.authResponse) {
                alert('logged in');

                FB.api('/me', function(response) {
                    alert("Welcome " + response.name);
                });
            } else {
                alert('not logged in');
            }
        },
        { scope: "email" }
    );
    return true;
} 
```

这似乎`FB.login`是一个异步操作。如果要在登录操作后重定向，请尝试修改`location.hash`登录后。请注意，返回值已更改为`false`。

```
function userLogin() {
    var hash = '#details';
    FB.login(
        function(response) {
            if (response.authResponse) {
                alert('logged in');
                FB.api('/me', function(response) {
                    alert("Welcome " + response.name);
                    window.location.hash = hash;
                });
            } else {
                alert('not logged in');
            }
        },
        { scope: "email" }
    );
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:36:42.887

使用 $.ajax() 调用 Facebook API 进行身份验证，并在 ajax 函数的回调函数中调用详情链接的点击事件。

也许是这样的，

```
 $.ajax({
     url : 'https://graph.facebook.com/me'+whatever,
     success : function(){
        $('#details').click()
     }
  }); 
```

ajax调用成功时会调用success函数。

# git - 用于简单 Web 部署的 Git 稀疏检出

> ID：15827117
> 
> 赞同：7
> 
> 时间：2013-04-05T06:12:40.550
> 
> 标签：git, web-deployment

我有一个这样的目录结构：

```
../dir1/dev/project1/...
           /project2/...
           /project3/...
       /production/ 
```

我已将 dev（及其所有子目录）签入 git（和 github）。一切运作良好。

我想使用 github 通过检出（或拉动，或其他）到我的生产目录中来仅部署 project2。（具体来说，我想按标签签出。）所以这会导致`../dir1/production/project2`

我不是 git 专家，但在网上阅读了很多内容，似乎“稀疏结帐”是我所追求的。[我已经尝试过这里](http://jasonkarns.com/blog/subdirectory-checkouts-with-git-sparse-checkout/)、[这里](http://gorro80.wordpress.com/2012/08/26/git-sparse-checkout/) 和[这里](http://vmiklos.hu/blog/sparse-checkout-example-in-git-1-7)的各种说明组合。

基本上我做了：

```
mkdir <repo> && cd <repo>
git init
git remote add –f <name> <url>
git config core.sparsecheckout true
echo /project2/ >> .git/info/sparse-checkout 
```

当我这样做时，`git pull <remote> TAGNAME`我得到`fatal: The remote end hung up unexpectedly`.

当我这样做时，`git checkout TAGNAME`我得到`error: Sparse checkout leaves no entry on working directory`.

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T17:15:20.150

啊哈-解决了。问题是通过执行 init 它创建了一个空的存储库，所以我无法进行结帐。（我不知道为什么拉动不起作用。）

相反，请执行 clone ，但使用 -n 参数表示“不签出”。这将克隆 git 存储库，但将您的工作树留空。然后设置稀疏结帐。然后检查你想要的。

到白衣：

```
cd <parentdir>
git clone -n <url>
cd <repo_dir>
git remote add –f <name> <url>
git config core.sparsecheckout true
echo /<foldername>/ >> .git/info/sparse-checkout
git checkout <tagname> 
```

# c++ - 野牛并没有命名类型错误

> ID：15827123
> 
> 赞同：4
> 
> 时间：2013-04-05T06:13:20.060
> 
> 标签：c++, linker, bison

我有以下文件：

**CP.h**

```
#ifndef CP_H_
#define CP_H_

class CP {
public:
        enum Cardinalite {VIDE = '\0', PTINT = '?', AST = '*', PLUS = '+'};

        CP(Cardinalite myCard);
        virtual ~CP();
private:
        Cardinalite card;
};

#endif /* CP_H_ */ 
```

和**dtd.y**

```
%{

using namespace std;
#include <cstring>
#include <cstdio>
#include <cstdlib>
#include "AnalyseurDTD/DtdDocument.h"
#include "AnalyseurDTD/CP.h"

void yyerror(char *msg);
int yywrap(void);
int yylex(void);

DtdDocument * doc = new DtdDocument();
%}

%union { 
        char *s;
        DtdElement * dtdelt;
        CP *cpt;
        CP::Cardinalite card;
} 
```

以及以下奇怪的错误：

```
AnalyseurDTD/dtd.y:20:2: error: ‘CP’ does not name a type
AnalyseurDTD/dtd.y:21:2: error: ‘CP’ does not name a type 
```

奇怪的是，如果我把 CP *cpt; 在 DtdDocument * doc = new DtdDocument() 之后；我没有错误：/

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-09T18:32:20.397

最近我正在使用 flex 和 bison。有几个建议可能有助于您定位问题：

1.  逐一编译文件，确保代码中没有明显的编译错误。
2.  检查野牛生成的头文件（类似`*.tab.h`）。找到 的定义 `YYSTYPE`。它很可能不包含您的头文件`AnalyseurDTD/CP.h`。
3.  如果是这种情况，则应始终`AnalyseurDTD/CP.h`在包含`*.tab.h`. 将它添加到任何需要的地方，以确保在`CP`之前定义了该类`YYSTYPE`。
4.  如果还是找不到问题，尝试`void *cpt;`在 union 中使用，然后在其余代码中添加类型转换。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-01-28T03:13:56.923

在包含之前在扫描仪文件中包含标题`*.tab.h`

```
// scanner.l file

%{
#include "myheader.h" 
#include "yacc.tab.h"

// other C/C++ code

%}

// helper definitions

%%

// scanner rules 

%% 
```

`%union`被定义，`yacc.tab.h`所以当你编译时，你需要确保编译器在处理之前看到你的新类型定义`yacc.tab.h`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-05T07:00:50.917

您确定错误来自 Bison 吗？我敢冒险它来自你的编译器。可能是在它试图编译扫描仪的时候。我建议您`YYSTYPE`在生成的标头中未正确定义。尝试

```
%code requires { #include "AnalyseurDTD/CP.h" } 
```

这样 dtd.h 是独立的。请参阅有关`%code`.

请*始终*提供足够完整的日志，以便我们尝试了解您的问题。在这里，您甚至没有显示您运行的工具，而且我几乎不认为它是 Bison。

# objective-c - 对 2 个数组进行排序？目标-c

> ID：15827126
> 
> 赞同：0
> 
> 时间：2013-04-05T06:13:40.550
> 
> 标签：objective-c, xcode, arrays, string, sorting

我有 2 个数组，一个 NSNumber 对象和一个 NSString 对象。我不想按字母顺序对 NSString 对象的数组进行排序，我可以做到这一点，但棘手的部分是 NSNumbers “匹配” NSString 对象。例如：

```
NSMutableArray *stringArray = [NSMutableArray arrayWithObjects:@"Jones", @"Marc", @"Miles"];

NSMutableArray *numberArray = [NSMutableArray arrayWithObjects:[NSNumber numberWithInt:5], [NSNumber numberWithInt:8], [NSNumber numberWithInt:15]]; 
```

上面的意思是，数字 5 与字符串“Jones”“链接”。因此，当我按字母顺序对字符串数组进行排序时，数字也需要移动。因此，如果我将 Jones 移动到索引 2，我需要将数字 5 移动到另一个数组中的索引 2。

希望这是有道理的，我真的无法理解这个:)提前谢谢

# ios - 单击其他栏按钮时弹出框控制器不会关闭，但单击其他 按钮（或外部弹出框）时会关闭

> ID：15827128
> 
> 赞同：1
> 
> 时间：2013-04-05T06:14:02.620
> 
> 标签：ios, ipad, uipopovercontroller, dismiss, uipopover

我使用“presentPopoverFromBarButtonItem”显示一个弹出框——之后，当我单击右侧导航栏按钮中的另一个栏按钮项时，弹出框不会关闭。

但是当我点击其他地方时关闭弹出窗口。当我们使用“presentPopoverFromRect:inView:”来显示弹出框时，问题也不存在——奇怪吗？

由于我们没有从 UIBarButtonItem 获取框架，我如何才能从 barbutton 正确显示弹出框。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:18:18.140

回答我自己的问题以帮助某人，

```
// Presenting from BarButton will not dismiss popover when we click on other bar button.
// [self.popoverController presentPopoverFromBarButtonItem:self.barButton permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];

NSMutableArray* buttons = [[NSMutableArray alloc] init];
for (UIView *subview in self.navigationController.navigationBar.subviews) {
    if ([subview isKindOfClass:[UIControl class]])   {
        [buttons addObject:subview];
    }
}

UIView *view = [buttons objectAtIndex:1]; // The '1' is the index to your bar item in the array of .items

CGRect barButtonFrame = [self.navigationController.navigationBar convertRect:view.frame toView:self.navigationController.view];
[self.popoverController presentPopoverFromRect:barButtonFrame inView:self.navigationController.view permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES]; 
```

我上面所做的是找到条形按钮的框架并显示弹出框“presentPopoverFromRect”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:49:30.810

我不知道，无论你是否在 popover 控制器中使用了 nib 或 xib，但让我们试试下面的代码

```
 if (_Popover != nil) {
        [_Popover dismissPopoverAnimated:YES];
    }
    else {
        [_Popover dismissPopoverAnimated:NO];
    } 
```

# android - 如何从 Android 视图中的“wrap_content”中排除项目？

> ID：15827131
> 
> 赞同：2
> 
> 时间：2013-04-05T06:14:11.167
> 
> 标签：android, android-layout, android-view

我在标题中有一个下拉菜单。按下按钮时，下拉菜单会出现。问题是活动中的所有其他视图都被定位`android:layout_below="@id/header"`并且下拉菜单将所有内容向下推，因为它增加了标题的高度。`android:layout_height="wrap_content"`为了防止这种情况，我需要排除下拉菜单。是否可以？

注意：我可以通过编程方式解决问题，我只想了解是否可以从 XML 中的“warp_content”中排除项目。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:29:56.853

除非您设置`android:visibility=gone`. 但是您可能想要替换您的主容器`RelativeLayout`，然后您可以根据需要放置一些元素

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:28:20.720

从 a 开始`RelativeLayout`，然后在 中添加所有项目`RelativeLayout`，最后，将头文件放在 xml 的底部（在某种意义上，在底部，它将显示在所有其他元素上）。例如这样的：

```
<!-- Root element -->
<RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- First text view, the margin_top defines space for your header -->
    <TextView android:id="@+id/tv1" android:layout_margin_top="height_of_your_header"/>

    <!-- TextView below another view -->
    <TextView android:id="@+id/tv2" android:layout_below="@+id/tv1" />

    <!-- Your Header file, which will be positioned over all elements
    - When closed, it will fit above @id/tv1
    - When opened, it will float above the other elements -->
    <include
        layout="@layout/header" 
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

</RelativeLayout> 
```

# iphone - 在 iOS 中我们可以集成多少种支付系统通过第三方购买游戏关卡？

> ID：15827140
> 
> 赞同：0
> 
> 时间：2013-04-05T06:15:01.100
> 
> 标签：iphone, ios, payment-gateway, game-center

我想在我的小型游戏应用程序中集成任何第三方应用内销售信用系统。在我的应用程序中，有一些游戏关卡。我想免费提供某些级别的游戏，在某些级别之后，用户应该是购买级别。因此，请建议我在不使用 Apple 默认应用内购买功能的情况下，哪种流程更适合在我的游戏应用程序中集成第三方信用支付系统。有没有可能这样做。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T10:50:25.827

查看 App Store Review Guidelines，第 11 节（我不会在这里复制它）。如果您使用 Apple 的应用内购买 API 以外的任何内容，您的应用将被拒绝。即使是最大的公司（例如亚马逊）也无法绕过这条规则。您可能绕过它的唯一方法是处理应用程序之外的所有付款，例如在网站上，然后将应用程序链接到网站。不过，不能保证 Apple 不会拒绝您的应用程序。

# jquery - 2 JQM 页面中的 Javascript 文件冲突

> ID：15827143
> 
> 赞同：0
> 
> 时间：2013-04-05T06:15:04.820
> 
> 标签：jquery, jquery-mobile

我试图找到一种方法来阻止 JQM 页面上两个 js 文件之间的冲突。我想知道有没有办法让 js 文件只加载一个 data-role=page？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:50:46.400

`ID`例如，通过其' 调用页面。

```
$('[data-role=page]#PageID').on('pagebeforeshow', function () {
 alert('Page with ID ' + $(this)[0].id + ' is here!'
}); 
```

# java - TransactionCallback 类型不是通用的；它不能用参数 [Ao 实体] 参数化

> ID：15827148
> 
> 赞同：0
> 
> 时间：2013-04-05T06:15:22.023
> 
> 标签：java, generics, active-objects

在下面的内容中，向我显示了一个错误，因为“TransactionCallback 类型不是通用的；它不能用参数参数化”在 Eclipse 编辑器中。

```
import com.atlassian.sal.api.transaction.TransactionCallback;

ao.executeInTransaction(new TransactionCallback<EntityIssues>() // (1)

{

@Override

public Todo doInTransaction()

{

//storing stuff

}

});

<dependency>

<groupId>com.atlassian.sal</groupId>

<artifactId>sal-api</artifactId>

<version>2.0.17</version>

<scope>provided</scope>

</dependency> 
```

我的 JAVASE 版本是 - 1.7.0

知道为什么它不采用通用对象吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:43:05.453

[因为 TransactionCallback 在2.0.17](http://repository.atlassian.com/maven2/com/atlassian/sal/sal-api/2.0.17/)版本中不是通用的。以后的版本中引入了泛型参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T12:19:29.873

您可以简单地删除通用参数化：

```
new TransactionCallback() 
```

# javascript - 使用 JQuery 隐藏和显示

> ID：15827149
> 
> 赞同：2
> 
> 时间：2013-04-05T06:15:26.113
> 
> 标签：javascript, jquery, for-loop, hide, show

我在一个类中有许多带有 id 的 div。如何显示一个并隐藏其余的？这是我的 HTML 和 3 个这样的 div

```
<div class="build">
   <div id="slide1">
      <!--slide1 elements -->
   </div>
   <div id="slide2">
      <!--slide2 elements-->
   </div>
   <div id="slide3">
      <!--slide2 elements-->
   </div>
</div> 
```

这是我用 JS 尝试过的：

```
if (exp_id == "a_exp1") {
    new_exp_id = exp_id;

    $("#right").html("<div><img id='myimage1' onclick='changeimage1()' src='images/build_i.png'/>")
}

function changeimage1() {
    for (var n = 1; n <= 3; n++) {
        if (new_exp_id == "a_exp" + n) {

            $('.build').hide();
            $('.build').find('#slide' + n).show();
        }
    }
} 
```

所以，如果它是`a_exp1`，它应该对应于slide1，如果它是`a_exp2`，它应该对应于slide2，依此类推。

我需要显示一个 div 并隐藏其余部分。我该怎么做呢？我在 HTML 的开头隐藏了整个类。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T06:23:42.730

```
$('.build').children('div').click(function()
{
    $(this).show().siblings().hide();
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:27:40.923

为所有 div 提供相同的类，让我们说“.chat”，然后用“.chat”类隐藏所有 div，并显示你想要显示的那个

```
<div id="slide1" class="chat">
<div id="slide2" class="chat">
<div id="slide3" class="chat"> 
```

现在如果你想用 id 显示 div`slide3`你可以做这样的事情

```
$('.chat').hide();
 $('#slide3').show(); 
```

如果您使用任何点击事件来显示和隐藏内容，那么使用实时点击而不是仅仅点击

```
$('#somebutton').live("click",function(){
     $('.chat').hide();
 $('#slide3').show();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:21:04.470

我会用“全部隐藏，显示一个”的方法来处理它，它允许你不关心以前显示的是哪一个，只关心你想要显示的那个：

```
function showSlide(currentSlide) {
    $(".build").children().hide(); 
    $("#slide" + currentSlide).show();
} 
```

然后你就可以了`showSlide(1)`，你很高兴。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T06:22:48.677

```
$(document).ready (function () {
    $(".build div").click(function () {
       $(this).siblings().hide().end().show(); 
    });
}); 
```

# c# - CheckBoxList 无法正常工作

> ID：15827151
> 
> 赞同：0
> 
> 时间：2013-04-05T06:15:34.750
> 
> 标签：c#, asp.net, modalpopupextender, checkboxlist

我有这个代码。它总是`fales`为`item.Selected`

```
<asp:Literal ID="LiteralEmployeeList" runat="server" />
<asp:LinkButton ID="LinkButtonRecipients" runat="server">Add/Remove Recipients</asp:LinkButton>
<ajaxToolkit:ModalPopupExtender ID="ModalPopupExtenderTo" runat="server" TargetControlID="LinkButtonRecipients"
                    DropShadow="true" PopupControlID="PanelEmployeeList" OkControlID="ButtonOk" EnableViewState="true">
</ajaxToolkit:ModalPopupExtender>

<asp:Panel ID="PanelEmployeeList" runat="server" Width="200" Height="100" ScrollBars="Vertical">
    <div id="DivPanelBody">
        <div id="DivList">
            <asp:CheckBoxList ID="CheckBoxListEmployee" runat="server" EnableViewState="true"
                onselectedindexchanged="CheckBoxListEmployee_SelectedIndexChanged">
            </asp:CheckBoxList>                
        </div>
        <div id="DivControls">
            <asp:Button ID="ButtonOk" runat="server" Text="Ok" />
        </div>
    </div>
</asp:Panel> 
```

`CheckBoxList`绑定到数据源及其工作。

```
protected void CheckBoxListEmployee_SelectedIndexChanged(object sender, EventArgs e)
{
    LiteralEmployeeList.Text = string.Empty;

    foreach (ListItem item in CheckBoxListEmployee.Items)
    {
        if (item.Selected)
        {
            LiteralEmployeeList.Text += item.Text + ", ";
        }
    }
} 
```

知道有什么问题吗？谢谢。。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:29:29.530

尝试这个...

```
for (int i = 0; i < interestedIN.Items.Count; i++)
{
   if (interestedIN.Items[i].Selected)
   {
       values += interestedIN.Items[i].Value + ",";
   }
}

values = values.TrimEnd(','); 
```

# database - 使用jsp更新查询问题

> ID：15827153
> 
> 赞同：0
> 
> 时间：2013-04-05T06:15:43.253
> 
> 标签：database, jsp, sql-update, resultset

请解决更新查询（使用jsp）

//resultset 是 ResultSet 对象并正常工作 //rsmd 是 ResultSetMetaData 对象并正确获取数据

```
 for(int i=1;resultset.next();i++)
    {
    update_query="UPDATE DEMO_TABLE SET ";

    for(int j=1;j<=rsmd.getColumnCount();j++)
    {
        temp_str=request.getParameter(rsmd.getColumnName(j)+i);     // i am having id of textboxes as of columnname1,columnname2(eg. S_NO1, NAME1) using this

        if(j==rsmd.getColumnCount())
        {
           update_query+=rsmd.getColumnName(j)+"=\'"+temp_str+"\'" ;//not working
//WORKING  update_query+=rsmd.getColumnName(j)+"=\""+ temp_str+"\""  ;
        }

        else
        {
           update_query+=rsmd.getColumnName(j)+ "=\'"+ temp_str+"\' ,";//not working
//WORKING  update_query+=rsmd.getColumnName(j)+ "=\"" + temp_str + "\" ,";
        }
    }

.
.
.
.
remaining update query statement with where clause...

please help...it's not working i.e. it's not inserting single quotes in update_query string 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:31:23.273

语法似乎没有问题，应该可以。

例子：

```
public static void main(String[] arg) {
        String strColName="empName";
        String strVal = "smith";
        String update_query = "Update employee SET "; 
        update_query += strColName + "=\'"+ strVal +"\'"; 
        System.out.println(update_query);
    } 
```

输出：

> 跑：
> 
> 更新员工 SET empName='smith'
> 
> 构建成功（总时间：0 秒）

# ruby - 扩展 Object 类的 send 方法

> ID：15827155
> 
> 赞同：0
> 
> 时间：2013-04-05T06:15:45.563
> 
> 标签：ruby

我想更改 Ruby 中的发送方法。我的代码如下

```
class A
  def send(symbol, *args)
     #customize code here
     #finally call the orinial __send__ function
     __send__(symbol, args)
  end
end 
```

但是，当我调用 obj.send('a_var=', 10) 等发送函数时，我得到了这个错误：

```
ArgumentError: wrong number of arguments (1 for 0) 
```

错误在于调用 __ send__ 函数的行。那么我该如何解决这个错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:30:46.303

如果您想将调用作为单独的参数而不是数组传递`*args`给调用，您还需要在那里解构它：`__send__`

```
__send__(symbol, *args) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:45:51.710

对我来说，你的代码没问题：

```
class A
  def send(symbol, *args)
     #customize code here
     #finally call the orinial __send__ function
     p 'this method has been called'
     __send__(symbol, args)
  end
  def show=(m)
   p m
  end

end

A.new.send('show=',1,3,4)
A.new.send('show=',1)
A.new.send(:show=,1) 
```

*输出：*

```
"this method has been called"
[1, 3, 4]
"this method has been called"
[1]
"this method has been called"
[1] 
```

# javascript - 增加 jCarousel 可见图像不起作用

> ID：15827158
> 
> 赞同：0
> 
> 时间：2013-04-05T06:16:05.027
> 
> 标签：javascript, ajax, jquery, jcarousel

我尝试将可见图像的数量增加到 5 个，但轮播仍然只显示 3 个图像。我还增加了 jcarousel-container-horizo​​ntal 和 jcarousel-container-horizo​​ntal 类的 css 宽度，但默认情况下它仍然只显示 3 个图像。

谁能帮我覆盖默认参数以在页面加载以及滚动轮播时显示 5 张图像

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:27:41.353

我相信它是你必须设置的 size 属性......就像这样......

```
jQuery('#mycarousel').jcarousel({
   size: 5,
   visible: 5
}); 
```

我想你可能也必须设置这些......

```
.jcarousel-skin-ie7 .jcarousel-container-horizontal{
width:750px;//whatever width you need} 

.jcarousel-skin-ie7 .jcarousel-clip-horizontal {
width:740px;//whatever width you need } 
```

看起来您可能已经尝试过所有这些了？你用什么浏览器？

# html - 列表中的最后一个分隔符未显示

> ID：15827169
> 
> 赞同：0
> 
> 时间：2013-04-05T06:16:59.400
> 
> 标签：html, css

我有一个水平列表如下。

```
 <ul>
 <li>Credits Left : 200 USD</li>
 <li>Items Cold : 58</li>
 <li>System Status : Online</li>
 <li>Sync Details : Updated </li>
 </ul> 
```

Css如下。

```
 #status ul{
height: 100%;
width: 100%;
padding:0px 0px 0px 0px;
margin: 0px;
}

#status li{
float: left;
list-style: none;
display: block;
padding: 20px 10px 20px 10px;
color: #dcdcdc;
font-size: 14px;
font-family:MyriadProReg;
background: url(../images/header_li_bg.jpg) no-repeat top left;
} 
```

但我最后一个元素没有显示分隔符图像。我怎样才能解决这个问题。该图像将解释该问题。

![我的 CSS 的结果](https://i.stack.imgur.com/k6pJa.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:21:40.350

它没有显示最后一个分隔符，因为您在菜单项的左侧使用了背景图像（右侧没有）。这是您可以使用伪元素 (IE8+) 和绝对定位来修复它的一种方法。

添加这些样式：

```
#status li {
    position:relative;
}
#status li:last-child:after {
    display:block;
    content:"";
    position:absolute;
    top:0;
    left:100%;
    background: url(../images/header_li_bg.jpg) no-repeat top left;

    /* width of background image */
    width:5px;
    /* height of background image */
    height:40px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:33:07.807

试试这个

```
#status ul{
height: 100%;
width: 100%;
padding:0px 0px 0px 0px;
margin: 0px;
background: url(../images/header_li_bg.jpg) no-repeat top left;
}

#status li{
float: left;
list-style: none;
display: block;
padding: 20px 10px 20px 10px;
color: #dcdcdc;
font-size: 14px;
font-family:MyriadProReg;
background: url(../images/header_li_bg.jpg) no-repeat top right;
} 
```

# iphone - Xcode 从 v4.5.2 升级到 v4.6.1 的问题

> ID：15827170
> 
> 赞同：0
> 
> 时间：2013-04-05T06:17:07.697
> 
> 标签：iphone, ios, ipad, xcode4.5, xcode4.6

从那时起，我将我的 xcode 从 v4.5.2 升级到 v4.6.1，我注意到所有连接到服务器的应用程序都没有连接到相应的服务器。我试图用谷歌搜索，但没有成功获得合适的解决方案。

有什么我必须做的吗？关于更新，我有什么想了解的吗？

任何建议都会很有帮助。

**编辑：我没有从 ios 开发中心下载 .dmg 文件。我是从 iTunes 安装的。我的意思是 mac 应用商店**

# mysql - 具有多个计算的Mysql查询变慢

> ID：15827171
> 
> 赞同：1
> 
> 时间：2013-04-05T06:17:12.437
> 
> 标签：mysql, sql, performance, views

我有一个用于报告的 mysql 视图。即它计算了一天中有多少 cod 订单、预付订单、cod 订单金额、预付订单金额、总计以及更多的计算，并且它连接了 5 个表。它变得太慢了。除了使用视图之外，有没有更好的方法来满足这种要求。或者如何更快地提出这样的要求

```
SELECT
  DATE_FORMAT(`orders`.`placed_date`,'%Y-%m%-%d 00:00:00') AS `orderdate`,
  DATE_FORMAT(`orders`.`placed_date`,'%Y-%m%-%d') AS `orderdt`,
  COUNT(DISTINCT `orders`.`order_id`) AS `orderscount`,
  SUM(`order_item`.`quantity`) AS `qunty`,
  SUM((`order_item`.`quantity` * `order_item`.`a_unitprice`)) AS `price`,
  COUNT(DISTINCT (CASE `payment_type`.`a_name` WHEN 'COD' THEN `orders`.`order_id` END)) AS `codorderscount`,
  COUNT(DISTINCT (CASE `payment_type`.`a_name` WHEN 'Prepaid' THEN `orders`.`order_id` END)) AS `prepaidorderscount`,
  ROUND(SUM(IF((`payment_type`.`a_name` = 'COD'),ROUND((((((`order_item`.`quantity` * `order_item`.`a_unitprice`) - IFNULL(ABS(`getdisc_function`(`order_item`.`order_item_id`,`order_item`.`quantity`)),0)) + IFNULL(`getgiftwrap_amount_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)) + IFNULL(`order_item`.`sales_tax`,0)) + IFNULL(`getshipping_charge_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)),2),0)),0) AS `cod`,
  ROUND(SUM(IF((`payment_type`.`a_name` = 'Prepaid'),ROUND((((((`order_item`.`quantity` * `order_item`.`a_unitprice`) - IFNULL(ABS(`getdisc_function`(`order_item`.`order_item_id`,`order_item`.`quantity`)),0)) + IFNULL(`getgiftwrap_amount_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)) + IFNULL(`order_item`.`sales_tax`,0)) + IFNULL(`getshipping_charge_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)),2),0)),0) AS `Prepaid`,
  ROUND((SUM(IF((`payment_type`.`a_name` = 'COD'),ROUND((((((`order_item`.`quantity` * `order_item`.`a_unitprice`) - IFNULL(ABS(`getdisc_function`(`order_item`.`order_item_id`,`order_item`.`quantity`)),0)) + IFNULL(`getgiftwrap_amount_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)) + IFNULL(`order_item`.`sales_tax`,0)) + IFNULL(`getshipping_charge_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)),2),0)) + SUM(IF((`payment_type`.`a_name` = 'Prepaid'),ROUND((((((`order_item`.`quantity` * `order_item`.`a_unitprice`) - IFNULL(ABS(`getdisc_function`(`order_item`.`order_item_id`,`order_item`.`quantity`)),0)) + IFNULL(`getgiftwrap_amount_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)) + IFNULL(`order_item`.`sales_tax`,0)) + IFNULL(`getshipping_charge_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)),2),0))),0) AS `grandtotal`,
  ROUND((ROUND((SUM(IF((`payment_type`.`a_name` = 'COD'),ROUND((((((`order_item`.`quantity` * `order_item`.`a_unitprice`) - IFNULL(ABS(`getdisc_function`(`order_item`.`order_item_id`,`order_item`.`quantity`)),0)) + IFNULL(`getgiftwrap_amount_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)) + IFNULL(`order_item`.`sales_tax`,0)) + IFNULL(`getshipping_charge_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)),2),0)) + SUM(IF((`payment_type`.`a_name` = 'Prepaid'),ROUND((((((`order_item`.`quantity` * `order_item`.`a_unitprice`) - IFNULL(ABS(`getdisc_function`(`order_item`.`order_item_id`,`order_item`.`quantity`)),0)) + IFNULL(`getgiftwrap_amount_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)) + IFNULL(`order_item`.`sales_tax`,0)) + IFNULL(`getshipping_charge_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)),2),0))),0) / COUNT(DISTINCT `orders`.`order_id`)),0) AS `avgtickectsize`,
  ROUND((ROUND((SUM(IF((`payment_type`.`a_name` = 'COD'),ROUND((((((`order_item`.`quantity` * `order_item`.`a_unitprice`) - IFNULL(ABS(`getdisc_function`(`order_item`.`order_item_id`,`order_item`.`quantity`)),0)) + IFNULL(`getgiftwrap_amount_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)) + IFNULL(`order_item`.`sales_tax`,0)) + IFNULL(`getshipping_charge_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)),2),0)) + SUM(IF((`payment_type`.`a_name` = 'Prepaid'),ROUND((((((`order_item`.`quantity` * `order_item`.`a_unitprice`) - IFNULL(ABS(`getdisc_function`(`order_item`.`order_item_id`,`order_item`.`quantity`)),0)) + IFNULL(`getgiftwrap_amount_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)) + IFNULL(`order_item`.`sales_tax`,0)) + IFNULL(`getshipping_charge_function`(`order_item`.`order_item_id`,`order_item`.`quantity`),0)),2),0))),0) / SUM(`order_item`.`quantity`)),0) AS `avgitemprice`,
  ROUND((SUM(`order_item`.`quantity`) / COUNT(DISTINCT `orders`.`order_id`)),0) AS `avgitemperorder`,
  COUNT(DISTINCT (CASE `status`.`status_code` WHEN 'S' THEN `orders`.`order_id` WHEN 'DE' THEN `orders`.`order_id` END)) AS `dispached`,
  (COUNT(DISTINCT `orders`.`order_id`) - COUNT(DISTINCT (CASE `status`.`status_code` WHEN 'S' THEN `orders`.`order_id` WHEN 'DE' THEN `orders`.`order_id` END))) AS `notdispached`
FROM (((((`orders`
       JOIN `order_item`
         ON ((`order_item`.`order_id` = `orders`.`order_id`)))
      JOIN `payment_instruction`
        ON ((`payment_instruction`.`order_id` = `orders`.`order_id`)))
     JOIN `subpayment_type`
       ON ((`payment_instruction`.`payment_method` = `subpayment_type`.`subpayment_type_id`)))
    JOIN `payment_type`
      ON (((`payment_type`.`payment_type_id` = `subpayment_type`.`payment_type_id`)
           AND (`payment_type`.`a_name` = ('Prepaid'
                                             OR 'COD')))))
   LEFT JOIN `status`
     ON ((`status`.`a_statusid` = `orders`.`orderstatus_id`)))
WHERE (`status`.`status_code` NOT IN('PP','PE','X'))
GROUP BY DATE_FORMAT(`orders`.`placed_date`,'%y-%m%-%d') 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:51:21.217

MySQL 中的视图可能很慢。有一篇关于这个问题的文章 - [MySQL VIEW 作为性能麻烦制造者](http://www.mysqlperformanceblog.com/2007/08/12/mysql-view-as-performance-troublemaker/)。

如果可能的话 - 使用没有视图的简单 SELECT 查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:56:29.470

只有查询（没有 DDL，行数等）这是相当猜测。

您可以尝试在用于连接表和 in`WHERE`子句的列上添加索引。如果这些表中有很多行，这尤其有意义。

还要尝试识别此语句中最慢的部分。也许是 JOIN，也许是 SELECT 列表中的这些计算？你可以剪掉一部分，看看没有它会不会很快。然后你应该专注于这个最慢的部分。

# php - CodeIgniter、Gocart 中的 Paypal Express 结帐错误（不支持指定的方法）

> ID：15827175
> 
> 赞同：0
> 
> 时间：2013-04-05T06:17:29.527
> 
> 标签：php, codeigniter, paypal-sandbox

我是 codeigniter 和 paypal 的新手。我正在研究 gocart（一个基于 codeIgniter 的开源电子商务解决方案）。我尝试在其中集成的 paypal API 上工作，但它显示错误如下：`[ACK] => Failure [L_ERRORCODE0] => 81002 [L_SHORTMESSAGE0] => Unspecified Method [L_LONGMESSAGE0] => Method Specified is not Supported [L_SEVERITYCODE0] => Error`
下面是我的代码： **paypal_expres.php**

```
函数 __construct()
{ 

$this->API_USERNAME ='用户名'; 

$this->API_PASSWORD = '密码'; 

$this->API_SIGNATURE ='签名'; 

$this->RETURN_URL = 'www.example.com'; 

$this->CANCEL_URL = 'www.example.com';

$this->currency = 'USD';
$this->host = "api-3t.sandbox.paypal.com"; 

$this->gate = ' https://www.sandbox.paypal.com/cgi-bin/webscr ?';
}公共函数 doExpressCheckout($amount, $desc, $invoice='')
{

    $数据 = 数组（
    'PAYMENTACTION' =>'Sale', 'AMT' => '24', 'RETURNURL' => $this->getReturnTo(),
    'CANCELURL' => $this->getReturnToCancel(), 'CURRENCYCODE'=> $this->currency, 'METHOD' => 'SetExpressCheckout');    

$query = $this->buildQuery($data); 

$result = $this->response($query); 

$response = $result->getContent(); 

$return = $this->responseParse($response); 

回声''; 

print_r($return); 

回声'';

if ($return['ACK'] == '成功')
{ 

header('位置：'.$this->gate.'cmd=_express-checkout&useraction=commit&token='.$return['TOKEN'].''); 

死（）; }   

返回（$返回）；}

公共函数 doExpressCheckout($amount, $desc, $invoice='')
{ 

$data = array( 'PAYMENTACTION' =>'Sale', 'AMT' => '24', 'RETURNURL' => $this->getReturnTo(), 'CANCELURL' => $this->getReturnToCancel(), 'CURRENCYCODE'=> $this->currency, 'METHOD' => 'SetExpressCheckout');    

$query = $this->buildQuery($data); 

$result = $this->response($query); 

$response = $result->getContent(); 

$return = $this->responseParse($response); 

回声''; 

print_r($return); 

回声'';    

if ($return['ACK'] == '成功')
{ 

header('位置：'.$this->gate.'cmd=_express-checkout&useraction=commit&token='.$return['TOKEN'].''); 

死（）; }    

返回（$返回）；
}

私有函数响应（$data）
{ 

$result = $this->CI->httprequest->connect($data);

如果（$结果<400）
返回
$this->CI->httprequest；

返回错误；}

私有函数 buildQuery($data = array())
{ 

$data['USER'] = $this->API_USERNAME; 

$data['PWD'] = $this->API_PASSWORD; 

$data['SIGNATURE'] = $this->API_SIGNATURE; 

$data['VERSION'] = '56.0'; 

$query = http_build_query($data);

返回$查询；
}

```

# javascript - 如何查找两个连续请求之间经过的时间？

> ID：15827177
> 
> 赞同：0
> 
> 时间：2013-04-05T06:17:45.183
> 
> 标签：javascript

我有两个复选框，每个复选框都会引发一个 ajax 请求，以便从服务器获得响应。在发出最后一个请求后至少有 2 秒的间隙时，我需要调用一个方法。任何的想法？这意味着我不想在连续单击复选框少于 2 秒的间隙时调用这些方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:19:22.040

设置将在 2 秒内激活的超时，并在有人单击另一个复选框时取消它并重新启动它。

```
var timeout;
var checkboxClickHandler = function() {
    clearTimeout(timeout);
    var timeout = setTimeout(function() {
          // Your logic.
    }, 2e3);
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T08:13:11.600

```
var timeOut=0;
$(".selector").on('change',function(){
    if(timeOut == 0)
    {
        timeOut=2;  //change timeOut variable to "2" to be used in if condition above
        //your ajax request code ;  
        setTimeout(function(){timeOut=0},2000);   // changing back timeOut to 0 after 2 sec.
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:26:46.933

如果它是您使用ajax 调用的服务器，您可以使用一对标识和调用时间在服务器上为特定客户端（例如使用mysql 表）设置锁定。下次拨打电话时，您可以查看表格中的最近通话。当找到一个呼叫并且超过 2 秒时：删除它并继续。我也可以想到一个 cookie 解决方案，但是像这样的东西应该总是在服务器端仔细检查，因为本地代码可以被操纵。

# plsql - 动态创建临时表

> ID：15827184
> 
> 赞同：1
> 
> 时间：2013-04-05T06:18:22.833
> 
> 标签：plsql, oracle11g

我有这样的场景，我需要创建一个存储过程，其中列将动态出现。应基于此列创建临时表。实际上，我在 SQL Server 中做的这个场景，我已经将 SQL Server 数据库迁移到了 Oracle。

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-05T07:21:22.657

如果要动态创建表，则需要使用动态 SQL

```
BEGIN
  EXECUTE IMMEDIATE 'CREATE GLOBAL TEMPORARY TABLE table_name( col1 number, col2 number )';
END; 
```

话虽如此，将创建临时表的 SQL Server 代码直接移植到 Oracle 几乎可以肯定是一个错误。它的工作方式与您的 SQL Server 代码不同。

*   首先，Oracle 中的临时表对每个会话都是可见的，这与 SQL Server 不同，它们在会话中是本地的。这意味着如果您有两个会话调用您的存储过程，它们都会尝试创建临时表，而第二个会话将失败（假设您也在过程结束时删除临时表而不是让成千上万的临时表累积）。
*   考虑到所需的锁存量，在 Oracle 中创建表是一个低效的过程。Oracle 的假设是您不是在动态创建对象。如果您的应用程序违反该假设，您将遇到一些可伸缩性问题。
*   如果您动态创建表，则必须动态引用它们。因此，对临时表的任何查询也需要使用动态 SQL。这比静态 SQL 效率低，它使您的代码更难编写、更难调试和更难维护。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T07:46:13.150

也许我有点话题，但尝试分析你真正想要实现的目标。我一直在与几个使用 T-TSQL 的人合作，并且 SQL Server 中使用的模式与 Oracle 的模式不同。只是不要尝试一对一地完全重写您的代码。不起作用。

例如，使用临时表在 Oracle 中被认为是一个糟糕的设计（在大多数情况下）。在 T-SQL 中使用临时表的情况下，通常会在 Oracle 中使用游标。

还要记住 SQL 和 PL/SQL 是编译语言（它不是真正的脚本）。您不能（重新）在 PL/SQL 包中创建表，然后在某些（或其他包）中使用它。当您在 Oracle 中修改一个对象时，所有依赖的代码都必须在后台重新编译。对于从 SQL Server 转向 Oracle 的人来说，这是许多挫折的根源。

这并没有更糟，只是比看起来更不一样。

# c# - 从深度图像和 RGB(WPF) 中获取彩色 3D 点云

> ID：15827186
> 
> 赞同：0
> 
> 时间：2013-04-05T06:18:29.153
> 
> 标签：c#, wpf, kinect

我通过使用深度完成了代码 3D 点云。使用 Media3D 类。

我希望开发一个程序来获取 kinect 深度图像和 RGB 图像并将其转换为彩色 3D 点云作为我最后一年的项目。

我只是想知道如何应用 ts 对应的 RGB 点。另外，我怎样才能把我的 RGB 点放到它对应的三角形上？

# image - 调整图像大小并保持纵横比

> ID：15827187
> 
> 赞同：0
> 
> 时间：2013-04-05T06:18:47.123
> 
> 标签：image, aspect-ratio

给定一个高度和宽度。如何调整图像大小以包含该图像的最大持有者但保持纵横比？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T05:31:22.463

使用你的数学

这会有所帮助

![在此处输入图像描述](https://i.stack.imgur.com/fa6Gq.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T07:46:49.700

像这样：

```
sx = original_width/destination_width
sy = original_height/destination_height
if sx*original_height > destination_height:
    s = sy
else:
    s = sx
new_width = original_width*s
new_height = original_height*s 
```

# linux - 脚本执行时找不到邮件命令错误

> ID：15827191
> 
> 赞同：2
> 
> 时间：2013-04-05T06:19:21.253
> 
> 标签：linux, bash, shell, unix

下面是我正在处理的代码，我试图在邮件进入 if 块时触发邮件

```
#!/bin/bash
toaddr2="harigm@gmail.com"
# Main Routine
export PATH=/usr/bin:/usr/local/bin
ssh -o PasswordAuthentication=no -q psoft@123.34.71.238 exit
test=$?
echo "return value  is $test"

set PATH=/usr/bin:$PATH
mail $toaddr2 -s "THIS IS THE SUBJECT" 
```

当我执行上述代码时，我收到**未找到邮件命令** 我正在使用 bash 并尝试设置路径。

我也尝试了**mailx**命令，得到了同样的错误没有工作，任何人的任何线索，可能是什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:25:08.813

鉴于它是一个`bash`脚本，你可能想说

```
export PATH=/usr/bin:${PATH} 
```

代替

```
set PATH=/usr/bin:$PATH 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:24:31.160

你可以从：

```
which mail 
```

如果它在您的路径中，您可以在 bash 中获得它的完整路径。您也可以尝试使用

```
 locate 
```

在您的机器上查找邮件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-14T14:13:50.353

在 ubuntu/debian 上，这将解决问题：-bash: mail: command not found

```
sudo apt-get install mailutils 
```

# c# - 如何在 asp.net ajax 工具箱自动完成中从 CSV 中选择一个值并将该值传递给其他文本框？

> ID：15827193
> 
> 赞同：0
> 
> 时间：2013-04-05T06:19:22.730
> 
> 标签：c#, asp.net, autocomplete, ajaxcontroltoolkit

我使用以下 asp.net 和 C# 代码使用了 Ajax 工具包自动完成功能。

```
 <asp:UpdatePanel ID="updPnlMedicineName" runat="server" >
  <ContentTemplate>
           Name<br />
               <asp:TextBox ID="txtMedName" runat="server" Width="150px" 
                   ontextchanged="txtMedName_TextChanged"></TextBox>
  <cc1:AutoCompleteExtender ID="txtSearchID_AutoCompleteExtender" runat="server"    DelimiterCharacters="" OnClientItemSelected="ItemSelected" Enabled="True" GetMedicine" ServicePath="Search/NameSearch.asmx" TargetControlID="txtMedName" MinimumPrefixLength="1">
 </cc1:AutoCompleteExtender> 
```

我的代码后面是：

```
[WebMethod]
public string[] GetMedicine(string prefixText)
{
 List<string> listString = new List<string>();
 using (SqlConnection con = new  SqlConnection(ConfigurationManager.ConnectionStrings["NewLandConnectionString"].ConnectionString))
{
 SqlCommand com = new SqlCommand("select ProductName+','+ProductCode+',' + (select unitName from Unit where Unit.Id=product1.UnitId) as ProductDetails,ProductId from product1 where ProductName like '"+prefixText+"%'", con);
 con.Open();
 SqlDataAdapter adr = new SqlDataAdapter(com);
 DataTable dt = new DataTable();
 adr.Fill(dt);
  for (int j = 0; j < dt.Rows.Count; j++)
        {
            string countProduct = dt.Rows[j]["ProductDetails"].ToString();

           listString.Add(AutoCompleteExtender.CreateAutoCompleteItem(dt.Rows[j]["ProductDetails"].ToString(),dt.Rows[j]["ProductId"].ToString()));
        }
  }
    string[] strarray = listString.ToArray();
    return strarray;
 } 
```

现在，当我的自动完成工作时，我以以下形式获取值：somename，code，unit，但我希望如果选择了一个值，那么我必须只从 csv 中获取第一个值，即该 texbox 中的“somename”和其他两个值（即 code,unit ) 必须分别填充到其他 texboxes 中。

请帮助我完成这项任务。

提前致谢 ！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T10:02:59.140

最后，我自己得到了解决方案，并在 [这个链接](https://stackoverflow.com/questions/14519311/how-can-i-add-selected-value-in-an-asp-net-ajax-toolbox-autocomplete-to-a-label)的帮助下，希望这对某人也有帮助。所以，我为上面的查询提供了下面的代码：

```
OnClientItemSelected on the AutoCompleteExtender control run a javascript function

 <script type="text/javascript">
    function ItemSelected(sender, args) {
        __doPostBack(sender.get_element().name, "");
    }
</script> 
```

现在在 TextBox(AutoExtender) 的文本更改：

```
 Put the below code on textchange event

    string obj = txtMedName.Text.ToString();//in this texbox you are getting your 
                  //values from autoextender and so store this value in to a string
    string[] nameList = obj.Split(','); //finally using split separate your CSV 
                                    //values and store in an array which you are 
                                    // getting on autoextender
    txtMedName.Text = nameList[0].ToString();//Now pass the values to respective 
                                             //texboxes
    txtBox2.Text = nameList[1].ToString();
    txtBox3.Text = nameList[2].ToString(); 
```

# angularjs - 带有 ng-repeat 的 AngularJS 指令不呈现

> ID：15827194
> 
> 赞同：7
> 
> 时间：2013-04-05T06:19:23.520
> 
> 标签：angularjs, angularjs-ng-repeat, undefined, directive

问题是我必须管理从服务中检索到的口香糖球列表。当我对 HTML 中的元素进行硬编码时，我创建的指令似乎有效，但是当我尝试使用 ng-repeat 动态分配口香糖球时。

HTML

```
<div ng-controller="GumballsCtrl">

<h1>Working</h1> 
    <ul>
        <li ng-repeat="gumball in Gumballs">
            <div class="gumballColor{{gumball.color}}">{{gumball.color}}</div>
        </li>
    </ul>

<h1>Problem - Expecting the same result at the work version</h1>

    <ul>
        <li ng-repeat="gumball in Gumballs">
            <mygumball id={{gumball.id}} color="{{gumball.color}}">{{gumball.color}}</mygumball>
        </li>
    </ul>
</div> 
```

JavaScript

```
var myApp = angular.module('myApp', []);

function GumballsCtrl($scope, Gumballs) {
    $scope.Gumballs = Gumballs;
}

myApp.factory('Gumballs', function () {
    return [{
        id: '1',
        color: 'R'
    }, {
        id: '2',
        color: 'G'
    }, {
        id: '3',
        color: 'B'
    }, {
        id: '4',
        color: 'Y'
    }, {
        id: '5',
        color: 'G'
    }];
});

myApp.directive('mygumball', function ($scope) {
    return {
        restrict: 'E',

        scope: {},

        link: function (scope, element, attrs) {
            if (attrs.color !== '' && attrs.color !== undefined) {
                scope.color = attrs.color;
            } else {
                scope.color = 'U';
            }
        },

        replace: true,

        template: "<div class='gumballColor{{color}}'>{{color}}</div>"
    };
}); 
```

CSS

```
.gumballColorR {
    font-size: 12px;
    text-align: center;
    padding: 2px;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    border: solid 1px #CC0000;
    background-color: #FF0000;
    width: 15px;
    height: 15px;
    margin-left: 5px;
    margin-top: 5px;
}
.gumballColorG {
    font-size: 12px;
    text-align: center;
    padding: 2px;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    border: solid 1px #00CC00;
    background-color: #00FF00;
    width: 15px;
    height: 15px;
    margin-left: 5px;
    margin-top: 5px;
}
.gumballColorB {
    font-size: 12px;
    text-align: center;
    padding: 2px;
    color: #FFFFFF;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    border: solid 1px #0000CC;
    background-color: #0000FF;
    width: 15px;
    height: 15px;
    margin-left: 5px;
    margin-top: 5px;
}
.gumballColorY {
    font-size: 12px;
    text-align: center;
    padding: 2px;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    border: solid 1px #CCCC00;
    background-color: #FFFF00;
    width: 15px;
    height: 15px;
    margin-left: 5px;
    margin-top: 5px;
}
.gumballColorU {
    font-size: 12px;
    text-align: center;
    padding: 2px;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    border: solid 1px #CCCCCC;
    background-color: #DDDDDD;
    width: 15px;
    height: 15px;
    margin-left: 5px;
    margin-top: 5px;
} 
```

[http://jsfiddle.net/i3sik/NGB9v/22/](http://jsfiddle.net/i3sik/NGB9v/22/)

传入指令时的 id 和 color 属性在使用 ng-repeat 传递时最终未定义，但在 HTML 中硬编码时有效。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-05T06:38:43.783

这里的问题是您的隔离范围。通过使用`scope: {}`，您创建了一个新的、隔离的范围来作用于该元素。隔离范围不会从父范围继承。具有隔离范围的指令上的所有属性和内容都在隔离范围的上下文中进行评估。`gumball`不存在于隔离范围内，所以一切都是未定义的。

您有两种选择来解决这个问题：（1）删除隔离范围（例如`scope: true`创建子范围）；或 (2) 绑定隔离范围内的值。

要将属性绑定到范围变量，您只需指定范围和所需的绑定类型：

```
scope: {
  id: '@',
  color: '@'
}, 
```

这表示属性`id`和`color`将在父作用域的上下文中插入，然后添加到作用域。您可以删除`link`函数中的所有逻辑 - 这将为您完成。

但这仍然留下了指令*内部内容的问题。*要在父范围的上下文中插入它，您需要嵌入：

```
transclude: true,
template: "<div class='gumballColor{{color}}' ng-transclude></div>" 
```

嵌入获取元素的内容并相对于父作用域的新子代进行插值，例如`gumball`仍将定义的位置。

通过这两个更改，您的指令将按需要工作。

如果您对使用哪个范围感到困惑，这里有另一个可能会有所帮助的 SO 问题：[在编写指令时，我如何确定是否需要新的范围、新的子范围或新的隔离范围？](https://stackoverflow.com/q/14914213/259038)

* * *

**旁注：**即使没有隔离范围，`link`函数中确定属性值的逻辑也不起作用。执行顺序是这里的重要部分，大致是：编译器 -> 控制器 -> 链接 -> 插值。在插值完成之前，您的属性没有任何价值。所以你的支票是行不通的。

也就是说，您可以设置一个`$observe`插值属性；`$observe`即使没有传递任何值，也总是会在第一次触发。您可以使用它来设置默认值。`$observe`效率也很高。

```
attrs.$observe( 'attr1', function(val) {
  if ( !angular.isDefined( val ) ) {
    scope.attr1 = 'defaultValue';
  }
}); 
```

# python - 如何将标签添加到 boto (Amazon S3) 中的键？

> ID：15827196
> 
> 赞同：13
> 
> 时间：2013-04-05T06:19:34.010
> 
> 标签：python, amazon-s3, boto, boto3

我正在尝试标记已上传到 S3 的密钥。在下同我只是从一个字符串创建一个文件。一旦我有了它们的密钥，我就不确定如何标记文件。我试过 Tag 和 TagSet。

```
from boto.s3.bucket import Bucket
from boto.s3.key import Key
from boto.s3.tagging import Tag, TagSet

k = Key(bucket)
k.key = 'foobar/somefilename'
k.set_contents_from_string('some data in file')

Tag(k, 'the_tag') 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2018-04-16T20:31:26.760

S3 此后添加了[对象级标签](https://docs.aws.amazon.com/AmazonS3/latest/dev/object-tagging.html)。您可以使用[boto3](https://boto3.readthedocs.io/en/latest/)[获取](https://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.Client.get_object_tagging)和[设置](https://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.Client.put_object_tagging)它们。

这些比元数据更通用：

*   无需复制对象即可添加和修改它们。
*   它们可以用作生命周期管理规则中的过滤器。
*   它们可用于控制对对象的访问。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2020-05-04T10:23:51.523

```
import boto3

s3_client = boto3.client(
    's3',
    region_name='region-name',
    aws_access_key_id='aws-access-key-id',
    aws_secret_access_key='aws-secret-access-key',
)

get_tags_response = s3_client.get_object_tagging(
    Bucket='your-bucket-name',
    Key='folder-if-any/file-name.extension',
)

put_tags_response = s3_client.put_object_tagging(
    Bucket='your-bucket-name',
    Key='folder-if-any/file-name.extension',    
    Tagging={
        'TagSet': [
            {
                'Key': 'tag-key',
                'Value': 'tag-value'
            },
        ]
    }
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-12T23:31:58.370

虽然 S3 “标签”仅在存储桶级别，但存储桶中的每个键都可以具有与之关联的任意“元数据”，它们本身就是键值对。请参阅[boto 文档](http://boto.readthedocs.org/en/latest/ref/s3.html#boto.s3.key.Key.set_metadata)：

```
k.set_metadata('key', 'value')
value = k.get_metadata('key') # prints 'value' 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-04-05T07:41:04.433

据我在文档中看到的，[setTags-method](http://boto.readthedocs.org/en/latest/ref/s3.html#boto.s3.bucket.Bucket.set_tags)仅适用于存储桶级别，而不适用于单个键。因此，您不能为上传的文件设置不同的标签，但您必须在包含存储桶上执行此操作。

# django - DJANGO - 从两个模型中过滤数据

> ID：15827201
> 
> 赞同：1
> 
> 时间：2013-04-05T06:20:16.580
> 
> 标签：django

我有两个 MySQL 模型：

```
class registration(models.Model):
   name = models.CharField(max_length=30)
   email = models.EmailField()
   password = models.CharField(max_length=30)
   company = models.CharField(max_length=30)

class personal_details(models.Model):
   reg = models.ForeignKey(registration)
   job = models.CharField(max_length=30)
   experience = models.IntegerField(default=0) 
```

我想使用经验和公司作为关键字来过滤详细信息。我想从我的 HTML 页面中的两个表中获取并显示详细信息（姓名、电子邮件、公司、工作、经验）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:45:23.097

你可以在里面做`filter()`所以你应该做这样的事情

我现在正在使用该`personal_details`对象：

```
filteredResults = personal_details.objects.filter(experience="grasscutting", reg__company="IBM") 
```

这将为您提供找到的对象列表。这里的神奇之处在于您可以使用`__`约定访问 ForeignKey 关系。

# lotus-notes - 与开发 PC 相比，Lotus Notes 代理在服务器中的运行速度较慢

> ID：15827202
> 
> 赞同：0
> 
> 时间：2013-04-05T06:20:18.643
> 
> 标签：lotus-notes, lotus-domino, lotus, lotusscript

我有一个考勤记录系统，它有 2 个数据库，一个用于当前数据库，另一个用于存档。服务器处理考勤记录，并将标记为已完成的记录归档。存档数据库中没有进行任何处理。

这就是问题所在。其中一项要求是每天为每个员工建立一个空白记录，并将其放入考勤记录。执行此操作的代理调用一些程序并在数据库中进行一些检查。截至目前，每天大约有 1,800 条空白记录被创建。在开发 PC 上，处理每条记录大约需要 2 到 3 秒，平均为一个半小时。但是，当我们将其部署在服务器上时，处理每条记录大约需要 7 秒，大致相当于 3 个半小时才能完成。我们曾遇到过代理需要 4.5 到 5 小时才能完成的情况。

请注意，在这两种情况下，都会安排代理。服务器中没有其他 Lotus 应用程序，并且服务器大部分时间都是空闲和空闲的（除了 Windows Server 和 Lotus Notes 没有其他应用程序）。与开发 PC 和服务器相比，有什么可能导致额外的处理时间吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T16:21:31.197

您的流程每天生成 1800 个新文档，并且您说您也在定期归档文档，所以我认为这意味着您在归档后删除它们。在这样的应用程序中，性能问题会随着时间的推移而累积。您可能在数据库中有大量删除存根，并且 NSF 文件可能高度碎片化（内部和/或外部）。

您应该使用免费的[NotesPeek](http://www-01.ibm.com/support/docview.wss?uid=swg24005686)实用程序来检查数据库并查看它包含多少删除存根。然后您应该检查[清除间隔设置](http://www-01.ibm.com/support/docview.wss?uid=swg21091379)并考虑将其降低到您认为合适的最小值。（即，足够大，以便您知道所有服务器和用户将在该时间内复制，但足够小，以避免允许大量删除存根。）如果您更改清除间隔，您可以等待 24 小时让存根清除，或者您可以手动对服务器控制台上的数据库运行 updall 以强制执行它。

然后，您应该对 NSF 文件运行 compact -c，并在 NSF 所在的服务器磁盘卷上运行碎片整理。

如果这些步骤确实提高了您的性能，那么您可能需要在代码中采取措施，通过使用最小化删除存根、数据库增长和碎片的编码技术来防止问题再次发生。

即，进入您的代码进行归档，并对其进行更改，使其在归档后不会删除它们。相反，让您的代码使用诸如`FreeDocList := "1"`. 然后添加一个隐藏视图`(FreeDocList)`，其选择公式为`FreeDocList = "1"`。还可以进入数据库中的其他视图并添加`& (!(FreeDocList = "1"))`到选择公式中。然后更改代码添加新的空白文档，这样它就不会创建新文档，而是转到`FreeDocList`视图，找到第一个文档，设置`FreeDocList = "0"`并清除所有先前的字段值。当然，如果 FreeDocList 视图中没有足够的文档，您的代码将恢复到旧的行为并创建一个新文档。

通过上述更改，您将尽可能重复使用现有文档，而不是删除和创建新文档。我已经对这样的代码进行了基准测试，发现它可以提供帮助；但我不能在所有情况下都保证。很大程度上取决于应用程序中发生的其他事情。

# c - 访问结构数组内的数组

> ID：15827205
> 
> 赞同：2
> 
> 时间：2013-04-05T06:20:21.533
> 
> 标签：c, visual-studio-2010

我的结构如下

```
struct a
{
    char* ap;
    char* inputs[10];
    int e;
}; 
```

然后我创建了一个这种结构的数组，如 struct a list [100];

现在我想填充数组输入[10]，为此我使用语法来访问第一个位置：

```
 ip=0;
    inp=0;
    list[ip].inputs[inp] 
```

但我在编译代码时遇到错误“错误 C2107：非法索引，不允许间接”

请建议如何访问结构数组中的数组位置。

```
regards
priya 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:34:20.970

在我的电脑上工作正常..这是我的代码..

```
#include <stdio.h>

struct a
{
char* ap;
char* inputs[10];
int e;
};

int main()
{
    int ip=0;
    int inp=0;
    struct a list[100];
    list[ip].inputs[inp] = 'A';
    printf("This: %c", list[ip].inputs[ip]);
    return 0;
} 
```

输出=这个：A

让我知道它是否有帮助..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:04:45.733

在这里，您在结构中使用字符指针数组。所以最初你通过创建100个列表为你的结构分配内存。我认为你没有为你的字符指针数组创建内存。您必须为每个字符指针创建内存。所以我建议示例代码。

```
#include <stdio.h>

struct a
{
char* ap;
char* inputs[10];
int e;
};

int main()
{
    int ip=0;
    int inp=0;
    struct a list[100];
    list[ip].inputs[inp]= (char*)malloc(25);
    scanf("%s",list[ip].inputs[inp]);//Or other copy function to fill string
    printf("output %s",list[ip].inputs[inp]);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:36:09.433

结构本身没有数据。您需要创建结构类型的对象并设置对象...

```
 struct a
        {
        char* ap;
        char* inputs[10];
        int e;
        };

/* I like to separate the type definition from the object creation */
struct a list [3];

list [0].inputs[0] = "Choclate";
list [0].inputs[1] = "Almond";
list [0].inputs[2] = "Rasberry"; 
```

希望它会有用。也可以参考[这篇文章](https://stackoverflow.com/questions/1292586/char-array-in-a-struct-incompatible-assignment)

# javascript - 通过 mongoose 更新 mongo 内嵌套数组中的特定值

> ID：15827207
> 
> 赞同：2
> 
> 时间：2013-04-05T06:20:30.383
> 
> 标签：javascript, node.js, mongodb, mongoose, nosql

我有一些以下架构（没有_id） -

```
 {uid: String,
 inbox:[{msgid:String, someval:String}]
 } 
```

现在，在请求中，我得到了 msgid，并在下面的 mongoose 查询中使用它，如下所示 -

```
 my_model.findOne({'inbox.msgid':'msgidvaluexyz'}
  , function(err, doc) {           
    console.log(doc);
    return !0; }) 
```

现在，问题是我得到了整个文档，其中包含特定消息以及收件箱中的其他消息 -

```
 Output-
   {uid:'xyz',
    inbox:[
     {msgid:,someval},
     {msgid:'our queried msgid',someval}, //required sub array
     {msgid:,someval},
      ]
       } 
```

现在我可以使用什么查询来获取特定的子数组，因为文档收件箱太大而无法循环。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T12:01:18.567

使用[`$`位置选择运算符](http://docs.mongodb.org/manual/reference/projection/positional/#prj._S_)让返回的文档仅包含匹配的`inbox`元素：

```
my_model.findOne({'inbox.msgid':'msgidvaluexyz'}
  , {'inbox.$': 1}
  , function(err, doc) {           
    console.log(doc);
    return !0; }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T08:41:03.803

如果我正确理解了您的问题：

```
// find each person with a last name matching 'Ghost'
var query = Person.findOne({ 'name.last': 'Ghost' });

// selecting the `name` and `occupation` fields
query.select('name occupation'); 
```

[http://mongoosejs.com/docs/queries.html](http://mongoosejs.com/docs/queries.html)

您可以选择要返回的字段。您只能获得`inbox`数组或除此之外的所有内容。

# jquery - 图像没有在轨道上的红宝石中滑动

> ID：15827209
> 
> 赞同：0
> 
> 时间：2013-04-05T06:20:41.157
> 
> 标签：jquery

我正在使用 jQuery cycle lite 插件在 rails 应用程序中制作图像幻灯片。但它不工作。谁能告诉我我的代码有什么问题？

```
<html>
<head>
<title>HealthCare</title>
<%= stylesheet_link_tag "EHRMS", :media => "all" %>
<script type='text/javascript' src='//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js'></script>
<script type='text/javascript' src='script.js'>
$('#mar').cycle({
delay:  2000,
speed:  500,
before: onBefore
}); </script>
</head>
</html> 
```

`#mar`是与要滑动的图像的划分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:25:31.527

JavaScript 代码在页面加载后立即运行，但页面可能尚未准备好运行脚本（DOM 可能尚未初始化，因此该`#mar`元素可能还不存在）。

通常，您会希望将此类代码包装在 jQuery`ready()`函数中，如下所示：

```
<script type='text/javascript' src='script.js'></script>
<script type='text/javascript'>
$(document).ready(function(){
  $('#mar').cycle({
  delay:  2000,
  speed:  500,
  before: onBefore
  });
});
</script> 
```

有关更多详细信息，请参阅[`ready()`](http://api.jquery.com/ready/)文档。

**更新**

您的代码中可能还有一个额外的问题，即您的`<script>`标签既有`src`属性 ( `src='script.js'`)，但在`<script>...</script>`标签之间也有内容。根据[这个问题](https://stackoverflow.com/questions/8676093/script-tag-with-both-external-source-and-body)，这是无效的，`<script>`标签的正文将被忽略。尝试将其分解为单独的`<script>`标签。我已经用一个如何做到这一点的例子更新了我上面的代码片段。

# arrays - Postgresql 从数组中的值中选择

> ID：15827214
> 
> 赞同：3
> 
> 时间：2013-04-05T06:21:05.843
> 
> 标签：arrays, postgresql, postgresql-9.1

我正在使用 array_agg() 函数将多行转换为一个数组，并且我需要将该数组提供给一个 select 语句 where 条件。

我的疑问是，

```
SELECT * FROM table WHERE id = 
  ALL(SELECT array_agg(id) FROM table WHERE some_condition) 
```

但它给出了错误，我怎么能克服它..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:21:04.250

错误已通过类型转换数组清除，使用我这样的查询

```
 SELECT * FROM table WHERE id = 
    ALL((SELECT array_agg(id) FROM table WHERE some_condition)::bigint[]) 
```

[参考链接](https://stackoverflow.com/questions/11231544/check-if-value-exists-in-postgres-array)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:30:42.427

看起来你把事情复杂化了。据我所知，您的查询应该等同于简单：

```
SELECT * FROM table WHERE some_condition 
```

或者，如果您从 2 个不同的表中进行选择，请使用 join：

```
SELECT table1.*
FROM table1
JOIN table2 ON table1.id = table2.id
WHERE some_condition 
```

这不仅更简单，而且比摆弄数组更快。

# c# - Winforms 中的仪表板控件

> ID：15827219
> 
> 赞同：0
> 
> 时间：2013-04-05T06:21:29.270
> 
> 标签：c#, winforms, dashboard

我正在开发基于 WinForm 的应用程序（是的，我不知道 WPF），并且想要一个类似面板的仪表板。下图![在此处输入图像描述](https://i.stack.imgur.com/8SWHP.png)

每个面板都有一个标题和来自数据库的记录和一些操作控件​​。这怎么可能实现？我不想使用 GridControl，因为我不想在这里显示 Excel 之类的电子表格。这怎么可能实现？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:24:33.320

听起来你想做一个[`UserControl`](http://msdn.microsoft.com/en-us/library/system.windows.forms.usercontrol.aspx)，可能再加上一个自动布局面板之类的[`FlowLayoutPanel`](http://msdn.microsoft.com/en-us/library/system.windows.forms.flowlayoutpanel.aspx)。

简单地说，您将创建一个`UserControl`包含您需要的任何属性和事件（即在您的示例中，您可能有一个`Title`属性和一个`Data`属性）以及您需要响应的任何事件（例如，您可能有一个提供包装事件的按钮为了）。然后，您可以像添加任何其他标准控件一样将控件添加到现有表单中。

就以列表形式显示数据而言，一个建议是使用 a`Panel`并动态添加`Label`s 。另一个想法可能只是一个简单`Label`的`Text`.

# javascript - 如何在右侧的说明框上制作箭头以指向左侧的焦点字段？

> ID：15827220
> 
> 赞同：0
> 
> 时间：2013-04-05T06:21:31.847
> 
> 标签：javascript, jquery, css

我有一个带有表格的网页。页面分为左右两列。表格在左侧，右侧有一个带有说明的框。

目前，右侧的框由一个[cssarrowplease](http://cssarrowplease.com/) #arrow_box div 组成，该 div 配置了指向左侧的箭头。

我希望该箭头移动，使其指向左侧具有焦点的表单字段。

通过使用 CSS，我可以手动上下移动箭头。但是，我不确定如何在标签或单击以关注每个不同的表单字段时动态地进行这些移动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:29:36.973

*如果我理解正确，您可以为每个位置添加类，并`#arrow_box div`在焦点位于某些表单字段时根据样式更改类。*

虽然这是一个冗长的方法。

**CSS 类 1：**

```
.arrow_box 
{ 
    position: relative; 
    background: #88b7d5; 
    border: 4px solid #c2e1f5; 
} 
.arrow_box:after, .arrow_box:before 
{ 
    left: 100%; 
    border: solid transparent; 
    content: " "; 
    height: 0; 
    width: 0; 
    position: absolute; 
    pointer-events: none; 
} 
.arrow_box:after 
{ 
    border-color: rgba(136, 183, 213, 0); 
    border-left-color: #88b7d5; 
    border-width: 10px; 
    top: 10%; 
    margin-top: -10px; 
} 
.arrow_box:before 
{ 
    border-color: rgba(194, 225, 245, 0); 
    border-left-color: #c2e1f5; 
    border-width: 16px; 
    top: 10%; 
    margin-top: -16px; 
} 
```

**和 CSS 类 2：**

*唯一的变化将是 className 和以下内容：* 示例：

```
.arrow_box
{
    top: 10%;
} 
```

*变成*

```
.arrow_box_element2
{
    top: 20%;
} 
```

假设您有一个在*元素*`JavaScript`上时调用的方法：`Focus`

 *```
function onFocusElement1()
{
     $("#arrow_box").attr('class', 'arrow_box');
}

function onFocusElement2()
{
     $("#arrow_box").attr('class', 'arrow_box_element2');
} 
```

*希望这可以帮助 ：）**

# ios - 如何调整和转换标签？

> ID：15827224
> 
> 赞同：0
> 
> 时间：2013-04-05T06:21:45.503
> 
> 标签：ios, view, label, transform, frame

我的应用程序要求用户输入一些详细信息，然后使用标签通过另一个视图显示这些详细信息。

由于用户可以输入可变长度的文本，而标签最初具有固定的长度和宽度，我使用如下代码来调整标签大小：

```
 CGSize maximumLabelSize = CGSizeMake(296,9999);
         CGSize expectedLabelSize = [yourString sizeWithFont:yourLabel.font 
                                    constrainedToSize:maximumLabelSize 
                                    lineBreakMode:yourLabel.lineBreakMode]; 

            //adjust the label the the new height.  
CGRect newFrame = yourLabel.frame;  
newFrame.size.height = expectedLabelSize.height;  
yourLabel.frame = newFrame; 
```

这些修改的问题是我有很多标签一个接一个。因此，当我更改一个标签的长度时，以下所有标签也需要转换/移动到新位置。

有什么方法可以动态更改所有标签的大小和位置，同时确保最终呈现与固定长度标签一样好？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T06:34:32.097

```
 int h=10; // Initial Height as you want
        for(int k=0;k<[headItemArray count];k++) {
            CGSize size_txt_overview1 = [[headItemArray objectAtIndex:k] sizeWithFont:[UIFont fontWithName:@"Helvetica" size:18] constrainedToSize:constraint lineBreakMode:UILineBreakModeWordWrap];
            UILabel *lbl_headitem = [[UILabel alloc]initWithFrame:CGRectMake(3,h, 690, size_txt_overview1.height)];// See the 'h' value
            lbl_headitem.text = [headItemArray objectAtIndex:k];
            [lbl_headitem setTextAlignment:UITextAlignmentLeft];
            [lbl_headitem setBackgroundColor:[UIColor clearColor]];
            [lbl_headitem setTag:k];
            lbl_headitem.numberOfLines=0;  
            [lbl_headitem setTextColor:[UIColor redColor]];
            [lbl_headitem setFont:[UIFont fontWithName:@"Helvetica" size:18]];
            [scrollAttributes addSubview:lbl_headitem];
            h = h + size_txt_overview1.height;// important
        } 
```

# highcharts - 没有缩放的 highstock 分组

> ID：15827227
> 
> 赞同：1
> 
> 时间：2013-04-05T06:22:02.650
> 
> 标签：highcharts, highstock

我可以使用 Highstock 执行以下操作： 按天、周、月分组，但显示所有数据。也就是说，制作一个按钮组，但他们没有缩放，而只对数据进行分组（做近似）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T11:07:57.250

这是您可以更新 dataGrouping 的方式：

```
 $("#container").highcharts().series[0].update({
            dataGrouping: {
                units: [ ['year', [1]] ]   
            }
        }); 
```

和 jsFiddle：http: [//jsfiddle.net/W7rTL/1/](http://jsfiddle.net/W7rTL/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T07:59:14.157

这在数据很多的时候效果很好，但是当数据很小的时候，比如几个月，计划没有分组。

jsfiddle：http://jsfiddle.net/W7rTL/5/

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-07T15:41:13.597

单击按钮时我得到类似的结果，但仅在 3M 范围内。奇怪，单击按钮转到“年”聚合，它回退到天（？）。这让我感到惊讶，因为它甚至不是数据系列中的聚合选项之一（可能代码回退到默认值）？完成此操作后，如果您然后单击“全部”或“1 年”，它会正确选择回溯到年度汇总...

# regex - 如何使用正则表达式从输入字符串创建子字符串？

> ID：15827228
> 
> 赞同：0
> 
> 时间：2013-04-05T06:22:04.100
> 
> 标签：regex, substring

如何使用正则表达式从输入字符串创建子字符串？
每个子字符串在输入中应该只有 3 个连续的字符。

前任：

```
 input text="1234abc"; 
```

预期子串

输出 ：`123,234,34a,4ab.abc....`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:28:27.380

使用前瞻

```
 (?=(.{3})) 
```

因此，前 3 个字符将在前瞻中分组捕获。现在它将移动到下一个字符（即您的示例中的**2 个**）并再次捕获 3 个字符，依此类推。

笔记：

环视支持中的组捕获仅限于某些正则表达式实现

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:18:51.170

您可以使用以下正则表达式：

```
(?=(.{3})). 
```

**它是如何工作**的 - 前瞻向前看三个字符并将它们放入第 1 组。然后我们有一个单`.`吃一个字符。这会使正则表达式引擎向前移动，以便它可以进行下一个匹配。

要获取连续字符，您需要遍历所有匹配项并提取第一组。您如何执行此操作取决于您使用的语言。

您还可以在[debuggex](http://www.debuggex.com/?re=%28?=%28.%7B3%7D%29%29.&str=1234abcasdfasdf)上对此进行可视化。沿着测试字符串拖动黑色三角形，观察比赛中第 1 组的情况。

# iphone - Apple Push Notification 在共享服务器上不起作用

> ID：15827230
> 
> 赞同：3
> 
> 时间：2013-04-05T06:22:17.323
> 
> 标签：iphone, ios, objective-c, apple-push-notifications

我想从 PHP 脚本发送 APN（Apple 推送通知）。我的 PHP 脚本工作正常，当我从 localhost 发送时，我也在 iphone 设备中收到通知，但是当我将具有相同 .pem 文件的相同脚本上传到它时，`shared server`它返回错误...

```
Warning: stream_socket_client() [function.stream-socket-client]: unable to connect to ssl://gateway.push.apple.com:2195 (Connection refused) in /mypath/SendPushNotification.php on line 28 Failed to connect: 111 Connection refused 
```

从某些来源我了解到，发送 APN 端口 2195 必须打开，这在共享服务器计划中是不可能的。所以我尝试使用专用服务器，它运行良好，我在设备上收到通知。我努力寻找共享服务器的解决方案，但没有找到任何解决方案。

我的问题：是否可以在不从共享服务器打开端口 2195 的情况下发送 APN？如果是，请给予一些指导。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:56:33.680

不，不使用 2195 端口就无法发送 APN 消息。

如果您想从共享服务器发送推送通知消息，请尝试使用一些第三方工具，例如[http://urbanairship.com/](http://urbanairship.com/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-04T21:42:57.083

前段时间我遇到了同样的错误，然后我发现它发生是因为服务器，代理阻塞了该端口，因为大多数服务器不使用该端口作为常用端口（80或21）。

在这种情况下，您可以尝试向您的服务器经销商寻求支持，他们可以为您打开该端口（2195），如果您采用此解决方案，我建议您还要求打开该端口用于反馈的端口 2196。

另一个解决方案是使用免费的推送通知提供程序，例如 Parse，它非常易于在您的应用程序上使用和实现，您也可以使用 UrbanAirship，但我更喜欢 Parse ;)

希望能帮助到你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-29T08:29:41.413

这很烦人，而且绝对是个`port 2195`问题。与您的托管服务提供商聊天并要求他们打开端口。我也有同样的问题。我的本地代码在每种情况下都可以正常运行`sandbox`，`production`但在服务器上却失败了。

不要对`.pem`文件路径感到困惑，这与您的代码相对应很简单。对我来说，我把我`certificates (.pem)`放在一个名为**certs**的目录中，并给出如下路径：

```
$apnsCert = 'certs/cert_prod.pem'; 
```

该代码在我的应用程序生产服务器上不起作用。我为此浪费了一天半的时间，但是当我将它放在应用程序的登台服务器上时，它在第一次运行时运行良好。原因！！！！肯定有`port 2195`问题。

所有的节拍。

# jqplot - jqplot中图形底部的水平图例

> ID：15827231
> 
> 赞同：5
> 
> 时间：2013-04-05T06:22:27.043
> 
> 标签：jqplot, legend

我可以使用EnhancedLegendRenderer插件获得jqplot图的水平图例。但我需要图底部的水平图例。有什么建议吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-05T14:29:39.317

发布到堆栈溢出时，您应该始终显示一些工作。它有助于我们了解您的问题。

根据您的描述，我*认为*您在使用[EnhancedLedendRenderer时遇到了问题。](http://www.jqplot.com/docs/files/plugins/jqplot-enhancedLegendRenderer-js.html)

这就是我的代码实现 1 行 3 列图例的样子。

```
 legend: {
        // This renderer is needed for advance legends.
        renderer: jQuery.jqplot.EnhancedLegendRenderer,
        show: true, 
        location: 's', 
        placement: 'outside',
        // Breaks the ledgend into horizontal.
        rendererOptions: {
          numberRows: '1',
          numberColumns: '3'
        },
        seriesToggle: true
      }, 
```

此外，由于标点符号和缺少大写字母，您可能会被否决。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-30T11:51:10.963

将放置选项更改为外部到外部网格

```
legend: {
    renderer: jQuery.jqplot.EnhancedLegendRenderer,
    show: true, 
    location: 's', 
    placement: 'outsideGrid',
    rendererOptions: {
      numberRows: '1',
    },
  }, 
```

# mysql - JavaFX 2.0 与基于 Web 的 MySQL 数据库？

> ID：15827233
> 
> 赞同：0
> 
> 时间：2013-04-05T06:22:44.040
> 
> 标签：mysql, web-applications, javafx-2

关于如何制作将连接到基于 Web 的 MySQL 数据库的桌面应用程序（构建在 JavaFX 2.0 之上）的任何想法？

任何想法，参考，见解将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:28:29.003

我在前一段时间也使用 JavaFx 做过这个。首先，您需要从[这里](http://dev.mysql.com/downloads/connector/j/)下载 MySQL/J Java 连接器，然后您可以按照[此博客文章](http://mxshrestha.wordpress.com/2011/03/09/mysql-javafx/)了解如何使用它并将其设置为在您的 JavaFx 应用程序中使用。

# java - JNI.h 与 JVMTi.h 的实现

> ID：15827236
> 
> 赞同：2
> 
> 时间：2013-04-05T06:23:31.673
> 
> 标签：java, native-code

到目前为止，我正在开发一个只支持 JNI 而不是 JVMTI 的软件。但是我无法明确区分为什么 JVMTI 实际上是有帮助的，以及它以前是否与 JNI 一起工作，而不是 JVMTI 将要添加到其中的内容，因为它们似乎在做某种相同的工作。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-05T21:03:20.513

**顾名思义，**JNI用于将本机代码集成到您的 Java 应用程序中。**这意味着您可以从您的 java 代码中调用用 C 编写的函数。**

 **现在**JVMTI**不一定要向 JNI 添加任何内容，因为它的用途完全不同。它为分析器、调试器等工具提供了 JVMTI 代理和 Java 虚拟机之间的通信方式……它仅使用 JNI，但并没有真正添加任何东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-07T13:28:25.833

**JNI**使 Java 应用程序有能力使用其他语言（例如，c/c++ 或汇编语言）实现的库。它为 JVM 供应商和应用程序开发人员提供了一个标准的 VM 接口。

**JVMTI**是 JPDA 的最低级别。这张图片说明了它：[http ://docs.oracle.com/javase/7/docs/technotes/guides/jpda/architecture.html](http://docs.oracle.com/javase/7/docs/technotes/guides/jpda/architecture.html)

> ```
>  Components                          Debugger Interfaces 
> ```

```
 /    |--------------|
           /     |     VM       |      <------- JVM TI
           \     |   back-end   |
            \    |--------------|
            /           |              <------- JDWP 
            \           |
                 |--------------|
                 | front-end    |
                 |--------------|      <------- JDI 
                 |      UI      |
                 |--------------| 
```

总之，JVMTI 只是使用 JNI。**

# android - 在 android facebook 代码上出现异常

> ID：15827239
> 
> 赞同：-2
> 
> 时间：2013-04-05T06:23:41.560
> 
> 标签：android

在第 215 行的 util 类上的 android facebook 代码中出现异常这里我打印堆栈：

```
04-05 11:08:34.015: E/AndroidRuntime(13527): FATAL EXCEPTION: main
04-05 11:08:34.015: E/AndroidRuntime(13527): android.os.NetworkOnMainThreadException
04-05 11:08:34.015: E/AndroidRuntime(13527):    at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1117)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at java.net.InetAddress.lookupHostByName(InetAddress.java:385)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at java.net.InetAddress.getAllByNameImpl(InetAddress.java:236)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at java.net.InetAddress.getAllByName(InetAddress.java:214)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpConnection.<init>(HttpConnection.java:70)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpConnection.<init>(HttpConnection.java:50)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:341)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java:87)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpConnection.connect(HttpConnection.java:128)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:315)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.makeSslConnection(HttpsURLConnectionImpl.java:461)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:433)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:289)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:239)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:273)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:168)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at libcore.net.http.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:271)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.facebook.android.Util.openUrl(Util.java:215)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.facebook.android.Facebook.request(Facebook.java:755)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.facebook.android.Facebook.request(Facebook.java:692)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.agequiz.fbhelper.FacebookConnector$1.onAuthSucceed(FacebookConnector.java:184)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.agequiz.fbhelper.SessionEvents.onLoginSuccess(SessionEvents.java:78)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.agequiz.fbhelper.FacebookConnector$LoginDialogListener.onComplete(FacebookConnector.java:112)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.facebook.android.Facebook$1.onComplete(Facebook.java:358)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.facebook.android.FbDialog$FbWebViewClient.shouldOverrideUrlLoading(FbDialog.java:154)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at android.webkit.CallbackProxy.uiOverrideUrlLoading(CallbackProxy.java:274)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at android.webkit.CallbackProxy.handleMessage(CallbackProxy.java:376)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at android.os.Looper.loop(Looper.java:137)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at android.app.ActivityThread.main(ActivityThread.java:4745)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at java.lang.reflect.Method.invokeNative(Native Method)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at java.lang.reflect.Method.invoke(Method.java:511)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
04-05 11:08:34.015: E/AndroidRuntime(13527):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:26:22.003

您当前的代码在[uiThread](https://stackoverflow.com/questions/3652560/what-is-the-android-uithread-ui-thread)上运行。考虑使用[asynctask](http://developer.android.com/reference/android/os/AsyncTask.html)或扩展[Thread](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Thread.html)的类。对此有很多问题，通过快速[谷歌](http://www.google.com)搜索，所以我觉得一个例子太多了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:26:56.787

当应用程序尝试在其主线程上执行网络操作时，将引发此异常。在 AsyncTask 中运行您的代码：

```
private class Retreive extends AsyncTask<Void, Void, Void> {

protected Void doInBackground(Void... urls) {       
    return null;         
} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-04-05T06:28:49.433

当应用程序尝试在其主线程上执行网络操作时，将引发此异常。`AsyncTask`在或 中运行您的代码`Thread`。

`onCreate()`或在方法中添加以下代码。

```
StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
StrictMode.setThreadPolicy(policy); 
```

*   [如何修复 android.os.NetworkOnMainThreadException？](https://stackoverflow.com/questions/6343166/android-os-networkonmainthreadexception)
*   [DefaultHttpClient 到 AndroidHttpClient](https://stackoverflow.com/questions/8706464/defaulthttpclient-to-androidhttpclient)
*   [引起：android.os.NetworkOnMainThreadException](https://stackoverflow.com/questions/13136539/caused-by-android-os-networkonmainthreadexception)
*   [android.os.NetworkOnMainThreadException 。需要使用异步任务吗？](https://stackoverflow.com/questions/8612406/android-os-networkonmainthreadexception-need-to-use-async-task)
*   [android.os.NetworkOnMainThreadException](https://stackoverflow.com/questions/12615607/android-os-networkonmainthreadexception)
*   [android.os.NetworkOnMainThreadException 上的服务启动在 android](https://stackoverflow.com/questions/14124739/android-os-networkonmainthreadexception-on-service-start-on-android)

# ios - 以圆形方式放置 UIView

> ID：15827246
> 
> 赞同：0
> 
> 时间：2013-04-05T06:24:18.983
> 
> 标签：ios, objective-c, uiview, geometry

我正在创建一个图形界面，其中包含不同的节点和中心的选定节点。我创建了中心节点并画了一个圆圈来标记子节点的放置位置。

我想在圆的圆周上放置许多节点而不相互重叠。我如何确切地找到可以在圆周上放置多少个？

我的每个子节点视图都将具有相同的大小。但不管怎样，圆的圆周上的每个子节点所占据的**arcLength是不同的。**

如何找到可以放置在具有特定半径的圆的圆周中的具有特定大小的控件的总数。以及如何找到要放置在圆周上的每个子节点的中心点。

我知道我们可以使用下面的公式来找到要遍历的角度来放置子节点。这里的问题是每个子节点视图的**arcLength**不是固定的。

> 2PirC/360 = 弧长 x = cx + r * cos(a) y = cy + r * sin(a)

![在此处输入图像描述](https://i.stack.imgur.com/wKaZ8.png) ![在此处输入图像描述](https://i.stack.imgur.com/Cdvaf.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T09:08:20.707

我已经通过使用Stackoverflow的这个[线程](https://stackoverflow.com/questions/10152390/dynamically-arrange-some-elements-around-a-circle)的答案中提到的以下公式解决了这个问题：

**(x + r cos(2kπ/n), y + r sin(2kπ/n))**

# wso2 - 我们可以将字符串存储在 wso2esb 的文本文件中吗？

> ID：15827247
> 
> 赞同：1
> 
> 时间：2013-04-05T06:24:30.923
> 
> 标签：wso2, wso2esb, wso2dss

我的本地系统上有一个文本文件，我希望将数据同步附加到特定文件中。

我尝试了很多方法，但它不起作用。

ESB 在 Oracle SOA 中拥有这样的未来。我们可以添加 FILE ADAPTER。在 ESB 中，它既不会给出错误，也不会给出预期的结果。

我的配置是这样的：

```
<proxy xmlns="http://ws.apache.org/ns/synapse" name="FileWrite" transports="http,vfs" statistics="disable" trace="disable" startOnLoad="true">
  <target>
     <inSequence>
        <log>
           <property name="OUT_ONLY" value="true"/>
        </log>
     </inSequence>
     <outSequence>
        <log>
           <property name="OUT_ONLY" value="true"/>
        </log>
        <payloadFactory>
           <format>
              <error>error404</error>
           </format>
        </payloadFactory>
        <send>
           <endpoint>
              <address uri="vfs:file:///home/youtility2/Desktop/Errorlog"/>
           </endpoint>
        </send>
     </outSequence>
  </target>
  <parameter name="transport.vfs.ReplyFileURI">file:///home/user/test/out? transport.vfs.Append=true</parameter>
  <parameter name="transport.PollInterval">10</parameter>
  <parameter name="transport.vfs.FileNamePattern">Errorlog.text</parameter>
  <parameter name="transport.vfs.ContentType">text/xml</parameter>
  <parameter name="transport.vfs.ActionAfterFailure">MOVE</parameter>
  <parameter name="transport.vfs.ReplyFileName">Errorlog.xml</parameter>
  <description></description>
</proxy> 
```

实际上，我在`outSequence`. `inSequence`中介没有将数据发送到未转发到的进程`outSequence`中`outSequence`。这就是为什么我认为上述配置不起作用的原因。

这有什么参考吗？

我也试过上面的配置`inSequence`。它给出了这样的错误：

> 错误 - Axis2Sender 在向 org.apache.axis2.AxisFault 发送消息期间出现意外错误：VFS 传输不支持同步响应。请使用适当的（仅输出）消息交换模式

请参考此[链接](https://stackoverflow.com/questions/15803063/how-we-can-write-a-data-in-to-text-file-using-wso2esb)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T15:35:13.907

问题是，您正在日志调解器中设置一个属性，该属性是一个预定义的属性，（即：）`OUT_ONLY`用于指示请求只是“仅限外”请求。因此，系统不会期望得到响应。这就是为什么，你没有得到任何东西。不要使用 Log mediator 中的预定义属性，这会导致问题。

在日志中保留一些文本以指示消息的流向。例如：

```
 <inSequence>
        <log>
           <property name="INSEQUENCEEEEEEE" value="********"/>
        </log>
     </inSequence> 
```

同样明智地在 outsequence 中保留不同的描述性日志，看看您是否在那里收到消息，没有任何问题。

# linux - 如何在X11中创建圆角矩形窗口

> ID：15827250
> 
> 赞同：2
> 
> 时间：2013-04-05T06:24:47.090
> 
> 标签：linux, x11, embedded-linux

如何使用 Shape 扩展库在 X11 中创建圆角矩形窗口。有没有在 x11 中创建圆角矩形的示例。请帮助，在此先感谢。

# java - 如果 3 个按钮相同，如何使用 selenium 代码选择第二个按钮

> ID：15827251
> 
> 赞同：0
> 
> 时间：2013-04-05T06:24:50.203
> 
> 标签：java, spring, selenium

当我选择其中之一时出错

我有 3 个按钮，我想使用 selenium 测试 java 代码选择第二个

```
<p>
        <button class="btn btn-primary pull-right" ng-click="openMediaCreator=true">Add</button>
    </p>
    <p>
    <button class="btn btn-primary pull-right" ng-click="openMediaCreator=true">Add</button>
    </p>
    <p>
    <button class="btn btn-primary pull-right" ng-click="openMediaCreator=true">Add</button>
    </p> 
```

我使用该代码选择第二个按钮

```
public BasketDetailsObject addYoutubeVideo(String URL){
        try {
            getDriver().findElement(By.linkText("Add")).click();
        } catch (Exception e) {
            System.out.println("There is Error on add Youtube Video"+e);
        }
        return getFactory().create(BasketDetailsObject.class);
    } 
```

但我知道它不起作用请给我赖特代码

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:39:06.403

使用这个，你需要确保你有三个按钮，否则 get(1) 可能会失败或给出错误的按钮。

```
List<Webelement> buttons = getDriver().findElements(By.linkText("Add"));
buttons.get(1).click(); 
```

# java - 使用 JUnit 运行的休息服务

> ID：15827255
> 
> 赞同：1
> 
> 时间：2013-04-05T06:25:09.297
> 
> 标签：java, eclipse, rest, junit

我创建了一个示例项目，如 soapui.org 上给出的：http: [//www.soapui.org/REST-Testing/getting-started.html](http://www.soapui.org/REST-Testing/getting-started.html)。创建后，我已将测试用例作为“soapRest.xml”导出到一个文件夹。我想将此服务与 JUnit 集成。我尝试了以下代码：

```
import com.eviware.soapui.tools.SoapUITestCaseRunner;    

public class sample_RestService {

    @Test
    public void soapUiRest(){
        SoapUITestCaseRunner runner = new SoapUITestCaseRunner();

        runner.setProjectFile("C:\\Users\\meharkoduri\\SoapRest.xml");
        try {
            runner.run();
        } catch (Exception e) {
            System.out.println(e);
            //e.printStackTrace();
        }
    }
} 
```

我收到以下错误：

```
 soapUI 4.0.0 TestCase Runner
    11:46:57,736 WARN  [SoapUI] Missing folder [C:\Users\meharkoduri\workspace\soapRest_project\.\ext] for external libraries
    11:46:57,738 INFO  [DefaultSoapUICore] Creating new settings at [C:\Users\meharkoduri\soapui-settings.xml]
    org.apache.xmlbeans.XmlException: Element testCase@http://eviware.com/soapui/config is not a valid soapui-project@http://eviware.com/soapui/config document or a valid substitution.
        at org.apache.xmlbeans.impl.store.Locale.autoTypeDocument(Locale.java:328)
        at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1279)
        at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1263)
        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderBase.parse(SchemaTypeLoaderBase.java:345)
        at com.eviware.soapui.config.SoapuiProjectDocumentConfig$Factory.parse(Unknown Source)
        at com.eviware.soapui.impl.wsdl.WsdlProject.loadProject(WsdlProject.java:314)
        at com.eviware.soapui.impl.wsdl.WsdlProject.<init>(WsdlProject.java:234)
        at com.eviware.soapui.impl.wsdl.WsdlProjectFactory.createNew(WsdlProjectFactory.java:41)
        at com.eviware.soapui.impl.wsdl.WsdlProjectFactory.createNew(WsdlProjectFactory.java:24)
        at com.eviware.soapui.tools.SoapUITestCaseRunner.runRunner(SoapUITestCaseRunner.java:319)
        at com.eviware.soapui.tools.AbstractSoapUIRunner.run(AbstractSoapUIRunner.java:151)
        at sample_RestService.soapUiRest(sample_RestService.java:16)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
        at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
    11:46:59,504 ERROR [SoapUI] An error occured [Failed to load project from file [file:/C:/Users/meharkoduri/SoapRest_exTestCase-1.xml]], see error log for details
    com.eviware.soapui.support.SoapUIException: Failed to load project from file [file:/C:/Users/meharkoduri/SoapRest_exTestCase-1.xml]
        at com.eviware.soapui.impl.wsdl.WsdlProject.loadProject(WsdlProject.java:404)
        at com.eviware.soapui.impl.wsdl.WsdlProject.<init>(WsdlProject.java:234)
        at com.eviware.soapui.impl.wsdl.WsdlProjectFactory.createNew(WsdlProjectFactory.java:41)
        at com.eviware.soapui.impl.wsdl.WsdlProjectFactory.createNew(WsdlProjectFactory.java:24)
        at com.eviware.soapui.tools.SoapUITestCaseRunner.runRunner(SoapUITestCaseRunner.java:319)
        at com.eviware.soapui.tools.AbstractSoapUIRunner.run(AbstractSoapUIRunner.java:151)
        at sample_RestService.soapUiRest(sample_RestService.java:16)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
        at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
    Caused by: org.apache.xmlbeans.XmlException: Element testCase@http://eviware.com/soapui/config is not a valid soapui-project@http://eviware.com/soapui/config document or a valid substitution.
        at org.apache.xmlbeans.impl.store.Locale.autoTypeDocument(Locale.java:328)
        at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1279)
        at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1263)
        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderBase.parse(SchemaTypeLoaderBase.java:345)
        at com.eviware.soapui.config.SoapuiProjectDocumentConfig$Factory.parse(Unknown Source)
        at com.eviware.soapui.impl.wsdl.WsdlProject.loadProject(WsdlProject.java:314)
        ... 29 more
    java.lang.Exception: Failed to load soapUI project file [C:\Users\meharkoduri\SoapRest_exTestCase-1.xml] 
```

注意：我的目标是与 JUnit 集成。

# design-patterns - 使用 Heroku 和 Mailgun 路由处理附件

> ID：15827256
> 
> 赞同：3
> 
> 时间：2013-04-05T06:25:10.067
> 
> 标签：design-patterns, heroku, mailgun

我的 webapp 是部署到 Heroku 的 Ruby on Rails 应用程序。

我使用 Mailgun Routes 将电子邮件转发到我的 Web 应用程序。Mailgun Routes 的文档在这里[http://documentation.mailgun.net/user_manual.html#um-routes](http://documentation.mailgun.net/user_manual.html#um-routes)。

基本上，Mailgun Routes 将主题、正文、发件人等内容作为 HTTP 参数发布。附件以多部分/表单数据编码的文件上传形式发布。在控制器中，它们显示为 UploadedFile ( [http://api.rubyonrails.org/classes/ActionDispatch/Http/UploadedFile.html](http://api.rubyonrails.org/classes/ActionDispatch/Http/UploadedFile.html) )。

在控制器中，我继续将附件上传到 S3。

但是，如果有大附件或许多附件，请求将超时（Heroku 臭名昭著的 H12 错误）。

我尝试使用后台工作人员（延迟工作）但遇到了这些问题

*   将整个 UploadedFile 对象或 UploadedFile.tempfile 发送到后台工作人员会导致不可靠的行为（延迟作业不能很好地处理大型对象，例如模型实例）
*   发送临时文件的路径并尝试打开它不起作用，因为临时文件只能由它们所在的 dyno 访问（临时文件存储在 web worker dyno 中，并且尝试从失败的后台 worker dyno 访问它 -[创建Heroku 中的临时文件](https://stackoverflow.com/questions/6661395/creating-temporary-files-in-heroku)）

关于如何解决这个问题的任何聪明的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-27T09:56:12.973

我刚刚使用 Mailgun 的 Routes 功能遇到了类似的问题。问题的答案似乎是使用他们在 2013 年晚些时候发布的“商店”功能。希望我在集成路线功能之前遇到这个问题，因为使用商店的方法完全不同。

# c# - WebInvoke POST 停止安装服务

> ID：15827259
> 
> 赞同：0
> 
> 时间：2013-04-05T06:25:21.813
> 
> 标签：c#, json, wcf

我对 c# 完全陌生。 ***对不起***

我正在尝试创建一个 WCF Rest 服务来获取文件并将其放置在 Web 服务器上。以下操作效果很好：

```
 [OperationContract]
    [WebInvoke(Method = "GET", BodyStyle = WebMessageBodyStyle.Bare, UriTemplate = "GetMediaFile?shopNumber={shopNumber}&fileName={fileName}")]
    Stream GetMediaFile(string shopNumber, string fileName); 
```

一切都按预期工作，直到我添加以下操作

```
 [OperationContract]
    [WebInvoke(Method = "POST", BodyStyle = WebMessageBodyStyle.Bare, ResponseFormat =        WebMessageFormat.Json, UriTemplate = "PutMediaFile?shopNumber={shopNumber}&fileName={fileName}")]
    string PutMediaFile(string shopNumber, string fileName, Stream mediaFile); 
```

我通过单击启动安装服务的工具的绿色箭头来安装服务。我需要这样做才能从我的 IOS 设备上对其进行测试。

问题是，一旦我添加了 POST 方法，在服务安装过程中就会出现以下错误：

```
 "Failed to add a service. Service metadata may not be accessible. Make sure your service is running and exposing metadata" 
```

接下来是更深入的解释：

```
 "Error: Cannot obtain Metadata from http://localhost/MpiPhotoStore/PhotoStoreService.svc If this is a Windows (R) Communication Foundation service to which you have access, please check that you have enabled metadata publishing at the specified address.  For help enabling metadata publishing, please refer to the MSDN documentation at http://go.microsoft.com/fwlink/?LinkId=65455.WS-Metadata Exchange Error    URI: http://localhost/MpiPhotoStore/PhotoStoreService.svc    Metadata contains a reference that cannot be resolved: 'http://localhost/MpiPhotoStore/PhotoStoreService.svc'.    There was no endpoint listening at http://localhost/MpiPhotoStore/PhotoStoreService.svc that could accept the message. This is often caused by an incorrect address or SOAP action. See InnerException, if present, for more details.    The remote server returned an error: (404) Not Found.HTTP GET Error    URI: http://localhost/MpiPhotoStore/PhotoStoreService.svc    There was an error downloading 'http://localhost/MpiPhotoStore/PhotoStoreService.svc'.    The request failed with the error message:--<HTML><HEAD><STYLE type="text/css">#content{ FONT-SIZE: 0.7em; PADDING-BOTTOM: 2em; MARGIN-LEFT: 30px}BODY{MARGIN-TOP: 0px; MARGIN-LEFT: 0px; COLOR: #000000; FONT-FAMILY: Verdana; BACKGROUND-COLOR: white}P{MARGIN-TOP: 0px; MARGIN-BOTTOM: 12px; COLOR: #000000; FONT-FAMILY: Verdana}PRE{BORDER-RIGHT: #f0f0e0 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: #f0f0e0 1px solid; MARGIN-TOP: -5px; PADDING-LEFT: 5px; FONT-SIZE: 1.2em; PADDING-BOTTOM: 5px; BORDER-LEFT: #f0f0e0 1px solid; PADDING-TOP: 5px; BORDER-BOTTOM: #f0f0e0 1px solid; FONT-FAMILY: Courier New; BACKGROUND-COLOR: #e5e5cc}.heading1{MARGIN-TOP: 0px; PADDING-LEFT: 15px; FONT-WEIGHT: normal; FONT-SIZE: 26px; MARGIN-BOTTOM: 0px; PADDING-BOTTOM: 3px; MARGIN-LEFT: -30px; WIDTH: 100%; COLOR: #ffffff; PADDING-TOP: 10px; FONT-FAMILY: Tahoma; BACKGROUND-COLOR: #003366}.intro{MARGIN-LEFT: -15px}</STYLE><TITLE>Service</TITLE></HEAD><BODY><DIV id="content"><P class="heading1">Service</P><BR/><P class="intro">The server was unable to process the request due to an internal error.  For more information about the error, either turn on IncludeExceptionDetailInFaults (either from ServiceBehaviorAttribute or from the <serviceDebug> configuration behavior) on the server in order to send the exception information back to the client, or turn on tracing as per the Microsoft .NET Framework SDK documentation and inspect the server trace logs.</P></DIV></BODY></HTML>--." 
```

就像我说的，我有 2 个 GET 操作和 1 个 DELETE 操作，它们都可以正常工作。

这是我的 Web.Config

```
 <?xml version="1.0"?>
 <configuration>

 <appSettings>
 <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
 <add key="RootFilePath" value="\\OMMACDEV02VM1\Images"/>
 </appSettings>
 <system.web>
  <compilation debug="true" targetFramework="4.0" />
  </system.web>
 <system.serviceModel>
 <protocolMapping>
  <add scheme="http" binding="webHttpBinding"/>
 </protocolMapping>
 <behaviors>
  <serviceBehaviors>
    <behavior>
      <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
      <serviceMetadata httpGetEnabled="true"/>
      <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
      <serviceDebug includeExceptionDetailInFaults="false"/>

    </behavior>
  </serviceBehaviors>
  <endpointBehaviors>
    <behavior>
      <webHttp/>
    </behavior>
  </endpointBehaviors>
</behaviors>
<serviceHostingEnvironment multipleSiteBindingsEnabled="true" /> 
```

我已经阅读了有关 mex 端点的信息，但我现在真的只在看 JSON。Web.Config 适用于其他所有方法。

帮助！！！！！！！！！！！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T22:40:45.210

问题出在 web.config 文件中：

```
 <?xml version="1.0"?>
 <configuration>
<appSettings>
 <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
<add key="RootFilePath" value="\\OMMACDEV02VM1\Images"/>
</appSettings>
<system.web>
    <compilation debug="true" targetFramework="4.0" />
</system.web>
<system.serviceModel>
<bindings>
  <webHttpBinding>
    <binding maxReceivedMessageSize="10485760" />
  </webHttpBinding>
</bindings>
<services>
  <service name="MpiPhotoStore.PhotoStore" behaviorConfiguration="ServiceBehaviour">
    <endpoint address ="" binding="webHttpBinding" contract="MpiPhotoStore.IPhotoStoreService" behaviorConfiguration="web">
    </endpoint>
    </service>
  </services>
<behaviors>
  <serviceBehaviors>
    <behavior name="ServiceBehaviour">
      <serviceMetadata httpGetEnabled="true"/>
      <serviceDebug includeExceptionDetailInFaults="true"/>
    </behavior>
  </serviceBehaviors>
  <endpointBehaviors>
    <behavior name="web">
      <webHttp/>
    </behavior>
  </endpointBehaviors>
</behaviors>
</system.serviceModel>
 </configuration> 
```

# php - 移动到新服务器后无法写入 MYSQL DB

> ID：15827260
> 
> 赞同：0
> 
> 时间：2013-04-05T06:25:28.050
> 
> 标签：php, mysql, sql, database

我已经 ping 以确保我已连接到服务器，并且由于我不需要进入的原因，我显然可以阅读它。我所有的数据库调用看起来像这样：

```
$sql="insert into shoeboxvideos set vidid='$vidid', email='$email' ";
$result = mysql_query($sql); 
```

最糟糕的是，在我搬到这台新服务器之前，一切都很好。我不明白是什么阻止了我们编辑数据库。是否有可能在管理员的某个地方有数据库设置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:58:59.633

*   你确定你在移动的数据库上吗？并且还没有连接到旧数据库？

*   您是否确认连接到数据库并执行查询正常？`mysql_connect(...) or die('failed connect');`和`mysql_query(...) or die(mysql_error());`（如果您使用 PDO 或 mysqli，请更改语法。）

*   您是否检查了正在登录的 mysql 用户的 mysql 用户权限？可能是用户不存在于新位置。甚至存在两次，与您正在连接的主机一起授予的权限较少

# forms - 如何在引导模式框中重置表单主体？

> ID：15827262
> 
> 赞同：31
> 
> 时间：2013-04-05T06:25:35.933
> 
> 标签：forms, twitter-bootstrap, refresh

我正在寻找一种方法来**清除**包含**在 Bootstrap 模式**中的**HTML 表单中的所有元素，***而无需*刷新页面。

 ***目前：

用户输入数据并关闭模式。

当用户重新打开 modal 时，**之前输入的数据仍然保留**。

如何在模态对话框的**关闭事件**期间完全清除表单中的所有元素，以便当用户重新打开它时，他们总是能获得新鲜的干净输入等？

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2014-01-04T08:03:41.673

在 Bootstrap 3 中，您可以在关闭模式窗口后重置表单，如下所示：

```
$('.modal').on('hidden.bs.modal', function(){
    $(this).find('form')[0].reset();
}); 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-04-05T07:05:57.430

您可以创建一个 JavaScript 函数来执行此操作：

```
$.clearInput = function () {
        $('form').find('input[type=text], input[type=password], input[type=number], input[type=email], textarea').val('');
}; 
```

然后每次隐藏模式时都可以调用该函数：

```
$('#Your_Modal').on('hidden', function () {
        $.clearInput();
}); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-08-22T00:55:22.443

我使用了@shibbir 答案的略微修改版本：

```
// Clear form fields in a designated area of a page
$.clearFormFields = function(area) {
  $(area).find('input[type="text"],input[type="email"],textarea,select').val('');
}; 
```

这样调用：

```
$('#my-modal').on('hidden', function(){
  $.clearFormFields(this)
}); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-11-11T15:35:56.957

如果您使用 ajax 以这种方式加载模态的正文并希望能够重新加载它的内容

```
<a data-toggle="modal" data-target="#myModal" href="./add">Add</a>
<a data-toggle="modal" data-target="#myModal" href="./edit/id">Modify</a>

<div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <!-- Content will be loaded here -->
        </div>
    </div>
</div> 
```

利用

```
<script>
    $(function() {
        $('.modal').on('hidden.bs.modal', function(){
            $(this).removeData('bs.modal');
        });
    });
</script> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-09-27T10:31:37.410

隐藏模式时，只需将空值设置为输入字段。

```
$('#Modal_Id').on('hidden', function () {
   $('#Form_Id').find('input[type="text"]').val('');
}); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-02-07T05:35:23.780

Mark Berry 的回答在这里很好用。我只是添加拆分前面的代码：

```
$.clearFormFields = function(area) {
  $(area).find('input[type="text"],input[type="email"],textarea,select').val('');
}; 
```

至：

```
$.clearFormFields = function(area) {
                $(area).find('input#name').val('');
                $(area).find('input#phone').val("");
                $(area).find('input#email').val("");
                $(area).find('select#topic').val("");
                $(area).find('textarea#description').val("");
            }; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-09-28T18:13:19.657

这是需要将正文重置为原始内容的差异。它不处理表格，但我觉得它可能有用。如果原始内容是大量 html，则很难将 html 串出并将其存储到变量中。Javascript 不喜欢 VS 2015/任何允许的换行符。因此，我在页面加载时将大量 html 存储在默认模式中，如下所示：

```
var stylesString = $('#DefaultModal .modal-body').html(); 
```

这允许我在按下模式的原始默认按钮时重用此内容（还有其他按钮在同一模式中显示其他内容）。

```
$("#btnStyles").click(function () {
    //pass the data in the modal body adding html elements
    $('#DefaultModal .modal-body').html(stylesString);
 $('#DefaultModal').modal('show');
}) 
```

如果我对 styleString 变量发出警报，它将有一个没有中断的所有 html 的无穷字符串，但它会为我做，并将其排除在 VS 编辑器之外。

这是它在默认模式下的 Visual Studio 中的外观。无论是自动（.html）还是在VS中手动保存在字符串变量中，这将是一大行：

```
<div class="modal-body" id="modalbody">

    <div class="whatdays"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">All Styles</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/ballroom.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Ballroom</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/blues.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Blues</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/contra.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Contra</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/countrywestern.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Country</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/english-country.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">English Country</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/israeli.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Israeli</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/lindyhop.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Lindy Hop/Swing</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/miscvariety.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Misch/Variety</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/neo-square.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Neo-Square</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/polka.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Polka</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/salsa.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Salsa</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/scottish.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Scottish</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/square.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Square</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/tango.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Tango</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/waltz.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Waltz</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/wcswing.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">WCS</span></div>
    <div class="whatdays" style="background-image: url('../../Responsive/zyedeco-gator.jpg');background-size: 100% 100%;"><span style="background-color:black;color:white;padding:4px 4px 4px 4px;border:2px solid yellow;">Zydeco/Cajun</span></div> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-02-27T10:43:37.430

只需在打开之前找到您的表格并清除！

```
 $modal = $('#modal');
    $modal.find('form')[0].reset(); 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2014-09-26T12:20:03.650

以下解决方案解决了我的问题并保留了默认值

```
$('body').on('hidden.bs.modal', '.modal', function () { 
  $(this).find('input[type="text"],input[type="email"],textarea,select').each(function() { 
    if (this.defaultValue != '' || this.value != this.defaultValue) {
         this.value = this.defaultValue; 
    } else { this.value = ''; }
  }); 
}); 
```***

# c - 在 C 中读取文本文件

> ID：15827264
> 
> 赞同：0
> 
> 时间：2013-04-05T06:25:39.440
> 
> 标签：c

我正在阅读一个文本文件并尝试在控制台上显示其内容。这是我的代码：

```
#include "stdafx.h"
#include <stdio.h>
#include <string.h>
#include <fstream>

int main()
{
    FILE* fp=NULL;
    char buff[100];
    fp=fopen("myfile.txt","r");
    if(fp==NULL)
    {
        printf("Couldn't Open the File!!!\n");
    }
    fseek(fp, 0, SEEK_END);
    size_t file_size = ftell(fp);
    fread(buff,file_size,1,fp);
    printf("Data Read [%s]",buff);
    fclose(fp);
    return 0;
} 
```

但控制台上只显示冗余数据；有人可以指出我的错误吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T06:30:51.567

执行此操作后，您忘记重置文件指针以启动。

```
fseek(fp, 0, SEEK_END); 
```

在找到大小 ( `file_size`) 后执行此操作。

```
rewind (fp); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-05T06:29:55.470

在阅读之前，您需要回到文件的开头：

```
int main()
{
    FILE* fp=NULL;
    char buff[100];
    fp=fopen("myfile.txt","r");
    if(fp==NULL)
    {
        printf("Couldn't Open the File!!!\n");
        exit(1);                     // <<< handle fopen failure
    }
    fseek(fp, 0, SEEK_END);
    size_t file_size = ftell(fp);
    fseek(fp, 0, SEEK_SET);          // <<< seek to start of file
    fread(buff,file_size,1,fp);
    printf("Data Read [%s]",buff);
    fclose(fp);
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:32:34.427

尝试一下....

```
#include <stdio.h>
#include <stdlib.h>

void handle_line(char *line) {
printf("%s", line);
}

int main(int argc, char *argv[]) {
int size = 1024, pos;
int c;
char *buffer = (char *)malloc(size);

FILE *f = fopen("myfile.txt", "r");
if(f) {
  do { // read all lines in file
    pos = 0;
    do{ // read one line
      c = fgetc(f);
      if(c != EOF) buffer[pos++] = (char)c;
      if(pos >= size - 1) { // increase buffer length - leave room for 0
        size *=2;
        buffer = (char*)realloc(buffer, size);
      }
    }while(c != EOF && c != '\n');
    buffer[pos] = 0;
    // line is now in buffer
    handle_line(buffer);
  } while(c != EOF); 
  fclose(f);           
}
free(buffer);
return 0; 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T07:23:21.013

```
 #include "stdafx.h"
    #include <stdio.h>
    #include <string.h>
    #include <fstream>

    int main()
    {
        FILE* fp=NULL;
        char *buff;                     //change array to pointer
        fp=fopen("myfile.txt","r");
        if(fp==NULL)
        {
            printf("Couldn't Open the File!!!\n");
        }
        fseek(fp, 0, SEEK_END);
        size_t file_size = ftell(fp);
        buff = malloc(file_size);      //allocating memory needed for reading file data
        fseek(fp,0,SEEK_SET);          //changing fp to point start of file data
        fread(buff,file_size,1,fp);
        printf("Data Read [%s]",buff);
        fclose(fp);
        return 0;
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-05T12:14:22.193

拥有 100 字节的缓冲区来读取文件并不是一个更好的主意，因为文件大小可能超过 100 字节。

更好的文件 io 可以通过对文件执行 fgets 来完成，如果它不是您想要使用 fread 读取的元数据类型。

while 循环中的 fgets 可用于检查其是否到达 EOF 或 feof 调用可用于检查 EOF。

fgets 的示例代码列表可以是这样的：

```
 while (fgets(buf, len, fp)) {
      printf("%s", buf);
 } 
```

或者与 fgets 一起使用的示例可以是这样的：

```
 while (fread(buf, len, 1, fp) >= 0) {
       printf("%s\n", buf);
 } 
```

# c# - Razor/Javascript，最佳实践

> ID：15827265
> 
> 赞同：0
> 
> 时间：2013-04-05T06:25:43.973
> 
> 标签：c#, jquery, vb.net, asp.net-mvc-3, razor

我对 MVC-razor 很陌生，留下的代码让我有点困惑。

我的视图中有一个模型，并从该模型中创建了一个列表。

```
 @For Each Item in Model
                  @<li><a href="#" data-id="ItemOne">Click Me</a></li> 
```

然后我有一个进行绑定的javascript；

```
$("a[data-id]").click(function(e)
{
    $( "#PopUp" ).dialog({resizable: false, width:800, height: 400, title: ""  });
}); 
```

并填充这个静态窗口；

```
<div id="PopUp" title="PopUp">

 <h1>MyPopUp<H1>

</div> 
```

所有这些代码都在一个视图中

我现在想用我的一些模型项目数据填充窗口（IE，我点击的项目会给我一个包含项目数据的弹出窗口）我已经进入了一个锁定的心态，我的想法是有一些使用该模型数据打开 razor 变量，然后遍历项目以创建具有给定标识符的等量 PoP-Up-window，当调用 javascript 时，我只使用那里的变量。但这只是觉得愚蠢。有没有简单（更好看）的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:33:08.830

你可以使用 AJAX。基本上，您可以对将返回部分视图的控制器操作有一个真正的锚点。然后当单击此锚点时，向此操作发送 AJAX 请求并更新 DOM。

我想一个例子可能是值得的：

```
@For Each Item in Model
    @<li>@Html.ActionLink("Click Me", "SomeAction", "SomeControllerName", New With { Key .id = item.Id }, New With { Key .class = "popup" })</li> 
```

然后你可以不显眼地 AJAXify 这个锚点：

```
$('a.popup').click(function(e) {
    $.ajax({
        url: this.href, 
        type: 'GET',
        cache: false,
        success: function(result) {
            $('#PopUp').html(result).dialog({
                resizable: false, 
                width: 800, 
                height: 400, 
                title: ''
            });
        }
    });

    return false;
}); 
```

然后当然你会有一个相应的控制器动作来呈现部分：

```
Function SomeAction(ByVal id as Integer)
    Dim model = ... get your model from somewhere using the id
    Return PartialView(model)
End Function 
```

# fortran - 使用 gfortran 安装 fortran 包

> ID：15827267
> 
> 赞同：1
> 
> 时间：2013-04-05T06:26:07.950
> 
> 标签：fortran, gfortran, intel-fortran

我想在两台不同的机器上安装这个包。 [http://www.2decomp.org/download.html](http://www.2decomp.org/download.html)

在我的 Mac 笔记本电脑上，当我使用 Makefile.inc.x86 作为我的 Makefile.inc 并进行制作时，它可以立即运行而没有任何问题。但是在另一台机器上，当我使用相同的 Makefile.inc 文件时，我收到以下错误：

```
[k00603@fe01p05 src]$make
mpif90 -DDOUBLE_PREC -O3 -fcray-pointer -cpp  -c decomp_2d.f90
gfortran: unrecognized option '-cpp'
Warning: decomp_2d.f90:20: Illegal preprocessor directive
Warning: decomp_2d.f90:21: Illegal preprocessor directive
Warning: decomp_2d.f90:22: Illegal preprocessor directive
Warning: decomp_2d.f90:23: Illegal preprocessor directive
-------------------------------------------------------
--- around 50 more lines with the same warning --------
-------------------------------------------------------
In file decomp_2d.f90:32

integer, parameter, public :: ga_real_type = MT_F_DBL
                                                  1
Error: Symbol 'mt_f_dbl' at (1) has no IMPLICIT type
In file decomp_2d.f90:33

integer, parameter, public :: ga_complex_type = MT_F_DCPL
                                                      1
Error: Symbol 'mt_f_dcpl' at (1) has no IMPLICIT type
In file decomp_2d.f90:36
-------------------------------------------------------
------------ a lot of other errors --------------------
------------------------------------------------------- 
```

它们都是 Linux x86_64 机器。有什么想法可以将其安装在另一台机器上吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:27:31.727

您的 gfortran 可能太旧了。`-cpp`选项是在[2008](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=18428)年添加的。买一个新的，或者`-x f95-cpp-input`试试看`-x f77-cpp-input`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-18T20:38:46.363

为了保证预处理，您可以重命名`decomp_2d.f90`为`decomp_2d.F90`. 我知道 -cpp 应该已经保证它，但它可能值得一试，因为我们不一定知道底层编译器是什么。

# java - 弹出 listView 滚动并带有 imgaes

> ID：15827268
> 
> 赞同：0
> 
> 时间：2013-04-05T06:26:14.987
> 
> 标签：java, android

我想创建一个带有滚动列表视图的弹出窗口，列表视图将包含图像，

我尝试用这段代码实现它：

```
button.setOnClickListener(new View.OnClickListener() {
                  @Override
                  public void onClick(View arg0) {

                      AlertDialog.Builder builder = new AlertDialog.Builder(groupContext);

                    builder.setTitle("Group");
                    builder.setItems(arrayNames, new DialogInterface.OnClickListener() {

                       public void onClick(DialogInterface dialog, int item) {
                            Toast.makeText(getApplicationContext(), arrayNames[item], Toast.LENGTH_SHORT).show();
                       }

                    });

                    builder.setPositiveButton("OK ", new DialogInterface.OnClickListener() {
                          public void onClick(DialogInterface dialog, int id) {
                              System.out.println("OK CLICKED");

                          }
                      });
                         builder.setNegativeButton("cancel", new DialogInterface.OnClickListener() {
                                public void onClick(DialogInterface dialog, int id) {
                                  dialog.dismiss();

                                }
                            });

                    AlertDialog alert = builder.create();

                    alert.show();
                  }
            }); 
```

此代码对我有用，但是我无法添加图像并且 listView 不滚动

多谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:31:55.510

您需要使用包含 ListView 的 XML 布局定义**自定义对话框。**

脚步：

1.  使用 ListView 定义 XML 布局
2.  使用以下设置对话框内的 XML 布局：

> ```
> dialog = new Dialog(MyActivity.this);
> dialog.setContentView(R.layout.my_listView_layout); 
> ```

检查这个简单的例子：[Android 自定义对话框示例](http://www.mkyong.com/android/android-custom-dialog-example/)

# jquery - mobiscroll 日期选择器显示 2013 年 3 月的 29 天。

> ID：15827270
> 
> 赞同：0
> 
> 时间：2013-04-05T06:26:28.670
> 
> 标签：jquery, jquery-mobile, mobiscroll

我在我的视图中使用了 mobiscroll 日期选择器。它工作正常，但是当我选择 2013 年 3 月 30 日时，它只显示 29 天可选。我不明白，是否有任何设置。请帮助我。提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T12:23:56.237

我解决了自己的工作代码如下

```
$(function(){
    $('#startdate').mobiscroll().date({
        invalid: {  },
        theme: 'default',
        display: 'modal',
        mode: 'scroller',
        dateOrder: 'mmD ddyy'
    }); 

 }); 
```

# mysql - 我可以在 Mysql 中强制合并索引吗

> ID：15827274
> 
> 赞同：2
> 
> 时间：2013-04-05T06:26:40.263
> 
> 标签：mysql, indexing

我有一个看起来像的查询

```
SELECT fld from table
WHERE id > 50000 
AND fld_1 = 0 
LIMIT 1000 
```

id 和 fld_1 都被索引。但它总是同时使用其中任何一个以获得更好的结果？强制索引仅使用其中之一。

我指的是 - [http://dev.mysql.com/doc/refman/5.1/en/index-merge-optimization.html#index-merge-intersection](http://dev.mysql.com/doc/refman/5.1/en/index-merge-optimization.html#index-merge-intersection)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-17T00:52:48.953

我不知道有什么方法可以强制索引合并。该手册页上的条件描述了可以完成索引合并的条件，如果可以的话，优化器应该自动完成（并且如果基于成本的优化器认为这样做是值得的）。如果不可能，您不能强制索引合并。

但无论如何，复合索引通常比索引合并执行得更好，所以这将是一个更好的策略。

列的顺序很重要。首先将用于*相等*比较的列放在索引中，然后将用于*不等*比较的列。

```
CREATE INDEX idxFld1Id ON `table` (fld_1, id); 
```

另请参阅我的演示文稿[如何设计索引，真的](http://www.slideshare.net/billkarwin/how-to-design-indexes-really)。

* * *

[您可以使用http://www.percona.com/doc/percona-toolkit/pt-online-schema-change.html](http://www.percona.com/doc/percona-toolkit/pt-online-schema-change.html)进行架构更改，例如创建索引——无需停机

当然，首先在您的数据库的测试副本上试用它，以了解如何使用该工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:35:24.057

尝试通过替换您的索引名称 SELECT fld from table use index ( `xxx`) WHERE id > 50000 AND fld_1 = 0 LIMIT 1000

# xml - XSD 验证错误：cos-all-limited.1.2：“所有”模型组必须出现在具有

> ID：15827278
> 
> 赞同：5
> 
> 时间：2013-04-05T06:26:54.990
> 
> 标签：xml, validation, xsd, xerces

我有 XSD，它在模式生成期间给出了以下错误。

```
 org.xml.sax.SAXParseException; systemId: file:/D:/Basil/Projects/myproducts.xsd; lineNumber: 577; columnNumber: 50; cos-all-limited.1.2: An 'all' model group must appear in a particle with '{'min occurs'}' = '{'max occurs'}' = 1, and that particle must be part of a pair which constitutes the '{'content type'}' of a complex type definition.
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)
    at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.reportSchemaErr(XSDHandler.java:4124)
    at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.reportSchemaError(XSDHandler.java:4107)
    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:588)
    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:555)
    at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:521)
    at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:240)
    at com.sun.tools.xjc.reader.xmlschema.parser.SchemaConstraintChecker.check(SchemaConstraintChecker.java:101)
    at com.sun.tools.xjc.ModelLoader.loadXMLSchema(ModelLoader.java:357)
    at com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:167)
    at com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:113)
    at com.sun.tools.xjc.Driver.run(Driver.java:313)
    at org.codehaus.mojo.jaxb2.AbstractXjcMojo.execute(AbstractXjcMojo.java:298)
    at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490) 
```

相关的 XSD 粘贴在下面。我无法理解实际的错误是什么。错误在倒数第三行。请帮忙。

```
<xs:group name="prodVar">
  <xs:all>
     <xs:element name="prodVar" minOccurs="0" maxOccurs="1">
        <xs:complexType>
           <xs:sequence>
              <xs:element name="varName" type="xs:string" minOccurs="0" maxOccurs="unbounded" />
              <xs:element ref="skuList" />
              <xs:element name="vStory" type="xs:string" minOccurs="0" />
              <xs:element ref="attList" />
           </xs:sequence>
        </xs:complexType>
     </xs:element>
     <xs:element name="colorSwatchList" minOccurs="0" maxOccurs="1">
        <xs:complexType>
           <xs:sequence minOccurs="1" maxOccurs="unbounded">
              <xs:element name="colorSwatch" minOccurs="0" maxOccurs="unbounded">
                 <xs:complexType>
                    <xs:sequence>
                       <xs:element name="swatchName" type="xs:string" minOccurs="0" />
                       <xs:element name="swatchHeight" type="xs:string" minOccurs="0" />
                       <xs:element name="swatchWidth" type="xs:string" minOccurs="0" />
                       <xs:element name="colorName" type="xs:string" minOccurs="0" />
                       <xs:element name="mainImageHeight" type="xs:string" minOccurs="0" />
                       <xs:element name="mainImageWidth" type="xs:string" minOccurs="0" />
                       <xs:element name="mainImageName" type="xs:string" minOccurs="0" />
                    </xs:sequence>
                 </xs:complexType>
              </xs:element>
           </xs:sequence>
        </xs:complexType>
     </xs:element>
  </xs:all>
</xs:group>

<!--lot of other stuff -->

<xs:element name="prodVarList" minOccurs="0" maxOccurs="1">
    <xs:complexType> <!-- ERROR HERE -->
        <xs:group ref="prodVar" minOccurs="0" maxOccurs="unbounded" />
    </xs:complexType>
</xs:element> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T11:17:55.897

`maxOccurs="unbounded"`只需摆脱`<xs:group ref="prodVar" minOccurs="0" maxOccurs="unbounded" />`

在 XSD 1.0 中， an`xs:all`不能重复（这里间接地，有些人可能会说 'nice try!'），也不能在 下的任何粒子`xs:all`，也不能嵌套在任何其他合成器下。

# android - 查询获取特定范围内日期的行（以 dd-mm-yyyy 形式存储为字符串）

> ID：15827280
> 
> 赞同：0
> 
> 时间：2013-04-05T06:26:56.837
> 
> 标签：android, sqlite, date

我在 sqllite 数据库中以 TEXT 的形式存储了日期。格式为“dd-mm-yyyy”。我正在查询以选择日期在两个给定日期之间的行。当我使用属于同一月份的查询日期查询数据库时，我得到了结果。但是，当日期范围属于不同月份时，它不会返回任何行。例如：

当日期类似于：29-03-2013 到 05-04-2013 时，就会出现问题。当日期介于 02-04-2013 和 05-04-2013 之间时，它会成功返回行。有在所有日期输入的行。

以下是我尝试过的方法：

```
// MySQLiteHelper.COLUMN_DATE_DATE stores column name which is 'date'
// startdate and end date are string in form of mm-dd-yyyy
// MySQLiteHelper.TABLE_NAMES contain table name string
// MySQLiteHelper.COLUMN_MOOD_LEVEL is another column that I wish to get in return 
```

我尝试使用 BETWEEN 子句和 <= 和 >=，但对输出没有影响。方法如下：

```
// Method 1:
String selection = MySQLiteHelper.COLUMN_DATE_DATE + " BETWEEN '"+startdate+"' AND '"+ enddate+"' "; 
// Method 2:
String selection = MySQLiteHelper.COLUMN_DATE_DATE + " >= '"+startdate+"' AND "+MySQLiteHelper.COLUMN_DATE_DATE+" <= '"+ enddate+"' ";

String []colum = {MySQLiteHelper.COLUMN_MOOD_LEVEL};
Cursor cursor = database.query(MySQLiteHelper.TABLE_NAMES, colum, selection, null, null, null, null); 
```

当我使用

```
cursor.getCount() 
```

要查看返回的行数，它会给出 0。尽管在这些日期之间存在条目。

他们是我缺少的一些基本比较问题吗？我尝试查看以前的一些问题，但没有解决。我非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:12:33.423

要使字符串比较正常工作，您必须使用最重要字段在前的格式，即`yyyy-mm-dd`. （这也是 SQLite[内置日期函数](http://www.sqlite.org/lang_datefunc.html)唯一支持的格式。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-15T01:57:24.610

在查询之前，我想突出显示**正确的日期格式**，即

> yyyy-MM-dd

确保以这种格式保存您的日期。然后进一步查询如下：

```
 Cursor cursor = db.query(TABLE, null, COL_GAME_DATE + " BETWEEN ? AND ?", new String[]{
                        startDate, endDate},
                null, null, null); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:14:14.783

我建议你先修复你的数据库。日期应该存储在 DATE 类型中，只是因为进一步使用的简单性。

# knockout.js - KnockoutJS 动态模板

> ID：15827284
> 
> 赞同：1
> 
> 时间：2013-04-05T06:27:22.617
> 
> 标签：knockout.js

如果有人问过这个特定的问题，请原谅。我搜索了博客，搜索了这个，但找不到任何特别符合我需求的东西。

我正在尝试使用 Knockout JS 构建一个单页应用程序，但我对此比较陌生，似乎无法解决这个问题。

我有两个模板：

```
<script id="template1" type="text/template">
   <h3>Template 1</h3>
   <button id="templButton" text="Go to template 2" />
</script> 
```

和

```
<script id="template2" type="text/template">
   <h3>Template 2</h3>
</script> 
```

我有两个绑定到这些模板的 div：

```
<div data-bind="template: { name: template1 }"></div>
<div data-bind="template: { name: template2 }"></div> 
```

在模板 1 中，我有一个按钮，当单击该按钮时，应填充模板 2 并清除模板 1。似乎没有办法做到这一点，没有另一个 3rd 方添加？

**更新 1**

在页面加载时，我使用 jQuery 获取第一个模板的值：

```
$(document).ready(function(e) {
   $.get("/Controller/Action", function (data) {

       // get values from action, convert to array for ko to function
       var results = $.parseJSON(data);
       var viewModel = {
          someBind = ko.mapping.fromJS(results);
       }
       ko.applyBindings(viewModel);

       // now, I thought the best way to do this was to bind to the button here:
       $("#templButton").click(function(e) {
          // and call the load of the template here,
          // however, because I have two templates on the page
          // Knockout is trying to bind to both.
       });
   });
}); 
```

没有使用'templateToUse'作为这么多帖子，线程状态，还有另一种方法可以做到这一点吗？我对这一切都很陌生，所以如果我的方法看起来很愚蠢，请原谅。

我已经看到线程指出单击事件应由 Knockout 处理：

```
<button data-bind="click: function(e) { ... }" /> 
```

但这让我回到了最初的问题，如何加载第二个模板，在单击按钮时绑定到它。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-05T13:24:01.107

如果您的目标是使用单个 div 执行此操作，那么一种方法是：

```
<script id="template1" type="text/template">
   <h3>Template 1</h3>
   <button id="templButton" data-bind="click: swap">Go to template 2</button>
</script>

<script id="template2" type="text/template">
   <h3>Template 2</h3>
</script>

<div data-bind="template: theTemplate"></div> 
```

使用如下视图模型：

```
ko.applyBindings({
    theTemplate: ko.observable("template1"),
    swap: function() {
       this.theTemplate("template2");   
    }
}); 
```

因此，您将模板的名称存储在可观察对象中并对其进行更新。示例：http: [//jsfiddle.net/rniemeyer/SfaPH/](http://jsfiddle.net/rniemeyer/SfaPH/)

如果您确实希望在两个 div 中使用它，那么您需要有一个标志来说明哪个是呈现或可见的，例如：

像这样绑定它：

```
<div data-bind="template: { name: 'template1', 'if': one }"></div>
<div data-bind="template: { name: 'template2', ifnot: one }"></div> 
```

使用如下视图模型：

```
ko.applyBindings({
    one: ko.observable(true),
    swap: function() {
       this.one(false);
    }
}); 
```

示例：http: [//jsfiddle.net/rniemeyer/n2y6z/](http://jsfiddle.net/rniemeyer/n2y6z/)

# ssl - SSL serverHello 消息长度被篡改

> ID：15827285
> 
> 赞同：1
> 
> 时间：2013-04-05T06:27:29.620
> 
> 标签：ssl

在 SSL 客户端中，我收到一条带有篡改消息长度的 serverHello 消息，如下所示。

“16 03 00 00 35 02 00 08 00……”

这里，“00 08 00”是消息长度，为 2048 字节。但在下一条记录中，它发送“serverCertificate & serverHelloDone”消息。

因此，在客户端，它等待读取 2048 个字节。但是消息“serverHello、serverCertificate、serverHelloDone”的总和没有 2048 个字节。因此，客户端仍然等待读取挂起的消息（套接字正在阻塞套接字）。所以，它只是在 recv 中等待，永远不会出来。

我想知道应用程序应该如何处理这种情况。SSL协议有什么办法，我们可以识别出来。如果不可能，应用程序应该如何处理这种情况？

谢谢 ！

问候萨蒂什。

# c++ - 编译器可以优化从副本到引用的返回值吗？

> ID：15827286
> 
> 赞同：1
> 
> 时间：2013-04-05T06:27:34.370
> 
> 标签：c++, optimization, concurrency

如果我这样写代码：

```
shared_ptr<Foo> Bar::getFoo()
{
    return m_foo;
}

void somewhereElse()
{
    shared_ptr<Foo> foo = myBar.getFoo();
    //do some stuff with foo
} 
```

编译器可以以某种方式优化代码，以便将其更改为类似的内容：

```
void somewhereElse()
{
    const shared_ptr<Foo> &foo = myBar.getFoo__by_ref_somehow();
    //do some stuff with foo
} 
```

我问是因为在并发执行的情况下这可能是一个问题。

我知道可以应用 RVO 并删除额外的副本，但是编译器可以完全消除副本吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:31:04.427

不。你要求一个值，所以你*得到*一个值。复制省略是关于省略不必要的复制。你想要一个价值；该函数返回一个值。因此，您将至少获得一份副本。您想要的是某种形式的代码转换，将值转换为引用。

您可以*创建*一个函数`getFoo__by_ref_somehow`，它将 a 返回`const&`到存储在类中的值。但这将是您*创建*的不同功能，而不是允许编译器为您创建的功能。

# mips - MIPS：打印出直方图

> ID：15827294
> 
> 赞同：0
> 
> 时间：2013-04-05T06:28:03.037
> 
> 标签：mips

我正在编写一个 MIPS 程序（汇编语言），它接收 10 个整数并打印出由星号表示的直方图。

例如：

用户输入 1、2、3、4

输出：

```
*
**
***
**** 
```

我已经用 MIPS 编写了大部分代码。我遇到的问题是打印出正确长度的星号。到目前为止，它只是打印出所有相同长度的直方图；第一个用户输入的整数。

```
# program functionality: 
```

。数据

```
menu:   .asciiz     "\n1\. New Histogram\n2\. Print Histogram\n3\. Quit\n"
prompt: .asciiz     "\nEnter 10 numbers between 0 and 50 (inclusive):\n"
prompt1: .asciiz    "\nEnter a valid number:\n"
asterisk: .asciiz   "*"
space: .asciiz      "\n"
array:  .word       0:10 
```

.text 主要内容：

```
do:

    jal print_menu
    li  $v0, 5
    syscall

    beq $v0, 1, new
    beq $v0, 2, print
    beq $v0, 3, quit
j   do  # end do

    new:
        jal new_user
        j   do
    print:
        jal print_user
        j   do

j   quit

print_menu:

    la  $a0, menu
    li  $v0, 4
    syscall
    jr  $ra

new_user:
    la  $a0, prompt
    li  $v0, 4
    syscall

    enter_loop:

        la  $t0, array
        li  $t1, 10

        enter_loop_2:

            la  $a0, prompt1
            li  $v0, 4
            syscall

            li  $v0, 5
            syscall

            sw  $v0, ($t0)

            addi    $t1, $t1, -1
            beqz    $t1, end_loop_2

            addi    $t0, $t0, 4
            j   enter_loop_2

            end_loop_2:
            jr  $ra

print_user:
    la  $t0, array
    li  $t1, 10

    pLoop:

    la  $a0, space
    li  $v0, 4
    syscall

        asterisk_fun:

            li  $v0, 1
            lw  $a0, ($t0)
            syscall

            counter:

                la  $a0, asterisk
                li  $v0, 4
                syscall

                addi    $a0, $a0, -1
                beqz    $a0, asterisk_end

                j   counter

            asterisk_end:

                jr  $ra

        addi    $t1, $t1, -1
        beqz    $t1, endpLoop

        addi    $t0, $t0, 4

        j   pLoop

        endpLoop:
        jr  $ra

quit:
    li  $v0, 10
    syscall 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T13:21:58.867

问题是您正在`$a0`用星号的地址覆盖计数器中的寄存器，并且您还曾经`$a0`计算过该存储桶中的项目数。简单的解决方案是使用其他寄存器（例如`$a1`）来计算项目数：

那将是：

```
 #... your code
    asterisk_fun:
        li  $v0, 1
        lw  $a1, ($t0)   # Load number in $a1
        move $a0, $a1    # move to $a0 just to print it
        syscall
            la  $a0, asterisk
        counter:

            li  $v0, 4
            syscall

            addi    $a1, $a1, -1          # we use $a1 to keep the counter
            beqz    $a1, asterisk_end

            j   counter

        asterisk_end:
     # ... more of your code 
```

# dynamics-crm-2011 - 如何在 CRM 2011 中为包含两个甚至更多实体的仪表板制作图表？

> ID：15827302
> 
> 赞同：1
> 
> 时间：2013-04-05T06:28:30.647
> 
> 标签：dynamics-crm-2011, dynamics-crm, microsoft-dynamics, dynamics-crm-online, fetchxml

我对仪表板 CRM 2011 很感兴趣。似乎为了让用户更好地查看，我们必须创建一个特定的工作流或 FormXML 或 FetchXML。

例如，我想知道为 CRM 2011 中的仪表板制作一个图表，其中包括两个实体（帐户和联系人，或其他）？

我想这可以通过使用 FetchXML 来实现，但是我没有找到任何关于该问题的文章。

我知道我分别为帐户和联系人制作图表并将它们导出到 XML 文件中，所以我认为有一种方法可以将两者结合在一个图表中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T08:19:02.363

图表\图表没有特定的 FetchXml，因此您可以在报告中使用 FetchXml 搜索报告示例。获取 FetchXml 的一种方法是执行高级查找并下载 FetchXml。要加入实体，您需要使用节点。查看一些包含 FetchXml 示例的文章：

*   [http://www.pedroinnecco.com/2011/09/dynamics-crm-creating-a-radar-chart/](http://www.pedroinnecco.com/2011/09/dynamics-crm-creating-a-radar-chart/)
*   [http://msdn.microsoft.com/en-us/library/gg328117.aspx](http://msdn.microsoft.com/en-us/library/gg328117.aspx)

# visual-c++ - 编译 64 位 COM excel 插件的 ATL 错误

> ID：15827305
> 
> 赞同：0
> 
> 时间：2013-04-05T06:28:47.833
> 
> 标签：visual-c++, com, excel-2010, atl

我有一个 C++ ATL COM 添加，它实现了一些引用 Excel API 的实用程序函数：

```
void DoSomething(CComPtr<Excel::Range> &masterCell)
{
    // ...
    CComPtr<Excel::Range> cell = masterCell->Offset[vertical][horizontal];
    // ...
} 
```

在为 x64 编译 excel 插件时，我遇到了很多虚假错误，例如：

```
cannot convert from 'Excel::Range' to 'ATL::CComPtr<T>' 
```

但是，当我为 Win32 编译时没有问题。辅助实用程序函数没有作为 excel UDF 公开，所以我认为[这个问题](https://stackoverflow.com/questions/11768016/vs-com-project-compiles-in-32bit-but-throws-error-c2259-when-trying-to-compile-6)不适用，因为该函数没有`STDMETHODIMP`一部分。

有任何想法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T21:47:57.060

`CComPtr`接受一个接口作为模板参数，而`Range`is dispinterface。你需要`CComPtr<Excel::IRange>`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-09T03:30:37.793

嗬！原来我试图在 64 位版本中引用 32 位 excel 安装：

[https://social.msdn.microsoft.com/Forums/en-US/f069ea06-b888-47c0-9ec8-c6cf8a59d9b1/atl-errors-compiling-64bit-com-excel-addin?forum=exceldev](https://social.msdn.microsoft.com/Forums/en-US/f069ea06-b888-47c0-9ec8-c6cf8a59d9b1/atl-errors-compiling-64bit-com-excel-addin?forum=exceldev)

安装 64 位 excel 解决了这个问题。

# javascript - KineticJS - 图像上的图案和填充

> ID：15827307
> 
> 赞同：0
> 
> 时间：2013-04-05T06:28:49.547
> 
> 标签：javascript, canvas, kineticjs, globalcompositeoperation

我有一个用 KineticJS 创建的画布，我正在向该画布添加透明的 PNG 图像。当堆叠在一起时，这会形成一个包含所有不同部分的服装图像。

然后我想做的是让用户点击一个图案，然后用那个图案改变那件衣服的特定部分。所以我需要用该图案填充其中一张图像的不透明部分。我找到了一种不使用 KineticJS 的方法，它看起来像这样：

```
ctx.globalCompositeOperation = 'source-in';
var ptrn = ctx.createPattern(fabricA, 'repeat');
ctx.fillStyle = ptrn;
ctx.fillRect(0, 0, 375, 260); 
```

我的问题是，有没有办法用 KineticJS 执行上述相同的步骤？

此外，我确实首先尝试不使用 KineticJS 来执行此操作，但是当我将上述代码应用于图层时，它会填充所有图像，因为它们都在同一图层上。所以我猜我需要更改我的代码以使用多个图层或将图像添加到单个图层中的组中。我的想法在这里吗？对于我要完成的工作，哪个是更好的选择？多层？还是单层上的多个组？

感谢任何人都可以提供的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:15:50.913

**如果您想进行自定义绘图，请使用 KineticJS 形状对象**

这是一个 KineticJS 对象，可让您准确控制它的绘制方式。

您可以使用合成方法创建叠加层。然后将该绘图代码放入一个函数中，并将该函数提供给 Kinetic Shape 的 drawFunc。

这是 Kinetic.Shape 的骨架：

```
var outfit1 = new Kinetic.Shape({
    drawFunc: function(canvas) {

        // you are passed a canvas to draw your custom shape on
        // so new-up a context and get drawing!
        var context = canvas.getContext();

        context.beginPath();

        // Draw stuff--including your composited overlays
        // You can use any canvas.context drawing commands

    },
    id:"myCustomOutfit"
}); 
```

您可以从此处的示例开始：http: [//www.html5canvastutorials.com/kineticjs/html5-canvas-kineticjs-shape-tutorial/](http://www.html5canvastutorials.com/kineticjs/html5-canvas-kineticjs-shape-tutorial/)

# sql - 从审计表中选择

> ID：15827310
> 
> 赞同：1
> 
> 时间：2013-04-05T06:29:24.010
> 
> 标签：sql, database, sql-server-2008-r2, audit-tables

我有下表

```
column1 column2 newvalue oldvalue 
```

在列中 newvalue oldvalue 是来自其他表的值（外键）。我需要显示引用表中的其他列（即基于主键）。因此，在 select 而不是 newvalue 中，某些键将显示一些与键对应的列。我是新来的，所以如果您想进一步澄清我的问题，我会这样做。提前致谢。

**编辑：** 在第一个表中是列 entityID（来自审核表）、columnName、OldValue、NewValue

第二个表AddressId，city，street，ZIPCode。

在 colmns newvalue 的第一个表中，oldvalue 是来自第二个表的 PK。我需要显示例如老街、新街。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:49:56.783

你需要的是把`JOIN`桌子放在一起。有不同类型的 JOIN，对于您需要使用的情况`INNER JOIN`，原因是 column`newvalue`和 column`oldvalue`是外键。您可以连接两个表，如以下示例：

```
 select column1, column2,
       B.newcolumn1, -- from table B
       c.newcolumn2,  -- from table C
FROM tableA A
inner join tableB B
   on A.newvalue = B.newvalue -- join on FK = PK
inner join tableC C
  on A.oldvalue = c.oldvalue 
```

你可以谷歌如何使用`JOIN`这是一个[链接](http://www.sql-tutorial.net/SQL-JOIN.asp)

# android - 不可点击按钮

> ID：15827313
> 
> 赞同：1
> 
> 时间：2013-04-05T06:29:28.980
> 
> 标签：android, android-widget

在下面的代码`ACTION_WIDGET_CLICKED`不起作用...有人知道为什么吗？ `MY_WIDGET_UPDATE`工作正常。收到敬酒后，我再也看不到`intent.getAction()`了`ACTION_WIDGET_CLICKED`。看来我哪里出错了，按钮单击不会创建广播...

我还区分了 istances 之间的点击，小部件的每个 istances 都有不同的操作要做`ACTION_WIDGET_CLICKED`。示例：在`updateAppWidget`我必须仅将`appWidgetId`单击的小部件传递给 Toast

显现：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="it.fraschi.controllogiardinowg"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="it.fraschi.controllogiardinowg.Configurazione"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_CONFIGURE"/>
            </intent-filter>
        </activity>
        <receiver android:name="ControlloWidget" android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
                <action android:name="it.fraschi.controllogiardinowg.ControlloWidget.ACTION_WIDGET_CLICKED"/>
                <action android:name="it.fraschi.controllogiardinowg.ControlloWidget.MY_WIDGET_UPDATE" />
            </intent-filter>
            <meta-data android:name="android.appwidget.provider" android:resource="@xml/widget_provider" />
        </receiver>
    </application>

</manifest> 
```

小部件代码：

```
public class ControlloWidget extends AppWidgetProvider {
    public static String ACTION_WIDGET_CLICKED = "it.fraschi.controllogiardinowg.ControlloWidget.ACTION_WIDGET_CLICKED";
    public static String MY_WIDGET_UPDATE = "it.fraschi.controllogiardinowg.ControlloWidget.MY_WIDGET_UPDATE";
    static String strWidgetText = "";
    public static Boolean choice = false;

        @Override
         public void onReceive(Context context, Intent intent) {
          // TODO Auto-generated method stub
          super.onReceive(context, intent);
          Toast.makeText(context, intent.getAction(), Toast.LENGTH_LONG).show();
          if(MY_WIDGET_UPDATE.equals(intent.getAction())){
              Bundle extras = intent.getExtras();
               if(extras!=null) {
                AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);
                ComponentName thisAppWidget = new ComponentName(context.getPackageName(), ControlloWidget.class.getName());
                int[] appWidgetIds = appWidgetManager.getAppWidgetIds(thisAppWidget);

                onUpdate(context, appWidgetManager, appWidgetIds);
               }
              Toast.makeText(context, "AUTOUPDATE", Toast.LENGTH_LONG).show();
          }
          if(ACTION_WIDGET_CLICKED.equals(intent.getAction())){
                Bundle extras = intent.getExtras();
                    /*if(extras!=null) {
                        AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);
                        ComponentName thisAppWidget = new ComponentName(context.getPackageName(), ControlloWidget.class.getName());
                        int[] appWidgetIds = appWidgetManager.getAppWidgetIds(thisAppWidget);*/
                        choice=true;
                        Toast.makeText(context, "WIDGET PREMUTO", Toast.LENGTH_LONG).show();
                        //onUpdate(context, appWidgetManager, appWidgetIds);

              // }

            }
         }

        @Override
        public void onEnabled(Context context) {
            // TODO Auto-generated method stub
            //super.onEnabled(context);

            Toast.makeText(context, "onEnabled()", Toast.LENGTH_LONG).show();
        }

        @Override
        public void onUpdate(Context context, AppWidgetManager appWidgetManager,int[] appWidgetIds) {
            // TODO Auto-generated method stub
            //super.onUpdate(context, appWidgetManager, appWidgetIds);

            final int N = appWidgetIds.length;
            for (int i=0; i<N; i++) {
                int appWidgetId = appWidgetIds[i];

                updateAppWidget(context, appWidgetManager, appWidgetId);

            }
             RemoteViews remoteWidget = new RemoteViews(context.getPackageName(),R.layout.widget);

        }

        public static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,int appWidgetId){
                //TestOnClick
               RemoteViews remoteViews = new RemoteViews(context.getPackageName(),R.layout.widget);
               Intent active2 = new Intent(context, ControlloWidget.class);
               active2.setAction(ACTION_WIDGET_CLICKED);
               PendingIntent actionPendingIntent2 = PendingIntent.getBroadcast(context, appWidgetId, active2, 0);
               remoteViews.setOnClickPendingIntent(R.id.btnEsegui, actionPendingIntent2);

                if (choice){
                    RemoteViews updateViews = new RemoteViews(context.getPackageName(), R.layout.widget);
                    updateViews.setTextViewText(R.id.btnEsegui, "[" + String.valueOf(appWidgetId) + "]" + strWidgetText + Configurazione.getColor(context, Configurazione.NOME, appWidgetId));
                    appWidgetManager.updateAppWidget(appWidgetId, updateViews);

                    Toast.makeText(context, "ESECUZIONE_ " + String.valueOf(appWidgetId), Toast.LENGTH_LONG).show();

                }else{
                        int number = (new Random().nextInt(100));
                        strWidgetText = Integer.toString(number);

                        RemoteViews updateViews = new RemoteViews(context.getPackageName(), R.layout.widget);
                        updateViews.setTextViewText(R.id.btnEsegui, "[" + String.valueOf(appWidgetId) + "]" + strWidgetText + Configurazione.getName(context, Configurazione.NOME, appWidgetId));
                        appWidgetManager.updateAppWidget(appWidgetId, updateViews);

                        Log.d("LOG_UPDATE", "Log Update, Widget n."+String.valueOf(appWidgetId));
                        //Toast.makeText(context, "UPDATE_" + String.valueOf(appWidgetId), Toast.LENGTH_LONG).show();
                    }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T18:51:49.217

似乎您没有调用where被调用`appWidgetManager.updateAppWidget(...)`的正确实例。它应该是这样的：`updateViews``setOnClickPendingIntent`

```
final RemoteViews updateViews = new RemoteViews(context.getPackageName(), R.layout.widget_layout);            
updateViews.setTextViewText(...);
...
Intent intent = new Intent(context, MyWidget.class);
intent.setAction(ACTION_WIDGET_CLICKED+String.valueOf(appWidgetId));
PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, intent, 0);
updateViews.setOnClickPendingIntent(R.id.mywidget_id, pendingIntent);
appWidgetManager.updateAppWidget(appWidgetId, updateViews); 
```

并在`OnReceive`：

```
String action = intent.getAction();
if (action.startsWith(ACTION_WIDGET_CLICKED))
{
  int widgetId = Integer.parseInt(action.substring(ACTION_WIDGET_CLICKED.length()));
  ...
} 
```

# c# - 如何在正则表达式中只允许一个连字符 (-)、一个空格 ()、一个撇号 (')

> ID：15827314
> 
> 赞同：-5
> 
> 时间：2013-04-05T06:29:29.327
> 
> 标签：c#, javascript, regex

我有一个文本框，我可以在其中获取用户的姓氏。如何在正则表达式中只允许一个连字符 (-)、一个空格 ()、一个撇号 (')

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:31:11.413

我不确定您是否需要正则表达式（除非您特别需要连字符、空格和撇号位于您未指定的字符串中的特定位置）。

只需逐个字符地遍历字符串并计算连字符、空格和撇号。

正则表达式非常适合匹配字符模式，并且功能非常强大，但恕我直言，在某些情况下，它们不仅是矫枉过正，而且可能只是适合这项工作的错误工具。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:36:22.330

您可以对要避免的 3 个字符中的每一个使用[负前瞻：](http://www.regular-expressions.info/lookaround.html)

```
^(?!.*-.*-.*)(?!.*'.*'.*)(?!.*\s.*\s.*)[a-zA-Z- ']+$ 
```

# c# - 在c#中生成PDF后自动打印？

> ID：15827318
> 
> 赞同：2
> 
> 时间：2013-04-05T06:29:44.790
> 
> 标签：c#, vb.net

我正在开发一个计费应用程序，在该项目中我需要生成一个 PDF，为此我使用“iTextSharp.dll”来生成 pdf。它工作正常。生成 PDF 后，我需要自动打印该 PDF 文件而无需任何操作。我的PDF生成代码如下：

```
PdfWriter writer = PdfWriter.GetInstance(document, new FileStream("d:\\Bill1.pdf", FileMode.Create));
document.Open();
document.Add(table1);
document.close(); 
```

# bash - 通配符单个文件

> ID：15827326
> 
> 赞同：5
> 
> 时间：2013-04-05T06:30:02.207
> 
> 标签：bash, glob

鉴于以下文件

```
$ ls
bar.txt  baz.txt  qux.txt 
```

我只想将第一个`txt`文件保存到变量中。我试过这个

```
$ var=*.txt 
```

但它只是保存所有文件

```
$ echo $var
bar.txt baz.txt qux.txt 
```

如果可能的话，我想使用通配符来做到这一点，这`extglob`没关系。此处的文件名称中没有空格，但我希望该解决方案也适用于带有空格的文件。

使用[kamituel的回答](https://stackoverflow.com/a/15827364)后，我意识到这也可以

```
$ set *.txt

$ echo $1
bar.txt 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T06:33:01.077

用这个：

```
$ var=(*.txt)
$ echo $var
bar.txt 
```

这里的关键是使用括号 - 将元素放入数组中。因此`echo $var`打印数组 ( `bar.txt`) 中的第一个元素。您可以通过打印整个数组来看到：

```
$ echo ${var[@]}
bar.txt baz.txt qux.txt 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T14:02:12.067

您可以（稍微）滥用该`for`语句来设置变量：

```
$ for var in *.txt; do break; done
$ echo $var
bar.txt 
```

从好的方面来说，`var`只包含第一个文件的名称，而不是与模式匹配的所有内容。不利的一面是，这比 kamituel 提供的数组解决方案更冗长，并且存储所有匹配文件的开销在现实生活中不太可能成为问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T06:13:49.573

```
$ touch "test file1.txt"
$ touch "test file2.txt"
$ var=`ls *.txt | head -1`
$ echo $var
test file1.txt` 
```

这将返回第一个文件。

要找到最后一个，请执行“ls -r”而不是“ls”或“tail -1”而不是“head -1”。

# java - EST 时区与 EST5EDT 有何不同？

> ID：15827329
> 
> 赞同：11
> 
> 时间：2013-04-05T06:30:17.027
> 
> 标签：java, timezone, timezone-offset

EST 与 EST5EDT 有何不同？EST 不考虑 DST 吗？

我写了一个小的 java 片段来找出差异，输出说 EST5EDT 考虑了 DST 而 EST 没有

```
SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MMM-dd HH:mm:ss.SSS"); 
dateFormat.setTimeZone(TimeZone.getTimeZone("EST5EDT")); 
System.out.println("EST5EDT" +dateFormat.format(new Date()));
    /* prints EST5EDT2013-Apr-05 02:24:16.471 */  

dateFormat = new SimpleDateFormat("yyyy-MMM-dd HH:mm:ss.SSS"); 
dateFormat.setTimeZone(TimeZone.getTimeZone("EST")); 
System.out.println("EST "+dateFormat.format(new Date()));
   /*prints EST 2013-Apr-05 01:24:16.472 */ 
```

但是下面的片段产生了令人震惊的输出

```
System.out.println("EST5EDT offset "+TimeZone.getTimeZone("EST5EDT").getRawOffset()/(60*60*1000));
/* prints 5 instead of 4 (DST) */ 
```

有人可以解释一下这里到底发生了什么吗？为什么 getRawOffset 返回 5 而不是 4 ？如何使用 DST 获取时区偏移量？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-05T06:33:38.417

> EST 不考虑 DST 吗？

不。根据定义，EST 是“东部标准时间”或 UTC-5:00。

EDT 是“东部夏令时间”或 UTC-4:00。

这有点令人困惑，因为例如，纽约在 EST 和 EDT 之间切换，而西雅图在 PST 和 PDT 之间切换。

有时人们会错误地说“我会在东部时间下午 1 点给你打电话”，而实际上他们的意思是说“我会在东部时间下午 1 点给你打电话”，这适当地考虑了是否是夏令时。

这个[维基页面](http://en.wikipedia.org/wiki/Eastern_Time_Zone)有更多信息。

> 为什么 getRawOffset 返回 5 而不是 4

[Timezone.getRawOffset始终返回](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/TimeZone.html#getRawOffset%28%29)**标准**时间的毫秒数，即 5 * (60 * 60 * 1000)

由于 UTC 偏移量会根据一年中的某一天而变化（以考虑 DST），因此您需要使用[getOffset](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/TimeZone.html#getOffset%28int,%20int,%20int,%20int,%20int,%20int%29)并为其提供您想要使用的日期。

# matlab - 目录中的图像格式

> ID：15827338
> 
> 赞同：1
> 
> 时间：2013-04-05T06:31:10.673
> 
> 标签：matlab

我有一段代码

```
imgPath = 'F:\SIFT\images\'; 
dCell = dir([imgPath '*.jpg']); 
```

在这里，我打开一个目录并获取 dCell 中所有 jpg 类型的图像的列表，但我真正想要的不仅仅是 jpg，甚至是其他图像格式，如 png 或 tiff 等要考虑...请帮助！谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:38:19.270

我认为您必须自己构建数组：

```
imgPath = 'F:\SIFT\images\'; 
dCell = dir([imgPath '*.jpg']); 
dCell = {dCell; dir([imgPath '*.gif'])};
dCell = {dCell; dir([imgPath '*.jpg'])};
%etc... 
```

`[]`如果以上内容应该在or中，我不是 100% `{}`，即可能是`dCell = [dCel; dir([imgPath '*.gif'])];`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:05:06.053

假设您的文件夹`F:\SIFT\images\`仅包含必要的图像文件，您可以简单地使用：

```
imgPath = 'F:\SIFT\images\';    %Specifies the directory path as a string.
dCell = dir(imgPath);    %Gets all entries in the directory; similar to `dir` command in Windows or the `ls` command in linux.

%By default, the first two output entries of `dir` are `.` and `..` which refer to the current and parent directories respectively.
dCell = dCell(3:end);    %Eliminates the default dir entries `.` and `..` by truncating the first two array elements. 
```

现在可以通过以下方式访问结果：

```
dCell(1)    %Entry corresponding to the first file.
dCell(2)    %Entry corresponding to the second file. 
```

等等。

的每个输出条目`dCell`都是`struct`具有以下字段的：

```
name
date
bytes
isdir
datenum 
```

要获取单个字段，请使用：

```
dCell.name 
```

等等。

要获取特定输出的单个字段`struct`，请使用：

```
dCell(1).name
dCell(3).date 
```

等等。

更多相关信息，您可以尝试`help dir`和`help struct`。

# css - 表格的每一行都有双边框

> ID：15827341
> 
> 赞同：1
> 
> 时间：2013-04-05T06:31:14.650
> 
> 标签：css, html-table

有一张我给边框的桌子。在给出边界后，在谷歌搜索后出现了双重边界，我发现边界崩溃是我的救星。但是在尝试以各种可能的方式使用它之后它不起作用。

我要删除的底部有一个双边框。

为了更好地理解附加的屏幕截图：

![在此处输入图像描述](https://i.stack.imgur.com/bIZ3e.png)

我想删除每个单元格之后的双边框。

标记。

```
<table border="1" cellpadding="2" cellspacing="0" style="border-collapse: collapse;">
    <thead>
       <tr>
         <th >
             Login Name
         </th>
         <th>
             SheetName
         </th>
       </tr>
   </thead>
   <tr>
       <td>aaa</td>
       <td>abc</td>
   </tr>
   <tr>
       <td>asdfasdf</td>
       <td>aasdfsadfbc</td>
   </tr>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:59:24.637

需要 CSS 来提供明确的答案。正如其他人所说，确保没有任何全局 CSS 文件更改您的 HTML。看起来你的 CSS 中有一个`tr {margin-top:10px;}`集合，或者提供类似效果的东西。

只是出于好奇，您为什么要使用 HTML cellpadding 属性？CSS padding 属性可以执行相同的功能并提供更多的灵活性。您还会发现，将样式 (CSS) 与 HTML 分开会使更改和更新比返回修改每个内联样式更容易。

```
<table id="table">
        <thead>
            <tr>
                <th >
                    Login Name
                </th>
                <th>
                    SheetName
                </th>
            </tr>
        </thead>
<tr><td>aaa</td><td>abc</td></tr>
<tr><td>asdfasdf</td><td>aasdfsadfbc</td></tr>
    </table> 
```

CSS：

```
#table {
   padding: 10px 5px 10px 5px;
   //this is shortand for top right bottom left
   border-collapse: collapse;
   //this is becoming deprecated and is mainly used to support older versions of IE
} 
```

# javascript - 如何让这个图表显示在 CSS 中的数据表旁边？

> ID：15827342
> 
> 赞同：0
> 
> 时间：2013-04-05T06:31:18.690
> 
> 标签：javascript, html, css, html-table, google-visualization

请参考这个 jsfiddle：[Google 图表 API 示例](http://jsfiddle.net/s4sm3/2/)

这个 CSS 是否有一些明显的东西可以揭示我如何让图表显示在数据表的右侧而不是它的下方？还是图表位置由 Javascript 控制？你能提供一个解决方案吗？我尝试了各种 CSS 方法从数据表中拆分图表，但没有成功。

该图表确实显示在我的浏览器中，但我无法让它在 jsfiddle 中工作。

**（PS Javascript 在上面的 jsfiddle 中——它很长......）**

这是HTML：

```
<!DOCTYPE html>
  <head>
    <script type="text/javascript" src="//www.google.com/jsapi"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="js/attc.googleCharts.js"></script>
    <link rel="stylesheet" type="text/css" href="cs/attcSandbox.css">
  </head>
  <body>
    <div class="mainContent">
        <table class="left"
            title="Attendance Percentages" 
            id="AttendancePercentages" 
            summary="pieDescription" 
            data-attc-createChart="true"
            data-attc-colDescription="pieDescription" 
            data-attc-colValues="pieValues" 
            data-attc-location="AttendancePercentagesPie" 
            data-attc-hideTable="true" 
            data-attc-type="pie"
            data-attc-googleOptions='{"is3D":true}'
            data-attc-controls='{"showHide":true,"create":true,"chartType":true}'
            >
            <thead>
                <tr>
                    <th id="pieDescription">Description</th>
                    <th id="pieValues">Sessions</th>
                    <th>%</th>
                    <th>Other</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Present</td>
                    <td>405</td>
                    <td>89</td>
                    <td>5</td>
                </tr>
                <tr>
                    <td>Missing</td>
                    <td>1</td>
                    <td>0</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>Authorised Absent</td>
                    <td>36</td>
                    <td>7</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td>Unauthorised Absent</td>
                    <td>1</td>
                    <td>0</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>Late</td>
                    <td>30</td>
                    <td>2</td>
                    <td>1</td>
                </tr>
            </tbody>
        </table>
        <div class="right" id="AttendancePercentagesPie"></div>
        </div>
  </body>
</html> 
```

这是CSS：

```
/* @media screen { */
/* override css in main */
body{
    margin-left: 5px; margin-right: 5px;
    margin-top:5px;
    width:100%;
    position:relative;
    left:0px;
    top:0px;
    z-index:0;
    background-color:#FFFFFF;
    color:#47535E;
    font-size:0.7em;
    font-family: Calibri, sans-serif;
}

div.left {
    border: 2px solid #CFBFAF;
    width: 49%;
    float: left;
}

div.right {
    border: 2px solid #CFBFAF;
    width: 49%;
    float: right;
}

div.mainContent{
    margin-left: 20px; margin-right: 20px;
    width:400px;
}
table{
    margin-left: auto; margin-right: auto;
    width:98%;
    border:1px solid #E6E6E6;
    border-radius:5px;
    box-sizing: border-box;
    background-color:#F6F6F6;
    border-collapse: collapse;
}
table td,table th{
    border:1px solid #E6E6E6;
    border-top:1px solid #FFFFFF;
}
table th{
    background-color:#FFFFFF;
}
/*attc classes*/
/*attc classes*/
div.attcControls{
    width:100%;
    border:1px solid #E6E6E6;
    border-radius:5px;
    box-sizing: border-box;
    background-color:#F6F6F6;
}
div.attcControls ul{
    overflow:hidden;
    padding:2px 2px 2px 2px;
    margin:0px;
}
div.attcControls ul li{
    margin:0px;
    padding:0px 0px 0px 10px;
    list-style-type: none;
    display: inline;
    float:right;
    clear:none;
}
div.attcControls ul li a{
    border:1px solid #9CDFF7;
    border-radius:3px;
    box-sizing: border-box;
    background-color:#86D6F5;
    padding:2px;
    color:white;
    text-decoration:none;
    display:inline-block;
    background-image:none;
    font-weight:normal;
}
div.attcControls ul li a:hover{
    border:1px solid white;
    color:#47535E;
}
div.attcControls ul li fieldset{
    border:1px solid #9CDFF7;
    border-radius:3px;
    box-sizing: border-box;
    background-color:#86D6F5;
    padding:2px;
    margin:0px;
    color:white;
    text-decoration:none;
}
div.attcControls ul li fieldset label{
    padding-right:5px;  
}
div.attcControls ul li fieldset select{
    font-size:1em;
    padding:0px;
    margin:0px;
}

input.attcEditCheckRadioBoxes{
    display: block;
    margin-left: auto;
    margin-right: auto;
}
/* } */ 
```

（[Apache 2.0许可](http://www.apache.org/licenses/LICENSE-2.0)下的[源代码链接](https://code.google.com/p/auto-table-to-chart/)）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:53:40.040

首先你要指定 div.left 有几件事，因此 table 上的类永远不会从它的 left 类名继承任何属性。其次，表格的宽度为 98%，这意味着它将占据几乎整个块并强制所有内容高于或低于。理想情况下，您希望左右类以 49% 的宽度应用，您应该可以，边框左右添加 2px，等于每个容器总共 4px，并且本质上应该在 400px 宽的 .mainContent 中达到 1% area 一些浏览器可能不完全遵守这个大小，所以你可能需要稍微减小宽度以适应边框。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:55:35.880

这是一个[修改后的 JsFiddle](http://jsfiddle.net/s4sm3/4/)，我设法让它浮动到表格的右侧。

简而言之，我将此添加到您的 css 中：

```
.right{
    float: right;
    width: 40%;
}
.left{
    float: left;
    width: 60%;
} 
```

并从您的表格中删除了固定宽度（98%）。

我还建议让主体更宽以适合他们两个，请注意，如果右侧浮动元素内的内容是一个大块元素（如图表），它可能会爆炸（要么在桌子下方或在桌子外面）主体）。

（如果您正在使用引导程序，或者由于框架而导致 .right 和 .left 类有其他原因，请考虑为固定的 40% 和 60% 宽度创建一个单独的类，或使用内置跨度）

# c# - 什么时候（不）两个具有相同内容的字符串共享相同的内存？

> ID：15827344
> 
> 赞同：3
> 
> 时间：2013-04-05T06:31:35.690
> 
> 标签：c#, java, .net, memory-management, literals

来自问题的[两个具有相同内容的字符串是否会存储在相同的内存位置？](https://stackoverflow.com/questions/15805578/will-two-strings-with-same-content-be-stored-in-the-same-memory-location)

拥有 Java 代码

```
String s1="Java"; 
```

这个字符串会被分配在相同的内存位置（或多重）：

*   如果要启动同一个程序多次并行（同时）执行它？

## 可能的答案：

我目前是 C# 开发人员（尽管在上个千年用 Java 编程）。

我问这个问题是因为我相信 .NET CLR 和 Java (JVM) 之间是一样的，我希望能得到 .NET 应用程序的答案（但不知何故，经常遇到的“应用程序”池术语有疑问）。

所以，它似乎是（抱歉在询问之前没有详尽搜索）：

*   [CLR/JVM 是否为所有正在运行的 .net/java 应用程序保留一个实习生池？](https://stackoverflow.com/questions/6568905/does-the-clr-jvm-keep-one-single-intern-pool-for-all-running-net-java-apps)

答案是~~字符串~~实习生池由同一 JVM 或 .NET CLR 的所有实例/程序共享。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:37:24.983

```
Is string pool created per class basis or per JVM basis? 
```

每个 JVM 有一个字符串池……除非您使用的是一些奇特的 JVM，而他们决定以不同的方式实现它。

我想这可以回答它，对吧？

从[类似的问题](https://stackoverflow.com/questions/11175411/some-confusion-about-string-pool)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T07:03:27.227

相同的内存位置：

```
String s1="Hola";
String s2="Hola"; 
```

不同的内存位置：

```
String s1="Hola";
String s2=new String("Hola"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T06:50:13.143

@gennady-vanin-新西伯利亚....

String s1="Java";String s2="Java";String s3="Java";String s4="Java";

1.  *StringConstantPool*位置中可用的上述所有对象都是所有对象都指向一个（“Java”）位置

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T06:37:11.007

相同内容的字符串将共享相同 JVM 的每个实例的相同空间

# sql-server - dll 在 Windows 2012 上未找到异常 Microsoft.SqlServer.BatchParser.dll，用于 Sql Server 2012

> ID：15827346
> 
> 赞同：1
> 
> 时间：2013-04-05T06:31:36.973
> 
> 标签：sql-server, sql-server-2012, dllnotfoundexception

我正在开发前端 VS2010 C# 4.0，后端 MS Sql Server 2012。操作系统 - Windows Server 2012。

我收到此错误消息。无法加载文件或程序集“Microsoft.SqlServer.BatchParser，Version=10.0.0.0，Culture=neutral，PublicKeyToken=89845dcd8080cc91”或其依赖项之一。该系统找不到指定的文件。

这个错误的原因是因为操作系统是 64 位的，而 BatchParser.dll 是 32 位的。我找到了 sql server 2005 和 2008 的解决方案，但是当我要安装升级时，它会给出消息“已安装更高版本。”。如果提供的修复程序不适用于 Sql 2012，请在 Sql Server 2012 上提出此问题的解决方案。

# sql - 可以消除这个子查询吗？

> ID：15827347
> 
> 赞同：0
> 
> 时间：2013-04-05T06:31:39.057
> 
> 标签：sql, sql-server, tsql, sql-server-2012

我有一个文档表，其中的字段为

```
DocumentID int - PK and autoincrement 
LastStatusChangedDateTime - datetime 
JurisdictionID - int 
DocumentStatusID - int 
```

现在我想引入一个名为`CanChangeStatus`. 这就像一个队列。因此，如果文档是第一个，则可以更改其状态。这是我的查询：

```
Select d.DocumentID,  
(
    Select Cast(Case When d.DocumentID = v.DocumentID Then 1 Else 0 End as bit)
    From
    (
        Select Top 1 DocumentID
        From Documents
        Where JurisdictionID = d.JurisdictionID
            And
        DocumentStatusID = d.DocumentStatusID
        Order By LastStatusChangedDateTime 
    ) v
) as CanChangeStatus    
From Documents d 
```

索引在`JurisdictionID`和上`DocumentStatusID`。罪魁祸首是子查询 - 我试图计算的方式`CanChangeStatus`。有什么办法可以加快速度或将此子查询转换为联接，因为联接*大多*比子查询快？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T06:40:38.860

您应该能够使用聚合函数（[SQLFiddle](http://sqlfiddle.com/#!6/ca3c9/4)上的示例）来执行此操作：

```
SELECT DocumentID,
       CASE WHEN ROW_NUMBER() OVER ( PARTITION BY JurisdictionID, DocumentStatusID
                                     ORDER BY LastStatusChangedDateTime )
         = 1 THEN 1 ELSE 0 END AS Bit 
FROM Documents 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:38:30.907

```
Select Cast(Case When TOP_DocumentID = DocumentID Then 1 Else 0 End as bit), DOCUMENTID
FROM
(
Select TOP 1 DOCUMENT_ID TOP_DocumentID, D.DOCUMENTID
From Documents d, DOCUMENTS J
Where J.JurisdictionID = d.JurisdictionID
And J.DocumentStatusID = d.DocumentStatusID
Order By J.LastStatusChangedDateTime 
) A 
```

# android - android - 如何在android中打开本地文件

> ID：15827348
> 
> 赞同：3
> 
> 时间：2013-04-05T06:31:47.673
> 
> 标签：android, file, kml

我正在尝试打开我的 sdcard 中的本地 kml 文件，但出现错误。在 stackoverflow 本身中，我看到了一些与此相关的问题，但没有得到解答，有些与此无关。

[android - 如何在android中打开kml文件](https://stackoverflow.com/questions/15811558/android-how-to-open-kml-file-in-android)

[Android - 如何使用 Intent 和 KML 打开谷歌地图？](https://stackoverflow.com/questions/7965747/android-how-to-open-google-maps-with-intent-and-kml)

我的代码

```
public void openKMLFile(View v)

    final Intent myIntent = new Intent(android.content.Intent.ACTION_VIEW, 
            Uri.parse("geo:0,0?q=file://" + Environment.getExternalStorageDirectory() + "/test.kml"));
    startActivity(myIntent);
} 
```

Android Manifest 文件我已授予此权限

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.demo"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >

        <activity
            android:name="com.example.demo.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

日志错误：

```
04-05 11:42:01.806: E/AndroidRuntime(833): FATAL EXCEPTION: main
04-05 11:42:01.806: E/AndroidRuntime(833): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.demo/com.example.demo.MainActivity}: android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=geo:0,0?q=file:///mnt/sdcard/10.kml }
04-05 11:42:01.806: E/AndroidRuntime(833): Caused by: android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=geo:0,0?q=file:///mnt/sdcard/10.kml } 
```

非常感谢您的帮助。谢谢

# html - 从混合的 xml 和 HTML 中仅复制 HTML

> ID：15827349
> 
> 赞同：2
> 
> 时间：2013-04-05T06:31:50.363
> 
> 标签：html, xslt

我们有一堆文件是 html 页面，但其中包含额外的 xml 元素（都以我们的公司名称“TLA”为前缀）为我现在正在重写的旧程序提供数据和结构。

示例表格：

```
<html >
<head>
    <title>Highly Simplified Example Form</title>
</head>
<body>
    <TLA:document xmlns:TLA="http://www.tla.com">
        <TLA:contexts>
            <TLA:context id="id_1" value=""></TLA:context>
        </TLA:contexts>
        <TLA:page>
            <TLA:question id="q_id_1">
                <table>
                    <tr>
                        <td>
                            <input id="input_id_1" type="text" />
                        </td>
                    </tr>
                </table>
            </TLA:question>
        </TLA:page>
        <!-- Repeat many times -->
    </TLA:document>
</body>
</html> 
```

我的任务是编写一个预处理器，它将只复制 html 元素，并将它们的属性和内容完整地复制到一个新文件中。

像这样：

```
<html >
<head>
    <title>Highly Simplified Example Form</title>
</head>
<body>
    <table>
        <tr>
            <td>
                <input id="input_id_1" type="text" />
            </td>
        </tr>
    </table>
    <!-- Repeat many times -->
</body>
</html> 
```

我采用了使用 XSLT 的方法，因为这是我为不同文件[提取 TLA 元素所需的方法。](https://stackoverflow.com/questions/15813724/copy-all-elements-of-a-namespace-and-nothing-else)到目前为止，这是我拥有的 XSLT：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:msxsl="urn:schemas-microsoft-com:xslt" exclude-result-prefixes="msxsl"
    xmlns:mbl="http://www.mbl.com">
  <xsl:output method="xml" indent="yes"/>
  <xsl:strip-space elements="*" />
  <xsl:template match="mbl:* | mbl:*/@* | mbl:*/text()"/>
  <xsl:template match="@*|node()">
    <xsl:copy>
      <xsl:apply-templates select="@*|node()"/>
    </xsl:copy>
  </xsl:template>    
</xsl:stylesheet> 
```

但是，这只产生以下内容：

```
<html >
<head>
    <title>Highly Simplified Example Form</title>
</head>
<body>
</body>
</html> 
```

如您所见，TLA:document 元素中的所有内容都被排除在外。需要在 XSLT 中进行哪些更改以获取所有 html 但过滤掉 TLA 元素？

或者，有没有更简单的方法来解决这个问题？我知道几乎每个浏览器都会忽略 TLA 元素，那么有没有办法使用 HTML 工具或应用程序来获得我需要的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:40:13.380

专门针对 HTML 元素会很困难，但如果您只想从 TLA 命名空间中排除内容（但仍包括 TLA 元素包含的任何非 TLA 元素），那么这应该可行：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:mbl="http://www.tla.com" exclude-result-prefixes="mbl">
  <xsl:output method="xml" indent="yes"/>
  <xsl:strip-space elements="*" />

  <xsl:template match="@*|node()" priority="-2">
    <xsl:copy>
      <xsl:apply-templates select="@*|node()"/>
    </xsl:copy>
  </xsl:template>

  <!-- This element-only identity template prevents the 
       TLA namespace declaration from being copied to the output -->
  <xsl:template match="*">
    <xsl:element name="{name()}">
      <xsl:apply-templates select="@* | node()" />
    </xsl:element>
  </xsl:template>

  <!-- Pass processing on to child elements of TLA elements -->  
  <xsl:template match="mbl:*">
    <xsl:apply-templates select="*" />
  </xsl:template>
</xsl:stylesheet> 
```

*如果您想排除任何具有任何*非空命名空间的内容，也可以使用它：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:mbl="http://www.tla.com" exclude-result-prefixes="mbl">
  <xsl:output method="xml" indent="yes"/>
  <xsl:strip-space elements="*" />

  <xsl:template match="@*|node()" priority="-2">
    <xsl:copy>
      <xsl:apply-templates select="@*|node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="*">
    <xsl:element name="{name()}">
      <xsl:apply-templates select="@* | node()" />
    </xsl:element>
  </xsl:template>

  <xsl:template match="*[namespace-uri()]">
    <xsl:apply-templates select="*" />
  </xsl:template>
</xsl:stylesheet> 
```

在您的示例输入上运行任何一个时，结果是：

```
<html>
  <head>
    <title>Highly Simplified Example Form</title>
  </head>
  <body>
    <table>
      <tr>
        <td>
          <input id="input_id_1" type="text" />
        </td>
      </tr>
    </table>
  </body>
</html> 
```

# ios - OSStatus-43 错误

> ID：15827356
> 
> 赞同：0
> 
> 时间：2013-04-05T06:32:21.960
> 
> 标签：ios, sqlite

我在 SQLite 数据库中保留录制的音频文件参考。当我获取数据并尝试播放时，我发现错误 OSStatus-43。如果有什么解决办法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-03T21:50:27.537

那是`fnfErr`“找不到文件”。如果没有更具体的信息或代码，我无法为您提供更多帮助。可能 Core Audio 正在尝试使用您的音频打开文件并且路径错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-04T21:55:45.707

尝试通过 http 播放远程 mp3 文件时遇到错误 -43。我通过使用 an`AVPlayer`而不是`AVAudioPlayer`.

# html - 在 JTextPane 底部显示 html 文本

> ID：15827357
> 
> 赞同：0
> 
> 时间：2013-04-05T06:32:24.697
> 
> 标签：html, jtextpane

我一直在尝试使用 html 在 JTextPane 区域的底部显示一些文本。由于它不支持样式，我使用了以下代码：

```
<!-- saved from url=(0040)file:///C:/Users/tusim/Desktop/test.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
table { font-family:"tahoma"; font-size:11; width: 100%
}
td, th {
background-color: white}
.header {font-weight:bold;}
.record-first {font-weight:bold; min-width: 130px;}
</style>
</head>
<body><table border="0" cellpadding="2" cellspacing="1" height="95%"><tbody><tr height="95%"><td width="32%" height="95%" valign="top"><div style="background-color: black; width: 100%;"><table border="0" cellpadding="2" cellspacing="1">
<tbody><tr class="header"> <td align="center">Col 1</td> </tr><tr><td>Val 1</td></tr></tbody></table></div></td><td></td><td width="32%" valign="top"><div style="background-color: black; width: 100%;"><table border="0" cellpadding="2" cellspacing="1">
<tbody><tr class="header"> <td align="center">Col 2</td> </tr><tr><td>Val 2</td></tr></tbody></table></div></td><td></td><td width="32%" valign="top"><div style="background-color: black; width: 100%;"><table border="0" cellpadding="2" cellspacing="1">
<tbody><tr class="header"> <td align="center">Col 3</td> </tr><tr><td>Val 3</td></tr></tbody></table></div></td></tr><tr height="5%" valign="bottom"><td colspan="5" valign="bottom">some text</td></tr></tbody></table></body></html> 
```

但是虽然它在浏览器上工作，而不是在 JTextPane 中。有人可以帮帮我吗。

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T00:00:26.287

你确定 JTextPane 支持表格吗？

不要使用 JTextPane，而是使用 JEditorPane。它也可以渲染 HTML，尽管它有一个叫做 的东西 `HTMLEditorKit`，可以解析 HTML 文档。

这是一个例子：

```
HTMLEditorKit kit = new HTMLEditorKit(); // Creates an instance
editorPane.setEditorKit(kit); // Sets the Editor Kit 
```

# jquery - 如何按名称在图层上设置可拖动（假）

> ID：15827360
> 
> 赞同：0
> 
> 时间：2013-04-05T06:32:33.337
> 
> 标签：jquery, jquery-ui, kineticjs

我的程序有问题。我想将图层的 setDraggable 设置为 false。但我不知道如何设置它。当用户单击按钮时，我创建了图层。并且该层具有不同的名称。图层名称设置为“abc”+i。i 是一个始终递增的变量。我正在使用 jquery-1.8.3.js、jquery-ui.js 和 kinetic-v4.3.2-beta.js。

```
document.getElementById('computer').addEventListener('click', function(e) {
    draw(images);
    layer.add(Img);
    stage.add(layer);
    i++;
}, false); 
```

这是函数draw的代码

```
function draw( images ) {
    Img = new Kinetic.Rect({
       x: 50,
       y: 150,
       width: 50,
       height: 50,
       fillPatternImage: images.abc,
       name: "abc"+i,
       draggable: true
    });
} 
```

然后当用户双击该层时，会出现一个对话框。我将该层的名称保存为变量名称。

```
layer.on( 'dblclick', function(evt) {
    var shape = evt.shape;
    name = shape.getName();

    $( "#dialog-form" ).dialog( "open" );
});

$( "#dialog-form" ).dialog({
    autoOpen: false,
    height: 350,
    width: 350,
    modal: true,
    buttons: {
        "Submit": function() {
            **name.setDraggable(false);**
        },
        Cancel: function() {
            $( this ).dialog( "close" );
        }
    },
    close: function() {
        allFields.val( "" ).removeClass( "ui-state-error" );
    }
}); 
```

我不知道如何使用它..请帮助.. THx ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T13:52:16.393

```
stage.get(name).setDraggable(false); 
```

# c# - 正则表达式检查时间

> ID：15827363
> 
> 赞同：1
> 
> 时间：2013-04-05T06:32:45.683
> 
> 标签：c#, regex

我有以下正则表达式：

```
^(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)?([0-5]?\d)$ 
```

这目前将接受`00:00:00`或者 我不希望它这样做`00:00`。`00`它可以接受`00:01`或`00:00:01`不全为零。

我在正则表达式中错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:38:29.313

您可以使用负前瞻来解决此问题：

```
^(?!^(\D|0)*$)(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)?([0-5]?\d)$ 
```

匹配非数字和零的负前瞻。因此，如果您的时间只有零，它将无法匹配。

[您可以在www.debuggex.com](http://www.debuggex.com/?re=%5E%28?!%5E%28%5CD%7C0%29%2a%24%29%28?%3a%28?%3a%28%5B01%5D?%5Cd%7C2%5B0-3%5D%29%3a%29?%28%5B0-5%5D?%5Cd%29%3a%29?%28%5B0-5%5D?%5Cd%29%24&str=00:00:00)上更详细地了解它的作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:38:45.310

*我认为拥有另一个匹配*您不想要的任何内容的正则表达式可能会更容易。

像这样：`^(00:?)+$`应该匹配你不想要的。只需在使用当前正则表达式之前使用该检查即可。在一个正则表达式中完成所有操作可能会导致构建和更改变得混乱。

# validation - Symfony / Doctrine：为“MappedSuperclass”中定义的属性添加注释

> ID：15827368
> 
> 赞同：0
> 
> 时间：2013-04-05T06:33:17.887
> 
> 标签：validation, symfony, doctrine, mappedsuperclass

*编辑：* 我了解到，我的子类缺少一个注释（'这里只是一个 ID'，感谢 GreenLeaf）。我现在的实际问题是，我不知道如何覆盖它，我无法让它工作。

* * *

*原来的：*

我刚刚将一个 Symfony 2.0 应用程序迁移到 Symfony 2.2 并在 dev-profiler 中获得了关于单向一对多关联的“无效实体”信息。使用控制台时

```
php console doctrine:schema:validate 
```

我收到 2 条消息：

```
* The association \Entity\Watched#reference refers to the inverse side field \Entity\Reference#id which is not defined as association.
* The association \Entity\Watched#reference refers to the inverse side field \Entity\Reference#id which does not exist. 
```

我认为这是错误的，因为“id”是在超类中定义的。应用程序仍然在旧数据库（使用 Symfony 2.0 创建）上运行良好。这是我的课程（简化）：

代码：全选

```
/**
 * @ORM\MappedSuperclass
 * @ORM\HasLifecycleCallbacks
 */
abstract class SuperclassAbstract {
   /**
    * @ORM\Id
    * @ORM\Column(type="integer")
    * @ORM\GeneratedValue(strategy="AUTO")
    */
   protected $id = "";

   // some fields more...
}

/**
 * @ORM\Entity
 * @ORM\Table(name="watched")
 */
class Watched extends SuperclassAbstract {
   /**
    * @ORM\ManyToOne(targetEntity="Reference", inversedBy="id")
    * @ORM\JoinColumn(name="reference_id", referencedColumnName="id")
    */
   protected $reference;

   // some fields more...
}

/**
 * @ORM\Entity
 * @ORM\Table(name="reference")
 */
class Reference extends SuperclassAbstract {
   // some fields more...
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T13:37:14.527

我不能将教义视为关系数据库......谢谢！

我向 Reference 添加了一个列表来处理关联的另一端。

# jquery-plugins - 从 Jquery Core 文件创建自定义 Js 文件

> ID：15827371
> 
> 赞同：1
> 
> 时间：2013-04-05T06:33:27.263
> 
> 标签：jquery-plugins, jquery

在我的项目中，一个小部件（嵌入到另一个站点）中，父网站存在 jQuery 冲突问题。

所以现在我需要从 jQuery 核心文件创建我自己的 JS 核心文件。有没有办法从 jQuery 核心文件创建自定义 JS。

我已经使用了下面的脚本，但仍然是同样的问题。

```
 $.noConflict();
  jQuery(document).ready(function($) {
    // Code that uses jQuery's $ can follow here.
  }); 
```

我使用了一些来自 jQuery 核心的方法。我想从 jQuery 核心文件创建我自己的 JS 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:38:51.297

像这样使用匿名函数：

```
(function($) {
    //Insert your jQuery
}(jQuery)) 
```

这样做是允许您使用`$`但传递`jQuery`给匿名函数。匿名函数也是自调用的，这意味着它会在加载时自动调用自己。

如果你想包含你自己的 JavaScript 文件，你可以利用[`.getScript()`](http://api.jquery.com/jQuery.getScript/)

```
$.getScript(url, function() {
    //success stuff
}) 
```

如果您想要的脚本与托管它的域不同，我不相信这会起作用。[XSS](http://en.wikipedia.org/wiki/Cross-site_scripting)问题等等。

# batch-file - 如何检查dos批处理文件中调用命令的状态

> ID：15827372
> 
> 赞同：0
> 
> 时间：2013-04-05T06:33:29.767
> 
> 标签：batch-file, dos, batch-processing

我有一个包含这些内容的批处理文件名 xyz.bat

```
 @echo off
 echo  1.Cleaning all four project.
 call apacheant\bin\ant -buildfile clean-all.xml 
```

> 当第一次调用结束时，它会在控制台构建成功或构建失败。
> 在这种情况下，我如何验证此调用是否失败或通过了，我想决定下一次调用执行。

```
echo  1.Building all four project.
call apacheant\bin\ant -buildfile build-all.xml
@echo on 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:54:11.710

```
echo  1.Building all four project.
call apacheant\bin\ant -buildfile build-all.xml >logfile.txt
findstr "succeed" logfile.txt >nul
if errorlevel 1 (echo Build failed) else (echo Build Succeeded) 
```

当然，`echo ...`如果需要，可以将其替换为“set antstatus=SUCCEED”。

不要尝试使用 ERRORLEVEL 来控制处理，因为许多命令会更改 ERRORLEVEL 以报告它们自己的状态。

也有*可能*`ANT`在终止时返回状态。你可以检查

```
echo %errorlevel% 
```

步骤之后`ant`。如果它返回一个错误级别，那么您不需要创建和解释日志文件。

`IF ERRORLEVEL`语法是

```
if errorlevel n Command_if_errorlevel_is_n_OR_GREATER_THAN_n 
```

# ios - 当每次向iOS中的文本字段添加三位数字时，为整数插入逗号

> ID：15827378
> 
> 赞同：3
> 
> 时间：2013-04-05T06:34:07.960
> 
> 标签：ios, objective-c, textfield, nsmutablestring

我需要将逗号分隔数字添加为三位数字，没有空格，如果总数字小于三，则不添加逗号。

例如：

```
2984 => 2,984
297312984 => 297,312,984
298 => 298 
```

我该如何解决这个问题？

试过这个：

```
if([textfield.text length] > 3)
{
 NSMutableString *stringtext = [NSMutableString stringWithString:textfield.text];
 [stringtext insertString:@"," atIndex:0];
} 
```

abt开始后，开始思考是否有更好的解决方案？这是因为会有很多 if-else 语句。

欢迎提出任何建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:48:09.510

这就是我想出的：只需设置文本字段的委托，并相应地实现以下方法：

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
    if (textField.text.length % 4 == 3) {
        if (string.length != 0) {
            textField.text = [NSString stringWithFormat:@"%@,%@", textField.text, string];
            return NO;
        }
    }

    return YES;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:38:29.527

使用 NSNumberFormatter，

```
NSNumberFormatter *formatter = [NSNumberFormatter new];
[formatter setNumberStyle:NSNumberFormatterDecimalStyle]; // this line is important!

NSString *formatted = [formatter stringFromNumber:[NSNumber numberWithInteger:2000000]];

[formatter release]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T06:42:04.437

使用**NSNumberFormatter**：

```
NSNumberFormatter *numberFormatter = [NSNumberFormatter new];
[numberFormatter setNumberStyle:NSNumberFormatterDecimalStyle];
NSString *commaString = [numberFormatter stringFromNumber:[NSNumber numberWithInteger:yourIntegerValue]];
NSLog(@"---> %@",commaString); 
```

或通过**字符串操作** `<This is not the best way>`：

```
NSMutableString *mutString=[NSMutableString stringWithString:@"123456789"];

NSMutableArray *array=[NSMutableArray new];
for (NSInteger i=1; i<=mutString.length/3; i++) {
    NSInteger index=[mutString length]-i*3;
    [array insertObject:[mutString substringWithRange:NSMakeRange(index, 3)] atIndex:0];
}
if (mutString.length!=mutString.length/3*3) {
    [array insertObject:[mutString substringWithRange:NSMakeRange(0, mutString.length%3)] atIndex:0];
}
NSString *commaString=[array componentsJoinedByString:@","];
NSLog(@"--> %@",commaString); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T06:57:08.750

请尝试以下功能

```
 //------------------------------------------------------------------------
    // Method : ChangeNumberIntoCommaSeparatedStringDec
    // Method to convert number into comma separated string
    //------------------------------------------------------------------------
    -(NSString *)ChangeNumberIntoCommaSeparatedStringDec:(double)num
    {

            NSNumber *number = [NSNumber numberWithDouble:num];
            NSNumberFormatter *frmtr = [[NSNumberFormatter alloc] init];
           //here locale as applied to do not change the formatter values after changing the device locale
            [frmtr setLocale:[[NSLocale alloc]initWithLocaleIdentifier:@"en_US"]];
            [frmtr setGroupingSize:3];
            [frmtr setGroupingSeparator:@","];
            [frmtr setUsesGroupingSeparator:YES];
            [frmtr setMaximumFractionDigits:2];
            [frmtr setMinimumFractionDigits:2];
            NSString *str=[frmtr stringFromNumber:number];
            [frmtr release];
            return(str);        
    } 
```

# php - 如何从控制器 Symfony2 内部访问不同的控制器

> ID：15827384
> 
> 赞同：41
> 
> 时间：2013-04-05T06:34:40.690
> 
> 标签：php, symfony

我需要从另一个控制器内的不同控制器访问一个方法。我该怎么做？我可以使用`this->get`方法吗？

我可以将控制器包含在当前控制器中并创建一个对象并通过该对象访问该方法吗？这样做“可以”吗？

我想调用另一个控制器的表单方法---newAction。

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2014-01-22T08:33:46.280

如果您不想将类定义为服务，因为我觉得这不是一个好习惯，@Qoop 引用[了 Fabien 的话](https://github.com/symfony/symfony-docs/issues/457)，您可以使用转发：

[http://symfony.com/doc/current/controller/forwarding.html](http://symfony.com/doc/current/controller/forwarding.html)

```
public function indexAction($name)
{
    $response = $this->forward('AcmeHelloBundle:Hello:fancy', array(
        'name'  => $name,
        'color' => 'green',
    ));

    // ... further modify the response or return it directly

    return $response;
} 
```

如果您需要在模板中嵌入内部控制器操作的输出，[Symfony 的文档](http://symfony.com/doc/current/templating/embedding_controllers.html)也有相关内容。

* * *

## 回答 #2

> 赞同：46
> 
> 时间：2013-04-05T06:46:03.080

您可以将您的控制器定义为服务，然后在另一个控制器中获取它。

在您`services.yml`定义所需的控制器作为服务：

```
services:
    your_service_name:
        class: YourCompany\YourBundle\Controller\YourController 
```

然后在任何控制器中，您都可以通过容器获得此服务：

```
$yourController = $this->get('your_service_name'); 
```

* * *

文档中有一些关于[控制器作为服务的有用信息](http://symfony.com/doc/master/cookbook/controller/service.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-11T08:05:35.550

您只需在您所在的控制器中实例化您想要访问的控制器。

您所在的控制器：

*在 symfony 2/3 中，您可能需要放置“YourBundle”而不是“App”

..

```
use App\Controller\DefaultController; 
```

..

```
public function index()
{

    $default_controller = new DefaultController;
    $variable = 1;
    $default_controller->actionToCall($variable);

    return $this->render('...'); //The view you want to render or call another action
} 
```

在控制器中调用：

```
public function actionToCall($variable)
{
    //dd($variable);        
} 
```

完毕。

# c++ - 行进立方体和八叉树有什么区别？

> ID：15827385
> 
> 赞同：2
> 
> 时间：2013-04-05T06:34:44.540
> 
> 标签：c++, opengl, octree, marching-cubes

八叉树是行进立方体的特例吗？我的意思是八叉树是否使用与行进立方体相同的三角立方体。我知道八叉树是四叉树的 3d 形式。我只想知道我的方向是否正确。树形成后，八叉树形成三角形的步骤（用于创建表面）如何与行进立方体的步骤相同？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T06:44:40.507

行进立方体是一种对函数的等值面进行三角剖分的方法，通过细分为大小相等的小立方体并以保持连续性的方式对每个立方体进行三角剖分。

八叉树基础等值面方法改为切成大小不均匀的立方体。与等效“视觉质量”的行进立方体算法相比，这可以生成较少数量的三角形。然而，额外的成本是在对每个立方体的表面进行三角测量时需要处理许多特殊情况以避免孔洞。此外，您必须确定每个多维数据集何时“足够小”的指标（与多维数据集的值变化和多维数据集的视觉重要性等相比）。通常为了帮助减少特殊情况的数量，相邻的立方体被限制为最多相差一个八叉树级别 - 这意味着纯粹在度量上进行简单的细化是不可能的。

综上所述：行进立方体是一种快速的等表面三角测量方法。八叉树方法更复杂，但可以提供更好的结果。它们不一样，八叉树不是行进立方体的特例。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-17T09:34:35.540

这是一个完全不同的理论。八叉树是一种用于 3d 空间的三次细分方法，用于查找空间中事物的分布，有效地处理大空间并将其缩小到可以找到的区域。

Marching cubes 是一个生成网格的系统，它没有像八叉树那样使用任何渐进式细分。

但是一个好的行进立方体系统会使用八叉树来找到需要处理的区域并丢弃其中没有网格的东西。 [https://www.youtube.com/watch?v=gNZtx3ijjpo](https://www.youtube.com/watch?v=gNZtx3ijjpo)

# jsp - 为 jsp:include 标记设置大小

> ID：15827386
> 
> 赞同：1
> 
> 时间：2013-04-05T06:34:49.140
> 
> 标签：jsp, jstl, jspinclude

有没有办法为 jsp:include 选项卡设置大小？我有以下代码

```
<div class="tab-pane fade in active" id="fromDatabase">
   <jsp:include page="GenericDB.jsp" flush="true" />
</div> 
```

页面内容较少。但它仍然在页面中显示滚动条。我试图在 DIV 标签中设置宽度。

```
<div class="tab-pane fade in active" id="fromDatabase" style="width:800px">
   <jsp:include page="GenericDB.jsp" flush="true" />
</div> 
```

然后尺寸减小了，但它在 div 区域内显示滚动条。无论如何，jsp:include 的大小是否存在？谢谢

# simulate - 模拟任何确定性下推自动机 (DPDA) 的算法

> ID：15827390
> 
> 赞同：0
> 
> 时间：2013-04-05T06:35:16.433
> 
> 标签：simulate, any, deterministic, pushdown-automaton

如何编写可以对任何确定性下推自动机 (DPDA) 建模的程序 用户应输入状态数、转换函数、输入符号 程序应为请求的 pda 建模并测试用户输入的随机字符串的接受或拒绝

这是我到目前为止在 C++ 中所做的 - 我已经收集了状态、输入符号和输入符号的数量 - 我在转换函数上，但似乎无法更进一步，因为我无法概念化 DPDA 建模

# sql - postgresql-8.4 文本搜索不起作用

> ID：15827392
> 
> 赞同：1
> 
> 时间：2013-04-05T06:35:30.617
> 
> 标签：sql, django, postgresql, full-text-search

我尝试使用 postgresql-8.4 & django 实现完整/部分文本搜索

```
SELECT * FROM fts WHERE body_tsvector @@ plainto_tsquery('english','hello welcome') 
```

可用记录是

```
'hello world'
'hello old world'
'hi welcome' 
```

但是这个查询的结果并不像预期的那样，它显示零记录，如何使用plainto_tsquery进行部分/全文搜索？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T11:37:29.193

看起来您希望`plainto_tsquery`执行`|`(OR) 查询。但[文档](http://www.postgresql.org/docs/9.1/static/textsearch-controls.html)状态：

> plainto_tsquery 将无格式文本 querytext 转换为 tsquery。与 to_tsvector 一样对文本进行解析和规范化，然后在幸存的单词之间插入 & (AND) 布尔运算符。

因此，要执行您想要的操作，您必须自己解析文本，然后使用`|`运算符创建一个 ts_query。

```
SELECT * FROM fts 
WHERE body_tsvector @@ to_tsquery('english','hello | welcome'); 
```

# python - Python 压缩文件中的平面文件

> ID：15827400
> 
> 赞同：3
> 
> 时间：2013-04-05T06:35:51.933
> 
> 标签：python

我在做：

```
z = zipfile.ZipFile('myzip.zip', 'w')
z.write('/some/path/mytxt1.txt')
z.write('/some/other/path/mytxt2.txt')
z.close() 
```

这是在 zip 中保留文件路径。我只希望我想要的文件平放在 zip 文件中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-05T06:38:47.927

[`ZipFile.write()`](http://docs.python.org/2/library/zipfile#zipfile.ZipFile.write)接受第二个参数，`arcname`. 只需将其设置[`os.path.basename()`](http://docs.python.org/2/library/os.path.html#os.path.basename)为第一个参数即可删除路径：

```
def zip_write(zip, filename):
    zip.write(filename, os.path.basename(filename))

z = zipfile.ZipFile('myzip.zip', 'w')
zip_write(z, '/some/path/mytxt1.txt')
zip_write(z, '/some/other/path/mytxt2.txt')
z.close() 
```

# django - 我的 django 项目无法在我自己的电脑上运行服务器

> ID：15827401
> 
> 赞同：0
> 
> 时间：2013-04-05T06:35:52.427
> 
> 标签：django

大家好，感谢您花时间查看我的问题。

我是python的新手。

我只想在我的电脑上创建一个网站。当我使用“django-admin.py”制作项目时，一切都很好。但是当我使用“python manage.py runserver”时，它注意到我：

```
ImportError: Could not import settings 'test.settings' (Is it on sys.path?): No module named settings 
```

我检查了我的代码，一切正常。manage.py 写道：

```
#!/usr/bin/env python
import os
import sys
if __name__ == "__main__":
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "mysite.settings")
from django.core.management import execute_from_command_line
execute_from_command_line(sys.argv) 
```

我的文件夹是这样的：

```
hua@sun-Rev-1-0:~/hua/mydjango/mysite$ ls
manage.py  mysite 
```

项目也对；

```
hua@sun-Rev-1-0:~/hua/mydjango/mysite$ tree mysite/
mysite/
├── __init__.py
├── settings.py
├── urls.py
└── wsgi.py 
```

现在我使用 python 来查看我的 os.path：

```
hua@sun-Rev-1-0:~/hua/mydjango/mysite$ python
Python 2.7.3 (default, Sep 26 2012, 21:53:58) 
[GCC 4.7.2] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import sys
>>> print sys.path
['', '/usr/local/lib/python2.7/dist-packages/distribute-0.6.35-py2.7.egg', '/usr/local/lib/python2.7/dist-packages', '/usr/bin/python2.7', '/home/hua/hua/mydjango/mysite/~share', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-linux2', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/usr/local/lib/python2.7/dist-packages', '/usr/local/lib/python2.7/dist-packages/setuptools-0.6c11-py2.7.egg-info', '/usr/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages/PIL', '/usr/lib/python2.7/dist-packages/gst-0.10', '/usr/lib/python2.7/dist-packages/gtk-2.0', '/usr/lib/python2.7/dist-packages/ubuntu-sso-client'] 
```

我找不到我的错在哪里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T08:20:14.350

只有`/home/hua/hua/mydjango/mysite/~share`在你的`sys.path`- 你仍然失踪`/home/hua/hua/mydjango/`

添加它，它应该可以工作。

您也可以将您的项目移入`/usr/local/lib/python2.7/dist-packages`并在那里运行。

# android - Aws SimpleDB，在 android 中响应缓慢

> ID：15827406
> 
> 赞同：1
> 
> 时间：2013-04-05T06:36:17.587
> 
> 标签：android, amazon-web-services

我正在使用 Aws SimpleDb 为我的 android 应用程序存储数据。使用 AWS android SDK，我得到了很晚的响应，有什么办法可以改进它，在浏览器中，它在 300 毫秒内获取数据对我来说它需要大约 5 到 10 秒的时间，虽然我正在发送仅请求 40 行。

这就是我正在做的事情。

```
 private ThreadPoolExecutor threadPool = new ThreadPoolExecutor(poolSize, maxPoolSize,  keepAliveTime, TimeUnit.SECONDS, threadsQueue);

private void getArticles() {

String[] categories = {"kids", "Boys", "Girls",
    "Men", "Women"};

for(final String category : categories) {
runTask(new Runnable() {

  @Override
  public void run() {
    Log.e(TAG, "getting articles for category : " + category);
    String select = "select * from shopDatabase where category = '" + category + "' AND relationType " +
          "= 'none' AND articlePushTime > '2013-04-01 05:46:03.719 GMT+00:00' AND publishDateTime > '2013-04-01 05:46:03.719 GMT+00:00' " +
          " AND score > '0' order by score  desc limit 40";
  SelectRequest selectRequest = new SelectRequest(select);
  selectRequest.setConsistentRead(true);
    List<Item> articles = sdbClient.select(selectRequest).getItems();
    if(articles != null) {
      Logger.log("ERROR", "SQLiteActivity", "articles size is : " + articles.size() + " for category : " + category, runCount);
    } else {
      Logger.log("ERROR", "SQLiteActivity", "articles size is : articles.size() = 0 OR NULL for category : " + category, runCount);
     }
     onDownload.onDownload();
    }
   });
  }
} 
```

public void runTask(Runnable task) { futures.add(threadPool.submit(task)); // threadPool.execute(task); }

我试图对其进行分析，我发现解组需要花费大量时间，并且对于每个请求，它都会获取凭据。

日志响应时间：

```
 04-05 11:39:30.724: E/SQLiteActivity(14448): getting articles for category : kids
 04-05 11:39:49.914: E/SQLiteActivity(14448): articles size is : 40 for category : kids

 04-05 11:39:30.754: E/SQLiteActivity(14448): getting articles for category : Boys
 04-05 11:39:47.644: E/SQLiteActivity(14448): articles size is : 40 for category : Boys

 04-05 11:39:48.964: E/SQLiteActivity(14448): getting articles for category : Girls
 04-05 11:40:02.464: E/SQLiteActivity(14448): articles size is : 40 for category : Girls

 04-05 11:39:49.924: E/SQLiteActivity(14448): getting articles for category : Men
 04-05 11:40:02.724: E/SQLiteActivity(14448): articles size is : 40 for category : Men

 04-05 11:40:02.664: E/SQLiteActivity(14448): getting articles for category : Women
 04-05 11:40:10.024: E/SQLiteActivity(14448): articles size is : 40 for category : Women 
```

# c# - LINQ：基于字典或映射的聚合行？

> ID：15827408
> 
> 赞同：1
> 
> 时间：2013-04-05T06:36:28.850
> 
> 标签：c#, linq, sharepoint-2010, spmetal

我正在针对 SP 列表触发 q LINQ 查询，以让所有员工参与其中，有多少项目属于他们以及总体百分比。

我现在被指出数据中的一个错误：在几行中，3 个用户没有被列为“姓氏，名字”，而是域\用户名。我需要消除数据中的这种不一致。

一种可能性是忽略名称包含“域\”的所有结果。但是，我想将这 3 个用户名映射到他们的真实姓名。

```
 domain\user1 => lastname, firstname
   domain\user2 => lastname, firstname
   domain\user3 => lastname, firstname 
```

然后将结果聚合到该用户的“姓氏，名字”行中

我的实际代码如下所示：

```
public IEnumerable<EmployeeVM> GetAllEmployees()
    {
        EntityList<TicketsElement> Tickets = _db.GetList<TicketsElement>("Tickets");
        return Tickets.Where(b => b.BearbeiterID != null && b.BearbeiterImnName != String.Empty && b.BearbeiterImnName != null)
                      .GroupBy(b => b.BearbeiterImnName)
                      .OrderByDescending(b => b.Count())
                      .Select(b => new EmployeeVM() { Name = b.Key, val = b.Count() });

    } 
```

映射这 3 个用户并聚合相应结果的最佳方法是什么？

亲切的问候

/edit：我取得了一些轻微的进展。我已编辑 GroupBy 以反映 1 个用户。

```
.GroupBy(b => new { b.BearbeiterImnName, BearbeiterName = b.BearbeiterImnName == @"Domain\User1" ? "lastName, firstName" : b.BearbeiterImnName  }) 
```

这会在列表中返回用户两次，这意味着我只需要找到一种方法来聚合具有相同用户名的行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T08:48:41.010

您可以尝试在您的选择中引入一个条件语句，如下所示：

```
.Select(b => new EmployeeVM() { Name = !b.Key.Contains("domain") ? b.key : Your new statement,  val = b.Count() }); 
```

# google-chrome - 如何将 Firefox 扩展移植到谷歌浏览器？

> ID：15827410
> 
> 赞同：4
> 
> 时间：2013-04-05T06:36:39.497
> 
> 标签：google-chrome, firefox, xul

如果我创建 Firefox 扩展程序，它会在 google chrome 中运行并进行一些更改吗？[我在http://developer.chrome.com/extensions/](http://developer.chrome.com/extensions/)上发现了 google chrome 扩展程序，它看起来与 XUL 不同。那么这是否意味着这些应用程序与浏览器不兼容？IE 会有不同的语言，我正确吗？如果都不同，那么如何开发这三种浏览器兼容的应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:43:11.320

Google Chrome 不支持 XUL。

为了将您的扩展移植到不同的浏览器，您应该提取它的一些公共部分，这些部分仅适用于 Web 内容，不依赖于浏览器的特定功能。这部分可以在扩展之间共享（与您可以在所有扩展上使用 jQuery 和其他库一样，无论平台如何）。

扩展程序的其他部分，包括处理 UI 的部分，必须使用每个浏览器的特定 API 进行定制。例如，对于 Google Chrome，您应该为 UI 使用[弹出页面](http://developer.chrome.com/extensions/browserAction.html#ui)或[选项页面](http://developer.chrome.com/extensions/options.html)。它们是 HTML+CSS+JavaScript，而不是 XUL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-01-10T12:10:56.373

Chrome 和 Firefox 现在使用非常相似的 API，因此移植并不困难。Mozilla 在此处对潜在问题进行了很好的概述：[构建跨浏览器扩展](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension)

# javascript - HTML 代码 - 有些东西是无效的 - 无法弄清楚是什么

> ID：15827414
> 
> 赞同：0
> 
> 时间：2013-04-05T06:37:02.887
> 
> 标签：javascript, html, forms, syntax

我正在尝试为倒计时插件使用完成功能；但是，无论出于何种原因，dreamweaver 告诉我存在语法错误，我告诉它更改 div 内容容器的内部 HTML。我一直在寻找几个小时，找不到它有什么问题。我希望有人可以帮助我。任何帮助表示赞赏。

```
<script language="javascript" type="text/javascript">
            jQuery(document).ready(function() {
                $('#countdown_dashboard').countDown({
                    targetOffset: {
                        'day':      0,
                        'month':    0,
                        'year':     0,
                        'hour':     0,
                        'min':      5,
                        'sec':      0
                    },
                    onComplete: function() { 
                    document.getElementById('contentcontainer').innerHTML = '<div id="content">
  <div class="success_box">Application Successful!  Redirecting...</div>
    <div class="error_box"></div>
  <div class="formcontainer">
  <form id="formexample" name="example_form" action="#" method="POST">
        <label for="firstname">*First Name:</label>
        <label for="lastname">*Last Name:</label>

      <input name="firstname" id="firstname" />
      <input name="lastname" id="lastname" />

        <label for="username">*Username:</label>
        <label for="email">*Email (A Confirmation Email Will Be Sent Here) :</label>

        <input onKeyPress="makeithappen()" onKeyUp="makeithappen()" name="username" id="username" />
        <input onKeyPress="makeithappenemail()" onKeyUp="makeithappenemail()" name="email" id="email" />

        <label for="password">*Password:</label>
        <label for="password_confirm">*Confirm Password:</label>

        <input onKeyPress="makeithappenemail()" onKeyUp="makeithappenemail()" name="password" id="password" type="password" />
        <input onKeyPress="makeithappen()" onKeyUp="makeithappen()" name="password_confirm" id="password_confirm" type="password" />

    <button class="button gray" type="submit" name="submit">Submit  </button> 
    <input id="usernameused" name="usernameused" type="hidden" value=""> 
    <input id="emailused" name="emailused" type="hidden" value="">
  </form>
  </div>
</div>';
                    }

                });
            });
        </script>
<div id="contentcontainer">
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:40:47.997

你的问题是你有一个打开的字符串。Javascript 不支持带有单 (') 或双 (") 引号的多行字符串。

换句话说

```
var d = "hello
world " 
```

无效，但是，您可以使用特殊字符 \ 来“使用”或“转义”换行符并使其像单行字符串一样工作。

```
var d = "hello \
world " 
```

希望这可以帮助！

# c# - 动态类型的默认值？

> ID：15827416
> 
> 赞同：10
> 
> 时间：2013-04-05T06:37:12.210
> 
> 标签：c#, c#-4.0, clr

声明为动态的变量的默认值是`private dynamic banana;`多少？

`default()`在运行时确定类型时，我可以依赖该函数吗？

我需要找到默认值的原因是我声明了一个类的动态成员，我想设置一次（但不是 as `readonly`），然后多次使用它。

在不知道运行时类型可能是什么的情况下，如何检查动态变量是否已设置为默认值以外的任何值？

谷歌对此一无所获：S

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-05T06:46:55.220

它是`null`。

```
dynamic blah;
Console.Write(blah); // crash
Console.Write(blah.GetType()); // NullRef 
```

..这是你的意思吗？

# jenkins - 如何添加文件以下载到 Jenkins/Hudson 插件中

> ID：15827417
> 
> 赞同：2
> 
> 时间：2013-04-05T06:37:24.207
> 
> 标签：jenkins, hudson

我需要添加一个用于下载到插件的文件，该插件提供了一个构建步骤。我想将它的链接放入构建步骤字段的 HTML 帮助文件中，并且还能够将链接粘贴到电子邮件等。

让我们假设这只是一个简单的、普通的插件项目，`pom.xml`有这个：

```
<groupId>my.jenkins.plugins</groupId>
<artifactId>my-special-plugin</artifactId>
<name>My Special Plugin</name> 
```

可下载的名称是`myspecialtool.exe`

## 问题：

1.  插件项目源下的文件放在哪里

2.  什么是下载 URL，假设 Jenkins 在`http://ciserver:8080`

3.  写入帮助 HTML 文件以“正确”链接到它的内容（如果与上述不同）

希望得到一个好的参考答案：清晰、简短、中肯。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T20:24:46.147

将您希望能够作为“网络数据”处理的数据存储[`src/main/webapp`](https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial#Plugintutorial-src/main/webapp)在插件项目中。

该目录应该是可寻址的`/plugin/<name of your plugin>`（来自' [Jenkins Continuous Integration Cookbook](http://books.google.com/books?id=zBUCFWlMkrwC&lpg=PA276&ots=AMjjguipoV&dq=jenkins%20plugin%20src/main/webapp&pg=PA276#v=onepage&q=jenkins%20plugin%20src/main/webapp&f=false) '）

* * *

对列举的问题的回答：

1.  将文件放在 下`src/main/webapp`，也许在一个子文件夹中，所以：
    `src/main/webapp/download/myspecialtool.exe`

2.  那就是：
    `http://ciserver:8080/plugin/my-special-plugin/download/myspecialtool.exe`

3.  放置帮助 HTML 文件的链接：
    `/plugin/my-special-plugin/download/myspecialtool.exe`

# wordpress - Wordpress 3.5.1：多作者插件

> ID：15827419
> 
> 赞同：0
> 
> 时间：2013-04-05T06:37:29.700
> 
> 标签：wordpress

有没有什么好的 wp 插件可以让我将单个帖子分配给许多作者/用户？

搜索后我找到了[多个作者](http://txfx.net/wordpress-plugins/multiple-authors/)，但激活后我为单个帖子选择了一些作者并保存，但它将用户管理为**术语**而不是普通用户。

> 现在我创建了一个特殊类别并将帖子移到该类别下并显示给所有作者。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:43:23.207

I used to used Co-Authors Plus plugin for the same..

See if you find it any useful..

Link : [http://wordpress.org/extend/plugins/co-authors-plus/installation/](http://wordpress.org/extend/plugins/co-authors-plus/installation/)

After you add multiple authors using this plugin. It will show something like, Posted by "Author 1" and "Author 2"..

Very good plugin with active development.

# jsf - 如果我在我的应用程序中使用 JBoss seam，是否需要使用 MyFaces？

> ID：15827423
> 
> 赞同：1
> 
> 时间：2013-04-05T06:37:49.923
> 
> 标签：jsf, myfaces, jboss-seam

我们有一个使用 Seam 的基于 JSF 的传统 Web 应用程序。它部署在 Websphere 7.0 上。它没有 MyFaces JAR `/WEB-INF/lib`，它只有 Seam JAR。

那么，应用程序如何获取 JSF JAR？JSF 在这个应用程序中实际上是如何工作的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T12:28:55.060

JSF 作为 Java EE 规范的一部分，已经捆绑在符合 Java EE 的应用服务器中，例如 Glassfish、JBoss AS、Websphere 和 Weblogic。你不需要将它捆绑在你的 webapp 中。

您可能会感到困惑，因为您也曾经使用过诸如 Tomcat 或 Jetty 之类的准系统 JSP/Servlet 容器，并且经历过您需要手动提供 JSF 库。确实如此，准系统 JSP/Servlet 容器仅附带 JSP/Servlet（和 EL）库，而不附带 JSF、EJB、JPA 等其他 Java EE 工件。这就是为什么你需要将它与你自己的 webapp 捆绑在一起。

因此，要具体回答您的问题：不，如果 JSF 已经与目标服务器捆绑在一起，则不需要将 JSF 与您的 webapp 捆绑在一起。

请注意，这完全与 JSF 实现无关（您明确提到了 MyFaces，而问题/答案同样适用于 Mojarra 等其他 JSF 实现）。

# c++ - 在 MSCV 2010 中快速定位错误消息

> ID：15827427
> 
> 赞同：1
> 
> 时间：2013-04-05T06:38:08.417
> 
> 标签：c++, visual-studio-2010, visual-studio-2012, ide, compiler-errors

当我编译我的 C++ 项目并出现错误时，要查看这些错误，我需要打开一个查找窗口并在输出窗口中搜索“错误”。

没有更好的方法来检查错误消息吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T19:25:19.153

要扩展我之前的评论，可以通过单击主菜单中的 View->Error List 或按`Ctrl`+ `W`,来显示错误列表窗口`E`。

随着错误列表窗口可见，编译过程中检测到的任何错误都应该可以在编译失败后从该窗口中单击。

![错误列表](https://i.stack.imgur.com/2kdyD.png)

# dicom - 如何在 MRI 文件中绘制与造影剂有关的标记

> ID：15827428
> 
> 赞同：0
> 
> 时间：2013-04-05T06:38:12.487
> 
> 标签：dicom

我真的对 MRI 图像上的绘制覆盖感到困惑，这意味着它的部分是否类似于结构报告（SR）处理

我正在尝试以造影剂的方式读取 MRI 文件。也经过谷歌这么多搜索终于得到一些信息，如

```
 "The data is extracted by injecting a contrast agent into a patient’s vein,then taking sequential snapshots of a volume of interest as the contrast agent diffuses through that area" 
```

但我对这个完全陌生，你能帮我吗？

```
 1\. Give me specific link for these topic

  2\. How to read the Contrast Agent value from MRI Dicom File.

  3\. Also how to show a shaded region where the Cancer is detected or
     some kind of marker on that location where the pixel intensity of 
     dicom file is higher. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T09:34:23.330

嗯，MRI扫描只是一堆灰度图像，就像CT一样，除了强度单位当然不同。因此，只需将其作为任何其他 dicom 图像读取，并查看像素值的强度，或执行分割。癌症肿瘤区域和其他特征存储在一个单独的 dicom 对象中，称为 RT 结构集（通常由放射治疗计划系统或某些轮廓软件生成）。

# php - 来自列表 id 的 mysql 查询名称

> ID：15827429
> 
> 赞同：1
> 
> 时间：2013-04-05T06:38:14.950
> 
> 标签：php, mysql, sql, group-by

我这里有一个小问题......让我解释一下..

假设我有一张这样的桌子......

巴朗

```
╔══════════╦════════════╦════════════╗
║ IDBARANG ║    NAMA    ║ IDKATEGORI ║
╠══════════╬════════════╬════════════╣
║        1 ║ Ban Becak  ║ 1,3        ║
║        2 ║ Velg Becak ║ 2,4        ║
╚══════════╩════════════╩════════════╝ 
```

分类

```
╔════════════╦══════════════╗
║ IDKATEGORI ║ NAMAKATEGORI ║
╠════════════╬══════════════╣
║          1 ║ Ban Dalam    ║
║          2 ║ Velg Canggih ║
║          3 ║ Ban Keren    ║
║          4 ║ Velg Monster ║
╚════════════╩══════════════╝ 
```

我的问题是..如何获取结果变成这样

```
╔══════════╦════════════╦═══════════════════════════╗
║ IDBARANG ║    NAMA    ║        IDKATEGORI         ║
╠══════════╬════════════╬═══════════════════════════╣
║        1 ║ Ban Becak  ║ Ban Keren,Ban Dalam       ║
║        2 ║ Velg Becak ║ Velg Monster,Velg Canggih ║
╚══════════╩════════════╩═══════════════════════════╝ 
```

我尝试使用 FIND_IN_SET 但一无所获......

之前感谢您的帮助...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T06:40:17.883

也许您在使用时错过了其他东西`FIND_IN_SET()`

```
SELECT  a.idBarang,
        a.nama,
        GROUP_CONCAT(b.namaKategori) idKategori
FROM    barang a
        INNER JOIN Kategori b
            ON FIND_IN_SET(b.idKategori, a.idKategori)
GROUP   BY a.idBarang, a.nama 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/c17d7/1)

输出

```
╔══════════╦════════════╦═══════════════════════════╗
║ IDBARANG ║    NAMA    ║        IDKATEGORI         ║
╠══════════╬════════════╬═══════════════════════════╣
║        1 ║ Ban Becak  ║ Ban Keren,Ban Dalam       ║
║        2 ║ Velg Becak ║ Velg Monster,Velg Canggih ║
╚══════════╩════════════╩═══════════════════════════╝ 
```

现在最理想的做法是规范化表格。将值以逗号分隔值存储在单个列中是一种不好的做法。如果这是一个`Many-to-Many`关系，则将当前设计转换为三表数据库。

**巴朗**

*   伊德巴朗 (PK)
*   姓名

**分类**

*   idkategori (PK)
*   名类别

**Barang_Kategori**

*   伊德巴朗 (FK)
*   idkategori (FK)

* * *

样本记录

**巴朗**

```
╔══════════╦════════════╗
║ IDBARANG ║    NAMA    ║
╠══════════╬════════════╣
║        1 ║ Ban Becak  ║
║        2 ║ Velg Becak ║
╚══════════╩════════════╝ 
```

**分类**

```
╔════════════╦══════════════╗
║ IDKATEGORI ║ NAMAKATEGORI ║
╠════════════╬══════════════╣
║          1 ║ Ban Dalam    ║
║          2 ║ Velg Canggih ║
║          3 ║ Ban Keren    ║
║          4 ║ Velg Monster ║
╚════════════╩══════════════╝ 
```

**Barang_Kategori**

```
╔══════════╦════════════╗
║ IDBARANG ║ IDKATEGORI ║
╠══════════╬════════════╣
║        1 ║          1 ║
║        1 ║          3 ║
║        2 ║          2 ║
║        2 ║          4 ║
╚══════════╩════════════╝ 
```

新查询

```
SELECT  a.idBarang,
        a.nama,
        GROUP_CONCAT(c.namaKategori) KategoryLista
FROM    barang a
        INNER JOIN Barang_Kategori b
            ON a.idBarang = b.idBarang
        INNER JOIN Kategori c
            ON b.idKategori = c.idKategori
GROUP   BY a.idBarang, a.nama 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/a8fcd/3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:40:15.930

您需要`JOIN`在查询中使用。这是有关该主题的教程：

[http://www.sitepoint.com/understanding-sql-joins-mysql-database/](http://www.sitepoint.com/understanding-sql-joins-mysql-database/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-05T07:13:31.447

我不知道这个查询是否有效，如果有错误，请仔细检查：

```
SELECT Barang . idBarang , Barang . Nama , Kategori . namaKategori AS `idKategori`
FROM Barang
INNER JOIN Kategori ON Barang . idKategori = Kategori . idKategori
ORDER BY Barang . idBarang 
```

`Barang . idKategori`但是如果上面的数字像代码中最底部的表格一样分开，上面查询的输出将是下面的表格，无论如何您仍然可以尝试上面的代码：

```
idBarang | Nama | idKategori
-----------------------------------
1\. | Ban Becak | Ban Dalam
1\. | Ban Becak | Ban Keren
2\. | Velg Becak| Velg Canggih
2\. | Velg Becak| Velg Monster 
```

如果查询无效。`Barang . idKategori`只要您愿意，请尝试将数字分开，如下所示！当然，它会像上表一样工作。

```
Barang
---------------
idBarang | Nama | idKategori
-------------------------------
1 | Ban Becak | 1
1 | Ban Becak | 3
2 | Velg Becak | 2
2 | Velg Becak | 4 
```

# java - “此平台不支持运行 64 位 JVM”在 64 位 Linux 上使用 java -d64 选项

> ID：15827430
> 
> 赞同：0
> 
> 时间：2013-04-05T06:38:17.357
> 
> 标签：java, jvm, heap-memory, jvm-arguments

我有一个 64 位的 linux 操作系统：

```
$ uname -p
x86_64 
```

列出的 java -版本：

```
java version "1.6.0_43"
Java(TM) SE Runtime Environment (build 1.6.0_43-b01)
Java HotSpot(TM) Server VM (build 20.14-b01, mixed mode) 
```

我正在尝试运行具有 4096 分钟堆大小的 64 位 jvm（它是一个重量级应用程序）。当我添加 -d64 选项时，我收到消息

```
Running a 64-bit JVM is not supported on this platform 
```

如果没有`-d4`选项并且堆大小为 2048，它可以正常工作。但是内存不够，所以我需要使用 64 位 JVM 和 4Gigs。谁能告诉我为什么它不接受`d64`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T02:50:25.567

感谢@Adi Dembark 和@nos 发现了问题。它确实是一个 32 位的 jvm。更改为 64 位修复它。

# c++ - 删除vector管理的资源

> ID：15827444
> 
> 赞同：0
> 
> 时间：2013-04-05T06:39:04.737
> 
> 标签：c++

我想要一个向量来保存指向它将拥有的某些对象的指针。

这是向量：

`private: std::vector<fppVirtual*> m_fapps;`

我创建了这样的元素：

```
 m_fapps.push_back(new fpp1(renderingEngine)); //fpp* are subclasses of fppVirtual
    m_fapps.push_back(new fpp2(renderingEngine));
    m_fapps.push_back(new fpp3(renderingEngine)); 
```

与`m_fapps`另一个类中的向量实例变量一样，我想确保该类的析构函数正确清理`m_fapps`：

```
 for (int i=0, size=m_fapps.size();i<size;++i){
        delete m_fapps[i];
       } 
```

这是可接受的内存管理技术吗？我假设需要这个循环，因为当向量在其所属类被破坏时超出范围时，只会`new`删除指向这些对象的指针，对吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:41:26.477

这有效（有一些警告），但不被认为是惯用的 C++，这是有充分理由的。

您应该强烈考虑使用智能指针向量（或类似 的智能向量`boost::ptr_vector`），以避免必须进行手动内存管理。

这也将免费为您提供异常安全性，并且还可以避免在您的外部类是可复制的情况下发生的令人讨厌的所有权问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:44:41.693

因为还没有人给你直接的答案 - 是的，这是可以接受的，这是释放这个内存的唯一方法，拥有`vector`.

正如@OliCharlesworth 建议的那样，使用智能指针或使用@BjörnPollex 提出的其他容器，可以而且应该避免这种情况。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T06:41:17.790

你应该[`boost::ptr_vector`](http://www.boost.org/doc/libs/release/libs/ptr_container/doc/ptr_vector.html)改用。界面是相同的，但它会为您处理内存管理。有关是否使用或的一些准则，[请参阅此问题](https://stackoverflow.com/q/3822612/160206)。`ptr_vector``vector<shared_ptr<>>`

# c++ - c ++使用员工指针向量

> ID：15827446
> 
> 赞同：1
> 
> 时间：2013-04-05T06:39:08.573
> 
> 标签：c++

我已经创建了我的矢量类模板，并且我已经完成了每小时的员工课程并且我领薪水。我想使用员工指针的向量而不是员工指针的数组，我正在尝试这样做，但是当我运行它时它会中断，而我没有列出任何错误。另外，我使用了`at`like( `payroll.at(i)->writeFile(out);`) 函数来访问元素，但我不知道出了什么问题。有什么建议吗？谢谢

这是我的代码：myvector 类模板：

```
#include <iostream>
#include <string>
#include <cassert>
#include <algorithm>

  const int CAPACITY = 4;
  template <class T>
  class  MyVector {
  public:

    MyVector();
    MyVector( int size);
    MyVector( int size, const T & initial);
    MyVector(const MyVector<T> & v);      
    ~MyVector();

    int capacity() const;
    int size() const;
    void push_back(const T & value); 
    //T & operator[](unsigned int index);  
    MyVector<T> & operator=(const MyVector<T> &);
    void clear();
    T at(int i);

    friend ostream& operator<<(ostream &out, const MyVector<T>& );

  private:
    int applied;
    int my_size;
    int my_capacity;
    T * buffer;
    T * daArray;
};

template<class T>
MyVector<T>::MyVector()
{
  my_capacity = 0;
  my_size = 0;
  buffer = 0;
  applied = 0;
}

template<class T>
MyVector<T>::MyVector(const MyVector<T> & v)
{
  my_size = v.my_size;
  my_capacity = v.my_capacity;
  buffer = new T[my_size];  
  for ( int i = 0; i < my_size; i++)
    buffer[i] = v.buffer[i];  
}

template<class T>
MyVector<T>::MyVector(int size)
{
  my_capacity = size;
  my_size = size;
  buffer = new T[size];
}

template<class T>
MyVector<T>::MyVector( int size, const T & initial)
{
  my_size = size;
  my_capacity = size;
  buffer = new T [size];
  for (unsigned int i = 0; i < size; i++)
    buffer[i] = initial;
  //T();
}

template<class T>
MyVector<T> & MyVector<T>::operator = (const MyVector<T> & v)
{
  delete[ ] buffer;
  my_size = v.my_size;
  my_capacity = v.my_capacity;
  buffer = new T [my_size];
  for (int i = 0; i < my_size; i++)
    buffer[i] = v.buffer[i];
  return *this;
}

template<class T>
void MyVector<T>::push_back(const T & i)
{
  if (my_capacity == 0)
  {
    my_capacity = 1;
    my_size = 1;
    applied= 0;
    buffer = new T[1];
    buffer[0] = i;
  }
  else
  {
    if (applied+1 == my_capacity)
    {
      int newCapacity = my_capacity * CAPACITY;
      daArray = new T[newCapacity];
      for (int i = 0; i < my_size; i++)
      {
        daArray[i] = buffer[i];  
      }
      my_capacity = newCapacity;    
      delete buffer;
      my_size++;
      applied++;
      buffer[applied] = i;
    }
    else
    {
      if (my_size == applied + 1)
        my_size++;
      applied++;
      buffer[applied] = i;
    }
  }
}

template<class T>
int MyVector<T>::size()const//
{
  return my_size;
}

template<class T>
int MyVector<T>::capacity()const
{
  return my_capacity;
}

template<class T>
MyVector<T>::~MyVector()
{
  delete[ ] buffer;
}

template <class T>
void MyVector<T>::clear()
{
  my_capacity = 0;
  my_size = 0;
  buffer = 0;
}

template <class T>
T MyVector<T>::at(int i)
{
  if (i < 0 || i > my_size -1)
  {
    string error = "Index is undefined";
    throw error;
  }
  return buffer[i];
}

template <class T>
ostream& operator<<(ostream &out, const MyVector<T>& v)
{
  for (unsigned i = 0; i < v.size(); i++)
  {
    out << v[i] << " ";
  }
  return out;
} 
```

主要的

```
int main() {
  MyVector< employee*> payroll;
  payroll.push_back(new Hourly ("H. Potter", "Privet Drive", "201-9090", 40, 12.00));
  payroll.push_back(new Salaried ( "A. Dumbledore", "Hogewarts", "803-1230", 1200));

  ofstream out;
  out.open(file);

  if (out.fail()) {
    cout<<" could not open the file"<<endl;
    system("PAUSE");

  }

  for (int i = 0; i < SIZE; i++) {
    payroll.at(i)->writeFile(out);
  }
  out.close( );
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:46:03.467

您的 push_back 方法中有一个错误。你需要这样的东西

```
if (applied+1 == my_capacity)
{
    int newCapacity = my_capacity * CAPACITY;
    daArray = new T[newCapacity];
    for (int i = 0; i < my_size; i++)
    {
        daArray[i] = buffer[i];  
    }
    my_capacity = newCapacity;  
    delete buffer;
    buffer = daArray; // new line here
    my_size++;
    applied++;
    buffer[applied] = i;
} 
```

看看我把评论放在哪里`// new line here`

# javascript - jwplayer 视频在 IE9 正常模式下无法正常工作

> ID：15827450
> 
> 赞同：2
> 
> 时间：2013-04-05T06:39:25.773
> 
> 标签：javascript, jquery, html, jwplayer

我在使用 JW Player 时遇到问题，它不能在 IE9 正常模式下工作。当我尝试在 IE9 正常模式下播放视频时，它会显示这样的错误消息；

加载媒体时出错：无法播放文件

但它在 IE9 兼容模式和其他浏览器中完美运行。

我的脚本是这样的；

```
<div id="myElement">Loading the player...</div>
<script src="/jwplayer/jwplayer.js"></script>
<script>jwplayer.key="key="</script>
<script type="text/javascript">
    jwplayer("myElement").setup({
      width: '520',
      height: '293',
      playlist: [{
        image: "/video/image.png",
        sources: [{
          file: "/video/video-640x360.m4v",
          label: "360p",
          width: '640',
          height: '360'
        },{
          file: "/video/video-1280x720.m4v",
          label: "720p",
          width: '1280',
          height: '720'
        }]
      }],
      modes: [
            {type: 'flash'},
            {type: 'html5'},
            {type: 'download'}
        ]
    });
</script> 
```

这是flash播放器的问题吗？有什么建议么 ？

请帮助我，谢谢和问候，

阿伦

# c - C 8 位 16 位 32 位编译器的区别

> ID：15827452
> 
> 赞同：3
> 
> 时间：2013-04-05T06:39:43.613
> 
> 标签：c, compiler-construction, 32-bit, 16-bit, 8-bit

这个问题可能是多余的，但我没有找到确切的答案。

C 8 位 16 位 32 位编译器有什么区别。

不同编译器为相同代码生成的 .exe 有何不同............

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T06:43:51.950

16 位编译器将程序编译成 16 位机器代码，该代码将在具有 16 位处理器的计算机上运行。16 位机器代码将在 32 位处理器上运行，但 32 位机器代码不会在 16 位处理器上运行。32 位机器码通常比 16 位机器码快。

对于 16 位编译器，类型大小（以位为单位）如下：

```
short, int: 16 
long: 32 
long long: (no such type) 
pointer: 16/32 (but even 32 means only 1MB address-space on 8086) 
```

使用 32 位编译器，对象大小（以位为单位）如下：

```
short: 16 
int, long: 32 
long long: 64 
pointer: 32 
```

使用 64 位编译器，对象大小（以位为单位）如下：

```
short: 16 
int: 32 
long: 32 or 64 (!) 
long long: 64 
pointer: 64 
```

[虽然上述值通常是正确的，但它们可能因特定操作系统而异。请查看您的编译器文档以了解标准类型的默认大小]

以下可以解释更多... [http://cboard.cprogramming.com/c-programming/96536-16-bit-compilar-32-bit-compilar.html](http://cboard.cprogramming.com/c-programming/96536-16-bit-compilar-32-bit-compilar.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:43:19.110

并不是所有的编译器都会为初学者生成 .exe，不同的平台有不同的形式，你可以给它代码。

8 位编译器针对具有 8 位寄存器的微处理器，同样适用于 16 位和 32 位，以及 64 位。根据微处理器的不同，每个微处理器通常都有内存和硬件的寻址方案。

对于每个 8/16/32/64 位 C 编译器，有许多编译器针对不同的 micros。每个都会针对每个平台进行各种优化。所以...

它们都完全不同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:54:20.630

它还取决于处理器寄存器位。32位编译器可以编译成32位机器码，只能在32位和64位微处理器上运行。但不少于32位。

# javascript - 在文本框cshtml javascript MVC3中插入随机文本

> ID：15827468
> 
> 赞同：1
> 
> 时间：2013-04-05T06:41:08.300
> 
> 标签：javascript, asp.net-mvc, razor

您好我正在尝试制作一个可以在文本框中输入随机文本的 MVC 应用程序。我制作了这个简单的脚本来从数组中获取随机单词

```
<script type="text/javascript">
function random() {
    var adjective = new Array('quick', 'pleasant', 'successive', 'interim',
    'optimistic', 'sensitive', 'temporary', 'reminiscent', 'drooly', 'muddy',
    'maddening', 'ceaseless', 'bawdy', 'earthy', 'european', 'aboard', 
    'innovative', 'broad', 'smelly', 'mad', 'reduced', 'plucky', 'glib', 'liable',
    'ratty', 'venomous', 'chivalrous', 'wide', 'moral', 'scary');
    rdm = Math.floor(Math.random() * adjective.length);
    document.getElementById("adj1").nodeValue = adjective[rdm];
} 
```

然后我有类似的东西

`

```
<div class="editor-label">
    @Html.LabelFor(model => model.adj1)
    <button type="button" title="Random" id="1" onclick="random()">
        <img src="../../Content/themes/base/images/random.png" alt="" />
    </button>
</div>
<div class="editor-field">
    @Html.EditorFor(model => model.adj1) 
    @Html.ValidationMessageFor(model => model.adj1) 
</div>` 
```

似乎我的代码永远不会到达随机函数，我不确定我在这里做错了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:53:08.970

试试这个：

```
document.getElementById("adj1").value = adjective[rdm]; 
```

# iphone - ABNewPersonViewController 自定义

> ID：15827471
> 
> 赞同：1
> 
> 时间：2013-04-05T06:41:10.773
> 
> 标签：iphone, viewcontroller

ABNewPersonViewController 是一个很酷的 VC，用来填写联系信息。我想过滤一些字段，如铃声等。这可能吗？

# dll - 使用使用 afxwinforms.h 的 C++/CLI DLL 作为另一个也使用 afxwinforms.h 的 C++/CLI DLL 的参考

> ID：15827473
> 
> 赞同：3
> 
> 时间：2013-04-05T06:41:15.103
> 
> 标签：dll, mfc, c++-cli

在 Visual C++ 2010 中，我添加了从 C++/CLI DLL ( **ControlWrapper.dll** ) 到另一个 C++/CLI DLL ( **CliLibrary.dll** ) 的引用。

两者都在 stdafx.h 中包含 afxwinforms.h。

当我尝试编译时，出现以下错误：

```
error C2011: 'Microsoft::VisualC::MFC::CWin32Window' : 'class' type redefinition
error C2011: 'Microsoft::VisualC::MFC::CWinFormsEventsHelper' : 'class' type redefinition 
```

如果我打开 Option *Reference Assembly Output*并添加`#using "CliLibrary.dll"`到 using .cpp 文件中，我会收到以下警告：

```
1>ControlWrapper.dll : warning C4944: 'CWin32Window' : cannot import symbol from 'c:\dev\trunk\CliLibrary.dll': as 'Microsoft::VisualC::MFC::CWin32Window' already exists in the current scope
1>     C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\atlmfc\include\afxwinforms.h(83) : see declaration of 'Microsoft::VisualC::MFC::CWin32Window'
1>          This diagnostic occurred while importing type 'Microsoft.VisualC.MFC.CWin32Window' from assembly 'CliLibrary, Version=1.0.4843.17337, Culture=neutral, PublicKeyToken=null'.
1>ControlWrapper.dll : warning C4944: 'CWinFormsEventsHelper' : cannot import symbol from 'c:\dev\sfirm\trunk\sfclrlib\debug\sfclrlib.dll': as 'Microsoft::VisualC::MFC::CWinFormsEventsHelper' already exists in the current scope
1>          C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\atlmfc\include\afxwinforms.h(122) : see declaration of 'Microsoft::VisualC::MFC::CWinFormsEventsHelper'
1>          This diagnostic occurred while importing type 'Microsoft.VisualC.MFC.CWinFormsEventsHelper' from assembly 'CliLibrary, Version=1.0.4843.17337, Culture=neutral, PublicKeyToken=null'. 
```

我该如何解决这个错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T09:46:44.680

嗯，这是一个痛苦的问题。它当然解释了为什么你是我遇到的第一个真正使用它的程序员。问题是由 afxwinforms.h 中的此声明引起的：

```
public ref class CWin32Window : public System::Windows::Forms::IWin32Window
// etc.. 
```

*public*关键字是杀手，它将类添加到程序集的清单中。因此，当您在另一个也包含标头的项目中引用它时，该类有两个定义。该标头中本机类和托管类的混合阻止了干净的解决方案。

我认为您已经找到了最好的解决方案，使用#include 和#pragma comment(disable:4944) 来关闭编译器。在命名空间中包含标头可能是另一个可行的技巧，它重命名了 CWin32Window 的命名空间，但我预计在链接 mfcm90.lib 时会遇到麻烦。重构您的解决方案并将所有 winforms 代码保留在一个项目中是我唯一可以推荐的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-22T11:10:50.217

您是否使用 afxwinforms.h 中的类型？

如果不是（就像我的情况一样），解决方案是注释包含并添加这两行：

```
#using <System.Windows.Forms.dll>
#using <System.Drawing.dll> 
```

或在您的项目中添加对这两个程序集的引用。

# java - 使用 ant 构建文件导入 Web 项目

> ID：15827479
> 
> 赞同：1
> 
> 时间：2013-04-05T06:41:29.873
> 
> 标签：java, eclipse, web-applications, import

我有一个来自`TrortoiseSVN`. 当我将这个项目导入`workspace`使用 ANT`build.xml`时，它变成了一个简单的 java 项目。它无法识别**web-inf**和 web 根文件夹。我如何将这个项目导入`workspace`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:57:51.363

对于 Juno，执行 File->New->Other，然后选择 File -> New -> Other，在 New 对话框中，从 Existing Ant Buildfile 中选择 Java Project

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:16:31.880

尝试以不同的方式导入项目，也许将其作为现有项目导入 eclipse

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T07:48:35.763

您可以根据需要创建一个空项目，然后将文件复制到您创建的项目中。然后输入“F5”看看成功与否！

# java - testNG 的反射

> ID：15827483
> 
> 赞同：0
> 
> 时间：2013-04-05T06:41:35.627
> 
> 标签：java, spring, reflection, spring-security, testng

我有一种方法用于通过弹簧安全性限制访问。以下是方法：

```
@PreAuthorize("isAuthenticated() and hasPermission(#request, 'CREATE_REQUISITION')")
    @RequestMapping(method = RequestMethod.POST, value = "/trade/createrequisition")
    public @ResponseBody
    void createRequisition(@RequestBody CreateRequisitionRO[] request,
            @RequestHeader("validateOnly") boolean validateOnly) {
        logger.debug("Starting createRequisition()...");
        for (int i = 0; i < request.length; i++) {
            CreateRequisitionRO requisitionRequest = request[i];

            // FIXME this has to be removed/moved
            requisitionRequest.setFundManager(requisitionRequest.getUserId());
            // FIXME might have to search using param level as well
            SystemDefault sysDefault = dbFuncs.references.systemDefault
                    .findByCompanyAndDivisionAndPortfolio(
                            userContext.getCompany(),
                            userContext.getDivision(),
                            requisitionRequest.getPortfolio());
            requisitionRequest.setCustodianN(sysDefault.getCustodianN());

            gateKeeper.route(requisitionRequest);
        }
    } 
```

现在我想在运行时使用 java Reflection 来测试该方法是否像单元测试一样工作正常。

我曾尝试为上述内容编写 TestNG，但由于我们拥有的项目架构而无法正常工作，因此决定使用反射进行测试`[though which is not a good way of doing this and later we will find the solution for this]`。

我的问题是如何为该方法创建一个 java 反射类并调用上述方法并将 URL 发送`/trade/createrequisition`到服务器，无论登录用户是否可以访问它。

这该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:50:25.457

如果您想检查是否在方法上添加了安全注释，那么在使用 java 反射 API 的单元测试用例中，您可以这样做。

使用反射找到方法并检查 method.getAnnotation(PreAuthorize.class)

但实际上您应该将此作为集成/功能测试进行测试。

# spring-roo - how to create my queru in spring roo

> ID：15827484
> 
> 赞同：0
> 
> 时间：2013-04-05T06:41:40.667
> 
> 标签：spring-roo, spring-data, spring-data-jpa

i am a beginner.

I am try to created a custom finder. and used "repository jpa " command. this is my repository:

```
 @RooJpaRepository(domainType = Speaker.class)
public interface SpeakerRepository {
    @Query("select u from Speaker u where username = :un")  
    public List<Speaker> findllAllSpeakersNamed(@Param("un") String lastname); 
    } 
```

Service:

```
public class SpeakerServiceImpl implements SpeakerService {
@Autowired 
SpeakerRepository speakerRepository;
public List<Speaker> findllAllSpeakersNamed(String lastName) {
    return speakerRepository.findllAllSpeakersNamed(lastName);
 }
} 
```

and controller:

```
@RequestMapping("/findASpeaker/**")
@Controller
public class FindASpeaker {

    @Autowired
    SpeakerServiceImpl speakerServiceImpl;

    @RequestMapping(method = RequestMethod.POST, value = "{id}")
    public void post(@PathVariable Long id, ModelMap modelMap, HttpServletRequest request, HttpServletResponse response) {
    }

    @RequestMapping
    public  String  index(@RequestParam("lastname")String lastname) {
        String Lastname=lastname;
        ModelMap modle=new ModelMap ();

        List<Speaker> list = speakerServiceImpl.findllAllSpeakersNamed(Lastname);
        modle.addAttribute("speakers",list);

        return  "findASpeaker/index";
    }  

} 
```

This can not work.,,,,

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T19:57:29.037

您的存储库是一个接口。Spring Data 应该根据方法的名称自动检测查询，例如“List findUsersByNameDesc(String name);” 将自动创建一个方法来查询具有给定名称的所有用户。@Query 只是告诉它不要猜测查询，而是使用您提供的查询。一个例子可以在[这里找到](http://static.springsource.org/spring-data/jpa/docs/1.3.0.RELEASE/reference/html/jpa.repositories.html#jpa.query-methods.at-query)。

# iphone - 在 cocos2d 中获取发送者对象

> ID：15827488
> 
> 赞同：0
> 
> 时间：2013-04-05T06:42:11.293
> 
> 标签：iphone, objective-c, xcode, cocos2d-iphone, ccsprite

我正在使用 cocos2d 制作游戏。通过使用以下代码，我添加了一个动画。如何发送`CCSprite`参考？

```
if(sprite != monkey)
{
    [self scheduleOnce:@selector(animate_sprite:) delay:0.1f];
}

-(void)animate_sprite:(ccTime) dt
{
    id s2 = [CCScaleTo actionWithDuration:0.5 scaleX:2.0 scaleY:2.0];
    id fun = [CCCallFuncN actionWithTarget:self selector:@selector(spriteDone:)];
    [sprite runAction:[CCSequence actions:s2,fun,nil]];
} 
```

如何在`animate_sprite`方法中获取精灵引用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:45:57.713

你可以使用`performSelector:withObject:afterDelay`它来做同样的事情。

```
if(sprite != monkey)
{
    [self performSelector:@selector(animate_sprite:) withObject:sprite afterDelay:0.1f];
}

-(void)animate_sprite:(CCSprite *)sprite
{

    id s2 = [CCScaleTo actionWithDuration:0.5 scaleX:2.0 scaleY:2.0];
    id fun = [CCCallFuncN actionWithTarget:self selector:@selector(spriteDone:)];
    [sprite runAction:[CCSequence actions:s2,fun,nil]];
} 
```

因此，只需编辑您的方法以使用精灵而不是 ccTime 对象，因为您根本没有使用它。

# ember.js - Defining an API endpoint on a model-by-model basis

> ID：15827489
> 
> 赞同：1
> 
> 时间：2013-04-05T06:42:20.920
> 
> 标签：ember.js, ember-data

(This question is a continuation of [this one](https://stackoverflow.com/q/15812438/647991))

I need to specify the API endpoints on a model by model basis. How can I do this? The closest I have come to this is the description of [namespace](http://emberjs.com/guides/models/the-rest-adapter/#toc_endpoint-path-customization), but this applies to the top-level URL.

My problem is that my API structure is not the one that emberjs expects. For example, I have this two objects, with completely different API endpoints:

```
phones -> /api/nodes/extensions/phones
nodes  -> /api/nodes 
```

How can I configure the endpoints for each model?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T14:45:21.937

如果我没记错的话，你应该可以设置`Model`url 属性，如下所示：

```
App.Phone = DS.Model.extend({
    description: DS.attr('string'),
    number: DS.attr('string')
}).reopenClass({
    url: 'api/nodes/extensions/phones'
});

App.Node= DS.Model.extend({
    description: DS.attr('string')
}).reopenClass({
    url: 'api/nodes'
}); 
```

我没有在第 12 版中尝试过这个，所以我不能保证它有效。

或者，您可能想查看这个[问题和答案](https://stackoverflow.com/questions/14710296/add-extra-url-params-per-model-with-ember-js)，它讨论了类似的场景，但对修订版 11 中引入[的特定模型使用适配器。](https://github.com/emberjs/data/blob/master/BREAKING_CHANGES.md#loading-data)

# .net - AD：组没有 primaryGroupToken 属性

> ID：15827491
> 
> 赞同：0
> 
> 时间：2013-04-05T06:42:42.280
> 
> 标签：.net, vb.net, active-directory, directoryservices

我需要更改用户的主要组，以便可以将其从当前组中删除。但是我的组没有属性“primaryGroupToken”，我需要它来更改用户的主要组。这是属性编辑器的屏幕截图：

![在此处输入图像描述](https://i.stack.imgur.com/84rUJ.png)

显然，我的代码没有响应：

![在此处输入图像描述](https://i.stack.imgur.com/wNpWH.png)

```
Dim domainGroup As New DirectoryEntry("LDAP://our.domain/CN=Domain Users,CN=Users,DC=our,DC=domain")
Dim domainGroupGroupToken As String = domainGroup.Properties("primaryGroupToken").Value.ToString() 
```

有没有办法手动设置？还是我的代码有问题？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:23:38.597

这是一个计算属性。[从这里](http://microsoft.public.adsi.general.narkive.com/EtZusqyS/how-get-primarygrouptoken-using-c)窃取，您只需要[`RefreshCache`](http://msdn.microsoft.com/en-gb/library/913td91k.aspx)在访问该属性之前添加一个调用：

```
Dim domainGroup As New DirectoryEntry("LDAP://our.domain/CN=Domain Users,CN=Users,DC=our,DC=domain")
domainGroup.RefreshCache(New String() {"primaryGroupToken"})
Dim domainGroupGroupToken As String = domainGroup.Properties("primaryGroupToken").Value.ToString() 
```

（未测试，我的VB有点生疏）

# android - how do I install the traceroute functionality from busybox programmatically

> ID：15827492
> 
> 赞同：2
> 
> 时间：2013-04-05T06:42:59.283
> 
> 标签：android, busybox, traceroute

I am currently working on implementing traceroute functionality in android and for that I need some help.

I aksed question on this on [SO](https://stackoverflow.com/questions/15804499/implement-traceroute-functionality-in-android).

And in answer user of suggested me to do following :

**The [busybox](https://code.google.com/p/busybox-android/) utility includes traceroute. You can run busybox on your device without rooting your phone by following this [youtube tutorial](http://www.youtube.com/watch?v=L_bVC0x4l-g). You should then be able to use the first code segment you posted to query traceroute from within your app. Of course, you will need to make sure that you use the correct path when calling traceroute.**

Now you will think why I am asking same again but I watched video and coudnt understand how to make it work in my application as If I want to make app like this how can I install busybox apk in user's device.

So please show me some code so that I can understand it.

# jquery - jquery记住选项选择

> ID：15827494
> 
> 赞同：0
> 
> 时间：2013-04-05T06:43:06.500
> 
> 标签：jquery

如何使用 jquery 记住用户之前选择的选项，当从发布到自身时？（选定=“选定”）

```
<form action="abc.php" method="POST">
<select id="dropdown">
    <option value="A">A</option>
    <option value="B">B</option>
    <option value="C">C</option>
</select>
<input type="submit" />
</form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:46:47.797

如果你*真的*想用 JavaScript 来做，你将不得不使用 cookie。你可以在[这里](http://www.w3schools.com/js/js_cookies.asp)阅读。还有 jQuery 的 cookie 管理插件，只需 google 一些类似`jQuery cookie plugin`.

否则，如果您因为某些字段未填写或出现类似问题而返回表单，我建议您使用 PHP（我看到您正在使用它）来设置所选值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:54:52.377

如果我正确理解您的要求：

```
<form action="abc.php" method="POST">
<select id="dropdown" name="dropdown">
    <option <?php if(isset($_POST['dropdown']) && $_POST['dropdown'] == 'A') echo 'selected="selected"';?> value="A">A</option>
    <option <?php if(isset($_POST['dropdown']) && $_POST['dropdown'] == 'B') echo 'selected="selected"';?> value="B">B</option>
    <option <?php if(isset($_POST['dropdown']) && $_POST['dropdown'] == 'C') echo 'selected="selected"';?> value="C">C</option>
</select>
<input type="submit" />
</form> 
```

PS：如果您使用 PHP 提交表单，您还需要标签的`name`属性。`select`此外，我假设`abc.php`存在此表单的页面相同。

# java - Docx4j - 文档中的图像

> ID：15827498
> 
> 赞同：1
> 
> 时间：2013-04-05T06:43:17.270
> 
> 标签：java, ms-word, docx4j

我们如何从 docx4j 中删除图像。

假设我有 10 个图像，我想用我自己的字节数组/二进制数据替换 8 个图像，我想删除剩余的 2 个。

我也无法定位图像。

是否可以用图像替换文档中的文本占位符？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T10:35:48.370

参考这篇文章：http: [//vixmemon.blogspot.com/2013/04/docx4j-replace-text-placeholders-with.html](http://vixmemon.blogspot.com/2013/04/docx4j-replace-text-placeholders-with.html)

```
for(Object obj : elemetns){
   if(obj instanceof Tbl){
      Tbl table = (Tbl) obj;
         List rows = getAllElementFromObject(table, Tr.class);
            for(Object trObj : rows){
         Tr tr = (Tr) trObj;
         List cols = getAllElementFromObject(tr, Tc.class);
         for(Object tcObj : cols){
            Tc tc = (Tc) tcObj;
            List texts = getAllElementFromObject(tc, Text.class);
            for(Object textObj : texts){
              Text text = (Text) textObj;
                     if(text.getValue().equalsIgnoreCase("${MY_PLACE_HOLDER}")){
                        File file = new File("C:\\image.jpeg");
                 P paragraphWithImage = addInlineImageToParagraph(createInlineImage(file));
                        tc.getContent().remove(0);

                        tc.getContent().add(paragraphWithImage);
              }
                  }
           System.out.println("here");
         }
           }
        System.out.println("here");
    }
}

wordMLPackage.save(new java.io.File("C:\\result.docx")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T08:43:59.020

请参阅[docx4j 检查复选框](https://stackoverflow.com/questions/15763778/docx4j-checking-checkboxes)以了解查找内容的 2 种方法（XPath 或非 XPath 遍历）。

VariableReplace 允许您替换文本占位符，但不能替换图像。我认为可能有代码浮动（在 docx4j 论坛中？）它扩展它来做到这一点。

但我建议您改用内容控制数据绑定。了解[如何使用 docx4j 从模板创建新单词](https://stackoverflow.com/questions/15446805/how-to-create-a-new-word-from-template-with-docx4j)

您可以在 XML 数据中使用 base64 编码的图像，剩下的工作由 docx4j 和/或 Word 完成。

# c++ - Fastest Speech recognition library C++

> ID：15827504
> 
> 赞同：19
> 
> 时间：2013-04-05T06:43:36.047
> 
> 标签：c++, kinect, speech-recognition, speech, sapi

I know its a general question topic, but still i want to know whats the fastest speech recognition library in C++?

Currently I am using Microsoft SAPI with kniect. It works fine and recognizes words but its abit slow, some times it takes 1,2 seconds to recognize a word and in my case this lag is causing alot of interaction issues for the user.

I checked the sample provided with the kinect, in which the turtle moves left right according to words recognized but even thats a bit slow.

So I was wondering if there is any faster library then sapi, that can be used in cases like a robot using voice recognition you say "left" then "right" but robot keeps moving left and turns right after 1,2 seconds its a bit frustrating for the user.

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T06:51:24.930

问题不是很快，而是使用 API 的正确方法。语音识别是一个耗时的过程，因此主要技巧是在录制音频**后立即**开始识别音频，同时进行录制。然后到说出短语结尾的那一刻，您将获得几乎所有结果并且可以立即做出反应。

这种方式可以实现0.2秒的响应时间，但是需要更灵活的API来实现。[CMUSphinx](http://cmusphinx.sourceforge.net)是一个不错的选择，它是一个开源语音识别框架，您可以将其用于您的实现

# silverlight - Issue in vertical scrollbar in silverlight datagrid

> ID：15827506
> 
> 赞同：1
> 
> 时间：2013-04-05T06:44:03.707
> 
> 标签：silverlight, datagrid

I'm using a silverlight datatgrid in my project with checkbox in the header for SelectAll option.

While scrolling the datagrid vertically, the header checkbox status is changing randomly but the content checkbox status is remains correct.

Please help me if anyone come across this issue.

```
<control:DataGrid.RowGroupHeaderStyles>
   <Style TargetType="control:DataGridRowGroupHeader">
         <Setter Property="PropertyNameVisibility" Value="Collapsed" />
         <Setter Property="Background" Value="LightGray" />
         <Setter Property="Foreground" Value="#FF404040" />
         <Setter Property="SublevelIndent" Value="15" />
         <Setter Property="Template">
              <Setter.Value>
                <ControlTemplate TargetType="control:DataGridRowGroupHeader">
                  <Primitives:DataGridFrozenGrid Name="Root" Background="{TemplateBinding Background}">
                     <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CurrentStates">
                           <VisualState x:Name="Regular"/>
                              <VisualState x:Name="Current">
                               <Storyboard>
                               <DoubleAnimation Storyboard.TargetName="FocusVisual" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                </Storyboard>
                             </VisualState>
                         </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <Primitives:DataGridFrozenGrid.Resources>
                          <ControlTemplate x:Key="ToggleButtonTemplate" TargetType="ToggleButton">
                          <Grid Background="Transparent">
                               <VisualStateManager.VisualStateGroups>
                                  <VisualStateGroup x:Name="CommonStates">
                                     <VisualState x:Name="Normal"/>
                                       <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                          <ColorAnimation Storyboard.TargetName="CollapsedArrow" Storyboard.TargetProperty="(Stroke).Color" Duration="0" To="#FF6DBDD1"/>
                                            <ColorAnimation Storyboard.TargetName="ExpandedArrow" Storyboard.TargetProperty="(Fill).Color" Duration="0" To="#FF6DBDD1"/>
                                        </Storyboard>
                                      </VisualState>
                                     <VisualState x:Name="Pressed">
                                       <Storyboard>
                                         <ColorAnimation Storyboard.TargetName="CollapsedArrow" Storyboard.TargetProperty="(Stroke).Color" Duration="0" To="#FF6DBDD1"/> 
```

```
 <Path Stretch="Uniform" Data="F1 M 0,0 L 0,1 L .6,.5 L 0,0 Z" Width="5" HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="CollapsedArrow" Visibility="Collapsed" Stroke="#FF414345"/>
                                                <Path Stretch="Uniform" Data="F1 M 0,1 L 1,1 L 1,0 L 0,1 Z" Width="6" HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="ExpandedArrow" Fill="#FF414345"/>
                                            </Grid>
                                        </ControlTemplate>
                                    </Primitives:DataGridFrozenGrid.Resources>

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <Rectangle Grid.Column="1" Grid.ColumnSpan="5" Fill="#FFFDD234" Height="1"/>
                                    <Rectangle Grid.Column="1" Grid.Row="1" Name="IndentSpacer" />
                                    <ToggleButton Grid.Column="2" Grid.Row="1" Name="ExpanderButton" Height="15" Width="15" IsTabStop="False" Template="{StaticResource ToggleButtonTemplate}" Margin="2,0,0,0"/>

                                    <StackPanel Grid.Column="3" Grid.Row="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,1,0,1">
                                        <CheckBox Tag="{Binding}" Name="headerCheck" Click="headerCheck_Click"  HorizontalAlignment="Left"   />
                                    </StackPanel>

                                    <Rectangle Grid.Column="1" Grid.ColumnSpan="5" Fill="#FF4F54DA" Height="1" Grid.Row="2"/>
                                    <Rectangle Name="FocusVisual" Grid.Column="1" Grid.ColumnSpan="4" Grid.RowSpan="3" Stroke="#FF6DB112" StrokeThickness="1" HorizontalAlignment="Stretch" 
                           VerticalAlignment="Stretch" IsHitTestVisible="false" Opacity="0" />
                                    <Primitives:DataGridRowHeader Name="RowHeader" Grid.RowSpan="3" Primitives:DataGridFrozenGrid.IsFrozen="True" />

                                </Primitives:DataGridFrozenGrid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </control:DataGrid.RowGroupHeaderStyles> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-29T10:33:34.303

It is due to virtualization usage by Silverlight.

I came across this problem when you scroll, data within the grid changes in terms of display. But in actuality it is the same. It is just a fact that on UI, silverlight shows it incorrectly because it uses the same controls while rendering.

The best way is to handle your logic inside LoadingRow and UnloadingRow events of the datagarid.

I have some detail posted on the following link:

[https://stackoverflow.com/a/25566163/3989725](https://stackoverflow.com/a/25566163/3989725)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T19:26:17.263

您将标题复选框绑定到当前项目，并且当您滚动它时它会发生变化。除非您使用 setter 更改 ItemsSource 集合中的所有值，否则我不会将此复选框绑定到任何内容。在这种情况下，请确保没有其他任何东西改变它所绑定的属性的值。

# android - Overflow icon is not coming the Actionbar of ActionBarSherlock

> ID：15827507
> 
> 赞同：0
> 
> 时间：2013-04-05T06:44:21.150
> 
> 标签：android, android-actionbar, actionbarsherlock

I am new to Android. I am trying to use Actionbarsherlock in my application. I tried the following code in the onCreateOptionsMenu :

```
 menu.add("Save").setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
  menu.add("Edit").setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
  menu.add("Clear").setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
  menu.add("Refresh").setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
  menu.add("Save all").setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS); 
```

But i am not getting the overflow icon in the actionbar. I understood its a silly mistake. But i couldn't find where it is. Please help me to fix it!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:58:43.607

既然你要求`MenuItem.SHOW_AS_ACTION_ALWAYS`我认为没有菜单项进入溢出。

此外，如果设备有**硬件菜单按钮**，那么多余的图标不会溢出，而是您可以使用菜单按钮访问它们。

# c# - Windows 服务应在启动时加载表单

> ID：15827512
> 
> 赞同：-4
> 
> 时间：2013-04-05T06:44:47.177
> 
> 标签：c#, login, windows-services, windows-authentication

如何在 Windows 服务的 OnStart 事件中加载“登录表单”？！我知道 Windows 服务与 UI 不兼容。但我需要在不使用 Windows 启动的情况下执行此操作。这可能吗？如何？非常感谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T06:51:19.477

> 如何在 Windows 服务的 OnStart 事件中加载“登录表单”？

您不能这样做，因为 Windows 服务无法显示用户界面。

> 我知道 Windows 服务与 UI 不兼容。

哦。你已经知道了。好的。

> 但我需要在不使用 Windows 启动的情况下执行此操作..

这不会改变它不受支持且不起作用的事实。

> 是否可以？如何？

没有为什么：

> windows 服务与 UI 不兼容。

* * *

### 那我该怎么办！？！

这里真正的答案是你的设计是错误的。

如果您需要有人登录您的应用程序，则不应创建服务。

只需制作一个标准的 Windows 应用程序（例如，使用 Windows 窗体或 WPF）并将其设置为在任何用户登录到计算机时自动启动。这可以通过将快捷方式添加到所有用户的“启动”文件夹来轻松完成。

然后，当您的应用程序运行时，您可以显示所需的任何 UI，而不受服务的限制。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:55:42.307

如果您**需要**将 UI 交互与服务结合起来，您应该编写*两个*程序 - 服务，它公开某种 API，以及一个与该 API 交互的客户端程序（使用您想要选择的任何 IPC 机制）

请记住，多个用户可以登录同一台机器，因此您应该编写所有内容以应对同时运行的客户端程序的多个实例。

# php - IOS游戏-生命再生

> ID：15827514
> 
> 赞同：0
> 
> 时间：2013-04-05T06:45:01.430
> 
> 标签：php, ios, objective-c, cocos2d-iphone

我有一个带有 php/mysql 服务器的 IOS / cocos2d 游戏，其中用户在开始时获得 5 条生命。用户可以在任何设备上连接以通过他们的 Facebook 帐户进行游戏。

他们每玩一次游戏，就会消耗一个生命。生命值每 10 分钟重新生成一次，无论应用程序是否处于活动状态、已退出或已终止。

我知道我可以在应用程序处于活动状态时使用 NSTimer 或 CCDelayTime 来“重新生成”生命，但是如何在应用程序最小化或关闭时让它持续存在？我应该在服务器端实现这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:49:07.603

由于您希望生活信息在所有设备上都可用，因此您必须将信息存储在服务器上。如果您只是希望数据保留在单个设备上，您可以`NSUserDefaults`在应用不活动时使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:51:28.443

> 我应该在服务器端实现这个吗？

我认为您应该在服务器端处理此问题，主要原因有两个：

1.  您说您的应用程序可以在多个设备上播放。无论您使用什么设备，剩余生命的数量都应该相同，因此需要将其保存在一个独特的地方。

2.  此外，在服务器端保持生命数将防止用户通过在本地更改剩余生命数来尝试破解您的应用程序。

# android - Android getLastKnownLocation does not report good precise result compared with Google maps app

> ID：15827521
> 
> 赞同：0
> 
> 时间：2013-04-05T06:45:25.120
> 
> 标签：android, maps, locationmanager

I am in a trouble about using LocationManager in Android. The Locations from all LocationProvider's getLastKnownLocation are not enough in accuracy. In my phone, Galaxy S3, 'network' and 'passive' give me the locations when I use the getLastKnownLocation method of the LocationProvider. 'gps' is disabled in my phone. The locations are..

network --> latitude : XX.5511981, longitude : XXX.1284714 passive --> latitude : XX.5511981, longitude : XXX.1284714

Both give me same location information. But the location is very wrong. It is about 50Km wrong location.

In that time, I run the Google maps app in the phone, which reports precise location point. How can the Google maps app obtain the higher precise location information than my app does?

PS. I registered LocationListners for every location provides with '0' minTime and '0' minDistance. But my phone never reports any location changes in several 10 minutes. I think this behavior is acceptable because the phone just stayed in my desk for that duration. But this condition is same for the Google maps app. It reports the phone's location exactly still.

UPDATE. I tested my code in Galaxy S2\. In this case, I requested 3 provides' getLastKnownLocation(GPS, NETWORK, PASSIVE). All the locations was null. And I registered LocationListeners for all the provides. It did not report anything. But in that time, the Google Map apps showed me precise location of the phone. Amazing!. Where does the Google Map apps get location information from?. Following is my test code.

```
 LocationListener locationListenerNetwork = new LocationListener() {
        public void onLocationChanged(Location location) {
            Log.i("location","location chagned x:"+location.getLatitude()+" y:"+location.getLongitude()+" prov:"+location.getProvider());
            Date d = new Date(location.getTime());
            Log.i("location","date:"+d);
        }
        public void onProviderDisabled(String provider)
        {
            Log.i("location","disable:" +provider);
        }
        public void onProviderEnabled(String provider)
        {
            Log.i("location","Enable:" +provider);          
        }
        public void onStatusChanged(String provider, int status, Bundle extras) 
        {
            Log.i("location","onStatusChanged:" +provider);                     
        }
    };

    LocationListener locationListenerPassive = new LocationListener() {
        public void onLocationChanged(Location location) {
            Log.i("location","location chagned x:"+location.getLatitude()+" y:"+location.getLongitude()+" prov:"+location.getProvider());
            Date d = new Date(location.getTime());
            Log.i("location","date:"+d);
        }
        public void onProviderDisabled(String provider)
        {
            Log.i("location","disable:" +provider);
        }
        public void onProviderEnabled(String provider)
        {
            Log.i("location","Enable:" +provider);          
        }
        public void onStatusChanged(String provider, int status, Bundle extras) 
        {
            Log.i("location","onStatusChanged:" +provider);                     
        }
    };

    LocationListener locationListenerGps = new LocationListener() {
        public void onLocationChanged(Location location) {
            Log.i("location","location chagned x:"+location.getLatitude()+" y:"+location.getLongitude()+" prov:"+location.getProvider());
            Date d = new Date(location.getTime());
            Log.i("location","date:"+d);
        }
        public void onProviderDisabled(String provider)
        {
            Log.i("location","disable:" +provider);
        }
        public void onProviderEnabled(String provider)
        {
            Log.i("location","Enable:" +provider);          
        }
        public void onStatusChanged(String provider, int status, Bundle extras) 
        {
            Log.i("location","onStatusChanged:" +provider);                     
        }
    };

    void showDebug(String provider)
    {
        Location location = lm.getLastKnownLocation(provider);
        if(location!=null)
        {
            Log.i("location","all location provider:"+provider+" x:"+location.getLatitude()+" y:"+
                    location.getLongitude()+" actually provider:"+location.getProvider()+" accuracy:"+location.getAccuracy()+" time:"+location.getTime());
            Date d = new Date(location.getTime());
            Log.i("location","date:"+d);
            if(this.current==null)this.current=location;
            else if(this.current!=null && isBetterLocation(location,this.current))this.current=location;
        }
        else Log.i("location","all location provider:"+provider);

    }

    void start()
    {
        lm = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);

        lm.removeUpdates(locationListenerNetwork);
        lm.removeUpdates(locationListenerPassive);  
        lm.removeUpdates(locationListenerGps);  

        lm.requestLocationUpdates(LocationManager.NETWORK_PROVIDER,0, 0, locationListenerNetwork);
        lm.requestLocationUpdates(LocationManager.PASSIVE_PROVIDER, 0, 0, locationListenerPassive);
        lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListenerGps);

        showDebug(LocationManager.NETWORK_PROVIDER);
        showDebug(LocationManager.PASSIVE_PROVIDER);
        showDebug(LocationManager.GPS_PROVIDER);
    } 
```

# java - 非法访问：此 Web 应用程序实例已被停止。无法加载 org.apache.log4j.spi.NOPLoggerRepository

> ID：15827522
> 
> 赞同：1
> 
> 时间：2013-04-05T06:45:31.200
> 
> 标签：java, tomcat, tomcat6, netbeans6.7

我正在使用`Netbeans 6.7`with`Tomcat 6.0`和 jasper 报告在 Web 应用程序中生成报告。当我运行我的应用程序时，我总是得到这个异常。有人可以帮帮我吗？

例外是

```
INFO: Illegal access: this web application instance has been stopped already.  Could not load org.apache.log4j.spi.NOPLoggerRepository.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.
java.lang.IllegalStateException
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1566)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1526)
        at org.apache.log4j.LogManager.getLoggerRepository(LogManager.java:175)
        at org.apache.log4j.LogManager.getLogger(LogManager.java:199)
        at org.apache.log4j.Logger.getLogger(Logger.java:105)
        at org.apache.commons.logging.impl.Log4JLogger.getLogger(Log4JLogger.java:283)
        at org.apache.commons.logging.impl.Log4JLogger.info(Log4JLogger.java:193)
        at org.hibernate.connection.DriverManagerConnectionProvider.close(DriverManagerConnectionProvider.java:147)
        at org.hibernate.connection.DriverManagerConnectionProvider.finalize(DriverManagerConnectionProvider.java:142)
        at java.lang.ref.Finalizer.invokeFinalizeMethod(Native Method)
        at java.lang.ref.Finalizer.runFinalizer(Finalizer.java:83)
        at java.lang.ref.Finalizer.access$100(Finalizer.java:14)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:160) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-01T22:11:13.327

这可能是由于内存问题，我收到了这条消息，还有一个 java.lang.OutOfMemoryError: Java heap space,adjust startup parameters to: -XX:PermSize=512M -Xms1024m -Xmx4096m 解决了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-16T14:39:24.010

我发现在 Tomcat 上使用 Netbeans 运行我的 JSP Web 应用程序时偶尔会遇到类似的错误，并且总是在调试它时。就我而言，它是*“无法加载 Java.lang.math 或 Oracle.lnx.lib”*。一位同事让我从 tomcat 取消部署 Web 应用程序实例，它解决了这个问题。要取消部署 Web 应用程序实例，请转到“**服务”选项卡 >“服务器**” ，然后双击**Apache Tomcat 或 TomEE**在打开 netbeans 后运行应用程序一次后，应该会出现一个 Web 应用程序文件夹。如果您双击它，您应该会看到您的应用程序的实例出现。您应该能够右键单击它们，然后单击取消部署（您可能必须右键单击它们并首先单击停止）。最后，在构建和运行应用程序之前，您应该停止然后启动 tomcat。

希望这可以帮助。

![为清楚起见，请参阅随附的屏幕截图](https://i.stack.imgur.com/zdpbU.png)

# entity-framework - System.AccessViolationException due a System.Data.Objects.ObjectQuery

> ID：15827523
> 
> 赞同：0
> 
> 时间：2013-04-05T06:45:31.903
> 
> 标签：entity-framework, access-violation

From time to time I'm getting an Exception of the type System.AccessViolationException in my w3wp.exe that crash the app.

The stack of the exception is this (got from the event viewer):

```
Log Name:      Application
Source:        .NET Runtime
Date:          05-04-2013 00:00:27
Event ID:      1026
Task Category: None
Level:         Error
Keywords:      Classic
User:          N/A
Computer:      MYSERVER
Description:
Application: w3wp.exe
Framework Version: v4.0.30319
Description: The process was terminated due to an unhandled exception.
Exception Info: System.AccessViolationException
Stack:
   at System.Collections.Generic.List`1[[System.__Canon, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]..ctor()
   at System.Data.Common.Internal.Materialization.CoordinatorScratchpad..ctor(System.Type)
   at System.Data.Common.Internal.Materialization.Translator.ProcessCollectionColumnMap(System.Data.Query.InternalTrees.CollectionColumnMap, System.Data.Common.Internal.Materialization.TranslatorArg, System.Data.Query.InternalTrees.ColumnMap, System.Object)
   at System.Data.Common.Internal.Materialization.Translator.Visit(System.Data.Query.InternalTrees.SimpleCollectionColumnMap, System.Data.Common.Internal.Materialization.TranslatorArg)
   at System.Data.Query.InternalTrees.SimpleCollectionColumnMap.Accept[[System.__Canon, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.Data.Common.Internal.Materialization.TranslatorArg, System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]](System.Data.Query.InternalTrees.ColumnMapVisitorWithResults`2<System.__Canon,System.Data.Common.Internal.Materialization.TranslatorArg>, System.Data.Common.Internal.Materialization.TranslatorArg)
   at System.Data.Common.Internal.Materialization.Translator.TranslateColumnMap[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]](System.Data.Common.QueryCache.QueryCacheManager, System.Data.Query.InternalTrees.ColumnMap, System.Data.Metadata.Edm.MetadataWorkspace, System.Data.Objects.Internal.SpanIndex, System.Data.Objects.MergeOption, Boolean)
   at System.Data.Common.Internal.Materialization.ShaperFactory+TypedShaperFactoryCreator`1[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]].TypedCreate(System.Data.Common.QueryCache.QueryCacheManager, System.Data.Query.InternalTrees.ColumnMap, System.Data.Metadata.Edm.MetadataWorkspace, System.Data.Objects.Internal.SpanIndex, System.Data.Objects.MergeOption, Boolean)
   at System.Data.Common.Internal.Materialization.ShaperFactory.Create(System.Type, System.Data.Common.QueryCache.QueryCacheManager, System.Data.Query.InternalTrees.ColumnMap, System.Data.Metadata.Edm.MetadataWorkspace, System.Data.Objects.Internal.SpanIndex, System.Data.Objects.MergeOption, Boolean)
   at System.Data.Objects.Internal.ObjectQueryExecutionPlan.Prepare(System.Data.Objects.ObjectContext, System.Data.Common.CommandTrees.DbQueryCommandTree, System.Type, System.Data.Objects.MergeOption, System.Data.Objects.Span, System.Collections.ObjectModel.ReadOnlyCollection`1<System.Collections.Generic.KeyValuePair`2<System.Data.Objects.ObjectParameter,System.Data.Objects.ELinq.QueryParameterExpression>>)
   at System.Data.Objects.ELinq.ELinqQueryState.GetExecutionPlan(System.Nullable`1<System.Data.Objects.MergeOption>)
   at System.Data.Objects.ObjectQuery`1[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]].GetResults(System.Nullable`1<System.Data.Objects.MergeOption>)
   at System.Data.Objects.ObjectQuery`1[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]].System.Collections.Generic.IEnumerable<T>.GetEnumerator()
   at System.Linq.Enumerable.Single[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]](System.Collections.Generic.IEnumerable`1<Boolean>)
   at System.Data.Objects.ELinq.ObjectQueryProvider.<GetElementFunction>b__3[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]](System.Collections.Generic.IEnumerable`1<Boolean>)
   at System.Data.Objects.ELinq.ObjectQueryProvider.ExecuteSingle[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]](System.Collections.Generic.IEnumerable`1<Boolean>, System.Linq.Expressions.Expression)
   at System.Data.Objects.ELinq.ObjectQueryProvider.System.Linq.IQueryProvider.Execute[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]](System.Linq.Expressions.Expression)
   at System.Linq.Queryable.Any[[System.__Canon, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]](System.Linq.IQueryable`1<System.__Canon>)
   at MY.WebService.NetworkValidation.ValidIp(System.String)
   at MY.WebService.SedeService.IsLogged(MY.DataBase.SedeData.User)
   at MY.WebService.Sede.IsLogged()
   at DynamicClass.SyncInvokeIsLogged(System.Object, System.Object[], System.Object[])
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(System.Object, System.Object[], System.Object[] ByRef)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(System.ServiceModel.Dispatcher.MessageRpc ByRef)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(System.ServiceModel.Channels.RequestContext, Boolean, System.ServiceModel.OperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(System.ServiceModel.Channels.RequestContext, System.ServiceModel.OperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(System.IAsyncResult)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(System.Object)
   at System.Runtime.IOThreadScheduler+ScheduledOverlapped.IOCallback(UInt32, UInt32, System.Threading.NativeOverlapped*)
   at System.Runtime.Fx+IOCompletionThunk.UnhandledExceptionFrame(UInt32, UInt32, System.Threading.NativeOverlapped*)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32, UInt32, System.Threading.NativeOverlapped*) 
```

The code of the function ValidIp(string ip) (last function that I call before get the exception):

```
try
{                
    using(var db = new AccessEntities())
    {
        var ret = db.AccessControl.Where(xx => xx.Ip == ip && xx.IsValid).Any();                    
        return ret;
    }
}
catch (Exception ee)
{                
    return false;
} 
```

Does anyone have any idea why this is happening ? I call this function every 1h and from times to times give this exception, last time took 2 days and half to happen, another interesting thing is I'm doing a try/catch shouldn't I be able to catch the exception and prevent the w3wp.exe crash ?

Thanks in advance, Rui

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T18:38:57.737

看起来像是 ASP.NET 的 CLR 或 IIS 主机中的错误（或损坏的安装 - 不匹配的组件等）。您是否尝试过迁移到 .NET Framework 4.5？该错误可能已在较新的版本中得到修复。考虑将此错误报告给 Microsoft - 恐怕这可能不是一个简单的解决方案。

# jquery - 无法为该函数中的一个元素返回正确的值

> ID：15827528
> 
> 赞同：0
> 
> 时间：2013-04-05T06:45:46.747
> 
> 标签：jquery, get, set

我无法让该`'var hasLining'`功能正常工作。它应该返回“0”或“1”，这取决于是否有衬里。我不知道为什么，但它导致函数总是返回错误的答案（我不确定到底发生了什么，但看起来它正在为下一个方程提供值）。

我发布了一个小提琴来证明这个问题：[jsfiddle.net/chayacooper/9NKjT/1](http://jsfiddle.net/chayacooper/9NKjT/1)

```
var isThickerFabric = function() {
  var item = $("[name=Item]").val();
  return item == "Blazer" || item == "Jacket" || item == "Outerwear";
}
var hasLining = function() {
  var lining = $("[name=Lining]").val();
  return lining != "0";
}

$("[name=Item],[name=Fabric_Type],[name=Lining]").change(function(){  
  if ( $("[name=Fabric_Type]").val() === "Satin" ) {
    var fabricThicknessElement = $('[name=Fabric_Thickness]');

    if ( isThickerFabric() && !hasLining || !isThickerFabric() && hasLining ) {
      fabricThicknessElement.val('2');
    } else if ( isThickerFabric() && hasLining() ) {
      fabricThicknessElement.val('3');
    } else {
      fabricThicknessElement.val('1');
    }
  }    
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:41:03.907

`var hasLining`函数检查是否`[name=Lining]`有值“0”，当字段为空或0以外的任何值时它总是返回true，`[name=Lining]`当它的值为0时它会返回false，

这就是为什么它总是得到`fabricThicknessElement`3 的值，因为它总是得到一个真实的形式`var hasLining`

如果您想根据衬里是否为空来获得结果。改变 `var hasLining`

`return lining != ""`

并将条件更改为

`if ((isThickerFabric() && !hasLining()) || (!isThickerFabric() && hasLining()))`

# ruby-on-rails-3 - Rails：安装rubyracer时出错

> ID：15827529
> 
> 赞同：5
> 
> 时间：2013-04-05T06:45:47.370
> 
> 标签：ruby-on-rails-3, rubygems, therubyracer

我在我的 linode 服务器上运行“捆绑安装”。但无法安装rubyracer的原因。捆绑安装输出是：

```
Installing therubyracer (0.11.0) 
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

    /usr/local/bin/ruby extconf.rb 
checking for main() in -lpthread... yes
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
--with-opt-dir
--without-opt-dir
--with-opt-include
--without-opt-include=${opt-dir}/include
--with-opt-lib
--without-opt-lib=${opt-dir}/lib
--with-make-prog
--without-make-prog
--srcdir=.
--curdir
--ruby=/usr/local/bin/ruby
--with-pthreadlib
--without-pthreadlib
--enable-debug
--disable-debug
/usr/local/lib/ruby/gems/1.9.1/gems/therubyracer-0.11.0/ext/v8/build.rb:50:in `build_with_rubygem_libv8': undefined local variable or method `libv8_include_flags' for main:Object (NameError)
from extconf.rb:20:in `<main>'

Gem files will remain installed in /usr/local/lib/ruby/gems/1.9.1/gems/therubyracer-0.11.0 for inspection.
Results logged to /usr/local/lib/ruby/gems/1.9.1/gems/therubyracer-0.11.0/ext/v8/gem_make.out

An error occurred while installing therubyracer (0.11.0), and Bundler cannot continue.
Make sure that `gem install therubyracer -v '0.11.0'` succeeds before bundling. 
```

实际上 gem ruby​​racer 已安装，但版本是 0.11.4。我只是不知道为什么它不采用这个版本并且只接受 0.11.0。

还有如何安装 0.11.0。当我运行错误“gem install therubyracer -v '0.11.0'”中给出的命令时，它无法执行并给出：

```
Building native extensions.  This could take a while...
ERROR:  Error installing therubyracer:
ERROR: Failed to build gem native extension.

    /usr/local/bin/ruby extconf.rb
checking for main() in -lpthread... yes
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
--with-opt-dir
--without-opt-dir
--with-opt-include
--without-opt-include=${opt-dir}/include
--with-opt-lib
--without-opt-lib=${opt-dir}/lib
--with-make-prog
--without-make-prog
--srcdir=.
--curdir
--ruby=/usr/local/bin/ruby
--with-pthreadlib
--without-pthreadlib
--enable-debug
--disable-debug
/usr/local/lib/ruby/gems/1.9.1/gems/therubyracer-0.11.0/ext/v8/build.rb:50:in    `build_with_rubygem_libv8': undefined local variable or method `libv8_include_flags' for    main:Object (NameError)
from extconf.rb:20:in `<main>'

Gem files will remain installed in /usr/local/lib/ruby/gems/1.9.1/gems/therubyracer-    0.11.0 for inspection.
Results logged to /usr/local/lib/ruby/gems/1.9.1/gems/therubyracer-0.11.0/ext/v8/gem_make.out 
```

这里有人可以帮忙吗？在堆栈和 git 上搜索了很多，但没有一个给定的解决方案有效。

我的宝石文件：

```
source 'https://rubygems.org'

gem 'rails', '3.2.12'
gem "paperclip"
gem 'mysql2'
gem "devise"
group :assets do
 gem 'sass-rails',   '~> 3.2.3'
 gem 'coffee-rails', '~> 3.2.1'

gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails'
gem 'libv8', '3.11.8.4', :platform => :ruby
gem 'therubyracer', '0.11.0', :platforms => :ruby
gem 'rails_admin'
gem 'unicorn'
gem 'delayed_job_active_record'
gem 'daemons' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:28:25.647

我在ubuntu上遇到了同样的问题：

经过一些实验，我能够确认`gem install therubyracer --pre`命令行上的 ' ' 工作正常，但告诉 bundler 使用该`--pre`选项不起作用：

```
bundle config build.therubyracer --pre 
```

我不知道这是否是因为 gem 是通过依赖项而不是通过 Gemfile 中的显式“gem”行拉入的。即使经过大量谷歌搜索，我也无法解决这个问题，但由于 0.11 似乎只有几个小时，我决定尝试`0.10`通过添加以下内容恢复到以前的版本：

```
gem 'therubyracer', '=0.10' 
```

在使用依赖它的宝石之前。这迫使捆绑器选择较早的版本，并像魅力一样安装。希望`someone will fix 0.11`很快。

在 github 上查看 therubyracer 的问题后，这似乎与两个不同的问题有关 - 一个已关闭：[https](https://github.com/cowboyd/therubyracer/issues/213) ://github.com/cowboyd/therubyracer/issues/213建议首先（或明确）安装 libv8 gem，并且这会导致不同的错误：[https](https://github.com/cowboyd/therubyracer/issues/215) ://github.com/cowboyd/therubyracer/issues/215并且尚未关闭 - 对于 64 位目标，libv8 gem 似乎有一个损坏的二进制文件。唯一的解决方案似乎是从源代码构建 libv8 或像我一样做并备份到 0.11beta8 或更早版本（有人说`0.11beta8`有效）。在此之前，我建议您在 Github 上观看 215 问题并等待修复。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-02T06:47:43.620

该问题是由于多个 libv8 版本造成的。

解决方案：卸载 libv8 并运行你的包。命令：

1) gem 卸载 libv8 2) 捆绑

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-05T13:54:03.910

这也是由于与 libv8 的一些冲突而发生的，尽管您可以为 ruby​​racer 分配一个版本，它将被安装：

在 gemfile 中更改以下内容：

gem 'therubyracer', '~> 0.12.1'

并进行捆绑安装

如果这也不能解决问题，那么 libv8 存在一些问题。手动安装以下 gem：

gem install rmagick -v '2.13.2' 如果没有安装，请通过 brew gem install libv8 -v 3.11.8.17 安装 imagemagick -- --with-system-v8 在 gemfile 中更改以下内容： gem 'therubyracer', ' ~> 0.12.1'

然后进行捆绑安装。

# java - java.lang.ClassNotFoundException:com.mysql.jdbc.Driver

> ID：15827547
> 
> 赞同：20
> 
> 时间：2013-04-05T06:46:51.060
> 
> 标签：java, exception

`java.lang.ClassNotFoundException`当我尝试运行我的代码时 出现异常，

**我的代码**

```
 try 
   {
     Class.forName("com.mysql.jdbc.Driver");
     Connection con=DriverManager.getConnection("jdbc:mysql://localhost:3306/simple",
      "root","root");
     Statement stmt=con.createStatement();
     String query="SELECT * FROM CUST";
     ResultSet rs=stmt.executeQuery(query);
     while(rs.next())
     {
          System.out.print(rs.getString("CUST_NAME") +" ");
          System.out.print(rs.getString(2) +" ");
          System.out.print(rs.getString(3) +" ");

     }    
     rs.close();
     stmt.close();
     con.close();    
  }   
  catch (ClassNotFoundException e) 
  {
     e.printStackTrace();
  }
  catch (SQLException e) 
  {
     e.printStackTrace();
  } 
```

**我收到错误**

```
java.lang.ClassNotFoundException: com.mysql.jdbc.Driver
at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
at java.lang.ClassLoader.loadClass(ClassLoader.java:252)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
at java.lang.Class.forName0(Native Method)
at java.lang.Class.forName(Class.java:169)
at Simple.MyProg.main(MyProg.java:15) 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-04-05T06:50:52.073

问题不在代码中，而是您没有将驱动程序添加到您的项目中！！！您必须将`*.jar`驱动程序添加到您的项目中......

试着把它放在你的 lib 目录中，然后重新启动 tomcat ...

问题是`Class.forName("com.mysql.jdbc.Driver");` 它试图加载驱动程序，但没有得到它，这就是你得到的原因：

> java.lang.ClassNotFoundException。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-06-27T13:38:43.207

将 *.jar 复制到我的 WEB-INF/lib 文件夹中 -> 为我工作。当包含在构建路径上时，每次都会出现这个错误消息。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-05T07:42:18.157

您可以从以下路径下载最新的 mysql 驱动程序 jar，然后复制到您的类路径，或者如果您使用的是 Web 服务器，则复制到 tomcat/lib 或 war/web-inf/lib 文件夹。

[http://dev.mysql.com/downloads/connector/j/](http://dev.mysql.com/downloads/connector/j/) 或

[http://mirrors.ibiblio.org/pub/mirrors/maven2/mysql/mysql-connector-java/5.1.10/mysql-connector-java-5.1.10.jar](http://mirrors.ibiblio.org/pub/mirrors/maven2/mysql/mysql-connector-java/5.1.10/mysql-connector-java-5.1.10.jar)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-07-15T07:22:00.410

问题与 MySql 驱动程序有关

```
Class.forName("com.mysql.jdbc.Driver"); 
```

将 MySQL jdbc 驱动程序 jar 文件添加到您的类路径中。

我在JDK上也有这个错误。我正确构建了 ClassPath，然后我将“mysql-connector-java-5.1.25-bin”放在这个目录中的“C:\Program Files\Java\jre7\lib\ext”目录中，我有我的 JDK。然后再次编译并运行，然后它工作正常。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-05T06:49:34.263

在类路径中包含 jar（jdbc 驱动程序）的路径。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-03-04T15:23:14.680

如果您在运行它时收到此错误，那么可能是因为您没有将 mysql-connector JAR 文件包含到您的网络服务器的 lib 文件夹中。

现在将 mysql-connector-java-5.1.25-bin.jar 添加到您的类路径以及您的网络服务器的 lib 目录中是很重要的。Tomcat lib 路径以 Tomcat 6.0\lib 为例

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-10-13T13:02:53.210

如果它是独立程序，请下载 mysql 连接器 jar 并将其添加到您的类路径中。

如果它是一个 Maven 项目，请添加以下依赖项并运行您的程序。

```
<dependency>
    <groupId>mysql</groupId>
    <artifactId>mysql-connector-java</artifactId>
    <version>5.1.37</version>
</dependency> 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-08-21T01:20:41.257

请注意，mySQL v8 jar 中的 Driver 类的名称（在编写 mysql-connector-java-8.0.12.jar 时）已更改为`com.mysql.cj.jdbc.Driver` 您可以通过进入 jdbc jar 并查看`META-INF/services/java.sql.Driver`文件来自己验证这一点。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-02-02T06:42:22.760

如果您使用的是 Eclipse IDE，请下载 mysql jdbc 连接器 jar 并将该 jar 指向构建路径。项目 Java 构建路径 --> 库 --> 添加外部 jars。连接器可以从[http://dev.mysql.com/downloads/connector/j/ 获得](http://dev.mysql.com/downloads/connector/j/)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-03-13T21:26:32.210

我有

```
runtime('mysql:mysql-connector-java') 
```

变成

```
compile('mysql:mysql-connector-java') 
```

解决了我的问题

# python - Starting django-socketio in production

> ID：15827548
> 
> 赞同：2
> 
> 时间：2013-04-05T06:46:53.287
> 
> 标签：python, django, gevent-socketio

I installed [Django-socketio](https://github.com/stephenmcd/django-socketio) because it seems like the best way to implement chat by myself. The problem I have is that when I run `python manage.py runserver_socketio host:port` it runs and I can't close the terminal or it will stop working, how can I get around that?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-12T15:07:20.173

我用命令 nohup 解决了同样的问题。

因此，您使用`nohup python manage.py runserver_socketio host:port &`(& 从背景开始) 启动服务器。结果存储在 nohup.out 文件中...

# html - HTML - HTML 标签中双引号的重要性

> ID：15827549
> 
> 赞同：0
> 
> 时间：2013-04-05T06:46:53.783
> 
> 标签：html, tags, double-quotes

我使用 HTML 已经有一段时间了，最​​近我脑海中突然冒出一个问题，即何时给出标签

```
<input type = "text" name="c-id" />
<input type =text name=c-id /> 
```

带或不带引号没有区别，在使用 V-Studio 时，此 IDE 不会自动添加引号，但在使用 Dreamweaver 时，如果我没记错的话，它确实会自动添加引号......

我想知道的是，在什么时候没有引号会产生影响或产生问题，最佳实践是什么，总是引用或少引用......

ps 这个问题很有可能以前被问过，但没有出现在搜索中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:00:38.427

当属性值包含空格、换行符、换页符或制表符时会有所不同，因为如果该值未用引号括起来，则属性值将在这些字符中的任何一个字符处结束。

从 IDE 的角度来看，当属性值不包含这些空白字符之一时，是否添加引号只是一个偏好问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:35:56.267

在 XHTML 语法中，引号始终是必需的（但您也可以使用单引号，即“撇号”）。如果页面以 text/html 内容类型提供，这并不重要，因为它几乎总是这样：浏览器会将其解析为草率的 HTML，而不是真正的 XHTML。但是，如果页面是使用 XML 内容类型提供的，或者如果它在需要 XHTML 或其他 XML 的程序中打开，那么缺少引号会导致严重的错误处理：只显示错误消息，根本不显示内容。

在示例情况下，XHTML 语法被用于其他情况：关闭“>”之前的“/”属于 XHTML，而不是 HTML。在这方面编写 XHTML 没有什么意义，但并非始终如一。

在 HTML 语法中，形式规则取决于 HTML 版本。HTML5 比 HTML 4.01 更宽松。例如，`<a href=/foo/bar/ title=What???>`是有效的 HTML5 但不是有效的 HTML 4.01。这在验证中很重要，并且取决于您希望针对哪个版本的 HTML 进行验证（即，您主要尝试遵守哪个版本）。在本期中，HTML5 反映了浏览器实践：长期以来，浏览器比 HTML 4.01 更加宽容。

根据[HTML5 规则](http://www.w3.org/TR/html5/syntax.html#attributes-0)，仅当属性值包含以下任何字符时才需要引号（尽管始终*允许*）：空格、制表符、换行符、换页符、回车符、引号 (")、撇号 (')、等于符号 (=)、小于号 (<)、大于号 (>) 或坟墓 (`)，或者为空。

也有关于此事的意见以及编码风格指南和其他建议。大多数考虑此类问题的人显然倾向于始终在属性值周围加上引号的“安全”方式。有些人认为引号提高了代码的可读性；其他人认为他们减少了它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:57:35.553

不将您的值放入引号可能会导致一些问题，即您不能为您的元素提供多个 css 类。浏览器只会理解第一个值，页面不会通过验证。

你应该总是把你的价值观放在引号里。标记更易于阅读，您不会遇到一些意外的浏览器行为。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T07:06:08.300

对我来说，任何提高代码/标记（重新）可读性的做法都值得养成习惯，并且在属性值上加上引号可以明显地将一个属性与另一个属性分开（再次可读性）。

在技​​术方面，一些属性值有空格，如果没有引号，整个标签可能无法工作。想到的那些：img 的 alt、多个类值、标题（用于工具提示）、~~带有等号的 url 的 href（不带引号，href= 中的第一个等号注定要失败）~~等。

这是SO中几乎相同的问题[。](https://stackoverflow.com/questions/6495310/do-you-quote-html5-attributes)

--

*感谢[Alohci](https://stackoverflow.com/users/42585/alohci)启发了我。我还不能投票。*

# android - Autocomplete textview just show the last value which I submitted into database in Android

> ID：15827551
> 
> 赞同：1
> 
> 时间：2013-04-05T06:47:16.163
> 
> 标签：android

I am using a textfield for submiting some names into database by pressing a button in the main activity.In another activity I use an Autocomplete textview for showing the names.But the problem is it shows only the last name which I submitted.Here is my code for showing names in autocomplete textview:

```
for (Contact cn : contact) {

String[] s1=new String[]{(cn.getName())};
         ArrayAdapter<String> adapter =  new ArrayAdapter<String>(this, android.R.layout.simple_list_item_multiple_choice,s1); 

         a1.setThreshold(1); 
         a1.setAdapter(adapter);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:56:47.350

尝试这个..

```
ArrayList<String> s1 = new ArrayList<String>();
    for (Contact cn : contact) {
        s1.add(cn.getName());
    }
    ArrayAdapter<String> adapter =  new ArrayAdapter<String>(this, android.R.layout.simple_list_item_multiple_choice,s1); 

    a1.setThreshold(1); 
    a1.setAdapter(adapter); 
```

# eclipse - 同步视图 eclipse 中传出更改的 P 符号

> ID：15827553
> 
> 赞同：5
> 
> 时间：2013-04-05T06:47:21.537
> 
> 标签：eclipse, svn, subversive

我对文件系统上的文件进行了一些更改，并从我的 Eclipse 工作区与 SVN 进行了同步，并在一些传出的更改上注意到了这个“p”符号。以前从未见过这种情况，并且混淆了它的含义和显示时间。

![在此处输入图像描述](https://i.stack.imgur.com/5IVTN.png)

谷歌搜索但找不到任何东西。我只是想知道它的含义以及它在什么情况下发生。

任何信息都非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-06T20:47:28.120

我知道这是事后的事，但我今天也在寻找这个问题的答案。

[我在这里](http://www.eclipse.org/subversive/documentation/teamSupport/workspace_synch.php)找到了答案。

属性更改图标表示本地或存储库资源的属性已更改。

# php - 使用查询字符串在 PHP 中创建视频列表？

> ID：15827554
> 
> 赞同：0
> 
> 时间：2013-04-05T06:47:30.250
> 
> 标签：php

我想创建一个 YouTube 视频列表，如教程。但是我不想为每个视频创建每个页面，我看到许多网站通过使用查询字符串来做到这一点，但我不知道如何使用它，谁能给我一个例子。

```
 ===index.php===

<html>
<body

<a href="tutorial.php?id=10">First tutorial</a>
<a href="tutorial.php?id=11">Second tutorial</a>
<a href="tutorial.php?id=12">Third tutorial</a>

</body
</html>

   ===tutorial.php===
<?php

$id = $_GET['1'];

**//So how do I display a page and video here?
//How would it determine where is id=10, id=11, id=12.....** 

?> 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:49:11.193

我建议您从索引页面传递一个实际的视频 ID，例如，

```
<a href="tutorial.php?id=OzHvVoUGTOM">First tutorial</a> 
```

比你可以直接使用`id`到 YouTube 网址，

```
$id = $_GET['id'];
$videoLink = "http://www.youtube.com/watch?v=".$id; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:52:30.527

像这样的东西？

```
<?php

$id = $_GET['id'];

//you should validate the $id to ensure it corresponds to a video that exists

echo ' ?>

<video width="320" height="240" controls>
  <source src="video<?php echo $id; ?>.mp4" type="video/mp4" />
  <source src="video<?php echo $id; ?>.ogg" type="video/ogg" />
  Your browser does not support the video tag.
</video>

<?php '; ?> 
```

视频文件名类似于`video1.mp4`数字是视频的 id。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:53:13.820

您可以为此使用过滤器功能；它还确保提供`id`的是一个整数值：

```
if (($id = filter_input(INPUT_GET, 'id', FILTER_VALIDATE_INT, FILTER_NULL_ON_FAILURE)) !== null) {
    // do stuff with $id
} 
```

也可以看看：[`filter_input()`](http://php.net/filter_input)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T06:54:59.620

变量`$_GET`是一个数组，其中包含您通过 URL 传递的键和值，例如：

```
tutorial.php?id=12
tutorial.php?another_id=13 
```

你可以抓住 12

```
$_GET['id'] 
```

和 13 由

```
$_GET['another_id'] 
```

看： http: [//php.net/manual/en/reserved.variables.get.php](http://php.net/manual/en/reserved.variables.get.php)

# jquery - Select end_time which is greater than start_time

> ID：15827556
> 
> 赞同：1
> 
> 时间：2013-04-05T06:47:33.770
> 
> 标签：jquery, ruby-on-rails

I'm using jQuery in a Rails app to show the start time and end time, which come from helper (I'm not using Datepicker).

In my form:

```
 .field
     = f.label :start_time
     = f.select :start_time, options_for_select( [""] + start_time, "#{f.object.start_time.strip}")       
    .span#end_time
      .field
        = f.label :end_time
        = f.select :end_time, options_for_select( [""] + end_time, "#{f.object.end_time.strip}") 
```

The time list comes from helper (i.e. `start_time` and `end_time`). How can I validate the time so that I can only select an `end_time` that is greater than the `start_time`?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:52:15.347

您可以禁用选项[http://www.w3schools.com/tags/att_option_disabled.asp](http://www.w3schools.com/tags/att_option_disabled.asp)。

我会使用 javascript 来运行“end_time”选择选项数组并禁用任何小于“start_time”的选项。

像这样的东西（id和东西需要修改）：

```
$("#start_time").change(function() {
    // Get start time
    var start_time = $("#start_time").find(":selected").text();

    // Iterate through end time options
    $("#end_time option").each(function() {
        var end_time = $(this).text();
        // Depending on how end_time and start_time are formatted you may need to do some conversion here
        if (start_time > end_time) {
            $(this).attr('disabled','disabled');
        }
    });
)}; 
```

# ruby-on-rails - 我怎样才能在rails中使用包含条件来获取值？

> ID：15827558
> 
> 赞同：1
> 
> 时间：2013-04-05T06:47:40.290
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有一家与 has_many 关联的商店，并在其中包含物品，以便收到属于该商店的物品

```
 format.json { render json: {:shop => @shops.as_json(:include => :items)}} 
```

现在它提供了属于该商店的所有物品，但我想获得具有特定条件的物品，比如 item_type = "accessories"。那么我该怎么做呢？请帮我。

**编辑**

我在[How to get the value of include with conditions? 中提出了一个新问题？](https://stackoverflow.com/questions/15829497/how-to-get-the-value-of-include-with-conditions/15829781?noredirect=1#comment22520103_15829781)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:54:36.053

您应该使用 ActiveRecord 过滤数据，然后在过滤后的数据上调用 as_json。

您可以执行以下操作：

```
@shops = Shop.includes(:items).where("items.itemp_type = ?", 'accesories')
format.json { render json: { :shop => @shops.as_json(:include => :items) } } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:58:56.813

一种方法是使用要渲染的对象创建一个散列，然后将其传递给 render 方法。像这样：

```
respond_to do |format|
  format.json  { render :json => {:shops => @shops, 
                                  :items => @items }}
end 
```

如果模型没有通过活动记录关联，那可能是您最好的解决方案。

如果关联确实存在，您可以传递一个`:include argument to the render call`，如下所示：

```
respond_to do |format|
  format.json  { render :json => @shops.to_json(:include => [:items])}
end 
```

请注意，如果您采用这种方法，则不必在上面的部分中检索 @items 变量，Rails 会自动从`@shops`变量中加载它。

# html - li breadcrumb image positioning error

> ID：15827559
> 
> 赞同：0
> 
> 时间：2013-04-05T06:47:47.007
> 
> 标签：html, css

I've got the following menu.

```
<ul>
<li><img src="images/item_grp_nav_img.jpg" alt="nav-image">Home</li>
<li>Menu Type</li>
<li>Menu Type</li>
<li>Menu Type</li>
</ul> 
```

The Css goes as following.

```
#item-group-navigation{
height: 30px;
background-color:#949698;
min-width:760px;
}

#item-group-navigation ul{
height: 100%;
width: 30%;
padding: 0px 0px 0px 15px;
margin: 0px;
}

#item-group-navigation li{
float: left;
list-style: none;
display: block;
padding: 3px 6px 0px 5px;
color: white;
font-size: 18px;
font-family:MyriadProReg;
}

#item-group-navigation li:first-child:before{
content:none;
}

#item-group-navigation li:before{
display: block;
width: 20px;
height: 30px;
content: url('../images/list_arrow.jpg');
float: left;
}

#item-group-navigation img{
float: left;
} 
```

The issue is displayed on the following image.

![Issue](https://i.stack.imgur.com/vCBZL.png)

How Can I fix this issue using my CSS. Please help me. Thank you.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:54:22.413

我找到了问题！我已经定义了不应该的高度和宽度！感谢任何经历过它的人！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:54:52.470

增加宽度`#item-group-navigation ul`。

# android - Why is the first line always crossed out?

> ID：15827562
> 
> 赞同：1
> 
> 时间：2013-04-05T06:48:03.600
> 
> 标签：android

In my application I use `SimpleCursorAdapter`. If `CheckBox.isChecked()` then text should be strikethrough. But why then the first line is always crossed out, even if the `CheckBox` is not checked

```
public class MainActivity extends Activity {
//  Button btnCalendar;

//*******************************************8
String[] names = {"Иван", "Марья", "Петр", "Антон", "Даша", "Борис",
          "Костя", "Игорь", "Анна", "Денис", "Андрей"};
//Button buttonAddTask;
final String Tag="States";
final String Ten = "Ten";
TextView txtDataTaskToday;
String id_for_listtsk_today;
ListView lvMain_today;
String[] arr_date;
SharedPreferences sPref;
static Cursor c;
private ListView listView = null;
SQLiteDatabase db;
//public static String id_for_listtsk_today;
//  static SQLiteDatabase db;
MySqlCursorAdapter adapter = null;
//***********************************************8

@Override
protected void onCreate(Bundle savedInstanceState) {
    if (getIntent().getBooleanExtra("finish", false)) finish();
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
//  btnCalendar = (Button) findViewById(R.id.btnActTwo);
//  btnCalendar.setOnClickListener(this);

    //*********************************************
    // переменные для query
    String[] columns = null;
    String selection = null;
    String[] selectionArgs = null;
    String groupBy = null;
    String having = null;
    String orderBy = null;

  //*********работа с БД****************
    // создаем объект для данных

        txtDataTaskToday = (TextView) findViewById(R.id.txtDataTaskToday);
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
        String id_for_listtsk_today = sdf.format(new Date());
        //final String b = id_for_listtsk_today;
        txtDataTaskToday.setText("Today: "+id_for_listtsk_today.toString());
    //  txtDataTaskToday.setPaintFlags(txtDataTaskToday.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);

        Log.d(Tag, "id_for_listtsk_today ="+id_for_listtsk_today );
        ContentValues cv = new ContentValues();
        DBHelper dbHelper = new DBHelper(this);     
        final SQLiteDatabase db = dbHelper.getWritableDatabase();
        columns = new String[] {"name"};
        selection = "data_id = ?";
        selectionArgs = new String[] {id_for_listtsk_today};
        //c = db.query("mytable", columns, selection, selectionArgs, null, null, null);
        try {
        c=dbHelper.getCursor(id_for_listtsk_today);
        } catch (SQLException sqle) {
            Log.d(Tag, "неудача");
            throw sqle;

        }
        String[] arr_date = logCursor(c);

    //*********работа с БД****************  

        lvMain_today = (ListView) findViewById(R.id.list);
//            lvMain_today.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
        //this.listView=getl
        //listView = MainActivity.this.getlgetListView();
        lvMain_today.setItemsCanFocus(false);
        lvMain_today.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
        //ArrayAdapter<String> adapter =  new ArrayAdapter<String>    (this,android.R.layout.simple_list_item_multiple_choice, arr_date);// R.layout.item, my_list_item
        startManagingCursor(c);
        int[] listFields = new int[] { R.id.txtTitle, R.id.txtDataTaskToday };
        String[] dbColumns = new String[] { DBHelper.COLUMN_NAME, DBHelper.COLUMN_TASK };
        Log.d(Tag, "трассировка" );
        MainActivity.this.adapter = new MySqlCursorAdapter(
                this, R.layout.my_list_item,
                c, dbColumns, listFields,
                dbHelper);
//           
        lvMain_today.setAdapter(MainActivity.this.adapter);
    //    setListAdapter(MainActivity.this.adapter);

        names = arr_date;
        //c.close();
        //db.close();
        //dbHelper.close();

        lvMain_today.setOnItemClickListener(new OnItemClickListener() {
              public void onItemClick(AdapterView<?> parent, View view,
                  int position, long id) {
                  TextView txtView = (TextView) findViewById(R.id.txtTitle);
                  txtView.setText("blah blah blah");
                  Log.d(Tag, "position="+position);
                //  ((TextView)     txtDataTaskToday).setTextColor(android.R.color.white);
                  SparseBooleanArray chosen = ((ListView)     parent).getCheckedItemPositions();
                  for (int i = 0; i < chosen.size(); i++) {
                      int key = chosen.keyAt(i);
                      if (chosen.get(key))
                        Log.d(Tag, "выделены ====="+names[key]);
                  Log.d(Tag, "itemClick: position = " + position + ", id = "
                    + id);}

                //****************nen пробная фигня**************

//                  String[] columns = null;
//                  String selection = null;
//                  String[] selectionArgs = null;
//                  String groupBy = null;
//                  String having = null;
//                  String orderBy = null;
//                  columns = new String[] {"name"};
//                  selection = "data_id = ?";
//                  selectionArgs = new String[]     {id_for_listtsk_today};//id_for_listtsk_today 
//                  Cursor c = db.query("mytable", columns, selection, selectionArgs, null, null, null);
             //   String[] arr = logCursor(c);
                 //**************************************************  
                  //  String s=test();   
              }

            });

//          lvMain_today.setOnItemSelectedListener(new OnItemSelectedListener() {
//                public void onItemSelected(AdapterView<?> parent, View view,
//                    int position, long id) {
//                  Log.d(Tag, "Было выделение позиции меню!!!!position = " + position + ", id = "
//                      + id);
//                }
//
//                public void onNothingSelected(AdapterView<?> parent) {
//                  Log.d(Tag, "itemSelect: nothing");
//                }
//              }); 
}

private String[] logCursor(Cursor c) {
    // TODO Auto-generated method stub
    final String Tag="States";
    String[] arr_date = new String[c.getCount()];//String[] arr_date  = new String[] {};
    Log.d(Tag,"мы в курсоре");
    if (c!=null) {
        if (c.moveToFirst()) {
        //  Log.d(Tag,"мы в курсоре1");
            String str;
            int i=-1;
            do {
            //  Log.d(Tag,"мы в курсоре2");
                str="";
                i=i+1;
                for (String cn: c.getColumnNames()) {
                    str = str.concat(c.getString(c.getColumnIndex(cn)));
                }
                Log.d(Tag, "++++"+str);
                arr_date[i]=String.valueOf(str);
            } while (c.moveToNext());

        } 
    }

    return arr_date;

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    menu.add(0, 1, 0, "календарь");
    menu.add(0, 2, 0, "Убрать выполненные");
    menu.add(0, 3, 3, "Уйти");
//        menu.add(1, 4, 1, "copy");
//        menu.add(1, 5, 2, "paste");
//        menu.add(1, 6, 4, "exit");

      return super.onCreateOptionsMenu(menu);
//  getMenuInflater().inflate(R.menu.main, menu);
    //return true;
}

public boolean onOptionsItemSelected(MenuItem item) {
      // TODO Auto-generated method stub
      StringBuilder sb = new StringBuilder();

      // Выведем в TextView информацию о нажатом пункте меню 
     // txtDataTaskToday.setText("Item Menu");
    //  txtDataTaskToday.setText(item.getGroupId());
      txtDataTaskToday.setText("\r\n itemId: " + String.valueOf(item.getItemId()));
     // txtDataTaskToday.setText("\r\n order: " + String.valueOf(item.getOrder()));
     // txtDataTaskToday.setText("\r\n title: " + item.getTitle());
      switch (item.getItemId()) {
    case 1:
        Intent intent = new Intent(this, ToDoCalendarActivity.class);
        startActivity(intent);
        onDestroy();
        break;
    case 2:

        SparseBooleanArray sbArray = lvMain_today.getCheckedItemPositions();
        for (int i = 0; i < sbArray.size(); i++) {
          int key = sbArray.keyAt(i);
          if (sbArray.get(key))
            Log.d(Tag, "выделены "+names[key]);
          sPref = getPreferences(MODE_PRIVATE);
          Editor ed = sPref.edit();
          ed.putString(Ten, "1");
          ed.commit();
          Log.d(Tag, "ставим константу для скрытия");
        }

        break;
    case 3:
        sPref = getPreferences(MODE_PRIVATE);
        String savedText = sPref.getString(Ten, "");
        Log.d(Tag, "ten= "+ savedText);
        onDestroy();
        //finish();
        break;

    }

      return super.onOptionsItemSelected(item);
    }

@Override
  protected void onStart() {
    super.onStart();
    try {
        MainActivity.this.onRestart();
    } catch (Exception e) {
        Log.d(Tag, "не получилось рестартануть");
    }
    Log.d(Tag, "MainActivity: onStart()");
  }

  @Override
  protected void onResume() {
    super.onResume();
    Log.d(Tag, "MainActivity: onResume()");
  }

protected void onDestroy() {
    super.onDestroy();
    // закрываем подключение при выходе
  //  ToDoCalendarActivity.this.finish();
    Log.d(Tag, "MainActivity: onDestroy()");
    finish();

 //   db.close();
  }
@Override
protected void onPause() {

    super.onPause();
    //this.dbHelper.close();
    Log.d(Tag, "MainActivity: onPause()");
}
@Override
  protected void onStop() {
    super.onStop();
    Log.d(Tag, "MainActivity: onStop()");
  }
@Override
protected void onRestart() {
    super.onRestart();
//  new SelectDataTask().execute();
    Log.d(Tag, "MainActivity: onRestart()"); 

}

//  @Override
//  public void onClick(View v) {
//      // TODO Auto-generated method stub
//      switch (v.getId()) {
//      case R.id.btnActTwo:
//          
//          Intent intent = new Intent(this, ToDoCalendarActivity.class);
//          startActivity(intent);
//          break;
//      }
//  }

} 
```

MySqlCursorAdapter

```
public class MySqlCursorAdapter extends SimpleCursorAdapter implements OnClickListener {
    final String Tag="States";
    private Context context;

    private DBHelper dbHelper;
    private Cursor currentCursor;
    TextView txtTitle;
    TextView txtTitle1;

    public MySqlCursorAdapter(Context context, int layout, Cursor c,
        String[] from, int[] to, DBHelper dbHelper) {

        super(context, layout, c, from, to);
        Log.d(Tag, "трассировка1" );
        this.currentCursor = c;
        this.context = context;
        this.dbHelper = dbHelper;
        Log.d(Tag, "MySqlCursorAdapter()");
        Integer b = c.getCount();
        Log.d(Tag, "b="+b);
    }

    public View getView(int pos, View inView, ViewGroup parent) {
        Log.d(Tag, "getView() + posss=" + pos);
        View v = inView;
        if (v == null) {
            LayoutInflater inflater = (LayoutInflater) context
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = inflater.inflate(R.layout.my_list_item, null);
        }

        this.currentCursor.moveToPosition(pos);

        CheckBox cBox = (CheckBox) v.findViewById(R.id.bcheck);

        cBox.setTag(Integer.parseInt(this.currentCursor.getString(this.currentCursor.getColumnIndex(DBHelper.COLUMN_ID))));
        Log.d(Tag, "tag="+cBox.getTag().toString());
        if (this.currentCursor.getString(this.currentCursor
            .getColumnIndex(DBHelper.COLUMN_STATUS)) != null
            && Integer.parseInt(this.currentCursor
                .getString(this.currentCursor
                        .getColumnIndex(DBHelper.COLUMN_STATUS))) != 0) {
            cBox.setChecked(true);
        } else {
            cBox.setChecked(false);
        }

        cBox.setOnClickListener(this);

        txtTitle = (TextView) v.findViewById(R.id.txtTitle);
        txtTitle1 = (TextView) v.findViewById(R.id.txtDataTaskToday);
        txtTitle.setText(this.currentCursor.getString(this.currentCursor.getColumnIndex(DBHelper.COLUMN_NAME)));
        txtTitle1.setText(this.currentCursor.getString(this.currentCursor.getColumnIndex(DBHelper.COLUMN_TASK)));
        if (cBox.isChecked()) {
            Log.d(Tag, " pos=" + pos);
            txtTitle.setPaintFlags(txtTitle.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);    
            txtTitle1.setPaintFlags(txtTitle.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);
        }

        return (v);
    }

    public void ClearSelections() {
        Log.d(Tag, "ClearSelections()");
        this.dbHelper.clearSelections();
        this.currentCursor.requery();
    }

    @Override
    public void onClick(View v) {
        if(dbHelper.dbSqlite==null) {
            //Log.d(Tag, "00000000000");
            SQLiteDatabase db = dbHelper.getWritableDatabase();    
            //Log.d(Tag, "onClick");
            CheckBox cBox = (CheckBox) v;
            Integer _id = (Integer) cBox.getTag();
            //Integer _id = 4;
            //Log.d(Tag, "Integer _id="+_id.toString());
            ContentValues values = new ContentValues();
            values.put(" status", cBox.isChecked() ? 1 : 0);
            try {
               db.update("mytable", values, "_id = ?",    new String[] { Integer.toString(_id) });
            } catch (SQLException sqle) {
                //    Log.d(Tag, "неудача");
                throw sqle;
            }
        }

        txtTitle.setTextColor(Color.BLUE);

        }
    }
} 
```

I put a flag in textView in functoin `getView()` `txtTitle.setPaintFlags(txtTitle.getPaintFlags() | Paint.UNDERLINE_TEXT_FLAG);` `txtTitle1.setPaintFlags(txtTitle.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);` Why is the first line is always crossed out?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T07:22:10.063

`setPaintFlags`更改是持久的，所以我怀疑你的函数被调用了两次，第一次`cBox.setChecked(true)`被执行，但第二次`cBox.setChecked(false)`被执行，所以标志没有被重置。因此：

```
 if (cBox.isChecked())
    {
        Log.d(Tag, " pos=" + pos);
        txtTitle.setPaintFlags(txtTitle.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);    
        txtTitle1.setPaintFlags(txtTitle.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);
    }
    else
    {
        Log.d(Tag, "!pos=" + pos);
        txtTitle.setPaintFlags(txtTitle.getPaintFlags() & ~Paint.STRIKE_THRU_TEXT_FLAG);    
        txtTitle1.setPaintFlags(txtTitle.getPaintFlags() & ~Paint.STRIKE_THRU_TEXT_FLAG);
    } 
```

# html - Adding horizontal scroll bar forcefully

> ID：15827563
> 
> 赞同：2
> 
> 时间：2013-04-05T06:48:05.027
> 
> 标签：html, css

I an using joomla, in my page I want to add horizontal scroll bar I am getting vertical scroll bar properly. this is my web Page screen shot

![enter image description here](https://i.stack.imgur.com/rvyC8.png) the inside portion is coming as iframe

I want to put horizontal scroll forcefully

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T06:50:53.047

你必须添加css

`body {overflow-x: scroll;}`

或溢出-y 用于您要为其提供滚动条的元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:55:06.227

在您的代码 screen.css 中，行号。1个；`overflow-x:hidden.`

制作

```
overflow-x:scroll; 
```

# html - android 4.x 上的 phonegap 的 HTML 5 音频标签问题（无声音）

> ID：15827564
> 
> 赞同：5
> 
> 时间：2013-04-05T06:48:05.220
> 
> 标签：html, cordova

**平台**：安卓版本 4.x

**问题**：HTML 5 音频标签

**编译**：框架Phonegap

我一直在尝试使用 HTML 5 播放简单的声音，但无法正常工作。

我读到 Android 存在一般“不支持”的情况，但据我了解，4.x 版支持 HTML 5 音频标签。

**Config.xml** 我确实启用了其中的一些功能，例如。文件访问、设备访问等，我什至尝试包含所有功能。只是想让你们知道。

**HTML** 这就是我正在使用的 atm，我想也许我应该回去直接尝试并发出声音，然后用 JQ 制作 costum 控件。

```
<audio controls="true">
    <source src="media/sound.mp3" type="audio/mpeg">
    <source src="media/sound.ogg"  type="audio/ogg">
    <source src="media/sound.wav"  type="audio/wav">
    Your browser does not support HTML5 audio.
</audio> 
```

**结论** 到目前为止，我还没有听到任何声音，我尝试以不同的方式触发它，例如：

```
var Newsound = new Audio("sound.ogg");
Newsound.play(); 
```

欢迎任何想法或建议。

提前致谢 ：-）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:45:57.737

您通常需要一段 JavaScript 才能使其正常工作。尝试以下操作：

```
<audio id="a" controls="true">...

var audio = document.getElementById('a');
audio.addEventListener('touchstart', function() { audio.play(); }, false); 
```

当用户触摸音频元素时，现在应该播放声音。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T08:11:07.007

@伊恩德夫林

我试过了，到目前为止我没有听到声音。

新更新的示例：

**HTML 头部**

```
<script>
  var audio = document.getElementById('myplayer');
  audio.addEventListener('touchstart', function() { audio.play(); }, false);
</script> 
```

**HTML 正文部分**

```
<body>
  <audio controls="true" id="myplayer">
    <source src="media/1.mp3" type="audio/mpeg">
    <source src="media/1.ogg"  type="audio/ogg">
    <source src="media/1.wav"  type="audio/wav">
    Your browser does not support HTML5 audio.
  </audio>  
</body> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-17T18:54:12.483

在 Android >= 4.2 中遇到同样的问题，在从 2.2 到 4.0 的 Android 中工作正常，手头没有 4.1 Android 来查看它是否工作，这是我的代码：

```
<audio autoplay loop autobuffer>
    <source src="http://buecrplb01.cienradios.com.ar/Mitre790.mp3" type="audio/mpeg" />
</audio> 
```

关于循环属性的注意事项：我发现一些流播放了 1 秒并停止，在添加循环属性后它们连续播放。

# iphone - iPhone/iPad different view orientations in different views , and apple approval process

> ID：15827566
> 
> 赞同：-3
> 
> 时间：2013-04-05T06:48:09.337
> 
> 标签：iphone, ios, objective-c

I would like to force my app's home screen to be Portrait and all other views to be landscape. Will apple rejects the app if I do this?

If not And how exactly I force only first screen to launch in Portrait mode? And force all other screens to launch in landscape.

This is not a duplicate question I search every possible answer for this in this website.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:54:22.230

我想强制我的应用程序的主屏幕为纵向，所有其他视图为横向。如果我这样做，苹果会拒绝该应用程序吗？没有苹果不会为此拒绝您的应用程序。我们确实有很多不支持方向的应用程序。您在一个屏幕上强制它不会导致您的应用拒绝。

如果不是，我究竟如何强制第一个屏幕以纵向模式启动？并强制所有其他屏幕以横向启动。为此，您可以重写 :`-(NSUInteger)supportedInterfaceOrientations;`函数。

# ios - Mac和iOS之间的结构到NSData

> ID：15827567
> 
> 赞同：0
> 
> 时间：2013-04-05T06:48:11.057
> 
> 标签：ios, objective-c, macos, nsdata, nskeyedarchiver

我一直在研究这个问题一段时间，我有一个在 mac 上运行的应用程序，它的坐标数据存储在这样的结构中：

```
struct xyz {
  float x;
  float y;
  float z;
};

struct xy {
  float x;
  float y;
};

struct object {
  struct xyz *myXYZ;
  struct xy *myXY;
}; 
```

这一切都按预期工作，然后我将结构添加到`NSData`如下所示：

```
struct object anInitialTestStruct;
NSMutableData *myTestDataOut = [NSMutableData dataWithBytes:&anInitialTestStruct length:64 freeWhenDone:NO];
BOOL good = [myTestDataOut writeToFile:[NSString stringWithFormat:@"%@/filename.dat", docsDirectory] atomically:YES]; 
```

这按预期工作，我得到一个文件，看起来里面有数据（作为参考，我已经为 anInitialTestStruct 使用了指针和 malloc，但仍然没有得到想要的结果）

现在在 iphone 上，我将文件复制到项目中，然后执行以下操作：

```
NSString *filePath = [[NSBundle mainBundle] pathForResource:@"filename" ofType:@"dat"];
NSData *myVecNSData = [[NSData alloc] initWithContentsOfFile:filePath options:NSDataReadingUncached error:&error];
if ( error ) {
    NSLog(@"%@", error);
} 
```

我没有得到正确的数据。有趣的是，如果我`initWithContents`在 mac 上运行该方法并读取其中的文件，它似乎没问题。

因此，我认为 iphone / mac 处理文件系统的方式有所不同`NSKeyedArchiver`....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-02T10:05:24.797

对于您的“对象”结构，您必须分别存储“xy”和“xyz”结构，例如在字典中：

```
 struct object anInitialTestStruct;
    NSDictionary *structureDataAsDictionary = [NSDictionary dictionaryWithObjectsAndKeys:
                                     [NSMutableData dataWithBytes:anInitialTestStruct.myXY length:sizeof(xy)], @"xy key",
                                     [NSMutableData dataWithBytes:anInitialTestStruct.myXYZ length:sizeof(xyz)], @"xyz key",
                                     nil];
    NSData *myTestDataOut = [NSKeyedArchiver archivedDataWithRootObject:structureDataAsDictionary];
    BOOL good = [myTestDataOut writeToFile:[NSString stringWithFormat:@"%@/filename.dat", docsDirectory] atomically:YES]; 
```

和解码是这样的：

```
 struct object anInitialTestStruct;
    NSString *filePath = [[NSBundle mainBundle] pathForResource:@"filename" ofType:@"dat"];
    NSData *myVecNSData = [[NSData alloc] initWithContentsOfFile:filePath options:NSDataReadingUncached error:&error];
    if ( error ) {
        NSLog(@"%@", error);
    }
    // retrieving dictionary from NSData
    NSDictionary *structureDataAsDictionary = [NSKeyedUnarchiver unarchiveObjectWithData:myVecNSData];
    // allocating memory for myXY and myXYZ fields
    anInitialTestStruct.myXY = (xy*)malloc(sizeof(xy));
    if (anInitialTestStruct.myXY == NULL) {
        // error handling
    }
    anInitialTestStruct.myXYZ = (xyz*)malloc(sizeof(xyz));
    if (anInitialTestStruct.myXYZ == NULL) {
        // error handling
    }
    // filling myXY and myXYZ fields with read data
    [[structureDataAsDictionary objectForKey:@"xy key"] getBytes:anInitialTestStruct.myXY];
    [[structureDataAsDictionary objectForKey:@"xyz key"] getBytes:anInitialTestStruct.myXYZ]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:13:04.697

您可能对指针进行了 truble 编码，请[参见此处](http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Conceptual/Archiving/Articles/codingctypes.html)

“指针

您无法对指针进行编码并在解码时取回有用的东西。您必须对指针指向的信息进行编码。在非键控编码中也是如此。……”

# asp.net - 字符串变量日期在c#中加倍

> ID：15827569
> 
> 赞同：3
> 
> 时间：2013-04-05T06:48:23.627
> 
> 标签：asp.net

在下面的代码中，我需要将**字符串**转换为**双精度**。但是代码不起作用。

字符串 fdate="7/4/2013"; double nextdate = Convert.ToDouble(fdate);

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:56:24.297

试试这个..

```
 DateTime ddd=Convert.ToDateTime("7/4/2013");
 double dd = Convert.ToDouble(Convert.ToString(ddd.Month) + Convert.ToString(ddd.Day) + Convert.ToString(ddd.Year)); 
```

它肯定会起作用

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:52:31.510

首先转换您必须`date`使用[DateTime.ParseExact](http://msdn.microsoft.com/en-us/library/system.datetime.parseexact.aspx)的日期字符串并将其用于`Convert.ToDouble`或`DateTime.ToOADate`将其转换为双精度。

```
string fdate = "7/4/2013";
DateTime date = DateTime.ParseExact(fdate, "d/m/yyyy", System.Globalization.CultureInfo.InvariantCulture);
double nextdate = date.ToOADate(); 
```

# .net - 更改 AES 加密中的共享密钥

> ID：15827572
> 
> 赞同：2
> 
> 时间：2013-04-05T06:48:37.900
> 
> 标签：.net, encryption

在将数据存储到数据库之前，我使用了高级加密标准 (AES) 来加密我的数据。据我了解，如果我更改算法的“共享秘密”部分，我必须相应地更新所有存储的数据。有没有其他方法可以让我的管理员用户有机会更新密钥，而无需同时更新大量存储的数据？

以下是我用于加密的代码：

```
public static string EncryptStringAES(string plainText, string sharedSecret)
    {
        if (string.IsNullOrEmpty(plainText))
            throw new ArgumentNullException("plainText");
        if (string.IsNullOrEmpty(sharedSecret))
            throw new ArgumentNullException("sharedSecret");

        string outStr = null;                       // Encrypted string to return
        RijndaelManaged aesAlg = null;              // RijndaelManaged object used to encrypt the data.

        try
        {
            // generate the key from the shared secret and the salt
            Rfc2898DeriveBytes key = new Rfc2898DeriveBytes(sharedSecret, _salt);

            // Create a RijndaelManaged object
            aesAlg = new RijndaelManaged();
            aesAlg.Key = key.GetBytes(aesAlg.KeySize / 8);

            // Create a decryptor to perform the stream transform.
            ICryptoTransform encryptor = aesAlg.CreateEncryptor(aesAlg.Key, aesAlg.IV);

            // Create the streams used for encryption.
            using (MemoryStream msEncrypt = new MemoryStream())
            {
                // prepend the IV
                msEncrypt.Write(BitConverter.GetBytes(aesAlg.IV.Length), 0, sizeof(int));
                msEncrypt.Write(aesAlg.IV, 0, aesAlg.IV.Length);
                using (CryptoStream csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write))
                {
                    using (StreamWriter swEncrypt = new StreamWriter(csEncrypt))
                    {
                        //Write all data to the stream.
                        swEncrypt.Write(plainText);
                    }
                }
                outStr = Convert.ToBase64String(msEncrypt.ToArray());
            }
        }
        finally
        {
            // Clear the RijndaelManaged object.
            if (aesAlg != null)
                aesAlg.Clear();
        }

        // Return the encrypted bytes from the memory stream.
        return outStr;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T13:14:31.213

我将[Keyczar 框架移植到 C#](http://jbtule.github.com/keyczar-dotnet/)，它具有两个密钥集，允许您轮换密钥（仅使用新密钥加密并仍然使用旧密钥解密）和密钥集的[密码加密](https://github.com/jbtule/keyczar-dotnet/wiki/Additional-Key-Sets#pbekeyset--transforming-key-set)。

创建密钥集：

```
:> KeyczarTool.exe create --location="path_to_keyset" --purpose="crypt"
:> KeyczarTool.exe addkey --location="path_to_keyset" --status="primary" --size="256" --password
Please enter password:
Please re-enter password: 
```

加密：

```
Func<string> passwordCallback = ()=> Console.ReadLine(); //whatever you need to prompt

using(var keySet = new KeySet("path_to_keyset"))
using(var pbeKeySet = new PbeKeySet(keySet, passwordCallback))
using(var encrypter = new Encrypter(pbeKeySet)){
{
     return encrypter.Encrypt(plaintext);
} 
```

解密：

```
using(var keySet = new KeySet("path_to_keyset"))
using(var pbeKeySet = new PbeKeySet(keySet, passwordCallback))
using(var crypter = new Crypter(pbeKeySet)){
{
     return crypter.Encrypt(plaintext);
} 
```

当然，如果您需要非交互式加密和解密，您应该使用 keyczar 的[常规用法](https://github.com/jbtule/keyczar-dotnet/wiki/Authenticated-Encryption)，或者如果您需要额外的分离级别，您甚至可以使用一个[密钥集来加密另一个密钥集。](https://github.com/jbtule/keyczar-dotnet/wiki/Additional-Key-Sets#encryptedkeyset--transforming-key-set)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:17:05.293

如果您的数据使用一个密钥（“密钥 A”）加密，那么更改密钥（以便可以使用“密钥 B”等解密）的唯一方法是使用“密钥 A”解密*所有*数据，并且然后使用“密钥 B”重新加密它。

我相信用来避免这个问题的一般技术是使用强大的“主密钥”加密数据，然后使用用户的密钥加密主密钥。因此，更改密码只需要使用旧密钥和新密钥（分别）对主密钥进行解密和重新加密，而数据本身保持不变。

您没有提及您实际使用的是什么数据库，但可能值得注意的是，许多数据库服务器都支持自动数据加密，因此存储在磁盘上的数据是加密格式，除非您使用，否则无法解密和访问是授权用户。

如果您使用的数据库服务器支持这一点，则值得研究。由于透明，您将不再需要担心在代码中手动加密/解密它，而且它可能已经支持密钥更改以及数据恢复功能（如果您的用户忘记密码等）

# magento - 从 magento 产品视图页面的追加销售产品网格中删除链接“添加您的评论”

> ID：15827574
> 
> 赞同：0
> 
> 时间：2013-04-05T06:48:58.450
> 
> 标签：magento, magento-1.7, review

我在产品视图页面中以网格格式显示追加销售产品。现在的问题是使用代码

```
<?php echo $this->getReviewsSummaryHtml($_link, 'short') ?> 
```

它在产品图片下显示了 2 个链接。

第一个是**“x”评论**格式的评论数量，第二个链接是**“添加您的评论”**。

我想删除**“添加您的评论”**链接，该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-01T10:17:14.823

我刚刚在 upsell.phtml 文件中的 getReviewsSummaryHtml($_link,) ?> 中添加了“短”，它只显示没有“添加评论”链接的“x”评论，您希望它如何工作。Magento 1.8.0.0

# c# - 从cs页面启用/禁用必填字段验证器？

> ID：15827578
> 
> 赞同：15
> 
> 时间：2013-04-05T06:49:24.577
> 
> 标签：c#, javascript, asp.net, validation

我的页面中有两个文本框和两个按钮。

一个是隐藏的，另一个是显示的。

当我单击 时`Button1`，它将保存两者的数据，`TextBox`并通过`RequiredFieldValidator`.

然后当我点击时`Button2`，它会隐藏自己（`Button2`）并显示隐藏的`TextBox`。

两者`TextBox`都有`RequiredFieldValidator`针对`Button1`的事件点击进行验证。

现在我的问题是当我简单地在第一个文本框输入文本并单击保存时，单击按钮正在验证隐藏字段的必填字段。我只想在显示 2 文本框时对其进行验证。

我怎样才能避免这种情况？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-05T07:34:54.133

好吧，您可以简单地使用`Enabled="false"`.`RequiredFieldValidator`

根据您的问题，您`markup`会看起来像这样。

```
<asp:TextBox runat="server" ID="tb1"></asp:TextBox>
<asp:RequiredFieldValidator runat="server" ID="rfv1" ControlToValidate="tb1" ErrorMessage="*" ValidationGroup="gvSave">
</asp:RequiredFieldValidator>

<asp:TextBox runat="server" ID="tb2" Visible="false"></asp:TextBox>
<asp:RequiredFieldValidator runat="server" ID="rfv2" ControlToValidate="tb2" ErrorMessage="*" Enabled="false" ValidationGroup="gvSave">
</asp:RequiredFieldValidator>

<asp:Button runat="server" ID="btn1" Text="Save" onclick="btn1_Click" ValidationGroup="gvSave"/>
<asp:Button runat="server" ID="btn2" Text="Show" onclick="btn2_Click" /> 
```

而你`codebehind`是这样的：

```
protected void btn2_Click(object sender, EventArgs e)
{
    tb2.Visible = true;
    rfv2.Enabled = true; // Enables the second requiredfieldvalidator
}

protected void btn1_Click(object sender, EventArgs e)
{
  // your Saving code here
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-05T06:56:01.997

使用`ValidationGroup="group"`属性`button`并将验证组分配给要验证的文本。希望它会有所帮助

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-05T07:06:58.757

您可以`CausesValidation="false"`为辅助按钮指定，当验证组 A) 单个字段过多和 B) 您必须在添加更多控件时维护验证组（我们是否将其放在按钮上，验证器，字段*和*验证摘要？记住标准的不是很多，但在编辑时不太实用。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-10T10:45:52.643

这是 Aspx ：

```
 <td align="right">
                            Cut Type :
                        </td>
                        <td class="required">
                            <telerik:RadComboBox ID="cmbCutType" runat="server" MaxHeight="200px" Width="200px"
                                Filter="Contains" EnableLoadOnDemand="true" EmptyMessage="Select Cut Type" OnSelectedIndexChanged="cmbCutType_SelectedIndexChanged"
                                AutoPostBack="true">
                            </telerik:RadComboBox>
                            <asp:RequiredFieldValidator runat="server" ID="rfvCutType" Display="None" ControlToValidate="cmbCutType" InitialValue=""
                                ValidationGroup="Save" ErrorMessage="Cut Type is Mandatory"
                                ForeColor="Red"></asp:RequiredFieldValidator>
                            <ajaxToolkit:ValidatorCalloutExtender ID="vceCutType" TargetControlID="rfvCutType"
                                runat="server">
                            </ajaxToolkit:ValidatorCalloutExtender>
                        </td> 
```

这是后面的代码：

```
protected void btn2_Click(object sender, EventArgs e)
{
    rfvCutType.IsValid = false;
} 
```

试试这个.......

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-07-22T17:10:25.963

如果您希望使用后端验证，请检查一下，它对我有用。

```
Requiredfieldvalidator.Enabled = False 
```

必填字段验证器是一个 ID。

我正在工作的项目所有字段都可见，但根据某些条件，必须禁用验证。

# c# - 如何从 Windows 服务中识别用户？

> ID：15827579
> 
> 赞同：0
> 
> 时间：2013-04-05T06:49:29.370
> 
> 标签：c#, windows-services

我开发了一个 Windows 服务，当 Windows 用户登录时自动发送邮件。现在我想在邮件正文中添加用户名。如何使用 Windows 服务识别用户？可能吗？请告诉我 Windows 服务 (C#) 中允许的一些可以识别用户名的属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T13:16:19.880

当前登录系统的用户可以提取如下：

```
string user = System.Security.Principal.WindowsIdentity.GetCurrent().Name; 
```

这是[MSDN 参考](http://msdn.microsoft.com/en-us/library/vstudio/sfs49sw0%28v=vs.90%29.aspx)。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-05T10:57:09.307

当您尝试以下语句时，您可以轻松获取当前用户名：

```
System.Environment.UserName.ToString(); 
```

您还可以使用 Environment 类的其他一些成员，请参阅：http: [//msdn.microsoft.com/en-us/library/system.environment.aspx](http://msdn.microsoft.com/en-us/library/system.environment.aspx)

希望这能回答你的问题。

# javascript - 如何在不使用suppressmarkers：true的情况下使原点标记在directionsDisplay中反弹？

> ID：15827586
> 
> 赞同：0
> 
> 时间：2013-04-05T06:50:10.337
> 
> 标签：javascript, google-maps-api-3

我已经使用 Google Maps Api 为 2 个地方开发了一条路线 ...。现在我需要原点标记 A 应该被反弹，但我不想将 suppressMarker 值设置为 true ...我也不想添加自定义标记...有什么方法可以使方向显示本身呈现的默认标记被反弹？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-30T14:36:50.160

您可以将带有字母的标准标记更改为来自 google-chart 服务的任何其他标记。
让我向您展示如何在标记上添加一些文本：

```
 directionsDisplay = new google.maps.DirectionsRenderer({ 
         markerOptions: { icon: "https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld=SomeText|FF0000|000000" }
    }), 
```

或者，您可以从那里获取有关更改标记外观的任何其他想法：[https ://developers.google.com/chart/image/docs/gallery/dynamic_icons?hl=fr&csw=1#plain_pin](https://developers.google.com/chart/image/docs/gallery/dynamic_icons?hl=fr&csw=1#plain_pin)

# entity-framework - 从数据库读取值时，实体框架 TPT 层次结构不适用于深层层次结构

> ID：15827589
> 
> 赞同：1
> 
> 时间：2013-04-05T06:50:20.487
> 
> 标签：entity-framework, ef-code-first, entity-framework-5

我有 3 张桌子：

```
Duty
Task :Duty
ProcessTask : Task 
```

我正在使用 TPT 层次结构，在创建数据库时一切似乎都很好。但是当我从数据库中读取值时，我没有从 Duty 表中得到任何值。这是我的查询：

```
var tasks = _dbContext.Duties.OfType<Task>()
                             .OfType<ProcessTask>()
                             .Where(c => c.ParentID == id); 
```

仅返回来自 Task 和 ProcessTask 的值，尽管 SQL 查询返回了所有正确的值（我使用 SQL Profiler 检查过）。

为什么它不映射第一个抽象类的字段？任何帮助深表感谢。

我的源代码：

```
public class Duty
    {
        public int ID { get; set; }        
    }

[Table("Task")]
    public class Task : Duty
    {
        public int ID { get; set; }

        public int? Duration { get; set; }

        public int? NoOfRepeats { get; set; }
    }

[Table("ProcessTask")]
    public class ProcessTask : DigiBob.Model.Governance.Duties.Task
    {
        public int ProcessTaskTypeID { get; set; }
        public virtual ProcessTaskType ProcessTaskType { get; set; } //ProcessTasks

        public int? ParentID { get; set; }
        [ForeignKey("ParentID")]
        public virtual ProcessTask Parent { get; set; }  //Children

        [Required(ErrorMessage = "A short description is required")]
        [MaxLength(150, ErrorMessage = "The maximum length for the short description is 150")]
        public string ShortDescription { get; set; }
    }

public class MyContext : DbContext
{
    public DbSet<Duty> Duties { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T20:44:08.023

**您的查询错误...** - 否则您的代码应该可以正常工作

> 你正在做的有效 - 只是返回`ProcessTask`-s。（OfType 仅选择任务 - 但随后您将 OfType 重新应用到它 - 并进一步缩小范围。

```
// this returns just ProcessTask-s
IEnumerable<Duty> tasks = db.Duties
    .OfType<Task>()
    .OfType<ProcessTask>()
    .ToList();  

// this returns all Task-s (including processes)
tasks = db.Duties
    .OfType<Task>()
    // .OfType<ProcessTask>()
    .ToList();  

// this returns all Duties (including tasks, processes)
tasks = db.Duties
    .OfType<Duty>()
    .ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-07T09:13:53.707

我错误地引用了 ID 字段。这就是我所拥有的：

```
public static ProcessTaskView ConvertToProcessTaskView(this ProcessTask processTask)
    {
        ProcessTaskView processTaskView = new ProcessTaskView();
        processTaskView.ShortDescription = processTask.ShortDescription;
        processTaskView.ProcessTaskTypeID = processTask.ProcessTaskTypeID;
        processTaskView.ID = processTask.ID;

        return processTaskView;
    } 
```

这是正确的代码。

```
public static ProcessTaskView ConvertToProcessTaskView(this Duty processTask)
        {
            ProcessTaskView processTaskView = new ProcessTaskView();
            processTaskView.ShortDescription = (processTask as ProcessTask).ShortDescription;
            processTaskView.ProcessTaskTypeID = (processTask as ProcessTask).ProcessTaskTypeID;
            processTaskView.ID = processTask.ID;

            return processTaskView;
        } 
```

请注意，我现在传入了一个 Duty 对象，并且必须指定访问 ProcessTask 属性的 Duty 类型。现在 ID 字段有一个值，而不仅仅是 0。

谢谢您的帮助

# java - 如何在Java中制作字符串格式化机制？

> ID：15827593
> 
> 赞同：3
> 
> 时间：2013-04-05T06:50:32.383
> 
> 标签：java, tokenize

我正在尝试创建一个字符串格式化机制，它看起来很像[Winamp Advanced Title Formatting](http://media.winamp.com/main/help/50/atf/atf.htm)。

我有一些“变量”（或元数据字段）绑定到对象属性，格式*为 %varname%*。因此，例如，*%title%*元数据字段绑定到歌曲标题，例如“征服天堂”，*%artist%*元数据字段绑定到歌曲艺术家，例如“Vangelis”，而*%feat%*元数据字段绑定到特色艺术家，比如“英国室内合唱团”。

现在我想根据给定的格式显示歌曲，例如：

```
%title%[ (by %artist%[ featuring %feat%])] 
```

方括号表示*不显示，除非括号内的（所有）元数据被设置*。方括号的嵌套应该是可能的。
所以上面提到的格式化字符串说：显示元数据字段*%title%*，如果设置了*%artist%*（不是空字符串），则显示`(by %artist%)`，但如果*%feat%*元数据字段也非空，则也显示该字段。在上述示例中，它将变为：

> 征服天堂（Vangelis 以英国室内合唱团为特色）

现在我该如何制作这样的机制？我从哪里开始？

我想我必须对字符串进行标记，然后按“部分”搜索元数据标签？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:03:40.940

我会建立一个代表模式的树结构。对于您的示例，它看起来像：

```
root
 + variable (title)
 + group 
   + text (" (by ")
   + variable (artist)
   + group
     + text (" featuring ")
     + variable (feat)
   + text (")") 
```

然后，当您根据树评估元数据时，您会在组级别存储评估的组中的所有变量和子组，如果是，则使用文本。

您的树类看起来像：

```
interface Node { String evaluate(Map<String, String> metaData); }

class Group implements Node 
{
  private final List<Node> _children;

  Group(final List<Node> children) { _children = children; }

  @Override
  public String evaluate(final Map<String, String> metaData)
  {
    final StringBuilder sb = new StringBuilder(); 
    for (final Node node : _children)
    {
      final String subText = node.evaluate(metaData);
      if (subText == null)
        return null;
      sb.append(subText);
    }
    return sb.toString();
  }
}

class Text implements Node 
{
  private final String _text;

  Text(final String text) { _text = text; }

  @Override
  public String evaluate(final Map<String, String> metaData)
  {
    return _text;
  }
}

class Variable implements Node 
{
  private final String _variable;

  Variable(final String variable) { _variable = variable; }

  @Override
  public String evaluate(final Map<String, String> metaData)
  {
    return metaData.get(_variable);
  }
} 
```

剩下要做的就是弄清楚如何解析字符串以创建树结构。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T08:10:35.370

根据[SimonC的](https://stackoverflow.com/users/445901/simonc)[建议](https://stackoverflow.com/questions/15827593/how-to-make-string-formatting-mechanism-in-java/15827798#15827798)，我编写了一个执行建议的标记器，将格式化字符串拆分为标记。

```
public class Main {

    private static void buildTree(String format) {
        Stack<Token> st = new Stack<>();
        StringBuilder sb = new StringBuilder();
        GroupToken root = new GroupToken();
        st.push(root);

        boolean var = false;

        for (int i = 0; i < format.length(); i++) {
            char currentChar = format.charAt(i);
            switch (currentChar) {
                case '[':
                    String str = sb.toString();
                    sb.setLength(0); // Flush the StringBuilder
                    if (!str.equals("")) {
                        ((GroupToken) st.peek()).add(new TextToken(str));
                    }
                    GroupToken gt = new GroupToken();
                    ((GroupToken) st.peek()).add(gt);
                    st.push(gt);
                    break;
                case ']':
                    str = sb.toString();
                    sb.setLength(0); // Flush the StringBuilder
                    if (!str.equals("")) {
                        ((GroupToken) st.peek()).add(new TextToken(str));
                    }
                    st.pop();
                    break;
                case '%':
                    var = !var;
                    if (var) {
                        str = sb.toString();
                        sb.setLength(0); // Flush the StringBuilder
                        if (!str.equals("")) {
                            ((GroupToken) st.peek()).add(new TextToken(str));
                        }
                    }
                    else {
                        str = sb.toString();
                        sb.setLength(0); // Flush the StringBuilder
                        ((GroupToken) st.peek()).add(new VariableToken(str));
                    }
                    break;
                default:
                    sb.append(currentChar);
                    break;
            }
        }
        // Process the last remains of the string buffer...
        String str = sb.toString();
        sb.setLength(0); // Flush the StringBuilder
        if (!str.equals("")) {
            ((GroupToken) st.peek()).add(new TextToken(str));
        }
        st.pop();
        System.out.println(root);
    }

    public static void main(String[] arguments) throws Exception {
        buildTree("%title%[ (%alttitle%[, #%track%])]");
    }

}

abstract class Token {

    public abstract String toString(int indent);

}

class TextToken extends Token {

    private String text;

    public TextToken(String text) {
        this.text = text;
    }

    @Override
    public String toString() {
        return toString(0);
    }

    @Override
    public String toString(int indent) {
        return "TextToken[\"" + this.text + "\"]\n";
    }
}

class VariableToken extends Token {

    private String text;

    public VariableToken(String text) {
        this.text = text;
    }

    @Override
    public String toString() {
        return toString(0);
    }

    @Override
    public String toString(int indent) {
        return "VariableToken[\"" + this.text + "\"]\n";
    }
}

class GroupToken extends Token {

    ArrayList<Token> tokens = new ArrayList<>();

    public GroupToken() { }

    public void add(Token token) {
        this.tokens.add(token);
    }

    @Override
    public String toString() {
        return toString(0);
    }

    @Override
    public String toString(int indent) {
        String out = "GroupToken[\n";
        for (Token t : this.tokens) {
            out += StringUtils.pad("", 4 * (indent + 1), ' ') + t.toString(indent + 1);
        }
        out += StringUtils.pad("", 4 * indent, ' ') + "]\n";
        return out;
    }

} 
```

# python - nginx + python + websockets

> ID：15827597
> 
> 赞同：2
> 
> 时间：2013-04-05T06:50:38.683
> 
> 标签：python, nginx, websocket

如何配置 nginx（最新版本，他们说它支持 websockets）以支持 WebSockets。

以及如何使用 python 运行 websockets 连接。

这就是我想要的：

*   客户端使用 JavaScript 创建 WebSocket；
*   websocket 服务器脚本在 python 上运行；
*   和 nginx 在所有这一切的后端。

有谁能够帮助我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:41:34.543

我快速浏览了 Nginx 的相关[变更集](http://trac.nginx.org/nginx/changeset/5073/nginx)，看起来您开始处理 websocket 请求所需要做的就是在您的 nginx 配置中设置一个代理。例如：

```
upstream pythonserver {
    server localhost:5000;
}

server {
    // normal server config stuff...

    location /some/uri/here {
        // Minimum required settings to proxy websocket connections
        proxy_pass http://pythonserver;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";

        // Other settings for this location
    }
} 
```

这个小配置片段会将传入的 websocket 流量代理到您的 Python 应用程序服务器，假设在示例中侦听端口 5000 上的本地连接。

希望这可以帮助。

# javafx - JavaFX 辅助屏幕“始终位于所有应用程序的顶部”

> ID：15827599
> 
> 赞同：6
> 
> 时间：2013-04-05T06:50:43.443
> 
> 标签：javafx, always-on-top

我已经阅读了有关使用 JDialog 包装 JFXPanel 以使用 JDialog 的 alwaysOnTop 方法的信息。它有效，但我对这个黑客有一个小问题。

由于我使用这种技术为我的主应用程序（弹出窗口等）制作辅助窗口，因此我需要将它们设置在主窗口的顶部。如果我使用 wrapper hack 来执行此操作，则顶部面板“始终位于”*所有内容*（包括其他应用程序）的顶部。

有没有办法将辅助屏幕*仅放在我的应用程序之上*？我不喜欢可以在我的应用程序的主窗口和辅助窗口之间拖动另一个应用程序的事实。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-05T20:19:38.317

我建议不要使用[JDialog](http://docs.oracle.com/javase/7/docs/api/javax/swing/JDialog.html)和[JFXPanel](http://docs.oracle.com/javafx/2/api/javafx/embed/swing/JFXPanel.html)，而只使用 JavaFX [Stages](http://docs.oracle.com/javafx/2/api/javafx/stage/Stage.html)。

使您的辅助屏幕 a并在显示辅助阶段之前`Stage`调用[secondaryStage.initOwner(primaryStage) 。](http://docs.oracle.com/javafx/2/api/javafx/stage/Stage.html#initOwner%28javafx.stage.Window%29)

从舞台文档中：

> 一个阶段可以选择拥有一个所有者窗口。当一个窗口是一个阶段的所有者时，它被称为该阶段的父级。. . 阶段将始终位于其父窗口的顶部。

我相信设置辅助阶段的所有者，正确地满足了您“仅在我的应用程序之上的辅助屏幕”的要求。

* * *

*更新：对评论中其他问题的回答*

> 一旦次要窗口打开，我不希望与主要阶段有任何交互（必须关闭辅助窗口才能再次进行交互）。

要阻止输入到主要阶段，在显示次要阶段之前，请调用：[secondaryStage.initModality(Modality.WINDOW_MODAL)](http://docs.oracle.com/javafx/2/api/javafx/stage/Modality.html#WINDOW_MODAL)。

如果您希望阻止对任何其他应用程序窗口的所有输入，则可以使用[APPLICATION_MODAL](http://docs.oracle.com/javafx/2/api/javafx/stage/Modality.html#WINDOW_MODAL)而不是[WINDOW_MODAL](http://docs.oracle.com/javafx/2/api/javafx/stage/Modality.html#WINDOW_MODAL) - 使用哪一个取决于您想要的用户体验。

> api中没有什么明显的东西可以将辅助屏幕居中放在主屏幕上。无论主屏幕在哪里，它总是以显示器为中心。

这部分问题是[舞台中心位置的](https://stackoverflow.com/questions/13702191/center-location-of-stage)副本。副本的答案有用于执行子窗口居中的示例代码。

没错，公共 api 中没有关于相对于父窗口定位子窗口的内容。我已经为此功能提交了一个功能请求[添加用于定位相对于节点的弹出窗口的辅助方法](https://javafx-jira.kenai.com/browse/RT-18870)，但该功能请求尚未在 JavaFX 2.2 中实现。

我创建了一个[示例项目](https://s3.amazonaws.com/baanthaispa/ConfirmationDialog.zip)来进行子对话框的相对定位，这可能很有用。

只是为了在父级中居中，您最好在显示子级之前查询舞台位置和宽度，然后在显示子级时适当地设置子级的 x 和 y 坐标。所有这些都可以基于窗口的[x](http://docs.oracle.com/javafx/2/api/javafx/stage/Window.html#xProperty)、[y](http://docs.oracle.com/javafx/2/api/javafx/stage/Window.html#yProperty)和[width属性来完成。](http://docs.oracle.com/javafx/2/api/javafx/stage/Window.html#widthProperty)

[JavaFX UI 控件沙箱](http://fxexperience.com/2012/10/announcing-the-javafx-ui-controls-sandbox/)中还有一个对话框项目，它可能提供您需要的一些功能，因此您无需自己编写代码。

随着时间的推移，您请求的所有功能都可能最终出现在 JavaFX 核心平台中，但我认为 JavaFX 2.2 还没有完全实现。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-08-20T16:53:28.780

我同意jewelsea，但如果您需要使用JDialog**和**JavaFX 阶段（就像我的情况一样），那么您不能设置您的primaryStage 的父级或模态。

我发现的唯一解决方案是使用一点“hack”：

我使用 JNA、Java Native Access API 使用HWND_TOPMOST 参数执行我自己的`setAlwaysOnTop()`方法。`User32.INSTANCE.setWindowPos(...)`

**编辑**：见[microsoft doc](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633545%28v=vs.85%29.aspx) 和[jna doc](http://twall.github.io/jna/3.4.0/javadoc/com/sun/jna/platform/win32/User32.html)

# php - 数据表排序

> ID：15827603
> 
> 赞同：2
> 
> 时间：2013-04-05T06:50:57.143
> 
> 标签：php, jquery, sorting, datatables, html-table

我在使用 jQuery 插件数据表对数据进行排序时遇到问题。我用数据库结果形成表格，总是得到默认排序，按第一列降序排序：

```
<table cellpadding="0" cellspacing="0" border="0" class="display dataTable tabela" id="tabela4">
<thead>
    <tr>
       <th>ID</th>
        <th>Counter BW</th>
        <th>Counter Color</th>
        <th>Status</th>
    </tr>
</thead>
<tbody>
<? foreach ($db_result->result() as $row):?>
   <tr class="gradeC">
      <td><?=$row->service_id;?></td>
        <td><?= $row -> counter_bw; ?></td>
        <td><?= $row -> counter_color; ?></td>
        <td><div class="<?= $row -> service_status; ?>"><?= $row -> service_status; ?></div></td>
    </tr>
 <? endforeach; ?>
</tbody> 
```

和 jQuery 代码：

```
$('#tabela4').dataTable({
"aaSorting": [[ 3, "desc" ]]
}); 
```

问题是排序总是默认的，第一列降序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:59:00.183

使用[DataTables](http://www.datatables.net/)，您可以在初始化时更改表的排序特征。使用**aaSorting**初始化参数，您可以准确地获取表格您希望如何呈现信息。aaSorting参数是一个**数组**数组，其中第一个值是要排序的列，第二个值是 'asc' 或 'desc' 根据需要尝试如下：

```
$(document).ready(function() {
    $('#example').dataTable( {
        "aaSorting": [[ 4, "desc" ]]
    } );
} ); 
```

更多详情请查看链接：[Demo](http://www.datatables.net/release-datatables/examples/basic_init/table_sorting.html)

# mysql - 为什么使用一个索引与多个索引时的性能差异

> ID：15827605
> 
> 赞同：1
> 
> 时间：2013-04-05T06:50:59.990
> 
> 标签：mysql, indexing

假设我们有一个名为`impression`具有三个字段的表

```
id

site_id

timestamp 
```

这三个字段都是`INT`. 我们必须运行以下查询

```
SELECT COUNT( * ) AS c FROM impression
 WHERE timestamp<UNIX_TIMESTAMP(STR_TO_DATE('09,07,2009','%d,%m,%Y'))
 AND site_id=11 
```

**发现**

如果我定义两个单独的索引，一个打开`timestamp`一个打开，`site id`那么我得到的结果会变慢。在某个数据集上，这个结果需要`0.13 s`计算。

但是，如果我定义一个包含这两个字段的复合索引，那么结果会快得多`0.0002 s`

**问题**

为什么所有索引字段都必须在一个索引下？如果您有两个单独的索引，那么为什么不使用它们

**笔记**

是的，我可以`EXPLAIN`查询，但这不是问题，解释已经表明了我观察到的内容，但是为什么每个查询必须只有一个索引

# php - 准备查询时如何删除任何字符串的引号

> ID：15827606
> 
> 赞同：4
> 
> 时间：2013-04-05T06:51:04.477
> 
> 标签：php, mysql, pdo, quotes

```
$desc = 'DESC';

$getRecords = $conn->prepare('SELECT * FROM `courses` ORDER BY `id` :sort LIMIT :limitInc, :limit ');

$getRecords->bindValue(':limit',$limit,PDO::PARAM_INT);  // working

$getRecords->bindValue(':limitInc',$limitInc,PDO::PARAM_INT); // working

// *** The line below isn't working ***
$getRecords->bindValue(':sort', $desc ,PDO::PARAM_STR); // not working

$getRecords->execute(); 
```

我正在尝试调用`$desc`我的准备查询..

> 致命错误：未捕获异常 'PDOException' 并带有消息 'SQLSTATE[42000]：语法错误或访问冲突：1064 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册以获取正确的语法，以便在 C:\xampp\htdocs\portfolio\nasiraan\try\indexx.php:89 中的第 1 行的 ''DESC' LIMIT 0, 5' 附近使用跟踪：#0 C:\xampp\htdocs\portfolio\nasiraan\try\indexx.php(89): PDOStatement->execute() #1 {main} 在 C:\xampp\htdocs\portfolio\nasiraan\try\ 中抛出第 89 行的 indexx.php

我确定解决方案是......从字符串中删除引号`$desc`......但是如何？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T06:59:07.207

恐怕您必须使用文字字符串，因为占位符不能包含诸如用于排序顺序的关键字（以及其他关键字）：

```
$query = sprintf('SELECT * FROM `courses` ORDER BY `id` %s LIMIT :limitInc, :limit ', 
    strcasecmp($desc, 'DESC') === 0 ? 'DESC' : 'ASC')
);
$getRecords = $conn->prepare($query); 
```

以这种方式构建查询并不是那么糟糕，因为只有两个选项。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T07:08:40.270

> 参数标记只能用于应出现数据值的地方，不能用于 SQL 关键字、标识符等。

[准备语法](http://dev.mysql.com/doc/refman/5.5/en/prepare.html)

您不能将准备好的语句与它一起使用。

*   如果你想使用简单的绑定值语法，你可以使用

    ```
    SELECT * FROM `courses` ORDER BY `id`*:sort LIMIT :limitInc, :limit 
    ```

然后绑定带符号的数值。但是这个查询[不会被 MySQL 优化](http://dev.mysql.com/doc/refman/5.5/en/order-by-optimization.html)。

*   如果你想“吞下”错误的顺序，你可以使用@Jack 的解决方案，但是方向错误可能会得到错误的结果。如果顺序很重要，您必须检查两个值：

    ```
    strcasecmp($desc, 'DESC') && strcasecmp($desc, 'ASC') ? error() : $desc; 
    ```

您也可以包装 PDO 并添加特殊方法`prepare_ordered($query, $order);`或更复杂的东西并在那里进行比较。

或者你可以使用没有问题的外国图书馆。但是你必须学习它的API。

PS我看到你正在使用准备好的语句的模拟。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-05T07:43:32.367

$query = 'SELECT * FROM `courses`ORDER BY `id`'.$desc .' 限制 :limit, :limitInc';

$getRecords = $conn->prepare($query); // 将我的查询存储在一个变量名 $query 中，在其中我传递了我的变量.. 所以现在我不需要绑定它..

$getRecords->bindValue(':limit',$limit,PDO::PARAM_INT);

$getRecords->bindValue(':limitInc',$limitInc,PDO::PARAM_INT);

$getRecords->执行（）；

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-05T07:29:18.440

我总是扩展 PDO 并添加一些我自己方便的东西。所以首先你像这样扩展：

```
<?php

    //Database class
    class db extends Pdo{
        public function __construct(){
            global $conf;
            try
                {   
                    parent::__construct('DBTYPE:dbname=DBNAME;host=DBHOST', 'DBUSER', 'DBPASS');

                        $this->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
                        $this->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
                }
            catch(PDOException $e){
                throw new myPdoException($e);
            }
        }

        public function quest($queryString){
            try
                {
                    $query = $this->query($queryString);

                        return $query;                      
                }
            catch(PDOException $e){
                throw new myPdoException($e);
            }
        }

        public function doPrepare($queryString, $param){
            try
                {
                    $query = $this->prepare($queryString);

                    $query->execute($param);

                        return $query;
                }
            catch(PDOException $e)
            {
                throw new myPdoException($e);
            }
        }

        public function doPrepareBind($queryString, $param){
            try
                {
                    $query = $this->prepare($queryString);

                        foreach($param as $par){
                            switch($par[2]):
                                case 'int':
                                    $query->bindParam($par[0], $par[1], PDO::PARAM_INT);
                                break;

                                case 'str':
                                    $query->bindParam($par[0], $par[1], PDO::PARAM_STR);
                                break;
                                case 'blob':
                                    $query->bindParam($par[0], $par[1], PDO::PARAM_LOB);
                                break;

                                default:
                                    $query->bindParam($par[0], $par[1], PDO::PARAM_STR);
                                break;
                            endswitch;
                        }

                    $query->execute();

                        return $query;
                }
            catch(PDOException $e)
            {
                throw new myPdoException($e);
            }
        }
    }

    class myPdoException extends PdoException{
        private $_debug = DB_DEBUG;

        public function __construct($e){
            parent::__construct($e);

                $this->showException();
        }

        private function showException(){
            if($this->_debug){
                echo
                "<div id='transparant'><div id='error'><br /><br />" . 
                     $this->message
                . "<br /><br /><br /></div></div>";
            }
            else{
                echo    "<div id='transparant'><div id='error'><br /><br />
                            Er is iets mis gegaan, probeer later nog eens.<br />Sorry voor het ongemak.
                        <br /><br /><br /></div></div>";
            }
        }
    }

?> 
```

您会在第 9 行看到一个父构造函数。您必须添加您的数据库信息来代替大写字母。

请注意，DBTYPE 是您正在使用的数据库服务的类型。可能它只是mysql。

现在这就是我在对一系列字符串进行消毒时使用它的方式：

```
//first include db class I made above.
$db = new db();

$query = "INSERT INTO `database`.`users` (`id`, `naam`, `email`, `pass`, `key`, `status`) VALUES (NULL, :name, :mail, :pass, '$key', '0')";
$param = array(
                    array(':name', $_POST['name']),
                    array(':mail', $_POST['mail']),
                    array(':pass', $pass_hash)
                );
$query = $db->doPrepareBind($query, $param); 
```

# windows - WriteConsoleW、wprintf 和 Unicode

> ID：15827607
> 
> 赞同：4
> 
> 时间：2013-04-05T06:51:08.450
> 
> 标签：windows, unicode, console

```
AllocConsole();
consoleHandle = GetStdHandle(STD_OUTPUT_HANDLE);
WriteConsoleW(consoleHandle, L"qweąęėšų\n", 9, NULL, NULL);
_wfreopen(L"CONOUT$", L"w", stdout);
wprintf(L"qweąęėšų\n"); 
```

输出是：

> ```
> qweąęėšų
> qwe 
> ```

为什么在打印 qwe 后 wprintf 停止？\0 遇到的字节应该终止宽字符字符串，AFAIK

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T09:35:15.160

起初我接受了 Hans Passant 的回答，但 wprintf 不打印到 UTF-8 流的根本原因是 wprintf 的行为就像它使用函数 wcrtomb 一样，该函数将宽字符 (wchar_t) 编码为多字节序列，具体取决于当前语言环境-[链接](https://stackoverflow.com/questions/15874715/why-does-wprintf-separate-unicode-ligature-into-two-different-graphemes)。Windows 没有支持 UTF-8 的语言环境（支持 UTF-8 代码页 (65001) 的语言环境）。

引用[MSDN](http://msdn.microsoft.com/en-us/library/x99tb11d%28v=vs.110%29.aspx)：

> 可用的区域设置名称、语言、国家/地区代码和代码页集包括 Windows NLS API 支持的所有内容，但每个字符需要两个以上字节的代码页除外，例如 UTF-7 和 UTF-8。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T08:05:29.110

标准输出流可以重定向，因此始终以 8 位模式运行。传递给 wprintf() 的 Unicode 字符串从 utf-16 转换为为控制台选择的 8 位代码页。默认情况下，这是旧的 437 OEM 代码页。这就是降压停止的地方，该代码页不支持该字符。

您需要切换到另一个支持该字符的 8 位代码页。一个不错的选择是 65001，即 utf-8 的代码页。使固定：

```
 SetConsoleOutputCP(CP_UTF8); 
```

或者，如果您希望标准输入也使用 utf-8，请使用 SetConsoleCP()。

# android-ndk - $(build_executable) 生成共享对象

> ID：15827614
> 
> 赞同：0
> 
> 时间：2013-04-05T06:51:34.137
> 
> 标签：android-ndk

我正在尝试为 android 创建一个本机可执行文件，但它一直在崩溃。使用 readelf 和 objdump 测试该文件会恢复该文件被认为是共享对象文件。我正在使用 r8e 并使用 ndk-build 进行编译

测试.c：

```
int main(){
  return 0;
} 
```

安卓.mk：

```
LOCAL_PATH := $(call my-dir)
include $(CLEAR_VARS)
LOCAL_SRC FILES := test.c
LOCAL_MODULE := test

include(BUILD_EXECUTABLE) 
```

--

将 app_platform 设置为 android-9 会导致创建一个可执行文件（并且不会崩溃）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T19:16:17.423

我确认了这个错误...我有一个使用 ndk-r8 完美编译的项目，但是当我切换到 ndk-8e 时，我的可执行文件不再正确构建。

我在这里报告：[https ://code.google.com/p/android/issues/detail?id=55769](https://code.google.com/p/android/issues/detail?id=55769)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-27T10:09:16.260

这是我从谷歌得到的答案：

这个是正常的。默认情况下，针对 API 级别 17 或更高级别时，“位置独立可执行文件”（又名 PIE）由 BUILD_EXECUTABLE 规则生成。

这些是*可执行的二进制文件*，但它们仅在 Android 4.1 或更高版本上受支持。有关详细信息，请参阅 [1]。

如果您真的不想要这些（例如，因为您希望您的程序在平台的先前版本上运行），您有两种选择：

*   针对较低的 API 级别。
*   在 Application.mk 中使用 'APP_PIE := false'

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T15:12:43.980

您是否尝试过为您的 main() 方法指定参数`int args`和参数？`char *argv[]`另外，你想在哪里运行它？

# java - 如何使用 Junit Core 生成 Junit 报告

> ID：15827616
> 
> 赞同：1
> 
> 时间：2013-04-05T06:51:38.423
> 
> 标签：java, junit, junit4

我需要使用 JUNIT CORE 运行几个 JUnit 测试。我能够完成此任务，但无法获取此运行的 JUnit 报告。任何人都可以建议我一种可以实现这一目标的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:47:36.057

不确定，如果这真的是你想要的，链接会引导你从 ant 任务创建报告

[http://blog.varunin.com/2010/03/ant-script-for-generating-junit-report.html](http://blog.varunin.com/2010/03/ant-script-for-generating-junit-report.html)

# android - Android OBD 阅读器未通过所有切换案例

> ID：15827618
> 
> 赞同：1
> 
> 时间：2013-04-05T06:51:50.527
> 
> 标签：android, switch-statement, obd-ii

我正在开发一个 Android 应用程序，该应用程序修改了 Eclipse 提供的蓝牙聊天示例，以创建一个车载诊断 (OBD) 阅读器。我的代码向车辆的 ECU 发送消息，并使用开关检索数据。

现在，我的问题是，由于某种原因，当我运行我的程序时，我只收到了 6 个案例的数据，而我没有收到其余案例的数据。

代码有点长。

```
 public void startTransmission() {

        sendMessage("01 00" + '\r');

    }

    public void getData(int messagenumber) {

        final TextView TX = (TextView) findViewById(R.id.TXView2);

        switch (messagenumber) {

        case 1:
            sendMessage("01 0C" + '\r'); // get RPM
            TX.setText("01 0C");
            messagenumber++;
            break;

        case 2:
            sendMessage("01 0D" + '\r'); // get MPH
            TX.setText("01 0D");
            messagenumber++;
            break;
        case 3:
            sendMessage("01 04" + '\r'); // get Engine Load
            TX.setText("01 04");
            messagenumber++;
            break;
        case 4:
            sendMessage("01 05" + '\r'); // get Coolant Temperature
            TX.setText("01 05");
            messagenumber++;
            break;
        case 5:
            sendMessage("01 0F" + '\r'); // get Intake Temperature
            TX.setText("01 0F");
            messagenumber++;
            break;

        case 6:
            sendMessage("AT RV" + '\r'); // get Voltage
            TX.setText("AT RV");
            messagenumber++;
            break;

        case 7:
            sendMessage("01 06" + '\r'); // get Fuel Trim Bank 1 Sensor 1
            TX.setText("01 06");
            messagenumber++;

        case 8:
            sendMessage("01 07" + '\r'); // get Fuel Trim Bank 1 Sensor 2
            TX.setText("01 07");
            messagenumber++;

        case 9:
            sendMessage("01 0B" + '\r'); // get Intake Manifold Pressure
            TX.setText("01 0B");
            messagenumber++;

        case 10:
            sendMessage("01 0E" + '\r'); // get Timing Advance
            TX.setText("01 0E");
            messagenumber++;

        case 11:
            sendMessage("01 11" + '\r'); // get Throttle Position
            TX.setText("01 11");
            messagenumber++;

        case 12:
            sendMessage("01 14" + '\r'); // get Oxygen Bank 1 Sensor 1
            TX.setText("01 14");
            messagenumber++;

        case 13:
            sendMessage("01 15" + '\r'); // get Oxygen Bank 1 Sensor 2
            TX.setText("01 15");
            messagenumber++;

        default:
            ;
        }
    }

    private void sendMessage(String message) {
        // Check that we're actually connected before trying anything
        if (mChatService.getState() != BluetoothChatService.STATE_CONNECTED) {
            Toast.makeText(this, R.string.not_connected, Toast.LENGTH_SHORT)
                    .show();
            return;
        }// end if

        // Check that there's actually something to send
        if (message.length() > 0) {
            // Get the message bytes and tell the BluetoothChatService to write
            byte[] send = message.getBytes();
            mChatService.write(send);

            // Reset out string buffer to zero and clear the edit text field
            mOutStringBuffer.setLength(0);
            // mOutEditText.setText(mOutStringBuffer);
        }// end if
    }// end sendMessage method    

    // The Handler that gets information back from the BluetoothChatService
    private final Handler mHandler = new Handler() {

        @Override
        public void handleMessage(Message msg) {

            // <--------- Initialize Data Display Fields ---------->//
            /* PID = 0C */final TextView RPM = (TextView) findViewById(R.id.numRPM);
            /* PID = 0D */final TextView MPH = (TextView) findViewById(R.id.numSpeed);
            /* PID = 04 */final TextView engineLoad = (TextView) findViewById(R.id.numLoad);
            /* PID = 05 */final TextView coolantTemperature = (TextView) findViewById(R.id.numCoolant);
            /* PID = 0F */final TextView intakeTemperature = (TextView) findViewById(R.id.numIntakeAir);
            /* PID = RV */final TextView voltage = (TextView) findViewById(R.id.numVoltage);
            /* PID = 06 */final TextView fuelTrimB1S1 = (TextView) findViewById(R.id.numFTb1s1);
            /* PID = 07 */final TextView fuelTrimB1S2 = (TextView) findViewById(R.id.numFTb1s2);
            /* PID = 0A */final TextView intakeManifold = (TextView) findViewById(R.id.numManifold);
            /* PID = 0E */final TextView timingAdvance = (TextView) findViewById(R.id.numTiming);
            /* PID = 11 */final TextView throttlePos = (TextView) findViewById(R.id.numThrottle);
            /* PID = 14 */final TextView oxygenB1s1 = (TextView) findViewById(R.id.numO2b1s1);
            /* PID = 15 */final TextView oxygenB1s2 = (TextView) findViewById(R.id.numO2b1s2);
            /* displays recieved string */final TextView RX = (TextView) findViewById(R.id.RXView2);

            String dataRecieved;
            int value = 0;
            int value2 = 0;
            int PID = 0;

            switch (msg.what) {
            case MESSAGE_STATE_CHANGE:
                if (D)
                    Log.i(TAG, "MESSAGE_STATE_CHANGE: " + msg.arg1);
                switch (msg.arg1) {
                case BluetoothChatService.STATE_CONNECTED:
                    setStatus(getString(R.string.title_connected_to,
                            mConnectedDeviceName));
                    mConversationArrayAdapter.clear();
                    break;
                case BluetoothChatService.STATE_CONNECTING:
                    setStatus(R.string.title_connecting);
                    break;
                case BluetoothChatService.STATE_LISTEN:
                case BluetoothChatService.STATE_NONE:
                    setStatus(R.string.title_not_connected);
                    break;
                }
                break;
            case MESSAGE_WRITE:
                // byte[] writeBuf = (byte[]) msg.obj;
                // construct a string from the buffer
                // String writeMessage = new String(writeBuf);

                // mConversationArrayAdapter.add("Me:  " + writeMessage);
                break;
            case MESSAGE_READ:
                byte[] readBuf = (byte[]) msg.obj;
                // construct a string from the valid bytes in the buffer
                String readMessage = new String(readBuf, 0, msg.arg1);

                // ------- ADDED CODE FOR OBD -------- //
                dataRecieved = readMessage;
                RX.setText(dataRecieved);

                if ((dataRecieved != null)
                        && (dataRecieved
                                .matches("\\s*[0-9A-Fa-f]{2} [0-9A-Fa-f]{2}\\s*\r?\n?"))) {

                    dataRecieved = dataRecieved.trim();
                    String[] bytes = dataRecieved.split(" ");

                    if ((bytes[0] != null) && (bytes[1] != null)) {

                        PID = Integer.parseInt(bytes[0].trim(), 16);
                        value = Integer.parseInt(bytes[1].trim(), 16);
                    }

                    switch (PID) {

                    case 15:// PID(0F): Intake Temperature

                        value = value - 40; // Formula for Intake Temperature
                        value = ((value * 9) / 5) + 32; // Convert from Celsius
                                                        // to Farenheit
                        String displayIntakeTemp = String.valueOf(value);
                        intakeTemperature.setText(displayIntakeTemp + " F");

                        break;
                    // end Intake Temperature case

                    case 4:// PID(04): Engine Load

                        value = (value * 100) / 255;

                        String displayEngineLoad = String.valueOf(value);
                        engineLoad.setText(displayEngineLoad + " %");
                        break;
                    // end Engine Load case

                    case 5:// PID(05): Coolant Temperature

                        value = value - 40;
                        value = ((value * 9) / 5) + 32; // convert to deg F

                        String displayCoolantTemp = String.valueOf(value);
                        coolantTemperature.setText(displayCoolantTemp);
                        break;
                    // end Coolant Temperature case

                    case 12: // PID(0C): RPM
                        int RPM_value = (value * 256) / 4;

                        String displayRPM = String.valueOf(RPM_value);
                        RPM.setText(displayRPM);
                        break;
                    // end RPM case

                    case 13:// PID(0D): MPH

                        value = (value * 5) / 8; // convert KPH to MPH

                        String displayMPH = String.valueOf(value);
                        MPH.setText(displayMPH + " MPH");
                        break;
                    // end MPH case

                    case 6:// PID(06): Fuel Trim Bank 1 Sensor 1

                        value = (value - 128) * 100 / 128;

                        String displayFtB1s1 = String.valueOf(value);
                        fuelTrimB1S1.setText(displayFtB1s1);
                        break;

                    case 7:// PID(07): Fuel Trim Bank 1 Sensor 2

                        value = (value - 128) * 100 / 128;

                        String displayFtB1s2 = String.valueOf(value);
                        fuelTrimB1S2.setText(displayFtB1s2);
                        break;

                    case 11: // PID(0A): Intake Manifold Pressure

                        String displayIntakeManifold = String.valueOf(value);
                        intakeManifold.setText(displayIntakeManifold);
                        break;

                    case 14: // PID(0E): Timing Advance

                        value = value / 2 - 64;

                        String displayTimingAdvance = String.valueOf(value);
                        timingAdvance.setText(displayTimingAdvance);
                        break;

                    case 17: // PID(11): Throttle Position

                        value = value * 100 / 255;

                        String displayThrottlePos = String.valueOf(value);
                        throttlePos.setText(displayThrottlePos);

                    case 20: // PID(14): Oxygen Bank 1 Sensor 1

                        String displayO2B1s1 = String.valueOf(value);
                        oxygenB1s1.setText(displayO2B1s1);
                        break;

                    case 21: // PID(14): Oxygen Bank 1 Sensor 2

                        String displayO2B1s2 = String.valueOf(value);
                        oxygenB1s2.setText(displayO2B1s2);
                        break;

                    default:
                        ;

                    }

                } else if ((dataRecieved != null)
                        && (dataRecieved
                                .matches("\\s*[0-9A-Fa-f]{1,2} [0-9A-Fa-f]{2} [0-9A-Fa-f]{2}\\s*\r?\n?"))) {

                    dataRecieved = dataRecieved.trim();
                    String[] bytes = dataRecieved.split(" ");

                    if ((bytes[0] != null) && (bytes[1] != null)
                            && (bytes[2] != null)) {

                        PID = Integer.parseInt(bytes[0].trim(), 16);
                        value = Integer.parseInt(bytes[1].trim(), 16);
                        value2 = Integer.parseInt(bytes[2].trim(), 16);
                    }

                    // PID(0C): RPM
                    if (PID == 12) {

                        int RPM_value = ((value * 256) + value2) / 4;

                        String displayRPM = String.valueOf(RPM_value);
                        RPM.setText(displayRPM + " RPM");
                    } else if ((PID == 1) || (PID == 65)) {

                        switch (value) {

                        case 15:// PID(0F): Intake Temperature

                            value2 = value2 - 40; // formula for INTAKE AIR TEMP
                            value2 = ((value2 * 9) / 5) + 32; // convert to deg
                                                                // F

                            String displayIntakeTemp = String.valueOf(value2);
                            intakeTemperature
                                    .setText(displayIntakeTemp + " °F");
                            break;
                        // end Intake Temperature case

                        case 4:// PID(04): Engine Load

                            value2 = (value2 * 100) / 255;
                            String displayEngineLoad = String.valueOf(value2);

                            engineLoad.setText(displayEngineLoad + " %");
                            break;
                        // end Engine Load case

                        case 5:// PID(05): Coolant Temperature

                            value2 = value2 - 40;
                            value2 = ((value2 * 9) / 5) + 32; // convert to deg
                                                                // F

                            String displayCoolantTemp = String.valueOf(value2);
                            coolantTemperature.setText(displayCoolantTemp
                                    + " °F");
                            break;

                        case 13:// PID(0D): MPH

                            value2 = (value2 * 5) / 8; // convert to MPH

                            String displayMPH = String.valueOf(value2);
                            MPH.setText(displayMPH + " MPH");
                            break;

//                      case 6:// PID(06): Fuel Trim Bank 1 Sensor 1
//
//                          value = (value - 128) * 100 / 128;
//
//                          String displayFtB1s1 = String.valueOf(value);
//                          fuelTrimB1S1.setText(displayFtB1s1 + " V");
//                          break;
//
//                      case 7:// PID(07): Fuel Trim Bank 1 Sensor 2
//
//                          value = (value - 128) * 100 / 128;
//
//                          String displayFtB1s2 = String.valueOf(value);
//                          fuelTrimB1S2.setText(displayFtB1s2 + " V");
//                          break;
//
//                      case 11: // PID(0A): Intake Manifold Pressure
//
//                          String displayIntakeManifold = String
//                                  .valueOf(value);
//                          intakeManifold.setText(displayIntakeManifold
//                                  + " psi");
//                          break;
//
//                      case 14: // PID(0E): Timing Advance
//
//                          value = value / 2 - 64;
//
//                          String displayTimingAdvance = String.valueOf(value);
//                          timingAdvance.setText(displayTimingAdvance + " °");
//                          break;
//
//                      case 17: // PID(11): Throttle Position
//
//                          value = value * 100 / 255;
//
//                          String displayThrottlePos = String.valueOf(value);
//                          throttlePos.setText(displayThrottlePos + " %");
//
//                      case 20: // PID(14): Oxygen Bank 1 Sensor 1
//
//                          String displayO2B1s1 = String.valueOf(value);
//                          oxygenB1s1.setText(displayO2B1s1 + " V");
//                          break;
//
//                      case 21: // PID(14): Oxygen Bank 1 Sensor 2
//
//                          String displayO2B1s2 = String.valueOf(value);
//                          oxygenB1s2.setText(displayO2B1s2 + " V");
//                          break;

                        default:
                            ;
                        }
                    }

                } else if ((dataRecieved != null)
                        && (dataRecieved
                                .matches("\\s*[0-9]+(\\.[0-9]?)?V\\s*\r*\n*"))) {

                    dataRecieved = dataRecieved.trim();
                    voltage.setText(dataRecieved);

                } else if ((dataRecieved != null)
                        && (dataRecieved
                                .matches("\\s*[0-9]+(\\.[0-9]?)?V\\s*V\\s*>\\s*\r*\n*"))) {

                    dataRecieved = dataRecieved.trim();
                    // String volt_number = dataRecieved.substring(0,
                    // dataRecieved.length() - 1);

                    voltage.setText(dataRecieved);

                } else if ((dataRecieved != null)
                        && (dataRecieved
                                .matches("\\s*[ .A-Za-z0-9\\?*>\r\n]*\\s*>\\s*\r*\n*"))) {

                    if (message_number == 7)
                        message_number = 1;
                    getData(message_number++);
                }

                break;
    }
} 
```

我想我要关注的地方是：

```
if ((dataRecieved != null)
                        && (dataRecieved
                                .matches("\\s*[0-9A-Fa-f]{2} [0-9A-Fa-f]{2}\\s*\r?\n?"))) {

                    dataRecieved = dataRecieved.trim();
                    String[] bytes = dataRecieved.split(" ");

                    if ((bytes[0] != null) && (bytes[1] != null)) {

                        PID = Integer.parseInt(bytes[0].trim(), 16);
                        value = Integer.parseInt(bytes[1].trim(), 16);
                    } 
```

此代码基于我所做的一些研究，我不确定 dataRecieved.matches 背后的字符串是什么。它看起来是一个数组，我认为收到的参数导致我的开关盒不触发。

感谢您的任何意见。

# database - 访问查询选择

> ID：15827619
> 
> 赞同：1
> 
> 时间：2013-04-05T06:51:55.290
> 
> 标签：database, ms-access-2010

我需要有关 Access 数据库查询的帮助，但我不知道该怎么做。我所拥有的是一个数据库，其中包含一个存储疾病名称和 ID 的表疾病，另一个名为“症状”的存储症状名称和 ID，另一个名为“症状疾病”的数据库，其中我将症状与给定的疾病相关联。我想要做的是获取所有具有给定症状集的疾病，例如具有 ID 3、4 和 5 症状的疾病。我应该做什么来解决这个问题的 SQL 查询？这些是表和字段：

1) 疾病

传染病

疾病名称

2) 症状

症状

症状名称

3) 症状疾病

IdDiseases_fk

IdSymptoms_fk

=> 在这张表中，我会有例如：

IdDisease_fk || IdSymptoms_fk

6 || 4

6 || 5

6 || 3

6 || 7

6 || 8

4 || 10

4 || 11

4 || 4

4 || 5

4 || 3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:56:16.893

这种技术称为`Relational Division`

```
SELECT  a.IdDisease,
        a.DiseaseName
FROM    Diseases AS a
        INNER JOIN SymptomsDiseases as B
            ON a.IdDisease = b.IdDiseases_fk
WHERE   b.IdSymptoms_fk IN (3,4,5)               -- <<== list of ID of Symptoms
GROUP   BY a.IdDisease, a.DiseaseName
HAVING  COUNT(*) = 3                             -- <<== number of symptoms 
```

*   [关系划分的SQL](http://www.simple-talk.com/sql/t-sql-programming/divided-we-stand-the-sql-of-relational-division/)

# angularjs - 为Angularjs中的过滤器分配一个值？

> ID：15827621
> 
> 赞同：0
> 
> 时间：2013-04-05T06:51:59.707
> 
> 标签：angularjs

我的 JSON 数据如下：records.json

```
[
  {
  "id":"1",
  "name":"Report1",
    "category":"A"
    },

  {
  "id":"2",
  "name":"Report2",
    "category":"A"
    },
  {
  "id":"3",
  "name":"Report3",
    "category":"B"
    },
  {
  "id":"4",
  "name":"Report4",
    "category":"C"
    }
 ] 
```

HTML页面就像：

```
<input ng-model="query" />
<li ng-repeat="record in records | filter:query" /> 
```

此代码根据查询给出记录列表，但我只想要那些只有类别 A 的记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T09:39:05.147

正如[AngularJS 文档](http://docs.angularjs.org/api/ng.filter%3afilter)所解释的，你可以简单地做这样的事情：

```
<li ng-repeat="record in records | filter: {category:'A', name:query}">
    <!-- ... -->
</li> 
```

请注意，如果您的过滤器变得很重，最好[自己制作过滤器](http://docs.angularjs.org/guide/dev_guide.templates.filters.creating_filters)。

# asp.net-mvc-4 - AutoMapper 不工作 **导航属性可能失败**

> ID：15827626
> 
> 赞同：0
> 
> 时间：2013-04-05T06:52:11.767
> 
> 标签：asp.net-mvc-4, automapper

我有两节课：

> 类别 - 国家 >> ID、姓名、列表
> 
> 类 - 城市 >> ID、姓名、CountryID、Country

我有与上述类相同的 CountryViewModel 和 CityViewModel 类。

我在 Global.asax.cs 中写了以下内容：

```
AutoMapper.Mapper.CreateMap<Country,CountryViewModel>();
AutoMapper.Mapper.CreateMap<City,CityViewModel>(); 
```

从 datbabse 检索实体后，我正在触发以下行以将模型映射到视图模型。：

```
AutoMapper.Mapper.Map(country, System.Type.GetType("Country"), System.Type.GetType("CountryViewModel")); 
```

这在上面的行中给出了“找不到对象引用”错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T12:34:49.393

1.  确保您的 global.asax.cs 还包含一个调用，`AutoMapper.Mapper.AssertConfigurationIsValid()`以确保所有内容都正确映射。

2.  我以前从未使用过非通用语法`Map`，但应该工作的通用版本是：

    `AutoMapper.Mapper.Map<Country, CountryViewModel>(country);`

# c++ - 纯虚函数的重载

> ID：15827632
> 
> 赞同：6
> 
> 时间：2013-04-05T06:52:43.310
> 
> 标签：c++, oop, design-patterns, overloading, pure-virtual

我通常对我的代码所需的那些方法使用纯虚函数才能正常工作。因此，我创建接口，然后其他用户实现他们的派生类。派生类只有这些虚函数是公共的，而一些额外的方法应该实现为私有的，因为我的代码没有调用它们。我不知道这是否可以被视为 OOP 的良好实践（是否有任何设计模式？）。无论如何，我的问题是：用户可以重载纯虚函数吗？

IE

```
class Base
{
public:
 Base();
 virtual ~Base();
 virtual void foo(int,double)=0;
};

class Derived:
public Base
{
 private:
  // methods
 public:
 Derived();
 virtual ~Derived();
 virtual void foo(int, double, double); //this doesn't work
 }; 
```

一个解决方案可能是：

```
 virtual void foo(int,double,double=0)=0; 
```

在基类中，但非常有限。你有什么想法？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-05T07:02:01.297

这2个功能是不同的。后者不会覆盖第一个

```
virtual void foo(int,double)=0;
virtual void foo(int, double, double); 
```

第二个是特定于派生的新虚函数。

如果你把 a`override`放在最后，编译会抱怨你没有覆盖任何东西。这是 c++11 检查。

```
virtual void foo(int, double, double) override; 
```

用户可以重写一个纯虚函数来确认使用`override`，在函数结束时进行验证。**在您的情况下，只能使用派生指针或类型访问第二个函数。**（虽然它不能被实例化，除非纯虚函数被正确地覆盖和实现，直到那时它是一个抽象类）。因此，如果它不打算被派生的类进一步覆盖，`Derived`那么将其设为虚拟是一种开销，因为无论如何它都不会覆盖基本方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-05T06:55:38.153

你不能。

假设你有一个`Base`指针，指向一个`Derived`对象。有了`Base`指针，您只能“访问”`Base`的接口（除非您转换为`Derived`指针，但这不是您所需要的）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-05T06:58:09.003

重载函数仅仅是一个与另一个同名的函数，但接受一组不同的参数，即它是一个**不同**的函数。它与一个或多个重载函数是否为虚函数无关。

在您提供的示例中，我相信用户可以重载纯虚拟函数，但只能在覆盖它之后。而且您无法直接从基类访问该函数 - 您需要将基类指针转换为派生类指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T07:04:21.593

正如其他人指出的那样，它只是行不通。

更离散的是，这就是发生的事情

```
 Derived d;
 d.foo(5, 10.0); // Works as expected

 Base &b = d; // b is polymorphic
 b.foo(3,10,4); // foo(int, double, double) is not in class Base, hence compile-time resolution fails! 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-13T11:36:57.430

它不是重写的，因为函数签名不同。根据覆盖函数的多态规则，函数签名和类型应该相同。

在这种情况下，这些功能是不同的。虚拟 void foo(int,double)=0; 虚拟 void foo(int, double, double);

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-05-10T11:47:54.310

在基类中重载 foo 不是最简单的解决方案吗？

```
class Base
{
public:
 Base();
 virtual ~Base();
 virtual void foo(int,double)=0;
 virtual void foo(int,double,double)=0;
}; 
```

# sql-server - 同步已完成但 last_sync_status 仍为 1

> ID：15827633
> 
> 赞同：0
> 
> 时间：2013-04-05T06:52:47.437
> 
> 标签：sql-server, sql-server-2005

不要问我这个奇怪的设置，这是给我的东西。

我有一个从服务器到另一个服务器的复制设置，它做了很多不同的事情。复制完成后，它依赖于在 MSSubscription_gents 表上设置的触发器。当`last_sync_status`设置为 2 时，触发器会更新另一个表，这是复制完成时它应该具有的值。

这一切都是在生产中设置的，我正在尝试使用相同的设置设置一个 QA 环境，但由于某种原因它不起作用。该表使用新值更新，`last_sync_time`但`last_sync_status`卡在 1 并且触发器不会触发。

有什么好的建议可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:29:51.107

我发现了我的问题。

我要发布到的数据库是一个旧数据库的备份，该数据库已经在复制表中有一些数据。删除发布、目标数据库中的复制表，然后再次设置发布解决了该问题。

# c# - Visual Studio 2008 中的异常 HREsult 0x8002000b disp_e_badindex

> ID：15827648
> 
> 赞同：0
> 
> 时间：2013-04-05T06:53:25.533
> 
> 标签：c#, excel, exception

我正在将数据集导出到 Excel。尝试使用 3 张 Excel 工作表时，它工作正常。但是，如果我尝试使用第四张纸，它会显示此异常。

```
exception HREsult 0x8002000b disp_e_badindex 
```

有什么答案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:27:54.660

这可能是组策略。

看看[kb 922848](http://support.microsoft.com/kb/922848/en-us)

# javascript - 如何垂直对齐两个div中的元素？

> ID：15827649
> 
> 赞同：3
> 
> 时间：2013-04-05T06:53:38.840
> 
> 标签：javascript, html, css

![在此处输入图像描述](https://i.stack.imgur.com/vXHw9.jpg)

```
<div id="div1">

    <label class="someClass1">Price 1</label>
    <label class="someClass1">Price 2</label> 
    <label class="someClass1">Price 3</label> 
    <label class="someClass1">Price 4</label> 
</div>
<div id="div2">
    <input type="text" class="someClass2"/>
    <input type="text" class="someClass2"/>
    <input type="text" class="someClass2"/>
    <input type="text" class="someClass2"/>
</div> 
```

我有两个div。一个 div 包含`<label>`元素，另一个 div 包含`<input>`元素。两个 div 水平对齐。我需要垂直对齐标签和输入元素，以便每个标签都在下面输入。

`<label>`我可以通过将and`<input>`元素放在`<table>`行/列中来实现上述要求。但我要求他们使用`<div>`.

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:57:13.610

**简短的回答**，试试这个 CSS

```
#div1 label.someClass1 { display: inline-block; margin: 0 5px; }
#div1 label.someClass1, #div2 input.someClass2 { width: 100px; }
#div2 input.someClass2 { margin: 0 0 0 10px; } 
```

* * *

**长答案**，要使您在问题中描绘的确切外观，请使用 HTML5 占位符属性和 CSS3 边框半径：

```
#div1 label {
  display: inline-block;
  font-weight: bold;
  margin: 0 5px;
}
#div1 label, #div2 input {
  width: 100px;
}
#div2 input {
  border-radius: 5px; -webkit-border-radius: 5px;
  border-width: 1px;
  padding: 2px;
  margin: 0 0 0 10px; 
} 
```

.

```
<div id="div1">
    <label>Price 1</label>
    <label>Price 2</label> 
    <label>Price 3</label> 
    <label>Price 4</label> 
</div>
<div id="div2">
    <input type="text" placeholder="Price"/>
    <input type="text" placeholder="Price"/>
    <input type="text" placeholder="Price"/>
    <input type="text" placeholder="Price"/>
</div> 
```

要微调 CSS3 效果，请参阅[css3generator](http://css3generator.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:00:17.403

要获取同一行上的 div 并在其下方输入，请使用下面的 css

```
#div1 label { display: inline-block; }
#div1 label, #div2 input { width: 100px; } 
```

在此处查看演示[http://jsfiddle.net/2wdUT/](http://jsfiddle.net/2wdUT/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:02:06.160

如果没有 css，您可以通过使用这样的 HTML 结构来实现它 -

```
 <div id="div1">
      <label class="someClass1">Price 1</label>
      <div><input type="text" class="someClass2"/></div>
    </div>
    <div id="div2">
      <label class="someClass1">Price 2</label> 
      <div><input type="text" class="someClass2"/></div>
    </div>
    <div id="div3">
      <label class="someClass1">Price 3</label>  
      <div><input type="text" class="someClass2"/></div>
    </div>
    <div id="div4">
      <label class="someClass1">Price 4</label> 
      <div><input type="text" class="someClass2"/></div>    
    </div> 
```

# objective-c - 如何在 Objective-C 中将 NSDate 转换为毫秒？

> ID：15827657
> 
> 赞同：10
> 
> 时间：2013-04-05T06:54:08.520
> 
> 标签：objective-c, nsdate

例如：假设`NSDate tempdate = "05-23-2013"`. 我希望将此值转换为毫秒。

如何使用 Objective-C 做到这一点？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-04-05T07:03:34.003

[这里](https://stackoverflow.com/questions/9321055/convert-a-nsdate-to-milliseconds-epoch-time)和[这里](https://stackoverflow.com/questions/5359977/how-to-get-nsdate-with-millisecond-accuracy)有一个类似的帖子。

基本上你得到了第二种形式的参考日期（2001 年 1 月 1 日，格林威治标准时间）并将其乘以 1000。

```
NSTimeInterval seconds = [NSDate timeIntervalSinceReferenceDate];
double milliseconds = seconds*1000; 
```

干杯!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:00:15.000

将`timeIntervalSince1970`返回 1970 年的秒数。如果需要，还有其他 timeIntervalSince 方法。

[https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSDate_Class/Reference/Reference.html#//apple_ref/occ/instm/NSDate/timeIntervalSince1970](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSDate_Class/Reference/Reference.html#//apple_ref/occ/instm/NSDate/timeIntervalSince1970)

对于反向转换，我的意思是从毫秒到 NSDate，请参阅这篇 stackoverflow 文章。 [将毫秒转换为 NSDate](https://stackoverflow.com/questions/2741199/nsdate-convert-milliseconds-to-nsdate)

希望它能解决你的问题。

# symfony - 在 Symfony2 上下载文件功能测试

> ID：15827666
> 
> 赞同：0
> 
> 时间：2013-04-05T06:54:33.517
> 
> 标签：symfony, curl, phpunit

使用 symfony2，如何在客户端测试（功能测试）文件已下载好？我尝试了以下代码，但出现了问题。

我的控制器：

```
public function downloadAction($picture_id) 
{

    $fichier= $this->uploadDir.$picture_id; 
    if (($fichier != "") && (file_exists($fichier))) {
        $content = file_get_contents($fichier);

        $response = new Response();
        $response->headers->set('Content-Type', 'application/octet-stream');
        $response->headers->set('Content-Disposition', 'attachment;filename="'.$picture_id);

        $response->setContent($content);

        return $response;
    }
} 
```

测试代码：

```
public function testupload()
{

        $ch = curl_init();
                curl_setopt($ch, CURLOPT_HEADER, 0);
                //curl_setopt($ch, CURLOPT_HTTPHEADER, array("Content-Type: image/jpeg"));
                curl_setopt($ch, CURLOPT_VERBOSE, 1);
                curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
                curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/4.0 (compatible;)");
                curl_setopt($ch, CURLOPT_URL, "Path_to _myFile/file.png");
                //curl_setopt($ch, CURLOPT_POST, true);        
                $response = curl_exec($ch);

                //$json_response = json_decode($response);

                print "resp -> ".$response->headers;

} 
```

最后，phpunit的响应：

> 1) Application\MediaBundle\Tests\Controller\PictureControllerCopyTest::testupload
> 试图获取非对象的属性
> 
> /var/www/symfony/ws1/src/Application/MediaBundle/Tests/Controller/PictureControllerCopyTest.php:28
> 
> 失败！测试：1，断言：0，错误：1。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T10:27:51.607

编写功能测试而不是使用 curl。优点是您不需要网络服务器来运行测试，因为内核会被直接调用（它比通过网络服务器更快）。

阅读文档中的功能测试：http: [//symfony.com/doc/current/book/testing.html#functional-tests](http://symfony.com/doc/current/book/testing.html#functional-tests)

# javascript - Joomla 模块 jQuery 冲突

> ID：15827670
> 
> 赞同：1
> 
> 时间：2013-04-05T06:54:41.867
> 
> 标签：javascript, jquery, joomla

我在两个 Joomla 模块中有一个 jQuery 冲突。我在每个模块中都找到了以下代码。谁能帮我解决冲突？

第一个模块中的代码：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.pack.js"></script>

//...

<script type="text/javascript">
  jQuery(document).ready(function () {
    jQuery('#jeYW<?php echo $module->id ?>').weatherfeed([<?php echo "'".$cityCode[0]."'"; for ($i=1; $i<count($cityCode); $i++){echo ",'".$cityCode[$i]."'";}?>],{
      unit: '<?php echo $unit ?>',
      image: <?php echo $image ?>,
      country: <?php echo $country ?>,
      highlow: <?php echo $highlow ?>,
      wind: <?php echo $wind ?>,
      humidity: <?php echo $humidity ?>,
      visibility: <?php echo $visibility ?>,
      sunrise: <?php echo $sunrise ?>,
      sunset: <?php echo $sunset ?>,
      forecast: <?php echo $forecast ?>,
      link: <?php echo $forecastlink ?>,
      showerror: true,
      linktarget: '_blank',
      woeid: <?php echo $woeid ?>
    });
  });
</script> 
```

第二个模块中的代码：

```
$document->addScript(JURI::base(true).'/modules/mod_muscol_featured_albums/tmpl/jcarousel/lib/jquery-1.2.3.pack.js');

$document->addScript(JURI::base(true).'/modules/mod_muscol_featured_albums/tmpl/jcarousel/lib/jquery.jcarousel.pack.js');

$document->addStyleSheet(JURI::base(true).'/modules/mod_muscol_featured_albums/tmpl/jcarousel/lib/jquery.jcarousel.css');

//...

$document->addScriptDeclaration("
  console.dir(jQuery.fn.init.prototype);
  jQuery(document).ready(function() {
    jQuery('#random_album_".$random_id."').jcarousel({
      // Configuration goes here
      scroll: ".$scroll."
      ".$auto."
      ".$animation."
      ".$circular."
      ".$vertical."
    });
});
"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:34:23.753

你可以试试[jQuery Easy](http://extensions.joomla.org/extensions/core-enhancements/performance/jquery-scripts/18327)。阅读评论，您将了解该组件有多棒。我已经使用它很长时间了。

> 特征：
> 
> *   jQuery 和 jQuery UI 库可以托管在 Joomla！或以 HTTP 或 HTTPS 从 Google API 库调用（设置显式版本以进行适当的缓存），
> *   前端或后端无需编码（无需将代码添加到模板中或与 Joomla! 核心混淆），
> *   在 MooTools 调用之后放置 jQuery 调用以实现完美兼容性，
> *   添加 noConflict 代码，
> *   在应用程序级别将“jQuery”变量设置为“true”，
> *   去除所有其他 jQuery、jQuery UI 库调用，包括其他模块或插件添加的 noConflict 调用，
> *   选择 jQuery UI 基本样式或自定义主题。
> *   新：可能的专家调整
> *   新：可以在您网站的特定部分启用或禁用该插件
> *   自 v1.2.0 以来的新功能：MooTools 库可以在前端暂时禁用
> *   自 v1.3.0 以来的新功能：报告和更多选项可帮助解决更高级的案例
> *   新：Joomla！3.0特定版本发布

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:06:29.140

确保您只有 1 个要导入的 jQuery 副本。为此，请改用它：

```
if(!JFactory::getApplication()->get('jquery')){
     JFactory::getApplication()->set('jquery',true);
     $document = JFactory::getDocument();
     $document->addScript("http://code.jquery.com/jquery-latest.pack.js");
} 
```

更新：

`if`尝试在 noConflict 语句上方添加此内容

```
$document->addCustomTag( '<script type="text/javascript">jQuery.noConflict();</script>' ); 
```

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:41:44.970

jquery easy 应该可以解决这个问题，或者您可以将其添加到模板 index.php 的头部：

```
JHtml::_('jquery.framework'); 
```

这将加载 jquery 1.8.1（或任何 joomla 稳定的 1.8 版本）

在我使用两者的情况下，jquery easy只是禁用mootools并为我添加jquery ui，有一些冲突，这个设置似乎解决了它......

# asp.net - 在其他人仍在加载时显示 GridView

> ID：15827676
> 
> 赞同：0
> 
> 时间：2013-04-05T06:55:23.527
> 
> 标签：asp.net, gridview, asp.net-ajax, updatepanel, backgroundworker

我是 ASP.NET/C# 的新手。最近我遇到了`asp:UpdatePanel`ASP.NET 中的控件。我在一个页面中有多个 GridView。我想要实现的是在加载 GridView 时显示它们。

例如，第一个 GridView 数据是从数据源加载的，并且数据绑定到 Grid。如何`UpdatePanel`在其他 GridView 仍在加载时使用 an 向用户显示结果？

注意：为了实现这一点，我目前正在使用一个标志和一个计时器。计时器设置为`Trigger`在`UpdatePanel`每个`Tick`计时器上，我使用标志检查数据是否加载。如果是这样，我调用该`DataBind()`方法，然后在页面上显示数据，而其他数据仍在处理中。

我知道上面不是最有效的方法。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:50:40.477

如果您将更新模式设置`Updatepanel`为`Conditional`，`DataBind()`则应调用`.Update()` 诸如

```
GridView1.DataBind();
UpdatePanel1.Update(); 
```

# c# - 从 MySQL 中检索中等 blob 仅返回 13 个字节

> ID：15827677
> 
> 赞同：3
> 
> 时间：2013-04-05T06:55:24.057
> 
> 标签：c#, mysql, c#-4.0

我搜索了很多并尝试了各种方法，但无法解决这个问题。我需要将图像保存到 mysql 文件中。

我使用下面的代码将图像保存到数据库中。

```
try
{
    string location = @"C:\Users\test\Downloads\Photos\batman-greenscreen.jpg";

    FileStream fs = new FileStream(location, FileMode.Open, FileAccess.Read);
    UInt32 fileLength = (UInt32)fs.Length;
    byte[] buffer = new byte[fileLength];
    fs.Read(buffer, 0, (int)fileLength);

    string sqlPhotoQuery = "INSERT INTO tab_photo VALUES('" + photo.PhotoId + "','" + photo.ProjectID + "','" + photo.Day + "','" + photo.Barcode + "','" + photo.Photoname + "','" + photo.PhotoXml + "','" + buffer + "','" + fileLength + "')";
    int result = MySqlHelper.ExecuteNonQuery(connectionString, sqlPhotoQuery);
    if (result > 0)
        return true;
    else
        return false;
}
catch (Exception e)
{
    return false;
} 
```

在这个文件中图像长度为 12428， ![保存价值](https://i.stack.imgur.com/FlWmf.png)

我尝试从数据库中检索数据：

```
Photo photo = new Photo();
try
{
    string sqlQuery = "SELECT * FROM tab_photo where PhotoId='"+photoId+"'";
    MySqlDataReader rdr = MySqlHelper.ExecuteReader(connectionString, sqlQuery);
    while (rdr.Read())
    {
        photo.PhotoId = rdr.GetString("PhotoId");
        photo.ProjectID = rdr.GetString("ProjectID");
        photo.Day = rdr.GetInt32("Day");
        photo.Barcode = rdr.GetString("Barcode");
        photo.Photoname = rdr.GetString("Photoname");
        photo.PhotoXml = rdr.GetString("PhotoXml");

        MemoryStream ms;
        UInt32 FileSize;
        Bitmap outImage;

        int fileSize = rdr.GetInt32(rdr.GetOrdinal("PhotoSize"));
        byte[] rawData = new byte[fileSize];
        rdr.GetBytes(rdr.GetOrdinal("Photo"), 0, rawData, 0, (Int32)fileSize);

        photo.imageByte = rawData;

    }
}
catch (Exception e)
{} 
```

但是当我检索文件时，它只检索前 13 个字节。之后它的值**为零**并且检索值存在**差异**。

![检索值](https://i.stack.imgur.com/aez1h.jpg)

[我已按照使用 Connector/Net 处理 BLOB 数据](http://dev.mysql.com/doc/refman/5.5/en/connector-net-programming-blob.html)中提到的说明进行操作。

据此，我已将设置更改如下： ![MySql 工作台设置](https://i.stack.imgur.com/L9eL2.jpg)

这就是数据保存在数据库中的方式 ![数据库中的数据](https://i.stack.imgur.com/tNSKj.jpg)

我无法获得正确值的原因是什么？数据保存或数据检索或数据库配置有什么问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:06:39.183

您无法在数据库中拥有正确的数据。通过将缓冲区连接到查询字符串中，“System.Byte[]”将被插入到数据库中，因为插入语句基本上看起来像

```
INSERT INTO tab_photo VALUES(...,'System.Byte[]', ...)"; 
```

像在示例中那样使用参数化查询，你应该很好。

不要只是将某个地方的字符串连接到您的 SQL 查询中。（并且不要在这样的方法中捕获和吞下所有异常。这使得在发生故障时很难调试。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T07:06:45.617

您将二进制数据放入字符串中以将其写入数据库，这将不起作用。尝试按照您发布的示例 URL 中的方法使用 @parameter 传递数据块。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-05T07:06:48.903

您没有`INSERT`正确读取数据。你的`INSERT`声明如下：

```
string sqlPhotoInsert = "INSERT INTO tab_photo VALUES('" + ... 
```

换句话说，您没有使用参数化查询来插入 BLOB 数据 - 这可能无法正常工作。

您必须使用参数化查询。[您可以在MySQL 文档](http://dev.mysql.com/doc/refman/5.5/en/connector-net-programming-blob.html)中找到工作示例（滚动到`C#`示例）。

# c++ - 使用 getline (noob) 读取文件时遇到问题

> ID：15827681
> 
> 赞同：1
> 
> 时间：2013-04-05T06:55:39.797
> 
> 标签：c++, string, syntax, getline

我是一个菜鸟 C++ 学生。我无法将文件读入数组结构。这是一项课堂作业，所以我不需要任何人为我编写代码，我只想知道我做错了什么。我正在阅读的文本文件格式如下：

```
Giant Armadillo#443#M
Hawaiian Monk Seal#711#M 
Iberian Lynx#134#M
Javan Rhinoceros#134#M etc... 
```

using`getline()`可以正确读取带有`'#'`分隔符的字符串，但不适用于`int`或`char`. 如何在检查分隔符时读取`int`或？`char`谢谢，对不起，如果这不是写清楚，或格式不正确。我对SO是全新的。

```
#include <iostream>
#include<string>
#include <fstream>
#include <cstdlib>
using namespace std;

//Create a new structure
struct Endangered
{   
    string name;
    int population; 
    char species;
};

int main () {

Endangered animals[200];

//initialize animals
for (int i=0; i<50; i++)
{
    animals[i].name=" ";
    animals[i].population=0;
    animals[i].species=' ';
}

ifstream myFile;
myFile.open("animals.txt");
int i=0;
if (myFile.is_open())
{   
    while (myFile.eof())
    {   
        //read the string until delimiter #
        getline(myFile, animals[i].name, '#');

        //read the int until delimiter #
        getline(myFile, animals[i].population, '#');

        //read the char until the delimiter
        getline(myFile, animals[i].species, '/n');
        i++;
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:04:55.283

我确定您不能像这样从文件中读取数据：

```
//read the int until delimiter #
getline(myFile, animals[i].population, '#'); 
```

因为你有刺痛，你想把它分配给 int 或 char 字段。

看看这个声明：

```
istream& getline (istream& is, string& str, char delim); 
```

您必须将字符串作为第二个参数。您不能将 int 或 char 传递给此函数，而 animals[i].population 是 int 类型。

您应该首先将数据加载到某个字符串或 char* 缓冲区，然后使用正确的函数将其转换为您想要的类型。例如，寻找诸如*atoi 之*类的功能。

总结一下。将数据读取到临时缓冲区，然后进行转换。

如果那对您没有帮助，我会更正代码，但您不想这样做:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:13:27.827

程序的读取部分可能如下所示：

```
size_t i=0;
ifstream myFile("animals.txt");
if(!myFile)
{
  throw std::runtime_error("Failed opening file");   
}
string line;
while(std::getline(myFile, line))
{
  istringstream line_stream(line);
  string temp;
  if(!std::getline(line_stream, temp, '#'))
    throw std::runtime_error("expected #");
  animals[i].name = std::stoi(temp);

  if(!std::getline(line_stream, temp, '#'))
    throw std::runtime_error(expected #");

  animals[i].population = std::stoi(temp);

  if(!std::getline(line_stream, temp) || temp.size() != 1) // or whatever input verification you need
    throw std::runtime_error("expected species");
  animals[i].species = temp[0]; // or whatever input you need, this assumes species is a char
} 
```

有一些方法没有在这里完成所有缓冲，但这应该可行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:13:54.860

问题在于 getLine 函数将下一个分隔值作为字符串返回： Function def: getline (istream& is, string& str, char delim);

更改代码以将值读入临时字符串变量。

然后使用 std::stoi( str ) 将字符串值转换为整数并将返回的值分配给人口。

您要求不提供任何代码，所以我将把实现留给您。

希望这可以帮助。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-05T07:42:36.257

这里有两个问题：读取非空格分隔的文本（包含空格的字符串）和将文本转换为数字。

快速而肮脏的方法可以是：

```
for(int i=0; myFile && i<sizeof(animals)/sizeof(Endangered); ++i)
{   
    char delim = 0; 

    //read the string until delimiter #
    getline(myFile, animals[i].name, '#');

    //read the int 
    myfile >> animals[i].population;
    //read and check delimiter
    if(myfile>>delim && delim!='#') mifile.setstate(myfile.failbit);

    //read the species
    myfile >> animals[i].species;

    //discard any other rubbish untile the end of line
    myfile.ignore(std::numeric_limits<std::streamsize>::max(),'\n');
    myfile >> delim; // this is '\n';
} 
```

注意：

*   我使用 for (not while) 以便一起定义计数器 ( `i`) 及其增量 ( ) (nmo 风险忘记了)。`++i`

*   退出条件不是 myfile.eof() （当它发生时已经太晚了），只是`myfile`（如果“可读”，它可以自行转换为“true”：如果文件变得不可读，则退出，无论发生什么错误，即使还没有结束）

*   另一个退出条件（在 && 与第一个）是数组已被完全填充（表达式只是它的大小，不管它是什么）

    *   第一个字符串（可能包含空格）被读取到 '#' （读取，但不存储，就像你需要的那样）

    *   数字被读取为输入字段（如果没有数字，>>运算符将设置失败位，您将不再阅读并安全退出）

    *   分隔符被读取为输入字段：数字之后和 # 之前的任何空格都将被丢弃。# 进入`delim`，如果我们发现它不是 #，我们设置故障位（文件不包含应该包含的内容）并阻止任何读取并安全地退出循环（myfile 将评估为假）。

    *   每个最终的空格都被丢弃，下一个字符进入`species`.

    *   现在让我们丢弃任何最终保留在行上的东西（包括'\n'）。

    *   我们现在可以继续下一行。

请注意，`if`不需要您的包装：如果 myfile 没有打开，它评估为“false”并且不会进入循环。

此处的 eof() 条件不能被视为“终止的失败”，而是“达到的成功”。

如果 -after the loop-file.eof() 为真，则您已成功读取所有内容，否则您会因错误而过早停止。

另请注意，整个`for`主体可以是名为的函数的主体

```
std::isream& operator>>(std::istream& myfile, Endangered& endangered)
{
  .....
  .....
  return myfile;
} 
```

并且循环将只是

```
for(int i=0; myFile && i<sizeof(animals)/sizeof(Endangered); ++i)
   myfile >> animals[i]; 
```

# javafx-2 - 如何在 javafx 中使用 jpedal 读取 pdf 文件

> ID：15827684
> 
> 赞同：0
> 
> 时间：2013-04-05T06:55:49.730
> 
> 标签：javafx-2, jpedal

我需要在 javafx 中使用 jpedal 读取 pdf 文件。我尝试了 jpedal lgpl src 提供的 PdfDecoder 类 getPageAsImage() 但它以图像形式提供 pdf 页面。如果我这样做，那么我无法对 pdf 执行搜索操作文件。除了作为图像读取之外，还有其他方法可以读取 pdf 文件吗？如果有人对此有任何想法，请给我答复。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T14:09:25.473

did you have a look at the examples: [http://www.idrsolutions.com/how-to-extract-text-from-pdf-files/](http://www.idrsolutions.com/how-to-extract-text-from-pdf-files/) ?

I can also suggest PdfBox ([http://pdfbox.apache.org/](http://pdfbox.apache.org/)) with works great for text extraction from PDF files.

have fun

# iphone - 该应用程序只能从 iPhone 5 的 AppStore 下载

> ID：15827685
> 
> 赞同：2
> 
> 时间：2013-04-05T06:55:59.130
> 
> 标签：iphone, download, app-store

我希望用户只能从 AppStore 下载我的 iPhone 5 应用程序。

我试图为 armv7s 设置有效的架构，但得到了消息

> “键 UIRequiredDeviceCapabilities 包含值‘armv7s’，它与‘6.0’的 MinimumOSVersion 值不兼容”

如果我只将 armv7 添加到“所需的设备功能”中，一切正常，但对于其他 iPhone 也是如此……那不是我需要的。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:01:18.457

我只是认为这是不可能的，因为它没有使用除 4 或 4s 之外的其他架构，并且没有什么像 gyroscop/compass 这样的 4/4s 所没有的独特之处。这以前用于分离。你有什么 iPhone5 唯一要求？我的想法是在描述中写下 ist 并希望用户会阅读它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:25:02.007

根据这个[答案](https://stackoverflow.com/questions/10382404/making-an-iphone-4s-only-app)，您可以使用它`UIRequiredDeviceCapabilities`来防止在设备上安装。

但是根据[设备兼容性矩阵](http://developer.apple.com/library/ios/#documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/B_DeviceCompatibilityMatrix/DeviceCompatibilityMatrix.html#//apple_ref/doc/uid/TP40011225-CH17-SW1)，iPhone 5 没有什么独特的东西可以`UIRequiredDeviceCapabilities`用来防止安装。

# android - Android 应用程序将所需的权限转换为功能

> ID：15827688
> 
> 赞同：3
> 
> 时间：2013-04-05T06:56:02.350
> 
> 标签：android, google-play, android-permissions

我刚刚将我的新 Android 应用程序上传到`Google Play store`，发现我的简单应用程序不支持 909 设备。

```
Required permissions are 

android.permission.ACCESS_FINE_LOCATION
android.permission.ACCESS_NETWORK_STATE
android.permission.CALL_PHONE
android.permission.INTERNET 
```

现在我想让 CALL_PHONE 和 ACCESS_FINE_LOCATION 可选。意味着我想务实地检查设备是否无法拨打电话或无法提供良好的位置信息。

通过这样做，我认为我可以支持更多设备。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:58:50.340

抱歉，您是否编写代码来检查设备是否支持某些功能是不可能的。因为您必须声明应用程序所需的所有权限。

仅供参考，Play 商店过滤器基于 AndroidManifest.xml 文件中声明的权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:37:11.087

功能包括以下 API：

```
Camera functions
Location data (GPS)
Bluetooth functions
Telephony functions
SMS/MMS functions
Network/data connections 
```

对于`<uses-feature>`元素中声明的功能要求，Google Play 假定应用程序需要这些要求，并会根据这些要求进行过滤。

如果应用程序在未在应用程序清单中声明的​​情况下尝试使用任何功能，则会向应用程序抛出安全异常。

# php - PHP将空数组转换为字符串

> ID：15827699
> 
> 赞同：4
> 
> 时间：2013-04-05T06:57:00.807
> 
> 标签：php, xml, arrays

我有一个函数 xml2array 将我的 xml 文件解析为一个数组。现在，当我的 xml 文件中有一个空值时，该函数会将其转换为 array() 一个空数组。

所以`< test >< /test > becomes [test]=>array()`，但我希望它是一个空字符串“”。

有人知道如何在下面编辑我的功能：

```
<?php
    function xml2array($contents, $get_attributes = 1, $priority = 'tag') {

    $parser = xml_parser_create('');
    xml_parser_set_option($parser, XML_OPTION_TARGET_ENCODING, "UTF-8");
    xml_parser_set_option($parser, XML_OPTION_CASE_FOLDING, 0);
    xml_parser_set_option($parser, XML_OPTION_SKIP_WHITE, 1);
    xml_parse_into_struct($parser, trim($contents), $xml_values);
    xml_parser_free($parser);
    if (!$xml_values)
        return; //Hmm...
    $xml_array = array ();
    $parents = array ();
    $opened_tags = array ();
    $arr = array ();
    $current = & $xml_array;
    $repeated_tag_index = array (); 
    foreach ($xml_values as $data)
    {
        unset ($attributes, $value);
        extract($data);
        $result = array ();
        $attributes_data = array ();
        if (isset ($value))
        {
            if ($priority == 'tag')
                $result = $value;
            else
                $result['value'] = $value;
        }
        if (isset ($attributes) and $get_attributes)
        {
            foreach ($attributes as $attr => $val)
            {
                if($attr == 'xsi:type') continue;
                if($attr == 'xsi:nil') continue;

                if ($priority == 'tag')
                    $attributes_data[$attr] = $val;
                else
                    $result['attr'][$attr] = $val; //Set all the attributes in a array called 'attr'
            }
        }
        if ($type == "open")
        { 
            $parent[$level -1] = & $current;
            if (!is_array($current) or (!in_array($tag, array_keys($current))))
            {
                $current[$tag] = $result;
                if ($attributes_data)
                    $current[$tag . '_attr'] = $attributes_data;
                $repeated_tag_index[$tag . '_' . $level] = 1;
                $current = & $current[$tag];
            }
            else
            {
                if (isset ($current[$tag][0]))
                {
                    $current[$tag][$repeated_tag_index[$tag . '_' . $level]] = $result;
                    $repeated_tag_index[$tag . '_' . $level]++;
                }
                else
                { 
                    $current[$tag] = array (
                        $current[$tag],
                        $result
                    ); 
                    $repeated_tag_index[$tag . '_' . $level] = 2;
                    if (isset ($current[$tag . '_attr']))
                    {
                        $current[$tag]['0_attr'] = $current[$tag . '_attr'];
                        unset ($current[$tag . '_attr']);
                    }
                }
                $last_item_index = $repeated_tag_index[$tag . '_' . $level] - 1;
                $current = & $current[$tag][$last_item_index];
            }
        }
        elseif ($type == "complete")
        {
            if (!isset ($current[$tag]))
            {
                $current[$tag] = $result;
                $repeated_tag_index[$tag . '_' . $level] = 1;
                if ($priority == 'tag' and $attributes_data)
                    $current[$tag . '_attr'] = $attributes_data;
            }
            else
            {
                if (isset ($current[$tag][0]) and is_array($current[$tag]))
                {
                    $current[$tag][$repeated_tag_index[$tag . '_' . $level]] = $result;
                    if ($priority == 'tag' and $get_attributes and $attributes_data)
                    {
                        $current[$tag][$repeated_tag_index[$tag . '_' . $level] . '_attr'] = $attributes_data;
                    }
                    $repeated_tag_index[$tag . '_' . $level]++;
                }
                else
                {
                    $current[$tag] = array (
                        $current[$tag],
                        $result
                    ); 
                    $repeated_tag_index[$tag . '_' . $level] = 1;
                    if ($priority == 'tag' and $get_attributes)
                    {
                        if (isset ($current[$tag . '_attr']))
                        { 
                            $current[$tag]['0_attr'] = $current[$tag . '_attr'];
                            unset ($current[$tag . '_attr']);
                        }
                        if ($attributes_data)
                        {
                            $current[$tag][$repeated_tag_index[$tag . '_' . $level] . '_attr'] = $attributes_data;
                        }
                    }
                    $repeated_tag_index[$tag . '_' . $level]++; //0 and 1 index is already taken
                }
            }
        }
        elseif ($type == 'close')
        {
            $current = & $parent[$level -1];
        }
    }

    return ($xml_array);
} 
```

?>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:08:32.817

只需使用以下命令检查您的源数组：`empty`http: [//php.net/empty](http://php.net/empty)并返回 true。在函数的开头添加：`""``empty()`

```
if( empty($myArray) ) {
   return '';
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:05:31.190

使用空函数检查数组是否为空

返回空($xml_array)?"":$xml_array;

```
`$parser = xml_parser_create('');
xml_parser_set_option($parser, XML_OPTION_TARGET_ENCODING, "UTF-8");
xml_parser_set_option($parser, XML_OPTION_CASE_FOLDING, 0);
xml_parser_set_option($parser, XML_OPTION_SKIP_WHITE, 1);
xml_parse_into_struct($parser, trim($contents), $xml_values);
xml_parser_free($parser);
if (!$xml_values)
    return; //Hmm...
$xml_array = array ();
$parents = array ();
$opened_tags = array ();
$arr = array ();
$current = & $xml_array;
$repeated_tag_index = array (); 
foreach ($xml_values as $data)
{
    unset ($attributes, $value);
    extract($data);
    $result = array ();
    $attributes_data = array ();
    if (isset ($value))
    {
        if ($priority == 'tag')
            $result = $value;
        else
            $result['value'] = $value;
    }
    if (isset ($attributes) and $get_attributes)
    {
        foreach ($attributes as $attr => $val)
        {
            if($attr == 'xsi:type') continue;
            if($attr == 'xsi:nil') continue;

            if ($priority == 'tag')
                $attributes_data[$attr] = $val;
            else
                $result['attr'][$attr] = $val; //Set all the attributes in a array called 'attr'
        }
    }
    if ($type == "open")
    { 
        $parent[$level -1] = & $current;
        if (!is_array($current) or (!in_array($tag, array_keys($current))))
        {
            $current[$tag] = $result;
            if ($attributes_data)
                $current[$tag . '_attr'] = $attributes_data;
            $repeated_tag_index[$tag . '_' . $level] = 1;
            $current = & $current[$tag];
        }
        else
        {
            if (isset ($current[$tag][0]))
            {
                $current[$tag][$repeated_tag_index[$tag . '_' . $level]] = $result;
                $repeated_tag_index[$tag . '_' . $level]++;
            }
            else
            { 
                $current[$tag] = array (
                    $current[$tag],
                    $result
                ); 
                $repeated_tag_index[$tag . '_' . $level] = 2;
                if (isset ($current[$tag . '_attr']))
                {
                    $current[$tag]['0_attr'] = $current[$tag . '_attr'];
                    unset ($current[$tag . '_attr']);
                }
            }
            $last_item_index = $repeated_tag_index[$tag . '_' . $level] - 1;
            $current = & $current[$tag][$last_item_index];
        }
    }
    elseif ($type == "complete")
    {
        if (!isset ($current[$tag]))
        {
            $current[$tag] = $result;
            $repeated_tag_index[$tag . '_' . $level] = 1;
            if ($priority == 'tag' and $attributes_data)
                $current[$tag . '_attr'] = $attributes_data;
        }
        else
        {
            if (isset ($current[$tag][0]) and is_array($current[$tag]))
            {
                $current[$tag][$repeated_tag_index[$tag . '_' . $level]] = $result;
                if ($priority == 'tag' and $get_attributes and $attributes_data)
                {
                    $current[$tag][$repeated_tag_index[$tag . '_' . $level] . '_attr'] = $attributes_data;
                }
                $repeated_tag_index[$tag . '_' . $level]++;
            }
            else
            {
                $current[$tag] = array (
                    $current[$tag],
                    $result
                ); 
                $repeated_tag_index[$tag . '_' . $level] = 1;
                if ($priority == 'tag' and $get_attributes)
                {
                    if (isset ($current[$tag . '_attr']))
                    { 
                        $current[$tag]['0_attr'] = $current[$tag . '_attr'];
                        unset ($current[$tag . '_attr']);
                    }
                    if ($attributes_data)
                    {
                        $current[$tag][$repeated_tag_index[$tag . '_' . $level] . '_attr'] = $attributes_data;
                    }
                }
                $repeated_tag_index[$tag . '_' . $level]++; //0 and 1 index is already taken
            }
        }
    }
    elseif ($type == 'close')
    {
        $current = & $parent[$level -1];
    }
}

return ($xml_array);` 
```

`} ?>`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T00:20:26.723

我首先认为 array_walk_recursive 是一个不错的选择，但它忽略了函数调用中的空数组。

我会创建一个函数，像这样。它递归地遍历一个数组并用字符串替换数组。（像这样）

```
function replaceArrayToString($arr = array()) {
    $newArr = array();
    foreach($arr as $key=>$value)
    {
        if (is_array($value))
        {
           unset($arr[$key]);

            //Is it an empty array, make it a string
            if (empty($value)) {
                $newArr[$key] = '';
            }
            else {
                $newArr[$key] = replaceArrayToString($value);
            }

        }
        else {
            $newArr[$key] = $value; 
        }

    }
    return $newArr;

} 
```

然后在返回数组之前从现有函数 xml2array() 的末尾调用它。

```
 elseif ($type == 'close')
        {
        $current = & $parent[$level -1];
        }
    }

    $xml_array = replaceArrayToString($xml_array);
    return ($xml_array);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T22:11:03.743

您看到的空数组是您设置的默认值：

```
$result = array (); 
```

您有以下选择：

1.  保持原样 - 空元素将有一个空数组作为值。
2.  设置为`""`（空字符串） - 空元素将有一个空字符串作为值。
3.  设置为`NULL`- 如果它们具有相同元素名称的同级元素，则将删除空元素。单个空元素将被保留。

根据您的需要，只需选择您选择的默认值。

# java - 我们是否需要在 ArrayList 上使用迭代器？

> ID：15827703
> 
> 赞同：13
> 
> 时间：2013-04-05T06:57:12.407
> 
> 标签：java

昨天，当我回答[使用迭代器和删除时出现 ConcurrentModificationException 错误](https://stackoverflow.com/q/15822810/2236253)的问题时，我添加了一条通知

> 当你有 ArrayLists 时使用迭代器不是一个好主意。

您无需深入了解该问题即可回答该问题。

在那里，我有两条评论说我错了。

我的论点：

1.  使用迭代器时，代码的可读性要差得多。

2.  有可能引发难以调试的 ConcurrentModificationException。

你能解释一下吗？

问题：我们是否需要在 ArrayList 上使用迭代器？

**UPD**

这是关于显式使用迭代器。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-04-05T06:58:40.167

使用 ArrayLists 的迭代器的一个重要用例是当您想要在迭代时删除元素。您只有三个安全的解决方案：

*   使用迭代器及其`remove`方法
*   复制要保留在另一个列表中的元素
*   有索引的丛林

假设您在迭代时不这样做，使用迭代器`add`是*避免*.`ConcurrentModificationException`

可读性论证是主观的。就我个人而言，我没有发现一个明确声明的迭代器可读性较差。这并不重要，因为迭代器是同时迭代和删除的安全方式。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2015-01-16T13:17:40.190

没有一个答案似乎解决了迭代器的原因。创建迭代器设计模式是因为对象应该控制自己的状态（除了可能只有公共属性的值对象）。

假设我们有一个包含数组的对象，并且您在该对象中有一个接口来向该数组添加项目。但是你已经做了这样的事情：

```
class MyClass
{
    private ArrayList<Item> myList;

    public MyClass()
    {
        myList = new ArrayList();
    }

    public addItem( Item item )
    {
         item.doSomething(); // Lets say that this is very important before adding the item to the array.
         myList.add( item );
    }
} 
```

现在，如果我在上面的类中有这个方法：

```
public ArrayList getList()
{
    return myList;
} 
```

有人可以通过此方法获取对 myList 的引用并将项目添加到数组中，**而无需**调用 item.doSomething(); 这就是为什么你不应该返回对数组的引用，而是返回它的迭代器。可以从数组中获取任何项目，但不能操作原始数组。所以 MyClass 对象仍然控制着它自己的状态。

这就是发明迭代器的真正原因。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-05T07:01:16.043

是的，我们需要。ArrayList 只是 List 接口的一个实现，因此您的代码通常会处理一个列表，甚至不知道它是一个 ArrayList。此外，新的 for 循环语法在内部使用迭代器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-03T04:13:21.787

检查这篇文章： [http ://www.xyzws.com/javafaq/what-is-the-advantage-of-using-an-iterator-compared-to-the-getindex-method/19](http://www.xyzws.com/javafaq/what-is-the-advantage-of-using-an-iterator-compared-to-the-getindex-method/19)

使用迭代器将避免在 LinkedList 上使用 get(index) 的错误（非常慢）。当 list 的实现未知时才有意义，只需使用 iterator。关于 ArrayList，使用迭代器仍将通过 get(index) 实现最接近的性能。

因此，在性能方面使用迭代器进行迭代是一种很好的做法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-05T07:02:02.740

您可能正在谈论显式使用迭代器（因为 : 运算符也在幕后使用迭代器）。

假设您想让两个“指针”遍历数组，但速度取决于实际元素值。如果不显式使用迭代器（当然也没有 elementAt），你将如何做到这一点。

例如（伪代码）：

```
element1 = first element;
element2 = first element;
while(element1.hasNext && element2.hasNext)
{
    if(element1 * 2 < element)
    {
        element2 = element2.next;
    }
    else
    {
        element1 = element1.next;
    }

    //do something with the pair of elements
} 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-04-05T09:13:16.840

> 使用迭代器时，代码的可读性要差得多。

这完全是你的意见，我不同意。

> 有可能引发难以调试的 ConcurrentModificationException。

无论您是否使用迭代器，这都可能存在。该异常告诉你一些有用的代码，否则你可能会完全错过，这更难调试。

就个人而言，我更喜欢能够在 ArrayList 和 LinkedList 之间准确编写代码，并让编译器或 API 实现细节。

道德是你不应该把你自己不受支持的观点当作既定事实。

# php - 当我通过具有空值的 PHP Web 服务发布 JSON 数据时，Iphone 应用程序崩溃

> ID：15827706
> 
> 赞同：0
> 
> 时间：2013-04-05T06:57:24.720
> 
> 标签：php, ios, multidimensional-array, crash

我正在通过 PHP 为 Iphone 应用程序开发 web 服务，每当 web 服务调用时，它将发送 JSON 对象转换为 Iphone 应用程序。

问题是在转换可能包含一些空值的深层多维数组时。我想将所有空值转换为空字符串，这样我的应用程序就不会崩溃。有没有办法在某个时候检查多维数组的深处删除所有空值太深了。还有一件事是我需要一种解决方案，它不会减慢整个过程，因为它是移动应用程序，如果有任何解决方案我可以告诉我的移动开发人员他们可以从他们身边处理

**提供了数组的示例**

```
Array
(
    [result] => 1
    [data] => Array
        (
            [basic_detail] => Array
                (
                    [Name] => Coca-Cola Company
                    [industry_detail] => Array
                        (
                            [0] => Array
                                (
                                    [industry_name] => Beverages
                                )

                        )

                    [category_detail] => Array
                        (
                            [0] => Array
                                (
                                    [category_name] => Soft drinks
                                )

                            [1] => Array
                                (
                                    [category_name] => Water
                                )

                            [2] => Array
                                (
                                    [category_name] => Juices
                                )

                            [3] => Array
                                (
                                    [category_name] => Energy & Sport Drinks
                                )

                            [4] => Array
                                (
                                    [category_name] => Hot Beverages
                                )

                        )

                    [Nationality] => Array
                        (
                            [0] => American
                        )

                )
            [Story_text] => 
        )

) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:15:53.177

如果要为`null`数组添加值，请使用

```
[array addObject:[NSNull null]]; 
```

它的值等于，如果您的数组包含一些对象`null`，您的应用程序不会崩溃。`[NSNull null]`

# azure - web.config 中的 Azure DNS 主机名或 IP 引用？

> ID：15827712
> 
> 赞同：0
> 
> 时间：2013-04-05T06:58:07.657
> 
> 标签：azure, web-config, azure-storage, azure-virtual-machine

在我的应用程序中连接到 Azure 服务时，最好使用 DNS 主机名还是 IP？

例如，我有一个托管在虚拟机中的 SQL Server。`168.63.xxx.xxx`我应该使用还是使用配置我的 web.config `mysqlserver001.cloudapp.net`？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:09:44.837

没有`recommended`策略。虽然有非官方声明说**部署**的云服务（包括虚拟机）的公共 IP 地址在完全删除之前不会更改（删除同一云服务中的所有 VM，或者删除 PaaS 部署），但我会如果可以的话，不要依赖它。您可以参考[这篇博](http://blogs.msdn.com/b/ryancrawcour/archive/2012/01/09/windows-azure-and-fixed-ip-addresses.aspx)文及其链接，了解“固定 IP 地址”的困境。

我会使用 DNS 名称。我什至会使用我自己的域名，即 CNAME-d 到 xxx.cloudapp.net 域。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:09:56.550

只要您不删除虚拟机，IP 地址和 DNS 名称都可以使用并且是持久的。但从我的角度来看，DNS 名称看起来更友好。

# c++ - C ++中的地图类有什么替代品吗？

> ID：15827713
> 
> 赞同：0
> 
> 时间：2013-04-05T06:58:07.700
> 
> 标签：c++, encryption, rsa

我正在用 C++ 制作一个简单的 RSA 加密器，我已经完成了所有的计算算法，但是我遇到了获取文本输入并将其转换为数字的问题，以便我可以对数字进行异或运算，反之亦然。

所以，我想知道是否有一个简单的替代`std::map`C++ 中的类，我基本上可以在其中做。

```
 Text["A"] = 1; 
```

如果有更好的方法可以做到这一点，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:22:31.150

如果您对实际数值不挑剔（即，`'A'`只要有一个值就不太关心应该有什么值），那么您会很高兴知道 a`char`在内存中表示为 a （至少） 7 位编码，可以完美地解释为数字。

假设您有一个`char c`，那么您可以说：`(int)c`将其转换为整数值。在大多数计算机上，其中`char`8 位，该值在 [-128,+127] 或 [0, 255] 中（无论是否`char`签名，这是一个实现细节）。您可以通过将“暴力”强制转换为`unsigned char`.

# sql - SQL Server 2008：如何在 select 和 group 中仅按 1 列编写查询

> ID：15827717
> 
> 赞同：0
> 
> 时间：2013-04-05T06:58:32.160
> 
> 标签：sql, sql-server-2008

我的要求是如何为 select 中的多列和仅按 1 列分组编写查询。在这个多列选择中，我使用了不同的第一列。但我只想按第三列的一列分组。请告诉我任何一个。

我得到这样的结果：

```
D2A08528-FFBA-492D-AF51-50D6CC10C5A4    b.vithoban@gmail.com    E0F127ED-DA67-45F4-A2C5-C0E89CB5E1B4    5
6110E173-419B-4C1B-8524-6D9EF39D27E7    bonthapally123@gmail.com    E0F127ED-DA67-45F4-A2C5-C0E89CB5E1B4    5
52D7DA02-9415-447F-9DF4-8D327E599347    rama6452@gmail.com  E0F127ED-DA67-45F4-A2C5-C0E89CB5E1B4    5
9FCC3C51-3BB7-4A18-A1E5-9B4C6B657AB2    krishna.rama718@gmail.com   E0F127ED-DA67-45F4-A2C5-C0E89CB5E1B4    5
EB79FC72-5144-445E-8EE7-D3A195902210    venkatanarasaiahmannam@gmail.com    E0F127ED-DA67-45F4-A2C5-C0E89CB5E1B4    5
C04EA2EF-8311-4194-B67D-D88C1CDA912D    ramakrishna2526@gmail.com   E0F127ED-DA67-45F4-A2C5-C0E89CB5E1B4    5
40D24F2E-7D3A-48A8-ADCF-208E2F463C81    sivaputta123@gmail.com  C83583D4-C08A-4AFF-93FB-5FB91654D320    2
DE42D201-7513-43BD-98A1-4F5B52C799A3    bonthapally123@gmail.com    7C6FA760-0B13-4629-9383-C7D943A1DE8C    1 
```

但我需要结果看起来像这样：

```
D2A08528-FFBA-492D-AF51-50D6CC10C5A4 b.vithoban@gmail.com E0F127ED-DA67-45F4-A2C5C0E89CB5E1B4   5

40D24F2E-7D3A-48A8-ADCF-208E2F463C81 sivaputta123@gmail.com  C83583D4-C08A-4AFF-93FB-5FB91654D320    2

DE42D201-7513-43BD-98A1-4F5B52C799A3  bonthapally123@gmail.com 7C6FA760-0B13-4629-9383-C7D943A1DE8C   1 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:03:33.060

请试试：

```
SELECT * FROM(
    SELECT 
        ROW_NUMBER() OVER (PARTITION BY 3rdColumn ORDER BY 3rdColumn) RNum,
        * 
    FROM YourTable
)x WHERE RNum=1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:18:55.037

您需要的应​​该在@techdo 的回答中。这只是一个使用@techdo 查询的[SQL FIDDLE 演示。](http://sqlfiddle.com/#!6/974d0/5)

# android - 使用旋转、缩放和绘图进行图像编辑

> ID：15827720
> 
> 赞同：-1
> 
> 时间：2013-04-05T06:58:42.867
> 
> 标签：android, paint

我想制作一个图像编辑应用程序。现在我可以拖动、旋转和缩放放置在要编辑的图像上的视图。现在我想实现用户想要的画线，就像那个图像上的铅笔一样。我有谷歌搜索了很多，但仍然没有得到我想要的。如果有人对此有所了解，请帮助我。提前致谢。我正在使用此代码旋转、缩放和拖动到图像：[链接](http://www.codeproject.com/Articles/319401/Simple-Gestures-on-Android)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:11:18.950

你已经实现了几乎所有的东西现在你需要根据画布中的触摸来监听绘制和绘制线条的触摸事件

将[其](http://developer.android.com/reference/android/graphics/Canvas.html#drawLines%28float%5B%5D,%20android.graphics.Paint%29)用于直线

[这](http://developer.android.com/reference/android/graphics/Canvas.html#drawPath%28android.graphics.Path,%20android.graphics.Paint%29)适用于任何形状的线条

有关流畅的线条和进一步的帮助，[请参阅此](http://corner.squareup.com/2010/07/smooth-signatures.html)

# cocos2d-iphone - 如何通过标签COCOS2D Box2D销毁带有body的精灵

> ID：15827726
> 
> 赞同：-2
> 
> 时间：2013-04-05T06:59:05.000
> 
> 标签：cocos2d-iphone, box2d

CCSprite* sprite = (CCSprite*)[self getChildByTag:5];
[self removeChildByTag:5 cleanup:YES];

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-08T12:02:07.433

问题中的代码仅用于删除带有标签的精灵：5，您需要[检查](http://www.iforce2d.net/b2dtut/removing-bodies)

```
- (void)ccTouchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
 {
 //Getting Touch Locations
UITouch *touch = [touches anyObject]; 
CGPoint location = [touch locationInView: [touch view]];
location = [[CCDirector sharedDirector] convertToGL: location]; //Converting to cocos2D positioning b2Vec2 locationWorld = b2Vec2(location.x/PTM_RATIO, location.y/PTM_RATIO); //Getting body list from world
for (b2Body* b = world->GetBodyList(); b; b = b->GetNext()) 
{ //Getting Fixture from the bodies 
  b2Fixture *bf1 = b->GetFixtureList(); //Checking whether the fixture contains touch location!
  if (bf1->TestPoint(locationWorld)) 
   { //If YES assigning user data to a sprite tempSprite 
   CCSprite *tempSprite = (CCSprite *) b->GetUserData();
   //Checking whether the user data sprite tag is 5
  if (tempSprite .tag==5)
   { 
   //If YES then remove the sprite & the body! 
   [self removeChild:tempSprite cleanup:YES]; 
   world->DestroyBody(b);
   } 
  }
 }
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-28T14:15:00.997

```
//first get sprite by tag
             b2Body *sprite = NULL;
            //then give body to sprite
            sprite = [(TRBox2D*)[self getChildByTag:5]body];

//then destroy by following method
            _world->DestroyBody(sprite);
            [self removeChildByTag:5 cleanup:YES]; 
```

# graph-algorithm - 在 n 个节点的加权无向图中，访问任何不同的 k 个节点的最小成本是多少？

> ID：15827731
> 
> 赞同：0
> 
> 时间：2013-04-05T06:59:24.040
> 
> 标签：graph-algorithm

这里不同的 k 个节点是访问者，它们被访问者访问。挑战在于，访问者的数量、谁是访问者、谁是 k 个不同的访问者以及访问路径（从访问者到访问者）都需要确定。规则是访问者不能是访问者。这里有几个例子：

如果 k=1，我们只是在图中找到权重最小的边，比如 (u,v)，那么要么 u 是访问者（那么 v 是访问者），要么 v 是访问者（那么 u 是访问者）。最小成本就是这个最小重量。

如果 k=2，我们只找到图中权重最小的两条边，比如 (u,v) 和 (u',v')。如果 u,v,u',v' 是四个不同的节点，则两条边之一中的任何节点都可以是访问者，另一个节点是访问者。如果两条边的一个节点相同，比如v=u'，那么我们可以说u是访问者，v，v'是访问者，或者v'是访问者，v，u是访问者，都是最优的解决方案。

但是，如果 k=3，则找到三个最小加权边不一定给出最优解。这是一个例子。比如说，边 (u,v)、(v,u') 和 (v,v') 就是这三个边。我们可以说 u 访问了 v 和 u'。但是，由于 v 正在被访问，它不可能是访问 v' 的访问者。但是 v' 也不能是访问 v 的访问者，因为 v 只能被访问一次。在这种情况下，我们必须找到第四最小边。

k的最大值可以是n-1，在这种情况下，我们应该找到一个访问者以最小的成本访问所有其他n-1个访问者。与 TSP 不同，这里有可能多次访问一个节点，因为我们的图不是完整的图。将此问题映射到 TSP：我们想以最低成本访问 n 个城市中的任何 k 个城市（访问者）——为了实现这一目标，我们不介意拥有尽可能多的推销员（访问者），我们不'不介意他们从哪个城市开始，我们关心正在访问k个城市，并且有可能多次访问一个城市；此外，n 个城市并没有形成完整的图。

感谢您的输入。

# ruby-on-rails - 来自heroku服务器的坏uri google地方

> ID：15827733
> 
> 赞同：2
> 
> 时间：2013-04-05T06:59:36.173
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku, google-places-api

我有一个 Google Places API 密钥，并且能够从我的本地主机成功查询 Google Places API。

我在 Rails 3.1 上，当我将我的网站推送到 Heroku 时，我收到了一个错误的请求。我指的是 http google places API 而不是 javascript API——尽管我怀疑无论哪种方式问题都是一样的（请参阅下面我从 Google 获得的消息）

以下是我的帐户在 Google 控制台中的配置方式：

```
Key for browser apps (with referers)
API key:    
XXXXXX
Referers:   
Any referer allowed
Activated on:   Mar 5, 2013 9:41 PM
Activated by:    xx@stanford.edu – 
```

当我在本地主机上时没有问题。

但是，当我推送应用程序然后向 Google Places 进行查询时，我得到的是：

```
bad URI(is not URI?): https://maps.googleapis.com/maps/api/place/textsearch/json?query=blamp&key=XXXXX&sensor=false&types=restaurant|food|bar|cafe 
```

编辑：我已经指出错误是因为我使用了条形“|” 最后将谷歌类型分开。但是，当我将查询复制/粘贴到浏览器标头时，以及在本地主机上进行开发时，这都有效。有任何想法吗：

1）为什么会这样。2）如何解决？

以下是我使用 Ruby 代码访问 API 的方法：

```
query = URI.escape(params[:search])
        url_params = "json?query="+ query + "&key="+ GOOGLE_API_KEY + "&sensor="+ false.to_s + "&types="+GOOGLE_TYPES.join("|")
        url_params << "&pagetoken="+params[:next_token] if params[:next_token]
        url = URI.parse("https://maps.googleapis.com/maps/api/place/textsearch/"+url_params)

        http = Net::HTTP.new(url.host, url.port)
        http.use_ssl = true
        http.verify_mode = OpenSSL::SSL::VERIFY_NONE
        request = Net::HTTP::Get.new(url.request_uri)

        result = http.request(request)
        JSON.parse(result.body) 
```

关于 GOOGLE_TYPES 的说明：这是一个全局常量，实际上是一个数组；我用“|”加入它 然后将其传递给 URL。

问题是，当我对字符串进行 URI.encode 时，查询不会为“steak house san francisco”之类的简单请求返回任何结果，而在 URI.encode 之前它会返回。如果不能像在 localhost 上那样返回正确的结果，则查询将变得毫无用处。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:43:11.790

也许您应该对您的 URL 进行编码。始终使用请求和参数对 url 进行编码是一种很好的做法。这可能会有所帮助：[URI::InvalidURIError (bad URI(is not URI?): ):](https://stackoverflow.com/questions/5374470/uriinvalidurierror-bad-uriis-not-uri)

编辑：网址字符“|” 可能不安全，因此需要对此类查询进行 url 编码。

试试这个：

```
def search_google_places
  api_key = 'xxx'
  base_url = 'https://maps.googleapis.com/maps/api/place/textsearch/json?key=' + api_key
  tail_url = '&query=garena&sensor=false&types=restaurant|food|bar|cafe'
  main_url = base_url + api_key + tail_url
  url = URI.parse(URI.encode(main_url))
  response = Net::HTTP.start(url.host, use_ssl: true, verify_mode: 
OpenSSL::SSL::VERIFY_NONE) do |http|
     http.get url.request_uri
  end

  case response
     when Net::HTTPRedirection
        # repeat the request using response['Location']
     when Net::HTTPSuccess
        outputData = JSON.parse response.body
     else
        # response code isn't a 200; raise an exception
        pp response.error!
     end
     return outputData
end 
```

# java - 访问存储在java内存位置中的数据

> ID：15827734
> 
> 赞同：3
> 
> 时间：2013-04-05T06:59:37.040
> 
> 标签：java, pointers, native

我正在寻找一种从预先写入的内存位置读取数据的方法。有没有办法在 Java 中，在 Windows 上运行的计算机上做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T08:33:43.800

Java provides an "abstraction" of a computer, hence "Java virtual machine" (JVM). This JVM is (theoretically) the same regardless of the underlying hardware or operating system. So (AFAIK) no direct access to low-level memory is possible from program space.

My suggestion would be to write something in a lower-level language (C for instance makes mem access fairly easy), then use the Java Native Interface (JNI) to call it and get the data into your Java program. Google on "Java Native Interface" and/or "Calling C From Java" for tutorial on how to. Obviously this native component would be compiled differently for each platform you want to run it on, providing a separate executable binary "native" file. ANSI C used to be a good standard to code to, since compilers complying with this standard are available on all(??) platforms, if you want to go multi-platform.

Using a JNI call will break the "compile once, run anywhere"-feature of your Java, as it depends on a component that still needs to be recompiled for each platform you want to run it on. And, of course, in practice the native code will probably also differ from platform to platform, as memory organisation might differ between platforms.

# java - java resultset.getstring("col_name") 查询

> ID：15827735
> 
> 赞同：3
> 
> 时间：2013-04-05T06:59:38.203
> 
> 标签：java, escaping, resultset, getstring

我有一个关于`ResultSet.getString()`JDBC 的 java 方法的简单查询。
假设 Database 列中的值具有一个`\`javas 转义字符，例如`\n`等`\t`。
当我检索该值时，`getString()`我看到又添加了一个转义字符，而它的实际含义`\n`现在只是一个字符串文字。
所以我不得不取消转义java，然后正确使用它。

```
String s= rs.getString("col_name"); 
```

当`s`包含 `\n' 时：

```
System.out.println(s) 
```

输出：

```
\n 
```

使用 apache 公共`StringEscapeUtils`
输出对 java 进行转义后：

```
System.out.println("hi"+s+"hello");
hi
hello 
```

我的问题是谁`\`在取消转义之前添加了这个额外的？对不起，如果这是一个愚蠢的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T09:20:44.550

JDBC 驱动程序在`ResultSet`. 如果真的发生了，那就太糟糕了。看这个简单的例子：

数据库表`x`确实包含一列`value`。有两行：一行带有两个字符串（`'\'`and `'n'`），另一行带有一个字符串（换行符）。我在输出中添加了一个字符串长度以进行澄清。

```
select *, length(value) from x;
 value | length 
-------+--------
 \n    |      2
      +|      1
       | 
```

使用 JDBC 读取此表：

```
 Connection db = DriverManager.getConnection( /* these parameters are up to you */ );

    Statement st = db.createStatement();
    ResultSet rs = st.executeQuery("select value, length(value) from x");
    while(rs.next()){
        String value = rs.getString(1);
        int length = rs.getInt(2);

        System.out.println("length="+length+", value='"+value+"'");
    } 
```

您会看到：到目前为止，代码中的任何地方都没有显式转义。输出是：

```
length=2, value='\n'
length=1, value='
' 
```

你看：仍然没有任何东西被转义——代码和 JDBC 都没有。

**但**

如果你混合使用 Java 文字，事情会变得有点模糊：如果你做这样的事情：

```
st.execute("insert into x values ('\n')"); 
```

然后猜猜发生了什么？您还有**一个**字符的另一行！

```
length=2, value='\n'
length=1, value='
'
length=1, value='
' 
```

这是因为 Java**编译器**将两个字符 '\n' 翻译成一个换行符。因此 JDBC 驱动程序和数据库只能看到一个字符。

但是，如果您已经阅读了一些用户输入并且用户已经键入`\`，`n`那么没有人会对此进行转义，并且该行将包含两个字符。

**下一步**

您说，您使用`StringEscapeUtils`. 然后会发生这种情况：

*   带有一个字符的行将从数据库中原封不动地传递到屏幕上。
*   包含两个字符的行将被更改`StringEscapeUtils`为包含一个字符的字符串。在那之后，这两行对你来说看起来都一样。

**概括**

不要将编译器的字符串文字转义与 JDBC 的转义混淆（这不会发生）。

不要添加不必要的转义层。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:35:16.120

`getString()`不会逃避任何事情。

如果您在存储在数据库中的字符串中有一个 EOL 字符（写成`"\n"`Java 字符串*文字*，但它是字符串中的单个字符，其数值为 10），那么`getString()`将返回一个包含该字符的字符串。打印此字符串将产生两行。

如果您有一个`\`字符后跟一个`n`字符（因此可以写成`"\\n"`Java 字符串文字，但只会导致字符串中有两个字符`\`和`n`），那么`getString()`将返回一个包含这两个字符的字符串。打印此字符串将导致`\n`被打印。

简而言之，`\n`用于能够在 Java 源代码中的 String 文字中添加换行符。但是编译器会将其转换为仅包含一个换行符的字符串。不是包含反斜杠后跟`n`. 在运行时，这些转义序列不再存在。

# java - 生产者-消费者上的 Java 多线程

> ID：15827738
> 
> 赞同：5
> 
> 时间：2013-04-05T07:00:01.200
> 
> 标签：java, multithreading, algorithm

我正在关注有关 Java 多线程的视频教程。它介绍了使用 Java 实现著名的“生产者-消费者”问题。

它使用 wait() 和 notifyAll() 来确保生产者线程和消费者线程之间的正确通信。

导师故意创建了多个生产者线程，而只创建了一个消费者线程，但他没有回答一个问题：“生产者和消费者线程数量相等始终是最佳实践，如果生产者线程多于消费者，就会出现问题” .

但是，他没有具体说明这个问题是什么。我个人认为这只会是篮子满了的情况。专家可以在这里提供帮助吗？谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T07:05:34.863

你可以有任意数量的生产者和任意数量的消费者。

如果生产者生产速度太快，队列将被填满，直到出现内存问题或生产者被迫保持空闲状态，直到队列中还有位置。

如果消费者消费太快，他们将大部分时间处于闲置状态。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T07:14:29.923

> 拥有相同数量的生产者和消费者线程始终是最佳实践

我个人不同意这一点。

有多少生产者和消费者线程完全取决于情况。对此没有直接的规则。

我会告诉你我的情况，

我们有一个程序正在读取 CSV 文件，从中创建 XML 并将这些 XML 发布到 JMS 队列上。这个程序一开始是单线程的，但性能并不理想。我们发现将消息发布到队列需要很多时间。所以我们决定引入多线程。

我们将逻辑划分为 2 个线程-

1.  制片人

    读取 CSV 并创建 XML

2.  消费者

    将 XML 发送到 JMS 队列。

我们决定只有一个生产者，因为我们不想为文件打开多个句柄，尽管它可能。另一方面，我们保持要创建的消费者线程的数量是可配置的，它运行良好，我们获得了预期的性能提升。

**总而言之，您需要确保生产者线程和消费者线程的速度几乎匹配。否则如果消费者线程比生产者慢，记录将堆积在内存（RAM）中，在极端情况下会导致OutOfMemory。**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T07:04:55.313

除了生产者效率问题，我没有看到任何问题。如果您的生产者多于消费者，并且它们都以相同的速率生产/消费，那么额外的生产者实际上将处于空闲状态。

例如，请参阅[What's best value for make -j](https://stackoverflow.com/questions/3025587/whats-best-value-for-make-j/3025596#3025596)，建议您将`n+1`工作分配给您的`n`核心，以便它们始终处于满负荷状态。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-05T07:08:39.273

嗯，问题是**资源的最佳使用，**即 CPU 和内存。正如您正确猜测的那样，篮子将满（因此消耗了更多内存），生产者线程将空闲一段时间，直到消费者清空篮子以执行新任务，这将导致 CPU 利用率不足。

如果生产者和消费者的数量相等，那么两个线程组（生产者和消费者）都会忙于他们的任务，并且篮子也会有稳定的存储空间。

现在，太大或太少的生产者/消费者也将是一个问题。大量的胎面会占用 CPU 并因此导致其他问题（减慢等）。所以总是有一个最佳数量取决于机器上可用的硬件资源。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-05T07:10:35.543

@JB Nizet 很好地总结了这种情况，因为你可能有太多的生产者*或*太多的消费者。决定因素只是生产者的生产速度与消费者消费的速度。换句话说，如果生产一种资源比消费它需要更多的时间，那么最好让生产者多于消费者。但是，如果消耗资源比生产资源需要更多时间，那么最好让消费者多于生产者。

导师可能假设消费过程比生产过程更有效，这在许多甚至大多数情况下可能是正确的，但这不一定是一个好的假设。在设计生产者/消费者系统时尽量记住这一点。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-05T07:13:17.617

我认为这首先取决于消费者/生产者的数量，而不是速度。您可能有 1 个消费者可以在 10 毫秒内处理 1 条消息，而 2 个生产者每人在 100 毫秒内产生 1 条消息。

# javascript - window.confirm 取出取消按钮

> ID：15827747
> 
> 赞同：5
> 
> 时间：2013-04-05T07:00:38.770
> 
> 标签：javascript, html

如何从 window.confirm 中获取取消按钮？有没有办法把它拿出来只显示确定按钮？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-05T07:01:55.987

如果您不想要取消按钮，您不妨使用`alert()`：

```
alert('This operation is not possible'); 
```

在美丽的 ascii 艺术中，它看起来像这样：

```
+-----------------------------------+
|                                   |
|  This operation is not possible   |
|                                   |
|            +--------+             |
|            |   OK   |             |
|            +--------+             |
+-----------------------------------+ 
```

单击确定或关闭对话框时，将执行代码中的下一条语句。

`confirm()`如果下一个语句应该是有条件的，那么不幸的是您必须坚持下去。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:02:08.330

`window.alert`是你想要的。

或者简单地说`alert`，就像`window.confirm`can be一样`confirm`（除非你隐藏那些带有这些名称的变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:27:47.783

您可以简单地使用`alert`. 下面是一个例子：

### HTML

```
<button id="test"> Go To Another Page</button>
<br><br>
<iframe src='http://www.example.com' height="400px" width="100%" id="page"></iframe> 
```

### jQuery

```
$(document).ready(function(){
    $('#test').click(function(){
        var page = $('iframe');
        alert("You'll be redirected to a new page now");
        page.attr('src', 'http://www.monkeyman.com'); // This line is executed once you hit ok on the alert.
    });
}); 
```

这是一个有效的[JSFiddle](http://jsfiddle.net/GvqyD/)。由于 jsfiddle，我不得不使用 iframe。在您的场景中，您可能希望删除 iframe 并简单地更改：

`page.attr('src', 'http://www.monkeyman.com');`

到

`window.location('http://www.monkeyman.com');`

# codenameone - 文字和图像的旋转

> ID：15827748
> 
> 赞同：0
> 
> 时间：2013-04-05T07:00:46.687
> 
> 标签：codenameone

我想旋转文本和图像。代号一可以吗？如果是，请让我知道它是如何使用示例代码行的代码完成的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T17:55:27.117

这取决于您要执行的操作。基本上有两种方式：

1.  在方形可变图像上绘制所有内容并使用方法 rotate 获得旋转版本。
2.  如果您的目标是 iOS/Android，您可以`Graphics`在绘制时在类上使用旋转仿射变换，并`resetAffine()`在完成时调用。

# java - 如何限制 Jenkins 子进程？

> ID：15827749
> 
> 赞同：8
> 
> 时间：2013-04-05T07:00:50.163
> 
> 标签：java, performance, jenkins, continuous-integration

我在我的 UbuntuServer 12.10 上干净地安装了 Jenkins CI，没有工作，什么都没有，只有 Jenkins。安装来自 aptitude。让我兴奋的是，Jenkins 目前什么也没做，并且有大约 40 个子进程，这消耗了我服务器的大量内存。有没有办法将这些子进程的数量限制为例如 10？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-22T11:42:32.123

是的你可以。

转到 Jenkins > 管理 Jenkins > 配置系统 > 指定对应于文本框“# of executors”的执行者数量

另一种最好的方法是使用从机来划分工作负载。使用主从配置来设置从机。

# javascript - 选择使字段成为必填项

> ID：15827751
> 
> 赞同：0
> 
> 时间：2013-04-05T07:00:52.227
> 
> 标签：javascript, function, validation, drop-down-menu, selection

我是 JavaScript 新手，我一直在做一项基于在 HTML 和 JavaScript 中创建表单的大学作业。在这个作业中，我被要求根据是否在上一个下拉框中选择了特定选项来设置一个必填字段。

1.  如果从下拉列表中选择了“UWS Student”或“UWS Staff”，则“Student Number/Staff Number”字段变为必填项，否则不是必填项

2.  如果选择“UWS 学生”或“UWS 员工”，则“机构/公司”字段必须自动填写“西悉尼大学”

这是我一直在使用的一段：

```
<b>Registration Category:</b>

<select>
<option value="UWS Student">UWS Student</option>
<option value="Student at another institution">Student at another institution</option>
<option value="UWS Academic">UWS Academic</option>
<option value="Other UWS Staff">Other UWS Staff</option>
<option value="Academic from another Institution">Academic from another      
Institution</option>
<option value="Professional">Professional</option>
<option value="Retired">Retired</option>
</select>

<b>Student Number/Staff Number:</b> <input type="text" name="StudentNumber/StaffNumber">
<br>
<b>Institution/Company:</b> <input type="text" id="txtinstcomp" name="institutioncompany">

</fieldset> 
```

注意：我在“机构/公司”字段上也有一个功能，用于上一个问题，只是为了使提交的文件成为强制性的，如果这很重要的话：

```
function validateText()
{
var institutioncompany=document.getElementById('txtinstcomp');
if (institutioncompany.value=="")
{
     alert("Institution/company must be filled out");
     return false;
}
} 
```

任何帮助将不胜感激，因为我正在努力掌握 JavaScript

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:33:40.917

您必须添加 Id 属性来选择和输入文本字段，如下所示。

```
<b>Registration Category:</b>

<select id="cat" onchange="populateInstitution();">
     <option value="UWS Student">UWS Student</option>
     <option value="Student at another institution">
           Student at another institution</option>
     <option value="UWS Academic">UWS Academic</option>
     <option value="Other UWS Staff">Other UWS Staff</option>
     <option value="Academic from another Institution">
           Academic from another Institution</option>
     <option value="Professional">Professional</option>
     <option value="Retired">Retired</option>
</select>
<br>
<b>Student Number/Staff Number:</b> 
<input type="text" id="stNumber" name="StudentNumber/StaffNumber">
<br>
<b>Institution/Company:</b> 
<input type="text" id="txtinstcomp" name="institutioncompany">
<br>
<input type="button" value="submit" onclick="validateText()" /> 
```

并有一个像'populateInstitution'这样的javascript函数用于选择字段上的更改事件

```
function validateText() {
    var institutioncompany = document.getElementById('txtinstcomp').value;
    if (institutioncompany == "") {
        alert("Institution/company must be filled out");
        return false;
    }
    var cat = document.getElementById('cat').value;
    if (cat == "UWS Student" || cat == "Other UWS Staff") {
        if (document.getElementById("stNumber").value == "") {
            alert('StudentNumber/StaffNumber is mandatory');
            return;
        }

    }
}

function populateInstitution() {
    var cat = document.getElementById('cat').value;
    if (cat == "UWS Student" || cat == "Other UWS Staff") {
         document.getElementById('txtinstcomp').value='University of Western Sydney';
    }else{
        document.getElementById('txtinstcomp').value='';
    }
} 
```

# javascript - 如何在同一 GSP 页面的多个选项卡中打开多个 amchart

> ID：15827752
> 
> 赞同：0
> 
> 时间：2013-04-05T07:00:54.597
> 
> 标签：javascript, jquery

我在 GSP 页面上有三个选项卡，我想在每个选项卡上打开唯一的 amchart。但我只能在活动选项卡中看到一个 amchart。当我单击另一个选项卡时，没有显示 amchartData。

# mongodb - 如何在自定义中间件中使用设计授权

> ID：15827753
> 
> 赞同：2
> 
> 时间：2013-04-05T07:00:56.223
> 
> 标签：mongodb, devise, ruby-on-rails-3.2, mongoid, gridfs

我有用于从 mongodb 提供文件的中间件

```
#serve_gridfs_file.rb
class ServeGridfsFile
  def initialize(app)
    @app = app
  end

  def call(env)
    if env["PATH_INFO"] =~ /^\/grid\/(.+)$/
      process_request(env, $1.force_encoding("UTF-8"))
    else
      @app.call(env)
    end
  end

  private  
  def process_request(env, key)
    begin
      Mongo::GridFileSystem.new(Mongoid.database).open(key, 'r') do |file|
        [200, { 'Content-Type' => file.content_type }, [file.read]]
      end
    rescue
     [404, { 'Content-Type' => 'text/plain' }, ['File not found.']]
    end
  end
end 
```

我想使用设计功能来获取 current_user。在那之后，我可以使用一些验证。但是我不知道如何以简单的方式做到这一点。

# ios - 如何在 iOS 中解析来自 HTTP POST 的 JSON 字符串输出

> ID：15827755
> 
> 赞同：1
> 
> 时间：2013-04-05T07:01:00.397
> 
> 标签：ios, json, nsarray, nsdictionary

我使用 POST 方法将一些参数发送到我的服务器，并从那里得到我的响应并将其存储在字符串“serverResponse”中。这是我存储在字符串中的服务器响应

```
{ 
    "carIdentifier":[
        {"carId":"91"},
        {"carId":"93"},
        {"carId":"114"},
        {"carId":"117"}
    ]
} 
```

我有单独的 json 解析代码，但我不知道如何将它作为我的 json 解析代码的输入。以下是我的json解析代码

```
-(void)getcarList:(NSString *)serverResponse
{

    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^{
        NSObject *recommendedcarJSON = nil;
        NSData *recommendedcarsData = [NSData dataWithContentsOfURL:[NSURL URLWithString:serverResponse]];
        NSLog(@"%@",recommendedcarsData);
        if(recommendedcarsData)
            recommendedcarJSON = [NSJSONSerialization JSONObjectWithData:recommendedBooksData options:NSJSONReadingMutableContainers error:nil];

        if(!recommendedcarsData){
            NSLog(@"Error with JSON Serialization");
        } else{
            [self saveRecommendedcarData:(NSDictionary *)recommendedcarJSON];
        }
    } );
} 
```

在 saveRecommendedcarData 方法中，我正在创建一个 plist 并保存此解析的数据。如何将我的服务器响应字符串作为 json 解析的输入？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:19:14.193

```
NSError *jsonError = nil;
id allValues = [NSJSONSerialization JSONObjectWithData:[serverResponse dataUsingEncoding:NSUTF8StringEncoding]
                                               options:0
                                                 error:&jsonError];

if(jsonError!=nil)
    NSLog(@"Json_Err: %@",jsonError);

NSArray *carIdentifier = [(NSDictionary*)allValues objectForKey:@"carIdentifier"];
NSLog(@"%@",carIdentifier);

for(NSDictionary *dict in carIdentifier)
        NSLog(@"carId: %@",[dict valueForKey:@"carId"]); 
```

试试这个。

**更新**

```
-(void)getcarList:(NSString *)serverResponse
{

    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^{
        NSError *jsonError = nil;
        id allValues = [NSJSONSerialization JSONObjectWithData:[serverResponse dataUsingEncoding:NSUTF8StringEncoding]
                                                   options:0
                                                     error:&jsonError];

        if(jsonError!=nil)
            NSLog(@"Json_Err: %@",jsonError);

        NSArray *carIdentifier = [(NSDictionary*)allValues objectForKey:@"carIdentifier"];
        NSLog(@"%@",carIdentifier);

        for(NSDictionary *dict in carIdentifier)
                NSLog(@"carId: %@",[dict valueForKey:@"carId"]);

        } );
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:04:11.387

如果您想从日期中获取价值，请使用以下代码：

```
for(i=0 ; i < myDic.count; i++)
{
  NSLog(@"%@",[[myDic objectForKey:@"carIdentifier"] objectAtIndex:i] objectForKey:@"carId"])
} 
```

# jquery - jquery 代码可在除 ie8 之外的所有浏览器中运行

> ID：15827759
> 
> 赞同：2
> 
> 时间：2013-04-05T07:01:11.533
> 
> 标签：jquery, asp.net-mvc

这是我的场景。我正在使用 iframe 创建图像上传。情况是这样的，如果有人将鼠标悬停在该 iframe 上，则会在其上打开另一个具有两个按钮的 div。一个按钮是选择另一个图像，另一个按钮是清除 iframe 中存在的图像。

这是视图的代码：

```
 @using (Html.BeginForm("Index", "LandingSetting", FormMethod.Post, new { enctype = "multipart/form-data" }))
                            {
                                @Html.ValidationSummary(true)
    <div id="menu" class="tip_trigger">
        <iframe width="731" height="335" src="@ViewData[" htmlloc "]"></iframe>
        <div id="inner" class="hover-text">
            <table>
                <tr>
                    <td width="50%" align="center" valign="middle">
                        <img id="slctbtn" src="../../Images/Landing/s_btn.PNG" />
                    </td>
                    <td width="50%" align="center" valign="middle" style="padding-left: 200px">
                        <img id="clearbtn" src="../../Images/Landing/c_btn.PNG" />
                    </td>
                </tr>
            </table>
        </div>
    </div>
} 
```

这是悬停的代码：

```
 <script type="text/javascript">
        $(document).ready(function () {
            //Tooltips
            $(".tip_trigger").hover(function () {
                tip = $(this).find('.hover-text');
                tip.show(); //Show tooltip
            }, function () {
                tip.hide(); //Hide tooltip        
            });
            //    
        });
    </script> 
```

这是两个按钮的代码：

```
<script type="text/javascript">
        $(function () {
            $('#slctbtn').click(function () {
                $('#htmla').click();
            });
            $('#htmla').change(function () {
                $('form').submit();
            });
            $('#clearbtn').click(function () {
                $(this).load('@Url.Action("Clear", "LandingSetting")');
                alert('Content Cleared!');
                window.location.reload(true);
            });
        });
    </script> 
```

**注意：htmla是隐藏的输入类型文件**

这是我的控制器代码：

```
 public ActionResult Clear()
        {
            System.IO.File.Delete(Request.MapPath("/CSS/html/imgs/ex1.jpg"));
            return RedirectToAction("Index");
        } 
```

问题是这在 IE8 以外的其他浏览器中运行良好。**只有悬停代码在 IE8 中有效**。我需要让它专门在 IE8 中工作。有人可以帮忙吗？谢谢

**注意：在 IE 中，点击事件被触发，因为我可以看到警报但它不会触发 @url.action 方法**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:15:30.240

以下内容可能令人感兴趣：

[jquery触发文件输入](https://stackoverflow.com/questions/793014/jquery-trigger-file-input#answer-7302101)

看来您的问题是由于文件输入为或而`click`没有被触发。您可以尝试设置，而是 - 但是不会禁用输入的点击 - 或者更好地仍然使用 adardesign 建议的屏幕外定位。`display:none``visibility:hidden``opacity:0``filter:alpha(opacity = 0);`

如果这不起作用，我见过的关于触发文件上传点击的其他技巧是定位输入，使其漂浮在所需按钮的顶部，然后使其不透明度淡出为 0 . 这意味着用户仍然可以访问输入的点击，但按钮的 GUI 显示通过。这确实是一个非常不雅的黑客攻击。

[http://www.quirksmode.org/dom/inputfile.html](http://www.quirksmode.org/dom/inputfile.html)

### 更新

鉴于上述不是您的问题，您可以尝试稍微修改一下，看看是否有任何改进：

```
$('#clearbtn').click(function(){
  $.ajax('@Url.Action("Clear", "LandingSetting")')
    .done(function(response){
      alert('response: '+response);
      alert('Content Cleared!');
      window.location.reload(true);
    })
    .fail(function(jqXHR, textStatus){
      alert('an error occured ' + textStatus);
    })
  ;
}); 
```

只要`@Url.Action("Clear", "LandingSetting")`呈现到格式正确的 URL，那么我看不出上面会有问题的原因。如果您`view source`在有问题的页面上，您应该能够滚动到负责的代码并找到正在生成的 URL。如果这个 URL 存在并且 IE8 可以访问，那么问题就出在了其他地方。

### 可能的解释

啊，好的，所以这似乎有效。我的猜测是为什么 IE8`alerts`在 jQuery ajax 请求之后直接出现问题。我的猜测是该`alert`过程会停止，然后在单击警报离开后，由于`window.location.reload(true);`在请求有机会到达服务器之前，页面会重新加载。其他浏览器工作的原因可能是因为它们允许 ajax 调用发生，尽管有警报，因此在重新加载之前有一些额外的时间进行通信。

...解决方案，将来总是使用回调来确定ajax请求已经完成:)

# ruby-on-rails - Rails：为什么我的 Rails 基本应用程序中没有显示图像

> ID：15827763
> 
> 赞同：17
> 
> 时间：2013-04-05T07:01:44.330
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, image

我的`index.html.erb`代码 -

```
<h1>Listing products</h1>

<table border="1">

<% @products.each do |product| %>
  <tr>
    <td><%= product.title %></td>
    <td><%= product.description %></td>
    <td><%= image_tag(product.image_url, :class => 'list_image') %></td>
    <td><%= product.price %></td>
    <td><%= link_to 'Show', product %></td>
    <td><%= link_to 'Edit', edit_product_path(product) %></td>
    <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Product', new_product_path %> 
```

并且图像在`app\assets\images`..但静止图像没有出现在前端。

当我`Firebug`这样做时，我相信图像标签正在正确形成......让我知道我在这部分中缺少什么。

```
<img src="/images/product1.jpg" class="list_image" alt="Product1"> 
```

**截图**-

![截屏](https://i.stack.imgur.com/jw3WR.jpg)

图像也到位 -

![图片占位符](https://i.stack.imgur.com/v4f70.jpg)

让我知道我做错了什么以及如何解决它。

**编辑**

[github.com/swapnesh/depot](http://github.com/swapnesh/depot)

让我知道为什么它在我的情况下不起作用。

尽管更改`/images/product1.jpg` **To** `/assets/product1.jpg`使其工作。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-04-05T07:05:07.060

如果您使用资产管道[http://guides.rubyonrails.org/asset_pipeline.html](http://guides.rubyonrails.org/asset_pipeline.html)，

图片路径应该`/assets/product1.jpg`是`/images/product1.jpg`

如果您不使用资产管道，请将图像文件夹移动到`public/images`

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-04-05T09:03:19.553

我刚刚检查了您的应用程序，您的代码没有任何问题。唯一的事情就是了解**image_tag**是如何工作的。

通常你把你所有的图片、javscripts 和 stylesheests 放在**app/assets**目录中。当您在开发环境中工作时，这些文件是未压缩的，但是当您部署到生产环境时，资产会被预编译、缩小，并且结果文件存储在**public/assets**中。

缩小资产背后的想法只是为了让客户端的请求更快，并节省带宽。

现在，在**image_tag**方法上，您可以使用图像的外部路径、图像的本地路径或图像的相对路径。

当你这样做

```
<%= image_tag "http://www.mywebsite.com/image.jpg" %> 
```

它将使用图像标签的绝对网址，您将以

```
<img src="http://www.mywebsite.com/image.jpg" /> 
```

您也可以添加本地路径，例如

```
<%= image_tag "/images/image.jpg" %> 
```

这将结束

```
<img src="/images/image.jpg" /> 
```

这实际上是您遇到的问题，因为 rails 在预编译文件时，会将所有内容都放在**/public/assets**中，您可以按照其他用户的解释通过路径**/assets**访问这些文件。

所以代码

```
<%= image_tag "/assets/image.jpg" %> 
```

确实有效，因为你以

```
<img src="/assets/image.jpg" /> 
```

您可以做的另一件事是使用相对路径，即

```
<%= image_tag "image.jpg" %> 
```

将被转换为

```
<img src="/assets/image.jpg" /> 
```

这将与最后一个场景相同。

尽管如此，在您的应用程序中，您将让用户上传他们自己的图像，这将在您稍后在书上进行时发生，在现实世界的应用程序中，您将使用诸如[回形针](https://github.com/thoughtbot/paperclip)或[载波波之类的宝石](https://github.com/jnicklas/carrierwave)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T07:34:50.317

正如 Srikanth 已经说过的，应该引用资产路径。例如，您可以`<%= image_tag 'rails.png' %>`在代码中放入并检查 firebug（或检查 chrome 中的元素）以检查结果。

我不太确定您的代码为什么不起作用，因为我可以看到您使用 Rails 进行敏捷 Web 开发。我让仓库应用程序运行没有问题。在您的表格中，我看到您是“Product1”、“Product2”和“Product3”，这是您在 image_url text_field 中实际填写的内容吗？如果将“Product1”更改为“product1.jpg”会怎样？

附带说明一下，如果您想使用 Paperclip，您的调用应如下所示：

```
<%= image_tag(product.image.url, class: 'list_image') %> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-11-13T01:40:11.660

如果您收到带有 .jpeg 扩展名的文件，请尝试仅使用“.jpg”重命名该文件。

从

```
<%= image_tag "image.jpeg" %> 
```

到：

```
<%= image_tag "image.jpg" %> 
```

# heroku - 我应该在heroku上使用rails 3.2.12更新到ruby 2吗？

> ID：15827764
> 
> 赞同：0
> 
> 时间：2013-04-05T07:01:46.563
> 
> 标签：heroku, ruby-2.0

我正在运行 rails 3.2.12 应用程序 heroku 和 ruby​​ 1.9.3。我应该更新红宝石吗？或者它还没有准备好生产？它是最新最好的还是坚持使用 ruby​​ 1.9.3 更有意义。

请指教。

PS：我使用独角兽作为服务器并运行大约 6-8 个测功机。此外，我还做了[heroku 最近的博客文章所建议的其他事情](https://blog.heroku.com/archives/2013/4/3/routing_and_web_performance_on_heroku_a_faq)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T11:05:06.373

[Ruby 2 是 Ruby 的当前稳定版本。](http://www.ruby-lang.org/en/downloads/)

请记住，如果您不确定，您可以创建一个应用程序（假设您的工具带是最新的）并自行测试。

```
heroku fork -a your_app new_app 
```

# c# - 如何从放置在服务器上的 web 服务在客户端搜索文件？

> ID：15827774
> 
> 赞同：0
> 
> 时间：2013-04-05T07:02:05.760
> 
> 标签：c#, web-services, client-server

我有一个网络服务。Web 服务正在从服务器端调用。当服务寻找 c 驱动器时，他正在寻找服务器区域。当您期望 c 驱动器位于客户端时。

```
 if (!File.Exists(filename)) // filename = "C:\\temp\MyFile.pdf"; must by on the client-side. But it looks on the server-side.
     throw new FileNotFoundException(String.Format("File not found: '{0}'!", filename)); 
```

我想在客户端查看“C:\temp\MyFile.pdf”，在服务器端查看“\\MyServer\c$\temp\MyFile.pdf”。

我需要做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T08:21:52.547

试试下面的代码，

```
FileInfo fi = new FileInfo(@"\\MyServer\share\MyFile.pdf");
bool exists = fi.Exists; 
```

***注意：您必须将文件路径转换为上述格式。***

更新了转换部分，

```
string fileName = Path.GetFileName(@"c:\share\MyFile.pdf");
string clientPath= @"\\MyServer\share\";
FileInfo fi = new FileInfo(Path.Combine(clientPath,fileName));
bool exists = fi.Exists; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T08:04:10.633

做不到。

您可以尝试重新设计您的应用程序/系统，以便网络服务/服务器也希望上传 pdf。

# c# - 按钮单击方法不起作用，因为它的可见性发生了变化

> ID：15827777
> 
> 赞同：2
> 
> 时间：2013-04-05T07:02:19.297
> 
> 标签：c#

我有一个图片框（称为 pic_Image）和 2 个按钮（称为 btn_AddImage 和 btn_RemoveImage）。我想让按钮在用户在 pic_Image 上移动鼠标时可见，并在鼠标离开 pic_Image 时使它们不可见。这是使可见的代码：

```
private void pic_Image_MouseMove(object sender, MouseEventArgs e)
    {
        btn_AddImage.Visible = true;
        btn_RemoveImage.Visible = true;
    } 
```

这是使不可见的代码：

```
private void pic_Image_MouseLeave(object sender, EventArgs e)
    {
        btn_AddImage.Visible = false;
        btn_RemoveImage.Visible = false;
    } 
```

问题是，在我使用 pic_Image_MouseMove 方法后，Onbutton 单击方法不起作用。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:14:14.107

鼠标电影事件连续触发，直到鼠标在图片上用鼠标输入替换鼠标移动

```
private void pic_Image_MouseEnter(object sender, MouseEventArgs e)
{
    btn_AddImage.Visible = true;
    btn_RemoveImage.Visible = true;
    if (pic_Image.Image != null)
        btn_RemoveImage.Visible = true;
} 
```

# android - 如何在 Android 中集成 RESTful Web 服务

> ID：15827780
> 
> 赞同：1
> 
> 时间：2013-04-05T07:02:25.430
> 
> 标签：android, web-services, rest

我是 Web 服务的新手。我想在 Android 中集成 Web 服务（REST）。谁能推荐一些好的教程。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T07:22:17.963

什么后端？如果是 JAVA，那么您可以使用[Jersey 将 REST 与 Java (JAX-RS) 结合使用](http://www.vogella.com/articles/REST/article.html)。

在 Android 端，您可以使用[这个简单的 RestClient](http://lukencode.com/2010/04/27/calling-web-services-in-android-using-httpclient/)来使用该 REST 服务。

对于 JSON <--> 双方（Android、Java 后端）的对象映射，您可以使用[GSON](https://code.google.com/p/google-gson/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:14:19.657

另一个链接供您参考[[[mkyong]](http://www.mkyong.com/tutorials/jax-rs-tutorials/) [1](http://www.mkyong.com/tutorials/jax-rs-tutorials/)

我为 HTTP POST 和 HTTP GET 做的示例代码

```
import java.io.IOException;
import java.io.InputStream;
import java.io.UnsupportedEncodingException;

import org.apache.http.HttpResponse;
import org.apache.http.HttpStatus;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.ByteArrayEntity;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.params.BasicHttpParams;
import org.apache.http.params.HttpConnectionParams;
import org.apache.http.params.HttpParams;

import android.os.AsyncTask;
import android.util.Log;

public class HttpConnectionHandler {
    public static final String TAG = HttpConnectionHandler.class.getSimpleName();
    private ServerRequestCommand requestCommand;
    private HttpPost httpPost;
    private HttpGet httpGet;
    private HttpClient httpClient;
    private HttpResponse httpResponse;

    public HttpConnectionHandler(){
        HttpParams httpParameters = new BasicHttpParams();
        HttpConnectionParams.setConnectionTimeout(httpParameters, 5000);
        HttpConnectionParams.setSoTimeout(httpParameters, 5000);        
        this.httpClient = new DefaultHttpClient(httpParameters);
        //this.httpClient = new DefaultHttpClient();
    }

    private void doNetworkConnection(){
        new AsyncServerConnector().execute();
    }

    class AsyncServerConnector extends AsyncTask<String, String, String>{

        @Override
        protected void onPreExecute() {
            super.onPreExecute();
        }

        @Override
        protected String doInBackground(String... arg0) {
            try {               
                if (Utility.isWifiPresent()
                        || Utility.isMobileConnectionPresent()) {
                    //Establish network connection here and set the response to request; if successful
                    //check GET or POST
                    if(requestCommand.getPostData() != null){
                        //means its POST
                        httpResponse = httpClient.execute(prepareHttpPost());
                    }else{
                        //its GET method
                        httpResponse = httpClient.execute(prepareHttpGet());
                    }
                    if(httpResponse != null){
                        int statusCode = httpResponse.getStatusLine().getStatusCode();
                        if(statusCode == HttpStatus.SC_OK){
                            InputStream inputStream = httpResponse.getEntity().getContent();
                            String serverResponse = formatServerResponse(inputStream);
                            requestCommand.setServerResponse(serverResponse);
                            requestCommand.setState(RequestCommand.STATE_SUCCESS);
                        }else{
                            requestCommand.setState(RequestCommand.STATE_SERVER_FAILURE);
                        }                       
                    }else{
                        requestCommand.setState(RequestCommand.STATE_SERVER_FAILURE);
                    }

                }
                //No network
                else{
                    requestCommand.setState(RequestCommand.STATE_NETWORK_FAILURE);
                }               
            } 
            catch (IOException e) {
                Log.i(TAG, "IOException during hitting for service: "+requestCommand.getServerUrl()+" and ID "+requestCommand.getRequestId());
                requestCommand.setState(RequestCommand.STATE_SERVER_FAILURE);
            }
            catch (Exception e) {
                Log.i(TAG, "Error during hitting for service: "+requestCommand.getServerUrl()+" and ID "+requestCommand.getRequestId());
                requestCommand.setState(RequestCommand.STATE_SERVER_FAILURE);
            }
            return null;
        }

        protected void onPostExecute(String file_url) {
            Log.i(TAG, "Get response for service: "+requestCommand.getServerUrl()+" and ID "+requestCommand.getRequestId());
            NetworkHandler.receiveResponseFromServer(requestCommand);
            requestCommand = null;
        }

    }

    public HttpPost prepareHttpPost() throws UnsupportedEncodingException {
        this.httpPost = new HttpPost("your url");       
        httpPost.setHeader("Content-Type", "application/json");
        httpPost.setEntity(new ByteArrayEntity(requestCommand.getPostData()
                .getBytes("UTF8")));
        return httpPost;
    }

    public HttpGet prepareHttpGet() {
        this.httpGet = new HttpGet(requestCommand.getServerUrl());      
        return httpGet;
    }

    private String formatServerResponse(InputStream inputStream) throws IOException {
        String serverResponse = null;
        StringBuffer responseBuffer = new StringBuffer();
        byte[] data = new byte[256];
        int len = 0;
        int size = 0;
        while (-1 != (len = inputStream.read(data))) {
            responseBuffer.append(new String(data, 0, len, "UTF-8"));
            size += len;
        }

        serverResponse = responseBuffer.toString();
        return serverResponse;
    }

} 
```

# android - 将事件添加到日历时如何避免提醒

> ID：15827781
> 
> 赞同：1
> 
> 时间：2013-04-05T07:02:30.147
> 
> 标签：android, android-calendar

我使用此方法将事件添加到日历中：

```
private void writeToCalendar() {
   Intent l_intent = new Intent(Intent.ACTION_EDIT);
   l_intent.setType("vnd.android.cursor.item/event");
   l_intent.putExtra(Events.TITLE, "title");
   l_intent.putExtra(Events.DESCRIPTION, "");  // description
   l_intent.putExtra(Events.EVENT_LOCATION, ""); //eventLocation
   l_intent.putExtra(Events.DTSTART, System.currentTimeMillis());  // beginTime
   l_intent.putExtra(Events.DTEND, System.currentTimeMillis() + EVENT_LENGTH);  // endTime
   l_intent.putExtra(Events.ALL_DAY, 0);  // allDay
   l_intent.putExtra(Events.STATUS, Events.STATUS_CONFIRMED);  // eventStatus
   l_intent.putExtra("visibility", 0);  // visibility
   l_intent.putExtra("transparency", 1);  
   l_intent.putExtra(Events.HAS_ALARM, 0);  // hasAlarms
   l_intent.putExtra(Events.ALLOWED_REMINDERS, "");  //allowedReminders
   try {
       startActivity(l_intent);
   } catch (Exception e) {
       Toast.makeText(this.getApplicationContext(), getResources().getText(R.string.calendar_error), Toast.LENGTH_LONG).show();
   }
} 
```

不幸的是，建议用户添加的事件会自动设置为 10 分钟的警报（提醒）（至少这发生在我的手机上）。如您所见，我尝试将允许的提醒设置为“”，并将“hasAlarms”标志设置为0。尽管如此，当添加事件时，它会自动向用户建议在 10 分钟设置提醒。用户可以在保存事件之前删除提醒，但这不是我想要的，我希望它默认错过提醒，因为对于我的应用程序来说，提醒真的没有意义。有人可以解释如何避免这种情况吗？

谢谢你。

# zeromq - 如何在 zeromq 中创建“唯一”套接字？

> ID：15827782
> 
> 赞同：0
> 
> 时间：2013-04-05T07:02:33.380
> 
> 标签：zeromq

我在haskell中试验一个简单的演员模型，每个演员：

*   是一个haskell线程
*   有一个 zeroMQ PULL 套接字，在该套接字上接收消息

一些演员是“众所周知的”，有无限的生命周期，因此他们的套接字绑定到一个众所周知的端口。其他参与者是短暂且短暂的，因此需要分配给他们的随机自由端口。

我以前不知道 zmq3 允许绑定到临时端口的能力，如下所述：http://api.zeromq.org/3-2:zmq- [tcp](http://api.zeromq.org/3-2:zmq-tcp)

因此，对于瞬态参与者，我目前有代码尝试绑定到给定范围内的空闲端口。这按预期工作，但揭示了导致我问题的 zmq 行为：如果瞬态actor关闭它的端口并退出，并且新的瞬态actor启动，它可能会绑定到旧端口的同一个端口。在这种情况下，为旧参与者排队的任何未完成或后续消息都将被新参与者接收。

我怎样才能避免这种情况？

如果我使用通配符绑定我的临时演员套接字以获取系统分配的临时端口，我仍然可能会看到这个问题吗？

如何使用保证与任何其他传输不同的 TCP 传输生成新的唯一 PULL 套接字？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T08:34:57.263

In general usage, you use `bind()` only for stable, "well known" actors, and you use `connect()` for transient actors. It seems a little weird if you need the port number for transient actors.

Also, perhaps you should add something to your protocol so that transient actors that are going away let the other side know, so that the other side won't continue to send them messages (which are then received by a new transient actor bound to the same port as the old one).

I think system-assigned ephemeral ports generally try not to reuse ports immediately, so that would likely also solve some of your problems.

# python - 如何防止 docopt 吞下一个选项？

> ID：15827784
> 
> 赞同：1
> 
> 时间：2013-04-05T07:02:40.697
> 
> 标签：python, command-line, docopt

我正在尝试使用 docopt 创建命令行界面。这是我的文件的简化版本：

```
#!/usr/bin/env python
"""
Test program.

Usage:
  test.py [options]

Options:
  -a <input>    
  -b
  -c
  -d
"""
import docopt

print docopt.docopt(__doc__) 
```

我本质上希望能够以任何顺序指定任何选项。但是，如果我忘记为`-a`标志指定参数，则会得到如下输出：

```
$ python test.py -a -b -c
{"-a": "-b",
 "-b": False,
 "-c": True,
 "-d": False} 
```

Docopt 将`-b`标志视为标志的参数`-a`，而不是将输入视为无效而拒绝。有没有一些简单的方法可以检测到这一点，或者让 docopt 拒绝接受这种格式错误的输入？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:14:42.457

关于短选项有一些歧义：最好使用 --option=ARG 长选项：

> ## -o --选项
> 
> 以一个或两个破折号开头的单词（“-”、“--”本身除外）分别被解释为短（一个字母）或长选项。
> 
> ```
> - Short options can be "stacked" meaning that -abc is equivalent to -a -b -c.
> - Long options can have arguments specified after space or equal "=" sign: --input=ARG is equivalent to --input ARG.
> -Short options can have arguments specified after optional space: -f FILE is equivalent to -fFILE. 
> ```
> 
> 注意，写--input ARG（与--input=ARG相对）是模棱两可的，这意味着不可能判断ARG是选项的参数还是位置参数。在使用模式中，仅当提供该选项的选项描述（如下所述）时，才会将其解释为带有参数的选项。否则它将被解释为单独的选项和位置参数。
> 
> -f FILE 和 -fFILE 表示法也有同样的歧义。尽管在后一种情况下，无法判断它是多个堆叠的空头期权，还是带有参数的期权。仅当提供了选项的描述时，这些符号才会被解释为带有参数的选项。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T07:42:53.300

这基本上是现在的设计决策，该选项的参数可以是任意字符串。我们正在讨论这是否是一个好的决定。

# ios6 - 如何将通行证的序列号发送到设备

> ID：15827785
> 
> 赞同：0
> 
> 时间：2013-04-05T07:02:40.877
> 
> 标签：ios6, passbook

现在我在设备生成 GET 请求的步骤中`webServiceURL/version/devices/deviceLibraryIdentifier/registrations/passTypeIdentifier?passesUpdatedSince=tag`

服务器如何发送通行证序列以及最后更新/标签；所以我需要将时间戳转换为字符串，因为 lastUpdated 是字符串？这是来自控制台的错误： `Apr 5 13:45:24 CamMobs-iPod4 passd[21] <Warning>: Get serial #s task (for device b6511c0dd47d04da449ce427b27fea74, pass type pass.cam-mob.passbookpasstest, last updated (null); with web service url http://192.168.1.202:8888/passesWebserver/) encountered error: Server response was malformed (Missing response data)`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:33:19.163

查询您的数据库并识别匹配`deviceLibraryIdentifier`并且自标记`passTypeIdentifier`以来已更改的连续出版物（如果有）。`passesUpdatedSince`将这些放在一个数组中。

然后将该数组发送回设备，如果没有需要更新的序列，则发送 204 响应。

```
$serialsArray = array("abc123", "dec456"); // this array should be populated by your database.

if (!empty($serials)) {
    echo json_encode(array('lastUpdated' => (string)time(), 
                           'serialNumbers' => $serialsArray));    
} else {
   // No serials need updating so send a 204 response
} 
```

# iphone - 在数据库中保存 blob'type

> ID：15827787
> 
> 赞同：0
> 
> 时间：2013-04-05T07:02:51.173
> 
> 标签：iphone, ios

我想将 iOS 的数据保存`NSData`到 的数据库中`FMDB`，例如：

```
NSURL *url=[NSURLURLWithString:@"http://pic17.nipic.com/20111023/7050178_121536234000_2.jpg"];
NSData *date=[NSData dataWithContentsOfURL:url];

NSString *img=[NSString stringWithFormat:@"insert into name(picture) values('%@')",date ];
BOOL judge1=[self.database executeUpdate:img]; 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:24:14.960

像这样试试

```
NSLog(@"\nCreating db");
NSString *str = @"CREATE TABLE IF NOT EXISTS Images (image1 BLOB);";
int res = SQLITE_ERROR;

res = sqlite3_open([@"aa.sql" UTF8String], &database);
res = sqlite3_exec(database, [str UTF8String], NULL, NULL, NULL);

sqlite3_stmt *updStmt =nil; 

const char *sql = "INSERT INTO Images (image1) VALUES (?);";
res = sqlite3_prepare_v2(database, sql, -1, &updStmt, NULL);

if(res!= SQLITE_OK)
{
    NSLog(@"Error while creating update statement:%s", sqlite3_errmsg(database));
}

UIImage *img = [UIImage imageNamed: @"flower.png"];
NSData *imageData = [NSData dataWithData: UIImagePNGRepresentation(img)];

res = sqlite3_bind_blob(updStmt, 1, [imageData bytes], [imageData length] , SQLITE_TRANSIENT);

if((res = sqlite3_step(updStmt)) != SQLITE_DONE)
{
    NSLog(@"Error while updating: %@", sqlite3_errmsg(database));
    sqlite3_reset(updStmt);
} 

res = sqlite3_reset(updStmt);
res = sqlite3_close(database); 
```

参考：[sqlite3 在数据库中插入和读取 BLOB 数据](https://stackoverflow.com/questions/4215505/sqlite3-insert-and-read-blob-data-in-database)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:27:58.457

确保您完成了所有这些步骤。

```
FMDatabase *databse = [FMDatabase databaseWithPath:@"Path"];
[database open];  
NSURL *url=[NSURLURLWithString:@"http://pic17.nipic.com/20111023/7050178_121536234000_2.jpg"];  
NSData *date=[NSData dataWithContentsOfURL:url];  
NSString *img=[NSString stringWithFormat:@"INSERT INTO name (picture) values('%@')",date ];  
BOOL judge1;  
judge1=[database executeUpdate:img]; 
```

# sql-server - SQL 触发器和 streaminsight - 有任何 StreamInsight Guru 吗？

> ID：15827791
> 
> 赞同：0
> 
> 时间：2013-04-05T07:03:06.610
> 
> 标签：sql-server, streaminsight, triggers

当数据输入到表中时，它会触发触发器，然后将其复制到不同的表中

当此触发器触发并将修改后的数据复制到另一个表时，我想使用流洞察力。

如何从表（事件）中的触发器将数据获取到输入适配器我如何将触发器用作输入适配器的事件以在 streaminsight 中获取数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-25T03:26:41.590

你为什么要这样做？StreamInsight 将为您提供哪些触发器无法提供的功能？StreamInsight 不是 ETL 工具 - 这就是您似乎想要使用它的目的。

# c# - BLL 和表示层之间的服务层

> ID：15827792
> 
> 赞同：0
> 
> 时间：2013-04-05T07:03:20.397
> 
> 标签：c#, asp.net-mvc, architecture

我对 ASP.NET MVC 应用程序中的服务层有疑问。

在服务层，只有 DTO 和业务和数据访问层的 DI。在服务层中，我将 DTO 映射到域模型。这意味着，我在服务层定义 DTO 类，然后将其映射到 EF 实体并将其发送到业务层。那是对的吗？

我不明白如何从 mvc 应用程序的业务层调用方法。我认为在业务层中我必须定义 CreateUser() 方法或其他任何东西。我所有的流程都发生在业务层。服务层是否也有我从表示层调用的 CreateUser() 方法？

我想，我不太明白这个服务层将如何实现，但我认为实现它很好，因为它从表示层将 BLL 和 DAL 伪装起来。

谢谢多米尼克

# android - 保存 ViewGroup 状态：Android

> ID：15827799
> 
> 赞同：0
> 
> 时间：2013-04-05T07:03:43.210
> 
> 标签：android, view, drag-and-drop, save, viewgroup

**注意：这里我不是在谈论通过 onSaveInstanceState(...) 保存活动状态**

我正在使用[https://github.com/eskim/android_drag_sample](https://github.com/eskim/android_drag_sample)在我的应用程序中拖放视图的代码。用户可以在我的应用程序中创建多个场景，并且对于每个场景，用户可以添加多个视图并将它们拖放到他们想要的任何地方。在切换场景时，我将所有场景信息（例如添加的儿童数量、它们的属性等）存储在模型对象中，并且工作正常。用户可以保存场景并以 pdf 格式通过邮件发送。问题是要准备 pdf 我需要图像（正在使用 iText 库将图像转换为 pdf），但是如何将其他隐藏场景（不可见）转换为图像？当前可见的场景我可以转换为图像并存储在 SD 卡中。我尝试在模型对象中保存当前场景并在准备 pdf 时将其转换为图像，但它将所有场景覆盖到当前场景。我不知道这种方法是否正确。所以，

将视图转换为位图的代码：

```
public static Bitmap getBitmapFromView(final View view) {
    if(view.getWidth() <= 0 && view.getHeight() <= 0)
        return null;

    Bitmap returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);
    final Canvas canvas = new Canvas(returnedBitmap);

    Drawable bgDrawable = view.getBackground();
    if (bgDrawable != null) 
        bgDrawable.draw(canvas);
    else 
        canvas.drawColor(Color.WHITE);

    ((Activity) view.getContext()).runOnUiThread(new Runnable() {

        @Override
        public void run() {
            view.draw(canvas);
        }
    });

    return returnedBitmap;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-09T13:52:05.820

很长一段时间后，我的问题得到了解决。想法是模型对象中的任何数据，将其添加到任何布局并从中获取图像。下面是代码。

```
/** convert MySTScene(model object) into a View */
public static View getView(Context context, MySTScene mySTScene) {
    RelativeLayout sceneView = new RelativeLayout(context);
    RelativeLayout.LayoutParams parms = new RelativeLayout.LayoutParams(Constants.PLAY_AREA_WIDTH_TAG, 
            LayoutParams.WRAP_CONTENT);
    parms.setMargins(100, 100, 100, 100);

    String sceneBackground = mySTScene.getThemeImageName();
    Drawable drawable = BitmapConverter.getDrawable(context, sceneBackground);

    sceneView.setBackgroundDrawable(drawable);

    for(MySTCharacter mySTCharacter : mySTScene.getCharacterList()) {
        int scale = mySTCharacter.getScale();
        ImageView image = new ImageView(context);
        String filePath = mySTCharacter.getCharacterName();
        int xPosition = (int) mySTCharacter.getCharacterPoint().x + 141;
        if(xPosition >= Constants.PLAY_AREA_WIDTH_TAG)
            xPosition -= 400;
        else if(xPosition > (Constants.PLAY_AREA_WIDTH_TAG / 2))
            xPosition -= 300;
        else
            xPosition -= 200;
        int yPosition = (int) mySTCharacter.getCharacterPoint().y;
        if(!mySTCharacter.getIsDialog())
            sceneView.addView(setImageProperties(image, scale, filePath, 
                    xPosition, yPosition, 0, 0));
        else {
            addDialog(mySTCharacter, sceneView, filePath, 
                    xPosition, yPosition);
        }
    }

    // add writing pad only if some text is added to it while creating/saving scene
    boolean isTrue = mySTScene.getStoryText() != null && mySTScene.getStoryText().length() != 0;
    if(isTrue) 
        addWritingPad(mySTScene, sceneView);

    sceneView.setLayoutParams(parms);

    return sceneView;
} 
```

**将视图作为图像保存到 SD 卡**

```
public static void saveViewToSD(getView(context, mySTScene)) {

    File fullSaveDir = FileUtils.createDirectory(FileUtils.PDF_IMAGES_DIRECTORY_TAG);

    File file = new File(fullSaveDir, ""+System.currentTimeMillis()+".PNG");

    Bitmap bitmap = null;

    try {
        if(file != null && !file.exists())
            file.createNewFile();

        FileOutputStream fileOutputStream = new FileOutputStream(file);

        bitmap = loadBitmapFromView(view);

        if(bitmap == null) {
            fileOutputStream.close();
            return;
        }

        bitmap.compress(Bitmap.CompressFormat.PNG, 90, fileOutputStream);
        fileOutputStream.flush();
        fileOutputStream.close();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } finally {
        if(bitmap != null && !bitmap.isRecycled()) {

            bitmap.recycle();
            bitmap = null;
        }
    }
} 
```

**从视图加载位图**

```
public static Bitmap loadBitmapFromView(View view) throws IllegalArgumentException {

    if (view.getMeasuredHeight() <= 0) 
        view.measure(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);

    Bitmap bitmap = Bitmap.createBitmap( Constants.PLAY_AREA_WIDTH_TAG, Constants.PLAY_AREA_HEIGHT_TAG, 
            Bitmap.Config.ARGB_8888);  
    Canvas canvas = new Canvas(bitmap);

    Drawable bgDrawable = view.getBackground();

    Bitmap bitmapbg = ((BitmapDrawable)bgDrawable).getBitmap();
    canvas.drawBitmap(bitmapbg, view.getLeft(), view.getTop(), null);

    view.layout(view.getLeft(), view.getTop(), view.getRight(), view.getBottom());
    view.draw(canvas);

    return bitmap;
} 
```

# java - 生成 Google 搜索引擎的 XPath 表达式

> ID：15827801
> 
> 赞同：1
> 
> 时间：2013-04-05T07:03:56.467
> 
> 标签：java, xpath, jdom

我应该使用什么 XPath 表达式来解析 Google XHTML 结果页面？我无法使用

```
XPathExpression expr = xpath.compile(".//li[@class='g']/div/h3/em/text()"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T09:53:45.060

如果是 XHTML，您可能需要对表达式进行命名空间绑定

```
Namspace ns = NAmespave.getNamespace("x", "http://www.w3.org/1999/xhtml");
XPathExpression expr = xpath.compile(
    ".//x:li[@class='g']/x:div/x:h3/x:em/text()", null, null, ns); 
```

# jquery - 无法使用 ajaxUpload() 上传大型 Excel 文件

> ID：15827804
> 
> 赞同：0
> 
> 时间：2013-04-05T07:04:10.660
> 
> 标签：jquery, ajax, jsp, multipartform-data

尝试使用 AjaxUpload 导入 excel 文件时，小文件可以执行导入。使用由接近 2MB 的数据组成的稍大的 excel 文件，我收到以下错误。

这是我在jsp中的ajaxUpload()：

```
 $.ajaxFileUpload(
                    {
                        url:'pi/importPI.do?custNamefrmList='+custNamefrmList+'&neNamefrmList='+neNamefrmList+'&bIndex='+bIndex+'+&fullPath='+fullPath+'',
                        type:"post",
                        secureuri:false,
                        fileElementId:'uploadfile',
                        method:'POST',
                        //dataType: 'json',
                        dataType: 'json',
                        cache:false,
                        async:false,                            
                        success: function (data)
                        {
                        } 
```

2013 年 4 月 5 日下午 12:14:51 org.apache.catalina.core.StandardWrapperValve 调用严重：Servlet.service() for servlet [dispatcher] 在路径 [/PMDB] 的上下文中抛出异常 [请求处理失败；嵌套异常是 org.springframework.web.multipart.MultipartException：无法解析多部分 servlet 请求；嵌套异常是 org.apache.commons.fileupload.FileUploadBase$IOFileUploadException：处理 multipart/form-data 请求失败。连接重置]，根本原因是 java.net.SocketException：
**在 java.net.SocketInputStream.read(SocketInputStream.java:168) 处重置连接**
在 org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:532) 在 org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:501) 在 org.apache.coyote.http11.InternalInputBuffer$InputStreamInputBuffer .doRead(InternalInputBuffer.java:563) 在 org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:118) 在 org.apache.coyote.http11.AbstractInputBuffer.doRead(AbstractInputBuffer.java:341) 在org.apache.coyote.Request.doRead(Request.java:422) 在 org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:290) 在 org.apache.tomcat.util.buf.ByteChunk.substract( ByteChunk.java:431) 在 org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:315) 在 org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:200) 在 org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:976) 在 org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:886) **在 java.io.InputStream.read(InputStream.java:85)**
在 org.apache.commons.fileupload.util.Streams.copy(Streams.java:96) 在 org.apache.commons.fileupload.util.Streams.copy(Streams.java:66) 在 org.apache.commons.fileupload .FileUploadBase.parseRequest(FileUploadBase.java:366) at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126) at org.springframework.web.multipart.commons.CommonsMultipartResolver.parseRequest(CommonsMultipartResolver.java :155) 在 org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:904) 在 org.springframework.web 的 org.springframework.web.multipart.commons.CommonsMultipartResolver.resolveMultipart(CommonsMultipartResolver.java:138)。 org.springframework.web.servlet.DispatcherServlet 中的 servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:747)。doService(DispatcherServlet.java:716) 在 org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644) 在 org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560) 在 javax.servlet .http.HttpServlet.service(HttpServlet.java:641) 在 javax.servlet.http.HttpServlet.service(HttpServlet.java:722) 在 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) 在org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) 在 org.apache.catalina.core 的 org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)。 ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) 在 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) 在 org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) 在 org.apache.catalina.authenticator.AuthenticatorBase 的 org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225) .invoke(AuthenticatorBase.java:472) 在 org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) 在 org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) 在 org. org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 中的 apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927) org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter. java:407) 在 org.apache.coyote 的 org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)。AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor. java:886) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) 在 java.lang.Thread.run(Thread.java:662)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:53:21.570

我认为这只是阻止上传 > 2 MB 的默认 Tomcat POST 大小限制。

在这里查看解决方案：

[http://vicker313.wordpress.com/2010/08/12/increase-or-make-unlimited-maximum-post-size-in-tomcat/](http://vicker313.wordpress.com/2010/08/12/increase-or-make-unlimited-maximum-post-size-in-tomcat/)

# php - 将 $_SESSION[] 数据放入 php 变量中，但它仍然无法在 mysql 查询中工作

> ID：15827807
> 
> 赞同：2
> 
> 时间：2013-04-05T07:04:18.427
> 
> 标签：php, mysql, session

在 mysql 查询中检查 $_SESSION 变量时遇到问题。我想要做的是获取登录用户的详细信息，但它似乎无法正常工作。

我`$user = mysql_real_escape_string($_SESSION['username']);`将代码放入常规变量中，然后对数据库进行查询，即：`$sql = "SELECT * FROM admin WHERE username='$user' LIMIT 1";`

并计算用户是否存在，我使用代码：`$userCount = mysql_num_rows($sql); // count the output amount`

这似乎不起作用。我不断收到此错误：“警告：mysql_num_rows() 期望参数 1 是资源，第 18 行 /home/alexartl/public_html/CRM/headercode.php 中给出的字符串”

顺便说一句，用户帐户确实存在并且在我测试时已登录以下是完整代码

```
 // If the session vars aren't set, try to set them with a cookie
  if (!isset($_SESSION['user_id'])) {
    if (isset($_COOKIE['user_id']) && isset($_COOKIE['username'])) {
      $_SESSION['user_id'] = $_COOKIE['user_id'];
      $_SESSION['username'] = $_COOKIE['username'];   
    }
  }
?>
<?php
//if the username is set
  if (isset($_SESSION['username'])) {
//making the username into a php variable 
        $user = mysql_real_escape_string($_SESSION['username']);
//the query to grab the users name
        $sql = "SELECT * FROM admin WHERE username='$user' LIMIT 1";
        $userCount = mysql_num_rows($sql); // count the output amount
        if ($userCount == 1) {
        while($row = mysql_fetch_array($sql)){
//just the array that grabs all the users info
            $username = $row["username"];
            $password = $row["password"];
            $first_name = $row["first_name"];
            $last_name = $row["last_name"];
            $gender = $row["gender"];
            $birthdate = $row["birthdate"];
            $email_address = $row["email_address"];
            $city = $row["city"];
            $state = $row["state"];
            $retrieval = $row["retrieval"];
            $isAdmin = $row["isAdmin"];
            $join_date = $row["join_date"];

//if the user has "isAdmin" as "Yes", then this link to a "manage Users" page will appear
            if($isAdmin == "Yes"){
                $ifAdmin = '<li><a href="manageUsers.php">Manage Users</a></li>';
                }
            }       
        }
     }      
?> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T07:07:47.517

我不会进入“不要使用 mysql_* 命令”，但不要：P

你错过了：

```
 $result = mysql_query($sql);  //Actually execute the query 
```

然后用作

```
$userCount = mysql_num_rows($result); // count the output amount 
```

* * *

另外，您似乎也没有连接到`use`您想要查询的数据库。

```
$link = mysql_connect('localhost', 'user', 'pass') or die('Could not connect to mysql server.' );
mysql_select_db('databaseName'); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-05T07:06:13.677

问题是您必须执行查询并将该查询参数传递给`mysql_num_rows()`. 在下面找到，

```
$sql       = "SELECT * FROM admin WHERE username='$user' LIMIT 1";
$qry       = mysql_query($sql);
$userCount = mysql_num_rows($qry);

 while($row = mysql_fetch_array($qry)){

 } 
```

**注意：请不要使用mysql函数。它们已被弃用。因此，转到 PDO（或）mysqli 函数。**

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-05T07:06:40.197

```
$sql = "SELECT * FROM admin WHERE username='$user' LIMIT 1";
        $userCount = mysql_num_rows($sql); 
```

您必须首先执行此查询，然后将该结果提供给`mysql_num_rows`. 不仅仅是查询字符串

```
$result=mysql_query($sql);
$userCount = mysql_num_rows($result); 
```

**免责声明**：讨厌提出涉及使用`mysql_*`函数的解决方案，但这就是您的错误

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-05T07:23:20.487

为什么要使用已弃用的功能？

```
$oConnection = new PDO($dsn, $user, $pass);

$sQuery = "SELECT * FROM admin WHERE username = ? LIMIT 1";
$oStatement = $oConnection->prepare($sQuery);
$oStatement->execute(array($_SESSION['username']));
$row = $oStatement->fetch(PDO::FETCH_ASSOC); 
```

您无需担心转义，您将获得干净且实际的代码。

也代替

```
 $username = $row["username"];
        $password = $row["password"];
        $first_name = $row["first_name"];
        $last_name = $row["last_name"];
        $gender = $row["gender"];
        $birthdate = $row["birthdate"];
        $email_address = $row["email_address"];
        $city = $row["city"];
        $state = $row["state"];
        $retrieval = $row["retrieval"];
        $isAdmin = $row["isAdmin"];
        $join_date = $row["join_date"]; 
```

你可以使用 extract function() 代替[http://www.php.net/manual/en/function.extract.php](http://www.php.net/manual/en/function.extract.php) - 少写;）

# ruby-on-rails - 如何使用 TagLib 获取歌曲封面

> ID：15827810
> 
> 赞同：2
> 
> 时间：2013-04-05T07:04:31.203
> 
> 标签：ruby-on-rails, taglib

这是我能够获得歌曲图片/封面艺术的代码。

```
TagLib::MPEG::File.open("song_file_name.mp3") do |file|
    tag = file.id3v2_tag

    cover = tag.frame_list('APIC').first
    mime_type = cover.mime_type
    picture = cover.picture
end 
```

如何将图片的值转换为 url 或图像的来源？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T08:36:08.923

您应该将图片的内容存储在一个文件中，保存它，并使其在 Web 服务器上可用。

尝试执行以下操作：

```
TagLib::MPEG::File.open("song_file_name.mp3") do |file|
    tag = file.id3v2_tag

    cover = tag.frame_list('APIC').first
    mime_type = cover.mime_type
    picture = cover.picture

    extension = case cover.mime_type
      when 'image/jpeg', 'image/jpg'
        'jpg'
      when 'image/gif'
        'gif'
      else
        raise "Mime not found"
    end

    file_name = "my_file.#{extension}"

    File.open(file_name, "w") do |f|
      f.write(picture)
    end

end 
```

# php - [Microsoft][SQL Server Native Client 11.0]共享内存提供程序：超时错误 [258]

> ID：15827816
> 
> 赞同：4
> 
> 时间：2013-04-05T07:04:42.033
> 
> 标签：php, sql-server-2008

再会。

我在 php5 上有网站。

所有查询都使用 sqlsrv 执行；

当我进行查询时，我得到错误：

```
[Microsoft][SQL Server Native Client 11.0]Shared Memory Provider: Timeout error [258] 
```

如何修复错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-04T21:31:10.313

*   此错误可能是由于连接速度非常慢或 SQL 查询耗时过长造成的。
*   这不是**SQL Server**问题。
*   尝试在 PHP 中的 connectionString 中扩展超时值。

    [**看到这个以前的答案**](https://stackoverflow.com/questions/3829403/how-to-increase-the-timeout-in-php)

> 您需要更改 php.ini 中的一些设置：upload_max_filesize = 2M ；或您想要的任何大小
> 
> max_execution_time = 60；另外，如果必须的话，更高
> 
> 您的 PHP.ini 是否取决于您的环境

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-11T13:02:03.300

单独设置`max_execution_time`为`0`（无限），并没有为我做。

但是，将内存限制默认值从工作`128MB`增加到`2GB`工作：

```
max_execution_time = 0
memory_limit = 2048M 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-21T05:02:27.537

PHP 5.3.19 到 Sql Server 2008 所有查询都超时，包括 'select getdate()' 将两个参数 max_execution_time 更改为 0 和 memory_limit = 1024M 为我做了。

# wordpress - 如何将默认时区 UTC 更改为本地时区

> ID：15827824
> 
> 赞同：2
> 
> 时间：2013-04-05T07:05:14.787
> 
> 标签：wordpress, timezone

我正在维护一个基于 WordPress 的网站，我观察到该网站在当地时间之后无法正常工作。它遵循默认的 UTC 时区。我尝试了常规设置，但该站点基于默认的 UTC 时区工作。我该如何解决？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:35:29.957

我可以建议几个解决方案。

1.  检查是否正在保存设置。有时没有保存设置。它发生在 Windows Azure 上托管的 Wordpress 博客上。

2.  如果您使用自定义主题。确保它不会覆盖时间

    ```
    get_post_time('U', true); 
    ```

第二个参数为 true，它强制 WordPress 使用 GMT 时区，而不是使用您的本地时区。

您可以通过功能以检查它..

这里的情况类似：[http ://wordpress.org/support/topic/how-to-display-local-time-instead-of-utc](http://wordpress.org/support/topic/how-to-display-local-time-instead-of-utc)

如果您可以共享主题文件或编写日期函数的文件，我可以帮助您:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:18:16.767

如果您安装了 JetPack 插件，请将其停用然后再次重新激活 - 确保您在执行此操作之前已经处于正确的时区设置中。

当我安装了 JetPack 而没有正确的时区设置（并尝试了一些 PHP 时间函数）时，我遇到了这种情况。JetPack 出于某种原因保存了原始设置并将其强制用于 WP。

# ios - MKMapView 中的无限水平滚动

> ID：15827835
> 
> 赞同：1
> 
> 时间：2013-04-05T07:06:16.210
> 
> 标签：ios, scroll, mkmapview, mapkit, infinite

我试图弄清楚如何`MKMapView`根据 iPhone 中的地图应用程序让 a 无休止地水平滚动（就像旋转地球一样）。**MapKit**中有设置吗？还是我必须`MKMapViews`并排设置两个？

非常感谢任何建议或信息。

我试过在这个论坛上搜索，但似乎这个问题以前没有被问过。如果我错了，请纠正我。

问候。

莱昂

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:09:17.220

这在 MapKit 中是不可能的。如果你想要这个，我建议为此提交一个功能请求。

如果您想在 iOS 中使用此功能，我建议您使用[此处](https://developers.google.com/maps/documentation/ios/)提供的新 Google Maps iOS SDK 。

更新 - 现在可以在 iOS7 及更高版本中实现本机

# sql - 什么可以证明查询（postgres）长时间运行的解释？

> ID：15827852
> 
> 赞同：0
> 
> 时间：2013-04-05T07:07:14.363
> 
> 标签：sql, postgresql

我今天反对一种新的查询优化问题。

我的查询是：

```
SELECT *
 FROM sanrss
 LEFT JOIN sanrum  ON sanrum.sanrum___rforefide = sanrss.sanrss___rforefide AND     sanrum.sanrum___rfovsnide = sanrss.sanrss___rfovsnide AND sanrum.sanrum___sanrsside = sanrss.sanrsside
LEFT JOIN sanact  ON sanact.sanact___rforefide = sanrum.sanrum___rforefide AND sanact.sanact___rfovsnide = sanrum.sanrum___rfovsnide AND sanact.sanact___sanrsside = sanrum.sanrum___sanrsside AND sanact.sanact___sanrumide = sanrum.sanrumide AND sanact.sanact___sanrumide   IS NOT NULL AND sanact.sanact___rsanopide='CCAM'
INNER JOIN saneds  ON sanrss.sanrss___rforefide = saneds.saneds___rforefide AND sanrss.sanrss___rfovsnide = saneds.saneds___rfovsnide AND sanrss.sanrss___sanedside = saneds.sanedside
INNER JOIN sandia ON (sandia___rforefide, sandia___rfovsnide, sandia___sanrsside, sandia___sanrumide, sandiasig) = (sanrum___rforefide, sanrum___rfovsnide, sanrum___sanrsside, sanrumide, 1)
INNER JOIN rsaidp  ON saneds.saneds___rforefide = rsaidp.rsaidp___rforefide AND saneds.saneds___rsaidpide = rsaidp.rsaidpide
  WHERE sanrss.sanrss___rforefide =  'CHUL'  AND sanrss.sanrss___rfovsnide =  '201303_prov'  AND sanrss.sanrssdtf >=  '2013-01-01 00:00:00.0'  AND sanrss.sanrssdtf <=  '2013-03-31 23:59:59.999'
  and sanrss.sanrsside = '7801512' 
```

这不是真正的*，而是选择了 300 个字段。

在我们的一个服务器上它很慢，但在另一个服务器上却没有，所以我对其进行了解释以确定执行计划，这个给我的总运行时间为 0.5 毫秒！但是解释分析的实际总工作时间大约是 3.6 秒。

所以我试着只准备请求，这是一个意识到只有查询计划的计算是造成巨大延迟的原因。

我尝试切换 GEQO 的一些会话参数（努力 1，努力 10，GEQO 停用），对执行时间没有影响。对查询的所有表进行stats计算后，计算时间下降到2.4秒。

奇怪的是，在较慢的服务器（相同的 CPU 和主板，但没有 ssd 存储）上，具有相同参数的完全相同的查询只用了 15 毫秒来确定查询计划和执行。两台服务器之间的主要区别在于数据量，在所有表中存在问题的一台服务器中的数据量大约是两倍。

那么我应该考虑什么来理解是什么减慢了我的执行计划计算？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:59:15.860

看起来我们定义了一个太大的全局统计目标。该值是定义查询计划所必需的链接时间。

降低价值已经解决了我们的问题。

# python - @ 运算符在 python 中的作用是什么？

> ID：15827862
> 
> 赞同：1
> 
> 时间：2013-04-05T07:08:06.803
> 
> 标签：python, python-2.7, operators

我正在以艰难的方式从Learn Python中学习python，并且在[ex37上](http://learnpythonthehardway.org/book/ex37.html)他们希望我们进行搜索。我不知道@ 运算符是做什么的。谁能告诉我？

# jquery - 如何隐藏 jQuery 数据表

> ID：15827867
> 
> 赞同：11
> 
> 时间：2013-04-05T07:08:16.390
> 
> 标签：jquery, jquery-ui, jquery-data

当我想切换数据表的可见性时，如何隐藏 jQuery 数据表？问题是如果我写隐藏语句它只隐藏行，而不是页眉和页脚。如何完全隐藏数据表？

为了隐藏，我使用了以下代码：

```
 var oTable = $('#example').dataTable(); // 'example is the table id'
 oTable.hide(); 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-04-05T07:15:15.677

试试这个

```
$('#example').parents('div.dataTables_wrapper').first().hide(); 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2015-03-23T11:31:18.733

我认为最好的方法是将表格包含在 div 中并隐藏 div

```
 <div id='divTable'>
     <table>
     </table>
 </div>

 $('#divTable').hide(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-04T12:43:50.390

对我来说（我知道这是一个奇怪的需求）我需要隐藏主表但保留结果（即 X 的 X 结果已过滤）。

`$('div.dataTables_wrapper thead,div.dataTables_wrapper tbody').hide();`

以上为我修复了它。如果你有一个页脚，你也需要添加`,div.dataTables_wrapper tfoot`。

# wpf - 自定义附加命令

> ID：15827868
> 
> 赞同：1
> 
> 时间：2013-04-05T07:08:23.610
> 
> 标签：wpf, mvvm, attached-properties, icommand, routed-commands

我有一种情况，我想为框架元素编写自定义命令。我做了如下：

```
public class UndoRedoManager
    {
        private static FrameworkElement frameworkElement;

        /// <summary>
        /// UndoVMCommand Attached properrty.
        /// </summary>
        public static readonly DependencyProperty UndoVMCommandProperty =
            DependencyProperty.RegisterAttached("UndoVMCommand", typeof(ICommand), typeof(UndoRedoManager), new FrameworkPropertyMetadata(UndoVmCommand, UndoVMCommand_PropertyChanged));

        /// <summary>
        /// UndoVMCommandProperty getter.
        /// </summary>
        /// <param name="obj"></param>
        /// <returns></returns>
        [AttachedPropertyBrowsableForChildren]
        public static ICommand GetUndoVMCommand(DependencyObject obj)
        {
            return (ICommand)obj.GetValue(UndoVMCommandProperty);
        }

        /// <summary>
        /// UndoVMCommandProperty setter.
        /// </summary>
        /// <param name="obj"></param>
        /// <param name="value"></param>
        public static void SetUndoVMCommand(DependencyObject obj, ICommand value)
        {
            obj.SetValue(UndoVMCommandProperty, value);
        }

        protected static void UndoVMCommand_PropertyChanged(DependencyObject obj, DependencyPropertyChangedEventArgs e)
        {
            var control = obj as FrameworkElement;
            if (control != null)
            {
                if ((e.NewValue != null) && (e.OldValue == null))
                {
                    frameworkElement = control;
                }
                else if ((e.NewValue == null) && (e.OldValue != null))
                {
                    frameworkElement = null;
                }
            }
        }
} 
```

这是我附加在xaml中的：

```
<ItemsControl x:Name="graphControl" local:UndoRedoManager.UndoVMCommand="{Binding UndoCommand}">
......
</ItemsControl> 
```

但是，我想在单击按钮时触发此命令。

```
<Button Content="Undo" CommandTarget="{Binding ElementName=graphControl}" Command="TheCommand" Margin="5"/> 
```

非常喜欢

```
<Button Command="Copy" CommandTarget="{Binding ElementName=MyTextBox1}">Copy</Button> 
```

所以我写了以下内容：

```
public static RoutedUICommand undoVmCommand = new RoutedUICommand("TheCommand", "TheCommand", typeof(UndoRedoManager));
        public static RoutedUICommand UndoVmCommand
        {
            get { return undoVmCommand; }
        }
        static UndoRedoManager()
        {
            CommandManager.RegisterClassCommandBinding(typeof(UndoRedoManager), new CommandBinding(undoVmCommand, ExecutedEventHandler_UndoVM, CanExecuteEventHandler_IfCanUndoVM));
        }

        private static void CanExecuteEventHandler_IfCanUndoVM(Object sender, CanExecuteRoutedEventArgs e)
        {
            FrameworkElement frmEle = sender as FrameworkElement;
            e.CanExecute = false;
            if (null != frmEle && frmEle.DataContext is ViewModelBase)
            {
                e.CanExecute = true;
                    //(frmEle.DataContext as GraphViewModel).CanUndo;
            }
            e.Handled = true;
        }

        public static void ExecutedEventHandler_UndoVM(Object sender, ExecutedRoutedEventArgs e)
        {
            FrameworkElement frmEle = sender as FrameworkElement;

            if (null != frmEle && frmEle.DataContext is ViewModelBase)
            {
                (frmEle.DataContext as GraphViewModel).UndoCommand.Execute(null);
            }
        } 
```

我不明白那是怎么接线的。我应该在哪里声明上述路由命令？绝对不能在 FrameworkElement 类中做到这一点。有没有办法附上它？对不起，如果我无法清楚地说明问题。简而言之：如果我要以附加的方式为文本框编写“复制”命令，我该怎么做？

**编辑：@Erti 发表评论后：**

现在我有两个类，UndoRedoManager

```
public class UndoRedoManager
    {
        private static FrameworkElement frameworkElement;

        /// <summary>
        /// UndoVMCommand Attached properrty.
        /// </summary>
        public static readonly DependencyProperty UndoVMCommandProperty =
            DependencyProperty.RegisterAttached("UndoVMCommand", typeof(ICommand), typeof(UndoRedoManager), new FrameworkPropertyMetadata(StaticCommand.UndoVmCommand, UndoVMCommand_PropertyChanged));

        /// <summary>
        /// UndoVMCommandProperty getter.
        /// </summary>
        /// <param name="obj"></param>
        /// <returns></returns>
        [AttachedPropertyBrowsableForChildren]
        public static ICommand GetUndoVMCommand(DependencyObject obj)
        {
            return (ICommand)obj.GetValue(UndoVMCommandProperty);
        }

        /// <summary>
        /// UndoVMCommandProperty setter.
        /// </summary>
        /// <param name="obj"></param>
        /// <param name="value"></param>
        public static void SetUndoVMCommand(DependencyObject obj, ICommand value)
        {
            obj.SetValue(UndoVMCommandProperty, value);
        }

        protected static void UndoVMCommand_PropertyChanged(DependencyObject obj, DependencyPropertyChangedEventArgs e)
        {
            var control = obj as FrameworkElement;
            if (control != null)
            {
                if ((e.NewValue != null) && (e.OldValue == null))
                {
                    frameworkElement = control;
                }
                else if ((e.NewValue == null) && (e.OldValue != null))
                {
                    frameworkElement = null;
                }
            }
        }
     } 
```

请注意注册依赖属性时在 PropertyMetadata 中传递的默认值。在 xaml 中，我将其用作：

```
<ItemsControl x:Name="graphControl" local:UndoRedoManager.UndoVMCommand="{Binding UndoCommand}"/> 
```

另一个是 StaticCommand 类：

```
public class StaticCommand
    {
        public static RoutedUICommand undoVmCommand = new RoutedUICommand("TheCommand", "TheCommand", typeof(UndoRedoManager));
        public static RoutedUICommand UndoVmCommand
        {
            get { return undoVmCommand; }
        }
        static StaticCommand()
        {
            CommandManager.RegisterClassCommandBinding(typeof(StaticCommand), new CommandBinding(undoVmCommand, ExecutedEventHandler_UndoVM, CanExecuteEventHandler_IfCanUndoVM));
        }

        private static void CanExecuteEventHandler_IfCanUndoVM(Object sender, CanExecuteRoutedEventArgs e)
        {
            //This is not getting hit.
            e.CanExecute = true;
            e.Handled = true;
        }

        public static void ExecutedEventHandler_UndoVM(Object sender, ExecutedRoutedEventArgs e)
        {
            //I will do something here
        }
    } 
```

在 xaml 中，我将其用作：

```
 <Button Content="Undo" CommandTarget="{Binding ElementName=graphControl}" Command="{Binding Source={x:Static local:StaticCommand.UndoVmCommand}}" Margin="5"/> 
```

但是现在上面的按钮根本没有被激活。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T08:12:53.040

你基本上拥有它。只需创建新类 StaticCommands.cs。

您所要做的就是，现在绑定静态命令，如下所示：

```
<Button Command="{x:Static local:StaticCommands.UndoVmCommand}"
  CommandTarget="{Binding WHatever you want}" /> 
```

现在，在您的 ExecutedEventHandler_UndoVM 中，您可以访问 Button 元素，这意味着如果需要，您还可以访问 CommandTarget 属性。

也看看这个：[WPF 命令，如何声明应用程序级命令？](https://stackoverflow.com/questions/4709906/wpf-commands-how-to-declare-application-level-commands)

# java - 关于java中静态变量或方法的使用的隐喻或非常清晰的解释

> ID：15827869
> 
> 赞同：2
> 
> 时间：2013-04-05T07:08:24.333
> 
> 标签：java, variables, methods, static

我已经问过我的老师一千次了，他向我解释了很多次，但我仍然不知道什么时候在变量/方法中使用静态

有人可以对此给出一个隐喻的解释，也许还可以展示一些需要静态和不需要静态的示例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:22:24.557

*我想在没有类实例的情况下访问该方法吗？*

如果您回答是，您可能需要一个*静态*方法。

*私有静态*变量可用于在该类的实例之间共享数据，即，如果您有：

```
public class Car
{
    private static int wheelsNum;
    private String company;
    private String color;
    ...
    ...
} 
```

那么如果你改成`wheelNum`2，那么所有的车都会有2个轮子。

例如，考虑这段代码：

```
Car car1 = new Car();
Car car2 = new Car();

car1.setColor("Yellow");
car2.setColor("Blue");

car1.setWheelsNum(4);
car2.setWheelsNum(2); 
```

然后**两辆**车都将有 2 个轮子，尽管我*“不是”*要更改第一辆车的轮数。但是，正如你所知道的，这些汽车有**不同**的颜色。

`public static`变量在*没有*创建类实例的情况下使用，而`private static`变量则不是。

当您需要在静态函数中使用变量时，您只能使用静态变量，因此将其设为私有以不从其他类访问它们。

静态方法*不能*访问非静态方法（变量也是如此）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T07:26:13.183

我会尽量简明扼要地解释一下，我也是学生。静态变量或方法，不会随每个实例而改变。例如，我们有这个测试类：

```
 Class Test(){
         String name;
         static int money;
         public test(String name, int money){
           this.name = name;
           this.money = money;
         }
    //Changes money value
         public void setMoney(int money){
          this.money = money;
    }
   public int getMoney(){
    return this.money 
}
        } 
```

现在我们将创建 2 个 test() 测试实例： T​​est test1 = new test("test1", 10); 这里test1的实例名称为“test1”，货币值为10。 test test2 = new test("test2", 20); 现在，test1 的实例名称仍然是“test1”，但货币价值现在是 20！当您需要例如计算已创建的实例数量或一般计数时，这可能很有用。它真的很强大，使用静态变量你可以简单地改变每个实例的属性。如果我现在执行 test1.setMoney(1000)，test1.getMoney 将返回 1000，而 test2.getMoney 也将返回 1000，我希望我能帮上忙……

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:33:40.173

您要求示例，这是一个简单的示例：

该类`Integer`有一个`intValue()`方法。它只对这个类的一个实例有意义，所以这个方法不能是静态的。

这个类还有一个`valueOf()`方法，它从指定的`int`. 您不需要现有的实例来调用此方法，因此此方法是静态的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T08:08:57.337

我终于明白了，感谢Maroun Maroun！

对于阅读这个问题的其他人，我想出了一个清晰的方法来解释这个问题（如果我错了，请纠正我！）

假设我们有一个名为 Person 的类。

此类的每个实例都会使用定义他的变量创建一个新人，因此变量“age”和“name”被分配给这个人，因此是非静态的，

此类的每个实例也将总人数加 1，因此此变量值在所有人之间共享，此变量必须是静态的。

```
public class Person {

    private static int amountOfPersons;
    private String name;
    private int age;

    public static void main(String[] args) {
        Person person1 = new Person();
        Person person2 = new Person();
        person1.age = 10;
        person2.age = 20;
        person1.name="Johnny";
        person2.name="Brian";
        System.out.println(person1.amountOfPersons+" "+person1.name+" "+person1.age);
        System.out.println(person2.amountOfPersons+" "+person2.name+" "+person2.age);
    }
    public Person(){
        Person.amountOfPersons++;
    }
} 
```

# sql - 在 SQLite 中拆分字母和数字

> ID：15827878
> 
> 赞同：1
> 
> 时间：2013-04-05T07:08:55.660
> 
> 标签：sql, sqlite

我有一列包含字母和数字（混合/随机）

```
914103B01292AB21HRVH92665 
```

我需要像这样拆分它

```
914103012922192665 -numbers only
BABHRVH            -letters only 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:25:34.413

在 SQLite 中执行此操作的最简单方法是使用一系列 REPLACE 函数 - 如下所示：

```
select replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(the_string, '0', ''),
                                                                               '1', ''),
                                                                       '2', ''),
                                                                '3', ''),
                                                       '4', ''),
                                               '5', ''),
                                       '6', ''),
                                '7', ''),
                         '8', ''),
                 '9', '') as letters_only,
  ... 
```

- 使用类似系列的 26 个`replace`函数调用来去除字母，只留下数字。

或者，您可以编写一个用户定义的函数来为您执行此操作；这是 SQLite 中的一个重要练习 - 请参阅[此问题](https://stackoverflow.com/questions/7867099)。

# php - 无法从 php 更新 MySQL

> ID：15827879
> 
> 赞同：-1
> 
> 时间：2013-04-05T07:08:59.657
> 
> 标签：php, mysql, updating

我一辈子都无法让我的 php 更新我的数据库。我已经让它插入但没有更新。已经持续了2个多小时。我只需要一双新鲜的眼睛！如果有人能解决这个问题..这将是一个巨大的帮助。我可能犯了一些愚蠢的小错误，但是哦。如果我遗漏了你想看的东西，请告诉我。这就是它的发展方向，[http://cbogausch.com/portal/](http://cbogausch.com/portal)

更新.php

```
 <?php
    include("config/db.php");
  if (isset($_POST['submit'])) {
$sql = "UPDATE `secure_login`.`users` SET `link1` = \'$_POST[input_link1]\', `link2` = \'$_POST[input_link2]\', `link3` = \'$_POST[input_link3]\', `link4` = \'$_POST[input_link4]\', `link5` = \'$_POST[input_link5]\', `link6` = \'$_POST[input_link6]\', `link7` = \'$_POST[input_link7]\', `link8` = \'$_POST[input_link8]\', `link9` = \'$_POST[input_link9]\', `link10` = \'$_POST[input_link10]\', `link11` = \'$_POST[input_link11]\', `link12` = \'$_POST[input_link12]\', `pic1` = \'$_POST[input_pic1]\', `pic2` = \'$_POST[input_pic2]\', `pic3` = \'$_POST[input_pic3]\', `pic4` = \'$_POST[input_pic4]\', `pic5` = \'$_POST[input_pic5]\', `pic6` = \'$_POST[input_pic6]\', `pic7` = \'$_POST[input_pic7]\', `pic8` = \'$_POST[input_pic8]\', `pic9` = \'$_POST[input_pic9]\', `pic10` = \'$_POST[input_pic10]\', `pic11` = \'$_POST[input_pic11]\', `pic12` = \'$_POST[input_pic12]\', WHERE `users`.`user_id` = 1;";

mysql_query($sql);// or die mysql_error();
    }
    // class autoloader function, this includes all the classes that are needed by the script
    // you can remove this stuff if you want to include your files manually

    function autoload($class)
    {
        require('classes/' . $class . '.class.php');
    }

    // automatically loads all needed classes, when they are needed
    spl_autoload_register("autoload");

    //create a database connection
    $db    = new Database();

    // start this baby and give it the database connection
    $login = new Login($db);
    ?>
    <?php include('views/header/header.php'); 
    ?>
                    <div style="position:absolute; top:0; right:5%; background-color:#fff; box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); width:450px; height:45px;">
                            <div style="float:left; height:30px;">
                                    <img src="<?php echo "http://www.gravatar.com/avatar/" . md5( strtolower( trim( $_SESSION['user_email'] ) ) ) . "?d=mm&s=40"; ?>" style="width:30px; height:30px; border-radius:15px; border:8px solid #ccc;" />                                
                            </div>      
                            <div style="float:left; height:30px; margin-left:10px; line-height:30px;">
                                <div style="font-size:12px; font-weight:normal;">Hey, <?php echo $_SESSION['user_name']; ?> (<span style="font-size:12px; color:red;"><?php echo substr($_SESSION['user_email'], 0, 15); ?>...</span>). You're logged in. <a href="settings.php">(Settings!)</a> <a href="<?php echo $_SERVER['PHP_SELF']; ?>?logout">(Logout)</a>   </div>
                            </div>
                    </div>
            </div>
    <div style="position:absolute; top:60px; bottom:5%; left:5%; right:5%; background-color:#C0C0C0; box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); width:90%; height:100%; text-align:center;">
        <center>
        <?php echo $_POST["input_link3"] ?>
        <?php include('toggle.php'); ?>
        </br>
        </br>
        <?php include('quote.php'); ?>
        </br>
        </br>   
    <form method="post" action="update.php">
    <div style="background-color:white">
    <table width=75%; border-color=red; style="border:2px solid black;max-width:100%; background-color:white; text-align:center;">
    <tr>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #1</b>
        </br>
        Link URL: 
        <input id="input_link1" class="settings" type="text" name="input_link1" size="40" size="40" value="<?php echo $_SESSION['link1']; ?>" />
        </br>
        Link Image: 
        <input id="input_pic1" class="settings" type="text" name="input_pic1" size="40" size="40" value="<?php echo $_SESSION['pic1']; ?>" />
    </td>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #2</b>
        </br>
        Link URL: 
        <input id="input_link2" class="settings" type="text" name="input_link2" size="40" value="<?php echo $_SESSION['link2']; ?>" />
        </br>
        Link Image:
        <input id="input_pic2" class="settings" type="text" name="input_pic2" size="40" value="<?php echo $_SESSION['pic2']; ?>" />
    </td>          
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #3</b>
        </br>
        Link URL:
        <input id="input_link3" class="settings" type="text" name="input_link3" size="40" value="<?php echo $_SESSION['link3']; ?>" />
        </br>
        Link Image:
        <input id="input_pic3" class="settings" type="text" name="input_pic3" size="40" value="<?php echo $_SESSION['pic3']; ?>" />
    </td>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #4</b>
        </br>
        Link URL:
        <input id="input_link4" class="settings" type="text" name="input_link4" size="40" value="<?php echo $_SESSION['link4']; ?>" />
        </br>
        Link Image:
        <input id="input_pic4" class="settings" type="text" name="input_pic4" size="40" value="<?php echo $_SESSION['pic4']; ?>" />
    </td>
    </tr>
     <tr>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #5</b>
        </br>
        Link URL:
        <input id="input_link5" class="settings" type="text" name="input_link5" size="40" value="<?php echo $_SESSION['link5']; ?>" />
        </br>
        Link Image:
        <input id="input_pic5" class="settings" type="text" name="input_pic5" size="40" value="<?php echo $_SESSION['pic5']; ?>" />
    </td>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #6</b>
        </br>
        Link URL: 
        <input id="input_link1" class="settings" type="text" name="input_link6" size="40" size="40" value="<?php echo $_SESSION['link6']; ?>" />
        </br>
        Link Image: 
        <input id="input_pic1" class="settings" type="text" name="input_pic6" size="40" size="40" value="<?php echo $_SESSION['pic6']; ?>" />
    </td>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #7</b>
        </br>
        Link URL: 
        <input id="input_link1" class="settings" type="text" name="input_link7" size="40" size="40" value="<?php echo $_SESSION['link7']; ?>" />
        </br>
        Link Image: 
        <input id="input_pic1" class="settings" type="text" name="input_pic7" size="40" size="40" value="<?php echo $_SESSION['pic7']; ?>" />
    </td>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #8</b>
        </br>
        Link URL: 
        <input id="input_link1" class="settings" type="text" name="input_link8" size="40" size="40" value="<?php echo $_SESSION['link8']; ?>" />
        </br>
        Link Image: 
        <input id="input_pic1" class="settings" type="text" name="input_pic8" size="40" size="40" value="<?php echo $_SESSION['pic8']; ?>" />
    </td>
    </tr>
     <tr>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #9</b>
        </br>
        Link URL:
        <input id="input_link5" class="settings" type="text" name="input_link9" size="40" value="<?php echo $_SESSION['link9']; ?>" />
        </br>
        Link Image:
        <input id="input_pic5" class="settings" type="text" name="input_pic9" size="40" value="<?php echo $_SESSION['pic9']; ?>" />
    </td>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #10</b>
        </br>
        Link URL: 
        <input id="input_link1" class="settings" type="text" name="input_link10" size="40" size="40" value="<?php echo $_SESSION['link10']; ?>" />
        </br>
        Link Image: 
        <input id="input_pic1" class="settings" type="text" name="input_pic10" size="40" size="40" value="<?php echo $_SESSION['pic10']; ?>" />
    </td>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #11</b>
        </br>
        Link URL: 
        <input id="input_link1" class="settings" type="text" name="input_link11" size="40" size="40" value="<?php echo $_SESSION['link11']; ?>" />
        </br>
        Link Image: 
        <input id="input_pic1" class="settings" type="text" name="input_pic11" size="40" size="40" value="<?php echo $_SESSION['pic11']; ?>" />
    </td>
    <td style="border:2px solid black;max-width:100%;">
        <b>Link #12</b>
        </br>
        Link URL: 
        <input id="input_link1" class="settings" type="text" name="input_link12" size="40" size="40" value="<?php echo $_SESSION['link12']; ?>" />
        </br>
        Link Image: 
        <input id="input_pic1" class="settings" type="text" name="input_pic12" size="40" size="40" value="<?php echo $_SESSION['pic12']; ?>" />
    </td>
    </tr>
    <tr>
    <td></td>
    <td></td>
    <td>
        <input type="submit">
    </td>
    <td>
        <a href="index.php">Back to Main Page</a>
    </td>
    </tr>
    </table>
    </div>
    </form>
    </center>
    </div>

    <?php include('views/footer/footer.php'); ?> 
```

这是我的数据库连接

```
<?php
define("DB_HOST", "cboga*****.com");
define("DB_NAME", "secure_login");
define("DB_USER", "******");
define("DB_PASS", "******");
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:48:24.763

您应该实际执行您的查询`mysql_query()`并请粘贴 LESS 代码，限制在您确定问题所在的位置。我了解您不确定具体在哪里，但拜托，我们愿意提供帮助并不意味着您可以放松。哦，请整理您的代码...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:16:02.127

现在试试

```
<?php
include("config/db.php");
if (isset($_POST['submit'])) {
$sql = "UPDATE `secure_login`.`users` SET `link1` = \'$_POST[input_link1]\', `link2` = \'$_POST[input_link2]\', `link3` = \'$_POST[input_link3]\', `link4` = \'$_POST[input_link4]\', `link5` = \'$_POST[input_link5]\', `link6` = \'$_POST[input_link6]\', `link7` = \'$_POST[input_link7]\', `link8` = \'$_POST[input_link8]\', `link9` = \'$_POST[input_link9]\', `link10` = \'$_POST[input_link10]\', `link11` = \'$_POST[input_link11]\', `link12` = \'$_POST[input_link12]\', `pic1` = \'$_POST[input_pic1]\', `pic2` = \'$_POST[input_pic2]\', `pic3` = \'$_POST[input_pic3]\', `pic4` = \'$_POST[input_pic4]\', `pic5` = \'$_POST[input_pic5]\', `pic6` = \'$_POST[input_pic6]\', `pic7` = \'$_POST[input_pic7]\', `pic8` = \'$_POST[input_pic8]\', `pic9` = \'$_POST[input_pic9]\', `pic10` = \'$_POST[input_pic10]\', `pic11` = \'$_POST[input_pic11]\', `pic12` = \'$_POST[input_pic12]\', WHERE `users`.`user_id` = 1;";

mysql_query($sql);// or die mysql_error();
    }
// class autoloader function, this includes all the classes that are needed by the script
// you can remove this stuff if you want to include your files manually

function autoload($class)
{
    require('classes/' . $class . '.class.php');
}

// automatically loads all needed classes, when they are needed
spl_autoload_register("autoload");

//create a database connection
$db    = new Database();

// start this baby and give it the database connection
$login = new Login($db);
?>
<?php include('views/header/header.php'); 
?>
                <div style="position:absolute; top:0; right:5%; background-color:#fff; box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); width:450px; height:45px;">
                        <div style="float:left; height:30px;">
                                <img src="<?php echo "http://www.gravatar.com/avatar/" . md5( strtolower( trim( $_SESSION['user_email'] ) ) ) . "?d=mm&s=40"; ?>" style="width:30px; height:30px; border-radius:15px; border:8px solid #ccc;" />                                
                        </div>      
                        <div style="float:left; height:30px; margin-left:10px; line-height:30px;">
                            <div style="font-size:12px; font-weight:normal;">Hey, <?php echo $_SESSION['user_name']; ?> (<span style="font-size:12px; color:red;"><?php echo substr($_SESSION['user_email'], 0, 15); ?>...</span>). You're logged in. <a href="settings.php">(Settings!)</a> <a href="<?php echo $_SERVER['PHP_SELF']; ?>?logout">(Logout)</a>   </div>
                        </div>
                </div>
        </div>
<div style="position:absolute; top:60px; bottom:5%; left:5%; right:5%; background-color:#C0C0C0; box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25); width:90%; height:100%; text-align:center;">
    <center>
    <?php echo $_POST["input_link3"] ?>
    <?php include('toggle.php'); ?>
    </br>
    </br>
    <?php include('quote.php'); ?>
    </br>
    </br>   
<form method="post" action="insert.php">
<div style="background-color:white">
<table width=75%; border-color=red; style="border:2px solid black;max-width:100%; background-color:white; text-align:center;">
<tr>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #1</b>
    </br>
    Link URL: 
    <input id="input_link1" class="settings" type="text" name="input_link1" size="40" size="40" value="<?php echo $_SESSION['link1']; ?>" />
    </br>
    Link Image: 
    <input id="input_pic1" class="settings" type="text" name="input_pic1" size="40" size="40" value="<?php echo $_SESSION['pic1']; ?>" />
</td>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #2</b>
    </br>
    Link URL: 
    <input id="input_link2" class="settings" type="text" name="input_link2" size="40" value="<?php echo $_SESSION['link2']; ?>" />
    </br>
    Link Image:
    <input id="input_pic2" class="settings" type="text" name="input_pic2" size="40" value="<?php echo $_SESSION['pic2']; ?>" />
</td>          
<td style="border:2px solid black;max-width:100%;">
    <b>Link #3</b>
    </br>
    Link URL:
    <input id="input_link3" class="settings" type="text" name="input_link3" size="40" value="<?php echo $_SESSION['link3']; ?>" />
    </br>
    Link Image:
    <input id="input_pic3" class="settings" type="text" name="input_pic3" size="40" value="<?php echo $_SESSION['pic3']; ?>" />
</td>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #4</b>
    </br>
    Link URL:
    <input id="input_link4" class="settings" type="text" name="input_link4" size="40" value="<?php echo $_SESSION['link4']; ?>" />
    </br>
    Link Image:
    <input id="input_pic4" class="settings" type="text" name="input_pic4" size="40" value="<?php echo $_SESSION['pic4']; ?>" />
</td>
</tr>
 <tr>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #5</b>
    </br>
    Link URL:
    <input id="input_link5" class="settings" type="text" name="input_link5" size="40" value="<?php echo $_SESSION['link5']; ?>" />
    </br>
    Link Image:
    <input id="input_pic5" class="settings" type="text" name="input_pic5" size="40" value="<?php echo $_SESSION['pic5']; ?>" />
</td>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #6</b>
    </br>
    Link URL: 
    <input id="input_link1" class="settings" type="text" name="input_link6" size="40" size="40" value="<?php echo $_SESSION['link6']; ?>" />
    </br>
    Link Image: 
    <input id="input_pic1" class="settings" type="text" name="input_pic6" size="40" size="40" value="<?php echo $_SESSION['pic6']; ?>" />
</td>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #7</b>
    </br>
    Link URL: 
    <input id="input_link1" class="settings" type="text" name="input_link7" size="40" size="40" value="<?php echo $_SESSION['link7']; ?>" />
    </br>
    Link Image: 
    <input id="input_pic1" class="settings" type="text" name="input_pic7" size="40" size="40" value="<?php echo $_SESSION['pic7']; ?>" />
</td>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #8</b>
    </br>
    Link URL: 
    <input id="input_link1" class="settings" type="text" name="input_link8" size="40" size="40" value="<?php echo $_SESSION['link8']; ?>" />
    </br>
    Link Image: 
    <input id="input_pic1" class="settings" type="text" name="input_pic8" size="40" size="40" value="<?php echo $_SESSION['pic8']; ?>" />
</td>
</tr>
 <tr>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #9</b>
    </br>
    Link URL:
    <input id="input_link5" class="settings" type="text" name="input_link9" size="40" value="<?php echo $_SESSION['link9']; ?>" />
    </br>
    Link Image:
    <input id="input_pic5" class="settings" type="text" name="input_pic9" size="40" value="<?php echo $_SESSION['pic9']; ?>" />
</td>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #10</b>
    </br>
    Link URL: 
    <input id="input_link1" class="settings" type="text" name="input_link10" size="40" size="40" value="<?php echo $_SESSION['link10']; ?>" />
    </br>
    Link Image: 
    <input id="input_pic1" class="settings" type="text" name="input_pic10" size="40" size="40" value="<?php echo $_SESSION['pic10']; ?>" />
</td>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #11</b>
    </br>
    Link URL: 
    <input id="input_link1" class="settings" type="text" name="input_link11" size="40" size="40" value="<?php echo $_SESSION['link11']; ?>" />
    </br>
    Link Image: 
    <input id="input_pic1" class="settings" type="text" name="input_pic11" size="40" size="40" value="<?php echo $_SESSION['pic11']; ?>" />
</td>
<td style="border:2px solid black;max-width:100%;">
    <b>Link #12</b>
    </br>
    Link URL: 
    <input id="input_link1" class="settings" type="text" name="input_link12" size="40" size="40" value="<?php echo $_SESSION['link12']; ?>" />
    </br>
    Link Image: 
    <input id="input_pic1" class="settings" type="text" name="input_pic12" size="40" size="40" value="<?php echo $_SESSION['pic12']; ?>" />
</td>
</tr>
<tr>
<td></td>
<td></td>
<td>
    <input type="submit">
</td>
<td>
    <a href="index.php">Back to Main Page</a>
</td>
</tr>
</table>
</div>
</form>
</center>
</div>

<?php include('views/footer/footer.php'); ?> 
```

# c++ - 为 QTableWidget 中的单元格设置默认对齐方式

> ID：15827886
> 
> 赞同：21
> 
> 时间：2013-04-05T07:09:22.237
> 
> 标签：c++, qt, qtablewidget, text-alignment

我知道您可以使用以下方法设置每个项目的对齐方式：

```
TableWidget->item(0,0)->setTextAlignment(Qt::AlignLeft); 
```

但是，我想为所有单元格设置默认对齐方式，以便不必在每次创建新项目时都设置它。是否可以？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-05T08:09:31.923

是的，有可能。但是您需要了解您不是在修改表格小部件的属性，而是表格小部件项的属性。首先创建自己的项目，然后根据需要进行设置

```
 QTableWidgetItem * protoitem = new QTableWidgetItem();
 protoitem->setTextAlignment(Qt::AlignLeft);
 etc... 
```

然后每次你想创建一个新项目而不是使用你使用的构造函数

```
 QTableWidgetItem * newitem = protoitem->clone();
 tableWidget->setItem(0,0, newitem); 
```

克隆（未经测试）的另一种替代方法是在您的表格小部件上[设置原型](http://qt-project.org/doc/qt-4.8/qtablewidget.html#setItemPrototype)

```
QTableWidget::setItemPrototype ( const QTableWidgetItem * item ) 
```

如果您使用的是 Ui 或者项目是可编辑的，则最后一个可能更合适。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-04-05T08:21:03.073

我认为没有现成的方法可以解决这个问题，但这里有两种可行的方法：

* * *

1.) 子类 QTableWidgetItem

```
MyTableWidgetItem::MyTableWidgetItem() :
    QTableWidgetItem()
{
    setTextAlignment( Qt::AlignLeft );
} 
```

但是，对于单个设置来说，这可能有点矫枉过正 + 您可能想要重载[QTableWidgetItem](http://qt-project.org/doc/qt-4.8/qtablewidgetitem.html#QTableWidgetItem)的所有四个构造函数。

* * *

2.) 另一种方法是[使用工厂而不是调用 new](http://misko.hevery.com/2008/07/08/how-to-think-about-the-new-operator/)：
*注意：链接的文章讨论了单元测试，但这样做还有更多优势。*

```
QTableWidgetItem* MyTableWidgetFactory::createTableWidgetItem( const QString& text ) const
{
    QTableWidgetItem* item = new QTableWidgetItem( text );
    item->setTextAlignment( Qt::AlignLeft );
    return item;
} 
```

然后代替

```
QTableWidgetItem* myItem = new QTableWidgetItem( "foo" );
item->setTextAlignment( Qt::AlignLeft ); 
```

你可以做

```
QTableWidgetItem* myItem = myFactory->createTableWidgetItem( "foo" ); 
```

`myFactory`的对象在哪里`MyTableWidgetFactory`。

# algorithm - 来自非统一表的所有可能组合，每列只有一个值

> ID：15827887
> 
> 赞同：2
> 
> 时间：2013-04-05T07:09:23.230
> 
> 标签：algorithm, language-agnostic, permutation, combinations

**背景**

在我学校的 11 年级，我们需要从预定义的科目列表中选修 4 门科目和英语。今天，我们得到了一个网格，可以帮助我们进行组合，这样您就只能从每一列中选择一个主题。

**网格**

```
|    Economics     |   Maths  | Psychology/Politcal Science |                     English                      |     Geography    |
| Hindi/Psychology |  History |          Sociology          |                       Art                        | Elective English |
|      Maths       |  Account |          Commerce           |                    Economics                     |      English     |
|     English      |  Physics |          Chemistry          | Biology/Computer Applications/Mecahnical drawing |       Maths      | 
```

**问题**

我正在尝试编写一个程序来列出该表中所有可能的合法组合。规则是：

*   必须有英语
*   总共必须只有五个科目（英语+ 4）
*   没有两个主题可以来自同一列
*   最后五门科目不得重复（注意选修英语和英语是不同的科目）

现在，如果它是一个正常的 4 x 5 矩阵，这将是一个非常简单的任务。但是，[第 1 行第 3 列]、[第 2 行第 1 列] 和 [第 4 行第 4 列] 包含多个主题，您仍然只能从中选择一个。因此，与任何这些单元格的任何组合都可以细分为更多组合。

我很难为此提出一个算法。我不是要求免费代码，而是帮助算法。我对大多数主要语言（Java、JavaScript、PHP 等）都很熟悉，并且伪代码和流程图也可以使用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T09:43:04.313

理论上，该解决方案可以适用于无限数量的列以及列中无限且变化的行数。

1.  在填充列时将多主题行拆分为单独的行。
2.  将列放在一个数组中，并以包含英语的列在前对其进行排序。
3.  在任何列中仍然有英语的情况下迭代以下内容（我们将一一删除）：
    1.  总是取第一列。它包含英语。
    2.  选择它的英文作为本次迭代中所有组合的第一个元素。
    3.  递归地从其他列构造所有组合，注意消除重复。可行的，如果你绕过你当前的组合。
    4.  从此列中删除英文并再次对列进行排序（根据它们是否有英文）。

这应该会为您提供所有以英语开头的组合并消除所有重复项。

**编辑**：我实现了上面的解决方案，它似乎工作。在这里检查 - [https://github.com/zupper/so-answers/tree/master/RaghavCombos](https://github.com/zupper/so-answers/tree/master/RaghavCombos)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T09:11:04.017

出于所有实际目的，包含两个主题的行本质上是两行。因此，表中的第 1 列实际上包含 5 行，而不是 4 行。

我要做的第一件事。如果给定这样的数据集。是将两个主题行展平。像这样的东西（伪代码）：

```
// Assuming:
grid = [
    [ economics, hindi/psychology, maths, english ] ,
    [
      // the rest is as per your table ...
    ],
]

foreach list grid {
    tmp = []
    while (list not empty) {
        item = list.pop()
        tmp.push(item.split('/'))
    }
    list = tmp
} 
```

然后只需迭代每一列并丢弃不包含英文或包含重复项的结果：

```
result = []

foreach item1 grid[0] {
  foreach item2 grid[1] {
    foreach item3 grid[2] {
      foreach item4 grid[3] {

        tmp = [item1,item2,item3,item4]

        if (not tmp.contains_duplicate && tmp.contains(english)) {
            result.push(tmp)
        } 
      }
    }
  }
} 
```

嵌套的 for 循环基本上是您遍历所有组合的方式。您可以添加任何要过滤掉不需要的结果的条件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T09:13:49.537

我将从处理具有多个值的单元格开始。我们可以将第一列转换为以下列表：

```
Economics
Hindi
Psychology
Maths
English 
```

由于您只能在每一列中选择一个类，这不会引入任何问题，并且可以针对每一列进行。

现在，处理英语有点不同。我将把不同的列称为句点。您知道学生必须在第 1 期、第 4 期或第 5 期学习英语。

因此，在第 1 列中列出所有选择了英语的组合。接下来，在第 4 列中列出所有选择了英语的组合。然后在第 5 列中列出所有选择了英语的组合。

您需要决定学生是否可以在多个栏中选择英语。如果是这样，您将需要单独处理这些，因此您不会重复计算，如下所示：

*   仅在第 1 列中与英语组合
*   仅在第 4 栏中与英语组合
*   仅在第 5 栏中与英语组合
*   仅在第 1,4 列中与英语组合
*   仅在第 1,5 列中与英语组合
*   仅在第 4,5 列中与英语组合
*   仅在第 1、4、5 列中与英语组合

它确实有点复杂，但这样你就不会多算，并且能够列出所有组合。

# c++ - OpenCV 找不到图片

> ID：15827890
> 
> 赞同：3
> 
> 时间：2013-04-05T07:09:32.467
> 
> 标签：c++, visual-studio, visual-c++, opencv

我正在尝试在这里找到的基本教程[http://bsd-noobz.com/opencv-guide/40-1-load-and-display-an-image](http://bsd-noobz.com/opencv-guide/40-1-load-and-display-an-image)处理加载和显示图像。我在 Visual Studio 2012 中进行操作。

我已将图像文件“lena.png”放在 exe 文件旁边的 Debug 文件夹中。当我尝试从终端执行 exe 文件时，它只会回复“无法加载图像！”。我也在 Release 文件夹中尝试过，结果相同。

这是我的程序代码：

```
#include <opencv2/highgui/highgui.hpp>
#include <iostream>

using namespace cv;
using namespace std;

int main(int argc, char** argv)
{
    if(argc > 1){
        cout << argv[1] << endl;
    }

    Mat img = imread("lena.png", CV_LOAD_IMAGE_COLOR);

    if (img.empty())
    {
        cout << "Cannot load image!" << endl;
        return -1;
    }

    namedWindow("image", CV_WINDOW_AUTOSIZE);
    imshow("image", img);
    waitKey(0);

    return 0;
} 
```

我不明白为什么会发生这种情况，图片与 .exe 位于同一目录中，我正在按照示例代码进行操作。请帮助我理解为什么找不到文件！

编辑：哈哈哈哈哈哈我修好了。由于我正在运行调试版本并且它工作正常，因此我将所有额外的依赖项从 *.lib 更改为 *d.lib，我非常生气。如果我阅读有关如何使用 opencv 的教程，它会说存在差异，但是自从它编译后，我认为它会起作用。我现在将尝试发布版本，看看它是否有效（当然要更改依赖项）。

编辑2：是的，它有效。因此，我自己的问题的答案是，您需要将包含文件夹中的正确 .lib 文件链接为调试和发布版本的依赖项。以“d”结尾的用于调试，其他用于发布。现在我发现问题可能并不那么令人惊讶，但它确实存在。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:14:29.377

也许它与`imread`. 尝试使用一种或任何有效的图像格式。从[这里](http://opencv.willowgarage.com/documentation/cpp/reading_and_writing_images_and_video.html#cv-imread)`.jpg`引用，

`The function imread loads an image from the specified file and returns it. If the image can not be read (because of missing file, improper permissions, unsupported or invalid format), the function returns empty matrix ( Mat::data==NULL ).`

# node.js - Nodejs 表达请求标头 - 获取引荐来源网址等。

> ID：15827891
> 
> 赞同：6
> 
> 时间：2013-04-05T07:09:34.097
> 
> 标签：node.js, express

我收到一个来自支付网关 https 的帖子来验证付款等。我需要验证帖子是否来自域。

我试图验证引荐来源网址是否来自某个域列表，但在我的 req.headers 中我没有看到引荐来源|引荐来源选项：

```
{ 'x-real-ip': '123.34.45.176',
  'x-forwarded-for': '123.34.45.176',
  host: 'my.foo.com',
  'x-nginx-proxy': 'true',
  connection: 'close',
  'user-agent': 'Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)',
  accept: '*/*',
  'content-length': '441',
  'content-type': 'application/x-www-form-urlencoded' } 
```

为什么我的标题中没有引用者、来源等字段？

这是在一个帖子里面：

```
app.post('/payment/notify/', function(req, res){
   req.headers
}) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-05T07:12:23.113

并非所有请求都有引用标头。

如果浏览器上的最后一页是安全服务器 (https)，​​则它不会向您传输引荐来源网址。

此外，如果您的用户在他们的地址栏中输入您的地址，您也不会获得推荐人。

# php - codeigniter 编辑详细信息页面

> ID：15827895
> 
> 赞同：0
> 
> 时间：2013-04-05T07:09:54.257
> 
> 标签：php, codeigniter, codeigniter-2

我有一个页面，用户可以在其中编辑他输入的关于自己的信息。这是代码：

```
<html>
<head>
<title></title>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8'>

</head>
<body dir="rtl">

<?php echo form_open('profile/edit'); ?>

<h5>الاسم الكامل</h5>
<input type="text" name="fullname" value="<?php echo $fullname; ?>" />

<h5>الايميل</h5>
<input type="text" name="email" value="<?php echo $email; ?>"  />

<h5>الجوال</h5>
<input type="text" name="mobile" value="<?php echo $mobile; ?>"  />

<h5>هاتف</h5>
<input type="text" name="telephone" value="<?php echo $telephone; ?>" />

<h5>العنوان</h5>
<input type="text" name="address" value="<?php echo $address; ?>"  />

<h5>نبذة عني</h5>
<textarea rows="4" cols="50" name="about" value="<?php echo $about; ?>"> </textarea>
<br><br>

<div><input type="submit" value="Submit" /></div>

</form>

</body>
</html> 
```

现在，当我提交时，它向我显示了这些错误：

![在此处输入图像描述](https://i.stack.imgur.com/V4vKr.png)

我不知道发生了什么。这只发生在我提交带有编辑数据的表单时。否则，它首先会在字段中加载正确的详细信息。

非常感谢您的帮助：:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:18:46.037

试试看 。

```
<html>
<head>
<title></title>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8'>

</head>
<body dir="rtl">

<?php echo form_open('profile/edit'); ?>

<h5>الاسم الكامل</h5>
<input type="text" name="fullname" value="<?php echo (!empty($fullname)?$fullname:""); ?>" />

<h5>الايميل</h5>
<input type="text" name="email" value="<?php echo (!empty($email)?$email:""); ?>"  />

<h5>الجوال</h5>
<input type="text" name="mobile" value="<?php echo(!empty($mobile)?$mobile:""); ?>"  />

<h5>هاتف</h5>
<input type="text" name="telephone" value="<?php echo (!empty($telephone)?$telephone:""); ?>" />

<h5>العنوان</h5>
<input type="text" name="address" value="<?php echo (!empty($address)?$address:""); ?>"  />

<h5>نبذة عني</h5>
<textarea rows="4" cols="50" name="about" value="<?php echo (!empty($about)?$about:""); ?>"> </textarea>
<br><br>

<div><input type="submit" value="Submit" /></div>

</form>

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:20:01.597

您是否有任何理由不使用表单助手类来生成字段？确保类是通过`$this->load->helper('form');`首先加载的。您可以通过 使用表单输入助手`echo form_input('username', 'johndoe');`。此外，您的问题在于您的`value`领域。`$fullname`没有价值，因此您需要通过以下方式进行补偿：

```
// using HTML
<input type="text" name="fullname" value="<?php echo isset($fullname) ? $fullname : ''; ?>" />

// using form_input()
$data = array(
    'type' => 'text',
    'name' => 'fullname',
    'value' => isset($fullname) ? $fullname : ''
);
echo form_input($data); 
```

希望这可以帮助你！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:40:19.903

您确定将值设置为包含所有用户信息（如电子邮件等）的视图吗？最好在使用用户信息查看之前检查您是否重新填充信息。

并在视图中检查变量是否已设置 `(!empty($fullname)? echo $fullname: '');`

希望这会有所帮助！

# javascript - 修改复选框值但未单击时调用事件

> ID：15827897
> 
> 赞同：-2
> 
> 时间：2013-04-05T07:10:01.127
> 
> 标签：javascript, jquery, html

我有一个包含宽度值的下拉列表：

*   val1
*   val2
*   val3
*   全部

而且我还有三个复选框：

*   val1
*   val2
*   val3

复选框负责一个进度条，它们都有一个`onclick`功能并且它们运行良好。我也想让它们在我使用`dropdown`列表时工作，但我做不到。因此，当我从`dropdown`列表中选择一个值时，它会修改复选框`checked`属性，但对进度条没有影响，我不知道为什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:14:42.653

如果您使用的是 jQuery（根据您的标签，您现在是这样），请为该`change`事件设置一个事件处理程序。但是您必须`change`手动触发事件，因为您以编程方式更改值。

有关手动触发`change`事件的一些信息，[请参阅此问题](https://stackoverflow.com/questions/4869981/why-isnt-my-checkbox-change-event-triggered)

# arrays - 无法解决的perl错误？

> ID：15827901
> 
> 赞同：2
> 
> 时间：2013-04-05T07:10:29.820
> 
> 标签：arrays, perl, multidimensional-array

```
use strict;
my @array = ();
my @nums = [3, 4];
foreach my $i ( 0 .. 10 ) {
    foreach my $j ( 0 .. 10 ) {
        $nums[0] = 4+1;
        push @{ $array[$i] }, @nums;
    }
}
print $array[6][2][0]. "\n"; 
```

正如人们可以看到他们是否运行代码，这不能正常运行。但是，如果您注释掉“$nums[0] = 4+1;”这一行，它运行良好。到底是怎么回事？只能将不可变数组推到其他数组上吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T07:21:27.660

`@nums`是一个数组，您分配给一个数组引用（带括号`[]`）。因此，将其更改为正确的数组声明：`my @nums = (3, 4);`

```
use strict;
use Data::Dump;

my @array = ();
my @nums = (3, 4);
foreach my $i ( 0 .. 10 ) {
    foreach my $j ( 0 .. 10 ) {
        $nums[0] = 4+1;
        push @{ $array[$i] }, @nums;
    }
}

dd @array;

#-- output:
(
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
  [5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4],
) 
```

# php - 如何扩展 ZF2 框架应用程序 - 具有外键的实体

> ID：15827905
> 
> 赞同：4
> 
> 时间：2013-04-05T07:10:39.883
> 
> 标签：php, zend-framework2

根据 Zend 用户指南，我的 ZF2 框架应用程序运行良好。但是现在我正在兜圈子，试图扩展应用程序，以便专辑的艺术家不再是字符串，而是我数据库中艺术家表的外键。

我已经创建了所有必要的模型、控制器、视图来创建、编辑和查看艺术家，它们也可以正常工作。但是如何将两者结合起来，以便我的专辑列表显示艺术家的名字？

我是否[按照这里的建议](https://stackoverflow.com/questions/12764080/zf2-how-to-use-the-hydrator-exchangearray-to-populate-a-nested-object)使用保湿剂策略？如果是这样，我该如何实施？Zend\Stdlib\Hydrator\Strategy 手册没有告诉我在哪里注册 hydrator 策略。是的，有一个简短的实现代码：

```
$foo = new Foo();
$foo->setFoo("bar");
$foo->setBar("foo");

$hydrator = new ClassMethods();
$hydrator->addStrategy("foo", new Rot13Strategy()); 
```

但这会去哪里？在我的专辑控制器中？为什么每个人都说保湿剂“主要用于表格”？

或者说，保湿剂不是我想要的吗？我在寻求解决方案时不断遇到的另一件事是依赖注入。我再次找到了这种[教程](http://framework.zend.com/manual/2.1/en/tutorials/quickstart.di.html)，但是在使用 A、B 和 C 类时，不告诉我所有这些代码片段的去向，这对理解这个概念没有多大帮助。

我认为我想做的事情很常见，而且我很惊讶我找不到任何现实世界的教程。经过数小时的研究，我确信我非常接近突破 - 但我再也看不到它了，需要推动。谢谢 ：-）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-05T09:30:56.877

当您需要从对象/实体中获取数据或从对象/实体中获取数据时，可以使用水合器，这可能是在使用表单时，也可能是在从存储中保存或加载实体时。

我不会使用 Hydrator 来用相关对象填充您的对象（例如，将反对象对象添加到您的相册中）。我会把它留给你的服务/映射器。

这是我如何做的一个例子：

**相册.php**

```
<?php
class Album
{
     // .. properties / getters/setters etc ..

     public function setArtist(ArtistInterface $artist)
     {
         $this->artist = $artist;
     }

     public function getArtist()
     {
          return $this->artist;
     }
} 
```

AlbumHydrator.php

这可能会有所不同，您将使用 getter/setter 或属性，查看基本 hydrators 以决定您要走哪条路线..

您的 Hydrator 将获取组装对象，并返回显示表单或保存到持久性等所需的数据。

```
<?php
class AlbumHydrator // extends Zend\Stdlib\Hydrator\ClassMethods
{
    public function extract($object)
    {
         return array(
             'artist_id'   => $object->getArtist()->getId(),
             'albumn_name' => $object->getAlbumName()
         )
    }

    // .. etc
} 
```

**专辑服务.php**

```
<?php
use Zend\ServiceManager\ServiceManagerAwareInterface;
use Zend\ServiceManager\ServiceManager; 

class AlbumService  implements ServiceManagerAwareInterface
{
    /**
     * Get an album, we'll also load any related objects here
     *
     * @param int
     */
    public function find($id)
    {
        $album = $this->_getAlbumMapper()->find($id);
        $artist = $this->_getArtistMapper()->findByAlbum($id);
        $album->setArtist($artist);

        return $album;
    }

     /**
     * Get the Mapper
     * 
     * @return  Application\Mappers\AlbumMapper
     */
    protected function _getAlbumMapper()
    {
        return $this->getServiceManager()
            ->get('AlbumMapper')
        ;
    }

    // ..
} 
```

您将在 Service Manager 配置中设置您的服务，如下所示：

```
'AlbumService' => function($sm) {
    $mapper = $sm->get('AlbumMapper');
    $service = new Application\Service\AlbumService();
    $service->setAlbumMapper($mapper);

    return $service;
}, 
```

然后，您使用您的服务来创建您需要的对象图。您将为每个实体拥有单独的映射器，并且服务可以使用映射器来生成您需要的对象。

通常每个实体都有一个 Hydrator，映射器会使用它们为您填充对象。这取决于您的实现，您可能正在使用 TableGateway 或其他东西而不是映射器，这仍然可以正常工作。

现在是在控制器内部访问对象的示例

SomeController.php

```
public function albumAction()
{
    $id = (int) $this->params()->fromRoute('id', FALSE);
    if( ! $id) {
        // do something with errors etc ..
        return $this->redirect()->toRoute('default_route', array(
            'controller'    => 'index',
            'action'        => 'index'
        ));
    }
    $request = $this->getRequest();

    $album = $this->getServiceLocator()->get('AlbumService')->find($id);
    $artistName = $album->getArtist()->getName();

    return new ViewMdoel(
       'album'      => $ablum,
       'artistName' => $artistName
    );
} 
```

使用集合时填充对象图有点棘手，但我倾向于使用延迟加载和虚拟代理进行这种设置，这基本上会延迟加载您需要的对象，直到您需要它们，检查这些：

[http://phpmaster.com/intro-to-virtual-proxies-1/](http://phpmaster.com/intro-to-virtual-proxies-1/) [http://phpmaster.com/intro-to-virtual-proxies-2/](http://phpmaster.com/intro-to-virtual-proxies-2/)

# c# - 在卷纸中从 PDF 文件打印数据的代码

> ID：15827908
> 
> 赞同：1
> 
> 时间：2013-04-05T07:10:50.340
> 
> 标签：c#

我正在开发计费应用程序，在该项目中我需要生成 PDF，为此我使用“iTextSharp.dll”生成 pdf，它工作正常。生成 PDF 后，我需要在点阵打印机（卷纸）中打印该 PDF 文件，我想在数据结束后停止打印机（如果有 5 行数据，它应该只打印 5 行）。我的代码如下：

```
PdfWriter writer = PdfWriter.GetInstance(document, new FileStream("d:\\Bill1.pdf", FileMode.Create));
document.Open();
document.Add(table1);
PdfAction action = new PdfAction(PdfAction.PRINTDIALOG);
writer.setOpenAction(action);
document.close(); 
```

# css - DIV 背景图像在 Firefox 或 Chrome 中不显示（但仅在线显示）。在线它适用于IE？

> ID：15827909
> 
> 赞同：1
> 
> 时间：2013-04-05T07:10:58.607
> 
> 标签：css, image, html, background

我遇到了一些无法正确显示图像的问题。在过去的一个小时里，我一直在网上搜索并尝试了各种不同的想法，但我被难住了。在这个网页上，我有一些文本“Vitant”的图像，当我离线工作时，它在所有浏览器中都显示得很好。

在我将网站上传到我的虚拟主机后，无论出于何种原因，这张背景图片都不再出现在 Firefox 和 chrome 中。但是，它在 IE 中显示得很好。它在 Firefox 和 Chrome 的移动版本中也显示得很好。

我将此图像用作 div (#vitant-text) 的背景图像。

网页：[http ://www.joshhemmyonline.com/vitant_test](http://www.joshhemmyonline.com/vitant_test)

图片链接： http: [//www.joshhemmyonline.com/vitant_test/_images/vitant_ad_banner_text.png](http://www.joshhemmyonline.com/vitant_test/_images/vitant_ad_banner_text.png)

*注意：有问题的图像应显示在文本“改善睡眠和更多能量的 2 步治疗”的正上方

相关的 id 是#vitant-text

源 HTML：

```
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Vitant: The 2-Step SLEEP/ENERGY Solution. Inquire about a sample today!</title>
<link href="_css/style.css" rel="stylesheet" type="text/css">
</head>

<body>

    <header>

        <div id="header-container">

            <a href="#" id="logo" name="top">Vitant Sleep & Wakefulness Aid</a>
            <div id="main-banner"></div>
            <div id="sample-div">

                <h1>Try a Sample</h1>
                <p>* No Cancellation Required<br />
                * No Obligation</p>

                <form action="" method="post">
                    <input name="" type="text" id="name_text_field" Value="Name..." onfocus="if(this.value==this.defaultValue)this.value='';" onblur="if(this.value=='')this.value=this.defaultValue;">
                    <input name="" type="text" id="email_text_field" Value="Email..." onfocus="if(this.value==this.defaultValue)this.value='';" onblur="if(this.value=='')this.value=this.defaultValue;">
                    <input name="" type="image" src="_images/tryitout_button_BLANK.png" id="submit-button-form">
                </form>

            </div>
            <div id="vitant-box"></div>

        </div>

    </header>

    <section>

        <div id="content_container">

            <div id="vitant-text"></div>
            <h1 id="contentHeadingText">The 2 Step Treatment for <span>Better Sleep</span> & <span>More Energy</span></h1>

            <div id="work-div">

                <h1>How Does it Work?</h1>

            </div>

            <div id="nightly-supplement-div">

                    <h1>Nightly Supplement Ingredients</h1>
                    <p class="instructions">*Take one tablet before going to bed to promote relaxtion
and drowsiness to aid in falling (and staying) asleep.</p>

                    <p class="ingredient-text">
                    <span>Melatonin</span> is a hormone that is naturally produced in the brain.
Studies have shown that melatonin plays a role in sleep and 
wake cycles. Insufficient levels of melatonin in one’s body is a 
common cause of certain sleep disorders. The use of melatonin 
supplements can help improve and regulate the normal
sleep cycle.</p>
<p class="ingredient-text">
                    <span>L-Theanine</span> is an amino acid that has been shown to both 
calm the brain and to enhance concetration. This amino acid 
comes from tea leaves. Tea has been used for centuries for its 
calming and relaxing symptoms provided to its drinkers. 
Studies suggest that L-Theanine is largely responsible for this.</p>
<p class="ingredient-text">
                    <span>GABA</span> (better known as γ-Aminobutyric acid) is an amino acid 
that has been shown to regulate & relax the body’s neurological 
system. It has also been shown to have a significant role in 
regulating and sustaining muscle tone within the human body.</p>
<p class="ingredient-text">
                    <span>5-HTP</span> is an amino acid (5-Hydroxytryptophan). The body 
produces 5-HTP from Tryptophan, another amino acid, and 
converts it to serotonin, an important chemical for regulating 
the brain and for mood-enchancements. Serotonin is also 
responsible for hunger and sleep.</p>
<p class="ingredient-text">
                    <span>Lemon Balm</span> is a perennial herb from the mint family. The 
leaves have been used to treat many afflictions from stomach 
disorders to Alzheimer’s disease. Leomon balm contains chemicals 
that have a sedative and calming effect.</p>
<p class="ingredient-text">
                    <span>Passion Flower</span> is a medicinal herb that has long been used 
as a sedative.</p>
<p class="ingredient-text">
                    <span>Chamomilla Recutita</span> is a daisy-like plant that bas been
used throughout the centuries for its medicinal uses. Along
with being used to treat stomach ailments and as an 
anti-inflammatory, the plant has also traditionally been used as 
a sleep aid for its relaxing properties.</p>
<p class="ingredient-text">
                    <span>Valerian</span> has been used for thousands of years throughout
Europe and Asia as a sedative. Studies suggest that valerian is
effective at helping people with insomnia. It can help provide
a better-quality sleep and can help to fall asleep quicker.</p>

            </div>
            <div id="vertical-divider"></div>
            <div id="daily-supplement-div">

                    <h1>Daily Supplement Ingredients</h1>
                    <p class="instructions">*Take one tablet first thing in the morning to provide your
body with effective energy to wake you up fast!</p>

                    <p class="ingredient-text">
                    <span>Caffeine</span> is the world’s most effective & powerful over-the-counter
mental altertness and energy aid.</p>
<p class="ingredient-text">
                    <span>Green Tea Extract</span> is a rising start in for its numerous health
benefits. Green Tea is effective for providing energy and according
to the University of Maryland Medical Center, it may boost the
metabolism and help burn fat.</p>
<p class="ingredient-text">
                    <span>Essential Vitamins</span> are important for every day good health,
well-being, and energy. We’ve packed plenty of Vitamin B3, B6, B9,
B2, and B12 into this supplement for that extra kick in the morning.</p>
<p class="ingredient-text">
                    <span>Ginko Biloba</span> is derived from a tree which has been used medic-
inally for thousands of years. Evidence seems to suggest that it is
useful for memory enhancement and mental clarity.</p>
<p class="ingredient-text">
                    <span>Ginseng</span> is an herb that is known to increase energy, have certain
anti-fatigue components, relieves stress, and increase memory.</p>
<p class="ingredient-text">
                    <span>Dimethylaminoethanol (DMAE)</span> is an organic compound.
Short-term studies have shown this compound to provide an 
increase in alertness with a positive influence on mood.</p>
<p class="ingredient-text">
                    <span>Taurine</span> is an amino acid that helps regulate heartbeat, muscle
contractions, and energy levels.</p>
<p class="ingredient-text">
                    <span>Guarana</span> comes from plants in South America. It has long been
used to increase energy and mental alertness. Guarana contains
caffeine, theobromine, and theophylline, which are all known
stimulants.</p>
<p class="ingredient-text">
                    <span>Antioxidants</span> come in various forms, which have been added
to our daily supplement. Vitamins A, C, and E all have antioxidant
properties. Antioxidants have a power effect on your health and
energy levels.</p>
<p class="ingredient-text">
                    <span>Glucuronolactone (DGL)</span> is believed to aide in detoxification, 
freeing hormones and other chemicals, and the biosynthesis of 
vitamin C. It is used to help with glycogen depletion by preventing 
other substances from depleting glycogen supplies in the muscles.</p>
<p class="ingredient-text">
                    <span>Yerba Mate</span> is derived from the leaves of a shrub. This herb is
an all-natural source of caffeine. A form that many believe does
not produce any negative side effects.</p>
<p class="ingredient-text">
                    <span>L-theanine</span> is an amino acid, derived from tea leaves, that 
has been shown to calm the brain while also enhancing con-
centration.</p>

            </div>

                        <div id="creator-message-div">
                                <h1>Message from the creator:</h1>
                                <p class="create-message">“Waking up in the morning has long been a difficult task for me. Even after my alarm clock rings I still am in the ‘wake-up’ phase for a good
20-30 minutes, only actually waking up once I get done drinking my morning cup of coffee. I knew I needed something to help me get 
going faster in the morning and I also knew I needed to improve my poor sleeping habits, which were taking valuable energy from 
my morning routine. Thus, I created two supplements as part of a daily 2-step regimen. This regimen is safe for everyday use and the 
two supplements work together to help provide me a better night’s sleep and to get the energy that I require in the morning.”&lt;br />
<span>-Josh Hemmy (Vitant Creator)</span></p>
                        </div>

        </div>

    </section>

    <footer>

        <div id="footer-container">

                <p class="footer-tagline1">Start your journey to the <span>best sleep</span></p>
                <p class="footer-tagline2">and <span>most energy</span> that you have ever experienced!</p>
                <p class="obligationtext">There is No Obligation & Nothing To Cancel</p>
                <a href="#top" class="footerbutton">Try It Out</a>
                <div id="vitant-footer-logo"></div>

        </div>

    </footer>

</body>
</html> 
```

源 CSS：

```
@charset "utf-8";
/* CSS Document */

/********** CSS RESET **********/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
    display: block;
}
body {
    line-height: 1;
}
ol, ul {
    list-style: none;
}
blockquote, q {
    quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
    content: '';
    content: none;
}
table {
    border-collapse: collapse;
    border-spacing: 0;
}

/********** MAIN BODY STYLES **********/

body {
    font-family: Verdana, Geneva, sans-serif;
    font-size: 62.5%;
    background: #fff;
}

/********** HEADER STYLES **********/

header {
    display: block;
    height: 467px;
    background: url(../_images/header_main_bg.png) repeat-x 0 0;
}
#header-container {
    display: block;
    width: 1000px;
    margin: 0 auto; 
    height: 467px;
    position: relative;
}
#logo {
    float: left;
    display: block;
    width: 244px;
    height: 115px;
    background: url(../_images/logo.png) no-repeat 0 0;
    text-indent: -9999px;
    margin: 36px 0 0 47px;
}
#main-banner {
    width: 1000px;
    height: 304px;
    position: relative;
    top: 163px;
    background: url(../_images/main_banner.png) no-repeat 0 0;
}
#sample-div {
    position: relative;
    top: -241px;
    left: 604px;
    display: block;
    width: 291px;
    height: 306px;
    background: url(../_images/sample_form_bg.png) repeat-x 0 0;
    border: 2px solid #b3b3b3;
    -webkit-border-radius: 10px;
    border-radius: 10px;
}
#vitant-box {
    display: block;
    width: 321px;
    height: 183px;
    background: url(../_images/vitant_box.png) no-repeat 0 0;
    position: absolute;
    top: 349px;
    left: 73px;
}
#sample-div h1 {
    text-align: center;
    font-size: 24px;
    font-weight: bold;
    color: #2a3333;
    margin-top: 21px;
}
#sample-div p {
    color: #2a3333;
    font-size: 11px;
    margin: 15px 0 0 30px;
}
#name_text_field {
    margin: 18px 0 0 26px; 
    padding-left: 30px;
    padding-right: 5px;
    width: 205px;
    height: 32px;
    background: url(../_images/name_textfield.png) no-repeat 0 0;
    border: none;
    color: #2a3333;
    font-size: 20px;
}
#email_text_field {
    margin: 18px 0 0 26px;
    padding-left: 30px;
    padding-right: 5px;
    width: 205px;
    height: 32px;
    background: url(../_images/email_textfield.png) no-repeat 0 0;
    border: none;
    color: #2a3333;
    font-size: 20px;
}
#submit-button-form {
    display: block;
    width: 232px;
    height: 55px;
    background: url(../_images/tryitout_button.png) no-repeat 0 0;
    margin: 29px 0 0 30px;
}
#submit-button-form:hover {
    background-position: 0 -55px;   
}

/********** CONTENT STYLES **********/

section {
    display: block;
    width: 100%;
    min-height: 658px;
    background: #f2f2f2 url(../_images/content_main_bg.png) repeat-x 0 0;   
}
#content_container {
    margin: 0 auto;
    display: block;
    width: 1000px;
    min-height: 658px;
    overflow: hidden;
}
#vitant-text {
    float: left;
    width: 1000px;
    height: 65px;
    background: url(../_images/vitant_ad_banner_text.png) no-repeat 0 0;    
    margin-top: 65px;

}
h1#contentHeadingText { 
    font-family: Verdana, Geneva, sans-serif;
    font-size: 28px;
    text-align: center;
    color: #2a3333;
}
h1#contentHeadingText span {
    color: #9e3b02; 
    font-weight: bold;
    font-style: italic;
}
#work-div {
    width: 368px;
    height: 50px;
    background: #333b3a; 
    margin: 30px auto;  
}
#work-div h1 {
    color: #fff;
    font-size: 30px;
    font-weight: bold;
    line-height: 50px;
    text-align: center;
}
#nightly-supplement-div {
    float: left;
    width: 478px;
    min-height: 1100px;
    padding-right: 20px;
    font-size: 14px;
    margin-top: 30px;   
}
#vertical-divider {
    float: left;
    width: 4px;
    height: 1028px;
    background: url(../_images/vertical_divider.png) no-repeat 0 0; 
    margin-top: 80px;   
}
#daily-supplement-div {
    float: left;
    width: 478px;
    min-height: 1100px;
    padding-left: 20px; 
    margin-top: 30px;
}
#nightly-supplement-div h1, #daily-supplement-div h1 {
    font-size: 24px;
    color: #333b3a; 
}
#nightly-supplement-div p.instructions, #daily-supplement-div p.instructions {
    color: #9e3b02;
    font-size: 14px;
    font-style: italic; 
    line-height: 18px;
    margin-top: 5px;
}
#nightly-supplement-div p.ingredient-text, #daily-supplement-div p.ingredient-text {
    color: #525555;
    font-size: 14px;
    font-style: italic;
    line-height: 18px;
    margin-top: 36px;
}
#nightly-supplement-div p.ingredient-text span, #daily-supplement-div p.ingredient-text span {
    color: #2a3333;
    font-size: 18px;
}
#creator-message-div {
    float: left;
    clear: both;
    margin-top: 100px;
}
#creator-message-div h1 {
    font-size: 18px;
    color: #2a3333; 
}
#creator-message-div p.create-message {
    margin-top: 22px;
    margin-bottom: 42px;
    color: #525555;
    line-height: 20px;
    font-style: italic; 
    font-size: 14px;
    text-indent: 30px;
}
#creator-message-div p.create-message span {
    font-weight: bold;  
}

/********** FOOTER STYLES *********/

footer {
    background: #fff;
    border-top: 1px solid #cacaca;  
    overflow: hidden;
}
#footer-container {
    margin: 0 auto;
    width: 1000px;
    min-height: 141px;
    color: #2a3333;
    font-family: Verdana, Geneva, sans-serif;
}
.footer-tagline1 {
    float: left;
    font-size: 18px;
    color: #2a3333;
    margin-top: 35px;
    margin-left: 40px;
}
.footer-tagline1 span {
    font-weight: bold;
    font-style: italic;
}
.footer-tagline2 {
    float: left;
    font-size: 18px;
    margin: 6px 0 0 206px;  
}
.footer-tagline2 span {
    font-weight: bold;
    font-style: italic; 
}
p.obligationtext {
    float: right;
    font-size: 14px;
    margin-top: -40px;  
}
a.footerbutton {
    float: right;
    margin: -20px 30px 0 0;
    display: block;
    width: 232px;
    height: 55px;
    background: url(../_images/tryitout_button.png) no-repeat 0 0;
    text-indent: -9999px;
}
a.footerbutton:hover {
    background-position: 0 -55px;   
}
#vitant-footer-logo {
    width: 85px;
    height: 43px;
    float: left;
    background: url(../_images/footer_logo.png) no-repeat 0 0;
} 
```

如果有人有任何想法或建议，我将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T09:40:22.383

如果您使用的是 AdBlocker 扩展程序，请尝试禁用。当广告拦截器处于活动状态时，无法为我显示背景。因为这些扩展是隐藏横幅和类似的命名选择器和文件名，所以最好的方法是从*横幅更改名称*

# javascript - 如何在加载新的 HTML 内容时防止自动滚动事件？

> ID：15827914
> 
> 赞同：0
> 
> 时间：2013-04-05T07:11:14.560
> 
> 标签：javascript, jquery

我正在使用 window.scroll() 函数在滚动时将更多 html 内容附加到 DIV 持有者。我在每个滚动事件上分别加载 10..10。但是在加载前 10 个内容后，文档大小会增加，因此浏览器会自动滚动并调用 loadContent 函数并添加新内容，而无需手动滚动。我该如何防止这种机制。我只需要在用户加载更多内容时滚动按钮。

```
$(function(){
  var loading = true;
  $(window).scroll(function(){
  if ( loading && $(window).scrollTop() + $(window).height() > $(document).height() - 100 ){
        loading = false;
        loadContents();
        loading = true;
 }
 });
 )}; 
```

还有其他更好的方法来执行无限滚动功能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:36:49.073

通常使用像你这样的布尔标志是你将如何处理这个问题。通常，虽然数据是使用 ajax 填充的，但这`loading`就是要更改的地方。你的价值观`loading`似乎也是相反的。

```
$(function(){
    var loading = false;
    $(window).scroll(function(){
        if ( !loading && $(window).scrollTop() + $(window).height() > $(document).height() - 100 ){
            loading = true;
            loadContents();
        }
    });

    function loadContents() {
        $.ajax({
            ...,
            success: function () {
                // add new data
                loading = false;
            }
        });
    }
)}; 
```

# c++ - 包含在头文件中与前向声明并包含在 .cpp 中

> ID：15827921
> 
> 赞同：33
> 
> 时间：2013-04-05T07:12:02.330
> 
> 标签：c++, header-files

我有一个 B 类，我想调用 A 类的成员。所以：

1.

```
//A.h    
class B; 
class A 
{ 
private:
    B* m_p; 
}; 

//a.cpp
#include "B.h" 
```

2.

```
// A.h
#include "B.h"

class A 
{ 
private: 
    B * impl_; 
}; 
```

当一个没有太多依赖的小项目涉及时，哪种方式更好，这两者是否相似？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-04-05T07:24:02.813

你这样做的第一种方式意味着在 中`a.h`，*存在*是`class B`已知的，但不是它的*定义*。这限制了您可以对`B`inside执行的操作`a.h`。例如，你可以有 type 的变量`B *`，但不能有 type`B`的变量（因为对于 type 变量的声明，`B`编译器必须能够看到 的完整定义`B`）。此外，如果您有 type 的变量，`B *`则不能取消引用指针（因为也`B`必须知道 的定义）。

因此，您的第二选择——没有这些问题——是首选，这是大多数人大部分时间使用的。

只有在第一种方法可能有用的特殊情况下。例如：

*   如果`.h`文件*相互*包含（但是您可能会遇到一些进一步的问题，也涉及包含保护；这通常很困难并且应该避免）；
*   If`b.h`非常大且复杂，因此您希望尽可能避免包含它，因为它会减慢编译过程。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-04-05T07:22:34.200

您的第一种方法是前向声明。您的第二个实际上包括 B 类。

什么时候使用一个而不是另一个？

# 在以下情况下使用第一个：

*   在 A 的**定义**中，你只有一个指向 B 的指针，即不是 B 的成员。
*   您永远不会从 A 的**定义**中调用 B 的任何函数。（即对 B 的成员函数的所有调用都发生在您实际实现 A 的成员函数的 .cpp 文件中。）
*   您希望类 B 的接口或大小经常更改，但不会更改 A 的接口。这样，如果 B 更改，则仅重新编译 a.cpp 的内容，但 ah（以及包含 ah 的其他文件）不需要更改.

# 在以下情况下使用第二个：

*   您需要知道 B 的**大小**。编译器使用类定义及其所有成员的大小来计算类的大小。例如，如果类 A 有一个类型为 B 的成员，那么要计算 A 的大小，编译器需要知道 B 的大小；要知道 B 的大小，你需要包括 bh
    *   你需要调用B类的函数。为了知道你调用的是不是实际存在的函数，编译器需要知道B类的接口，即你需要包含bh

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-04-05T07:20:33.703

答：**1**。
看看[http://www.umich.edu/~eecs381/handouts/handouts.html](http://www.umich.edu/~eecs381/handouts/handouts.html)

[C 头文件指南](http://www.umich.edu/~eecs381/handouts/CHeaderFileGuidelines.pdf)

[C++ 头文件指南](http://www.umich.edu/~eecs381/handouts/CppHeaderFileGuidelines.pdf)（由密歇根大学 EECS 系的 David Kieras 撰写）说：

> 准则 #10。**如果类型 X 的声明不完整，请使用它而不是 #include 其标头 Xh**。如果另一个结构或类类型 X 仅作为指针或引用类型出现在头文件的内容中，那么您不应该#include Xh，而只需将不完整的 X 声明（也称为“前向”声明）放在头文件的开头，如：`class X;`请参阅讲义 [不完整的声明](http://www.umich.edu/~eecs381/handouts/IncompleteDeclarations.pdf)以获取有关此强大且有价值的技术的更多讨论。请注意，标准库包含一个不完整声明的标头，该标头通常足以满足该`<iostream>` 库的需要，名为`<iosfwd>`. #include`<iosfwd>`尽可能，因为`<iostream>`头文件非常大（巨大的模板！）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T07:13:05.980

只需在 A 类的标题中声明该类即可。

```
class B; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-05T07:13:40.760

第二个更好。它使`B`该类成为您使用该`.h`文件包含的模块。考虑您`B`将来子类化并更新`A`为使用`C`. 在第二种情况下，您只需更换标题`#include`和`A`化妆。在第一种情况下，您必须更改前向声明。此外，在第二种情况下，您定义的不仅仅是符号`B`。

`#include "B.h"`和注释一样，如果头文件与其余代码位于同一目录中，则应使用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-05T07:14:13.457

好吧，您正在做的事情称为前向减速，您想要这样做的原因是，如果您有类似使用 B 类的 A 类和使用 A 类的 B 类的东西。

在只有一个关系的情况下，您当然可以使用第二个选择。如果您需要双重使用，那么您的至少一个类 decleration 必须使用前向 decleration

# html - 让文本在 div 方块的中心对齐

> ID：15827924
> 
> 赞同：1
> 
> 时间：2013-04-05T07:12:30.840
> 
> 标签：html, css

我正在努力将文本添加到用 HTML 和 CSS 编写的消失/出现的方形系统。是否有一种简单的方法可以将段落标签添加到每个正方形的*中心？*这是我的代码：jsfiddle.net/busterroni/wBcWc/8/

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:17:24.547

你最好不要使用`<p>`标签，因为它们包含默认边距。您可以更轻松地使用带有类的平原`<span>`。使用`line-height:100px`(same as `height`) 和 text-`align:center;`将文本水平和垂直居中。

[jsFiddle](http://jsfiddle.net/Tyriar/FYPAt/)

**HTML**

```
<span class="wrapper">
    <div class="rowone" class="a"><span class="hoverable">test</span></div>
    ... 
```

**CSS**

```
div {
    text-align:center;
    line-height:100px;
}
.hoverable{
   color:transparent;    
}
.hoverable:hover{
    color:red;
    text-align:center;
} 
```

# java - putfield 参数的顺序

> ID：15827930
> 
> 赞同：3
> 
> 时间：2013-04-05T07:12:48.247
> 
> 标签：java, bytecode

在 java 字节码中，“putfield”指令期望栈顶是一个值，栈顶 1 是一个引用。为什么不是反过来呢？

在我的课堂笔记中被问到，我找不到答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T13:42:43.590

顺序实际上并不重要，因为 VM 和编译器都可以很容易地实现。但是 Sun 选择让较低的参数在堆栈中显示在较低的位置。

您不仅可以使用`putfield`，还可以使用许多其他指令来查看这一点，例如数组加载和存储以及方法调用。他们都遵守相同的约定。我能想到的唯一解释是这种方式更直观。

如果您从左到右从下到上读取堆栈，则堆栈上的参数将与方法签名或原始源代码中的参数具有相同的顺序。如果您想以另一种方式进行操作，程序员将不得不在心理上将堆栈视为颠倒的，这没什么大不了的，但可能不太直观。

# android - 在从图库中选择和从相机中选择之间随机选择后无法恢复活动

> ID：15827942
> 
> 赞同：0
> 
> 时间：2013-04-05T07:13:30.873
> 
> 标签：android, opencv, camera, gallery

我无法找到问题无法恢复活动的根本原因。我做错了什么，一旦我在从图库中选择和从相机中选择之间进行随机选择，我的应用程序就会崩溃:(

编辑：完整的logcat：

```
04-05 12:30:07.479: W/IInputConnectionWrapper(17228): showStatusIcon on inactive InputConnection
04-05 12:30:17.109: I/RotateImage(17228): Exif orientation: 6
04-05 12:30:17.109: I/RotateImage(17228): Rotate value: 90
04-05 12:30:20.139: E/Swiss Insignia(17228): width=1920
04-05 12:30:20.139: E/Swiss Insignia(17228): height=2560
04-05 12:30:21.609: I/System.out(17228): str1=L@**
04-05 12:30:31.229: I/RotateImage(17228): Exif orientation: 6
04-05 12:30:31.229: I/RotateImage(17228): Rotate value: 90
04-05 12:30:33.949: E/Swiss Insignia(17228): width=1920
04-05 12:30:33.949: E/Swiss Insignia(17228): height=2560
04-05 12:30:35.089: I/System.out(17228): str2=L@**
04-05 12:30:37.909: W/IInputConnectionWrapper(17228): showStatusIcon on inactive InputConnection
04-05 12:30:45.829: I/Swiss Insignia(17456): Trying to load OpenCV library
04-05 12:30:45.889: D/SKIA_FONT(17456): load_system_fonts(), name = Roboto, style = 0, uniqueID = 1
04-05 12:30:45.889: D/SKIA_FONT(17456): load_system_fonts(), name = Roboto, style = 1, uniqueID = 2
04-05 12:30:45.889: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Serif, style = 0, uniqueID = 3
04-05 12:30:45.889: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Serif, style = 1, uniqueID = 4
04-05 12:30:45.889: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Serif, style = 2, uniqueID = 5
04-05 12:30:45.899: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Serif, style = 3, uniqueID = 6
04-05 12:30:45.899: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Sans Mono, style = 0, uniqueID = 7
04-05 12:30:45.909: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Sans Arabic, style = 0, uniqueID = 8
04-05 12:30:45.909: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Sans Hebrew, style = 0, uniqueID = 9
04-05 12:30:45.909: D/SKIA_FONT(17456): load_system_fonts(), name = SamsungArmenian, style = 0, uniqueID = 10
04-05 12:30:45.909: D/SKIA_FONT(17456): load_system_fonts(), name = SamsungGeorgian, style = 0, uniqueID = 11
04-05 12:30:45.909: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Sans Thai, style = 0, uniqueID = 12
04-05 12:30:45.909: D/SKIA_FONT(17456): load_system_fonts(), name = HelveM_Telugu, style = 0, uniqueID = 13
04-05 12:30:45.909: D/SKIA_FONT(17456): load_system_fonts(), name = Droid Sans Fallback, style = 0, uniqueID = 14
04-05 12:30:45.919: D/SKIA_FONT(17456): load_system_fonts(), oldSansUID = 0, newSansUID = 1
04-05 12:30:45.919: D/SKIA_FONT(17456): load_system_fonts(), oldSansBoldUID = 0, newSansBoldUID = 2
04-05 12:30:45.969: W/dalvikvm(17456): threadid=1: thread exiting with uncaught exception (group=0x40018578)
04-05 12:30:45.989: E/AndroidRuntime(17456): FATAL EXCEPTION: main
04-05 12:30:45.989: E/AndroidRuntime(17456): java.lang.RuntimeException: Unable to resume activity {.MainActivity}: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=null} to activity {.MainActivity}: java.lang.NullPointerException
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2124)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2139)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1672) 
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.os.Looper.loop(Looper.java:130)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread.main(ActivityThread.java:3687)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at java.lang.reflect.Method.invokeNative(Native Method)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at java.lang.reflect.Method.invoke(Method.java:507)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at dalvik.system.NativeStart.main(Native Method)
04-05 12:30:45.989: E/AndroidRuntime(17456): Caused by: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=null} to activity {.MainActivity}: java.lang.NullPointerException
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread.deliverResults(ActivityThread.java:2536)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2111)
04-05 12:30:45.989: E/AndroidRuntime(17456):    ... 12 more
04-05 12:30:45.989: E/AndroidRuntime(17456): Caused by: java.lang.NullPointerException
04-05 12:30:45.989: E/AndroidRuntime(17456):    at .onActivityResult(MainActivity.java:101)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.Activity.dispatchActivityResult(Activity.java:3908)
04-05 12:30:45.989: E/AndroidRuntime(17456):    at android.app.ActivityThread.deliverResults(ActivityThread.java:2532)
04-05 12:30:45.989: E/AndroidRuntime(17456):    ... 13 more 
```

代码：

```
public class MainActivity extends Activity 
{
private static final int PICK_FROM_CAMERA = 1;
private static final int PICK_FROM_GALLERY = 2;
final String TAG = "Swiss Insignia";
ImageView imgview;
TextView output;
Button buttonCamera;
Button buttonGallery;
File destImage;
private BaseLoaderCallback mOpenCVCallBack = new BaseLoaderCallback(this) 
{@Override
    public void onManagerConnected(int status) 
    {
        switch (status) 
        {
            case LoaderCallbackInterface.SUCCESS:
            {
                Log.i(TAG, "opencv loaded successfully");
                // Create and set View
                System.loadLibrary("SwissInsignia");
                Log.i(TAG, "libSwissInsignia.so loaded successfully");
            } break;
            default:
            {
                super.onManagerConnected(status);
            } break;
        }
    }
};@Override

public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    Log.i(TAG, "Trying to load OpenCV library");
    if (!OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION_2_4_2, this, mOpenCVCallBack))
    {
        Log.e(TAG, "Cannot connect to OpenCV Manager");
    }
    setContentView(R.layout.activity_main);
    imgview = (ImageView) findViewById(R.id.imageView1);
    output = (TextView)findViewById(R.id.textViewOutput);
    buttonCamera = (Button) findViewById(R.id.btn_take_camera);
    buttonGallery = (Button) findViewById(R.id.btn_select_gallery);
    buttonCamera.setOnClickListener(new View.OnClickListener() 
    {
        public void onClick(View v) 
        {
            Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
            File dir = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), "SwissInsignia");
            if (!dir.isDirectory())
            {
                dir.mkdir();
            }   
            destImage = new File(dir, new Date().getTime() + ".jpg");
            intent.putExtra(MediaStore.EXTRA_OUTPUT,Uri.fromFile(destImage));
            startActivityForResult(intent, PICK_FROM_CAMERA);
        }
    });
    buttonGallery.setOnClickListener(new View.OnClickListener() 
    {
        public void onClick(View v) 
        {
            Intent photoPickerIntent = new Intent(Intent.ACTION_GET_CONTENT);
            photoPickerIntent.setType("image/*");
            startActivityForResult(photoPickerIntent, PICK_FROM_GALLERY);
        }
    });
}

protected void onActivityResult(int requestCode, int resultCode, Intent data) 
{
    if (requestCode == PICK_FROM_CAMERA) 
    {
            File f = new File(destImage.getAbsolutePath());
            int rotateImage = getCameraPhotoOrientation(this, Uri.parse(destImage.getAbsolutePath()), destImage.getAbsolutePath());
            Bitmap photo= convertBitmapToCorrectOrientation( BitmapFactory.decodeFile(f.getAbsolutePath()), rotateImage);
            //Bitmap photo = BitmapFactory.decodeFile(f.getAbsolutePath());
            Log.e(TAG, "width="+photo.getWidth());
            Log.e(TAG, "height="+photo.getHeight());
            Mat mRgba=new Mat();
            org.opencv.android.Utils.bitmapToMat(photo,mRgba);
            String str1=findFeatures(mRgba.getNativeObjAddr());
            System.out.println("str1="+str1);
            imgview.setImageBitmap(photo);
            output.setText("Detected Pattern="+str1);
    }
    if (requestCode == PICK_FROM_GALLERY) 
    {
        Uri selectedImage = data.getData();
        String[] filePathColumn = { MediaStore.Images.Media.DATA };
        Cursor cursor = getContentResolver().query(selectedImage,filePathColumn, null, null, null);
        cursor.moveToFirst();
        int columnIndex = cursor.getColumnIndex(filePathColumn[0]);
        String picturePath = cursor.getString(columnIndex);
        cursor.close();
        int rotateImage = getCameraPhotoOrientation(this, selectedImage, picturePath);
        Bitmap photo= convertBitmapToCorrectOrientation( BitmapFactory.decodeFile(picturePath), rotateImage);
        Log.e(TAG, "width="+photo.getWidth());
        Log.e(TAG, "height="+photo.getHeight());
        Mat mRgba=new Mat();
        org.opencv.android.Utils.bitmapToMat(photo,mRgba);
        String str2=findFeatures(mRgba.getNativeObjAddr());
        System.out.println("str2="+str2);
        Bitmap mutableBitmap = photo.copy(Bitmap.Config.ARGB_8888, true);
        imgview.setImageBitmap(mutableBitmap);
        output.setText("Detected Pattern="+str2);
    }
}

public static Bitmap convertBitmapToCorrectOrientation(Bitmap photo,int rotation) 
{
    int width = photo.getWidth();
    int height = photo.getHeight();
    Matrix matrix = new Matrix();
    matrix.preRotate(rotation);
    return Bitmap.createBitmap(photo, 0, 0, width, height, matrix, false);
}
public int getCameraPhotoOrientation(Context context, Uri imageUri, String imagePath)
{
    int rotate = 0;
    try 
    {
        context.getContentResolver().notifyChange(imageUri, null);
        File imageFile = new File(imagePath);
        ExifInterface exif = new ExifInterface(imageFile.getAbsolutePath());
        int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL);
        switch (orientation) 
        {
            case ExifInterface.ORIENTATION_ROTATE_270:
                rotate = 270;
            break;
            case ExifInterface.ORIENTATION_ROTATE_180:
                rotate = 180;
            break;
            case ExifInterface.ORIENTATION_ROTATE_90:
                rotate = 90;
            break;
        }
        Log.i("RotateImage", "Exif orientation: " + orientation);
        Log.i("RotateImage", "Rotate value: " + rotate);
    } 
    catch (Exception e) 
    {
        e.printStackTrace();
    }
    return rotate;
}

    public static native String findFeatures( long matAddrRgba);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:19:16.657

问题很简单，当您从相机回来时，您的活动正在重新启动，这是因为相机使用大量资源来工作，因此 *destImage* 将为空

所以使用 on[`onSaveInstanceState`](http://developer.android.com/reference/android/app/Activity.html#onSaveInstanceState%28android.os.Bundle%29) 来保存这些变量之王并在 onCreate 从 Bundle savedInstanceState 中恢复它们

或者

采用

```
destImage = new File(dir,  "sample.jpg"); 
```

在`onCreate()` 和不在`onClick()`

**编辑**

还要使用 resultCode==RESULT_OK 检查结果是否正常

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) 
    {

        if(resultCode== RESULT_OK )
        {
        if (requestCode == PICK_FROM_CAMERA) 
        {
                File f = new File(destImage.getAbsolutePath());
                int rotateImage = getCameraPhotoOrientation(this, Uri.parse(destImage.getAbsolutePath()), destImage.getAbsolutePath());
                Bitmap photo= convertBitmapToCorrectOrientation( BitmapFactory.decodeFile(f.getAbsolutePath()), rotateImage);
                //Bitmap photo = BitmapFactory.decodeFile(f.getAbsolutePath());
                Log.e(TAG, "width="+photo.getWidth());
                Log.e(TAG, "height="+photo.getHeight());

                imgview.setImageBitmap(photo);
                output.setText("Detected Pattern=");
        }
        if (requestCode == PICK_FROM_GALLERY) 
        {
            Uri selectedImage = data.getData();
            String[] filePathColumn = { MediaStore.Images.Media.DATA };
            Cursor cursor = getContentResolver().query(selectedImage,filePathColumn, null, null, null);
            cursor.moveToFirst();
            int columnIndex = cursor.getColumnIndex(filePathColumn[0]);
            String picturePath = cursor.getString(columnIndex);
            cursor.close();
            int rotateImage = getCameraPhotoOrientation(this, selectedImage, picturePath);
            Bitmap photo= convertBitmapToCorrectOrientation( BitmapFactory.decodeFile(picturePath), rotateImage);
            Log.e(TAG, "width="+photo.getWidth());
            Log.e(TAG, "height="+photo.getHeight());

            Bitmap mutableBitmap = photo.copy(Bitmap.Config.ARGB_8888, true);
            imgview.setImageBitmap(mutableBitmap);
            output.setText("Detected Pattern=");
        }
        }
    } 
```

# macos - 编译 mex 文件时出现链接错误

> ID：15827946
> 
> 赞同：0
> 
> 时间：2013-04-05T07:13:34.460
> 
> 标签：macos, matlab, linker, mex

我在 OS X 10.8 的 MATLAB R2011a 下运行 mex。编译过程几乎可以。但是我遇到了一些链接错误。我在 MATLAB 命令窗口中使用的命令行是：

```
mex -I/usr/include/ -L/usr/lib/ -O -DDEBUG -DFASTPLOG CalcEntropyScalesOpt.c  Hists.c 
```

在 MS Windows 中运行良好的原始命令行是

```
mex -O -DDEBUG -DFASTPLOG CalcEntropyScalesOpt.c  Hists.c 
```

我添加了那些 -I 和 -L 选项来修复一些错误。但是链接错误依然存在：

```
Undefined symbols for architecture x86_64:
"_mxCreateDoubleMatrix_700", referenced from:
  _do_CalcSalScale1DAA in CalcEntropyScalesOpt.o
  _do_CalcSalScale3D in CalcEntropyScalesOpt.o
  _do_CalcSalScale2D in CalcEntropyScalesOpt.o
  _do_CalcSalScale1DParzen in CalcEntropyScalesOpt.o
  _do_CalcSalScale1D in CalcEntropyScalesOpt.o
"_mxCreateNumericArray_700", referenced from:
  _AACirclePix in CalcEntropyScalesOpt.o
  _CirclePix2 in CalcEntropyScalesOpt.o
... many more like this ...
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status

mex: link of ' "CalcEntropyScalesOpt.mexmaci64"' failed. 
```

我想我需要更多的 -l 或 -L 选项，但不知道在那里写什么。

谢谢。

问候，理查德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:43:12.050

固定的。

所需的库是 mx (libmx.dylib)。它在 MATLABROOT/bin/maci64 下，没问题。但是 /usr/lib 中有一个错误的符号链接。链接器实际上链接了该文件，该文件指向某个 libSystem.dylib。我删除了那个链接，一切顺利。

# nlp - Word Sense Disambiguation 任务还有哪些其他输入？

> ID：15827947
> 
> 赞同：0
> 
> 时间：2013-04-05T07:13:36.510
> 
> 标签：nlp, semantics, information-retrieval, wsd

在`Natural Language Processing`（NLP）中，`Word Sense Disambiguation`（WSD）任务在给定一个单词出现的句子的情况下，通过计算确定多义词的含义或意义或概念。例如：

*   *“有些人愚蠢到抢劫* **中央银行***。”*
*   *“* **河岸** *满是石头”*

**有人知道在段落或文档级别执行的 WSD 吗？**

除了从一个句子中的上下文词中消除歧义之外，**还可以引入哪些其他输入来执行`WSD`任务？** （我以前看过带有图像的 WSD，[http://acl.ldc.upenn.edu/W/W03/W03-0601.pdf](http://acl.ldc.upenn.edu/W/W03/W03-0601.pdf)）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T13:09:46.607

当您开始谈论段落或文档时，通常不是词义而是您真正对主题感兴趣。您可以使用分配给段落中单词的词义集合来帮助您找出主题，因此问题是相互关联的，尽管根据主题而不是词义（主要与词或词相关）可能会更好。也许是短语）。

祝你好运，特德

# wordpress - 存档 URL 结构的自定义永久链接

> ID：15827951
> 
> 赞同：1
> 
> 时间：2013-04-05T07:13:55.423
> 
> 标签：wordpress, customization

我想有一个日期/年份存档的自定义 URL 结构。

目前 wordpress CMS 提供的结构为

```
http://wordpress.com/2012/04/13/ 
```

对于日历 URL 结构，但我想这样做

```
http://wordpress.com/**archive**/2012/04/13/ 
```

仅适用于日历 URL 结构，但不适用于单个帖子。

请指导我如何做到这一点。

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T10:20:09.150

[您可以在此处](http://wp.tutsplus.com/tutorials/creative-coding/the-rewrite-api-post-types-taxonomies/)找到有关如何重写永久链接的说明

# windows - 带有映射驱动器的 Windows -- _stat() 无法检测到文件的存在

> ID：15827954
> 
> 赞同：0
> 
> 时间：2013-04-05T07:14:04.403
> 
> 标签：windows, visual-c++, path, stat

**摘要：**该`_stat()`函数表示驱动器号映射到UNC路径时不存在文件。

**详细信息：**在 Windows 系统上，有类似 UNC 路径

```
\\computer\sharename\disk_M\the_subdir\file.txt 
```

它是这样映射的：

```
net use M: \\computer\sharename\disk_M 
```

然后`file.txt`可以访问为`M:\the_subdir\file.txt`，我真的可以在编辑器中看到它的内容。

问题是我需要在我的程序中测试文件是否存在。我确实使用以下功能：

```
bool isfile(const std::string & path)
{
    struct _stat stat;

    if (_stat(path.c_str(), &stat))
        return false;                   // the call returns -1 with errno ENOENT

    return (stat.st_mode & _S_IFREG) != 0;
} 
```

调试时，我发现`_stat`调用该`FindFirstFile`函数：

```
 /* Call Find Match File */
    findhandle = FindFirstFile((_TSCHAR *)name, &findbuf);
    if ( findhandle == INVALID_HANDLE_VALUE ) {
        _TSCHAR * pBuf = NULL; 
```

...它无法在此处准确找到该文件。

问题是什么？我究竟做错了什么？如何增强对文件存在的检测？（代码在本地管理员做驱动映射的环境下运行，无法更改配置。）

# java - 在 LibGDX 中每次都不会调用 ContactListner(Box2d) 的 EndContact

> ID：15827955
> 
> 赞同：7
> 
> 时间：2013-04-05T07:14:07.143
> 
> 标签：java, box2d, libgdx

我是 box2d 的新手，并试图在 LibGDX 游戏中实现它。我要做的是检测各个物体之间的碰撞。因此，我创建了一个类碰撞检测并在其中实现`ContactListener`，它为我提供了 4 个被覆盖的方法`beginContact()`，即`endContact()`我必须处理的方法。我也传递了碰撞检测类的对象，`world.setcontactListner(collisionDet)`当世界类中的物体相互碰撞时，将调用碰撞检测类的重写方法。但是，当身体碰撞`beginContact()`方法每次都被调用，但`endContact()`每次身体失去联系时，方法都没有被调用时，就会出现问题。那么，我们可以通过什么方法来检测`endContact()`每次。

碰撞检测类的代码如下：

```
public class CollisionDetection implements ContactListener {
static Fixture fixtureA;
static Fixture fixtureB;
public static boolean Colliding=false;
World world;

protected CollisionDetection(World world, long addr) {
    this.world = world;
    // TODO Auto-generated constructor stub
}

@Override
public void beginContact(Contact contact) {
    // TODO Auto-generated method stub
    fixtureA = contact.getFixtureA();
    fixtureB = contact.getFixtureB();

    Colliding=true;

}

@Override
public void endContact(Contact contact) {
    // TODO Auto-generated method stub      
    Colliding=false;

}

@Override
public void preSolve(Contact contact, Manifold oldManifold) {
    // TODO Auto-generated method stub

}

@Override
public void postSolve(Contact contact, ContactImpulse impulse) {
    // TODO Auto-generated method stub

} 
```

和世界级

`collisionDet = new CollisionDetection(worldbox, 0);
worldbox.setContactListener(collisionDet);`

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-28T12:22:20.970

您可能正在使用 setTranform() 来移动对象...当我们使用 set transform 时，Box2d 不提供回调

# ruby-on-rails - rake 任务返回调用任务

> ID：15827956
> 
> 赞同：0
> 
> 时间：2013-04-05T07:14:09.933
> 
> 标签：ruby-on-rails, ruby, rake, rake-task, rakefile

我想从调用任务中的 rake 任务返回。有可能吗？

在这个例子中，我希望能够独立调用任务一和一，但也可以顺序调用一和二。

```
task: one
   do some work
   if work ok
      task.return true
   else
      puts "task one ko"
      task.return false
   end
end

task: two
   do some work
   if work ok
      task.return true
   else
      puts "task two ko"
      task.return false
   end
end

task: all
  Rake::Task["one"].invoke 
  Rake::Task["two"].invoke
end 
```

我无法返回“全部”任务。并且 "return" 和 abort("message") 退出脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:25:23.430

解决方案：任务是 lambda 块，这就是我们必须使用“next”而不是“return”的原因。

# jquery - 带有自定义按钮的 ASP.Net MVC 4 的 JQuery DataTables

> ID：15827957
> 
> 赞同：0
> 
> 时间：2013-04-05T07:14:11.047
> 
> 标签：jquery, asp.net-mvc-4, jquery-datatables

我想在我的 MVC 4 项目中使用 Jquery Datatables 进行基于网格的操作和一般列表。

经过一番搜索，我找到了 JQuery Datatables，我决定使用它。起初一切似乎都很好，但是当我开始为详细信息添加自定义行按钮时，开始出现编辑和删除问题。

在传统方式中，将按钮添加到一行只是将代码添加到相关的`<td> </td>`

但是数据表完全不同，我从这里得到以下示例代码[https://stackoverflow.com/a/9774102/423699](https://stackoverflow.com/a/9774102/423699)

```
"aoColumnDefs" : [ 
                    {
                        "aTargets": [0],
                        "fnCreatedCell" : function(nTd, sData, oData, iRow, iCol){
                            var b = $('<button style="margin: 0">edit</button>');
                            b.button();
                            b.on('click',function(){
                                document.location.href = oData[0];
                                return false;
                            });
                            $(nTd).empty();
                            $(nTd).prepend(b);
                        }
                    }, 
```

如前所述，我们有三个按钮，一些屏幕有可选按钮，它们出现在一些 if-else 条件之后。同样在数据表之前，我们使用 Html.ActionLink 和 css 来显示按钮；但是在使用数据表之后，放置按钮变得非常困难。

所以我认为可能是我们做错了什么，你可以帮助我们弄清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T15:31:28.863

我认为附加到另一个元素时不会添加点击事件。所以我建议在添加按钮后添加点击事件。

```
"aoColumnDefs" : [
{
    "aTargets": [0],
    "fnCreatedCell" : function(nTd, sData, oData, iRow, iCol){
        $(nTd)
            .empty()//Empty
            .prepend('<button style="margin: 0">edit</button>')// prepend the button to the td
            .filter("button")// filter the results to the button element
                 .button()// add the jquery button effects
                 .on('click',function(){// attach the click event to the "filtered" button
                     document.location.href = oData[0];
                     return false;
                  });
    }
}, 
```

# android - 声音池不工作

> ID：15827970
> 
> 赞同：1
> 
> 时间：2013-04-05T07:14:52.513
> 
> 标签：android

我正在做一个简单的游戏，因为我需要一些简短的音效，所以我认为 Soundpool 是合适的。但它不工作！我听不到任何声音！我一遍又一遍地检查了我的代码，并将它与其他几个示例进行了比较，但仍然无法正常工作！我很困惑，需要一些帮助才能让它工作。

这是我的代码。我错过了什么，或者我可以用其他方式吗？感谢一些帮助！谢谢！

```
soundPool = new SoundPool(4,AudioManager.STREAM_MUSIC, 0);
soundPoolMap = new HashMap<Integer, Integer>();

soundPoolMap.put(0, soundPool.load(this, R.raw.bonk2, 1));
soundPool.play(0, 1f, 1f, 1, 0, 1f);

soundPool.release(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T07:22:52.063

在您的情况下，您提到任何声音 ID 为 0，而不是您应该使用`load()`方法提及加载声音的声音 ID。

例如：

```
 soundPool = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);
 soundPool.setOnLoadCompleteListener(new OnLoadCompleteListener() {
        @Override
        public void onLoadComplete(SoundPool soundPool, int sampleId,
                  int status) {
           loaded = true;
       }
 });
 soundID = soundPool.load(this, R.raw.sound1, 1);
 soundPool.play(soundID, volume, volume, 1, 0, 1f); 
```

检查此示例：[教程：通过 SoundPool 播放声音](http://www.vogella.com/articles/AndroidMedia/article.html#tutorial_soundpool)

# asp.net - Tinymce：拼写检查器不工作

> ID：15827971
> 
> 赞同：3
> 
> 时间：2013-04-05T07:14:53.913
> 
> 标签：asp.net, tinymce, wysiwyg, spell-checking

我在我的应用`spellchecker`程序`tinymce`中使用。拼写检查器在内部使用`Moxiecode.TinyMCE.dll`.

在我们上次实时更新之前它运行良好。突然它给出错误说`You must write ContentLength bytes to the request stream before calling [Begin]GetResponse`。

这是在弹出窗口中显示错误详细信息的堆栈跟踪

System.Net.HttpWebRequest.GetResponse() +6038604 Moxiecode.TinyMCE.SpellChecker.GoogleSpellChecker.SendRequest(String lang, String data) +762 Moxiecode.TinyMCE.SpellChecker.GoogleSpellChecker.CheckWords(String lang, String[] words) +197 Moxiecode .TinyMCE.SpellChecker.SpellCheckerModule.ProcessRequest(HttpContext context) +500 Moxiecode.TinyMCE.Web.HttpHandler.ProcessRequest(HttpContext context) +282 System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +100 System. Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +75
**版本信息：**  Microsoft .NET Framework Version:4.0.30319; ASP.NET 版本：4.0.30319.504

我搜索错误的解决方案，但没有找到任何解决方案。

任何人都可以为此建议解决方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T10:17:06.943

我已经搜索了问题的解决方案，但我们的应用程序没有任何问题。基本上重点是，我们正在使用 Google 提供的拼写检查 Web 服务和我们的 WYSIWYG 编辑器。我发现，从昨天开始，该服务无法正常运行或被 Google 停止。

以下是一些链接，其中包含有关用户体验的一些注释

[http://www.tinymce.com/develop/bugtracker_view.php?id=5793](http://www.tinymce.com/develop/bugtracker_view.php?id=5793) [http://www.tinymce.com/forum/viewtopic.php?id=30779](http://www.tinymce.com/forum/viewtopic.php?id=30779)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-16T21:55:22.617

您可以通过执行以下操作来启用浏览器的内置拼写检查器：

```
tinymce.init({
    browser_spellcheck : true,
}); 
```

请务必从您的工具栏和插件列表中删除拼写检查器。

# c# - 如何使用 Microsoft Office Interop word 选择段落的第一行或（前 20 个字符）。？

> ID：15827972
> 
> 赞同：3
> 
> 时间：2013-04-05T07:14:58.567
> 
> 标签：c#, winforms, ms-word, office-interop

我一直在尝试以下代码来使用 Microsoft office interop word 12 获取段落的第一行或前 20 个字符

```
Microsoft.Office.Interop.Word.Application w = new  Microsoft.Office.Interop.Word.Application();
    Microsoft.Office.Interop.Word.Document doc;
    int iParaStart = Para.Range.Start;
    Para.Range.Text = "A big Paragraph Comes here …….";
    Para = doc.Paragraphs.Add();
    int iParaEnd = Para.Range.End; 
  // to select the first sentance code tried       
  doc.Range(iRangeStart,iRangeEnd).Sentences.First.Select();
doc.Range(iRangeStart,iRangeEnd).Sentences.First.Shading.BackgroundPatternColor=WdColor.wdColorOrange;
 // to get the characters code tried
 doc.Range(iRangeStart,iRangeStart+20).Select(); 
```

好像不工作我该怎么做。我需要选择第一句话或前 20 个字符

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T15:16:37.280

尝试使用（我假设您已正确打开应用程序和 Word 文档）：

```
// get paragraph range
paragraphs = doc.Paragraphs;
Word.Paragraph paragraph = paragraphs.First;
Word.Range paragraphRange = paragraph.Range; 
```

选择第一句话：

```
Word.Sentences sentences = paragraphRange.Sentences;
Word.Range firstSentence = sentences.First;
firstSentence.Select(); 
```

选择前 20 个字符：

```
if (paragraphRange.Text.Length > 20)
{
    Word.Range range = paragraph.Range.Duplicate;
    range.SetRange(range.Start, range.Start + 20);
    range.Select();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T21:38:43.340

使用以下命名空间：

```
using Microsoft.Office.Interop.Word; 
```

...并给出一个[`Document`](http://msdn.microsoft.com/en-us/library/office/microsoft.office.interop.word.document_members%28v=office.14%29.aspx)实例：

```
var wordApplication = new Application();
var myDocument = wordApplication.Documents.Open(@"C:\Users\...\my.docx"); 
```

...您可以像这样选择段落的前 20 个字符：

```
var substring = myDocument.Paragraphs.First.Range.Text.Substring(0, 20); 
```

...您可以像这样选择第一行：

```
var firstLine = myDocument.Paragraphs.First.Range.Sentences.First.Text; 
```

参考：

*   [范围](http://msdn.microsoft.com/en-us/library/office/microsoft.office.interop.word.paragraph.range%28v=office.14%29.aspx)
*   [句子](http://msdn.microsoft.com/en-us/library/office/microsoft.office.interop.word.range.sentences%28v=office.14%29.aspx)
*   [段落](http://msdn.microsoft.com/en-us/library/office/microsoft.office.interop.word._document.paragraphs%28v=office.14%29.aspx)

# java - wav文件到flac不起作用

> ID：15827973
> 
> 赞同：2
> 
> 时间：2013-04-05T07:15:01.177
> 
> 标签：java, audio, wav, flac

我们正在尝试使用 javaFlacEncoder 将 wav 文件转换为 flac。

调用成功并创建了一个文件。但该文件根本没有音频内容。

代码非常简单：

```
val flacEncoder = new FLAC_FileEncoder()
val path = Paths.get(wavPath)
val outputFile = File.createTempFile("talkingbirdTemp", ".flac")

val status = flacEncoder.encode(path.toFile, outputFile)
if (status != Status.FULL_ENCODE) {
  outputFile.delete
  throw new RuntimeException("FLAC conversion failed with: " + status)
} 
```

wav 文件采样率为 22050。生成的文件根本没有有效的音频信号。

我们做错了什么？

# javascript - Javascript 请求

> ID：15827975
> 
> 赞同：0
> 
> 时间：2013-04-05T07:15:11.503
> 
> 标签：javascript, ajax, setinterval

我有两个复选框，每个复选框都会引发一个 ajax 请求，以便从服务器获得响应。在发出最后一个请求后至少有 2 秒的间隙时，我只需要调用一次方法。任何的想法？这意味着我不想在连续单击复选框少于 2 秒的间隙时调用这些方法。如果请求之间的时间间隔小于 2 秒，我如何取消请求。请注意，我希望在最后一个请求之后没有其他请求 2 秒后仅触发一次该方法。

```
var timeout; 
clearTimeout(timeout); 
timeout = setTimeout(function () { // call method }, 2000); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:19:21.213

> *请注意，对于最后一次发出的请求，我只执行一次该方法。*

您没有显示任何代码，但假设您已经有一个执行 ajax 请求的函数，您可以通过使用该[函数](https://developer.mozilla.org/en/docs/DOM/window.setTimeout)执行类似这样的操作`doAjax()`，确保在任何两秒内最后一次单击后两秒之前不会调用它：[`setTimeout()`](https://developer.mozilla.org/en/docs/DOM/window.setTimeout)

```
var timerID;
document.getElementById("yourCheckboxIdHere").onclick = function() {
    clearTimeout(timerID);
    timerID = setTimeout(doAjax, 2000);
}; 
```

请注意，作为参数传递给函数时，它后面*没有*`doAjax`括号。*`setTimeout()`*

 *如果您需要将参数传递给`doAjax()`函数，请将行更改`setTimeout()`为：

```
 timerID = setTimeout(function(){
       doAjax(parameters, go, here);
    }, 2000); 
```*

# magento - 在某些 magento 主题中禁用模块

> ID：15827976
> 
> 赞同：1
> 
> 时间：2013-04-05T07:15:11.843
> 
> 标签：magento

运行某个主题时是否可以禁用某些模块？我正在开发我们的 Magento 商店的移动友好版本，我遇到了一些扩展的问题。而不是自定义它们，默认的 iphone 主题就足够了，所以我想禁用这些模块，以便它在移动设备上运行默认代码。这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-23T10:40:14.890

您可以在 local.xml 中禁用该模块。只需将此 xml 粘贴到主题的 local.xml 中。

```
<config>
    <modules>
        <[Your_Module_Name]>
            <active>false</active>
        </[Your_Module_Name]>
    </modules>
</config> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-12T06:42:36.877

在管理面板中

```
system -> configuration -> advanced 
```

在这里你可以禁用某些模块

# asp.net - 文本框和标签位置问题

> ID：15827979
> 
> 赞同：0
> 
> 时间：2013-04-05T07:15:27.210
> 
> 标签：asp.net, textbox, label

我是 asp.net 的新手，遇到了一些小问题。问题是将`Textbox`和设置`label`在不同的位置，当我使用`<br/>`标签时，表单看起来很糟糕，我该如何解决流程？

**代码是：**

```
<tr>
        <td align="right" style="padding-right: 5px;" class="style6">
            <asp:Label ID="lblEmailId" runat="server" Text="EMAIL ID &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:"></asp:Label>
        </td>
        <td align="left" style="padding-left: 5px;" class="style6"> 
        <br/><br/><br/>
         <asp:TextBox ID="txtEmailId" runat="server" Width="70%" AutoCompleteType="Office"></asp:TextBox>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ControlToValidate="txtEmailId"
                ErrorMessage="You can't leave this empty." Style="color: #FF0000;"></asp:RequiredFieldValidator>

            <asp:RegularExpressionValidator ID="rfvEmailId" runat="server" ControlToValidate="txtEmailId"
                ErrorMessage="Not a Valid Email Address" SetFocusOnError="True" ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"
                ValidationGroup="CreateUserWizard1" Style="color: #FF0000;" />&nbsp;<br />
            &nbsp;
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <br />
        </td>
    </tr>
    <tr>
        <td align="right" style="padding-right: 5px; " class="style6">
            <asp:Label ID="lblPhoneNo" runat="server" Text="PHONE NO.&nbsp;&nbsp;:"></asp:Label>
        </td>
        <td align="left" style="padding-left: 5px; " class="style6">
            <asp:TextBox ID="txtPhoneNo" runat="server" Width="70%" AutoCompleteType="Office"></asp:TextBox>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" ControlToValidate="txtPhoneNo"
                ErrorMessage="You can't leave this empty." Style="color: #FF0000;"></asp:RequiredFieldValidator>

            <asp:RegularExpressionValidator ID="rfvPhoneNo" ControlToValidate="txtPhoneNo" ValidationExpression="\d{10}"
                ErrorMessage="The number must be 10 numeric digits!" runat="server" Style="color: #FF0000;" />
        </td>
    </tr> 
```

请任何人都可以帮助我完成这个流程......，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:44:57.437

在同一个`<tr>`元素中，将标签放在一个`<td>`中，将文本框放在另一个中，例如：

```
<table>
    <tr>
        <td>
        Name
        </td>
        <td>
        <asp:TextBox ID="txtName" runat="server" />
        </td>
    </tr>
    <tr>
        <td>
        Surname
        </td>
        <td>
        <asp:TextBox ID="txtSurname" runat="server" />
        </td>
    </tr>
    <tr>
        <td>
        Age
        </td>
        <td>
        <asp:TextBox ID="txtAge" runat="server" />
        </td>
    </tr>
    <tr>
        <td colspan="2" style="text-align: right;">
        <asp:Button ID="btnAdd" runat="server" Text="Add" /> 
        </td>
    </tr>
</table> 
```

生成以下布局：

![在此处输入图像描述](https://i.stack.imgur.com/kXEjc.jpg)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:17:49.110

消除`<br/><br/><br/>`

真的，不要使用设计器进行布局！仅用于预览和添加新的自定义控件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T07:35:52.360

1.  摆脱`<br />`和`&nbsp;`标签。
2.  设置RequiredFieldValidator和RegularExpressionValidator动态显示

    ```
    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ControlToValidate="txtEmailId"
            ErrorMessage="You can't leave this empty." Style="color: #FF0000;" Display="Dynamic"></asp:RequiredFieldValidator>
    <asp:RegularExpressionValidator ID="rfvEmailId" runat="server" ControlToValidate="txtEmailId"
            ErrorMessage="Not a Valid Email Address" SetFocusOnError="True" ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"
            ValidationGroup="CreateUserWizard1" Style="color: #FF0000;" Display="Dynamic"/> 
    ```

# jquery - 在触摸时向右滑动以切换课程？

> ID：15827980
> 
> 赞同：1
> 
> 时间：2013-04-05T07:15:29.377
> 
> 标签：jquery, jquery-mobile

是否有可能，使用 jquery mobile 或 jquery 有一个改变类的滑动事件？

```
$(document).ready(function() {
    $("body").swiperight(function(event){
        $('.main-content').toggleClass('.swiped');
    });
}); 
```

你会使用 jquery 或 jquery mobile 来做这种事情吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:18:40.877

```
$('.main-content').toggleClass('.swiped');
//                              ^ not dot please! 
```

应该：

```
$('.main-content').toggleClass('swiped'); 
```

顺便说一句，我认为没有插件 jQuery mobile 只提供这个 API：

```
$("body").on('swiperight', function(){}); 
```

# mysql - 确定 MySQL 中的列值是否为空/非空

> ID：15827984
> 
> 赞同：5
> 
> 时间：2013-04-05T07:15:41.673
> 
> 标签：mysql, sql, join

我有两张表，一张包含用户数据，`user`另一张包含那些将他们的帐户与 Twitter 绑定的用户，`user_twitter`。由于第二个表不包含每个用户的对应值（例如，那些尚未将其帐户与 Twitter 连接的用户），我正在使用 LEFT JOIN 进行查询：

```
SELECT DISTINCT `user_twitter`.uid AS `connected` 
FROM `user` 
LEFT JOIN (SELECT uid FROM `user_twitter`) AS `user_twitter` ON `user`.uid = `user_twitter`.uid 
```

我想要做的是返回一个布尔值（如果`user_twitter.uid`是非空值则为真，如果为空则为假）。任何指针？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-05T07:18:56.673

```
SELECT  a.uid AS `connected`,
        (b.uid IS NOT NULL) bool_val
FROM    `user` a
        LEFT JOIN `user_twitter` b
            ON a.uid = b.uid 
```

将返回`0`false 和`1`true。`true`但是，如果您想要or的字符串值`false`，

```
SELECT  a.uid AS `connected`,
        CASE WHEN b.uid IS NOT NULL THEN 'True' ELSE 'False' END bool_val
FROM    `user` a
        LEFT JOIN `user_twitter` b
            ON a.uid = b.uid 
```

# c++ - 如果我在标头中声明命名空间，是否可以避免在 .cpp 文件中使用类名？

> ID：15827985
> 
> 赞同：7
> 
> 时间：2013-04-05T07:15:42.480
> 
> 标签：c++, class, namespaces, definition

在 C++ 中，我要做的就是在文件中声明一个`DisplayInfo`类`.h`，然后在`.cpp`文件中，不必键入第一个`DisplayInfo::DisplayInfo()`和每个函数定义。

可悲的是，我已经查看了 20 多个主题和我的 C++ 书籍两个多小时，但无法解决这个问题。我认为这是因为我正在尝试在 C++ 中使用我 10 年的 java 培训。

第一次审判：

```
//DisplayInfo.h  
namespace DisplayInfoNamespace 
{
  Class DisplayInfo 
  {
    public:
    DisplayInfo(); //default constructor
    float getWidth();
    float getHeight();
    ...
  };
}

//DisplayInfo.cpp
using namespace DisplayInfoNamespace;  //doesn't work
using namespace DisplayInfoNamespace::DisplayInfo //doesn't work either
using DisplayInfoNamespace::DisplayInfo //doesn't work
{
  DisplayInfo::DisplayInfo() {}; //works when I remove the namespace, but the first DisplayInfo:: is what I don't want to type 
  DisplayInfo::getWidth() {return DisplayInfo::width;}  //more DisplayInfo:: that I don't want to type
  ...
} 
```

第二次试用，我尝试切换顺序，结果是

```
class DisplayInfo
{

  namespace DisplayInfoNamespace
  {
  ...
  }
} 
```

在`.cpp`文件中，尝试了以上所有加

```
using namespace DisplayInfo::DisplayInfoNamespace; 
```

对于第三次试验，我尝试使用此标头向前声明它：

```
namespace DisplayInfoNamespace
{
  class DisplayInfo;
}
class DisplayInfo
{
public:
...all my methods and constructors...
}; 
```

我正在使用 VisualStudio2010 express，尽管仔细阅读了错误消息，但仍然无法在头文件和 .cpp 文件中找到正确的类和命名空间排列来解决这个问题。

现在，在我花了 30 分钟打字之后，是[C++：“类命名空间”吗？](https://stackoverflow.com/questions/4065563/c-class-namespaces)答案？（又名不，你必须使用 typedefs 吗？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:22:00.170

`A::A()`当您在课堂之外进行定义时，无法缩短定义语法。

在类中，您可以就地定义函数，而无需选择正确的范围。

例子：

```
// in *.h
namespace meh {
  class A {
  public:
    A() {
      std::cout << "A construct" << std::endl;
    }

    void foo();
    void bar();
  }

  void foo();
}

void foo();

// in *.cpp

void foo() {
  std::cout << "foo from outside the namespace" << std::endl;
}

void meh::foo() {
  std::cout << "foo from inside the namespace, but not inside the class" << std::endl;
}

void meh::A::foo() {
  std::cout << "foo" << std::endl;
}

namespace meh {
  void A::bar() {
    std::cout << "bar" << std::endl;
  }
} 
```

正如您所看到的，命名空间宁愿在您的方法名称前面添加另一个东西，而不是删除一个。

# performance - R：性能，内存使用。编写文本文件或将所有信息保存在 R 对象中？

> ID：15827989
> 
> 赞同：1
> 
> 时间：2013-04-05T07:16:01.050
> 
> 标签：performance, r, memory-management

通过迭代，我构造了一个非常大的矩阵，为了加快这些迭代，我将这个矩阵分成了多个块，然后放入一个列表中。

我最好将我的矩阵块保存到一个文本文件中，并将新块附加到同一个文本文件中，而不是将它们全部保存在一个列表中。它在内存使用和性能（运行模拟的时间）方面有什么改变吗？

第二个问题：有没有办法知道 R 对象的内存大小（无需将其保存到 .Rdata 文件中）

先感谢您 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T08:55:45.967

如果可能，将矩阵保留在 RAM 中。否则，您还可以查看[bigmemory 包](http://cran.r-project.org/web/packages/bigmemory/index.html)。

并且最新版本的 R 对大向量有更好的支持。如果您拥有具有大量 RAM 的 64 位计算机，这将很有帮助。

注意：由于我们在谈论性​​能，所以预先分配矩阵是一个很好的做法（而不是频繁使用 rbind / cbind）

# css - 防止从 :target 选择器跳转页面

> ID：15827992
> 
> 赞同：10
> 
> 时间：2013-04-05T07:16:13.883
> 
> 标签：css

所以我有这个使用 CSS :target 选择器弹出的模式。但是，单击时页面会跳转到锚点。我想防止页面跳转到 :target 选择器。我怎样才能做到这一点？

```
<a href="#openModal">Info</a>

<div id="openModal" class="modalDialog"> 
```

CSS：

```
.modalDialog {
    position: absolute;
    pointer-events: none;
    z-index: 99999;
opacity:0;
}

.modalDialog:target {
    opacity:1;
    pointer-events: auto;
}

.modalDialog > div {
    width: 900px;
    height: 506px;
    position: relative;
    background: rgba(0,0,0,0.9);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-01-06T18:40:51.443

制作`.modalDialog` `position: fixed`而不是`absolute`. 这将导致它始终位于页面当前滚动的任何位置。

一个更完整的例子：[http ://codepen.io/mblase75/pen/xbRNeV](http://codepen.io/mblase75/pen/xbRNeV)

（该代码笔演示中还涉及其他一些技巧——在模态框上的“关闭”按钮中添加另一个目标，这也可以`fixed`防止页面在模态框关闭时滚动，并将模态框的从更改`z-index`为`-1`（`100`或其他一些适当大的整数）将防止它在您关闭它后立即阻止点击。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-01-14T06:12:16.663

采用

```
<a href="#/">...</a> 
```

为了改变 CSS 中的 :target 选择器但无处可去。片段 #/ 不存在，因此页面不会滚动，但 :target 选择器会更改以影响 CSS 更改。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T07:35:27.837

尝试停止锚标记的默认操作

```
$('a').on('click', function(e){
    e.preventDefault();

    //do your poppin' up here.
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T07:31:34.113

这实际上与 CSS 无关，它是普通的旧 HTML。

您的链接中有一个哈希 id，它引用页面上的一个元素。单击此类链接时，每个浏览器都会将页面滚动到引用的元素。这是非常标准的行为。

除了不使用这种技术之外，您无法防止这种情况发生。好吧，也许有一种方法可以防止使用 JavaScript 黑魔法滚动，但你不应该这样做。

改用一些 jQuery：http://docs.jquery.com/Tutorials: [Basic_Show_and_Hide](http://docs.jquery.com/Tutorials:Basic_Show_and_Hide)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-23T03:38:15.310

您是否尝试过 css3 :focus 选择器？

[https://developer.mozilla.org/en-US/docs/Web/CSS/:focus](https://developer.mozilla.org/en-US/docs/Web/CSS/:focus)

还

[CSS 菜单 - 在关注子菜单时保持父级悬停](https://stackoverflow.com/questions/16106650/css-menu-keep-parent-hovered-while-focus-on-submenu)

你也可以使用一个`<button>`标签来代替你喜欢的样式。这将防止您的页面跳转，因为它不是锚点。

# android - facebook android sdk 3.0 登录另一个活动崩溃

> ID：15827998
> 
> 赞同：1
> 
> 时间：2013-04-05T07:16:26.430
> 
> 标签：android, facebook, crash, sdk3.0

我用android sdk 3.0登录代码Session在MainActivity可以运行..

但我移动到新的 Activtiy FB.JAVA.can't run .click button crash..

请问如何解决：

**MAinActivity.JAVA代码**

```
public void fbautotest(View v){

fb myffb=new fb();
myffb.facebookLogin();} 
```

**FB.JAVA代码**

```
public class fb extends Activity{

private static final List<String> PERMISSIONS = Arrays.asList("publish_actions","user_photos");
private PendingAction pendingAction = PendingAction.NONE;
private enum PendingAction {
    NONE, POST_PHOTO, POST_STATUS_UPDATE
}

private StatusCallback callback;
//private Activity mContext;
private Activity mContext;

public void facebookLogin()
{

    Session.openActiveSession(mContext, true, new Session.StatusCallback() {

        // callback when session changes state

        @Override
        public void call(Session session, SessionState state, Exception exception) {

            if (session.isOpened()) {
                Request.executeMeRequestAsync(session, new Request.GraphUserCallback() {

                      // callback after Graph API response with user object

                    @Override
                    public void onCompleted(GraphUser user,
                            Response response) {

                    }
                    });

            }
        }
      });

}
  } 
```

**错误代码**

```
04-05 06:50:16.246: W/dalvikvm(904): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
04-05 06:50:16.326: E/AndroidRuntime(904): FATAL EXCEPTION: main
04-05 06:50:16.326: E/AndroidRuntime(904): java.lang.IllegalStateException: Could not execute method of the activity
04-05 06:50:16.326: E/AndroidRuntime(904):  at android.view.View$1.onClick(View.java:3591)
04-05 06:50:16.326: E/AndroidRuntime(904):  at android.view.View.performClick(View.java:4084)
04-05 06:50:16.326: E/AndroidRuntime(904):  at android.view.View$PerformClick.run(View.java:16966)
04-05 06:50:16.326: E/AndroidRuntime(904):  at android.os.Handler.handleCallback(Handler.java:615)
04-05 06:50:16.326: E/AndroidRuntime(904):  at android.os.Handler.dispatchMessage(Handler.java:92)
04-05 06:50:16.326: E/AndroidRuntime(904):  at android.os.Looper.loop(Looper.java:137)
04-05 06:50:16.326: E/AndroidRuntime(904):  at android.app.ActivityThread.main(ActivityThread.java:4745)
04-05 06:50:16.326: E/AndroidRuntime(904):  at java.lang.reflect.Method.invokeNative(Native Method)
04-05 06:50:16.326: E/AndroidRuntime(904):  at java.lang.reflect.Method.invoke(Method.java:511)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
04-05 06:50:16.326: E/AndroidRuntime(904):  at dalvik.system.NativeStart.main(Native Method)
04-05 06:50:16.326: E/AndroidRuntime(904): Caused by: java.lang.reflect.InvocationTargetException
04-05 06:50:16.326: E/AndroidRuntime(904):  at java.lang.reflect.Method.invokeNative(Native Method)
04-05 06:50:16.326: E/AndroidRuntime(904):  at java.lang.reflect.Method.invoke(Method.java:511)
04-05 06:50:16.326: E/AndroidRuntime(904):  at android.view.View$1.onClick(View.java:3586)
04-05 06:50:16.326: E/AndroidRuntime(904):  ... 11 more
04-05 06:50:16.326: E/AndroidRuntime(904): Caused by: java.lang.NullPointerException: Argument 'applicationId' cannot be null
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.facebook.internal.Validate.notNull(Validate.java:29)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.facebook.Session.<init>(Session.java:224)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.facebook.Session.<init>(Session.java:213)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.facebook.Session$Builder.build(Session.java:1454)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.facebook.Session.openActiveSession(Session.java:863)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.facebook.Session.openActiveSession(Session.java:805)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.example.mk2weibo.fb.facebookLogin(fb.java:45)
04-05 06:50:16.326: E/AndroidRuntime(904):  at com.example.mk2weibo.MainActivity.fbautotest(MainActivity.java:410)
04-05 06:50:16.326: E/AndroidRuntime(904):  ... 14 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:19:22.630

阅读堆栈跟踪：

```
4-05 06:50:16.326: E/AndroidRuntime(904): Caused by: java.lang.NullPointerException: Argument 'applicationId' cannot be null 
```