# StackOverflow 问答 16029000-16029999

# html - HAML Twitter 引导选项卡无法正常工作 Ruby on Rails

> ID：16029002
> 
> 赞同：1
> 
> 时间：2013-04-16T04:48:58.493
> 
> 标签：html, css, ruby-on-rails, twitter-bootstrap, haml

我在使用 (HAML) ruby​​ on rails 中的 twitter 引导选项卡时遇到问题。选项卡正在显示，但当我单击相应的选项卡时内容不会改变。下面的语句也显示在网页上 tab1 内容的底部。-你好，我在更新。-你好，我在赞助商。-你好，我在评论中。

下面的代码显示了选项卡内容的列出位置。

谢谢你的帮助！

```
 .row#main-content{style:"background-color: white;margin-bottom:40px;"}
        .span8#content-left
            .tabbable
                %ul.nav.nav-tabs
                    %li.active
                        = link_to "About", "#tab1", "data-toggle"=>"tab"
                    %li
                        = link_to "Updates", "#tab2", "data-toggle"=>"tab"
                    %li
                        = link_to "Backerss", "#tab3", "data-toggle"=>"tab"
                    %li
                        = link_to "Comments", "#tab4", "data-toggle"=>"tab"

                .tab-content
                    .tab-pane.active{id: "tab1"}            

                        .row-fluid#content-left-first-row
                            = image_tag("content1.png")

                        .row-fluid#content-left-second-row
                            .span5
                                %button.btn#btn-like
                                    %i.icon-thumbs-up
                                    Like
                                %span{style: "font-size:80%;"} 976 people like this.Be the first of your friends.                           
                            .span2
                                %button.btn#btn-tweet
                                    %i.icon-twitter                         
                                    Tweet
                            .span5
                                %button.btn.btn-small#btn-embed <>Embed

                                %input{type:"text", placeholder:"http://loremipsum", style:"width:150px;margin-bottom: 0px;"}
                        .row.hr-row
                            %hr.hr-row
                        .row-fluid#content-left-third-row
                            %p
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                                %br
                                %br
                                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                %br
                                %br
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip.
                            = image_tag("content2.png")             
                            %p
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                                %br
                                %br
                                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                %br
                                %br
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip.
                                %br
                                %br
                                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                        .row-fluid#content-left-fourth-row
                            %h4{style:"margin-top: 50px;"} Have a question?
                            .row.hr-row
                                %hr.hr-row
                            .span9{style:"margin-left: 0px;"}
                                %p
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                            .span3
                                %button.btn.btn-primary.btn-large.pull-right{style:"margin-top: 20px;"} Ask a Question

                .tab-pane{id: "tab2"}
                    %p Howdy, I'm in Campaigns.
                .tab-pane{id: "tab3"}
                    %p Howdy, I'm in Campaigns Donations.
                .tab-pane{id: "tab4"}
                    %p Howdy, I'm in Personal Donations. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:05:16.650

要使标签正常工作，`.tab-pane`应该处于同一级别，而您的情况并非如此。

请参阅[文档](http://twitter.github.io/bootstrap/javascript.html#tabs)。

你需要有这样的标记

```
.tab-content
  #tab1.tab-pane.active
    //content for #tab1 goes here. 
  #tab2.tab-pane 
    //content for #tab2 goes here. 
  #tab3.tab-pane 
    //content for #tab3 goes here. 
  #tab4.tab-pane 
    //content for #tab4 goes here. 
```

在您上面的代码中

```
.tab-content
  .tab-pane.active{ :id: "tab1"}
    = image_tag("content1.png")

.row-fluid#content-left-second-row 
```

`.row-fluid#content-left-second-row`没有标签内容以及其他内容。因此，选项卡无法正常工作，因为选项卡内容只有一个`.tab-pane`.

您需要在 tab1之间`.tab-pane#tab1`和内部移动所有代码。`.tab-pane#tab2`

像这样

```
.tab-content
  .tab-pane.active{ :id => "tab1"}
    = image_tag("content1.png")

    .row-fluid#content-left-second-row
      ...
    .row.hr-row
      %hr.hr-row
    .row-fluid#content-left-third-row
       ...    
    .row-fluid#content-left-fourth-row
       ...
  .tab-pane{:id =>  "tab2"}
    %p Howdy, I'm in Updates.
  .tab-pane{:id =>  "tab3"}
    %p Howdy, I'm in Sponsors.
  .tab-pane{:id =>  "tab4"}
    %p Howdy, I'm in Comments. 
```

# java - 如何为类或方法创建自己的帮助

> ID：16029005
> 
> 赞同：0
> 
> 时间：2013-04-16T04:49:17.487
> 
> 标签：java, android, manual

我的问题：是否可以向类或方法添加一些信息（描述），当我在代码中使用此类或方法时，可以从 Eclipse 中看到。如何？

以及下图中的黑框，我想在我自己的方法旁边有自己的描述。

![在此处输入图像描述](https://i.stack.imgur.com/RSVRf.png)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T04:56:39.450

> 是否可以向类或方法添加一些信息（描述）

=> 是的 可以注释块（Javadoc 风格）。

例如：

```
/**
This method is used for bla bla bla...
@author Paresh Mayani
@Date 16th April
**/
public void display()
{
.....
.....
} 
```

在您实施时，上述评论将以黄色注释弹出。

# java - EasyMock 模拟方法调用在重置模拟对象后第二次调用时返回 null

> ID：16029006
> 
> 赞同：0
> 
> 时间：2013-04-16T04:49:36.670
> 
> 标签：java, mocking, easymock, powermock

这是我在 Stackoverflow 上的第一篇文章，到目前为止，我一直是这个论坛的活跃读者，我在这里发布我的第一个问题。

这是关于 EasyMock 的使用，我是 EasyMock 的新用户，在下面的示例代码中，我设置了一个协作者方法的期望值，该方法具有相同的返回对象（不管它是相同的对象还是不同的对象，但结果相同）并且我在退出测试方法之前正在重置。但是当执行第二个测试时，模拟方法返回 null，我不确定为什么会这样。

如果我运行这些方法

```
@RunWith(PowerMockRunner.class)
@PrepareForTest({CollaboratorWithMethod.class, ClassTobeTested.class})
public class TestClassTobeTested {

private TestId testId = new TestId();

 @Test
public void testMethodtoBeTested() throws Exception{
    CollaboratorWithMethod mockCollaborator = EasyMock.createMock(CollaboratorWithMethod.class);
    PowerMock.expectNew(CollaboratorWithMethod.class).andReturn(mockCollaborator);
    EasyMock.expect(mockCollaborator.testMethod("test")).andReturn(testId);
    PowerMock.replay(CollaboratorWithMethod.class);
    EasyMock.replay(mockCollaborator);
    ClassTobeTested testObj = new ClassTobeTested();
    try {
        testObj.methodToBeTested(); 
    } finally {
        EasyMock.reset(mockCollaborator);
        PowerMock.reset(CollaboratorWithMethod.class);
    }
}  

@Test
public void testMothedtoBeTestWithException() throws Exception {
    CollaboratorWithMethod mockCollaborator = EasyMock.createMock(CollaboratorWithMethod.class);
    PowerMock.expectNew(CollaboratorWithMethod.class).andReturn(mockCollaborator);
    EasyMock.expect(mockCollaborator.testMethod("test")).andReturn(testId);
    PowerMock.replay(CollaboratorWithMethod.class);
    EasyMock.replay(mockCollaborator);
    ClassTobeTested testObj = new ClassTobeTested();
    try {
        testObj.methodToBeTested();
    } finally {
        EasyMock.reset(mockCollaborator);
        PowerMock.reset(CollaboratorWithMethod.class);
    }
} 
```

}

这是我的合作者课程

```
public class CollaboratorWithMethod {
   public TestId testMethod(String text) throws IllegalStateException {
     if (text != null) {
        return new TestId();
     } else {
        throw new IllegalStateException();
     }
  }
} 
```

这是我正在测试的课程

```
public class ClassTobeTested {

public static final CollaboratorWithMethod collaborator = new CollaboratorWithMethod();

public void methodToBeTested () throws IOException{
    try {
        TestId testid = collaborator.testMethod("test");
        System.out.println("Testid returned "+ testid);
    } catch (IllegalStateException e) {
        throw new IOException();
    }
}
} 
```

我正在寻求你们的帮助，以了解这里到底发生了什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T07:32:22.443

类中的`collaborator`变量`ClassTobeTested`是最终的。第一个测试用例用模拟对象初始化变量。第二个测试用例无法再次初始化变量。您在第二个测试用例中创建的模拟对象上设置了期望，但实际上该变量仍然指的是第一个模拟对象。

由于您不想修改类，您应该使用@BeforeClass 设置一次模拟引用并将“mockCollaborator”设置为全局变量，以便您可以在多个测试用例中使用该引用。

# css - 自定义项目符号列表显示不佳

> ID：16029007
> 
> 赞同：0
> 
> 时间：2013-04-16T04:49:38.357
> 
> 标签：css, html-lists

我正在尝试创建自定义项目符号列表，但它不能很好地显示我的预期。

问题是它太近了，如这里的链接所示 ![在此处输入图像描述](https://i.stack.imgur.com/bOo1G.png)

建议将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T07:02:17.880

您可能应该尝试`line-height`为`<li>`'s 指定 a。

像：

```
<ul class="custom-list">
    <li>some item</li>
    <li>some other item</li>
</ul> 
```

和CSS：

```
.custom-list li {
    line-height: 20px;
} 
```

[在这里](http://jsfiddle.net/excentris/ycANw/)查看jsfiddle更改`line-height`并点击运行查看效果...

您可能还需要调整自定义项目符号图像的位置，但正如我在评论中所说，您应该提供一些代码示例或更好的[jsfiddle](http://jsfiddle.net/)以便能够进一步帮助您......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T09:17:21.443

您可以使用 :after 和 :before 选择器。我的建议是使用这样的东西：

```
ul{list-style:none;}
li{padding-left:15px; position:relative;}
li:before{content:" "; position:absolute; left:0; height:10px; width:10px; background:url(path/img);} 
```

# c++ - opencv highgui 显示窗口

> ID：16029009
> 
> 赞同：0
> 
> 时间：2013-04-16T04:49:51.420
> 
> 标签：c++, opencv

我安装了opencv并运行了几个例子。我可以运行简单的图像显示程序。（[http://docs.opencv.org/doc/tutorials/introduction/display_image/display_image.html](http://docs.opencv.org/doc/tutorials/introduction/display_image/display_image.html)）图像窗口不显示坐标和本视频中的 RGB 像素值。[http://www.youtube.com/watch?feature=player_embedded&v=1OJEqpuaGc4](http://www.youtube.com/watch?feature=player_embedded&v=1OJEqpuaGc4)。有人知道为什么以及如何在窗口底部获取坐标和 rgb 值，如示例视频中所示...

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T07:01:49.960

我终于想通了.. opencv 库必须用 qt 而不是 gtk 编译

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:07:29.453

您可以使用鼠标回调手动执行此操作：

[http://bsd-noobz.com/opencv-guide/45-3-using-mouse](http://bsd-noobz.com/opencv-guide/45-3-using-mouse)

# visual-studio-2012 - Visual Studio 2012 中缺少部署项目类型

> ID：16029010
> 
> 赞同：0
> 
> 时间：2013-04-16T04:49:53.357
> 
> 标签：visual-studio-2012, packaging, setup-deployment, visual-studio-express

我不是一名全职程序员，但必须做一些工作来构建工具来支持我的工作。我已经完成了我现在需要部署的应用程序的编写。

我不想使用“ClickOnce”，因为我需要在配置时更改“本地”文件夹中的文件。我的理解是，如果我使用 Build 菜单下的 Publish 选项，那么我使用的是“ClickOnce”。

我的研究使我相信“​​您可以通过在解决方案中添加一个或多个部署项目来做到这一点”。MSDN 然后声明，要实现这一点，我需要选择“添加项目”和“在生成的添加新项目对话框中，选择设置和部署项目文件夹。”

问题是，我没有这样的选择？！

有人可以解释为什么会这样，以及我如何解决它。我用谷歌搜索了半天，找不到前进的方向？

项目及系统详情如下：

环境：适用于 Windows 桌面的 Visual Studio 2012 Express。
当前项目：Windows 窗体应用程序。
操作系统：Windows 7 专业版。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T04:58:28.173

尽管它的建议可能是正确的，但这是您正在阅读的旧教程。它可能指的是 Visual Studio 2010。

[该选项已在 VS 2012 中删除](http://blogs.msdn.com/b/buckh/archive/2011/03/17/visual-studio-setup-projects-vdproj-will-not-ship-with-future-versions-of-vs.aspx)。您将需要使用替代工具来构建安装程序。例如：

*   [维克斯](http://wix.codeplex.com/)
*   [创新设置](http://www.jrsoftware.org/isinfo.php)
*   [安装盾牌](http://www.installshield.com/)
*   …ETC。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-18T22:16:29.550

我强烈建议查看 Wix#。请参阅[http://www.codeproject.com/Articles/31407/Wix-WixSharp-managed-interface-for-WiX](http://www.codeproject.com/Articles/31407/Wix-WixSharp-managed-interface-for-WiX)。如果您使用 C#、Wix# 进行编码，这可能是最简单、最舒适的技能组合，而且它是免费的，可以直接集成到您正在使用的 Visual Studio 环境中。

有关 Wix# 的 CodePlex 主页的更多信息：[http ://wixsharp.codeplex.com/](http://wixsharp.codeplex.com/)

对于需要创建 Windows Installer MSI 来部署他们的应用程序的 C# 开发人员，Wix# 可能是 Microsoft 从 VS2012 开始从 Visual Studio 中删除的“打包和部署”项目类型的最佳替代品。Wix 是 WiX (Windows Installer Xml) 工具集的 C# 前端。使用 Wix# 允许以 C# 语言构建完整的 Windows Installer MSI。

Wix# 对于广泛的安装/部署场景很有用，并且非常适合持续集成场景。有用于部署 Windows 桌面应用程序、安装 Windows 服务和安装 ASP.NET 网站以及更多类型的安装的 Wix# 示例。

问题提到需要在 Windows 7 上安装应用程序。Wix# 支持此环境，并处理典型的安装程序要求，简单项目的 Wix# 安装程序代码确实很简单。对于更复杂且需要高级功能的应用程序安装，Wix# 可以在需要时利用完整 WiX 工具集的强大功能。例如，在安装 .NET 应用程序时，典型的要求是安装应用程序 exe 和 dll 文件，并在目标系统上定制一些 .NET 配置文件和/或注册表项。

下面是一个简单的 Wix# 安装程序的 C# 代码示例，该安装程序在目标系统上安装应用程序并修改一些配置文件。此示例假定您已经编写了一个名为“TailorMyConfig.exe”的实用程序，例如，一个使用 ConfigurationManager.AppSettings 例程的简单 C# 程序，并且您正在将该 exe 与您的应用程序一起部署。

```
using System;
using System.Windows.Forms;
using System.Diagnostics;
using Microsoft.Deployment.WindowsInstaller;
using WixSharp;

class Script
{
    static public void Main(string[] args)
    {
        var project = new Project("MyProduct",
                          new Dir(@"%ProgramFiles%\My Company\My Product",
                              new File(@"Files\Bin\MyApp.exe"),
                              new File(@"Files\Bin\TailorMyConfig.exe")),
                          new ManagedAction("UpdateConfigFile"));

        project.Id = new Guid("6f330b47-2577-43ad-9095-1861ba25889b");

        Compiler.BuildMsi(project);
    }
}

public class MyCustomAction
{
    [CustomAction]
    public static ActionResult UpdateConfigFile(Session session)
    {
        if (DialogResult.Yes == MessageBox.Show("Config file update ready to run.\n Update config file(s) now?", 
                                                "Config Tailoring Utility",
                                                MessageBoxButtons.YesNo))
        {
            Process.Start("TailorMyConfig.exe", "Run utility to tailor config file to current system");
        }
        return ActionResult.Success;
    }
} 
```

请注意，有一些“更好”的方法可以使用 WiX XML 功能修改配置文件。为简单起见，上面的示例假定使用自定义编写的 C# exe 实用程序来修改配置文件。我建议改用 WiX XML 功能来执行此操作。您可以使用“XML 注入”的 Wix# 技术将几乎所有 WiX XML 功能直接合并到您的 Wix# 设置中。

请记住，Wix# 只是一个发出 WiX XML 语法的 C# 前端。在 Wix# 发出 WiX XML（wxs 文件）之后，可以轻松地对该 wxs 文件进行后处理以插入其他 WiX XML 功能。然后生成的 wxs 文件由 WiX 工具集编译成 MSI。

有关使用 XML 注入将 WiX XML 功能合并到 Wix# (C#) 安装中的示例，请查看此处[在 Wix# 中，当仅部署注册表项时，如何避免在目标系统上创建物理文件夹？](https://stackoverflow.com/questions/26558933/in-wix-how-to-avoid-creating-a-physical-folder-on-the-target-system-when-depl/26600575#26600575) 在那个问题中，请参阅我的答案，该答案使用将委托连接到“WixSourceGenerated”事件的技术。

然后，您可以使用这种 XML 注入方法将一些 WiX XML 插入到您的安装程序中，从而完成配置文件的编辑。修改配置文件的一些典型 WiX XML 示例如下： [如何在安装期间修改 .NET 配置文件？](https://stackoverflow.com/questions/289773/how-to-modify-net-config-files-during-installation)

安装程序的另一个典型要求是在目标系统上添加或修改 Windows 注册表项。Wix# 使用“RegValue”类提供直接支持。使用 Wix# 的好处是，您还可以免费获得完整的“卸载”功能，包括将注册表项卸载/恢复到预安装状态。这是基于 WiX 工具集和 Windows Installer 技术构建的 Wix# 的自然结果。仅注册表 Wix# 安装程序的示例如下：[在 Wix# 中，仅部署注册表项时，如何避免在目标系统上创建物理文件夹？](https://stackoverflow.com/questions/26558933/in-wix-how-to-avoid-creating-a-physical-folder-on-the-target-system-when-depl/26600575#26600575)

Wix# 方法在我的环境中非常有用，它允许使用熟悉的 C# 技能集，而无需一头扎进 WiX XML 安装程序技术的全部复杂性。

# c# - 如何使用 mvc 将转换后的数据表导出到 Web 应用程序中的文本文件

> ID：16029015
> 
> 赞同：0
> 
> 时间：2013-04-16T04:50:23.523
> 
> 标签：c#, asp.net-mvc-3, file-io, stream, export

我使用mvc格式的程序。我的数据表中有值列表。我使用 stream-writer 转换这个数据表 --> 文本文件。但我不知道它是如何通过客户端下载选项的，我的示例代码如下所示，请提出您的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T04:53:27.923

**请参阅代码的重要部分：**

```
public void ExportDataTabletoFile(DataTable datatable, string delimited, bool exportcolumnsheader, string file)

{

    StreamWriter str = new StreamWriter(file, false, System.Text.Encoding.Default);

    if (exportcolumnsheader)

    {

        string Columns = string.Empty;

        foreach (DataColumn column in datatable.Columns)

        {

            Columns += column.ColumnName + delimited;

        }

        str.WriteLine(Columns.Remove(Columns.Length - 1, 1));

    }

    foreach (DataRow datarow in datatable.Rows)

    {

        string row = string.Empty;

        foreach (object items in datarow.ItemArray)

        {

            row += items.ToString() + delimited;

        }

        str.WriteLine(row.Remove(row.Length - 1, 1));

    }

    str.Flush();

    str.Close();

} 
```

**参考链接：**

[http://www.c-sharpcorner.com/UploadFile/cd19b9/how-to-download-datatable-to-text-file-in-C-Sharp/](http://www.c-sharpcorner.com/UploadFile/cd19b9/how-to-download-datatable-to-text-file-in-C-Sharp/)

# linux - understanding server structure

> ID：16029016
> 
> 赞同：-1
> 
> 时间：2013-04-16T04:50:29.110
> 
> 标签：linux, apache, filesystems, centos, dedicated-server

I have recently purchased a dedicated server with apache on centOS. I want to understand the complete file structure in the server. I am accessing it through putty shell prompt.

What i need to understand is that how the files are stored and where. Like through WHM i am able to login to cpanel and create subdomains etc. And through ftp, i can put contents in that subdomain directory.

Now how do i access those directories for subdomains? How the individual website accounts are stored? I want to get a clear picture of the complete system through shell. I just now prefer using shell to view the file system hierarchy. any help would be really great.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:45:57.030

Most/many Linux distributions adhere to a standard layout called FHS - File System Hierarchy Standard. That lays out some of the ground rules around where major things go - things like /etc for configuration and /var for things that, well, vary.

The most relevant thing you probably care about is that apache's config information is somewhere in /etc/httpd, the actual HTML files are in /var/www and the logs are in /var/log.

[http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-filesystem-fhs.html](http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-filesystem-fhs.html).

[How to list the contents of a package using YUM?](https://stackoverflow.com/questions/104055/how-to-list-the-contents-of-a-package-using-yum) will show you where the apache package puts things by default.

Note that all of this is just convention - if you install apache from source you can put everything where you like, but it may confuse other people that have to support your box.

# javascript - javascript查找图像索引

> ID：16029019
> 
> 赞同：2
> 
> 时间：2013-04-16T04:51:17.063
> 
> 标签：javascript, jquery

我正在尝试`data.artist.image`显示数组中的 url，以便稍后将其放入图像标签中。我不断在控制台中获取 [object][object]。为什么`data.artist.image[0]`不给我数组中的第一项（小图像的 url）这是对象和代码：

```
Object {artist: Object}
artist: Object
bandmembers: Object
bio: Object
image: Array[5]
 mbid: "0acae232-d31a-4211-b6d0-6af1b6350274"
name: "Thursday"
ontour: "0"
similar: Object
stats: Object
streamable: "1"
tags: Object
url: "http://www.last.fm/music/Thursday" 
```

代码：所有 ajax 工作。我只是没有对阵列做正确的事情。

```
 $.ajax({
      dataType: "json",       
      url: "http://ws.audioscrobbler.com/2.0/?method=artist.getInfo&artist=Thursday&api_key=0bd6c5780da878f5bb51393e84329809&format=json&callback=?",
      //data: (optional) and not used here
      success: function(data){
        console.log(data);          
        var html = "";
        //var artist = data.artist;

        html =  
                '<p>' + data.artist.image[0] + '</p>' +
                '<p>' + data.artist.name + '</p>' +
                '<p>' + data.artist.bio.content + '</p>';
        $("#content").append(html);

      },
      complete: function(){
        console.log("call is complete!");
      },
      error: function(){
        console.log("something went wrong!");
      }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T04:57:03.073

image[0] 将为您提供该数组中的第一个对象，但它仍然是一个对象而不是字符串值

```
data.artist.image[0]["#text"] // "http://userserve-ak.last.fm/serve/34/59393737.png" 
```

要获取图像的 url，您可能需要检查 data.artist.image[0] 实际上是一个值而不是 null/undefined。

# javascript - jQuery UI Slider 更改和滑动事件报告不同的结果

> ID：16029025
> 
> 赞同：2
> 
> 时间：2013-04-16T04:52:18.897
> 
> 标签：javascript, jquery, jquery-ui, anonymous-function, jquery-slider

好的，所以这里问了一个非常相似的问题

[jQuery UI Slider - 发布时从“幻灯片”事件返回的值与“更改”值不同](https://stackoverflow.com/questions/9121160/jquery-ui-slider-value-returned-from-slide-event-on-release-is-different-fro)

但在我看来，答案并不令人满意。这是我的 JavaScript 代码：http: [//jsfiddle.net/AsDZJ/4/](http://jsfiddle.net/AsDZJ/4/)

```
function slideVal() {
    var number = $("#number_slider").slider("value");
    $("#number_field").append('Slide: ' + number + '<br/>');
}

function changeVal() {
    var number = $("#number_slider").slider("value");
    $("#number_field").append('Change: ' + number + '<br/>');
}

$(function() {
    $( "#number_slider" ).slider({
        min: 1,
        max: 10,
        change: changeVal,
        slide: slideVal
    });

    $( "#number_slider" ).slider( "value", 5 );
}); 
```

问题是滑块在调用*更改*处理程序和调用*幻灯片*处理程序之间报告了不同的值。

现在，另一个问题指出，如果您匿名声明函数，您可以简单地使用 ui.value，如下所示：

```
$( "#number_slider" ).slider({
    min: 1,
    max: 10,
    change: function(event, ui) {
        $("#number_field").append('Change: ' + ui.value + '<br/>');
    }
}); 
```

这确实给出了更一致的结果，但也意味着如果在我的情况下，每当事件发生变化时我有很多复杂的逻辑要执行，我必须重复代码。此外，计算涉及来自多个滑块的滑块值。

如何从显式声明的函数中访问正确的值？jQuery UI 中的这种行为是错误吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-16T13:30:47.240

您仍然可以使用参数定义全局函数，当您初始化滑块时，只需传入函数名称而不是使用匿名回调

```
function slideVal(e, ui) {
    var number = ui.value;
    $("#number_field").append('Slide: ' + number + '<br/>');
}

function changeVal(e, ui) {
    var number = ui.value;
    $("#number_field").append('Change: ' + number + '<br/>');
}

$(function() {
    $( "#number_slider" ).slider({
        min: 1,
        max: 10,
        change: changeVal,
        slide: slideVal
    });

    $( "#number_slider" ).slider( "value", 5 );
}); 
```

# git - Git 从分支合并到主控：如何在没有分支的情况下获得干净的主控？

> ID：16029027
> 
> 赞同：2
> 
> 时间：2013-04-16T04:52:29.343
> 
> 标签：git

这是我的情况，有一个 GIT 存储库，我在 master 上工作，而其他人在一个分支上工作，比如地铁，具有以下历史记录（比如一个文件）：

编辑：对不起，格式不是用户友好的，我已将其更新如下：

人员 A 和 B 都在处理同一个文件，人员 A 正在处理 master 并提交：Time1A、Time2A 和 Time3A 更改：分别添加 1、3、5

人 B 正在分支地铁上工作，提交：Time1B、Time2B 和 Time3B 更改：分别添加 2、4、6

当 PersonB 从 metro 合并到 master 时，提交历史将如下所示：

时间1A，时间1B，时间2A，时间2B，时间3A，时间3B

在我得到的文件中：1,2,3,4,5,6。

如果我需要在合并之前获得一个干净的 master，我可以只签出 Time3A 的提交吗？它是否包括在 Time3 之前从地铁合并的东西？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:51:12.827

在 Git 中进行合并只会增加历史记录。它不会修改过去 - 如果您在合并后检查过去的提交，该提交将与提交时完全相同。

顺便说一句，您的时间线并不真正正确：这两个分支并没有像那样追溯混合。提交历史的更好描述是：

```
master -> ... Time1A -- Time2A -- Time3A
                                        \
                                         >-- Merge
                                        /
subway -> ... Time1B -- Time2B -- Time3B 
```

在这段历史中，标记为“Merge”的提交有两个父项（Time3A 和 Time3B）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T05:55:05.700

一个更好的解决方案是 B 将他/她的工作重新基于 A

```
(master) -> ... Time1A -- Time2A -- Time3A
                                        \
                                         >--  Time1B' -- Time2B' -- Time3B' (subway) 
```

然后合并到 master 是一个快进的：

```
(master) -> ... Time1A -- Time2A -- Time3A --  Time1B' -- Time2B' -- Time3B' (master,subway) 
```

见“[`git rebase`对`git merge`](https://stackoverflow.com/questions/804115/git-rebase-vs-git-merge/804178#804178)”。

# asp.net-mvc-3 - 此安装不支持项目类型... vs2010 mvc3

> ID：16029028
> 
> 赞同：2
> 
> 时间：2013-04-16T04:52:53.017
> 
> 标签：asp.net-mvc-3, visual-studio-2010

我正在尝试在我的系统上打开一个 mvc3 项目，但我在弹出窗口中收到一条错误消息，提示“一个或多个项目未正确加载。请参阅输出窗口了解详细信息”，当我关闭弹出窗口时，下面我看到一条消息“此安装不支持项目类型。”

我的系统上安装了 mvc3，这个项目是在 mvc3 中开发的。我不确定是什么问题，很多时候当我尝试打开在其他机器上开发的项目时，我都会遇到同样的错误。我能够在我的系统上开发 mvc3 项目并运行它们而没有任何问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-07T07:02:28.940

您的项目文件中可能没有一个或多个文件。检查文件包含在资源管理器中的项目

# java - 是否可以将肥皂消息写入 xml 文件？

> ID：16029038
> 
> 赞同：1
> 
> 时间：2013-04-16T04:53:20.580
> 
> 标签：java, xml, soap

我有一个肥皂消息，我需要创建一个包含该肥皂消息的 XML 文件，并且我想将该文件存储在我的本地目录中，以便稍后将文件发送给客户端。是否可以使用java。如果是这样，比怎么样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T12:08:55.503

如果消息是

1.  一个字符串，然后用于`FileWriter`将其写入扩展名为“.xml”的文件。
2.  一个`SOAPMessage`对象，然后用于`writeTo()`将其写入文件流。
3.  一个`JAXBElement`对象，然后使用 a`Marshaller`将对象编组（反序列化）为字符串，然后按照第 1 点中的方法将其写入文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T04:57:03.510

你用什么来准备肥皂信息。

如果你正在使用，`javax.xml.soap.SOAPMessage`那么这个类有一个方法`writeTo(OutputStream)`。您可以提供一个`FileOutputStream`输出文件中的肥皂消息。

# hadoop - EMR 上的猪：如何在 EXTRACT 函数的正则表达式参数中包含分号

> ID：16029040
> 
> 赞同：2
> 
> 时间：2013-04-16T04:53:25.643
> 
> 标签：hadoop, apache-pig, amazon-emr, emr

我正在处理 Pig 中的一些数据，其中包括感兴趣的字符串，可选地用分号分隔并以随机顺序，例如

```
test=12345;foo=bar
test=12345
foo=bar;test=12345 
```

以下代码应提取测试“键”的字符串值：

```
blah =
  FOREACH
    data
  GENERATE
    FLATTEN (
      EXTRACT (
        str_of_interest,
        'test=(\\S+);?'
      )
    )
    AS (
      test: chararray
    )
  ; 
```

但是，在运行代码时，我遇到以下错误：

```
<line 46, column 0>  mismatched character '<EOF>' expecting '''
2013-04-16 04:46:05,245 [main] ERROR org.apache.pig.tools.grunt.Grunt - ERROR 1200: <line 46, column 0>  mismatched character '<EOF>' expecting ''' 
```

我以为我一开始就关闭了正则表达式转义语法，但这似乎不是问题。我从 Google 搜索中获得的唯一信息是一个似乎最近已修复的[错误报告](https://issues.apache.org/jira/browse/PIG-2507)，但它仍然是我正在运行的 Amazon EMR 集群上的一个问题（为了进行分析，刚刚启动了 ad hoc）。

正如错误报告中和其他地方所建议的那样，将分号替换为其 Unicode 等效项 (\u003B) 会产生相同的错误。

我可能疯了，这可能是一个语法问题，所以我希望有人能够指出我正确的方向或确认这是一个现有的问题。如果是后者，是否有任何解决方法（在 Pig 中或匹配我想要的字符串）？

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T18:06:07.440

这是一个将在 0.12 中修复的错误（请参阅[http://issues.apache.org/jira/browse/PIG-2507](http://issues.apache.org/jira/browse/PIG-2507)）

如果您无法更改分隔符或等待新版本发布（在 EMR 上，这可能需要比实际 Apache 版本更长的时间），我会实现自己的 UDF 并以某种方式对正则表达式进行硬编码。您可以使用[RegexExtract](http://svn.apache.org/repos/asf/pig/trunk/contrib/piggybank/java/src/main/java/org/apache/pig/piggybank/evaluation/string/RegexExtract.java)作为起点。

显然，您也可以通过应用补丁来构建自己的 pig 版本，但我想这有点复杂。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T09:43:25.537

看起来您正在为 Pig 使用 Amazon 的字符串操作和 DateTime 函数，因为`EXTRACT()`它不是内置函数。

尝试切换到使用内置功能`REGEX_EXTRACT_ALL()`

# c# - 用户单击消息对话框“确定”按钮时重新启动代码

> ID：16029043
> 
> 赞同：1
> 
> 时间：2013-04-16T04:53:45.117
> 
> 标签：c#

我正在尝试为我正在制作的一个简单的数字猜谜游戏添加我的代码。一旦用户猜到正确的数字，就会弹出一个消息对话框，告诉他他是赢家。该消息对话框有一个名为“确定”的按钮，当我单击它时，我将返回表单。

相反，我希望它重新启动代码，以便生成一个新的随机数。这是可能的还是我需要手动将代码恢复到获胜者代码区域内的默认状态？

这是我现在的代码：

```
 private void btnEval_Click (object sender, EventArgs e)
    {
        // increment the counter to be displayed later
        howManyClicks++;

        // main decision conditions, ensures something is entered
        if (txtNum.Text != "")
        {
            // user input number
            double num = double.Parse (txtNum.Text);

            if (randomNumber > num)
            {
                // if too low
                this.BackColor = Color.Yellow;
                lblMain.Text = "TOO LOW!";
                lblReq.Text = "please try again";
                txtNum.Clear ();
                txtNum.Focus ();

            }
            else if (randomNumber < num)
            {
                // if too high
                this.BackColor = Color.Red;
                lblMain.Text = "TOO HIGH!";
                lblReq.Text = "please try again";
                txtNum.Clear ();
                txtNum.Focus ();
            }
            else
            {
                // correct
                this.BackColor = Color.Green;
                lblMain.Text = "CORRECT!";
                lblReq.Text = "well done";
                MessageBox.Show ("You are right!! It took you " + howManyClicks + " guesses", "You are a WINNER!!",
                    MessageBoxButtons.OK, MessageBoxIcon.Exclamation, MessageBoxDefaultButton.Button1);
                txtNum.Clear ();
                txtNum.Focus ();
            }
        }
        else
        {
            MessageBox.Show ("You must enter a vaild number! Please try again.", "ERROR",
                MessageBoxButtons.OK, MessageBoxIcon.Error, MessageBoxDefaultButton.Button1);
            txtNum.Clear ();
            txtNum.Focus ();
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:29:59.793

显然，您的“游戏状态”（`howManyClicks`, `randomNumber`, ...）存储在表单的实例变量中。因此，您有以下选择：

* * *

将游戏状态提取到它自己的类中，并在表单中只保留对此类实例的引用：

```
GameState state; 
```

当您开始或重新启动游戏时，只需指定`new GameState()`并`state`重置表单的用户界面元素。

* * *

或者，您可以关闭并重新打开表单。您的主循环可能如下所示：

```
while (true) {
    var form = new GameForm();
    var result = form.ShowDialog(); // waits until the form as been closed

    if (result == DialogResult.Cancel) {
        break;  // The user wants to stop playing
    }
} 
```

在您的游戏表单中，当`OK`单击按钮时，您设置[`Me.DialogResult`](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.dialogresult.aspx)为`DialogResult.OK`然后关闭表单。外部循环将自动重新打开一个新的空游戏表单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T04:59:40.653

只需为此代码创建函数。

选择所有代码，然后右键单击它，选择第二个选项：`Refactor`

选择子选项：`Extract a method`。

您可以为此公共方法命名。

然后你可以从任何地方调用这个方法，（正如你提到的重新启动代码）。

# java - 'id' 参数作为 null 进入 PreparedStatement

> ID：16029047
> 
> 赞同：0
> 
> 时间：2013-04-16T04:53:58.013
> 
> 标签：java, mysql, jsp, jdbc, jstl

我在一个单独的类中有这个方法，

```
 public void updateBook(String bookName, String bookAuthor,
            String bookGenres, String bookDesc, Date bookDueDate,
            String bookStatus, String fullname, int id) {
        try {
            Class.forName(driverName).newInstance();
        } catch (InstantiationException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (ClassNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        try {
            Connection connection = DriverManager.getConnection(dbURL,
                    username, password);

            String updateQuery = "UPDATE bookTrackerSystem SET bookname=?, bookAuthor=?, bookGenres=?, bookDesc=?, bookDueDate=?, fullname=? WHERE id=?";
            PreparedStatement update = connection.prepareStatement(updateQuery);

            update.setString(1, bookName);
            update.setString(2, bookAuthor);
            update.setString(3, bookGenres);
            update.setString(4, bookDesc);
            update.setDate(5, bookDueDate);
            update.setString(6, bookStatus);
            update.setString(7, fullname);

            update.executeUpdate();
            System.out.println(update.toString());
            update.close();
            connection.close();

        } catch (SQLException e) {
            e.printStackTrace();
        }

    } 
```

而这个 JSP 页面，

```
</head>
<%
    request.getParameter("id");
    session.setAttribute("id", request.getParameter("id"));
%>
<body>
    <div id="formDiv">

        <form action="UpdateBook" method="POST">
            <table>
                <tr>
                    <td>Book Name:</td>
                    <td><input type="text" name="bookName"></td>
                </tr>
                <tr>
                    <td>Book Author:</td>
                    <td><input type="text" name="bookAuthor"></td>
                </tr>
                <tr>
                    <td>Book Genre:</td>
                    <td><input type="text" name="bookGenre"></td>
                </tr>
                <tr>
                    <td>Book Description:</td>
                    <td><input type="text" name="bookDesc"></td>
                </tr>
                <tr>
                    <td>Book Due Date :</td>
                    <td><input type="text" name="bookDueDate"></td>
                </tr>
                <tr>
                    <td>Book Status:</td>
                    <td><input type="text" name="bookStatus"></td>
                </tr>

                <tr>
                    <td colspan="2"><input type="submit" name="submit"
                        value="Update Book"></td>
                </tr>

            </table>
        </form>
    </div>

</body> 
```

此 servlet 在单击按钮后处理

```
protected void doPost(HttpServletRequest request,
            HttpServletResponse response) throws ServletException, IOException {

        HttpSession session = request.getSession(true);
        String id_str = session.getAttribute("id").toString();

        BookTrackerBean sql = new BookTrackerBean();
        String bookName = request.getParameter("bookName");
        String bookAuthor = request.getParameter("bookAuthor");
        String bookGenres = request.getParameter("bookGenres");
        String bookDesc = request.getParameter("bookDesc");
        String bookDueDate = request.getParameter("bookDueDate");
        String bookStatus = request.getParameter("bookStatus");
        String fullname = request.getParameter("fullname");
        int id = Integer.parseInt(id_str);
        PrintWriter out = response.getWriter();
        out.println(id);
        Date date = new Date();
        SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd");
        try {
            date = formatter.parse(bookDueDate);
        } catch (ParseException e) {

            e.printStackTrace();
        }
        java.sql.Date sqlDate = new java.sql.Date(date.getTime());

        sql.updateBook(bookName, bookAuthor, bookGenres, bookDesc, sqlDate,
                bookStatus, fullname, id);

    } 
```

这一切都从从这个页面获取 id 开始，

```
<body>
    <sql:setDataSource var="snapshot" driver="com.mysql.jdbc.Driver"
        url="jdbc:mysql://localhost:3306/BookTracker" user="root" password="school" />

    <sql:query dataSource="${snapshot}" var="result">
SELECT * from BookTrackerSystem;
</sql:query>

    <table border="1" width="100%">
        <tr>
            <th>Book ID</th>
            <th>Book Name</th>
            <th>Book Author</th>
            <th>Book Genre</th>
            <th>Book Description</th>
            <th>Book Due Date</th>
            <th>Book Status</th>
            <th>Full Name</th>
        </tr>
        <c:forEach var="row" items="${result.rows}">
            <tr>
                <td><c:out value="${row.id}" /></td>
                <td><c:out value="${row.bookName}" /></td>
                <td><c:out value="${row.bookAuthor}" /></td>
                <td><c:out value="${row.bookGenres}" /></td>
                <td><c:out value="${row.bookDesc}" /></td>
                <td><c:out value="${row.bookDueDate}" /></td>
                <td><c:out value="${row.bookStatus}" /></td>
                <td><c:out value="${row.fullname}" /></td>
                <td><a href="updatebook.jsp?id=${row.id}">Update</a></td>

            </tr>
        </c:forEach>
    </table>
</body> 
```

奇怪的是，我遇到的是，我可以完美地获取并打印“id”，但在准备好的语句中它会为空。为什么？

这是我单击按钮时执行的 PreparedStatement

```
UPDATE bookTrackerSystem SET bookname='aaaaaa', bookAuthor='', bookGenres='', bookDesc='', bookDueDate='1991-10-10', fullname='' WHERE id=null 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:07:04.417

对于`PreparedStatement`您需要以与查询中需要它们相同的顺序传递值。

因此，对于您的语句，`UPDATE bookTrackerSystem SET bookname=?, bookAuthor=?, bookGenres=?, bookDesc=?, bookDueDate=?, fullname=? WHERE id=?`您为参数 6 和 7 传递了错误的值，并且您没有为 id 添加任何参数，在您的情况下这应该是第 8 个参数。

因此，根据第 6 个和第 7 个参数更新您的代码，并将 id 值添加为 update.setString(8, id);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T04:58:38.047

你没有提交 id ，把它放在表单的隐藏字段中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:00:01.423

在您的 updateBook 方法中，

```
update.setString(1, bookName);
            update.setString(2, bookAuthor);
            update.setString(3, bookGenres);
            update.setString(4, bookDesc);
            update.setDate(5, bookDueDate);
            update.setString(6, bookStatus);
            update.setString(7, fullname); 
```

我没有看到您用来设置 Id 值的代码，所以这就是将 id 设置为 null 的原因，

如果你添加

update.setLong(8, id);

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T05:01:45.950

ID 不会为空。您在这里使用了错误的变量。

```
update.setString(7, fullname); 
```

第 7 位适用于您的 where 条件，并且您将全名放在那个不是 id 中。

将其更改为

```
update.setString(7, id); 
```

# objective-c - 预期的 ”;” 在声明列表的末尾

> ID：16029048
> 
> 赞同：-2
> 
> 时间：2013-04-16T04:54:17.067
> 
> 标签：objective-c, syntax

一直在想我下面的代码有什么问题。所有方法声明都被 XCODE 引用为错误。它说预期“;” 在声明列表的末尾。我会很感激你的帮助。谢谢 ：）

```
 @interface
    Budget : NSObject{

float exchangeRate;
double budget;
double exchangeTransaction;

- (void) createBudget: (double) aBudget withExchangeRate: (float) anExchangeRate;
- (void) spendDollarts: (double) dollars ;
- (void) changeForeignCurrency: (double) foreignCurrency ;
    }
    @end

    int main(int argc, const char * argv[])
    {
         NSLog(@"Run Without error");
         return 0;
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T04:57:16.837

你有一个`}`错误的地方。它必须紧随其后`exchangeTransaction`。例子：

```
@interface Budget : NSObject 
{
    float exchangeRate;
    double budget;
    double exchangeTransaction;
}

- (void)createBudget:(double)aBudget withExchangeRate:(float)anExchangeRate;
- (void)spendDollars:(double)dollars;
- (void)changeForeignCurrency:(double)foreignCurrency;

@end 
```

# symfony - 存在 .lock 文件时显示维护页面

> ID：16029049
> 
> 赞同：0
> 
> 时间：2013-04-16T04:54:26.997
> 
> 标签：symfony, nginx

伙计们！

我试图弄清楚，如何仅在`.lock`文件存在时才显示维护。问题是，我正在为我的项目使用 symfony2。我无法让它工作。

我正在尝试做这样的事情（nginx 配置）：

```
location / {
   if (-f $document_root/.lock) {
     rewrite ^ /maintenance last;
     break;
   }
   index app.php;
   try_files $uri @rewriteapp;
}

location @rewriteapp {
  rewrite ^(.*)$ /app.php/$1 last;
}

location ~ ^/.*\.php(/|$) {
  fastcgi_split_path_info ^(.+\.php)(/.*)$;
  include fastcgi_params;
} 
```

该页面已显示，但所有静态文件也被重定向到 /maintenance。请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T19:27:26.873

将 if 块移动到 rewriteapp 位置内。

# python - 如何直接从 Cython 调用 numpy/scipy C 函数，而无需 Python 调用开销？

> ID：16029050
> 
> 赞同：17
> 
> 时间：2013-04-16T04:54:27.107
> 
> 标签：python, optimization, numpy, scipy, cython

我正在尝试在 Cython 中进行严重依赖于一些 numpy/scipy 数学函数的计算，例如`numpy.log`. 我注意到，如果我在 Cython 的循环中反复调用 numpy/scipy 函数，则会产生巨大的间接成本，例如：

```
import numpy as np
cimport numpy as np
np.import_array()
cimport cython

def myloop(int num_elts):
   cdef double value = 0
   for n in xrange(num_elts):
     # call numpy function
     value = np.log(2) 
```

这是非常昂贵的，大概是因为`np.log`通过 Python 而不是直接调用 numpy C 函数。如果我将该行替换为：

```
from libc.math cimport log
...
# calling libc function 'log'
value = log(2) 
```

那么它要快得多。但是，当我尝试将一个 numpy 数组传递给 libc.math.log 时：

```
cdef np.ndarray[long, ndim=1] foo = np.array([1, 2, 3])
log(foo) 
```

它给出了这个错误：

```
TypeError: only length-1 arrays can be converted to Python scalars 
```

我的问题是：

1.  是否可以调用 C 函数并将其传递给 numpy 数组？或者它只能用于标量值，这需要我编写一个循环（例如，如果我想将它应用于`foo`上面的数组。）
2.  有没有类似的方法可以直接从 C 调用 scipy 函数而无需 Python 开销？如何导入 scipy 的 C 函数库？

具体示例：假设您想在Cython`scipy.stats.*`中的循环内对标量值调用许多 scipy 或 numpy 有用的统计函数（例如）`for`？在 Cython 中重新实现所有这些函数很疯狂，因此必须调用它们的 C 版本。例如，所有与 pdf/cdf 相关的函数以及来自各种统计分布的采样（例如，参见[http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.rv_continuous.pdf.html#scipy. stats.rv_continuous.pdf](http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.rv_continuous.pdf.html#scipy.stats.rv_continuous.pdf)和[http://www.johndcook.com/distributions_scipy.html](http://www.johndcook.com/distributions_scipy.html)）如果你在循环中使用 Python 开销调用这些函数，它会非常慢。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:22:27.187

您不能应用 C 函数，例如登录 numpy 数组，并且 numpy 没有可以从 cython 调用的 C 函数库。

Numpy 函数已经经过优化，可以在 numpy 数组上调用。除非您有一个非常独特的用例，否则您不会从将 numpy 函数重新实现为 C 函数中获得太多好处。（可能 numpy 中的某些功能没有很好地实现，在这种情况下，请考虑将您的导入作为补丁提交。）但是您确实提出了一个很好的观点。

```
# A
from libc.math cimport log
for i in range(N):
    r[i] = log(foo[i])

# B
r = np.log(foo)

# C
for i in range(n):
    r[i] = np.log(foo[i]) 
```

一般来说，A 和 B 应该有相似的运行时间，但应该避免 C 并且会慢得多。

更新

这是 scipy.stats.norm.pdf 的代码，您可以看到它是用 python 编写的，带有 numpy 和 scipy 调用。此代码没有 C 版本，您必须“通过 python”调用它。如果这是阻碍你前进的原因，你需要在 C/Cython 中重新植入它，但首先我会花一些时间非常仔细地分析代码，看看是否有任何较低的悬而未决的果实可以先去追求。

```
def pdf(self,x,*args,**kwds):
    loc,scale=map(kwds.get,['loc','scale'])
    args, loc, scale = self._fix_loc_scale(args, loc, scale)
    x,loc,scale = map(asarray,(x,loc,scale))
    args = tuple(map(asarray,args))
    x = asarray((x-loc)*1.0/scale)
    cond0 = self._argcheck(*args) & (scale > 0)
    cond1 = (scale > 0) & (x >= self.a) & (x <= self.b)
    cond = cond0 & cond1
    output = zeros(shape(cond),'d')
    putmask(output,(1-cond0)+np.isnan(x),self.badvalue)
    if any(cond):
        goodargs = argsreduce(cond, *((x,)+args+(scale,)))
        scale, goodargs = goodargs[-1], goodargs[:-1]
        place(output,cond,self._pdf(*goodargs) / scale)
    if output.ndim == 0:
        return output[()]
    return output 
```

# bash - 通配符搜索到 CD

> ID：16029051
> 
> 赞同：0
> 
> 时间：2013-04-16T04:54:28.920
> 
> 标签：bash, wildcard, cd

我正在尝试在 bash shell 脚本中搜索带有通配符的第一个匹配目录，它似乎在一些系统上运行良好，而在其他系统上却没有。有没有办法让它在所有 Centos 版本上工作？我正在运行 6.3，然后它可以工作，但是 VPS 上的 Centos 6.4 它不起作用，它输出文件而不是目录：

这是我得到的：

```
DAHDI=$(ls -d -1 /usr/src/dahdi-linux-complete* | head -n1);

cd "$DAHDI" 
```

非常感谢我能得到的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:06:02.913

您可能想`find`改用：

```
DAHDI=$(find /usr/src -maxdepth 1 -type d -name "dahdi-linux-complete*" | head -1)
cd "${DAHDI}" 
```

# android - 屏幕方向更改后如何在 mediaPlayer 中继续广播流？

> ID：16029054
> 
> 赞同：1
> 
> 时间：2013-04-16T04:54:37.407
> 
> 标签：android, media-player, audio-streaming, screen-orientation, onconfigurationchanged

我正在使用一个简单的代码从这样的 url 流式传输广播：

```
 player = new MediaPlayer();
  try {
    player.setDataSource("XYZ.com/streaming link");
    player.prepare();
    player.setOnPreparedListener(new OnPreparedListener() {

        @Override
        public void onPrepared(MediaPlayer mp) {
            // TODO Auto-generated method stub
              player.start();
              ma.MyProgressdis();
        }
    });
} catch (Exception e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} 
```

但是当屏幕方向改变时，媒体播放器会停止一段时间并再次开始流式传输。我曾尝试使用 onConfigurationChanged 方法，但我很困惑如何才能在不暂停的情况下继续流式传输。

# javascript - 带有淘汰赛js的滚动显示分页

> ID：16029058
> 
> 赞同：0
> 
> 时间：2013-04-16T04:54:52.393
> 
> 标签：javascript, knockout.js, knockout-2.0, infinite-scroll

我想使用淘汰赛js来启用滚动分页

**问题**
我想传入`url`并`id`传入我的 `GetPage(controller, id#, page#)) 目前它是硬编码的，但我想改变它。

**淘汰赛js**

```
 $.views.Roster.GetPage = function (url, id, pageNumber) {
        $.grain.Ajax.Get({
            Url: url,
            SectionID: {id:id},
            DataToSubmit: { pageNumber: pageNumber, id: id },
            DataType: "json",
            OnSuccess: function (data, status, jqXHR) {
                $.views.Roster.RosterViewModel.AddUsers(data);

            }
        });
    };

Next = function () {
        var _page = $.views.Roster.ViewModel.CurrentPage() + 1;
        $.views.Roster.ViewModel.CurrentPage(_page);
        $.views.Roster.GetPage("/api/Roster", 9, _page);
    } 
```

**滚动分页**

```
$(document).ready(function(){
    $('#main').scroll(function () {

        if ($('#main').scrollTop() >= $(document).height() - $('#main').height()) {
            $('#status').text('Loading more items...' + $.views.Roster.ViewModel.TotalRoster());
            if ($.views.Roster.ViewModel.RosterUsers() == null ) {
                $('#status').hide();
                $('#done').text('No more items...'),
                $('#main').unbind('scroll');
            }
            setTimeout(updateStatus, 2500);
        }
        //updateStatus();
    });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T15:54:54.550

将 getRoster 函数中的数据更改为您的服务器函数期望您返回的数据。此外，删除代码 $.views.Roster.GetRoster，不再需要它。现在当你做 ko.applyBindings(new $.views.Roster.RosterViewModel()); 您应该获得第一页数据，随后，当您滚动时，视图模型上的 next() 调用将继续分页。这个逻辑就是你的全部。

```
$.views.Roster.RosterViewModel = function (data) {
    var self = this;
    self.RosterUsers = ko.observableArray([]);
    _rosterUsers = self.RosterUsers;
    self.currentPage = ko.observable(1);
    self.toDisplay = ko.observable(10);

    var filteredRoster = ko.computed(function(){
        var init = (self.currentPage()-1)* self.toDisplay(),
            filteredList = [],
            rosterLength = self.RosterUsers().length,
            displayLimit = self.toDisplay();
        if(rosterLength == 0)
            return[];
        for(var i = init; i<(displayLimit + init)  && i<rosterLength; i++)
        {
            filteredList.push(self.RosterUsers()[i]);
        }
        return filteredList;
    }),
    totalRoster = ko.computed(function () {
        return self.RosterUsers().length;
    }),
    changePage = function (data) {
        self.currentPage(data);
    },
    next = function () {
        if ((self.currentPage() * self.toDisplay()) > self.RosterUsers().length)
            return;

        self.currentPage(self.currentPage() + 1);
    },
    prev = function () {
        if (self.currentPage() === 1)
            return;

        self.currentPage(self.currentPage() - 1);
    },
    getRoster = ko.computed(function () {
        var data = {
            currentPage: self.currentPage(),
            pageSize: self.toDisplay()
        },
            $promise = _makeRequest(data);

        $promise.done(function (data) {
            var localArray = [];
            ko.utils.arrayForEach(data, function(d){
                localArray.push(new $.views.Roster.UserViewModel(d));
            });
            self.RosterUsers.push.apply(self.RosterUsers,localArray);
        });

    }),
        _makeRequest = function(data){
            return $.getJSON('your url here', data);
        };

}; 
```

# postgresql - 以表名作为参数的删除行的函数

> ID：16029059
> 
> 赞同：0
> 
> 时间：2013-04-16T04:54:56.607
> 
> 标签：postgresql, stored-procedures, sql-injection, plpgsql, sql-function

我想创建一个函数：

```
 CREATE OR REPLACE FUNCTION medibv.delAuto(tableName nvarchar(50), columnName nvarchar(100),value 
 nvarchar(100))
 RETURNS void AS

$BODY$ 
begin 
DELETE from tableName  where columnName=value 

end; 
$BODY$

LANGUAGE plpgsql VOLATILE; 
```

我有这些参数：`tableName, columnName, value`.
我想`tableName`在 PostgreSQL 中作为表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T00:50:19.367

```
CREATE OR REPLACE FUNCTION medibv.delauto(tbl regclass, col text, val text
                                         ,OUT success bool)
  RETURNS bool AS
$func$ 
BEGIN

EXECUTE format('
   DELETE FROM %s
   WHERE  %I = $1
   RETURNING TRUE', tbl, col)
USING   val
INTO    success;

RETURN;  -- optional in this case

END
$func$ LANGUAGE plpgsql; 
```

称呼：

```
SELECT medibv.delauto('myschema.mytbl', 'my_txt_col', 'foo'); 
```

返回`TRUE`或`NULL`。

*   Postgres中没有`nvarchar`类型。您可能正在考虑 SQL Server。相当于是`varchar`，但大多数时候你可以简单地使用`text`.

*   `regclass`是注册表名的特殊类型。它非常适合自动和最有效地防止对表名进行**SQL 注入的情况。**更多在下面的相关答案中。

*   列名仍然容易被 SQL 注入。我用`format(%I)`.

*   [`format()`](http://www.postgresql.org/docs/current/interactive/functions-string.html#FUNCTIONS-STRING-OTHER)需要 PostgreSQL 9.1+。

*   你的函数没有报告发生了什么。可以找到并删除一行或多行。或者根本没有。作为*最低限度*，我添加了一个`boolean OUT`列，`TRUE`如果一个或多个行被删除。因为（[在这里引用手册](http://www.postgresql.org/docs/current/interactive/plpgsql-statements.html#PLPGSQL-STATEMENTS-EXECUTING-DYN)）：

    > 如果返回多行，则仅将第一行分配给`INTO`变量。

*   最后，使用**`USING`**with`EXECUTE`传递**值**。不要来回投掷。这是低效的并且容易出错并且再次出现 SQLi。

*   在这个密切相关的答案中找到更多解释和链接：
    [Table name as a PostgreSQL function parameter](https://stackoverflow.com/questions/10705616/table-name-as-a-postgresql-function-parameter/10711349#10711349)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:21:38.947

使用[EXECUTE](http://www.postgresql.org/docs/9.2/interactive/plpgsql-statements.html#PLPGSQL-STATEMENTS-EXECUTING-DYN)运行动态命令：

```
CREATE OR REPLACE FUNCTION medibv.delAuto(tableName nvarchar(50), columnName nvarchar(100),value 
 nvarchar(100))
 RETURNS void AS

$BODY$ 
begin 
EXECUTE 'DELETE FROM ' || tableName || ' WHERE ' || columnName || '=' || value; 

end; 
$BODY$

LANGUAGE plpgsql VOLATILE; 
```

# ios - 在真机上测试 iOS

> ID：16029060
> 
> 赞同：0
> 
> 时间：2013-04-16T04:55:01.827
> 
> 标签：ios, iphone, testing

我已经在我的 iPhone 上测试了我的 iOS 应用程序，它运行良好。我的客户想在他自己的设备上测试我的应用程序，但问题是他是不同国家的居民。我可以向他发送类似我们在 Android 中有“apk”的东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T04:58:44.573

是的，这可以使用“Ad-hoc”。步骤：

将您合作伙伴的设备添加到位于[developer.apple.com](https://developer.apple.com/devcenter/ios/index.action)的 iOS 配置门户 生成一个配置文件，其中包括您的应用程序。使用此配置文件构建应用程序。 使用将[.IPA 文件](http://developer.apple.com/library/ios/#recipes/xcode_help-archives_organizer/articles/distributing_ios_apps.html)`Product->Archive` 发送给您的合作伙伴生成 .IPA 文件。[Apple 指南中的“Ad-Hoc”测试下](http://developer.apple.com/library/ios/#technotes/tn2250/_index.html)提供了更多详细信息。

这也是一个不错的选择。[testflightapp.com](https://testflightapp.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T04:58:20.660

是的，你可以给他发 IPA 文件。

请参阅此处：[创建 ipa 以分发给客户端](https://stackoverflow.com/questions/4861891/creating-ipa-for-distribution-to-client)

或者

你可以参考这个链接：[How to make .ipa file in Xcode 4.5?](https://stackoverflow.com/questions/12969917/how-to-make-ipa-file-in-xcode-4-5)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T05:04:23.920

我会研究诸如[TestFlight](http://www.testflightapp.com)之类的服务，以便在您的客户端机器上发布和安装应用程序。获取您的临时临时配置文件并存档您的构建。TestFlight 会将其上传到他们的服务器并通过电子邮件向您的客户发送构建准备就绪的电子邮件。从那里安装很容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T05:06:12.150

只需向他发送一个 .IPA 文件，他就看不到使用该文件的代码

# iphone - 应用程序在发送和接收特殊字符时崩溃

> ID：16029076
> 
> 赞同：0
> 
> 时间：2013-04-16T04:56:59.430
> 
> 标签：iphone, ios, web-services, ipad, chat

我正在创建一个聊天应用程序。但是，现在我在发送特殊字符“&”时遇到了一个问题。我正在使用 php web-services 发送和接收消息。同时发送“&”字符，然后当有人收到这个字符时，应用程序崩溃了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T04:59:59.257

这里用它的代码替换那个字符，如下所示......

当时在网络服务中传递它时，像下面这样替换它..

```
yourString = [yourString stringByReplacingOccurrencesOfString:@"&" withString:@"&amp;"]; 
```

然后当你想收到它时用特殊字符替换..

```
 yourString = [yourString stringByReplacingOccurrencesOfString:@"&amp;" withString:@"&"]; 
```

显示后`UITextView`或`UITextField`

**更新：**

```
if (string2 != nil) {
   string1 = [NSString stringWithString:string2];
   NSString *strTemp = [NSString stringWithString:string2];
   NSLog(@"\n\n Temp String ==>> %@",strTemp);
} 
```

**更新：**

```
 NSString *yourString = @"Hello & How Are You?";
 yourString = [yourString stringByReplacingOccurrencesOfString:@"&amp;" withString:@"&"];
NSLog(@"\n\n String Here => %@",yourString); 
```

在将字符串发送到网络服务器时，使用下面的字符串..

```
NSString *yourStringForWeb = @"Hello & How Are You?";
 yourStringForWeb = [yourStringForWeb stringByReplacingOccurrencesOfString:@"&" withString:@"&amp;"]; 
```

并将其传递`yourStringForWeb`给网络服务...

```
NSString *string = @"Hello & How Are You?";

string = [string stringByReplacingOccurrencesOfString:@"&amp;" withString:@"&"];
string = [string stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
string = [string stringByReplacingOccurrencesOfString:@"&" withString:@"%26"];
NSLog(@"\n\n ===>> Before ==>> %@",string);

NSString *string2 = string;

string2 = [string2 stringByReplacingOccurrencesOfString:@"%20" withString:@" "];
string2 = [string2 stringByReplacingOccurrencesOfString:@"%26" withString:@"&"];
NSLog(@"\n\n ===>> After ==>> %@",string2); 
```

**输出 =>**

```
 ===>> Before ==>> Hello%20%26%20How%20Are%20You?
 ===>> After ==>> Hello & How Are You? 
```

# java - 如何显示两个维度数组中的值？

> ID：16029085
> 
> 赞同：1
> 
> 时间：2013-04-16T04:57:50.093
> 
> 标签：java

我想将坐标 x 和 y 插入两个维度数组并打印出来。对于给定代码的示例，当它要求输入时，它不会执行一次，而是两次接受该值。如果值实际上存储在每个数组中或仅存储在一个数组中，我不知道。是否可以独立于矩阵显示输出？我感谢任何帮助或更正！祝福你。这是代码：

# 代码

```
import java.util.Scanner;

public class MummyMadness {

    public static void main(String []args){

    int [][] desert = new int [1][1];
    int x =0;
    int y =0;
    int mummies[] = new int [1];
    int Mlimit = 100000;

    coordinates(desert,mummies,x,y);
    }
    public static int[] inputmummy(int mummies[], int Mlimit){
        int i;
        Scanner input = new Scanner(System.in);
        System.out.println("How many mummies you want?");
        System.out.println("Note that the limit of mummies is 100k");
        i = input.nextInt();

        if(mummies[i] > Mlimit)
        {
            System.out.println("You exceeded from the mummies!");
        }

        return mummies;
    }

    public static int[][] coordinates(int desert[][],int mummies[], int x, int y){

        //Idea use length of mummies for coordinates but if you take out desert i doesnt work

         System.out.println("Enter mummy coordinates");

           for(int i = 0; i < desert.length; i++){

         System.out.println("Enter x:"); 
         Scanner input = new Scanner(System.in);

              if(input.nextInt() > desert.length)
              {
                  System.out.println("Error x exceeded desert length");
                  break;
              }
               desert[i][0] = input.nextInt();

            System.out.println("Mummy location x: " + desert[i][0]);

            for(int j = 0; j < mummies.length; j++){

         System.out.println("Enter y:");     
         Scanner input2 = new Scanner(System.in);

                if(input.nextInt() > desert[0].length)
              {
                  System.out.println("Error y exceeded desert length");
                  break;
              }

                 desert[0][j] = input2.nextInt();

                System.out.println("Mummy location y: " + desert[0][j]); 
                System.out.println(desert[i][j])

            }

        }

        return desert; 

        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:07:32.683

您正在使用 input.nextInt 两次（） - 一次用于检查，一次用于实际插入数组。每次调用此函数时，它都需要输入。因此它要求输入两次。改为这样做：

```
int tmp = input.nextInt();
if(tmp > desert.length)
{
    System.out.println("Error x exceeded desert length");
    break;
}
desert[i][0] = tmp; 
```

# sql-server - 连接和处理数据库中许多记录的最佳算法是什么？

> ID：16029089
> 
> 赞同：0
> 
> 时间：2013-04-16T04:58:10.963
> 
> 标签：sql-server, database, architecture

*   我有 db1 和 table1（200k-400k，未来 700K-800K，但不会很快）和 db2 和 table2（1M - 2M，每年增加 500K-700K）。
*   我需要处理 db1.table1 中的所有记录，并且对于每条记录，我需要在 db2.table2 中执行子查询。
*   记录处理应该在应用服务器上的多个线程中同时进行。

我考虑了两种策略：

1.  连接表（或使用子查询选择），保存到临时表并从应用程序服务器迭代。
2.  从应用服务器迭代 db1.table1 并为每一行（或批处理）执行子查询。

什么是最好的方法，为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:02:29.347

为了性能起见，您应该创建连接这两个表的单个查询。

如果您的表位于不同的服务器上，请在它们之间[创建数据库链接](http://dba010.wordpress.com/2011/01/17/how-to-create-database-link-in-sql-server-2005/)，或者更好的是，重构您的设置，使您的表成为同一数据库的一部分。

在任何情况下，请务必创建适当的索引并运行查询`EXPLAIN PLAN`以查找可能的瓶颈并避免顺序扫描。

# asp-classic - 在asp中动态移动上传的文件

> ID：16029090
> 
> 赞同：0
> 
> 时间：2013-04-16T04:58:18.047
> 
> 标签：asp-classic

我有一个根据用户输入上传文件的应用程序..我只想将该特定文件移动到另一个文件夹..

现在我可以将文件移动到目标文件夹..但它会移动文件夹中已经存在的所有文件..

我在上传文件时动态创建一个文件夹..我需要将该文件移动到该创建的文件夹...

我只需要在运行时移动上传的文件...

```
E:\Export Documents - Copy\Uploads this path to C:\inetpub\wwwroot 
```

这是我的代码

```
Set oFS = Server.CreateObject("Scripting.FileSystemObject")
strDir = "c:\inetpub\wwwroot\" & fldr 
oFS.CopyFile "E:\Export Documents - Copy\Uploads\*.jpg", "c:\inetpub\wwwroot\" & fldr 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:01:39.183

您可能想要做的是识别您刚刚上传的文件，然后移动它。如果您已经在 inetpub 中创建了一个文件夹来存储文件，那么您也可以在 Uploads 中执行相同的操作，然后移动该文件夹。

您可能会发现使用 fileSystemObject.MoveFolder 而不是 .CopyFile 很有帮助，这样您的 Uploads 文件夹就不会被填满。

如果您需要有关如何执行此操作的帮助，请发布您用于上传文件的代码。

对于使用 FileSystemObject，这是一个[有用的参考](http://www.bettersolutions.com/vba/VVZ200/MO747843531.htm)

另一方面，将文件从 Uploads 移动到 wwwroot 真的明智吗？恶意用户可能会在那里造成一些损害。

# java - 在浏览器中以 PDF 格式获取响应

> ID：16029091
> 
> 赞同：0
> 
> 时间：2013-04-16T04:58:19.597
> 
> 标签：java, content-type

我想为 PDF 输出设置响应。我如何实现这一目标？

我可以设置 Excel 输出并从浏览器成功获取所需的 Excel 工作表，但对于 PDF，我无法获得所需的输出。

对于 Excel，以下代码可以正常工作

```
String excelContent = "an html table..";
getServletResponse().setContentType("“application/vnd.ms-excel");
getServletResponse().setHeader("Content-Disposition","inline; filename=" + pageTitle + ".xls");
PrintWriter ps = getServletResponse().getWriter();
ps.println(excelContent); 
```

但是对于 PDF，我尝试将内容类型设置为 PDF，但无法正确获取（即使在浏览器中打开 PDF 文件也不会显示任何内容）

```
String excelContent = "an html table..";
getServletResponse().setContentType("“application/pdf");
getServletResponse().setHeader("Content-Disposition","inline; filename=" + pageTitle + ".pdf");
PrintWriter ps = getServletResponse().getWriter();
ps.println(excelContent); 
```

html表格不能在PDF中显示吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:13:27.417

[使用飞碟](http://code.google.com/p/flying-saucer/)渲染器非常简单。它接受 HTML 输入并返回 PDF。您要做的就是将内容类型声明为 PDF，将 HTML 生成为字符串，并从 Flying Saucer 调用方法。

这是一个 使用飞碟的[xhtml 到 pdf servlet 的示例](https://stackoverflow.com/questions/14393142/xhtml-to-pdf-servlet-with-flyingsaucer)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:03:16.507

您正在将 html 上下文写入响应流。您需要将 pdf 格式写入响应。

您可以使用 iText 或 Apache FOP 等库来创建 PDF 格式。

# python - sqlalchemy + flask ，每天都发帖

> ID：16029101
> 
> 赞同：1
> 
> 时间：2013-04-16T04:59:08.857
> 
> 标签：python, mysql, sqlalchemy, flask

我有一张桌子， `posts`.

其中包括：

```
id = db.Column(db.Integer, primary_key=True)
title = db.Column(db.String(200))
content =  db.Column(db.Text())
time = db.Column(db.DateTime) 
```

这就是我导航到此 url 时想要实现的目标。

`/allposts`

```
posts on 01-01-2013
 - post 1
 - post 2
 - post 3 

posts on 01-02-2013
 - post 4
 - post 5
 - post 6 
```

等等。

我已经尝试过 group by 但我无法实现我上面解释的内容。

我正在使用 sqlalchemy 和烧瓶 python 框架。

同时提供 raw 和 sqlalhemy 查询会更好，所以我可以在这里围绕一些概念。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T08:31:19.377

I would not do it in a query, but rather create desired grouping on the python side:

```
# get desired posts (add your filters etc)
posts = session.query(Post).order_by(Post.time)

# create a dictionary, where key is the date(-only), and values are the posts of that day
from collections import defaultdict
grouped = defaultdict(list)
for post in posts:
    dat = post.time.date()
    grouped[dat].append(post)

# iterate over new grouped structure
for dat, posts in sorted(grouped.items()):
    print dat
    for post in posts:
        print '  ', post 
```

# sql - Postgres/SQL：针对付款来源的收费和退款建模

> ID：16029102
> 
> 赞同：0
> 
> 时间：2013-04-16T04:59:10.400
> 
> 标签：sql, postgresql, join

我有以下模型，我想编写一个返回未使用积分的查询。积分有很多费用，而这些费用又会有很多退款。到目前为止，我对查询的尝试如下，但我发现它有问题，需要一点帮助。所有`amount`列都是正数。

```
Credit
id (integer)
amount (decimal)

Charge
id (integer)
credit_id (integer)
amount (decimal)

Refund
id (integer)
charge_id (integer)
amount (decimal) 
```

我的查询如下所示：

```
SELECT credits.*,
"credits"."amount" - coalesce(sum("charges"."amount"), 0) + coalesce(sum("refunds"."amount"), 0) AS unspent_amount 
FROM "credits"
LEFT OUTER JOIN "charges" ON "charges"."credit_id" = "credits"."id"
LEFT OUTER JOIN "refunds" ON "refunds"."charge_id" = "charges"."id"
GROUP BY "credits"."id"
HAVING "credits"."amount" > coalesce(sum("charges"."amount"), 0) - coalesce(sum("refunds"."amount"), 0) LIMIT 1 
```

我遇到的问题是，如果一项费用有很多退款，那么费用金额的总和将为 N*，其中 N 是退款次数。我只想为每个费用 ID 计算一次费用金额。

最终，我想要积分，其中 credits.amount > charge_against_credits.amount 的总和-refunds_for_those_charges.amount。我怎样才能做到这一点？

编辑：

以下是一些将重现问题的示例记录：

```
credits
id 1
amount 25.0

charges
id 1
credit_id 1
amount 25.0

refunds
id 1
charge_id 1
amount 20.0
-----------
id 2
charge_id 1
amount 5.0 
```

编辑2：

预期输出：

```
credits:
1 row:
id: 1, amount: 25.0, unspent_amount: 25.0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:28:42.530

```
SELECT  a.ID,
        (a.amount - COALESCE(b.totalCharges, 0)) + COALESCE(c.totalRefunds, 0) AS unspent_amount
FROM    credits AS a
        LEFT JOIN
        (
            SELECT  credit_ID, SUM(amount) totalCharges
            FROM    charges
            GROUP   BY credit_ID
        ) AS b  ON a.ID = b.credit_ID
        LEFT JOIN
        (
            SELECT  aa.credit_ID, SUM(bb.amount) totalRefunds
            FROM    charges AS aa
                    LEFT JOIN Refund AS bb
                        ON  aa.ID = bb.Charge_ID
            GROUP   BY aa.credit_ID
        ) AS c  ON b.credit_ID = c.credit_ID
--  WHERE   clause ...here.... 
```

# javascript - Three.js 使用 2D texture\sprite 制作动画（planeGeometry）

> ID：16029103
> 
> 赞同：13
> 
> 时间：2013-04-16T04:59:14.360
> 
> 标签：javascript, html, three.js

我对html5和three.js很陌生。我一直在用它做一些试验，基本上我想做的是有一个网格（我使用的是 planeGeometry，因为我遵循的教程使用了它）。网格显示不同的纹理，稍后可以更改。

这是我的代码的样子：

```
angelTexture = THREE.ImageUtils.loadTexture("images/textures/chars/angel/angel.png");
angelTexture.offset.x = -0.75;
angelTexture.offset.y = -0.75;

angelMesh = new THREE.Mesh( new THREE.PlaneGeometry(79, 53, 79, 53), new THREE.MeshBasicMaterial( { map: angelTexture, wireframe: false } ));

angelMesh.position.x = 0;
angelMesh.position.y = 0;
scene.add(angelMesh); 
```

问题是每当我偏移时，Mesh 似乎足够大以显示所有其他 Sprite（我将纹理用作我偏移的 2D Sprite 以对其进行动画处理）。结果是非常灾难性的，我仍在研究如何控制 Mesh 的大小，以便它只显示 Sprite 的一个快照。我所有的尝试似乎只是调整网格以及底层纹理的大小，并且仍然显示所有精灵。

有人可以指出我正确的方向吗？提前致谢。

...

我的朋友想出了一个解决方案......我错过了重复属性。

```
angelTexture = THREE.ImageUtils.loadTexture("images/textures/chars/angel/angel.png");
angelTexture.offset.x = -0.75; 
angelTexture.offset.y = -0.75;

angelTexture.repeat.x = 0.25;
angelTexture.repeat.y = 0.25;   
scene.add(angelMesh); 
```

希望这可以帮助其他有同样问题的人。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-04-16T13:55:27.363

前段时间我有同样的问题，所以我写了一个完整的例子，使用 spritesheet 作为 PlaneGeometry 的纹理，然后定期更新纹理 - 查看示例

[http://stemkoski.github.io/Three.js/Texture-Animation.html](http://stemkoski.github.io/Three.js/Texture-Animation.html)

并查看注释的源代码以获取更多说明。

* * *

更新（2021 年）：

这是我推荐使用的功能的更新版本。它修复了不正确的平铺显示顺序的问题，它会自动更新下一帧，并返回一个对象，您可以使用它来根据需要停止和重新启动动画。

```
function TextureAnimator(texture, tilesHoriz, tilesVert, tileDispDuration) 
{ 
  let obj = {};

  obj.texture = texture;
  obj.tilesHorizontal = tilesHoriz;
  obj.tilesVertical = tilesVert;
  obj.tileDisplayDuration = tileDispDuration;

  obj.numberOfTiles = tilesHoriz * tilesVert;

  obj.texture.wrapS = THREE.RepeatWrapping;   
  obj.texture.wrapT = THREE.RepeatWrapping;   
  obj.texture.repeat.set( 1/tilesHoriz, 1/tilesVert );
  obj.currentTile = 0;

  obj.nextFrame = function()
  {
    obj.currentTile++;
    if (obj.currentTile == obj.numberOfTiles)
      obj.currentTile = 0;

    let currentColumn = obj.currentTile % obj.tilesHorizontal;
    obj.texture.offset.x = currentColumn / obj.tilesHorizontal;

    let currentRow = Math.floor( obj.currentTile / obj.tilesHorizontal );
    obj.texture.offset.y = obj.tilesVertical - currentRow / obj.tilesVertical;
  }

  obj.start = function()
  { obj.intervalID = setInterval(obj.nextFrame, obj.tileDisplayDuration); }

  obj.stop = function()
  { clearInterval(obj.intervalID); }

  obj.start();
  return obj;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2019-01-10T17:33:30.537

我在对 Lee Stemkoski 的评论中指出，具有多行的 spritesheets 在使用较新的`THREE.TextureLoader()`.

我在测试中使用以下 4x4 精灵图像。

[![显示为每个预期图块突出显示的象限的图像](https://i.stack.imgur.com/YEe96.jpg)](https://i.stack.imgur.com/YEe96.jpg)

`TextureAnimator`假设您有一个完整的 16 瓦子精灵表，无需修改 Lee Stemkoski 的函数。

```
var texture = new THREE.TextureLoader().load('grid-sprite.jpg');
var annie = new TextureAnimator(texture, 4, 4, 16, 150); 
```

动画纹理向后运行。 [Codepen 演示](https://codepen.io/motionharvest/pen/cd63a04c9967da85ee5ca2b5912397c7?editors=0010)

[![在此处输入图像描述](https://i.stack.imgur.com/QgYzF.gif)](https://i.stack.imgur.com/QgYzF.gif)

所以我做了我自己的，我称之为 `THREE.SpriteSheetTexture`

```
THREE.SpriteSheetTexture = function(imageURL, framesX, framesY, frameDelay, _endFrame) {

    var timer, frameWidth, frameHeight,
            x = 0, y = 0, count = 0, startFrame = 0, 
            endFrame = _endFrame || framesX * framesY,
            CORSProxy = 'https://cors-anywhere.herokuapp.com/',
            canvas = document.createElement('canvas'),
            ctx = canvas.getContext('2d'),
            canvasTexture = new THREE.CanvasTexture(canvas),
            img = new Image();

    img.crossOrigin = "Anonymous"
    img.onload = function(){
        canvas.width = frameWidth = img.width / framesX;
        canvas.height = frameHeight = img.height / framesY;
        timer = setInterval(nextFrame, frameDelay);
    }
    img.src = CORSProxy + imageURL;

    function nextFrame() {
        count++;

        if(count >= endFrame ) {
            count = 0;
        };

        x = (count % framesX) * frameWidth;
        y = ((count / framesX)|0) * frameHeight;

        ctx.clearRect(0, 0, frameWidth, frameHeight);
        ctx.drawImage(img, x, y, frameWidth, frameHeight, 0, 0, frameWidth, frameHeight);

        canvasTexture.needsUpdate = true;
    }

    return canvasTexture;
} 
```

你需要知道 `imageURL`的是你的 spritesheet 的 URL `framesX`是沿着 x 轴（左和右） `framesY`有多少帧是沿着 y 轴（上下） `delay`有多少帧是纹理等待多长时间更改到下一帧 `_endFrame`是可选的 - 有多少帧（以防它不使用整行）

这一切看起来像这样

```
texture = new THREE.SpriteSheetTexture('https://s3-us-west-2.amazonaws.com/s.cdpn.io/68819/grid-sprite.jpg', 4, 4, 100, 16);
var material = new THREE.MeshBasicMaterial({ 
    map: texture
});
geometry = new THREE.BoxGeometry( 200, 200, 200 );
mesh = new THREE.Mesh( geometry, material );
scene.add( mesh ); 
```

有很多的欣喜！！！ [Codepen 演示在这里](https://codepen.io/motionharvest/pen/EGMEKx?editors=0010)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-10-09T13:20:56.830

@Cmndo 使帧流以正确的顺序移动，您只需要更新它：

```
texture.offset.y = currentRow / this.tilesVertical; 
```

对此：

```
texture.offset.y = this.tilesVertical - (currentRow / this.tilesVertical); 
```

在这个例子中： [https ://github.com/stemkoski/stemkoski.github.com/blob/master/Three.js/Texture-Animation.html](https://github.com/stemkoski/stemkoski.github.com/blob/master/Three.js/Texture-Animation.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-03-25T13:47:42.513

要使帧向正确的方向移动，请使用：

```
texture.offset.y = (1 - currentRow / _tilesVertical) - (1 / _tilesVertical); 
```

代替

```
texture.offset.y = currentRow / this.tilesVertical; 
```

# php - 使用 putty 在 Lamp 服务器上将 mysql 版本更新为 5.2

> ID：16029104
> 
> 赞同：0
> 
> 时间：2013-04-16T04:59:16.273
> 
> 标签：php, phpmyadmin, lamp, linode

我正在尝试使用腻子配置灯服务器，

我按照说明从[Linode安装了](http://library.linode.com/lamp-guides/centos-6)**apache**和**mysql**。但它显示安装的**mysql 版本是 5.1.6**。 **![在此处输入图像描述](https://i.stack.imgur.com/KIjAb.png)**

 **我需要将版本更新到**5.2+**，如何升级版本以便它在我的服务器上支持 phpMyAdmin。

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:14:32.403

尝试按照给定的链接提供更好的升级版本。您可以单击[此处](http://www.ovaistariq.net/490/a-step-by-step-guide-to-upgrading-to-mysql-5-5/)的链接以获取更多信息。**

# javascript - javascript选择第一个非虚假值显示数组索引错误

> ID：16029111
> 
> 赞同：0
> 
> 时间：2013-04-16T04:59:47.923
> 
> 标签：javascript

我正在尝试使用以下语法：

```
someVar = otherVar || ''; 
// set someVar to otherVar, or '' if otherVar is false 
```

当我将 otherVar 变成某个数组键时，

```
someVar = otherVar[1] || ''; // otherVar[1] is undefined. 
```

我得到了错误

> 无法读取未定义的属性“1”

这是有道理的，因为 otherVar[1] 是未定义的......但是 -

**问题**：防止这种情况的唯一方法`otherVar[1]`是在设置之前检查是否真实`someVar`吗？或者我还能像 if else 一样使用这种简单的方法快速设置变量吗？

我也试过

```
someVar = (!!otherVar[1]) ? otherVar[1] : ''; // didn't work either. 
```

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:02:48.847

您必须首先测试`otherVar`存在，因此您无法使用该语法真正做到这一点，但您可以这样做：

```
someVar = otherVar && otherVar[1] ? otherVar[1] : ''; 
```

这是有效的，因为 and 语句在索引测试之前失败。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:07:09.737

我假设这是您声明变量的情况*，*但是`undefined`. 你可以使用这个神秘但简洁的小技巧：

```
var arr; // declared but 'undefined'
var result = (arr || [,'foo'])[1];

console.log(result); //=> "foo"

arr = [1, 2]; // declared and defined
result = (arr || [,'foo'])[1];

console.log(result); //=> 2 
```

# c# - 在 aspx 中动态生成多个单选按钮

> ID：16029119
> 
> 赞同：1
> 
> 时间：2013-04-16T05:00:33.763
> 
> 标签：c#, asp.net, html, webforms, radio-button

我有一个视图，旨在显示一个问题和几个代表问题可能答案的单选按钮。每个问题的可能答案数量都会发生变化，因此我需要找到一种动态生成单选按钮的方法。我是 aspx 语法的新手，不太确定如何处理，即如何在下面的 html 中显示我在脚本中创建的单选按钮集合？使用 RadioButtonList 会更好吗？

```
<%@ Page Language="C#" Inherits="System.Web.Mvc.ViewPage<UncleBobWebService.Models.MultipleChoiceQuestion>" %>

<!DOCTYPE html>

<html>
  <head id="Head1" runat="server">
    <title>Application</title>
    <link href="/Theme/UncleBobTheme.css" rel="Stylesheet" />
    <script lang="cs" runat="server">

        protected void Page_Load(Object o, EventArgs e)
        {
            int count = Model.PossibleAnswers.Count;
            List<RadioButton> radioButtons = new List<RadioButton>();

            for (int i = 0; i < count; ++i)
            {
                RadioButton button = new RadioButton();
                button.ID = "1";
                button.GroupName = "answers";
                button.Text = Model.PossibleAnswers[i+1].TheAnswer;
                button.Checked = false;
                radioButtons.Add(button);
            }
        }

    </script> 
  </head>

<body>
    <h2>Question</h2>
    <div class="body">
        <form id=form1 runat=server action="/ApplicantApply/FormAction">
        <div class="box">
            <div class="left-justify">
                <div><%= Html.DisplayFor(Model => Model.Question) %></div>

                <!-- How to display the radiobutton list here instead of below? -->
                <input type="radio" id="yesAnswer" name="yes" value="Yes">Yes<br />
                <input type="radio" id="noAnswer" name="no" value="No">No<br />
            </div>
        </div>
        <input type="submit" name="submit" value="Previous" />
        <input type="submit" name="submit" value="Next" />
        </form>
    </div>
</body>

</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:13:05.193

好像你在混合 ASP.NET & ASP.NET MVC

**如果您使用的是 ASP.NET MVC：**

```
<% for (int i = 0; i < Model.PossibleAnswers.Count; ++i) { %>
  {
     <label>
        <%= Html.RadioButtonFor(m => m.PossibleAnswers[i].TheAnswer, m.PossibleAnswers[i]..ID) m.PossibleAnswers[i].TheAnswer %> 
     </label>
<% } %> 
```

**如果您使用的是 ASP.NET：**
用于`RadioButtonList`此目的。它更适合此类操作。

一种方法是在您的 aspx 文件中声明控件，然后在`PageLoad`事件中您可以添加项目/将其绑定到集合中。

恕我直言绑定通常是一个更好的选择。

绑定示例：
[http ://asp-net-example.blogspot.com/2009/03/how-data-bind-radiobuttonlist-on-button.html](http://asp-net-example.blogspot.com/2009/03/how-data-bind-radiobuttonlist-on-button.html)

添加示例：

```
 protected override void OnInit(EventArgs e)
    {          
        RadioButtonList1.Items.AddRange(GetItems());
        base.OnInit(e);
    }

    private ListItem[]  GetItems()
    {
            return new ListItem[] {
                    new ListItem("Item 1", "1"),
                    new ListItem("Item 2", "2"),
                    new ListItem("Item 3", "3"),
                    new ListItem("Item 4", "4")
            });
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:14:28.810

您正在将 Asp.net WebForm 示例代码与 Asp.net MVC 视图混合。您不想在 MVC 中使用 Page_Load 或任何 Asp.net 服务器控件。你想用`Html.RadioButton()`

```
 <div class="left-justify">
            <div><%= Html.DisplayFor(Model => Model.Question) %></div>

            <% for (var i=i; i<=Model.PossibleAnswers.Count(); i++) %>
            <label><%= Html.RadioButtonFor(m => m.PossibleAnswers[i], "Yes")> %> Yes</label>
            <label><%= Html.RadioButtonFor(m => m.PossibleAnswers[i], "No")> %> No</label>
            <% } %>
        </div> 
```

这些东西被 asp.net 称为 Html Helpers。您可以搜索该术语以查找它们的示例。它们存在于大多数常见的表单元素中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:12:56.003

您可以使用以下链接。

[http://www.developerscode.com/2011/02/how-to-create-dynamic-registration-form.html](http://www.developerscode.com/2011/02/how-to-create-dynamic-registration-form.html)

[动态创建的单选按钮列表](https://stackoverflow.com/questions/2000568/dynamically-created-radiobuttonlist)

[http://csharp-guide.blogspot.in/2012/05/adding-radiobutton-options-dynamically.html](http://csharp-guide.blogspot.in/2012/05/adding-radiobutton-options-dynamically.html)

[http://forums.asp.net/t/1192583.aspx/1](http://forums.asp.net/t/1192583.aspx/1)

[http://www.codeproject.com/Questions/360219/radio-button-dynamic-creation](http://www.codeproject.com/Questions/360219/radio-button-dynamic-creation)

[ASP.net 创建动态单选按钮列表](https://stackoverflow.com/questions/9207315/asp-net-creating-dynamic-radio-button-list)

希望这会帮助你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-05T11:21:37.140

在页面上显示答案和问题。但问题答案显示选项类型明智，选项类型是多选单选，多选单选，图像日期。if answer tabel option type field set if set 1 so display data in radio button wise in gridview to so to create this page in asp.net

# visual-studio-2010 - 安装 VIsualStudio 2010 时出错

> ID：16029121
> 
> 赞同：0
> 
> 时间：2013-04-16T05:00:37.510
> 
> 标签：visual-studio-2010

我正在尝试安装 Microsoft Visual Studio，但我不断收到错误 1317![在此处输入图像描述](https://i.stack.imgur.com/HJyGE.png)

我尝试使用错误 1317 修复工具，但它不是免费的。有没有其他方法可以解决这个问题？感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T06:28:52.830

由于某些注册表文件已损坏，这是错误的。我只是格式化了我的计算机，然后安装了 Visual Studio。

# vim - VIM 的 C++ 交叉引用，类似于 Source Insight

> ID：16029126
> 
> 赞同：3
> 
> 时间：2013-04-16T05:01:19.693
> 
> 标签：vim, source-insight

我想要一个类似于 Source Insight 的交叉引用导航。让我们举个简单的例子：

```
classA::MethodB() 
{
   ...
   m_variable = value;
} 
```

在这个例子中，如果我使用 Ctags / Cscope，那么当我尝试查找 m_variable 时，它​​会显示所有可用的 m_variable。我需要遍历每一个，然后找到需要哪一个。

在 Source Insight 中，它显然给了我课堂上的乐趣。

Vim 有没有这样的交叉引用工具？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T07:05:23.507

**Vim 不是 IDE，它是一个文本编辑器。**

您*不能*合理地期望它能够像 IDE 一样理解或深入理解您的代码。

IDE 通常会保留代码的动态内部表示，即使您有许多同名的方法或变量，它们也能够跟踪声明和使用情况。Vim 和大多数文本编辑器一样，靠自己无法做到这一点：它*必须*依赖外部工具来索引/导航代码。现在，由于架构限制，Vim 无法运行任何后台进程，这是将真正的“代码智能”添加到 Vim 的绝对先决条件。

考虑到这一切，您就剩下代码索引器，如 ctags、cscope 或 GLOBAL。这些工具尽最大努力为您提供准确的结果，但它们不像 IDE 中使用的工具那么聪明和具体。

作为补偿，Vim 有许多不同的命令，例如`:tselect`或`g]`打开一个可供选择的可能标签列表。阅读`:h tags`，`:h ctags`了解`:h cscope`如何处理这些限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-06T13:21:12.823

我自己没有试过这个。但听起来 eclim 就是你要找的东西。[http://eclim.org/](http://eclim.org/)

它提供了可从 Vim 访问的 eclipse 功能，包括代码搜索和自动完成。

# php - PHP:如何使用sql查询结果

> ID：16029127
> 
> 赞同：-3
> 
> 时间：2013-04-16T05:01:25.890
> 
> 标签：php, html, sql

我正在尝试使用查询值。

请看这段代码：

```
//Anything goes here
........
$show="SELECT *FROM persons";
$result=mysqli_query($con,$show);
echo "<form method='post'>";
echo "<table border=1>";
echo "<tr>";
echo "<td>name</td><td>Firstname</td><td>Lastname</td><td>address</td><td>phone</td>";
echo "</tr>";
while ($row=mysqli_fetch_array($result))
{
echo "<tr>";
echo "<td><input type='text' name='mname' value=".$row[0]."></td>";
echo "<td>".$row[1]."</td>";
echo "<td>".$row[2]."</td>";
echo "<td>".$row[3]."</td>";
echo "<td>".$row[4]."</td>";
echo "<td><input type='submit' name='single' value='edit'></td>";
echo "</tr>";
}
echo "</table>";
echo "</form>";
?>
<?
if (isset($_POST['single']))
{
$show="SELECT *FROM persons WHERE name='$_POST[mname]'";
//another sql query here
............
............. 
```

但是，这不是正确的编码。我只想如果用户单击编辑，那么它将为每个查询执行特定命令。但是在这里，在循环之后它只会得到最后一行的`$row[0]`. 怎么做：当用户点击`edit`每一行旁边的按钮时，它只会得到这一行的值

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:15:37.800

试试我的代码。page.php 是您的当前页面

```
........
$show="SELECT *FROM persons";
$result=mysqli_query($con,$show);
echo "<form method='post'>";
echo "<table border=1>";
echo "<tr>";
echo "<td>name</td><td>Firstname</td><td>Lastname</td><td>address</td><td>phone</td>";
echo "</tr>";
while ($row=mysqli_fetch_array($result))
{
echo "<tr>";
echo "<td><input type='text' name='mname' value=".$row[0]."></td>";
echo "<td>".$row[1]."</td>";
echo "<td>".$row[2]."</td>";
echo "<td>".$row[3]."</td>";
echo "<td>".$row[4]."</td>";
echo "<td><a href='page.php?single=".$row[0]."'>edit</a></td>";
echo "</tr>";
}
echo "</table>";
echo "</form>";
?>
<?
if (isset($_GET['single']))
{
$show="SELECT *FROM persons WHERE name='$_GET[single]'"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:26:47.227

将您的代码保持在 if else 条件中，如下所示：

```
// if form submitted then show edit form with selected person data
if (isset($_POST['single'])) {
    $show = "SELECT *FROM persons WHERE name='$_POST[mname]'";
//another sql query here
    ............
    .............
} else {
    $show = "SELECT *FROM persons";
    $result = mysqli_query($con, $show);

    echo "<table border=1>";
    echo "<tr>";
    echo "<td>name</td><td>Firstname</td><td>Lastname</td><td>address</td><td>phone</td>";
    echo "</tr>";
    while ($row = mysqli_fetch_array($result)) {
    echo "<form method='post'>";
        echo "<tr>";
        echo "<td><input type='text' name='mname' value=" . $row[0] . "> <input type='hidden' name='id' value=" . $row[1] . "></td>";
        echo "<td>" . $row[2] . "</td>";
        echo "<td>" . $row[3] . "</td>";
        echo "<td>" . $row[4] . "</td>";
        echo "<td>" . $row[5] . "</td>";
        echo "<td><input type='submit' name='single' value='edit'></td>";
        echo "</tr>";
    echo "</form>";
    }
    echo "</table>";

    ?>
} 
```

还可以在表单中使用隐藏字段并在该字段中保留记录 ID，并在查询中使用它，因为它将精确查询并提高性能。另一件有用的事情是，每一行都应该有一个新的表单标签，就像我在 while 循环中使用了表单标签一样，使用这个你的代码只会将一个人的 id,name 传递给你的编辑页面。在您的情况下，它将提交整个数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:38:02.843

用这个。

```
//Anything goes here
........
$show="SELECT * FROM persons";
$result=mysqli_query($con,$show);
echo "<form method='post'>";
echo "<table border=1>";
echo "<tr>";
echo "<td>name</td><td>Firstname</td><td>Lastname</td><td>address</td><td>phone</td>";
echo "</tr>";
while ($row=mysqli_fetch_array($result))
{
echo "<tr>";
echo "<td><input type='text' name='mname' value='".$row[0]."'></td>";
echo "<td>".$row[1]."</td>";
echo "<td>".$row[2]."</td>";
echo "<td>".$row[3]."</td>";
echo "<td>".$row[4]."</td>";
echo "<td><input type='submit' name='single' value='edit'></td>";
echo "</tr>";
}
echo "</table>";
echo "</form>";
?>
<?
if (isset($_POST['single']))
{
 $show="SELECT * FROM persons WHERE name='".$_POST[mname]."'";
  //another sql query here
   ............
   ............. 
```

# android - android中TextView到Listview数据显示

> ID：16029130
> 
> 赞同：-4
> 
> 时间：2013-04-16T05:01:37.140
> 
> 标签：android, arrays, listview

我有 1 `TextView`& `Button`in 1 屏幕和`ListView`另一个屏幕，我想在按钮单击时将数据发送到列表视图。那么这怎么可能，是否有必要使用数据库或数组呢？以下是我制作的代码。

MainActivity.java

```
public class MainActivity extends Activity {
TextView tx ;
int tv;
int counter = 0;
String[] planets;

private ArrayList<String> mArray;
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    planets = getResources().getStringArray(R.array.Jokes_array);

    //final Button button = (Button) findViewById(R.id.button11);

    tx = (TextView)findViewById(R.id.textViewapp1);     
    tx.setText(planets[counter]);

    Button button = (Button)findViewById(R.id.btnsms);
    Button btnFavr = (Button)findViewById(R.id.btnfav);

    button.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {

            //startActivity(new Intent(IcontrolActivity.this,Settings.class));
            /*              Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);
             sharingIntent.setType("text/plain");
             //String shareBody = (String) getText(R.id.textViewapp1);
             sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, "Subject Here");
             sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareBody);
             startActivity(Intent.createChooser(sharingIntent, "Share via"));*/

            Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);
            sharingIntent.putExtra(Intent.EXTRA_TEXT, ((TextView) findViewById(R.id.textViewapp1)).getText());
            sharingIntent.setType("text/plain");
            startActivity(sharingIntent);

            // TODO Auto-generated method stub

        }
    });

    btnFavr.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {

            // TODO Auto-generated method stub
            Toast toast = Toast.makeText(MainActivity.this, R.string.messageWordAddedToFarvourite, Toast.LENGTH_SHORT);
            toast.show();
            /* SharedPreferences.Editor editor = getPreferences(MODE_PRIVATE).edit();
                editor.putString(tx,getString(R.id.textViewapp1));
                editor.commit();*/
            //ArrayList<String> arryList = new ArrayList<String>();
            mArray.add(tx.getText().toString());            

        }
    });

    btnFavr.setOnLongClickListener(new View.OnLongClickListener() {

        @Override
        public boolean onLongClick(View v) {

            Intent intent = new Intent(getApplicationContext(), FavActivity.class);
            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                            getApplicationContext().startActivity(intent);

            return false;
        }
    });
} 
```

还有另一个我正在处理的 Java 文件，它将在列表视图中显示内容，这些内容保存在点击事件中，长按它将显示 ListView 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:51:54.703

将arrayadpater与listview一起使用，并在按钮单击中调用arrayadpater.notifyondatachange() mtd，将数据添加到arraylist。

# java - 未实现或不合理的转换请求的 blob 存储错误

> ID：16029131
> 
> 赞同：3
> 
> 时间：2013-04-16T05:01:39.967
> 
> 标签：java, oracle, oracle9i

我正在尝试将文本、图像、音频和视频文件插入到 oracle 9i 数据库中。使用的 oracle 驱动程序也受支持，因此没有问题。它可以轻松上传高达 5KB 的文件。如果我的文件超过 5 kb，它会给我这个 oracle 错误。

```
unimplemented or unreasonable conversion requested! 
```

我不明白为什么会发生这种情况因此我无法满足存储更大尺寸的多媒体文件的要求。它向我展示了这一行中的 oracle 错误：

```
 int row = pmt.executeUpdate(); 
```

这是我的代码：

```
pmt = con
                    .prepareStatement("insert into image_mode_idea(data_id,idea_id,file_name,file_format,file_data) values(?,?,?,?,?)");
            pmt.setInt(1, data_id);
            pmt.setInt(2, idea_id);
            pmt.setString(3, fileName);
            pmt.setString(4, fileFormat);
            out.println("whatsup"+inputStream);
            if (inputStream != null) {
                out.println("Before Set the Input Stream: " + inputStream);
                System.out.println(pmt);
                pmt.setBinaryStream(5, inputStream, inputStream.available());
                System.out.println(pmt);
                out.println("Set the Input Stream: " + inputStream);
            } else {
                out.println("Input Stream Null");
            }
            System.out.println(pmt);
            int row = pmt.executeUpdate(); 
```

任何形式的帮助都将在第一时间得到赞赏。

# javascript - 我的 Google Map javascript 代码显示在桌面浏览器上，但不显示在我的手机浏览器上

> ID：16029133
> 
> 赞同：2
> 
> 时间：2013-04-16T05:02:05.433
> 
> 标签：javascript, google-maps-api-3

好的，所以我已经查过了，只找到了一页。

（[Google Maps API GeoLocation 不适用于移动设备](https://stackoverflow.com/questions/12136615/google-maps-api-geolocation-not-working-for-mobile)）

我的问题是我有一些调用谷歌地图 API 的 JavaScript 代码，当我使用桌面上的浏览器查看它时显示得很好，我使用的浏览器是谷歌浏览器，但是当我尝试使用我的浏览器查看它时安卓手机根本不显示。我不确定问题是什么，我运行了几天，但地图崩溃并停止显示。从那以后，我不得不重新编写代码以使其再次显示。我终于让它工作了，但现在我遇到了这个新问题。这是我正在使用的代码。

```
 <!DOCTYPE html>
    <html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
        <link rel="Stylesheet" type="text/css" href="css/drop.css" />
        <link rel="Stylesheet" type="text/css" href="css/login.css" />
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?   sensor=false"></script>
        <script type="text/javascript">
            function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(getMap, showError);
                }
                else {
                   alert("Geolocation is not supported by this browser.");
                }
            }

           function initialize( lat, lon ) {
               pLatitude = lat;
               pLongitutde = lon;

           var mapOptions = {
              center: new google.maps.LatLng(lat, lon),
              zoom: 14,
              mapTypeId: google.maps.MapTypeId.ROADMAP,
              mapTypeControl: true
           }

           var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
           var marker = new google.maps.Marker({
              position: new google.maps.LatLng(lat, lon),
              map: map,
              title: "Current Location"
           });
        }

        function getMap(position) {
             lat = position.coords.latitude;
             lon = position.coords.longitude;

             google.maps.event.addDomListener(window, 'load', initialize(lat, lon));
        }

        function showError(error) {
             switch (error.code) {
                 case error.PERMISSION_DENIED:
                    alert("User denied the request for Geolocation.");
                    break;
                case error.POSITION_UNAVAILABLE:
                    alert("Location information is unavailable.");
                    break;
                case error.TIMEOUT:
                    alert("The request to get user location timed out.");
                    break;
                case error.UNKNOWN_ERROR:
                    alert("An unkown error occurred.");
                    break;
        }
    }
</script>
</head>
<body onload="getLocation()">
   <div id="map-canvas"></div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T06:06:23.853

你犯了几个错误。我更新了您的代码并添加了注释以进行解释：http: [//jsfiddle.net/cj5xF/1/](http://jsfiddle.net/cj5xF/1/)

还有一个全屏视图（在移动设备上测试）：http: [//jsfiddle.net/cj5xF/1/embedded/result/](http://jsfiddle.net/cj5xF/1/embedded/result/)

固定代码的片段：

```
 // When the page has loaded, call the getLocation function.
    // Be sure not to use parenthesis after getLocation, or you will
    // call it, instead of passing a reference to it to be called later (callback)
    google.maps.event.addDomListener(window, 'load', getLocation); 
```

这将`getLocation`在页面加载后调用该函数。该`getLocation`函数将执行其地理位置检查，如果可用，调用并将包含坐标`initialize`的对象传递给它。然后将使用这些坐标创建谷歌地图。`position``initialize`

# kendo-grid - 如何在按钮单击中加载剑道网格数据而不是在页面加载中

> ID：16029142
> 
> 赞同：4
> 
> 时间：2013-04-16T05:03:03.737
> 
> 标签：kendo-grid

我的应用程序中有剑道网格和图表。我也有按钮。在页面加载时，所有数据都加载到网格和图表中。但我想在按钮中加载数据，而不是在页面加载中。在页面加载中网格和图表将是空的。当我们单击按钮时，数据将加载到网格和图表中。如何执行此任务。如果有人知道这一点，请帮助我。我的网格代码是

```
 var grid = $("#grid").kendoGrid({
autoBind:false,
dataSource: undefined,
pageable  : {
    pageSize : 10,
    refresh  : true,
    pageSizes: [10, 20]
},
columns   : [
    {
        field     : "OrderID",
        filterable: false
    },
    "Freight",
    {
        field : "OrderDate",
        title : "Order Date",
        width : 100,
        format: "{0:MM/dd/yyyy}"
    },
    {
        field: "ShipName",
        title: "Ship Name",
        width: 200
    },
    {
        field: "ShipCity",
        title: "Ship City"
    }
]

               }).data("kendoGrid"); 
```

我的小提琴是[http://jsfiddle.net/5bchz/103/](http://jsfiddle.net/5bchz/103/)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-26T09:51:09.780

要在页面加载时停止自动加载网格，

```
$("#grid").kendoGrid({
   autoBind: false,
   dataSource: dataSource
}); 
```

[http://docs.kendoui.c​​om/api/web/grid#configuration-autoBind](http://docs.kendoui.com/api/web/grid#configuration-autoBind)

然后要将网格设置为加载，您需要将其放在 onlick 按钮上，

```
theGrid.dataSource.read() 
```

或者在 jquery 函数中，以便您可以轻松更改要传递的参数。

# ios - Firebase 的有序数组

> ID：16029143
> 
> 赞同：1
> 
> 时间：2013-04-16T05:03:05.567
> 
> 标签：ios, nsmutablearray, firebase

由于 Firebase 在从基础读取时不保证顺序，因此我们可以从此异步调用中获得无序输出：

```
-(void)loadDataFromFirebase
{
    handles = [[NSMutableArray alloc] init];
    Firebase* listRef = [[Firebase alloc] initWithUrl:@"https://mobilefeast.firebaseIO.com/foodtrucks"];
    [listRef observeEventType:FEventTypeChildAdded withBlock:^(FDataSnapshot *snapshot) {
        NSLog(@"%@", snapshot.name);
        [handles addObject:snapshot.value];
        [self.handleTableView reloadData];
    }];
} 
```

在从 Firebase 订购读取片段的示例中，我们可以订购异步数据的打印，但这对于 iOS 中的 NSArrays 效果不佳，其中不存在空洞、稀疏数组。从 iOS 中的 Firebase 按顺序填充数组的正确方法是什么？我认为这可以通过将 .json 添加到 REST 调用的 URL 末尾来完成，但我想尝试坚持使用原生 Firebase iOS API。谢谢。

**编辑： **寻找一个简单的字母排序。看起来这应该发生在 Rest 中，并且在 REST 中使用以下 URL：

```
https://mobilefeast.firebaseio.com/foodtrucks/.json 
```

但我似乎无法使用 iOS Firebase API 复制相同的顺序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T21:45:56.063

在这个特定的例子中，Firebase 的异步特性并不是导致事件看似乱序触发的原因。在幕后，我们将所有数据保存为字典——甚至是数组（有关基本原理，请参见此处：[https](https://www.firebase.com/docs/managing-lists.html) ://www.firebase.com/docs/managing-lists.html ）。由于示例代码使用`FEventTypeChildAdded`事件类型，回调是根据键（在本例中为 0、1、2、3、...、12、13、14...）按字典顺序触发的，然后产生在您看到的输出中。在这里查看：[https](https://www.firebase.com/docs/ordered-data.html) ://www.firebase.com/docs/ordered-data.html ，了解有关排序在 Firebase 事件中发挥作用的各种方式的更多详细信息。

根据您的示例代码以及您期望这些数据如何变化和增长，您有几个选择：

您可以一次抓取整个东西，在这种情况下，我们将以正确的顺序向`FEventTypeValue`您传递一个预构建的东西。`NSArray`这看起来像

```
[listRef observeEventType:FEventTypeValue withBlock:^(FDataSnapshot *snapshot) {
  NSLog(@"value: %@", snapshot.value);
}]; 
```

然后，每次有任何孩子发生变化时都会触发。但是，如果您想以增量方式构建表，则此选项可能不太适合。

另一种选择可能是改变数据结构以利用内置排序。因此，如果将来会有更多数据传输到这里，您可以将其转换为 JSON 等价物如下所示：

```
{
  "alfrescocafe": { "name": "@alfrescocafe", "type": "Truck" },
  "barshagyro": { "name": "@BarshaGyro", "type": "Truck" },
  "bigronsbistro": { "name": "@BigRonsBistro", "type": "Cart"}
} 
```

最后，最后一个选项将允许您保持数组结构并按顺序触发事件。您需要为每个孩子添加优先级；在这种情况下，优先级将是数组元素的名称。

# php - Gmail 显示带有 html 代码的电子邮件

> ID：16029148
> 
> 赞同：0
> 
> 时间：2013-04-16T05:03:29.740
> 
> 标签：php

我有一小段代码用于发送可以满足 html 代码的电子邮件消息。该消息在hotmail中完美显示，但在gmail中，所有html代码都被视为文本并显示。

以下是代码格式：-

```
$headers        = "From: $from \r\n <$email_return>"; 
$headers        .= "\r\nContent-Type: multipart/mixed; boundary=\"PHP-mixed-".$random_hash."\"";

ob_get_contents(); ?> 
--PHP-mixed-<?php echo $random_hash; ?>  
Content-Type: multipart/alternative; boundary="PHP-alt-<?php echo $random_hash; ?>" 

--PHP-alt-<?php echo $random_hash; ?>  
Content-Type: text/plain; charset="utf-8" 
Content-Transfer-Encoding: 7bit

<?php echo $email_message;?>

--PHP-alt-<?php echo $random_hash; ?>  
Content-Type: text/html; charset="utf-8" 
Content-Transfer-Encoding: 7bit

<div style="text-align:left;"><img src="sitelogo.png" height="50px;"></div>
<br>
Dear <?php echo $name;?>,
<br><br>
Thanks!

<br><br><br>
<strong><i><?php echo $email_signature;?></i></strong><br><br>

--PHP-alt-<?php echo $random_hash; ?>-- 

<?php 
$message = ob_get_clean(); 
$mail_sent = mail($to, $subject, $message, $headers); 
echo $mail_sent ? "OK!!" : "not OK!!";
}
?> 
```

我想知道我是否可以对 php 代码做任何事情以正确显示，否则我可能不得不放弃 html 格式。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:12:12.470

你试过`quoted-printable`代替`7bit`吗？

此外，没有标准的 HTML 标签，并且您从`div`.

也尝试先放置 text/html 内容。

**更新**

> 一般来说，组成多部分/替代实体的用户代理应该将正文部分按优先顺序递增，即优先格式最后。对于花哨的文本，发送用户代理应该把最简单的格式放在第一位，最丰富的格式放在最后。接收用户代理应该选择并显示他们能够显示的最后一种格式。在其中一个替代方案本身是“多部分”类型并且包含无法识别的子部分的情况下，用户代理可以选择显示该替代方案、较早的替代方案或两者兼而有之。
> 
> 注意：从实现者的角度来看，颠倒这个顺序似乎更明智，最后有最简单的替代方案。然而，当使用非 MIME 兼容的邮件阅读器查看多部分/替代实体时，将最简单的替代方案放在首位是最友好的选择。虽然这种方法确实给兼容的邮件阅读器带来了一些负担，但在这种情况下，与旧邮件阅读器的互操作性被认为更为重要。

来自： [http ://www.w3.org/Protocols/rfc1341/7_2_Multipart.html](http://www.w3.org/Protocols/rfc1341/7_2_Multipart.html)

看起来您没有在标题中声明 MIME 版本。例如。 `MIME-Version: 1.0`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-26T08:32:54.553

我有一个类似的问题。这不是 Gmail 或 PHP 的真正问题。就我而言，问题是当 PHP 从我的 PHP 源文件生成电子邮件时，就像上面的那样，它以某种 Gmail 不喜欢的方式解释了行尾，也许它发送了 LF 而不是 CRLF，类似的东西。我没有看细节。我所知道的是，鉴于我的电子邮件中的默认值是 CRLF 作为行尾，我使用明确地写了所有行尾`<?php echo "\r\n"; ?>`，而不是依赖文件中的空行，然后 Gmail 会正确解释邮件。这个问题很可能是我用来编写 PHP 源文件的编辑器所特有的。就我而言，它是记事本++。也许它没有正确配置。没关系，现在，为了安全起见，我总是在我的电子邮件中明确输入行尾，至少对于 MTA 和 MUA 必须理解的部分，Content-Type，边界， ETC。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-28T07:28:22.377

您可以尝试以下步骤来修复它：（为我工作）

```
Hold down the Shift key and click the Reload button
Press "Ctrl + Shift + R" (Windows,Linux)
Press "Command + Shift + R" (Mac) 
```

# selenium - 在代码后面有 javascript 的表中选择一行

> ID：16029150
> 
> 赞同：0
> 
> 时间：2013-04-16T05:03:54.530
> 
> 标签：selenium, selenium-webdriver

我正在使用并被困在一个地方`selenium webdriver`。`java`实际上，页面上有一个表格，其中在选择每一行时，页面会发回并将用户带到下一页。正在`HTML` `javascript`使用中。`HTML`页面如下所示：-

```
 <td>onclick="javascript:__doPostBack('ctl00$DefaultContent$WorklistCtrl$WorklistView',
'Select$4')"
onmouseout="this.style.textDecoration='none';" 
onmouseover="this.style.cursor='pointer';this.style.textDecoration='underline';"
style="cursor: pointer; text-decoration: none;" kalis, jack </td> 
```

这是我要单击的表格中的行数据。它在表格单元格中显示了 kalis,jack，并且在其后面放置了此代码。当我将鼠标放在它上面时，它就像一个链接，但无法使用`webdriver`in来单击它`selenium`。

请帮助。在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:25:29.220

```
WebElement cell = driver.findElement(By.xpath("//table[@id='']/tr[x]/td[y]"));
dell.click(); 
```

**示例：让我们抓住单元格 4**

```
<table id="tb123"> //table
  <tr> //table/tr[0]
    <td>Cell 1</td> //table/tr[0]/td[0] 
    <td>Cell 2</td> //table/tr[0]/td[1] 
  </tr>
  <tr> //table/tr[1]
    <td>Cell 3</td> //table/tr[1]/td[0]
    <td>Cell 4</td> //table/tr[1]/td[1]
  </tr>
</table> 
```

您的 xpath 将是这样的： //table[@id='tb123']/tr[1]/td[1]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T13:39:40.383

单击链接时，它会打开一个新的弹出窗口还是只是导航到其他页面？

以下是您的问题。看一看，

[使用 Selenium 自动执行 ASP.NET UpdatePanel 内的回发链接时出现问题](https://stackoverflow.com/questions/1419532/problem-using-selenium-to-automate-a-postback-link-that-is-inside-an-asp-net-upd)

[https://groups.google.com/forum/?fromgroups=#!topic/selenium-users/pYEZR7OAfpA](https://groups.google.com/forum/?fromgroups=#!topic/selenium-users/pYEZR7OAfpA)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T06:20:42.383

试试下面的代码：

```
 WebElement ele = driver.findElement(By.xpath("//td[cotains(text(),'kalis, jack')"));
    ele.click(); 
```

或者

```
 WebElement ele = driver.findElement(By.xpath("//td[cotains(text(),'kalis, jack')"));
    new Actions(driver).moveToElement(ele).perform();
    ele.click(); 
```

# java - 矩形面积的平均值

> ID：16029152
> 
> 赞同：0
> 
> 时间：2013-04-16T05:04:18.453
> 
> 标签：java, average, area

我必须找到每个矩形面积的平均总和。我可以找到每个矩形的面积，我应该将每个面积存储到一个数组中并通过它找到平均值吗？还是那不可能？

```
ArrayList<Rectangle> list = new ArrayList<Rectangle>();
    list.add(new Rectangle(0, 0, 25, 50));
    list.add(new Rectangle(0, 0, 10, 30));
    list.add(new Rectangle(0, 0, 100, 40));
    list.add(new Rectangle(0, 0, 40, 45 ));
    list.add(new Rectangle(0, 0, 13, 13));

    double aAvg = 0.0;
    for (int i = 0; i < list.size(); i++ ) {
        double h = list.get(i).getHeight();
        double w = list.get(i).getWidth();
        double area = h * w;
        System.out.println(area);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:07:46.687

基本上，您只需要将每个区域加起来

```
double sum = 0.0;
for (int i = 0; i < list.size(); i++ ) {
    double h = list.get(i).getHeight();
    double w = list.get(i).getWidth();
    double area = h * w;
    sum += area;
} 
```

然后根据该值计算平均值...

```
double aAvg = sum / (double)list.size(); 
```

除非您需要区域列表，否则不需要维护另一个列表。根据需要（在这种情况下）计算它要简单得多（也更安全）......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:11:41.653

尝试这个。

```
ArrayList<Rectangle> list = new ArrayList<Rectangle>();
    list.add(new Rectangle(0, 0, 25, 50));
    list.add(new Rectangle(0, 0, 10, 30));
    list.add(new Rectangle(0, 0, 100, 40));
    list.add(new Rectangle(0, 0, 40, 45 ));
    list.add(new Rectangle(0, 0, 13, 13));

    double aAvg = 0.0;
    double totalArea = 0.0;
    for (int i = 0; i < list.size(); i++ ) {
        double h = list.get(i).getHeight();
        double w = list.get(i).getWidth();
        double area = h * w;
        totalArea += area;
        System.out.println(area);
    }
    aAvg = totalArea / list.size();

    System.out.println("Average area : " + aAvg); 
```

# css - cakephptime 选择下拉菜单不可自定义

> ID：16029153
> 
> 赞同：0
> 
> 时间：2013-04-16T05:04:20.367
> 
> 标签：css, cakephp, time

我在 cakephp 的表单中有一个时间选择下拉菜单。当我在 chrome 中运行页面时，下拉菜单的样式与我在 Firefox 中运行同一页面时看到的样式不同。在 Firefox 中，我可以看到每个下拉列表（自动生成）附有 3 个箭头按钮，如下所示： ![在此处输入图像描述](https://i.stack.imgur.com/878vR.png)

在 chrome 中我看到不同：

![在此处输入图像描述](https://i.stack.imgur.com/yCAiA.png)

我希望隐藏 Firefox 下拉菜单中的箭头按钮，使其看起来类似于 chrome 中的那个。我用谷歌搜索了许多解决方案，但没有一个有效。这是因为 cakephp 自动生成 3 个下拉菜单。如何在生成的每个下拉列表之间应用标签？代码：

```
 <?php
echo $this->Form->input('Rideoffer.DepartureTime', array(
    'type' => 'time',
    'selected' => '9:00:00',
    'interval' => 5
));
?> 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:30:31.540

查看它生成的标签，并使用您想要在/周围/之前/之后的任何类型的标签手动生成它们。瞧。

请记住，CakePHP 只是 PHP - 如果它不能让您的生活更轻松，只需绕过该部分并以“正常”PHP/HTML 方式进行操作。

（我不相信您可以通过 FormHelper 为自动生成的日期时间下拉列表指定分隔符标记/代码）

# java - 删除我的 json 字符串中添加的转义字符

> ID：16029155
> 
> 赞同：0
> 
> 时间：2013-04-16T05:04:27.333
> 
> 标签：java, android, json

我有一个从我的 web 服务（rest）获取数据（json）的应用程序。我可以成功获得我的json。我所做的是：

```
 try{
            DefaultHttpClient httpClient = new DefaultHttpClient();
            httpClient.setCredentialsProvider(credProvider);
            HttpGet httpGet = new HttpGet(url);

            HttpResponse httpResponse = httpClient.execute(httpGet);
            HttpEntity httpEntity = httpResponse.getEntity();
            inStream = httpEntity.getContent(); 
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try{
            BufferedReader reader = new BufferedReader(new InputStreamReader(inStream));

            StringBuilder sb = new StringBuilder();
            String line = null;

            while((line = reader.readLine()) != null){
                sb.append(line);
            }

            inStream.close();
            json = sb.toString();
        }catch(Exception e){
            logs...
        }

        // and so on... 
```

但是当我尝试打印我的 url 时`json (String)`，因为我有一个从那个 json 获得的 url ......我的 url 看起来像`something\/image\/myimage.png`我的`something/image/myimage.png` 问题在哪里以及如何删除我的 url 中的额外“\”。这是转义字符吗？有任何想法吗？如果你分享一些，那就太好了。虽然我目前也在寻找解决办法。但到现在为止，我几乎找不到它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:17:44.843

使用 str.replaceALL("\\\\","") 删除转义字符。

# shell - 将输出发送到 tty 不会产生预期的结果

> ID：16029156
> 
> 赞同：0
> 
> 时间：2013-04-16T05:04:43.550
> 
> 标签：shell, unix, io, terminal, zsh

我显然不期待正确的结果。

```
$ man less 
```

在另一个终端：

```
$ ps u 
# Find that pid of less is 45783
$ lsof -p 45783
COMMAND   PID USER   FD   TYPE             DEVICE  SIZE/OFF    NODE NAME
less    45783 lust  cwd    DIR                1,4       442      46 /usr/share/man
less    45783 lust  txt    REG                1,4    137712    9698 /usr/bin/less
less    45783 lust  txt    REG                1,4    600576    9397 /usr/lib/dyld
less    45783 lust  txt    REG                1,4 303120384 2911813 /private/var/db/dyld/dyld_shared_cache_x86_64
less    45783 lust    0   PIPE 0xffffff8025bf38c0     16384
less    45783 lust    1u   CHR               16,2   0t82970     763 /dev/ttys002
less    45783 lust    2u   CHR               16,2   0t82970     763 /dev/ttys002
less    45783 lust    3r   REG                1,4      4589  286688 /private/etc/man.conf
less    45783 lust    4r   CHR                2,0       0t0     306 /dev/tty
$ echo "q" > /dev/ttys002 
```

此时，`man less`正在运行的终端打印 q 和换行符，而不是退出联机帮助页的显示。

我怎样才能让它发送原始的“q”？管道不起作用，我得到“zsh：权限被拒绝：/dev/ttys002”。切换`echo`并`cat`输入它也不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T18:27:44.787

也许你想要的是一个协同处理。zsh 支持这些。

```
 coproc bc -l
 print -p 1 + 1
 read -p answer
 echo $answer
 2 
```

这允许您通过控制子进程的标准输入`write -p`

试试这个：它只是一个示例代码，可以根据需要进行修改。它写入终端的输入队列，/dev/pty3 或其他。仅以 root 身份运行。用法：./puttty /dev/pty3

```
int main(int argc, char **argv)  
{                                                 
   int tty = open(argv[1], O_WRONLY|O_NONBLOCK);
   char ch[80]={0x0};
   char *p=NULL;
   while( fgets(ch, 80, stdin)!=NULL)  //Read keyboard input e.g., q<return>
   {
      for(p=ch; *p && *p!='\n'; p++)
         ioctl(tty, TIOCSTI, p);    // put each byte into /dev/pty3  input queue.                    
   }                       
   close(tty); // ctrl-Z  ends the program.                                      
   return 0;                                         
} 
```

# java - 比较 Java 列表

> ID：16029157
> 
> 赞同：1
> 
> 时间：2013-04-16T05:04:55.137
> 
> 标签：java

`true`如果`list1`并`list2`分享至少 1 件商品，我该如何退货？

示例：`list1`= (1,2,3) ... `list2`= (2,3,4)

`someFunction(list1, list2); // returns true`

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-16T05:09:41.397

看看[`Collections.disjoint`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#disjoint%28java.util.Collection,%20java.util.Collection%29)方法。如果是真的，则没有共同点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:22:15.990

就像 TofuBeer 说的，看看[Collections.disjoint](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#disjoint%28java.util.Collection,%20java.util.Collection%29)（如果我有任何声誉，我会支持他的......）：

```
public void main() {
    List<Integer> list1 = Arrays.asList(1,2,3);
    List<Integer> list2 = Arrays.asList(2,3,4); 
    someFunction(list1, list2);
}

private boolean someFunction(List<Integer> list1, List<Integer> list2) {
    return ! Collections.disjoint(list1, list2);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:26:53.483

如果空间不是问题，为什么不直接使用 HashMap？

```
Iterator it1 = list1.iterator(), it2 = list2.iterator();
Map <K, Integer> listmap = new HashMap <K, Integer> ();

while (it1.hasNext() && it2.hasNext()) {
    K elem1 = it1.next(), elem2 = it2.next();
    if ((listmap.get(elem1) != null && listmap.get(elem1) == 2) || 
        (listmap.get(elem2) != null && listmap.get(elem2) == 1)) {
        return false;
    }
    else {
        listmap.put(elem1, 1);
        listmap.put(elem2, 2);
    }

}
return true 
```

这样，您不必遍历整个第二个数组来检查第一个数组的每个元素，因为向哈希表添加元素是在摊销常数时间内发生的。

顺便说一句，更快的解决方案是使用`IntHashMap`Apache commons（或`SparseArray`Android）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T05:09:11.740

使用“迭代器”迭代一个列表，并使用其他列表的包含方法来检查元素。不是吗？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-16T05:12:35.107

```
public boolean someFunction(List<T> l1,List<T> l2)
{
    Iterator<T> i = l1.iterator();
    while(i.hasNext())
    {
        if(l2.contains(i.next())
            return true;
    }
    return false;
} 
```

# php - div溢出滚动块内的表

> ID：16029160
> 
> 赞同：0
> 
> 时间：2013-04-16T05:05:00.387
> 
> 标签：php, css, html, overflow

我有一个从数据库中抓取的循环记录，我试图将这些记录放入一个带有溢出的 div 块中，以允许用户滚动浏览每个的长列表，不知何故，当我在下面显示代码时，div 块看起来很乱，没有滚动，如何我可以将表格放在 div 块内并溢出吗？

```
<div style="overflow:auto;height:100px;width:358px;">
    <table width="100%" border="1" cellpadding="3" cellspacing="0">
        <tr>
            <td><input id="" class="" name="ids[]" type="checkbox" value="<?php echo $user_email; ?>" /></td>
            <td><?php echo $user_name; ?></td>
            <td><?php echo $user_email; ?></td>
        </tr>

        <?php
        $query2 = "SELECT * FROM sub_user where parent_user_id=".$row['user_id'];
        $result2 = mysql_query($query2);

        while($row2 = mysql_fetch_assoc($result2)){
            $user_name = stripslashes($row2['user_name']);
            $su_position = stripslashes($row2['su_position']);
            $su_telephone = stripslashes($row2['su_telephone']);
            $user_email = stripslashes($row2['user_email']);
        ?>

        <tr>
            <td><input id="" class="" name="ids[]" type="checkbox" value="<?php echo $user_email; ?>" /></td>
            <td><?php echo $user_name; ?></td>
            <td><?php echo $user_email; ?></td>
        </tr>
        <?php
        }
        ?>
    </table>
</div> 
```

请指教。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T21:55:41.867

你试过这个吗？

```
<div style="overflow-y: scroll;height:100px;width:358px">
<table width="100%" border="1" cellpadding="3" cellspacing="0">
    <tr>
        <td><input id="" class="" name="ids[]" type="checkbox" value="<?php echo $user_email; ?>" /></td>
        <td><?php echo $user_name; ?></td>
        <td><?php echo $user_email; ?></td>

    </tr>

    <?php
    $query2 = "SELECT * FROM sub_user where parent_user_id=".$row['user_id'];
    $result2 = mysql_query($query2);

    while($row2 = mysql_fetch_assoc($result2)){
        $user_name = stripslashes($row2['user_name']);
        $su_position = stripslashes($row2['su_position']);
        $su_telephone = stripslashes($row2['su_telephone']);
        $user_email = stripslashes($row2['user_email']);
    ?>

    <tr>
        <td><input id="" class="" name="ids[]" type="checkbox" value="<?php echo $user_email; ?>" /></td>
        <td><?php echo $user_name; ?></td>
        <td><?php echo $user_email; ?></td>
    </tr>
    <?php
    }
    ?>
</table> 
```

# java - Java Split() 方法未被识别

> ID：16029161
> 
> 赞同：1
> 
> 时间：2013-04-16T05:05:04.037
> 
> 标签：java

我必须使用`split()`下面代码中的方法，但是编译器会抛出错误：

```
String defA1[] = new str1.split(" "); 
```

抛出的错误说：

```
error: package str1 does not exist
       String defA2[] = new str1.split(" ");
                                ^ 
```

显然它不是一个包，`str1`是一个先前定义的作为方法参数的字符串，如下所示：

```
public static int calculateLevenshteinDistance(String str1, String str2) { ... } 
```

我也在导入包`java.lang`

```
import java.lang.*; 
```

甚至明确地

```
import java.lang.String; 
```

请不要建议`StringTokenizer`，我想知道为什么这不起作用。

你也可以帮我做点别的。我尝试将包作为静态导入，只是想知道是否可以修复它：

```
import static java.lang.*; 
```

但是编译器会说：

```
error: cannot find symbol
            import static java.lang.*;
                              ^ 
```

它仅在我将“静态”添加到导入时发生，并且它发生在我不知道为什么的任何静态导入中。

我正在使用JVM进行编译。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T05:06:16.263

你的语法是错误的。你应该只使用`String defA1[] = str1.split(" ");`. 该`new`关键字旨在调用类构造函数并创建该类的新实例。更多信息：[Oracle Java 教程：创建对象](http://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html)

顺便说一句，Java 编译器已经`import java.lang.*`由您添加，无需`static`向此包添加导入。

还有一点需要注意，JVM（JRE）并不意味着编译代码，只是为了运行它。您使用 Java SDK 编译 Java 代码。更多信息：[JDK 和 JRE 有什么区别？](https://stackoverflow.com/q/1906445/1065197)

附加：如果你想知道为什么编译器会给你消息错误*包str1不存在*

编译器正在尝试读取这一行

```
new str1.split(" "); 
```

as*创建包`split`内的类的新实例，并向构造函数`str1`发送一个带有 value 的参数。`String``" "`*这显然是错误的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T05:06:31.420

用这个

```
String defA1[] = str1.split(" "); 
```

无需新操作员

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T05:08:07.467

它应该是 ：

```
String defA2[] = str1.split(" "); 
```

# ruby - 在 ruby / watir webdriver 中使用正则表达式的语法

> ID：16029162
> 
> 赞同：3
> 
> 时间：2013-04-16T05:05:08.113
> 
> 标签：ruby, regex, watir

我能够使用文本上的完全匹配找到我正在寻找的元素，如下所示，但是当我尝试将其扩展到使用正则表达式时它不起作用。我究竟做错了什么？

```
>> browser.h3(:text => 'Latest News').exist?
=> true
>> browser.h3(:text, 'Latest News').exist?
=> true
>> browser.h3(:text, /Latest News/).exist?
=> false 
```

* * *

```
>> p browser.h3(:text, 'Latest News')
#<Watir::Heading:0x..fcb7790992119c2b2 located=false selector={:text=>"Latest News", :tag_name=>"h3"}>
=> #<Watir::Heading:0x..fcb7790992119c2b2 located=false selector={:text=>"Latest News", :tag_name=>"h3"}>
>> p browser.h3(:text, /Latest News/)
#<Watir::Heading:0x54fac9ec99992782 located=false selector={:text=>/Latest News/, :tag_name=>"h3"}>
=> #<Watir::Heading:0x54fac9ec99992782 located=false selector={:text=>/Latest News/, :tag_name=>"h3"}> 
```

**根据评论进行编辑** ，在 afl 网站上找到了似乎是他所追求的 HTML。这是页面 html 中对“最新消息”进行不区分大小写搜索的唯一匹配项

```
<div class="double-col column">
  <div class="segment   ">
    <h3 class="section-header    blocked">
        LATEST NEWS</h3>
    <div class="content">
      <div class="list-item focus">
        <div class="img-holder">
      ......... 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T12:55:13.910

给定测试站点，我无法重现您的结果。对我来说，所有使用“最新消息”的定位器都返回 false（即字符串和正则表达式匹配）。页面文字全部大写，“最新消息”。使用它而不是“最新消息”允许字符串和正则表达式定位器返回 true。

```
require 'watir'

browser = Watir::Browser.new :chrome
browser.goto 'afl.com.au'

puts browser.h3(:text => 'Latest News').exist?
#=> false
puts browser.h3(:text, 'Latest News').exist?
#=> false
puts browser.h3(:text, /Latest News/).exist?
#=> false

puts browser.h3(:text => 'LATEST NEWS').exist?
#=> true
puts browser.h3(:text, 'LATEST NEWS').exist?
#=> true
puts browser.h3(:text, /LATEST NEWS/).exist?
#=> true 
```

# android - 开发控制台中的 ANR，我的应用程序没有任何痕迹

> ID：16029167
> 
> 赞同：2
> 
> 时间：2013-04-16T05:05:26.673
> 
> 标签：android, android-anr-dialog

在我的开发控制台中收到低于 ANR 报告，但它不包含对我的应用程序的任何跟踪，此报告仅收到一次，所以我不太担心，但仍然很好奇导致此 ANR 的原因。任何指针将不胜感激。

```
DALVIK THREADS:
(mutexes: tll=0 tsl=0 tscl=0 ghl=0)

"main" prio=5 tid=1 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x40d2f568 self=0x40ce7ab0
| sysTid=354 nice=0 sched=0/0 cgrp=apps handle=1074001456
| schedstat=( 0 0 0 ) utm=47666 stm=8637 core=0
#00 pc 0000da40 /system/lib/libc.so (epoll_wait+12)
#01 pc 00014791 /system/lib/libutils.so (android::Looper::pollInner(int)+96)
#02 pc 000149f9 /system/lib/libutils.so (android::Looper::pollOnce(int, int*, int*, void**)+104)
#03 pc 0005d11b /system/lib/libandroid_runtime.so (android::NativeMessageQueue::pollOnce(_JNIEnv*, int)+22)
#04 pc 0001de30 /system/lib/libdvm.so (dvmPlatformInvoke+112)
#05 pc 0004ce73 /system/lib/libdvm.so (dvmCallJNIMethod(unsigned int const*, JValue*, Method const*, Thread*)+390)
#06 pc 00027260 /system/lib/libdvm.so
#07 pc 0002bb38 /system/lib/libdvm.so (dvmInterpret(Thread*, Method const*, JValue*)+180)
#08 pc 0005f877 /system/lib/libdvm.so (dvmInvokeMethod(Object*, Method const*, ArrayObject*, ArrayObject*, ClassObject*, bool)+374)
#09 pc 00066d4d /system/lib/libdvm.so
#10 pc 00027260 /system/lib/libdvm.so
#11 pc 0002bb38 /system/lib/libdvm.so (dvmInterpret(Thread*, Method const*, JValue*)+180)
#12 pc 0005f5b1 /system/lib/libdvm.so (dvmCallMethodV(Thread*, Method const*, Object*, bool, JValue*, std::__va_list)+272)
#13 pc 000494cb /system/lib/libdvm.so
#14 pc 0004698d /system/lib/libandroid_runtime.so
#15 pc 0004746f /system/lib/libandroid_runtime.so (android::AndroidRuntime::start(char const*, char const*)+390)
#16 pc 00000dcf /system/bin/app_process
#17 pc 00016eab /system/lib/libc.so (__libc_init+38)
#18 pc 00000b34 /system/bin/app_process
at android.os.MessageQueue.nativePollOnce(Native Method)
at android.os.MessageQueue.next(MessageQueue.java:125)
at android.os.Looper.loop(Looper.java:124)
at android.app.ActivityThread.main(ActivityThread.java:4745)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
at dalvik.system.NativeStart.main(Native Method)

"SystemUI UsbStorageActivity" prio=5 tid=34 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x4198dbc8 self=0x5157b170
| sysTid=16844 nice=0 sched=0/0 cgrp=apps handle=1363754808
| schedstat=( 0 0 0 ) utm=18 stm=30 core=0
#00 pc 0000da40 /system/lib/libc.so (epoll_wait+12)
#01 pc 00014791 /system/lib/libutils.so (android::Looper::pollInner(int)+96)
#02 pc 000149f9 /system/lib/libutils.so (android::Looper::pollOnce(int, int*, int*, void**)+104)
#03 pc 0005d11b /system/lib/libandroid_runtime.so (android::NativeMessageQueue::pollOnce(_JNIEnv*, int)+22)
#04 pc 0001de30 /system/lib/libdvm.so (dvmPlatformInvoke+112)
#05 pc 0004ce73 /system/lib/libdvm.so (dvmCallJNIMethod(unsigned int const*, JValue*, Method const*, Thread*)+390)
#06 pc 00000214 /dev/ashmem/dalvik-jit-code-cache (deleted)
at android.os.MessageQueue.nativePollOnce(Native Method)
at android.os.MessageQueue.next(MessageQueue.java:125)
at android.os.Looper.loop(Looper.java:124)
at android.os.HandlerThread.run(HandlerThread.java:60)

"SystemUI UsbStorageActivity" prio=5 tid=33 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x419fbec0 self=0x4bf50128
| sysTid=20894 nice=0 sched=0/0 cgrp=apps handle=1362083464
| schedstat=( 0 0 0 ) utm=29 stm=49 core=0
#00 pc 0000da40 /system/lib/libc.so (epoll_wait+12)
#01 pc 00014791 /system/lib/libutils.so (android::Looper::pollInner(int)+96)
#02 pc 000149f9 /system/lib/libutils.so (android::Looper::pollOnce(int, int*, int*, void**)+104)
#03 pc 0005d11b /system/lib/libandroid_runtime.so (android::NativeMessageQueue::pollOnce(_JNIEnv*, int)+22)
#04 pc 0001de30 /system/lib/libdvm.so (dvmPlatformInvoke+112)
#05 pc 0004ce73 /system/lib/libdvm.so (dvmCallJNIMethod(unsigned int const*, JValue*, Method const*, Thread*)+390)
#06 pc 00000214 /dev/ashmem/dalvik-jit-code-cache (deleted)
at android.os.MessageQueue.nativePollOnce(Native Method)
at android.os.MessageQueue.next(MessageQueue.java:125)
at android.os.Looper.loop(Looper.java:124)
at android.os.HandlerThread.run(HandlerThread.java:60)

"Binder_10" prio=5 tid=32 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x4191ae70 self=0x4c179408
| sysTid=19876 nice=0 sched=0/0 cgrp=apps handle=1364312144
| schedstat=( 0 0 0 ) utm=76 stm=68 core=0
#00 pc 0000cb60 /system/lib/libc.so (__ioctl+8)
#01 pc 00027d4d /system/lib/libc.so (ioctl+16)
#02 pc 00016bfd /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+124)
#03 pc 000173af /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+154)
#04 pc 0001b171 /system/lib/libbinder.so
#05 pc 00010f47 /system/lib/libutils.so (android::Thread::_threadLoop(void*)+114)
#06 pc 000468bb /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+66)
#07 pc 00010aad /system/lib/libutils.so
#08 pc 00012b90 /system/lib/libc.so (__thread_entry+48)
#09 pc 000122f4 /system/lib/libc.so (pthread_create+172)
at dalvik.system.NativeStart.run(Native Method)

"Binder_F" prio=5 tid=31 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x417f8690 self=0x4dcc2fd8
| sysTid=14287 nice=0 sched=0/0 cgrp=apps handle=1363298248
| schedstat=( 0 0 0 ) utm=80 stm=73 core=0
#00 pc 0000cb60 /system/lib/libc.so (__ioctl+8)
#01 pc 00027d4d /system/lib/libc.so (ioctl+16)
#02 pc 00016bfd /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+124)
#03 pc 000173af /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+154)
#04 pc 0001b171 /system/lib/libbinder.so
#05 pc 00010f47 /system/lib/libutils.so (android::Thread::_threadLoop(void*)+114)
#06 pc 000468bb /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+66)
#07 pc 00010aad /system/lib/libutils.so
#08 pc 00012b90 /system/lib/libc.so (__thread_entry+48)
#09 pc 000122f4 /system/lib/libc.so (pthread_create+172)
at dalvik.system.NativeStart.run(Native Method)

"Binder_E" prio=5 tid=30 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x41866000 self=0x516a5770
| sysTid=12526 nice=0 sched=0/0 cgrp=apps handle=1365161008
| schedstat=( 0 0 0 ) utm=80 stm=86 core=0
#00 pc 0000cb60 /system/lib/libc.so (__ioctl+8)
#01 pc 00027d4d /system/lib/libc.so (ioctl+16)
#02 pc 00016bfd /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+124)
#03 pc 000173af /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+154)
#04 pc 0001b171 /system/lib/libbinder.so
#05 pc 00010f47 /system/lib/libutils.so (android::Thread::_threadLoop(void*)+114)
#06 pc 000468bb /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+66)
#07 pc 00010aad /system/lib/libutils.so
#08 pc 00012b90 /system/lib/libc.so (__thread_entry+48)
#09 pc 000122f4 /system/lib/libc.so (pthread_create+172)
at dalvik.system.NativeStart.run(Native Method)

"Binder_D" prio=5 tid=29 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x419f6e28 self=0x4be22280
| sysTid=11060 nice=0 sched=0/0 cgrp=apps handle=1304985112
| schedstat=( 0 0 0 ) utm=82 stm=90 core=0
#00 pc 0000cb60 /system/lib/libc.so (__ioctl+8)
#01 pc 00027d4d /system/lib/libc.so (ioctl+16)
#02 pc 00016bfd /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+124)
#03 pc 000173af /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+154)
#04 pc 0001b171 /system/lib/libbinder.so
#05 pc 00010f47 /system/lib/libutils.so (android::Thread::_threadLoop(void*)+114)
#06 pc 000468bb /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+66)
#07 pc 00010aad /system/lib/libutils.so
#08 pc 00012b90 /system/lib/libc.so (__thread_entry+48)
#09 pc 000122f4 /system/lib/libc.so (pthread_create+172)
at dalvik.system.NativeStart.run(Native Method)

"Binder_C" prio=5 tid=28 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x4186d168 self=0x4dba0b98
| sysTid=3518 nice=0 sched=0/0 cgrp=apps handle=1363297608
| schedstat=( 0 0 0 ) utm=101 stm=95 core=0
#00 pc 0000cb60 /system/lib/libc.so (__ioctl+8)
#01 pc 00027d4d /system/lib/libc.so (ioctl+16)
#02 pc 00016bfd /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+124)
#03 pc 000173af /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+154)
#04 pc 0001b171 /system/lib/libbinder.so
#05 pc 00010f47 /system/lib/libutils.so (android::Thread::_threadLoop(void*)+114)
#06 pc 000468bb /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+66)
#07 pc 00010aad /system/lib/libutils.so
#08 pc 00012b90 /system/lib/libc.so (__thread_entry+48)
#09 pc 000122f4 /system/lib/libc.so (pthread_create+172)
at dalvik.system.NativeStart.run(Native Method)

"Binder_B" prio=5 tid=27 NATIVE
| group="main" sCount=1 dsCount=0 obj=0x419eb610 self=0x5135ec40
| sysTid=3229 nice=0 sched=0/0 cgrp=apps handle=1362831816
| schedstat=( 0 0 0 ) utm=91 stm=103 core=0
#00 pc 0000cb60 /system/lib/libc.so (__ioctl+8)
#01 pc 00027d4d /system/lib/libc.so (ioctl+16)
#02 pc 00016bfd /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+124)
#03 pc 000173af /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+154)
#04 pc 0001b171 /system/lib/libbinder.so
#05 pc 00010f47 /system/lib/libutils.so (android::Thread::_threadLoop(void*)+114)
#06 pc 000468bb /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+66)
#07 pc 00010aad /system/lib/libutils.so
#08 pc 00012b90 /system/lib/libc.so (__thread_entry+48)
#09 pc 000122f4 /system/lib/libc.so (pthread_create+172)
at dalvik.system.NativeStart.run(Native Method)

"Binder_A" prio=5 tid=26 NATIVE
| group="main" sCount=1 dsCount... 
```

# google-cloud-storage - 我应该为我的 PHP 网站使用 Google Cloud

> ID：16029168
> 
> 赞同：3
> 
> 时间：2013-04-16T05:05:30.350
> 
> 标签：google-cloud-storage

我正在为我的网站寻找服务器空间。其中之一是用 PHP 构建的。

我是学生，买不起。他们为我们每个人提供的电子邮件服务器空间不允许服务器端编程。

我应该使用谷歌云吗？

我需要能够通过 SSH 连接到 PHP 网络应用程序，我可以使用 Google Cloud 做到这一点吗？

我还需要动态 dns，这样我就可以告诉我的域访问这些站点。

或者我应该在某个地方购买服务器空间。

# python - 试图在 WLST 中获取集群的名称

> ID：16029173
> 
> 赞同：3
> 
> 时间：2013-04-16T05:05:57.837
> 
> 标签：python, wlst

我试图在 wlst 中获取数据源的第一个集群的字符串值名称

```
cd("/JDBCSystemResources/<datasource name>")
targets = get('Targets')
mytarget = targets[0] 
```

这工作正常。如果我使用 viewMBean 命令“viewMBean(mytarget)”，我可以将名称视为属性“名称”

如果我打印 mytarget 的值，我会得到类似：“com.bea:Name=Cluster-1,Type=Cluster”

但我无法弄清楚如何获取名称（上例中的“Cluster-1”）

目前，除了将集群名称作为对象字符串表示的子字符串之外，我想不出任何办法，这听起来不像是要做的事情

任何帮助表示赞赏。

更新：

到目前为止没有答案，我正在使用这个解决方案，但仍然希望有一个更好的解决方案

```
# get the target cluster from the string "com.bea:Name=<clustername>,Type=Cluster"
if len(targets) == 1 :
    tstring = str(targets[0])
    targetCluster = tstring[13:tstring.find(",Type=Cluster")]
    print "targetCluster = "+targetCluster;
else :
    raise Exception("Expected single target cluster for datasource. Targets length was "+str(len(targets))) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-05-01T08:11:08.400

你可以说`targets[0].getName()`为我工作:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-03T04:02:01.770

问题中的代码似乎是最好的答案。即，将集群转换为字符串，然后将其子字符串以获取集群名称。

# c# - 文本框如何正确显示价格？

> ID：16029177
> 
> 赞同：-2
> 
> 时间：2013-04-16T05:06:06.570
> 
> 标签：c#, textbox

我需要一个`Textbox`显示价格；`12,000,000 OR 1 000 (Price)`
像这样的小数：`MaskedTextBox`我得到：120,000,00 OR 100 0

如果有人可以提供帮助，我将很高兴..
提前谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:18:50.500

你可以`DecimalFormat`这样使用：

```
Double number = Double.valueOf(text);

DecimalFormat dec = new DecimalFormat("#.00 EUR");
String credits = dec.format(number);

TextView tt = (TextView) findViewById(R.id.creditsView);
tt.setText(credits); 
```

另外，请检查此[链接](https://stackoverflow.com/questions/8590718/how-to-use-decimalformat-to-format-money)

希望对您有所帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:18:59.377

```
 decimal a = 12000000;
        Console.WriteLine(a.ToString());
        //output=> 12000000

        Console.WriteLine(a.ToString("N"));
        //output=>12,000,000.00

        Console.WriteLine(a.ToString("N1"));
        //output=>12,000,000.0

        Console.WriteLine(a.ToString("N0"));
        //output=>12,000,000 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T05:22:02.827

尝试将此代码添加到`KeyUp`您的事件处理程序`TextBox`

```
private void textBox1_KeyUp(object sender, KeyEventArgs e)
{
    if (!string.IsNullOrEmpty(textBox1.Text))
    {
        System.Globalization.CultureInfo culture = new System.Globalization.CultureInfo("en-US");
        int valueBefore = Int32.Parse(textBox1.Text, System.Globalization.NumberStyles.AllowThousands);
        textBox1.Text = String.Format(culture, "{0:N0}", valueBefore);
        textBox1.Select(textBox1.Text.Length, 0);
    }
} 
```

# ios - 添加到 NavigationController 时如何释放 ViewController 对象？

> ID：16029180
> 
> 赞同：1
> 
> 时间：2013-04-16T05:06:15.630
> 
> 标签：ios, uinavigationcontroller, release

首先我像这样将我的 ViewController 添加到 NavigationController 中，

```
SecondViewController *viewControllerObj = [[SecondViewController alloc] init];
[self.navigationController pushViewController:viewControllerObj animated:YES];
[viewControllerObj release];` 
```

但这会造成崩溃，当我在导航栏中按下返回按钮后将其推送到 SecondViewController。所以我在 .h 文件中创建 SecondViewController 对象作为属性，并像这样在 dealloc 中释放 viewControllerObj，

现在我像这样将我的 ViewController 添加到 NavigationController 中，

在 .h 文件中，

```
@property (nonatomic,retain) SecondViewController *viewControllerObj; 
```

在 .m 文件中，

```
self.viewControllerObj = [[SecondViewController alloc] init];
[self.navigationController pushViewController:self.viewControllerObj animated:YES];

[_viewControllerObj release]; // in dealloc method 
```

当我**分析**我的项目时，这显示**viewControllerObj**上存在潜在泄漏，所以我修改了这样的代码，

```
SecondViewController *temp =  [[SecondViewController alloc] init];
self.viewControllerObj = temp;
[temp release];
[self.navigationController pushViewController:self.viewControllerObj animated:YES]; 
```

现在我清楚了潜在的泄漏

但是我不知道这是否正确，是否每个viewController对象都需要声明为Property并在dealloc时释放？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:15:18.390

> 就正确性而言，您始终可以使用自动发布而不是发布。自动释放是延迟释放。它安排对象在以后接收它的释放。

从[链接](http://forums.macrumors.com/showthread.php?t=703441)。

因此，不要使用发布消息，而是使用您的第一个代码自动发布。

```
SecondViewController *viewControllerObj = [[[SecondViewController alloc] init] autorelease];
[self.navigationController pushViewController:viewControllerObj animated:YES]; 
```

> **autorelease ：**在当前自动释放池块结束时减少接收者的保留计数。
> 
> **release ：**减少接收者的引用计数。（必需的）。您只需实现此方法来定义您自己的引用计数方案。这样的实现不应该调用继承的方法；也就是说，它们不应包含对 super 的发布消息。

[高级内存管理编程指南](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html#//apple_ref/doc/uid/20000994-BAJHFBGH)

# bash - shell脚本中的##是什么意思

> ID：16029185
> 
> 赞同：6
> 
> 时间：2013-04-16T05:06:35.780
> 
> 标签：bash, shell-exec

在编译脚本时，我遇到了命令 do `f=${file##*/}`。我很想知道`##`这行是什么意思。感谢您提前回复

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-16T05:08:30.867

在`bash`中，它删除了前缀模式。在这里，它基本上为您提供最后一个路径分隔符之后的所有内容`/`，方法是贪婪地删除前缀`*/`、任意数量的字符，然后是`/`)：

```
pax> fspec=/path/to/some/file.txt ; echo ${fspec##*/}
file.txt 
```

在这种情况下，贪婪意味着尽可能多的匹配。还有一个非贪婪的变体（匹配最小的可能序列），以及后缀的等价物：

```
pax> echo ${fspec#*/}    # non-greedy prefix removal
path/to/some/file.txt
pax> echo ${fspec%%/*}   # greedy suffix removal (no output)
pax> echo ${fspec%/*}    # non-greedy suffix removal
/path/to/some 
```

和大致相当于您分别从`##*/`和获得的内容，但在其中您不必调用外部程序：`%/*``basename``dirname``bash`

```
pax> basename ${fspec} ; dirname ${fspec}
file.txt
/path/to/some 
```

* * *

对于它的价值，我记住 , , 和 , 的不同效果`##`的`%%`方式`#`如下`%`。它们是各种类型的“去除剂”。

因为`#`经常出现*在*数字之前（如`#1`），所以它会在开头删除内容。同样，`%`通常出现*在*数字 ( `50%`) 之后，因此它会在最后删除内容。

那么唯一的区别是贪婪/非贪婪方面。拥有更多角色（`##`或`%%`）显然意味着你很贪婪，否则你会分享它们:-)

# ios - 有没有办法在运行时列出 iOS 应用程序中的钥匙串访问组？

> ID：16029187
> 
> 赞同：1
> 
> 时间：2013-04-16T05:06:41.983
> 
> 标签：ios, keychain

有没有办法在运行时获取 iOS 应用程序中的钥匙串访问组列表？

我希望一段代码在可用时使用访问组，但在其他情况下不使用它。这是一个库，所以如果可以避免的话，我宁愿不强迫库的用户冗余地指定它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:18:40.953

一、我敢肯定有比这个更好的方法。为什么不尝试无条件地使用访问组，然后检查错误并在尝试存储/检索数据不成功时优雅地回退？

二、如果没有，那么看看[Keychain-Dumper。](https://github.com/ptoomey3/Keychain-Dumper/blob/master/main.m)你一定会在里面找到一些鼓舞人心的想法。我特别建议研究`printKey()`通过遍历每个钥匙串条目来了解获取所有访问组的功能。

# android - 尝试在 Android 手机上获取 GPS 数据

> ID：16029191
> 
> 赞同：0
> 
> 时间：2013-04-16T05:07:06.783
> 
> 标签：android, gps

我是 Android 编程新手，我被卡住了。在我的程序中，我试图访问 gps 并在 textviews 中显示纬度、经度等。当我使用模拟器和 telnet 连接在计算机上运行我的代码时，我能够看到模拟器上显示的数据。但是，当我在 Android 设备（HTC ADR6300 手机）上运行该程序时，我所有的文本视图都是空的，并且没有显示任何数据。我只看到标签，但没有数据。我不确定我做错了什么。感谢您的帮助

这是 MainActivity.java

```
 public class MainActivity extends Activity {
    TextView tvLong;
    TextView tvLat;
    TextView tvSpeed;
    TextView tvAlt;
    TextView tvTime;
    TextView tvProvider;
    String ProviderName;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
            // Get LocationManager to access the GPS data on your phone
            LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
            getApplicationContext().getSystemService(Context.LOCATION_SERVICE);
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            // Who is the data provider? Built-in GPS receiver
            LocationProvider provider = lm.getProvider("gps");

            // Receive location updates from GPS receiver every minute, every 10m
            // Read the data using locationListener
            lm.requestLocationUpdates("gps", 60000, 1, locationListener);
            ProviderName = provider.getName();  
    }

    /** The LocationListener shows the most recent data with every call of onLocationChanged()() */
    private final LocationListener locationListener = new LocationListener() {
            public void onLocationChanged(Location loc) {
                    setContentView(R.layout.activity_main);
                    tvProvider = (TextView)findViewById(R.id.ProviderText);
                    tvLong = (TextView)findViewById(R.id.LonText);
                    tvLat = (TextView)findViewById(R.id.LatText);
                    tvSpeed = (TextView)findViewById(R.id.SpeedText);
                    tvAlt = (TextView)findViewById(R.id.AltText);
                    tvTime = (TextView)findViewById(R.id.TimeText);

                    tvProvider.setText(ProviderName);
                    tvLong.setText(Double.toString(loc.getLongitude()));
                    tvLat.setText(Double.toString(loc.getLatitude()));
                    tvSpeed.setText(Float.toString(loc.getSpeed()));
                    tvAlt.setText(Double.toString(loc.getAltitude()));
                    Date date = new Date(loc.getTime());
                    DateFormat dateFormat = android.text.format.DateFormat.getDateFormat(getApplicationContext());
                    tvTime.setText(dateFormat.format(date));
            }
            //Other methods of LocationListener are not needed, so add empty methods
            public void onProviderDisabled(String provider){}
            public void onProviderEnabled(String provider){}
            public void onStatusChanged(String provider, int status, Bundle extras) {}
    };

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
            // Inflate the menu; this adds items to the action bar if it is present.
            getMenuInflater().inflate(R.menu.main, menu);
            return true;
    }
    public void onExitMenu(MenuItem menuItem)
    {
            finish();
    }
} 
```

这是我的 activity_main.xml 文件。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:paddingBottom="@dimen/activity_vertical_margin"
android:paddingLeft="@dimen/activity_horizontal_margin"
android:paddingRight="@dimen/activity_horizontal_margin"
android:paddingTop="@dimen/activity_vertical_margin"
android:orientation="vertical"
tools:context=".MainActivity" >

<TextView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/provider" />

<TextView
    android:id="@+id/ProviderText"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#0f0" />

<TextView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/lat" />

<TextView
    android:id="@+id/LatText"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#0f0"
    android:textSize="40.0sp" />

<TextView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/lon" />

<TextView
    android:id="@+id/LonText"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#0f0"
    android:textSize="40.0sp" />

<TextView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/speed" />

<TextView
    android:id="@+id/SpeedText"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#0f0"
    android:textSize="40.0sp" />

<TextView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/alt" />

<TextView
    android:id="@+id/AltText"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#0f0"
    android:textSize="40.0sp" />

<TextView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/time" />

<TextView
    android:id="@+id/TimeText"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#0f0"
    android:textSize="40.0sp" />

</LinearLayout> 
```

这是我的 AndroidManifest 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.gps"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />

<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" >

</uses-permission>
<uses-permission android:name="android.permission.INTERNET" >
    </uses-permission>

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.gps.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application>

</manifest> 
```

# jquery - 引用动态创建的元素

> ID：16029194
> 
> 赞同：0
> 
> 时间：2013-04-16T05:07:09.983
> 
> 标签：jquery

我正在尝试解决我在使用 JQuery 时遇到的问题。当我在 DOM 中动态创建元素时，相关事件似乎不会触发（例如：.hover）。不确定在动态创建元素时是否必须以某种方式附加元素事件？

HTML 代码：

```
 <div id="dosages" style="display:none;">
        <h4>Choose a dosage</h4>
        <ul id="dosagesUL" class="thumbnails">
        </ul>
    </div> 
```

jQuery/Javascript：

```
 $("#medsSelect").change(function () {

    var dosages = [];
    var dosage;
    var caption;
    var image;
    var html;
    var idx;

    $("#medsSelect option:selected").each(function () {

        idx = $(this).attr("value");

        for (i = 0; i < medsArray[idx][1].length; i++) {

            dosage = medsArray[idx][1][i];
            caption = medsArray[idx][2][i];
            image = medsArray[idx][3][i];

            html =  "<li class=\"span2\">";
            html += "<div id=\"dosageIdx-\" + idx>";

            html += "<div class=\"thumbnail\">";
            html += "<img src=\"img/meds/" + image + ".png\">"
            html += "</div>";

            html += "<div class=\"thumbnail-capbox\">";
            html += "<div class=\"med-label\">" + dosage + "</div>";
            html += "<div class=\"med-caption\">" + caption + "</div>";
            html += "</div>";

            html += "</div>";
            html += "</li>";

            dosages.push(html);
        }

    });

    $("#dosages").fadeOut(0);
    $("#dosagesUL").empty();
    $("#dosagesUL").append(dosages.join(''));
    $("#dosages").fadeIn(600);

    })

    $('div[id*="dosageIdx-"]').hover(

        function () {
            alert('in');
        },

        function () {
            alert('out');
        }
    ); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:15:54.020

使用`on()`：

```
$('body').on('mouseover', 'div[id*="dosageIdx-"]', function() {
        alert('in');
    }
);
$('body').on('mouseout', 'div[id*="dosageIdx-"]', function() {
        alert('out');
    }
); 
```

**但是，我建议你给这些 div 一个通用的类名，并将其用作第二个选择器。**

更改这一行：（顺便说一句，如果你真的想打印变量，这行是无效的 JS 语法`idx`）

```
html += "<div id=\"dosageIdx-\" + idx>"; 
```

到：

```
html += "<div id=\"dosageIdx-" + idx + "\" class=\"specialHoverDiv\" \">"; 
```

现在您可以这样做，而不是使用复杂的选择器：

```
$('body').on('mouseover', '.specialHoverDiv', function() { 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:15:41.940

您应该在委托事件上使用动态添加的元素..

```
 $(document).on('click','#elementID',function(){
       alert("clicked");
 }) 
```

对于悬停，由于不能使用 on() 和 hover() 你可以使用 mouseenter 和 leave 代替

```
 $(document).on(
 {
  mouseenter: function() 
  {
    alert("mouseenter");
  },
  mouseleave: function()
  {
    alert("mouseleave");
  }
 }, '#elementID'); 
```

始终建议将您的事件委托给最接近的静态父元素，而不是`document`...在您的情况下是`#dosagesUL`（我认为）...是的，如果您有多个 ID，则使用类总是更好..

```
 $('#dosagesUL').on(
  {
    ..... 
```

# javascript - 将 CSS 属性作为参数传递给 JavaScript 函数

> ID：16029202
> 
> 赞同：0
> 
> 时间：2013-04-16T05:07:35.030
> 
> 标签：javascript, css

对于 JavaScript“类”，我有几个几乎相同的 CSS 动画函数。我在下面发布的是高度，但我也有一些宽度、左侧等。对我来说，对于基本相同的任务有不同的功能似乎相当多余，我可以用一些替换下面函数中的高度吗什么样的 CSS 属性参数？

```
WindowItem.prototype.animateHeight = function(inElement, inTarget) {
    var selfCall = true;
    var currHeight = parseInt(inElement.style.height, 10);

    if (this.isExpanded) {
        if (currHeight < inTarget) {
            currHeight += ((inTarget-currHeight)>>3)+1;
            if (currHeight >= inTarget) {
                currHeight = inTarget;
                selfCall = false;
            }
        }
    }
    else {
        if (currHeight > inTarget) {
            currHeight -= ((currHeight-inTarget)>>3)+1;
            if (currHeight <= inTarget) {
                currHeight = inTarget;
                selfCall = false;
            }
        }
    }
    inElement.style.height = currHeight+"px";

    if (selfCall) {
        var self = this;
        setTimeout(function() {
            self.animateHeight(inElement, inTarget);
        }, 33);
    }
} 
```

**编辑**：我可能还应该发布我是如何调用它的，我不确定在这个例子中要传递什么函数来指定高度：`this.animateHeight(this.imgWindow, 0);`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T07:36:14.817

正如我在评论中所写：

如果你想对给定的任何属性使用这个函数，你可以使用一个参数

```
this.animateProperty(this.imgWindow, 0, "height"); 
```

在哪里

```
WindowItem.prototype.animateHeight = function(inElement, inTarget, cssProperty)
... 
```

而不是

```
inElement.style.height 
```

采用

```
inElement.style[cssProperty] 
```

# mysql - 需要为不返回值的 SQL IN 获取常量值

> ID：16029205
> 
> 赞同：3
> 
> 时间：2013-04-16T05:07:46.763
> 
> 标签：mysql, sql

在尝试使用 SQL 查询中的 IN 运算符从表中获取数据时，如果没有可用于该条件的行，则不会返回任何行，如下例所示：

```
mysql> SELECT * FROM employee_tbl;
+------+------+------------+--------------------+
| id   | name | work_date  | daily_typing_pages |
+------+------+------------+--------------------+
|    1 | John | 2007-01-24 |                250 |
|    2 | Ram  | 2007-05-27 |                220 |
|    3 | Jack | 2007-05-06 |                170 |
|    3 | Jack | 2007-04-06 |                100 |
|    4 | Jill | 2007-04-06 |                220 |
|    5 | Zara | 2007-06-06 |                300 |
|    5 | Zara | 2007-02-06 |                350 |
+------+------+------------+--------------------+ 
```

mysql> SELECT daily_typing_pages FROM employee_tbl WHERE name IN ('John','Ram','XYZ');

O/p 将如下所示，只有 2 行：

```
daily_typing_pages  |
--------------------+
                250 |
                220 | 
```

我需要的是在值不匹配的情况下具有一些恒定值。所以我期待的输出是

```
daily_typing_pages  |
--------------------+
                250 |
                220 |
                100 | 
```

有可能做到这一点吗？

编辑：最后设置 SQL 的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:44:48.450

那么你有几个选择来实现这一点。但是，它们中的大多数都是“绕过”问题的解决方法。问题很简单，您的数据不一致。选择一个不存在的用户不应该产生任何结果（这会发生但不是您想要的结果）。

选项 1.) 修复数据：将缺少的用户 XY 插入表中，将未设置的值保留为 NULL。（然后你可以使用`IFNULL(pages, 100)`或任何你喜欢的默认值

选项 2.) Str2Rows：您可以创建一个存储过程或函数，它允许您将给定的字符串动态转换为`A,B,C`三行临时表，因此您可以使用employee_tbl 进行左/右连接。

选项 3。）结果表：创建一个表，等于您的用户表。只插入要查询的名称和默认值。然后`SELECT INTO`从您的员工表中执行。（XY 的默认值将保持不变）

选项 4.) 将非现有用户的值插入 OUT OF SQL（因此在显示结果时）

然而，比消除症状“更好”的是**解决**原因，所以我建议你选择选项 1。

* * *

编辑：选项 3 可能如下所示：[http ://sqlfiddle.com/#!2/82f9e/2](http://sqlfiddle.com/#!2/82f9e/2)

1.）清除您的结果表（请注意，名称需要是唯一的替换才能工作）

2.) 将您需要的结果插入到您的结果表中：

```
INSERT InTO employee_result (name,pages) VALUES ("John", NULL);
INSERT InTO employee_result (name,pages) VALUES ("Ram", NULL);
INSERT InTO employee_result (name,pages) VALUES ("XY", NULL); 
```

3.) 替换那些有值的用户的空值：

```
REPLACE INTO employee_result (name, pages) SELECT name, pages FROM employee_tbl
WHERE name in (SELECT name FROM employee_result); 
```

4.) 检索结果集并为那些没有自己值的人设置默认值。

```
SELECT name, IFNULL(pages,100) from employee_result; 
```

这也可以被“修改”以使用存储过程和临时表。（那将是选项 2）

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:17:54.483

根据您的问题和示例，两个查询之间的 UNION 可能很容易解决您的问题：

**联盟**

```
(SELECT daily_typing_pages FROM employee_tbl WHERE name IN ( 'John','Ram' ,'XYZ'))
UNION
(SELECT constantValue FROM employee_tbl WHERE NOT name IN ( 'John','Ram' ,'XYZ')) 
```

见：[http ://www.mysqltutorial.org/sql-union-mysql.aspx](http://www.mysqltutorial.org/sql-union-mysql.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T06:50:43.707

你可以`SELECT name, (CASE WHEN name IN('John','Ram' ,'XYZ') THEN daily_typing_pages ELSE 100 END) FROM employee_tbl`。这应该够了吧。

# xaml - XAML Windows 8 垂直方向与 Header 和 ItemTemplate

> ID：16029207
> 
> 赞同：0
> 
> 时间：2013-04-16T05:07:50.213
> 
> 标签：xaml, windows-8, windows-applications

我在尝试让我的 GridView 项目模板垂直位于我的 Gridview 标题下时遇到问题。目前，它漂浮在标题的右侧，我无法让它“清除”并坐在下面。这是我的代码：

```
<GridView Grid.Column="3" ItemsSource="{Binding TestData, Mode=OneWay}" SelectionMode="Multiple" IsSwipeEnabled="true" IsItemClickEnabled="true" Grid.Row="1" Width="417">                        
<GridView.Header>
    <TextBlock Text="Measures" Margin="10,0,0,18" Style="{StaticResource SectionTitle}"/>
</GridView.Header>                        
<GridView.ItemTemplate>
    <DataTemplate>
        <Grid> 
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="300"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="30"/>
            </Grid.RowDefinitions>
            <TextBox Text="Here is some form text!!" Grid.Column="0" HorizontalAlignment="Stretch" Padding="0,0,10,0" BorderThickness="0" Background="Transparent" Foreground="White"/>
            <ComboBox Grid.Column="1" HorizontalAlignment="right">
                <ComboBoxItem>N/A</ComboBoxItem>
                <ComboBoxItem>Existing</ComboBoxItem>
                <ComboBoxItem>Proposed</ComboBoxItem>
            </ComboBox>
            <TextBox Grid.Column="1" Grid.Row="1" HorizontalAlignment="right" Text="Date" VerticalAlignment="Top"/>
        </Grid>
    </DataTemplate>
</GridView.ItemTemplate>
</GridView> 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T10:45:58.717

你确定你真的想使用 Header 而不是 Grouping 功能吗？ [在 Windows 8 Metro 应用程序中对 GridView 进行分组](https://stackoverflow.com/questions/9861736/grouping-gridview-in-windows-8-metro-app)

如果你想在网格顶部有一个静态标题，你真的需要它成为网格的一部分还是简单地：

```
 <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="25"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Measures"/>

        <GridView Grid.Row="1">

            <GridViewItem Content="GridViewItem" />
            <GridViewItem Content="GridViewItem" />
            <GridViewItem Content="GridViewItem" />

        </GridView>
    </Grid> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T07:00:22.700

您的标题 TextBlock 的左边距设置为 10，而 GridView 上的默认边距为 0。您可以删除标题边距以使其按您的意愿对齐。

# c++ - 在类对象数组中查找唯一出现的值

> ID：16029211
> 
> 赞同：0
> 
> 时间：2013-04-16T05:08:14.663
> 
> 标签：c++, string, methods, unique, counter

**更新**

我有一个类对象数组，最多可以容纳 50 个由此类定义的对象...

```
class Visitors{
    public:
    string IP;
    string URL;
string dateAccessed;
}; 
```

所以我有这个数组，每个值都已经被妥善处理和初始化。但我想计算两个日期之间访问其相应 URL 的唯一 IP 的数量。

```
int getUniques(Visitors info[], string url, string startDate, string endDate){
    int count = 0;
    string temp;
    for (int i = 0 ; i < N ; i++) {
        if (url == info[i].URL && dateChecker(startDate, endDate, info[i].dateAccessed)) {
            if (temp.empty()) {
                temp = info[i].IP;
                cout << "I'm first temp " << temp << endl;
                cout << "First IP " << info[i].IP << endl;
                count++;
            }
            if (!temp.empty() && temp != info[i].IP) {
                cout << "I'm the rest of temp " << temp << endl;
                cout << "I'm the rest " << info[i].IP << endl;
                count++;
            }
        }
    }
    return count;
} 
```

所以，除了一个问题，我已经解决了所有问题。我无法使用此算法正确检查唯一性。我设置它，所以当我的临时字符串为空时，我将第一个找到的 IP 设置为该临时并检查所有其他 IP。我遇到的问题是，假设 IP 是 1 到 5 之间的值。如果进入 temp 的第一个 IP 是 1，那么第二个和第三个 IP 可能是 2，然后又是 2。显然 2 与 2 没有区别，但它与 1 不同，因此允许计数器递增。

我怎样才能按照我的意图进行这项工作？

# ios - 在 PDF iOS 中查找对象的位置

> ID：16029212
> 
> 赞同：1
> 
> 时间：2013-04-16T05:08:26.013
> 
> 标签：ios, objective-c, xcode, pdf, cgpdf

我有一个结构如下的PDF：

```
 ________________________________________________________
|                                |                      |
| 1\. This is a simple question   |  A  B  C  D  E  F  G |
|________________________________|______________________|
|                                |                      |
| 2\. Another simple question     |  A  B  C  D  E  F  G |
|________________________________|______________________|

... all the way to the end of the page. 
```

用户在应用程序中填写此问题空气，完成后需要打印带有选定“A、B、C、D、E、F、G”的 PDF 问题空气，并在其周围绘制圆圈。

我可以加载 PDF 并为其添加注释，但问题是我不知道如何找到“A、B、C、D、E、F、G”的坐标来围绕它画圆。有没有办法以编程方式解决这个问题？我最后的手段是在 UIImageView 中打开它并在那里绘制所有圆圈，但这会显着降低分辨率，这并不好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T22:57:12.237

我认为您可能会以错误的方式解决此问题。由于用户在应用程序中填写问卷，因此您可以在每个选定字母周围用圆圈“绘制”视图。当您导出 PDF 时，使用 PDF 上下文绘制视图。

以下是一些帮助您入门的部分代码：

```
- (NSData) renderViewToPDF:(UIView*)view
{
    NSMutableData *pdfData = [NSMutableData data];
    NSDictionary  *pdfOptions = @{...};

    UIGraphicsBeginPDFContextToData(pdfData, _pageRect, pdfOptions);

    [questionaireView drawRect:questionaireView.bounds];

    UIGraphicsEndPDFContext();

    return pdfData;
} 
```

调用此方法后，您需要做的就是将数据写入文件。至于圆圈的绘制，如果您使用的是贝塞尔路径，它们是基于矢量的，因此与分辨率无关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T01:33:00.040

好吧，我找不到一种简单的方法来找到 PDF 中每个问题的“AB C..”坐标，所以我，

1.  添加了透明视图
2.  添加到 UISteppers，一个用于 X 和 Y
3.  添加了一个标签来查看以显示 (x,y)
4.  画了一个圆圈`UIGraphicsBeginPDFContextToData`
5.  煞费苦心地使用步进器将 PDF 周围的圆圈移动到每个“AB C..”，同时记下坐标。

绝对不是最优雅的解决方案，但恐怕程序员并不总是聪明。只花了大约一个小时就完成了（30 个问题）。

# linux-kernel - linux内核进程簿记

> ID：16029216
> 
> 赞同：0
> 
> 时间：2013-04-16T05:08:47.567
> 
> 标签：linux-kernel, scheduler

我正在尝试在 linux 内核中实现一些簿记。我想在进程开始在 CPU 上执行之前开始一些日志记录。一旦进程产生 CPU，我必须再次更新我的统计信息。

我想知道我应该在哪里添加我的代码。

是 schedule() 还是 switch_to() ？

我了解在执行 switch_to() 之前禁用中断。

在调用 schedule() 之前是否禁用中断？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T05:54:13.887

在调用`schedule()`. `__schedule()`获得时直接禁用中断`rq->lock`。

它`context_switch()`依赖于体系结构，因此`__schedule()`如果您的代码与体系结构无关并且您不想为每个拱门编写代码，则应该添加代码。

# user-controls - 在页面上添加动态内容，例如 Sitefinity 或 Dotnetnuke

> ID：16029218
> 
> 赞同：-1
> 
> 时间：2013-04-16T05:09:00.020
> 
> 标签：user-controls, dotnetnuke, sitefinity, dynamic-controls, dynamic-content

如何在 Sitefinity 或 Dotnetnuke 等页面上创建动态内容？如何通过拖放管理用户控件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T14:28:16.610

使用 DotNetNuke 时，经常会通过使用模块来添加动态内容。

我有一个开源文章模块，您可以在[https://dnnsimplearticle.codeplex.com/查看](https://dnnsimplearticle.codeplex.com/)

# ajax - 使用 Jmeter 为非 DWR AJAX 调用录制脚本

> ID：16029222
> 
> 赞同：0
> 
> 时间：2013-04-16T05:09:08.517
> 
> 标签：ajax, jmeter

录制控制器不显示与 *.do 样式调用映射的 AJAX 调用。我已经在包含模式中使用了它，但它仍然没有显示在录制控制器下。

请提供任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T08:20:46.477

尝试在排除模式中删除包含模式，将它们全部删除，然后单击添加建议排除。

# c# - 在 Windows Phone 上使用 Mono Spaced 字体

> ID：16029223
> 
> 赞同：0
> 
> 时间：2013-04-16T05:09:10.393
> 
> 标签：c#, windows-phone-7

![单行距字体](https://lh3.googleusercontent.com/-JrbCHdWFpI0/UWzaoraQJQI/AAAAAAAACEI/cEgxH_oeloE/w714-h428-p-o/tabexport.png)

我正在尝试编写一个显示吉他谱的应用程序。但是，现在我遇到了 Mono Spaced 字体没有正确显示的问题。如上图所示，诸如 0 和 2 之类的数字比其他数字具有更大的宽度。下面使用的字体是使用 Consolas 完成的示例，但是我在 Windows Phone 上尝试的所有等宽字体都会出现这种情况，包括 Segoe UI Mono 和其他字体。

有没有其他人遇到过这个错误和/或找到解决它的方法？

注意：有趣的是，下面的布局在 Visual Studio 的 UI 设计器中正确显示。问题只存在于手机上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:33:42.087

发生此问题是因为我没有在我的应用程序中嵌入字体。这样做解决了这个问题。原来 Windows Phone 的内置字体选择比我预期的要小。

# android - git log --pretty=oneline --format="%Cgreen%h %Creset%s" --grep="Linux 3.0." -n 20 没有给出任何输出

> ID：16029227
> 
> 赞同：1
> 
> 时间：2013-04-16T05:09:38.270
> 
> 标签：android, git

```
mkdir android-kernel 
cd android-kernel

git clone https://android.googlesource.com/kernel/common
cd common
git log --pretty=oneline --format="%Cgreen%h %Creset%s" \
        --grep="Linux 2.6." -n 20 
```

现在它没有给出任何输出并且`git log`也是空的。

现在请告诉我我必须做什么。

# iphone - 如何在ios应用中显示pdf？

> ID：16029230
> 
> 赞同：-2
> 
> 时间：2013-04-16T05:09:45.710
> 
> 标签：iphone, ios, xcode, facebook, ipad

谁能告诉我如何在ios应用程序上显示pdf

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:19:29.773

我试过这个，这个答案是我从 SO Question 中得到的。

```
NSMutableDictionary * paramms = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                @"select uid,name,birthday_date from user where uid in (select uid2 from friend where uid1=me())", @"query",
                                nil];
[[StaticFacebook getFacebook] requestWithMethodName: @"fql.query" 
                       andParams: paramms
                   andHttpMethod: @"POST" 
                     andDelegate: self]; 
```

# sencha-touch - Sencha 升级到 2.1 删除所有列表样式

> ID：16029231
> 
> 赞同：0
> 
> 时间：2013-04-16T05:09:50.210
> 
> 标签：sencha-touch, sencha-touch-2, sencha-touch-2.1

在我将 sencha touch 从 2.0 升级到 2.1 之后，我所有的列表样式都被折腾了。我如何取回它？请帮忙..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T11:21:13.313

你的意思是自定义样式？

如果您可能必须使用新的选择器重新配置您的 css。在 2.1（实际上是 2.1.0-b3）的发行说明中，新的列表组件被添加到 2.1，它需要一些 css 编辑：

> 由于这些更改，列表的 DOM 结构发生了更改，您可能需要更改一些 css 选择器来为列表添加适当的样式。通常，您需要将选择器从 '.x-list-item' 更改为 '.x-list-item > .x-dock-vertical > .x-dock-body' 以获取您可能添加的任何填充或边距。

更多细节在：[http ://cdn.sencha.com/touch/alpha/2.2.0.52/release-notes.html](http://cdn.sencha.com/touch/alpha/2.2.0.52/release-notes.html)

# javascript - 将 javascript 弹出窗口从 onclick 更改为 onmouover

> ID：16029235
> 
> 赞同：0
> 
> 时间：2013-04-16T05:10:18.897
> 
> 标签：javascript

如何将弹出窗口的以下 javascript 从“open popup onclick”更改为打开/关闭弹出 onmouseover/onmouseout。

```
<area alt="" coords="127, 22, 20" alt="" href="includes/popup1.htm" onclick="javascript:void window.open('includes/popup1.htm','1366002941508','width=500,height=200,left=350,top=250');return false;" shape="circle" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:23:46.100

在打开弹出窗口时存储对弹出窗口的引用，并`.close()`在处理程序中调用窗口`mouseout`：

```
<area
    onmouseover="popup = open('includes/popup1.htm','1366002941508','width=500,height=200,left=350,top=250');"
    onmouseout="popup && popup.close();"
    coords="127, 22, 20" alt="" href="includes/popup1.htm" shape="circle" /> 
```

但是，既然弹出窗口不是由点击触发的，那么您肯定会被弹出窗口阻止程序阻止。考虑在浮动 div 而不是单独的窗口中显示内容。

# java - j2me 应用程序中的服务器推送消息

> ID：16029239
> 
> 赞同：-1
> 
> 时间：2013-04-16T05:10:31.483
> 
> 标签：java, java-me, push

我想在服务器推送消息上启动我的 j2me midlet。为此我研究了一些主题，所以我知道我必须为我的 j2me 应用程序实现基于套接字的推送消息。但是找不到合适的资源。请帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T08:47:40.000

[这里](https://stackoverflow.com/questions/15617514/how-to-implement-push-notification-in-nokia-series-40-using-nokia-java-sdk-2-0/15633419#15633419)已经回答了一个类似的问题。J2ME PushRegistry 方面只是其中的一部分。您仍然需要一个“服务器”，它将在您注册的 PushRegistry 端口上推送消息。

# python - 是什么导致“//：'list'和'int'不支持的操作数类型”？

> ID：16029247
> 
> 赞同：0
> 
> 时间：2013-04-16T05:11:11.500
> 
> 标签：python

这是我现在拥有的代码。我正在尝试对从文件中读取的数字列表应用基数排序，并将排序后的列表写入不同的文件。

```
from math import log

b = open("radix.in.txt").readlines()
a = [int(i) for i in b]

f = open("radix.out.txt", "w")
def getIndex(num, base, digit_num):
    return (num // base ** digit_num) % base  

def newLists(size):
    return [ [] for i in range(size) ]  

def order(a, base, digit_num):
    placehold = newLists(base)
    for num in a:
        placehold[getIndex(num, base, digit_num)].append(num)  
    return placehold

def radixSort(a, base):
    passes = 3
    new_list = a
    for digit_num in range(passes):
        new_list = order(new_list, base, digit_num)
    list_c = [str(i) for i in new_list]
    print list_c

radixSort(a, 10) 
```

输入文件只是要排序的所有数字的列表，每行一个数字

追溯：

```
File "C:\Users\Nolan Caldwell\Desktop\HW5.py", line 23, in radixSort new_list = order(new_list, base, digit_num) 
File "C:\Users\Nolan Caldwell\Desktop\HW5.py", line 16, in order placehold[getIndex(num, base, digit_num)].append(num) 
File "C:\Users\Nolan Caldwell\Desktop\HW5.py", line 8, in getIndex return (num // base ** digit_num) % base 
TypeError: unsupported operand type(s) for //: 'list' and 'int' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T05:21:30.207

您的函数`order()`需要一个整数列表作为第一个参数`a`，这就是第一次迭代中传递的内容。

但是，`order()`返回一个列表列表，并且该新列表被传递而不是`a`在第二次迭代中传递`radixSort()`，这就是它失败的原因。

# c# - DNN 7 和 asp.net 服务器控制器

> ID：16029248
> 
> 赞同：1
> 
> 时间：2013-04-16T05:11:11.437
> 
> 标签：c#, visual-studio-2012, dotnetnuke, dotnetnuke-module, dotnetnuke-6

我们为 DNN7 创建模块，我们正在使用[Christoc 的 DotNetNuke 模块开发模板](http://christoctemplate.codeplex.com/documentation)，我想问一下我们可以在 view.ascx 中使用 asp.net 服务器控制器吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T14:26:39.543

是的，您可以在 DotNetNuke 模块中使用服务器控件。[在http://www.dotnetnuke.com/Resources/Wiki/Page/Module-Development.aspx](http://www.dotnetnuke.com/Resources/Wiki/Page/Module-Development.aspx)查看一些模块开发教程

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T06:41:33.190

是的，您可以在 DNN 中的 .ascx 上使用任何服务器控件。

# c# - SharpPcap SendQueue 不像示例中那样工作

> ID：16029252
> 
> 赞同：1
> 
> 时间：2013-04-16T05:11:34.357
> 
> 标签：c#

我尝试使用 SharpPcap 并使用 SharpPcap 中的示例从 pcap 文件（libpcap）发送数据包：http: [//sourceforge.net/p/sharppcap/code/ci/SharpPcap_4_1_0/tree/Examples/Example10.SendQueue/Example10.SendQueues。 CS](http://sourceforge.net/p/sharppcap/code/ci/SharpPcap_4_1_0/tree/Examples/Example10.SendQueue/Example10.SendQueues.cs)

我的问题在第 127 行 -`int sent = winPcapDevice.SendQueue(squeue, SharpPcap.WinPcap.SendQueueTransmitModes.Synchronized);`当尝试执行此命令时，我得到异常，即**对象引用未设置为对象的实例。** 我已经用调试器逐行检查，似乎一切正常，直到这个命令，我的`Pcap`文件正常，所有数据包都放在里面`Queue`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:38:44.093

在调试器中检查 winPcapDevice 的值。如果它为空，那么这是你的问题。否则请发布堆栈跟踪，可能是从内部抛出异常`SendQueue`。

要找出 winPcapDevice 为何显示为空，请在调试器中跟踪您期望在此变量中结束的实例的生命周期：`device`变量，然后是`devices`数组。在您逐步执行代码时检查其中的内容。

If`device`不为空，但运行以下代码行：

```
var winPcapDevice = device as WinPcapDevice; 
```

结果`winPcapDevice`为 null 这意味着`device`不能将所持有的实例强制转换为`WinPcapDevice`类型。基本上它是一种不同的类型，也不会继承自有关“as”运算符如何工作的说明，`WinPcapDevice`请参阅[此 msdn 文章](http://msdn.microsoft.com/en-us/library/cscsdfbt%28v=vs.110%29.aspx)。

# php - 如何在 codeigniter 上仅显示模型的前 100 个字符

> ID：16029253
> 
> 赞同：0
> 
> 时间：2013-04-16T05:11:40.720
> 
> 标签：php, mysql, codeigniter

这是我的**模特**

```
function get_news(){
        $this->db->select('*');
        $this->db->from('articles');
        $this->db->where('status' , 0);
        $this->db->limit(6);
        $this->db->order_by('created', 'desc');
        return $this->db->get()->result();  
    } 
```

我的餐桌**文章**

```
id----title----body----status---created 
```

现在在专栏**正文**上，我只想显示 100 个字符，我应该在哪里编辑视图、控制器或此模型。

提前问好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:21:02.950

利用[`substr`](http://php.net/manual/en/function.substr.php)

```
function get_news() {
    $this->db->select('*');
    $this->db->from('articles');
    $this->db->where('status' , 0);
    $this->db->limit(6);
    $this->db->order_by('created', 'desc');
    return substr($this->db->get()->result(), 0, 100); 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:15:42.440

使用 substr

```
$content = substr($str, 0, 100); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:16:03.160

`function`当我需要在某个字符处剪切一个字符串而不剪切最后一个单词本身时，我总是使用 a 。如果需要，此功能将通过减少字符来解决这个问题

```
function strSelect( $myString, $maxLength ) {
$out = "";
$s = explode( " ",$myString );
for( $i = 0, $cs = count( $s ); $i < $cs; $i++ ) {
    $out .= $s[$i]." ";
    if( isSet( $s[$i+1] ) && ( strlen( $out ) + strlen( $s[$i+1] ) ) > $maxLength ) {
        break;
    }
}
return rtrim( $out ); 
```

}

然后你可以打电话

```
return strSelect(($this->db->get()->result()), 100); 
```

[**`substr`**或者您可以使用（此处的文档）](http://it1.php.net/manual/en/function.substr.php)功能简单地切割给定的数字

```
substr(($this->db->get()->result()), 0, 100); 
```

# speech-recognition - 如何使用 System.speech 口述英语

> ID：16029259
> 
> 赞同：0
> 
> 时间：2013-04-16T05:12:09.067
> 
> 标签：speech-recognition, speech, speech-to-text, system.speech.recognition

奇怪的是我的程序只能识别中文。顺便说一句，我在中国。

即使我安装了visual c# 2010的英文版，它仍然只能识别中文。

如何更改语言设置？

```
 private void InitializeRecognizerSynthesizer()
    {
        var selectedRecognizer = (from e in SpeechRecognitionEngine.InstalledRecognizers()
                                  where e.Culture.Equals(Thread.CurrentThread.CurrentCulture)
                                  select e).FirstOrDefault();
        recognizer = new SpeechRecognitionEngine(selectedRecognizer);

        recognizer.AudioStateChanged+=new EventHandler<AudioStateChangedEventArgs>(recognizer_AudioStateChanged);
        recognizer.SpeechHypothesized += new EventHandler<SpeechHypothesizedEventArgs>(recognizer_SpeechHypothesized);
        recognizer.SpeechRecognized += new EventHandler<SpeechRecognizedEventArgs>(recognizer_SpeechRecognized);

        synthesizer = new SpeechSynthesizer();
    } 
```

然后我改变 var selectedRecognizer = (from e in SpeechRecognitionEngine.InstalledRecognizers() where e.Culture.Equals(Thread.CurrentThread.CurrentCulture) select e).FirstOrDefault();

到 e.Culture.Equals("en");

但它似乎是识别器的一个例外 = new SpeechRecognitionEngine(selectedRecognizer); 说检查以确定对象是否为空。

我使用麦克风作为控制面板中的默认音频输入设备。

我刚才在[http://msdn.microsoft.com/en-us/library/ms554259.aspx](http://msdn.microsoft.com/en-us/library/ms554259.aspx)中尝试过这个最简单的代码 。还会出现异常警告句子中没有此类文化标识符： SpeechRecognitionEngine Recognizer = new SpeechRecognitionEngine( new System.Globalization.CultureInfo("en-US")))

# java - 使用 SSL 证书签署 PDF 文件

> ID：16029261
> 
> 赞同：1
> 
> 时间：2013-04-16T05:12:29.733
> 
> 标签：java, itext, keystore, digital-certificate

我的应用程序有一个 SSL 证书，我想用它来使用 iText 对 PDF 文件进行数字签名。证书的扩展名为 .cer，由证书签名机构 (CA) 提供。

问题是我无法将此 .cer 证书转换为使用 itext 库签署 PDF 时所需的 java 密钥库。我拥有的代码是：

这段代码显然会抛出**Invalid keystore format IOException。**

```
KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());
ks.load(new FileInputStream("C:\\abc.cer"), "abcd".toCharArray());
String alias = (String) ks.aliases().nextElement();
PrivateKey key = (PrivateKey) ks.getKey(alias, "abcd".toCharArray());
java.security.cert.Certificate[] chain = ks.getCertificateChain(alias);
PdfReader reader = new PdfReader("C:\\test.pdf");
FileOutputStream fout = new FileOutputStream("C:\\signed.pdf");
PdfStamper stp = PdfStamper.createSignature(reader, fout, '\0');
PdfSignatureAppearance sap = stp.getSignatureAppearance();
sap.setCrypto(key, chain, null, PdfSignatureAppearance.WINCER_SIGNED);
sap.setReason("Test Reason");
sap.setLocation("Test Location");
sap.setVisibleSignature(new Rectangle(10, 10, 20, 20), 1, null);
stp.close(); 
```

请让我知道如何将 SSL 证书转换为 java 密钥库并将其用于签署 pdf 文件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T05:49:35.510

首先，证书不是“SSL 证书”。它们是 x.509 证书，其中一些可用于 SSL/TLS 身份验证。如果您拥有此类证书，则不能将其用于其他目的，包括 PDF 签名。

接下来，.cer 文件是证书的公共部分，它不包含私钥。你需要一个证书*和*一个私钥来签署任何东西。

# html - 带有语义标记的延迟图像加载

> ID：16029263
> 
> 赞同：2
> 
> 时间：2013-04-16T05:12:40.497
> 
> 标签：html, seo, markup

我有一个图像非常丰富的网站。为了为用户节省带宽，我想在图像进入视口时延迟加载图像。有[各种各样的 jQuery 插件](http://www.appelsiini.net/projects/lazyload)和类似的插件可以实现这一点。这是以放置实际图像 url 为代价的，而不是在`src`属性中，而是在其他地方。这使得标记不太好，更糟糕的是，搜索引擎爬虫不太容易理解。

有没有办法同时拥有延迟图像加载和语义、搜索引擎友好的标记？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:22:32.020

您不需要将`src`图像放在其他地方。有一个没有。可用的插件。检查以下链接[http://www.appelsiini.net/projects/lazyload](http://www.appelsiini.net/projects/lazyload)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-21T09:21:15.887

请注意，现在`<img loading="lazy"`是标准化的，因此您可以将其保留`src`为实际源，并且一切都与语义完美配合，更多详细信息请参见：[如何使图像仅在视口中时才延迟加载？](https://stackoverflow.com/questions/2321907/how-do-you-make-images-load-lazily-only-when-they-are-in-the-viewport/57389607#57389607)

# html - 带有表单发布和 Spring 控制器的 UTF-8 编码

> ID：16029269
> 
> 赞同：9
> 
> 时间：2013-04-16T05:13:06.727
> 
> 标签：html, forms, spring, spring-mvc, utf-8

我正在尝试提交一个表单，其中包含 UTF8 字符。表格如下所示：

```
<form id="workflowPersistForm" accept-charset="UTF-8" method="post" action="/workflow-next">>
  <input id="stateGlobal" type="hidden" value=" お問い合わせ" name="state">
</form> 
```

我的服务器是基于弹簧的。我的 web.xml 已经有编码过滤器：

```
 <filter>
     <filter-name>EncodingFilter</filter-name>
     <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
     <init-param>
         <param-name>encoding</param-name>
         <param-value>UTF-8</param-value>
     </init-param>
     <init-param>
         <param-name>forceEncoding</param-name>
         <param-value>true</param-value>
     </init-param>
 </filter> 
```

问题是 UTF-8 字符在某处被弄乱了。我在控制器的开始处设置了一个断点，而角色本身在那个时候就搞砸了。此外，如果我在 Controller 中生成 UTF8 字符，它会在浏览器中正确呈现。就在表单发布上，控制器没有正确接收字符。

知道我可能做错了什么吗？

编辑：看起来，新页面中的数据并没有乱七八糟，而是双重编码。我无法理解为什么它是双重编码的。

编辑 2：当我将表单更改为获取而不是发布时，一切正常。我不知道什么帖子被打破了。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-17T16:05:57.390

看起来浏览器不会将字符集作为请求标头中 Content-Type 的一部分发送（即使设置了表单上的接受字符集），并且 Tomcat 会处理诸如 Latin-1 （[http://wiki.apache. org/tomcat/FAQ/CharacterEncoding#Q1](http://wiki.apache.org/tomcat/FAQ/CharacterEncoding#Q1)）。

因此，稍后这可能已被解码为 Latin-1 并编码为 UTF-8，从而导致字符乱码。

将 CharacterEncodingFilter 移到顶部并强制将编码设置为 UTF-8 解决了该问题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-16T15:18:17.377

您的 web.xml 中是否有用于 EncodingFilter 的过滤器映射条目？

```
<filter-mapping>
  <filter-name>EncodingFilter</filter-name>
  <url-pattern>*</url-pattern>
</filter-mapping> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T10:10:52.570

我建议您删除 CharacterEncodingFilter，这本身可能是双重编码的原因。

要调试情况，您应该首先检查浏览器是否正确发布数据。在 Chrome (F12) 上使用 Firebug（用于 Firefox）或开发者工具

很可能，问题出在服务器端。您使用哪个服务器？如果使用 Tomcat，则需要在 server.xml 中的 Connector 元素上将 CharsetEncoding 设置为 UTF-8

**更新1：**

问题很可能是您正在设置的 forceEncoding 。根据[文档](http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/filter/CharacterEncodingFilter.html)

> 如果请求尚未指定编码，则此过滤器可以应用其编码，或者在任何情况下强制执行此过滤器的编码 ("forceEncoding"="true")

当您执行 get 时，没有指定编码，因此它可以工作是有道理的。

但是，当您执行 POST 时，编码已经应用，然后（似乎）再次应用，因为 forceEncoding=true

# java - Java中的节点，来自C背景

> ID：16029272
> 
> 赞同：1
> 
> 时间：2013-04-16T05:13:22.663
> 
> 标签：java, c, linked-list, nodes

不久前，我在 C 中实现了一个 LinkedList。这非常简单，因为每个 Node 都由一个值和另一个指向列表中下一个元素的指针组成。但是现在我正在尝试在 Java 中实现一个 LinkedList，因为没有指针我做了一个这样的节点：

```
public class MyNode{
    int value;
    MyNode next;

    public MyNode(int i){
        value = i;
        next = null;
    }
} 
```

现在让我们说我有这个：

```
MyNode n1 = new MyNode(1);
MyNode n2 = new MyNode(2);
n1.next = n2;
MyNode n3 = new MyNode(3);
n2 = n3; 
```

如果我这样做，我会得到什么

```
System.println(n1.next.value); 
```

我会得到2还是3？我来自 C 的主要问题是我并不真正了解 java 如何在数据中移动。它是将 n2 复制到 n1 还是 n1 只是指向 n2？这一切真的很令人困惑。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T05:29:07.860

尝试用指针进行类比（我们在 Java 中称它们为引用）：

您可以将变量（n1、n2、n1.next 等）视为指向内存中某处对象的指针。因此`new Node(2);`创建一个节点并将其放置在内存中`n2 = ...`并使变量`n2`指向该节点的“地址”。

然后，当您编写`n1.next = n2;`时，您通过将该地址的**值**`n1.next`复制到 中来指向同一个“地址” 。**`n1.next`**

 **当您稍后编写`n2 = n3;`时，您使`n2`变量指向不同的“地址”，但`n1.next`仍指向初始`new Node(2)`对象的地址。

底线：`System.out.println(n1.next.value);`打印 2，而不是 3。

相关帖子：[Java 是“按引用传递”还是“按值传递”？](https://stackoverflow.com/questions/40480/is-java-pass-by-reference)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:30:02.137

响应为 2。

**n1.next**将继续指向您的实例*MyNode(2);* 在**n2 = n3 之后；**n2 指向 n3 但您将在**n1.next上保留实例***MyNode(2)*的引用。

 **GarbageCollector 只会收集没有任何引用的对象实例。在这种情况下，您将继续在**n1.next上引用实例 (MyNode(2))**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:19:22.797

在java中，变量总是按值传递。Java 将对象作为按值传递的引用传递。

例如，您的代码

```
MyNode n1 = new MyNode(1);
MyNode n2 = new MyNode(2);
n1.next = n2;
MyNode n3 = new MyNode(3);
n2 = n3; 
```

就是这样执行的。

> 创建新节点为 n1，值为 1
> 
> 创建新节点为 n2，值为 2
> 
> 将对象 n1.next 设置为 n2
> 
> 创建新节点为 n3，值为 3
> 
> 将 n2 引用的对象替换为 n3 引用的对象（它不会替换`n1.next`

所以你的呼吁

```
System.out.println(n1.next.value); 
```

打印 2。****

# linq - 代码优先中实体框架中的等效 sql 代码插入/sql

> ID：16029274
> 
> 赞同：1
> 
> 时间：2013-04-16T05:13:26.837
> 
> 标签：linq, entity-framework, c#-4.0, entity-framework-4.1, entity-framework-5

等效于代码优先中实体框架中的以下代码

```
INSERT INTO TableA (a,b)
SELECT a,b
FROM TableB
WHERE a=10 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:30:06.277

我相信您正在尝试根据条件从中选择几列`TableB`，然后将所有这些对象添加到`TableA`，可以执行以下操作：

```
//Create list of TableA objects after selecting and projecting from TableB
var list = db.TableB.Where(t => t.a == 10)
                    .Select(r => new TableA() { A = r.a, B = r.b })
                    .ToList();
//Add those items to TableA through DataContext
foreach (var item in list)
    db.TableA.AddObject(item);
//Call Save
db.SaveChanges(); 
```

# asp.net - ASP .NET 应用程序缓存

> ID：16029276
> 
> 赞同：2
> 
> 时间：2013-04-16T05:13:32.303
> 
> 标签：asp.net, asp.net-mvc-3, caching, appfabric, ncache

我们在 ASP .NET 中开发的网站预计有 1000 个并发用户，并且随着 DB 中列表数量的增加，其性能正在下降。什么样的缓存（如 NCache 或 Appfabric）最能减少 DB 的负载并提高更多并发用户的性能。请给我一些建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:26:50.227

如果您有多个服务器运行，那么 Appfabric 类型的缓存系统将有很大帮助。如果要用于单个服务器，构建 asp.net 缓存系统也很好。最重要的因素之一是您将拥有的 RAM 大小。如果要添加越来越多的 RAM，您的网站将会越来越快。连memcache也可以用[.Net有没有memcache的端口？](https://stackoverflow.com/questions/276924/is-there-a-port-of-memcache-to-net). 即使您看到类似堆栈溢出的网站，它们在数据库服务器上也有大约 380 GB 的 RAM，这使得它变得更快。甚至 SQL Server 也旨在将数据保存在 RAM 中以使其快速访问。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-17T06:49:20.973

在使用分布式缓存之前，请先审核您网站的性能。我在过去见过太多错误，人们绝对想应用对他们无用的东西。

您的站点在 1000 个并发用户时变得很慢？好的，这很正常：小型网站的架构不像大型网站。但是让我们看看为什么（无序列表）：

*   简单地说，什么是慢？一个页面，整个网站？
*   网络：您的网络基础设施是最优的吗？
*   DB：您的数据库是否过载？你的 Queres 可以优化吗？
*   MVC：你在使用异步吗？会议？网络 API 呢？
*   网络：网络性能怎么样？（CDN、脚本、CSS、请求数量……）

要尽快检测到您系统中的瓶颈，有两种方法：负载测试和监控生产系统。

这背后，是 ScaleIn Vs ScaleOut 的挑战。我并不是说分布式缓存不是你的好解决方案：我只是说做最简单的！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-20T11:31:19.847

我强烈建议您查看用于 ASP.NET 应用程序的 NCache。NCache

是一个功能非常丰富的分布式缓存，适用于 .NET 应用程序，并且功能更强大

比 App Fabric。

您可以将[NCache](http://www.alachisoft.com/ncache/)用于应用程序数据缓存、ASP.NET 会话状态存储和运行时数据共享。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-14T10:34:01.940

在 GET 操作上使用：`outputcache/`如果您在保存到数据库时使用

```
EF => Configuration.AutoDetectChangesEnabled = false; 
```

大多数问题都在优化不佳的代码中。

# c++ - 从文件c ++中读取链表

> ID：16029282
> 
> 赞同：0
> 
> 时间：2013-04-16T05:14:23.607
> 
> 标签：c++

我试图从文件中读取链接列表。但由于某种原因，它甚至没有读取文件的内容。

这是文件的结构：

```
Product 1
Category
22.33
Product 2
Category
44.23
Product 3
Category 
66.55 
```

这是读取文件内容的功能。它调用 addproduct 函数以按排序顺序添加它读取的项目。

```
void load (NodePtr head)
        {
            // create a variable to attach to the file
            ifstream input;
            input.open("data.txt");

            // check to see if the file opened correctly, and if not, exit program
            if (input.fail())
            {
                cout << "\n Data file not found \n";
                return;
            }
            ListItemType data; 

            while((! input.eof()) && (head != NULL) )
            {
                input >> data.productname;
                input >> data.category;
                    input >> data.productprice;

                addproduct(head, data);
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:26:21.747

您需要接收 head 的新指针。而不是返回 void，而是返回 NodePtr。

```
NodePtr load( NodePtr head ){

    ...
    return head;
} 
```

# python - 将非英语操作系统更改为仅在 Python 中输出英语

> ID：16029285
> 
> 赞同：0
> 
> 时间：2013-04-16T05:14:52.593
> 
> 标签：python, qt, pyqt4, maya

我有一个 Win 7 韩文版（它的韩文版，不是语言包的终极版）。当我尝试导入 PyQt4 时，我在 Maya 中收到此错误：

```
from PyQt4 import QtGui

Error: Error in  maya.utils._guiExceptHook:
File "C:\Program Files\Autodesk\Maya2012\Python\lib\site-packages\maya\utils.py", line 282, in formatGuiException
exceptionMsg = unicode(exceptionObject.args[0])
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc1 in position 17: ordinal not in range(128) 
```

所以在我的英语win7上这不会发生。我一直在阅读这里的问题和一些关于 python 中的 unicode 的网站。我意识到这种问题应该在某个地方处理，但我没有编写库，所以我现在无能为力。

我假设这个错误来自操作系统的语言，如果是这样，是否可以解决这个问题？我的 Maya 版本是英文的，但韩文似乎发生了其他事情？

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:19:48.870

您可能想尝试使用[`sys.setdefaultencoding`](http://docs.python.org/2/library/sys.html#sys.setdefaultencoding). 要使用它，您可能必须在您的`site.py`or`sitecustomize.py`文件中调用它，因为正如文档所述：

> 一旦被`site`模块使用，它就会从`sys`模块的命名空间中删除。

我首先尝试`utf-8`，因为`C1`它是一个有效的 UTF-8 起始字节，而 UTF-8 是有意义的。如果这不起作用，那么我认为有一些特定于韩语的编码，但不幸的是，我对它们了解不多。如果 UTF-8 不起作用，[这个 Python 支持的编码列表](http://docs.python.org/2/library/codecs.html#standard-encodings)建议您可能想尝试`euc_kr`, `iso2022_kr`, `cp949`, `johab`, 或`iso2022_jp_2`.

# ruby-on-rails - 雾提供者不能为空-fog-aws-asset_sync

> ID：16029288
> 
> 赞同：1
> 
> 时间：2013-04-16T05:15:09.030
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku, cdn, fog

呃，我遇到了和这里一样的错误...... [rails assets:precompile during slug for s3 error: Fog provider and directory can't be blank when env set](https://stackoverflow.com/questions/13750690/rails-assetsprecompile-during-slug-for-s3-error-fog-provider-and-directory-can) on the solution is not working...

当我尝试预编译资产时，出现以下错误：

```
$ RAILS_ENV=production bundle exec rake assets:precompile
/Users/me/.rvm/rubies/ruby-1.9.3-p362/bin/ruby /Users/me/.rvm/gems/ruby-1.9.3-p362@global/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets
AssetSync: using default configuration from built-in initializer
AssetSync: using default configuration from built-in initializer
rake aborted!
Fog provider can't be blank
/Users/me/.rvm/gems/ruby-1.9.3-p362/gems/asset_sync-0.5.4/lib/asset_sync/asset_sync.rb:32:in `sync'
/Users/me/.rvm/gems/ruby-1.9.3-p362/gems/asset_sync-0.5.4/lib/tasks/asset_sync.rake:3:in `block in 
```

当我输入 heroku labs:list ... 时，它显示 user-env-compile 已启用

```
[+] user-env-compile       Add user config vars to the environment during slug compilation 
```

当我输入 heroku config...我可以看到雾变量已设置

```
AWS_ACCESS_KEY_ID:            myid
AWS_SECRET_ACCESS_KEY:        mykey
FOG_DIRECTORY:                mydirectory
FOG_PROVIDER:                 AWS 
```

为什么它会预编译一些文件，然后给出错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-30T23:05:52.817

你在本地机器上运行这个？您无法从本地计算机访问 Heroku 的环境变量。

您应该将变量添加到您的 bash_profile，或者尝试类似[direnv](https://github.com/zimbatm/direnv "目录")的方法。如果您使用[pow](http://pow.cx "战俘")进行开发，最好的选择是[.powenv](http://pow.cx/manual.html#section_2.2 ".powenv")

```
export AWS_ACCESS_KEY_ID="myid"
export AWS_SECRET_ACCESS_KEY="mykey"
export FOG_DIRECTORY="mydirectory"
export FOG_PROVIDER="AWS" 
```

# javascript - 将关联数组从 javascript 传递到 php 时遇到问题

> ID：16029300
> 
> 赞同：0
> 
> 时间：2013-04-16T05:16:33.200
> 
> 标签：javascript, codeigniter

我正在使用`CodeIgniter`. 我创建了一个`associative array`in`javascript`并将值`php`通过`ajax`. 在 javascript 中，仅当两个文本字段不为空时，才会将值插入到数组中。当我将一个空数组传递给`php`脚本并在模型中回显变量时，我得到的输出为

```
array([0]=> ) 
```

如果我通过插入值来传递数组，则模型的响应是

```
array(['key1']=>['value1']) 
```

我该如何避免`[0]`？我的脚本是

```
if(document.getElementById("insertname").value != null &&    document.getElementById("insertnumber").value != null)
{var partner_name = new Object();
 partner_name[document.getElementById("insertname").value] = document.getElementById("insertnumber").value;
}

$.ajax({
          type:"POST",
          url:"",
          data:{Partner_name:partner_name,cus_id:id,cus_message:customermessage},
          success:function(responsee){
            alert("Message Sent and Stored");
            alert(responsee);
          }
        }); 
```

var转储值

```
array(1) {
  [0]=>
  string(0) ""
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T08:45:42.443

为什么不做：

```
<script type="text/javascript">

<?php if(count($array) > 0){ ?>
var _array = "<?php $array; ?>"; //put here what you need this is just an example
<?php }else{ ?>
var _array = "";
<?php } ?>

</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T09:51:39.350

尝试

```
var data = {
    'one' : {
       'child' : '',
    },
    'two' : '',
}

$.ajax({ data : data }); 
```

# javascript - 用户控件中的日期

> ID：16029301
> 
> 赞同：1
> 
> 时间：2013-04-16T05:16:40.200
> 
> 标签：javascript, jquery, asp.net

我在这里一直有些困惑

```
$(function () {
            $("input[id*=ucFromDate], input[id*=ucToDate]").click(function () {

                var fromDate = $("input[id*=ucFromDate]").val();
                var toDate = $("input[id*=ucToDate]").val();

                if ($("input[id*=ucFromDate]").val().length != 0 && $("input[id*=ucToDate]").val().length != 0)
                {
                    var dateFrom = dateUTC(fromDate);
                    var dateTo = dateUTC(toDate);

                    alert(dateTo.toString());
                    alert(dateFrom.toString());

                }

            });
        });

        function dateUTC(date) {
            var date = date.split("-");
            return new Date(date[2], date[0]-1, date[1]);
        } 
```

我在第二次点击时获得了像 **2013-04-1** 这样**的**值来自**UserControl**

# android - 交互式图像/用户界面和绘图

> ID：16029305
> 
> 赞同：0
> 
> 时间：2013-04-16T05:17:40.540
> 
> 标签：android

我想要一个带有触摸激活区域的静态图像，这些区域调用某些函数来重绘屏幕上的形状。

例如，我触摸一个定义的区域，一个正方形将重绘成一条线。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:32:00.330

您可以使用 ImageView 在 Android 中显示图像。

然后为图像视图提供 onTouch 侦听器，当触摸发生时，将指针位置存储到全局变量并返回 false。

然后当 ImageView 发生 onclick 事件时，您可以从全局变量中获取指针位置，并根据该位置采取相应的行动。

# sql-server - 如何将重复的数据集中放在不同的 SQL Server 数据库中？

> ID：16029308
> 
> 赞同：-1
> 
> 时间：2013-04-16T05:17:55.480
> 
> 标签：sql-server

我们的组织中有许多应用程序，每个应用程序都有自己的数据库（主要是 SQL 服务器）。大多数数据库中都有一些通用数据，例如员工数据。我们如何对这些数据进行整合？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T09:03:17.757

你的问题太宽泛了，没有单一的解决方案。如果您已经有很多数据库，那么只需创建另一个将保存所有常见数据的数据库。

只需继续从所有数据库中识别所有常见数据并将其存储在一个地方。现在，您还必须注意引用的表等，这可能会导致仅用 2 或 3 个更大的新数据库替换所有数据库，但从长远来看，这可能值得付出努力。

# ios - 带有标签数量的水平滚动视图

> ID：16029310
> 
> 赞同：0
> 
> 时间：2013-04-16T05:18:38.813
> 
> 标签：ios

我的视图中需要一个水平 ScrollView，我在数组中有一些单词然后我想在 ScrollView 上显示这些单词，我该怎么做？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:28:23.983

您可以参考以下代码：

```
for (NSString *text in labelArray)
{
    label = [[UILabel alloc] initWithFrame:CGRectMake(scrollWidth,12,132,140)];
    imageView.backgroundColor=[UIColor whiteColor];
    scrollWidth +=165;
    label.text=text;
    [bookScroll addSubview:label];
} 
```

根据您的要求调整标签的滚动宽度和边界。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:30:14.097

你可以做这样的事情

```
 CGRect labelFrame = CGRectMake(0.0f, 0.0f, scrollView.frame.size.width, scrollView.frame.size.height);
    for (NSString *text in wordsArray) {
        UILabel *label = [[UILabel alloc]initWithFrame:labelFrame];
        label.text = text;
        [scrollView addSubview:label];

        labelFrame.origin.x +=labelFrame.size.width;
    }

    CGSize contentSize = scrollView.frame.size;
    contentSize.width = labelFrame.origin.x;
    scrollView.contentSize = contentSize; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:30:32.107

```
int pos = 5;
for (int i=0; i<[yourArray count]; i++)
    {
        UILabel *lbl = [[UIImageView alloc]init];
        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone)
        {
            [lbl setFrame:CGRectMake(pos, 0, 300, 440)];
            [_scrollView setContentSize:CGSizeMake([yourArray count]*320, 440)];
            pos = pos + 320;
        }
        else
        {
            [lbl setFrame:CGRectMake(pos, 0, 748, 1004)];
            [_scrollView setContentSize:CGSizeMake([yourArray count]*768, 1004)];
            pos = pos + 768;
        }        
        lbl.text = [[yourArray objectAtIndex:i]valueForKey:@"text"]];
        [_scrollView addSubview:lbl];
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T06:21:05.757

看看[EasyTableView](https://github.com/alekseyn/EasyTableView)，通过一些代码修改，你可以实现你想要的。此外，在该项目中还有很多东西要学习。

至少，看看它。

# hadoop - hadoop 多个节点设置的 ssh 端口不是 22

> ID：16029316
> 
> 赞同：0
> 
> 时间：2013-04-16T05:18:54.080
> 
> 标签：hadoop, installation

我正在以下链接的两个 linux 服务器上设置 Hadoop：http: [//www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/](http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/)

出于安全原因，我使用了与 22 不同的 ssh 端口。我设置了 .ssh/config 以便主从可以相互 ssh。但我在奴隶上得到以下错误：

错误 org.apache.hadoop.hdfs.server.datanode.DataNode：java.net.UnknownHostException：未知主机：master

有谁知道我为什么会得到这个以及如何解决它？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:57:37.850

您是否在 /etc/hosts 文件中为 master 和 slave 输入了一个条目？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T07:02:39.320

您还可以检查您是否能够 ssh master<->slave？

# android - 如何检测哪个活动导致我的活动 onPause

> ID：16029317
> 
> 赞同：1
> 
> 时间：2013-04-16T05:18:57.657
> 
> 标签：android

我遇到一个棘手的问题，我必须知道是谁导致我的活动进入后台。我的意思是如果我的活动 onPause 方法被调用，我必须知道哪个其他活动将 onResume。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:45:48.217

查看 ActivityManager 的[getRunningTasks](http://developer.android.com/reference/android/app/ActivityManager.html)以获取最近从其他应用程序启动的活动的列表。

> **公共列表 getRunningTasks (int maxNum)**
> 
> 返回当前正在运行的任务的列表，最近的是第一个，之后是较旧的。请注意，“正在运行”并不意味着任务的任何代码当前已加载或处于活动状态——任务可能已被系统冻结，以便在下次进入前台时可以以之前的状态重新启动它。

当然，您可能希望使用该标志**`RECENT_WITH_EXCLUDED`**来确保您获得所有活动，即使是那些故意将自己排除在该列表之外的活动。

> `public static final int` **`RECENT_WITH_EXCLUDED`**
> 
> 在 API 级别 1 中添加标志用于`getRecentTasks(int, int)`：返回所有任务，即使是那些设置了 `FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS`标志的任务。

[此外，如果主屏幕未显示在该列表中，您可能必须在用户按下主屏幕按钮](https://stackoverflow.com/questions/2934355/overriding-the-home-key-long-press-in-a-category-home-activity)时跟踪它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:28:25.157

你检查过这个吗？？？

![在此处输入图像描述](https://i.stack.imgur.com/uejrw.jpg)

您的答案：

假设我的 android 项目中有两个活动。**活动A**和**活动B**

**当前 ActivityA 正在运行。**

ActivityA 进入后台（onPaush）时

1.  从活动A转到活动B
2.  按下主页按钮
3.  任何其他活动进入前台（例如：来电进入您的设备）

所以以上是可能**的 avtivityA 在 onPaush**和任何**其他活动在 onResume**。

## 因此，屏幕上显示的 Activity 在 onResume 中。

希望你能理解......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:38:14.407

在活动内部使用两个静态标志（一个用于活动进入后台，另一个用于存储活动调用，使用这些变量，

```
static boolean isActivityCalled=false;
static boolean isGoesToBackGround=false;
@Override
publivc void onResume()
{
   if(isActivityCalled&&isGoesToBackGround)
   {
      //Application is resumes not from other activity
      isActivityCalled=false;
      isGoesToBackGround=false;
   }
}
@Override
public void onUserLeaveHint()
{
    super.onUserLeaveHint();
    isGoesToBackGround=true;
} 
```

当调用任何活动时，然后设置`isActivityCalled=true;`，这是所有设备进入后台的唯一方法（当单击主页按钮并睡眠时）..

# coldfusion - CFSELECT 绑定

> ID：16029322
> 
> 赞同：0
> 
> 时间：2013-04-16T05:19:42.733
> 
> 标签：coldfusion

我有一个 CFC，我想用它来填充选择下拉菜单。CFC 有一个论点

我试图传递我想要的参数，而不是基于另一个字段。

这可能吗？我已经尝试了几种变体，但什么也没有。

```
<cfselect class="select" 
name="bordersize" 
id="bordersize" 
bind="cfc:/BBQ/CFC/ColorLookDropDowns.DropDowns(SelectedDropDown=bordersize)" 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-16T11:41:35.010

边框大小的引号效果很好。

```
<cfselect class="select" name="bordersize" id="bordersize" bind="cfc:/BBQ/CFC/ColorLookDropDowns.DropDowns(SelectedDropDown='bordersize')" 
```

希望这对其他人有帮助。

# jpa - JPA 单对多关系

> ID：16029323
> 
> 赞同：2
> 
> 时间：2013-04-16T05:19:46.543
> 
> 标签：jpa, one-to-many

我在下面映射了 3 个实体类：

```
@Table(name = "PROVIDER")
public class Provider implements Serializable {

    private static final long serialVersionUID = 1L;

    @Id
    @GeneratedValue
    private long id;
    private long npi;
    private String name;
    private String specialization;
    @OneToMany(mappedBy = "provider", cascade = REMOVE)
    @OrderBy
    private List<Treatment> treatments;
    @Transient
    private ITreatmentDAO treatmentDAO;
    // and so forth
}

@Table(name = "PATIENT")
public class Patient implements Serializable {

    private static final long serialVersionUID = 1L;

    @Id
    @GeneratedValue
    private long id;
    private long patientid;
    private String name;
    @Temporal(TemporalType.DATE)
    private Date birthDate;
    @OneToMany(cascade = REMOVE, mappedBy = "patient")
    @OrderBy
    private List<Treatment> treatments;
    // and so forth
}

@Table(name = "TREATMENT")
public abstract class Treatment implements Serializable {

    private static final long serialVersionUID = 1L;

    @Id
    @GeneratedValue
    private long id;
    private String diagnosis;
    @ManyToOne
    @JoinColumn(name = "patient_fk", referencedColumnName = "id")
    private Patient patient;
    @ManyToOne
    @JoinColumn(name = "provider_fk", referencedColumnName = "id")
    private Provider provider;
    // and so forth
} 
```

当我在 Patient 或 Provider 上调用 getTreatments 时，我希望 JPA 填写治疗属性。但是，这只适用于提供者。无论我尝试什么，patient.getTreatments() 总是返回空。

我错过了什么？

这是服务器端的单元测试：

```
@Test
public void TestAddTreatment() throws PatientExn, ProviderExn {
        GregorianCalendar bd = new GregorianCalendar();
        bd.set(1977, 03, 13);
    Patient patient = this.pf.createPatient(900L, "Orezi.Dauda", bd.getTime());
    Provider provider = this.prf.createProvider(6777L, "Sam.OKafor");
    this.pdao.getEntityManager().getTransaction().begin();
    this.pdao.addPatient(patient);
    this.pdao.getEntityManager().getTransaction().commit();
    this.prdao.getEntityManager().getTransaction().begin();
    this.prdao.addProvider(provider);
    provider.addDrugTreatment(900L, "Malaria", "Chloroquine", (float)5.0);
    this.prdao.getEntityManager().getTransaction().commit();
    List<Long> providerTids = this.prdao.getProviderByNpi(6777L).getTreatmentIds();
    List<Long>patientTids = this.pdao.getPatientByPatientId(900L).getTreatmentIds();
    assert(providerTids.size() == 1); //Passes
    assert(patientTids.size() == 1);// Fails
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:50:01.120

将行替换`@OneToMany(cascade = REMOVE, mappedBy = "patient")`为

```
@OneToMany(cascade = CascadeType.ALL, mappedBy = "patient", orphanRemoval = true) and try it should work 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T13:34:25.033

确保在创建/更新对象时添加到关系的双方。

# c++ - 在不使用向量的情况下将字符串拆分为 C++ 中的数组

> ID：16029324
> 
> 赞同：26
> 
> 时间：2013-04-16T05:19:51.930
> 
> 标签：c++, arrays, string, vector

我正在尝试将由空格分隔的字符串插入到字符串数组中，*而不*在 C++ 中使用向量。例如：

```
using namespace std;
int main() {
    string line = "test one two three.";
    string arr[4];

    //codes here to put each word in string line into string array arr
    for(int i = 0; i < 4; i++) {
        cout << arr[i] << endl;
    }
} 
```

我希望输出为：

```
test
one
two
three. 
```

我知道在 C++ 中已经有其他问题询问字符串 > 数组，但我找不到任何满足我的条件的答案：将字符串拆分为数组而不使用向量。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-04-16T05:41:49.957

可以使用[`std::stringstream`](http://www.cplusplus.com/reference/sstream/stringstream/)类将字符串转换为流（其构造函数将字符串作为参数）。构建完成后，您可以`>>`在其上使用运算符（例如在基于常规文件的流上），它将从中提取或*标记*单词：

```
#include <iostream>
#include <sstream>

using namespace std;

int main(){
    string line = "test one two three.";
    string arr[4];
    int i = 0;
    stringstream ssin(line);
    while (ssin.good() && i < 4){
        ssin >> arr[i];
        ++i;
    }
    for(i = 0; i < 4; i++){
        cout << arr[i] << endl;
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-16T06:53:25.710

```
#include <iostream>
#include <sstream>
#include <iterator>
#include <string>

using namespace std;

template <size_t N>
void splitString(string (&arr)[N], string str)
{
    int n = 0;
    istringstream iss(str);
    for (auto it = istream_iterator<string>(iss); it != istream_iterator<string>() && n < N; ++it, ++n)
        arr[n] = *it;
}

int main()
{
    string line = "test one two three.";
    string arr[4];

    splitString(arr, line);

    for (int i = 0; i < 4; i++)
       cout << arr[i] << endl;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-16T06:09:24.537

```
#define MAXSPACE 25

string line =  "test one two three.";
string arr[MAXSPACE];
string search = " ";
int spacePos;
int currPos = 0;
int k = 0;
int prevPos = 0;

do
{

    spacePos = line.find(search,currPos);

    if(spacePos >= 0)
    {

        currPos = spacePos;
        arr[k] = line.substr(prevPos, currPos - prevPos);
        currPos++;
        prevPos = currPos;
        k++;
    }

}while( spacePos >= 0);

arr[k] = line.substr(prevPos,line.length());

for(int i = 0; i < k; i++)
{
   cout << arr[i] << endl;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T05:24:37.907

这是一个建议：在字符串中使用两个索引，比如`start`和`end`。`start`指向下一个要提取的字符串的第一个字符，`end`指向属于下一个要提取的字符串的最后一个字符之后的字符。`start`从零开始，`end`获取 之后的第一个字符的位置`start`。然后你把字符串`[start..end)`添加到你的数组中。您继续前进，直到击中字符串的末尾。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-11-08T17:48:24.580

```
#include <iostream>
#include <sstream>
#include <vector>
using namespace std;

int main() {

    string s1="split on     whitespace";
    istringstream iss(s1);
    vector<string> result;
    for(string s;iss>>s;)
        result.push_back(s);
    int n=result.size();
    for(int i=0;i<n;i++)
        cout<<result[i]<<endl;
    return 0;
} 
```

输出：-

在
空白处拆分

# android - 使用 api v2 密钥的地图视图

> ID：16029325
> 
> 赞同：1
> 
> 时间：2013-04-16T05:20:01.143
> 
> 标签：android

我在布局和 api v2 键中使用 mapview，但未显示地图。我的问题是......我可以
在 mapview 中使用 v2 键，否则我将不得不使用 mapfragment。

主要的.xml

```
<RelativeLayout 
xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical" 
android:layout_width="fill_parent"
android:layout_height="fill_parent">

<com.google.android.maps.MapView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/map_view"
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent"
    android:clickable="true" 
    android:enabled="true" 
    android:apiKey="my_apikey" />

</RelativeLayout> 
```

清单.xml

```
 <?xml version="1.0" encoding="utf-8"?>

 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="com.example.fpa"
  android:versionCode="1"
  android:versionName="1.0">

<application android:icon="@drawable/icon" android:label="@string/app_name">

    <activity android:name="com.example.fpa.GMapsActivity"
              android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <uses-library android:name="com.google.android.maps" />

    </application>

    <uses-permission android:name="android.permission.INTERNET"/>

</manifest> 
```

得到如下输出： ![在此处输入图像描述](https://i.stack.imgur.com/19rKC.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:36:52.273

您使用的地图`com.google.android.maps.MapView`是 Google Map API 的**v1**。不幸的是，它已被正式弃用。

您应该使用[Google Maps API](https://developers.google.com/maps/documentation/android/)的新版本，即版本 2

> 我的问题是......我可以在 mapview 中使用 v2 键吗？

Maps V1 密钥取决于 MD5 密钥（如果我没记错的话），而 V2 取决于 SHA1 密钥。因此，您不能使用它。

> 我将不得不使用 mapfragment

那么，为什么不呢？

[这是Google Map V2](http://www.vogella.com/articles/AndroidGoogleMaps/article.html)的教程

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:48:15.670

使用此代码并设置 target=Google Inc.:Google APIs:8

公共类 ActivityGoogleMap 扩展 MapActivity {

```
@Override  
public void onCreate(Bundle savedInstanceState) {  
    super.onCreate(savedInstanceState);  
    setContentView(R.layout.main);  

    //to add zoom in and zoom out default buttons  
    MapView mapView = (MapView) findViewById(R.id.mapView); 
    mapView.setBuiltInZoomControls(true);  
} 
```

}

# openxml - 我可以使用 Open Xml 读取 RTF 和 Doc 文件吗？

> ID：16029326
> 
> 赞同：1
> 
> 时间：2013-04-16T05:20:05.357
> 
> 标签：openxml, openxml-sdk

是否可以使用 OpenXml 读取 RTF 和 Doc 文件？还是我需要将其转换为 Docx 格式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T12:34:53.803

我想我找到了答案。据我了解，OpenXml 不允许读取 RTF 和旧 Doc 文件。可能是因为它不是 XML 格式。新的 Docx 文件采用符合 OpenXml 标准的 XML 格式。因此 Docx 文件可以被 OpenXml 读取

# c - 将我的链接列表转换为双向链接列表，但在 insertHead 访问以前的问题

> ID：16029330
> 
> 赞同：-1
> 
> 时间：2013-04-16T05:20:20.867
> 
> 标签：c, doubly-linked-list

在这行代码中尝试访问不是结构或联合的“previous”时出现错误错误：*head->previous = newHead

我不太确定为什么......非常感谢任何帮助。

```
`
struct ListNode
{
     int value;
     struct ListNode* next;
     struct ListNode* previous;
};

void insertAtHead(struct ListNode** head,int val)
{
     struct ListNode* newHead = malloc(sizeof(struct ListNode));
     newHead->value = val;
     newHead->next = NULL;
     newHead->previous = NULL;
     if(*head == NULL)
         *head = newHead;
     else
     {
         newHead->next = *head;
         *head->previous = newHead;
         *head = newHead;
     } 
}` 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:24:49.747

`->`运算符的[优先级](http://en.wikipedia.org/wiki/Operators_in_C_and_C%2B%2B#Operator_precedence)高于`*`。因此， `*head->previous`被分组为`*(head->previous)`，这不是您想要的。使用括号：

```
(*head)->previous = newHead; 
```

# sql-server-data-tools - 使用 SSDT 发布数据？

> ID：16029333
> 
> 赞同：5
> 
> 时间：2013-04-16T05:20:40.117
> 
> 标签：sql-server-data-tools

我有一个 SSDT 项目。发布新版本时，我还想发布/初始化数据库中的一些数据。可以使用 SSDT 完成吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-01T20:56:26.687

可以做到，但可能很棘手。如果您在项目中设置了一个可用于“新”版本的变量，则可以将其作为运行一系列插入的部分放在部署后脚本中，但仅适用于“新”类型。

正如大卫所提到的，更好的方法可能是使用类似 Red-Gate 的数据比较或在创建数据库后运行脚本。可以在部署后脚本中执行此操作，但可能会很棘手。

像这样的东西可以工作：

```
IF '$(DeployType)' = 'New'
BEGIN --"New" release scripts
PRINT 'Post-Deploy Scripts for release.'
:r .\InsertScript1.sql
:r .\InsertScript2.sql
--etc
END --"New" release scripts 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-01T11:52:14.027

这在 SSDT 中是不可能的。当前的[指导](http://blogs.msdn.com/b/ssdt/archive/2012/02/02/including-data-in-an-sql-server-database-project.aspx)是使用部署后脚本。

Redgate [ReadyRoll](http://www.red-gate.com/products/sql-development/readyroll/)提供了许多 SSDT 用户熟悉的体验，但改进了[静态数据管理](https://documentation.red-gate.com/display/RR1/Static+Data)以及许多其他改进。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-13T07:30:35.250

当它们被放置在项目的特定子文件夹中时，我们会自动包含合并脚本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-23T23:47:30.510

根据您的工作，表值的 custructors 可能值得一看：

```
SELECT *
FROM
  (VALUES
    (101, 'Bikes'),
    (102, 'Accessories'),
    (103, 'Clothes')
  ) AS Category(CategoryID, CategoryName); 
```

SSDT 可以轻松地传输和比较这些数据。

矿石信息见[https://www.simple-talk.com/sql/sql-training/table-value-constructors-in-sql-server-2008/](https://www.simple-talk.com/sql/sql-training/table-value-constructors-in-sql-server-2008/)

# php - 使用 PHP 和特殊字符从联系人表单发送邮件

> ID：16029334
> 
> 赞同：0
> 
> 时间：2013-04-16T05:20:41.697
> 
> 标签：php, email

恐怕我不是程序员，但我仍在努力帮助客户解决他网站上的一个恼人问题。

这是他的一部分`mailing.php`：

```
$headers = "MIME-Version: 1.0\r\n"; 
$headers = "Content-Type: text/html; charset=UTF-8"; 
```

但是，当在他的网络邮件中查看时，他会得到`Ã¡ Ã±`等（即使在点击时`view as html`）。

我已经进行了一些搜索，但要么我应用的解决方案很差，要么是什么。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-16T05:30:51.803

Diego Martinez，您的信件的编码取决于：

1.  脚本的编码（fe sendmail.php）
2.  变量中文本的编码，您将以字母形式发送（如果您的文本是 fe）
3.  信头

操作文件（脚本）编码使用记事本++，它可以转换你的文件（编码/转换为...）你的文件必须有UTF-8编码

更改文本编码使用[iconv()](http://www.php.net/manual/ru/function.iconv.php)

```
$text = iconv('utf-8', 'iso-8859-2', $text); 
```

它将转换`$text`为`utf-8``iso-8859-2`

标题。我明白了，你知道如何改变它:)

# php - 使用 phpseclib 使用 SCP 上传文件

> ID：16029338
> 
> 赞同：2
> 
> 时间：2013-04-16T05:21:12.167
> 
> 标签：php, sftp, scp, phpseclib

我需要创建 2 个函数：一个使用 SFTP 上传文件，另一个使用 SCP。我正在使用[phpseclib](http://phpseclib.sourceforge.net/)和`put`方法；我相信我已经完成了 SFTP 功能。

现在，我正在尝试执行 SCP 功能。根据[http://adomas.eu/phpseclib-for-ssh-and-scp-connections-with-php-for-managing-remote-server-and-data-exchange/](http://adomas.eu/phpseclib-for-ssh-and-scp-connections-with-php-for-managing-remote-server-and-data-exchange/)，似乎以下是我需要的东西去做：

```
In case of SCP:
1\. Including the needed file: include('/path/to/needed/file/Net/SFTP.php');
2\. Creating object and making connection:
$sftp = new Net_SFTP('host');
if (!$sftp->login('user', 'password')) { exit('Login Failed'); }
3\. Reading contents of a file: $contents=$sftp->get('/file/on/remote/host.txt');
4\. Copying file over sftp with php from remote to local host: $sftp->get('/file/on/remote/host.txt', '/file/on/local/host.txt');
5\. Copying file over sftp with php from local to remote host: $sftp->put('/file/on/remote/host.txt', '/file/on/local/host.txt');
6\. Writing contents to remote file: $sftp->get('/file/on/remote/host.txt', 'contents to write'); 
```

我需要做#5，但它看起来就像我为 SFTP 所做的一样。SFTP 和 SCP 不一样，对吧？相同的代码是否正确？如果没有，我该怎么做 SCP？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-09-29T22:05:13.100

正如 neubert 所指出的，phpseclib 现在通过`Net_SCP`该类具有 SCP 支持。

您通过在构造函数中`Net_SCP`传递对象`Net_SSH2`或`Net_SSH1`对象来实例化对象，然后可以使用`get()`和`put()`方法通过 SCP 下载或上传文件。

这是一个简单的示例脚本，显示我将文件从本地机器 SCP 传送到远程 AWS 实例。

```
<?php

    set_include_path(get_include_path() .
                     PATH_SEPARATOR .
                     '/home/mark/phpseclib');

    require_once('Crypt/RSA.php');
    require_once('Net/SSH2.php');
    require_once('Net/SCP.php');

    $key = new Crypt_RSA();
    if (!$key->loadKey(file_get_contents('my_aws_key.pem')))
    {
        throw new Exception("Failed to load key");
    }

    $ssh = new Net_SSH2('54.72.223.123');
    if (!$ssh->login('ubuntu', $key))
    {
        throw new Exception("Failed to login");
    }

    $scp = new Net_SCP($ssh);
    if (!$scp->put('my_remote_file_name',
                   'my_local_file_name',
                   NET_SCP_LOCAL_FILE))
    {
        throw new Exception("Failed to send file");
    }

?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-06T06:24:23.563

phpseclib 最近添加了 SCP 支持：

[https://github.com/phpseclib/phpseclib/blob/master/phpseclib/Net/SCP.php](https://github.com/phpseclib/phpseclib/blob/master/phpseclib/Net/SCP.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T05:49:30.163

是的，SCP 与 SFTP 的协议完全不同。

phpseclib 现在支持最新版本中的 SCP（从 0.3.5 版开始，于 2013 年 6 月发布）。

或者，使用 PHP PECL SSH2 函数进行 SCP 上传/下载：
[https ://www.php.net/manual/en/ref.ssh2.php](https://www.php.net/manual/en/ref.ssh2.php)

# knockout.js - Knockout 在 html 中使用美元符号 - 任何替代方案？

> ID：16029339
> 
> 赞同：3
> 
> 时间：2013-04-16T05:21:14.763
> 
> 标签：knockout.js, silverstripe

有没有在 Knockout.js 中使用 $data 的替代方法？我正在使用带有 Knockout 的 Silverstripe CMS，刷新后浏览器会在服务器上查找变量“数据”。谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-16T05:40:58.113

只是逃避它：

```
\$data 
```

这[在模板文档的转义部分中有介绍](https://github.com/howardgrigg/sapphire/blob/master/docs/en/reference/templates.md#escaping)。

# jquery - jQuery 事件处理 - 绑定到文档或“正文”元素？

> ID：16029340
> 
> 赞同：23
> 
> 时间：2013-04-16T05:21:16.667
> 
> 标签：jquery

我注意到当我们想要引用整个页面时，尤其是在绑定事件时使用`$(document)`和。`$('body')`

```
$(document).on('click', '.myElement', function); 
```

和

```
$('body').on('click', '.myElement', function); 
```

性能方面的区别是什么？如果`$(document)`将事件绑定到整个 HTML 文档，为什么我们不使用`$('body')`绑定事件`click`来代替呢？

注意这个问题不是指使用ready函数，而是使用`.on()`或者`.delegate()`绑定。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2015-08-19T17:20:33.147

> 性能方面的区别是什么？

几乎可以肯定没有，或者更准确地说，没有可测量的。`$('body')`理论上必须在 DOM 中搜索`body`元素，但这会非常快。此外，由于`body`is 的子级`document`，它将在事件发生前几纳秒的冒泡中到达`document`。

但是，有几个不同之处：

*如果*您`$('body')`在脚本中使用`head`并且没有延迟它的执行（`ready`等），则`$('body')`不会找到任何东西并且不会连接任何处理程序。`$(document)`，另一方面，会。

如果文档的正文没有填满视口，那么至少在某些浏览器上，您会点击`document`但不会点击`body`：

```
$(document).on("click", function() {
  $("<p>document</p>").appendTo(document.body);
});
$('body').on("click", function() {
  $("<p>body</p>").appendTo(document.body);
});
```

```
body {
  border-bottom: 1px solid #060;
}
```

```
<p>The line marks the bottom of <code>body</code>. Click above and below the line to see where the click was caught. (Note the line will move as we append to <code>body</code>.)</p>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
```

当然，这不适用于您的`$('body').on('click', '.myElement', function);`，因为如果点击在外部`body`，它不会通过`.myElement`...

对于全局处理程序，我使用`$(document)`, never `$('body')`（或`$(document.body)`），但这可能更多是出于习惯而非原因。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T05:24:18.303

`$('body')`以`<body>`html 元素为`$(document)`目标，而以整个 html 文档为目标。这意味着如果您想引用`<head>`元素中的某些内容，您将希望从那里到达那里，`$(document)`因为这是一条直接路径。

出于您的目的，根据您向我们展示的内容，它们应该是等效的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-16T05:39:48.963

`Body`是 的孩子`document`。因此，事件将首先到达 ，`body`然后才会冒泡到`document`.
示例：http: [//jsfiddle.net/CoryDanielson/JhH9V/](http://jsfiddle.net/CoryDanielson/JhH9V/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-16T05:26:28.930

这绝对是不一样的，因为虽然在使用 jQuery/JavaScript 时你可以用它们完成你的工作，但是你不能通过 css 设置文档样式。你的身体可以有一个特定的高度。尝试为您的身体添加 200 像素的高度和您选择的背景颜色（因此，您可以看到差异）。然后将绑定添加到文档和正文（两个事件的不同操作）。

这个实验可能对你有用。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-16T05:33:44.307

'document' 关键字只是包含整个 HTML 文档的对象的句柄。另一方面，在 jQuery 中，$('body') 包含 HTML 文档的正文部分。但实际上，您不会注意到它们之间的行为差​​异。

有关几个 jQuery 函数及其工作过程的更多信息，请访问：[jQuery 函数](http://api.jquery.com/jQuery/)

# c# - 如何知道绑定源/数据集是否处于插入模式

> ID：16029341
> 
> 赞同：0
> 
> 时间：2013-04-16T05:21:17.657
> 
> 标签：c#, winforms

用途：Oracle 9i、VS 2005、.Net Framework 2.0+、MDAC 2.7+、Winforms；

在Borland Delphi 中，使用“状态”方法可以知道数据源的状态（即TTable、TADOTAbale 等）。IE

如果需要知道表是否处于插入状态，那么我可以编写一个类似于下面的程序

```
If table1.State = dsInsert Then
begin
//Do work
end; 
```

同样，是否有任何等效的方法可以让我找到状态，特别是它是否在 .Net Framework 中的 DataSet、DataTable 或 BindingSource 对象中处于“插入”状态？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:00:29.237

`DataRow`您可以使用属性检查级别的状态`RowState`。

[这是 msdn 文档。](http://msdn.microsoft.com/pl-pl/library/system.data.datarow.rowstate.aspx)

您还可以使用以下方法检查 DataTable 中特定类型的修改：

```
DataSet.GetChanges(DataRowState) 
```

> 如果未找到所需 DataRowState 的行，则该方法返回 null

[这是相关的 msdn 文档。](http://msdn.microsoft.com/pl-pl/library/0f8054fy.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:35:07.077

如果我错了，请纠正我，没有办法找到状态 ether*更新*或*插入*`DataSet`with ，但您可以根据表中的*主键*`BindingSource`插入、更新或删除 。

 **例子：*

```
if (Id > 0)
  //TODO: Update
else
  //TODO: Insert 
```*

# mobile - 如何将桌面站点的导航转换为可折叠菜单？

> ID：16029346
> 
> 赞同：5
> 
> 时间：2013-04-16T05:22:05.223
> 
> 标签：mobile, moovweb

标题有一个我希望保留的导航菜单，但它占用了太多空间。我该怎么做才能让它在移动设备上看起来不错？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-17T03:31:26.807

一种可能性是使用切换器 - 使其内部内容出现/消失的按钮。[uraniumjs](http://uraniumjs.com/)库包含一些小部件，其中一个是非常简单但[有用](http://uraniumjs.com/widgets/toggler.html)的切换器实现。它也毫不显眼地做到了这一点。

您将需要包含 uranium js 文件，因此您可以使用它。然后，您可以按照下面的说明进行操作。

您需要将菜单代码转换为三个部分：包装容器、“按钮”部分和内容部分。要识别每个部分，请使用以下数据属性：

```
data-ur-set="toggler" 
```

*（将此属性添加到包装器）*

```
data-ur-toggler-component="button" 
```

*（将此属性添加到“按钮”部分）*

```
data-ur-toggler-component="content" 
```

*（将此属性添加到内容部分）*

您还需要在某处包含这些 CSS 规则：

```
*[data-ur-set='toggler'] *[data-ur-toggler-component='content'] {
  display:none;
}
*[data-ur-set='toggler'] *[data-ur-toggler-component='content'][data-ur-state='enabled'] {
  display: block;
} 
```

你可以在这里看到一个小例子：http: [//play.tritium.io/8af1576e385f5db05f6dc75404f993c16485395b](http://play.tritium.io/8af1576e385f5db05f6dc75404f993c16485395b)。

[Bloomingdales](http://m.bloomingdales.com)和[Macys](http://m.macys.com)移动网站都使用这种方法。你可以看到它在那里工作。

# php - PHP经过时间在一定时间后发生变化

> ID：16029348
> 
> 赞同：0
> 
> 时间：2013-04-16T05:22:16.453
> 
> 标签：php

我已经计算了我的程序中两个进程的经过时间。当我执行程序时，经过时间为 0.203 秒，但如果我离开页面一段时间，经过时间会改变并变为 0.173。这是什么原因？我的php程序是

```
include ('db.php');
$data=array();

session_start();
$start_time=  microtime(true);
if (isset($_SESSION['img']))
    {
    $image=$_SESSION['img'];
    $addr="C:/Users/adithi.a/Desktop/FashionSearch/trial/db_features/distrib/db_features.exe $image";
    exec($addr,$data);

    /*for($i=18;$i<=34;$i++)
        {
            if($i!=30)
            {
            echo $data[$i]."<br>";
            }
         }*/
    $start_time1=microtime(true);
    $result=mysql_query("select tbl_features.img_id,img_path,((pow(($data[18]-features_1),2))+(pow(($data[19]-features_2),2))+(pow(($data[20]-features_3),2))+(pow(($data[21]-features_4),2))+(pow(($data[22]-features_5),2))+(pow(($data[23]-features_6),2))+(pow(($data[24]-features_7),2))+(pow(($data[25]-features_8),2))+(pow(($data[26]-features_9),2))+(pow(($data[27]-features_10),2))+(pow(($data[28]-features_11),2))+(pow(($data[29]-features_12),2))+(pow(($data[31]-features_13),2))+(pow(($data[32]-features_14),2))+(pow(($data[33]-features_15),2))+(pow(($data[34]-features_16),2))) as distance from tbl_features join tbl_image where tbl_features.img_id=tbl_image.img_id AND tbl_features.img_id>=92303 AND tbl_features.img_id<124232  ORDER BY distance ASC LIMIT 6") or die(mysql_error());
    while($num=mysql_fetch_assoc($result))
        {
        echo "<a href='Dressinformation.php?image=$num[img_id]'><div class='imgdiv'><img src='$num[img_path]'></div></a>";
        //echo $num["img_id"]." ".$num["img_path"]." ".$num["distance"]."<br>";
        }

    $stop_time1=  microtime(true);
    $time1=$stop_time1-$start_time1;
    print "Euclidean distance time is $time1 seconds";

    $stop_time=  microtime(true);
    $time=$stop_time-$start_time;
    print "elapse time was $time seconds.";
    }

else
    {
    echo "Please upload image";
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:55:42.617

涉及的因素有几十个。只列举一些：

如果 HD 很忙，它将影响您的程序加载所需的时间。在 Windows 上，它通常是因为我以外的原因不断地进行 ACL 查询。即使发生的大部分内容以某种形式缓存，PHP 本身也不缓存脚本，并且每次都会读取和解析它。

您的 MySQL 服务器可能在开发模式下运行，这会降低其响应能力和内存使用量以优先处理用户进程。它也可能有也可能没有你试图`SELECT`缓存的行，当然，当我们谈论毫秒时，它会产生很大的不同。多次运行相同的查询可能会导致 MySQL 使其在缓存中可用，这可以解释为什么它会在一段时间后变得更快。

Sinse Windows XP 有[Prefetcher](http://en.wikipedia.org/wiki/Prefetcher)，这种技术可以记录程序需要加载的内容，以便下次运行时加载速度更快。如果您在您的机器上第一次运行程序时曾经注意到它的速度如此之慢，那么您现在就会明白为什么了。从第二次运行开始，由于 Prefetcher，它将得到提升。但据我所知，它在每次后续运行中都没有进一步的改进，所以它在这里可能没什么影响。

And sinse Windows Vista, every Windows version also comes with [SuperFetch](http://en.wikipedia.org/wiki/Windows_Vista_I/O_technologies#SuperFetch) , a technology that keeps commonly used programs pre-loaded in the "non-used" part of the RAM, and if yours was lucky enough to be elected it may explain why this boost发生了。这也是为什么机器上的 Windows Vista 会在更大容量的 RAM 下表现得更好，即使你没有全部使用它。

# javascript - 使用 YUI Compressor 任务 MSBuild 事件创建新目录

> ID：16029354
> 
> 赞同：1
> 
> 时间：2013-04-16T05:22:45.207
> 
> 标签：javascript, visual-studio-2010, msbuild, yui, yui-compressor

我正在使用 YUI 进行缩小。一切正常。我计划每次将生成的文件保存在不同的目录中。但是如果我给出一个不存在的路径，这个任务就不能生成目录。对我来说，数字 79 将不断变化，因此每次都是新的路径。如果该文件夹已经存在，那么它会复制缩小的文件。

如果在生成文件时不存在创建目录的任何想法或帮助。

我将以下与 MSBuild 集成为构建后事件

```
 <JavaScriptCompressorTask
         SourceFiles="@(jsfile_global)"
         DeleteSourceFiles="false"
         OutputFile="minified/79/global-min.js"
         CompressionType="Standard"
         LoggingType="Info"
         LineBreakPosition="-1"         
    /> 
```

任何帮助或方向将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T11:13:27.553

以下将创建目录，如果不存在：

```
<PropertyGroup>
  <Number>79</Number>
</PropertyGroup>

<MakeDir Directories="minified/$(Number)/" Condition="!Exists('minified/$(Number)/')" />
<JavaScriptCompressorTask
     SourceFiles="@(jsfile_global)"
     DeleteSourceFiles="false"
     OutputFile="minified/$(Number)/global-min.js"
     CompressionType="Standard"
     LoggingType="Info"
     LineBreakPosition="-1"         
/> 
```

# java - 设置日期选择器对话框的日期上限和下限

> ID：16029361
> 
> 赞同：1
> 
> 时间：2013-04-16T05:23:49.247
> 
> 标签：java, android, datepicker, limit

我创建了一个活动，其中有一个用于插入用户出生日期的字段。我使用日期选择器来实现这一点。

这是我正在做的源代码：

```
// onclick dob edittext open date picker dialog
        dob.setFocusableInTouchMode(false);
        dob.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {

                //open date picker
                  showDialog(DATE_DIALOG_ID);

            }
        }); 

//======================For picking birth day==========================
    // Creating dialog
        @Override
        protected Dialog onCreateDialog(int id) {
            Calendar c = Calendar.getInstance();
            int cyear = c.get(Calendar.YEAR);
            int cmonth = c.get(Calendar.MONTH);
            int cday = c.get(Calendar.DAY_OF_MONTH);

            switch (id) {
                case DATE_DIALOG_ID:
                    return new DatePickerDialog(this, mDateSetListener, cyear, cmonth, cday);
            }
            return null;
        }
        private DatePickerDialog.OnDateSetListener mDateSetListener = new DatePickerDialog.OnDateSetListener() {
            // onDateSet method
            public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {
//              String date_selected = String.valueOf(monthOfYear+1)+" /"
//                                    +String.valueOf(dayOfMonth)+" /"
//                                    +String.valueOf(year);

                String date_selected = String.valueOf(dayOfMonth)+" /"
                        +String.valueOf(monthOfYear+1)+" /"
                        +String.valueOf(year);
                //Toast.makeText(RegisterActivity.this, "Selected Date is ="+date_selected, Toast.LENGTH_SHORT).show();
                dob.setText(date_selected);
            }
        };
//======================For picking birth day========================== 
```

**现在我想做的是，将日期选择器限制在特定年份。像这样：**

```
int maxYear = c.get(Calendar.YEAR) - 15; // this year ( 2013 ) - 15 = 1998
                int maxMonth = c.get(Calendar.MONTH);
                int maxDay = c.get(Calendar.DAY_OF_MONTH);

                int minYear = maxYear-49;
                int minMonth = 0; // january
                int minDay = 25; 
```

**我应该怎么做才能将上述边界设置为日期选择器？**

**// - - - - - - - - 编辑 - - - - - - - - - - - - - -**

我做了这样的事情：

```
//======================For picking birth day==========================
    // Creating dialog
        @Override
        protected Dialog onCreateDialog(int id) {
            Calendar c = Calendar.getInstance();
            maxYear = c.get(Calendar.YEAR) - 15; // this year ( 2013 ) - 15 = 1998
            maxMonth = c.get(Calendar.MONTH);
            maxDay = c.get(Calendar.DAY_OF_MONTH);

            switch (id) {
                case DATE_DIALOG_ID:
                    return new DatePickerDialog(this, mDateSetListener, maxYear, maxMonth, maxDay);
            }
            return null;
        }

        DatePickerDialog.OnDateSetListener mDateSetListener = new DatePickerDialog.OnDateSetListener() {

                int minYear = maxYear-49;
                int minMonth = 0; // january
                int minDay = 25;

            public void onDateChanged(DatePicker view, int year, int monthOfYear,int dayOfMonth) {

                Date current = new Date(year, monthOfYear, dayOfMonth);

                Date minDate = new Date(minYear, minMonth, minDay);
                Date maxDate = new Date(maxYear, maxMonth, maxDay);
                if( current.getTime() < minDate.getTime() )
                {
                    //set to minimum date
                }else if( current.getTime() > maxDate.getTime() )
                {
                    //Set to max Date
                }

            }

            @Override
            public void onDateSet(DatePicker view, int year, int monthOfYear,
                    int dayOfMonth) {
                // TODO Auto-generated method stub
                 String date_selected = String.valueOf(dayOfMonth)+" /"
                            +String.valueOf(monthOfYear+1)+" /"
                            +String.valueOf(year);
                    //Toast.makeText(RegisterActivity.this, "Selected Date is ="+date_selected, Toast.LENGTH_SHORT).show();
                    dob.setText(date_selected);

            }
        };
//======================For picking birth day========================== 
```

**这是固定上限，但下限或 minDate 没有得到固定！什么是要做？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:28:36.503

如果日期设置大于决定限制，则为`OnDateChangedListener()`您`DatePicker`和内部函数设置如果是这样，请使用此方法重置它。`onDateChanged``DatePicker.updateDate(minYear, minMonth, minDay);`

```
Date minDate = new Date(1990, 10, 25);
Date maxDate = new Date(2013, 4, 15);

OnDateChangedListener listener = new OnDateChangedListener() {

    @Override
    public void onDateChanged(DatePicker view, int year, int monthOfYear,
            int dayOfMonth) {

        Date current = new Date(year, monthOfYear, dayOfMonth);

        if( current.getTime() < minDate.getTime() )
        {
            //set to minimum date
        }else if( current.getTime() > maxDate.getTime() )
        {
            //Set to max Date
        }

    }
};
YourDatePicker.init(2013, 4, 15, listener); 
```

# python - 提取多种类型的档案

> ID：16029364
> 
> 赞同：4
> 
> 时间：2013-04-16T05:24:14.390
> 
> 标签：python

*Python*中是否有任何模块可以让我提取各种档案？我需要解压*zip*、*tar.bz2*、*tar.z*、*rar*等。现在看起来我必须手动进行存档类型检测，并且还要为每个单独的文件编写一个提取。

更喜欢纯*Python*。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:31:57.620

查看[帕图尔](http://wummel.github.io/patool/)。我无法证明它的工作情况如何，但还有一些基于它的其他模块，尽管它确实依赖于某些格式的外部应用程序。

> patool 支持 7z (.7z), ACE (.ace), ADF (.adf), ALZIP (.alz), APE (.ape), AR (.a), ARC (.arc), ARJ (.arj), BZIP2 (.bz2)、CAB (.cab)、COMPRESS (.Z)、CPIO (.cpio)、DEB (.deb)、DMS (.dms)、FLAC (.flac)、GZIP (.gz)、LRZIP ( .lrz), LZH (.lha, .lzh), LZIP (.lz), LZMA (.lzma), LZOP (.lzo), RPM (.rpm), RAR (.rar), RZIP (.rz), SHN (.shn)、TAR (.tar)、XZ (.xz)、ZIP (.zip、.jar) 和 ZOO (.zoo) 格式。它依赖于帮助应用程序来处理这些存档格式（例如 bzip2 用于 BZIP2 存档）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:32:32.330

在标准库中，您已经有了模块`zlib`、`gzip`、`bz2`和`zipfile`来`tarfile`处理压缩档案。

对于 rar 档案，[pypi 上有一个 rarfile 模块，](https://pypi.python.org/pypi/rarfile/2.2)它具有与 zipfile 类似的接口，并适用于 python 2 和 3。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-28T16:54:55.067

`shutil`从 3.2 开始，它似乎[添加了更多的归档功能](http://docs.python.org/dev/whatsnew/3.2.html#shutil)，但目前只支持 gziptar、bztar、tar 和 zip。

您可以添加自己的处理程序`shutil.register_archive_format()`- 这样您就不必手动检测扩展......但您仍然需要自己定义提取。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-09-16T07:30:11.803

这个线程很旧，但我又遇到了这个问题。我已经尝试过 Patool 选项或 pyunpack（依赖于 Patool），但强烈建议*不要*使用基于 Patool 的选项并使用内置的 shutil 库，因为 Patool 似乎有[一段时间不支持了](https://github.com/wummel/patool/issues/58)。由于更改了库名称，我自己[遇到了一个错误。](https://github.com/wummel/patool/issues/90)

正如[crennie](https://stackoverflow.com/a/19640648/7541501)回答的那样，我选择了高级内置 shutil 库，下面是我将 7z 和 rar 格式添加到 shutil 功能的代码，这是完整的初始问题。请注意，这需要`p7zip-full`并且`p7zip-rar`可以使用以下命令轻松设置`pip install`：

```
def extractfiles(zipname, output_dir):
    """Extract files with 7z utils.

    -aoa switch asks for automatic overwrite without prompting user.
    """
    logging.info(f"Extracting {zipname} to {output_dir}")
    pipe = Popen(["7z", "x", "-aoa", "-bd", zipname, f"-o{output_dir}"], stderr=STDOUT, stdout=PIPE)
    return(pipe.communicate())

def register_extensions():
    """Register additionnal archive formats supported by 7zip in shutil."""
    shutil.register_unpack_format('rar', ['.rar', '.RAR'], extractfiles)
    shutil.register_unpack_format('7z', ['.7z', '.7Z'], extractfiles) 
```

# umbraco - 没有为 cms 成员获取正确的上次密码更改日期？

> ID：16029369
> 
> 赞同：2
> 
> 时间：2013-04-16T05:24:31.373
> 
> 标签：umbraco, umbraco-ucommerce

我正在使用 uCommerce 和 cms 成员。对于忘记密码的密码链接验证，我想要所需成员的最后一次密码更改日期，但它给出了错误的日期作为当前日期时间值。

```
String userName = Membership.GetUserNameByEmail(email);
MembershipUser membershipUser = Membership.GetUser(userName);
if (membershipUser.LastPasswordChangedDate > date)
{

----- validation Where date is the datetime when user request forgot password request and link will sent to him

---- but all the time LastPasswordChangedDategetting current date time, so can not able to set the validation

} 
```

任何想法？

谢谢

吉里什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-06T23:39:05.827

刚刚尝试了以下方法，它似乎对我有用。您可以尝试以下方法：

```
string userName = Membership.GetUserNameByEmail(email);
MembershipUser membershipUser = Membership.GetUser(userName);

if (membershipUser != null && membershipUser.LastPasswordChangedDate.Date > DateTime.Now.Date)
{
    // Do something
} 
```

# android - Actionbarsherlock 库错误

> ID：16029373
> 
> 赞同：0
> 
> 时间：2013-04-16T05:24:48.353
> 
> 标签：android, actionbarsherlock

我正在实施`action bar sherlock`，但我遇到了以前没有的问题。当第一次在一个项目上实现动作条 sherlock 时，我可以很容易`jar`地`libs`删除`jar mismatch`. 但是现在正在处理一个新项目，我无法删除 jar 文件。出现以下错误：

```
Cannot delete android-support-v4.jar 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:30:56.120

## 从您的项目中删除`android-support-v4.jar`而不是从 actionbarsherlock 库中删除

1.  关闭你的项目
2.  重启日食
3.  打开你的项目
4.  `android-support-v4.jar`从您的项目中删除

## 这是简单易行的方法...

# richtextarea - 无法使用 angularjs 在 servlet 中获取 textarea 的值

> ID：16029376
> 
> 赞同：0
> 
> 时间：2013-04-16T05:24:53.657
> 
> 标签：richtextarea

我正在使用模态 ui 组件。并且无法在 servlet 中获取 textarea 的值，下面是代码：index.html：

```
<div modal="shouldBeOpen" close="close()" options="opts">
<div class="modal-header">
<h4>Text Editor</h4>
</div>
<div class="modal-body">
<div class="boxes">
<textarea ui:tinymce name="textBody" ng:model="textBody"></textarea>
</div>
</div>
<div class="modal-footer">
<button class="btn btn-success submit" ng-click="submit()" >Submit</button>
<button class="btn btn-warning cancel" ng-click="close()">Cancel</button>
</div> 
```

控制器：

```
var ModalDemoCtrl = function ($scope,$http,$location) {

  $scope.open = function () {
    $scope.shouldBeOpen = true;
  };

  $scope.close = function () {
    $scope.closeMsg = 'I was closed at: ' + new Date();
    $scope.shouldBeOpen = false;
  };

  $scope.submit = function () {
          $http.post("/FormSubmitServlet",$scope.textBody).
             success(function(data) {
                     });
          $scope.shouldBeOpen = false;
          };

  $scope.opts = {
    backdropFade: true,
    dialogFade:true
  };

}; 
```

小服务程序（FormSubmitServlet）：

```
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
                String textAreaValue = request.getParameter("textBody");
                System.out.println(textAreaValue);
                System.out.println(request.getAttribute("textBody"));
} 
```

请检查此代码有什么问题。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:26:44.417

问题是 Angular 如何将数据发送到服务器...在浏览器中打开您的开发人员工具并查看 XHR 请求。数据在请求正文中作为 JSON 对象发送 - 而不是标准表单数据。我不熟悉 Servlet，但我发现这个问题应该对你有很大帮助：

[AngularJS POST 到服务器](https://stackoverflow.com/questions/15047556/angularjs-post-to-server)

# cakephp - 由于 CakePHP 中的 404 错误，我的 CSS 文件无法加载。为什么是这样？

> ID：16029377
> 
> 赞同：1
> 
> 时间：2013-04-16T05:24:55.320
> 
> 标签：cakephp

我刚刚将一个全新的 CakePHP 2.3 副本上传到一个新的域名中，它立即在 chrome 中显示“GET [http://example.com/css/cake.generic.css](http://example.com/css/cake.generic.css) 404 (Not Found)”。我不明白它为什么这样做。我制作了其他 CakePHP 网站并遇到了这个问题，但我记得偶然解决了它，不知道我做了什么。如果有人知道，我想确切地知道如何解决这个问题。

那里有关于 htaccess、mod_rewrite 和其他我不明白的东西的信息。我不知道这些文件在哪里，它们做什么，如何使用它们等等。

请帮忙！

```
<IfModule mod_rewrite.c>  
RewriteEngine on
RewriteRule    ^$    webroot/    [L]
RewriteRule    (.*) webroot/$1    [L]
</IfModule> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:35:13.007

我想通了...我必须在根文件夹中创建自己的 .htaccess 文件。CakePHP 仅附带 2 个 .htaccess 文件...一个在 webroot 中，一个在 /app 文件夹中，但您还需要一个在根文件夹中。我从这个问题中找到了答案。[cakephp 的 .htaccess](https://stackoverflow.com/questions/1334746/htaccess-for-cakephp)

# django - django i18n 不翻译某些字符串

> ID：16029381
> 
> 赞同：0
> 
> 时间：2013-04-16T05:25:15.400
> 
> 标签：django, internationalization, nginx

我正在尝试在 nginx 下运行的 django 应用程序中添加一些字符串的翻译。我运行 makemessages 并更新 django.po 为指定的语言，我可以看到 Rosetta 的翻译是正确的并且没有模糊项目，然后我运行 compilemessages。但是，当我切换到添加翻译的语言时，只显示以前的翻译，而不显示新的字符串。我也停止并启动了 nginx，但没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T09:58:09.867

最后的问题是django代码在一个单独的进程中运行，使用FastCGI，所以重启nginx没有效果。相反，我不得不使用我找到的脚本重新启动 FastCGI 进程：

/etc/init.d/django site_name 重启

# javascript - 一页javascript中有多个fancybox ajax内容

> ID：16029382
> 
> 赞同：1
> 
> 时间：2013-04-16T05:25:53.553
> 
> 标签：javascript, jquery, fancybox

我在一页中使用了多个花式框来显示 ajax 内容。

HTML 代码：

```
<a href="test.txt" class="various fancybox.ajax" data-fancybox-type="ajax" >Test 1</a>
<a href="test.txt" class="various fancybox.ajax" data-fancybox-type="ajax" >Test 2</a>
<a href="test.txt" class="various fancybox.ajax" data-fancybox-type="ajax" >Test 3</a> 
```

脚本：

```
<script type="text/javascript">
    $(document).ready(function() {
    $(".various").fancybox();

});

</script> 
```

我使用了 jquery 1.7.1 版。单击两次后，fancybox 无法正常打开。如何解决这个问题？

# ruby-on-rails - 验证不起作用 activesupport-3.2.13 错误

> ID：16029383
> 
> 赞同：0
> 
> 时间：2013-04-16T05:26:13.767
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

安装 rvm、ruby 和 rails 后，我在我的模型中编写了相同的代码验证

```
class Item < ActiveRecord::Base
  attr_accessible :name, :description, :price, :weight
  validates :price, :weight, numericality: {greater_than: 0} , presence: true 
end 
```

但是当我启动 Rails 控制台并打印时

```
tem1 = Item.create(name: "d", price: 0, weight: 1) 
```

我有错误

```
Loading development environment (Rails 3.2.13)
2.0.0p0 :001 > item1 = Item.create(name: "d", price: 0, weight: 1)
NoMethodError: undefined method `￼validates' for #<Class:0x007ffa968ec810>
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activerecord-3.2.13/lib/active_record/dynamic_matchers.rb:55:in `method_missing'
    from /Users/epoleshchuk/RailsProject/test2/app/models/item.rb:5:in `<class:Item>'
    from /Users/epoleshchuk/RailsProject/test2/app/models/item.rb:1:in `<top (required)>'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:469:in `load'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:469:in `block in load_file'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:639:in `new_constants_in'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:468:in `load_file'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:353:in `require_or_load'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:502:in `load_missing_constant'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:192:in `block in const_missing'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:190:in `each'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/activesupport-3.2.13/lib/active_support/dependencies.rb:190:in `const_missing'
    from (irb):1
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/railties-3.2.13/lib/rails/commands/console.rb:47:in `start'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/railties-3.2.13/lib/rails/commands/console.rb:8:in `start'
    from /Users/epoleshchuk/RailsProject/test2/vendor/bundle/gems/railties-3.2.13/lib/rails/commands.rb:41:in `<top (required)>'
    from script/rails:6:in `require'
    from scexit 
```

gem install activesupport -v 3.2.13 也对我没有帮助。

Rails 3.2.13 ruby​​ 2.0.0p0（2013-02-24 修订版 39474）[x86_64-darwin12.3.0] rvm 1.19.3（稳定）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:25:43.277

即使我在启动 Rails 服务器时从未使用过该方法，也会出现类似类型的未知方法错误。这可能是由于在控制器或模型类文件中错误添加了一些单词。检查您的应用程序以查看是否在不知不觉中添加了“验证”一词，尤其是在类定义之前和之后。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:33:52.057

仔细阅读您的错误：

```
undefined method `￼validates' 
```

看起来您之前有一些奇怪的 Unicode 字符`validates`，您需要将其删除。

# java - 退出 onMessage() 后 jms 调用 message.acknowledge()

> ID：16029386
> 
> 赞同：1
> 
> 时间：2013-04-16T05:26:27.340
> 
> 标签：java, concurrency, jms

我想同时使用来自多个队列的 jms 消息。所有消息都应该在长时间运行后进入数据库，我无权丢失它们。

**问题：**是否可以保存消息以供将来确认并`oldMessage.acknowledge()`在处理另一条消息时调用？

我的第一个猜测是这是不可能的，因为它在 jms 处理单元中很深，我必须在一个`onMessage(...)`方法中处理消息和确认。

第二个猜测是同时拆分 onMessage() 并允许对许多消息进行长时间运行处理。但这不是一个好的选择，因为我必须确保所有消息都是**有序**的！
**第二个问题：**有没有什么办法可以保证并发处理时的传入订单？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:22:49.277

**1： JMS 在***Session*上有一个标志*CLIENT_ACKNOWLEDGE* 你可以[在这里](http://docs.oracle.com/javaee/1.4/api/javax/jms/Session.html#CLIENT_ACKNOWLEDGE)看到它。我从未使用过它，但似乎可以做你想做的事。

**2：**

**2.1：**同一个队列有N个消费者：可以探索一些实现支持的*Exclusive Consumer 。*（对于 AtiveMQ：[这里](http://activemq.apache.org/exclusive-consumer.html)）。

**2.2**每个队列有 1 个消费者，但您想对所有队列中的所有消息进行排序。您可以使用有序 SlackBuffer 的概念。

您可以探索另一种可能性，例如：将所有消息重定向到维护消息顺序的输出队列，您将只使用来自该单个输出队列的消息。消息的顺序和重定向由 MQ 服务器完成。如果您可以控制 MQ 服务器，这只是一个有效的想法。

我希望这可以帮助

# qt - 带列的 QTreeView

> ID：16029388
> 
> 赞同：1
> 
> 时间：2013-04-16T05:26:34.880
> 
> 标签：qt, qt4, qtreeview, qtreewidget

我在 can bus 上收到了这些消息，需要在合适的 Qt Widget 上显示（请参阅附图）。看来我可以使用`QTreeView`它。

我需要显示一个包含许多消息的树，如附图所示。每行将包含有关接收到的消息的信息。

它应该由列组成：

*   长度
*   收货时间
*   消息 ID
*   消息名称
*   留言内容

当我扩展消息时，它应该是不同的信号。

![在此处输入图像描述](https://i.stack.imgur.com/QmTV7.png)

如何制作带有列的 QTreeView ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:43:54.060

有一个问题不允许您制作屏幕截图显示的内容，即第一层和第二层没有相同的列布局。`QTableView`AFAIK ，用当前的实现是不可能的，`QTableWidget`你必须实现你自己的类。

如果您可以适应两个级别具有相同的列布局，请继续阅读我写的内容，然后再看您的屏幕截图：

> 你可以，QTreeView 只是一个 QTableView，第一列有一些艺术。
> 
> 将您想要的所有列添加到模型中。一个简单的 [QStandardItemModel][1] 就足以做类似屏幕显示的事情
> 
> 只要记住两件事：
> 
> 1.  只会显示第一列子项。
> 2.  第一列不能隐藏。
>     
>     
>     
>     [1]：http: [//qt-project.org/doc/qt-4.8/qstandarditemmodel.html](http://qt-project.org/doc/qt-4.8/qstandarditemmodel.html)

# regex - 仅需要重写某些 url 时无法使 mod_rewrite 工作

> ID：16029394
> 
> 赞同：1
> 
> 时间：2013-04-16T05:26:52.833
> 
> 标签：regex, apache, mod-rewrite

我的 .htaccess 文件中有以下规则设置

```
RewriteRule ^detail.php / [R=301,NC,L]
RewriteRule ^tempate.php / [R=301,NC,L] 
```

这些所做的是在调用 detail.php 和 template.php 时执行 301 重定向，虽然这有效，但当我输入时它不起作用，`mydomain.co.za/detail.php?product_id=2432&category=700`然后它将网站重定向到`mydomain.co.za/?product_id=2432&category=700`

我需要文件名所在的任何 url`detail.php`或`template.php`查询字符串中包含任意数量的参数来重定向到主页

我试过`RewriteRule ^detail.php?(.*) / [R=301,NC,L]`了，这也不起作用。任何帮助或指导将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:08:21.793

用此行替换您的 2 RewriteRule 行：

```
RewriteRule ^(?:detail|template)\.php$ /? [R=301,NC,L] 
```

请注意 后面的问号`/`，这是一种特殊的 mod_rewrite 语法，用于从原始 URI 中删除任何现有的查询字符串。

另请记住，RewriteRule 仅匹配没有查询字符串的 URI，因此您的尝试`^detail.php?(.*) / [R=301,NC,L]`不会按预期工作。

# sockets - c语言的Winsock程序不起作用

> ID：16029401
> 
> 赞同：0
> 
> 时间：2013-04-16T05:27:24.637
> 
> 标签：sockets, compiler-construction, mingw

我已经启动了另一个程序在 Windows7 上用 C 语言运行 Winsock。

我在 msdn 上找到了这个帮助：http: [//msdn.microsoft.com/en-us/library/windows/desktop/ms737591%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms737591%28v=vs.85%29.aspx)

该程序不工作并显示以下错误：

$ gcc ak1.c -o ak1.exe -lwsock32 -lws2_32 -lAdvapi32 -lmswsock

C:\Users\rahul\AppData\Local\Temp\ccWqZC7C.o:ak1.c:(.text+0x109)：未定义对“getaddrinfo”的引用

C:\Users\rahul\AppData\Local\Temp\ccWqZC7C.o:ak1.c:(.text+0x1fa): undefined reference to `freeaddrinfo'

c:/mingw/bin/../lib/gcc/mingw32/4.7.2/../../../../mingw32/bin/ld.exe: C:\Users\a mit\AppData\ Local\Temp\ccWqZC7C.o：“.eh_frame”部分中的错误重定位地址 0x20

c:/mingw/bin/../lib/gcc/mingw32/4.7.2/../../../../mingw32/bin/ld.exe：最终链接失败：操作无效

collect2.exe：错误：ld 返回 1 退出状态

此错误是否与 MICROSOFT SDK for Windows7 相关，意味着这些库未添加到我的系统中。我检查了“Advapi32”不在我的 micrsoft SDK 下。

请帮忙 ！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:45:08.933

您正在使用不使用 Microsoft SDK 的 GCC（可能是 MinGW）。 `getaddrinfo()`并且`freeaddrinfo()`在 MinGW 的`ws2tcpip.h`实现中声明，但前提是 WinXP 或更高版本是目标。

添加`-D_WIN32_WINNT=0x0501`到您的编译器命令行以针对 XP。

# c - 错误：制作：*** 没有规则可以制作目标 `main.c'，这是 `main.o' 所需要的。停止

> ID：16029402
> 
> 赞同：0
> 
> 时间：2013-04-16T05:27:25.510
> 
> 标签：c, linux, makefile

```
抄送= gcc

CFLAGS= -D__XMLSEC_FUNCTION__=__FUNCTION__ -DXMLSEC_NO_XSLT=1 \
  -DXMLSEC_NO_XKMS=1 -I/usr/include/libxml2 -DXMLSEC_CRYPTO_DYNAMIC_LOADING=1\
  -DXMLSEC_CRYPTO=\"openssl\" -DUNIX_SOCKETS -DXML_SECURITY -DDEBUG \
  -I/usr/local/include/xmlsec1 -lxmlsec1

LDFLAGS= -lcrypto -I/usr/include/libxml2 -I/usr/local/include/xmlsec1 \
  -lxmlsec1 -lprotobuf-c

默认值：shr
#pb 代表 protobuf 文件

shr: main.o file2.o file3.pb-co
            $(CC) $(CFLAGS) -o shr main.o file2.o file3.pb-co

main.o：main.c header.hfile2.h file3.h
                $(CC) $(CFLAGS) -c main.c

文件 2.o：文件 2.c 文件 2.h
                $(CC) $(CFLAGS) -c axisuid_auth.c

文件 3.pb-co：文件 3.pb-cc 文件 3.h
                $(CC) $(CFLAGS) -c 文件 3.c

干净的：
        $(RM) shr *.o *~  

```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T08:06:45.933

正如您所说，所有 .c 和 .h 文件都在**src 文件夹**中。因此，在您的 Makefile 中，您应该将其指定为**src/main.c**

# android - Web 应用程序无法在三星远程测试实验室上运行

> ID：16029403
> 
> 赞同：1
> 
> 时间：2013-04-16T05:27:31.623
> 
> 标签：android, cordova, mobile, remote-debugging

这是我非常简单的代码：

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
<title>Test</title>
</head>
<body>
<button type="button" id="click">Click Me!</button>

<script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    $("#click").click(function() {
        alert("Clicked!");
    });
});
</script>

</body>
</html> 
```

我用它创建了一个 android webapp。我在运行 2.3.6 的手机上对其进行了测试，它按预期工作。当我使用任何 4.1.1 或 4.1.2 设备在三星远程测试实验室测试同一个应用程序时，不会显示警报。该应用程序在实验室的 4.0.3 设备上运行。我尝试了其他一些东西，看起来没有点击处理程序在工作。有什么线索吗？我提到了[https://stackoverflow.com/questions/15151372/touch-in-samsung-remote-test-lab-devices](https://stackoverflow.com/questions/15151372/touch-in-samsung-remote-test-lab-devices)，但发帖人没有提供他的解决方案。

编辑：最初我使用的是cordova-2.6.0.js。我想也许科尔多瓦在 Android 4.1.1 上有一些问题。但即使在删除所有对科尔多瓦的引用后，问题仍然存在。

# iphone - 在 iphone 的 UIWebView 中显示本地 pdf 文件

> ID：16029404
> 
> 赞同：1
> 
> 时间：2013-04-16T05:27:34.760
> 
> 标签：iphone, uiwebview

我在 UIWebView 中显示本地 pdf 文件，但它在路径中显示异常这是我的代码

```
 NSString*fileName=content_Source;
     NSString *path = [[NSBundle mainBundle] pathForResource:fileName ofType:@"pdf"];
     NSURL *url = [NSURL fileURLWithPath:path];
     NSURLRequest *request = [NSURLRequest requestWithURL:url];
    [webView setScalesPageToFit:YES];
    [webView loadRequest:request] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-16T05:46:52.673

设置文件名时必须使用文件扩展名。因此，如果它与 Type 一起设置（如 ofType:@"pdf"），请确保不会在文件名中使用扩展名。

这是我的代码：

```
UIWebView *webView = [[UIWebView alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
webView.backgroundColor = [UIColor redColor];
NSString*fileName= @"About_Downloads";
NSString *path = [[NSBundle mainBundle] pathForResource:fileName ofType:@"pdf"];
NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL fileURLWithPath:path isDirectory:NO]];
[webView setScalesPageToFit:YES];
[webView loadRequest:request];
[self.view addSubview:webView]; 
```

有一种更好的方式来显示 PDF：

```
UIDocumentInteractionController *dc = [UIDocumentInteractionController interactionControllerWithURL:[NSURL fileURLWithPath:path isDirectory:NO]];
dc.delegate = self; 
[dc presentPreviewAnimated:YES]; 
```

确保将委托与该代码一起使用以使其正常工作。

```
(UIViewController *)documentInteractionControllerViewControllerForPreview:(UIDocumentInteractionController *)controller{
    return self;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T06:06:58.030

首先验证该字符串并分配给如下所示的 URL。

```
 NSString *strURLPath = [self trimString: path];
   NSURL *url = [NSURL fileURLWithPath:strURLPath]; 
```

用我下面的方法...

```
-(NSString*) trimString:(NSString *)theString {
    if (theString != [NSNull null])
        theString = [theString stringByTrimmingCharactersInSet: [NSCharacterSet whitespaceAndNewlineCharacterSet]];
    return theString;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T06:23:36.710

对于给定的代码问题，它工作正常是在我的文件名中，我也给出了像 ali.pdf 这样的类型，他们键入 pdf 所以它得到异常，现在当我使用如下文件名时它工作正常

```
 NSString*fileName=@"ali"; 
```

代替

```
 NSString*fileName=@"ali.pdf"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-05T11:15:07.540

```
CGRect rect = [[UIScreen mainScreen] bounds];
    CGSize screenSize = rect.size;
    UIWebView *webView = [[UIWebView alloc] initWithFrame:CGRectMake(0,0,screenSize.width,screenSize.height)];

    NSString *path = [[NSBundle mainBundle] pathForResource:@"pdf" ofType:@"pdf"];
    NSURL *targetURL = [NSURL fileURLWithPath:path];
    NSURLRequest *request = [NSURLRequest requestWithURL:targetURL];
    [webView loadRequest:request];

    [self.view addSubview:webView]; 
```

# r - R ggplot2 具有不同时间日期格式的绘图列表 - 这是一个错误吗？

> ID：16029411
> 
> 赞同：1
> 
> 时间：2013-04-16T05:28:34.663
> 
> 标签：r, list, ggplot2, format

我正在尝试在 x 轴上生成具有不同时间日期格式标签的 ggplot2 图列表。然而，格式参数并未像 ggplot 预期的那样被考虑在内。这是可以重现该问题的最少代码。

```
x<-as.POSIXct(strptime(c("2013-01-01 00:00:00","2013-01-02 00:00:00"),format="%Y-%m-%d %H:%M:%S"))
y1<-c(0,1)
y2<-c(0,-1)
df<-data.frame(x=x,y1=y1,y2=y2)
f<-function(a,b){ggplot(df,aes_string(x="x",y=b))+geom_line()+ scale_x_datetime(labels= date_format(a))}
r<-mapply(f,c("%b-%d","%H:%M"),c("y1","y2"),SIMPLIFY=FALSE) 
```

`r[2]`给出了预期的情节（对不起，我不能发布图片），但`r[1]`轴格式不正确（而要绘制的数据被正确考虑在内）。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:38:09.817

在`ggplot`环境和`mapply`承诺评估之间，`a`没有被适当地评估，您可以通过`force`在函数中使用它来解决这个问题

例如

```
f<-function(a,b){
  a <- force(a)
  ggplot(df,aes_string(x="x",y=b))+geom_line()+ scale_x_datetime(labels= date_format(a))
}
r <- mapply(f,c("%b-%d","%H:%M"),c("y1","y2"), SIMPLIFY = FALSE)

r[1] 
```

![在此处输入图像描述](https://i.stack.imgur.com/jOlrb.png)

```
r[2] 
```

![在此处输入图像描述](https://i.stack.imgur.com/61Rt8.png)

[解释一个惰性求值怪癖](https://stackoverflow.com/questions/16129902/explain-a-lazy-evaluation-quirk)更详细地解释了惰性求值。

# version-control - 排除后如何忽略tfs中的dll文件？

> ID：16029416
> 
> 赞同：0
> 
> 时间：2013-04-16T05:29:08.803
> 
> 标签：version-control, tfs

我有8个项目。相互引用的项目。我从源代码控制中排除了我自己项目的所有 dll 文件

**但是每次构建 dll 都会更改并且 tfs 进入冲突模式。**

我想避免它。

那可能吗 ？如何 ？

谢谢

PS：明天是我的生日，这将是一个很棒的礼物

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:37:22.120

从 TFS 源代码管理中删除这些 DLL。可能它们被签入一次，现在 TFS 将尝试在它们更改时不断更新它们。

# networking - 如何从网络计算机备份 sql server 2012 数据库

> ID：16029417
> 
> 赞同：0
> 
> 时间：2013-04-16T05:29:10.320
> 
> 标签：networking, sql-server-2012, database-backups

我在我的服务器机器上使用 sql server 2012 和 windows server 2008 R2。以及网络计算机上的 windows-7 和 sql server 2012。我成为了 sql server 2012（服务器机器）的用户。通过该用户，我可以从远程计算机连接数据库服务器。现在我需要使用此用户（Sql server 身份验证）从网络计算机备份任何数据库。

## 查询备份

> 备份数据库 hwbss 到磁盘 = '\Dpc1\SqlBackup\hwbss.bak';

当我在机器服务器和客户端上运行此查询时，它会出现错误。

## 错误信息

```
Msg 3201, Level 16, State 1, Line 1
Cannot open backup device '\\ASHISHRATHOR-PC\SqlServerBackup\BSS100_Ashish_BSS.bak'.       
Operating system error 5(Access is denied.).
Msg 3013, Level 16, State 1, Line 1
BACKUP DATABASE is terminating abnormally. 
```

谁能告诉我如何使用 sql server 身份验证从网络计算机备份 sql server 2012 数据库。

注意：- 我可以在 sql server 2005 中备份网络上的数据库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T11:00:18.423

我认为这可以通过使用地图网络驱动器来完成。您必须在要存储备份的远程文件夹中创建这样的驱动器。然后你必须给 sql server 权限才能看到网络驱动器。签入任务管理器，这是运行 sql server 的帐户。您必须将此帐户的写入权限授予网络驱动器（通常是网络服务）。

# xaml - 按钮悬停时的 XAML Windows 8 应用程序蓝色边框

> ID：16029418
> 
> 赞同：4
> 
> 时间：2013-04-16T05:29:24.180
> 
> 标签：xaml, windows-8, windows-applications

我似乎找不到这个问题的答案。基本上，我创建了包含图像的按钮。当您将鼠标悬停在按钮上时 - 当前会出现蓝色边框。我想在图像上创建自己的悬停状态，所以我不需要蓝色边框 - 它正在推出间距。有谁知道如何删除它？

```
<Button Style="{StaticResource EventButton}">
    <Image Source="/Assets/EventIcons/Business/event-Fire.png" Stretch="Fill"/>
</Button> 
```

我的风格：

```
<Style x:Key="RiskButton" TargetType="Button">
    <Setter Property="BorderBrush" Value="Transparent"/>
    <Setter Property="Margin" Value="4,4,4,4"/>
    <Setter Property="Width" Value="120"/>
    <Setter Property="Height" Value="120"/>
    <Setter Property="HorizontalAlignment" Value="Left"/>
    <Setter Property="Padding" Value="0"/>
    <Setter Property="BorderThickness" Value="0"/>
</Style> 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-16T12:32:04.183

在 Blend for Visual Studio 下打开您的项目（我建议您之前应用 Visual Studio 2012 更新 2），选择您的按钮并右键单击 -> 编辑模板 -> 编辑副本 -> 创建新的本地资源。

在状态面板中，您将看到按钮的不同可能状态（正常、按下、指针悬停、聚焦...），例如选择“PointerOver”并将背景画笔更改为透明（或将其删除）。

PointerOver 之前：

```
<VisualState x:Name="PointerOver">
    <Storyboard>
        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="Background">
            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonPointerOverBackgroundThemeBrush}" />
        </ObjectAnimationUsingKeyFrames>

        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"                                 Storyboard.TargetProperty="Foreground">
               <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonPointerOverForegroundThemeBrush}" />
        </ObjectAnimationUsingKeyFrames>

    </Storyboard>
 </VisualState> 
```

PointerOver 之后：

```
<VisualState x:Name="PointerOver">
    <Storyboard>
        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="Background">
            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Null}" />
        </ObjectAnimationUsingKeyFrames>
        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
            Storyboard.TargetProperty="Foreground">
            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonPointerOverForegroundThemeBrush}" />
        </ObjectAnimationUsingKeyFrames>
    </Storyboard>
</VisualState> 
```

现在蓝色边框消失了。要将其应用于您的其他按钮，您可以在加载到 App.xaml 的字典中移动此样式并使用 Style 属性。

完整的 xaml 示例进行测试：

```
<Page
    x:Class="AppSandBox.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:AppSandBox"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <Page.Resources>
        <Style x:Key="RiskButton" TargetType="Button">
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Margin" Value="4,4,4,4"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="Height" Value="120"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>
        <ControlTemplate x:Key="ButtonControlTemplate1" TargetType="Button">
            <Grid>
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="PointerOver">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border"
                                    Storyboard.TargetProperty="Background">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Null}" />
                                </ObjectAnimationUsingKeyFrames>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                    Storyboard.TargetProperty="Foreground">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonPointerOverForegroundThemeBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Pressed">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border"
                                    Storyboard.TargetProperty="Background">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonPressedBackgroundThemeBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                    Storyboard.TargetProperty="Foreground">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonPressedForegroundThemeBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border"
                                    Storyboard.TargetProperty="Background">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonDisabledBackgroundThemeBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border"
                                    Storyboard.TargetProperty="BorderBrush">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonDisabledBorderThemeBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                    Storyboard.TargetProperty="Foreground">
                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ButtonDisabledForegroundThemeBrush}" />
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates">
                        <VisualState x:Name="Focused">
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="FocusVisualWhite"
                                    Storyboard.TargetProperty="Opacity"
                                    To="1"
                                    Duration="0" />
                                <DoubleAnimation Storyboard.TargetName="FocusVisualBlack"
                                    Storyboard.TargetProperty="Opacity"
                                    To="1"
                                    Duration="0" />
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="Unfocused" />
                        <VisualState x:Name="PointerFocused" />
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
                <Border x:Name="Border"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    Margin="3">
                    <ContentPresenter x:Name="ContentPresenter"
                        Content="{TemplateBinding Content}"
                        ContentTransitions="{TemplateBinding ContentTransitions}"
                        ContentTemplate="{TemplateBinding ContentTemplate}"
                        Margin="{TemplateBinding Padding}"
                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                </Border>
                <Rectangle x:Name="FocusVisualWhite"
                    IsHitTestVisible="False"
                    Stroke="{StaticResource FocusVisualWhiteStrokeThemeBrush}"
                    StrokeEndLineCap="Square"
                    StrokeDashArray="1,1"
                    Opacity="0"
                    StrokeDashOffset="1.5" />
                <Rectangle x:Name="FocusVisualBlack"
                    IsHitTestVisible="False"
                    Stroke="{StaticResource FocusVisualBlackStrokeThemeBrush}"
                    StrokeEndLineCap="Square"
                    StrokeDashArray="1,1"
                    Opacity="0"
                    StrokeDashOffset="0.5" />
            </Grid>
        </ControlTemplate>
    </Page.Resources>
    <Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">

        <Button Style="{StaticResource RiskButton}" VerticalAlignment="Top" Template="{StaticResource ButtonControlTemplate1}">
            <Image Source="/Assets/Metro-icon.png" Stretch="Fill" Margin="10"/>
        </Button>

    </Grid>
</Page> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:23:00.100

Windows 应用商店 XAML 框架中的每个控件都有默认的画笔和样式集。例如，这是 Button 的样式：[Button styles and templates](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/jj709909.aspx)。您总是首先可以尝试将默认画笔更改为您想要的东西。如果这不会给你想要看到的效果 - 你可以在你想要的东西上更改默认控制模板。

# c# - 根据下图，wpf中的滚动条样式

> ID：16029419
> 
> 赞同：3
> 
> 时间：2013-04-16T05:29:29.680
> 
> 标签：c#, wpf, styles

我想要 WPF 中滚动条的滚动样式代码，如下图所示。此滚动条位于 Grid 标记内。

![在此处输入图像描述](https://i.stack.imgur.com/1DfBn.png)

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:06:14.170

我已经创建了一个与之前类似的用户控件。此示例代码可以为您提供一个很好的起点。

```
<Border BorderThickness="2" BorderBrush="Black">
    <Grid>
    <Grid.RowDefinitions>           
        <RowDefinition Height="20"></RowDefinition>
        <RowDefinition Height="*"></RowDefinition>
        <RowDefinition Height="20"></RowDefinition>
    </Grid.RowDefinitions>

        <RepeatButton Grid.Row="0" x:Name="btnUp" Focusable="False" Command="ScrollBar.LineUpCommand" CommandTarget="{Binding ElementName=firstItem}" BorderBrush="Transparent">
        <RepeatButton.Background>
            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Color="White" Offset="0"></GradientStop>
                <GradientStop Color="Black" Offset=".5"></GradientStop>
            </LinearGradientBrush>
        </RepeatButton.Background>
        <RepeatButton.Content>
            <Path Fill="White" Data="M 0 10 L 36 10 L 18 0 Z"/>
        </RepeatButton.Content>
    </RepeatButton>
    <ListView  Grid.Row="1" FontSize="22" Foreground="White" ScrollViewer.VerticalScrollBarVisibility="Hidden" HorizontalContentAlignment="Center" Background="Black" >
        <ListView.ItemsPanel>
            <ItemsPanelTemplate>
                <StackPanel MaxWidth="500"/>
            </ItemsPanelTemplate>
        </ListView.ItemsPanel>
        <ListViewItem Name="firstItem">A</ListViewItem>
        <ListViewItem>B</ListViewItem>
        <ListViewItem>C</ListViewItem>
        <ListViewItem>D</ListViewItem>
        <ListViewItem>E</ListViewItem>
        <ListViewItem>F</ListViewItem>
        <ListViewItem>G</ListViewItem>
        <ListViewItem>H</ListViewItem>
        <ListViewItem>I</ListViewItem>
        <ListViewItem>J</ListViewItem>
        <ListViewItem>K</ListViewItem>
        <ListViewItem>L</ListViewItem>
        <ListViewItem>M</ListViewItem>
        <ListViewItem>N</ListViewItem>
        <ListViewItem>O</ListViewItem>
    </ListView>
    <RepeatButton Grid.Row="2" x:Name="btnDown" Focusable="False" Command="ScrollBar.LineDownCommand" CommandTarget="{Binding ElementName=firstItem}" BorderBrush="Transparent">
        <RepeatButton.Background>
            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Color="White" Offset="0"></GradientStop>
                <GradientStop Color="Black" Offset="0.5"></GradientStop>
            </LinearGradientBrush>
        </RepeatButton.Background>
        <RepeatButton.Content>
            <Path Fill="White" Data="M 0 0 L 18 10 L 36 0 Z"/>
        </RepeatButton.Content>
    </RepeatButton>
</Grid>
</Border> 
```

# javascript - Meteor.js & Mongo：你能从客户端将新文档或参数插入到 user.profile 中吗？

> ID：16029421
> 
> 赞同：0
> 
> 时间：2013-04-16T05:29:36.993
> 
> 标签：javascript, mongodb, meteor

就像问题问的那样，这可以做到吗？

我想将一组用户链接插入到当前用户的个人资料中。我在客户端尝试了类似的操作，但没有成功：

```
Meteor.users.update( {_id: Meteor.userId()}, {
        $set: {
            profile: {
                userlinks: {
                    owned: "_entry_id"
                }
            }
        }
    }); 
```

我也尝试用插入替换更新，但没有用。

我对它可能是什么有几个怀疑：

*   我没有正确设置 mongodb 权限**（最不可能）**
*   我没有正确发布用户集合（我目前根本没有发布它，所以我认为流星会自动执行此操作......但可能还不够？）**（有点可能）**
*   插入是正确的命令，但这仅限于服务器，所以我必须将插入函数放在服务器上的 Meteor 方法中，然后从客户端调用该方法？**（更倾向于）**

或者也许我只是不知道我在说什么**（很可能）**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T18:57:45.657

检查[Meteor Update Docs](http://docs.meteor.com/#update)你的语法是错误的。尝试：

```
var id = Meteor.userId();
 Meteor.users.update( id, {
        $set: {
            profile: {
                userlinks: {
                    owned: "_entry_id"
                }
            }
        }
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T16:18:05.843

您可以这样做，如果您使用自定义帐户 UI，您的用户需要有一个配置文件字段以开始，请确保在您验证用户时将配置文件设置为某些内容，即使它只是一个空白对象开始：

```
var options = {
    username: 'some_user',
    password: 'password',
    email: 'email@domain.com',
    profile: {}
}

Accounts.createUser(options, function(err){
    if(err){
        //do error handling
    }
    else
        //success
}); 
```

如果你删除了不安全的包，你需要确保你设置了 Meteor.users.allow

就像是：

```
Meteor.users.allow({
    update: function(userId, doc, fieldNames, modifier){
        if(userId === doc._id && fieldNames.count === 1 && fieldNames[0] === 'profile')
            return true;
    }
}) 
```

这样用户只能更新自己，他们只能更新个人资料字段。

# css - 正确的 CSS 菜单悬停功能

> ID：16029422
> 
> 赞同：0
> 
> 时间：2013-04-16T05:29:42.613
> 
> 标签：css, colors, hover

我自己制作了导航菜单，但只有一件事我似乎无法弄清楚......当我将鼠标悬停在我尝试过的 ul id“navitemul”上时，如何使 A 标签颜色为`#lovedating#navitemul:hover #lovedating a {color:white}`白色其他一些方法，但似乎没有一个有效，有人能指出我正确的方向吗:) 如果你想看到导航栏的运行情况，请访问我的网站：www.curious-howto.com，你可以获得更好的印象我希望完成的事情......谢谢

菲利普

```
<li style="width:150px" id="lovedating"><a href="#">Love & Dating</a>
<div id="love&dating" class="belownav">
<div class="ontop">Love & Dating</div>
<div class="navitem"><ul id="navitemul">
<li class="marright"><a href="http://www.curious-howto.com/love-dating/broken-hearths/"><img class="fl" src="http://www.curious-howto.com/images/2013/04/Broken-Hearths.jpg" width="63" height="40" /><span class="marleft">Broken Hearths</span></a></li>
<li class="marright"><a href="http://www.curious-howto.com/love-dating/dating/"><img class="fl" src="http://www.curious-howto.com/images/2013/04/Dating.jpg" width="63" height="40" /><span class="marleft">Dating</span></a></li>
<li class="marright"><a href="http://www.curious-howto.com/love-dating/dating-humor/">    <img class="fl" src="http://www.curious-howto.com/images/2013/04/Dating-Humor.jpg" width="63" height="40" /><span class="marleft">General Health</span></a></li>
<li class="marright"><a href="http://www.curious-howto.com/love-dating/flirting/"><img class="fl" src="http://www.curious-howto.com/images/2013/04/Flirting.jpg" width="63" height="40" /><span class="marleft">Flirting</span></a></li>
<li class="marright"><a href="http://www.curious-howto.com/love-dating/kissing/"><img class="fl" src="http://www.curious-howto.com/images/2013/04/Kissing.jpg" width="63" height="40" /><span class="marleft">Kissing</span></a></li>
<li class="marright"><a href="http://www.curious-howto.com/love-dating/physical-relationships/"><img class="fl" src="http://www.curious-howto.com/images/2013/04/Physical-Relationships.jpg" width="63" height="40" /><span class="marleft">Physical Relationships</span></a></li>
<li class="marright"><a href="http://www.curious-howto.com/love-dating/relationships/"><img class="fl" src="http://www.curious-howto.com/images/2013/04/relationships.jpg" width="63" height="40" /><span class="marleft">Relationships</span></a></li>
<li class="marright"><a href="http://www.curious-howto.com/love-dating/weddings/"><img class="fl" src="http://www.curious-howto.com/images/2013/04/weddings.jpg" width="63" height="40" /><span class="marleft">Weddings</span></a></li>
</ul></div>
</div></li> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:34:19.823

尝试这个

```
#love&dating a:hover{color:#FFF;} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:41:40.470

改变

```
#lovedating#navitemul:hover #lovedating a {color:white} 
```

至

```
#navitemul:hover a {color:white} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:37:34.440

轮胎这个

```
ul li#lovedating a:hover { color:green;} 
```

# pug - javascript中的Jade插值

> ID：16029427
> 
> 赞同：4
> 
> 时间：2013-04-16T05:30:02.967
> 
> 标签：pug, scalatra, scalate

（注意，这是 Scalate Jade，如果这有区别的话）

我有以下路线：

```
get("/fruit") {
  contentType = "text/html"
  jade("fruity", "fruit" -> "apple")
} 
```

这个`fruity.jade`模板：

```
-@ val fruit: String

p Alerting #{fruit}
:javascript
  alert("#{fruit}"); 
```

它呈现如下：

```
<body><p>Alerting apple</p>
<script type="text/javascript">
  //<![CDATA[
    alert("#{fruit}");
  //]]>
</script>
</body> 
```

不会为 javascript 部分插入该`fruit`值。我怎样才能让它在javascript中解决？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T11:36:38.973

我发现`:&javascript`或`:!javascript`将工作。它在[这里](http://scalate.github.io/scalate/documentation/jade-syntax.html#Filter_Interpolation)解释。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T10:50:43.947

如果未插入过滤器，则只需使用原始`:script`标签。

# jquery - jQuery - 在元素中附加一个 div

> ID：16029430
> 
> 赞同：0
> 
> 时间：2013-04-16T05:30:26.003
> 
> 标签：jquery, append

我有一个单击事件，用于`$.ajax`调用服务器以获取一些更新的 html（来自我的数据库）。

`div`然后，我使用该方法将该 html 放在一个特定的 中`.append()`，从而保留里面已经存在的内容。

到目前为止，它按预期工作。我的困境是每个新附加的html。澄清一下，我的 html 只不过是一个带有链接和隐藏跨度的 div。我使用`toggle()`隐藏跨度的链接，它的内容。
Toggle 不起作用，因为 click 事件没有监听新附加的 html。

我确信这很容易补救，但直到现在我才需要深入研究。

所以，这是第 1 页的代码：

```
<div id="latestinfo">

  <div class="info">
    <a href="javascript:void(0)" class="openinfo">View This</a>
    <span style="display:none">Latest story on something</span>
  </div>
  <div class="info">
    <a href="javascript:void(0)" class="openinfo">View This</a>
    <span style="display:none">Latest story on something</span>
  </div>

</div>

<a href="javascript:void(0)" id="grabmoreinfo">Call Server for More</a>

<script language="javascript" type="text/javascript">
$(document).ready(function(){

  $(".openinfo").click(function(){  
   $(this).next('span').toggle();
  });

  $("#grabmoreinfo").click(function(){  
    $.ajax({ 
            url: "latest.php",
            data:"formId=grabmore",
            success:function(data){  $("#latestinfo").append(data); }      
    }); 
  });

});
</script> 
```

现在最新的.php：

```
<?php

$var = '
<div class="info">
    <a href="javascript:void(0)" class="openinfo">View This</a>
    <span style="display:none">Another story on something</span>
  </div>
';

echo $var;

?> 
```

因此，总而言之，这些`append()`工作就像一个魅力，而该`click()`方法没有注意到新附加的 html。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:37:17.390

您需要的是`event delegation`，您正在附加来自其他页面的内容并且它在当时不可用，`page load`因此您必须将事件委托给带有`.on()`处理程序的静态父级（在页面加载时存在，如`$(document)`or`$('body')`或`$('#latestinfo')`），所以我建议你这样做：

```
$("#latestinfo").on('click', '.openinfo', function(){  
   $(this).next('span').toggle();
}); 
```

或者您可以将事件委托给`$(document)`作为所有元素的父级的事件：

```
$(document).on('click', '.openinfo', function(){  
   $(this).next('span').toggle();
}); 
```

* * *

### 边注：

**请记住**：委托事件不适用于 SVG。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:33:03.963

对动态生成的元素使用`on`委托事件...

```
 $("#latestinfo").on('click',".openinfo",function(){  
   $(this).next('span').toggle();
  }); 
```

阅读更多关于[on()](http://jq4you.blogspot.com/2013/02/jquery-direct-and-delegate-on-event.html)

在 ajax 的成功函数中调用 click 函数也可以，但我更喜欢使用 `on`委托事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:33:48.050

在定义处理程序时，将事件处理程序附加到尚未在 DOM 中的内容时，您必须使用“on”

标准的“CLICK”假定元素已经存在于 DOM 中

```
$("#latestinfo").on("click",".openinfo",function(){  
   $(this).next('span').toggle();
  }); 
```

看起来您可以将 latestinfo 用作“父级”

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-16T05:53:28.993

如果您使用的旧版本的 jQuery`.live()`仍然有效，您可以通过将代码更改为以下代码来快速运行您的代码

```
$(".openinfo").live('click',function(){  
   $(this).next('span').toggle();
}); 
```

但是，如果您使用较新的 jQuery 版本，`1.9.1`我建议您使用`.on()`方法，因为许多其他答案都建议在页面加载后附加的元素上绑定事件。

*注意：我推荐`.on()`它，因为它会使您的代码面向未来，但`.live()`可以作为您的临时解决方法。另请注意，`.live()`在较新的 jQuery 版本中已弃用。*

# c# - 如何在 Win8 C# 应用程序中设置专辑封面？

> ID：16029437
> 
> 赞同：2
> 
> 时间：2013-04-16T05:31:02.363
> 
> 标签：c#, windows-8, albumart

我希望能够拍摄现有照片并将其设置为专辑插图。

我可以`GetThumbnailAsync`用来给我一个缩略图并`GetOutputStream`获取缩略图输出流。不幸的是，它不可写。

如何在 Win8 C# 应用程序中的项目上设置专辑插图（或任何缩略图）？

当前（非工作）代码。当 outStream 被拒绝访问错误刷新时，它会死掉

```
 FileOpenPicker fileopenpicker = new FileOpenPicker();

    fileopenpicker.FileTypeFilter.Add(".jpg");
    fileopenpicker.FileTypeFilter.Add(".png");

    fileopenpicker.SuggestedStartLocation = PickerLocationId.PicturesLibrary;// | PickerLocationId.DocumentsLibrary | PickerLocationId.PicturesLibrary | PickerLocationId.MusicLibrary;

    var singlefileoperation = await fileopenpicker.PickSingleFileAsync();
    var read = await singlefileoperation.OpenAsync(FileAccessMode.Read);

    StorageFile replay = currentlyPlaying;
    TimeSpan pos = ME.Position;
    ME.Stop();

    //curren
    StorageItemThumbnail storageItemThumbnail = await currentlyPlaying.GetThumbnailAsync(ThumbnailMode.SingleItem);

    IOutputStream inputStreamAt = storageItemThumbnail.GetOutputStreamAt(0);
    Stream outStream = inputStreamAt.AsStreamForWrite();

    var inStreamAt = read.GetInputStreamAt(0);
    var inStream = inStreamAt.AsStreamForRead();
    await inStream.CopyToAsync(outStream);
    await outStream.FlushAsync();
    outStream.Dispose();
    inStream.Dispose();
    inStreamAt.Dispose(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T13:03:43.740

[TagLib Sharp](http://download.banshee.fm/taglib-sharp/2.1.0.0/)应该对您正在寻找的内容有所帮助。

```
TagLib.File tagFile = TagLib.File.Create(c:/yourpath/yoursong.mp3);
IPicture newArt = new Picture(c:/yourimagepath/youralbumart.jpg);
tagFile.Tag.Pictures = new IPicture[1] {newArt};
tagFile.Save(); 
```

[代码源](https://stackoverflow.com/questions/10247216/c-sharp-mp3-id-tags-with-taglib-album-art)

编辑：更新到 TagLib Sharp 库的链接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-15T19:57:22.010

刚刚发现了这个 GitHub 项目，它使 TagLib Sharp 与 Windows 8+ 应用程序[TagLib Sharp Portable](https://github.com/timheuer/taglib-sharp-portable)兼容。[你可以通过NuGet](https://www.nuget.org/packages/TagLib.Portable/)将它添加到你的项目中，尽管它仍然是一个预发布版本。

但是，目前使用包含的`StreamFileAbstraction`类存在一个错误。`StackOverflowException`保存标签或专辑封面时有时会抛出错误。通过自定义`FileAbstraction`课程，它对我来说就像一种魅力。

您可以像原来的 TagLib 一样使用它：

```
StorageFile file = [...]
TagLib.File tagFile = TagLib.File.Create(new FileAbstraction(file.Name, (await file.OpenAsync(FileAccessMode.ReadWrite)).AsStream())); 
```

其余的和 JHixson 的回答一样。

自定义 FileAbstraction 类：

```
public class FileAbstraction : TagLib.File.IFileAbstraction
{
    public FileAbstraction(string name, Stream stream)
    {
        this.Name = name;
        this.ReadStream = stream;
        this.WriteStream = stream;
    }

    public void CloseStream(Stream stream)
    {
        stream.Flush();
    }

    public string Name
    {
        get;
        private set;
    }

    public Stream ReadStream
    {
        get;
        private set;
    }

    public Stream WriteStream
    {
        get;
        private set;
    }
} 
```

# database - 每月从多个表中获取记录

> ID：16029440
> 
> 赞同：1
> 
> 时间：2013-04-16T05:31:14.470
> 
> 标签：database, sql-server-2008, monthcalendar

我有这样的场景：我有很多表，每个表都有日期字段。

```
Table: FA

Id  | Created_Date  |
------------------------
1   | 1/12/2012 |
2   | 2/15/2012 |
3   | 2/25/2012 |

Table: TPA

Id  | Created_Date  |
------------------------
1   | 3/10/2012 |
2   | 4/25/2012 |
3   | 5/20/2012 |
4   | 5/21/2012 |

Table: Gift

Id  | Created_Date  |
------------------------
1   | 6/10/2012 |
2   | 7/25/2012 |
3   | 8/10/2012 |
3   | 7/11/2012 | 
```

我想要输出，就像我想要每个表中的记录总数一样，并通过使用 Created_Date 字段日期按月显示它。

预期输出如下：

![在此处输入图像描述](https://i.stack.imgur.com/HAj5O.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T06:06:21.410

试试这个解决方案，

```
SELECT  MonthName, 
        COALESCE(FA, 0) FA, 
        COALESCE(TPA, 0) TPA, 
        COALESCE(GIFT, 0) GIFT
FROM
        (
            SELECT  monthList.ordby,
                    monthList.MonthName,
                    org.TableName,
                    org.TotalCount
            FROM    
                    (
                        SELECT 1 ordby, 'January' MonthName UNION SELECT 2, 'February' UNION
                        SELECT 3, 'March' UNION SELECT 4, 'April' UNION
                        SELECT 5,'May' UNION SELECT 6,'June' UNION
                        SELECT 7,'July' UNION SELECT 8,'August' UNION 
                        SELECT 9,'September' UNION SELECT 10,'October' UNION
                        SELECT 11,'November' UNION SELECT 12,'December'
                    ) monthList
                    LEFT JOIN
                    (
                        SELECT  'FA' TableName, 
                                DATENAME(mm,Created_Date) MonthName, 
                                COUNT(*) TotalCount
                        FROM    FA
                        GROUP   BY DATENAME(mm,Created_Date)
                        UNION
                        SELECT  'TPA' TableName, 
                                DATENAME(mm,Created_Date) MonthName, 
                                COUNT(*) TotalCount
                        FROM    TPA
                        GROUP   BY DATENAME(mm,Created_Date)
                        UNION
                        SELECT  'Gift' TableName, 
                                DATENAME(mm,Created_Date) MonthName, 
                                COUNT(*) TotalCount
                        FROM    Gift
                        GROUP   BY DATENAME(mm,Created_Date)
                    ) org ON monthList.MonthName = org.MonthName
        ) data
        PIVOT
        (
            MAX(TotalCount)
            FOR TableName IN ([FA], [TPA],[GIFT])
        ) head
ORDER   BY ordby 
```

[http://www.sqlfiddle.com/#!3/dc613/14](http://www.sqlfiddle.com/#!3/dc613/14)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T10:16:37.443

自过去**4 小时**以来，我一直在尝试找到**解决方案**

 **与上述答案相比，我认为我的答案性能低下，

```
create table #month
(
    id [int] IDENTITY(1,1) NOT NULL,
    [month] varchar(3)
)

DBCC CHECKIDENT(#month, RESEED, 1)

insert into #month
values
('Jan'),
('Feb'),
('Mar'),
('Apr'),
('May'),
('Jun'),
('Jul'),
('Aug'),
('Sep'),
('Oct'),
('Nov'),
('Dec')

declare @id int
set @id=1

declare @month varchar(3)

declare @sql nvarchar(max)
set @sql=''
declare @order varchar(3)

while (@id<13)
BEGIN
    set @month=(select [month] from #month where id=@id)
    set @order=CONVERT(varchar(3),@id)
    set @sql=@sql+'insert into #display
(
    [Month],
    [COUNT(FA)],
    [COUNT(TPA)],
    [COUNT(Gift)],
    [ORDER]
)
    select '''+ @month +''' AS [Month],
    (select 
    COUNT(CONVERT(VARCHAR(3), DATENAME(MM,Created_Date), 100)) 
    from FA 
    where CONVERT(VARCHAR(3), DATENAME(MM,Created_Date), 100)='''+ @month +''') [COUNT(FA)],
    (select 
    COUNT(CONVERT(VARCHAR(3), DATENAME(MM,Created_Date), 100)) 
    from TPA 
    where CONVERT(VARCHAR(3), DATENAME(MM,Created_Date), 100)='''+ @month +''') [COUNT(TPA)],
    (select 
    COUNT(CONVERT(VARCHAR(3), DATENAME(MM,Created_Date), 100)) 
    from Gift 
    where CONVERT(VARCHAR(3), DATENAME(MM,Created_Date), 100)='''+ @month +''') [COUNT(Gift)],
    '''+ @order + ''' [Order]
    '

    set @id=@id+1   --Incrementing the month
END
exec sp_executesql @sql
print @sql

select [MONTH],
        [COUNT(FA)],
        [COUNT(TPA)],
        [COUNT(Gift)]
from #display
order by convert(int,[ORDER]) 
```**

# sql - 如何在 id = (x to y) 的 SQL 中删除多行

> ID：16029441
> 
> 赞同：103
> 
> 时间：2013-04-16T05:31:15.170
> 
> 标签：sql, sql-delete

我正在尝试运行 SQL 查询以删除表中 id 为 163 到 265 的行

我试过这个来删除更少的行数

```
 DELETE FROM `table` WHERE id IN (264, 265) 
```

但是当一次删除100行时，是否有任何类似于上述方法的查询我也在尝试使用这种查询但未能执行它

```
 DELETE FROM `table` WHERE id IN (SELECT * FROM table WHERE id = ) 
```

请告诉我执行上述操作的查询...

* * *

## 回答 #1

> 赞同：223
> 
> 时间：2013-04-16T05:35:59.937

如果需要根据列表删除，可以使用`IN`：

```
DELETE FROM your_table
WHERE id IN (value1, value2, ...); 
```

如果需要根据查询结果删除，也可以使用`IN`：

```
DELETE FROM your_table
WHERE id IN (select aColumn from ...); 
```

（注意子查询必须只返回一列）

如果您需要根据一系列值进行删除，请使用`BETWEEN`或使用不等式：

```
DELETE FROM your_table
WHERE id BETWEEN bottom_value AND top_value; 
```

或者

```
DELETE FROM your_table
WHERE id >= a_value AND id <= another_value; 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2013-04-16T05:35:27.440

您可以使用`BETWEEN`：

```
DELETE FROM table
where id between 163 and 265 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-05-13T04:34:01.487

请试试这个：

```
DELETE FROM `table` WHERE id >=163 and id<= 265 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-28T10:14:04.927

```
SELECT * FROM your_table ORDER BY DESC 
```

获取要删除的范围 例如：3 到 10

```
 DELETE FROM your_table
 WHERE id BETWEEN 3 AND 10; 
```

确保在 BETWEEN 子句中添加最小值拳头

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-02-04T18:16:44.260

删除4到7个id

```
DELETE FROM cats
WHERE id BETWEEN 4 AND 7; 
```

按名字

```
DELETE FROM cats
WHERE name IN ("Lucy","Stella","Max","Tiger"); 
```

* * *

## 回答 #6

> 赞同：-6
> 
> 时间：2015-10-05T09:00:12.573

```
CREATE PROC [dbo].[sp_DELETE_MULTI_ROW]       
@CODE XML
,@ERRFLAG  CHAR(1) = '0' OUTPUT    

AS        

SET NOCOUNT ON  
SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED  

DELETE tb_SampleTest
    WHERE 
        CODE IN(
            SELECT Item.value('.', 'VARCHAR(20)')
            FROM  @CODE.nodes('RecordList/ID') AS x(Item)
            )

IF @@ROWCOUNT = 0
    SET @ERRFLAG = 200

SET NOCOUNT OFF 
```

获取字符串值删除

```
<RecordList>
    <ID>1</ID>
    <ID>2</ID>
</RecordList> 
```

# python - BeautifulSoup / lxml：大元素有问题吗？

> ID：16029442
> 
> 赞同：1
> 
> 时间：2013-04-16T05:31:15.937
> 
> 标签：python, python-2.7, beautifulsoup, lxml, activepython

```
import os, re, sys, urllib2
from bs4 import BeautifulSoup
import lxml

html = urllib2.urlopen("http://www.hoerzu.de/tv-programm/jetzt/")
soup = BeautifulSoup(html, "lxml")
divs = soup.find_all("div", {"class":"block"})
print len(divs) 
```

输出：

```
ActivePython 2.7.2.5 (ActiveState Software Inc.) based on
Python 2.7.2 (default, Jun 24 2011, 12:21:10) [MSC v.1500 32 bit (Intel)] on win
32
Type "help", "copyright", "credits" or "license" for more information.
>>> import os, re, sys, urllib2
>>> from bs4 import BeautifulSoup
>>> import lxml
>>>
>>> html = urllib2.urlopen("http://www.hoerzu.de/tv-programm/jetzt/")
>>> soup = BeautifulSoup(html, "lxml")
>>> divs = soup.find_all("div", {"class":"block"})
>>> print len(divs)
2 
```

我也试过：

```
divs = soup.find_all(class_="block") 
```

结果相同...

但是有 11 个元素符合这个条件。那么是否有任何限制，例如最大元素大小。我怎样才能得到所有的元素？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-23T07:01:37.140

最简单的方法可能是使用“html.parser”而不是“lxml”：

```
import os, re, sys, urllib2
from bs4 import BeautifulSoup
import lxml

html = urllib2.urlopen("http://www.hoerzu.de/tv-programm/jetzt/")
soup = BeautifulSoup(html, "html.parser")
divs = soup.find_all("div", {"class":"block"})
print len(divs) 
```

使用您的原始代码（使用`lxml`）`1`为我打印，但打印的是`11`. `lxml`是宽松的，但不像`html.parser`这个页面那么宽松。

*请*注意，如果您通过`tidy`. 包括无效的字符代码、未闭合`<div>`的 s、字母 like`<`和`/`在它们不允许的位置。

# assembly - 使用 base 2 计算 32 位有符号整数中的位数返回 32 而不是 31

> ID：16029445
> 
> 赞同：3
> 
> 时间：2013-04-16T05:31:32.540
> 
> 标签：assembly, sparc

我的系统编程课的一部分作业要求我们编写一个汇编模块，该模块返回一个 32 位整数中的位数，给定一个 2 到 36 范围内的基数。**除一种情况外，一切正常**。当我使用**最大**有符号正 32 位值`0x7FFFFFFF`和 的基数时`2`，代码返回**32**而不是**31**作为位数。

作为一种解决方案，我考虑通过包含检查`num`参数是否等于的指令来处理这种情况，如果是则`0x7FFFFFFF`返回 31。但是，我不确定这种方法是否正确。

我正在使用“do-while 循环”类型的算法来解决问题。

函数原型：`int numOfDigits( long num, int base );`

```
.global numOfdigits

.section ".text"

numOfDigits:

    save   %sp, -96, %sp

    clr    %l0         ! digits = 0

    mov    %i0, %o0    ! num is first argument to .div
    mov    %i1, %o1    ! base is second argument to .div

loop:

    call   .div        ! %o0 = %o0 / %o1
    nop

    inc    %l0         ! ++digits

    cmp    %o0, 0      ! while ( num != 0 )
    bne    loop
    nop

    mov    %l0, %i0    ! copy digits value into return register

    ret
    restore 
```

# php - 二级目录中的 MVC 框架错误

> ID：16029450
> 
> 赞同：1
> 
> 时间：2013-04-16T05:31:52.507
> 
> 标签：php, remote-file-inclusion

我正在构建一个 mvc 框架来管理我的项目我将我的 htaccess 文件配置为这样

```
RewriteEngine On

RewriteBase /mymvc/

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule ^([^?]*) index.php?url=$1 [QSA,L] 
```

当我测试时，项目文件夹一切正常。但是当我进一步进入一个目录（admin/）时，我得到了这个错误

```
SCREAM: Error suppression ignored for
( ! ) Warning: require() [<a href='function.require'>function.require</a>]: http:// wrapper is disabled in the server configuration by allow_url_include=0 in C:\wamp\www\mymvc\Admin\library\View.php on line 17 
```

请问有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:41:34.650

错误本身会告诉您究竟出了什么问题。您正在尝试`require`通过该`http://`方案创建文件，但这在您的配置中被禁用。

如果文件实际上是本地文件，则不应使用该`http://`方案，而应使用本地文件系统路径，例如

```
require 'path/to/some/file'; 
```

如果所需文件是远程文件，则需要更改服务器配置 ( `php.ini`)。请参阅[http://www.php.net/manual/en/filesystem.configuration.php#ini.allow-url-include](http://www.php.net/manual/en/filesystem.configuration.php#ini.allow-url-include)

# sql - 将参数列表从 SSIS 中的 sql 任务传递到带有变量的 Web 服务 URL

> ID：16029451
> 
> 赞同：0
> 
> 时间：2013-04-16T05:31:54.193
> 
> 标签：sql, sql-server, web-services, ssis, foreach-loop-container

我有一个生成订单号列表的 sql 查询...我可以将这些订单号单独放置在 Web 服务的 Web 请求 URL 中，并收集该订单的详细信息。如果我有一个可用的 WSDL 文件，但 We 服务使用的是 RestFul 服务客户端并且没有 WSDL 文件，我知道该怎么做。我确实有一个 C# 代码，只有在我声明订单号并试图找出如何用 DTS 变量替换此参数并使用 Foreach 循环容器来运行列表中的其余订单号时才能工作。这是我到目前为止的代码：

```
 using System;
    using System.Collections.Generic;
    using System.Text;
    using System.Web;
    using System.IO;
    using System.Net;
    using System.Xml;
    /**
    * A test code to consuming a RESTFUL web service. 
     * You need to just parse the xml - either save it in memory/Cache to parse immediatly,
    * or wrire to file and do read and parse it.
    * @author: Jbisht
    */
    namespace JbishtApplication
    {
        class CallWeb
        {
            static void Main(string[] args)
            {
                HttpWebRequest request = null;
                HttpWebResponse response = null;
                String Xml;
                String salesOrderNo = "S3107634";
                String file_ext = ".xml";
                String file_name = salesOrderNo + file_ext;
                String file_path = "C:/";

                // Create the web request - Zones Test Environment - Orderws URL 
                // request = WebRequest.Create("http://test2:8080/orderws/order/" + salesOrderNo) as HttpWebRequest;

                // Create the web request - My instance - Orderws for test only
                request = WebRequest.Create("http://dev2:10580/orderws/order/" + salesOrderNo) as HttpWebRequest;

                // Get response  
                using (response = request.GetResponse() as HttpWebResponse)
                {
                    // Get the response stream  
                    StreamReader reader = new StreamReader(response.GetResponseStream());

                    Xml = reader.ReadToEnd();
                    XmlDocument xdoc = new XmlDocument();
                    xdoc.LoadXml(Xml);
                    xdoc.Save(file_path + file_name);  // it will save your response xml to file location;
                }
                // Console xml output  
                Console.WriteLine(Xml); //see if we get the xml response, (YES we do)

                Console.ReadLine(); // Just wrote to keep console window open after writing to console.
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T11:08:41.490

一般来说，您需要一个 SQL 任务作为起点，从数据库中获取订单号列表，并将查询结果保存到 Object 类型的变量中，例如“OrderNumberList”。然后你有一个 foreach 循环容器来循环“OrderNumberList”变量，并将当前值分配给另一个变量“OrderNumber”。

（如果您之前没有完成所有这些操作，[这里](http://coldlogics.wordpress.com/2011/04/09/using-ssis-to-dynamically-create-data-files-from-a-full-result-set/)有一个链接显示如何遍历数据库查询结果集。）

在 foreach 容器中放置一个 Script 任务，并选择“OrderNumber”作为只读变量，以便您可以在脚本中引用该变量。然后在脚本中，“OrderNumber”可以引用为：

```
request = WebRequest.Create("http://dev2:10580/orderws/order/" + 
    ((string) Dts.Variables["OrderNumber"].Value)) as HttpWebRequest; 
```

# sencha-touch-2 - 空嵌套列表显示

> ID：16029455
> 
> 赞同：0
> 
> 时间：2013-04-16T05:32:07.220
> 
> 标签：sencha-touch-2, nested-lists

基于[此处](http://docs.sencha.com/touch/2-2/#!/guide/first_app)了解的新创建的 Sencha Touch 2 应用程序。然后我想添加我的嵌套列表 - 分层菜单树，发现没关系 - 我的商店内联或我的商店从 json 读取 - 选项卡“菜单”内没有显示任何内容。怎么了？

重要文件/代码片段：

app.js 中的 MVC 部分：

```
// MVC
    views: [
        'Main'
    ],
    models: [
        'MenuItem'
    ],
    stores: [
        'MenuTree'
    ], 
```

视图.Main.js：

```
Ext.define('MobilePost.view.Main', {
    extend: 'Ext.tab.Panel',
    xtype: 'main',
    requires: [
        'Ext.TitleBar',
        'Ext.data.TreeStore',
        'Ext.dataview.NestedList',
        'Ext.data.proxy.JsonP',
        'MobilePost.store.MenuTree'
    ],

    config: {
        tabBarPosition: 'bottom',

        items: [
            {
                            // From tutorial, working
                title: 'Home',
                iconCls: 'home',
                cls: 'home',
                html: [
                    '<img src="http://staging.sencha.com/img/sencha.png" />',
                    '<h1>Welcome to Sencha Touch</h1>'
                ].join("")
            },
            {
                            // From tutorial, working
                xtype: 'nestedlist',
                title: 'Blog',
                iconCls: 'star',
                displayField: 'title',

                store: {
                    type: 'tree',

                    fields: [
                        'title', 'link', 'author', 'contentSnippet', 'content',
                        { name: 'leaf', defaultValue: true }
                    ],

                    root: {
                        leaf: false
                    },

                    proxy: {
                        type: 'jsonp',
                        url: 'https://ajax.googleapis.com/ajax/services/feed/load?v=1.0&q=http://feeds.feedburner.com/SenchaBlog',
                        reader: {
                            type: 'json',
                            rootProperty: 'responseData.feed.entries'
                        }
                    }
                },

                detailCard: {
                    xtype: 'panel',
                    scrollable: true,
                    styleHtmlContent: true
                },

                listeners: {
                    itemtap: function( nestedList, list, index, element, post ) {
                        this.getDetailCard().setHtml(post.get('content'));
                    }
                }
            },
            {
                            // Mine, not working
                xtype: 'nestedlist',
                title: 'Menu',
                iconCls: 'settings',
                store: 'MenuTree'
            }
        ]
    }
}); 
```

模型 - model.MenuItem.js：

```
Ext.define('MobilePost.model.MenuItem', {
    extend: 'Ext.data.Model',
    config: {
        fields: [ 
            'id',   // Menu item id for events
            'text', // Menu item text 
            { name: 'leaf', defaultValue: false }
        ]
    }
}); 
```

商店 - store.MenuTree.js：

```
Ext.define('MobilePost.store.MenuTree', {
    extend: 'Ext.data.TreeStore',

    requires: [ 'MobilePost.model.MenuItem' ],

    type: 'tree',
    defaultRootProperty: 'items',
    config: {
        model: 'MobilePost.model.MenuItem',
        /*
        // TODO: inline store - uncomment to use
        root: {
            items: [
                {
                    id: 'settings',
                    text: 'Settings',
                    items: [
                        {
                            id: 'shift',
                            text: 'Working shift',
                            leaf: true
                        },
                        {
                            id: 'users',
                            text: 'Users',
                            leaf: true
                        },
                        {
                            id: 'cash',
                            text: 'Cash',
                            leaf: true
                        }
                    ]
                }
            ]
        }*/
        // TODO: JSON store - comment for inline store
        proxy: {
            type: 'ajax',
            url: 'menu.json'
        }
    },
    // TODO: JSON store - comment for inline store
    root: {}
}); 
```

JSON - menu.json（有效，通过 jsonlint.com 的检查）：

```
{
    "items": [
        {
            "id": "settings",
            "text": "Settings",
            "items": [
                {
                    "id": "shift",
                    "text": "Working shift",
                    "leaf": true
                },
                {
                    "id": "users",
                    "text": "Operators",
                    "leaf": true
                },
                {
                    "id": "cash",
                    "text": "Cash",
                    "leaf": true
                }
            ]
        }
    ]
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T05:08:25.847

您的商店在什么时候加载？你不应该`autoLoad:true`在你的商店使用吗？

此外，如果您不想使用应用程序加载创建和加载商店，您应该在需要时手动创建商店并将其设置为列表

```
var treeStore = Ext.create('MobilePost.store.MenuTree');
treeStore.load(); 
```

并在您的视图中将其用作商店属性

```
 {
            // Mine, not working
            xtype: 'nestedlist',
            title: 'Menu',
            id: 'myListId',
            iconCls: 'settings',
            store: treeStore
        } 
```

或者如果视图已经创建，则设置商店

```
Ext.getCmp('myListId').setStore(treeStore); 
```

# sql - 带计数的 SQL 左连接

> ID：16029456
> 
> 赞同：0
> 
> 时间：2013-04-16T05:32:13.183
> 
> 标签：sql, join

我正在开发一个视频游戏库存网站。这是我的数据库表的简化版本以及一些示例数据：

```
CREATE TABLE `platforms` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(16) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=4 ;

INSERT INTO `platforms` VALUES(1, 'Nintendo');
INSERT INTO `platforms` VALUES(2, 'Super Nintendo');
INSERT INTO `platforms` VALUES(3, 'Nintendo 64');

--

CREATE TABLE `games` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `platform_id` int(10) unsigned NOT NULL,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=7 ;

INSERT INTO `games` VALUES(1, 1, 'Super Mario Bros.');
INSERT INTO `games` VALUES(2, 1, 'Super Mario Bros. 2');
INSERT INTO `games` VALUES(3, 2, 'Super Mario World');
INSERT INTO `games` VALUES(4, 2, 'Super Mario Kart');
INSERT INTO `games` VALUES(5, 3, 'Super Mario 64');
INSERT INTO `games` VALUES(6, 3, 'Mario Kart 64');

--

CREATE TABLE `users` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(64) NOT NULL,
  `password` varchar(64) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=3 ;

INSERT INTO `users` VALUES(1, 'john_doe', '$2a$10$cQhc4VAXVMEyC1tA.VRoWunpNVi7392adacT/weVBzu6XGI6.Jx/K');
INSERT INTO `users` VALUES(2, 'jane_doe', '$2a$10$Ot2BmlT14hKDxHGIV8jBx.lW76HCWdwuOhNGIYrJO5O7BEtDUWLWu');

--

CREATE TABLE `games_users` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `game_id` int(10) unsigned NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `created` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=5 ;

INSERT INTO `games_users` VALUES(1, 1, 1, '2013-04-12 12:18:09');
INSERT INTO `games_users` VALUES(2, 3, 1, '2013-04-12 12:18:42');
INSERT INTO `games_users` VALUES(3, 4, 1, '2013-04-12 12:19:13');
INSERT INTO `games_users` VALUES(4, 2, 2, '2013-04-12 12:19:32'); 
```

如您所见，john_doe 拥有 1 款 Nintendo 游戏（超级马里奥兄弟）、2 款 Super Nintendo 游戏（Super Mario World 和 Super Mario Kart）和 0 款 Nintendo 64 游戏。jane_doe 有 1 款任天堂游戏（超级马里奥兄弟 2）、0 款超级任天堂游戏和 0 款任天堂 64 游戏。

我想编写一个特定于用户的查询，该查询将列出所有控制台，并列出用户在每个控制台上拥有的游戏数量。

这就是 john_doe 的结果：

```
platform.id: 1
platform.name: Nintendo
game_count: 1

platform.id: 2
platform.name: Super Nintendo
game_count: 2

platform.id: 3
platform.name: Nintendo 64
game_count: 0 
```

这是 jane_doe 的结果：

```
platform.id: 1
platform.name: Nintendo
game_count: 1

platform.id: 2
platform.name: Super Nintendo
game_count: 0

platform.id: 3
platform.name: Nintendo 64
game_count: 0 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:48:04.313

```
SELECT p.id, p.name, IFNULL(t.cnt, 0)
FROM platforms p
LEFT JOIN (
  SELECT g.platform_id as 'id', COUNT(g.id) as cnt
  FROM users u
  JOIN games_users gu ON gu.user_id = u.id
  JOIN games g ON g.id = gu.game_id
  WHERE u.username = "jane_doe"
  GROUP BY g.platform_id
  ) t ON t.id = p.id 
```

***[演示](http://sqlfiddle.com/#!2/6104d/36)***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:40:31.650

```
SELECT p.id, p.name, COUNT(g.id) FROM users u 
LEFT JOIN games_users gu ON u.id = gu.user_id 
LEFT JOIN games g ON g.id = gu.game_id 
LEFT JOIN platforms p ON g.platform_id = p.id 
WHERE u.id = 1 
GROUP BY p.id 
```

[http://sqlfiddle.com/#!2/6104d/6](http://sqlfiddle.com/#!2/6104d/6)

如果你想看到0，我猜你必须做一些作弊，这就是我实现它的方法。我得到了 user_id 的总和（因为它们都是一样的）并除以 user_id。

```
SELECT p.id, p.name, IFNULL(SUM(user_id),0)/1 FROM platforms p 
LEFT JOIN games g ON g.platform_id = p.id 
LEFT JOIN games_users gu ON g.id = gu.game_id AND gu.user_id = 1
GROUP BY p.id, p.name

SELECT p.id, p.name, IFNULL(SUM(user_id),0)/2 FROM platforms p 
LEFT JOIN games g ON g.platform_id = p.id 
LEFT JOIN games_users gu ON g.id = gu.game_id AND gu.user_id = 2
GROUP BY p.id, p.name 
```

# excel - 使用 VBA 修改动态名称

> ID：16029462
> 
> 赞同：2
> 
> 时间：2013-04-16T05:32:47.237
> 
> 标签：excel, vba

我有一个电子表格，它链接到其他几个电子表格，以提取编译成一张表的数据；我的任务是修改工作表以绘制这些数据。一个人的报告中每个月有一行 12 个插槽；如果一个人在一个月内工作，则该月将显示在相应的插槽中。对于图表，我已经想出使用动态名称范围，以便图表中的月数等于该行中存在的月数；唯一的问题是起始点会根据一个人开始的月份而变化。

我可以制作一个相当大的嵌套 if 语句，但这似乎不是解决我的问题的好方法。有没有办法让 VBA 脚本更改动态名称范围的值或直接修改图表的值？如果这不是一个可行的选择，除了动态命名范围之外，还有其他方法可以解决这个问题吗？

我无法更改此报告表的行为方式，因为这是与工作相关的电子表格，并且出于报告原因，他们希望它是这样的；我只是想添加图形功能。

例子：

[https://www.dropbox.com/s/zn6yt4l6kjvwq33/Example1.xlsx](https://www.dropbox.com/s/zn6yt4l6kjvwq33/Example1.xlsx) [https://www.dropbox.com/s/j88tgoik68s4lhx/Example2.xlsx](https://www.dropbox.com/s/j88tgoik68s4lhx/Example2.xlsx)

在第一个示例中，当您从代理名称旁边的下拉框中选择“第二个”时，您会看到一个问题示例。它在图表中包含无意义的数据。

在第二个示例中，我通过将 if 语句添加到图表中使用的动态命名范围来解决问题；但是正如你所看到的，包括 2 个月，它现在已经很庞大了，而且要包括所有 12 个月，这几乎是不可能的。如果我要添加一个三月份开始的第三个人，他们也不会在第二个例子中工作。

有没有办法可以使动态名称范围中的值可以通过 VBA 更改？我可以直接使用 VBA 修改图表的值吗？有没有办法在不使用 VBA 的情况下绕过这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T08:11:57.560

（我不是 100% 确定我已经理解了这个问题，但这可能至少有助于更接近......）

尝试定义三个名称，如下所示：

```
start_month
data 
chart_data 
```

其中`start_month`包含您要绘制图表的列数，`data`是所有十二列数据，类似于`=OFFSET($C$1,0,0,COUNT($A:$A),12)`并`chart_data`从数据中选择您想要的列，例如`=INDEX(data, , start_month)`

`WorkbookName!chart_data`现在，使用工作簿的名称将图表的系列设置为 。随着`start_month`值的变化，图表中显示的值也会发生变化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T15:01:35.617

`Name`您可以在 VBA 中添加或修改 a ，例如：

```
Dim nm As Name
Dim rng As Range

'Here, you could use a more complicated expression'
' to derive the proper address dynamically.'
Set rng = Sheets("Sheet1").Range("A2:A25")

'Now, add a Name to the workbook:'
Set nm = ActiveWorkbook.Names.Add("My_Name", rng) 
```

使用一些字符串函数/变量，您可以在 VBA 中派生/计算范围地址。

# sql - 在 sql server 2008 中拆分字符串

> ID：16029467
> 
> 赞同：1
> 
> 时间：2013-04-16T05:33:08.193
> 
> 标签：sql, sql-server, sql-server-2008, split

在我的表中，我有经验字段，例如

**经验**

*   0到0年
*   2到0年
*   7到12岁

这里我想分成

*   年份从 - 0
*   年初至今- 0

如何在此处拆分字符串。我搜索了很多文章。我找不到正确的解决方案。这里有什么办法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:51:19.373

这是一个有效的解决方案

```
declare @yearfrom varchar(2),@yearto varchar(2)

select @yearfrom=substring('0to0Years',0,patindex('%to%','0to0Years')),
 @yearto=substring('0to0Years',patindex('%to%','0to0Years')+2,patindex('%Years%','0to0Years')-patindex('%to%','0to0Years')-2) 
```

SqlFiddle：[http ://www.sqlfiddle.com/#!3/d41d8/12483](http://www.sqlfiddle.com/#!3/d41d8/12483)

要处理您的列，请将“0to0Years”替换为列名

```
 declare @yearfrom varchar(2),@yearto varchar(2)

        select @yearfrom=substring(col_name,0,patindex('%to%',col_name)),
         @yearto=substring(,patindex('%to%',col_name)+2,patindex('%Years%',col_name)-patindex('%to%',col_name)-2)
from table_name where <condition> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:06:40.783

尝试以下步骤...

```
 --Create Table :
                            Create Table #Table
                            (
                            Name Varchar(50),
                            Experience Varchar(20)
                            )
                            Go

                            -- Insert Values :
                            Insert into #Table Values('Tom','0to0Years')
                            Insert into #Table Values('Victor','0to1Years')
                            Insert into #Table Values('Mark','11to12Years')
                            Go

                            --View Data
                            Select  * from #Table

                            --Using CharIndex  and Substring :
                            Select Name,
                            Substring(Experience,1,CharIndex('to',Experience)-1) as Yearfrom,
                            Substring(Experience,(CharIndex('to',Experience)+2),Len(Replace(Experience,'Years','')) - (CharIndex('to',Experience)+1)) as YearTo
                            from #Table 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T06:02:52.387

尝试使用 [Parsename](http://msdn.microsoft.com/en-in/library/ms188006.aspx)函数

```
Select  parsename(replace(Experience,'to','.'),2) ,
        substring(parsename(replace(Experience,'to','.'),1),0,
        charindex('Y',parsename(replace(Experience,'to','.'),1))) 
from YourTable 
```

[SQLFiddle](http://sqlfiddle.com/#!3/f408d/2)中的演示

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T06:09:33.093

请试试：

```
select 'YearFrom - '+substring(Data, 0, PatIndex('%[to]%', Data)) YearFrom, 
    'YearTo - '+replace(stuff(Data, 1, PatIndex('%[to]%', Data)+1, ''), 'Years', '') YearTo
from
(
    Select '0to0Years' Data union
    Select '2to0Years' Data union
    Select '756to12Years' Data
)x 
```

# jquery - 如何合并两个对象

> ID：16029469
> 
> 赞同：0
> 
> 时间：2013-04-16T05:33:33.687
> 
> 标签：jquery, svg, jquery-svg

我有两个对象

```
var defPathValues={'id':'','fill':'','fill-opacity':'','stroke-width':'','stroke-linecap':'','stroke-linejoin':'',
                        'stroke':'','d':'','transform':''};

var options={'id':'ele1', 'fill':'white'}; 
```

我想合并这两个对象并从 defPathValues 中删除其他空属性（即基于我们传递的选项）。

合并后，我想在 svg path 元素中设置这些属性。

在那之前我喜欢

```
var path = document.createElementNS(this.svgLink, "path");
        $(path).attr({
            'id': this.SvgObject.id+ "_" + series.Name + "_"+ seriesIndex,
            'fill': 'none',
            'stroke-width': style.SeriesStyle.BorderWidth,
            'stroke': style.SeriesInterior,
            'stroke-linecap': style.SeriesStyle.LineCap,
            'stroke-linejoin':style.SeriesStyle.LineJoin,     
            'd': direction,

        }); 
```

而不是我想将 object 直接设置为 path 元素的 attr 。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:57:26.947

这可能不是最优雅的解决方案，但我相信它会起作用：我假设您在此代码运行之前已将 defPathValues 和 options 定义为 JS 对象。

```
for(var i in options) defPathValues[i] = options[i];

var newDefPathValues = {};
for(var i in defPathValues) {
    if(typeof defPathValues[i] == 'undefined' || defPathValues[i] == '' || defPathValues[i] == null) continue;
    newDefPathValues[i] = defPathValues[i];
}
defPathValues = newDefPathValues; 
```

# android - 如何获取图像按钮的图像？

> ID：16029471
> 
> 赞同：0
> 
> 时间：2013-04-16T05:33:44.000
> 
> 标签：android

我有 2 个图像按钮。imagebutton1 上有一张图片作为背景，而 imagebutton2 有一个空白背景。如果我单击 imagebutton1，imagebutton2 将获得 imagebutton1 的背景图片，我该如何做到这一点，如果我再次单击 imagebutton2，背景将再次为空白。就像你们熟悉的游戏“4pic 1 word”的概念一样。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:54:57.497

你可以这样做..

```
int minute = 0;
final Drawable d = img2.getDrawable();
    img1.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            if (minute == 0) {
                img2.setImageDrawable(img1.getDrawable());
                minute = 1;
            } else {
                img2.setImageDrawable(d);
                minute = 0;
            }

        }
    });
    img2.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            img2.setImageDrawable(d);
        }
    }); 
```

根据您的要求更改点击事件。希望它对您有所帮助..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:39:42.927

```
public Bitmap getBitmapFromImageView(ImageView imageView){ 
    Drawable drawable = imageView.getDrawable();
    Bitmap bitmap = null;
    if (drawable instanceof BitmapDrawable) {
        BitmapDrawable bitmapDrawable = (BitmapDrawable) drawable;
        bitmap = bitmapDrawable.getBitmap();       
    }
    return bitmap;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:42:47.447

您可以在单击按钮时使用它

```
 public void firstbutton(){
                ImageView ImageButton2 = (ImageButton)findViewById(R.id.imageButton2);
               ImageButton2 .setImageResource(R.drawable.image1);
                     }

             public void Secondbutton()
             ImageView ImageButton1 = (ImageButton)findViewById(R.id.imageButton1);
             ImageButton2 .setImageResource(R.drawable.image2);
                         }

  call this method on button click where you want cheers........ 
```

# javascript - 日语文本的按键事件

> ID：16029475
> 
> 赞同：6
> 
> 时间：2013-04-16T05:33:58.283
> 
> 标签：javascript, jquery

```
$(document).ready(function () {
    $("#id").keydown(function () {

    });
}) 
```

此代码完美适用于除日语文本之外的所有内容（数字、字母、符号等）。在按键时它不会通过这个事件。有人知道任何解决方案吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-16T05:38:52.790

你几乎无能为力。“日语文本”是指输入法，它是一种截取键盘输入并帮助您将其转换为日语文本的软件。该软件如何与浏览器和浏览器的 Javascript 引擎交互或不交互取决于操作系统、IME、浏览器和浏览器的 Javascript 引擎。在某些平台上，按键是通过信号发出的，而在其他平台上则不是。您可以尝试绑定到其他事件，例如`keyup`or `keypress`，即使使用 IME 也可能会发出一些信号。

您可以做的最好的事情是确保您不依赖按键事件，并且如果您无法拦截它们，则可以使用后备选项；例如，也绑定到`change`文本字段上的事件并处理整个文本更改，这*将*在 IME 输入结束时触发。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-06-10T08:30:00.730

我遇到了同样的问题，我没有阻止用户输入文本，而是将输入值设置为 null，因为 api `event.preventDefault();`无法正常工作。

```
$(document).ready(function () {
    $("#id").keyup(function () {
        this.value = ''
    });
}) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-12-07T02:49:25.200

我有同样的问题，我使用输入事件解决了它。

```
//calculate the length of a character
function getLen(str){
    var result = 0;
    for(var i=0;i<str.length;i++){
      var chr = str.charCodeAt(i);
      if((chr >= 0x00 && chr < 0x81) ||
         (chr === 0xf8f0) ||
         (chr >= 0xff61 && chr < 0xffa0) ||
         (chr >= 0xf8f1 && chr < 0xf8f4)){
        //half width counted as 1
        result += 1;
      }else{
        //full width counted as 2
        result += 2;
      }
    }
    return result;
};

// trim the string by processing character by character
function getTrimmedString(theString, maxLength){
var tempLength = 0;
var trimmedString = "";
for (var i = 0; i < theString.length; i++) {
    tempLength = getLen(theString.charAt(i)) + tempLength;
    if(tempLength > maxLength){
        break;
    }else{
        trimmedString = trimmedString + theString.charAt(i);
    }
}
return trimmedString;
}

// limit the size of a field
function limitCity(){
var maxChars = 30;
var cityVal = $("#city").val();
var cityLength = getLen(cityVal);
if (cityLength >= maxChars) {
    var trimmedString = getTrimmedString(cityVal, maxChars);
    $("#city").val(trimmedString);
}
}

//bind the input event 
$("#city").bind("input", limitCity); 
```

# solr - Solrj 客户端和 XML 响应

> ID：16029483
> 
> 赞同：1
> 
> 时间：2013-04-16T05:34:50.077
> 
> 标签：solr, solrj, solrcloud

我在码头服务器中使用 solr4.0。我想使用 solrj 查询 solr 并期望结果以 XML 格式格式化。所以我使用了 HttpSolrServer（CloudSolrServer 和 LBHttpSolrServer 不支持设置解析器）并将解析器设置为 Xmlparser。此外，我还在设置 SolrQuery 参数 wt=xml。但我无法在 XML 中获得结果。这是我的测试代码

```
package solrjtest;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.util.UUID;
import org.apache.solr.client.solrj.SolrQuery;
import org.apache.solr.client.solrj.SolrServerException;
import org.apache.solr.client.solrj.impl.CommonsHttpSolrServer;
import org.apache.solr.client.solrj.impl.XMLResponseParser;
import org.apache.solr.client.solrj.response.QueryResponse;
import org.apache.solr.common.SolrDocumentList;

class SolrjTest
{

    public static void main(String[] args) throws IOException, SolrServerException
    {
        SolrjTest solrj = new SolrjTest();
        solrj.query("hello");
    }

    public void query(String q) throws IOException, SolrServerException
    {
        CommonsHttpSolrServer server = null;
        String uuid = null;
        boolean flag = true;
        while (flag == true)
        {
            uuid = UUID.randomUUID().toString();
            File f = new File("D:/SearchResult/" + uuid + ".txt");
            if (!f.exists())
            {
               flag=false;
               f.createNewFile();
            }
        }
        try
        {
            server = new CommonsHttpSolrServer("http://skyfall:8983/solr/documents");
            server.setParser(new XMLResponseParser());
        }
        catch (Exception e)
        {
            e.printStackTrace();
        }
        SolrQuery query = new SolrQuery();
        query.setQuery(q);
        query.setParam("wt", "xml");
        FileWriter fw = new FileWriter("D:/SearchResult/" + uuid + ".txt");
        try
        {
            QueryResponse qr = server.query(query);
            SolrDocumentList sdl = qr.getResults();
            XMLResponseParser r = new XMLResponseParser();

            Object[] o = new Object[sdl.size()];
            o = sdl.toArray();
            for (int i = 0; i < o.length; i++)
            {
                System.out.println(o[i].toString());
                fw.write(o[i].toString() + "\n");
            }
            fw.flush();
            fw.close();
            System.out.println("finished");
        }
        catch (SolrServerException e)
        {
            e.printStackTrace();
        }
    }
} 
```

知道这里出了什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T11:29:45.967

通过该设置，机器 Skyfall 上的 Solr 服务器确实以 XML 格式发送响应，并且 CommonsHttpSolrServer 包装器确实正确解析了 XML。但是，这不会改变 QueryResponse 中的内部表示，它只是 Solr 类 NamedList 的一个薄包装。

您可以（错误地）使用 XMLResponseWriter 来获取完整 QueryResponse 的 XML 表示：

```
private String toXML(SolrParams request, QueryResponse response) {
    XMLResponseWriter xmlWriter = new XMLResponseWriter();
    Writer w = new StringWriter();
    SolrQueryResponse sResponse = new SolrQueryResponse();
    sResponse.setAllValues(response.getResponse());
    try {
        xmlWriter.write(w, new LocalSolrQueryRequest(null, request), sResponse);
    } catch (IOException e) {
        throw new RuntimeException("Unable to convert Solr response into XML", e);
    }
    return w.toString();
} 
```

# vim - cscope 在“cs add”打印“cs_read_prompt EOF：中断的系统调用”时失败

> ID：16029484
> 
> 赞同：2
> 
> 时间：2013-04-16T05:34:54.293
> 
> 标签：vim, cscope

## 环境：

1.  Linux Mint 14 MATE **amd64**桌面（类似 Ubuntu 12.10）
2.  cscope **15.7a** -3.6（Ubuntu 源）
3.  vim **7.3**（Ubuntu 源代码）
4.  配对终端

## 描述：

当我在 mate-terminal 中命令“vim xx.c”时，vim 调用 cscope 执行“cs add $PROJ/cscope.out”但失败并显示消息：

```
Error detected while processing /usr/share/vim/vim73/plugin/cscope_maps.vim:
line   46:
cs_read_prompt EOF: Interrupted system call
Press ENTER or type command to continue 
```

**cscope_maps.vim**第 46 行：

```
if filereadable("cscope.out")
   cs add cscope.out

elseif $CSCOPE_DB != ""
    cs add $CSCOPE_DB   //line 46 here
endif 
```

我已正确导出 $CSCOPE_DB 因为它有时会起作用。仍然它随机发生。我使用在*$PROJ dir*下工作的*“cscope -Rbkg”*。当我在*$PROJ/subdir*工作时会出现问题。有时我可以正常使用 vim 打开文件而不会出现错误消息。我尝试使用从源代码 tarball 编译的 cscope-15.6。这永远不会出现在我的 CentOS 6.3 上。 有小伙伴有什么建议吗？

# c++ - C ++中的2的补码转换器

> ID：16029485
> 
> 赞同：1
> 
> 时间：2013-04-16T05:35:06.117
> 
> 标签：c++, c++11

我被卡住了，我一直在查看我的代码几个小时，我似乎无法弄清楚出了什么问题。我的函数所做的是它将接受一个负数或正数并将其转换为它的 32 位 2 的补码十六进制表示。我的函数接受一个字符数组（以 32 位有符号幅度表示）并取数组的 2 的补码。我将其转换为 2 的补码的方法是在看到某个字符时将一个字符分配到数组中。如果在数组中看到的字符是第一个字符，则会出现特殊情况。其余的通常被否定。我目前被卡住了。当我输入值 -23（有符号幅度为 80000017）时，我得到值 K00000KK。-23452（有符号的震级 80005B9C）-> K000KKKK。我将值设置为“K” 要找出代码卡在哪里，原始值是“7”。在代码中，我放置了显示消息以查看编译器的去向

```
for -23 (80000017) input I get the messages

first 1 is seen, leave first 1 the same
first 1 is seen, leave first 1 the same
no one's showed up yet --> 0
no one's showed up yet --> 0
no one's showed up yet --> 0
no one's showed up yet --> 0
no one's showed up yet --> 0
first 1 is seen, leave first 1 the same 
```

几乎显示 K 的地方是我得到第一个 1 消息的地方，显示 0 的地方我得到 --> 0 消息

谢谢您的帮助！非常感激！

这是我的代码的 pastebin 链接，因为代码的格式让我很恼火......

[http://pastebin.com/KSeymwcs](http://pastebin.com/KSeymwcs)

```
char* two_complement(int number, char* sign_mag_array){

int first_one_flag = 0;

if(number > 0){
    cout << "positive number" << endl;
    return sign_mag_array;
}

if(number < 0){
    for(int q = 7; q >= 0; q--){
        if(first_one_flag == 1){                // negate the rest regularly
            cout << "negate normally " << endl;

            if(sign_mag_array[q] == '0'){
                sign_mag_array[q] = 'F';
            }
            if(sign_mag_array[q] == '1'){
                sign_mag_array[q] = 'E';
            }
            if(sign_mag_array[q] == '2'){
                sign_mag_array[q] = 'D';
            }
            if(sign_mag_array[q] == '3'){
                sign_mag_array[q] = 'C';
            }
            if(sign_mag_array[q] == '4'){
                sign_mag_array[q] = 'D';
            }   
            if(sign_mag_array[q] == '5'){
                sign_mag_array[q] = 'A';
            }
            if(sign_mag_array[q] = '6'){
                sign_mag_array[q] = '9';
            }
            if(sign_mag_array[q] == '7'){
                sign_mag_array[q] = '8';
            }
            if(sign_mag_array[q] == '8'){
                sign_mag_array[q] = '7';
            }
            if(sign_mag_array[q] = '9'){
                sign_mag_array[q] = '6';
            }   
            if(sign_mag_array[q] == 'A'){
                sign_mag_array[q] = '5';
            }   
            if(sign_mag_array[q] == 'B'){
                sign_mag_array[q] = '4';
            }
            if(sign_mag_array[q] = 'C'){
                sign_mag_array[q] = '3';
            }
            if(sign_mag_array[q] == 'D'){
                sign_mag_array[q] = '2';
            }
            if(sign_mag_array[q] == 'E'){
                sign_mag_array[q] = '1';
            }
            if(sign_mag_array[q] == 'F'){
                sign_mag_array[q] = '0';
            }
        }

        if(sign_mag_array[q] == '0' && first_one_flag == 0){
            cout << "no one's showed up yet --> 0 " << endl;
        }
        else{                                               // first '1' in binary seen. special negating
            //first_one_flag = 1;               
            cout << "first 1 is seen, leave first 1 the same " << endl;

            if(sign_mag_array[q] == '1'){
                sign_mag_array[q] = 'F';        
            }
            if(sign_mag_array[q] == '2'){
                sign_mag_array[q] = 'E';
            }
            if(sign_mag_array[q] == '3'){
                sign_mag_array[q] = 'D';
            }
            if(sign_mag_array[q] == '4'){
                sign_mag_array[q] = 'C';
            }
            if(sign_mag_array[q] == '5'){
                sign_mag_array[q] = 'B';
            }
            if(sign_mag_array[q] == '6'){
                sign_mag_array[q] = 'A';
            }
            if(sign_mag_array[q] = '7'){
                sign_mag_array[q] = '9';
            }
            if(sign_mag_array[q] == '8'){
                sign_mag_array[q] = '8';
            }
            if(sign_mag_array[q] == '9'){
                sign_mag_array[q] = 'K';
            }       
            if(sign_mag_array[q] == 'A'){
                sign_mag_array[q] = '6';
            }   
            if(sign_mag_array[q] == 'B'){
                sign_mag_array[q] = '5';
            }
            if(sign_mag_array[q] == 'C'){
                sign_mag_array[q] = '4';
            }
            if(sign_mag_array[q] == 'D'){
                sign_mag_array[q] = '3';
            }
            if(sign_mag_array[q] == 'E'){
                sign_mag_array[q] = '2';
            }
            if(sign_mag_array[q] == 'F'){
                sign_mag_array[q] = '1';
            }
        }
    }    
}
return sign_mag_array; 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T06:08:29.780

错误很简单

```
 if(sign_mag_array[q] = '7'){
            sign_mag_array[q] = '9';
        } 
```

应该

```
 if(sign_mag_array[q] == '7'){
            sign_mag_array[q] = '9';
        } 
```

和

```
 if(sign_mag_array[q] = 'C'){
            sign_mag_array[q] = '3';
        } 
```

应该

```
 if(sign_mag_array[q] == 'C'){
            sign_mag_array[q] = '3';
        } 
```

和

```
 if(sign_mag_array[q] = '9'){
            sign_mag_array[q] = '6';
        } 
```

应该

```
 if(sign_mag_array[q] == '9'){
            sign_mag_array[q] = '6';
        } 
```

等等等等。我想你明白了，

重复如此多的代码是不好的风格，并且容易产生这样的错误。您应该能够通过一点数学来大大简化和缩短此代码。

例如添加两个函数将十六进制数字转换为整数，反之亦然

```
int hex_to_int(char x)
{
   return x <= '9' ? x - '0' : 10 + (x - 'A');
}

char int_to_hex(int x)
{
   return x < 10 ? '0' + x : 'A' + (x - 10);
} 
```

现在这样的代码

```
 if(sign_mag_array[q] == '0'){
            sign_mag_array[q] = 'F';
        }
        if(sign_mag_array[q] == '1'){
            sign_mag_array[q] = 'E';
        }
        ...
        if(sign_mag_array[q] == 'E'){
            sign_mag_array[q] = '1';
        }
        if(sign_mag_array[q] == 'F'){
            sign_mag_array[q] = '0';
        } 
```

变成

```
 if (sign_mag_array[q] >= '0' && sign_mag_array[q] <= '9' || 
         sign_mag_array[q] >= 'A' && sign_mag_array[q] <= 'F')
     {
         int digit = hex_to_int(sign_mag_array[q]);
         sign_mag_array[q] = int_to_hex(15 - digit);
     } 
```

那是 48 行重复代码减少到很少。作为奖励，它还解决了 Zeta 发现的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:19:55.303

除了[约翰](https://stackoverflow.com/a/16029911/1139697)所说的之外，您的逻辑目前是错误的。看看下面的代码片段：

```
 if(sign_mag_array[q] == '1'){
        sign_mag_array[q] = 'F';        
    }
    /* ... */
    if(sign_mag_array[q] == 'F'){
        sign_mag_array[q] = '1';
    } 
```

如果`sign_mag_array[q]` 是`'1'`，您将其设置为`'F'`. 这将导致后面的条件为真，因此`sign_mag_array[q]`被重置为`'1'`.

您想要*独占*条件：

```
 if(sign_mag_array[q] == '1'){
        sign_mag_array[q] = 'F';        
    }
    else if(sign_mag_array[q] == '2'){
        sign_mag_array[q] = 'E';        
    }
    /* ... */
    else if(sign_mag_array[q] == 'F'){
        sign_mag_array[q] = '1';
    } 
```

而且由于您已经独占，您可以简单地使用 a`switch`而不是一长串 ifs：

```
switch(sign_mag_array[q]){
    case 'F': sign_mag_array[q] = '1'; break;
    case 'E': sign_mag_array[q] = '2'; break;
    /* ... */
    case '1': sign_mag_array[q] = 'F'; break;
} 
```

# c# - 具有本机 dll 的 IIS 中的多个网站使用 100% 或核心 CPU

> ID：16029488
> 
> 赞同：1
> 
> 时间：2013-04-16T05:35:08.413
> 
> 标签：c#, asp.net, iis-7, .net-2.0, firebird

我有一个使用嵌入式火鸟的应用程序。IIS 中有五个此应用程序的实例都在同一个应用程序池中。

每当池中的一个站点停止或回收时，其他四个站点都会有一个线程，每个线程都将 100% 的 CPU 用于其运行的核心（我不知道它是否是现有线程的新线程跳到 100%) 。所以有四个线程使用 100% 的四核 CPU。

我一直在使用 Process Explorer 来尝试了解更多信息。线程都有一个调用堆栈，看起来大多像这样：

```
ntoskrnl.exe!KiCpuId+0xb6
ntoskrnl.exe!KeWaitForMutexObject+0x13c0
ntoskrnl.exe!KeUpdateRunTime+0x51
ntdll.dll!NtWaitForSingleObject+0xa
KERNELBASE.dll!WaitForSingleObjectEx+0x9a
fbembed.dll!BLOB_edit+0x3430c
fbembed.dll!BLOB_edit+0x1faa6c
fbembed.dll!BLOB_edit+0x1fb5f9
fbembed.dll!isc_dsql_execute_immediate+0x1c1
MSVCR80.dll!endthreadex+0x47
MSVCR80.dll!endthreadex+0x104
KERNEL32.DLL!BaseThreadInitThunk+0x1a
ntdll.dll!RtlUserThreadStart+0x21 
```

这是在 IIS7 和 IIS8 中运行的，.NET 框架版本是 2.0

# r - 如何从 R 中的线性模型获得交叉验证的 r 平方？

> ID：16029489
> 
> 赞同：7
> 
> 时间：2013-04-16T05:35:08.810
> 
> 标签：r, linear-regression, cross-validation

我在 R 中有一个线性模型。

```
set.seed(1234)
x <- rnorm(100)
z <- rnorm(100)
y <- rnorm(100, x+z)
mydata <- data.frame(x,y,z)

fit <- lm(y ~ x + z, mydata) 
```

我想获得样本外 r 平方的估计值。我正在考虑使用某种形式的 k 折交叉验证。

*   R 中的哪些代码采用线性模型拟合并返回交叉验证的 r 平方？
*   或者是否有其他方法可以使用 R 获得交叉验证的 r-square？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T06:16:30.670

因此，接下来是对[@NPR 从 statsmethods 链接到的示例](http://www.statmethods.net/stats/regression.html)稍作修改。基本上我修改了这个例子，使它成为一个函数。

```
library(bootstrap)

k_fold_rsq <- function(lmfit, ngroup=10) {
    # assumes library(bootstrap)
    # adapted from http://www.statmethods.net/stats/regression.html
    mydata <- lmfit$model
    outcome <- names(lmfit$model)[1]
    predictors <- names(lmfit$model)[-1]

    theta.fit <- function(x,y){lsfit(x,y)}
    theta.predict <- function(fit,x){cbind(1,x)%*%fit$coef} 
    X <- as.matrix(mydata[predictors])
    y <- as.matrix(mydata[outcome]) 

    results <- crossval(X,y,theta.fit,theta.predict,ngroup=ngroup)
    raw_rsq <- cor(y, lmfit$fitted.values)**2 # raw R2 
    cv_rsq <- cor(y,results$cv.fit)**2 # cross-validated R2

    c(raw_rsq=raw_rsq, cv_rsq=cv_rsq)
} 
```

所以使用之前的数据

```
# sample data
set.seed(1234)
x <- rnorm(100)
z <- rnorm(100)
y <- rnorm(100, x+z)
mydata <- data.frame(x,y,z) 
```

我们可以拟合一个线性模型并调用交叉验证函数：

```
# fit and call function
lmfit <- lm(y ~ x + z, mydata)
k_fold_rsq(lmfit, ngroup=30) 
```

并获得生成的原始和交叉验证的 r-square：

```
 raw_rsq    cv_rsq 
0.7237907 0.7050297 
```

**警告：**虽然`raw_rsq`显然是正确的，并且`cv_rsq`在我期望的范围内，但请注意，我还没有检查过该函数的确切`crosval`作用。因此，使用风险自负，如果有人有任何反馈，我们将非常欢迎。它也仅适用于具有截距和标准主效应符号的线性模型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-04-13T08:00:00.597

我为此编写了一个函数。它也适用于名义预测变量。它只适用于`lm`对象（我认为），但可以很容易地扩展到`glm`等。

```
# from
# http://stackoverflow.com/a/16030020/3980197
# via http://www.statmethods.net/stats/regression.html

#' Calculate k fold cross validated r2
#'
#' Using k fold cross-validation, estimate the true r2 in a new sample. This is better than using adjusted r2 values.
#' @param lmfit (an lm fit) An lm fit object.
#' @param folds (whole number scalar) The number of folds to use (default 10).
#' @export
#' @examples
#' fit = lm("Petal.Length ~ Sepal.Length", data = iris)
#' MOD_k_fold_r2(fit)
MOD_k_fold_r2 = function(lmfit, folds = 10, runs = 100, seed = 1) {
  library(magrittr)

  #get data
  data = lmfit$model

  #seed
  if (!is.na(seed)) set.seed(seed)

  v_runs = sapply(1:runs, FUN = function(run) {
    #Randomly shuffle the data
    data2 = data[sample(nrow(data)), ]

    #Create n equally size folds
    folds_idx <- cut(seq(1, nrow(data2)), breaks = folds, labels = FALSE)

    #Perform n fold cross validation
    sapply(1:folds, function(i) {
      #Segement your data by fold using the which() function

      test_idx = which(folds_idx==i, arr.ind=TRUE)
      test_data = data2[test_idx, ]
      train_data = data2[-test_idx, ]

      #weights
      if ("(weights)" %in% data) {
        wtds = train_data[["(weights)"]]
      } else {
        train_data$.weights = rep(1, nrow(train_data))
      }

      #fit
      fit = lm(formula = lmfit$call$formula, data = train_data, weights = .weights)

      #predict
      preds = predict(fit, newdata = test_data)

      #correlate to get r2
      cor(preds, test_data[[1]], use = "p")^2
    }) %>%
      mean()
  })

  #return
  c("raw_r2" = summary(lmfit)$r.squared, "cv_r2" = mean(v_runs))
} 
```

测试它：

```
fit = lm("Petal.Length ~ Species", data = iris)
MOD_k_fold_r2(fit)
#>    raw_r2     cv_r2 
#> 0.9413717 0.9398156 
```

在 OP 样本上：

```
> MOD_k_fold_r2(lmfit)
#raw_r2  cv_r2 
# 0.724  0.718 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-11-09T21:10:20.803

关于 stats.stackexchange（例如，[链接 1](https://stats.stackexchange.com/questions/129937/k-fold-cross-validation-r-squared-value)和[链接 2](https://stats.stackexchange.com/questions/186396/appropriate-way-to-calculate-cross-validated-r-square)）的讨论认为应该使用均方误差 (MSE) 而不是`R^2`.

留一法交叉验证（k-folds cv 的特殊情况，其中 k=N）具有允许使用简单公式快速计算线性模型的 CV MSE 的属性。请参阅“R 中的统计学习简介”的第 5.1.2 节。以下代码应计算`lm`模型的 RMSE 值（使用同一部分的公式 5.2）：

```
sqrt(sum((residuals(fit)/(1-hatvalues(fit)))^2)/length(fit$residuals)) 
```

您可以将其与“常规”RMSE 进行比较：

```
summary(fit)$sigma 
```

或者 RMSE 从 5 倍或 10 倍交叉验证中获得，我想。

# objective-c - 究竟是什么触发了 AVPlayerItemDidPlayToEndTimeNotification？

> ID：16029490
> 
> 赞同：13
> 
> 时间：2013-04-16T05:35:08.837
> 
> 标签：objective-c, avplayer

所以我知道`AVPlayerItemDidPlayToEndTimeNotification`当电影“[播放到结束时间](http://developer.apple.com/library/mac/#documentation/AVFoundation/Reference/AVPlayerItem_Class/Reference/Reference.html#//apple_ref/c/data/AVPlayerItemDidPlayToEndTimeNotification)”时发送。

我的问题是玩家如何知道一个项目是否达到了结束时间？我正在播放由 3rd 方生成器生成的实时流。它不断更新 M3U8 并创建新的 TS 文件，这是直播应该做的。但在某些时候，我的播放器收到一个`AVPlayerItemDidPlayToEndTimeNotification`并因此调用我的退出方法并退出。3rd 方流生成器仍然运行良好。我可以重新启动播放器并观看流。由于播放项目是直播，`playerItem.duration`不是可读的持续时间数字，这使得找到结束时间对我来说更像是一种黑魔法......

真的很困惑玩家如何认为它结束了。我的猜测是可能是 TS 文件有问题，让玩家认为整个播放结束了？但如果是这样，玩家是否应该改变其状态以说某事而不是默默地完成游戏？

PS我还尝试了不同的方法，比如从 m3u8 列表中删除一个 ts，或者停止生成新的，这样玩家就可以播放当前的 m3u8 并播放过去的 ts，没有任何事情让`AVPlayerItemDidPlayToEndTimeNotification`魔法发生......

我将通知注册如下： `[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(playerItemDidReachEnd:) name:AVPlayerItemDidPlayToEndTimeNotification object:self.playerItem];`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-17T07:41:19.313

所以..事实证明问题出在第 3 方流生成器上。在流式传输 TS 内容时，它有 sth（'IV'，如[Initialiation Vector](http://en.wikipedia.org/wiki/Initialization_vector)）错误，所以在某些时候 AVPlayer 读取了 TS 上的某个位置，然后认为电影已经完成，因此发送`AVPlayerItemDidPlayToEndTimeNotification`......不是真正的目标-C 问题我猜。

但我的问题是在什么条件下`AVPlayer`发送`AVPlayerItemDidPlayToEndTimeNotification`仍然未知。如果有人知道这方面的任何细节，请随时在此处更新。谢谢！

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-09-13T14:16:36.827

最后一个参数应该是 self.player 而不是 playerItem

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(playerItemDidReachEnd:) name:AVPlayerItemDidPlayToEndTimeNotification object:self.playerItem]; 
```

# android - ListView - 内存不足异常

> ID：16029494
> 
> 赞同：0
> 
> 时间：2013-04-16T05:35:30.313
> 
> 标签：android, listview, gallery, pulse

我正在构建一种 Pulse 类型的 UI。为此，我使用`Gallery`inside `ListView`。但是，我遇到了一个奇怪的问题，当我滚动浏览列表视图时，我的应用程序中的内存分配逐渐从 9 MB 增加到 64 MB，直到它最终崩溃。

**什么不起作用：**

*   我怀疑这是否是因为我使用的位图。因此，我在画廊内没有图像的情况下对其进行了测试。我还使用[了 Universal Image Loader](https://github.com/nostra13/Android-Universal-Image-Loader)库。然而，一切都没有改变。

*   我在 SO 中阅读了类似的问题，禁用`scrollingCache`listView 可能会有所帮助。但是，仍然没有效果。

**什么有效：**

*   `ViewHolder`使用,设计高效的适配器`getTag()`，`setTag()`解决了内存问题。但是，它带来了一个奇怪的问题，listView 有时会显示空行或重复行，从而在 UI 中显示错误的数据。我该如何解决这个问题？有没有更好的方法来解决这个问题？

**ListViewAdapter.java**

```
public class ListViewAdapter extends BaseAdapter {
    String user_locale;
    Context context;
    LayoutInflater inflater;
    AssetsAdapter assestsAdapter;
    List<Category> categoryList;
    List<BaseAssets> baseAssetList;
    AssetsTable assetTable;
    ViewHolder viewHolder;

public ListViewAdapter(Context context, List<Category> categoryList) {
    this.context = context;
    user_locale = Universal.getCurrentLanguage(context);
    inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    this.categoryList = categoryList;
    assetTable = new AssetsTable(context);
    viewHolder = new ViewHolder();
}

public int getCount() {
    return categoryList.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public View getView(final int position, View convertView, ViewGroup parent) {
    String catID = categoryList.get(position).catID;

    if (convertView == null)
    {
        convertView = inflater.inflate(R.layout.category_list_item, parent, false);
        viewHolder.categoryTitle = (TextView) convertView.findViewById(R.id.category_title);
        viewHolder.gallery = (Gallery) convertView.findViewById(R.id.gallery);
        convertView.setTag(viewHolder);
    } else
        viewHolder = (ViewHolder) convertView.getTag();

    assetTable = new AssetsTable(context);
    int count = assetTable.getCountOfParticularCategory(catID);

    initializeGallery(catID);

    String text = categoryList.get(position).catName + "  (" + count + ")  ";
    viewHolder.categoryTitle.setText(text);
    return convertView;

}

public void initializeGallery(String catID) {
    assetTable = new AssetsTable(context);
    baseAssetList = assetTable.getAllBaseAssets(catID);
    assestsAdapter = new AssetsAdapter(context, baseAssetList);
    adjustGalleryHeight();
    viewHolder.gallery.setAdapter(assestsAdapter);
}

public void adjustGalleryHeight() {
    boolean isPortrait = false;
    final String TAG_PORTRAIT = "portrait";

    for (BaseAssets b : baseAssetList)
    {
        if (b.thumbOrientation.equals(TAG_PORTRAIT))
            isPortrait = true;
    }

    final float scale = context.getResources().getDisplayMetrics().density;
    if (isPortrait)
    {
        RelativeLayout.LayoutParams params1 = (RelativeLayout.LayoutParams) viewHolder.gallery.getLayoutParams();
        params1.height = (int) (350 * scale);
        viewHolder.gallery.setLayoutParams(params1);
    } else
    {
        RelativeLayout.LayoutParams params1 = (RelativeLayout.LayoutParams) viewHolder.gallery.getLayoutParams();
        params1.height = (int) (280 * scale);
        viewHolder.gallery.setLayoutParams(params1);
    }
}

class ViewHolder {
    TextView categoryTitle;
    Gallery gallery;

} 
```

}

**GalleryAdapter.java：**

```
public class GalleryAdapter extends BaseAdapter {

final String TAG_PORTRAIT = "portrait";
LayoutInflater inflater;
ImageLoader imageLoader;
DisplayImageOptions options;
Context context;
List<BaseAssets> baseAssetsList;

Gallery.LayoutParams params;

public GalleryAdapter(Context context, List<BaseAssets> baseAssetsList) {
    imageLoader = ImageLoader.getInstance();
    options = new DisplayImageOptions.Builder().cacheOnDisc().imageScaleType(ImageScaleType.EXACTLY).bitmapConfig(Bitmap.Config.RGB_565).cacheInMemory().showStubImage(
            R.drawable.no_preview).build();
    this.context = context;
    this.baseAssetsList = baseAssetsList;
    inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

}

public int getCount() {
    return baseAssetsList.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public View getView(final int position, View convertView, ViewGroup parent) {

    ViewHolder viewHolder;
    if (convertView == null)
    {
        viewHolder = new ViewHolder();
        convertView = inflater.inflate(R.layout.gallery_list_item, parent, false);
        viewHolder.galleryWrapper = (RelativeLayout) convertView.findViewById(R.id.gallery_wrapper);
        viewHolder.downloadThumbnail = (ImageView) convertView.findViewById(R.id.thumbnailDownloadStatus);
        viewHolder.assetImage = (ImageView) convertView.findViewById(R.id.thumbnail_image);
        viewHolder.assetName = (TextView) convertView.findViewById(R.id.thumbnail_name);
        convertView.setTag(viewHolder);
    } else
        viewHolder = (ViewHolder) convertView.getTag();

    final float scale = context.getResources().getDisplayMetrics().density;

    if (baseAssetsList.get(position).thumbOrientation.equals(TAG_PORTRAIT))
    {

        params = new Gallery.LayoutParams((int) (166 * scale), (int) (245 * scale));
        viewHolder.galleryWrapper.setLayoutParams(params);

    } else
    {
        params = new Gallery.LayoutParams((int) (238 * scale), (int) (191 * scale));
        viewHolder.galleryWrapper.setLayoutParams(params);
    }

    viewHolder.assetName.setText(baseAssetsList.get(position).contentTitle);
    String raw_url = baseAssetsList.get(position).thumbnail;
    String correctUrl = correctUrl(raw_url);
    imageLoader.displayImage(correctUrl, viewHolder.assetImage, options);

    convertView.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            Intent intent = new Intent(context, DownloadActivity.class);
            intent.putExtra(Universal.ASSET_TYPE, baseAssetsList.get(position).contentType);
            intent.putExtra(Universal.ASSET_TITLE, baseAssetsList.get(position).contentTitle);
            intent.putExtra(Universal.ASSET_URL, baseAssetsList.get(position).path);
            intent.putExtra(Universal.ASSET_LARGE_THUMBNAIL, baseAssetsList.get(position).thumbnail);

            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);

            context.startActivity(intent);

        }
    });

    return convertView;
}

public String correctUrl(String raw_url) {
    String corrected_url = raw_url;
    if (!raw_url.contains("http:/"))
        corrected_url = ("http:/" + raw_url);
    return corrected_url;
}

class ViewHolder {
    RelativeLayout galleryWrapper;
    ImageView assetImage;
    ImageView downloadThumbnail;
    TextView assetName;

} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:51:33.907

在你的`ListViewAdapter`你没有打电话

```
viewHolder = new ViewHolder(); 
```

在什么`getView()`时候。`convertView``null`

核实！这可能是问题所在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:46:35.990

尝试更改“viewHolder = new ViewHolder();” 如果 convertview 为空，则在 Adapter 的 getview 内；

喜欢 ：

```
public View getView(final int position, View convertView, ViewGroup parent) {
String catID = categoryList.get(position).catID;

if (convertView == null)
{
    viewHolder = new ViewHolder(); //Add this line. Otherwise u are sharing the same instance for other views.
    convertView = inflater.inflate(R.layout.category_list_item, parent, false);
    viewHolder.categoryTitle = (TextView) convertView.findViewById(R.id.category_title);
    viewHolder.gallery = (Gallery) convertView.findViewById(R.id.gallery);
    convertView.setTag(viewHolder);
} else
    viewHolder = (ViewHolder) convertView.getTag();

assetTable = new AssetsTable(context);
int count = assetTable.getCountOfParticularCategory(catID);

initializeGallery(catID);

String text = categoryList.get(position).catName + "  (" + count + ")  ";
viewHolder.categoryTitle.setText(text);
return convertView; 
```

}

# c - 每秒使用控制信号打印 32 个不同的 32x32 矩阵

> ID：16029496
> 
> 赞同：-1
> 
> 时间：2013-04-16T05:35:34.847
> 
> 标签：c

我正在尝试实现一个控制信号，它为矩阵的每个元素添加一个值，并随着变化打印整个矩阵。

基本上，我通过在矩阵的第一个元素 ( `matrix[0][0]`) 中添加 1 来模拟这一点，然后控制信号将在矩阵的每个元素中添加 1，然后打印它。

问题是，它应该每秒打印 32 个矩阵，并进行 32 次更改。如下所示：

```
1 0 0
0 0 0
0 0 0

1 1 0
0 0 0
0 0 0

1 1 1
0 0 0
0 0 0 
```

... 等等。

首先，我尝试使用 3x3 矩阵，它每秒正确打印 9 个矩阵。但是当我尝试将其更改为 32x32 时，打印将近 10 个矩阵需要 3-4 秒，因此速度要慢得多。

这是我的代码：

```
#include <signal.h>
#include <stdio.h>
#include <stdlib.h>

int matrix[3][3] = {0};
int row=0;
int col=0;
int i, j, k, l;
int seccount = 0;

void value_changer();
static void catch_signal(int signal)
{
        for(i=0; i<3; i++)
        {
                for(j=0; j<3; j++)
                {
                       if(i==0 && j==0)
                       {
                              //continue;
                              for(k=0; k<3; k++)
                              {
                                      for(l=0; l<3; l++)
                                      {
                                              printf("%d ", matrix[k][l]);
                                      }
                                      printf("\n");
                               }
                             printf("\n");

                       }
                     else
                      {
                             matrix[i][j] += 1;
                             for(k=0; k<3; k++)
                             {
                                    for(l=0; l<3; l++)
                                    {
                                            printf("%d ", matrix[k][l]);
                                    }
                                    printf("\n");
                            }
                            printf("\n");
                    }
            }
    }
}

void value_changer()
{
       matrix[0][0] += 1;
       raise(SIGINT);
       printf("***************** Seconds: %d ********************\n",seccount++);
 }

int main()
{
     //value_changer();
    if (signal(SIGINT, catch_signal) == SIG_ERR)
    {
            fputs("An error occurred while setting a signal handler.\n", stderr);
            return EXIT_FAILURE;
    }

    puts("Raising the signal.");

    while(1)
    {
            //raise(SIGINT);
            value_changer();
            sleep(1);
    }

    return 0;
} 
```

首先，我这样做是正确的还是遗漏了什么？第二，这个控制信号是否正确？第三，是否有任何其他（更好和更有效）的方式来执行上述操作？

注意：给定程序是每秒 3x3 矩阵和 9 个矩阵，带有控制信号。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:42:57.107

输出到终端很慢。我建议您在内存中创建数据并执行单个输出操作。我还建议您在信号处理程序*之外构建数据，并且只在那里进行输出。*

* * *

```
char buffer[4096];

static void catch_signal(int)
{
    printf(buffer);
}

void value_changer(void)
{
    char temp[32];

    /* "Reset" buffer */
    buffer[0] = '\0';

    /* Do whatever "output" operations needed */
    for (int i = 0; i < sizeof(matrix) / sizeof(matrix[0]); i++)
    {
        for (int j = 0; j < sizeof(matrix[i]) / sizeof(matrix[i][0]); j++)
        {
            snprintf(temp, sizeof(temp) - 1, "%d ", matrix[i][j]);
            strcat(buffer, temp);
        }
        strcat(buffer, "\n");
    }

    /* Do the other stuff */
    /* ... */
} 
```

# php - 注意选择选项中的未定义索引

> ID：16029500
> 
> 赞同：-2
> 
> 时间：2013-04-16T05:35:57.440
> 
> 标签：php, select, indexing, undefined, option

```
<?php
$sel1="";
$sel2="";
$suc="";
$male="";
$female="";
$selected_radio="";
if(isset($_POST['save']))
{
    $e=0;
    if(isset($_POST['sport']))
    {
        $select_sport=$_POST['sport'];
        if($_POST['sport']=="")
        {
            $sel1="<--Select The Game-->";
            $e=1;
        }
    }
    if(isset($_POST['gender']))
    {
        $selected_radio = $_POST['gender'];
    }
    else
    {
        $sel2="<--Select Your Gender-->";
        $e=1;
    }
if($e==0)
{
$suc="Success";
$male ="";
$female ="";
}
}
?>
<body>
<select name="sport">
<option value="">
<option value="cri" <?php if($select_sport=='cri') { echo "selected"; } ?>> CRICKET </option>
<option value="foot" <?php if($select_sport=='foot') { echo "selected"; }?>> FOOTBALL </option>
</select> 
```

**当我在浏览器上打开这个程序时，错误“未定义的索引”出现在选择选项（下拉框）中。

但是当我点击保存按钮时，错误消失了。当我不选择任何运动时，它工作得很好，它显示错误消息。**

***所以请帮助我找到解决方案...***

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-16T09:09:51.537

如果未设置，`$select_sport`则未定义变量。`$_POST['sport']`

要修复您的代码，请在开头包含此行：

$select_sport = '';

# asp.net-mvc-4 - 需要帮助将 json 数据绑定到控制器操作方法 - 我很难过

> ID：16029502
> 
> 赞同：3
> 
> 时间：2013-04-16T05:36:03.840
> 
> 标签：asp.net-mvc-4

我错过了一些东西，我需要一些帮助。我已经黔驴技穷了。一切看起来都正确，但我在控制器操作方法中获得了模型的所有空值。

任何输入将不胜感激。谢谢！

我的控制器上有以下操作方法...

```
 [HttpPost]
    public JsonResult RunReport(ReportSubmitModel  model)            
    {

    } 
```

我有以下模型类...

```
 public class ReportSubmitModel
   {
    public string[] RequiredParameters { get; set; }

    public string[] Companies { get; set; }

    public string[] AssetTypes { get; set; }

    public string[] ExpenseStatuses { get; set; }

    public string StartDate { get; set; }

    public string EndDate { get; set; }

    public string ReportGuid { get; set; }
   } 
```

通过调用 JSON.stringify() 并将其输出到控制台，这是我的 Json 的样子。

```
[{"ReportGuid":"1011e87e-074b-4a40-bea6-ed271ab1e7ca"},{"Companies":["434b5d92-c41e-40b7-8490-11ed0047b232","966b8291-ff4c-4254-a475-cdc1277d014d","775ce236-a17f-41f0-b254-415163217181","129de43b-6fb1-475e-a6d2-28143750c973","fec4475a-e992-4560-b9b1-efd486ad10ca"]},{"AssetTypes":["192a3095-b33f-474f-af02-557ad5cb69f6","192a3095-b33f-474f-af02-557ad5cb69f6","34e3b858-a682-4936-8e43-c663a4df2cd2"]},{"RequiredParameters":["C","AT","FS","CS","SCH"]},{"StartDate":"1/1/2012"},{"EndDate":"1/1/2013"},{"ExpenseStatuses":["1","2"]}] 
```

这是我的ajax调用的样子......

```
.ajax({
            type: "POST",
            data: JSON.stringify(postInfo),
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            url: "/Home/RunReport",
            success: loadReport}); 
```

更新： postInfo 是我将值推送到的数组。

例如 postInfo.push({ReportGuid: "guidvalue"});

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T05:47:32.203

这是因为所有这些额外的大括号。我不知道您是如何构建 javascript 对象的，但它不应该与`{`. 有了这些，每个项目都被视为对象，因此您实际上是将一个集合对象传递给您的控制器方法。当您的对象被字符串化时，它应该看起来像这样：

```
{"ReportGuid": "1011e87e-074b-4a40-bea6-ed271ab1e7ca" ,
"Companies":["434b5d92-c41e-40b7-8490-11ed0047b232",
    "966b8291-ff4c-4254-a475-cdc1277d014d",
    "775ce236-a17f-41f0-b254-415163217181"] 
```

请注意，我删除`{`了字段之前和之后`Companies`。实际上你可以像这样在js中构建它（我删除了其他部分以简化示例）：

```
var postInfo = 
   {"ReportGuid": "1011e87e-074b-4a40-bea6-ed271ab1e7ca" ,
    "Companies":["434b5d92-c41e-40b7-8490-11ed0047b232",
        "966b8291-ff4c-4254-a475-cdc1277d014d"]}; 
```

# file - 使用 Lua 创建新文件夹和文件

> ID：16029504
> 
> 赞同：2
> 
> 时间：2013-04-16T05:36:06.887
> 
> 标签：file, file-io, lua, directory, execute

我正在编写一个供个人使用的 Lua 5.1 脚本，旨在通过 Lua 解释器作为独立程序运行。我需要包含一个将创建一个新子文件夹的函数（其中“mainfolder”包含脚本和一个名为“season”的文件夹，新文件夹被创建为“season”的子文件夹），然后编写返回的文本字符串新文件夹中的新文本文件的另一个功能。这是在 Windows 8 上。由于我通常不擅长解释事情，这里有一些伪代码来说明：

```
function makeFiles()
    createfolder( ".\season\week1" )
    newFile = createFile( ".\season\week1\game.txt" )
    newFile:write( funcThatReturnsAString() )
    newFile:close()
end 
```

我知道如何打开和写入与脚本相同的文件夹中的现有文件，但我不知道如何 1）创建子文件夹，以及 2）创建一个新文件。我该怎么做呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T05:56:28.427

要创建文件夹，您可以使用`os.execute()`调用。对于文件写入，一个简单`io.open()`的工作就可以完成：

```
function makeFiles()
    os.execute( "mkdir season\\week1" )
    newFile = io.open( "season\\week1\\game.txt", "w+" )
    newFile:write( funcThatReturnsAString() )
    newFile:close()
end 
```

* * *

## 编辑

在 Windows 中，您需要`\\`对路径使用双反斜杠 ( )。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-16T08:45:41.583

`os.execute`有效，但应尽可能避免，因为它不可移植。[LuaFileSystem](http://keplerproject.github.io/luafilesystem/)库就是为此目的而存在的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-04T10:47:10.953

```
function myCommandFunction(playerid, text)
    if(string.sub(text, 1, 5) == "/save") then
        local aName = getPlayerName(playerid)
        os.execute( "mkdir filterscripts\\account" )
        file = io.open(string.format("filterscripts\\account\\%s.txt", aName), "w")
        file:write(string.format("Name: %s", aName))
        file:close()
    end
end
registerEvent("myCommandFunction", "onPlayerCommand") 
```

[基本：为游戏创建帐户（示例）](https://i.stack.imgur.com/6OSVR.png)

# javascript - Firebase 和 Trigger.io 用户身份验证/登录

> ID：16029508
> 
> 赞同：1
> 
> 时间：2013-04-16T05:36:18.863
> 
> 标签：javascript, trigger.io, firebase

所以我已经有一个 trigger.io 混合应用程序，具有适用于 android 和 iOS 的 facebook 授权：

```
fbLogin: function() {
    forge.facebook.authorize(function (success) {
        forge.facebook.api('me', function (data) {
            forge.logging.log(data);
        });
    });
} 
```

`success`是一个 JSON 对象，它`access_token`是`data`一个巨大的 JSON 对象，facebook 向我发送了其中的所有用户信息。

我的问题是，有了这两个对象，我如何使用 firebase 的 facebook api 来授权和登录用户？我希望能够主要使用firebase的会话，这样用户每次离开应用程序时都不必登录。

# android - Android Preferences - 来自数据库的 ListPreference 不起作用

> ID：16029509
> 
> 赞同：1
> 
> 时间：2013-04-16T05:36:24.983
> 
> 标签：android, android-preferences

我正在努力将首选项添加到我的应用程序中，一切都很顺利，直到我尝试从数据库中获取一个数组以加载到 ListPreference 中。我正在使用两个单独的数组，on 用于条目，on 用于 entryValues。一切都很好，直到我尝试将 CharSequence[] 传递给 setEntries 并设置 entryValues 函数。

这是代码：

```
public class EditPreferences extends PreferenceActivity {
private SQLiteDatabase db;
private TimesheetDatabaseHelper dbHelp = new TimesheetDatabaseHelper(this);

@SuppressWarnings("deprecation")
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    addPreferencesFromResource(R.xml.preference_activity);

    ListPreference projectsList = (ListPreference)findPreference("@string/perfProjectKey");
    /** Open the database table for reading and writing */
    db = dbHelp.getReadableDatabase();
    String getProjects = "select _id, name from projects;";

    Cursor cu = db.rawQuery(getProjects, null);
    Log.d("Database call:", "Success");
    Log.d("Database Rows Returned:", String.valueOf(cu.getCount()));

    List<String> entries = new ArrayList<String>();
    List<String> entryValues = new ArrayList<String>();

    if(cu != null && cu.getCount() > 0){
        cu.moveToFirst();

        do {
            entries.add(cu.getString(1));
            entryValues.add(Integer.toString(cu.getInt(0)));
        } while (cu.moveToNext());

    }
    cu.close();
    db.close();
    Log.d("Out of the loop", "and probably closed");

    final CharSequence[] entryCharSeq = entries.toArray(new CharSequence[entries.size()]);
    final CharSequence[] entryValsChar = entryValues.toArray(new CharSequence[entryValues.size()]);
    Log.d("Past the cast", "maybe we work?");
    Log.d("Entries size:", Integer.toString(entries.size()));
    Log.d("Entry Values size:", Integer.toString(entryValues.size()));

    projectsList.setEntries(entryCharSeq);
    Log.d("We got here:", "TRUE!");
    projectsList.setEntryValues(entryValsChar);

} 
```

}

根据堆栈跟踪，我可以在必要时发布，它是第 55 行的 nullPointerException，第 55 行是

```
projectsList.setEntries(entryCharSeq); 
```

我不知道怎么了。希望有人可以提供帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:42:01.223

改变

```
ListPreference projectsList = (ListPreference)findPreference("@string/perfProjectKey"); 
```

至

```
ListPreference projectsList = (ListPreference)findPreference(getString(R.string.perfProjectKey)); 
```

# c# - System.Threading.ExecutionContext 没有实现接口 System.IDisposable

> ID：16029512
> 
> 赞同：2
> 
> 时间：2013-04-16T05:36:35.003
> 
> 标签：c#, mono, task, dataflow

在我们的应用程序中，我们目前正在`System.Threading.Tasks.Dataflow`管理所有通信。但是现在每次我们在任何自定义中使用我们的网络客户端/服务器类时，`SynchronizationContext`都会出现异常。

> *“System.Threading.ExecutionContext 没有实现接口 System.IDisposable”。*

我不明白这怎么可能。我们从不改变或玩弄任何线程执行上下文。我们所做的最接近它的是

```
 SynchronizationContext.SetSynchronizationContext (new GtkSynchronizationContext ());
    Scheduler = TaskScheduler.FromCurrentSynchronizationContext ();
    Factory = new TaskFactory (Scheduler); 
```

我不明白为什么自定义`SynchronizationContext`会使 DataFlow 像这样崩溃。以下是导致 DataFlow 异常的应用程序的输出。

```
madrang@Qosmio-X770:~$ '/home/madrang/WorkSpace/linsft/Source/Invensys/Build/runbuild' 
Engine Initialize started
==============================================================================
Application Information
------------------------------------------------------------------------------
Program      : /home/madrang/WorkSpace/linsft/Source/Invensys/Build/Bin/Linsft.Engine.dll
Time         : 14/04/2013 04:46:02
User         : madrang
Computer     : Qosmio-X770
OS           : Linux64
Processors   : 8
Working Set  : 0
Framework    : 4.0.30319.1
Run Time     : 00:00:01.6015700
------------------------------------------------------------------------------
Loaded Modules
------------------------------------------------------------------------------
/usr/bin/mono||0
/usr/bin/mono||3031040
/usr/lib/mono/gac/Mono.Posix/4.0.0.0__0738eb9f132ed756/Mono.Posix.dll|4.0.0.0|188416
/usr/lib/mono/gac/System.Runtime.Serialization/3.0.0.0__b77a5c561934e089/System.Runtime.Serialization.dll|3.0.0.0|196608
/usr/lib/mono/gac/System.ServiceModel/3.0.0.0__b77a5c561934e089/System.ServiceModel.dll|3.0.0.0|1396736
/usr/lib/mono/gac/System/4.0.0.0__b77a5c561934e089/System.dll|4.0.0.0|1748992
/usr/lib/mono/gac/System.Xml/4.0.0.0__b77a5c561934e089/System.Xml.dll|4.0.0.0|1273856
/usr/lib/mono/gac/System.Core/4.0.0.0__b77a5c561934e089/System.Core.dll|4.0.0.0|798720
/home/madrang/WorkSpace/linsft/Source/Invensys/Build/Bin/NLog.dll|2.0.0.0|319488
/home/madrang/WorkSpace/linsft/Source/Invensys/Build/Bin/Mono.Addins.dll|1.0.0.0|237568
/home/madrang/WorkSpace/linsft/Source/Invensys/Build/Bin/Mono.Addins.Setup.dll|1.0.0.0|131072
/lib/x86_64-linux-gnu/libnss_files-2.17.so||49152
/lib/x86_64-linux-gnu/libnss_nis-2.17.so||45056
/lib/x86_64-linux-gnu/libnsl-2.17.so||94208
/lib/x86_64-linux-gnu/libnss_compat-2.17.so||32768
/usr/lib/mono/4.0/mscorlib.dll|4.0.0.0|2867200
/usr/lib/locale/locale-archive||2920448
/lib/x86_64-linux-gnu/libc-2.17.so||1826816
/lib/x86_64-linux-gnu/libpthread-2.17.so||98304
/lib/x86_64-linux-gnu/libdl-2.17.so||12288
/lib/x86_64-linux-gnu/librt-2.17.so||28672
/lib/x86_64-linux-gnu/libm-2.17.so||1060864
/lib/x86_64-linux-gnu/ld-2.17.so||143360
/usr/lib/mono/gac/System.Configuration/4.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll|4.0.0.0|126976
/home/madrang/WorkSpace/linsft/Source/Invensys/Build/Bin/Linsft.Engine.dll|0.5.4849.6350|36864
/home/madrang/WorkSpace/linsft/Source/Invensys/Build/Invensys.exe|1.0.4845.22748|8192
/run/shm/mono.8910||4096
------------------------------------------------------------------------------
Loaded Assembly
------------------------------------------------------------------------------
Mono.Posix, 4.0.0.0
System.Runtime.Serialization, 3.0.0.0
System.ServiceModel, 3.0.0.0
System, 4.0.0.0
System.Configuration, 4.0.0.0
System.Xml, 4.0.0.0
System.Core, 4.0.0.0
NLog, 2.0.0.0
Mono.Addins, 1.0.0.0
Mono.Addins.Setup, 1.0.0.0
Linsft.Engine, 0.5.4849.6350
Invensys, 1.0.4845.22748
mscorlib, 4.0.0.0
==============================================================================
Registed new scheduler: ThreadPool
Addin Loaded: Linsft.Engine
Assembly Loaded ICSharpCode.SharpZipLib, 2.84.0.0
Assembly Loaded Mono.Addins.CecilReflector, 1.0.0.0
Assembly Loaded Mono.CSharp, 4.0.0.0
Assembly Loaded NLog.Extended, 2.0.0.0
Assembly Loaded xunit, 1.9.1.1600
Assembly Loaded xunit.extensions, 1.9.1.1600
Assembly Loaded xunit.runner.utility, 1.9.1.1600
Addin Loaded: Linsft.Invensys
Starting new task in default scheduler: Linsft.CommandExtensionNode: Id=Linsft.Core.IdleScheduler.Initialize, Linsft.Core.IdleScheduler.Initialize()
Assembly Loaded Linsft.Core, 1.0.4850.6090
Assembly Loaded Linsft.Configuration, 0.0.0.1
Assembly Loaded Linsft.Network, 0.0.0.1
Assembly Loaded Linsft.Storage, 0.0.0.1
Assembly Loaded Linsft.Validator.Base, 1.0.0.22749
Assembly Loaded System.Threading.Tasks.Dataflow, 0.0.4303.21337
Assembly Loaded Ionic.Zip.Reduced, 1.9.1.8
Assembly Loaded Linsft.Helper, 1.0.4845.22748
Addin Loaded: Linsft.Core
Idle Scheduler Initialize
Idle Scheduler Started
Registed new scheduler: Idle
Starting pending task for: Idle
Scheduler Idle loaded, unlock Initialize
Assembly Loaded Mono.Security, 4.0.0.0
Starting new task in default scheduler: Linsft.CommandExtensionNode: Id=Linsft.Core.Gui.InitializeGtk, Linsft.Core.Gui.GtkScheduler.Initialize()
Addin Loaded: Linsft.Core.Gui
Assembly Loaded atk-sharp, 3.0.0.0
Assembly Loaded cairo-sharp, 1.10.0.0
Assembly Loaded gdk-sharp, 3.0.0.0
Assembly Loaded gio-sharp, 3.0.0.0
Assembly Loaded glib-sharp, 3.0.0.0
Assembly Loaded gtk-dotnet, 3.0.0.0
Assembly Loaded gtk-sharp, 3.0.0.0
Assembly Loaded pango-sharp, 3.0.0.0
Assembly Loaded Linsft.Core.Gui, 1.0.4850.6091
Gtk Scheduler Initialize
Scheduler not loaded, Will be started later: Linsft.CommandExtensionNode: Id=Linsft.Core.Gui.ShowMainWindow, Scheduler=Gtk, Linsft.Core.Gui.MainWindow.ShowWindow()
Gtk Scheduler Started
Starting new task in default scheduler: Linsft.CommandExtensionNode: Id=Linsft.Commander.Initialize, Linsft.Commander.Terminal.Initialize()
Addin Loaded: Linsft.Commander
Assembly Loaded Linsft.Commander, 1.0.4852.8576
Telnet server started: [ServicePoint: Address=tcp://127.0.0.1:8090/, ConnectionName=tcp, ConnectTimeout=15000, Port=8090]
Registed new scheduler: Gtk
Starting pending task for: Gtk
Building ExtendedWindow
Completed Building ExtendedWindow
Building MainWindow
Linsft.Core Opening Configuration Storage
Opening Container, Class=Linsft.Core.Configuration, Method=.cctor
Linsft.Core Configuration Loaded Sucessfully
MainWindow Width=800, Height=600
MainWindow X=65, Y=24
Completed Building MainWindow
Engine Initialize completed
TcpConnectionListener Connection Request: [ServicePoint: Address=tcp://127.0.0.1:8090/, ConnectionName=tcp, ConnectTimeout=15000, Port=8090]
Telnet client connected: [ServicePoint: Address=tcp://127.0.0.1:43544/, ConnectionName=tcp, ConnectTimeout=15000, Port=43544]
TcpConnectionListener received a new connection: [ServicePoint: Address=tcp://127.0.0.1:43544/, ConnectionName=tcp, ConnectTimeout=15000, Port=43544]
System.Threading.ExecutionContext doesn't implement interface System.IDisposable

Stacktrace:

  at System.Threading.Tasks.Dataflow.Internal.Common.CreateCopyAndRun (System.Threading.ExecutionContext,System.Threading.ContextCallback,object) <0x00071>
  at System.Threading.Tasks.Dataflow.Internal.Common.InvokeCallbackWithContext (System.Threading.ExecutionContext,System.Threading.ContextCallback,object) <0x0003b>
  at System.Threading.Tasks.Dataflow.Internal.TargetCore`1.ProcessMessagesLoopWithExecutionContext () <0x0011f>
  at System.Threading.Tasks.Dataflow.Internal.TargetCore`1.<ProcessAsyncIfNecessary_Slow>b__3 (object) <0x00033>
  at System.Threading.Tasks.TaskActionInvoker/ActionObjectInvoke.Invoke (System.Threading.Tasks.Task,object,System.Threading.Tasks.Task) <0x00023>
  at System.Threading.Tasks.Task.InnerInvoke () <0x0005c>
  at System.Threading.Tasks.Task.ThreadStart () <0x001cf>
  at System.Threading.Tasks.Task.Execute () <0x0000f>
  at System.Threading.Tasks.TpScheduler.TaskExecuterCallback (object) <0x0004b>
  at (wrapper runtime-invoke) <Module>.runtime_invoke_void__this___object (object,intptr,intptr,intptr) <0xffffffff>

Native stacktrace:

    mono() [0x4961e9]
    /lib/x86_64-linux-gnu/libpthread.so.0(+0xfbd0) [0x7fbd34914bd0]
    /lib/x86_64-linux-gnu/libc.so.6(gsignal+0x37) [0x7fbd34574037]
    /lib/x86_64-linux-gnu/libc.so.6(abort+0x148) [0x7fbd34577698]
    mono() [0x5cdd7f]
    mono() [0x5cde02]
    mono() [0x497eaf]
    mono() [0x4985c4]
    [0x41751bba]

Debug info from gdb:

Could not attach to process.  If your uid matches the uid of the target
process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try
again as the root user.  For more details, see /etc/sysctl.d/10-ptrace.conf
ptrace: Operation not permitted.
No threads.

=================================================================
Got a SIGABRT while executing native code. This usually indicates
a fatal error in the mono runtime or one of the native libraries 
used by your application.
=================================================================

/home/madrang/WorkSpace/linsft/Source/Invensys/Build/invensys: line 5:  8910 Aborted                 (core dumped) mono "$INVENSYSDIR/Invensys.exe" 
```

在单声道上运行

```
madrang@Qosmio-X770:~$ mono --version
Mono JIT compiler version 2.10.8.1 (Debian 2.10.8.1-5ubuntu1)
Copyright (C) 2002-2011 Novell, Inc, Xamarin, Inc and Contributors. www.mono-project.com
    TLS:           __thread
    SIGSEGV:       altstack
    Notifications: epoll
    Architecture:  amd64
    Disabled:      none
    Misc:          softdebug 
    LLVM:          supported, not enabled.
    GC:            Included Boehm (with typed GC and Parallel Mark) 
```

欢迎任何想法，因为我现在开始第二周阅读文档和代码，试图找到解决方案。

谢谢， 马德朗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:08:24.413

应该等待......我的一位同事找到了一个非常简单的解决方法。

```
madrang@Qosmio-X770:~$ /opt/mono-3/bin/mono --version
Mono JIT compiler version 3.0.7 (tarball Sat Mar 30 14:45:04 UTC 2013)
Copyright (C) 2002-2012 Novell, Inc, Xamarin Inc and Contributors. www.mono-project.com
    TLS:           __thread
    SIGSEGV:       altstack
    Notifications: epoll
    Architecture:  amd64
    Disabled:      none
    Misc:          softdebug 
    LLVM:          supported, not enabled.
    GC:            Included Boehm (with typed GC and Parallel Mark) 
```

现在在 mono 3 下运行，它工作正常。最新的 mono 2 版本似乎是一个错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:09:28.157

我怀疑您以某种方式引用了 .NET 4.0 之前的 ExecutionContext 版本。您会注意到，在 .NET 4.0 之前，ExecutionContext 没有实现 IDisposable：

[http://msdn.microsoft.com/en-us/library/system.threading.executioncontext(v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/system.threading.executioncontext(v=vs.90).aspx)

上面它向您展示了使用 .NET 4.0，但是您是否可以想到如何`ExecutionContext`在您的应用程序中引入旧版本？您是否有机会使用 .NET 3.5 反向移植的 System.Threading.dll？响应式扩展？

我不是单声道用户，但 Mono 的`ExecutionContext`实现`IDisposable`是否适用于 .NET 4.0（我在哪里检查）？看这个： [https ://github.com/mono/mono/blob/master/mcs/class/corlib/System.Threading/ExecutionContext.cs](https://github.com/mono/mono/blob/master/mcs/class/corlib/System.Threading/ExecutionContext.cs)

它表明确实如此，但我不知道您正在使用的当前版本的单声道是否具有该代码。

# jquery - 选中和取消选中输入仅对 Jquery 起作用一次

> ID：16029513
> 
> 赞同：5
> 
> 时间：2013-04-16T05:36:49.297
> 
> 标签：jquery, checkbox

我正在尝试通过单击表头中的一个复选框来选中/取消选中所有复选框。首先单击将属性添加到输入，然后取消选中。它只工作一次。在 Firefox 和 Chrome 上进行测试。А属性不断变化，但这没有显示在页面中。我只在浏览器调试器中看到它。

```
<table>
    <thead>
        <tr>
            <th><input type="checkbox" /></th>
            <th>#</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><input type="checkbox" /></td>
            <td>1</td>
        </tr>
        <tr>
            <td><input type="checkbox" /></td>
            <td>2</td>
        </tr>
        <tr>
            <td><input type="checkbox" /></td>
            <td>3</td>
        </tr>
    </tbody>
</table>

<script type="text/javascript">
$(function () {
    $('th input[type="checkbox"]').click(function(){
        if ( $(this).is(':checked') )
            $('td input[type="checkbox"]').attr('checked', 'checked');
        else
            // $('td input[type="checkbox"]').attr('checked', false);
            $('td input[type="checkbox"]').removeAttr('checked');
    })
});
</script> 
```

示例 [http://jsfiddle.net/aJhm9/](http://jsfiddle.net/aJhm9/)

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-16T05:39:26.837

使用属性而不是属性

```
$(function () {
    $('th input[type="checkbox"]').click(function(){
        if ( $(this).is(':checked') )
            $('td input[type="checkbox"]').prop('checked', true);
        else
            $('td input[type="checkbox"]').prop('checked', false);
    })
}); 
```

[http://jsfiddle.net/aJhm9/2/](http://jsfiddle.net/aJhm9/2/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T05:40:13.133

`.attr()`仅用于修改元素的默认状态，而不是其活动状态`.prop()`用于更改元素的活动状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:40:14.313

使用[`prop()`](http://api.jquery.com/prop/)而不是`attr()`

```
 $(function () {
   $('th input[type="checkbox"]').click(function(){
    if ( $(this).is(':checked') )
        $('td input[type="checkbox"]').prop('checked', true);
    else
        $('td input[type="checkbox"]').prop('checked', false);
   })
}); 
```

[工作小提琴](http://jsfiddle.net/bipen/aJhm9/1/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-10T09:34:57.323

```
<script>
    $('#select_all').click(function () {
    $( this ).closest('form').find(':checkbox').prop( 'checked' , this.checked ? true : false );
})
</script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-16T05:53:08.520

为什么要使用 jQuery 来完成这么小的任务？只需将表格顶部的主复选框的 ID 设置为唯一名称。然后将特定类添加到表中的所有其他复选框。然后使用以下代码： -

```
var mainCheckbox = document.getElementById('name_of_ID');

if(window.addEventListener) {
    mainCheckbox.addEventListener('change', togglecheckboxes, false);
} else {
    mainCheckbox.attachEvent('onchange', togglecheckboxes);
}

function togglecheckboxes(){
    var otherCheckboxes = document.getElementsByClassName('name_of_CLASS'); //returns an array
        for(var i = 0; i < otherCheckboxes.length; i++){
            otherCheckboxes[i].checked = mainCheckbox.checked;
        }
} 
```

# regex - TCL regsub 加号错误

> ID：16029520
> 
> 赞同：2
> 
> 时间：2013-04-16T05:37:08.720
> 
> 标签：regex, tcl

这有什么问题？我似乎无法弄清楚

```
regsub {+} $input { } 
```

我收到此错误：`couldn't compile regular expression pattern: quantifier operand invalid`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T11:50:36.983

该`+`字符是正则表达式元语法：表示匹配前面的子 RE 一次或多次。（例如，`a+`匹配一个或多个`a`字符。）因此，如果您想使用原始数据`+`，您必须使用反斜杠 ( `\+`) 或字符集 ( `[+]`) 对其进行转义，或者将 RE 引擎放入其中一个受限模式；以 RE 开头使 RE`***=`的其余部分成为要匹配的文字。专门针对您的情况，`***=+`匹配一个普通的`+`，并`***=++`连续匹配两个加号，等等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:46:10.827

转义`+`字符：

```
regsub {\+} $input { } 
```

# java - 操作 XML 元素属性的顺序

> ID：16029523
> 
> 赞同：2
> 
> 时间：2013-04-16T05:37:21.643
> 
> 标签：java, xml, dom

我读过很多帖子，人们询问有关对 XML 元素强制执行某些属性顺序的问题，一般的回答是它不合法/必需/允许/相关/其他。

我不是在寻找任何回应说我不应该关心属性顺序，所以如果这是你的观点，请不要回复。

我有一个真正的问题需要解决。大型企业产品在其产品的最新版本中将以下两个元素视为不同

```
<objquestion allowmultiple="true" id="7432" idtext="7433" idvar="7429" parent="7430" questiontype="multchoice">

<objquestion id="7432" idtext="7433" idvar="7429" parent="7430" questiontype="multchoice" allowmultiple="true"> 
```

特别是，如果“allowmultiple”属性位于“questiontype”之后，则它充当问题类型的修饰符。如果它是以前的，它会被忽略 - 它不应该是。

因此，他们不太可能在短期内修复他们的产品。

我正在使用这个 XML 内容

```
DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
doc = dbf.newDocumentBuilder().parse(new InputSource(path)); 
```

并且内部实现会对 DOM 节点映射中的属性进行排序。当它被写回文件时，它会按照现在的排序顺序写入属性。我有很多使用 XPath 处理 Document 对象的代码。

当我完成对文档的操作后，我目前将其写回

```
Transformer xformer = TransformerFactory.newInstance().newTransformer();
xformer.transform(new DOMSource(lc.getDocument()), new StreamResult(new File(paths[1]))); 
```

我需要做的是确保在 questiontype 之后写入 allowmultiple 属性。

我试图了解我是否可以影响用于写回 DOM 树的序列化，或者我是否可以简单地替换一个最初不将属性解析为排序映射的不同实现。我想两者都会起作用，但我无法找到如何做到这一点。

我查看了 LSSerializer，但我不确定如何拦截该特定元素。我是否必须扩展 FileOutputStream 并寻找一些东西？

我已经读过 SAX 可能不会进行初始排序，但我需要能够在没有太多新代码的情况下放入解析器，并且对整个 XML 世界并不那么强大。

谁能建议一种方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T08:19:45.383

下一个 Saxon 版本（9.5，即将到期）有一个序列化属性，允许您控制属性顺序。它是为合法的用例添加的（例如，它可以提高人类的可读性，让 id 属性总是放在第一位），我有点遗憾的是，它最终会被用于像你这样的用例，因为它的无能和不负责任导致大公司雇用的程序员，但就这样吧：如果它解决了问题，我不会哭。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T07:54:52.647

这听起来像是一个 hack，但你可以用 x1allowmultiple 之类的东西重命名这个属性，然后它将是最后一个：

*   搜索并用 x1allowmultiple 替换所有出现的 allowmultiple
*   使用 x1allowmultiple 处理和创建输出文件
*   搜索并用 allowmultiple 替换所有出现的 x1allowmultiple

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-08T11:09:42.363

您可以使用[此](https://stackoverflow.com/a/5059411/1571550)JAXB 方法并查看[此](https://stackoverflow.com/a/10379017/1571550)示例以了解元素属性排序。

# java - 可拖动组件

> ID：16029525
> 
> 赞同：-6
> 
> 时间：2013-04-16T05:37:24.193
> 
> 标签：java, swing, drag-and-drop, awt

我的问题是如何创建对象（JPanel、JButton 等）的可拖动环境，这样我就无法使用有序显示客户端的 FlowLayout 类。我要使用什么类和方法？我将使用什么实现来保存配置？我要使用什么文件格式？

为了进一步可视化这个问题，我正在尝试开发的系统是一个教室管理系统，其中房间管理员将环境配置为座位图，如图表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:54:28.497

请参阅[Drag Layout](http://tips4java.wordpress.com/2011/10/23/drag-layout/)了解布局管理器和[Component Mover](http://tips4java.wordpress.com/2009/06/14/moving-windows/)了解允许您拖动组件的类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T05:55:39.267

这是一个宽泛的问题。

我建议你需要看看...

*   [如何使用分层窗格](http://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html)来克服不需要布局管理器...
*   [DnD 简介](http://docs.oracle.com/javase/tutorial/uiswing/dnd/intro.html)或[如何编写鼠标侦听器](http://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html)，具体取决于您正在寻找的交互级别
*   [用于 XML 处理的 Java API，](http://docs.oracle.com/javase/tutorial/jaxp/TOC.html)甚至可能[用于 XML 绑定](http://docs.oracle.com/javase/tutorial/jaxb/TOC.html)甚至[首选项的 Java 架构](http://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html)

# doctrine-orm - 如何将 Silex 与 Doctrine orm EntityManager 一起使用？

> ID：16029527
> 
> 赞同：16
> 
> 时间：2013-04-16T05:37:54.947
> 
> 标签：doctrine-orm, entitymanager, silex

我是 Silex 框架的新手。我想使用学说实体管理器进行简单的 SQL DB 连接。请举一些简单的例子。

提前致谢，
SK

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2015-09-01T23:32:07.633

以下是以下所有设置的[工作示例](https://github.com/ooXei1sh/silex-ske-sandbox/tree/v0.1.4)。还有一个[YouTube 教程](https://youtu.be/ZscvXn0y9-0)解释了该设置。或者，如果您只是想要现在可以使用的东西，请尝试：[this](https://github.com/ooXei1sh/silex-ske-sandbox.git)。

否则，以下是试图解释一种设置和**“将 silex 与 Doctrine orm EntityManager 一起使用”的**方法：

## 安装

将此行添加到 composer.json 中：

```
"dflydev/doctrine-orm-service-provider": "1.0.6" 
```

从命令行运行：

```
~$ composer update dflydev/doctrine-orm-service-provider 
```

## 登记

注册服务提供者：

```
$app->register(new Silex\Provider\DoctrineServiceProvider());
$app->register(new Dflydev\Silex\Provider\DoctrineOrm\DoctrineOrmServiceProvider()); 
```

## 配置

配置您的数据库和实体映射。**您的路径可能不同**。可以在[Doctrine ORM Service Provider README](https://github.com/dflydev/dflydev-doctrine-orm-service-provider/blob/v1.0.6/README.md#silex)中找到更好更详细的解释：

```
$app['db.options'] = array(
    'driver'   => 'pdo_mysql',
    'charset'  => 'utf8',
    'host'     => '127.0.0.1',
    'dbname'   => '',
    'user'     => '',
    'password' => '',
);

$app['orm.proxies_dir'] = __DIR__.'/../cache/doctrine/proxies';
$app['orm.default_cache'] = 'array';
$app['orm.em.options'] = array(
    'mappings' => array(
        array(
            'type' => 'annotation',
            'path' => __DIR__.'/../../src',
            'namespace' => 'My\\Namespace\\To\\Entity',
        ),
    ),
); 
```

您可能想要设置`cli-config.php`更多信息，请阅读[Doctrine 配置文档](http://docs.doctrine-project.org/en/latest/reference/configuration.html)：

```
<?php
    // http://docs.doctrine-project.org/en/latest/reference/configuration.html
    require __DIR__.'/vendor/autoload.php';
    require __DIR__.'/path/to/app/config.php';
    $newDefaultAnnotationDrivers = array(
        __DIR__."/src/MyNamespace",
    );
    $config = new \Doctrine\ORM\Configuration();
    $config->setMetadataCacheImpl(new \Doctrine\Common\Cache\ApcCache);
    $driverImpl = $config->newDefaultAnnotationDriver($newDefaultAnnotationDrivers);
    $config->setMetadataDriverImpl($driverImpl);
    $config->setProxyDir($app['orm.proxies_dir']);
    $config->setProxyNamespace('Proxies');
    $em = \Doctrine\ORM\EntityManager::create($app['db.options'], $config);
    $helpers = new Symfony\Component\Console\Helper\HelperSet(array(
        'db' => new \Doctrine\DBAL\Tools\Console\Helper\ConnectionHelper($em->getConnection()),
        'em' => new \Doctrine\ORM\Tools\Console\Helper\EntityManagerHelper($em),
    )); 
```

## 试一试

此时，假设您在路径中有[注释](http://doctrine-common.readthedocs.org/en/latest/reference/annotations.html) [实体](http://doctrine-orm.readthedocs.org/en/latest/reference/working-with-objects.html)，您应该能够从命令行转储一些模式：`$newDefaultAnnotationDrivers`

```
~$ php vendor/bin/doctrine orm:schema-tool:update --dump-sql 
```

通过上述设置，您还应该能够`$app['orm.em']`从控制器方法中使用：

```
$app->match('/form', function (Request $request) use ($app) {

    $em = $app['orm.em'];

    $entity = new \My\Namespace\To\Entity\Form();

    $form = $app['form.factory']->create(new \My\Namespace\To\Form\FormType(), $entity);

    $form->handleRequest($request);

    if ($form->isValid()) {
        $em->persist($entity);
        $em->flush();
    }

    return new Response($app['twig']->render('form.html.twig', array(
        'form' => $form->createView(),
    )));

})->bind('form'); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-08-16T16:31:16.207

Silex 没有官方的 Doctrine ORM 服务提供商，只有 DBAL，但是您可以尝试几个[第三方服务提供商。](https://github.com/fabpot/Silex/wiki/Third-Party-ServiceProviders)
我盯着[dflydev-doctrine-orm-service-provider](https://github.com/dflydev/dflydev-doctrine-orm-service-provider)看，它在 github 中有最多的开始并且看起来不错。

# vb.net - 索引和长度错误 - 任何更好的逻辑......？

> ID：16029530
> 
> 赞同：1
> 
> 时间：2013-04-16T05:38:11.890
> 
> 标签：vb.net, string, if-statement

以下代码抛出错误
*'索引和长度必须引用字符串中的位置。参数名称：长度'*。

```
Sub Main()
  Dim Ex As String
  Dim yy As String = 
       (If(String.IsNullOrEmpty(Ex), "", Ex)).ToString().Substring(0, 1000)
End Sub 
```

从上面的代码中可以清楚地看出错误是由于字符串 Ex 什么都没有。
但是要解决问题

```
1\. Need to check
   a. Whether the string is Null Or Empty
   b. If not, 
      a. Has more than 1000 chars.....? extract 1000 chars.
      b. Else use the string as it is. 
```

要实现上述逻辑，至少需要 2 个 If 子句。
我们有没有更好的逻辑来实现上面...？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:44:56.603

由于您使用的是 VB.NET，因此您只需要：

```
Dim Ex As String
Dim yy As String = Left(Ex, 1000) 
```

该[`Left`函数](http://msdn.microsoft.com/en-us/library/y050k1wb.aspx)已经知道如何处理`Nothing`和处理比指定长度短的字符串。

* * *

如果您想坚持使用 .NET 方法，则解决方案如下所示：

```
Dim Ex As String
Dim temp As String = If(Ex, "")
Dim yy As String = If(temp.Length > 1000, temp.Substring(0, 1000), temp) 
```

为了清楚起见，我添加了一个额外的变量：

如果第一个参数是 Nothing，则双参数[`If`运算符返回第二个参数（否则，它返回第一个参数）。](http://msdn.microsoft.com/en-us/library/bb513985.aspx)它相当于 C# 的`??`.

最后一行在使用之前检查字符串的长度`Substring`，从而避免您在示例中收到错误消息。

# java - 使用 cloudfoundry 属性

> ID：16029540
> 
> 赞同：1
> 
> 时间：2013-04-16T05:39:26.200
> 
> 标签：java, tomcat7, cloud-foundry, session-replication

我想使用本节中描述的 cloudfoundry 属性- [http://docs.cloudfoundry.com/frameworks/java/spring/spring.html#accessing-cloud-foundry-properties](http://docs.cloudfoundry.com/frameworks/java/spring/spring.html#accessing-cloud-foundry-properties) 不在spring xml文件中，而是在上下文中。 xml（比如说 tomcat context.xml 文件）文件，它将帮助我对 cloudfoundry 中的会话复制进行一些研究。我想在该 context.xml 文件中获取 connection.host、connection.port 等，以指定基于 JDBC 的会话存储。

但是我在这样做时遇到了问题，因为这些属性在 spring 配置文件中工作得很好，但在其他文件中却没有。有人可以帮我吗？

# oracle - 将一行的所有列提取到 StoredProcedure 中的集合中

> ID：16029542
> 
> 赞同：0
> 
> 时间：2013-04-16T05:39:27.190
> 
> 标签：oracle

我已将单行提取到 rowType 变量中。这一行有 80 列。所以，我不想在我的程序中硬编码列名并从数据字典中获取列名。

请有人告诉我，我怎样才能访问单独的列值？？？？？？以下是我的代码。

```
DECLARE
fetchedRow EMP%ROWTYPE;
TYPE columnNameList IS TABLE OF USER_TAB_COLUMNS.column_name%TYPE;
CURSOR empCursor IS select column_name from USER_TAB_COLUMNS where table_name = 'EMP';
empColumnNames columnNameList;
colName varchar2(100);
BEGIN
    -- Fetching column names of EMP from data dictionary
    OPEN  empCursor;
    FETCH empCursor BULK COLLECT INTO empColumnNames;
    CLOSE empCursor;
    DBMS_OUTPUT.PUT_LINE('Columns fetched');

BEGIN
    SELECT * into fetchedRow from EMP where EMP_ID = 1234;
END;

colName := 'fetchedRow.'||empColumnNames(1);   --- colName will have fetchedRow.EMP_ID
DBMS_OUTPUT.PUT_LINE('Going to Compare'||colName);

--stuck here
     if colName = 1234 then  -- Want to compare value of fetchedRow.EMP_ID with 1234
        DBMS_OUTPUT.PUT_LINE('Matching');
    else
    DBMS_OUTPUT.PUT_LINE('Not-Matching');
    END IF;  
EXCEPTION
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE('Error'||SQLERRM);

END; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T08:34:40.160

您需要使用动态 SQL 以这种方式访问​​字段，但一个小技巧是将当前行放置到 SQL 语句可访问的某个位置，例如包头。

汤姆凯特一如既往的好，看[这里](http://asktom.oracle.com/pls/asktom/f?p=100:11:0%3a%3a%3a%3aP11_QUESTION_ID:2170326695312)。

可以在[此处](http://www.sqlfiddle.com/#!4/eca68/4)找到带有实时示例的 SQL 小提琴。

一些用于说明的代码：

声明包头

```
create or replace package TmpRowAccess as 

  CurRow emp%rowtype;

end; 
```

获取行时 - 将其获取到包变量中

```
SELECT * into TmpRowAccess.CurRow from EMP where rownum = 1; 
```

访问字段值的构造

```
 declare 
    vRes char(1);
    vParam number := 1234;
  begin

    execute immediate 
      '
        begin 
          if(:1 = TmpRowAccess.CurRow.'|| colName ||') then 
            :2 := ''Y''; 
          else 
            :2 := ''N''; 
          end if; 
        end;
      '
      using in vParam, out vRes;

    if(vRes = 'Y') then 
      DBMS_OUTPUT.PUT_LINE('Matching');
    else
      DBMS_OUTPUT.PUT_LINE('Not-Matching');
    end if;

  end; 
```

# unix - 逗号分隔的csv中的双引号内的逗号，

> ID：16029544
> 
> 赞同：1
> 
> 时间：2013-04-16T05:39:36.467
> 
> 标签：unix

如何剪切双引号内的值并用逗号分隔。例如。

```
Number               Name
"12,13"      ,       "Ram"
"32,15,21"   ,       "Krishna" 
```

我需要这样的输出：

```
Number

12,13
32,15,21 
```

我正在使用命令`cut -d "," -f1`，但没有得到预期值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:43:12.413

```
sed 's/"//g; s/ .*//' foo.csv 
```

结果

```
Number
12,13
32,15,21 
```

*   移除所有`"`
*   删除第一个空格后的所有内容

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:51:57.923

```
> perl -lane '$F[0]=~s/"//g;print $F[0]' your_file 
```

以上应该工作。

```
> cat temp
Number               Name
"12,13"      ,       "Ram"
"32,15,21"   ,       "Krishna"
> perl -lane '$F[0]=~s/"//g;print $F[0]' temp
Number
12,13
32,15,21
> 
```

# html - 更新 Web SQL HTML5 中表的所有字段

> ID：16029547
> 
> 赞同：0
> 
> 时间：2013-04-16T05:39:48.700
> 
> 标签：html, web-sql

`column1=value1`在一般的 Update sql 语句中，我们需要使用and .....（依此类推）将每个字段映射到它们的新值。

我需要更新`all the columns of a row (8 columns are present)`，因此这个映射非常繁琐。

当我搜索时，我得到了一个 SO 说明`(column1,column2 .....) = (value1,value2...)`适用于 SQL 的答案。但是，我需要为 WEB SQL (HTML5) 运行此查询，并且此表单似乎不起作用。

任何人都可以确认相同并建议执行 UPDATE 语句的任何简短形式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:50:50.330

好吧，可以通过使用数组来保存 executeSQl 语句中的值，从而最大限度地减少混乱。

有问题的人可以访问[这里](http://blog.darkcrimson.com/2010/05/local-databases/)查看 INSERT 和 UPDATE 查询部分。

# windows-7 - 如何保存包含俄语或中文字符的文件的目录列表（Windows7）

> ID：16029552
> 
> 赞同：3
> 
> 时间：2013-04-16T05:40:10.513
> 
> 标签：windows-7, unicode, batch-file, dir, directory-listing

我不时需要从我获得的 CD 中列出文件。这些文件的名称经常包含其他书写系统中的字符，如西里尔俄语 (Добродошли.doc) 或简体/繁体中文 (孟子译注.pdf)。我的电脑（在 Windows 7 下运行，波兰语）显示正确的文件名、打开文件、将文件保存在其他位置、让各种软件编辑文件等。然而，当我制作目录列表时（使用 dir 命令) 我总是得到问号和其他奇怪的字符而不是其他（中文、俄文）字符——默认情况下 dir 命令的输出似乎是默认用 ANSI 编写的——而不是 Unicode/UTF8。

例子：

```
02.03.09 21:13 15˙584˙500 ??????(??????).pdf = 这三个文件是中文的
02.03.09 03:11 18˙638˙982 ????(???).pdf
24.03.08 17:25 61˙141˙454 ???®????Ż(???).pdf
18.03.13 16:00 1˙088 ????.txt = 此文件的名称是俄语
02.03.09 21:20 26˙083˙641 Transformations-of-Ming.pdf

```

（通过 Windows 右键单击​​上下文菜单“打印目录列表”获得）

我曾尝试在 www 上搜索有关此问题的各种建议，但所提供的解决方案都没有解决我的问题 - 或者我发现（看似过时的）问题的答案暂时无法在各种环境下解决。也许有些东西发生了变化 - 也许有一个解决方案，直接或在 Windows 注册表中更改了某些东西之后？或者，如果没有简单的批处理编程解决方案——也许有一些我可以下载（免费或购买）的现成软件来解决我的问题？

我不熟悉 Java 或 php 编程，也不知道如何处理 Ruby（这里有类似的问题，但仅限于这些环境）。我可以说我陷入了 MS-DOS 批处理编程——在 1980 年代末到 1990 年代中期，我曾经非常擅长批处理编程，甚至在用于 DOS 宏命令编辑/创建等复杂的 WordPerfect 5.1 中也是如此字符串编程的类型——也许我太老了（不要问我，请问几岁），无法学习高级面向对象编程（我从来没有当过程序员，只是一个电脑迷，但是在 Windows 98 之后我不得不放弃）。

感谢您的任何建议 - 我会全部尝试（如果有的话）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T07:58:59.640

首先，您需要支持外来字符的 True Type 字体 (TTF)。安装字体：

*   鼠标右键单击标题栏
*   选择属性/字体
*   如果您的字体不在列表中，您必须先在注册表中使用键添加它`HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Console\TrueTypeFont\`

安装字体后，控制台会显示该字体支持的所有外来字符。类似`dir`或重定向到文件的命令`dir > dir.txt`也可以工作。并且无需更改代码页`chcp`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-19T00:52:41.760

设置 chcp 65001 为我解决了问题。至少在我的情况下，问题出在错误的代码页中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-03-05T16:04:47.883

使用管理员 CMD 命令提示符”

方法：按住 SHIFT 键并用鼠标指针在目标文件夹上单击鼠标右键。并在下拉菜单中选择“在此处打开命令提示符”。您的文件夹现在将处于管理员访问权限下。

在文本光标闪烁的命令提示符处的命令提示符窗口中”

键入“chcp 1251”（不带引号）并按 ENTER 键更改命令提示符显示目录内容的方式。这实际上是 Windows 内部更改的更改代码页命令，您还不会看到任何 unicode Cyrillic 或中文字体文本。

现在键入“dir/w”并按 ENTER 键，这将显示目标目录中的所有内容。

右键单击并从下拉菜单中选择“全选”。再次按 ENTER 键。这会将现在显示在命令窗口中的所有文本内容复制到 Windows 剪贴板上。不要关闭命令提示符窗口，因为您需要完成一些 Windows 房屋清洁工作。

启动 Notepad.exe（基本的 windows 文本编辑器）或 Notepad++ 程序员最喜欢的文本编辑器（您可以谷歌并下载免费使用的副本）并将您的剪贴板内容粘贴到您选择的编辑器中。您将看到以正确字体显示的目录内容的西里尔文和中文文本。但是使用 Unicode 编码选项保存文本文件。

要返回 Windows 原生的旧更改页面代码，即西欧拉丁语：

在命令提示符下键入“chcp 1252”，然后按 ENTER 键。关闭命令提示符窗口。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-06-02T10:35:59.133

使用Windows'95，运行文件管理器，（认为=那个，与使用的相同+ Windows 3.1），它在Windows文件夹中，然后转到更改字体的选项，选择西里尔字母1。现在1可能会看到俄语文件的名称。Window XP，@DOS 提示使用 CHCP 866。

# jquery - jQuery UI 手风琴取代了无序列表的样式？

> ID：16029560
> 
> 赞同：0
> 
> 时间：2013-04-16T05:41:00.873
> 
> 标签：jquery, css, list, accordion

我似乎无法弄清楚如何防止 jQuery 手风琴更改网页导航上的 css 样式。这是小提琴：http: [//jsfiddle.net/rAUg3/2/](http://jsfiddle.net/rAUg3/2/)

手风琴使我在 .accordion div 中的无序列表太长以至于它溢出，并且似乎也删除或替换了列表的所有 css 样式。我尝试添加 clearStyle true 和 autoHeight false 无济于事。有什么建议么？

到目前为止，这是我的 jQuery：

```
$(function () {
    $(".accordion").accordion({
        active: false,
        clearStyle: true,
        autoHeight: false,
        collapsible: true
    });
}); 
```

感谢您的任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:45:28.347

您可以通过添加来覆盖特定样式`!important`

例如：

```
ul li {
    list-style-type: none !important;
} 
```

# c# - 如何替换字符串中的字符串，第一次出现除外

> ID：16029563
> 
> 赞同：11
> 
> 时间：2013-04-16T05:41:40.100
> 
> 标签：c#

除了第一次出现，如何替换字符串中的字符串？

例如`C:\\Test-Processed\1-Processed\2-Processed` 应该输出

`C:\\Test-Processed\1\2`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-16T05:52:57.427

如下所示：

```
string originalStr = "C:\\Test-Processed\\1-Processed\\2-Processed";
string temp = "-Processed";
string str = originalStr.Substring(0, originalStr.IndexOf(temp) + temp.Length);
originalStr = str + originalStr.Substring(str.Length).Replace(temp, ""); 
```

originalStr 将是：

```
originalStr = "C:\\Test-Processed\\1\\2" 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-16T05:48:17.197

这里的关键见解是存在一个 indexOf，它在字符串的某个点开始搜索字符串，而不是从头开始。这里：http: [//msdn.microsoft.com/en-us/library/7cct0x33.aspx](http://msdn.microsoft.com/en-us/library/7cct0x33.aspx)

首先，您要用于查找字符串中`.indexOf("-Processed")`的第一个索引。`-Processed`记住这个索引。

现在，使用查找不是第一个`.indexOf("-Processed", index+1)`的下一个索引。`-Processed`

重复此操作并`Substring(nextindex, "-Processed".Length)`删除这些额外的实例，直到您找不到更多实例为止。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-16T05:48:15.663

像这样：

```
String str = @"C:\\Test-Processed\1-Processed\2-Processed";
System.Console.WriteLine(new Regex("(\\d+)-Processed").Replace(str, "$1")); 
```

将产生`C:\\Test-Processed\1\2`。正则表达式假定您要删除的元素总是以一位或多位数字开头。它将这些数字放在捕获组中，并仅用数字 (1) 替换子字符串（例如 1-Processed）。

编辑：如果假设失败，您可能希望采用@Patashu 建议的方法。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-16T06:10:46.653

```
string ReplaceExceptFirst(string text, string search, string replace)
{
    int pos = text.IndexOf(search);
    if (pos < 0)
    {
        return text;
    }

    int strlen = pos + search.Length;
    return text.Substring(0, strlen) +  (text.Substring(strlen)).Replace(search,replace);
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-04-26T22:40:18.430

这是上面给出的解决方案之一。（Habib 的解决方案和 Pintu Paul 的参数命名）。我使用了它，但随后将该函数定义为字符串扩展。

```
 public static class StringExtensions
{
    public static string ReplaceAllButFirst(this string originalStr, string search, string replace)
    {
        string str = originalStr.Substring(0, originalStr.IndexOf(search, System.StringComparison.InvariantCultureIgnoreCase) + search.Length);
        return str + originalStr.Substring(str.Length).Replace(search, replace);  
    }
} 
```

# android - getLayoutInflator 和 (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE) 有什么区别

> ID：16029566
> 
> 赞同：4
> 
> 时间：2013-04-16T05:41:52.993
> 
> 标签：android, android-layout, android-view, layout-inflater

我对这两种说法感到困惑。有什么区别，我什么时候可以使用每个？

```
LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View v = inflater.inflate(R.layout.activity_custom_lists1, parent); 
```

和

```
View v =  getLayoutInflater().inflater.inflate(R.layout.activity_custom_lists1, parent); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T05:46:03.853

第二个是错的

```
View v =  getLayoutInflater().inflater.inflate(R.layout.activity_custom_lists1, parent); 
```

有可能

```
View v =  getLayoutInflater().inflate(R.layout.activity_custom_lists1, parent); 
```

> 第二个是针对活动范围调用的，第一个可以从 Activity 外部使用上下文调用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T06:11:32.350

也许你的意思`View.inflate`是反对`Context.getLayoutInflater`？我认为没有区别，前者是后者的捷径。

# scheme - 带有列表的方案函数

> ID：16029568
> 
> 赞同：3
> 
> 时间：2013-04-16T05:42:09.653
> 
> 标签：scheme

让我开始吧，我是计划的初学者。这也是基于硬件的，所以我不是在寻找答案，而是在寻找这里发生的事情的解释。开始：

所以我有一个我需要实现的功能，给出了这么多：

```
(define gen-hash-division-method
  (lambda (size)
    ...
  )) 
```

我已经实现的另一个函数被定义为键，并将一个词作为参数并计算一些值。这是正确的，所以我不会发布它，但作为一个例子`key('(w o r d)) => 130293`。现在所有 'gen-hash-division-method' 应该做的只是根据参数取一个键的模数，换句话说`h(k) = k modulus size`

问题是，如果 k 没有作为参数给出，我应该如何计算它。这就是“gen-hash-division-method”的使用方式：

```
(define hash-1 (gen-hash-division-method 701)) 
```

701 我假设是尺寸参数。为了测试它，它看起来像这样：

```
(hash-1 '(h e l l o)) 
```

这就是我感到困惑的地方，我不知道它在这里做什么。那里给出了这个词，但我不明白我应该如何调用`key('(h e l l o))`以实现 k`gen-hash-division-method(size) => k modulus size`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T13:46:41.090

让我们来看看。`gen-hash-division-method`根据`size`参数返回键的模数，但创建键的字符稍后将作为另一个参数传递，换句话说：

```
(define gen-hash-division-method
  (lambda (size)
    (lambda (chars)
      (modulo (key chars) size)))) 
```

这就是正在发生的事情：

*   `gen-hash-division-method`是一个函数，给定一个大小，返回*另一个*专门用于计算键模大小的函数
*   返回的函数接收一个字符列表作为参数
*   一旦传递了一个字符列表，就使用该`key`过程计算密钥，然后执行模运算，始终使用`size`创建函数时传递的相同

我们刚刚实现的是一个[柯里](https://en.wikipedia.org/wiki/Currying)化的例子：

> currying 是一种转换具有多个参数（或参数元组）的函数的技术，使其可以作为函数链调用，每个函数都有一个参数（部分应用）

如您所见，它按预期工作：

```
; hash-1 calculates hashes modulo 701
(define hash-1 (gen-hash-division-method 701)) 

; in particular, here we find the hash modulo 701 for '(h e l l o)
(hash-1 '(h e l l o))

; any other list of chars we pass will be hashed modulo 701
(hash-1 '(f o o)) 
```

# c# - jquery .ajax 调用控制器，模型为空

> ID：16029569
> 
> 赞同：2
> 
> 时间：2013-04-16T05:42:13.583
> 
> 标签：c#, jquery, ajax, asp.net-mvc, json

我已经花了大约 10 小时阅读了无数帖子试图弄清楚这一点，但不得不承认失败，所以希望某个善良的灵魂能理顺我。

我正在尝试将数据发送到我的控制器 (GET) 以返回部分视图。尽管我尝试了各种变化，但控制器收到的模型始终为空。为了保持简单，我将模型缩减为一个元素。

我错过了什么？（提前致谢）

模型：

```
public class TextContentViewModel
{
    public string ContentType {get; set;}
} 
```

控制器：

```
public ActionResult Preview(TextContentViewModel paneContent)
{
    return PartialView("_Text");
} 
```

Javascript：

```
<script type="text/javascript">

    $("#previewButton").click(showPreview);

    function showPreview() {
         content = {
            ContentType: $("#ContentTypeID").val(),
        }
                $.ajax({
                url: '@Url.Action("Preview")',
                type: 'GET',
                contentType: 'application/json',
                data: JSON.stringify(content),
                success: function (result) {
                    $('#preview').html(result);
                },
                error: function (result) {
                    alert("something went wrong");
                }
            });
         }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:49:31.297

您的传入和传出变量应该具有相同的名称。

尝试将您的 js 变量名称更改为

```
 paneContent = {
        ContentType: $("#ContentTypeID").val(),
    } 
```

另外，不要尝试使用 a`GET`来发送复杂的变量。那永远行不通。始终使用`POST`.

```
 type: 'POST', 
```

# c++ - “3.4E +/- 38（7 位）”到底是什么意思？

> ID：16029570
> 
> 赞同：7
> 
> 时间：2013-04-16T05:42:31.903
> 
> 标签：c++, math, numbers

我试图了解数据类型的范围。对于非浮点数，这很容易，但对于浮点数和双精度数，范围如下：

浮点数：3.4E +/- 38（7 位）

双倍：1.7E +/- 308（15 位）

但是在外行中，这到底是什么意思，我该如何利用这些信息？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-16T05:47:48.370

这

```
3.4E +/- 38 
```

意思是：

*   a可以表示的最大正值`float`约为3.4e38；
*   最小的正值约为 3.4e-38。

类似地，负值的范围是从 -3.4e38 到大约 -3.4e-38。

这里，`MeE`表示`M`乘以 10 的`E`' 次方。

这

```
(7 digits) 
```

表示 a`float`可以表示大约七位有效十进制数字。

这些值是近似值的原因是它们*在 binary*中是精确的，并且每个二进制数字都有一个小数位数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T05:46:57.423

float：范围是从`3.4E-38`到`3.4E38`（正或负），精度为 7 位有效数字。

double：范围是从`1.7E-308`到`1.7E308`（正或负），精度为 15 位有效数字。

它们还包括 0。

`mEe``m`是10 次`e`幂的计算机符号。

# javascript - 在 Jquery Sortable 中获取传输项的新 id

> ID：16029572
> 
> 赞同：0
> 
> 时间：2013-04-16T05:42:46.427
> 
> 标签：javascript, jquery

`ul`我在排序中使用两个。我创建了可以转移`li`的可排序功能，`ul`这样他们就可以交换物品。我的问题是我无法获得 li 转移的 ul 的确切 ID。

**示例场景：**

当我拖动`Test 1`到 second`ul (no2)`时，它是转移，但我得到的 id 是`1`（这是 Test 1 来自的 ul 的原始 id）然后下一个是`2`（这是 Test 1 转移的 ul 的 id）。**我需要的只是测试 1 传输的 ul 的 id，即`2`. 如何获得准确的值？**

这是我的代码：

```
<ul class="connected list no1" id="1">
    <li style="cursor:move;" id="trans_1">Test 1</li>
    <li style="cursor:move;" id="trans_2">Test 2</li>
</ul>

<ul class="connected list no2" id="2">
    <li style="cursor:move;" id="trans_3">Other 1</li>
    <li style="cursor:move;" id="trans_4">Other 2</li>
</ul>

<script>    
    $(function() {
        $('.connected').sortable({
            connectWith: '.connected',
            dropOnEmpty: true,
            update: function(){
                 //alert($(this).parents('ul').attr('id'));
                alert($(this).attr('id'));
            }
        });
   });
</script> 
```

额外的：

如何获取转账的id `li`？

**更新：**

我需要的是获得转移的`ul id`位置`li`，反之亦然。我上面所说的只是一个示例，并不意味着我只想要`id=2`. 如果我`Other 1`在其他 ul 中转入 id 是`1`. 反之亦然。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:50:47.993

看看[这个](http://jsfiddle.net/gWpfv/1/)

```
$(function() {
    $('.connected').sortable({
        connectWith: '.connected',
        dropOnEmpty: true,
        receive:function(event, ui ){
            alert(ui.item.attr('id'));
        }
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:12:17.633

看看你的问题是什么，你有一个共同的 css 类，这`<ul>` `.connected`就是它获得两个 id 的原因。相反，您可以只定位`<ul>`具有 css 类`.no2`和`bind`事件的第二个`sortupdate`并查找其 id。

这边走：

```
$(function() {
   $('.connected').sortable({
     connectWith: '.connected',
     dropOnEmpty: true
   });

   $('.no2').bind('sortupdate', function(e) {
     alert(this.id);
   });
}); 
```

试试这个，看看这是否有帮助。

### [演示小提琴](http://jsfiddle.net/gWpfv/)

# android - 获取基频并将其转换为 RPM

> ID：16029577
> 
> 赞同：1
> 
> 时间：2013-04-16T05:43:16.790
> 
> 标签：android, audio-recording, audio-processing

我真的需要帮助。我为此搜索了 13 多个小时，但没有找到有用的东西

我一直在研究一个 Android 项目，该项目将输入信号 (( `IN RPM`)) 的基频显示为实时条。我已经成功地实现了这个`AudioRecord`类并从中获取数据。我`FFT`对这些数据进行了处理，将其从数字域转换为频域。

```
int bufferSize = AudioRecord.getMinBufferSize(frequency,
                channelConfiguration, audioEncoding);
        AudioRecord audioRecord = new AudioRecord(
                MediaRecorder.AudioSource.DEFAULT, frequency,
                channelConfiguration, audioEncoding, bufferSize);

        short[] buffer = new short[blockSize];
        double[] toTransform = new double[blockSize];
        try {
            audioRecord.startRecording();
        } catch (IllegalStateException e) {
            Log.e("Recording failed", e.toString());
        }
        while (started) {
            int bufferReadResult = audioRecord.read(buffer, 0, blockSize);

            for (int i = 0; i < blockSize && i < bufferReadResult; i++) {
                toTransform[i] = (double) buffer[i] / 32768.0; // signed 16
                                                                // bit
            }

            transformer.ft(toTransform);
            //Here i have FFT of the input sound in toTransform[]
        } 
```

现在我需要以 RPM 格式获取这些数据的基本频率，并将其显示在实时栏上。

请我真的需要任何帮助，任何链接或任何项目来源。

# javascript - 创建具有特定字符串的数组以及如何将字符串逐个字母分割

> ID：16029579
> 
> 赞同：0
> 
> 时间：2013-04-16T05:43:18.913
> 
> 标签：javascript, arrays

我想创建一个数组并在零索引处向数组添加一个字符串。我想将字符串分成单独的字母（假设我有字符串`java`；我想将其转换为`j,a,v,a`）。JavaScript中的数组是否有任何预定义的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:45:59.630

拆分字符串很简单：

```
"hello".split("") 
```

为了将数组插入到某个索引处的数组中，您必须使用`splice`. 例如：

```
var array = [1,2,3,4],
    hello = "hello".split("");

array.splice.apply(array, [0, 0].concat(hello)); 
```

最后一行一开始并不那么容易理解。在 javascript 中，您可以`apply`在任何函数上使用参数作为数组调用函数。

它所做的只是在数组中的索引 0 处获取 0 元素并将数组插入到`hello`该位置。您应该阅读更多关于`split`和的内容`splice`。

拆分空字符串将拆分任何字符。但是您可以将正则表达式传递给 split 等。所以它非常强大。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:45:46.867

尝试这个：

```
 var array = string.split(''); // where sting is your string 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:46:01.137

用这个：

```
var str = 'java';
str.split(''); //["j", "a", "v", "a"] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T06:20:20.733

使用[split()](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/split)和[join()](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/join)来满足您的要求。

```
 var xArray=[];
 //Inserting a string at 0th index of an array
 xArray[xArray.length] = "JAVA";
 //Splitting that String with empty and joining the returned array with ","
 xArray[xArray.length - 1] =  xArray[xArray.length - 1].split("").join(",")

 alert(xArray[xArray.length - 1]); //J,A,V,A 
```

# jquery - 在过滤器旁边显示 # 个结果

> ID：16029581
> 
> 赞同：1
> 
> 时间：2013-04-16T05:43:38.200
> 
> 标签：jquery, filter

下面的功能允许用户通过 过滤产品`data-attributes`，并支持同时按多个值过滤。如何`on load`在每个选项旁边显示潜在结果的数量？理想情况下，我还想显示他们运行的每个搜索的结果总数。

我在这里发布了一个函数的工作示例：http: [//jsfiddle.net/chayacooper/hSwcr/1/](http://jsfiddle.net/chayacooper/hSwcr/1/)

```
 var selected = { color: [], style: [] };   
    $('.filterOptions').on("change", ":checkbox", function (e) {
        var type = $(e.delegateTarget).data("type");
        var $this = $(this);
        var attrValue = $this.data(type);
        if ($this.parent().hasClass("active")) {
            $this.parent().removeClass("active");
            selected[type].splice(selected[type].indexOf(attrValue),1);
        }
        else {
            $this.parent().addClass("active");
            selected[type].push(attrValue);
        }            
        var checked = $(":checked", ".filterOptions");            
        // show all of the available options if...
        if (checked.length == 0 || checked.filter(".all").length > 0) {
            $('#content').find('*').show();
        } 
        else {
            $("#content").find("*").hide();
            for (var key in selected) {
                $.each(selected[key], function(index,item) {
                    $('#content').find('[data-' + key + ' *="' + item + '"]').show();
                });
            }
        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:53:22.490

根据您当前的实现，您可以在复选框更改事件处理程序中的“for in”循环中执行此操作：

```
for (var key in selected) {
            $.each(selected[key], function(index,item) {
                var $products = $('#content').find('[data-' + key + ' *="' + item + '"]'),
                    totalCount = $products.length;

                $.each($products, function(idx, product){
                      //implement logic for running count for product options                    
                });

                //implement logic to append count to options and display totalCount

                $products.show();
            });
        } 
```

**但是**，我建议您退后一步，为您的所有具有属性和属性值的产品创建一个 JS 对象文字，以便您可以将数据与 UI 分开。对于您的数据，您可以使用 underscore.js 之类的库来查询您的数据以获取总结果、过滤产品并计算每个选项的潜在总数。对于您的 UI (HTML)，您可以使用 mustache.js、handlebars.js、knockout.js 等模板框架来绑定您的查询数据。恕我直言，这将使您的生活更轻松。

示例 JS 对象：

```
{ products: [
    {
        product: "Sleeveless, V-Neck, Black, Red", 
        attributes : [
         {
               attributeName: "color",
               attributeValue: "Red"
         },
         {
               attributeName: "color",
               attributeValue: "Black"
         },
         {
               attributeName: "style",
               attributeValue: "V-Neck"
         },
         {
               attributeName: "style",
               attributeValue: "Sleeveless"
         }
      ]
  },

  //etc.....

  ]
} 
```

# extjs - extjs Ext.require() 是如何工作的

> ID：16029585
> 
> 赞同：5
> 
> 时间：2013-04-16T05:44:16.623
> 
> 标签：extjs

我明白，如果我们有，可以说，

```
Ext.require([
  'Ext.ux.grid.FiltersFeature',
  'Ext.toolbar.Paging'
]); 
```

它会将这些条目翻译成 some_path/ux/grid/FilterFeature.js 等

但是怎么做

```
Ext.require([
  'Ext.grid.*',
]); 
```

要上班了吗？它不知道 grid/ 目录下有多少 js 文件，所以从客户端如何加载它们？，是不是像延迟加载一样，我的意思是如果其他文件有子 js 条目，它将允许加载？

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-16T06:00:03.640

作为构建过程的一部分，我们生成一个“引导”文件，其中包含有关哪些文件存在的信息。所以它不会查询文件系统，它只是向引导程序询问`Ext.grid`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-24T01:03:27.877

仅在定制的生产构建中变得重要。通过这样做，您未使用的任何 ExtJS 类都不会包含在该构建中。这有助于减少框架的占地面积。不幸的是，目前还没有关于如何创建此自定义构建的文档，尽管可以使用据称可以执行此操作的 SDK 的 beta 版本。

# dojo - 1.8.1 中的 Dojo 自定义构建

> ID：16029587
> 
> 赞同：2
> 
> 时间：2013-04-16T05:44:22.450
> 
> 标签：dojo, dojo-build

当我们为 dojo 创建自定义构建时，它还将各种小部件的 html 模板内化到该小部件的 js 文件中。

对于 EnhancedGrid 的 Filter 插件，直到 1.8.0 才出现上述情况，并在 1.8.1 中修复。我已经使用 dojo 1.8.0 编写了我的应用程序。

在使用 dojo 1.8.0 时，是否有任何解决方法可以让增强网格过滤器插件的 html 模板内部化

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:48:20.130

1.8.0和1.8.1的未压缩过滤器js文件有一个简单的区别，就是这一行（例如在FilterBar.js中）：

```
"dojo/text!../../templates/FilterBar.html" 
```

如果您查看 1.8.1：

```
define([
    "dojo/_base/declare",
    "dojo/_base/array",
    "dojo/_base/connect",
    "dojo/_base/lang",
    "dojo/_base/sniff",
    "dojo/_base/event",
    "dojo/_base/html",
    "dojo/_base/window",
    "dojo/query",
    "dijit/_Widget",
    "dijit/_TemplatedMixin",
    "dijit/_WidgetsInTemplateMixin",
    "dojo/fx",
    "dojo/_base/fx",
    "dojo/string",
    "dijit/focus",
    "dojo/text!../../templates/FilterBar.html" // HERE HERE HERE HERE HERE HERE
], function(declare, array, connect, lang, has, event, html, win, query, _Widget,
    _TemplatedMixin, _WidgetsInTemplateMixin, fx, baseFx, string, dijitFocus,
 template){ // HERE HERE HERE HERE - NOTICE THE MAPPING ... 
```

之后，如果您查看 1.8.0 FilterBar.js：

```
define("dojox/grid/enhanced/plugins/filter/FilterBar", [
    "dojo/_base/declare",
    "dojo/_base/array",
    "dojo/_base/connect",
    "dojo/_base/lang",
    "dojo/_base/sniff",
    "dojo/_base/event",
    "dojo/_base/html",
    "dojo/_base/window",
    "dojo/cache",
    "dojo/query",
    "dijit/_Widget",
    "dijit/_TemplatedMixin",
    "dijit/_WidgetsInTemplateMixin",
    "dojo/fx",
    "dojo/_base/fx",
    "dojo/string",
    "dijit/focus"
], function(declare, array, connect, lang, has, event, html, win, cache, query, 
    _Widget, _TemplatedMixin, _WidgetsInTemplateMixin, fx, baseFx, 
    string, dijitFocus){... 
```

1.8.0 中没有这样的行，所以在必要的未压缩过滤器 js 文件中添加这一行并创建一个新的 build 。

您必须对运行时加载的所有 html 文件执行此操作：

```
/dojox/grid/enhanced/templates/FilterBar.html
/dojox/grid/enhanced/templates/FilterDefPane.html
/dojox/grid/enhanced/templates/CriteriaBox.html
/dojox/grid/enhanced/templates/FilterBoolValueBox.html 
```

我从你之前的问题中得到了这个列表：

[增强网格过滤器插件的 Dojo AMD 样式模板](https://stackoverflow.com/questions/15967666/dojo-amd-style-templates-for-enhancedgrid-filter-plugin/15968337#15968337)

# java - 基于数组列表创建 SQL

> ID：16029594
> 
> 赞同：0
> 
> 时间：2013-04-16T05:45:10.313
> 
> 标签：java, mysql, sql, jdbc

目标：我正在尝试创建和运行与我的数组列表中的值相同的数量或时间的 sql 查询，并将它们整合到 SQL 中

> Array List: //这将获取所有团队成员的姓名并将他们添加到数组列表中

```
ResultSet rs = name.executeQuery("SELECT name from TEAM_MEMBERS");
            while (rs.next()) 
              { 
                 al.add(rs.getString("name"));
              } 
            rs.close(); 
```

为团队的每个成员运行的 SQL。请注意，团队成员会发生变化，因此这不能是静态的。

```
ResultSet rs1 = name.executeQuery("SELECT sum(hours) FROM PROJECT_TIME WHERE DATE = '"+date+"' AND name = "+al+"");
            while (rs1.next()) 
              { 
                 al1.add(rs1.getString(1));
              } 
            rs1.close(); 
```

理想情况下，我想循环遍历 al 数组中的值，并作为该循环的一部分将 al 数组中的值插入到第二个 sql 中，然后将这些查询的结果添加到另一个数组 al1 中。

我认为一种解决方案是将 al 数组计数添加到 int 中，然后使用它来生成我的循环，然后我将通过带有基本增量 ++ 的 X 值将值插入循环中。然而，这似乎有点混乱，我认为有更好的解决方案，我不知道。

任何帮助建议表示赞赏。

干杯。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:10:23.527

第一个建议：阅读更多关于关系数据库和使用[外键](http://www.w3schools.com/sql/sql_foreignkey.asp)的表关系的信息，您将节省大量时间来连接这些表而不是`name`列。

第二个建议：您可以使用单个查询来使用[`JOIN`](http://www.w3schools.com/sql/sql_join.asp)句子获取所需的数据。

第三个建议：**不要**通过`String`连接传递参数，而是使用 a[`PreparedStatement`](http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html)来防止[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)攻击。

第四个建议：如果您使用retrieve`List<SomeClass>`而不是plain会更好`ArrayList<String>`。这是因为您正在[对接口进行编程，而不是对实现进行编程，](https://stackoverflow.com/q/383947/1065197)并且您`SomeClass`可以保存需要检索的属性。

将所有这些概念联系起来，您将拥有如下内容：

MySQL 语法：

```
CREATE TABLE TEAM_MEMBERS
(id INT PRIMARY KEY AUTO_INCREMENT,
name VARCHAR(100) NOT NULL);

CREATE TABLE PROJECT_TIME
(id INT PRIMARY KEY AUTO_INCREMENT,
hours INT NOT NULL,
date DATE NOT NULL,
teamMemberId INT NOT NULL,
FOREIGN KEY (teamMemberId) REFERENCES TEAM_MEMBERS(id)); 
```

使用 JOIN 的基本查询

```
SELECT tm.name, sum(pt.hours) AS hours -- retrieving both name and sum of hours at the same time
FROM
    TEAM_MEMBERS tm --team members table
    INNER JOIN PROJECT_TIME pt ON pt.teamMemberId = tm.id -- joining team members with project time table (not sure if this really makes sense, but is based on your code example)
WHERE
    DATE = <some_date> -- used to show where the parameter will go
GROUP BY
    tm.name -- used when using SUM or another AGGREGATE functions 
```

在 Java 端使用这个基本查询：

```
//sample about the class
public class TeamMember {
    private String name;
    private int projectHours;
    //constructor...
    public TeamMember() {
    }
    //constructor sending parameters (because I'm lazy when having a class with few parameters)
    public TeamMember(String name, int projectHours) {
        this.name = name;
        this.projectHours = projectHours;
    }
    //getter and setters...
}

List<TeamMember> teamMembers = new ArrayList<TeamMember>();
Connection con = null;
PreparedStatement pstmt = null;
ResultSet rs = null;
try {
    con = ... //initialize the connection
    String query = "SELECT tm.name, sum(pt.hours) AS hours FROM TEAM_MEMBERS tm " +
        "INNER JOIN PROJECT_TIME pt ON pt.teamMemberId = tm.id " +
        "WHERE DATE = ? GROUP BY tm.name";
    pstmt = con.prepareStatement(query);
    pstmt.setString(1, date); //assuming you have your date in String format
    //pstmt.setDate(1, date); //you could use this if your date variable is java.util.Date
    rs = pstmt.execute();
    while(rs.next()) {
        teamMembers.add(new TeamMember(rs.getString("name"), rs.getInt("hours"));
    }
} catch (Exception e) {
    //handle the Exception
} finally {
    //close the resources (this is a MUST DO)...
    try {
        if (rs != null) {
            rs.close();
        }
    } catch (SQLException sqle) {}
    try {
        if (pstmt != null) {
            pstmt.close();
        }
    } catch (SQLException sqle) {}
    try {
        if (con != null) {
            con.close();
        }
    } catch (SQLException sqle) {}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T05:48:13.557

为什么你不使用视图你可以从两个表中创建视图，并且只执行一个查询

# jquery - Jquery 日期选择器选项卡

> ID：16029596
> 
> 赞同：0
> 
> 时间：2013-04-16T05:45:31.953
> 
> 标签：jquery, jquery-ui-datepicker

我有一个日期选择器问题。我正在为我的网站制作制表符。它是这样的

```
<script>
            $(document).ready(function(){

               var first = $('.Partner').html();
               $('.content').append(first);
               $('.tabs:first').css('border-bottom','3px solid #36c');
               $('.check').datepicker({dateFormat: 'dd-mm-yy'});

               $('.check').click(function(){
                   $('.check').datepicker({dateFormat: 'dd-mm-yy'});
               });

                $('.tabs').click(function(){
                   var href = $(this).attr('alt');
                   $('.tabs').css('border-bottom','3px solid #f4f3f2');
                   $(this).css('border-bottom','3px solid #36c');
                   var content = $('.'+href).html();

                   $('.content').html(content);
                   $('.check').datepicker({dateFormat: 'dd-mm-yy'});
                   return false;
               });

             });

        </script> 
```

最初，一个选项卡加载了文本框，单击该文本框将显示日期选择器建议。如果我单击其他选项卡并返回初始选项卡，则日期选择器功能不起作用。

我的html

```
<div class="container">
                <ul class="nav">
                    <li><a class="tabs" alt="Partner">Partner Report</a></li>
                    <li><a class="tabs" alt="Single">Single Partner Report</a></li>
                    <li><a class="tabs" alt="Expiring">Expiring Plan</a></li>
                    <li><a class="tabs" alt="Whole">Whole Partner Report</a></li>
                </ul>
            </div>
            <div class="content">

            </div>
            <div class="Partner">
                <div class="container">
                    <div class="row-fluid">
                        <div class="span6">
                            <legend>Enter Tuition Id</legend>
                            <input type="text" name="getid" class="searchvalue" placeholder="Enter Tuition Id"/>
                            <input type="button" class="btn btn-info search" style="margin-top:-8px;" value="Search"/>
                        </div>
                        <div class="span6">
                            <legend>Select Date for Report Generation</legend>
                            <div class="row-fluid">
                                <div class="span12">
                                    <a href="#">Generate Report from last sent report</a>
                                </div>
                                <div class="span12">
                                    <div class="row-fluid" style="margin-left: -14px;">
                                        <div class="span6">
                                            <label>From</label>
                                            <input type="text" name="datePicker" class="datePick" id="datePick"/>
                                            <input type="text" class="check"/>
                                        </div>
                                         <div class="span6">
                                            <label>To</label>
                                            <input type="text" id="dateto"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="individual-content">
                        <legend>Search Results</legend>
                        <div class="tab-content">

                        </div>
                    </div>
                </div>
            </div>
            <div class="Single">
                 <div class="container">Single Partner</div>
            </div>
            <div class="Expiring">
                 <div class="container">Expiring Plan</div>
            </div>
            <div class="Whole">
                <div class="container">Whole Partner</div>
            </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:06:34.590

您正在复制 JQuery 使用的 id 来标识最初设置的日期选择器。尝试这个...

```
$(document).ready(function(){

       var first = $('.Partner').html();
       $('.content').append(first);
       $('.tabs:first').css('border-bottom','3px solid #36c');

        showContent('Partner');

        $('.tabs').click(function(){
           var href = $(this).attr('alt');
            $('.tabs').css('border-bottom','3px solid #f4f3f2');
           $(this).css('border-bottom','3px solid #36c');

            showContent(href);

           return false;
       });

     });

function showContent(href){               
           var content = $('.'+href).html();

           $('.content')
               .html(content)
               .find('.check').datepicker({dateFormat: 'dd-mm-yy'});
} 
```

# python - 在 python 中，哪种使用变量的方式在速度、cpu、内存等方面更有效？

> ID：16029600
> 
> 赞同：1
> 
> 时间：2013-04-16T05:45:42.517
> 
> 标签：python, variables

假设我们有一个函数想要对 objA 的属性 z 进行一些操作。objA 是 objB 的属性，而 objB 是 objC 等的属性……这两种方法中哪一种更快？有什么区别吗？

方法 1：使用`objC.objB.objA.z`for 函数中的每个语句。

方法2：在函数中分配像x这样的局部变量：

```
x=objC.objB.objA.z 
```

然后对 x 进行操作，然后将输出分配给首选变量。

我知道方法 2 在编写实际代码方面更容易，但不定义新变量会消耗更多内存？哪种方法更 Pythonic，除了上述方法之外，还有其他（更好的）方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T05:50:15.253

方法 2 通常会更快，尽管除非它处于紧密循环中，否则它可能不会有明显的差异。

每次你这样做时`a.b.c.d`，Python 都必须查找这些属性的值，即使它们在两次使用之间没有变化。如果您`x`为该值创建一次变量，那么 Python 只需查找一次属性，从而节省时间。

Doing`x = a.b.c.d`不会创建新对象，因此不会使用任何内存 *。*`x`将是对指向的同一对象的引用`a.b.c.d`。但是，正因为如此，您确实需要小心。任何变异的操作`x`都会影响原始对象。例如，如果`a.b.c.d`是一个列表，而你这样做`x = a.b.c.d`，那么`x.append(1)`将改变原始`a.b.c.d`对象的值。如果这是你想要的，那就太好了。如果不是，请确保显式复制该值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T05:48:03.320

`objC.objB.objA.z`第二个更pythonic，如果您多次重用它也会更快，因为它避免了每次都必须进行这4次查找。将此值绑定到 的成本并不高`x`，Python 只是使用对对象的相同引用并且不会复制它。

# c# - 如何对生成的 Columns rdlc 文件求和？

> ID：16029609
> 
> 赞同：0
> 
> 时间：2013-04-16T05:46:22.913
> 
> 标签：c#, sum, rdlc

我是 Windows 桌面应用程序开发的新手。

我正在创建一个包含表格的报告。

```
Sr | Description | HSNCode | Qty | Rate | Amount 
```

金额是通过使用`<<Exp>>`like生成的`Fields!Qty.Value*Fields!Rate.Value`

现在我想通过获取金额总和字段来显示总金额。

我试过`Sum(Fields!Qty.Value, "DataSet1")*Sum(Fields!Rate.Value, "DataSet1")`但没有工作。

怎么做？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:17:00.743

您可以在报告属性的代码中创建一个方法，该方法计算将此值存储在私有字段中的数量。对于每一行，此计算的总数会显示并与内部值相加。

第二种方法是检索将私有字段重置为 0 的总值。

（rdlc 中的代码在 vb 中，这就是为什么我没有示例）

c#中的示例：（必须是VB！！！）

```
private decimal total;

public decimal CalculateRowTotal(int qty, decimal rate)
{
    var rowtotal = qty * rate;
    total = total + rowtotal;
    return rowtotal;
}  

public decimal showTotal()
{
    decimal returnvalue = total;
    total = 0m;
    return returnvalue;
} 
```

在您的 rdlc 中，您使用此全局方法。

# jdbc - MySQL 连接器、流式结果集和批量获取

> ID：16029611
> 
> 赞同：2
> 
> 时间：2013-04-16T05:46:28.733
> 
> 标签：jdbc, mysql-connector, mysql

我正在浏览 MySQL 连接器 (5.1.24) 源代码，我注意到方法中有一些不寻常的地方`StatementImpl#createStreamingResultSet`

javadoc说

> 我们仅在结果集为只进、只读且获取大小已设置为**Integer.MIN_VALUE时才流式传输结果集**
> 
> @return true 如果这个结果集应该是一次流式传输**，**而不是一次全部读取。

这让我相信，如果我们想在 MySQL 中流式传输结果集，那么就没有批量检索行的选项（比如一次 100 行）。

如果 fetch-size 是 Integer.MIN_VALUE 的假设是否正确，那么结果将一次检索 1 行？那不会是性能上的打击吗？

# c++ - 将整数值映射到其他整数值

> ID：16029613
> 
> 赞同：0
> 
> 时间：2013-04-16T05:46:36.207
> 
> 标签：c++, algorithm, unicode, codepages

我正在将古老的[IBM 代码页 437](http://en.wikipedia.org/wiki/Code_page_437)中的字符映射到 16 位 UCS2 代码。进入 UCS2 是一个相当简单的过程：

```
const unsigned short ibm437_to_ucs[] = { 0x0000, 0x0001, ..., 0x2320, 0x00f7 };
...
return ibm437_to_ucs[ibm_code]; 
```

但是 UCS 代码不是连续的，所以我选择不写一个可比较的数组去另一个方向。有没有比简单地循环每个字符 UCS 字符的原始数组更好的方法？

```
for(int i = 0; i < IBM437_MAX /* 0xff */; i++)
{
    if(ibm437_to_ucs[i] == ucs_code)
        return i;
}
return '?'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:52:54.897

以下是使用表查找和二分搜索在 C 中（以及在 C++ 中进行细微更改后）中执行此操作的方法：

```
#include <stdio.h>
#include <stdlib.h>

// conversion tables are based on
// http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/PC/CP437.TXT

const unsigned short cp437hi_utf16[128] =
{
  0x00c7, 0x00fc, 0x00e9, 0x00e2, 0x00e4, 0x00e0, 0x00e5, 0x00e7,
  0x00ea, 0x00eb, 0x00e8, 0x00ef, 0x00ee, 0x00ec, 0x00c4, 0x00c5,
  0x00c9, 0x00e6, 0x00c6, 0x00f4, 0x00f6, 0x00f2, 0x00fb, 0x00f9,
  0x00ff, 0x00d6, 0x00dc, 0x00a2, 0x00a3, 0x00a5, 0x20a7, 0x0192,
  0x00e1, 0x00ed, 0x00f3, 0x00fa, 0x00f1, 0x00d1, 0x00aa, 0x00ba,
  0x00bf, 0x2310, 0x00ac, 0x00bd, 0x00bc, 0x00a1, 0x00ab, 0x00bb,
  0x2591, 0x2592, 0x2593, 0x2502, 0x2524, 0x2561, 0x2562, 0x2556,
  0x2555, 0x2563, 0x2551, 0x2557, 0x255d, 0x255c, 0x255b, 0x2510,
  0x2514, 0x2534, 0x252c, 0x251c, 0x2500, 0x253c, 0x255e, 0x255f,
  0x255a, 0x2554, 0x2569, 0x2566, 0x2560, 0x2550, 0x256c, 0x2567,
  0x2568, 0x2564, 0x2565, 0x2559, 0x2558, 0x2552, 0x2553, 0x256b,
  0x256a, 0x2518, 0x250c, 0x2588, 0x2584, 0x258c, 0x2590, 0x2580,
  0x03b1, 0x00df, 0x0393, 0x03c0, 0x03a3, 0x03c3, 0x00b5, 0x03c4,
  0x03a6, 0x0398, 0x03a9, 0x03b4, 0x221e, 0x03c6, 0x03b5, 0x2229,
  0x2261, 0x00b1, 0x2265, 0x2264, 0x2320, 0x2321, 0x00f7, 0x2248,
  0x00b0, 0x2219, 0x00b7, 0x221a, 0x207f, 0x00b2, 0x25a0, 0x00a0
};

const unsigned long utf16_cp437hi[128] =
{
  0xff00a0, 0xad00a1, 0x9b00a2, 0x9c00a3,
  0x9d00a5, 0xa600aa, 0xae00ab, 0xaa00ac,
  0xf800b0, 0xf100b1, 0xfd00b2, 0xe600b5,
  0xfa00b7, 0xa700ba, 0xaf00bb, 0xac00bc,
  0xab00bd, 0xa800bf, 0x8e00c4, 0x8f00c5,
  0x9200c6, 0x8000c7, 0x9000c9, 0xa500d1,
  0x9900d6, 0x9a00dc, 0xe100df, 0x8500e0,
  0xa000e1, 0x8300e2, 0x8400e4, 0x8600e5,
  0x9100e6, 0x8700e7, 0x8a00e8, 0x8200e9,
  0x8800ea, 0x8900eb, 0x8d00ec, 0xa100ed,
  0x8c00ee, 0x8b00ef, 0xa400f1, 0x9500f2,
  0xa200f3, 0x9300f4, 0x9400f6, 0xf600f7,
  0x9700f9, 0xa300fa, 0x9600fb, 0x8100fc,
  0x9800ff, 0x9f0192, 0xe20393, 0xe90398,
  0xe403a3, 0xe803a6, 0xea03a9, 0xe003b1,
  0xeb03b4, 0xee03b5, 0xe303c0, 0xe503c3,
  0xe703c4, 0xed03c6, 0xfc207f, 0x9e20a7,
  0xf92219, 0xfb221a, 0xec221e, 0xef2229,
  0xf72248, 0xf02261, 0xf32264, 0xf22265,
  0xa92310, 0xf42320, 0xf52321, 0xc42500,
  0xb32502, 0xda250c, 0xbf2510, 0xc02514,
  0xd92518, 0xc3251c, 0xb42524, 0xc2252c,
  0xc12534, 0xc5253c, 0xcd2550, 0xba2551,
  0xd52552, 0xd62553, 0xc92554, 0xb82555,
  0xb72556, 0xbb2557, 0xd42558, 0xd32559,
  0xc8255a, 0xbe255b, 0xbd255c, 0xbc255d,
  0xc6255e, 0xc7255f, 0xcc2560, 0xb52561,
  0xb62562, 0xb92563, 0xd12564, 0xd22565,
  0xcb2566, 0xcf2567, 0xd02568, 0xca2569,
  0xd8256a, 0xd7256b, 0xce256c, 0xdf2580,
  0xdc2584, 0xdb2588, 0xdd258c, 0xde2590,
  0xb02591, 0xb12592, 0xb22593, 0xfe25a0
};

unsigned short Cp437toUtf16(unsigned char c)
{
  if (c < 0x80)
    return c;
  return cp437hi_utf16[c - 0x80];
}

static int CompareUtf16toCp437(const void* pv1, const void* pv2)
{
  const unsigned long *pl1 = pv1, *pl2 = pv2;
  unsigned long v1 = *pl1 & 0xFFFF, v2 = *pl2 & 0xFFFF;

  if (v1 > v2)
    return +1;

  if (v1 < v2)
    return -1;

  return 0;
}

int Utf16toCp437(unsigned long cp)
{
  unsigned long* p;

  if (cp < 0x80)
    return cp;

  if (cp > 0xFFFF)
    return -1;

  p = bsearch(&cp,
              utf16_cp437hi,
              sizeof(utf16_cp437hi) / sizeof(utf16_cp437hi[0]),
              sizeof(utf16_cp437hi[0]),
              &CompareUtf16toCp437);

  if (p == NULL)
    return -1;

  return *p >> 16;
}

int main(void)
{
  unsigned c;

  for (c = 0; c <= 0xFF; c++)
  {
    unsigned long cp = Cp437toUtf16(c);
    int c2 = Utf16toCp437(cp);

    printf("0x%02X -> 0x%04lX -> 0x%02X\n", c, cp, c2);

    if (c != c2)
    {
      puts("Failure!");
      return EXIT_FAILURE;
    }
  }

  puts("Success!");
  return EXIT_SUCCESS;
} 
```

输出（[ideone](http://ideone.com/iSKrgN)）：

```
0x00 -> 0x0000 -> 0x00
0x01 -> 0x0001 -> 0x01
0x02 -> 0x0002 -> 0x02
0x03 -> 0x0003 -> 0x03
0x04 -> 0x0004 -> 0x04
0x05 -> 0x0005 -> 0x05
0x06 -> 0x0006 -> 0x06
0x07 -> 0x0007 -> 0x07
0x08 -> 0x0008 -> 0x08
0x09 -> 0x0009 -> 0x09
0x0A -> 0x000A -> 0x0A
0x0B -> 0x000B -> 0x0B
0x0C -> 0x000C -> 0x0C
0x0D -> 0x000D -> 0x0D
0x0E -> 0x000E -> 0x0E
0x0F -> 0x000F -> 0x0F
0x10 -> 0x0010 -> 0x10
0x11 -> 0x0011 -> 0x11
0x12 -> 0x0012 -> 0x12
0x13 -> 0x0013 -> 0x13
0x14 -> 0x0014 -> 0x14
0x15 -> 0x0015 -> 0x15
0x16 -> 0x0016 -> 0x16
0x17 -> 0x0017 -> 0x17
0x18 -> 0x0018 -> 0x18
0x19 -> 0x0019 -> 0x19
0x1A -> 0x001A -> 0x1A
0x1B -> 0x001B -> 0x1B
0x1C -> 0x001C -> 0x1C
0x1D -> 0x001D -> 0x1D
0x1E -> 0x001E -> 0x1E
0x1F -> 0x001F -> 0x1F
0x20 -> 0x0020 -> 0x20
0x21 -> 0x0021 -> 0x21
0x22 -> 0x0022 -> 0x22
0x23 -> 0x0023 -> 0x23
0x24 -> 0x0024 -> 0x24
0x25 -> 0x0025 -> 0x25
0x26 -> 0x0026 -> 0x26
0x27 -> 0x0027 -> 0x27
0x28 -> 0x0028 -> 0x28
0x29 -> 0x0029 -> 0x29
0x2A -> 0x002A -> 0x2A
0x2B -> 0x002B -> 0x2B
0x2C -> 0x002C -> 0x2C
0x2D -> 0x002D -> 0x2D
0x2E -> 0x002E -> 0x2E
0x2F -> 0x002F -> 0x2F
0x30 -> 0x0030 -> 0x30
0x31 -> 0x0031 -> 0x31
0x32 -> 0x0032 -> 0x32
0x33 -> 0x0033 -> 0x33
0x34 -> 0x0034 -> 0x34
0x35 -> 0x0035 -> 0x35
0x36 -> 0x0036 -> 0x36
0x37 -> 0x0037 -> 0x37
0x38 -> 0x0038 -> 0x38
0x39 -> 0x0039 -> 0x39
0x3A -> 0x003A -> 0x3A
0x3B -> 0x003B -> 0x3B
0x3C -> 0x003C -> 0x3C
0x3D -> 0x003D -> 0x3D
0x3E -> 0x003E -> 0x3E
0x3F -> 0x003F -> 0x3F
0x40 -> 0x0040 -> 0x40
0x41 -> 0x0041 -> 0x41
0x42 -> 0x0042 -> 0x42
0x43 -> 0x0043 -> 0x43
0x44 -> 0x0044 -> 0x44
0x45 -> 0x0045 -> 0x45
0x46 -> 0x0046 -> 0x46
0x47 -> 0x0047 -> 0x47
0x48 -> 0x0048 -> 0x48
0x49 -> 0x0049 -> 0x49
0x4A -> 0x004A -> 0x4A
0x4B -> 0x004B -> 0x4B
0x4C -> 0x004C -> 0x4C
0x4D -> 0x004D -> 0x4D
0x4E -> 0x004E -> 0x4E
0x4F -> 0x004F -> 0x4F
0x50 -> 0x0050 -> 0x50
0x51 -> 0x0051 -> 0x51
0x52 -> 0x0052 -> 0x52
0x53 -> 0x0053 -> 0x53
0x54 -> 0x0054 -> 0x54
0x55 -> 0x0055 -> 0x55
0x56 -> 0x0056 -> 0x56
0x57 -> 0x0057 -> 0x57
0x58 -> 0x0058 -> 0x58
0x59 -> 0x0059 -> 0x59
0x5A -> 0x005A -> 0x5A
0x5B -> 0x005B -> 0x5B
0x5C -> 0x005C -> 0x5C
0x5D -> 0x005D -> 0x5D
0x5E -> 0x005E -> 0x5E
0x5F -> 0x005F -> 0x5F
0x60 -> 0x0060 -> 0x60
0x61 -> 0x0061 -> 0x61
0x62 -> 0x0062 -> 0x62
0x63 -> 0x0063 -> 0x63
0x64 -> 0x0064 -> 0x64
0x65 -> 0x0065 -> 0x65
0x66 -> 0x0066 -> 0x66
0x67 -> 0x0067 -> 0x67
0x68 -> 0x0068 -> 0x68
0x69 -> 0x0069 -> 0x69
0x6A -> 0x006A -> 0x6A
0x6B -> 0x006B -> 0x6B
0x6C -> 0x006C -> 0x6C
0x6D -> 0x006D -> 0x6D
0x6E -> 0x006E -> 0x6E
0x6F -> 0x006F -> 0x6F
0x70 -> 0x0070 -> 0x70
0x71 -> 0x0071 -> 0x71
0x72 -> 0x0072 -> 0x72
0x73 -> 0x0073 -> 0x73
0x74 -> 0x0074 -> 0x74
0x75 -> 0x0075 -> 0x75
0x76 -> 0x0076 -> 0x76
0x77 -> 0x0077 -> 0x77
0x78 -> 0x0078 -> 0x78
0x79 -> 0x0079 -> 0x79
0x7A -> 0x007A -> 0x7A
0x7B -> 0x007B -> 0x7B
0x7C -> 0x007C -> 0x7C
0x7D -> 0x007D -> 0x7D
0x7E -> 0x007E -> 0x7E
0x7F -> 0x007F -> 0x7F
0x80 -> 0x00C7 -> 0x80
0x81 -> 0x00FC -> 0x81
0x82 -> 0x00E9 -> 0x82
0x83 -> 0x00E2 -> 0x83
0x84 -> 0x00E4 -> 0x84
0x85 -> 0x00E0 -> 0x85
0x86 -> 0x00E5 -> 0x86
0x87 -> 0x00E7 -> 0x87
0x88 -> 0x00EA -> 0x88
0x89 -> 0x00EB -> 0x89
0x8A -> 0x00E8 -> 0x8A
0x8B -> 0x00EF -> 0x8B
0x8C -> 0x00EE -> 0x8C
0x8D -> 0x00EC -> 0x8D
0x8E -> 0x00C4 -> 0x8E
0x8F -> 0x00C5 -> 0x8F
0x90 -> 0x00C9 -> 0x90
0x91 -> 0x00E6 -> 0x91
0x92 -> 0x00C6 -> 0x92
0x93 -> 0x00F4 -> 0x93
0x94 -> 0x00F6 -> 0x94
0x95 -> 0x00F2 -> 0x95
0x96 -> 0x00FB -> 0x96
0x97 -> 0x00F9 -> 0x97
0x98 -> 0x00FF -> 0x98
0x99 -> 0x00D6 -> 0x99
0x9A -> 0x00DC -> 0x9A
0x9B -> 0x00A2 -> 0x9B
0x9C -> 0x00A3 -> 0x9C
0x9D -> 0x00A5 -> 0x9D
0x9E -> 0x20A7 -> 0x9E
0x9F -> 0x0192 -> 0x9F
0xA0 -> 0x00E1 -> 0xA0
0xA1 -> 0x00ED -> 0xA1
0xA2 -> 0x00F3 -> 0xA2
0xA3 -> 0x00FA -> 0xA3
0xA4 -> 0x00F1 -> 0xA4
0xA5 -> 0x00D1 -> 0xA5
0xA6 -> 0x00AA -> 0xA6
0xA7 -> 0x00BA -> 0xA7
0xA8 -> 0x00BF -> 0xA8
0xA9 -> 0x2310 -> 0xA9
0xAA -> 0x00AC -> 0xAA
0xAB -> 0x00BD -> 0xAB
0xAC -> 0x00BC -> 0xAC
0xAD -> 0x00A1 -> 0xAD
0xAE -> 0x00AB -> 0xAE
0xAF -> 0x00BB -> 0xAF
0xB0 -> 0x2591 -> 0xB0
0xB1 -> 0x2592 -> 0xB1
0xB2 -> 0x2593 -> 0xB2
0xB3 -> 0x2502 -> 0xB3
0xB4 -> 0x2524 -> 0xB4
0xB5 -> 0x2561 -> 0xB5
0xB6 -> 0x2562 -> 0xB6
0xB7 -> 0x2556 -> 0xB7
0xB8 -> 0x2555 -> 0xB8
0xB9 -> 0x2563 -> 0xB9
0xBA -> 0x2551 -> 0xBA
0xBB -> 0x2557 -> 0xBB
0xBC -> 0x255D -> 0xBC
0xBD -> 0x255C -> 0xBD
0xBE -> 0x255B -> 0xBE
0xBF -> 0x2510 -> 0xBF
0xC0 -> 0x2514 -> 0xC0
0xC1 -> 0x2534 -> 0xC1
0xC2 -> 0x252C -> 0xC2
0xC3 -> 0x251C -> 0xC3
0xC4 -> 0x2500 -> 0xC4
0xC5 -> 0x253C -> 0xC5
0xC6 -> 0x255E -> 0xC6
0xC7 -> 0x255F -> 0xC7
0xC8 -> 0x255A -> 0xC8
0xC9 -> 0x2554 -> 0xC9
0xCA -> 0x2569 -> 0xCA
0xCB -> 0x2566 -> 0xCB
0xCC -> 0x2560 -> 0xCC
0xCD -> 0x2550 -> 0xCD
0xCE -> 0x256C -> 0xCE
0xCF -> 0x2567 -> 0xCF
0xD0 -> 0x2568 -> 0xD0
0xD1 -> 0x2564 -> 0xD1
0xD2 -> 0x2565 -> 0xD2
0xD3 -> 0x2559 -> 0xD3
0xD4 -> 0x2558 -> 0xD4
0xD5 -> 0x2552 -> 0xD5
0xD6 -> 0x2553 -> 0xD6
0xD7 -> 0x256B -> 0xD7
0xD8 -> 0x256A -> 0xD8
0xD9 -> 0x2518 -> 0xD9
0xDA -> 0x250C -> 0xDA
0xDB -> 0x2588 -> 0xDB
0xDC -> 0x2584 -> 0xDC
0xDD -> 0x258C -> 0xDD
0xDE -> 0x2590 -> 0xDE
0xDF -> 0x2580 -> 0xDF
0xE0 -> 0x03B1 -> 0xE0
0xE1 -> 0x00DF -> 0xE1
0xE2 -> 0x0393 -> 0xE2
0xE3 -> 0x03C0 -> 0xE3
0xE4 -> 0x03A3 -> 0xE4
0xE5 -> 0x03C3 -> 0xE5
0xE6 -> 0x00B5 -> 0xE6
0xE7 -> 0x03C4 -> 0xE7
0xE8 -> 0x03A6 -> 0xE8
0xE9 -> 0x0398 -> 0xE9
0xEA -> 0x03A9 -> 0xEA
0xEB -> 0x03B4 -> 0xEB
0xEC -> 0x221E -> 0xEC
0xED -> 0x03C6 -> 0xED
0xEE -> 0x03B5 -> 0xEE
0xEF -> 0x2229 -> 0xEF
0xF0 -> 0x2261 -> 0xF0
0xF1 -> 0x00B1 -> 0xF1
0xF2 -> 0x2265 -> 0xF2
0xF3 -> 0x2264 -> 0xF3
0xF4 -> 0x2320 -> 0xF4
0xF5 -> 0x2321 -> 0xF5
0xF6 -> 0x00F7 -> 0xF6
0xF7 -> 0x2248 -> 0xF7
0xF8 -> 0x00B0 -> 0xF8
0xF9 -> 0x2219 -> 0xF9
0xFA -> 0x00B7 -> 0xFA
0xFB -> 0x221A -> 0xFB
0xFC -> 0x207F -> 0xFC
0xFD -> 0x00B2 -> 0xFD
0xFE -> 0x25A0 -> 0xFE
0xFF -> 0x00A0 -> 0xFF
Success! 
```

**更新**`bsearch()`：您也可以在不调用回调函数的情况下实现内联二进制搜索。如果它很重要，它会加快速度。

# objective-c - IOS解析多个JSON提要

> ID：16029614
> 
> 赞同：0
> 
> 时间：2013-04-16T05:46:44.520
> 
> 标签：objective-c, json, ios6

我正在做一个项目，我有一个网站，我从中解析 JSON 数据。问题是它是一家连锁餐厅，所以有很多城市，每个城市可能有多家餐厅。现在为了设计，我正在为每个我知道不好的地址创建一个新方法。

```
- (void)fetchRSSFeedWithCompletion:(void (^)(FeedChannel *obj, NSError *err))block
{

NSString *formattedUrl = [NSString stringWithFormat:@"http://www.sodexo.fi/ruokalistat/output/daily_json/441/%@/fi", [self currentDate]];

NSURL *url = [NSURL URLWithString:formattedUrl];

NSURLRequest *req = [NSURLRequest requestWithURL:url];

FeedChannel *channel = [[FeedChannel alloc] init];

SMConnection *connection = [[SMConnection alloc] initWithRequest:req];

[connection setCompletionBlock:^(FeedChannel *obj, NSError *err) {
    if (!err) {
        [self setTopSongsCacheDate:[NSDate date]];
        [NSKeyedArchiver archiveRootObject:obj toFile:cachePath];
    }
    block(obj, err);
}];
[connection setJsonRootObject:channel];
[connection start];
} 
```

解决这个问题的最佳方法是什么？我是否创建一个包含所有地址的类然后调用它们？我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:11:44.467

如果您将地址动态添加到您的服务器。那么你不应该将它们存储在设备上。因此，要回答您的具体问题：

> 我是否创建一个包含所有地址的类然后调用它们？

我认为你应该***避免这种情况，除非你有***将来不会改变的静态地址。

我在我的一个项目中完成了这种事情。这就是我所做的。（**可能不是最好的方法，但我让它工作得很好而且很顺利**）：

对于地址，您需要有一个单独的 Web 服务。它将仅返回 JSON 数组地址（当然，您可以在中间 TableView 中显示）

然后，根据用户（或您的情况）的选择，您可以调用 Web 服务，该服务会返回该地址的所有餐厅详细信息。

**注意：**您的 Web 服务应返回最少的数据。您始终可以在另一个单独的 Web 服务中获得详细数据（例如，关于这些餐厅的评论）。***避免将所有数据转储到单个调用中（尽可能）***

可能不是一个完美的解决方案。但是，我希望这可以帮助你，有一些想法。

## 编辑

由于您无法编辑提供给您的 Web 服务，因此改进该方法的机会非常少。虽然您可以手动获取餐厅的所有代码并创建一个数据库（或者您可以为此使用 .plist 文件，因为数据量不会很大）。

**可以帮助您的要点：**

*   主要部分是您必须组织您的数据（城市 -> 餐馆）。
*   用于[`NSOperation`](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSOperation_class/Reference/Reference.html)将 Web 服务调用作为独立操作执行，[`NSOperationQueue`](http://developer.apple.com/library/ios/#Documentation/Cocoa/Reference/NSOperationQueue_class/Reference/Reference.html)以使流程井井有条。

在视图级别，无论您想展示什么，都由您决定。

# php - 在 CodeIgniter 中使用后续查询将变量附加到对象

> ID：16029620
> 
> 赞同：0
> 
> 时间：2013-04-16T05:47:05.927
> 
> 标签：php, database, codeigniter, object

假设我有两个表来存储用户配置文件：（`sm_user_profiles`社交媒体）和`vital_user_profiles`.

现在我想要一个用于访问个人资料信息的通用对象。为清楚起见，此对象仅适用于一个用户（登录用户），不会返回多行。

从此开始：

```
$query = $this->db->query('SELECT * FROM vital_user_profiles WHERE id="1"');
$profile = $query->row();

echo $profile->email; 
```

我怎样才能把它和这个结合起来：

```
$query = $this->db->query('SELECT * FROM sm_user_profiles WHERE id="1"');`
$profile = $query->row();

echo $profile->facebookURL; 
```

这样我才能做到这一点？

```
echo $profile->email.$profile->facebookURL; 
```

我是 PHP 对象的新手。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T05:10:47.880

你可以使用[**`LEFT JOIN`**](http://dev.mysql.com/doc/refman/5.0/en/left-join-optimization.html)功能

```
$query = $this->db->query('SELECT * FROM `vital_user_profiles` a LEFT JOIN  `sm_user_profiles` b ON a.`id` = b.`id` WHERE a.`id` = "1"');
$profile = $query->row(); 
```

现在我们有了我们需要的所有数据，所以你可以回显这两个值

```
echo 'Email: ' . $profile->email . ' facebook url: ' .  $profile->facebookURL; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:22:14.427

是的，您可以开始创建一个对象，然后最后返回包含所有表信息的对象。例如

```
public function build_user($uid) {
  $user_data['vital'] = $this->db->select()->from('vital_user_profiles')->where('id', $uid)->get()->row();
  $user_data['sm'] = $this->db->select()->from('sm_user_profiles')->where('id', $uid)->get()->row();
  return $user_data;
} 
```

这应该会给你一个很好的对象，其中包含所有的字段数据。您可以继续添加更多内容。我有一个大模型，它正在做同样的事情，我从 4 或 5 个不同的表创建了一个节点对象，这些表是由 Drupal 管理的数据库，前端是使用 Code Igniter 完成的。如果您愿意，如果这对您不起作用，我可以将代码发送给您以供参考。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:49:08.113

您可以使用加入

```
sm_user_profiles.id = vital_user_profiles.id 
```

在哪里

```
vital_user_profiles.id  =1 ; 
```

像这样的东西

# java - Java 打印。使用 `Book` 类时只打印一页

> ID：16029624
> 
> 赞同：0
> 
> 时间：2013-04-16T05:47:16.610
> 
> 标签：java, printing

在打印 PDF 文档时，我使用[`Book`](http://docs.oracle.com/javase/6/docs/api/java/awt/print/Book.html)类为页面提供不同的方向。

但是当我使用 Book 类时，只打印第一页。其他页面不打印。但是 `Book#getNumberOfPages`还给我`4`。

我的代码如下所示：

```
 public static getDoc(DocAttributeSet dset) {
        final PDFFile pdfFile = new PDFFile(buf);
            Book book = new Book();
            for (int i=0; i<pdfFile.getNumPages(); i++) {
                PDFPage page = pdfFile.getPage(i);
                PageFormat pageFormat =  new PageFormat();

                if (page.getAspectRatio() >= 1) {
                    pageFormat.setOrientation(PageFormat.LANDSCAPE);
                } else {
                    pageFormat.setOrientation(PageFormat.PORTRAIT);
                }
                boolean needStop = false;
                if (pdfFile.getNumPages() - 1 == i ) { // if latest page, then stopping ('needStop' = NO_SUCH_PAGE)
                    needStop = true;
                }
                book.append(getPrintable(page, needStop), pageFormat);
            }
          return new SimpleDoc(book, DocFlavor.SERVICE_FORMATTED.PAGEABLE, dset);
      }    

    private static Printable getPrintable(final PDFPage page, final boolean needStop) {
            return new Printable() {
                public int print(Graphics g, PageFormat pageFormat, int index) throws PrinterException {
                    if (needStop) {
                        return NO_SUCH_PAGE;
                    }

                    // no scaling, center PDF
                    ... // code omitted

                    return PAGE_EXISTS;

                }
            };
    } 
```

**请注意**：我使用此代码打印文档：

```
DocPrintJob job = prn.createPrintJob();
job.print(myDoc, aset); 
```

即我不使用旧 API：

```
Book bk = new Book();       
job.setPageable(bk); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-25T13:12:10.513

解决方案是在“书”中放置要打印的最大页数，可能是 3 或 10，这并不意味着它会打印所有 10，只标记书的大小：

```
book.append(getPrintable(page, needStop), pageFormat, numPages); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:27:24.473

这是我放在一起的测试代码...

它不打印 PDF，但测试页面方向和页数的变化。

```
import java.awt.Color;
import java.awt.Font;
import java.awt.Graphics;
import java.awt.print.Book;
import java.awt.print.PageFormat;
import java.awt.print.Printable;
import static java.awt.print.Printable.NO_SUCH_PAGE;
import static java.awt.print.Printable.PAGE_EXISTS;
import java.awt.print.PrinterException;
import javax.print.Doc;
import javax.print.DocFlavor;
import javax.print.DocPrintJob;
import javax.print.PrintService;
import javax.print.PrintServiceLookup;
import javax.print.SimpleDoc;
import javax.print.attribute.DocAttributeSet;
import javax.print.attribute.HashDocAttributeSet;
import javax.print.attribute.HashPrintRequestAttributeSet;
import javax.print.attribute.PrintRequestAttributeSet;

public class TestBook {

    public static void main(String[] args) {
        DocFlavor psInFormat = DocFlavor.INPUT_STREAM.AUTOSENSE;

        HashDocAttributeSet docAttSet = new HashDocAttributeSet();
        Doc myDoc = getDoc(docAttSet);
        PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();
        PrintService[] services = PrintServiceLookup.lookupPrintServices(psInFormat, aset);

        // this step is necessary because I have several printers configured  
        PrintService myPrinter = null;
        for (int i = 0; i < services.length; i++) {
            String svcName = services[i].toString();
            System.out.println("service found: " + svcName);
            if (svcName.contains("DocuCentre-III C3100")) {
                myPrinter = services[i];
                System.out.println("my printer found: " + svcName);
                break;
            }
        }

        if (myPrinter != null) {
            DocPrintJob job = myPrinter.createPrintJob();
            try {
                job.print(myDoc, aset);

            } catch (Exception pe) {
                pe.printStackTrace();
            }
        } else {
            System.out.println("no printer services found");
        }
    }

    public static SimpleDoc getDoc(DocAttributeSet dset) {
        Book book = new Book();
        for (int i = 0; i < 4; i++) {
            PageFormat pageFormat = new PageFormat();

            if (i % 2 == 0) {
                pageFormat.setOrientation(PageFormat.LANDSCAPE);
            } else {
                pageFormat.setOrientation(PageFormat.PORTRAIT);
            }
            boolean needStop = false;
            if (3 == i) { // 'needStop' = NO_SUCH_PAGE
                needStop = true;
            }
            book.append(getPrintable(i, needStop), pageFormat);
        }
        System.out.println("Book = " + book.getNumberOfPages());
        return new SimpleDoc(book, DocFlavor.SERVICE_FORMATTED.PAGEABLE, dset);
    }

    private static Printable getPrintable(int page, boolean needStop) {
        return new MyPage(page, needStop);
    }

    public static class MyPage implements Printable {

        private int page;
        private boolean needStop;

        public MyPage(int page, boolean needStop) {
            this.page = page;
            this.needStop = needStop;
        }

        public int print(Graphics g, PageFormat pageFormat, int index) throws PrinterException {
            g.translate((int)pageFormat.getImageableX(), (int)pageFormat.getImageableY());
            System.out.println("Printing " + page);
            Font font = new Font("Arial", Font.BOLD, 128);
            g.setColor(Color.BLACK);
            g.setFont(font);
            g.drawString(String.valueOf(index), 0, g.getFontMetrics().getAscent());

//            if (needStop) {
//                return NO_SUCH_PAGE;
//            }
            return PAGE_EXISTS;

        }
    }
} 
```

从外观上看，你的`needStop`位置错了。只有在实际上不需要打印更多页面时才应该调用它，但是我阅读您的代码的方式（我可能是错的）似乎想要跳过最后一页。

但是，经过测试，您似乎实际上并不需要它（因为`Book`知道它要打印多少页；））

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-20T05:38:55.733

你应该实现这样`print()`的方法`Printable`：

```
@Override
public int print(Graphics g, PageFormat pf, int pageNumber)
        throws PrinterException {
    if (pageNumber < book.getNumberOfPages()) {
        // Printing code here

        return PAGE_EXISTS;
    }
    return NO_SUCH_PAGE;
} 
```

为此，您必须引用您的`book`实例，这可以通过使用上述方法定义制作内部类`Page`实现接口来实现。`Printable``print()`

# c++ - Opencv2 示例程序不工作

> ID：16029625
> 
> 赞同：0
> 
> 时间：2013-04-16T05:47:21.047
> 
> 标签：c++, linux, opencv

我正在尝试让 opencv2 代码在我的 Ubuntu 12.04 上运行。似乎库已正确安装。

这是我试图开始工作的示例代码

```
#include <opencv2/core/core.hpp>
#include <opencv2/highgui/highgui.hpp>

using namespace cv;

int main(int argc, char ** argv)
{
    // Read image and write to matrix - here converted to grayimage by "0"
    Mat myimage = imread ( argv[1], 0 );

    // Show it in a window
    imshow ( "MyWindowTitle", myimage);

    // Wait for a keypress ( for x [ms], 0 means infinity )
    waitKey(0);
} 
```

我将此代码编译为：

```
g++ -o sample `pkg-config --cflags --libs opencv` sample.cpp 
```

但是我收到以下编译器错误：

```
/tmp/cccMPtyu.o: In function `main':
imshow.cpp:(.text+0x59): undefined reference to `cv::imread(std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int)'
imshow.cpp:(.text+0x92): undefined reference to `cv::_InputArray::_InputArray(cv::Mat const&)'
imshow.cpp:(.text+0xc9): undefined reference to `cv::imshow(std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, cv::_InputArray const&)'
imshow.cpp:(.text+0xeb): undefined reference to `cv::waitKey(int)'
/tmp/cccMPtyu.o: In function `cv::Mat::~Mat()':
imshow.cpp:(.text._ZN2cv3MatD2Ev[_ZN2cv3MatD5Ev]+0x2b): undefined reference to `cv::fastFree(void*)'
/tmp/cccMPtyu.o: In function `cv::Mat::release()':
imshow.cpp:(.text._ZN2cv3Mat7releaseEv[cv::Mat::release()]+0x3b): undefined reference to `cv::Mat::deallocate()'
collect2: ld returned 1 exit status 
```

可能的原因是什么？我该如何纠正？

也有人可以建议一个专门针对opencv2的好教程。我以前使用过 opencv1 进行编程，但似乎发生了很多变化。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T07:10:56.103

添加库路径

```
export LD_LIBRARY_PATH=$LD_LIBARARY_PATH:/usr/local/lib 
```

然后使用命令

```
g++ -o sample sample.cpp `pkg-config --cflags --libs opencv` 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T07:10:21.617

看起来`pkg-config`程序假设库路径`opencv` `libs`在默认路径中，但事实并非如此。
尝试将`-L`选项添加到该`gcc`行。( `-L{path to opencv libs}`)

# knockout.js - TypeScript 不打算为我处理 this 范围吗？

> ID：16029630
> 
> 赞同：2
> 
> 时间：2013-04-16T05:47:46.983
> 
> 标签：knockout.js, typescript

我正在使用淘汰赛和 TypeScript 。

我收到一个错误：

```
AppViewModel.prototype.setActive = function (data, event) {
            this.active(data);
        }; 
```

从此 TypeScript 文件：

```
export class AppViewModel {

    ///Properties
    projects = projects;
    error = ko.observable();
    active = ko.observable();
    //setActive: (data,e)=>void;
    ///Constructor
    constructor()
    {
        this.active = ko.observable();
        DataContext.getProjects(this.projects, this.error);

    }

    isActive(data)
    {
        return this.active() == data;
    }
    setActive(data, event) {

        this.active(data);
    }
} 
```

Object # 没有方法'active'，它的绑定是这样的：

```
<li class="nav-header">Projects</li>
            <!-- ko foreach: projects -->
            <li class="">
                <a href="#" data-bind="click: $parent.setActive, css: { active: ($parent.isActive($data)) }">
                    <i class="icon-pencil"></i>
                    <span style="padding-right: 15px;" data-bind="text: title"></span>
                </a>
            </li>
            <!-- /ko --> 
```

$Parent 应该是 AppViewModel。在我点击链接之前它一直有效。

我不是 100% 确定错误是否与我不理解的绑定或打字稿生成的函数有关，并且处理不当。

原型函数中的 this 是指对象本身吗？还是功能范围？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T05:54:00.333

TypeScript 不会尝试猜测`this`您想要的上下文。如果您想`setActive`始终使用类实例作为`this`上下文，您可以`bind`在构造函数中使用它：

```
export class AppViewModel {
    ...
    constructor() {
        this.active = ko.observable();
        DataContext.getProjects(this.projects, this.error);
        this.setActive = this.setActive.bind(this);
    }
    ...
} 
```

# java - 如何将 BigInteger 转换为 ascii 字符串

> ID：16029633
> 
> 赞同：0
> 
> 时间：2013-04-16T05:47:52.397
> 
> 标签：java, encryption, integer, rsa

正在寻找一些关于如何将大整数值转换为 ascii 字符串的帮助；

在使用 RSA 加密/解密完成一些工作后，我将这个**140472961968666030223**解密为消息，现在我需要将其转换为一串 ascii 字符。我发现了这种将一串 ascii 字符转换为大整数的方法，但我终生无法弄清楚如何反转该方法。

> 注意：对于一个有 8 个字符的块，得到的整数也可以通过以下方式计算：
> 
> R= c [7] * 256 ⁷ + c [6] * 256 ⁶ + c [5] * 256 ⁵ + c [4] * 256 ⁴ + c [3] * 256 ³ + c [2] * 256 ² + c [1] * 256 + c [0] * 1

所以我可以看到如果你知道那些字符或其他东西很容易撤消，但在这种情况下，我只有那个 BigInteger，我怎么知道要取出什么（比如什么块）以及它们去哪里？ )

如果有人有更好的方法，请拍摄，因为这不是很有希望！

谢谢！  

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T13:56:12.297

如果`R`是 BigInteger，您可以`c`按如下方式恢复数组：

```
byte [] c = new byte[8];
for (int i=0; i<c.length; i++) {
    c[i] = R.byteValue();
    R = R.shiftRight(8);
} 
```

# kendo-ui - 如何在剑道图表中更改工具提示的位置

> ID：16029637
> 
> 赞同：5
> 
> 时间：2013-04-16T05:48:04.883
> 
> 标签：kendo-ui, tooltip, kendo-dataviz

嗨，我的应用程序中有剑道图表，它在右侧显示工具提示我想将工具提示的位置更改为左侧。如何做到这一点。我的图表代码是

```
 $("#chart").kendoChart({
        title: {
            text: "Internet Users"
           },
         legend: {
    position: "bottom"
},
seriesDefaults: {
    type: "column"
},
series: [{
    name: "World",
    data: [15.7, 16.7, 20, 23.5, 26.6]},
{
    name: "United States",
    data: [67.96, 68.93, 75, 74, 78]}],
valueAxis: {
    labels: {
        format: "{0}%"
    }
},
categoryAxis: {
    categories: [2005, 2006, 2007, 2008, 2009]
},
tooltip: {
    visible: true,
    template: "#= category # value: #= value # %"
}
      }); 
```

我的小提琴是[http://jsfiddle.net/2dNcP/88/](http://jsfiddle.net/2dNcP/88/)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-16T06:00:53.400

试试这个

.k-tooltip { margin-left: -100px; }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-04T23:12:11.030

看看这个链接： [http ://www.roelvanlisdonk.nl/?p=3831](http://www.roelvanlisdonk.nl/?p=3831)

同上：

```
<style type="text/css">
    #myDivId_tt_active {
       background-color: #FFFFFF;
       left: 14px;
    }
</style>
<div id="myDivId"/> 
```

获取您的元素 ID 并与 tt 连接（我猜来自工具提示）并激活它的样式。就那么简单。

# php - PHP：删除 GIF 动画

> ID：16029638
> 
> 赞同：0
> 
> 时间：2013-04-16T05:48:12.533
> 
> 标签：php, thumbnails, gif, animated-gif

有人知道如何使用 PHP 从图片中删除 gif 动画吗？

例如：用户上传一张 GIF 图片，PHP 创建一个非动画图片的缩略图。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T05:52:02.940

您可以简单地创建图像的 jpg 缩略图。

更多详细信息：[创建 png、jpg 和 gif 图像的缩略图创建](https://stackoverflow.com/questions/10360788/create-thumbnail-creation-of-png-jpg-and-gif-images)

# asp.net - 默认页面未在实时服务器上打开

> ID：16029643
> 
> 赞同：0
> 
> 时间：2013-04-16T05:48:22.213
> 
> 标签：asp.net, visual-studio-2010, web-deployment

我在部署站点时遇到了一个问题，当我在实时服务器上部署站点时，我将主页设置为默认页面。当有人尝试打开域名时，它在本地但在实时服务器上工作正常，然后显示错误，但是当他输入与主页连接的地址时，它可以工作。

[你可以点击这里在线阅读古兰经](http://onlinequranreading.org/Home.aspx)看到我的问题

我认为我的 web.config 中存在此错误，但如果我的 web.config 有错误，那么为什么它适用于主页？我对 asp.net 和部署等非常陌生，所以请正确指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:58:17.350

![在网站面板中设置默认文档](https://i.stack.imgur.com/1zRw0.jpg)

您需要将默认文档设置为 Home.aspx

只需添加`Home.aspx`到默认文档列表的顶部并更新即可。

[在此处](http://www.websitepanel.net/documentation/users-guide/web-sites/#DefaultDocuments)阅读网站面板用户手册

# c# - 如何加载 WCF 服务设置？

> ID：16029645
> 
> 赞同：1
> 
> 时间：2013-04-16T05:48:25.987
> 
> 标签：c#, wcf

我们最近接管了 WCF Web 服务的维护工作。在查看代码时，我看到该服务需要经常访问大约 10 个设置（字符串键值对），并且每次需要它时，它都会将 settings.xml 文件加载到 XmlDocument 中，然后访问该值。

我认为这并不理想，并尝试了以下方法。

1.  **反序列化：**

    *   创建了一个包含我需要的所有设置的设置类。
    *   使用一个小工具将类序列化为一个文件，我将其复制到我的服务文件夹中。
    *   我已将保存的设置反序列化为 JSON（使用 ServiceStack JSON 库）、XML（使用 .NET XmlSerializer）和二进制（使用 BinaryFormatter）。
2.  **Web.Config 中的 appSettings：**

    *   我还尝试将设置保存在 web.Config 文件中并能够检索它们。

两种方法都有效。

我想知道我尝试过的上述两种选择中的哪一种最适合保存我的网络服务的设置？如果还有其他选择，请随时指出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:46:16.153

通常，自定义应用设置保存在 web.config 中。这有两个优点：使用内置功能易于阅读，并在设置更新时提供自动应用程序重新加载。

# lync - 是否可以扩展 Lync 来电弹出窗口？

> ID：16029646
> 
> 赞同：0
> 
> 时间：2013-04-16T05:48:52.090
> 
> 标签：lync, lync-2010, lync-server-2010, lync-client-sdk

目前我只看到来电者的电话号码。是否可以扩展来电弹窗（添加通过电话号码查询数据库的附加信息）？

我正在使用 Lync SDK 2010。

![来电弹出](https://i.stack.imgur.com/GUtc2.png)

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T10:28:26.350

据我所知，这是不可能的。

相反，您可以使用 SDK 连接到 Lync 客户端，捕获来电事件，并使用您自己的数据显示第二个弹出窗口。一些造型和定位将使它接近完美。

# java - java中的正则表达式模式匹配

> ID：16029647
> 
> 赞同：0
> 
> 时间：2013-04-16T05:48:54.777
> 
> 标签：java, regex

我想匹配 Java 中字符串的模式。字符串的格式将是这样的。

“插入 %ABC% %DEF%”

我希望能够在两组 '%' 之间获取字符串 ABC 和 DEF

```
public void parseInput(String input){
    Pattern p = Pattern.compile("?: .* %(.*)%)*");
    Matcher m = p.matcher(input);
    String s1 = m.group(1);
    String s2 = m.group(2);
} 
```

到目前为止，我已经玩过，并继续遇到语法错误。在这种情况下，这是我最近的尝试，收到了一个悬空的元字符错误消息

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T05:52:40.560

您可以使用该`.find()`方法将继续遍历您的字符串并产生它找到的内容：

```
 String str = "INSERT %ABC% %DEF%";
    Pattern p = Pattern.compile("%(.*?)%");
    Matcher m = p.matcher(str);
    while(m.find())
    {
        System.out.println(m.group(1));
    } 
```

产量：

> 美国广播公司
> 
> 国防军

编辑：就像仅供参考一样，具有这样的模式：`%(.*)%`将使您的正则表达式*greedy*，这意味着一旦找到*最后一个* `%`（从而产生`ABC% %DEF`），它将停止匹配。`?`在运算符之后添加运算`*`符（根据我的示例）将使您的模式*非贪婪*，并且它将在`%`找到的第一个位置停止。

# ios - IOS 将时间添加到日期选择器

> ID：16029649
> 
> 赞同：0
> 
> 时间：2013-04-16T05:49:00.173
> 
> 标签：ios, objective-c, nsdate, nsdateformatter

在 IOS 中，我想在日期中添加 2 或 3 个小时，在这里我尝试过但我没有得到正确的结果，有人可以帮助我吗？

```
NSDate *mydate = birthDatePicker.date;
    NSTimeInterval secondsInEightHours = 2 * 60 * 60;
    NSDate *dateEightHoursAhead = [mydate dateByAddingTimeInterval:secondsInEightHours];
    NSLog(@"dateEightHoursAhead %@",dateEightHoursAhead); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:54:04.933

将此代码用于日期选择器

```
- (IBAction)dobbtn:(id)sender {

    UIActionSheet *dateActionSheet = [[UIActionSheet alloc] initWithTitle:@"" delegate:self cancelButtonTitle:nil destructiveButtonTitle:nil otherButtonTitles:@"Done", nil];
    [dateActionSheet setActionSheetStyle:UIActionSheetStyleBlackTranslucent];
    [dateActionSheet showInView:self.view];
    [dateActionSheet setFrame:CGRectMake(0, 200, 320, 383)];

    UIDatePicker *dp = [[UIDatePicker alloc] initWithFrame:CGRectMake(0, 80, 100, 116)];

    dp.datePickerMode = UIDatePickerModeDate;

    [ dp addTarget: self action:
     @selector(dateChanged:)
  forControlEvents:UIControlEventValueChanged
     ];

    [ self.view addSubview: dp ];

    txtDob.font = [ UIFont fontWithName: @"Arial" size: 22.0 ];
    txtDob.textColor = [ UIColor blueColor ];

    txtDob.text = [ dp.date description ];

    [dp setDatePickerMode:UIDatePickerModeDate];

    [dateActionSheet addSubview:dp];

}

-(void) dateChanged: (id)sender
{
    UIDatePicker *control = (UIDatePicker *) sender;
    NSDate *selectedDate = control.date;
    txtDob.text = [ selectedDate description ];
} 
```

# sql - Raiserror 级别 16 不会中止程序

> ID：16029660
> 
> 赞同：0
> 
> 时间：2013-04-16T05:49:27.123
> 
> 标签：sql, tsql, procedure, raiserror

大家好，我有一个存储过程，它检查一个名为 valid 的表中是否存在 batch_id。如果存在，我想中止程序的其余部分。我有

```
If exists(select batch_id 
          from valid
          Where batch_id=@bid)
Raiserror ('file has been extracted already',16,1) 
```

但它不会中止其余的程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T07:33:49.837

`raiserror`不会中止批次，cf。[微软的文档](http://msdn.microsoft.com/en-us/library/ms178592.aspx)。您可能已经获得了这种印象，因为某些*客户端*可能会取消对超过某个严重性阈值的错误的查询。

要在出错时退出过程，请引发错误并返回否定状态。我通常`return -50000 - @@error`会确保我在指定的范围内。

# java - Ant 使用了错误的 Java 编译器，但认为它是正确的

> ID：16029668
> 
> 赞同：8
> 
> 时间：2013-04-16T05:50:25.867
> 
> 标签：java, ant, environment-variables, javac

需要明确的是，这不是这个问题：[Ant is using wrong java version](https://stackoverflow.com/questions/949678/ant-is-using-wrong-java-version)

我正在尝试在 Mac OS 10.8.2 机器上使用 Ant 编译 Java 1.7 项目。我已经安装了 Java 1.7，并且 Eclipse 一直在流畅地构建它。但是，当使用带有 Ant 命令行执行的 Ant 构建脚本时，像这样

```
ant -v 
```

输出充其量是神秘的：第一行显示 Ant 正在按照我自己设置的 $JAVA_HOME 的位置使用 Java 1.7。

```
Apache Ant(TM) version 1.8.2 compiled on December 20 2010
Trying the default build file: build.xml
Buildfile: /Users/emish/School/cis555/homework/cis-555-search-engine/build.xml
Detected Java version: 1.7 in: /Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/Home/jre
Detected OS: Mac OS X 
```

但是，以下编译器错误毫无意义，因为它们揭示了仅在 Java 1.7 之前的版本中才会出现的编译器错误：

```
[javac] /Users/emish/School/cis555/homework/cis-555-search-engine/src/pokedex/crawler/CrawlCore.java:186: <identifier> expected
[javac]         } catch (IOException | ClassNotFoundException | InterruptedException e) {
[javac]                             ^ 
```

这很奇怪。我已经尝试了很多事情，包括重新安装我的 Java JDK 和重新安装 Ant。有没有人对可能导致这个令人费解的问题的原因有所了解？

如果有任何帮助：

```
java -version
java version "1.7.0_17"
Java(TM) SE Runtime Environment (build 1.7.0_17-b02)
Java HotSpot(TM) 64-Bit Server VM (build 23.7-b01, mixed mode)

javac -version
javac 1.7.0_17

echo $JAVA_HOME
/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/Home

ll `which javac`
lrwxr-xr-x  1 root  wheel  75 Oct 30 22:27 /usr/bin/javac -> /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/javac

ll `which java`
lrwxr-xr-x  1 root  wheel  74 Oct 30 22:27 /usr/bin/java -> /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java 
```

编辑：根据评论者的要求，我在下面添加了我的 build.xml 和 manifest.mf 文件。

构建.xml

```
<?xml version="1.0"?>

<project name="pokedex" default="jar" basedir=".">
    <property name="shared.root" location="${basedir}"/>
    <property name="project.root" location="${basedir}"/>
    <property name="build.dir" location="${project.root}${file.separator}build"/>
    <property name="src" location="${project.root}${file.separator}src"/>
    <property name="build.classes" location="${build.dir}${file.separator}classes"/>
    <property name="test.classes" location="${build.classes}${file.separator}test"/>
    <property name="test.source" location="${src}${file.separator}test"/>
    <property name="lib.dir" location="${project.root}${file.separator}lib"/>

    <target name="jar" depends="clobber, compile" description="Create Jar file">
          <jar destfile="pokedex.jar">
            <fileset dir="${build.classes}" includes="**/*.class"/>
            <fileset dir="${project.root}" includes="conf/*"/>
          </jar>
    </target>

    <target name="compile" depends="clobber" description="compiles Java source code">
        <javac srcdir="${src}${file.separator}" destdir="${build.classes}" debug="on" deprecation="off"
            optimize="on" includeAntRuntime="no">
            <classpath>
                <fileset dir="${lib.dir}">
                    <include name="*.jar"/>
                    <include name="*.zip"/>
                </fileset>
            </classpath>
        </javac>
    </target>

    <target name="pack" depends="jar" description="Create an archive use on EC2">
          <zip destfile="pokedex.zip">
            <zipfileset dir="." excludes="target/**,extra/**,**/*.class,pokedex.zip"/>
          </zip>
    </target>

  <target name="clobber" description="remove jar">
        <delete file="${project.root}${file.separator}pokedex.jar"/>
        <delete dir="${build.classes}${file.separator}"/>
        <mkdir dir="${build.classes}${file.separator}"/>
    </target>

       <!--DOES NOT WORK -->
       <target name="test" description="Run tests">
         <java failonerror="true" fork="true" classname="junit.textui.TestRunner">
           <classpath>
             <pathelement location="${test.classes}"/>
             <pathelement location="${build.classes.dir}"/>
              <fileset dir="${lib.dir}">
                  <include name="*.jar"/>
              </fileset>
           </classpath>
            <arg value="RunAllTests"/>
         </java>
       </target>

    <target name="test2">
      <junit>
        <classpath>
             <pathelement location="${build.classes.dir}"/>
                <fileset dir="${lib.dir}">
                     <include name="*.jar"/>
                </fileset>
              </classpath>   
        <batchtest>
           <fileset dir="${project.root}">
                <include name="**/RunAllTests*" />
           </fileset>
        </batchtest>
        <formatter type="brief" usefile="false"/>
      </junit>
    </target>

</project> 
```

清单文件

```
Manifest-Version: 1.0
Class-Path: 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-14T21:10:35.470

尝试

```
ant -diagnostics | grep java\\.home 
```

您将看到 Ant 认为 Java 安装在哪里。它可能是从您在 Eclipse 中使用的东西之外的其他地方获取的，因为当然，Eclipse 允许用户在每个项目的基础上指定 JDK 工具所在的位置。您也可以运行`ant -diagnostics`以查看完整的诊断输出，该输出基本上会添加 Java 版本信息等信息。

在您的实际 Ant 脚本中，为什么不在构建目标中回显以下内容：

```
<echo message="Ant running on Java version ${ant.java.version}"/> 
```

这将提供信息来区分运行 Ant 的容器与您希望应用程序编译到的容器。

`javac`您可以通过将这些说明符添加到构建目标中的说明符来强制您的应用程序使用特定的 Java 版本进行编译：

```
<javac debug="true" 
... 
source="1.7" 
target="1.7" 
...
executable="<MY_JDK7_JAVA_HOME_DIR>/bin/javac" 
... >
... 
</javac> 
```

此外，您可以通过指定 '-v' 选项 ala 以详细模式运行 Ant `ant -v ...`。此信息应指导调试问题并希望解决它。

# actionscript-3 - 通过单独的类访问整数变量

> ID：16029669
> 
> 赞同：0
> 
> 时间：2013-04-16T05:50:28.090
> 
> 标签：actionscript-3, class

嘿伙计们对不起，如果这是一个重新发布，我通过其他网站检查了答案以及这个，但信息不够，而且我还在学习很多东西。

但是我的问题是我有一个名为的引擎类，`keepFocusEngine`而另一个名为`mcStar`我的类我没有遇到这个问题，所以我真的不明白该怎么做，但我想从`mcStar`我的`keepFocusEngine`. 所以在我的 `mcStar`课堂上，我有一个名为的整数变量`private var speed:Number;`，其中包含它`speed = 2 + Math.random()*2;`。`speed = 10 + Math.random()*2;`我想`keepFocusEngine`通过这个函数将速度变量更改为此：

```
private function shootPlayerObject(e:TouchEvent):void 
    {
        if (e.type == TouchEvent.TOUCH_TAP)
        {
            btnShootPlayer = true;
        }else
        {
            btnShootPlayer = false;
        }
    } 
```

所以如果`btnShootPlayer = true;`我想要`speed = 10 + Math.random()*2;`被调用。

对不起，如果我让任何人感到困惑，我有点让自己困惑哈哈。但是你明白我想要完成什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T07:29:01.880

如果你想简洁地做到这一点，你可以在你的`keepFocusEngine`类中编写 getter/setter 函数。然后，您可以将`speed`变量保留为私有。getter 和 setter 必须是公开的，当然，才能在类外联系到。

在您的`keepFocusEngine`中，添加以下内容：

```
public function GetSpeed() : Number
{
    return speed;
}

public function SetSpeed(newspeed:Number)
{
    speed = newspeed;
} 
```

然后，您可以将提供的代码更改为：

```
private function shootPlayerObject(e:TouchEvent):void 
{
    if (e.type == TouchEvent.TOUCH_TAP)
    {
        btnShootPlayer = true;
        keepFocusEngine.SetSpeed(10 + Math.random()*2);
    }else
    {
        btnShootPlayer = false;
    }
} 
```

如果您在任何时候想知道速度，可以使用`keepFocusEngine.GetSpeed()`. 这使得编程更容易，因为您对类路径有一些了解。此外，当调用 getter 或 setter 时，您可以在该函数中做任何您想做的事情。例如，如果您总是返回 speed*10 似乎更容易，那么 getter 可以`return speed*10;`。

编辑：我想参考这个问题：[为什么更喜欢属性而不是公共变量？](https://stackoverflow.com/questions/737290/why-prefer-properties-to-public-variables)

# javascript - Html 和 JavaScript 中的 EVAL() 函数给出了奇怪的结果......！

> ID：16029670
> 
> 赞同：0
> 
> 时间：2013-04-16T05:50:30.410
> 
> 标签：javascript, html, eval

下面的代码给出了一些意想不到的结果。谁能告诉我这背后的原因或逻辑？

```
<HTML><body><script type="text/javascript">s="10+10";alert("here 3 : "+eval(s+s+s));alert("here 4 :+eval(s+2));</script></body></HTML> 
```

在第一个警报中，它给出`2040`了第二个警报，在第二个警报中，`112` 我无法理解逻辑，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:57:58.730

`eval`是不好的做法，howerer回答你的问题：

```
`s="10+10"` 
```

`s`就是现在`"10+10"`

`eval(s+s+s)`=>

`eval("10+10"+"10+10"+"10+10")`=>

`eval("10+1010+1010+10")`=>

2040

和：

`eval(s+2)`=>

`eval("10+10"+2)`=>

`eval("10+102")`=>

112

* * *

你可能的意思是：

`eval(s+"+"+s+"+"+s)`

和

`eval(s+"+2")`

# javascript - 如何从 THREE.TextGeometry 获取文本？

> ID：16029671
> 
> 赞同：1
> 
> 时间：2013-04-16T05:50:35.893
> 
> 标签：javascript, three.js

我创建了新`Mesh`的`TextGeometry`并将其推入网格数组：

```
var text3d = new THREE.TextGeometry( "Hello!", {
    font: "hevletiker"
});
text3d.computeBoundingBox();
var textMaterial = new THREE.MeshBasicMaterial({ color: 0xb0bca7, overdraw: true });
meshArray.push(new THREE.Mesh( text3d, textMaterial )); 
```

所以，我的问题是：

1.  我如何从`text3d`对象中获取原始文本？
2.  如何从 Mesh 对象（包含在 meshArray 中）获得相同的文本？

[我在文档](http://threejs.org/docs/57/)中没有发现任何有用的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T07:52:07.560

THREE.TextGeometry 立即将文本转换为形状，并且不会将原始文本存储在任何地方。之后没有办法得到它。

您当然可以自由地将变量绑定到 text3d，就像 javascript 中的任何对象一样。

```
var mytext = "Hello!";
var text3d = new THREE.TextGeometry(mytext, {
    font: "hevletiker"
});
text3d.text = mytext; // storing this for later use...
text3d.computeBoundingBox();
var textMaterial = new THREE.MeshBasicMaterial({ color: 0xb0bca7, overdraw: true });
meshArray.push(new THREE.Mesh( text3d, textMaterial )); 
```

如果您这样做，您可以稍后使用或`text3d.text`从网格中读取文本`mesh.geometry.text``meshArray[xxx].geometry.text`

# javascript - 如何设置两个输入并取消按钮？

> ID：16029674
> 
> 赞同：0
> 
> 时间：2013-04-16T05:50:58.390
> 
> 标签：javascript, greasemonkey

我正在寻找一种使用 Greasemonkey 在网页中自动填写用户名/密码的方法。

这两个标签是输入，它们没有`ID`，但它们是页面中仅有的两个输入，当按下“登录”按钮时出现。

我是 Greasemonkey（和 javascript）的初学者，我想知道如何等待这两个输入出现。
然后有两个按钮，一个“确定”和一个“取消”按钮。“确定”按钮是灰色的，设置输入`element0.value="password"`并不会取消按钮的灰色。

如何使用 javascript 取消灰色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:33:09.287

该问题**缺少请求和必需的 HTML**，但一般来说，您会使用[“在 AJAX 驱动的站点上选择和激活正确的控件”中的](https://stackoverflow.com/q/15048223/331508)技术。

就像是：

```
// ==UserScript==
// @name     _YOUR_SCRIPT_NAME
// @include  http://YOUR_SERVER.COM/YOUR_PATH/*
// @require  http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js
// @require  https://gist.github.com/raw/2625891/waitForKeyElements.js
// @grant    GM_addStyle
// ==/UserScript==
/*- The @grant directive is needed to work around a design change
    introduced in GM 1.0\.   It restores the sandbox.
*/

waitForKeyElements ("input[type='password']", logIn);

function logIn (jNode) {
    var inputs  = $("input");

    //-- DO NOT HARDCODE LOGIN CREDENTIALS IN A SCRIPT!
    $(inputs[0]).val ("username");
    $(inputs[1]).val ("password");

    //-- Might need to trigger a change or mouse event here.

    waitForKeyElements (
        "JQUERY SELECTOR FOR THE OK BUTTON IN THE ACTIVE STATE",
        clickOK_Btn
    );
}

function clickOK_Btn (jNode) {
    triggerMouseEvent (jNode[0], "click");
}

function triggerMouseEvent (node, eventType) {
    var clickEvent = document.createEvent('MouseEvents');
    clickEvent.initEvent (eventType, true, true);
    node.dispatchEvent (clickEvent);
} 
```

* * *

* * *

但不要硬编码登录凭据。使用[敏感信息框架](https://stackoverflow.com/a/15269327/331508)。

# java - 使用MVC在jsp中动态填充选择选项

> ID：16029677
> 
> 赞同：0
> 
> 时间：2013-04-16T05:51:05.123
> 
> 标签：java, jsp, jakarta-ee

我有 5 个文件 --jsp 页面 --bean 类 --servlet --DAO 类 --display servlet

我想获取 ID 和名称表单数据库并将其显示在 jsp 页面中我正在使用 JSTL 来获取选择选项现在我想知道从表中获取数据的位置以及如何将其发送到 jsp 页面帮助我我卡住了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T07:00:43.247

请阅读有关如何在 servlet 和 jsp 之间传递数据的信息[http://docs.oracle.com/cd/A97336_01/buslog.102/a83726/basics4.htm#1014110](http://docs.oracle.com/cd/A97336_01/buslog.102/a83726/basics4.htm#1014110)

在您的 servlet 中调用 dao 以获取所需的信息。将信息设置为请求属性。在 jsp 中使用此属性来创建下拉菜单。

其他选项是使用 javascript，其中通过 ajax 加载 html 文档，您可以获取数据并在下拉列表中进行设置。

# xml - 从 Either[String,Option[NodeSeq]] 中提取元素值的优雅方法

> ID：16029681
> 
> 赞同：4
> 
> 时间：2013-04-16T05:51:24.060
> 
> 标签：xml, scala, refactoring

假设我得到了一个 XML，如下所示：

```
<a><b><c>hello</c><d>world</d><e>again</e></b></a> 
```

我得到了一个函数：getXmlStream，它具有以下签名：

```
def getXmlStream(xmlPath:String):Either[String,Option[NodeSeq]] 
```

当我用传入的路径调用 getXmlStream 时，我会得到左边是错误，右边是 Option[NodeSeq]。

现在，如果 NodeSeq 不是 None，我需要获取元素 和 的值，它们分别是“hello”和“world”。

我尝试将元素取出如下：

```
val elems = (getXmlStream(xmlFilePath)) match {
               case Left(error:String) => None
               case Right(xmlStreamOpt) => {
                 xmlStreamOpt map {
                  (r \\ "c" text, r \\ "d" text)
                 } 
               }  
            }).getOrElse("","") 
```

`elems`遗嘱现在由一个元组组成，如果它们存在则具有值的元组，否则`("hello","world")`它将是一个空字符串的元组。

我不认为我上面写的片段是惯用的 scala。有人可以建议我如何重构它。

我觉得第二个问题是我在片段中硬编码节点“c”和“d”。如果现在需要提取“e”，我会将表达式修改`(r \\ "c" text, r \\ "d" text)`为`(r \\ "c" text, r \\ "d" text, r \\ "e" text)`吗？是否可以使 xml 元素提取更加动态？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T07:01:10.283

这个怎么样：

```
scala> getXmlStream(path) match {
     |   case Right(Some(xml)) => (xml\\"c" text, xml\\"d" text)
     |   case _ => ("", "")
     | } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T12:38:20.267

这是一个我认为仍然很清楚的单线：

```
res.right.toOption.flatten.fold(("", ""))(r => (r \\ "c" text, r \\ "d" text)) 
```

我们可以逐步了解这里发生的事情：首先我们对 进行正确的投影，并通过映射到`Either`将其转换为。现在我们有一个嵌套的 ，我们可以将其展平以获得一个. 然后我们折叠可能的形状（参见例如[这个答案](https://stackoverflow.com/questions/11265352/why-is-there-a-fold-method-for-form-in-play-2-0-2)和那里的链接以获得更多讨论）。`Option``Left``None``Option``Option[NodeSeq]``Option`

请注意，`fold`仅`Option`在 2.10 中出现。如果您使用的是早于该版本的 Scala，则以下内容完全相同：

```
res.right.toOption.flatten.map(
  r => (r \\ "c" text, r \\ "d" text)
).getOrElse(("", "")) 
```

标准库并没有提供太多以您在上一段中描述的方式处理元组的方式，但是有一些库，例如[Scalaz](https://github.com/scalaz/scalaz)和[Shapeless](https://github.com/milessabin/shapeless)。例如，使用 Scalaz's `Bifunctor`，您可以像这样编写当前版本：

```
res.right.toOption.flatten.fold(("", ""))(r => ("c", "d").umap(r \\ _ text)) 
```

Shapeless 将允许您更轻松地向元组添加元素（但这有点复杂，可能最好在新问题中解决）。

# mongodb - 如何在 symfony2 中使用条件“like”查询 mongodb

> ID：16029684
> 
> 赞同：2
> 
> 时间：2013-04-16T05:51:41.023
> 
> 标签：mongodb, symfony

我需要在我的 symfony2 应用程序中搜索用户

如果用户在搜索框中输入字母并提交，那么他需要让用户以该字母开头。

如何做到这一点？下面的代码将获得我们在文本框中输入的确切用户。

如何在此应用“喜欢”查询

我的动作代码

> ```
> public function searchAction(Request $request)
> {
> 
>     $fname = $request->query->get('fname');
>     if(isset($fname)){
>     $user = $this->get('doctrine.odm.mongodb.document_manager')
>         ->getRepository('WishbotWebBundle:User')
>         ->findByusername($fname);
>          return $this->render('WishbotWebBundle:Default:search.html.twig',array('user'=>$user));
> 
>     }else{
>         return $this->render('WishbotWebBundle:Default:search.html.twig');
> 
>     }
> } 
> ```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T07:39:09.383

首先，让我们看一下 MongoDB：使用正则表达式进行搜索可以通过定义正则表达式来完成，如下[所述](https://stackoverflow.com/questions/3305561/how-to-query-mongodb-with-like#3305687)：

```
db.users.find({"username": /^a/}) 
```

通过定义正则表达式可以在 php 中完成相同的操作，解释[如下](https://stackoverflow.com/questions/3305561/how-to-query-mongodb-with-like/5989314#5989314)：

```
$collection->find(array('name'=> array('$regex' => '^a')); 
```

您可以在 Doctrine MongoDB ODM 中使用几乎完全相同的正则表达式语法：

```
$user = $this->get('doctrine.odm.mongodb.document_manager')
        ->getRepository('WishbotWebBundle:User')
        ->findByUsername(array('$regex' => $fname)); 
```

请注意，即使只找到一个，也会返回一组文档。`$fname`上面的正则表达式还匹配用户名在任何地方包含字符串的所有文档。

如果您想要以 开头的用户名，则`$fname`需要使用`'^' . $fname`.

# javascript - 使用 PHP/Javascript 将 html 表格转换为文本文件

> ID：16029686
> 
> 赞同：1
> 
> 时间：2013-04-16T05:51:41.767
> 
> 标签：javascript, php, html-table

我想向你们所有人寻求帮助，因为我还是网络编程的新手。所以基本上我有这样的html表：

```
<table width='200' border='1'>
<TH>Year 1 Spring</TH>

<TR>
<TD>
<div id="y1f_0">one</div>
<div id="y1f_1">one</div>
</TD>
<TD>
<div id="y1s_0">two</div>
<div id="y1s_1">two</div>
</TD>
</TR>
</table>
<input  type="button" onclick="something"> 
```

例如，如果我单击按钮，它将保存上面的表格并将其输出/导出为文本文件，因此稍后我想取回该文本文件以将其导出回 html 表格。我真的不知道该怎么做，我应该使用 PHP 吗？非常感谢您的所有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:00:25.707

您将使用 javascript ( jquery ) 收集文本并将其发送到 php 文件以将其保存在服务器上。

javascript ( jquery ) 的示例：

```
$( "#some_button" ).click(function( ){

    var file_text;

    file_text =  $( "#y1f_0" ).text( );
    file_text += $( "#y1f_1" ).text( );

    file_text += $( "#y1s_0" ).text( );
    file_text += $( "#y1s_1" ).text( );

    $.post( "save_file.php", file_data : file_text , function( data ){
        alert( data + " bytes have been written" );
    });
}); 
```

php脚本示例：

```
<?php
echo file_put_contents( "data.txt", $_POST[ "file_data" ] );
?> 
```

[在http://w3schools.com](http://w3schools.com)上阅读 jquery 和 php

您将在 $.post 以及 javascript 和 php 的其他方法中找到更多信息。

如果您是 Web 编程新手，可能需要一点学习才能掌握您正在尝试做的事情。这是因为您必须学习如何获取客户端脚本（在用户的浏览器上）以连接到服务器（网站文件所在的位置）。如果您没有服务器，则需要下载一台（如 apache）或注册使用一台（如 godaddy.com）。使用 apache，您将不得不做更多的学习，但它是免费的。否则，使用外部服务器会很方便，这样一切都已经为您完成了。

以下是关于粗略示例的一些快速说明：

*   '#' 指的是元素的 ID。

*   $( "#some_button" ).click 在用户单击与其关联的 div 时执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T23:38:07.870

只是想添加，为了使上面的代码工作，我不得不在 file_data 周围添加以下花括号：file_text

```
 $.post( "save_file.php", {file_data : file_text} , function( data ){
    alert( data + " bytes have been written" );
}); 
```

# mysql - Mysql：聚合函数在没有 group by 的情况下不起作用

> ID：16029691
> 
> 赞同：0
> 
> 时间：2013-04-16T05:51:53.743
> 
> 标签：mysql, group-by, aggregation

我正在使用以下查询

```
SELECT count(*) as num,id,page_name FROM project_page where p_id = '256' 
```

此查询在 mysql 版本 5.1.49-3 上运行良好，并在 mysql 5.0.32-Debian_7etch8-log 上给出错误 在两台服务器上我都有完全相同的数据库。

错误信息

`#1140 - Mixing of GROUP columns (MIN(),MAX(),COUNT(),...) with no GROUP columns is illegal if there is no GROUP BY clause`

如何在 5.0.31 上运行上述查询而不会出现任何错误

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:56:14.617

添加 `... GROUP BY num, id, page_name`

# iphone - 在 UINavigationController 中推送同一类视图控制器的不同对象

> ID：16029692
> 
> 赞同：1
> 
> 时间：2013-04-16T05:51:57.910
> 
> 标签：iphone, ios, objective-c, cocoa-touch

我正在创建单个的两个不同对象`UIViewController`。一个用于列表，第二个用于详细信息。我`UIViewController`对这两个都使用一个。现在，当我推动第一个对象并且当用户点击详细信息时，我再次创建一个相同的对象`UIViewController`并将其推入`UINavigationController`。所以我想知道：我们是否可以这样做，因为我`UINavigationController`正在使用对象进行委托回调。应该调用第一个实例上的方法的委托回调正在调用第二个实例上的方法。

* * *

**我认为这是可能的。我在代码中发现了错误。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:05:12.293

您可以在堆栈中`UIViewcontroller`再次推送相同的内容。`UINavigationController`没有问题。 `UINavigationController`制作一个堆栈，`ViewControllers`以便您可以根据需要添加任意数量的对象，无论它们是否是同一`UIViewController`类的实例。因为所有实例都是显式添加的。

希望它可以帮助你。

# magento - 在 Magento 的订单网格上显示自定义属性

> ID：16029694
> 
> 赞同：0
> 
> 时间：2013-04-16T05:52:00.673
> 
> 标签：magento

我使用 HWG 属性管理器向客户添加自定义属性。即身份证号码。

[http://www.magentocommerce.com/magento-connect/custom-attributes-4340.html](http://www.magentocommerce.com/magento-connect/custom-attributes-4340.html)

因此，如果客户下了订单，在管理员的订单网格中，我想获取此属性。我在执行此操作时遇到问题。有没有人试过这个？

添加的属性在`customer_entity_varchar`数据库中。

我试过这个，

```
protected function _prepareCollection()
{
    $collection = Mage::getResourceModel('customer/customer_collection')
        ->addNameToSelect()
        ->addAttributeToSelect('email')
        ->addAttributeToSelect('created_at')
        ->addAttributeToSelect('group_id')
        ->joinAttribute('billing_postcode', 'customer_address/postcode', 'default_billing', null, 'left')
        ->joinAttribute('billing_city', 'customer_address/city', 'default_billing', null, 'left')
        ->joinAttribute('billing_telephone', 'customer_address/telephone', 'default_billing', null, 'left')
        ->joinAttribute('billing_region', 'customer_address/region', 'default_billing', null, 'left')
        ->joinAttribute('billing_country_id', 'customer_address/country_id', 'default_billing', null, 'left');

    $this->setCollection($collection);

    return parent::_prepareCollection();
}

protected function _prepareColumns()
{
    $this->addColumn('entity_id', array(
        'header'    => Mage::helper('customer')->__('ID'),
        'width'     => '50px',
        'index'     => 'entity_id',
        'type'  => 'number',
    ));

$this->addColumn('Admin Number', array(
        'header'    => Mage::helper('customer')->__('Admin Number'),
        'width'     => '100',
        'index'     => 'entity_id',
    )); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T05:13:05.597

我解决了。这只是我的错误。

这将起作用：

```
->addAttributeToSelect('my_custom_customer_attribute_name') 
```

# java - 为什么 JavaScript 小程序会提取相同的 JPG 而不是提取 3 个不同的 JPG？

> ID：16029698
> 
> 赞同：0
> 
> 时间：2013-04-16T05:52:14.667
> 
> 标签：java, javascript, html, applet, jpeg

Javascript 小程序为本页面上的所有三个小程序提取了相同的图片。

[http://www.techmobile.com/javalayout10.html](http://www.techmobile.com/javalayout10.html)

这不应该发生 每个小程序应该有不同的画面。

这是图片的链接

[http://techmobile.dyndns-home.com:8080/branding/applet_splash_sosr.jpg](http://techmobile.dyndns-home.com:8080/branding/applet_splash_sosr.jpg)

[http://techmobile.dyndns-home.com:8080/branding/applet_splash_sost.jpg](http://techmobile.dyndns-home.com:8080/branding/applet_splash_sost.jpg)

[http://techmobile.dyndns-home.com:8080/branding/applet_splash_sosh.jpg](http://techmobile.dyndns-home.com:8080/branding/applet_splash_sosh.jpg)

我已经更改了 JPG 的名称和每个 JPG 的路径 - imageURL="http://www.techmobile.com/branding/mobile.jpg

但是小程序仍然会提取相同的图像。

我一次将一个小程序放在一个页面上，但小程序仍然会拉出同一张图片。

为什么java小程序加载相同的图片？这是在javascript代码中吗？是不是因为脚本和图片在8080后面？

非常感谢任何见解！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:01:57.993

您的文件“embed.js”充满了对 CSS ID 元素的引用。CSS ID 在文档中必须是唯一的，因此同一页面上不能有多个具有相同 ID 的元素。

我不确定当遇到具有相同 ID 的多个元素时预期的浏览器行为是什么，但看到这些结果我不会感到惊讶，其中内容被复制到具有公共 ID 的所有元素。

# java - 枚举中的方法

> ID：16029704
> 
> 赞同：6
> 
> 时间：2013-04-16T05:52:50.130
> 
> 标签：java, function, methods, enums

所以我对Java中的枚举是否可以具有功能感到困惑。我正在制作一个简单的 html 编辑器，并想使用枚举来表示 html 标签，是的，我知道这不是最好的方法，但它是我的团队决定实现它的方式。

所以我一直在尝试做这样的事情，但是当我尝试将`TagEnums.normalTags()`其称为静态方法时，我想我想知道这是否正确，或者是否有更好的方法来实现它而不是`ArrayList<String> normalTags()`公开`public static ArrayList<String> normalTags()`

```
public enum TagEnum {
    H1, H2, H3, H4, H5, H6, P, B, I, U, BR, HR, RP, RT, RUBY

    public ArrayList<String> normalTags(){
        String normalTags = "H1, H2, H3, H4, H5, H6, P, B, I, U";
        ArrayList<String> tags = new ArrayList<String>();
        for(Enum<?> currentEnum: TagEnum.values()){
            if(normalTags.contains(currentEnum.toString())){
               tags.add("<"+currentEnum.toString().toLowerCase()+">");
               tags.add("</"+currentEnum.toString().toLowerCase()+">");
            }
        }
        return tags;
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-16T05:55:13.790

是的，Java 枚举可以有函数。

[http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html](http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)

此页面的示例：

```
public enum Planet {
    MERCURY (3.303e+23, 2.4397e6),
    VENUS   (4.869e+24, 6.0518e6),
    EARTH   (5.976e+24, 6.37814e6),
    MARS    (6.421e+23, 3.3972e6),
    JUPITER (1.9e+27,   7.1492e7),
    SATURN  (5.688e+26, 6.0268e7),
    URANUS  (8.686e+25, 2.5559e7),
    NEPTUNE (1.024e+26, 2.4746e7);

    private final double mass;   // in kilograms
    private final double radius; // in meters
    Planet(double mass, double radius) {
        this.mass = mass;
        this.radius = radius;
    }
    private double mass() { return mass; }
    private double radius() { return radius; }

    // universal gravitational constant  (m3 kg-1 s-2)
    public static final double G = 6.67300E-11;

    double surfaceGravity() {
        return G * mass / (radius * radius);
    }
    double surfaceWeight(double otherMass) {
        return otherMass * surfaceGravity();
    }
    public static void main(String[] args) {
        if (args.length != 1) {
            System.err.println("Usage: java Planet <earth_weight>");
            System.exit(-1);
        }
        double earthWeight = Double.parseDouble(args[0]);
        double mass = earthWeight/EARTH.surfaceGravity();
        for (Planet p : Planet.values())
           System.out.printf("Your weight on %s is %f%n",
                             p, p.surfaceWeight(mass));
    }
} 
```

# javascript - 如何在没有卸载事件的情况下导航页面

> ID：16029710
> 
> 赞同：0
> 
> 时间：2013-04-16T05:53:45.540
> 
> 标签：javascript, html

我发现在[https://chrome.google.com/webstore/](https://chrome.google.com/webstore/)和其他几个顶级 HTML5 网站中，加载/卸载/onbeforeunload 事件并未开始触发，但位置栏中的 URL 会更改。浏览器历史更新。

这个技能叫什么名字？以及如何在我自己的应用程序中完成？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:03:39.527

`pushState`是你要找的

[检查这个问题：](https://stackoverflow.com/questions/824349/modify-the-url-without-reloading-the-page)

我希望这有帮助。

# javascript - 动态创建模板 - Meteor

> ID：16029713
> 
> 赞同：4
> 
> 时间：2013-04-16T05:53:55.570
> 
> 标签：javascript, jquery, templates, dynamic, meteor

每当单击按钮时，我都想创建新模板

```
 <input text="button" class="btn" value="click to create template" />

 -->js part

 'click input.btn' : function(){
           //create template here
 } 
```

有人可以帮助我如何做到这一点吗？谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-19T16:58:36.393

我不相信有任何简单的方法可以做到这一点.. Meteor 在构建过程中编译所有模板，并且在幕后进行了一些非常激烈的操作。一个简单的模板很容易像这样创建。

```
Meteor._def_template("Hello",Handlebars.json_ast_to_func(["<div>Hello World!</div>"])); 
```

一旦你开始添加把手变量和块助手，它似乎变得相当复杂。

如果您想进一步研究它，您可以深入到项目的 .meteor 目录中进行探索。模板应位于 ./meteor/local/build/static_cacheable 下的某个位置，具体取决于您为项目设置文件夹结构的方式。每个模板文件都在表单模板中。*模板*名称 .js

# r - R S4 插槽作为自定义类列表

> ID：16029717
> 
> 赞同：2
> 
> 时间：2013-04-16T05:54:08.337
> 
> 标签：r, s4

是否可以将 S4 类中的插槽作为另一种自定义类型的列表？喜欢

```
setClass("customClass", 
          representation(list(anotherCustomClass)
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-30T10:00:29.243

对于那些正在寻找答案的人。不，没有办法限制 S4 中的列表包含特定类型的元素。这实际上是有道理的，因为 R 中的列表旨在包含任何类型的元素，那么为什么 S4 上的列表应该是不同的呢？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-20T06:11:31.167

这是使用 S4 的类型化列表的一个相当简单的实现。检查所有对象是否属于指定类型，以及所有这些对象是否都是*该*类型的有效对象。

```
instanceof = function(object, type) {
  class(object)[[1]] == type
}

typed_list_check = function(object) {

  errors = character()
  is_correct_object_type = logical()

  if (length(object@objects) >= 1) {
    for (i in 1:length(object@objects)) {
      obj = object@objects[[i]]
      is_correct_object_type[[i]] = instanceof(obj, object@type)
    }

    if (any(!is_correct_object_type)) {
      msg = sprintf("At least one object is not of type %s.", object@type)
      errors = c(errors, msg)
    }

    if (all(is_correct_object_type)) {
      for (obj in object@objects) {
        potential_msg = validObject(obj)
        if (is.character(potential_msg)) {
          msg = potential_msg
          errors = c(errors, msg)
        }
      }
    }
  }

  if (length(errors) == 0) TRUE else errors
}

setClass(
  "TypedList",
  representation(
    type = "character",
    objects = "list"
  ),
  validity = typed_list_check
) 
```

# linq - LINQ GroupBy 获取名称和计数

> ID：16029718
> 
> 赞同：0
> 
> 时间：2013-04-16T05:54:13.587
> 
> 标签：linq, entity-framework, linq-to-sql, linq-to-entities

我对如何在 Linq 中使用 GroupBy 有点困惑。我需要显示产品的名称并计算它的报价，我想出了这个

```
var context = new Model.Entities();
var query = from p in Product
            join o in Offers on p.Prod_ID equals o.Prod_ID
            orderby o.Prod_ID
            select new { Name = p.Name, Offers = o.Prod_ID.Count()};
var products = query.ToList(); 
```

现在我不能简单地拥有

```
Offers = o.Prod_ID.Count() 
```

如何显示带有产品名称的行以及它的报价计数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T05:59:14.393

听起来您想要一个群组加入：

```
var query = from p in Product
            join o in Offers on p.Prod_ID equals o.Prod_ID into offers
            orderby p.Prod_ID
            select new { Name = p.Name, Offers = offers.Count() }; 
```

现在在`join`子句之后，您在范围内有两个范围变量：

*   `p`(商品)
*   `offers`（该产品的报价）

因此，我将排序更改为开启`p.Prod_ID`- 然后仅计算`select`条款中的报价。

请注意，通过这种方式，您仍然会得到没有报价的产品的结果，而如果您进行直接内部连接，这些结果将完全丢失。

# ios - 关于为什么 NSArray 响应没有复制到另一个数组的任何想法

> ID：16029719
> 
> 赞同：0
> 
> 时间：2013-04-16T05:54:20.743
> 
> 标签：ios, objective-c, nsmutablearray, nsarray

这是我的代码。

```
self.array = [[NSMutableArray alloc] init];
[myApp getCampaigns:^(NSArray *response) {
     [self.array addObjectsFromArray:response];
}]; 
```

如果我使用 NSlog 进行响应，它会显示数组中的两个项目，但是当我使用 NSLog 进行数组时，它显示数组为空。

**编辑**

数组的声明。

```
@property (nonatomic, retain) NSMutableArray *array; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:16:14.533

改变

```
[self.array addObjectsFromArray:response]; 
```

至

```
self.array = [[NSMutableArray alloc]initWithArray:response]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T07:11:05.120

尝试这样的事情：

```
self.array = [[NSMutableArray alloc] init];
MyViewController *vc = self;
[MyApp getCampaigns:^(NSArray *response) {
    [vc.array addObjectsFromArray:response];
}]; 
```

这将允许objective-c 编译器在块中创建对vc 的强引用，然后指向self。

# javascript - 如何使用 javascript 在现有跨度标记之前添加跨度？

> ID：16029727
> 
> 赞同：-4
> 
> 时间：2013-04-16T05:55:00.017
> 
> 标签：javascript, jquery, html

如何在使用 javascript 的另一个现有跨度标记之前以 HTML 形式添加跨度标记？我知道现有跨度标签的 id。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T05:58:59.813

试试这个

```
var addnew = '<span class="newcssclass">new content</div>';

 $('.classofthespantoclick').click(function(){

 $('#existingspanid').before(addnew);
 }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:03:57.417

试试这个

JS

```
 $(function(){
  var addNewSpan = '<span class="PQM">New Span</span>';
  $('#xyz').click(function(){
   $('#abc').before(addNewSpan);
  });
}); 
```

HTML

```
 <span id="abc"> Hello</span>
 <input type="button" id="xyz" value="ABC"/> 
```

[演示](http://jsfiddle.net/KdEFG/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T05:59:20.643

看看`before()`方法，比如：

```
$("#mySpan").before("<span>My new span</span>"); 
```

[before() 文档](http://api.jquery.com/before/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T05:59:59.937

[jQuery insertBefore](http://api.jquery.com/insertBefore/) 和 [jQuery Before](http://api.jquery.com/before/) 是您所需要的

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-16T06:00:01.633

查看[`insertBefore`](http://api.jquery.com/insertBefore/)jQuery 的功能。

像这样的东西：

```
theThingYouWantToAdd.insertBefore($('#idOfOtherEl')); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-16T06:01:13.530

**尝试以下操作：**

```
var value = document.createElement("span");
value.innerHTML = "Some text";
document.body.insertBefore(value, spanID); 
```

*希望这可以帮助 ：）*

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-16T06:02:49.037

在 YUI 中，我们可以这样做：

```
var newSpan = Y.Node.create("<span>");

Y.one("#myspan").insertBefore(newSpan); 
```

# php - MySQL 错误 - 命令不同步；你现在不能运行这个命令

> ID：16029729
> 
> 赞同：3
> 
> 时间：2013-04-16T05:55:04.780
> 
> 标签：php, mysql, codeigniter, stored-procedures, pivot

我正在将 MySQL 与 PHP、Codeigniter 一起使用。我有一个问题，bluefeet 在[此处的帖子中回答了这个问题](https://stackoverflow.com/questions/16012098/mysql-show-data-in-pivot-view/16013046#16013046)

我为 bluefeet 的第二个解决方案创建了一个存储过程。它工作完美，但是，在生产环境中调用该过程时，所有其他用户都会收到错误

> 命令不同步；你现在不能运行这个命令

不知道我该如何克服这个错误。我还尝试在调用该过程后关闭连接，但是，在关闭连接之前执行来自其他用户的查询。这个问题的任何解决方法？

下面是我使用的存储过程

```
DROP PROCEDURE IF EXISTS mailbox.circle_pending_p;
CREATE PROCEDURE mailbox.`circle_pending_p`()
BEGIN
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'sum(CASE WHEN maildate = ''',
      date_format(mailtime, '%e-%b'),
      ''' THEN 1 else 0 END) AS `',
      date_format(mailtime, '%e-%b'), '`'
    )
  ) INTO @sql
FROM circle_pending_temp
WHERE mailtime >= (select date_sub(max(mailtime), interval 8 DAY)
                   from circle_pending_temp);

SET @sql 
  = CONCAT('SELECT coalesce(email_Circle, ''Grand Total'') Circle,
              max(`< 9 days`) `< 9 days`, ', @sql, ' ,
              count(*) GrandTotal
            from
            (
              select c.email_Circle,
                date_format(c.mailtime, ''%e-%b'') maildate,
                coalesce(o.`< 9 days`, 0) `< 9 days`
              from circle_pending_temp c
              left join
              (
                select email_Circle,
                  count(*) `< 9 days`
                from circle_pending_temp
                where mailtime <= (select date_sub(max(mailtime), interval 8 DAY)
                                    from circle_pending_temp)
              ) o
                on c.email_Circle = o.email_Circle
              where c.mailtime >= (select date_sub(max(mailtime), interval 8 DAY)
                                      from circle_pending_temp)
            ) d
            group by email_Circle with rollup ');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;
END; 
```

我用来调用这个过程的 PHP 是

```
 $db = $this->load->database('mailbox',TRUE);
    $res = $db->query('Call circle_pending_p()');
    echo $db->_error_message();
    $db->close();
    $db = $this->load->database('mailbox',TRUE);
    if ($res->num_rows() > 0) {
        return $res->result_array();
    } else {
        return 0;
    } 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-16T07:27:26.843

得到答案！似乎 codeigniter 的 mysql 驱动程序有处理存储过程的错误。

**我通过更改将配置/数据库**文件中的驱动程序从 mysql 更改为 mysqli

```
$db['default']['dbdriver'] = 'mysql'; 
```

至

```
$db['default']['dbdriver'] = 'mysqli'; 
```

发布我修改了**system/database/drivers/mysqli/mysqli_result.php**文件并添加了以下函数

```
function next_result()
{
  if (is_object($this->conn_id))
  {
      return mysqli_next_result($this->conn_id);
  }
} 
```

并修改模型如下

```
$db = $this->load->database('mailbox',TRUE);
$qry_res = $db->query('Call circle_pending_p()');

echo $db->_error_message();
$res = $qry_res->result_array();

$qry_res->next_result();
$qry_res->free_result();

if (count($res) > 0) {
      return $res;
} else {
      return 0;
} 
```

这解决了问题！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:01:39.040

尝试：

```
<?php
while($dbms->more_results() && $dbms->next_result())
    {
        $result = $dbms->store_result();

        if(is_object($result)){ $result->free(); }

        unset($result);
    }
?> 
```

程序调用后。`MySQLi`不能调用另一个过程，而有以前的结果。您应该`free()`在任何进一步的过程调用或查询执行之前使用它们中的每一个。

来源： http: [//php.net/manual/en/mysqli.query.php](http://php.net/manual/en/mysqli.query.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-14T14:22:28.883

在文件中

```
system/database/drivers/mysqli/mysqli_result.php 
```

添加：

```
function next_result()
{
    if (is_object($this->conn_id))
    {
        return mysqli_next_result($this->conn_id);
    }
}

function result($type = 'object')
{
    $result = array();

    if ($type == 'array') $result = $this->result_array();
    else if ($type == 'object') $result = $this->result_object();
    else $result = $this->custom_result_object($type);

    $this->next_result();

    return $result;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-01T23:55:35.270

当我在循环中运行存储过程时遇到了类似的问题。我使用的以下代码：

```
foreach ($month_list as $month_row) 
{

  $start_date = $month_row->adate;
  $end_date = date("Y-m-d", strtotime("last day of " . date("F", strtotime($start_date)) . " " . date("Y", strtotime($start_date))));

  $qry_res = $this->db->query("call staff_attendance('$start_date', '$end_date')");

  $res = $qry_res->result();

  $qry_res->next_result();
  $qry_res->free_result();

  $compiled_months[] = $res;

} 
```

在这种情况下，我创建的临时表被抱怨为表已经存在。

所以，改用这种方法：

```
foreach ($month_list as $month_row) 
{

  $start_date = $month_row->adate;
  $end_date = date("Y-m-d", strtotime("last day of " . date("F", strtotime($start_date)) . " " . date("Y", strtotime($start_date))));

  $compiled_months[] = $this->db->query("call staff_attendance('$start_date', '$end_date')")->result();
  $this->db->close();
  $this->db->initialize();

} 
```

现在执行很完美

# c# - LINQ 在插入中将“0”转换为 NULL

> ID：16029732
> 
> 赞同：2
> 
> 时间：2013-04-16T05:55:15.357
> 
> 标签：c#, sql, linq

使用 LINQ 插入数据库行时，a `0`(as an `int`) 被转换为`NULL`并且不会显示在插入语句中：

```
DatabaseCAMAE db = new DatabaseCAMAE(Database.Instance.Connection);
db.Log = Console.Out;
camaeprotocol cpr = new camaeprotocol
{
    sid = 0,
    prrevision = 0,
    ataction = "Scan created",
    prdescription = "Scan created",
    prtimestamp = DateTime.Now,
    uid = 0
};
db.camaeprotocol.InsertOnSubmit(cpr);
db.SubmitChanges(); 
```

Where`sid`和`prrevision`是主键。
日志输出：

```
INSERT INTO "main"."camae_protocol"  
   ("at_action", "pr_description", "pr_timestamp", "u_id") 
VALUES (:ataction, :prdescription, :prtimestamp, :uid)
-- :ataction: Input String (Size = 0; Prec = 0; Scale = 0) [Scan created]
-- :prdescription: Input String (Size = 0; Prec = 0; Scale = 0) [Scan created]
-- :prtimestamp: Input DateTime (Size = 0; Prec = 0; Scale = 0) [16.04.2013 07:52:44]
-- :uid: Input Int32 (Size = 0; Prec = 0; Scale = 0) [0]
-- Context: SQLite Model: AttributedMetaModel Build: 0.20.0.0 
```

并引发异常（违反约束），因为 LINQ 不会尝试插入`0` `sid`and `0` `prrevision`。该怎么做才能解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T06:30:36.993

从日志看来，“sid”和“prrevision”字段不包含在 INSERT 语句中。如果您将实体中的这些字段标记为复合主键（[Key] 作为注释或流利中的 HasKey()），EF 将不会将它们发送到您的数据库并假定它们是自动生成的。

您可以告诉 EF 不要考虑通过设置自动生成它们

```
[DatabaseGenerated(DatabaseGenerationOption.None)] 
```

在两个关键领域。

# oracle11g - 什么是 oracle 虚拟表？

> ID：16029733
> 
> 赞同：1
> 
> 时间：2013-04-16T05:55:26.693
> 
> 标签：oracle11g, dummy-data

我现在正在学习 Oracle PL*SQL，并且对称为 DUAL Table 的虚拟表有一些理解困难。有人可以用简单的方式解释那是什么吗？请。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T05:59:51.910

简洁明了的解释@http: [//en.wikipedia.org/wiki/DUAL_table](http://en.wikipedia.org/wiki/DUAL_table)

> DUAL 表是一种特殊的单行单列表，默认情况下出现在 Oracle 和其他数据库安装中。在 Oracle 中，该表有一个名为 DUMMY 的 VARCHAR2(1) 列，其值为“X”。它适用于选择 SYSDATE 或 USER 等伪列。

# jquery - jQuery – 在垂直滚动时水平移动对象

> ID：16029738
> 
> 赞同：5
> 
> 时间：2013-04-16T05:55:43.797
> 
> 标签：jquery, horizontal-scrolling

这更像是一个数学问题，而不是编程。

我想在滚动文档时水平移动一个对象，从浏览器窗口的左边缘到右边缘。

滚动位置“0”应该将对象带到窗口的最左边，滚动位置“在文档末尾向下”应该将对象带到窗口的最右边，但不能更远。

我试过这个但失败了：

```
var window_width = $(window).width();

$(window).scroll(function () { 
    var scroll_position = $(window).scrollTop();
    var object_position_left = scroll_position*(scroll_position/window_width);

    $('#object').css({'left':object_position_left});
}); 
```

[http://jsfiddle.net/BA5p4/](http://jsfiddle.net/BA5p4/)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-16T06:35:06.070

查看[jsFiddle中的演示](http://jsfiddle.net/BA5p4/2/)

```
var window_width = $(window).width() - $('#object').width();

var document_height = $(document).height() - $(window).height();

$(function () {
    $(window).scroll(function () {
        var scroll_position = $(window).scrollTop();
        var object_position_left = window_width * (scroll_position / document_height);
        $('#object').css({
            'left': object_position_left
        });
    });
}); 
```

您只需将对象向左移动（基于 window_width），无论您向下滚动多少百分比（基于 document_height）。

调整窗口宽度和文档高度以防止对象超出窗口。

您可能需要在调整窗口大小时重新计算这些变量。

# file - Trigger.io：Android 4+ 中的文件访问错误

> ID：16029739
> 
> 赞同：0
> 
> 时间：2013-04-16T05:55:44.843
> 
> 标签：file, trigger.io, file-access

我们在 trigger.io 中使用文件访问来获取 Android 媒体库中的一些本地文件，但是当我们现在选择图像时，它似乎总是抛出警告`Exif data not included in content://media/external/images/media/21#Intent;end`并且我们无法获得我们选择的图像。

这是 trigger.io 返回的完整错误堆栈。

```
[WARNING] Exif data not included in content://media/external/images/media/21#Intent;end
[DEBUG] Returned: {"content":{"message":"Error reading file","type":"UNEXPECTED_FAILURE","subtype":null},"callid":"F98E2835-0CA2-48BF-9B16-3DA58681E412","status":"error"}
[WARNING] Exif data not included in content://media/external/images/media/21#Intent;end
[DEBUG] Native call logging.log with task.params: {"message":"[FORGE] \n{ message: 'Error reading file',\n  type: 'UNEXPECTED_FAILURE',\n  subtype: null }","level":20}
[DEBUG] Returned: {"content":null,"callid":"42E4A654-E9C8-4F9B-ADB0-E7560B3F2EA5","status":"success"}
[INFO] No reload update available. 
```

这是一个示例代码：

```
forge.file.getImage({source:'gallery',width:'100px'},function(file) {       
            forge.file.base64(file, function (base) {
                forge.logging.log(base);
                var base64 =  'data:image/png;base64,'+base;                
                Zepto('#profile-img').attr('src',base64);
            },function(err){
                forge.logging.log(err);
            });
        }); 
```

trigger.io 的人可以回答或解释这个问题吗？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T16:56:53.397

`width`传递给的选项`getImage`应该只是一个数字，例如

```
forge.file.getImage({source:'gallery', width: 100}, function(file) {
  // ... do stuff with file
}); 
```

而不是`'100px'`你的例子。

# extjs4.1 - 将新字段动态添加到现有表单面板

> ID：16029742
> 
> 赞同：1
> 
> 时间：2013-04-16T05:56:26.730
> 
> 标签：extjs4.1

我想通过拖放将放置在容器 ( layout:hbox ) 内的新字段动态添加到 FormPanel。

在表单面板中放入时，我可以动态添加字段。但我想添加他们掉落的位置。

```
var dynamicField = Ext.create('Ext.container.Container',{
                            layout : 'hbox',

                             items: [{
                                                                xtype:'textfield',
                                                                fieldLable:'Test'

                                                           }, {
                                     xtype : 'image',
                                     src : 'images/cancel.png',
                                     hidden : true

                                  }]
                                      });

                          formPanel.add(dynamicField);

                               //   tried    dynamicField.showAt(e.getXY()); 
```

与 dynamicField.showAt(e.getXY()) 没有运气 //e 是事件对象

有人可以建议我如何实现吗？

问候网址

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T05:29:42.437

sencha 提供了一个示例，[http](http://docs.sencha.com/extjs/4.1.3/#!/example/dd/dragdropzones.html) ://docs.sencha.com/extjs/4.1.3/#!/example/dd/dragdropzones.html 。在此我们正在创建一个自定义的可放置区域，我们可以添加任何东西。检查此示例的代码。

```
 onNodeDrop : function(target, dd, e, data){
        var rowBody = Ext.fly(target).findParent('.x-grid-rowbody-tr', null, false),
            mainRow = rowBody.previousSibling,
            h = gridView.getRecord(mainRow),
            targetEl = Ext.get(target);

        targetEl.insert(<your control>); // here we can add control directly into it.
        return true;
    } 
```

为了理解拖放，有一个很好的指南：[http ://docs.sencha.com/extjs/4.1.3/#!/guide/drag_and_drop](http://docs.sencha.com/extjs/4.1.3/#!/guide/drag_and_drop)

# java - 如何使用 DOCX4J 在 docx 文件生成中应用新行

> ID：16029743
> 
> 赞同：5
> 
> 时间：2013-04-16T05:56:26.777
> 
> 标签：java, file, newline, documentation-generation, docx4j

根据我看过的教程。我学会了如何在生成 docx 文件时添加文本。但后来每次我添加一行文字。我注意到第一行文本和第二行文本之间总是有一个空格。就像按两次回车键一样。我知道主要原因是每次我添加一行文本时，我都会使用一个段落。一个段落以另一个段落之后的空格开始。

这就是我添加文本的方式

```
ObjectFactory factory;
factory = Context.getWmlObjectFactory();
WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.createPackage();
P spc = factory.createP();
R rspc = factory.createR();
rspc.getContent().add(wordMLPackage.getMainDocumentPart().createParagraphOfText("sample"));
spc.getContent().add(rspc);

java.io.InputStream is = new java.io.FileInputStream(file);
wordMLPackage.getMainDocumentPart().addObject(spc); 
```

所以这段代码成功运行并产生了正确的输出。但是当我添加另一段时。或文字。我希望它位于文本的第一行下方。有什么方法可以在不使用段落的情况下添加简单的文本行？提前致谢

编辑：我也试过像这样添加一个简单的 org.docx4j.wml.Text

```
Text newtext = factory.createText();
newtext.setValue("sample new text");
wordMLPackage.getMainDocumentPart().addObject(newtext); 
```

程序会运行，但是当我打开生成的 docx 文件时，它只会提示一条消息，说内容有问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-16T06:53:40.150

下面的代码将逐行生成输出。

关键在这里添加 Text(1) ->paragraph1 和 Br ->paragraph1 在 Text(2) ->paragraph1 之后

`Br``Text`是像and的元素`P`。通过使用它，我们可以去换行。

```
ObjectFactory factory = Context.getWmlObjectFactory();
WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage
        .createPackage();

P spc = factory.createP();
R rspc = factory.createR();

Text t1 = factory.createText();
t1.setValue("tset");
rspc.getContent().add(t1);
Br br = factory.createBr(); // this Br element is used break the current and go for next line
rspc.getContent().add(br);
Text t2 = factory.createText();
t2.setValue("\r\n tset2");
rspc.getContent().add(t2);

spc.getContent().add(rspc);

wordMLPackage.getMainDocumentPart().addObject(spc);

wordMLPackage.save(new java.io.File("helloworld.docx")); 
```

**输出：**

tset

tset2

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T06:53:52.543

您可以使用`ObjectFactory.createBr()`来创建新的行尾。

```
 ObjectFactory factory = Context.getWmlObjectFactory();

    R run = factory.createR();

    Text text1 = factory.createText();
    text1.setValue("asd");
    run.getContent().add(text1);

    Br nl = factory.createBr();
    run.getContent().add(nl);

    Text text2 = factory.createText();
    text2.setValue("efg");
    run.getContent().add(text2);

    P para = factory.createP();
    para.getParagraphContent().add(run);

    WordprocessingMLPackage wordMLPackage =
            WordprocessingMLPackage.createPackage();
    wordMLPackage.getMainDocumentPart().addObject(para);

    wordMLPackage.getMainDocumentPart().addParagraphOfText("p1");
    wordMLPackage.getMainDocumentPart().addParagraphOfText("p2");

    wordMLPackage.save(new File("test.docx")); 
```

# python-2.7 - Mac 10.8 + Python Scripts：如何最好地控制调度中的 Python 架构？

> ID：16029746
> 
> 赞同：0
> 
> 时间：2013-04-16T05:56:51.960
> 
> 标签：python-2.7, launchd, cx-oracle

我编写了一个查询 cx_Oracle 并处理结果的 python 脚本。现在我已经准备好在我的 mac OS10.8 上使用 launchd 来安排它了。

您可能知道，此 Mac OS 上的 cx_Oracle 需要笨拙的解决方案来控制运行 .py 脚本的 python 的位数。这些解决方案的范围从安装你的python（在安装或虚拟环境中）到在运行脚本时手动指定位数，例如“arch -i386 /usr/bin/python2.7 scriptname.py”。

我已通读 plist 文档，据我所知，您不能将位数指定为 plist 配置的一部分。也许您可以在适用于 python 的 Info.plist 文件中，但随后它将适用于您安排的每个 .py 脚本。在这种情况下，您最好只安装 32 或 64 位 python。

了解我的目标是安排脚本并为每个脚本指定运行它的 python 的位数，你会推荐什么？有什么容易我忽略的吗？非常感谢您的建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T18:18:24.623

`~/library/LaunchAgents/local.arch.plist`：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>Label</key>
    <string>local.arch</string>
    <key>ProgramArguments</key>
    <array>
        <string>/usr/bin/arch</string>
        <string>-i386</string>
        <string>/usr/bin/python2.7</string>
        <string>/volumes/ramdisk/arch.py</string>
    </array>
    <key>RunAtLoad</key>
    <false/>
</dict>
</plist> 
```

`/volumes/ramdisk/arch.py`：

```
import sys

with open('/volumes/ramdisk/python.arch.log', 'a') as f:
    f.write('sys.maxsize = %s\n' % sys.maxsize) 
```

在终端：

```
$ launchctl load ~/library/LaunchAgents/local.arch.plist
$ launchctl start local.arch
$ # arch -i386, 32-bit
$ cat /volumes/ramdisk/python.arch.log
sys.maxsize = 2147483647
$ # no arch, 64-bit
$ /usr/bin/python2.7 -c 'import sys; print(sys.maxsize)'
9223372036854775807 
```

# json - 创建模型时自动（反）序列化包含 JSON 的字段

> ID：16029750
> 
> 赞同：1
> 
> 时间：2013-04-16T05:57:04.103
> 
> 标签：json, activerecord, serialization, yii

我该怎么做呢？当我从我的数据库中获取模型时，我想序列化和反序列化一个 JSON 字符串，这样我就可以直接访问 stdObject 而不必每次都自己反序列化它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T06:00:56.803

我相信您可以将其添加到您的模型中，并更改爆炸/内爆以适合您的序列化/反序列化问题：

**内爆/爆炸：**

```
protected function afterFind() {

    parent::afterFind();

    if($this->hasAttribute('types'))
        $this->types = explode('|', $this->types);

    return $this;
}

protected function beforeSave() {

    parent::beforeSave();

    if($this->hasAttribute('types'))
        $this->types = implode('|', $this->types);

    return $this;
} 
```

`if`如果数据库中缺少该字段（不太可能），或者您在基本模型中使用此代码（因为某些模型可能没有此字段），该语句只是一个故障保护。在大多数情况下，排除此检查是安全的。

**JSON：**

```
protected function afterFind() {

    $this->types = json_decode($this->types);
    return parent::afterFind();
}

protected function beforeSave() {

    $this->types = json_encode($this->types);
    return parent::beforeSave();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T16:44:19.120

您也可以使用 getter/setter。假设我们的 DB 列名为`jsonData`. 然后你可以写

```
public function getData()
{
    return json_decode($this->jsonData);
}

public function setData($value)
{
    $this->jsonData = json_encode($value);
} 
```

`data`然后可以像常规属性一样使用。

# macos - NSUserNotificationAlertStyle plist 键不起作用

> ID：16029755
> 
> 赞同：8
> 
> 时间：2013-04-16T05:57:25.680
> 
> 标签：macos, notifications, nsusernotification

我正在处理 10.8 上的示例用户通知，但是当我将键 NSUserNotificationAlertStyle 设置为警报不起作用时，我的应用程序仍将其显示为横幅，这是通过系统首选项控制它的唯一方法，但是如果我想设置默认行为怎么办要警惕的风格？？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-09-12T13:54:30.390

它有效，但你必须

1.  [对您的应用程序进行代码签名](https://devforums.apple.com/message/753467#753467)；
2.  [在您的应用程序 info.plist 文件中为键设置`alert`字符串值`NSUserNotificationAlertStyle`](https://developer.apple.com/library/mac/documentation/general/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW19)；
3.  `Notifications`确保它们没有在 的选项卡中关闭`System Preferences`。

如果您已经尝试过通知，最好从头开始执行。[在这里，您如何从用户通知中心删除应用程序](https://stackoverflow.com/questions/11993145/remove-application-from-notification-center)。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-05-23T11:17:53.873

根据这两个错误报告，密钥`NSUserNotificationAlertStyle`目前不适用于任何人。

[http://openradar.appspot.com/12632111](http://openradar.appspot.com/12632111)

[http://openradar.appspot.com/12632157](http://openradar.appspot.com/12632157)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-24T04:43:52.463

在浏览了有关此问题的每个主题后，我认为每个部分可能都不是很清楚，因此我尝试为可能也遇到此问题的开发人员列出所有步骤。要让警报通知工作，您可以按照 Lexandr 的标志步骤 1、2、3 进行操作，然后您将使其工作。

但是如果你处于开发阶段，或者只是有一个调试，你仍然想在通知中心看到它的样子。您需要打开系统偏好设置->通知，找到您的调试应用程序，然后选择警报样式。然后就可以继续开发了，不用等签到就可以看到最终结果了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-01-10T16:48:24.973

您不需要签署您的代码，但最终用户可以从系统偏好设置更改您的通知类型 --> 通知（然后他可以选择无/横幅或警报）。另请参阅这篇文章：[添加警报与通知标志](https://github.com/Daij-Djan/DDMountainNotifier/issues/3)

# magento - 重写 Magento Session 的最后一个 URL

> ID：16029763
> 
> 赞同：2
> 
> 时间：2013-04-16T05:58:13.033
> 
> 标签：magento, url, session, rewrite, cart

我怎样才能得到`$_SESSION['core']['last_url']?` 原因的重写网址`$_SESSION['core']['last_url']`是这样返回的

目录/产品/视图/id/166/category/8

我需要的是这个

电子产品/手机/htc-touch-diamond.html

请帮忙...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:41:22.183

最后访问的 URL 在`Mage_Core_Controller_Front_Action::postDispatch()`方法中设置。你可以在那里找到这条线

```
Mage::getSingleton('core/session')->setLastUrl(Mage::getUrl('*/*/*', array('_current'=>true)));
```

`Mage::getUrl()`负责创建 URL，这就是为什么你没有在这里重写。您可以覆盖此方法并检查这是否是类别或产品页面，并基于该分配不同的 URL，例如：

```
 $url = Mage::getUrl('*/*/*', array('_current'=>true));
if (Mage::registry('current_product') || Mage::registry('current_category')) {
    $url = Mage::getBaseUrl() . substr($this->getRequest()->getOriginalPathInfo(), 1);
}
Mage::getSingleton('core/session')->setLastUrl($url); 
```

# .net - 显示来自 winforms 项目的 ASP.NET MVC 项目的视图

> ID：16029766
> 
> 赞同：1
> 
> 时间：2013-04-16T05:58:24.123
> 
> 标签：.net, asp.net-mvc, winforms

我有这个想法，我想在 html 中生成一些表单，然后在 web 浏览器控件中的 winforms 中显示它们。问题是我不知道该怎么做。

是否可以有一个具有 ASP.NET MVC 项目和 Windows 窗体（或 WPF）项目的解决方案，并调用在 Windows 窗体项目的 Web 浏览器控件中显示来自 asp.net 项目的视图？

我正在尝试组织一个快速测试项目，并且到目前为止已经完成了简单的工作：

*   我有一个包含用于处理数据库访问的 DAL 的类库
*   我有一个带有控制器和视图的 MVC 项目，它生成一些用于测试的数据
*   我有一个带有窗体和 Web 浏览器控件的 Windows 窗体项目。
*   我已经意识到，对于如何从我的 MVC 项目导航到视图，我没有最微弱的线索。

如果有人可以向我解释如何在 winforms 浏览器中显示 MVC 视图，我将不胜感激。

编辑：

基本上想弄清楚该怎么做是这样的：

在包含我的网络浏览器的表单中，我会做这样的事情：

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();

        DisplayReport();
    }

    public void DisplayReport()
    {
        this.webBrowser1.Navigate(MyMvcProject.Controller.MyCoolView);
    }
} 
```

而且我会从 Web 浏览器控件中显示的 MyCoolView 中获取 html ......我只是不知道如何去做，需要什么 using 语句等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-13T13:29:38.860

我认为这可能是可能的，但您必须自己创建一堆对象。从某种意义上说，它可能类似于为许多对象创建模拟的单元测试。

过去，我使用该函数（来自控制器函数内部）通过呈现局部视图来创建字符串，并使用它从 ASP.NET MVC 应用程序生成电子邮件。

```
 protected string RenderPartialViewToString(string viewName, object model)
    {
        if (string.IsNullOrEmpty(viewName))
            viewName = ControllerContext.RouteData.GetRequiredString("action");

        ViewData.Model = model;

        using (StringWriter sw = new StringWriter())
        {
            ViewEngineResult viewResult = 
                ViewEngines.Engines.FindPartialView(ControllerContext, viewName);

            ViewContext viewContext = new ViewContext(ControllerContext, 
                viewResult.View, ViewData, TempData, sw);

            viewResult.View.Render(viewContext, sw);

            return sw.GetStringBuilder().ToString();
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T06:02:11.577

此链接显示了如何在 Web 浏览器控件和 wpf/winforms 应用程序之间进行通信。这可以无缝工作，并且是一种非常简洁的方式来促进浏览器控件和网页之间的双向通信 [http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.objectforscripting.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.objectforscripting.aspx)

[http://www.west-wind.com/weblog/posts/2008/Sep/27/Calling-JavaScript-functions-in-the-Web-Browser-Control](http://www.west-wind.com/weblog/posts/2008/Sep/27/Calling-JavaScript-functions-in-the-Web-Browser-Control)

它需要一个您定义为常规类的脚本对象。在此对象上定义的方法可以通过 JavaScript 从网站调用`window.external.WhateverMethod`

前任：

```
webBrowser1.Document.InvokeScript("test",
            new String[] { "called from client code" }); 
```

这调用了在网页上定义的 JavaScript 方法“test”（并传递了一个字符串变量。）

# amazon-web-services - 列出工作亚马逊aws弹性转码代码php

> ID：16029779
> 
> 赞同：0
> 
> 时间：2013-04-16T05:59:25.627
> 
> 标签：amazon-web-services

我已经从 aws 帐户创建了管道，我正在尝试通过 php 代码创建作业

**现在我想列出已创建（现有）的工作**，请建议我使用任何 php 函数或代码来按管道或状态列出工作。获得工作清单后，我的下一个任务是转码视频。

谢谢，Bakul P.Damodariya

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-11T03:42:23.977

这是一个用于使用 Amazon Elastic Transcoder 的 PHP 类：

[https://github.com/LPology/ElasticTranscoderPHP](https://github.com/LPology/ElasticTranscoderPHP)

按管道列出作业：

```
$jobs = AWS_ET::listJobsByPipeline($pipelineId); 
```

按状态列出作业：

```
$jobs = AWS_ET::listJobsByStatus($status); 
```

# asp.net - 从文本（电子邮件）创建图像以防止垃圾邮件发送者使用

> ID：16029782
> 
> 赞同：0
> 
> 时间：2013-04-16T05:59:32.283
> 
> 标签：asp.net

我有一个 asp.net 网站，想在某些页面中显示用户信息。他们的信息之一是他们的电子邮件。我想从电子邮件创建图像并显示它而不是文本，以便垃圾邮件发送者无法获得它......如何从文本创建图像？还是有其他方法可以实现它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T06:05:42.123

检查这个答案，它应该有助于引导您朝着正确的方向前进。它在图像上绘制文本。

[https://stackoverflow.com/a/2070493/907388](https://stackoverflow.com/a/2070493/907388)

本文也是从文本生成图像或将文本转换为图像的一个很好的示例

[http://chiragrdarji.wordpress.com/2008/05/09/generate-image-from-text-using-c-or-convert-text-in-to-image-using-c/](http://chiragrdarji.wordpress.com/2008/05/09/generate-image-from-text-using-c-or-convert-text-in-to-image-using-c/)

您还可以使用[imageMagick从文本服务器端生成图像](http://www.imagemagick.org/script/index.php)

编辑：

上述方法假设您将保存图像。下面的方法会将图像对象编码为`Base64`字符串，因此您不必直接保存图像。

```
public string ImageToBase64(Image image,System.Drawing.Imaging.ImageFormat format) 
{
  using (MemoryStream ms = new MemoryStream()) 
  {
    // Convert Image to byte[]
    image.Save(ms, format);
    byte[] imageBytes = ms.ToArray();

    // Convert byte[] to Base64 String
    string base64String = Convert.ToBase64String(imageBytes);
    return base64String;
  }
} 
```

对图像进行编码后，使用in的`base64String`返回值，如下所示：`ImageToBase64``img`

`<img src="data:image/png;base64, iAAANSUhEQAA..." alt="my encoded image"/>`

只需替换`iAAANSUhEQAA...`为实际值，根据图像的大小，实际值可能会很大。

还有一点需要注意，data-uri 在 IE6/7 中不起作用

信用：[http ://www.dailycoding.com/Posts/convert_image_to_base64_string_and_base64_string_to_image.aspx](http://www.dailycoding.com/Posts/convert_image_to_base64_string_and_base64_string_to_image.aspx)

# java - Lucene：根据相关性进行搜索和检索

> ID：16029794
> 
> 赞同：2
> 
> 时间：2013-04-16T06:00:11.850
> 
> 标签：java, lucene

我正在使用 lucene 进行索引和搜索。下面是我用于搜索的代码。但是在当前代码中，结果是排序的。但我希望结果基于相关性。假设如果我搜索像“ab c”这样的词，我希望我的搜索得到与“ab c”匹配的结果，然后是“a b”或“b c”，最后是“a”、“b”、“c”，但目前结果被排序。

当我们搜索多个单词时，有人可以建议我如何根据相关性检索结果。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-16T14:48:20.473

默认情况下，Lucene 仅根据 TEXT-RELEVANCE 进行排序。有很多因素会影响相关性得分。

tf-idf 值和长度标准化可能会影响您的分数，导致“ab”/“b c”文档显示在排名靠前的结果中，而不是包含“ab c”的文档。

您可以克服上述方法是***根据匹配查询词的数量来提高相关性分数。***您可以按照以下步骤操作。

1）编写一个从[DefaultSimilarity](http://lucene.apache.org/core/4_2_1/core/org/apache/lucene/search/similarities/DefaultSimilarity.html)扩展的自定义相似性类。如果您想知道什么是相似度，它是 Lucene 使用的类，其中包含对分数有贡献的所有评分因素公式。

教程：[Lucene 评分](http://www.lucenetutorial.com/advanced-topics/scoring.html)

2) 覆盖[DefaultSimilarity.coord()](http://lucene.apache.org/core/4_2_1/core/org/apache/lucene/search/similarities/DefaultSimilarity.html#coord%28int,%20int%29)

Lucene 文档中的 coord() 解释。

```
coord(q,d) is a score factor based on how many of the query terms are found in the specified document. Typically, a document that contains more of the query's terms will receive a higher score than another document with fewer query terms. This is a search time factor computed in coord(q,d) by the Similarity in effect at search time. 
```

3) coord的默认实现是overlap/maxoverlap。您可以尝试不同的公式，以便包含更多查询词的文档显示在顶部结果中。以下公式可能是很好的起点。

```
 1) coord return value = Math.sqrt(overlap/maxoverlap)
   2) coord return value = overlap; 
```

4) 您不必重写其他方法，因为 DefaultSimilarity 具有所有评分因素的默认实现。只需触摸您要试验的那个，在您的情况下是 coord() 。如果您从[Similarity](http://lucene.apache.org/core/4_2_1/core/org/apache/lucene/search/similarities/Similarity.html)扩展，您必须提供所有实现。

5) 可以使用[IndexSearcher.setSimilarity()将相似度传递给 IndexSearcher](http://lucene.apache.org/core/4_2_0/core/org/apache/lucene/search/IndexSearcher.html#setSimilarity%28org.apache.lucene.search.similarities.Similarity%29)

# c# - 标签文本向上移动

> ID：16029796
> 
> 赞同：2
> 
> 时间：2013-04-16T06:00:14.350
> 
> 标签：c#, winforms

我在面板中有带有文本的标签。标签有`AutoSize=true`和`AutoEllipsis=true`。现在，如果我调整窗口大小以隐藏部分标签 - 文本似乎向上移动了几个像素！（如果我设置`AutoSize=false`问题消失）

任何人都知道为什么，或者如何确保文本保持不变？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:04:08.583

您应该将`Anchor`Label 的属性设置为`none`。

这将使标签文本保持在中间。

请参阅[Control.Anchor 属性](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.anchor.aspx)。

**或者**

将`MaximumSize`属性设置为您想要调整的任何数字，使其无法增长。

# java - cxf 将源文件放入目标但编译器看不到它们？

> ID：16029798
> 
> 赞同：5
> 
> 时间：2013-04-16T06:00:28.600
> 
> 标签：java, maven, cxf

我刚开始使用 cxf，所以这可能是一个新手错误..

我正在阅读 soa 治理实践这本书，并下载了示例项目。

当我使用 cxf 从 wsdl 构建源代码时，它会将源代码放在 eclipse 的“目标”目录中。但这些是它创建的 java 文件，编译器似乎看不到它们，因此构建需要这些文件的应用程序会因编译器错误而失败。

我应该将“目标”中的生成源目录添加到构建路径还是什么？

非常感谢！

编辑：彻底困惑。这是pom

```
<build>
    <pluginManagement>
        <plugins>
            <!--This plugin's configuration is used to store Eclipse m2e settings 
                only. It has no influence on the Maven build itself. -->
            <plugin>
                <groupId>org.eclipse.m2e</groupId>
                <artifactId>lifecycle-mapping</artifactId>
                <version>1.0.0</version>
                <configuration>
                    <lifecycleMappingMetadata>
                        <pluginExecutions>
                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.codehaus.mojo</groupId>
                                    <artifactId>
                                        build-helper-maven-plugin
                                </artifactId>
                                    <versionRange>[1.7,)</versionRange>
                                    <goals>
                                        <goal>add-source</goal>
                                    </goals>
                                </pluginExecutionFilter>
                                <action>
                                    <execute></execute>
                                </action>
                            </pluginExecution>
                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.apache.cxf</groupId>
                                    <artifactId>
                                        cxf-codegen-plugin
                                </artifactId>
                                    <versionRange>[1.0,)</versionRange>
                                    <goals>
                                        <goal>wsdl2java</goal>
                                    </goals>
                                </pluginExecutionFilter>
                                <action>
                                    <execute></execute>
                                </action>
                            </pluginExecution>

                        </pluginExecutions>
                    </lifecycleMappingMetadata>
                </configuration>
            </plugin>
        </plugins>
    </pluginManagement>

    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>2.3.2</version>
            <configuration>
                <source>1.6</source>
                <target>1.6</target>
            </configuration>
        </plugin>

        <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>build-helper-maven-plugin</artifactId>
            <version>1.7</version>
            <executions>
                <execution>
                    <id>add-source</id>
                    <phase>generate-sources</phase>
                    <goals>
                        <goal>add-source</goal>
                    </goals>
                    <configuration>
                        <sources>
                            <source>target/generated/cxf</source>
                        </sources>
                    </configuration>
                </execution>
            </executions>
        </plugin>

        <plugin>

            <groupId>org.apache.cxf</groupId>
            <artifactId>cxf-codegen-plugin</artifactId>
            <version>${cxf.version}</version>
            <executions>
                <execution>
                    <id>generate-sources</id>
                    <phase>generate-sources</phase>
                    <configuration>
                        <sourceRoot>${project.build.directory}/generated/cxf</sourceRoot>
                        <wsdlOptions>
                            <wsdlOption>
                                <wsdl>${basedir}/src/main/resources/contract/accountService.wsdl</wsdl>
                            </wsdlOption>
                        </wsdlOptions>
                    </configuration>
                    <goals>
                        <goal>wsdl2java</goal>
                    </goals>
                </execution>
            </executions>
        </plugin>
    </plugins>
</build>

<dependencies>
    <dependency>
        <groupId>org.apache.cxf</groupId>
        <artifactId>cxf-rt-frontend-jaxws</artifactId>
        <version>${cxf.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.cxf</groupId>
        <artifactId>cxf-rt-transports-http</artifactId>
        <version>${cxf.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.cxf</groupId>
        <artifactId>cxf-rt-frontend-jaxws</artifactId>
        <version>${cxf.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.cxf</groupId>
        <artifactId>cxf-rt-frontend-jaxrs</artifactId>
        <version>${cxf.version}</version>
    </dependency>
    <dependency>
        <groupId>org.apache.cxf</groupId>
        <artifactId>cxf-rt-transports-http-jetty</artifactId>
        <version>${cxf.version}</version>
    </dependency>
    <dependency>
        <groupId>org.manning.ossoagov.chapter2</groupId>
        <artifactId>traffic-service-general</artifactId>
        <version>0.0.1-SNAPSHOT</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>
</dependencies> 
```

编辑：我也不清楚我应该如何构建它..？我将它作为 Eclipse 中的 Maven 构建运行，目标是生成源。这似乎产生了来源。但是我应该如何构建整个包？即使生成了源代码它也不会编译..？非常感谢！

编辑：更新的 Maven 日志

```
 [INFO] Scanning for projects...
[WARNING]
[WARNING] Some problems were encountered while building the effective model for org.manning.ossoagov.chapter2:traffic-service-remoting-WS:jar:0.0.1-SNAPSHOT
[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.cxf:cxf-rt-frontend-jaxws:jar -> duplicate declaration of version ${cxf.version} @ line 134, column 15
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING]
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING]
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Traffic Service WS Remoting 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- cxf-codegen-plugin:2.3.2:wsdl2java (generate-sources) @ traffic-service-remoting-WS ---
[INFO]
[INFO] --- build-helper-maven-plugin:1.7:add-source (add-source) @ traffic-service-remoting-WS ---
[INFO] Source directory: /Users/bw/Documents/workspace3/traffic-service-remoting-WS/target/generated/cxf added.
[INFO]
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ traffic-service-remoting-WS ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 3 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ traffic-service-remoting-WS ---
[INFO] Nothing to compile - all classes are up to date
[INFO]
[INFO] --- maven-resources-plugin:2.4.3:testResources (default-testResources) @ traffic-service-remoting-WS ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!    [INFO] Copying 1 resource
[INFO]    [INFO] --- maven-compiler-plugin:2.3.2:testCompile (default-testCompile) @ traffic-service-remoting-WS ---
[INFO] No sources to compile
[INFO]
[INFO] --- maven-surefire-plugin:2.7.1:test (default-test) @ traffic-service-remoting-WS ---
[INFO] Surefire report directory: /Users/bw/Documents/workspace3/traffic-service-remoting-WS/target/surefire-reports 
```

* * *

```
 T E S T S
-------------------------------------------------------
There are no tests to run.

Results :

Tests run: 0, Failures: 0, Errors: 0, Skipped: 0

[INFO]
[INFO] --- maven-jar-plugin:2.3.1:jar (default-jar) @ traffic-service-remoting-WS ---
[INFO] Building jar: /Users/bw/Documents/workspace3/traffic-service-remoting-WS/target/traffic-service-remoting-WS-0.0.1-SNAPSHOT.jar
[INFO]
[INFO] --- maven-install-plugin:2.3.1:install (default-install) @ traffic-service-remoting-WS ---
[INFO] Installing /Users/bw/Documents/workspace3/traffic-service-remoting-WS/target/traffic-service-remoting-WS-0.0.1-SNAPSHOT.jar to /Users/bw/.m2/repository/org/manning/ossoagov/chapter2/traffic-service-remoting-WS/0.0.1-SNAPSHOT/traffic-service-remoting-WS-0.0.1-SNAPSHOT.jar
[INFO] Installing /Users/bw/Documents/workspace3/traffic-service-remoting-WS/pom.xml to /Users/bw/.m2/repository/org/manning/ossoagov/chapter2/traffic-service-remoting-WS/0.0.1-SNAPSHOT/traffic-service-remoting-WS-0.0.1-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 8.179s
[INFO] Finished at: Tue Apr 16 07:49:17 BST 2013
[INFO] Final Memory: 11M/81M
[INFO] ------------------------------------------------------------------------ 
```

编辑：试图缩小范围。我有一个“Maven 问题”，“目标 org.apache.cxf:cxf-codegen-plugin:2.3.2:wsdl2java 的执行生成源失败。（org.apache.cxf:cxf-codegen-plugin:2.3.2 :wsdl2java:generate-sources:generate-sources)"

但是，如果我转到命令行并执行 mvn org.apache.cxf:cxf-codegen-plugin:wsdl2java

然后我得到建立成功

eclipse的自动构建是否有可能没有以相同的方式运行它？可能是警告..？

```
[INFO] Scanning for projects...
[WARNING]
[WARNING] Some problems were encountered while building the effective model for org.manning.ossoagov.chapter2:traffic-service-remoting-WS:jar:0.0.1-SNAPSHOT
[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.cxf:cxf-rt-frontend-jaxws:jar -> duplicate declaration of version ${cxf.version} @ line 134, column 15
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING]
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING]
[INFO]                                                                     
[INFO] ------------------------------------------------------------------------
[INFO] Building Traffic Service WS Remoting 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- cxf-codegen-plugin:2.3.2:wsdl2java (default-cli) @ traffic-service-remoting-WS ---
[INFO] Nothing to generate
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3.868s
[INFO] Finished at: Tue Apr 16 09:37:40 BST 2013
[INFO] Final Memory: 6M/81M
[INFO] ------------------------------------------------------------------------ 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-16T06:04:30.870

您应该将此文件夹添加到类路径中，使用 maven 您可以这样做：

```
 <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>build-helper-maven-plugin</artifactId>
            <version>1.4</version>
            <executions>
                <execution>
                    <id>add-wsdl-source</id>
                    <phase>process-sources</phase>
                    <goals>
                        <goal>add-source</goal>
                    </goals>
                    <configuration>
                        <sources>
                            <source>${project.build.directory}/path/to/generated/sources</source>
                        </sources>
                    </configuration>
                </execution>
            </executions>
        </plugin> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-31T11:56:33.047

我有一个类似的问题，我只是右键单击保存生成源的文件夹并选择

```
 Build Path -> "Use as source Folder " 
```

现在eclipse会知道它在哪里。然后所有的错误都消失了。

选择文件夹时要小心，因为在错误的文件夹上执行此操作会给出错误的包名称。.

# android - 在android应用程序中使用gmail登录

> ID：16029806
> 
> 赞同：0
> 
> 时间：2013-04-16T06:00:54.950
> 
> 标签：android

我正在尝试开发这种类型的应用程序。

在我的 android 应用程序中使用 gmail 登录。如果 gmail 帐户不存在，则用于注册。并以 json 格式响应。

我在谷歌上搜索，但没有找到正确的源代码。

请任何人帮助我使用哪个api用于谷歌登录身份验证。

# string - perl 字符串操作

> ID：16029810
> 
> 赞同：0
> 
> 时间：2013-04-16T06:01:09.490
> 
> 标签：string, perl

我有一个文件，其中包含以下行：

```
analogy of dinner, 12312-12351, http://wwwdinner.com 
```

有时这些行是这样的：

```
eggs,bread,bacon:breakfast, 12312-1565A, http://wwwdinner.com 
```

我想用逗号或其他东西将字符串分成 3 部分，但有时前面部分有逗号，所以我不知道如何。

我只需要前半部分和后半部分。我不需要中间部分，即数字部分；但有时那里也有字母。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:15:29.350

你可以在这里使用拆分：

```
split /, /,$_; #split for every (<comma><space>)comma followed by a space 
```

例如：

```
> echo "eggs,bread,bacon:breakfast, 12312-1565A, http://wwwdinner.com"|perl -lne '@a=split /, /;print $a[0]'
eggs,bread,bacon:breakfast 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T06:04:56.490

您可以先使用拆分。

```
my @p=split/,/ ; 
```

然后将前几个部分连接在一起

```
$first=join(",",@p[0..scalar(@p)-3]);
$second=$p[-2];
$third=$p[-1]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T06:40:18.410

如果不了解数据的全部可能性，就很难判断什么是最佳选择。但似乎最好关注中间的、不需要的字段，我认为应该是由连字符连接的两个数字或大写字母序列。那正确吗？

然后你可以使用一个简单的正则表达式来解析这些行，就像这样

```
use strict;
use warnings;

while (<DATA>) {
  if (my @parts = /^(.+),\s*([0-9A-Z]+-[0-9A-Z]+),\s*(.+)$/) {
    printf "%s ~ %s\n", @parts[0,2];
  }
}

__DATA__
analogy of dinner, 12312-12351, http://wwwdinner.com
eggs,bread,bacon:breakfast, 12312-1565A, http://wwwdinner.com 
```

**输出**

```
analogy of dinner ~ http://wwwdinner.com
eggs,bread,bacon:breakfast ~ http://wwwdinner.com 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T06:24:12.283

一种方法是使用正则表达式并将其锚定到一致的字符串的某些部分。

例如，要转换为管道“|” 分开：

```
$ perl -pe 's/(.*), ([0-9]*-[0-9]*), (.*)/$1|$2|$3/' < f
analogy of dinner|12312-12351|http://wwwdinner.com
eggs,bread,bacon:breakfast|12312-12351|http://wwwdinner.com 
```

其中 [0-9] *-[0-9]*匹配任何一系列数字，它们之间带有破折号。例如，23-123213、9-1234 和 123123213-4 都将匹配。将表达式放在 () 中“记忆”它们，以后可以通过数字引用它们：$1 = 第一个记忆字段，$2 = 第二个，等等。

[http://codeidol.com/perl/effective-perl/Regular-Expressions/Use-regular-expression-memory./](http://codeidol.com/perl/effective-perl/Regular-Expressions/Use-regular-expression-memory./)

第一个模式 "(.*)," 匹配最后一个 "," 而不是第一个的原因是因为 perl 正则表达式默认是“贪婪的”——它们尽可能地匹配。

[http://www.troubleshooters.com/codecorn/littperl/perlreg.htm#Greedy](http://www.troubleshooters.com/codecorn/littperl/perlreg.htm#Greedy)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-16T07:12:56.863

为了娱乐，

```
my @fields = reverse map "".reverse, split /\s*,/, reverse($_), 3; 
```

严重地，

```
my @fields = /^(.*),\s*(\S+),\s*(\S+)\z/; 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-04-16T06:09:25.123

您可以使用`split /([^:]*:)?([^,]*),([^,]*),(.*)/g, $str`.

这里有几个例子：

```
my $str = "eggs,bread,bacon:breakfast, 12312-1565A, http://wwwdinner.com";
my @parts = split /([^:]*:)?([^,]*),([^,]*),(.*)/g, $str;

print $parts[1]; #eggs,bread,bacon:
print $parts[2]; #breakfast
print $parts[3]; # 12312-1565A
print $parts[4]; # http://wwwdinner.com" 
```

如果您分别使用第一个字符串：

```
my $str1 = "analogy of dinner, 12312-12351, http://wwwdinner.com";
my @parts = split /([^:]*:)?([^,]*),([^,]*),(.*)/g, $str1;

print $parts[2]; #analogy of dinner
print $parts[3]; # 12312-1565A
print $parts[4]; # http://wwwdinner.com" 
```

# opengl - OpenGL 接口 - 背景纹理/图像

> ID：16029817
> 
> 赞同：-1
> 
> 时间：2013-04-16T06:01:53.010
> 
> 标签：opengl, glut

我目前正在开发一款类似于“谁想成为亿万富翁”的游戏，在这种游戏中你被问到一个问题，你会得到几个答案，你必须从中选择。我在 Photoshop 中设计了一张背景图片，其中有一个用于问题的“屏幕”和另外 4 个用于答案的“按钮”。

我想知道如何将图像用作窗口背景并能够单击我在 Photoshop 中设计的那些“按钮”。

你有什么建议？哪个是最好的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T09:18:27.283

> 可以将图像用作窗口背景，并能够单击我在 Photoshop 中设计的那些“按钮”。

通过编程这种行为。OpenGL 不是应用程序框架/工具包。如果您希望某些东西对点击做出反应，您必须自己实现该行为并按照您想要的方式绘制它。OpenGL 为您提供铅笔、画布、画笔，但您必须自己完成艺术。

# android - 视频的最大大小可以添加到支持的原始文件夹中吗？

> ID：16029819
> 
> 赞同：5
> 
> 时间：2013-04-16T06:01:56.890
> 
> 标签：android, media-player, android-videoview

我有 70MB 的视频文件，我想通过 raw 文件夹播放，但应用程序没有启动如何在 android 的asset/raw 文件夹中添加这个视频文件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T06:26:25.430

大小限制为 1MB。（虽然我没有在 android 文档中找到这个，但从其他几个链接中找到了这个信息）。所以最好将视频分割成不同的原始文件，大小小于 1MB 并从中使用。

另请记住，您不能在 google play 中上传大小超过 50mb 的 apk。因此，如果您愿意，您也将需要 apk 扩展文件。

有用的网址

1.  [链接1](http://blog.rossgreenhalf.com/2010/12/13/android-file-size-limits/)，[链接2](https://stackoverflow.com/questions/9563373/the-reason-for-assets-and-raw-resources-in-android)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-16T06:37:28.820

从文档中可以清楚地看出，您的 apk 大小可以是 uptu **4 GB**。所以现在将有一个问题是在原始文件夹中保留一个 70 MB 的文件。请参阅[Android 突破 50 MB 的限制](http://android-developers.blogspot.in/2012/03/android-apps-break-50mb-barrier.html)

APK 大小很大程度上取决于 drawable *、Assets 和 Raw*文件夹

**问题：** 设备上通常不会安装更大尺寸的 apk，或者它们在安装时会产生问题。

**如果您被迫并且没有服务器，则将其保存在原始文件中，否则将视频保存在服务器上，一旦应用程序第一次运行就将其下载保存在本地内存中**

# linux-kernel - linux内核：完全公平的调度器：纪元长度

> ID：16029821
> 
> 赞同：0
> 
> 时间：2013-04-16T06:02:00.780
> 
> 标签：linux-kernel

是否有可能知道新纪元何时开始？以及 epoch 将在 linux 内核中运行多长时间？

我想在新纪元开始时根据纪元的长度进行一些计算..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:06:56.780

没有新的 Unix 纪元这样的东西...... Unix 纪元始于 1970 年 1 月 1 日，并且每秒都在增加。没有安排新的纪元，相反，2286 年 11 月 20 日，将庆祝 Unix 纪元的第十个百年。更多信息： [http ://en.wikipedia.org/wiki/Unix_time](http://en.wikipedia.org/wiki/Unix_time)

# c++ - 代码的哪一部分增加了内存使用量？

> ID：16029826
> 
> 赞同：0
> 
> 时间：2013-04-16T06:02:18.327
> 
> 标签：c++, qt, memory

我有一个服务器应用程序（使用 QTcpServer ）。VLD 内存泄漏检查显示没有内存泄漏。但是当我从客户端向服务器发送命令时，任务管理器会显示内存增量。所以，服务器将耗尽内存。如何找到导致此类问题的代码部分？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:53:21.507

在接受客户的同时做一些“工作”显然你的内存使用量会增加。重要的是，当您完成“工作”时，您释放分配的对象。如果这些是 QObject 派生的对象，Qt 将在程序退出时跟踪并删除它们，因此确实不会显示内存泄漏，但如果您在服务器启动并运行时不删除它们，它们就会留在那儿。

您可以做一些事情来减少内存使用，例如不要在堆上创建对象，但在堆栈上（这些对象会自动消失）尝试使用尽可能少的内存分配，立即释放分配的内存不需要它之类的...

也许通过共享一些代码（如果它不是非常庞大）将帮助我们确定一些我们可以改进的关于内存使用的点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T10:42:26.210

填写这些问题，我想我可以帮助您：

*   客户端连接时内存增加？是/否
*   客户端断开连接时内存减少？是/否
*   3个客户端连接/断开连接后，您处于空闲状态，内存增加了吗？
*   连接 1 个客户端，发送命令，然后断开连接。内存增加了吗？

如果最后一个是 YES，请尝试隔离使内存增加的命令。
如果所有命令都在增加内存使用量，那么处理命令调度的代码就会泄漏。
如果只有 1 个命令泄漏，则该命令正在泄漏。

一般的问题：

*   您是否为您分配的每个 Qt 对象指定了一个父对象`new`，并且您不使用它来释放它`delete`？如果没有，那就是你的泄漏。
*   你使用 QList 还是 QHashMap ？如果是，请检查您是否在需要时清理/整理它们

最后，您可以尝试在您分配的非 QT 对象上使用[HP 垃圾收集器。](http://www.hpl.hp.com/personal/Hans_Boehm/gc/)

# android - 启动 FM 应用程序出现问题

> ID：16029827
> 
> 赞同：1
> 
> 时间：2013-04-16T06:02:23.617
> 
> 标签：android

我正在尝试构建一个应用程序，它在摇动时启动 FM 收音机。并通过摇动相应地更改频道。在谷歌的帮助下，我知道只有供应商特定的 API 才能访问 FM

不管怎样，我决定去完成我的使命。有了这个，我几乎没有问题。

1) 我怎样才能得到这个 API 我的意思是我想要三星和 HTC 的 API。2) 我可以访问设备 FM 还是必须创建一个新设备？

有人请帮我解决这个问题

# c++ - 输入多个字符串 C++

> ID：16029829
> 
> 赞同：-3
> 
> 时间：2013-04-16T06:02:28.607
> 
> 标签：c++, string

下面的代码尝试输入多个带有空格的字符串，然后我需要在它们之间进行比较。我面临的问题是，它无法输入第一个字符串以外的字符串。我想是输入缓冲区中剩余的“输入”导致了这种行为，即跳过字符串的进一步输入。任何建议如何克服这个问题？

参考：[如何在 c++ 中 cin 空间？](https://stackoverflow.com/questions/2765462/how-to-cin-space-in-c)

**编辑：**清除和冲洗我试过但仍然是同样的问题。我需要实现C风格的字符串函数，所以不能使用字符串类，函数strcmp等必须由我实现而不是使用库函数。

```
int main()
    {
        char s[100];
        char s1[100];
        char s2[100];
        char* sub;

        struct countSpaces cs;

cout << "Enter a String : ";
cin.get( s, 100 );
std::cin.clear();
cs=count(s);

cout << s << " contains " << cs.letters << " letters and " << cs.spaces << " spaces" << endl;
cout << "Length of " << s << " is " << strlen(s) << endl;

cout << "Enter First String : ";
cin.get( s1, 100 );
std::cin.clear();
cout << "Enter second String : ";
cin.get( s2, 100 );
std::cin.clear();

        if( strcmp(s1,s2) )
        cout << s1 << " is equal to " << s2 << endl;
        else
        cout << s1 << " is not equal to " << s2 << endl;

        return 0;
        } 
```

输出：

```
$ ./String
Enter a String : Herbert Schildt
Herbert Schildt contains 14 letters and 1 spaces
Length of Herbert Schildt is 15
Enter First String : Enter second String :  is not equal to 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:15:17.927

```
#include <iostream>
#include <string>

using namespace std;

int main()
{
    string s1 = "";
    string s2 = "";

    cout << "Enter first string > ";

    getline(cin, s1);

    cout << "Enter second string > ";

    getline(cin, s2);

    if(strcmp(s1,s2))
        cout << s1 << " is equal to " << s2 << endl;
    else
        cout << s1 << " is not equal to " << s2 << endl;

    // copy string s1 into C-String str
    char * str = new char [s1.length()+1];
    std::strcpy (str, s1.c_str());

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-16T06:24:26.813

`std::cin.ignore(100,'\n');`成功了。

# blackberry - 如何将外部jar文件添加到黑莓？

> ID：16029832
> 
> 赞同：0
> 
> 时间：2013-04-16T06:02:43.090
> 
> 标签：blackberry

如何在 ECLIPSE SDK 中将第三方 jar 文件添加到黑莓项目。当我将应用程序部署到设备时，它显示“模块 XXXX 存在验证错误”。当我尝试在互联网上搜索时，JDE（Webworks 平台）存在解决方案，但 Eclipse 插件不存在。请提出程序。以下是我已经完成的步骤。

1.  下载第 3 方 jar 文件
2.  使用 preverify.exe 对其进行预验证，并通过添加到构建路径在我的 Eclipse 中使用经过验证的 JAR。
3.  部署到设备/模拟器。（令人惊讶的是，它没有签署应用程序）

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T10:43:56.060

看起来这个库（[http://www.java2s.com/Code/Jar/c/Downloadcomspringsourceorgobjectwebasm310jar.htm](http://www.java2s.com/Code/Jar/c/Downloadcomspringsourceorgobjectwebasm310jar.htm)）不能在黑莓java项目中使用——库中的“类型”类引用了java.lang中的一些类.reflect 包在 BB 上不可用

# backbone.js - 主干 supermodel.js - 从 localStorage 获取后丢失模型的关联

> ID：16029840
> 
> 赞同：1
> 
> 时间：2013-04-16T06:03:19.927
> 
> 标签：backbone.js, model, relationship

我有两个 Backbone SuperModel`Info`和`Content`, 并`1-to-1`以这种方式相互关联：

```
 Info.has().one('content', {
      model: Content,
      inverse: 'info'
 });

 Content.has().one('info', {
      model: Info,
      inverse: 'content'
 }); 
```

并将这两个模型的实例保存到不同的本地存储中：

```
Info.all().localStorage = new Backbone.LocalStorage('info'); // all() returns the collection.
Content.all().localStorage = new Backbone.LocalStorage("content"); 

// instances of Info Model. 'id' would be generated when calling initialize()
var info1 = Info.create();
var info2 = Info.create();

var content1 = Content.create({
    info_id: info1.get('id')
});
var content2 = Content.create({
    info_id: info2.get('id')
});

// save to localStorage
info1.save();
info2.save();

content1.save();
content2.save(); 
```

在将它们取出后，所有关联都丢失了：

```
Info.all().fetch();
Content.all().fetch();

Info.all().at(0).content(); // undefined. 
```

有人遇到过这个吗？你是怎么做到的 ？

此外，[supermodel.js](http://pathable.github.io/supermodel/) 承诺

> 使用 getter 函数检索关联属性。这允许通过集合进行延迟加载等优化。其他关联也可能在未来被延迟加载。

这是否意味着我可以加载与through`Content`关联的模型`Info.all().at(0)`

```
Info.all().at(0).content(); 
```

即使尚未获取内容模型的实例？（似乎它不起作用）

如何做到这一点`lazy-loaded`？

# html - jsp - 从 java 字符串中设置输入标签 (html) 的值

> ID：16029843
> 
> 赞同：2
> 
> 时间：2013-04-16T06:03:42.127
> 
> 标签：html, jsp, input

我在这里遇到了一个奇怪的问题。情况是这样的：

我正在尝试`input`从 java 字符串中为标签设置一个值：

```
 <input type="text" name="line" value=<%=line%>  ></input>

line = "this is my new line" 
```

结果是**value**只获得第一个单词（“this”）而不是整个字符串。

任何人都知道为什么或如何使它正确？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T06:06:51.580

```
<input type="text" name="line" value="<%=line%>"></input> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T06:06:18.037

像这样在值周围加上双引号 -

```
<input type="text" name="line" value="<%=line%>"></input> 
```

HTML 使用空间来分隔不同的属性/标签。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T06:12:00.133

正如大家所说，使用双引号

```
<input type="text" name="line" value=<%=line%>  ></input> 
```

以上行仅用于更正您的行，如果可能，请不要使用 scriplets。这些已过期。

请通过这个[如何避免 JSP 文件中的 Java 代码？](https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files)

# c++ - 使用 OpenCV 和 C++ 将模板图像与蒙版匹配

> ID：16029844
> 
> 赞同：0
> 
> 时间：2013-04-16T06:03:54.713
> 
> 标签：c++, opencv, mask, matching, matchtemplate

**如何使用 C++ 在 OpenCV 中使用 matchTemplate() 匹配蒙版图像？**

这是我的蒙面模板图像：

![在此处输入图像描述](https://i.stack.imgur.com/TUEzD.jpg)

这是我的源图像：

![在此处输入图像描述](https://i.stack.imgur.com/tTRgM.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-09-15T18:05:09.097

`matchTemplate`的第五个参数是一个`mask`可用于此目的的数组。在您的情况下，您需要一个*二进制*掩码。也就是说，一个`Mat`与：

*   深度`CV_8U`和
*   尺寸等于您的模板图像，并且
*   您要从模板中*忽略*的像素设置为 0，以及
*   您要使用的像素设置为非零值（通常为 1）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:27:39.137

查看[opencv 示例](http://docs.opencv.org/doc/tutorials/imgproc/histograms/template_matching/template_matching.html)。你必须调用`matchTemplate`函数：

```
matchTemplate( img, templ, result, match_method ); 
```

# c# - 我可以将端点地址连接到 app.config 文件中的变量吗？

> ID：16029850
> 
> 赞同：0
> 
> 时间：2013-04-16T06:04:27.043
> 
> 标签：c#

这可能在 appconfig 文件中吗？

```
<add key="@IPAddress" value="http://00.00.00.00:0000"/> 
```

替换这个：

```
<endpoint address="http://00.00.00.00:0000/some/something"
               binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding" 
```

有了这个：

```
<endpoint address="@IPaddress/some/something"
               binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:10:41.227

你不能在配置中做到这一点。但是你可以在运行时改变你的地址，像这样

```
var confAddress=ConfigurationManager.AppSettings["IPAddress"];
string address = confAddress+"/some/something";
using (ServiceHost serviceHost = new ServiceHost(typeof(yourContract), address))
{
   //Consume your service
} 
```

# iphone - 如何在 cocos3d 中创建菜单

> ID：16029855
> 
> 赞同：0
> 
> 时间：2013-04-16T06:04:40.493
> 
> 标签：iphone, ios, cocos3d, ccmenu

我想在 cocos3d 中创建一个菜单。我没有找到正确的解决方案。我尝试使用 cocos2d 概念创建一个。

```
 CCMenuItemImage *item1=[CCMenuItemImage itemFromNormalImage:@"up.png" selectedImage:@"images.jpeg" target:self selector:@selector(up:)];
    CCMenu *mnu1=[CCMenu menuWithItems:item1, nil];
    mnu1.position=ccp(320, 480);
    [self addChild:mnu1]; 
```

但是问题来了，

> 不兼容的指针类型将“CCMenu *”发送到“CC3Node *”类型的参数

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T06:29:25.893

我找到了答案。我在 CCScene 中创建了 CCMenu。实际上我们必须在 CCLayer 中创建 CCMenu。现在它起作用了！

# java - Hadoop程序不读取文件内容

> ID：16029856
> 
> 赞同：0
> 
> 时间：2013-04-16T06:04:54.840
> 
> 标签：java, hadoop, mapreduce, mapper, reducers

这可能是一个基本问题，但在 map reduce 程序中，我想读取输入文件夹中存在的所有文件的名称而不是内容，并且我想将这些文件的名称发送到我的映射器类。配置conf=新配置（）；

```
 Job job=new Job(conf,"Analysis");
    job.setInputFormatClass(KeyValueTextInputFormat.class);
    //Path pa =new Path("hdfs://localhost:54310/home/aparajith");
    //pa.

    FileInputFormat.addInputPath(job,new Path("/hduser/"));
    FileOutputFormat.setOutputPath(job, new Path("/CrawlerOutput23/"));

    job.setJarByClass(mapper.Mapper1.class);

    job.setMapperClass(mapper.Mapper1.class);
    job.setReducerClass(mapper.Reducer1.class);

    job.setOutputKeyClass(Text.class);
    job.setOutputValueClass(Text.class);
    System.exit(job.waitForCompletion(true) ? 0 : -1); 
```

这是我的主要课程，我似乎无法弄清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T08:21:32.057

## 如果您希望文件键和值的名称来自映射器：

在您的映射器中，您可以简单地忽略传入的键和值（默认情况下，文件中的位置作为`LongWritable`键，行内容作为`Text`值）并执行以下操作：

```
@Override
protected void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {
    String fileName = ((FileSplit) context.getInputSplit()).getPath().getName();
    // insert remaining mapper logic here
} 
```

这将获取从中读取映射器中当前键和值的文件名。

* * *

## 如果您只想将目录中的文件名作为映射器的输入：

您可以遍历输入目录 ( `yourInputDirPath`) 中的文件并编写一个包含其文件名 ( `inputDirFilenamesPath`) 的新文件，如下所示：

```
 FSDataOutputStream stream;
    try {
        stream = fs.create(inputDirFilenamesPath);
        RemoteIterator<LocatedFileStatus> it = fs.listFiles(yourInputDirPath, false);
        while (it.hasNext()) {
            stream.write(it.next().getPath().toString().getBytes());
            stream.write('\n');
        }
    } finally {
        stream.close();
    } 
```

然后，您可以简单地使用`FileInputFormat.addInputPath(job, inputDirFilenamesPath);`将此文件添加到您对 MR 作业的输入中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T07:46:11.440

最简单的解决方案是将该目录中文件的所有名称放在一个文件中，并将该文件作为输入文件提供给作业

# rest - 在 Spring MVC 中混合 REST 和 JSP，找不到 JSP

> ID：16029858
> 
> 赞同：5
> 
> 时间：2013-04-16T06:05:04.087
> 
> 标签：rest, spring-mvc, mapping

我确定这是一个菜鸟问题，我花了一个小时的大部分时间来搜索 stackoverflow 以获得答案，但似乎没有人有我的情况，所以我们开始......

我有一个使用 Spring MVC 的新 webapp。大多数应用程序 (99%) 都是纯 REST，因此它本身没有“视图”，而是简单地将 JSON 发送回线路，或发送备用 HTTP 状态以显示错误等。

例外是登录页面，它需要是一个实际的 JSP，但不知何故，我用来映射我的 REST 控制器的配置使我处于正常 JSP 映射失败的状态。

这是我所拥有的：

在我的调度程序 servlet 配置中，相关部分是：

```
<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix" value="/WEB-INF/pages/"/>
    <property name="suffix" value=".jsp"/>
</bean> 
```

在我试图让它工作的过程中，我还添加了一个到“HomeController”的映射，它目前只是重定向到我的登录 JSP：

```
<bean name="/" class="com.somepackage.HomeController"/> 
```

现在，在 web.xml 我有：

```
<servlet>
    <servlet-name>spring-dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>spring-dispatcher</servlet-name>
    <url-pattern>/*</url-pattern>
</servlet-mapping>

<listener>
    <listener-class>
        org.springframework.web.context.ContextLoaderListener
    </listener-class>
</listener>

<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
        /WEB-INF/spring-dispatcher-servlet.xml
    </param-value>
</context-param> 
```

这适用于我的 RESTful 控制器，如下所示：

```
@Controller
@RequestMapping(value = "/api/user")
public class BlahBlahController {... 
```

我的“HomeController”，看起来像这样：

```
@Controller
@RequestMapping(value = "/")
public class HomeController extends AbstractController {
    @Override
    protected ModelAndView handleRequestInternal(HttpServletRequest request, HttpServletResponse response) throws Exception {
        return new ModelAndView("login");
    }
} 
```

当我点击“/”网址时触发，但我在日志中收到此错误：

```
WARNING: No mapping found for HTTP request with URI [/WEB-INF/pages/login.jsp] in DispatcherServlet with name 'spring-dispatcher' 
```

现在我明白了，它不知道如何解决`/WEB-INF/pages/login.jsp`（顺便说一句，这个页面确实存在），但我不知道我需要如何改变事情才能让它工作。

我对它应该如何工作感到有点困惑。有人有任何线索吗？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-17T06:56:25.933

好的..我找到了答案，它是调度程序配置中的 url 模式。

代替：

```
<servlet-mapping>
    <servlet-name>spring-dispatcher</servlet-name>
    <url-pattern>/*</url-pattern>
</servlet-mapping> 
```

它应该是

```
<servlet-mapping>
    <servlet-name>spring-dispatcher</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping> 
```

我实际上在其他地方找到了这个答案并尝试过，但“认为”它不起作用，然后意识到我认为这与根本原因无关的原因。

不知道为什么这会起作用而另一个不会……但一次一个问题……

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-16T10:01:57.880

将 RequestMapping 放在方法级别，我尝试了我的代码并且它有效。如果您使用 @Controller 并具有适当的“上下文：组件扫描”，则不需要定义 HomeController bean

```
@Override
@RequestMapping(value = "/") 
protected ModelAndView handleRequestInternal(HttpServletRequest request, HttpServletResponse response) throws Exception {
    return new ModelAndView("login");
} 
```

如果您只想为所有“/”访问重定向登录视图，也可以使用以下代码。

```
<mvc:view-controller path="/" view-name="login"/> 
```

从 github签出[mvc 展示案例](https://github.com/SpringSource/spring-mvc-showcase)项目以获得有用的参考。

# authentication - 如何在 Java/JSP 中隔离身份验证和用户注册

> ID：16029859
> 
> 赞同：1
> 
> 时间：2013-04-16T06:05:04.540
> 
> 标签：authentication, servlets, login

在 RegServlet 类中，我有一个`doGet()`覆盖该方法的`doStuff()`方法。`doStuff()`方法从 HTML 注册表单中获取用户输入，然后连接到数据库，然后将用户输入存储到数据库中。

这是`doStuff()`我的 RegServlet 类中的方法：

```
public void doStuff(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException, InstantiationException, IllegalAccessException, SQLException {
    String userName = request.getParameter("userName");
    ...
    String email = request.getParameter("email");

    if(!userName.isEmpty()&&!passWord.isEmpty()) {
        request.setAttribute("userName", userName);
        ...
        request.setAttribute("email", email);

        //connect to DB
        toDB.createConnection();

        //insert information to DB
        toDB.insertNewUser(userName, passWord, lastName, firstName, age, sex, email);
        RequestDispatcher view = request.getRequestDispatcher("login.jsp");
        view.forward(request, response);            
    } else {
        RequestDispatcher view = request.getRequestDispatcher("index.jsp");
        view.forward(request, response);
    } 
```

如果在正确输入所有内容后单击注册按钮，它会引导我进入 login.jsp 页面。我现在正在尝试编写登录机制，以便用户（拥有存储在数据库中的用户名和密码）登录并搜索和添加/删除课程。

我很难过，因为我不知道该怎么做。

如何隔离用户注册和身份验证？我应该为会话管理创建另一个类还是只在这个 RegServlet 类中创建另一个方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T07:25:04.317

实现您自己的 HTTPServletFilter 来检查用户是否经过身份验证：

```
public void doFilter(ServletRequest req, ServletResponse res, FilterChain filterChain) throws IOException, ServletException {
    if ("a user is authenticated") {
        filterChain.doFilter(req, res);
    } else {
        // authenticate a user
    }
} 
```

该链接显示了 HTTPServletFilter 的基本知识： [http ://www.oracle.com/technetwork/java/filters-137243.html#70176](http://www.oracle.com/technetwork/java/filters-137243.html#70176)

# c# - 在下拉列表中加载数据最快

> ID：16029864
> 
> 赞同：0
> 
> 时间：2013-04-16T06:05:19.340
> 
> 标签：c#, visual-studio-2005, asp.net-2.0

我必须将数据加载到一些下拉列表中，其中包括通过 oracle 存储过程将数据加载到数据表中。但这会使我的页面在每次回发后加载缓慢。我应该使用哪种技术来加快页面加载速度。

为了更好地理解，我将在此处引用实例

1.  我们将使用 oracle 连接和存储过程加载数据表。
2.  我们将此数据表内容加载到下拉列表中
3.  在选择这个下拉列表时，将使用上述过程填充另一个下拉列表。

现在我的问题是如何通过使用一些调整技术或实施一些新技术来使我的页面加载更快。我的问题是特定于 asp.net 2.0 框架的。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:32:27.450

在没有看到您的代码并考虑到您对回发加载时间的担忧（“......每次回发后缓慢。”）的情况下，我可以建议您也许可以利用[ASP.NET ViewState](http://msdn.microsoft.com/en-us/library/ms972976.aspx)功能来填充您的下拉列表在初始页面加载期间一次，并让 ASP.NET 在后续回发期间恢复它们的状态（项目以及选定的值）。像下面这样的伪代码可以解决问题：

```
protected void Page_Load(object sender, EventArgs e)
{
  if (!Page.IsPostBack)
  {
    LoadData();
  }
}

private void LoadData()
{
  // this.List1 refers to the DropDownList control defined in your page markup
  DropDownList list = this.List1; 

  IList<Tuple<string, string>> items = /* Getting items from the database */;
  int selectedItemIndex = /* Getting the selected item index */;

  for (int i = 0; i < items.Count; i++)
  {
    list.Items.Add(new ListItem(items[i].Item1, items[i].Item2, i == selectedItemIndex));
  }
} 
```

希望这可以帮助。

PS 当您提出此类问题时，请确保发布相关的代码片段，否则很难提出建议，因为问题可能不是看起来的那样:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:32:46.580

我建议您缓存填充下拉列表的数据。有很多技术，这完全取决于您将多少数据加载到下拉列表中。

正如我所期望的那样，您的表格包含大量列（例如表格用户 - id、姓名、电话、生日、reltaion1、reletaion2、relation3 ...），但您只需要从这张表中获取 2 个列 - ID、名称。所以：

1）我建议您使用 SelectListItem 作为 Dto 对象。2）在应用程序开始时，将 bd 中的所有数据作为列表项加载到内存缓存中，但如果您的对象不超过 10000 个（取决于服务器的内存量），这将正常工作。3) 享受快速工作的缓存数据的乐趣。

另一种方法是将此对象存储在 NoSql 中，例如 Name-value 集合，它是为存储此类数据而设计的，它也比使用 Sql 存储此类数据更快。

# python - 图片在本地工作，但在 Google App Engine 上部署后无法工作？

> ID：16029865
> 
> 赞同：1
> 
> 时间：2013-04-16T06:05:35.907
> 
> 标签：python, google-app-engine

我有一个 app.yaml 文件，如下所示：

```
application: segmentize
version: 1
runtime: python27
api_version: 1
threadsafe: true

handlers:
- url: /css
  static_dir: css

- url: /img(.*\.(gif|png|jpg))
  static_files: img/\1
  upload: img(.*\.(gif|png|jpg))

- url: /
  script: index.app

skip_files:
- ^(.*/)?app\.yaml
- ^(.*/)?app\.yml
- ^(.*/)?index\.yaml
- ^(.*/)?index\.yml
- ^(.*/)?#.*#
- ^(.*/)?.*~
- ^(.*/)?.*\.py[co]
- ^(.*/)?.*/RCS/.*
- ^(.*/)?\..*
- ^(.*/)?dev
- ^(.*/)?old_ver
- ^(.*/)?resources 
```

图像在本地都显示良好。但是，一旦部署，它们就会显示为损坏。

html中的图片设置如下：

```
<img src="/img/welcomeimg.png"> 
```

部署时图像只是没有上传吗？这是什么原因造成的？css 文件夹似乎可以毫无问题地部署。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T14:01:27.123

`img`在`url`和部分的末尾添加斜杠`upload`：

```
- url: /img/(.*\.(gif|png|jpg))
  static_files: img/\1
  upload: img/(.*\.(gif|png|jpg)) 
```

# c++ - 一次对所有对象执行一个函数（没有 for 循环）

> ID：16029866
> 
> 赞同：1
> 
> 时间：2013-04-16T06:05:36.277
> 
> 标签：c++, arrays, class

是否可以在不使用 for 循环的情况下一次对类的所有对象执行函数？例如在以下代码中：

```
 #include <iostream>

    using namespace std;

    class CTest {
            public:

            int X;

            void clear() {
                X = 0;
            }

    };

    int main() {
        CTest A[100];

        for (int i = 0; i < 100; ++i) {
            A[i].X = 10;
        }

        for (int i = 0; i < 100; ++i) {
            A[i].clear();
        }

        return 0;
    } 
```

是否可以做一些事情，比如`A.X = 10`一次初始化所有对象，或者例如使用一次`A.clear()`清除所有对象？我认为可以`<vector>`用于此目的，但还有其他方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:40:17.747

您可以将 STL 算法标头中的 std::for_each 与数组一起使用。您可以传递 CTest* 指针“array”和“array + size”或更好的 std::begin(A)/std::end(A)，而不是迭代器 begin()/end()。唯一的问题是调用非静态成员，例如 clear()。如果你有 C++11 使用 lambdas 或者检查 STL 功能或增强绑定。

```
//C++11 code:
#include <algorithm>
std::for_each(std::begin(A),std::end(A),[](CTest& ct){ct.X = 10;});
std::for_each(std::begin(A),std::end(A),[](CTest& ct){ct.clear();}); 
```

编辑：对数组使用开始/结束而不是指针算术

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:27:51.420

你不能。你需要执行一些操作N次吗？好吧，*充其量*，这是一个线性时间运算。你永远不会得到恒定的时间。期待其他任何事情是没有意义的。

# java - Java::server 中的客户端服务器程序不逐行读取文件中的文本

> ID：16029867
> 
> 赞同：0
> 
> 时间：2013-04-16T06:05:38.447
> 
> 标签：java, sockets

我正在尝试将一个`audio file`从服务器传输到客户端并将其写入另一个文件。正在从客户端读取文件，但它正在读取文件的`server`内容而忽略新行。例如，有一个像“我正在做客户端服务器程序”这样的文本，文件的下一行是“in Java”。服务器读取为“我正在做客户端服务器编程`Java`”。我的问题是如何逐行阅读内容..

我的代码如下...

*

> 服务器

```
**try
{
`   try
        {
            System.out.println("Im server waiting for client request");
            ss=new ServerSocket(2005);
            Socket s=ss.accept();

             InputStream is = s.getInputStream( );//Input Stream
             BufferedReader fileRead =new BufferedReader(new       InputStreamReader(is));
             String fname = fileRead.readLine( );

            OutputStream os = s.getOutputStream( );//socket output stream
             PrintWriter pw = new PrintWriter(os, true);

             BufferedReader br = new BufferedReader(new FileReader(fname) );//read File

             String str;//initiating string and StringBuffer

             StringBuilder sb=new StringBuilder();

            while((str = br.readLine()) !=  null) // reading line-by-line from file
            {
                sb.append(str);//append to stringBuffer sb

            }
            System.out.println("The string is in server" +sb);

            pw.println(sb);
            pw.flush();
            pw.close();
            is.close();
            fileRead.close();
        os.close();
        pw.close();
        br.close();

        }
        catch(Exception e)
        {
            e.getMessage();
            e.getStackTrace();
            e.getSuppressed();
        }`
The Client side::

    try {
            System.out.println("Im client ..sending request");
            Socket s=new Socket("127.0.0.1",2005);//Initiate Socket

            System.out.println("Enter filename");

            BufferedReader bw=new BufferedReader(new InputStreamReader(System.in));//Take fileName from keyBoard

            String filename=bw.readLine();//Read filename into  a string

            OutputStream dout=new DataOutputStream(s.getOutputStream());//output Stream
            PrintWriter pw=new PrintWriter(dout,true);

            pw.println(filename);//write filename to socket

            InputStream is = s.getInputStream( );//Input Stream
            BufferedReader in =new BufferedReader(new InputStreamReader(is));
            String clstr;
            StringBuilder sd=new StringBuilder();
            while((clstr=in.readLine())!=null)
            {
                sd.append(clstr);
             //clstr=in.readLine();//Read String From socket into "clstr" string

            }
             System.out.println("The string in client is" +sd);

            File f=new File("A://music/kin.txt");//Open a file

            if(!f.exists())
                f.createNewFile();//if not existed create it

            try
            {
            //PrintWriter bf=new PrintWriter(new FileWriter(f)); //Write to a file
                BufferedWriter bf=new BufferedWriter(new FileWriter(f));
            //bf.append(clstr);
            //bf.write(sd);
            bf.append(sd);
            bf.flush();
            bf.close();
            }
            catch(Exception e)
            {
                e.getMessage();
                e.getSuppressed();
                e.getStackTrace();
            }

            System.out.println("The Content written is" +sd);

            bw.close();
            pw.close();
        dout.close();
        in.close();
        is.close();

        } catch (UnknownHostException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-16T06:11:51.623

您的描述还不清楚，但我怀疑这是问题所在：

```
while((str = br.readLine()) !=  null) // reading line-by-line from file
{
    sb.append(str);//append to stringBuffer sb
} 
```

from 的返回值`readLine()` *不*包含换行符...并且您没有将一个换行符添加到您的`StringBuilder`. 因此，如果您收到以下行：

*   “第一的”
*   “第二”
*   “第三”

结果将只是“firstsecondthird”。您只需要自己添加一个适当的换行符：

```
// Or whatever line break you want
String lineBreak = System.getProperty("line.separator");
while((str = br.readLine()) != null)
{
    sb.append(str);
    sb.append(lineBreak);
} 
```

请注意，如果你真的*想像*这样传输音频文件，你不应该 - 音频文件是*二进制*数据，所以你应该从`InputStream`; 根本不要使用 a `Reader`，因为它是为*文本*数据设计的。

# python - 如何在 Python 中使用 -p 选项运行 os.mkdir()？

> ID：16029871
> 
> 赞同：20
> 
> 时间：2013-04-16T06:05:50.290
> 
> 标签：python, mkdir

我想运行`mkdir`命令：

```
mkdir -p directory_name 
```

在 Python 中执行此操作的方法是什么？

```
os.mkdir(directory_name [, -p]) didn't work for me. 
```

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-04-16T06:08:22.717

你可以试试这个：

```
# top of the file
import os
import errno

# the actual code
try:
    os.makedirs(directory_name)
except OSError as exc: 
    if exc.errno == errno.EEXIST and os.path.isdir(directory_name):
        pass 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2018-03-22T03:19:11.237

根据[文档](https://docs.python.org/3/library/os.html#os.makedirs)，您现在可以从 python 3.2 开始使用它

```
os.makedirs("/directory/to/make", exist_ok=True) 
```

并且目录存在时不会抛出错误。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-04-16T06:09:07.893

像这样的东西：

```
if not os.path.exists(directory_name):
    os.makedirs(directory_name) 
```

UPD：正如评论中所说，您需要检查线程安全异常

```
try:
    os.makedirs(directory_name)
except OSError as err:
    if err.errno!=17:
        raise 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2018-09-30T20:41:05.530

如果您正在使用[`pathlib`](https://docs.python.org/library/pathlib.html)，请使用`Path.mkdir(parents=True, exist_ok=True)`

```
from pathlib import Path

new_directory = Path('./some/nested/directory')
new_directory.mkdir(parents=True, exist_ok=True) 
```

`parents=True`根据需要创建父目录

`exist_ok=True`如果目录已经存在，告诉`mkdir()`不会出错

请参阅[`pathlib.Path.mkdir()`文档](https://docs.python.org/3/library/pathlib.html#pathlib.Path.mkdir)。

* * *

## 回答 #5

> 赞同：-5
> 
> 时间：2017-07-21T03:54:04.490

how about this `os.system('mkdir -p %s' % directory_name )`

# c# - 如何在 IClientMessageInspector 中获取调用的操作名称？

> ID：16029873
> 
> 赞同：8
> 
> 时间：2013-04-16T06:06:04.907
> 
> 标签：c#, .net, wcf, soap, iclientmessageinspector

我在我的应用程序中实现了一个[`IClientMessageInspector`](http://msdn.microsoft.com/en-us/library/ms599812.aspx)“拦截”传出 Web 服务调用。`BeforeSendRequest`是否可以从and内部找出正在调用哪个操作`AfterReceiveReply`？

这里有一个类似的问题，[How do i get the invoked operation name within a WCF Message Inspector](https://stackoverflow.com/questions/2477137/how-do-i-get-the-invoked-operation-name-within-a-wcf-message-inspector)，这是针对服务器端（接收请求的一方）的。我试图做类似的事情，例如

```
 public object BeforeSendRequest(ref Message request, IClientChannel channel)
    {
        var v = OperationContext.Current.OutgoingMessageProperties["HttpOperationName"];
        return null;
    }

    public void AfterReceiveReply(ref Message reply, object correlationState)
    {
        var v = OperationContext.Current.OutgoingMessageProperties["HttpOperationName"];
    } 
```

但是在传出请求期间，似乎 OperationContext.Current 为空，所以我不能使用它。知道如何得到它吗？知道如何干净地做到这一点（相反，比如解析 SOAP xml）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T20:15:30.523

从您询问如何使用[IParameterInspector](http://msdn.microsoft.com/en-us/library/system.servicemodel.dispatcher.iparameterinspector.aspx)完成此操作的评论中。操作名称是 Before/AfterCall 方法的一部分。

只是为了添加我对使用哪个检查员的评论。来自[Carlos Figueira 的博客](http://blogs.msdn.com/b/carlosfigueira/archive/2011/04/26/wcf-extensibility-iparameterinspector.aspx)：

> 本系列上一篇文章中描述的消息检查器允许您完全控制通过 WCF 堆栈的消息。它们非常强大，但是您必须知道如何处理 Message 对象，这不是最理想的编程方式。如果 WCF 中的服务模型通过允许我们根据强类型操作定义我们的服务（即使用良好的原始类型和用户定义的类型）来隐藏所有消息传递框架，那么应该有一种拦截请求/响应的方法毕竟从传入消息中提取这些参数（或在将它们打包到传出消息中之前）的处理已完成。IParameterInspector 就是这样——在每次调用之前和之后，检查器都有机会检查操作输入、输出和返回值，

这是一个完整的命令行程序，演示：

```
using System;
using System.ServiceModel;
using System.ServiceModel.Channels;
using System.ServiceModel.Description;
using System.ServiceModel.Dispatcher;

namespace WCFClientInspector
{
    public class OperationLogger : IParameterInspector
    {
        public void AfterCall(string operationName, object[] outputs, object returnValue, object correlationState)
        {
            Console.WriteLine("Completed operation:" + operationName);
        }

        public object BeforeCall(string operationName, object[] inputs)
        {
            Console.WriteLine("Calling operation:" + operationName);
            return null;
        }
    }

    public class OperationLoggerEndpointBehavior : IEndpointBehavior
    {
        public void AddBindingParameters(ServiceEndpoint endpoint, BindingParameterCollection bindingParameters)
        {
        }

        public void ApplyClientBehavior(ServiceEndpoint endpoint, ClientRuntime clientRuntime)
        {
            foreach (ClientOperation operation in clientRuntime.ClientOperations)
            {
                operation.ClientParameterInspectors.Add(new OperationLogger());
            }
        }

        public void ApplyDispatchBehavior(ServiceEndpoint endpoint, EndpointDispatcher endpointDispatcher)
        {
        }

        public void Validate(ServiceEndpoint endpoint)
        {
        }
    }

    [ServiceContract]
    public interface ISimple
    {
        [OperationContract]
        void DoSomthing(string s);
    }

    public class SimpleService : ISimple
    {
        public void DoSomthing(string s)
        {
            Console.WriteLine("Called:" + s);
        }
    }

    public static class AttributesAndContext
    {
        static void Main(string[] args)
        {
            ServiceHost simpleHost = new ServiceHost(typeof(SimpleService), new Uri("http://localhost/Simple"));
            simpleHost.Open();

            ChannelFactory<ISimple> factory = new ChannelFactory<ISimple>(simpleHost.Description.Endpoints[0]);
            factory.Endpoint.EndpointBehaviors.Add(new OperationLoggerEndpointBehavior());
            ISimple proxy = factory.CreateChannel();

            proxy.DoSomthing("hi");

            Console.WriteLine("Press ENTER to close the host.");
            Console.ReadLine();

            ((ICommunicationObject)proxy).Shutdown();

            simpleHost.Shutdown();
        }
    }

    public static class Extensions
    {
        static public void Shutdown(this ICommunicationObject obj)
        {
            try
            {
                obj.Close();
            }
            catch (Exception ex)
            {
                Console.WriteLine("Shutdown exception: {0}", ex.Message);
                obj.Abort();
            }
        }
    }
} 
```

它应该给出输出：

```
 Calling operation:DoSomthing 
  Called:hi 
  Completed operation:DoSomthing
  Press ENTER to close the host. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T06:33:11.080

`reply.Headers.Action`和怎么样`request.Headers.Action`。当然，其余的与所链接的问题一样棘手。所以完整的代码将是：

```
var action = reply.Headers.Action.Substring(reply.Headers.Action.LastIndexOf("/", StringComparison.OrdinalIgnoreCase) + 1); 
```

或者

```
var action = request.Headers.Action.Substring(request.Headers.Action.LastIndexOf("/", StringComparison.OrdinalIgnoreCase) + 1); 
```

# javascript - 单击子元素时折叠 div

> ID：16029874
> 
> 赞同：1
> 
> 时间：2013-04-16T06:06:10.997
> 
> 标签：javascript, jquery, html, parent-child, collapse

我正在尝试在单击子元素时折叠父 div，如下所示

**HTML**

```
<div class="expand">
    <h3>expand this div</h3>
    <a href="#" class="collapse" style="display:none;">Collapse</a>
</div> 
```

**CSS**

```
.expand{
    border:2px dotted green;
} 
```

**jQuery**

```
$('.expand').click(function(){
    $(this).stop().animate({
        width:'300px',
        height:'300px'
    });
    $('.collapse').show();
});

 $('.collapse').on('click',function(){
     $('.expand').stop().animate({
         width: '300px',
         height:'50px'
     });
 }); 
```

它不起作用，我也尝试过使用`$(this).parent().animation()`，但这也不起作用。

这里应该做哪些改变？

[**在这里生活小提琴**](http://jsfiddle.net/nvR2S/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:09:31.623

尝试这个：

```
$('.collapse').on('click',function(e){
     e.stopPropagation()
     $(this).parent('.expand').stop().animate({
         width: '300px',
         height:'50px'
     });
     $(this).hide();
}); 
```

[**在这里演示**](http://jsfiddle.net/nvR2S/2/)

您的代码不起作用，因为在单击内部孩子时，也单击`div`了父级。`div`我们已经停止使用[**event.stopPropagation()**](http://api.jquery.com/event.stopPropagation/)并且您的代码运行良好。

还添加了`$(this).hide()`隐藏`collapse`点击它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:11:29.537

尝试：

```
$('.expand').on('click', '.collapse',function(e){
 e.stopPropagation();
 $(this).hide();
 $('.expand').stop().animate({
     width: '300px',
     height:'50px'
 });
}); 
```

[演示](http://jsfiddle.net/Sdp4W/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T06:10:25.673

发生这种情况是因为您单击`.collapse`链接冒泡到`.expand`div 触发返回扩展功能。您可以通过调用来防止冒泡`event.stopPropagation();`

```
$('.collapse').on('click',function(e){
     e.stopPropagation();
     $('.expand').stop().animate({
         width: '300px',
         height:'50px'
     });
 }); 
```

[http://jsfiddle.net/nvR2S/1/](http://jsfiddle.net/nvR2S/1/)

# python - 金字塔身份验证和身份验证：“注销”的奇怪行为

> ID：16029878
> 
> 赞同：0
> 
> 时间：2013-04-16T06:06:15.900
> 
> 标签：python, authentication, authorization, pyramid

登录效果很好，我的 logout_view：

```
@view_config(route_name='logout')
def logout_view(request):
    headers = forget(request)
    raise HTTPFound(location='request.application_url',headers=headers) 
```

我得到的输出：

```
AttributeError: 'NoneType' object has no attribute 'name'
 (in template single.pt LINE 11: "<p tal:content="result.name"></p>") 
```

看起来，

1.  并且根本没有被调用`forget`，`HTTPFound`因为浏览器停留在“0.0.0.0:6543/logout，说*Internal Server Error*。
2.  与模板`logout_view`无关`single.pt`，但似乎在`single.pt`某处呈现。

顺便说一句，`single.pt`模板仅用于以下内容`rst_view`，与以下内容相关`config.add_route('rst', '/{id}')`：

```
@view_config(route_name='rst', renderer='templates/single.pt',
             permission='edit',)
def rst_view(request):
    rstId=request.matchdict['id']
    rst=DBSession.query(Rst).get(rstId)
    return {
    'result':rst,
    'logged_in':authenticated_userid(request),
} 
```

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:57:56.840

看起来您的路线排序搞砸了并且`/{id}`之前匹配`/logout`，有效地隐藏了它。反转您`add_route`对该注销的调用首先匹配。

# oauth - 在分布式服务之间共享 OAuth 凭证

> ID：16029887
> 
> 赞同：1
> 
> 时间：2013-04-16T06:06:42.840
> 
> 标签：oauth

我们的 OAuth 服务器将与处理实际受保护资源的服务器分开，本质上位于几个不同系统的中间，每个系统都拥有受保护的资源。

例如，登录页面将位于其中一个系统中。

当一个系统中的经过身份验证的用户转到另一个系统时应该是什么程序？既然它已经过身份验证，它应该只是通过，但在这种情况下 OAuth 做了什么，并要求什么？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:34:06.147

OAuth 没有明确说明这种情况。但从 API 设计的角度来看，我会：

*   拥有一个 API 端点，其中包含路径中指定的不同服务。比如`http://api.example.com/service1`等`http://api.example.com/service2`。
*   让那个端点在后台处理 OAuth 和查询单独的服务。

如果你想拥有透明的“独立系统”，`http://service1.example.com`你`http://service2.example.com`可以。但请确保拥有一个域来处理整个 OAuth 流程，并且每个 API 端点都能够处理 OAuth 请求并有权访问必要的用户和令牌数据库来验证请求。

举个例子，你可以：

1.  接收到 的 OAuth 请求`http://service1.example.com`。
2.  如果`service1`可以访问用户和令牌数据库，您可以立即验证请求。
3.  或者，您可以将请求转发到您的 OAuth 服务进行验证。
4.  并继续提供响应

或者我的替代方案（我认为更好）：

1.  拥有一个处理 OAuth 的 API 端点
2.  并在验证后在后台调用不同的服务。

# node.js - 如何使用域来处理节点 js 应用程序中的异常

> ID：16029891
> 
> 赞同：0
> 
> 时间：2013-04-16T06:06:53.880
> 
> 标签：node.js, error-handling

在我的节点 js 应用程序中，我想使用域捕获异常。我该怎么做。我尝试了下面的示例，但它显示错误为“错误：找不到模块“步骤”。

应用程序.js

```
 var domain=require('domain');
            var mainDomain = domain.create();
            mainDomain.run(function() {
            fs.readFile(filename, 'utf8', mainDomain.intercept(function(data) {
               console.log(data);      
            }));               
             });
            mainDomain.on("error", function(error){
               console.log(error);
            }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-23T17:48:49.057

希望你在四月份解决了这个问题。但是，为了完成您的帖子，我遇到了同样的问题。

在线抛出错误：

```
var domain=require('domain'); 
```

问题与运行早期版本的 Nodejs 有关。我安装了最新版本（v0.10.21），问题解决了。

# android - 如何在 MapFragment 上嵌入自定义列表

> ID：16029894
> 
> 赞同：0
> 
> 时间：2013-04-16T06:06:58.280
> 
> 标签：android, google-maps-android-api-2, mapfragment

您好我正在尝试将自定义列表视图放在 mapFragment 的顶部（我使用的是 GoogleMaps api V2）。此 mapFragment 位于 ActionBarTab 的 Fragment 中。我研究了 tileOverlay 和 groundOverlay，但它们都是关于在地图上放置图像（根据我的理解）。有没有办法在 mapFragment 上膨胀 ListView。这是我的片段布局

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:id="@+id/fragment_regional_analysis" >

        <ListView
            android:id="@android:id/list"
            android:layout_width="300dp"
            android:layout_height="fill_parent"
            android:background="@android:color/transparent"
            android:cacheColorHint="@android:color/transparent" />
        <View 
            android:id="@+id/mapView"                   
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"/>

</LinearLayout> 
```

这是片段类

`

```
public class RegionalFragment extends Fragment 
  {

static final LatLng UK = new LatLng(53.4167, 3.0000);
static final LatLng LONDON = new LatLng(51.5171, 0.1062);
static final LatLng Brimingham = new LatLng(52.4800, 1.9100);
private MapFragment mapFragment;
private GoogleMap map;
ProgressBar progressBar;
int progress = 0;

@Override
public void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    View v = inflater.inflate(R.layout.fragment_container,
            container, false);
    mapFragment = new MapFragment() {
        @Override
        public void onActivityCreated(Bundle savedInstanceState) {
            super.onActivityCreated(savedInstanceState);
            map = mapFragment.getMap();

            if (map != null) {
                 setupMap();
            }
        }
    };
    // fragment added dynamically
    FragmentTransaction transaction = getFragmentManager()
            .beginTransaction();
    transaction.add(R.id.mapView, mapFragment).commit();
    return v;
}` 
```

Logcat 错误：

```
04-16 09:38:40.300: E/AndroidRuntime(807): FATAL EXCEPTION: main
04-16 09:38:40.300: E/AndroidRuntime(807): java.lang.ClassCastException: android.view.View cannot be        cast to android.view.ViewGroup
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:875)
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1057)
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.app.BackStackRecord.run(BackStackRecord.java:682)
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1435)
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.app.FragmentManagerImpl$1.run(FragmentManager.java:441)
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.os.Handler.handleCallback(Handler.java:725)
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.os.Handler.dispatchMessage(Handler.java:92)
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.os.Looper.loop(Looper.java:137)
04-16 09:38:40.300: E/AndroidRuntime(807):  at android.app.ActivityThread.main(ActivityThread.java:5041)
04-16 09:38:40.300: E/AndroidRuntime(807):  at java.lang.reflect.Method.invokeNative(Native Method)
04-16 09:38:40.300: E/AndroidRuntime(807):  at java.lang.reflect.Method.invoke(Method.java:511)
04-16 09:38:40.300: E/AndroidRuntime(807):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
04-16 09:38:40.300: E/AndroidRuntime(807):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
04-16 09:38:40.300: E/AndroidRuntime(807):  at dalvik.system.NativeStart.main(Native Method) 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:23:30.777

你不能把它放到你的布局文件中吗？

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<ListView
            android:id="@android:id/list"
            android:layout_width="match_parent"
            android:layout_height="AS_YOU_WANT_IT" />

<fragment
    android:id="@+id/mapFragment"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    class="com.google.android.gms.maps.SupportMapFragment" />

</LinearLayout> 
```

并在你的片段中膨胀这个？

# git - GIT push 不将提交推送到远程

> ID：16029895
> 
> 赞同：3
> 
> 时间：2013-04-16T06:07:18.570
> 
> 标签：git, push, commit, git-remote

我一直在研究一个 git 存储库，并且一直在将我的本地更改推送到远程服务器……直到最近。当我执行 git push 时，它说一切都是最新的。实际上，我已经在远程版本之前进行了 3 次提交，并且没有得到我的更改。

我已经尝试了 git log -1, git reset --hard 在各个地方发布的解决方案，但这并没有解决任何问题。我是否需要更改该数字以反映我领先的提交数量？

假设我有 5 次提交，为了简洁起见，命名为 1 到 5。我的本地版本为 5，远程版本为 2。Gitk 在提交 5 时显示我的 MASTER，在提交 2 时显示 remotes/origin/master。我需要 git将我的本地版本重置为 2（或 3，未推送到远程的第一个提交）？我的更改会怎样？git 文档说 --hard 将丢弃任何更改，这是否意味着它们将完全丢失？我想保留这 3 次提交的提交历史记录，因为进行了相当多的更改。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-31T16:04:35.427

首先仔细检查您的配置。

1.  确保你真的推动了它。
2.  确保你已经把它推到你认为你推它的地方。

什么可以帮助你：

```
$ git log --full-history // is your commit really there?
$ git reflog // operation history
$ git remote -v // what are your remotes? 
$ git remote show DESIRED_REPO // do you have the remote repo you wanted to push to configured? the DESIRED_REPO? 
```

最后，确保您使用的是正确的推送表示法：

1.  `git push public`和之间有区别`git push --repo=public`。首先总是推送到公共，**只有在**您推送的分支的远程**未设置**时才推送。
2.  如果您的分支与远程分支的名称不同，这可能会有所不同。

`$ git push remote local_branch:remote_branch // I've made this error today by swapping places, with remote_branch:local_branch Git will not find the branch to update.`

希望这可以帮助。就我而言，在重新检查我尝试过的命令时仔细阅读手册有助于并揭示问题（交换分支名称）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-10-14T02:07:53.927

几分钟前我处于同样的情况（这就是我徘徊在这个线程中的原因）。Anwyay，我能够通过**`git push origin master`**而不是仅仅解决它*`git push`*。

这发生在我创建一个新分支，开始推送到新分支，然后回到主分支并尝试再次推送到该分支之后。

# sql - 动态列名抛出 ORA-01722:invalid number

> ID：16029896
> 
> 赞同：0
> 
> 时间：2013-04-16T06:07:19.580
> 
> 标签：sql, database, oracle, plsql, oracle10g

这是我实际问题的通用格式。我正在传递一个列名，以便根据子标题获取金额。

让我们假设表 XYZ 代表不同子标题字段的表，它们具有各自的年份，例如

```
id, office_id, subhead1, subhead2, subhead3, year 
```

现在，发生的事情是参数`test_column_name`不起作用。当我在那里手动放置一些字段时，它工作正常。我抛出错误：

```
"ORA-01722:invalid number" 
```

我的功能如下：

```
CREATE OR REPLACE FUNCTION TEST_FUNCTION  (test_column_name in varchar)
RETURN float
IS
    AMOUNT float;
BEGIN    
    SELECT 
    SUM(AMOUNT) INTO AMOUNT FROM TEST_TABLE
    where
    TEST_FIELD IN 
        (
            SELECT DISTINCT test_column_name FROM XYZ_TABLE WHERE XYZ_YEAR='2012'
        );  
    return AMOUNT;    
END TEST_FUNCTION;
/ 
```

有什么建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T06:22:53.777

我认为您不能将“test_column_name”直接放入 SQL 中。您应该使用动态 Sql。

```
 EXECUTE IMMEDIATE 'SELECT SUM(AMOUNT) FROM TEST_TABLE  WHERE TEST_FIELD IN (SELECT DISTINCT  '||test_column_name||' FROM XYZ_TABLE WHERE XYZ_YEAR=''2012'')'
        INTO AMOUNT; 
```

# timeout - requirejs超时错误

> ID：16029897
> 
> 赞同：2
> 
> 时间：2013-04-16T06:07:22.367
> 
> 标签：timeout, requirejs, node-webkit

我正在使用 js/html/node-webkit 构建独立应用程序，但在加载 js 文件时遇到问题。文件树：

```
/
|-files/
|      |-additionals/
|      |            |-jquery.form.js
|      |-bootstrap/
|      |          |-js/
|      |          |   |-boostrap.min.js
|      |-CatalogSmall.js
|      |-jquery.js
|      |-main.js
|      |-parse2.js
|-index.html
|-index.js
|-require.js 
```

我的 index.html

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" data-main="index.js" src="require.js"></script>
</head>
<body>
</body>
</html> 
```

我的 index.js

```
var appDir = "/home/user/p1";
requirejs.config(
{
    baseUrl: appDir,
    paths:
    {
        files: "files_",
        bootstrap: "files_/bootstrap/js",
        additionals: "files_/additionals",
        jui: "jui"

    }
});

requirejs(
[ "files_/jquery" ],
function ()
{
    requirejs(
        [
            "jui/jquery-ui-1.9.1.custom.min",
            "additionals/jquery.form",
            "bootstrap/bootstrap.min",
        ],
        function ()
        {
//some code
requirejs.config({ waitSeconds: 180 });
requirejs(
    ["files/CatalogSmall"],
    function ()
    {
        requirejs(
            ["files/parse2"],
            function ()
            {
                //some code
            }
        );
    }
); 
```

CatalogSmall 是一个 json 风格的大文件

因此，如果我直接从 index.html 加载我的 sripts 没有错误，但如果我尝试通过 requirejs 加载它们，我会在 180 秒后出现错误“未捕获的错误：模块的加载超时：文件/CatalogSmall”。不知道如何解决它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T08:17:39.230

```
var appDir = "/home/user/p1"; 
```

无论如何，您都没有对文件的本地访问权限，这一行的意义何在？appDir 选项适用于所有代码都在 index.js 下的子文件夹中的情况。在这种情况下，您不需要它。

```
files: "files_", 
```

这也没有任何意义。路径对象仅包含模块路径，不包含文件夹路径。

这些选项在[此处记录](http://www.requirejs.org/docs/api.html#config)。

# ios - 从目标C中的日期数组中分离月份和年份

> ID：16029900
> 
> 赞同：1
> 
> 时间：2013-04-16T06:07:28.670
> 
> 标签：ios, objective-c, xcode, cocoa-touch

我有这个 dd MMM yyyy 格式的日期数组。现在我需要将月份和年份从这个数组中分离出来。现在，如果我选择特定的月份和年份，如果我在 UIpickerview 中绑定年份和月份数组并选择特定的年份和月份，我需要获取该年份和月份中相应​​的日期列表，即之前原始数组中的日期。例如，如果选择了 Jan 和 2012，我需要获取类似 {01 Jan 2012,05 Jan 2012,..28 Jan 2012} 的日期。我是目标 C 的初学者，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T06:38:23.697

首先使用 NSDateFormatter 将字符串转换为 NSDate，然后使用比较器从日期中提取日、月和年，将日期格式更改为所需的格式。

检查以下内容。

```
 NSString *date = @"10/12/2012";
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"dd/MM/yyyy"];
NSDate *dateFromString = [dateFormatter dateFromString:date];
NSCalendar *calendar =[NSCalendar currentCalendar];
NSDateComponents *components = [calendar components:(NSDayCalendarUnit | NSMonthCalendarUnit |NSYearCalendarUnit) fromDate:dateFromString];
int day =[components day]; //day from the date
int month = [components month];//month from the date
int year = [components year];// year from the date
[dateFormatter setDateFormat:@"dd MMM yyyy"] ;
NSString *InDate = [dateFormatter stringFromDate:dateFromString];//req format 10 jan 2012 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:39:29.600

不完全满足您的要求，但您可以解决它。

```
NSDate *today = [NSDate date];
NSCalendar *gregorian = [[NSCalendar alloc]
                         initWithCalendarIdentifier:NSGregorianCalendar];
NSDateComponents *components =
                    [gregorian components:(NSMonthCalendarUnit | 
                                           NSYesrCalendarUnit) fromDate:today];

NSInteger month = [components month];
NSInteger year  = [components year]; 
```

# node.js - 当我第一次运行我的咖啡脚本时，我得到了错误——

> ID：16029902
> 
> 赞同：0
> 
> 时间：2013-04-16T06:07:45.810
> 
> 标签：node.js, coffeescript

当我执行这个命令时，它是正确的——

```
coffee -v 
```

它的输出是正确的。`CoffeeScript 版本 1.6.1 但是当我输入

```
$ coffee 
```

它出错了，日志如下

```
node.js:201
    throw e; // process.nextTick error, or 'error' event on first tick
          ^
TypeError: Object #<Object> has no method 'split'
at Interface.setPrompt (readline.js:121:24)
at new REPLServer (repl.js:128:7)
at Object.start (repl.js:249:14)
at Object.start (/usr/local/lib/node_modules/coffee-script/lib/coffee-script/repl.js:95:23)
at Object.run (/usr/local/lib/node_modules/coffee-script/lib/coffee-script/command.js:76:32)
at Object.<anonymous> (/usr/local/lib/node_modules/coffee-script/bin/coffee:7:41)
at Module._compile (module.js:432:26)
at Object..js (module.js:450:10)
at Module.load (module.js:351:31)
at Function._load (module.js:310:12)
at Array.0 (module.js:470:10)
at EventEmitter._tickCallback (node.js:192:40) 
```

我需要你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:22:50.323

这是 CoffeeScript 开发人员的设计决定。

[https://github.com/jashkenas/coffee-script/issues/2813](https://github.com/jashkenas/coffee-script/issues/2813)

CoffeeScript REPL 不再支持 Node v0.6。您应该能够通过传递文件进行编译。如果你想让它工作，你要么需要使用旧版本的 CoffeeScript，要么需要使用新版本的 Node.js。

# python - Python - 无法使用 win32com 在 Microsoft Word 中编辑表格内容

> ID：16029904
> 
> 赞同：1
> 
> 时间：2013-04-16T06:08:06.287
> 
> 标签：python, ms-word, win32com

我正在尝试通过使用 python 和 win32com 客户端组件删除其内容（第一行内容除外）来更新 microsoft word - 2010 表。我什至查看了 MSDN 库（[http://msdn.microsoft.com/en-us/library/bb244515.aspx](http://msdn.microsoft.com/en-us/library/bb244515.aspx)），发现 Delete 可以帮助我，就像这样。（也看了@How [to read an Table of MS-Word file Using Python?](https://stackoverflow.com/questions/10366596/reading-table-contetnts-in-ms-word-file-using-python)）

..///

```
# delete row 1 of table 1
doc.Tables(1).Rows(1).Delete
# delete cell 1,1 of table 1
doc.Tables(1).Cell(1, 1).Delete 
```

..///

但是在执行上述步骤时，表格行没有被删除（单元格 [1,1] 也没有被删除）。有什么我想念的吗？欢迎任何建议。

此处粘贴了用于清除表格内容的 Python 函数

..//

```
def updateTable(name):

    #tell word to open the document
    word.Documents.Open (IP_Directory_Dest + "\\" + name)

    #open it internally (i guess...)
    doc = word.Documents(1)

##    doc.Content.Text = "This is the string to add to the document."
##    doc.Content.MoveEnd()

##    doc.Content.Select
##    doc.Tables(1).Rows(2).Select
##    Selection.InsertRowsBelow

##    doc.Tables [1]. Rows [1]. Cells [1]. Range.Text = '123123 '
##    doc.Tables [1]. Rows.Add () # add a line

    # specifically select TABLE # 1
    table = doc.Tables(1)
    # count the number of rows in TABLE # 1
    numRows = table.Rows.Count

    # count number of columns
    numCols = table.Columns.Count

    print ('Number of Rows in TABLE',numRows)
    print ('Number of Columns in TABLE',numCols)

    # print the row 1 of TABLE # 1 -- for checking
    print ('### 1 - CHECK this ONE ... ',table.Rows(1).Range.Text)

    # delete row 1 of table 1
    doc.Tables(1).Rows(1).Delete
    # delete cell 1,1 of table 1
    doc.Tables(1).Cell(1, 1).Delete

    # again count the number of rows in table
    numRows = table.Rows.Count

    print numRows

    # print the row 1 of TABLE # 1 -- after Deleting the first ROW --> for checking
    print ('### 2 - CHECK this ONE ... ',table.Rows(1).Range.Text)

    # get the number of tables
    numberTables = doc.Tables.Count
    # count the number of tables in document
    print numberTables

    #delete ALL tables
    tables = doc.Tables
    for table in tables:
        # to get  the content of Row # 1, Column # 1 of table
        print table.Cell(Row =1, Column = 1).Range.Text
##        table.Delete(Row =2)
        # this one deletes the whole table (which is not needed)
        #table.Delete()

    #re-save in IP folder
    doc.SaveAs(IP_Directory_Dest + "\\" + name)

    #close the stream
    doc.Close() 
```

...///

请忽略注释掉的部分（我也试图让这些东西工作）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T06:46:19.030

全部，

所以这就是我想出来的。我将分享我为修复它而编写的代码。

在此过程中，我学习了如何清除表格的内容（特定的行和列）、如何添加行、获取单词表中的列数和行数等。我还想通了，因为在用于 python/win32 的 API 上没有太多可用的文档（除了 MSDN 库），我认为习惯这些 API 的一种方法是理解 VB 代码（主要是它现在的@ MSDN [http://msdn.microsoft.com/en-us/library/bb244515.aspx](http://msdn.microsoft.com/en-us/library/bb244515.aspx)）并尝试为 python-win32 制作相应的类似代码。这就是我的理解。

..///

```
########################
#
#   Purpose : To update the Table contents present in file
#       @ name       : name of the document to process.
#       @ tableCount : Specific Table number to edit.
#
#######################

def updateTable(name,tableCount):

    #tell word to open the document
    word.Documents.Open (IP_Directory_Dest + "\\" + name)

    #open it internally
    doc = word.Documents(1)

    # answer to Question # 2 (how to update a specific cell in a TABLE)
    # clearing Table # 1, Row # 1, cell # 1 content
    doc.Tables (1). Rows (1). Cells (1). Range.Text = ''

    #Clearing Table # 1, Row # 1, Col # 4 content to blank
    doc.Tables (1). Cell(1, 4). Range.Text = ''

    # specifically select TABLE # tableCount
    table = doc.Tables(tableCount)
    # count the number of rows in TABLE # 1
    numRows = table.Rows.Count

    # count number of columns
    numCols = table.Columns.Count

    print ('Number of Rows in TABLE',numRows)
    print ('Number of Columns in TABLE',numCols)

    # NOTE : ROW # 1 WILL NOT BE DELETED, AS IT IS COMMON FOR BOTH IP AND IR
    # delete and add the same number of rows
    for row in range(numRows):
        # add a row at the end of table
        doc.Tables(tableCount).Rows.Add ()
        # delete row 2 of table (so as to make the effect of adding rows equal)
        doc.Tables(tableCount).Rows(2).Delete()

    #re-save in IP folder
    doc.SaveAs(IP_Directory_Dest + "\\" + name)

    #close the stream
    doc.Close() 
```

..///

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:10:20.250

在行尾添加空括号：

```
doc.Tables(1).Rows(1).Delete() 
```

这些括号是调用方法所必需的。

# python - 如何删除 继承视图中的元素

> ID：16029906
> 
> 赞同：0
> 
> 时间：2013-04-16T06:08:14.357
> 
> 标签：python, xml, openerp

```
<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record model="ir.ui.view" id="view_company_inherit_form">
            <field name="name">res.company.form.inherit</field>
            <field name="inherit_id" ref="base.view_company_form" />
            <field name="model">res.company</field>
            <field name="arch" type="xml">
                <field name="zip" position="replace" />
            </field>
        </record>

    </data>
</openerp> 
```

上面显示了我的**company_view.xml**文件，我替换了**zip**字段，因为我的项目中不需要该字段。我也需要删除

```
<page string="Configuration"> element from my view. 
```

请建议我这样做。？我参考了文档，但它也提到了有关如何仅从继承视图中删除字段的说明

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:35:57.177

通过使用标签可以删除页面。

例如，

```
<xpath expr="/form/notebook/page[@string='Configuration']" position="replace"/> 
```

感谢 Keyur @ help.Openerp 论坛

# android - android: 如何在 Rest Web 服务中使用 asyncTask？

> ID：16029912
> 
> 赞同：1
> 
> 时间：2013-04-16T06:08:32.403
> 
> 标签：android

我在 android 中创建应用程序，因为我有登录注销活动、Multilistview 活动，这些活动的数据来自其他 Web 服务。这里的问题是，当从登录活动调用 web 服务时，我收到 networkonmainthreadexception 错误，然后我在 goggle 上搜索该异常，有人说堆栈溢出在你的代码中使用 AsyncTask 用于分离线程，我在我的代码中实现了 asynctask 但没有工作。我完全混淆了如何使用 asynctask，我想在下面的代码中添加 asynctask。我提供的代码没有我所做的 asynctask。任何人都可以帮助我在调用 webservice 时如何准确地使用 asynctask。

以下是从编辑文本调用函数中获取数据

```
UserFunctions userFun = new UserFunctions();

        if ((username.trim().length() > 0)&&(userpsw.trim().length() > 0)) {

            JSONObject json = userFun.loginUser(username, userpsw);
            .
                        .
                        . 
```

以下是函数类

```
public JSONObject loginUser(String userEmail, String userPsw) {

        List<NameValuePair> params = new ArrayList<NameValuePair>();
        params.add(new BasicNameValuePair("tag", login_tag));
        params.add(new BasicNameValuePair("email", userEmail));
        params.add(new BasicNameValuePair("password", userPsw));
        JSONObject json = jsonParser.getJsondataFromUrl(params);
       //Log.d("tag", json.toString());
        return json;
    } 
```

以下是实际的网络服务类

```
public void getJsondataFromUrl(List<NameValuePair> params) {

     {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);
        httpPost.setEntity(new UrlEncodedFormEntity(params));

        HttpResponse httpResp = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResp.getEntity();
        inStream = httpEntity.getContent();
        //Log.d(tag, inStream.toString());
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader bufferReader = new BufferedReader(new InputStreamReader
                (inStream, "iso-8859-1"), 8);
        StringBuilder  strBuilder = new StringBuilder();
        String line = null;
        while ((line = bufferReader.readLine()) != null) {
            strBuilder.append(line + "n");
        }
        inStream.close();
        json = strBuilder.toString();
        //Log.d("JSON", json);
    } catch (Exception e) {
        e.printStackTrace();
    } 
    // try parse the string to a JSON object
    try {
        jsonObj = new JSONObject(json);
    } catch (JSONException e) {
        e.printStackTrace();
    }

    return jsonObj;*/
} 
```

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:12:05.553

创建一个继承自 AsyncTask 的类。在`doInBackground`调用您的网络代码并返回一个 POJO。在`postExecute`中，使用此 POJO 更新您的视图。按照 AsyncTask 方法的签名来了解如何使用泛型键入子类。

您还应该考虑这个线程：[https:](https://stackoverflow.com/a/13147992/693752) //stackoverflow.com/a/13147992/693752 AsyncTask 并不是在 Android 上创建网络请求的最佳工具。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:20:11.663

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);  
    setContentView(R.layout.login);
    context=this;

    Log.v(TAG+"onCreate", "OnCreate Called");
    username = (EditText)findViewById(R.id.editText_user);
    password = (EditText)findViewById(R.id.editText_psw);

    btngo = (ImageButton)findViewById(R.id.imageButton_go);
    btngo.setOnClickListener(this);

}
@Override
public void onClick(View v) {
     Log.v(TAG+"onClick", "onClick Called");
    if(v== btngo)
    {
        user=username.getText().toString().trim();
        psw=password.getText().toString().trim();

                dialog = ProgressDialog.show(context, "", "Please! Wait...",true);

              GetResult result = new GetResult();
                result.execute();

        }
    }

}
private class GetResult extends AsyncTask<String, Void, String> {

    @Override
    protected String doInBackground(String... urls) {
        Log.v(TAG + ".doInBackground", "doInBackground method call");
        String response1 = null;

           HttpClient httpclient = new DefaultHttpClient();
           HttpPost  httppost = new HttpPost("url");
          //  Log.d("response", "WORKING");
            try {

                List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
                nameValuePairs.add(new BasicNameValuePair("webservice", "1"));
                nameValuePairs.add(new BasicNameValuePair("Email_ID", user));
                nameValuePairs.add(new BasicNameValuePair("Password",psw));

                httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                HttpResponse response = httpclient.execute(httppost);
                InputStream is = response.getEntity().getContent();
                WebHelper webHelper = new WebHelper();
                response1 = webHelper.convertStreamToString(is);
                Log.v(TAG+".doInBackground", "json response is:" + response1);

        } catch (ClientProtocolException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        return response1;

    }

    @Override
    protected void onPostExecute(String result) {

        Log.v(TAG + ".onPostExecute", "onPostExecute method call");
        dialog.dismiss();
        Log.v(TAG+".onPostExecute", "json response is:" + result);

        /* Intent intent= new Intent(LoginActivity.this, ChoiceExamActivity.class);
         startActivity(intent);
         */

         if(result!=null){

            try {
                //JSONTokener tokener = new JSONTokener(result);
                JSONObject resultObjct = new JSONObject(result);
                String user_id=resultObjct.getString("User_ID");

                if(user_id.equalsIgnoreCase("0"))
                {
                    ExamUtil.showAlert(LoginActivity.this,"Incorrect User name or password");
                }
                else
                {
                String firstname = resultObjct.getString("First_Name");
                Log.v(TAG+".onPostExecute", "user id is:" + user_id);
                Log.v(TAG+".onPostExecute", "firstname is:" + firstname);

                 Intent intent= new Intent(LoginActivity.this, ChoiceExamActivity.class);
                 startActivity(intent);

                }

                } catch (JSONException e) {
                e.printStackTrace();
                }
               catch (Exception e) {
                e.printStackTrace();
               }
             }

         else{  

                ExamUtil.showAlert(LoginActivity.this,"We have some problem in processing request, try again.");
            }

    }
}
} 
```

# oracle - rownum 混淆结果

> ID：16029913
> 
> 赞同：-1
> 
> 时间：2013-04-16T06:08:32.487
> 
> 标签：oracle, oracle10g, rownum

当我编码时

```
select 
    row_.*, rownum rownum_ 
from 
   (select 
       topic0_.id as id6_, topic0_.title as title6_,  
       topic0_.publish_author_id as publish3_6_, topic0_.reply_number as reply4_6_, 
       topic0_.read_number as read5_6_, topic0_.publish_author_name as publish6_6_, 
       topic0_.publish_time as publish7_6_, topic0_.last_reply_time as last8_6_, 
       topic0_.last_reply_name as last9_6_, topic0_.main_text as main10_6_, topic0_.FORUM_ID as FORUM11_6_ 
    from topic topic0_ 
    where topic0_.FORUM_ID='16F37E59FE494AC9B17A2340387335EF' 
    order by 
        case when topic0_.last_reply_time is not null then topic0_.last_reply_time 
        else  topic0_.publish_time end desc
    ) row_; 
```

结果：

```
 ID6_    TITLE6_ PUBLISH3_6_ REPLY4_6_   READ5_6_    PUBLISH6_6_ PUBLISH7_6_ LAST8_6_    LAST9_6_    MAIN10_6_   FORUM11_6_  ROWNUM_
1   402840713e108ea4013e1090c95c0001    trytr   2   2   0   ss  2013-4-16 9:58:44   2013-4-16 9:59:21   ss  fdsfds  16F37E59FE494AC9B17A2340387335EF    1
2   402840713e108ea4013e1090127e0000    trytr   2   0   0   ss  2013-4-16 9:57:57           ytrytr  16F37E59FE494AC9B17A2340387335EF    2
3   402840713e0d3616013e0d3618c20000    cde0    2   0   0   ss  2013-4-15 18:20:49          abc0    16F37E59FE494AC9B17A2340387335EF    3
4   402840713e0d3616013e0d3618da0063    cde99   2   0   0   ss  2013-4-15 18:20:49          abc99   16F37E59FE494AC9B17A2340387335EF    4
5   402840713e0d3616013e0d3618da0062    cde98   2   0   0   ss  2013-4-15 18:20:49          abc98   16F37E59FE494AC9B17A2340387335EF    5
6   402840713e0d3616013e0d3618da0061    cde97   2   0   0   ss  2013-4-15 18:20:49          abc97   16F37E59FE494AC9B17A2340387335EF    6
7   402840713e0d3616013e0d3618da0060    cde96   2   0   0   ss  2013-4-15 18:20:49          abc96   16F37E59FE494AC9B17A2340387335EF    7
8   402840713e0d3616013e0d3618da005f    cde95   2   0   0   ss  2013-4-15 18:20:49          abc95   16F37E59FE494AC9B17A2340387335EF    8
9   402840713e0d3616013e0d3618da005e    cde94   2   0   0   ss  2013-4-15 18:20:49          abc94   16F37E59FE494AC9B17A2340387335EF    9
10  402840713e0d3616013e0d3618da005d    cde93   2   0   0   ss  2013-4-15 18:20:49          abc93   16F37E59FE494AC9B17A2340387335EF    10
11  402840713e0d3616013e0d3618da005c    cde92   2   0   0   ss  2013-4-15 18:20:49          abc92   16F37E59FE494AC9B17A2340387335EF    11
12  402840713e0d3616013e0d3618da005b    cde91   2   0   0   ss  2013-4-15 18:20:49          abc91   16F37E59FE494AC9B17A2340387335EF    12
13  402840713e0d3616013e0d3618d9005a    cde90   2   0   0   ss  2013-4-15 18:20:49          abc90   16F37E59FE494AC9B17A2340387335EF    13
14  402840713e0d3616013e0d3618d90059    cde89   2   0   0   ss  2013-4-15 18:20:49          abc89   16F37E59FE494AC9B17A2340387335EF    14
15  402840713e0d3616013e0d3618d90058    cde88   2   0   0   ss  2013-4-15 18:20:49          abc88   16F37E59FE494AC9B17A2340387335EF    15
16  402840713e0d3616013e0d3618d90057    cde87   2   0   0   ss  2013-4-15 18:20:49          abc87   16F37E59FE494AC9B17A2340387335EF    16
17  402840713e0d3616013e0d3618d90056    cde86   2   0   0   ss  2013-4-15 18:20:49          abc86   16F37E59FE494AC9B17A2340387335EF    17
18  402840713e0d3616013e0d3618d90055    cde85   2   0   0   ss  2013-4-15 18:20:49          abc85   16F37E59FE494AC9B17A2340387335EF    18
19  402840713e0d3616013e0d3618d90054    cde84   2   0   0   ss  2013-4-15 18:20:49          abc84   16F37E59FE494AC9B17A2340387335EF    19
20  402840713e0d3616013e0d3618d90053    cde83   2   0   0   ss  2013-4-15 18:20:49          abc83   16F37E59FE494AC9B17A2340387335EF    20
21  402840713e0d3616013e0d3618d90052    cde82   2   0   0   ss  2013-4-15 18:20:49          abc82   16F37E59FE494AC9B17A2340387335EF    21
22  402840713e0d3616013e0d3618d90051    cde81   2   0   0   ss  2013-4-15 18:20:49          abc81   16F37E59FE494AC9B17A2340387335EF    22
23  402840713e0d3616013e0d3618d80050    cde80   2   0   0   ss  2013-4-15 18:20:49          abc80   16F37E59FE494AC9B17A2340387335EF    23
24  402840713e0d3616013e0d3618d8004f    cde79   2   0   0   ss  2013-4-15 18:20:49          abc79   16F37E59FE494AC9B17A2340387335EF    24
25  402840713e0d3616013e0d3618d8004e    cde78   2   0   0   ss  2013-4-15 18:20:49          abc78   16F37E59FE494AC9B17A2340387335EF    25
26  402840713e0d3616013e0d3618d8004d    cde77   2   0   0   ss  2013-4-15 18:20:49          abc77   16F37E59FE494AC9B17A2340387335EF    26
27  402840713e0d3616013e0d3618d8004c    cde76   2   0   0   ss  2013-4-15 18:20:49          abc76   16F37E59FE494AC9B17A2340387335EF    27
28  402840713e0d3616013e0d3618d8004b    cde75   2   0   0   ss  2013-4-15 18:20:49          abc75   16F37E59FE494AC9B17A2340387335EF    28
29  402840713e0d3616013e0d3618d8004a    cde74   2   0   0   ss  2013-4-15 18:20:49          abc74   16F37E59FE494AC9B17A2340387335EF    29
30  402840713e0d3616013e0d3618d80049    cde73   2   0   0   ss  2013-4-15 18:20:49          abc73   16F37E59FE494AC9B17A2340387335EF    30
31  402840713e0d3616013e0d3618d80048    cde72   2   0   0   ss  2013-4-15 18:20:49          abc72   16F37E59FE494AC9B17A2340387335EF    31
32  402840713e0d3616013e0d3618d70047    cde71   2   0   0   ss  2013-4-15 18:20:49          abc71   16F37E59FE494AC9B17A2340387335EF    32
33  402840713e0d3616013e0d3618d70046    cde70   2   0   0   ss  2013-4-15 18:20:49          abc70   16F37E59FE494AC9B17A2340387335EF    33
34  402840713e0d3616013e0d3618d70045    cde69   2   0   0   ss  2013-4-15 18:20:49          abc69   16F37E59FE494AC9B17A2340387335EF    34
35  402840713e0d3616013e0d3618d70044    cde68   2   0   0   ss  2013-4-15 18:20:49          abc68   16F37E59FE494AC9B17A2340387335EF    35
36  402840713e0d3616013e0d3618d70043    cde67   2   0   0   ss  2013-4-15 18:20:49          abc67   16F37E59FE494AC9B17A2340387335EF    36
37  402840713e0d3616013e0d3618d70042    cde66   2   0   0   ss  2013-4-15 18:20:49          abc66   16F37E59FE494AC9B17A2340387335EF    37
38  402840713e0d3616013e0d3618d70041    cde65   2   0   0   ss  2013-4-15 18:20:49          abc65   16F37E59FE494AC9B17A2340387335EF    38
39  402840713e0d3616013e0d3618d70040    cde64   2   0   0   ss  2013-4-15 18:20:49          abc64   16F37E59FE494AC9B17A2340387335EF    39
40  402840713e0d3616013e0d3618d7003f    cde63   2   0   0   ss  2013-4-15 18:20:49          abc63   16F37E59FE494AC9B17A2340387335EF    40
41  402840713e0d3616013e0d3618d7003e    cde62   2   0   0   ss  2013-4-15 18:20:49          abc62   16F37E59FE494AC9B17A2340387335EF    41
42  402840713e0d3616013e0d3618d6003d    cde61   2   0   0   ss  2013-4-15 18:20:49          abc61   16F37E59FE494AC9B17A2340387335EF    42
43  402840713e0d3616013e0d3618d6003c    cde60   2   0   0   ss  2013-4-15 18:20:49          abc60   16F37E59FE494AC9B17A2340387335EF    43
44  402840713e0d3616013e0d3618d6003b    cde59   2   0   0   ss  2013-4-15 18:20:49          abc59   16F37E59FE494AC9B17A2340387335EF    44
45  402840713e0d3616013e0d3618d6003a    cde58   2   0   0   ss  2013-4-15 18:20:49          abc58   16F37E59FE494AC9B17A2340387335EF    45
46  402840713e0d3616013e0d3618d60039    cde57   2   0   0   ss  2013-4-15 18:20:49          abc57   16F37E59FE494AC9B17A2340387335EF    46
47  402840713e0d3616013e0d3618d60038    cde56   2   0   0   ss  2013-4-15 18:20:49          abc56   16F37E59FE494AC9B17A2340387335EF    47
48  402840713e0d3616013e0d3618d60037    cde55   2   0   0   ss  2013-4-15 18:20:49          abc55   16F37E59FE494AC9B17A2340387335EF    48
49  402840713e0d3616013e0d3618d60036    cde54   2   0   0   ss  2013-4-15 18:20:49          abc54   16F37E59FE494AC9B17A2340387335EF    49
50  402840713e0d3616013e0d3618d60035    cde53   2   0   0   ss  2013-4-15 18:20:49          abc53   16F37E59FE494AC9B17A2340387335EF    50
51  402840713e0d3616013e0d3618d50034    cde52   2   0   0   ss  2013-4-15 18:20:49          abc52   16F37E59FE494AC9B17A2340387335EF    51
52  402840713e0d3616013e0d3618d50033    cde51   2   0   0   ss  2013-4-15 18:20:49          abc51   16F37E59FE494AC9B17A2340387335EF    52
53  402840713e0d3616013e0d3618d50032    cde50   2   0   0   ss  2013-4-15 18:20:49          abc50   16F37E59FE494AC9B17A2340387335EF    53
54  402840713e0d3616013e0d3618d50031    cde49   2   0   0   ss  2013-4-15 18:20:49          abc49   16F37E59FE494AC9B17A2340387335EF    54
55  402840713e0d3616013e0d3618d50030    cde48   2   0   0   ss  2013-4-15 18:20:49          abc48   16F37E59FE494AC9B17A2340387335EF    55
56  402840713e0d3616013e0d3618d5002f    cde47   2   0   0   ss  2013-4-15 18:20:49          abc47   16F37E59FE494AC9B17A2340387335EF    56
57  402840713e0d3616013e0d3618d5002e    cde46   2   0   0   ss  2013-4-15 18:20:49          abc46   16F37E59FE494AC9B17A2340387335EF    57
58  402840713e0d3616013e0d3618d5002d    cde45   2   0   0   ss  2013-4-15 18:20:49          abc45   16F37E59FE494AC9B17A2340387335EF    58
59  402840713e0d3616013e0d3618d5002c    cde44   2   0   0   ss  2013-4-15 18:20:49          abc44   16F37E59FE494AC9B17A2340387335EF    59
60  402840713e0d3616013e0d3618d5002b    cde43   2   0   0   ss  2013-4-15 18:20:49          abc43   16F37E59FE494AC9B17A2340387335EF    60
61  402840713e0d3616013e0d3618d5002a    cde42   2   0   0   ss  2013-4-15 18:20:49          abc42   16F37E59FE494AC9B17A2340387335EF    61
62  402840713e0d3616013e0d3618d40029    cde41   2   0   0   ss  2013-4-15 18:20:49          abc41   16F37E59FE494AC9B17A2340387335EF    62
63  402840713e0d3616013e0d3618d40028    cde40   2   0   0   ss  2013-4-15 18:20:49          abc40   16F37E59FE494AC9B17A2340387335EF    63
64  402840713e0d3616013e0d3618d40027    cde39   2   0   0   ss  2013-4-15 18:20:49          abc39   16F37E59FE494AC9B17A2340387335EF    64
65  402840713e0d3616013e0d3618d40026    cde38   2   0   0   ss  2013-4-15 18:20:49          abc38   16F37E59FE494AC9B17A2340387335EF    65
66  402840713e0d3616013e0d3618d40025    cde37   2   0   0   ss  2013-4-15 18:20:49          abc37   16F37E59FE494AC9B17A2340387335EF    66
67  402840713e0d3616013e0d3618d40024    cde36   2   0   0   ss  2013-4-15 18:20:49          abc36   16F37E59FE494AC9B17A2340387335EF    67
68  402840713e0d3616013e0d3618d40023    cde35   2   0   0   ss  2013-4-15 18:20:49          abc35   16F37E59FE494AC9B17A2340387335EF    68
69  402840713e0d3616013e0d3618d40022    cde34   2   0   0   ss  2013-4-15 18:20:49          abc34   16F37E59FE494AC9B17A2340387335EF    69
70  402840713e0d3616013e0d3618d30021    cde33   2   0   0   ss  2013-4-15 18:20:49          abc33   16F37E59FE494AC9B17A2340387335EF    70
71  402840713e0d3616013e0d3618d30020    cde32   2   0   0   ss  2013-4-15 18:20:49          abc32   16F37E59FE494AC9B17A2340387335EF    71
72  402840713e0d3616013e0d3618d3001f    cde31   2   0   0   ss  2013-4-15 18:20:49          abc31   16F37E59FE494AC9B17A2340387335EF    72
73  402840713e0d3616013e0d3618d3001e    cde30   2   0   0   ss  2013-4-15 18:20:49          abc30   16F37E59FE494AC9B17A2340387335EF    73
74  402840713e0d3616013e0d3618d3001d    cde29   2   0   0   ss  2013-4-15 18:20:49          abc29   16F37E59FE494AC9B17A2340387335EF    74
75  402840713e0d3616013e0d3618d3001c    cde28   2   0   0   ss  2013-4-15 18:20:49          abc28   16F37E59FE494AC9B17A2340387335EF    75
76  402840713e0d3616013e0d3618d3001b    cde27   2   0   0   ss  2013-4-15 18:20:49          abc27   16F37E59FE494AC9B17A2340387335EF    76
77  402840713e0d3616013e0d3618d3001a    cde26   2   0   0   ss  2013-4-15 18:20:49          abc26   16F37E59FE494AC9B17A2340387335EF    77
78  402840713e0d3616013e0d3618d30019    cde25   2   0   0   ss  2013-4-15 18:20:49          abc25   16F37E59FE494AC9B17A2340387335EF    78
79  402840713e0d3616013e0d3618d30018    cde24   2   0   0   ss  2013-4-15 18:20:49          abc24   16F37E59FE494AC9B17A2340387335EF    79
80  402840713e0d3616013e0d3618d20017    cde23   2   0   0   ss  2013-4-15 18:20:49          abc23   16F37E59FE494AC9B17A2340387335EF    80
81  402840713e0d3616013e0d3618d20016    cde22   2   0   0   ss  2013-4-15 18:20:49          abc22   16F37E59FE494AC9B17A2340387335EF    81
82  402840713e0d3616013e0d3618d20015    cde21   2   0   0   ss  2013-4-15 18:20:49          abc21   16F37E59FE494AC9B17A2340387335EF    82
83  402840713e0d3616013e0d3618d20014    cde20   2   0   0   ss  2013-4-15 18:20:49          abc20   16F37E59FE494AC9B17A2340387335EF    83
84  402840713e0d3616013e0d3618d20013    cde19   2   0   0   ss  2013-4-15 18:20:49          abc19   16F37E59FE494AC9B17A2340387335EF    84
85  402840713e0d3616013e0d3618d20012    cde18   2   0   0   ss  2013-4-15 18:20:49          abc18   16F37E59FE494AC9B17A2340387335EF    85
86  402840713e0d3616013e0d3618d20011    cde17   2   0   0   ss  2013-4-15 18:20:49          abc17   16F37E59FE494AC9B17A2340387335EF    86
87  402840713e0d3616013e0d3618d20010    cde16   2   0   0   ss  2013-4-15 18:20:49          abc16   16F37E59FE494AC9B17A2340387335EF    87
88  402840713e0d3616013e0d3618d0000f    cde15   2   0   0   ss  2013-4-15 18:20:49          abc15   16F37E59FE494AC9B17A2340387335EF    88
89  402840713e0d3616013e0d3618cf000e    cde14   2   0   0   ss  2013-4-15 18:20:49          abc14   16F37E59FE494AC9B17A2340387335EF    89
90  402840713e0d3616013e0d3618cf000d    cde13   2   0   0   ss  2013-4-15 18:20:49          abc13   16F37E59FE494AC9B17A2340387335EF    90
91  402840713e0d3616013e0d3618cf000c    cde12   2   0   0   ss  2013-4-15 18:20:49          abc12   16F37E59FE494AC9B17A2340387335EF    91
92  402840713e0d3616013e0d3618cf000b    cde11   2   0   0   ss  2013-4-15 18:20:49          abc11   16F37E59FE494AC9B17A2340387335EF    92
93  402840713e0d3616013e0d3618cf000a    cde10   2   0   0   ss  2013-4-15 18:20:49          abc10   16F37E59FE494AC9B17A2340387335EF    93
94  402840713e0d3616013e0d3618ce0009    cde9    2   0   0   ss  2013-4-15 18:20:49          abc9    16F37E59FE494AC9B17A2340387335EF    94
95  402840713e0d3616013e0d3618ce0008    cde8    2   0   0   ss  2013-4-15 18:20:49          abc8    16F37E59FE494AC9B17A2340387335EF    95
96  402840713e0d3616013e0d3618ce0007    cde7    2   0   0   ss  2013-4-15 18:20:49          abc7    16F37E59FE494AC9B17A2340387335EF    96
97  402840713e0d3616013e0d3618ce0006    cde6    2   0   0   ss  2013-4-15 18:20:49          abc6    16F37E59FE494AC9B17A2340387335EF    97
98  402840713e0d3616013e0d3618ce0005    cde5    2   0   0   ss  2013-4-15 18:20:49          abc5    16F37E59FE494AC9B17A2340387335EF    98
99  402840713e0d3616013e0d3618ce0004    cde4    2   0   0   ss  2013-4-15 18:20:49          abc4    16F37E59FE494AC9B17A2340387335EF    99
100 402840713e0d3616013e0d3618ce0003    cde3    2   0   0   ss  2013-4-15 18:20:49          abc3    16F37E59FE494AC9B17A2340387335EF    100
101 402840713e0d3616013e0d3618ce0002    cde2    2   0   0   ss  2013-4-15 18:20:49          abc2    16F37E59FE494AC9B17A2340387335EF    101
102 402840713e0d3616013e0d3618cd0001    cde1    2   0   0   ss  2013-4-15 18:20:49          abc1    16F37E59FE494AC9B17A2340387335EF    102
103 402840713e0cb39c013e0cb41c040000    dfsdf   2   1   0   ss  2013-4-15 15:58:50          sdfsdfsdf   16F37E59FE494AC9B17A2340387335EF    103
104 402840713e0c9424013e0c94a8c30000    fffff   2   1   0   ss  2013-4-15 15:24:29          dgfdgfdg    16F37E59FE494AC9B17A2340387335EF    104
105 402840713e0c8e00013e0c8f1d190000    asf 2   2   0   ss  2013-4-15 15:18:25          dsfds   16F37E59FE494AC9B17A2340387335EF    105
106 402840713e0c80ce013e0c8158630000    ccc 2   1   0   ss  2013-4-15 15:03:23          dfsd    16F37E59FE494AC9B17A2340387335EF    106
107 402840713e0c5a97013e0c5b0c200000    hhhhh   2   2   0   ss  2013-4-15 14:21:33          fds 16F37E59FE494AC9B17A2340387335EF    107
108 402840713e0c58cd013e0c592b550000    hff 2   0   0   ss  2013-4-15 14:19:30          sdfs    16F37E59FE494AC9B17A2340387335EF    108
109 402840713e0c272d013e0c2e12c40000    gsfsdf  2   0   0   ss  2013-4-15 13:32:26          fdsfds  16F37E59FE494AC9B17A2340387335EF    109
110 402840713e0c25ef013e0c265f720000    fdsf    2   0   0   ss  2013-4-15 13:24:01          fsdfsdf 16F37E59FE494AC9B17A2340387335EF    110
111 402840713e0c2237013e0c228d4b0000    fdsf    2   0   0   ss  2013-4-15 13:19:51          sdfs    16F37E59FE494AC9B17A2340387335EF    111
112 402840713e0c1cc9013e0c1d0dc30000    fsdf    2   0   0   ss  2013-4-15 13:13:50          sdfdsfds    16F37E59FE494AC9B17A2340387335EF    112
113 402840713e0c1be8013e0c1c33bf0000    fsfds   2   0   0   ss  2013-4-15 13:12:54          fdsfsd  16F37E59FE494AC9B17A2340387335EF    113
114 402840713e0c1b0b013e0c1b72320000    fsfsd   2   0   0   ss  2013-4-15 13:12:05          fsdfsd  16F37E59FE494AC9B17A2340387335EF    114
115 402840713e0c19a9013e0c19f49b0000    GDFG    2   0   0   ss  2013-4-15 13:10:27          FDGDFGDF    16F37E59FE494AC9B17A2340387335EF    115
116 402840713e0c17c7013e0c184b200000    fdsfsd  2   0   0   ss  2013-4-15 13:08:38          fsdfsdfs    16F37E59FE494AC9B17A2340387335EF    116
117 402840713e0c0edc013e0c0f79d20000    fsdfds  2   0   0   ss  2013-4-15 12:59:00          fdsfdsfdsfd 16F37E59FE494AC9B17A2340387335EF    117
118 402840713e0bee4f013e0bef28150000    fdsfsd  2   0   0   ss  2013-4-15 12:23:42          fdsfsdf 16F37E59FE494AC9B17A2340387335EF    118
119 402840713e0b92fc013e0b9418cf0000    fdsfdsf 2   0   0   ss  2013-4-15 10:44:15          dsfdsfdsfds 16F37E59FE494AC9B17A2340387335EF    119 
```

但是当我编码时

```
 select row_.*, rownum rownum_ from (select topic0_.id as id6_, topic0_.title as title6_, topic0_.publish_author_id as publish3_6_, topic0_.reply_number as reply4_6_, topic0_.read_number as read5_6_, topic0_.publish_author_name as publish6_6_, topic0_.publish_time as publish7_6_, topic0_.last_reply_time as last8_6_, topic0_.last_reply_name as last9_6_, topic0_.main_text as main10_6_, topic0_.FORUM_ID as FORUM11_6_ from topic topic0_ where topic0_.FORUM_ID='16F37E59FE494AC9B17A2340387335EF' order by case when topic0_.last_reply_time is not null then topic0_.last_reply_time else  topic0_.publish_time end desc) row_ where rownum <=6; 
```

结果是

```
 ID6_    TITLE6_ PUBLISH3_6_ REPLY4_6_   READ5_6_    PUBLISH6_6_ PUBLISH7_6_ LAST8_6_    LAST9_6_    MAIN10_6_   FORUM11_6_  ROWNUM_ 
1   402840713e108ea4013e1090c95c0001    trytr   2   2   0   ss  2013-4-16 9:58:44   2013-4-16 9:59:21   ss  fdsfds  16F37E59FE494AC9B17A2340387335EF    1   
2   402840713e108ea4013e1090127e0000    trytr   2   0   0   ss  2013-4-16 9:57:57           ytrytr  16F37E59FE494AC9B17A2340387335EF    2   
3   402840713e0d3616013e0d3618c20000    cde0    2   0   0   ss  2013-4-15 18:20:49          abc0    16F37E59FE494AC9B17A2340387335EF    3   
4   402840713e0d3616013e0d3618ce0003    cde3    2   0   0   ss  2013-4-15 18:20:49          abc3    16F37E59FE494AC9B17A2340387335EF    4   
5   402840713e0d3616013e0d3618ce0002    cde2    2   0   0   ss  2013-4-15 18:20:49          abc2    16F37E59FE494AC9B17A2340387335EF    5   
6   402840713e0d3616013e0d3618cd0001    cde1    2   0   0   ss  2013-4-15 18:20:49          abc1    16F37E59FE494AC9B17A2340387335EF    6 
```

为什么 ？我想要的结果是：

```
 ID6_    TITLE6_ PUBLISH3_6_ REPLY4_6_   READ5_6_    PUBLISH6_6_ PUBLISH7_6_ LAST8_6_    LAST9_6_    MAIN10_6_   FORUM11_6_  ROWNUM_
1   402840713e108ea4013e1090c95c0001    trytr   2   2   0   ss  2013-4-16 9:58:44   2013-4-16 9:59:21   ss  fdsfds  16F37E59FE494AC9B17A2340387335EF    1
2   402840713e108ea4013e1090127e0000    trytr   2   0   0   ss  2013-4-16 9:57:57           ytrytr  16F37E59FE494AC9B17A2340387335EF    2
3   402840713e0d3616013e0d3618c20000    cde0    2   0   0   ss  2013-4-15 18:20:49          abc0    16F37E59FE494AC9B17A2340387335EF    3
4   402840713e0d3616013e0d3618da0063    cde99   2   0   0   ss  2013-4-15 18:20:49          abc99   16F37E59FE494AC9B17A2340387335EF    4
5   402840713e0d3616013e0d3618da0062    cde98   2   0   0   ss  2013-4-15 18:20:49          abc98   16F37E59FE494AC9B17A2340387335EF    5
6   402840713e0d3616013e0d3618da0061    cde97   2   0   0   ss  2013-4-15 18:20:49          abc97   16F37E59FE494AC9B17A2340387335EF    6 
```

如果有人可以向我解释，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T07:11:12.773

在您的第一个查询中，您有：

```
select row_.*, rownum rownum_ from (select ... order by ...) row_; 
```

在第二个你有：

```
select row_.*, rownum rownum_ from (select ... order by ...) row_
where rownum <= 6; 
```

`rownum`是作为查询的最后一步生成的伪列，在已经生成的结果集之上。`where rownum <= 6`正在针对内部选择的结果应用，但此时在外部*选择*中您没有显式`order by`子句，因此`rownum`无法保证分配的顺序。

您可以`order by`在外部查询中重复该子句，这会使处理起来更加不愉快，或者更简单地移动`rownum`内部选择的内部：

```
select * from (select ..., rownum rownum_ from ... order by ...)
where rownum_ <= 6; 
```

尚不清楚您的第一个查询的结果是否按正确的顺序排列；可能，但又可能无法保证，因此您也可以订购以确保：

```
select * from (select ..., rownum rownum_ from ... order by ...)
where rownum_ <= 6
order by rownum_; 
```

（另一种方法是使用一个分析函数，比如你在 中使用的`dense_rank()`，然后在外部使用它来限制行数，但这有点远离问题......）`case``order by``where`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T06:31:00.247

`order by`在没有子句的情况下执行相同的查询时，Oracle 不保证相同的行顺序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T11:22:43.500

文档说：ROWNUM 由 Oracle 分配以显示“Oracle 从表或一组连接行中选择行的顺序”。也就是*在结果集被排序之前*。 [了解更多](http://docs.oracle.com/cd/B19306_01/server.102/b14200/pseudocolumns009.htm#i1006297)。

因此，如果要保证给定结果集的前 n 行始终是相同的行，则需要对其进行预排序。

```
select t2.* from
   ( select t1.*, rownum as rownum_ from 
       ( select t.* from t order by t.whatever ) t1
    ) 
where rownum_  <= 6
; 
```

还有其他解决 top-n 问题的方法——例如使用 RANK 或 ROW_NUMBER——但它们都依赖于内部查询。这是使用 ROW_NUMBER() 完成的上述解决方案。

```
 select t1.* from 
       ( select t.*
                 , row_number() over ( order by t.whatever )   as rownum_
         from t ) t1
  where rownum_  <= 6
 ; 
```

# android - android中的离线响应

> ID：16029920
> 
> 赞同：0
> 
> 时间：2013-04-16T06:09:13.890
> 
> 标签：android, offline

我的问题是

是否有任何免费库可以将响应从服务器转换为 sqlite 数据库。用户应该有在线/离线数据。

如果连接存在响应将来自服务器更新数据库

如果没有连接，则响应将直接来自 db。

如何继续将 resposne 转换为 sqlite 数据库。

任何链接或示例代码对我有很大帮助

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:34:24.500

我不认为这样的图书馆存在。你应该自己做。对于服务，您可以将`isAlive()`方法和 json 写入 db。我建议[这样做](https://stackoverflow.com/questions/6563118/how-to-save-data-from-json-in-sqlite-in-android)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:16:19.527

您可以编写一个检查服务器连接的服务。

如果存在连接，则获取 Json，对其进行解析并根据需要将其存储在数据库中

如果没有连接，则使用 Db 值。

您可以使用[此链接](http://www.mkyong.com/mongodb/java-mongodb-convert-json-data-to-dbobject/)将 json 转换为 dbObject。

# batch-file - batch_ 循环文件中的行并检查行是否以“#”开头

> ID：16029927
> 
> 赞同：1
> 
> 时间：2013-04-16T06:09:39.257
> 
> 标签：batch-file, batch-processing

嗨，伙计，我必须为 Windows shell 编写一个脚本 .bat。我有这个文件：

```
line
line
#line
line
#line 
```

我想逐行读取文件，如果该行以“#”开头，我什么也不做，我会做一些详细说明。怎么能做到这一点？我发布伪代码

```
while (s=readline()!=null)
  {

  if(s.charat(0)!='#')
     do some elaboration
   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T17:53:39.140

这是解决此问题的最快方法：

```
for /F "eol=# delims=" %%a in (file.txt) do (
   echo Line that not start with #: %%a
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T06:28:57.303

根据您的伪代码，这是您想要的吗？

```
@echo off
setlocal enabledelayedexpansion
for /f "delims=" %%i in (file.txt) do (
    set line=%%i
    if !line:~0,1! equ # (
        ::Your code here:
    )
) 
```

请注意，您需要替换`file.txt`为要迭代的文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T07:11:49.773

```
@ECHO OFF
SETLOCAL
:: first way - findstr
FOR /f "delims=" %%i IN (yourfile.txt) DO (
 ECHO %%i|FINDSTR /b "#" >NUL
 IF ERRORLEVEL 1 (ECHO non-#  : %%i) ELSE (ECHO #START : %%i)
)
ECHO ====== first way ===========
ENDLOCAL
SETLOCAL enabledelayedexpansion
:: second way - substring with delayedexpansion
FOR /f "delims=" %%i IN (yourfile.txt) DO (
 SET line=%%i
 if "!line:~0,1!"=="#" (ECHO #START : %%i) ELSE (ECHO non-#  : %%i)
)
ECHO ====== second way ===========
ENDLOCAL
SETLOCAL
:: third way -without delayedexpansion substringing and flagging in subroutine
FOR /f "delims=" %%i IN (yourfile.txt) DO (
 SET line=%%i
 CALL :test
 IF DEFINED line (ECHO non-#  : %%i) ELSE (ECHO #START : %%i)
)
ECHO ====== third way ===========
ENDLOCAL

GOTO :eof

:test
IF "%line:~0,1%"=="#" SET "line="
GOTO :eof 
```

这里有三种方式 - 取决于进一步的细节。请注意，第三种方式使用`IF DEFINED`或`IF ERRORLEVEL`适用于变量的 RUN-TIME 值的特性，而不是解析时间值

# c++ - boost singleton_pool::malloc 返回多少内存？

> ID：16029929
> 
> 赞同：0
> 
> 时间：2013-04-16T06:10:01.117
> 
> 标签：c++, boost

由于某些原因，我的代码出现了段错误。这是相关的代码。

```
typedef boost::singleton_pool<httpHandler,sizeof(httphandler)> httpHandlerpool;
typedef boost::singleton_pool<Conn ,sizeof(Conn)> connpool;

void *httphandler::operator new(size_t size)
{
     return httpHandlerpool::malloc();
}

//there is a corresponding delete as well.    

void *Conn::operator new(size_t size)
{
     return connpool::malloc();
}

//there is a corresponding delete as well.

Conn* httpHandler::getFreeConn()
{
    Conn *c=0;
    c = new Conn(); // 
    memset(c,0,sizeof *c); // This is where looks like some issue is there.
    return c
} 
```

在这段代码中，当我执行新的 Conn 时，将分配多少内存？是“sizeof struct Conn”吗？我在 memset 上做错了什么？有必要吗？谢谢。

# c# - c#代码在控制台exe中一一传递参数

> ID：16029939
> 
> 赞同：3
> 
> 时间：2013-04-16T06:10:50.067
> 
> 标签：c#

我想通过我的 c# 代码运行一个 exe 文件。exe 文件是用 c# 编写的控制台应用程序。

控制台应用程序执行一些操作，包括将内容写入数据库和将一些文件写入目录。

控制台应用程序（exe 文件）需要用户的一些输入。就像它首先问的那样，“你想重置数据库吗？” y 表示是，n 表示否。如果用户再次做出选择，那么应用程序会再次询问，“您要重置文件吗？” y 表示是，n 表示否。如果用户做出一些选择，控制台应用程序就会开始执行。

现在我想通过我的 c# 代码运行这个 exe 控制台应用程序。我正在尝试这样

```
 string strExePath = "exe path";
        ProcessStartInfo startInfo = new ProcessStartInfo();
        startInfo.CreateNoWindow = false;
        startInfo.UseShellExecute = false;
        startInfo.FileName = strExePath;
        startInfo.WindowStyle = ProcessWindowStyle.Hidden;

        using (Process exeProcess = Process.Start(startInfo))
        {
            exeProcess.WaitForExit();
        } 
```

我想知道如何通过我的 c# 代码向控制台应用程序提供用户输入？

请帮我解决这个问题。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:17:42.507

您可以从 exe 文件重定向输入和输出流。有关示例，
请参见[重定向](http://msdn.microsoft.com/en-gb/library/system.diagnostics.processstartinfo.redirectstandardoutput.aspx)标准输出 和[重定向标准输入。](http://msdn.microsoft.com/en-gb/library/system.diagnostics.processstartinfo.redirectstandardinput.aspx)

阅读：

```
 // Start the child process.
 Process p = new Process();
 // Redirect the output stream of the child process.
 p.StartInfo.UseShellExecute = false;
 p.StartInfo.RedirectStandardOutput = true;
 p.StartInfo.FileName = "Write500Lines.exe";
 p.Start();
 // Do not wait for the child process to exit before
 // reading to the end of its redirected stream.
 // p.WaitForExit();
 // Read the output stream first and then wait.
 string output = p.StandardOutput.ReadToEnd();
 p.WaitForExit(); 
```

对于写作：

```
 ...
 myProcess.StartInfo.RedirectStandardInput = true;
 myProcess.Start();

 StreamWriter myStreamWriter = myProcess.StandardInput;
 myStreamWriter.WriteLine("y");
 ...
 myStreamWriter.Close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:15:10.817

`ProcessStartInfo`有一个构造函数，您可以将参数传递给：

```
public ProcessStartInfo(string fileName, string arguments); 
```

或者，您可以在它的属性上设置它：

```
ProcessStartInfo p = new ProcessStartInfo();
p.Arguments = "some argument"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T06:15:20.677

以下是如何将参数传递给 *.exe 文件的示例：

```
 Process p = new Process();

                // Redirect the error stream of the child process.
                p.StartInfo.UseShellExecute = false;
                p.StartInfo.RedirectStandardError = true;
                p.StartInfo.FileName = @"\filepath.exe";
                p.StartInfo.Arguments = "{insert arguments here}";

                p.Start();

                error += (p.StandardError.ReadToEnd());
                p.WaitForExit(); 
```

# android - 我们可以将已经准备好的 SQLITE 数据库用于 phonegap 应用程序吗？

> ID：16029940
> 
> 赞同：4
> 
> 时间：2013-04-16T06:10:54.080
> 
> 标签：android, sqlite, cordova, phonegap-plugins

我对Phonegap 域中的数据库有疑问。我们可以使用准备好用于Phonegap 域的.sqlite（数据库）吗？

我已经尝试使用 SQLITE 插件，但是它创建了一个带有 1 个表的新 SQLITE 数据库。

在此之前，我在 assets/www 文件夹中包含了一个 .sqlite 文件（数据库）。该文件未被识别。

是不是我必须创建一个我已经拥有的新数据库？

# asp.net - 如何在没有边距标签的情况下将 div 居中？

> ID：16029942
> 
> 赞同：-1
> 
> 时间：2013-04-16T06:10:58.140
> 
> 标签：asp.net, css

我想知道如何将容器（div）居中。我用过///`margin:auto`但所有这些都不起作用`margin:0 auto;`。`margin-left:auto;``margin-right:auto;`

而位置标签的具体用途是什么，我们什么时候必须使用它？

CSS（来自评论）：

```
body 
{ 
    background-image:url('images/bgbody.jpg'); 
    background-repeat:no-repeat; 
    background-size:cover; 
    margin:0 0 0 0; 
    padding:0 0 0 0; 
} 
.main /*main container*/ 
{ 
    float: left; 
    margin: 0 auto ; 
    width: 1550px; 
    /*float:left; width:100%; height:100%; /*background-image:url('images/bgbody.jpg') ; background-size:cover;*/ 
    /* margin-left:300px; overflow-x:false; */ 
    }

.containermain /* container which i want to make center*/ 
{ 
    float:left; 
    width:1000px; 
    background-image:url('images/bgmiddle.jpg'); 
    /*margin: auto 0; */ 
    background-repeat:no-repeat; 
    background-size:cover; 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:14:19.390

您可以通过添加以下 CSS 代码轻松地做到这一点：

```
display: table-cell;
vertical-align: middle; 
```

示例[http://jsfiddle.net/h5j7B/30/](http://jsfiddle.net/h5j7B/30/)

但是如果你有一些容器来存放你的文本，你可以用不同的方式来实现它`div`。

## 编辑 1

你需要改变如下

```
.main {
 float: left;
 margin: auto 0;
 width: 1600px;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T07:06:09.957

如果你使用 margin: 0 auto，你需要为你的 div 块指定一个宽度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T06:52:16.737

这使得中心的 div 没有边距，

```
 <div style="position: fixed; text-align: center; height: 100%; width: 100%; top: 0;     right: 0; left: 0; z-index: 9999999; background-color: #000000;">

<div style="border-width: 0px; position: relative; padding: 50px; background-color: #FFFFFF; top: 49%; color: #333;">Content</div>
</div> 
```

有关职位的资料，请查看[http://www.w3schools.com/cssref/pr_class_position.asp](http://www.w3schools.com/cssref/pr_class_position.asp) 和 [http://davidwalsh.name/css-fixed-position](http://davidwalsh.name/css-fixed-position)

# css - 在 HTML 中嵌入 CSS 属性

> ID：16029945
> 
> 赞同：3
> 
> 时间：2013-04-16T06:11:21.553
> 
> 标签：css, html, less

我有一个网站的颜色主题，我正在处理刷新时的更改，并希望在我的 HTML 中显示 css 背景颜色属性。那可能吗？

IE

```
<footer>The color of the moment is <insert the background color attribute>. Refresh for a makeover</footer> 
```

会显示类似

“当下的颜色是#DB0C0C。刷新以进行改造”

由于十六进制颜色会根据加载的样式表而变化，因此我不想对其进行硬编码。如果我有一个 ruby​​ 变量 @color which = #ff0000 并想在 html 中显示它，我可以做类似的事情

```
<%= @color%> 
```

我想知道是否有任何方法可以做类似访问 CSS 属性的事情。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T07:55:42.330

你甚至不需要 jQuery。你可以只使用 vanilla javascript [`.getComputedStyle()`](https://developer.mozilla.org/en-US/docs/DOM/window.getComputedStyle)：

```
<span id='color-map'></span>

var element = document.getElementById("id-goes-here");
var style = window.getComputedStyle(element);

document.getElementById('color-map').innerHTML = style.backgroundColor; 
```

但是，这似乎并没有将颜色作为十六进制，而是一个 'rpg(x, y, z)' 字符串。要从中获取十六进制，您可以使用正则表达式对其进行解析并返回结果：

```
function rgbsToHex(str) {
    var hex = "#";
    var matches = str.match(/rgb\((\d+),\s(\d+),\s(\d+)\)/);
    hex += Number(matches[1]).toString(16);
    hex += Number(matches[2]).toString(16);
    hex += Number(matches[3]).toString(16);
    return hex;
} 
```

[**演示**](http://jsfiddle.net/DbYz6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T07:06:45.477

您可以在 jQuery 中使用 .css() 函数。

```
$('footer').find('span').text($('.bg').css('background-color')); 
```

这将为您提供 rgb 中的颜色，如果您想在 HEX 中显示它，请查看[此](https://stackoverflow.com/questions/5999209/jquery-how-to-get-the-background-color-code-of-an-element)以获取更多信息。

# c# - 实体框架无法保存我的更改

> ID：16029946
> 
> 赞同：2
> 
> 时间：2013-04-16T06:11:22.950
> 
> 标签：c#, wcf, entity-framework, automapper, dto

我正在使用以下设计：

![系统架构](https://i.stack.imgur.com/kKdL2.jpg)

我将 AutoMapper 用于域/DTO 转换（两种方式）、Entity Framework Code First 和 SQL Server 2012。

每个表都有一个名为`RowVersion`type的字段`timestamp`，以便检查更新。

我正在使用 DTO 层，因为我的域对象无法在 WCF 服务中序列化，并且我的域层中有一个循环。

无论如何，我的问题是，当创建一个`Bank`（在 UI 中只有一个页面的表）时，我将值（BankCode、BankName）复制到`BankDTO`我的服务层中，并在我的服务层中使用 AutoMapper 转换`BankDTO`为`BankDomain`（实体域对象`Bank`），然后调用`SaveChange`.

那行得通，我也可以更新银行。

但是当我编辑一个`Bank`和一个银行分行，然后转换`BankDTO`TO`BankDomain`和 call`SaveChange`时，这是行不通的。如果我在*没有*`BankDTO`AutoMapper 的情况下映射到，那将起作用并执行更新。`BankDomain`

 *我的`BankDTO`样子是这样的：

```
[Serializable]
public class BankModel
{

    public BankModel()
    {
        this.BankBranches = new List<BankBranchModel>();
    }
    public int? Id { get; set; }
    public byte[] RowVersion { get; set; } 
    public decimal BankCode { get; set; } 
    public string BankName { get; set; } 
    public string LatinCode { get; set; }

    public virtual ICollection<BankBranchModel> BankBranches { get; set; }

} 
```

和`BankBranch`DTO：

```
[Serializable]
public class BankBranchModel
{

    public BankBranchModel()
    {

    }

    public int BankId { get; set; }
    public decimal BranchCode { get; set; }
    public string BranchName { get; set; } 
    public int? ExecutiveUnitId { get; set; }
    public int? Id { get; set; } 
    public byte[] RowVersion { get; set; } 
    public BankModel Bank { get; set; } 

} 
```

`BankDomain`：

```
public class Bank : BaseEntity
{
    public Bank()
    {
        this.BankBranches = new List<BankBranch>();     
    }
    public decimal BankCode { get; set; } 
    public string BankName { get; set; } 
    public string LatinCode { get; set; }

    public virtual ICollection<BankBranch> BankBranches { get; set; }
} 
```

并且`BankBranchDomain`：

```
public class BankBranch : BaseEntity
{
    public BankBranch()
    {
    }
    public int BankId { get; set; } 
    public decimal BranchCode { get; set; } 
    public string BranchName { get; set; } 

    public virtual Bank  Bank { get; set; }    
} 
```

SQL 表是这样创建的：

```
CREATE TABLE [global].[Bank](
[Id] [int] NOT NULL,
[RowVersion] [timestamp] NOT NULL,
[BankCode] [numeric](18, 0) NOT NULL,
[BankName] [varchar](20) NOT NULL,
[LatinCode] [varchar](3) NOT NULL,
    CONSTRAINT [PKBnk] PRIMARY KEY CLUSTERED 
    (
        [Id] ASC
    ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF,      
            ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
 ) ON [PRIMARY]

CREATE TABLE [global].[BankBranch](
[Id] [int] NOT NULL,
[RowVersion] [timestamp] NOT NULL,
[BranchCode] [numeric](18, 0) NOT NULL,
[BranchName] [varchar](100) NOT NULL,
[BankId] [int] NOT NULL,
[ExecutiveUnitId] [int] NULL,
    CONSTRAINT [PK_BankBranch] PRIMARY KEY CLUSTERED 
    (
        [Id] ASC
    ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF,  
            ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] 
```

和更新代码：

```
using (var db = new AndishmandTestContext())
{
    Mapper.CreateMap<BankModel, Bank>();
    Mapper.CreateMap<Bank, BankModel>();

    Mapper.CreateMap<BankBranchModel, BankBranch>();
    Mapper.CreateMap<BankBranch, BankBranchModel>();

    var oldb = db.Banks.Include("BankBranches").Where(b => b.Id == 1);
    Bank bank = oldb.FirstOrDefault();
    BankModel bankmodel = new BankModel();
    Mapper.Map(bank, bankmodel);
} 
```

在 UI 层更改后`BankModel`，这段代码在服务层执行：

```
var Newb = db.Banks.Include("BankBranches").Where(b => b.Id == 1);
Bank newbank = Newb.FirstOrDefault();
Mapper.Map(bankmodel, newbank); 
```

然后将更改保存在业务层中：

```
db.SaveChanges(); 
```

如果我映射`BankDto`and`BankBranchDto`而不是使用`BankDomain`，则可以使用 - 但我必须使用 AutoMapper。`BankBranchDomain``Mapper.Map``SaveChanges`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T06:17:58.150

您需要先添加已更改的对象或值，然后保存更改。

```
 db.Banks.AddObject(---your object name or value which you want to add---);
   db.SaveChanges(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T11:54:37.327

我找到了我的答案。我改变了我的地图，它醒了

像这样

```
 Mapper.CreateMap<BankModel, Bank>().ForMember(x => x.BankBranches, opt => opt.Ignore());
            //Mapper.CreateMap<BankModel, Bank>();
            Mapper.CreateMap<Bank, BankModel>();

            Mapper.CreateMap<BankBranchModel, BankBranch>().ForMember(x => x.Bank, opt => opt.Ignore());
            //Mapper.CreateMap<BankBranchModel, BankBranch>();
            Mapper.CreateMap<BankBranch, BankBranchModel>(); 
```

然后我最喜欢这样修改我的域

```
 //update bankdomain
            Mapper.Map(bankmodel, newbank);

            //Update bank branchdomain
            newbank.BankBranches.ToList().ForEach(bb => Mapper.Map(bankmodel.BankBranches.First(c => c.Id == bb.Id), bb));

            //Delete branchdomain
            foreach (var bBmodel in bankmodel.BankBranches.Where(bB => bB.IsDeleted == true))
            {
                newbank.BankBranches.Remove(newbank.BankBranches.Where(bb => bb.Id == bBmodel.Id).First());
            }

            //Add branchdomain
            foreach (var bBM in bankmodel.BankBranches.Where(c => c.Id == null))
            {
                newbank.BankBranches.Add(Mapper.Map<BankBranch>(bBM));
            } 
```

接着

```
db.SaveChanges(); 
```*

# perl - 请帮助我使用 WWW::Mechanize（或 LWP::UserAgent）调试 SSL 问题

> ID：16029952
> 
> 赞同：4
> 
> 时间：2013-04-16T06:11:42.190
> 
> 标签：perl, ssl, www-mechanize, lwp-useragent

我正在使用[`WWW::Mechanize`](https://metacpan.org/module/WWW%3a%3aMechanize)将目录从我们的产品提供商加载到我们的数据库中。我每天每 2 小时运行一次这个脚本，它使用大约 50 个并发线程在大约 12 分钟内完成。

一切都很顺利，直到这个周末。他们将他们的网站离线进行定期维护，一旦他们再次在线，我的脚本就不再工作了。经过分析，归结为以下代码失败：

```
use strict;
use warnings;

use WWW::Mechanize;

my $mec = WWW::Mechanize->new;
$mec->get('https://www.imstores.com/Ingrammicromx/login/login.aspx');

print $mec->content; 
```

代码终止（大约 60 秒后）并显示以下消息：

```
Error GETing https://www.imstores.com/Ingrammicromx/login/login.aspx:
Can't connect to www.imstores.com:443 at test.pl line 7. 
```

现在，这些是让我难以找到问题的要点：

1.  它与网络无关——如果我从任何浏览器访问相同的 URL，我就会得到该页面。

2.  如果我在包含我的 Perl 安装的精确副本的远程机器上尝试相同的代码，它就可以工作。

3.  如果我`use Net::SSL`之前`WWW::Mechanize`，它需要很长时间，但最终得到页面。

4.  如果我尝试任何其他 SSL 页面，例如“ [https://www.paypal.com](https://www.paypal.com) ”，它可以运行并且非常快。

5.  再说一次，它在他们预定的维护之前就开始工作了。

我不确定还能尝试什么。如果我切换到非 SSL 版本，它可以工作，但我不想这样做，因为我们会自动执行采购操作。

除了我脑海中闪过的许多事情，思考为什么它可以在远程机器上运行以及为什么我可以在本地浏览器中打开页面：

是否有可能被我的 SSL 公钥阻止？那可能吗？如果是这样，LWP/Mechanize 用于 SSL 会话的公钥是什么，我如何使用不同的公钥？

我当前设置的一些数据：

*   操作系统：Windows 7 Ultimate x64
*   Perl 版本：5.16.3 x64
*   [`LWP::UserAgent`](https://metacpan.org/module/LWP%3a%3aUserAgent)版本：6.05
*   [`WWW::Mechanize`](https://metacpan.org/module/WWW%3a%3aMechanize)版本：1.72
*   [`IO::Socket`](https://metacpan.org/module/IO%3a%3aSocket)版本：1.34
*   [`IO::Socket::SSL`](https://metacpan.org/module/IO%3a%3aSocket%3a%3aSSL)版本：1.85
*   [`Net::SSL`](https://metacpan.org/module/Net%3a%3aSSL)版本：2.85
*   [`Crypt::SSLeay`](https://metacpan.org/module/Crypt%3a%3aSSLeay)版本：0.64

提前感谢您提供任何有用的评论。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-16T09:10:37.510

**这是问题的实际原因：**您需要使用 SSLv3 或 TLS1 而不是 TLS1.2 来连接到该服务器。这可能就是您首先使用 Net::SSL 时它起作用的原因；我相信它以 WWW:Mechanize 没有的方式尝试不同的密码。

**这就是我找到它的方式：**

我尝试从几个不同的服务器连接，我发现那些工作的服务器具有较旧的 SSL 版本。然后我检查了版本中使用的密码之间的差异，并尝试使用不同的密码进行连接。

当我使用 TLS1.2 连接时，我得到：

```
$ openssl s_client -connect www.imstores.com:443 -tls1_2
CONNECTED(00000003)
write:errno=54
---
no peer certificate available
---
No client certificate CA names sent
---
SSL handshake has read 0 bytes and written 322 bytes
---
New, (NONE), Cipher is (NONE)
Secure Renegotiation IS NOT supported
Compression: NONE
Expansion: NONE
--- 
```

但是当我连接 SSLv3 或 TLS1 时，我得到：

```
$ openssl s_client -connect www.imstores.com:443 -tls1
CONNECTED(00000003)
depth=0 /serialNumber=O3gPUAuGGROuHEhlyLaeJfj7SOn6tFTx/C=US/O=www.imstores.com/OU=GT29846307/OU=See www.geotrust.com/resources/cps (c)11/OU=Domain Control Validated - QuickSSL(R) Premium/CN=www.imstores.com
verify error:num=20:unable to get local issuer certificate
[...and so on, including server certificate...] 
```

究竟如何让 WWW:Mechanize 使用 TLS1 或 SSLv3 作为练习留给学生。

# jquery - KendoUI Grid 将 Modal Validation Max 设置为其他列的值

> ID：16029957
> 
> 赞同：1
> 
> 时间：2013-04-16T06:12:00.193
> 
> 标签：jquery, kendo-ui, kendo-grid

我有以下模式：

```
...
quantity: {
             type: 'number',
             validation: {
                min: 0
             }
          }
... 
```

在我的网格中，您可以单击以内联编辑值。What I would like to do is, is when the quantity field is selected and is ready for the user to start inputting numbers, I want the max possible value to be set to the value of another column that was returned to my grid eg `quantityMax`.

`quantityMax`我的网格中的每一行都会有所不同。

我怎样才能做到这一点？输入更改的处理程序是：

```
$('#salesGrid').on('change', '.k-input', function(){
  handleChange()
})

function handleChange()
{
  sGrid.dataSource.sync(); // Write changes.
  sGrid.dataSource.read(); // Read updated grid.
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-23T10:42:23.620

您可以使用字段的编辑器功能来实现它`quantity`。这很简单：

```
columns   : [
    // Other columns definition
    { field: "quantityMax", title: "Max", width: 50 },
    {
        width : 50,
        title : "Quantity",
        field : "quantity",
        editor: function (container, options) {
            // create an input element
            var input = $("<input name='" + options.field + "'/>");
            // append it to the container
            input.appendTo(container);
            // initialize a Kendo UI numeric text box and set max value
            input.kendoNumericTextBox({
                max: options.model.quantityMax
            });
        }
    }
], 
```

我所做的是，当 KendoUI 进入编辑模式时，我生​​成一个输入字段并设置`max`为 的值，`quantityMax`然后从`options.model`.

有关 JSFiddle 中的工作示例，请单击[此处](http://jsfiddle.net/OnaBai/fNH8h/)

# c# - 在 IE 浏览器上运行 WPF windows 项目

> ID：16029961
> 
> 赞同：0
> 
> 时间：2013-04-16T06:12:23.383
> 
> 标签：c#, wpf

我开发了基于 WPF windows 的简单应用程序，现在想在 Internet 浏览器上运行。可以在IE上运行吗？需要知道不同的方法来做到这一点，谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:14:06.487

将其托管在 Silverlight 应用程序中。这样您就可以在任何浏览器中运行类似 WPF 的设计应用程序 (XAML)。

# node.js - aws操作的cpu加息

> ID：16029965
> 
> 赞同：2
> 
> 时间：2013-04-16T06:12:33.017
> 
> 标签：node.js, amazon-web-services

我们正在为任何aws 操作（如**listBuckets** **(s3)、listQueues(sqs) 和 putItem(dynamodb) ）增加 cpu**。cpu上涨的原因可能是什么？

我们的后端是**Nodejs**，aws 库是**aws-sdk**

例子

```
for (var i = 0; i < 100; i++) {
        s3.client.listBuckets(function (err, data) {
         console.log(data);
         });

    } 
```

对于上面的循环**%cpu 去 25**

我的问题是，对于一个 api 调用，cpu 不应该进行那么多的加息。

对于我们用 redis api 调用测试的同一个循环，我们得到的**cpu 使用率略低于 2%**。为什么这仅适用于 aws 操作？

# jquery - 悬停/选定的菜单显示背景

> ID：16029968
> 
> 赞同：0
> 
> 时间：2013-04-16T06:12:41.737
> 
> 标签：jquery, html, css

我需要一些悬停效果的背景`ul li`。

图片：

**HTML**

```
<div id="topnav">
        <ul class="nav clearfix">
            <li id="menu-item-25" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-2 current_page_item menu-item-25">
            <a href="http://localhost/">Home</a>
            </li>
            <li id="menu-item-45" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-45">
                <a href="http://localhost/">Menu2</a>
            </li>
            <li id="menu-item-98" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-98">
                <a href="http://localhost/">Menu3</a>
            </li>
            <li id="menu-item-96" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-96">
                <a href="http://localhost/">Menu4</a>
            </li>
            <li id="menu-item-97" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-97">
                <a href="http://localhost/">Menu5</a>
            </li>
        </ul>
    <div> 
```

**CSS**

```
 #topnav {
        font-size: 8pt;
        font-weight: bold;
        margin-top: 2%;
        border: 1px solid #DDDDDD;
        float: left;
        font-size: 8pt;
        margin-bottom: 0;
        margin-left: 0;
        margin-right: 0;
        margin-top: 7% !important;
        opacity: 0.8;
        padding: 0;
        width: 60%;
    }
    #topnav ul {

        line-height: 1;
        list-style: none outside none;
        margin: 0;
        padding: 0;
         display: block;
    }
    #topnav ul li {
        float: left;
        width: auto;
        margin:10px;
    }
    #topnav ul {
        line-height: 1;
        list-style: none outside none;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:32:12.360

据我所知，使用 css3 你不能选择元素的父元素（我可能错了）。使用 JQuery 相当容易`$("#topnav a:hover").parent()`，这将选择包含 a:hover 的 li。

希望我理解这个问题，这对你有帮助。

将 li 着色为白色的 JQuery 示例，您必须调整 li 的大小，以便可以看到此效果：

```
$(function(){
$("#topnav a").mouseenter(function(){
        $("#topnav a:hover").parent().css("background-color","#FFFFFF");
    }).mouseleave(function(){
        $("#topnav a:hover").parent().css("background-color","#CBBBA1");
    });
}); 
```

[演示](http://jsfiddle.net/kaGvs/18/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T08:12:19.697

像这样的东西：[jsfiddle.net/kaGvs/5](http://jsfiddle.net/kaGvs/5)？:)

您可以给“a”标签一个负边距和边框，它们应该相互抵消。

```
#topnav ul li a {
    border-top: 15px solid transparent;
    border-bottom : 15px solid transparent;
    margin: -25px 0;
    display:block;
    line-height: 30px;
}

#topnav ul a:hover, #topnav ul ul a:hover {
    color: #0A0A0A;
    background-color: #CBBBA1;
    border-color: white;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T06:38:00.510

试试这个

```
#topnav ul li:hover{
    background:white; 
}
#topnav ul li:hover a{
    background:#d8b038; 
} 
```

**[演示](http://jsfiddle.net/kaGvs/10/)**

**注意：** *根据您的 UI 更改位置。我刚刚给出了悬停效果。*

# join - 通过加入表来计算组

> ID：16029970
> 
> 赞同：1
> 
> 时间：2013-04-16T06:12:48.427
> 
> 标签：join, count, group-by

我正在查询以显示成员上传到我的网站的计数。

到目前为止，我已经有了基本的计数：

```
SELECT member_id,COUNT(*)  
FROM uploads        
GROUP BY member_id 
```

...当回显时，会显示 member_id 和他们拥有的上传量。

但是，我想做的是显示成员的名字和姓氏，而不仅仅是他们的 ID。

为此，我需要加入成员和上传表，其中 members.member_id = uploads.member_id

我知道我需要选择**members.member_firstname**、**members.member_lastname**、**members.member_id**和**uploads.member_id** 其中 members.member_id = uploads.member_id 并输入计数和分组依据。我只是被语法难住了。谁能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:32:05.757

```
SELECT members.member_firstname, members.member_lastname, COUNT(*)  
FROM uploads    
JOIN members
ON uploads.member_id = members.member_id
GROUP BY uploads.member_id 
```

试试看。

# forms - 使用表格检查某人是否比给定年龄大

> ID：16029972
> 
> 赞同：1
> 
> 时间：2013-04-16T06:12:58.303
> 
> 标签：forms, vba, ms-access

我已经尝试过这段代码，以便让我的表格告诉我，如果客户想租用 R16 或 R18 电影，他们的年龄是 16 岁还是 18 岁。

HireMovieID 和 HireCustomerID 是我表单上的两个文本框。MovieID 和 CustomerID 是我的 MovieList 和 CustomerInfo 表中的列。

```
 Private Sub HireCommand_Click()

If Not IsNumeric(HireMovieID) Or Not IsNumeric(HireCustomerID) Then
    MsgBox "Error: Not a number"
    Exit Sub
End If

Dim MovieRating As String
Dim CustomerDOB As Date
Dim Age16Check As Date
Dim Age18Check As Date

MovieRating = DLookup("[Rating]", "MovieList", "MovieID = [Forms]![HireForm]![HireMovieID]")
CustomerDOB = DLookup("[DOB]", "CustomerInfo", "CustomerID = [Forms]![HireForm]![HireCustomerID]")
Age16Check = DateSerial(-16, Month(Date), Day(Date))
Age18Check = DateSerial(-18, Month(Date), Day(Date))

If MovieRating = "R16" Then
    If CustomerDOB > Age16Check Then
        MsgBox "This customer is too young to hire this movie"
    Else: MsgBox "This customer is old enough to hire this movie"
    End If
ElseIf MovieRating = "R18" Then
    If CustomerDOB > Age18Check Then
        MsgBox "This customer is too young to hire this movie"
    Else: MsgBox "This customer is old enough to hire this movie"
    End If
Else: MsgBox "This movie does not have a restricted rating, thus this customer may hire this DVD"
End If

End Sub 
```

**编辑：**当我运行这段代码时，如果我选择了一部 R16 电影，它会说所有的客户都太年轻而不能雇用它？我怎样才能解决这个问题？

在此先感谢您的帮助！:)

# jboss7.x - beans.xml 文件和 java.lang.UnsupportedOperationException: JBAS011859: 命名上下文是只读的

> ID：16029973
> 
> 赞同：5
> 
> 时间：2013-04-16T06:13:00.853
> 
> 标签：jboss7.x

`beans.xml`开始在我们的`EJB`和 jar 文件中使用文件后，我遇到了非常奇怪的异常。
我们使用`JBoss7.1.1`发布。
我们的应用程序被打包为 ear 文件。
它已部署并较早地正常工作。
有一些 Module1 EJB 组件。现在我们`@Inject annotation`在 Module1 中使用了一些 bean，因此添加了 META-INF/beans.xml。
另一个 EJB 组件 Module2 使用来自 Module1 的 EJB，例如：

@EJB

`private IOmistajaFinderLocal omistajaFinder;`

但是现在应用程序无法部署在 JBoss 上。有以下例外：

```
java.lang.UnsupportedOperationException: JBAS011859: Naming context is read-only
      at org.jboss.as.naming.WritableServiceBasedNamingStore.requireOwner(WritableServiceBasedNamingStore.java:126)
      at org.jboss.as.naming.WritableServiceBasedNamingStore.createSubcontext(WritableServiceBasedNamingStore.java:116)
      at org.jboss.as.naming.NamingContext.createSubcontext(NamingContext.java:338)
      at org.jboss.as.naming.InitialContext.createSubcontext(InitialContext.java:229)
      at org.jboss.as.naming.NamingContext.createSubcontext(NamingContext.java:346)
      at javax.naming.InitialContext.createSubcontext(Unknown Source)
      at com.sun.jersey.server.impl.cdi.CDIExtension$1.stepInto(CDIExtension.java:280)
      at com.sun.jersey.server.impl.cdi.CDIExtension.diveIntoJNDIContext(CDIExtension.java:267)
      at com.sun.jersey.server.impl.cdi.CDIExtension.createJerseyConfigJNDIContext(CDIExtension.java:273)
      at com.sun.jersey.server.impl.cdi.CDIExtension.initialize(CDIExtension.java:192)
      at com.sun.jersey.server.impl.cdi.CDIExtension.beforeBeanDiscovery(CDIExtension.java:297)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
      at java.lang.reflect.Method.invoke(Unknown Source)
      at org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264)
      at org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52)
      at org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137)
      at org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260)
      at org.jboss.weld.introspector.jlr.WeldMethodImpl.invokeOnInstance(WeldMethodImpl.java:170)
      at org.jboss.weld.introspector.ForwardingWeldMethod.invokeOnInstance(ForwardingWeldMethod.java:51)
      at org.jboss.weld.injection.MethodInjectionPoint.invokeOnInstanceWithSpecialValue(MethodInjectionPoint.java:154)
      at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:241)
      at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:229)
      at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:207)
      at org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:75)
      at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:46)
      at org.jboss.weld.bootstrap.events.BeforeBeanDiscoveryImpl.fire(BeforeBeanDiscoveryImpl.java:46)
      at org.jboss.weld.bootstrap.WeldBootstrap.startInitialization(WeldBootstrap.java:322)
      at org.jboss.as.weld.WeldContainer.start(WeldContainer.java:81)
      at org.jboss.as.weld.services.WeldService.start(WeldService.java:76)
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)
      at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
      at java.lang.Thread.run(Unknown Source)

      at org.jboss.as.weld.services.WeldService.start(WeldService.java:83)
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]
      at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [rt.jar:1.7.0_09]
      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [rt.jar:1.7.0_09]
      at java.lang.Thread.run(Unknown Source) [rt.jar:1.7.0_09]

 Caused by: org.jboss.weld.exceptions.DefinitionException: Exception List with 1 exceptions:
Exception 0 :
java.lang.UnsupportedOperationException: JBAS011859: Naming context is read-only
      at
 org.jboss.as.naming.WritableServiceBasedNamingStore.requireOwner(WritableServiceBasedNamingStore.java:126)
      at org.jboss.as.naming.WritableServiceBasedNamingStore.createSubcontext(WritableServiceBasedNamingStore.java:116)
      at org.jboss.as.naming.NamingContext.createSubcontext(NamingContext.java:338)
      at org.jboss.as.naming.InitialContext.createSubcontext(InitialContext.java:229)
      at org.jboss.as.naming.NamingContext.createSubcontext(NamingContext.java:346)
      at javax.naming.InitialContext.createSubcontext(Unknown Source)
      at com.sun.jersey.server.impl.cdi.CDIExtension$1.stepInto(CDIExtension.java:280)
      at com.sun.jersey.server.impl.cdi.CDIExtension.diveIntoJNDIContext(CDIExtension.java:267)
      at com.sun.jersey.server.impl.cdi.CDIExtension.createJerseyConfigJNDIContext(CDIExtension.java:273)
      at com.sun.jersey.server.impl.cdi.CDIExtension.initialize(CDIExtension.java:192)
      at com.sun.jersey.server.impl.cdi.CDIExtension.beforeBeanDiscovery(CDIExtension.java:297)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
      at java.lang.reflect.Method.invoke(Unknown Source)
      at org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264)
      at org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52)
      at org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137)
      at org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260)
      at org.jboss.weld.introspector.jlr.WeldMethodImpl.invokeOnInstance(WeldMethodImpl.java:170)
      at org.jboss.weld.introspector.ForwardingWeldMethod.invokeOnInstance(ForwardingWeldMethod.java:51)
      at org.jboss.weld.injection.MethodInjectionPoint.invokeOnInstanceWithSpecialValue(MethodInjectionPoint.java:154)
      at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:241)
      at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:229)
      at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:207)
      at org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:75)
      at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:46)
      at org.jboss.weld.bootstrap.events.BeforeBeanDiscoveryImpl.fire(BeforeBeanDiscoveryImpl.java:46)
      at org.jboss.weld.bootstrap.WeldBootstrap.startInitialization(WeldBootstrap.java:322)
      at org.jboss.as.weld.WeldContainer.start(WeldContainer.java:81)
      at org.jboss.as.weld.services.WeldService.start(WeldService.java:76)
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)
      at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
      at java.lang.Thread.run(Unknown Source)

      at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:48)
      at org.jboss.weld.bootstrap.events.BeforeBeanDiscoveryImpl.fire(BeforeBeanDiscoveryImpl.java:46)
      at org.jboss.weld.bootstrap.WeldBootstrap.startInitialization(WeldBootstrap.java:322)
      at org.jboss.as.weld.WeldContainer.start(WeldContainer.java:81)
      at org.jboss.as.weld.services.WeldService.start(WeldService.java:76)
      ... 5 more

08:55:05,315 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) {"JBAS014653: Composite operation failed and was rolled back. Steps that failed:" => {"Operation step-2" => {"JBAS014671: Failed services" => {"jboss.deployment.unit.\"Helle.ear\".WeldService" => "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"Helle.ear\".WeldService: org.jboss.weld.exceptions.DefinitionException: Exception List with 1 exceptions:
Exception 0 :
 java.lang.UnsupportedOperationException: JBAS011859: Naming context is read-only
      at org.jboss.as.naming.WritableServiceBasedNamingStore.requireOwner(WritableServiceBasedNamingStore.java:126)
      at org.jboss.as.naming.WritableServiceBasedNamingStore.createSubcontext(WritableServiceBasedNamingStore.java:116)
      at org.jboss.as.naming.NamingContext.createSubcontext(NamingContext.java:338)
      at org.jboss.as.naming.InitialContext.createSubcontext(InitialContext.java:229)
      at org.jboss.as.naming.NamingContext.createSubcontext(NamingContext.java:346)
      at javax.naming.InitialContext.createSubcontext(Unknown Source)
      at com.sun.jersey.server.impl.cdi.CDIExtension$1.stepInto(CDIExtension.java:280)
      at com.sun.jersey.server.impl.cdi.CDIExtension.diveIntoJNDIContext(CDIExtension.java:267)
      at com.sun.jersey.server.impl.cdi.CDIExtension.createJerseyConfigJNDIContext(CDIExtension.java:273)
      at com.sun.jersey.server.impl.cdi.CDIExtension.initialize(CDIExtension.java:192)
      at com.sun.jersey.server.impl.cdi.CDIExtension.beforeBeanDiscovery(CDIExtension.java:297)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
      at java.lang.reflect.Method.invoke(Unknown Source)
      at org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264)
      at org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52)
      at org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137)
      at org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260)
      at org.jboss.weld.introspector.jlr.WeldMethodImpl.invokeOnInstance(WeldMethodImpl.java:170)
      at org.jboss.weld.introspector.ForwardingWeldMethod.invokeOnInstance(ForwardingWeldMethod.java:51)
      at org.jboss.weld.injection.MethodInjectionPoint.invokeOnInstanceWithSpecialValue(MethodInjectionPoint.java:154)
      at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:241)
      at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:229)
      at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:207)
      at org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:75)
      at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:46)
      at org.jboss.weld.bootstrap.events.BeforeBeanDiscoveryImpl.fire(BeforeBeanDiscoveryImpl.java:46)
      at org.jboss.weld.bootstrap.WeldBootstrap.startInitialization(WeldBootstrap.java:322)
      at org.jboss.as.weld.WeldContainer.start(WeldContainer.java:81)
      at org.jboss.as.weld.services.WeldService.start(WeldService.java:76)
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)
      at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
      at java.lang.Thread.run(Unknown Source)
"}}}} 
```

Module1 和 Module2 都包含在 application.xml 文件和生成的 ear 文件中。删除 beans.xml 解决了部署过程，但在这种情况下，我们不能使用 @Injection 注释。

有什么问题，我该如何解决？谢谢你。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-05-13T21:29:29.687

这是使用运动衫时的一个已知问题。尝试将以下选项添加到您的 jvm，这将解决您的问题。如果您从 Eclipse 运行 jboss 服务器，则添加到服务器运行时配置。如果您使用standalone.bat 从命令提示符启动jboss，则将以下选项添加到standalone.conf.bat。同样，如果您使用*Nix，则添加到standalone.conf。

```
set "JAVA_OPTS=%JAVA_OPTS% -Dcom.sun.jersey.server.impl.cdi.lookupExtensionInBeanManager=true" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-06-24T14:00:00.633

为了在 Eclipse 中使用（运行和调试），打开服务器属性，*启动配置属性*并设置 VM 参数：-Dcom.sun.jersey.server.impl.cdi.lookupExtensionInBeanManager=true

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-30T15:29:39.780

我能够做到这一点。在命名 jar 中添加补丁。只需更改 org.jboss.as.naming.service.NamingStoreService -> readOnly = true

完整的java类 -

```
public class NamingStoreService implements Service<ServiceBasedNamingStore> {

private final boolean readOnly = false;
private volatile ServiceBasedNamingStore store;

public NamingStoreService() {
    this(false);
    System.out.println("Setting readOnly "+readOnly);
}

public NamingStoreService(boolean readOnly) {
    System.out.println("Setting readOnly "+readOnly);
}

/**
 * Creates the naming store if not provided by the constructor.
 *
 * @param context The start context
 * @throws StartException If any problems occur creating the context
 */
public void start(final StartContext context) throws StartException {
    if(store == null) {
        final ServiceRegistry serviceRegistry = context.getController().getServiceContainer();
        final ServiceName serviceNameBase = context.getController().getName();
        final ServiceTarget serviceTarget = context.getChildTarget();
        store = readOnly ? new ServiceBasedNamingStore(serviceRegistry, serviceNameBase) : new WritableServiceBasedNamingStore(serviceRegistry, serviceNameBase, serviceTarget);
    }
}

/**
 * Destroys the naming store.
 *
 * @param context The stop context
 */
public void stop(StopContext context) {
    if(store != null) {
        try {
            store.close();
            store = null;
        } catch (NamingException e) {
            throw MESSAGES.failedToDestroyRootContext(e);
        }
    }
}

/**
 * Get the context value.
 *
 * @return The naming store
 * @throws IllegalStateException
 */
public ServiceBasedNamingStore getValue() throws IllegalStateException {
    return store;
}
} 
```

# objective-c - 如何用空格格式化单个数字的字符串？

> ID：16029976
> 
> 赞同：0
> 
> 时间：2013-04-16T06:13:14.787
> 
> 标签：objective-c, printf

我在上传视频时向用户显示一个字符串，上面写着类似

```
20% uploaded 
```

因此，当百分比数字是个位数时，我希望十位的空间由空白字符填充。

就像我们如何多次显示 01,02,03 的个位数作为解决方案一样，我想显示空格而不是那个 0。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T06:22:06.603

可修改左值的答案适合在 % 和 digit 之间获得首选空间。您只需检查值，并相应地找到“%”符号。或者还有另一种方式。

例如，我使用以下格式显示 % 符号。

> [NSString stringWithFormat:@"%.0f%% of 100% Uploaded..",progressValue*10];

这相应地管理您的值和 '%' 符号之间的空间。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-16T06:24:22.393

您需要通过将格式设置为`%<alighmentInteger>d`

您可以将值存储到`stringWithFormat:`

仅用于显示我直接是 NSLogging。

```
 NSLog(@"%3d%%",i); //this will pad 3 white spaces. 
```

如果你想要 2 个空格，请使用`2d`

例如：

```
for (int i=0; i<101; i+=25) {
    NSLog(@"%3d%% uploaded",i);
} 
```

输出：

```
2013-04-16 11:55:16.002 DynamicObject[48056:303] 0% 上传
2013-04-16 11:55:16.003 DynamicObject[48056:303] 25% 上传
2013-04-16 11:55:16.003 DynamicObject[48056:303] 50% 上传
2013-04-16 11:55:16.004 DynamicObject[48056:303] 75% 上传
2013-04-16 11:55:16.004 DynamicObject[48056:303] 100% 上传

```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-16T06:17:52.997

~~我能想到的最好的主意是检查价值。如果小于 10，则打印一个空白字符。您可以使用`%.*s`将其合并到 printf 中：`printf("%.*s%d%% uploaded", value < 10, " ", value);`~~

**编辑：**根据规范，字段宽度`*`（或十进制整数）似乎为您执行此操作：（`printf("%*d%% uploaded", 2, value);`或`printf("%02d%% uploaded", 2, value);`）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-16T06:26:09.700

这是一个返回所需输出的方法

```
- (NSString *)uploadProgress:(NSUInteger)progress {
    return [NSString stringWithFormat:@"%@%% uploaded", progress < 10 ?
            [NSString stringWithFormat:@" %i", progress] :
            [NSString stringWithFormat:@"%i", progress]];
} 
```

称呼：

```
NSLog(@"%@", [self uploadProgress:5]);
NSLog(@"%@", [self uploadProgress:50]); 
```

输出：

```
2013-04-16 02:24:49.948 stackoverflow test001[11587:c07]  5% uploaded
2013-04-16 02:24:49.949 stackoverflow test001[11587:c07] 50% uploaded 
```

# methods - 向 Angular 指令添加方法？

> ID：16029982
> 
> 赞同：5
> 
> 时间：2013-04-16T06:13:46.287
> 
> 标签：methods, angularjs, angularjs-directive

我正在尝试创建一个可以增强 HTML 元素的指令。所以我设法让指令运行并与元素关联我当前的代码是这样的：

```
angular.module('myModule', [])

    .directive('myDirective', function() {
        return {
            restrict: 'C',
            replace: false,
            scope: {},
            link: function(scope, element, attrs) {

            }
        }
    }); 
```

现在我想为 HTML 元素添加新方法，例如我想这样做：

```
// Pseudo code
myElement.reset();
myElement.reload(); // etc. 
```

将这些方法添加到指令中的最佳方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-16T07:38:12.353

向元素添加新方法不是 Angular 的方式。角度方式是创建带有字段的对象，将其传递给指令并观察指令内的字段变化。这是一个简单的例子：[http ://plnkr.co/edit/5v5mN69Bu18jpnoGwYqj?p=preview](http://plnkr.co/edit/5v5mN69Bu18jpnoGwYqj?p=preview)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-16T07:23:28.857

您的指令示例非常基本，所以我看不出您想要实现什么。至少我可以说：您可以将新功能定义为范围的功能，例如

```
...
link: function(scope, element, attrs) {
    scope.reset = function() {
         // reset something
    }
    // ...
} 
```

如果你想访问作用域中加载的数据（例如用于函数reload()），你应该为此编写一个控制器。因此您可以将服务作为数据源注入。直接实现绑定到元素的函数更像是 jQuery 方式，而不是 angularjs 方式。在 angularjs 中，您主要使用范围。

也许您充其量使用 jsfiddle 或 plnkr 提供了一个更完整的示例，我认为将您的用例或问题视为一段工作代码更容易帮助您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-30T01:03:08.793

将这些方法添加到指令的一种方法是使指令成为控制器（也称为子视图）。控制器中的 $scope 参数将使您能够双向访问模板中的 HTML：

例如：

```
.directive("myDirective", function() {

var controller = ['$scope', function teamCountCtrl ($scope)
{
    $scope.reset = function() {
       // modify $scope.obj
    };

    $scope.reload = function() {
       // modify $scope.obj
    };
}];

return {
    replace: true,
    templateUrl: 'js/directives/teamCount.html',
    scope: {
        obj: '='
    },
    controller: controller
}}); 
```

然后在模板 HTML 中，您可以调用 reset() 或 reload()：

```
<div>

<a tabindex=-1 class="btn" href="#" ng-click="reset()">
    <i class="fa fa-fw"></i>
</a>

<a tabindex=-1 class="btn" href="#" ng-click="reload()">
    <i class="fa fa-fw"></i>
</a> 
```

# amazon-web-services - 如何手动在 ec2 中进行系统维护计划事件？

> ID：16029985
> 
> 赞同：3
> 
> 时间：2013-04-16T06:14:00.047
> 
> 标签：amazon-web-services, amazon-s3, amazon-ec2

我`AWS t1 micro instance`用来运行我的应用程序（`LAMP server`）的一些网络服务。还有一个管理面板与 SQLite DB 一起运行。

现在我已经超过了我的免费等级限制。我已经安排了一个系统维护活动，我的实例是 ebs 支持的，我想在安排之前手动完成。它显示为系统维护。是实例重启还是系统重启？我越来越糊涂了。

任何人都可以帮助我手动实现这一目标吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-16T11:38:47.633

右键单击 AWS 控制台中的实例。在“实例生命周期”下，选择“停止”。通过刷新控制台或等待它刷新来等待实例停止。一旦它处于“停止”状态，再次右键单击实例，然后单击“启动”。注意：这*不是*操作系统重新启动。您实际上正在停止管理程序中的保留实例并将其重新启动，这应该将其路由到新硬件。

该实例将出现在新硬件上，您将手动“安排”维护。

如果您想要比`t1.micro`. 您将停止实例“更改实例类型”，然后重新启动它。

# eclipse - 如何让我的“eclipse juno”上的 Java servlet 工作？

> ID：16029987
> 
> 赞同：0
> 
> 时间：2013-04-16T06:14:06.657
> 
> 标签：eclipse, servlets

**问题** 通过服务器上的“运行方式”选项运行项目后，我不断收到 Http Status 404/Hello Servlet/

类型状态报告消息 /HelloServlet/ 描述请求的资源不可用

**我做了什么。**

我已经解决了诸如 [如何使用 Eclipse 开发 Java Servlet 之类的问题？](https://stackoverflow.com/questions/206924/how-do-you-develop-java-servlets-using-eclipse)

我已经从这里下载了 apache tomcat windows 安装 [http://tomcat.apache.org/download-60.cgi](http://tomcat.apache.org/download-60.cgi)

我已经将我的项目的目标运行时设置为包括 Apache Tomcat 7.0

我已经设置了 Java 构建路径并使用它来导入 servlet-api jar。

代码 [http://shrib.com/tVvVMzli](http://shrib.com/tVvVMzli) 这里是代码，以防有人想看看。

# asp.net - 将ckeditor保存的html数据从数据库显示为asp.net中的普通文本

> ID：16029992
> 
> 赞同：0
> 
> 时间：2013-04-16T06:14:30.120
> 
> 标签：asp.net

我正在使用 ckeditor 编写帖子并将该数据保存在 sql server 2008 中。在数据库中，它以 html 形式保存数据。

我想将保存在数据库中的数据显示为 aspx 页面作为纯文本。在数据库中保存为：

```
<p>haskdbn</p>

<p>sakaksfb asknzxv</p> 
```

在我的 asp.net 页面中，数据必须以没有标签的正常形式显示。

我在后面写代码：

```
revolutionEntities obj = new revolutionEntities();
var v = from p in obj.posts orderby p.postedtime select new { p.post1 };
foreach (var item in v)
{
   HttpUtility.HtmlDecode(item.ToString());
}
GridView1.DataSource = v;
GridView1.DataBind(); 
```

但它不解码。它显示与 html 形式相同的文本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T06:25:25.900

您没有`foreach`循环更新数据源。

您可以在源代码上使用 for 循环，如下所示
**未测试**

```
 for (int i=0;i<item.Count;i++)
 {
       v[i]= HttpUtility.HtmlDecode(l[i].ToString());
 } 
```

## 编辑 1

```
revolutionEntities obj = new revolutionEntities();
var list = (from p in obj.posts orderby p.postedtime select new { p.post1 }).ToList();
for (int i = 0; i < list.Count; i++)
{
    list[i]= HttpUtility.HtmlDecode(list[i].ToString());
}
GridView1.DataSource = list;
GridView1.DataBind(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:43:21.360

```
GridView1.DataSource = obj.posts.OrderBy(p1=>p1.postedtime)
                        .Select(p=>HttpUtility.HtmlDecode(p.post1.ToString()))
                        .ToList();  
GridView1.DataBind(); 
```

# ruby-on-rails - 回形针 S3 网络错误

> ID：16029993
> 
> 赞同：1
> 
> 时间：2013-04-16T06:14:30.837
> 
> 标签：ruby-on-rails, ruby, amazon-s3, paperclip

在 ruby​​ on rails 中，使用带有回形针的 S3 进行分段和生产模式。它工作正常。为发展模式。我正在使用本地存储。

当我关闭 wifi 或断开互联网连接时，处于开发模式。我收到这个错误。如果我连接到互联网。它工作正常并从本地路径中提取图像/文件。

**我不确定为什么在开发模式下，代码仍然检查 s3，**而当连接到互联网时它在本地存储上工作得很好。

**AWS::Core::Client::NetworkError: AWS::Core::Client::NetworkError gems/aws-sdk-1.8.0/lib/aws/core/client.rb:318:in `return_or_raise'**

# windows - 在 Powershell 中使用 Get-EventSubscriber cmdlet

> ID：16029994
> 
> 赞同：1
> 
> 时间：2013-04-16T06:14:31.753
> 
> 标签：windows, events, powershell, scripting

我正在处理的脚本有问题，我必须已经花了 4 个小时来解决这个问题，所以现在我转向这里。我有以下代码，为大家缩短了它：

```
while($true){
    $seclog = Get-EventLog -List | Where-Object {$_.Log -eq 'Security'} ;
    Register-ObjectEvent -InputObject $seclog -SourceIdentifier NewEventLogEnter -EventName EntryWritten -Action {
        $entry = $event.SourceEventArgs.Entry
        if($entry.EventID -eq 4776){
            if($entry.EntryType -eq 'FailureAudit'){
                $i++;
            }
            elseif($entry.EntryType -eq 'SuccessAudit'){
                [System.Windows.Forms.MessageBox]::Show("$i")
                break;
        }
    }
} 
```

}

当我运行脚本时，它可以按需要运行，但是我得到一个 powershell 控制台进入一个无限循环，说：**Register-ObjectEvent: could not createsubscriber for SourceIdentifier, one exists**。这是错误的图片：[链接到我的保管箱，我在其中托管图片。](https://www.dropbox.com/s/x629odlgh434l3q/error.PNG)

我还没有足够的代表来发布图片。

我需要它在无限循环中运行，所以在敲了一天头之后，我认为可能有一种方法可以检查所有当前创建的事件，看看我是否可以检查 SourceIdentifier 是否已经在使用中，因此，我们不会创建新实例。从而解决问题。我想我可以通过*Get-EventSubscriber*命令完成这项工作，但我不太确定。这是我的第一个 powershell 脚本，所以请原谅我在我的代码中看到的任何可怕的东西。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-31T17:47:09.550

我想我理解你想要做什么，但你混淆了一些事情。也许您在 .NET 事件作为异步回调（将使用`Register-ObjectEvent`）和事件作为日志文件中的记录之间有点混乱。

如果我理解您的尝试，您想计算在成功之前看到的失败审计次数，在这种情况下，您会显示之前的失败审计计数。这意味着您要使用日志文件中记录的事件类型。看看这个：

```
$seclog = Get-EventLog -LogName Security

foreach ($entry in $seclog) {        
        if($entry.EventID -eq 4776){
            if($entry.EntryType -eq 'FailureAudit'){
                $i++;
            }
            elseif($entry.EntryType -eq 'SuccessAudit'){
                [System.Windows.Forms.MessageBox]::Show("$i")
                break;
        }
    }
} 
```

如果您想在循环中执行此操作，则必须将整个内容包装在一个`while`子句中，并且每次从事件日志中获取记录时，您应该传入您之前阅读过的最新记录的日期和时间.

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T12:58:19.027

TBH，我不确定我是否正确理解了这个问题，但你可以使用下面的代码来检查源是否存在，如果不存在则创建它？

```
 if (-not([System.Diagnostics.EventLog]::SourceExists($source))) {
    ## Write-Host "$source does not exist. Creating new one" 
    [System.Diagnostics.EventLog]::CreateEventSource($source,$logname)    
} 
```