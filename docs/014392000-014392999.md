# StackOverflow 问答 14392000-14392999

# php - PHP：从返回的时间值中删除秒数

> ID：14392001
> 
> 赞同：10
> 
> 时间：2013-01-18T03:37:01.213
> 
> 标签：php

我需要从返回的时间值中删除秒数。我明白了

```
12:00:00 
```

我想

```
12:00pm 
```

我尝试使用`date()`，但它一直将时间返回为凌晨 1:00。

```
echo date('g:ia', $timestamp); 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-01-18T03:39:06.523

使用[`strtotime()`](http://us2.php.net/manual/en/function.strtotime.php)-

```
echo date('g:ia', strtotime($timestamp)); 
```

[`date()`](http://us2.php.net/manual/en/function.date.php)函数 - -`string date ( string $format [, int $timestamp = time() ] )`是`$timestamp`一个整数 Unix 时间戳。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-01-18T03:53:08.670

```
$timestamp = $timestamp - ($timestamp % 60); 
```

换句话说，使用模函数从时间中减去当前分钟的秒数。

有时，越简单越好（并且比 strtotime 更有效）。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-01-12T11:56:11.130

如果只需要删除秒数（不需要PM），可以同时使用MYSQL或php：

MYSQL：

```
SELECT SUBSTRING(SEC_TO_TIME(seconds), 1, 5); 
```

PHP：

```
$cleantime=substr($time,0,-3); 
```

两者都会去掉秒数并保留小时和分钟

*感谢 Jahanzeb 增强 PHP 版本以支持 > 99 小时*

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-18T03:38:36.157

你试过`strtotime()`吗？

```
echo date( 'g:ia', strtotime("12:00:00") ); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-10-06T12:57:28.963

就个人而言，我更喜欢这种方法：

```
 private function floorMinute(DateTimeImmutable $dateTime): DateTimeImmutable
 {
     return $dateTime->modify(sprintf('-%d seconds', (int)$dateTime->format('s')));
 } 
```

这可以更改/扩展为四舍五入。

# java - 如何获取 MySQL 数据并将其读入 Android 应用程序

> ID：14392003
> 
> 赞同：0
> 
> 时间：2013-01-18T03:37:47.593
> 
> 标签：java, php, android, mysql, json

我有一个网站，我可以在其中填写一个非常简单的 html 表单。该页面是使用 php 和 mysql 制作的，因此它也受密码保护。在此表单上，我接受“数据”和“活动”的输入。使用这个非常小的系统：

*   我可以用密码登录
*   输入“日期”和“活动”
*   “日期”和“活动”存储在 MySQL 数据库中

在这一点上，我想我只需要构建一个 JSON 解析器，这已经有很多教程了。比如[这个](http://www.vogella.com/articles/AndroidJSON/article.html)和[这个](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)。令我困惑的是如何创建这个 JSON 页面。这些教程都没有真正向您展示如何创建您要查找的数据的 JSON 数组。

这可能是一个非常基本的问题，但我对 Java、PHP、MySQL 和 JSON 还是很陌生。请教育我这个话题。

## 更新：

这段代码最终对我有用

```
<?php
 $link = mysql_connect("localhost", "my_db", "password");

   mysql_select_db("my_table") or die(mysql_error());

$sql=mysql_query("select * from activity");
while($row=mysql_fetch_assoc($sql)){
$output[]=$row;
}
print(json_encode($output));
mysql_close();
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T03:52:02.600

试试内置的 PHP 函数`json_encode`

你可以在这里阅读：http: [//php.net/manual/en/function.json-encode.php](http://php.net/manual/en/function.json-encode.php)

如果您像这样从 PHP 运行查询：`SELECT Activity, Date from YourTable where field = value`

然后你可以使用json_encode：`echo json_encode($result)`

它会输出这样的东西`{"Activity":"Activity Text","Date":"ExampleDate"}`

# ajax - 在浏览 Wordpress 网站时保持 div 加载。阿贾克斯

> ID：14392005
> 
> 赞同：1
> 
> 时间：2013-01-18T03:38:16.580
> 
> 标签：ajax, wordpress, html, load

我有一个音乐播放器，我想在浏览网站时保持加载。这是一个定制的 Wordpress 主题。我已经尝试了多个插件，但似乎没有什么能够完成它。div id 是#stratus...

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T03:42:01.507

一个建议可能是使用 AJAX 重新加载页面。也就是说，不要完全刷新页面，只刷新某些 div 中的内容。这样，页面就不会真正刷新，音乐播放器可以继续运行。

# java - java中“string”.equals（value）或value.equals（“string”）之间的区别？

> ID：14392008
> 
> 赞同：2
> 
> 时间：2013-01-18T03:38:36.970
> 
> 标签：java, string, equals

> **可能重复：**
> [为什么 myString.equals(“aString”); 不同于“aString”.equals(myString);？](https://stackoverflow.com/questions/7577089/why-is-mystring-equalsastring-different-from-astring-equalsmystring)

为什么我看到`"string to compare".equals(input_value)`而不是`input_value.equals("string to compare")`在一些 java 编码中？

优缺点都有什么？

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-18T03:39:44.383

`"string to compare".equals(input_value)` 避免了空检查的需要。

如果 input_value 为空，另一个可能会抛出 NPW。事实上，许多 IDE 都会警告您这一点，并允许您在不输入任何内容的情况下更改代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T03:42:53.370

结果不应该不同。

但从技术上讲，他们可能会。

在第一种情况下，将从 String 类调用 equals() 和 hashCode() 方法。

在第二种情况下，将从 input_value 类调用 equals() 和 hashCode() 方法。

此外，如果 input_value 为 null，则在第一种情况下，结果将始终为 false，而在第二种情况下，您将获得 NullPointerException。

* * *

没有足够的信息来说明首选哪一个。这取决于你的目的。

在第一种情况下，您避免 NullPointerException。

在第二种情况下，您可能（如果您为 input_value 定义类）可以更好地控制如何定义对象的相等性（equals() 和 hashCode() 方法）

# php - 无法添加换行符。为什么会这样？

> ID：14392012
> 
> 赞同：1
> 
> 时间：2013-01-18T03:39:42.460
> 
> 标签：php, line-breaks

以下脚本打印来自`array`命名的字符串`arr`。在`arr`我尝试插入换行符后`\n`，我没有看到它。这是为什么 ？

```
<?php
$arr = array("ghazal","shayari","silence","hayaat");
echo $arr[0];
echo $arr[1];
foreach($arr as $var) {
  echo $var;
  echo "\n";
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T03:43:50.003

在 HTML 中，浏览器不显示`\n`换行符。如果您查看源代码，您将看到它们显示出来。您可以将它们转换为`<br>`使用[PHP 函数，或通过](http://php.net/manual/en/function.nl2br.php)[以下`nl2br`](http://php.net/manual/en/function.nl2br.php)方式更改您的脚本：

```
<?php
$arr = array("ghazal","shayari","silence","hayaat");
echo $arr[0];
echo $arr[1];
foreach($arr as $var) {
  echo $var;
  echo "\n";
} 
```

对此：

```
<?php
$arr = array("ghazal","shayari","silence","hayaat");
echo $arr[0];
echo $arr[1];
foreach($arr as $var) {
  echo $var;
  echo "<br>";
} 
```

如果这对您不起作用，您可以随时使用[`pre`HTML 标签](https://developer.mozilla.org/en-US/docs/HTML/Element/pre)。`pre`标签保留换行符，`\n`并使它们可见。

如果这有帮助，请通过单击此问题旁边的复选标记将此答案标记为正确。

谢谢。:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T03:46:57.153

HTML 以相同的方式处理任意数量的所有空白字符。

也就是说，以下内容将在浏览器中呈现为单个空间：

```
echo "\n";
echo "\t";
echo "         ";
echo "  \n\n\n  "; 
```

为了在 HTML 中呈现实际的*断链*，您需要在`<br>`文档中插入一个元素。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T03:50:04.990

大概您的 PHP 脚本正在生成在 Web 浏览器中查看的 HTML。而且，正如我们所知，HTML 中无关的空白不会在屏幕上呈现。

生成纯文本 ( `header("Content-type: text/plain")`) 或输出，而不是*在 HTML*`'\n'`中呈现换行符的内容（例如）。*`<br />`*

 ** * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T03:41:06.560

这应该工作

```
foreach($arr as $var) {
  echo $var;
  echo "<br />";
} 
```

因为在您的 HTML 部分`<br />`中为换行符工作，`\n`当您从浏览器一侧看到 HTML 的源代码时，您也可以工作，它会向您显示换行符

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T03:42:42.520

因为换行符在 HTML 中使用`<br />`. 改为这样做。

```
foreach($arr as $var) {
    echo $var, '<br />';
} 
```

另一种方法是将输出包装在 中`<pre></pre>`，它会像您当前正在做的那样评估空格和换行符。*

# amazon-web-services - Amazon S3 和 Amazon EC2 实例有什么区别？

> ID：14392013
> 
> 赞同：149
> 
> 时间：2013-01-18T03:39:44.390
> 
> 标签：amazon-web-services

我需要使用 php mysql 和 html 创建一个 Web 应用程序。请求和数据的数量将非常高。我需要亚马逊服务器空间。

我阅读了亚马逊的文档，发现 S3 是一个提供简单 Web 服务接口的存储。EC2 是一种 Web 服务，可在云中提供可调整大小的计算容量。

我可以购买 S3 并运行 php 并查询我的数据库吗？

请告诉我 Amazon S3 和 Amazon Ec2 实例之间的区别。

* * *

## 回答 #1

> 赞同：212
> 
> 时间：2013-01-18T04:28:39.223

EC2 实例就像一台运行 Windows 或 Linux 的远程计算机，您可以在其上安装所需的任何软件，包括运行 PHP 代码的 Web 服务器和数据库服务器。

Amazon S3 只是一种存储服务，通常用于存储大型二进制文件。亚马逊还拥有其他存储和数据库服务，例如用于关系数据库的 RDS 和用于 NoSQL 的 DynamoDB。

* * *

## 回答 #2

> 赞同：36
> 
> 时间：2017-11-26T07:40:18.363

**亚马逊 EC2**

它只是一种托管在 AWS 数据中心某处的普通计算机。并且，作为其中的一部分，它具有硬盘驱动器或本地存储。而且，从某种意义上说，任何想要长期存储的东西都不想存储在 EC2 实例的硬盘驱动器上，这不是永久性的，因为在添加服务器时容易进行扩展和缩减，副-反之亦然（保持弹性属性）。而且，您不希望将想要永久保存在本地存储中的东西保存在本地存储中，因为当您添加或删除实例时，您可能会丢失该信息或丢失该数据。EC2 旨在将您的应用程序部署在服务器上（使用其处理能力），该服务器分别通过 S3 和 RDS 提供内容。因此，*Amazon EC2 适用于任何类型的**处理**活动。*

**亚马逊 S3**

以 Netflix 为例，他们实际上存储了数百万个为其内容提供支持的物理视频文件。必须有这些视频文件和这些存储的多个版本。这就是 S3 发挥作用的地方。Amazon S3 是 AWS 的存储平台。特称大容量无限存储桶（上限很高）。因此，S3 是存储文档、电影、音乐、应用程序、图片以及您想要存储的任何内容的理想场所，只需转储到 S3 上即可。而且，这将是您放在那里的文件的多个冗余和备份。因此，您将始终拥有决定存储在 S3 上的任何文件的高可用性。

**S3的用途：**

1.  大容量存储容器
2.  长期储存

因此，作为一个完整的故障安全系统，Amazon S3 是您想要长期保存的任何东西的理想场所，它有大量冗余，而且它非常棒，因为它基本上是无限的存储空间。因此，Amazon S3 是 Netflix 存储他们必须存储的数千 PB 视频文件的地方。因此，*Amazon S3 是**海量存储**桶。*

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2013-01-18T05:04:11.767

Ec2 实例足以运行服务器，S3 存储不需要运行服务器，它仅用于存储您的资源，也可以存储在您的 ec2 实例中。

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2014-01-31T20:44:15.590

尽管您的标题表明您在询问 Amazon S3 和 Amazon EC2 实例之间的区别，但在帖子中您说您想使用它来为您的客户/用户提供服务，所以我会指出，如果您想要一个 CDN（内容交付网络），那么***Amazon S3**不是真正的 CDN*。S3 专为内容存储而设计。用于内容交付的正确 Amazon 服务是[**Amazon CloudFront**](http://aws.amazon.com/cloudfront/)。休息一下，你的标题的答案已经被问到了。可能会在将来帮助某人。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-05-16T11:17:54.393

所以我的理解是EC2提供了一个完整的虚拟机，我们可以用它来安装任何东西。无论是巨大的物理文件还是部署您的 .Net/PHP 代码。但是与 S3 相比，EC2 的成本非常高。

S3 可用于存储巨大的物理文件并部署您的静态网站。并且与 S3 相关的成本非常低。所以我们应该将我们的物理文件存储在 S3 存储桶上，并将我们的代码部署在 EC2 实例上

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2018-07-20T18:37:38.960

EC2 使用 EBS，它是基于块的存储，如 linux/windows 文件系统 <<--这是运行服务器服务（php、apache、mySQL 等）所必需的。这可能是短暂的，因此您可以通过重新启动或持久丢失数据，您必须指定持久。

S3 使用对象存储 - blob - Binary Large OBject 文件系统，类似于平面数据库，存储在对象级别。这通常用于任何场景中的任何类型的静态文件。不能用于在 EC2 实例上运行服务。

# jquery - 如何将 Jquery .prevAll() 与 .prependTo() 一起使用？

> ID：14392015
> 
> 赞同：0
> 
> 时间：2013-01-18T03:40:14.263
> 
> 标签：jquery

我试过这个：

```
$('li.jplayer_playlist_current').prevAll().prependTo($('#jplayer_playlist ol')); 
```

没有运气，知道做错了什么吗？

在 Jquery 上，他们展示了这一点：

```
$('li.third-item').prevAll().css('background-color', 'red'); 
```

HTML 代码：

```
<div id="jplayer_playlist">
    <ol>
        <li>One</li>
        <li>Two</li>
        <li>Three</li>
        <li class="jplayer_playlist_current">Four</li>
        <li>Five</li>
    </ol>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T03:53:07.003

您的代码完全按照应有的方式工作。它正在删除所有这些列表项，然后将它们重新插入完全相同的位置！

* * *

如果您想要让它们位于*末尾*，请`ol`使用[`appendTo`](http://api.jquery.com/appendTo/)：

```
$('.jplayer_playlist_current').prevAll().appendTo('#jplayer_playlist ol'); 
```

# php - mysql_fetch_array()：提供的参数不是有效的 MySQL 结果资源（在简单查询中）

> ID：14392016
> 
> 赞同：0
> 
> 时间：2013-01-18T03:40:19.480
> 
> 标签：php, mysql, sql

我正准备把头发拉出来，我不明白为什么这会给我一个错误，我做所有其他这样的 SQL 查询都没有一个问题。我在这里想念什么？

```
<?php
require_once('config.php');
$con = mysql_connect(DB_HOST, DB_USER, DB_PASSWORD);
mysql_select_db("tpeoria_main", $con);
$result = mysql_query("SELECT * FROM message WHERE to=1");
while($row = mysql_fetch_array($result)){
echo "<tr><td>".$row['from']."</td><td>".$row['body']."</td></tr>";
}
mysql_close($con);
?> 
```

![结构](../Images/dfbfb26f31b1081461f8ef34611e8f35.png)

![数据库](../Images/4caf257259b47c4a64a2133c8b95e0e4.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T03:42:12.203

`to`是一个[保留字](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html)。

您需要将其包含在刻度线中。

```
WHERE `to` = ... 
```

您还需要停止使用`mysql_`函数。它们不再被维护[并被正式弃用](https://wiki.php.net/rfc/mysql_deprecation)。看到[**红框**](http://j.mp/Te9zIL)了吗？改为了解[*准备好的语句*](http://j.mp/T9hLWi)，并使用[PDO](http://php.net/pdo)或[MySQLi](http://php.net/mysqli) -[本文](http://j.mp/QEx8IB)将帮助您决定使用哪个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T03:47:11.927

前面是对的。ADO 绝对是首选，但在回答您的问题时，您需要使用“_fetch_row()”而不是“_fetch_array()”。当您调用“_fetch_array()”时，只有一个结果，并且在您的循环中没有可以迭代的内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T04:53:18.763

问题出在这里 "$result = mysql_query("SELECT * FROM message WHERE **to=1** ");".. 你不能像这样使用保留字.. 对这种类型的保留字使用引号.. 像 'to '。有关mysql 中的其他保留字，请参阅链接[http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html)

# azure - 使用 Azure Connect，我可以从辅助角色访问本地文件共享和打印机吗？

> ID：14392020
> 
> 赞同：1
> 
> 时间：2013-01-18T03:41:02.423
> 
> 标签：azure, azure-connect

我正在试验 Azure Connect。我希望能够将一些文件从工作角色推送到本地服务器。我还想为一些批处理作业打印到一些网络打印机。从我读过的内容来看，我认为这应该是可能的。我一直在关注[本教程](http://msdn.microsoft.com/en-us/library/gg508836.aspx)的基础知识，但希望获得针对这两个用例的任何教程或帖子的指针。

我也很好奇是否有人知道 Azure Connect 是否以及何时停止预览/CTP 并公开提供。

谢谢

**更新** 这是我用作 POC 的代码，用于生成一个虚拟文件并将其从 MVC Web 角色复制到我的本地。我最初遇到了路径错误（错误：System.IO.IOException：找不到网络路径。）我通过不使用我的本地框的完全限定名称来修复它，而是使用短名称代替添加本文中描述[的](http://blogs.msdn.com/b/windows_azure_connect_team_blog/archive/2011/01/20/windows-azure-connect-use-case-enable-file-share-on-windows-azure-vm.aspx)防火墙规则。

```
public class TestController : Controller
{
    public ActionResult SaveFile()
    {
        return View();
    }

    [DllImport("advapi32.dll", SetLastError = true)]
    public static extern bool LogonUser(
        string lpszUsername,
        string lpszDomain,
        string lpszPassword,
        int dwLogonType,
        int dwLogonProvider,
        out IntPtr phToken
        );

    [HttpPost]
    public ActionResult SaveFile(FormCollection collection)
    {
        try
        {
            string nowString = DateTime.UtcNow.ToString("yyyyMMdd HHmmss");

            string path = @"\\fullyqualifiedservername\e$\FileShare\";
            path = Path.Combine(path, string.Format("{0}.txt", nowString));

            IntPtr userHandle = IntPtr.Zero;
            bool loggedOn = LogonUser("myusername", "mydomain", "mypassword", 9, 0, out userHandle);

            if (loggedOn)
            {
                WindowsImpersonationContext context = WindowsIdentity.Impersonate(userHandle);
                System.IO.FileInfo f = new FileInfo(path);
                using (FileStream fs = f.OpenWrite())
                {
                    byte[] b = System.Text.Encoding.Unicode.GetBytes(string.Format("Fake content written at {0}", nowString));
                    fs.Write(b, 0, b.Length);
                }
                context.Undo();

            }

            return RedirectToAction("SaveFile");
        }
        catch(Exception ex)
        {
            ViewBag.Error = ex.ToString();
            return View();
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:22:23.403

Windows Azure Connect 适合您的情况。但是，它已经预览了很长时间（如果我没记错的话，将近 2 年）。没有人可以让您知道它是否/何时会成为 GA（通用可用性）。

您当然可以试验和构建 PoC（概念证明）。它相当容易使用。除了您所引用的文章之外，您真的不需要任何其他东西。Windows Azure Connect 目前没有更多内容。

但是，我不会将其用于生产，因为它是预览版并且没有 SLA，并且服务可能会在任何给定时间点下降。

另一个前景肯定更光明的替代方案是 Windows Azure 虚拟网络。然而，它需要一个支持 IPSEC 协议的真正的硬件路由器/防火墙设备。最便宜的受支持设备是 CISCO ASA 5505。您还需要提供（在我们这边管理）功能齐全的 DNS 服务器。您可以从以下文章中了解有关 Windows Azure VN 的更多信息：[创建虚拟网络](http://www.windowsazure.com/en-us/manage/services/networking/create-a-virtual-network/)和[为跨界连接创建虚拟网络](http://www.windowsazure.com/en-us/manage/services/networking/cross-premises-connectivity/)。

# html - 如何使用 JSTL 变量作为 HTML 链接的名称

> ID：14392027
> 
> 赞同：0
> 
> 时间：2013-01-18T03:41:31.317
> 
> 标签：html, jstl

我的 JSTL 变量没有在`<a> </a>`标签之间被解释。结果，我的页面上没有显示任何链接。${page} 也没有在`<c:param>`标签中被解释。任何的想法？在这种情况下，产生的链接是 /listing.htm?page= 而不是 /list.htm?page=2 之类的东西。

```
<li>
  <a href="<c:url value="/list.htm" >
    <c:param name="page" value="${page}"/></c:url>">
  ${page}
  </a>
</li> 
```

我也尝试过这种方式，但没有任何区别：

```
<li>
  <a href="<c:url value="/listing.htm" >
    <c:param name="page" value="${page}"/></c:url>">
  <c:out value="${page}"/>
  </a>
</li> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T03:57:32.610

我的错，问题不是来自这段代码。在 foreach 中，我给我的变量一个不同的变量名，所以它当然是不可访问的。

我有以下代码：

```
<div class="pagination pagination-centered">
    <ul>        
        <c:forEach begin="${startpage}" end="${endpage}" var="p">
            <li><a href="<c:url value="/list.htm" >
                               <c:param name="page" value="${page}"/>
                             </c:url>"><c:out value="${page}"></c:out>
                </a>
            </li>                       
        </c:forEach>
    </ul>
<div> 
```

# ios - 设备未采用替换企业分发配置文件

> ID：14392033
> 
> 赞同：1
> 
> 时间：2013-01-18T03:42:01.457
> 
> 标签：ios, provisioning-profile, ios-provisioning

在[本文档](http://developer.apple.com/library/ios/#featuredarticles/FA_Wireless_Enterprise_App_Distribution/Introduction/Introduction.html)中，在“内部应用程序 | 提供更新的应用程序”部分中，它指出：

> 对于已经拥有该应用程序的用户，您可能希望确定下一个发布版本的时间，以便它包含新的配置文件。如果没有，您可以只分发新的 .mobileprovision 文件，这样用户就不必再次安装该应用程序。新的配置文件将覆盖应用存档中已有的配置文件。

我们上周尝试了这个，当时我们自己的内部配置文件都过期了（与过期的企业证书相对应）。尽管安装了新的配置文件（并将过期的配置文件留在设备上），我们发现我们的应用程序无法启动。即使在硬重置后设备也拒绝打开应用程序（长时间按住锁定和主页按钮）。

最终，我不得不建议我们的团队安装受影响应用程序的更新，所有这些应用程序都已使用更新的配置文件进行部署。新安装的应用程序成功替换了未打开的应用程序，这对我来说证明了新的配置文件包含相同的捆绑 ID。

最后，我觉得设备拒绝为我的应用程序替换配置文件，我不知道为什么。我的问题是：

1.  在什么情况下设备会接受替换配置文件？

2.  有什么方法可以在配置文件实际过期之前测试替换是否成功？

3.  对于用户是否必须在旧配置文件过期之前或之后安装新的配置文件有任何限制吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:55:04.193

这很简单：

> 当您的分发证书过期时，该应用程序将不会启动。您的分发证书自颁发之日起三年内有效，或直到您的企业开发人员计划成员资格到期为止，以先到者为准。为防止您的证书提前到期，请务必在会员资格到期前更新您的会员资格。有关如何检查分发证书的信息，请参阅证书验证。

**1\. 在什么情况下设备会接受替换配置文件？**

我不确定确切的要求是什么，但拥有相同的捆绑种子/ID 和应用程序签名的证书就足够了（我认为配置文件名称并不重要）。

文档说您可以使用两个具有重叠有效性的分发证书；这应该意味着您可以将它们都添加到配置文件中并开始使用新证书签署应用程序，同时允许旧版本运行直到旧证书过期。

**2\. 有什么方法可以在配置文件实际过期之前测试替换是否成功？**

卸载旧的并尝试启动该应用程序。您也可以在手机上设置日期。

**3\. 用户是否必须在旧配置文件过期之前或之后安装新的配置文件？**

从来没听说过。

以前的操作系统版本（我认为迟到 iOS 5）会采用第一个“匹配”可执行文件的已安装配置文件（可能通过比较捆绑种子/ID/证书？）并且如果配置文件不再有效则失败，所以有时你必须删除过期的配置文件才能获取新的配置文件。我最近没有看到这种故障模式；它可能已被修复。

# smalltalk - 在 Pharo smalltalk 中通过 SMTPClient 发送电子邮件时出错

> ID：14392034
> 
> 赞同：2
> 
> 时间：2013-01-18T03:42:08.803
> 
> 标签：smalltalk, pharo

```
 | message sender recipients |
  message := 'From: Me <myemail@gmail.com>
  To: You <otheremail@gmail.com>
   Subject: Simple Mail from pharo

    This is a test mail'.
  sender := 'myemail@gmail.com'.
  recipients := #('your@gmail.com').
SMTPClient
deliverMailFrom: sender
to: recipients
text: message
usingServer: 'smtp.gmail.com' 
```

这段代码给了我一个 Telnetprotocol 错误。

我厌倦了 ZdcSecureSMTPClient 类它工作正常。

所以我的问题是我可以在不使用密码的情况下发送电子邮件，因为 ZdcSecureSMTPClient 使用密码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T15:43:41.430

不登录就不能通过谷歌的服务器发送。实际上，我不认为你可以通过 SSL 发送纯文本。

# python - 使用 Nginx + Sqlite3 在 Centos 6.3 64bit 上的 OSQA

> ID：14392043
> 
> 赞同：1
> 
> 时间：2013-01-18T03:43:26.837
> 
> 标签：python, sqlite, nginx, vhosts, osqa

我尝试使用 Centos 6.3 和 Nginx 在我的服务器上安装 OSQA。我使用虚拟主机将 3 个域停放在该服务器上。我尝试按照本指南安装 OSQA： http: [//fartersoft.com/blog/2011/02/11/running-osqa-with-nginx-and-uwsgi-virtualhosting-mode-with-dynamicapps/](http://fartersoft.com/blog/2011/02/11/running-osqa-with-nginx-and-uwsgi-virtualhosting-mode-with-dynamicapps/)

它显示 500 错误。

1.  安装 uwsgi 时我有一个配置文件
2.  我找不到 /etc/nginx/sites-enabled 文件夹

我尝试了任何方法来安装它，但无法使其工作。

# mysql - 如何使用 2 个或更多 3 个表的存储过程？

> ID：14392047
> 
> 赞同：-3
> 
> 时间：2013-01-18T03:43:50.437
> 
> 标签：mysql, stored-procedures

我这里有 3 张桌子：

```
Tapes                                 

TapesID   Title    Qty
T1      BatDog     3
T2      UnderCat   2
T3      IronMouse  1
T4      Boys Zone  1
T5      RoboCat    1

Borrow_Details

BTransID    TSpecID Qty
BT1111      TS1     1
BT1111      TS2     1
BT1111      TS3     1
BT1112      TS1     1
BT1113      TS4     1
BT1113      TS5     1
BT1114      TS1     1
BT1114      TS6     1
BT1115      TS7     1

Tape_Specific_ID

TapesID TSpecID
     T1 TS1
     T1 TS2
     T1 TS3
     T2 TS4
     T2 TS5
     T3 TS6
     T4 TS7
     T5 TS8
     T5 TS9 
```

1.  如何创建显示磁带标题和特定磁带被借用次数的存储过程。该过程的输入只是特定的ID。程序的名称应该是 list_title_ntimes

我的代码，但没有。1：

```
DELIMITER $$

CREATE PROCEDURE list_title_ntimes (IN my_id VARCHAR(5))
BEGIN

 SELECT Title FROM Tapes AND TSpecID from Tapes_SPecID WHERE ID = my_id;

END $$
DELIMITER ; 
```

但这不起作用..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T03:54:19.307

> “ *...显示磁带的标题和特定磁带被借用的次数。程序的输入只是特定的 id。* ”

这是示例程序：

```
DELIMITER $$
CREATE PROCEDURE list_title_ntimes (IN my_id VARCHAR(5))
BEGIN
    SELECT  a.Title, COUNT(*) totalCountBorrowed
    FROM    Tapes a
            LEFT JOIN   Tape_Specific_ID b
                ON a.TapesID = b.TapesID 
    WHERE   a.TapesID = my_id;
END $$
DELIMITER ; 
```

如果您想在不指定的情况下获取所有内容`ID`，

```
DELIMITER $$
CREATE PROCEDURE list_title_ntimes ()
BEGIN
    SELECT  a.Title, COUNT(*) totalCountBorrowed
    FROM    Tapes a
            LEFT JOIN   Tape_Specific_ID b
                ON a.TapesID = b.TapesID 
    GROUP BY a.Title;
END $$
DELIMITER ; 
```

# real-time - 什么定义了实时/近实时系统？

> ID：14392050
> 
> 赞同：2
> 
> 时间：2013-01-18T03:44:50.563
> 
> 标签：real-time, requirements

是否存在系统应满足的特定指标才能被视为/分类为实时 Web 应用程序或近实时 Web 应用程序？

当我看到我正在使用的系统的非功能性需求时，该解决方案应实时/近乎实时地返回数据。我了解这些术语的定义（如[http://en.wikipedia.org/wiki/Near_real-time](http://en.wikipedia.org/wiki/Near_real-time)所示），但我想知道是否有类似应用程序 UI 的标准（例如：Gnome 建议 [http： //developer.gnome.org/hig-book/3.5/feedback-response-times.html.en](http://developer.gnome.org/hig-book/3.5/feedback-response-times.html.en) ) 用于在 Web 应用程序中接近实时的期望。

这是另一个问题的变体： [Define realtime on the web for business](https://stackoverflow.com/questions/51135/define-realtime-on-the-web-for-business)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T01:22:40.490

实时计算与性能无关，而是保证事件可以在设定的时间内完成。从 CPU 调度算法到操作系统，一直到正在构建的应用程序，实时要求对整个体系结构都有影响。

实时要求是根据必须完成操作的时间量来指定的。同样，这必须得到保证，当没有达到最后期限时，系统通常会出现故障（这不是预期的）。

另见[什么是“实时”](https://stackoverflow.com/questions/80394/what-constitutes-real-time)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-10-21T01:20:51.097

在高层（非常抽象）：

[http://cs.brown.edu/~ugur/8rulesSigRec.pdf](http://cs.brown.edu/~ugur/8rulesSigRec.pdf)

在底层，基本上是指（无论是硬件还是软件）：

一种。无缓存：软件缓存、硬件缓存等。

湾。没有指令流水线：这仅仅是因为在每个分支点可能必须丢弃大量执行的指令，从而导致不确定性。

C。没有异步机制（例如，中断）。尽可能使用轮询。这是因为在中断机制中，我们不确定事件何时发生。

d。高度基于时钟或时钟触发的机制：这通常意味着在硬件内部分配时钟信号的复杂方式（查找“时钟树合成”）。

e. 我以前用过 LynxOS RTOS。它在处理过程中具有很高的响应性和可预测性。但是如果你看一下它的内部，你会发现它跳过了很多不太可能的事件错误处理——特别是如果它是硬件资源（例如，内存）。所以内存总是被假设是可用的——仅仅因为它在整个设计中的阈值很低——以确保很少达到最大限制。当然，当您将数字推到极限时（例如，产生大量进程），LynxOS 的实时行为就不再表现出来了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T20:17:17.360

在业务需求文档中看到时，应考虑应用程序的技术性质。上下文有助于确定需求是真正[实时的](http://en.wikipedia.org/wiki/Real-time_computing)、[Web 实时的](http://en.wikipedia.org/wiki/Real-time_web)还是接近实时的意思，只要处理允许，无需等待计划/批处理过程（例如，数据的[涓涓细流](http://dssresources.com/papers/features/langseth/langseth02082004.html)而不是每 15 分钟加载一次数据）。

根据 SignalR 的开发人员的说法，这是让[您的服务器端代码实时将内容推送到连接的客户端的能力。](http://signalr.net/)

# java - 继承中的私有方法

> ID：14392051
> 
> 赞同：11
> 
> 时间：2013-01-18T03:44:51.153
> 
> 标签：java, inheritance, private

这是一个有趣的代码片段：

```
public class Superclass {

    public static void main (String[] args){
        Superclass obj = new Subclass();
        obj.doSomething(); #prints "from Superclass"
    }

    private void doSomething(){System.out.println("from Superclass");}
}

class Subclass extends Superclass {

    private void doSomething(){System.out.println("from Subclass");}

} 
```

我知道子类不会继承其父类的私有成员，但在这里 obj 设法调用它不应访问的方法。在编译时 obj 是 Superclass 类型，在运行时是 Subclass 类型。

这可能与对 doSomething() 的调用发生在驱动程序类内部这一事实有关，驱动程序类恰好是它自己的类（以及为什么可以首先调用 doSomething() ）。

所以问题归结为，obj 如何访问其父级的私有成员？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-18T03:55:08.247

私有方法仅适用于所有者。

甚至对主人的孩子、亲戚或朋友也不行。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-01-18T03:47:04.960

你自己回答了。由于私有方法不被继承，超类引用调用它自己的私有方法。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-18T04:01:23.447

它之所以有效，是因为您正在`Superclass`从`Superclass`. 在这种情况下，`Superclass.doSomething`编译器可以使用。

如果您要将超类和子类更改为两个不同的任意类 A 和 B，与包含该`main`方法的类无关，并尝试相同的代码，编译器会抱怨无法访问该方法。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-03-17T20:04:17.193

```
Superclass obj = new Subclass(); 
```

在这一点上，`obj`既是事物，`Subclass`又是`Superclass`对象。您在变量声明中使用的事实`Superclass`只是转换它的问题。

当您这样做时：`obj.doSomething()`，您是在告诉编译器调用 的私有方法`doSomething()`。`obj`因为你是从里面的主要静态方法做的`Superclass`，编译器可以调用它。

如果您使用 main 方法`Subclass`而不是 in 中的方法`Superclass`，您将无法访问该方法，因为正如您所说，它既不是继承的，也不是您定义的一部分`Subclass`。

所以基本上你正确理解了继承。问题与私有方法的可见性有关。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-01-18T03:50:31.047

当您使用此行时：

```
Superclass obj = new Subclass(); 
```

您将 Subclass 转换为 Superclass Object，它仅使用 Superclass 的方法和相同的数据。如果你将它转换回子类，你可以再次使用子类方法，如下所示：

```
((Subclass)obj).doSomething(); #prints "from Subclass" 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2014-10-10T14:56:20.670

由于对象的引用类型`obj`是`SuperClass`，调用 会`doSomething()`尝试访问其`SuperClass`自身定义的私有方法（私有方法不能被覆盖）。正如`doSomething()`在 中可访问的那样`SuperClass`，该`main`方法可以在`doSomething()`不给出任何错误的情况下调用。

希望这可以帮助！:-)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-12-31T21:34:09.903

> 为什么可以首先调用 doSomething() ？

为什么不？是and`obj`的一个实例，并且 as在其中声明并在其中使用，因此您可以访问，您可以尝试重命名您的方法（**例如**: ）并且您仍然可以访问它。`Subclass``Superclass``doSomething()``Superclass``obj``Superclass.doSomething()`**`doAnotherThing()`**

 **> obj 如何访问其父级的私有成员？

私有方法没有父/子，并且 as`obj`也是一种类型`Superclass`，因此它可以访问其中声明的所有私有方法/字段，因为`obj`在此类中使用。如果您不属于`Superclass`或属于具有`Superclass`成员的类（嵌套类），您将失去此访问权限。

**所以呢？**

`SuperClass`的私有方法和私有方法之间没有关系/继承`SubClass`，即使它们具有相同的名称和签名，来自[Java Language Specification, Java SE 8 Edition](https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.3.3)：

> 私有方法和在最终类（第 8.1.1.2 节）中立即声明的所有方法的行为就好像它们是最终的，因为不可能覆盖它们。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-10-12T15:14:26.810

要理解这个问题，您可以将私有方法与超类和子类的成员变量联系起来。

所以我们知道成员变量不会在子类中被覆盖。

例如：

```
Class A{
 int i = 10;
}

Class B extends A{
  int i = 11;
}

Class C extends A {
   int i = 12;
}

A a1 = new B();
print(a1.i) // Will print 10

A a2 = new B();
print(a2.i) // Will print 10 
```

当没有继承引用变量超类时，将考虑类似的方式。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2015-12-31T22:41:30.233

当我们在派生类中定义一个同名的私有方法时，它就成为一个新方法，因为派生类不继承私有成员。

由于私有方法在类外是不可见的，我们永远不能从派生类调用基类私有方法，它会抛出编译错误：

线程“main”java.lang.Error 中的异常：未解决的编译问题：来自 Base 类型的方法 aPrivateMethod() 不可见

我们可以使用向下转换到父类引用来调用派生类私有方法，该方法只能在该派生类中访问。**

# java - JPA entitymanager 同时连接多个模式

> ID：14392055
> 
> 赞同：1
> 
> 时间：2013-01-18T03:45:19.980
> 
> 标签：java, jpa

我有一个从两个不同模式中获取数据的查询，那么，是否可以同时将单个 JPA entitymanger 与两个或多个 oracle 模式连接？如果是 ！怎么办？？？

# java - 将字符串拆分为字符串数组Java

> ID：14392057
> 
> 赞同：2
> 
> 时间：2013-01-18T03:45:56.117
> 
> 标签：java, regex, arrays, string, split

我有一个看起来像这样的字符串

```
The#red#studio#502#4 
```

我需要将它拆分为数组中的 3 个不同的字符串

```
s[0] = "The red studio"
s[1] = "502"
s[2] = "4" 
```

问题是第一个应该只有单词，第二个和第三个应该只有数字......

我试图玩这个`s.split()`方法，但没有运气。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-18T04:11:46.250

```
String s= "The#red#studio#502#4";
String[] array = s.split("#(?=[0-9])");
for(String str : array)
{
  System.out.println(str.replace('#',' '));
} 
```

输出：

```
The red studio  
502  
4 
```

ideone[链接](http://ideone.com/UiOW9G)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:04:25.590

我决定编辑我的 impl，因为我认为 @Srinivas 更优雅。不过，我将留下其余的答案，因为测试仍然有用。它也传递了@Srinivas 的例子。

```
package com.sandbox;

import com.google.common.base.Joiner;
import org.apache.commons.lang.StringUtils;
import org.junit.Test;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Iterator;
import java.util.List;

import static org.junit.Assert.assertEquals;

public class SandboxTest {

    @Test
    public void testQuestionInput() {
        String[] s = makeResult("The#red#studio#502#4");
        assertEquals(s[0], "The red studio");
        assertEquals(s[1], "502");
        assertEquals(s[2], "4");
    }

    @Test
    public void testAdditionalRequirement() {
        String[] s = makeResult("The#red#studio#has#more#words#502#4");
        assertEquals(s[0], "The red studio has more words");
        assertEquals(s[1], "502");
        assertEquals(s[2], "4");
    }

    private String[] makeResult(String input) {
        // impl inside
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:13:38.833

只需尝试：'String s[]= yourString.split("#")' 它将返回字符串数组....

# c# - 为什么在 GridView 中使用 SetEditRow？

> ID：14392058
> 
> 赞同：0
> 
> 时间：2013-01-18T03:45:59.323
> 
> 标签：c#, asp.net, gridview

是否有任何特定原因在 GridView 中使用[SetEditRow方法而不是使用](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.seteditrow.aspx)[EditIndex](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.editindex.aspx)属性设置编辑索引？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:46:36.333

我会使用`SetEditRow`将一行置于编辑模式的方法。`EditIndex`对于获取当前处于编辑模式的索引很有用。它在备注页面中描述的其他情况下也很有用。

# java - 没有片段的滑动菜单

> ID：14392060
> 
> 赞同：2
> 
> 时间：2013-01-18T03:46:09.277
> 
> 标签：java, android, slidingdrawer

是否可以在不使用片段的情况下使用 SlidingMenu（参见[https://github.com/jfeinstein10/SlidingMenu](https://github.com/jfeinstein10/SlidingMenu)）？在我的应用程序中，我使用的是 GreenDroid，并且看到它还不支持 GDFragmentActivities 或任何类似的东西。所以我只是使用以下代码将 SlidingMenu 附加到我的活动的示例：

```
SlidingMenu slide = new SlidingMenu(this );

slide.setMode(SlidingMenu.LEFT);
slide.setTouchModeAbove(SlidingMenu.TOUCHMODE_MARGIN);
slide.setTouchModeBehind(SlidingMenu.TOUCHMODE_FULLSCREEN);
slide.setBehindOffset(150);
slide.setFadeDegree(0.3f);
slide.setShadowWidth(5);
slide.setOnClickListener(this);
slide.attachToActivity(this, SlidingMenu.SLIDING_CONTENT);
slide.setMenu(R.layout.simpleframelayout);
ListView v = (ListView)slide.getMenu().findViewById(R.id.simpleFrameLayoutList);
v.setAdapter(new ArrayAdapter(this,  android.R.layout.simple_list_item_1, new String[]{"Hello"})); 
```

我的问题是，虽然这会使 SlidingMenu 正确显示，但 ListView 将对任何触摸完全没有响应。我想知道是否有任何我可能会丢失的东西，或者事实上我是否确实需要使用片段？

干杯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-30T04:11:40.680

而不是这个

```
(ListView)slide.getMenu().findViewById(R.id.simpleFrameLayoutList); 
```

尝试这个

```
(ListView)findViewById(R.id.simpleFrameLayoutList); 
```

它对我有用

# c# - 使用 Controller.File() 方法挂起 Firefox

> ID：14392064
> 
> 赞同：0
> 
> 时间：2013-01-18T03:46:30.527
> 
> 标签：c#, asp.net-mvc, firefox

我在控制器类上使用内置的 File() 方法来返回一个文件，如下所示：

```
return File(fileByteArray, "application/octet-stream", filename); 
```

在实际页面本身上，下载文件的方式是使用 Html.ActionLink() 生成的简单链接，指向下载文件的具体操作。

这工作正常，用户可以下载文件，但是，在用户关闭 Firefox 打开文件对话框后，蓝色圆形 Firefox 抖动器继续旋转并且永远不会消失！这意味着用户不能在页面上做任何事情，需要通过单击地址栏旁边的重新加载按钮来重新加载页面（因为 F5 键击也被阻止）。

# nhibernate - 如何使用两种不同类型的键引用另一个表

> ID：14392065
> 
> 赞同：2
> 
> 时间：2013-01-18T03:46:38.797
> 
> 标签：nhibernate, fluent-nhibernate, fluent

我有一个具有 int id 的表。我有另一个表引用它，但使用字符串来表示 id 而不是 int 而不使用外键。

在 nhibernate 中，如何将具有 int 键的表引用到具有将其表示为字符串的列的表？

我知道这张桌子很乱，但它是继承的，不能改变。

# wpf - 如何从一组无序点绘制多边形

> ID：14392072
> 
> 赞同：6
> 
> 时间：2013-01-18T03:47:32.733
> 
> 标签：wpf, sorting, draw, polygon

目前，我正在使用凸包算法从一组随机放置的点中获取最外层的点。我的目标是从凸包返回的一组点中绘制一个多边形，但是，当我尝试绘制多边形时，它看起来很奇怪。

![在此处输入图像描述](../Images/c7220d5730f63f7409bdbad059cb61ca.png)

我的问题，如何对点进行排序以便正确绘制多边形？

谢谢。

编辑：

另外，我尝试使用 orderby(...).ThenBy(...) 进行排序，但似乎无法正常工作。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-18T04:04:27.310

您是否尝试过礼品包装算法（[http://en.wikipedia.org/wiki/Gift_wrapping_algorithm](http://en.wikipedia.org/wiki/Gift_wrapping_algorithm)）？这应该以正确的顺序返回点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-12T19:30:47.620

我遇到了一个问题，其中生成了一组随机点，其中一个*包裹*的高程向量需要一个基本轮廓。阅读了@user1149913 提供的链接并找到了一个[*礼品包装*的样本 hull](https://github.com/stschake/meshReader/blob/master/meshMarker/MainWindow.xaml.cs)，以下是我的实现示例：

```
 private static PointCollection CalculateContour (List<Point> points) {
     // locate lower-leftmost point
     int hull = 0;
     int i;
     for (i = 1 ; i < points.Count ; i++) {
        if (ComparePoint(points[i], points[hull])) {
           hull = i;
        }
     }

     // wrap contour
     var outIndices = new int[points.Count];
     int endPt;
     i = 0;
     do {
        outIndices[i++] = hull;
        endPt = 0;
        for (int j = 1 ; j < points.Count ; j++)
           if (hull == endPt || IsLeft(points[hull], points[endPt], points[j]))
              endPt = j;
        hull = endPt;
     } while (endPt != outIndices[0]);

     // build countour points
     var contourPoints = new PointCollection(points.Capacity);
     int results = i;
     for (i = 0 ; i < results ; i++)
        contourPoints.Add(points[outIndices[i]]);
     return contourPoints;
  } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2020-07-17T05:23:56.380

这不是一个完整的解决方案，而是一个正确方向的指南。我最近遇到了一个非常相似的问题，我发现一个带有答案的 reddit 帖子（[https://www.reddit.com/r/DnDBehindTheScreen/comments/8efeta/a_random_star_chart_generator/dxvlsyt/](https://en.wikipedia.org/wiki/Delaunay_triangulation) [）](https://www.reddit.com/r/DnDBehindTheScreen/comments/8efeta/a_random_star_chart_generator/dxvlsyt/)建议使用基本上返回一个在您拥有的数据点内制作所有可能三角形的解决方案。一旦你有了所有可能的三角形，根据定义，你知道不会在任何重叠线上产生，你可以选择你使用哪些线，在所有连接的节点上产生哪个结果。

我在 python 上编写我的解决方案，幸运的是，python 上有很多科学库。我正在研究一个随机的天空图生成器，它可以从这些星星中画出星座。为了获得所有可能的三角形（并绘制它们，只是为了好玩），在进入算法绘制实际星座之前，我所要做的就是：

```
 # 2D array of the coordinates of every star generated randomly before
    points = list(points_dict.keys())

    from scipy.spatial import Delaunay
    tri = Delaunay(points)

    # Draw the debug constellation with the full array of lines
    debug_constellation = Constellation(quadrants = quadrants, name_display_style = config.constellation_name_display_style)
    for star in available_stars:
        debug_constellation.add_star(star)
    for triangle in tri.simplices:
        star_ids = []
        for index in triangle:
            star_ids.append(points_dict[points[index]].id)
        debug_constellation.draw_segment(star_ids, is_closed = True)

    # Code to generate the image follows below 
```

你可以在这里看到完整的实现：[fake_sky_chart_generator/fake_libs/constellation_algorithms/delaunay.py](https://github.com/tonioluna/fake_sky_chart_generator/blob/master/fake_libs/constellation_algorithms/delaunay.py)

这是结果：

[![在此处输入图像描述](../Images/a96916f199be314e9dd48f7049356a8b.png)](https://i.stack.imgur.com/MQAIT.jpg)

# r - 在ggplot2中使用重叠组制作箱线图

> ID：14392074
> 
> 赞同：1
> 
> 时间：2013-01-18T03:47:35.567
> 
> 标签：r, plot, ggplot2, dataframe

样本数据 ( `pindex`) 如下所示：

```
 gene    index   siC siJ Ctarget Jtarget
1   A1BG    0.00000000  0.00574890  -0.015349200    FALSE   FALSE
2   A1CF    0.00000000  0.00000000  0.000000000 FALSE   FALSE
3   A2LD1   2.51692976  -0.88139800 -0.112959000    TRUE    TRUE
4   A2M 0.00000000  0.86064700  0.000000000 FALSE   FALSE
5   A2ML1   0.00000000  1.07844000  0.000000000 FALSE   FALSE
6   A4GALT  0.00000000  0.83358200  0.000000000 FALSE   TRUE
7   AAAS    12.97712855 -0.64036900 0.000000000 TRUE    TRUE
8   AACS    4.69408532  -0.02945270 0.000000000 TRUE    TRUE
9   AADAC   0.00000000  0.00000000  0.000000000 FALSE   FALSE 
```

我的代码是这样的：

```
ggplot(pindex, aes(Ctarget,log10(index+1))) + geom_boxplot(aes(colour=Jtarget)) 
```

这将根据`CTarget`和`Jtarget`列绘制箱线图。 ![绘图示例](../Images/1247bb71e88765e0b8d560ee05680b1e.png)

然而，这个情节很丑陋，让人迷惑不解。

我想要做的是制作四个箱线图，其组为、`NEITHER Ctarget NOR Jtarget`和（这四个组有重叠）。`Ctarget``Jtarget``Ctarget AND Jtarget`

有人对此有想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:46:11.177

这可能不是最有效或最优雅的方式，但它确实有效。首先，定义一个新的data.frame。每个类别的目标都包含在所有适合它的观察中（因此一些观察出现多次）：

```
> pindex2 <- rbind(data.frame(index=pindex$index[pindex$Ctarget==TRUE],
    targets="Ctarget"),
  data.frame(index=pindex$index[pindex$Ctarget==TRUE & pindex$Jtarget==TRUE],
    targets="Ctarget AND Jtarget"),
  data.frame(index=pindex$index[pindex$Ctarget==FALSE & pindex$Jtarget==FALSE],
    targets="NOT Ctarget OR Jtarget"),
  data.frame(index=pindex$index[pindex$Jtarget==TRUE],
    targets="Jtarget")) 
```

然后情节很简单：

```
ggplot(pindex2,aes(x=targets,y=log10(index+1))) + geom_boxplot() 
```

根据您提供的几行，它看起来像这样：

![在此处输入图像描述](../Images/7bbd1626f1739e618ab714e065f15766.png)

然后你可以随心所欲地玩颜色和诸如此类的东西。

# r - 无法在 R 中创建空向量并追加新元素

> ID：14392075
> 
> 赞同：28
> 
> 时间：2013-01-18T03:47:51.337
> 
> 标签：r

我刚刚开始学习 R 并且遇到了一个让我相当困惑的问题。我的目标是创建一个空向量并向其附加元素。似乎很容易，但我在 stackoverflow 上看到的解决方案似乎不起作用。

以机智，

```
>     a <- numeric()
>     append(a,1)
[1] 1
>     a
numeric(0) 
```

我无法弄清楚我做错了什么。有人想帮助新手吗？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-01-18T03:55:11.793

`append` does something that is somewhat different from what you are thinking. See `?append`.

In particular, note that `append` does not modify its argument. It returns the result.

You want the function `c`:

```
> a <- numeric()
> a <- c(a, 1)
> a
[1] 1 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-18T04:12:40.647

您的`a`向量不是通过引用传递的，因此当它被修改时，您必须将其存储回`a`. 您无法访问`a`并期望它被更新。

您只需将返回值分配给您的向量，就像 Matt 所做的那样：

```
> a <- numeric()
> a <- append(a, 1)
> a
[1] 1 
```

尽管您的使用很好，但马特是对的，这`c()`是更可取的（更少的击键和更多功能） 。`append()`

# javascript - 保持 qTip 工具提示始终可见

> ID：14392077
> 
> 赞同：0
> 
> 时间：2013-01-18T03:47:56.647
> 
> 标签：javascript, jquery, qtip2

我正在使用[qTip2](http://craigsworks.com/projects/qtip2/)来处理我网站上的一些工具提示。我在它适用的页面的模板中有以下代码：

**HTML**

```
<div class="overview"><a href="#"><img class="border-gray" src="src.jpg"></a></div>
<div class="estimate"><a href="#"><img class="border-gray" src="src.jpg"></a></div>
<!-- More HTML similar to above --> 
```

**JS**

```
$('.overview').qtip({
  content: 'Overview',
  position: {
    my: 'bottom center', 
    at: 'top center'
  },
   style: {classes: 'qtip-tipsy'}
});
$('.estimate').qtip({
   content: 'Estimating',
   position: {
     my: 'bottom center', 
  at: 'top center'
  },
   style: {classes: 'qtip-tipsy'}
});
//More JS as above 
```

如果类与页面相关，我希望在各个页面上显示工具提示。IE：`site.com/overview`将具有`overview`始终可见类的工具提示。就像`site.com/estimate`工具提示`estimate`可见一样。

我试图将此代码添加到页面，但它不起作用：

```
$('.overview').qtip({
   hide: false
}); 
```

我所追求的是页面加载时工具提示可见。不需要鼠标悬停等。可见的工具提示将取决于可见的页面。IE: `/overview`=`.overview`工具提示。

我怎样才能做到这一点？

**更新**

以下代码将实现我正在寻找的内容：

```
$('.overview').qtip({
   content: 'Overview',
   position: {
     my: 'bottom center', 
     at: 'top center'
},
  show: {
    ready: true
},
  hide: false,
  style: {classes: 'qtip-tipsy'}
}); 
```

但是，这部分代码位于模板中，无法在页面级别进行编辑：

```
$('.overview').qtip({
  content: 'Overview',
  position: {
    my: 'bottom center', 
    at: 'top center'
  },
   style: {classes: 'qtip-tipsy'}
}); 
```

如果我在上面的代码下面尝试这个它不起作用：

```
$('.overview').qtip({
    show: { ready: true },
    hide: false

}); 
```

如果一个在页面级别不可编辑，我如何将两者结合起来？IE：如果我无法在页面级别编辑代码，如何将`show`and代码添加到上述代码中？`hide`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T03:59:04.937

**SHOWING BY DEFAULT**

```
$('.overview').qtip({
  content: 'Overview',
  position: {
      my: 'bottom center', 
      at: 'top center'
    },
  style: {classes: 'qtip-tipsy'},
  show: { ready: true }
  }); 
```

This is the line you need:

```
show: { ready: true } 
```

Here is the documentation:
gTip: [http://craigsworks.com/projects/qtip/docs/reference/#show](http://craigsworks.com/projects/qtip/docs/reference/#show)
gTip2: [http://craigsworks.com/projects/qtip2/docs/show/#ready](http://craigsworks.com/projects/qtip2/docs/show/#ready)

**SHOWING CONDITIONALLY**

```
<?php
  // Get the url
  $current_url = $_SERVER["HTTP_HOST"] . $_SERVER["REQUEST_URI"];
  // Get the two parts of the url, seperated by: /
  $url_array = explode('/', $current_url);
?>

<script>
  $('.overview').qtip({
    content: 'Overview',
    position: {
      my: 'bottom center', 
      at: 'top center'
    },
    /* Check if the second part of the url is 'overview'
       If it is, add the show ready code */
    <?php if( isset( $url_array[1] ) && $url_array[1] == 'overview' ) : ?>
      show: { ready: true },
    <?php endif; ?>
    style: {classes: 'qtip-tipsy'}
  });
</script> 
```

**SHOWING CONDITIONALLY | ONLY JAVASCRIPT**

```
<script type="text/javascript">
  $(document).ready(function() 
    {
      // Prepare some variables
      var current_url = window.location.host + window.location.pathname;
      var url_array = current_url.split('/');
      // The qtip code
      $('.overview').qtip({
        content: 'Overview',
        position: {
          my: 'bottom center', 
          at: 'top center'
        },
        show: { ready: url_array[1] == overview ? true : false },
        style: {classes: 'qtip-tipsy'}
      });
  });
</script> 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2014-01-06T17:34:58.423

```
 show: {
     ready: true
 },
 hide: {
     event: false
 } 
```

# c++ - 使用 openMP 在多线程 for 循环中创建线程

> ID：14392079
> 
> 赞同：0
> 
> 时间：2013-01-18T03:48:03.630
> 
> 标签：c++, multithreading, openmp

我是 OpenMP 的新手，我无法在每个线程循环迭代中创建线程。我的问题可能听起来很幼稚，请多多包涵。

```
#pragma omp parallel private(a,b) shared(f)
{
     #pragma omp for 
      for(...)
     {
      //some operations
      // I want to parallelize the code in italics along within in the multi threaded for loop
      *int x=func1(a,b);*
      *int val1=validate(x);*
      *int y=func2(a,b);*
      *int val2=validate(y);*
      }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T17:08:02.927

在 for 循环中，所有线程都忙于循环迭代，因此没有资源可以在迭代中并行执行。如果工作平衡良好，您将不会获得任何更好的性能。

如果很难/不可能很好地平衡工作与并行工作。您可以尝试在循环中生成任务，然后执行后续工作。但请注意任务生成的开销。

```
#pragma omp parallel private(a,b) shared(f)
{
     #pragma omp for nowait
      for(...)
     {
      //some operations

      #pragma omp task
      {
      int x=func1(a,b);
      int val1=validate(x);
      }

      #pragma omp task
      {
      int y=func2(a,b);
      int val2=validate(y);
      }

     }

     // wait for all tasks to be finished (implicit at the end of the parallel region (here))
     #pragma omp taskwait      
} 
```

# asp.net - 在 Web 服务器上隐藏文件的路径

> ID：14392083
> 
> 赞同：0
> 
> 时间：2013-01-18T03:49:19.227
> 
> 标签：asp.net, iis-7

我有一个在 iis 上托管文档的网页。当链接到这些文件的例子时说我去

```
www.webpage.com/Documents/testdocuments/innerfolder/1.pdf 
```

我取回文件并在地址栏中显示完整的 url。有没有办法可以浏览

```
www.webpage.com/Documents/testdocuments/innerfolder/1.pdf 
```

，并得到例如

```
www.webpage.com/Webdocs/1.pdf 
```

作为浏览器中的 url。我的理论是

```
www.webpage.com/Documents 
```

一个虚拟目录，但我不确定我是否仍然能够访问我的文件

```
www.webpage.com/Documents/testdocuments/innerfolder/1.pdf 
```

或者如果我不得不使用例如

```
www.webpage.com/Webdocs/testdocuments/innerfolder/1.pdf 
```

这确实违背了目的。我的最终目标是让用户看不到文件的物理路径。

任何想法将不胜感激。

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:10:27.527

由于您只想将一条路径映射到另一条路径，因此您应该使用[IIS url rewriting](http://www.iis.net/learn/extensions/url-rewrite-module/creating-rewrite-rules-for-the-url-rewrite-module)。

```
<rewrite>
  <rules>
    <rule name="Map Docs" stopProcessing="true">
      <match url="^Webdocs/([_0-9a-z-]+)" />
      <action type="Rewrite" url="Documents/testdocuments/innerfolder/{R:1}" />
    </rule>
  </rules>
</rewrite> 
```

另一种选择是[asp.net url routing](http://msdn.microsoft.com/en-us/library/cc668201%28v=vs.100%29.aspx)。但这对于您需要的东西来说太过分了。

# php - 我在哪里散列密码？

> ID：14392085
> 
> 赞同：5
> 
> 时间：2013-01-18T03:49:35.757
> 
> 标签：php, password-encryption

我正在使用 MVC，我想知道在什么时候对用户密码进行哈希处理：

1.  在发送到服务器之前（查看）
2.  在服务器中，当我设置对象字段（模型）
3.  在服务器中，当我将对象发送到控制器（控制器）
4.  在服务器中，当我准备语句时（控制器）
5.  在数据库中，

例如`"set password = sha256(:password)"`在语句中使用

我有点困惑，当我创建对象并设置字段“密码”时，我一直在对密码进行哈希处理，但我在某处读到它不够安全。我不知道。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T04:01:12.897

*   在视图中：这太高了。几乎可以肯定，您的应用程序中会有多个视图使用密码（两个简单的视图：登录表单和密码更改表单），并且在视图中使用密码散列会导致重复。

*   在数据库中：太低了。数据库不应该看到明文密码；在某些情况下，这样做可能会最终通过网络发送明文密码，在错误消息中显示它们，或者将它们写入数据库日志。此外，数据库支持的大多数散列函数太快，无法安全地存储密码。

*   在模型中：恰到好处。我建议在用户对象上实现类似的方法：

    ```
    $user->setPassword($password)    # sets password to specified value
    $user->passwordEquals($password) # returns true if value passed in matches the password 
    ```

    请注意，这些方法都不会公开密码或密码的存储方式——这都是对象的实现细节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:03:16.167

尽快在服务器上散列它。IE。一旦您收到客户的请求。真的，您与原始密码无关。存储哈希，然后忘记它。

根据经验，您应该将密码或密码哈希视为烫手山芋：您希望尽快停止处理它们。

此外，如果服务器进程受到威胁，您不希望敏感信息潜伏在服务器内存中。这就是为什么您应该避免让原始密码在内存中停留太久的原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T12:29:09.057

在表示逻辑使用实体的[领域对象中。](http://c2.com/cgi/wiki?DomainObject)`User`那是在模型层内。

此外，不应认为 SHA256 足够好。应该使用[bcrypt](http://en.wikipedia.org/wiki/Bcrypt)。最好有`crypt()`功能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T03:59:21.130

首先获取该字段中的值。然后应用该`hash`功能。在你的控制器中进行上述操作，然后调用模型存储到数据库中。它会让你有更好的理解。

（我不是专家......很高兴分享我的信息...... :)

# facebook - Facebook SDK window.fbAsyncInit 不在本地主机上触发？上周工作正常

> ID：14392092
> 
> 赞同：1
> 
> 时间：2013-01-18T03:50:13.090
> 
> 标签：facebook, sdk, initialization, facebook-javascript-sdk

Facebook SDK window.fbAsyncInit 不在本地主机上触发？上周工作得很好。

```
<div id="fb-root"></div>
<script>
window.fbAsyncInit = function() {
        console.log("hey");
        // init the FB JS SDK
        FB.init({
          appId      : '***************', // App ID from the App Dashboard
          channelUrl : '//localhost/channel.html', // Channel File 
          status     : true, // check the login status upon init?
          cookie     : true, // set sessions 
          xfbml      : true  // parse XFBML tags on this page?
        });
}
  // Load the SDK's source Asynchronously
  // Note that the debug version is being actively developed and might 
  // contain some type checks that are overly strict. 
  // Please report such bugs using the bugs tool.
  (function(d, debug){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
     ref.parentNode.insertBefore(js, ref);
   }(document, /*debug*/ true));
</script> 
```

“嘿”在加载页面时不会触发

另外我注意到，当我在“Fb.init”中注释掉频道网址时，添加：

```
<script src="//connect.facebook.net/en_US/all.js"></script> 
```

在文件的标题中，“嘿”在第一次加载页面时触发，但在后续尝试时不会触发

更明确地说。这是我控制台中的错误内容：

```
Uncaught SyntaxError: Unexpected token ( connect.facebook.net/en_US/all/debug.js:9237 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:09:18.077

您错过了在 FB.init() 下加载 SDK。

```
(function(d, debug){
 var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
 if (d.getElementById(id)) {return;}
 js = d.createElement('script'); js.id = id; js.async = true;
 js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
 ref.parentNode.insertBefore(js, ref);
}(document, /*debug*/ false));` 
```

[https://developers.facebook.com/docs/reference/javascript/](https://developers.facebook.com/docs/reference/javascript/)

并确保您`App Domains`在[App setting page](https://developers.facebook.com/apps)中进行设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T17:17:05.200

all.js 的调试版本的呈现当前存在一个错误 - 导致您的代码无法正确执行。这将很快得到解决。

# rdf - Protege 4.1 中不一致的 OWL 本体和不良个体

> ID：14392094
> 
> 赞同：1
> 
> 时间：2013-01-18T03:50:20.517
> 
> 标签：rdf, semantics, ontology, owl, protege

**在与Hermit**或我得到的**事实**进行推理之后，我使用**Protege 4.1**关于生物（生物分类）为家庭作业设计了一个**OWL 本体**，但我对 OWL 本体非常陌生，不明白如何解决这些关于不一致和个人。******`inconsistent ontology, bad individuals`******

 ********编辑1**：

* * *

我的**类层次结构**如下所示：

```
Thing
    Plante
    Vietuitoare
        VietuitoareDenumireStiintifica
        Specii
            Vertebrate
                Reptile
                Pesti
                Pasari
                Mamifere
            Nevertebrate
                Moluste
            Interertebrate
                Insecte
        Hrana
            Ierbivor
            Carnivor
            Omnivor
        Deplasare
            Inot
            Taratoare
            Picioare
                Biped
                Patruped
                Poliped
            Aripi
        Habitat
            Acvatic
            Campie
            Padure
            Munte
        PartiAnatomice
            SiraSpinarii
            Aripa
            InvelisExterior
                Cochilie
                Solzi
                Blana
                Pene
        RelatieAsociere
            RelatieCuOm
                Domestice
                Salbatice
            RelatieCuAlteAnimale
                Singuratate
                GrupuriMici
                    Haite
                    Carduri
                GrupuriMari
                    Stoluri
                    Colonii 
```

这些是来自**解释框中****热点**选项卡的**公理**：

 ****```
Carnivor EquivalentTo (Mananca only Vietuitoare) or (Mananca only (faceParteDin some Vietuitoare))

Ierbivor EquivalentTo (Mananca only Plante) or (Mananca only (faceParteDin some Plante)) 
```

* * *

**下面是.owl**文件 的两个链接：

*   skydrive: [http://sdrv.ms/11DdHao](http://sdrv.ms/11DdHao)

*   drive.google: [https://docs.google.com/folder/d/0B4IUN70RC09nelI3MU1jdHhlWEE/edit](https://docs.google.com/folder/d/0B4IUN70RC09nelI3MU1jdHhlWEE/edit)

Thanks in advance, every advice and/or hint are very welcomed!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T10:42:19.903

I'm not sure about the correctness of the following statement:

```
Vietuitoare
    and (areSiraSpinarii exactly 1 Vietuitoare) 
```

Using Protege 4.2 you can explore the reasons for the inconsistency via various forms of explanations (e.g. "laconic"). Maybe this screenshot helps:

![enter image description here](../Images/129e1aaf43eda9fd637d234c465a0110.png)

The guaranteed way to remove any reason for inconsistency if to remove all the individuals from the ontology, e.g. place the individuals into a separate module so that they can be easily plugged in and out. This would not solve your modeling error but would help you to find it faster. Also, are you sure that you want to model the animals as individuals?

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T08:48:51.293

If you use Protege 4.1 you can see the inconsistent individuals and axioms in the *explanation box* (Experimental Protege Explanation Heuristics). The axioms under the tab *Hot spots* are likely to be the one causing problem, so you should revise them first.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T13:29:37.720

Looking at the justifications that Kaarel posted, we can conclude that `Interertebrate` is an empty class, so it cannot have instances.

The reason is the following: an `Interertebrate` is also a `Vietuitoare` (from axiom `Interertebrate SubClassOf Vietuitoare`); `areSiraSpinarii` is Functional, so either an individual has exactly 1 relationship involving property `areSiraSpinarii` or it does not have it at all (i.e., exactly 0). So a `Vietuitoare` is either a `Vertebrate` or a `Nevertebrate`, by virtue of the two axioms `Vietuitoare and (areSiraSpinarii exactly 1 Vietuitoare) SubClassOf Vertebrate` and `Vietuitoare and (areSiraSpinarii exactly 0 Vietuitoare) SubClassOf Nevertebrate`. But both `Vertebrate` and `Nevertebrate` are disjoint from `Interertebrate`. So we are saying that an `Interertebrate` cannot be a `Vertebrate` nor a `Nevertebrate` and at the same time we state that `Interertebrate` must be either a `Vertebrate` or a `Nevertebrate`.

Obviously there must be something wrong out there (but I cannot help, I don't know what the terms mean).**********

# cuda - 如何取消初始化 CUDA？

> ID：14392098
> 
> 赞同：0
> 
> 时间：2013-01-18T03:51:53.057
> 
> 标签：cuda, initialization, gpgpu

当调用第一个 CUDA 运行时函数时，CUDA 会隐式初始化。

我正在计时我的代码的运行时间并通过循环（`for([100 times]) {[Time CUDA code and log]}`）重复 100 次，这还需要考虑每次迭代时 CUDA 的初始化时间。因此，我需要在每次迭代后取消初始化 CUDA - 如何做到这一点？

我试过使用`cudaDeviceReset()`，但似乎没有未初始化的 CUDA。

非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T07:57:48.950

`cudaDeviceReset`是在运行时 API 中*销毁上下文*的规范方式（调用`cudaFree(0)`是创建上下文的规范方式）。这些是正在运行的进程可用的唯一“重新初始化”级别。当进程加载 CUDA 驱动程序和运行时库并连接到内核驱动程序时，还会发生其他*每进程*事件，但我不知道如何以编程方式使这些事件发生，而不是分叉一个新进程。

但我真的怀疑你想要或应该在计算性能指标时考虑这种设置时间。

# ruby - Ruby http 重定向到具有身份验证的不同子域

> ID：14392102
> 
> 赞同：0
> 
> 时间：2013-01-18T03:52:13.130
> 
> 标签：ruby, http

我正在尝试使用 ruby​​ 抓取特定 URL 的源数据。首先，我使用`Net::http.new`创建 http 对象，然后使用`http.post`传递适当的登录数据。这按预期工作并使用适当的会话 cookie 进行响应。

登录后，将会话 cookie 数据添加到标题中，然后我尝试访问我想要抓取的特定页面。服务器以 302 请求响应不同子域上的 aspx URL，并附带一个查询字符串，即。`sub.domain.com/path/blah.aspx?md5=jdj456bnn`. 当我尝试使用与之前使用的相同技术加载该子域时，我遇到了一个未经授权的用户 302。有谁知道加载该重定位的正确方法，或者我在这里可能缺少什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:57:10.650

很可能在重定向期间设置了会话 cookie，但您的代码没有维护它。

“ [net-http-cheat-sheet](https://github.com/augustl/net-http-cheat-sheet) ”可能会展示如何处理它，或者，看看使用[Mechanize](http://mechanize.rubyforge.org)，它将使用 cookie jar 为您[管理它们。](http://mechanize.rubyforge.org/Mechanize/CookieJar.html)

# ruby-on-rails - Foundation 响应式顶部栏切换在 Rails 3.2.8 项目中不起作用

> ID：14392108
> 
> 赞同：1
> 
> 时间：2013-01-18T03:52:55.953
> 
> 标签：ruby-on-rails, navigation, toggle, zurb-foundation

我是一名前端 Web 开发人员，致力于我的第一个严肃的 Rails 项目 (v3.2.8)。我已经使用 gem 成功安装了 Foundation 3.2.0 版。

我在导航切换时遇到问题，它出现在较小的屏幕尺寸上，用于展开和折叠导航链接。当我点击它时，它什么也不做。

（您可以在他们的网站上查看响应式 zurb nav 的文档：http://foundation.zurb.com/docs/navigation.php [）](http://foundation.zurb.com/docs/navigation.php)。

有问题的代码是：

```
<nav class="top-bar">
   <ul>
      <li class="toggle-topbar">
         <a href="#"></a>
      </li>  
   </ul>  
   <section>
      <ul class="right">
         <li class="has-dropdown">
            <%= link_to "#{@user.email} | #{@user.credits_count}", 
               dashboard_path, :class => 'first-link' %>
            <ul class="dropdown">
               <li>
                  <a href="#">Settings<i class="icon-cog"></i></a>
               </li>
               <li>
                  <a href="#">Downloads<i class="icon-cloud-download"></i></a>
               </li>
               <li>
                  <a href="#">Subscription<i class="icon-calendar"></i></a>
               </li>
               <li>
                  <%= link_to 'Purchase Credits <i class="icon-money"></i>' 
                      .html_safe, credits_path %>
               </li>
               <%= render "shared/menu_bar" %>                 
            </ul>
         </li>
      </ul>
   </section>
</nav> 
```

奇怪的是，当我删除时：

```
<ul>
   <li class="toggle-topbar">
      <a href="#"></a>
   </li>  
</ul> 
```

...一切正常，但第一个链接：

```
<%= link_to "#{@user.email} | #{@user.credits_count}", 
             dashboard_path, :class => 'first-link' %> 
```

... 出现两次 - 一次是实际切换箭头的位置，一次是单击它以展开导航链接。

为什么当切换不在代码中时导航会正常工作而在代码中时会出现故障？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-20T01:10:32.897

我在另一个论坛上找到了这个答案。 [https://groups.google.com/forum/#!topic/foundation-framework-/-5F_kQWfNQ4](https://groups.google.com/forum/#!topic/foundation-framework-/-5F_kQWfNQ4)

将以下内容放入 html 中：

```
<script src="http://foundation.zurb.com/public/assets/marketing_docs.js"></script> 
```

至少对我来说，下拉菜单现在有效......

**编辑：从 Foundation 5 开始，marketing_docs 文件不再可用**

我目前正在尝试了解为什么切换不起作用。

# json - 在 JSON.parse 期间在节点中捕获异常

> ID：14392110
> 
> 赞同：44
> 
> 时间：2013-01-18T03:53:00.377
> 
> 标签：json, node.js, parsing, exception-handling

我的节点服务器在无法解析以下行中的 JSON 时死机：

```
var json = JSON.parse(message); 
```

我阅读[了有关如何在节点中捕获异常的线程](https://stackoverflow.com/questions/7310521/node-js-best-practice-exception-handling)，但我仍然不确定在此语句周围包装 try 和 catch 块的正确方法是什么。我的目标是捕获异常并将错误记录到控制台，当然还要让服务器保持活动状态。谢谢你。

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2013-01-18T04:01:02.260

都很好！:-)

`JSON.parse``err`同步运行并且对Node.js 中经常使用的参数一无所知。因此，您的行为非常简单：如果 JSON 解析良好，则`JSON.parse`返回一个对象；如果没有，它会抛出一个你可以用 捕获的异常，`try / catch`就像这样：

```
webSocket.on('message', function (message) {
  var messageObject;

  try {
    messageObject = JSON.parse(message);
  } catch (e) {
    return console.error(e);
  }

  // At this point, messageObject contains your parsed message as an object.
} 
```

就是这样！:-)

# java - StackOverflowError in recursive binary search in file in java

> ID：14392117
> 
> 赞同：0
> 
> 时间：2013-01-18T03:54:13.213
> 
> 标签：java, recursion, stack-overflow, binary-search, random-access

The `filepointer` gets stuck at a point resulting in a `StackOverflowError`. Can you point me to what exactly is wrong here? The error exactly is: `java.lang.StackOverflowError`

I am doing a seek to find the location as record width is not fixed.

Here is the piece of code:

```
private static void binarySearch(RandomAccessFile raf, String searchvalue, Long low, Long high) throws IOException
{
    Long middle = (low + high) / 2;
    Long mreal = null;
    if(low > raf.length() -1 || high > raf.length()-1 || low >= high) {
        System.out.println("Element not found:");   return ;
    }

    StringBuilder sb = new StringBuilder();
    for(long filePointer = middle; filePointer != -1; filePointer--) {
        raf.seek(filePointer);
        int readByte = raf.readByte();
        if(readByte == 0xA) {
            break;
        }

        sb.append((char)readByte);
    }

    String lastLine = sb.reverse().toString();
    System.out.println(lastLine);

    mreal = raf.getFilePointer();
    String str = raf.readLine();
    System.out.println(str);

    String values[] = str.split("\t",-1);
    int compared = searchvalue.compareTo(values[fieldindex]);
    System.out.println(fieldindex);

    if(compared == 0) {
        System.out.println("Value found. The other details:");
        for(int i=0; i < values.length;i++)
        System.out.print("\t" +  values[i]);
        return;
    } else if(compared < 0)
        binarySearch(raf,searchvalue,low,mreal-1);
    else if(compared > 0)
        binarySearch(raf,searchvalue,mreal,high);
} 
```

Stack trace:

Exception in thread "main" java.lang.StackOverflowError

```
>at java.util.regex.Pattern$Node.<init>(Pattern.java:2993)
    >at java.util.regex.Pattern$CharProperty.<init>(Pattern.java:3332)
    >at java.util.regex.Pattern$CharProperty.<init>(Pattern.java:3332)
    >at java.util.regex.Pattern$BmpCharProperty.<init>(Pattern.java:3363)
    >at java.util.regex.Pattern$BmpCharProperty.<init>(Pattern.java:3363)
    >at java.util.regex.Pattern$Single.<init>(Pattern.java:3391)
    >at java.util.regex.Pattern.newSingle(Pattern.java:2951)
    >at java.util.regex.Pattern.atom(Pattern.java:1985)
    >at java.util.regex.Pattern.sequence(Pattern.java:1885)
    >at java.util.regex.Pattern.expr(Pattern.java:1752)
    >at java.util.regex.Pattern.compile(Pattern.java:1460)
    >at java.util.regex.Pattern.<init>(Pattern.java:1133)
    >at java.util.regex.Pattern.compile(Pattern.java:823)
    >at java.lang.String.split(String.java:2292) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:52:22.780

```
else if(compared > 0)
    binarySearch(raf,searchvalue,mreal,high); 
```

那应该是mreal + 1。

此外，递归对于二分搜索来说是多余的......通常循环更快。

罗尔夫

编辑：====

好的，所以它仍然不起作用。这是因为我只说对了一部分。我只看了一会儿代码就发现了问题，但后来我用错误的值修复了它。

而不是添加 1，您应该添加您比较的字符串中的字符数，加上行终止符（如果有的话 - 它可能是最后一行......）。

这整件事告诉我的是，这可能是家庭作业……以及递归练习和二分搜索研究。

不为你做功课，我会花一点时间批评你的代码。

二分查找应该是找到中点，如果中点匹配，则返回，如果大于搜索，则在中点之前搜索，否则在中点之后搜索。

您的代码正在获得中点“正确”和“之前”正确，但它没有搜索“之后”......因为您没有正确计算“之后”部分..您需要在“之后”整个字符串，而不仅仅是在第一个字符之后。修理它。请记住，使用 readLine() 意味着您不知道行终止符（是 '\r\n' 还是只是 '\n'？）。我建议在“中间”点之后使用一个循环，然后自己向前走，直到到达另一个 \n，然后在需要时使用该 (+1) 来计算“之后”搜索的位置。

其他一些评论......

*   不要使用“自动装箱”。使用 long 原语而不是 Long 对象。
*   为什么在变量'filepointer'中已经知道它返回的值时调用getFilePointer()。
*   计算“中间”时，使用低 + 高 >>> 1 .... 它会给您的讲师留下深刻印象，您可以在阅读此内容后说您知道原因：http: [//googleresearch.blogspot.ca/2006/06/ extra-extra-read-all-about-it-nearly.html](http://googleresearch.blogspot.ca/2006/06/extra-extra-read-all-about-it-nearly.html)
*   当你阅读这篇文章时，你会明白为什么在循环中进行二分搜索比在递归中进行更好。
*   如果您*确实*使用递归，则应该将参数设置为“最终”，因为这会在堆栈上留下更小的足迹，并且您可以“更深”。
*   如果你*确实*使用递归，那么你应该最小化你在你的方法中创建的对象......比如 StringBuilders......

罗尔夫

# java - Tring to connect using HTTPS: Server redirected too many times

> ID：14392120
> 
> 赞同：0
> 
> 时间：2013-01-18T03:54:24.550
> 
> 标签：java, https

I am trying to connect to a secured connection URL (https://example.com ) using a Java program to check availability of the site. Generally, I connect to [https://example.com](https://example.com) in browser by disabling proxy settings. Also, we have installed certificates in trusted root certificates. I have added these certificates to Java Keystore successfully.

```
 import java.net.URL;
    import java.net.URLConnection;
    import java.security.Security.*;
    import com.sun.net.ssl.*;
    import com.sun.*; 

    import javax.net.ssl.HttpsURLConnection;
    import java.security.cert.Certificate;
    import java.io.*;
    import javax.net.ssl.SSLPeerUnverifiedException;
    import org.omg.CORBA_2_3.portable.InputStream;

    public class TestConn {
    public static void main(String args [])
    {
        try{
                 URL hp = new URL("https://example.com");
                HttpsURLConnection hpCon = (HttpsURLConnection)hp.openConnection();

        boolean isProxy = hpCon.usingProxy();
        System.out.println("is using proxy " + isProxy);
        InputStream obj = (InputStream) hpCon.getInputStream();
        while(obj.read()!=-1){
            System.out.println(obj.read_char());

        }
                System.out.println("content >> " + obj.toString());
        }catch (Exception ex){
            ex.printStackTrace();
        }
    }
    } 
```

I have encountered the following error:

```
java.net.ProtocolException: Server redirected too many  times (20)
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)
    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(Unknown Source)
    at TestConn.main(TestConn.java:28) 
```

Can anyone please help me regarding this exception?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:37:10.083

如果您想检查站点的可用性，您应该使用`hpCon.getResponseCode();`. 响应代码`200`表示该站点可用。坦率地说，我不知道你的进一步目的。这是修改后的代码，肯定得到了输出内容。

```
import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.URL;
import javax.net.ssl.HttpsURLConnection;

public class Test {
public static void main(String[] args) {

    try {
        URL hp = new URL("https://godaddy.com");
        HttpsURLConnection hpCon = (HttpsURLConnection) hp.openConnection();

        boolean isProxy = hpCon.usingProxy();
        System.out.println("is using proxy " + isProxy);
        InputStream obj = hpCon.getInputStream();
        BufferedReader br = new BufferedReader(new InputStreamReader(obj));

        String s;
        while ((s = br.readLine()) != null) {
            System.out.println("content >>" + s);
        }

    } catch (Exception ex) {
        ex.printStackTrace();
    }
}
} 
```

# python - django tacking back model id?

> ID：14392121
> 
> 赞同：0
> 
> 时间：2013-01-18T03:54:24.740
> 
> 标签：python, django

I have the following list of ids

*   1
*   2
*   3
*   4

If I delete id 2 and then I insert a new value, it takes id 5\.
Is it possible to re-assign automatically id 2?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:35:43.113

Django 中模型的主键通常由数据库层处理的自动递增字段表示。例如，在 MySQL 中，[AUTO_INCREMENT](http://dev.mysql.com/doc/refman/5.0/en/example-auto-increment.html)选项将被添加到主键中。

这为数据库层为每条记录分配唯一的 id 提供了一种有效的方法。如果不对 Django 进行重大更改，就不可能让它*不*使用 AUTO_INCREMENT 类型。

相反，您可能需要添加一个受您控制的字段，您手动确保该字段不包含任何间隙。从 django.db 导入模型

```
class MyModel(models.Model):
    my_id = models.IntegerField(unique=True) 
```

然后，您可以`my_id`在保存代表您的不包含间隙的序列之前为其分配一个值。找到下一个`my_id`应该插入的内容可能并非易事，并且可能不容易通过 Django ORM 有效地完成。请参阅[如何在 mysql 中查找顺序编号中的空白？](https://stackoverflow.com/q/4340793/302243)一些想法。

重新编号原始 id 可能会出现问题，尤其是对于创建引用原始 id 的任何数据。

# excel - How do I populate a combo box from a column in my excel spread sheet?

> ID：14392122
> 
> 赞同：2
> 
> 时间：2013-01-18T03:54:27.113
> 
> 标签：excel, combobox, spreadsheet, vba

I have two excel spreadsheets, one has a combobox, the other one has a list of department names. I need to populate the combobox with the department names. How do I acheive this.

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-18T04:24:01.993

这是一个VBA代码：

```
Dim vArr as Variant
Dim i as Integer
vArr = WorksheetFunction.Transpose(Sheets(2).Range("A2:A10").value)
With Sheets(1).OLEObjects("ComboBox1").Object
     .Clear
     For i = Lbound(vArr) to Ubound(vArr)
        .AddItem vArr(i)
     Next i
End With 
```

这是加载组合框的最简单方法，因为您的部门范围不会为空...

```
Private Sub Workbook_Open()
    Sheets(1).ComboBox1.List = Sheets(2).Range("A2:A10").Value
End Sub 
```

或在 Sheet1 中：

```
Private Sub Worksheet_Activate()
    ComboBox1.List = Sheets(2).Range("A2:A10").Value
End Sub 
```

# php - Collection Datastructure in PHP

> ID：14392124
> 
> 赞同：1
> 
> 时间：2013-01-18T03:54:50.540
> 
> 标签：php, arrays, codeigniter, collections

Is there a `Collection` `DataStructure` available in `PHP` with `API` to add elements dynamically ?

Is `array` suitable for this?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:23:39.133

PHP SPL 提供了相当多的数据结构以及可能[满足](http://php.net/manual/en/class.arrayobject.php)您大部分需求的[ArrayObject](http://php.net/manual/en/spl.datastructures.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:13:58.957

PHP 是动态类型的，因此数组应该足够灵活，可以满足您的需要。您可以使用它们来表示堆栈、队列、哈希表、列表等。

# mysql - How to select all columns in sql except one column?

> ID：14392126
> 
> 赞同：11
> 
> 时间：2013-01-18T03:55:01.073
> 
> 标签：mysql, sql, sql-server

> **Possible Duplicate:**
> [SQL exclude a column using SELECT * [except columnA] FROM tableA?](https://stackoverflow.com/questions/729197/sql-exclude-a-column-using-select-except-columna-from-tablea)

Is selecting all columns except one column possible??

here is all column names: id, name, address, age

```
SELECT id, name, address from TBLUser 
```

I don't want to use this select statement because the number of columns of my tables are different to each other.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T04:28:48.463

```
declare @cols varchar(max), @sql varchar(max)
SELECT  @cols = STUFF
    (
        ( 
            SELECT DISTINCT '], [' + name
            FROM sys.columns
            where object_id = (
                select top 1 object_id from sys.objects
                where name = 'TBLUser'
            )
            and name not in ('age')
            FOR XML PATH('')
        ), 1, 2, ''
    ) + ']'
select @sql = 'select ' + @cols + ' from TBLUser'  
exec (@sql) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T04:03:56.217

怎么样：

```
SELECT * FROM sys.columns 
WHERE Name <> N'Column To Exclude' and Object_ID = Object_ID(N'TBLUser') 
```

这将返回除您要排除的列之外的所有列。

扩展解释：

根据 SQL [Cheat Sheet的这个解释](https://www.sisense.com/blog/sql-cheat-sheet-retrieving-column-description-sql-server/)

**sys.columns**是一个系统表，用于维护数据库中列的信息。对于数据库中添加的每一列，都会在 sys.columns 表中创建一条记录。每列只有一条记录

**名称**：列的名称。这在表对象中是唯一的。

**Object_id** :object_id 是该列所在表的唯一标识符。我们将使用此列将 sys.columns 与 sys.tables 连接起来，以便获取不同表中的列。

我们从 sys.columns 中选择名称与您提供的名称不相等的所有结果，替换`'Column To Exclude'`为您的列名。我们还要求 object_id 等于您提供的 object_id。object_id 是一个数字，表示您要从中过滤出一列的表。在这种操作情况下，表是 TBLUser，在其他用途​​中它会像这样`object_id(N'[dbo].[YourTable]')`，您可以`[YourTable]`用自己的表名替换

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T04:23:42.880

在 sql*plus 中，

一种方法是禁用如下：

```
sql> column age noprint
sql> SELECT * from TBLUser 
```

然后，您可以使用

```
sql>column age off 
```

否则您必须使用 DBMS_SQL 包动态用户。

# c++ - Is there any difference between push_back() and resize(size()+1)

> ID：14392130
> 
> 赞同：7
> 
> 时间：2013-01-18T03:55:18.590
> 
> 标签：c++, stdvector

A standard vector can be expanded to hold one more member by doing either:

```
std::vector<int> v;
v.push_back(1); 
```

or

```
int os = v.size();
v.resize(os+1);
v[os] = 1; 
```

Apart from the terseness of the code using push_back(), are there any other differences? For example, is one more efficient than the other, or is the extra memory assigned differently in each case?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-18T04:01:18.560

`push_back`将就地构造，这意味着它调用复制构造函数。

`resize`将调用默认构造函数，然后`v[os]`将调用赋值运算符。

使用`push_back`.

* * *

正如 Lightness 所说，两种情况下的分配都是等价的。有关更多详细信息，请参阅他的答案。

这是一个例子：[http ://stacked-crooked.com/view?id=43766666e5c72d282bd94c05e43e8897](http://stacked-crooked.com/view?id=43766666e5c72d282bd94c05e43e8897)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-18T04:06:04.343

### 内存扩展

> 但是它们是否以相同的方式扩展内存？

它没有在 C++11 中明确指定（我检查过），但是**是**的。

`resize`在这种情况下被定义为“附加到容器”，唯一的逻辑解释使其等同于分配`insert`并`push_back`就分配而言。

容器实现的后端通常在其内存块扩展的所有情况下分配“超过它需要的” - 这是由标准*不禁止它*而不是标准强制它完成的，并且没有任何措辞表明也不是这种情况`resize`。

最终，这完全取决于实现，但我会惊讶地看到在任何主流编译器上这两种方法之间的内存分配规则存在差异。

[这个测试用例](http://stacked-crooked.com/view?id=43766666e5c72d282bd94c05e43e8897)展示了一个简单的例子：

```
#include <iostream>
#include <vector>

int main() {
    std::vector<int> a, b;

    for(int i = 0; i != 100; ++i)
      a.push_back(0);
    for(int i = 0; i != 100; ++i)
      b.resize(i+1);

    std::cout << a.capacity() << " , " << b.capacity() << std::endl;
}

// Output from my GCC 4.7.2:
//  128 , 128 
```

请注意，[这个](http://stacked-crooked.com/view?id=145e5f6821da7f0e97e5ccb4fd13193c)略有不同：

```
int main() {
    std::vector<int> a, b;

    for(int i = 0; i != 100; ++i)
      a.push_back(0);
    b.resize(100);

    std::cout << a.capacity() << " , " << b.capacity() << std::endl;
}

// Output from my GCC 4.7.2:
//  128 , 100 
```

这*不是两种方法之间的公平测试*，因为在后一个示例中，我们以不同的增量扩展内存，并且内存支持序列容器倾向于以*倍数*扩展。

* * *

### 性能问题

无论如何，正如@Pubby 所指出的那样，在这种`resize`情况下，您将先进行隐式构造，然后再进行显式分配，如果您过早地进行优化，这是非最佳的。

在现实世界中，真正的问题是*使用了错误的函数*并*编写了愚蠢的代码*。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-18T04:50:59.770

它们没有可比性，您不应该根据性能做出决定，但话虽如此，性能可能会因实现而有很大差异。

该标准要求`push_back()`具有摊销的常数时间，这基本上意味着实现必须按照几何级数增长对象的缓冲区（即在增长时，新大小必须与先前的大小成比例 F > 1）。

没有这样的要求`resize()`。事实上，一些实现假设如果你调用`resize()`它是因为你对向量的最终大小有更好的了解。考虑到这一点，这些实现会将缓冲区（如果需要）增加到您请求的大小，而不是遵循几何级数。这意味着按照这种机制追加的成本可能是 O(N^2)，而不是 O(N) `push_back`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-18T04:06:20.317

是的，可能会有很大的不同，尤其是在使用自定义数据类型时。观察：

```
#include <iostream>
#include <vector>

struct S
{
    S()
    {
        std::cout << "S()\n";
    }

    S(const S&)
    {
        std::cout << "S(const S&)\n";
    }

    S& operator = (const S&)
    {
        std::cout << "operator =\n";
        return *this;
    }

    ~S()
    {
        std::cout << "~S()\n";
    }
};

int main()
{
    std::vector<S> v1;

    std::cout << "push_back:\n";
    v1.push_back(S());

    std::vector<S> v2;

    std::cout << '\n' << "resize:\n";
    v2.resize(1);
    v2[0] = S();

    std::cout << "\nend\n"; // Ignore destructors after "end" (they're not pertinent to the comparison)
} 
```

输出：

```
push_back:
S()
S(const S&)
~S()

resize:
S()
S(const S&)
~S()
S()
operator =
~S()

end
~S()
~S() 
```

`push_back`FTW。

**编辑：**为了回应 Orbit 评论中的@Lightness Races，这当然只是一个愚蠢的例子。`S`显然不是一个真正的“有用” `struct`，如果你删除所有的打印语句，或者简单地定义`S`为`struct S {};`，那么编译器当然可以优化很多。

**但是**从什么时候开始，您*只*在程序中使用极其琐碎的数据类型？您将使用一些琐碎的数据类型，但有一天您也可能会使用一些非琐碎的数据类型。`resize`这些非平凡的数据类型可能具有昂贵的构造函数、析构函数或赋值运算符（或者它们可能不是超级昂贵，但如果您反复使用而不是，它们可能会加起来`push_back`），并且`push_back`肯定是正确的选择。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T10:03:30.083

`resize()`当您需要添加少量元素时，可能会更好地分配内存。

IE

```
std::vector<int> v;
for(int i = 0; i < n; ++i)
    v.push_back(1);
or

int os = v.size();
v.resize(os.size() + n);
for(int i = 0; i < n; ++i)
    v[os + i] = 1; 
```

但在这种情况下，最好使用

```
v.reserve(os.size() + n); 
```

然后是push_back，它也会避免构造+分配，就像你的情况一样

# wso2 - Making WSO2 ESB Version 4.5.1 ready for production environment

> ID：14392132
> 
> 赞同：2
> 
> 时间：2013-01-18T03:55:30.807
> 
> 标签：wso2, wso2esb

I would like to know is the WSO2 ESB Version 4.5.1 installation out of the box production ready in terms of configuration, If no, can someone give me some hints, would like to know what to turn off in a production environment.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T11:46:16.703

All the WSO2 products are production compatible out-of-the-box in general. But if you are using with distributed setup you may need to setup server in clusters with backend-frontend separation. And also you may need to use [WSO2 Elastic Load Balancer](http://wso2.com/products/elastic-load-balancer/). And the default embedded H2 database will not be efficient and you may need to change to MySQL.

Anyway if you are using a small setup in production all of them may not needed.

# c# - 强制转换 IntPtr 以增加它的替代方法？

> ID：14392135
> 
> 赞同：2
> 
> 时间：2013-01-18T03:56:48.023
> 
> 标签：c#, unmanaged

假设我有以下代码：

```
IntPtr newPtr = new IntPtr( oldPtr.ToInt32() + 12 ); 
```

有什么方法可以使增加 oldPtr 的过程更加简化？
我有什么遗漏或我应该知道的吗？

编辑澄清：我的好奇心在于简化流程本身，我只是想进入无人管理的世界，而且不需要全部投入就足够困难了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T03:59:14.150

从 Framework 4.0 开始，您可以使用[Add()](http://msdn.microsoft.com/it-it/library/system.intptr.add.aspx)和[Substract()](http://msdn.microsoft.com/it-it/library/system.intptr.subtract.aspx)方法。如果您在较旧的环境下开发，请在您的项目中实现：

```
public static class IntPtrExtensions
{
    #region Methods: Arithmetics
    public static IntPtr Decrement(this IntPtr pointer, Int32 value)
    {
        return Increment(pointer, -value);
    }

    public static IntPtr Decrement(this IntPtr pointer, Int64 value)
    {
        return Increment(pointer, -value);
    }

    public static IntPtr Decrement(this IntPtr pointer, IntPtr value)
    {
        switch (IntPtr.Size)
        {
            case sizeof(Int32):
                return (new IntPtr(pointer.ToInt32() - value.ToInt32()));

            default:
                return (new IntPtr(pointer.ToInt64() - value.ToInt64()));
        }
    }

    public static IntPtr Increment(this IntPtr pointer, Int32 value)
    {
        unchecked
        {
            switch (IntPtr.Size)
            {
                case sizeof(Int32):
                    return (new IntPtr(pointer.ToInt32() + value));

                default:
                    return (new IntPtr(pointer.ToInt64() + value));
            }
        }
    }

    public static IntPtr Increment(this IntPtr pointer, Int64 value)
    {
        unchecked
        {
            switch (IntPtr.Size)
            {
                case sizeof(Int32):
                    return (new IntPtr((Int32)(pointer.ToInt32() + value)));

                default:
                    return (new IntPtr(pointer.ToInt64() + value));
            }
        }
    }

    public static IntPtr Increment(this IntPtr pointer, IntPtr value)
    {
        unchecked
        {
            switch (IntPtr.Size)
            {
                case sizeof(Int32):
                    return new IntPtr(pointer.ToInt32() + value.ToInt32());

                default:
                    return new IntPtr(pointer.ToInt64() + value.ToInt64());
            }
        }
    }
    #endregion

    #region Methods: Comparison
    public static Int32 CompareTo(this IntPtr left, Int32 right)
    {
        return left.CompareTo((UInt32)right);
    }

    public static Int32 CompareTo(this IntPtr left, IntPtr right)
    {
        if (left.ToUInt64() > right.ToUInt64())
            return 1;

        if (left.ToUInt64() < right.ToUInt64())
            return -1;

        return 0;
    }

    public static Int32 CompareTo(this IntPtr left, UInt32 right)
    {
        if (left.ToUInt64() > right)
            return 1;

        if (left.ToUInt64() < right)
            return -1;

        return 0;
    }
    #endregion

    #region Methods: Conversion
    public unsafe static UInt32 ToUInt32(this IntPtr pointer)
    {
        return (UInt32)((void*)pointer);
    }

    public unsafe static UInt64 ToUInt64(this IntPtr pointer)
    {
        return (UInt64)((void*)pointer);
    }
    #endregion

    #region Methods: Equality
    public static Boolean Equals(this IntPtr pointer, Int32 value)
    {
        return (pointer.ToInt32() == value);
    }

    public static Boolean Equals(this IntPtr pointer, Int64 value)
    {
        return (pointer.ToInt64() == value);
    }

    public static Boolean Equals(this IntPtr left, IntPtr ptr2)
    {
        return (left == ptr2);
    }

    public static Boolean Equals(this IntPtr pointer, UInt32 value)
    {
        return (pointer.ToUInt32() == value);
    }

    public static Boolean Equals(this IntPtr pointer, UInt64 value)
    {
        return (pointer.ToUInt64() == value);
    }

    public static Boolean GreaterThanOrEqualTo(this IntPtr left, IntPtr right)
    {
        return (left.CompareTo(right) >= 0);
    }

    public static Boolean LessThanOrEqualTo(this IntPtr left, IntPtr right)
    {
        return (left.CompareTo(right) <= 0);
    }
    #endregion

    #region Methods: Logic
    public static IntPtr And(this IntPtr pointer, IntPtr value)
    {
        switch (IntPtr.Size)
        {
            case sizeof(Int32):
                return (new IntPtr(pointer.ToInt32() & value.ToInt32()));

            default:
                return (new IntPtr(pointer.ToInt64() & value.ToInt64()));
        }
    }

    public static IntPtr Not(this IntPtr pointer)
    {
        switch (IntPtr.Size)
        {
            case sizeof(Int32):
                return (new IntPtr(~pointer.ToInt32()));

            default:
                return (new IntPtr(~pointer.ToInt64()));
        }
    }

    public static IntPtr Or(this IntPtr pointer, IntPtr value)
    {
        switch (IntPtr.Size)
        {
            case sizeof(Int32):
                return (new IntPtr(pointer.ToInt32() | value.ToInt32()));

            default:
                return (new IntPtr(pointer.ToInt64() | value.ToInt64()));
        }
    }

    public static IntPtr Xor(this IntPtr pointer, IntPtr value)
    {
        switch (IntPtr.Size)
        {
            case sizeof(Int32):
                return (new IntPtr(pointer.ToInt32() ^ value.ToInt32()));

            default:
                return (new IntPtr(pointer.ToInt64() ^ value.ToInt64()));
        }
    }
    #endregion
} 
```

并且，在您的示例中，请致电：

```
IntPtr newPtr = oldPtr.Increment(12); 
```

# django - Django Tastypie "ToManyField" in "parent" resource seems to break POST to chile resource

> ID：14392136
> 
> 赞同：2
> 
> 时间：2013-01-18T03:56:58.213
> 
> 标签：django, tastypie

I am using Django 1.4.3 and TastyPie 0.9.11.

I have the following two django models:

```
class Event(models.Model):
    organizer = models.ForeignKey(User, related_name='Organizador')
    store = models.ForeignKey(Store, related_name='Tienda')
    name = models.CharField('Titulo', max_length=50)
    event_time = models.DateTimeField('Fecha y Hora del Evento')
    creation_date = models.DateTimeField('Fecha de Creación', auto_now_add=True)
    requires_confirmation = models.BooleanField('Require Confirmación')

    class Meta:
        verbose_name = "Encuentro"
        verbose_name_plural = "Encuentros"

class EventInvitees(models.Model):
    event = models.ForeignKey(Event, related_name='invitees')
    invitee = models.ForeignKey(User, verbose_name='Invitado')
    confirmed = models.BooleanField('Confirmado')
    confirmation_date = models.DateTimeField('Fecha de Confirmación', null=True, auto_now=True)

    class Meta:
        verbose_name = "Invitados"
        verbose_name_plural = "Invitados" 
```

Then I have the following API Resources:

```
class EventInviteesResource(ModelResource):
    user = fields.ForeignKey(UserResource, 'invitee', full=True)
    event = fields.ForeignKey('bbservices.api.EventResource', 'event')

    class Meta:
        queryset = EventInvitees.objects.all()
        authentication = ApiKeyAuthentication()
        authorization = Authorization()

class EventResource(ModelResource):
    invitees = fields.ToManyField('bbservices.api.EventInviteesResource', 'invitees', full=True)
    store = fields.ForeignKey(StoreResource, 'store', full=True)

    class Meta:
        #default_format = 'application/json'

        queryset = Event.objects.all()

        fields = ['organizer_id', 'store', 'name', 'event_time', 'requires_confirmation']
        include_resource_uri = False
        #list_allowed_methods = ['get', 'post']
        authentication = ApiKeyAuthentication()
        authorization = Authorization()
        filtering = {
            #'user': ALL_WITH_RELATIONS
            'event_time': ['exact', 'range', 'gt', 'gte', 'lt', 'lte'],
        }

    def dehydrate_event_time(self, bundle):
        return bundle.data['event_time']

    def obj_create(self, bundle, request=None, **kwargs):
        return super(EventResource, self).obj_create(bundle, request, organizer_id=request.user.pk, store_id=bundle.data['store_id']) 
```

As you can see, I have set up a "ToManyField" relation ship in order to have Event Invitees to show up in GET lists of the Events resource. This works Correctly. Please note that there is also an FK relationship to a "store" and this also works.

The error comes when POSTing the following to "EventInviteesResource" to create and EventInvitee:

POST [http://X.X.X.X:8000/api/v1/eventinvitees/?username=user&api_key=XXXXXXX](http://X.X.X.X:8000/api/v1/eventinvitees/?username=user&api_key=XXXXXXX)

```
{
  "event" : {"pk" : 30},
  "invitee" : 2,
  "confirmed" : true
} 
```

The error returned is:

"The 'invitees' field has no data and doesn't allow a null value."

Note that "invitees" does NOT exist in the "EventInviteesResource" but instead in the "parent" resource "EventResource". So I dont understand how this can even be an error. If I comment out the this line:

```
invitees = fields.ToManyField('bbservices.api.EventInviteesResource', 'invitees', full=True) 
```

the resource "EventResource" the "invitees" error goes away and the error becomes:

```
{"error_message": "", "traceback": "Traceback (most recent call last):\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 192, in wrapper\n response = callback(request, *args, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 397, in dispatch_list\n return self.dispatch('list', request, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 427, in dispatch\n response = method(request, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 1165, in post_list\n updated_bundle = self.obj_create(bundle, request=request, **self.remove_api_resource_names(kwargs))\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 1774, in obj_create\n bundle = self.full_hydrate(bundle)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 698, in full_hydrate\n value = field_object.hydrate(bundle)\n\n File \"/Library/Python/2.7/site-packages/tastypie/fields.py\", line 636, in hydrate\n value = super(ToOneField, self).hydrate(bundle)\n\n File \"/Library/Python/2.7/site-packages/tastypie/fields.py\", line 154, in hydrate\n elif self.attribute and getattr(bundle.obj, self.attribute, None):\n\n File \"/Library/Python/2.7/site-packages/django/db/models/fields/related.py\", line 343, in __get__\n raise self.field.rel.to.DoesNotExist\n\nDoesNotExist\n"} 
```

If I try to POST this:

```
{
    "store_id" : 1, 
    "name" : "With Invitees", 
    "event_time" : "2013-02-06T18:30-3:00",
    "requires_confirmation" : true,
    "invitees" : [
                    {
                      "invitee": {"pk" : 1}
                    }
                ]
} 
```

to the resource EventResource, with the 'invitees' relationship intact, the error is:

```
{"error_message": "int() argument must be a string or a number, not 'dict'", "traceback": "Traceback (most recent call last):\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 192, in wrapper\n response = callback(request, *args, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 397, in dispatch_list\n return self.dispatch('list', request, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 427, in dispatch\n response = method(request, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 1165, in post_list\n updated_bundle = self.obj_create(bundle, request=request, **self.remove_api_resource_names(kwargs))\n\n File \"/Users/jleidigh/Documents/Starbucks - In Office/trunk/backend/bbservices/api.py\", line 234, in obj_create\n return super(EventResource, self).obj_create(bundle, request, organizer_id=request.user.pk, store_id=bundle.data['store_id'])\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 1783, in obj_create\n m2m_bundle = self.hydrate_m2m(bundle)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 743, in hydrate_m2m\n bundle.data[field_name] = field_object.hydrate_m2m(bundle)\n\n File \"/Library/Python/2.7/site-packages/tastypie/fields.py\", line 742, in hydrate_m2m\n m2m_hydrated.append(self.build_related_resource(value, **kwargs))\n\n File \"/Library/Python/2.7/site-packages/tastypie/fields.py\", line 593, in build_related_resource\n return self.resource_from_data(self.fk_resource, value, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/tastypie/fields.py\", line 548, in resource_from_data\n return fk_resource.obj_update(fk_bundle, **data)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 1814, in obj_update\n bundle.obj = self.obj_get(request, **lookup_kwargs)\n\n File \"/Library/Python/2.7/site-packages/tastypie/resources.py\", line 1752, in obj_get\n base_object_list = self.get_object_list(request).filter(**kwargs)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/query.py\", line 624, in filter\n return self._filter_or_exclude(False, *args, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/query.py\", line 642, in _filter_or_exclude\n clone.query.add_q(Q(*args, **kwargs))\n\n File \"/Library/Python/2.7/site-packages/django/db/models/sql/query.py\", line 1250, in add_q\n can_reuse=used_aliases, force_having=force_having)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/sql/query.py\", line 1185, in add_filter\n connector)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/sql/where.py\", line 69, in add\n value = obj.prepare(lookup_type, value)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/sql/where.py\", line 320, in prepare\n return self.field.get_prep_lookup(lookup_type, value)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/fields/related.py\", line 137, in get_prep_lookup\n return self._pk_trace(value, 'get_prep_lookup', lookup_type)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/fields/related.py\", line 210, in _pk_trace\n v = getattr(field, prep_func)(lookup_type, v, **kwargs)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/fields/__init__.py\", line 310, in get_prep_lookup\n return self.get_prep_value(value)\n\n File \"/Library/Python/2.7/site-packages/django/db/models/fields/__init__.py\", line 537, in get_prep_value\n return int(value)\n\nTypeError: int() argument must be a string or a number, not 'dict'\n"} 
```

I believe this error is documented here:

[https://github.com/toastdriven/django-tastypie/issues/307](https://github.com/toastdriven/django-tastypie/issues/307)

If I comment the "invitees" line and POST to EventResource the error disappears but of course the invitees are not created.

So........any one have any ideas? Is this just another error associated with issue 307 (link above) or am I doing something wrong??

Thanks very much in advance!!!!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:08:17.730

好的，我找到了自己的答案。在 EventInviteesResource

```
user = fields.ForeignKey(UserResource, 'invitee', full=True) 
```

需要以下内容才能镜像我的 Django 模型：

```
invitee = fields.ForeignKey(UserResource, 'invitee', full=True) 
```

虽然这看起来是合乎逻辑的，但我必须说我得到的“被邀请者”（注意“s”）错误不是但是哦，好吧......

奖励答案，在 EventResource 中，更新：

```
invitees = fields.ToManyField('bbservices.api.EventInviteesResource', 'invitees', full=True) 
```

至：

```
invitees = fields.ToManyField('bbservices.api.EventInviteesResource', 'invitees', related_name='event', full=True) 
```

现在，您可以与受邀者一起发布到 EventResource 并自动创建那些。帖子数据如下所示：

```
{
    "store" : "/api/v1/store/2/", 
    "name" : "Yes again?", 
    "event_time" : "2013-02-06T18:30-3:00",
    "requires_confirmation" : true,
    "invitees" : [
                    {
                      "invitee" : "/api/v1/user/1/",
                      "confirmed" : true
                    }
                ]
} 
```

所以现在我唯一的疑问是……谁能告诉我为什么我不能对 FK 使用 PK 语法：

```
{ "store" : {"pk" : 2}, ... 
```

这会导致错误指出 Store 对象的字段不能为空，就好像它试图创建一个新的商店对象一样。如果我使用下面的 URI 路径，它可以正常工作：

```
{ "store" : "/api/v1/store/2/", ... 
```

但我宁愿不必传回完整的 URI，而且我应该这样做。这就是为什么我在 obj_create 中使用 store_id 技巧但它非常笨拙......

有任何想法吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-21T06:10:33.113

当您提供 {"store":"/api/v1/store/2/"} 时，您只需指定 EventResource 的 store 值。但是当您提供 {"store": {"pk":2}} 时，您不仅要指定 store 的值，还要编辑 store（保存相关对象）。那是美味的“风格”。

我们可以做的是构建一组自动从/到资源 uri 转换的 Javascript 函数。使用现有的 Javascript MVC 框架，如 AgularJS 或 Backbone 作为前端，使用 Django Tastypie 作为后端非常强大。

# colors - CCLabelTTF - 更改标签的默认颜色

> ID：14392137
> 
> 赞同：0
> 
> 时间：2013-01-18T03:57:04.850
> 
> 标签：colors, cocos2d-iphone, cclabelttf

我刚刚将我的项目从 cocos2d 1.0.1 升级到 2.0，经过大量调整后，我无法像以前那样更改 CCLabelTTF 的默认颜色（这样我就避免了一行代码我创建的每个标签）。以前，我是这样做的：

在 CCLabelTTF.m 中：

```
- (id) initWithString:(NSString*)str dimensions:(CGSize)dimensions alignment:(CCTextAlignment)alignment lineBreakMode:(CCLineBreakMode)lineBreakMode fontName:(NSString*)name fontSize:(CGFloat)size
{
  if( (self=[super init]) ) {

    dimensions_ = CGSizeMake( dimensions.width * CC_CONTENT_SCALE_FACTOR(), dimensions.height * CC_CONTENT_SCALE_FACTOR() );
    alignment_ = alignment;
    fontName_ = [name retain];
    fontSize_ = size * CC_CONTENT_SCALE_FACTOR();
    lineBreakMode_ = lineBreakMode;
    color_ = ccBLACK;

    [self setString:str];
  }
  return self;
} 
```

我正在更改此方法中的颜色，因为每个“initWithString ...”方法都返回这个，但即使我在 cocos2D 2.0 中这样做，它也不起作用。

这是我的新 CCLabelTTF.m ：

```
- (id) initWithString:(NSString*)str dimensions:(CGSize)dimensions hAlignment:(CCTextAlignment)alignment vAlignment:(CCVerticalTextAlignment) vertAlignment lineBreakMode:(CCLineBreakMode)lineBreakMode fontName:(NSString*)name fontSize:(CGFloat)size
{
  if( (self=[super init]) ) {

    // shader program
    self.shaderProgram = [[CCShaderCache sharedShaderCache] programForKey:SHADER_PROGRAM];

    dimensions_ = dimensions;
    hAlignment_ = alignment;
    vAlignment_ = vertAlignment;
    fontName_ = [name retain];
    fontSize_ = size;
    lineBreakMode_ = lineBreakMode;
            color_ = ccBLACK;

    [self setString:str];
  }
  return self;
} 
```

是因为 2.0 之前没有的“ShaderProgram”吗？请帮助我到目前为止已经尝试了一切:(

我什至在我的所有项目中搜索是否有包含“ccWHITE”或“{255,255,255}”的文件，但没有与 CCLabelTTF 相关的文件（CCSprite 除外，但如果我将其更改为 ccBLACK，我的所有精灵都会变黑）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:14:55.310

不要设置 ivar，而是使用属性的访问器：

```
self.color = ccBlack; 
```

此外，您不应修改 CCLabelTTF。如果您想改变行为，请创建一个子类。

# php - hash_file is computing same value for different files

> ID：14392140
> 
> 赞同：1
> 
> 时间：2013-01-18T03:57:10.817
> 
> 标签：php, file-upload, hash, sha

> **Possible Duplicate:**
> [What is a good way to check if an image is unique using PHP?](https://stackoverflow.com/questions/1967409/what-is-a-good-way-to-check-if-an-image-is-unique-using-php)

A user uploads an image (`png`, `jpg`, `gif`) via a form. I'm am using hash_file to check against the db to see if the image already has been uploaded but I am now noticing that it is not unique.

Is this a bug or should I be using something else to generate a unique ID for the files?

I guess the workaround would be `md5(filesize($file) . $hash)`?

**UPDATE** From the logs... first set is using md5_file, second from hash_file with sha256...

```
HASH: SELECT SiteID FROM tbl_image_hashes WHERE SiteID = 0 AND Hash = 'd41d8cd98f00b204e9800998ecf8427e'
HASH: SELECT SiteID FROM tbl_image_hashes WHERE SiteID = 0 AND Hash = 'd41d8cd98f00b204e9800998ecf8427e'

HASH: SELECT SiteID FROM tbl_image_hashes WHERE SiteID = 0 AND Hash = 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855'
HASH: SELECT SiteID FROM tbl_image_hashes WHERE SiteID = 0 AND Hash = 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855'
HASH: SELECT SiteID FROM tbl_image_hashes WHERE SiteID = 0 AND Hash = 'e3b0c44298fc1c
20130117T231016: booru.pixymedia.us/utilities/batchExistingUpload.php
HASH: SELECT SiteID FROM tbl_image_hashes WHERE SiteID = 0 AND Hash = 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855'
HASH: SELECT SiteID FROM tbl_image_hashes WHERE SiteID = 0 AND Hash = 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855'
HASH: SELECT SiteID FROM tbl_image_hashes WHERE SiteID = 0 AND Hash = 'e3b0c44298fc1c

```

And no the SQL is right... I've uploaded 3,000 files successfully with this function...

This is the hash generating code:

```
$fileHash = hash_file("sha256",$FILE["tmp_name"]); 
```

$FILE is basically $_FILE, it's just what the function parameter is named as

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T05:07:01.250

`d41d...427e`和`e3b0...b855`是空字符串的 MD5 和 SHA256 和（例如`md5("")`和`sha256("")`）。您在数据库中拥有这些的事实表明您的代码有问题——您可能在某些时候散列了错误的文件名。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:02:31.583

使用图像数据的问题在于，同一图像可以用多种方式表示。对于 GIF 尤其如此，其中颜色表可以按任何顺序排列并且结果是相同的。

您可能应该想出一种方法来散列图像本身。您可以通过读取每个像素的颜色并从中生成某种散列来做到这一点。或者，您可以尝试使用 GD 加载图像，然后让它通过输出图像来“标准化”它[`imagegd()`](http://php.net/imagegd)，然后使用它来检查唯一性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:18:46.000

如果您为不同的文件获得相同的哈希值，请考虑以下可能性：

1.  哈希生成不正确（**=> 检查输入！<=**）；或者，
2.  使用的哈希质量不够（SHA-x 就足够了）；或者，
3.  哈希实现被破坏（值得怀疑，这里不是这种情况）；或者，
4.  他们的文件确实有相同的内容（确定为假）

*意外*SHA-x 碰撞的几率[非常小](https://stackoverflow.com/a/2480819/166390)；这是一个[概率表](http://en.wikipedia.org/wiki/Birthday%5Fparadox#Probability_table)，它不能准确地表明这是*多么不可能*。这篇[关于 160 位哈希](http://preshing.com/20110504/hash-collision-probabilities)的文章在底部具有更可比的规模.. 被流星击中的几率更高！

无论如何，#1 确实是罪魁祸首。

暗示：`hash("sha256", "")`

# symfony-2.1 - Create ViewHelper in Symfony 2

> ID：14392141
> 
> 赞同：5
> 
> 时间：2013-01-18T03:57:31.880
> 
> 标签：symfony-2.1

How to create a ViewHelper in Symfony 2\. I read whole the documentation but it doesn't describe any term like that. It just has autoloading and service. [http://symfony.com/doc/current/cookbook/index.html](http://symfony.com/doc/current/cookbook/index.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-07-09T09:00:17.510

您只需要创建一个实现您的辅助函数并扩展的类

```
Symfony\Component\Templating\Helper\Helper 
```

像这样：

```
namespace Acme\Foo\Helper;

use Symfony\Component\Templating\Helper\Helper;

class MyViewHelper extends Helper {

    public function helpMe() {
       // do something
       return $value;
    }

   /**
    * @inheritdoc
    */
    public function getName() {
         return "anyCanonicalServiceName";
    }
} 
```

然后你必须将你的助手推广为一个带有特殊标签的服务，例如

```
Resources/config/services.yml

services:
        your_service_name:
        class: Acme\Foo\Helper\MyViewHelper
        # the tag alias "myViewHelper" is later used in the view to access your service
        tags:
            - { name: templating.helper, alias: myViewHelper } 
```

现在您可以在这样的视图中访问帮助程序：

```
echo $view['myViewHelper']->helpMe(); 
```

# iphone - Xcode custom font won't load numbers

> ID：14392143
> 
> 赞同：0
> 
> 时间：2013-01-18T03:57:41.477
> 
> 标签：iphone, xcode, uifont

I'm making an app which uses a custom font (Rockwell.ttf). I have done everything correctly and it works when I am using for `UILabels` (text only), however, when I try to use it with a `UILabel` that contains numbers, the font does not work with the numbers.

In finder when I open up the .ttf it shows the text as well as the numbers but as soon as I import it into Xcode, the numbers dissapear and I'm left only with the text! Please help.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:20:26.440

尝试使用其他一些 .ttf 字体并检查它们是否显示数字。这样您就可以确定问题出在 .ttf 字体还是 iOS 上：)

# batch-file - 批处理文件根据日期创建文件夹并将文件从一个位置复制到另一个位置？

> ID：14392146
> 
> 赞同：4
> 
> 时间：2013-01-18T03:58:32.570
> 
> 标签：batch-file

我想将 Windows XP 中的文件从桌面（一个文件夹）复制/移动到我的文档（另一个文件夹），这是由当前日期的同一个批处理文件以 DD/MM/YYYY 格式创建的。

当 .BAT 文件位于桌面文件夹中时，这可以正常工作。

```
@echo off
set date="%date:~7,2%-%date:~4,2%-%date:~10,4%"
mkdir %date%
copy *.txt \%date%
pause 
```

现在这个 .BAT 正在做的是，在桌面上创建文件夹 18-01-2013 并处理此文件夹中的所有 .TXT 文件。

但这不起作用，

```
@echo off
set date="%date:~7,2%-%date:~4,2%-%date:~10,4%"
mkdir %USERPROFILE%\My Documents\%date%
copy %USERPROFILE%\desktop\*.txt %USERPROFILE%\My Documents\%date%
pause 
```

这个 .BAT 文件正在创建这些文件夹；1\. 在 C 盘>Documents 2\. 在桌面上（和，Chandel>My, Documents>18-01-2013, Settings>Anshuman）

非常感谢这方面的任何帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T04:15:38.753

尝试将文件/文件夹名称的行放在引号中，例如更新此行

```
mkdir %USERPROFILE%\My Documents\%date% 
```

到

```
mkdir "%USERPROFILE%\My Documents\%date%" 
```

# java - What is the Mockito equivalent of expect().andReturn().times()

> ID：14392148
> 
> 赞同：15
> 
> 时间：2013-01-18T03:58:51.390
> 
> 标签：java, junit, mockito, easymock

I've been experimenting the Mockito equivalent of the

```
EasyMock.expect(someMethod()).andReturn(someMockObject).times(n); 
```

but I can't figure it out.

A little help on this, please?

Thanks in advance.

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-01-18T04:05:57.187

```
when(myObject.someMethod()).thenReturn(someMockObject);
// run test
verify(myObject, times(n)).someMethod(); 
```

有关更多转换示例，请参阅[文档](https://code.google.com/p/mockito/wiki/MockitoVSEasyMock)。

# python - Matplotlib: Plotting two graphs within a specified x-axis range

> ID：14392149
> 
> 赞同：1
> 
> 时间：2013-01-18T03:58:58.990
> 
> 标签：python, matplotlib

Basically I'm in a situation where I want to lock down the starting point of the graph depending on the first graph that's plotted.

e.g. If i do something like this.

```
import matplotlib.pyplot as plt
plt.plot([7,8,9,10], [1,4,9,16], 'yo')
plt.plot([1,9,11,12], [1,4,9,16], 'ro')
plt.show() 
```

I would like a way to restrict the x-axis to start from 7 so (1,1) from the second plot will be removed.

Is there a way to do this? I could keep track of it myself but just curious if there's something built in to handle this.

Thanks.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T05:03:47.557

Matplotlib 为您提供两种方式：

```
import matplotlib.pyplot as plt
plt.plot([7,8,9,10], [1,4,9,16], 'yo')
plt.plot([1,9,11,12], [1,4,9,16], 'ro')
plt.xlim(xmin=7)
plt.show() 
```

或更面向对象的方式

```
import matplotlib.pyplot as plt
fig, ax = plt.subplots()
ax.plot([7,8,9,10], [1,4,9,16], 'yo')
ax.plot([1,9,11,12], [1,4,9,16], 'ro')
ax.set_xlim(xmin=7)
plt.show() 
```

如果您不使用 IPython，我强烈推荐它，因为您可以创建轴对象，然后键入`ax.<Tab>`并查看所有选项。在这种情况下，自动完成可能是一件很棒的事情。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T05:02:56.587

简而言之：`plt.xlim()`。

长篇：

```
import matplotlib.pyplot as plt
x1, y1 = ([7,8,9,10], [1,4,9,16])
plt.plot(x1, y1, 'yo')
plt.xlim(min(x1), max(x1))
plt.plot([1,9,11,12], [1,4,9,16], 'ro')
plt.show() 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-18T16:21:59.057

[您可以在第一个绘图 ( doc](http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.autoscale) )之后关闭自动缩放：

```
ax = plt.gca()
ax.autoscale(enable=False) 
```

这将锁定所有比例（您也可以分别执行 x 和 y ）。

# iphone - 如何更改我的 ios 应用更新可用性

> ID：14392157
> 
> 赞同：0
> 
> 时间：2013-01-18T03:59:42.120
> 
> 标签：iphone, ios, ipad

当我创建我的应用更新时，我选择让它在经过苹果审查后立即可用，但我想更改它并选择另一个日期以供下载更新。但是，我在 iTunes Connect 中找不到任何允许我执行此操作的选项。我应该怎么做才能改变它？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:02:27.473

在定价和可用性下，您可以选择您的日期。

# c - OpenBSD 下的 pthread 优先级/调度

> ID：14392158
> 
> 赞同：1
> 
> 时间：2013-01-18T03:59:44.047
> 
> 标签：c, pthreads, openbsd

我有一种将东西移植到 OpenBSD 的奇怪爱好。我知道它有 pthreads 问题，但在 2013 年 5 月发布的版本之前我不会升级。我使用的是 5.0，而且我对 pthreads 还很陌生。我已经完成了 1 个教程，将它们添加到我需要它们的程序中，它可以工作。

Project du jour 是[rtl-sdr 套件](http://sdr.osmocom.org/trac/wiki/rtl-sdr)中的 rtl_fm.c 。拿一个 20 美元的加密狗，将其插入 USB 端口，使用软件定义的收音机调谐 24 - 1700 MHz。我将同一台计算机引导到 OpenBSD、旧的 Debian Linux 和 Windows XP，以便进行比较。它几乎可以在 OpenBSD 下运行，也可以在 Linux 下运行。我可以将相同的代码从一个分区复制到另一个分区并重新启动到另一个操作系统。我正在开发的版本添加了额外的 printfs，因此我至少可以看到发生了什么。OpenBSD 似乎在解调线程中需要更高的优先级。

添加了我的 printfs 后，在 Linux 下我看到了

```
demod_thread_fn: 做 sem_wait(&data_ready)
rtlsdr_callback：缓冲区中的数据为 16384 字节
rtlsdr_callback：data_ready 已关闭，正在发布
demod_thread_fn：过去 sem_wait
demod_thread_fn：调用 full_demod
full_demod：即将旋转_90
full_demod：rotate_90 之后
full_demod 写了 384 字节

```

解释一下：demod_thread_fn 是分配给解调线程的主函数，它首先对一个名为 data_ready 的信号量执行 sem_wait。rtlsdr_callback 在有数据要解调时由低级设备驱动程序调用。在这里，它在 data_ready 信号量上执行 sem_post。demod_thread_fn 看到变化，调用 full_demod，其余正常，以将数据写入文件结束。

在 OpenBSD 下，我看到：

```
demod_thread_fn: 做 sem_wait(&data_ready)
rtlsdr_callback：缓冲区中的数据为 16384 字节
rtlsdr_callback：data_ready 已关闭，正在发布
rtlsdr_callback：缓冲区中的数据为 16384 字节
rtlsdr_callback：缓冲区中的数据为 16384 字节
rtlsdr_callback：缓冲区中的数据为 16384 字节
rtlsdr_callback：缓冲区中的数据为 16384 字节
rtlsdr_callback：缓冲区中的数据为 16384 字节
rtlsdr_callback：缓冲区中的数据为 16384 字节
demod_thread_fn：过去 sem_wait
demod_thread_fn：调用 full_demod
full_demod：即将旋转_90
full_demod：rotate_90 之后
full_demod 写了 386 个字节

```

data_ready 上的 sem_post 直到大约 6 批数据进入（全部丢失）然后最后一个被解调后才被注意到。结果无法理解。我添加了 printfs 的修改代码在[这里。](http://ab1jx.webs.com/toys/dongle/rtl_fm.c)

我的问题是如何和/或是否可以提高 OpenBSD 下解调线程的优先级。这是 OpenBSD 的 pthreads 实现中的缺陷之一吗？我刚刚开始搞乱 pthread_attr_setschedpolicy() 但是在 sched_get_priority_max() 的手册页末尾它说“这个实现不支持进程调度。”。这是否意味着我运气不好？我不是想改变整个过程，只是一个线程。

艾伦

我不知道你应该如何在这里回答，我遇到了字符限制。

我倾向于同意，或者至少缓冲区不应该是固定大小，以便它被添加到它被处理之前。尽管出于某种原因，它在 Linux 下运行良好。这个东西每秒最多 2 兆采样，每个缓冲大约 16k，一旦处理就变成大约 400 字节的音频。我不完全理解它，但是可以记录和捕获该 2 MHz 频谱中的每个对话，然后解调您想要的内容。但在 Linux 中，我可以从 FM 广播电台获得实时音频。我会再次注册 misc@openbsd.org 并在那里询问。

我做了一些改变优先级的实验，但即使是 root，我也只能提高优先级，不能降低它。据说它也可以在 Windows 下编译和运行。如果我能弄清楚为什么它在 OpenBSD 下不起作用，我可能会在主流代码中加入一些 ifdef，但我不认为作者会向后弯腰来适应 OpenBSD。这一切都非常新，而且进展非常快。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T15:55:38.683

那里使用的 OpenBSD 版本有一个用户态线程库，它有各种妥协，包括一些与阻塞文件描述符有关的意外行为。在具有内核支持的线程并且更有可能工作的 5.1 或更高版本下再试一次。

# file - 文件执行流程 当客户点击 Proceed to checkout 时

> ID：14392161
> 
> 赞同：0
> 
> 时间：2013-01-18T04:00:20.560
> 
> 标签：file, magento, controls, flow

当用户完成购物并选择“继续结帐”时，magento 将如何从后端执行文件/值。

例如。当用户输入“运输信息”并按继续时，使用了哪些后端文件以及值如何传递到一个文件到另一个文件。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:18:13.537

用户提供的值（即地址、运输和付款方式）存储在报价对象中，可以通过调用 Mage::getSingleton('checkout/session')->getQuote() 来访问。

如果您使用单页结账，表单将提交给 Mage_Checkout_OnepageController 的操作，例如 Mage_Checkout_OnepageController::saveBillingAction、Mage_Checkout_OnepageController::savePaymentAction 等。这些函数验证用户输入并将其保存到报价对象中，报价对象转换为订单在过程结束时。

# css - css 流体 流体 流体 布局

> ID：14392163
> 
> 赞同：4
> 
> 时间：2013-01-18T04:00:41.473
> 
> 标签：css, layout

我试图在 CSS 中实现一些非常棘手的东西，但也非常“简单”：

![在此处输入图像描述](../Images/8892ee4f3566de83e0170333cec8281c.png)

## 解释：

一些带有文本的元素（未知宽度），每边有 2 个元素，都占据了剩余空间。

我想和`display:table`容器一起去，三个孩子一起去，`display:table-cell`但它不起作用，或者我不知道如何正确使用它..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T04:23:46.687

# [演示场](http://codepen.io/anon/pen/wcDbB)

## HTML

```
<header>
  <h1>Some title</h1>
</header> 
```

## CSS

```
header{ 
  display:table;
  text-align:center; 
  width:50%; 
}
header:before, header:after{ 
  content:'';
  display:table-cell; 
  background:red; 
  width:50%;
  border-radius:5px; 
}
header > h1{ white-space:pre; padding:0 10px; } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T04:15:29.890

这是使用`display: table`and`display: table-cell`来制作这个栏和文本。

**HTML**

```
<div class="textBarContainer">
    <div class="textBarBefore"></div>
    <div class="textBar">Text</div>
    <div class="textBarAfter"></div>
</div> 
```

**CSS**

```
.textBarContainer {
    display: table;
    width: 100%;
}
.textBar {
    display: table-cell;
    padding: 0 10px;
    white-space: pre;
}
.textBarAfter, .textBarBefore {
    background: #cc0000;
    width: 50%;
    height: 20px;
    display: table-cell;
    content:' ';
    border-radius: 5px;
} 
```

**[演示](http://jsfiddle.net/E2Vtr/1/)**

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2013-01-18T04:10:53.063

```
<ul class="columnlayout">
 <li>
   <div>Left content</div>
 </li>

 <li class="centercontent">
   <div>middle text content</div>
 </li>

 <li>
   <div>Right content</div>
 </li>
</ul>

//columns layout
ul.columnlayout
{
    margin:0;
    width:100%;
    display:block;
    clear:both;
    list-style-type: none;

    > li
    {
        float:left;
        margin:0;
        list-style-type:none;
                    width:200px;

                    &.centercontent
                    {
                       width:auto;
                    }

        ul.xoxo
        {
            list-style-type: none;

            li
            {
                list-style-type: none;
            }
        }
    }
} 
```

哦，请原谅我的 .scss！

```
ul.columnlayout {
    margin:0;
    width:100%;
    display:block;
    clear:both;
    list-style-type: none;
   }

  ul.columnlayout li {
    float:left;
    margin:0;
    list-style-type:none;
    width:200px;
  }

    ul.columnlayout li.centercontent {
      width:auto;
    } 
```

# ruby-on-rails - 将 lambda 表达式或一些参数添加到“has_one”关联

> ID：14392173
> 
> 赞同：0
> 
> 时间：2013-01-18T04:02:00.227
> 
> 标签：ruby-on-rails, rails-activerecord

假设我的模型是这样的：

```
class Movie
    has_one :last_rental_from_a_specific_user, :class_name => 'Rentals'
    has_many :rentals
end

class Rental
    belongs_to :movie
    belongs_to :customer
    # date of the rental attribute
end

class Customer
    has_many :rentals
end 
```

如何找到所有电影并包括（急切加载，而不是延迟加载）指定客户最后一次租借的每部电影？

就像是：

```
@x = Movie.includes(:last_rental_from_a_specific_user("jsmith")).first
@x.last_rental_from_a_specific_user.date 
```

它在 SQL 中看起来像这样：

```
select 
   * 
from 
   movies left join
   (select * from rentals where movie_id = movies.id and user_id = ? and rental_date = 
      (select max(rental_date) from rentals where movie_id = movies.id and user_id = ?))       
   as tmp on movies.id = tmp.movie_id 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T03:16:29.190

You are trying to create a subquery (for max date) which depends back on the Movie instance's ID, which is not available at the eager loading stage when you are querying upon the entire Model class. So, I don't think eager loading is possible.

You can create a custom view with the query you have pasted, and write a model to access the view. Then you will have multiple records for each movie with last rental date per customer and you just to have query on the record for a particular movie and customer.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T04:43:03.267

假设您将`Rentals`模型重命名为`Rental`，这将急切地加载指定客户（在本例中为名为“brian”的用户）的所有租金：

```
Movie.includes(:rentals => :customer).where('customers.name = "brian"') 
```

不过，不确定如何将其限制为*最后一次*出租。你是说最后一个日期吗？

# drupal - 在哪些文件中找到了 drupal-6 自定义块？

> ID：14392179
> 
> 赞同：0
> 
> 时间：2013-01-18T04:02:47.387
> 
> 标签：drupal, login, drupal-6

我不小心添加了一个登录块，它以某种方式覆盖了来自 drupal 的原始用户登录块。我需要删除块，drupal 登录被冻结，我无法访问通常的管理菜单界面来更改它。它在mysql数据库中的什么位置？

我找不到对块模块的任何修改

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:10:26.710

每当您提出与 Drupal 相关的问题时，请提及版本。

无论如何...无论是 6 还是 7，您都会在 DB 中找到块表，因此浏览它并按 PRIMARY-Descending 对其进行排序，您将看到您最初完成的最后一个设置。删除它，您将返回上一步...

但是如果你在那之后用块做了一些更多的设置，那么记录一定已经走了很远..

# php - 用PHP计算文件中有多少行

> ID：14392180
> 
> 赞同：1
> 
> 时间：2013-01-18T04:02:58.433
> 
> 标签：php, csv, include

我是 PHP 新手，我真的需要你的帮助。我有一个 CSV 文件（名为 *"Test.csv"），格式如下：

```
"ID";"Nom de famille";"Prénom";"Age";"Téléphone mobile";"Téléphone";"Téléphone 2";"Fax";"Adresse de messagerie";"Commentaires" 
```

我需要可以计算特定 CSV 文件中有多少行的 PHP 代码，并将每行的*“年龄”*字段存储在数组中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T04:15:36.753

我能想到的最强大的解决方案就是逐条读取文件记录，因为 CSV 数据可能在值*内*包含换行符：

```
$ages = array(); $records = 0;
$f = fopen('data.csv', 'rt');
while (($row = fgetcsv($f, 4096, ';')) !== false) {
    // skip first record and empty ones
    if ($records > 0 && isset($row[3])) {
        $ages[] = $row[3]; // age is in fourth column
    }
    ++$records;
}
fclose($f);

// * $ages contains an array of all ages
// * $records contains the number of csv data records in the file 
//   which is not necessarily the same as lines
// * count($ages) contains the number of non-empty records) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:21:15.667

[**文件**](http://in2.php.net/manual/en/function.file.php)功能只适合您。

该函数将整个文件读入一个数组。

这是您需要的代码：

```
<?php

$ageArray = array();
$inputFile = 'filename.csv';

$lines = file($inputFile); 
echo count($lines);
// count($lines) will give you total number of lines

// Loop through our array
foreach ($lines as $line_num => $line) {
    $ageArray[] = $line[3]; //'Age';
}

//Here is the o/p
print_r($ageArray);

?> 
```

注意：如果启用了 fopen 包装器，则远程 URL 可以用作此函数的文件名。但我希望你会使用本地文件。

快乐的 PHP 编码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:18:18.307

我会保持简单。

```
function age($line)
{
    $cols = explode(",",$line);
    return $cols[3];
}

$lines = explode("\n",file_get_contents($filename));
$count = count($lines);
$ages = array_map("age",$lines); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T04:08:15.007

对于 Windows：

```
$count = substr_count(file_get_contents($filename), "\r\n"); 
```

尼克斯：

```
$count = substr_count(file_get_contents($filename), "\n"); 
```

您可以从这篇文章中找到有关将单个字段提取到数组中的信息：

[将 csv 列放入数组中](https://stackoverflow.com/questions/5870735/putting-csv-column-into-an-array)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T04:19:41.173

```
$fname='1.csv';
$line_cnt=0;
$age_arr=array();
if($fh=fopen($fname,'r'))
{
  while(!feof($fh))
  {
     $str=fgets($fh);
     if($str!='')
     {
        $line_cnt++;
        $a=explode(';',$str);
        $age_arr[]=$a[3];
     }
  }
  fclose($fh);
}

echo 'line_cnt='.$line_cnt.'\n';
print_r($age_arr); 
```

# xcode - Cocos2d 错误 - clang: error: linker command failed with exit code 1 (使用 -v 查看调用)

> ID：14392183
> 
> 赞同：0
> 
> 时间：2013-01-18T04:03:31.927
> 
> 标签：xcode, cocos2d-iphone, compiler-errors

我不断收到此错误：clang: error: linker command failed with exit code 1 (use -v to see invocation)...当我编译我的游戏时。我正在使用 Cocos2d。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T09:05:10.840

检查 Xcode 中的构建日志（查看 -> 导航器 -> 日志导航器）。必须有比“退出代码 1”更多的错误/警告，它只是说编译器/链接器进程由于错误而中止。例如：

![在此处输入图像描述](../Images/1cddd2232e1ed5df06f997be389370da.png)

如果您需要在此处发布，您可以选择所有 (Cmd+A) 并复制 (Cmd+C) 整个日志作为文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T19:42:52.673

您是否按照本指南进行了任何更改？

[http://www.learn-cocos2d.com/2012/04/enabling-arc-cocos2d-project-howto-stepbystep-tutorialguide/](http://www.learn-cocos2d.com/2012/04/enabling-arc-cocos2d-project-howto-stepbystep-tutorialguide/)

如果是这样，我有同样的错误，因为我忘记删除 libs 文件夹

> 步骤 6\. 删除 Xcode 中的 libs 组。确保在确认对话框中选择“删除引用”，因为稍后您仍然需要这些文件，所以不要将它们丢弃。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-30T09:23:59.043

尝试使用 xcworkspace 来构建而不是 xcproject。这对我有用。

# python - scrapy xpath 选择器重复数据

> ID：14392186
> 
> 赞同：2
> 
> 时间：2013-01-18T04:03:56.543
> 
> 标签：python, xpath, web-scraping, scrapy, scrape

我正在尝试从每个列表中提取企业名称和地址并将其导出到 -csv，但我在输出 csv 时遇到问题。我认为 bizs = hxs.select("//div[@class='listing_content']") 可能会导致问题。

yp_spider.py

```
from scrapy.spider import BaseSpider
from scrapy.selector import HtmlXPathSelector
from yp.items import Biz

class MySpider(BaseSpider):
    name = "ypages"
    allowed_domains = ["yellowpages.com"]
    start_urls = ["http://www.yellowpages.com/sanfrancisco/restaraunts"]

    def parse(self, response):
        hxs = HtmlXPathSelector(response)
        bizs = hxs.select("//div[@class='listing_content']")
        items = []

        for biz in bizs:
            item = Biz()
            item['name'] = biz.select("//h3/a/text()").extract()
            item['address'] = biz.select("//span[@class='street-address']/text()").extract()
            print item
            items.append(item) 
```

项目.py

```
# Define here the models for your scraped items
#
# See documentation in:
# http://doc.scrapy.org/topics/items.html

from scrapy.item import Item, Field

class Biz(Item):
    name = Field()
    address = Field()

    def __str__(self):
        return "Website: name=%s address=%s" %  (self.get('name'), self.get('address')) 
```

'scrapy crawl ypages -o list.csv -t csv' 的输出是一长串企业名称和位置列表，它会多次重复相同的数据。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T05:09:33.453

你应该添加一个“。” 选择相对xpath，这里来自scrapy文档（[http://doc.scrapy.org/en/0.16/topics/selectors.html](http://doc.scrapy.org/en/0.16/topics/selectors.html)）

起初，您可能会想使用以下方法，这是错误的，因为它实际上提取了所有

文档中的元素，不仅是内部元素：

```
>>> for p in divs.select('//p') # this is wrong - gets all <p> from the whole document
>>>     print p.extract() 
```

这是执行此操作的正确方法（注意 .//p XPath 前缀的点）：

```
>>> for p in divs.select('.//p') # extracts all <p> inside
>>>     print p.extract() 
```

# php - 一段时间后javascript弹出停止

> ID：14392188
> 
> 赞同：2
> 
> 时间：2013-01-18T04:04:11.430
> 
> 标签：php, javascript, asp-classic

我创建了一个简单的 javascript 弹出窗口，它将要求用户等待 10 分钟或继续处理。在我的 php 站点中，我已经设置了一个条件，如果时间少于 10 分钟，那么只会出现弹出窗口。我需要为 javascript 编写另一个函数，即使在刷新页面后也只弹出 10 分钟，之后它不应该出现。因为我是 javascript 新手，所以我无法获得正确的功能来克服它。非常感谢您的帮助，谢谢

这是我的弹出代码：

```
function confirmation() {
    var answer = confirm("You are trying to payment again, please wait for 10 mins to avoid duplicate payment. Click OK to wait and Cancel to continue pay")
    if (answer){
        alert("Thank you for waiting,please check your mail in 10 minutes, if you did not recieve any mail, proceed to purchase again.")
            document.formDealPayment.submit();
    }
    else{
        alert("Thank You.")
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T09:57:52.853

您需要在服务器端执行此操作，因为客户端 JavaScript 本身无法知道服务器时间是什么以及自用户上次刷新页面以来已经过去了多长时间。（cookies除外，但在这里有点过分了）

不太确定 PHP 和 Classic ASP 是如何结合在一起的，但只有 10 分钟后才会调用该函数的简单经典 ASP 代码是：

```
If (10 minutes passed) Then
    Response.Write("<script type=""text/javascript"">confirmation();</script>")
End If 
```

# c++ - 数组 C++ 中的对象问题

> ID：14392189
> 
> 赞同：0
> 
> 时间：2013-01-18T04:04:20.210
> 
> 标签：c++

我正在制作一个涉及 Player 类的简单游戏，并制作了一个数组来在玩家被实例化时保存他们。问题是，每次运行程序时，我都会收到 LNK 2019 错误-“未解析的外部符号”。我不确定为什么会发生这种情况或如何使其正常工作。任何帮助将非常感激。

```
Player *player = new Player[9];
for(int i = 0; i< world1.numPlayers;i++) // ADD PLAYERS TO ARRAY
{
    Player tempplayer(3,3,5,1);
    player[i] = tempplayer;

} 
```

这是播放器类定义：

```
#pragma once
class Player
{
public:
Player(int width, int height, int xPos, int health );
~Player(void);
Player();
int getWidth();
int getHeight();
int getHealth();
int getPos();
void setHealth(int newHealth);
bool isAlive();
int width;
int height;
int health;
int xPos;

    }; 
```

这是确切的警告：“错误 1 ​​错误 LNK2019：未解析的外部符号“公共：__thiscall Player::Player(void)”(??0Player@@QAE@XZ) 在函数 _main C:\Users\Alex\Documents\ 中引用Visual Studio 2012\Projects\ConsoleApplication2\ConsoleApplication2\World.obj ConsoleApplicati‌​on2"

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:15:31.503

你的数组循环很好。

问题是您没有在文件中*定义*您在文件中*声明*`.cpp`的一个或多个类成员函数。*`.hpp`*

 *我们无法分辨是哪一个，因为您没有显示整个错误，但请确保它们都是已*定义*的，即使只有空定义也是如此。

一个常见的罪魁祸首是析构函数。当你不需要它做任何事情时，很容易忘记定义它：

```
Player::~Player()
{
} 
```

它也可能是您的默认构造函数：

```
Player::Player()
{
} 
```

全部定义！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T04:10:54.417

Martin 是对的，您需要为该数组分配指针。我原以为这样的错误会给你编译时警告。

链接器错误 - 链接器警告通常会打印它无法找到的内容。这通常足以确定错误的来源，或者至少指出正确的方向。你能粘贴完整的警告吗？

通常链接时间错误是未定义的成员函数的结果，如 dreamlax 的评论中所述，或者未能包含其中一个库。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-01-18T04:09:26.257

您使用类指针、实例和构造函数似乎有点不对劲。

这就是你的代码应该是这样的：

```
Player *player[9];

for(int i = 0; i< world1.numPlayers;i++) // ADD PLAYERS TO ARRAY
{

    player[i] = new Player(3,3,5,1);

} 
```

**编辑：**请注意，这只会绕过原始链接错误的原因。链接器抱怨`Player::Player(void)`找不到默认构造函数 。如果我没记错的话，它会在您创建数组时调用`new Player[9]`. 声明它应该可以解决这个错误，允许您继续使用原始代码而不是我的版本。*

# java - 收到推送通知，但没有消息

> ID：14392193
> 
> 赞同：1
> 
> 时间：2013-01-18T04:04:29.773
> 
> 标签：java, android, vb.net, push-notification

我正在开发一个需要接收推送通知的 android 应用程序。

收到推送通知但没有消息，就在我单击通知中的启动器图标时，它启动了应用程序，但没有收到消息。

我在这里只处理接收通知部分，通知是由其他人从服务器发送的，他正在使用 VB.net，无法检查他的代码。但我可以发布我的。我的消息：

```
protected void onMessage(Context context, Intent intent) {

  Log.i(TAG, "Received message");
  String message = intent.getExtras().getString("price");

  generateNotification(context, message); 
```

}

我的生成通知

```
private static void generateNotification(Context context, String message) {
  int icon = R.drawable.ic_launcher;
  long when = System.currentTimeMillis();
  NotificationManager notificationManager = (NotificationManager)
          context.getSystemService(Context.NOTIFICATION_SERVICE);
  Notification notification = new Notification(icon, message, when);
  String title = context.getString(R.string.app_name);
  Intent notificationIntent = new Intent(context, CoursesMainActivity.class);
  // set intent so it does not start a new activity
  notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |
          Intent.FLAG_ACTIVITY_SINGLE_TOP);
  PendingIntent intent =
          PendingIntent.getActivity(context, 0, notificationIntent, 0);
  notification.setLatestEventInfo(context, title, message, intent);
  notification.flags |= Notification.FLAG_AUTO_CANCEL;
  // Play default notification sound

  notification.defaults |= Notification.DEFAULT_SOUND;
 // Vibrate if vibrate is enabled
  notification.defaults |= Notification.DEFAULT_VIBRATE;
  notificationManager.notify(0, notification);
  } 
```

请对此提供帮助，如果有人想要 VB.net 代码来发送消息，我也可以提供。

谢谢，阿斯米

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:07:49.017

我解决了这个问题，因为其他人（发送推送通知）没有将其作为“价格”发送，而是作为“消息”发送

# .net - 无法在 MonoTouch 的 RabbitMQ .NET 客户端 DLL 中运行“ConnectionFactory.CreateConnection()”

> ID：14392199
> 
> 赞同：1
> 
> 时间：2013-01-18T04:05:31.487
> 
> 标签：.net, xamarin.ios, client, rabbitmq, objectdisposedexception

我已将 RabbitMQ .NET 客户端 DLL 移植到 MonoTouch 项目（iOS 项目），我可以向 RabbitMQ 服务器发送消息，但我无法接收任何消息并导致异常，现在我发布这些代码：

```
 bool _DoneFlag=false;
    QueueingBasicConsumer _receiveMessageConsumer;

    string _QueueName;
    IConnection _RMQConnection;

    string RMQServerIP;
    string LocalIP;
    ConnectionFactory factory;
    IModel channel;
    BasicDeliverEventArgs messageInEnvelope;

            IModel channel;
            ConnectionFactory factory = new ConnectionFactory();
            factory.HostName = "172.16.1.24:";
            factory.Port=55672;

            // 接受消息的队列名称是本地的IP地址
                _QueueName = "172.16.1.1";
                _RMQConnection = factory.CreateConnection();
            channel = _RMQConnection.CreateModel();

            channel.QueueDeclare(_QueueName, true, false, true, null);
            _receiveMessageConsumer = new QueueingBasicConsumer(channel);
            channel.BasicConsume(_QueueName, true, _receiveMessageConsumer);
            while (_DoneFlag==false) {
                object result = null;
                _receiveMessageConsumer.Queue.Dequeue(400, out result);

                BasicDeliverEventArgs messageInEnvelope = (BasicDeliverEventArgs)result;
                if (messageInEnvelope == null) {

                    Console.WriteLine("messageInEnvelope == null)");
                    continue;
                }

                byte[] bytes = messageInEnvelope.Body;

                string str=System.Text.Encoding.UTF8.GetString(bytes);

                Console.WriteLine("接受到的消息：" + str);

                //RMQMessage msg = JsonConvert.DeserializeObject<RMQMessage>(System.Text.Encoding.UTF8.GetString(bytes));

            } 
```

---->：这些代码在此代码行中停止：“_RMQConnection = factory.CreateConnection();” 并导致“System.ObjectDisposedException”，这些是信息：

System.ObjectDisposedException：对象在被释放后被使用。在 System.Threading.WaitHandle.CheckDisposed () [0x00016] 在 /Developer/MonoTouch/Source/mono/mcs/class/corlib/System.Threading/WaitHandle.cs:425 在 System.Threading.EventWaitHandle.Set () [0x00000 ] 在 /Developer/MonoTouch/Source/mono/mcs/class/corlib/System.Threading/EventWaitHandle.cs:129 (wrapper remoting-invoke-with-check) System.Threading.EventWaitHandle:Set () at System.Net .Sockets.Socket+SocketAsyncResult.set_IsCompleted (Boolean value) [0x00024] in /Developer/MonoTouch/Source/mono/mcs/class/System/System.Net.Sockets/Socket_2_1.cs:354 at System.Net.Sockets.Socket +SocketAsyncResult.Complete () [0x00037] in /Developer/MonoTouch/Source/mono/mcs/class/System/System.Net.Sockets/Socket_2_1.cs:243 在 System.Net.Sockets.Socket+SocketAsyncResult.Complete (System .

* ***注意：此代码在 .NET Visual Studio 2010 项目（控制台和 GUI）中正确运行。

# java - 在JAVA中使用XPath解析具有不同命名空间的xml

> ID：14392200
> 
> 赞同：2
> 
> 时间：2013-01-18T04:05:47.693
> 
> 标签：java, xml, parsing, xpath

我正在做这个小项目，我的任务是读取一个 xml 文件并解析它，以便它可以存储在一个类中。这是xml示例。它是用 SOAP 编写的，我想做的是得到

```
<ns2:getNewTokenResponse xmlns:ns2="http://abc.examples.com/"> 
```

这部分解析了子节点，以便我可以创建一个具有“nodeName”作为属性的类，其值为“getNewTokenResponse”。+会话密钥

```
<env:Envelope xmlns:env='http://schemas.xmlsoap.org/soap/envelope/'>
    <env:Header>
    </env:Header>
    <env:Body>
        <ns2:getNewTokenResponse xmlns:ns2="http://abc.examples.com/">
            <return>
                {{session.key}}
            </return>
        </ns2:getNewTokenResponse>
    </env:Body>
</env:Envelope> 
```

但我真正的问题是，我发现了很多很好的示例代码，命名空间没有前缀，xml 文件的结构可能会有所不同。所以在这里我很困惑以完成任务。我会很感激任何建议。干杯：D

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:27:54.227

要在 Java 中使用命名空间进行 XPath 查询，我相信您需要执行以下操作：

```
XPath xpath = XPathFactory.newInstance().newXPath();
xpath.setNamespaceContext(new NamespaceContext() {
    @Override
    public String getNamespaceURI(String prefix) {
        switch (prefix) {
            case "env":
                return "http://schemas.xmlsoap.org/soap/envelope/";
            case "ns2":
                return "http://abc.examples.com/";
        }

        return XMLConstants.NULL_NS_URI;
    }

    @Override
    public String getPrefix(String namespaceURI) {
        throw new UnsupportedOperationException("Not supported yet.");
    }

    @Override
    public Iterator getPrefixes(String namespaceURI) {
        throw new UnsupportedOperationException("Not supported yet.");
    }
});

Node getNewTokenResp = 
     (Node) xpath.evaluate("/env:Envelope/env:Body/ns2:getNewTokenResponse", 
     document, XPathConstants.NODE); 
```

在创建解析文档之前，您还需要调用`.setNamespaceAware(true);`您的。`DocumentBuilderFactory``DocumentBuilder`

# iphone - xcode build svn号码插入不起作用

> ID：14392202
> 
> 赞同：1
> 
> 时间：2013-01-18T04:05:59.673
> 
> 标签：iphone, ios, objective-c, xcode, ipad

我在我的 xcode 的构建阶段中尝试了这 2 个运行脚本，但它们都不起作用：

1)

```
REV=`svnversion -nc | /usr/bin/sed -e 's/^[^:]*://;s/[A-Za-z]//'`
buildplist="$PROJECT_DIR/build.plist"
/usr/libexec/PlistBuddy -c "Set :STBuildNumber $REV" ${buildplist} 
```

2)

```
plist="$PROJECT_DIR/build.plist"
svn update
rev=$(svn info | grep '^Revision:' | sed -e 's/^Revision: //')
/usr/libexec/PlistBuddy -c "Set :STBuildNumber $rev" "$plist" 
```

我在项目文件夹中有一个 build.plist 文件，键值为“STBuildNumber”。每次构建项目时，该值始终设置为 0。

有谁知道可能的原因是什么？我使用 Cornerstone 作为 SVN 客户端，但不是 xcode 的原始客户端。我也在使用虚拟机来运行 Mac OS。我总是从 SVN 中查看最新的项目文件，但只有我无法获得 SVN 编号，但我的朋友能够获得它。他还从 SVN 签出了相同的项目文件。

感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:57:36.177

我们所做的是生成一个头文件（被 svn 忽略），确保通过在列表中向上拖动脚本使您的脚本在“编译源”阶段之前运行。

有关信息，这是我们的脚本：

```
VERS=`/usr/libexec/PlistBuddy ${INFOPLIST_FILE} -c "print CFBundleVersion"`
REV=`svnversion -n`
if [ "$?" -eq "0" ] && [ "$CONFIGURATION" != "Distribution" ] ; then
  REV=$VERS"-r"$REV;
else
  REV=$VERS;
fi
echo "#define VersionString @\"$REV\"" > ${PROJECT_DIR}/version.h 
```

只有调试版本在版本字符串中有修订：例如 1.0-r212。当我们将源导出到 svn 之外时，svnversion 报告“已导出”。

# eclipse - 从 Eclipse 运行 Tomcat 时出现 HTTP 错误 404

> ID：14392207
> 
> 赞同：17
> 
> 时间：2013-01-18T04:06:29.790
> 
> 标签：eclipse, tomcat, servlets

我已经安装了 Eclipse 和 Tomcat 7。错误是当我从 Eclipse 运行 Tomcat 时它会启动，但之后，当我`localhost:8080`在 Google Chrome 中打开时，我会得到`HTTP Error 404()`. 请问我该如何解决？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2014-01-09T00:10:29.930

首先，停止您的 Tomcat，然后双击您的服务器，单击`Server Locations` 并检查`Use Tomcat Installation (takes control of Tomcat installation)`.

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-01-20T21:51:42.563

这是因为没有默认的 ROOT Web 应用程序。当您创建一些 Web 应用程序并使用 Eclipse 将其部署到 Tomcat 时，您将能够使用以下形式的 URL 访问它

```
http://localhost:8080/YourWebAppName 
```

其中*YourWebAppName*是您为 Web 应用程序指定的名称（所谓的**应用程序上下文路径**）。

引用[Jetty Documentation Wiki](http://www.eclipse.org/jetty/documentation/current/configuring-contexts.html#setting-context-path)（强调我的）：

> **上下文路径**是 URL 路径的前缀，用于选择将传入请求路由到的 Web 应用程序。通常，Java servlet 服务器中的 URL 是 format `http://hostname.com/contextPath/servletPath/pathInfo`，其中每个路径元素可以是零个或多个 / 分隔元素。**如果没有上下文路径，则上下文称为根上下文**。

* * *

如果您仍然想要使用表单的 URL 访问的**默认应用程序**

```
http://localhost:8080 
```

或者如果您将默认的 8080 端口更改为 80，那么只需

```
http://localhost 
```

即**没有应用程序上下文路径**，请阅读以下内容（引自[教程：安装 Tomcat 7 并与 Eclipse 一起使用](http://www.coreservlets.com/Apache-Tomcat-Tutorial/tomcat-7-with-eclipse.html)，强调我的）：

> 将 ROOT（默认）Web 应用程序复制到 Eclipse 中。**Eclipse 在 Eclipse 工作区中创建 Tomcat 文件夹时忘记复制默认应用程序（ROOT、示例、文档等）**。转到 C:\apache-tomcat-7.0.34\webapps 并复制 ROOT 文件夹。然后转到您的 Eclipse 工作区，转到 .metadata 文件夹，然后搜索“wtpwebapps”。您应该找到类似的东西 `C:\your-eclipse-workspace-location\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps` （或者`.../tmp1/wtpwebapps`如果您已经在 Eclipse 中注册了另一台服务器）。转到`wtpwebapps`文件夹并粘贴 ROOT（如果询问您是否要合并/替换文件夹/文件，请说“是”）。然后重新加载 `http://localhost/`以查看 Tomcat 欢迎页面。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-06-03T08:24:51.323

检查服务器配置和文件夹的路由：

1.  打开服务器视图（窗口 -> 打开视图... -> 其他... -> 搜索“服务器”。

2.  右键单击服务器（我的是 Tomcat v6.0）-> 属性-> 单击“切换位置”（检查该位置类似于 /servers ...

3.  双击服务器。这将打开一个新的服务器页面。在“服务器位置”区域中，选中“使用 Tomcat 安装（控制 Tomcat 安装）”选项。

4.  重新启动您的服务器。

5.  享受！

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-05-08T22:35:35.743

如果您更改了位置，使用选项“使用自定义位置（不修改 Tomcat 安装）”并且部署的目录是“wtpwebapps”，那么您必须：

1.  从 [workspace metadata] 切换到 /Servers/Tomcat v....，单击应用，确定。
2.  重新启动服务器，如果您发现 404 错误消息而不是服务器正在运行，它只是在您选择的 Web 服务器位置没有启动文件。如果您遍历该位置，您会发现一堆已创建的目录。其中之一是wtpwebapps，其下有ROOT。这是您的网络服务器的目录。您需要返回已安装的 Tomcat 目录并将 <tomcat's installed dir>/web-apps/ROOT 的内容复制到您的 wtpwebapps。重新启动网络服务器，您应该会看到 tomcat 默认页面。
3.  要使服务器状态、管理器应用程序和主机管理器正常工作，您必须将其他子目录从 <tomcat's installed dir>/webapps（即 docs、examples、host-manager、manager）复制到您的“webapps”（不是 wtpwebapps ） 目录。
4.  编辑 '<your web directory>/conf/tomcat-users.xml' 并输入如下内容：

```
      <role rolename="manager-gui"/>
      <role rolename="manager-status"/>
      <role rolename="manager-jmx"/>
      <role rolename="manager-script"/>
      <role rolename="admin-gui"/>
      <role rolename="admin"/>
      <user username="admin" password="yourpassword" roles="admin, admin-gui, manager-gui"/>

```

6.  然后编辑 '<your web directory>/conf/server.xml'，添加属性：

    ```
            只读=“真”

    ```

    进入 <GlobalNamingResources/> 组的 <Resource/> 键。
7.  重新启动服务器并尝试使用配置的凭据登录。

> **注意：如果您更改服务器配置，假设您想比较默认配置（使用 tomcat 安装目录）和“新目录”，当切换回“新目录”时，“tomcat-users.xml”将是被默认文件覆盖，因此在执行此操作之前将此文件的内容保存在某处，然后将其复制回来。如果您只给用户名“admin”角色，您将被提示帮助消息。它说：您不应该授予 admin-gui 或 manager-gui 角色“manager-jmx”和“manager-script”角色。**

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-06-04T09:24:05.207

Eclipse 在 Eclipse 工作区中创建 Tomcat 文件夹时忘记复制默认应用程序（ROOT、示例等）。转到 C:\apache-tomcat-7.0.34\webapps，右键单击 ROOT 文件夹并复制它。然后转到您的 Eclipse 工作区，转到 .metadata 文件夹，然后搜索“wtpwebapps”。您应该找到类似 your-eclipse-workspace.metadata.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps 的内容（或 .../tmp1/wtpwebapps，如果您已经在 Eclipse 中注册了另一台服务器）。转到 wtpwebapps 文件夹，单击鼠标右键并粘贴 ROOT（如果询问您是否要合并/替换文件夹/文件，请说“是”）。然后重新加载[http://localhost/](http://localhost/)以查看 Tomcat 欢迎页面。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-07-25T22:00:19.850

1.  单击窗口 > 显示视图 > 服务器或在“服务器”视图中右键单击服务器，选择“属性”。
2.  或 通过双击打开服务器的概览屏幕。
3.  在“服务器位置”选项卡中，选择“使用 Tomcat 位置”。
4.  保存配置并重新启动服务器。

这样 Eclipse 将完全控制 Tomcat，这样当您从 Eclipse 内部运行时，您还可以使用 Tomcat 管理器访问默认的 Tomcat 主页。

[截图附在这里](https://drive.google.com/file/d/0BwHK5LeWp37tRlI1UW8ySTY3TkU/edit?usp=sharing)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-12-24T13:58:07.080

安装 Tomcat 后我遇到了这个或类似的问题。

其他答案不太奏效，但让我走上了正确的道路。在发现一个显示我遇到的确切问题的 YouTube 视频后，我在[https://stackoverflow.com/a/20762179/3128838](https://stackoverflow.com/a/20762179/3128838)上回答了这个问题。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-12-18T21:48:57.147

解决此问题的另一种方法是在 Eclipse 上转到服务器的属性（右键单击服务器 -> 属性） 在常规选项卡中，您会看到位置为 workspace.metadata。点击切换位置。

# python - 如何在 Python 中进行二分法

> ID：14392208
> 
> 赞同：9
> 
> 时间：2013-01-18T04:06:35.950
> 
> 标签：python, algorithm, python-3.x, bisection

我想制作一个 Python 程序，该程序将运行二分法来确定以下内容的根：

```
f(x) = -26 + 85x - 91x2 +44x3 -8x4 + x5 
```

二分法是一种用于估计多项式 f(x) 的根的数值方法。

是否有任何可用的伪代码、算法或库可以用来告诉我答案？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-18T07:50:28.067

## 基本技术

这是一些显示基本技术的代码：

```
>>> def samesign(a, b):
        return a * b > 0

>>> def bisect(func, low, high):
    'Find root of continuous function where f(low) and f(high) have opposite signs'

    assert not samesign(func(low), func(high))

    for i in range(54):
        midpoint = (low + high) / 2.0
        if samesign(func(low), func(midpoint)):
            low = midpoint
        else:
            high = midpoint

    return midpoint

>>> def f(x):
        return -26 + 85*x - 91*x**2 +44*x**3 -8*x**4 + x**5

>>> x = bisect(f, 0, 1)
>>> print(x, f(x))
0.557025516287 3.74700270811e-16 
```

## 宽容

要在达到给定容差时提前退出，请在循环末尾添加一个测试：

```
def bisect(func, low, high, tolerance=None):
    assert not samesign(func(low), func(high))   
    for i in range(54):
        midpoint = (low + high) / 2.0
        if samesign(func(low), func(midpoint)):
            low = midpoint
        else:
            high = midpoint
        if tolerance is not None and abs(high - low) < tolerance:
            break   
    return midpoint 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-18T05:08:58.957

[您可以在此处](https://stackoverflow.com/questions/4326667/solving-equation-using-bisection-method)使用[scipy.optimize.bisect](http://www.scipy.org/doc/api_docs/SciPy.optimize.html)的早​​期 Stack Overflow 问题中看到解决方案。或者，如果您的目的是学习，则[Wikipedia 条目中有关二分法](http://en.wikipedia.org/wiki/Bisection_method)的伪代码是在 Python 中进行自己的实现的一个很好的指南，正如前面问题的评论者所建议的那样。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-03-23T13:36:01.207

我的实现比其他解决方案更通用但更简单：（和公共领域）

```
def solve(func, x = 0.0, step = 1e3, prec = 1e-10):
    """Find a root of func(x) using the bisection method.

    The function may be rising or falling, or a boolean expression, as long as
    the end points have differing signs or boolean values.

    Examples:
        solve(lambda x: x**3 > 1000) to calculate the cubic root of 1000.
        solve(math.sin, x=6, step=1) to solve sin(x)=0 with x=[6,7).
    """
    test = lambda x: func(x) > 0  # Convert into bool function
    begin, end = test(x), test(x + step)
    assert begin is not end  # func(x) and func(x+step) must be on opposite sides
    while abs(step) > prec:
        step *= 0.5
        if test(x + step) is not end: x += step
    return x 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-01-14T17:01:23.313

```
# Defining Function
def f(x):
    return x**3-5*x-9

# Implementing Bisection Method
def bisection(x0,x1,e):
    step = 1
    print('\n\n*** BISECTION METHOD IMPLEMENTATION ***')
    condition = True
    while condition:
        x2 = (x0 + x1)/2
        print('Iteration-%d, x2 = %0.6f and f(x2) = %0.6f' % (step, x2, f(x2)))

        if f(x0) * f(x2) < 0:
            x1 = x2
        else:
            x0 = x2

        step = step + 1
        condition = abs(f(x2)) > e

    print('\nRequired Root is : %0.8f' % x2)

# Input Section
x0 = input('First Guess: ')
x1 = input('Second Guess: ')
e = input('Tolerable Error: ')

# Converting input to float
x0 = float(x0)
x1 = float(x1)
e = float(e)

#Note: You can combine above two section like this
# x0 = float(input('First Guess: '))
# x1 = float(input('Second Guess: '))
# e = float(input('Tolerable Error: '))

# Checking Correctness of initial guess values and bisecting
if f(x0) * f(x1) > 0.0:
    print('Given guess values do not bracket the root.')
    print('Try Again with different guess values.')
else:
    bisection(x0,x1,e) 
```

[代码和输出在这里](https://www.codesansar.com/numerical-methods/bisection-method-python-program.htm)

此外， [codesansar.com/numerical-methods/](https://www.codesansar.com/numerical-methods/)拥有大量算法、伪代码和程序，它们使用不同的编程语言进行数值分析。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-23T18:38:49.010

有公差：

```
# there is only one root
def fn(x):
 return x**3 + 5*x - 9
 # define bisection method
def bisection( eq, segment, app = 0.3 ):
 a, b = segment['a'], segment['b']
 Fa, Fb = eq(a), eq(b)
 if Fa * Fb > 0:
  raise Exception('No change of sign - bisection not possible')   
 while( b - a > app ): 
  x = ( a + b ) / 2.0
  f = eq(x)
  if f * Fa > 0: a = x
  else: b = x  
 return x
 #test it
print bisection(fn,{'a':0,'b':5}, 0.00003) # => 1.32974624634 
```

直播：[http ://repl.it/k6q](http://repl.it/k6q)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-01-29T12:46:12.813

我正在尝试进行一些修改：

1.  While 循环：算法执行的容差和迭代次数
2.  保存除根方法外，算法生成的点向量xn（所有c个点），所有图像的向量f(c)
3.  假设 Xs 是根的给定近似值，保存绝对误差 np.linalg.norm(Xs-xn)
4.  保存近似错误：np.linalg.norm(xn+1 - xn)。

这是我的代码：

```
import numpy as np
def bisection3(f,x0,x1,tol,max_iter):
    c = (x0+x1)/2.0
    x0 = c
    Xs = 0.3604217029603
    err_Abs = np.linalg.norm(x0-Xs)
    itr = 0
    f_x0 = f(x0)
    f_x1 = f(x1)
    xp = [] # sucesion que converge a la raiz
    errores_Abs = []
    errores_Aprox = []
    fs = [] # esta sucecion debe converger a cero 
    while(((x1-x0)/2.0 > tol) and (itr< max_iter)):
        if f(c) == 0:
            return c
        elif f(x0)*f(c) < 0:
            x1 = c
        else :
            x0 = c
        c = (x0+x1)/2.0    
        itr +=1
        err_Abs = np.linalg.norm(x0-Xs)
        err_Aprox = np.linalg.norm(x1 - x0)
        fs.append(f(c))
        xp.append(c)
        errores_Abs.append(err_Abs)
        errores_Aprox.append(err_Aprox)
    return x0,errores_Abs, errores_Aprox,fs,xp 
```

我有一个执行示例：

```
f  = lambda x : 3*x + np.sin(x) - np.exp(x)
X0_r1 ,  err_Abs_r1,err_Aprox_r1, fs_r1 , xp_r1 =   bisection3(f,0,0.5,1e-5,100) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-05-10T07:19:59.523

可以修改上面的二分法，用一个公差作为止动器：

```
def samesign(a, b):
        return a*b > 0

def bisect(func, low, high):
    assert not samesign(func(low), func(high))
    n = 20
    e = 0.01 # the epsilon or error we justify for tolerance
    for i in range(n):
        if abs(func(low)-func(high)) > e:
            midpoint = (low + high) / 2
            print(i, midpoint, f(midpoint))
            if samesign(func(low), func(midpoint)):
                low = midpoint
            else:
                high = midpoint
        else:
            return round(midpoint, 2)
    return round(midpoint, 2) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-06-24T10:43:49.560

```
 def f(x):
    return -26 + 58 * x - 91 * x**2 + 44 * x**3 - 8 * x**4 + x**5

def relative_error(p, p_old):
    return abs((p - p_old) / p)

def bisection(a, b, no_iterations, accuracy):
    i = 1
    f_a = f(a)
    p_old = 0
    while i <= no_iterations:
        p = (a + b) / 2
        f_p = f(p)
        error = relative_error(p, p_old)
        print('%2d %4f %4f %6f %6f %4.6f' % (i, a, b, p, f_p, error))
        if error < accuracy or f_p == 0:
            break
        p_old = p
        i += 1
        if f_a * f_p > 0:
            a = p
            f_a = f_p
        else:
            b = p

bisection(1, 2, 20, 0.00001) 
```

# syntax - 这个 CVS 命令到底在做什么？

> ID：14392214
> 
> 赞同：0
> 
> 时间：2013-01-18T04:07:24.560
> 
> 标签：syntax, cvs

我已经在`CVS` `man`页面上搜索了一段时间，但是我无法理解这个`CVS`命令的确切含义。手册页中似乎有多个列表`-F`，我不确定这是否用于指定日志文件`regex`或什么。它是合并`${newTag}`还是标签？被定义为“生产”并作为参数传递给运行此脚本的脚本：`${mainTag}``constantPerl``mainTag``newTag`

```
cvs -d /home/main/cvs rtag -r ${newTag} -F ${mainTag} constantPerl 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T10:50:13.850

免责声明：我很久以前就没有使用过 CVS。

根据帮助，您的命令

*   使用 /home/main/cvs 作为存储库
*   创建一个远程标签（我不记得本地标签和远程标签之间的区别）
*   用作`newTag`用于创建新标签的修订版
*   用作`mainTag`新标签名称的名称
*   指定与`-F`现在要创建的具有相同名称的任何预先存在的标签将被移动以指向当前修订版（指定为`-r ${newTag}`
*   仅在`constantPerl`模块中创建标签，而不是在其他模块中。

```
$ cvs --help rtag
Usage: cvs rtag [-abdFflnR] [-r rev|-D date] tag modules...
    -a  Clear tag from removed files that would not otherwise be tagged.
    -b  Make the tag a "branch" tag, allowing concurrent development.
    -B  Allows -F and -d to disturb branch tags.  Use with extreme care.
    -d  Delete the given tag.
    -F  Move tag if it already exists.
    -f  Force a head revision match if tag/date not found.
    -l  Local directory only, not recursive.
    -n  No execution of 'tag program'.
    -R  Process directories recursively.
    -r rev  Existing revision/tag.
    -D  Existing date.
(Specify the --help global option for a list of other help options) 
```

# jquery - 如何在 FullCalendar 的月视图中获取滚动条

> ID：14392215
> 
> 赞同：1
> 
> 时间：2013-01-18T04:07:26.770
> 
> 标签：jquery, scrollbar, fullcalendar

我在月视图中一天有很多事件，或者我将其他一些事件拖到一天，那么 FullCalendar 的高度将会改变。我想修复完整日历的高度，如果有一天有很多 enents，那么将显示垂直滚动条。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T09:32:33.383

```
jquery fullcalendar scrollbar

  /* needed for modifying fullcalendar.css file */
    .fc-view {
        width: 100%; 
        height: 550px;
        position: absolute;
        bottom:0;
        overflow-y: auto;
        overflow-y: hidden;
        } 
```

# javascript - 如何在 CSS 中的文本框上放置一条对角线？

> ID：14392219
> 
> 赞同：2
> 
> 时间：2013-01-18T04:08:27.420
> 
> 标签：javascript, html, css, textbox, diagonal

抱歉没有示例，但基本上我想给出一个文本框被划掉的效果，比如被取消等。

有人有什么想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-09-12T14:00:07.710

或者，这是一个使用 SVG 线条（无 JS）的漂亮解决方案，它会自动缩放到您的文本区域的尺寸。例如，它也可以应用于 img 元素。

JSFiddle：http: [//jsfiddle.net/xbbzcsrk/](http://jsfiddle.net/xbbzcsrk/)

HTML：

```
<div class="crossed">
    <textarea>This is a test</textarea>
    <svg>
        <line x1="0" y1="100%" x2="100%" y2="0" />
        <line x1="0" y1="0" x2="100%" y2="100%" />
    </svg>
</div> 
```

CSS：

```
.crossed {
    position: relative;
    width: 200px;
    height: 80px;
}
.crossed svg {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
}
.crossed svg line {
    stroke: rgb(255, 0, 0);
    stroke-width: 2;
}
.crossed textarea {
    width: 100%;
    height: 100%;
    box-sizing:border-box;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:53:25.620

截图：![在此处输入图像描述](../Images/22d1058d889b8b6e9270d9a86aff5291.png)

html

```
<div class="con">
        <div class="input-con"><input type="text" value="text example" /></div>
        <div class="strip top-bottom"></div>
        <div class="strip bottom-top"></div>
     </div> 
```

css

```
.con {
         position: relative;
      }
      .strip {
        margin-left:2px;
         position: absolute;
         left: 0px;
         top: 0px;
         z-index: 10;
         border-width: 0 0 1px 0;
         border-color: red;
         border-style: solid;
         width: 145px;
         transform-origin:top left;
         -ms-transform-origin:top left;
         -moz-transform-origin:top left;
         -webkit-transform-origin:top left;
      }
      .top-bottom {
         margin-top: 2px;
         transform:rotate(8deg);
         -ms-transform:rotate(8deg);
         -moz-transform:rotate(8deg);
         -webkit-transform:rotate(8deg);
      }
      .bottom-top {
         margin-top: 1.2em;
         transform:rotate(-8deg);
         -ms-transform:rotate(-8deg);
         -moz-transform:rotate(-8deg);
         -webkit-transform:rotate(-8deg);
      }
      .input-con > input {
          line-height:1.2em;
          width:146px;
      } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T05:40:47.383

这是另一种可能的方法，这个方法使用 HTML5 画布元素在文本区域上绘制一个“x”。

[http://jsfiddle.net/rmqJf/](http://jsfiddle.net/rmqJf/)

自从我开始研究它之后，出现了很多其他答案，其中一些非常相似。有很多选择！

我将 textarea 直接放在画布顶部（大小相同），然后在 textarea 的背景上使用 rgba() 和 alpha 0 以使背景透明，以便您可以看到下面的画布。

不过，纵观这些，我倾向于觉得@Ragnarokkr 建议并由@kalpesh patel 提出的背景图像解决方案可能是最简单的解决方案，如果执行得当的话。

我的代码：

HTML：

```
 <canvas id="myCanvas" width="200" height="100"></canvas>
    <textarea id="myTextArea"></textarea> 
```

JS：

```
 var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    ctx.strokeStyle="red";
    ctx.moveTo(0,100);
    ctx.lineTo(200,0);
    ctx.stroke();
    ctx.moveTo(0,0);
    ctx.lineTo(200,100);
    ctx.stroke(); 
```

CSS：

```
 html, body { 
      margin: 0;
      padding: 0;
    }

    #myCanvas {
      padding: 0;
      margin: 0;
      width: 200px;
      height: 100px;
    }

    #myTextArea {
      position: absolute;
      left: 0px;
      right: 0;
      height: 102px;
      width: 202px;
      background: rgba(255,255,255,0);
      padding: 0;
      margin: 0;
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-18T09:42:34.323

将此添加为新答案，因为我认为它比我最初的回复效果更好：

[http://jsfiddle.net/QrLLA/](http://jsfiddle.net/QrLLA/)

这次只有几行代码。的HTML：

```
 <textarea id="myTextArea"></textarea> 
```

CSS：

```
 #myTextArea {
      display: block;
      background-image: url('http://i.imgur.com/4zKm6.png');
      background-size: 100% 100%;
      width: 200px;
      height: 100px;
    } 
```

只需使用我在 MS Paint 中制作的“x”图像作为文本区域的背景图像；该`background-size: 100% 100%;`属性允许重新调整大小。

截屏：

![截屏：](../Images/18ccab9ccd813e43758353b1bee894c0.png)

这仍然可以写入文本区域；我不确定在您的情况下这是否是理想的行为。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T04:19:37.510

您可以创建一个图像（一条对角线）并使用该图像设置文本框的背景（如果需要，可以水平重复）：

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-18T04:33:10.540

你可以试试这个：

标记：

```
<div class='canceled_input_container'>
  <input type='text'/>
  <span></span> 
</div> 
```

CSS：

```
div.canceled_input_container {
   position:relative;
   height:30px;
}

div.canceled_input_container span{
   position:absolute;
   background-image: url("/path/to/image");
   background-repeat: no-repeat;
   height:/*background image height*/
   width:/*background image width*/
   top:-15px;
   z-index:1;
} 
```

这只是为了指导您并且不包含最终解决方案，您必须根据您的要求设置位置和其他属性。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-18T04:53:39.283

好吧，这适用于大多数浏览器：

空：☐ `&#9744 ;`

勾选：☑ `&#9745 ;`

残疾人：☒ `&#9746 ;`

[添加颜色以使其看起来更加禁用。](http://jsfiddle.net/bFNYp/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-18T05:15:47.680

[http://jsfiddle.net/tylerbrownhenry/NRHY5/](http://jsfiddle.net/tylerbrownhenry/NRHY5/)

干得好。对于标记...

```
<input type='text'/> 
```

然后使用 jquery，您可以将其设为函数或回调，但这是您应该运行以将“X”添加到输入字段。我只是使用“输入”作为选择器，但您可以更改它以满足您的需要。

我只是用一个 div 包装了输入，然后在那个 div 里面放了另一个 div。子 div 的 z-index 应该高于输入字段，以便它位于顶部。

```
var input = $('input'),
divWidth = input.width();
  input.wrap('<div class="ex" style="width:'+divWidth+';"></div>').before('<div class="exMark exImage"></div>'); 
```

然后我不想发布 jsFiddle 中的整个 CSS。因为我使用了 dataUri，所以我不必上传图像，但您可以将背景图像制作为您想要的任何“X”图像。

```
.ex{
  z-index:10000;
width:0px; /* This will get overwritten by the javascript */
}

.exMark{
 width:150px; 
  z-index:1000;
  height:2px;
  position:absolute;
}

.exImage{
  position:absolute;
  width:150px;
  height:50px;
  background-repeat:no-repeat;
  background-image:url('x.jpg');  
} 
```

希望有帮助！

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2013-01-18T04:16:18.267

```
<hr id="linethru" width="100%" color="black" > 
```

# vim - Mac OS X 上的电力线未按预期工作

> ID：14392222
> 
> 赞同：6
> 
> 时间：2013-01-18T04:08:47.483
> 
> 标签：vim, vim-powerline

![如图所示，在为 vim 安装电源线后，一些符号的效果不太好。](../Images/979fa57f53cb9aff65b0d0c43a9ec667.png)

如图所示，为 vim 安装 powerline 后，某些符号不起作用。

为了搜索谷歌，我认为补丁字体可能存在问题。但尝试后我无法解决这个问题。有人可以帮助我吗？

```
Environment: Mac OSX 10.8.2, iTerm2\. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-12-03T23:04:49.160

——对于所有像我一样注意力不足的菜鸟。

我遇到了同样的问题，解决方案比安装字体更基本，但在其他任何地方都没有提到：在终端中手动设置字体（仍然需要确保安装了字体）。

在 iTerm2 中：iTerm > 首选项 > 配置文件 > 文本 > 常规字体和非 ASCII 字体。

在终端：终端>首选项>配置文件>文本>字体

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T04:23:50.730

请参阅“<a href="https://github.com/Lokaltog/powerline/issues/58" rel="nofollow">自定义字体不适用于 iTerm2。” 问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-28T15:11:42.383

安装[powerline-shell 字体](https://github.com/powerline/fonts)并在 iTerm2 中更改文本设置，例如使用 Inconsolata 字体。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-12-10T03:36:54.957

iTerm2 -> 首选项... -> 文本 -> 字体和非 ASCII 字体 -> 选择 Inconsolata for Powerline

[![在此处输入图像描述](../Images/64b30a54fd0f17431d024b303c9fa43d.png)](https://i.stack.imgur.com/7KWc8.jpg)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-12-09T01:55:48.900

对我来说，这个 vim 配置解决了这个问题：

```
g:Powerline_symbols = 'unicode' 
```

在某些情况下，它也可能需要：

```
set t_Co=256 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-17T22:13:36.843

由于您使用的是 iTerm 2，因此请确保您进入设置并将常规字体和非 ascii 字体设置为与电力线兼容的字体，否则提示分隔符和特殊字符将无法正确显示，因为您的情况正在发生这种情况。

# c++ - 检查“cin”是否为字符串

> ID：14392224
> 
> 赞同：0
> 
> 时间：2013-01-18T04:09:11.840
> 
> 标签：c++, string, input, int, cin

我正在编写一个简单的小脚本，我试图不允许人们输入一个字符串，或者如果他们确实让它再次恢复到函数的开头。这是我的输入代码：

```
int main()
{
    cout << "Input your first number" << endl;
    cin >> a;
    cout << "Input your second number" << endl;
    cin >> b;
} 
```

这部分之外的其余代码对于正在发生的事情都很好，尽管如果在这里输入一个字符串，它显然不起作用。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:16:45.933

你可能会发现这篇文章很有用，

[如何在 C++ 中检查输入是否为数字](https://stackoverflow.com/questions/5655142/how-to-check-if-input-is-numeric-in-c)

基本上你可以检查输入，是否是数值。检查给定输入是否为数字后，您可以在 main 中添加一个 while 循环，以要求用户在输入不是有效数字时重复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T04:18:38.547

每个输入都是一个字符串。如果您想知道输入的字符串是否可以转换为数字，您必须读取字符串并尝试自己进行转换（例如使用[strol](http://www.cplusplus.com/reference/cstdlib/strtol/)）。

另一种方法是检查从 cin 读取是否失败，但我个人不喜欢它，因为 cin.fail() 涵盖的错误情况不仅仅是类型转换失败。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T11:55:52.010

有一个库函数可能会有所帮助，您可以在输入后检查它：

```
int isdigit(char c); 
```

提示： 1.你应该包括这样的文件：

```
# include <ctype.h> 
```

2.如果c在0~9，返回1；否则返回 0。

# android - 用新版本更新后我们可以使用旧版本的 SQLite 吗？

> ID：14392228
> 
> 赞同：0
> 
> 时间：2013-01-18T04:09:56.050
> 
> 标签：android, sqlite

我有一个问题。重新发布 SQLite 数据库。

将`version`数字 1 更新为 2 后，我的数据库更新为`onUpgrade()`.

> 1-我想知道，我是否可以使用旧数据库。

`onUpgrade()`我用`db.drop("previous table");`

> 2-所以在删除该表后，我是否可以从中获取数据。

请详细解释。

任何好的建议都会被接受。

**已编辑：- 我们是否可以使用旧版本的数据库。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:12:20.587

*不，删除后*您无法从旧表中访问任何内容- 删除表就像删除操作 - 您不应该轻松重新获得对它的访问权限。从我从搜索引擎获得的第一个[链接：](http://www.sqlcourse.com/drop.html)

> 删除表会删除表定义及其所有行。

如果您仍然需要以前的数据，我建议您仍然使用该数据库，并且在您觉得不再需要它之前不要删除它。[这个](https://stackoverflow.com/a/3424444/1815485)SO answer 详细介绍了如何正确升级表。需要注意的一件有趣的事情是，如果您决定使用[`ALTER TABLE`](http://www.sqlite.org/lang_altertable.html)：

> SQLite**受限**于 ALTER TABLE 命令，它只允许添加和重命名，**不允许**删除/删除，这是通过重新创建表来完成的。

所以有多种方法可以解决这个问题——`ALTER TABLE`如果你有一点小事情要改变，那就很好了，你不必破坏所有东西，但如果你需要至少删除一列/行，你会想要遵循回答并创建一个临时表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:15:01.443

如果您想继续使用该表的数据，请不要删除它。请改用 ALTER TABLE 语句来添加新字段。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T04:21:06.743

不，您要做的是获取数据的副本（在内存中或在另一个数据库中），重新创建数据库，然后写回数据。

当然，这仅在您需要删除一个或多个表以进行升级过程时。对于添加新列等简单情况，无需删除/重新创建表；因此简化了流程。

# c# - 将 EST 时间转换为本地时间

> ID：14392241
> 
> 赞同：2
> 
> 时间：2013-01-18T04:11:05.343
> 
> 标签：c#, asp.net, time, timezone

我是 C# 新手

我正在使用 YQL 获取 XML 格式的数据。

我在美国东部标准时间晚上 10:47 收到一个时间

我想将其转换为我的时区，比如说转换为 CST（中国标准时间）或 MYT（马来西亚标准时间）

我如何使用 asp.net C# 进行转换

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:46:18.923

您可以尝试**TimeZoneInfo.ConvertTime**方法：

```
DateTime estTime = new DateTime(); //for example: 10:47PM EST

TimeZoneInfo estZone = TimeZoneInfo.FindSystemTimeZoneById("Eastern Standard Time");

TimeZoneInfo cstZone = TimeZoneInfo.FindSystemTimeZoneById("China Standard Time");

DateTime yourLocalTime = TimeZoneInfo.ConvertTime(estTime, estZone, cstZone); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:01:54.463

您可以转换所需区域的时间。试试这个

```
string ClientTime = ConvertDatebyUserTimezone(UserTimeZone, dateToConvert).ToString();

public DateTime ConvertDatebyUserTimezone(string UserTimezone, DateTime SrcDate)
{
    DateTime Returndate = SrcDate;                
    TimeZoneInfo Serverzone = null;
    System.Collections.ObjectModel.ReadOnlyCollection<TimeZoneInfo> timeZones = TimeZoneInfo.GetSystemTimeZones();
    foreach (TimeZoneInfo timeZoneInfo in timeZones)
    {
       if (timeZoneInfo.ToString().Contains(ToConvertTimezone))
       {
          Serverzone = TimeZoneInfo.FindSystemTimeZoneById(timeZoneInfo.Id);
          break;
       }
    }
    if (UserTimezone != "")
    {
        foreach (TimeZoneInfo timeZoneInfo in timeZones)
        {
            if (timeZoneInfo.ToString().Contains(UserTimezone))
            {
                TimeZoneInfo timez = TimeZoneInfo.FindSystemTimeZoneById(timeZoneInfo.Id);
                Returndate = TimeZoneInfo.ConvertTime(SrcDate, ToConvertTimezone, timez);
                break;
            }
        }
    }
    return Returndate;
} 
```

这会帮助你..

# javascript - 如何在 javascript 中创建通用工厂？

> ID：14392243
> 
> 赞同：1
> 
> 时间：2013-01-18T04:11:09.750
> 
> 标签：javascript

工厂课程不是我正在寻找的最终产品，但它基本上是我的问题归结为。我正在寻找一个我们将调用 foo 的类，它可以在另一个类 bar 中作为参数传递给它的构造函数，这样当稍后调用 fooInstance.create() 时，它会返回一个新的 bar 实例。我可以很容易地弄清楚如何让 fooInstance.create(bar) 创建一个 bar 的实例。但这不是我需要的。我需要工厂类的每个实例来创建特定类型的对象。所以：

```
 fooCar = new foo(Car);
    fooTruck = new foo(Truck);
    myCar = fooCar.create();
    myTruck = fooTruck.create(); 
```

这将是 c# 中的泛型轻松处理的事情。我要么得到错误，要么最终搞砸了 foo 的原型，然后更改了 foo 的所有实例创建的类型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:13:40.660

只需从您的工厂返回一个常规对象，只需一种`create`方法：

```
function foo (Constructor) {
    return {
        create: function () {
            return new Constructor();
        }
    };
} 
```

查看小提琴：http: [//jsfiddle.net/fR5Gz/1/](http://jsfiddle.net/fR5Gz/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T15:11:22.117

感谢大家的帮助。@missingno 我认为我试图做的事情的细节会使问题变得模糊，但现在我认为情况正好相反。下次我会知道的更好。我不是在寻找类型安全，但如果没有它，也许没有理由这样做。也许我陷入了古典思维。

实际上我今天早上自己想通了，因为我没有像我应该的那样在这个线程上收到任何电子邮件警报，所以我认为还没有任何回复。这是我的解决方案（仅相关代码）：

```
 ORM.Repository = (function (){
    function Repository(ob){
        this.construct = ob;
    };
    //bunch of other generic repository stuff deleted
    Repository.prototype.make = function () { return new this.construct();}
    return Repository;
})(); 
```

用法：

```
 var carRepository = new ORM.Repository(car);
    var personRepository = new ORM.Repository(person);
    var myCar = carRepository.make();
    var user = personRepository.make(); 
```

# linux - 如何保留最后 4 个完整备份

> ID：14392244
> 
> 赞同：0
> 
> 时间：2013-01-18T04:11:10.147
> 
> 标签：linux, backup, dump

我有一个 CentOS 服务器运行备份到外部硬盘驱动器。

我每天凌晨 4 点运行一次完整备份，每 2 小时运行一次增量备份。我保留了最近 30 天的备份，这是通过每天早上 6 点运行 cron 作业来清除所有超过 30 天的文件：

```
0  6  *  *  *  root /bin/find /mnt/hp/backups -mtime +30 -exec rm -f {} \; 
```

最近我的硬盘空间不足，所以我正在更改我的备份策略，只保留过去 4 周的 4 个完整备份。例如，每周一的完整备份。

如何编写脚本以保留过去 4 周的最后 4 次完整备份？我正在使用转储执行备份

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:55:42.200

这样做：

*   使用唯一的名称前缀进行完整的每周备份，例如`weeklybkp_`
*   然后在每周备份后在 cron 中添加如下脚本。

> ```
> DELETEMORETHAN=$(ls -1 weeklybkp* | wc -l)
> if [ "$DELETEMORETHAN" -gt 4 ] ; then
>    COUNT=$(echo "$DELETEMORETHAN - 4" | bc -l)
>    rm -rvf $(ls -1t weeklybkp* | tail -${COUNT})
> fi 
> ```

# javascript - 为什么 , , 标记和其他一些不被视为 HTML 的 tag?

> ID：14392245
> 
> 赞同：2
> 
> 时间：2013-01-18T04:11:10.803
> 
> 标签：javascript, jquery, html

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T04:14:21.897

`<html>`, `<body>`, 和`<head>`应该是文档的根，所以当它们不在根时将被忽略。

当你`<code>`在根目录添加时，浏览器`<html><body>`会自动在它之前插入，因为它知道它应该在那里，然后它会忽略其他的，因为它们不在根目录。

这意味着解析后的 DOM 树中的实际结果是：

```
<html>
  <head>
  </head>
  <body>
    <code>
      <div>
        Foo!
      </div>
    </code>
  </body>
</html> 
```

因此，当您的代码运行时，它会将所有内容都包含在`<code>`.

如果要将所有内容显示为文本，则应将 HTML 编码为文本，使用`&lt;`等，然后`.text()`改用。

像这样：http: [//jsfiddle.net/eqnK4/1/](http://jsfiddle.net/eqnK4/1/)

# html - 如何使用角度确定 html 表的第一行？

> ID：14392249
> 
> 赞同：2
> 
> 时间：2013-01-18T04:11:56.480
> 
> 标签：html, angularjs

我可以想到一些 hacky 方法，但例如在我的 doSomething 方法中，我如何确定 rowIndex？

```
 <tr ng-repeat="a in mydata">
            <td><b>{{doSomething(mydata.name)}}</b></td>
            <td>{{age}}</td>
            <td>hello</td>
        </tr> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-18T15:44:54.240

[ng-repeat](http://docs.angularjs.org/api/ng.directive%3angRepeat)提供属性 $first、$index、$middle 和 $last。由于在您询问第一行的标题问题中，您可以将 $first 作为布尔值传递：

```
<tr ng-repeat="a in mydata">
    <td><b>{{doSomething($first)}}</b></td>
    <td>{{a.age}}</td>
    <td>hello</td>
</tr> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T04:21:19.150

AngularJS 自动将魔法包含`$index`在 ng-repeat 中。所以你可以像这样得到行号：

```
<tr ng-repeat="a in mydata">
  <td><b>{{doSomething($index)}}</b></td>
  <td>{{a.name}}</td>
  <td>{{a.age}}</td>
</tr> 
```

# javascript - 循环对象然后删除它们

> ID：14392250
> 
> 赞同：0
> 
> 时间：2013-01-18T04:12:00.360
> 
> 标签：javascript

嘿，我有一个简单的循环，它迭代一堆对象并检查它们是否与变量匹配，如果匹配，我想将其从该列表中删除。

但我不知道该怎么做......这就是我想要做的事情的想法：

```
//my_objects is global (window.my_objects)

for(var i in my_objects){

   if(my_objects[i].value == 100){
       //remove it
    }

} 
```

除了为它创建一个数组之外，还有其他选择吗？我只能找到`delete`仅删除该属性的属性，这意味着该对象下次仍将通过我的循环进行迭代。

该函数每 X 秒调用一次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:17:12.223

像这样从对象中删除属性意味着它不会在下一次迭代中：

```
for(var i in my_objects){
   if(my_objects[i].value == 100){
       delete my_objects[i];
    }
} 
```

注意：这会将有问题的对象作为 `my_objects`. 如果没有其他代码引用现在删除的对象，那么它将可用于垃圾收集并最终释放。

# iphone - 更改 AVMetadataItem

> ID：14392252
> 
> 赞同：6
> 
> 时间：2013-01-18T04:12:17.133
> 
> 标签：iphone, ios, objective-c, avassetwriter, avmetadataitem

我有一些文件，-m4a -mp4 -mp3 等。我想更改这些详细信息

*   `AVMetadataItem`
*   `AVMetadataCommonKeyArtwork`
*   `AVMetadataCommonKeyArtist`

我可以使用`AVAssetExportSession`，但我需要更改目录。请问有没有办法直接在文件上写？

我找到了这个程序，但不起作用:(

```
NSError *error;
AVAssetWriter *assetWrtr = [[AVAssetWriter alloc] initWithURL:[NSURL fileURLWithPath:self.path] fileType:AVFileTypeAppleM4A error:&error];
NSLog(@"%@",error);

NSArray *existingMetadataArray = assetWrtr.metadata;
NSMutableArray *newMetadataArray = nil;
if (existingMetadataArray)
{
    newMetadataArray = [existingMetadataArray mutableCopy]; // To prevent overriding of existing metadata
}
else
{
    newMetadataArray = [[NSMutableArray alloc] init];
}

 AVMutableMetadataItem *item = [[AVMutableMetadataItem alloc] init];
item.keySpace = AVMetadataKeySpaceCommon;
item.key = AVMetadataCommonKeyArtwork;
item.value = UIImagePNGRepresentation([[UIImage alloc] initWithContentsOfFile:[[NSSearchPathForDirectoriesInDomains (NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:@".image"]]);

[newMetadataArray addObject:item];
assetWrtr.metadata = newMetadataArray;

[assetWrtr startWriting];
[assetWrtr startSessionAtSourceTime:kCMTimeZero]; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-09-04T11:31:24.340

将**UIImagePNGRepresentation**更改 为**UIImageJPEGRepresentation**您需要 jpeg 数据而不是 png。

# php - php 在另一个查询中使用上一个查询的结果

> ID：14392253
> 
> 赞同：0
> 
> 时间：2013-01-18T04:12:19.130
> 
> 标签：php, mysql

我需要从一个查询中获取结果并将其弹出到另一个查询中。

**第一次查询**

```
$query = 'SELECT * FROM singleprop.jos_mls WHERE MSTMLSNO = ' . $mlsnum . ';';
$result = mysql_query($query);
$row = mysql_fetch_row($result); 
```

**第二次查询**

```
$aquery = 'SELECT * FROM singleprop.jos_agents WHERE AGTBRDIDMM = ' . $row[0] . ';';
$aresult = mysql_query($aquery);
$agent = mysql_fetch_row($aresult); 
```

我知道`JOIN`，但不知道如何在第三张桌子上应用它。我的模型有什么关系`$this->`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:20:24.023

代码看起来不错。您可以使用您知道的连接编写查询。问题是什么？

```
SELECT * 
FROM   singleprop.jos_mls as mls JOIN singleprop.jos_agents 
          ON singleprop.jos_mls.KEY = singleprop.jos_agents.KEY
WHERE mls.MSTMLSNO = $mlsnum 
```

其中 KEY 是连接键

或者

```
SELECT * 
FROM   singleprop.jos_agents 
WHERE  AGTBRDIDMM = (
                     SELECT COL_NAME 
                     FROM   singleprop.jos_mls 
                     WHERE MSTMLSNO = ' . $mlsnum . '
                    ) 
```

第一个表中`COL_NAME`的列名在哪里`AGTBRDIDMM`

# c# - 如何另存为图片？

> ID：14392261
> 
> 赞同：0
> 
> 时间：2013-01-18T04:13:14.763
> 
> 标签：c#, image, picturebox

我刚刚创建了一个简单的网页，其中 Panel 中有一个 PictureBox，PictureBox 允许用户导入图片，Panel 允许用户插入颜色，那么如何将其导出/保存为 .jpeg 文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T04:18:32.317

```
pictureBox1.Image.Save(filePath, ImageFormat.Jpeg); 
```

查看[此 MSDN](http://msdn.microsoft.com/en-us/library/9t4syfhh.aspx)参考以获取更多知识。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:19:07.510

> 这是我对各种文件类型的额外支持的解决方案：

```
 public void ExportToBmp(string path)
        {
            using(var bitmap = new Bitmap(pictureBox.Width, pictureBox.Height))
            {
            pictureBox.DrawToBitmap(bitmap, pictureBox.ClientRectangle);
            ImageFormat imageFormat = null;

            var extension = Path.GetExtension(path);
            switch (extension)
            {
                case ".bmp":
                    imageFormat = ImageFormat.Bmp;
                    break;
                case ".png":
                    imageFormat = ImageFormat.Png;
                    break;
                case ".jpeg":
                case ".jpg":
                    imageFormat = ImageFormat.Jpeg;
                    break;
                case ".gif":
                    imageFormat = ImageFormat.Gif;
                    break;
                default:
                    throw new NotSupportedException("File extension is not supported");
            }

            bitmap.Save(path, imageFormat);
            }
        } 
```

# sql - Cast Iron 6.1：Put File 仅从具有多个结果的 SQL 查询中输出一行

> ID：14392267
> 
> 赞同：0
> 
> 时间：2013-01-18T04:13:55.523
> 
> 标签：sql, sql-server-2008, ftp, websphere

我的编排由 HTTP 消息触发，然后执行以下 SQL 查询（出于安全原因，已更改字段和表名称）：

```
SELECT Distinct '900' AS 'Type', 
    (DeTeamPATH.PKEY) AS 'Personal_ID', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.TENTLOGON, 121), ' ') 
    AS 'TLG', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.CIV_NAMES01, 121), ' ') 
    AS 'First name', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.CIV_NAMES02, 121), ' ') 
    AS 'Middle name', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.SURNAME, 121), ' ') 
    AS 'Surname', 
    ISNULL(CONVERT(nVarChar(30), UsTeam.STREET01, 121), ' ') 
    AS 'Corporation', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.GENDER, 121), ' ') 
    AS 'Gender', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.LOCAL_ADDRESS01 + ', ' 
    + DeTeam.LOCAL_ADDRESS03, 121), ' ') 
    AS 'Street Address',
    ISNULL(CONVERT(nVarChar(30), DeTeam.LOCAL_ADDRESS04, 121), ' ') 
    AS 'Suburb', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.COUNTRY, 121), ' ') 
    AS 'Country', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.LOCAL_POST, 121), ' ') 
    AS 'Postcode', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.BIRTHDATE, 121), ' ') 
    AS 'Date of Birth', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.EMAIL, 121), ' ') 
    AS 'Email address', 
    ISNULL(CONVERT(nVarChar(30), DeTeam.DOME_PHONE, 121), ' ') 
    AS 'Primary phone', 
    DeTeam.ICEPHONE AS 'Phone_2', 
    ISNULL(CONVERT(nVarChar(30), DeTeamPATH.Person_START, 121), ' ') 
    AS 'Session_start', 
    ISNULL(CONVERT(nVarChar(30), DeTeamPATH.Person_FINISH, 121), ' ') 
    AS 'Session_expiry'
FROM DeTeam

INNER JOIN DeTeamPATH 
    ON DeTeamPATH.PKEY = DeTeam.DeTeamKEY
INNER JOIN Fort 
    ON DeTeamPATH.ROUTEID = Fort.ROUTEID OR DeTeamPATH.STREAM=Fort.ROUTEID
INNER JOIN US_DE_SEM 
    ON US_DE_SEM.US_DE_SEMER = DeTeamPATH.SEM_START 
    OR US_DE_SEM.US_DE_SEMER = DeTeamPATH.SEM_FINISH
INNER JOIN UsTeam 
    ON UsTeam.TeamUS = DeTeamPATH.TeamUS

where DeTeam.TENTLOGON != ' ' and DeTeamPATH.PKEY != ' ' and 
      DeTeam.CIV_NAMES01 != ' ' and DeTeam.CIV_NAMES02 != ' ' and 
      DeTeam.SURNAME != ' ' and UsTeam.STREET01 != ' ' and 
      DeTeam.GENDER != ' ' and DeTeam.COUNTRY != ' ' and 
      DeTeam.TENTLOGON != ' ' and DeTeam.LOCAL_POST != ' ' and 
      DeTeam.BIRTHDATE != ' ' and DeTeam.EMAIL != ' ' and 
      DeTeam.DOME_PHONE != ' ' and DeTeamPATH.Person_START != ' '; 
```

然后它将数据写入一个平面文件（文本文件）并将其放在我的 FTP 服务器上的一个目录中。但是，文本文件只有一行 - 这是 SQL SELECT 查询的一个结果。当我直接在服务器上运行查询时，我得到了大约六个结果。我希望文件包含所有六个结果，但我希望在不久的将来通过该 SELECT 语句获得更多结果，所以我不想限制查询将检索多少结果，因为我希望它获得所有结果.

有人可以帮助我或告诉我我做错了什么吗？如果您需要更多详细信息，请告诉我，我将编辑此问题以包含它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T02:27:50.387

我有自己问题的答案！

在**Write Flat File**活动中，Map Inputs 选项卡的*From Orchestration*部分中的行重复出现，而*To Activity*部分中的行则不重复出现。所以，要解决这个问题，我必须编辑我的**平面文件架构**，并更改数据的属性，以便将事件标记为无界。（它之前的 Range 为 1，因此只有 1 行会被放入文本文件中。）我还必须在我的**Write Flat File活动中删除所有以前的输入映射，并将***From Orchestration*中的行映射到*To Activity*中的数据.

如果我可以这样说，我已经把这个答案放在这里，以防将来有人遇到同样的问题。我发现在 Internet 上找到有使用 WebSphere Cast Iron 经验的人是很困难的……所以如果这对任何人有帮助，我会很高兴！

@DaleM 感谢您的评论和帮助！

# java - 如何检查字符串是否包含字符列表？

> ID：14392270
> 
> 赞同：20
> 
> 时间：2013-01-18T04:14:02.300
> 
> 标签：java, regex, string, char

如何检查字符列表是否在字符串中，例如“ABCDEFGH”如何检查其中任何一个是否在字符串中。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-18T04:18:17.003

在java中使用正则表达式来检查在java中使用`str.matches(regex_here)` [正则表达式](http://www.vogella.com/articles/JavaRegularExpressions/article.html)

例如：

```
 if("asdhAkldffl".matches(".*[ABCDEFGH].*"))
    {
        System.out.println("yes");
    } 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-01-18T04:35:24.170

实现这一点的最简洁方法是使用[StringUtils.containsAny(String, String)](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-java.lang.CharSequence-)

```
package com.sandbox;

import org.apache.commons.lang.StringUtils;
import org.junit.Test;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

public class SandboxTest {

    @Test
    public void testQuestionInput() {
        assertTrue(StringUtils.containsAny("39823839A983923", "ABCDEFGH"));
        assertTrue(StringUtils.containsAny("A", "ABCDEFGH"));
        assertTrue(StringUtils.containsAny("ABCDEFGH", "ABCDEFGH"));
        assertTrue(StringUtils.containsAny("AB", "ABCDEFGH"));
        assertFalse(StringUtils.containsAny("39823839983923", "ABCDEFGH"));
        assertFalse(StringUtils.containsAny("", "ABCDEFGH"));
    }

} 
```

Maven依赖：

```
 <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-lang3</artifactId>
        <version>3.5</version>
    </dependency> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-06-08T13:33:02.397

来自番石榴：[CharMatcher.matchesAnyOf](https://google.github.io/guava/releases/16.0/api/docs/com/google/common/base/CharMatcher.html#matchesAnyOf(java.lang.CharSequence))

```
private static final CharMatcher CHARACTERS = CharMatcher.anyOf("ABCDEFGH");
assertTrue(CHARACTERS.matchesAnyOf("39823839A983923")); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-01-28T09:52:37.853

如果`"ABCDEFGH"`是在字符串变量中，正则表达式的解决方案不好。如果字符串包含任何在正则表达式中具有特殊含义的字符，它将不起作用。相反，我建议：

```
 Set<Character> charsToTestFor = "ABCDEFGH".chars()
            .mapToObj(ch -> Character.valueOf((char) ch))
            .collect(Collectors.toSet());
    String stringToTest = "asdhAkldffl";
    boolean anyCharInString = stringToTest.chars()
            .anyMatch(ch -> charsToTestFor.contains(Character.valueOf((char) ch)));
    System.out.println("Does " + stringToTest + " contain any of " + charsToTestFor + "? " + anyCharInString); 
```

使用字符串`asdhAkldffl`和`ABCDEFGH`此代码段输出：

> asdhAkldffl 是否包含 [A, B, C, D, E, F, G, H] 中的任何一个？真的

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-18T04:21:19.643

我认为这是一个新手问题，所以我会给你我能想到的简单方法：[使用 indexof](http://www.homeandlearn.co.uk/java/indexOf.html)复杂版本包含[正则表达式](http://docs.oracle.com/javase/tutorial/essential/regex/)，如果你愿意，你可以尝试。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-09-20T12:16:37.757

这就是如何使用 Pattern 和 Matcher 来实现的，

```
Pattern p = Pattern.compile("[^A-Za-z0-9 ]");
Matcher m = p.matcher(trString);
boolean hasSpecialChars = m.find(); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2020-07-30T22:58:16.767

使用 Apache Commons StringUtils.containsAny()..满足许多不同的用例，用于检查字符串中是否存在某些字符。

[https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-char...-](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-char...-)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-18T04:24:20.637

这似乎是一个家庭作业问题...... -_-

您可以使用 String.contains() 函数。
例如：

```
"string".contains("a");
String str = "wasd";
str.contains("a"); 
```

但是您需要为每个要检查的字符调用一次。

# sphinx - 如何让 Sphinx 更喜欢复杂的关键字而不是其部件

> ID：14392271
> 
> 赞同：0
> 
> 时间：2013-01-18T04:14:13.183
> 
> 标签：sphinx

我们有两个字段：关键字（权重 10）和文本（权重 1）。

我们来看三个记录：

A：关键字=“**一些东西**，快乐猫”，文本=“这是A”

B：关键字=“**东西**在哪里，**一些**狗”，文本=“这是B**一些东西**”

C:keywords = "**有些东西**在哪里", text = "这是 B**有些东西**"

在搜索**某些东西**时，我们希望 A 记录高于 B 和 C。

Sphinx 显示 A 低于其他，因为它对这些东西的提及较少。但是 A 的关键字完全匹配（逗号的真正含义），所以它是唯一正确的答案。

如何配置 Sphinx 以实现这一目标？任何类型的文本预处理都是允许的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T10:55:40.330

您可以根据需要检查各种排名模式。

请参阅**SPH_RANK_SPH04**排名模式，这应该按照您的期望工作您应该提及您使用的是哪个版本的 sphinx。

[请在此处](http://sphinxsearch.com/docs/2.0.6/weighting.html)阅读有关排名模式的更多详细信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T11:53:18.617

在您的示例中，C 是最相关的。

您可以使用搜索词周围的引号按完全匹配进行过滤。您需要将匹配模式设置为 SPH_MATCH_MODE_EXTENDED2，它告诉 sphinx 获取包含确切字符串的文档。

我建议您看一下[扩展搜索语法](http://sphinxsearch.com/docs/manual-2.0.6.html#extended-syntax)。

# android - 如何检查Phonegap框架中是否存在目录和文件？

> ID：14392274
> 
> 赞同：1
> 
> 时间：2013-01-18T04:14:34.243
> 
> 标签：android, ios, cordova, blackberry

如何检查Phonegap框架中是否存在目录和文件？
这是如何在Phonegap中完成的
**请帮助我**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:18:32.577

您可以使用文件阅读器对象。

```
var reader = new FileReader();
var fileSource = <here is your file path>

reader.onloadend = function(evt) {

if(evt.target.result == null) {
   // If you receive a null value the file doesn't exists
} else {
    // Otherwise the file exists
}         
};

// We are going to check if the file exists
reader.readAsDataURL(fileSource); 
```

# backbone.js - 如何在 Backbone 没有变化时调用 validate？

> ID：14392275
> 
> 赞同：1
> 
> 时间：2013-01-18T04:14:34.773
> 
> 标签：backbone.js

# 设置验证失败的数据

```
Model.set({phoneNumber : 'meow meow'}) 
```

# 应用边框颜色的验证

```
validate: function(attr){
    if(attr.phoneNumber){
        var phoneNumber = attr.phoneNumber,
            regex = /^\([0-9]{3}\)\s[0-9]{3}-[0-9]{4}/;
        if(!regex.test(val)){
            View.showError('businessNumber');
        }
} 
```

*   后来用户`focus`在输入字段上，我删除了错误样式
*   用户没有改变任何东西并且`blur`事件被触发
*   验证不会运行，因为没有任何改变。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:05:28.980

不要直接从您的模型中引用您的视图。这是对模型/视图/*设计*的*核心原则的彻底和根本性的违反。当您调用`set`并且验证失败时，模型将发出一个`error`事件（从 Backbone 0.9.9 开始），您的视图应该通过相应地更新视图来监听和响应该事件。您也可以交替传递回调来`set`处理错误，但在大多数情况下，事件是更好的选择。请注意，您的模型实际上需要从 中返回一个错误对象`validate`，该对象将拒绝更新数据，因此在用户修复输入并`blur`发生后，数据实际上会发生变化。使用您的代码，Backbone 认为`validate`调用成功，因为没有返回错误。

在您看来，这里有一些伪代码展示了如何将模型的错误对象转换为 UI 警告：

```
initialize: function () {
    _.bindAll(this);
    this.model.on('error', this.showError);
},

showError: function (error) {
    if (error.businessNumber) {
        this.$businessNumber.addClass('error');
    }
} 
```

作为旁注，不要对如何使用主干表单感到困惑。开箱即用`set`不会接受无效数据的事实是一个巨大的绊脚石，而且不直观。有一些插件可以帮助表单和验证（https://github.com/documentcloud/backbone/wiki/Extensions,-Plugins,-Resources），但开箱即用这不是显而易见/简单的部分之一骨干。

# silverlight-4.0 - 在子窗口中加载 UserControl

> ID：14392276
> 
> 赞同：1
> 
> 时间：2013-01-18T04:14:40.473
> 
> 标签：silverlight-4.0, user-controls, navigation, silverlight-5.0, childwindow

我有一个在 Silverlight 中创建的子窗口。我需要在单击按钮时在子窗口中加载用户控件（用于同一子窗口中的内容更改）。我怎样才能做到这一点？

举例来说：如果我有一个带有标题 -> 内容 -> 按钮的子窗口。我只需要在单击按钮时更改内容部分和按钮部分。我还需要更改按钮，因为无法使用相同的按钮单击事件进行导航。

是否有可能在 Silverlight 4.0 或 5.0 中实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T14:39:01.997

这是一种方法。创建一个画布来保存内容，然后单击按钮，添加用户控件并将其作为子控件添加到画布中。如果要更改按钮，而不是更改按钮，请在同一个按钮上单击按钮内容到不同的文本。

> 私人无效Button_Click_1（对象发送者，RoutedEventArgs e）
> 
> {
> SilverlightControl1 control1 = new SilverlightControl1();
> top.Children.Add(control1);
> }

希望这可以帮助。

# javascript - Javascript评分系统

> ID：14392280
> 
> 赞同：3
> 
> 时间：2013-01-18T04:15:01.440
> 
> 标签：javascript, rating

我不是 javascript 大师，所以请耐心等待。

我正在寻找一个好的 js 评级，然后我跑到他的博客：

[http://www.marcofolio.net/webdesign/jquery_quickie_colourful_rating_system_with_css3.html](http://www.marcofolio.net/webdesign/jquery_quickie_colourful_rating_system_with_css3.html)

作者有一个demo，并提供了代码下载。

它看起来真的很不错，只是它没有保存颜色的示例。因此，一旦用户将鼠标移开，颜色就会恢复为黑色（默认颜色）。

知道如何固定颜色吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T23:07:06.787

除了 TimDog 添加的代码：

添加

```
_rated = false; 
```

到

```
$(".fav_rating li label").hover(function() { 
```

每次用户将鼠标悬停在评级上时都会重置颜色。然后当他们点击 _rated 设置为 true 并因此防止颜色变化

此外，我在我的表单中使用了一个隐藏的输入，它将包含评级的值。为此，我的 .click 如下所示：

```
$(".fav_rating li label").click(function(e) {
    e.preventDefault();
    _rated = true;
    $("#item_fav_rating").val($(this).parent().index() + 1)
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:20:13.440

这是一种方法——我仔细查看`script.js`了示例代码中的：

在下面添加这个全局变量`animationTime`

```
var _rated = false; 
```

颜色在这里被重置——看看我是如何使用这个`_rated`变量的？

```
// Restore all the rating to their original colours
if (_rated) $("#rating li a").stop().animate({ backgroundColor : "#333" } , animationTime); 
```

然后在您的点击处理程序中：

```
//Prevent the click event and show the rating
$("#rating li a").click(function (e) {
    e.preventDefault();
    _rated = true;
    //alert("You voted on item number " + ($(this).parent().index() + 1));
}); 
```

这将保持颜色突出显示。当您刷新页面或重新运行上面的重置动画行时，它将被重置。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:20:25.250

我还没有看到您提到的博客的代码，但是当用户单击任何按钮时，它似乎会显示警报，即使用了 onclick()。所以你可以有一个全局变量来保存数字，你可以在其中添加代码来保持颜色。

# android - 从活动中的按钮停止广播接收器

> ID：14392281
> 
> 赞同：6
> 
> 时间：2013-01-18T04:15:03.920
> 
> 标签：android, broadcastreceiver

我想通过单击按钮来停止和启动广播接收器。与广播接收器关联的两个服务也应该停止并开始按钮单击我该怎么做..

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-18T04:52:42.700

这是代码…………

```
b1.setOnClickListener(new View.OnClickListener() {

 @Override
 public void onClick(View v) {
    // TODO Auto-generated method stub

        PackageManager pm  = Re_editActivity.this.getPackageManager();
        ComponentName componentName = new ComponentName(currentActivity.this, name_of_your_receiver.class);
        pm.setComponentEnabledSetting(componentName,PackageManager.COMPONENT_ENABLED_STATE_ENABLED,
                        PackageManager.DONT_KILL_APP);
        Toast.makeText(getApplicationContext(), "activated", Toast.LENGTH_LONG).show();

        }
    });

  b2.setOnClickListener(new View.OnClickListener() {

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        PackageManager pm  = Re_editActivity.this.getPackageManager();
        ComponentName componentName = new ComponentName(currentActivity.this, name_of_your_receiver.class);
        pm.setComponentEnabledSetting(componentName,PackageManager.COMPONENT_ENABLED_STATE_DISABLED,
                        PackageManager.DONT_KILL_APP);
        Toast.makeText(getApplicationContext(), "cancelled", Toast.LENGTH_LONG).show();
    }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T04:23:35.553

您可以选择*“停止”*广播接收器，比如单击*按钮*，或者可能在*onPause()*中。

例如：

```
// DECLARED GLOBALLY
BroadcastReceiver receiver;
Intent intentMyService;
ComponentName service; 
```

并且在`onCreate()`：

```
// FOR THE SERVICE:
intentMyService = new Intent(this, MyGpsService.class);
service = startService(intentMyService);

// FOR THE BROADCASTRECEIVER:
IntentFilter mainFilter = new IntentFilter();
receiver = new MyMainLocalReceiver();
registerReceiver(receiver, mainFilter); 
```

然后要*“停止”*它，您所要做的就是在 a`onPause()`的单击或单击时调用此方法`Button`：

```
// "STOP" THE BROADCASTRECEIVER
unregisterReceiver(receiver);

// STOP THE SERVICE
stopService(intentMyService); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-18T04:52:47.197

```
public class MyActivity extends Activity
{
  private final BroadcastReceiver mybroadcast = new SmsBR();

  public void onResume()
  {
    IntentFilter filter = new IntentFilter();
    filter.addAction("android.provider.Telephony.SMS_RECEIVED");
    registerReceiver(mybroadcast, filter);  

  }

  public void onPause()
  { 
```

// 在您的按钮单击事件中添加以下行

```
 unregisterReceiver(mybroadcast);
  }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-18T04:48:37.180

将此代码放在按钮单击上，它将通过广播接收器启动一个活动

```
public class MyReceiver extends BroadcastReceiver {

@Override
public void onReceive(Context context, Intent intent) {
// TODO Auto-generated method stub
Toast.makeText(context, "MyReceiver Started", Toast.LENGTH_SHORT).show();
Intent myIntent=new Intent(context,MyService.class);        
context.startService(myIntent);
}

} 
```

然后创建要启动的服务............作为：

```
public class MyService extends Service {

@Override
public IBinder onBind(Intent intent) {      
    return null;
}

@Override
public int onStartCommand(Intent intent, int flags, int startId){
Toast.makeText(getBaseContext(), "Service Started", Toast.LENGTH_SHORT).show();
// We want this service to continue running until it is explicitly
    // stopped, so return sticky.
    return START_STICKY;
}

} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-04-11T06:36:02.207

这是代码

```
private void startBroadCastReceiver() {
    PackageManager pm = this.getPackageManager();
    ComponentName componentName = new ComponentName(this, ConnectionReceiver.class);
    pm.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_ENABLED,
            PackageManager.DONT_KILL_APP);
    Toast.makeText(getApplicationContext(), "BroadCast Receiver Started", Toast.LENGTH_LONG).show();
}

private void killBroadCastReceiver() {
    PackageManager pm = this.getPackageManager();
    ComponentName componentName = new ComponentName(this, ConnectionReceiver.class);
    pm.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED,
            PackageManager.DONT_KILL_APP);
    Toast.makeText(getApplicationContext(), "BroadCast Receiver Killed", Toast.LENGTH_LONG).show();
} 
```

您可以在 onStart() 方法中调用 startBroadCastReceiver() 并根据您的要求调用 killBroadCastReceiver()

# javascript - Javascript - 双文件 Dragover 事件触发

> ID：14392293
> 
> 赞同：4
> 
> 时间：2013-01-18T04:16:28.100
> 
> 标签：javascript, jquery, drag-and-drop

我正在尝试创建一个文件拖放处理程序（将文件拖到浏览器窗口中，用于上传）。

出于某种原因，当我将拖放侦听器绑定到`$("body")`而不是绑定到`$("div")`主体中的 a 时，事件会连续触发多次，有时甚至是不间断的（看似循环）。这可能是什么原因造成的？

这是代码的精简版本：http: [//jsfiddle.net/WxMwK/9/](http://jsfiddle.net/WxMwK/9/)

```
var over = false;

$("body")
    .on("dragover", function(e){
        e.preventDefault();
        if (! over) {
            over = true;
            $("ul").append($("<li/>").text("dragover"));    
        }
    })
    .on("dragleave", function(e){
        e.preventDefault();
        if (over) {
            over = false;
            $("ul").append($("<li/>").text("dragleave"));
        }
    })
    .on("drop", function(e){
        e.preventDefault();
        if (over) {
            over = false;
            $("ul").append($("<li/>").text("drop"));
        }
    }); 
```

测试：将文件拖入橙色区域，您将看到该事件连续触发多次。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-18T05:13:50.580

匿名是（大部分）正确的。简而言之：当鼠标移动到放置目标内元素的*边缘*时，您将获得*光标下*`dropenter`元素的 a 和先前光标下的元素的a 。这绝对发生在任何后代身上。*`dropleave`*

 *您无法检查与 关联的元素`dragleave`，因为如果您将鼠标*从*放置目标移动*到*子元素上，您将获得子元素的 a `dropenter`，然后是`dropleave`目标的 a！这有点荒谬，我根本看不出这是一个有用的设计。

这是我前段时间想出的一个糟糕的基于 jQuery 的解决方案。

```
var $drop_target = $(document.body);
var within_enter = false;

$drop_target.bind('dragenter', function(evt) {
    // Default behavior is to deny a drop, so this will allow it
    evt.preventDefault();

    within_enter = true;
    setTimeout(function() { within_enter = false; }, 0);

    // This is the part that makes the drop area light up
    $(this).addClass('js-dropzone');
});
$drop_target.bind('dragover', function(evt) {
    // Same as above
    evt.preventDefault();
});
$drop_target.bind('dragleave', function(evt) {
    if (! within_enter) {
        // And this makes it un-light-up  :)
        $(this).removeClass('js-dropzone');
    }
    within_enter = false;
});

// Handle the actual drop effect
$drop_target.bind('drop', function(evt) {
    // Be sure to reset your state down here
    $(this).removeClass('js-dropzone');
    within_enter = false;

    evt.preventDefault();

    do_whatever(evt.originalEvent.dataTransfer.files);
}); 
```

诀窍依赖于两个事实：

*   当您将鼠标从孙子元素移到子元素时，两者都`dragenter`将`dragleave`排队等待目标元素——<em>按此顺序。
*   `dragenter`和*一起*`dragleave`排队。_

 *所以这就是发生的事情。

*   在这种情况`dragenter`下，我设置了一些共享变量来指示拖动运动尚未完成解决。
*   我使用`setTimeout`零延迟来立即更改该变量。
*   但！因为这两个事件在同一时间排队，所以在*这两个*事件完成解析之前，浏览器不会运行任何预定的功能。所以接下来发生的是`dragleave`的事件处理程序。
*   如果`dragleave`看到它与`dragenter`同一目标元素上的 a 配对，则意味着鼠标*必须*从某个后代移动到另一个后代。否则，鼠标实际上正在离开目标元素。
*   然后`setTimeout`finally 在零秒后解决，在另一个事件发生之前设置回变量。

我想不出更简单的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:00:56.537

您正在为和的`BODY`HTMLElement添加一个侦听`dragover`器。`dragleave``drop`

当您继续在 DIV 上拖动时`dragleave`，会触发一个，因为鼠标不再拖动到 BODY 上，而是在 DIV 上。

其次，由于您没有停止`DIV`（未设置侦听器）上的气泡事件，因此`DIV`在`BODY`.

如果我恢复：

鼠标进入正文（在dragover中）

-->**火拖过（身体）**

鼠标进入体内的DIV

-->**火拖离开（BODY）**

-->**火拖 (DIV)** -->**事件冒泡**-->**火拖 (BODY)**

和也有类似的问题，可以通过使用 和 来`mouseover`解决。`mouseout``mouseenter``mouseleave`

可能您可以使用`dragenter`事件类型尝试相同的代码。如果它不起作用，您可以检查是否`event.target`是`BODY`. 此测试可以帮助跳过不需要的拖动事件。

祝你好运

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-11T20:53:26.070

```
var over = false; 

$("body")
.on("dragover", function(e){
    e.preventDefault();
    if (! over) {
        over = true;
        $("ul").append($("<li/>").text("dragover"));    
    }
})
.on("dragleave", function(e){
    e.preventDefault();
    if (over) {
        over = false;
        $("ul").append($("<li/>").text("dragleave"));
    }
})
.on("drop", function(e){
    e.preventDefault();
    if (over) {
        over = false;
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-10T20:22:22.317

或者你可以`stop();`用来停止动画的建立**

# java - 找到第一次出现的奇数并计算它们

> ID：14392299
> 
> 赞同：0
> 
> 时间：2013-01-18T04:17:19.057
> 
> 标签：java, arrays

```
import java.util.*;

public class FirstOddOccurrence {
    public static void main(String[] args) {
        int[] x = {2, 4, 6, 7, 4, 3, 2, 7, 6, 7, 7};
        int i;

        display(x);

        System.out.printf("# Occurrences of first odd = %3d\n", firstOddCount(x));
    }

    private static void display(int[] x) {
        int i;

        System.out.print("Array: ");
        for (i = 0; i < x.length; i++) {
            if (i < x.length - 1)
                System.out.printf("%3d, ", x[i]);
            else
                System.out.printf("%3d\n", x[i]);
        }
    }

    public static int odd(int[] x) {
        int i;
        int y;
        for (i = 0; i < x.length; i++) {
            y = x[i] % 2;
            if (y == 1) {
                return x[i];
            } else {
                return 0;
            }
        }
        return x[i];
    }

    public static int firstOddCount(int x[]) {
        int i;
        int c = 0;
        for (i = 0; i < x.length; i++) {
            if (x[i] == odd(x))
                c++;

        }
        return c;
    }
} 
```

我试图在已提供的数组中找到第一次出现的奇数。我的程序有什么问题？我似乎无法让程序计算第一次出现的奇数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:23:40.333

你的代码在这里：

```
if (y == 1) {
    return x[i];
} else {
    return 0;
} 
```

不起作用 - 如果测试的数字是偶数，您立即返回`0`. 相反，您想跳过这些偶数并等到奇数出现。最后，如果你没有找到任何奇数，你就返回`0`。以下是 的更正版本`odd()`：

```
int i;
int y;
for (i = 0; i < x.length; i++) {
    y = x[i] % 2;
    if (y == 1) {
        return x[i];
    }
}
return 0; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:28:44.673

Andr 的解决方案解决了您的问题；如果 x[0] 是偶数，odd(x) 将返回 0，如果是奇数，则返回 x[0]。

你也可以像这样改进 firstOddCount：odd(x) 总是返回相同的值，所以只计算一次。

```
public static int firstOddCount(int x[]) {
   int firstOdd = odd(x);
   int c=0;
   for(int i=0; i < x.length; i++) {
       if (x[i]==firstOdd)
            c++;
   }
   return c; 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-14T05:52:25.987

您的特殊问题是，`0`如果您找到偶数，您会返回。这意味着该列表`{2, 4, 6, 8, 1}`将给你`0`，而不是`1`，作为第一个奇数。

您*应该*做的是忽略前导偶数并继续处理列表。

但是，按照您组织程序的方式，您要处理列表的第一个全偶数部分两次，一次是`odd()` 为了找到第一个奇数，然后再一次是`firstOddCount()`为了计算该数有多少 - 这*完全*是不必要。

一旦找到第一个奇数，我认为您可以*合理*地确定该数字（或任何*其他*奇数）在您已经搜索过的空间中不存在。否则*它将*是第一个奇数。因此，返回并再次查看列表的初始部分是没有意义的。

您可以轻松地处理*一次*列表的一种方法如下：

```
public static int firstOddCount (int numbers[]) {
    // Find first odd number or end of list.

    int idx = 0, len = numbers.length;
    while ((idx < len) && ((numbers[idx] % 2) == 0)
        idx++;

    // If at end of list, everything is even => count(first(odd)) is 0.

    if (idx == len)
        return 0;

    // Otherwise, start counting from current position.

    int count = 1, oddnum = numbers[idx];
    while (++idx < len)
        if (numbers[idx] == oddnum)
            count++;

    return count;
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-18T04:24:48.293

如果您试图从组中获取一个元素，您应该在您的条件第一次匹配时使用“break”，否则它将给出所有...

# mysql - 在mysql中使用多个表的列的多个求和函数会给出不正确的值

> ID：14392305
> 
> 赞同：2
> 
> 时间：2013-01-18T04:18:07.027
> 
> 标签：mysql, aggregate-functions

我有几个 MySQL 表，如下所示

```
表格1
Att1 | 旗帜
xxx | 1

表2
Att1 | 旗帜
xxx | 2
年年 | 2

表3
Att1 | 旗帜
xxx | 3
年年 | 3

表4
Att1 | 旗帜
xxx | 4

表5
Att1 | 旗帜
xxx | 6

```

每个表都有一些属性以及上述属性。我想总结每个表的标志属性并查看它们。MySQL代码如下。

```
创建视图块为
选择 sum(table1.flag) 作为 table1， sum(table2.flag) 作为 table2，
sum(table3.flag) as table3, sum(table4.flag) as table4,
sum(table5.flag) as table5
从表 1、表 2、表 3、表 4、表 5；

```

在我看来，我看到的是：

```
表1|表2|表3|表4|表5
4 |8 |12 |16 |24

```

在我看来，我真正想看到的是：

```
表1|表2|表3|表4|表5
1 |4 |6 |4 |6

```

帮我！提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T04:23:01.170

试试这个：

```
select table1, table2, table3, table4, table5
from (select sum(table1.flag)as table1) t1 cross join
     (select sum(table2.flag)as table2) t2 cross join
     (select sum(table3.flag)as table2) t3 cross join
     (select sum(table4.flag)as table2) t4 cross join
     (select sum(table5.flag)as table2) t5 
```

您的查询正在执行`cross join`表中的笛卡尔积。避免这种情况的最好方法是对每个表进行单独的聚合。您也可以在 select 子句中这样做：

```
select 
     (select sum(table1.flag)as table1) as t1,
     (select sum(table2.flag)as table2) as t2,
     (select sum(table3.flag)as table2) as t3,
     (select sum(table4.flag)as table2) as t4,
     (select sum(table5.flag)as table2) as t5 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T04:24:29.733

每个表中的每一行都与其他表中的每一行连接，然后对结果求和。这不是你想要的。尝试这个：

```
create view block as 
select 'table1' as tableName, sum(flag) from 
table1
UNION ALL
select 'table2' as tableName, sum(flag) from 
table2
UNION ALL
select 'table3' as tableName, sum(flag) from 
table3
UNION ALL
select 'table4' as tableName, sum(flag) from 
table4
UNION ALL
select 'table5' as tableName, sum(flag) from 
table5 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T04:28:18.583

您的查询的问题是您正在对所有五个表进行交叉连接（笛卡尔连接）。因此，您实际上是在总结：

```
Att1 | 旗帜 | Att1 | 旗帜 | Att1 | 旗帜 | Att1 | 旗帜 | Att1 | 旗帜
xxx | 1 | xxx | 2 | xxx | 3 | xxx | 4 | xxx | 6
xxx | 1 | 年年 | 2 | xxx | 3 | xxx | 4 | xxx | 6
xxx | 1 | xxx | 2 | 年年 | 3 | xxx | 4 | xxx | 6
xxx | 1 | 年年 | 2 | 年年 | 3 | xxx | 4 | xxx | 6
-----+------+------+------+------+------+------+-- ----+------+-----
     | 4 | | 8 | | 12 | | 16 | | 24

```

相反，您要做的是单独汇总表格；最简单的就是使用 5 个子查询：

```
SELECT (SELECT SUM(Flag) FROM table1) AS table1,
    (SELECT SUM(Flag) FROM table2) AS table2,
    (SELECT SUM(Flag) FROM table3) AS table3,
    (SELECT SUM(Flag) FROM table4) AS table4,
    (SELECT SUM(Flag) FROM table5) AS table5 
```

# activemq - 相当于 tibrvlisten 的 ActiveMQ 命令行

> ID：14392309
> 
> 赞同：1
> 
> 时间：2013-01-18T04:18:19.420
> 
> 标签：activemq, tibco-rv

我想知道这里的社区是否知道一种通过类似于 TibcoRV 的“tibrvlisten”的命令行在 ActiveMQ 代理上收听主题的方法

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T18:17:13.530

有一些[命令行工具](http://activemq.apache.org/activemq-command-line-tools-reference.html)，但它们不提供发送/收听支持......

您最好的选择是使用以下方法之一来创建消息、侦听器和浏览消息数据

*   JMX - [http://activemq.apache.org/jmx.html](http://activemq.apache.org/jmx.html)
*   网络控制台 - [http://activemq.apache.org/web-console.html](http://activemq.apache.org/web-console.html)
*   JMeter - [http://jmeter.apache.org/](http://jmeter.apache.org/)

# ios - 用于 OCMockito 模拟验证的自定义 OCHamcrest 匹配器

> ID：14392316
> 
> 赞同：1
> 
> 时间：2013-01-18T04:18:40.870
> 
> 标签：ios, unit-testing, tdd, ocmockito, ochamcrest

我正在使用 OCHamcrest 和 OCMockito 对 iOS 项目进行单元测试。我正在努力理解在对采用参数的方法期望的模拟验证中使用自定义匹配器。特别是，我想验证传递给预期方法的参数之一，但我需要拆开传递的参数才能这样做。为了演示，这是我的测试方法相关部分的内容：

```
EAAccessory *accessory = mock([EAAccessory class]);
UIViewController <ZKSearchManagerDelegate> *mockController = 
    mockObjectAndProtocol(
        [UIViewController class], @protocol(ZKSearchManagerDelegate)
    );
[verify(mockController) 
        zkZSensorFound:isSensorWithAccessory(accessory) 
     fromSearchManager:_sm]; 
```

`-zkZSensorFound:fromSearchManager:`接受一个包含 a`EAAccessory`作为属性的对象。在我的自定义匹配器中，我需要打开该对象并检查该属性以确保它与`accessory`此测试方法中的对象相同。像我在这里所做的那样传递到匹配器很容易`accessory`，但是如何获取传递给参数以在匹配器内部使用的实际对象？或者，我对这一切都错了吗？

### 更新

我已经接受了@JonReid 的答案，因为它比我炮制的解决方案要优雅得多。尽管如此，我认为我正在使用的东西（感谢[这篇](http://hataewon.tumblr.com/post/24767032790/argument-captor-for-objective-c)博文）可能在其他地方有用：

```
#import "ArgumentCaptor.h"

EAAccessory *accessory = mock([EAAccessory class]);
UIViewController <ZKSearchManagerDelegate> *mockController = 
    mockObjectAndProtocol(
        [UIViewController class], @protocol(ZKSearchManagerDelegate)
    );
ArgumentCaptor *captor = argCaptor();
[verify(_mockController) zkZSensorFound:(ZKZSensor *)captor 
                      fromSearchManager:is(sameInstance(_sm))];
ZKZSensor *sensor = captor.argument;
assertThat(sensor.accessory, is(_mockAccessory)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T23:13:49.650

首先，请注意，当您没有为 OCMockito 指定匹配器时，它会使用`isEqual`匹配器。这可能不是您要为第二个参数验证的内容。我会检查身份：

```
fromSearchManager:sameInstance(_sm) 
```

如果输入参数，它将抱怨匹配器`sameInstance`不是搜索管理器。解决方法是强制转换匹配器以删除输入：

```
fromSearchManager:(id)sameInstance(_sm) 
```

现在对于第一个参数：您可能根本不需要制作自定义匹配器。如果您只想检查属性值，请使用`hasProperty`. 假设该属性名为`accessory`，

```
zkZSensorFound:(id)hasProperty(@"accessory", sameInstance(accessory)) 
```

把它们放在一起：

```
[verify(mockController) 
        zkZSensorFound:(id)hasProperty(@"accessory", sameInstance(accessory)) 
     fromSearchManager:(id)sameInstance(_sm)]; 
```

# asp.net-mvc - 如何使用 Razor 引擎在 ASP.NET MVC 中输出它？

> ID：14392317
> 
> 赞同：1
> 
> 时间：2013-01-18T04:18:45.947
> 
> 标签：asp.net-mvc, razor, asp.net-mvc-4

我对 MVC 平台非常陌生，我想知道如何将以下内容放在页面上：

```
data: [
        { Status: '@model.status', From: '@model.from', To: '@model.to' },
        { Status: '@model.status', From: '@model.from', To: '@model.to' }
       ] 
```

我有一个 for 循环，它创建多行，`{Status: ..... To:}`但我无法在所有`@model.`s的中间获取文本

我该怎么做呢？我`@:`在所有文本之前都使用了，但它也不喜欢那些。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:14:17.463

我实际上发现 Razor 真的很聪明。我最终做的是以下内容：

```
@: { Status: '@Model.Monday[i].Status', From: '@Model.Monday[i].From', To: '@Model.Monday[i].To' }, 
```

在 for 循环内（因为末尾有逗号。）感谢所有评论和建议。

# php - CakePHP 使用 Auth 组件使用用户名和电子邮件登录

> ID：14392322
> 
> 赞同：2
> 
> 时间：2013-01-18T04:18:58.463
> 
> 标签：php, cakephp, authentication, cakephp-1.3

我希望 auth 组件允许用户登录输入用户名或电子邮件。在我的用户表中，两个字段 - userName 和 userEmail 都是唯一的。在注册时，密码生成如下：

sha1($用户名.$密码);

问题是用户无法使用电子邮件登录。

**应用控制器**

```
 var $components = array('Auth');

 public function beforeFilter(){

if(isset($this->params['prefix']) && $this->params['prefix'] == 'webadmin') {

       $this->Auth->userModel = 'Admin';
      $this->Auth->logoutRedirect = $this->Auth->loginAction = array('prefix' => 'webadmin', 'controller' => 'login', 'action' => 'index');
        $this->Auth->loginError = 'Invalid Username/Password Combination!';
        $this->Auth->authError = 'Please login to proceed further!';
         $this->Auth->flashElement = "auth.front.message";
        $this->Auth->loginRedirect = array('prefix'=>'webadmin', 'controller'=>'dashboard', 'action'=>'index');
            }
          else{

         $this->layout="front";  

        //$this->Auth->autoRedirect = false;

        // $this->Auth->logoutRedirect = $this->Auth->loginAction = array('controller' => 'users', 'action' => 'login');
    //   $this->Auth->loginRedirect = array('controller'=>'blogs', 'action'=>'index');
         $this->Auth->fields = array(
            'username' => 'userName',
            'password' => 'password'
           );
          $this->Auth->userScope = array('User.status'=>1); 

         $this->Auth->loginError = "The username/email and password you entered doesn't match our records.";
         $this->Auth->authError = 'Please login to view this page!';
         $this->Auth->flashElement = "auth.front.message";
         $this->Auth->loginRedirect = array('controller'=>'profiles', 'action'=>'index');

    } 
```

**用户控制器**：登录功能如下：

```
if(!empty($this->data))
{ 
   // Try to login with Email
    if (!empty($this->Auth->data)) {
    // save username entered in the login form
    $username = $this->Auth->data['User']['userName'];

    // find a user by e-mail
    $find_by_email = $this->User->find('first', array(
                    'conditions' => array('userEmail' => $this->Auth->data['User']['userName']),
                    'fields' => 'userName'));
        // found
        if (!empty($find_by_email))
        {

        $this->Auth->data['User']['userName'] = $find_by_email['User']['userName'];
        $this->data['User']['password']=$this->Auth->data['User']['password'];

          if (!$this->Auth->login($this->data)) {

            // login failed
            // bring back the username entered in the login form
            $this->Auth->data['User']['username'] = $username;
          } else {
          $this->Session->delete('Message.auth');
          // redirect
          if ($this->Auth->autoRedirect) {
          $this->redirect($this->Auth->redirect(), null, true);
          }
        }
       }
    }
} 
```

**Auth.php：（我在使用 cakephp 会话自动登录 SMF 论坛时，对密码的生成方式进行了一些更改。）**

```
 function login($data = null) {
 $data['User.password'] = sha1(strtolower($data['User.userName']) . $_POST['data']['User']['password']);

        $this->__setDefaults();
        $this->_loggedIn = false;

        if (empty($data)) {
            $data = $this->data;
        }

        if ($user = $this->identify($data)) {

            $this->Session->write($this->sessionKey, $user);
            $this->_loggedIn = true;
        }
        return $this->_loggedIn;
    } 
```

我从[这个](http://www.netboy.pl/2011/08/cakephp-auth-component-login-with-username-or-e-mail/ "这")链接获得了帮助，但是我没有在 auth.php 中的 $data['User.userName'] 中获得用户名，我在这里收到了电子邮件，所以密码错误并导致登录失败。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:19:38.607

您的条件有错误，应该是：

```
'conditions' => array('userEmail' => $this->Auth->data['User']['email']), 
```

您正在检查用户名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T10:42:59.580

我可以使它工作的唯一方法是修改蛋糕中的 auth.php。

**App Controller** 我在过滤器之前的代码中添加了这个：

```
 $this->Auth->fields = array(
        'username' => 'userName',
    'email'=>'userEmail',
        'password' => 'password'
     ); 
```

**用户控制器**我删除了所有额外的代码。

**Auth.php** 在以我想要的方式加密密码后，我对 identify 函数进行了更改以检查电子邮件。

```
function identify($user = null, $conditions = null) {
        if ($conditions === false) {
            $conditions = array();
        } elseif (is_array($conditions)) {
            $conditions = array_merge((array)$this->userScope, $conditions);
        } else {
            $conditions = $this->userScope;
        }
        $model =& $this->getModel();

        if (empty($user)) {
            $user = $this->user();
            if (empty($user)) {
                return null;
            }
        } elseif (is_object($user) && is_a($user, 'Model')) {
            if (!$user->exists()) {
                return null;
            }
            $user = $user->read();
            $user = $user[$model->alias];
        } elseif (is_array($user) && isset($user[$model->alias])) {
            $user = $user[$model->alias];
        }

        if (is_array($user) && (isset($user[$this->fields['username']]) || isset($user[$model->alias . '.' . $this->fields['username']]))) {
            if (isset($user[$this->fields['username']]) && !empty($user[$this->fields['username']])  && !empty($user[$this->fields['password']])) {
                if (trim($user[$this->fields['username']]) == '=' || trim($user[$this->fields['password']]) == '=') {
                    return false;
                }
                $find = array(
                    $model->alias.'.'.$this->fields['username'] => $user[$this->fields['username']],
                    $model->alias.'.'.$this->fields['password'] => $user[$this->fields['password']]
                );
            } elseif (isset($user[$model->alias . '.' . $this->fields['username']]) && !empty($user[$model->alias . '.' . $this->fields['username']])) {
                if (trim($user[$model->alias . '.' . $this->fields['username']]) == '=' || trim($user[$model->alias . '.' . $this->fields['password']]) == '=') {
                    return false;
                }

            // my code starts
            $user['User.userEmail']=$user['User.userName']; 
    //find username using email
        $find_by_email= $model->find('first', array(
                'fields' => array('User.userName','User.realpass'), 
                'conditions' => array($model->alias.'.'.$this->fields['email'] => $user[$model->alias . '.' . $this->fields['email']]),
                'recursive' => 0
            )); 

        if(!empty($find_by_email))
        {
        $uname=strtolower($find_by_email['User']['userName']);
        $pwd=$user[$model->alias . '.' . $this->fields['password']];
        }
        else
        {
        $uname=strtolower($user[$model->alias . '.' . $this->fields['username']]);
        $pwd=$user[$model->alias . '.' . $this->fields['password']];
        }
         $thepassword = sha1($uname.$pwd); // encrypt password

            // find user where username or email equals to the username passed  
                $find = array(
                    'OR' => array($model->alias.'.'.$this->fields['username'] => $user[$model->alias . '.' . $this->fields['username']], $model->alias.'.'.$this->fields['email'] => $user[$model->alias . '.' . $this->fields['username']]),
                    $model->alias.'.'.$this->fields['password'] => $thepassword
                );
            } else {
                return false;
            }

            $cond=array_merge($find, $conditions);

            $data = $model->find('first', array(
                'conditions' => $cond,
                'recursive' => 0
            ));

  // my code ends here

            if (empty($data) || empty($data[$model->alias])) {
                return null;
            }
        } elseif (!empty($user) && is_string($user)) {
            $data = $model->find('first', array(
                'conditions' => array_merge(array($model->escapeField() => $user), $conditions),
            ));
            if (empty($data) || empty($data[$model->alias])) {
                return null;
            }
        }

        if (!empty($data)) {
            if (!empty($data[$model->alias][$this->fields['password']])) {
                unset($data[$model->alias][$this->fields['password']]);
            }
            return $data[$model->alias];
        }
        return null;
    } 
```

最后，我注释了密码加密代码以返回简单密码，以便我可以在上述函数中加密它所需的 wat。

```
function password($password) {
//return Security::hash($password, null, true);
 return $password;
} 
```

# iphone - 查看过渡动画

> ID：14392323
> 
> 赞同：0
> 
> 时间：2013-01-18T04:19:03.217
> 
> 标签：iphone, ios, objective-c, xcode, cocoa-touch

你打电话时：

```
[self dismissViewControllerAnimated:Yes.....]; 
```

它与用于呈现视图的任何动画相反。

例如：如果你打电话：

```
UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"Storyboard" bundle:nil];
View * myView = (View *) [storyboard instantiateViewControllerWithIdentifier:@"myViewName"];
[self myView animated:YES completion:nil]; 
```

它使视图从底部向上，并`dismissViewControllerAnimated:`使用反向动画关闭视图，因此视图将向下滑动。

有没有办法通过`Present`向下滑动动画查看视图？任何帮助是极大的赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:39:07.357

用于. `CATransaction`_`animation`

**注意**：下面的代码`depends`使用in 。`UIInterfaceOrientation``Presenting a view``sliding down animation``all orienation`

```
[CATransaction begin];
CATransition *transition;
transition = [CATransition animation];
transition.type = kCATransitionPush;
if(viewOrientation == UIInterfaceOrientationLandscapeLeft)
    [transition setSubtype:kCATransitionFromLeft];
else if (viewOrientation == UIInterfaceOrientationLandscapeRight)
    [transition setSubtype:kCATransitionFromRight];
else if (viewOrientation == UIInterfaceOrientationPortrait)
    [transition setSubtype:kCATransitionFromLeft];
else 
    [transition setSubtype:kCATransitionFromRight];

transition.duration = 0.0;
[self.view.layer addAnimation:transition forKey:nil]; // add animation in layer of UIView.
//Present your View here
[CATransaction commit]; 
```

**编辑**：在这些方法中设置`current` `orientation`.So 添加`UIInterfaceOrientation viewOrientation;`到 .h 文件中。这些方法可能会根据`iOS version`

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
   viewOrientation = interfaceOrientation;
   return YES; //return according to your requirement
}

-(void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{
  viewOrientation = toInterfaceOrientation;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:06:01.977

当然，您可以像这样进行自己的过渡：

```
 -(IBAction)presentNext:(id)sender {

    UIViewController *next = [self.storyboard instantiateViewControllerWithIdentifier:@"Next"];
    [self.view.window insertSubview:next.view belowSubview:self.view];
    CGAffineTransform t;
    __block NSInteger xOffset, yOffset;
    switch (self.interfaceOrientation) {
        case 1:
            xOffset = 0;
            yOffset = self.view.frame.size.height;
            break;
        case 3:
            t = CGAffineTransformMakeRotation(90 * M_PI / 180);
            next.view.transform = t;
            xOffset = -self.view.frame.size.width;
            yOffset = 0;
            break;
        case 4:
            t = CGAffineTransformMakeRotation(-90 * M_PI / 180);
            next.view.transform = t;
            xOffset = self.view.frame.size.width;
            yOffset = 0;
            break;
        default:
            break;
    }

    next.view.frame = self.view.frame;
    [UIView animateWithDuration:1 animations:^{
        self.view.center = CGPointMake(self.view.center.x + xOffset, self.view.center.y + yOffset);
    } completion:^(BOOL finished) {
        [self presentViewController:next animated:NO completion:^{
            [self.view removeFromSuperview];
        }];
    }];
} 
```

# c++ - 在 C++ 中通过引用传递参数是否必须手动？

> ID：14392324
> 
> 赞同：1
> 
> 时间：2013-01-18T04:19:15.207
> 
> 标签：c++, parameter-passing, pass-by-reference

我正在学习 C++ 并且正在阅读一[本关于它](http://isocpp.org/images/uploads/2-Tour-Basics.pdf)的书，我遇到了这个问题：

```
struct Vector{
   int size;
   double* elem;
}

void vector_init(Vector& v, int s){
   v.size = s;
   v.elem = new double[s];
} 
```

所以在这里，如果`void vector_init(Vector v, int s)`没有引用运算符，会错吗？`&`在传递对象、结构、数组或其他任何东西作为参数时，我是否必须手动通过引用传递？还有其他方法可以做到这一点吗？喜欢说`void vector_init(Vector *v, int s)`？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:21:38.817

没有“参考运算符”。

`&`声明符仅被添加到您希望通过引用传递的函数参数中。传递引用参数看起来与传递值相同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:25:42.933

> 如果`void vector_init(Vector v, int s)`没有引用运算符，会出错吗？

如果你不通过`v`引用传递，`v`当进入函数时会创建一个副本，`vector_init`你在那个副本上进行操作。退回后`vector_init`，该临时副本将被销毁，因此`vector_init`对您的原始`v`. 要对 original进行操作`v`，您需要`v`通过引用传递（与其他类型相同）。

> 还有其他方法可以做到这一点吗？喜欢说`void vector_init(Vector *v, int s)`？

与通过指针传递相比，通过引用传递是更好的选择。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T04:29:03.393

实际上通过**引用**（`void vector_init(Vector &v, int s)`）或**指针** `void vector_init(Vector *v, int s)`传递值具有基本相同的含义。

主要区别在于，当你通过引用传递时，你被迫传递一个有效的参数（`NULL`不起作用），当你通过指针传递时，你必须显式地将参数转换为指针（这在通过引用传递时自动完成)

当您在 void 中**按值**`vector_init(Vector v, int s)`传递某些内容时，情况有所不同：参数是通过复制构造函数复制的，并且在函数范围内进行的每个修改都对参数的本地副本是本地的，您不能通过按值传递来修改原始参数. 您并没有真正传递变量，而是传递了它的副本。

这甚至意味着，如果参数是大型类或结构或具有昂贵的复制构造函数，则也可能出现性能问题。

# android - Android中的Eclipse和xml文件

> ID：14392326
> 
> 赞同：0
> 
> 时间：2013-01-18T04:19:30.240
> 
> 标签：android, xml, eclipse

由于我无法理解的原因，有时我编辑了一个 xml 文件（例如 res\layout\main.xml），而 Eclipse 停止识别它。我收到诸如“错误的 XML 块：标头大小 93 或总大小 0 大于数据大小 0”之类的错误。

如果我删除内容并重新输入 xml 文件，一切正常。

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:29:35.150

看到这个问题通常是因为菜单 -

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android" >
    <item android:id="@+id/save_tea" android:title="@string/save_tea_label" />
</menu> 
```

如果您不使用菜单会更好，因此请将其删除，否则会在此处提供正确的字符串信息。

谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:33:53.070

试试这两个东西，这可以帮助你解决问题：

我刚刚遇到了同样的错误信息。在我的例子中，XML 引用了 drawables 文件夹中丢失的图标文件。

或者

Project->Clean 应该解决这个问题。

# php - 在我的数据库中插入新内容后如何实现通知系统？

> ID：14392330
> 
> 赞同：1
> 
> 时间：2013-01-18T04:19:47.990
> 
> 标签：php, mysql, insert, cron

我正在使用 php 开发 Web 应用程序。我有一个本地工作列表网站。我正在研究一个简单的 html dom 中的刮板，它会刮掉网站上所有活动的工作列表。

职位列表有一个“发布日期”和一个“截止”日期（在达到截止日期时，该列表将从网站上删除）。

我已经成功地抓取了网站上所有的活动列表，并将它们保存在一个简单的 mysql 数据库中。当前活跃的职位列表是 325 个职位。我的数据库中都有它们。

我所做的下一件事是设置 cron，以便刮板每小时运行一次。

我基本上想要的是，我应该如何在mysql DB中进行插入，目前，每次刮板运行时，它都会删除所有列表并再次插入所有列表，包括一个新列表。

最终我需要设置类似通知系统的东西，一旦发布新工作 - 电子邮件通知将发送到电子邮件地址。

最好的方法是什么？我目前没有想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:28:09.750

您可以使用触发器。在每次 INSERT 之后设置一个触发器。
更多关于触发器的信息。 [http://dev.mysql.com/doc/refman/5.0/en/trigger-syntax.html](http://dev.mysql.com/doc/refman/5.0/en/trigger-syntax.html)

# java - 应用程序中的休眠 .hbm.xml 文件路径？

> ID：14392332
> 
> 赞同：1
> 
> 时间：2013-01-18T04:20:07.857
> 
> 标签：java, hibernate

我从文档中有这行代码

```
 private void createAndStoreEvent(String title, Date theDate) {
        Session session = HibernateUtil.getSessionFactory().getCurrentSession();
        session.beginTransaction();

        Event theEvent = new Event();
        theEvent.setTitle(title);
        theEvent.setDate(theDate);
        session.save(theEvent);

        session.getTransaction().commit();
    } 
```

在这里，我没有将 Event.hbm.xml 文件的路径提供给 Hibernate，我的疑问是 hibernate 引用哪个目录来查找 Event.hbm.xml 以映射 Event.java 实体类？现在我将 Event 和 Event.hbm.xml 文件保存在同一个包中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:38:59.847

通常，`Event.hbm.xml`应该在与文件相同的包中的运行时类路径中结束`Event.class`。就像`/WEB-INF/classes/foo/bar/`它是一个 Web 应用程序一样。话虽如此，将其放入`src`文件夹中可能没问题，因为您`IDE`应该`/WEB-INF/classes/foo/bar`在构建期间自动将其放入。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:53:24.960

在您的休眠配置 xml 中，您通常应该如下定义其他 hbm 文件；

```
 <mapping resource="com/domain/Event.hbm.xml"/> 
```

# php - 在 PHP 中通过 SOAP 上传 txt 文件

> ID：14392335
> 
> 赞同：0
> 
> 时间：2013-01-18T04:20:25.060
> 
> 标签：php, soap, curl

我正在尝试使用 PHP 和 SOAP 在客户端和服务器之间传输 txt 文件。
无法将 txt 文件传输到服务器。但我没有收到任何错误。

我的代码是：Service.php

```
class Service 
{
    public function addFile($params) 
    {
        $uploads_dir = '/uploads';

        foreach ( $_FILES ["txt"] ["error"] as $key => $error ) {

            print_r($error);

            if ($error == UPLOAD_ERR_OK) {
                $tmp_name = $_FILES ["txt"] ["tmp_name"] [$key];
                $name = $_FILES ["txt"] ["name"] [$key];
                move_uploaded_file ( $tmp_name, "$uploads_dir/$name" );
            }
        }
    }
}

$server = new SoapServer ( 'Service.wsdl', array ('soap_version' => SOAP_1_2 ) );
$server->setClass ( 'Service' );
$server->handle (); 
```

客户端.php

```
ini_set('soap.wsdl_cache_enabled', "0");

$soap = new SoapClient('http://xxx.xxx.xxx.xxx/Service.php');

$fullfilepath = 'D:\test.txt';
$B64File = base64_encode($fullfilepath);
$upload_url = 'http://xxx.xxx.xxx.xxx/Service.php';
$title = '';
$params = array(
        'photo'=>array('array' => $B64File),
        'title'=>$title
);

$ch = curl_init();
curl_setopt($ch, CURLOPT_VERBOSE, 1);
curl_setopt($ch, CURLOPT_URL, $upload_url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($params));
$response = curl_exec($ch);
curl_close($ch);
$soap->addFile($params); 
```

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:53:41.947

你在寻找所有的错误吗？你检查过错误日志文件吗？

例如，在您上面的代码中，我看到您没有检查 curl_exec 的返回值。如果您没有明确记录错误，您希望看到什么错误？

# c# - 单击 Listview 中的按钮而不单击 Listview (WINRT / Metro)

> ID：14392340
> 
> 赞同：2
> 
> 时间：2013-01-18T04:21:10.503
> 
> 标签：c#, windows-8, microsoft-metro, windows-runtime, winrt-xaml

我正在尝试构建一个 xaml，它有一个数据列表视图，其中包括每行中的按钮。我的问题是 ListView Row 项目本身是可选择的（不好，因为它动画并且看起来很糟糕），但是如果我把 IsHitTestVisible=False （如下面的代码）我有无法选择我的按钮的问题.

```
<ListView
    x:Name="itemGridView"
    ItemsSource="{Binding Source={StaticResource Items}}"
    ItemTemplate="{StaticResource ListViewItemTemplate}"
    SelectionMode="None"
    IsHitTestVisible="False"
/> 
```

这是我正在使用的数据模板

```
<DataTemplate x:Key="ListViewItemTemplate">
    <Grid 
        HorizontalAlignment="Left" 
        Width="500">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100"/>
            <ColumnDefinition Width="50"/>
            <ColumnDefinition Width="50"/>
        </Grid.ColumnDefinitions>
        <TextBlock 
            Grid.Column="0"
                Text="{Binding Value}" 
                Foreground="{StaticResource ListViewItemOverlayForegroundThemeBrush}" 
                Style="{StaticResource TitleTextStyle}" 
                TextWrapping="Wrap"
                Margin="15,0,15,0"/>
         <Button
            IsHitTestVisible="True"
            Grid.Column="1">
            <TextBlock
                Text="+"/>
        </Button>
        <Button
            Grid.Column="2">
            <TextBlock
                Text="-"/>
        </Button>
    </Grid>
</DataTemplate> 
```

有人知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:09:16.880

我找到了解决方案。我必须向 ListViewItem 添加一个新样式。这似乎解决了问题:) 找到了

这里：[如何禁用 ListView 的悬停和平铺效果？](https://stackoverflow.com/questions/11790894/how-to-disable-listviews-hover-and-tile-effects)

```
<Style x:Key="ManualListViewItemStyle" TargetType="ListViewItem">
        <Setter Property="FontFamily" Value="{StaticResource ContentControlThemeFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ControlContentThemeFontSize}"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="TabNavigation" Value="Local"/>
        <Setter Property="IsHoldingEnabled" Value="True"/>
        <Setter Property="Margin" Value="0,0,18,2"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="VerticalContentAlignment" Value="Top"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListViewItem">
                    <Border x:Name="OuterContainer">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal"/>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="{StaticResource ListViewItemDisabledThemeOpacity}" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="contentPresenter"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="FocusVisual"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unfocused"/>
                                <VisualState x:Name="PointerFocused"/>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="SelectionHintStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0:0:0.65" To="NoSelectionHint"/>
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="VerticalSelectionHint">
                                    <Storyboard>
                                        <SwipeHintThemeAnimation ToHorizontalOffset="0" TargetName="SelectionBackground" ToVerticalOffset="15"/>
                                        <SwipeHintThemeAnimation ToHorizontalOffset="0" TargetName="ContentBorder" ToVerticalOffset="15"/>
                                        <SwipeHintThemeAnimation ToHorizontalOffset="0" TargetName="SelectedBorder" ToVerticalOffset="15"/>
                                        <SwipeHintThemeAnimation ToHorizontalOffset="0" TargetName="SelectedCheckMark" ToVerticalOffset="15"/>
                                        <DoubleAnimationUsingKeyFrames Duration="0:0:0.500" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HintGlyph">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0.5"/>
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0.500" Value="0"/>
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="HorizontalSelectionHint">
                                    <Storyboard>
                                        <SwipeHintThemeAnimation ToHorizontalOffset="-23" TargetName="SelectionBackground" ToVerticalOffset="0"/>
                                        <SwipeHintThemeAnimation ToHorizontalOffset="-23" TargetName="ContentBorder" ToVerticalOffset="0"/>
                                        <SwipeHintThemeAnimation ToHorizontalOffset="-23" TargetName="SelectedBorder" ToVerticalOffset="0"/>
                                        <SwipeHintThemeAnimation ToHorizontalOffset="-23" TargetName="SelectedCheckMark" ToVerticalOffset="0"/>
                                        <DoubleAnimationUsingKeyFrames Duration="0:0:0.500" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HintGlyph">
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0.5"/>
                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0.500" Value="0"/>
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="NoSelectionHint"/>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="SelectionStates">
                                <VisualState x:Name="Unselecting">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HintGlyphBorder"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unselected">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HintGlyphBorder"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="UnselectedPointerOver">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HintGlyphBorder"/>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="contentPresenter">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ListViewItemSelectedForegroundThemeBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="UnselectedSwiping">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="0.5" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectingGlyph"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HintGlyphBorder"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Selecting">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectionBackground"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectedBorder"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectingGlyph"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HintGlyphBorder"/>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="contentPresenter">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ListViewItemSelectedForegroundThemeBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Selected">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectionBackground"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectedBorder"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectedCheckMark"/>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="contentPresenter">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ListViewItemSelectedForegroundThemeBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="SelectedSwiping">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectionBackground"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectedBorder"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectedCheckMark"/>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="contentPresenter">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ListViewItemSelectedForegroundThemeBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="SelectedUnfocused">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectionBackground"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectedBorder"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SelectedCheckMark"/>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="contentPresenter">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ListViewItemSelectedForegroundThemeBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="DragStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0:0:0.2" To="NotDragging"/>
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="NotDragging"/>
                                <VisualState x:Name="Dragging">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="{StaticResource ListViewItemDragThemeOpacity}" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="InnerDragContent"/>
                                        <DragItemThemeAnimation TargetName="InnerDragContent"/>
                                        <FadeOutThemeAnimation TargetName="SelectedCheckMarkOuter"/>
                                        <FadeOutThemeAnimation TargetName="SelectedBorder"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="DraggingTarget">
                                    <Storyboard>
                                        <DropTargetItemThemeAnimation TargetName="OuterContainer"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="MultipleDraggingPrimary">
                                    <Storyboard>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="MultiArrangeOverlayBackground"/>
                                        <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="MultiArrangeOverlayText"/>
                                        <DoubleAnimation Duration="0" To="{StaticResource ListViewItemDragThemeOpacity}" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="ContentBorder"/>
                                        <FadeInThemeAnimation TargetName="MultiArrangeOverlayBackground"/>
                                        <FadeInThemeAnimation TargetName="MultiArrangeOverlayText"/>
                                        <DragItemThemeAnimation TargetName="ContentBorder"/>
                                        <FadeOutThemeAnimation TargetName="SelectionBackground"/>
                                        <FadeOutThemeAnimation TargetName="SelectedCheckMarkOuter"/>
                                        <FadeOutThemeAnimation TargetName="SelectedBorder"/>
                                        <FadeOutThemeAnimation TargetName="PointerOverBorder"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="MultipleDraggingSecondary">
                                    <Storyboard>
                                        <FadeOutThemeAnimation TargetName="ContentContainer"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="ReorderHintStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0:0:0.2" To="NoReorderHint"/>
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="NoReorderHint"/>
                                <VisualState x:Name="BottomReorderHint">
                                    <Storyboard>
                                        <DragOverThemeAnimation Direction="Bottom" ToOffset="{StaticResource ListViewItemReorderHintThemeOffset}" TargetName="ReorderHintContent"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="TopReorderHint">
                                    <Storyboard>
                                        <DragOverThemeAnimation Direction="Top" ToOffset="{StaticResource ListViewItemReorderHintThemeOffset}" TargetName="ReorderHintContent"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="RightReorderHint">
                                    <Storyboard>
                                        <DragOverThemeAnimation Direction="Right" ToOffset="{StaticResource ListViewItemReorderHintThemeOffset}" TargetName="ReorderHintContent"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="LeftReorderHint">
                                    <Storyboard>
                                        <DragOverThemeAnimation Direction="Left" ToOffset="{StaticResource ListViewItemReorderHintThemeOffset}" TargetName="ReorderHintContent"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="DataVirtualizationStates">
                                <VisualState x:Name="DataAvailable"/>
                                <VisualState x:Name="DataPlaceholder">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="PlaceholderTextBlock">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="PlaceholderRect">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <Grid x:Name="ReorderHintContent" Background="Transparent">
                            <Path x:Name="SelectingGlyph" Data="F1 M133.1,17.9 L137.2,13.2 L144.6,19.6 L156.4,5.8 L161.2,9.9 L145.6,28.4 z" Fill="{StaticResource ListViewItemCheckSelectingThemeBrush}" FlowDirection="LeftToRight" HorizontalAlignment="Right" Height="13" Margin="0,9.5,9.5,0" Opacity="0" Stretch="Fill" VerticalAlignment="Top" Width="15"/>
                            <Border x:Name="HintGlyphBorder" HorizontalAlignment="Right" Height="40" Margin="4" Opacity="0" VerticalAlignment="Top" Width="40">
                                <Path x:Name="HintGlyph" Data="F1 M133.1,17.9 L137.2,13.2 L144.6,19.6 L156.4,5.8 L161.2,9.9 L145.6,28.4 z" Fill="{StaticResource ListViewItemCheckHintThemeBrush}" FlowDirection="LeftToRight" HorizontalAlignment="Right" Height="13" Margin="0,5.5,5.5,0" Opacity="0" Stretch="Fill" VerticalAlignment="Top" Width="15"/>
                            </Border>
                            <Border x:Name="ContentContainer">
                                <Grid x:Name="InnerDragContent">
                                    <Rectangle x:Name="PointerOverBorder" Fill="{StaticResource ListViewItemPointerOverBackgroundThemeBrush}" IsHitTestVisible="False" Margin="1" Opacity="0"/>
                                    <Rectangle x:Name="FocusVisual" IsHitTestVisible="False" Opacity="0" Stroke="{StaticResource ListViewItemFocusBorderThemeBrush}" StrokeThickness="2"/>
                                    <Rectangle x:Name="SelectionBackground" Fill="{StaticResource ListViewItemSelectedBackgroundThemeBrush}" Margin="4" Opacity="0"/>
                                    <Border x:Name="ContentBorder" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Margin="4">
                                        <Grid>
                                            <ContentPresenter x:Name="contentPresenter" ContentTemplate="{TemplateBinding ContentTemplate}" ContentTransitions="{TemplateBinding ContentTransitions}" Content="{TemplateBinding Content}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                            <TextBlock x:Name="PlaceholderTextBlock" Foreground="{x:Null}" IsHitTestVisible="False" Margin="{TemplateBinding Padding}" Opacity="0" Text="Xg"/>
                                            <Rectangle x:Name="PlaceholderRect" Fill="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}" IsHitTestVisible="False" Visibility="Collapsed"/>
                                            <Rectangle x:Name="MultiArrangeOverlayBackground" Fill="{StaticResource ListViewItemDragBackgroundThemeBrush}" IsHitTestVisible="False" Opacity="0"/>
                                        </Grid>
                                    </Border>
                                    <Rectangle x:Name="SelectedBorder" IsHitTestVisible="False" Margin="4" Opacity="0" Stroke="{StaticResource ListViewItemSelectedBackgroundThemeBrush}" StrokeThickness="{StaticResource ListViewItemSelectedBorderThemeThickness}"/>
                                    <Border x:Name="SelectedCheckMarkOuter" HorizontalAlignment="Right" IsHitTestVisible="False" Margin="4" VerticalAlignment="Top">
                                        <Grid x:Name="SelectedCheckMark" Height="40" Opacity="0" Width="40">
                                            <Path x:Name="SelectedEarmark" Data="M0,0 L40,0 L40,40 z" Fill="{StaticResource ListViewItemSelectedBackgroundThemeBrush}" Stretch="Fill"/>
                                            <Path Data="F1 M133.1,17.9 L137.2,13.2 L144.6,19.6 L156.4,5.8 L161.2,9.9 L145.6,28.4 z" Fill="{StaticResource ListViewItemCheckThemeBrush}" FlowDirection="LeftToRight" HorizontalAlignment="Right" Height="13" Margin="0,5.5,5.5,0" Stretch="Fill" VerticalAlignment="Top" Width="15"/>
                                        </Grid>
                                    </Border>
                                    <TextBlock x:Name="MultiArrangeOverlayText" Foreground="{StaticResource ListViewItemDragForegroundThemeBrush}" FontSize="26.667" FontFamily="{StaticResource ContentControlThemeFontFamily}" IsHitTestVisible="False" Margin="18,9,0,0" Opacity="0" TextWrapping="Wrap" Text="{Binding TemplateSettings.DragItemsCount, RelativeSource={RelativeSource Mode=TemplatedParent}}" TextTrimming="WordEllipsis"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style> 
```

# linux - Linux，如何对文件的行进行排序

> ID：14392342
> 
> 赞同：0
> 
> 时间：2013-01-18T04:21:17.920
> 
> 标签：linux, file, sorting

我有一个名为`abc`. abc的内容是：

```
ccc
abc
ccc
ccc
a
b
dd
ccc 
```

我想对文件的行进行排序并删除所有重复项（在这种情况下 ccc 是重复项）。

在我使用的 shell 脚本中：

```
sort -u < $1 
```

但是排序后的结果成为标准输出，而不是保存到 abc 文件中。我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:23:31.797

您可以将输出重定向到文件

```
sort -u < $1 > abc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T04:28:15.963

尝试

```
sort -u abc -o abc_sorted 
```

或者如果你想替换文件

```
sort -u abc -o abc 
```

你也可以

```
sort abc | uniq > abc_sorted 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:41:58.650

您可以简单地使用命令`sort` `uniq`、`|`（管道）和`>`（重新方向）来完成。如果您的文件名是`file`，您可以通过以下命令简单地完成：-

```
sort file | uniq >file 
```

# git - 如果将分支合并到 master 中，是否会被合并的分支覆盖差异？

> ID：14392348
> 
> 赞同：0
> 
> 时间：2013-01-18T04:22:10.203
> 
> 标签：git

可以说我从master创建了一个分支“branch1”。我在 branch1 上进行了一些更改，并对 master 进行了一些更改。如果我将 branch1 合并到 master 中，是否会删除对 master 的所有更改并且代码会被 branch1 覆盖？还是它们会相互啮合？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:27:08.860

它们将啮合在一起。您可能需要手动解决冲突。您可以设置合并策略以默认解决冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T00:03:19.647

您可能希望使用一个工作流，在合并之前将 branch1 与 master 相对应。

查看[http://nvie.com/posts/a-successful-git-branching-model/](http://nvie.com/posts/a-successful-git-branching-model/) 和 git flow 工具[https://github.com/nvie/gitflow](https://github.com/nvie/gitflow)

# linux - 如果执行 shell 失败，不要让 jenkins 构建失败

> ID：14392349
> 
> 赞同：153
> 
> 时间：2013-01-18T04:22:17.300
> 
> 标签：linux, unix, jenkins

作为构建过程的一部分，我将 git commit 作为执行 shell 步骤运行。但是，如果工作区中没有任何更改，则 Jenkins 会导致构建失败。这是因为 git 在没有要提交的更改时返回错误代码。如果是这种情况，我想中止构建，或者将其标记为不稳定。有任何想法吗？

* * *

## 回答 #1

> 赞同：254
> 
> 时间：2014-09-09T13:13:11.170

在*命令*失败时停止进一步执行：

`command || exit 0`

*命令*失败时继续执行：

`command || true`

* * *

## 回答 #2

> 赞同：97
> 
> 时间：2015-02-11T07:00:50.553

`/bin/sh -xe`Jenkins默认使用执行 shell 构建步骤。`-x`表示打印执行的每个命令。`-e`表示如果脚本中的任何命令失败，则退出失败。

因此，我认为在您的情况下发生的情况是您的 git 命令以 1 退出，并且由于默认`-e`参数，shell 会选择非 0 退出代码，忽略脚本的其余部分并将该步骤标记为失败。如果您可以在此处发布构建步骤脚本，我们可以确认这一点。

如果是这种情况，您可以尝试 put`#!/bin/sh`以便在没有选项的情况下执行脚本；或`set +e`在构建步骤之上执行或执行任何类似操作来覆盖此行为。

* * *

编辑：要注意的另一件事是，如果您的 shell 脚本中的**最后一个命令****返回非 0 代码**，即使使用此设置，整个构建步骤仍将被标记为失败。在这种情况下，您可以简单地`true`在末尾添加一个命令来避免这种情况。

[另一个相关问题](https://stackoverflow.com/a/22816074/2841265)

* * *

## 回答 #3

> 赞同：44
> 
> 时间：2013-10-17T10:37:11.567

如果没有推送 git 返回退出状态 1\. Execute shell build step 分别标记为失败。您可以使用 OR 语句 || （双管）。

```
git commit -m 'some messasge' || echo 'Commit failed. There is probably nothing to commit.' 
```

这意味着，如果第一次失败（返回退出状态> 0），则执行第二个参数。第二个命令总是返回 0。当没有任何东西可以推送时（退出状态 1 -> 执行第二个命令），echo 将返回 0 并继续构建步骤。

要将构建标记为不稳定，您可以使用构建后步骤 Jenkins 文本查找器。它可以通过控制台输出，匹配模式（你的回声）并将构建标记为不稳定。

* * *

## 回答 #4

> 赞同：29
> 
> 时间：2014-06-04T08:58:09.410

还有另一种告诉詹金斯不要失败的顺利方法。您可以在构建步骤中隔离您的提交并将外壳设置为不失败：

```
set +e
git commit -m "Bla."
set -e 
```

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2020-06-29T21:11:29.053

[这个答案](https://stackoverflow.com/a/25745593/1015595)是正确的，但它没有指定`|| exit 0`or`|| true`进入*shell command*。这是一个更完整的示例：

```
sh "adb uninstall com.example.app || true" 
```

以上将起作用，但以下将失败：

```
sh "adb uninstall com.example.app" || true 
```

也许这对其他人来说是显而易见的，但在我意识到这一点之前，我浪费了很多时间。

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2013-01-18T18:06:19.327

我能够使用此处找到的答案来完成这项工作：

[如何在没有错误的情况下不提交任何内容？](https://stackoverflow.com/questions/8123674/how-to-git-commit-nothing-without-an-error)

```
git diff --quiet --exit-code --cached || git commit -m 'bla' 
```

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2013-01-18T14:55:13.840

Jenkins 通过步骤的返回值来确定步骤的成功/失败。对于 shell 的情况，它应该是最后一个值的返回。对于 Windows CMD 和 (POSIX) Bash shell，您应该能够使用`exit 0`最后一个命令手动设置返回值。

* * *

## 回答 #8

> 赞同：8
> 
> 时间：2013-11-20T11:05:03.727

在标题中的（更一般的）问题上 - 为了防止 Jenkins 失败，您可以阻止它看到退出代码 1。 ping 示例：

```
bash -c "ping 1.2.3.9999 -c 1; exit 0" 
```

现在您可以获取 ping 的输出：

```
output=`bash -c "ping 1.2.3.9999 -c 1; exit 0"` 
```

当然，`ping ...`您可以使用任何命令（包括`git commit`.

* * *

## 回答 #9

> 赞同：7
> 
> 时间：2018-07-04T16:17:12.677

[https://jenkins.io/doc/pipeline/steps/workflow-durable-task-step/#sh-shell-script](https://jenkins.io/doc/pipeline/steps/workflow-durable-task-step/#sh-shell-script)

如果包含 returnStatus: true 属性，则忽略 shell 返回。

* * *

## 回答 #10

> 赞同：6
> 
> 时间：2013-01-18T09:11:20.327

您可以使用[Text-finder Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Text-finder+Plugin)。它将允许您检查输出控制台以获取您选择的表达式，然后将构建标记为`Unstable`.

* * *

## 回答 #11

> 赞同：5
> 
> 时间：2019-03-11T10:31:54.443

对于多个 shell 命令，我通过添加以下内容来忽略失败：

`set +e commands true`

[![在此处输入图像描述](../Images/1e4a87b2cacfdc836941459a31e69d1d.png)](https://i.stack.imgur.com/3KLyE.png)

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2016-11-30T19:35:52.083

如果将此命令放入 shell 块中：

```
false
true 
```

您的构建将被标记为失败（至少 1 个非零退出代码），因此您可以添加 (set +e) 以忽略它：

```
set +e
false
true 
```

不会失败。但是，即使 (set +e) 就位，这也会失败：

```
set +e
false 
```

因为最后一个 shell 命令必须以 0 退出。

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2013-02-05T18:18:46.690

以下内容仅适用于**mercurial**，仅在有更改时才提交。因此，只有在提交失败时构建才会失败。

```
hg id | grep "+" || exit 0
hg commit -m "scheduled commit" 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2019-03-11T12:24:43.700

另一个带有一些提示的答案可能对某人有所帮助：

[请记住使用以下规则](https://unix.stackexchange.com/questions/37069/what-is-the-difference-between-and-when-chaining-commands)分隔您的命令：

command1 **&&** command2 - 表示只有在 command1 成功时才会执行 command2

命令1 **；**command2 - 意味着，尽管 command1 的结果，命令 2 仍将被执行

例如：

```
String run_tests = sh(script: "set +e && cd ~/development/tests/ && gmake test ;set -e;echo 0 ", returnStdout: true).trim()
println run_tests 
```

如果失败（您的测试失败），将使用`set -e`和命令成功执行，而以下代码被剪断：`echo 0``gmake test`

```
String run_tests = sh(script: "set +e && cd ~/development/tests/ && gmake test && set -e && echo 0 ", returnStdout: true).trim()
println run_tests 
```

有点错误，命令`set -e`和`echo 0`in`&& gmake test && set -e && echo 0`将被跳过，`println run_tests`因为 failed`gmake test`将中止 jenkins 构建。作为解决方法，您可以切换到`returnStatus:true`，但是您将错过命令的输出。

# python - Gdk.threads_add_idle() 的三个参数是什么？

> ID：14392350
> 
> 赞同：2
> 
> 时间：2013-01-18T04:22:43.167
> 
> 标签：python, gtk, pygobject, gdk

使用 python 和`gi.repository`模块，我试图调用`Gdk.threads_add_idle`，但我收到需要三个参数的错误消息。然而，[文档](http://developer.gnome.org/gdk/2.22/gdk-Threads.html#gdk-threads-add-idle)只提到了两个参数。

您可以通过在 python 解释器中键入以下内容来尝试该功能（我猜只在 linux 上）：

```
from gi.repository import Gdk

Gdk.threads_add_idle(...) 
```

知道这三个参数是什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T10:00:45.770

通过查看源代码搜索引擎，我能够使用[该调用](http://code.ohloh.net/file?fid=iaOddY7MjZkG_AZM-XSzCrWAmC8&cid=Z2GcLmDDO0A&s=threads_add_idle&pp=0&fl=Python&ff=1&filterChecked=true&mp=1&ml=0&me=1&md=1&browser=Default#L313)找到一个 python 项目。

```
Gdk.threads_add_idle(GLib.PRIORITY_DEFAULT_IDLE, self._idle_call, data) 
```

看起来自省数据是错误的，优先级应该已经默认为`PRIORITY_DEFAULT_IDLE`（如您指出的文档中所指定）。[您应该在http://bugzilla.gnome.org](http://bugzilla.gnome.org)上提交错误。

**更新：**

Pouria 的错误报告已得到解决`NOTABUG`，因为这是[C 和 Python API 之间的命名混淆](http://bugzilla.gnome.org/show_bug.cgi?id=692280#c1)。

# java - 是否可以退出 if 语句并返回到内部 for 循环？

> ID：14392352
> 
> 赞同：1
> 
> 时间：2013-01-18T04:23:12.840
> 
> 标签：java, if-statement, for-loop

是否有命令退出内部 for 循环内的 if 语句并让它只通过该内部 for 循环？

前任：

```
for (int i = 0; i < blah.length; i++) {
    blh = scan.nextDouble();            
    blah[i] = blh;

    if(scores[i] < MIN || scores[i] > MAX_SCORE) {
        errFlag = true;
        System.out.println("ERROR: Enter numbers in the range of " +
            MIN + "-" + MAX_SCORE + "!");
        System.out.print("ERROR: Enter all " + numStudents + " scores again: ");
        errFlag = false;
    }                       
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-18T04:27:58.563

您可以使用标签块

```
FOUND: {
    for(Type mt: TypeList)
       if(condtion(mt))
            break FOUND;
    // not found code here
} 
```

根据[Java 语言规范 14.7](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.7)

> 通过执行立即包含的 Statement 来执行带标签的语句。如果语句由标识符标记，并且包含的​​语句由于使用相同标识符的中断而突然完成，则标记语句正常完成。在语句突然完成的所有其他情况下，带标签的语句出于相同的原因突然完成

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T04:26:48.010

如果你想让它退出 if 语句，但留在 for 循环中，你可以使用 continue 语句。它就像一个 break 语句，但它只是跳过循环的剩余部分，并在循环的开头继续。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T04:31:54.260

其他选项：

如果您想跳过`if`块中的其他代码但不打算中断循环，您可以在新方法中提取该代码并在两者之间返回（基于所需条件），这样您就可以实现您的目的（如果我正确理解问题）

# ember.js - Ember.js 升级到 v1.0.0-pre.3 - 应用程序初始化只能调用一次

> ID：14392353
> 
> 赞同：1
> 
> 时间：2013-01-18T04:23:22.237
> 
> 标签：ember.js

升级到 v1.0.0-pre.3 时，出现以下错误：

```
Uncaught Error: assertion failed: Ember.Object.create no longer supports defining methods that call _super. 
```

看来出于性能原因，原始 create() 功能保留在 createWithMixins()

这里回答得相当清楚：

[https://github.com/emberjs/ember.js/commit/c1c720781c976f69fd4014ea50a1fee652286048](https://github.com/emberjs/ember.js/commit/c1c720781c976f69fd4014ea50a1fee652286048)

[https://github.com/emberjs/ember.js/pull/1623#issuecomment-11699639](https://github.com/emberjs/ember.js/pull/1623#issuecomment-11699639)

[Ember.Application.create 带有 mixin 和参数](https://stackoverflow.com/questions/13856755/ember-application-create-with-mixin-and-parameters)

但是一旦我做出改变，我现在得到这个错误：

```
Uncaught Error: assertion failed: Application initialize may only be called once 
```

搜索我的代码库，我只运行一次 App.initialize() 。

```
(function(root){
  require(["config"], function(config){
    requirejs.config(config);
    require(["App", "domReady!", "ember"], function(App, doc, Ember){
        var app_name = config.app_name || "App";
        root[app_name] = App = Ember.Application.create(App);
        !App.isInitialized && App.initialize();
    });
  });
 })(this); 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:31:27.253

我相信您根本不需要使用新版本调用初始化。

# facebook - Facebook 编程挑战赛 - ByteLand

> ID：14392354
> 
> 赞同：2
> 
> 时间：2013-01-18T04:23:25.647
> 
> 标签：facebook, algorithm

ByteLand Byteland由N个城市组成，编号为1..N。有 M 条道路连接几对城市。有两个陆军师，A和B，保护王国。每个城市要么由陆军师 A 或由陆军师 B 保护。  

你是一个敌国的统治者，并制定了摧毁 Byteland 的计划。你的计划是摧毁 Byteland 的所有道路，中断所有通信。如果你攻击任何一条道路，这条道路连接的两个城市的军队都会前来防御。你意识到如果有来自 A 军和 B 军的士兵保卫任何一条道路，你的攻击就会失败。  

所以你决定，在执行这个计划之前，你会攻击一些城市并击败位于城市的军队，以使你的计划成为可能。然而，这要困难得多。您估计击败位于城市的军队将占用ci数量的资源。你现在的目标是决定攻击哪些城市，以使你的成本最小，并且不应该保护任何道路免受军队 A 和 B 的攻击。  

----请告诉我这种方法是否正确----

我们需要根据摧毁城市所需的资源对城市进行分类。对于每个城市，我们需要提出以下问题：

1）删除之前的城市不会导致可以摧毁Byteland的状态吗？

2）它连接任何道路吗？

3）它是否连接由不同城市武装的任何道路？

如果所有这些条件都成立，我们将着手摧毁这座城市并记录到目前为止所产生的总成本，并确定摧毁这座城市是否会导致 Byteland 的整体毁灭。

由于城市是按照所产生成本的递增顺序排列的，因此我们可以在找到所需删除集的任何地方停止。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T14:09:39.727

You need only care about roads that link two cities with different armies - links between A and B or links between B and A, so let's delete all links from A to A or B to B.

You want to find a set of points such that each link has at least one point on it, which is a minimum weight vertex cover. On an arbitrary graph this would be NP-complete. However, your graph only ever has nodes of type A linked to nodes of type B, or the reverse - it is a bipartite graph with these two types of nodes as the two parties. So you can find a minimum weight vertex cover by using an algorithm for finding minimum weight vertex covers on bipartite graphs. Searching for this, I find e.g. [http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-854j-advanced-algorithms-fall-2008/assignments/sol5.pdf](http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-854j-advanced-algorithms-fall-2008/assignments/sol5.pdf)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-10T17:12:45.030

麦克多维拉，

但是顶点对它们来说是有代价的，并且最小的顶点覆盖不会产生要删除的正确顶点。想象一下 2 个顶点（A 军队）指向第三个（B）。前两个顶点每个花费 1，第三个花费 5。最小顶点覆盖将返回第三个 - 但移除第三个顶点的成本高于移除成本为 1 + 1 的两个节点。

我们可能需要一些修改版本的最小顶点覆盖。

# android - 如何在 listview 的行和它的后代之间使用 D-pad 导航切换（Google-TV 支持）

> ID：14392356
> 
> 赞同：9
> 
> 时间：2013-01-18T04:23:33.727
> 
> 标签：android, android-listview, google-tv

我有一个列表视图，其中每个列表项内都有一个图像视图，当用户单击该图像视图时，它将弹出一个菜单。

它在带有触摸屏的普通安卓设备上运行良好。

但是现在我想支持google-tv，哪个应用程序应该由D-pad控制。

当我使用 D-pad 在 listview 中导航时，只有整行可以成为焦点，我无法让 listview 内的 imageview 成为焦点。

我尝试将 android:focusable="true" 添加到 imageview，但这会导致整个 listview 无法接收 onItemClick 事件。

有谁知道如何使用 d-pad 在列表视图行和列表视图内的项目之间移动焦点也保持列表视图和图像视图可点击？

非常感谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-19T04:35:10.153

您必须为 ListView 设置以下内容：

```
listView.setItemsCanFocus(true); 
```

使用 listItems 内的可聚焦视图将不会被忽略。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-08-22T03:05:34.793

我的 Listview 使用 D-pad 工作，可以在列表项内切换焦点。这就是我解决它的方法。首先，让您的列表视图具有项目焦点。

注意：如果您稍后在代码中尝试将 ItemsCanFocus 设置为 false，您会发现即使您再次设置回 true，您的列表项也无法再获得焦点，所以不要这样做。

```
mDpadListView.setItemsCanFocus(true); 
```

然后，您需要一个字段来跟踪当前选择的列表项。这里我把ViewHolder放在Adapter中listItem的标签中。

```
mDpadListView.setOnItemSelectedListener(new OnItemSelectedListener() {
    @Override
    public void onItemSelected(AdapterView<?> parent, View view,
            int position, long id) {
        if (view.getTag() != null) {
            DpadListAdapter.ViewHolder holder = (ViewHolder) view.getTag();
            if (holder.shortCut != null && holder.shortCut.isShown()) {
                currentSelectView = view;
            } else {
                currentSelectView = null;
            }
        } else {
            currentSelectView = null;
        }
    }

    @Override
    public void onNothingSelected(AdapterView<?> parent) {
    }
}); 
```

第三，在Activity Method中重写onKeyDown()来控制D-pad的上、下、左、右键。

当用户在 D-pad 上按下右键时，我让列表视图 clearFoucs() 并让里面的 ImageView 获得焦点。

当用户按下向上、向下或向左时，列表项中的 ImageView 将清除其焦点，列表视图会再次获得焦点。

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    switch (keyCode) {
    case KeyEvent.KEYCODE_DPAD_RIGHT:
        if (currentSelectView != null) {
            DpadListAdapter.ViewHolder holder = 
                (ViewHolder)      currentSelectView.getTag();
            mDpadListView.clearFocus();
            holder.shortCut.setFocusable(true);
            holder.shortCut.requestFocus();
            return true;
        }
        break;
    case KeyEvent.KEYCODE_DPAD_LEFT:
    case KeyEvent.KEYCODE_DPAD_UP:
    case KeyEvent.KEYCODE_DPAD_DOWN:
        if (currentSelectView != null) {
            DpadListAdapter.ViewHolder holder = 
                    (ViewHolder) currentSelectView.getTag();
            if (holder.shortCut.hasFocus()) {
                holder.shortCut.clearFocus();
                holder.shortCut.setFocusable(false);
                mDpadView.requestFocus();
                return true;
            }
        }
        break;
    default:
        break;
    }
    return super.onKeyDown(keyCode, event);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:02:52.927

您可以在布局文件中使用属性访问方向键，如下所示：

> ```
>  android:nextFocusLeft="@+id/abc"
>         android:nextFocusRight="@+id/xyz"
>         android:nextFocusUp="@+id/pqr"
>         android:nextFocusDown="@+id/mno"
>         android:nextFocusForward="@+id/finish" 
> ```

所有这些属性将帮助您访问 Google-TV 中的方向键。

# jsf - “响应已经提交”到底是什么意思？那么如何处理异常呢？

> ID：14392361
> 
> 赞同：4
> 
> 时间：2013-01-18T04:23:44.070
> 
> 标签：jsf, servlets, response

[我知道在 getter 和 setter 中编写业务逻辑是一种非常糟糕的编程习惯](https://stackoverflow.com/questions/2090033/why-jsf-calls-getters-multiple-times)，但是如果响应已经提交，有没有办法处理异常？

“响应已提交”和“标头已发送到客户端”究竟是什么意思？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-18T10:51:44.223

如果响应已经提交，则没有很好的方法来处理异常。HTTP 响应基本上由标头和正文组成。标头基本上指示客户端（网络浏览器）它应该如何准确地处理响应，例如内容类型、内容长度、字符编码、正文编码、缓存指令等。

您可以在 webbrowser 的开发人员工具集的 HTTP 流量监视器中看到标头。在 Chrome/IE9+/Firefox23+ 中按 F12 并检查“网络”选项卡。下面的屏幕显示是我的 Chrome 在您当前的问题上显示的内容：

[![在此处输入图像描述](../Images/4b05cf549b637d45b50fd49bec1d13f9.png)](https://i.stack.imgur.com/KrH90.png)

*（注意：“响应”选项卡显示响应正文）*

响应正文是实际内容，通常是一堆 HTML 代码。服务器通常有一个固定大小的缓冲区来写入响应。缓冲区大小取决于服务器品牌/版本和配置，通常为 2KB~10KB。如果这个缓冲区溢出，那么它将被刷新到连接的另一端，客户端。这是响应的提交。客户端已经获得了响应的第一部分，通常已经代表了整组标头，也可能是正文的一部分。

响应的提交是不归路的。服务器无法取回已经发送的字节。更改响应标头为时已晚（例如，重定向基本上由`Location`标头指示，其中包含新 URL），更不用说响应正文了。您可以做的最好的事情是将错误信息附加到已经编写的响应正文中。但这可能会导致一些看起来很奇怪的 HTML，因为此时不知道哪些 HTML 标记需要关闭。浏览器可能无法以正确的方式呈现它。

除了避免 getter 中的业务逻辑以便在呈现响应时不会引发异常之外，避免已提交响应的另一种方法是将响应缓冲区大小配置为与 webapp 可以服务的最大页面一样大。如何做到这一点取决于服务器的品牌/版本。例如，在 Tomcat 中，您可以将其配置为[element的](http://tomcat.apache.org/tomcat-8.0-doc/config/http.html)[`bufferSize`属性`<Connector>`](http://tomcat.apache.org/tomcat-8.0-doc/config/http.html)。`flush()`请注意，如果您自己的代码（隐式）调用响应输出流，这不会阻止刷新。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-03T13:03:13.390

很好的解释 BalusC，我要补充一点，primefaces 在他们的异常处理程序中存在问题。他们尝试在请求已经提交后重定向到错误页面。正如你所说，我发现的唯一解决方案是在响应正文中添加一些额外的内容。我 owerride 处理程序并添加此代码

```
 if ( extContext.isResponseCommitted() ) {
            PartialResponseWriter writer = context.getPartialViewContext().getPartialResponseWriter();
            writer.startElement( "script", null );
            writer.write( "window.location.href = '" + errorPageUrl + "';" );
            writer.endElement( "script" );
            writer.getWrapped().endCDATA();
            writer.endElement( "update" );
            writer.getWrapped().endDocument();
        }
        else {
            extContext.redirect( errorPageUrl );
            context.responseComplete();
        } 
```

# youtube-api - Youtube-API：如何确定我以前是否喜欢过某个视频？

> ID：14392370
> 
> 赞同：5
> 
> 时间：2013-01-18T04:24:22.727
> 
> 标签：youtube-api

我正在为 iOS 设备开发 Youtube 客户端。我想检查登录用户是否喜欢或不喜欢指定的视频。但我找不到任何支持 API（[这里](https://developers.google.com/youtube/2.0/developers_guide_protocol_ratings)）

当我加载视频的提要时，我只是在下面找到了评分信息，没有任何东西表明登录的用户喜欢或不喜欢这个视频。

```
{
   "gd$rating":{
      "average":4.8963733,
      "max":5,
      "min":1,
      "numRaters":193,
      "rel":"http://schemas.google.com/g/2005#overall"
   },
   "yt$statistics":{
      "favoriteCount":"0",
      "viewCount":"111626"
   },
   "yt$rating":{
      "numDislikes":"5",
      "numLikes":"188"
   }
} 
```

我犯了什么错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-18T17:14:39.530

可以使用 YouTube 数据 API v3 来完成。

[https://developers.google.com/youtube/v3/docs/videos/getRating](https://developers.google.com/youtube/v3/docs/videos/getRating)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T05:25:45.410

这是 API v3，请查看此页面：

[https://developers.google.com/youtube/v3/docs/playlists](https://developers.google.com/youtube/v3/docs/playlists)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T08:59:38.297

目前，android 和 iOS 设备上的官方客户端 youtube 不支持此功能。用户看不到他/她喜欢或不喜欢视频。而且，当我在 iPad youtube 应用程序上按“喜欢”或“不喜欢”时，YouTube 网络上的点赞数不会改变。

逆天！

# ajax - 谷歌应用引擎 JSON/AJAX 不工作

> ID：14392376
> 
> 赞同：0
> 
> 时间：2013-01-18T04:24:50.640
> 
> 标签：ajax, json, google-app-engine, python-2.7

这是我的 JS 代码：

```
 <script>
         $("#comments").click(function(event) {
            $.ajax({
               type: "GET",
               url: '/localhost:8080/comment',
               data: JSON.stringify(
                     {
                      'name': 'anon',
                      'subject': 'MY COMMENTS',
                     }),
               contentType: 'application/json',
               success: function(data,textStatus, jqXHR) {
                  console.log('POST response: ');
                  console.log(data);
              }
            });   
      });
   </script> 
```

这是我的 Python 代码：

```
class Guestbook(webapp2.RequestHandler):

  def get(self):

    Jguest_data = json.loads(self.request.body) 
    return self.response.out.write(json.dumps(Jguest_data)) 
```

我收到错误 404 找不到资源。在挖掘之后， localhost 存在一些问题。所以我尝试使用 JSONP 如下：

```
<script>
     $("#comments").click(function(event) {      
        $.ajax({ // ajax call starts
          url: "localhost:8080/comment", // 
          type: "GET",
          data:  JSON.stringify(
                {
                  'name': 'anon',
                  'subject': 'MY COMMENTS',
                }),
          dataType: "jsonp", // Choosing a JSON datatype
          success: function(data,textStatus,jqXHR) 
          {
              console.log('POST response: ');
              console.log(data);
          }
        });       
  });
 </script> 
```

那仍然不起作用...我收到“无法解码 JSON 对象”错误。我尝试用 JSON.load 替换 JSON.loads ......但仍然出错......

有人可以让我知道问题是什么吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T13:14:56.333

当您`GET`使用 ajax 发出请求时，您正在使用 url 参数。
所以请求中没有正文。
做一个`POST`并改变你`get()`的`post()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-30T04:10:30.383

如果您的项目中有一个，您应该编辑您的 app.yaml 文件，如果没有，则添加一个。

将此代码添加到您的文件 (app.yaml)。

```
-url: /comment
  script: <url-to-the-server-side-script> 
```

您可以在此处查看与 python 一起使用的更完整的 app.yaml 文档。

[https://cloud.google.com/appengine/docs/python/config/appref](https://cloud.google.com/appengine/docs/python/config/appref)

# android - 如何动态创建admob adView？

> ID：14392382
> 
> 赞同：0
> 
> 时间：2013-01-18T04:26:09.417
> 
> 标签：android, android-layout, admob, android-relativelayout, adview

我有一个`admob` `adView`设置，当然，由于最新版本中的一个错误，我需要动态创建它。

我想要屏幕底部的广告，我有一个`LinearLayout`设置在底部但有一个限制，否则广告将无法加载。我需要`LinearLayout`有一定的高度（不包装内容）

这一切都适用于测试广告，但问题是......我打算把这个布局放在一个 RelativeLayout 中，这样我就可以将它与底部对齐，但是一旦我这样做 - 我没有看到任何广告...

这是我的代码`onCreate`：

```
 adView = new AdView(this, AdSize.BANNER, "xxx");

    LinearLayout layout = (LinearLayout)findViewById(R.id.adView);

    layout.addView(adView);

    AdRequest adRequest = new AdRequest();
    adRequest.addTestDevice(AdRequest.TEST_EMULATOR);
    adRequest.addTestDevice("5554");    
    adView.loadAd(adRequest); 
```

正如我所说，上面的代码工作得很好，但我想在底部和relativeLayout内部对齐它，但它必须动态完成......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:03:58.440

在运行时计算显示高度并根据需要设置边距顶部。计算高度的方法

```
Display display = getWindowManager().getDefaultDisplay();       
        int width = display.getWidth(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:39:01.877

您的线性布局应如下所示。因此您的 adview 将自动设置在页面底部。

```
 <LinearLayout  android:layout_width="fill_parent"
        android:layout_alignParentBottom="true" 
         android:id="@+id/rootViewGroup"
        android:layout_height="wrap_content" >
    </LinearLayout> 
```

希望这会帮助你 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-21T10:41:36.547

这是将横幅广告放在列表视图或回收站视图下的常见布局方法。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:ads="http://schemas.android.com/apk/res-auto"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent">

<RelativeLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_above="@+id/adView">

    <FrameLayout
        android:id="@+id/fragment"
        android:name="net.yrom.screenrecorder.fragment.ItemFragment"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:layout="@layout/fragment_item_list">Here Can Be anything Mostly it's list view</FrameLayout>
</RelativeLayout>

<com.google.android.gms.ads.AdView
    android:id="@+id/adView"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_centerHorizontal="true"
    android:layout_gravity="bottom"
    ads:adSize="BANNER"
    ads:adUnitId="@string/banner_home_footer"></com.google.android.gms.ads.AdView> 
```

# opencv - opencv人脸识别，获得相似度的测量

> ID：14392384
> 
> 赞同：0
> 
> 时间：2013-01-18T04:26:13.567
> 
> 标签：opencv, face-recognition

我使用opencv2.4.3搭建人脸识别项目。现在我只想知道两张脸有多相似。就像 98% 相似或其他东西。原谅我糟糕的英语。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T15:02:58.040

我建议您使用 LBP 人脸识别器模型并将其中一张图像保存在 Mat 变量中，用这张脸训练模型。在获得其他图像并让模型预测它实际上属于哪个标签之后......模型也可以返回置信度值......较小的置信度值将是准确度......因此将置信度值与喜欢的百分比…………

# c++ - 作为字符串数据成员的变量名

> ID：14392385
> 
> 赞同：0
> 
> 时间：2013-01-18T04:26:18.970
> 
> 标签：c++, metadata, c-preprocessor, stringification

在 C++ 中是否可以声明一个具有`private std::string`数据成员的类，该数据成员用实例符号名称的字符串化/字符串化名称初始化？我可以看到这不适用于临时人员，但对于左值可能吗？

这是我想要的：

```
#include <iostream>
#include <string>

class symbol {
 public:
  symbol() { // here goes some magical sauce }
  void print() { std::cout << s_ << std::endl; }
 private:
  std::string s_;
};

int main() {
  symbol bar, bah;
  bar.print()  // should print "bar" to STDOUT
  bah.print()  // should print "bah" to STDOUT
} 
```

如果我将构造函数更改为接受一个字符串并引入一个预处理器宏，那么我几乎可以得到我想要的，但它闻起来很糟糕。

```
#define makesymbol(x) foo x(#x)
symbol(const std::string & s) : s_(s) {}

// Now I can do:
makesymbol(test);
test.print();  // <--- This prints "test" followed by a newline to STDOUT 
```

基本上我想避免的是用户必须声明符号的实例，例如：

```
symbol phi("phi"); 
```

因为它读起来很烦，打字很烦，而且是多余的。我可以理解为什么在某些情况下您可能希望存储与变量名称不同的字符串，但我专门尝试解决您知道您希望字符串等于字符串化变量名称的问题。

# c# - 如何在 Silverlight 中播放 swf 文件？

> ID：14392390
> 
> 赞同：1
> 
> 时间：2013-01-18T04:27:09.087
> 
> 标签：c#, silverlight, silverlight-4.0, silverlight-5.0, silverlight-toolkit

我想在 silverlight5 页面中播放 .swf。我正在使用 ListBox 控件或图像控件或任何想法在 Silvarlight 中播放 swf 文件

```
<Image Grid.Row="0" Name="bottom_video" Height="80" Source="{Binding VodeoUrl,Mode=OneWay}" Margin="0,20,0,0" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T06:52:06.567

您可能可以在每台 Windows 机器上使用与 flash 播放器一起自动安装的 Flash ActiveX 控件，但如果它可以工作，它仍然会带来很多限制，如此处所述[，](http://procbits.com/2010/10/28/silverlight-4-and-comactivex-integration/)另一个问题将是[“空域”问题](http://msdn.microsoft.com/en-us/library/aa970688%28v=vs.85%29.aspx)。

另一种方法是使用[此](http://www.mikeswanson.com/SWF2XAML/)将 SWF 转换为 XAML 。但是我发现了很多无法转换的swf文件。尤其是在涉及大量 ActionScript 或动态加载内容的情况下。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-30T09:46:13.330

您可以在下面的代码中看到如何在 Silverlight 上使用 Iframe：

```
<Grid x:Name="LayoutRoot">

        <HyperlinkButton Content="HyperlinkButton" Height="23" HorizontalAlignment="Left" Margin="44,20,0,0" Name="hyperlinkButton1" VerticalAlignment="Top" Width="100" TargetName="" Click="hyperlinkButton1_Click"  />

    </Grid>

code behind:

private void hyperlinkButton1_Click(object sender, RoutedEventArgs e)        { 

HtmlDocument _document = HtmlPage.Document;

            HtmlElement iframe = _document.CreateElement("IFRAME");
            iframe.SetAttribute("src", "http://localhost:52878/TestForm.aspx");

            iframe.SetStyleAttribute("position", "absolute");
            iframe.SetStyleAttribute("top", "100px");
            iframe.SetStyleAttribute("left", "200px");
            HtmlElement body = (HtmlElement)_document.GetElementsByTagName("BODY")[0];
            body.AppendChild(iframe);

HtmlDocument _document = HtmlPage.Document;

            HtmlElement iframe = _document.CreateElement("IFRAME");

            iframe.SetAttribute("src", "http://localhost:52878/TestForm.aspx");

            iframe.SetStyleAttribute("position", "absolute");

            iframe.SetStyleAttribute("top", "100px");

            iframe.SetStyleAttribute("left", "200px");

            HtmlElement body = (HtmlElement)_document.GetElementsByTagName("BODY")[0];

            body.AppendChild(iframe);

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-30T12:46:16.557

我已经找到了如何在 Silverlight 5 中播放 swf 文件的答案

```
 <WebBrowser Grid.Row="1" VerticalAlignment="Top" Source="{Binding VodeoUrl,Mode=OneWay}" Height="280" Width="280"/> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T08:29:09.053

这是不可能的。Silverlight 不播放 swf 文件。如果它只是一个没有任何交互的视频文件，您也许可以将视频转换为 Silverlight 可以播放的内容。以下是有关支持的格式的一些信息：http:
[//msdn.microsoft.com/en-us/library/cc189080%28v=vs.95%29.aspx](http://msdn.microsoft.com/en-us/library/cc189080%28v=vs.95%29.aspx)

# html - Bootstrap 模态弹出窗口并调用页面更改

> ID：14392399
> 
> 赞同：0
> 
> 时间：2013-01-18T04:28:32.660
> 
> 标签：html, twitter-bootstrap

我正在使用 Twitter Bootstrap 并调用模态弹出窗口。效果很好。我想添加调用新/更改页面的功能。我会使用 JS 还是可以添加到 href 中？

```
<a data-toggle="modal" data-gallery="dining-room" href="#galleryModal"> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:31:22.673

而不是 href="#galleryModal"，将其指向实际的远程 URL。

```
<a data-toggle="modal" data-gallery="dining-room" 
  href="yourRemoteURL" data-target="#modal-Container"> 
```

也试试这个：

**HTML：**

```
<a href="yourRemoteURL" id="clicker" role="button" class="btn">Clicker</a>
<div id="modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div> 
```

**JS：**

```
$(function () {
    var $modal = $('#modal');
    $('#clicker').on('click', function (e) { /** Call the modal manually */
        e.preventDefault();
        var url = $(this).attr('href');
        $modal.html('<iframe width="100%" height="100%" frameborder="0" scrolling="no" allowtransparency="true" src="' + url + '"></iframe>');
        $modal.modal({
            show: true
        });
    });

    $modal.on('hide', function () {
        $modal.empty() /** Clean up */
    });
}); 
```

**JSFiddle：http:** [//jsfiddle.net/Cp3WY/](http://jsfiddle.net/Cp3WY/)

# javascript - Jquery仅在未选中所有复选框时将DIV的背景颜色更改为＃333

> ID：14392401
> 
> 赞同：2
> 
> 时间：2013-01-18T04:28:42.053
> 
> 标签：javascript, jquery

我有 5 个`div`，`class .thumb-folder`每个里面都包含一个`checkbox`. 我也有另一个`div`同班`.alarm`。

`checkboxes`当检查1或多个时，`div`使用`.alarm class`更改背景为红色。

仅在未选中时如何将其更改为`div`？`.alarm class``background #333``checkboxes`

这是我当前代码的 jsfiddle 的[链接。](http://jsfiddle.net/bhykT/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T04:33:45.250

使用您用于绑定处理程序的相同电子选择器来检查是否选中了任何复选框。

```
 $('.thumb-folder input:checkbox').on('click', function (e) {
      if ($('.thumb-folder input:checkbox').is(':checked')) {
        $('div.alarm').css("background-color","red");
      } 
    else{
        $('div.alarm').css("background-color","#333");
      }
  }); 
```

[**演示**](http://jsfiddle.net/mowglisanu/bhykT/1/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T04:31:34.630

您可以使用长度来查找选中的复选框计数`:checked`

**[现场演示](http://jsfiddle.net/rajaadil/bhykT/5/)**

```
$('.thumb-folder input:checkbox').on('click', function (e) {
  if ($('.thumb-folder :checked').length == 0)
     $('div.alarm').css("background-color", "#333");
  else 
     $('div.alarm').css("background-color", "red");
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-18T04:44:16.150

你可以在 3 行中做到这一点：

```
 $('.thumb-folder input:checkbox').on('click', function (e) {
        $('div.alarm').css("background-color",(($("input[type='checkbox']:checked").length > 0) ? "red" : "#333"));
  }); 
```

# asp.net-web-api - 在 ASP.NET WebAPI OData 中返回子元素

> ID：14392402
> 
> 赞同：5
> 
> 时间：2013-01-18T04:28:42.207
> 
> 标签：asp.net-web-api, odata

我正在使用最新的 ASP.Net WebAPI Nightly 构建（日期为 2013-01-16）。

我目前有一个简单的 EF 数据库第一个模型，它有两个实体——Patients 和 Visits。每个病人可以有很多次就诊。

我希望能够查询我的患者列表，并让每位患者的就诊实体内联返回。我知道 WebAPI 的 OData 实现还不支持 $expand。我希望这只是意味着不支持可选的客户端控制扩展，并且我可以强制扩展服务器端。

目前我没有得到任何内联访问。

例如，我的 PatientController's() Get() 方法看起来像

```
[Queryable(AllowedQueryOptions=AllowedQueryOptions.Supported)]
public override IQueryable<Patient> Get()
{
    var query = this.entities.Patients.Include("Visits");
    return query;  
} 
```

我已经验证对我的数据库执行的查询确实包含访问信息。

以公开可用的 OData 服务为例，如果您使用[http://services.odata.org/OData/OData.svc/](http://services.odata.org/OData/OData.svc/)上的服务，您可以获得供应商列表。这是[http://http://services.odata.org/OData/OData.svc/Suppliers](http://services.odata.org/OData/OData.svc/Suppliers)。[您还可以使用http://http://services.odata.org/OData/OData.svc/Suppliers?$expand=Products](http://services.odata.org/OData/OData.svc/Suppliers?$expand=Products)索取包含产品列表的供应商列表

单步执行 ASP.NET 代码（通过符号服务器），我找到了 System.Web.Http.OData.Formatter.Serialization.ODataEntityTypeSerializer，可以看到它是 CreatePropertyBag 方法，它构建了要序列化的属性列表, 只是不包括导航属性，除了被写为 NavigationLinks 之外，它们似乎没有在其他任何地方枚举。

总的来说，我对 ASP.NET 世界很陌生，并且花了一周左右的时间来了解事情的工作方式（特别是 2012 年底对 OData 所做的更改以及 2013 年迄今为止所做的进一步更改） .

我怀疑如果要修改 ODataEntityTypeSerializer（我很乐意尝试）以将这些额外信息嵌入到适当的位置（在每个导航链接中作为嵌套的内联提要，尽我所知），那么我将被设置。

问题：

1.  我是否忽略了一些明显的事情并且我可以设置一个标志来打开这种行为？我可以明白为什么，如果存在这样的标志，默认情况下它会关闭（EF 延迟加载并且这个标志不会很好）

2.  如果 #1 不是，我可以使用其他一些 ODataEntityTypeSerializer 吗？如果是这样，我该如何切换到它？

3.  如果＃2 不是，任何关于我应该从哪里开始编写自己的指针的指针？有没有我可以在我自己的序列化程序中替换的地方，或者我必须维护我自己的 ASP.NET 扩展项目的分支（而不是运行时项目）

非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:09:36.467

$expand 在我们支持 OData 的列表中非常重要。但据我所知，我们没有任何标志可以在服务器端打开它。格式化程序目前也不允许您替换自己的序列化程序。因此，恐怕您在此期间唯一的选择是创建一个分支并添加对 $expand 的支持。如果您设法让它工作，请考虑以我们的方式发送拉取请求：

[http://aspnetwebstack.codeplex.com/SourceControl/network](http://aspnetwebstack.codeplex.com/SourceControl/network)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-01T07:51:16.117

您可以在 webapi nightly builds 中尝试它。

以下是如何使用 nuget 安装它： [http ://aspnetwebstack.codeplex.com/wikipage?title=Use%20Nightly%20Builds](http://aspnetwebstack.codeplex.com/wikipage?title=Use%20Nightly%20Builds)

# python - 创建一个 3 x 4 矩阵并添加列

> ID：14392408
> 
> 赞同：3
> 
> 时间：2013-01-18T04:29:13.580
> 
> 标签：python

> 在本实验中，您将在 Python 中使用二维列表。执行以下操作：编写一个函数，使用以下标题返回矩阵中指定列中所有元素的总和：
> 
> ```
> def sumColumn(matrix, columnIndex) 
> ```
> 
> 编写一个函数，逐行显示矩阵中的元素，其中每行中的值显示在单独的行上（参见下面的输出）。编写一个读取 3 X 4 矩阵并显示每列总和的测试程序（即 main 函数）。这是一个示例运行：
> 
> 为第 0 行输入一个 3×4 矩阵行：2.5 3 4 1.5 为第 1 行输入一个 3×4 矩阵行：1.5 4 2 7.5 为第 2 行输入一个 3×4 矩阵行：3.5 1 1 2.5
> 
> 矩阵为 2.5 3.0 4.0 1.5 1.5 4.0 2.0 7.5 3.5 1.0 1.0 2.5
> 
> 第 0 列的元素总和为 7.5 第 1 列的元素总和为 8.0 第 2 列的元素总和为 7.0 第 3 列的元素总和为 11.5

到目前为止，这是我的代码：

```
def main():
    matrix = [[],[],[]]
    matrix[0].append(raw_input('Enter a 3-by-4 matrix row for row 0:'))
    matrix[1].append(raw_input('Enter a 3-by-4 matrix row for row 1:'))
    matrix[2].append(raw_input('Enter a 3-by-4 matrix row for row 2:'))
    print 'The matrix is:', '\n', matrix[0], '\n', matrix[1], '\n', matrix[2], '\n',   

main() 
```

我需要帮助将列添加在一起，我可能错误地创建了我一直在使用的矩阵，`sum = matrix[0][0][0] + matrix[0][0][2]` 但它确实添加了它们，它只是将两个数字放在一起。
示例：我想要 1 + 2
预期答案 3
出来 12

有没有办法可以将列表的两个元素添加在一起？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:45:13.873

`raw_input`返回一个字符串，因此需要将其处理为某种形式的数字。

一个要求输入的简短示例，通过空格将其拆分并使其成为`float`：

```
text = raw_input('row 1: ')
nums = [float(word) for word in text.split()] 
```

此外，您不希望追加`matrix = [[],[],[]]`- 因为您最终会创建实际上是 3 维结构的内容。将其更改为`matrix = []`... 并`matrix.append(nums)`在每次有输入行时使用。

您可能还想考虑如果输入了无效数字会发生什么，或者如果没有所需的数量......但这是一个不同的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:55:42.150

```
def main():
    f = lambda x: map(float, raw_input('Enter row %d for matrix of 3X4.\n' %(x)).split())
    matrix = [f(0),f(1),f(2)]
    print map(sum, zip(*matrix))

main() 
```

上面的代码将一个 3X4 矩阵作为输入，并在每一列上打印总和。

## 解释：

如果`lambda`听起来令人生畏，您可以改用函数，例如：

```
def rowInput(x):
 return map(float, raw_input('Enter row %d for matrix of 3X4.\n' %(x)).split()) 
```

并称它为

```
matrix = [rowInput(0), rowInput(1), rowInput(2)] 
```

* * *

这里的`zip`函数一次从每一行中获取一个元素，并将它们相加。

> zip(...) zip(seq1 [, seq2 [...]]) -> [(seq1[0], seq2[0] ...), (...)]
> 
> ```
> Return a list of tuples, where each tuple contains the i-th element
> from each of the argument sequences. ... 
> ```

`zip(*matrix)`将返回`[(col0), (col1), (col2), (col3)]`。

* * *

该`map`函数将第一个参数中的函数应用于第二个参数中的每个元素。例如，`map(sum, zip(*matrix))`等价于`[sum(col0), sum(col1), sum(col2), sum(col3)]`。

> map(...) map(function, sequence[, sequence, ...]) -> 列表
> 
> ```
> Return a list of the results of applying the function to the items of
> the argument sequence(s). ... 
> ```

# gnuplot - GNU Plot：绘制存储为一列的 x、y、z 值

> ID：14392411
> 
> 赞同：1
> 
> 时间：2013-01-18T04:29:22.653
> 
> 标签：gnuplot

使用 GNU Plot，我通常在三个单独的列中处理 x、y、z 数据：

```
x1, y1, z1
x2, y1, z2
...
...
xn, yn, zn 
```

我曾经`splot 'filename.ext' with lines`快速获得 3D 情节

由于我们新的系统要求，我们必须以以下形式存储数据：

```
x1
y1
z1
x2
y2
z2
.
.
xn
yn
zn 
```

我已经用 C# 编写了一个简单的代码，将我们的结果转换为 3 列，以便在 GNU Plot 中轻松查看。

我的问题是，如果数据现在只是一个一维数组，有没有办法直接在 GNU Plot 中绘制它，而无需我的程序将我们的结果重新保存为 3 列结果？

谢谢你。

问候， 伊克尔

**附加信息**：我在 64 位 Win7 上运行，并使用 GNU Plot 的 Win 二进制文件。显然，我没有`paste`, `sed`and `popen`（见下面的讨论）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T09:16:15.933

我不知道如何让 Gnuplot 将输入解释为三组，但如果您的 Gnuplot 版本支持`popen`，您可以使用例如 paste 或 sed 即时加入这些行：

```
splot '< paste - - - < filename.ext' with lines 
```

或者：

```
splot '< sed "N; N; s/\n/ /g" filename.ext' with lines 
```

# database - 这些数据模型中哪个最正确？

> ID：14392413
> 
> 赞同：2
> 
> 时间：2013-01-18T04:29:23.733
> 
> 标签：database, database-design, relational-database

我正在为我将要开发的应用程序创建数据模型，我希望能得到一些关于模型部分的反馈。该应用程序将完全重新开发在 Lotus Notes 中创建的东西，重新开发的主要目的之一是向关系数据存储层移动。

该应用程序专注于管理`Things`. 应用程序的要求/约束​​是：

1.  A`Thing`必须有一个关联的`Location`.
2.  例如， A`Location`可以是“McDonalds”或“Melbourne Uni, Building AK, Room 301”，其中“Melbourne Uni”、“Building AK”和“Room 301”是独立相关的`Locations`。
3.  （至少）`Location`必须存在3 个级别/层
4.  必须提供“其他”位置，以便用户可以为数据库中不存在的位置输入自由文本

所以我想出了上述 4 种不同的实现，但我真的没有足够的 DBA 经验来知道哪个是最正确的。

[位置/事物关系模型](http://imgur.com/OauNY)

对此的任何想法和/或建议将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:37:39.423

如果您对三个级别的估计被证明是不充分的，那么这两个选项 1 都可能证明不灵活且难以修改。

在您的选项 2 中，看起来可疑的实体是 ThingOtherLocations。任何（从它的名称）连接两个不同概念的东西都会被自动怀疑。如果你在这里确实有两个独立的概念，那么选项 2b 的结构不需要 OtherLocation 或 ThingOtherLocation。我怀疑你试图表示的关系（得名）实际上是位置之间的另一种关系——尽管我不清楚这一点。

**编辑**

根据您对 ThingOtherLocations 的说明，我建议您将与 Other 关联的文本简单地视为新位置，并将新位置与其他位置一起存储。似乎没有任何理由为这些情况包括特殊的数据库处理。

**编辑**

要处理子位置问题，您可能想考虑 Joe Celko 在嵌套集上的工作。这方面的主要参考是：

```
Joe Celko.     
Joe Celko's Trees and Hierarchies in SQL for Smarties, 
(The Morgan Kaufmann Series in Data Management Systems)
ISBN 1-55860-920-2 
```

# android - Android Webview 的 ClearCache 很慢

> ID：14392414
> 
> 赞同：2
> 
> 时间：2013-01-18T04:29:25.973
> 
> 标签：android, caching, webview, clear-cache

我在 Android 应用程序中使用 WebViews，我需要防止 WebViews 缓存。

不幸的是，这个看似简单的目标似乎几乎不可能实现。我使用的解决方案是在 onPageFinished 事件中执行 webview.clearCache(true) ，以便在每次加载页面时清除缓存。有一些问题...

我注意到随着缓存的增长，clearCache 方法的执行变得非常耗时。有时，如果您执行 clearCache，然后切换到包含不同 webview 的不同 Activity，则该 webview 将不会加载几秒钟，因为它仍在等待之前的 clearCache 操作完成。

更糟糕的是，在清除缓存后，后续调用 clearCache 的执行时间似乎并没有减少。如果对 clearCache 的调用需要 3 秒才能完成，然后我立即第二次调用 clearCache，那么我希望对 clearCache 的第二次调用几乎立即完成。但这不是我正在经历的；我遇到第二次调用 clearCache 仍然需要大约 3 秒。

有没有其他人经历过这个？有什么方法可以提高性能吗？等待 2-3 秒加载 web 视图（从本地文件系统）是可怕的。

编辑：

这是我实际清除缓存的最佳选择。它或多或少有效，但有点不稳定，我对它不是 100% 满意（用 Mono c# 编写）：

```
public class NoCacheWebClient : WebViewClient
{
    string previous;

    public override void OnPageStarted(WebView view, string url, Android.Graphics.Bitmap favicon)
    {
        base.OnPageStarted(view, url, favicon);

        if (!string.Equals(previous, url))
        {
            previous = url;
            view.Reload(); //re-load once to ignore cache
        }
        else
        {
            previous = null;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-18T05:37:16.123

1）尝试使用[setAppCacheEnabled](http://developer.android.com/reference/android/webkit/WebSettings.html#setAppCacheEnabled%28boolean%29)和[setAppCacheMaxSize](http://developer.android.com/reference/android/webkit/WebSettings.html#setAppCacheMaxSize%28long%29)将缓存大小限制为非常小，较低的缓存大小将导致更快的清理。

前任：`wv.getSettings().setAppCacheMaxSize(1);`

**或者**

2）如果您不需要缓存数据，则只需设置[setCacheMode(WebSettings.LOAD_NO_CACHE);](http://developer.android.com/reference/android/webkit/WebSettings.html#setCacheMode%28int%29) ，这意味着 **“不要使用缓存，从网络加载”**，即使数据被缓存。

简而言之，只需忽略缓存的数据，android 就会处理它。

**或者**

3）您也可以尝试以下代码进行无缓存，

注意：这仅适用于 Android API 8+

```
 Map<String, String> noCacheHeaders = new HashMap<String, String>(2);
    noCacheHeaders.put("Pragma", "no-cache");
    noCacheHeaders.put("Cache-Control", "no-cache");
    view.loadUrl(url, noCacheHeaders); 
```

**或者**

4）每当页面加载完成时，每次都清除缓存。像这样的东西在`WebViewClient`.

```
@Override
public void onPageFinished(WebView view, String url) {
    super.onPageFinished(view, url);
    view.clearCache(true);
} 
```

**或者**

5）您可以尝试一次删除整个缓存数据库。

```
 context.deleteDatabase("webview.db");
    context.deleteDatabase("webviewCache.db"); 
```

这可能会产生更快的结果，希望如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:59:02.410

当您要进行下一个活动时，请完成上一个活动。这样您就可以释放该活动占用的所有内存。希望这可以帮助。

# android - Android 库组件

> ID：14392415
> 
> 赞同：0
> 
> 时间：2013-01-18T04:29:28.293
> 
> 标签：android, user-interface, components

我正在尝试制作一个可重用的组件来滑动其内容。

这是组件的代码：

```
package com.example.components;

import android.content.Context;
import android.util.AttributeSet;
import android.widget.LinearLayout;

public class SlideRightNLeft extends LinearLayout{

private LinearLayout.LayoutParams params1;
private LinearLayout.LayoutParams params2;

public SlideRightNLeft(Context context) {
    super(context);
}

public SlideRightNLeft(Context context, AttributeSet attrs) {
    super(context, attrs);
}

public SlideRightNLeft(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
}

public void slideRight(){
    int x = 0;

    while(x < 300) {

        try {
            Thread.sleep(5);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        params1 = new LinearLayout.LayoutParams(this.getChildAt(0).getWidth(), this.getChildAt(0).getHeight());
        params1.setMargins(300 - x, 1, 1, 1);

        params2 = new LinearLayout.LayoutParams(this.getChildAt(0).getWidth(), this.getChildAt(0).getHeight());
        params2.setMargins(x, 1, 1, 1);

        this.getChildAt(0).setLayoutParams(params1);

        this.getChildAt(1).setLayoutParams(params2);

        x++;
        this.invalidate();

    }
}

} 
```

不幸的是它不会滑动。可以假设我必须使用`runOnUiThread`它才能真正看到它的滑动，但它需要一个活动，并且因为我在组件中，所以我无权访问它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:56:28.093

您可以使用`Context`传递给构造函数的那个​​来访问该`runOnUiThread`方法。

```
((Activity)context).runOnUiThread(new Runnable(){

}); 
```

# javascript - JQuery 中的 $(this) 问题

> ID：14392419
> 
> 赞同：2
> 
> 时间：2013-01-18T04:29:42.837
> 
> 标签：javascript, jquery

嘿伙计们，我有以下几点：

```
$(".views").click(function() {
    $(this).(".views").show();

});

$(".closeviews").click(function () {
    $(this).(".closeviews").hide();

}); 
```

这将根据他们想要查看的视图列表打开一个列表，出于某种原因它告诉我`Uncaught SyntaxError: Unexpected token (`

一旦我删除`(this).` 它，它就会消失，所以我有点困惑它为什么告诉我这个。

编辑：

我改成这样：

```
$(".views").click(function() {
    $(this).find(".views").show()

});

$(".closeviews").click(function () {
    $(this).find(".closeviews").hide()

}); 
```

什么都不做，如果我转到上面的视图列表，它会打开这个和那个。

日期：

HTML：

我试图用上面的脚本打开的那个 -

```
<input type='button' value='View Your Employees' class='views' name='views' /> 
<input type='button' value='Close' class='closeviews' name='closeviews' /> 
```

我点击这个上面的那个，打开上面加上这个：

脚本：

```
$(".notempl").click(function () {
    $(".notempltable").show();

});

$(".closenotempl").click(function () {
    $(".notempltable").hide();

}); 
```

HTML：

```
<input type='button' value='View Employees' class='notempl' name='notempl' /> 
<input type='button' value='Close' class='closenotempl' name='closenotempl' /> 
```

更新：

大家好，谢谢大家的帮助，解决了。我实际上是在告诉错误的事情要显示和隐藏。每个列表都由 PDO 语句和表格填充，因此我需要显示表格，隐藏表格而不是按钮。

多谢你们 ：）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-18T04:31:32.103

它应该是

```
$(this).hide();
$(this).show(); 
```

如果您删除 $(this) 那么它将隐藏并显示该类的所有元素。如果您单击其中任何一个，则所有这些都将被隐藏。我不相信你想要那样。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-18T04:30:45.717

我想你的意思是`$(this).find(".views").show()`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T04:51:30.643

为什么要找同一个班。正如您可以执行 $(this) 来访问该类并完成它：

```
$(".views").click(function() {
    $(".closeviews").show(); //Show close 
});

$(".closeviews").click(function () {
    $(".views").hide(); // Hide view
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-18T05:01:21.810

[***演示***](http://jsfiddle.net/J42yk/)

HTML：

```
<ul class='viewstable'>
  <li>Sample</li>
  <li>Sample 2</li>
</ul>

<input type='button' value='View Your Employees' class='views' name='views' /> 
<input type='button' value='Close' class='closeviews' name='closeviews' /> 
```

JS：

```
$(function () {
  $(".views").click(function () {
    $('.viewstable').show();
  });

  $(".closeviews").click(function () {
    $('.viewstable').hide();
  });
}); 
```

# windows - 注册表导入在批处理脚本中不起作用

> ID：14392420
> 
> 赞同：0
> 
> 时间：2013-01-18T04:29:48.877
> 
> 标签：windows, search, batch-file, replace, registry

我试图弄清楚为什么我的 reg import 命令在下面的脚本中不起作用。当我从 DOS 运行 reg import fileName.reg 时，它工作正常，但是当包含在下面的脚本中时，它什么也不做，我找不到原因。我可以看到导出正确完成，格式对我来说还可以。当我在同一个导出文件上使用 reg import 命令时，它工作正常。下面是代码。

谢谢......

```
@echo off
SETLOCAL ENABLEEXTENSIONS
SETLOCAL DISABLEDELAYEDEXPANSION
REM  This script updates the Windows Registry for the 

REM update Admin Nodes
set service1Key=HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\services\MyService1\Parameters
set service2Key=HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\services\MyService2\Parameters

echo updating [%service1Key%]
call :updateRegKeys %service1Key%
echo updating [%service2Key%]
call :updateRegKeys %service2Key%

SET count=3
set looper=1

FOR /L %%A IN (1,1,%count%) DO (call :updateAllServers %%A)
GOTO:EOF

:updateAllServers
SET domainKey=HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\services\MyDomain%looper%\Parameters
SET otherDomainKey=HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\services\MyOtherDomain%looper%\Parameters
echo [%domainKey%]
echo [%otherDomainKey%]
echo .
call :updateRegKeys %domainKey%
call :updateRegKeys %otherDomainKey%
set /a looper+=1
goto:eof

:updateRegKeys
SETLOCAL ENABLEEXTENSIONS
SETLOCAL DISABLEDELAYEDEXPANSION
set "registrykey=%1"
set findv="-Xms512m"
set replacev="-Xms512m something that is long"
echo "Updating registry values, please wait..."
REG EXPORT "%registrykey%" origReg.txt
call :findReplace %findv% %replacev% origReg.txt > newkeys.reg
reg import newkeys.reg
del /q newkeys.reg origReg.txt

:findReplace
REM finds and replaces a string 
SETLOCAL ENABLEEXTENSIONS
SETLOCAL DISABLEDELAYEDEXPANSION
if "%~1"=="" findstr "^::" "%~f0"&GOTO:EOF
for /f "tokens=1,* delims=]" %%A in ('"type %3|find /n /v """') do (
set "line=%%B"
if defined line (
    call set "line=echo.%%line:%~1=%~2%%"
    for /f "delims=" %%X in ('"echo."%%line%%""') do %%~X
) ELSE echo.
) 
```

转到：eof

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:41:48.133

您需要在 *.reg 脚本中“转义”所有反斜杠，例如（注意“\\”）：

```
[HKEY_CURRENT_USER\Environment]
"LIB_DIR"="C:\\Libraries" 
```

否则它将不起作用，您将完全不知道为什么（没有错误，警告只是没有任何反应）。我前段时间遇到过这个问题。

我希望这会有所帮助。

# vb.net - VB 总工资计算

> ID：14392421
> 
> 赞同：0
> 
> 时间：2013-01-18T04:30:33.737
> 
> 标签：vb.net

我要做的就是创建一个简单的薪酬计算器。用户输入他们的 baseSalary、totalSales 和 CommissionRate。该程序运行得很好，但总支付不正确。任何帮助都是极好的。这很可能是一个简单的修复，但由于这只是我的 VB 课程的第二天，我不知道如何解决这个问题。预先感谢您提供的任何帮助！

```
'   Total Pay Calculator
'   By: Jeremy Flaugher
'   01/17/2013

Module myPay
    Sub Main()
        '   Declare the variables
        Dim baseSalary As Integer
        Dim totalSales As Integer
        Dim commissionRate As Decimal
        Dim totalPay As Integer

        '   Title and By line
        Console.Out.WriteLine("Welcome to the Paycheck Calculator")
        Console.Out.WriteLine("Created by Jeremy Flaugher" & vbCrLf)

        '   User Prompts
        Console.Out.Write("Please enter your Base Salary: $")
        baseSalary = Console.In.ReadLine()

        Console.Out.Write("Please enter your number of sales: ")
        totalSales = Console.In.ReadLine()

        Console.Out.Write("Please enter your Commission Rate in decimal form: ")
        commissionRate = Console.In.ReadLine()

        '   Processes
        totalPay = (totalSales * commissionRate) + baseSalary
        Console.Out.WriteLine("Your paycheck will total: " & (FormatCurrency(totalPay)))
        Console.ReadKey()
    End Sub
End Module 
```

运行程序后，我正在检查计算器上的输出。假设我输入 100 美元作为基本工资，5 作为销售数量，0.5 作为佣金率。在计算器上，我得到了 102.5 美元的总工资，但在运行程序时，我得到了 102.00 美元。我怎样才能解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:43:55.170

首先，我会将[Option Strict On](http://msdn.microsoft.com/en-US/library/zcd4xwzs%28v=vs.110%29.aspx)放在您模块的顶部，这是一种很好的做法，并且可以让您免于尝试弄清楚为什么事情不正确的痛苦。在您的情况下，我相信您的问题是您使用小数作为计算的一部分，但您将结果放入整数。尝试将 totalPay 也声明为小数。

从上面的链接使用 Option Strict 的好处：

> 当您将 Option Strict 设置为 On 时，Visual Basic 会检查是否为所有编程元素指定了数据类型。可以显式指定数据类型，也可以使用本地类型推断指定数据类型。建议为所有编程元素指定数据类型，原因如下：

*   它为您的变量和参数启用 IntelliSense 支持。这使您能够在键入代码时查看它们的属性和其他成员。
*   • 它使编译器能够执行类型检查。类型检查可帮助您找到由于类型转换错误而可能在运行时失败的语句。它还标识对不支持这些方法的对象的方法的调用。
*   • 它加快了代码的执行速度。这样做的一个原因是，如果您没有为编程元素指定数据类型，Visual Basic 编译器会为其分配 Object 类型。编译后的代码可能必须在 Object 和其他数据类型之间来回转换，这会降低性能。

# python - 为什么 request.get_full_path 在模板中不可用？

> ID：14392423
> 
> 赞同：2
> 
> 时间：2013-01-18T04:30:39.773
> 
> 标签：python, django

我目前正在`'request_path': request.get_full_path()`通过`render_to_response`。我想知道这真的是 nessccary，因为我被告知它是 unnesscary 并且上下文处理器会处理这个问题，但是 {{ get_full_path }} 是空的。

请指教。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T04:39:07.397

`{{ request.get_full_path }}`在您的模板中尝试。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-18T04:39:17.007

您需要添加[默认情况下不存在的](https://docs.djangoproject.com/en/dev/ref/settings/#template-context-processors)[`django.core.context_processors.request`](https://docs.djangoproject.com/en/dev/ref/templates/api/#django-core-context-processors-request)模板上下文处理器设置，并使用. 像`RequestContext`

```
return render_to_response('my_template.html', 
                        my_data_dictionary,  
                        context_instance=RequestContext(request)) 
```

这将`request`在您的模板中添加变量，然后您可以`{{ request.get_full_path() }}`在模板中使用。

# c# - Enum 及其相关值的简化

> ID：14392428
> 
> 赞同：1
> 
> 时间：2013-01-18T04:31:24.163
> 
> 标签：c#, visual-studio-2010

我有一个像这样维护的价值观列表，

```
 public enum DisplayUnits
    {
        Vertical = 0,
        Horizontal = 1,
        Track = 2,
        Empty = 3,

    }
    public static string DisplayUnitsImage(DisplayUnits unit)
    {
        switch (unit)
        {
            case DisplayUnits.Vertical:
                return @"/image1";
            case DisplayUnits.Horizontal:
                return @"/image2";
            case DisplayUnits.Track:
                return @"/image3";
            case DisplayUnits.Empty:
                return @"/image4";
            default:
                return @"/image5";
        }

    }
    public static string DisplayUnitID(DisplayUnits unit)
    {
        switch (unit)
        {
            case DisplayUnits.Vertical:
                return @"1234";
            case DisplayUnits.Horizontal:
                return @"1235";
            case DisplayUnits.Track:
                return @"1236";
            case DisplayUnits.Empty:
                return @"1237";
            default:
                return @"1238";
        }
    } 
```

为了检索图像路径，我将通过传递枚举来调用该方法。
是否可以用更简单的方式编写，因为要添加一个值，我需要在三个地方进行更改？
在这种情况下建议使用元组？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:38:33.643

让我彻底改变我的答案。

一旦您声明需要对所有可能`unitid`的 s 和`image`s 进行硬编码，您可以将它们存储到代码中的数组中，例如：

```
static string[] Images = 
{ 
    "/VerticalImage", 
    "/HorizontalImage", 
    "/TrackImage", 
    "/EmptyImage" 
}; //and so on... 
```

即正确的图像（或unitid）存储在与相关`DisplayUnits` `int`表示匹配的位置。

然后，您将能够使所需的方法像这样工作：

```
public static string DisplayUnitsImage(DisplayUnits unit)
{
    return string.Concat(Images[(int)unit], (int)unit);
} 
```

因此，如果编辑了枚举，您需要编辑的唯一内容`DisplayUnits`是

1.  更改枚举本身
2.  更改每个包含数据的数组（`string[] Images`在本例中）

您无需编辑方法的主体（`DisplayUnitsImage`、`DisplayUnitID`和其他方法（如果有））。

或者更容易。如果您的所有方法都类似地工作，那就是简单地将数据字段和单位表示连接起来，那么您可能有一种方法而不是所有方法：

```
public static string DisplayUnitsData(string[] data, DisplayUnits unit)
{
    return string.Concat(data[(int)unit], (int)unit);
} 
```

并将适当的数组（如`Images`本例中）作为`data`参数传递：

```
string result = DisplayUnitsData(Images, DisplayUnits.Vertical); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:41:31.833

```
public static String DisplayUnitsImage(Int32 value)
{
    return @"/image" + value;
}

public static String DisplayUnitID(Int32 value)
{
    return "123" + value;
} 
```

# python - 使用 Python 检查远程 SSH 服务器上的文件是否存在

> ID：14392432
> 
> 赞同：9
> 
> 时间：2013-01-18T04:31:39.007
> 
> 标签：python, file-io, file-exists

我有两台服务器 A 和 B。我想发送一个图像文件，从服务器 A 到另一台服务器 B。但是在服务器 A 可以发送文件之前，我想检查服务器中是否存在类似的文件B. 我尝试使用 os.path.exists() 但它不起作用。

```
print os.path.exists('ubuntu@serverB.com:b.jpeg') 
```

即使我在服务器 B 上放置了一个确切的文件，结果也会返回错误。我不确定是我的语法错误还是有更好的解决方案来解决这个问题。谢谢

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-18T04:38:01.940

这些`os.path`功能仅适用于同一台计算机上的文件。它们在*路径*上运行，而`ubuntu@serverB.com:b.jpeg`不是路径。

为了实现这一点，您需要远程执行一个脚本。这样的事情通常会起作用：

```
def exists_remote(host, path):
    """Test if a file exists at path on a host accessible with SSH."""
    status = subprocess.call(
        ['ssh', host, 'test -f {}'.format(pipes.quote(path))])
    if status == 0:
        return True
    if status == 1:
        return False
    raise Exception('SSH failed') 
```

因此，您可以通过以下方式获取文件是否存在于另一台服务器上：

```
if exists_remote('ubuntu@serverB.com', 'b.jpeg'):
    # it exists... 
```

请注意，这可能会*非常*慢，甚至可能超过 100 毫秒。

# extjs4 - 如何在 2 个组合框中显示单个商店的不同价值？

> ID：14392436
> 
> 赞同：1
> 
> 时间：2013-01-18T04:32:15.590
> 
> 标签：extjs4, store

我在 ExtJS 4 中存在 Store 问题。在我的应用程序中，我想使用两个组合。两个组合中都显示了商店值。但问题是在第一个组合中选择的值不应该在下一个组合中显示。由于单一商店，我无法做到这一点..应该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-21T06:21:29.987

这对我有用

```
listeners : {
               expand: function() {
               boxerListStore.filter(function(r) {
                       var value = r.get('id');                       
                       var getValue = Ext.getCmp('boxer2').getValue();                           
                       return (value != getValue);
               });
             }
          } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:56:42.793

您可以使用`select`第一个组合的事件，例如 -

```
 listeners: {
        select: function(combo, records, eOpts){
            Ext.getCmp('secondCombo').select(records[0]);
        }
    } 
```

# c# - 将执行的 Sql 保存在表中

> ID：14392437
> 
> 赞同：2
> 
> 时间：2013-01-18T04:32:25.380
> 
> 标签：c#, .net, sql, sql-server, insert

我正在尝试注销执行的 sql。

我有一个调用 LogGenerateReport(String Sql) 的函数，它将执行插入过程以将数据保存在数据库中。

我面临的问题是关于 SQl ''。

例如：

```
INSERT INTO TABLE(Sql)
VALUE('SELECT * FROM Sales WHERE SalesID = 'ABC123';') 
```

它返回给我错误，我知道由于引用而发生了什么。我再次尝试在我的数据库中打开一个新查询并粘贴到 sql 上方并对其进行一些修改，例如。

```
INSERT INTO TABLE(Sql)
VALUE('SELECT * FROM Sales WHERE SalesID = ''' + 'ABC123' + ''';') 
```

它返回我预期的结果。

```
 Output:
|Sql                                          |
|SELECT * FROM Sales WHERE SalesID = 'ABC123';| 
```

但是回到我的 .aspx.cs 页面，我有一个字符串生成器，用于存储执行的查询，在执行之前，它需要先保存查询。

```
For example:

System.Text.StringBuilder str = new System.Text.StringBuilder();
str.append("SELECT * FROM Sales WHERE SalesID = 'ABC123';");

api.LogGenerateReport(Convert.tostring(str)); 
```

由于引用，它像上面一样返回错误。

我试图解决这个问题，我的想法是

```
String TempSql = Convert.tostring(str);
TempSql.Replace("'","+'''"); 
```

我不会工作，因为 + 符号在不同的位置。

有什么办法可以克服这个吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:39:17.710

```
cmd.CommandType = CommandType.Text;
cmd.CommandText = @"SELECT * FROM Sales WHERE SalesID = @Param";
cmd.Parameters.Add("@Param", SqlDbType.Varchar).Value = 'ABC'; 
```

试试这个，强烈推荐使用参数化的，并且在某种程度上处理 sql 注入以及这些类型的问题

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T04:49:40.780

要成功记录任何和所有 SQL 查询（无论其内容如何），您需要按以下方式应用参数化命令：

```
using(var command = new SqlCommand(someSqlConnection))
{
   command.CommandText = "INSERT INTO TABLE(Sql) VALUE(@Sql)";
   command.Parameters.AddWithValue("@Sql", "<any string>");
   command.ExecuteNonQuery();
} 
```

这样您就可以避免使用**非标准**方法转义任何内容，并保护您的代码免受 SQL 注入攻击。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:43:45.217

为什么不能用双单引号替换语句中的所有单引号？此请求工作正常：

```
INSERT INTO TABLE(Sql)
VALUE('SELECT * FROM Sales WHERE SalesID = ''ABC123'';') 
```

和代码：

```
String TempSql = Convert.tostring(str);
TempSql.Replace("'","''"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T04:43:54.280

我的猜测是您的 api.LogGenerateReport 在将行插入数据库时​​没有转义单引号。您应该使用参数修复您的插入语句。

要使其按原样“工作”，您需要用两个单引号转义单引号。尝试改变：

```
"SELECT * FROM Sales WHERE SalesID = 'ABC123';" 
```

到

```
"SELECT * FROM Sales WHERE SalesID = ''ABC123'';" <-- these are 2 single quotes, no double quotes 
```

祝你好运。

# javascript - 哪些 HTML 元素支持 onerror 属性？

> ID：14392438
> 
> 赞同：6
> 
> 时间：2013-01-18T04:32:40.103
> 
> 标签：javascript, css, onerror

[我有一个从Google Web Fonts](http://www.google.com/webfonts/)加载 CSS 和字体的网站。但是，使用该站点的一个地方是无法访问 Internet 的本地 Intranet。

我仍然希望尽可能使用 Google 提供的字体，以享受 Google 提供的好处，例如从 CDN 下载的字体，并且可能已经在访问使用它们的另一个站点时缓存在用户的计算机上。

我还使用[Google 托管的 jQuery](https://developers.google.com/speed/libraries/devguide) ，如果无法访问 Google ，我会使用以下代码（来自[HTML5 Boilerplate ）从我的服务器加载 jQuery：](https://github.com/h5bp/html5-boilerplate/blob/master/index.html)

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.0.min.js"><\/script>')</script> 
```

我正在寻找一种对 CSS 文件执行相同操作的方法。

我`<img src="..." onerror="..." />`过去曾用于处理不加载的图像，所以我想知道是否可以将其用于不加载的样式表。我在几个浏览器中使用 进行了快速测试 `<link href="..." onerror="..." rel="stylesheet" type="text/css" />`，并且`onerror`在所有浏览器中都执行了 ，但我想知道我是否可以期望它在所有浏览器中都能一致地工作。 *或者有更好的方法吗？*

我在这里看到了其他几个讨论观看`document.styleSheets`收藏的答案，但这听起来比这更像是一种黑客行为。

* * *

注意：这实际上更像是一个“这是否实用并且人们使用它”的问题，而不是一个“规范对此有什么看法”的问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T04:41:22.133

我相信在 pieisgood 上[和](http://pieisgood.org/test/script-link-events/)[在 pieisgood](http://pieisgood.org/test/script-link-events/)[上支持的事件`<script>``<link>`](http://pieisgood.org/test/script-link-events/)列表就是您正在寻找的。

如您所见，*onload*是最广泛支持的`<link>`，但在工作事件中非常缺乏。但是您可以尝试通过对假设发生错误的某些函数进行*onload来实现错误事件。* `clearTimeout`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-07T00:56:43.897

`<link>`, `<style>`, 并且`<script>`都支持该`onerror`属性，并且可以在大多数现代/流行的浏览器中使用。

一个小警告是，当 href URI 被破坏或链接样式表中的`<link>`任何 URI 被破坏时，它将触发 onerror 事件。`@import`

`onerror`我发现触发事件的唯一方法`<style>`是使用`@import`.

损坏`@font-face`似乎不会触发任一标签的事件。

# iphone - 通过 Xcode 将 Google 日历导入 iCal？

> ID：14392439
> 
> 赞同：-1
> 
> 时间：2013-01-18T04:32:48.400
> 
> 标签：iphone, ios, objective-c, xcode, icalendar

我是应用程序开发的新手，想知道有没有办法导入 Google 日历，并将所有事件导入 iCal，或者只导入整个日历？甚至可能吗？另外，如果可能的话，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:44:06.320

[http://code.google.com/p/iphone-gcal/wiki/GettingStarted](http://code.google.com/p/iphone-gcal/wiki/GettingStarted)

试试看。

[Google 日历在此处](https://developers.google.com/google-apps/calendar/v2/developers_guide_protocol)提供了一个公共 API 。

如果您熟悉 JSON（或通过 stackoverflow 搜索），您将了解如何将事件发送到 Google 日历和从 Google 日历发送事件。

您可以通过这些代码行导入整个日历。只需尝试一次：-

```
EKEventStore *eventStore = [[EKEventStore alloc] init];
//EKEvent *events = [EKEvent eventWithEventStore:eventStore];
NSArray *caleandarsArray = [[NSArray alloc] init];
caleandarsArray = [eventStore calendars];

for (EKCalendar *iCalendars in caleandarsArray)
{
    NSLog(@"Calendar Title : %@", iCalendars.title);
    [self.calendars addObject:iCalendars.title];
} 
```

它将一一导入所有谷歌日历。

祝你好运！

# php - 使用图片上传创建属性

> ID：14392443
> 
> 赞同：0
> 
> 时间：2013-01-18T04:33:11.723
> 
> 标签：php, magento, magento-1.7, entity-attribute-value

我是 magento 的新手，不知道从哪里开始。我正在考虑一个属性，每个属性选项都有一个图像上传选项。基本上我想创建一个属性颜色，其名称和图像作为选项，以便我可以在前端的过滤器导航中显示颜色名称及其图像。谁能帮助我如何创建这样的自定义属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:42:39.207

我认为您需要的是“[可配置产品](http://www.magentocommerce.com/knowledge-base/entry/tutorial-creating-a-configurable-product)”和多个图库图像。

Magento 上的示例：[ShopJimmy.com（产品）](http://www.shopjimmy.com/boomz-audiotm-portable-personal-speaker.htm)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-23T16:32:29.563

[http://www.johannreinke.com/en/2012/02/05/magento-add-images-to-product-attribute-options/](http://www.johannreinke.com/en/2012/02/05/magento-add-images-to-product-attribute-options/)这就是我正在寻找的，但仍然存在添加图像的问题每个属性的上传选项。如果我们可以选择属性添加图像选项会更好。无论如何感谢大家的帮助。

# android - eclipse中的分段错误

> ID：14392448
> 
> 赞同：0
> 
> 时间：2013-01-18T04:34:07.267
> 
> 标签：android, eclipse, adt, fault

我正在使用 adt 包为 Android 开发。当我将应用程序部署到设备时，出现分段错误：

```
[2013-01-18 23:24:24 - test2] Android Launch!
[2013-01-18 23:24:24 - test2] adb is running normally.
[2013-01-18 23:24:24 - test2] Performing com.example.test2.MainActivity activity launch
[2013-01-18 23:24:29 - test2] Uploading test2.apk onto device '99000083935364'
[2013-01-18 23:24:30 - test2] Installing test2.apk...
[2013-01-18 23:24:31 - test2] Success!
[2013-01-18 23:24:31 - test2] Starting activity com.example.test2.MainActivity on device 99000083935364
[2013-01-18 23:24:33 - test2] ActivityManager: Segmentation fault 
```

我可以将 apk 移动到 sdcard 并安装好，但不会直接从 eclipse 部署。

我已尝试更新所有内容，但似乎无法调试该应用程序。是什么导致此分段错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-21T00:01:24.057

你可以试试这个。它帮助我避免了类似的错误。特别是，我的问题源于我在清单中省略了第二个字符串

```
 android:screenOrientation="landscape"
        android:configChanges="keyboardHidden|orientation"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:23:59.967

我也有这个问题。
确保您的 sdk 和 adt 是最新版本。
如果问题仍然存在，那么它是由于安装了 rom。

1.  一些自定义 rom 可能会导致此问题。
2.  安装busybox 可能会导致这个问题。
3.  操作系统安装损坏。

**这可以通过擦除所有数据并将库存 rom 放回来解决。**

# algorithm - 枚举边缘和对称约束下的图

> ID：14392449
> 
> 赞同：6
> 
> 时间：2013-01-18T04:35:15.047
> 
> 标签：algorithm, graph-algorithm

我想创建具有*n*个顶点的所有有向图的集合，其中每个顶点有*k*个直接后继和*k*个直接前任。*n*和*k*不会那么大，而是在*n* = 8 和*k* = 3 左右。该集合包括循环图和非循环图。每个图依次将用作对大量加权图进行采样的模板。

我的兴趣是拓扑基序的作用，所以我不想为任何两个彼此对称的图采样权重，其中*对称*意味着一个图中不存在顶点排列，将其转换为另一个图。

一个简单的解决方案是考虑 2 ^ ( *n* * ( *n* - 1)) 邻接矩阵并消除所有违反直接后继或前驱约束的（大部分）邻接矩阵。对于*n* = 8，这仍然是足够少的位来表示和简单地在 a 中舒适地枚举每个矩阵`uint64_t`。

跟踪行数和列数将是另一个改进，但真正的瓶颈是将图形添加到结果集中，此时我们需要针对已经在集合中的其他图形测试对称性。对于*n* = 8，每个插入操作已经超过 40,000 个排列。

任何人都可以向我推荐一种我可以阅读的算法，它可以以更智能的方式完成所有这些工作吗？是否有用于 C、C++、Java 或 Python 的图形库已经实现了如此全面的图形生成器？是否有一个存储库，其中有人已经“列出”了合理*n*和*k*的所有图表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T16:13:30.833

这更像是评论而不是答案，因为我似乎错过了您的问题中的某些内容。

首先，这样的图有可能是非循环的吗？

我也想知道你的对称约束。这不是使所有这些图彼此对称吗？是否允许置换连接矩阵的行和列？

例如，如果我们在图中允许自连接，那么以下连接矩阵是否满足您的条件？

```
 1     1     0     0     0     0     0     1
 1     1     1     0     0     0     0     0
 0     1     1     1     0     0     0     0
 0     0     1     1     1     0     0     0
 0     0     0     1     1     1     0     0
 0     0     0     0     1     1     1     0
 0     0     0     0     0     1     1     1
 1     0     0     0     0     0     1     1 
```

从这个矩阵开始，是否不可能排列它的行和列以获得所有行和列的总和为 3 的所有此类图？

`A`可以通过以下方式（使用 MATLAB）从上述矩阵中获得此类矩阵的一个示例。

```
>> A(randperm(8),randperm(8))

ans =

     0     1     0     0     0     1     1     0
     0     0     1     0     1     0     1     0
     1     1     0     1     0     0     0     0
     1     1     0     0     0     1     0     0
     1     0     0     1     0     0     0     1
     0     0     1     1     0     0     0     1
     0     0     1     0     1     0     0     1
     0     0     0     0     1     1     1     0 
```

PS。在这种情况下，我重复了几次该命令，以获得对角线中只有零的矩阵。:)

**编辑**

Ah, I see from your comments that I was not correct. Of course the permutation index must be the same for rows and columns. I at least should have noticed it when I started out with a graph *with self-connections* and obtained one without them after the permutation.

A random isomorphic permutation would instead look like this:

```
idx = randperm(8);
A(idx,idx); 
```

which will keep all the self-connections.

Perhaps this could be of some use when the matrices are generated, but it is not at all as useful as I thought it would be.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T17:20:26.297

在我看来，图同构不是你应该考虑自己实现的东西。我相信当前最先进的是 Brendan McKay 的[Nauty](http://pallini.di.uniroma1.it/)（以及相关的程序/库）。使用它有点麻烦，但避免做你自己的、幼稚的图同构可能是值得的。此外，它主要面向无向图，但它也可以处理有向图。您可能想查看*Nauty*附带的 geng（生成无向图）和*directg*（在给定基础图的情况下生成有向图）实用程序。

# f# - F# 中的 log4net 样式接口——静态方法返回对象的实例

> ID：14392452
> 
> 赞同：0
> 
> 时间：2013-01-18T04:35:25.580
> 
> 标签：f#, c#-to-f#

我正在尝试在 F# 程序集中构建 log4net 样式的界面。关键属性公开了一个返回对象实例的静态方法。log4net 使用 C# 委托来完成任务，例如使用`LogManager.GetLogger("log123")`. 据我了解，对于面向内向的 F# 库而言，与将函数作为第一类函数相比，代表不太受青睐。

下面的简化代码实现了目标，但我对使用 F# 引用单元格来保存实例化对象的映射感到不舒服。我对我的不适是否合理的反馈很感兴趣。

```
namespace Test
[<Interface>]
type IMyIface =
    abstract member Addi : int -> int
[<Sealed>]
type TheMainObject internal (x:int) = 
    let mutable sum = x
    interface IMyIface with
        member this.Addi(y:int) = sum <- sum + y; sum 
module internal Wrapr = 
    let mymap = ref Map.empty
    let mgr s = 
        let m = !mymap
        if Map.containsKey s m then m.[s] 
        else 
            let x = new TheMainObject(0)
            mymap := m.Add(s, x)
            x 
[<Sealed>]
type Mgr() = 
    static member Get(n:string) = 
        Wrapr.mgr n :> IMyIface 
```

Program.fs 调用上面的库如下：

```
open Test
let a = Mgr.Get("hello")
printfn "%d" (a.Addi(1)) 
let c = Mgr.Get("hello")
printfn "%d, %A" (c.Addi(3)) (a = c) //prints 4, true 
```

提前感谢您的评论。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:56:10.693

It's OK to use a [reference cell](http://msdn.microsoft.com/en-us/library/dd233186.aspx) internally to hold a mutable value. You could also use a .Net [Dictionary](http://msdn.microsoft.com/en-us/library/xfhwa508.aspx) instead of a map. This is the approach I took while building a [Mini IoC Container](http://fssnip.net/9g). If you expect the function accessing the reference cell to be called from multiple threads then you should probably use a [lock](http://msdn.microsoft.com/en-us/library/ee370413.aspx) or other [thread synchronization](http://en.wikipedia.org/wiki/Synchronization_%28computer_science%29#Thread_or_process_synchronization).

There are a number of ways of exposing the Get method. The static member approach you have taken is useful if you expect to overload the method. In which case you may consider using [static let](http://msdn.microsoft.com/en-us/library/dd483470.aspx) for static locals over a separate module:

```
type [<Sealed>] Mgr() =     
    static let sync = obj()
    static let lookup = Dictionary()
    static let obtain name =
        match lookup.TryGetValue(name) with
        | true, x -> x
        | false,_ ->        
            let x = TheMainObject(0)
            lookup.Add(name,x)
            x
    static member Get(name:string) = 
        lock sync (fun () -> obtain name :> IMyIface) 
```

If you do not expect to overload the Get function then you could just use a module:

```
module Mgr =
    let private lookup = ref Map.empty
    let private obtain name =
        match (!lookup).TryFind name with
        | Some(x) -> x
        | None ->        
            let x = TheMainObject(0)
            lookup := (!lookup).Add(name,x)
            x
    let Get name = obtain name :> IMyIface 
```

# java - 如何从下一个活动重新开始我的上一个活动

> ID：14392460
> 
> 赞同：-2
> 
> 时间：2013-01-18T04:36:39.177
> 
> 标签：java, android

我有关键阶段，如果你知道，任何人都可以帮忙，实际上我有 1 到 5 个活动，第 6 个是常见活动，首先我需要进行第 1 个活动到第 6 个活动，现在我的疑问是第 6 个活动有一个活动第一个刷新按钮活动，但它在我的代码中不起作用，我使用了 _Try_Again.setOnClickListener(new OnClickListener() {

```
 @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            /*Intent loginIntent = new Intent(Inter_Conn_Error_activity.this,
                    Splashscreen.class);
            startActivity(loginIntent);*/
            onBackPressed();
            finish();
        }
    });... 
```

我怎样才能做到这一点？请帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:06:59.900

为此使用属性，Putextra

当您尝试进行常见活动时，请使用 avitivity 名称。

当您尝试返回以前的活动时，请检查它来了哪个活动...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:49:51.083

您可以覆盖调用活动的 onActivityResult 回调。一旦新活动完成，onActivityResult 就会启动，您可以使用它。

例如：

```
@Override
public void onActivityResult(int,int, Intent)
{
// YOUR CODE
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:54:00.893

我无法解决您面临的问题......但据我所知：

1 到 6 个意图 (this,6)

6 比 1 意图或完成（）

6 到 6 意图或调用 onCreate 方法

# android - 如何在列表视图中使用水平滚动？

> ID：14392461
> 
> 赞同：0
> 
> 时间：2013-01-18T04:36:54.377
> 
> 标签：android, listview, horizontalscrollview

我正在开发一个安卓应用程序。创建其中`Layout`包括不同的布局。

里面还有一个`listview`。我`custom adapter`用于`listview`. 我想在中显示水平滚动。`listview`但是当我在其中应用水平滚动时，它会显示每个项目。但不是最后。

请建议我如何应用它。

代码如下： -

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@drawable/bg" >

<include
    android:id="@+id/mainScreenHeader"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    layout="@layout/main_screen_header" />

<include
    android:id="@+id/mainScreenListHeader"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/mainScreenHeader"
    layout="@layout/main_screen_list_header" >
</include>

<ListView
    android:id="@+id/list"
    android:layout_width="fill_parent"
    android:layout_height="270dp"
    android:layout_below="@+id/mainScreenListHeader"
    android:cacheColorHint="#00000000"
    android:drawSelectorOnTop="false" />

<include
    android:id="@+id/mainScreenFilterClient"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/list"
    android:layout_marginTop="10dp"
    layout="@layout/main_screen_filter_client" >
</include>

<include
    android:id="@+id/footer"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/mainScreenFilterClient"
    android:layout_marginTop="10dp"
    layout="@layout/footer" >
</include> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-14T16:16:53.890

我正在使用这个库，你可以试试这个：

[https://github.com/sephiroth74/Horizo​​ntalVariableListView](https://github.com/sephiroth74/HorizontalVariableListView)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:38:03.057

在 dev-smart 上有一篇关于这个的优秀文章

[ListView 中的水平滚动](http://www.dev-smart.com/archives/34)

检查这个

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-09T21:34:40.150

您应该在适配器中通过声明几种类型的视图来做到这一点。然后对于每个元素，您返回第一种类型的视图，最后一秒将是 Horizo​​ntalScrollView.:

```
@Override
public int getViewTypeCount() {
    return 2;
}

@Override
public int getItemViewType(int position) {
    return isLastPositionInList ? 1 : 0;
} 
```

接着

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {

    final int itemViewType = getItemViewType(position);

    switch(itemViewType) {
        case 0:
           // prepare here your usual view
        case 1:
           // prepare here the horizontal view 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T04:48:18.533

`HorizontalListView`在文件中声明`xml`：

```
 HorizontalScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:fillViewport="true" 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T04:50:43.820

这将帮助你..

```
<com.devsmart.android.ui.horizontiallistview 
android:id="@+id/listview" 
android:layout_width="fill_parent" 
android:layout_height="wrap_content"
android:background="#ddd"> 
```

或者

```
android:orientation="horizontal" 
```

# storyboard - 如何动态地将 UIBarButtonItem 放在 Storyboard 中的 NavigationBar 上？

> ID：14392464
> 
> 赞同：1
> 
> 时间：2013-01-18T04:37:08.887
> 
> 标签：storyboard, uibarbuttonitem, navigationbar

我的应用程序正在情节提要及其导航控制器下构建。我试图在导航栏的右侧放置一个栏按钮，但这似乎并不容易。代码看起来像这样......

```
UIBarButtonItem *barButton = [[UIBarButtonItem alloc]initWithTitle:@"Edit" style: UIBarButtonItemStyleBordered target:self action:@selector(barBtnPressed)];

//        self.navigationItem.rightBarButtonItem = barButton;
self.navigationController.navigationItem.rightBarButtonItem = barButton; 
```

我做了我能尝试的一切，但没有运气。

有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:08:46.750

如果您愿意在 Storyboard 中而不是以编程方式执行此操作，则可以放置 UIBarButtonItem（默认为左侧），然后使用灵活的空格键按钮项将 BarButtonItem 移动到右侧。

# c# - 将 C++ dll 导出到 C#

> ID：14392468
> 
> 赞同：-4
> 
> 时间：2013-01-18T04:37:33.003
> 
> 标签：c#, visual-studio-2010, image-processing, opencv, dllimport

```
'using System;
'using System.Collections.Generic;
'using System.Drawing;
'using System.Windows.Forms;
'using Emgu.CV;
'using Emgu.CV.Structure;
'using Emgu.CV.CvEnum;
'using System.IO;
'using System.Diagnostics;
'using System.Runtime.InteropServices;

'namespace FaceStat   
'{
   'class Form1 : Form
   {
      // public static extern void AsmSearchDll(out int nlmarks, out int lmarks, string imgname, byte imgdata, int width, int height, int is_color, string conf_file0, string conf_file1);
      [DllImport(@"../data/stasm_dll.dll")]
      public static extern void AsmSearchDll( 
         out int pnlandmarks, // out: number of landmarks, 0 if can't get landmark
         out int[] landmarks, // out: the landmarks, caller must allocate
         [MarshalAs(UnmanagedType.LPStr)]string image_name, // in: used in internal error messages, if necessary
         [MarshalAs(UnmanagedType.LPStr)]string image_data, // in: image data, 3 bytes per pixel if is_color
         int width, // in: the width of the image
         int height, // in: the height of the image
         int is_color, // in: 1 if RGB image, 0 if grayscale
         [MarshalAs(UnmanagedType.LPStr)]string conf_file0, // in: 1st config filename, NULL for default
         [MarshalAs(UnmanagedType.LPStr)]string conf_file1 // in: 2nd config filename, NULL for default, "" for none
     );        
     static void Main(string[] args)
     {            
         string image_name = "../data/Chupul.jpg";
         IplImage img = cvlib.cvLoadImage(image_name, cvlib.CV_LOAD_IMAGE_COLOR);

         if (img == null)
         {
            Console.Write("Error: Can't open the image. {0}\n", image_name);
            return;
         }

         int nlandmarks;
         int[] landmarks = new int[500]; // space for x,y coords of up to 250 landmarks
         AsmSearchDll(out nlandmarks, out landmarks, image_name, img.imageData, img.width, img.height, 1, null, null);
         if (nlandmarks == 0)
         {
             Console.Write("\nError: Cannot locate landmmarks in {0}\n", image_name);
             return;
         }

         int[] p = landmarks;            

         cvlib.cvPolyLine(img, p, nlandmarks, 1, true, cvlib.CV_RGB(255,0,0));

         cvlib.cvShowImage("Asm example", img);
         cvlib.cvWaitKey(0);
         cvlib.cvDestroyWindow("Asm example");
         cvlib.cvReleaseImage(img);

         return;              
      }
   }
'} 
```

我有**6 个错误**

1.  'FaceStat.Form1.AsmSearchDll(out int, out int[], string, string, int, int, int, string, string)' 的最佳重载方法匹配有一些无效参数

2.  参数 4 无法从 'System.IntPtr' 转换为 'string'

3.  'cvlib.cvPolyLine(CvArr, CvPoint[], int[], int, int, CvScalar)' 的最佳重载方法匹配有一些无效参数

4.  参数 2 不能从 'int[]' 转换为 'CvPoint[]'

5.  参数 3 不能从 'int' 转换为 'int[]'

6.  参数 5：无法从 'bool' 转换为 'int'

谢谢

**C++ DLL**

```
void AsmSearchDll (

   int *pnlandmarks,          // out: number of landmarks, 0 if can't get landmarks

   int landmarks[],           // out: the landmarks, caller must allocate

   const char image_name[],   // in: used in internal error messages, if necessary

   const char image_data[],   // in: image data, 3 bytes per pixel if is_color

   const int width,           // in: the width of the image

   const int height,          // in: the height of the image

   const int is_color,        // in: 1 if RGB image, 0 if grayscale

   const char conf_file0[],   // in: 1st config filename, NULL for default

   const char conf_file1[]   // in: 2nd config filename, NULL for default, "" if none
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:50:01.083

```
[DllImport(@"../data/stasm_dll.dll")]
internal static extern void AsmSearchDll
( 
    [Out] out Int32 pnlandmarks,
    [Out] out Int32[] landmarks,
    [In, MarshalAs(UnmanagedType.LPStr)] String image_name,
    [In, MarshalAs(UnmanagedType.LPStr)] String image_data,
    [In] Int32 width,
    [In] Int32 height,
    [In] Int32 is_color,
    [In, MarshalAs(UnmanagedType.LPStr)] String conf_file0,
    [In, MarshalAs(UnmanagedType.LPStr)] String conf_file1
);

IplImage img = cvlib.cvLoadImage(image_name, cvlib.CV_LOAD_IMAGE_COLOR);
String imageData = Marshal.PtrToStringAnsi(img.imageData);

AsmSearchDll(out nlandmarks, out landmarks, image_name, imageData, img.width, img.height, 1, null, null); 
```

您没有指定 cvPolyLine... 所以我无法检查参数。无论如何...您只是将错误的值类型传递给您的方法。就这么简单。

# c++ - boost::asio::write 保证（ACK，校验和）是什么？

> ID：14392469
> 
> 赞同：4
> 
> 时间：2013-01-18T04:37:36.903
> 
> 标签：c++, boost, tcp, boost-asio

我`boost::asio::ip::tcp::socket`对相关的写入功能有疑问。通过阅读有关 TCP 的[Wikipedia 文章](http://en.wikipedia.org/wiki/Transmission_Control_Protocol)，我了解到 TCP 包含确认消息和校验和。不幸的是，我在 boost::asio 参考资料中找不到任何相关信息。据我了解 boost::asio 使用 TCP 的操作系统实现，它应该包含这两个功能。

我的问题`boost::asio::write`是`boost::asio::async_write`使用`boost::asio::ip::tcp::socket`. 那么如果函数返回/回调函数被正确调用是什么意思。我可以想象一些可能性：

1.  基本上没什么，这只是意味着程序告诉操作系统发送数据，仅此而已。
2.  数据正在进行中，这意味着操作系统承认它已发送数据。
3.  数据已到，表示收到对方的确认信息。
4.  数据已到达且未损坏，与 3 相同。加上校验和相加。

如果不是 4\. 有没有办法使用 boost::asio 来强制执行此操作（我的意思是在 boost::asio 内，而不是自己实现）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:44:03.677

它是#1，它应该是这样的。无法保证数据将被发送。

你认为你想要#4，但你真的不想要。远程对等点的网络堆栈接收到正确数据的事实*可能*与您的应用程序无关。你真的很想知道数据是否被正确接收和处理，这超出了 TCP 的范围，但很容易在 TCP 之上实现。（我建议阅读[OSI 模型](http://en.wikipedia.org/wiki/OSI_model)，了解 TCP 可以做什么。基本上，您希望确保您的数据到达正确的应用程序，或者更多，而 TCP 只确保它到达运行应用程序的计算机。）

要执行您想要的操作，请通过 TCP 链接发送带内确认。您还可以将 SHA-2 或其他数据的哈希值放入确认中。您也可以等到数据处理完毕后再发送确认——例如，等到它被写入磁盘`fsync()`并被调用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T12:24:54.673

将报告本地检测到的错误。也会报连接错误。如果您使用 TCP，则会报告 tcp-ack 失败，但可能在稍后的读取或写入调用中（当通知操作系统 tcp-hack 失败时）。

所以你不能确定当你发出一个 write 时它是否真的收到了。没有写入错误意味着操作系统目前知道您正在使用的 tcp 连接上没有错误，并且他在内部缓冲了您的数据以将其传输到 tcp 对等方。

# xpages-ssjs - Xpages javascript对象错误调用简单函数

> ID：14392471
> 
> 赞同：0
> 
> 时间：2013-01-18T04:37:50.957
> 
> 标签：xpages-ssjs

尝试从 XPage 的 beforeRenderResponse 事件进行简单调用时出现以下错误：

在“object [Javascript Object]”类型的对象上调用方法“IsLoggedIn()”时出错

我不知道为什么它会给我这个错误，尤其是当我不使用对象时。这是我的工作方式：

XPage BeforeRenderResponse：

```
ProductFinderInit();   (which is in the SiteSpecific.jss library, and included in resources on XPage) 
```

在 SiteSpecific.jss 中：

```
import Common;

function ProductFinderInit() {
...
  viewScope.IsLoggedIn = IsLoggedIn();
... 
```

在 Common.jss（也是 XPage 上的资源）中：

```
function IsLoggedIn() {
  var userName:NotesName = session.createName(@UserName());
  if (userName.getCommon() === "Anonymous") return false;
  else return true;
} 
```

所以这真的是一个简单的调用，这就是为什么我对错误感到困惑。真正令人困惑的是，它不会每次都发生，只是偶尔发生。任何帮助都会很棒！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T11:01:48.923

问题可能是那个viewScope。**IsLoggedIn** = **IsLoggedIn** (); 具有相同的名称。尝试至少更改其中一个。

**还尝试将一些尝试捕获**错误打印的方法写入您的方法。

# dwr - DWR 来自服务器的不完整回复

> ID：14392476
> 
> 赞同：4
> 
> 时间：2013-01-18T04:38:39.710
> 
> 标签：dwr

我正在使用 Dojo 开发 Dwr，我正在使用 DWR 版本 3.0.RC2 dwr.jar (1.1Mb) jar 文件。页面加载时间给出警报错误“服务器回复不完整”

# php - 流交互 As3 -> PHP -> Mysql-> C++

> ID：14392485
> 
> 赞同：1
> 
> 时间：2013-01-18T04:39:21.493
> 
> 标签：php, c++, mysql, actionscript-3

我有一个用作 PHP-MySQL 的 GUI 的网页，但我想对存储在数据库中的数据进行信号处理，如果有人能告诉我什么是与我的 C++ 程序通信的好解决方案，我正在考虑使 PHP 代码在文件中写入“作业”，然后运行读取该文件的 C++ 并执行处理，或者可能获得基于代理的方法并继续监视某些文件夹的活动并通过直接文件处理数据。已经测试过的例子，或者性能建议是受欢迎的。

让我重新表述这个问题，我不希望人们随机回答如何做到这一点，我也想知道你为什么选择那个答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T21:52:42.167

感谢您的建议，但我发现使用 MySQL 连接器读取带有“作业”的表并且当 AS-> PHP-> MySQL 提交作业时，C++ 做出反应，直接从数据库中读取数据更容易和更快，并执行所需的功能，另一个表用于从作业中获取参数以执行。仅供参考，作业有一个节点字段，允许我使用 4 台计算机来执行数据处理。

# linux - 在 shell 脚本中使用标准输入

> ID：14392495
> 
> 赞同：1
> 
> 时间：2013-01-18T04:42:15.273
> 
> 标签：linux, shell

我总是用一个命令运行我的 shell：

```
./shellName file1 file2 
```

因此，在 shell 中，我可以将 file1 称为 $1，将 file2 称为 $2。但是，如果我想用这个命令运行 shell

```
./shellName < file1 > file2 
```

我尝试将文件 1 作为标准输入读取，将文件 2 作为标准输出读取。如何在 shell 脚本中引用 file1 和 file2？我还能用 1 美元和 2 美元吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:52:22.877

```
# read from file1
read LINE

# write to file2 line we just readed
echo $LINE 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:51:52.083

脚本中的任何语句都`read`将从 file1 读取，并且任何`echo/print`语句都会将输出写入 file2。`$1`并且`$2`将是空的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:52:50.190

如果您将文件导入，我认为脚本没有可用的变量，而是从 file1 读取文本并用作脚本的输入，并且输出的任何内容都将在 file2 中结束

# mysql - 在特定记录之后更新所有行

> ID：14392497
> 
> 赞同：-2
> 
> 时间：2013-01-18T04:42:28.123
> 
> 标签：mysql, sql-update

我有一个表，其中包含一个`int`名为“place”的列。列中的值确定页面上表中行的顺序。它适用于类似博客的应用程序。我想要一个查询，我可以在其中更新所有行的“place”列，包括当前行以及之后的所有行。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:02:36.003

```
update topic set place = place + 1 where place >= 5 
```

# python - 加载应用程序配置时的 Python 2.7 致命错误：未知的 url 处理程序类型

> ID：14392502
> 
> 赞同：0
> 
> 时间：2013-01-18T04:43:08.760
> 
> 标签：python, google-app-engine, app.yaml

我在尝试运行 helloworld 应用程序时遇到以下错误

```
Fatal error when loading application configuration:Unknown url handler type 
```

`app.yaml`代码如下：

```
application: helloworld 
version: 1 
runtime: python27
api_version: 1 
threadsafe: true
handlers:
- url: /*
script: helloworld.py 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-16T04:16:34.597

同样的问题是

我已经通过删除“- url”之前的空格来修复它，并检查“脚本”之前是否有两个空格

# php - 单击提交按钮后如何识别特定文本字段中的值变化

> ID：14392504
> 
> 赞同：0
> 
> 时间：2013-01-18T04:43:13.863
> 
> 标签：php, textbox

我想更新八门科目中特定科目的特定学生的分数。我的问题是如何在单击提交按钮后识别特定文本框的值已更改，然后将更新任务转发到 update.php。请给我您宝贵的答复。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:06:36.777

由于您的按钮单击事件发生在客户端，您可以通过客户端脚本识别它。

```
 <script lang='javascript'>
 $(document).ready(function(){
    $('#button_id').click(function(){
             /* Do whatever you want to do right here*/
    });
 });
 </script> 
```

为了识别单击提交按钮后文本框上的更改，首先将输入类型从更改`submit`为`button`单击提交后，它会重定向页面。

```
<input type='button' onClick='your_function()' id='btn_submit' name='btn_submit' />
<input type='text' id='text_box' name='text_box' onchange='$('#flag_value_changes').val('1')' />
<input type='hidden' id='flag_value_changes' name='flag_value_changes' />
<script lang='javascript'>
function your_function()
{
         flag_value_changes = $('#flag_value_changes').val();
         if(flag_value_changes == 1)
            alert('Value has been changed');
         else
            alert('Value has not been changed');
}
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:51:45.280

正如赫克所说。您可以使用 javascript 在客户端执行此操作。
我提供了一个使用`textarea`但没有内联 javascript 的示例。

HTML

```
<div>
  <textarea id= "math">Math</textarea>
  <textarea id= "english">English</textarea>
  <textarea id= "french">French</textarea>
  <textarea id= "spanish">Spanish</textarea>
  <input type="submit" value="submit"/>
</div> 
```

以及以下 javascript（使用 Jquery）

```
$(document).ready(function(){
    var initialValues = [];
    var i = 0;
   //Gets values on load
    $("div textarea").each(function(){
        initialValues[i] = this.id+" had "+$(this).val(); 
        i++;
    });

   //Checks values on click
    $("input").click(function(){
    i = 0;
    $("div textarea").each(function(){
        value = initialValues[i].split(" ");
        if($(this).val() != value[2]){
            alert(value[0] + " was Changed.");   
        }
        i++;
        });
    });
}); 
```

[**演示**](http://jsfiddle.net/8pkL6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:12:31.750

脚本语言可以在这种情况下为您提供帮助。请使用 javascript 处理提交按钮单击的事件。在那个事件中做你需要的任何事情..快乐的编码:)

# database - 如何在codeigniter中为数据库字段设置自动增量值？

> ID：14392505
> 
> 赞同：-2
> 
> 时间：2013-01-18T04:43:25.543
> 
> 标签：database, codeigniter, auto-increment

我是 codeigniter 框架的新手，不明白如何为我的数据库表设置自动增量值。

我想将日志表中的 id 字段设置为自动增量。但是将起始“id”值设置为 123。你能帮帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:47:24.310

据我了解，您想在`123`. 要在您自己的唯一编号后开始自动递增，请在您的 mysql 数据库中执行以下操作：

```
ALTER TABLE tbl AUTO_INCREMENT = 123; 
```

查看有关[MySQL 参考的更多详细信息](http://dev.mysql.com/doc/refman/5.0/en/example-auto-increment.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T04:53:24.210

它与 Codeigniter 框架无关。要从固定数字自动增加表格，请执行以下操作。

```
ALTER TABLE 'table_name' AUTO_INCREMENT= 123; 
```

# ruby-on-rails - Rails 3.2.11：RailsAdmin 本地化

> ID：14392506
> 
> 赞同：5
> 
> 时间：2013-01-18T04:43:30.563
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rails-admin

我已经在我的本地化站点（2 种语言）上安装了 rails_admin gem，我需要管理 (/admin) 始终使用英语。根据[文档](https://github.com/sferik/rails_admin/wiki/Base-configuration)，我应该在 rails_admin.rb 文件的开头添加以下 2 行。

```
require 'i18n'
I18n.default_locale = :de 
```

但它不起作用。知道怎么做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-10-30T09:19:49.393

偶然发现了同样的问题。这是我解决它的方法：

```
class ApplicationController < ActionController::Base
  include Clearance::Controller
  # Prevent CSRF attacks by raising an exception.
  # For APIs, you may want to use :null_session instead.
  protect_from_forgery with: :exception

  before_filter :set_locale

  def set_locale
    if [Clearance, RailsAdmin].include?(self.class.parent)
      I18n.locale = :en
    else
      I18n.locale = params[:locale] || I18n.default_locale
    end
  end
end 
```

`RailsAdmin`控制器继承自你的`ApplicationController`，所以你需要明确地告诉他们使用 locale :en 或者你可以打开类并覆盖`set_locale`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T02:41:59.247

它确实在文档中说明，如果您的本地设置为英语以外的其他内容，您只需要执行此操作，因此您可能会发现您不需要设置此设置。`RailsAdmin.config do |config|`如果您确实需要设置它， 请确保它低于`rails_admin.rb`

**更新 -**

由于您仍然遇到问题，请告诉我您使用的是什么版本的 ruby​​？你跑过`bundle install`吗？你能不能试试`sudo gem install i18n`。此外，如果它找不到您的语言环境，您可能需要将其指向它们，即`I18n.load_translations "#{RAILS_ROOT}/locales/#{locale}.rb"`

# html - sass中的冒号，不确定如何在HTML中引用

> ID：14392511
> 
> 赞同：2
> 
> 时间：2013-01-18T04:43:52.403
> 
> 标签：html, css, sass

下面的代码没有应用 CSS 规则`clearfix: after`我从未使用过中间有冒号的 CSS 规则，所以我不知道为什么它不起作用，任何帮助。

我的 SCSS 文件中有以下代码

```
.clearfix { zoom: 1;}
.clearfix:before, .clearfix:after {
  content: "";
  display: table;
}
.clearfix:after { clear: both; } 
```

以下是我的html：

```
<div id="sidebar1" class="sidebar fourcol first clearfix:after" role="complementary">

  <?php if ( is_active_sidebar( 'sidebar1' ) ) : ?>

    <?php dynamic_sidebar( 'sidebar1' ); ?>

  <?php else : ?>

    <!-- This content shows up if there are no widgets defined in the backend. -->

    <div class="alert help">
      <p><?php _e("Please activate some Widgets.", "bonestheme");  ?></p>
    </div>

  <?php endif; ?>

</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:45:56.917

`:after`从 HTML 中的 class 属性中删除：

```
<div id="sidebar1" class="sidebar fourcol first clearfix" role="complementary"> 
```

* * *

**PS**你的 SCSS 没问题，但这里有一个更方便的方法来完成同样的事情：

```
.clearfix {
    zoom: 1;

    &:before, &:after {
        content: "";
        display: table;
    }
    &:after {
        clear: both;
    }
} 
```

# mysql - C中的命名空间冲突

> ID：14392515
> 
> 赞同：2
> 
> 时间：2013-01-18T04:44:10.377
> 
> 标签：mysql, c, list, gcc, compiler-construction

我`list_t`在我的项目中定义了列表模块 API，例如`list_pop()`. 但是现在我必须使用 MySQL lib 与 DB 进行通信，但是 MySQL lib 仍然有它的列表实现，并且还定义了一个`list_pop()`API。在我的其他模块中，我必须将它们链接起来，然后发生冲突。

我的解决方案之一是，分别包含用于不同列表 API 调用的头文件，这很好用，但是虽然某些函数需要同时调用`MySQL::list_pop()`and `local::list_pop()`，但如何通知编译器正确的链接点？是否有一些 GCC 技巧可以在**不更改任何**内容的情况下完成这些操作`local::list_pop()`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:01:34.537

对于大多数实际目的，您将不得不重命名一个或另一组函数。自己重命名可能比 MySQL 更容易。

最简单的方法是简单地添加一个具有较高唯一性（足够）概率的前缀，例如您的姓名首字母，或您的项目的代号，或其他东西。或者您可以重命名所有内容以避免冲突，注意 MySQL 将来可能会添加新功能。

这正是为 C++ 发明命名空间的原因，以及 C 项目通常在函数集上具有系统前缀的原因。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T05:07:33.840

有办法解决这个问题。*将您的*list_pop()重构为 my_list_pop()。

还有另一种方法可以解决这个问题，

`my_list.h`在这里查看MySQL 的标题， [https://github.com/lgsonic/mysql-trigger/blob/master/mysql/my_list.h](https://github.com/lgsonic/mysql-trigger/blob/master/mysql/my_list.h)你可以看到它`list_pop`只是一个宏，它在编译时绑定，而不是在运行时（因此不是真正的库函数）。将 MySQL更改`list_pop`为`list_pop_my`（仅在 中`#define`）可以使它做你想做的事情。

# mongodb - 上限收集性能问题

> ID：14392521
> 
> 赞同：4
> 
> 时间：2013-01-18T04:44:52.637
> 
> 标签：mongodb

我正在做一些测试，看看我可以从 Mongodb 获得什么样的吞吐量。文档说上限集合是最快的选择。但我经常发现我可以更快地写入普通集合。根据具体的测试，我通常可以通过正常收集获得两倍的吞吐量。

我错过了什么吗？我该如何解决这个问题？

我有一个非常简单的 C++ 程序，它尽可能快地将大约 64,000 个文档写入集合。我记录了总时间，以及我等待数据库的时间。如果我只更改集合名称，我可以看到上限集合和正常集合之间的明显区别。

```
> use tutorial
switched to db tutorial
> db.system.namespaces.find()
{ "name" : "tutorial.system.indexes" }
{ "name" : "tutorial.persons.$_id_" }
{ "name" : "tutorial.persons" }
{ "name" : "tutorial.persons.$age_1" }
{ "name" : "tutorial.alerts.$_id_" }
{ "name" : "tutorial.alerts" }
{ "name" : "tutorial.capped.$_id_" }
{ "name" : "tutorial.capped", "options" : { "create" : "capped", "capped" : true, "size" : 100000000 } }
> db.alerts.stats()
{
    "ns" : "tutorial.alerts",
    "count" : 400000,
    "size" : 561088000,
    "avgObjSize" : 1402.72,
    "storageSize" : 629612544,
    "numExtents" : 16,
    "nindexes" : 1,
    "lastExtentSize" : 168730624,
    "paddingFactor" : 1,
    "systemFlags" : 1,
    "userFlags" : 0,
    "totalIndexSize" : 12991664,
    "indexSizes" : {
        "_id_" : 12991664
    },
    "ok" : 1
}
> db.capped.stats()
{
    "ns" : "tutorial.capped",
    "count" : 62815,
    "size" : 98996440,
    "avgObjSize" : 1576,
    "storageSize" : 100003840,
    "numExtents" : 1,
    "nindexes" : 1,
    "lastExtentSize" : 100003840,
    "paddingFactor" : 1,
    "systemFlags" : 1,
    "userFlags" : 0,
    "totalIndexSize" : 2044000,
    "indexSizes" : {
        "_id_" : 2044000
    },
    "capped" : true,
    "max" : 2147483647,
    "ok" : 1
} 
```

linux版本：3.4.11-1.fc16.x86_64

mongo 版本：db 版本 v2.2.2，pdfile 版本 4.5

这是一台专用机器，除了运行 Mongodb 服务器和我的测试客户端之外什么都不做。这台机器在这个测试中被荒谬地压倒了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T17:04:06.317

我看到了问题。我上面引用的网页说“没有索引”的上限集合将提供高性能。但是……</p>

[http://docs.mongodb.org/manual/core/indexes/](http://docs.mongodb.org/manual/core/indexes/)说“在 2.2 版之前，上限集合没有 _id 字段。在 2.2 中，所有上限集合都有一个 _id 字段，本地数据库中的除外。”

我创建了另一个版本的测试，它写入本地数据库中的上限集合。果然，这个集合没有任何索引，我的吞吐率高了很多！

[也许http://docs.mongodb.org/manual/core/capped-collections/](http://docs.mongodb.org/manual/core/capped-collections/)上的上限集合概述应该澄清这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T07:59:42.440

> 封顶集合保证插入顺序的保留。因此，查询不需要索引即可按插入顺序返回文档。如果没有这种索引开销，它们可以支持更高的插入吞吐量。

根据上面的定义，如果你没有任何索引插入到上限集合中，则不必比插入到普通集合中更快。因此，如果您没有任何索引，并且如果您没有任何其他理由使用上限集合（例如缓存），那么显示最后 n 个元素是一种我建议您使用常规集合的东西。

> Capped collections 保证插入顺序与磁盘上的顺序（自然顺序）相同，并通过禁止增加文档大小的更新来做到这一点。Capped collections 只允许适合原始文档大小的更新，从而确保文档不会更改其在磁盘上的位置。

# c# - 如何在标签上的gridview页脚中显示我的列值之一

> ID：14392523
> 
> 赞同：0
> 
> 时间：2013-01-18T04:45:14.010
> 
> 标签：c#, asp.net, sql-server, gridview

我想在 GridView 页脚的标签上显示名为“total”的列中的值。

“总计”列的值在每一行都是相同的，因此只要我们在该列中，选择哪个单元格都没有关系。

我正在为我的列“总计”使用模板字段，并通过使其可见性 = false 来隐藏它。所以我想要的是我想将名为 total 的列中的值显示到我的 gridview 内的标签上

这是我尝试过的代码示例，但它给出了一个错误：

```
 protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
    {
int total;
        if (e.Row.RowType == DataControlRowType.DataRow) 
        { 
            total = Convert.ToInt32(((DataRowView)e.Row.DataItem)["total"].ToString()); 
        } 
        if (e.Row.RowType == DataControlRowType.Footer) 
        { 
            Label lblamount7 = (Label)e.Row.FindControl("Label27"); 
            lblamount7.Text =total.ToString(); // use of unassigned local variable 'total'
        }
    } 
```

这是隐藏列的aspx '> '>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:59:05.570

要隐藏列，请在 GridView 的模板字段中使用 Hiddeneeild。语法就像

```
<asp:TemplateField>
<ItemTemplate>
 <asp:HiddenField ID="HiddenField1" runat="server" Value='<%#Eval("Total") %>'/>

                        </ItemTemplate>
                        </asp:TemplateField> 
```

现在要计算总数并将其显示在 GridView 的页脚中，您可以这样做

```
int total = 0;
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
{
if(e.Row.RowType==DataControlRowType.DataRow)
{
total += Convert.ToInt32(DataBinder.Eval(e.Row.DataItem, "Total"));
}
if(e.Row.RowType==DataControlRowType.Footer)
{
Label lblamount7 = (Label)e.Row.FindControl("lblTotal");
lblamount7.Text = total.ToString();
}
} 
```

它肯定会奏效。祝你好运，如果有效，请发表评论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T04:49:58.303

它认为您需要在 DataRowView 演员周围加上括号—— DataItem["total"] 不存在：

改变这个：

```
total = Convert.ToInt32((DataRowView)e.Row.DataItem["total"].ToString()); 
```

到

```
total = Convert.ToInt32(((DataRowView)e.Row.DataItem)["total"].ToString()); 
```

--编辑

您需要在 RowDataBound 过程之外定义总计并将其初始化为 0。另外，请注意“+=”的使用——我假设您希望每个列的运行总计。如果没有，请将其更改回“=”，这将获取数据行中的最后一个总数。

```
private int total = 0;
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
{

    if (e.Row.RowType == DataControlRowType.DataRow) 
    { 
        total += Convert.ToInt32(((DataRowView)e.Row.DataItem)["total"].ToString()); 
    } 
    if (e.Row.RowType == DataControlRowType.Footer) 
    { 
        Label lblamount7 = (Label)e.Row.FindControl("Label27"); 
        lblamount7.Text =total.ToString(); 
    }
} 
```

祝你好运。

# ios - 服务器收据验证还是 Apple 的 VerificationController.m？

> ID：14392524
> 
> 赞同：2
> 
> 时间：2013-01-18T04:45:17.867
> 
> 标签：ios, in-app-purchase, storekit

如果我实现 Apple 的 VerificationController.m 示例，是否还需要进行服务器端收据验证？此外，如果你做服务器端，那么似乎没有理由实施 VerificationController.m 因为你没有从设备联系 Apple 的服务器。

最好的情况是，我宁愿只实现 VerificationController.m，因为我没有很好的方法来运行我自己的 https 服务器。够了吗？该应用程序在 iOS 5+ 上运行

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T22:24:11.000

这比它第一次出现的要棘手，所以我可能会稍微弄错，但这里是：

最初的攻击依赖于 iOS ≤ 5.x 中的两个弱点：

*   未能检查 App Store 服务器是否为正版（允许用户/攻击者安装 CA 证书，绕过 SSL 证书检查）。
*   未能检查收据*对该设备*是否有效。

这允许用户/攻击者伪装成 App Store 服务器并出示有效收据以供*他人*购买。

VerificationController 无法修复第一个弱点（它无法改变 StoreKit 与 Apple 的对话方式）；它主要只是修复了第二个。它似乎还检查了比应有的更多的东西（但我在这里可能完全错了），包括 StoreKit 可能已经检查的一堆东西。

客户端验证不能防止有人入侵客户端，这在越狱手机上非常容易。如果购买的东西很容易被黑客入侵（例如游戏的弹药/关闭广告），这不是一个真正的问题。

当服务器提供所购买的东西（例如 DLC/Skype 信用/FarmCoins）时，服务器端验证是可取的。

*   对于消耗品，服务器需要保证交易只应用到一个账户；检查设备 ID 有点多余——攻击者需要在购买者之前提交交易收据，这要么涉及购买者交出收据（不是真正的攻击），要么攻击者通过对 SSL 的攻击窃取收据（这意味着要担心更大的事情）。
*   对于非消耗品（例如 DLC），您还需要验证设备 ID。这可以像客户端将其设备 ID 发送到服务器一样简单——这并不能防止被黑客入侵的客户端，但攻击者可以伪造设备 ID 或盗版 DLC。

通常，在您将收据转换为购买的商品时进行验证。

但是，VerificationController 存在一些问题：

*   它检查收据验证服务器是否正在使用 EV 证书，但不执行任何其他 SSL 层检查。我不知道用户是否可以安装支持 EV 的 CA 证书（不久之后 EV CA 就会被泄露）。
*   您必须在应用程序中嵌入您的收据验证密码（搜索“密码”和“ITC_CONTENT_PROVIDER_SHARED_SECRET”），这在越狱手机上提取是微不足道的。我不确定攻击者可以用它来做什么坏事，但秘密的意义在于它是秘密！
*   它“以前见过”的交易被认为是无效的，但它在联系收据验证服务器之前将交易标记为“见过”！这意味着`//Validation suceeded. Unlock content here.`如果收据验证连接失败，您将永远无法到达，这很容易在较差的 3G 连接上发生。这对于非消耗性交易可能不是问题（我认为恢复的交易会获得新的交易 ID），但意味着消耗品会永远丢失。您可以推迟调用`-[SKPaymentQueue finishTransaction:]`直到收据验证成功，但这会在队列中留下不完整的交易——希望它们最终到期而不向用户收费。
*   它信任 NSUserDefaults 的内容。这是应用程序备份的一部分，可轻松编辑。
*   它假定`-connection:didReceiveData:`返回所有响应数据。这对于服务器和 NSURLConnection 的实现细节可能是正确的，但依赖它是不明智的。

# bash - 以非交互方式将参数传递给交互式程序

> ID：14392525
> 
> 赞同：146
> 
> 时间：2013-01-18T04:45:23.277
> 
> 标签：bash, interactive, non-interactive

我有一个 bash 脚本，它使用`read`命令以交互方式读取命令的参数，例如是/否选项。有没有办法在将默认选项值作为参数传递的非交互式脚本中调用此脚本？

这不仅仅是我必须传递给交互式脚本的一个选项。

* * *

## 回答 #1

> 赞同：177
> 
> 时间：2013-01-18T10:34:26.247

很多种方法

管道您的输入

```
echo "yes
no
maybe" | your_program 
```

从文件重定向

```
your_program < answers.txt 
```

使用[此处的文档](http://www.gnu.org/software/bash/manual/bashref.html#Here-Documents)（这可能非常易读）

```
your_program << ANSWERS
yes
no
maybe
ANSWERS 
```

使用[此处的字符串](http://www.gnu.org/software/bash/manual/bashref.html#Here-Strings)

```
your_program <<< $'yes\nno\nmaybe\n' 
```

* * *

## 回答 #2

> 赞同：51
> 
> 时间：2013-01-18T10:56:39.773

对于更复杂的任务，有`expect`( [http://en.wikipedia.org/wiki/Expect](http://en.wikipedia.org/wiki/Expect) )。它基本上模拟了一个用户，你可以编写一个脚本来对特定的程序输出和相关的东西做出反应。

这也适用于`ssh`禁止向其输入密码的情况。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2013-01-18T04:48:59.250

您可以将数据放在文件中并像这样重新定向它：

```
$ cat file.sh
#!/bin/bash

read x
read y
echo $x
echo $y 
```

脚本数据：

```
$ cat data.txt
2
3 
```

执行脚本：

```
$ file.sh < data.txt
2
3 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2016-05-24T04:44:23.503

只是想再添加一种方式。在别处找到的，很简单。假设我想在命令行中为命令“execute_command”的所有提示传递“是”，然后我只需将“是”传递给它。

```
yes | execute_command 
```

这将使用是作为所有是/否提示的答案。

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2020-06-10T01:21:02.427

您还可以使用 printf 将输入通过管道传输到您的脚本。

```
var=val
printf "yes\nno\nmaybe\n$var\n" | ./your_script.sh 
```

# php - PHP GET [参数] 使用 javascript 从包含的 php 文件中获取 ulencode

> ID：14392532
> 
> 赞同：0
> 
> 时间：2013-01-18T04:46:53.340
> 
> 标签：php, include

我`index.php`正在使用在同一文件夹中`downloadUrl`调用的文件。`data.php`（按预期工作）

`$type = urlencode($_GET['type']);`适用于`index.php` 但不适用`data.php`。在那里使用时它什么也不返回......

# java - Android 和 Java 服务器之间的套接字编程问题

> ID：14392536
> 
> 赞同：1
> 
> 时间：2013-01-18T04:47:26.627
> 
> 标签：java, android, sockets

我遇到的问题是我能够正确连接，但是该死的连接不会关闭！我必须做什么？

**服务器端 ：**

*听.java*

```
package com.example.ServerSide;

import java.net.ServerSocket;

public class Listen extends servVars {

    public static void main(String[] args) {
        try {
            System.out.println("HOSTED");
            hostAt = new ServerSocket(2051);
            conDev = hostAt.accept();
            System.out.println(conDev.getInetAddress()+":"+conDev.getPort());
            for(;;) {
                System.out.print(".");
                Thread.sleep(1000);
                if(conDev.isClosed())
                    break;
            }
        } catch(Exception E) {

        }
    }

} 
```

*servVars.java*

```
package com.example.ServerSide;

import java.net.ServerSocket;
import java.net.Socket;

public class servVars {
    static ServerSocket hostAt;
    static Socket conDev;
} 
```

**客户端 ：**

*Connect_to_server.java*

```
package com.example.clientside;

import java.net.Socket;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

public class Connect_to_server extends Activity implements View.OnClickListener {

    private EditText IP_field;
    private EditText port_field;
    private String IP;
    private String portStr;
    private int port;
    public static Socket conn;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.connect_to_server);
        IP_field = (EditText) this.findViewById(R.id.IP_field);
        port_field = (EditText) this.findViewById(R.id.port_field);
        Button connect = (Button) this.findViewById(R.id.connect_button);
        connect.setOnClickListener(this);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.connect_to_server, menu);
        return true;
    }

    @Override
    public void onClick(View v) {
        IP = IP_field.getText().toString();
        portStr = port_field.getText().toString();
        Toast.makeText(getApplicationContext(),"Trying to connect to "+IP+":"+portStr,Toast.LENGTH_SHORT).show();
        try {
            port = Integer.parseInt(portStr);
            conn = new Socket(IP, port);
            Intent landing = new Intent(this, Landing.class);
            startActivity(landing);
        } catch(Exception E) {
            Intent failure = new Intent(this, ConnectFail.class);
            failure.putExtra("ctsException", E.toString());
            startActivity(failure);
        }
    }

} 
```

*登陆.java*

```
package com.example.clientside;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

public class Landing extends Activity implements View.OnClickListener {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.landing);
        Button disconnect = (Button) this.findViewById(R.id.disconnect_button);
        disconnect.setOnClickListener(this);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.landing, menu);
        return true;
    }

    @Override
    public void onClick(View v) {
        try {
            Connect_to_server.conn.close();
            Toast.makeText(getApplicationContext(),"Disconnected!",Toast.LENGTH_SHORT).show();
        } catch(Exception E) {}
    }

} 
```

我没有发布布局和 ConnectFail.java，因为我认为这不是必需的。

编辑：我猜这与 Socket 和 ServerSocket 是静态的有关。但是，我不知道如何使它们成为非静态的并且仍然使程序运行！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:53:53.560

`isClosed()`告诉你是否*关闭*了*套接字。*它不会告诉您任何有关*连接状态的信息。*如果对等方关闭套接字，您将在读取时收到 EOF 指示：

*   `read()`返回 -1
*   `readLine()`返回空
*   `readXXX()`抛出`EOFException`任何其他 XXX。

由于您的服务器没有从客户端读取任何内容，因此它不可能发现客户端何时关闭连接。

# python - Django 单元测试客户端响应具有空上下文

> ID：14392537
> 
> 赞同：13
> 
> 时间：2013-01-18T04:47:36.837
> 
> 标签：python, django, django-unittest

我有一个单元测试在一个断言中失败，该断言在同一测试用例类中的另一个测试中通过。

这是通过的测试：

```
def test_home(self):
    c = Client()
    resp = c.get('/')
    self.assertEqual(resp.status_code, 200)
    self.assertTrue('a_formset' in resp.context) 
```

这是失败的测试：

```
def test_number_initial_number_of_forms(self):
    c = Client()
    resp = c.get('/')
    self.assertEqual(resp.context['a_formset'].total_form_count(), 1) 
```

在第二个测试中，我得到了错误`TypeError: 'NoneType' object has no attribute '__getitem__'`。

如果我执行第二个测试

```
def test_number_initial_number_of_forms(self):
    c = Client()
    resp = c.get('/')
    self.assertTrue('a_formset' in resp.context)
    self.assertEqual(resp.context['a_formset'].total_form_count(), 1) 
```

我得到错误`TypeError: argument of type 'NoneType' is not iterable`。我已经在第二个测试中通过打印语句确认 response.content 包含我希望获得的页面，状态代码是正确的，并且模板是正确的。但是响应的上下文始终`None`在第二个测试中。

我正在通过标准的“python manage.py test ...”接口运行我的 Django 单元测试，所以我不相信我遇到了“ [context is empty from the shell](https://stackoverflow.com/questions/1932706/django-test-clients-context-is-empty-from-the-shell) ”的问题。

这是怎么回事？

**编辑：**

如果我添加`print type(resp.context['a_formset'])`到每个测试中，对于我得到的工作测试`<class 'django.forms.formsets.AFormFormSet'>`。对于非工作测试，我`TypeError: 'NoneType' object has no attribute '__getitem__'`再次获得。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-01-30T10:47:58.797

这是因为您遇到了一些错误，退出了 shell 并重新启动它。

但是你**忘了启动环境**......

```
from django.test.utils import setup_test_environment
>>> setup_test_environment() 
```

那是我的问题。希望它有效...

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-06-19T11:06:20.997

今天我遇到了同样的问题。第二**个**测试得到相同的页面在 response.context 中没有任何内容

我做了一个研究，发现1）测试客户端使用信号来填充上下文，2）我的视图方法没有被调用来进行第二次测试

我打开了一个调试器，发现有罪的是“缓存中间件”。知道我找到[了这张票](https://code.djangoproject.com/ticket/15142)和这个[SO 问题](https://stackoverflow.com/questions/3219668/using-django-cache-middleware-causes-contrib-auth-unit-tests-to-fail)（后者有一个解决方案）。

**因此，简而言之：**第二个请求是从缓存中提供的，而不是从视图中提供的，因此视图没有被执行，并且测试客户端没有得到信号并且没有能力填充上下文。

我不能为我的项目禁用缓存中间件，所以我在我的设置中添加了下一个黑客行：

```
if 'test' in sys.argv:
   CACHE_MIDDLEWARE_SECONDS = 0 
```

希望这可以帮助某人

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-20T20:39:53.167

您还可以通过在测试方法中调用 cache.clear() 手动清除缓存：

```
from django.core.cache import cache
import pytest

class TestPostView:

    @pytest.mark.django_db(transaction=True)
    def test_index_post(self, client, post):
        cache.clear()
        response = client.get('/') 
```

# c - fclose 似乎不适用于 C

> ID：14392540
> 
> 赞同：1
> 
> 时间：2013-01-18T04:47:48.807
> 
> 标签：c, shell, unix, file-io, memory-leaks

```
 FILE *file = fopen(argv[1], "r");
    if(file != NULL){
        char command[MAX_BUFFER];
        while(fgets(command, MAX_BUFFER, file) != NULL){ //read line
            //operations
        }
        fclose(file);
    }
    else write(fileno(stderr), ERROR_MESSAGE, strlen(ERROR_MESSAGE)); 
```

我正在研究一个非常基本的 UNIX shell 实现，它从文件中逐行读取和执行。从上面的代码中，我试图弄清楚为什么`fclose()`可能会失败，因为 valgrind 似乎告诉我我已经打开了这个文件描述符。

我是否正确假设泄漏摘要中的“仍然可达”568 字节以`fclose()`某种方式失败？

```
==25428== FILE DESCRIPTORS: 4 open at exit.
==25428== Open file descriptor 3: test
==25428==    at 0x4F186B0: __open_nocancel (syscall-template.S:82)
==25428==    by 0x4EAC628: _IO_file_fopen@@GLIBC_2.2.5 (fileops.c:233)
==25428==    by 0x4EA1265: __fopen_internal (iofopen.c:93)
==25428==    by 0x400C0C: main (in /home/Desktop/sh)
==25428== 
==25428== Open file descriptor 2: /dev/pts/0
==25428==    <inherited from parent>
==25428== 
==25428== Open file descriptor 1: /dev/pts/0
==25428==    <inherited from parent>
==25428== 
==25428== Open file descriptor 0: /dev/pts/0
==25428==    <inherited from parent>
==25428== 
==25428== LEAK SUMMARY:
==25428==    definitely lost: 0 bytes in 0 blocks
==25428==    indirectly lost: 0 bytes in 0 blocks
==25428==      possibly lost: 0 bytes in 0 blocks
==25428==    still reachable: 568 bytes in 1 blocks
==25428==         suppressed: 0 bytes in 0 blocks 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:12:49.050

对了，检查返回值，也贴一个错误来简单解释一下。如果您想确认它仍然打开，请尝试 lsof，但您可能需要使用 grep 来获取程序名称或 pid，因为可能有几十个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T08:17:59.123

您的可见代码看起来不错。但是要回答您的问题：可能，但问题出在其他地方；-)

要调试您的程序，请注释掉“操作”，这样您就有了一个空循环。valgrind 还在抱怨吗？

不：问题很可能出在您命名为“操作”的代码中。

删除注释并在 (-g) 上使用调试符号进行编译，并将 valgrind 与以下选项一起使用： valgrind --leak-check=yes --show-reachable=yes --track-origins=yes yourprogram

是的：（非常不可能）其他东西被破坏了，尝试使用更多注释代码进行 valgrind。

要在编译时查找错误，请使用编译器的标志（例如 gcc 具有 -Wall -Wextra -Wwrite-strings -Wformat=2 -Wformat -Wformat-security -D_FORTIFY_SOURCE=2 等）。

并使用静态分析器，例如 llvm/clang（使用 clang --analyze yourprogram.c 编译）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T15:41:29.810

@rockdaboot 建议注释掉我的操作表明我仍然失去了记忆，但至少我知道它不是来自 fclose ......谢谢大家的提示！回到调试！

# ajax - 为什么添加这些代码后 AJAX 不起作用？

> ID：14392548
> 
> 赞同：0
> 
> 时间：2013-01-18T04:48:47.540
> 
> 标签：ajax, ms-access, asp-classic

我有一个用于删除 ORDER 记录的页面。该页面是从 AJAX 调用的，效果很好。但是，一旦我添加了一些用于同时更新库存表的代码。似乎 AJAX 功能出现故障，我无法弄清楚它们有什么问题。请给我建议。提前致谢。

我的 AJAX 函数 (order_edit.asp)

```
<script language="JavaScript">
       var HttPRequest = false;
       function doCallAjax(ID) { // delete order
          HttPRequest = false;
          if (window.XMLHttpRequest) { // Mozilla, Safari,...
             HttPRequest = new XMLHttpRequest();
             if (HttPRequest.overrideMimeType) {
                HttPRequest.overrideMimeType('text/html');
             }
          } else if (window.ActiveXObject) { // IE
             try {
                HttPRequest = new ActiveXObject("Msxml2.XMLHTTP");
             } catch (e) {
                try {
                   HttPRequest = new ActiveXObject("Microsoft.XMLHTTP");
                } catch (e) {}
             }
          } 

          if (!HttPRequest) {
             alert('Cannot create XMLHTTP instance');
             return false;
          }

          var url = '../engine/delorder_edit.asp';
          var pmeters = "tID="+ID;

          var bill_id = document.getElementById('bill_id').value; // additional for delorder_edit.asp 

            HttPRequest.open('POST',url,true);

            HttPRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
//          HttPRequest.setRequestHeader("Content-length", pmeters.length);
            HttPRequest.send(pmeters);

            HttPRequest.onreadystatechange = function()
            {

                 if(HttPRequest.readyState == 4) // Return Request
                  {
                     if(HttPRequest.responseText == 'Y')
                      {                       
                      document.getElementById("tr"+ID).style.display = 'none';
                      }
                  }             
            }

       }
</script> 
```

我的 delorder_edit.asp 页面

```
<%
    Option Explicit

    Dim strID

    strID = Request.Form("tID")

    Dim Conn,strSQL,objExec
    Set Conn = Server.Createobject("ADODB.Connection")
    Conn.Open "DRIVER=Microsoft Access Driver (*.mdb);DBQ=" & Server.MapPath("../database/TKP.mdb"),"" , ""

'********** *****************************   
'Open recorset in order to add od_qty back to tbl_inventory before this record was removed
'****** Once I added these code, my ajax became malfunction ****** 

    Set rsOrder = conn.Execute("SELECT * FROM tbl_order WHERE od_id = "&strID&""    )           
    pd_id = rsOrder.fields.item("pd_id")
    od_qty = rsOrder.fields.item("od_qty")
    od_qty = DzToPcs(od_qty)

    strSQL1 = "UPDATE tbl_inventory SET inv_qty_act = inv_qty_act + " & od_qty & ", inv_date =  date() WHERE pd_id = '" & pd_id & "'"
Set objExec = Conn.Execute(sql1)

'*******************************************

    strSQL = ""
    strSQL = strSQL&"DELETE * FROM tbl_order "
    strSQL = strSQL&"WHERE od_id = "&strID&" "

    Set objExec = Conn.Execute(strSQL)
    If Err.Number = 0 Then
        Response.write("Y")
    Else
        Response.write("N")
    End IF

    Conn.Close()
    Set Conn = Nothing
%> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T04:56:27.000

首先我会建议使用`jQuery.ajax`方法来调用服务器方法，这样你的代码会更少，也更容易理解。第二件事，调试：

```
 "HttPRequest.onreadystatechange = function()", 
```

并检查返回的值。除非我们没有得到确切的错误，否则我们无法向您建议解决方案。

# c# - 如何在 C# 中检查 CML 子节点

> ID：14392551
> 
> 赞同：1
> 
> 时间：2013-01-18T04:49:10.283
> 
> 标签：c#, xml, visual-studio-2010, xmlreader

我`xmlreader`用来读取 XML 文件。我想确定一个元素是否有子节点。

目前，我使用该`IsEmptyElement`方法来查找是否有子元素。我发现，即使标签包含文本数据而不是元素，它也会返回 true。

```
if (!file.IsEmptyElement) {
    elem.subElems.Add(readXml(file));
} 
```

我如何使用 xml 阅读器解决此问题？任何帮助，将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:55:24.660

如果您只需要检查，请改用[XmlDocument](http://msdn.microsoft.com/en-us/library/system.xml.xmldocument.aspx) ......我发现它更容易理解和编码。

```
XmlDocument doc = new XmlDocument();
doc.LoadXml("YourDocument");

XmlNode root = doc.FirstChild;

if (root.HasChildNodes)
{
    // Do something...
} 
```

读者：

```
using (XmlReader reader = ...)
{
    while (reader.Read())
    {
        if ((reader.NodeType == XmlNodeType.Element) && (reader.Name == ...))
        {
            Int32 childrenCount = CountChildred(reader, XmlNodeType.Element);
            // Your code...

public static Int32 CountChildred(XmlReader node, XmlNodeType type)
{
    Int32 count = 0;
    Int32 currentDepth = node.Depth;
    Int32 validDepth = currentDepth + 1;

    while (node.Read() && (node.Depth != currentDepth))
    {
        if ((node.NodeType == type) && (node.Depth == validDepth))
            ++count;
    }

    return count;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:07:45.860

[IsEmptyElement](http://msdn.microsoft.com/en-us/library/system.xml.xmlreader.isemptyelement.aspx)的行为是预期的，实际上对于 reader，当 reader 位于元素的开头时，这是您可以获得的唯一信息。此时阅读器尚未尝试读取元素的内部 XML，因此没有任何信息是否存在任何子节点、文本节点或两者的混合。

要修复，您需要阅读每个子元素并将它们单独添加到您的列表（或您拥有的任何内容）中。

# c++ - 带有 std::map 的单例

> ID：14392553
> 
> 赞同：0
> 
> 时间：2013-01-18T04:49:11.210
> 
> 标签：c++, singleton, stdmap

我正在尝试基于包含 std::map 作为值的单例设计模式编写类。

```
 //Data.h
    #ifndef Data_h
#define Data_h

// from std
#include<map> 

using namespace std;

template <typename T>

class Data
{
 private:
  Data();
  virtual ~Data();
  map<string,T >* value_map;
  static Data<T> *m_data;

 public:
  //list of method
  static Data<T>*  instance()
{
  if (NULL == m_data){
    m_data=new Data;
  }
  return m_data;
}
  virtual T getValue(string name);
  virtual void insert(string name, T value);
  //virtual void finish();
  // member field

};
#endif
   // Data.cpp

    #include"Data.h"
#include<iostream>

//implementation of class data
//which is based on singleton pattern design

template <typename T>
Data<T>::Data()
{
  value_map=new map<string, <T> >();
}

template <typename T>
Data<T>::~Data()
{ 
}

template <typename T>
T Data<T>::getValue(string name)
{
  return value_map[name];
}

template <typename T>
void Data<T>::insert(string name,T value)
{
  typedef map<string, typename T> mapa;
  value_map->insert(typename mapa::value_type(name,value));
} 
```

但不幸的是，这段代码无法编译。我应该改变什么才能将值插入地图。此致。

* * *

我已经合并了 .cpp 和 .h 文件。当前代码如下所示。

```
#ifndef Data_h
#define Data_h

// from ROOT-  nie wiem jak zrobic 
#include<map> 
#include<string>

using namespace std;

template <typename T>

class Data
{
 private:
  Data();
  virtual ~Data();
  map<string,T > *value_map;
  static Data<T> *m_data;

 public:
  //list of method
  static Data<T>*  instance()
{
  if (NULL == m_data){
    m_data=new Data;
  }

  return m_data;
}
  virtual T getValue(string name);
  virtual void insert(string name, T value);
  //virtual void finish();

};

template <typename T>
Data<T>::Data()
{
  value_map=new map<string, T>();
};

template <typename T>
Data<T>::~Data()
{ 
};

template <typename T>
T Data<T>::getValue(string name)
{
  return value_map[name];
};

template <typename T>
void Data<T>::insert(string name,T value)
{

   typedef map<string, T > mapa;
  value_map->insert( mapa::value_type(name,value));
};

#endif 
```

但是窃取它不会编译。我应该怎么做才能修复我的课。特别是方法插入返回编译错误。我期待着您的回音。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:52:28.863

您正在使用模板，您不能将代码分成 header(.h) 和 source(.cpp)，以使您的代码正常工作，使 Data.h 包含所有代码或将 include 指令添加到 Data.h 文件的末尾。

```
#include Data.cpp 
```

# ruby - 如何将这两行变量赋值和比较简化为一行

> ID：14392555
> 
> 赞同：1
> 
> 时间：2013-01-18T04:49:17.070
> 
> 标签：ruby

我有两行 ruby​​ 代码从特定的扩展名（字符串）中去除某些对象的 URL（字符串），并测试它们是否匹配特定的字符串（'index'）并可能重新分配。

```
page_path = page_object.url_string.chomp(page_object.extension_string)
page_path = '' if page_path == 'index' 
```

当然，我的实际变量名称不同（更短），以上只是为了更好地说明。

在一行优雅的 ruby​​ 代码中完成这项工作是否合适且可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T04:55:44.087

一个可能的解决方案

```
page_path = page_object.url_string.
            chomp(page_object.extension_string).
            sub(/\Aindex\Z/,'') 
```

# objective-c - 使用 FSEventStreamCreate 跟踪目录中的文件系统事件无法正常工作

> ID：14392562
> 
> 赞同：1
> 
> 时间：2013-01-18T04:50:40.263
> 
> 标签：objective-c, macos

我想避免运行计时器，并希望`FSEventStreamCreate`在修改数据库文件时使用它来通知应用程序。通过包含在要检查的路径数组中，我在应用程序中得到了我想要的结果，`NSHomeDirectory()`但这只是因为主目录太忙了。如果我排除`NSHomeDirectory()`或由于某种原因机器不像我的那么忙，则应用程序不会经常捕获对数据库文件的更改。

每次我启动调试会话时，以下代码只工作一次。

```
-(void) initializeEventStream
{

    NSString *databaseDirectoryPath = @"/Library/FileMaker Server/Data/Databases/development";
    NSString *homeDirectoryPath = NSHomeDirectory() ;

    NSArray *pathsToWatch = [NSArray arrayWithObjects:databaseDirectoryPath,  homeDirectoryPath, nil];
    void *appPointer = (void *)self;
    FSEventStreamContext context = {0, appPointer, NULL, NULL, NULL};
    NSTimeInterval latency = 3.0;

    self.fileSystemEventStreamRef = FSEventStreamCreate(NULL,
                                 &fsevents_callback,
                                 &context,
                                 (CFArrayRef) pathsToWatch,
                                 [self.lastEventIDNumber unsignedLongLongValue],
                                 (CFAbsoluteTime) latency,
                                 kFSEventStreamCreateFlagUseCFTypes
                                 );

    FSEventStreamScheduleWithRunLoop(self.fileSystemEventStreamRef, CFRunLoopGetCurrent(), kCFRunLoopDefaultMode);
    FSEventStreamStart(self.fileSystemEventStreamRef);
} 
```

关于如何使`FSEventStreamCreate`响应更灵敏的任何想法

```
NSString *databaseDirectoryPath = @"/Library/FileMaker Server/Data/Databases/development"; 
```

?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-11T16:36:43.130

试试下面的代码：

```
-(void) initializeEventStream
{

    NSString *databaseDirectoryPath = @"/Library/FileMaker\ Server/Data/Databases/development";
    NSString *homeDirectoryPath = NSHomeDirectory() ;

    NSArray *pathsToWatch = [NSArray arrayWithObjects:databaseDirectoryPath,  homeDirectoryPath, nil];
    void *appPointer = (void *)self;
    FSEventStreamContext context = {0, appPointer, NULL, NULL, NULL};
    NSTimeInterval latency = 1.0;

    self.fileSystemEventStreamRef = FSEventStreamCreate(NULL,
                             &fsevents_callback,
                             &context,
                             (CFArrayRef) pathsToWatch,
                             kFSEventStreamEventIdSinceNow,
                             (CFAbsoluteTime) latency,
                             kFSEventStreamCreateFlagWatchRoot
                             );

    FSEventStreamScheduleWithRunLoop(self.fileSystemEventStreamRef, CFRunLoopGetCurrent(),     kCFRunLoopDefaultMode);
    FSEventStreamStart(self.fileSystemEventStreamRef);
} 
```

# c++ - C++ 根据用户输入声明具有内容和大小的字符串数组

> ID：14392563
> 
> 赞同：0
> 
> 时间：2013-01-18T04:50:41.377
> 
> 标签：c++, xcode, dynamic

我正在尝试设置一个大小和内容取决于用户输入的字符串数组。我在声明我的数组时遇到错误，它说大小的变量不是正确的类型。我花了几个小时在这只是想我会问。

这是我的代码：

```
#include <iostream>
#include <string>

using namespace std;

int main()
{
    cout << "Enter number of names /n";
    int a;
    cin >> a;
    string namesArray[a];         //Error is here.
    for( int i=0; i<a; i++) {
        string temp;
        cin >> temp;
        namesArray[i] = temp;
    }

    for( int j=0; j<a; j++) {
        cout << "hello " << namesArray[j] << "/n";

    }
    return 0;
} 
```

错误在`string namesArray[a];`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:51:47.040

数组的大小需要有一个编译时值。您的代码不会编译，因为`a`它不是编译时常量。

更好的使用`std::vector`：

```
#include <iostream>
#include <string>
#include <vector>   // <-- Must be included

using namespace std;

int main()
{

    cout << "Enter number of names /n";
    int a;
    cin >> a;

    vector<string> namesArray;    // HERE!!!

    for( int i=0; i < a; i++) {
        string temp;
        cin >> temp;
        namesArray.push_back(temp);   // Notice the difference
    }

    for( int j=0; j<a; j++) {
        cout << "hello " << namesArray[j] << "/n";
    }

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T04:53:49.173

您可以通过这种方式声明您的 namesArray：

```
string * namesArray = new string[a]; 
```

这应该可以工作，因为它根据输入值 a 动态分配内存。

但可以肯定的是，最好改用矢量。如果使用向量，则不需要删除数组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T04:55:56.640

您不能使用变量作为静态初始化数组的大小，为此您需要动态分配数组，例如

```
string* namesArray =  new string[a]; 
```

但是使用 std::vector 来避免内存泄漏会更明智！

使用矢量，您可以这样做：

```
#include <iostream>
#include <string>
#include <vector>

using namespace std;

int main()
{
    cout << "Enter number of names /n";
    int a;
    cin >> a;
    vector<string> names;
    for( int i=0; i<a; i++) {
        string temp;
        cin >> temp;
        names.push_back(temp);
    }

    vector<string>::iterator
        it = names.begin(),
        ite = names.end();
    for(; it != ite; ++it) {
        cout << "hello " << *it << "/n";
    }

    return 0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T04:56:02.127

正如马克所说，这是一个编译时问题。您可以使用`vector`，但另一种方法是为数组动态分配内存。这意味着使用关键字`new`。

所以，你的代码将是`string* namesArray = new string[a];`

Using`new`返回指向数组的指针，因此请相应地进行调整。

# xaml - xaml 用户控件对象引用未设置为对象的实例

> ID：14392567
> 
> 赞同：1
> 
> 时间：2013-01-18T04:51:22.217
> 
> 标签：xaml, windows-8

我有一个相当简单的 Windows 8 XAML/C# UserControl：

```
 <UserControl
    x:Class="periodicTable.cell"
    x:Name="periodicTableCell"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:periodicTable"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="100"
    d:DesignWidth="65">

<Grid Background="White">
    <Grid.RowDefinitions>
        <RowDefinition Height="15"/>
        <RowDefinition Height="20"/>
        <RowDefinition Height="50"/>
        <RowDefinition Height="15"/>
    </Grid.RowDefinitions>
    <TextBlock Grid.Row="0" x:Name="txtElementName"/>
    <TextBlock Grid.Row="1" x:Name="txtAtomicNumber"/>
    <TextBlock Grid.Row="2" x:Name="txtSymbol"/>
    <TextBlock Grid.Row="3" x:Name="txtAtomicWeight"/>
</Grid> 
```

我背后的代码是：

```
namespace periodicTable
{
    public sealed partial class cell : UserControl
    {

        public string elementName { get; set; }
        public string atomicNumber { get; set; }
        public string symbol { get; set; }
        public string atomicWeight { get; set; }

        public cell()
        {
            this.InitializeComponent();

            this.txtElementName.Text = elementName.ToString();
            this.txtAtomicNumber.Text = atomicNumber.ToString();
            this.txtAtomicWeight.Text = atomicWeight.ToString();
            this.txtSymbol.Text = symbol.ToString();
        }
    }
} 
```

当我将此控件添加到我的 MainPage XAML 时：

```
xmlns:local="using:periodicTable" 
```

然后当我尝试将它添加到我的网格时：

```
<local:cell Grid.Row="0" Grid.Column="2"/> 
```

我收到一条错误消息：`object reference not set to an instance of an object`

我应该注意，我计划在许多行和列中重用这个用户控件......

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T05:06:14.950

`elementName`, `atomicNumber`,`symbol`并且`atomicWeight`似乎没有被初始化。它们的值为 null 并且`.ToString()`方法将失败。首先尝试将它们初始化为空字符串。

# ios - 如何使用相同的连接发送不同的请求？

> ID：14392572
> 
> 赞同：1
> 
> 时间：2013-01-18T04:51:48.787
> 
> 标签：ios, http, nsurlconnection

我的应用程序的行为如下：

> **客户端**：向服务器发送请求（使用 a `NSURLConnection`），要求服务器生成文件并下载该文件。
> 
> **服务器**：生成文件并将文件的数据发送回客户端（使用分块编码）
> 
> *生成文件后，服​​务器会更新文件的头部，所以在下载文件后，客户端需要再次请求获取更新的头部。在文件生成和更新过程中，如果服务器检测到来自客户端的连接已关闭，它将删除生成的文件，因此需要保持连接。*
> 
> **客户端**：发送第二个请求（另一个`NSURLConnection`）以获取更新的标头

问题是在第一个请求（我使用`NSURLConnection`）服务器检测到连接关闭并删除生成的文件之后，所以第二个请求失败。

我怀疑原因是我使用了两个不同的实例`NSURLConnection`，所以我在文档中查找类似的内容`NSMutableURLConnection`。它不存在！

我的问题：有没有办法保持请求之间的连接（通过重用`NSURLConnection`，或使用`NSMutableRequest`和重新请求相同`NSURLConnection`）？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-25T21:06:21.010

您可以使用 ：

```
NSURLConnection *currentConnection = [NSURLConnection alloc]; 
[currentConnection initWithRequest:request1 delegate:self];

[currentConnection initWithRequest:request2 delegate:self]; 
```

您可以使用以下方法验证原始和当前 NSURLRequest：

```
- (NSURLRequest *)originalRequest NS_AVAILABLE_IOS(5_0);
- (NSURLRequest *)currentRequest  NS_AVAILABLE_IOS(5_0); 
```

# php - Jquery Mobile 和 .load 函数

> ID：14392573
> 
> 赞同：2
> 
> 时间：2013-01-18T04:51:49.833
> 
> 标签：php, jquery, css, jquery-mobile

我正在尝试将我的网站转移到 jquery mobile 并在使用时遇到错误：

```
$('#information').load('getRegister.php'  , function() {
                    $('#preloader').hide(); 
                }); 
```

调用此函数以在不刷新的情况下将 html 代码动态加载到页面中，但出现的代码与网站中已有的代码 css 不匹配。您可以在下面的屏幕截图中看到这一点![在此处输入图像描述](../Images/b6c863006bd0bbef7fa6b2d5d75617a5.png)：

我很困惑为什么按钮和文本字段不采用已经加载到页面中的表单的样式。.load 调用的代码是这个 php 文件：

```
<?php
  require ('myConnectDB.inc.php');     

// echo registration form

echo "

<p class=\"center\"> &nbsp;</p>

<form name=\"input2\" action=\"\" onsubmit =  \" return register()\" method=\"post\"  data-ajax=\"false\">
                    <p class=\"center\"> User Name: 
                    <input type=\"text\" name=\"user\"  id=\"userRegister\" /></p>
                    <p class=\"center\"> &nbsp;</p>
                    <p class=\"center\"> Email: 
                    <input type=\"text\" name=\"user\"  id=\"emailRegister\" /></p>
                    <p class=\"center\"> &nbsp;</p>
                    <p class=\"center\"> Password: <input type=\"password\" name=\"password\" id=\"passwordRegister1\" /></p> 
                    <p class=\"center\"> &nbsp;</p>
                    <p class=\"center\"> Re-Type Password: <input type=\"password\" name=\"password\" id=\"passwordRegister2\" /></p> 
                    <p class=\"center\"> &nbsp;</p>
                    <p class=\"center\"> 
                    <input type=\"submit\"  class=\"  button blue\" name = \"login\" value=\"Register\" />
                    </p>
            </form>";   
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T04:57:28.710

您需要`create`在新添加的内容上触发事件。

从[文档](http://jquerymobile.com/demos/1.2.0/docs/forms/docs-forms.html)

> 如果您应该在客户端生成新的标记或通过 AJAX 加载内容并将其注入页面，您可以触发 create 事件来处理新标记中包含的所有插件的自动初始化。这可以在任何元素（甚至是页面 div 本身）上触发，从而为您节省手动初始化每个插件的任务（见下文）。
> 
> 例如，如果通过 Ajax 加载了一个 HTML 标记块（例如登录表单），则触发 create 事件以自动转换它包含的所有小部件（输入
> 
> 和按钮在这种情况下）到增强版本。这种情况的代码是：

```
$( ...new markup that contains widgets... ).appendTo( ".ui-page" ).trigger( "create" ); 
```

在您的情况下，您可能想要以下内容

```
$('#information').load('getRegister.php'  , function() {
        $('#preloader').hide(); 
        $('#information').trigger("create");
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T04:55:27.640

这可能是因为您的新 html 没有提供与原始表单或原始样式表使用的任何嵌套 div 结构相同的类属性。

查看原始文本字段的类属性并匹配它们。或查看样式表以了解如何布局您的 html。

# php - 让PHP等到一个函数完成？

> ID：14392582
> 
> 赞同：9
> 
> 时间：2013-01-18T04:52:38.723
> 
> 标签：php, wait, thread-sleep

有什么方法可以让 PHP 等到函数返回后再继续？

这是我的代码：

```
<?php

    set_time_limit(0);

    function waitforchange($nof) {
        $lfilemod=filemtime($nof);
        while(filemtime($nof) == $lfilemod) {
            clearstatcache();
            usleep(10000);
        }
    }

    waitforchange('./blahblah.txt')
    sleep(5);
    echo 'done';

?> 
```

它应该等到`blahblah.txt`更改，然后再等待五秒钟，然后打印出“完成”，但是，无论文件是否实际更改，它都会在五秒钟后打印出“完成”。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-18T05:21:46.947

PHP 是单线程的，这意味着它在继续之前一次执行一条指令。换句话说，PHP 在继续执行下一条语句之前自然会等待函数完成执行。

我尝试在我的机器上执行您的代码，它正确地等待并等待直到我修改了文件，然后才完成功能并显示消息。

我什至看不到您的代码中可能失败的任何内容。由于创建 of`$lfilemod`的方式与循环中的检查相同，因此即使文件存在问题，该`while`循环的条件也会返回并执行 (将在两个错误上都返回，因此条件将读取，即显然）。`TRUE``filemtime``FALSE``(FALSE == FALSE``TRUE`

您的 PHP 脚本是否在运行该循环之前完全修改了文件？如果是，则返回的初始值`filemtime`可能是脚本最初启动时的修改时间。当您`clearstatcache`在循环中运行时，您将获得由脚本前面的更改引起的新修改时间。

我的建议：

*   `clearstatcache`在设置值之前尝试运行，`$lfilemod`以便您知道该值是干净的，并且您正在将苹果与苹果与循环中正在检查的内容进行比较。

*   确保文件确实没有被修改。尝试在代码的开头和结尾放置几行调试行，打印出文件的最后修改时间，然后自己比较两者以查看 PHP 是否报告修改时间发生了变化。

*   这是不言而喻的，但是您应该确保 PHP 被配置为在开发过程中显示所有错误，以便您立即了解何时以及如何出现问题。确保该`display_errors`设置已`On`在您的`php.ini`文件中打开（`ini_set()`如果您无法修改文件本身，则使用该设置），并且您`error_reporting()`的设置`E_ALL | E_STRICT`为 PHP <= 5.3 或`E_ALL`PHP 5.4（`E_STRICT`是`E_ALL`该版本的一部分）。更好的方法是将错误报告设置为`-1`有效地打开所有错误报告，无论 PHP 版本如何。

尝试使用这些修改再次运行您的代码。如果您看到该文件确实正在被修改，那么您就知道您的代码有效。如果文件*没有*被修改，您至少应该有一个可以查找的错误，或者在这里询问我们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:00:33.677

尝试将函数调用分配给变量。我认为它不会等待返回。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:00:48.933

代码看起来不错；在 waitforchange 行之后保存缺少的分号 (;)。我测试了将 (;) 放在那里并且脚本按预期运行。也许这就是罪魁祸首？不过，我无法解释你是如何让你的代码在出现错误的情况下执行的。

# .htaccess - codeigniter url 重定向不正常

> ID：14392590
> 
> 赞同：0
> 
> 时间：2013-01-18T04:53:28.833
> 
> 标签：.htaccess, codeigniter

我新上传了我的 codeigniter 项目到服务器。它已上传到文件夹（应用程序）。现在它的重定向不起作用。它总是重定向到主页。

文件夹路径：[http ://domain.com/app](http://domain.com/app)

htaccess 规则是`RewriteRule ^(.*)$ index.php/$1 [L]`

我应该如何根据文件夹路径更改规则。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T11:04:01.613

我知道这个问题，你用dreamhost还是gandi托管？

试试看 ：

**在你的 .htaccess**

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !=/favicon.ico
RewriteRule ^(.*)$ index.php?/$1 [L,QSA] 
```

**在你的 application/config/config.php**

```
$config['uri_protocol'] = 'AUTO'; 
```

享受 ：）

# ios - 无论如何在 iOS 中使用 iPodMusicPlayer 测试内存泄漏？

> ID：14392592
> 
> 赞同：-1
> 
> 时间：2013-01-18T04:53:38.907
> 
> 标签：ios, cocoa-touch, instruments

我正在尝试为我使用的应用程序测试内存泄漏`MPMusicPlayerController's` `iPodMusicPlayer`。

作为一个必须使用 iPod Library 并且可以在物理设备上播放歌曲的音乐播放器，在 iOS 中是不行的`Simulator`。

现在我想测试我的应用程序的内存泄漏`Instrument`。

无论如何要测试它`Instrument`吗？

感谢您的阅读。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T04:58:05.727

Xcode 有一些用于测试内存泄漏的工具。运行 -> 从性能工具开始 -> 泄漏。[您可以从该](http://www.youtube.com/watch?v=BHWGUwYMGBw)视频中了解如何使用它。

# sql-server-2008 - 显示每天库存中可用库存的余额

> ID：14392605
> 
> 赞同：0
> 
> 时间：2013-01-18T04:54:41.980
> 
> 标签：sql-server-2008, tsql

以下查询不显示有向内余额的余额数量，而且我还想要每天的数据：

```
SELECT I.Date as Date, 
P.ResourceName as ItemName,
P.ResourceRate as Rate,
i.TotalInQty as InwardsQuantity,
s.TotalOutQty as OutwardsQuantity,
i.TotalInQty-S.TotalOutQty as Balance,
O.UnitSymbol As ItemUnit
FROM UnitMaster O
INNER JOIN Resource_Master P
 ON O.UnitCode = P.Unitcode
LEFT JOIN
(
  select COALESCE(sum(i.Qty), 0) AS TotalInQty, Nameofitem, Min(I.Date) AS Date
  from Inwards_Master I
  group by Nameofitem
) I
ON I.Nameofitem= P.ResourceName
LEFT JOIN
(
  select COALESCE(sum(s.qty), 0) AS TotalOutQty, Nameofitem, Min(S.Date) AS Date
  from Outwards_Master S 
  group by s.Nameofitem
) S
ON I.Date=S.Date 
AND I.Nameofitem =S.Nameofitem
WHERE P.TenderCode=1 
```

任何机构都可以对此提供见解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:08:36.243

我怀疑第一个问题是您使用`COALESCE`的级别错误-您真正想要做的是消除`NULL`由于`LEFT JOIN`不成功而产生的 a 。您不能`NULL`在子查询中消除它，因为它在该行集中不存在：

```
SELECT I.Date as Date, 
P.ResourceName as ItemName,
P.ResourceRate as Rate,
COALESCE(i.TotalInQty,0) as InwardsQuantity,
COALESCE(s.TotalOutQty,0) as OutwardsQuantity,
COALESCE(i.TotalInQty,0)-COALESCE(S.TotalOutQty,0) as Balance,
O.UnitSymbol As ItemUnit
FROM UnitMaster O
INNER JOIN Resource_Master P
 ON O.UnitCode = P.Unitcode
LEFT JOIN
(
  select sum(i.Qty) AS TotalInQty, Nameofitem, Min(I.Date) AS Date
  from Inwards_Master I
  group by Nameofitem
) I
ON I.Nameofitem= P.ResourceName
LEFT JOIN
(
  select sum(s.qty) AS TotalOutQty, Nameofitem, Min(S.Date) AS Date
  from Outwards_Master S 
  group by s.Nameofitem
) S
ON I.Date=S.Date 
AND I.Nameofitem =S.Nameofitem
WHERE P.TenderCode=1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T06:14:46.253

试试这个：

```
SELECT I.Date as Date,
P.ResourceName as ItemName,
P.ResourceRate as Rate,
COALESCE(i.TotalInQty,0) as InwardsQuantity,
--s.TotalOutQty as OutwardsQuantity,
COALESCE(s.TotalOutQty,0) as OutwardsQuantity,
--i.TotalInQty-s.TotalOutQty as Balance,
COALESCE(i.TotalInQty,0)-COALESCE(S.TotalOutQty,0) as Balance,
O.UnitSymbol As ItemUnit 
FROM UnitMaster O 
INNER JOIN Resource_Master P 
    ON O.UnitCode = P.Unitcode 
    LEFT JOIN(select sum(i.Qty) AS TotalInQty,Nameofitem,Min(I.Date) AS Date  from Inwards_Master I where Tendercode=1 group by Nameofitem) I ON I.Nameofitem= P.ResourceName 
    LEFT JOIN(select sum(s.qty) AS TotalOutQty,Nameofitem, Min(S.Date) AS Date  from Outwards_Master S where Tendercode=1 group by s.Nameofitem) S ON I.Date=S.Date AND I.Nameofitem =S.Nameofitem 
WHERE P.Status=1 and P.TenderCode= 1 
```

# iphone - 如何使用sql查询获取特定项目项目的总工作时间（可能重复的外键）

> ID：14392627
> 
> 赞同：1
> 
> 时间：2013-01-18T04:57:06.623
> 
> 标签：iphone, sql, oracle, sqlite

我正在开发一个 iPhone 应用程序，使用 SQLite 作为后端

在我的应用程序中，我的数据库中有两个表，ProjectsTable，Project_Hours_Table。

![在此处输入图像描述](../Images/538ff2fd8de415cf113ff6bd262dfc30.png)

![在此处输入图像描述](../Images/b730eacda57c0c16f31d1f5ec6c80577.png)

在第一个表中，我列出了带有其 unique_id 的项目。

在第二个表中，我有项目 ID（作为外键）和相应的工作时间。

现在我的要求是获取 project_ID 和该特定项目工作时间的总和。

**如下**

```
Project_ID  Hours
1             1
2             0
3             5 (1+4)
4             11 (5+6)
5             2
6             13 (7+6)
7             3 
```

任何人都可以提供**实施查询**的建议 提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:15:53.310

```
select Project_Id, 
       sum(Hours) as Hours
  from Proj_HoursTable
group by Project_Id 
```

由于两个必填字段都在 Proj_HoursTable 中可用，因此无需加入 ProjectTable。将项目名称添加到输出将需要连接到 ProjectTable（假设项目 ID 和项目名称是 1 到 1

```
select pjt.ProjName, 
       pht.Project_Id, 
       sum(pht.Hours) as Hours
  from Proj_HoursTable pht join ProjectsTable pjt
    on pjt.Proj_Id = pht.Project_Id
group by pht.Project_Id, pjt.ProjName 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:14:20.957

首先，您需要显示`Proj_Id`特定项目（您想要显示总小时数）并将其存储在**变量中。**

然后在为此编写查询之后

```
select * from Project_Hours_Table  where Proj_Id = Proj_Id 
```

此查询返回`Proj_Id`您需要的所有特定数据。并将其数据存储到`NSMutableDictionary`，在您需要通过字典获取**Hour字段的值之后**`key @"hour"`

您将此值返回为`NSSting`，您需要将其转换`intValue`为

```
int hourCount = [StringHourValue intValue];

and count it it will give you total number of Hour 
```

# asp.net-mvc-3 - 为什么单击事件在 KendoUI Grid 中不起作用

> ID：14392635
> 
> 赞同：0
> 
> 时间：2013-01-18T04:58:00.677
> 
> 标签：asp.net-mvc-3, asp.net-mvc-4, kendo-ui, telerik-mvc, kendo-grid

当我单击 KendoUI 中的按钮时，单击功能不起作用，`Editfunction`即`Deletefunction`.

```
<%: Html.Kendo().Grid(gridobj)
    .Name("Grid")
    .Columns(columns =>
    {
        columns.Bound(p => p.TMovie_id).Groupable(false).Title("ID");
        columns.Bound(p => p.Name).Title("Name");
        columns.Bound(p => p.Genre).Title("Genre");
        columns.Command(command => command.Custom("Edit").Click("Editfunction"));
        columns.Command(command => command.Custom("Delete").Click("Deletefunction"));

    })
    .Groupable()
    .Pageable()
    .Sortable()
    .Scrollable()
    .Filterable()
    .DataSource(dataSource => dataSource
        .Ajax()
        .Read(read => read.Action("", ""))

    )
%>

<script type="text/javascript">
    function Editfunction(e) {
        e.alert("Inside e Hi");         
        alert("hi");
    }

    function Deletefunction(e) {
        e.alert("Inside e Hi");
        alert("hi");
    }
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T13:07:48.453

```
 columns.Command(commands =>
    {
        commands.Custom("Edit").Click("Editfunction");
        command.Custom("Delete").Click("Deletefunction");
    }) 
```

或者

```
 columns.Command(commands =>
    {
        commands.Destroy().Text("delete");
        commands.Edit().Text("edite");
    }) 
```

# data-structures - 根节点是内部节点吗？

> ID：14392639
> 
> 赞同：11
> 
> 时间：2013-01-18T04:58:28.790
> 
> 标签：data-structures, tree, binary-tree, nodes, treenode

因此，我浏览了网络，stackoverflow 中的几个问题是定义：

*   通常，内部节点是任何不是叶子的节点（没有子节点的节点）
*   非叶/非终端/内部节点 - 至少有一个度不等于 0 的子节点或后代节点
*   据我了解，它是一个不是叶子的节点。

我正要得出结论，根也是一个内部节点，但它的定义似乎有些模棱两可，如下所示：

[什么是二叉搜索树中的“内部节点”？](https://stackoverflow.com/questions/265809/what-is-an-internal-node-in-a-binary-search-tree)

*   如图所示，内部节点是位于树根和叶子之间的节点

如果我们遵循该定义，那么根节点将不会被视为内部节点。那么根节点是否是内部节点？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2014-02-15T17:44:26.263

书中的陈述：离散数学及其应用 - 罗森的第 7 版 说，

有孩子的顶点称为内部顶点。根是一个内部顶点，除非它是图中唯一的顶点，在这种情况下它是一个叶子。

支持定理：

对于任何正整数 n，如果 T 是具有 n 个内部顶点的满二叉树，则 T 有 n + 1 个叶子，总共有 2n + 1 个顶点。

情况1：

```
 O  <- 1 internal node as well as root
     / \
    O   O <- 2 Leaf Nodes 
```

案例2：平凡树

```
 O <- 0 internal vertices (no internal vertices) , this is leaf 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T11:28:29.350

恕我直言，当您谈论具有多个节点的树时，我们可以说根节点是内部节点。当只有一个节点（根节点）时，不会出现内部节点的问题。因此，我们可以空洞地说它是一个内部节点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:20:42.987

是的，根节点是一个内部节点。
[更多解释]

根节点永远不会被称为叶节点，即使它是树中唯一存在的节点。例如。如果一棵树只有一个节点，那么我们说它是一棵只有根节点的树，我们永远不会说这棵树有一个叶子节点。
由于内部节点意味着非叶节点，并且因为根节点从不被视为叶节点，所以我会说在单节点**树根节点的情况下是内部节点**。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-11-04T16:48:41.093

> *“没有子节点的节点是叶节点或外部节点。非叶节点是内部节点。”*

资料来源：“Introduction To Algorithms-3rd edition”第 1176 页，最后一行。

因此，root 也是一个内部节点，除非它是树的唯一节点。

# google-maps - Google Maps API - 慢速最大缩放服务

> ID：14392645
> 
> 赞同：3
> 
> 时间：2013-01-18T04:59:25.743
> 
> 标签：google-maps

我正在使用 Google Maps API 的 Max Zoom Service 来获取给定坐标的最大缩放级别。大多数时候它很快，每个请求只需要大约 150 毫秒。但是，有几次服务变得非常慢，大约 20 秒。

```
maxZoomService = new google.maps.MaxZoomService();
maxZoomService.getMaxZoomAtLatLng(center, function(response) {

// my process

}); 
```

你遇到过类似的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T10:41:02.353

是的，我们也遇到过同样的问题。我们正在使用 wkhtmltoimage 生成地图图像，以便使用 wkhtmltopdf 将其包含到 PDF 文件中。我们必须设置生成图像的最长时间。如果它太短，那么您通常不会下载所有地图图块来创建图像。太长了，而且对用户来说有一个非常明显的延迟（我们的 5 秒似乎是最佳的连接） 我们希望确保生成的卫星地图不超过使用 MaxZoomService 的最大缩放级别，这就是我们遇到服务问题的时候。

由于它是异步服务，理想情况下，我们等待服务报告最大缩放级别，然后再创建地图并触发正确的 .map 切片下载。

为地图设置默认的“后备”缩放以防服务非常慢并不是一个真正的选择，因为随后在从服务获取返回值时更新缩放级别将在大多数情况下导致重新加载新图块，需要更多延迟...

如果您像我们一样对特定的、可重复的位置（例如来自数据库）感兴趣，那么一种选择可能是提前缓存（存储）最大缩放级别并定期检查更新的值。

在我们的特定情况下，唯一的其他选择是允许服务特定的时间量（比如 2 秒），如果它没有响应，则回退到默认缩放。

不理想，但可以处理服务的“糟糕的头发日子”......

# sql-server - Sql Server：如何在like子句中搜索文字百分比字符

> ID：14392646
> 
> 赞同：0
> 
> 时间：2013-01-18T04:59:38.040
> 
> 标签：sql-server, hibernate, escaping, criteria

我正在使用带有 sql server 2000 的 Hibernate Criteria。我想使用该`like`方法从数据库中获取文字记录`%`。可以这样做吗？例子：

表base_target_unit：

```
id                                      code           name
8a91b32c3be0a5fe013c03cdb37f0002    13010410    户
8a91b32c3af8cd71013bd4fe06160044    12122609    %
8a91b32c3af8cd71013bd106e9dc002e    12122507    元/MB
402881b03a8c83ae013a8ca467f70041    12102399    亿分钟
402881b03a8c83ae013a8ca451610040    12102398    万分钟
402881b03a8c83ae013a8ca42cb3003f    12102397    万户 
```

我的sql是：

```
 select * from dbo.base_target_unit where name LIKE '%/%%' ESCAPE '/' 
```

我想得到那个名字的记录`%`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:10:25.427

使用括号。所以要寻找 88%

```
WHERE MyColumn LIKE '%88[%]%' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:11:00.323

**您可以使用两个百分号 (%%) 使用 SQL LIKE 函数转义百分号**

这告诉你更多关于如何做到这一点：

[http://msdn.microsoft.com/en-us/library/aa933232%28v=sql.80%29.aspx](http://msdn.microsoft.com/en-us/library/aa933232%28v=sql.80%29.aspx)

```
select * from dbo.base_target_unit where name LIKE '%%' ESCAPE '%' 
```

# r - 如何在R中分离直方图的两个最左边的bin

> ID：14392647
> 
> 赞同：7
> 
> 时间：2013-01-18T04:59:57.827
> 
> 标签：r, histogram

假设我需要绘制如下数据集：

```
set.seed(1)
dataset <- sample(1:7, 1000, replace=T)
hist(dataset) 
```

正如您在下图中看到的那样，与其余的垃圾箱不同，最左边的两个垃圾箱之间没有任何空间。

![在此处输入图像描述](../Images/2ddccf8a29fde79924e42b7286aadf10.png)

我尝试更改 xlim，但没有成功。基本上我希望将每个数字（1 到 7）表示为一个 bin，此外，我希望任何两个相邻的 bin 之间都有空间......谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-18T05:10:35.477

最好的方法是`breaks`手动设置参数。使用代码中的数据，

```
hist(dataset,breaks=rep(1:7,each=2)+c(-.4,.4)) 
```

给出以下情节：

![在此处输入图像描述](../Images/9eb1f8cff6fc8c582db4dbf453377ef2.png)

第一部分，`rep(1:7,each=2)`，是您希望条形以什么数字为中心。第二部分控制条的宽度；如果你把它改成`c(-.49,.49)`它们几乎会接触，如果你把它改成`c(-.3,.3)`你会得到更窄的条。如果您将其设置为，`c(-.5,.5)`则 R 会对您大喊大叫，因为您的`breaks`向量中不允许有相同的数字两次。

**为什么这行得通？**

如果你拆分中断向量，你会得到一个看起来像这样的部分：

```
> rep(1:7,each=2)
 [1] 1 1 2 2 3 3 4 4 5 5 6 6 7 7 
```

第二部分如下所示：

```
> c(-.4,.4)
 [1] -0.4  0.4 
```

当您将它们加在一起时，R 会根据需要多次循环第二个向量，使其与第一个向量一样长。所以你最终得到

```
 1-0.4  1+0.4  2-0.4  2+0.4  3-0.4  3+0.4 [etc.]
=   0.6    1.4    1.6    2.4    2.6    3.4 [etc.] 
```

因此，您有一个从 0.6 到 1.4 的条形图——以 1 为中心，宽度为 2*.4——另一个从 1.6 到 2.4 的条形图以 2 为中心，以 2*.4 为中心，依此类推。如果你有介于两者之间的数据（例如 2.5），那么直方图看起来有点傻，因为它会创建一个从 2.4 到 2.6 的条形图，并且条形图的宽度不会是均匀的（因为那个条形图只有 0.2 宽，而其他都是 0.8)。但是只有整数值不是问题。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-01-18T05:10:25.277

你需要六根而不是七根；这就是你的直方图有空间的地方。但是你最终会生成七个条形图。那是错误。

做样本（1：6，1000，替换=T）而不是样本（1：7，1000，替换=T）

如果您确实需要七个条形图，则以 0 为种子

# c#-4.0 - 在导航到该类之前从不同的类设置布尔值

> ID：14392654
> 
> 赞同：0
> 
> 时间：2013-01-18T05:01:01.873
> 
> 标签：c#-4.0

我试图在用户通过身份验证后将值设置为 true，以便他们可以在身份验证后使用该页面。当我将值设置为 true 并将它们重定向到同一页面时，该值再次为 false。我确定它与类的不同实例有关，但我不知道如何修复它。

这是设置值的类：

```
if (IsUserAuthorized())
    {
        Admin admin = new Admin
                          {
                              IsAuthorized = true
                          };
        Response.Redirect("~/Admin.aspx");
    }
    else
    {
        LblErrorMessage.Text = "Please check your \"User Name\" or \"Password\" and try again.";
    } 
```

这是需要知道值的类：

```
public partial class Admin : System.Web.UI.Page
    {
        public bool IsAuthorized { get; set; }

        protected void Page_Load(object sender, EventArgs e)
        {
            if (IsAuthorized)
            {//Do something}            }
            else
            {
                Response.Redirect("~/UserAuthentication.aspx");
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:06:50.567

类不会在页面之间持续存在。您需要的是以下两个之一

1.  将登录状态存储在 cookie 中。这就是大多数网站的做法。这就是例如在电子邮件客户端上您可以导航到各个页面但仍保持登录状态的方式。
2.  将登录状态存储为会话变量。您的登录变量（真/假）驻留在会话中。

# c - sched_setaffinity linux中的cpu亲和力

> ID：14392656
> 
> 赞同：6
> 
> 时间：2013-01-18T05:01:05.637
> 
> 标签：c, linux, cpu

我在 Linux 中进行了 sched_setaffinity 测试，在具有 1 个套接字、4 个内核的服务器中，以下 /proc/cpuinfo 显示了 cpu 信息：

```
processor       : 0
model name      : Intel(R) Core(TM)2 Quad CPU    Q8400  @ 2.66GHz
cache size      : 2048 KB
physical id     : 0
siblings        : 4
cpu cores       : 4

processor       : 1
model name      : Intel(R) Core(TM)2 Quad CPU    Q8400  @ 2.66GHz
cache size      : 2048 KB
physical id     : 0
siblings        : 4
cpu cores       : 4

processor       : 2
model name      : Intel(R) Core(TM)2 Quad CPU    Q8400  @ 2.66GHz
cache size      : 2048 KB
physical id     : 0
siblings        : 4
cpu cores       : 4

processor       : 3
model name      : Intel(R) Core(TM)2 Quad CPU    Q8400  @ 2.66GHz
cache size      : 2048 KB
physical id     : 0
siblings        : 4
cpu cores       : 4 
```

我有一个简单的测试应用程序：

```
struct foo {
    int x;
    int y;
}  ;

//globar var
volatile struct foo fvar ;

pid_t gettid( void )
{
    return syscall( __NR_gettid );
}

void *test_func0(void *arg)
{
    int proc_num = (int)(long)arg;
    cpu_set_t set;

    CPU_ZERO( &set );
    CPU_SET( proc_num, &set );
    printf("proc_num=(%d)\n",proc_num) ;
    if (sched_setaffinity( gettid(), sizeof( cpu_set_t ), &set ))
    {
        perror( "sched_setaffinity" );
        return NULL;
    }

    int i=0;
    for(i=0;i<1000000000;++i){
        __sync_fetch_and_add(&fvar.x,1);
    }
    return NULL;
} //test_func0 
```

编译：gcc testsync.c -D_GNU_SOURCE -lpthread -o testsync.exe 下面是测试结果：

```
2 threads running test_func0 in core 0,1  take 35 secs ;
2 threads running test_func0 in core 0,2  take 55 secs ;
2 threads running test_func0 in core 0,3  take 55 secs ;
2 threads running test_func0 in core 1,2  take 55 secs ;
2 threads running test_func0 in core 1,3  take 55 secs ;
2 threads running test_func0 in core 2,3  take 35 secs ; 
```

我想知道为什么在 core (0,1) 或 core(2,3) 中运行的 2 个线程在其他线程中会快得多？如果我在同一个核心上运行 2 个线程，比如 core(1,1) ， core(2,2),core(3,3) ，那将需要 28 秒，也很困惑为什么会这样？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-18T05:49:56.513

核心 0 和 1 共享 L2 缓存，核心 2 和 3 也是如此。在共享缓存的两个核心上运行使共享变量保留在 L2 缓存中，这使事情变得更快。

在当今的英特尔处理器中，情况并非如此，其中 L2 是每个内核。但是在您使用的 CPU 上，它是这样工作的（它实际上是通过将两个双核 CPU 粘合在一起制成的四核 CPU）。

# python - 从列表项中删除“\n”

> ID：14392662
> 
> 赞同：0
> 
> 时间：2013-01-18T05:01:54.117
> 
> 标签：python, list, python-3.2

我有一个列表，最后一个列表项有一个`\n`我不想要的。

```
print(list)
[somebody,please,help\n]   #what I have

print(list)
[somebody,please,help]      #desired list 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:22:07.837

我认为你的问题是这样[的](https://stackoverflow.com/questions/275018/how-can-i-remove-chomp-a-newline-in-python)。

作为答案：

```
list[-1] = list[-1].rstrip('\n') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:08:02.677

您可以使用 strip 函数从字符串末尾删除任何空白字符，例如：

```
str = str.strip() 
```

所以在打印之前，剥离字符串。也许您可以将剥离的字符串保存在一个新列表中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:34:04.157

str.strip() 将删除字符串末尾的空白字符。不要忘记 strip() 返回一个需要分配的新字符串......你可能想要。

```
for element in list:
    element = element.strip() 
```

# android - 为什么直接运营商代扣不适用于某些运营商的 Google Play 应用内订阅购买？

> ID：14392664
> 
> 赞同：4
> 
> 时间：2013-01-18T05:02:33.990
> 
> 标签：android, in-app-purchase, in-app-billing, subscription, google-checkout

我已经[使用 Google Play Billing API V2 实现了应用内订阅](http://developer.android.com/google/play/billing/v2/billing_subscriptions.html)。使用信用卡测试已成功。

不过，我确实对使用 Direct Carrier Billing 进行的购买有疑问。

这是我所拥有的（仅与美国运营商进行测试）：

*   AT&T - 完美运行
*   Verizon - 完美运行。
*   Sprint - 收到错误消息“直接运营商计费不可用 (IAI)。
*   T-mobile - 截至 2013 年 5 月 21 日完美运行。

有趣的是，使用运营商计费购买**常规应用**似乎可行，问题仅在于购买**应用内订阅**。

排除了所有配置等问题，因为错误在 Google Wallet GUI 内发生一次（点击接受按钮后），并且它在 AT&T 100% 的时间内确实有效。

任何人都知道 DCB 和 IAB 在 T-mobile 和 Sprint 上的订阅情况吗？

**2014 年 4 月 20 日更新**：看起来问题出在运营商方面。[IAB v3](http://developer.android.com/google/play/billing/billing_subscriptions.html)似乎也可以工作。您的里程可能因其他运营商而异。

**2014 年 5 月 27 日更新**：看起来 Google 已将 US Cellular 添加到列表中，并且它适用于 IAB V3。

# bash - 无法通过命令行打开图形应用程序？

> ID：14392669
> 
> 赞同：0
> 
> 时间：2013-01-18T05:03:09.183
> 
> 标签：bash, fedora

我无法通过终端在 linux 中打开图形应用程序（在本例中为 Sublime Text 2）。我正在使用 Fedora 17。对于我尝试通过命令行打开的其他图形应用程序，我也收到此错误。

```
[root@computer djproject]# sublime settings.py
No protocol specified

(sublime:4202): Gtk-WARNING **: cannot open display: :0 
```

此外，当我尝试这样做时，我会遇到相同类型的错误：

```
sudo sublime 
```

请注意，在上面的命令中，我以没有 root 访问权限的普通用户身份登录。'sublime' 也映射到 Sublime Text 2，我之前在其他场景中测试过，所以这不是问题。另外，我已将此特定用户设置为有效的*sudoer*，并且 sudo 命令也适用于其他情况。

在研究这个问题[时，我遇到了许多没有明确解决方案的类似案例。以下链接有一个有类似问题的用户](https://superuser.com/questions/310197/how-do-i-fix-a-cannot-open-display-error-when-opening-an-x-program-after-sshi)（尽管在 Ubuntu 上使用 ssh，而不是在我的情况下使用本地和 Fedora）。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-24T19:36:45.060

我花了很多时间试图解决这个问题，并在找到修复程序时遇到了这个线程。我的问题只是我在 byobu 会话中运行我的命令。我打开了一个新的终端选项卡并成功运行了相同的命令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-23T13:56:39.587

我实际上需要这个（使用不同的用户从 CLI 运行 X 应用程序），有效的解决方法是 SSH -X：

user1 拥有 X
user2 是第二个想要从 CLI 运行 X 程序的用户，在这个例子中，eclipse ide

```
user1:~$ ssh -X user2@localhost
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is 
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'localhost' (ECDSA) to the list of known hosts.
user2@localhost's password: 
Welcome to Ubuntu 14.04.1 LTS (GNU/Linux 3.13.0-44-generic x86_64)

user2:~$ 
user2:~$ /opt/eclipse/eclipse 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T11:16:39.683

由于`DISPLAY`正在定义，这可能是权限问题。你是如何开始 X 的？（据我所知，X 通常是由 root 启动的，当您登录时，您被授予访问权限，这样就不会发生这些问题，除非您使用`sudo`的帐户与您登录 X 时使用的帐户不同。）

您需要提供正确的“cookie”文件来访问会话（仅仅作为 root 是不够的）。对于用户来说，这通常是`~/.Xauthority`，所以执行`xauth merge /home/<user>/.Xauthority`应该可以解决问题。

或者你试过`gksu`吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-12-20T18:34:23.157

我知道这是 5 年前的帖子，但我花了很多时间来解决安装**Pixar Renderman 的**此类问题。然后我喜欢发送我的解决方案，也许**可以帮助其他人**

问题是因为这个“sudoer（here `root`）无法访问图形空间”。（我不知道总是或有时。我在 Ubuntu 16.04 上遇到了这个问题）

执行以下操作解决了我的问题：

首先，`Terminal`以图形用户身份启动，++`Alt`然后 ，执行这些行`Ctrl``T`

```
$ unset XAUTHORITY
$ xhost add $DISPLAY . 123f
$ xhost +local:all
$ sudo xclock # or any graphical program needs sudoer 
```

让我知道你的反馈

# c# - Windows Phone 8 是否支持 MDM？

> ID：14392670
> 
> 赞同：1
> 
> 时间：2013-01-18T05:03:12.870
> 
> 标签：c#, windows-phone-8, windows-phone

1.  如何启动为 Windows Phone 8 设置的 MDM 服务器？

2.  wp8中是否有安装企业（不在商店）应用程序的api？

3.  我们必须为 DM 客户端服务器获取证书策略并注册凭据吗？

4.  是否有用于远程锁定、擦除和设置密码的 API？

谢谢

# asp.net-web-api - ASP.NET WebAPI OData - 继承自 EntitySetController<> 但使用 Get(ODataQueryOptions options) 而不是 [Queryable]Get()

> ID：14392677
> 
> 赞同：6
> 
> 时间：2013-01-18T05:03:40.833
> 
> 标签：asp.net-web-api, odata

我正在使用 ASP.Net WebAPI nightly build (2013-01-16) 来获得最新的 OData 支持。

正如[MSDN OData 0.2.0-alpha 发布帖子上的 Meta-Me 博客](http://blogs.msdn.com/b/alexj/archive/2012/11/02/odata-in-webapi-microsoft-asp-net-web-api-odata-0-2-0-alpha-release.aspx)所说，现在`EntitySetController<T>`可以从中派生出 OData 控制器，以消除很多痛苦和管道代码。

该类将`EntitySetController<T>`Get() 实现为

```
[Queryable]
public virtual IQueryable<TEntity> Get()
{
    throw EntitySetControllerHelpers.GetNotImplementedResponse(Request);
} 
```

我想利用`Get(ODataQueryOptions options)`ASP.Net Web API OData 支持提供的更具体的方法。

我把它编码为

```
public IEnumerable<Patient> Get(ODataQueryOptions options)
{
    IQueryable patients = entities.Patients;

    if (options.Filter != null)
    {
        patients = options.Filter.ApplyTo(patients, new ODataQuerySettings());
    }

    return (patients as IQueryable<Patient>).AsEnumerable();
} 
```

（我也有这个 return IQueryable<> 并看到其他人谈论 ODataResult - 这是我目前无法发现的类型）。

但是，如果我尝试在我自己的控制器中使用基于 ODataQueryOptions 的 Get 方法，我会收到一条错误消息，说明与请求匹配的多个操作。具体来说，该错误是

```
Multiple actions were found that match the request: 

System.Collections.Generic.IEnumerable`1[Dox.Server.Model.Patient] Get(System.Web.Http.OData.Query.ODataQueryOptions) on type Dox.Server.Web.Controllers.PatientController

System.Linq.IQueryable`1[Dox.Server.Model.Patient] Get() on type System.Web.Http.OData.EntitySetController`2[[Dox.Server.Model.Patient, Dox.Server.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Guid, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]] 
```

我认为这是由于路由解析器（对不起，如果这是糟糕的 ASP.NET 路由术语）在控制器的基类以及控制器类本身上看到 Get() 或 Get(...)。

问题： a) 有没有办法调整路线来解决这个问题？b）如果不是，我应该制作自己的版本`EntitySetController<T>`并换掉它的 Get() 方法吗？

Application_Start() 调用的配置仅限于

```
public static void EnableOData( HttpConfiguration config )
{
    var model = BuildModelImplicitly(config);

    //As per LinqPad forum: http://forum.linqpad.net/discussion/178/odata-v3-not-working
    IEdmEntityContainer container = model.EntityContainers().First();
    model.SetIsDefaultEntityContainer(container, true);

    //config.EnableOData(model, "api");
    config.Routes.MapODataRoute("OData", "api", model);

    //config.EnableSystemDiagnosticsTracing();

} 
```

没有调用其他配置来处理路由或处理程序等。请注意，根据[此](http://aspnetwebstack.codeplex.com/discussions/428340)CodePlex 讨论，最新的夜间构建中不再存在 HttpConfiguration 上的 EnableOData() 方法。

非常感谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-18T05:45:50.443

很高兴看到您正在使用我们的夜间版本 :)

您收到多个匹配操作错误的原因是 EntitySetController 已经定义了一个 Get 方法。好消息是 EntitySetController 还定义了一个`QueryOptions`属性，您可以使用它来检索查询选项。因此，您应该能够覆盖 EntitySetController 的 Get 方法并使用查询选项属性而不是参数。它的行为方式应该与您将查询选项绑定到操作参数的方式完全相同。

# db2 - 如何更改默认密码

> ID：14392685
> 
> 赞同：1
> 
> 时间：2013-01-18T05:04:38.043
> 
> 标签：db2, db2-400, db2-connect, db2-luw

我们在 PCI 扫描中收到“IBM DB2 通用数据库已知默认密码漏洞”警报。要解决这个问题，我们应该更改 DB2 默认密码。

DBA的任何人都可以帮助我们吗？

有关这方面的更多信息，请参阅[http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2001-0051](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2001-0051)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T05:15:25.273

DB2 不存储用户身份验证凭证，而是使用外部系统进行身份验证 - DB2 For Linux, Unix, Windows (LUW) 默认使用底层操作系统进行身份验证。

如果您安装了 Linux，请通过 SSH 连接到机器并检查操作系统中是否存在“db2inst1”用户。`sudo passwd db2inst`如果是这样，只需在 OS shell 中更改其密码 ( )。当然这只是默认用户名，您的实际可能会有所不同（但在 Linux 上它将与 DB2 实例名称相同，因此会发出扫描仪的警告）。

“使用底层操作系统进行身份验证”也是 Windows 机器上的默认设置，但 db2 sysadmin 用户名可能与实例名不同。

# php - 如何在magento中使用会话数组

> ID：14392686
> 
> 赞同：1
> 
> 时间：2013-01-18T05:04:54.707
> 
> 标签：php, arrays, magento, session

我是 magento 的新手。我的产品有模型类型和模型版本。我想将模型类型和版本传递给购物车页面和结帐页面。我已经在会话中存储了模型类型和版本。当多个产品添加到购物车时，所有产品都显示相同的型号和型号版本是一个问题，所以请帮忙。会话数组可以解决这个问题吗？我该怎么做？这是我的代码

存储会话

```
 Mage::getSingleton('core/session')->setMyModelTypeData($myData);
  Mage::getSingleton('core/session')->setMyModelVersionData($myDataver); 
```

从会话中检索数据

```
$myData = Mage::getSingleton('core/session')->getMyModelTypeData();
 $myDataver = Mage::getSingleton('core/session')->getMyModelVersionData(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:10:03.633

你可以这样做

```
<?php

$storage = array('a'=>'b');

// store data so we can fetch it in subtotal methods
Mage::getSingleton('core/session')->setRbanhShipping(serialize($storage));

// get data
$rbanhShipping = Mage::getSingleton('core/session')->getRbanhShipping(); 
$rbanhShipping = unserialize($rbanhShipping); 
```

* * *

**好读**

[如何在 magento 会话中保存数组？](https://stackoverflow.com/questions/5377776/how-do-i-save-array-in-magento-session)

# mysql - 插入时如何将一个数字连接到另一个数字

> ID：14392689
> 
> 赞同：3
> 
> 时间：2013-01-18T05:05:18.197
> 
> 标签：mysql, sql, sql-update, string-concatenation

我试图在插入语句中将一个数字连接到一个 max+1 数字，但我有点卡住了。我的桌子是这样的：

```
CREATE TABLE `articles` (
    `artcId` INT(10) NOT NULL AUTO_INCREMENT,
    `artcUserId` INT(10) NOT NULL DEFAULT '0',
    `artcStackId` INT(10) NOT NULL DEFAULT '0',
    `artcPublicId` INT(10) ZEROFILL NOT NULL DEFAULT '0',
    `artcCountry` VARCHAR(2) NULL DEFAULT NULL,
    `artcTitle` VARCHAR(200) NULL DEFAULT NULL,
    PRIMARY KEY (`artcUserId`, `artcId`)
)
COLLATE='utf8_general_ci'
ENGINE=MyISAM; 
```

我现在的sql是这样的：

```
insert into articles (artcUserId, artcStackId, artcCountry, artcTitle)
select 4,IFNULL((MAX(artcStackId)+1) ,0),'US','Hello World'
FROM articles; 
```

我要做的是，将一个数字连接到新的 artcStackId 并将其保存到数据库中。但我被困住了。请参阅第二张图片 artcPublicId。

```
 insert into articles (artcUserId, artcStackId, artcCountry, artcTitle)
    select 2,IFNULL((MAX(artcStackId)+1) ,0),

    case when new.artcCountry = 'US' then conact(91, -- the new artcStackId goes here --)
         when new.artcCountry = 'UK' then conact(92, -- the new artcStackId goes here --)
         when new.artcCountry = 'CA' then conact(93, -- the new artcStackId goes here --)
    end

,'UK','Hello World'
FROM articles;
select * from articles; 
```

知道如何做到这一点吗？artcPublicId 是 91 或 92 或 93，具体取决于国家和新的 artcStackId

![当前结果](../Images/0a10252e443e173a250bef4dce257b5d.png) ![期望的结果](../Images/57a7f3cf8b5c4e5a4a177aa9079a987e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:25:39.987

1.  最好将 artcPublicId 设为 varchar，这样更容易连接

2.  如果您知道 91/92/93 之后您想离开的位数位置，您可以尝试类似

    (91 * 10000 + artcStackId)

3.  您可以转换为 instring 并再次返回，例如

    cast('910000' + cast(artcStackId as varchar), int(10))

希望其中之一有帮助

# c# - Silverlight 4 应用程序中的分页集合视图编辑项

> ID：14392690
> 
> 赞同：0
> 
> 时间：2013-01-18T05:05:19.857
> 
> 标签：c#, data-binding, mvvm, silverlight-4.0, pagedcollectionview

如何在 Silverlight 4 应用程序中为 pagedcollectionview 使用 EditItem 方法..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T14:00:44.043

看看这里的解决方案。[http://social.msdn.microsoft.com/Forums/en-US/silverlightwcf/thread/e7e40e1b-3bcb-450e-817b-d5def0d7ddd2/](http://social.msdn.microsoft.com/Forums/en-US/silverlightwcf/thread/e7e40e1b-3bcb-450e-817b-d5def0d7ddd2/)

# c++ - 如何在一个控制台中处理不同的输入/输出？

> ID：14392692
> 
> 赞同：1
> 
> 时间：2013-01-18T05:05:29.617
> 
> 标签：c++, windows, console

我正在使用 c++ 开发一个 Windows 服务器程序，当程序启动时它会停留几天并将重要的日志输出到默认的 Windows 控制台。现在我想在控制台中添加一些控制功能，比如我可以输入查询或停止之类的内容，然后程序输出变量号或停止接受请求。所以出现了问题，我在一个控制台中混合了两个输出流（日志和查询响应）和一个输入流。如何在一个控制台中分离三个不同的流？也许我可以编写自己的控制台来替换默认的 Windows 控制台？

我相信这是一个非常正常的需求，很多服务器应用程序已经实现了这个，但我找不到任何源代码......

我知道我可以使用 ncurses，但我认为 ncurses 似乎太低级了。任何建议都会受到赞赏。

# html - 将数组输出到 HTML 文件

> ID：14392693
> 
> 赞同：0
> 
> 时间：2013-01-18T05:06:02.487
> 
> 标签：html, powershell

我得到了一个可以修改的 PowerShell 脚本。此脚本检查 SharePoint Web 应用程序中的损坏链接并报告它发现的任何损坏链接。目前，脚本将结果输出到文本文件。

**代码：**

```
$results | Out-File report.txt 
```

**结果格式：**

> 链接列表名称 - 项目 ID - URL + URL 名称 - HTTP 状态代码 - URL

**结果：**

> 链接列表 1 - 1 - [http://google.com](http://google.com)，谷歌（好） - 200 - [http://google.com](http://google.com)

* * *

但是，当我尝试使用该`ConvertTo-HTML`功能时，我会得到不同的输出：

**代码：**

```
$results | ConvertTo-Html | Out-File report.html 
```

**结果：**

> 76

因此，我收到的不是一串文本，而是它的长度。

我在这里做错了什么？

**笔记：**

*   `results`是一个数组。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:19:51.043

`Convertto-Html`不打算这样使用，来自帮助：

将 Microsoft .NET Framework 对象转换为可在 Web 浏览器中显示的 HTML。您需要将一个对象（由命令产生）发送到此 cmdlet，而不仅仅是一堆文本。请参阅：Get-Help Convertto-Html -Examples

这是一种做你想做的事的方法：

```
$results | ForEach-Object {Add-Member -InputObject $_ -Type NoteProperty -Name Value -Value $_; $_} | ConvertTo-Html -Property Value 
```

# python - Django：如何为允许多个文件上传的字段编写一个干净的方法？

> ID：14392700
> 
> 赞同：3
> 
> 时间：2013-01-18T05:06:53.047
> 
> 标签：python, django, forms, django-forms, form-fields

我有一个上传图片的表格。

如果我遵循 Django 的标准来[清理表单的特定字段属性，](https://docs.djangoproject.com/en/dev/ref/forms/validation/#cleaning-a-specific-field-attribute)那么我的清理方法通常看起来像这样：

```
class UploadImagesForm(forms.Form):
    image = forms.FileField()

    def clean_image(self):
        file = self.cleaned_data['image']
        if file:
            if file._size > 15*1024*1024:
                raise forms.ValidationError("Image file is too large ( > 15mb ).")
            return file
        else:
            raise forms.ValidationError("Could not read the uploaded file.") 
```

**但是，我使用的表单允许一次上传多个图像，全部通过同一个小部件（即，用户可以按住 Shift 键并单击以在文件浏览器上选择多个文件）**。因此，每当我需要访问视图或处理程序中的文件时，我都会使用类似于`request.FILES.getlist('images')`for 循环的东西。我到底如何为这个领域写一个干净的方法？我迷路了。

这是我的表格的样子。

```
class UploadImagesForm(forms.Form):
    images = forms.FileField(widget=forms.ClearableFileInput(attrs={'multiple': 'multiple'})) 
```

我希望该字段的 clean 方法来检查*每个提交*的文件的文件大小，如上面的第一个代码块所示。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-18T05:42:59.010

使用`self.files.getlist('images')`in`clean`方法迭代多个图像：

```
def clean_images(self):
    files = self.files.getlist('images')
    for file in files:
        if file:
            if file._size > 15*1024*1024:
                raise forms.ValidationError("Image file is too large ( > 15mb ).")
        else:
            raise forms.ValidationError("Could not read the uploaded file.")
    return files 
```

# c - 为什么将指针的地址传递给C中的函数

> ID：14392701
> 
> 赞同：3
> 
> 时间：2013-01-18T05:06:53.330
> 
> 标签：c, pointers

我遇到了像 strtok_s 这样的函数，您需要将指针传递给指针参数。

```
strtok_r(char *restrict str, const char *restrict sep, char **restrict lasts); 
```

使用方法是：

```
char *foo;
char *str = ...;
char *delimiter = ...;
strtok_r(str, delimiter, &foo); 
```

想知道为什么将指针 foo 的地址传递给函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:09:30.487

这样就`strtok`可以从中断的地方继续。此版本`strtok`是线程安全的（因为它使用您提供的指针，而不是其他版本的内部指针）。

它将最后读取的令牌的地址保存在 a 中`char *`，因此您需要将指针传递给该指针，以便它可以更改值并将其返回给您。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:12:35.323

因为`strtok`is 时不可重入`strok_r`。这意味着您不能安全地从多个线程调用它。为了解决这个问题，函数有必要将其状态存储在某处，这可以通过将指针传递给指针来完成，以便 strok_r 能够修改作为参数传递的指针（这是另一个指针）的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:10:03.540

该函数`strtok_r(str, delimiter, &foo)`将其输出放入`foo`并需要一个指向它的指针，以便不只是替换（复制的）输入对象。

# c++ - 序列化和反序列化套接字中的结构

> ID：14392715
> 
> 赞同：1
> 
> 时间：2013-01-18T05:08:07.147
> 
> 标签：c++, sockets, serialization, client-server, deserialization

我有一个 Struct 通过套接字发送给客户端。客户端和服务器都在同一个架构上，所以不存在字节序问题。我正确接收 int 值。但无法正确接收 char[] 值。这是结构。

```
struct Packet {
int id;
int number;
char data[256];
}; 
```

在服务器端，我序列化数据并写入客户端。

```
struct Packet *s = new Packet();
s->id= htonl(1000);
s->number= htonl(7788);
memcpy(s->data, "MESSAGE", 7);

n =  write(NewSockFD , s ,sizeof(s) ); 
```

在客户端我反序列化数据。

```
n = read(SockFD , Buffer , sizeof(Buffer));
struct Packet *s = (struct Packet*)Buffer;
char b[256];
int i = ntohl(s->id);
int j = ntohl(s->number);
memcpy(b, s->data, sizeof(s)); 
```

我正确收到了 id 和 number 值。问题在于数据值。我在这里做错了什么？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:11:53.113

在您的代码中，您使用`sizeof(s)`. 这将是 a 的大小`Packet*`，而不是 a `Packet`。将其替换为`sizeof(*s)`以获得正确的尺寸。

此外，由于 的值`data`并未全部初始化，因此通过读取它会导致未定义的行为。您需要以一种或另一种方式初始化所有元素（最短的方法是`char data[256] { };`在结构定义中进行）。

此外，由于这是 C++，你不需要说`struct Packet`，你可以说只是`Packet`，除非你还有一个名为`Packet`. 但它只出现在你的代码中，这意味着你没有，所以你可以放弃它。

正如 Chris G 所提到的，在你修复它之后你还有另一个问题，那就是你将一个整体复制`Packet`到一个`char[]`只有大到足以容纳一个`Packet`'s 的`data`. 改变

```
memcpy(b, s->data, sizeof(s)) 
```

至

```
memcpy(b, s->data, sizeof(s->data)) 
```

并意识到`data`如果发件人没有为您执行此操作（您可能需要采取预防措施），这可能不会被终止。

# google-bigquery - 大查询中的响应太大

> ID：14392717
> 
> 赞同：0
> 
> 时间：2013-01-18T05:08:21.360
> 
> 标签：google-bigquery

我无法通过查询来运行该组。

```
select phone_number, count(*) as cnt from Jan1013.abcd4 group by phone_number having cnt > 1 
```

我收到一个错误提示...

```
Error: Response too large to return. 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:01:59.470

BigQuery 将每个查询的工作分布在许多不同的节点上。如果任何一个节点的响应大小超过某个阈值，则会发生“响应太大”错误。如果您尝试对具有太多不同值的字段执行 GROUP BY，则每个单独的节点将需要计算一个巨大的响应行列表，并最终会因此错误而失败。

解决该问题的一种方法是使用 GROUP EACH BY，它通过组键的值将记录分配给节点，从而减少每个节点需要考虑的不同值的数量。

另一种方法是调整您的查询，以便您考虑更少的不同值，可能通过添加一个选择 phone_number 值子集的 WHERE 子句。

另请参阅： [过滤查询会导致“响应过大”错误](https://stackoverflow.com/questions/13434915/filtering-a-query-causes-response-too-large-error/13484161#13484161)

# windows-phone-7 - 如何在winRT中为动态创建的图像设置相同的动画？

> ID：14392720
> 
> 赞同：1
> 
> 时间：2013-01-18T05:08:28.570
> 
> 标签：windows-phone-7, windows-runtime

我有一组在 for 循环中动态生成的图像。我的目标是为所有这些相同的图像添加相同的故事板动画。我创建了动画，但是在 for 循环中应用它时，它只能一个接一个地应用，因为根动画必须先停止。我怎样才能做到这一点？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T16:41:57.490

您只能使用具有单个目标的动画，因此您需要复制动画以将其应用于多个目标。一种选择是每次都在代码中创建故事板。另一种是将情节提要放在 DataTemplate 中，并为每个 Image 单独加载。然后，您还可以将 Image 控件和 Storyboard 放在 UserControl 中，并为每个图像使用该 UserControl（通过 DataTemplate 或任何其他方式）。

# playframework - 如何更新 Play framework 2 和 ebean 中的多对多关系？

> ID：14392728
> 
> 赞同：1
> 
> 时间：2013-01-18T05:09:33.447
> 
> 标签：playframework, many-to-many, playframework-2.0, updating, ebean

如何更新 Play 框架 2 和 ebean 中的多对多关系？我不断收到这样的错误：

```
[PersistenceException: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "pk_field_event" Detail: Key (field_id, event_id)=(3, 21) already exists.] 
```

我正在尝试使用表单选择哪些字段属于事件。我提交了一个包含字段列表的表单。id 属性是唯一填充的属性。然后我执行以下操作：

```
Event event = Event.find(eventId);
event.fields = fieldsForm.get().fields;
event.update(); 
```

我还尝试从数据库加载每个字段，将事件添加到其中，然后在该字段上调用 ​​update()。

这是我的课程：

注意：为简单起见，我删除了 Entity 和 Id 注释。

```
public class Event {
    @ManyToMany(cascade = CascadeType.ALL, mappedBy = "events")
        public List<Field> fields;
    }
}

public class Field {
    @ManyToMany(cascade = CascadeType.ALL)
    public List<Event> events;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:59:52.970

我不确定这是否是正确的方法，但它似乎可以解决问题。我只需要打电话`updateFields()`：

```
public static void removeField(Long eventId, Long fieldId) {
    Event event = Event.find.setId(eventId).fetch("fields").findUnique();
    event.fields.remove(Field.find.ref(String.valueOf(fieldId)));
    event.saveManyToManyAssociations("fields");
}

public static void updateFields(Long eventId, List<Field> fields) {
    Event event = find.setId(eventId).fetch("fields").findUnique();

    for(Field field : event.fields) {
        removeField(eventId, field.id);
    }
    for (Field field : fields) {
        if (field.id != null) {
            event.fields.add(Field.find.ref(String.valueOf(field.id)));
        }
    }
    event.saveManyToManyAssociations("fields");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-14T08:16:48.540

我有类似的问题。代替：

```
Event event = Event.find(eventId);
event.fields = fieldsForm.get().fields;
event.update(); 
```

我愿意

```
Event event = Event.find(eventId);
event.fields.clear();
event.fields.addAll(fieldsForm.get().fields);
event.update(); 
```

这就是诀窍。但是我仍在寻找更好的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-22T22:22:25.343

我把丹尼斯的解决方案放在一个通用函数中：

```
public static <T> void replaceItems(Function0<List<? super T>> fn,
                                    Collection<? extends T> newItems) {
    List<? super T> oldItems = fn.apply();
    oldItems.clear();
    oldItems.addAll(newItems);
} 
```

像这样使用它：

```
replaceItems(event::fields, formFields.get().fields); 
```

我传递了一个函数来帮助确保您以正确的顺序放置参数。此解决方案需要 Java 8+。

# drupal - 如何更改 Drupal 视图输出

> ID：14392730
> 
> 赞同：1
> 
> 时间：2013-01-18T05:09:42.863
> 
> 标签：drupal, drupal-7, drupal-views

我需要创建一个块，例如网站上的最新评论。使用视图时，concegui 选择我想要的数据，但问题是我需要编辑视图的输出（指定 html）。我试图制作一个 tpl，但是当他们到达这个字段时，已经格式化（[#markup]）。还尝试通过访问视野以编程方式创建一个块`$comments = views_get_view('last_opinions');`，但是这些字段不会带来内容，但是例如，ids（用于推荐）或整数（在日期的情况下），...。

基本上，如何更改视图输出？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T12:37:32.033

视图->您的视图->高级（第三面板）->主题：信息->单击信息->根据您的要求选择tpl并找到实际打印输出的$row

# java - 在没有 servlet 的情况下访问 REST Web 服务

> ID：14392733
> 
> 赞同：1
> 
> 时间：2013-01-18T05:10:03.000
> 
> 标签：java, web-services, rest

我有一个 REST Web 服务。有没有办法创建一个 Rest web 服务代理来访问 REST web 服务而不使用 servlet？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:22:59.087

[在这里](http://maxrohde.com/2011/09/02/restlet-quickstart/)你可以看到 Rest without Servlet 的详细示例。

[http://maxrohde.com/2011/09/02/restlet-quickstart/](http://maxrohde.com/2011/09/02/restlet-quickstart/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T05:41:45.550

Spring RestTemplate 可能是另一种选择

[http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-18T05:45:02.857

Java 中最流行的 JAX-RS 实现。Jersey（来自 Oracle 的参考实现）Apache CXF RESTeasy Restlet

# flash - 旋转精灵以跟随鼠标点？

> ID：14392744
> 
> 赞同：1
> 
> 时间：2013-01-18T05:10:33.277
> 
> 标签：flash, rotation, mouse, point, haxe

我正在使用 Flashdevelop 在 Haxe NME 中设计游戏。我在屏幕上有一个对象，我希望它随着鼠标移动而旋转以跟随鼠标。我让对象以与鼠标相同的速度旋转，但它并不指向鼠标。就像我的鼠标移动时屏幕上有一个幻影鼠标一样移动。

这是每当鼠标改变位置时调用的代码：

```
public function mouseProcess(e:MouseEvent) 
{
    var Xdistance:Float = e.localX - survivor.x;
    var Ydistance:Float = e.localY - survivor.y;
    survivor.rotation = Math.atan2(Ydistance, Xdistance) * 180 / Math.PI;
} 
```

`e.localX/Y`获取鼠标和幸存者的当前 x,y 位置。x/y 获取需要旋转的对象的 x,y 位置。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T13:55:49.277

我不确定这在 NME 中是否有所不同，但 Flash`Math.atan2()`给出的值从 0 开始指向左侧（负 x），而显示对象从 0 开始指向上方，那么简单地添加`+ 90`到您的角度有帮助吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T10:00:47.653

我找不到你的方法有什么问题。我（几乎）逐字使用它和以下代码来设置一个在我移动鼠标时跟踪鼠标的精灵。也许看看我写的内容，看看它是否与您拥有的代码不同。如果做不到这一点，也许会发布更多你所做的事情？

```
// Creates the sprite that will visually track the mouse.
private function CreateSurvivor() : Sprite
{
    // Create a green square with a white "turret".
    var shape = new Shape();
    shape.graphics.beginFill(0x00FF00);
    shape.graphics.drawRect(0, 0, 100, 100);
    shape.graphics.beginFill(0xFFFFFF);        
    shape.graphics.drawRect(50, 45, 50, 10);
    shape.graphics.endFill();

    // Center the square within its outer container.  Allows it to spin 
    // around its center point.
    shape.x = -50;
    shape.y = -50;

    var survivor = new Sprite();
    survivor.addChild(shape);

    return survivor;
} 
```

init 方法只是创建幸存者并将其附加到显示列表中。

```
private function init(e) 
{
    m_survivor = CreateSurvivor();
    m_survivor.x = 300;
    m_survivor.y = 200;

    addChild(m_survivor);

    stage.addEventListener(MouseEvent.MOUSE_MOVE, mouseProcess);
} 
```

最后，您的原始方法：

```
public function mouseProcess(e:MouseEvent) : Void
{
    var Xdistance:Float = e.localX - m_survivor.x;
    var Ydistance:Float = e.localY - m_survivor.y;
    m_survivor.rotation = Math.atan2(Ydistance, Xdistance) * 180 / Math.PI;
} 
```

希望这可以帮助。

# php - 未找到元素 - SQL 语句看起来不错

> ID：14392746
> 
> 赞同：0
> 
> 时间：2013-01-18T05:10:39.937
> 
> 标签：php, mysql

有人看到这行代码有什么问题吗？使用**php/mysql**

```
$sqlInsert="INSERT INTO sched_trades_proposed (id,originalDate,originalUserid,originalRot,original_sched_main_id,proposedDate,proposedUserid,proposedRot,proposed_sched_main_id,timeStampedProposal,randomHash) VALUES('','".$originalDate."',".$_SESSION[userid].",$originalRotation,$original_sched_main_id,'".$proposedDate."',$proposedRad,$proposedRotation,$proposed_sched_main_id,UNIX_TIMESTAMP(),'".$randomHash."')"; 
```

fire bug 说“没有找到元素”`jquery-1.8.2.js (line 7209, col 314)`并指向这个**`INSERT`**声明。我看不出插入语句有什么问题。我意识到火虫不在**`server`**身边。不过，我仍在尝试解决该错误。如果我注释掉这行代码，我不会收到任何错误。

周围的代码是：

```
$randomHash=sha1(rand(1,1000));
$sqlInsert="INSERT INTO sched_trades_proposed (id,originalDate,originalUserid,originalRot,original_sched_main_id,proposedDate,proposedUserid,proposedRot,proposed_sched_main_id,timeStampedProposal,randomHash) VALUES('','".$originalDate."',".$_SESSION[userid].",$originalRotation,$original_sched_main_id,'".$proposedDate."',$proposedRad,$proposedRotation,$proposed_sched_main_id,UNIX_TIMESTAMP(),'".$randomHash."')";
echo '<p>'.$sqlInsert;
$resultInsert=mysql_query($sqlInsert); 
```

当我手动将**`INSERT`**语句插入到**mySQL**中时，它没有给出任何错误......但是我在尝试浏览网页时得到了？

这是输出的 INSERT 语句中的数据示例，看起来都不错：

```
INSERT INTO sched_trades_proposed (id,originalDate,originalUserid,originalRot,original_sched_main_id,proposedDate,proposedUserid,proposedRot,proposed_sched_main_id,timeStampedProposal,randomHash) VALUES('','2013-01-10',10,7,710,'2013-01-14',3,19,723,UNIX_TIMESTAMP(),'f33f7ae89c2c6ab8e29a3cb0a97bb1f9456aacba') 
```

仅供参考：原始 id 是自动递增的，所以我插入一个 '' 作为第一列，即 kosher。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:14:07.757

Firebug 之所以这么说是因为您将其回显给客户端，并且客户端 HTML 解析因此而感到困惑。也许是因为那个回声走错了地方？移除那个回声。你为什么需要它？或者将该回声放在不会干扰您的 HTML 代码的地方。例如，也许在回声所在的位置包裹一个 div/span？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:16:35.793

INSERT 本身不返回数据或确认。如果您使用 jQuery 来显示插入的数据，则需要运行另一个 SELECT 以再次获取它。您也可以只返回插入行的主键（假设链接为 MySql，尽管[PDO 也是如此）。看到这个](http://php.net/manual/en/mysqli.insert-id.php)

# python - 在 django admin 中保留用户的选择

> ID：14392750
> 
> 赞同：1
> 
> 时间：2013-01-18T05:11:33.960
> 
> 标签：python, django, django-forms, django-admin

我想在 django 管理员中保留一个字段（在本例中为“事件”字段）的选择，这样当管理员“保存并添加另一个”时，所选值不会改变。我不确定这是否是默认的 django 行为。无论哪种方式，我都可以覆盖表单来进行一些自定义过滤/错误检查。我也不想触摸视图/模板。我最初的计划是将选定的值保存到会话中，然后在表单初始化时检索它，但我找不到将请求对象传递到 ScoreAdmin 表单的方法。

关于下一步做什么的任何建议？

到目前为止我所拥有的

```
class ScoreForm(forms.ModelForm):
def __init__(self, *args, **kwargs):

    super(ScoreForm, self).__init__(*args, **kwargs)
    self.request = kwargs.pop('request', None)

    standard_events = Event.objects.filter(event_score_type='STD')
    event_widget = self.fields['event'].widget

    choices = []
    for element in standard_events:
        choices.append((element.id, element.name))
    event_widget.choices = choices

def clean_score(self):
    print self.request.session
    print(self.cleaned_data['event'])
    selected_event = Event.objects.get(name=self.cleaned_data['event'])
    if(selected_event.max_score > selected_event.min_score):
        if self.cleaned_data['score'] < 0:
            raise forms.ValidationError("Score Cannot Be Negative")
        elif self.cleaned_data['score'] > selected_event.max_score:
            raise forms.ValidationError("Score Cannot Be Greater Than Best Possible Score of " + str(selected_event.max_score))
        elif self.cleaned_data['score'] < selected_event.min_score:
            raise forms.ValidationError("Score Cannot Be Less Than Worst Possible Score of " + str(selected_event.min_score))
        else:
            return self.cleaned_data['score']
    elif selected_event.max_score < selected_event.min_score:
        if self.cleaned_data['score'] < 0:
            raise forms.ValidationError("Score Cannot Be Negative")
        elif self.cleaned_data['score'] < selected_event.max_score:
            raise forms.ValidationError("Score Cannot Be Less Than Best Possible Score of " + str(selected_event.max_score))
        elif self.cleaned_data['score'] > selected_event.min_score:
            raise forms.ValidationError("Score Cannot Be Greater Than Worst Possible Score of " + str(selected_event.min_score))
        else:
            return self.cleaned_data['score']
    class Meta:
        model = Score

class ScoreAdmin(admin.ModelAdmin):
    form = ScoreForm
    pass 
```

截图

![我想在添加之间保留“事件”字段](../Images/071b48756a8f03380cc36aa2d34f7a7a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T21:28:46.473

如果存在会话变量，您希望覆盖表单中 Event 节点的值。类似于下面的东西，但用 if 包裹。没有模型信息很难得到太具体的信息，但这应该会给你一个大致的想法。

```
class ScoreForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
        super(ScoreForm, self).__init__(*args, **kwargs) # call the parent init
        self.initial['Event'] = self.get_my_session_var 
```

主要来自这篇文章中的信息： [How to override field value display in Django admin change form](https://stackoverflow.com/questions/11941971/how-to-override-field-value-display-in-django-admin-change-form)

# ios - 如何在 iPad 的故事书应用中进行页面卷曲

> ID：14392753
> 
> 赞同：11
> 
> 时间：2013-01-18T05:11:37.617
> 
> 标签：ios, objective-c, ipad, page-curl

我正在开发一个故事书应用程序，我想做如下视频中的页面卷曲。

[演示视频](http://www.youtube.com/watch?v=kA51BDHKTyc&feature=youtu.be)

谁能告诉我如何做到这一点。

**更新：**

我希望这个卷页器支持 iOS 4.3+。UIPageViewController 仅适用于 iOS 6。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:25:28.640

您可能要考虑`UIPageViewController`. 它在创建使用页面卷曲动画的应用程序时非常有用。这是[文档链接](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPageViewControllerClassReferenceClassRef/UIPageViewControllerClassReference.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T05:12:26.500

您可以为此使用 UIView 的动画效果。我想这应该可以帮助你

```
[UIView beginAnimations:@"Curl" context:nil];
[UIView setAnimationDuration:2.0];
[UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];
[UIView setAnimationTransition:UIViewAnimationTransitionCurlUp forView:contentView cache:YES];
[UIView commitAnimations]; 
```

其中 contentView 是您应用动画的视图。通过改变持续时间和动画曲线，您可以修改动画效果。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T12:29:31.397

有两种方法：

1.  困难的方法是自己实现所有东西（从头开始，使用图层、蒙版、变换和渐变），而且很头疼。

2.  简单的方法，`UIPageViewController`按照@Zen 的建议阅读文档。它非常有用，可为您提供所需的确切动画（如视频所示）。或者，使用一些第三方代码。

如果您没有时间限制，那么我会说，走第一种方式。你会学到很多东西。

干杯，玩得开心:)

**编辑**

以下是示例应用程序的链接：

> [https://www.dropbox.com/s/x4qo2igrzvnkj16/CurlAnimationProject.zip](https://www.dropbox.com/s/x4qo2igrzvnkj16/CurlAnimationProject.zip)

检查它并告诉我你的想法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T08:49:05.267

正如在答案中多次提到的 UIPageViewController （[苹果文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPageViewControllerClassReferenceClassRef/UIPageViewControllerClassReference.html)）是你应该看的东西。

实现相当简单，控制器使用 2 个委托

*   **数据源**：通过 2 个主要方法控制要显示的内容（您的页面）
*   **委托**：控制其行为

它实现了从页面滚动到页面的滑动手势，并且可以在视图底部提供页面控件。

对于从页面到页面的转换，您可以设置滚动动画（适合照片/投资组合类型）或您正在寻找的页面卷曲。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T05:42:46.127

您可以通过以下方式制作页面卷曲/翻转效果

**对于横向模式：**

```
[UIView beginAnimations:@"Curl" context:nil];
[UIView setAnimationDuration:2.0];
[UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];
[UIView setAnimationTransition:UIViewAnimationTransitionCurlUp forView:contentView cache:YES];
[UIView commitAnimations]; 
```

* * *

**对于纵向模式：**

```
[UIView beginAnimations:@"Curl" context:nil];
[UIView setAnimationDuration:2.0];
[UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];
[UIView setAnimationTransition:UIViewAnimationTransitionCurlLeft forView:contentView cache:YES];
[UIView commitAnimations]; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T11:28:02.110

```
SettingViewController *svc = [[SettingViewController alloc]initWithNibName:@"SettingViewController" bundle:nil];
[UIView beginAnimations:nil context:NULL];
[UIView setAnimationDuration:2];
[UIView setAnimationCurve:UIViewAnimationCurveEaseIn];
[self.navigationController pushViewController:svc animated:YES];
[UIView setAnimationTransition:UIViewAnimationTransitionCurlDown forView:self.navigationController.view cache:NO];
[UIView commitAnimations]; 
```

# html - 如何使用 Outlook 2010 命令行开关附加 HTML 文件而不将文件嵌入电子邮件本身？

> ID：14392755
> 
> 赞同：2
> 
> 时间：2013-01-18T05:11:56.950
> 
> 标签：html, windows, outlook, cmd

这是我正在使用的命令：

```
outlook.exe /c ipm.note /m sample@sample.com /a "E:\output.html" 
```

但是，当我这样做时，HTML 文件会嵌入到电子邮件中。如何单独粘贴？

（我使用的是 Microsoft Outlook 2010。）

# svn - 如何在 svn pre-commit hook 中访问标签名称

> ID：14392763
> 
> 赞同：2
> 
> 时间：2013-01-18T05:12:53.747
> 
> 标签：svn, hook, svn-hooks

我有一个无法更改的标签列表，并且想要实现一个预提交挂钩，该挂钩将检查我的列表以确保没有任何正在更改的文件位于任何不可变标签中。

看来我只能访问`pre-commit`脚本中的版本号和存储库路径。如何检查我的标签列表以查看是否有任何正在提交的文件在列出的标签之一中？基本上我需要确保任何带有`tags/TagInList/`前缀的文件的提交都将被拒绝，我将在其中运行类似：

```
 grep 'tagOnCommitFile' /path/to/tagListFile 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:35:01.253

您必须检查`svnlook dirs-changed PATH-TO-REPO`.

在您的情况下，针对修订的示例输出 - 交易

```
>svnlook dirs-changed -r 4 /Repo

branches/MyFixes/
branches/MyFixes/Data/
branches/MyFixes/NewData/ 
```

# javascript - 如何在 Tizen SDK 中处理页面之间的数据存储/传递值？

> ID：14392765
> 
> 赞同：2
> 
> 时间：2013-01-18T05:12:56.587
> 
> 标签：javascript, tizen, tizen-web-app

如何使用 javascript 在 tizen sdk 中处理 cookie 或数据存储。我正在寻找在所有其他页面中存储我的会话详细信息和要验证的身份验证详细信息的选项。

我的场景是我有一个 html/javascript 应用程序，它将通过 AJAX 联系 java servlet 以获得所有身份验证和搜索功能。在所有服务调用中，我正在检查会话和 cookie 以验证用户的登录状态。第一个页面“index.html”包含登录屏幕，并在成功验证后导航到 /WebContent 文件夹中的另一个 html 页面。我无法访问通过第一页存储的第二页中的任何信息（会话/Cookie）。

我正在寻找在第二页中访问这些值或以任何其他方式在应用程序的页面之间传递值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:15:38.023

Javascript 和 HTML 现在提供使用 localStorages 来保存名称值对数据：

```
// to store a value
window.localStorage.setItem( 'item_name', item_value);

// to retrieve a value
item_value = window.localStorage.getItem( 'item_name' );

// to delete a storage
window.localStorage.removeItem( 'item_name' ); 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T20:11:28.657

如果您创建 Web App Widget，您应该使用Tizen API 提供的[Filesystem API](https://developer.tizen.org/help/topic/org.tizen.web.device.apireference/tizen/filesystem.html)来存储数据。

如果您查看[资源面板](https://developer.tizen.org/help/index.jsp?topic=/org.tizen.web.appprogramming/web_inspector.htm)上的远程检查器帮助，它会显示：

> 资源面板允许您检查资源。您可以与包含资源的框架进行交互，例如 HTML、JavaScript、CSS、图像和字体。此外，您还可以检查**HTML5 数据库、本地存储、cookie 和应用程序缓存**。

因此，您也可以使用其中之一来存储您的数据。

您可以在您的 Web 应用程序和 cookie 中使用 jQuery，请参阅此答案中的插件：
[cookies with jQuery](https://stackoverflow.com/a/7080745/1577343)

# java-me - 如何在 J2me 中拨打电话并将 midlet 权限设置为始终允许？

> ID：14392766
> 
> 赞同：0
> 
> 时间：2013-01-18T05:12:58.457
> 
> 标签：java-me, lwuit

我想知道如何添加权限以允许 midlet 发起电话？我正在诺基亚 E72 上测试我的应用程序，我总是被要求允许该呼叫。此外，在说“是”之后，它会询问是发起视频通话还是语音通话。

我不希望我的应用请求任何许可并立即拨打电话。如果我可以获得受信任的第三方证书，是否有可能以及我必须设置哪些权限以及如何设置？

**如何在 J2me 中实现这一点？**

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T06:42:59.600

如果您在诺基亚 OVI 商店中发布您的应用程序，他们将免费签名并在他们的商店中发布。即使您的应用程序得到了诺基亚、威瑞信和 Thawte 的签名，J2ME 应用程序至少会在用户执行任何可疑操作（如 SMS、Internet 访问、呼叫等）时征求用户的许可。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T17:32:47.333

要摆脱您所描述的安全弹出窗口，您需要使用来自 Verisign 或 Thawte 的证书对您的应用程序进行签名。这将花费你每年 299 美元。（欢迎来到 J2ME）。

# actionscript-3 - AdvancedDataGridColumnGroup 单元格颜色

> ID：14392774
> 
> 赞同：0
> 
> 时间：2013-01-18T05:13:51.813
> 
> 标签：actionscript-3, apache-flex, flex3

如何指定 Flex 中 AdvancedDataGridColumnGroup 中包含的特定单元格内的文本颜色？代码在动作脚本中，文本颜色根据单元格包含的值而变化。即，如果它是负值，则必须以红色显示，否则为黑色。

请提及是否有任何解决方法！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:24:18.620

我已经用你描述的功能做了例子。希望，它会有所帮助。

```
 <mx:AdvancedDataGrid id="grid"
                             itemRenderer="MyAdvancedDataGridItemRenderer"
                             dataProvider="{dataProvider}"
                             width="200" height="100%">

            <mx:groupedColumns>
                <mx:AdvancedDataGridColumn dataField="name"/>
                <mx:AdvancedDataGridColumn dataField="score"/>
            </mx:groupedColumns>
        </mx:AdvancedDataGrid>

        <mx:Script>  
            <![CDATA[  
                import mx.collections.ArrayCollection;

                [Bindable]  
                private var dataProvider:ArrayCollection = new ArrayCollection([  
                    {name:"Name1", score:-12},   
                    {name:"Name2", score:10},   
                    {name:"Name3", score:-100},   
                ]);
            ]]>  
        </mx:Script> 
    </mx:Application> 
```

和 MyAdvancedDataGridItemRenderer.as 类：

```
package
{
    import mx.controls.advancedDataGridClasses.AdvancedDataGridItemRenderer;
    import mx.controls.advancedDataGridClasses.AdvancedDataGridListData;

    public class MyAdvancedDataGridItemRenderer extends AdvancedDataGridItemRenderer
    {

        public function MyAdvancedDataGridItemRenderer()
        {
            super();
        }

        override public function validateProperties():void
        {
            super.validateProperties();
            if (listData)
            {
                var item:Object = AdvancedDataGridListData(listData).item;
                if (AdvancedDataGridListData(listData).dataField == "score") {
                    setStyle("color", item.score < 0 ? 0xff0000 : 0x000000);
                }
            }
        }
    }

} 
```

# c# - 使用 ASCII 字符绘制 2 个相邻的矩形

> ID：14392776
> 
> 赞同：2
> 
> 时间：2013-01-18T05:14:09.287
> 
> 标签：c#, drawing, ascii

我的目标是绘制两个相邻的矩形。我编写了绘制矩形的代码，但无法绘制 2 个相邻的矩形。我知道问题出在哪里，但我不确定如何解决。非常感谢您的帮助。

```
class DrawRectangles
{           
    static void Main(){
        Console.WriteLine(DrawRectangle(8,8)+DrawRectangle(4,3));
    }
    static string DrawRectangle(int width,int length){
        StringBuilder sb = new StringBuilder();
        string first = "+" + " -".StringMultiplier(width-1)+ " + ";
        sb.AppendLine(first);
        for(int i=0; i<length-1;i++)
            sb.AppendLine("|"+" ".StringMultiplier(2*width-1)+"|");
        sb.Append(first);
        return sb.ToString();
    }
}   

internal static class StringExtensions
{       
    public static string StringMultiplier(this string value,int count){
        StringBuilder sb = new StringBuilder(count);
        for(int i=0;i<count;i++)
            sb.Append(value);
        return sb.ToString();
    }       
} 
```

**预期输出**：

```
+ - - - - - - - +
| |
| |
| |
| |+ - - - +
| || |
| || |
| || |
+ - - - - - - - ++ - - - +

```

**电流输出**：

```
+ - - - - - - - +
| |
| |
| |
| |
| |
| |
| |
+ - - - - - - - ++ - - - +
| |
| |
+ - - - +

```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:36:50.823

首先，`StringMultiplier`扩展是不必要的，因为你可以用它[`System.String(Char, Int32)`](http://msdn.microsoft.com/en-us/library/xsa4321w.aspx)来完成同样的事情。

这是您实际需要的代码：

```
// Assume the Tuples are <height, width>
string DrawRectangles(params Tuple<int, int>[] measurements)
{
    var sb = new StringBuilder();
    var maxHeight = measurements.Max(measurement => measurement.Item1);

    for (var h = maxHeight; h > 0; h--)
    {
        foreach (var measurement in measurements)
        {
            // If you're on the top or bottom row of a rectangle...
            if (h == 0 || measurement.Item1 == h)
            {
                sb.Append(String.Format("{0}{1}{0}", "+", new String('-', measurement.Item2 - 2)));
                continue;
            }

            // If you're in the middle of a rectangle...
            if (measurement.Item1 > h)
            {
                sb.Append(String.Format("{0}{1}{0}", "+", new String(' ', measurement.Item2 - 2)));
                continue;
            }

            sb.Append(new String(' ', measurement.Item2));
        }

        sb.Append(Environment.NewLine);
    }

    return sb.ToString();
} 
```

用法：

```
var output = DrawRectangles(new Tuple(8, 8), new Tuple(4, 3), etc...); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:35:55.750

插入此代码

```
string first = "+" + " -".StringMultiplier(width-1)+ " + "; 
```

你可以简单地使用这个模式：

```
string first = string.Format("+{0}+", new string('-', width - 2)); 
```

# visual-studio-2012 - Visual Studio 2012 中使用 c# 连接数据库的 system.data.dll 文件中的错误

> ID：14392777
> 
> 赞同：1
> 
> 时间：2013-01-18T05:14:13.497
> 
> 标签：visual-studio-2012

我正在 Visual Studio 2012 中开发简单的数据库项目，我尝试连接到 mysql 数据库。它在 system.data.dll 文件错误语句中显示此错误：

> 无法解析“System.Data.Common.DbConnection”类型引用的程序集“System,Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089”中的基类或接口“System.ComponentModel.Component”c:\ Windows\Microsoft.NET\Framework64\v4.0.30319\System.Data.dll

谁能帮我解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:21:51.750

您使用的是什么数据库连接驱动程序？由于您使用的是 MySQL 数据库，因此您应该使用 MySQL Connectors for .NET 并参考 Mysql.Data dll [http://www.mysql.com/products/connector/](http://www.mysql.com/products/connector/)

# ssl-certificate - CA 证书是否与客户端证书相同？

> ID：14392780
> 
> 赞同：2
> 
> 时间：2013-01-18T05:14:17.447
> 
> 标签：ssl-certificate

**CA**证书是否与**客户端**证书相同？

如果没有，我怎样才能获得客户证书？如果是，我如何将其用作客户端证书？

抱歉这个愚蠢的问题。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:25:02.523

**服务器证书或客户端证书只是证书，它们只有不同的属性。证书树中的每个人（包括最终用户和证书颁发者）都有一个证书，通常是 X509 Certificate**。

认证机构在树结构上（树的深度不固定）：

```
Root certication authority of a country (level 0)
  Certification authority 1 (level 1)
    Certification authority 1.1 (level 2)
      End-user 1.1.1 
      End-user 1.1.2
      ...
    Certification authority 1.2 (level 2)
    ... 
  Certification authority 2 (level 1)
  ... 
```

最终用户的证书由树的叶子上的证书颁发机构签名。并且每个证书颁发机构也有一个由父证书颁发机构签署的证书。

根证书颁发机构（0 级）的证书由该根 CA 自己签名。

举1个例子：认证机构A有一个子认证机构B，认证机构B为最终用户C颁发证书。

对于这个例子：B 持有的证书和 C 持有的证书是不同的。B 的证书由 A 签名，C 的证书由 B 签名。这些证书也肯定不同，因为证书的内容不同。

**至于如何获得证书**，有两种方式：（1）找一个认证机构，让他们购买证书，（2）使用证书生成软件创建自己的证书。但是，CA签发的证书具有法律效力，您自己生成的证书不能用于合法签署任何东西，因此您自己生成的证书只能用作测试证书。

**可以将证书文件（.cer、.p12等）导入浏览器**；对于 Chrome 浏览器：打开“设置”->“高级”->“HTTPS/SSL”->“管理证书”->“导入”。文件 .cer 是 X509 证书（无私钥），文件 .p12 是 PKCS12 证书（包含私钥）。并非所有证书都受浏览器信任；只有那些由浏览器知道根 CA 的证书树中的 CA 颁发的证书才受信任。

# wpf - 查找资源字典时出错

> ID：14392782
> 
> 赞同：19
> 
> 时间：2013-01-18T05:14:25.913
> 
> 标签：wpf, visual-studio-2012

我在`App.xaml`主程序集中有一个合并的资源字典，它结合了来自不同程序集的各种资源字典：Common 和 PresentationLayer。

```
<Application.Resources>
    <ResourceDictionary>
        <ResourceDictionary.MergedDictionaries>
            <ResourceDictionary Source="/Common;component/Themes/Button.xaml"/>
            <ResourceDictionary Source="/PresentationLayer;component/DataTemplates/AppointmentsDataTemplates.xaml"/>
        </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
</Application.Resources> 
```

在运行时，资源字典中的样式会正确地应用于控件。但是，在设计时未应用样式，Visual Studio 2012 不断给出以下错误：

```
An error occurred while finding the resource dictionary "/Common;component/Themes/Button.xaml". 
```

并警告：

```
The resource "BannerButton" could not be resolved. 
```

我遇到了[这篇文章](https://stackoverflow.com/q/8475674/896265)，但尽管 Build Action 设置为 Resource，问题仍然存在。此外，在 Visual Studio 2010 或 Expression Blend 4 下运行时，我没有遇到此问题。主程序集肯定包含对通用程序集的引用，并且我没有更改包 URI。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-09T22:53:38.730

这是 Visual Studio 2012 的一个已知问题。请参阅Microsoft Connect 上的[此链接](http://connect.microsoft.com/VisualStudio/feedback/details/761204/vs2012-and-resourcedictionaries)。安装 VS2012 Update 1 后，这个问题为我解决了。如果您认为您正在运行最新版本的 VS2012 并且仍然遇到此问题，请绝对确保已应用更新。我以为我已经使用 Windows Update 进行了更新，但后来发现我必须告诉 VS2012 应用更新。在 VS2012 完成之后，一切都很好。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2019-03-29T13:53:16.950

对于 VS2017，如果引用程序集并仔细检查所有命名是否正常，请尝试关闭 VS 并删除`.vs`解决方案目录中的目录。这将导致您丢失所有用户设置（启动项目、WPF 设计器缩放等），但会解决此问题。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-09-19T07:53:39.820

如果您使用的是 Visual Studio 2017，请尝试重新启动计算机。问题可能会得到解决。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-18T05:47:49.173

在 Window.Resources 中尝试相同的操作，确保在使用 app.xaml 时添加了命名空间，并且不要忘记将**构建**选项更改为需要使用该 app.xaml的**页面。**

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-05-05T13:12:39.580

我正在使用 VS2019 收到此错误。

我只是**重新启动VS**，错误就消失了。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-01-20T14:23:28.040

我有同样的问题，原因是资源字典 xaml 文件中的拼写错误。检查资源字典 xaml 文件是否存在拼写错误和错误。更正拼写后，它起作用了。

# java - ArrayList 可以包含比 int 的最大值更多的元素吗？

> ID：14392785
> 
> 赞同：6
> 
> 时间：2013-01-18T05:14:37.087
> 
> 标签：java, arraylist, integer, max, heap-memory

我正在测试Java（SE7）如何`int`通过以下代码处理超过其最大值的问题：

```
int index = 2147483647;//the maximum value of int
long size = 2147483648L; //More than the maximum value of int by 1
int safeCounter=0; //To prevent the infinite loop
while (index<size)
{
    System.out.println("Index now is : "+index);//show the int value
    index++; //increment the int value
    safeCounter++; //increment the number of desired loops
    if (safeCounter==3){
        break;//to break the loop after 3 turns
    }

} 
```

我得到的是：

现在的索引是：2147483647 现在的索引是：-2147483648 现在的索引是：-2147483647

因此，在对此感到困惑之后，（如果我不使用`safeCounter`它，它将永远在最大值和最小值之间运行`int`——并且不会抛出异常）我想知道如何`ArrayList`处理元素数量超过最大值`int`（假设堆空间不是问题）？如果`ArrayList`不能处理，还有其他数据结构可以吗？

* * *

你能解释一下我从`int`变量中得到的行为吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T05:23:07.117

> ArrayList 可以包含比 int 的最大值更多的元素吗？

在实践中没有。ArrayList 由单个 Java 数组支持，数组的最大大小为`Integer.MAX_VALUE`.

（假设，Oracle 可以在不破坏用户代码的情况下重做`ArrayList`使用数组数组的实现。但他们这样做的机会非常小。）

A`LinkedList`可以处理内存中可以表示的尽可能多的元素。或者您可以实现自己的列表类型。实际上，您甚至可以实现一个列表类型，它可以容纳比内存中存储更多的元素……如果您的列表实际上是一个生成器，甚至可以实现无限数量的元素。

`size()`返回结果（等等）的事实实际上`int`并不是障碍。List API 规范处理了这种异常情况。

* * *

您的代码的行为得到了简单的解释。Java 中的整数运算有静默溢出。如果将整数类型的最大正值加 1，它会回绕到最大的负值；即 MAX_VALUE + 1 == MIN_VALUE ...对于整数类型。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T05:16:52.610

ArrayList 无法处理。arraylist 大小的最大限制是 Integer.MAX_VALUE。您可以使用 LinkedList 可以包含任意数量的元素（实际上取决于您的内存）:-)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-18T05:24:41.950

来自`ArrayList.java`：

```
 **
     * The array buffer into which the elements of the ArrayList are stored.
     * The capacity of the ArrayList is the length of this array buffer.
     */
     private transient Object[] elementData; 
```

由于它在实现中使用数组，因此您不能索引超出`Integer.MAX_VALUE`，因此这是一个限制。

对于`int`行为，你可以看看[这个](https://stackoverflow.com/questions/9397475/why-integer-max-value-1-integer-min-value)问题。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-18T05:29:17.043

这是因为 Java 使用有符号整数。ArrayList 索引从 0 开始，无法为 ArrayList 提供负索引。

解决您的问题的一种可能方法是，首先将无符号整数转换为有符号整数，然后在 ArrayList 中使用它。

您可以使用以下代码段将有符号转换为无符号：

```
public static long getUnsigned(int signed) {
    if(signed > 0) return signed;
    long signedVal = (long)(Math.pow(2, 32)) + signed;
    return signedVal;
} 
```

# math - 有没有人试图打破更小一点？

> ID：14392788
> 
> 赞同：6
> 
> 时间：2013-01-18T05:14:51.140
> 
> 标签：math, assembly, encoding, bit-manipulation, bit

我正在阅读一本关于了解更多关于 ASM 的书，作者碰巧评论了 bits，确切的引用是：

> 比特是信息的不可分割的原子。没有半点，也没有半点。（这已经尝试过了。效果很差。但这并没有阻止它被尝试。）

我的问题是什么时候尝试过？结果是什么？情况如何糟糕？令我困扰的是，谷歌并没有帮助我找到这个问题的答案，这个问题是关于有人试图制作半点并使用（？）它的案例。

谢谢你能查到这个案子是什么时候发生的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:19:11.670

是的。这就是[算术编码](http://en.wikipedia.org/wiki/Arithmetic_coding)（一种压缩）的意义所在。它允许信息以小数位存储。

我相信在你所说的具体例子中，作者只是在开玩笑，而不是指任何实际的分裂尝试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:23:04.087

正如当今计算机所定义的那样，位是二进制值 0 或 1。那是信息的“原子”，因为在二进制逻辑中，除了使用单个“位”之外，您不能表示任何东西——表示其他任何东西，像 0.5，你需要更多的“位”。

然而，对于多级电子设备，“位”将具有多个值。如果有人制造了一台计算机，其电子设备的每个“位”可以取 0-9 之间的值，那么您就有一个位可以存储的不仅仅是 0/1。或许作者是这个意思。制造具有多级位的计算机的尝试失败了，“悲惨地”。电子设备无法以可靠/成本有效的方式弄清楚如何做到这一点。例如，如果有人能弄清楚，那么说一个 1024 位存储器将有一个单元格，这些单元格的值范围为 0-1023 以表示该值。然后，该芯片将比当前芯片小 1024 倍（仅在理论上 - 如果其他一切保持不变）。

尽管在物理层面上无可否认，但仍然会保留一点。那是一根电线进入芯片。那是1个门输入。那是1个存储单元。如果将 1 根线、1 个输入或一个单元分成两部分，则会得到两根线/输入/单元，而不是半线/输入/单元。所以你得到两个位。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T15:46:19.353

我相信作者试图以幽默的方式陈述一个形而上学的事实。

数据通常使用多电平电压存储在磁盘和闪存中。然而，人们可以计算出数字系统的“最佳”基数是 'e=exp(1)=~2.718...'，AFAIK 尚未“尝试过”，而三元 (base-3) 系统很常见在快速并行算术算法中，它在许多应用程序中比 base-2 更好。

此外，作为五花八门的状态，算术/范围编码可以看作是一种使用小数位的方法：例如，如果只有三个可能的消息（例如 001、010、100），*则可以*将它们存储在两个位中“留下四分之一空间”未使用。

# matlab - 压缩比计算

> ID：14392795
> 
> 赞同：0
> 
> 时间：2013-01-18T05:15:28.540
> 
> 标签：matlab, signal-processing, image-compression

我正在做图像压缩，但我发现很难计算解码图像的压缩率。

我以为它被计算为

```
CR = Size of decoded image/ size of original image 
```

但我被告知这是错误的。

有人可以纠正我吗？

对于位/像素，是否也计算为；

```
bpp= 8/CR ?? 
```

请指导我。

# c++ - 在linux中使用gcc命令编译C代码时如何包含lib

> ID：14392798
> 
> 赞同：1
> 
> 时间：2013-01-18T05:15:41.780
> 
> 标签：c++, c, linux, gcc, centos

我想运行位于桌面的 C 代码，而头文件位于其他位置。编译和执行的适当 GCC 命令应该是什么？我附上了下面的代码。我在这方面要求善意的考虑和帮助。

```
#include <config.h>
#endif

#include <stdio.h>
#include <unistd.h>
#include <string.h>
#include <errno.h>
#include <fcntl.h>

#include </usr/include/pulse/simple.h>
#include </usr/include/pulse/error.h>

#define BUFSIZE 32

int main(int argc, char*argv[]) {

    /* The Sample format to use */
static const pa_sample_spec ss = {
    .format = PA_SAMPLE_S16LE,
    .rate = 44100,
    .channels = 2
};

pa_simple *s_in, *s_out = NULL;
int ret = 1;
int error;

/* Create a new playback stream */
if (!(s_out = pa_simple_new(NULL, argv[0], PA_STREAM_PLAYBACK, NULL, "playback", &ss, NULL, NULL, &error))) {
    fprintf(stderr, __FILE__": pa_simple_new() failed: %s\n", pa_strerror(error));
    goto finish;
}

  if (!(s_in = pa_simple_new(NULL, argv[0], PA_STREAM_RECORD, NULL, "record", &ss, NULL, NULL, &error))) {
    fprintf(stderr, __FILE__": pa_simple_new() failed: %s\n", pa_strerror(error));
    goto finish;
}

for (;;) {
    uint8_t buf[BUFSIZE];
    ssize_t r;

   #if 1
    pa_usec_t latency;

    if ((latency = pa_simple_get_latency(s_in, &error)) == (pa_usec_t) -1) {
        fprintf(stderr, __FILE__": pa_simple_get_latency() failed: %s\n", pa_strerror(error));
        goto finish;
    }

    fprintf(stderr, "In:  %0.0f usec    \r\n", (float)latency);

        if ((latency = pa_simple_get_latency(s_out, &error)) == (pa_usec_t) -1) {
        fprintf(stderr, __FILE__": pa_simple_get_latency() failed: %s\n",    pa_strerror(error));
            goto finish;
      }

        fprintf(stderr, "Out: %0.0f usec    \r\n", (float)latency);
#endif

        if (pa_simple_read(s_in, buf, sizeof(buf), &error) < 0) {

        fprintf(stderr, __FILE__": read() failed: %s\n", strerror(errno));
        goto finish;
    }

    /* ... and play it */
    if (pa_simple_write(s_out, buf, sizeof(buf), &error) < 0) {
        fprintf(stderr, __FILE__": pa_simple_write() failed: %s\n", pa_strerror(error));
        goto finish;
    }
}

/* Make sure that every single sample was played */
if (pa_simple_drain(s_out, &error) < 0) {
    fprintf(stderr, __FILE__": pa_simple_drain() failed: %s\n", pa_strerror(error));
    goto finish;
}

ret = 0;

finish:

if (s_in)
    pa_simple_free(s_in);
if (s_out)
    pa_simple_free(s_out);

return ret;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:19:58.387

看起来你只需要替换这个：

```
#include </usr/include/pulse/simple.h>
#include </usr/include/pulse/error.h> 
```

有了这个：

```
#include "simple.h"
#include "error.h" 
```

你的命令行必须是这样的：

```
gcc -I"/usr/include/pulse" program.c -lpulse 
```

您需要将“program.c”替换为源文件的名称。

或者甚至只是将这两行替换为接下来的两行：

```
#include <pulse/simple.h>
#include <pulse/error.h> 
```

（目录 /usr/include 似乎是标准的包含路径），在这种情况下，您的命令行将是：

```
gcc program.c -lpulse 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-20T04:48:14.927

C 编译器通过以下方式包含头文件（通过`#include`）：

1.  `#include "somename.h"`：它开始在 somefile.h 的源目录中搜索，如果在那里找不到它，它开始看起来像 (2)
2.  `#include <somename.h>`：它搜索一系列（系统相关的）目录。在类 Unix 系统（Linux、MacOS）中，这基本上是`/usr/include`，但可能会添加其他目录。

在大多数编译器中，您可以通过在序列开头`-I/some/path flags`添加来控制这一点 (2)。`/some/path`另请注意，`somename.h`上面可以包括`/`，所以如果你写

```
#include "this/file.h" 
```

然后它在当前目录`file.h`的目录中查找。`this`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:20:12.293

试试看[http://www.network-theory.co.uk/docs/gccintro/gccintro_22.html](http://www.network-theory.co.uk/docs/gccintro/gccintro_22.html)`gcc -c -I/path/to/source/files fileName.c` _

# internet-explorer - 复选框在 IE 和 Chrome 中看起来不同

> ID：14392800
> 
> 赞同：1
> 
> 时间：2013-01-18T05:15:47.787
> 
> 标签：internet-explorer, checkbox

复选框在 IE 和 Firefox 中看起来不同。需要看起来像 Firefox 一样一致。我试过给下面的css，但在IE中它仍然没有像FF一样在复选框内显示阴影

```
{ background-color: #FAFAFA;
border: 1px solid #CACECE;
border-radius: 3px 3px 3px 3px;
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05), 0 -15px 10px -12px rgba(0, 0, 0, 0.05) inset;} 
```

有什么输入吗？

谢谢。

# python - 以与 sorted(, key=) 相同的方式对 numpy 数组进行排序

> ID：14392803
> 
> 赞同：5
> 
> 时间：2013-01-18T05:15:55.263
> 
> 标签：python, sorting, numpy

例如，首先按实部对复数数组进行排序，然后按虚部的大小，然后首先按负虚部：

```
def order(a):
    return a.real, abs(a.imag), sign(a.imag)

z = array(sorted(z, key=order)) 
```

所以

`array([ 1.+2.j, 5.+0.j, 1.+0.j, 1.+1.j, 1.+1.j, 1.-1.j, 6.+0.j, 1.-1.j, 1.-2.j])`

变成

`array([ 1.+0.j, 1.-1.j, 1.-1.j, 1.+1.j, 1.+1.j, 1.-2.j, 1.+2.j, 5.+0.j, 6.+0.j])`

我认为有一种方法可以使用 numpy 的[argsort](http://docs.scipy.org/doc/numpy/reference/generated/numpy.argsort.html)来做同样的事情，这可能更快，但我无法弄清楚：

```
In [2]: argsort((a.real, abs(a.imag), sign(a.imag)))
Out[2]: 
array([[0, 2, 3, 4, 5, 7, 8, 1, 6],
       [1, 2, 6, 3, 4, 5, 7, 0, 8],
       [5, 7, 8, 1, 2, 6, 0, 3, 4]]) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:34:27.283

您可以使用[`np.lexsort`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.lexsort.html)：

```
import numpy as np
a = np.array([ 1.+2.j, 5.+0.j, 1.+0.j, 1.+1.j, 1.+1.j, 1.-1.j, 6.+0.j,
               1.-1.j, 1.-2.j])
sorted_idx = np.lexsort((np.sign(a.imag), np.abs(a.imag), a.real))
>>> a[sorted_idx]
array([ 1.+0.j,  1.-1.j,  1.-1.j,  1.+1.j,  1.+1.j,  1.-2.j,  1.+2.j,
        5.+0.j,  6.+0.j]) 
```

请注意，排序键是反向排序的，即最后一个是主体。

# iphone - 将按钮添加到 uitextfield

> ID：14392804
> 
> 赞同：15
> 
> 时间：2013-01-18T05:16:03.840
> 
> 标签：iphone, ios, objective-c, xcode

当我在文本框内单击时，如何向 UITextField 添加加号按钮，如下面的屏幕所示？单击此按钮时，它将启动 iPhone 联系人应用程序。我将非常感谢任何代码示例。谢谢

![在此处输入图像描述](../Images/0a871a1d33a2aaee2e0fc14ab400249c.png)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-18T05:22:16.480

您可以为此使用以下代码：

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField
{
  if(textField == yourFirstTextField)
  {
      UIButton *addButton = [UIButton buttonWithType:UIButtonTypeCustom];
      [addButton setImage:[UIImage imageNamed:@"addImage.png"] forState:UIControlStateNormal];
      [addButton addTarget:self action:@selector(yourActionHere) forControlEvents:UIControlEventTouchUpInside];
      textField.rightViewMode = UITextFieldViewModeWhileEditing;
      textField.rightView = addButton;
  }
} 
```

如果在 IB 中添加了该字段，则可以使用上述方法。

如果是通过代码创建的，需要在创建时添加如下代码：

```
UIButton *addButton = [UIButton buttonWithType:UIButtonTypeCustom];
[addButton setImage:[UIImage imageNamed:@"addImage.png"] forState:UIControlStateNormal];
[addButton addTarget:self action:@selector(yourActionHere) forControlEvents:UIControlEventTouchUpInside];
textField.rightViewMode = UITextFieldViewModeWhileEditing;
textField.rightView = addButton; 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-18T05:18:14.477

以下代码用于在 UITextField 中添加按钮。

```
-(void)ViewDidLoad{
    UITextField *txt = [[UITextField alloc]initWithFrame:CGRectMake(140, 120, 160, 40)];
    txt.returnKeyType = UIReturnKeyDone;
    txt.placeholder = @"Enter or Mobile Number";
    [txt setBorderStyle:UITextBorderStyleRoundedRect];
    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
    [button setImage:[UIImage imageNamed:@"crossImg.png"] forState:UIControlStateNormal];
    button.imageEdgeInsets = UIEdgeInsetsMake(0, -16, 0, 0);
    [button addTarget:self action:@selector(clearText:) forControlEvents:UIControlEventTouchUpInside];
    txt.rightView = button;
    txt.rightViewMode = UITextFieldViewModeAlways;
    [self.view addSubview:txt];
}

-(IBAction)clearText:(id)sender{

} 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-01-18T05:25:15.507

使用以下方法添加`UIButton`

```
[self.txtField addTarget:self action:@selector(textFieldDidChange:) forControlEvents:UIControlEventEditingChanged];

- (BOOL) textFieldDidChange:(UITextField *)textField
{
    UIButton *btnColor = [UIButton buttonWithType:UIButtonTypeCustom];
    [btnColor addTarget:self action:@selector(btnColorPressed:) forControlEvents:UIControlEventTouchUpInside];
    btnColor.frame = CGRectMake(self.txtTag.bounds.size.width - 50, 5, 25, 25);
    [btnColor setBackgroundImage:[UIImage imageNamed:@"PaintPickerButton.png"] forState:UIControlStateNormal];
    [self.txtTag addSubview:btnColor];

    return YES;
} 
```

**或写**

```
-(BOOL) textFieldShouldBeginEditing:(UITextField *)textField
{
    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationBeginsFromCurrentState:YES];
    [UIView setAnimationDuration:0.3f];
    // self.scrollView.frame = CGRectMake(0, 35, self.view.bounds.size.width, self.view.bounds.size.height - 250);
    [UIView commitAnimations];

    UIButton *btnColor = [UIButton buttonWithType:UIButtonTypeCustom];
    [btnColor addTarget:self action:@selector(btnColorPressed:) forControlEvents:UIControlEventTouchUpInside];
    btnColor.frame = CGRectMake(150, 5, 25, 25);
    [btnColor setBackgroundImage:[UIImage imageNamed:@"PaintPickerButton.png"] forState:UIControlStateNormal];
    [self.txtField addSubview:btnColor];

    return YES;
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-18T05:18:32.030

使用`rightView`的属性`UITextField`。在`textFieldDidBeginEditing:`委托中创建按钮，其中包含您想要并设置为的操作`rightView`。并`textFieldDidEndEditing:`设置为零`rightView`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-18T05:21:59.720

你也可以去自定义视图蚂蚁然后添加子视图。然后你隐藏它。只有当用户点击它时它才会可见

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-07-21T05:07:55.823

```
 self.locationName.clearButtonMode = UITextFieldViewModeWhileEditing;
    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
    button.frame = CGRectMake(0, 0, 30, 30);
    [button setImage:[UIImage imageNamed:@"goButtonIcon.png"] forState:UIControlStateNormal];
    [button addTarget:self action:@selector(goButtonClicked:) forControlEvents:UIControlEventTouchUpInside];

    self.locationName.rightView = button;
    self.locationName.rightViewMode = UITextFieldViewModeUnlessEditing; 
```

然后调用这个方法：

```
-(IBAction)goButtonClicked:(id)sender{

} 
```

self.locationName -------> UITextField 参考（在 ViewDidload 中可以写这段代码）

# java - 具有特定格式的 XMLGregorianCalendar 日期

> ID：14392811
> 
> 赞同：8
> 
> 时间：2013-01-18T05:16:51.983
> 
> 标签：java, xml, date, calendar

我得到一个 Date 对象，我需要将其转换为 XMLGregorian Calendar 特定格式

我尝试了以下方法

```
String formattedDate = sdf.format(categoryData.getBulkCollectionTime()); //yyyy-MM-dd HH:mm:ss
XMLGregorianCalendar xmlCal = DatatypeFactory.newInstance().newXMLGregorianCalendar(formattedDate);
dataListType.setTimestamp(xmlCal); 
```

我遇到了一个例外，我肯定在这里做错了。但是我想将 Date 对象格式化为指定的格式，这可以完美地由 sdf.format 完成。

但是我如何创建相同的 XMLGregorianCalendar 对象（来自 formattedDate）？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T05:38:45.837

你应该修复你的日期格式：

```
SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss'Z'");
sdf.setTimeZone(TimeZone.getTimeZone("GMT"));
String date = sdf.format(new Date());
XMLGregorianCalendar xmlCal = DatatypeFactory.newInstance().newXMLGregorianCalendar(date); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-18T05:36:44.787

您可以通过日期对象本身来做到这一点：

```
String formattedDate = sdf.format(categoryData.getBulkCollectionTime()); //yyyy-MM-dd HH:mm:ss
convertStringToXmlGregorian(formattedDate);

public XMLGregorianCalendar convertStringToXmlGregorian(String dateString)
{
      try {
            Date date = sdf.parse(dateString);
            GregorianCalendar gc = (GregorianCalendar) GregorianCalendar.getInstance();
            gc.setTime(date);
            return DatatypeFactory.newInstance().newXMLGregorianCalendar(gc);
        } catch (ParseException e) {
            // Optimize exception handling
            System.out.print(e.getMessage());
            return null;
        } 

} 
```

# phpmyadmin - 如何使用 phpmyadmin 找出 mysql 数据库中更改了哪些表？

> ID：14392814
> 
> 赞同：0
> 
> 时间：2013-01-18T05:17:22.743
> 
> 标签：phpmyadmin

我犯了一个错误，可能在 mysql 数据库的表中添加了一行并想删除它。有没有可能查到？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:28:07.780

在 Unix 上，mysql 客户端将执行语句的记录写入历史文件。默认情况下，此文件已命名`.mysql_history`并在您的主目录中创建。要指定不同的文件，请设置 MYSQL_HISTFILE 环境变量的值。

在 phpmyadmin 中，您可以使用 url `//servername/phpmyadmin/querywindow.php`，单击时还有一个数据库左侧面板顶部的图标，您也可以访问历史记录

![看看 rhe 网址](../Images/ef6b47bafb0b21d65fc2b39afd29944e.png)

# cordova - 使用 PhoneGap 的应用程序开发、服务器存储查询/建议？

> ID：14392816
> 
> 赞同：1
> 
> 时间：2013-01-18T05:17:56.673
> 
> 标签：cordova, storage

我正在使用 PhoneGap 和网络技术构建一个应用程序。我的目标：从移动设备生成数据并用一些标签对其进行标记并将其上传到服务器。用户应该能够通过选择一个或多个标签来回调上传的数据过滤它。

我在本地存储信息和操作方法上找到了很多，但在这种情况下它没有用。我开始阅读有关 Jersey 和 Restlet 的内容，但对于像我这样的非程序员来说，这似乎有点压倒性。Lawnchair 引起了我的注意，我读了很多关于它的文章，但这似乎也是一种本地存储解决方案。

我的问题：考虑到上述标准，请记住简单性，您认为完成这项任务的最快和最轻松的方法是什么？

# iphone - 获取 iphone sdk 可能路由列表的 API

> ID：14392817
> 
> 赞同：-2
> 
> 时间：2013-01-18T05:17:59.770
> 
> 标签：iphone, ios, google-maps, mapkit

在地图上显示之前，我需要显示可能的路线列表。我正在为 IOS 5 和 IOS 6 创建 IOS 应用程序。是否有任何可用的 API 可以响应给定源和目标位置的可能路由。请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:43:32.893

它取决于旅行模式：

喜欢 ：

[http://maps.googleapis.com/maps/api/directions/json?origin=Boston,MA&destination=Concord,MA&waypoints=Charlestown,MA|列克星敦,MA&sensor=false](http://maps.googleapis.com/maps/api/directions/json?origin=Boston,MA&destination=Concord,MA&waypoints=Charlestown,MA|Lexington,MA&sensor=false)

这响应可以在 ios 中轻松解析的 JSON 响应。

# iphone - 使用 CATiledLayer 显示已以编程方式分割成图块的大图像

> ID：14392818
> 
> 赞同：1
> 
> 时间：2013-01-18T05:18:08.410
> 
> 标签：iphone, ios, draw, tile, catiledlayer

我在使用 CATiledLayer 时遇到了问题...我有一张大图像，一张地图，即 4726 x 2701。基本上我需要将此图像分解为图块并能够放大以查看很多细节，还能够一路放大，看到整个地图。使用我当前的实现，如果滚动视图的缩放级别设置为 1.0（最大缩放比例），它可以完美地工作，但是如果你缩小瓷砖被错误地替换。

这里缩放级别设置为 1.0。地图看起来很完美。 ![在此处输入图像描述](../Images/ad8990b3cdb5fe2210fdd98ed738aa22.png)

但是，如果缩放级别一直是（我相信是 0.2），那么地图就会一团糟。我应该看到整个地图，而不仅仅是两个图块。

![在此处输入图像描述](../Images/473bf83b7ce86db36e9eb7b62a8e8b62.png)

这是我从大图像中获取图块的方法：

```
- (UIImage *)tileForScale:(CGFloat)scale row:(int)row col:(int)col {
     float tileSize = 256.0f;
     CGRect subRect = CGRectMake(col*tileSize, row * tileSize, tileSize, tileSize);
     CGImageRef tiledImage = CGImageCreateWithImageInRect([mapImage CGImage], subRect);
     UIImage *tileImage = [UIImage imageWithCGImage: tiledImage];
     return tileImage;
} 
```

我正在像 Apple 在 PhotoScroller 应用程序中一样显示图块。

```
- (void)drawRect:(CGRect)rect {
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGFloat scale = CGContextGetCTM(context).a;

    CATiledLayer *tiledLayer = (CATiledLayer *)[self layer];
    CGSize tileSize = tiledLayer.tileSize;
    tileSize.width /= scale;
    tileSize.height /= scale;

    int firstCol = floorf(CGRectGetMinX(rect) / tileSize.width);
    int lastCol = floorf((CGRectGetMaxX(rect)-1) / tileSize.width);
    int firstRow = floorf(CGRectGetMinY(rect) / tileSize.height);
    int lastRow = floorf((CGRectGetMaxY(rect)-1) / tileSize.height);

    for (int row = firstRow; row <= lastRow; row++) {
        for (int col = firstCol; col <= lastCol; col++) {
            UIImage *tile = [self tileForScale:scale row:row col:col];
            CGRect tileRect = CGRectMake(tileSize.width * col, tileSize.height * row,
                                     tileSize.width, tileSize.height);
            tileRect = CGRectIntersection(self.bounds, tileRect);

            [tile drawInRect:tileRect];
        }
    }
} 
```

此外，这是我设置细节级别的代码，它为我的图像返回 4：

```
- (id)initWithImageName:(NSString *)name andImage:(UIImage*)image size:(CGSize)size {
    self = [super initWithFrame:CGRectMake(0, 0, size.width, size.height)];
    if (self) {
        _imageName = [name retain];
        mapImage = [image retain];

        CATiledLayer *tiledLayer = (CATiledLayer *)[self layer];
        tiledLayer.levelsOfDetail = [self zoomLevelsForSize:mapImage.size];
    }
    return self;
}
- (NSUInteger)zoomLevelsForSize:(CGSize)imageSize {
    int zLevels = 1;
    while(YES) {
        imageSize.width /= 2.0f;
        imageSize.height /= 2.0f;
        if(imageSize.height < 256.0 || imageSize.width < 256.0) break;
        ++zLevels;
    }
    return zLevels;
} 
```

我假设它与平铺大小和缩放比例有关，但我真的不知道如何解决这个问题。我似乎无法在 Google 上找到任何解决我的问题的方法。任何帮助都会很棒！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T21:03:41.913

您在 - (UIImage *)tileForScale:(CGFloat)scale row:(int)row col:(int)col 中有泄漏。

CGImageRef tiledImage = CGImageCreateWithImageInRect([mapImage CGImage], subRect);

不要忘记释放 CGImageRef：CGImageRelease(tiledImage);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-29T19:39:20.993

我认为存在一个错误，即示例代码中的比例设置错误。我有以下内容：

```
CGFloat scale = CGContextGetCTM(context).a;
scale = 1.0f / roundf(1.0f / scale);
if (scale == INFINITY) {
    scale = 1.0f;
} 
```

# android - 如何通过 GCM 发送图像和网站链接..？

> ID：14392820
> 
> 赞同：1
> 
> 时间：2013-01-18T05:18:16.820
> 
> 标签：android, android-c2dm, google-cloud-messaging

我正在通过 GCM 发送消息，但我找不到通过 GCM 消息发送图像和网站链接的方法......到设备，因此如果我们点击通知，则应该打开 Web 链接或必须下载或显示图像.. ?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T20:26:54.800

我写了两篇博客文章，描述了两种方法：教程：[使用 AirBop 在消息负载中发送图像](http://blog.andromo.com/2012/tutorial-using-airbop-to-send-images-in-the-message-payload/)和教程：[使用 AirBop 推送图像以获取 BigPictureStyle 通知](http://blog.andromo.com/2012/tutorial-using-airbop-to-push-images-for-bigpicturestyle-notifications/)帖子使用[AirBop](http://www.airbop.com)作为其应用程序服务器，但您可以使用相同的与您与 GCM 一起使用的任何服务器的想法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-18T10:15:36.183

您可以在 GCM 消息中发送网络链接

在客户端 ( GCMIntentService ) -

```
@Override
protected void onMessage(Context context, Intent intent) {

String uriStr = intent.getStringExtra(FIELD_MESSAGE);
//FIELD_MESSAGE is the same key used while sending links from server
Intent notificationIntent = new Intent(Intent.ACTION_VIEW,  Uri.parse(uriStr));

  PendingIntent contentIntent = PendingIntent.getActivity(context, 0, notificationIntent, 0);
  notification.setLatestEventInfo(context, contentTitle, contentText, contentIntent);
  mNotificationManager.notify(970970, notification);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-06T14:37:47.480

我会这样处理 1）将 GCM 通知与 URL 一起发送到客户端 2）根据收到的 URL，下载图像 3）下载后，保存图像并设置通知

# .net - 低容量 WCF 服务 - 冷启动问题

> ID：14392823
> 
> 赞同：1
> 
> 时间：2013-01-18T05:18:40.093
> 
> 标签：.net, wcf, iis-6

我在 IIS6 上托管了一个非常低容量的 WCF Web 服务（大约一小时或 2 个请求 - 它已被淘汰）。它连接到一个 DB2 数据库和一个 Websphere MQ 队列。除了服务启动之外，这些组件也在被初始化。总响应时间约为 30 秒。我们做了以下事情：

1.  禁用的应用程序池回收
2.  在服务器重新启动后通过触发一个虚拟请求来初始化服务。

我们观察到，如果服务在第一次之后收到请求，初始化后的响应大约是 800 毫秒。我的问题是 - 除了以恒定间隔触发请求之外，还有什么方法可以在我的场景中获得更好的响应。

谢谢马赫什

# django - 将 Django 模板转换为 Jinja 模板 - 自动范围

> ID：14392829
> 
> 赞同：2
> 
> 时间：2013-01-18T05:19:09.923
> 
> 标签：django, templates, jinja2

我正在经历将我的 Django 模板转换为 Jinja 模板的不太有趣的过程。我遇到的一个大问题是，在 Jinja 中，父块中范围内的变量不会自动渗透到子块中。例如，以下将不起作用：

```
{% for item in seq %}
    <li>{% block loop_item %}{{ item }}{% endblock %}</li>
{% endfor %} 
```

我了解可以通过在标签中添加`scoped`关键字来解决此问题。`block`但是，我的模板中有许多不同的块，添加`scoped`关键字会很痛苦。有没有办法自动将范围应用于子块？一种自动范围或什么？

最终，我会将所有内容都转换为 Jinja 首选的方式，但这会使转换过程更加顺畅。

# javascript - 在 v3 中获取一个邮政编码到多个邮政编码的行驶距离

> ID：14392832
> 
> 赞同：-1
> 
> 时间：2013-01-18T05:19:23.520
> 
> 标签：javascript, google-maps-api-3, driving-distance

```
 fxnGetNearestDealer: function () {

            //Gets LatLng for given Zipecode and displays the dealer.
            fxnGetLatLngforZip(function () {
                //Gets The Nearest Dealers Index out of dealers in the site.
                fxnGetNearDealerIndex(function (distance) {
                    alert(distance);
                    //Gets Html To Display NearestDealer Details.
                    sHtml = fxnGetHtmlforNearestDealer();

                    //Displays Nearest Dealer Details in the span with Id "spanDNAddr".
                    document.getElementById('spanDNAddr').innerHTML = sHtml;
                });
            });
        };

fxnGetLatLngforZip = function (callback) {
         var oGeocoder = new google.maps.Geocoder(),
             iZipcode = document.getElementById('txtZipCode').value;

         //Boundary checks
         if (!iZipcode) { return; }

         oGeocoder.geocode({ 'address': iZipcode }, function (result, status) {
             if (status == google.maps.GeocoderStatus.OK) {
                 g_oLatLng = result[0].geometry.location;
                 callback();
             }
             else {
                 //Can use status its self to display the error message.
                 document.getElementById('spanDNAddr').innerHTML = "No Results Found Enter Valid ZipCode";
             }
         });
     };

fxnGetNearDealerIndex = function (callback) {
        //Boundary Checks
        if (!g_oLatLng) { return; }

        var oDealerLatlng = null,
            dDistance = null,
            tempindex = null,
            dTemp = null;

        for (var iAddrIdx = 0; iAddrIdx < g_oAddrs.length; iAddrIdx++) {
            oRequest = {
                origin: g_oLatLng,
                destination: new google.maps.LatLng(g_oAddrs[iAddrIdx].latitude, g_oAddrs[iAddrIdx].longitude),
                travelMode: google.maps.TravelMode.DRIVING
            };

            g_oDirections.route(oRequest, function (response, status) {
                if (status == google.maps.DirectionsStatus.OK) {
                    dDistance = response.routes[0].legs[0].distance.value;
                    if (!dTemp) {
                        dTemp = dDistance;
                    }
                    else if (dDistance < dTemp) {
                        dTemp = dDistance;
                        g_iNearIndex = iAddrIdx;
                    }
                }
            });
        }
        callback(dTemp);
    }; 
```

在上面的函数中“fxnGetNearestDealer”是从那里的起点，我试图为给定的邮政编码获取 latlng，因为这将是一个异步调用，我使用回调它工作正常..之后我必须进行另一个异步调用来计算之间的行驶距离给定邮政编码 latlng 并且每个 latlng 在 forloop 中迭代..并获得最小值。我最终像上面那样写了....问题它永远不会返回任何值它在警报中给出 null。如果我在萤火虫中看到它会迭代所有创建好的请求，但它永远不会进入“g_oDirections.route”函数，因为它是异步的，我使用了回调但它没有工作....任何解决方法请... ...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T08:22:07.613

下面的例子是通用的。它展示了如何从曼哈顿的一个点到多个邮政编码。

```
var dirService = new google.maps.DirectionsService();

//Hold all destinations in an array
var destinations = ['10001', '10002', '10003'];

//Start from somewhere in Manhattan
var startLocation = new google.maps.latLng(40.769102, -73.971176);

function drivingDistance(start, end) {
var request = {
    origin: start,
    destination: end,
    travelMode: google.maps.TravelMode.DRIVING
    };

   //Use a separate named function as callback(not anonymous inline)
    dirService.route(request, routeCallback);

}

//callback function
function routeCallback(result, status) {
    if (status == google.maps.DirectionsStatus.OK){

        alert(result.routes[0].legs[0].duration.text);

           //alternative:
           //alert(result.routes[0].legs[0].distance.text);

        //If success then remove the first destination from the array and execute the next request
        destinations.shift();
        getnextRoute();
    }
}

function getnextRoute(){
   if(destinations.length){
        drivingDistance(startLocation, destinations[0]);
  }
}

// Start executing
getnextRoute(); 
```

# java - 在 NetBeans 7.1 中比较方法违反了它的一般合同异常

> ID：14392834
> 
> 赞同：0
> 
> 时间：2013-01-18T05:19:38.227
> 
> 标签：java, exception, comparison, netbeans-7

当我使用 jre 1.7 在 netbeans 7.1 中编译以下代码时，会发生以下异常。（JRE v 7.0.20.13）异常被抛出代码的突出显示部分。之前我多次使用相同的代码并且代码对我来说完全正确，但现在突然发生异常。

**编辑：堆栈跟踪：**

```
 JewelleryERPApplication/build/classes/java.lang.IllegalArgumentException: Comparison method violates its general contract!
at java.util.TimSort.mergeHi(TimSort.java:868)
at java.util.TimSort.mergeAt(TimSort.java:485)
at java.util.TimSort.mergeForceCollapse(TimSort.java:426)
at java.util.TimSort.sort(TimSort.java:223)
at java.util.TimSort.sort(TimSort.java:173)
at java.util.Arrays.sort(Arrays.java:659)
at java.util.Collections.sort(Collections.java:217)
at javax.swing.SortingFocusTraversalPolicy.enumerateAndSortCycle(SortingFocusTraversalPolicy.java:136)
at javax.swing.SortingFocusTraversalPolicy.getFocusTraversalCycle(SortingFocusTraversalPolicy.java:110)
at javax.swing.SortingFocusTraversalPolicy.getComponentAfter(SortingFocusTraversalPolicy.java:280)
at javax.swing.LayoutFocusTraversalPolicy.getComponentAfter(LayoutFocusTraversalPolicy.java:106)
at java.awt.Component.getNextFocusCandidate(Component.java:7860)
at java.awt.Component.transferFocus(Component.java:7828)
at java.awt.Component.disable(Component.java:1517)
at javax.swing.JComponent.disable(JComponent.java:3635)
at java.awt.Component.enable(Component.java:1495)
at java.awt.Component.setEnabled(Component.java:1458)
at javax.swing.JComponent.setEnabled(JComponent.java:2677)
at javax.swing.AbstractButton.setEnabled(AbstractButton.java:2087)
at jewelleryerpapplication.GUI.Stone.EmpTrans.compEnableDisable(EmpTrans.java:215)
at jewelleryerpapplication.GUI.Stone.EmpTrans.btnEditActionPerformed(EmpTrans.java:2513) 
```

**// 发生异常的源代码**

```
 switch (mode) {
        case "N"://New
            btnSave.setEnabled(!enable);

            btnNew.setEnabled(enable);
            **btnEdit.setEnabled(enable);**
            btnSearch.setEnabled(enable);
            btnPrint.setEnabled(enable);
            txtVchNo.setEditable(enable);
            btnExecute.setVisible(enable);
            cbDateChk.setVisible(enable);
            cbDateChk.setSelected(enable);

            isNew = true;
            isEdit = false;
            break;
         case "E":
            btnSave.setEnabled(!enable);

            btnNew.setEnabled(enable);
            **btnEdit.setEnabled(enable);**
            btnSearch.setEnabled(enable);
            btnPrint.setEnabled(enable);
            txtVchNo.setEditable(enable);
            btnExecute.setVisible(enable);
            cbDateChk.setVisible(enable);
            cbDateChk.setSelected(enable);

            isNew = false;
            isEdit = true;
            break;
          } 
```

# iphone - 导航栏图像黑色

> ID：14392836
> 
> 赞同：1
> 
> 时间：2013-01-18T05:20:08.980
> 
> 标签：iphone, ios6

在我的应用程序中，我添加了自定义导航图像，同时添加图像的其余部分显示黑色，我使用了以下代码，

![在此处输入图像描述](../Images/26d91f89d034e41e43ef96dedf35c97a.png)

```
 UIImage *image = [UIImage imageNamed: @"navbar.png"];
 [self.navigationController.navigationBar setBackgroundImage:image forBarMetrics:UIBarStyleDefault]; 
```

我想在黑色部分显示背景颜色。代码应该改变什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:25:40.027

请尝试关注可能会正常工作。

```
UINavigationBar *navBar = [[self navigationController] navigationBar];
UIImage *backgroundImage = [UIImage imageNamed:@"navbar.png"];
[navBar setBackgroundImage:backgroundImage forBarMetrics:UIBarMetricsDefault]; 
```

**已编辑**

```
[[UINavigationBar appearance] setBackgroundImage:[UIImage imageNamed:@"navbar.png"] forBarMetrics:UIBarMetricsDefault]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:51:29.010

```
self.navigationController.navigationBar.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"navbar.png"]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:02:48.467

我正在使用非常有用的库（**SCNavigationBar**类）来设置 navigaitonBar 的样式，请[在此处下载](http://mixdesign.kz/SCNavigationBar.zip)

它支持所有方向，在我的许多应用程序中都可以正常工作。

# ruby - 将字符串转换为 ruby 日期时间

> ID：14392838
> 
> 赞同：2
> 
> 时间：2013-01-18T05:20:24.823
> 
> 标签：ruby, ruby-on-rails-3, datetime

我有以下字符串作为日期

```
Thu 17 Jan 
```

我想将其转换为 ruby​​ 日期时间对象（保存在数据库中）。我试过[慢性](https://github.com/mojombo/chronic)，但没有运气。

有人可以帮我吗，在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:22:51.813

不需要慢性。简单的日期就可以了。

```
require 'date'

s = 'Thu 17 Jan'

Date.parse(s) # => #<Date: 2013-01-17 ((2456310j,0s,0n),+0s,2299161j)> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T05:31:08.887

您还可以使用：

```
 s = 'Thu 17 Jan'

 date = DateTime.parse(s) 
```

# android - 在 android 2.x 上获取 webViewClient.shouldInterceptRequest()

> ID：14392839
> 
> 赞同：5
> 
> 时间：2013-01-18T05:20:39.583
> 
> 标签：android, android-webview, webviewclient

我正在重写`webViewClient.shouldInterceptRequest()`以从资产文件夹返回常见资源，例如图像和 js 文件。但这适用于 android >=3 。是否有任何替代方法可用于 android 2.x

我发现`onLoadResource()`提供了类似的行为，但它的返回类型是 void

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-30T14:21:03.917

我已经对此进行了一段时间的研究，到目前为止，我发现实现类似目的的实用方法是为此 Web 视图实现本地 HTTP 代理。

要为 webview 设置代理，请参阅这个问题：[WebView android proxy](https://stackoverflow.com/questions/4488338/webview-android-proxy)

有许多用 Java 编写的开源 HTTP 代理，例如[LittleProxy](https://github.com/adamfisk/LittleProxy)。

* * *

还有另一种可能但复杂的方法：用于`shouldOverrideUrlLoading()`捕获所有页面请求但始终返回 true。用自己的代码获取页面的内容，然后用本地缓存的副本解析替换所有远程资源，最后用`WebView.loadData()`.

# php - 为什么所有文本都打印在同一行？

> ID：14392842
> 
> 赞同：0
> 
> 时间：2013-01-18T05:20:50.553
> 
> 标签：php, heredoc

> **可能重复：**
> [我是否误解了heredoc应该做什么？](https://stackoverflow.com/questions/6058600/have-i-misunderstood-what-heredoc-should-do)

我读到*这里文档*保留了文本中的换行符和其他空格（包括缩进）。但是当我运行以下脚本时，所有内容都会打印在同一行。为什么会这样？

```
<?php 
$str = <<<HDC
 This is a sample text
 Some more sample text
 Even more sample text
HDC;
echo $str; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:22:23.060

输出实际上确实包含换行符。但是，HTML（默认情况下）忽略换行符。

如果您希望 HTML 呈现换行符，请将其包装在`pre`:

```
<pre>
<?php 
$str = <<<HDC
 This is a sample text
 Some more sample text
 Even more sample text
HDC;
echo $str;
?>
</pre> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:27:40.153

`<pre>`或者如果您因为总是以固定宽度打印而无法使用`<pre>`，请手动插入`<br>`标签。

# android - ListFragment 突出显示列表中的选定项目？

> ID：14392844
> 
> 赞同：0
> 
> 时间：2013-01-18T05:21:07.603
> 
> 标签：android, tabs, android-listfragment

我有一个 listFragment，我想突出显示列表中的选定项目。我有一个包含两个片段的布局。左侧片段是使用 SimpleCursorAdaptor 的 ListFragment，右侧填充了从左侧片段列表中选择的项目的详细信息。我试图弄清楚如何确保 ListFragment 中选定的项目保持突出显示，直到选择列表中的另一个项目。

请提出任何好的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:29:39.730

尝试这个。

**ListFragment**突出显示刚刚添加到您合适的 Lifecycle 方法中的选定项目`Listfragment`

```
getListView().setSelector(R.drawable.fragment_listselector); 
```

**编辑 ：**

有关此的更多信息，请参阅此**[链接](http://developer.android.com/training/multiscreen/adaptui.html)**并检查它的源代码，这对我有用！

# javascript - 如何找到我感兴趣的对象，Javascript 在哪里保存？

> ID：14392845
> 
> 赞同：0
> 
> 时间：2013-01-18T05:21:18.027
> 
> 标签：javascript, reverse-engineering, tree-search

有一个网站，它做POST，我想知道参数存储在哪里。我需要它来破解它们，在发布之前进行编辑。脚本很大而且很模糊，所以我无法通过阅读源代码找到我需要的对象。

我试图从[这个答案](https://stackoverflow.com/a/14145840/322020)`window`中用 JSON.prune序列化。我用来查找存储我需要的字符串的关键字在 28 兆字节的文本中被找到了近 40 次。即使我找到了子字符串，它也不是很可读。所以也许这不是要走的路。

我需要一些可以告诉我的东西：

*   已在以下位置检测到此子字符串：
    -- 字符串`window.bla_bla_bla.deepobject.bla[5].blabla.msg_to_post`
    -- 字符串`window.bla_bla_bla.deepobject.bla[3].and_here`
    -- 字符串`window.and_even_here`
    -- 等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:02:43.260

首先，找到发送 POST 请求的函数。

单击按钮时是否发送请求？[视觉事件](http://www.sprymedia.co.uk/article/Visual+Event)可以帮助您找到它。

接下来，读取函数并用您自己的函数覆盖它。

如果脚本被缩小，像[这样使用美化器](http://jsbeautifier.org/)

通常，通过 Chrome 开发者工具和可视化事件，我得到了所有想知道的东西。

# ios - UIKeyboard 随机停止工作

> ID：14392846
> 
> 赞同：0
> 
> 时间：2013-01-18T05:21:18.103
> 
> 标签：ios, uisearchbar, uikeyboard

输入 searchBar 时，80% 的时间都可以正常工作，但其余时间，当我按下一个字母时，没有任何反应，就好像键盘停止工作一样。

有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T17:52:24.930

SVProgressHUD 导致了问题（第三方活动指示器）。我禁用了它。

# scrapy - 虽然我安装了 pil，但下载图像的蜘蛛似乎不起作用

> ID：14392848
> 
> 赞同：0
> 
> 时间：2013-01-18T05:21:19.773
> 
> 标签：scrapy

我是scrapy的新手。我正在尝试编写一个蜘蛛来下载图像。对于使用图像管道，安装PIL是否足够？我的PIL位于
/usr/lib/python2.7/dist-packages/PIL

如何将它包含在我的 Scrapy 项目中？

**设置文件：**

```
BOT_NAME = 'paulsmith'
BOT_VERSION = '1.0'

ITEM_PIPELINES = ['scrapy.contrib.pipeline.images.ImagesPipeline']
IMAGE_STORE = '/home/jay/Scrapy/paulsmith/images'

SPIDER_MODULES = ['paulsmith.spiders']
NEWSPIDER_MODULE = 'paulsmith.spiders'
DEFAULT_ITEM_CLASS = 'paulsmith.items.PaulsmithItem'
USER_AGENT = '%s/%s' % (BOT_NAME, BOT_VERSION) 
```

**物品文件：**

```
from scrapy.item import Item, Field

class PaulsmithItem(Item):

    image_urls=Field()  
    image = Field()
    pass 
```

**蜘蛛代码**

```
from scrapy.spider import BaseSpider
from scrapy.selector import HtmlXPathSelector
from paulsmith.items import PaulsmithItem

class PaulSmithSpider(BaseSpider):
    name="Paul"
    allowed_domains=["http://www.paulsmith.co.uk/uk-en/shop/mens"]
    start_urls=["http://www.paulsmith.co.uk/uk-en/shop/mens/jeans"]

    def parse(self,response):
        item= PaulsmithItem()
        #open('paulsmith.html','wb').write(response.body)
        hxs=HtmlXPathSelector(response)
        #sites=hxs.select('//div[@class="category-products"]')
        item['image_urls']=hxs.select("//div[@class='category-products']//a/img/@src").extract()
        #for site in sites:
            #print site.extract()
            #image = site.select('//a/img/@src').extract()
        return item

SPIDER = PaulSmithSpider() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:56:22.490

您可能没有设置 IMAGES_STORE = '/path/to/valid/dir'

此外，尝试使用这样的自定义图像管道：

```
from scrapy.contrib.pipeline.images import ImagesPipeline
from scrapy.exceptions import DropItem
from scrapy.http import Request

class MyImagesPipeline(ImagesPipeline):

    def get_media_requests(self, item, info):
        for image_url in item['image_urls']:
            yield Request(image_url)

    def item_completed(self, results, item, info):
        image_paths = [x['path'] for ok, x in results if ok]
        if not image_paths:
            raise DropItem("Item contains no images")
        item['image_paths'] = image_paths
        return item 
```

您可以检查是否从方法“get_media_requests”请求了 image_urls

参考：[http ://doc.scrapy.org/en/latest/topics/images.html](http://doc.scrapy.org/en/latest/topics/images.html)

# php - mysql_connect 不能与 php 一起使用？

> ID：14392859
> 
> 赞同：6
> 
> 时间：2013-01-18T05:22:24.407
> 
> 标签：php, mysql, database-connection

我的代码只显示一个没有文字的空白页。为什么`mysql_connect`无法连接到数据库？

我使用的 MySQL 版本是 5.0.77，PHP 版本是 5.1.6

```
$user = "user";
$password = "user";
#$database = "database";

$con = mysql_connect("localhost",$user,$password);

if (!con) {
    echo "could not connect";
} else {
    echo "connected";
}

if (mysql_query("CREATE DATABASE my_db",$con)) {
     echo "databse created";
}

#@mysql_select_db($database) or die( "Unable to select database");
#$query="CREATE TABLE tablename(id int(6) NOT NULL auto_increment,first varchar(15) NOT NULL,last varchar(15) NOT NULL,field1-name varchar(20) NOT NULL,field2-name varchar(20) NOT NULL,field3-name varchar(20) NOT NULL,field4-name varchar(30) NOT NULL,field5-name varchar(30) NOT NULL,PRIMARY KEY (id),UNIQUE id (id),KEY id_2 (id))";
#mysql_query($query);
mysql_close($con); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:49:11.293

好吧，我想一一指出

**1.**您使用的 !con 无效并[产生错误](http://3v4l.org/T9AFe#v430)

> 注意：在 blabla 中使用未定义的常量 con - 假定 'con' 在 bla connected 线上

像这样使用你需要声明我认为你不想这样使用的常量

```
if(!$con){ 
```

* * *

**2.**整个**`ext/mysql`**PHP扩展，提供所有以mysql_为前缀的函数，[从PHP v5.5.0开始正式弃用，](http://php.net/manual/en/changelog.mysql.php)未来将被移除。所以使用`PDO`或者`MySQLi`

**好读**

1.  [不推荐使用 mysql 扩展并将在将来删除：请改用 mysqli 或 PDO](https://stackoverflow.com/questions/13944956/the-mysql-extension-is-deprecated-and-will-be-removed-in-the-future-use-mysqli/13944958#comment19236631_13944958.)
2.  [MySQL 开发人员的 PDO 教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)
3.  [Pdo 初学者教程](https://stackoverflow.com/questions/12859942/why-shouldnt-i-use-mysql-functions-in-php/14110189#14110189)

* * *

**3.**正如我在评论中看到的，您没有打开错误报告，您可以在 php.ini 文件中执行此操作

```
ini_set('display_errors', 1);
error_reporting(E_ALL); 
```

* * *

**4.**不要`#`用于评论，但它与评论相同，`//`直到**5.5.0alpha3** [**实时结果**](http://3v4l.org/9u9jb#v430)才会出现问题。然而[its( `#`) deprecated 以“#”开头的注释现在在 .INI 文件中已被弃用。](http://php.net/manual/en/migration53.deprecated.php)所以更好用

1.  对于单行注释`// this is single line comment`
2.  对于多行注释`/* this is multiline comment */`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:31:17.663

首先尝试以下代码

```
<?php
$user="user";
$password="user";
$con=mysqli_connect("localhost",$user,$password);
if(!$con)
{
echo "could not connect" ;
}
else
{
echo "connected";
}
?> 
```

然后在这里查看结果并更新

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-11T17:45:48.840

此扩展在 PHP 5.5.0 中被弃用，并在 PHP 7.0.0 中被删除。相反，应该使用 MySQLi 或 PDO_MySQL 扩展。 [在这里查看详细信息](http://php.net/manual/en/function.mysql-connect.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-21T13:17:33.697

使用`mysqli_connect`而不是`mysql_connect`.

# ios - 使用 RestKit 和 JSON 填充多个 UITable ViewController（第二个 Table 正在崩溃的应用程序）

> ID：14392860
> 
> 赞同：0
> 
> 时间：2013-01-18T05:22:31.000
> 
> 标签：ios, objective-c, json, uitableview, restkit

我正在使用网站 API 来填充我的 tableViews，使用 Restkit 和 JSON 将数据请求/接收/解析到我的模型中。已经设置了似乎工作正常的模型和映射。

问题是在加载 Section & Row 的初始表视图之后，我需要第二个 tableView 使用从 tableView 中选择的单元格/行，以显示与在第二个 tableView 中选择的特定联赛相关联的团队。

我相信这是...

*   (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
*   (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath

我没有或没有正确的，因为它是：

**在初始屏幕中正确填充数据：**

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return sports.count;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    Sport *sport = [sports objectAtIndex:section];
    return sport.leagues.count;
}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section 
{
    Sport *sport = [sports objectAtIndex:section];
    return sport.name;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"standardCell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    Sport *sport = [sports objectAtIndex:indexPath.section];
    League *league = [sport.leagues objectAtIndex:indexPath.row];
    cell.textLabel.text = league.name;

    return cell;
} 
```

**但是如果我选择一个单元格，第二个 ViewController 是一个空白的 tableView（注意：之前的 ViewController tableView 代码中没有 prepareForSegue 或 didSelectRowAtIndexPath 代码，所以我认为这就是为什么我可能会得到这个空白的 tableview）：**

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return leagues.count;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    League *league  = [leagues objectAtIndex:section];
    return league.teams.count;
}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section 
{
    League *league = [leagues objectAtIndex:section];
    return league.name;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"standardCell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    League *league = [leagues objectAtIndex:indexPath.section];
    Team *team = [league.teams objectAtIndex:indexPath.row];
    cell.textLabel.text = team.name;

    return cell;
} 
```

**或者，如果我在前一个 ViewController 中添加 prepareForSegue 和 didSelectRowAtIndexPath 代码，选择一个单元格将我们移动到下一个 ViewController，应用程序崩溃（prepareForSegue 和 didSelectRowAtIndexPath 代码肯定不正确，我试图只是拼凑一些东西，即使我至少其中一些是错误的）：**

```
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    TeamsViewController *teamsViewController = [[TeamsViewController alloc] initWithNibName:@"TeamsViewController" bundle:nil];
    teamsViewController.title = [[sports objectAtIndex:indexPath.row] objectForKey:@"sports"];

}

-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([[segue identifier] isEqualToString:@"leagueDetail"]) {
        TeamsViewController *tvc = [segue destinationViewController];
        NSIndexPath *indexPath = [self.tableView indexPathForSelectedRow];
        tvc.data = [self.navigationController objectInListAtIndex:indexPath.row]
} 
```

**我认为我遇到的问题是所选单元格需要以某种方式将其信息传递给下一个 tableView，我不知道它是否需要以某种方式将该信息附加到我从中检索数据的 baseURL选定的行，然后还以某种方式显示团队 tableView 中的数据。但我不确定这是否是问题所在，和/或如何具体实施。**

**非常感谢任何帮助，如果需要更多代码/详细信息，请告诉我，我很乐意为任何人快速获取它们。**

**编辑：这是我更新的 prepareForSegue 代码，但仍然有错误** *- 错误：在“TeamsViewController”类型的对象上找不到属性“联盟”*

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([segue.identifier isEqualToString:@"leagueDetail"]) {

        // note that "sender" will be the tableView cell that was selected
        UITableViewCell *cell = (UITableViewCell*)sender;
        NSIndexPath *indexPath = [self.tableView indexPathForCell:cell];

        TeamsViewController *tvc = (TeamsViewController *)[segue destinationViewController];
        tvc.leagues = [leagues objectAtIndex:indexPath.section];
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-21T12:48:07.033

您需要将情节提要中的**Prototype Row**与下一个视图控制器链接，命名 segue 并用于`prepareForSegue`传递必要的数据。不需要`didSelectRow...`。

要引用该行，请使用

```
[self.tableView indexPathForCell:(UITableViewCell*)sender] 
```

（我不会依赖行的选定状态。您将混合视图和模型域，违反 MVC 原则。）

另外，我注意到某个逻辑错误。如果在 VC2 中您想将联赛显示为表格视图行上的部分和球队，那么您真的应该选择一项**运动**而不是联赛。一个联赛没有多少联赛，对吧？

# coldfusion - 使用自定义标签 CF_TwoSelectsRelated 不会填充第二个 SELECT 框

> ID：14392861
> 
> 赞同：0
> 
> 时间：2013-01-18T05:22:47.183
> 
> 标签：coldfusion, coldfusion-10

我正在使用[Nate Weiss](http://www.adobe.com/cfusion/exchange/index.cfm?event=extensionDetail&extid=1000288)的 ColdFusion CF_TwoSelectsRelated 自定义标签来填充两个动态 SELECT 框。该标签位于 CFFunction 中。第 2 个 SELECT 框基于第 1 个 SELECT 框的选择。我的第一个 SELECT 框很好，但它没有在我的第二个 SELECT 框中填充结果。这是我的代码：

```
<CFFunction ...>
    <CFQuery Name="Variables.AcctDelegationQuery" DataSource="#Request.ReportDataSource#" maxrows="301" blockfactor="100">
        SELECT distinct oa.op_location_code loc,
        oa.op_fund_num op_fund_num,
        oa.op_location_code||'-'||oa.op_fund_num loc_fund,
        oa.chart_num chart_num,
        oa.acct_num acct_num,
        oa.chart_num||'-'||oa.acct_num chart_acct
        FROM ...
        WHERE ...
        group by  oa.op_location_code, oa.op_fund_num , oa.op_location_code||'-'||oa.op_fund_num, oa.chart_num, oa.acct_num , oa.chart_num||'-'||oa.acct_num
        order by loc_fund, chart_acct
    </CFQuery>

    <CF_TwoSelectsRelated
        QUERY="Variables.AcctDelegationQuery"
        NAME1="LocFund"
        NAME2="ChartAcct"
        DISPLAY1="loc_fund"
        DISPLAY2="chart_acct"
        VALUE1="loc_fund"
        VALUE2="chart_acct"
        FORCEWIDTH1="30"
        FORCEWIDTH2="30"
        SIZE1="1"
        SIZE2="1"
        HTMLBETWEEN="<td>"
        EMPTYTEXT1="(Select a Fund)"
        EMPTYTEXT2="(Select an Account)"
        ONCHANGE=""
        FORMNAME="">
</CFFunction> 
```

谢谢，冯克芳

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T15:31:16.747

无助地，在我的脑海中，我不记得它是什么......但是......原来的自定义标签中有一个错误。

我向 Nate 提交了更改，但那是很久以前的事了，我实际上不记得收到过回复。

尽管如此 - 我不再使用它。我通常会选择 jQuery 解决方案。同样，您可能会发现这篇 SO 帖子很有帮助：[Using javascript and jquery, to populate related select boxes with array structure](https://stackoverflow.com/questions/180451/using-javascript-and-jquery-to-populate-related-select-boxes-with-array-structu)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T14:17:20.257

我建议您根本不要使用该标签。两个主要原因是

1.  它是在 2002 年编写的，与当时相比，实现相关选择的方法要好得多。

2.  它基于单个查询，这限制了它的有用性。

我认为现在最好的方法是将您的 2 个 cfselects 绑定到 cfc 中的方法。有关 cfselect 和 cfinput 的文档将包含示例。

# ruby-on-rails - 如何在rails应用中设置众包平台

> ID：14392871
> 
> 赞同：1
> 
> 时间：2013-01-18T05:23:21.667
> 
> 标签：ruby-on-rails, crowdsourcing

我是新手`rails developer`。我有众包平台代码，它在众包平台的代码[上](http://github.com/lockitron/selfstarter)

并想把它放在我的 Rails 应用程序域中。我必须从哪里开始，我必须做什么才能完成这项任务？

感谢您提前回复。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T09:33:56.143

你提到的众包平台[——Selfstarter——](https://github.com/lockitron/selfstarter)本身就是一个 Rails 应用程序。

以下是您需要开始的内容：

1.  使用以下命令将代码从 github repo 拉到您的计算机上：

    `git clone https://github.com/lockitron/selfstarter.git`

2.  将目录更改为克隆的 repo 目录：

    `cd selfstarter`

3.  使用以下命令创建数据库和表：

    `bundle install --without production`

4.  启动 Rails 服务器：

    `rails server`

5.  访问客户端`the url http://localhost:3000`

您将拥有基本的 selfstarter 应用程序，如下图所示： ![SelfStarter 本地应用程序](../Images/2563cef5d3774aa0f4ba5f601b697377.png)

所有这些都在[selfstarter github repo 的 README 中进行了](https://github.com/lockitron/selfstarter/blob/master/README.md)解释。

为了能够理解这是如何完成的，并且能够根据您的特定需求定制应用程序，如果您学习 Ruby on Rails 的基础知识，将会有所帮助。我强烈推荐免费提供的在线[Ruby on Rails 教程](http://ruby.railstutorial.org/book/ruby-on-rails-tutorial)

# r - 从数据框中的列表中提取相应的值

> ID：14392872
> 
> 赞同：0
> 
> 时间：2013-01-18T05:23:30.443
> 
> 标签：r

我有一个非常简单的数据框（“newDF”），由 2 个列表“年”和“值”组成。列表“年”是一个从1850年到2011年的简单列表。我希望提取对应于1990年的“值”用于另一个包中。我怀疑这是一个非常简单的问题。任何帮助，将不胜感激。非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:28:49.060

这应该有效：

```
newDF$value[newDF$year==1990] 
```

标识数据框中的`$`一列；括号是对该列进行子集化的一种方式，在括号内您只需放置一个逻辑参数，该参数对于您想要的行（或行）将是（TRUE）。因此，您可以通过非常简单的修改获得自 1990 年以来的所有年份：

```
newDF$value[newDF$year>=1990] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T05:59:25.917

```
subset(newDF, year==1990, select="value") 
```

# android - 如何使用数据库开发 android 软键盘示例

> ID：14392873
> 
> 赞同：2
> 
> 时间：2013-01-18T05:23:31.360
> 
> 标签：android, sqlite, android-softkeyboard

我已经为建议词做了一个数据库，
但是在哪里将它放入 android 软键盘示例以及如何在程序中使用来自 db 的词？这样我就不需要完全输入这个词，它会在数据库中显示建议词

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:37:19.553

在 SDK 中查看 Samples 文件夹，其中包含一个软键盘示例以及有关如何建议结果的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-22T06:44:11.337

要从 .db 中获取建议词，请使用**SQLiteOpenHelper**或**SQLiteAssetsHelper**。

要在候选视图中显示建议词，请修改 Google SoftKeyboard 示例项目中 SoftKeyboard.java 文件的 updateCandidates() 方法。

```
/**
 * Update the list of available candidates from the current composing
 * text.  This will need to be filled in by however you are determining
 * candidates.
 */
private void updateCandidates() {
    if (!mCompletionOn) {
        // mComposing is current text you typed.
        if (mComposing.length() > 0) {
            // Get suggested words list from your database here.
            ArrayList<String> list = new ArrayList<String>();
            list.add(mComposing.toString());

            // This method will show the list as suggestion. 
            setSuggestions(list, true, true);
        } else {
            setSuggestions(null, false, false);
        }
    }
} 
```

要输入从候选视图中选择的单词以输入文本，请在 SoftKeyboard 示例项目中修改以下方法。

```
public void pickSuggestionManually(int index) {
    if (mCompletionOn && mCompletions != null && index >= 0
            && index < mCompletions.length) {
        CompletionInfo ci = mCompletions[index];
        getCurrentInputConnection().commitCompletion(ci);
        if (mCandidateView != null) {
            mCandidateView.clear();
        }
        updateShiftKeyState(getCurrentInputEditorInfo());
    } else if (mComposing.length() > 0) {
        // If we were generating candidate suggestions for the current
        // text, we would commit one of them here.  But for this sample,
        // we will just commit the current text.
        commitTyped(getCurrentInputConnection());
        // You need to add getter method for suggested words shown in candidate view
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-25T06:23:42.480

您只需要在 SoftKeyboard.java 类中处理数据库。

# jquery - jquery popups - 有多个链接，但只需要一个留在前台的弹出窗口

> ID：14392874
> 
> 赞同：0
> 
> 时间：2013-01-18T05:23:41.483
> 
> 标签：jquery, popup

我的 html 页面中有多个指向同一个 jquery 弹出窗口的链接。弹出窗口内的实际表单将根据弹出该弹出窗口的链接而有所不同。但实际的弹出窗口本身是一样的。页面内容是动态的，我永远不知道弹出窗口的链接会出现在哪里以及它将包含哪种形式。

我在实施方面遇到了 3 个问题：

1.  我用作链接的按钮（图像）通过弹出窗口及其包含的文本来单击并显示弹出窗口。我试过在css中的不同地方设置z属性并设置不同的值，但没有任何效果。

2.  按钮链接停留在前台并且是可点击的，而弹出窗口内的表单被禁用。

3.  如果我点击另一个按钮链接，我会得到第二个弹出窗口。我希望在第二个弹出窗口出现之前关闭第一个弹出窗口。

您可以在 jsFiddle 的示例中看到问题：http: [//jsfiddle.net/azxf4/2/](http://jsfiddle.net/azxf4/2/)

弹出窗口.css

```
.popbox {
margin:0px auto;
text-align:center;
position:relative;
}

.collapse { position:relative; }

 .box {
  display:block;
  display:none;
  background:#FFF;
  border:solid 1px #BBBBBB;
  border-radius:5px;
  box-shadow:0px 0px 15px #999;
  position:absolute;
}
.open {}

  .box a.close {
   color:red;
   font-size:12px;
   font-family:arial;
   text-decoration:underline;
  }

  .arrow {
    width: 0;
    height: 0;
    border-left: 11px solid transparent;
    border-right: 11px solid transparent;
    border-bottom: 11px solid #FFF;
    position:absolute;
    left:1px;
    top:-10px;
    z-index:1001;
  }

  .arrow-border {
    width: 0;
    height: 0;
    border-left: 11px solid transparent;
    border-right: 11px solid transparent;
    border-bottom: 11px solid #BBBBBB;
    position:absolute;
    top:-12px;
    z-index:1000;
  } 
```

popup.js

```
(function(){

$.fn.popbox = function(options){
var settings = $.extend({
  selector      : this.selector,
  open          : '.open',
  box           : '.box',
  arrow         : '.arrow',
  arrow_border  : '.arrow-border',
  close         : '.close'
}, options);
var methods = {
  open: function(event){
    event.preventDefault();
    var pop = $(this);
    var box = $(this).parent().find(settings['box']);

    box.find(settings['arrow']).css({'left': box.width()/2 - 10});
    box.find(settings['arrow_border']).css({'left': box.width()/2 - 10});

    if(box.css('display') == 'block'){
      methods.close();
    } else {
      box.css({'display': 'block', 'top': 10, 'left': ((pop.parent().width()/2) -box.width()/2 )});
    }
  },

  close: function(){
    $(settings['box']).fadeOut("fast");
  }
};

$(document).bind('keyup', function(event){
  if(event.keyCode == 27){
    methods.close();
  }
});

$(document).bind('click', function(event){
  if(!$(event.target).closest(settings['selector']).length){
    methods.close();
  }
});

return this.each(function(){
  $(this).css({'width': $(settings['box']).width()}); // Width needs to be set otherwise popbox will not move when window resized.
  $(settings['open'], this).bind('click', methods.open);
  $(settings['open'], this).parent().find(settings['close']).bind('click', methods.close);
});
}

}).call(this); 
```

html

```
<html>

<head></head>

<body>
    <div class='popbox'><a class='open' href='#'><img src='http://thezoovninc.com/images/Web/New%20folder/plusButton.png' width='30' height='30'></a>

        <div class='collapse'>
            <div class='box'>
                <div class='arrow'></div>
                <div class='arrow-border'></div>
                <form action='someActionPage.jsp' id='actionId'>
                    <p>test</p>
                    <div class='input'>Last Name:<input type='text' name='lastname' id='lastname' /> </div>
                    <div class='input'>First Name:<input type='text' name='firstname' id='firstname' /> </div>
                    <div class='close'>
                        <input type='submit' value='Add' /> <a href='#'>Cancel</a>
                    </div>
                </form>
            </div>
         </div>
      </div>

    <div class='popbox'><a class='open' href='#'><img src='http://thezoovninc.com/images/Web/New%20folder/plusButton.png' width='30' height='30'></a>

        <div class='collapse'>
            <div class='box'>
                <div class='arrow'></div>
                <div class='arrow-border'></div>
                <form action='someActionPage.jsp' id='actionId'>
                    <p>test</p>
                    <div class='input'>Last Name:<input type='text' name='lastname' id='lastname' /> </div>
                    <div class='input'>First Name:<input type='text' name='firstname' id='firstname' /> </div>
                    <div class='close'>
                        <input type='submit' value='Add' /> <a href='#'>Cancel</a>
                    </div>
                </form>
            </div>
         </div>
      </div>
 <div class='popbox'><a class='open' href='#'><img src='http://thezoovninc.com/images/Web/New%20folder/plusButton.png' width='30' height='30'></a>

        <div class='collapse'>
            <div class='box'>
                <div class='arrow'></div>
                <div class='arrow-border'></div>
                <form action='someActionPage.jsp' id='actionId'>
                    <p>test</p>
                    <div class='input'>Last Name:<input type='text' name='lastname' id='lastname' /> </div>
                    <div class='input'>First Name:<input type='text' name='firstname' id='firstname' /> </div>
                    <div class='close'>
                        <input type='submit' value='Add' /> <a href='#'>Cancel</a>
                    </div>
                </form>
            </div>
         </div>
      </div>

   <div class='popbox'><a class='open' href='#'><img src='http://thezoovninc.com/images/Web/New%20folder/plusButton.png' width='30' height='30'></a>

        <div class='collapse'>
            <div class='box'>
                <div class='arrow'></div>
                <div class='arrow-border'></div>
                <form action='someActionPage.jsp' id='actionId'>
                    <p>test</p>
                    <div class='input'>Last Name:<input type='text' name='lastname' id='lastname' /> </div>
                    <div class='input'>First Name:<input type='text' name='firstname' id='firstname' /> </div>
                    <div class='close'>
                        <input type='submit' value='Add' /> <a href='#'>Cancel</a>
                    </div>
                </form>
            </div>
         </div>
      </div>

      <script type="text/javascript" >
         $(document).ready(function () {
        $(".popbox").popbox();
    });
      </script>
      </body> 
```

我确定这很简单，但我无法弄清楚。任何建议将不胜感激！

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T21:36:37.400

我在使用同一个 jQuery 插件时遇到了同样的问题。

虽然我不是专业程序员，但我似乎通过添加这一行解决了这个问题

$(".box").css({"display": "none"});

在打开功能中：

```
 open: function(event){
    event.preventDefault();

    var pop = $(this);
    var box = $(this).parent().find(settings['box']);

     $(".box").css({"display": "none"});

    box.find(settings['arrow']).css({'left': box.width()/2 - 10});
    box.find(settings['arrow_border']).css({'left': box.width()/2 - 10});

    if(box.css('display') == 'block'){
      methods.close();
    } else {
      box.css({'display': 'block', 'top': 10, 'left': ((pop.parent().width()/2) -box.width()/2 )});
    }
  }, 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T20:10:43.117

要关闭所有弹出窗口，请尝试以下操作：添加“关闭”事件监听器 b. 在打开其他弹出框之前调用 close

```
(function(){

$.fn.popbox = function(options){
var settings = $.extend({
  selector      : this.selector,
  open          : '.open',
  box           : '.box',
  arrow         : '.arrow',
  arrow_border  : '.arrow-border',
  close         : '.close'
}, options);
var methods = {
  open: function(event){
    event.preventDefault();
    var pop = $(this);
    var box = $(this).parent().find(settings['box']);

    $(settings['open']).trigger("close"); // trigger a close event for all 

    box.find(settings['arrow']).css({'left': box.width()/2 - 10});
    box.find(settings['arrow_border']).css({'left': box.width()/2 - 10});

    if(box.css('display') == 'block'){
      methods.close();
    } else {
      box.css({'display': 'block', 'top': 10, 'left': ((pop.parent().width()/2) -box.width()/2 )});
    }
  },

  close: function(){
    $(settings['box']).fadeOut("fast");
  }
};

$(document).bind('keyup', function(event){
  if(event.keyCode == 27){
    methods.close();
  }
});

$(document).bind('click', function(event){
  if(!$(event.target).closest(settings['selector']).length){
    methods.close();
  }
});

return this.each(function(){
  $(this).css({'width': $(settings['box']).width()}); // Width needs to be set otherwise popbox will not move when window resized.
  $(settings['open'], this).bind('click', methods.open);
  $(settings['open'], this).parent().find(settings['close']).bind('click', methods.close);
  $(this).bind('close', methods.close); // have a close event
});
}

}).call(this); 
```

-- 这是#1 的 CSS 修复（尝试过 IE8 和 FF18）

```
.box {
  display:block;
  display:none;
  background:#FFF;
  border:solid 1px #BBBBBB;
  border-radius:5px;
  box-shadow:0px 0px 15px #999;
  position:absolute;
  z-index: 1000;
} 
```

# wpf - LINQ to EF（Entify Framework）不创建部分方法“OnColumnChanged”

> ID：14392876
> 
> 赞同：0
> 
> 时间：2013-01-18T05:24:00.080
> 
> 标签：wpf, vb.net, mvvm, linq-to-entities, mvvm-light

我创建了一个 LINQ to EF 模型（用作 mvvm wpf 应用程序中的模型），但每个表的类不包含 on[columnname]changed 或 on[columnname]change 方法。我认为这些是由框架自动生成的。我想添加一些我自己的公共部分方法，以创建一些数据验证，如下页所示：http: [//blogs.msdn.com/b/bethmassi/archive/2009/07/07/implementing-验证在 wpf-on-entity-framework-entities.aspx](http://blogs.msdn.com/b/bethmassi/archive/2009/07/07/implementing-validation-in-wpf-on-entity-framework-entities.aspx)

以下类是 EF 自动生成的代码示例。

```
 Imports System
 Imports System.Collections.Generic

Partial Public Class client
Public Property idClient As Integer
Public Property chrFirst As String
Public Property chrLast As String
Public Property chrCompany As String
Public Property chrEmail As String
Public Property chrPhone1 As String
Public Property chrPhone1Ext As String
Public Property chrPhone2 As String
Public Property chrPhone2Ext As String
Public Property chrFax As String
Public Property chrSuite As String
Public Property chrAddess As String
Public Property chrCity As String
Public Property chrProvince As String
Public Property chrCountry As String
Public Property chrPostal As String
Public Property dtCreated As Nullable(Of Date)
Public Property dtUpdated As Nullable(Of Date)
Public Property FTC_Type As Nullable(Of Byte)

Public Overridable Property invoices As ICollection(Of invoice) = New HashSet(Of invoice)
Public Overridable Property jobs As ICollection(Of job) = New HashSet(Of job)

 End Class 
```

当我添加同名的部分公共类时，我可以在 Visual Studio 窗口右上角的声明下拉列表中看到 EF 生成的原始类的所有声明。

1- LINQ to EF 是否以这种方式工作？2-我正在使用 vb.net 4 和 Visual Studio 2012，还有其他方法吗？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T16:10:33.633

您使用哪个模板来生成文件？

自[跟踪实体](http://msdn.microsoft.com/en-us/library/vstudio/ff407090%28v=vs.100%29.aspx)最适合在客户端/服务器 WPF 应用程序中使用，因为它们实现`INotifyPropertyChanged`并允许断开连接（n 层）更改跟踪。

# sql - 选择要插入记录的主表的标识

> ID：14392881
> 
> 赞同：1
> 
> 时间：2013-01-18T05:24:29.177
> 
> 标签：sql, sql-server, sql-server-2008-r2

我有一张桌子让我们说`TableA`。我创建了一个`trigger`在插入、更新或删除记录时触发的函数，`TableA`并在另一个表中插入记录让我们说`TableB`。现在我在哪里发现困难来自我正在返回`stored procedures`的一些。当我从. 有没有办法解决这个问题？我只想从，从。等待您的宝贵回复。`TableA``scope_identity()``inserted record``TableA's``TableB``scope_identity()``TableA``NOT``TableB`

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:00:00.787

SCOPE_IDENTITY() 应该在这种情况下工作，它的作用域应该是您的存储过程和对 TableA 的插入，而不是在触发器中完成的插入。

```
CREATE TABLE [dbo].[TableA](
    [ID] [int] IDENTITY(1,1) NOT NULL,
    [TestColumn] [nvarchar](50) NULL
) ON [PRIMARY]

CREATE TABLE [dbo].[TableB](
    [ID] [int] IDENTITY(1,1) NOT NULL,
    [TestColumn] [nvarchar](50) NULL
) ON [PRIMARY]

CREATE TRIGGER [dbo].[TableA_AIDU]
   ON  [dbo].[TableA]
   AFTER INSERT,DELETE,UPDATE
AS 
BEGIN
    SET NOCOUNT ON;
    INSERT INTO TableB ( TestColumn )
    SELECT 'TableA Modified'
END

CREATE PROCEDURE [dbo].[sp_InsertToTableA]
    @ID INT OUTPUT  
AS
BEGIN
    SET NOCOUNT ON;
    INSERT TableA ( TestColumn )
    SELECT 'Insert from sp_InsertToTableA'
    SET @ID = SCOPE_IDENTITY()
END 
```

The stored proc returns the ID from TableA, and the TableB insert is triggered as expected. Are you sure you're not using @@IDENTITY instead of SCOPE_IDENTITY()?

# java - 如何从斯坦福解析器的输出中提取名词及其对应的形容词

> ID：14392882
> 
> 赞同：2
> 
> 时间：2013-01-18T05:24:29.653
> 
> 标签：java, stanford-nlp

我使用**Stanford Core-NLP parser**得到以下输出。现在我如何从输出中提取名词及其对应的形容词或**与该特定名词相关的**任何必需信息。我希望所有名词都应该与它们的形容词一起按顺序提取，以便我知道哪个形容词与文本中的哪个名词相关

例如：

我需要从下面的输出中提取名词“Santosh”及其对应的形容词“帅哥”

```
nn(Santosh-2, Kosgi-1)
nsubj(handsome-4, Santosh-2)
cop(handsome-4, is-3)
root(ROOT-0, handsome-4)
aux(sent-6, has-5)
rcmod(handsome-4, sent-6)
det(email-8, an-7)
dobj(sent-6, email-8)
nn(University-11, Stanford-10)
prep_to(sent-6, University-11 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-25T01:32:13.393

我刚刚开始玩弄斯坦福解析器，所以对此持保留态度。

我要**提取一个名词及其相应的形容词或与该特定名词相关的任何必需信息，**我会做的是：

生成句子的解析树。（查看 ParserDemo.java 以了解如何执行此操作）。

[https://wiki.csc.calpoly.edu/CSC-581-S11-06/browser/trunk/Stanford/stanford-parser-2011-04-20/src/edu/stanford/nlp/parser/lexparser/demo/ ParserDemo.java?rev=2](https://wiki.csc.calpoly.edu/CSC-581-S11-06/browser/trunk/Stanford/stanford-parser-2011-04-20/src/edu/stanford/nlp/parser/lexparser/demo/ParserDemo.java?rev=2)

解析树将如下所示：

```
 (ROOT
    (S
     (NP (JJ handsome) (NNP Joe) (NNP Blow))
     (VP (VBD sent)
      (NP (DT an) (NN email))
      (PP (TO to)
        (NP (PRP$ his) (JJ congressional) (NN representative)))))) 
```

对于这样的一句话：英俊的乔布洛给他的国会代表发了一封电子邮件

然后您编写一些代码以递归方式遍历解析树并挑选出“NP”片段。

例如，一个这样的片段是 (NP (JJ nice) (NNP Joe) (NNP Blow))

一旦你有了那个片段，你就可以收集所有你感兴趣的形容词和任何其他修饰语。了解代码的含义很有帮助 [ [http://bulba.sdsu.edu/jeanette/thesis/PennTags.html](http://bulba.sdsu.edu/jeanette/thesis/PennTags.html) ]

我编写了一些代码来爬回解析树并提取内容...这可能会帮助您入门>

不能给你所有的代码，但这里有一些......

```
static {
    nounNodeNames = new ArrayList<String>();

    nounNodeNames.add( "NP");
    nounNodeNames.add( "NPS");
    nounNodeNames.add( "FW");
    nounNodeNames.add( "NN");
    nounNodeNames.add( "NNS");
    nounNodeNames.add( "NNP");
    nounNodeNames.add( "NNPS");
}

public  List<NounPhrase> extractPhrasesFromString(Tree tree, String originalString) {
    List<NounPhrase> foundPhraseNodes = new ArrayList<NounPhrase>();

    collect(tree, foundPhraseNodes);
    logger.debug("parsing " + originalString + " yields " + foundPhraseNodes.size() + " noun node(s).");
    if (foundPhraseNodes.size() == 0) {
        foundPhraseNodes.add(new NounPhrase(tree, originalString));
    }
    return  foundPhraseNodes;
}

private void collect(Tree tree, List<NounPhrase> foundPhraseNodes) {
    if (tree == null || tree.isLeaf()) {
        return;
    }

    Label label = tree.label();
    if (label instanceof CoreLabel) {
        CoreLabel coreLabel = ((CoreLabel) label);

        String text = ((CoreLabel) label).getString(CoreAnnotations.OriginalTextAnnotation.class);
        logger.debug(" got text: " + text);
        if (text.equals("THE")) {
            logger.debug(" got THE text: " + text);
        }

        String category = coreLabel.getString(CoreAnnotations.CategoryAnnotation.class);
        if (nounNodeNames.contains(category)) {
            NounPhrase phrase = null;
            String phraseString = flatten(tree);
            if ((phrase = stringToNounPhrase.get(phraseString)) == null) {
                phrase = new NounPhrase(tree, phraseString);
                stringToNounPhrase.put(phraseString, phrase);
            }

            if (! foundPhraseNodes.contains(phrase)) {
                logger.debug("adding found noun phrase to list: {}", phrase.debug());
                foundPhraseNodes.add(phrase);
            } else {
                logger.debug("on list already, so skipping found noun phrase: {}", phrase.debug());
            }
        }
    }

    List<Tree> kids = tree.getChildrenAsList();
    for (Tree kid : kids) {
        collect(kid, foundPhraseNodes);
    }
} 
```

# actionscript-3 - Android 和 Flash Professional CS 5 Adob e Air Audio：流错误

> ID：14392893
> 
> 赞同：1
> 
> 时间：2013-01-18T05:25:09.723
> 
> 标签：actionscript-3, flash, air, flash-cs5

我有以下代码：

```
import flash.media.Sound;
import flash.net.URLRequest;

function playBase():void
{

    var urlRequest:URLRequest = new URLRequest("mybase.mp3");
    var sound:Sound = new Sound();

    sound.load(urlRequest);
    sound.play();

}

playBase() 
```

我将 mybase.mp3 放入我的 LIBRARY 部分，但调试输出显示：

```
Error #2044: Unhandled IOErrorEvent:. text=Error #2032: Stream Error. 
```

为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:34:20.883

URLRequest 用于加载外部文件，因此要么

1：将 mp3 文件作为“mybase.mp3”保存到运行您的 Flash/AIR 应用程序的同一目录中，而不是在您的库中。

或者

2：在您的库中右键单击 mp3 文件 > 属性 > 并使用类似`MyBaseSound`. 一旦你这样做了，你应该能够像一个类一样引用声音，比如：

```
var s:MyBaseSound = new MyBaseSound();
s.play() 
```

**编辑**

如果使用选项 1，您可能需要转到发布设置，然后转到您的 Android 设置区域并在包含的文件下添加该文件。这应该将其添加到您的应用程序包/包中。（在 CS6 中它是一个小扳手图标，但在 CS5 中我不记得在 Android 上到达那里的确切步骤，但我知道 iOS 设置页面有一个类似的包含文件选项。）

# java - 如何在android中将位图转换为PDF格式

> ID：14392896
> 
> 赞同：8
> 
> 时间：2013-01-18T05:25:25.980
> 
> 标签：java, android, pdf, bitmap

**我在位图类型的“thepic”变量中有位图..

```
imageUri = (Uri) intent.getParcelableExtra(Intent.EXTRA_STREAM); 
String realpath=getRealPathFromURI(imageUri); 
thepic = BitmapFactory.decodeFile(realpath);** 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T06:30:29.180

你可以这样做......你必须下载[itextpdf-5.3.2.jar](http://mvnrepository.com/artifact/com.itextpdf/itextpdf/5.3.2)文件并附加到你的项目中......

```
public class WritePdfActivity extends Activity 
{
  private static String FILE = "mnt/sdcard/FirstPdf.pdf";

  static Image image;
  static ImageView img;
  Bitmap bmp;
  static Bitmap bt;
  static byte[] bArray;

  @Override
public void onCreate(Bundle savedInstanceState) 
{   
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    img=(ImageView)findViewById(R.id.imageView1);

    try 
    {
        Document document = new Document();

        PdfWriter.getInstance(document, new FileOutputStream(FILE));
        document.open();

        addImage(document);
        document.close();
    }

    catch (Exception e) 
    {
        e.printStackTrace();
    }

}
  private static void addImage(Document document) 
  {

    try 
    {
        image = Image.getInstance(bArray);  ///Here i set byte array..you can do bitmap to byte array and set in image...
    } 
    catch (BadElementException e) 
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    catch (MalformedURLException e) 
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    catch (IOException e) 
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
     // image.scaleAbsolute(150f, 150f);
      try 
      {
        document.add(image);
    } catch (DocumentException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
 }
 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T05:28:42.143

您需要使用 3rd 方库，没有内置功能。我知道一些做相反的库（Qoppa、PDFTron、Reade），但它们都花了很多钱。我听说 iText 可以很好地写入位图，但我自己没有使用过。

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2013-01-18T05:49:24.977

我还没有尝试过，但是查看stackoverflow我正在给你答案。

1.  [按照这个答案](https://stackoverflow.com/questions/5292590/how-to-generate-a-pdf-using-android-drawing-commands)是不可能的

2.  有可能按照这个关于SO的[答案](https://stackoverflow.com/questions/5389994/convert-image-to-pdf-in-android)

因此，您检查两个答案并研究它们，看看它是否对您有帮助。

# ruby-on-rails-3.2 - 我可以使用 Guard/Spork 更改 Rspec 中每次运行的随机化种子吗？

> ID：14392898
> 
> 赞同：5
> 
> 时间：2013-01-18T05:25:30.850
> 
> 标签：ruby-on-rails-3.2, rspec2, guard, spork

我目前正在使用 Rspec 进行测试，以及 Guard 和 Spork 为方便起见。我注意到除非我退出并重新启动 Guard，否则随机种子在运行之间不会改变。虽然这不是一个主要问题，但如果这样做会很方便。

任何人都知道改变事物的方法，以便每次运行测试时都会使用新种子？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-29T20:11:30.673

我将`--order rand:$RANDOM`标志添加到我的 Guardfile 中：

```
guard 'rspec', zeus: true, cli: '--color --order rand:$RANDOM' do
  watch(...)
end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-11T19:30:49.370

是的，以下对我有用。添加到 spec_helper.rb：

```
Spork.each_run do
  RSpec.configuration.seed = srand && srand % 0xFFFF
end 
```

[从这里](https://github.com/rspec/rspec-core/issues/633)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T18:24:25.950

你用的是什么版本？

我正在使用警卫（1.6.2），rspec（2.13.0）。我没有使用 spork，但它为我随机化了种子。

这是我的 spec_helper 中的相关位：

```
RSpec.configure do |config|
  config.order = 'random'
end 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-03T09:41:23.383

如果您想在 spring 上下文中具有随机顺序，但也使用`--seed`参数添加：

```
config.seed = srand % 0xFFFF unless ARGV.any? { |arg| arg =~ /seed/ } 
```

到`spec_helper.rb`.

# ruby-on-rails - Rails 3路线双重检查匹配

> ID：14392902
> 
> 赞同：0
> 
> 时间：2013-01-18T05:25:44.963
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, routes

目前，我的 routes.rb 上有这个

```
match '/:username' => 'profiles#show', :as => :public_profile 
```

现在我想使用这种格式，并添加另一个参数来为另一个路由进行另一个匹配。我不知道如何解释，但让我举个例子。假设与上面的匹配：

```
http://example.com/foo_username 
```

这将连接到 foo_username 的配置文件。现在我想要一个这样的网址：

```
http://example.com/foo_username/5-my-story 
```

此链接应转到以 5-my-story 作为其 id（slug）的 stories#show 操作，并且此故事归路径中提供的用户名所有。如何在路由中配置它？我试过这个：

```
match '/:username/:id' => 'stories#show', :as => public_story 
```

它有效，但是当我更改用户名的参数时，它仍然是故事。它应该返回未找到的路线，因为用户名不拥有故事。

我如何最好地实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:34:22.057

调整它以满足您的需求：

```
# stories_controller.rb

def show
  @story = Story.find(params[:id])
  raise ActiveRecord::RecordNotFound unless @story.user.name == params[:username]
  # ...
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:31:10.783

在您的控制器中，您将拥有如下内容：

```
@story = Story.find(params[:id]) 
```

您需要将其限制为用户的故事，可能是这样

```
@user = User.find_by_username( params[:username] )
@story = @user.stories.find(params[:id]) 
```

然后你必须检查@story 是否为 nil，如果不是则返回 404。

# php - 比较 PHP 中的 Unicode 字符

> ID：14392904
> 
> 赞同：2
> 
> 时间：2013-01-18T05:25:51.373
> 
> 标签：php, wordpress, unicode, utf-8

我无法比较我认为应该完全相同的两个 unicode 字符。我怀疑它们以某种方式编码不同，但不知道如何将它们更改为相同的编码。

我要比较的字符来自缅甸 Unicode 块。我在 php 5 上运行 wordpress，并试图制作一个自定义插件来处理缅甸 Unicode。我所有的文件都以 UTF-8 编码，但我不知道 wordpress 是做什么的。

这是我正在做的事情：

```
function myFunction( $inputText ) {
    $outputText = '';
    $inputTextArray = str_split($inputText);
    foreach($inputTextArray as $char) {
        if ($char == "က") // U+1000, a character from the Myanmar Unicode block 
            $outputText .= $char;
    }
    return $outputText;
}
add_filter( 'the_content', 'myFunction'); 
```

在解决问题的这个阶段，该函数应该只返回 က 它出现在内容中的位置。但是，它只返回空字符串，即使 က 明显存在于帖子内容中。如果我将字符更改为任何拉丁字符，该函数将按预期工作。

所以，我的问题是，我如何编码这些字符（`$char`或者`"က"`），以便当`$char`包含这个字符时，它们比较相等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:45:38.510

`str_split`不知道 unicode。对于多字节字符，它将它们拆分为单个字符。尝试使用[多字节字符串函数](http://bd1.php.net/manual/en/ref.mbstring.php)或开关[`preg_split`](http://php.net/preg_split)`/u`

```
$inputTextArray = preg_split("//u", $inputText, -1, PREG_SPLIT_NO_EMPTY); 
```

[http://codepad.viper-7.com/ErFwcy](http://codepad.viper-7.com/ErFwcy)

使用多字节函数[mb_substr_count](http://php.net/mb_substr_count)你也可以减少你的代码。像这样，

```
function myFunction( $inputText ) {
    return str_repeat("က", mb_substr_count($inputText, "က"));
} 
```

或者使用正则表达式，

```
preg_match_all("/က/u", $text, $match);
$output = implode("", $match[0]); 
```

# asp.net - 同时使用不同服务器时的服务器问题

> ID：14392905
> 
> 赞同：1
> 
> 时间：2013-01-18T05:25:58.130
> 
> 标签：asp.net

我在一个网站上工作。在那两台服务器中，一台是本地服务器，另一台是主服务器..

我正在做移植，比如从本地服务器获取数据并移植到主服务器。主服务器是 SAP 服务器 .. 我必须将值从本地服务器移植到 SAP 服务器 .. 这样做时，如果网络出现故障或网络断开连接，我的移植速度会变慢.. 我也无法备份..

任何机构都可以帮我解决这个问题。如何克服这个问题。

这是我的网络配置文件..

这是我要移植的代码文件

```
protected void Button1_Click2(object sender, EventArgs e)
{

    // Looping through all the rows in the GridView
    foreach (GridViewRow row in GridView1.Rows)
    {
        CheckBox checkbox = (CheckBox)row.FindControl("chkRows");
        //Check if the checkbox is checked.

        if (checkbox.Checked)
        {
            // Retreive the Product ID
            int productID = Convert.ToInt32(GridView1.DataKeys[row.RowIndex].Value);
            PONO = productID.ToString();
            i++;

            SqlConnection conn1, conn2;

            SqlCommand cmdd2, cmd3, cmd4, cmd5, cmdd1;

            ConnectionStringSettings setting;
            setting = System.Configuration.ConfigurationManager.ConnectionStrings["ConnectionString"];
            string connstring1 = setting.ConnectionString;

            conn1 = new SqlConnection(connstring1);
            conn1.Open();

            cmd4 = new SqlCommand("select Location from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            location = (string)cmd4.ExecuteScalar();

            //cmd4 = new SqlCommand("select PODate from CustOrder where PONO=@PONO", conn1);
            //cmd4.Parameters.AddWithValue("@PONO", PONO);
            //podate = (string)cmd4.ExecuteScalar().ToString();
            podate = DateTime.Now.ToString("yyyy-MM-dd");

            cmd4 = new SqlCommand("select POStatus from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            POStatus = (string)cmd4.ExecuteScalar().ToString();

            cmd4 = new SqlCommand("select Discount from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            dis = (string)cmd4.ExecuteScalar().ToString();

            cmd4 = new SqlCommand("select AfterTaxVal from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            btv = (string)cmd4.ExecuteScalar().ToString();

            cmd4 = new SqlCommand("select CustName from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            CustName = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select CustAddress from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            CustAddress = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select ContactNo from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            ContactNo = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select PINCode from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            PinCode = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select Remarks from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            Remarks = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select LocationCode from Location where LocationName = @LocationName", conn1);
            cmd4.Parameters.AddWithValue("@LocationName", location);
            locationcode = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select LocName from Location where LocationName = @LocationName", conn1);
            cmd4.Parameters.AddWithValue("@LocationName", location);
            locname = (string)cmd4.ExecuteScalar();

            CName = PONO + "-" + CustName;
            POStatus = "Processing";

            CustAdd = CustName + ","+ CustAddress + " PinCode:" + PinCode + " TelNo:" + ContactNo;

            cmd4 = new SqlCommand("select Support from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            Support = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select Catagory from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            Catagory = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select OutletName from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            OutletName = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("select Subsidy from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            Subsidy = (string)cmd4.ExecuteScalar().ToString();

            cmd4 = new SqlCommand("select EmpName from CustOrder where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            EmpName = (string)cmd4.ExecuteScalar();

            cmd4 = new SqlCommand("update CustOrder set POStatus = @POStatus where PONO=@PONO", conn1);
            cmd4.Parameters.AddWithValue("@PONO", PONO);
            cmd4.Parameters.AddWithValue("@POStatus", POStatus);
            cmd4.ExecuteScalar();

            Disc = float.Parse(dis);
            BFT = float.Parse(btv); 
            d = (Disc /(BFT + Disc)) * 100;

            conn1.Close();

            setting = System.Configuration.ConfigurationManager.ConnectionStrings["NewConnectionString"];
            string connstring4 = setting.ConnectionString;
            conn2 = new SqlConnection(connstring4);
            conn2.Open();
            cmd3 = new SqlCommand("insert into OrbERP.dbo.CustInfo values (@DocNum, @CardCode , @CardName, @DocDate , @DocDueDate , @Status , @Discount , @CustName , @CustDet, @BookedBy , @Outlet , @Support , @Catagory , @Capital , @CustAdd , @Remarks, @InvoiceNo, @InvoiceDate, @Value)", conn2);

            cmd3.Parameters.AddWithValue("@DocNum", PONO);
            cmd3.Parameters.AddWithValue("@CardCode", locationcode);
            cmd3.Parameters.AddWithValue("@CardName", locname);
            cmd3.Parameters.AddWithValue("@DocDate", podate);
            cmd3.Parameters.AddWithValue("@DocDueDate", podate);
            cmd3.Parameters.AddWithValue("@Status", "PFB");
            cmd3.Parameters.AddWithValue("@Discount", d);
            cmd3.Parameters.AddWithValue("@CustName", CName);
            cmd3.Parameters.AddWithValue("@CustDet", location);
            cmd3.Parameters.AddWithValue("@BookedBy", EmpName);
            cmd3.Parameters.AddWithValue("@Outlet", OutletName);
            cmd3.Parameters.AddWithValue("@Support", Support);
            cmd3.Parameters.AddWithValue("@Catagory", Catagory);
            cmd3.Parameters.AddWithValue("@Capital", Subsidy);
            cmd3.Parameters.AddWithValue("@CustAdd", CustAdd);
            cmd3.Parameters.AddWithValue("@Remarks", Remarks);
            cmd3.Parameters.AddWithValue("@InvoiceNo", "");
            cmd3.Parameters.AddWithValue("@InvoiceDate", "");
            cmd3.Parameters.AddWithValue("@Value", "");

            cmd3.ExecuteNonQuery();

            SqlConnection conn10, conn11;

            SqlCommand cmd10, cmd11, cmd12;

            ConnectionStringSettings setting1;
            setting1 = System.Configuration.ConfigurationManager.ConnectionStrings["ConnectionString"];
            string connstring2 = setting1.ConnectionString;

            conn10 = new SqlConnection(connstring2);
            conn10.Open();
            cmd10 = new SqlCommand("select Count(*) from POTable where PONO=@PONO", conn10);
            cmd10.Parameters.AddWithValue("@PONO", PONO);
            count = (int)cmd10.ExecuteScalar();
            pn = int.Parse(PONO);
            Flag = pn * 10;
            for (int j = 0; j < count; j++)
            {
                cmd10 = new SqlCommand("select ProductCode from POTable where Flag=@Flag", conn10);
                cmd10.Parameters.AddWithValue("@Flag", Flag);
                ProductCode = (string)cmd10.ExecuteScalar();

                cmd10 = new SqlCommand("select ProductQty from POTable where Flag=@Flag", conn10);
                cmd10.Parameters.AddWithValue("@Flag", Flag);
                ProductQty = (string)cmd10.ExecuteScalar().ToString();

                cmd10 = new SqlCommand("select ProductBasePrice from POTable where Flag=@Flag", conn10);
                cmd10.Parameters.AddWithValue("@Flag", Flag);
                ProductBasePrice = (string)cmd10.ExecuteScalar().ToString();

                ConnectionStringSettings setting2;
                setting2 = System.Configuration.ConfigurationManager.ConnectionStrings["NewConnectionString"];
                string connstring3 = setting2.ConnectionString;
                conn11 = new SqlConnection(connstring3);
                conn11.Open();

                cmd11 = new SqlCommand("insert into OrbERP.dbo.CustProd values (@DocNum, @ItemCode , @ItemDescription, @Quantity , @Price , @TaxCode , @LineTotal , @Flag , @Catagory)", conn11);

                cmd11.Parameters.AddWithValue("@DocNum", PONO);
                cmd11.Parameters.AddWithValue("@ItemCode", ProductCode);
                cmd11.Parameters.AddWithValue("@ItemDescription", ProdDisp);
                cmd11.Parameters.AddWithValue("@Quantity", ProductQty);
                cmd11.Parameters.AddWithValue("@Price", ProductBasePrice);

                cmd11.ExecuteNonQuery();
                conn11.Close();
                Flag = Flag + 1;
            }
            conn10.Close();
        }
    }
   /* TextBox1.Text = usename;
     TextBox2.Text = i.ToString();

    string count = i.ToString();
    string Username = usename;

    string Loginname = Label2.Text; */
    Response.Redirect("SAPTrans.aspx");

} 
```

这是我的连接字符串代码

```
<connectionStrings>
    <addname="ConnectionString"connectionString="DataSource=.\SQLEXPRESS;AttachDbFilename=C:\netnewworking\NEWWORKING\WebSite3\App_Data\ORBEnergy.mdf;Integrated Security=True;UserInstance=True" providerName="System.Data.SqlClient"/> 
```

# android - 在android中动态创建活动

> ID：14392906
> 
> 赞同：2
> 
> 时间：2013-01-18T05:25:58.473
> 
> 标签：android, android-activity

android 如何从 android 清单文件中注册一个活动，以便它出现在包管理器中。我明白这是在安装应用程序时完成的。有没有办法调整android源来创建一个API来动态创建和注册活动？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:30:16.500

> android如何从android manifest文件中注册一个activity

您应该在[这里](http://developer.android.com/guide/topics/manifest/manifest-intro.html)查看有关 Android Menifest 文件如何工作以及如何在其中注册活动的所有信息。

> 有没有办法调整android源来创建一个API来动态创建和注册活动？

AFAIK 您无法创建动态活动，因为它不会在 Android Menifest 文件中定义。您必须将其定义为清单文件才能创建该活动的实例以在您的代码中使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:41:03.397

不，您不能动态创建活动，因为没有 API 可以动态修改清单文件上的内容。您如何根据需要更改活动的布局......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:04:26.467

没有办法通过代码做到这一点。您应该在清单中注册活动。

创建一个包含片段的活动。稍后您可以创建此活动的多个实例，并在运行时加载具有不同内容和逻辑的不同片段。

# asp.net - 在带有实体框架的 ASP.NET 中使用身份验证的最简单方法是什么？

> ID：14392907
> 
> 赞同：0
> 
> 时间：2013-01-18T05:26:07.507
> 
> 标签：asp.net, entity-framework, entity-framework-4.1, razor-2

我是 ASP.NET/Entity Framework 的新手，正在尝试使用 EF 进行简单的注册/登录。基本上，我想在可以从我的实体框架数据库上下文访问的表中创建一个具有自定义列的新用户。类似于以下内容：

```
Auth.CreateUser(Username, Password, new { "Email" = Email, "Realname" = Realname, "JoinDate" = JoinDate });
DbContext db = new DbContext();
var User = db.Users.Where(a => a.Email = "some@email.com").FirstOrDefault();
string Realname = User.Realname; 
```

我应该使用 SimpleMembership 还是使用它？我如何让它从 EF 访问？我真的很想使用其中一个内置的会员提供程序，因为我做的最后一个是自定义的（在 PHP 中），它有点乱。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:40:21.930

为了简便，您可以使用 SimpleMembership Provider 或者您可以使用您自己的继承自的自定义会员提供程序

```
System.Web.Security.MembershipProvider 
```

如果您使用的是 SimpleMembership，您可以通过执行以下命令来访问用户数据：

```
db.Users.Find(WebSecurity.CurrentUserId); 
```

Membership 中的UserId 与Users 表中的key 相关，因此可以通过过滤key 来获取用户数据。

# ios - 在 iOS 块中写入 NSString

> ID：14392912
> 
> 赞同：-1
> 
> 时间：2013-01-18T05:27:12.123
> 
> 标签：ios, objective-c

我在学习积木时被卡住了。

我有一个函数返回一个 NSString* myString。在块中我必须写入字符串，所以在定义它时我在它前面添加了 __block 。

它在块中看起来一切都很好——我能够写信给它。但是当返回它时，它显示错误：使用未声明的标识符'myString'。

我认为这是因为在块之后没有人强烈指向 myString 。正确的？但我能做些什么来修复它？

```
- (NSString *)fetchString{
    __block NSString *myString;
    SLRequest *aRequest =  [....];
    [aRequest performRequestWithHandler:^(NSData *responseData, NSHTTPURLResponse   *urlResponse, NSError *error) {
    NSArray *myArray=[NSArray array];
    myArray= [NSJSONSerialization JSONObjectWithData:responseData options:0 error:nil];
    myString = [myArray objectAtIndex:0];
    }];
    return myString;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:02:45.370

您的语法略有错误。您错过了对 的调用中的右括号`-performRequestWithHandler:`。

（也没有必要初始化`myArray`为`[NSArray array]`，因为您立即将其设置为不同的值。）

```
- (NSString *)fetchString{
    __block NSString *myString;
    SLRequest *aRequest = [....];
    [aRequest performRequestWithHandler:^(NSData *responseData, NSHTTPURLResponse *urlResponse, NSError *error) {
        NSArray *myArray = [NSJSONSerialization JSONObjectWithData:responseData options:0 error:nil];
        myString = [myArray objectAtIndex:0];
    }];
    return myString;
} 
```

您会发现此代码实际上不起作用，但这是一个[单独的问题](https://stackoverflow.com/a/10069243/1218876)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:59:13.550

问题在于这些行：

```
[aRequest performRequestWithHandler:^(NSData *responseData, NSHTTPURLResponse   *urlResponse, NSError *error) {
      NSArray *myArray=[NSArray array];
      myArray= [NSJSONSerialization JSONObjectWithData:responseData options:0 error:nil];
      myString = [myArray objectAtIndex:0];
    } 
```

它应该是：

```
[aRequest performRequestWithHandler:^(NSData *responseData, NSHTTPURLResponse   *urlResponse, NSError *error) {
      NSArray *myArray=[NSArray array];
      myArray= [NSJSONSerialization JSONObjectWithData:responseData options:0 error:nil];
      myString = [myArray objectAtIndex:0];
    }]; 
```

你错过了关闭区块。

# seo - 向 Google 隐藏页面部分会损害 SEO 吗？

> ID：14392913
> 
> 赞同：4
> 
> 时间：2013-01-18T05:27:12.577
> 
> 标签：seo

我们都知道向谷歌机器人展示不存在的东西是不允许的，这会损害搜索定位，但反过来呢？向访问者显示未针对 Google 机器人显示的内容？

我需要这样做，因为我有照片页面，每个页面都有短标题和照片以及包含嵌入 HTML 代码的文本区域。googlebot 正在获取嵌入代码并将其放在其搜索结果的页面描述中，这非常难看。

请指教。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T19:42:08.977

当你开始玩这样的技巧时，你需要考虑几件事。

> ... 向访问者显示 Google 机器人未显示的内容。

这种方法有点棘手。

*   您当然可以检查*User-agents*以查看访问者是否是[Googlebot](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=1061943)，但 Google 可以添加任意数量的具有不同*User-agents*的新蜘蛛，最终将索引您的图像。你将不得不不断地监控它。
*   测试您的网站的每个代码版本都必须检查“*图像和 Googlebot* ”场景。这将延长测试阶段和测试成本。
*   这也可能会影响未来的开发——所有更改都必须考虑到“*图像和 Googlebot* ”场景，这可能会给您的系统带来额外的限制。

就个人而言，我会选择一种不同的方法：

*   首先检查您是否可以使用 Google 推荐的任何方法。Google 提供了一些很好的页面来描述该问题，例如[Blocking Google](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=93708)或[Block or remove pages using a robots.txt 文件](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=156449)。
*   如果这还不够，也许重组你的 HTML 会有所帮助。考虑使用 JavaScript 构建一些面向客户的界面。
*   不管你做什么，尽量保持简单，否则非常复杂的解决方案可能会反过来咬你。

如果不了解您的系统、约束和策略，很难给您很好的建议。但我希望我的回答能帮助您为您的系统选择好的架构/解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:35:47.190

男孩，你想要更多。谷歌不会因为一个方面因此判断你作弊，他需要一个审查，只要你的目的是为了用户体验，常见的作弊策略，谷歌并不认为你作弊。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T15:12:39.997

只需用 robots.txt 阻止这些页面，你会没事的，这不是作弊 - 这就是为什么他们首先提出了这样的解决方案

# java - 我可以在小程序中使用 PDFBox 吗？

> ID：14392914
> 
> 赞同：1
> 
> 时间：2013-01-18T05:27:13.207
> 
> 标签：java, pdf, printing, applet, pdfbox

我尝试在小程序中使用 PDFBox，因为我需要打印报告，但计算机客户端无法安装任何东西。我可以在小程序中使用 PDFBox 中的 src 或类吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:42:06.990

看来 PDFBox 是纯 Java 的。因此，要访问 PDFBox API 的功能，请将其放在小程序的运行时类路径中。为此，请将对 API 的每个 Jar 的引用添加到`archive`applet 元素的属性中。

很可能所有的罐子都需要进行数字签名才能获得打印许可（尽管最近的 JRE 应该提供提示打印）。

# inno-setup - 在 Inno Setup 中传递条件参数

> ID：14392921
> 
> 赞同：4
> 
> 时间：2013-01-18T05:28:25.767
> 
> 标签：inno-setup

我是 Inno Setup 的新手，我已经阅读了文档。现在我知道 Inno Setup 可以接受不同的/自定义参数，并且可以通过 Pascal 脚本进行处理。但问题是，我不知道如何用 Pascal 编写。

我希望我能得到有关编码的帮助。

我想将 /NOSTART 参数传递给我的安装文件，同时告诉安装程序禁用（取消选中）“启动”上的复选标记，如果未提供 /NOSTART，它将启用（检查）复选标记“启动"

![在此处输入图像描述](../Images/3109e547fd71c49656c2a96beb2c5b01.png)

或者如果可能，不需要该启动页面并通过代码执行所有操作。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-19T14:00:52.697

由于您不能强制修改部分条目的标志并直接访问`RunList`将是一个非常肮脏的解决方法，我正在使用这两个[`postinstall`](http://jrsoftware.org/ishelp/topic_runsection.htm#postinstall)条目，而一个没有[`unchecked`](http://jrsoftware.org/ishelp/topic_runsection.htm#unchecked)指定标志，而第二个有。因此，第一个条目表示选中的启动复选框，第二个表示未选中的启动复选框。使用哪一个由[`Check`](http://jrsoftware.org/ishelp/topic_scriptcheck.htm#Check)参数函数控制，在哪里检查命令行尾部是否包含`/NOSTART`参数。

另外，我使用了一个更直接的函数来确定某个参数是否包含在命令行尾部。它使用该[`CompareText`](http://jrsoftware.org/ishelp/topic_isxfunc_comparetext.htm)函数以不区分大小写的方式比较文本。[`CompareStr`](http://jrsoftware.org/ishelp/topic_isxfunc_comparestr.htm)如果要以区分大小写的方式比较参数文本，可以将其替换为函数。这是脚本：

```
[Setup]
AppName=My Program
AppVersion=1.5
DefaultDirName={pf}\My Program
OutputDir=userdocs:Inno Setup Examples Output

[Run]
Filename: "calc.exe"; Description: "Launch calculator"; \
    Flags: postinstall nowait skipifsilent; Check: LaunchChecked
Filename: "calc.exe"; Description: "Launch calculator"; \
    Flags: postinstall nowait skipifsilent unchecked; Check: not LaunchChecked 
```

```
[Code]
function CmdLineParamExists(const Value: string): Boolean;
var
  I: Integer;  
begin
  Result := False;
  for I := 1 to ParamCount do
    if CompareText(ParamStr(I), Value) = 0 then
    begin
      Result := True;
      Exit;
    end;
end;

function LaunchChecked: Boolean;
begin
  Result := not CmdLineParamExists('/NOSTART');
end; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T07:15:38.717

所以一点研究阅读和阅读..我得到了我的答案。

这是我的代码（“GetCommandLineParam”除外）

```
[Code]
{
var
  StartNow: Boolean;
}

function GetCommandLineParam(inParam: String): String;
var
  LoopVar : Integer;
  BreakLoop : Boolean;
begin
  { Init the variable to known values }
  LoopVar :=0;
  Result := '';
  BreakLoop := False;

  { Loop through the passed in arry to find the parameter }
  while ( (LoopVar < ParamCount) and
          (not BreakLoop) ) do
  begin
    { Determine if the looked for parameter is the next value }
    if ( (ParamStr(LoopVar) = inParam) and
         ( (LoopVar+1) <= ParamCount )) then
    begin
      { Set the return result equal to the next command line parameter }
      Result := ParamStr(LoopVar+1);

      { Break the loop }
      BreakLoop := True;
    end;

    { Increment the loop variable }
    LoopVar := LoopVar + 1;
  end;
end;

{
function InitializeSetup(): Boolean;
var
  NOSTART_Value : String;

begin
  NOSTART_Value := GetCommandLineParam('/NOSTART');

  if(NOSTART_Value = 'false') then
    begin
      StartNow := True
    end
  else
    begin
      StartNow := False
    end;

  Result := True;
end;
}

procedure CurStepChanged(CurStep: TSetupStep);
var
  Filename: String;
  ResultCode: Integer;
  NOSTART_Value : String;
begin
  if CurStep = ssDone then
    begin
      NOSTART_Value := GetCommandLineParam('/NOSTART');
      if(NOSTART_Value = 'false') then
        begin
          Filename := ExpandConstant('{app}\{#MyAppExeName}');
          Exec(Filename, '', '', SW_SHOW, ewNoWait, Resultcode);
        end
    end;
end; 
```

代码更新。感谢@TLama

```
function CmdLineParamExists(const Value: string): Boolean;
var
  I: Integer;  
begin
  Result := False;
  for I := 1 to ParamCount do
    if CompareText(ParamStr(I), Value) = 0 then
    begin
      Result := True;
      Break;
    end;
end;

procedure CurStepChanged(CurStep: TSetupStep);
var
  Filename: String;
  ResultCode: Integer;
  NOSTART_Value : String;
  RunApp : Boolean;
begin
  if CurStep = ssDone then
    begin
      RunApp := CmdLineParamExists('/START');
      if(RunApp = True) then
        begin
          Filename := ExpandConstant('{app}\{#MyAppExeName}');
          Exec(Filename, '', '', SW_SHOW, ewNoWait, Resultcode);
        end

      // NOSTART_Value := GetCommandLineParam('/START');
      // if(NOSTART_Value = 'true') then
        // begin
          // Filename := ExpandConstant('{app}\{#MyAppExeName}');
          // Exec(Filename, '', '', SW_SHOW, ewNoWait, Resultcode);
        //end
    end;
end; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2020-03-19T08:23:57.220

下面怎么样，简单易读

```
; Script generated by the Inno Script Studio Wizard.
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!

#define MyAppName "Install Specialty Programs"
#define MyAppVersion "1.0"
#define MyAppPublisher ""

[Setup]
; NOTE: The value of AppId uniquely identifies this application.
; Do not use the same AppId value in installers for other applications.
; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)
AppId={{5}
AppName={#MyAppName}
AppVersion={#MyAppVersion}
;AppVerName={#MyAppName} {#MyAppVersion}
AppPublisher={#MyAppPublisher}
DefaultDirName={pf}\{#MyAppName}
DisableDirPage=yes
DefaultGroupName={#MyAppName}
DisableProgramGroupPage=yes
OutputDir=P:\_Development\INNO Setup Files\Specialty File Install
OutputBaseFilename=Specialty File Install
Compression=lzma
SolidCompression=yes

[Languages]
Name: "english"; MessagesFile: "compiler:Default.isl"

[Files]
Source: "P:\_Development\INNO Setup Files\Specialty File Install\Files\0.0 - Steps.docx"; DestDir: "c:\support\Specialty Files"; Tasks: V00Step

[Tasks]
Name: "Office2013"; Description: "Running Office 2013"; Flags: checkablealone unchecked
Name: "Office2016"; Description: "Running Office 2016"; Flags: checkablealone unchecked
Name: "V00Step"; Description: "Steps To Follow (Read Me)"; Flags: exclusive

[Run]
Filename: "C:\Program Files (x86)\Microsoft Office\Office15\WINWORD.EXE"; Parameters: """c:\support\Specialty Files\0.0 - Steps.docx"""; Description: "Run if Office 2013 is installed"; Tasks: V00Step AND Office2013
Filename: "C:\Program Files (x86)\Microsoft Office\Office16\WINWORD.EXE"; Parameters: """c:\support\Specialty Files\0.0 - Steps.docx"""; Description: "Run if Office 2016 is installed"; Tasks: V00Step AND Office2016 
```

# jquery - jquery在不使用div的情况下对翻转开关进行分类

> ID：14392925
> 
> 赞同：0
> 
> 时间：2013-01-18T05:28:42.873
> 
> 标签：jquery, html

我希望两个 jquery 翻转开关在一行中，当屏幕太窄时，其中一个不可见。

为了让他们得到不同的对待，他们需要被分配不同的类别，但这不知何故不起作用。当 class 或 id 分配给 ap 或 div 时，条件有效，但这些元素不会出现在一行中。

如何在将它们保持在同一行的同时分配给他们一些课程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-02T00:39:57.450

最有效的是使用一排两列的表格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-02T13:44:38.537

而这里也是通过css来做同样的事情，据说比js更适合对象定位。实际上，只要您更改实时模式的分辨率，dreamweaver 就会立即响应此版本。

```
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"> 
</script><script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.js"> </script>
<style>
@media screen and (min-width:1px) and (max-width:319px) {
.bigga {
    display: none;
}
}
div.ui-slider-switch {
    width: 7em
}
</style>
</head>

<body>
<table width="200" border="0">
  <tr>
    <td><div align="center" class="bigga">
        <select data-role="slider" >
          <option value="off">boy</option>
          <option value="on"> girl</option>
        </select>
      </div></td>
    <td><div  align="center">
        <form >
          <select data-role="slider" >
            <option value="off" accesskey=""    >man</option>
            <option value="on"  > woman</option>
          </select>
        </form>
      </div></td>
  </tr>
</table>
</body>
</html> 
```

# php - $query->execute() 似乎有效，在 MySQL 中未使用 `UPDATE` 更新值

> ID：14392927
> 
> 赞同：0
> 
> 时间：2013-01-18T05:28:44.100
> 
> 标签：php, mysqli, prepared-statement

我对`PHP`and的准备好的语句有一点问题`MySQLi`。我的代码获取`POST`数据，准备一个语句，然后将 POST 数据绑定到查询。在此之后它执行，看似没有错误，但该语句显然没有得到正确执行，因为没有发生数据库更改。

快速概述我的问题：

1.  我正在使用 MySQLi 和准备好的语句。
2.  我更新了一些以前没有使用准备好的语句的 PHP/MySQLi 代码。
3.  自更新以来，出现了问题`$query->execute()`。

代码：

```
if($query = $this->mysqli->prepare("UPDATE article SET copy = ?, title = ?, alias = ?, description = ?, category = ?, category_id = ?, author = ?, permission = ?, mode = ?, comments = ?, revised = ?, frequency = ?, priority = ? WHERE id = ?"))
{
    if
    (
        $query->bind_param
        (
            "sssssdsssssssd", 
            $_POST['edit_article'], 
            $_POST['edit_title'], 
            $_POST['edit_alias'], 
            $_POST['edit_description'], 
            $_POST['edit_category'],
            $result['id'],
            $_POST['edit_author'], 
            $_POST['edit_permission'], 
            $_POST['edit_mode'], 
            $_POST['edit_comments'], 
            $date_time, 
            $_POST['edit_frequency'], 
            $_POST['edit_priority'], 
            $id
        )
    )
    {                   
        if($query->execute())
        {
            echo $this->mysqli->error; // does nothing.

            // These statements print to the screen successfully with the correct values.
            echo $_POST['edit_frequency'] . "<br />";
            echo $_POST['edit_priority'] . "<br />";
            //$_SESSION['article_edited'] = true;
            // die;
            //exit(header("Location: " . __MANAGER__ . $_POST['edit_alias']));
        }
        else
        {
            $_SESSION['article_edited'] = false;

            exit(header("Location: " . __MANAGER__ . $_POST['edit_alias']));
        }
    }
}
else
{
    $_SESSION['article_edited'] = false;

    exit(header("Location: " . __MANAGER__ . $_POST['edit_alias']));
} 
```

有人可以解释调试此代码的更好方法吗？这对我来说毫无意义，因为我检查了该`execute()`功能是否适用`if($query->execute())`并且它是否成功。当然，假设问题不在于执行功能，而在于其他地方。问题不可能是 POST 数据，因为它可以通过以下方式验证：

```
if
(
    $_POST['foo'] && isset($_POST['foo']) &&
    $_POST['bar'] && isset($_POST['bar'])
)
{
    // Statements.
} 
```

我一无所知。

**编辑**

我想指出我回显了 2 个特定 POST 变量的值，因为这些是我在更新代码时添加的值。它已经停止工作。另请注意，我已使用`print_r($_POST)`并且所有 POST 变量都已设置并包含值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:35:38.463

如果 SQL 级别没有错误，您的更新将返回成功。请注意，未找到要更新的候选行不是 SQL 错误。这是一个逻辑错误/预期条件。如果未能找到要更新的行是您的代码的错误条件，那么您将需要修改错误检查以包括对它的检查。

```
if($query->execute())
{
    if($mysqli->affected_rows == 0)
        // some logical error 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T07:31:41.737

问题已解决。

正如预期的那样，该错误不是由故障或逻辑错误引起的，而是一个未更改的变量`$id`，应该转换为`$_POST['id']`。对于那些将来阅读本文的人来说，可能值得注意的是，Amit Agrawal 的回复实际上是一个重要的回复。

请记住，SQL 语句没有错误，只是碰巧没有行受到影响，因为变量`$id`没有设置或初始化。因此，适当的行动方案将是：

```
if($query->execute())
{
    if($this->mysqli->affected_rows == 0)
    {
        // Appropriate action (such as raising an error), e.g.,
        die("No rows were affected");
    }
    else
    {
        // Appropriate action.
    }
}
else
{
    die("Query could not be executed.");
} 
```

# iphone - 如何使用 Facebook sdk 3.1 在 iOS 6 中向选定的 Facebook 朋友发送消息？

> ID：14392929
> 
> 赞同：1
> 
> 时间：2013-01-18T05:28:58.700
> 
> 标签：iphone, objective-c, ios6

在我的应用程序中，我正在获取登录用户的朋友列表，通过选择任何一个我可以获得他的详细信息，例如姓名、照片、身份证等。

但我的问题是我需要通过使用他的详细信息（如 Facebook SDK 3.1 的 id）向选定的用户发送消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T11:17:34.700

如果你想发布到用户墙试试这个：

```
 NSMutableDictionary *postTest = [[NSMutableDictionary alloc]init];
    [postTest setObject:[NSString stringWithFormat@"Your message"] forKey:@"message"];
    [postTest setObject:@"" forKey:@"picture"];
    [postTest setObject:@"" forKey:@"name"];
    [postTest setObject:@"APPID" forKey:@"app_id"];
    NSString *userFBID =[NSString stringWithFormat:@"%@",[allInfoDict objectForKey:@"Friends facebook ID "]];

    [FBRequestConnection startWithGraphPath:[NSString stringWithFormat:@"%@/feed?access_token=%@",userFBID,[appDelegate.mysession accessToken]]
                                 parameters:postTest
                                 HTTPMethod:@"POST"
                          completionHandler:^(FBRequestConnection *connection,
                                              NSDictionary * result,
                                              NSError *error) {
                              if (error) {
                                  [self hideHUD];
                                  NSLog(@"Error: %@", [error localizedDescription]);

                              } else {
                                  // Success

                              }
                          }];

    [postTest release]; 
```

# java - Java，位向量

> ID：14392932
> 
> 赞同：0
> 
> 时间：2013-01-18T05:29:10.540
> 
> 标签：java, algorithm

我必须编写一个简单的方法来接收索引并将该索引处的“位”从`0`切换到`1`. 我无法为此编写按位运算符。我知道这很简单，但我无法理解。下面是该方法的外观。先感谢您！

```
/** 
 * 32-bit data initialized to all zeros. Here is what you will be using to represent
 * the Bit Vector.
 */

private int bits;

/** You may not add any more fields to this class other than the given one. */

/**
 * Sets the bit (sets to 1) pointed to by index.
 * @param index index of which bit to set.
 *        0 for the least significant bit (right most bit).
 *        31 for the most significant bit.
 */
public void set(int index)
{
            //It is here where I can not figure it out. Thank you!
    System.out.println(~bits);
    System.out.println("setting bit: " + bits + " to: " + index);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:38:12.483

您应该使用`BitSet`. 如果你想自己做，你可以说：

```
public void set(int index) { 
    bits |= (1 << index);
} 
```

如果这是家庭作业，并且上面的代码看起来很神奇，那么您真的需要阅读按位运算符。

这段代码可以解释为：

*   从数字 1 开始，并将其所有位移动`index`多次。
*   将'ed 的值设置为与上一步中的值`bits`相等`bits` `OR`

# json - 如何在 WSO2 ESB 中转换 JSON

> ID：14392933
> 
> 赞同：2
> 
> 时间：2013-01-18T05:29:11.490
> 
> 标签：json, wso2, wso2esb

我正在尝试将我的 JSON 作为对象传递给 WSO2 ESB。我得到这样的JSON：

```
'{FIELDNAME":"NAME",FIELDVALUE:"KISHORE"}' 
```

这个 JSON 我需要将我的 ESB 作为动态列传递。但它像 JSON 一样接受`{"NAME":"KISHORE"}`。如何在 WSO2 ESB 中从 JSON 以上转换为以下 JSON。如果我超过一个，我将无法传递给代理。如果我低于 1，我会像这样通过，`(//name/child::text())`那么我将获得价值为“KISHORE”，我曾尝试使用 ENRICH 调解器，但它不起作用。

```
<proxy xmlns="http://ws.apache.org/ns/synapse" name="test_dynamic" transports="https,http" statistics="disable" trace="disable" startOnLoad="true">

<target>
    <inSequence>
        <enrich>
            <source type="body" clone="true"/>
            <target type="property" property="RM"/>
        </enrich>
        <property name="RM" expression="//fieldname/child::text()" scope="default" type="STRING"/>
        <log level="custom">
            <property name="r_no" expression="get-property('R_no')"/>
            <property name="r_value" expression="get-property('R_value')"/>
            <property name="emp_d" expression="get-property('emp')"/>
            <property name="RM" expression="get-property('RM')"/>
        </log>
        <log level="full"/>
    </inSequence>
</target>
<description></description>

</proxy> 
```

ANS：请求，信封：

```
<?xml version='1.0' encoding='utf-8'?>
<soapenv:Envelope xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope">
    <soapenv:Body><fieldname>e_no</fieldname><fieldvalue>5</fieldvalue></soapenv:Body>
</soapenv:Envelope> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T02:50:08.990

我认为您应该像这样发送 JSON 消息：

```
'{"RECORD":{FIELDNAME":"NAME",FIELDVALUE:"KISHORE"}}' 
```

然后通过 WSO2 ESB 中的“属性”中介获取值，例如

```
<property name="FIELDNAME" expression="//FIELDNAME/text()" scope="default" type="STRING"/>
<property name="FIELDVALUE" expression="//FIELDVALUE/text()" scope="default" type="STRING"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-18T22:21:17.037

WSO2 下面提供的链接解释了您有兴趣解决的确切用例

脚步：

1.  使用 XSLT 中介将 JSON 转换为 XML
2.  使用 Enrich 中介器替换 SOAP 消息的正文

按照此链接获取详细信息和实际代理配置

[https://docs.wso2.com/display/ESB480/Sample+440%3A+Converting+JSON+to+XML+Using+XSLT](https://docs.wso2.com/display/ESB480/Sample+440%3A+Converting+JSON+to+XML+Using+XSLT)

# c# - 将不同的枚举组合成一个参数C#

> ID：14392934
> 
> 赞同：2
> 
> 时间：2013-01-18T05:29:13.013
> 
> 标签：c#, events, enums, action

我正在开始一门活动课程。目前有两个枚举。

```
[Flag]
public enum Status
{
    statusA,
    statusB,
    statusC,
    statusD,
}

[Flag]
public enum StatusType{
    Request,
    Success,
    Fail,
    Start,
    End
} 
```

我希望能够引发事件，例如 Action RequestingStatusA (Status.StatusA & StatusType.Request)。这当然会产生错误。无论如何，是否可以将它们即时组合，但将其作为签名，以便事件处理程序能够识别它。

我什至应该这样做吗？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:36:31.800

不。不仅如此，如果您尝试映射未转换的位值，您将遇到冲突 - 所以不要盲目考虑转换为`int`:)

*为什么不创建（并传递）一个包含两种*枚举类型值的新类型？

```
struct RequestStatus {
  // implement as desired
  public StatusType Type { get; set; }
  public Status Status { get; set; }
}

Action RequestingStatusA (RequestStatus status) {
  ..
} 
```

# .net - .net 正则表达式模式可以引用模式中其他地方的先前捕获的数值吗？

> ID：14392939
> 
> 赞同：0
> 
> 时间：2013-01-18T05:29:33.317
> 
> 标签：.net, regex

是否有可能有一个 .net 正则表达式模式引用模式的另一部分中先前捕获的组的数值？我需要匹配重复以下格式的字符串：

*   10 字节 alpha 键后跟 2 字节运算符（sql 运算符的子集），后跟 5 个整数位，后跟一个 n 字节值，其中 n = 5 个整数位的整数值。

EX 字符串：
“key1 = 00004val1key2 <=00006value2key3 >=00011value_three”

其中 val1 是 4 字节，value2 是 6 字节，value_three 是 11 字节，等等......这个字符串代表我需要能够解析和识别以下字符串的重复标准集：

第一个标准：“key1”、“=”、“val1”

第二个标准：“key2”、“<=”、“value2”

第三个标准：“key3”、“>=”、“value_three”

我过去使用过 .net 正则表达式，应该能够以重复模式解析键、运算符和数字，但不知道如何，或者即使可以引用模式后面的数字（即字符串“00004”的值为 4 的整数）。

**更新 1** 最初我认为我需要一个正则表达式模式，例如：

```
^(?<criteria>(?<key>\w{10})(?<operator>(= |<=|>=))(?<value_length>\d{5})(?<value>\w{n}))+$ 
```

其中“value”捕获组中的 {n} 量词需要具有基于“value_length”捕获组的值的值，对于捕获的每个“标准”。如果这不是考虑形成正则表达式模式的正确方法，我可以更改为另一种有效的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:35:00.120

您可以改为在匹配项本身中捕获所需的长度字符串，直到下一个`\w{10}`和运算符`(= |<=|>=)`使用前瞻

```
string regex=@"(?<key>\w{10})(?<operator>(= |<=|>=))(?<value_length>\d{5})(?<value>.*?(?=\w{10}(= |<=|>=)|$))";
foreach(Match m in Regex.Matches(input,regex,RegexOptions.Singleline))
{
    int vLen=int.Parse(m.Groups["value_length"].Value);
    string requiredString=m.Groups["value"].Value.Substring(0,vLen-1);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:44:06.607

我刚刚删除了我的帖子，这是不可能的。正则表达式中有一个叫做反向引用的东西，它可以帮助你：

如果你想匹配`aba`，那么它的*口头模式*看起来像`value1 followed by another value, followed by value 1`，可以构建为正则表达式：`(a)b\1`，其中`\1`引用匹配的 FIRST 组的匹配项。

But keep in mind, that a regex using a backreference is actually no more regex, because a "regular language" does - per definition - not allow recursion, which is what is happending behind the szenes. (part of the pattern needs to be evaluated before the complete pattern can be evaluated)

# java - 如何使用 java 运行 setup.exe 文件

> ID：14392944
> 
> 赞同：3
> 
> 时间：2013-01-18T05:30:10.910
> 
> 标签：java, security, permissions, runtime.exec

我正在开发一个 java 应用程序，我必须从中运行 xyz_setup.exe 安装程序。我尝试了以下代码

```
String command = "C:\\xyz_setup.exe"; 
Runtime.getRuntime().exec(command);` 
```

但它抛出了以下错误

```
java.io.IOException: Cannot run program "C:\Users\NewtonApples\Downloads\idman614.exe": CreateProcess error=740, The requested operation requires elevation
    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)
    at java.lang.Runtime.exec(Runtime.java:615)
    at java.lang.Runtime.exec(Runtime.java:448)
    at java.lang.Runtime.exec(Runtime.java:345)
    at upendra.OpenExternalApplication.main(OpenExternalApplication.java:19)
Caused by: java.io.IOException: CreateProcess error=740, The requested operation requires elevation
    at java.lang.ProcessImpl.create(Native Method)
    at java.lang.ProcessImpl.<init>(ProcessImpl.java:189)
    at java.lang.ProcessImpl.start(ProcessImpl.java:133)
    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1021)
    ... 4 more 
```

任何人都可以建议我如何做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T05:45:38.007

Java（或可能直接使用系统调用的任何其他进程`CreateProcess`）不适用于需要访问提升的可执行文件。你可以通过 shell 执行你的程序来解决这个问题：

```
 String command = "C:\\setup.exe";
  Runtime.getRuntime().exec("cmd /c "+command); 
```

# html - 修改 CSS 样式

> ID：14392946
> 
> 赞同：0
> 
> 时间：2013-01-18T05:30:21.477
> 
> 标签：html, css

我正在努力创建 CSS 样式。

这就是我所拥有的：http: [//jsfiddle.net/WhNRK/26/](http://jsfiddle.net/WhNRK/26/)

它是为标签设计的，但现在我正在尝试修改如下内容：

```
<input type='radio' name='mcq' id='radio-choice-1' value='1' /> 
<div class='container'>
<label for="radio-choice-1" onclick="">Choice 1</label>
</div> 
```

所以如果我这样做了，我就破坏了设计。有人可以帮忙吗？这是 iPad 的单选按钮样式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:35:31.270

更改 CSS 选择器以匹配您的新标记：

```
#question input:checked + div > label { 
```

[演示](http://jsfiddle.net/WhNRK/39/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:55:22.953

您只需`#question input`从 css 中删除并将名称命名为`#question label`as `#question label`。

更改代码如下：

```
<div id='question'><form name='mcForm'>
  <div class='container'>
    <input type='radio' name='mcq' id='radio-choice-1' value='1' /> 
    <label for="radio-choice-1" onclick="">Choice 1</label>
  </div>
</div> 
```

# android - 剥离网页中的广告 android/Java

> ID：14392947
> 
> 赞同：0
> 
> 时间：2013-01-18T05:30:26.873
> 
> 标签：android, webpage, ads

我正在编写一个应用程序，它将在 webview 中启动网页。我可以从网页中检索 html 内容。为了提高加载速度，我正在尝试从网页中删除广告。我研究了很多，如何从网页中找到广告但失败了。帮助我将是可观的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:34:25.190

您可以查找指向广告客户网络服务器的任何内容，并通过正则表达式或 DOM 操作将其删除（您应该通过将 Javascript 注入您的网页来做到这一点，这会容易得多）。这就是一些广告删除工具的工作原理。

**但请务必尊重网站主机的收入来源。有些人靠广告来提供内容。;)**

[编辑] 一个 jQuery 代码示例，用于删除指向 google 服务器的链接和 imgs。您需要使用您定位的广告服务器进行更新：

```
jQuery("body").find("a").each(function(key,val){
    if(val.href.match(/.*google.*/)){
        jQuery(val).remove();
    }
}); 
```

您可以在 ign 主页运行它，它会删除一些广告。

# ruby - 确保 Ruby 中按位运算的可变大小

> ID：14392948
> 
> 赞同：0
> 
> 时间：2013-01-18T05:30:34.617
> 
> 标签：ruby, bit-manipulation

我有一组描述 ruby​​ 对象的十六进制值，我想将它们全部串到一个位桶中。在 C++ 中，我会执行以下操作：

```
int descriptor = 0 // or uint64_t to be safe
descriptor += (firstHexValue << 60)
descriptor += (secondHex << 56)
descriptor += (thirdHex << 52)
// ... etc
descriptor += (sixteenthHex << 0) 
```

我想在 Ruby 中做同样的事情，但由于 Ruby 是无类型的，我担心溢出。如果我尝试在 Ruby 中做同样的事情，有没有办法确保`descriptor`包含 64 位？一旦设置了描述符，我不想突然发现只表示了 32 位，我已经失去了一半！我怎样才能安全地达到与上述相同的结果？

注意：如果相关，请在 OS X 64 位上工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:32:08.457

Ruby 有无限的整数，所以不用担心。你不会失去一丁点。

```
a = 0

a |= (1 << 200)

a # => 1606938044258990275541962092341162602522202993782792835301376 
```

# nginx - 想要隐藏目录 nginx 但没有丢失内容

> ID：14392949
> 
> 赞同：0
> 
> 时间：2013-01-18T05:30:51.023
> 
> 标签：nginx, hide, http-status-code-404, http-status-code-403

我的应用程序中有文件夹图像、css、类、js，包括。如果有人访问该文件夹 -->`403 Forbidden`

我想要自定义这个输出`403 Forbidden`--->`404 Not Found`

我会试试这段代码

`location ~ /(.*)/{ return 404; }`

它是成功的，`404 Not Found` 但我的图像、css、class、js 的输出在我的应用程序中包含 LOST。

请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:50:59.553

```
location  = /THAT_FOLDER/ { return 404; }

Directives with the "=" prefix that match the query exactly (literal string). 
If found, searching stops. 
```

参考：[http ://wiki.nginx.org/HttpCoreModule#location](http://wiki.nginx.org/HttpCoreModule#location)

# kernel - 根据时间戳从 U-Boot 引导不同的内核

> ID：14392956
> 
> 赞同：2
> 
> 时间：2013-01-18T05:31:22.693
> 
> 标签：kernel, mips, bootloader, u-boot

我正在使用 U-Boot 和两个内核映像（uImage）。我想在 U-Boot 中添加一些代码，它将根据时间戳选择内核。我正在使用 MIPS 架构。这两个内核位于不同的 MTD 分区中。

例如：-

```
If kernel-1 is new, U-Boot will boot Kernel-1\. and leave kernel-2 as it is.
If kernel-2 is new, U-Boot will boot kernel-2\. and leave kernel-2 as it is. 
```

问题：-

```
Is it possible to do so?
How can I add such functionality in U-boot?
Where to chage the code for the same? 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-10T08:23:40.387

我希望以下内容适用于您正在尝试做的事情。

请参阅关于在 U-Boot 中实现自动软件更新的[DULG 页面](http://www.denx.de/wiki/view/DULG/HowCanIImplementAutomaticSoftwareUpdates)。

它有一个[README](http://git.denx.de/?p=u-boot.git;a=blob;f=doc/README.update)的链接，它解释了实现的细节和实现它的[提交。](http://git.denx.de/?p=u-boot.git;a=commit;h=4bae9090)

这种方法基于更新文件而不是时间戳。从自述文件中引用：

> 更新文件应该是一个 FIT 文件，并且可以包含一个或多个更新。更新文件中的每个更新在 NOR Flash 中都有一个应该放置的地址，更新也受到 SHA-1 校验和的保护。如果TFTP传输成功，则验证每次更新的hash，如果验证是肯定的，则更新存储在Flash中。

# record - 在 Z3 中编码 let 表达式

> ID：14392957
> 
> 赞同：2
> 
> 时间：2013-01-18T05:31:36.563
> 
> 标签：record, z3, let

下面的代码用两个字段`array-fld`和`blist-fld`. 我已经为这些字段定义了更新函数，然后断言了一个应该为 true 的属性（但 z3 报告为`unknown`）。这是 Z3 版本 4.0，运行为`z3 -smt2 -in`：

```
(declare-datatypes ()
                   ((mystruct (mk-mystruct
                                 (array-fld (Array Int Int))
                                 (blist-fld (List Bool))))))
(define-fun array-fld-upd ((v (Array Int Int)) (obj mystruct)) mystruct
  (mk-mystruct v (blist-fld obj)))
(define-fun blist-fld-upd ((v (List Bool)) (obj mystruct)) mystruct
  (mk-mystruct (array-fld obj) v))

(push)
(assert
 (forall ((z0 mystruct))
         (exists ((array-val (Array Int Int)))
                 (and (= array-val (array-fld z0))
                      (= (select (array-fld
                                  (array-fld-upd (store array-val 2 4) z0)) 3)
                         (select (array-fld z0) 3))))))
(check-sat) 
```

如果我通过替换方程式 array-val 绑定手动展开/消除存在，我得到

```
(pop)
(assert
 (forall ((z0 mystruct))
         (= (select (array-fld (array-fld-upd (store (array-fld z0) 2 4) z0)) 3)
            (select (array-fld z0) 3))))
(check-sat) 
```

这很高兴地解决了`sat`。

我想这里面有四个问题：

1.  有没有办法调用 z3 来解决第一个实例和第二个实例？
2.  我应该以不同的方式编码我的记录/结构吗？
3.  我是否应该以不同的方式编码我的 let 表达式（正是这些导致存在量化）？
4.  或者，我是否应该直接扩展 let 表达式（我可以自己做，但如果有很多引用，它可能会导致大术语）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:00:45.650

从问题看来，您可以使用正确的 let 表达式。那么Z3会更容易：

```
(declare-datatypes ()
               ((mystruct (mk-mystruct
                             (array-fld (Array Int Int))
                             (blist-fld (List Bool))))))
(define-fun array-fld-upd ((v (Array Int Int)) (obj mystruct)) mystruct
  (mk-mystruct v (blist-fld obj)))
(define-fun blist-fld-upd ((v (List Bool)) (obj mystruct)) mystruct
  (mk-mystruct (array-fld obj) v))

(push)
(assert
 (forall ((z0 mystruct))
    (let ((array-val (array-fld z0)))
                  (= (select (array-fld
                              (array-fld-upd (store array-val 2 4) z0)) 3)
                     (select (array-fld z0) 3)))))
 (check-sat) 
```

# php - mysql_fetch 无法收集数据库中的所有数据

> ID：14392958
> 
> 赞同：2
> 
> 时间：2013-01-18T05:31:43.703
> 
> 标签：php, mysql, select

我这里有一个用于从数据库中选择所有数据的代码，这是我的代码：

```
<?php

$name = $_POST['cname'];

if ($_POST["Search"] == "Search") {
    $query = mysql_query("SELECT * FROM parts WHERE cname LIKE '%$name%'");
    if (!empty($query)) {
        $vsi = 'No Data';
        $date = 'No Data';
        $cname = 'No Data';
    }

    while ($row = @mysql_fetch_array($query)) {
        $vsi = $row["vsi"];
        $date = $row["date"];
        $cname = $row["cname"];
    } 
```

这就是我如何回显所有变量，

```
<tr class="gradeC">
<?php echo "<td width='10%'><font size='-2'> $vsi </font></td>" ?>
<?php echo "<td width='20%'><font size='-2'>$date</font></td>" ?>
<?php echo "<td width='20%'><font size='-2'> $cname</font></td>" ?>
</tr> 
```

我的问题是，

我从每一行只得到一个结果，但我在数据库中的数据是 5。

这是我的结果

```
vsi      date             name
123      12/12/2012       test1 
```

但正确的结果应该是：

```
vsi      date             name
123      12/12/2012       test1
123      12/12/2012       test1
123      12/12/2012       test1
123      12/12/2012       test1
123      12/12/2012       test1 
```

笔记，

我使数据库中的所有数据都相同

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-18T05:37:32.953

您必须在 while 循环中使用 TR。

```
<?php

$name = $_POST['cname'];

if ($_POST["Search"] == "Search") {
    $query = mysql_query("SELECT * FROM parts WHERE cname LIKE '%$name%'");
    if (!empty($query)) {
        $vsi = 'No Data';
        $date = 'No Data';
        $cname = 'No Data';
    }

    while ($row = @mysql_fetch_array($query)) {
        $vsi = $row["vsi"];
        $date = $row["date"];
        $cname = $row["cname"];

?>
<tr class="gradeC">
<?php echo "<td width='10%'><font size='-2'> $vsi </font></td>" ?>
<?php echo "<td width='20%'><font size='-2'>$date</font></td>" ?>
<?php echo "<td width='20%'><font size='-2'> $cname</font></td>" ?>
</tr>
<?
    }

?> 
```

* * *

## **警告**

您的代码容易受到[sql 注入](http://en.wikipedia.org/wiki/SQL_injection)的影响，您需要全部转义`get`，`post`更好的方法是使用[Prepared 语句](http://en.wikipedia.org/wiki/Prepared_statement)

**好读**

1.  [如何防止 PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)
2.  [**PDO 准备好的语句是否足以防止 SQL 注入？**](https://stackoverflow.com/a/12202218/1723893)

* * *

## **笔记**

1.  整个**`ext/mysql`**PHP 扩展提供了以 mysql_ 为前缀的所有函数，[从 PHP v5.5.0 开始正式弃用，](http://php.net/manual/en/changelog.mysql.php)并将在未来删除。所以使用`PDO`或者`MySQLi`

**好读**

1.  [不推荐使用 mysql 扩展并将在将来删除：请改用 mysqli 或 PDO](https://stackoverflow.com/questions/13944956/the-mysql-extension-is-deprecated-and-will-be-removed-in-the-future-use-mysqli/13944958#comment19236631_13944958.)
2.  [MySQL 开发人员的 PDO 教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)
3.  [Pdo 初学者教程](https://stackoverflow.com/questions/12859942/why-shouldnt-i-use-mysql-functions-in-php/14110189#14110189)

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:56:47.157

获取的结果将是一个数组。它将包含所有匹配的数据库条目。但是你的回声就在while循环之外。这就是为什么它只返回一个结果。在你的回声之后关闭第二个while循环。

```
while ($row = @mysql_fetch_array($query)) {
$vsi = $row["vsi"];
$date = $row["date"];
$cname = $row["cname"];

?>
<tr class="gradeC">
<?php echo "<td width='10%'><font size='-2'> $vsi </font></td>" ?>
<?php echo "<td width='20%'><font size='-2'>$date</font></td>" ?>
<?php echo "<td width='20%'><font size='-2'> $cname</font></td>" ?>
</tr>
<?
} 
```

# sql-server - 无法删除 FK 约束

> ID：14392959
> 
> 赞同：0
> 
> 时间：2013-01-18T05:31:44.527
> 
> 标签：sql-server, tsql

运行以下代码时，我不断收到错误消息：

> *无法截断表“条目”，因为它被 FOREIGN KEY 约束引用。*

![在此处输入图像描述](../Images/15c3ab68c04cea8d3e9367aac769c803.png)

```
 --ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [PK_Entry_Id] 
    ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [DF_Entry_HideChrome]
    ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [DF_Entry_IsDiscussionEnabled]
    ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [DF_Entry_MetaDescription]
    ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [DF_Entry_MetaTitle]

    Truncate table [Entry]

    ALTER TABLE [dbo].[Entry] ADD  CONSTRAINT [DF_Entry_HideChrome]  DEFAULT ((0)) FOR [HideChrome]
    GO

    ALTER TABLE [dbo].[Entry] ADD  CONSTRAINT [DF_Entry_IsDiscussionEnabled]  DEFAULT ((1)) FOR [IsDiscussionEnabled]
    GO

    ALTER TABLE [dbo].[Entry] ADD  CONSTRAINT [DF_Entry_MetaDescription]  DEFAULT ('') FOR [MetaDescription]
    GO

ALTER TABLE [dbo].[Entry] ADD  CONSTRAINT [DF_Entry_MetaTitle]  DEFAULT ('') FOR [MetaTitle]
GO

ALTER TABLE [dbo].[Entry] ADD  CONSTRAINT [DF_EntryStatus]  DEFAULT ('Public-Page') FOR [Status]
GO 
```

好的，所以我从引用该表的任何表中删除了所有其他约束，但我仍然收到一个错误，说仍然有一个 PK 约束引用我的 Entry 表。

我去查看 Entry 上的依赖关系（查看依赖关系），发现注释表仍然依赖于它：

![在此处输入图像描述](../Images/a3700a410a260a32dafc511fa799353b.png)

然后我看到有一个 FK 作为评论表的主要字段之一，但我猜你不能放弃。

因此，当 View Dependencies 说我在其他表上删除约束后剩下的唯一表来自 Comment 表时，我看不到还有哪些其他依赖项正在引用这个 Entry 表？我没看到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:57:22.790

出于某种奇怪的原因，我不得不删除键 FK_Comment_Comment。不知道它与条目表有什么关系……很奇怪。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:18:52.370

在删除您提供的约束的代码中，您没有删除`DF_EntryStatus`密钥。您只删除了这 4 个密钥。

```
ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [DF_Entry_HideChrome]
ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [DF_Entry_IsDiscussionEnabled]
ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [DF_Entry_MetaDescription]
ALTER TABLE [dbo].[Entry] DROP CONSTRAINT [DF_Entry_MetaTitle] 
```

由于这`DF_EntryStatus`仍然引用您无法截断表格。

希望这能解决我们的问题。

# java - 将输入流读取到缓冲区的最佳方法

> ID：14392967
> 
> 赞同：4
> 
> 时间：2013-01-18T05:32:55.470
> 
> 标签：java, file-io, io

要将任何输入流读取到缓冲区，有两种方法。有人可以帮助我了解哪种方法更好，为什么？在什么情况下我们应该使用每种方法？

*   逐行读取并将其附加到缓冲区。

例如：

```
public String fileToBuffer(InputStream is, StringBuffer strBuffer) throws IOException{
    StringBuffer buffer = strBuffer;
    InputStreamReader isr = null;

    try {
        isr = new InputStreamReader(is);
        BufferedReader br = new BufferedReader(isr);
        String line = null;

        while ((line = br.readLine()) != null) {
            buffer.append(line + "\n");
        }
    } finally {
        if (is != null) {
            is.close();
        }
        if (isr != null) {
            isr.close();
        }
    }

    return buffer.toString();
} 
```

* * *

*   读取缓冲区大小，即 char 数组中的 1024 个字节。

例如：

```
InputStreamReader isr = new InputStreamReader(is);
final int bufferSize = 1024;
char[] buffer = new char[bufferSize];
StringBuffer strBuffer = new StringBuffer();

/* read the base script into string buffer */
try {
    while (true) {
        int read = isr.read(buffer, 0, bufferSize);
        if (read == -1) {
           break;
        }

        strBuffer.append(buffer, 0, read);
     }
} catch (IOException e) {
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:04:51.137

考虑

```
public String fileToBuffer(InputStream is, StringBuffer strBuffer) throws IOException {
    StringBuilder sb = new StringBuilder(strBuffer);
    try (BufferedReader rdr = new BufferedReader(new InputStreamReader(is))) { 
        for (int c; (c = rdr.read()) != -1;) {
            sb.append((char) c);

        }
    }
    return sb.toString();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:40:39.983

取决于目的。

使用文本文件读取行（如果需要）。

对于原始二进制数据，使用字节块。

在您的示例中，字节块更健壮。如果一行太长，打断了一些中间对象怎么办？

如果你的文件是二进制文件，你知道一行有多大吗？可能是文件的大小。

试图“吞下”太大的字符串可能会导致 ErrorOutOfMemory。对于 1024 字节，它（好的 - 几乎）永远不会发生。

按 1024 字节分块可能需要更长的时间，但它更可靠。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:45:13.170

使用'readLine' 不是那么整洁。提问者的方法 2 是相当标准的，但下面的方法是独一无二的（并且可能更好）：

```
//read the whole inputstream and put into a string
public String inputstream2str(InputStream stream) {
  Scanner s = new Scanner(stream).useDelimiter("\\A");
  return s.hasNext()? s.next():"";
} 
```

您可以从字符串转换为字节数组或任何您想要的缓冲区。

# javascript - 关闭窗口而不显示“您确定”对话框

> ID：14392973
> 
> 赞同：0
> 
> 时间：2013-01-18T05:33:17.870
> 
> 标签：javascript

我有一个表格。如果我尝试关闭它，它会显示一个对话框，上面写着：

> 您确定要离开此页面吗？

Javascript：

```
window.parent.location.close(); 
```

有没有办法在不显示对话框的情况下关闭此窗口？

# ruby-on-rails - Net::HTTP.post_form 无法发送参数

> ID：14392974
> 
> 赞同：0
> 
> 时间：2013-01-18T05:33:20.063
> 
> 标签：ruby-on-rails, node.js, express, socket.io, net-http

嗨，我在 node.js 中使用 rails 和 socket.io
我想要做的是使用 Net::HTTP.post_form 在 rails 模型中发送一个参数，
并在 node.js 文件中获取参数，即 server.js

### 模型发送.rb

```
def self.push(userid)
   url = "http://socket.mydomain.com/push"
   res = Net::HTTP.post_form(URI.parse(URI.encode(url)),data)
end 
```

### 服务器.js

```
app.post('/push', function (req, res) {
  console.log(req.param.userid)
}); 
```

### 请求变量

```
req.ip =127.0.0.1
req.protocol= http
req.path = /push
req.host = socket.mydomain.com
req.param 
```

我打印了所有的值，但参数总是空的，有什么解决方案吗？提前致谢！:D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T15:09:11.577

在 Express 中，如果您发出 use app.use(express.bodyParser()); ，您可以通过 req.body.searchText 检索 HTML 表单中发布的值（HTTP POST）。请注意，HTML 表单值来自 req.body，而不是 req.params。

话虽如此，当您使用 Socket.io 而不是 HTML 表单上的“普通”HTTP POST 时，我不确定这些值是如何提交给服务器的。

I realize this is not an exact answer to your question, but wanted to mention how "normal" HTML form values are handled in case it helps and this was way to long to include as a comment.

# linux - EXT4 上的时间戳精度（亚毫秒）

> ID：14392975
> 
> 赞同：9
> 
> 时间：2013-01-18T05:33:20.230
> 
> 标签：linux, bash, ext4

我在 Vala 中编写了一些代码，我将首先获取系统时间，然后创建一个文件，然后检索该文件的时间戳。时间戳总是早于系统时间，介于 500 到 1500 微秒之间，这是没有意义的。

然后我写了一个简单的shell脚本：

```
while true; do
touch ~/tmp/fred.txt
stat ~/tmp/fred.txt|grep ^C
done 
```

结果如下：

```
Change: 2013-01-18 16:02:44.290787250 +1100
Change: 2013-01-18 16:02:44.293787250 +1100
Change: 2013-01-18 16:02:44.296787250 +1100
Change: 2013-01-18 16:02:44.298787248 +1100
Change: 2013-01-18 16:02:44.301787248 +1100
Change: 2013-01-18 16:02:44.304787248 +1100
Change: 2013-01-18 16:02:44.306787248 +1100
Change: 2013-01-18 16:02:44.309787248 +1100
Change: 2013-01-18 16:02:44.312787248 +1100
Change: 2013-01-18 16:02:44.315787248 +1100 
```

如您所见，小数点后的前 3 位数字（毫秒）似乎没问题，因为它们按预期递增，但第 4 位及以后的数字看起来不正确。第 4 位到第 9 位数字似乎在进行缓慢的倒计时。是否有任何理由，因为我虽然 ext4 支持高达纳秒的精度。访问和修改时间戳的行为方式相同。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-18T06:06:29.827

如果 inode 足够大以支持扩展时间信息（256 字节或更大），则 ext4 文件系统确实支持存储时间的纳秒分辨率。在您的情况下，由于分辨率大于第二个，因此这不是问题。

在内部，ext4 文件系统代码调用`current_fs_time()`将当前缓存的内核时间截断为文件系统超级块中指定的时间粒度，对于 ext4 为 1ns。

Linux 内核中的当前时间被缓存，并且通常只在定时器中断时更新。所以如果你的定时器中断运行在 10 毫秒，缓存的时间只会每 10 毫秒更新一次。当确实发生更新时，结果时间的准确性将取决于硬件上可用的时钟源。

试试这个，看看你是否也得到与统计调用类似的结果：

```
while true; do date --rfc-3339=ns; done 
```

在我的机器（amd64，intel virtualbox）上没有量化。

例如

```
2013-01-18 17:04:21.097211836+11:00
2013-01-18 17:04:21.098354731+11:00
2013-01-18 17:04:21.099282128+11:00
2013-01-18 17:04:21.100276327+11:00
2013-01-18 17:04:21.101348507+11:00
2013-01-18 17:04:21.102516837+11:00 
```

**更新**：

对于这种情况，上述检查 using`date`并没有真正显示任何内容。这是因为`date`将调用`gettimeofday`系统调用，该调用将始终根据缓存的内核时间返回最准确的可用时间，如果可用，则通过 CPU 周期时间进行调整以提供纳秒级分辨率。然而，存储在文件系统中的时间戳仅基于缓存的内核时间。即最后一次定时器中断计算的时间。

# java - 字符串是否有数字或特殊字符并抛出异常

> ID：14392977
> 
> 赞同：1
> 
> 时间：2013-01-18T05:33:30.983
> 
> 标签：java

在java中，是否可以检查一个字符串上是否有特殊字符或字母，如果是则抛出异常？

类似这样的东西，但使用 try/catch

```
/** Get and Checks if the ssn is valid or not **/
    private String getSSN(){
        String tempSSN;
        tempSSN = scan.nextLine();
        if(tempSSN.matches("^.*[^a-zA-Z ]{9}.*$") == false){
            System.out.print("enter a valid SSN without spaces or dashes.");
            tempSSN= scan.nextLine();
        }
        return tempSSN;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:35:53.893

如果你可以在没有异常处理的情况下做到这一点，那么你就没有明显的理由为什么要使用`try-catch`块。但是如果你想抛出一个异常，则不必使用 try-catch 块。您可以使用`throw`.

```
 if(something) {
        throw new SomeAppropriateException("Something is wrong");
    } 
```

`catch`如果要捕获异常并记录任何错误或消息并继续执行，则可以使用块。或者当您想抛出其他有意义的异常时捕获异常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:40:27.210

我会将字符导入到字符数组中，然后使用循环检查每个字符是否存在要为其抛出异常的字符类型。

下面的一些 sudo 代码：

```
private String getSSN(){
    String tempSSN = scan.nextLine();

    try {
    char a[] = tempSSN.toCharArray();

    for (int i = 0; i < a.length(); i++) {
        if(a[i] != ^numbers 0 - 9^) {      //sudo code here. I assume you want numbers only.
           throw new exceptionHere("error message");   // use this to aviod using a catch. Rest of code in block will not run if exception is thrown.
    }

    catch (exceptionHere) {      // runs if exception found in try block
        System.out.print("enter a valid SSN without spaces or dashes.");
        tempSSN= scan.nextLine();
    }
    return tempSSN;
} 
```

我还会考虑在长度不是 9 个字符的数组上运行 if 。我假设您正在尝试捕获始终为 9 个字符的 ssn。

```
if (a.length != 9) {
   throw ....
} 
```

您可以在没有 try/catch 的情况下执行此操作。如果他们第二次输入无效的 ssn，上述内容将中断。

```
 private String getSSN(){
    String tempSSN = scan.nextLine();

    char a[] = tempSSN.toCharArray();
    boolean marker;

    for (int i = 0; i < a.length(); i++) {
        if(a[i] != ^numbers 0 - 9^) {      //sudo code here. I assume you want numbers only.
           boolean marker = false;
    }

    while (marker == false) {
        System.out.print("enter a valid SSN without spaces or dashes.");
        tempSSN = scan.nextLine();
        for (int i = 0; i < a.length(); i++) {
              if(a[i] != ^numbers 0 - 9^) {      //sudo code here. I assume you want numbers only.
                  marker = false;
              else 
                  marker = true;
    }
    }
    return tempSSN;
} 
```

您可以选择以某种方式使用 contains 方法，我确信。

```
boolean marker = tempSSN.contains(i.toString());  // put this in the for loop and loop so long as i < 10; this will go 0 - 9 and check them all. 
```

# java - 将 JSP 与 OSGi 一起使用时无法启动片段包

> ID：14392980
> 
> 赞同：1
> 
> 时间：2013-01-18T05:33:59.387
> 
> 标签：java, jsp, osgi, bundle, fragment

因此，我正在尝试使用 JSP 和 JSTL 来构建 UI 以与 OSGi 环境一起使用。我已经添加了 JSTL 工作所需的包：-

*   [com.springsource.javax.servlet.jsp.jstl_1.2.0.v20110728](http://ebr.springsource.com/repository/app/bundle/version/detail?name=com.springsource.javax.servlet.jsp.jstl&version=1.2.0.v20110728&searchType=bundlesBySymbolicName&searchQuery=JSTL)

我还在环境中添加了所有必需的捆绑包。最后，解决了以下依赖项，我最终添加了太多捆绑包，但我被困在某一点上。

我的一个捆绑包（我认为这是一个片段）还没有开始，它的依赖关系也没有得到解决。我得到的*例外*是： -

```
org.osgi.framework.BundleException: A fragment bundle cannot be started: com.springsource.org.apache.jasper_7.0.26 [107] 
```

在这个例外之后，我还有一个例外：-

```
org.osgi.framework.BundleException: The bundle "org.eclipse.equinox.jsp.jasper_1.0.0.v20070607 [117]" could not be resolved. Reason: Missing Constraint: Import-Package: org.apache.jasper.servlet; version="0.0.0" 
```

我已经安装了以下捆绑包列表，其中一些不是`Active`：-

```
id  State       Bundle
0   ACTIVE      org.eclipse.osgi_3.7.1.R37x_v20110808-1106
6   ACTIVE      org.eclipse.persistence.core_2.3.2.v20111125-r10461
10  ACTIVE      javax.persistence_2.0.3.v201010191057
12  ACTIVE      org.eclipse.persistence.antlr_2.3.2.v20111125-r10461
15  ACTIVE      org.eclipse.persistence.jpa.jpql_2.0.1.v20121003-ad44345
16  ACTIVE      org.eclipse.persistence.asm_2.3.2.v20111125-r10461
21  ACTIVE      org.eclipse.persistence.jpa_2.3.2.v20111125-r10461
25  ACTIVE      StockControlSystem_0.0.1
28  ACTIVE      javax.annotation_1.1.0.v201105051105
32  ACTIVE      org.springframework.core_3.0.5.RELEASE
33  ACTIVE      org.springframework.aop_3.0.5.RELEASE
34  ACTIVE      com.scs.request_1.0.0.qualifier
35  ACTIVE      org.eclipse.virgo.util.common_3.0.1.RELEASE
37  ACTIVE      com.scs.order_1.0.0.qualifier
38  ACTIVE      org.springframework.osgi.io_1.2.1
41  ACTIVE      mysql.jdbc_1.0.0
45  ACTIVE      com.springsource.org.apache.tomcat.api_7.0.26
47  ACTIVE      org.springframework.osgi.core_1.2.1
48  ACTIVE      com.springsource.org.apache.commons.logging_1.1.1
49  ACTIVE      com.springsource.org.eclipse.jdt.core.compiler.batch_3.6.1
53  ACTIVE      com.scs.persistence_1.0.0.qualifier
55  ACTIVE      com.scs.stockdetails_1.0.0.qualifier
58  ACTIVE      com.scs.delivery_1.0.0.qualifier
59  ACTIVE      org.springframework.beans_3.0.5.RELEASE
60  ACTIVE      org.springframework.context_3.0.5.RELEASE
66  ACTIVE      joda.time_1.0.0
67  ACTIVE      com.springsource.org.aopalliance_1.0.0
71  ACTIVE      javax.servlet_3.0.0.v201103241009
72  ACTIVE      com.springsource.org.apache.xmlcommons_1.3.4
73  ACTIVE      javax.el_2.2.0.v201105051105
74  ACTIVE      javax.servlet.jsp_2.2.0.v201103241009
75  ACTIVE      com.springsource.javax.servlet.jsp.jstl_1.2.0.v20110728
76  ACTIVE      org.eclipse.osgi.services_3.3.0.v20110513
78  ACTIVE      com.springsource.javax.xml.soap_1.3.0
80  RESOLVED    com.springsource.org.apache.coyote_7.0.26
                Master=83
81  ACTIVE      com.springsource.javax.activation_1.1.1
82  ACTIVE      com.springsource.javax.mail_1.4.0
83  ACTIVE      com.springsource.org.apache.catalina_7.0.26
                Fragments=80, 88, 95, 97
84  ACTIVE      com.springsource.javax.persistence_1.0.0
88  RESOLVED    com.springsource.org.apache.catalina.ha_7.0.26
                Master=83
92  ACTIVE      org.eclipse.virgo.util.parser.manifest_3.0.1.RELEASE
93  ACTIVE      com.springsource.org.apache.juli.extras_7.0.26
95  RESOLVED    com.springsource.org.apache.catalina.tribes_7.0.26
                Master=83
97  RESOLVED    com.springsource.org.apache.tomcat.util_7.0.26
                Master=83
100 ACTIVE      com.springsource.javax.ejb_3.0.0
101 ACTIVE      com.springsource.javax.xml.rpc_1.1.0.v20110517
102 ACTIVE      org.eclipse.equinox.util_1.0.300.v20110502
103 ACTIVE      org.eclipse.equinox.ds_1.3.0.v20110502
104 ACTIVE      com.springsource.slf4j.api_1.6.1
                Fragments=113
105 ACTIVE      org.eclipse.virgo.util.math_3.0.1.RELEASE
106 ACTIVE      org.eclipse.virgo.util.io_3.0.1.RELEASE
107 INSTALLED   com.springsource.org.apache.jasper_7.0.26
108 ACTIVE      com.springsource.javax.transaction_1.1.0
109 ACTIVE      org.eclipse.virgo.util.osgi_3.0.1.RELEASE
110 ACTIVE      org.eclipse.gemini.web.tomcat_2.0.2.RELEASE
111 ACTIVE      org.eclipse.gemini.web.core_2.0.2.RELEASE
112 ACTIVE      com.springsource.javax.xml.bind_2.1.7
113 RESOLVED    com.springsource.slf4j.nop_1.6.1
                Master=104
114 ACTIVE      com.springsource.javax.xml.stream_1.0.1
115 ACTIVE      org.eclipse.gemini.web.extender_2.0.2.RELEASE
116 ACTIVE      com.springsource.org.apache.el_7.0.26
117 INSTALLED   org.eclipse.equinox.jsp.jasper_1.0.0.v20070607 
```

所以，你可以看到，`Bundle 107`-`com.springsource.org.apache.jasper_7.0.26`处于安装状态，我认为它包含捆绑`Missing-Import`包的`equinox.jsp.jasper`包 -`Bundle 117`

经过一番研究，我发现，我需要添加更多的包： -

*   `catalina.osgi (5.5.23-SNAPSHOT)`
*   `jasper.osgi (5.5.23-SNAPSHOT)`
*   `com.springsource.org.apache.taglibs.standard (1.1.2)`

其中，我找到了第三个捆绑包，但我找不到前两个捆绑包。

任何人都可以看到发生了什么。我在某个地方做错了吗？还是我错过了添加一些捆绑包？从过去 2 天开始，我一直被困在这个问题上，我认为，我绝不会解决这个问题。

我认为可能很重要的另一件事是，当我尝试启动我的`Web APP`捆绑包时，我收到了这些警告 - `Bundle 25`: -

```
Jan 18, 2013 11:06:30 AM org.apache.catalina.startup.DigesterFactory register
WARNING: Could not get url for /javax/servlet/resources/j2ee_1_4.xsd
Jan 18, 2013 11:06:30 AM org.apache.catalina.startup.DigesterFactory register
WARNING: Could not get url for /javax/servlet/resources/javaee_5.xsd
Jan 18, 2013 11:06:30 AM org.apache.catalina.startup.DigesterFactory register
WARNING: Could not get url for /javax/servlet/resources/javaee_6.xsd
Jan 18, 2013 11:06:30 AM org.apache.catalina.startup.DigesterFactory register
WARNING: Could not get url for /javax/servlet/resources/xml.xsd
Jan 18, 2013 11:06:30 AM org.apache.catalina.startup.DigesterFactory register
WARNING: Could not get url for /javax/servlet/resources/XMLSchema.dtd 
```

还有一些类似这样的警告，但我已经跳过它们，因为太多了。

我已经添加了我认为需要的尽可能多的信息。但是，如果您需要更多信息，请同样询问。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T02:29:16.730

首先，片段永远无法启动，因为它们没有自己的生命周期。所以这并不是真正的错误；你只是不应该尝试开始一个片段。

其次，看起来 bundle 117 确实失败了，因为缺少 package 的导入`org.apache.jasper.servlet`，并且这个包可能来自无法解析的片段 107。因此，挑战在于找出 107 无法解决的原因。你可以通过输入命令来获得这方面的线索`diag 107`；这将打印片段的未满足导入列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T09:19:52.137

这对您来说可能不愉快，但是如果您使用 Pax-Web 而不是 Gemini，它将立即与 jsp 一起使用。

Pax-Web 可以在[http://www.google.de/url?sa=t&rct=j&q=pax%20web&source=web&cd=1&cad=rja&ved=0CDcQFjAA&url=http%3A%2F%2Fteam.ops4j.org%2Fwiki找到%2Fdisplay%2Fpaxweb%2FPax%2BWeb&ei=-WT6UITsL4mItQbw_IGICA&usg=AFQjCNFWWNAvM4nxEqoqVnlL14P3gt2aLw&sig2=Q7fVwc6mjMN68ErFbhTDEA&bvm=bv.41248874,d.Yms](http://www.google.de/url?sa=t&rct=j&q=pax%20web&source=web&cd=1&cad=rja&ved=0CDcQFjAA&url=http%3A%2F%2Fteam.ops4j.org%2Fwiki%2Fdisplay%2Fpaxweb%2FPax%2BWeb&ei=-WT6UITsL4mItQbw_IGICA&usg=AFQjCNFWWNAvM4nxEqoqVnlL14P3gt2aLw&sig2=Q7fVwc6mjMN68ErFbhTDEA&bvm=bv.41248874,d.Yms)

在我看来，就像您正在构建一个完整的容器。曾经考虑过使用 Apache Karaf 或 Eclipse Virgo 吗？Karaf 也有一个最小的集合，只包含基础知识。

# javascript - 无法使用 webdriver 选择下拉列表

> ID：14392990
> 
> 赞同：0
> 
> 时间：2013-01-18T05:34:55.957
> 
> 标签：javascript, html, drop-down-menu, webdriver, selenium-webdriver

我在用着`http://www.makemytrip.com/`

以下是**Html 代码**。

```
<div class="mrgnBot30 clearFix">
<span class="watch_icn flL"></span>
<div class="widget_inner clearFix suggest_me padBot15 flL">
<h3 class="clearFix hasBorderBottom">
<p class="clearFix checkDates">
<span class="check_date flL">
<label for="checkInDate">
Check-in Date:&nbsp;
<span id="checkInDate_day" class="dayLight">(Monday)</span>
</label>
<a id="checkInDateControl" class="cal_icn flL" href="#" tabindex="201"></a>
<input id="checkInDate" class="day flL hasDatepicker" type="text"  autocomplete="false"     value="01/21/2013"     name="searchCriteria.criterion.stayDateRanges[0].start" style="display: none;">
<span class="day date flL">
<select class="selectBox" tabindex="202" style="display: none;">
<span class="left_part flL"></span>
<span class="selectBox center_part flL selectBox-dropdown" style="display: inline-block; -moz-user-select: none;" title="" tabindex="202">
<span class="selectBox-label">21</span>
<span class="selectBox-arrow controls flR">
<a class="select_drop_icon flR" onclick="return false;" href="#"></a>
</span>
</span>
<span class="right_part flL"></span>
</span>
<span class="day month flL">
<select class="selectBox" tabindex="203" style="display: none;">
<span class="left_part flL"></span>
<span class="selectBox center_part flL selectBox-dropdown" style="display: inline-block; -moz-user-select: none;" title="" tabindex="203">
<span class="selectBox-label">Jan,13</span>
<span class="selectBox-arrow controls flR">
<a class="select_drop_icon flR" onclick="return false;" href="#"></a>
</span>
</span>
<span class="right_part flL"></span>
</span>
</span>
<span class="check_date last flL">
<span id="nights" class="nights flL">2 Night(s)</span>
</p>
</div>
</div> 
```

在这里，我有一个下拉列表来选择 a`Check in date`和`Check out date`。坦率地说，我不知道如何从代码中选择下拉列表的值。此外，我不确定天气是否是下拉菜单。为什么我说的意思是在 selenium IDE 中记录时它记录为`click`从下拉列表中选择值的事件。

我尝试`select`声明通过使用捕获 xpath 值从下拉列表中选择一个值`firebug`。

**使用的代码**：

```
 driver.get("http://www.makemytrip.com/");
 driver.findElement(By.xpath("//li[4]/a/span/span")).click();
    Select sel = new Select(driver.findElement(By
            .xpath("//div[2]/div/p/span/span/span[2]")));
    try {
        sel.selectByValue("21");
    } catch (Exception e) {
        e.printStackTrace();
    } 
```

没有任何效果。下面是录制后从 selenium IDE 转换的代码。

**塞勒内斯代码：**

```
driver.get("http://www.makemytrip.com/");
driver.findElement(By.xpath("//div[@id='chf_navigation']/ul/li[4]/a/span/span")).click();
assertEquals("I want to go to", driver.findElement(By.cssSelector("label")).getText());
assertEquals("Online Hotel Booking for Cheap, Budget & Luxury Hotels in India | MakeMyTrip.com", driver.getTitle());
driver.findElement(By.xpath("(//a[@onclick='return false;'])[2]")).click();
driver.findElement(By.xpath("(//a[@onclick='return false;'])[3]")).click();
driver.findElement(By.xpath("(//a[@onclick='return false;'])[4]")).click();
driver.findElement(By.cssSelector("li.selectBox-hover.selectBox-selected > a")).click();
driver.findElement(By.xpath("(//a[@onclick='return false;'])[5]")).click(); 
```

查看下拉菜单的步骤：

1.  打开[http://www.makemytrip.com/](http://www.makemytrip.com/)
2.  点击酒店链接
3.  你可以看到`Check in Date`下拉菜单。

请提供有用的建议来解决问题。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T13:32:41.330

签入日期选择 ID 是`b_checkin_day`&& `b_checkin_month`。以下是如何选择它们

```
//select the check-in date <select> element
Element el = driver.findElement(By.id('b_checkin_day'));
Select sel = new Select(el)
// go on with selection 
```

签出选择ID是：`b_checkout_day`&&`b_checkout_month`

那是针对美国版的。印度版本绝对不是一个选择，但不对应于您的 html

编辑：发现你在谈论阿联酋网站。

对于日期选择，您应该选择：

```
Element el = driver.findElement(By.xpath("//input[@id='checkInDate']/following-sibling::span[contains(@class,'date')]/select")) 
```

xpaths 分别用于月份签入、日结帐和月结帐

```
"//input[@id='checkInDate']/following-sibling::span[contains(@class,'month')]/select"
"//input[@id='checkOutDate']/following-sibling::span[contains(@class,'day')]/select"
"//input[@id='checkOutDate']/following-sibling::span[contains(@class,'month')]/select" 
```

您的第一个解决方案是使用这些 xpath 来选择正确的值

您还可以更简单地检查用于填写表格的输入中的正确日期，即将正确的日期设置为

```
<input id="checkInDate" class="day flL hasDatepicker" type="text"  autocomplete="false"     value="01/21/2013"     name="searchCriteria.criterion.stayDateRanges[0].start" style="display: none;"> 
```

应该做的伎俩。（注意`value="01/21/2013"`）

编辑2：

您是否尝试过使用访问者使用的实际元素来做到这一点？首先，单击下拉箭头 ( `"//input[@id='checkInDate']/following-sibling::span[contains(@class,'date')]/"`)，它将使 javascript 日期选择器使用的选择可见。然后，您应该能够在单击时做出正确的选择： `//ul[contains(@class,'selectBox-dropdown') and contains(@style,'block')]//a[@rel="25"]`

如果 25 是你想要的那一天。`<ul>s/<li>s`用于进行选择的位于页面底部。查看它们，您会找到正确的 xpath

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T11:55:27.327

您已经提供了 html 代码，但您没有向我们提供您编写的代码，请提供您为此程序编写的代码，并让我们知道显示的错误消息或异常。

# jquery - JQuery .get 在函数中返回数据

> ID：14392991
> 
> 赞同：1
> 
> 时间：2013-01-18T05:35:06.577
> 
> 标签：jquery

> **可能重复：**
> [如何从函数的 AJAX 调用返回响应？](https://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-ajax-call-from-a-function)

试图将数据返回给调用 .get 函数的 var pNow。

```
/* set var to server side script */
var pNow = getStime();

function getStime() {
$.get('servertime.asp', function (data) {
  return data;
  //alert(data); 
});
} 
```

alert(data) 确认数据有效并且来自服务器端脚本，但没有返回到调用它的 var。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:37:54.420

的第二个参数中的回调函数`$.get`是一个异步调用，将在`getStime`函数完成执行后触发。您可以使用[deferred.done](http://api.jquery.com/deferred.done/)来获取下面给出的值。

```
var pNow;
getStime().done(function(data) { pNow = data; });
alert("Use pNow here" + pNow);
function getStime() {
   return $.get('servertime.asp');
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:41:03.757

你可以做这样的事情。

```
/* set var to server side script */
var pNow = getStime();

function getStime() {
  var newData = null;
  $.get('servertime.asp', function (data) {
     newData = data;
    //alert(data); 
  }).complete(function() {
     return newData;
  });

} 
```

# c# - button_Click(button, EventArgs.Empty);

> ID：14392993
> 
> 赞同：0
> 
> 时间：2013-01-18T05:35:12.677
> 
> 标签：c#, button, click

当我放这个时它不起作用：

```
if(label.text != " ")
{
    btn_Click(btn, EventArgs.Empty);
}

private void btn_Click(obeject sender, EventArgs e)
{
    do something//
} 
```

按钮单击功能不起作用

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:36:28.230

如果您可以**将事件中的代码提取到单独的方法**中，然后调用该方法，而不是引发事件，那就更好了。

```
private void btn_Click(obeject sender, EventArgs e)
{
  ExtractedMethod();
}

private void ExtractedMethod()
{
// do something
}

if(label.text != " ")
{
ExtractedMethod();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:41:38.010

我想你的意思不是

```
label.Text != " "
               ^-------------- space 
```

尝试这个：

```
if(label.Text != string.Empty())
{
   .....
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-06-02T11:24:25.013

尝试这个：

```
if (label.text != " ")
{
    btn_Click(this, EventArgs.Empty);
}

private void btn_Click(obeject sender, EventArgs e)
{
    //do something//
} 
```

# powershell - 不在域中部署 - psexec.exe 或 powershell 远程处理

> ID：14392996
> 
> 赞同：1
> 
> 时间：2013-01-18T05:35:27.817
> 
> 标签：powershell, deployment, powershell-remoting, psexec

我正在研究 Web 应用程序的自动部署过程。部署将需要：

*   使用 sqlpackage.exe 将数据库更改部署到数据库
*   使用 Web 服务将报告服务报告部署到报告服务器
*   将 Web 应用程序部署到 Web 服务器
*   为报告部署字体
*   除其他事项外

前两个从 Web 服务器运行起来相当简单，因为 Web 服务和数据库是可联系的，并且部署工具通过网络运行。

从阅读看来，powershell 远程处理应该是要走的路，在内部这不会是一个问题。但是，当部署到生产环境时，这将在数据中心中执行，其中机器（2web、1db）根本不在域中。我想提出一个通用流程，可以通过适当的配置在内部和外部运行。Powershell 远程处理，机器不在域中，似乎需要使用 https 等进行相当多的配置，因为 NT 凭据无法验证。

我应该争取配置powershell远程处理，还是将其配置为仅使用psexec直接在远程机器上执行powershell脚本，将部署工件复制到远程机器上的放置文件夹是最好的方法？

psexec 似乎“正常工作”。看来powershell远程处理带来了更多的痛苦。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T00:36:58.190

那为什么不使用 psexec 呢？您可以将它的角色限制为只是让您进入远程计算机，而不是让它感染您的脚本。我没有尝试让 ps 远程处理在非域上工作，但总的来说，我发现它需要付出相当大的努力才能开始。正如您所说，Psexec 通常可以更简单。

请原谅兜售，但我帮助构建的名为 PowerUp 的开源框架基本上为您完成了所有这些工作。它使用一种模型，其中 powershell（以及 psake）脚本可以通过调用特定函数将执行转移到另一台机器上。这可以通过 powershell 远程处理或 psexec 来完成 - 您不需要更改脚本，它只需要每个环境的设置来说明您想使用哪个。

[在https://github.com/AffinityID/PowerUpSamples/tree/master/SimpleWebsite](https://github.com/AffinityID/PowerUpSamples/tree/master/SimpleWebsite)检查其他示例。

希望这足以向您展示，但如果不让我知道，我们可以更详细地介绍。

# linux - 在两个文件之间创建硬链接

> ID：14392999
> 
> 赞同：1
> 
> 时间：2013-01-18T05:35:45.733
> 
> 标签：linux

如果我知道 file1 和 file2 是相同的（它们是重复的），无论如何我可以用指向 file1 的硬链接替换 ​​file2 吗？我试着用

```
ln file2 file1 
```

它是否正确？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:38:29.800

`ln -f file2 file1`

> ```
>  -f, --force
>           remove existing destination files 
> ```